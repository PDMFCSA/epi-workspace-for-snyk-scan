const a93_0x218a07=a93_0x265e;(function(_0x393931,_0x55040d){const _0x395fdb=a93_0x265e,_0x5793a9=_0x393931();while(!![]){try{const _0x3ffe26=parseInt(_0x395fdb(0x163))/0x1*(-parseInt(_0x395fdb(0x1cb))/0x2)+parseInt(_0x395fdb(0x17c))/0x3+parseInt(_0x395fdb(0x175))/0x4+parseInt(_0x395fdb(0x1ae))/0x5*(-parseInt(_0x395fdb(0x177))/0x6)+parseInt(_0x395fdb(0x19c))/0x7*(-parseInt(_0x395fdb(0x16f))/0x8)+-parseInt(_0x395fdb(0x19a))/0x9*(-parseInt(_0x395fdb(0x170))/0xa)+parseInt(_0x395fdb(0x19d))/0xb;if(_0x3ffe26===_0x55040d)break;else _0x5793a9['push'](_0x5793a9['shift']());}catch(_0xd202fb){_0x5793a9['push'](_0x5793a9['shift']());}}}(a93_0x17fb,0xb1919));const os=require('os'),util=require(a93_0x218a07(0x178)),{getProductMap}=require(a93_0x218a07(0x1b3)),logger=require('./logger')[a93_0x218a07(0x187)],constants=require('../bin/utils/constants'),testHubConstants=require(a93_0x218a07(0x1b1)),{getTransformPath}=require(a93_0x218a07(0x186)),{FUNNEL_INSTRUMENTATION_API_URL}=require(a93_0x218a07(0x1d5)),{generateCIArtifacts,printNudgeLocalNotSetError}=require('./helper'),PerformanceTester=require('./performance/performance-tester'),globals=require('./globals'),{isTurboScaleSession}=require(a93_0x218a07(0x1c1)),helper=require('./helper'),{isTestObservabilitySession}=require('./test-observability/utils');let unhandledErrors='';function a93_0x265e(_0x13627e,_0x10707d){const _0x17fbaa=a93_0x17fb();return a93_0x265e=function(_0x265e44,_0x27de44){_0x265e44=_0x265e44-0x160;let _0x2e89ed=_0x17fbaa[_0x265e44];return _0x2e89ed;},a93_0x265e(_0x13627e,_0x10707d);}exports[a93_0x218a07(0x1d3)]=async(_0x1d855b,_0x3cafdf={},_0x239dae,_0x499960)=>{const _0x40da54=a93_0x218a07,_0x4c5402={'hrdtU':function(_0x4cc069,_0x1fb1e8){return _0x4cc069===_0x1fb1e8;},'arcpC':_0x40da54(0x160),'QoyeO':function(_0x13874c,_0x4f4302){return _0x13874c>_0x4f4302;},'glfOo':_0x40da54(0x1d6),'qDxkl':function(_0x387174){return _0x387174();},'wHpsH':function(_0x562c58){return _0x562c58();},'qHUKe':function(_0x4e8f94,_0x894a70){return _0x4e8f94==_0x894a70;},'KJadL':_0x40da54(0x1b5),'YQkyl':_0x40da54(0x1ce),'SXsgx':function(_0x57ece0,_0x4f011a){return _0x57ece0>_0x4f011a;},'ZzSZB':_0x40da54(0x194),'oFoJV':function(_0x4e3f4b,_0x1118ca){return _0x4e3f4b>_0x1118ca;},'KdTqX':function(_0x5478a1,_0x5cd7f6){return _0x5478a1!==_0x5cd7f6;},'UpWCr':'Playwright','NdkwV':_0x40da54(0x18d),'ORZUJ':function(_0x94ed94,_0x23cdbd){return _0x94ed94>_0x23cdbd;},'LzpUt':function(_0x180f17,_0x199ac5){return _0x180f17+_0x199ac5;},'XImhG':_0x40da54(0x190),'flqYx':_0x40da54(0x1d2),'XluAt':function(_0x311b5b,_0x15363b){return _0x311b5b(_0x15363b);},'SnNvP':function(_0x3e1f8d,_0x26dd2c){return _0x3e1f8d(_0x26dd2c);},'VAQrS':_0x40da54(0x1c8),'xUPgy':_0x40da54(0x168),'ojJXp':_0x40da54(0x16e),'CPjBT':function(_0xfb8e94,_0x21610e){return _0xfb8e94===_0x21610e;},'LGFIY':function(_0x3f007a){return _0x3f007a();},'SZwis':'selenium-webdriver','vbFEP':'application/json','zMPAL':'[REDACTED]','uplzt':'POST'};let _0x5ac7f7=[];if(helper['isBrowserstackInfra']()&&_0x4c5402['qDxkl'](isTestObservabilitySession))_0x5ac7f7=_0x239dae[_0x40da54(0x1bc)]?constants[_0x40da54(0x17b)]:constants['AUTOMATE_PRODUCTS'];else{if(_0x4c5402['wHpsH'](isTestObservabilitySession))_0x5ac7f7=constants[_0x40da54(0x1a1)];else helper[_0x40da54(0x19e)]()&&(_0x5ac7f7=_0x239dae[_0x40da54(0x1bc)]?constants['APP_AUTOMATE']:constants['AUTOMATE']);}let _0x332910=_0x239dae[_0x40da54(0x18c)];if(_0x4c5402['qHUKe'](_0x332910,null))_0x332910=_0x4c5402['KJadL'];else _0x4c5402['hrdtU'](_0x332910,undefined)&&(_0x332910=_0x4c5402['YQkyl']);unhandledErrors&&_0x4c5402[_0x40da54(0x1bb)](unhandledErrors[_0x40da54(0x18f)],0x0)&&(_0x3cafdf[_0x40da54(0x188)]=unhandledErrors);global['sdkRunID']&&(_0x3cafdf[_0x40da54(0x197)]=global['sdkRunID']);try{if(_0x3cafdf['error']){if(_0x4c5402[_0x40da54(0x191)](_0x499960,_0x4c5402[_0x40da54(0x1bf)])&&_0x4c5402[_0x40da54(0x164)](_0x3cafdf[_0x40da54(0x18d)][_0x40da54(0x18f)],0x0)){const _0x564259={};_0x564259['os']='',_0x564259[_0x40da54(0x171)]='',_0x564259[_0x40da54(0x1ba)]='',_0x564259[_0x40da54(0x17a)]='';const _0x5d672e=_0x564259;let _0x1c612e={};const _0x1def4b=_0x3cafdf['error'];_0x1c612e=_0x1def4b['reduce']((_0x3c77fe,_0x405644)=>{for(const _0x1fdc3c in _0x405644){_0x3c77fe[_0x1fdc3c]=_0x405644[_0x1fdc3c];}return _0x3c77fe;},{});const _0x53c1da={};_0x53c1da[_0x40da54(0x1d6)]=_0x1c612e,_0x3cafdf['error']=[Object['assign']({},_0x5d672e,_0x53c1da)];}else{let _0x202482=0x0;const _0xdcc34e=_0x4c5402[_0x40da54(0x18b)](_0x499960,_0x4c5402['UpWCr'])?JSON['parse'](_0x3cafdf['error']):_0x3cafdf['error'],_0x32c231=Object[_0x40da54(0x1c6)](_0xdcc34e);_0x32c231[_0x40da54(0x162)](_0x1428ca=>{const _0x27bdb9=_0x40da54;if(_0x4c5402[_0x27bdb9(0x191)](typeof _0x1428ca,_0x4c5402[_0x27bdb9(0x184)])){const _0xd05b1f=Object[_0x27bdb9(0x1c6)](_0x1428ca);!_0xd05b1f[_0x27bdb9(0x1d4)](_0x2994df=>_0x2994df===null||_0x2994df===undefined||_0x2994df==='')&&(_0x202482+=0x1);}});if(_0x4c5402[_0x40da54(0x191)](_0x202482,0x0))delete _0x3cafdf[_0x4c5402[_0x40da54(0x17d)]];else{const _0x29959a=[];Object[_0x40da54(0x192)](_0xdcc34e)[_0x40da54(0x162)](_0x5cdd21=>{const _0x8009cb=_0x40da54,[_0x30e89d,_0x59bd6b,_0x4f068e,_0x40e2e6]=_0x5cdd21[_0x8009cb(0x179)](',\x20');let _0x267e77={};if(!_0x40e2e6){const _0x4c8b7a={};_0x4c8b7a[_0x8009cb(0x176)]=_0x30e89d,_0x4c8b7a[_0x8009cb(0x171)]=_0x59bd6b,_0x4c8b7a[_0x8009cb(0x1ba)]=_0x4f068e,_0x267e77=_0x4c8b7a;}else{const _0x159ccf={};_0x159ccf['os']=_0x30e89d,_0x159ccf['osVersion']=_0x59bd6b,_0x159ccf[_0x8009cb(0x1ba)]=_0x4f068e,_0x159ccf['browserVersion']=_0x40e2e6,_0x267e77=_0x159ccf;}const _0x2e596f={},_0x4a5c2d=_0xdcc34e[_0x5cdd21];Object[_0x8009cb(0x192)](_0x4a5c2d)[_0x8009cb(0x162)](_0x171145=>{const _0x5a123e=_0x8009cb;_0x4c5402['QoyeO'](_0x4a5c2d[_0x171145][_0x5a123e(0x18f)],0x0)&&(_0x2e596f[_0x171145]=_0x4a5c2d[_0x171145]);}),_0x4c5402[_0x8009cb(0x1c5)](Object['keys'](_0x2e596f)[_0x8009cb(0x18f)],0x0)&&(_0x267e77[_0x4c5402[_0x8009cb(0x183)]]=_0x2e596f,_0x29959a[_0x8009cb(0x1a9)](_0x267e77));}),_0x4c5402[_0x40da54(0x1b8)](_0x29959a[_0x40da54(0x18f)],0x0)?_0x3cafdf[_0x40da54(0x18d)]=_0x29959a:delete _0x3cafdf[_0x4c5402[_0x40da54(0x17d)]];}}}}catch(_0x4f0d82){delete _0x3cafdf[_0x4c5402[_0x40da54(0x17d)]],logger[_0x40da54(0x16c)](_0x4c5402['LzpUt'](_0x4c5402[_0x40da54(0x18e)],_0x4f0d82));}const _0x350d85=helper[_0x40da54(0x1a6)](_0x239dae,_0x239dae[_0x40da54(0x198)]),_0x3ebe5d={'userName':helper[_0x40da54(0x1a4)](_0x239dae),'accessKey':helper[_0x40da54(0x172)](_0x239dae),'event_type':_0x1d855b,'detectedFramework':_0x499960,'buildHashedId':globals[_0x40da54(0x193)](_0x4c5402[_0x40da54(0x1b2)]),'optimalHubUrl':helper['getOptimalHubUrl'](),'event_properties':{'testhub_uuid':process[_0x40da54(0x165)][testHubConstants[_0x40da54(0x173)][_0x40da54(0x161)]]||'','sdkRunId':global['sdkRunID'],'product_map':_0x4c5402[_0x40da54(0x180)](getProductMap,_0x239dae),'productMap':_0x4c5402[_0x40da54(0x181)](getProductMap,_0x239dae),'language_framework':_0x239dae[_0x40da54(0x182)]||_0x4c5402['VAQrS'],'referrer':helper[_0x40da54(0x17e)](_0x499960),'framework':_0x239dae[_0x40da54(0x198)],'frameworkVersion':helper['getFrameworkVersion'](_0x499960),'automationFramework':_0x350d85[_0x40da54(0x199)],'automationFrameworkVersion':_0x350d85[_0x40da54(0x1ca)],'language':_0x4c5402['xUPgy'],'languageVersion':process[_0x40da54(0x1ca)],'product':_0x5ac7f7,'buildName':_0x239dae['buildName']||_0x4c5402[_0x40da54(0x1b7)],'buildIdentifier':_0x332910,'os':os[_0x40da54(0x1bd)]()||_0x4c5402['VAQrS'],'hostname':os[_0x40da54(0x1c2)]()||_0x4c5402[_0x40da54(0x1c0)],..._0x3cafdf}};try{_0x4c5402['hrdtU'](_0x1d855b,_0x4c5402[_0x40da54(0x1cf)])&&(_0x3ebe5d[_0x40da54(0x1d8)][_0x40da54(0x1b6)]=helper['sanitizeBrowserStackConfig'](_0x239dae)),_0x4c5402['CPjBT'](_0x499960,_0x4c5402['UpWCr'])?_0x3ebe5d['event_properties']['playwrightVersion']=helper['requirePWModule'][_0x40da54(0x18a)](null,_0x4c5402[_0x40da54(0x16b)](getTransformPath),!![]):_0x3ebe5d[_0x40da54(0x1d8)]['seleniumVersion']=helper[_0x40da54(0x1af)](_0x4c5402[_0x40da54(0x1ac)]);}catch(_0x57ff52){logger['debug']('Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20'+_0x57ff52);}const _0x43cfa4={};_0x43cfa4[_0x40da54(0x1d7)]=_0x4c5402[_0x40da54(0x169)];const _0x3f2f6c={'headers':_0x43cfa4,'body':_0x3ebe5d,'auth':{'user':helper[_0x40da54(0x1a4)](_0x239dae),'pass':helper['getAccessKey'](_0x239dae)},'json':!![]};logger['debug']('Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20'+JSON[_0x40da54(0x1cd)](_0x3f2f6c[_0x40da54(0x1be)])[_0x40da54(0x174)](new RegExp(helper[_0x40da54(0x1a4)](_0x239dae),'g'),_0x4c5402[_0x40da54(0x19b)])[_0x40da54(0x174)](new RegExp(helper[_0x40da54(0x172)](_0x239dae),'g'),_0x4c5402[_0x40da54(0x19b)]));try{const _0x40780f=await helper['nodeRequest'](_0x4c5402[_0x40da54(0x1c3)],constants[_0x40da54(0x1c7)],_0x3f2f6c,_0x239dae);logger[_0x40da54(0x16c)](_0x40da54(0x189)+_0x1d855b+_0x40da54(0x185)+util[_0x40da54(0x1cc)]('%j',_0x40780f));}catch(_0x5c3746){logger[_0x40da54(0x16c)](_0x40da54(0x16a)+FUNNEL_INSTRUMENTATION_API_URL+_0x40da54(0x1c4)+util[_0x40da54(0x1cc)](_0x5c3746));}},exports[a93_0x218a07(0x16d)]=async _0x34ae05=>{const _0x487661=a93_0x218a07,_0x5e826b={'CqZWY':function(_0x2a75d5){return _0x2a75d5();},'oMCCp':_0x487661(0x1d1),'TfaLr':'user_killed','SVyCr':function(_0x1861fa,_0x2cd41f){return _0x1861fa(_0x2cd41f);},'mNxMt':'SDKTestSuccessful','TsgPc':function(_0x23dd20,_0x5c5601,_0xf5e7a5){return _0x23dd20(_0x5c5601,_0xf5e7a5);},'eCOsD':function(_0x519adc,_0xfc27){return _0x519adc+_0xfc27;},'ygTuK':_0x487661(0x19f)};try{await _0x34ae05['stopPercy'](),_0x5e826b['CqZWY'](printNudgeLocalNotSetError);const _0x2209bf={};_0x2209bf[_0x487661(0x18d)]=_0x34ae05[_0x487661(0x1a8)]?_0x34ae05['errorMessage']:'{}';const _0x3e10c8=_0x2209bf,_0x11d302=Object[_0x487661(0x17f)]({},_0x3e10c8);!!_0x34ae05[_0x487661(0x167)]&&(_0x11d302[_0x5e826b[_0x487661(0x1da)]]={'reason':_0x5e826b['TfaLr'],'signal':_0x34ae05[_0x487661(0x167)]});unhandledErrors=_0x34ae05[_0x487661(0x1b0)][_0x487661(0x1a2)]('\x0a');let _0x5634e8,_0x563181,_0x35a2d4;_0x5e826b[_0x487661(0x1c9)](isTurboScaleSession,_0x34ae05[_0x487661(0x1ad)])?([_0x5634e8,_0x563181]=await helper[_0x487661(0x1b4)](_0x34ae05[_0x487661(0x1ad)]),[_0x35a2d4]=await Promise[_0x487661(0x1a0)]([helper[_0x487661(0x1d0)](_0x5634e8,_0x34ae05[_0x487661(0x1ad)]),exports[_0x487661(0x1d3)](_0x5e826b[_0x487661(0x166)],_0x11d302,_0x34ae05['config'],_0x34ae05[_0x487661(0x198)])])):([_0x5634e8,_0x563181]=await helper['getBuildLink'](_0x34ae05[_0x487661(0x1ad)]),[_0x35a2d4]=await Promise[_0x487661(0x1a0)]([helper[_0x487661(0x1d9)](_0x5634e8,_0x34ae05[_0x487661(0x1ad)]),exports[_0x487661(0x1d3)](_0x5e826b[_0x487661(0x166)],_0x11d302,_0x34ae05[_0x487661(0x1ad)],_0x34ae05[_0x487661(0x198)])])),_0x35a2d4&&await _0x5e826b[_0x487661(0x1a3)](generateCIArtifacts,_0x35a2d4,_0x563181),logger[_0x487661(0x196)](_0x487661(0x195)+_0x34ae05[_0x487661(0x1aa)]+_0x487661(0x1ab)+process[_0x487661(0x165)][_0x487661(0x161)]),await helper['sendLogs'](_0x34ae05[_0x487661(0x1ad)]);}catch(_0xb7455a){logger[_0x487661(0x16c)](_0x5e826b[_0x487661(0x1b9)](_0x5e826b[_0x487661(0x1a7)],_0xb7455a));}helper[_0x487661(0x1a5)]();};function a93_0x17fb(){const _0x84d2fa=['isBrowserstackInfra','Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20','all','PRODUCT_IF_NOT_BROWSERSTACK_INFRA','join','TsgPc','getUserName','notifyUpdate','getTestFrameworkDetails','ygTuK','errorMessage','push','sdkRunID',',\x20testhub\x20id:\x20','SZwis','config','205dPOiAs','getPackageVersion','unhandledErrors','../helpers/testhub/constants','flqYx','./testhub/utils','getTurboScaleBuildLink','null','browserStackConfig','YQkyl','ORZUJ','eCOsD','browser','SXsgx','app','type','body','ZzSZB','VAQrS','./ats/helper','hostname','uplzt','\x20:\x20','QoyeO','values','FUNNEL_INSTRUMENTATION_API_URL','unknown','SVyCr','version','307862zTSwzQ','format','stringify','undefined','ojJXp','getTurboScaleSessionsList','finishedMetadata','_buildHashedId','fireFunnelTestEvent','every','../bin/utils/constants','tests','content-type','event_properties','getSessionsList','oMCCp','object','BROWSERSTACK_TESTHUB_UUID','forEach','4hmxPwn','oFoJV','env','mNxMt','killSignal','nodejs','vbFEP','Error\x20in\x20firing\x20request\x20to\x20','LGFIY','debug','finalExecution','SDKTestSuccessful','2112696StKOCh','775490eQeBsU','osVersion','getAccessKey','ENV_VAR','replace','2263164ZqWkAN','deviceName','23538aUOvhQ','util','split','browserVersion','APP_AUTOMATE_PRODUCTS','1217841PpaGXg','NdkwV','getNodeAgent','assign','XluAt','SnNvP','source','glfOo','arcpC','\x20response\x20-\x20','../bin/playwright/reporter/pwUtils','winstonLogger','globalException','API\x20Event\x20','apply','KdTqX','buildIdentifier','error','XImhG','length','Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','hrdtU','keys','getGlobal','codeceptjs','SDK\x20run\x20ended\x20for\x20id:\x20','info','sdkRunId','framework','name','99fUxLSh','zMPAL','35ayuatR','10995006edfWMm'];a93_0x17fb=function(){return _0x84d2fa;};return a93_0x17fb();}