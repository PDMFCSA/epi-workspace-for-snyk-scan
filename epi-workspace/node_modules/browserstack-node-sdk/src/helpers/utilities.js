function a129_0x43d7(){const _0x1c3ef8=['2XFkNvT','NVgKQ','playwrightVersion','ffTxO','GWfmw','qQPwR','getUserName','isNullOrEmpty','getAccessKey','UhtBh','GtSjN','values','zlezF','event_properties','env','apply','keys','\x20:\x20','getBuildLink','WOMxc',',\x20testhub\x20id:\x20','browserStackConfig','stack','join','hostname','hclDn','PRODUCT_IF_NOT_BROWSERSTACK_INFRA','Error\x20in\x20firing\x20request\x20to\x20','error','type','content-type','info','ESQVE','errorMessage','debug','_buildHashedId','sendLogs','getStackTraceAsString','./test-observability/utils','JYKZa','body','./performance/performance-tester','setReadWriteAccess','CGaxw','undefined','browserVersion','396492mDvAqE','./globals','AZdcS','app','finishedMetadata','AUTOMATE_PRODUCTS','SDKTestSuccessful','replace','getOptimalHubUrl','BROWSERSTACK_TESTHUB_UUID','isWritable','getNodeAgent','prhAm','selenium-webdriver','globalException','Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20','291070ibSCWf','750940tQRRTM','stringify','reduce','notifyUpdate','NLXNC','deviceName','buildName','every','forEach','QAXFk','krUwS','util','ZMOIv','Yizlr','JqNvr','unknown','length','W_OK','./testhub/utils','Playwright','name','nodeRequest','98251aGOdri','getFrameworkVersion','lUSfI','fOolP','push','getGlobal','dZarL','fireFunnelTestEvent','cDtED','assign','tests','4rjZxEZ','5826537QNMjFO','187bgasPi','osVersion','application/json','HuOas','trim','getSessionsList','config','TKAwZ','unhandledErrors','sdkRunId','VPATz','ENV_VAR','requirePWModule','buildIdentifier','nodejs','PWgTc','chmodSync','format','killSignal','fGxvD','7220444IFjDtN','framework','finalExecution','BPaeh','browser','PyuER','hfRSG','API\x20Event\x20','seleniumVersion','winstonLogger','[REDACTED]','qHcoV','constants','source','ojZKg','toString','Directory\x20','8CuVNAf','gGFaQ','all','PHkeh','3017196KGeasb','AUTOMATE','APP_AUTOMATE_PRODUCTS','WhFlb','Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20','isBrowserstackInfra','codeceptjs'];a129_0x43d7=function(){return _0x1c3ef8;};return a129_0x43d7();}const a129_0x5a7ac1=a129_0x16bf;(function(_0x64ec63,_0x4cf42b){const _0x1ff62e=a129_0x16bf,_0xbec4a6=_0x64ec63();while(!![]){try{const _0x1a2364=parseInt(_0x1ff62e(0x1ef))/0x1*(-parseInt(_0x1ff62e(0x22c))/0x2)+parseInt(_0x1ff62e(0x25a))/0x3+parseInt(_0x1ff62e(0x1fa))/0x4*(-parseInt(_0x1ff62e(0x1d9))/0x5)+-parseInt(_0x1ff62e(0x225))/0x6+parseInt(_0x1ff62e(0x210))/0x7+parseInt(_0x1ff62e(0x221))/0x8*(parseInt(_0x1ff62e(0x1fb))/0x9)+-parseInt(_0x1ff62e(0x1d8))/0xa*(parseInt(_0x1ff62e(0x1fc))/0xb);if(_0x1a2364===_0x4cf42b)break;else _0xbec4a6['push'](_0xbec4a6['shift']());}catch(_0x221b51){_0xbec4a6['push'](_0xbec4a6['shift']());}}}(a129_0x43d7,0x89ebd));function a129_0x16bf(_0x53ca0e,_0x1d98b5){const _0x43d768=a129_0x43d7();return a129_0x16bf=function(_0x16bfe8,_0x54280c){_0x16bfe8=_0x16bfe8-0x1d6;let _0xa1e1d6=_0x43d768[_0x16bfe8];return _0xa1e1d6;},a129_0x16bf(_0x53ca0e,_0x1d98b5);}const os=require('os'),util=require(a129_0x5a7ac1(0x1e4)),fs=require('fs'),{getProductMap}=require(a129_0x5a7ac1(0x1eb)),logger=require('./logger')[a129_0x5a7ac1(0x219)],constants=require('../bin/utils/constants'),testHubConstants=require('../helpers/testhub/constants'),{getTransformPath}=require('../bin/playwright/reporter/pwUtils'),{FUNNEL_INSTRUMENTATION_API_URL}=require('../bin/utils/constants'),{generateCIArtifacts,printNudgeLocalNotSetError}=require('./helper'),PerformanceTester=require(a129_0x5a7ac1(0x255)),globals=require(a129_0x5a7ac1(0x25b)),helper=require('./helper'),{isTestObservabilitySession}=require(a129_0x5a7ac1(0x252));let unhandledErrors='';exports['fireFunnelTestEvent']=async(_0x9dc0f3,_0x594177={},_0x5da80f,_0x3abf9c)=>{const _0x38084f=a129_0x5a7ac1,_0x3b2fb1={'PHkeh':function(_0xefcbd1,_0x13ccb3){return _0xefcbd1===_0x13ccb3;},'JzeyU':'object','TKAwZ':function(_0x267683,_0x16b0e0){return _0x267683>_0x16b0e0;},'hclDn':function(_0x1b7fd2,_0x4180e6){return _0x1b7fd2>_0x4180e6;},'qHcoV':'tests','krUwS':function(_0x78ab3){return _0x78ab3();},'Yizlr':function(_0x168211,_0x584062){return _0x168211==_0x584062;},'OarMY':'null','PWgTc':function(_0x34aa33,_0x25fe42){return _0x34aa33===_0x25fe42;},'prhAm':_0x38084f(0x258),'cDtED':function(_0x2047db,_0x4ebbfd){return _0x2047db>_0x4ebbfd;},'ojZKg':_0x38084f(0x22b),'ffTxO':function(_0x507220,_0x4c5b77){return _0x507220>_0x4c5b77;},'GtSjN':function(_0x289b2f,_0x12ff66){return _0x289b2f!==_0x12ff66;},'VPATz':_0x38084f(0x1ec),'ESQVE':function(_0x3e3f88,_0x37a7d2){return _0x3e3f88===_0x37a7d2;},'PyuER':_0x38084f(0x248),'NLXNC':function(_0x25cdff,_0x3e0405){return _0x25cdff+_0x3e0405;},'fOolP':'Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','gGFaQ':_0x38084f(0x24f),'ziLxj':function(_0x46b409,_0x3cbadd){return _0x46b409(_0x3cbadd);},'hfRSG':function(_0xe41524,_0x285c12){return _0xe41524(_0x285c12);},'WhFlb':_0x38084f(0x1e8),'JYKZa':_0x38084f(0x20a),'fGxvD':function(_0x939041,_0x31533d){return _0x939041===_0x31533d;},'lUSfI':_0x38084f(0x260),'ZMOIv':function(_0x127be0,_0x471f8){return _0x127be0===_0x471f8;},'JqNvr':_0x38084f(0x267),'NVgKQ':_0x38084f(0x1fe),'UhtBh':_0x38084f(0x21a),'dZarL':'POST'};let _0x58ba4e=[];if(helper['isBrowserstackInfra']()&&_0x3b2fb1[_0x38084f(0x1e3)](isTestObservabilitySession))_0x58ba4e=_0x5da80f['app']?constants[_0x38084f(0x227)]:constants[_0x38084f(0x25f)];else{if(_0x3b2fb1[_0x38084f(0x1e3)](isTestObservabilitySession))_0x58ba4e=constants[_0x38084f(0x246)];else helper[_0x38084f(0x22a)]()&&(_0x58ba4e=_0x5da80f[_0x38084f(0x25d)]?constants['APP_AUTOMATE']:constants[_0x38084f(0x226)]);}let _0x29a988=_0x5da80f[_0x38084f(0x209)];if(_0x3b2fb1[_0x38084f(0x1e6)](_0x29a988,null))_0x29a988=_0x3b2fb1['OarMY'];else _0x3b2fb1[_0x38084f(0x20b)](_0x29a988,undefined)&&(_0x29a988=_0x3b2fb1['prhAm']);unhandledErrors&&_0x3b2fb1[_0x38084f(0x1f7)](unhandledErrors[_0x38084f(0x1e9)],0x0)&&(_0x594177[_0x38084f(0x1d6)]=unhandledErrors);global[_0x38084f(0x205)]&&(_0x594177[_0x38084f(0x205)]=global['sdkRunId']);try{if(_0x594177['error']){if(_0x3b2fb1[_0x38084f(0x224)](_0x3abf9c,_0x3b2fb1[_0x38084f(0x21e)])&&_0x3b2fb1[_0x38084f(0x22f)](_0x594177[_0x38084f(0x248)]['length'],0x0)){const _0x55f95b={};_0x55f95b['os']='',_0x55f95b[_0x38084f(0x1fd)]='',_0x55f95b[_0x38084f(0x214)]='',_0x55f95b[_0x38084f(0x259)]='';const _0x15c1ce=_0x55f95b;let _0x27d801={};const _0x5e9399=_0x594177[_0x38084f(0x248)];_0x27d801=_0x5e9399[_0x38084f(0x1db)]((_0x315daa,_0x422af5)=>{for(const _0x2293b7 in _0x422af5){_0x315daa[_0x2293b7]=_0x422af5[_0x2293b7];}return _0x315daa;},{});const _0x4ed3d1={};_0x4ed3d1[_0x38084f(0x1f9)]=_0x27d801,_0x594177[_0x38084f(0x248)]=[Object['assign']({},_0x15c1ce,_0x4ed3d1)];}else{let _0x391c76=0x0;const _0x430730=_0x3b2fb1[_0x38084f(0x236)](_0x3abf9c,_0x3b2fb1['VPATz'])?JSON['parse'](_0x594177[_0x38084f(0x248)]):_0x594177[_0x38084f(0x248)],_0x5e205a=Object['values'](_0x430730);_0x5e205a[_0x38084f(0x1e1)](_0x27cd96=>{const _0x28f40f=_0x38084f;if(_0x3b2fb1[_0x28f40f(0x224)](typeof _0x27cd96,_0x3b2fb1['JzeyU'])){const _0x3395e7=Object[_0x28f40f(0x237)](_0x27cd96);!_0x3395e7[_0x28f40f(0x1e0)](_0x8b8224=>_0x8b8224===null||_0x8b8224===undefined||_0x8b8224==='')&&(_0x391c76+=0x1);}});if(_0x3b2fb1[_0x38084f(0x24c)](_0x391c76,0x0))delete _0x594177[_0x3b2fb1[_0x38084f(0x215)]];else{const _0x194c70=[];Object['keys'](_0x430730)['forEach'](_0x22c32b=>{const _0x58a595=_0x38084f,[_0x1e002f,_0x59834f,_0xc5e26a,_0x107525]=_0x22c32b['split'](',\x20');let _0x52a7f0={};if(!_0x107525){const _0x3618a5={};_0x3618a5[_0x58a595(0x1de)]=_0x1e002f,_0x3618a5[_0x58a595(0x1fd)]=_0x59834f,_0x3618a5[_0x58a595(0x214)]=_0xc5e26a,_0x52a7f0=_0x3618a5;}else{const _0x340590={};_0x340590['os']=_0x1e002f,_0x340590[_0x58a595(0x1fd)]=_0x59834f,_0x340590['browser']=_0xc5e26a,_0x340590[_0x58a595(0x259)]=_0x107525,_0x52a7f0=_0x340590;}const _0x8e73de={},_0x9d4d37=_0x430730[_0x22c32b];Object[_0x58a595(0x23c)](_0x9d4d37)[_0x58a595(0x1e1)](_0x5f1552=>{const _0x4d95a5=_0x58a595;_0x3b2fb1[_0x4d95a5(0x203)](_0x9d4d37[_0x5f1552][_0x4d95a5(0x1e9)],0x0)&&(_0x8e73de[_0x5f1552]=_0x9d4d37[_0x5f1552]);}),_0x3b2fb1[_0x58a595(0x245)](Object[_0x58a595(0x23c)](_0x8e73de)[_0x58a595(0x1e9)],0x0)&&(_0x52a7f0[_0x3b2fb1[_0x58a595(0x21b)]]=_0x8e73de,_0x194c70[_0x58a595(0x1f3)](_0x52a7f0));}),_0x3b2fb1[_0x38084f(0x245)](_0x194c70['length'],0x0)?_0x594177[_0x38084f(0x248)]=_0x194c70:delete _0x594177[_0x3b2fb1[_0x38084f(0x215)]];}}}}catch(_0x56def0){delete _0x594177[_0x3b2fb1[_0x38084f(0x215)]],logger[_0x38084f(0x24e)](_0x3b2fb1[_0x38084f(0x1dd)](_0x3b2fb1[_0x38084f(0x1f2)],_0x56def0));}const _0x5ec9ac=helper['getTestFrameworkDetails'](_0x5da80f,_0x5da80f[_0x38084f(0x211)]),_0x2db3ee={'userName':helper[_0x38084f(0x232)](_0x5da80f),'accessKey':helper[_0x38084f(0x234)](_0x5da80f),'event_type':_0x9dc0f3,'detectedFramework':_0x3abf9c,'buildHashedId':globals[_0x38084f(0x1f4)](_0x3b2fb1[_0x38084f(0x222)]),'optimalHubUrl':helper[_0x38084f(0x262)](),'event_properties':{'testhub_uuid':process[_0x38084f(0x23a)][testHubConstants[_0x38084f(0x207)][_0x38084f(0x263)]]||'','sdkRunId':global[_0x38084f(0x205)],'product_map':_0x3b2fb1['ziLxj'](getProductMap,_0x5da80f),'productMap':_0x3b2fb1[_0x38084f(0x216)](getProductMap,_0x5da80f),'language_framework':_0x5da80f[_0x38084f(0x21d)]||_0x3b2fb1['WhFlb'],'referrer':helper[_0x38084f(0x265)](_0x3abf9c),'framework':_0x5da80f[_0x38084f(0x211)],'frameworkVersion':helper[_0x38084f(0x1f0)](_0x3abf9c),'automationFramework':_0x5ec9ac[_0x38084f(0x1ed)],'automationFrameworkVersion':_0x5ec9ac['version'],'language':_0x3b2fb1[_0x38084f(0x253)],'languageVersion':process['version'],'product':_0x58ba4e,'buildName':_0x5da80f[_0x38084f(0x1df)]||_0x3b2fb1[_0x38084f(0x266)],'buildIdentifier':_0x29a988,'os':os[_0x38084f(0x249)]()||_0x3b2fb1['WhFlb'],'hostname':os[_0x38084f(0x244)]()||_0x3b2fb1[_0x38084f(0x228)],..._0x594177}};try{_0x3b2fb1[_0x38084f(0x20f)](_0x9dc0f3,_0x3b2fb1[_0x38084f(0x1f1)])&&(_0x2db3ee[_0x38084f(0x239)][_0x38084f(0x241)]=helper['sanitizeBrowserStackConfig'](_0x5da80f)),_0x3b2fb1[_0x38084f(0x1e5)](_0x3abf9c,_0x3b2fb1[_0x38084f(0x206)])?_0x2db3ee[_0x38084f(0x239)][_0x38084f(0x22e)]=helper[_0x38084f(0x208)][_0x38084f(0x23b)](null,_0x3b2fb1['krUwS'](getTransformPath),!![]):_0x2db3ee[_0x38084f(0x239)][_0x38084f(0x218)]=helper['getPackageVersion'](_0x3b2fb1[_0x38084f(0x1e7)]);}catch(_0x4fc9c9){logger[_0x38084f(0x24e)](_0x38084f(0x229)+_0x4fc9c9);}const _0xaedc36={};_0xaedc36[_0x38084f(0x24a)]=_0x3b2fb1[_0x38084f(0x22d)];const _0x1d0f2b={'headers':_0xaedc36,'body':_0x2db3ee,'auth':{'user':helper[_0x38084f(0x232)](_0x5da80f),'pass':helper[_0x38084f(0x234)](_0x5da80f)},'json':!![]};logger[_0x38084f(0x24e)](_0x38084f(0x1d7)+JSON[_0x38084f(0x1da)](_0x1d0f2b[_0x38084f(0x254)])[_0x38084f(0x261)](new RegExp(helper[_0x38084f(0x232)](_0x5da80f),'g'),_0x3b2fb1[_0x38084f(0x235)])['replace'](new RegExp(helper[_0x38084f(0x234)](_0x5da80f),'g'),_0x3b2fb1[_0x38084f(0x235)]));try{const _0x37a0a4=await helper[_0x38084f(0x1ee)](_0x3b2fb1[_0x38084f(0x1f5)],constants['FUNNEL_INSTRUMENTATION_API_URL'],_0x1d0f2b,_0x5da80f);logger['debug'](_0x38084f(0x217)+_0x9dc0f3+'\x20response\x20-\x20'+util['format']('%j',_0x37a0a4));}catch(_0x2f2f8){logger[_0x38084f(0x24e)](_0x38084f(0x247)+FUNNEL_INSTRUMENTATION_API_URL+_0x38084f(0x23d)+util[_0x38084f(0x20d)](_0x2f2f8));}},exports[a129_0x5a7ac1(0x212)]=async _0x498551=>{const _0x559677=a129_0x5a7ac1,_0x142de2={'FJlQs':function(_0x5921d5){return _0x5921d5();},'AZdcS':_0x559677(0x25e),'zlezF':'user_killed','qQPwR':'SDKTestSuccessful','BPaeh':function(_0x46402e,_0x26001f,_0x3c330b){return _0x46402e(_0x26001f,_0x3c330b);},'HuOas':function(_0x3356a3,_0x47ce77){return _0x3356a3+_0x47ce77;},'QAXFk':'Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20'};try{await _0x498551['stopPercy'](),_0x142de2['FJlQs'](printNudgeLocalNotSetError);const _0x41e03f={};_0x41e03f['error']=_0x498551[_0x559677(0x24d)]?_0x498551[_0x559677(0x24d)]:'{}';const _0x5bd8e0=_0x41e03f,_0x5079fe=Object[_0x559677(0x1f8)]({},_0x5bd8e0);!!_0x498551[_0x559677(0x20e)]&&(_0x5079fe[_0x142de2[_0x559677(0x25c)]]={'reason':_0x142de2[_0x559677(0x238)],'signal':_0x498551[_0x559677(0x20e)]});unhandledErrors=_0x498551[_0x559677(0x204)][_0x559677(0x243)]('\x0a');let _0x171221,_0x489c9f,_0x12de17;helper['isTurboScaleSession'](_0x498551[_0x559677(0x202)])?([_0x171221,_0x489c9f]=await helper['getTurboScaleBuildLink'](_0x498551[_0x559677(0x202)]),[_0x12de17]=await Promise[_0x559677(0x223)]([helper['getTurboScaleSessionsList'](_0x171221,_0x498551['config']),exports[_0x559677(0x1f6)](_0x142de2[_0x559677(0x231)],_0x5079fe,_0x498551[_0x559677(0x202)],_0x498551[_0x559677(0x211)])])):([_0x171221,_0x489c9f]=await helper[_0x559677(0x23e)](_0x498551[_0x559677(0x202)]),[_0x12de17]=await Promise[_0x559677(0x223)]([helper[_0x559677(0x201)](_0x171221,_0x498551['config']),exports[_0x559677(0x1f6)](_0x142de2[_0x559677(0x231)],_0x5079fe,_0x498551['config'],_0x498551[_0x559677(0x211)])])),_0x12de17&&await _0x142de2[_0x559677(0x213)](generateCIArtifacts,_0x12de17,_0x489c9f),logger[_0x559677(0x24b)]('SDK\x20run\x20ended\x20for\x20id:\x20'+_0x498551[_0x559677(0x205)]+_0x559677(0x240)+process[_0x559677(0x23a)][_0x559677(0x263)]),await helper[_0x559677(0x250)](_0x498551[_0x559677(0x202)]);}catch(_0x1f09a0){logger[_0x559677(0x24e)](_0x142de2[_0x559677(0x1ff)](_0x142de2[_0x559677(0x1e2)],_0x1f09a0));}helper[_0x559677(0x1dc)]();},exports[a129_0x5a7ac1(0x251)]=_0x697d01=>{const _0xfa326e=a129_0x5a7ac1,_0x808934={'GWfmw':function(_0x339f67,_0x2b5804){return _0x339f67 instanceof _0x2b5804;},'CGaxw':function(_0x50e691,_0x30ff49){return _0x50e691(_0x30ff49);}};try{if(_0x808934[_0xfa326e(0x230)](_0x697d01,Error))return _0x697d01[_0xfa326e(0x242)]||_0x697d01[_0xfa326e(0x21f)]();return _0x808934[_0xfa326e(0x257)](String,_0x697d01);}catch(_0x150fb5){return _0x697d01?_0x697d01[_0xfa326e(0x21f)]():'';}},exports[a129_0x5a7ac1(0x233)]=_0x366ef7=>{const _0x4ff55c=a129_0x5a7ac1,_0x5ce5ac={};_0x5ce5ac[_0x4ff55c(0x23f)]=function(_0x3c1908,_0x3e4174){return _0x3c1908===_0x3e4174;};const _0x3ce812=_0x5ce5ac;return!_0x366ef7||_0x3ce812[_0x4ff55c(0x23f)](_0x366ef7[_0x4ff55c(0x200)](),'');},exports[a129_0x5a7ac1(0x264)]=_0xa28e59=>{const _0x3bd68a=a129_0x5a7ac1;try{return fs['accessSync'](_0xa28e59,fs[_0x3bd68a(0x21c)][_0x3bd68a(0x1ea)]),!![];}catch(_0x3c3843){return![];}},exports[a129_0x5a7ac1(0x256)]=_0xe165c4=>{const _0x5a42a7=a129_0x5a7ac1;try{fs[_0x5a42a7(0x20c)](_0xe165c4,0x1b6),logger[_0x5a42a7(0x24e)](_0x5a42a7(0x220)+_0xe165c4+'\x20is\x20now\x20read/write\x20accessible.');}catch(_0x671c6a){logger[_0x5a42a7(0x248)]('Failed\x20to\x20set\x20directory\x20access:\x20'+exports[_0x5a42a7(0x251)](_0x671c6a));}};