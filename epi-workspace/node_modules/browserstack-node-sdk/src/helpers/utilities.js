const a93_0x48fcc3=a93_0xeb61;(function(_0x3fb568,_0x489b21){const _0x45279a=a93_0xeb61,_0xa21277=_0x3fb568();while(!![]){try{const _0x3f9473=parseInt(_0x45279a(0x24a))/0x1+parseInt(_0x45279a(0x1e5))/0x2+parseInt(_0x45279a(0x232))/0x3*(-parseInt(_0x45279a(0x1fa))/0x4)+parseInt(_0x45279a(0x233))/0x5+-parseInt(_0x45279a(0x252))/0x6+-parseInt(_0x45279a(0x226))/0x7+-parseInt(_0x45279a(0x1da))/0x8;if(_0x3f9473===_0x489b21)break;else _0xa21277['push'](_0xa21277['shift']());}catch(_0xb9c2a5){_0xa21277['push'](_0xa21277['shift']());}}}(a93_0x301f,0x49103));const os=require('os'),util=require(a93_0x48fcc3(0x1dc)),{getProductMap}=require(a93_0x48fcc3(0x1ef)),logger=require(a93_0x48fcc3(0x212))['winstonLogger'],constants=require(a93_0x48fcc3(0x1d9)),testHubConstants=require(a93_0x48fcc3(0x22f)),{getTransformPath}=require(a93_0x48fcc3(0x224)),{FUNNEL_INSTRUMENTATION_API_URL}=require(a93_0x48fcc3(0x1d9)),{generateCIArtifacts,printNudgeLocalNotSetError}=require(a93_0x48fcc3(0x1e8)),PerformanceTester=require(a93_0x48fcc3(0x22a)),globals=require('./globals'),{isTurboScaleSession}=require('./ats/helper'),helper=require(a93_0x48fcc3(0x1e8)),{isTestObservabilitySession}=require(a93_0x48fcc3(0x1e1));function a93_0xeb61(_0x10a0bb,_0x5a8cd5){const _0x301f00=a93_0x301f();return a93_0xeb61=function(_0xeb6153,_0x50b999){_0xeb6153=_0xeb6153-0x1d8;let _0x21b55b=_0x301f00[_0xeb6153];return _0x21b55b;},a93_0xeb61(_0x10a0bb,_0x5a8cd5);}let unhandledErrors='';function a93_0x301f(){const _0x3e4547=['values','../bin/utils/constants','3797056jbucGd','selenium-webdriver','util','application/json','globalException','seleniumVersion','finalExecution','./test-observability/utils','name','zSNJA','replace','1051508AClEKN','apply','SvuRM','./helper','TxRtD','NVxnm','wJtIf','APP_AUTOMATE_PRODUCTS','ENV_VAR','AoIpV','./testhub/utils','oKgau','split','forEach','getFrameworkVersion','requirePWModule','Playwright','buildName','null','app','YkxYT','8JGHEwR','undefined','getTurboScaleSessionsList','nodeRequest','format','deviceName','FwDDH','sdkRunID','type','codeceptjs','sdkRunId','getOptimalHubUrl','killSignal','_buildHashedId','getTurboScaleBuildLink','debug','iqEWM','keys','xKogi','sanitizeBrowserStackConfig','PtaZt','browser',',\x20testhub\x20id:\x20','unknown','./logger','AUTOMATE','length','getAccessKey','XPYcd','assign','getBuildLink','buildIdentifier','all','osVersion','SDKTestSuccessful','error','zczgu','[REDACTED]','nodejs','Pmote','hIJct','xOtzp','../bin/playwright/reporter/pwUtils','SDK\x20run\x20ended\x20for\x20id:\x20','2266488LlDGUY','framework','getTestFrameworkDetails','source','./performance/performance-tester','getPackageVersion','YHblQ','FUNNEL_INSTRUMENTATION_API_URL','CRicu','../helpers/testhub/constants','SzqZV','API\x20Event\x20','795741qtnNVF','2988890EWQzIP','kmZdi','CzusC','reduce','tests','APP_AUTOMATE','mchSk','AUTOMATE_PRODUCTS','event_properties','getUserName','version','xauTn','hostname','Something\x20went\x20wrong\x20in\x20Final\x20Execution\x20step\x20:\x20','SIouu','fireFunnelTestEvent','KwNXp','errorMessage','browserVersion','hmdES','playwrightVersion','BROWSERSTACK_TESTHUB_UUID','join','528964DIziIh','isBrowserstackInfra','Error\x20while\x20parsing\x20tests\x20errors,\x20Exception:\x20','content-type','stringify','sendLogs','RNYTg','config','145914bCehVz','otYxo','info','object','getSessionsList','POST','getGlobal','Firing\x20SDK\x20event\x20for\x20funnel\x20data:\x20','owNnM'];a93_0x301f=function(){return _0x3e4547;};return a93_0x301f();}exports[a93_0x48fcc3(0x242)]=async(_0x10e7ea,_0x551acb={},_0x84a54c,_0x5138e8)=>{const _0x167df3=a93_0x48fcc3,_0x32c91a={'mchSk':function(_0x545d47,_0x1f2683){return _0x545d47===_0x1f2683;},'SktzG':_0x167df3(0x255),'NVxnm':function(_0x488bc4,_0x4d60ba){return _0x488bc4>_0x4d60ba;},'hmdES':function(_0x483112,_0x505ed4){return _0x483112>_0x505ed4;},'Asesu':_0x167df3(0x237),'jIbud':function(_0x53ccda){return _0x53ccda();},'RNYTg':function(_0x3aaf20){return _0x3aaf20();},'YHblQ':function(_0x470ed7,_0x1b317a){return _0x470ed7==_0x1b317a;},'jbmco':_0x167df3(0x1f7),'CzusC':_0x167df3(0x1fb),'KwNXp':function(_0x4d3e0b,_0x23694c){return _0x4d3e0b===_0x23694c;},'zczgu':_0x167df3(0x203),'AoIpV':function(_0x5b1bb2,_0x6e68a3){return _0x5b1bb2!==_0x6e68a3;},'xKogi':_0x167df3(0x1f5),'PtaZt':_0x167df3(0x21d),'xauTn':function(_0x6e697f,_0x4e8556){return _0x6e697f+_0x4e8556;},'zSNJA':_0x167df3(0x24c),'iqEWM':_0x167df3(0x207),'XPYcd':function(_0x266820,_0x4f76ab){return _0x266820(_0x4f76ab);},'TxRtD':_0x167df3(0x211),'hIJct':_0x167df3(0x220),'Pmote':function(_0x3c3cdb,_0x5877ce){return _0x3c3cdb===_0x5877ce;},'oKgau':_0x167df3(0x21c),'kmZdi':function(_0x4dd50b,_0x104eb9){return _0x4dd50b===_0x104eb9;},'SzqZV':_0x167df3(0x1db),'otYxo':_0x167df3(0x1dd),'CRicu':_0x167df3(0x21f),'omKLu':_0x167df3(0x257)};let _0xec1477=[];if(helper[_0x167df3(0x24b)]()&&_0x32c91a['jIbud'](isTestObservabilitySession))_0xec1477=_0x84a54c['app']?constants[_0x167df3(0x1ec)]:constants[_0x167df3(0x23a)];else{if(_0x32c91a[_0x167df3(0x250)](isTestObservabilitySession))_0xec1477=constants['PRODUCT_IF_NOT_BROWSERSTACK_INFRA'];else helper[_0x167df3(0x24b)]()&&(_0xec1477=_0x84a54c[_0x167df3(0x1f8)]?constants[_0x167df3(0x238)]:constants[_0x167df3(0x213)]);}let _0x141ccf=_0x84a54c[_0x167df3(0x219)];if(_0x32c91a[_0x167df3(0x22c)](_0x141ccf,null))_0x141ccf=_0x32c91a['jbmco'];else _0x32c91a['mchSk'](_0x141ccf,undefined)&&(_0x141ccf=_0x32c91a[_0x167df3(0x235)]);unhandledErrors&&_0x32c91a[_0x167df3(0x246)](unhandledErrors[_0x167df3(0x214)],0x0)&&(_0x551acb[_0x167df3(0x1de)]=unhandledErrors);global['sdkRunID']&&(_0x551acb[_0x167df3(0x204)]=global[_0x167df3(0x201)]);try{if(_0x551acb['error']){if(_0x32c91a[_0x167df3(0x243)](_0x5138e8,_0x32c91a[_0x167df3(0x21e)])&&_0x32c91a[_0x167df3(0x246)](_0x551acb[_0x167df3(0x21d)][_0x167df3(0x214)],0x0)){const _0x2956={};_0x2956['os']='',_0x2956[_0x167df3(0x21b)]='',_0x2956[_0x167df3(0x20f)]='',_0x2956[_0x167df3(0x245)]='';const _0x4e986d=_0x2956;let _0x176ba0={};const _0x45d909=_0x551acb[_0x167df3(0x21d)];_0x176ba0=_0x45d909[_0x167df3(0x236)]((_0x414eb8,_0x2250ae)=>{for(const _0x184609 in _0x2250ae){_0x414eb8[_0x184609]=_0x2250ae[_0x184609];}return _0x414eb8;},{});const _0x53d09b={};_0x53d09b[_0x167df3(0x237)]=_0x176ba0,_0x551acb[_0x167df3(0x21d)]=[Object[_0x167df3(0x217)]({},_0x4e986d,_0x53d09b)];}else{let _0x379593=0x0;const _0x2e8155=_0x32c91a[_0x167df3(0x1ee)](_0x5138e8,_0x32c91a[_0x167df3(0x20c)])?JSON['parse'](_0x551acb['error']):_0x551acb[_0x167df3(0x21d)],_0x496d64=Object[_0x167df3(0x1d8)](_0x2e8155);_0x496d64[_0x167df3(0x1f2)](_0x925e5=>{const _0x2022fd=_0x167df3;if(_0x32c91a[_0x2022fd(0x239)](typeof _0x925e5,_0x32c91a['SktzG'])){const _0x5869ae=Object[_0x2022fd(0x1d8)](_0x925e5);!_0x5869ae['every'](_0x3eb111=>_0x3eb111===null||_0x3eb111===undefined||_0x3eb111==='')&&(_0x379593+=0x1);}});if(_0x32c91a[_0x167df3(0x239)](_0x379593,0x0))delete _0x551acb[_0x32c91a[_0x167df3(0x20e)]];else{const _0x51c0a5=[];Object[_0x167df3(0x20b)](_0x2e8155)['forEach'](_0x4ed88a=>{const _0x337783=_0x167df3,[_0x206373,_0x5a743c,_0x3897a9,_0x5ca249]=_0x4ed88a[_0x337783(0x1f1)](',\x20');let _0x4f637e={};if(!_0x5ca249){const _0x313c06={};_0x313c06[_0x337783(0x1ff)]=_0x206373,_0x313c06[_0x337783(0x21b)]=_0x5a743c,_0x313c06[_0x337783(0x20f)]=_0x3897a9,_0x4f637e=_0x313c06;}else{const _0x3330a0={};_0x3330a0['os']=_0x206373,_0x3330a0['osVersion']=_0x5a743c,_0x3330a0['browser']=_0x3897a9,_0x3330a0['browserVersion']=_0x5ca249,_0x4f637e=_0x3330a0;}const _0x4d3d7c={},_0x474749=_0x2e8155[_0x4ed88a];Object[_0x337783(0x20b)](_0x474749)[_0x337783(0x1f2)](_0xa0e827=>{const _0x2bc2de=_0x337783;_0x32c91a[_0x2bc2de(0x1ea)](_0x474749[_0xa0e827]['length'],0x0)&&(_0x4d3d7c[_0xa0e827]=_0x474749[_0xa0e827]);}),_0x32c91a[_0x337783(0x246)](Object['keys'](_0x4d3d7c)['length'],0x0)&&(_0x4f637e[_0x32c91a['Asesu']]=_0x4d3d7c,_0x51c0a5['push'](_0x4f637e));}),_0x32c91a['NVxnm'](_0x51c0a5[_0x167df3(0x214)],0x0)?_0x551acb[_0x167df3(0x21d)]=_0x51c0a5:delete _0x551acb[_0x32c91a[_0x167df3(0x20e)]];}}}}catch(_0x445a13){delete _0x551acb[_0x32c91a['PtaZt']],logger[_0x167df3(0x209)](_0x32c91a[_0x167df3(0x23e)](_0x32c91a[_0x167df3(0x1e3)],_0x445a13));}const _0x446a7d=helper[_0x167df3(0x228)](_0x84a54c,_0x84a54c[_0x167df3(0x227)]),_0xfe9a09={'userName':helper['getUserName'](_0x84a54c),'accessKey':helper[_0x167df3(0x215)](_0x84a54c),'event_type':_0x10e7ea,'detectedFramework':_0x5138e8,'buildHashedId':globals[_0x167df3(0x258)](_0x32c91a[_0x167df3(0x20a)]),'optimalHubUrl':helper[_0x167df3(0x205)](),'event_properties':{'testhub_uuid':process['env'][testHubConstants[_0x167df3(0x1ed)]['BROWSERSTACK_TESTHUB_UUID']]||'','sdkRunId':global[_0x167df3(0x201)],'product_map':_0x32c91a[_0x167df3(0x216)](getProductMap,_0x84a54c),'productMap':_0x32c91a[_0x167df3(0x216)](getProductMap,_0x84a54c),'language_framework':_0x84a54c[_0x167df3(0x229)]||_0x32c91a[_0x167df3(0x1e9)],'referrer':helper['getNodeAgent'](_0x5138e8),'framework':_0x84a54c[_0x167df3(0x227)],'frameworkVersion':helper[_0x167df3(0x1f3)](_0x5138e8),'automationFramework':_0x446a7d[_0x167df3(0x1e2)],'automationFrameworkVersion':_0x446a7d[_0x167df3(0x23d)],'language':_0x32c91a[_0x167df3(0x222)],'languageVersion':process[_0x167df3(0x23d)],'product':_0xec1477,'buildName':_0x84a54c[_0x167df3(0x1f6)]||_0x32c91a[_0x167df3(0x235)],'buildIdentifier':_0x141ccf,'os':os[_0x167df3(0x202)]()||_0x32c91a[_0x167df3(0x1e9)],'hostname':os[_0x167df3(0x23f)]()||_0x32c91a['TxRtD'],..._0x551acb}};try{_0x32c91a[_0x167df3(0x221)](_0x10e7ea,_0x32c91a[_0x167df3(0x1f0)])&&(_0xfe9a09[_0x167df3(0x23b)]['browserStackConfig']=helper[_0x167df3(0x20d)](_0x84a54c)),_0x32c91a[_0x167df3(0x234)](_0x5138e8,_0x32c91a[_0x167df3(0x20c)])?_0xfe9a09[_0x167df3(0x23b)][_0x167df3(0x247)]=helper[_0x167df3(0x1f4)][_0x167df3(0x1e6)](null,_0x32c91a['jIbud'](getTransformPath),!![]):_0xfe9a09[_0x167df3(0x23b)][_0x167df3(0x1df)]=helper[_0x167df3(0x22b)](_0x32c91a[_0x167df3(0x230)]);}catch(_0x35f36d){logger[_0x167df3(0x209)]('Error\x20in\x20getting\x20framework\x20version\x20to\x20:\x20'+_0x35f36d);}const _0x48de98={};_0x48de98[_0x167df3(0x24d)]=_0x32c91a[_0x167df3(0x253)];const _0x1e9e11={'headers':_0x48de98,'body':_0xfe9a09,'auth':{'user':helper[_0x167df3(0x23c)](_0x84a54c),'pass':helper['getAccessKey'](_0x84a54c)},'json':!![]};logger[_0x167df3(0x209)](_0x167df3(0x259)+JSON[_0x167df3(0x24e)](_0x1e9e11['body'])[_0x167df3(0x1e4)](new RegExp(helper[_0x167df3(0x23c)](_0x84a54c),'g'),_0x32c91a[_0x167df3(0x22e)])[_0x167df3(0x1e4)](new RegExp(helper[_0x167df3(0x215)](_0x84a54c),'g'),_0x32c91a[_0x167df3(0x22e)]));try{const _0x3d5bfa=await helper[_0x167df3(0x1fd)](_0x32c91a['omKLu'],constants[_0x167df3(0x22d)],_0x1e9e11,_0x84a54c);logger[_0x167df3(0x209)](_0x167df3(0x231)+_0x10e7ea+'\x20response\x20-\x20'+util[_0x167df3(0x1fe)]('%j',_0x3d5bfa));}catch(_0x7df4a0){logger[_0x167df3(0x209)]('Error\x20in\x20firing\x20request\x20to\x20'+FUNNEL_INSTRUMENTATION_API_URL+'\x20:\x20'+util[_0x167df3(0x1fe)](_0x7df4a0));}},exports[a93_0x48fcc3(0x1e0)]=async _0x456a03=>{const _0xc47d09=a93_0x48fcc3,_0x41295d={'SvuRM':function(_0x3c41c8){return _0x3c41c8();},'wJtIf':'finishedMetadata','YkxYT':'user_killed','owNnM':function(_0x1761b4,_0x389335){return _0x1761b4(_0x389335);},'SIouu':_0xc47d09(0x21c),'rbnSE':function(_0x27f2d0,_0x14c325,_0x37ed4f){return _0x27f2d0(_0x14c325,_0x37ed4f);},'FwDDH':function(_0x1f7285,_0x301b96){return _0x1f7285+_0x301b96;},'xOtzp':_0xc47d09(0x240)};try{await _0x456a03['stopPercy'](),_0x41295d[_0xc47d09(0x1e7)](printNudgeLocalNotSetError);const _0x4233f8={};_0x4233f8[_0xc47d09(0x21d)]=_0x456a03['errorMessage']?_0x456a03[_0xc47d09(0x244)]:'{}';const _0x41eb12=_0x4233f8,_0x155ed7=Object[_0xc47d09(0x217)]({},_0x41eb12);!!_0x456a03[_0xc47d09(0x206)]&&(_0x155ed7[_0x41295d[_0xc47d09(0x1eb)]]={'reason':_0x41295d[_0xc47d09(0x1f9)],'signal':_0x456a03[_0xc47d09(0x206)]});unhandledErrors=_0x456a03['unhandledErrors'][_0xc47d09(0x249)]('\x0a');let _0xc934a2,_0x5f510b,_0x41e726;_0x41295d[_0xc47d09(0x25a)](isTurboScaleSession,_0x456a03['config'])?([_0xc934a2,_0x5f510b]=await helper[_0xc47d09(0x208)](_0x456a03[_0xc47d09(0x251)]),[_0x41e726]=await Promise[_0xc47d09(0x21a)]([helper[_0xc47d09(0x1fc)](_0xc934a2,_0x456a03[_0xc47d09(0x251)]),exports['fireFunnelTestEvent'](_0x41295d[_0xc47d09(0x241)],_0x155ed7,_0x456a03['config'],_0x456a03[_0xc47d09(0x227)])])):([_0xc934a2,_0x5f510b]=await helper[_0xc47d09(0x218)](_0x456a03[_0xc47d09(0x251)]),[_0x41e726]=await Promise[_0xc47d09(0x21a)]([helper[_0xc47d09(0x256)](_0xc934a2,_0x456a03[_0xc47d09(0x251)]),exports['fireFunnelTestEvent'](_0x41295d[_0xc47d09(0x241)],_0x155ed7,_0x456a03[_0xc47d09(0x251)],_0x456a03[_0xc47d09(0x227)])])),_0x41e726&&await _0x41295d['rbnSE'](generateCIArtifacts,_0x41e726,_0x5f510b),logger[_0xc47d09(0x254)](_0xc47d09(0x225)+_0x456a03[_0xc47d09(0x201)]+_0xc47d09(0x210)+process['env'][_0xc47d09(0x248)]),await helper[_0xc47d09(0x24f)](_0x456a03[_0xc47d09(0x251)]);}catch(_0x3712b0){logger[_0xc47d09(0x209)](_0x41295d[_0xc47d09(0x200)](_0x41295d[_0xc47d09(0x223)],_0x3712b0));}helper['notifyUpdate']();};