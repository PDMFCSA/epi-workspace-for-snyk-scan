const a99_0x36693a=a99_0x457f;(function(_0x129221,_0x1d3e96){const _0x3c99f7=a99_0x457f,_0x118a12=_0x129221();while(!![]){try{const _0x334678=-parseInt(_0x3c99f7(0x125))/0x1+parseInt(_0x3c99f7(0xf1))/0x2*(-parseInt(_0x3c99f7(0x10d))/0x3)+-parseInt(_0x3c99f7(0x131))/0x4+parseInt(_0x3c99f7(0x121))/0x5*(parseInt(_0x3c99f7(0xf4))/0x6)+-parseInt(_0x3c99f7(0xd4))/0x7+parseInt(_0x3c99f7(0x105))/0x8*(parseInt(_0x3c99f7(0x146))/0x9)+parseInt(_0x3c99f7(0x136))/0xa*(parseInt(_0x3c99f7(0x134))/0xb);if(_0x334678===_0x1d3e96)break;else _0x118a12['push'](_0x118a12['shift']());}catch(_0x1cf1cb){_0x118a12['push'](_0x118a12['shift']());}}}(a99_0x2c95,0x6dfd1));function a99_0x2c95(){const _0x194868=['name_','\x22}}}','replace','aiHeal_userId','race','\x22:\x20{\x22endpoint\x22:\x20\x22','MXhof','TQLxU','cancel','15995TLwtpj','../../bin/utils/constants','BrowserstackHealing.healFailure\x20method\x20timed\x20out','parameters_','420447amGrYL','initializeHealingCapabilities','BrowserstackHealing.pollResult\x20method\x20timed\x20out','BrowserstackHealingLogDataFailed','faIxZ','aiHeal_sessionToken','log','getSession','info','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','vPBmT','keys','791396qSsvaO','getId','locatorType','4256527IcaTkS','TCG_URL','50dHHjLs','newCapabilities','aiHeal_groupId','BrowserstackHealing','{\x22region\x22:\x20\x22','getCapabilities','capabilities_','locatorValue','then','fromEntries','chromeOptions_','uMfxm','error','Qbdqg','hvdOQ','handleSuccess','1639881MpVjzs','path','iYfzZ','firefox','get','split','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','config','cjBMO','6038942lPuMAV','../logger','msgcI','getTestName','getGlobal','\x22,\x20\x22tcgUrls\x22:\x20{\x22','jjNjI','aiSdkWrapper','wzkfl','browserstackSessionName','aiHeal_isGroupAIEnabled','aiHealing','uaePI','pollResult','getCommands','QMdSl','ElSlq','POLL_HEALING_RESULT_TIMEOUT','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','toLowerCase','safari','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','../../helpers/timeoutPromise','edge','handleFailure','forEach','VKexR','framework','message','2KkQvxr','edgeOptions_','./autoHealHelper','1032oLUUVT','setToken','isSelfHealEnabled','BrowserstackHealingHealFailureFailed','HEALING_FAILURE_TIMEOUT','using','WSRrJ','BrowserstackHealing.setToken\x20method\x20timed\x20out','hcRLf','YKYCy','NkKig','NSFDl','initializeCapabilities','safariOptions_','chrome','join','healFailure','8QRWzRe','_handleEvent','browserName','BrowserstackHealingSetTcgTokenFailed','string','wrDgz','TCG_REGION','debug','2207121tweZXM','ieOptions_','value','YaQef','getProjectName','BrowserstackHealingPollResultFailed','HEALING_LOG_DATA_TIMEOUT','set','pRLag','\x20command','WfGAb'];a99_0x2c95=function(){return _0x194868;};return a99_0x2c95();}const path=require(a99_0x36693a(0x147)),{commandRepository}=require(a99_0x36693a(0xf3)),constants=require(a99_0x36693a(0x122)),logger=require(a99_0x36693a(0xd5))['winstonLogger'],globals=require('../globals'),timeoutPromise=require(a99_0x36693a(0xea)),isUndefinedOrNull=_0x1d2336=>_0x1d2336===undefined||_0x1d2336===null||_0x1d2336==='',isNotUndefinedOrNull=_0xfce25=>!isUndefinedOrNull(_0xfce25),isString=_0x1dfa5c=>isNotUndefinedOrNull(_0x1dfa5c)&&typeof _0x1dfa5c===a99_0x36693a(0x109);function a99_0x457f(_0x323621,_0x38fa0a){const _0x2c959b=a99_0x2c95();return a99_0x457f=function(_0x457f48,_0x3893ec){_0x457f48=_0x457f48-0xce;let _0x1e855b=_0x2c959b[_0x457f48];return _0x1e855b;},a99_0x457f(_0x323621,_0x38fa0a);}class AiSdkWrapper{constructor(){const _0x4ccc21=a99_0x36693a,_0x2fdd1b={'wzkfl':function(_0x45e3c2,_0x34afc8){return _0x45e3c2(_0x34afc8);},'TnqUD':'../../ai-sdk-node/bundle'};this[_0x4ccc21(0x139)]=undefined;try{this[_0x4ccc21(0x139)]=_0x2fdd1b[_0x4ccc21(0xdc)](require,path[_0x4ccc21(0x103)](__dirname,_0x2fdd1b['TnqUD']));}catch(_0x178c94){logger[_0x4ccc21(0x142)]('Unable\x20to\x20load\x20healing\x20module,\x20error:\x20'+(_0x178c94&&_0x178c94[_0x4ccc21(0xf0)]?_0x178c94[_0x4ccc21(0xf0)]:''));}}[a99_0x36693a(0x126)](_0x2b357b){const _0x4f05=a99_0x36693a,_0x1b9ec2={};_0x1b9ec2[_0x4f05(0xfa)]=_0x4f05(0x137),_0x1b9ec2['MXhof']=function(_0x3e393b,_0x24c56a){return _0x3e393b===_0x24c56a;},_0x1b9ec2[_0x4f05(0x129)]=_0x4f05(0x102),_0x1b9ec2[_0x4f05(0xff)]=function(_0xe8fc34,_0x52a629){return _0xe8fc34===_0x52a629;},_0x1b9ec2[_0x4f05(0xfc)]=_0x4f05(0xce),_0x1b9ec2[_0x4f05(0x143)]=_0x4f05(0xe8),_0x1b9ec2[_0x4f05(0x115)]=function(_0x1e87c1,_0x5287af){return _0x1e87c1===_0x5287af;},_0x1b9ec2['cjBMO']=_0x4f05(0xeb),_0x1b9ec2[_0x4f05(0x117)]='microsoftedge';const _0x2873b3=_0x1b9ec2;try{const _0x132f45=this[_0x4f05(0x139)][_0x4f05(0x100)](Object[_0x4f05(0x13f)](_0x2b357b[_0x4f05(0x13b)]()['map_']));console[_0x4f05(0x12b)](_0x2873b3['WSRrJ'],_0x132f45);if(_0x2873b3[_0x4f05(0x11e)](_0x132f45?.[_0x4f05(0x107)]?.[_0x4f05(0xe7)](),_0x2873b3[_0x4f05(0x129)]))_0x2b357b[_0x4f05(0x140)]=_0x132f45;else{if(_0x2873b3[_0x4f05(0xff)](_0x132f45?.[_0x4f05(0x107)]?.[_0x4f05(0xe7)](),_0x2873b3[_0x4f05(0xfc)]))_0x2b357b['firefoxOptions_']=_0x132f45;else{if(_0x2873b3['NSFDl'](_0x132f45?.[_0x4f05(0x107)]?.[_0x4f05(0xe7)](),_0x2873b3[_0x4f05(0x143)]))_0x2b357b[_0x4f05(0x101)]=_0x132f45;else{if(_0x2873b3[_0x4f05(0x115)](_0x132f45?.[_0x4f05(0x107)]?.[_0x4f05(0xe7)](),_0x2873b3[_0x4f05(0xd3)])||_0x2873b3['MXhof'](_0x132f45?.[_0x4f05(0x107)]?.[_0x4f05(0xe7)](),_0x2873b3[_0x4f05(0x117)]))_0x2b357b[_0x4f05(0xf2)]=_0x132f45;else _0x2873b3[_0x4f05(0xff)](_0x132f45?.['browserName']?.[_0x4f05(0xe7)](),'ie')&&(_0x2b357b[_0x4f05(0x10e)]=_0x132f45);}}}Object[_0x4f05(0x130)](_0x132f45)[_0x4f05(0xed)](_0x7bcea5=>{const _0x453f16=_0x4f05,_0x42255e=_0x2b357b['capabilities_'][_0x453f16(0xcf)](_0x7bcea5);_0x2b357b[_0x453f16(0x13c)][_0x453f16(0x114)](_0x7bcea5,_0x132f45[_0x7bcea5]);});}catch(_0x5d75cf){logger[_0x4f05(0x142)](_0x4f05(0xe6)+(_0x5d75cf&&_0x5d75cf[_0x4f05(0xf0)]?_0x5d75cf[_0x4f05(0xf0)]:''));}}async['setTcgToken'](_0x57016f){const _0x21ef73=a99_0x36693a,_0x30fb89={'uMfxm':function(_0x563be7,_0x5e871e,_0x1db100,_0x2887df,_0x30c769,_0x48222d,_0x45b4e2){return _0x563be7(_0x5e871e,_0x1db100,_0x2887df,_0x30c769,_0x48222d,_0x45b4e2);},'JuTFc':_0x21ef73(0xfb),'RTdVa':_0x21ef73(0x108),'zCsUN':'aiHeal_sessionToken'},_0x5cc316=new Date(),_0x526149=_0x30fb89[_0x21ef73(0x141)](timeoutPromise,constants['SET_TCG_TOKEN_TIMEOUT'],_0x30fb89['JuTFc'],_0x30fb89['RTdVa'],_0x5cc316,this[_0x21ef73(0xd2)],this[_0x21ef73(0xef)]);await Promise['race']([this[_0x21ef73(0x139)][_0x21ef73(0xf5)](_0x57016f,globals[_0x21ef73(0xd8)](_0x30fb89['zCsUN']),constants[_0x21ef73(0x135)])[_0x21ef73(0x13e)](()=>{const _0x197986=_0x21ef73;_0x526149[_0x197986(0x120)]();}),_0x526149]);}async['_handleEvent'](_0x4eaa6c,_0x298291,_0x5eaa19,_0x2877bb){const _0x5df6a9=a99_0x36693a,_0x64ece4={'msgcI':function(_0x287694,_0x43cbc8){return _0x287694===_0x43cbc8;},'Ryvtc':function(_0x392a0b,_0x1b0648){return _0x392a0b===_0x1b0648;},'QMdSl':function(_0x10ff41,_0xbb1ca5){return _0x10ff41(_0xbb1ca5);},'VKexR':function(_0x52eb14,_0xd03a80){return _0x52eb14(_0xd03a80);},'ElSlq':function(_0x1fc58a,_0x4c76bd){return _0x1fc58a(_0x4c76bd);},'YKYCy':'s://','NkKig':_0x5df6a9(0x11b),'vPBmT':_0x5df6a9(0x138),'hvdOQ':_0x5df6a9(0xde),'iYfzZ':function(_0x28555c,_0x575e0d,_0x56bb44,_0x281d51,_0x301046,_0x41dc3c,_0x1841a1){return _0x28555c(_0x575e0d,_0x56bb44,_0x281d51,_0x301046,_0x41dc3c,_0x1841a1);},'wrDgz':'BrowserstackHealing.logData\x20method\x20timed\x20out','YaQef':_0x5df6a9(0x128),'hevwQ':_0x5df6a9(0x123),'eYSBV':_0x5df6a9(0xf7)},_0x4e67f2=(await _0x298291[_0x5df6a9(0x12c)]())[_0x5df6a9(0x132)]();let _0x33ead5='';if(commandRepository[_0x5df6a9(0xf6)]()&&_0x64ece4[_0x5df6a9(0xd6)](_0x2877bb,![])||_0x64ece4['Ryvtc'](_0x2877bb,!![])){const _0x564a04=_0x64ece4['QMdSl'](isNotUndefinedOrNull,_0x5eaa19[_0x5df6a9(0x124)][_0x5df6a9(0xf9)])&&_0x64ece4[_0x5df6a9(0xee)](isString,_0x5eaa19[_0x5df6a9(0x124)][_0x5df6a9(0xf9)])?_0x5eaa19[_0x5df6a9(0x124)][_0x5df6a9(0xf9)][_0x5df6a9(0x11a)](/'/g,'\x5c\x27')[_0x5df6a9(0x11a)](/"/g,'\x5c\x22'):'',_0x5376f8=_0x64ece4[_0x5df6a9(0xe3)](isNotUndefinedOrNull,_0x5eaa19['parameters_'][_0x5df6a9(0xf9)])&&_0x64ece4[_0x5df6a9(0xe3)](isString,_0x5eaa19['parameters_'][_0x5df6a9(0x10f)])?_0x5eaa19['parameters_'][_0x5df6a9(0x10f)][_0x5df6a9(0x11a)](/'/g,'\x5c\x27')[_0x5df6a9(0x11a)](/"/g,'\x5c\x22'):'',_0x288ceb=_0x64ece4[_0x5df6a9(0xe3)](isNotUndefinedOrNull,commandRepository[_0x5df6a9(0x111)]())&&_0x64ece4[_0x5df6a9(0xee)](isString,commandRepository['getProjectName']())?commandRepository[_0x5df6a9(0x111)]()['replace'](/'/g,'\x5c\x27')[_0x5df6a9(0x11a)](/"/g,'\x5c\x22'):'';let _0x53e18b=_0x64ece4[_0x5df6a9(0xe4)](isNotUndefinedOrNull,global[_0x5df6a9(0xdd)])&&_0x64ece4[_0x5df6a9(0xe3)](isString,global[_0x5df6a9(0xdd)])?global[_0x5df6a9(0xdd)][_0x5df6a9(0x11a)](/'/g,'\x5c\x27')[_0x5df6a9(0x11a)](/"/g,'\x5c\x22'):'';!_0x53e18b&&(_0x53e18b=_0x64ece4[_0x5df6a9(0xe3)](isNotUndefinedOrNull,commandRepository['getTestName']())&&_0x64ece4['QMdSl'](isString,commandRepository[_0x5df6a9(0xd7)]())?commandRepository['getTestName']()[_0x5df6a9(0x11a)](/'/g,'\x5c\x27')[_0x5df6a9(0x11a)](/"/g,'\x5c\x22'):'');let _0x51c687=_0x5df6a9(0x13a)+constants[_0x5df6a9(0x10b)]+_0x5df6a9(0xd9)+constants[_0x5df6a9(0x10b)]+_0x5df6a9(0x11d)+constants[_0x5df6a9(0x135)][_0x5df6a9(0xd0)](_0x64ece4[_0x5df6a9(0xfd)])[0x1]+_0x5df6a9(0x119);_0x51c687=_0x64ece4[_0x5df6a9(0xe4)](isNotUndefinedOrNull,_0x51c687)&&_0x64ece4[_0x5df6a9(0xe4)](isString,_0x51c687)?_0x51c687[_0x5df6a9(0x11a)](/'/g,'\x5c\x27')[_0x5df6a9(0x11a)](/"/g,'\x5c\x22'):'';const _0xf5af63=commandRepository[_0x5df6a9(0xe2)](_0x4e67f2),_0xab91b9=globals[_0x5df6a9(0xd8)](_0x64ece4[_0x5df6a9(0xfe)]),_0x25dd50=globals[_0x5df6a9(0xd8)](_0x64ece4[_0x5df6a9(0x12f)]),_0x510675=globals[_0x5df6a9(0xd8)](_0x64ece4[_0x5df6a9(0x144)]),_0x3b28c9=![],_0x286df6=new Date();if(_0x2877bb){const _0x77667c=_0x64ece4[_0x5df6a9(0x148)](timeoutPromise,constants[_0x5df6a9(0x113)],_0x64ece4[_0x5df6a9(0x10a)],_0x64ece4[_0x5df6a9(0x110)],_0x286df6,this[_0x5df6a9(0xd2)],this[_0x5df6a9(0xef)]);_0x33ead5=await Promise[_0x5df6a9(0x11c)]([this[_0x5df6a9(0x139)]['logData'](_0x564a04,_0x5376f8,_0x288ceb,_0x53e18b,_0x25dd50,_0x4e67f2,_0xf5af63,_0x51c687)['then'](_0x42b004=>{const _0x4fb3ee=_0x5df6a9;return _0x77667c[_0x4fb3ee(0x120)](),_0x42b004;}),_0x77667c]);}else{if(commandRepository[_0x5df6a9(0xf6)]()){const _0x1db3d8=_0x64ece4['iYfzZ'](timeoutPromise,constants[_0x5df6a9(0xf8)],_0x64ece4['hevwQ'],_0x64ece4['eYSBV'],_0x286df6,this['config'],this[_0x5df6a9(0xef)]);_0x33ead5=await Promise[_0x5df6a9(0x11c)]([this[_0x5df6a9(0x139)][_0x5df6a9(0x104)](_0x564a04,_0x5376f8,_0x288ceb,_0x53e18b,_0xab91b9,_0x25dd50,_0x4e67f2,_0xf5af63,_0x3b28c9,_0x510675,_0x51c687)[_0x5df6a9(0x13e)](_0x47805b=>{return _0x1db3d8['cancel'](),_0x47805b;}),_0x1db3d8]);}}_0x33ead5&&await _0x298291['executeScript'](_0x33ead5);}}async[a99_0x36693a(0x145)](_0xdc0674,_0x3891ea,_0xfd5bce){const _0x43841f=a99_0x36693a;try{await this[_0x43841f(0x106)](_0xdc0674,_0x3891ea,_0xfd5bce,!![]);}catch(_0x11308e){return logger[_0x43841f(0x142)](_0x43841f(0xd1)+(_0x11308e&&_0x11308e['message']?_0x11308e['message']:'')),![];}return!![];}async[a99_0x36693a(0xec)](_0x17d22f,_0x512385,_0x3458c1){const _0x1d221f=a99_0x36693a,_0x34e428={'jjNjI':function(_0x2f55b9,_0x41372b,_0x37034b,_0x474d93,_0x1f3486,_0x58dd24,_0x370866){return _0x2f55b9(_0x41372b,_0x37034b,_0x474d93,_0x1f3486,_0x58dd24,_0x370866);},'TQLxU':_0x1d221f(0x127),'uaePI':_0x1d221f(0x112),'ZjKCk':_0x1d221f(0x12a)};try{await this[_0x1d221f(0x106)](_0x17d22f,_0x512385,_0x3458c1,![]);const _0xb5008d=(await _0x512385['getSession']())['getId'](),_0x965e3a=new Date(),_0x6b4259=_0x34e428[_0x1d221f(0xda)](timeoutPromise,constants[_0x1d221f(0xe5)],_0x34e428[_0x1d221f(0x11f)],_0x34e428[_0x1d221f(0xe0)],_0x965e3a,this[_0x1d221f(0xd2)],this[_0x1d221f(0xef)]),_0x48b2c1=await Promise['race']([this[_0x1d221f(0x139)][_0x1d221f(0xe1)](constants[_0x1d221f(0x135)],_0xb5008d,globals[_0x1d221f(0xd8)](_0x34e428['ZjKCk']))[_0x1d221f(0x13e)](_0x59058a=>{const _0x54fe4e=_0x1d221f;return _0x6b4259[_0x54fe4e(0x120)](),_0x59058a;}),_0x6b4259]);if(_0x48b2c1&&_0x48b2c1['selector']&&_0x48b2c1[_0x1d221f(0x10f)]){const _0x2631ae={};return _0x2631ae[_0x1d221f(0x133)]=_0x48b2c1['selector'],_0x2631ae['locatorValue']=_0x48b2c1[_0x1d221f(0x10f)],_0x2631ae[_0x1d221f(0xdf)]=!![],_0x2631ae;}const _0x203474={};return _0x203474[_0x1d221f(0x133)]=_0x3458c1[_0x1d221f(0x124)]['using'],_0x203474[_0x1d221f(0x13d)]=_0x48b2c1[_0x1d221f(0x10f)],_0x203474[_0x1d221f(0xdf)]=!![],_0x203474;}catch(_0x28dc9d){return logger[_0x1d221f(0x10c)](_0x1d221f(0xe9)+(_0x28dc9d&&_0x28dc9d['message']?_0x28dc9d[_0x1d221f(0xf0)]:'')),logger[_0x1d221f(0x12d)](_0x1d221f(0x12e)+_0x3458c1[_0x1d221f(0x118)]+_0x1d221f(0x116)),_0x3458c1;}}}exports[a99_0x36693a(0xdb)]=Object['freeze'](new AiSdkWrapper());