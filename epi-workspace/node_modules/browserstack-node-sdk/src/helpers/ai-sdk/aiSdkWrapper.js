const a96_0x3aa6a8=a96_0x9403;function a96_0x9403(_0x3ab24b,_0x1dca12){const _0x1cd88c=a96_0x1cd8();return a96_0x9403=function(_0x9403a9,_0x15f1fb){_0x9403a9=_0x9403a9-0x11f;let _0x21366a=_0x1cd88c[_0x9403a9];return _0x21366a;},a96_0x9403(_0x3ab24b,_0x1dca12);}function a96_0x1cd8(){const _0x3223c6=['BrowserstackHealing.setToken\x20method\x20timed\x20out','qNZsL','mFqvm','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','isSelfHealEnabled','gSEYf','message','split','\x22}}}','forEach','../../helpers/timeoutPromise','executeScript','then','capabilities_','../globals','POLL_HEALING_RESULT_TIMEOUT','926331RRiwMS','uJbwF','ugCXL','aiHeal_groupId','getCapabilities','aiHeal_isGroupAIEnabled','error','logData','HXYMv','parameters_','BrowserstackHealingLogDataFailed','debug','WFQKx','jAkCA','handleFailure','log','qoMxw','ieOptions_','getSession','pollResult','VloEO','path','freeze','WYwmD','info','1895496uayFqa','BrowserstackHealing.healFailure\x20method\x20timed\x20out','initializeHealingCapabilities','TCG_REGION','edgeOptions_','selector','kTKjR','getId','6570xPDigy','../../bin/utils/constants','aHDHH','replace','zQUqN','zxUfm','zuufS','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','OPwML','browserstackSessionName','handleSuccess','getTestName','getCommands','toLowerCase','aiHeal_userId','KQIDZ','healFailure','chromeOptions_','getProjectName','BrowserstackHealing.pollResult\x20method\x20timed\x20out','\x22:\x20{\x22endpoint\x22:\x20\x22','fromEntries','zCyAP','FWdal','aiHeal_sessionToken','422411TevXyi','aiHealing','cancel','pMwsi','using','get','string','4915158PsIJFc','lxosK','lQeIL','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','TqCtp','HEALING_LOG_DATA_TIMEOUT','BrowserstackHealingHealFailureFailed','BrowserstackHealingPollResultFailed','PpYEl','OIQJs','set','browserName','TCG_URL','BrowserstackHealing','ntWSC','744476hIQFXG','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','CHwnC','edge','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','winstonLogger','locatorType','BrowserstackHealing.logData\x20method\x20timed\x20out','chTQS','safari','framework','firefox','config','value','2090211jYkYvX','getGlobal','\x22,\x20\x22tcgUrls\x22:\x20{\x22','2iCdyHq','10oshqHf','locatorValue','./autoHealHelper','39861RyIVQx','initializeCapabilities','firefoxOptions_','WNRWg','QnURF','chrome','race','map_','BrowserstackHealingSetTcgTokenFailed','_handleEvent','Gamkv'];a96_0x1cd8=function(){return _0x3223c6;};return a96_0x1cd8();}(function(_0x1dd4f6,_0x418d41){const _0x583200=a96_0x9403,_0x1beb50=_0x1dd4f6();while(!![]){try{const _0x21961d=-parseInt(_0x583200(0x17a))/0x1+parseInt(_0x583200(0x121))/0x2*(-parseInt(_0x583200(0x19e))/0x3)+-parseInt(_0x583200(0x190))/0x4*(parseInt(_0x583200(0x122))/0x5)+-parseInt(_0x583200(0x181))/0x6+parseInt(_0x583200(0x140))/0x7+-parseInt(_0x583200(0x159))/0x8+-parseInt(_0x583200(0x125))/0x9*(-parseInt(_0x583200(0x161))/0xa);if(_0x21961d===_0x418d41)break;else _0x1beb50['push'](_0x1beb50['shift']());}catch(_0x582913){_0x1beb50['push'](_0x1beb50['shift']());}}}(a96_0x1cd8,0x78c4e));const path=require(a96_0x3aa6a8(0x155)),{commandRepository}=require(a96_0x3aa6a8(0x124)),constants=require(a96_0x3aa6a8(0x162)),logger=require('../logger')[a96_0x3aa6a8(0x195)],globals=require(a96_0x3aa6a8(0x13e)),timeoutPromise=require(a96_0x3aa6a8(0x13a)),isUndefinedOrNull=_0x5e03d1=>_0x5e03d1===undefined||_0x5e03d1===null||_0x5e03d1==='',isNotUndefinedOrNull=_0x3da104=>!isUndefinedOrNull(_0x3da104),isString=_0x5dc479=>isNotUndefinedOrNull(_0x5dc479)&&typeof _0x5dc479===a96_0x3aa6a8(0x180);class AiSdkWrapper{constructor(){const _0x275be0=a96_0x3aa6a8,_0x412387={'PpYEl':function(_0x30a01e,_0x110d4a){return _0x30a01e(_0x110d4a);},'WNRWg':'../../ai-sdk-node/bundle'};this['BrowserstackHealing']=undefined;try{this[_0x275be0(0x18e)]=_0x412387[_0x275be0(0x189)](require,path['join'](__dirname,_0x412387[_0x275be0(0x128)]));}catch(_0x194653){logger['error'](_0x275be0(0x168)+(_0x194653&&_0x194653[_0x275be0(0x136)]?_0x194653[_0x275be0(0x136)]:''));}}[a96_0x3aa6a8(0x15b)](_0x2a39a1){const _0x5b6f19=a96_0x3aa6a8,_0x213021={};_0x213021[_0x5b6f19(0x166)]='newCapabilities',_0x213021[_0x5b6f19(0x163)]=function(_0x22bdb2,_0x150227){return _0x22bdb2===_0x150227;},_0x213021[_0x5b6f19(0x14d)]=_0x5b6f19(0x12a),_0x213021[_0x5b6f19(0x129)]=_0x5b6f19(0x19b),_0x213021[_0x5b6f19(0x15f)]=function(_0x4ee618,_0x2977af){return _0x4ee618===_0x2977af;},_0x213021['KQIDZ']=_0x5b6f19(0x199),_0x213021[_0x5b6f19(0x131)]=function(_0x3090d3,_0x16b6cd){return _0x3090d3===_0x16b6cd;},_0x213021[_0x5b6f19(0x157)]=_0x5b6f19(0x193),_0x213021[_0x5b6f19(0x12f)]='microsoftedge';const _0x32fb7e=_0x213021;try{const _0x4c1ca1=this['BrowserstackHealing'][_0x5b6f19(0x126)](Object[_0x5b6f19(0x176)](_0x2a39a1[_0x5b6f19(0x144)]()[_0x5b6f19(0x12c)]));console[_0x5b6f19(0x14f)](_0x32fb7e['zxUfm'],_0x4c1ca1);if(_0x32fb7e['aHDHH'](_0x4c1ca1?.['browserName']?.['toLowerCase'](),_0x32fb7e['jAkCA']))_0x2a39a1[_0x5b6f19(0x172)]=_0x4c1ca1;else{if(_0x32fb7e[_0x5b6f19(0x163)](_0x4c1ca1?.[_0x5b6f19(0x18c)]?.[_0x5b6f19(0x16e)](),_0x32fb7e[_0x5b6f19(0x129)]))_0x2a39a1[_0x5b6f19(0x127)]=_0x4c1ca1;else{if(_0x32fb7e['kTKjR'](_0x4c1ca1?.['browserName']?.['toLowerCase'](),_0x32fb7e[_0x5b6f19(0x170)]))_0x2a39a1['safariOptions_']=_0x4c1ca1;else{if(_0x32fb7e[_0x5b6f19(0x131)](_0x4c1ca1?.[_0x5b6f19(0x18c)]?.['toLowerCase'](),_0x32fb7e[_0x5b6f19(0x157)])||_0x32fb7e[_0x5b6f19(0x163)](_0x4c1ca1?.['browserName']?.[_0x5b6f19(0x16e)](),_0x32fb7e[_0x5b6f19(0x12f)]))_0x2a39a1[_0x5b6f19(0x15d)]=_0x4c1ca1;else _0x32fb7e[_0x5b6f19(0x131)](_0x4c1ca1?.['browserName']?.[_0x5b6f19(0x16e)](),'ie')&&(_0x2a39a1[_0x5b6f19(0x151)]=_0x4c1ca1);}}}Object['keys'](_0x4c1ca1)[_0x5b6f19(0x139)](_0x28eed0=>{const _0x139f17=_0x5b6f19,_0xc096bf=_0x2a39a1[_0x139f17(0x13d)][_0x139f17(0x17f)](_0x28eed0);_0x2a39a1['capabilities_'][_0x139f17(0x18b)](_0x28eed0,_0x4c1ca1[_0x28eed0]);});}catch(_0x483768){logger[_0x5b6f19(0x146)](_0x5b6f19(0x191)+(_0x483768&&_0x483768[_0x5b6f19(0x136)]?_0x483768['message']:''));}}async['setTcgToken'](_0x104a0b){const _0x12167a=a96_0x3aa6a8,_0x38d94d={'CHwnC':function(_0x38ed7b,_0x13210b,_0x317004,_0x226487,_0x199314,_0x1aa040,_0xeb221d){return _0x38ed7b(_0x13210b,_0x317004,_0x226487,_0x199314,_0x1aa040,_0xeb221d);},'lxosK':_0x12167a(0x130),'ugCXL':_0x12167a(0x12d),'lQeIL':_0x12167a(0x179)},_0xcc0cf7=new Date(),_0x41db2c=_0x38d94d[_0x12167a(0x192)](timeoutPromise,constants['SET_TCG_TOKEN_TIMEOUT'],_0x38d94d[_0x12167a(0x182)],_0x38d94d[_0x12167a(0x142)],_0xcc0cf7,this[_0x12167a(0x19c)],this['framework']);await Promise[_0x12167a(0x12b)]([this['BrowserstackHealing']['setToken'](_0x104a0b,globals['getGlobal'](_0x38d94d[_0x12167a(0x183)]),constants[_0x12167a(0x18d)])['then'](()=>{const _0x1b3d49=_0x12167a;_0x41db2c[_0x1b3d49(0x17c)]();}),_0x41db2c]);}async[a96_0x3aa6a8(0x12e)](_0x10e1ae,_0x30f78f,_0x2867b2,_0x7a254e){const _0x533200=a96_0x3aa6a8,_0x5e4472={'OIQJs':function(_0x5c202d,_0x3f25df){return _0x5c202d===_0x3f25df;},'TqCtp':function(_0xe74c65,_0x4b071b){return _0xe74c65===_0x4b071b;},'VloEO':function(_0x43ae6e,_0x10eecb){return _0x43ae6e(_0x10eecb);},'uJbwF':function(_0x5f3fc6,_0x762100){return _0x5f3fc6(_0x762100);},'FWdal':function(_0x49bec7,_0xfbf307){return _0x49bec7(_0xfbf307);},'mFqvm':function(_0x1f70a9,_0x5dc544){return _0x1f70a9(_0x5dc544);},'ntWSC':'s://','zuufS':function(_0x3b72a6,_0x5ad29b){return _0x3b72a6(_0x5ad29b);},'pMwsi':_0x533200(0x16f),'qoMxw':_0x533200(0x143),'chTQS':_0x533200(0x145),'zQUqN':function(_0x1b9fd6,_0x5f1578,_0x3176ad,_0x32f732,_0x4de8f0,_0xa2ac0,_0xa8effe){return _0x1b9fd6(_0x5f1578,_0x3176ad,_0x32f732,_0x4de8f0,_0xa2ac0,_0xa8effe);},'LhDhU':_0x533200(0x197),'HXYMv':_0x533200(0x14a),'wjKHk':function(_0x388629,_0x53fc0a,_0x197849,_0x532cc3,_0x358b8c,_0x3e8870,_0x3e7a4f){return _0x388629(_0x53fc0a,_0x197849,_0x532cc3,_0x358b8c,_0x3e8870,_0x3e7a4f);},'OPwML':_0x533200(0x15a),'pBeez':_0x533200(0x187)},_0x2d44bf=(await _0x30f78f['getSession']())[_0x533200(0x160)]();let _0x22641e='';if(commandRepository[_0x533200(0x134)]()&&_0x5e4472[_0x533200(0x18a)](_0x7a254e,![])||_0x5e4472[_0x533200(0x185)](_0x7a254e,!![])){const _0x5daeb1=_0x5e4472[_0x533200(0x154)](isNotUndefinedOrNull,_0x2867b2[_0x533200(0x149)][_0x533200(0x17e)])&&_0x5e4472['uJbwF'](isString,_0x2867b2[_0x533200(0x149)]['using'])?_0x2867b2[_0x533200(0x149)][_0x533200(0x17e)][_0x533200(0x164)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x71397b=_0x5e4472['VloEO'](isNotUndefinedOrNull,_0x2867b2[_0x533200(0x149)]['using'])&&_0x5e4472['uJbwF'](isString,_0x2867b2['parameters_'][_0x533200(0x19d)])?_0x2867b2[_0x533200(0x149)][_0x533200(0x19d)][_0x533200(0x164)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x115924=_0x5e4472[_0x533200(0x154)](isNotUndefinedOrNull,commandRepository[_0x533200(0x173)]())&&_0x5e4472[_0x533200(0x178)](isString,commandRepository[_0x533200(0x173)]())?commandRepository['getProjectName']()[_0x533200(0x164)](/'/g,'\x5c\x27')[_0x533200(0x164)](/"/g,'\x5c\x22'):'';let _0x2cb978=_0x5e4472[_0x533200(0x154)](isNotUndefinedOrNull,global[_0x533200(0x16a)])&&_0x5e4472[_0x533200(0x141)](isString,global[_0x533200(0x16a)])?global[_0x533200(0x16a)][_0x533200(0x164)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';!_0x2cb978&&(_0x2cb978=_0x5e4472[_0x533200(0x132)](isNotUndefinedOrNull,commandRepository[_0x533200(0x16c)]())&&_0x5e4472[_0x533200(0x132)](isString,commandRepository[_0x533200(0x16c)]())?commandRepository[_0x533200(0x16c)]()['replace'](/'/g,'\x5c\x27')[_0x533200(0x164)](/"/g,'\x5c\x22'):'');let _0xf5daea='{\x22region\x22:\x20\x22'+constants[_0x533200(0x15c)]+_0x533200(0x120)+constants['TCG_REGION']+_0x533200(0x175)+constants['TCG_URL'][_0x533200(0x137)](_0x5e4472[_0x533200(0x18f)])[0x1]+_0x533200(0x138);_0xf5daea=_0x5e4472[_0x533200(0x132)](isNotUndefinedOrNull,_0xf5daea)&&_0x5e4472[_0x533200(0x167)](isString,_0xf5daea)?_0xf5daea['replace'](/'/g,'\x5c\x27')[_0x533200(0x164)](/"/g,'\x5c\x22'):'';const _0x5ac22b=commandRepository[_0x533200(0x16d)](_0x2d44bf),_0x1b2d98=globals['getGlobal'](_0x5e4472[_0x533200(0x17d)]),_0x3a9bb0=globals[_0x533200(0x11f)](_0x5e4472[_0x533200(0x150)]),_0x30015b=globals[_0x533200(0x11f)](_0x5e4472[_0x533200(0x198)]),_0x2bdda4=![],_0x1c7077=new Date();if(_0x7a254e){const _0x31816=_0x5e4472[_0x533200(0x165)](timeoutPromise,constants[_0x533200(0x186)],_0x5e4472['LhDhU'],_0x5e4472[_0x533200(0x148)],_0x1c7077,this[_0x533200(0x19c)],this[_0x533200(0x19a)]);_0x22641e=await Promise[_0x533200(0x12b)]([this['BrowserstackHealing'][_0x533200(0x147)](_0x5daeb1,_0x71397b,_0x115924,_0x2cb978,_0x3a9bb0,_0x2d44bf,_0x5ac22b,_0xf5daea)[_0x533200(0x13c)](_0x32319a=>{const _0x28a3e2=_0x533200;return _0x31816[_0x28a3e2(0x17c)](),_0x32319a;}),_0x31816]);}else{if(commandRepository[_0x533200(0x134)]()){const _0x394587=_0x5e4472['wjKHk'](timeoutPromise,constants['HEALING_FAILURE_TIMEOUT'],_0x5e4472[_0x533200(0x169)],_0x5e4472['pBeez'],_0x1c7077,this[_0x533200(0x19c)],this[_0x533200(0x19a)]);_0x22641e=await Promise[_0x533200(0x12b)]([this['BrowserstackHealing'][_0x533200(0x171)](_0x5daeb1,_0x71397b,_0x115924,_0x2cb978,_0x1b2d98,_0x3a9bb0,_0x2d44bf,_0x5ac22b,_0x2bdda4,_0x30015b,_0xf5daea)['then'](_0x23c7b5=>{return _0x394587['cancel'](),_0x23c7b5;}),_0x394587]);}}_0x22641e&&await _0x30f78f[_0x533200(0x13b)](_0x22641e);}}async[a96_0x3aa6a8(0x16b)](_0x3c283f,_0x393961,_0x27fd35){const _0x5321ad=a96_0x3aa6a8;try{await this[_0x5321ad(0x12e)](_0x3c283f,_0x393961,_0x27fd35,!![]);}catch(_0x4b84dc){return logger[_0x5321ad(0x146)](_0x5321ad(0x194)+(_0x4b84dc&&_0x4b84dc[_0x5321ad(0x136)]?_0x4b84dc[_0x5321ad(0x136)]:'')),![];}return!![];}async[a96_0x3aa6a8(0x14e)](_0x477104,_0x588618,_0x16a187){const _0x4f8033=a96_0x3aa6a8,_0x5c9128={'zCyAP':function(_0xa0d586,_0x5e9489,_0x2f5a43,_0x3c4962,_0xe70dee,_0x2f8d9b,_0x484ec2){return _0xa0d586(_0x5e9489,_0x2f5a43,_0x3c4962,_0xe70dee,_0x2f8d9b,_0x484ec2);},'WFQKx':_0x4f8033(0x174),'gSEYf':_0x4f8033(0x188),'KYnij':_0x4f8033(0x179)};try{await this[_0x4f8033(0x12e)](_0x477104,_0x588618,_0x16a187,![]);const _0x3140e4=(await _0x588618[_0x4f8033(0x152)]())[_0x4f8033(0x160)](),_0x2463a3=new Date(),_0x5c75ee=_0x5c9128[_0x4f8033(0x177)](timeoutPromise,constants[_0x4f8033(0x13f)],_0x5c9128[_0x4f8033(0x14c)],_0x5c9128[_0x4f8033(0x135)],_0x2463a3,this[_0x4f8033(0x19c)],this[_0x4f8033(0x19a)]),_0x32998a=await Promise[_0x4f8033(0x12b)]([this['BrowserstackHealing'][_0x4f8033(0x153)](constants['TCG_URL'],_0x3140e4,globals[_0x4f8033(0x11f)](_0x5c9128['KYnij']))[_0x4f8033(0x13c)](_0x5ec647=>{const _0x2017b4=_0x4f8033;return _0x5c75ee[_0x2017b4(0x17c)](),_0x5ec647;}),_0x5c75ee]);if(_0x32998a&&_0x32998a['selector']&&_0x32998a[_0x4f8033(0x19d)]){const _0x1e7e2d={};return _0x1e7e2d['locatorType']=_0x32998a[_0x4f8033(0x15e)],_0x1e7e2d[_0x4f8033(0x123)]=_0x32998a[_0x4f8033(0x19d)],_0x1e7e2d[_0x4f8033(0x17b)]=!![],_0x1e7e2d;}const _0x13d0ae={};return _0x13d0ae[_0x4f8033(0x196)]=_0x16a187[_0x4f8033(0x149)][_0x4f8033(0x17e)],_0x13d0ae[_0x4f8033(0x123)]=_0x32998a[_0x4f8033(0x19d)],_0x13d0ae[_0x4f8033(0x17b)]=!![],_0x13d0ae;}catch(_0x21b45f){return logger[_0x4f8033(0x14b)](_0x4f8033(0x184)+(_0x21b45f&&_0x21b45f['message']?_0x21b45f['message']:'')),logger[_0x4f8033(0x158)](_0x4f8033(0x133)+_0x16a187['name_']+'\x20command'),_0x16a187;}}}exports['aiSdkWrapper']=Object[a96_0x3aa6a8(0x156)](new AiSdkWrapper());