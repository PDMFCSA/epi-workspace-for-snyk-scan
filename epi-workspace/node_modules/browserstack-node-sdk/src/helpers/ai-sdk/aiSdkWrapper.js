const a85_0x406bb2=a85_0x3d1f;function a85_0x3d1f(_0xd103e1,_0x38f1c8){const _0x5100a8=a85_0x5100();return a85_0x3d1f=function(_0x3d1f45,_0x256063){_0x3d1f45=_0x3d1f45-0x1b4;let _0x4b0c37=_0x5100a8[_0x3d1f45];return _0x4b0c37;},a85_0x3d1f(_0xd103e1,_0x38f1c8);}(function(_0x3d4653,_0x4644e6){const _0x40f502=a85_0x3d1f,_0x2ab783=_0x3d4653();while(!![]){try{const _0x56c7a0=parseInt(_0x40f502(0x1c5))/0x1*(parseInt(_0x40f502(0x1f9))/0x2)+parseInt(_0x40f502(0x1c9))/0x3+parseInt(_0x40f502(0x20f))/0x4+-parseInt(_0x40f502(0x1d8))/0x5+-parseInt(_0x40f502(0x22c))/0x6+parseInt(_0x40f502(0x212))/0x7+parseInt(_0x40f502(0x213))/0x8*(-parseInt(_0x40f502(0x1e5))/0x9);if(_0x56c7a0===_0x4644e6)break;else _0x2ab783['push'](_0x2ab783['shift']());}catch(_0x5581a4){_0x2ab783['push'](_0x2ab783['shift']());}}}(a85_0x5100,0x680af));const path=require(a85_0x406bb2(0x231)),{commandRepository}=require(a85_0x406bb2(0x1cf)),constants=require(a85_0x406bb2(0x1c7)),logger=require(a85_0x406bb2(0x228))[a85_0x406bb2(0x1db)],globals=require('../globals'),timeoutPromise=require(a85_0x406bb2(0x218)),isUndefinedOrNull=_0x472e54=>_0x472e54===undefined||_0x472e54===null||_0x472e54==='',isNotUndefinedOrNull=_0x297281=>!isUndefinedOrNull(_0x297281),isString=_0x44d589=>isNotUndefinedOrNull(_0x44d589)&&typeof _0x44d589==='string';function a85_0x5100(){const _0x2e3b51=['864pwRZvF','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','framework','newCapabilities','using','TaaTx','replace','BrowserstackHealingHealFailureFailed','fromEntries','edgeOptions_','getId','aiHeal_userId','BrowserstackHealing','cancel','MMfGg','XGdGL','message','eOwCX','get','\x22:\x20{\x22endpoint\x22:\x20\x22','399086OBxbZT','getGlobal','forEach','getCapabilities','../../ai-sdk-node/bundle','\x22,\x20\x22tcgUrls\x22:\x20{\x22','aiHeal_isGroupAIEnabled','TCG_URL','aiSdkWrapper','safari','getSession','qeUoM','bXlBu','aiHeal_groupId','BrowserstackHealing.healFailure\x20method\x20timed\x20out','browserName','JMGtc','ieOptions_','getCommands','bMiLJ','aiHealing','qpGBg','2050772CqBdOI','BrowserstackHealingLogDataFailed','split','4734191ihMEmE','98992JDTKul','chromeOptions_','vviMO','IcRvY','SET_TCG_TOKEN_TIMEOUT','../../helpers/timeoutPromise','_handleEvent','BrowserstackHealing.logData\x20method\x20timed\x20out','browserstackSessionName','error','POLL_HEALING_RESULT_TIMEOUT','healFailure','getProjectName','HeIHQ','oTWNl','RHRcN','handleSuccess','join','pollResult','vplSJ','capabilities_','../logger','locatorType','firefoxOptions_','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','552258rbkruB','setToken','name_','initializeHealingCapabilities','value','path','log','{\x22region\x22:\x20\x22','toLowerCase','isSelfHealEnabled','yjEKq','keys','map_','lHTjS','s://','XbCRG','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','LEHhp','edge','TCG_REGION','setTcgToken','selector','CRAed','knqCJ','3ysSOWO','aiHeal_sessionToken','../../bin/utils/constants','qXMpC','2135667eLYbXH','parameters_','VOnYx','getTestName','bmcha','set','./autoHealHelper','race','microsoftedge','locatorValue','BxESJ','hzomZ','then','SXEMn','config','3967090WUTOVH','firefox','debug','winstonLogger','ZupWv','\x22}}}','handleFailure','BrowserstackHealingPollResultFailed','BMrEp','HEALING_LOG_DATA_TIMEOUT','sUwOv','safariOptions_','IodnR'];a85_0x5100=function(){return _0x2e3b51;};return a85_0x5100();}class AiSdkWrapper{constructor(){const _0x29b347=a85_0x406bb2,_0x4ed56b={'bMiLJ':function(_0x374628,_0xfcc946){return _0x374628(_0xfcc946);},'yjEKq':_0x29b347(0x1fd)};this['BrowserstackHealing']=undefined;try{this[_0x29b347(0x1f1)]=_0x4ed56b[_0x29b347(0x20c)](require,path[_0x29b347(0x224)](__dirname,_0x4ed56b[_0x29b347(0x1b7)]));}catch(_0x43f0b2){logger[_0x29b347(0x21c)]('Unable\x20to\x20load\x20healing\x20module,\x20error:\x20'+(_0x43f0b2&&_0x43f0b2[_0x29b347(0x1f5)]?_0x43f0b2[_0x29b347(0x1f5)]:''));}}[a85_0x406bb2(0x22f)](_0x6d9761){const _0x5329a9=a85_0x406bb2,_0x570934={};_0x570934[_0x5329a9(0x1e0)]=_0x5329a9(0x1e8),_0x570934['CRAed']=function(_0x22ec07,_0x5317d2){return _0x22ec07===_0x5317d2;},_0x570934[_0x5329a9(0x1cb)]='chrome',_0x570934[_0x5329a9(0x204)]=function(_0x2bb29f,_0x8298df){return _0x2bb29f===_0x8298df;},_0x570934[_0x5329a9(0x226)]=_0x5329a9(0x1d9),_0x570934[_0x5329a9(0x1bc)]=_0x5329a9(0x202),_0x570934[_0x5329a9(0x1cd)]=function(_0x286c58,_0x434597){return _0x286c58===_0x434597;},_0x570934[_0x5329a9(0x1ea)]=_0x5329a9(0x1bf),_0x570934[_0x5329a9(0x222)]=_0x5329a9(0x1d1),_0x570934[_0x5329a9(0x1be)]=function(_0x41851f,_0x153395){return _0x41851f===_0x153395;};const _0x3d1421=_0x570934;try{const _0x57b40d=this[_0x5329a9(0x1f1)]['initializeCapabilities'](Object[_0x5329a9(0x1ed)](_0x6d9761[_0x5329a9(0x1fc)]()[_0x5329a9(0x1b9)]));console[_0x5329a9(0x232)](_0x3d1421[_0x5329a9(0x1e0)],_0x57b40d);if(_0x3d1421[_0x5329a9(0x1c3)](_0x57b40d?.['browserName']?.[_0x5329a9(0x1b5)](),_0x3d1421[_0x5329a9(0x1cb)]))_0x6d9761[_0x5329a9(0x214)]=_0x57b40d;else{if(_0x3d1421[_0x5329a9(0x204)](_0x57b40d?.[_0x5329a9(0x208)]?.[_0x5329a9(0x1b5)](),_0x3d1421[_0x5329a9(0x226)]))_0x6d9761[_0x5329a9(0x22a)]=_0x57b40d;else{if(_0x3d1421[_0x5329a9(0x204)](_0x57b40d?.['browserName']?.[_0x5329a9(0x1b5)](),_0x3d1421[_0x5329a9(0x1bc)]))_0x6d9761[_0x5329a9(0x1e3)]=_0x57b40d;else{if(_0x3d1421['bmcha'](_0x57b40d?.[_0x5329a9(0x208)]?.[_0x5329a9(0x1b5)](),_0x3d1421['TaaTx'])||_0x3d1421[_0x5329a9(0x204)](_0x57b40d?.[_0x5329a9(0x208)]?.[_0x5329a9(0x1b5)](),_0x3d1421[_0x5329a9(0x222)]))_0x6d9761[_0x5329a9(0x1ee)]=_0x57b40d;else _0x3d1421['LEHhp'](_0x57b40d?.[_0x5329a9(0x208)]?.['toLowerCase'](),'ie')&&(_0x6d9761[_0x5329a9(0x20a)]=_0x57b40d);}}}Object[_0x5329a9(0x1b8)](_0x57b40d)[_0x5329a9(0x1fb)](_0x284d73=>{const _0x5c9695=_0x5329a9,_0x3c7e64=_0x6d9761[_0x5c9695(0x227)][_0x5c9695(0x1f7)](_0x284d73);_0x6d9761[_0x5c9695(0x227)][_0x5c9695(0x1ce)](_0x284d73,_0x57b40d[_0x284d73]);});}catch(_0x265703){logger[_0x5329a9(0x21c)](_0x5329a9(0x1e6)+(_0x265703&&_0x265703[_0x5329a9(0x1f5)]?_0x265703[_0x5329a9(0x1f5)]:''));}}async[a85_0x406bb2(0x1c1)](_0x1553f3){const _0x23765e=a85_0x406bb2,_0x546a67={'eOwCX':function(_0x2d0884,_0x360659,_0x140068,_0x562b60,_0x467069,_0x1a78ec,_0x5613d0){return _0x2d0884(_0x360659,_0x140068,_0x562b60,_0x467069,_0x1a78ec,_0x5613d0);},'qpGBg':'BrowserstackHealing.setToken\x20method\x20timed\x20out','rXadU':'BrowserstackHealingSetTcgTokenFailed','vviMO':_0x23765e(0x1c6)},_0x5d92e2=new Date(),_0x290a30=_0x546a67[_0x23765e(0x1f6)](timeoutPromise,constants[_0x23765e(0x217)],_0x546a67[_0x23765e(0x20e)],_0x546a67['rXadU'],_0x5d92e2,this[_0x23765e(0x1d7)],this[_0x23765e(0x1e7)]);await Promise[_0x23765e(0x1d0)]([this[_0x23765e(0x1f1)][_0x23765e(0x22d)](_0x1553f3,globals[_0x23765e(0x1fa)](_0x546a67[_0x23765e(0x215)]),constants[_0x23765e(0x200)])['then'](()=>{const _0x3a79ed=_0x23765e;_0x290a30[_0x3a79ed(0x1f2)]();}),_0x290a30]);}async['_handleEvent'](_0x5401f3,_0x54d1c4,_0x20e970,_0xdc81c3){const _0x49679d=a85_0x406bb2,_0x5d4292={'ZupWv':function(_0x1bb83b,_0x3a1055){return _0x1bb83b===_0x3a1055;},'qXMpC':function(_0x3fafab,_0x1b3670){return _0x3fafab(_0x1b3670);},'lHTjS':function(_0xd5c016,_0x1a7139){return _0xd5c016(_0x1a7139);},'JMGtc':function(_0x39407e,_0x58e770){return _0x39407e(_0x58e770);},'BxESJ':function(_0xaadc09,_0x2b4b75){return _0xaadc09(_0x2b4b75);},'IcRvY':function(_0x331bcf,_0x40c443){return _0x331bcf(_0x40c443);},'HeIHQ':_0x49679d(0x1bb),'knqCJ':function(_0x2e42d8,_0x3b10da){return _0x2e42d8(_0x3b10da);},'XGdGL':_0x49679d(0x1f0),'BgSCc':_0x49679d(0x206),'FgbTS':_0x49679d(0x1ff),'oTWNl':function(_0x5d22f6,_0x48d38a,_0x5e000f,_0x31ad11,_0x5889c7,_0x450d0f,_0x47ad9b){return _0x5d22f6(_0x48d38a,_0x5e000f,_0x31ad11,_0x5889c7,_0x450d0f,_0x47ad9b);},'bXlBu':_0x49679d(0x21a),'hzomZ':_0x49679d(0x210),'sUwOv':_0x49679d(0x207),'SXEMn':_0x49679d(0x1ec)},_0x1424e6=(await _0x54d1c4[_0x49679d(0x203)]())[_0x49679d(0x1ef)]();let _0x31dcd7='';if(commandRepository[_0x49679d(0x1b6)]()&&_0x5d4292[_0x49679d(0x1dc)](_0xdc81c3,![])||_0x5d4292[_0x49679d(0x1dc)](_0xdc81c3,!![])){const _0x291eca=_0x5d4292[_0x49679d(0x1c8)](isNotUndefinedOrNull,_0x20e970[_0x49679d(0x1ca)][_0x49679d(0x1e9)])&&_0x5d4292[_0x49679d(0x1c8)](isString,_0x20e970[_0x49679d(0x1ca)][_0x49679d(0x1e9)])?_0x20e970[_0x49679d(0x1ca)][_0x49679d(0x1e9)][_0x49679d(0x1eb)](/'/g,'\x5c\x27')[_0x49679d(0x1eb)](/"/g,'\x5c\x22'):'',_0x5e01fe=_0x5d4292[_0x49679d(0x1c8)](isNotUndefinedOrNull,_0x20e970[_0x49679d(0x1ca)]['using'])&&_0x5d4292[_0x49679d(0x1c8)](isString,_0x20e970['parameters_'][_0x49679d(0x230)])?_0x20e970[_0x49679d(0x1ca)][_0x49679d(0x230)]['replace'](/'/g,'\x5c\x27')[_0x49679d(0x1eb)](/"/g,'\x5c\x22'):'',_0x3f83fa=_0x5d4292[_0x49679d(0x1ba)](isNotUndefinedOrNull,commandRepository[_0x49679d(0x21f)]())&&_0x5d4292[_0x49679d(0x209)](isString,commandRepository[_0x49679d(0x21f)]())?commandRepository[_0x49679d(0x21f)]()['replace'](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';let _0xcb7400=_0x5d4292[_0x49679d(0x1ba)](isNotUndefinedOrNull,global[_0x49679d(0x21b)])&&_0x5d4292[_0x49679d(0x1d3)](isString,global[_0x49679d(0x21b)])?global[_0x49679d(0x21b)]['replace'](/'/g,'\x5c\x27')[_0x49679d(0x1eb)](/"/g,'\x5c\x22'):'';!_0xcb7400&&(_0xcb7400=_0x5d4292[_0x49679d(0x216)](isNotUndefinedOrNull,commandRepository['getTestName']())&&_0x5d4292[_0x49679d(0x1d3)](isString,commandRepository[_0x49679d(0x1cc)]())?commandRepository[_0x49679d(0x1cc)]()[_0x49679d(0x1eb)](/'/g,'\x5c\x27')[_0x49679d(0x1eb)](/"/g,'\x5c\x22'):'');let _0x516f23=_0x49679d(0x1b4)+constants[_0x49679d(0x1c0)]+_0x49679d(0x1fe)+constants['TCG_REGION']+_0x49679d(0x1f8)+constants[_0x49679d(0x200)][_0x49679d(0x211)](_0x5d4292[_0x49679d(0x220)])[0x1]+_0x49679d(0x1dd);_0x516f23=_0x5d4292['BxESJ'](isNotUndefinedOrNull,_0x516f23)&&_0x5d4292[_0x49679d(0x1c4)](isString,_0x516f23)?_0x516f23[_0x49679d(0x1eb)](/'/g,'\x5c\x27')[_0x49679d(0x1eb)](/"/g,'\x5c\x22'):'';const _0xaa75b5=commandRepository[_0x49679d(0x20b)](_0x1424e6),_0x3dce9c=globals[_0x49679d(0x1fa)](_0x5d4292[_0x49679d(0x1f4)]),_0x3dc13b=globals[_0x49679d(0x1fa)](_0x5d4292['BgSCc']),_0xfa8854=globals[_0x49679d(0x1fa)](_0x5d4292['FgbTS']),_0x6421d0=![],_0x556b5b=new Date();if(_0xdc81c3){const _0x3de0e0=_0x5d4292['oTWNl'](timeoutPromise,constants[_0x49679d(0x1e1)],_0x5d4292[_0x49679d(0x205)],_0x5d4292[_0x49679d(0x1d4)],_0x556b5b,this[_0x49679d(0x1d7)],this[_0x49679d(0x1e7)]);_0x31dcd7=await Promise[_0x49679d(0x1d0)]([this[_0x49679d(0x1f1)]['logData'](_0x291eca,_0x5e01fe,_0x3f83fa,_0xcb7400,_0x3dc13b,_0x1424e6,_0xaa75b5,_0x516f23)[_0x49679d(0x1d5)](_0x24c200=>{const _0xb9868a=_0x49679d;return _0x3de0e0[_0xb9868a(0x1f2)](),_0x24c200;}),_0x3de0e0]);}else{if(commandRepository[_0x49679d(0x1b6)]()){const _0x2a9e44=_0x5d4292[_0x49679d(0x221)](timeoutPromise,constants['HEALING_FAILURE_TIMEOUT'],_0x5d4292[_0x49679d(0x1e2)],_0x5d4292[_0x49679d(0x1d6)],_0x556b5b,this[_0x49679d(0x1d7)],this[_0x49679d(0x1e7)]);_0x31dcd7=await Promise['race']([this[_0x49679d(0x1f1)][_0x49679d(0x21e)](_0x291eca,_0x5e01fe,_0x3f83fa,_0xcb7400,_0x3dce9c,_0x3dc13b,_0x1424e6,_0xaa75b5,_0x6421d0,_0xfa8854,_0x516f23)[_0x49679d(0x1d5)](_0x5dc909=>{const _0x5c56e7=_0x49679d;return _0x2a9e44[_0x5c56e7(0x1f2)](),_0x5dc909;}),_0x2a9e44]);}}_0x31dcd7&&await _0x54d1c4['executeScript'](_0x31dcd7);}}async[a85_0x406bb2(0x223)](_0x39e354,_0x458cac,_0x1d9d4f){const _0x477e54=a85_0x406bb2;try{await this[_0x477e54(0x219)](_0x39e354,_0x458cac,_0x1d9d4f,!![]);}catch(_0x299fb5){return logger[_0x477e54(0x21c)](_0x477e54(0x1bd)+(_0x299fb5&&_0x299fb5['message']?_0x299fb5[_0x477e54(0x1f5)]:'')),![];}return!![];}async[a85_0x406bb2(0x1de)](_0x130ac6,_0x3f4344,_0x3aa01d){const _0x382f52=a85_0x406bb2,_0x215fba={'MMfGg':function(_0x2903fd,_0x77f3ae,_0xb51424,_0x42c373,_0x1e891d,_0x3c2779,_0x2ff121){return _0x2903fd(_0x77f3ae,_0xb51424,_0x42c373,_0x1e891d,_0x3c2779,_0x2ff121);},'afKhe':'BrowserstackHealing.pollResult\x20method\x20timed\x20out','PDgkC':_0x382f52(0x1df),'IodnR':_0x382f52(0x1c6)};try{await this[_0x382f52(0x219)](_0x130ac6,_0x3f4344,_0x3aa01d,![]);const _0xd469cc=(await _0x3f4344[_0x382f52(0x203)]())[_0x382f52(0x1ef)](),_0xb3f2ed=new Date(),_0xc9ec06=_0x215fba[_0x382f52(0x1f3)](timeoutPromise,constants[_0x382f52(0x21d)],_0x215fba['afKhe'],_0x215fba['PDgkC'],_0xb3f2ed,this['config'],this[_0x382f52(0x1e7)]),_0x1f4f06=await Promise[_0x382f52(0x1d0)]([this[_0x382f52(0x1f1)][_0x382f52(0x225)](constants[_0x382f52(0x200)],_0xd469cc,globals[_0x382f52(0x1fa)](_0x215fba[_0x382f52(0x1e4)]))[_0x382f52(0x1d5)](_0x27ff9a=>{const _0x3e02af=_0x382f52;return _0xc9ec06[_0x3e02af(0x1f2)](),_0x27ff9a;}),_0xc9ec06]);if(_0x1f4f06&&_0x1f4f06['selector']&&_0x1f4f06['value']){const _0x54328c={};return _0x54328c[_0x382f52(0x229)]=_0x1f4f06[_0x382f52(0x1c2)],_0x54328c[_0x382f52(0x1d2)]=_0x1f4f06['value'],_0x54328c['aiHealing']=!![],_0x54328c;}const _0x33442d={};return _0x33442d[_0x382f52(0x229)]=_0x3aa01d[_0x382f52(0x1ca)][_0x382f52(0x1e9)],_0x33442d['locatorValue']=_0x1f4f06[_0x382f52(0x230)],_0x33442d[_0x382f52(0x20d)]=!![],_0x33442d;}catch(_0x3aa716){return logger[_0x382f52(0x1da)]('Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20'+(_0x3aa716&&_0x3aa716[_0x382f52(0x1f5)]?_0x3aa716[_0x382f52(0x1f5)]:'')),logger['info'](_0x382f52(0x22b)+_0x3aa01d[_0x382f52(0x22e)]+'\x20command'),_0x3aa01d;}}}exports[a85_0x406bb2(0x201)]=Object['freeze'](new AiSdkWrapper());