const a96_0xe40e72=a96_0x3b03;(function(_0x414033,_0x6b141e){const _0x27208d=a96_0x3b03,_0xf6fea1=_0x414033();while(!![]){try{const _0x3a15ec=-parseInt(_0x27208d(0x1aa))/0x1+-parseInt(_0x27208d(0x196))/0x2+parseInt(_0x27208d(0x19a))/0x3*(parseInt(_0x27208d(0x1e0))/0x4)+-parseInt(_0x27208d(0x1c9))/0x5*(parseInt(_0x27208d(0x1f9))/0x6)+-parseInt(_0x27208d(0x207))/0x7+parseInt(_0x27208d(0x192))/0x8*(-parseInt(_0x27208d(0x1ab))/0x9)+-parseInt(_0x27208d(0x197))/0xa*(-parseInt(_0x27208d(0x1f0))/0xb);if(_0x3a15ec===_0x6b141e)break;else _0xf6fea1['push'](_0xf6fea1['shift']());}catch(_0x2bdccf){_0xf6fea1['push'](_0xf6fea1['shift']());}}}(a96_0x4d3f,0x7c29b));const path=require('path'),{commandRepository}=require(a96_0xe40e72(0x18d)),constants=require(a96_0xe40e72(0x1dd)),logger=require(a96_0xe40e72(0x190))['winstonLogger'],globals=require(a96_0xe40e72(0x1eb)),timeoutPromise=require(a96_0xe40e72(0x1be)),isUndefinedOrNull=_0x344b2e=>_0x344b2e===undefined||_0x344b2e===null||_0x344b2e==='',isNotUndefinedOrNull=_0x468c9a=>!isUndefinedOrNull(_0x468c9a),isString=_0x6f774c=>isNotUndefinedOrNull(_0x6f774c)&&typeof _0x6f774c===a96_0xe40e72(0x18e);class AiSdkWrapper{constructor(){const _0x581276=a96_0xe40e72,_0x4bcdf4={'cEgoY':function(_0x1c1555,_0x40e6a9){return _0x1c1555(_0x40e6a9);},'Hjyae':'../../ai-sdk-node/bundle'};this[_0x581276(0x1ad)]=undefined;try{this[_0x581276(0x1ad)]=_0x4bcdf4[_0x581276(0x1d9)](require,path['join'](__dirname,_0x4bcdf4[_0x581276(0x1bf)]));}catch(_0x34c510){logger[_0x581276(0x1b2)](_0x581276(0x201)+(_0x34c510&&_0x34c510['message']?_0x34c510[_0x581276(0x1bc)]:''));}}[a96_0xe40e72(0x18b)](_0x343589){const _0x220d02=a96_0xe40e72,_0x353e31={};_0x353e31[_0x220d02(0x1ca)]=_0x220d02(0x1f5),_0x353e31[_0x220d02(0x18c)]=function(_0x59b240,_0x4baa4f){return _0x59b240===_0x4baa4f;},_0x353e31[_0x220d02(0x1e5)]=_0x220d02(0x1e9),_0x353e31[_0x220d02(0x1ff)]=_0x220d02(0x1a6),_0x353e31['ryZum']=function(_0x565db0,_0x10f536){return _0x565db0===_0x10f536;},_0x353e31[_0x220d02(0x1cc)]=_0x220d02(0x1c8),_0x353e31[_0x220d02(0x1ea)]=function(_0x4dc6ad,_0xd1ce69){return _0x4dc6ad===_0xd1ce69;},_0x353e31['vPSwA']=_0x220d02(0x1f3),_0x353e31[_0x220d02(0x1ec)]=_0x220d02(0x1e7),_0x353e31['hlAnQ']=function(_0x2ae6a9,_0x36fd34){return _0x2ae6a9===_0x36fd34;};const _0x39e99d=_0x353e31;try{const _0x20063b=this[_0x220d02(0x1ad)][_0x220d02(0x1e1)](Object[_0x220d02(0x1bd)](_0x343589[_0x220d02(0x1ba)]()[_0x220d02(0x200)]));console[_0x220d02(0x1e6)](_0x39e99d[_0x220d02(0x1ca)],_0x20063b);if(_0x39e99d[_0x220d02(0x18c)](_0x20063b?.['browserName']?.[_0x220d02(0x1a9)](),_0x39e99d['xUtgV']))_0x343589['chromeOptions_']=_0x20063b;else{if(_0x39e99d[_0x220d02(0x18c)](_0x20063b?.['browserName']?.[_0x220d02(0x1a9)](),_0x39e99d['nUXIo']))_0x343589[_0x220d02(0x1e4)]=_0x20063b;else{if(_0x39e99d[_0x220d02(0x1d7)](_0x20063b?.[_0x220d02(0x1fe)]?.[_0x220d02(0x1a9)](),_0x39e99d[_0x220d02(0x1cc)]))_0x343589[_0x220d02(0x198)]=_0x20063b;else{if(_0x39e99d[_0x220d02(0x1ea)](_0x20063b?.['browserName']?.[_0x220d02(0x1a9)](),_0x39e99d['vPSwA'])||_0x39e99d[_0x220d02(0x1ea)](_0x20063b?.[_0x220d02(0x1fe)]?.[_0x220d02(0x1a9)](),_0x39e99d[_0x220d02(0x1ec)]))_0x343589[_0x220d02(0x1de)]=_0x20063b;else _0x39e99d[_0x220d02(0x204)](_0x20063b?.['browserName']?.['toLowerCase'](),'ie')&&(_0x343589[_0x220d02(0x19e)]=_0x20063b);}}}Object[_0x220d02(0x1b9)](_0x20063b)[_0x220d02(0x1c2)](_0x691c15=>{const _0xff1040=_0x220d02,_0x23b80f=_0x343589[_0xff1040(0x205)][_0xff1040(0x1c7)](_0x691c15);_0x343589['capabilities_'][_0xff1040(0x1b5)](_0x691c15,_0x20063b[_0x691c15]);});}catch(_0x32aa1e){logger['error'](_0x220d02(0x1fa)+(_0x32aa1e&&_0x32aa1e[_0x220d02(0x1bc)]?_0x32aa1e[_0x220d02(0x1bc)]:''));}}async['setTcgToken'](_0x45a6fc){const _0x3569f6=a96_0xe40e72,_0x4543b1={'aTCUu':function(_0x34eda8,_0x2bc62a,_0x29f5bd,_0x114f70,_0x59f51f,_0x9bd5f6,_0x577643){return _0x34eda8(_0x2bc62a,_0x29f5bd,_0x114f70,_0x59f51f,_0x9bd5f6,_0x577643);},'ofpPR':_0x3569f6(0x1c6),'JfmSb':_0x3569f6(0x1bb),'dzizg':_0x3569f6(0x1b7)},_0x2c0909=new Date(),_0x49abb7=_0x4543b1[_0x3569f6(0x1a8)](timeoutPromise,constants['SET_TCG_TOKEN_TIMEOUT'],_0x4543b1[_0x3569f6(0x18a)],_0x4543b1[_0x3569f6(0x1a0)],_0x2c0909,this[_0x3569f6(0x1df)],this['framework']);await Promise[_0x3569f6(0x1a2)]([this[_0x3569f6(0x1ad)][_0x3569f6(0x1f4)](_0x45a6fc,globals[_0x3569f6(0x1af)](_0x4543b1[_0x3569f6(0x191)]),constants['TCG_URL'])['then'](()=>{_0x49abb7['cancel']();}),_0x49abb7]);}async[a96_0xe40e72(0x1a5)](_0x579cff,_0x2b2818,_0x5b486a,_0xd7fcfd){const _0x248fab=a96_0xe40e72,_0xabf5e0={'TCzUh':function(_0x3b09d2,_0x237078){return _0x3b09d2===_0x237078;},'xfIjk':function(_0x4171fa,_0x140a06){return _0x4171fa===_0x140a06;},'mhVBf':function(_0x28b9c8,_0x559433){return _0x28b9c8(_0x559433);},'MtVbC':function(_0x5a3150,_0x4de682){return _0x5a3150(_0x4de682);},'rRsLG':function(_0x7a5e9a,_0x5d74bf){return _0x7a5e9a(_0x5d74bf);},'ftjnk':function(_0x5cee4d,_0x48395d){return _0x5cee4d(_0x48395d);},'AFJUz':function(_0x55ca94,_0x368b8c){return _0x55ca94(_0x368b8c);},'BKfrQ':function(_0x14d2f3,_0xeb1268){return _0x14d2f3(_0xeb1268);},'EQNBI':_0x248fab(0x193),'ocGye':_0x248fab(0x1b1),'ixwmp':'aiHeal_groupId','glTTe':_0x248fab(0x1d8),'YFZnV':function(_0x2f7810,_0x23a636,_0x80497,_0x3d7059,_0x18bc4b,_0x5916ad,_0x466644){return _0x2f7810(_0x23a636,_0x80497,_0x3d7059,_0x18bc4b,_0x5916ad,_0x466644);},'MhREZ':_0x248fab(0x1d1),'MyYxv':_0x248fab(0x1c3),'lwLrr':function(_0x30b1c2,_0x4d49a1,_0x4f7f96,_0xa400d6,_0x45a617,_0x15e013,_0x5c91f0){return _0x30b1c2(_0x4d49a1,_0x4f7f96,_0xa400d6,_0x45a617,_0x15e013,_0x5c91f0);},'MADLT':_0x248fab(0x1c5),'TQKCn':_0x248fab(0x1b4)},_0x104517=(await _0x2b2818[_0x248fab(0x1b8)]())[_0x248fab(0x1db)]();let _0xd9a460='';if(commandRepository['isSelfHealEnabled']()&&_0xabf5e0['TCzUh'](_0xd7fcfd,![])||_0xabf5e0[_0x248fab(0x1ed)](_0xd7fcfd,!![])){const _0xc6f595=_0xabf5e0[_0x248fab(0x1f7)](isNotUndefinedOrNull,_0x5b486a[_0x248fab(0x1b3)][_0x248fab(0x1f8)])&&_0xabf5e0[_0x248fab(0x19c)](isString,_0x5b486a[_0x248fab(0x1b3)][_0x248fab(0x1f8)])?_0x5b486a[_0x248fab(0x1b3)][_0x248fab(0x1f8)]['replace'](/'/g,'\x5c\x27')[_0x248fab(0x1b0)](/"/g,'\x5c\x22'):'',_0x5f3bea=_0xabf5e0[_0x248fab(0x1ce)](isNotUndefinedOrNull,_0x5b486a[_0x248fab(0x1b3)][_0x248fab(0x1f8)])&&_0xabf5e0[_0x248fab(0x1ee)](isString,_0x5b486a['parameters_'][_0x248fab(0x1c1)])?_0x5b486a['parameters_'][_0x248fab(0x1c1)][_0x248fab(0x1b0)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x256f04=_0xabf5e0[_0x248fab(0x1ee)](isNotUndefinedOrNull,commandRepository['getProjectName']())&&_0xabf5e0['mhVBf'](isString,commandRepository[_0x248fab(0x206)]())?commandRepository['getProjectName']()[_0x248fab(0x1b0)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';let _0x4f0eea=_0xabf5e0[_0x248fab(0x1ce)](isNotUndefinedOrNull,global['browserstackSessionName'])&&_0xabf5e0[_0x248fab(0x1d4)](isString,global[_0x248fab(0x1dc)])?global[_0x248fab(0x1dc)][_0x248fab(0x1b0)](/'/g,'\x5c\x27')[_0x248fab(0x1b0)](/"/g,'\x5c\x22'):'';!_0x4f0eea&&(_0x4f0eea=_0xabf5e0['BKfrQ'](isNotUndefinedOrNull,commandRepository['getTestName']())&&_0xabf5e0[_0x248fab(0x1ce)](isString,commandRepository[_0x248fab(0x194)]())?commandRepository[_0x248fab(0x194)]()[_0x248fab(0x1b0)](/'/g,'\x5c\x27')[_0x248fab(0x1b0)](/"/g,'\x5c\x22'):'');let _0x467b71=_0x248fab(0x1cf)+constants['TCG_REGION']+_0x248fab(0x1f1)+constants[_0x248fab(0x1a7)]+'\x22:\x20{\x22endpoint\x22:\x20\x22'+constants['TCG_URL'][_0x248fab(0x1e3)](_0xabf5e0[_0x248fab(0x195)])[0x1]+_0x248fab(0x18f);_0x467b71=_0xabf5e0[_0x248fab(0x1d4)](isNotUndefinedOrNull,_0x467b71)&&_0xabf5e0[_0x248fab(0x1f7)](isString,_0x467b71)?_0x467b71[_0x248fab(0x1b0)](/'/g,'\x5c\x27')[_0x248fab(0x1b0)](/"/g,'\x5c\x22'):'';const _0x2ebea9=commandRepository[_0x248fab(0x1a3)](_0x104517),_0x5792eb=globals[_0x248fab(0x1af)](_0xabf5e0[_0x248fab(0x1f6)]),_0x375ad1=globals['getGlobal'](_0xabf5e0[_0x248fab(0x1ef)]),_0x3dc94e=globals['getGlobal'](_0xabf5e0['glTTe']),_0x4dd9e1=![],_0x35e075=new Date();if(_0xd7fcfd){const _0x39903c=_0xabf5e0['YFZnV'](timeoutPromise,constants['HEALING_LOG_DATA_TIMEOUT'],_0xabf5e0[_0x248fab(0x1e8)],_0xabf5e0[_0x248fab(0x1fc)],_0x35e075,this['config'],this[_0x248fab(0x19f)]);_0xd9a460=await Promise[_0x248fab(0x1a2)]([this[_0x248fab(0x1ad)][_0x248fab(0x1a4)](_0xc6f595,_0x5f3bea,_0x256f04,_0x4f0eea,_0x375ad1,_0x104517,_0x2ebea9,_0x467b71)[_0x248fab(0x199)](_0x31c30f=>{const _0x5619fb=_0x248fab;return _0x39903c[_0x5619fb(0x1b6)](),_0x31c30f;}),_0x39903c]);}else{if(commandRepository[_0x248fab(0x203)]()){const _0x460de5=_0xabf5e0[_0x248fab(0x19d)](timeoutPromise,constants[_0x248fab(0x1f2)],_0xabf5e0[_0x248fab(0x1a1)],_0xabf5e0['TQKCn'],_0x35e075,this[_0x248fab(0x1df)],this[_0x248fab(0x19f)]);_0xd9a460=await Promise[_0x248fab(0x1a2)]([this[_0x248fab(0x1ad)][_0x248fab(0x1d2)](_0xc6f595,_0x5f3bea,_0x256f04,_0x4f0eea,_0x5792eb,_0x375ad1,_0x104517,_0x2ebea9,_0x4dd9e1,_0x3dc94e,_0x467b71)[_0x248fab(0x199)](_0x4f8e22=>{const _0x3f617e=_0x248fab;return _0x460de5[_0x3f617e(0x1b6)](),_0x4f8e22;}),_0x460de5]);}}_0xd9a460&&await _0x2b2818[_0x248fab(0x1d6)](_0xd9a460);}}async['handleSuccess'](_0x1ed52f,_0xc4e130,_0xd07070){const _0x4a30d2=a96_0xe40e72;try{await this[_0x4a30d2(0x1a5)](_0x1ed52f,_0xc4e130,_0xd07070,!![]);}catch(_0x51f5ab){return logger[_0x4a30d2(0x1b2)](_0x4a30d2(0x1e2)+(_0x51f5ab&&_0x51f5ab[_0x4a30d2(0x1bc)]?_0x51f5ab[_0x4a30d2(0x1bc)]:'')),![];}return!![];}async[a96_0xe40e72(0x1cd)](_0x149100,_0xe2dbf7,_0xdbb119){const _0x2e3378=a96_0xe40e72,_0x438b6c={'OIwkv':function(_0x3f3ca2,_0x3f83b7,_0x2bbf1a,_0x121eb9,_0x47d23c,_0x3670db,_0x262a60){return _0x3f3ca2(_0x3f83b7,_0x2bbf1a,_0x121eb9,_0x47d23c,_0x3670db,_0x262a60);},'jAYzT':_0x2e3378(0x1fb),'tLqPK':'BrowserstackHealingPollResultFailed','xvlkL':_0x2e3378(0x1b7)};try{await this[_0x2e3378(0x1a5)](_0x149100,_0xe2dbf7,_0xdbb119,![]);const _0x459656=(await _0xe2dbf7[_0x2e3378(0x1b8)]())[_0x2e3378(0x1db)](),_0x3b3800=new Date(),_0x1ff310=_0x438b6c['OIwkv'](timeoutPromise,constants[_0x2e3378(0x1c4)],_0x438b6c['jAYzT'],_0x438b6c[_0x2e3378(0x1ac)],_0x3b3800,this[_0x2e3378(0x1df)],this['framework']),_0x174390=await Promise[_0x2e3378(0x1a2)]([this['BrowserstackHealing']['pollResult'](constants[_0x2e3378(0x1fd)],_0x459656,globals[_0x2e3378(0x1af)](_0x438b6c['xvlkL']))[_0x2e3378(0x199)](_0x56725b=>{return _0x1ff310['cancel'](),_0x56725b;}),_0x1ff310]);if(_0x174390&&_0x174390[_0x2e3378(0x1da)]&&_0x174390[_0x2e3378(0x1c1)]){const _0x3ece48={};return _0x3ece48[_0x2e3378(0x202)]=_0x174390[_0x2e3378(0x1da)],_0x3ece48[_0x2e3378(0x1d5)]=_0x174390[_0x2e3378(0x1c1)],_0x3ece48['aiHealing']=!![],_0x3ece48;}const _0x5ba08c={};return _0x5ba08c[_0x2e3378(0x202)]=_0xdbb119['parameters_']['using'],_0x5ba08c['locatorValue']=_0x174390[_0x2e3378(0x1c1)],_0x5ba08c['aiHealing']=!![],_0x5ba08c;}catch(_0x2d50df){return logger[_0x2e3378(0x1d0)](_0x2e3378(0x1d3)+(_0x2d50df&&_0x2d50df[_0x2e3378(0x1bc)]?_0x2d50df[_0x2e3378(0x1bc)]:'')),logger[_0x2e3378(0x1cb)]('Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20'+_0xdbb119['name_']+_0x2e3378(0x1c0)),_0xdbb119;}}}exports[a96_0xe40e72(0x1ae)]=Object[a96_0xe40e72(0x19b)](new AiSdkWrapper());function a96_0x3b03(_0x5dde44,_0x5ab5b5){const _0x4d3fec=a96_0x4d3f();return a96_0x3b03=function(_0x3b035c,_0x10d43e){_0x3b035c=_0x3b035c-0x18a;let _0x50d881=_0x4d3fec[_0x3b035c];return _0x50d881;},a96_0x3b03(_0x5dde44,_0x5ab5b5);}function a96_0x4d3f(){const _0x44ded9=['15647270GKndja','safariOptions_','then','2697YcPUNm','freeze','MtVbC','lwLrr','ieOptions_','framework','JfmSb','MADLT','race','getCommands','logData','_handleEvent','firefox','TCG_REGION','aTCUu','toLowerCase','953899PlpWFF','208863rSeKAY','tLqPK','BrowserstackHealing','aiSdkWrapper','getGlobal','replace','aiHeal_userId','error','parameters_','BrowserstackHealingHealFailureFailed','set','cancel','aiHeal_sessionToken','getSession','keys','getCapabilities','BrowserstackHealingSetTcgTokenFailed','message','fromEntries','../../helpers/timeoutPromise','Hjyae','\x20command','value','forEach','BrowserstackHealingLogDataFailed','POLL_HEALING_RESULT_TIMEOUT','BrowserstackHealing.healFailure\x20method\x20timed\x20out','BrowserstackHealing.setToken\x20method\x20timed\x20out','get','safari','91770yRZaXA','WMMBm','info','HEFrU','handleFailure','rRsLG','{\x22region\x22:\x20\x22','debug','BrowserstackHealing.logData\x20method\x20timed\x20out','healFailure','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','AFJUz','locatorValue','executeScript','ryZum','aiHeal_isGroupAIEnabled','cEgoY','selector','getId','browserstackSessionName','../../bin/utils/constants','edgeOptions_','config','136SmYwkv','initializeCapabilities','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','split','firefoxOptions_','xUtgV','log','microsoftedge','MhREZ','chrome','GAZPo','../globals','TStuw','xfIjk','ftjnk','ixwmp','22jTVCrE','\x22,\x20\x22tcgUrls\x22:\x20{\x22','HEALING_FAILURE_TIMEOUT','edge','setToken','newCapabilities','ocGye','mhVBf','using','30ROfzGq','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','BrowserstackHealing.pollResult\x20method\x20timed\x20out','MyYxv','TCG_URL','browserName','nUXIo','map_','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','locatorType','isSelfHealEnabled','hlAnQ','capabilities_','getProjectName','744205yTrxWX','ofpPR','initializeHealingCapabilities','XWKLA','./autoHealHelper','string','\x22}}}','../logger','dzizg','216JBdeSu','s://','getTestName','EQNBI','1745752haIdQz'];a96_0x4d3f=function(){return _0x44ded9;};return a96_0x4d3f();}