const a99_0x574140=a99_0x31e7;function a99_0x31e7(_0x4cf9e9,_0x48884b){const _0x32e64d=a99_0x32e6();return a99_0x31e7=function(_0x31e795,_0x44b32d){_0x31e795=_0x31e795-0xd8;let _0x5e249a=_0x32e64d[_0x31e795];return _0x5e249a;},a99_0x31e7(_0x4cf9e9,_0x48884b);}(function(_0x3ed5c5,_0x953615){const _0x238986=a99_0x31e7,_0x1a956f=_0x3ed5c5();while(!![]){try{const _0x886fd2=parseInt(_0x238986(0x10c))/0x1*(parseInt(_0x238986(0x10a))/0x2)+parseInt(_0x238986(0xe3))/0x3*(-parseInt(_0x238986(0x13b))/0x4)+-parseInt(_0x238986(0x153))/0x5*(parseInt(_0x238986(0x14f))/0x6)+-parseInt(_0x238986(0x136))/0x7+parseInt(_0x238986(0x155))/0x8*(parseInt(_0x238986(0x129))/0x9)+-parseInt(_0x238986(0x106))/0xa+parseInt(_0x238986(0x12d))/0xb*(parseInt(_0x238986(0x13d))/0xc);if(_0x886fd2===_0x953615)break;else _0x1a956f['push'](_0x1a956f['shift']());}catch(_0x2e2508){_0x1a956f['push'](_0x1a956f['shift']());}}}(a99_0x32e6,0xacbf4));const path=require(a99_0x574140(0x135)),{commandRepository}=require(a99_0x574140(0x11b)),constants=require('../../bin/utils/constants'),logger=require(a99_0x574140(0x156))[a99_0x574140(0x137)],globals=require(a99_0x574140(0x123)),timeoutPromise=require(a99_0x574140(0x14b)),isUndefinedOrNull=_0x1df776=>_0x1df776===undefined||_0x1df776===null||_0x1df776==='',isNotUndefinedOrNull=_0x4290b5=>!isUndefinedOrNull(_0x4290b5),isString=_0x2ed760=>isNotUndefinedOrNull(_0x2ed760)&&typeof _0x2ed760===a99_0x574140(0x102);class AiSdkWrapper{constructor(){const _0x4c5f06=a99_0x574140,_0x4ca837={'EUueD':function(_0x1f312c,_0xb6162){return _0x1f312c(_0xb6162);},'gdyFv':_0x4c5f06(0x120)};this['BrowserstackHealing']=undefined;try{this[_0x4c5f06(0x14a)]=_0x4ca837['EUueD'](require,path[_0x4c5f06(0x122)](__dirname,_0x4ca837[_0x4c5f06(0x14e)]));}catch(_0x1be090){logger[_0x4c5f06(0xef)](_0x4c5f06(0xe6)+(_0x1be090&&_0x1be090['message']?_0x1be090[_0x4c5f06(0xe0)]:''));}}['initializeHealingCapabilities'](_0x374069){const _0x1ff957=a99_0x574140,_0x388932={};_0x388932[_0x1ff957(0x12a)]=_0x1ff957(0xfa),_0x388932['vGQyD']=function(_0x548f7c,_0x528ec0){return _0x548f7c===_0x528ec0;},_0x388932[_0x1ff957(0xdd)]='chrome',_0x388932[_0x1ff957(0x12c)]=function(_0x15af00,_0x54d5de){return _0x15af00===_0x54d5de;},_0x388932[_0x1ff957(0x131)]=_0x1ff957(0x11e),_0x388932['bpdQb']='safari',_0x388932[_0x1ff957(0xf0)]=function(_0x2bb8cb,_0x5f5637){return _0x2bb8cb===_0x5f5637;},_0x388932[_0x1ff957(0x127)]='edge',_0x388932[_0x1ff957(0x111)]=_0x1ff957(0x13e),_0x388932[_0x1ff957(0xf6)]=function(_0x18b25a,_0xe84a93){return _0x18b25a===_0xe84a93;};const _0x47e62a=_0x388932;try{const _0x364873=this['BrowserstackHealing']['initializeCapabilities'](Object[_0x1ff957(0x146)](_0x374069[_0x1ff957(0xeb)]()[_0x1ff957(0x10d)]));console[_0x1ff957(0x14c)](_0x47e62a[_0x1ff957(0x12a)],_0x364873);if(_0x47e62a[_0x1ff957(0xe8)](_0x364873?.[_0x1ff957(0x138)]?.[_0x1ff957(0x116)](),_0x47e62a['Xkxbj']))_0x374069[_0x1ff957(0xed)]=_0x364873;else{if(_0x47e62a[_0x1ff957(0x12c)](_0x364873?.[_0x1ff957(0x138)]?.[_0x1ff957(0x116)](),_0x47e62a['CXcAf']))_0x374069[_0x1ff957(0x130)]=_0x364873;else{if(_0x47e62a[_0x1ff957(0xe8)](_0x364873?.[_0x1ff957(0x138)]?.['toLowerCase'](),_0x47e62a[_0x1ff957(0x10b)]))_0x374069[_0x1ff957(0x113)]=_0x364873;else{if(_0x47e62a[_0x1ff957(0xf0)](_0x364873?.[_0x1ff957(0x138)]?.[_0x1ff957(0x116)](),_0x47e62a['ffAYe'])||_0x47e62a[_0x1ff957(0xe8)](_0x364873?.[_0x1ff957(0x138)]?.['toLowerCase'](),_0x47e62a[_0x1ff957(0x111)]))_0x374069[_0x1ff957(0x11f)]=_0x364873;else _0x47e62a[_0x1ff957(0xf6)](_0x364873?.[_0x1ff957(0x138)]?.[_0x1ff957(0x116)](),'ie')&&(_0x374069[_0x1ff957(0x154)]=_0x364873);}}}Object[_0x1ff957(0xe2)](_0x364873)[_0x1ff957(0xe1)](_0x841f6b=>{const _0x27a166=_0x1ff957,_0x18c606=_0x374069['capabilities_'][_0x27a166(0xf5)](_0x841f6b);_0x374069[_0x27a166(0x11a)]['set'](_0x841f6b,_0x364873[_0x841f6b]);});}catch(_0x1455cc){logger[_0x1ff957(0xef)](_0x1ff957(0x119)+(_0x1455cc&&_0x1455cc['message']?_0x1455cc[_0x1ff957(0xe0)]:''));}}async[a99_0x574140(0x11d)](_0x10f726){const _0x5bda9b=a99_0x574140,_0x5f0904={'eYxAI':function(_0x5325b3,_0x1b40af,_0x280909,_0x13411f,_0x19212c,_0x29c016,_0x3df311){return _0x5325b3(_0x1b40af,_0x280909,_0x13411f,_0x19212c,_0x29c016,_0x3df311);},'IDuMm':_0x5bda9b(0x145),'VTaze':_0x5bda9b(0x152),'Xvfdx':_0x5bda9b(0x143)},_0x6854bf=new Date(),_0x2c8a20=_0x5f0904[_0x5bda9b(0x12e)](timeoutPromise,constants[_0x5bda9b(0xfb)],_0x5f0904['IDuMm'],_0x5f0904[_0x5bda9b(0x110)],_0x6854bf,this[_0x5bda9b(0xd9)],this[_0x5bda9b(0xe7)]);await Promise[_0x5bda9b(0xde)]([this['BrowserstackHealing'][_0x5bda9b(0x12b)](_0x10f726,globals[_0x5bda9b(0xf9)](_0x5f0904[_0x5bda9b(0xf1)]),constants[_0x5bda9b(0x105)])[_0x5bda9b(0xf3)](()=>{const _0x404c26=_0x5bda9b;_0x2c8a20[_0x404c26(0x100)]();}),_0x2c8a20]);}async[a99_0x574140(0x121)](_0x5a0360,_0x588058,_0x54ad17,_0x10fbbe){const _0x4c8472=a99_0x574140,_0x1f77f2={'cwUhs':function(_0xc93cb5,_0xb30888){return _0xc93cb5===_0xb30888;},'lnLBv':function(_0x126cce,_0xda3a7){return _0x126cce===_0xda3a7;},'pJmib':function(_0x439a9c,_0x3196ad){return _0x439a9c(_0x3196ad);},'mdqXO':function(_0x492bf2,_0x469d29){return _0x492bf2(_0x469d29);},'lhpTN':function(_0x133156,_0x507c94){return _0x133156(_0x507c94);},'PRNKr':function(_0x2b7205,_0x2a7ee3){return _0x2b7205(_0x2a7ee3);},'EYhVR':_0x4c8472(0x158),'vpcDi':function(_0x328779,_0xd8048e){return _0x328779(_0xd8048e);},'DNJjr':_0x4c8472(0x11c),'svYfA':_0x4c8472(0x144),'REzZc':_0x4c8472(0x101),'HHJKg':function(_0x303b00,_0x3d3910,_0x3bcb95,_0x5ddcbd,_0x4b5be0,_0x25972a,_0x5ea7fc){return _0x303b00(_0x3d3910,_0x3bcb95,_0x5ddcbd,_0x4b5be0,_0x25972a,_0x5ea7fc);},'UclBl':_0x4c8472(0x148),'rohWH':'BrowserstackHealingLogDataFailed','fLFtu':_0x4c8472(0xf4),'nfzHi':_0x4c8472(0xea)},_0x148470=(await _0x588058['getSession']())[_0x4c8472(0x103)]();let _0x162e1d='';if(commandRepository[_0x4c8472(0xe4)]()&&_0x1f77f2[_0x4c8472(0x159)](_0x10fbbe,![])||_0x1f77f2[_0x4c8472(0xdb)](_0x10fbbe,!![])){const _0x477422=_0x1f77f2[_0x4c8472(0xff)](isNotUndefinedOrNull,_0x54ad17[_0x4c8472(0x12f)]['using'])&&_0x1f77f2[_0x4c8472(0xda)](isString,_0x54ad17[_0x4c8472(0x12f)][_0x4c8472(0x149)])?_0x54ad17[_0x4c8472(0x12f)]['using']['replace'](/'/g,'\x5c\x27')[_0x4c8472(0x147)](/"/g,'\x5c\x22'):'',_0x189799=_0x1f77f2[_0x4c8472(0xff)](isNotUndefinedOrNull,_0x54ad17[_0x4c8472(0x12f)]['using'])&&_0x1f77f2[_0x4c8472(0x104)](isString,_0x54ad17[_0x4c8472(0x12f)][_0x4c8472(0xfd)])?_0x54ad17['parameters_']['value'][_0x4c8472(0x147)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x46de95=_0x1f77f2[_0x4c8472(0xda)](isNotUndefinedOrNull,commandRepository[_0x4c8472(0x117)]())&&_0x1f77f2[_0x4c8472(0xda)](isString,commandRepository[_0x4c8472(0x117)]())?commandRepository[_0x4c8472(0x117)]()[_0x4c8472(0x147)](/'/g,'\x5c\x27')[_0x4c8472(0x147)](/"/g,'\x5c\x22'):'';let _0x1dcf6f=_0x1f77f2[_0x4c8472(0x13a)](isNotUndefinedOrNull,global[_0x4c8472(0x157)])&&_0x1f77f2['PRNKr'](isString,global['browserstackSessionName'])?global[_0x4c8472(0x157)][_0x4c8472(0x147)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';!_0x1dcf6f&&(_0x1dcf6f=_0x1f77f2['mdqXO'](isNotUndefinedOrNull,commandRepository[_0x4c8472(0xdc)]())&&_0x1f77f2[_0x4c8472(0xff)](isString,commandRepository[_0x4c8472(0xdc)]())?commandRepository[_0x4c8472(0xdc)]()[_0x4c8472(0x147)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'');let _0x54f945=_0x4c8472(0xfe)+constants['TCG_REGION']+'\x22,\x20\x22tcgUrls\x22:\x20{\x22'+constants[_0x4c8472(0x10f)]+_0x4c8472(0x10e)+constants['TCG_URL'][_0x4c8472(0xf8)](_0x1f77f2['EYhVR'])[0x1]+_0x4c8472(0x115);_0x54f945=_0x1f77f2['vpcDi'](isNotUndefinedOrNull,_0x54f945)&&_0x1f77f2[_0x4c8472(0x13a)](isString,_0x54f945)?_0x54f945[_0x4c8472(0x147)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';const _0x22dbe6=commandRepository['getCommands'](_0x148470),_0x557d2b=globals['getGlobal'](_0x1f77f2[_0x4c8472(0x114)]),_0x4d0bad=globals['getGlobal'](_0x1f77f2[_0x4c8472(0x14d)]),_0x4b8864=globals['getGlobal'](_0x1f77f2['REzZc']),_0x4e0a9a=![],_0x1c1433=new Date();if(_0x10fbbe){const _0xb4cd76=_0x1f77f2[_0x4c8472(0x133)](timeoutPromise,constants['HEALING_LOG_DATA_TIMEOUT'],_0x1f77f2['UclBl'],_0x1f77f2[_0x4c8472(0xe9)],_0x1c1433,this[_0x4c8472(0xd9)],this[_0x4c8472(0xe7)]);_0x162e1d=await Promise['race']([this[_0x4c8472(0x14a)][_0x4c8472(0xee)](_0x477422,_0x189799,_0x46de95,_0x1dcf6f,_0x4d0bad,_0x148470,_0x22dbe6,_0x54f945)[_0x4c8472(0xf3)](_0x326c24=>{return _0xb4cd76['cancel'](),_0x326c24;}),_0xb4cd76]);}else{if(commandRepository['isSelfHealEnabled']()){const _0x1b99b3=_0x1f77f2[_0x4c8472(0x133)](timeoutPromise,constants['HEALING_FAILURE_TIMEOUT'],_0x1f77f2[_0x4c8472(0x108)],_0x1f77f2['nfzHi'],_0x1c1433,this[_0x4c8472(0xd9)],this[_0x4c8472(0xe7)]);_0x162e1d=await Promise[_0x4c8472(0xde)]([this[_0x4c8472(0x14a)][_0x4c8472(0xf7)](_0x477422,_0x189799,_0x46de95,_0x1dcf6f,_0x557d2b,_0x4d0bad,_0x148470,_0x22dbe6,_0x4e0a9a,_0x4b8864,_0x54f945)[_0x4c8472(0xf3)](_0xdc5501=>{const _0x4bb984=_0x4c8472;return _0x1b99b3[_0x4bb984(0x100)](),_0xdc5501;}),_0x1b99b3]);}}_0x162e1d&&await _0x588058[_0x4c8472(0x109)](_0x162e1d);}}async[a99_0x574140(0x128)](_0x231112,_0xc2f66e,_0x23a352){const _0x407fe9=a99_0x574140;try{await this[_0x407fe9(0x121)](_0x231112,_0xc2f66e,_0x23a352,!![]);}catch(_0x3d8161){return logger['error'](_0x407fe9(0x151)+(_0x3d8161&&_0x3d8161[_0x407fe9(0xe0)]?_0x3d8161['message']:'')),![];}return!![];}async[a99_0x574140(0xec)](_0x1934c2,_0x573607,_0x1eee4c){const _0xf1129b=a99_0x574140,_0x5b0b8d={'MvfzD':function(_0xd1dfe9,_0x97019d,_0x18f933,_0x1e8f1a,_0x35dc5f,_0x4337ca,_0x30e0c5){return _0xd1dfe9(_0x97019d,_0x18f933,_0x1e8f1a,_0x35dc5f,_0x4337ca,_0x30e0c5);},'fsJCs':_0xf1129b(0x13f),'jjcvS':_0xf1129b(0x142),'XPQHT':_0xf1129b(0x143)};try{await this[_0xf1129b(0x121)](_0x1934c2,_0x573607,_0x1eee4c,![]);const _0x608f63=(await _0x573607[_0xf1129b(0x107)]())[_0xf1129b(0x103)](),_0x1aeaf9=new Date(),_0x4531e6=_0x5b0b8d['MvfzD'](timeoutPromise,constants[_0xf1129b(0x126)],_0x5b0b8d[_0xf1129b(0x141)],_0x5b0b8d[_0xf1129b(0xd8)],_0x1aeaf9,this['config'],this[_0xf1129b(0xe7)]),_0x2106b7=await Promise[_0xf1129b(0xde)]([this['BrowserstackHealing'][_0xf1129b(0x150)](constants['TCG_URL'],_0x608f63,globals[_0xf1129b(0xf9)](_0x5b0b8d[_0xf1129b(0x124)]))[_0xf1129b(0xf3)](_0x342044=>{return _0x4531e6['cancel'](),_0x342044;}),_0x4531e6]);if(_0x2106b7&&_0x2106b7[_0xf1129b(0x13c)]&&_0x2106b7[_0xf1129b(0xfd)]){const _0x347242={};return _0x347242[_0xf1129b(0x118)]=_0x2106b7['selector'],_0x347242[_0xf1129b(0x134)]=_0x2106b7[_0xf1129b(0xfd)],_0x347242['aiHealing']=!![],_0x347242;}const _0x3d54ab={};return _0x3d54ab[_0xf1129b(0x118)]=_0x1eee4c[_0xf1129b(0x12f)][_0xf1129b(0x149)],_0x3d54ab[_0xf1129b(0x134)]=_0x2106b7['value'],_0x3d54ab[_0xf1129b(0xf2)]=!![],_0x3d54ab;}catch(_0x41c86e){return logger[_0xf1129b(0xdf)](_0xf1129b(0x140)+(_0x41c86e&&_0x41c86e[_0xf1129b(0xe0)]?_0x41c86e[_0xf1129b(0xe0)]:'')),logger[_0xf1129b(0x132)](_0xf1129b(0x139)+_0x1eee4c[_0xf1129b(0xfc)]+_0xf1129b(0x112)),_0x1eee4c;}}}function a99_0x32e6(){const _0x1a77ab=['map_','\x22:\x20{\x22endpoint\x22:\x20\x22','TCG_REGION','VTaze','DesPt','\x20command','safariOptions_','DNJjr','\x22}}}','toLowerCase','getProjectName','locatorType','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','capabilities_','./autoHealHelper','aiHeal_userId','setTcgToken','firefox','edgeOptions_','../../ai-sdk-node/bundle','_handleEvent','join','../globals','XPQHT','aiSdkWrapper','POLL_HEALING_RESULT_TIMEOUT','ffAYe','handleSuccess','18TdbMoF','rfRCV','setToken','cnSZp','9649937EseAze','eYxAI','parameters_','firefoxOptions_','CXcAf','info','HHJKg','locatorValue','path','8401799GMVmdh','winstonLogger','browserName','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','PRNKr','29500JDtQra','selector','24TIPYkU','microsoftedge','BrowserstackHealing.pollResult\x20method\x20timed\x20out','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','fsJCs','BrowserstackHealingPollResultFailed','aiHeal_sessionToken','aiHeal_groupId','BrowserstackHealing.setToken\x20method\x20timed\x20out','fromEntries','replace','BrowserstackHealing.logData\x20method\x20timed\x20out','using','BrowserstackHealing','../../helpers/timeoutPromise','log','svYfA','gdyFv','7172226RNVcfP','pollResult','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','BrowserstackHealingSetTcgTokenFailed','5LWUQnC','ieOptions_','5339672uhZSjS','../logger','browserstackSessionName','s://','cwUhs','jjcvS','config','mdqXO','lnLBv','getTestName','Xkxbj','race','debug','message','forEach','keys','189awYLao','isSelfHealEnabled','freeze','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','framework','vGQyD','rohWH','BrowserstackHealingHealFailureFailed','getCapabilities','handleFailure','chromeOptions_','logData','error','LEvnh','Xvfdx','aiHealing','then','BrowserstackHealing.healFailure\x20method\x20timed\x20out','get','eNxYe','healFailure','split','getGlobal','newCapabilities','SET_TCG_TOKEN_TIMEOUT','name_','value','{\x22region\x22:\x20\x22','pJmib','cancel','aiHeal_isGroupAIEnabled','string','getId','lhpTN','TCG_URL','8522480GwhUcL','getSession','fLFtu','executeScript','2661242OvXjiw','bpdQb','1QOsdJc'];a99_0x32e6=function(){return _0x1a77ab;};return a99_0x32e6();}exports[a99_0x574140(0x125)]=Object[a99_0x574140(0xe5)](new AiSdkWrapper());