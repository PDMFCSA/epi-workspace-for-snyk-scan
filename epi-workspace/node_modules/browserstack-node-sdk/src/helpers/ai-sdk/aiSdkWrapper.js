const a96_0x4e7c10=a96_0xa676;function a96_0xa676(_0x5afeb8,_0x41ef54){const _0x4602fe=a96_0x4602();return a96_0xa676=function(_0xa676ca,_0x5239be){_0xa676ca=_0xa676ca-0x78;let _0x364e2f=_0x4602fe[_0xa676ca];return _0x364e2f;},a96_0xa676(_0x5afeb8,_0x41ef54);}(function(_0x2c7a47,_0x1d3ee7){const _0x22ce5f=a96_0xa676,_0x1c43bf=_0x2c7a47();while(!![]){try{const _0x3dccbc=parseInt(_0x22ce5f(0x8e))/0x1*(parseInt(_0x22ce5f(0xb7))/0x2)+parseInt(_0x22ce5f(0xab))/0x3+parseInt(_0x22ce5f(0x7c))/0x4*(-parseInt(_0x22ce5f(0x7a))/0x5)+parseInt(_0x22ce5f(0xd5))/0x6+-parseInt(_0x22ce5f(0xa3))/0x7*(-parseInt(_0x22ce5f(0xe1))/0x8)+-parseInt(_0x22ce5f(0x9f))/0x9+-parseInt(_0x22ce5f(0xb8))/0xa;if(_0x3dccbc===_0x1d3ee7)break;else _0x1c43bf['push'](_0x1c43bf['shift']());}catch(_0x5ed0b8){_0x1c43bf['push'](_0x1c43bf['shift']());}}}(a96_0x4602,0x59f8a));const path=require(a96_0x4e7c10(0x81)),{commandRepository}=require(a96_0x4e7c10(0xb9)),constants=require(a96_0x4e7c10(0xb4)),logger=require(a96_0x4e7c10(0x9a))[a96_0x4e7c10(0xda)],globals=require(a96_0x4e7c10(0xbc)),timeoutPromise=require(a96_0x4e7c10(0x97)),isUndefinedOrNull=_0x5e3b36=>_0x5e3b36===undefined||_0x5e3b36===null||_0x5e3b36==='',isNotUndefinedOrNull=_0x37f293=>!isUndefinedOrNull(_0x37f293),isString=_0x5d0271=>isNotUndefinedOrNull(_0x5d0271)&&typeof _0x5d0271==='string';function a96_0x4602(){const _0xc2e2da=['ohgZW','aiSdkWrapper','aiHeal_userId','nvEtN','BrowserstackHealing.logData\x20method\x20timed\x20out','aiHeal_sessionToken','llpMR','initializeHealingCapabilities','split','Bbskz','toLowerCase','1175eOIGph','wtwfT','8812RvSVMJ','XYtRY','initializeCapabilities','getTestName','chromeOptions_','path','PRUJI','info','set','GBVBh','cancel','zlljV','edge','parameters_','firefox','log','QVRkE','getGlobal','1uebXnb','config','jLkWV','using','yTBPO','_handleEvent','LYfMb','edgeOptions_','safari','../../helpers/timeoutPromise','selector','Euhzc','../logger','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','TuXte','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','setToken','3832659XZernn','map_','eiDIB','getCommands','42FLOIPy','capabilities_','XobqZ','BrowserstackHealing.pollResult\x20method\x20timed\x20out','logData','BrowserstackHealingPollResultFailed','getProjectName','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','192015pqHzKU','wbpWP','microsoftedge','handleSuccess','forEach','vnfKM','getCapabilities','\x22}}}','race','../../bin/utils/constants','aiHeal_groupId','value','882958MDsUus','786540DMVjWQ','./autoHealHelper','BrowserstackHealing.healFailure\x20method\x20timed\x20out','replace','../globals','../../ai-sdk-node/bundle','aiHeal_isGroupAIEnabled','aiHealing','locatorType','name_','BrowserstackHealing','browserstackSessionName','isSelfHealEnabled','zURHY','{\x22region\x22:\x20\x22','BrowserstackHealing.setToken\x20method\x20timed\x20out','TCG_URL','TCG_REGION','join','then','fromEntries','\x22:\x20{\x22endpoint\x22:\x20\x22','SET_TCG_TOKEN_TIMEOUT','ieOptions_','oAdES','getSession','MqwHG','browserName','earYD','1424172MvTexn','pollResult','IIchd','error','framework','winstonLogger','getId','pTXUU','locatorValue','kgBDY','handleFailure','message','863848CdOsae','rsXdC'];a96_0x4602=function(){return _0xc2e2da;};return a96_0x4602();}class AiSdkWrapper{constructor(){const _0x76d622=a96_0x4e7c10,_0x231779={'zURHY':function(_0x5e88b6,_0x4c8a8b){return _0x5e88b6(_0x4c8a8b);},'fuyWv':_0x76d622(0xbd)};this['BrowserstackHealing']=undefined;try{this['BrowserstackHealing']=_0x231779[_0x76d622(0xc5)](require,path[_0x76d622(0xca)](__dirname,_0x231779['fuyWv']));}catch(_0x5b90c8){logger['error'](_0x76d622(0xaa)+(_0x5b90c8&&_0x5b90c8[_0x76d622(0xe0)]?_0x5b90c8[_0x76d622(0xe0)]:''));}}[a96_0x4e7c10(0xea)](_0x2f81b9){const _0x2e874e=a96_0x4e7c10,_0x555854={};_0x555854[_0x2e874e(0xd0)]='newCapabilities',_0x555854[_0x2e874e(0xa1)]=function(_0x547319,_0x1573cb){return _0x547319===_0x1573cb;},_0x555854[_0x2e874e(0x94)]='chrome',_0x555854[_0x2e874e(0xe9)]=function(_0xd2f329,_0x22cc6e){return _0xd2f329===_0x22cc6e;},_0x555854['LrhGl']=_0x2e874e(0x8a),_0x555854[_0x2e874e(0xe3)]=_0x2e874e(0x96),_0x555854[_0x2e874e(0xdc)]=function(_0x3da2fe,_0x549563){return _0x3da2fe===_0x549563;},_0x555854[_0x2e874e(0xac)]=_0x2e874e(0x88),_0x555854[_0x2e874e(0x7d)]=function(_0xd68cbd,_0x5939de){return _0xd68cbd===_0x5939de;},_0x555854[_0x2e874e(0xde)]=_0x2e874e(0xad),_0x555854['YvBpL']=function(_0x290889,_0x4224d4){return _0x290889===_0x4224d4;};const _0x9361ac=_0x555854;try{const _0x38409b=this[_0x2e874e(0xc2)][_0x2e874e(0x7e)](Object[_0x2e874e(0xcc)](_0x2f81b9[_0x2e874e(0xb1)]()[_0x2e874e(0xa0)]));console[_0x2e874e(0x8b)](_0x9361ac[_0x2e874e(0xd0)],_0x38409b);if(_0x9361ac[_0x2e874e(0xa1)](_0x38409b?.['browserName']?.['toLowerCase'](),_0x9361ac[_0x2e874e(0x94)]))_0x2f81b9[_0x2e874e(0x80)]=_0x38409b;else{if(_0x9361ac['llpMR'](_0x38409b?.['browserName']?.[_0x2e874e(0x79)](),_0x9361ac['LrhGl']))_0x2f81b9['firefoxOptions_']=_0x38409b;else{if(_0x9361ac[_0x2e874e(0xa1)](_0x38409b?.[_0x2e874e(0xd3)]?.['toLowerCase'](),_0x9361ac['ohgZW']))_0x2f81b9['safariOptions_']=_0x38409b;else{if(_0x9361ac['pTXUU'](_0x38409b?.['browserName']?.[_0x2e874e(0x79)](),_0x9361ac['wbpWP'])||_0x9361ac[_0x2e874e(0x7d)](_0x38409b?.['browserName']?.[_0x2e874e(0x79)](),_0x9361ac['kgBDY']))_0x2f81b9[_0x2e874e(0x95)]=_0x38409b;else _0x9361ac['YvBpL'](_0x38409b?.[_0x2e874e(0xd3)]?.[_0x2e874e(0x79)](),'ie')&&(_0x2f81b9[_0x2e874e(0xcf)]=_0x38409b);}}}Object['keys'](_0x38409b)[_0x2e874e(0xaf)](_0x5bff73=>{const _0x5e9760=_0x2e874e,_0x79379c=_0x2f81b9[_0x5e9760(0xa4)]['get'](_0x5bff73);_0x2f81b9[_0x5e9760(0xa4)][_0x5e9760(0x84)](_0x5bff73,_0x38409b[_0x5bff73]);});}catch(_0x262149){logger[_0x2e874e(0xd8)]('Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20'+(_0x262149&&_0x262149['message']?_0x262149[_0x2e874e(0xe0)]:''));}}async['setTcgToken'](_0x45e375){const _0x101ae3=a96_0x4e7c10,_0x5f0065={'yTBPO':function(_0x1682a7,_0x1af94c,_0x188042,_0x47eb9a,_0xe069e5,_0x5461d8,_0x4ac3d3){return _0x1682a7(_0x1af94c,_0x188042,_0x47eb9a,_0xe069e5,_0x5461d8,_0x4ac3d3);},'XobqZ':_0x101ae3(0xc7),'dFQNc':'BrowserstackHealingSetTcgTokenFailed','Euhzc':_0x101ae3(0xe8)},_0x2352a1=new Date(),_0x48be43=_0x5f0065[_0x101ae3(0x92)](timeoutPromise,constants[_0x101ae3(0xce)],_0x5f0065[_0x101ae3(0xa5)],_0x5f0065['dFQNc'],_0x2352a1,this[_0x101ae3(0x8f)],this[_0x101ae3(0xd9)]);await Promise[_0x101ae3(0xb3)]([this[_0x101ae3(0xc2)][_0x101ae3(0x9e)](_0x45e375,globals[_0x101ae3(0x8d)](_0x5f0065[_0x101ae3(0x99)]),constants[_0x101ae3(0xc8)])[_0x101ae3(0xcb)](()=>{const _0x11c8f2=_0x101ae3;_0x48be43[_0x11c8f2(0x86)]();}),_0x48be43]);}async[a96_0x4e7c10(0x93)](_0x5b842a,_0x19b2a7,_0x3455c2,_0x3ef657){const _0x5438fb=a96_0x4e7c10,_0x53b60d={'zlljV':function(_0x48b579,_0x432d5f){return _0x48b579===_0x432d5f;},'IIchd':function(_0x40336e,_0x305807){return _0x40336e===_0x305807;},'Bbskz':function(_0x443706,_0x3f42b9){return _0x443706(_0x3f42b9);},'MqwHG':function(_0x293cae,_0x25d854){return _0x293cae(_0x25d854);},'AvCTz':function(_0x3ee686,_0x40f777){return _0x3ee686(_0x40f777);},'PRUJI':function(_0x2e1b10,_0x54a644){return _0x2e1b10(_0x54a644);},'GBVBh':function(_0x39a5ee,_0x27665f){return _0x39a5ee(_0x27665f);},'TuXte':'s://','nvEtN':function(_0x179c2f,_0x7ec7c5){return _0x179c2f(_0x7ec7c5);},'OxdWg':function(_0x8d1eac,_0x28ff18){return _0x8d1eac(_0x28ff18);},'eZYGT':_0x5438fb(0xe5),'rZNes':_0x5438fb(0xb5),'QVRkE':_0x5438fb(0xbe),'jLkWV':function(_0x1094ec,_0x1ec458,_0x1d58a7,_0x2bf25e,_0x3686fb,_0x5e13db,_0x20c021){return _0x1094ec(_0x1ec458,_0x1d58a7,_0x2bf25e,_0x3686fb,_0x5e13db,_0x20c021);},'wtwfT':_0x5438fb(0xe7),'yiHyx':'BrowserstackHealingLogDataFailed','acYhR':_0x5438fb(0xba),'vnfKM':'BrowserstackHealingHealFailureFailed'},_0x53a255=(await _0x19b2a7[_0x5438fb(0xd1)]())['getId']();let _0x49f98c='';if(commandRepository[_0x5438fb(0xc4)]()&&_0x53b60d[_0x5438fb(0x87)](_0x3ef657,![])||_0x53b60d[_0x5438fb(0xd7)](_0x3ef657,!![])){const _0x39ed10=_0x53b60d['Bbskz'](isNotUndefinedOrNull,_0x3455c2['parameters_'][_0x5438fb(0x91)])&&_0x53b60d[_0x5438fb(0xd2)](isString,_0x3455c2['parameters_']['using'])?_0x3455c2[_0x5438fb(0x89)][_0x5438fb(0x91)]['replace'](/'/g,'\x5c\x27')[_0x5438fb(0xbb)](/"/g,'\x5c\x22'):'',_0x283d49=_0x53b60d[_0x5438fb(0x78)](isNotUndefinedOrNull,_0x3455c2['parameters_'][_0x5438fb(0x91)])&&_0x53b60d['Bbskz'](isString,_0x3455c2['parameters_']['value'])?_0x3455c2['parameters_'][_0x5438fb(0xb6)][_0x5438fb(0xbb)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x2fe3af=_0x53b60d['MqwHG'](isNotUndefinedOrNull,commandRepository[_0x5438fb(0xa9)]())&&_0x53b60d['MqwHG'](isString,commandRepository[_0x5438fb(0xa9)]())?commandRepository[_0x5438fb(0xa9)]()[_0x5438fb(0xbb)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';let _0x1dcc79=_0x53b60d[_0x5438fb(0xd2)](isNotUndefinedOrNull,global[_0x5438fb(0xc3)])&&_0x53b60d['AvCTz'](isString,global[_0x5438fb(0xc3)])?global[_0x5438fb(0xc3)][_0x5438fb(0xbb)](/'/g,'\x5c\x27')[_0x5438fb(0xbb)](/"/g,'\x5c\x22'):'';!_0x1dcc79&&(_0x1dcc79=_0x53b60d[_0x5438fb(0x82)](isNotUndefinedOrNull,commandRepository[_0x5438fb(0x7f)]())&&_0x53b60d[_0x5438fb(0x85)](isString,commandRepository[_0x5438fb(0x7f)]())?commandRepository['getTestName']()[_0x5438fb(0xbb)](/'/g,'\x5c\x27')[_0x5438fb(0xbb)](/"/g,'\x5c\x22'):'');let _0x470380=_0x5438fb(0xc6)+constants[_0x5438fb(0xc9)]+'\x22,\x20\x22tcgUrls\x22:\x20{\x22'+constants[_0x5438fb(0xc9)]+_0x5438fb(0xcd)+constants[_0x5438fb(0xc8)][_0x5438fb(0xeb)](_0x53b60d[_0x5438fb(0x9c)])[0x1]+_0x5438fb(0xb2);_0x470380=_0x53b60d[_0x5438fb(0xe6)](isNotUndefinedOrNull,_0x470380)&&_0x53b60d['OxdWg'](isString,_0x470380)?_0x470380['replace'](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';const _0x2f0b55=commandRepository[_0x5438fb(0xa2)](_0x53a255),_0x3c748b=globals['getGlobal'](_0x53b60d['eZYGT']),_0x54ea73=globals[_0x5438fb(0x8d)](_0x53b60d['rZNes']),_0x50bf31=globals[_0x5438fb(0x8d)](_0x53b60d[_0x5438fb(0x8c)]),_0x59f94d=![],_0x4329d3=new Date();if(_0x3ef657){const _0x4851e0=_0x53b60d[_0x5438fb(0x90)](timeoutPromise,constants['HEALING_LOG_DATA_TIMEOUT'],_0x53b60d[_0x5438fb(0x7b)],_0x53b60d['yiHyx'],_0x4329d3,this[_0x5438fb(0x8f)],this[_0x5438fb(0xd9)]);_0x49f98c=await Promise[_0x5438fb(0xb3)]([this[_0x5438fb(0xc2)][_0x5438fb(0xa7)](_0x39ed10,_0x283d49,_0x2fe3af,_0x1dcc79,_0x54ea73,_0x53a255,_0x2f0b55,_0x470380)[_0x5438fb(0xcb)](_0xb22f7c=>{const _0x4db132=_0x5438fb;return _0x4851e0[_0x4db132(0x86)](),_0xb22f7c;}),_0x4851e0]);}else{if(commandRepository[_0x5438fb(0xc4)]()){const _0x2c8182=_0x53b60d[_0x5438fb(0x90)](timeoutPromise,constants['HEALING_FAILURE_TIMEOUT'],_0x53b60d['acYhR'],_0x53b60d[_0x5438fb(0xb0)],_0x4329d3,this[_0x5438fb(0x8f)],this[_0x5438fb(0xd9)]);_0x49f98c=await Promise[_0x5438fb(0xb3)]([this[_0x5438fb(0xc2)]['healFailure'](_0x39ed10,_0x283d49,_0x2fe3af,_0x1dcc79,_0x3c748b,_0x54ea73,_0x53a255,_0x2f0b55,_0x59f94d,_0x50bf31,_0x470380)[_0x5438fb(0xcb)](_0x2b7792=>{const _0x3b4ca8=_0x5438fb;return _0x2c8182[_0x3b4ca8(0x86)](),_0x2b7792;}),_0x2c8182]);}}_0x49f98c&&await _0x19b2a7['executeScript'](_0x49f98c);}}async[a96_0x4e7c10(0xae)](_0x4f9556,_0x3149d9,_0x2dbc8e){const _0x1c9d2c=a96_0x4e7c10;try{await this[_0x1c9d2c(0x93)](_0x4f9556,_0x3149d9,_0x2dbc8e,!![]);}catch(_0x29cec2){return logger[_0x1c9d2c(0xd8)](_0x1c9d2c(0x9b)+(_0x29cec2&&_0x29cec2[_0x1c9d2c(0xe0)]?_0x29cec2[_0x1c9d2c(0xe0)]:'')),![];}return!![];}async[a96_0x4e7c10(0xdf)](_0x1757a8,_0x2dc578,_0x119cd2){const _0x1c2c67=a96_0x4e7c10,_0x2677b9={'earYD':function(_0x114136,_0x3301a8,_0x3b2bf8,_0x2cb490,_0x5ed547,_0x10cf1a,_0x266b97){return _0x114136(_0x3301a8,_0x3b2bf8,_0x2cb490,_0x5ed547,_0x10cf1a,_0x266b97);},'gCxHa':_0x1c2c67(0xa6),'ROFwa':_0x1c2c67(0xa8),'rsXdC':_0x1c2c67(0xe8)};try{await this['_handleEvent'](_0x1757a8,_0x2dc578,_0x119cd2,![]);const _0x2164d2=(await _0x2dc578['getSession']())[_0x1c2c67(0xdb)](),_0x43d95f=new Date(),_0x3f91d2=_0x2677b9[_0x1c2c67(0xd4)](timeoutPromise,constants['POLL_HEALING_RESULT_TIMEOUT'],_0x2677b9['gCxHa'],_0x2677b9['ROFwa'],_0x43d95f,this[_0x1c2c67(0x8f)],this[_0x1c2c67(0xd9)]),_0x4f95ec=await Promise[_0x1c2c67(0xb3)]([this[_0x1c2c67(0xc2)][_0x1c2c67(0xd6)](constants[_0x1c2c67(0xc8)],_0x2164d2,globals[_0x1c2c67(0x8d)](_0x2677b9[_0x1c2c67(0xe2)]))[_0x1c2c67(0xcb)](_0x24ea19=>{const _0x236b58=_0x1c2c67;return _0x3f91d2[_0x236b58(0x86)](),_0x24ea19;}),_0x3f91d2]);if(_0x4f95ec&&_0x4f95ec[_0x1c2c67(0x98)]&&_0x4f95ec[_0x1c2c67(0xb6)]){const _0x276e10={};return _0x276e10[_0x1c2c67(0xc0)]=_0x4f95ec[_0x1c2c67(0x98)],_0x276e10[_0x1c2c67(0xdd)]=_0x4f95ec[_0x1c2c67(0xb6)],_0x276e10[_0x1c2c67(0xbf)]=!![],_0x276e10;}const _0x2a3d58={};return _0x2a3d58['locatorType']=_0x119cd2[_0x1c2c67(0x89)]['using'],_0x2a3d58[_0x1c2c67(0xdd)]=_0x4f95ec[_0x1c2c67(0xb6)],_0x2a3d58[_0x1c2c67(0xbf)]=!![],_0x2a3d58;}catch(_0x252811){return logger['debug']('Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20'+(_0x252811&&_0x252811[_0x1c2c67(0xe0)]?_0x252811[_0x1c2c67(0xe0)]:'')),logger[_0x1c2c67(0x83)](_0x1c2c67(0x9d)+_0x119cd2[_0x1c2c67(0xc1)]+'\x20command'),_0x119cd2;}}}exports[a96_0x4e7c10(0xe4)]=Object['freeze'](new AiSdkWrapper());