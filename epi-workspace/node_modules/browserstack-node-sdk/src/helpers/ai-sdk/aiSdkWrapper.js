function a59_0x10db(_0xbd6f43,_0x49a7ba){const _0x519daf=a59_0x519d();return a59_0x10db=function(_0x10db1c,_0x5b3e57){_0x10db1c=_0x10db1c-0x117;let _0x2a34bb=_0x519daf[_0x10db1c];return _0x2a34bb;},a59_0x10db(_0xbd6f43,_0x49a7ba);}const a59_0xfbcb7a=a59_0x10db;(function(_0x29d566,_0x508db4){const _0x43db46=a59_0x10db,_0x9a910d=_0x29d566();while(!![]){try{const _0x2fdb96=-parseInt(_0x43db46(0x123))/0x1*(parseInt(_0x43db46(0x182))/0x2)+-parseInt(_0x43db46(0x120))/0x3+-parseInt(_0x43db46(0x16f))/0x4*(parseInt(_0x43db46(0x15e))/0x5)+-parseInt(_0x43db46(0x16d))/0x6*(-parseInt(_0x43db46(0x190))/0x7)+-parseInt(_0x43db46(0x184))/0x8+-parseInt(_0x43db46(0x137))/0x9+-parseInt(_0x43db46(0x16a))/0xa*(-parseInt(_0x43db46(0x155))/0xb);if(_0x2fdb96===_0x508db4)break;else _0x9a910d['push'](_0x9a910d['shift']());}catch(_0x26819b){_0x9a910d['push'](_0x9a910d['shift']());}}}(a59_0x519d,0xf12d4));const path=require('path'),{commandRepository}=require(a59_0xfbcb7a(0x124)),constants=require('../../bin/utils/constants'),logger=require(a59_0xfbcb7a(0x153))['winstonLogger'],globals=require('../globals'),timeoutPromise=require(a59_0xfbcb7a(0x12e)),isUndefinedOrNull=_0x3e2de3=>_0x3e2de3===undefined||_0x3e2de3===null||_0x3e2de3==='',isNotUndefinedOrNull=_0x426299=>!isUndefinedOrNull(_0x426299),isString=_0x297163=>isNotUndefinedOrNull(_0x297163)&&typeof _0x297163===a59_0xfbcb7a(0x118);class AiSdkWrapper{constructor(){const _0x43069a=a59_0xfbcb7a,_0x372c76={'EdQdZ':function(_0x31509c,_0x62ae1c){return _0x31509c(_0x62ae1c);},'TPGFk':_0x43069a(0x139)};this[_0x43069a(0x186)]=undefined;try{this[_0x43069a(0x186)]=_0x372c76[_0x43069a(0x163)](require,path[_0x43069a(0x154)](__dirname,_0x372c76[_0x43069a(0x152)]));}catch(_0x328569){logger['error'](_0x43069a(0x164)+(_0x328569&&_0x328569[_0x43069a(0x14c)]?_0x328569[_0x43069a(0x14c)]:''));}}[a59_0xfbcb7a(0x12b)](_0xd92a36){const _0x440f4c=a59_0xfbcb7a,_0xb2b31a={};_0xb2b31a[_0x440f4c(0x13e)]=_0x440f4c(0x11a),_0xb2b31a[_0x440f4c(0x140)]=function(_0x210a20,_0x6e9577){return _0x210a20===_0x6e9577;},_0xb2b31a[_0x440f4c(0x136)]=_0x440f4c(0x127),_0xb2b31a[_0x440f4c(0x171)]=_0x440f4c(0x177),_0xb2b31a['uyLBz']=_0x440f4c(0x178),_0xb2b31a['lGLDM']=_0x440f4c(0x14f),_0xb2b31a[_0x440f4c(0x11e)]=function(_0x1ef5ff,_0x3c72c7){return _0x1ef5ff===_0x3c72c7;},_0xb2b31a[_0x440f4c(0x143)]=_0x440f4c(0x15a),_0xb2b31a['nJSgC']=function(_0x15a952,_0xf0f1dd){return _0x15a952===_0xf0f1dd;};const _0x21af97=_0xb2b31a;try{const _0x2a4715=this['BrowserstackHealing']['initializeCapabilities'](Object[_0x440f4c(0x17d)](_0xd92a36[_0x440f4c(0x13b)]()[_0x440f4c(0x14d)]));console[_0x440f4c(0x174)](_0x21af97['REePx'],_0x2a4715);if(_0x21af97[_0x440f4c(0x140)](_0x2a4715?.[_0x440f4c(0x130)]?.[_0x440f4c(0x150)](),_0x21af97[_0x440f4c(0x136)]))_0xd92a36['chromeOptions_']=_0x2a4715;else{if(_0x21af97[_0x440f4c(0x140)](_0x2a4715?.['browserName']?.['toLowerCase'](),_0x21af97[_0x440f4c(0x171)]))_0xd92a36[_0x440f4c(0x117)]=_0x2a4715;else{if(_0x21af97[_0x440f4c(0x140)](_0x2a4715?.['browserName']?.[_0x440f4c(0x150)](),_0x21af97[_0x440f4c(0x147)]))_0xd92a36[_0x440f4c(0x14e)]=_0x2a4715;else{if(_0x21af97['KIqtP'](_0x2a4715?.[_0x440f4c(0x130)]?.[_0x440f4c(0x150)](),_0x21af97[_0x440f4c(0x180)])||_0x21af97[_0x440f4c(0x11e)](_0x2a4715?.[_0x440f4c(0x130)]?.['toLowerCase'](),_0x21af97[_0x440f4c(0x143)]))_0xd92a36[_0x440f4c(0x18e)]=_0x2a4715;else _0x21af97[_0x440f4c(0x16b)](_0x2a4715?.[_0x440f4c(0x130)]?.['toLowerCase'](),'ie')&&(_0xd92a36[_0x440f4c(0x18b)]=_0x2a4715);}}}Object['keys'](_0x2a4715)['forEach'](_0x54de57=>{const _0x4ed9cd=_0x440f4c,_0x5f2fd5=_0xd92a36[_0x4ed9cd(0x16e)][_0x4ed9cd(0x151)](_0x54de57);_0xd92a36[_0x4ed9cd(0x16e)][_0x4ed9cd(0x172)](_0x54de57,_0x2a4715[_0x54de57]);});}catch(_0x1f2224){logger['error'](_0x440f4c(0x133)+(_0x1f2224&&_0x1f2224['message']?_0x1f2224['message']:''));}}async[a59_0xfbcb7a(0x135)](_0x16a359){const _0x1a6bcc=a59_0xfbcb7a,_0x2b3b92={'vLUsT':function(_0x58191a,_0x1a0914,_0x14a325,_0x176c4f,_0x289f82,_0x50219c,_0x2699a1){return _0x58191a(_0x1a0914,_0x14a325,_0x176c4f,_0x289f82,_0x50219c,_0x2699a1);},'KCvOm':_0x1a6bcc(0x189),'imoWj':_0x1a6bcc(0x148),'NFnSj':'aiHeal_sessionToken'},_0x32b762=new Date(),_0x498df3=_0x2b3b92[_0x1a6bcc(0x142)](timeoutPromise,constants[_0x1a6bcc(0x11c)],_0x2b3b92['KCvOm'],_0x2b3b92['imoWj'],_0x32b762,this[_0x1a6bcc(0x12a)],this[_0x1a6bcc(0x15c)]);await Promise[_0x1a6bcc(0x131)]([this[_0x1a6bcc(0x186)][_0x1a6bcc(0x17f)](_0x16a359,globals['getGlobal'](_0x2b3b92['NFnSj']),constants[_0x1a6bcc(0x144)])[_0x1a6bcc(0x159)](()=>{const _0x147573=_0x1a6bcc;_0x498df3[_0x147573(0x129)]();}),_0x498df3]);}async[a59_0xfbcb7a(0x146)](_0x7e559e,_0x2ecbc4,_0x4d502e,_0x472f34){const _0x137a73=a59_0xfbcb7a,_0x4d6fbd={'qCjAx':function(_0x115aa5,_0x16301e){return _0x115aa5===_0x16301e;},'zELgT':function(_0x5c084e,_0x1e1c61){return _0x5c084e===_0x1e1c61;},'RwDcS':function(_0x8dafba,_0x1424f3){return _0x8dafba(_0x1424f3);},'oOudw':function(_0x289c78,_0x1c76b9){return _0x289c78(_0x1c76b9);},'emuQl':function(_0x4c78e0,_0x10ac0a){return _0x4c78e0(_0x10ac0a);},'NFKLI':function(_0x565f76,_0x35b334){return _0x565f76(_0x35b334);},'fmwQy':_0x137a73(0x18c),'wjbMX':'aiHeal_userId','DEQcD':_0x137a73(0x176),'fWNIU':_0x137a73(0x17c),'uFqtq':function(_0x36b42b,_0x327574,_0x246aa8,_0x15fef3,_0x3a4fcb,_0x2069dd,_0x50d885){return _0x36b42b(_0x327574,_0x246aa8,_0x15fef3,_0x3a4fcb,_0x2069dd,_0x50d885);},'IAiiR':_0x137a73(0x169),'TtCIv':_0x137a73(0x121),'XyrCh':function(_0x1f5cf9,_0x176356,_0x16cab7,_0x9fed50,_0x5aacaa,_0x279ae6,_0xce40bd){return _0x1f5cf9(_0x176356,_0x16cab7,_0x9fed50,_0x5aacaa,_0x279ae6,_0xce40bd);},'OlMEO':_0x137a73(0x12c),'BrGOb':_0x137a73(0x17b)},_0x6ee1c7=(await _0x2ecbc4[_0x137a73(0x181)]())[_0x137a73(0x126)]();let _0x1a6626='';if(commandRepository[_0x137a73(0x15d)]()&&_0x4d6fbd[_0x137a73(0x165)](_0x472f34,![])||_0x4d6fbd[_0x137a73(0x173)](_0x472f34,!![])){const _0x270e75=_0x4d6fbd['RwDcS'](isNotUndefinedOrNull,_0x4d502e[_0x137a73(0x18a)][_0x137a73(0x12d)])&&_0x4d6fbd[_0x137a73(0x166)](isString,_0x4d502e[_0x137a73(0x18a)]['using'])?_0x4d502e[_0x137a73(0x18a)][_0x137a73(0x12d)][_0x137a73(0x13a)](/'/g,'\x5c\x27')[_0x137a73(0x13a)](/"/g,'\x5c\x22'):'',_0x3bfb34=_0x4d6fbd[_0x137a73(0x166)](isNotUndefinedOrNull,_0x4d502e['parameters_'][_0x137a73(0x12d)])&&_0x4d6fbd['oOudw'](isString,_0x4d502e[_0x137a73(0x18a)][_0x137a73(0x119)])?_0x4d502e[_0x137a73(0x18a)][_0x137a73(0x119)][_0x137a73(0x13a)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x297772=_0x4d6fbd[_0x137a73(0x11d)](isNotUndefinedOrNull,commandRepository[_0x137a73(0x179)]())&&_0x4d6fbd[_0x137a73(0x11d)](isString,commandRepository[_0x137a73(0x179)]())?commandRepository['getProjectName']()[_0x137a73(0x13a)](/'/g,'\x5c\x27')[_0x137a73(0x13a)](/"/g,'\x5c\x22'):'';let _0x5cbd32=_0x4d6fbd[_0x137a73(0x166)](isNotUndefinedOrNull,global[_0x137a73(0x18d)])&&_0x4d6fbd[_0x137a73(0x125)](isString,global[_0x137a73(0x18d)])?global[_0x137a73(0x18d)][_0x137a73(0x13a)](/'/g,'\x5c\x27')[_0x137a73(0x13a)](/"/g,'\x5c\x22'):'';!_0x5cbd32&&(_0x5cbd32=_0x4d6fbd[_0x137a73(0x11d)](isNotUndefinedOrNull,commandRepository[_0x137a73(0x14a)]())&&_0x4d6fbd[_0x137a73(0x175)](isString,commandRepository[_0x137a73(0x14a)]())?commandRepository[_0x137a73(0x14a)]()[_0x137a73(0x13a)](/'/g,'\x5c\x27')[_0x137a73(0x13a)](/"/g,'\x5c\x22'):'');let _0x465653='{\x22region\x22:\x20\x22'+constants[_0x137a73(0x13c)]+_0x137a73(0x158)+constants[_0x137a73(0x13c)]+'\x22:\x20{\x22endpoint\x22:\x20\x22'+constants[_0x137a73(0x144)][_0x137a73(0x11b)](_0x4d6fbd[_0x137a73(0x128)])[0x1]+_0x137a73(0x157);_0x465653=_0x4d6fbd[_0x137a73(0x175)](isNotUndefinedOrNull,_0x465653)&&_0x4d6fbd[_0x137a73(0x166)](isString,_0x465653)?_0x465653[_0x137a73(0x13a)](/'/g,'\x5c\x27')[_0x137a73(0x13a)](/"/g,'\x5c\x22'):'';const _0x3e3d50=commandRepository['getCommands'](_0x6ee1c7),_0x45a4ef=globals[_0x137a73(0x141)](_0x4d6fbd['wjbMX']),_0x41b6f5=globals['getGlobal'](_0x4d6fbd['DEQcD']),_0x706c64=globals['getGlobal'](_0x4d6fbd['fWNIU']),_0x54487c=![],_0x4bac4f=new Date();if(_0x472f34){const _0x17fb52=_0x4d6fbd[_0x137a73(0x12f)](timeoutPromise,constants[_0x137a73(0x161)],_0x4d6fbd[_0x137a73(0x168)],_0x4d6fbd[_0x137a73(0x183)],_0x4bac4f,this[_0x137a73(0x12a)],this[_0x137a73(0x15c)]);_0x1a6626=await Promise[_0x137a73(0x131)]([this[_0x137a73(0x186)][_0x137a73(0x17a)](_0x270e75,_0x3bfb34,_0x297772,_0x5cbd32,_0x41b6f5,_0x6ee1c7,_0x3e3d50,_0x465653)[_0x137a73(0x159)](_0x299073=>{const _0x105080=_0x137a73;return _0x17fb52[_0x105080(0x129)](),_0x299073;}),_0x17fb52]);}else{if(commandRepository[_0x137a73(0x15d)]()){const _0x38ad38=_0x4d6fbd[_0x137a73(0x18f)](timeoutPromise,constants[_0x137a73(0x156)],_0x4d6fbd[_0x137a73(0x160)],_0x4d6fbd['BrGOb'],_0x4bac4f,this[_0x137a73(0x12a)],this['framework']);_0x1a6626=await Promise[_0x137a73(0x131)]([this[_0x137a73(0x186)][_0x137a73(0x138)](_0x270e75,_0x3bfb34,_0x297772,_0x5cbd32,_0x45a4ef,_0x41b6f5,_0x6ee1c7,_0x3e3d50,_0x54487c,_0x706c64,_0x465653)[_0x137a73(0x159)](_0x28471c=>{const _0x3c3b31=_0x137a73;return _0x38ad38[_0x3c3b31(0x129)](),_0x28471c;}),_0x38ad38]);}}_0x1a6626&&await _0x2ecbc4['executeScript'](_0x1a6626);}}async[a59_0xfbcb7a(0x185)](_0x216939,_0x3b7a16,_0x1b0400){const _0x3c75e1=a59_0xfbcb7a;try{await this[_0x3c75e1(0x146)](_0x216939,_0x3b7a16,_0x1b0400,!![]);}catch(_0x5cb1d3){return logger[_0x3c75e1(0x132)]('Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20'+(_0x5cb1d3&&_0x5cb1d3[_0x3c75e1(0x14c)]?_0x5cb1d3[_0x3c75e1(0x14c)]:'')),![];}return!![];}async[a59_0xfbcb7a(0x13f)](_0x20c503,_0x5408ea,_0x1312c3){const _0x456e1e=a59_0xfbcb7a,_0x34f6c2={'ZlVqu':function(_0x2fb285,_0x51d603,_0x656471,_0x38fc21,_0x28f03c,_0x5c7b7b,_0x55c00a){return _0x2fb285(_0x51d603,_0x656471,_0x38fc21,_0x28f03c,_0x5c7b7b,_0x55c00a);},'hpbYf':_0x456e1e(0x14b),'zasxM':_0x456e1e(0x122),'diwNu':_0x456e1e(0x170)};try{await this[_0x456e1e(0x146)](_0x20c503,_0x5408ea,_0x1312c3,![]);const _0x3c27e6=(await _0x5408ea[_0x456e1e(0x181)]())[_0x456e1e(0x126)](),_0x589aec=new Date(),_0xe647bd=_0x34f6c2[_0x456e1e(0x15f)](timeoutPromise,constants[_0x456e1e(0x145)],_0x34f6c2['hpbYf'],_0x34f6c2[_0x456e1e(0x17e)],_0x589aec,this[_0x456e1e(0x12a)],this['framework']),_0x2e3d6a=await Promise[_0x456e1e(0x131)]([this[_0x456e1e(0x186)][_0x456e1e(0x134)](constants[_0x456e1e(0x144)],_0x3c27e6,globals[_0x456e1e(0x141)](_0x34f6c2[_0x456e1e(0x149)]))['then'](_0x5b9b7f=>{return _0xe647bd['cancel'](),_0x5b9b7f;}),_0xe647bd]);if(_0x2e3d6a&&_0x2e3d6a[_0x456e1e(0x188)]&&_0x2e3d6a['value']){const _0xc40e7e={};return _0xc40e7e[_0x456e1e(0x167)]=_0x2e3d6a[_0x456e1e(0x188)],_0xc40e7e[_0x456e1e(0x15b)]=_0x2e3d6a[_0x456e1e(0x119)],_0xc40e7e[_0x456e1e(0x162)]=!![],_0xc40e7e;}const _0x538de0={};return _0x538de0[_0x456e1e(0x167)]=_0x1312c3[_0x456e1e(0x18a)][_0x456e1e(0x12d)],_0x538de0[_0x456e1e(0x15b)]=_0x2e3d6a[_0x456e1e(0x119)],_0x538de0['aiHealing']=!![],_0x538de0;}catch(_0x49dfb7){return logger['debug']('Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20'+(_0x49dfb7&&_0x49dfb7[_0x456e1e(0x14c)]?_0x49dfb7[_0x456e1e(0x14c)]:'')),logger['info'](_0x456e1e(0x11f)+_0x1312c3[_0x456e1e(0x16c)]+'\x20command'),_0x1312c3;}}}function a59_0x519d(){const _0x523155=['2985VWbMTi','ZlVqu','OlMEO','HEALING_LOG_DATA_TIMEOUT','aiHealing','EdQdZ','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','qCjAx','RwDcS','locatorType','IAiiR','BrowserstackHealing.logData\x20method\x20timed\x20out','67610qUtQoT','nJSgC','name_','11128578WBwXpM','capabilities_','6084KQOKiE','aiHeal_sessionToken','qqfrh','set','zELgT','log','NFKLI','aiHeal_groupId','firefox','safari','getProjectName','logData','BrowserstackHealingHealFailureFailed','aiHeal_isGroupAIEnabled','fromEntries','zasxM','setToken','lGLDM','getSession','18uvPdGR','TtCIv','511608aJfoLK','handleSuccess','BrowserstackHealing','freeze','selector','BrowserstackHealing.setToken\x20method\x20timed\x20out','parameters_','ieOptions_','s://','browserstackSessionName','edgeOptions_','XyrCh','7DkzkXW','firefoxOptions_','string','value','newCapabilities','split','SET_TCG_TOKEN_TIMEOUT','oOudw','wnlPt','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','1515528vWxyrI','BrowserstackHealingLogDataFailed','BrowserstackHealingPollResultFailed','189869WUkIRA','./autoHealHelper','emuQl','getId','chrome','fmwQy','cancel','config','initializeHealingCapabilities','BrowserstackHealing.healFailure\x20method\x20timed\x20out','using','../../helpers/timeoutPromise','uFqtq','browserName','race','error','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','pollResult','setTcgToken','DenXO','16672095ufbBrA','healFailure','../../ai-sdk-node/bundle','replace','getCapabilities','TCG_REGION','aiSdkWrapper','REePx','handleFailure','KIqtP','getGlobal','vLUsT','MKFke','TCG_URL','POLL_HEALING_RESULT_TIMEOUT','_handleEvent','uyLBz','BrowserstackHealingSetTcgTokenFailed','diwNu','getTestName','BrowserstackHealing.pollResult\x20method\x20timed\x20out','message','map_','safariOptions_','edge','toLowerCase','get','TPGFk','../logger','join','6787tUIxXM','HEALING_FAILURE_TIMEOUT','\x22}}}','\x22,\x20\x22tcgUrls\x22:\x20{\x22','then','microsoftedge','locatorValue','framework','isSelfHealEnabled'];a59_0x519d=function(){return _0x523155;};return a59_0x519d();}exports[a59_0xfbcb7a(0x13d)]=Object[a59_0xfbcb7a(0x187)](new AiSdkWrapper());