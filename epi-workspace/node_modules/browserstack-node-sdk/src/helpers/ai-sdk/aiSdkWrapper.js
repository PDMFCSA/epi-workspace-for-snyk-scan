const a99_0x3cf7ff=a99_0x216b;(function(_0x4ff1bc,_0x52a19f){const _0xad80ed=a99_0x216b,_0x1f469d=_0x4ff1bc();while(!![]){try{const _0x26f20b=-parseInt(_0xad80ed(0x171))/0x1*(-parseInt(_0xad80ed(0x15d))/0x2)+parseInt(_0xad80ed(0x12f))/0x3+parseInt(_0xad80ed(0x153))/0x4+-parseInt(_0xad80ed(0x184))/0x5*(parseInt(_0xad80ed(0x186))/0x6)+parseInt(_0xad80ed(0x133))/0x7+parseInt(_0xad80ed(0x15b))/0x8+-parseInt(_0xad80ed(0x182))/0x9;if(_0x26f20b===_0x52a19f)break;else _0x1f469d['push'](_0x1f469d['shift']());}catch(_0x3a0219){_0x1f469d['push'](_0x1f469d['shift']());}}}(a99_0x27f5,0x6db87));function a99_0x216b(_0xba5ee4,_0x57c0ae){const _0x27f525=a99_0x27f5();return a99_0x216b=function(_0x216b90,_0x4d28a8){_0x216b90=_0x216b90-0x11d;let _0x293ca0=_0x27f525[_0x216b90];return _0x293ca0;},a99_0x216b(_0xba5ee4,_0x57c0ae);}function a99_0x27f5(){const _0x3e9d59=['config','SMtfv','atvnP','initializeHealingCapabilities','capabilities_','BrowserstackHealing','kjnrZ','browserName','TCG_REGION','getCommands','HEALING_LOG_DATA_TIMEOUT','404559zgaRXG','BrowserstackHealing.logData\x20method\x20timed\x20out','koDQh','parameters_','2112880dUrtvP','locatorValue','gszfU','seQfF','using','getProjectName','s://','framework','string','../../bin/utils/constants','MSHhJ','get','name_','\x22}}}','igHXn','winstonLogger','tjIZf','safariOptions_','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','browserstackSessionName','aiHeal_sessionToken','nmgZZ','replace','../globals','YFRZN','Doyvn','microsoftedge','BMQfo','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','toLowerCase','\x22,\x20\x22tcgUrls\x22:\x20{\x22','aiSdkWrapper','2256176FDqfzJ','firefoxOptions_','getTestName','aiHealing','freeze','TCG_URL','POLL_HEALING_RESULT_TIMEOUT','value','507440Xlgain','BrowserstackHealingPollResultFailed','302254HdSpHl','./autoHealHelper','handleFailure','BrowserstackHealingSetTcgTokenFailed','BrowserstackHealing.healFailure\x20method\x20timed\x20out','iCAJg','newCapabilities','fecYz','logData','tiQye','ZwOqO','../logger','message','fromEntries','NAnoX','cancel','uLRLd','\x20command','_handleEvent','selector','4GcDETa','set','FuKtw','tQhGw','handleSuccess','BoQdH','../../ai-sdk-node/bundle','LhViC','YaWfn','IWVrg','safari','LlIaD','SET_TCG_TOKEN_TIMEOUT','firefox','HBdHz','tRXyV','locatorType','7749486KqUaxg','pollResult','6810vJzBND','race','1578UoAyQF','HEALING_FAILURE_TIMEOUT','join','path','pQpWr','rUrMh','info','BrowserstackHealingLogDataFailed','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','FMNRT','YKXAP','eZIrF','getSession','healFailure','getId','setToken','then','mPkSS','getGlobal','isSelfHealEnabled','error','edge'];a99_0x27f5=function(){return _0x3e9d59;};return a99_0x27f5();}const path=require(a99_0x3cf7ff(0x189)),{commandRepository}=require(a99_0x3cf7ff(0x15e)),constants=require(a99_0x3cf7ff(0x13c)),logger=require(a99_0x3cf7ff(0x168))[a99_0x3cf7ff(0x142)],globals=require(a99_0x3cf7ff(0x14a)),timeoutPromise=require('../../helpers/timeoutPromise'),isUndefinedOrNull=_0x5ebcf5=>_0x5ebcf5===undefined||_0x5ebcf5===null||_0x5ebcf5==='',isNotUndefinedOrNull=_0x3a9387=>!isUndefinedOrNull(_0x3a9387),isString=_0x45b7fc=>isNotUndefinedOrNull(_0x45b7fc)&&typeof _0x45b7fc===a99_0x3cf7ff(0x13b);class AiSdkWrapper{constructor(){const _0x4196dc=a99_0x3cf7ff,_0x23c55e={'FMNRT':function(_0x514f6c,_0x307fa2){return _0x514f6c(_0x307fa2);},'YKXAP':_0x4196dc(0x177)};this[_0x4196dc(0x129)]=undefined;try{this[_0x4196dc(0x129)]=_0x23c55e[_0x4196dc(0x18f)](require,path[_0x4196dc(0x188)](__dirname,_0x23c55e[_0x4196dc(0x190)]));}catch(_0x3721ae){logger[_0x4196dc(0x122)](_0x4196dc(0x18e)+(_0x3721ae&&_0x3721ae[_0x4196dc(0x169)]?_0x3721ae['message']:''));}}[a99_0x3cf7ff(0x127)](_0x51b3a8){const _0x75f2e=a99_0x3cf7ff,_0x567411={};_0x567411['mPkSS']=_0x75f2e(0x163),_0x567411['YFRZN']=function(_0x193d77,_0x2a35a1){return _0x193d77===_0x2a35a1;},_0x567411[_0x75f2e(0x17a)]='chrome',_0x567411['tQhGw']=_0x75f2e(0x17e),_0x567411[_0x75f2e(0x178)]=function(_0x5bfb09,_0x5763b7){return _0x5bfb09===_0x5763b7;},_0x567411[_0x75f2e(0x162)]=_0x75f2e(0x17b),_0x567411['kjnrZ']=function(_0x5b7547,_0x16b905){return _0x5b7547===_0x16b905;},_0x567411[_0x75f2e(0x16d)]=_0x75f2e(0x123),_0x567411[_0x75f2e(0x173)]=function(_0x3e53a6,_0x4b3220){return _0x3e53a6===_0x4b3220;},_0x567411[_0x75f2e(0x16b)]=_0x75f2e(0x14d),_0x567411['koDQh']=function(_0x28932c,_0x1f24e5){return _0x28932c===_0x1f24e5;};const _0x1327a3=_0x567411;try{const _0x34d3d7=this['BrowserstackHealing']['initializeCapabilities'](Object[_0x75f2e(0x16a)](_0x51b3a8['getCapabilities']()['map_']));console['log'](_0x1327a3[_0x75f2e(0x11f)],_0x34d3d7);if(_0x1327a3[_0x75f2e(0x14b)](_0x34d3d7?.[_0x75f2e(0x12b)]?.[_0x75f2e(0x150)](),_0x1327a3[_0x75f2e(0x17a)]))_0x51b3a8['chromeOptions_']=_0x34d3d7;else{if(_0x1327a3[_0x75f2e(0x14b)](_0x34d3d7?.[_0x75f2e(0x12b)]?.[_0x75f2e(0x150)](),_0x1327a3[_0x75f2e(0x174)]))_0x51b3a8[_0x75f2e(0x154)]=_0x34d3d7;else{if(_0x1327a3[_0x75f2e(0x178)](_0x34d3d7?.[_0x75f2e(0x12b)]?.[_0x75f2e(0x150)](),_0x1327a3[_0x75f2e(0x162)]))_0x51b3a8[_0x75f2e(0x144)]=_0x34d3d7;else{if(_0x1327a3[_0x75f2e(0x12a)](_0x34d3d7?.[_0x75f2e(0x12b)]?.[_0x75f2e(0x150)](),_0x1327a3[_0x75f2e(0x16d)])||_0x1327a3[_0x75f2e(0x173)](_0x34d3d7?.['browserName']?.[_0x75f2e(0x150)](),_0x1327a3[_0x75f2e(0x16b)]))_0x51b3a8['edgeOptions_']=_0x34d3d7;else _0x1327a3[_0x75f2e(0x131)](_0x34d3d7?.[_0x75f2e(0x12b)]?.[_0x75f2e(0x150)](),'ie')&&(_0x51b3a8['ieOptions_']=_0x34d3d7);}}}Object['keys'](_0x34d3d7)['forEach'](_0x34b630=>{const _0x269948=_0x75f2e,_0x17f553=_0x51b3a8['capabilities_'][_0x269948(0x13e)](_0x34b630);_0x51b3a8[_0x269948(0x128)][_0x269948(0x172)](_0x34b630,_0x34d3d7[_0x34b630]);});}catch(_0x12bf0a){logger['error']('Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20'+(_0x12bf0a&&_0x12bf0a['message']?_0x12bf0a[_0x75f2e(0x169)]:''));}}async['setTcgToken'](_0x3cd59e){const _0x5ad877=a99_0x3cf7ff,_0x2753b6={'tjIZf':function(_0x3f7192,_0xf17b6b,_0x490139,_0x10701d,_0x1cdd5c,_0x3407be,_0x2f0b90){return _0x3f7192(_0xf17b6b,_0x490139,_0x10701d,_0x1cdd5c,_0x3407be,_0x2f0b90);},'HBdHz':'BrowserstackHealing.setToken\x20method\x20timed\x20out','fecYz':_0x5ad877(0x160),'igHXn':_0x5ad877(0x147)},_0x167cd4=new Date(),_0x3532c8=_0x2753b6[_0x5ad877(0x143)](timeoutPromise,constants[_0x5ad877(0x17d)],_0x2753b6[_0x5ad877(0x17f)],_0x2753b6[_0x5ad877(0x164)],_0x167cd4,this[_0x5ad877(0x124)],this[_0x5ad877(0x13a)]);await Promise[_0x5ad877(0x185)]([this[_0x5ad877(0x129)][_0x5ad877(0x11d)](_0x3cd59e,globals[_0x5ad877(0x120)](_0x2753b6[_0x5ad877(0x141)]),constants[_0x5ad877(0x158)])['then'](()=>{const _0x262db8=_0x5ad877;_0x3532c8[_0x262db8(0x16c)]();}),_0x3532c8]);}async[a99_0x3cf7ff(0x16f)](_0xe66167,_0x4052c6,_0x583e3c,_0x4ba25a){const _0x30d5ce=a99_0x3cf7ff,_0x35dbb9={'eZIrF':function(_0x13300b,_0x1de1c8){return _0x13300b===_0x1de1c8;},'XIipd':function(_0xa1f8ba,_0x1f10b6){return _0xa1f8ba===_0x1f10b6;},'tiQye':function(_0x233076,_0x51aca8){return _0x233076(_0x51aca8);},'BoQdH':function(_0x4f5b60,_0x5d996c){return _0x4f5b60(_0x5d996c);},'rUrMh':function(_0x468dee,_0x463bbb){return _0x468dee(_0x463bbb);},'BMQfo':function(_0x5b1ece,_0x4369fd){return _0x5b1ece(_0x4369fd);},'atvnP':function(_0x1c5ca,_0x470b78){return _0x1c5ca(_0x470b78);},'MSHhJ':function(_0xa4c9cf,_0x5b5e8b){return _0xa4c9cf(_0x5b5e8b);},'IZDZh':_0x30d5ce(0x139),'CtlJc':function(_0x347f88,_0x59e6b7){return _0x347f88(_0x59e6b7);},'gszfU':'aiHeal_userId','ZwOqO':'aiHeal_groupId','Doyvn':'aiHeal_isGroupAIEnabled','nmgZZ':function(_0xc03fb4,_0xcd582e,_0xb4ae2e,_0x337e2c,_0x148ca9,_0x53256a,_0x59a268){return _0xc03fb4(_0xcd582e,_0xb4ae2e,_0x337e2c,_0x148ca9,_0x53256a,_0x59a268);},'tRXyV':_0x30d5ce(0x130),'YaWfn':_0x30d5ce(0x18d),'pQpWr':_0x30d5ce(0x161),'LlIaD':'BrowserstackHealingHealFailureFailed'},_0x327818=(await _0x4052c6[_0x30d5ce(0x192)]())['getId']();let _0x52f5da='';if(commandRepository['isSelfHealEnabled']()&&_0x35dbb9[_0x30d5ce(0x191)](_0x4ba25a,![])||_0x35dbb9['XIipd'](_0x4ba25a,!![])){const _0x4d14b1=_0x35dbb9[_0x30d5ce(0x166)](isNotUndefinedOrNull,_0x583e3c[_0x30d5ce(0x132)][_0x30d5ce(0x137)])&&_0x35dbb9[_0x30d5ce(0x176)](isString,_0x583e3c[_0x30d5ce(0x132)][_0x30d5ce(0x137)])?_0x583e3c[_0x30d5ce(0x132)][_0x30d5ce(0x137)][_0x30d5ce(0x149)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x522f05=_0x35dbb9['rUrMh'](isNotUndefinedOrNull,_0x583e3c[_0x30d5ce(0x132)][_0x30d5ce(0x137)])&&_0x35dbb9[_0x30d5ce(0x14e)](isString,_0x583e3c[_0x30d5ce(0x132)][_0x30d5ce(0x15a)])?_0x583e3c[_0x30d5ce(0x132)][_0x30d5ce(0x15a)]['replace'](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x45583c=_0x35dbb9[_0x30d5ce(0x18b)](isNotUndefinedOrNull,commandRepository['getProjectName']())&&_0x35dbb9[_0x30d5ce(0x176)](isString,commandRepository[_0x30d5ce(0x138)]())?commandRepository[_0x30d5ce(0x138)]()['replace'](/'/g,'\x5c\x27')[_0x30d5ce(0x149)](/"/g,'\x5c\x22'):'';let _0x2f17da=_0x35dbb9['BMQfo'](isNotUndefinedOrNull,global[_0x30d5ce(0x146)])&&_0x35dbb9['rUrMh'](isString,global['browserstackSessionName'])?global[_0x30d5ce(0x146)][_0x30d5ce(0x149)](/'/g,'\x5c\x27')[_0x30d5ce(0x149)](/"/g,'\x5c\x22'):'';!_0x2f17da&&(_0x2f17da=_0x35dbb9[_0x30d5ce(0x126)](isNotUndefinedOrNull,commandRepository[_0x30d5ce(0x155)]())&&_0x35dbb9[_0x30d5ce(0x13d)](isString,commandRepository[_0x30d5ce(0x155)]())?commandRepository[_0x30d5ce(0x155)]()[_0x30d5ce(0x149)](/'/g,'\x5c\x27')[_0x30d5ce(0x149)](/"/g,'\x5c\x22'):'');let _0x20aaf0='{\x22region\x22:\x20\x22'+constants[_0x30d5ce(0x12c)]+_0x30d5ce(0x151)+constants[_0x30d5ce(0x12c)]+'\x22:\x20{\x22endpoint\x22:\x20\x22'+constants[_0x30d5ce(0x158)]['split'](_0x35dbb9['IZDZh'])[0x1]+_0x30d5ce(0x140);_0x20aaf0=_0x35dbb9['CtlJc'](isNotUndefinedOrNull,_0x20aaf0)&&_0x35dbb9[_0x30d5ce(0x18b)](isString,_0x20aaf0)?_0x20aaf0[_0x30d5ce(0x149)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';const _0x2ff1f0=commandRepository[_0x30d5ce(0x12d)](_0x327818),_0x49e403=globals[_0x30d5ce(0x120)](_0x35dbb9[_0x30d5ce(0x135)]),_0x4063d7=globals[_0x30d5ce(0x120)](_0x35dbb9[_0x30d5ce(0x167)]),_0x52bff3=globals[_0x30d5ce(0x120)](_0x35dbb9[_0x30d5ce(0x14c)]),_0x1fd6a9=![],_0x3b40f6=new Date();if(_0x4ba25a){const _0x309b53=_0x35dbb9['nmgZZ'](timeoutPromise,constants[_0x30d5ce(0x12e)],_0x35dbb9[_0x30d5ce(0x180)],_0x35dbb9[_0x30d5ce(0x179)],_0x3b40f6,this[_0x30d5ce(0x124)],this['framework']);_0x52f5da=await Promise[_0x30d5ce(0x185)]([this[_0x30d5ce(0x129)][_0x30d5ce(0x165)](_0x4d14b1,_0x522f05,_0x45583c,_0x2f17da,_0x4063d7,_0x327818,_0x2ff1f0,_0x20aaf0)['then'](_0x295fc8=>{const _0x120d08=_0x30d5ce;return _0x309b53[_0x120d08(0x16c)](),_0x295fc8;}),_0x309b53]);}else{if(commandRepository[_0x30d5ce(0x121)]()){const _0x413123=_0x35dbb9[_0x30d5ce(0x148)](timeoutPromise,constants[_0x30d5ce(0x187)],_0x35dbb9[_0x30d5ce(0x18a)],_0x35dbb9[_0x30d5ce(0x17c)],_0x3b40f6,this['config'],this['framework']);_0x52f5da=await Promise['race']([this[_0x30d5ce(0x129)][_0x30d5ce(0x193)](_0x4d14b1,_0x522f05,_0x45583c,_0x2f17da,_0x49e403,_0x4063d7,_0x327818,_0x2ff1f0,_0x1fd6a9,_0x52bff3,_0x20aaf0)[_0x30d5ce(0x11e)](_0x5ea367=>{const _0x5af9f2=_0x30d5ce;return _0x413123[_0x5af9f2(0x16c)](),_0x5ea367;}),_0x413123]);}}_0x52f5da&&await _0x4052c6['executeScript'](_0x52f5da);}}async[a99_0x3cf7ff(0x175)](_0x2420a2,_0x25ed6d,_0x1c7a51){const _0x34ffd1=a99_0x3cf7ff;try{await this[_0x34ffd1(0x16f)](_0x2420a2,_0x25ed6d,_0x1c7a51,!![]);}catch(_0x4a3ea5){return logger[_0x34ffd1(0x122)]('Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20'+(_0x4a3ea5&&_0x4a3ea5['message']?_0x4a3ea5[_0x34ffd1(0x169)]:'')),![];}return!![];}async[a99_0x3cf7ff(0x15f)](_0x3f2ecb,_0x560d83,_0x381281){const _0x1261b1=a99_0x3cf7ff,_0x4c24b4={'WPmEz':function(_0x3b98d1,_0x2efe34,_0x1dffcb,_0xdb2076,_0x1c374d,_0x13bbfc,_0x25c441){return _0x3b98d1(_0x2efe34,_0x1dffcb,_0xdb2076,_0x1c374d,_0x13bbfc,_0x25c441);},'seQfF':'BrowserstackHealing.pollResult\x20method\x20timed\x20out','hexOE':_0x1261b1(0x15c),'SMtfv':_0x1261b1(0x147)};try{await this[_0x1261b1(0x16f)](_0x3f2ecb,_0x560d83,_0x381281,![]);const _0x263451=(await _0x560d83[_0x1261b1(0x192)]())[_0x1261b1(0x194)](),_0x215140=new Date(),_0xa4b82=_0x4c24b4['WPmEz'](timeoutPromise,constants[_0x1261b1(0x159)],_0x4c24b4[_0x1261b1(0x136)],_0x4c24b4['hexOE'],_0x215140,this[_0x1261b1(0x124)],this[_0x1261b1(0x13a)]),_0xc30f02=await Promise[_0x1261b1(0x185)]([this[_0x1261b1(0x129)][_0x1261b1(0x183)](constants[_0x1261b1(0x158)],_0x263451,globals['getGlobal'](_0x4c24b4[_0x1261b1(0x125)]))[_0x1261b1(0x11e)](_0x2c0cc3=>{const _0x500e06=_0x1261b1;return _0xa4b82[_0x500e06(0x16c)](),_0x2c0cc3;}),_0xa4b82]);if(_0xc30f02&&_0xc30f02['selector']&&_0xc30f02[_0x1261b1(0x15a)]){const _0x42edf8={};return _0x42edf8['locatorType']=_0xc30f02[_0x1261b1(0x170)],_0x42edf8['locatorValue']=_0xc30f02[_0x1261b1(0x15a)],_0x42edf8[_0x1261b1(0x156)]=!![],_0x42edf8;}const _0x479ed4={};return _0x479ed4[_0x1261b1(0x181)]=_0x381281[_0x1261b1(0x132)][_0x1261b1(0x137)],_0x479ed4[_0x1261b1(0x134)]=_0xc30f02[_0x1261b1(0x15a)],_0x479ed4[_0x1261b1(0x156)]=!![],_0x479ed4;}catch(_0x1a63f8){return logger['debug'](_0x1261b1(0x14f)+(_0x1a63f8&&_0x1a63f8[_0x1261b1(0x169)]?_0x1a63f8[_0x1261b1(0x169)]:'')),logger[_0x1261b1(0x18c)](_0x1261b1(0x145)+_0x381281[_0x1261b1(0x13f)]+_0x1261b1(0x16e)),_0x381281;}}}exports[a99_0x3cf7ff(0x152)]=Object[a99_0x3cf7ff(0x157)](new AiSdkWrapper());