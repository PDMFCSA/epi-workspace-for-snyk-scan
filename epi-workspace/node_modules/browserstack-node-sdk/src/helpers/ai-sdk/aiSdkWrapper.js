const a89_0x27bdab=a89_0x125c;(function(_0x3c9359,_0x4fa5ef){const _0x2bfcab=a89_0x125c,_0x570c43=_0x3c9359();while(!![]){try{const _0x413916=parseInt(_0x2bfcab(0x1e7))/0x1+parseInt(_0x2bfcab(0x1ab))/0x2*(-parseInt(_0x2bfcab(0x1f6))/0x3)+parseInt(_0x2bfcab(0x1e8))/0x4+-parseInt(_0x2bfcab(0x193))/0x5+parseInt(_0x2bfcab(0x1be))/0x6+-parseInt(_0x2bfcab(0x1ad))/0x7+parseInt(_0x2bfcab(0x1c9))/0x8;if(_0x413916===_0x4fa5ef)break;else _0x570c43['push'](_0x570c43['shift']());}catch(_0x3d1d9e){_0x570c43['push'](_0x570c43['shift']());}}}(a89_0x2486,0x4adcd));const path=require('path'),{commandRepository}=require('./autoHealHelper'),constants=require(a89_0x27bdab(0x1da)),logger=require(a89_0x27bdab(0x1e2))[a89_0x27bdab(0x206)],globals=require(a89_0x27bdab(0x200)),timeoutPromise=require(a89_0x27bdab(0x1f4)),isUndefinedOrNull=_0x50e88a=>_0x50e88a===undefined||_0x50e88a===null||_0x50e88a==='',isNotUndefinedOrNull=_0x5e0bb0=>!isUndefinedOrNull(_0x5e0bb0),isString=_0x224a7a=>isNotUndefinedOrNull(_0x224a7a)&&typeof _0x224a7a===a89_0x27bdab(0x1dc);class AiSdkWrapper{constructor(){const _0x31432a=a89_0x27bdab,_0xbb489={'qITqf':function(_0x305f19,_0x449351){return _0x305f19(_0x449351);},'HRScf':_0x31432a(0x1ba)};this[_0x31432a(0x205)]=undefined;try{this['BrowserstackHealing']=_0xbb489[_0x31432a(0x1b7)](require,path[_0x31432a(0x1ec)](__dirname,_0xbb489['HRScf']));}catch(_0x299cbb){logger[_0x31432a(0x1ac)](_0x31432a(0x1f5)+(_0x299cbb&&_0x299cbb[_0x31432a(0x1b1)]?_0x299cbb[_0x31432a(0x1b1)]:''));}}['initializeHealingCapabilities'](_0x5aa045){const _0x39829b=a89_0x27bdab,_0x358d2f={};_0x358d2f['HpUXH']='newCapabilities',_0x358d2f[_0x39829b(0x1ef)]=function(_0x50954f,_0x433a90){return _0x50954f===_0x433a90;},_0x358d2f[_0x39829b(0x201)]=_0x39829b(0x1ca),_0x358d2f[_0x39829b(0x1ff)]=_0x39829b(0x1c7),_0x358d2f['GHgOf']=_0x39829b(0x1a5),_0x358d2f['SUJAj']=function(_0x491d5e,_0x160d9f){return _0x491d5e===_0x160d9f;},_0x358d2f['mlKFj']=_0x39829b(0x1f1),_0x358d2f['oOaYo']=function(_0x108ecb,_0x28bd6e){return _0x108ecb===_0x28bd6e;},_0x358d2f[_0x39829b(0x1af)]='microsoftedge',_0x358d2f[_0x39829b(0x1aa)]=function(_0x297683,_0x581281){return _0x297683===_0x581281;};const _0x7ae200=_0x358d2f;try{const _0x4744be=this[_0x39829b(0x205)][_0x39829b(0x1a7)](Object[_0x39829b(0x1d3)](_0x5aa045[_0x39829b(0x1b5)]()[_0x39829b(0x1d5)]));console[_0x39829b(0x1de)](_0x7ae200[_0x39829b(0x1d6)],_0x4744be);if(_0x7ae200[_0x39829b(0x1ef)](_0x4744be?.[_0x39829b(0x195)]?.[_0x39829b(0x1bb)](),_0x7ae200[_0x39829b(0x201)]))_0x5aa045[_0x39829b(0x1f3)]=_0x4744be;else{if(_0x7ae200[_0x39829b(0x1ef)](_0x4744be?.['browserName']?.[_0x39829b(0x1bb)](),_0x7ae200[_0x39829b(0x1ff)]))_0x5aa045[_0x39829b(0x1b4)]=_0x4744be;else{if(_0x7ae200[_0x39829b(0x1ef)](_0x4744be?.['browserName']?.[_0x39829b(0x1bb)](),_0x7ae200[_0x39829b(0x1e4)]))_0x5aa045[_0x39829b(0x1d2)]=_0x4744be;else{if(_0x7ae200[_0x39829b(0x1e9)](_0x4744be?.[_0x39829b(0x195)]?.[_0x39829b(0x1bb)](),_0x7ae200['mlKFj'])||_0x7ae200[_0x39829b(0x1fe)](_0x4744be?.['browserName']?.[_0x39829b(0x1bb)](),_0x7ae200[_0x39829b(0x1af)]))_0x5aa045[_0x39829b(0x1f0)]=_0x4744be;else _0x7ae200[_0x39829b(0x1aa)](_0x4744be?.['browserName']?.[_0x39829b(0x1bb)](),'ie')&&(_0x5aa045[_0x39829b(0x1c4)]=_0x4744be);}}}Object['keys'](_0x4744be)[_0x39829b(0x1cb)](_0x3579b0=>{const _0x3d97f7=_0x39829b,_0x347b9e=_0x5aa045[_0x3d97f7(0x19f)]['get'](_0x3579b0);_0x5aa045[_0x3d97f7(0x19f)][_0x3d97f7(0x1a3)](_0x3579b0,_0x4744be[_0x3579b0]);});}catch(_0x26bf5c){logger[_0x39829b(0x1ac)](_0x39829b(0x204)+(_0x26bf5c&&_0x26bf5c[_0x39829b(0x1b1)]?_0x26bf5c['message']:''));}}async[a89_0x27bdab(0x1bf)](_0x159ff7){const _0x272a86=a89_0x27bdab,_0x628de3={'ecgvW':function(_0x5a25e4,_0xfc8e60,_0x1251e1,_0x1fe983,_0x4ef7b2,_0x33328a,_0x37a3ad){return _0x5a25e4(_0xfc8e60,_0x1251e1,_0x1fe983,_0x4ef7b2,_0x33328a,_0x37a3ad);},'OseAc':_0x272a86(0x1c1),'xEAPc':_0x272a86(0x203),'FDLpJ':_0x272a86(0x1df)},_0x284df5=new Date(),_0x31dae4=_0x628de3[_0x272a86(0x1ce)](timeoutPromise,constants[_0x272a86(0x1d1)],_0x628de3['OseAc'],_0x628de3[_0x272a86(0x1c2)],_0x284df5,this[_0x272a86(0x1d7)],this[_0x272a86(0x1fa)]);await Promise[_0x272a86(0x1b0)]([this[_0x272a86(0x205)][_0x272a86(0x1b6)](_0x159ff7,globals[_0x272a86(0x1cd)](_0x628de3[_0x272a86(0x1ea)]),constants['TCG_URL'])[_0x272a86(0x19b)](()=>{_0x31dae4['cancel']();}),_0x31dae4]);}async['_handleEvent'](_0x2da242,_0xe9d1b2,_0x3a8829,_0xc1ba23){const _0x2026eb=a89_0x27bdab,_0x2c4b22={'PetyA':function(_0xb7d737,_0x4cc4f2){return _0xb7d737===_0x4cc4f2;},'hcZnn':function(_0x51ec48,_0x4f4cc3){return _0x51ec48(_0x4f4cc3);},'tBnHi':function(_0x4d4008,_0x2b22d5){return _0x4d4008(_0x2b22d5);},'oeHyK':function(_0x2dcb74,_0x2b968b){return _0x2dcb74(_0x2b968b);},'BHeQF':function(_0x1a74ad,_0x3fb352){return _0x1a74ad(_0x3fb352);},'KnGHI':_0x2026eb(0x1b8),'ZyRPT':function(_0x52e55c,_0x96a9e0){return _0x52e55c(_0x96a9e0);},'eTwEP':'aiHeal_userId','txZfL':'aiHeal_groupId','hrZQv':_0x2026eb(0x19d),'snXFA':function(_0x1b6fef,_0x1998c5,_0x49f2f7,_0x336fe0,_0x2a1003,_0x2980db,_0x1711b1){return _0x1b6fef(_0x1998c5,_0x49f2f7,_0x336fe0,_0x2a1003,_0x2980db,_0x1711b1);},'lWtNY':'BrowserstackHealing.logData\x20method\x20timed\x20out','uuxPi':'BrowserstackHealingLogDataFailed','TeGUC':function(_0x4d5be2,_0x3d4b3b,_0x57e144,_0x8e0f47,_0x267dbc,_0x5f1278,_0x5c85aa){return _0x4d5be2(_0x3d4b3b,_0x57e144,_0x8e0f47,_0x267dbc,_0x5f1278,_0x5c85aa);},'QVRAL':'BrowserstackHealing.healFailure\x20method\x20timed\x20out','Eorom':_0x2026eb(0x1db)},_0x59934e=(await _0xe9d1b2['getSession']())[_0x2026eb(0x19c)]();let _0x263681='';if(commandRepository[_0x2026eb(0x1b3)]()&&_0x2c4b22['PetyA'](_0xc1ba23,![])||_0x2c4b22[_0x2026eb(0x208)](_0xc1ba23,!![])){const _0x372b8e=_0x2c4b22[_0x2026eb(0x1e0)](isNotUndefinedOrNull,_0x3a8829[_0x2026eb(0x1bc)][_0x2026eb(0x1ee)])&&_0x2c4b22['hcZnn'](isString,_0x3a8829['parameters_']['using'])?_0x3a8829[_0x2026eb(0x1bc)][_0x2026eb(0x1ee)][_0x2026eb(0x19e)](/'/g,'\x5c\x27')[_0x2026eb(0x19e)](/"/g,'\x5c\x22'):'',_0x401da6=_0x2c4b22[_0x2026eb(0x1e0)](isNotUndefinedOrNull,_0x3a8829[_0x2026eb(0x1bc)][_0x2026eb(0x1ee)])&&_0x2c4b22['hcZnn'](isString,_0x3a8829[_0x2026eb(0x1bc)][_0x2026eb(0x1c5)])?_0x3a8829[_0x2026eb(0x1bc)][_0x2026eb(0x1c5)][_0x2026eb(0x19e)](/'/g,'\x5c\x27')[_0x2026eb(0x19e)](/"/g,'\x5c\x22'):'',_0x3f73bd=_0x2c4b22[_0x2026eb(0x19a)](isNotUndefinedOrNull,commandRepository[_0x2026eb(0x1b9)]())&&_0x2c4b22[_0x2026eb(0x1e0)](isString,commandRepository[_0x2026eb(0x1b9)]())?commandRepository[_0x2026eb(0x1b9)]()[_0x2026eb(0x19e)](/'/g,'\x5c\x27')[_0x2026eb(0x19e)](/"/g,'\x5c\x22'):'';let _0x13afa8=_0x2c4b22[_0x2026eb(0x1b2)](isNotUndefinedOrNull,global[_0x2026eb(0x192)])&&_0x2c4b22[_0x2026eb(0x1b2)](isString,global['browserstackSessionName'])?global[_0x2026eb(0x192)][_0x2026eb(0x19e)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';!_0x13afa8&&(_0x13afa8=_0x2c4b22[_0x2026eb(0x1e0)](isNotUndefinedOrNull,commandRepository[_0x2026eb(0x1d8)]())&&_0x2c4b22[_0x2026eb(0x207)](isString,commandRepository[_0x2026eb(0x1d8)]())?commandRepository[_0x2026eb(0x1d8)]()[_0x2026eb(0x19e)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'');let _0x24ac4f=_0x2026eb(0x191)+constants[_0x2026eb(0x1a2)]+_0x2026eb(0x1c0)+constants['TCG_REGION']+_0x2026eb(0x1ed)+constants[_0x2026eb(0x1eb)][_0x2026eb(0x1fb)](_0x2c4b22[_0x2026eb(0x202)])[0x1]+_0x2026eb(0x1f2);_0x24ac4f=_0x2c4b22[_0x2026eb(0x1b2)](isNotUndefinedOrNull,_0x24ac4f)&&_0x2c4b22[_0x2026eb(0x1cc)](isString,_0x24ac4f)?_0x24ac4f[_0x2026eb(0x19e)](/'/g,'\x5c\x27')[_0x2026eb(0x19e)](/"/g,'\x5c\x22'):'';const _0x15f4dd=commandRepository['getCommands'](_0x59934e),_0x48f667=globals[_0x2026eb(0x1cd)](_0x2c4b22[_0x2026eb(0x1e1)]),_0x252ae7=globals[_0x2026eb(0x1cd)](_0x2c4b22[_0x2026eb(0x1e5)]),_0x586f45=globals['getGlobal'](_0x2c4b22[_0x2026eb(0x1c6)]),_0xab4e37=![],_0x435b79=new Date();if(_0xc1ba23){const _0x319ffc=_0x2c4b22[_0x2026eb(0x1a0)](timeoutPromise,constants[_0x2026eb(0x1fc)],_0x2c4b22[_0x2026eb(0x1d9)],_0x2c4b22[_0x2026eb(0x1a8)],_0x435b79,this[_0x2026eb(0x1d7)],this[_0x2026eb(0x1fa)]);_0x263681=await Promise['race']([this[_0x2026eb(0x205)]['logData'](_0x372b8e,_0x401da6,_0x3f73bd,_0x13afa8,_0x252ae7,_0x59934e,_0x15f4dd,_0x24ac4f)['then'](_0xe12ca6=>{return _0x319ffc['cancel'](),_0xe12ca6;}),_0x319ffc]);}else{if(commandRepository[_0x2026eb(0x1b3)]()){const _0x3cfb53=_0x2c4b22[_0x2026eb(0x1cf)](timeoutPromise,constants[_0x2026eb(0x1a6)],_0x2c4b22[_0x2026eb(0x1f8)],_0x2c4b22['Eorom'],_0x435b79,this['config'],this[_0x2026eb(0x1fa)]);_0x263681=await Promise['race']([this[_0x2026eb(0x205)][_0x2026eb(0x1fd)](_0x372b8e,_0x401da6,_0x3f73bd,_0x13afa8,_0x48f667,_0x252ae7,_0x59934e,_0x15f4dd,_0xab4e37,_0x586f45,_0x24ac4f)[_0x2026eb(0x19b)](_0x4cedf4=>{const _0x4a87ee=_0x2026eb;return _0x3cfb53[_0x4a87ee(0x1a9)](),_0x4cedf4;}),_0x3cfb53]);}}_0x263681&&await _0xe9d1b2['executeScript'](_0x263681);}}async[a89_0x27bdab(0x198)](_0x1042c7,_0x24e45a,_0x51fbc5){const _0x2c5013=a89_0x27bdab;try{await this['_handleEvent'](_0x1042c7,_0x24e45a,_0x51fbc5,!![]);}catch(_0x2ef322){return logger['error']('Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20'+(_0x2ef322&&_0x2ef322[_0x2c5013(0x1b1)]?_0x2ef322[_0x2c5013(0x1b1)]:'')),![];}return!![];}async[a89_0x27bdab(0x1c3)](_0x6d4e74,_0x31110a,_0x2f330e){const _0x2e4ece=a89_0x27bdab,_0x28e23a={'FtbKa':function(_0x833b4,_0x44399b,_0x62b8ac,_0x2d788e,_0x22504b,_0x242ee8,_0x4770a6){return _0x833b4(_0x44399b,_0x62b8ac,_0x2d788e,_0x22504b,_0x242ee8,_0x4770a6);},'JhQvx':_0x2e4ece(0x1c8),'RyFUV':_0x2e4ece(0x197),'NcqtZ':_0x2e4ece(0x1df)};try{await this[_0x2e4ece(0x1d4)](_0x6d4e74,_0x31110a,_0x2f330e,![]);const _0x15ef1e=(await _0x31110a[_0x2e4ece(0x199)]())['getId'](),_0x5b3aa3=new Date(),_0x16d444=_0x28e23a['FtbKa'](timeoutPromise,constants[_0x2e4ece(0x1dd)],_0x28e23a[_0x2e4ece(0x194)],_0x28e23a[_0x2e4ece(0x1a4)],_0x5b3aa3,this[_0x2e4ece(0x1d7)],this[_0x2e4ece(0x1fa)]),_0x1d318a=await Promise[_0x2e4ece(0x1b0)]([this[_0x2e4ece(0x205)][_0x2e4ece(0x196)](constants['TCG_URL'],_0x15ef1e,globals[_0x2e4ece(0x1cd)](_0x28e23a[_0x2e4ece(0x1a1)]))['then'](_0x3c34db=>{const _0x2205e1=_0x2e4ece;return _0x16d444[_0x2205e1(0x1a9)](),_0x3c34db;}),_0x16d444]);if(_0x1d318a&&_0x1d318a[_0x2e4ece(0x1e3)]&&_0x1d318a[_0x2e4ece(0x1c5)]){const _0x27faa4={};return _0x27faa4[_0x2e4ece(0x1f9)]=_0x1d318a['selector'],_0x27faa4['locatorValue']=_0x1d318a[_0x2e4ece(0x1c5)],_0x27faa4[_0x2e4ece(0x1d0)]=!![],_0x27faa4;}const _0x59dddf={};return _0x59dddf[_0x2e4ece(0x1f9)]=_0x2f330e[_0x2e4ece(0x1bc)][_0x2e4ece(0x1ee)],_0x59dddf[_0x2e4ece(0x1e6)]=_0x1d318a['value'],_0x59dddf[_0x2e4ece(0x1d0)]=!![],_0x59dddf;}catch(_0x146b27){return logger['debug'](_0x2e4ece(0x1ae)+(_0x146b27&&_0x146b27[_0x2e4ece(0x1b1)]?_0x146b27[_0x2e4ece(0x1b1)]:'')),logger['info']('Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20'+_0x2f330e['name_']+'\x20command'),_0x2f330e;}}}function a89_0x125c(_0xd5438b,_0x44fd0e){const _0x2486bc=a89_0x2486();return a89_0x125c=function(_0x125cb6,_0x5b7e99){_0x125cb6=_0x125cb6-0x191;let _0x16b352=_0x2486bc[_0x125cb6];return _0x16b352;},a89_0x125c(_0xd5438b,_0x44fd0e);}exports[a89_0x27bdab(0x1f7)]=Object[a89_0x27bdab(0x1bd)](new AiSdkWrapper());function a89_0x2486(){const _0x127b37=['replace','capabilities_','snXFA','NcqtZ','TCG_REGION','set','RyFUV','safari','HEALING_FAILURE_TIMEOUT','initializeCapabilities','uuxPi','cancel','vGFtU','438182WSBzyF','error','2320199VNPiyi','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','XxXgn','race','message','oeHyK','isSelfHealEnabled','firefoxOptions_','getCapabilities','setToken','qITqf','s://','getProjectName','../../ai-sdk-node/bundle','toLowerCase','parameters_','freeze','1339134abOQXE','setTcgToken','\x22,\x20\x22tcgUrls\x22:\x20{\x22','BrowserstackHealing.setToken\x20method\x20timed\x20out','xEAPc','handleFailure','ieOptions_','value','hrZQv','firefox','BrowserstackHealing.pollResult\x20method\x20timed\x20out','857144nSOPys','chrome','forEach','ZyRPT','getGlobal','ecgvW','TeGUC','aiHealing','SET_TCG_TOKEN_TIMEOUT','safariOptions_','fromEntries','_handleEvent','map_','HpUXH','config','getTestName','lWtNY','../../bin/utils/constants','BrowserstackHealingHealFailureFailed','string','POLL_HEALING_RESULT_TIMEOUT','log','aiHeal_sessionToken','hcZnn','eTwEP','../logger','selector','GHgOf','txZfL','locatorValue','173908DyYuyb','2173812EHjapc','SUJAj','FDLpJ','TCG_URL','join','\x22:\x20{\x22endpoint\x22:\x20\x22','using','erNDu','edgeOptions_','edge','\x22}}}','chromeOptions_','../../helpers/timeoutPromise','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','3uircPn','aiSdkWrapper','QVRAL','locatorType','framework','split','HEALING_LOG_DATA_TIMEOUT','healFailure','oOaYo','ogNqP','../globals','mLaiE','KnGHI','BrowserstackHealingSetTcgTokenFailed','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','BrowserstackHealing','winstonLogger','BHeQF','PetyA','{\x22region\x22:\x20\x22','browserstackSessionName','952540rvLQcK','JhQvx','browserName','pollResult','BrowserstackHealingPollResultFailed','handleSuccess','getSession','tBnHi','then','getId','aiHeal_isGroupAIEnabled'];a89_0x2486=function(){return _0x127b37;};return a89_0x2486();}