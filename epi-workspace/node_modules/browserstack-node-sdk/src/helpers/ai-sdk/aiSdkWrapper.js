const a99_0x51856c=a99_0x5e8c;(function(_0x4f1ad8,_0x2fbee9){const _0x36e6dc=a99_0x5e8c,_0x4f7d25=_0x4f1ad8();while(!![]){try{const _0xa66a0=-parseInt(_0x36e6dc(0xde))/0x1*(-parseInt(_0x36e6dc(0xdc))/0x2)+parseInt(_0x36e6dc(0x118))/0x3+parseInt(_0x36e6dc(0x11e))/0x4+parseInt(_0x36e6dc(0x123))/0x5*(parseInt(_0x36e6dc(0x12d))/0x6)+-parseInt(_0x36e6dc(0x127))/0x7*(parseInt(_0x36e6dc(0x103))/0x8)+-parseInt(_0x36e6dc(0x124))/0x9+parseInt(_0x36e6dc(0x12c))/0xa;if(_0xa66a0===_0x2fbee9)break;else _0x4f7d25['push'](_0x4f7d25['shift']());}catch(_0x4335e5){_0x4f7d25['push'](_0x4f7d25['shift']());}}}(a99_0x252a,0xe15e3));const path=require(a99_0x51856c(0xd6)),{commandRepository}=require('./autoHealHelper'),constants=require(a99_0x51856c(0xed)),logger=require(a99_0x51856c(0x110))['winstonLogger'],globals=require('../globals'),timeoutPromise=require(a99_0x51856c(0x100)),isUndefinedOrNull=_0x2578d0=>_0x2578d0===undefined||_0x2578d0===null||_0x2578d0==='',isNotUndefinedOrNull=_0x3d71bd=>!isUndefinedOrNull(_0x3d71bd),isString=_0x10ada9=>isNotUndefinedOrNull(_0x10ada9)&&typeof _0x10ada9===a99_0x51856c(0xbc);class AiSdkWrapper{constructor(){const _0x3e6de2=a99_0x51856c,_0x1b800b={'ssLfu':function(_0xd10cd1,_0x4860dc){return _0xd10cd1(_0x4860dc);},'VzzKI':_0x3e6de2(0xd7)};this[_0x3e6de2(0xea)]=undefined;try{this[_0x3e6de2(0xea)]=_0x1b800b['ssLfu'](require,path['join'](__dirname,_0x1b800b[_0x3e6de2(0x111)]));}catch(_0x641714){logger['error'](_0x3e6de2(0x125)+(_0x641714&&_0x641714[_0x3e6de2(0xe3)]?_0x641714[_0x3e6de2(0xe3)]:''));}}[a99_0x51856c(0x128)](_0x4ec454){const _0x1d8bc5=a99_0x51856c,_0x492cca={};_0x492cca[_0x1d8bc5(0xcf)]=_0x1d8bc5(0xef),_0x492cca['BafMi']=function(_0x35dacd,_0x66df48){return _0x35dacd===_0x66df48;},_0x492cca[_0x1d8bc5(0xd1)]=_0x1d8bc5(0xc8),_0x492cca['tYfFj']='firefox',_0x492cca[_0x1d8bc5(0xdf)]='safari',_0x492cca['fxxYS']=_0x1d8bc5(0xba),_0x492cca[_0x1d8bc5(0x11a)]=_0x1d8bc5(0x12a);const _0x482f31=_0x492cca;try{const _0x4966f1=this[_0x1d8bc5(0xea)][_0x1d8bc5(0xee)](Object[_0x1d8bc5(0x107)](_0x4ec454[_0x1d8bc5(0xd9)]()[_0x1d8bc5(0xe0)]));console[_0x1d8bc5(0xe9)](_0x482f31[_0x1d8bc5(0xcf)],_0x4966f1);if(_0x482f31[_0x1d8bc5(0x121)](_0x4966f1?.[_0x1d8bc5(0xc9)]?.['toLowerCase'](),_0x482f31[_0x1d8bc5(0xd1)]))_0x4ec454[_0x1d8bc5(0x101)]=_0x4966f1;else{if(_0x482f31[_0x1d8bc5(0x121)](_0x4966f1?.[_0x1d8bc5(0xc9)]?.[_0x1d8bc5(0x115)](),_0x482f31[_0x1d8bc5(0xc1)]))_0x4ec454['firefoxOptions_']=_0x4966f1;else{if(_0x482f31[_0x1d8bc5(0x121)](_0x4966f1?.[_0x1d8bc5(0xc9)]?.[_0x1d8bc5(0x115)](),_0x482f31[_0x1d8bc5(0xdf)]))_0x4ec454['safariOptions_']=_0x4966f1;else{if(_0x482f31[_0x1d8bc5(0x121)](_0x4966f1?.[_0x1d8bc5(0xc9)]?.['toLowerCase'](),_0x482f31[_0x1d8bc5(0xe1)])||_0x482f31[_0x1d8bc5(0x121)](_0x4966f1?.[_0x1d8bc5(0xc9)]?.[_0x1d8bc5(0x115)](),_0x482f31[_0x1d8bc5(0x11a)]))_0x4ec454[_0x1d8bc5(0xc6)]=_0x4966f1;else _0x482f31[_0x1d8bc5(0x121)](_0x4966f1?.[_0x1d8bc5(0xc9)]?.['toLowerCase'](),'ie')&&(_0x4ec454[_0x1d8bc5(0xe2)]=_0x4966f1);}}}Object[_0x1d8bc5(0xca)](_0x4966f1)[_0x1d8bc5(0xf5)](_0x5adb31=>{const _0x902559=_0x1d8bc5,_0x48a07c=_0x4ec454['capabilities_'][_0x902559(0xda)](_0x5adb31);_0x4ec454['capabilities_'][_0x902559(0x11d)](_0x5adb31,_0x4966f1[_0x5adb31]);});}catch(_0x5f3bd8){logger[_0x1d8bc5(0x11b)](_0x1d8bc5(0x12e)+(_0x5f3bd8&&_0x5f3bd8[_0x1d8bc5(0xe3)]?_0x5f3bd8[_0x1d8bc5(0xe3)]:''));}}async[a99_0x51856c(0x102)](_0x8b2c30){const _0x2037b1=a99_0x51856c,_0x81161c={'iqihG':function(_0x1e6a9c,_0x241cde,_0x2e0f85,_0x3e89fd,_0x336bfe,_0x20e29f,_0x44a6b1){return _0x1e6a9c(_0x241cde,_0x2e0f85,_0x3e89fd,_0x336bfe,_0x20e29f,_0x44a6b1);},'nHbKm':_0x2037b1(0xe5),'qsUIS':_0x2037b1(0x10f),'QPZdp':_0x2037b1(0xcc)},_0x30dba2=new Date(),_0x3fa269=_0x81161c[_0x2037b1(0x10d)](timeoutPromise,constants[_0x2037b1(0xc3)],_0x81161c[_0x2037b1(0xf3)],_0x81161c[_0x2037b1(0x11f)],_0x30dba2,this[_0x2037b1(0xcd)],this[_0x2037b1(0xf4)]);await Promise[_0x2037b1(0x10e)]([this[_0x2037b1(0xea)][_0x2037b1(0xe8)](_0x8b2c30,globals[_0x2037b1(0x11c)](_0x81161c[_0x2037b1(0x112)]),constants['TCG_URL'])[_0x2037b1(0x117)](()=>{_0x3fa269['cancel']();}),_0x3fa269]);}async[a99_0x51856c(0xd5)](_0x26825a,_0x324ed7,_0x251f20,_0x47c02c){const _0x5ac29e=a99_0x51856c,_0x20a1e3={'KxETj':function(_0x56611c,_0x2ea6f5){return _0x56611c===_0x2ea6f5;},'gRfgZ':function(_0x1bb181,_0x44b6d7){return _0x1bb181(_0x44b6d7);},'MVkwK':function(_0x12c00d,_0x19e6df){return _0x12c00d(_0x19e6df);},'ndMem':function(_0x21030f,_0x1c3f48){return _0x21030f(_0x1c3f48);},'TPzmK':function(_0xcb41d4,_0x3d417d){return _0xcb41d4(_0x3d417d);},'PQUur':function(_0x5ad5fb,_0x50838e){return _0x5ad5fb(_0x50838e);},'MhAjn':function(_0x51bfa4,_0x54c180){return _0x51bfa4(_0x54c180);},'CcRuu':'s://','paIQc':function(_0x32d767,_0x136155){return _0x32d767(_0x136155);},'zLAQa':'aiHeal_userId','DjewR':_0x5ac29e(0xdd),'Vjvuo':_0x5ac29e(0xf0),'SxmMh':function(_0x445677,_0xe849ad,_0x395266,_0x3239ee,_0x21518f,_0x5b2bbd,_0x57e43f){return _0x445677(_0xe849ad,_0x395266,_0x3239ee,_0x21518f,_0x5b2bbd,_0x57e43f);},'vGMSc':'BrowserstackHealing.logData\x20method\x20timed\x20out','KhvJf':_0x5ac29e(0x10a),'nKMPg':function(_0x3db5e6,_0x331cbd,_0x2a0825,_0x5b6f7f,_0x5954d0,_0x5f4a96,_0x16fde5){return _0x3db5e6(_0x331cbd,_0x2a0825,_0x5b6f7f,_0x5954d0,_0x5f4a96,_0x16fde5);},'Wenrb':'BrowserstackHealing.healFailure\x20method\x20timed\x20out','qKpRy':'BrowserstackHealingHealFailureFailed'},_0x1f368a=(await _0x324ed7[_0x5ac29e(0x106)]())[_0x5ac29e(0xd4)]();let _0x138cdd='';if(commandRepository[_0x5ac29e(0xc5)]()&&_0x20a1e3[_0x5ac29e(0xf7)](_0x47c02c,![])||_0x20a1e3[_0x5ac29e(0xf7)](_0x47c02c,!![])){const _0x188958=_0x20a1e3[_0x5ac29e(0xc2)](isNotUndefinedOrNull,_0x251f20[_0x5ac29e(0xfe)]['using'])&&_0x20a1e3[_0x5ac29e(0xe4)](isString,_0x251f20[_0x5ac29e(0xfe)][_0x5ac29e(0xd8)])?_0x251f20[_0x5ac29e(0xfe)]['using']['replace'](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x2db36f=_0x20a1e3[_0x5ac29e(0xbe)](isNotUndefinedOrNull,_0x251f20[_0x5ac29e(0xfe)][_0x5ac29e(0xd8)])&&_0x20a1e3[_0x5ac29e(0xbe)](isString,_0x251f20['parameters_']['value'])?_0x251f20[_0x5ac29e(0xfe)][_0x5ac29e(0xeb)]['replace'](/'/g,'\x5c\x27')[_0x5ac29e(0xb9)](/"/g,'\x5c\x22'):'',_0x496365=_0x20a1e3[_0x5ac29e(0xe4)](isNotUndefinedOrNull,commandRepository[_0x5ac29e(0xc4)]())&&_0x20a1e3[_0x5ac29e(0x119)](isString,commandRepository[_0x5ac29e(0xc4)]())?commandRepository['getProjectName']()['replace'](/'/g,'\x5c\x27')[_0x5ac29e(0xb9)](/"/g,'\x5c\x22'):'';let _0x1b4561=_0x20a1e3[_0x5ac29e(0xf8)](isNotUndefinedOrNull,global[_0x5ac29e(0xf1)])&&_0x20a1e3[_0x5ac29e(0xbe)](isString,global['browserstackSessionName'])?global['browserstackSessionName'][_0x5ac29e(0xb9)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';!_0x1b4561&&(_0x1b4561=_0x20a1e3[_0x5ac29e(0xe4)](isNotUndefinedOrNull,commandRepository[_0x5ac29e(0xec)]())&&_0x20a1e3['MhAjn'](isString,commandRepository[_0x5ac29e(0xec)]())?commandRepository[_0x5ac29e(0xec)]()[_0x5ac29e(0xb9)](/'/g,'\x5c\x27')[_0x5ac29e(0xb9)](/"/g,'\x5c\x22'):'');let _0x322231='{\x22region\x22:\x20\x22'+constants[_0x5ac29e(0x109)]+_0x5ac29e(0xd2)+constants['TCG_REGION']+'\x22:\x20{\x22endpoint\x22:\x20\x22'+constants[_0x5ac29e(0x129)][_0x5ac29e(0x113)](_0x20a1e3[_0x5ac29e(0xf6)])[0x1]+'\x22}}}';_0x322231=_0x20a1e3[_0x5ac29e(0xfb)](isNotUndefinedOrNull,_0x322231)&&_0x20a1e3[_0x5ac29e(0xbe)](isString,_0x322231)?_0x322231[_0x5ac29e(0xb9)](/'/g,'\x5c\x27')[_0x5ac29e(0xb9)](/"/g,'\x5c\x22'):'';const _0x1a4b79=commandRepository['getCommands'](_0x1f368a),_0x2ccd0d=globals[_0x5ac29e(0x11c)](_0x20a1e3[_0x5ac29e(0x10b)]),_0x5c75a1=globals['getGlobal'](_0x20a1e3[_0x5ac29e(0xff)]),_0x566c95=globals[_0x5ac29e(0x11c)](_0x20a1e3[_0x5ac29e(0xbb)]),_0x5d5a3a=![],_0x59039f=new Date();if(_0x47c02c){const _0x37e7b7=_0x20a1e3['SxmMh'](timeoutPromise,constants['HEALING_LOG_DATA_TIMEOUT'],_0x20a1e3[_0x5ac29e(0x12b)],_0x20a1e3['KhvJf'],_0x59039f,this[_0x5ac29e(0xcd)],this['framework']);_0x138cdd=await Promise[_0x5ac29e(0x10e)]([this['BrowserstackHealing'][_0x5ac29e(0xbd)](_0x188958,_0x2db36f,_0x496365,_0x1b4561,_0x5c75a1,_0x1f368a,_0x1a4b79,_0x322231)[_0x5ac29e(0x117)](_0x1e94ff=>{const _0x45dded=_0x5ac29e;return _0x37e7b7[_0x45dded(0xfc)](),_0x1e94ff;}),_0x37e7b7]);}else{if(commandRepository[_0x5ac29e(0xc5)]()){const _0x2851f6=_0x20a1e3['nKMPg'](timeoutPromise,constants[_0x5ac29e(0x114)],_0x20a1e3[_0x5ac29e(0xc7)],_0x20a1e3[_0x5ac29e(0xd3)],_0x59039f,this[_0x5ac29e(0xcd)],this['framework']);_0x138cdd=await Promise[_0x5ac29e(0x10e)]([this['BrowserstackHealing'][_0x5ac29e(0xfd)](_0x188958,_0x2db36f,_0x496365,_0x1b4561,_0x2ccd0d,_0x5c75a1,_0x1f368a,_0x1a4b79,_0x5d5a3a,_0x566c95,_0x322231)[_0x5ac29e(0x117)](_0x50be49=>{const _0x248cc4=_0x5ac29e;return _0x2851f6[_0x248cc4(0xfc)](),_0x50be49;}),_0x2851f6]);}}_0x138cdd&&await _0x324ed7[_0x5ac29e(0xce)](_0x138cdd);}}async[a99_0x51856c(0x120)](_0x2b828c,_0x4a941d,_0x530f56){const _0x2b8140=a99_0x51856c;try{await this[_0x2b8140(0xd5)](_0x2b828c,_0x4a941d,_0x530f56,!![]);}catch(_0x5573c5){return logger[_0x2b8140(0x11b)](_0x2b8140(0xcb)+(_0x5573c5&&_0x5573c5[_0x2b8140(0xe3)]?_0x5573c5[_0x2b8140(0xe3)]:'')),![];}return!![];}async[a99_0x51856c(0x126)](_0x9200c3,_0x21a8ac,_0x2442d2){const _0x1e8488=a99_0x51856c,_0x3cc71e={'mCeDk':function(_0x4bd18c,_0x2425c1,_0x301e5c,_0x1fd0c8,_0x4c3809,_0x5738b3,_0x129a09){return _0x4bd18c(_0x2425c1,_0x301e5c,_0x1fd0c8,_0x4c3809,_0x5738b3,_0x129a09);},'fAUcG':'BrowserstackHealing.pollResult\x20method\x20timed\x20out','bNzHL':_0x1e8488(0xf2),'NlmwF':_0x1e8488(0xcc)};try{await this[_0x1e8488(0xd5)](_0x9200c3,_0x21a8ac,_0x2442d2,![]);const _0x5dd065=(await _0x21a8ac[_0x1e8488(0x106)]())[_0x1e8488(0xd4)](),_0x24bd2f=new Date(),_0x4cb3b0=_0x3cc71e[_0x1e8488(0x105)](timeoutPromise,constants['POLL_HEALING_RESULT_TIMEOUT'],_0x3cc71e[_0x1e8488(0x108)],_0x3cc71e[_0x1e8488(0x116)],_0x24bd2f,this[_0x1e8488(0xcd)],this[_0x1e8488(0xf4)]),_0x3d458b=await Promise[_0x1e8488(0x10e)]([this[_0x1e8488(0xea)]['pollResult'](constants['TCG_URL'],_0x5dd065,globals[_0x1e8488(0x11c)](_0x3cc71e[_0x1e8488(0xbf)]))[_0x1e8488(0x117)](_0x555200=>{const _0x361dc1=_0x1e8488;return _0x4cb3b0[_0x361dc1(0xfc)](),_0x555200;}),_0x4cb3b0]);if(_0x3d458b&&_0x3d458b[_0x1e8488(0xfa)]&&_0x3d458b[_0x1e8488(0xeb)]){const _0x3d3cb5={};return _0x3d3cb5['locatorType']=_0x3d458b[_0x1e8488(0xfa)],_0x3d3cb5[_0x1e8488(0x122)]=_0x3d458b[_0x1e8488(0xeb)],_0x3d3cb5[_0x1e8488(0xe6)]=!![],_0x3d3cb5;}const _0x30ef09={};return _0x30ef09[_0x1e8488(0xc0)]=_0x2442d2[_0x1e8488(0xfe)][_0x1e8488(0xd8)],_0x30ef09[_0x1e8488(0x122)]=_0x3d458b['value'],_0x30ef09['aiHealing']=!![],_0x30ef09;}catch(_0xd970c4){return logger[_0x1e8488(0x104)](_0x1e8488(0xdb)+(_0xd970c4&&_0xd970c4[_0x1e8488(0xe3)]?_0xd970c4[_0x1e8488(0xe3)]:'')),logger[_0x1e8488(0xb8)](_0x1e8488(0x10c)+_0x2442d2['name_']+_0x1e8488(0xd0)),_0x2442d2;}}}exports[a99_0x51856c(0xe7)]=Object[a99_0x51856c(0xf9)](new AiSdkWrapper());function a99_0x5e8c(_0x4e819d,_0x4d96b5){const _0x252acf=a99_0x252a();return a99_0x5e8c=function(_0x5e8c30,_0x423f06){_0x5e8c30=_0x5e8c30-0xb8;let _0xb89fcf=_0x252acf[_0x5e8c30];return _0xb89fcf;},a99_0x5e8c(_0x4e819d,_0x4d96b5);}function a99_0x252a(){const _0x833ec5=['setToken','log','BrowserstackHealing','value','getTestName','../../bin/utils/constants','initializeCapabilities','newCapabilities','aiHeal_isGroupAIEnabled','browserstackSessionName','BrowserstackHealingPollResultFailed','nHbKm','framework','forEach','CcRuu','KxETj','PQUur','freeze','selector','paIQc','cancel','healFailure','parameters_','DjewR','../../helpers/timeoutPromise','chromeOptions_','setTcgToken','80ZGAkhC','debug','mCeDk','getSession','fromEntries','fAUcG','TCG_REGION','BrowserstackHealingLogDataFailed','zLAQa','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','iqihG','race','BrowserstackHealingSetTcgTokenFailed','../logger','VzzKI','QPZdp','split','HEALING_FAILURE_TIMEOUT','toLowerCase','bNzHL','then','5115876VXQmSK','TPzmK','QhyyD','error','getGlobal','set','2353520NDBVdE','qsUIS','handleSuccess','BafMi','locatorValue','805045svZwZJ','13179483VwPlzY','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','handleFailure','1042125TfCODo','initializeHealingCapabilities','TCG_URL','microsoftedge','vGMSc','6677180hUiTnx','18dQoWMo','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','info','replace','edge','Vjvuo','string','logData','ndMem','NlmwF','locatorType','tYfFj','gRfgZ','SET_TCG_TOKEN_TIMEOUT','getProjectName','isSelfHealEnabled','edgeOptions_','Wenrb','chrome','browserName','keys','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','aiHeal_sessionToken','config','executeScript','SGGZc','\x20command','moVqR','\x22,\x20\x22tcgUrls\x22:\x20{\x22','qKpRy','getId','_handleEvent','path','../../ai-sdk-node/bundle','using','getCapabilities','get','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','23342gpPBRS','aiHeal_groupId','37exvCWJ','Azryv','map_','fxxYS','ieOptions_','message','MVkwK','BrowserstackHealing.setToken\x20method\x20timed\x20out','aiHealing','aiSdkWrapper'];a99_0x252a=function(){return _0x833ec5;};return a99_0x252a();}