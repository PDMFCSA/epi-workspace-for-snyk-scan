function a89_0x407c(){const _0x2f870a=['2871516pJbkCE','fromEntries','initializeHealingCapabilities','selector','getSession','locatorType','mVbcX','ieOptions_','{\x22region\x22:\x20\x22','chromeOptions_','YvQpq','capabilities_','BrowserstackHealing','framework','489796IEGimY','locatorValue','parameters_','BrowserstackHealingSetTcgTokenFailed','HEALING_FAILURE_TIMEOUT','AyIuv','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','2579380ZYGEEL','../../bin/utils/constants','bnBZN','oihaQ','replace','\x22:\x20{\x22endpoint\x22:\x20\x22','koqlz','yBigj','BrowserstackHealing.pollResult\x20method\x20timed\x20out','NvRCo','NcNZq','aiHeal_isGroupAIEnabled','../globals','message','getProjectName','safari','QdvpI','cancel','TgLCg','RCgPi','chrome','firefoxOptions_','1144629tqmBoK','Jfuar','oxePC','getTestName','LlUgA','newCapabilities','error','using','get','value','7210720NemKuo','MicdR','BrowserstackHealingLogDataFailed','debug','forEach','BrowserstackHealingPollResultFailed','edge','1741523QIPovd','aiHeal_userId','BrowserstackHealing.setToken\x20method\x20timed\x20out','TCG_URL','getCommands','TCG_REGION','rOqSJ','set','microsoftedge','BrowserstackHealing.healFailure\x20method\x20timed\x20out','path','getId','dyEZi','nktPJ','../../helpers/timeoutPromise','POLL_HEALING_RESULT_TIMEOUT','\x22}}}','browserName','then','setTcgToken','edgeOptions_','name_','OyjTB','eBHKj','logData','isSelfHealEnabled','SQafB','ipGQy','browserstackSessionName','../../ai-sdk-node/bundle','getGlobal','gmbuU','MrIYs','firefox','QWrJM','_handleEvent','aiHealing','jFMIr','freeze','DehPv','1529952OcECnX','aBfIW','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','healFailure','aiHeal_sessionToken','toLowerCase','BrowserstackHealingHealFailureFailed','\x22,\x20\x22tcgUrls\x22:\x20{\x22','handleFailure','./autoHealHelper','config','laXlF','race','bixGj','join','winstonLogger','safariOptions_','JFEds','GVizo'];a89_0x407c=function(){return _0x2f870a;};return a89_0x407c();}function a89_0x3deb(_0x57a5bc,_0x23e3d5){const _0x407cf7=a89_0x407c();return a89_0x3deb=function(_0x3deb22,_0x8448b){_0x3deb22=_0x3deb22-0xd4;let _0x4edca4=_0x407cf7[_0x3deb22];return _0x4edca4;},a89_0x3deb(_0x57a5bc,_0x23e3d5);}const a89_0x4e9d5b=a89_0x3deb;(function(_0x33b9ac,_0x894114){const _0x7dc4d6=a89_0x3deb,_0x4fc8cf=_0x33b9ac();while(!![]){try{const _0x3b2100=-parseInt(_0x7dc4d6(0x111))/0x1+parseInt(_0x7dc4d6(0x103))/0x2+-parseInt(_0x7dc4d6(0x12e))/0x3+-parseInt(_0x7dc4d6(0x118))/0x4+parseInt(_0x7dc4d6(0x138))/0x5+-parseInt(_0x7dc4d6(0xf0))/0x6+-parseInt(_0x7dc4d6(0x13f))/0x7;if(_0x3b2100===_0x894114)break;else _0x4fc8cf['push'](_0x4fc8cf['shift']());}catch(_0x3f8e12){_0x4fc8cf['push'](_0x4fc8cf['shift']());}}}(a89_0x407c,0xd1751));const path=require(a89_0x4e9d5b(0x149)),{commandRepository}=require(a89_0x4e9d5b(0xf9)),constants=require(a89_0x4e9d5b(0x119)),logger=require('../logger')[a89_0x4e9d5b(0xff)],globals=require(a89_0x4e9d5b(0x124)),timeoutPromise=require(a89_0x4e9d5b(0xd6)),isUndefinedOrNull=_0x2f3da3=>_0x2f3da3===undefined||_0x2f3da3===null||_0x2f3da3==='',isNotUndefinedOrNull=_0x3497c3=>!isUndefinedOrNull(_0x3497c3),isString=_0x3d773d=>isNotUndefinedOrNull(_0x3d773d)&&typeof _0x3d773d==='string';class AiSdkWrapper{constructor(){const _0x5bf915=a89_0x4e9d5b,_0x56e857={'LlUgA':function(_0x2445bc,_0x5116f8){return _0x2445bc(_0x5116f8);},'eBHKj':_0x5bf915(0xe5)};this[_0x5bf915(0x10f)]=undefined;try{this[_0x5bf915(0x10f)]=_0x56e857[_0x5bf915(0x132)](require,path[_0x5bf915(0xfe)](__dirname,_0x56e857[_0x5bf915(0xdf)]));}catch(_0x39cfcc){logger[_0x5bf915(0x134)](_0x5bf915(0x117)+(_0x39cfcc&&_0x39cfcc[_0x5bf915(0x125)]?_0x39cfcc['message']:''));}}[a89_0x4e9d5b(0x105)](_0x5bf239){const _0x4dcf85=a89_0x4e9d5b,_0x302c7e={};_0x302c7e[_0x4dcf85(0x12b)]=_0x4dcf85(0x133),_0x302c7e[_0x4dcf85(0x122)]=function(_0x46b8e5,_0x54c13c){return _0x46b8e5===_0x54c13c;},_0x302c7e[_0x4dcf85(0x128)]=_0x4dcf85(0x12c),_0x302c7e[_0x4dcf85(0xe3)]=function(_0x184d6c,_0x5331a6){return _0x184d6c===_0x5331a6;},_0x302c7e[_0x4dcf85(0xef)]=_0x4dcf85(0xe9),_0x302c7e[_0x4dcf85(0x145)]=_0x4dcf85(0x127),_0x302c7e['nktPJ']=function(_0x19ee66,_0x139577){return _0x19ee66===_0x139577;},_0x302c7e['Jfuar']=_0x4dcf85(0x13e),_0x302c7e[_0x4dcf85(0x102)]=_0x4dcf85(0x147),_0x302c7e[_0x4dcf85(0xf1)]=function(_0xe5db2b,_0xe4b9e4){return _0xe5db2b===_0xe4b9e4;};const _0x2b75e0=_0x302c7e;try{const _0xf79025=this['BrowserstackHealing']['initializeCapabilities'](Object[_0x4dcf85(0x104)](_0x5bf239['getCapabilities']()['map_']));console['log'](_0x2b75e0[_0x4dcf85(0x12b)],_0xf79025);if(_0x2b75e0[_0x4dcf85(0x122)](_0xf79025?.[_0x4dcf85(0xd9)]?.[_0x4dcf85(0xf5)](),_0x2b75e0[_0x4dcf85(0x128)]))_0x5bf239[_0x4dcf85(0x10c)]=_0xf79025;else{if(_0x2b75e0['ipGQy'](_0xf79025?.[_0x4dcf85(0xd9)]?.[_0x4dcf85(0xf5)](),_0x2b75e0[_0x4dcf85(0xef)]))_0x5bf239[_0x4dcf85(0x12d)]=_0xf79025;else{if(_0x2b75e0[_0x4dcf85(0xe3)](_0xf79025?.[_0x4dcf85(0xd9)]?.[_0x4dcf85(0xf5)](),_0x2b75e0[_0x4dcf85(0x145)]))_0x5bf239[_0x4dcf85(0x100)]=_0xf79025;else{if(_0x2b75e0[_0x4dcf85(0xd5)](_0xf79025?.[_0x4dcf85(0xd9)]?.['toLowerCase'](),_0x2b75e0[_0x4dcf85(0x12f)])||_0x2b75e0[_0x4dcf85(0xe3)](_0xf79025?.[_0x4dcf85(0xd9)]?.[_0x4dcf85(0xf5)](),_0x2b75e0['GVizo']))_0x5bf239[_0x4dcf85(0xdc)]=_0xf79025;else _0x2b75e0[_0x4dcf85(0xf1)](_0xf79025?.[_0x4dcf85(0xd9)]?.[_0x4dcf85(0xf5)](),'ie')&&(_0x5bf239[_0x4dcf85(0x10a)]=_0xf79025);}}}Object['keys'](_0xf79025)[_0x4dcf85(0x13c)](_0x3b2c96=>{const _0x52571e=_0x4dcf85,_0x5213b7=_0x5bf239[_0x52571e(0x10e)][_0x52571e(0x136)](_0x3b2c96);_0x5bf239[_0x52571e(0x10e)][_0x52571e(0x146)](_0x3b2c96,_0xf79025[_0x3b2c96]);});}catch(_0x189997){logger['error'](_0x4dcf85(0xf2)+(_0x189997&&_0x189997[_0x4dcf85(0x125)]?_0x189997['message']:''));}}async[a89_0x4e9d5b(0xdb)](_0x13e88c){const _0x1f68a=a89_0x4e9d5b,_0x4dcf66={'OyjTB':function(_0x3d0a6a,_0x363e66,_0x1099b3,_0xb8ee13,_0x218242,_0x15ae24,_0x4956f7){return _0x3d0a6a(_0x363e66,_0x1099b3,_0xb8ee13,_0x218242,_0x15ae24,_0x4956f7);},'koqlz':_0x1f68a(0x141),'TgLCg':_0x1f68a(0x114),'oAjeE':'aiHeal_sessionToken'},_0x412e0f=new Date(),_0x365559=_0x4dcf66[_0x1f68a(0xde)](timeoutPromise,constants['SET_TCG_TOKEN_TIMEOUT'],_0x4dcf66[_0x1f68a(0x11e)],_0x4dcf66[_0x1f68a(0x12a)],_0x412e0f,this[_0x1f68a(0xfa)],this[_0x1f68a(0x110)]);await Promise['race']([this[_0x1f68a(0x10f)]['setToken'](_0x13e88c,globals[_0x1f68a(0xe6)](_0x4dcf66['oAjeE']),constants['TCG_URL'])[_0x1f68a(0xda)](()=>{const _0x342a5c=_0x1f68a;_0x365559[_0x342a5c(0x129)]();}),_0x365559]);}async[a89_0x4e9d5b(0xeb)](_0xc3596b,_0x5e693c,_0xcf62e0,_0x1d7914){const _0x513547=a89_0x4e9d5b,_0x2ea4bd={'AyIuv':function(_0x354982,_0x3c75c1){return _0x354982===_0x3c75c1;},'JFEds':function(_0x1fa96f,_0x1aa60d){return _0x1fa96f(_0x1aa60d);},'jFMIr':function(_0xb7e035,_0x4a5c29){return _0xb7e035(_0x4a5c29);},'dyEZi':function(_0x50a066,_0x4db69c){return _0x50a066(_0x4db69c);},'SQafB':function(_0x51c017,_0x327899){return _0x51c017(_0x327899);},'QWrJM':function(_0x299a0b,_0x2cd2dd){return _0x299a0b(_0x2cd2dd);},'gmbuU':function(_0x8b28f3,_0x2b9fba){return _0x8b28f3(_0x2b9fba);},'MicdR':'s://','laXlF':function(_0x2cc448,_0x58ea30){return _0x2cc448(_0x58ea30);},'QmnvY':_0x513547(0x140),'yBigj':'aiHeal_groupId','xfaSM':_0x513547(0x123),'mVbcX':function(_0x4730b0,_0x4eaab9,_0xb3dec,_0x17724a,_0x4980a4,_0x33dee0,_0x2a9cac){return _0x4730b0(_0x4eaab9,_0xb3dec,_0x17724a,_0x4980a4,_0x33dee0,_0x2a9cac);},'oihaQ':'BrowserstackHealing.logData\x20method\x20timed\x20out','bnBZN':_0x513547(0x13a),'bixGj':_0x513547(0x148),'oxePC':_0x513547(0xf6)},_0x4a008f=(await _0x5e693c[_0x513547(0x107)]())[_0x513547(0x14a)]();let _0x3f14dd='';if(commandRepository[_0x513547(0xe1)]()&&_0x2ea4bd[_0x513547(0x116)](_0x1d7914,![])||_0x2ea4bd[_0x513547(0x116)](_0x1d7914,!![])){const _0x43a3f3=_0x2ea4bd[_0x513547(0x101)](isNotUndefinedOrNull,_0xcf62e0[_0x513547(0x113)][_0x513547(0x135)])&&_0x2ea4bd[_0x513547(0xed)](isString,_0xcf62e0[_0x513547(0x113)]['using'])?_0xcf62e0[_0x513547(0x113)]['using']['replace'](/'/g,'\x5c\x27')[_0x513547(0x11c)](/"/g,'\x5c\x22'):'',_0xf4966=_0x2ea4bd['dyEZi'](isNotUndefinedOrNull,_0xcf62e0['parameters_'][_0x513547(0x135)])&&_0x2ea4bd[_0x513547(0x101)](isString,_0xcf62e0[_0x513547(0x113)][_0x513547(0x137)])?_0xcf62e0['parameters_'][_0x513547(0x137)]['replace'](/'/g,'\x5c\x27')[_0x513547(0x11c)](/"/g,'\x5c\x22'):'',_0x11eac1=_0x2ea4bd[_0x513547(0xe2)](isNotUndefinedOrNull,commandRepository[_0x513547(0x126)]())&&_0x2ea4bd[_0x513547(0xd4)](isString,commandRepository['getProjectName']())?commandRepository['getProjectName']()[_0x513547(0x11c)](/'/g,'\x5c\x27')[_0x513547(0x11c)](/"/g,'\x5c\x22'):'';let _0x3fc2e0=_0x2ea4bd[_0x513547(0xea)](isNotUndefinedOrNull,global[_0x513547(0xe4)])&&_0x2ea4bd[_0x513547(0xed)](isString,global[_0x513547(0xe4)])?global['browserstackSessionName'][_0x513547(0x11c)](/'/g,'\x5c\x27')[_0x513547(0x11c)](/"/g,'\x5c\x22'):'';!_0x3fc2e0&&(_0x3fc2e0=_0x2ea4bd[_0x513547(0xe7)](isNotUndefinedOrNull,commandRepository[_0x513547(0x131)]())&&_0x2ea4bd[_0x513547(0xe7)](isString,commandRepository['getTestName']())?commandRepository[_0x513547(0x131)]()[_0x513547(0x11c)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'');let _0x342d69=_0x513547(0x10b)+constants[_0x513547(0x144)]+_0x513547(0xf7)+constants['TCG_REGION']+_0x513547(0x11d)+constants[_0x513547(0x142)]['split'](_0x2ea4bd[_0x513547(0x139)])[0x1]+_0x513547(0xd8);_0x342d69=_0x2ea4bd[_0x513547(0xfb)](isNotUndefinedOrNull,_0x342d69)&&_0x2ea4bd[_0x513547(0xd4)](isString,_0x342d69)?_0x342d69[_0x513547(0x11c)](/'/g,'\x5c\x27')[_0x513547(0x11c)](/"/g,'\x5c\x22'):'';const _0x474b26=commandRepository[_0x513547(0x143)](_0x4a008f),_0x3a3a19=globals[_0x513547(0xe6)](_0x2ea4bd['QmnvY']),_0x571319=globals[_0x513547(0xe6)](_0x2ea4bd[_0x513547(0x11f)]),_0x3deda2=globals[_0x513547(0xe6)](_0x2ea4bd['xfaSM']),_0x55976f=![],_0x1fb4c2=new Date();if(_0x1d7914){const _0x16c410=_0x2ea4bd[_0x513547(0x109)](timeoutPromise,constants['HEALING_LOG_DATA_TIMEOUT'],_0x2ea4bd[_0x513547(0x11b)],_0x2ea4bd[_0x513547(0x11a)],_0x1fb4c2,this[_0x513547(0xfa)],this[_0x513547(0x110)]);_0x3f14dd=await Promise['race']([this[_0x513547(0x10f)][_0x513547(0xe0)](_0x43a3f3,_0xf4966,_0x11eac1,_0x3fc2e0,_0x571319,_0x4a008f,_0x474b26,_0x342d69)['then'](_0x3eef48=>{return _0x16c410['cancel'](),_0x3eef48;}),_0x16c410]);}else{if(commandRepository[_0x513547(0xe1)]()){const _0x213aea=_0x2ea4bd['mVbcX'](timeoutPromise,constants[_0x513547(0x115)],_0x2ea4bd[_0x513547(0xfd)],_0x2ea4bd[_0x513547(0x130)],_0x1fb4c2,this[_0x513547(0xfa)],this['framework']);_0x3f14dd=await Promise[_0x513547(0xfc)]([this[_0x513547(0x10f)][_0x513547(0xf3)](_0x43a3f3,_0xf4966,_0x11eac1,_0x3fc2e0,_0x3a3a19,_0x571319,_0x4a008f,_0x474b26,_0x55976f,_0x3deda2,_0x342d69)['then'](_0x2a73ed=>{const _0x38b529=_0x513547;return _0x213aea[_0x38b529(0x129)](),_0x2a73ed;}),_0x213aea]);}}_0x3f14dd&&await _0x5e693c['executeScript'](_0x3f14dd);}}async['handleSuccess'](_0x4df06e,_0x548fbc,_0x182cd5){const _0x189dd6=a89_0x4e9d5b;try{await this[_0x189dd6(0xeb)](_0x4df06e,_0x548fbc,_0x182cd5,!![]);}catch(_0x7eb990){return logger[_0x189dd6(0x134)]('Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20'+(_0x7eb990&&_0x7eb990['message']?_0x7eb990[_0x189dd6(0x125)]:'')),![];}return!![];}async[a89_0x4e9d5b(0xf8)](_0x35680c,_0x3e8ada,_0x314e06){const _0x5a7159=a89_0x4e9d5b,_0x2c0d88={'YvQpq':function(_0x17287d,_0x19704e,_0x15a76e,_0x2b5db6,_0x2eeacf,_0x7d3fc8,_0x4eaa1d){return _0x17287d(_0x19704e,_0x15a76e,_0x2b5db6,_0x2eeacf,_0x7d3fc8,_0x4eaa1d);},'NvRCo':_0x5a7159(0x120),'sKGGJ':_0x5a7159(0x13d),'MrIYs':_0x5a7159(0xf4)};try{await this[_0x5a7159(0xeb)](_0x35680c,_0x3e8ada,_0x314e06,![]);const _0x278e4b=(await _0x3e8ada['getSession']())[_0x5a7159(0x14a)](),_0x4217d8=new Date(),_0x27ae5a=_0x2c0d88[_0x5a7159(0x10d)](timeoutPromise,constants[_0x5a7159(0xd7)],_0x2c0d88[_0x5a7159(0x121)],_0x2c0d88['sKGGJ'],_0x4217d8,this['config'],this[_0x5a7159(0x110)]),_0x50487b=await Promise[_0x5a7159(0xfc)]([this[_0x5a7159(0x10f)]['pollResult'](constants[_0x5a7159(0x142)],_0x278e4b,globals['getGlobal'](_0x2c0d88[_0x5a7159(0xe8)]))[_0x5a7159(0xda)](_0x210409=>{const _0x4e92b9=_0x5a7159;return _0x27ae5a[_0x4e92b9(0x129)](),_0x210409;}),_0x27ae5a]);if(_0x50487b&&_0x50487b[_0x5a7159(0x106)]&&_0x50487b['value']){const _0x22b934={};return _0x22b934[_0x5a7159(0x108)]=_0x50487b[_0x5a7159(0x106)],_0x22b934[_0x5a7159(0x112)]=_0x50487b['value'],_0x22b934[_0x5a7159(0xec)]=!![],_0x22b934;}const _0x4f677d={};return _0x4f677d[_0x5a7159(0x108)]=_0x314e06[_0x5a7159(0x113)][_0x5a7159(0x135)],_0x4f677d['locatorValue']=_0x50487b[_0x5a7159(0x137)],_0x4f677d[_0x5a7159(0xec)]=!![],_0x4f677d;}catch(_0x11115b){return logger[_0x5a7159(0x13b)]('Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20'+(_0x11115b&&_0x11115b['message']?_0x11115b[_0x5a7159(0x125)]:'')),logger['info']('Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20'+_0x314e06[_0x5a7159(0xdd)]+'\x20command'),_0x314e06;}}}exports['aiSdkWrapper']=Object[a89_0x4e9d5b(0xee)](new AiSdkWrapper());