function a99_0xe9e4(){const _0x40a080=['fromEntries','browserName','getGlobal','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','race','118318BxxrWN','handleSuccess','../../ai-sdk-node/bundle','locatorType','aiHeal_userId','POLL_HEALING_RESULT_TIMEOUT','BygRA','tlpqN','Umgez','25XugxmE','XdZcc','get','VwnJH','path','../logger','5907096cEpkDO','564792OKClNr','string','aiHealing','map_','message','LBQsL','toLowerCase','handleFailure','nqONr','RmGwg','EdhuB','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','10eXCWyq','chromeOptions_','aiHeal_isGroupAIEnabled','debug','initializeCapabilities','then','value','plNLC','getId','VjhYk','FpjMw','OsRRI','forEach','12QoNlFB','freeze','BrowserstackHealing.healFailure\x20method\x20timed\x20out','initializeHealingCapabilities','MwNRC','{\x22region\x22:\x20\x22','setToken','fvZJH','capabilities_','TwQzY','browserstackSessionName','639926ekpvvX','isSelfHealEnabled','MsMFn','cancel','selector','bMpBZ','../../bin/utils/constants','MaNLv','replace','1841976dXsOcP','myjRD','ieOptions_','safariOptions_','pNfjC','aiHeal_sessionToken','getTestName','cBcFT','32CFjxXg','BrowserstackHealingSetTcgTokenFailed','ZyDEl','safari','getCapabilities','firefox','../../helpers/timeoutPromise','HEALING_FAILURE_TIMEOUT','OsVeN','KkZXR','BrowserstackHealing.pollResult\x20method\x20timed\x20out','5745014rewqdW','pollResult','set','setTcgToken','BrowserstackHealing','6icerNN','fZLrr','syEDh','using','\x20command','\x22,\x20\x22tcgUrls\x22:\x20{\x22','microsoftedge','logData','TCG_URL','_handleEvent','edgeOptions_','edge','aiHeal_groupId','71718KLPUdn','lcpcc','info','keys','BrowserstackHealing.setToken\x20method\x20timed\x20out','EPbkt','TCG_REGION','getSession','ckZZs','error','Ssbts','framework','parameters_','newCapabilities','winstonLogger','log','config','locatorValue','getProjectName','aiSdkWrapper'];a99_0xe9e4=function(){return _0x40a080;};return a99_0xe9e4();}const a99_0x5e8a08=a99_0x70ab;function a99_0x70ab(_0x46c79b,_0x2c3c09){const _0xe9e46b=a99_0xe9e4();return a99_0x70ab=function(_0x70abb1,_0x116b24){_0x70abb1=_0x70abb1-0xc6;let _0x577cc4=_0xe9e46b[_0x70abb1];return _0x577cc4;},a99_0x70ab(_0x46c79b,_0x2c3c09);}(function(_0x31ab3a,_0x1102ee){const _0x17d513=a99_0x70ab,_0xa1aff3=_0x31ab3a();while(!![]){try{const _0x1989ff=parseInt(_0x17d513(0xf8))/0x1*(parseInt(_0x17d513(0xd2))/0x2)+-parseInt(_0x17d513(0x135))/0x3+-parseInt(_0x17d513(0x108))/0x4+-parseInt(_0x17d513(0x101))/0x5*(-parseInt(_0x17d513(0xdf))/0x6)+-parseInt(_0x17d513(0x12c))/0x7*(parseInt(_0x17d513(0x13d))/0x8)+-parseInt(_0x17d513(0x107))/0x9*(-parseInt(_0x17d513(0x114))/0xa)+parseInt(_0x17d513(0xcd))/0xb*(parseInt(_0x17d513(0x121))/0xc);if(_0x1989ff===_0x1102ee)break;else _0xa1aff3['push'](_0xa1aff3['shift']());}catch(_0x9c8337){_0xa1aff3['push'](_0xa1aff3['shift']());}}}(a99_0xe9e4,0x7359b));const path=require(a99_0x5e8a08(0x105)),{commandRepository}=require('./autoHealHelper'),constants=require(a99_0x5e8a08(0x132)),logger=require(a99_0x5e8a08(0x106))[a99_0x5e8a08(0xed)],globals=require('../globals'),timeoutPromise=require(a99_0x5e8a08(0xc8)),isUndefinedOrNull=_0x18f373=>_0x18f373===undefined||_0x18f373===null||_0x18f373==='',isNotUndefinedOrNull=_0x312313=>!isUndefinedOrNull(_0x312313),isString=_0xb4d7c1=>isNotUndefinedOrNull(_0xb4d7c1)&&typeof _0xb4d7c1===a99_0x5e8a08(0x109);class AiSdkWrapper{constructor(){const _0x42e9d6=a99_0x5e8a08,_0xfacbf5={'cBcFT':function(_0x3aa9b4,_0x12033d){return _0x3aa9b4(_0x12033d);},'VjhYk':_0x42e9d6(0xfa)};this['BrowserstackHealing']=undefined;try{this[_0x42e9d6(0xd1)]=_0xfacbf5[_0x42e9d6(0x13c)](require,path['join'](__dirname,_0xfacbf5[_0x42e9d6(0x11d)]));}catch(_0x24eb04){logger[_0x42e9d6(0xe8)](_0x42e9d6(0xf6)+(_0x24eb04&&_0x24eb04[_0x42e9d6(0x10c)]?_0x24eb04[_0x42e9d6(0x10c)]:''));}}[a99_0x5e8a08(0x124)](_0x368c05){const _0x2b8f67=a99_0x5e8a08,_0x430497={};_0x430497[_0x2b8f67(0x128)]=_0x2b8f67(0xec),_0x430497[_0x2b8f67(0x100)]=function(_0x390d34,_0x62f975){return _0x390d34===_0x62f975;},_0x430497[_0x2b8f67(0x13f)]='chrome',_0x430497['fZLrr']=function(_0x4241f4,_0x140399){return _0x4241f4===_0x140399;},_0x430497[_0x2b8f67(0x136)]=_0x2b8f67(0xc7),_0x430497[_0x2b8f67(0x125)]=_0x2b8f67(0x140),_0x430497[_0x2b8f67(0xcb)]=_0x2b8f67(0xdd),_0x430497['VwnJH']=_0x2b8f67(0xd8);const _0x4eba02=_0x430497;try{const _0x2f1f2a=this[_0x2b8f67(0xd1)][_0x2b8f67(0x118)](Object[_0x2b8f67(0xf3)](_0x368c05[_0x2b8f67(0xc6)]()[_0x2b8f67(0x10b)]));console[_0x2b8f67(0xee)](_0x4eba02[_0x2b8f67(0x128)],_0x2f1f2a);if(_0x4eba02[_0x2b8f67(0x100)](_0x2f1f2a?.[_0x2b8f67(0xf4)]?.['toLowerCase'](),_0x4eba02['ZyDEl']))_0x368c05[_0x2b8f67(0x115)]=_0x2f1f2a;else{if(_0x4eba02['fZLrr'](_0x2f1f2a?.['browserName']?.[_0x2b8f67(0x10e)](),_0x4eba02['myjRD']))_0x368c05['firefoxOptions_']=_0x2f1f2a;else{if(_0x4eba02['fZLrr'](_0x2f1f2a?.[_0x2b8f67(0xf4)]?.[_0x2b8f67(0x10e)](),_0x4eba02[_0x2b8f67(0x125)]))_0x368c05[_0x2b8f67(0x138)]=_0x2f1f2a;else{if(_0x4eba02[_0x2b8f67(0x100)](_0x2f1f2a?.['browserName']?.['toLowerCase'](),_0x4eba02['KkZXR'])||_0x4eba02[_0x2b8f67(0xd3)](_0x2f1f2a?.['browserName']?.['toLowerCase'](),_0x4eba02[_0x2b8f67(0x104)]))_0x368c05[_0x2b8f67(0xdc)]=_0x2f1f2a;else _0x4eba02['Umgez'](_0x2f1f2a?.[_0x2b8f67(0xf4)]?.[_0x2b8f67(0x10e)](),'ie')&&(_0x368c05[_0x2b8f67(0x137)]=_0x2f1f2a);}}}Object[_0x2b8f67(0xe2)](_0x2f1f2a)[_0x2b8f67(0x120)](_0x3df3da=>{const _0x5e67cb=_0x2b8f67,_0x3b4ecf=_0x368c05[_0x5e67cb(0x129)][_0x5e67cb(0x103)](_0x3df3da);_0x368c05[_0x5e67cb(0x129)][_0x5e67cb(0xcf)](_0x3df3da,_0x2f1f2a[_0x3df3da]);});}catch(_0x1d3dba){logger[_0x2b8f67(0xe8)]('Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20'+(_0x1d3dba&&_0x1d3dba['message']?_0x1d3dba['message']:''));}}async[a99_0x5e8a08(0xd0)](_0x3c3acf){const _0x16dd6e=a99_0x5e8a08,_0x531fa0={'MsMFn':function(_0x1b0252,_0x4d1fe5,_0x329cb6,_0x4967d0,_0x132a8e,_0x2559cb,_0x5438d4){return _0x1b0252(_0x4d1fe5,_0x329cb6,_0x4967d0,_0x132a8e,_0x2559cb,_0x5438d4);},'OsVeN':_0x16dd6e(0xe3),'GNYiN':_0x16dd6e(0x13e),'syEDh':_0x16dd6e(0x13a)},_0x464fc0=new Date(),_0x550e4f=_0x531fa0[_0x16dd6e(0x12e)](timeoutPromise,constants['SET_TCG_TOKEN_TIMEOUT'],_0x531fa0[_0x16dd6e(0xca)],_0x531fa0['GNYiN'],_0x464fc0,this['config'],this['framework']);await Promise[_0x16dd6e(0xf7)]([this[_0x16dd6e(0xd1)][_0x16dd6e(0x127)](_0x3c3acf,globals[_0x16dd6e(0xf5)](_0x531fa0[_0x16dd6e(0xd4)]),constants[_0x16dd6e(0xda)])[_0x16dd6e(0x119)](()=>{const _0x5cebc9=_0x16dd6e;_0x550e4f[_0x5cebc9(0x12f)]();}),_0x550e4f]);}async[a99_0x5e8a08(0xdb)](_0x5d9ca0,_0x103b72,_0x5619d7,_0x1f67cc){const _0x1433b5=a99_0x5e8a08,_0x4f0b51={'lcpcc':function(_0x1fffd1,_0x1b9d35){return _0x1fffd1===_0x1b9d35;},'FpjMw':function(_0x2246fb,_0x41e0a2){return _0x2246fb(_0x41e0a2);},'bMpBZ':function(_0x437400,_0x4c3506){return _0x437400(_0x4c3506);},'RmGwg':function(_0x302d67,_0x4024ac){return _0x302d67(_0x4024ac);},'plNLC':function(_0x5272e8,_0x2da9b8){return _0x5272e8(_0x2da9b8);},'tlpqN':function(_0x4e55c4,_0x1b6772){return _0x4e55c4(_0x1b6772);},'LBQsL':'s://','BygRA':function(_0x504502,_0x1a114c){return _0x504502(_0x1a114c);},'Ssbts':_0x1433b5(0xfc),'yjiQG':_0x1433b5(0xde),'yowRS':_0x1433b5(0x116),'XdZcc':function(_0x3f382b,_0x3e4154,_0x8e2bd1,_0x3674bc,_0x28a13d,_0x4a4066,_0x4ba1e4){return _0x3f382b(_0x3e4154,_0x8e2bd1,_0x3674bc,_0x28a13d,_0x4a4066,_0x4ba1e4);},'EPbkt':'BrowserstackHealing.logData\x20method\x20timed\x20out','OsRRI':'BrowserstackHealingLogDataFailed','nqONr':function(_0x110207,_0x13c5ad,_0xb6854,_0x3f2e0c,_0x5c8f47,_0x75c0d7,_0x1678ab){return _0x110207(_0x13c5ad,_0xb6854,_0x3f2e0c,_0x5c8f47,_0x75c0d7,_0x1678ab);},'MaNLv':_0x1433b5(0x123),'ckZZs':'BrowserstackHealingHealFailureFailed'},_0x5d1a1c=(await _0x103b72[_0x1433b5(0xe6)]())[_0x1433b5(0x11c)]();let _0x288cd8='';if(commandRepository[_0x1433b5(0x12d)]()&&_0x4f0b51[_0x1433b5(0xe0)](_0x1f67cc,![])||_0x4f0b51[_0x1433b5(0xe0)](_0x1f67cc,!![])){const _0x3e8aa9=_0x4f0b51['FpjMw'](isNotUndefinedOrNull,_0x5619d7['parameters_'][_0x1433b5(0xd5)])&&_0x4f0b51['bMpBZ'](isString,_0x5619d7[_0x1433b5(0xeb)]['using'])?_0x5619d7[_0x1433b5(0xeb)][_0x1433b5(0xd5)][_0x1433b5(0x134)](/'/g,'\x5c\x27')[_0x1433b5(0x134)](/"/g,'\x5c\x22'):'',_0x5833a=_0x4f0b51[_0x1433b5(0x11e)](isNotUndefinedOrNull,_0x5619d7[_0x1433b5(0xeb)]['using'])&&_0x4f0b51['FpjMw'](isString,_0x5619d7[_0x1433b5(0xeb)][_0x1433b5(0x11a)])?_0x5619d7[_0x1433b5(0xeb)]['value'][_0x1433b5(0x134)](/'/g,'\x5c\x27')[_0x1433b5(0x134)](/"/g,'\x5c\x22'):'',_0x1b3838=_0x4f0b51[_0x1433b5(0x131)](isNotUndefinedOrNull,commandRepository[_0x1433b5(0xf1)]())&&_0x4f0b51['RmGwg'](isString,commandRepository[_0x1433b5(0xf1)]())?commandRepository[_0x1433b5(0xf1)]()['replace'](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';let _0x11f396=_0x4f0b51[_0x1433b5(0x11b)](isNotUndefinedOrNull,global[_0x1433b5(0x12b)])&&_0x4f0b51[_0x1433b5(0xff)](isString,global['browserstackSessionName'])?global[_0x1433b5(0x12b)][_0x1433b5(0x134)](/'/g,'\x5c\x27')[_0x1433b5(0x134)](/"/g,'\x5c\x22'):'';!_0x11f396&&(_0x11f396=_0x4f0b51[_0x1433b5(0x111)](isNotUndefinedOrNull,commandRepository[_0x1433b5(0x13b)]())&&_0x4f0b51[_0x1433b5(0x131)](isString,commandRepository[_0x1433b5(0x13b)]())?commandRepository[_0x1433b5(0x13b)]()[_0x1433b5(0x134)](/'/g,'\x5c\x27')[_0x1433b5(0x134)](/"/g,'\x5c\x22'):'');let _0x4a1978=_0x1433b5(0x126)+constants[_0x1433b5(0xe5)]+_0x1433b5(0xd7)+constants[_0x1433b5(0xe5)]+'\x22:\x20{\x22endpoint\x22:\x20\x22'+constants[_0x1433b5(0xda)]['split'](_0x4f0b51[_0x1433b5(0x10d)])[0x1]+'\x22}}}';_0x4a1978=_0x4f0b51[_0x1433b5(0x111)](isNotUndefinedOrNull,_0x4a1978)&&_0x4f0b51[_0x1433b5(0xfe)](isString,_0x4a1978)?_0x4a1978['replace'](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';const _0x54847a=commandRepository['getCommands'](_0x5d1a1c),_0x103b3d=globals[_0x1433b5(0xf5)](_0x4f0b51[_0x1433b5(0xe9)]),_0x41e13b=globals[_0x1433b5(0xf5)](_0x4f0b51['yjiQG']),_0x3c545a=globals[_0x1433b5(0xf5)](_0x4f0b51['yowRS']),_0x4e3a04=![],_0x507d86=new Date();if(_0x1f67cc){const _0x497cc5=_0x4f0b51[_0x1433b5(0x102)](timeoutPromise,constants['HEALING_LOG_DATA_TIMEOUT'],_0x4f0b51[_0x1433b5(0xe4)],_0x4f0b51[_0x1433b5(0x11f)],_0x507d86,this['config'],this[_0x1433b5(0xea)]);_0x288cd8=await Promise[_0x1433b5(0xf7)]([this[_0x1433b5(0xd1)][_0x1433b5(0xd9)](_0x3e8aa9,_0x5833a,_0x1b3838,_0x11f396,_0x41e13b,_0x5d1a1c,_0x54847a,_0x4a1978)[_0x1433b5(0x119)](_0x156cf1=>{return _0x497cc5['cancel'](),_0x156cf1;}),_0x497cc5]);}else{if(commandRepository[_0x1433b5(0x12d)]()){const _0x37ff39=_0x4f0b51[_0x1433b5(0x110)](timeoutPromise,constants[_0x1433b5(0xc9)],_0x4f0b51[_0x1433b5(0x133)],_0x4f0b51[_0x1433b5(0xe7)],_0x507d86,this[_0x1433b5(0xef)],this[_0x1433b5(0xea)]);_0x288cd8=await Promise[_0x1433b5(0xf7)]([this[_0x1433b5(0xd1)]['healFailure'](_0x3e8aa9,_0x5833a,_0x1b3838,_0x11f396,_0x103b3d,_0x41e13b,_0x5d1a1c,_0x54847a,_0x4e3a04,_0x3c545a,_0x4a1978)[_0x1433b5(0x119)](_0x500c21=>{const _0x235b6b=_0x1433b5;return _0x37ff39[_0x235b6b(0x12f)](),_0x500c21;}),_0x37ff39]);}}_0x288cd8&&await _0x103b72['executeScript'](_0x288cd8);}}async[a99_0x5e8a08(0xf9)](_0x41dcee,_0x54a33c,_0x345fbf){const _0x18e79e=a99_0x5e8a08;try{await this[_0x18e79e(0xdb)](_0x41dcee,_0x54a33c,_0x345fbf,!![]);}catch(_0x93929f){return logger[_0x18e79e(0xe8)]('Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20'+(_0x93929f&&_0x93929f[_0x18e79e(0x10c)]?_0x93929f['message']:'')),![];}return!![];}async[a99_0x5e8a08(0x10f)](_0x2f4d56,_0x18bb82,_0x12b0db){const _0xed0073=a99_0x5e8a08,_0x24d0f3={'EdhuB':function(_0x5506dd,_0x5b8156,_0x5e3f75,_0x545b19,_0x4f1afb,_0x5b7bc8,_0xf51fb4){return _0x5506dd(_0x5b8156,_0x5e3f75,_0x545b19,_0x4f1afb,_0x5b7bc8,_0xf51fb4);},'pNfjC':_0xed0073(0xcc),'TwQzY':'BrowserstackHealingPollResultFailed','xDwIB':_0xed0073(0x13a)};try{await this['_handleEvent'](_0x2f4d56,_0x18bb82,_0x12b0db,![]);const _0x1bc92d=(await _0x18bb82[_0xed0073(0xe6)]())[_0xed0073(0x11c)](),_0x58d36c=new Date(),_0x324224=_0x24d0f3[_0xed0073(0x112)](timeoutPromise,constants[_0xed0073(0xfd)],_0x24d0f3[_0xed0073(0x139)],_0x24d0f3[_0xed0073(0x12a)],_0x58d36c,this[_0xed0073(0xef)],this[_0xed0073(0xea)]),_0x3ff42c=await Promise[_0xed0073(0xf7)]([this[_0xed0073(0xd1)][_0xed0073(0xce)](constants[_0xed0073(0xda)],_0x1bc92d,globals['getGlobal'](_0x24d0f3['xDwIB']))[_0xed0073(0x119)](_0x2495a1=>{const _0x1763b9=_0xed0073;return _0x324224[_0x1763b9(0x12f)](),_0x2495a1;}),_0x324224]);if(_0x3ff42c&&_0x3ff42c[_0xed0073(0x130)]&&_0x3ff42c[_0xed0073(0x11a)]){const _0x10c351={};return _0x10c351[_0xed0073(0xfb)]=_0x3ff42c[_0xed0073(0x130)],_0x10c351[_0xed0073(0xf0)]=_0x3ff42c[_0xed0073(0x11a)],_0x10c351[_0xed0073(0x10a)]=!![],_0x10c351;}const _0x2ebb36={};return _0x2ebb36[_0xed0073(0xfb)]=_0x12b0db[_0xed0073(0xeb)][_0xed0073(0xd5)],_0x2ebb36[_0xed0073(0xf0)]=_0x3ff42c['value'],_0x2ebb36[_0xed0073(0x10a)]=!![],_0x2ebb36;}catch(_0x223820){return logger[_0xed0073(0x117)](_0xed0073(0x113)+(_0x223820&&_0x223820[_0xed0073(0x10c)]?_0x223820['message']:'')),logger[_0xed0073(0xe1)]('Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20'+_0x12b0db['name_']+_0xed0073(0xd6)),_0x12b0db;}}}exports[a99_0x5e8a08(0xf2)]=Object[a99_0x5e8a08(0x122)](new AiSdkWrapper());