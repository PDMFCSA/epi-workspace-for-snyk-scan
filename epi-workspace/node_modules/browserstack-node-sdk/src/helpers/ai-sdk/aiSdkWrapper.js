const a59_0x224f98=a59_0x4482;(function(_0x212154,_0x420a){const _0x26e02e=a59_0x4482,_0xbfcb4=_0x212154();while(!![]){try{const _0x98556=parseInt(_0x26e02e(0x15a))/0x1+-parseInt(_0x26e02e(0x123))/0x2*(parseInt(_0x26e02e(0xea))/0x3)+-parseInt(_0x26e02e(0x105))/0x4*(-parseInt(_0x26e02e(0x13f))/0x5)+parseInt(_0x26e02e(0x12f))/0x6+-parseInt(_0x26e02e(0xed))/0x7*(-parseInt(_0x26e02e(0xf7))/0x8)+parseInt(_0x26e02e(0x143))/0x9*(parseInt(_0x26e02e(0x127))/0xa)+parseInt(_0x26e02e(0xf0))/0xb*(-parseInt(_0x26e02e(0x156))/0xc);if(_0x98556===_0x420a)break;else _0xbfcb4['push'](_0xbfcb4['shift']());}catch(_0x17fa4c){_0xbfcb4['push'](_0xbfcb4['shift']());}}}(a59_0x2695,0x214f2));function a59_0x4482(_0xdfea58,_0x91bc1f){const _0x2695e8=a59_0x2695();return a59_0x4482=function(_0x4482b5,_0x58603b){_0x4482b5=_0x4482b5-0xe5;let _0x142a22=_0x2695e8[_0x4482b5];return _0x142a22;},a59_0x4482(_0xdfea58,_0x91bc1f);}const path=require('path'),{commandRepository}=require(a59_0x224f98(0x11f)),constants=require(a59_0x224f98(0x115)),logger=require(a59_0x224f98(0x132))[a59_0x224f98(0x13e)],globals=require(a59_0x224f98(0xeb)),timeoutPromise=require('../../helpers/timeoutPromise'),isUndefinedOrNull=_0x322fa2=>_0x322fa2===undefined||_0x322fa2===null||_0x322fa2==='',isNotUndefinedOrNull=_0x3acbdf=>!isUndefinedOrNull(_0x3acbdf),isString=_0x552e93=>isNotUndefinedOrNull(_0x552e93)&&typeof _0x552e93===a59_0x224f98(0xf8);class AiSdkWrapper{constructor(){const _0x1d07f0=a59_0x224f98,_0x10f644={'lgsdv':function(_0x1f1d5c,_0x337931){return _0x1f1d5c(_0x337931);},'tSagd':'../../ai-sdk-node/bundle'};this['BrowserstackHealing']=undefined;try{this[_0x1d07f0(0x131)]=_0x10f644[_0x1d07f0(0x11c)](require,path[_0x1d07f0(0xfd)](__dirname,_0x10f644['tSagd']));}catch(_0x29e6e7){logger[_0x1d07f0(0xf3)]('Unable\x20to\x20load\x20healing\x20module,\x20error:\x20'+(_0x29e6e7&&_0x29e6e7[_0x1d07f0(0x119)]?_0x29e6e7[_0x1d07f0(0x119)]:''));}}[a59_0x224f98(0xf2)](_0x1e21fc){const _0x48e309=a59_0x224f98,_0x42d7fb={};_0x42d7fb[_0x48e309(0x12e)]='newCapabilities',_0x42d7fb[_0x48e309(0x130)]=function(_0x56d731,_0x4c0966){return _0x56d731===_0x4c0966;},_0x42d7fb['lwMQK']=_0x48e309(0x15c),_0x42d7fb[_0x48e309(0x10b)]=function(_0x53ae6d,_0x1ade27){return _0x53ae6d===_0x1ade27;},_0x42d7fb['bLBQx']=_0x48e309(0x110),_0x42d7fb['lFPyr']=function(_0x29bc0b,_0x2de19d){return _0x29bc0b===_0x2de19d;},_0x42d7fb[_0x48e309(0x11d)]=_0x48e309(0x121),_0x42d7fb['shhbR']=function(_0x3d729d,_0x482f8f){return _0x3d729d===_0x482f8f;},_0x42d7fb[_0x48e309(0x111)]=_0x48e309(0x135),_0x42d7fb['JFtUh']=function(_0xbd7d0b,_0x38a82a){return _0xbd7d0b===_0x38a82a;},_0x42d7fb[_0x48e309(0xfa)]='microsoftedge';const _0x3967d1=_0x42d7fb;try{const _0x5ac489=this['BrowserstackHealing'][_0x48e309(0x146)](Object['fromEntries'](_0x1e21fc[_0x48e309(0x149)]()[_0x48e309(0x14d)]));console[_0x48e309(0x120)](_0x3967d1[_0x48e309(0x12e)],_0x5ac489);if(_0x3967d1['RBMwG'](_0x5ac489?.[_0x48e309(0x11a)]?.[_0x48e309(0x12c)](),_0x3967d1['lwMQK']))_0x1e21fc[_0x48e309(0x14c)]=_0x5ac489;else{if(_0x3967d1[_0x48e309(0x10b)](_0x5ac489?.['browserName']?.['toLowerCase'](),_0x3967d1[_0x48e309(0xee)]))_0x1e21fc[_0x48e309(0x152)]=_0x5ac489;else{if(_0x3967d1[_0x48e309(0xfb)](_0x5ac489?.['browserName']?.[_0x48e309(0x12c)](),_0x3967d1[_0x48e309(0x11d)]))_0x1e21fc['safariOptions_']=_0x5ac489;else{if(_0x3967d1[_0x48e309(0x103)](_0x5ac489?.['browserName']?.[_0x48e309(0x12c)](),_0x3967d1[_0x48e309(0x111)])||_0x3967d1[_0x48e309(0xe6)](_0x5ac489?.[_0x48e309(0x11a)]?.[_0x48e309(0x12c)](),_0x3967d1['KMxoR']))_0x1e21fc[_0x48e309(0xf6)]=_0x5ac489;else _0x3967d1['RBMwG'](_0x5ac489?.['browserName']?.[_0x48e309(0x12c)](),'ie')&&(_0x1e21fc[_0x48e309(0x13d)]=_0x5ac489);}}}Object[_0x48e309(0x157)](_0x5ac489)[_0x48e309(0x137)](_0x362be2=>{const _0x25d69d=_0x48e309,_0x577bbb=_0x1e21fc[_0x25d69d(0x14a)][_0x25d69d(0x106)](_0x362be2);_0x1e21fc[_0x25d69d(0x14a)][_0x25d69d(0x134)](_0x362be2,_0x5ac489[_0x362be2]);});}catch(_0x313cda){logger[_0x48e309(0xf3)](_0x48e309(0x140)+(_0x313cda&&_0x313cda[_0x48e309(0x119)]?_0x313cda['message']:''));}}async[a59_0x224f98(0x138)](_0xbf0412){const _0x4889f1=a59_0x224f98,_0x50e570={'iyrlH':function(_0x3ecbdf,_0x33b8d6,_0x288c3d,_0x14d8d8,_0x13afeb,_0x4d4712,_0x597622){return _0x3ecbdf(_0x33b8d6,_0x288c3d,_0x14d8d8,_0x13afeb,_0x4d4712,_0x597622);},'KYLsz':_0x4889f1(0xff),'yPrxJ':'BrowserstackHealingSetTcgTokenFailed','xxMmX':'aiHeal_sessionToken'},_0x27e9d0=new Date(),_0x29e37a=_0x50e570[_0x4889f1(0x160)](timeoutPromise,constants[_0x4889f1(0x159)],_0x50e570[_0x4889f1(0x155)],_0x50e570['yPrxJ'],_0x27e9d0,this[_0x4889f1(0x15f)],this[_0x4889f1(0x102)]);await Promise[_0x4889f1(0x162)]([this['BrowserstackHealing'][_0x4889f1(0x100)](_0xbf0412,globals[_0x4889f1(0x11e)](_0x50e570[_0x4889f1(0x12a)]),constants['TCG_URL'])[_0x4889f1(0x126)](()=>{_0x29e37a['cancel']();}),_0x29e37a]);}async[a59_0x224f98(0xe8)](_0x1f83ea,_0x57d217,_0x4c7f11,_0x555b3a){const _0x3c524d=a59_0x224f98,_0x545b28={'NihXZ':function(_0x51da2f,_0x328618){return _0x51da2f===_0x328618;},'nLGWX':function(_0x2c242e,_0x2fa936){return _0x2c242e(_0x2fa936);},'zyLHz':function(_0x4e6c3b,_0xd7c818){return _0x4e6c3b(_0xd7c818);},'skzvN':function(_0x194213,_0x5e489d){return _0x194213(_0x5e489d);},'yvKij':function(_0x1a4cf5,_0x5be12a){return _0x1a4cf5(_0x5be12a);},'lneek':function(_0x38e92e,_0x43303b){return _0x38e92e(_0x43303b);},'PGWTR':function(_0xaac2d1,_0x2b64a4){return _0xaac2d1(_0x2b64a4);},'dyzpV':_0x3c524d(0x158),'QAmIc':function(_0x563091,_0x5aeb9b){return _0x563091(_0x5aeb9b);},'NmKwX':function(_0x27b0d5,_0x492423){return _0x27b0d5(_0x492423);},'XbZVU':_0x3c524d(0xef),'tCLnc':'aiHeal_groupId','GpkZB':_0x3c524d(0x117),'fviPm':function(_0x5a455f,_0x4f88b0,_0xfa166d,_0x2196f4,_0x29d2e8,_0x2764bf,_0x5cf461){return _0x5a455f(_0x4f88b0,_0xfa166d,_0x2196f4,_0x29d2e8,_0x2764bf,_0x5cf461);},'MDYZs':'BrowserstackHealing.logData\x20method\x20timed\x20out','Jjpsl':_0x3c524d(0x161),'vyHfo':function(_0x2535c0,_0x5cc4db,_0x56fafc,_0x36e280,_0x39bd6d,_0x3c7998,_0x381e43){return _0x2535c0(_0x5cc4db,_0x56fafc,_0x36e280,_0x39bd6d,_0x3c7998,_0x381e43);},'ytwqJ':_0x3c524d(0x15e),'wnnfD':'BrowserstackHealingHealFailureFailed'},_0x30e92e=(await _0x57d217[_0x3c524d(0x128)]())['getId']();let _0x42e8ab='';if(commandRepository[_0x3c524d(0x12d)]()&&_0x545b28[_0x3c524d(0x114)](_0x555b3a,![])||_0x545b28[_0x3c524d(0x114)](_0x555b3a,!![])){const _0x592f0f=_0x545b28[_0x3c524d(0x10f)](isNotUndefinedOrNull,_0x4c7f11['parameters_']['using'])&&_0x545b28[_0x3c524d(0xf5)](isString,_0x4c7f11['parameters_']['using'])?_0x4c7f11[_0x3c524d(0x129)][_0x3c524d(0xf1)][_0x3c524d(0x139)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x256fbd=_0x545b28[_0x3c524d(0x10f)](isNotUndefinedOrNull,_0x4c7f11[_0x3c524d(0x129)][_0x3c524d(0xf1)])&&_0x545b28['skzvN'](isString,_0x4c7f11[_0x3c524d(0x129)][_0x3c524d(0x141)])?_0x4c7f11[_0x3c524d(0x129)][_0x3c524d(0x141)][_0x3c524d(0x139)](/'/g,'\x5c\x27')[_0x3c524d(0x139)](/"/g,'\x5c\x22'):'',_0x5e7db1=_0x545b28[_0x3c524d(0x145)](isNotUndefinedOrNull,commandRepository[_0x3c524d(0x122)]())&&_0x545b28[_0x3c524d(0x101)](isString,commandRepository[_0x3c524d(0x122)]())?commandRepository['getProjectName']()[_0x3c524d(0x139)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';let _0x4f2aa6=_0x545b28[_0x3c524d(0x10f)](isNotUndefinedOrNull,global['browserstackSessionName'])&&_0x545b28[_0x3c524d(0xfe)](isString,global[_0x3c524d(0x125)])?global[_0x3c524d(0x125)]['replace'](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';!_0x4f2aa6&&(_0x4f2aa6=_0x545b28[_0x3c524d(0xf5)](isNotUndefinedOrNull,commandRepository[_0x3c524d(0x108)]())&&_0x545b28[_0x3c524d(0xfe)](isString,commandRepository[_0x3c524d(0x108)]())?commandRepository['getTestName']()['replace'](/'/g,'\x5c\x27')[_0x3c524d(0x139)](/"/g,'\x5c\x22'):'');let _0x516c20=_0x3c524d(0x144)+constants[_0x3c524d(0x136)]+_0x3c524d(0x104)+constants[_0x3c524d(0x136)]+_0x3c524d(0x116)+constants['TCG_URL'][_0x3c524d(0x12b)](_0x545b28[_0x3c524d(0x14b)])[0x1]+'\x22}}}';_0x516c20=_0x545b28['QAmIc'](isNotUndefinedOrNull,_0x516c20)&&_0x545b28[_0x3c524d(0x148)](isString,_0x516c20)?_0x516c20['replace'](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';const _0x52f72e=commandRepository[_0x3c524d(0x15d)](_0x30e92e),_0x3bfc09=globals[_0x3c524d(0x11e)](_0x545b28[_0x3c524d(0xe5)]),_0x3de08f=globals[_0x3c524d(0x11e)](_0x545b28[_0x3c524d(0x10c)]),_0x478078=globals[_0x3c524d(0x11e)](_0x545b28[_0x3c524d(0x147)]),_0x338606=![],_0x55355d=new Date();if(_0x555b3a){const _0x136abf=_0x545b28[_0x3c524d(0x124)](timeoutPromise,constants[_0x3c524d(0x154)],_0x545b28[_0x3c524d(0x133)],_0x545b28[_0x3c524d(0x10d)],_0x55355d,this[_0x3c524d(0x15f)],this[_0x3c524d(0x102)]);_0x42e8ab=await Promise['race']([this[_0x3c524d(0x131)][_0x3c524d(0x107)](_0x592f0f,_0x256fbd,_0x5e7db1,_0x4f2aa6,_0x3de08f,_0x30e92e,_0x52f72e,_0x516c20)[_0x3c524d(0x126)](_0xdab360=>{const _0x58d9b8=_0x3c524d;return _0x136abf[_0x58d9b8(0xf9)](),_0xdab360;}),_0x136abf]);}else{if(commandRepository[_0x3c524d(0x12d)]()){const _0x2a981f=_0x545b28[_0x3c524d(0x10a)](timeoutPromise,constants[_0x3c524d(0xfc)],_0x545b28['ytwqJ'],_0x545b28['wnnfD'],_0x55355d,this[_0x3c524d(0x15f)],this['framework']);_0x42e8ab=await Promise[_0x3c524d(0x162)]([this[_0x3c524d(0x131)]['healFailure'](_0x592f0f,_0x256fbd,_0x5e7db1,_0x4f2aa6,_0x3bfc09,_0x3de08f,_0x30e92e,_0x52f72e,_0x338606,_0x478078,_0x516c20)['then'](_0x506d30=>{const _0xdfb904=_0x3c524d;return _0x2a981f[_0xdfb904(0xf9)](),_0x506d30;}),_0x2a981f]);}}_0x42e8ab&&await _0x57d217[_0x3c524d(0xe7)](_0x42e8ab);}}async[a59_0x224f98(0x112)](_0x57d194,_0x4c4deb,_0x5208b2){const _0x4622c8=a59_0x224f98;try{await this[_0x4622c8(0xe8)](_0x57d194,_0x4c4deb,_0x5208b2,!![]);}catch(_0xe7f2f8){return logger[_0x4622c8(0xf3)](_0x4622c8(0x10e)+(_0xe7f2f8&&_0xe7f2f8[_0x4622c8(0x119)]?_0xe7f2f8[_0x4622c8(0x119)]:'')),![];}return!![];}async[a59_0x224f98(0x11b)](_0x48ba12,_0x58f938,_0x102c71){const _0x142a7c=a59_0x224f98,_0x47a6c4={'eMzzl':function(_0x2e1557,_0x3d34eb,_0x488276,_0x1b5c0e,_0x171c37,_0x3314ee,_0x579248){return _0x2e1557(_0x3d34eb,_0x488276,_0x1b5c0e,_0x171c37,_0x3314ee,_0x579248);},'JhSbL':_0x142a7c(0xf4),'DYFWE':'BrowserstackHealingPollResultFailed','jtXXe':_0x142a7c(0x13b)};try{await this['_handleEvent'](_0x48ba12,_0x58f938,_0x102c71,![]);const _0x11e2ae=(await _0x58f938[_0x142a7c(0x128)]())[_0x142a7c(0x151)](),_0x3bfd13=new Date(),_0x53318b=_0x47a6c4['eMzzl'](timeoutPromise,constants['POLL_HEALING_RESULT_TIMEOUT'],_0x47a6c4[_0x142a7c(0x14e)],_0x47a6c4['DYFWE'],_0x3bfd13,this[_0x142a7c(0x15f)],this['framework']),_0x4258ce=await Promise[_0x142a7c(0x162)]([this[_0x142a7c(0x131)][_0x142a7c(0x109)](constants[_0x142a7c(0xec)],_0x11e2ae,globals[_0x142a7c(0x11e)](_0x47a6c4[_0x142a7c(0x13c)]))[_0x142a7c(0x126)](_0x45a3ac=>{const _0x2b841d=_0x142a7c;return _0x53318b[_0x2b841d(0xf9)](),_0x45a3ac;}),_0x53318b]);if(_0x4258ce&&_0x4258ce[_0x142a7c(0x113)]&&_0x4258ce[_0x142a7c(0x141)]){const _0x14b4bc={};return _0x14b4bc['locatorType']=_0x4258ce[_0x142a7c(0x113)],_0x14b4bc[_0x142a7c(0x118)]=_0x4258ce['value'],_0x14b4bc[_0x142a7c(0xe9)]=!![],_0x14b4bc;}const _0x3a7fe1={};return _0x3a7fe1[_0x142a7c(0x13a)]=_0x102c71[_0x142a7c(0x129)][_0x142a7c(0xf1)],_0x3a7fe1[_0x142a7c(0x118)]=_0x4258ce['value'],_0x3a7fe1[_0x142a7c(0xe9)]=!![],_0x3a7fe1;}catch(_0x227125){return logger['debug']('Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20'+(_0x227125&&_0x227125['message']?_0x227125[_0x142a7c(0x119)]:'')),logger[_0x142a7c(0x15b)](_0x142a7c(0x153)+_0x102c71[_0x142a7c(0x150)]+'\x20command'),_0x102c71;}}}function a59_0x2695(){const _0x402ff3=['edge','TCG_REGION','forEach','setTcgToken','replace','locatorType','aiHeal_sessionToken','jtXXe','ieOptions_','winstonLogger','420575XnGhFn','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','value','freeze','5220TBvZmf','{\x22region\x22:\x20\x22','yvKij','initializeCapabilities','GpkZB','NmKwX','getCapabilities','capabilities_','dyzpV','chromeOptions_','map_','JhSbL','aiSdkWrapper','name_','getId','firefoxOptions_','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','HEALING_LOG_DATA_TIMEOUT','KYLsz','274536esOQXO','keys','s://','SET_TCG_TOKEN_TIMEOUT','95598EHDRlu','info','chrome','getCommands','BrowserstackHealing.healFailure\x20method\x20timed\x20out','config','iyrlH','BrowserstackHealingLogDataFailed','race','XbZVU','JFtUh','executeScript','_handleEvent','aiHealing','30903qyYIfz','../globals','TCG_URL','63tNxwOf','bLBQx','aiHeal_userId','231gydMpq','using','initializeHealingCapabilities','error','BrowserstackHealing.pollResult\x20method\x20timed\x20out','zyLHz','edgeOptions_','222424ofMstc','string','cancel','KMxoR','lFPyr','HEALING_FAILURE_TIMEOUT','join','PGWTR','BrowserstackHealing.setToken\x20method\x20timed\x20out','setToken','lneek','framework','shhbR','\x22,\x20\x22tcgUrls\x22:\x20{\x22','4VrLovg','get','logData','getTestName','pollResult','vyHfo','oRXTI','tCLnc','Jjpsl','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','nLGWX','firefox','RsGfx','handleSuccess','selector','NihXZ','../../bin/utils/constants','\x22:\x20{\x22endpoint\x22:\x20\x22','aiHeal_isGroupAIEnabled','locatorValue','message','browserName','handleFailure','lgsdv','iFBXs','getGlobal','./autoHealHelper','log','safari','getProjectName','22TGqZqg','fviPm','browserstackSessionName','then','970hUfdmk','getSession','parameters_','xxMmX','split','toLowerCase','isSelfHealEnabled','ICOKF','1463898LCnLeo','RBMwG','BrowserstackHealing','../logger','MDYZs','set'];a59_0x2695=function(){return _0x402ff3;};return a59_0x2695();}exports[a59_0x224f98(0x14f)]=Object[a59_0x224f98(0x142)](new AiSdkWrapper());