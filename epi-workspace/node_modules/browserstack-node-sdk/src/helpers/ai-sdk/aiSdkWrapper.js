const a59_0x73bae9=a59_0x2540;(function(_0x17c320,_0x45b915){const _0x45d267=a59_0x2540,_0x1f1fbc=_0x17c320();while(!![]){try{const _0x4c783a=-parseInt(_0x45d267(0x19b))/0x1+parseInt(_0x45d267(0x14d))/0x2+parseInt(_0x45d267(0x175))/0x3*(-parseInt(_0x45d267(0x149))/0x4)+parseInt(_0x45d267(0x13f))/0x5+-parseInt(_0x45d267(0x172))/0x6+parseInt(_0x45d267(0x160))/0x7*(-parseInt(_0x45d267(0x131))/0x8)+parseInt(_0x45d267(0x14e))/0x9*(parseInt(_0x45d267(0x135))/0xa);if(_0x4c783a===_0x45b915)break;else _0x1f1fbc['push'](_0x1f1fbc['shift']());}catch(_0x45ca22){_0x1f1fbc['push'](_0x1f1fbc['shift']());}}}(a59_0x39e9,0x577f6));function a59_0x39e9(){const _0x1d0e04=['selector','DppoI','BrowserstackHealing.setToken\x20method\x20timed\x20out','4169950VvaijE','hkrbu','capabilities_','getCapabilities','getProjectName','replace','BrowserstackHealingHealFailureFailed','error','s://','aiHeal_userId','2701430mlVltW','LgOOZ','Imose','config','WGLfx','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','\x22:\x20{\x22endpoint\x22:\x20\x22','../../helpers/timeoutPromise','../../bin/utils/constants','healFailure','840308fEQKOU','YhpVV','HEALING_FAILURE_TIMEOUT','toLowerCase','567908UbllMq','27JdFbMv','_handleEvent','debug','{\x22region\x22:\x20\x22','getTestName','dbjew','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','value','tPLiz','getSession','LnPFN','pollResult','Eavok','\x20command','pvrVD','handleSuccess','\x22,\x20\x22tcgUrls\x22:\x20{\x22','parameters_','14TBSSzF','getId','ywGjo','HEALING_LOG_DATA_TIMEOUT','../../ai-sdk-node/bundle','edgeOptions_','XGohs','FVIlG','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','winstonLogger','RFlkQ','locatorValue','then','mrkYq','getCommands','using','\x22}}}','qhQGo','3419586GNPXTF','split','PFzRM','3AhVGhR','BrowserstackHealing.pollResult\x20method\x20timed\x20out','safariOptions_','chrome','logData','cancel','safari','info','map_','chromeOptions_','BrowserstackHealing','HTUBa','aiHeal_groupId','ckOxj','initializeCapabilities','AlNUB','vNoKP','browserName','UZAtv','message','setTcgToken','handleFailure','POLL_HEALING_RESULT_TIMEOUT','string','GrGyA','cBwxZ','ixybl','KviQt','../globals','aiHeal_sessionToken','framework','aiHealing','set','race','AwKGB','uobtQ','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','WTalm','674197OdAajH','locatorType','aiHeal_isGroupAIEnabled','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','getGlobal','TCG_URL','../logger','nOLDK','BrowserstackHealing.healFailure\x20method\x20timed\x20out','aqhnp','log','browserstackSessionName','QYZIX','1050520dmlvuP'];a59_0x39e9=function(){return _0x1d0e04;};return a59_0x39e9();}function a59_0x2540(_0x1ce364,_0x10fb57){const _0x39e9a8=a59_0x39e9();return a59_0x2540=function(_0x2540d7,_0x3c8cb1){_0x2540d7=_0x2540d7-0x128;let _0x1c9d90=_0x39e9a8[_0x2540d7];return _0x1c9d90;},a59_0x2540(_0x1ce364,_0x10fb57);}const path=require('path'),{commandRepository}=require('./autoHealHelper'),constants=require(a59_0x73bae9(0x147)),logger=require(a59_0x73bae9(0x12a))[a59_0x73bae9(0x169)],globals=require(a59_0x73bae9(0x191)),timeoutPromise=require(a59_0x73bae9(0x146)),isUndefinedOrNull=_0x476d26=>_0x476d26===undefined||_0x476d26===null||_0x476d26==='',isNotUndefinedOrNull=_0x559ae=>!isUndefinedOrNull(_0x559ae),isString=_0x17c3a3=>isNotUndefinedOrNull(_0x17c3a3)&&typeof _0x17c3a3===a59_0x73bae9(0x18c);class AiSdkWrapper{constructor(){const _0x3b8eda=a59_0x73bae9,_0x4045bb={'LnPFN':function(_0x328872,_0x2a17c2){return _0x328872(_0x2a17c2);},'qhQGo':_0x3b8eda(0x164)};this['BrowserstackHealing']=undefined;try{this[_0x3b8eda(0x17f)]=_0x4045bb[_0x3b8eda(0x158)](require,path['join'](__dirname,_0x4045bb[_0x3b8eda(0x171)]));}catch(_0x4e0c73){logger[_0x3b8eda(0x13c)](_0x3b8eda(0x199)+(_0x4e0c73&&_0x4e0c73[_0x3b8eda(0x188)]?_0x4e0c73[_0x3b8eda(0x188)]:''));}}['initializeHealingCapabilities'](_0x278ef7){const _0x4f3353=a59_0x73bae9,_0x33463e={};_0x33463e[_0x4f3353(0x133)]='newCapabilities',_0x33463e[_0x4f3353(0x174)]=function(_0x1d76f7,_0x10bafd){return _0x1d76f7===_0x10bafd;},_0x33463e['FVIlG']=_0x4f3353(0x178),_0x33463e[_0x4f3353(0x143)]=function(_0x2d756b,_0x214d98){return _0x2d756b===_0x214d98;},_0x33463e[_0x4f3353(0x182)]='firefox',_0x33463e[_0x4f3353(0x185)]=_0x4f3353(0x17b),_0x33463e[_0x4f3353(0x198)]=function(_0x296b26,_0x5b53c9){return _0x296b26===_0x5b53c9;},_0x33463e['nOLDK']='edge',_0x33463e[_0x4f3353(0x15c)]='microsoftedge';const _0x472f53=_0x33463e;try{const _0x3c80e2=this[_0x4f3353(0x17f)][_0x4f3353(0x183)](Object['fromEntries'](_0x278ef7[_0x4f3353(0x138)]()[_0x4f3353(0x17d)]));console[_0x4f3353(0x12e)](_0x472f53['DppoI'],_0x3c80e2);if(_0x472f53[_0x4f3353(0x174)](_0x3c80e2?.[_0x4f3353(0x186)]?.[_0x4f3353(0x14c)](),_0x472f53[_0x4f3353(0x167)]))_0x278ef7[_0x4f3353(0x17e)]=_0x3c80e2;else{if(_0x472f53['WGLfx'](_0x3c80e2?.['browserName']?.[_0x4f3353(0x14c)](),_0x472f53['ckOxj']))_0x278ef7['firefoxOptions_']=_0x3c80e2;else{if(_0x472f53['PFzRM'](_0x3c80e2?.[_0x4f3353(0x186)]?.[_0x4f3353(0x14c)](),_0x472f53[_0x4f3353(0x185)]))_0x278ef7[_0x4f3353(0x177)]=_0x3c80e2;else{if(_0x472f53[_0x4f3353(0x198)](_0x3c80e2?.[_0x4f3353(0x186)]?.[_0x4f3353(0x14c)](),_0x472f53[_0x4f3353(0x12b)])||_0x472f53[_0x4f3353(0x198)](_0x3c80e2?.[_0x4f3353(0x186)]?.[_0x4f3353(0x14c)](),_0x472f53['pvrVD']))_0x278ef7[_0x4f3353(0x165)]=_0x3c80e2;else _0x472f53[_0x4f3353(0x174)](_0x3c80e2?.[_0x4f3353(0x186)]?.[_0x4f3353(0x14c)](),'ie')&&(_0x278ef7['ieOptions_']=_0x3c80e2);}}}Object['keys'](_0x3c80e2)['forEach'](_0x37e739=>{const _0x42f6cd=_0x4f3353,_0x48066a=_0x278ef7[_0x42f6cd(0x137)]['get'](_0x37e739);_0x278ef7[_0x42f6cd(0x137)][_0x42f6cd(0x195)](_0x37e739,_0x3c80e2[_0x37e739]);});}catch(_0x2aabb7){logger[_0x4f3353(0x13c)](_0x4f3353(0x168)+(_0x2aabb7&&_0x2aabb7[_0x4f3353(0x188)]?_0x2aabb7['message']:''));}}async[a59_0x73bae9(0x189)](_0x5d5a1d){const _0x40d904=a59_0x73bae9,_0x181b43={'Imose':function(_0x30abaa,_0x15f0a4,_0x4adda4,_0x226068,_0xf80f79,_0x4789da,_0x60a453){return _0x30abaa(_0x15f0a4,_0x4adda4,_0x226068,_0xf80f79,_0x4789da,_0x60a453);},'WxKge':_0x40d904(0x134),'WTalm':'BrowserstackHealingSetTcgTokenFailed','gUWsN':_0x40d904(0x192)},_0x35291b=new Date(),_0x171848=_0x181b43[_0x40d904(0x141)](timeoutPromise,constants['SET_TCG_TOKEN_TIMEOUT'],_0x181b43['WxKge'],_0x181b43[_0x40d904(0x19a)],_0x35291b,this['config'],this[_0x40d904(0x193)]);await Promise[_0x40d904(0x196)]([this[_0x40d904(0x17f)]['setToken'](_0x5d5a1d,globals[_0x40d904(0x128)](_0x181b43['gUWsN']),constants[_0x40d904(0x129)])['then'](()=>{const _0x54664a=_0x40d904;_0x171848[_0x54664a(0x17a)]();}),_0x171848]);}async[a59_0x73bae9(0x14f)](_0xf59f85,_0x2c8b80,_0x2d8a45,_0x10b632){const _0x1193dc=a59_0x73bae9,_0xb82bf9={'cBwxZ':function(_0x1f2158,_0x2a71e7){return _0x1f2158===_0x2a71e7;},'AlNUB':function(_0x1fb45f,_0x56d2a7){return _0x1fb45f(_0x56d2a7);},'aqhnp':function(_0x407f1f,_0x34131f){return _0x407f1f(_0x34131f);},'QYZIX':function(_0x36e29d,_0x431709){return _0x36e29d(_0x431709);},'zEnfB':function(_0x3010d9,_0x2e8cc6){return _0x3010d9(_0x2e8cc6);},'GrGyA':function(_0x59c4fb,_0x5d4788){return _0x59c4fb(_0x5d4788);},'HTUBa':function(_0x3284fb,_0x4f8d84){return _0x3284fb(_0x4f8d84);},'LuUcd':function(_0x631667,_0x37f021){return _0x631667(_0x37f021);},'XGohs':function(_0x431283,_0x122c16){return _0x431283(_0x122c16);},'dbjew':_0x1193dc(0x13d),'ywGjo':function(_0x444cc7,_0x3ec54d){return _0x444cc7(_0x3ec54d);},'Eavok':_0x1193dc(0x13e),'hkrbu':_0x1193dc(0x181),'KviQt':_0x1193dc(0x19d),'LgOOZ':function(_0x4eb6fe,_0xa0d39d,_0x1e74c9,_0x1161f1,_0x31b837,_0x564dc8,_0x28787e){return _0x4eb6fe(_0xa0d39d,_0x1e74c9,_0x1161f1,_0x31b837,_0x564dc8,_0x28787e);},'YhpVV':'BrowserstackHealing.logData\x20method\x20timed\x20out','mrkYq':'BrowserstackHealingLogDataFailed','kSJJS':function(_0x3f55c5,_0x53f313,_0x260d18,_0x2e165e,_0xb46ae2,_0x46c086,_0x1c08fc){return _0x3f55c5(_0x53f313,_0x260d18,_0x2e165e,_0xb46ae2,_0x46c086,_0x1c08fc);},'Wqang':_0x1193dc(0x12c),'RFlkQ':_0x1193dc(0x13b)},_0xb6ff13=(await _0x2c8b80[_0x1193dc(0x157)]())[_0x1193dc(0x161)]();let _0x4dfc10='';if(commandRepository['isSelfHealEnabled']()&&_0xb82bf9[_0x1193dc(0x18e)](_0x10b632,![])||_0xb82bf9['cBwxZ'](_0x10b632,!![])){const _0x4df2d9=_0xb82bf9[_0x1193dc(0x184)](isNotUndefinedOrNull,_0x2d8a45[_0x1193dc(0x15f)][_0x1193dc(0x16f)])&&_0xb82bf9[_0x1193dc(0x184)](isString,_0x2d8a45[_0x1193dc(0x15f)][_0x1193dc(0x16f)])?_0x2d8a45[_0x1193dc(0x15f)][_0x1193dc(0x16f)][_0x1193dc(0x13a)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x2137cc=_0xb82bf9[_0x1193dc(0x12d)](isNotUndefinedOrNull,_0x2d8a45[_0x1193dc(0x15f)][_0x1193dc(0x16f)])&&_0xb82bf9[_0x1193dc(0x130)](isString,_0x2d8a45['parameters_'][_0x1193dc(0x155)])?_0x2d8a45['parameters_'][_0x1193dc(0x155)]['replace'](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x59dfbe=_0xb82bf9['zEnfB'](isNotUndefinedOrNull,commandRepository[_0x1193dc(0x139)]())&&_0xb82bf9[_0x1193dc(0x18d)](isString,commandRepository['getProjectName']())?commandRepository[_0x1193dc(0x139)]()[_0x1193dc(0x13a)](/'/g,'\x5c\x27')[_0x1193dc(0x13a)](/"/g,'\x5c\x22'):'';let _0x5a19ff=_0xb82bf9[_0x1193dc(0x180)](isNotUndefinedOrNull,global[_0x1193dc(0x12f)])&&_0xb82bf9['LuUcd'](isString,global[_0x1193dc(0x12f)])?global[_0x1193dc(0x12f)][_0x1193dc(0x13a)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';!_0x5a19ff&&(_0x5a19ff=_0xb82bf9[_0x1193dc(0x18d)](isNotUndefinedOrNull,commandRepository[_0x1193dc(0x152)]())&&_0xb82bf9[_0x1193dc(0x166)](isString,commandRepository['getTestName']())?commandRepository[_0x1193dc(0x152)]()['replace'](/'/g,'\x5c\x27')[_0x1193dc(0x13a)](/"/g,'\x5c\x22'):'');let _0x42b6b1=_0x1193dc(0x151)+constants['TCG_REGION']+_0x1193dc(0x15e)+constants['TCG_REGION']+_0x1193dc(0x145)+constants[_0x1193dc(0x129)][_0x1193dc(0x173)](_0xb82bf9[_0x1193dc(0x153)])[0x1]+_0x1193dc(0x170);_0x42b6b1=_0xb82bf9[_0x1193dc(0x162)](isNotUndefinedOrNull,_0x42b6b1)&&_0xb82bf9['XGohs'](isString,_0x42b6b1)?_0x42b6b1[_0x1193dc(0x13a)](/'/g,'\x5c\x27')[_0x1193dc(0x13a)](/"/g,'\x5c\x22'):'';const _0x3329f8=commandRepository[_0x1193dc(0x16e)](_0xb6ff13),_0x4ec197=globals['getGlobal'](_0xb82bf9[_0x1193dc(0x15a)]),_0x42bf16=globals[_0x1193dc(0x128)](_0xb82bf9[_0x1193dc(0x136)]),_0x1262be=globals[_0x1193dc(0x128)](_0xb82bf9[_0x1193dc(0x190)]),_0x24ba13=![],_0x42736b=new Date();if(_0x10b632){const _0x1c0614=_0xb82bf9[_0x1193dc(0x140)](timeoutPromise,constants[_0x1193dc(0x163)],_0xb82bf9[_0x1193dc(0x14a)],_0xb82bf9[_0x1193dc(0x16d)],_0x42736b,this[_0x1193dc(0x142)],this[_0x1193dc(0x193)]);_0x4dfc10=await Promise[_0x1193dc(0x196)]([this[_0x1193dc(0x17f)][_0x1193dc(0x179)](_0x4df2d9,_0x2137cc,_0x59dfbe,_0x5a19ff,_0x42bf16,_0xb6ff13,_0x3329f8,_0x42b6b1)['then'](_0x38c81a=>{const _0x12b57e=_0x1193dc;return _0x1c0614[_0x12b57e(0x17a)](),_0x38c81a;}),_0x1c0614]);}else{if(commandRepository['isSelfHealEnabled']()){const _0x569c5d=_0xb82bf9['kSJJS'](timeoutPromise,constants[_0x1193dc(0x14b)],_0xb82bf9['Wqang'],_0xb82bf9[_0x1193dc(0x16a)],_0x42736b,this[_0x1193dc(0x142)],this[_0x1193dc(0x193)]);_0x4dfc10=await Promise[_0x1193dc(0x196)]([this[_0x1193dc(0x17f)][_0x1193dc(0x148)](_0x4df2d9,_0x2137cc,_0x59dfbe,_0x5a19ff,_0x4ec197,_0x42bf16,_0xb6ff13,_0x3329f8,_0x24ba13,_0x1262be,_0x42b6b1)[_0x1193dc(0x16c)](_0xc117a9=>{return _0x569c5d['cancel'](),_0xc117a9;}),_0x569c5d]);}}_0x4dfc10&&await _0x2c8b80['executeScript'](_0x4dfc10);}}async[a59_0x73bae9(0x15d)](_0x4b4465,_0x3a76a6,_0x37723b){const _0x12e0c9=a59_0x73bae9;try{await this[_0x12e0c9(0x14f)](_0x4b4465,_0x3a76a6,_0x37723b,!![]);}catch(_0x3719b4){return logger[_0x12e0c9(0x13c)](_0x12e0c9(0x154)+(_0x3719b4&&_0x3719b4[_0x12e0c9(0x188)]?_0x3719b4[_0x12e0c9(0x188)]:'')),![];}return!![];}async[a59_0x73bae9(0x18a)](_0xf6bae6,_0x186b47,_0x158992){const _0xf33f57=a59_0x73bae9,_0x8f060f={'AwKGB':function(_0x15f0f6,_0x511212,_0x2c7570,_0x1fc2a4,_0x153ac8,_0xaf6ae7,_0x25fd96){return _0x15f0f6(_0x511212,_0x2c7570,_0x1fc2a4,_0x153ac8,_0xaf6ae7,_0x25fd96);},'UZAtv':_0xf33f57(0x176),'ixybl':'BrowserstackHealingPollResultFailed','tPLiz':_0xf33f57(0x192)};try{await this['_handleEvent'](_0xf6bae6,_0x186b47,_0x158992,![]);const _0x12a955=(await _0x186b47[_0xf33f57(0x157)]())[_0xf33f57(0x161)](),_0x2b2bd7=new Date(),_0x575457=_0x8f060f[_0xf33f57(0x197)](timeoutPromise,constants[_0xf33f57(0x18b)],_0x8f060f[_0xf33f57(0x187)],_0x8f060f[_0xf33f57(0x18f)],_0x2b2bd7,this[_0xf33f57(0x142)],this[_0xf33f57(0x193)]),_0x27b4eb=await Promise[_0xf33f57(0x196)]([this[_0xf33f57(0x17f)][_0xf33f57(0x159)](constants['TCG_URL'],_0x12a955,globals[_0xf33f57(0x128)](_0x8f060f[_0xf33f57(0x156)]))[_0xf33f57(0x16c)](_0x8ed36a=>{const _0xca7b16=_0xf33f57;return _0x575457[_0xca7b16(0x17a)](),_0x8ed36a;}),_0x575457]);if(_0x27b4eb&&_0x27b4eb['selector']&&_0x27b4eb['value']){const _0x4c1005={};return _0x4c1005[_0xf33f57(0x19c)]=_0x27b4eb[_0xf33f57(0x132)],_0x4c1005[_0xf33f57(0x16b)]=_0x27b4eb[_0xf33f57(0x155)],_0x4c1005['aiHealing']=!![],_0x4c1005;}const _0x6be81b={};return _0x6be81b[_0xf33f57(0x19c)]=_0x158992[_0xf33f57(0x15f)]['using'],_0x6be81b[_0xf33f57(0x16b)]=_0x27b4eb['value'],_0x6be81b[_0xf33f57(0x194)]=!![],_0x6be81b;}catch(_0x5db99b){return logger[_0xf33f57(0x150)](_0xf33f57(0x144)+(_0x5db99b&&_0x5db99b[_0xf33f57(0x188)]?_0x5db99b[_0xf33f57(0x188)]:'')),logger[_0xf33f57(0x17c)](_0xf33f57(0x19e)+_0x158992['name_']+_0xf33f57(0x15b)),_0x158992;}}}exports['aiSdkWrapper']=Object['freeze'](new AiSdkWrapper());