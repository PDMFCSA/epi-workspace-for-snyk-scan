const a99_0x2eb3ff=a99_0x2bc8;(function(_0x5cb5dc,_0x47ae8b){const _0x575cb6=a99_0x2bc8,_0x314946=_0x5cb5dc();while(!![]){try{const _0x277125=-parseInt(_0x575cb6(0x7b))/0x1*(parseInt(_0x575cb6(0xd5))/0x2)+parseInt(_0x575cb6(0x6a))/0x3*(-parseInt(_0x575cb6(0xdb))/0x4)+parseInt(_0x575cb6(0x7a))/0x5*(parseInt(_0x575cb6(0x9f))/0x6)+parseInt(_0x575cb6(0x91))/0x7*(-parseInt(_0x575cb6(0x80))/0x8)+parseInt(_0x575cb6(0xdf))/0x9*(-parseInt(_0x575cb6(0xd9))/0xa)+-parseInt(_0x575cb6(0xc0))/0xb*(-parseInt(_0x575cb6(0x69))/0xc)+parseInt(_0x575cb6(0x89))/0xd*(parseInt(_0x575cb6(0x6b))/0xe);if(_0x277125===_0x47ae8b)break;else _0x314946['push'](_0x314946['shift']());}catch(_0x3ee4fb){_0x314946['push'](_0x314946['shift']());}}}(a99_0x596d,0x60af5));function a99_0x596d(){const _0x25fca0=['GQNKz','pAVAF','executeScript','parameters_','getCommands','getSession','dHyrh','PsvDV','aiHeal_isGroupAIEnabled','setTcgToken','framework','TCG_URL','log','../globals','PzydB','firefox','BrowserstackHealing.healFailure\x20method\x20timed\x20out','HrvXY','\x22}}}','initializeCapabilities','UGEmk','QQBRV','s://','safariOptions_','OoZsZ','mncby','chromeOptions_','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','newCapabilities','38159ICjsOQ','VgpRc','toLowerCase','selector','freeze','logData','getProjectName','error','YwlHb','./autoHealHelper','hiuUG','safari','path','BrowserstackHealing.pollResult\x20method\x20timed\x20out','_handleEvent','XVYVk','edgeOptions_','HEALING_FAILURE_TIMEOUT','keys','string','\x22:\x20{\x22endpoint\x22:\x20\x22','73066vOpaIs','getGlobal','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','fromEntries','2079610XNxzwP','locatorType','892028VElrlW','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','using','handleSuccess','9JSUyIK','browserstackSessionName','TUCiv','setToken','aiHeal_groupId','../logger','ahyjW','aiSdkWrapper','join','replace','540iBYffx','9BkJiNU','1034474nLoRQp','lPfCR','getTestName','winstonLogger','getId','aiHealing','race','HEALING_LOG_DATA_TIMEOUT','aiHeal_userId','split','handleFailure','aiHeal_sessionToken','waMgY','drhbB','isSelfHealEnabled','2029685sBHkQO','13WlZdyF','fEHvk','westG','config','locatorValue','5176oJZnlj','BrowserstackHealingLogDataFailed','EdXVM','firefoxOptions_','TCG_REGION','xSWvk','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','VUByC','pollResult','247AKImdg','browserName','cancel','AFmmQ','gpXoy','ieOptions_','POLL_HEALING_RESULT_TIMEOUT','\x20command','2359hVIuGv','qdQri','CMMsC','map_','lDVAK','then','gMDsC','../../ai-sdk-node/bundle','message','microsoftedge','forEach','capabilities_','SET_TCG_TOKEN_TIMEOUT','value','6LhApWM','BrowserstackHealing','{\x22region\x22:\x20\x22','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20'];a99_0x596d=function(){return _0x25fca0;};return a99_0x596d();}function a99_0x2bc8(_0x43206e,_0x547ad5){const _0x596d18=a99_0x596d();return a99_0x2bc8=function(_0x2bc854,_0x148d4d){_0x2bc854=_0x2bc854-0x67;let _0x33d2f9=_0x596d18[_0x2bc854];return _0x33d2f9;},a99_0x2bc8(_0x43206e,_0x547ad5);}const path=require(a99_0x2eb3ff(0xcc)),{commandRepository}=require(a99_0x2eb3ff(0xc9)),constants=require('../../bin/utils/constants'),logger=require(a99_0x2eb3ff(0xe4))[a99_0x2eb3ff(0x6e)],globals=require(a99_0x2eb3ff(0xb0)),timeoutPromise=require('../../helpers/timeoutPromise'),isUndefinedOrNull=_0x176158=>_0x176158===undefined||_0x176158===null||_0x176158==='',isNotUndefinedOrNull=_0x5dc1e5=>!isUndefinedOrNull(_0x5dc1e5),isString=_0x461cbd=>isNotUndefinedOrNull(_0x461cbd)&&typeof _0x461cbd===a99_0x2eb3ff(0xd3);class AiSdkWrapper{constructor(){const _0x28db19=a99_0x2eb3ff,_0xfa3250={'GQNKz':function(_0x3e4ff5,_0x432be5){return _0x3e4ff5(_0x432be5);},'EMERl':_0x28db19(0x98)};this[_0x28db19(0xa0)]=undefined;try{this[_0x28db19(0xa0)]=_0xfa3250[_0x28db19(0xa3)](require,path[_0x28db19(0x67)](__dirname,_0xfa3250['EMERl']));}catch(_0x18f5fc){logger[_0x28db19(0xc7)](_0x28db19(0xd7)+(_0x18f5fc&&_0x18f5fc[_0x28db19(0x99)]?_0x18f5fc[_0x28db19(0x99)]:''));}}['initializeHealingCapabilities'](_0x4f75d8){const _0x190cb6=a99_0x2eb3ff,_0xb506b5={};_0xb506b5[_0x190cb6(0x78)]=_0x190cb6(0xbf),_0xb506b5['mncby']=function(_0x37e683,_0x2569f9){return _0x37e683===_0x2569f9;},_0xb506b5[_0x190cb6(0xc8)]='chrome',_0xb506b5['gpXoy']=_0x190cb6(0xb2),_0xb506b5[_0x190cb6(0x85)]=_0x190cb6(0xcb),_0xb506b5['EdXVM']='edge',_0xb506b5[_0x190cb6(0x7d)]=_0x190cb6(0x9a);const _0x192372=_0xb506b5;try{const _0x2fe8be=this[_0x190cb6(0xa0)][_0x190cb6(0xb6)](Object[_0x190cb6(0xd8)](_0x4f75d8['getCapabilities']()[_0x190cb6(0x94)]));console[_0x190cb6(0xaf)](_0x192372[_0x190cb6(0x78)],_0x2fe8be);if(_0x192372[_0x190cb6(0xbc)](_0x2fe8be?.['browserName']?.[_0x190cb6(0xc2)](),_0x192372[_0x190cb6(0xc8)]))_0x4f75d8[_0x190cb6(0xbd)]=_0x2fe8be;else{if(_0x192372['mncby'](_0x2fe8be?.[_0x190cb6(0x8a)]?.[_0x190cb6(0xc2)](),_0x192372[_0x190cb6(0x8d)]))_0x4f75d8[_0x190cb6(0x83)]=_0x2fe8be;else{if(_0x192372[_0x190cb6(0xbc)](_0x2fe8be?.[_0x190cb6(0x8a)]?.[_0x190cb6(0xc2)](),_0x192372[_0x190cb6(0x85)]))_0x4f75d8[_0x190cb6(0xba)]=_0x2fe8be;else{if(_0x192372[_0x190cb6(0xbc)](_0x2fe8be?.[_0x190cb6(0x8a)]?.[_0x190cb6(0xc2)](),_0x192372[_0x190cb6(0x82)])||_0x192372[_0x190cb6(0xbc)](_0x2fe8be?.[_0x190cb6(0x8a)]?.[_0x190cb6(0xc2)](),_0x192372[_0x190cb6(0x7d)]))_0x4f75d8[_0x190cb6(0xd0)]=_0x2fe8be;else _0x192372[_0x190cb6(0xbc)](_0x2fe8be?.[_0x190cb6(0x8a)]?.['toLowerCase'](),'ie')&&(_0x4f75d8[_0x190cb6(0x8e)]=_0x2fe8be);}}}Object[_0x190cb6(0xd2)](_0x2fe8be)[_0x190cb6(0x9b)](_0x183e5f=>{const _0x3bfcda=_0x190cb6,_0x31d750=_0x4f75d8[_0x3bfcda(0x9c)]['get'](_0x183e5f);_0x4f75d8[_0x3bfcda(0x9c)]['set'](_0x183e5f,_0x2fe8be[_0x183e5f]);});}catch(_0x580936){logger[_0x190cb6(0xc7)](_0x190cb6(0xbe)+(_0x580936&&_0x580936['message']?_0x580936[_0x190cb6(0x99)]:''));}}async[a99_0x2eb3ff(0xac)](_0x396d27){const _0x9054d7=a99_0x2eb3ff,_0x5233b8={'pAVAF':function(_0x23e6c7,_0x2f2734,_0x7b87e5,_0x237407,_0x4781cd,_0x5b954e,_0x87edf6){return _0x23e6c7(_0x2f2734,_0x7b87e5,_0x237407,_0x4781cd,_0x5b954e,_0x87edf6);},'QLFAj':'BrowserstackHealing.setToken\x20method\x20timed\x20out','OdXjP':'BrowserstackHealingSetTcgTokenFailed','dHyrh':_0x9054d7(0x76)},_0x5cd9c1=new Date(),_0x30ee4b=_0x5233b8[_0x9054d7(0xa4)](timeoutPromise,constants[_0x9054d7(0x9d)],_0x5233b8['QLFAj'],_0x5233b8['OdXjP'],_0x5cd9c1,this[_0x9054d7(0x7e)],this['framework']);await Promise[_0x9054d7(0x71)]([this[_0x9054d7(0xa0)][_0x9054d7(0xe2)](_0x396d27,globals[_0x9054d7(0xd6)](_0x5233b8[_0x9054d7(0xa9)]),constants[_0x9054d7(0xae)])['then'](()=>{_0x30ee4b['cancel']();}),_0x30ee4b]);}async[a99_0x2eb3ff(0xce)](_0x160498,_0x53317c,_0x110cb6,_0x494080){const _0x46fc1e=a99_0x2eb3ff,_0x35789a={'gMDsC':function(_0x2868e9,_0x397fff){return _0x2868e9===_0x397fff;},'fEHvk':function(_0x2b5c1b,_0x43df1b){return _0x2b5c1b===_0x43df1b;},'TUCiv':function(_0xca9884,_0x4b5f69){return _0xca9884(_0x4b5f69);},'YREKs':function(_0x1aa23e,_0x24b25e){return _0x1aa23e(_0x24b25e);},'qdQri':function(_0x4e6204,_0x5f5745){return _0x4e6204(_0x5f5745);},'PzydB':function(_0xe3f447,_0x29e9b2){return _0xe3f447(_0x29e9b2);},'UGEmk':function(_0x5cb5e8,_0x4477d6){return _0x5cb5e8(_0x4477d6);},'ahyjW':function(_0x5c72cc,_0x3e0339){return _0x5c72cc(_0x3e0339);},'waMgY':function(_0x2b0ef0,_0xb99aa2){return _0x2b0ef0(_0xb99aa2);},'lDVAK':_0x46fc1e(0xb9),'VgpRc':function(_0x504a9c,_0x5b1dbd){return _0x504a9c(_0x5b1dbd);},'JCayS':function(_0x56a751,_0x21bd12){return _0x56a751(_0x21bd12);},'hiuUG':_0x46fc1e(0x73),'QQBRV':_0x46fc1e(0xe3),'XVYVk':_0x46fc1e(0xab),'OoZsZ':function(_0x38ff89,_0x432c9d,_0x345dbc,_0x23d2f0,_0x5df9d6,_0x174fff,_0x22e333){return _0x38ff89(_0x432c9d,_0x345dbc,_0x23d2f0,_0x5df9d6,_0x174fff,_0x22e333);},'VUByC':'BrowserstackHealing.logData\x20method\x20timed\x20out','PsvDV':_0x46fc1e(0x81),'lPfCR':_0x46fc1e(0xb3),'HrvXY':'BrowserstackHealingHealFailureFailed'},_0x6e4086=(await _0x53317c[_0x46fc1e(0xa8)]())[_0x46fc1e(0x6f)]();let _0x5b1c00='';if(commandRepository[_0x46fc1e(0x79)]()&&_0x35789a[_0x46fc1e(0x97)](_0x494080,![])||_0x35789a[_0x46fc1e(0x7c)](_0x494080,!![])){const _0x31ab86=_0x35789a[_0x46fc1e(0xe1)](isNotUndefinedOrNull,_0x110cb6['parameters_'][_0x46fc1e(0xdd)])&&_0x35789a[_0x46fc1e(0xe1)](isString,_0x110cb6[_0x46fc1e(0xa6)][_0x46fc1e(0xdd)])?_0x110cb6[_0x46fc1e(0xa6)][_0x46fc1e(0xdd)][_0x46fc1e(0x68)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x2ac288=_0x35789a['YREKs'](isNotUndefinedOrNull,_0x110cb6[_0x46fc1e(0xa6)][_0x46fc1e(0xdd)])&&_0x35789a[_0x46fc1e(0x92)](isString,_0x110cb6[_0x46fc1e(0xa6)]['value'])?_0x110cb6['parameters_'][_0x46fc1e(0x9e)][_0x46fc1e(0x68)](/'/g,'\x5c\x27')[_0x46fc1e(0x68)](/"/g,'\x5c\x22'):'',_0xca0247=_0x35789a['qdQri'](isNotUndefinedOrNull,commandRepository['getProjectName']())&&_0x35789a[_0x46fc1e(0xb1)](isString,commandRepository['getProjectName']())?commandRepository[_0x46fc1e(0xc6)]()[_0x46fc1e(0x68)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';let _0x466030=_0x35789a[_0x46fc1e(0xe1)](isNotUndefinedOrNull,global[_0x46fc1e(0xe0)])&&_0x35789a[_0x46fc1e(0xb7)](isString,global[_0x46fc1e(0xe0)])?global[_0x46fc1e(0xe0)][_0x46fc1e(0x68)](/'/g,'\x5c\x27')[_0x46fc1e(0x68)](/"/g,'\x5c\x22'):'';!_0x466030&&(_0x466030=_0x35789a[_0x46fc1e(0xe5)](isNotUndefinedOrNull,commandRepository[_0x46fc1e(0x6d)]())&&_0x35789a[_0x46fc1e(0x77)](isString,commandRepository[_0x46fc1e(0x6d)]())?commandRepository['getTestName']()[_0x46fc1e(0x68)](/'/g,'\x5c\x27')[_0x46fc1e(0x68)](/"/g,'\x5c\x22'):'');let _0x5aeb69=_0x46fc1e(0xa1)+constants[_0x46fc1e(0x84)]+'\x22,\x20\x22tcgUrls\x22:\x20{\x22'+constants['TCG_REGION']+_0x46fc1e(0xd4)+constants[_0x46fc1e(0xae)][_0x46fc1e(0x74)](_0x35789a[_0x46fc1e(0x95)])[0x1]+_0x46fc1e(0xb5);_0x5aeb69=_0x35789a[_0x46fc1e(0xc1)](isNotUndefinedOrNull,_0x5aeb69)&&_0x35789a['JCayS'](isString,_0x5aeb69)?_0x5aeb69[_0x46fc1e(0x68)](/'/g,'\x5c\x27')[_0x46fc1e(0x68)](/"/g,'\x5c\x22'):'';const _0x22b32d=commandRepository[_0x46fc1e(0xa7)](_0x6e4086),_0x412efa=globals[_0x46fc1e(0xd6)](_0x35789a[_0x46fc1e(0xca)]),_0x36f66a=globals[_0x46fc1e(0xd6)](_0x35789a[_0x46fc1e(0xb8)]),_0x536d29=globals[_0x46fc1e(0xd6)](_0x35789a[_0x46fc1e(0xcf)]),_0x35e695=![],_0x49e3ca=new Date();if(_0x494080){const _0x16a03f=_0x35789a[_0x46fc1e(0xbb)](timeoutPromise,constants[_0x46fc1e(0x72)],_0x35789a[_0x46fc1e(0x87)],_0x35789a[_0x46fc1e(0xaa)],_0x49e3ca,this[_0x46fc1e(0x7e)],this[_0x46fc1e(0xad)]);_0x5b1c00=await Promise[_0x46fc1e(0x71)]([this[_0x46fc1e(0xa0)][_0x46fc1e(0xc5)](_0x31ab86,_0x2ac288,_0xca0247,_0x466030,_0x36f66a,_0x6e4086,_0x22b32d,_0x5aeb69)[_0x46fc1e(0x96)](_0xa5a923=>{return _0x16a03f['cancel'](),_0xa5a923;}),_0x16a03f]);}else{if(commandRepository['isSelfHealEnabled']()){const _0x24f53d=_0x35789a[_0x46fc1e(0xbb)](timeoutPromise,constants[_0x46fc1e(0xd1)],_0x35789a[_0x46fc1e(0x6c)],_0x35789a[_0x46fc1e(0xb4)],_0x49e3ca,this[_0x46fc1e(0x7e)],this[_0x46fc1e(0xad)]);_0x5b1c00=await Promise['race']([this[_0x46fc1e(0xa0)]['healFailure'](_0x31ab86,_0x2ac288,_0xca0247,_0x466030,_0x412efa,_0x36f66a,_0x6e4086,_0x22b32d,_0x35e695,_0x536d29,_0x5aeb69)[_0x46fc1e(0x96)](_0x5631a4=>{const _0x276a30=_0x46fc1e;return _0x24f53d[_0x276a30(0x8b)](),_0x5631a4;}),_0x24f53d]);}}_0x5b1c00&&await _0x53317c[_0x46fc1e(0xa5)](_0x5b1c00);}}async[a99_0x2eb3ff(0xde)](_0x11b834,_0x1415ac,_0x470c13){const _0x14921e=a99_0x2eb3ff;try{await this[_0x14921e(0xce)](_0x11b834,_0x1415ac,_0x470c13,!![]);}catch(_0x355341){return logger[_0x14921e(0xc7)](_0x14921e(0xa2)+(_0x355341&&_0x355341[_0x14921e(0x99)]?_0x355341['message']:'')),![];}return!![];}async[a99_0x2eb3ff(0x75)](_0x5b34c4,_0x5e7cef,_0x361e12){const _0x4fce74=a99_0x2eb3ff,_0x420ec3={'AFmmQ':function(_0x3d6f0b,_0x21f832,_0x32c3d5,_0x57e749,_0x538704,_0x23c8ba,_0x27111d){return _0x3d6f0b(_0x21f832,_0x32c3d5,_0x57e749,_0x538704,_0x23c8ba,_0x27111d);},'CMMsC':_0x4fce74(0xcd),'WhhUQ':'BrowserstackHealingPollResultFailed','GpBBH':_0x4fce74(0x76)};try{await this[_0x4fce74(0xce)](_0x5b34c4,_0x5e7cef,_0x361e12,![]);const _0x475b73=(await _0x5e7cef['getSession']())[_0x4fce74(0x6f)](),_0x522251=new Date(),_0x2864cd=_0x420ec3[_0x4fce74(0x8c)](timeoutPromise,constants[_0x4fce74(0x8f)],_0x420ec3[_0x4fce74(0x93)],_0x420ec3['WhhUQ'],_0x522251,this['config'],this[_0x4fce74(0xad)]),_0x346588=await Promise[_0x4fce74(0x71)]([this[_0x4fce74(0xa0)][_0x4fce74(0x88)](constants[_0x4fce74(0xae)],_0x475b73,globals['getGlobal'](_0x420ec3['GpBBH']))[_0x4fce74(0x96)](_0x90408b=>{const _0x5bede1=_0x4fce74;return _0x2864cd[_0x5bede1(0x8b)](),_0x90408b;}),_0x2864cd]);if(_0x346588&&_0x346588[_0x4fce74(0xc3)]&&_0x346588[_0x4fce74(0x9e)]){const _0x341c51={};return _0x341c51[_0x4fce74(0xda)]=_0x346588[_0x4fce74(0xc3)],_0x341c51[_0x4fce74(0x7f)]=_0x346588[_0x4fce74(0x9e)],_0x341c51[_0x4fce74(0x70)]=!![],_0x341c51;}const _0x4affb6={};return _0x4affb6[_0x4fce74(0xda)]=_0x361e12[_0x4fce74(0xa6)][_0x4fce74(0xdd)],_0x4affb6[_0x4fce74(0x7f)]=_0x346588[_0x4fce74(0x9e)],_0x4affb6[_0x4fce74(0x70)]=!![],_0x4affb6;}catch(_0x582c4b){return logger['debug'](_0x4fce74(0x86)+(_0x582c4b&&_0x582c4b[_0x4fce74(0x99)]?_0x582c4b[_0x4fce74(0x99)]:'')),logger['info'](_0x4fce74(0xdc)+_0x361e12['name_']+_0x4fce74(0x90)),_0x361e12;}}}exports[a99_0x2eb3ff(0xe6)]=Object[a99_0x2eb3ff(0xc4)](new AiSdkWrapper());