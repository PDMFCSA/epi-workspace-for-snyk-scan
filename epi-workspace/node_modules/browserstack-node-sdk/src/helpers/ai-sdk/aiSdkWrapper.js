const a59_0x5a3591=a59_0x38b0;function a59_0x38b0(_0x1ea8f3,_0x381607){const _0x273efc=a59_0x273e();return a59_0x38b0=function(_0x38b02a,_0x2baa74){_0x38b02a=_0x38b02a-0x16c;let _0x302efb=_0x273efc[_0x38b02a];return _0x302efb;},a59_0x38b0(_0x1ea8f3,_0x381607);}(function(_0x19e951,_0x15e411){const _0x15c61a=a59_0x38b0,_0x220512=_0x19e951();while(!![]){try{const _0x267b61=-parseInt(_0x15c61a(0x1b7))/0x1+-parseInt(_0x15c61a(0x1ce))/0x2*(-parseInt(_0x15c61a(0x1af))/0x3)+parseInt(_0x15c61a(0x16d))/0x4+-parseInt(_0x15c61a(0x1c2))/0x5*(-parseInt(_0x15c61a(0x1a4))/0x6)+parseInt(_0x15c61a(0x192))/0x7*(parseInt(_0x15c61a(0x18b))/0x8)+-parseInt(_0x15c61a(0x1c1))/0x9*(parseInt(_0x15c61a(0x1c0))/0xa)+parseInt(_0x15c61a(0x1c5))/0xb;if(_0x267b61===_0x15e411)break;else _0x220512['push'](_0x220512['shift']());}catch(_0x5dda76){_0x220512['push'](_0x220512['shift']());}}}(a59_0x273e,0xa41f4));const path=require(a59_0x5a3591(0x1b2)),{commandRepository}=require(a59_0x5a3591(0x1dc)),constants=require(a59_0x5a3591(0x189)),logger=require(a59_0x5a3591(0x19b))[a59_0x5a3591(0x1a5)],globals=require(a59_0x5a3591(0x1c7)),timeoutPromise=require(a59_0x5a3591(0x16f)),isUndefinedOrNull=_0x2a5a7e=>_0x2a5a7e===undefined||_0x2a5a7e===null||_0x2a5a7e==='',isNotUndefinedOrNull=_0x519080=>!isUndefinedOrNull(_0x519080),isString=_0x3df8e0=>isNotUndefinedOrNull(_0x3df8e0)&&typeof _0x3df8e0===a59_0x5a3591(0x177);class AiSdkWrapper{constructor(){const _0x5b0415=a59_0x5a3591,_0x906cd3={'pmSsY':function(_0x22062f,_0x55227d){return _0x22062f(_0x55227d);},'sjpBq':'../../ai-sdk-node/bundle'};this[_0x5b0415(0x1b3)]=undefined;try{this['BrowserstackHealing']=_0x906cd3[_0x5b0415(0x1ed)](require,path[_0x5b0415(0x193)](__dirname,_0x906cd3[_0x5b0415(0x18e)]));}catch(_0x3c3a82){logger[_0x5b0415(0x1a3)]('Unable\x20to\x20load\x20healing\x20module,\x20error:\x20'+(_0x3c3a82&&_0x3c3a82[_0x5b0415(0x1ae)]?_0x3c3a82['message']:''));}}[a59_0x5a3591(0x1e2)](_0x3871de){const _0x278b02=a59_0x5a3591,_0x29dc71={};_0x29dc71[_0x278b02(0x1b1)]=_0x278b02(0x170),_0x29dc71[_0x278b02(0x173)]=function(_0x1b68b4,_0xdf98e5){return _0x1b68b4===_0xdf98e5;},_0x29dc71[_0x278b02(0x196)]=_0x278b02(0x19f),_0x29dc71['RwjrF']=_0x278b02(0x179),_0x29dc71['XfIXH']=function(_0x946e44,_0x3b86d8){return _0x946e44===_0x3b86d8;},_0x29dc71[_0x278b02(0x1c4)]='safari',_0x29dc71[_0x278b02(0x1d4)]=function(_0x199ae3,_0x7dc220){return _0x199ae3===_0x7dc220;},_0x29dc71[_0x278b02(0x1c8)]='edge',_0x29dc71[_0x278b02(0x190)]=_0x278b02(0x17f);const _0x2f1194=_0x29dc71;try{const _0x121f47=this['BrowserstackHealing'][_0x278b02(0x1e1)](Object[_0x278b02(0x1aa)](_0x3871de[_0x278b02(0x186)]()[_0x278b02(0x1b8)]));console[_0x278b02(0x1b5)](_0x2f1194['EiXgp'],_0x121f47);if(_0x2f1194[_0x278b02(0x173)](_0x121f47?.[_0x278b02(0x185)]?.[_0x278b02(0x1a9)](),_0x2f1194[_0x278b02(0x196)]))_0x3871de[_0x278b02(0x1bc)]=_0x121f47;else{if(_0x2f1194[_0x278b02(0x173)](_0x121f47?.[_0x278b02(0x185)]?.[_0x278b02(0x1a9)](),_0x2f1194[_0x278b02(0x1df)]))_0x3871de[_0x278b02(0x17d)]=_0x121f47;else{if(_0x2f1194[_0x278b02(0x17c)](_0x121f47?.[_0x278b02(0x185)]?.['toLowerCase'](),_0x2f1194[_0x278b02(0x1c4)]))_0x3871de[_0x278b02(0x1d1)]=_0x121f47;else{if(_0x2f1194[_0x278b02(0x1d4)](_0x121f47?.['browserName']?.['toLowerCase'](),_0x2f1194[_0x278b02(0x1c8)])||_0x2f1194[_0x278b02(0x1d4)](_0x121f47?.[_0x278b02(0x185)]?.[_0x278b02(0x1a9)](),_0x2f1194[_0x278b02(0x190)]))_0x3871de[_0x278b02(0x19a)]=_0x121f47;else _0x2f1194[_0x278b02(0x17c)](_0x121f47?.[_0x278b02(0x185)]?.[_0x278b02(0x1a9)](),'ie')&&(_0x3871de[_0x278b02(0x1b0)]=_0x121f47);}}}Object[_0x278b02(0x1b9)](_0x121f47)[_0x278b02(0x1e0)](_0x392eab=>{const _0x356767=_0x278b02,_0x575ef3=_0x3871de['capabilities_'][_0x356767(0x171)](_0x392eab);_0x3871de[_0x356767(0x180)][_0x356767(0x1d8)](_0x392eab,_0x121f47[_0x392eab]);});}catch(_0x548a00){logger[_0x278b02(0x1a3)](_0x278b02(0x1b6)+(_0x548a00&&_0x548a00['message']?_0x548a00['message']:''));}}async[a59_0x5a3591(0x1d2)](_0x40aaba){const _0x3b47f9=a59_0x5a3591,_0x2b67a6={'suPnJ':function(_0xfabc1c,_0x323271,_0x5c4019,_0x36387f,_0x5c41cb,_0x49eb2d,_0x59a3c1){return _0xfabc1c(_0x323271,_0x5c4019,_0x36387f,_0x5c41cb,_0x49eb2d,_0x59a3c1);},'JOFRB':_0x3b47f9(0x1ef),'yaNDO':_0x3b47f9(0x18d),'CDZDi':'aiHeal_sessionToken'},_0x5e8953=new Date(),_0x440ae1=_0x2b67a6[_0x3b47f9(0x188)](timeoutPromise,constants[_0x3b47f9(0x1d9)],_0x2b67a6[_0x3b47f9(0x1bb)],_0x2b67a6[_0x3b47f9(0x16c)],_0x5e8953,this[_0x3b47f9(0x19d)],this['framework']);await Promise[_0x3b47f9(0x1ca)]([this['BrowserstackHealing'][_0x3b47f9(0x1a2)](_0x40aaba,globals[_0x3b47f9(0x17e)](_0x2b67a6[_0x3b47f9(0x1ee)]),constants[_0x3b47f9(0x1db)])['then'](()=>{const _0x5edc12=_0x3b47f9;_0x440ae1[_0x5edc12(0x175)]();}),_0x440ae1]);}async[a59_0x5a3591(0x181)](_0xfb47e7,_0x57dae0,_0x58835b,_0x199231){const _0xca3fe4=a59_0x5a3591,_0x44ccce={'JyTiX':function(_0x54e24a,_0x330429){return _0x54e24a===_0x330429;},'EWfjD':function(_0x301438,_0x43b527){return _0x301438===_0x43b527;},'pYxQE':function(_0x3af4b9,_0x215181){return _0x3af4b9(_0x215181);},'oNpvW':function(_0x322332,_0x131c19){return _0x322332(_0x131c19);},'wARes':function(_0x5bf4d8,_0x8642ff){return _0x5bf4d8(_0x8642ff);},'LtNyf':function(_0x11d66f,_0x503c2a){return _0x11d66f(_0x503c2a);},'hpNpC':function(_0x2e8df0,_0x302e98){return _0x2e8df0(_0x302e98);},'sqpcz':function(_0x170867,_0x57a1bf){return _0x170867(_0x57a1bf);},'KGZcS':_0xca3fe4(0x197),'UjzmP':function(_0x12ff01,_0x25210e){return _0x12ff01(_0x25210e);},'dQTEI':function(_0x7fef67,_0x148687){return _0x7fef67(_0x148687);},'nSPlU':'aiHeal_userId','YmvVr':_0xca3fe4(0x178),'qIZoR':_0xca3fe4(0x174),'omoWv':function(_0x475761,_0x55c59d,_0x2ee75d,_0x54a9d9,_0x340aec,_0x5884b4,_0x1248c2){return _0x475761(_0x55c59d,_0x2ee75d,_0x54a9d9,_0x340aec,_0x5884b4,_0x1248c2);},'baOZS':'BrowserstackHealing.logData\x20method\x20timed\x20out','UIkmc':_0xca3fe4(0x1cb),'HcRxV':function(_0x591ad7,_0x531c22,_0xa7d093,_0xca93c3,_0x2b1a56,_0x1a943b,_0x5660ff){return _0x591ad7(_0x531c22,_0xa7d093,_0xca93c3,_0x2b1a56,_0x1a943b,_0x5660ff);},'qqqPv':_0xca3fe4(0x172),'ahYVA':_0xca3fe4(0x1c6)},_0xedcd4a=(await _0x57dae0[_0xca3fe4(0x1d7)]())[_0xca3fe4(0x19e)]();let _0x3123e3='';if(commandRepository[_0xca3fe4(0x18c)]()&&_0x44ccce[_0xca3fe4(0x1cf)](_0x199231,![])||_0x44ccce[_0xca3fe4(0x1a6)](_0x199231,!![])){const _0x435beb=_0x44ccce[_0xca3fe4(0x195)](isNotUndefinedOrNull,_0x58835b[_0xca3fe4(0x1bd)][_0xca3fe4(0x1e8)])&&_0x44ccce[_0xca3fe4(0x1a1)](isString,_0x58835b[_0xca3fe4(0x1bd)]['using'])?_0x58835b[_0xca3fe4(0x1bd)]['using']['replace'](/'/g,'\x5c\x27')[_0xca3fe4(0x1e4)](/"/g,'\x5c\x22'):'',_0xbddeab=_0x44ccce['wARes'](isNotUndefinedOrNull,_0x58835b['parameters_'][_0xca3fe4(0x1e8)])&&_0x44ccce[_0xca3fe4(0x1ba)](isString,_0x58835b['parameters_'][_0xca3fe4(0x1de)])?_0x58835b['parameters_'][_0xca3fe4(0x1de)][_0xca3fe4(0x1e4)](/'/g,'\x5c\x27')[_0xca3fe4(0x1e4)](/"/g,'\x5c\x22'):'',_0x420b88=_0x44ccce['wARes'](isNotUndefinedOrNull,commandRepository['getProjectName']())&&_0x44ccce[_0xca3fe4(0x1e7)](isString,commandRepository[_0xca3fe4(0x16e)]())?commandRepository[_0xca3fe4(0x16e)]()[_0xca3fe4(0x1e4)](/'/g,'\x5c\x27')[_0xca3fe4(0x1e4)](/"/g,'\x5c\x22'):'';let _0x458465=_0x44ccce['hpNpC'](isNotUndefinedOrNull,global[_0xca3fe4(0x1eb)])&&_0x44ccce[_0xca3fe4(0x1a0)](isString,global[_0xca3fe4(0x1eb)])?global[_0xca3fe4(0x1eb)][_0xca3fe4(0x1e4)](/'/g,'\x5c\x27')[_0xca3fe4(0x1e4)](/"/g,'\x5c\x22'):'';!_0x458465&&(_0x458465=_0x44ccce[_0xca3fe4(0x1a0)](isNotUndefinedOrNull,commandRepository[_0xca3fe4(0x176)]())&&_0x44ccce[_0xca3fe4(0x1e7)](isString,commandRepository[_0xca3fe4(0x176)]())?commandRepository[_0xca3fe4(0x176)]()['replace'](/'/g,'\x5c\x27')[_0xca3fe4(0x1e4)](/"/g,'\x5c\x22'):'');let _0x2d9e08='{\x22region\x22:\x20\x22'+constants[_0xca3fe4(0x1ab)]+'\x22,\x20\x22tcgUrls\x22:\x20{\x22'+constants[_0xca3fe4(0x1ab)]+'\x22:\x20{\x22endpoint\x22:\x20\x22'+constants[_0xca3fe4(0x1db)][_0xca3fe4(0x1be)](_0x44ccce[_0xca3fe4(0x1a8)])[0x1]+_0xca3fe4(0x19c);_0x2d9e08=_0x44ccce[_0xca3fe4(0x18a)](isNotUndefinedOrNull,_0x2d9e08)&&_0x44ccce[_0xca3fe4(0x1cc)](isString,_0x2d9e08)?_0x2d9e08[_0xca3fe4(0x1e4)](/'/g,'\x5c\x27')[_0xca3fe4(0x1e4)](/"/g,'\x5c\x22'):'';const _0x2f5666=commandRepository[_0xca3fe4(0x187)](_0xedcd4a),_0x4fe19e=globals[_0xca3fe4(0x17e)](_0x44ccce['nSPlU']),_0x4a4122=globals['getGlobal'](_0x44ccce[_0xca3fe4(0x17b)]),_0x3e58dd=globals['getGlobal'](_0x44ccce[_0xca3fe4(0x1c9)]),_0x39adfe=![],_0x22bac2=new Date();if(_0x199231){const _0x17d839=_0x44ccce[_0xca3fe4(0x1e5)](timeoutPromise,constants['HEALING_LOG_DATA_TIMEOUT'],_0x44ccce[_0xca3fe4(0x198)],_0x44ccce[_0xca3fe4(0x1d0)],_0x22bac2,this[_0xca3fe4(0x19d)],this[_0xca3fe4(0x194)]);_0x3123e3=await Promise[_0xca3fe4(0x1ca)]([this[_0xca3fe4(0x1b3)][_0xca3fe4(0x1a7)](_0x435beb,_0xbddeab,_0x420b88,_0x458465,_0x4a4122,_0xedcd4a,_0x2f5666,_0x2d9e08)[_0xca3fe4(0x183)](_0x527c50=>{return _0x17d839['cancel'](),_0x527c50;}),_0x17d839]);}else{if(commandRepository[_0xca3fe4(0x18c)]()){const _0x261fc6=_0x44ccce[_0xca3fe4(0x1cd)](timeoutPromise,constants['HEALING_FAILURE_TIMEOUT'],_0x44ccce[_0xca3fe4(0x1bf)],_0x44ccce['ahYVA'],_0x22bac2,this[_0xca3fe4(0x19d)],this['framework']);_0x3123e3=await Promise[_0xca3fe4(0x1ca)]([this[_0xca3fe4(0x1b3)][_0xca3fe4(0x18f)](_0x435beb,_0xbddeab,_0x420b88,_0x458465,_0x4fe19e,_0x4a4122,_0xedcd4a,_0x2f5666,_0x39adfe,_0x3e58dd,_0x2d9e08)[_0xca3fe4(0x183)](_0x121095=>{const _0x5004cd=_0xca3fe4;return _0x261fc6[_0x5004cd(0x175)](),_0x121095;}),_0x261fc6]);}}_0x3123e3&&await _0x57dae0['executeScript'](_0x3123e3);}}async[a59_0x5a3591(0x1ad)](_0x232a38,_0x5f2df2,_0x2247bb){const _0x34e495=a59_0x5a3591;try{await this[_0x34e495(0x181)](_0x232a38,_0x5f2df2,_0x2247bb,!![]);}catch(_0x33dd58){return logger[_0x34e495(0x1a3)](_0x34e495(0x17a)+(_0x33dd58&&_0x33dd58[_0x34e495(0x1ae)]?_0x33dd58[_0x34e495(0x1ae)]:'')),![];}return!![];}async['handleFailure'](_0x53d327,_0x4ced95,_0x2f5c8b){const _0x3f9aa0=a59_0x5a3591,_0x30013f={'YruHj':function(_0x373e72,_0xa344d1,_0x308bd8,_0xfffdda,_0x48a584,_0x525937,_0x413f57){return _0x373e72(_0xa344d1,_0x308bd8,_0xfffdda,_0x48a584,_0x525937,_0x413f57);},'kbOsd':_0x3f9aa0(0x199),'Rgjug':'BrowserstackHealingPollResultFailed','nVvKw':_0x3f9aa0(0x1b4)};try{await this[_0x3f9aa0(0x181)](_0x53d327,_0x4ced95,_0x2f5c8b,![]);const _0x8656d3=(await _0x4ced95['getSession']())[_0x3f9aa0(0x19e)](),_0xc35394=new Date(),_0x175474=_0x30013f[_0x3f9aa0(0x182)](timeoutPromise,constants[_0x3f9aa0(0x1d5)],_0x30013f[_0x3f9aa0(0x1c3)],_0x30013f['Rgjug'],_0xc35394,this['config'],this[_0x3f9aa0(0x194)]),_0x37597c=await Promise['race']([this[_0x3f9aa0(0x1b3)][_0x3f9aa0(0x1e6)](constants[_0x3f9aa0(0x1db)],_0x8656d3,globals['getGlobal'](_0x30013f['nVvKw']))[_0x3f9aa0(0x183)](_0x8f1930=>{const _0x4397e5=_0x3f9aa0;return _0x175474[_0x4397e5(0x175)](),_0x8f1930;}),_0x175474]);if(_0x37597c&&_0x37597c['selector']&&_0x37597c[_0x3f9aa0(0x1de)]){const _0x3bfb4c={};return _0x3bfb4c[_0x3f9aa0(0x1f0)]=_0x37597c[_0x3f9aa0(0x1d6)],_0x3bfb4c[_0x3f9aa0(0x1ea)]=_0x37597c[_0x3f9aa0(0x1de)],_0x3bfb4c['aiHealing']=!![],_0x3bfb4c;}const _0x496839={};return _0x496839['locatorType']=_0x2f5c8b['parameters_'][_0x3f9aa0(0x1e8)],_0x496839['locatorValue']=_0x37597c[_0x3f9aa0(0x1de)],_0x496839[_0x3f9aa0(0x1e3)]=!![],_0x496839;}catch(_0x44f5a3){return logger[_0x3f9aa0(0x1d3)](_0x3f9aa0(0x1ec)+(_0x44f5a3&&_0x44f5a3[_0x3f9aa0(0x1ae)]?_0x44f5a3['message']:'')),logger[_0x3f9aa0(0x184)](_0x3f9aa0(0x191)+_0x2f5c8b[_0x3f9aa0(0x1e9)]+_0x3f9aa0(0x1da)),_0x2f5c8b;}}}exports[a59_0x5a3591(0x1ac)]=Object[a59_0x5a3591(0x1dd)](new AiSdkWrapper());function a59_0x273e(){const _0x58d489=['split','qqqPv','4974270HhpiCp','18wuqikO','35xcRGbc','kbOsd','SBTpe','7504695bgruXv','BrowserstackHealingHealFailureFailed','../globals','KXuvT','qIZoR','race','BrowserstackHealingLogDataFailed','dQTEI','HcRxV','2NWLAAn','JyTiX','UIkmc','safariOptions_','setTcgToken','debug','BLEvw','POLL_HEALING_RESULT_TIMEOUT','selector','getSession','set','SET_TCG_TOKEN_TIMEOUT','\x20command','TCG_URL','./autoHealHelper','freeze','value','RwjrF','forEach','initializeCapabilities','initializeHealingCapabilities','aiHealing','replace','omoWv','pollResult','wARes','using','name_','locatorValue','browserstackSessionName','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','pmSsY','CDZDi','BrowserstackHealing.setToken\x20method\x20timed\x20out','locatorType','yaNDO','1668040OkcOSN','getProjectName','../../helpers/timeoutPromise','newCapabilities','get','BrowserstackHealing.healFailure\x20method\x20timed\x20out','uRZRU','aiHeal_isGroupAIEnabled','cancel','getTestName','string','aiHeal_groupId','firefox','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','YmvVr','XfIXH','firefoxOptions_','getGlobal','microsoftedge','capabilities_','_handleEvent','YruHj','then','info','browserName','getCapabilities','getCommands','suPnJ','../../bin/utils/constants','UjzmP','1416okHeGq','isSelfHealEnabled','BrowserstackHealingSetTcgTokenFailed','sjpBq','healFailure','Tycsf','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','22337vNUzaF','join','framework','pYxQE','RVDcg','s://','baOZS','BrowserstackHealing.pollResult\x20method\x20timed\x20out','edgeOptions_','../logger','\x22}}}','config','getId','chrome','sqpcz','oNpvW','setToken','error','490434tNeiYI','winstonLogger','EWfjD','logData','KGZcS','toLowerCase','fromEntries','TCG_REGION','aiSdkWrapper','handleSuccess','message','699333ohHFyq','ieOptions_','EiXgp','path','BrowserstackHealing','aiHeal_sessionToken','log','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','802248CxnDim','map_','keys','LtNyf','JOFRB','chromeOptions_','parameters_'];a59_0x273e=function(){return _0x58d489;};return a59_0x273e();}