const a87_0x40c748=a87_0x571c;(function(_0x550cd3,_0x2261aa){const _0x59fc4d=a87_0x571c,_0xec2279=_0x550cd3();while(!![]){try{const _0xe71a60=-parseInt(_0x59fc4d(0x20f))/0x1+-parseInt(_0x59fc4d(0x1ed))/0x2*(-parseInt(_0x59fc4d(0x1be))/0x3)+parseInt(_0x59fc4d(0x206))/0x4*(-parseInt(_0x59fc4d(0x1f6))/0x5)+-parseInt(_0x59fc4d(0x1bf))/0x6+-parseInt(_0x59fc4d(0x1bd))/0x7+-parseInt(_0x59fc4d(0x20a))/0x8+-parseInt(_0x59fc4d(0x210))/0x9*(-parseInt(_0x59fc4d(0x20b))/0xa);if(_0xe71a60===_0x2261aa)break;else _0xec2279['push'](_0xec2279['shift']());}catch(_0x380b3a){_0xec2279['push'](_0xec2279['shift']());}}}(a87_0x3ceb,0x43b2c));function a87_0x571c(_0x53668a,_0x57ab30){const _0x3ceb3b=a87_0x3ceb();return a87_0x571c=function(_0x571c19,_0x154aae){_0x571c19=_0x571c19-0x1a4;let _0x50ccce=_0x3ceb3b[_0x571c19];return _0x50ccce;},a87_0x571c(_0x53668a,_0x57ab30);}function a87_0x3ceb(){const _0x58b365=['pollResult','./autoHealHelper','XqXdu','forEach','gLQzN','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','get','aiHeal_isGroupAIEnabled','uPsOI','BrowserstackHealingHealFailureFailed','logData','string','isSelfHealEnabled','firefox','NvTMS','handleFailure','toLowerCase','using','selector','info','chromeOptions_','ptmWw','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','aiSdkWrapper','mtyzt','getTestName','ieOptions_','3303202yPFrwl','3999tzUxnL','776808MwuFpL','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','yiUUa','getGlobal','BrowserstackHealing.logData\x20method\x20timed\x20out','../../bin/utils/constants','../logger','BmUzR','BrowserstackHealing.pollResult\x20method\x20timed\x20out','microsoftedge','TCG_REGION','cancel','kGfgf','initializeHealingCapabilities','VvKZx','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','framework','BosFn','then','aiHeal_groupId','LCjJK','QYqTu','setTcgToken','getCommands','executeScript','JfyYw','safariOptions_','../../helpers/timeoutPromise','_handleEvent','POLL_HEALING_RESULT_TIMEOUT','name_','error','split','BrowserstackHealingSetTcgTokenFailed','race','YhERb','aiHealing','path','QyiYb','handleSuccess','browserstackSessionName','s://','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','HEALING_LOG_DATA_TIMEOUT','BrowserstackHealing.healFailure\x20method\x20timed\x20out','lAkjD','96vHKqHm','iNFqn','capabilities_','\x22:\x20{\x22endpoint\x22:\x20\x22','fromEntries','xfOnD','locatorType','winstonLogger','BrowserstackHealingPollResultFailed','255bEGMov','dDTXe','mWEsA','newCapabilities','BrowserstackHealing.setToken\x20method\x20timed\x20out','edge','\x20command','getId','initializeCapabilities','parameters_','value','{\x22region\x22:\x20\x22','BrowserstackHealing','SET_TCG_TOKEN_TIMEOUT','OHWPb','safari','39040DyJzmh','../globals','DbteL','../../ai-sdk-node/bundle','68472qZBrZp','688410ycyCOm','keys','browserName','aiHeal_sessionToken','537726ovxMYn','243bazNon','map_','cToDP','config','set','vEtUb','TCG_URL','chrome','message','getProjectName','odASn','getSession','QPaTB','replace'];a87_0x3ceb=function(){return _0x58b365;};return a87_0x3ceb();}const path=require(a87_0x40c748(0x1e4)),{commandRepository}=require(a87_0x40c748(0x21f)),constants=require(a87_0x40c748(0x1c4)),logger=require(a87_0x40c748(0x1c5))[a87_0x40c748(0x1f4)],globals=require(a87_0x40c748(0x207)),timeoutPromise=require(a87_0x40c748(0x1da)),isUndefinedOrNull=_0x52c03f=>_0x52c03f===undefined||_0x52c03f===null||_0x52c03f==='',isNotUndefinedOrNull=_0x317a8b=>!isUndefinedOrNull(_0x317a8b),isString=_0x8b7aaf=>isNotUndefinedOrNull(_0x8b7aaf)&&typeof _0x8b7aaf===a87_0x40c748(0x1ad);class AiSdkWrapper{constructor(){const _0x4a8985=a87_0x40c748,_0x4d1550={'gLQzN':function(_0x4833c4,_0x150a4a){return _0x4833c4(_0x150a4a);},'iNFqn':_0x4a8985(0x209)};this[_0x4a8985(0x202)]=undefined;try{this[_0x4a8985(0x202)]=_0x4d1550[_0x4a8985(0x1a6)](require,path['join'](__dirname,_0x4d1550[_0x4a8985(0x1ee)]));}catch(_0x1c0bbd){logger['error'](_0x4a8985(0x1e9)+(_0x1c0bbd&&_0x1c0bbd[_0x4a8985(0x218)]?_0x1c0bbd[_0x4a8985(0x218)]:''));}}[a87_0x40c748(0x1cc)](_0x24cd1d){const _0x2373ef=a87_0x40c748,_0x242466={};_0x242466[_0x2373ef(0x1e2)]=_0x2373ef(0x1f9),_0x242466[_0x2373ef(0x1ec)]=function(_0x33891d,_0x2fb0a4){return _0x33891d===_0x2fb0a4;},_0x242466['LCjJK']=_0x2373ef(0x217),_0x242466[_0x2373ef(0x1f7)]=_0x2373ef(0x1af),_0x242466[_0x2373ef(0x212)]=_0x2373ef(0x205),_0x242466['bKRaE']=_0x2373ef(0x1fb),_0x242466[_0x2373ef(0x1cd)]=_0x2373ef(0x1c8),_0x242466[_0x2373ef(0x1b0)]=function(_0x38ead9,_0x452cbd){return _0x38ead9===_0x452cbd;};const _0x10538d=_0x242466;try{const _0x3b8a85=this[_0x2373ef(0x202)][_0x2373ef(0x1fe)](Object[_0x2373ef(0x1f1)](_0x24cd1d['getCapabilities']()[_0x2373ef(0x211)]));console['log'](_0x10538d[_0x2373ef(0x1e2)],_0x3b8a85);if(_0x10538d['lAkjD'](_0x3b8a85?.[_0x2373ef(0x20d)]?.['toLowerCase'](),_0x10538d[_0x2373ef(0x1d3)]))_0x24cd1d[_0x2373ef(0x1b6)]=_0x3b8a85;else{if(_0x10538d['lAkjD'](_0x3b8a85?.['browserName']?.['toLowerCase'](),_0x10538d['dDTXe']))_0x24cd1d['firefoxOptions_']=_0x3b8a85;else{if(_0x10538d[_0x2373ef(0x1ec)](_0x3b8a85?.[_0x2373ef(0x20d)]?.[_0x2373ef(0x1b2)](),_0x10538d[_0x2373ef(0x212)]))_0x24cd1d[_0x2373ef(0x1d9)]=_0x3b8a85;else{if(_0x10538d[_0x2373ef(0x1ec)](_0x3b8a85?.[_0x2373ef(0x20d)]?.['toLowerCase'](),_0x10538d['bKRaE'])||_0x10538d[_0x2373ef(0x1ec)](_0x3b8a85?.['browserName']?.[_0x2373ef(0x1b2)](),_0x10538d[_0x2373ef(0x1cd)]))_0x24cd1d['edgeOptions_']=_0x3b8a85;else _0x10538d[_0x2373ef(0x1b0)](_0x3b8a85?.['browserName']?.[_0x2373ef(0x1b2)](),'ie')&&(_0x24cd1d[_0x2373ef(0x1bc)]=_0x3b8a85);}}}Object[_0x2373ef(0x20c)](_0x3b8a85)[_0x2373ef(0x1a5)](_0x54dac2=>{const _0x333eb4=_0x2373ef,_0x3a73fa=_0x24cd1d['capabilities_'][_0x333eb4(0x1a8)](_0x54dac2);_0x24cd1d[_0x333eb4(0x1ef)][_0x333eb4(0x214)](_0x54dac2,_0x3b8a85[_0x54dac2]);});}catch(_0x319e26){logger[_0x2373ef(0x1de)](_0x2373ef(0x1ce)+(_0x319e26&&_0x319e26[_0x2373ef(0x218)]?_0x319e26[_0x2373ef(0x218)]:''));}}async[a87_0x40c748(0x1d5)](_0x344dc4){const _0x309e0f=a87_0x40c748,_0x1fc609={'jXTrX':function(_0x3c4ffa,_0x46df6f,_0xda90ab,_0x421de6,_0x1fa321,_0x3551b5,_0x9c57a0){return _0x3c4ffa(_0x46df6f,_0xda90ab,_0x421de6,_0x1fa321,_0x3551b5,_0x9c57a0);},'lfVCZ':_0x309e0f(0x1fa),'XqXdu':_0x309e0f(0x1e0),'zzbLD':_0x309e0f(0x20e)},_0x158850=new Date(),_0x5b45fb=_0x1fc609['jXTrX'](timeoutPromise,constants[_0x309e0f(0x203)],_0x1fc609['lfVCZ'],_0x1fc609[_0x309e0f(0x1a4)],_0x158850,this[_0x309e0f(0x213)],this[_0x309e0f(0x1cf)]);await Promise[_0x309e0f(0x1e1)]([this['BrowserstackHealing']['setToken'](_0x344dc4,globals[_0x309e0f(0x1c2)](_0x1fc609['zzbLD']),constants['TCG_URL'])[_0x309e0f(0x1d1)](()=>{const _0x47320c=_0x309e0f;_0x5b45fb[_0x47320c(0x1ca)]();}),_0x5b45fb]);}async['_handleEvent'](_0x22cdb0,_0x3618b6,_0x5c6c71,_0x3b1abf){const _0x5cec6c=a87_0x40c748,_0x32ac3e={'OHWPb':function(_0x1ff4f3,_0x20eb36){return _0x1ff4f3===_0x20eb36;},'ROHVI':function(_0x5a5628,_0x3b3b21){return _0x5a5628===_0x3b3b21;},'JfyYw':function(_0x86633e,_0x23ff00){return _0x86633e(_0x23ff00);},'kGfgf':function(_0x3651e3,_0x5a76ad){return _0x3651e3(_0x5a76ad);},'mtyzt':function(_0x268b2b,_0x51fdbe){return _0x268b2b(_0x51fdbe);},'QyiYb':function(_0x4a5790,_0x1e5bdb){return _0x4a5790(_0x1e5bdb);},'yiUUa':function(_0x450ae2,_0xb0e7a9){return _0x450ae2(_0xb0e7a9);},'vEtUb':function(_0x20e824,_0xa6c973){return _0x20e824(_0xa6c973);},'gqNhL':_0x5cec6c(0x1e8),'BmUzR':function(_0x5a806f,_0x5ce083){return _0x5a806f(_0x5ce083);},'xfOnD':'aiHeal_userId','ptmWw':_0x5cec6c(0x1d2),'uPsOI':_0x5cec6c(0x1a9),'DbteL':function(_0x3c54e4,_0x13b1ad,_0x20ad55,_0x7edd5b,_0x26be80,_0x525952,_0x1371ae){return _0x3c54e4(_0x13b1ad,_0x20ad55,_0x7edd5b,_0x26be80,_0x525952,_0x1371ae);},'mWEsA':_0x5cec6c(0x1c3),'odASn':'BrowserstackHealingLogDataFailed','QYqTu':function(_0x2bf46f,_0x337d26,_0x561558,_0x5af26b,_0x1b7c26,_0x3115dc,_0x5a48f8){return _0x2bf46f(_0x337d26,_0x561558,_0x5af26b,_0x1b7c26,_0x3115dc,_0x5a48f8);},'sPIml':_0x5cec6c(0x1eb),'GzWBc':_0x5cec6c(0x1ab)},_0x41ecbc=(await _0x3618b6['getSession']())['getId']();let _0x35cb6f='';if(commandRepository[_0x5cec6c(0x1ae)]()&&_0x32ac3e[_0x5cec6c(0x204)](_0x3b1abf,![])||_0x32ac3e['ROHVI'](_0x3b1abf,!![])){const _0x32a700=_0x32ac3e[_0x5cec6c(0x1d8)](isNotUndefinedOrNull,_0x5c6c71[_0x5cec6c(0x1ff)][_0x5cec6c(0x1b3)])&&_0x32ac3e[_0x5cec6c(0x1cb)](isString,_0x5c6c71[_0x5cec6c(0x1ff)][_0x5cec6c(0x1b3)])?_0x5c6c71[_0x5cec6c(0x1ff)][_0x5cec6c(0x1b3)][_0x5cec6c(0x21d)](/'/g,'\x5c\x27')[_0x5cec6c(0x21d)](/"/g,'\x5c\x22'):'',_0x34b9e1=_0x32ac3e['mtyzt'](isNotUndefinedOrNull,_0x5c6c71[_0x5cec6c(0x1ff)][_0x5cec6c(0x1b3)])&&_0x32ac3e[_0x5cec6c(0x1d8)](isString,_0x5c6c71[_0x5cec6c(0x1ff)][_0x5cec6c(0x200)])?_0x5c6c71[_0x5cec6c(0x1ff)][_0x5cec6c(0x200)][_0x5cec6c(0x21d)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x1837bf=_0x32ac3e[_0x5cec6c(0x1d8)](isNotUndefinedOrNull,commandRepository[_0x5cec6c(0x219)]())&&_0x32ac3e[_0x5cec6c(0x1e5)](isString,commandRepository[_0x5cec6c(0x219)]())?commandRepository[_0x5cec6c(0x219)]()[_0x5cec6c(0x21d)](/'/g,'\x5c\x27')[_0x5cec6c(0x21d)](/"/g,'\x5c\x22'):'';let _0x454284=_0x32ac3e[_0x5cec6c(0x1c1)](isNotUndefinedOrNull,global[_0x5cec6c(0x1e7)])&&_0x32ac3e[_0x5cec6c(0x215)](isString,global[_0x5cec6c(0x1e7)])?global[_0x5cec6c(0x1e7)][_0x5cec6c(0x21d)](/'/g,'\x5c\x27')[_0x5cec6c(0x21d)](/"/g,'\x5c\x22'):'';!_0x454284&&(_0x454284=_0x32ac3e[_0x5cec6c(0x1cb)](isNotUndefinedOrNull,commandRepository[_0x5cec6c(0x1bb)]())&&_0x32ac3e['yiUUa'](isString,commandRepository[_0x5cec6c(0x1bb)]())?commandRepository[_0x5cec6c(0x1bb)]()[_0x5cec6c(0x21d)](/'/g,'\x5c\x27')[_0x5cec6c(0x21d)](/"/g,'\x5c\x22'):'');let _0x3cdb13=_0x5cec6c(0x201)+constants[_0x5cec6c(0x1c9)]+'\x22,\x20\x22tcgUrls\x22:\x20{\x22'+constants[_0x5cec6c(0x1c9)]+_0x5cec6c(0x1f0)+constants[_0x5cec6c(0x216)][_0x5cec6c(0x1df)](_0x32ac3e['gqNhL'])[0x1]+'\x22}}}';_0x3cdb13=_0x32ac3e[_0x5cec6c(0x1c6)](isNotUndefinedOrNull,_0x3cdb13)&&_0x32ac3e[_0x5cec6c(0x1ba)](isString,_0x3cdb13)?_0x3cdb13[_0x5cec6c(0x21d)](/'/g,'\x5c\x27')[_0x5cec6c(0x21d)](/"/g,'\x5c\x22'):'';const _0x5491c2=commandRepository[_0x5cec6c(0x1d6)](_0x41ecbc),_0x5d3852=globals[_0x5cec6c(0x1c2)](_0x32ac3e[_0x5cec6c(0x1f2)]),_0x374032=globals[_0x5cec6c(0x1c2)](_0x32ac3e[_0x5cec6c(0x1b7)]),_0x27263e=globals[_0x5cec6c(0x1c2)](_0x32ac3e[_0x5cec6c(0x1aa)]),_0x30ec7a=![],_0x3ffb37=new Date();if(_0x3b1abf){const _0x54ff0b=_0x32ac3e[_0x5cec6c(0x208)](timeoutPromise,constants[_0x5cec6c(0x1ea)],_0x32ac3e[_0x5cec6c(0x1f8)],_0x32ac3e[_0x5cec6c(0x21a)],_0x3ffb37,this['config'],this[_0x5cec6c(0x1cf)]);_0x35cb6f=await Promise[_0x5cec6c(0x1e1)]([this[_0x5cec6c(0x202)][_0x5cec6c(0x1ac)](_0x32a700,_0x34b9e1,_0x1837bf,_0x454284,_0x374032,_0x41ecbc,_0x5491c2,_0x3cdb13)[_0x5cec6c(0x1d1)](_0x2731c4=>{const _0x3aec8e=_0x5cec6c;return _0x54ff0b[_0x3aec8e(0x1ca)](),_0x2731c4;}),_0x54ff0b]);}else{if(commandRepository[_0x5cec6c(0x1ae)]()){const _0x168ccb=_0x32ac3e[_0x5cec6c(0x1d4)](timeoutPromise,constants['HEALING_FAILURE_TIMEOUT'],_0x32ac3e['sPIml'],_0x32ac3e['GzWBc'],_0x3ffb37,this[_0x5cec6c(0x213)],this['framework']);_0x35cb6f=await Promise[_0x5cec6c(0x1e1)]([this[_0x5cec6c(0x202)]['healFailure'](_0x32a700,_0x34b9e1,_0x1837bf,_0x454284,_0x5d3852,_0x374032,_0x41ecbc,_0x5491c2,_0x30ec7a,_0x27263e,_0x3cdb13)[_0x5cec6c(0x1d1)](_0x1fc257=>{return _0x168ccb['cancel'](),_0x1fc257;}),_0x168ccb]);}}_0x35cb6f&&await _0x3618b6[_0x5cec6c(0x1d7)](_0x35cb6f);}}async[a87_0x40c748(0x1e6)](_0x4393cf,_0x47ac18,_0x5810f1){const _0x2789c9=a87_0x40c748;try{await this[_0x2789c9(0x1db)](_0x4393cf,_0x47ac18,_0x5810f1,!![]);}catch(_0x289818){return logger[_0x2789c9(0x1de)](_0x2789c9(0x1b8)+(_0x289818&&_0x289818['message']?_0x289818[_0x2789c9(0x218)]:'')),![];}return!![];}async[a87_0x40c748(0x1b1)](_0x58d279,_0x1c4ad5,_0x4cf8ed){const _0x59b5d7=a87_0x40c748,_0x229bec={'QPaTB':function(_0xe5c2d5,_0x2f45f3,_0x40e871,_0x2b32db,_0x55a489,_0x192828,_0x1fcc78){return _0xe5c2d5(_0x2f45f3,_0x40e871,_0x2b32db,_0x55a489,_0x192828,_0x1fcc78);},'BosFn':_0x59b5d7(0x1c7),'xjonN':_0x59b5d7(0x1f5),'KBrFI':'aiHeal_sessionToken'};try{await this['_handleEvent'](_0x58d279,_0x1c4ad5,_0x4cf8ed,![]);const _0x54c554=(await _0x1c4ad5[_0x59b5d7(0x21b)]())[_0x59b5d7(0x1fd)](),_0x1197b8=new Date(),_0x8df830=_0x229bec[_0x59b5d7(0x21c)](timeoutPromise,constants[_0x59b5d7(0x1dc)],_0x229bec[_0x59b5d7(0x1d0)],_0x229bec['xjonN'],_0x1197b8,this[_0x59b5d7(0x213)],this[_0x59b5d7(0x1cf)]),_0x2049b4=await Promise[_0x59b5d7(0x1e1)]([this['BrowserstackHealing'][_0x59b5d7(0x21e)](constants[_0x59b5d7(0x216)],_0x54c554,globals['getGlobal'](_0x229bec['KBrFI']))[_0x59b5d7(0x1d1)](_0x504df=>{const _0x7683c2=_0x59b5d7;return _0x8df830[_0x7683c2(0x1ca)](),_0x504df;}),_0x8df830]);if(_0x2049b4&&_0x2049b4[_0x59b5d7(0x1b4)]&&_0x2049b4[_0x59b5d7(0x200)]){const _0x245430={};return _0x245430[_0x59b5d7(0x1f3)]=_0x2049b4[_0x59b5d7(0x1b4)],_0x245430['locatorValue']=_0x2049b4[_0x59b5d7(0x200)],_0x245430['aiHealing']=!![],_0x245430;}const _0x1912e5={};return _0x1912e5[_0x59b5d7(0x1f3)]=_0x4cf8ed[_0x59b5d7(0x1ff)]['using'],_0x1912e5['locatorValue']=_0x2049b4[_0x59b5d7(0x200)],_0x1912e5[_0x59b5d7(0x1e3)]=!![],_0x1912e5;}catch(_0x4dddb2){return logger['debug'](_0x59b5d7(0x1c0)+(_0x4dddb2&&_0x4dddb2['message']?_0x4dddb2[_0x59b5d7(0x218)]:'')),logger[_0x59b5d7(0x1b5)](_0x59b5d7(0x1a7)+_0x4cf8ed[_0x59b5d7(0x1dd)]+_0x59b5d7(0x1fc)),_0x4cf8ed;}}}exports[a87_0x40c748(0x1b9)]=Object['freeze'](new AiSdkWrapper());