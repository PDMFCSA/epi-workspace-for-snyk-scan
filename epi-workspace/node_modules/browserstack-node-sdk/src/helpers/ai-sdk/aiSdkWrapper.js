const a85_0x211804=a85_0x6277;(function(_0x570d53,_0x177fda){const _0x3c58d6=a85_0x6277,_0x4affcf=_0x570d53();while(!![]){try{const _0x36cfc9=parseInt(_0x3c58d6(0xaa))/0x1*(parseInt(_0x3c58d6(0x91))/0x2)+parseInt(_0x3c58d6(0xd4))/0x3+-parseInt(_0x3c58d6(0xaf))/0x4*(-parseInt(_0x3c58d6(0x8b))/0x5)+-parseInt(_0x3c58d6(0xc7))/0x6*(-parseInt(_0x3c58d6(0xe8))/0x7)+parseInt(_0x3c58d6(0x77))/0x8+-parseInt(_0x3c58d6(0xe3))/0x9+parseInt(_0x3c58d6(0x79))/0xa*(-parseInt(_0x3c58d6(0xca))/0xb);if(_0x36cfc9===_0x177fda)break;else _0x4affcf['push'](_0x4affcf['shift']());}catch(_0x154595){_0x4affcf['push'](_0x4affcf['shift']());}}}(a85_0x4c20,0x3771f));function a85_0x4c20(){const _0x225780=['YqMtL','dYtsr','\x22,\x20\x22tcgUrls\x22:\x20{\x22','microsoftedge','yHAzo','parameters_','browserstackSessionName','BrowserstackHealing','BrowserstackHealing.logData\x20method\x20timed\x20out','config','../../bin/utils/constants','xXPmN','name_','error','OwkSv','message','\x22:\x20{\x22endpoint\x22:\x20\x22','NFJyV','../logger','\x22}}}','HEALING_LOG_DATA_TIMEOUT','firefoxOptions_','then','getSession','1OeFzrP','get','mPEUt','QWAKY','aiHealing','3660gfHNyn','wGJiJ','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','getProjectName','VUPaR','setTcgToken','BrowserstackHealingHealFailureFailed','locatorValue','aiHeal_userId','LPYMm','executeScript','getId','log','set','map_','aiHeal_sessionToken','SksYb','setToken','edge','split','NyXCJ','handleFailure','yHWxM','firefox','12nCJqWi','UQjLH','HEALING_FAILURE_TIMEOUT','9207836XYxzcM','JZuwh','winstonLogger','POLL_HEALING_RESULT_TIMEOUT','info','capabilities_','kijlN','forEach','edgeOptions_','fIjPy','240816EMzjlt','\x20command','getTestName','BrowserstackHealingPollResultFailed','initializeCapabilities','race','initializeHealingCapabilities','BrowserstackHealing.healFailure\x20method\x20timed\x20out','ctoAk','framework','sShIB','TCG_URL','join','kAvdh','GKYEZ','1570968fbHVHQ','BrowserstackHealing.setToken\x20method\x20timed\x20out','jBfUH','browserName','safari','560882tSWoQR','pollResult','Rwisc','cancel','string','getGlobal','fromEntries','UvlqE','TCG_REGION','ApPYS','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','aiSdkWrapper','locatorType','using','kQZnu','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','_handleEvent','../../ai-sdk-node/bundle','2513240VQsPOX','toLowerCase','10fRxXNW','../../helpers/timeoutPromise','debug','FdACZ','ATwZT','ieOptions_','EFFXA','./autoHealHelper','../globals','keys','chrome','replace','BrowserstackHealingLogDataFailed','yToqR','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','JCdMB','chromeOptions_','isSelfHealEnabled','2085xEQXBT','getCapabilities','yaGER','path','freeze','value','604994pJhsxv'];a85_0x4c20=function(){return _0x225780;};return a85_0x4c20();}const path=require(a85_0x211804(0x8e)),{commandRepository}=require(a85_0x211804(0x80)),constants=require(a85_0x211804(0x9c)),logger=require(a85_0x211804(0xa4))[a85_0x211804(0xcc)],globals=require(a85_0x211804(0x81)),timeoutPromise=require(a85_0x211804(0x7a)),isUndefinedOrNull=_0x47032a=>_0x47032a===undefined||_0x47032a===null||_0x47032a==='',isNotUndefinedOrNull=_0x1e8602=>!isUndefinedOrNull(_0x1e8602),isString=_0x4b66c2=>isNotUndefinedOrNull(_0x4b66c2)&&typeof _0x4b66c2===a85_0x211804(0x69);class AiSdkWrapper{constructor(){const _0x1311ab=a85_0x211804,_0xe56431={'NFJyV':function(_0x390be8,_0x5d8182){return _0x390be8(_0x5d8182);},'kQZnu':_0x1311ab(0x76)};this['BrowserstackHealing']=undefined;try{this[_0x1311ab(0x99)]=_0xe56431[_0x1311ab(0xa3)](require,path[_0x1311ab(0xe0)](__dirname,_0xe56431[_0x1311ab(0x73)]));}catch(_0x41177b){logger['error'](_0x1311ab(0xb1)+(_0x41177b&&_0x41177b[_0x1311ab(0xa1)]?_0x41177b['message']:''));}}[a85_0x211804(0xda)](_0x2d66d8){const _0x3fbaad=a85_0x211804,_0x2c3570={};_0x2c3570[_0x3fbaad(0xdc)]='newCapabilities',_0x2c3570['NyXCJ']=function(_0x2d86e6,_0x30e228){return _0x2d86e6===_0x30e228;},_0x2c3570[_0x3fbaad(0xc5)]=_0x3fbaad(0x83),_0x2c3570[_0x3fbaad(0xe1)]=function(_0x18e2a9,_0x3a37b7){return _0x18e2a9===_0x3a37b7;},_0x2c3570['Rwisc']=_0x3fbaad(0xc6),_0x2c3570[_0x3fbaad(0x96)]=function(_0x81f8ae,_0x50b71b){return _0x81f8ae===_0x50b71b;},_0x2c3570['eaXnl']=_0x3fbaad(0xe7),_0x2c3570[_0x3fbaad(0xac)]=function(_0x40daf7,_0x5b9395){return _0x40daf7===_0x5b9395;},_0x2c3570[_0x3fbaad(0x8d)]=_0x3fbaad(0xc1),_0x2c3570[_0x3fbaad(0x92)]=_0x3fbaad(0x95);const _0xc2dd81=_0x2c3570;try{const _0x428d1c=this[_0x3fbaad(0x99)][_0x3fbaad(0xd8)](Object[_0x3fbaad(0x6b)](_0x2d66d8[_0x3fbaad(0x8c)]()[_0x3fbaad(0xbd)]));console[_0x3fbaad(0xbb)](_0xc2dd81[_0x3fbaad(0xdc)],_0x428d1c);if(_0xc2dd81[_0x3fbaad(0xc3)](_0x428d1c?.[_0x3fbaad(0xe6)]?.['toLowerCase'](),_0xc2dd81[_0x3fbaad(0xc5)]))_0x2d66d8[_0x3fbaad(0x89)]=_0x428d1c;else{if(_0xc2dd81['kAvdh'](_0x428d1c?.[_0x3fbaad(0xe6)]?.[_0x3fbaad(0x78)](),_0xc2dd81[_0x3fbaad(0xea)]))_0x2d66d8[_0x3fbaad(0xa7)]=_0x428d1c;else{if(_0xc2dd81[_0x3fbaad(0x96)](_0x428d1c?.[_0x3fbaad(0xe6)]?.[_0x3fbaad(0x78)](),_0xc2dd81['eaXnl']))_0x2d66d8['safariOptions_']=_0x428d1c;else{if(_0xc2dd81[_0x3fbaad(0xac)](_0x428d1c?.[_0x3fbaad(0xe6)]?.[_0x3fbaad(0x78)](),_0xc2dd81[_0x3fbaad(0x8d)])||_0xc2dd81['NyXCJ'](_0x428d1c?.[_0x3fbaad(0xe6)]?.['toLowerCase'](),_0xc2dd81[_0x3fbaad(0x92)]))_0x2d66d8[_0x3fbaad(0xd2)]=_0x428d1c;else _0xc2dd81[_0x3fbaad(0xe1)](_0x428d1c?.['browserName']?.[_0x3fbaad(0x78)](),'ie')&&(_0x2d66d8[_0x3fbaad(0x7e)]=_0x428d1c);}}}Object[_0x3fbaad(0x82)](_0x428d1c)[_0x3fbaad(0xd1)](_0x203bf6=>{const _0xdf4a6c=_0x3fbaad,_0x33d81a=_0x2d66d8[_0xdf4a6c(0xcf)][_0xdf4a6c(0xab)](_0x203bf6);_0x2d66d8[_0xdf4a6c(0xcf)][_0xdf4a6c(0xbc)](_0x203bf6,_0x428d1c[_0x203bf6]);});}catch(_0x10167f){logger[_0x3fbaad(0x9f)](_0x3fbaad(0x74)+(_0x10167f&&_0x10167f[_0x3fbaad(0xa1)]?_0x10167f[_0x3fbaad(0xa1)]:''));}}async[a85_0x211804(0xb4)](_0x50593d){const _0x17608c=a85_0x211804,_0x58fef0={'FdWvO':function(_0x17bbf3,_0x344d7d,_0xa651a4,_0x37e16f,_0x412b3e,_0x3e7b94,_0x4557f9){return _0x17bbf3(_0x344d7d,_0xa651a4,_0x37e16f,_0x412b3e,_0x3e7b94,_0x4557f9);},'OwkSv':_0x17608c(0xe4),'EFFXA':'BrowserstackHealingSetTcgTokenFailed','jBfUH':_0x17608c(0xbe)},_0x1cf04d=new Date(),_0x28e08f=_0x58fef0['FdWvO'](timeoutPromise,constants['SET_TCG_TOKEN_TIMEOUT'],_0x58fef0[_0x17608c(0xa0)],_0x58fef0[_0x17608c(0x7f)],_0x1cf04d,this['config'],this[_0x17608c(0xdd)]);await Promise[_0x17608c(0xd9)]([this[_0x17608c(0x99)][_0x17608c(0xc0)](_0x50593d,globals[_0x17608c(0x6a)](_0x58fef0[_0x17608c(0xe5)]),constants[_0x17608c(0xdf)])['then'](()=>{_0x28e08f['cancel']();}),_0x28e08f]);}async['_handleEvent'](_0x1564a9,_0x41a059,_0x498abc,_0x175ef7){const _0x111984=a85_0x211804,_0x251918={'JCdMB':function(_0x596acd,_0x31127e){return _0x596acd===_0x31127e;},'yToqR':function(_0x80292c,_0x4124fd){return _0x80292c===_0x4124fd;},'VUPaR':function(_0x33efb1,_0x595359){return _0x33efb1(_0x595359);},'wGJiJ':function(_0x565ecd,_0x40f361){return _0x565ecd(_0x40f361);},'UvlqE':function(_0x1e2168,_0x1db624){return _0x1e2168(_0x1db624);},'xXPmN':function(_0x4cbc57,_0x3f0d65){return _0x4cbc57(_0x3f0d65);},'LPYMm':'s://','SksYb':function(_0x26672e,_0x2629bc){return _0x26672e(_0x2629bc);},'wyVMD':function(_0x8d04e2,_0x27cf00){return _0x8d04e2(_0x27cf00);},'JZuwh':_0x111984(0xb7),'kijlN':'aiHeal_groupId','ATwZT':'aiHeal_isGroupAIEnabled','QWAKY':function(_0xd5f9ba,_0x2473cd,_0x182560,_0x49755d,_0x5206ad,_0x925545,_0x5181c0){return _0xd5f9ba(_0x2473cd,_0x182560,_0x49755d,_0x5206ad,_0x925545,_0x5181c0);},'GKYEZ':_0x111984(0x9a),'SrlUV':_0x111984(0x85),'fIjPy':function(_0x3f06d6,_0x62afb,_0x4dd521,_0x338bc1,_0x17f04b,_0x2c164d,_0x52a4dc){return _0x3f06d6(_0x62afb,_0x4dd521,_0x338bc1,_0x17f04b,_0x2c164d,_0x52a4dc);},'UQjLH':_0x111984(0xdb),'FdACZ':_0x111984(0xb5)},_0x7edad9=(await _0x41a059[_0x111984(0xa9)]())['getId']();let _0x2b5621='';if(commandRepository[_0x111984(0x8a)]()&&_0x251918[_0x111984(0x88)](_0x175ef7,![])||_0x251918[_0x111984(0x86)](_0x175ef7,!![])){const _0x27dda9=_0x251918[_0x111984(0xb3)](isNotUndefinedOrNull,_0x498abc[_0x111984(0x97)][_0x111984(0x72)])&&_0x251918['VUPaR'](isString,_0x498abc['parameters_'][_0x111984(0x72)])?_0x498abc[_0x111984(0x97)]['using'][_0x111984(0x84)](/'/g,'\x5c\x27')[_0x111984(0x84)](/"/g,'\x5c\x22'):'',_0x58c948=_0x251918[_0x111984(0xb0)](isNotUndefinedOrNull,_0x498abc[_0x111984(0x97)][_0x111984(0x72)])&&_0x251918[_0x111984(0x6c)](isString,_0x498abc[_0x111984(0x97)][_0x111984(0x90)])?_0x498abc['parameters_'][_0x111984(0x90)][_0x111984(0x84)](/'/g,'\x5c\x27')[_0x111984(0x84)](/"/g,'\x5c\x22'):'',_0xbc3732=_0x251918[_0x111984(0x6c)](isNotUndefinedOrNull,commandRepository['getProjectName']())&&_0x251918['xXPmN'](isString,commandRepository[_0x111984(0xb2)]())?commandRepository[_0x111984(0xb2)]()[_0x111984(0x84)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';let _0x58860f=_0x251918[_0x111984(0x9d)](isNotUndefinedOrNull,global[_0x111984(0x98)])&&_0x251918[_0x111984(0x9d)](isString,global[_0x111984(0x98)])?global['browserstackSessionName']['replace'](/'/g,'\x5c\x27')[_0x111984(0x84)](/"/g,'\x5c\x22'):'';!_0x58860f&&(_0x58860f=_0x251918[_0x111984(0xb0)](isNotUndefinedOrNull,commandRepository[_0x111984(0xd6)]())&&_0x251918[_0x111984(0x9d)](isString,commandRepository[_0x111984(0xd6)]())?commandRepository[_0x111984(0xd6)]()['replace'](/'/g,'\x5c\x27')[_0x111984(0x84)](/"/g,'\x5c\x22'):'');let _0x5244f0='{\x22region\x22:\x20\x22'+constants[_0x111984(0x6d)]+_0x111984(0x94)+constants[_0x111984(0x6d)]+_0x111984(0xa2)+constants['TCG_URL'][_0x111984(0xc2)](_0x251918[_0x111984(0xb8)])[0x1]+_0x111984(0xa5);_0x5244f0=_0x251918[_0x111984(0xbf)](isNotUndefinedOrNull,_0x5244f0)&&_0x251918['wyVMD'](isString,_0x5244f0)?_0x5244f0[_0x111984(0x84)](/'/g,'\x5c\x27')[_0x111984(0x84)](/"/g,'\x5c\x22'):'';const _0x2e9055=commandRepository['getCommands'](_0x7edad9),_0xad5639=globals[_0x111984(0x6a)](_0x251918[_0x111984(0xcb)]),_0x584c7c=globals[_0x111984(0x6a)](_0x251918[_0x111984(0xd0)]),_0x11c419=globals[_0x111984(0x6a)](_0x251918[_0x111984(0x7d)]),_0x4ca36f=![],_0xf075a0=new Date();if(_0x175ef7){const _0xfb894a=_0x251918[_0x111984(0xad)](timeoutPromise,constants[_0x111984(0xa6)],_0x251918[_0x111984(0xe2)],_0x251918['SrlUV'],_0xf075a0,this[_0x111984(0x9b)],this[_0x111984(0xdd)]);_0x2b5621=await Promise[_0x111984(0xd9)]([this['BrowserstackHealing']['logData'](_0x27dda9,_0x58c948,_0xbc3732,_0x58860f,_0x584c7c,_0x7edad9,_0x2e9055,_0x5244f0)[_0x111984(0xa8)](_0x517077=>{const _0x99fab0=_0x111984;return _0xfb894a[_0x99fab0(0xeb)](),_0x517077;}),_0xfb894a]);}else{if(commandRepository[_0x111984(0x8a)]()){const _0x37255f=_0x251918[_0x111984(0xd3)](timeoutPromise,constants[_0x111984(0xc9)],_0x251918[_0x111984(0xc8)],_0x251918[_0x111984(0x7c)],_0xf075a0,this[_0x111984(0x9b)],this[_0x111984(0xdd)]);_0x2b5621=await Promise[_0x111984(0xd9)]([this[_0x111984(0x99)]['healFailure'](_0x27dda9,_0x58c948,_0xbc3732,_0x58860f,_0xad5639,_0x584c7c,_0x7edad9,_0x2e9055,_0x4ca36f,_0x11c419,_0x5244f0)[_0x111984(0xa8)](_0x21343c=>{const _0x4a6b31=_0x111984;return _0x37255f[_0x4a6b31(0xeb)](),_0x21343c;}),_0x37255f]);}}_0x2b5621&&await _0x41a059[_0x111984(0xb9)](_0x2b5621);}}async['handleSuccess'](_0x4b4905,_0x4c2930,_0x402f18){const _0x39ed41=a85_0x211804;try{await this[_0x39ed41(0x75)](_0x4b4905,_0x4c2930,_0x402f18,!![]);}catch(_0x4e4b04){return logger[_0x39ed41(0x9f)](_0x39ed41(0x6f)+(_0x4e4b04&&_0x4e4b04[_0x39ed41(0xa1)]?_0x4e4b04[_0x39ed41(0xa1)]:'')),![];}return!![];}async[a85_0x211804(0xc4)](_0x111890,_0x3750b6,_0x53ef25){const _0x3c2685=a85_0x211804,_0x3712c2={'ApPYS':function(_0x546e56,_0xcd8ee2,_0x270b7f,_0x56f5ac,_0x2981f3,_0x86bfca,_0x1046d5){return _0x546e56(_0xcd8ee2,_0x270b7f,_0x56f5ac,_0x2981f3,_0x86bfca,_0x1046d5);},'dYtsr':'BrowserstackHealing.pollResult\x20method\x20timed\x20out','sShIB':_0x3c2685(0xd7),'PXZHv':_0x3c2685(0xbe)};try{await this[_0x3c2685(0x75)](_0x111890,_0x3750b6,_0x53ef25,![]);const _0xb65c62=(await _0x3750b6['getSession']())[_0x3c2685(0xba)](),_0x1d3133=new Date(),_0x8f3ae6=_0x3712c2[_0x3c2685(0x6e)](timeoutPromise,constants[_0x3c2685(0xcd)],_0x3712c2[_0x3c2685(0x93)],_0x3712c2[_0x3c2685(0xde)],_0x1d3133,this['config'],this[_0x3c2685(0xdd)]),_0x18d6cf=await Promise['race']([this[_0x3c2685(0x99)][_0x3c2685(0xe9)](constants[_0x3c2685(0xdf)],_0xb65c62,globals[_0x3c2685(0x6a)](_0x3712c2['PXZHv']))[_0x3c2685(0xa8)](_0x54108a=>{const _0x1c3dc4=_0x3c2685;return _0x8f3ae6[_0x1c3dc4(0xeb)](),_0x54108a;}),_0x8f3ae6]);if(_0x18d6cf&&_0x18d6cf['selector']&&_0x18d6cf[_0x3c2685(0x90)]){const _0xf50848={};return _0xf50848[_0x3c2685(0x71)]=_0x18d6cf['selector'],_0xf50848['locatorValue']=_0x18d6cf[_0x3c2685(0x90)],_0xf50848[_0x3c2685(0xae)]=!![],_0xf50848;}const _0x28e683={};return _0x28e683['locatorType']=_0x53ef25[_0x3c2685(0x97)][_0x3c2685(0x72)],_0x28e683[_0x3c2685(0xb6)]=_0x18d6cf[_0x3c2685(0x90)],_0x28e683[_0x3c2685(0xae)]=!![],_0x28e683;}catch(_0x2ae683){return logger[_0x3c2685(0x7b)](_0x3c2685(0x87)+(_0x2ae683&&_0x2ae683['message']?_0x2ae683[_0x3c2685(0xa1)]:'')),logger[_0x3c2685(0xce)]('Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20'+_0x53ef25[_0x3c2685(0x9e)]+_0x3c2685(0xd5)),_0x53ef25;}}}function a85_0x6277(_0x381cbb,_0x5e2c49){const _0x4c2059=a85_0x4c20();return a85_0x6277=function(_0x62775c,_0x2f065d){_0x62775c=_0x62775c-0x69;let _0x41154b=_0x4c2059[_0x62775c];return _0x41154b;},a85_0x6277(_0x381cbb,_0x5e2c49);}exports[a85_0x211804(0x70)]=Object[a85_0x211804(0x8f)](new AiSdkWrapper());