const a99_0x15dc0a=a99_0x1941;(function(_0x500da2,_0xf69d94){const _0x5e961b=a99_0x1941,_0x354e9b=_0x500da2();while(!![]){try{const _0x4f704c=parseInt(_0x5e961b(0x19d))/0x1*(-parseInt(_0x5e961b(0x149))/0x2)+parseInt(_0x5e961b(0x137))/0x3+parseInt(_0x5e961b(0x16b))/0x4*(-parseInt(_0x5e961b(0x173))/0x5)+-parseInt(_0x5e961b(0x182))/0x6+-parseInt(_0x5e961b(0x19f))/0x7*(-parseInt(_0x5e961b(0x157))/0x8)+-parseInt(_0x5e961b(0x16a))/0x9+parseInt(_0x5e961b(0x1a8))/0xa;if(_0x4f704c===_0xf69d94)break;else _0x354e9b['push'](_0x354e9b['shift']());}catch(_0x4bbc01){_0x354e9b['push'](_0x354e9b['shift']());}}}(a99_0x54e1,0x95a73));function a99_0x1941(_0x1b9f94,_0x2ea660){const _0x54e13e=a99_0x54e1();return a99_0x1941=function(_0x194152,_0x5a89c2){_0x194152=_0x194152-0x133;let _0xda3f6=_0x54e13e[_0x194152];return _0xda3f6;},a99_0x1941(_0x1b9f94,_0x2ea660);}const path=require(a99_0x15dc0a(0x17b)),{commandRepository}=require(a99_0x15dc0a(0x18b)),constants=require(a99_0x15dc0a(0x13e)),logger=require(a99_0x15dc0a(0x1a7))[a99_0x15dc0a(0x198)],globals=require(a99_0x15dc0a(0x143)),timeoutPromise=require('../../helpers/timeoutPromise'),isUndefinedOrNull=_0x42be22=>_0x42be22===undefined||_0x42be22===null||_0x42be22==='',isNotUndefinedOrNull=_0x2704ae=>!isUndefinedOrNull(_0x2704ae),isString=_0x2bc9f1=>isNotUndefinedOrNull(_0x2bc9f1)&&typeof _0x2bc9f1==='string';class AiSdkWrapper{constructor(){const _0x6f0c4b=a99_0x15dc0a,_0x45bb39={'APnyy':function(_0xec676d,_0x130f1c){return _0xec676d(_0x130f1c);},'KAgaB':_0x6f0c4b(0x19a)};this['BrowserstackHealing']=undefined;try{this['BrowserstackHealing']=_0x45bb39[_0x6f0c4b(0x172)](require,path[_0x6f0c4b(0x18d)](__dirname,_0x45bb39['KAgaB']));}catch(_0x4af08a){logger['error']('Unable\x20to\x20load\x20healing\x20module,\x20error:\x20'+(_0x4af08a&&_0x4af08a[_0x6f0c4b(0x19e)]?_0x4af08a[_0x6f0c4b(0x19e)]:''));}}[a99_0x15dc0a(0x141)](_0x59bbf1){const _0x3af118=a99_0x15dc0a,_0x2fb91e={};_0x2fb91e[_0x3af118(0x185)]=_0x3af118(0x135),_0x2fb91e[_0x3af118(0x18f)]=function(_0x2e433c,_0x4ea9e5){return _0x2e433c===_0x4ea9e5;},_0x2fb91e['DmsQg']=_0x3af118(0x193),_0x2fb91e['EwdMA']=function(_0x5dac09,_0x2be328){return _0x5dac09===_0x2be328;},_0x2fb91e[_0x3af118(0x163)]=_0x3af118(0x150),_0x2fb91e['CPLxr']=function(_0x46e6e1,_0x3060d8){return _0x46e6e1===_0x3060d8;},_0x2fb91e[_0x3af118(0x184)]='safari',_0x2fb91e[_0x3af118(0x162)]=function(_0x48be3b,_0x10dcdf){return _0x48be3b===_0x10dcdf;},_0x2fb91e[_0x3af118(0x13d)]='edge',_0x2fb91e[_0x3af118(0x192)]=_0x3af118(0x170);const _0x3d1cca=_0x2fb91e;try{const _0x172a6b=this[_0x3af118(0x167)][_0x3af118(0x13f)](Object[_0x3af118(0x179)](_0x59bbf1[_0x3af118(0x158)]()['map_']));console['log'](_0x3d1cca[_0x3af118(0x185)],_0x172a6b);if(_0x3d1cca['Dvdza'](_0x172a6b?.[_0x3af118(0x166)]?.[_0x3af118(0x155)](),_0x3d1cca[_0x3af118(0x151)]))_0x59bbf1[_0x3af118(0x140)]=_0x172a6b;else{if(_0x3d1cca['EwdMA'](_0x172a6b?.[_0x3af118(0x166)]?.['toLowerCase'](),_0x3d1cca[_0x3af118(0x163)]))_0x59bbf1[_0x3af118(0x174)]=_0x172a6b;else{if(_0x3d1cca[_0x3af118(0x1a9)](_0x172a6b?.[_0x3af118(0x166)]?.[_0x3af118(0x155)](),_0x3d1cca[_0x3af118(0x184)]))_0x59bbf1[_0x3af118(0x14a)]=_0x172a6b;else{if(_0x3d1cca[_0x3af118(0x162)](_0x172a6b?.[_0x3af118(0x166)]?.[_0x3af118(0x155)](),_0x3d1cca[_0x3af118(0x13d)])||_0x3d1cca[_0x3af118(0x1a9)](_0x172a6b?.[_0x3af118(0x166)]?.[_0x3af118(0x155)](),_0x3d1cca[_0x3af118(0x192)]))_0x59bbf1['edgeOptions_']=_0x172a6b;else _0x3d1cca[_0x3af118(0x14d)](_0x172a6b?.[_0x3af118(0x166)]?.[_0x3af118(0x155)](),'ie')&&(_0x59bbf1[_0x3af118(0x180)]=_0x172a6b);}}}Object[_0x3af118(0x187)](_0x172a6b)['forEach'](_0x45fe47=>{const _0x3fada9=_0x3af118,_0xa6bbf5=_0x59bbf1[_0x3fada9(0x14f)]['get'](_0x45fe47);_0x59bbf1[_0x3fada9(0x14f)]['set'](_0x45fe47,_0x172a6b[_0x45fe47]);});}catch(_0x142358){logger['error'](_0x3af118(0x176)+(_0x142358&&_0x142358[_0x3af118(0x19e)]?_0x142358['message']:''));}}async[a99_0x15dc0a(0x175)](_0x3002d0){const _0x46fae1=a99_0x15dc0a,_0x52e507={'geOgs':function(_0x230921,_0x3dab17,_0xc59ef7,_0x564d8b,_0x5a8bf3,_0xf6db28,_0x4be6de){return _0x230921(_0x3dab17,_0xc59ef7,_0x564d8b,_0x5a8bf3,_0xf6db28,_0x4be6de);},'FvsuZ':_0x46fae1(0x153),'rpPgf':_0x46fae1(0x144),'JcaML':'aiHeal_sessionToken'},_0x2d5be8=new Date(),_0x34c9f8=_0x52e507[_0x46fae1(0x15c)](timeoutPromise,constants[_0x46fae1(0x169)],_0x52e507[_0x46fae1(0x18c)],_0x52e507['rpPgf'],_0x2d5be8,this[_0x46fae1(0x197)],this['framework']);await Promise['race']([this[_0x46fae1(0x167)][_0x46fae1(0x195)](_0x3002d0,globals[_0x46fae1(0x138)](_0x52e507[_0x46fae1(0x19c)]),constants['TCG_URL'])['then'](()=>{const _0x4598f2=_0x46fae1;_0x34c9f8[_0x4598f2(0x171)]();}),_0x34c9f8]);}async['_handleEvent'](_0x35bd74,_0x484c4e,_0x179ddf,_0x3550f8){const _0x5d2e45=a99_0x15dc0a,_0x32363d={'ATmlH':function(_0x34791d,_0xccd42e){return _0x34791d===_0xccd42e;},'YRlfl':function(_0x2523e3,_0x5a10d2){return _0x2523e3===_0x5a10d2;},'cdNcQ':function(_0x13d54f,_0x4ef493){return _0x13d54f(_0x4ef493);},'qnwwo':function(_0x48eb31,_0xb19ae6){return _0x48eb31(_0xb19ae6);},'wWmwm':function(_0x43b0a6,_0x5255cf){return _0x43b0a6(_0x5255cf);},'BXLPv':function(_0x3616a4,_0x31cc95){return _0x3616a4(_0x31cc95);},'exzsh':function(_0x567c3f,_0x1ef12d){return _0x567c3f(_0x1ef12d);},'Ctxqu':function(_0x4957ea,_0x25466e){return _0x4957ea(_0x25466e);},'HiqbJ':function(_0x927dc0,_0x124475){return _0x927dc0(_0x124475);},'QjTrJ':_0x5d2e45(0x1a3),'JcCxc':function(_0x165872,_0xdfc920){return _0x165872(_0xdfc920);},'OfXfW':_0x5d2e45(0x160),'sViyF':_0x5d2e45(0x168),'CrRdo':_0x5d2e45(0x156),'ObiOq':function(_0xbf5047,_0x365eff,_0xd4b958,_0x463a33,_0x44a38b,_0x451fc5,_0x9204fb){return _0xbf5047(_0x365eff,_0xd4b958,_0x463a33,_0x44a38b,_0x451fc5,_0x9204fb);},'IZTbW':_0x5d2e45(0x14c),'LSojq':'BrowserstackHealingLogDataFailed','woIiw':function(_0x1aaeaf,_0x2442dd,_0x29a39f,_0x1ad61f,_0x18f7f4,_0x34bd2a,_0x2b5d1b){return _0x1aaeaf(_0x2442dd,_0x29a39f,_0x1ad61f,_0x18f7f4,_0x34bd2a,_0x2b5d1b);},'wwwIx':_0x5d2e45(0x194),'DTZqc':'BrowserstackHealingHealFailureFailed'},_0x40cf6d=(await _0x484c4e[_0x5d2e45(0x16f)]())[_0x5d2e45(0x146)]();let _0x4f1763='';if(commandRepository[_0x5d2e45(0x17d)]()&&_0x32363d['ATmlH'](_0x3550f8,![])||_0x32363d['YRlfl'](_0x3550f8,!![])){const _0xd5deb4=_0x32363d[_0x5d2e45(0x183)](isNotUndefinedOrNull,_0x179ddf[_0x5d2e45(0x165)][_0x5d2e45(0x196)])&&_0x32363d[_0x5d2e45(0x183)](isString,_0x179ddf[_0x5d2e45(0x165)][_0x5d2e45(0x196)])?_0x179ddf[_0x5d2e45(0x165)][_0x5d2e45(0x196)]['replace'](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x3e74dc=_0x32363d[_0x5d2e45(0x177)](isNotUndefinedOrNull,_0x179ddf[_0x5d2e45(0x165)]['using'])&&_0x32363d['wWmwm'](isString,_0x179ddf[_0x5d2e45(0x165)][_0x5d2e45(0x13b)])?_0x179ddf[_0x5d2e45(0x165)][_0x5d2e45(0x13b)][_0x5d2e45(0x1a5)](/'/g,'\x5c\x27')[_0x5d2e45(0x1a5)](/"/g,'\x5c\x22'):'',_0x2bd89c=_0x32363d[_0x5d2e45(0x189)](isNotUndefinedOrNull,commandRepository['getProjectName']())&&_0x32363d['exzsh'](isString,commandRepository[_0x5d2e45(0x15d)]())?commandRepository[_0x5d2e45(0x15d)]()[_0x5d2e45(0x1a5)](/'/g,'\x5c\x27')[_0x5d2e45(0x1a5)](/"/g,'\x5c\x22'):'';let _0x20bf50=_0x32363d[_0x5d2e45(0x16d)](isNotUndefinedOrNull,global['browserstackSessionName'])&&_0x32363d[_0x5d2e45(0x17c)](isString,global['browserstackSessionName'])?global[_0x5d2e45(0x134)][_0x5d2e45(0x1a5)](/'/g,'\x5c\x27')[_0x5d2e45(0x1a5)](/"/g,'\x5c\x22'):'';!_0x20bf50&&(_0x20bf50=_0x32363d[_0x5d2e45(0x133)](isNotUndefinedOrNull,commandRepository[_0x5d2e45(0x15e)]())&&_0x32363d['wWmwm'](isString,commandRepository[_0x5d2e45(0x15e)]())?commandRepository[_0x5d2e45(0x15e)]()['replace'](/'/g,'\x5c\x27')[_0x5d2e45(0x1a5)](/"/g,'\x5c\x22'):'');let _0xd700b9=_0x5d2e45(0x142)+constants[_0x5d2e45(0x161)]+_0x5d2e45(0x152)+constants[_0x5d2e45(0x161)]+_0x5d2e45(0x17a)+constants[_0x5d2e45(0x17f)][_0x5d2e45(0x17e)](_0x32363d[_0x5d2e45(0x14e)])[0x1]+'\x22}}}';_0xd700b9=_0x32363d[_0x5d2e45(0x17c)](isNotUndefinedOrNull,_0xd700b9)&&_0x32363d[_0x5d2e45(0x159)](isString,_0xd700b9)?_0xd700b9[_0x5d2e45(0x1a5)](/'/g,'\x5c\x27')[_0x5d2e45(0x1a5)](/"/g,'\x5c\x22'):'';const _0x8d4195=commandRepository[_0x5d2e45(0x16e)](_0x40cf6d),_0x5b7fb8=globals[_0x5d2e45(0x138)](_0x32363d['OfXfW']),_0x3c744d=globals[_0x5d2e45(0x138)](_0x32363d[_0x5d2e45(0x164)]),_0x36a792=globals[_0x5d2e45(0x138)](_0x32363d[_0x5d2e45(0x191)]),_0xbd7316=![],_0x54ff83=new Date();if(_0x3550f8){const _0x3d8ab3=_0x32363d[_0x5d2e45(0x13a)](timeoutPromise,constants['HEALING_LOG_DATA_TIMEOUT'],_0x32363d[_0x5d2e45(0x15f)],_0x32363d['LSojq'],_0x54ff83,this['config'],this[_0x5d2e45(0x16c)]);_0x4f1763=await Promise[_0x5d2e45(0x139)]([this[_0x5d2e45(0x167)][_0x5d2e45(0x147)](_0xd5deb4,_0x3e74dc,_0x2bd89c,_0x20bf50,_0x3c744d,_0x40cf6d,_0x8d4195,_0xd700b9)['then'](_0x1d507b=>{const _0x4e4593=_0x5d2e45;return _0x3d8ab3[_0x4e4593(0x171)](),_0x1d507b;}),_0x3d8ab3]);}else{if(commandRepository[_0x5d2e45(0x17d)]()){const _0x56cb9e=_0x32363d['woIiw'](timeoutPromise,constants['HEALING_FAILURE_TIMEOUT'],_0x32363d[_0x5d2e45(0x154)],_0x32363d['DTZqc'],_0x54ff83,this[_0x5d2e45(0x197)],this[_0x5d2e45(0x16c)]);_0x4f1763=await Promise[_0x5d2e45(0x139)]([this['BrowserstackHealing'][_0x5d2e45(0x199)](_0xd5deb4,_0x3e74dc,_0x2bd89c,_0x20bf50,_0x5b7fb8,_0x3c744d,_0x40cf6d,_0x8d4195,_0xbd7316,_0x36a792,_0xd700b9)[_0x5d2e45(0x148)](_0x39285e=>{const _0x4d7fbd=_0x5d2e45;return _0x56cb9e[_0x4d7fbd(0x171)](),_0x39285e;}),_0x56cb9e]);}}_0x4f1763&&await _0x484c4e[_0x5d2e45(0x15a)](_0x4f1763);}}async[a99_0x15dc0a(0x15b)](_0x34feb0,_0x5d52dd,_0x2bb3a6){const _0x3cde27=a99_0x15dc0a;try{await this[_0x3cde27(0x1a1)](_0x34feb0,_0x5d52dd,_0x2bb3a6,!![]);}catch(_0x2e759c){return logger[_0x3cde27(0x1aa)]('Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20'+(_0x2e759c&&_0x2e759c[_0x3cde27(0x19e)]?_0x2e759c[_0x3cde27(0x19e)]:'')),![];}return!![];}async['handleFailure'](_0x436513,_0x4e4f49,_0x37ebaa){const _0xa267cf=a99_0x15dc0a,_0x38514d={'VoQOF':function(_0x1e7084,_0x1b9fa5,_0x390ff5,_0x47689b,_0x4a6055,_0x3f8c56,_0x1e5102){return _0x1e7084(_0x1b9fa5,_0x390ff5,_0x47689b,_0x4a6055,_0x3f8c56,_0x1e5102);},'JzAgX':_0xa267cf(0x1a4),'tqFAg':_0xa267cf(0x136),'zcmGj':_0xa267cf(0x186)};try{await this['_handleEvent'](_0x436513,_0x4e4f49,_0x37ebaa,![]);const _0x382796=(await _0x4e4f49['getSession']())[_0xa267cf(0x146)](),_0x4cab73=new Date(),_0x215dee=_0x38514d['VoQOF'](timeoutPromise,constants[_0xa267cf(0x190)],_0x38514d[_0xa267cf(0x178)],_0x38514d[_0xa267cf(0x1a2)],_0x4cab73,this['config'],this['framework']),_0x53b0c3=await Promise['race']([this[_0xa267cf(0x167)]['pollResult'](constants[_0xa267cf(0x17f)],_0x382796,globals[_0xa267cf(0x138)](_0x38514d['zcmGj']))['then'](_0xd9672d=>{const _0x9490e1=_0xa267cf;return _0x215dee[_0x9490e1(0x171)](),_0xd9672d;}),_0x215dee]);if(_0x53b0c3&&_0x53b0c3[_0xa267cf(0x181)]&&_0x53b0c3[_0xa267cf(0x13b)]){const _0x2b7cfb={};return _0x2b7cfb[_0xa267cf(0x145)]=_0x53b0c3[_0xa267cf(0x181)],_0x2b7cfb[_0xa267cf(0x1a6)]=_0x53b0c3['value'],_0x2b7cfb[_0xa267cf(0x1a0)]=!![],_0x2b7cfb;}const _0x6eddf8={};return _0x6eddf8['locatorType']=_0x37ebaa['parameters_'][_0xa267cf(0x196)],_0x6eddf8[_0xa267cf(0x1a6)]=_0x53b0c3[_0xa267cf(0x13b)],_0x6eddf8[_0xa267cf(0x1a0)]=!![],_0x6eddf8;}catch(_0x3acb58){return logger[_0xa267cf(0x14b)](_0xa267cf(0x19b)+(_0x3acb58&&_0x3acb58['message']?_0x3acb58['message']:'')),logger['info'](_0xa267cf(0x18e)+_0x37ebaa[_0xa267cf(0x13c)]+_0xa267cf(0x188)),_0x37ebaa;}}}exports[a99_0x15dc0a(0x18a)]=Object['freeze'](new AiSdkWrapper());function a99_0x54e1(){const _0x2eb668=['vrMMk','sViyF','parameters_','browserName','BrowserstackHealing','aiHeal_groupId','SET_TCG_TOKEN_TIMEOUT','885411yTQEZM','52292SIJqDA','framework','Ctxqu','getCommands','getSession','microsoftedge','cancel','APnyy','310zuMEoX','firefoxOptions_','setTcgToken','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','qnwwo','JzAgX','fromEntries','\x22:\x20{\x22endpoint\x22:\x20\x22','path','HiqbJ','isSelfHealEnabled','split','TCG_URL','ieOptions_','selector','5306646tptKik','cdNcQ','UqXbc','QHtRT','aiHeal_sessionToken','keys','\x20command','BXLPv','aiSdkWrapper','./autoHealHelper','FvsuZ','join','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','Dvdza','POLL_HEALING_RESULT_TIMEOUT','CrRdo','DZDsu','chrome','BrowserstackHealing.healFailure\x20method\x20timed\x20out','setToken','using','config','winstonLogger','healFailure','../../ai-sdk-node/bundle','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','JcaML','44825XGYGPQ','message','14wkzNSG','aiHealing','_handleEvent','tqFAg','s://','BrowserstackHealing.pollResult\x20method\x20timed\x20out','replace','locatorValue','../logger','28446830pyfdQB','CPLxr','error','wWmwm','browserstackSessionName','newCapabilities','BrowserstackHealingPollResultFailed','737442qBMMPW','getGlobal','race','ObiOq','value','name_','YSYeP','../../bin/utils/constants','initializeCapabilities','chromeOptions_','initializeHealingCapabilities','{\x22region\x22:\x20\x22','../globals','BrowserstackHealingSetTcgTokenFailed','locatorType','getId','logData','then','44Hxdahg','safariOptions_','debug','BrowserstackHealing.logData\x20method\x20timed\x20out','EwdMA','QjTrJ','capabilities_','firefox','DmsQg','\x22,\x20\x22tcgUrls\x22:\x20{\x22','BrowserstackHealing.setToken\x20method\x20timed\x20out','wwwIx','toLowerCase','aiHeal_isGroupAIEnabled','1207912lFpJeu','getCapabilities','JcCxc','executeScript','handleSuccess','geOgs','getProjectName','getTestName','IZTbW','aiHeal_userId','TCG_REGION','MDvVg'];a99_0x54e1=function(){return _0x2eb668;};return a99_0x54e1();}