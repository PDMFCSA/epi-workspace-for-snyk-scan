const a89_0x33ca71=a89_0x1c6d;(function(_0x3b7d71,_0x4ddea0){const _0x1f0d2f=a89_0x1c6d,_0x4e547d=_0x3b7d71();while(!![]){try{const _0x4cb512=parseInt(_0x1f0d2f(0x19c))/0x1+parseInt(_0x1f0d2f(0x15d))/0x2+-parseInt(_0x1f0d2f(0x128))/0x3*(-parseInt(_0x1f0d2f(0x177))/0x4)+-parseInt(_0x1f0d2f(0x192))/0x5*(parseInt(_0x1f0d2f(0x141))/0x6)+parseInt(_0x1f0d2f(0x18e))/0x7+parseInt(_0x1f0d2f(0x193))/0x8*(-parseInt(_0x1f0d2f(0x150))/0x9)+-parseInt(_0x1f0d2f(0x194))/0xa*(parseInt(_0x1f0d2f(0x180))/0xb);if(_0x4cb512===_0x4ddea0)break;else _0x4e547d['push'](_0x4e547d['shift']());}catch(_0xecec2b){_0x4e547d['push'](_0x4e547d['shift']());}}}(a89_0x30ca,0x18d53));const path=require(a89_0x33ca71(0x144)),{commandRepository}=require(a89_0x33ca71(0x19f)),constants=require(a89_0x33ca71(0x127)),logger=require(a89_0x33ca71(0x167))[a89_0x33ca71(0x162)],globals=require(a89_0x33ca71(0x187)),timeoutPromise=require(a89_0x33ca71(0x138)),isUndefinedOrNull=_0x243289=>_0x243289===undefined||_0x243289===null||_0x243289==='',isNotUndefinedOrNull=_0x368f51=>!isUndefinedOrNull(_0x368f51),isString=_0x4da0a1=>isNotUndefinedOrNull(_0x4da0a1)&&typeof _0x4da0a1===a89_0x33ca71(0x129);function a89_0x30ca(){const _0xc2786e=['using','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','cancel','qSuUk','aiHeal_sessionToken','TRzuz','chromeOptions_','edgeOptions_','then','TtFvt','eYijr','../../helpers/timeoutPromise','../../ai-sdk-node/bundle','BrowserstackHealingLogDataFailed','logData','HEALING_FAILURE_TIMEOUT','ICFtn','avrcc','join','BrowserstackHealing.setToken\x20method\x20timed\x20out','31128kNPhjQ','debug','owswk','path','handleFailure','QBiLv','capabilities_','isSelfHealEnabled','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','firefoxOptions_','config','pollResult','split','locatorType','aiHeal_userId','8595cbddoa','edge','pWKik','getGlobal','BrowserstackHealingSetTcgTokenFailed','browserstackSessionName','aiHeal_isGroupAIEnabled','value','TCG_REGION','set','keys','initializeHealingCapabilities','aiHeal_groupId','285742rBTfPq','error','browserName','TCG_URL','fCJok','winstonLogger','getProjectName','FTvsM','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','OgiLZ','../logger','chrome','fromEntries','SET_TCG_TOKEN_TIMEOUT','KaiYv','sdFEr','BrowserstackHealingPollResultFailed','HEALING_LOG_DATA_TIMEOUT','ouRwU','cHjbx','BrowserstackHealing.healFailure\x20method\x20timed\x20out','iaZoD','aiHealing','BrowserstackHealing','newCapabilities','toLowerCase','12qbMWbZ','_handleEvent','getId','get','setToken','ofUmD','aVDma','PEajm','\x22}}}','736868OqzYqo','microsoftedge','map_','firefox','locatorValue','handleSuccess','FVatB','../globals','executeScript','paXfV','info','s://','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','replace','34020jKWroO','BrowserstackHealing.logData\x20method\x20timed\x20out','initializeCapabilities','setTcgToken','45cCyUCn','1072QybzcP','10bvKqvE','rJUcN','UAXFF','\x22:\x20{\x22endpoint\x22:\x20\x22','ffbxt','race','freeze','message','137347SxzdSg','udvic','sKsvF','./autoHealHelper','lRNlN','framework','BrowserstackHealingHealFailureFailed','\x20command','log','selector','forEach','../../bin/utils/constants','58287IAUdtt','string','parameters_','YiKfK','getTestName'];a89_0x30ca=function(){return _0xc2786e;};return a89_0x30ca();}class AiSdkWrapper{constructor(){const _0xf169af=a89_0x33ca71,_0x3f5e10={'QBiLv':function(_0x4c5928,_0x25ea17){return _0x4c5928(_0x25ea17);},'lRNlN':_0xf169af(0x139)};this[_0xf169af(0x174)]=undefined;try{this[_0xf169af(0x174)]=_0x3f5e10[_0xf169af(0x146)](require,path[_0xf169af(0x13f)](__dirname,_0x3f5e10[_0xf169af(0x1a0)]));}catch(_0x26f32c){logger[_0xf169af(0x15e)](_0xf169af(0x12e)+(_0x26f32c&&_0x26f32c[_0xf169af(0x19b)]?_0x26f32c[_0xf169af(0x19b)]:''));}}[a89_0x33ca71(0x15b)](_0x467b58){const _0x3fbb60=a89_0x33ca71,_0xb81efa={};_0xb81efa[_0x3fbb60(0x16b)]=_0x3fbb60(0x175),_0xb81efa[_0x3fbb60(0x16c)]=function(_0x4c7207,_0x7346b){return _0x4c7207===_0x7346b;},_0xb81efa[_0x3fbb60(0x13d)]=_0x3fbb60(0x168),_0xb81efa[_0x3fbb60(0x152)]=_0x3fbb60(0x183),_0xb81efa[_0x3fbb60(0x137)]='safari',_0xb81efa[_0x3fbb60(0x17e)]=_0x3fbb60(0x151),_0xb81efa['TRzuz']=function(_0x37aaed,_0x1dfef1){return _0x37aaed===_0x1dfef1;},_0xb81efa[_0x3fbb60(0x186)]=_0x3fbb60(0x181),_0xb81efa[_0x3fbb60(0x166)]=function(_0xdb8ca2,_0x45ba05){return _0xdb8ca2===_0x45ba05;};const _0x261dfe=_0xb81efa;try{const _0x5e09dd=this['BrowserstackHealing'][_0x3fbb60(0x190)](Object[_0x3fbb60(0x169)](_0x467b58['getCapabilities']()[_0x3fbb60(0x182)]));console[_0x3fbb60(0x124)](_0x261dfe[_0x3fbb60(0x16b)],_0x5e09dd);if(_0x261dfe['sdFEr'](_0x5e09dd?.[_0x3fbb60(0x15f)]?.['toLowerCase'](),_0x261dfe[_0x3fbb60(0x13d)]))_0x467b58[_0x3fbb60(0x133)]=_0x5e09dd;else{if(_0x261dfe[_0x3fbb60(0x16c)](_0x5e09dd?.[_0x3fbb60(0x15f)]?.[_0x3fbb60(0x176)](),_0x261dfe[_0x3fbb60(0x152)]))_0x467b58[_0x3fbb60(0x14a)]=_0x5e09dd;else{if(_0x261dfe[_0x3fbb60(0x16c)](_0x5e09dd?.['browserName']?.['toLowerCase'](),_0x261dfe['eYijr']))_0x467b58['safariOptions_']=_0x5e09dd;else{if(_0x261dfe[_0x3fbb60(0x16c)](_0x5e09dd?.[_0x3fbb60(0x15f)]?.[_0x3fbb60(0x176)](),_0x261dfe['PEajm'])||_0x261dfe[_0x3fbb60(0x132)](_0x5e09dd?.['browserName']?.['toLowerCase'](),_0x261dfe[_0x3fbb60(0x186)]))_0x467b58[_0x3fbb60(0x134)]=_0x5e09dd;else _0x261dfe[_0x3fbb60(0x166)](_0x5e09dd?.[_0x3fbb60(0x15f)]?.[_0x3fbb60(0x176)](),'ie')&&(_0x467b58['ieOptions_']=_0x5e09dd);}}}Object[_0x3fbb60(0x15a)](_0x5e09dd)[_0x3fbb60(0x126)](_0x589246=>{const _0x479e8c=_0x3fbb60,_0x3ddf42=_0x467b58[_0x479e8c(0x147)][_0x479e8c(0x17a)](_0x589246);_0x467b58[_0x479e8c(0x147)][_0x479e8c(0x159)](_0x589246,_0x5e09dd[_0x589246]);});}catch(_0x311afd){logger[_0x3fbb60(0x15e)](_0x3fbb60(0x18c)+(_0x311afd&&_0x311afd[_0x3fbb60(0x19b)]?_0x311afd[_0x3fbb60(0x19b)]:''));}}async[a89_0x33ca71(0x191)](_0x4b948b){const _0x5e95c9=a89_0x33ca71,_0x153f01={'HjkNV':function(_0x2d8e20,_0x4d7085,_0x1ca4b2,_0x22fbbd,_0x453fe6,_0x2c6f61,_0x54a407){return _0x2d8e20(_0x4d7085,_0x1ca4b2,_0x22fbbd,_0x453fe6,_0x2c6f61,_0x54a407);},'zkWBa':_0x5e95c9(0x140),'UAXFF':_0x5e95c9(0x154),'tKUKm':_0x5e95c9(0x131)},_0xedbad8=new Date(),_0x4147c7=_0x153f01['HjkNV'](timeoutPromise,constants[_0x5e95c9(0x16a)],_0x153f01['zkWBa'],_0x153f01[_0x5e95c9(0x196)],_0xedbad8,this['config'],this[_0x5e95c9(0x121)]);await Promise['race']([this['BrowserstackHealing'][_0x5e95c9(0x17b)](_0x4b948b,globals[_0x5e95c9(0x153)](_0x153f01['tKUKm']),constants['TCG_URL'])[_0x5e95c9(0x135)](()=>{const _0x1912b9=_0x5e95c9;_0x4147c7[_0x1912b9(0x12f)]();}),_0x4147c7]);}async[a89_0x33ca71(0x178)](_0x5b8482,_0x3f1150,_0x2b822e,_0x558046){const _0x2b2034=a89_0x33ca71,_0x35f0b0={'mCFST':function(_0x42a4c1,_0x28be40){return _0x42a4c1===_0x28be40;},'cHjbx':function(_0x362701,_0x364aef){return _0x362701===_0x364aef;},'ylBue':function(_0x119297,_0x524f19){return _0x119297(_0x524f19);},'udvic':function(_0x28093f,_0xfb16cd){return _0x28093f(_0xfb16cd);},'fCJok':function(_0x4a5e09,_0x31e8ad){return _0x4a5e09(_0x31e8ad);},'sKsvF':function(_0x2af3bf,_0x2013c3){return _0x2af3bf(_0x2013c3);},'TtFvt':function(_0x360c9d,_0x1afc31){return _0x360c9d(_0x1afc31);},'baQIf':function(_0x21313b,_0x562d73){return _0x21313b(_0x562d73);},'rJUcN':_0x2b2034(0x18b),'paXfV':_0x2b2034(0x14f),'aVDma':_0x2b2034(0x15c),'skleT':_0x2b2034(0x156),'ouRwU':function(_0x1725fc,_0xca4611,_0x168af1,_0x543785,_0x3fdb35,_0x3e4929,_0x3ae1c5){return _0x1725fc(_0xca4611,_0x168af1,_0x543785,_0x3fdb35,_0x3e4929,_0x3ae1c5);},'iaZoD':_0x2b2034(0x18f),'owswk':_0x2b2034(0x13a),'qSuUk':function(_0x24bbef,_0x311730,_0x5807e2,_0x400d11,_0x27f8d7,_0x24ea88,_0x10c9fc){return _0x24bbef(_0x311730,_0x5807e2,_0x400d11,_0x27f8d7,_0x24ea88,_0x10c9fc);},'avrcc':_0x2b2034(0x171),'ofUmD':_0x2b2034(0x122)},_0xabe0ed=(await _0x3f1150['getSession']())[_0x2b2034(0x179)]();let _0x4c506b='';if(commandRepository['isSelfHealEnabled']()&&_0x35f0b0['mCFST'](_0x558046,![])||_0x35f0b0[_0x2b2034(0x170)](_0x558046,!![])){const _0x14e006=_0x35f0b0['ylBue'](isNotUndefinedOrNull,_0x2b822e[_0x2b2034(0x12a)][_0x2b2034(0x12d)])&&_0x35f0b0[_0x2b2034(0x19d)](isString,_0x2b822e[_0x2b2034(0x12a)]['using'])?_0x2b822e[_0x2b2034(0x12a)][_0x2b2034(0x12d)][_0x2b2034(0x18d)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x256d2c=_0x35f0b0[_0x2b2034(0x19d)](isNotUndefinedOrNull,_0x2b822e[_0x2b2034(0x12a)]['using'])&&_0x35f0b0[_0x2b2034(0x161)](isString,_0x2b822e['parameters_'][_0x2b2034(0x157)])?_0x2b822e['parameters_']['value'][_0x2b2034(0x18d)](/'/g,'\x5c\x27')[_0x2b2034(0x18d)](/"/g,'\x5c\x22'):'',_0x4e45f5=_0x35f0b0[_0x2b2034(0x161)](isNotUndefinedOrNull,commandRepository[_0x2b2034(0x163)]())&&_0x35f0b0[_0x2b2034(0x19d)](isString,commandRepository['getProjectName']())?commandRepository['getProjectName']()['replace'](/'/g,'\x5c\x27')[_0x2b2034(0x18d)](/"/g,'\x5c\x22'):'';let _0x15ed19=_0x35f0b0[_0x2b2034(0x19e)](isNotUndefinedOrNull,global['browserstackSessionName'])&&_0x35f0b0[_0x2b2034(0x136)](isString,global['browserstackSessionName'])?global[_0x2b2034(0x155)]['replace'](/'/g,'\x5c\x27')[_0x2b2034(0x18d)](/"/g,'\x5c\x22'):'';!_0x15ed19&&(_0x15ed19=_0x35f0b0['TtFvt'](isNotUndefinedOrNull,commandRepository[_0x2b2034(0x12c)]())&&_0x35f0b0['baQIf'](isString,commandRepository[_0x2b2034(0x12c)]())?commandRepository['getTestName']()[_0x2b2034(0x18d)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'');let _0x9bbae3='{\x22region\x22:\x20\x22'+constants[_0x2b2034(0x158)]+'\x22,\x20\x22tcgUrls\x22:\x20{\x22'+constants[_0x2b2034(0x158)]+_0x2b2034(0x197)+constants[_0x2b2034(0x160)][_0x2b2034(0x14d)](_0x35f0b0[_0x2b2034(0x195)])[0x1]+_0x2b2034(0x17f);_0x9bbae3=_0x35f0b0[_0x2b2034(0x161)](isNotUndefinedOrNull,_0x9bbae3)&&_0x35f0b0[_0x2b2034(0x19e)](isString,_0x9bbae3)?_0x9bbae3[_0x2b2034(0x18d)](/'/g,'\x5c\x27')[_0x2b2034(0x18d)](/"/g,'\x5c\x22'):'';const _0x388f0f=commandRepository['getCommands'](_0xabe0ed),_0x17c0da=globals[_0x2b2034(0x153)](_0x35f0b0[_0x2b2034(0x189)]),_0x29479b=globals['getGlobal'](_0x35f0b0[_0x2b2034(0x17d)]),_0x17e9d2=globals[_0x2b2034(0x153)](_0x35f0b0['skleT']),_0x19afd3=![],_0x2c30a3=new Date();if(_0x558046){const _0x3c4eaa=_0x35f0b0[_0x2b2034(0x16f)](timeoutPromise,constants[_0x2b2034(0x16e)],_0x35f0b0[_0x2b2034(0x172)],_0x35f0b0[_0x2b2034(0x143)],_0x2c30a3,this[_0x2b2034(0x14b)],this[_0x2b2034(0x121)]);_0x4c506b=await Promise[_0x2b2034(0x199)]([this[_0x2b2034(0x174)][_0x2b2034(0x13b)](_0x14e006,_0x256d2c,_0x4e45f5,_0x15ed19,_0x29479b,_0xabe0ed,_0x388f0f,_0x9bbae3)['then'](_0x27f19a=>{const _0x3e38e7=_0x2b2034;return _0x3c4eaa[_0x3e38e7(0x12f)](),_0x27f19a;}),_0x3c4eaa]);}else{if(commandRepository[_0x2b2034(0x148)]()){const _0x591519=_0x35f0b0[_0x2b2034(0x130)](timeoutPromise,constants[_0x2b2034(0x13c)],_0x35f0b0[_0x2b2034(0x13e)],_0x35f0b0[_0x2b2034(0x17c)],_0x2c30a3,this[_0x2b2034(0x14b)],this[_0x2b2034(0x121)]);_0x4c506b=await Promise[_0x2b2034(0x199)]([this[_0x2b2034(0x174)]['healFailure'](_0x14e006,_0x256d2c,_0x4e45f5,_0x15ed19,_0x17c0da,_0x29479b,_0xabe0ed,_0x388f0f,_0x19afd3,_0x17e9d2,_0x9bbae3)[_0x2b2034(0x135)](_0x1648ee=>{return _0x591519['cancel'](),_0x1648ee;}),_0x591519]);}}_0x4c506b&&await _0x3f1150[_0x2b2034(0x188)](_0x4c506b);}}async[a89_0x33ca71(0x185)](_0x3bcd70,_0x5aced0,_0x45d7bf){const _0x5e41df=a89_0x33ca71;try{await this[_0x5e41df(0x178)](_0x3bcd70,_0x5aced0,_0x45d7bf,!![]);}catch(_0x5c7caf){return logger[_0x5e41df(0x15e)](_0x5e41df(0x149)+(_0x5c7caf&&_0x5c7caf[_0x5e41df(0x19b)]?_0x5c7caf[_0x5e41df(0x19b)]:'')),![];}return!![];}async[a89_0x33ca71(0x145)](_0x3db589,_0x9ac1cb,_0x252200){const _0x56093e=a89_0x33ca71,_0x2d2e89={'YiKfK':function(_0x193077,_0x9cfe70,_0x51238c,_0x4bbab8,_0x230a93,_0x3bbf0a,_0x4164a8){return _0x193077(_0x9cfe70,_0x51238c,_0x4bbab8,_0x230a93,_0x3bbf0a,_0x4164a8);},'FTvsM':'BrowserstackHealing.pollResult\x20method\x20timed\x20out','ffbxt':_0x56093e(0x16d),'AWyen':_0x56093e(0x131)};try{await this['_handleEvent'](_0x3db589,_0x9ac1cb,_0x252200,![]);const _0x5cd248=(await _0x9ac1cb['getSession']())[_0x56093e(0x179)](),_0x5e8975=new Date(),_0x4b206d=_0x2d2e89[_0x56093e(0x12b)](timeoutPromise,constants['POLL_HEALING_RESULT_TIMEOUT'],_0x2d2e89[_0x56093e(0x164)],_0x2d2e89[_0x56093e(0x198)],_0x5e8975,this['config'],this[_0x56093e(0x121)]),_0x1546f3=await Promise['race']([this[_0x56093e(0x174)][_0x56093e(0x14c)](constants[_0x56093e(0x160)],_0x5cd248,globals[_0x56093e(0x153)](_0x2d2e89['AWyen']))['then'](_0x158db6=>{return _0x4b206d['cancel'](),_0x158db6;}),_0x4b206d]);if(_0x1546f3&&_0x1546f3[_0x56093e(0x125)]&&_0x1546f3[_0x56093e(0x157)]){const _0x59640d={};return _0x59640d[_0x56093e(0x14e)]=_0x1546f3['selector'],_0x59640d[_0x56093e(0x184)]=_0x1546f3[_0x56093e(0x157)],_0x59640d[_0x56093e(0x173)]=!![],_0x59640d;}const _0x110a03={};return _0x110a03[_0x56093e(0x14e)]=_0x252200[_0x56093e(0x12a)]['using'],_0x110a03[_0x56093e(0x184)]=_0x1546f3[_0x56093e(0x157)],_0x110a03[_0x56093e(0x173)]=!![],_0x110a03;}catch(_0x1c3baf){return logger[_0x56093e(0x142)](_0x56093e(0x165)+(_0x1c3baf&&_0x1c3baf[_0x56093e(0x19b)]?_0x1c3baf[_0x56093e(0x19b)]:'')),logger[_0x56093e(0x18a)]('Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20'+_0x252200['name_']+_0x56093e(0x123)),_0x252200;}}}function a89_0x1c6d(_0x52b3b4,_0x366f30){const _0x30ca69=a89_0x30ca();return a89_0x1c6d=function(_0x1c6d2d,_0x4a214f){_0x1c6d2d=_0x1c6d2d-0x121;let _0x295fe1=_0x30ca69[_0x1c6d2d];return _0x295fe1;},a89_0x1c6d(_0x52b3b4,_0x366f30);}exports['aiSdkWrapper']=Object[a89_0x33ca71(0x19a)](new AiSdkWrapper());