function a99_0x2526(_0x2c1587,_0x319661){const _0x5b0d4e=a99_0x5b0d();return a99_0x2526=function(_0x252647,_0x405c6){_0x252647=_0x252647-0x94;let _0x1801c0=_0x5b0d4e[_0x252647];return _0x1801c0;},a99_0x2526(_0x2c1587,_0x319661);}const a99_0xcf87f9=a99_0x2526;(function(_0x1b4b19,_0x355760){const _0x22c6a6=a99_0x2526,_0x3b7c93=_0x1b4b19();while(!![]){try{const _0x562fdc=parseInt(_0x22c6a6(0xeb))/0x1+-parseInt(_0x22c6a6(0xce))/0x2+parseInt(_0x22c6a6(0x97))/0x3*(-parseInt(_0x22c6a6(0xff))/0x4)+parseInt(_0x22c6a6(0xc6))/0x5*(-parseInt(_0x22c6a6(0xfd))/0x6)+-parseInt(_0x22c6a6(0xfc))/0x7*(parseInt(_0x22c6a6(0xee))/0x8)+-parseInt(_0x22c6a6(0xea))/0x9+-parseInt(_0x22c6a6(0xc3))/0xa*(-parseInt(_0x22c6a6(0xc2))/0xb);if(_0x562fdc===_0x355760)break;else _0x3b7c93['push'](_0x3b7c93['shift']());}catch(_0x5dc3bc){_0x3b7c93['push'](_0x3b7c93['shift']());}}}(a99_0x5b0d,0xcab33));const path=require('path'),{commandRepository}=require('./autoHealHelper'),constants=require(a99_0xcf87f9(0x95)),logger=require('../logger')[a99_0xcf87f9(0xd6)],globals=require('../globals'),timeoutPromise=require(a99_0xcf87f9(0xaf)),isUndefinedOrNull=_0x4f6115=>_0x4f6115===undefined||_0x4f6115===null||_0x4f6115==='',isNotUndefinedOrNull=_0x230a64=>!isUndefinedOrNull(_0x230a64),isString=_0x1268a4=>isNotUndefinedOrNull(_0x1268a4)&&typeof _0x1268a4==='string';class AiSdkWrapper{constructor(){const _0x3b7bcb=a99_0xcf87f9,_0x3de933={'wWynn':function(_0xbdbdbb,_0x388e37){return _0xbdbdbb(_0x388e37);},'HsoWV':_0x3b7bcb(0xa0)};this[_0x3b7bcb(0xf0)]=undefined;try{this[_0x3b7bcb(0xf0)]=_0x3de933['wWynn'](require,path[_0x3b7bcb(0x115)](__dirname,_0x3de933[_0x3b7bcb(0x99)]));}catch(_0x133629){logger['error'](_0x3b7bcb(0xf1)+(_0x133629&&_0x133629['message']?_0x133629[_0x3b7bcb(0xde)]:''));}}[a99_0xcf87f9(0xd7)](_0x1eebd1){const _0x54add2=a99_0xcf87f9,_0x3e0e68={};_0x3e0e68[_0x54add2(0x103)]=_0x54add2(0xb2),_0x3e0e68['SpAKK']=function(_0x3a123c,_0x46f3d6){return _0x3a123c===_0x46f3d6;},_0x3e0e68[_0x54add2(0xb8)]=_0x54add2(0xd2),_0x3e0e68[_0x54add2(0x106)]=_0x54add2(0x9d),_0x3e0e68[_0x54add2(0x96)]=function(_0x4c874e,_0x11f00e){return _0x4c874e===_0x11f00e;},_0x3e0e68[_0x54add2(0xec)]='safari',_0x3e0e68[_0x54add2(0xc9)]=_0x54add2(0xfe),_0x3e0e68[_0x54add2(0xfa)]=function(_0x28e9e5,_0x21c567){return _0x28e9e5===_0x21c567;},_0x3e0e68[_0x54add2(0x113)]=_0x54add2(0xe7),_0x3e0e68[_0x54add2(0xc4)]=function(_0x42b9c6,_0x4fdf84){return _0x42b9c6===_0x4fdf84;};const _0x13941e=_0x3e0e68;try{const _0x9f8dc=this[_0x54add2(0xf0)][_0x54add2(0x104)](Object[_0x54add2(0xe5)](_0x1eebd1[_0x54add2(0xf8)]()[_0x54add2(0xb4)]));console[_0x54add2(0x107)](_0x13941e[_0x54add2(0x103)],_0x9f8dc);if(_0x13941e['SpAKK'](_0x9f8dc?.['browserName']?.[_0x54add2(0xbf)](),_0x13941e[_0x54add2(0xb8)]))_0x1eebd1[_0x54add2(0x9c)]=_0x9f8dc;else{if(_0x13941e['SpAKK'](_0x9f8dc?.[_0x54add2(0xc1)]?.['toLowerCase'](),_0x13941e[_0x54add2(0x106)]))_0x1eebd1['firefoxOptions_']=_0x9f8dc;else{if(_0x13941e[_0x54add2(0x96)](_0x9f8dc?.['browserName']?.[_0x54add2(0xbf)](),_0x13941e[_0x54add2(0xec)]))_0x1eebd1[_0x54add2(0xca)]=_0x9f8dc;else{if(_0x13941e[_0x54add2(0x10f)](_0x9f8dc?.[_0x54add2(0xc1)]?.[_0x54add2(0xbf)](),_0x13941e[_0x54add2(0xc9)])||_0x13941e[_0x54add2(0xfa)](_0x9f8dc?.['browserName']?.['toLowerCase'](),_0x13941e[_0x54add2(0x113)]))_0x1eebd1[_0x54add2(0xd4)]=_0x9f8dc;else _0x13941e[_0x54add2(0xc4)](_0x9f8dc?.[_0x54add2(0xc1)]?.[_0x54add2(0xbf)](),'ie')&&(_0x1eebd1[_0x54add2(0x9b)]=_0x9f8dc);}}}Object[_0x54add2(0xcc)](_0x9f8dc)[_0x54add2(0x9a)](_0x1d4225=>{const _0x4d244d=_0x54add2,_0x504983=_0x1eebd1[_0x4d244d(0xb9)][_0x4d244d(0xba)](_0x1d4225);_0x1eebd1[_0x4d244d(0xb9)][_0x4d244d(0x102)](_0x1d4225,_0x9f8dc[_0x1d4225]);});}catch(_0xd8abec){logger[_0x54add2(0xa9)](_0x54add2(0xcf)+(_0xd8abec&&_0xd8abec['message']?_0xd8abec['message']:''));}}async['setTcgToken'](_0xaaf668){const _0x25fa4d=a99_0xcf87f9,_0x55e50c={'ACxux':function(_0xfca958,_0x571047,_0xb2ff9f,_0x17d0fa,_0x22f8ed,_0x18f897,_0x1c3007){return _0xfca958(_0x571047,_0xb2ff9f,_0x17d0fa,_0x22f8ed,_0x18f897,_0x1c3007);},'NodAD':_0x25fa4d(0xcd),'ZvurN':_0x25fa4d(0xe8),'lTBcQ':_0x25fa4d(0xc0)},_0x4f637a=new Date(),_0x892f59=_0x55e50c[_0x25fa4d(0xa5)](timeoutPromise,constants[_0x25fa4d(0xa4)],_0x55e50c['NodAD'],_0x55e50c[_0x25fa4d(0xd3)],_0x4f637a,this['config'],this['framework']);await Promise[_0x25fa4d(0xac)]([this[_0x25fa4d(0xf0)][_0x25fa4d(0x10e)](_0xaaf668,globals[_0x25fa4d(0xe9)](_0x55e50c[_0x25fa4d(0x10b)]),constants[_0x25fa4d(0xa8)])[_0x25fa4d(0xf2)](()=>{const _0x1fec93=_0x25fa4d;_0x892f59[_0x1fec93(0xe1)]();}),_0x892f59]);}async[a99_0xcf87f9(0xb3)](_0x223ad9,_0x3dc236,_0x4afd93,_0x475164){const _0x5e9ffd=a99_0xcf87f9,_0x4524bb={'woTXi':function(_0x1277cb,_0x42b9c9){return _0x1277cb===_0x42b9c9;},'YdcXl':function(_0x5e54d2,_0x1e286d){return _0x5e54d2===_0x1e286d;},'wUvCm':function(_0x1df36b,_0x4716e1){return _0x1df36b(_0x4716e1);},'vHzXd':function(_0x1ec8bd,_0x1650bc){return _0x1ec8bd(_0x1650bc);},'ATFod':function(_0x3e9f67,_0x2fbbe0){return _0x3e9f67(_0x2fbbe0);},'AkTum':function(_0x363a57,_0x185219){return _0x363a57(_0x185219);},'lOiMG':function(_0x17e6e2,_0x4a0276){return _0x17e6e2(_0x4a0276);},'iaeeF':function(_0x47291b,_0x3d81a5){return _0x47291b(_0x3d81a5);},'bVUKX':function(_0x264063,_0x15eb48){return _0x264063(_0x15eb48);},'SeBPG':_0x5e9ffd(0x100),'uHmBb':function(_0x56fb21,_0x49f4f4){return _0x56fb21(_0x49f4f4);},'lnuvs':function(_0x2d7ee7,_0x342c9e){return _0x2d7ee7(_0x342c9e);},'XeGuf':_0x5e9ffd(0xef),'NQBWH':_0x5e9ffd(0xf4),'nvmFN':_0x5e9ffd(0xa2),'ZqSae':function(_0x32e17a,_0x53abbe,_0x535801,_0x5d7066,_0x33a0f7,_0xb0160c,_0x1d7fb5){return _0x32e17a(_0x53abbe,_0x535801,_0x5d7066,_0x33a0f7,_0xb0160c,_0x1d7fb5);},'dklnZ':_0x5e9ffd(0xd8),'NLGpg':_0x5e9ffd(0xbc),'fcQZI':function(_0x49146c,_0x4fc4c7,_0x12804a,_0x23886f,_0x51fe15,_0x1d41cc,_0x5891d4){return _0x49146c(_0x4fc4c7,_0x12804a,_0x23886f,_0x51fe15,_0x1d41cc,_0x5891d4);},'OixQK':_0x5e9ffd(0xdc),'YejmX':_0x5e9ffd(0xdd)},_0x29c50b=(await _0x3dc236[_0x5e9ffd(0x105)]())['getId']();let _0x4ddbc2='';if(commandRepository[_0x5e9ffd(0xc8)]()&&_0x4524bb[_0x5e9ffd(0x109)](_0x475164,![])||_0x4524bb[_0x5e9ffd(0x94)](_0x475164,!![])){const _0x4839bb=_0x4524bb[_0x5e9ffd(0xb0)](isNotUndefinedOrNull,_0x4afd93[_0x5e9ffd(0x116)][_0x5e9ffd(0xf6)])&&_0x4524bb[_0x5e9ffd(0xb6)](isString,_0x4afd93[_0x5e9ffd(0x116)]['using'])?_0x4afd93['parameters_'][_0x5e9ffd(0xf6)]['replace'](/'/g,'\x5c\x27')[_0x5e9ffd(0x9e)](/"/g,'\x5c\x22'):'',_0x31ca1e=_0x4524bb[_0x5e9ffd(0xe4)](isNotUndefinedOrNull,_0x4afd93[_0x5e9ffd(0x116)][_0x5e9ffd(0xf6)])&&_0x4524bb['AkTum'](isString,_0x4afd93[_0x5e9ffd(0x116)][_0x5e9ffd(0x110)])?_0x4afd93[_0x5e9ffd(0x116)][_0x5e9ffd(0x110)][_0x5e9ffd(0x9e)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x1f2c6b=_0x4524bb[_0x5e9ffd(0xf7)](isNotUndefinedOrNull,commandRepository['getProjectName']())&&_0x4524bb[_0x5e9ffd(0xf7)](isString,commandRepository[_0x5e9ffd(0x117)]())?commandRepository[_0x5e9ffd(0x117)]()['replace'](/'/g,'\x5c\x27')[_0x5e9ffd(0x9e)](/"/g,'\x5c\x22'):'';let _0x475155=_0x4524bb[_0x5e9ffd(0xb0)](isNotUndefinedOrNull,global[_0x5e9ffd(0xbb)])&&_0x4524bb['lOiMG'](isString,global[_0x5e9ffd(0xbb)])?global[_0x5e9ffd(0xbb)][_0x5e9ffd(0x9e)](/'/g,'\x5c\x27')[_0x5e9ffd(0x9e)](/"/g,'\x5c\x22'):'';!_0x475155&&(_0x475155=_0x4524bb[_0x5e9ffd(0xf9)](isNotUndefinedOrNull,commandRepository['getTestName']())&&_0x4524bb[_0x5e9ffd(0xf5)](isString,commandRepository[_0x5e9ffd(0xad)]())?commandRepository[_0x5e9ffd(0xad)]()[_0x5e9ffd(0x9e)](/'/g,'\x5c\x27')[_0x5e9ffd(0x9e)](/"/g,'\x5c\x22'):'');let _0xcb7af0=_0x5e9ffd(0xb5)+constants['TCG_REGION']+_0x5e9ffd(0x10d)+constants[_0x5e9ffd(0xda)]+'\x22:\x20{\x22endpoint\x22:\x20\x22'+constants[_0x5e9ffd(0xa8)][_0x5e9ffd(0x101)](_0x4524bb[_0x5e9ffd(0xdb)])[0x1]+_0x5e9ffd(0xe6);_0xcb7af0=_0x4524bb['uHmBb'](isNotUndefinedOrNull,_0xcb7af0)&&_0x4524bb[_0x5e9ffd(0x98)](isString,_0xcb7af0)?_0xcb7af0['replace'](/'/g,'\x5c\x27')[_0x5e9ffd(0x9e)](/"/g,'\x5c\x22'):'';const _0x18f391=commandRepository[_0x5e9ffd(0x112)](_0x29c50b),_0x444303=globals['getGlobal'](_0x4524bb[_0x5e9ffd(0xd1)]),_0x29c274=globals[_0x5e9ffd(0xe9)](_0x4524bb[_0x5e9ffd(0xa6)]),_0x44cba4=globals[_0x5e9ffd(0xe9)](_0x4524bb[_0x5e9ffd(0xcb)]),_0x439cf5=![],_0x17b9ca=new Date();if(_0x475164){const _0x45fc19=_0x4524bb[_0x5e9ffd(0x9f)](timeoutPromise,constants[_0x5e9ffd(0xdf)],_0x4524bb[_0x5e9ffd(0x114)],_0x4524bb['NLGpg'],_0x17b9ca,this[_0x5e9ffd(0xd9)],this[_0x5e9ffd(0x111)]);_0x4ddbc2=await Promise[_0x5e9ffd(0xac)]([this[_0x5e9ffd(0xf0)][_0x5e9ffd(0xb1)](_0x4839bb,_0x31ca1e,_0x1f2c6b,_0x475155,_0x29c274,_0x29c50b,_0x18f391,_0xcb7af0)[_0x5e9ffd(0xf2)](_0x241861=>{const _0x59fb3d=_0x5e9ffd;return _0x45fc19[_0x59fb3d(0xe1)](),_0x241861;}),_0x45fc19]);}else{if(commandRepository['isSelfHealEnabled']()){const _0x3273d7=_0x4524bb['fcQZI'](timeoutPromise,constants[_0x5e9ffd(0xfb)],_0x4524bb['OixQK'],_0x4524bb['YejmX'],_0x17b9ca,this[_0x5e9ffd(0xd9)],this[_0x5e9ffd(0x111)]);_0x4ddbc2=await Promise[_0x5e9ffd(0xac)]([this[_0x5e9ffd(0xf0)][_0x5e9ffd(0x108)](_0x4839bb,_0x31ca1e,_0x1f2c6b,_0x475155,_0x444303,_0x29c274,_0x29c50b,_0x18f391,_0x439cf5,_0x44cba4,_0xcb7af0)[_0x5e9ffd(0xf2)](_0x324811=>{const _0x13d0df=_0x5e9ffd;return _0x3273d7[_0x13d0df(0xe1)](),_0x324811;}),_0x3273d7]);}}_0x4ddbc2&&await _0x3dc236['executeScript'](_0x4ddbc2);}}async[a99_0xcf87f9(0xc7)](_0x4ed1af,_0x498a06,_0x10acba){const _0x854920=a99_0xcf87f9;try{await this[_0x854920(0xb3)](_0x4ed1af,_0x498a06,_0x10acba,!![]);}catch(_0x2e1dea){return logger[_0x854920(0xa9)]('Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20'+(_0x2e1dea&&_0x2e1dea['message']?_0x2e1dea[_0x854920(0xde)]:'')),![];}return!![];}async[a99_0xcf87f9(0x10c)](_0x381de1,_0x528609,_0x1426a9){const _0x57f1b8=a99_0xcf87f9,_0xb66e45={'namqA':function(_0x45da8d,_0x47f2c7,_0x2b5631,_0x3fc658,_0xd8fc5f,_0x20dd53,_0x576a78){return _0x45da8d(_0x47f2c7,_0x2b5631,_0x3fc658,_0xd8fc5f,_0x20dd53,_0x576a78);},'SKhDJ':_0x57f1b8(0xe2),'msUbW':_0x57f1b8(0xe3),'vhGMR':_0x57f1b8(0xc0)};try{await this[_0x57f1b8(0xb3)](_0x381de1,_0x528609,_0x1426a9,![]);const _0x53bd23=(await _0x528609[_0x57f1b8(0x105)]())[_0x57f1b8(0xb7)](),_0x44a924=new Date(),_0x871c98=_0xb66e45[_0x57f1b8(0xbd)](timeoutPromise,constants[_0x57f1b8(0xaa)],_0xb66e45['SKhDJ'],_0xb66e45[_0x57f1b8(0xed)],_0x44a924,this['config'],this[_0x57f1b8(0x111)]),_0x3de81b=await Promise[_0x57f1b8(0xac)]([this['BrowserstackHealing'][_0x57f1b8(0xd0)](constants[_0x57f1b8(0xa8)],_0x53bd23,globals[_0x57f1b8(0xe9)](_0xb66e45[_0x57f1b8(0xf3)]))[_0x57f1b8(0xf2)](_0x536cac=>{return _0x871c98['cancel'](),_0x536cac;}),_0x871c98]);if(_0x3de81b&&_0x3de81b[_0x57f1b8(0xae)]&&_0x3de81b['value']){const _0x4b392c={};return _0x4b392c[_0x57f1b8(0xbe)]=_0x3de81b['selector'],_0x4b392c[_0x57f1b8(0x10a)]=_0x3de81b[_0x57f1b8(0x110)],_0x4b392c[_0x57f1b8(0xe0)]=!![],_0x4b392c;}const _0x3a6642={};return _0x3a6642[_0x57f1b8(0xbe)]=_0x1426a9['parameters_'][_0x57f1b8(0xf6)],_0x3a6642['locatorValue']=_0x3de81b[_0x57f1b8(0x110)],_0x3a6642[_0x57f1b8(0xe0)]=!![],_0x3a6642;}catch(_0x207c03){return logger[_0x57f1b8(0xc5)](_0x57f1b8(0xab)+(_0x207c03&&_0x207c03[_0x57f1b8(0xde)]?_0x207c03['message']:'')),logger[_0x57f1b8(0xd5)]('Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20'+_0x1426a9['name_']+_0x57f1b8(0xa7)),_0x1426a9;}}}exports[a99_0xcf87f9(0xa1)]=Object[a99_0xcf87f9(0xa3)](new AiSdkWrapper());function a99_0x5b0d(){const _0x28dd5c=['aiHeal_isGroupAIEnabled','freeze','SET_TCG_TOKEN_TIMEOUT','ACxux','NQBWH','\x20command','TCG_URL','error','POLL_HEALING_RESULT_TIMEOUT','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','race','getTestName','selector','../../helpers/timeoutPromise','wUvCm','logData','newCapabilities','_handleEvent','map_','{\x22region\x22:\x20\x22','vHzXd','getId','zAyUd','capabilities_','get','browserstackSessionName','BrowserstackHealingLogDataFailed','namqA','locatorType','toLowerCase','aiHeal_sessionToken','browserName','42790oynNok','14810UOgGwj','owUCl','debug','797835EqWIIL','handleSuccess','isSelfHealEnabled','lPQOw','safariOptions_','nvmFN','keys','BrowserstackHealing.setToken\x20method\x20timed\x20out','2053780qRMUPv','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','pollResult','XeGuf','chrome','ZvurN','edgeOptions_','info','winstonLogger','initializeHealingCapabilities','BrowserstackHealing.logData\x20method\x20timed\x20out','config','TCG_REGION','SeBPG','BrowserstackHealing.healFailure\x20method\x20timed\x20out','BrowserstackHealingHealFailureFailed','message','HEALING_LOG_DATA_TIMEOUT','aiHealing','cancel','BrowserstackHealing.pollResult\x20method\x20timed\x20out','BrowserstackHealingPollResultFailed','ATFod','fromEntries','\x22}}}','microsoftedge','BrowserstackHealingSetTcgTokenFailed','getGlobal','12452625YjntnH','1276988jdrgNZ','LmYVM','msUbW','8VOMujt','aiHeal_userId','BrowserstackHealing','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','then','vhGMR','aiHeal_groupId','bVUKX','using','AkTum','getCapabilities','iaeeF','CFCpj','HEALING_FAILURE_TIMEOUT','7676032SbrioE','48inqDUU','edge','68YAoCBx','s://','split','set','hgmIM','initializeCapabilities','getSession','QAJmc','log','healFailure','woTXi','locatorValue','lTBcQ','handleFailure','\x22,\x20\x22tcgUrls\x22:\x20{\x22','setToken','SpAKK','value','framework','getCommands','vQyBn','dklnZ','join','parameters_','getProjectName','YdcXl','../../bin/utils/constants','sICJx','251328RKVOzh','lnuvs','HsoWV','forEach','ieOptions_','chromeOptions_','firefox','replace','ZqSae','../../ai-sdk-node/bundle','aiSdkWrapper'];a99_0x5b0d=function(){return _0x28dd5c;};return a99_0x5b0d();}