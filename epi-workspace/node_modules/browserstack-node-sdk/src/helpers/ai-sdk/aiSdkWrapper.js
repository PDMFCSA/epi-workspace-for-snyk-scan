function a96_0x1a10(_0x1fe811,_0x7865ad){const _0x511c31=a96_0x511c();return a96_0x1a10=function(_0x1a1023,_0x1b2f6d){_0x1a1023=_0x1a1023-0x9f;let _0x173145=_0x511c31[_0x1a1023];return _0x173145;},a96_0x1a10(_0x1fe811,_0x7865ad);}const a96_0x1a2ba9=a96_0x1a10;(function(_0x5a46f7,_0x43686d){const _0x3938e3=a96_0x1a10,_0x1b0a45=_0x5a46f7();while(!![]){try{const _0x2ea0c3=-parseInt(_0x3938e3(0xc1))/0x1+-parseInt(_0x3938e3(0xfd))/0x2*(-parseInt(_0x3938e3(0x112))/0x3)+-parseInt(_0x3938e3(0xbc))/0x4+parseInt(_0x3938e3(0xa0))/0x5+parseInt(_0x3938e3(0xf8))/0x6+parseInt(_0x3938e3(0xeb))/0x7+-parseInt(_0x3938e3(0xac))/0x8*(parseInt(_0x3938e3(0xf2))/0x9);if(_0x2ea0c3===_0x43686d)break;else _0x1b0a45['push'](_0x1b0a45['shift']());}catch(_0xde992c){_0x1b0a45['push'](_0x1b0a45['shift']());}}}(a96_0x511c,0x36bf8));const path=require(a96_0x1a2ba9(0xb2)),{commandRepository}=require('./autoHealHelper'),constants=require(a96_0x1a2ba9(0xa1)),logger=require(a96_0x1a2ba9(0x110))[a96_0x1a2ba9(0xd4)],globals=require('../globals'),timeoutPromise=require(a96_0x1a2ba9(0xd3)),isUndefinedOrNull=_0x37340c=>_0x37340c===undefined||_0x37340c===null||_0x37340c==='',isNotUndefinedOrNull=_0x2dfd8c=>!isUndefinedOrNull(_0x2dfd8c),isString=_0x33beb5=>isNotUndefinedOrNull(_0x33beb5)&&typeof _0x33beb5===a96_0x1a2ba9(0xe3);class AiSdkWrapper{constructor(){const _0x394e0b=a96_0x1a2ba9,_0x147954={'Evrqx':function(_0x261159,_0xaedcae){return _0x261159(_0xaedcae);},'odbgB':_0x394e0b(0xa7)};this[_0x394e0b(0x10c)]=undefined;try{this[_0x394e0b(0x10c)]=_0x147954['Evrqx'](require,path[_0x394e0b(0xfe)](__dirname,_0x147954['odbgB']));}catch(_0x3079ee){logger[_0x394e0b(0xe9)](_0x394e0b(0x113)+(_0x3079ee&&_0x3079ee['message']?_0x3079ee['message']:''));}}[a96_0x1a2ba9(0xe5)](_0x27f097){const _0x9a4ffd=a96_0x1a2ba9,_0x2adab9={};_0x2adab9[_0x9a4ffd(0x106)]=_0x9a4ffd(0xcf),_0x2adab9[_0x9a4ffd(0xbd)]=function(_0x33eab9,_0x5232f0){return _0x33eab9===_0x5232f0;},_0x2adab9['sPhgd']=_0x9a4ffd(0xe2),_0x2adab9[_0x9a4ffd(0xf3)]=_0x9a4ffd(0xec),_0x2adab9[_0x9a4ffd(0x10d)]=function(_0x2a0e9b,_0x1c16b2){return _0x2a0e9b===_0x1c16b2;},_0x2adab9[_0x9a4ffd(0x10b)]=_0x9a4ffd(0xfb),_0x2adab9[_0x9a4ffd(0xc3)]='edge',_0x2adab9[_0x9a4ffd(0x100)]='microsoftedge',_0x2adab9[_0x9a4ffd(0xa9)]=function(_0xddef1,_0x33fd92){return _0xddef1===_0x33fd92;};const _0x2452a2=_0x2adab9;try{const _0x104217=this['BrowserstackHealing'][_0x9a4ffd(0xfa)](Object['fromEntries'](_0x27f097[_0x9a4ffd(0xa8)]()['map_']));console[_0x9a4ffd(0xbb)](_0x2452a2[_0x9a4ffd(0x106)],_0x104217);if(_0x2452a2[_0x9a4ffd(0xbd)](_0x104217?.[_0x9a4ffd(0xdc)]?.[_0x9a4ffd(0x104)](),_0x2452a2['sPhgd']))_0x27f097['chromeOptions_']=_0x104217;else{if(_0x2452a2[_0x9a4ffd(0xbd)](_0x104217?.[_0x9a4ffd(0xdc)]?.[_0x9a4ffd(0x104)](),_0x2452a2['CKsyS']))_0x27f097[_0x9a4ffd(0xe0)]=_0x104217;else{if(_0x2452a2[_0x9a4ffd(0x10d)](_0x104217?.[_0x9a4ffd(0xdc)]?.[_0x9a4ffd(0x104)](),_0x2452a2[_0x9a4ffd(0x10b)]))_0x27f097['safariOptions_']=_0x104217;else{if(_0x2452a2['HLIEn'](_0x104217?.[_0x9a4ffd(0xdc)]?.[_0x9a4ffd(0x104)](),_0x2452a2[_0x9a4ffd(0xc3)])||_0x2452a2[_0x9a4ffd(0xbd)](_0x104217?.[_0x9a4ffd(0xdc)]?.['toLowerCase'](),_0x2452a2[_0x9a4ffd(0x100)]))_0x27f097[_0x9a4ffd(0xef)]=_0x104217;else _0x2452a2[_0x9a4ffd(0xa9)](_0x104217?.['browserName']?.[_0x9a4ffd(0x104)](),'ie')&&(_0x27f097[_0x9a4ffd(0xc0)]=_0x104217);}}}Object['keys'](_0x104217)[_0x9a4ffd(0xce)](_0x311282=>{const _0x7c058c=_0x9a4ffd,_0x11d535=_0x27f097[_0x7c058c(0xdd)]['get'](_0x311282);_0x27f097[_0x7c058c(0xdd)][_0x7c058c(0xa2)](_0x311282,_0x104217[_0x311282]);});}catch(_0x4622e8){logger[_0x9a4ffd(0xe9)]('Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20'+(_0x4622e8&&_0x4622e8[_0x9a4ffd(0xde)]?_0x4622e8['message']:''));}}async['setTcgToken'](_0xd5f86){const _0x2de8f6=a96_0x1a2ba9,_0x420974={'HdJUd':function(_0x4d268d,_0x15c39b,_0x32243b,_0x30393d,_0x228106,_0x5bad33,_0x2bd37b){return _0x4d268d(_0x15c39b,_0x32243b,_0x30393d,_0x228106,_0x5bad33,_0x2bd37b);},'cUaHv':_0x2de8f6(0xa5),'eNmVU':_0x2de8f6(0xe4),'jeCth':'aiHeal_sessionToken'},_0x4b9a27=new Date(),_0x1dabfa=_0x420974['HdJUd'](timeoutPromise,constants[_0x2de8f6(0xd0)],_0x420974['cUaHv'],_0x420974[_0x2de8f6(0x103)],_0x4b9a27,this[_0x2de8f6(0xff)],this[_0x2de8f6(0xcb)]);await Promise[_0x2de8f6(0xaa)]([this[_0x2de8f6(0x10c)]['setToken'](_0xd5f86,globals[_0x2de8f6(0xb9)](_0x420974[_0x2de8f6(0x10f)]),constants['TCG_URL'])[_0x2de8f6(0x105)](()=>{const _0xabc9cf=_0x2de8f6;_0x1dabfa[_0xabc9cf(0xa4)]();}),_0x1dabfa]);}async['_handleEvent'](_0x55aee5,_0x4486ac,_0x4e9daf,_0x4b315e){const _0x3231b1=a96_0x1a2ba9,_0x16d696={'kmjrS':function(_0x371aaf,_0x54d25a){return _0x371aaf===_0x54d25a;},'mqsbM':function(_0x27f856,_0x21b604){return _0x27f856===_0x21b604;},'rlVVl':function(_0x1dd93a,_0x26ff61){return _0x1dd93a(_0x26ff61);},'dYGTd':function(_0x34bee9,_0x1e8361){return _0x34bee9(_0x1e8361);},'lpEhi':function(_0x5bade7,_0x341e57){return _0x5bade7(_0x341e57);},'RuzOz':function(_0x81dd79,_0x1757bc){return _0x81dd79(_0x1757bc);},'CjnMl':function(_0x4a7200,_0x51438c){return _0x4a7200(_0x51438c);},'cagug':function(_0xef4d95,_0x379c35){return _0xef4d95(_0x379c35);},'xaUhr':_0x3231b1(0x102),'OvhzQ':function(_0x1e6631,_0xabd0b8){return _0x1e6631(_0xabd0b8);},'OwCiu':function(_0x19ba2b,_0x429f36){return _0x19ba2b(_0x429f36);},'YNrHL':_0x3231b1(0x10a),'XNolL':_0x3231b1(0xbe),'DzMWJ':_0x3231b1(0xb7),'Vdhlg':function(_0x274b58,_0x39c19d,_0x3a30d2,_0x2f0de3,_0x408034,_0x32f336,_0x4a309d){return _0x274b58(_0x39c19d,_0x3a30d2,_0x2f0de3,_0x408034,_0x32f336,_0x4a309d);},'ZqLYq':_0x3231b1(0xa6),'etRAL':_0x3231b1(0xdf),'fxYzC':function(_0x141425,_0x2cbc80,_0x2d5f58,_0x4f8725,_0x25be0e,_0x3d0fa5,_0x109671){return _0x141425(_0x2cbc80,_0x2d5f58,_0x4f8725,_0x25be0e,_0x3d0fa5,_0x109671);},'vkPHX':_0x3231b1(0xd8),'vgPqz':_0x3231b1(0xe8)},_0x1fedcc=(await _0x4486ac[_0x3231b1(0xba)]())[_0x3231b1(0xe6)]();let _0x88d67c='';if(commandRepository[_0x3231b1(0xc5)]()&&_0x16d696[_0x3231b1(0xd1)](_0x4b315e,![])||_0x16d696[_0x3231b1(0xc9)](_0x4b315e,!![])){const _0x5ccfc8=_0x16d696['rlVVl'](isNotUndefinedOrNull,_0x4e9daf[_0x3231b1(0xbf)][_0x3231b1(0x10e)])&&_0x16d696[_0x3231b1(0xf0)](isString,_0x4e9daf['parameters_'][_0x3231b1(0x10e)])?_0x4e9daf[_0x3231b1(0xbf)][_0x3231b1(0x10e)][_0x3231b1(0xab)](/'/g,'\x5c\x27')[_0x3231b1(0xab)](/"/g,'\x5c\x22'):'',_0x341f3c=_0x16d696[_0x3231b1(0xf0)](isNotUndefinedOrNull,_0x4e9daf[_0x3231b1(0xbf)][_0x3231b1(0x10e)])&&_0x16d696['lpEhi'](isString,_0x4e9daf[_0x3231b1(0xbf)]['value'])?_0x4e9daf[_0x3231b1(0xbf)]['value'][_0x3231b1(0xab)](/'/g,'\x5c\x27')[_0x3231b1(0xab)](/"/g,'\x5c\x22'):'',_0x4fcc8c=_0x16d696[_0x3231b1(0xea)](isNotUndefinedOrNull,commandRepository[_0x3231b1(0xb6)]())&&_0x16d696[_0x3231b1(0xf6)](isString,commandRepository[_0x3231b1(0xb6)]())?commandRepository[_0x3231b1(0xb6)]()['replace'](/'/g,'\x5c\x27')[_0x3231b1(0xab)](/"/g,'\x5c\x22'):'';let _0x2ecf3f=_0x16d696[_0x3231b1(0xf0)](isNotUndefinedOrNull,global['browserstackSessionName'])&&_0x16d696[_0x3231b1(0xc8)](isString,global['browserstackSessionName'])?global[_0x3231b1(0xb4)][_0x3231b1(0xab)](/'/g,'\x5c\x27')[_0x3231b1(0xab)](/"/g,'\x5c\x22'):'';!_0x2ecf3f&&(_0x2ecf3f=_0x16d696['cagug'](isNotUndefinedOrNull,commandRepository[_0x3231b1(0xb0)]())&&_0x16d696[_0x3231b1(0xc8)](isString,commandRepository[_0x3231b1(0xb0)]())?commandRepository['getTestName']()[_0x3231b1(0xab)](/'/g,'\x5c\x27')[_0x3231b1(0xab)](/"/g,'\x5c\x22'):'');let _0x5be217='{\x22region\x22:\x20\x22'+constants[_0x3231b1(0xf4)]+'\x22,\x20\x22tcgUrls\x22:\x20{\x22'+constants['TCG_REGION']+'\x22:\x20{\x22endpoint\x22:\x20\x22'+constants[_0x3231b1(0xf5)][_0x3231b1(0xd7)](_0x16d696[_0x3231b1(0xc6)])[0x1]+'\x22}}}';_0x5be217=_0x16d696[_0x3231b1(0x109)](isNotUndefinedOrNull,_0x5be217)&&_0x16d696[_0x3231b1(0xda)](isString,_0x5be217)?_0x5be217[_0x3231b1(0xab)](/'/g,'\x5c\x27')[_0x3231b1(0xab)](/"/g,'\x5c\x22'):'';const _0x530222=commandRepository[_0x3231b1(0xaf)](_0x1fedcc),_0x5ec7f2=globals[_0x3231b1(0xb9)](_0x16d696[_0x3231b1(0x107)]),_0x27f7fe=globals['getGlobal'](_0x16d696[_0x3231b1(0xed)]),_0x4c174d=globals[_0x3231b1(0xb9)](_0x16d696[_0x3231b1(0xb5)]),_0x4f9329=![],_0x503973=new Date();if(_0x4b315e){const _0x113e37=_0x16d696[_0x3231b1(0xd2)](timeoutPromise,constants[_0x3231b1(0xc7)],_0x16d696[_0x3231b1(0xe1)],_0x16d696[_0x3231b1(0xb3)],_0x503973,this[_0x3231b1(0xff)],this['framework']);_0x88d67c=await Promise[_0x3231b1(0xaa)]([this[_0x3231b1(0x10c)][_0x3231b1(0xc4)](_0x5ccfc8,_0x341f3c,_0x4fcc8c,_0x2ecf3f,_0x27f7fe,_0x1fedcc,_0x530222,_0x5be217)['then'](_0x970666=>{const _0x27ec17=_0x3231b1;return _0x113e37[_0x27ec17(0xa4)](),_0x970666;}),_0x113e37]);}else{if(commandRepository['isSelfHealEnabled']()){const _0x3fa1c8=_0x16d696['fxYzC'](timeoutPromise,constants[_0x3231b1(0xad)],_0x16d696[_0x3231b1(0xb1)],_0x16d696[_0x3231b1(0xd5)],_0x503973,this['config'],this['framework']);_0x88d67c=await Promise[_0x3231b1(0xaa)]([this[_0x3231b1(0x10c)][_0x3231b1(0x9f)](_0x5ccfc8,_0x341f3c,_0x4fcc8c,_0x2ecf3f,_0x5ec7f2,_0x27f7fe,_0x1fedcc,_0x530222,_0x4f9329,_0x4c174d,_0x5be217)[_0x3231b1(0x105)](_0x2ce7d0=>{return _0x3fa1c8['cancel'](),_0x2ce7d0;}),_0x3fa1c8]);}}_0x88d67c&&await _0x4486ac['executeScript'](_0x88d67c);}}async['handleSuccess'](_0x53679a,_0x160568,_0x4f3dc4){const _0x305194=a96_0x1a2ba9;try{await this[_0x305194(0xf9)](_0x53679a,_0x160568,_0x4f3dc4,!![]);}catch(_0x2086d4){return logger[_0x305194(0xe9)](_0x305194(0xdb)+(_0x2086d4&&_0x2086d4['message']?_0x2086d4[_0x305194(0xde)]:'')),![];}return!![];}async[a96_0x1a2ba9(0xca)](_0x5a8a3b,_0x2a8bba,_0x1e0cf3){const _0xe46fe=a96_0x1a2ba9,_0x38efe1={'pqKkx':function(_0x4e0031,_0x4c3009,_0x2945b5,_0x36c52c,_0x6ee1d8,_0x44926a,_0x20a580){return _0x4e0031(_0x4c3009,_0x2945b5,_0x36c52c,_0x6ee1d8,_0x44926a,_0x20a580);},'VuQLZ':_0xe46fe(0xa3),'SPuDA':_0xe46fe(0xcd),'IHUxG':_0xe46fe(0x111)};try{await this[_0xe46fe(0xf9)](_0x5a8a3b,_0x2a8bba,_0x1e0cf3,![]);const _0x15ba76=(await _0x2a8bba[_0xe46fe(0xba)]())[_0xe46fe(0xe6)](),_0x70c604=new Date(),_0x5107e0=_0x38efe1['pqKkx'](timeoutPromise,constants[_0xe46fe(0xfc)],_0x38efe1[_0xe46fe(0xc2)],_0x38efe1['SPuDA'],_0x70c604,this[_0xe46fe(0xff)],this[_0xe46fe(0xcb)]),_0x5f234b=await Promise['race']([this['BrowserstackHealing']['pollResult'](constants[_0xe46fe(0xf5)],_0x15ba76,globals[_0xe46fe(0xb9)](_0x38efe1[_0xe46fe(0xd9)]))['then'](_0x4a2caf=>{const _0x43efa8=_0xe46fe;return _0x5107e0[_0x43efa8(0xa4)](),_0x4a2caf;}),_0x5107e0]);if(_0x5f234b&&_0x5f234b[_0xe46fe(0xb8)]&&_0x5f234b[_0xe46fe(0xcc)]){const _0x36d509={};return _0x36d509[_0xe46fe(0x101)]=_0x5f234b[_0xe46fe(0xb8)],_0x36d509[_0xe46fe(0x108)]=_0x5f234b[_0xe46fe(0xcc)],_0x36d509[_0xe46fe(0xf1)]=!![],_0x36d509;}const _0x4d78af={};return _0x4d78af[_0xe46fe(0x101)]=_0x1e0cf3['parameters_'][_0xe46fe(0x10e)],_0x4d78af['locatorValue']=_0x5f234b[_0xe46fe(0xcc)],_0x4d78af['aiHealing']=!![],_0x4d78af;}catch(_0x274ed6){return logger['debug'](_0xe46fe(0xe7)+(_0x274ed6&&_0x274ed6[_0xe46fe(0xde)]?_0x274ed6[_0xe46fe(0xde)]:'')),logger['info'](_0xe46fe(0xee)+_0x1e0cf3['name_']+_0xe46fe(0xf7)),_0x1e0cf3;}}}exports[a96_0x1a2ba9(0xd6)]=Object[a96_0x1a2ba9(0xae)](new AiSdkWrapper());function a96_0x511c(){const _0x1b5aae=['split','BrowserstackHealing.healFailure\x20method\x20timed\x20out','IHUxG','OwCiu','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','browserName','capabilities_','message','BrowserstackHealingLogDataFailed','firefoxOptions_','ZqLYq','chrome','string','BrowserstackHealingSetTcgTokenFailed','initializeHealingCapabilities','getId','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','BrowserstackHealingHealFailureFailed','error','lpEhi','2668484ZTQprr','firefox','XNolL','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','edgeOptions_','dYGTd','aiHealing','36aFITZo','CKsyS','TCG_REGION','TCG_URL','RuzOz','\x20command','2203158EcIuHs','_handleEvent','initializeCapabilities','safari','POLL_HEALING_RESULT_TIMEOUT','69074MPRZlZ','join','config','oNMAv','locatorType','s://','eNmVU','toLowerCase','then','LHMLF','YNrHL','locatorValue','OvhzQ','aiHeal_userId','YZKFK','BrowserstackHealing','HLIEn','using','jeCth','../logger','aiHeal_sessionToken','6xbXiiW','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','healFailure','2219760jsIARg','../../bin/utils/constants','set','BrowserstackHealing.pollResult\x20method\x20timed\x20out','cancel','BrowserstackHealing.setToken\x20method\x20timed\x20out','BrowserstackHealing.logData\x20method\x20timed\x20out','../../ai-sdk-node/bundle','getCapabilities','wAzRY','race','replace','970352xeIMZm','HEALING_FAILURE_TIMEOUT','freeze','getCommands','getTestName','vkPHX','path','etRAL','browserstackSessionName','DzMWJ','getProjectName','aiHeal_isGroupAIEnabled','selector','getGlobal','getSession','log','1104476uDrrPb','foCEd','aiHeal_groupId','parameters_','ieOptions_','275888XmUGoO','VuQLZ','bmrWY','logData','isSelfHealEnabled','xaUhr','HEALING_LOG_DATA_TIMEOUT','CjnMl','mqsbM','handleFailure','framework','value','BrowserstackHealingPollResultFailed','forEach','newCapabilities','SET_TCG_TOKEN_TIMEOUT','kmjrS','Vdhlg','../../helpers/timeoutPromise','winstonLogger','vgPqz','aiSdkWrapper'];a96_0x511c=function(){return _0x1b5aae;};return a96_0x511c();}