const a59_0x3ab1f6=a59_0x14c6;(function(_0xbfd2fa,_0x543a1a){const _0x43a854=a59_0x14c6,_0x2e7f99=_0xbfd2fa();while(!![]){try{const _0x58a2ef=parseInt(_0x43a854(0xe4))/0x1*(-parseInt(_0x43a854(0x10f))/0x2)+parseInt(_0x43a854(0xf1))/0x3+-parseInt(_0x43a854(0xf7))/0x4*(parseInt(_0x43a854(0xd5))/0x5)+-parseInt(_0x43a854(0xd3))/0x6*(-parseInt(_0x43a854(0xdd))/0x7)+parseInt(_0x43a854(0xf5))/0x8+parseInt(_0x43a854(0x11b))/0x9*(parseInt(_0x43a854(0xb8))/0xa)+-parseInt(_0x43a854(0xa5))/0xb*(-parseInt(_0x43a854(0xb9))/0xc);if(_0x58a2ef===_0x543a1a)break;else _0x2e7f99['push'](_0x2e7f99['shift']());}catch(_0xc96064){_0x2e7f99['push'](_0x2e7f99['shift']());}}}(a59_0x2fa8,0x9b900));function a59_0x14c6(_0x156a54,_0x354966){const _0x2fa8a7=a59_0x2fa8();return a59_0x14c6=function(_0x14c63a,_0x3f206a){_0x14c63a=_0x14c63a-0x9f;let _0x12da5c=_0x2fa8a7[_0x14c63a];return _0x12da5c;},a59_0x14c6(_0x156a54,_0x354966);}const path=require('path'),{commandRepository}=require(a59_0x3ab1f6(0x10a)),constants=require(a59_0x3ab1f6(0xf4)),logger=require('../logger')[a59_0x3ab1f6(0x11a)],globals=require(a59_0x3ab1f6(0xa9)),timeoutPromise=require(a59_0x3ab1f6(0x10d)),isUndefinedOrNull=_0x251234=>_0x251234===undefined||_0x251234===null||_0x251234==='',isNotUndefinedOrNull=_0x4b353e=>!isUndefinedOrNull(_0x4b353e),isString=_0x89b655=>isNotUndefinedOrNull(_0x89b655)&&typeof _0x89b655===a59_0x3ab1f6(0x118);class AiSdkWrapper{constructor(){const _0x2907ad=a59_0x3ab1f6,_0x30db23={'QBTlF':function(_0x4bdcc4,_0x5abd8f){return _0x4bdcc4(_0x5abd8f);},'cUyZM':'../../ai-sdk-node/bundle'};this[_0x2907ad(0xbf)]=undefined;try{this[_0x2907ad(0xbf)]=_0x30db23[_0x2907ad(0xff)](require,path['join'](__dirname,_0x30db23[_0x2907ad(0xcf)]));}catch(_0xb9bf63){logger[_0x2907ad(0xc9)](_0x2907ad(0xc5)+(_0xb9bf63&&_0xb9bf63[_0x2907ad(0xb2)]?_0xb9bf63[_0x2907ad(0xb2)]:''));}}['initializeHealingCapabilities'](_0x515490){const _0x21b9c9=a59_0x3ab1f6,_0x5c6b56={};_0x5c6b56[_0x21b9c9(0xb6)]='newCapabilities',_0x5c6b56[_0x21b9c9(0xf8)]=function(_0x1c1308,_0x4b0759){return _0x1c1308===_0x4b0759;},_0x5c6b56['OXSaW']=_0x21b9c9(0x109),_0x5c6b56['tfGkk']=_0x21b9c9(0xcc),_0x5c6b56[_0x21b9c9(0xbe)]=_0x21b9c9(0xef),_0x5c6b56[_0x21b9c9(0x116)]=_0x21b9c9(0xd2),_0x5c6b56[_0x21b9c9(0xb3)]=_0x21b9c9(0x11c),_0x5c6b56[_0x21b9c9(0xd0)]=function(_0x12b14f,_0x2e40dd){return _0x12b14f===_0x2e40dd;};const _0x4e1f2b=_0x5c6b56;try{const _0x44a344=this[_0x21b9c9(0xbf)][_0x21b9c9(0xed)](Object[_0x21b9c9(0xa3)](_0x515490['getCapabilities']()[_0x21b9c9(0x102)]));console['log'](_0x4e1f2b['EQucd'],_0x44a344);if(_0x4e1f2b[_0x21b9c9(0xf8)](_0x44a344?.[_0x21b9c9(0xfa)]?.[_0x21b9c9(0x106)](),_0x4e1f2b[_0x21b9c9(0x10c)]))_0x515490[_0x21b9c9(0x110)]=_0x44a344;else{if(_0x4e1f2b[_0x21b9c9(0xf8)](_0x44a344?.['browserName']?.[_0x21b9c9(0x106)](),_0x4e1f2b[_0x21b9c9(0xcb)]))_0x515490[_0x21b9c9(0xf3)]=_0x44a344;else{if(_0x4e1f2b['bRzeA'](_0x44a344?.[_0x21b9c9(0xfa)]?.['toLowerCase'](),_0x4e1f2b[_0x21b9c9(0xbe)]))_0x515490['safariOptions_']=_0x44a344;else{if(_0x4e1f2b[_0x21b9c9(0xf8)](_0x44a344?.[_0x21b9c9(0xfa)]?.[_0x21b9c9(0x106)](),_0x4e1f2b[_0x21b9c9(0x116)])||_0x4e1f2b[_0x21b9c9(0xf8)](_0x44a344?.['browserName']?.[_0x21b9c9(0x106)](),_0x4e1f2b['PiHNY']))_0x515490[_0x21b9c9(0x111)]=_0x44a344;else _0x4e1f2b[_0x21b9c9(0xd0)](_0x44a344?.[_0x21b9c9(0xfa)]?.[_0x21b9c9(0x106)](),'ie')&&(_0x515490[_0x21b9c9(0xba)]=_0x44a344);}}}Object[_0x21b9c9(0x103)](_0x44a344)['forEach'](_0x52cb72=>{const _0x2fbf97=_0x21b9c9,_0x5bdb77=_0x515490[_0x2fbf97(0xb1)][_0x2fbf97(0xd6)](_0x52cb72);_0x515490[_0x2fbf97(0xb1)]['set'](_0x52cb72,_0x44a344[_0x52cb72]);});}catch(_0x5d42d0){logger[_0x21b9c9(0xc9)](_0x21b9c9(0xea)+(_0x5d42d0&&_0x5d42d0[_0x21b9c9(0xb2)]?_0x5d42d0[_0x21b9c9(0xb2)]:''));}}async[a59_0x3ab1f6(0xb4)](_0x97f428){const _0x167a00=a59_0x3ab1f6,_0x23a2d9={'CpZTU':function(_0x46f9cc,_0x1186d3,_0x246408,_0x146696,_0x427598,_0x161c20,_0x811da4){return _0x46f9cc(_0x1186d3,_0x246408,_0x146696,_0x427598,_0x161c20,_0x811da4);},'ohRcX':_0x167a00(0xca),'ibTAZ':'BrowserstackHealingSetTcgTokenFailed','efDrc':_0x167a00(0xae)},_0x16a788=new Date(),_0x346320=_0x23a2d9[_0x167a00(0xad)](timeoutPromise,constants['SET_TCG_TOKEN_TIMEOUT'],_0x23a2d9[_0x167a00(0xa0)],_0x23a2d9[_0x167a00(0x108)],_0x16a788,this[_0x167a00(0xdc)],this[_0x167a00(0xaa)]);await Promise[_0x167a00(0xc8)]([this['BrowserstackHealing'][_0x167a00(0xee)](_0x97f428,globals[_0x167a00(0x115)](_0x23a2d9['efDrc']),constants[_0x167a00(0x9f)])['then'](()=>{const _0x3f6bef=_0x167a00;_0x346320[_0x3f6bef(0xfc)]();}),_0x346320]);}async['_handleEvent'](_0x3ab649,_0x58c465,_0x28afa0,_0x17f2c1){const _0x37455e=a59_0x3ab1f6,_0x5653a0={'uogGX':function(_0x5c5c6c,_0x3328f0){return _0x5c5c6c===_0x3328f0;},'PVxxX':function(_0x126d19,_0x55fc2b){return _0x126d19(_0x55fc2b);},'dzocm':function(_0x518566,_0x26bf04){return _0x518566(_0x26bf04);},'zzVto':function(_0x410e23,_0x76406a){return _0x410e23(_0x76406a);},'PzJxz':function(_0xd45a5c,_0x2e3c6c){return _0xd45a5c(_0x2e3c6c);},'MhIJn':function(_0x91f1ac,_0x274c7a){return _0x91f1ac(_0x274c7a);},'BUVCB':function(_0x291865,_0x1f96cd){return _0x291865(_0x1f96cd);},'zGrsP':_0x37455e(0x117),'nZmGI':function(_0x1d25b8,_0x151f29){return _0x1d25b8(_0x151f29);},'ZzNJm':_0x37455e(0xe2),'ZMnSB':_0x37455e(0xc3),'gqBwq':'aiHeal_isGroupAIEnabled','twdbv':function(_0x3c437a,_0x1dcd0b,_0x4c8741,_0xbef813,_0x3bef8d,_0x3dcf08,_0x3b91e7){return _0x3c437a(_0x1dcd0b,_0x4c8741,_0xbef813,_0x3bef8d,_0x3dcf08,_0x3b91e7);},'rQZYa':'BrowserstackHealing.logData\x20method\x20timed\x20out','ApFxG':_0x37455e(0xd1),'YeyrN':function(_0xe4a634,_0x59b8a9,_0x1b9508,_0x131647,_0x94bbd1,_0x114440,_0x524abf){return _0xe4a634(_0x59b8a9,_0x1b9508,_0x131647,_0x94bbd1,_0x114440,_0x524abf);},'RNTio':_0x37455e(0xdf),'yAuyS':_0x37455e(0x100)},_0x43b793=(await _0x58c465['getSession']())[_0x37455e(0x112)]();let _0x3833ed='';if(commandRepository[_0x37455e(0x101)]()&&_0x5653a0[_0x37455e(0xeb)](_0x17f2c1,![])||_0x5653a0['uogGX'](_0x17f2c1,!![])){const _0x49821f=_0x5653a0[_0x37455e(0xf2)](isNotUndefinedOrNull,_0x28afa0[_0x37455e(0xd4)][_0x37455e(0xb0)])&&_0x5653a0[_0x37455e(0xa8)](isString,_0x28afa0[_0x37455e(0xd4)][_0x37455e(0xb0)])?_0x28afa0[_0x37455e(0xd4)][_0x37455e(0xb0)][_0x37455e(0xfe)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x3ccc00=_0x5653a0[_0x37455e(0xf2)](isNotUndefinedOrNull,_0x28afa0[_0x37455e(0xd4)]['using'])&&_0x5653a0[_0x37455e(0xa8)](isString,_0x28afa0[_0x37455e(0xd4)][_0x37455e(0x10e)])?_0x28afa0[_0x37455e(0xd4)]['value'][_0x37455e(0xfe)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x355672=_0x5653a0[_0x37455e(0xf0)](isNotUndefinedOrNull,commandRepository[_0x37455e(0xd8)]())&&_0x5653a0[_0x37455e(0xe6)](isString,commandRepository[_0x37455e(0xd8)]())?commandRepository[_0x37455e(0xd8)]()['replace'](/'/g,'\x5c\x27')[_0x37455e(0xfe)](/"/g,'\x5c\x22'):'';let _0x3980f1=_0x5653a0[_0x37455e(0x107)](isNotUndefinedOrNull,global[_0x37455e(0x104)])&&_0x5653a0['BUVCB'](isString,global[_0x37455e(0x104)])?global['browserstackSessionName'][_0x37455e(0xfe)](/'/g,'\x5c\x27')[_0x37455e(0xfe)](/"/g,'\x5c\x22'):'';!_0x3980f1&&(_0x3980f1=_0x5653a0[_0x37455e(0xa8)](isNotUndefinedOrNull,commandRepository[_0x37455e(0xce)]())&&_0x5653a0[_0x37455e(0xe6)](isString,commandRepository[_0x37455e(0xce)]())?commandRepository[_0x37455e(0xce)]()['replace'](/'/g,'\x5c\x27')[_0x37455e(0xfe)](/"/g,'\x5c\x22'):'');let _0x902d16=_0x37455e(0xc6)+constants['TCG_REGION']+'\x22,\x20\x22tcgUrls\x22:\x20{\x22'+constants[_0x37455e(0xfd)]+_0x37455e(0xa2)+constants[_0x37455e(0x9f)][_0x37455e(0xe7)](_0x5653a0[_0x37455e(0x113)])[0x1]+'\x22}}}';_0x902d16=_0x5653a0[_0x37455e(0xf6)](isNotUndefinedOrNull,_0x902d16)&&_0x5653a0[_0x37455e(0x107)](isString,_0x902d16)?_0x902d16['replace'](/'/g,'\x5c\x27')[_0x37455e(0xfe)](/"/g,'\x5c\x22'):'';const _0x81b8f4=commandRepository[_0x37455e(0xa4)](_0x43b793),_0x350d30=globals[_0x37455e(0x115)](_0x5653a0[_0x37455e(0xa6)]),_0x3ef167=globals[_0x37455e(0x115)](_0x5653a0[_0x37455e(0xbd)]),_0x543a46=globals[_0x37455e(0x115)](_0x5653a0[_0x37455e(0xe3)]),_0x3fba71=![],_0x3b11a2=new Date();if(_0x17f2c1){const _0x138c2f=_0x5653a0[_0x37455e(0xd9)](timeoutPromise,constants[_0x37455e(0xc2)],_0x5653a0[_0x37455e(0xe8)],_0x5653a0[_0x37455e(0xbc)],_0x3b11a2,this[_0x37455e(0xdc)],this[_0x37455e(0xaa)]);_0x3833ed=await Promise[_0x37455e(0xc8)]([this[_0x37455e(0xbf)][_0x37455e(0x119)](_0x49821f,_0x3ccc00,_0x355672,_0x3980f1,_0x3ef167,_0x43b793,_0x81b8f4,_0x902d16)['then'](_0xae3678=>{return _0x138c2f['cancel'](),_0xae3678;}),_0x138c2f]);}else{if(commandRepository[_0x37455e(0x101)]()){const _0xd2f46a=_0x5653a0['YeyrN'](timeoutPromise,constants[_0x37455e(0xbb)],_0x5653a0['RNTio'],_0x5653a0[_0x37455e(0xe9)],_0x3b11a2,this[_0x37455e(0xdc)],this['framework']);_0x3833ed=await Promise[_0x37455e(0xc8)]([this['BrowserstackHealing'][_0x37455e(0xac)](_0x49821f,_0x3ccc00,_0x355672,_0x3980f1,_0x350d30,_0x3ef167,_0x43b793,_0x81b8f4,_0x3fba71,_0x543a46,_0x902d16)['then'](_0x577b0f=>{const _0x4b4eec=_0x37455e;return _0xd2f46a[_0x4b4eec(0xfc)](),_0x577b0f;}),_0xd2f46a]);}}_0x3833ed&&await _0x58c465[_0x37455e(0xe1)](_0x3833ed);}}async[a59_0x3ab1f6(0xf9)](_0x283909,_0x21f45d,_0x53ab23){const _0x28de26=a59_0x3ab1f6;try{await this[_0x28de26(0xde)](_0x283909,_0x21f45d,_0x53ab23,!![]);}catch(_0x589edc){return logger[_0x28de26(0xc9)]('Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20'+(_0x589edc&&_0x589edc['message']?_0x589edc['message']:'')),![];}return!![];}async['handleFailure'](_0x3606d3,_0x33e26e,_0x188f83){const _0xd98c32=a59_0x3ab1f6,_0x21aa63={'inioe':function(_0x4fab06,_0xcc2dfc,_0x192843,_0x52ecf9,_0x53b055,_0xb9d8ba,_0x51f811){return _0x4fab06(_0xcc2dfc,_0x192843,_0x52ecf9,_0x53b055,_0xb9d8ba,_0x51f811);},'pmTpm':_0xd98c32(0xd7),'stgEO':_0xd98c32(0xa1),'IIfaL':'aiHeal_sessionToken'};try{await this[_0xd98c32(0xde)](_0x3606d3,_0x33e26e,_0x188f83,![]);const _0xddfaaa=(await _0x33e26e[_0xd98c32(0xc0)]())[_0xd98c32(0x112)](),_0x416f7b=new Date(),_0x2bb29e=_0x21aa63[_0xd98c32(0xc7)](timeoutPromise,constants[_0xd98c32(0xfb)],_0x21aa63[_0xd98c32(0xe5)],_0x21aa63[_0xd98c32(0xa7)],_0x416f7b,this['config'],this[_0xd98c32(0xaa)]),_0x2403ba=await Promise[_0xd98c32(0xc8)]([this[_0xd98c32(0xbf)][_0xd98c32(0xe0)](constants[_0xd98c32(0x9f)],_0xddfaaa,globals[_0xd98c32(0x115)](_0x21aa63[_0xd98c32(0xab)]))[_0xd98c32(0xdb)](_0x504162=>{const _0x4850a1=_0xd98c32;return _0x2bb29e[_0x4850a1(0xfc)](),_0x504162;}),_0x2bb29e]);if(_0x2403ba&&_0x2403ba['selector']&&_0x2403ba[_0xd98c32(0x10e)]){const _0x23624f={};return _0x23624f[_0xd98c32(0xb5)]=_0x2403ba[_0xd98c32(0x10b)],_0x23624f[_0xd98c32(0xaf)]=_0x2403ba[_0xd98c32(0x10e)],_0x23624f[_0xd98c32(0xcd)]=!![],_0x23624f;}const _0x23688d={};return _0x23688d['locatorType']=_0x188f83[_0xd98c32(0xd4)][_0xd98c32(0xb0)],_0x23688d['locatorValue']=_0x2403ba[_0xd98c32(0x10e)],_0x23688d['aiHealing']=!![],_0x23688d;}catch(_0xd69b0){return logger[_0xd98c32(0xc1)](_0xd98c32(0xec)+(_0xd69b0&&_0xd69b0[_0xd98c32(0xb2)]?_0xd69b0[_0xd98c32(0xb2)]:'')),logger[_0xd98c32(0x105)](_0xd98c32(0xb7)+_0x188f83[_0xd98c32(0xda)]+_0xd98c32(0xc4)),_0x188f83;}}}function a59_0x2fa8(){const _0x282754=['Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','uogGX','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','initializeCapabilities','setToken','safari','zzVto','1204833wiZWhR','PVxxX','firefoxOptions_','../../bin/utils/constants','1017688SZEGRZ','nZmGI','4031156nqoCkX','bRzeA','handleSuccess','browserName','POLL_HEALING_RESULT_TIMEOUT','cancel','TCG_REGION','replace','QBTlF','BrowserstackHealingHealFailureFailed','isSelfHealEnabled','map_','keys','browserstackSessionName','info','toLowerCase','MhIJn','ibTAZ','chrome','./autoHealHelper','selector','OXSaW','../../helpers/timeoutPromise','value','172852AIEfhk','chromeOptions_','edgeOptions_','getId','zGrsP','freeze','getGlobal','DKYPO','s://','string','logData','winstonLogger','63AwhPbK','microsoftedge','TCG_URL','ohRcX','BrowserstackHealingPollResultFailed','\x22:\x20{\x22endpoint\x22:\x20\x22','fromEntries','getCommands','3776443jNpqjr','ZzNJm','stgEO','dzocm','../globals','framework','IIfaL','healFailure','CpZTU','aiHeal_sessionToken','locatorValue','using','capabilities_','message','PiHNY','setTcgToken','locatorType','EQucd','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','349630CxWNdy','12bRZEDF','ieOptions_','HEALING_FAILURE_TIMEOUT','ApFxG','ZMnSB','FcRmk','BrowserstackHealing','getSession','debug','HEALING_LOG_DATA_TIMEOUT','aiHeal_groupId','\x20command','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','{\x22region\x22:\x20\x22','inioe','race','error','BrowserstackHealing.setToken\x20method\x20timed\x20out','tfGkk','firefox','aiHealing','getTestName','cUyZM','RPMTm','BrowserstackHealingLogDataFailed','edge','6rBmVWj','parameters_','5AbYgaJ','get','BrowserstackHealing.pollResult\x20method\x20timed\x20out','getProjectName','twdbv','name_','then','config','4906643DslMyK','_handleEvent','BrowserstackHealing.healFailure\x20method\x20timed\x20out','pollResult','executeScript','aiHeal_userId','gqBwq','2nPUhfc','pmTpm','PzJxz','split','rQZYa','yAuyS'];a59_0x2fa8=function(){return _0x282754;};return a59_0x2fa8();}exports['aiSdkWrapper']=Object[a59_0x3ab1f6(0x114)](new AiSdkWrapper());