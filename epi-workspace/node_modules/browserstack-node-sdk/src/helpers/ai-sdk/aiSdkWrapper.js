const a99_0x21de3a=a99_0x5746;(function(_0x4723e2,_0x1a856c){const _0x278d29=a99_0x5746,_0x3a2dd4=_0x4723e2();while(!![]){try{const _0x1bb7cb=-parseInt(_0x278d29(0xa1))/0x1+parseInt(_0x278d29(0xe0))/0x2+-parseInt(_0x278d29(0xfb))/0x3*(-parseInt(_0x278d29(0xcb))/0x4)+parseInt(_0x278d29(0xcf))/0x5+-parseInt(_0x278d29(0x80))/0x6*(parseInt(_0x278d29(0x93))/0x7)+parseInt(_0x278d29(0xe7))/0x8+-parseInt(_0x278d29(0x88))/0x9;if(_0x1bb7cb===_0x1a856c)break;else _0x3a2dd4['push'](_0x3a2dd4['shift']());}catch(_0x4deb2f){_0x3a2dd4['push'](_0x3a2dd4['shift']());}}}(a99_0x2de3,0x56817));function a99_0x5746(_0x1e2456,_0x4fc459){const _0x2de34a=a99_0x2de3();return a99_0x5746=function(_0x574690,_0x1570e1){_0x574690=_0x574690-0x7e;let _0x103d63=_0x2de34a[_0x574690];return _0x103d63;},a99_0x5746(_0x1e2456,_0x4fc459);}const path=require(a99_0x21de3a(0xa9)),{commandRepository}=require(a99_0x21de3a(0xe8)),constants=require(a99_0x21de3a(0xd6)),logger=require(a99_0x21de3a(0x83))[a99_0x21de3a(0x7f)],globals=require(a99_0x21de3a(0xd2)),timeoutPromise=require(a99_0x21de3a(0xda)),isUndefinedOrNull=_0x31cc5d=>_0x31cc5d===undefined||_0x31cc5d===null||_0x31cc5d==='',isNotUndefinedOrNull=_0x5b5550=>!isUndefinedOrNull(_0x5b5550),isString=_0x51d9c0=>isNotUndefinedOrNull(_0x51d9c0)&&typeof _0x51d9c0===a99_0x21de3a(0xb1);class AiSdkWrapper{constructor(){const _0x2e8896=a99_0x21de3a,_0x100cc4={'HApli':function(_0x3919cc,_0x5eff7a){return _0x3919cc(_0x5eff7a);},'mLyaL':_0x2e8896(0xf1)};this[_0x2e8896(0xa6)]=undefined;try{this[_0x2e8896(0xa6)]=_0x100cc4[_0x2e8896(0x8b)](require,path['join'](__dirname,_0x100cc4[_0x2e8896(0xae)]));}catch(_0x1fcd11){logger[_0x2e8896(0x91)](_0x2e8896(0xe1)+(_0x1fcd11&&_0x1fcd11[_0x2e8896(0xaa)]?_0x1fcd11[_0x2e8896(0xaa)]:''));}}['initializeHealingCapabilities'](_0x583623){const _0x322339=a99_0x21de3a,_0x58cead={};_0x58cead['KArsY']=_0x322339(0xc1),_0x58cead[_0x322339(0xd9)]=function(_0x2e6788,_0x2450f2){return _0x2e6788===_0x2450f2;},_0x58cead[_0x322339(0x84)]=_0x322339(0x9f),_0x58cead['zrwGF']=function(_0x54cd70,_0x2d1320){return _0x54cd70===_0x2d1320;},_0x58cead['iHhHA']=_0x322339(0xdc),_0x58cead[_0x322339(0xd7)]=function(_0x3e7881,_0x37dba1){return _0x3e7881===_0x37dba1;},_0x58cead[_0x322339(0xa8)]=_0x322339(0xca),_0x58cead[_0x322339(0xbe)]=_0x322339(0xcc),_0x58cead['ZjCPk']=function(_0xb25cdc,_0x4f2005){return _0xb25cdc===_0x4f2005;},_0x58cead[_0x322339(0xb5)]=_0x322339(0xb6),_0x58cead[_0x322339(0xf0)]=function(_0x3afe64,_0x428009){return _0x3afe64===_0x428009;};const _0x5a866a=_0x58cead;try{const _0x150a54=this[_0x322339(0xa6)]['initializeCapabilities'](Object[_0x322339(0x85)](_0x583623[_0x322339(0xc4)]()[_0x322339(0x97)]));console[_0x322339(0x81)](_0x5a866a[_0x322339(0xb0)],_0x150a54);if(_0x5a866a[_0x322339(0xd9)](_0x150a54?.[_0x322339(0x9e)]?.[_0x322339(0xea)](),_0x5a866a[_0x322339(0x84)]))_0x583623[_0x322339(0xa5)]=_0x150a54;else{if(_0x5a866a['zrwGF'](_0x150a54?.[_0x322339(0x9e)]?.[_0x322339(0xea)](),_0x5a866a[_0x322339(0x8c)]))_0x583623['firefoxOptions_']=_0x150a54;else{if(_0x5a866a[_0x322339(0xd7)](_0x150a54?.[_0x322339(0x9e)]?.['toLowerCase'](),_0x5a866a['WbVta']))_0x583623[_0x322339(0xc2)]=_0x150a54;else{if(_0x5a866a[_0x322339(0xd7)](_0x150a54?.['browserName']?.[_0x322339(0xea)](),_0x5a866a[_0x322339(0xbe)])||_0x5a866a[_0x322339(0xe3)](_0x150a54?.['browserName']?.[_0x322339(0xea)](),_0x5a866a['MWLzQ']))_0x583623['edgeOptions_']=_0x150a54;else _0x5a866a[_0x322339(0xf0)](_0x150a54?.['browserName']?.[_0x322339(0xea)](),'ie')&&(_0x583623[_0x322339(0xdd)]=_0x150a54);}}}Object[_0x322339(0xb4)](_0x150a54)[_0x322339(0xde)](_0x4e5d8a=>{const _0x32076c=_0x322339,_0x3b47b1=_0x583623[_0x32076c(0xef)][_0x32076c(0x9d)](_0x4e5d8a);_0x583623[_0x32076c(0xef)][_0x32076c(0x8d)](_0x4e5d8a,_0x150a54[_0x4e5d8a]);});}catch(_0x65b3b4){logger[_0x322339(0x91)]('Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20'+(_0x65b3b4&&_0x65b3b4[_0x322339(0xaa)]?_0x65b3b4[_0x322339(0xaa)]:''));}}async[a99_0x21de3a(0xfc)](_0x4ce2f3){const _0x5784ca=a99_0x21de3a,_0x6657c={'fOrmo':function(_0x49032d,_0x4da657,_0xb7191d,_0x5ce5a3,_0xfdae8f,_0x1666bc,_0x5dcf6f){return _0x49032d(_0x4da657,_0xb7191d,_0x5ce5a3,_0xfdae8f,_0x1666bc,_0x5dcf6f);},'hkSiR':_0x5784ca(0xfd),'cngyE':_0x5784ca(0xb3),'aeQOG':_0x5784ca(0x98)},_0x17faff=new Date(),_0x25047d=_0x6657c[_0x5784ca(0xfe)](timeoutPromise,constants['SET_TCG_TOKEN_TIMEOUT'],_0x6657c[_0x5784ca(0xac)],_0x6657c[_0x5784ca(0xf5)],_0x17faff,this[_0x5784ca(0x96)],this[_0x5784ca(0xaf)]);await Promise[_0x5784ca(0xe2)]([this[_0x5784ca(0xa6)]['setToken'](_0x4ce2f3,globals[_0x5784ca(0xb7)](_0x6657c[_0x5784ca(0x92)]),constants[_0x5784ca(0xf4)])[_0x5784ca(0x87)](()=>{const _0x24fd80=_0x5784ca;_0x25047d[_0x24fd80(0xbd)]();}),_0x25047d]);}async[a99_0x21de3a(0x100)](_0x36b8d2,_0x11e688,_0x3af675,_0x97240b){const _0x167698=a99_0x21de3a,_0x5ac580={'xxHal':function(_0x22adbe,_0x38062d){return _0x22adbe===_0x38062d;},'YpKIV':function(_0x5c86f1,_0x4e7fd7){return _0x5c86f1(_0x4e7fd7);},'xYAYG':function(_0x105a6a,_0x46d743){return _0x105a6a(_0x46d743);},'xNNDb':function(_0x171324,_0x227920){return _0x171324(_0x227920);},'WiNtZ':function(_0x4fda36,_0x1a7d19){return _0x4fda36(_0x1a7d19);},'fRmko':function(_0x4b794d,_0x42867c){return _0x4b794d(_0x42867c);},'FSdsZ':function(_0x477411,_0xf80308){return _0x477411(_0xf80308);},'GVvea':function(_0x1c5788,_0x2b9272){return _0x1c5788(_0x2b9272);},'pgZGL':_0x167698(0xe5),'whNmY':function(_0x133833,_0x2946bd){return _0x133833(_0x2946bd);},'ZDMqF':_0x167698(0xa3),'PEbAD':_0x167698(0xc3),'kTupv':_0x167698(0xbc),'tLyQQ':function(_0x19073c,_0x1db6b1,_0x16280e,_0x2611bd,_0x150127,_0x39319d,_0xa7d984){return _0x19073c(_0x1db6b1,_0x16280e,_0x2611bd,_0x150127,_0x39319d,_0xa7d984);},'DvqLv':_0x167698(0xc8),'tCdIV':_0x167698(0xce),'qQrDi':function(_0x4d9141,_0x196529,_0x441dc7,_0x52809c,_0x320487,_0x5c7ecb,_0x3b79cc){return _0x4d9141(_0x196529,_0x441dc7,_0x52809c,_0x320487,_0x5c7ecb,_0x3b79cc);},'DitwP':'BrowserstackHealing.healFailure\x20method\x20timed\x20out','HxVPd':_0x167698(0xd8)},_0x5e0b25=(await _0x11e688[_0x167698(0xee)]())[_0x167698(0xc5)]();let _0x3924a0='';if(commandRepository[_0x167698(0xe6)]()&&_0x5ac580['xxHal'](_0x97240b,![])||_0x5ac580[_0x167698(0xa0)](_0x97240b,!![])){const _0x379963=_0x5ac580[_0x167698(0xd5)](isNotUndefinedOrNull,_0x3af675[_0x167698(0xb8)]['using'])&&_0x5ac580['xYAYG'](isString,_0x3af675[_0x167698(0xb8)][_0x167698(0x8f)])?_0x3af675[_0x167698(0xb8)][_0x167698(0x8f)][_0x167698(0x8e)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x3d52d0=_0x5ac580[_0x167698(0xd5)](isNotUndefinedOrNull,_0x3af675[_0x167698(0xb8)]['using'])&&_0x5ac580[_0x167698(0xa7)](isString,_0x3af675[_0x167698(0xb8)][_0x167698(0xf6)])?_0x3af675[_0x167698(0xb8)][_0x167698(0xf6)][_0x167698(0x8e)](/'/g,'\x5c\x27')[_0x167698(0x8e)](/"/g,'\x5c\x22'):'',_0x46cec0=_0x5ac580[_0x167698(0x9a)](isNotUndefinedOrNull,commandRepository[_0x167698(0x94)]())&&_0x5ac580[_0x167698(0xec)](isString,commandRepository[_0x167698(0x94)]())?commandRepository[_0x167698(0x94)]()['replace'](/'/g,'\x5c\x27')[_0x167698(0x8e)](/"/g,'\x5c\x22'):'';let _0x5d2cc8=_0x5ac580[_0x167698(0xd5)](isNotUndefinedOrNull,global['browserstackSessionName'])&&_0x5ac580[_0x167698(0xd4)](isString,global['browserstackSessionName'])?global[_0x167698(0xf3)][_0x167698(0x8e)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';!_0x5d2cc8&&(_0x5d2cc8=_0x5ac580[_0x167698(0xd4)](isNotUndefinedOrNull,commandRepository['getTestName']())&&_0x5ac580[_0x167698(0xfa)](isString,commandRepository[_0x167698(0xad)]())?commandRepository['getTestName']()['replace'](/'/g,'\x5c\x27')[_0x167698(0x8e)](/"/g,'\x5c\x22'):'');let _0x230b74=_0x167698(0xa2)+constants['TCG_REGION']+_0x167698(0xbf)+constants[_0x167698(0x90)]+_0x167698(0x9c)+constants[_0x167698(0xf4)]['split'](_0x5ac580['pgZGL'])[0x1]+_0x167698(0xbb);_0x230b74=_0x5ac580[_0x167698(0x95)](isNotUndefinedOrNull,_0x230b74)&&_0x5ac580['xNNDb'](isString,_0x230b74)?_0x230b74[_0x167698(0x8e)](/'/g,'\x5c\x27')[_0x167698(0x8e)](/"/g,'\x5c\x22'):'';const _0x2ad41d=commandRepository[_0x167698(0xc6)](_0x5e0b25),_0x2c9d6b=globals[_0x167698(0xb7)](_0x5ac580[_0x167698(0xf7)]),_0x14685a=globals['getGlobal'](_0x5ac580[_0x167698(0xb9)]),_0x26d135=globals[_0x167698(0xb7)](_0x5ac580[_0x167698(0xeb)]),_0x556e62=![],_0x33b841=new Date();if(_0x97240b){const _0x11550f=_0x5ac580[_0x167698(0xa4)](timeoutPromise,constants['HEALING_LOG_DATA_TIMEOUT'],_0x5ac580[_0x167698(0x86)],_0x5ac580['tCdIV'],_0x33b841,this[_0x167698(0x96)],this[_0x167698(0xaf)]);_0x3924a0=await Promise[_0x167698(0xe2)]([this[_0x167698(0xa6)][_0x167698(0xdf)](_0x379963,_0x3d52d0,_0x46cec0,_0x5d2cc8,_0x14685a,_0x5e0b25,_0x2ad41d,_0x230b74)['then'](_0x5331a5=>{const _0x41ac18=_0x167698;return _0x11550f[_0x41ac18(0xbd)](),_0x5331a5;}),_0x11550f]);}else{if(commandRepository[_0x167698(0xe6)]()){const _0x45c5ba=_0x5ac580['qQrDi'](timeoutPromise,constants[_0x167698(0xc9)],_0x5ac580['DitwP'],_0x5ac580[_0x167698(0xcd)],_0x33b841,this[_0x167698(0x96)],this[_0x167698(0xaf)]);_0x3924a0=await Promise[_0x167698(0xe2)]([this[_0x167698(0xa6)][_0x167698(0x99)](_0x379963,_0x3d52d0,_0x46cec0,_0x5d2cc8,_0x2c9d6b,_0x14685a,_0x5e0b25,_0x2ad41d,_0x556e62,_0x26d135,_0x230b74)[_0x167698(0x87)](_0x33a969=>{const _0x502f18=_0x167698;return _0x45c5ba[_0x502f18(0xbd)](),_0x33a969;}),_0x45c5ba]);}}_0x3924a0&&await _0x11e688[_0x167698(0xe9)](_0x3924a0);}}async[a99_0x21de3a(0x7e)](_0x220703,_0x3c38ea,_0x1efc9c){const _0x57b190=a99_0x21de3a;try{await this['_handleEvent'](_0x220703,_0x3c38ea,_0x1efc9c,!![]);}catch(_0x1fd319){return logger[_0x57b190(0x91)](_0x57b190(0x8a)+(_0x1fd319&&_0x1fd319[_0x57b190(0xaa)]?_0x1fd319[_0x57b190(0xaa)]:'')),![];}return!![];}async[a99_0x21de3a(0xf9)](_0x49385b,_0x1b93fb,_0x3b6f80){const _0x11034c=a99_0x21de3a,_0xae51f={'zdGYH':function(_0x33bd9d,_0x1da37e,_0x1257b6,_0x453c66,_0x228956,_0xac6837,_0x10d98a){return _0x33bd9d(_0x1da37e,_0x1257b6,_0x453c66,_0x228956,_0xac6837,_0x10d98a);},'RqaMi':'BrowserstackHealing.pollResult\x20method\x20timed\x20out','enMAk':_0x11034c(0xc7),'MxyiD':_0x11034c(0x98)};try{await this[_0x11034c(0x100)](_0x49385b,_0x1b93fb,_0x3b6f80,![]);const _0x59d851=(await _0x1b93fb[_0x11034c(0xee)]())[_0x11034c(0xc5)](),_0x2f33b6=new Date(),_0x2dfc74=_0xae51f[_0x11034c(0xdb)](timeoutPromise,constants[_0x11034c(0xba)],_0xae51f[_0x11034c(0xd1)],_0xae51f[_0x11034c(0xf8)],_0x2f33b6,this['config'],this[_0x11034c(0xaf)]),_0x509df9=await Promise[_0x11034c(0xe2)]([this[_0x11034c(0xa6)][_0x11034c(0xf2)](constants['TCG_URL'],_0x59d851,globals[_0x11034c(0xb7)](_0xae51f[_0x11034c(0x82)]))[_0x11034c(0x87)](_0x30f837=>{return _0x2dfc74['cancel'](),_0x30f837;}),_0x2dfc74]);if(_0x509df9&&_0x509df9['selector']&&_0x509df9[_0x11034c(0xf6)]){const _0x566da5={};return _0x566da5[_0x11034c(0xab)]=_0x509df9[_0x11034c(0x9b)],_0x566da5['locatorValue']=_0x509df9[_0x11034c(0xf6)],_0x566da5[_0x11034c(0xb2)]=!![],_0x566da5;}const _0x39ede5={};return _0x39ede5[_0x11034c(0xab)]=_0x3b6f80['parameters_'][_0x11034c(0x8f)],_0x39ede5[_0x11034c(0xd0)]=_0x509df9[_0x11034c(0xf6)],_0x39ede5[_0x11034c(0xb2)]=!![],_0x39ede5;}catch(_0x184268){return logger[_0x11034c(0xed)]('Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20'+(_0x184268&&_0x184268[_0x11034c(0xaa)]?_0x184268[_0x11034c(0xaa)]:'')),logger[_0x11034c(0xe4)](_0x11034c(0x89)+_0x3b6f80[_0x11034c(0xff)]+'\x20command'),_0x3b6f80;}}}function a99_0x2de3(){const _0x2656b8=['ieOptions_','forEach','logData','890906GnCJkJ','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','race','ZjCPk','info','s://','isSelfHealEnabled','875776iUGQvb','./autoHealHelper','executeScript','toLowerCase','kTupv','fRmko','debug','getSession','capabilities_','lPPkX','../../ai-sdk-node/bundle','pollResult','browserstackSessionName','TCG_URL','cngyE','value','ZDMqF','enMAk','handleFailure','GVvea','740778MMSiPS','setTcgToken','BrowserstackHealing.setToken\x20method\x20timed\x20out','fOrmo','name_','_handleEvent','handleSuccess','winstonLogger','99114bZIcJz','log','MxyiD','../logger','gzjUR','fromEntries','DvqLv','then','3637899Rfuroz','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','HApli','iHhHA','set','replace','using','TCG_REGION','error','aeQOG','105prKCOg','getProjectName','whNmY','config','map_','aiHeal_sessionToken','healFailure','WiNtZ','selector','\x22:\x20{\x22endpoint\x22:\x20\x22','get','browserName','chrome','xxHal','124690PYZgEY','{\x22region\x22:\x20\x22','aiHeal_userId','tLyQQ','chromeOptions_','BrowserstackHealing','xNNDb','WbVta','path','message','locatorType','hkSiR','getTestName','mLyaL','framework','KArsY','string','aiHealing','BrowserstackHealingSetTcgTokenFailed','keys','MWLzQ','microsoftedge','getGlobal','parameters_','PEbAD','POLL_HEALING_RESULT_TIMEOUT','\x22}}}','aiHeal_isGroupAIEnabled','cancel','kBnGx','\x22,\x20\x22tcgUrls\x22:\x20{\x22','aiSdkWrapper','newCapabilities','safariOptions_','aiHeal_groupId','getCapabilities','getId','getCommands','BrowserstackHealingPollResultFailed','BrowserstackHealing.logData\x20method\x20timed\x20out','HEALING_FAILURE_TIMEOUT','safari','8EDBNnJ','edge','HxVPd','BrowserstackHealingLogDataFailed','411180JdwiXG','locatorValue','RqaMi','../globals','freeze','FSdsZ','YpKIV','../../bin/utils/constants','FHlTv','BrowserstackHealingHealFailureFailed','sJlmJ','../../helpers/timeoutPromise','zdGYH','firefox'];a99_0x2de3=function(){return _0x2656b8;};return a99_0x2de3();}exports[a99_0x21de3a(0xc0)]=Object[a99_0x21de3a(0xd3)](new AiSdkWrapper());