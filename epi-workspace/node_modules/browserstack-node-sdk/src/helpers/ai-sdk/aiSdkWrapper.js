const a94_0x79cd12=a94_0x113d;function a94_0x113d(_0x64e3c2,_0x39d59d){const _0x22ef0c=a94_0x22ef();return a94_0x113d=function(_0x113d12,_0x2dba0b){_0x113d12=_0x113d12-0xbb;let _0x493ba0=_0x22ef0c[_0x113d12];return _0x493ba0;},a94_0x113d(_0x64e3c2,_0x39d59d);}function a94_0x22ef(){const _0x1c602c=['getSession','safariOptions_','chromeOptions_','\x22}}}','aiSdkWrapper','name_','edgeOptions_','getId','WYxLr','whMnT','2866794CdSnMS','tXJnm','initializeHealingCapabilities','4427379mjoCoV','tqBAE','3635RyxxIT','firefox','aiHealing','../globals','SET_TCG_TOKEN_TIMEOUT','YtDOd','TCG_REGION','BwblH','getCapabilities','using','qVwXa','s://','initializeCapabilities','fromEntries','DxMpE','browserstackSessionName','locatorValue','XUgFQ','aiHeal_userId','race','GbFHt','parameters_','debug','./autoHealHelper','selector','string','setToken','handleSuccess','join','browserName','error','BrowserstackHealing','OBiKJ','config','BrowserstackHealing.healFailure\x20method\x20timed\x20out','xKdxt','654dfRBrL','ieOptions_','4dVFwoE','path','dunhK','3803598stQLMs','\x20command','getGlobal','../../helpers/timeoutPromise','getCommands','EpdkQ','safari','16NiSHdI','yBYgu','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','then','setTcgToken','BrowserstackHealingSetTcgTokenFailed','TCG_URL','_handleEvent','split','17413QWMtKr','{\x22region\x22:\x20\x22','framework','hYswQ','replace','Nwdhp','aiHeal_groupId','../../bin/utils/constants','aiHeal_sessionToken','CzvSE','getProjectName','get','set','freeze','aiHeal_isGroupAIEnabled','value','../../ai-sdk-node/bundle','edge','winstonLogger','info','forEach','IRjuN','NAmzC','getTestName','logData','XdUJC','keys','TwgEQ','ZVAhV','eTlpn','zwtyg','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','RCLUa','locatorType','message','executeScript','spXUV','chrome','healFailure','BrowserstackHealing.setToken\x20method\x20timed\x20out','jnrLg','681810aZcgXp','toLowerCase','BrowserstackHealing.logData\x20method\x20timed\x20out','VVnxG','3080072ZszPDM','isSelfHealEnabled','cancel','capabilities_','7qecXjD'];a94_0x22ef=function(){return _0x1c602c;};return a94_0x22ef();}(function(_0x1b13ba,_0x5c1736){const _0x34a30f=a94_0x113d,_0x10e0bf=_0x1b13ba();while(!![]){try{const _0x4fc36d=-parseInt(_0x34a30f(0x12d))/0x1*(-parseInt(_0x34a30f(0x124))/0x2)+-parseInt(_0x34a30f(0xef))/0x3*(parseInt(_0x34a30f(0x11a))/0x4)+-parseInt(_0x34a30f(0xf4))/0x5*(-parseInt(_0x34a30f(0x118))/0x6)+parseInt(_0x34a30f(0xe4))/0x7*(parseInt(_0x34a30f(0xe0))/0x8)+parseInt(_0x34a30f(0x11d))/0x9+parseInt(_0x34a30f(0xdc))/0xa+parseInt(_0x34a30f(0xf2))/0xb;if(_0x4fc36d===_0x5c1736)break;else _0x10e0bf['push'](_0x10e0bf['shift']());}catch(_0xc75366){_0x10e0bf['push'](_0x10e0bf['shift']());}}}(a94_0x22ef,0x84242));const path=require(a94_0x79cd12(0x11b)),{commandRepository}=require(a94_0x79cd12(0x10b)),constants=require(a94_0x79cd12(0x134)),logger=require('../logger')[a94_0x79cd12(0xc5)],globals=require(a94_0x79cd12(0xf7)),timeoutPromise=require(a94_0x79cd12(0x120)),isUndefinedOrNull=_0x4a4fde=>_0x4a4fde===undefined||_0x4a4fde===null||_0x4a4fde==='',isNotUndefinedOrNull=_0x5d2ab0=>!isUndefinedOrNull(_0x5d2ab0),isString=_0x4829fd=>isNotUndefinedOrNull(_0x4829fd)&&typeof _0x4829fd===a94_0x79cd12(0x10d);class AiSdkWrapper{constructor(){const _0x2b3a31=a94_0x79cd12,_0x563dd1={'NAmzC':function(_0x2ede17,_0x1b1ec1){return _0x2ede17(_0x1b1ec1);},'BwblH':_0x2b3a31(0xc3)};this[_0x2b3a31(0x113)]=undefined;try{this[_0x2b3a31(0x113)]=_0x563dd1[_0x2b3a31(0xc9)](require,path[_0x2b3a31(0x110)](__dirname,_0x563dd1[_0x2b3a31(0xfb)]));}catch(_0x23fa21){logger[_0x2b3a31(0x112)]('Unable\x20to\x20load\x20healing\x20module,\x20error:\x20'+(_0x23fa21&&_0x23fa21['message']?_0x23fa21[_0x2b3a31(0xd5)]:''));}}[a94_0x79cd12(0xf1)](_0x12d4e1){const _0x50fe88=a94_0x79cd12,_0x401188={};_0x401188[_0x50fe88(0xc8)]='newCapabilities',_0x401188['XUgFQ']=function(_0x3f1ae2,_0x44eef0){return _0x3f1ae2===_0x44eef0;},_0x401188[_0x50fe88(0xdf)]=_0x50fe88(0xd8),_0x401188[_0x50fe88(0xf9)]=_0x50fe88(0xf5),_0x401188[_0x50fe88(0x11c)]=_0x50fe88(0x123),_0x401188[_0x50fe88(0xd1)]=_0x50fe88(0xc4),_0x401188[_0x50fe88(0x108)]=function(_0x18ab5f,_0x37eaad){return _0x18ab5f===_0x37eaad;},_0x401188[_0x50fe88(0xd7)]='microsoftedge',_0x401188[_0x50fe88(0xce)]=function(_0x4f9b9c,_0x16ee82){return _0x4f9b9c===_0x16ee82;};const _0xeadd3d=_0x401188;try{const _0x2ebbdb=this[_0x50fe88(0x113)][_0x50fe88(0x100)](Object[_0x50fe88(0x101)](_0x12d4e1[_0x50fe88(0xfc)]()['map_']));console['log'](_0xeadd3d['IRjuN'],_0x2ebbdb);if(_0xeadd3d[_0x50fe88(0x105)](_0x2ebbdb?.[_0x50fe88(0x111)]?.[_0x50fe88(0xdd)](),_0xeadd3d[_0x50fe88(0xdf)]))_0x12d4e1[_0x50fe88(0xe7)]=_0x2ebbdb;else{if(_0xeadd3d[_0x50fe88(0x105)](_0x2ebbdb?.['browserName']?.[_0x50fe88(0xdd)](),_0xeadd3d[_0x50fe88(0xf9)]))_0x12d4e1['firefoxOptions_']=_0x2ebbdb;else{if(_0xeadd3d[_0x50fe88(0x105)](_0x2ebbdb?.[_0x50fe88(0x111)]?.['toLowerCase'](),_0xeadd3d[_0x50fe88(0x11c)]))_0x12d4e1[_0x50fe88(0xe6)]=_0x2ebbdb;else{if(_0xeadd3d[_0x50fe88(0x105)](_0x2ebbdb?.[_0x50fe88(0x111)]?.['toLowerCase'](),_0xeadd3d['zwtyg'])||_0xeadd3d[_0x50fe88(0x108)](_0x2ebbdb?.[_0x50fe88(0x111)]?.['toLowerCase'](),_0xeadd3d['spXUV']))_0x12d4e1[_0x50fe88(0xeb)]=_0x2ebbdb;else _0xeadd3d[_0x50fe88(0xce)](_0x2ebbdb?.[_0x50fe88(0x111)]?.[_0x50fe88(0xdd)](),'ie')&&(_0x12d4e1[_0x50fe88(0x119)]=_0x2ebbdb);}}}Object[_0x50fe88(0xcd)](_0x2ebbdb)[_0x50fe88(0xc7)](_0x1b3adc=>{const _0xc7bb8d=_0x50fe88,_0x49f847=_0x12d4e1[_0xc7bb8d(0xe3)][_0xc7bb8d(0xbe)](_0x1b3adc);_0x12d4e1[_0xc7bb8d(0xe3)][_0xc7bb8d(0xbf)](_0x1b3adc,_0x2ebbdb[_0x1b3adc]);});}catch(_0x11f6b4){logger[_0x50fe88(0x112)](_0x50fe88(0x126)+(_0x11f6b4&&_0x11f6b4[_0x50fe88(0xd5)]?_0x11f6b4['message']:''));}}async[a94_0x79cd12(0x128)](_0x1d18da){const _0x42779d=a94_0x79cd12,_0x51ebea={'WYxLr':function(_0x330fc7,_0x133743,_0x1f4e9a,_0x3a0611,_0x90d4e6,_0x4ccb41,_0x181fff){return _0x330fc7(_0x133743,_0x1f4e9a,_0x3a0611,_0x90d4e6,_0x4ccb41,_0x181fff);},'ENUHS':_0x42779d(0xda),'xKdxt':_0x42779d(0x129),'whMnT':'aiHeal_sessionToken'},_0x3d3fcd=new Date(),_0xffa5a5=_0x51ebea[_0x42779d(0xed)](timeoutPromise,constants[_0x42779d(0xf8)],_0x51ebea['ENUHS'],_0x51ebea[_0x42779d(0x117)],_0x3d3fcd,this[_0x42779d(0x115)],this[_0x42779d(0x12f)]);await Promise['race']([this[_0x42779d(0x113)][_0x42779d(0x10e)](_0x1d18da,globals[_0x42779d(0x11f)](_0x51ebea[_0x42779d(0xee)]),constants[_0x42779d(0x12a)])[_0x42779d(0x127)](()=>{const _0x52f201=_0x42779d;_0xffa5a5[_0x52f201(0xe2)]();}),_0xffa5a5]);}async[a94_0x79cd12(0x12b)](_0x295467,_0x1841c7,_0x44d3b5,_0x574390){const _0x4e485d=a94_0x79cd12,_0x1245a3={'utcIh':function(_0x2cd762,_0x1f0a21){return _0x2cd762===_0x1f0a21;},'jnrLg':function(_0x9b2065,_0x4040f5){return _0x9b2065===_0x4040f5;},'EpdkQ':function(_0x487f4a,_0x5878a7){return _0x487f4a(_0x5878a7);},'aVSAN':function(_0x18170d,_0x128b0f){return _0x18170d(_0x128b0f);},'OBiKJ':function(_0x39f97b,_0x46bda0){return _0x39f97b(_0x46bda0);},'JSNna':function(_0x12c577,_0x27ad76){return _0x12c577(_0x27ad76);},'hYswQ':_0x4e485d(0xff),'FCUfn':function(_0x33eeda,_0x516c8d){return _0x33eeda(_0x516c8d);},'XdUJC':_0x4e485d(0x106),'eTlpn':_0x4e485d(0x133),'yBYgu':_0x4e485d(0xc1),'ZVAhV':function(_0x4e82bd,_0x48cbe4,_0x513133,_0x4e88b6,_0x314c93,_0x4bddd4,_0x2eb7a0){return _0x4e82bd(_0x48cbe4,_0x513133,_0x4e88b6,_0x314c93,_0x4bddd4,_0x2eb7a0);},'DxMpE':_0x4e485d(0xde),'qVwXa':'BrowserstackHealingLogDataFailed','RCLUa':_0x4e485d(0x116),'tqBAE':'BrowserstackHealingHealFailureFailed'},_0x167996=(await _0x1841c7[_0x4e485d(0xe5)]())['getId']();let _0x5c4935='';if(commandRepository[_0x4e485d(0xe1)]()&&_0x1245a3['utcIh'](_0x574390,![])||_0x1245a3[_0x4e485d(0xdb)](_0x574390,!![])){const _0x4c1aca=_0x1245a3[_0x4e485d(0x122)](isNotUndefinedOrNull,_0x44d3b5[_0x4e485d(0x109)][_0x4e485d(0xfd)])&&_0x1245a3[_0x4e485d(0x122)](isString,_0x44d3b5[_0x4e485d(0x109)][_0x4e485d(0xfd)])?_0x44d3b5[_0x4e485d(0x109)][_0x4e485d(0xfd)][_0x4e485d(0x131)](/'/g,'\x5c\x27')[_0x4e485d(0x131)](/"/g,'\x5c\x22'):'',_0x4d8807=_0x1245a3[_0x4e485d(0x122)](isNotUndefinedOrNull,_0x44d3b5[_0x4e485d(0x109)]['using'])&&_0x1245a3['aVSAN'](isString,_0x44d3b5[_0x4e485d(0x109)]['value'])?_0x44d3b5[_0x4e485d(0x109)][_0x4e485d(0xc2)]['replace'](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x1e3777=_0x1245a3[_0x4e485d(0x114)](isNotUndefinedOrNull,commandRepository['getProjectName']())&&_0x1245a3['JSNna'](isString,commandRepository[_0x4e485d(0xbd)]())?commandRepository[_0x4e485d(0xbd)]()[_0x4e485d(0x131)](/'/g,'\x5c\x27')[_0x4e485d(0x131)](/"/g,'\x5c\x22'):'';let _0x592bba=_0x1245a3[_0x4e485d(0x122)](isNotUndefinedOrNull,global[_0x4e485d(0x103)])&&_0x1245a3[_0x4e485d(0x122)](isString,global[_0x4e485d(0x103)])?global[_0x4e485d(0x103)]['replace'](/'/g,'\x5c\x27')[_0x4e485d(0x131)](/"/g,'\x5c\x22'):'';!_0x592bba&&(_0x592bba=_0x1245a3['EpdkQ'](isNotUndefinedOrNull,commandRepository['getTestName']())&&_0x1245a3['OBiKJ'](isString,commandRepository[_0x4e485d(0xca)]())?commandRepository[_0x4e485d(0xca)]()[_0x4e485d(0x131)](/'/g,'\x5c\x27')[_0x4e485d(0x131)](/"/g,'\x5c\x22'):'');let _0x26a622=_0x4e485d(0x12e)+constants[_0x4e485d(0xfa)]+'\x22,\x20\x22tcgUrls\x22:\x20{\x22'+constants[_0x4e485d(0xfa)]+'\x22:\x20{\x22endpoint\x22:\x20\x22'+constants['TCG_URL'][_0x4e485d(0x12c)](_0x1245a3[_0x4e485d(0x130)])[0x1]+_0x4e485d(0xe8);_0x26a622=_0x1245a3['FCUfn'](isNotUndefinedOrNull,_0x26a622)&&_0x1245a3['JSNna'](isString,_0x26a622)?_0x26a622['replace'](/'/g,'\x5c\x27')[_0x4e485d(0x131)](/"/g,'\x5c\x22'):'';const _0x377fee=commandRepository[_0x4e485d(0x121)](_0x167996),_0x177b84=globals[_0x4e485d(0x11f)](_0x1245a3[_0x4e485d(0xcc)]),_0x13231b=globals['getGlobal'](_0x1245a3[_0x4e485d(0xd0)]),_0x2f6b06=globals[_0x4e485d(0x11f)](_0x1245a3[_0x4e485d(0x125)]),_0x2e5634=![],_0x1ebcc5=new Date();if(_0x574390){const _0x2a9763=_0x1245a3['ZVAhV'](timeoutPromise,constants['HEALING_LOG_DATA_TIMEOUT'],_0x1245a3[_0x4e485d(0x102)],_0x1245a3[_0x4e485d(0xfe)],_0x1ebcc5,this[_0x4e485d(0x115)],this[_0x4e485d(0x12f)]);_0x5c4935=await Promise[_0x4e485d(0x107)]([this[_0x4e485d(0x113)][_0x4e485d(0xcb)](_0x4c1aca,_0x4d8807,_0x1e3777,_0x592bba,_0x13231b,_0x167996,_0x377fee,_0x26a622)[_0x4e485d(0x127)](_0x2df1ec=>{const _0x40a926=_0x4e485d;return _0x2a9763[_0x40a926(0xe2)](),_0x2df1ec;}),_0x2a9763]);}else{if(commandRepository['isSelfHealEnabled']()){const _0x4feec0=_0x1245a3[_0x4e485d(0xcf)](timeoutPromise,constants['HEALING_FAILURE_TIMEOUT'],_0x1245a3[_0x4e485d(0xd3)],_0x1245a3[_0x4e485d(0xf3)],_0x1ebcc5,this[_0x4e485d(0x115)],this[_0x4e485d(0x12f)]);_0x5c4935=await Promise[_0x4e485d(0x107)]([this[_0x4e485d(0x113)][_0x4e485d(0xd9)](_0x4c1aca,_0x4d8807,_0x1e3777,_0x592bba,_0x177b84,_0x13231b,_0x167996,_0x377fee,_0x2e5634,_0x2f6b06,_0x26a622)[_0x4e485d(0x127)](_0x53ed5e=>{const _0xba1ff7=_0x4e485d;return _0x4feec0[_0xba1ff7(0xe2)](),_0x53ed5e;}),_0x4feec0]);}}_0x5c4935&&await _0x1841c7[_0x4e485d(0xd6)](_0x5c4935);}}async[a94_0x79cd12(0x10f)](_0x139820,_0x559213,_0x4afb0e){const _0x42cd0c=a94_0x79cd12;try{await this[_0x42cd0c(0x12b)](_0x139820,_0x559213,_0x4afb0e,!![]);}catch(_0x52bd39){return logger['error'](_0x42cd0c(0xd2)+(_0x52bd39&&_0x52bd39[_0x42cd0c(0xd5)]?_0x52bd39[_0x42cd0c(0xd5)]:'')),![];}return!![];}async['handleFailure'](_0x348e01,_0x39875a,_0x336b63){const _0x1a5b8a=a94_0x79cd12,_0x5c1c8e={'tXJnm':function(_0x30ef56,_0x38bea5,_0x390860,_0x3b206f,_0x4a06dd,_0x33f034,_0x23c67b){return _0x30ef56(_0x38bea5,_0x390860,_0x3b206f,_0x4a06dd,_0x33f034,_0x23c67b);},'Nwdhp':'BrowserstackHealing.pollResult\x20method\x20timed\x20out','SVNIT':'BrowserstackHealingPollResultFailed','CzvSE':_0x1a5b8a(0xbb)};try{await this['_handleEvent'](_0x348e01,_0x39875a,_0x336b63,![]);const _0x15729a=(await _0x39875a['getSession']())[_0x1a5b8a(0xec)](),_0x20e974=new Date(),_0x7538a6=_0x5c1c8e[_0x1a5b8a(0xf0)](timeoutPromise,constants['POLL_HEALING_RESULT_TIMEOUT'],_0x5c1c8e[_0x1a5b8a(0x132)],_0x5c1c8e['SVNIT'],_0x20e974,this['config'],this[_0x1a5b8a(0x12f)]),_0x4e03fe=await Promise[_0x1a5b8a(0x107)]([this[_0x1a5b8a(0x113)]['pollResult'](constants[_0x1a5b8a(0x12a)],_0x15729a,globals[_0x1a5b8a(0x11f)](_0x5c1c8e[_0x1a5b8a(0xbc)]))[_0x1a5b8a(0x127)](_0x15ccc1=>{const _0x207aa9=_0x1a5b8a;return _0x7538a6[_0x207aa9(0xe2)](),_0x15ccc1;}),_0x7538a6]);if(_0x4e03fe&&_0x4e03fe['selector']&&_0x4e03fe['value']){const _0x225059={};return _0x225059[_0x1a5b8a(0xd4)]=_0x4e03fe[_0x1a5b8a(0x10c)],_0x225059['locatorValue']=_0x4e03fe[_0x1a5b8a(0xc2)],_0x225059[_0x1a5b8a(0xf6)]=!![],_0x225059;}const _0x3b3c6a={};return _0x3b3c6a[_0x1a5b8a(0xd4)]=_0x336b63['parameters_'][_0x1a5b8a(0xfd)],_0x3b3c6a[_0x1a5b8a(0x104)]=_0x4e03fe['value'],_0x3b3c6a['aiHealing']=!![],_0x3b3c6a;}catch(_0x492814){return logger[_0x1a5b8a(0x10a)]('Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20'+(_0x492814&&_0x492814[_0x1a5b8a(0xd5)]?_0x492814['message']:'')),logger[_0x1a5b8a(0xc6)]('Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20'+_0x336b63[_0x1a5b8a(0xea)]+_0x1a5b8a(0x11e)),_0x336b63;}}}exports[a94_0x79cd12(0xe9)]=Object[a94_0x79cd12(0xc0)](new AiSdkWrapper());