function a99_0x3d0c(_0x38fd8e,_0x580e1d){const _0x524e2a=a99_0x524e();return a99_0x3d0c=function(_0x3d0cfa,_0x565ff3){_0x3d0cfa=_0x3d0cfa-0x74;let _0x2b6e55=_0x524e2a[_0x3d0cfa];return _0x2b6e55;},a99_0x3d0c(_0x38fd8e,_0x580e1d);}const a99_0x739807=a99_0x3d0c;(function(_0x2e2464,_0x5d2d02){const _0x211980=a99_0x3d0c,_0x1c33ce=_0x2e2464();while(!![]){try{const _0x377621=-parseInt(_0x211980(0xa2))/0x1*(parseInt(_0x211980(0xa4))/0x2)+-parseInt(_0x211980(0xa9))/0x3*(parseInt(_0x211980(0xdd))/0x4)+parseInt(_0x211980(0x89))/0x5*(-parseInt(_0x211980(0x82))/0x6)+-parseInt(_0x211980(0x84))/0x7*(-parseInt(_0x211980(0x74))/0x8)+-parseInt(_0x211980(0x81))/0x9+-parseInt(_0x211980(0x8a))/0xa*(-parseInt(_0x211980(0xbe))/0xb)+parseInt(_0x211980(0x99))/0xc;if(_0x377621===_0x5d2d02)break;else _0x1c33ce['push'](_0x1c33ce['shift']());}catch(_0x537605){_0x1c33ce['push'](_0x1c33ce['shift']());}}}(a99_0x524e,0xa46a3));const path=require(a99_0x739807(0x97)),{commandRepository}=require(a99_0x739807(0x7e)),constants=require(a99_0x739807(0xd5)),logger=require('../logger')[a99_0x739807(0xc4)],globals=require(a99_0x739807(0xdc)),timeoutPromise=require(a99_0x739807(0x83)),isUndefinedOrNull=_0x5738dc=>_0x5738dc===undefined||_0x5738dc===null||_0x5738dc==='',isNotUndefinedOrNull=_0x3d087b=>!isUndefinedOrNull(_0x3d087b),isString=_0x1304ee=>isNotUndefinedOrNull(_0x1304ee)&&typeof _0x1304ee===a99_0x739807(0x9d);function a99_0x524e(){const _0x157e2c=['getCapabilities','../../bin/utils/constants','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','firefoxOptions_','aiHealing','microsoftedge','BrowserstackHealingHealFailureFailed','aiHeal_sessionToken','../globals','8936iAaNlF','framework','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','pollResult','getTestName','yZblW','faXkO','WSDYg','edge','locatorValue','CpOue','info','toLowerCase','_handleEvent','ieOptions_','PzJvR','FDuDs','newCapabilities','BrowserstackHealingLogDataFailed','CNqpR','cancel','safariOptions_','fromEntries','getSession','208WDXzBH','keys','pjVKF','kxNms','freeze','browserName','handleFailure','\x20command','YrGLa','BrowserstackHealing.pollResult\x20method\x20timed\x20out','./autoHealHelper','HEALING_FAILURE_TIMEOUT','Vwcep','3663684rMSASC','6GZTMAF','../../helpers/timeoutPromise','331989ijSpjj','HEALING_LOG_DATA_TIMEOUT','TPZsb','AYeKW','getGlobal','3630115SQtLLJ','2899180gQliyJ','firefox','edgeOptions_','name_','capabilities_','parameters_','OJcIL','forEach','iXrdw','TCG_URL','BrowserstackHealing','locatorType','initializeCapabilities','path','cPJqm','11052852VMTbjo','split','fDOjP','browserstackSessionName','string','QYffL','OOtsF','config','BrowserstackHealingPollResultFailed','1140927GdlIWL','set','2wTgwwm','aiSdkWrapper','YxHXb','healFailure','debug','492yQPtjV','logData','error','then','replace','safari','UuFdV','dzXyr','\x22,\x20\x22tcgUrls\x22:\x20{\x22','QimBX','setToken','isSelfHealEnabled','SET_TCG_TOKEN_TIMEOUT','FSiMp','get','tzjzj','handleSuccess','YWbWy','getId','prhBZ','selector','44WQOLAf','chromeOptions_','getProjectName','race','xIkuy','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','winstonLogger','map_','BrowserstackHealing.logData\x20method\x20timed\x20out','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','initializeHealingCapabilities','chrome','TCG_REGION','message','{\x22region\x22:\x20\x22','\x22:\x20{\x22endpoint\x22:\x20\x22','ZWqKQ','RPXpd','ZnHmQ','using','value','s://'];a99_0x524e=function(){return _0x157e2c;};return a99_0x524e();}class AiSdkWrapper{constructor(){const _0xe0210e=a99_0x739807,_0x457bf4={'CNqpR':function(_0x56c58b,_0x56bf03){return _0x56c58b(_0x56bf03);},'YxHXb':'../../ai-sdk-node/bundle'};this['BrowserstackHealing']=undefined;try{this[_0xe0210e(0x94)]=_0x457bf4[_0xe0210e(0xf0)](require,path['join'](__dirname,_0x457bf4[_0xe0210e(0xa6)]));}catch(_0x498cb5){logger[_0xe0210e(0xab)]('Unable\x20to\x20load\x20healing\x20module,\x20error:\x20'+(_0x498cb5&&_0x498cb5['message']?_0x498cb5['message']:''));}}[a99_0x739807(0xc8)](_0x3a0b26){const _0x3dc441=a99_0x739807,_0x11fdf0={};_0x11fdf0['OvxtY']=_0x3dc441(0xee),_0x11fdf0[_0x3dc441(0x9b)]=function(_0x284e9e,_0x4b3c46){return _0x284e9e===_0x4b3c46;},_0x11fdf0[_0x3dc441(0xc2)]=_0x3dc441(0xc9),_0x11fdf0['iXrdw']=function(_0x25781c,_0x122a8f){return _0x25781c===_0x122a8f;},_0x11fdf0['Vwcep']=_0x3dc441(0x8b),_0x11fdf0[_0x3dc441(0x86)]=_0x3dc441(0xae),_0x11fdf0[_0x3dc441(0xce)]=_0x3dc441(0xe5),_0x11fdf0[_0x3dc441(0xe7)]=function(_0x4a2be9,_0x2e3d79){return _0x4a2be9===_0x2e3d79;},_0x11fdf0[_0x3dc441(0xe2)]=_0x3dc441(0xd9);const _0x54ba3e=_0x11fdf0;try{const _0x3b0086=this[_0x3dc441(0x94)][_0x3dc441(0x96)](Object[_0x3dc441(0xf3)](_0x3a0b26[_0x3dc441(0xd4)]()[_0x3dc441(0xc5)]));console['log'](_0x54ba3e['OvxtY'],_0x3b0086);if(_0x54ba3e['fDOjP'](_0x3b0086?.[_0x3dc441(0x79)]?.[_0x3dc441(0xe9)](),_0x54ba3e['xIkuy']))_0x3a0b26[_0x3dc441(0xbf)]=_0x3b0086;else{if(_0x54ba3e[_0x3dc441(0x92)](_0x3b0086?.[_0x3dc441(0x79)]?.[_0x3dc441(0xe9)](),_0x54ba3e[_0x3dc441(0x80)]))_0x3a0b26[_0x3dc441(0xd7)]=_0x3b0086;else{if(_0x54ba3e['iXrdw'](_0x3b0086?.[_0x3dc441(0x79)]?.[_0x3dc441(0xe9)](),_0x54ba3e['TPZsb']))_0x3a0b26[_0x3dc441(0xf2)]=_0x3b0086;else{if(_0x54ba3e['iXrdw'](_0x3b0086?.[_0x3dc441(0x79)]?.['toLowerCase'](),_0x54ba3e[_0x3dc441(0xce)])||_0x54ba3e['CpOue'](_0x3b0086?.[_0x3dc441(0x79)]?.[_0x3dc441(0xe9)](),_0x54ba3e[_0x3dc441(0xe2)]))_0x3a0b26[_0x3dc441(0x8c)]=_0x3b0086;else _0x54ba3e[_0x3dc441(0x9b)](_0x3b0086?.[_0x3dc441(0x79)]?.[_0x3dc441(0xe9)](),'ie')&&(_0x3a0b26[_0x3dc441(0xeb)]=_0x3b0086);}}}Object[_0x3dc441(0x75)](_0x3b0086)[_0x3dc441(0x91)](_0x6101c0=>{const _0x421fa2=_0x3dc441,_0x749f2e=_0x3a0b26[_0x421fa2(0x8e)][_0x421fa2(0xb7)](_0x6101c0);_0x3a0b26[_0x421fa2(0x8e)][_0x421fa2(0xa3)](_0x6101c0,_0x3b0086[_0x6101c0]);});}catch(_0x25c68c){logger[_0x3dc441(0xab)](_0x3dc441(0xc7)+(_0x25c68c&&_0x25c68c[_0x3dc441(0xcb)]?_0x25c68c[_0x3dc441(0xcb)]:''));}}async['setTcgToken'](_0xf5d1b0){const _0xfc7c3e=a99_0x739807,_0x20f77c={'xsVLo':function(_0x32199d,_0x398796,_0x2fdc5f,_0x257185,_0x43d908,_0x4a07fa,_0x33c946){return _0x32199d(_0x398796,_0x2fdc5f,_0x257185,_0x43d908,_0x4a07fa,_0x33c946);},'FDuDs':'BrowserstackHealing.setToken\x20method\x20timed\x20out','kxNms':'BrowserstackHealingSetTcgTokenFailed','ZnHmQ':'aiHeal_sessionToken'},_0x23327f=new Date(),_0x2682c3=_0x20f77c['xsVLo'](timeoutPromise,constants[_0xfc7c3e(0xb5)],_0x20f77c[_0xfc7c3e(0xed)],_0x20f77c[_0xfc7c3e(0x77)],_0x23327f,this[_0xfc7c3e(0xa0)],this[_0xfc7c3e(0xde)]);await Promise['race']([this[_0xfc7c3e(0x94)][_0xfc7c3e(0xb3)](_0xf5d1b0,globals[_0xfc7c3e(0x88)](_0x20f77c[_0xfc7c3e(0xd0)]),constants[_0xfc7c3e(0x93)])[_0xfc7c3e(0xac)](()=>{_0x2682c3['cancel']();}),_0x2682c3]);}async['_handleEvent'](_0x36a612,_0x1be041,_0x583289,_0x4a229e){const _0x338209=a99_0x739807,_0x147228={'FSiMp':function(_0x324296,_0x4dbbf5){return _0x324296===_0x4dbbf5;},'YrGLa':function(_0x301661,_0x491469){return _0x301661===_0x491469;},'UuFdV':function(_0x4746af,_0x5cbe90){return _0x4746af(_0x5cbe90);},'QimBX':function(_0x358cc1,_0xd62ead){return _0x358cc1(_0xd62ead);},'RPXpd':function(_0x45ace4,_0x3b9041){return _0x45ace4(_0x3b9041);},'tzjzj':function(_0x21f518,_0x2da7ee){return _0x21f518(_0x2da7ee);},'faXkO':_0x338209(0xd3),'pjVKF':function(_0x3e678e,_0x3bdfef){return _0x3e678e(_0x3bdfef);},'AYeKW':function(_0x404b65,_0x47754e){return _0x404b65(_0x47754e);},'dzXyr':'aiHeal_userId','XTwdp':'aiHeal_groupId','WSDYg':'aiHeal_isGroupAIEnabled','PzJvR':function(_0x9d5ae6,_0x388048,_0x4e8557,_0x314aba,_0x153f18,_0x4428b1,_0x3c4fc8){return _0x9d5ae6(_0x388048,_0x4e8557,_0x314aba,_0x153f18,_0x4428b1,_0x3c4fc8);},'BUUak':_0x338209(0xc6),'YWbWy':_0x338209(0xef),'OJcIL':'BrowserstackHealing.healFailure\x20method\x20timed\x20out','cPJqm':_0x338209(0xda)},_0x5165e3=(await _0x1be041[_0x338209(0xf4)]())['getId']();let _0x4dadca='';if(commandRepository[_0x338209(0xb4)]()&&_0x147228[_0x338209(0xb6)](_0x4a229e,![])||_0x147228[_0x338209(0x7c)](_0x4a229e,!![])){const _0x1e5719=_0x147228[_0x338209(0xaf)](isNotUndefinedOrNull,_0x583289[_0x338209(0x8f)][_0x338209(0xd1)])&&_0x147228[_0x338209(0xb2)](isString,_0x583289[_0x338209(0x8f)][_0x338209(0xd1)])?_0x583289[_0x338209(0x8f)][_0x338209(0xd1)]['replace'](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x1e4429=_0x147228[_0x338209(0xcf)](isNotUndefinedOrNull,_0x583289[_0x338209(0x8f)][_0x338209(0xd1)])&&_0x147228['UuFdV'](isString,_0x583289['parameters_'][_0x338209(0xd2)])?_0x583289[_0x338209(0x8f)]['value']['replace'](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x1b9d95=_0x147228[_0x338209(0xb2)](isNotUndefinedOrNull,commandRepository[_0x338209(0xc0)]())&&_0x147228[_0x338209(0xaf)](isString,commandRepository['getProjectName']())?commandRepository[_0x338209(0xc0)]()[_0x338209(0xad)](/'/g,'\x5c\x27')[_0x338209(0xad)](/"/g,'\x5c\x22'):'';let _0x393f6b=_0x147228[_0x338209(0xb8)](isNotUndefinedOrNull,global[_0x338209(0x9c)])&&_0x147228[_0x338209(0xcf)](isString,global[_0x338209(0x9c)])?global[_0x338209(0x9c)]['replace'](/'/g,'\x5c\x27')[_0x338209(0xad)](/"/g,'\x5c\x22'):'';!_0x393f6b&&(_0x393f6b=_0x147228['tzjzj'](isNotUndefinedOrNull,commandRepository[_0x338209(0xe1)]())&&_0x147228['QimBX'](isString,commandRepository[_0x338209(0xe1)]())?commandRepository[_0x338209(0xe1)]()[_0x338209(0xad)](/'/g,'\x5c\x27')[_0x338209(0xad)](/"/g,'\x5c\x22'):'');let _0x3f8651=_0x338209(0xcc)+constants[_0x338209(0xca)]+_0x338209(0xb1)+constants['TCG_REGION']+_0x338209(0xcd)+constants['TCG_URL'][_0x338209(0x9a)](_0x147228[_0x338209(0xe3)])[0x1]+'\x22}}}';_0x3f8651=_0x147228[_0x338209(0x76)](isNotUndefinedOrNull,_0x3f8651)&&_0x147228[_0x338209(0x87)](isString,_0x3f8651)?_0x3f8651[_0x338209(0xad)](/'/g,'\x5c\x27')[_0x338209(0xad)](/"/g,'\x5c\x22'):'';const _0x214ebf=commandRepository['getCommands'](_0x5165e3),_0x46bc02=globals[_0x338209(0x88)](_0x147228[_0x338209(0xb0)]),_0x3513b3=globals[_0x338209(0x88)](_0x147228['XTwdp']),_0x1ff9d2=globals[_0x338209(0x88)](_0x147228[_0x338209(0xe4)]),_0x3d5e1c=![],_0x56b050=new Date();if(_0x4a229e){const _0x3a8bb0=_0x147228[_0x338209(0xec)](timeoutPromise,constants[_0x338209(0x85)],_0x147228['BUUak'],_0x147228[_0x338209(0xba)],_0x56b050,this['config'],this['framework']);_0x4dadca=await Promise[_0x338209(0xc1)]([this[_0x338209(0x94)][_0x338209(0xaa)](_0x1e5719,_0x1e4429,_0x1b9d95,_0x393f6b,_0x3513b3,_0x5165e3,_0x214ebf,_0x3f8651)[_0x338209(0xac)](_0x4d920f=>{const _0x4e6afd=_0x338209;return _0x3a8bb0[_0x4e6afd(0xf1)](),_0x4d920f;}),_0x3a8bb0]);}else{if(commandRepository['isSelfHealEnabled']()){const _0x44f175=_0x147228['PzJvR'](timeoutPromise,constants[_0x338209(0x7f)],_0x147228[_0x338209(0x90)],_0x147228[_0x338209(0x98)],_0x56b050,this['config'],this[_0x338209(0xde)]);_0x4dadca=await Promise[_0x338209(0xc1)]([this[_0x338209(0x94)][_0x338209(0xa7)](_0x1e5719,_0x1e4429,_0x1b9d95,_0x393f6b,_0x46bc02,_0x3513b3,_0x5165e3,_0x214ebf,_0x3d5e1c,_0x1ff9d2,_0x3f8651)[_0x338209(0xac)](_0x5b40bc=>{return _0x44f175['cancel'](),_0x5b40bc;}),_0x44f175]);}}_0x4dadca&&await _0x1be041['executeScript'](_0x4dadca);}}async[a99_0x739807(0xb9)](_0x3f0aac,_0x1f9b11,_0x3a23b6){const _0x1cc930=a99_0x739807;try{await this[_0x1cc930(0xea)](_0x3f0aac,_0x1f9b11,_0x3a23b6,!![]);}catch(_0x224ff2){return logger[_0x1cc930(0xab)](_0x1cc930(0xd6)+(_0x224ff2&&_0x224ff2['message']?_0x224ff2[_0x1cc930(0xcb)]:'')),![];}return!![];}async[a99_0x739807(0x7a)](_0x4cbebf,_0x3f6cea,_0x890474){const _0x530b15=a99_0x739807,_0x252882={'prhBZ':function(_0x5e4c75,_0x517c56,_0x371c30,_0x58c0b9,_0x29c743,_0x134d65,_0x21a479){return _0x5e4c75(_0x517c56,_0x371c30,_0x58c0b9,_0x29c743,_0x134d65,_0x21a479);},'OOtsF':_0x530b15(0x7d),'QYffL':_0x530b15(0xa1),'BTFST':_0x530b15(0xdb)};try{await this['_handleEvent'](_0x4cbebf,_0x3f6cea,_0x890474,![]);const _0x297c34=(await _0x3f6cea['getSession']())[_0x530b15(0xbb)](),_0x110223=new Date(),_0x5be0c1=_0x252882[_0x530b15(0xbc)](timeoutPromise,constants['POLL_HEALING_RESULT_TIMEOUT'],_0x252882[_0x530b15(0x9f)],_0x252882[_0x530b15(0x9e)],_0x110223,this[_0x530b15(0xa0)],this[_0x530b15(0xde)]),_0x44924e=await Promise['race']([this['BrowserstackHealing'][_0x530b15(0xe0)](constants[_0x530b15(0x93)],_0x297c34,globals[_0x530b15(0x88)](_0x252882['BTFST']))[_0x530b15(0xac)](_0x154a6e=>{const _0x21f70f=_0x530b15;return _0x5be0c1[_0x21f70f(0xf1)](),_0x154a6e;}),_0x5be0c1]);if(_0x44924e&&_0x44924e[_0x530b15(0xbd)]&&_0x44924e[_0x530b15(0xd2)]){const _0x5e67dd={};return _0x5e67dd[_0x530b15(0x95)]=_0x44924e[_0x530b15(0xbd)],_0x5e67dd[_0x530b15(0xe6)]=_0x44924e[_0x530b15(0xd2)],_0x5e67dd['aiHealing']=!![],_0x5e67dd;}const _0x272edb={};return _0x272edb[_0x530b15(0x95)]=_0x890474[_0x530b15(0x8f)][_0x530b15(0xd1)],_0x272edb[_0x530b15(0xe6)]=_0x44924e[_0x530b15(0xd2)],_0x272edb[_0x530b15(0xd8)]=!![],_0x272edb;}catch(_0x4e180a){return logger[_0x530b15(0xa8)](_0x530b15(0xc3)+(_0x4e180a&&_0x4e180a['message']?_0x4e180a['message']:'')),logger[_0x530b15(0xe8)](_0x530b15(0xdf)+_0x890474[_0x530b15(0x8d)]+_0x530b15(0x7b)),_0x890474;}}}exports[a99_0x739807(0xa5)]=Object[a99_0x739807(0x78)](new AiSdkWrapper());