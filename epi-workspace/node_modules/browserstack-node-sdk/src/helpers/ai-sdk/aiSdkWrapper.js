const a92_0x26dbfd=a92_0x110f;(function(_0x53665e,_0x13fbd4){const _0x5c13fb=a92_0x110f,_0x4d5527=_0x53665e();while(!![]){try{const _0x207190=-parseInt(_0x5c13fb(0x134))/0x1+-parseInt(_0x5c13fb(0x151))/0x2+-parseInt(_0x5c13fb(0x14d))/0x3+-parseInt(_0x5c13fb(0x13d))/0x4+-parseInt(_0x5c13fb(0x159))/0x5+-parseInt(_0x5c13fb(0x130))/0x6*(parseInt(_0x5c13fb(0x125))/0x7)+parseInt(_0x5c13fb(0x150))/0x8;if(_0x207190===_0x13fbd4)break;else _0x4d5527['push'](_0x4d5527['shift']());}catch(_0x20cd45){_0x4d5527['push'](_0x4d5527['shift']());}}}(a92_0x4601,0x25b46));function a92_0x110f(_0x11d19d,_0x2c85b6){const _0x4601eb=a92_0x4601();return a92_0x110f=function(_0x110f6c,_0x4892bd){_0x110f6c=_0x110f6c-0xf1;let _0x3200a8=_0x4601eb[_0x110f6c];return _0x3200a8;},a92_0x110f(_0x11d19d,_0x2c85b6);}function a92_0x4601(){const _0x1eb948=['../logger','chrome','toLowerCase','XcdQP','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','BrowserstackHealing.healFailure\x20method\x20timed\x20out','aiHeal_sessionToken','NwDnn','18bbgqac','browserName','message','\x22}}}','191324awamfS','info','handleFailure','getGlobal','VrqiC','BrowserstackHealing.pollResult\x20method\x20timed\x20out','BrowserstackHealing.setToken\x20method\x20timed\x20out','aiHeal_groupId','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','325156YwbOSe','getTestName','getProjectName','isSelfHealEnabled','safariOptions_','aiHeal_isGroupAIEnabled','pollResult','then','setToken','locatorValue','config','knygo','lJrUd','NNIZQ','VRWRl','capabilities_','526566EaFTvb','setTcgToken','EYoTy','8562760UnJAEb','310360IteWEW','getSession','using','../../ai-sdk-node/bundle','ihfdU','logData','../../bin/utils/constants','freeze','932270RUKPnu','BrowserstackHealingPollResultFailed','TCG_URL','getId','PIoae','framework','dUCgH','MgHOS','race','value','parameters_','replace','selector','tseUo','uxNEI','\x22:\x20{\x22endpoint\x22:\x20\x22','browserstackSessionName','_handleEvent','locatorType','POLL_HEALING_RESULT_TIMEOUT','mtaWv','gLYqj','TCG_REGION','kAuBB','BrowserstackHealing.logData\x20method\x20timed\x20out','getCommands','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','error','executeScript','gWuOF','firefoxOptions_','cxhim','EeceK','YrkaK','BrowserstackHealing','s://','winstonLogger','log','HEALING_FAILURE_TIMEOUT','QZpxT','handleSuccess','FrLYL','hVEJz','\x22,\x20\x22tcgUrls\x22:\x20{\x22','cancel','BrowserstackHealingLogDataFailed','mMEbt','ZyWyY','string','keys','ebtUa','map_','../globals','../../helpers/timeoutPromise','SUaVp','Gphpi','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','./autoHealHelper','gKpzN','firefox','set','uvJUy','294322bNGWAK','Swqjw','name_'];a92_0x4601=function(){return _0x1eb948;};return a92_0x4601();}const path=require('path'),{commandRepository}=require(a92_0x26dbfd(0x120)),constants=require(a92_0x26dbfd(0x157)),logger=require(a92_0x26dbfd(0x128))[a92_0x26dbfd(0x10b)],globals=require(a92_0x26dbfd(0x11b)),timeoutPromise=require(a92_0x26dbfd(0x11c)),isUndefinedOrNull=_0x381445=>_0x381445===undefined||_0x381445===null||_0x381445==='',isNotUndefinedOrNull=_0x1d25dd=>!isUndefinedOrNull(_0x1d25dd),isString=_0x24e744=>isNotUndefinedOrNull(_0x24e744)&&typeof _0x24e744===a92_0x26dbfd(0x117);class AiSdkWrapper{constructor(){const _0x3d24ac=a92_0x26dbfd,_0x46dc29={'QiDRo':function(_0xf97a1f,_0x3415a1){return _0xf97a1f(_0x3415a1);},'EeceK':_0x3d24ac(0x154)};this[_0x3d24ac(0x109)]=undefined;try{this[_0x3d24ac(0x109)]=_0x46dc29['QiDRo'](require,path['join'](__dirname,_0x46dc29[_0x3d24ac(0x107)]));}catch(_0x4a28f3){logger[_0x3d24ac(0x102)](_0x3d24ac(0x11f)+(_0x4a28f3&&_0x4a28f3[_0x3d24ac(0x132)]?_0x4a28f3[_0x3d24ac(0x132)]:''));}}['initializeHealingCapabilities'](_0x2f52e0){const _0x42fb0b=a92_0x26dbfd,_0x829281={};_0x829281[_0x42fb0b(0x11d)]='newCapabilities',_0x829281[_0x42fb0b(0x12b)]=function(_0x3c48ea,_0x80048d){return _0x3c48ea===_0x80048d;},_0x829281[_0x42fb0b(0x11e)]=_0x42fb0b(0x129),_0x829281[_0x42fb0b(0x111)]=function(_0x5a14e,_0x45969b){return _0x5a14e===_0x45969b;},_0x829281[_0x42fb0b(0x14a)]=_0x42fb0b(0x122),_0x829281[_0x42fb0b(0x106)]='safari',_0x829281['rEWQY']=function(_0x5815ba,_0x337e02){return _0x5815ba===_0x337e02;},_0x829281[_0x42fb0b(0x121)]='edge',_0x829281[_0x42fb0b(0xfb)]='microsoftedge',_0x829281['mMEbt']=function(_0x445b4f,_0x20755e){return _0x445b4f===_0x20755e;};const _0x38470e=_0x829281;try{const _0x589ee9=this[_0x42fb0b(0x109)]['initializeCapabilities'](Object['fromEntries'](_0x2f52e0['getCapabilities']()[_0x42fb0b(0x11a)]));console[_0x42fb0b(0x10c)](_0x38470e[_0x42fb0b(0x11d)],_0x589ee9);if(_0x38470e['XcdQP'](_0x589ee9?.['browserName']?.[_0x42fb0b(0x12a)](),_0x38470e[_0x42fb0b(0x11e)]))_0x2f52e0['chromeOptions_']=_0x589ee9;else{if(_0x38470e[_0x42fb0b(0x111)](_0x589ee9?.[_0x42fb0b(0x131)]?.[_0x42fb0b(0x12a)](),_0x38470e[_0x42fb0b(0x14a)]))_0x2f52e0[_0x42fb0b(0x105)]=_0x589ee9;else{if(_0x38470e[_0x42fb0b(0x111)](_0x589ee9?.[_0x42fb0b(0x131)]?.[_0x42fb0b(0x12a)](),_0x38470e[_0x42fb0b(0x106)]))_0x2f52e0[_0x42fb0b(0x141)]=_0x589ee9;else{if(_0x38470e['rEWQY'](_0x589ee9?.[_0x42fb0b(0x131)]?.['toLowerCase'](),_0x38470e[_0x42fb0b(0x121)])||_0x38470e[_0x42fb0b(0x12b)](_0x589ee9?.['browserName']?.[_0x42fb0b(0x12a)](),_0x38470e[_0x42fb0b(0xfb)]))_0x2f52e0['edgeOptions_']=_0x589ee9;else _0x38470e[_0x42fb0b(0x115)](_0x589ee9?.['browserName']?.[_0x42fb0b(0x12a)](),'ie')&&(_0x2f52e0['ieOptions_']=_0x589ee9);}}}Object[_0x42fb0b(0x118)](_0x589ee9)['forEach'](_0x393a7c=>{const _0x580ecf=_0x42fb0b,_0x1836c8=_0x2f52e0[_0x580ecf(0x14c)]['get'](_0x393a7c);_0x2f52e0[_0x580ecf(0x14c)][_0x580ecf(0x123)](_0x393a7c,_0x589ee9[_0x393a7c]);});}catch(_0x9a2e1f){logger['error'](_0x42fb0b(0x101)+(_0x9a2e1f&&_0x9a2e1f[_0x42fb0b(0x132)]?_0x9a2e1f[_0x42fb0b(0x132)]:''));}}async[a92_0x26dbfd(0x14e)](_0x18ec63){const _0x12196d=a92_0x26dbfd,_0x5d27a2={'lJrUd':function(_0x1145ea,_0x501032,_0x3cc045,_0x29e4b2,_0x472c81,_0xe49717,_0x5bfa28){return _0x1145ea(_0x501032,_0x3cc045,_0x29e4b2,_0x472c81,_0xe49717,_0x5bfa28);},'NwDnn':_0x12196d(0x13a),'uvJUy':'BrowserstackHealingSetTcgTokenFailed','tsXOH':_0x12196d(0x12e)},_0x4dbf51=new Date(),_0x588e29=_0x5d27a2[_0x12196d(0x149)](timeoutPromise,constants['SET_TCG_TOKEN_TIMEOUT'],_0x5d27a2[_0x12196d(0x12f)],_0x5d27a2[_0x12196d(0x124)],_0x4dbf51,this['config'],this['framework']);await Promise['race']([this[_0x12196d(0x109)][_0x12196d(0x145)](_0x18ec63,globals[_0x12196d(0x137)](_0x5d27a2['tsXOH']),constants[_0x12196d(0x15b)])[_0x12196d(0x144)](()=>{_0x588e29['cancel']();}),_0x588e29]);}async[a92_0x26dbfd(0xf8)](_0x356c1e,_0x38d096,_0x180ac1,_0x2b6430){const _0xe58c8f=a92_0x26dbfd,_0x538d94={'Swqjw':function(_0x214e64,_0x4db9bc){return _0x214e64===_0x4db9bc;},'knygo':function(_0x5abec0,_0x2e4b84){return _0x5abec0(_0x2e4b84);},'PIoae':function(_0x1d001c,_0x1eaa83){return _0x1d001c(_0x1eaa83);},'VRWRl':function(_0x1a73e0,_0x369d35){return _0x1a73e0(_0x369d35);},'gWuOF':function(_0x4fda4e,_0x4c6a03){return _0x4fda4e(_0x4c6a03);},'uxNEI':function(_0x397ec0,_0x211bf1){return _0x397ec0(_0x211bf1);},'tseUo':function(_0x396188,_0x3b7359){return _0x396188(_0x3b7359);},'kzxav':function(_0x418417,_0x531f71){return _0x418417(_0x531f71);},'kAuBB':function(_0x56c7cf,_0x1d87b0){return _0x56c7cf(_0x1d87b0);},'FrLYL':function(_0x3a575f,_0x42eec8){return _0x3a575f(_0x42eec8);},'sRLMN':_0xe58c8f(0x10a),'OFPRq':function(_0x5d8235,_0x2494bd){return _0x5d8235(_0x2494bd);},'ebtUa':'aiHeal_userId','EYoTy':_0xe58c8f(0x13b),'gLYqj':_0xe58c8f(0x142),'MgHOS':function(_0xed050a,_0x388711,_0x21c5c6,_0x40d802,_0x1e7c9f,_0x47e139,_0xb0e490){return _0xed050a(_0x388711,_0x21c5c6,_0x40d802,_0x1e7c9f,_0x47e139,_0xb0e490);},'ajcSQ':_0xe58c8f(0xff),'VrqiC':_0xe58c8f(0x114),'ihfdU':function(_0x2fd243,_0x3b81a0,_0x257932,_0xe60d7b,_0x49963e,_0x5cc465,_0x363650){return _0x2fd243(_0x3b81a0,_0x257932,_0xe60d7b,_0x49963e,_0x5cc465,_0x363650);},'dUCgH':_0xe58c8f(0x12d),'PrpLx':'BrowserstackHealingHealFailureFailed'},_0xd9ecc3=(await _0x38d096[_0xe58c8f(0x152)]())[_0xe58c8f(0x15c)]();let _0x312744='';if(commandRepository['isSelfHealEnabled']()&&_0x538d94[_0xe58c8f(0x126)](_0x2b6430,![])||_0x538d94[_0xe58c8f(0x126)](_0x2b6430,!![])){const _0x37c52e=_0x538d94[_0xe58c8f(0x148)](isNotUndefinedOrNull,_0x180ac1['parameters_'][_0xe58c8f(0x153)])&&_0x538d94[_0xe58c8f(0x15d)](isString,_0x180ac1[_0xe58c8f(0xf1)][_0xe58c8f(0x153)])?_0x180ac1[_0xe58c8f(0xf1)]['using']['replace'](/'/g,'\x5c\x27')[_0xe58c8f(0xf2)](/"/g,'\x5c\x22'):'',_0x8593bc=_0x538d94[_0xe58c8f(0x14b)](isNotUndefinedOrNull,_0x180ac1[_0xe58c8f(0xf1)][_0xe58c8f(0x153)])&&_0x538d94[_0xe58c8f(0x104)](isString,_0x180ac1[_0xe58c8f(0xf1)][_0xe58c8f(0x162)])?_0x180ac1[_0xe58c8f(0xf1)][_0xe58c8f(0x162)][_0xe58c8f(0xf2)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x5b58b7=_0x538d94[_0xe58c8f(0xf5)](isNotUndefinedOrNull,commandRepository[_0xe58c8f(0x13f)]())&&_0x538d94[_0xe58c8f(0xf4)](isString,commandRepository[_0xe58c8f(0x13f)]())?commandRepository[_0xe58c8f(0x13f)]()[_0xe58c8f(0xf2)](/'/g,'\x5c\x27')[_0xe58c8f(0xf2)](/"/g,'\x5c\x22'):'';let _0x215190=_0x538d94['kzxav'](isNotUndefinedOrNull,global[_0xe58c8f(0xf7)])&&_0x538d94[_0xe58c8f(0xfe)](isString,global['browserstackSessionName'])?global['browserstackSessionName'][_0xe58c8f(0xf2)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';!_0x215190&&(_0x215190=_0x538d94[_0xe58c8f(0x110)](isNotUndefinedOrNull,commandRepository[_0xe58c8f(0x13e)]())&&_0x538d94[_0xe58c8f(0xfe)](isString,commandRepository['getTestName']())?commandRepository[_0xe58c8f(0x13e)]()[_0xe58c8f(0xf2)](/'/g,'\x5c\x27')[_0xe58c8f(0xf2)](/"/g,'\x5c\x22'):'');let _0x593646='{\x22region\x22:\x20\x22'+constants[_0xe58c8f(0xfd)]+_0xe58c8f(0x112)+constants['TCG_REGION']+_0xe58c8f(0xf6)+constants[_0xe58c8f(0x15b)]['split'](_0x538d94['sRLMN'])[0x1]+_0xe58c8f(0x133);_0x593646=_0x538d94['OFPRq'](isNotUndefinedOrNull,_0x593646)&&_0x538d94[_0xe58c8f(0x15d)](isString,_0x593646)?_0x593646[_0xe58c8f(0xf2)](/'/g,'\x5c\x27')[_0xe58c8f(0xf2)](/"/g,'\x5c\x22'):'';const _0x256256=commandRepository[_0xe58c8f(0x100)](_0xd9ecc3),_0x272e81=globals[_0xe58c8f(0x137)](_0x538d94[_0xe58c8f(0x119)]),_0x380aea=globals[_0xe58c8f(0x137)](_0x538d94[_0xe58c8f(0x14f)]),_0x1d8a3b=globals[_0xe58c8f(0x137)](_0x538d94[_0xe58c8f(0xfc)]),_0x56724c=![],_0x17c1f3=new Date();if(_0x2b6430){const _0x56558d=_0x538d94[_0xe58c8f(0x160)](timeoutPromise,constants['HEALING_LOG_DATA_TIMEOUT'],_0x538d94['ajcSQ'],_0x538d94[_0xe58c8f(0x138)],_0x17c1f3,this[_0xe58c8f(0x147)],this['framework']);_0x312744=await Promise['race']([this[_0xe58c8f(0x109)][_0xe58c8f(0x156)](_0x37c52e,_0x8593bc,_0x5b58b7,_0x215190,_0x380aea,_0xd9ecc3,_0x256256,_0x593646)[_0xe58c8f(0x144)](_0x56eac5=>{const _0x161c6d=_0xe58c8f;return _0x56558d[_0x161c6d(0x113)](),_0x56eac5;}),_0x56558d]);}else{if(commandRepository[_0xe58c8f(0x140)]()){const _0x457cb3=_0x538d94[_0xe58c8f(0x155)](timeoutPromise,constants[_0xe58c8f(0x10d)],_0x538d94[_0xe58c8f(0x15f)],_0x538d94['PrpLx'],_0x17c1f3,this[_0xe58c8f(0x147)],this[_0xe58c8f(0x15e)]);_0x312744=await Promise['race']([this[_0xe58c8f(0x109)]['healFailure'](_0x37c52e,_0x8593bc,_0x5b58b7,_0x215190,_0x272e81,_0x380aea,_0xd9ecc3,_0x256256,_0x56724c,_0x1d8a3b,_0x593646)[_0xe58c8f(0x144)](_0x595f5a=>{const _0x205247=_0xe58c8f;return _0x457cb3[_0x205247(0x113)](),_0x595f5a;}),_0x457cb3]);}}_0x312744&&await _0x38d096[_0xe58c8f(0x103)](_0x312744);}}async[a92_0x26dbfd(0x10f)](_0x18310d,_0x2d4a19,_0x1c965d){const _0x27c19d=a92_0x26dbfd;try{await this['_handleEvent'](_0x18310d,_0x2d4a19,_0x1c965d,!![]);}catch(_0x576381){return logger[_0x27c19d(0x102)](_0x27c19d(0x13c)+(_0x576381&&_0x576381['message']?_0x576381[_0x27c19d(0x132)]:'')),![];}return!![];}async[a92_0x26dbfd(0x136)](_0x59130e,_0xf42387,_0x57ce92){const _0x430ecf=a92_0x26dbfd,_0x548d10={'ZyWyY':function(_0x40a919,_0x2e2e91,_0x5314d9,_0x7a8b20,_0x4c25f2,_0x224b41,_0x2f0651){return _0x40a919(_0x2e2e91,_0x5314d9,_0x7a8b20,_0x4c25f2,_0x224b41,_0x2f0651);},'dakhv':_0x430ecf(0x139),'YrkaK':_0x430ecf(0x15a),'QZpxT':_0x430ecf(0x12e)};try{await this[_0x430ecf(0xf8)](_0x59130e,_0xf42387,_0x57ce92,![]);const _0x251360=(await _0xf42387[_0x430ecf(0x152)]())[_0x430ecf(0x15c)](),_0x1759d7=new Date(),_0x516b83=_0x548d10[_0x430ecf(0x116)](timeoutPromise,constants[_0x430ecf(0xfa)],_0x548d10['dakhv'],_0x548d10[_0x430ecf(0x108)],_0x1759d7,this['config'],this[_0x430ecf(0x15e)]),_0x4f24e5=await Promise[_0x430ecf(0x161)]([this[_0x430ecf(0x109)][_0x430ecf(0x143)](constants[_0x430ecf(0x15b)],_0x251360,globals['getGlobal'](_0x548d10[_0x430ecf(0x10e)]))[_0x430ecf(0x144)](_0x5e0e38=>{const _0x26b133=_0x430ecf;return _0x516b83[_0x26b133(0x113)](),_0x5e0e38;}),_0x516b83]);if(_0x4f24e5&&_0x4f24e5[_0x430ecf(0xf3)]&&_0x4f24e5[_0x430ecf(0x162)]){const _0x12bafe={};return _0x12bafe[_0x430ecf(0xf9)]=_0x4f24e5['selector'],_0x12bafe[_0x430ecf(0x146)]=_0x4f24e5[_0x430ecf(0x162)],_0x12bafe['aiHealing']=!![],_0x12bafe;}const _0x3514b6={};return _0x3514b6[_0x430ecf(0xf9)]=_0x57ce92[_0x430ecf(0xf1)][_0x430ecf(0x153)],_0x3514b6[_0x430ecf(0x146)]=_0x4f24e5[_0x430ecf(0x162)],_0x3514b6['aiHealing']=!![],_0x3514b6;}catch(_0x483f2a){return logger['debug'](_0x430ecf(0x12c)+(_0x483f2a&&_0x483f2a['message']?_0x483f2a[_0x430ecf(0x132)]:'')),logger[_0x430ecf(0x135)]('Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20'+_0x57ce92[_0x430ecf(0x127)]+'\x20command'),_0x57ce92;}}}exports['aiSdkWrapper']=Object[a92_0x26dbfd(0x158)](new AiSdkWrapper());