function a84_0x19f4(){const _0x283df2=['ZUxuW','PraYS','s://','BrowserstackHealing.setToken\x20method\x20timed\x20out','aiHeal_isGroupAIEnabled','GRVBA','race','30501yTOdEG','winstonLogger','Bjsrb','../../ai-sdk-node/bundle','\x20command','POLL_HEALING_RESULT_TIMEOUT','chrome','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','2659884CvuaGK','message','edgeOptions_','freeze','locatorValue','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','browserName','selector','fromEntries','BrowserstackHealingPollResultFailed','set','aEYdw','{\x22region\x22:\x20\x22','log','cancel','getGlobal','toLowerCase','wvQgW','ANDCZ','1231926bjmhyL','handleSuccess','BrowserstackHealing','string','1741812klMybp','BrowserstackHealing.healFailure\x20method\x20timed\x20out','_handleEvent','firefox','AsYyr','newCapabilities','4728uAvcQn','zgsFk','logData','browserstackSessionName','getCapabilities','TCG_REGION','config','debug','\x22}}}','cWhhP','iCNAz','Xowdp','xgerp','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','bxgkR','getProjectName','parameters_','Jpuca','741627eUKKtE','mCdnr','DQrsv','using','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','BrowserstackHealing.logData\x20method\x20timed\x20out','healFailure','value','aiHealing','isSelfHealEnabled','1656485kjAHBD','GPepb','XxDXd','../../bin/utils/constants','split','lpmaW','keys','\x22:\x20{\x22endpoint\x22:\x20\x22','980483hPnGIf','edge','VREuJ','forEach','then','RJEZI','executeScript','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','BrowserstackHealingLogDataFailed','TCG_URL','join','initializeHealingCapabilities','locatorType','gPCeQ','safari','capabilities_','3vhOpSe','XElDl','handleFailure','initializeCapabilities','error','getId','map_','name_','getSession','BrowserstackHealingHealFailureFailed','aiHeal_sessionToken','XPauH','replace','SET_TCG_TOKEN_TIMEOUT','HEALING_FAILURE_TIMEOUT','\x22,\x20\x22tcgUrls\x22:\x20{\x22','./autoHealHelper','aiHeal_groupId','qJkzX','get','DWdNp','setToken','SKzOz','framework','BrowserstackHealingSetTcgTokenFailed','chromeOptions_','PdTqn'];a84_0x19f4=function(){return _0x283df2;};return a84_0x19f4();}const a84_0x575ebf=a84_0x4cff;function a84_0x4cff(_0x1c881e,_0x1230a4){const _0x19f4f6=a84_0x19f4();return a84_0x4cff=function(_0x4cff64,_0x491d0b){_0x4cff64=_0x4cff64-0x75;let _0x3c38c5=_0x19f4f6[_0x4cff64];return _0x3c38c5;},a84_0x4cff(_0x1c881e,_0x1230a4);}(function(_0xb1c02e,_0x550a2a){const _0x56b473=a84_0x4cff,_0x49d3ca=_0xb1c02e();while(!![]){try{const _0x275b2f=parseInt(_0x56b473(0x83))/0x1+-parseInt(_0x56b473(0xe6))/0x2*(parseInt(_0x56b473(0xa5))/0x3)+-parseInt(_0x56b473(0xcf))/0x4+-parseInt(_0x56b473(0x8d))/0x5+-parseInt(_0x56b473(0xe2))/0x6+-parseInt(_0x56b473(0x95))/0x7+-parseInt(_0x56b473(0xec))/0x8*(-parseInt(_0x56b473(0xc7))/0x9);if(_0x275b2f===_0x550a2a)break;else _0x49d3ca['push'](_0x49d3ca['shift']());}catch(_0x119632){_0x49d3ca['push'](_0x49d3ca['shift']());}}}(a84_0x19f4,0x81dfa));const path=require('path'),{commandRepository}=require(a84_0x575ebf(0xb5)),constants=require(a84_0x575ebf(0x90)),logger=require('../logger')[a84_0x575ebf(0xc8)],globals=require('../globals'),timeoutPromise=require('../../helpers/timeoutPromise'),isUndefinedOrNull=_0x29124d=>_0x29124d===undefined||_0x29124d===null||_0x29124d==='',isNotUndefinedOrNull=_0x2b559d=>!isUndefinedOrNull(_0x2b559d),isString=_0xafea5d=>isNotUndefinedOrNull(_0xafea5d)&&typeof _0xafea5d===a84_0x575ebf(0xe5);class AiSdkWrapper{constructor(){const _0x1cc965=a84_0x575ebf,_0x513067={'DQrsv':function(_0xa9eb03,_0x142ca5){return _0xa9eb03(_0x142ca5);},'XElDl':_0x1cc965(0xca)};this[_0x1cc965(0xe4)]=undefined;try{this[_0x1cc965(0xe4)]=_0x513067[_0x1cc965(0x85)](require,path[_0x1cc965(0x9f)](__dirname,_0x513067[_0x1cc965(0xa6)]));}catch(_0x24635a){logger[_0x1cc965(0xa9)](_0x1cc965(0xd4)+(_0x24635a&&_0x24635a[_0x1cc965(0xd0)]?_0x24635a[_0x1cc965(0xd0)]:''));}}[a84_0x575ebf(0xa0)](_0x4a023b){const _0x31faea=a84_0x575ebf,_0xca202c={};_0xca202c['Jpuca']=_0x31faea(0xeb),_0xca202c['XPauH']=function(_0x2159e4,_0x493a15){return _0x2159e4===_0x493a15;},_0xca202c[_0x31faea(0x7b)]=_0x31faea(0xcd),_0xca202c[_0x31faea(0x7d)]=function(_0x41a134,_0x199511){return _0x41a134===_0x199511;},_0xca202c[_0x31faea(0xc0)]=_0x31faea(0xe9),_0xca202c[_0x31faea(0xbf)]=_0x31faea(0xa3),_0xca202c[_0x31faea(0xc1)]=function(_0x13323b,_0x24b169){return _0x13323b===_0x24b169;},_0xca202c[_0x31faea(0xbb)]=_0x31faea(0x96),_0xca202c[_0x31faea(0x7a)]='microsoftedge',_0xca202c['GPepb']=function(_0x10ef48,_0x590ce8){return _0x10ef48===_0x590ce8;};const _0x265a87=_0xca202c;try{const _0x4c9454=this[_0x31faea(0xe4)][_0x31faea(0xa8)](Object[_0x31faea(0xd7)](_0x4a023b[_0x31faea(0x75)]()[_0x31faea(0xab)]));console[_0x31faea(0xdc)](_0x265a87[_0x31faea(0x82)],_0x4c9454);if(_0x265a87[_0x31faea(0xb0)](_0x4c9454?.[_0x31faea(0xd5)]?.[_0x31faea(0xdf)](),_0x265a87['iCNAz']))_0x4a023b[_0x31faea(0xbe)]=_0x4c9454;else{if(_0x265a87[_0x31faea(0x7d)](_0x4c9454?.['browserName']?.[_0x31faea(0xdf)](),_0x265a87[_0x31faea(0xc0)]))_0x4a023b['firefoxOptions_']=_0x4c9454;else{if(_0x265a87['XPauH'](_0x4c9454?.['browserName']?.[_0x31faea(0xdf)](),_0x265a87[_0x31faea(0xbf)]))_0x4a023b['safariOptions_']=_0x4c9454;else{if(_0x265a87['PraYS'](_0x4c9454?.[_0x31faea(0xd5)]?.[_0x31faea(0xdf)](),_0x265a87['SKzOz'])||_0x265a87[_0x31faea(0xb0)](_0x4c9454?.[_0x31faea(0xd5)]?.[_0x31faea(0xdf)](),_0x265a87[_0x31faea(0x7a)]))_0x4a023b[_0x31faea(0xd1)]=_0x4c9454;else _0x265a87[_0x31faea(0x8e)](_0x4c9454?.[_0x31faea(0xd5)]?.[_0x31faea(0xdf)](),'ie')&&(_0x4a023b['ieOptions_']=_0x4c9454);}}}Object[_0x31faea(0x93)](_0x4c9454)[_0x31faea(0x98)](_0xf3229f=>{const _0x321294=_0x31faea,_0x349868=_0x4a023b[_0x321294(0xa4)][_0x321294(0xb8)](_0xf3229f);_0x4a023b[_0x321294(0xa4)][_0x321294(0xd9)](_0xf3229f,_0x4c9454[_0xf3229f]);});}catch(_0x3df393){logger['error'](_0x31faea(0x87)+(_0x3df393&&_0x3df393[_0x31faea(0xd0)]?_0x3df393['message']:''));}}async['setTcgToken'](_0x58f50c){const _0x150dbd=a84_0x575ebf,_0x4878c6={'AUbaF':function(_0x314ec7,_0xb41e9e,_0x43060f,_0x356e7e,_0x3d95d7,_0x2ad95c,_0x38dcb9){return _0x314ec7(_0xb41e9e,_0x43060f,_0x356e7e,_0x3d95d7,_0x2ad95c,_0x38dcb9);},'dqUZF':_0x150dbd(0xc3),'Bjsrb':_0x150dbd(0xbd),'OzOqV':_0x150dbd(0xaf)},_0x500955=new Date(),_0x26d182=_0x4878c6['AUbaF'](timeoutPromise,constants[_0x150dbd(0xb2)],_0x4878c6['dqUZF'],_0x4878c6[_0x150dbd(0xc9)],_0x500955,this['config'],this['framework']);await Promise['race']([this[_0x150dbd(0xe4)][_0x150dbd(0xba)](_0x58f50c,globals[_0x150dbd(0xde)](_0x4878c6['OzOqV']),constants[_0x150dbd(0x9e)])[_0x150dbd(0x99)](()=>{const _0x29e360=_0x150dbd;_0x26d182[_0x29e360(0xdd)]();}),_0x26d182]);}async[a84_0x575ebf(0xe8)](_0x59bbac,_0x24ecd3,_0x5a4473,_0x290655){const _0x2a80f9=a84_0x575ebf,_0x2377d7={'gPCeQ':function(_0x72d9b,_0x5b95a6){return _0x72d9b===_0x5b95a6;},'lpmaW':function(_0x5d87fe,_0x9713b){return _0x5d87fe===_0x9713b;},'qJkzX':function(_0x18415f,_0x254456){return _0x18415f(_0x254456);},'aEYdw':function(_0x54c4ce,_0x27dade){return _0x54c4ce(_0x27dade);},'GRVBA':function(_0x2a0c31,_0x50f324){return _0x2a0c31(_0x50f324);},'Urzff':function(_0x27373e,_0x4b0481){return _0x27373e(_0x4b0481);},'bxgkR':function(_0xe5eed1,_0x512754){return _0xe5eed1(_0x512754);},'XxDXd':function(_0x775b1c,_0x348768){return _0x775b1c(_0x348768);},'mCdnr':_0x2a80f9(0xc2),'NJXmA':function(_0x33010f,_0x588135){return _0x33010f(_0x588135);},'RJEZI':function(_0x1893ab,_0x68ce1d){return _0x1893ab(_0x68ce1d);},'DWdNp':'aiHeal_userId','zgsFk':_0x2a80f9(0xb6),'VREuJ':_0x2a80f9(0xc4),'AsYyr':function(_0x26162b,_0x3e958e,_0x270517,_0x21912f,_0x265c8b,_0x5d1362,_0x3c2f14){return _0x26162b(_0x3e958e,_0x270517,_0x21912f,_0x265c8b,_0x5d1362,_0x3c2f14);},'MzmAt':_0x2a80f9(0x88),'Xowdp':_0x2a80f9(0x9d),'KEIgC':_0x2a80f9(0xe7),'wEDjs':_0x2a80f9(0xae)},_0x4ec7f1=(await _0x24ecd3[_0x2a80f9(0xad)]())[_0x2a80f9(0xaa)]();let _0x53d4bd='';if(commandRepository[_0x2a80f9(0x8c)]()&&_0x2377d7[_0x2a80f9(0xa2)](_0x290655,![])||_0x2377d7[_0x2a80f9(0x92)](_0x290655,!![])){const _0x36f3f0=_0x2377d7[_0x2a80f9(0xb7)](isNotUndefinedOrNull,_0x5a4473[_0x2a80f9(0x81)][_0x2a80f9(0x86)])&&_0x2377d7[_0x2a80f9(0xda)](isString,_0x5a4473['parameters_'][_0x2a80f9(0x86)])?_0x5a4473[_0x2a80f9(0x81)][_0x2a80f9(0x86)][_0x2a80f9(0xb1)](/'/g,'\x5c\x27')[_0x2a80f9(0xb1)](/"/g,'\x5c\x22'):'',_0x27a21b=_0x2377d7[_0x2a80f9(0xda)](isNotUndefinedOrNull,_0x5a4473[_0x2a80f9(0x81)][_0x2a80f9(0x86)])&&_0x2377d7[_0x2a80f9(0xda)](isString,_0x5a4473[_0x2a80f9(0x81)][_0x2a80f9(0x8a)])?_0x5a4473[_0x2a80f9(0x81)][_0x2a80f9(0x8a)]['replace'](/'/g,'\x5c\x27')[_0x2a80f9(0xb1)](/"/g,'\x5c\x22'):'',_0x123afd=_0x2377d7[_0x2a80f9(0xc5)](isNotUndefinedOrNull,commandRepository[_0x2a80f9(0x80)]())&&_0x2377d7['Urzff'](isString,commandRepository['getProjectName']())?commandRepository[_0x2a80f9(0x80)]()[_0x2a80f9(0xb1)](/'/g,'\x5c\x27')[_0x2a80f9(0xb1)](/"/g,'\x5c\x22'):'';let _0x4788c9=_0x2377d7[_0x2a80f9(0xc5)](isNotUndefinedOrNull,global[_0x2a80f9(0xef)])&&_0x2377d7[_0x2a80f9(0x7f)](isString,global[_0x2a80f9(0xef)])?global['browserstackSessionName'][_0x2a80f9(0xb1)](/'/g,'\x5c\x27')[_0x2a80f9(0xb1)](/"/g,'\x5c\x22'):'';!_0x4788c9&&(_0x4788c9=_0x2377d7[_0x2a80f9(0x7f)](isNotUndefinedOrNull,commandRepository['getTestName']())&&_0x2377d7[_0x2a80f9(0x8f)](isString,commandRepository['getTestName']())?commandRepository['getTestName']()['replace'](/'/g,'\x5c\x27')[_0x2a80f9(0xb1)](/"/g,'\x5c\x22'):'');let _0x9335c9=_0x2a80f9(0xdb)+constants[_0x2a80f9(0x76)]+_0x2a80f9(0xb4)+constants[_0x2a80f9(0x76)]+_0x2a80f9(0x94)+constants[_0x2a80f9(0x9e)][_0x2a80f9(0x91)](_0x2377d7[_0x2a80f9(0x84)])[0x1]+_0x2a80f9(0x79);_0x9335c9=_0x2377d7['NJXmA'](isNotUndefinedOrNull,_0x9335c9)&&_0x2377d7[_0x2a80f9(0x9a)](isString,_0x9335c9)?_0x9335c9['replace'](/'/g,'\x5c\x27')[_0x2a80f9(0xb1)](/"/g,'\x5c\x22'):'';const _0x2eea0c=commandRepository['getCommands'](_0x4ec7f1),_0x4bacda=globals['getGlobal'](_0x2377d7[_0x2a80f9(0xb9)]),_0x4a79ce=globals['getGlobal'](_0x2377d7[_0x2a80f9(0xed)]),_0x1d5874=globals[_0x2a80f9(0xde)](_0x2377d7[_0x2a80f9(0x97)]),_0x36387e=![],_0x37d549=new Date();if(_0x290655){const _0x3cf4f2=_0x2377d7[_0x2a80f9(0xea)](timeoutPromise,constants['HEALING_LOG_DATA_TIMEOUT'],_0x2377d7['MzmAt'],_0x2377d7[_0x2a80f9(0x7c)],_0x37d549,this['config'],this[_0x2a80f9(0xbc)]);_0x53d4bd=await Promise[_0x2a80f9(0xc6)]([this['BrowserstackHealing'][_0x2a80f9(0xee)](_0x36f3f0,_0x27a21b,_0x123afd,_0x4788c9,_0x4a79ce,_0x4ec7f1,_0x2eea0c,_0x9335c9)['then'](_0x3ced6b=>{const _0xe18a7c=_0x2a80f9;return _0x3cf4f2[_0xe18a7c(0xdd)](),_0x3ced6b;}),_0x3cf4f2]);}else{if(commandRepository[_0x2a80f9(0x8c)]()){const _0x491f5f=_0x2377d7[_0x2a80f9(0xea)](timeoutPromise,constants[_0x2a80f9(0xb3)],_0x2377d7['KEIgC'],_0x2377d7['wEDjs'],_0x37d549,this['config'],this[_0x2a80f9(0xbc)]);_0x53d4bd=await Promise[_0x2a80f9(0xc6)]([this[_0x2a80f9(0xe4)][_0x2a80f9(0x89)](_0x36f3f0,_0x27a21b,_0x123afd,_0x4788c9,_0x4bacda,_0x4a79ce,_0x4ec7f1,_0x2eea0c,_0x36387e,_0x1d5874,_0x9335c9)[_0x2a80f9(0x99)](_0x3af734=>{const _0x1e6237=_0x2a80f9;return _0x491f5f[_0x1e6237(0xdd)](),_0x3af734;}),_0x491f5f]);}}_0x53d4bd&&await _0x24ecd3[_0x2a80f9(0x9b)](_0x53d4bd);}}async[a84_0x575ebf(0xe3)](_0x358f65,_0x214545,_0x53fb57){const _0x54697c=a84_0x575ebf;try{await this['_handleEvent'](_0x358f65,_0x214545,_0x53fb57,!![]);}catch(_0x4a0812){return logger['error'](_0x54697c(0xce)+(_0x4a0812&&_0x4a0812['message']?_0x4a0812[_0x54697c(0xd0)]:'')),![];}return!![];}async[a84_0x575ebf(0xa7)](_0x7fde88,_0x15e16e,_0x1e6f2a){const _0x583636=a84_0x575ebf,_0x278ca3={'AthtE':function(_0x35d83e,_0x326ae0,_0x3ad208,_0x11527d,_0x4f15eb,_0x540cee,_0x28730e){return _0x35d83e(_0x326ae0,_0x3ad208,_0x11527d,_0x4f15eb,_0x540cee,_0x28730e);},'HcBnY':'BrowserstackHealing.pollResult\x20method\x20timed\x20out','ANDCZ':_0x583636(0xd8),'wvQgW':_0x583636(0xaf)};try{await this[_0x583636(0xe8)](_0x7fde88,_0x15e16e,_0x1e6f2a,![]);const _0x476fab=(await _0x15e16e['getSession']())[_0x583636(0xaa)](),_0x443895=new Date(),_0xf406c=_0x278ca3['AthtE'](timeoutPromise,constants[_0x583636(0xcc)],_0x278ca3['HcBnY'],_0x278ca3[_0x583636(0xe1)],_0x443895,this[_0x583636(0x77)],this[_0x583636(0xbc)]),_0x36ac10=await Promise[_0x583636(0xc6)]([this[_0x583636(0xe4)]['pollResult'](constants[_0x583636(0x9e)],_0x476fab,globals['getGlobal'](_0x278ca3[_0x583636(0xe0)]))['then'](_0x24eb1c=>{const _0x28ba4c=_0x583636;return _0xf406c[_0x28ba4c(0xdd)](),_0x24eb1c;}),_0xf406c]);if(_0x36ac10&&_0x36ac10[_0x583636(0xd6)]&&_0x36ac10[_0x583636(0x8a)]){const _0x1adc8d={};return _0x1adc8d[_0x583636(0xa1)]=_0x36ac10[_0x583636(0xd6)],_0x1adc8d[_0x583636(0xd3)]=_0x36ac10[_0x583636(0x8a)],_0x1adc8d[_0x583636(0x8b)]=!![],_0x1adc8d;}const _0x5dd11c={};return _0x5dd11c[_0x583636(0xa1)]=_0x1e6f2a[_0x583636(0x81)][_0x583636(0x86)],_0x5dd11c[_0x583636(0xd3)]=_0x36ac10[_0x583636(0x8a)],_0x5dd11c[_0x583636(0x8b)]=!![],_0x5dd11c;}catch(_0x52e57a){return logger[_0x583636(0x78)](_0x583636(0x9c)+(_0x52e57a&&_0x52e57a['message']?_0x52e57a[_0x583636(0xd0)]:'')),logger['info'](_0x583636(0x7e)+_0x1e6f2a[_0x583636(0xac)]+_0x583636(0xcb)),_0x1e6f2a;}}}exports['aiSdkWrapper']=Object[a84_0x575ebf(0xd2)](new AiSdkWrapper());