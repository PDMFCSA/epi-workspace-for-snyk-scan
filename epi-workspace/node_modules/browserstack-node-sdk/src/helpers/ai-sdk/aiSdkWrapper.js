function a87_0x5d01(){const _0x33467f=['LLgFV','initializeHealingCapabilities','FWkQY','1798728aovXDR','aiHealing','getId','../../bin/utils/constants','framework','string','BrowserstackHealing.healFailure\x20method\x20timed\x20out','replace','browserstackSessionName','BrowserstackHealing.setToken\x20method\x20timed\x20out','KHEKV','parameters_','OofCI','kZGpj','451712xVpZLS','aiHeal_userId','./autoHealHelper','s://','browserName','xiOKD','ieOptions_','config','zzyEQ','healFailure','error','setToken','../../helpers/timeoutPromise','getTestName','198tQNBaW','TCG_REGION','isSelfHealEnabled','using','HEALING_LOG_DATA_TIMEOUT','WdeOM','race','EURxw','debug','getSession','value','aiSdkWrapper','BrowserstackHealing','logData','etyCW','lTkvT','toLowerCase','forEach','safariOptions_','BrowserstackHealing.pollResult\x20method\x20timed\x20out','UwYdl','then','31491EWjtDB','TXpxL','handleSuccess','BrowserstackHealingPollResultFailed','locatorType','7nidVAA','chromeOptions_','keys','chrome','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','getCommands','Zyupf','CSlfc','setTcgToken','arIpp','initializeCapabilities','selector','102850XBhPJH','paYAh','firefoxOptions_','aiHeal_sessionToken','nBuVV','microsoftedge','../globals','24SbWHHr','TCG_URL','log','fromEntries','slNsv','eVCMZ','getCapabilities','poUoF','1234625YOvWRI','BrowserstackHealingSetTcgTokenFailed','orwOI','17106vHvkqF','newCapabilities','167unzhcU','HEALING_FAILURE_TIMEOUT','locatorValue','message','getProjectName','{\x22region\x22:\x20\x22','../../ai-sdk-node/bundle','_handleEvent','name_','freeze','Omhvp','cancel','get','\x22:\x20{\x22endpoint\x22:\x20\x22','WAMZX','getGlobal','capabilities_','Apkhz','\x22,\x20\x22tcgUrls\x22:\x20{\x22','vwmqA','\x22}}}','winstonLogger','split','map_','POLL_HEALING_RESULT_TIMEOUT','dGhpz','iOror','sMmZA','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','handleFailure','BrowserstackHealing.logData\x20method\x20timed\x20out'];a87_0x5d01=function(){return _0x33467f;};return a87_0x5d01();}const a87_0x1119c6=a87_0x518f;(function(_0x89ccd6,_0x2e2567){const _0x94528d=a87_0x518f,_0x2af8c8=_0x89ccd6();while(!![]){try{const _0x2a0b0c=-parseInt(_0x94528d(0x1e0))/0x1*(-parseInt(_0x94528d(0x1d3))/0x2)+parseInt(_0x94528d(0x1bb))/0x3+-parseInt(_0x94528d(0x197))/0x4+parseInt(_0x94528d(0x1db))/0x5+parseInt(_0x94528d(0x1de))/0x6*(-parseInt(_0x94528d(0x1c0))/0x7)+parseInt(_0x94528d(0x202))/0x8+parseInt(_0x94528d(0x1a5))/0x9*(-parseInt(_0x94528d(0x1cc))/0xa);if(_0x2a0b0c===_0x2e2567)break;else _0x2af8c8['push'](_0x2af8c8['shift']());}catch(_0x1230bd){_0x2af8c8['push'](_0x2af8c8['shift']());}}}(a87_0x5d01,0x22b8a));const path=require('path'),{commandRepository}=require(a87_0x1119c6(0x199)),constants=require(a87_0x1119c6(0x205)),logger=require('../logger')[a87_0x1119c6(0x1f5)],globals=require(a87_0x1119c6(0x1d2)),timeoutPromise=require(a87_0x1119c6(0x1a3)),isUndefinedOrNull=_0x529763=>_0x529763===undefined||_0x529763===null||_0x529763==='',isNotUndefinedOrNull=_0x15ae23=>!isUndefinedOrNull(_0x15ae23),isString=_0x357941=>isNotUndefinedOrNull(_0x357941)&&typeof _0x357941===a87_0x1119c6(0x207);function a87_0x518f(_0x3625d8,_0x1e820d){const _0x5d01b6=a87_0x5d01();return a87_0x518f=function(_0x518f86,_0x838d0a){_0x518f86=_0x518f86-0x193;let _0x3bb2b4=_0x5d01b6[_0x518f86];return _0x3bb2b4;},a87_0x518f(_0x3625d8,_0x1e820d);}class AiSdkWrapper{constructor(){const _0x21ef96=a87_0x1119c6,_0x9954bd={'slNsv':function(_0x4c5c2d,_0x5a298a){return _0x4c5c2d(_0x5a298a);},'xiOKD':_0x21ef96(0x1e6)};this[_0x21ef96(0x1b1)]=undefined;try{this[_0x21ef96(0x1b1)]=_0x9954bd[_0x21ef96(0x1d7)](require,path['join'](__dirname,_0x9954bd[_0x21ef96(0x19c)]));}catch(_0x54d31c){logger[_0x21ef96(0x1a1)]('Unable\x20to\x20load\x20healing\x20module,\x20error:\x20'+(_0x54d31c&&_0x54d31c[_0x21ef96(0x1e3)]?_0x54d31c[_0x21ef96(0x1e3)]:''));}}[a87_0x1119c6(0x200)](_0x574215){const _0x5bf167=a87_0x1119c6,_0x5daa55={};_0x5daa55[_0x5bf167(0x19f)]=_0x5bf167(0x1df),_0x5daa55[_0x5bf167(0x1c7)]=function(_0xcd80d3,_0x4b2fd2){return _0xcd80d3===_0x4b2fd2;},_0x5daa55[_0x5bf167(0x1ac)]=_0x5bf167(0x1c3),_0x5daa55[_0x5bf167(0x1f1)]=function(_0x5dd767,_0x4185d6){return _0x5dd767===_0x4185d6;},_0x5daa55[_0x5bf167(0x201)]='firefox',_0x5daa55['dGhpz']=function(_0x33d96c,_0x21808d){return _0x33d96c===_0x21808d;},_0x5daa55[_0x5bf167(0x1d8)]='safari',_0x5daa55[_0x5bf167(0x1ea)]='edge',_0x5daa55[_0x5bf167(0x195)]=function(_0x1c0963,_0x59fd42){return _0x1c0963===_0x59fd42;},_0x5daa55[_0x5bf167(0x1dd)]=_0x5bf167(0x1d1),_0x5daa55[_0x5bf167(0x1bc)]=function(_0x3b7150,_0x135887){return _0x3b7150===_0x135887;};const _0x4cbb2d=_0x5daa55;try{const _0x547b37=this[_0x5bf167(0x1b1)][_0x5bf167(0x1ca)](Object[_0x5bf167(0x1d6)](_0x574215[_0x5bf167(0x1d9)]()[_0x5bf167(0x1f7)]));console[_0x5bf167(0x1d5)](_0x4cbb2d[_0x5bf167(0x19f)],_0x547b37);if(_0x4cbb2d[_0x5bf167(0x1c7)](_0x547b37?.[_0x5bf167(0x19b)]?.['toLowerCase'](),_0x4cbb2d[_0x5bf167(0x1ac)]))_0x574215[_0x5bf167(0x1c1)]=_0x547b37;else{if(_0x4cbb2d[_0x5bf167(0x1f1)](_0x547b37?.[_0x5bf167(0x19b)]?.['toLowerCase'](),_0x4cbb2d['FWkQY']))_0x574215[_0x5bf167(0x1ce)]=_0x547b37;else{if(_0x4cbb2d[_0x5bf167(0x1f9)](_0x547b37?.[_0x5bf167(0x19b)]?.[_0x5bf167(0x1b5)](),_0x4cbb2d['eVCMZ']))_0x574215[_0x5bf167(0x1b7)]=_0x547b37;else{if(_0x4cbb2d[_0x5bf167(0x1c7)](_0x547b37?.[_0x5bf167(0x19b)]?.[_0x5bf167(0x1b5)](),_0x4cbb2d[_0x5bf167(0x1ea)])||_0x4cbb2d[_0x5bf167(0x195)](_0x547b37?.[_0x5bf167(0x19b)]?.[_0x5bf167(0x1b5)](),_0x4cbb2d['orwOI']))_0x574215['edgeOptions_']=_0x547b37;else _0x4cbb2d[_0x5bf167(0x1bc)](_0x547b37?.[_0x5bf167(0x19b)]?.[_0x5bf167(0x1b5)](),'ie')&&(_0x574215[_0x5bf167(0x19d)]=_0x547b37);}}}Object[_0x5bf167(0x1c2)](_0x547b37)[_0x5bf167(0x1b6)](_0x1de702=>{const _0x436898=_0x5bf167,_0x5af8f9=_0x574215['capabilities_'][_0x436898(0x1ec)](_0x1de702);_0x574215[_0x436898(0x1f0)]['set'](_0x1de702,_0x547b37[_0x1de702]);});}catch(_0x641883){logger['error'](_0x5bf167(0x1c4)+(_0x641883&&_0x641883[_0x5bf167(0x1e3)]?_0x641883[_0x5bf167(0x1e3)]:''));}}async[a87_0x1119c6(0x1c8)](_0x855c85){const _0x336801=a87_0x1119c6,_0x28ee7a={'vwmqA':function(_0x301ee7,_0x1a854a,_0x2f1260,_0x3cf1dd,_0x184f8e,_0xb8bda3,_0x313623){return _0x301ee7(_0x1a854a,_0x2f1260,_0x3cf1dd,_0x184f8e,_0xb8bda3,_0x313623);},'ctmXL':_0x336801(0x20b),'lTkvT':_0x336801(0x1dc),'mpnAl':_0x336801(0x1cf)},_0x13ff1e=new Date(),_0x418901=_0x28ee7a[_0x336801(0x1f3)](timeoutPromise,constants['SET_TCG_TOKEN_TIMEOUT'],_0x28ee7a['ctmXL'],_0x28ee7a[_0x336801(0x1b4)],_0x13ff1e,this['config'],this['framework']);await Promise[_0x336801(0x1ab)]([this['BrowserstackHealing'][_0x336801(0x1a2)](_0x855c85,globals['getGlobal'](_0x28ee7a['mpnAl']),constants[_0x336801(0x1d4)])['then'](()=>{_0x418901['cancel']();}),_0x418901]);}async[a87_0x1119c6(0x1e7)](_0x14a8fb,_0x444f3d,_0x3faade,_0x5ac6eb){const _0x41ee0b=a87_0x1119c6,_0x1b5061={'UwYdl':function(_0x2f4547,_0x30ffa5){return _0x2f4547===_0x30ffa5;},'LLgFV':function(_0xbdda10,_0x5d5763){return _0xbdda10(_0x5d5763);},'kZGpj':function(_0xdfa587,_0x5ac4d6){return _0xdfa587(_0x5ac4d6);},'WAMZX':_0x41ee0b(0x19a),'sMmZA':_0x41ee0b(0x198),'nBuVV':'aiHeal_groupId','wHgSL':'aiHeal_isGroupAIEnabled','Zyupf':function(_0x1d4310,_0x16b097,_0x1ad730,_0x3d3195,_0x2d441f,_0x2e3094,_0x31c4a0){return _0x1d4310(_0x16b097,_0x1ad730,_0x3d3195,_0x2d441f,_0x2e3094,_0x31c4a0);},'etyCW':_0x41ee0b(0x1fe),'paYAh':'BrowserstackHealingLogDataFailed','KHEKV':_0x41ee0b(0x208),'arIpp':'BrowserstackHealingHealFailureFailed'},_0x46f60b=(await _0x444f3d[_0x41ee0b(0x1ae)]())[_0x41ee0b(0x204)]();let _0x6b2c42='';if(commandRepository[_0x41ee0b(0x1a7)]()&&_0x1b5061[_0x41ee0b(0x1b9)](_0x5ac6eb,![])||_0x1b5061['UwYdl'](_0x5ac6eb,!![])){const _0x23673c=_0x1b5061[_0x41ee0b(0x1ff)](isNotUndefinedOrNull,_0x3faade[_0x41ee0b(0x194)][_0x41ee0b(0x1a8)])&&_0x1b5061[_0x41ee0b(0x196)](isString,_0x3faade[_0x41ee0b(0x194)][_0x41ee0b(0x1a8)])?_0x3faade[_0x41ee0b(0x194)]['using'][_0x41ee0b(0x209)](/'/g,'\x5c\x27')[_0x41ee0b(0x209)](/"/g,'\x5c\x22'):'',_0x4c62ef=_0x1b5061[_0x41ee0b(0x196)](isNotUndefinedOrNull,_0x3faade[_0x41ee0b(0x194)][_0x41ee0b(0x1a8)])&&_0x1b5061[_0x41ee0b(0x1ff)](isString,_0x3faade[_0x41ee0b(0x194)][_0x41ee0b(0x1af)])?_0x3faade[_0x41ee0b(0x194)][_0x41ee0b(0x1af)][_0x41ee0b(0x209)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x5e98e9=_0x1b5061[_0x41ee0b(0x196)](isNotUndefinedOrNull,commandRepository[_0x41ee0b(0x1e4)]())&&_0x1b5061[_0x41ee0b(0x196)](isString,commandRepository[_0x41ee0b(0x1e4)]())?commandRepository[_0x41ee0b(0x1e4)]()[_0x41ee0b(0x209)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';let _0xf01bee=_0x1b5061[_0x41ee0b(0x1ff)](isNotUndefinedOrNull,global[_0x41ee0b(0x20a)])&&_0x1b5061[_0x41ee0b(0x1ff)](isString,global[_0x41ee0b(0x20a)])?global[_0x41ee0b(0x20a)]['replace'](/'/g,'\x5c\x27')[_0x41ee0b(0x209)](/"/g,'\x5c\x22'):'';!_0xf01bee&&(_0xf01bee=_0x1b5061[_0x41ee0b(0x196)](isNotUndefinedOrNull,commandRepository[_0x41ee0b(0x1a4)]())&&_0x1b5061[_0x41ee0b(0x196)](isString,commandRepository[_0x41ee0b(0x1a4)]())?commandRepository[_0x41ee0b(0x1a4)]()[_0x41ee0b(0x209)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'');let _0x555972=_0x41ee0b(0x1e5)+constants['TCG_REGION']+_0x41ee0b(0x1f2)+constants[_0x41ee0b(0x1a6)]+_0x41ee0b(0x1ed)+constants[_0x41ee0b(0x1d4)][_0x41ee0b(0x1f6)](_0x1b5061[_0x41ee0b(0x1ee)])[0x1]+_0x41ee0b(0x1f4);_0x555972=_0x1b5061[_0x41ee0b(0x196)](isNotUndefinedOrNull,_0x555972)&&_0x1b5061['kZGpj'](isString,_0x555972)?_0x555972[_0x41ee0b(0x209)](/'/g,'\x5c\x27')[_0x41ee0b(0x209)](/"/g,'\x5c\x22'):'';const _0x451215=commandRepository[_0x41ee0b(0x1c5)](_0x46f60b),_0x5429a8=globals[_0x41ee0b(0x1ef)](_0x1b5061[_0x41ee0b(0x1fb)]),_0x4f9db4=globals[_0x41ee0b(0x1ef)](_0x1b5061[_0x41ee0b(0x1d0)]),_0x1c4d79=globals['getGlobal'](_0x1b5061['wHgSL']),_0x56b7c3=![],_0xd86098=new Date();if(_0x5ac6eb){const _0xecde8f=_0x1b5061[_0x41ee0b(0x1c6)](timeoutPromise,constants[_0x41ee0b(0x1a9)],_0x1b5061[_0x41ee0b(0x1b3)],_0x1b5061[_0x41ee0b(0x1cd)],_0xd86098,this['config'],this[_0x41ee0b(0x206)]);_0x6b2c42=await Promise['race']([this[_0x41ee0b(0x1b1)][_0x41ee0b(0x1b2)](_0x23673c,_0x4c62ef,_0x5e98e9,_0xf01bee,_0x4f9db4,_0x46f60b,_0x451215,_0x555972)[_0x41ee0b(0x1ba)](_0x170eec=>{const _0x3305cf=_0x41ee0b;return _0xecde8f[_0x3305cf(0x1eb)](),_0x170eec;}),_0xecde8f]);}else{if(commandRepository[_0x41ee0b(0x1a7)]()){const _0x613032=_0x1b5061[_0x41ee0b(0x1c6)](timeoutPromise,constants[_0x41ee0b(0x1e1)],_0x1b5061[_0x41ee0b(0x193)],_0x1b5061[_0x41ee0b(0x1c9)],_0xd86098,this[_0x41ee0b(0x19e)],this[_0x41ee0b(0x206)]);_0x6b2c42=await Promise[_0x41ee0b(0x1ab)]([this[_0x41ee0b(0x1b1)][_0x41ee0b(0x1a0)](_0x23673c,_0x4c62ef,_0x5e98e9,_0xf01bee,_0x5429a8,_0x4f9db4,_0x46f60b,_0x451215,_0x56b7c3,_0x1c4d79,_0x555972)[_0x41ee0b(0x1ba)](_0x1189e8=>{const _0x27fd3e=_0x41ee0b;return _0x613032[_0x27fd3e(0x1eb)](),_0x1189e8;}),_0x613032]);}}_0x6b2c42&&await _0x444f3d['executeScript'](_0x6b2c42);}}async[a87_0x1119c6(0x1bd)](_0x15e11b,_0x5cce89,_0x2ec214){const _0x267484=a87_0x1119c6;try{await this[_0x267484(0x1e7)](_0x15e11b,_0x5cce89,_0x2ec214,!![]);}catch(_0x363eeb){return logger[_0x267484(0x1a1)]('Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20'+(_0x363eeb&&_0x363eeb[_0x267484(0x1e3)]?_0x363eeb[_0x267484(0x1e3)]:'')),![];}return!![];}async[a87_0x1119c6(0x1fd)](_0x55def5,_0x310e54,_0x253368){const _0x5ab770=a87_0x1119c6,_0x2059ff={'WdeOM':function(_0x354706,_0x2566b6,_0x29525d,_0x22977c,_0x44f5fb,_0xb6c5b1,_0x1d50b1){return _0x354706(_0x2566b6,_0x29525d,_0x22977c,_0x44f5fb,_0xb6c5b1,_0x1d50b1);},'vILmy':_0x5ab770(0x1b8),'poUoF':_0x5ab770(0x1be),'iOror':_0x5ab770(0x1cf)};try{await this['_handleEvent'](_0x55def5,_0x310e54,_0x253368,![]);const _0x27e08=(await _0x310e54['getSession']())[_0x5ab770(0x204)](),_0x4ffe61=new Date(),_0xcf19c=_0x2059ff[_0x5ab770(0x1aa)](timeoutPromise,constants[_0x5ab770(0x1f8)],_0x2059ff['vILmy'],_0x2059ff[_0x5ab770(0x1da)],_0x4ffe61,this[_0x5ab770(0x19e)],this[_0x5ab770(0x206)]),_0x3208a4=await Promise[_0x5ab770(0x1ab)]([this[_0x5ab770(0x1b1)]['pollResult'](constants[_0x5ab770(0x1d4)],_0x27e08,globals['getGlobal'](_0x2059ff[_0x5ab770(0x1fa)]))[_0x5ab770(0x1ba)](_0x437328=>{const _0x4e4337=_0x5ab770;return _0xcf19c[_0x4e4337(0x1eb)](),_0x437328;}),_0xcf19c]);if(_0x3208a4&&_0x3208a4[_0x5ab770(0x1cb)]&&_0x3208a4[_0x5ab770(0x1af)]){const _0x3f6369={};return _0x3f6369[_0x5ab770(0x1bf)]=_0x3208a4[_0x5ab770(0x1cb)],_0x3f6369[_0x5ab770(0x1e2)]=_0x3208a4['value'],_0x3f6369[_0x5ab770(0x203)]=!![],_0x3f6369;}const _0x99dfc3={};return _0x99dfc3[_0x5ab770(0x1bf)]=_0x253368[_0x5ab770(0x194)]['using'],_0x99dfc3[_0x5ab770(0x1e2)]=_0x3208a4[_0x5ab770(0x1af)],_0x99dfc3[_0x5ab770(0x203)]=!![],_0x99dfc3;}catch(_0x308daf){return logger[_0x5ab770(0x1ad)](_0x5ab770(0x1fc)+(_0x308daf&&_0x308daf[_0x5ab770(0x1e3)]?_0x308daf[_0x5ab770(0x1e3)]:'')),logger['info']('Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20'+_0x253368[_0x5ab770(0x1e8)]+'\x20command'),_0x253368;}}}exports[a87_0x1119c6(0x1b0)]=Object[a87_0x1119c6(0x1e9)](new AiSdkWrapper());