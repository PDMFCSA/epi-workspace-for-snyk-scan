function a96_0x4831(_0x399a1d,_0x6dcff9){const _0x5663d9=a96_0x5663();return a96_0x4831=function(_0x4831d2,_0x39bbf3){_0x4831d2=_0x4831d2-0x144;let _0x326b71=_0x5663d9[_0x4831d2];return _0x326b71;},a96_0x4831(_0x399a1d,_0x6dcff9);}function a96_0x5663(){const _0x35b9c7=['PfzPK','healFailure','chromeOptions_','aiHealing','3648600vMyubL','QtzBl','browserName','selector','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','2708587Szdqfx','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','jYvqn','set','SET_TCG_TOKEN_TIMEOUT','aiHeal_userId','KnSZZ','TFeBo','name_','FpBsc','cancel','739833OpBjwi','\x22}}}','\x22:\x20{\x22endpoint\x22:\x20\x22','../globals','fromEntries','TCG_REGION','locatorValue','split','setTcgToken','wfcGe','forEach','OlCZU','path','5065RxwNRR','BrowserstackHealing','newCapabilities','then','parameters_','initializeHealingCapabilities','aiHeal_sessionToken','./autoHealHelper','TCG_URL','2691108YGFdUU','ThBQb','gMlrA','value','BRjUQ','aiHeal_groupId','getCommands','HEALING_FAILURE_TIMEOUT','BrowserstackHealing.setToken\x20method\x20timed\x20out','freeze','2732CCxMMY','pollResult','GtuiW','CnLuZ','IuIHA','gJKyn','669535KxHCgD','yCLtD','message','aiHeal_isGroupAIEnabled','VVIcu','race','handleFailure','chrome','pZwYy','browserstackSessionName','WPuEj','BrowserstackHealing.pollResult\x20method\x20timed\x20out','mvkgS','getProjectName','MNRun','../logger','log','BrowserstackHealing.logData\x20method\x20timed\x20out','2NGhseB','BrowserstackHealingLogDataFailed','framework','locatorType','error','wiseC','logData','../../helpers/timeoutPromise','HEALING_LOG_DATA_TIMEOUT','setToken','WroPd','config','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','safariOptions_','winstonLogger','getGlobal','lLUVv','\x22,\x20\x22tcgUrls\x22:\x20{\x22','{\x22region\x22:\x20\x22','DbWEn','toLowerCase','getTestName','edgeOptions_','keys','getId','firefox','\x20command','_handleEvent','tMjXu','bVjak','hRXuI','Bdrlr','replace','getSession','kvrPd','gqrPX','ieOptions_','4493032gYElNo','BrowserstackHealingHealFailureFailed','getCapabilities','../../ai-sdk-node/bundle','using','LAwQB'];a96_0x5663=function(){return _0x35b9c7;};return a96_0x5663();}const a96_0x2a4bb1=a96_0x4831;(function(_0x5d1809,_0x4a0221){const _0x3117ae=a96_0x4831,_0x104432=_0x5d1809();while(!![]){try{const _0x1ad142=parseInt(_0x3117ae(0x18a))/0x1*(parseInt(_0x3117ae(0x19c))/0x2)+parseInt(_0x3117ae(0x164))/0x3+parseInt(_0x3117ae(0x184))/0x4*(parseInt(_0x3117ae(0x171))/0x5)+-parseInt(_0x3117ae(0x17a))/0x6+parseInt(_0x3117ae(0x159))/0x7+-parseInt(_0x3117ae(0x14a))/0x8+-parseInt(_0x3117ae(0x154))/0x9;if(_0x1ad142===_0x4a0221)break;else _0x104432['push'](_0x104432['shift']());}catch(_0xd79cb0){_0x104432['push'](_0x104432['shift']());}}}(a96_0x5663,0x8d75b));const path=require(a96_0x2a4bb1(0x170)),{commandRepository}=require(a96_0x2a4bb1(0x178)),constants=require('../../bin/utils/constants'),logger=require(a96_0x2a4bb1(0x199))[a96_0x2a4bb1(0x1aa)],globals=require(a96_0x2a4bb1(0x167)),timeoutPromise=require(a96_0x2a4bb1(0x1a3)),isUndefinedOrNull=_0x41a8f6=>_0x41a8f6===undefined||_0x41a8f6===null||_0x41a8f6==='',isNotUndefinedOrNull=_0x1e2f8a=>!isUndefinedOrNull(_0x1e2f8a),isString=_0x4b8eb7=>isNotUndefinedOrNull(_0x4b8eb7)&&typeof _0x4b8eb7==='string';class AiSdkWrapper{constructor(){const _0x2e7d67=a96_0x2a4bb1,_0x116d65={'MNRun':function(_0x9314a8,_0x1e6f66){return _0x9314a8(_0x1e6f66);},'bVjak':_0x2e7d67(0x14d)};this[_0x2e7d67(0x172)]=undefined;try{this['BrowserstackHealing']=_0x116d65[_0x2e7d67(0x198)](require,path['join'](__dirname,_0x116d65[_0x2e7d67(0x1b9)]));}catch(_0x5d7935){logger['error'](_0x2e7d67(0x1a8)+(_0x5d7935&&_0x5d7935[_0x2e7d67(0x18c)]?_0x5d7935[_0x2e7d67(0x18c)]:''));}}[a96_0x2a4bb1(0x176)](_0x123894){const _0x5219f0=a96_0x2a4bb1,_0x52f37e={};_0x52f37e[_0x5219f0(0x16f)]=_0x5219f0(0x173),_0x52f37e[_0x5219f0(0x148)]=function(_0x21457e,_0x35500e){return _0x21457e===_0x35500e;},_0x52f37e[_0x5219f0(0x189)]=_0x5219f0(0x191),_0x52f37e['jYvqn']=_0x5219f0(0x1b5),_0x52f37e['LAwQB']='safari',_0x52f37e[_0x5219f0(0x18e)]=function(_0x2f968c,_0x290ded){return _0x2f968c===_0x290ded;},_0x52f37e['KnSZZ']='edge',_0x52f37e[_0x5219f0(0x1a6)]='microsoftedge',_0x52f37e[_0x5219f0(0x150)]=function(_0x563a85,_0x21b7de){return _0x563a85===_0x21b7de;};const _0xc6d341=_0x52f37e;try{const _0x48247b=this[_0x5219f0(0x172)]['initializeCapabilities'](Object[_0x5219f0(0x168)](_0x123894[_0x5219f0(0x14c)]()['map_']));console[_0x5219f0(0x19a)](_0xc6d341[_0x5219f0(0x16f)],_0x48247b);if(_0xc6d341[_0x5219f0(0x148)](_0x48247b?.[_0x5219f0(0x156)]?.['toLowerCase'](),_0xc6d341['gJKyn']))_0x123894[_0x5219f0(0x152)]=_0x48247b;else{if(_0xc6d341[_0x5219f0(0x148)](_0x48247b?.['browserName']?.[_0x5219f0(0x1b0)](),_0xc6d341[_0x5219f0(0x15b)]))_0x123894['firefoxOptions_']=_0x48247b;else{if(_0xc6d341['gqrPX'](_0x48247b?.[_0x5219f0(0x156)]?.['toLowerCase'](),_0xc6d341[_0x5219f0(0x14f)]))_0x123894[_0x5219f0(0x1a9)]=_0x48247b;else{if(_0xc6d341[_0x5219f0(0x18e)](_0x48247b?.[_0x5219f0(0x156)]?.[_0x5219f0(0x1b0)](),_0xc6d341[_0x5219f0(0x15f)])||_0xc6d341[_0x5219f0(0x148)](_0x48247b?.[_0x5219f0(0x156)]?.[_0x5219f0(0x1b0)](),_0xc6d341[_0x5219f0(0x1a6)]))_0x123894[_0x5219f0(0x1b2)]=_0x48247b;else _0xc6d341[_0x5219f0(0x150)](_0x48247b?.['browserName']?.[_0x5219f0(0x1b0)](),'ie')&&(_0x123894[_0x5219f0(0x149)]=_0x48247b);}}}Object[_0x5219f0(0x1b3)](_0x48247b)[_0x5219f0(0x16e)](_0x4ff965=>{const _0x5ddcaf=_0x5219f0,_0x5c3154=_0x123894['capabilities_']['get'](_0x4ff965);_0x123894['capabilities_'][_0x5ddcaf(0x15c)](_0x4ff965,_0x48247b[_0x4ff965]);});}catch(_0xecfcc4){logger[_0x5219f0(0x1a0)]('Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20'+(_0xecfcc4&&_0xecfcc4[_0x5219f0(0x18c)]?_0xecfcc4[_0x5219f0(0x18c)]:''));}}async[a96_0x2a4bb1(0x16c)](_0x1c381c){const _0x467c63=a96_0x2a4bb1,_0x44e1b8={'QyhKM':function(_0x58e003,_0x277d83,_0x24c969,_0x51972e,_0x8be858,_0xa68628,_0x2ee9a2){return _0x58e003(_0x277d83,_0x24c969,_0x51972e,_0x8be858,_0xa68628,_0x2ee9a2);},'Bdrlr':_0x467c63(0x182),'tMjXu':'BrowserstackHealingSetTcgTokenFailed','FpBsc':_0x467c63(0x177)},_0x1c21fb=new Date(),_0x4c0d94=_0x44e1b8['QyhKM'](timeoutPromise,constants[_0x467c63(0x15d)],_0x44e1b8[_0x467c63(0x144)],_0x44e1b8[_0x467c63(0x1b8)],_0x1c21fb,this['config'],this['framework']);await Promise[_0x467c63(0x18f)]([this[_0x467c63(0x172)][_0x467c63(0x1a5)](_0x1c381c,globals[_0x467c63(0x1ab)](_0x44e1b8[_0x467c63(0x162)]),constants[_0x467c63(0x179)])[_0x467c63(0x174)](()=>{const _0x48ebe1=_0x467c63;_0x4c0d94[_0x48ebe1(0x163)]();}),_0x4c0d94]);}async[a96_0x2a4bb1(0x1b7)](_0x1694ed,_0x42f002,_0x4b5116,_0x257279){const _0x4822f5=a96_0x2a4bb1,_0x4f8e44={'DbWEn':function(_0x590e97,_0x457b1c){return _0x590e97===_0x457b1c;},'wiseC':function(_0x4b89d2,_0x247b5f){return _0x4b89d2(_0x247b5f);},'hRXuI':function(_0x42fce7,_0x5dd33c){return _0x42fce7(_0x5dd33c);},'CnLuZ':function(_0x54f322,_0x2b228c){return _0x54f322(_0x2b228c);},'lLUVv':function(_0x4a1145,_0x22bf26){return _0x4a1145(_0x22bf26);},'QtzBl':function(_0x30187a,_0x442d5d){return _0x30187a(_0x442d5d);},'BRjUQ':'s://','IRthZ':function(_0x2213d5,_0x4f1acc){return _0x2213d5(_0x4f1acc);},'wfcGe':function(_0x212cf7,_0x3eb8cd){return _0x212cf7(_0x3eb8cd);},'WPuEj':_0x4822f5(0x15e),'kvrPd':_0x4822f5(0x17f),'TFeBo':_0x4822f5(0x18d),'ThBQb':function(_0x18554c,_0x13f8db,_0x49b285,_0x22a315,_0x45300b,_0x1cd025,_0x30b26d){return _0x18554c(_0x13f8db,_0x49b285,_0x22a315,_0x45300b,_0x1cd025,_0x30b26d);},'gMlrA':_0x4822f5(0x19b),'NQcFc':_0x4822f5(0x19d),'mvkgS':'BrowserstackHealing.healFailure\x20method\x20timed\x20out','GtuiW':_0x4822f5(0x14b)},_0x334435=(await _0x42f002['getSession']())['getId']();let _0x222035='';if(commandRepository['isSelfHealEnabled']()&&_0x4f8e44[_0x4822f5(0x1af)](_0x257279,![])||_0x4f8e44[_0x4822f5(0x1af)](_0x257279,!![])){const _0x197861=_0x4f8e44[_0x4822f5(0x1a1)](isNotUndefinedOrNull,_0x4b5116[_0x4822f5(0x175)]['using'])&&_0x4f8e44['hRXuI'](isString,_0x4b5116[_0x4822f5(0x175)][_0x4822f5(0x14e)])?_0x4b5116['parameters_'][_0x4822f5(0x14e)][_0x4822f5(0x145)](/'/g,'\x5c\x27')[_0x4822f5(0x145)](/"/g,'\x5c\x22'):'',_0x3ba54f=_0x4f8e44['hRXuI'](isNotUndefinedOrNull,_0x4b5116[_0x4822f5(0x175)]['using'])&&_0x4f8e44[_0x4822f5(0x187)](isString,_0x4b5116[_0x4822f5(0x175)][_0x4822f5(0x17d)])?_0x4b5116[_0x4822f5(0x175)]['value'][_0x4822f5(0x145)](/'/g,'\x5c\x27')[_0x4822f5(0x145)](/"/g,'\x5c\x22'):'',_0x517ffa=_0x4f8e44[_0x4822f5(0x1ba)](isNotUndefinedOrNull,commandRepository['getProjectName']())&&_0x4f8e44[_0x4822f5(0x1a1)](isString,commandRepository[_0x4822f5(0x197)]())?commandRepository[_0x4822f5(0x197)]()[_0x4822f5(0x145)](/'/g,'\x5c\x27')[_0x4822f5(0x145)](/"/g,'\x5c\x22'):'';let _0x2e21cc=_0x4f8e44[_0x4822f5(0x1ba)](isNotUndefinedOrNull,global[_0x4822f5(0x193)])&&_0x4f8e44[_0x4822f5(0x1ac)](isString,global['browserstackSessionName'])?global[_0x4822f5(0x193)][_0x4822f5(0x145)](/'/g,'\x5c\x27')[_0x4822f5(0x145)](/"/g,'\x5c\x22'):'';!_0x2e21cc&&(_0x2e21cc=_0x4f8e44[_0x4822f5(0x155)](isNotUndefinedOrNull,commandRepository[_0x4822f5(0x1b1)]())&&_0x4f8e44[_0x4822f5(0x155)](isString,commandRepository[_0x4822f5(0x1b1)]())?commandRepository[_0x4822f5(0x1b1)]()['replace'](/'/g,'\x5c\x27')[_0x4822f5(0x145)](/"/g,'\x5c\x22'):'');let _0x1f4ec8=_0x4822f5(0x1ae)+constants[_0x4822f5(0x169)]+_0x4822f5(0x1ad)+constants[_0x4822f5(0x169)]+_0x4822f5(0x166)+constants[_0x4822f5(0x179)][_0x4822f5(0x16b)](_0x4f8e44[_0x4822f5(0x17e)])[0x1]+_0x4822f5(0x165);_0x1f4ec8=_0x4f8e44['IRthZ'](isNotUndefinedOrNull,_0x1f4ec8)&&_0x4f8e44[_0x4822f5(0x16d)](isString,_0x1f4ec8)?_0x1f4ec8[_0x4822f5(0x145)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';const _0x112019=commandRepository[_0x4822f5(0x180)](_0x334435),_0x1d23b2=globals['getGlobal'](_0x4f8e44[_0x4822f5(0x194)]),_0x2aeb85=globals['getGlobal'](_0x4f8e44[_0x4822f5(0x147)]),_0x3749cd=globals[_0x4822f5(0x1ab)](_0x4f8e44[_0x4822f5(0x160)]),_0x4a3ac4=![],_0x4ee753=new Date();if(_0x257279){const _0x4cd623=_0x4f8e44[_0x4822f5(0x17b)](timeoutPromise,constants[_0x4822f5(0x1a4)],_0x4f8e44[_0x4822f5(0x17c)],_0x4f8e44['NQcFc'],_0x4ee753,this[_0x4822f5(0x1a7)],this[_0x4822f5(0x19e)]);_0x222035=await Promise[_0x4822f5(0x18f)]([this[_0x4822f5(0x172)][_0x4822f5(0x1a2)](_0x197861,_0x3ba54f,_0x517ffa,_0x2e21cc,_0x2aeb85,_0x334435,_0x112019,_0x1f4ec8)[_0x4822f5(0x174)](_0x5418dd=>{const _0x27f904=_0x4822f5;return _0x4cd623[_0x27f904(0x163)](),_0x5418dd;}),_0x4cd623]);}else{if(commandRepository['isSelfHealEnabled']()){const _0x1703b1=_0x4f8e44[_0x4822f5(0x17b)](timeoutPromise,constants[_0x4822f5(0x181)],_0x4f8e44[_0x4822f5(0x196)],_0x4f8e44[_0x4822f5(0x186)],_0x4ee753,this[_0x4822f5(0x1a7)],this[_0x4822f5(0x19e)]);_0x222035=await Promise[_0x4822f5(0x18f)]([this[_0x4822f5(0x172)][_0x4822f5(0x151)](_0x197861,_0x3ba54f,_0x517ffa,_0x2e21cc,_0x1d23b2,_0x2aeb85,_0x334435,_0x112019,_0x4a3ac4,_0x3749cd,_0x1f4ec8)['then'](_0x310a92=>{const _0x351681=_0x4822f5;return _0x1703b1[_0x351681(0x163)](),_0x310a92;}),_0x1703b1]);}}_0x222035&&await _0x42f002['executeScript'](_0x222035);}}async['handleSuccess'](_0x349843,_0x5de295,_0x36d301){const _0x1950f6=a96_0x2a4bb1;try{await this[_0x1950f6(0x1b7)](_0x349843,_0x5de295,_0x36d301,!![]);}catch(_0x1b7b4e){return logger[_0x1950f6(0x1a0)]('Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20'+(_0x1b7b4e&&_0x1b7b4e['message']?_0x1b7b4e['message']:'')),![];}return!![];}async[a96_0x2a4bb1(0x190)](_0x857c12,_0x560771,_0x5d6984){const _0x1de6e2=a96_0x2a4bb1,_0x188f47={'yCLtD':function(_0x4b550b,_0x5cb2c5,_0x3fbc76,_0x1f8e9b,_0x12221e,_0x3549b2,_0x438cc4){return _0x4b550b(_0x5cb2c5,_0x3fbc76,_0x1f8e9b,_0x12221e,_0x3549b2,_0x438cc4);},'pZwYy':_0x1de6e2(0x195),'fEACz':'BrowserstackHealingPollResultFailed','IuIHA':_0x1de6e2(0x177)};try{await this['_handleEvent'](_0x857c12,_0x560771,_0x5d6984,![]);const _0x37912a=(await _0x560771[_0x1de6e2(0x146)]())[_0x1de6e2(0x1b4)](),_0x56333a=new Date(),_0x30a550=_0x188f47[_0x1de6e2(0x18b)](timeoutPromise,constants['POLL_HEALING_RESULT_TIMEOUT'],_0x188f47[_0x1de6e2(0x192)],_0x188f47['fEACz'],_0x56333a,this['config'],this[_0x1de6e2(0x19e)]),_0x4966a1=await Promise[_0x1de6e2(0x18f)]([this['BrowserstackHealing'][_0x1de6e2(0x185)](constants[_0x1de6e2(0x179)],_0x37912a,globals[_0x1de6e2(0x1ab)](_0x188f47[_0x1de6e2(0x188)]))[_0x1de6e2(0x174)](_0x49235a=>{const _0x49293f=_0x1de6e2;return _0x30a550[_0x49293f(0x163)](),_0x49235a;}),_0x30a550]);if(_0x4966a1&&_0x4966a1[_0x1de6e2(0x157)]&&_0x4966a1[_0x1de6e2(0x17d)]){const _0x2eb628={};return _0x2eb628[_0x1de6e2(0x19f)]=_0x4966a1[_0x1de6e2(0x157)],_0x2eb628[_0x1de6e2(0x16a)]=_0x4966a1[_0x1de6e2(0x17d)],_0x2eb628['aiHealing']=!![],_0x2eb628;}const _0xe763f1={};return _0xe763f1[_0x1de6e2(0x19f)]=_0x5d6984[_0x1de6e2(0x175)][_0x1de6e2(0x14e)],_0xe763f1['locatorValue']=_0x4966a1[_0x1de6e2(0x17d)],_0xe763f1[_0x1de6e2(0x153)]=!![],_0xe763f1;}catch(_0x1180c5){return logger['debug'](_0x1de6e2(0x158)+(_0x1180c5&&_0x1180c5['message']?_0x1180c5[_0x1de6e2(0x18c)]:'')),logger['info'](_0x1de6e2(0x15a)+_0x5d6984[_0x1de6e2(0x161)]+_0x1de6e2(0x1b6)),_0x5d6984;}}}exports['aiSdkWrapper']=Object[a96_0x2a4bb1(0x183)](new AiSdkWrapper());