const a59_0x3ccd23=a59_0x3f64;(function(_0x3449de,_0x433883){const _0x58b0c1=a59_0x3f64,_0x5b1c34=_0x3449de();while(!![]){try{const _0x5631ff=parseInt(_0x58b0c1(0x21a))/0x1*(-parseInt(_0x58b0c1(0x1e7))/0x2)+-parseInt(_0x58b0c1(0x237))/0x3+parseInt(_0x58b0c1(0x239))/0x4*(parseInt(_0x58b0c1(0x1f7))/0x5)+parseInt(_0x58b0c1(0x1de))/0x6*(parseInt(_0x58b0c1(0x234))/0x7)+parseInt(_0x58b0c1(0x1c4))/0x8*(parseInt(_0x58b0c1(0x1e9))/0x9)+-parseInt(_0x58b0c1(0x1c2))/0xa+-parseInt(_0x58b0c1(0x202))/0xb;if(_0x5631ff===_0x433883)break;else _0x5b1c34['push'](_0x5b1c34['shift']());}catch(_0x14bda1){_0x5b1c34['push'](_0x5b1c34['shift']());}}}(a59_0x3e06,0x7dc07));const path=require(a59_0x3ccd23(0x1d5)),{commandRepository}=require(a59_0x3ccd23(0x1f9)),constants=require('../../bin/utils/constants'),logger=require('../logger')['winstonLogger'],globals=require(a59_0x3ccd23(0x1d0)),timeoutPromise=require(a59_0x3ccd23(0x205)),isUndefinedOrNull=_0x3b1a09=>_0x3b1a09===undefined||_0x3b1a09===null||_0x3b1a09==='',isNotUndefinedOrNull=_0x56a6da=>!isUndefinedOrNull(_0x56a6da),isString=_0x59eb19=>isNotUndefinedOrNull(_0x59eb19)&&typeof _0x59eb19===a59_0x3ccd23(0x1fc);function a59_0x3e06(){const _0x29e081=['DBxZs','logData','TCG_REGION','oxLUY','wZLWR','YPVRn','BQCmj','fromEntries','keys','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','chrome','get','browserName','browserstackSessionName','BrowserstackHealing.logData\x20method\x20timed\x20out','WBZZH','healFailure','message','PBbJW','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','rPoLV','5571461zkGeeA','using','cancel','964530YJfhWW','CDVxU','16cVzwMp','firefox','POLL_HEALING_RESULT_TIMEOUT','5395670gAgRjv','name_','13592SlPxOO','forEach','HEALING_LOG_DATA_TIMEOUT','GpBzF','capabilities_','jJOWi','chromeOptions_','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','aiHeal_userId','getCapabilities','WnMYU','TCG_URL','../globals','getId','yRqrh','newCapabilities','safari','path','replace','nwvqb','SET_TCG_TOKEN_TIMEOUT','framework','FyVWC','uxPuP','getGlobal','set','6bRuWZo','HEALING_FAILURE_TIMEOUT','\x20command','aiHeal_sessionToken','ZncDT','OkCSI','muTjp','MSPOc','_handleEvent','2MvqKiV','tBrKH','5319KqHvON','initializeHealingCapabilities','info','initializeCapabilities','FrYBr','znxuu','\x22:\x20{\x22endpoint\x22:\x20\x22','aiHealing','PsvNA','handleFailure','firefoxOptions_','\x22}}}','GOwWh','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','458750mbvvFX','ieOptions_','./autoHealHelper','BrowserstackHealingPollResultFailed','Ejqtj','string','BrowserstackHealingHealFailureFailed','edge','VMKtU','split','toLowerCase','5697791yFxRUx','locatorValue','handleSuccess','../../helpers/timeoutPromise','selector','map_','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','error','BrowserstackHealing','isSelfHealEnabled','efzok','locatorType','rIvcg','getTestName','ranGy','aiHeal_groupId','then','BrowserstackHealingSetTcgTokenFailed','ETnsE','setTcgToken','getProjectName','../../ai-sdk-node/bundle','parameters_','YoYaZ','272895HILhiA','race','value','config','gDdNM'];a59_0x3e06=function(){return _0x29e081;};return a59_0x3e06();}class AiSdkWrapper{constructor(){const _0x43d630=a59_0x3ccd23,_0x3f7adb={'wZLWR':function(_0x375ceb,_0x453e91){return _0x375ceb(_0x453e91);},'KKWCZ':_0x43d630(0x217)};this[_0x43d630(0x20a)]=undefined;try{this[_0x43d630(0x20a)]=_0x3f7adb[_0x43d630(0x223)](require,path['join'](__dirname,_0x3f7adb['KKWCZ']));}catch(_0x18bbe3){logger[_0x43d630(0x209)](_0x43d630(0x1cb)+(_0x18bbe3&&_0x18bbe3[_0x43d630(0x230)]?_0x18bbe3[_0x43d630(0x230)]:''));}}[a59_0x3ccd23(0x1ea)](_0x571591){const _0x41b772=a59_0x3ccd23,_0x50074d={};_0x50074d[_0x41b772(0x219)]=_0x41b772(0x1d3),_0x50074d[_0x41b772(0x21f)]=function(_0x17373b,_0x231414){return _0x17373b===_0x231414;},_0x50074d[_0x41b772(0x224)]=_0x41b772(0x229),_0x50074d[_0x41b772(0x214)]=function(_0x53aaee,_0x2e9cec){return _0x53aaee===_0x2e9cec;},_0x50074d['rPoLV']=_0x41b772(0x23a),_0x50074d['CDVxU']=function(_0x522dd7,_0x898864){return _0x522dd7===_0x898864;},_0x50074d[_0x41b772(0x1ed)]=_0x41b772(0x1d4),_0x50074d[_0x41b772(0x1e4)]=function(_0x11b381,_0x13f51b){return _0x11b381===_0x13f51b;},_0x50074d[_0x41b772(0x20e)]=_0x41b772(0x1fe),_0x50074d['VMKtU']='microsoftedge',_0x50074d[_0x41b772(0x225)]=function(_0x317ab2,_0x38d19a){return _0x317ab2===_0x38d19a;};const _0x43f3ec=_0x50074d;try{const _0x13bb7e=this[_0x41b772(0x20a)][_0x41b772(0x1ec)](Object[_0x41b772(0x226)](_0x571591[_0x41b772(0x1cd)]()[_0x41b772(0x207)]));console['log'](_0x43f3ec[_0x41b772(0x219)],_0x13bb7e);if(_0x43f3ec[_0x41b772(0x21f)](_0x13bb7e?.[_0x41b772(0x22b)]?.[_0x41b772(0x201)](),_0x43f3ec[_0x41b772(0x224)]))_0x571591[_0x41b772(0x1ca)]=_0x13bb7e;else{if(_0x43f3ec[_0x41b772(0x214)](_0x13bb7e?.[_0x41b772(0x22b)]?.[_0x41b772(0x201)](),_0x43f3ec[_0x41b772(0x233)]))_0x571591[_0x41b772(0x1f3)]=_0x13bb7e;else{if(_0x43f3ec[_0x41b772(0x238)](_0x13bb7e?.[_0x41b772(0x22b)]?.[_0x41b772(0x201)](),_0x43f3ec[_0x41b772(0x1ed)]))_0x571591['safariOptions_']=_0x13bb7e;else{if(_0x43f3ec[_0x41b772(0x1e4)](_0x13bb7e?.[_0x41b772(0x22b)]?.[_0x41b772(0x201)](),_0x43f3ec[_0x41b772(0x20e)])||_0x43f3ec[_0x41b772(0x214)](_0x13bb7e?.[_0x41b772(0x22b)]?.[_0x41b772(0x201)](),_0x43f3ec[_0x41b772(0x1ff)]))_0x571591['edgeOptions_']=_0x13bb7e;else _0x43f3ec[_0x41b772(0x225)](_0x13bb7e?.[_0x41b772(0x22b)]?.[_0x41b772(0x201)](),'ie')&&(_0x571591[_0x41b772(0x1f8)]=_0x13bb7e);}}}Object[_0x41b772(0x227)](_0x13bb7e)[_0x41b772(0x1c5)](_0x499a57=>{const _0x34f85e=_0x41b772,_0x30e39c=_0x571591[_0x34f85e(0x1c8)][_0x34f85e(0x22a)](_0x499a57);_0x571591[_0x34f85e(0x1c8)][_0x34f85e(0x1dd)](_0x499a57,_0x13bb7e[_0x499a57]);});}catch(_0x28d52c){logger[_0x41b772(0x209)](_0x41b772(0x1f6)+(_0x28d52c&&_0x28d52c[_0x41b772(0x230)]?_0x28d52c['message']:''));}}async[a59_0x3ccd23(0x215)](_0x19f900){const _0x9c5b42=a59_0x3ccd23,_0x49532d={'gDdNM':function(_0x1a2946,_0x13cdb0,_0x2adbe1,_0x3222ea,_0x28de17,_0x5ec28a,_0x157d2f){return _0x1a2946(_0x13cdb0,_0x2adbe1,_0x3222ea,_0x28de17,_0x5ec28a,_0x157d2f);},'OkCSI':'BrowserstackHealing.setToken\x20method\x20timed\x20out','WBZZH':_0x9c5b42(0x213),'efzok':_0x9c5b42(0x1e1)},_0x5d099a=new Date(),_0x5930a8=_0x49532d[_0x9c5b42(0x21e)](timeoutPromise,constants[_0x9c5b42(0x1d8)],_0x49532d[_0x9c5b42(0x1e3)],_0x49532d[_0x9c5b42(0x22e)],_0x5d099a,this[_0x9c5b42(0x21d)],this[_0x9c5b42(0x1d9)]);await Promise['race']([this[_0x9c5b42(0x20a)]['setToken'](_0x19f900,globals[_0x9c5b42(0x1dc)](_0x49532d[_0x9c5b42(0x20c)]),constants[_0x9c5b42(0x1cf)])[_0x9c5b42(0x212)](()=>{const _0x693d60=_0x9c5b42;_0x5930a8[_0x693d60(0x236)]();}),_0x5930a8]);}async[a59_0x3ccd23(0x1e6)](_0x5ac1b3,_0x30a85e,_0x252d93,_0x1ba0e8){const _0x337302=a59_0x3ccd23,_0x1e0217={'ZncDT':function(_0x4d0a3f,_0x553d5b){return _0x4d0a3f===_0x553d5b;},'WnMYU':function(_0x3a24db,_0xd1fe97){return _0x3a24db(_0xd1fe97);},'Ejqtj':function(_0xc568de,_0x427b94){return _0xc568de(_0x427b94);},'nwvqb':function(_0x192055,_0x5dea63){return _0x192055(_0x5dea63);},'FyVWC':function(_0x3fd111,_0x5d39b3){return _0x3fd111(_0x5d39b3);},'jJOWi':'s://','hKsTt':function(_0x334639,_0x2762a1){return _0x334639(_0x2762a1);},'GpBzF':_0x337302(0x1cc),'GHqIM':_0x337302(0x211),'yRqrh':'aiHeal_isGroupAIEnabled','PsvNA':function(_0x329303,_0x1d9073,_0x15ea02,_0x567103,_0x3baacb,_0x37b0e1,_0x31869c){return _0x329303(_0x1d9073,_0x15ea02,_0x567103,_0x3baacb,_0x37b0e1,_0x31869c);},'GOwWh':_0x337302(0x22d),'oxLUY':'BrowserstackHealingLogDataFailed','ranGy':'BrowserstackHealing.healFailure\x20method\x20timed\x20out','znxuu':_0x337302(0x1fd)},_0x49af23=(await _0x30a85e['getSession']())[_0x337302(0x1d1)]();let _0x3f4eff='';if(commandRepository['isSelfHealEnabled']()&&_0x1e0217[_0x337302(0x1e2)](_0x1ba0e8,![])||_0x1e0217[_0x337302(0x1e2)](_0x1ba0e8,!![])){const _0x4a6778=_0x1e0217[_0x337302(0x1ce)](isNotUndefinedOrNull,_0x252d93[_0x337302(0x218)][_0x337302(0x235)])&&_0x1e0217[_0x337302(0x1ce)](isString,_0x252d93['parameters_']['using'])?_0x252d93[_0x337302(0x218)][_0x337302(0x235)]['replace'](/'/g,'\x5c\x27')[_0x337302(0x1d6)](/"/g,'\x5c\x22'):'',_0x211b4f=_0x1e0217[_0x337302(0x1ce)](isNotUndefinedOrNull,_0x252d93[_0x337302(0x218)][_0x337302(0x235)])&&_0x1e0217[_0x337302(0x1ce)](isString,_0x252d93[_0x337302(0x218)]['value'])?_0x252d93[_0x337302(0x218)][_0x337302(0x21c)]['replace'](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x205566=_0x1e0217[_0x337302(0x1fb)](isNotUndefinedOrNull,commandRepository[_0x337302(0x216)]())&&_0x1e0217[_0x337302(0x1fb)](isString,commandRepository[_0x337302(0x216)]())?commandRepository['getProjectName']()['replace'](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';let _0x2dee34=_0x1e0217[_0x337302(0x1d7)](isNotUndefinedOrNull,global['browserstackSessionName'])&&_0x1e0217[_0x337302(0x1da)](isString,global[_0x337302(0x22c)])?global[_0x337302(0x22c)][_0x337302(0x1d6)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';!_0x2dee34&&(_0x2dee34=_0x1e0217[_0x337302(0x1ce)](isNotUndefinedOrNull,commandRepository['getTestName']())&&_0x1e0217[_0x337302(0x1ce)](isString,commandRepository[_0x337302(0x20f)]())?commandRepository[_0x337302(0x20f)]()[_0x337302(0x1d6)](/'/g,'\x5c\x27')[_0x337302(0x1d6)](/"/g,'\x5c\x22'):'');let _0x4255f0='{\x22region\x22:\x20\x22'+constants[_0x337302(0x221)]+'\x22,\x20\x22tcgUrls\x22:\x20{\x22'+constants[_0x337302(0x221)]+_0x337302(0x1ef)+constants[_0x337302(0x1cf)][_0x337302(0x200)](_0x1e0217[_0x337302(0x1c9)])[0x1]+_0x337302(0x1f4);_0x4255f0=_0x1e0217[_0x337302(0x1da)](isNotUndefinedOrNull,_0x4255f0)&&_0x1e0217['hKsTt'](isString,_0x4255f0)?_0x4255f0[_0x337302(0x1d6)](/'/g,'\x5c\x27')[_0x337302(0x1d6)](/"/g,'\x5c\x22'):'';const _0x4ac39e=commandRepository['getCommands'](_0x49af23),_0x19a81e=globals[_0x337302(0x1dc)](_0x1e0217[_0x337302(0x1c7)]),_0x232b39=globals[_0x337302(0x1dc)](_0x1e0217['GHqIM']),_0x5d31bb=globals[_0x337302(0x1dc)](_0x1e0217[_0x337302(0x1d2)]),_0x323b01=![],_0x5547f7=new Date();if(_0x1ba0e8){const _0x421fe8=_0x1e0217[_0x337302(0x1f1)](timeoutPromise,constants[_0x337302(0x1c6)],_0x1e0217[_0x337302(0x1f5)],_0x1e0217[_0x337302(0x222)],_0x5547f7,this['config'],this['framework']);_0x3f4eff=await Promise[_0x337302(0x21b)]([this[_0x337302(0x20a)][_0x337302(0x220)](_0x4a6778,_0x211b4f,_0x205566,_0x2dee34,_0x232b39,_0x49af23,_0x4ac39e,_0x4255f0)[_0x337302(0x212)](_0x2cb33f=>{const _0x127351=_0x337302;return _0x421fe8[_0x127351(0x236)](),_0x2cb33f;}),_0x421fe8]);}else{if(commandRepository[_0x337302(0x20b)]()){const _0x1318a6=_0x1e0217[_0x337302(0x1f1)](timeoutPromise,constants[_0x337302(0x1df)],_0x1e0217[_0x337302(0x210)],_0x1e0217[_0x337302(0x1ee)],_0x5547f7,this[_0x337302(0x21d)],this['framework']);_0x3f4eff=await Promise[_0x337302(0x21b)]([this[_0x337302(0x20a)][_0x337302(0x22f)](_0x4a6778,_0x211b4f,_0x205566,_0x2dee34,_0x19a81e,_0x232b39,_0x49af23,_0x4ac39e,_0x323b01,_0x5d31bb,_0x4255f0)['then'](_0x2eb265=>{const _0x246d93=_0x337302;return _0x1318a6[_0x246d93(0x236)](),_0x2eb265;}),_0x1318a6]);}}_0x3f4eff&&await _0x30a85e['executeScript'](_0x3f4eff);}}async[a59_0x3ccd23(0x204)](_0x1bc170,_0x2a13e1,_0x2a51ef){const _0x1746e8=a59_0x3ccd23;try{await this['_handleEvent'](_0x1bc170,_0x2a13e1,_0x2a51ef,!![]);}catch(_0x36a4ab){return logger[_0x1746e8(0x209)](_0x1746e8(0x228)+(_0x36a4ab&&_0x36a4ab[_0x1746e8(0x230)]?_0x36a4ab[_0x1746e8(0x230)]:'')),![];}return!![];}async[a59_0x3ccd23(0x1f2)](_0x18f435,_0x180a2f,_0x18053b){const _0x3d6f90=a59_0x3ccd23,_0x46254c={'uxPuP':function(_0x1cbaf7,_0x3c6110,_0x215c28,_0x559819,_0x44b814,_0x4b9e49,_0x324ed8){return _0x1cbaf7(_0x3c6110,_0x215c28,_0x559819,_0x44b814,_0x4b9e49,_0x324ed8);},'tBrKH':'BrowserstackHealing.pollResult\x20method\x20timed\x20out','PBbJW':_0x3d6f90(0x1fa),'MSPOc':_0x3d6f90(0x1e1)};try{await this['_handleEvent'](_0x18f435,_0x180a2f,_0x18053b,![]);const _0x2520da=(await _0x180a2f['getSession']())[_0x3d6f90(0x1d1)](),_0xef65a9=new Date(),_0x36930b=_0x46254c[_0x3d6f90(0x1db)](timeoutPromise,constants[_0x3d6f90(0x1c1)],_0x46254c[_0x3d6f90(0x1e8)],_0x46254c[_0x3d6f90(0x231)],_0xef65a9,this[_0x3d6f90(0x21d)],this[_0x3d6f90(0x1d9)]),_0x47dd96=await Promise[_0x3d6f90(0x21b)]([this[_0x3d6f90(0x20a)]['pollResult'](constants[_0x3d6f90(0x1cf)],_0x2520da,globals[_0x3d6f90(0x1dc)](_0x46254c[_0x3d6f90(0x1e5)]))[_0x3d6f90(0x212)](_0x37d6bc=>{return _0x36930b['cancel'](),_0x37d6bc;}),_0x36930b]);if(_0x47dd96&&_0x47dd96[_0x3d6f90(0x206)]&&_0x47dd96[_0x3d6f90(0x21c)]){const _0x232f22={};return _0x232f22[_0x3d6f90(0x20d)]=_0x47dd96[_0x3d6f90(0x206)],_0x232f22[_0x3d6f90(0x203)]=_0x47dd96[_0x3d6f90(0x21c)],_0x232f22[_0x3d6f90(0x1f0)]=!![],_0x232f22;}const _0x27b97c={};return _0x27b97c[_0x3d6f90(0x20d)]=_0x18053b[_0x3d6f90(0x218)][_0x3d6f90(0x235)],_0x27b97c['locatorValue']=_0x47dd96['value'],_0x27b97c[_0x3d6f90(0x1f0)]=!![],_0x27b97c;}catch(_0x12f661){return logger['debug'](_0x3d6f90(0x208)+(_0x12f661&&_0x12f661[_0x3d6f90(0x230)]?_0x12f661['message']:'')),logger[_0x3d6f90(0x1eb)](_0x3d6f90(0x232)+_0x18053b[_0x3d6f90(0x1c3)]+_0x3d6f90(0x1e0)),_0x18053b;}}}function a59_0x3f64(_0xfdb8f0,_0x4dbaaa){const _0x3e06f6=a59_0x3e06();return a59_0x3f64=function(_0x3f6483,_0x37100b){_0x3f6483=_0x3f6483-0x1c1;let _0x3724c6=_0x3e06f6[_0x3f6483];return _0x3724c6;},a59_0x3f64(_0xfdb8f0,_0x4dbaaa);}exports['aiSdkWrapper']=Object['freeze'](new AiSdkWrapper());