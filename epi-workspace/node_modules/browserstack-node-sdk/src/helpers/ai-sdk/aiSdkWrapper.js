function a87_0x4307(){const _0x108b19=['37584rRuJVU','RrRkL','14JkxPUE','QTybT','parameters_','ieOptions_','21900txeIyz','guIVE','config','firefox','22344QiqUSX','handleFailure','ZndEO','split','649Scowqy','../globals','value','17819243sPqXOh','message','22PxZLDg','BrowserstackHealing.pollResult\x20method\x20timed\x20out','safariOptions_','toLowerCase','cancel','newCapabilities','edge','HEALING_LOG_DATA_TIMEOUT','winstonLogger','aiHeal_userId','HEALING_FAILURE_TIMEOUT','2575674kpIXjb','browserName','37913PljWHg','wbRFQ','framework','getCommands','TCG_URL','./autoHealHelper','YjjGh','ZIDhZ','90XhytWe','ZdpbX','string','locatorValue','isSelfHealEnabled','VKtyh','getProjectName','\x22:\x20{\x22endpoint\x22:\x20\x22','capabilities_','chromeOptions_','logData','aiHeal_groupId','76JxTyGu','VqTgE','{\x22region\x22:\x20\x22','setToken','wovHB','bYmjP','microsoftedge','ILeBD','safari','POLL_HEALING_RESULT_TIMEOUT','keys','BrowserstackHealingHealFailureFailed','ZkvEa','name_','getTestName','initializeCapabilities','firefoxOptions_','locatorType','GvkPl','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','256mhhqnp','tGvWN','PDFWn','../../bin/utils/constants','edgeOptions_','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','exXYV','getId','forEach','VgMeA','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','BAjHL','then','initializeHealingCapabilities','TCG_REGION','BrowserstackHealingPollResultFailed','selector','aiHealing','executeScript','map_','BrowserstackHealing.healFailure\x20method\x20timed\x20out','CBtES','../logger','XPalK','using','\x20command','EwdjF','\x22}}}','race','info','healFailure','error','10GrwPKf','BrowserstackHealing','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','setTcgToken','XoivT','BrowserstackHealingSetTcgTokenFailed','fromEntries','getGlobal','ewOfX','nBcsQ','debug','getSession','10503pOVFfP','getCapabilities','browserstackSessionName','replace','lKJuG','aqSFB','QbBTP','eqMwD','_handleEvent','BrowserstackHealing.logData\x20method\x20timed\x20out'];a87_0x4307=function(){return _0x108b19;};return a87_0x4307();}const a87_0xe83876=a87_0x4cb3;function a87_0x4cb3(_0x397818,_0x3eeb28){const _0x4307de=a87_0x4307();return a87_0x4cb3=function(_0x4cb323,_0x98c4b6){_0x4cb323=_0x4cb323-0x1a5;let _0x5628da=_0x4307de[_0x4cb323];return _0x5628da;},a87_0x4cb3(_0x397818,_0x3eeb28);}(function(_0x3bd7e4,_0x36f24d){const _0x36be49=a87_0x4cb3,_0x17e71e=_0x3bd7e4();while(!![]){try{const _0x3d1ee7=-parseInt(_0x36be49(0x1ff))/0x1*(parseInt(_0x36be49(0x1f2))/0x2)+parseInt(_0x36be49(0x1d5))/0x3*(-parseInt(_0x36be49(0x213))/0x4)+parseInt(_0x36be49(0x207))/0x5*(-parseInt(_0x36be49(0x1df))/0x6)+-parseInt(_0x36be49(0x1e9))/0x7*(parseInt(_0x36be49(0x1a9))/0x8)+parseInt(_0x36be49(0x1fd))/0x9*(-parseInt(_0x36be49(0x1c9))/0xa)+-parseInt(_0x36be49(0x1ed))/0xb*(parseInt(_0x36be49(0x1e5))/0xc)+parseInt(_0x36be49(0x1f0))/0xd*(parseInt(_0x36be49(0x1e1))/0xe);if(_0x3d1ee7===_0x36f24d)break;else _0x17e71e['push'](_0x17e71e['shift']());}catch(_0xc2d28f){_0x17e71e['push'](_0x17e71e['shift']());}}}(a87_0x4307,0x43f78));const path=require('path'),{commandRepository}=require(a87_0xe83876(0x204)),constants=require(a87_0xe83876(0x1ac)),logger=require(a87_0xe83876(0x1bf))[a87_0xe83876(0x1fa)],globals=require(a87_0xe83876(0x1ee)),timeoutPromise=require('../../helpers/timeoutPromise'),isUndefinedOrNull=_0x16e1a1=>_0x16e1a1===undefined||_0x16e1a1===null||_0x16e1a1==='',isNotUndefinedOrNull=_0xa70799=>!isUndefinedOrNull(_0xa70799),isString=_0x12b372=>isNotUndefinedOrNull(_0x12b372)&&typeof _0x12b372===a87_0xe83876(0x209);class AiSdkWrapper{constructor(){const _0x35c5b2=a87_0xe83876,_0x1e7139={'lKJuG':function(_0x45ec50,_0x19657f){return _0x45ec50(_0x19657f);},'NaOAu':'../../ai-sdk-node/bundle'};this[_0x35c5b2(0x1ca)]=undefined;try{this[_0x35c5b2(0x1ca)]=_0x1e7139[_0x35c5b2(0x1d9)](require,path['join'](__dirname,_0x1e7139['NaOAu']));}catch(_0x555aad){logger[_0x35c5b2(0x1c8)](_0x35c5b2(0x1a8)+(_0x555aad&&_0x555aad[_0x35c5b2(0x1f1)]?_0x555aad['message']:''));}}[a87_0xe83876(0x1b6)](_0x4c5377){const _0x4e45a7=a87_0xe83876,_0x5c648b={};_0x5c648b[_0x4e45a7(0x21f)]=_0x4e45a7(0x1f7),_0x5c648b[_0x4e45a7(0x200)]=function(_0x358a9e,_0xb65bf){return _0x358a9e===_0xb65bf;},_0x5c648b[_0x4e45a7(0x1ab)]='chrome',_0x5c648b[_0x4e45a7(0x1eb)]=_0x4e45a7(0x1e8),_0x5c648b[_0x4e45a7(0x1be)]=function(_0x5e678e,_0x46a0fc){return _0x5e678e===_0x46a0fc;},_0x5c648b[_0x4e45a7(0x1c0)]=_0x4e45a7(0x21b),_0x5c648b[_0x4e45a7(0x208)]=_0x4e45a7(0x1f8),_0x5c648b['YjjGh']=_0x4e45a7(0x219),_0x5c648b['XoivT']=function(_0x38122b,_0x939181){return _0x38122b===_0x939181;};const _0x1a2714=_0x5c648b;try{const _0x2cfee8=this[_0x4e45a7(0x1ca)][_0x4e45a7(0x222)](Object[_0x4e45a7(0x1cf)](_0x4c5377[_0x4e45a7(0x1d6)]()[_0x4e45a7(0x1bc)]));console['log'](_0x1a2714[_0x4e45a7(0x21f)],_0x2cfee8);if(_0x1a2714[_0x4e45a7(0x200)](_0x2cfee8?.['browserName']?.[_0x4e45a7(0x1f5)](),_0x1a2714[_0x4e45a7(0x1ab)]))_0x4c5377[_0x4e45a7(0x210)]=_0x2cfee8;else{if(_0x1a2714[_0x4e45a7(0x200)](_0x2cfee8?.[_0x4e45a7(0x1fe)]?.['toLowerCase'](),_0x1a2714[_0x4e45a7(0x1eb)]))_0x4c5377[_0x4e45a7(0x1a5)]=_0x2cfee8;else{if(_0x1a2714['CBtES'](_0x2cfee8?.[_0x4e45a7(0x1fe)]?.[_0x4e45a7(0x1f5)](),_0x1a2714['XPalK']))_0x4c5377[_0x4e45a7(0x1f4)]=_0x2cfee8;else{if(_0x1a2714[_0x4e45a7(0x1be)](_0x2cfee8?.[_0x4e45a7(0x1fe)]?.[_0x4e45a7(0x1f5)](),_0x1a2714['ZdpbX'])||_0x1a2714[_0x4e45a7(0x200)](_0x2cfee8?.[_0x4e45a7(0x1fe)]?.['toLowerCase'](),_0x1a2714[_0x4e45a7(0x205)]))_0x4c5377[_0x4e45a7(0x1ad)]=_0x2cfee8;else _0x1a2714[_0x4e45a7(0x1cd)](_0x2cfee8?.[_0x4e45a7(0x1fe)]?.[_0x4e45a7(0x1f5)](),'ie')&&(_0x4c5377[_0x4e45a7(0x1e4)]=_0x2cfee8);}}}Object[_0x4e45a7(0x21d)](_0x2cfee8)[_0x4e45a7(0x1b1)](_0x1e19dd=>{const _0x1815c5=_0x4e45a7,_0x536a77=_0x4c5377['capabilities_']['get'](_0x1e19dd);_0x4c5377[_0x1815c5(0x20f)]['set'](_0x1e19dd,_0x2cfee8[_0x1e19dd]);});}catch(_0x1675d1){logger[_0x4e45a7(0x1c8)](_0x4e45a7(0x1b3)+(_0x1675d1&&_0x1675d1['message']?_0x1675d1['message']:''));}}async[a87_0xe83876(0x1cc)](_0x715db5){const _0x3b3693=a87_0xe83876,_0xd5e952={'CkRkI':function(_0x17c579,_0x550247,_0x33bb0d,_0x5d9e79,_0x1b01b1,_0x57b801,_0x1c0a88){return _0x17c579(_0x550247,_0x33bb0d,_0x5d9e79,_0x1b01b1,_0x57b801,_0x1c0a88);},'ewOfX':'BrowserstackHealing.setToken\x20method\x20timed\x20out','dulWn':_0x3b3693(0x1ce),'bYmjP':'aiHeal_sessionToken'},_0x19cc8a=new Date(),_0x5d5def=_0xd5e952['CkRkI'](timeoutPromise,constants['SET_TCG_TOKEN_TIMEOUT'],_0xd5e952[_0x3b3693(0x1d1)],_0xd5e952['dulWn'],_0x19cc8a,this[_0x3b3693(0x1e7)],this[_0x3b3693(0x201)]);await Promise[_0x3b3693(0x1c5)]([this[_0x3b3693(0x1ca)][_0x3b3693(0x216)](_0x715db5,globals[_0x3b3693(0x1d0)](_0xd5e952[_0x3b3693(0x218)]),constants[_0x3b3693(0x203)])[_0x3b3693(0x1b5)](()=>{const _0x5a0517=_0x3b3693;_0x5d5def[_0x5a0517(0x1f6)]();}),_0x5d5def]);}async[a87_0xe83876(0x1dd)](_0x16b812,_0x417ee7,_0xf7c193,_0x52292f){const _0x154999=a87_0xe83876,_0x4ef4aa={'ILeBD':function(_0x1ddbe7,_0xa41a4c){return _0x1ddbe7===_0xa41a4c;},'QbBTP':function(_0x55691b,_0x5b941d){return _0x55691b(_0x5b941d);},'eqMwD':function(_0x64882b,_0x56e52f){return _0x64882b(_0x56e52f);},'VgMeA':function(_0x58b58f,_0x124b65){return _0x58b58f(_0x124b65);},'VqTgE':function(_0x1d25d6,_0x29b40f){return _0x1d25d6(_0x29b40f);},'wovHB':function(_0x1694f3,_0x548b51){return _0x1694f3(_0x548b51);},'GvkPl':function(_0x4540b3,_0x55553b){return _0x4540b3(_0x55553b);},'lsLUM':function(_0x3b18f,_0x1c9855){return _0x3b18f(_0x1c9855);},'QTybT':function(_0x5b876b,_0x1c1aae){return _0x5b876b(_0x1c1aae);},'VKtyh':'s://','CeNEH':_0x154999(0x1fb),'aqSFB':_0x154999(0x212),'RrRkL':'aiHeal_isGroupAIEnabled','aqCLO':function(_0xccede2,_0x38bc54,_0x35a5af,_0x4980ec,_0x290329,_0x21fa4f,_0x1f3ead){return _0xccede2(_0x38bc54,_0x35a5af,_0x4980ec,_0x290329,_0x21fa4f,_0x1f3ead);},'nBcsQ':_0x154999(0x1de),'BAjHL':'BrowserstackHealingLogDataFailed','exXYV':_0x154999(0x1bd),'EwdjF':_0x154999(0x21e)},_0x5b5996=(await _0x417ee7['getSession']())[_0x154999(0x1b0)]();let _0x3baab3='';if(commandRepository['isSelfHealEnabled']()&&_0x4ef4aa['ILeBD'](_0x52292f,![])||_0x4ef4aa[_0x154999(0x21a)](_0x52292f,!![])){const _0x4bc0f6=_0x4ef4aa[_0x154999(0x1db)](isNotUndefinedOrNull,_0xf7c193[_0x154999(0x1e3)][_0x154999(0x1c1)])&&_0x4ef4aa[_0x154999(0x1db)](isString,_0xf7c193[_0x154999(0x1e3)][_0x154999(0x1c1)])?_0xf7c193[_0x154999(0x1e3)]['using'][_0x154999(0x1d8)](/'/g,'\x5c\x27')[_0x154999(0x1d8)](/"/g,'\x5c\x22'):'',_0x47e24b=_0x4ef4aa[_0x154999(0x1dc)](isNotUndefinedOrNull,_0xf7c193[_0x154999(0x1e3)][_0x154999(0x1c1)])&&_0x4ef4aa['VgMeA'](isString,_0xf7c193[_0x154999(0x1e3)][_0x154999(0x1ef)])?_0xf7c193[_0x154999(0x1e3)]['value'][_0x154999(0x1d8)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x7ff16a=_0x4ef4aa['VgMeA'](isNotUndefinedOrNull,commandRepository[_0x154999(0x20d)]())&&_0x4ef4aa[_0x154999(0x214)](isString,commandRepository['getProjectName']())?commandRepository[_0x154999(0x20d)]()[_0x154999(0x1d8)](/'/g,'\x5c\x27')[_0x154999(0x1d8)](/"/g,'\x5c\x22'):'';let _0x5f27f0=_0x4ef4aa[_0x154999(0x217)](isNotUndefinedOrNull,global['browserstackSessionName'])&&_0x4ef4aa[_0x154999(0x1a7)](isString,global[_0x154999(0x1d7)])?global[_0x154999(0x1d7)]['replace'](/'/g,'\x5c\x27')[_0x154999(0x1d8)](/"/g,'\x5c\x22'):'';!_0x5f27f0&&(_0x5f27f0=_0x4ef4aa['lsLUM'](isNotUndefinedOrNull,commandRepository[_0x154999(0x221)]())&&_0x4ef4aa[_0x154999(0x1e2)](isString,commandRepository[_0x154999(0x221)]())?commandRepository[_0x154999(0x221)]()[_0x154999(0x1d8)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'');let _0x2e2a45=_0x154999(0x215)+constants[_0x154999(0x1b7)]+'\x22,\x20\x22tcgUrls\x22:\x20{\x22'+constants[_0x154999(0x1b7)]+_0x154999(0x20e)+constants[_0x154999(0x203)][_0x154999(0x1ec)](_0x4ef4aa[_0x154999(0x20c)])[0x1]+_0x154999(0x1c4);_0x2e2a45=_0x4ef4aa[_0x154999(0x1b2)](isNotUndefinedOrNull,_0x2e2a45)&&_0x4ef4aa['eqMwD'](isString,_0x2e2a45)?_0x2e2a45[_0x154999(0x1d8)](/'/g,'\x5c\x27')[_0x154999(0x1d8)](/"/g,'\x5c\x22'):'';const _0x54de68=commandRepository[_0x154999(0x202)](_0x5b5996),_0x34ebb5=globals['getGlobal'](_0x4ef4aa['CeNEH']),_0x5d4bb0=globals[_0x154999(0x1d0)](_0x4ef4aa[_0x154999(0x1da)]),_0x209aef=globals[_0x154999(0x1d0)](_0x4ef4aa[_0x154999(0x1e0)]),_0x1f15ff=![],_0x5f103f=new Date();if(_0x52292f){const _0x22788b=_0x4ef4aa['aqCLO'](timeoutPromise,constants[_0x154999(0x1f9)],_0x4ef4aa[_0x154999(0x1d2)],_0x4ef4aa[_0x154999(0x1b4)],_0x5f103f,this[_0x154999(0x1e7)],this[_0x154999(0x201)]);_0x3baab3=await Promise[_0x154999(0x1c5)]([this[_0x154999(0x1ca)][_0x154999(0x211)](_0x4bc0f6,_0x47e24b,_0x7ff16a,_0x5f27f0,_0x5d4bb0,_0x5b5996,_0x54de68,_0x2e2a45)[_0x154999(0x1b5)](_0xa7294f=>{return _0x22788b['cancel'](),_0xa7294f;}),_0x22788b]);}else{if(commandRepository[_0x154999(0x20b)]()){const _0x56bcf6=_0x4ef4aa['aqCLO'](timeoutPromise,constants[_0x154999(0x1fc)],_0x4ef4aa[_0x154999(0x1af)],_0x4ef4aa[_0x154999(0x1c3)],_0x5f103f,this[_0x154999(0x1e7)],this[_0x154999(0x201)]);_0x3baab3=await Promise['race']([this[_0x154999(0x1ca)][_0x154999(0x1c7)](_0x4bc0f6,_0x47e24b,_0x7ff16a,_0x5f27f0,_0x34ebb5,_0x5d4bb0,_0x5b5996,_0x54de68,_0x1f15ff,_0x209aef,_0x2e2a45)[_0x154999(0x1b5)](_0x234400=>{const _0x967ad8=_0x154999;return _0x56bcf6[_0x967ad8(0x1f6)](),_0x234400;}),_0x56bcf6]);}}_0x3baab3&&await _0x417ee7[_0x154999(0x1bb)](_0x3baab3);}}async['handleSuccess'](_0x356aee,_0x203ec1,_0x2d3629){const _0x12ba7e=a87_0xe83876;try{await this['_handleEvent'](_0x356aee,_0x203ec1,_0x2d3629,!![]);}catch(_0xc7393e){return logger['error'](_0x12ba7e(0x1cb)+(_0xc7393e&&_0xc7393e['message']?_0xc7393e[_0x12ba7e(0x1f1)]:'')),![];}return!![];}async[a87_0xe83876(0x1ea)](_0x42f3be,_0x5c1e70,_0x5c3475){const _0x4d8923=a87_0xe83876,_0x40926d={'ZIDhZ':function(_0x545bdd,_0x5e472b,_0x2874f7,_0x56ff78,_0x1220b0,_0x31dab9,_0x181628){return _0x545bdd(_0x5e472b,_0x2874f7,_0x56ff78,_0x1220b0,_0x31dab9,_0x181628);},'tGvWN':_0x4d8923(0x1f3),'xdora':_0x4d8923(0x1b8),'guIVE':'aiHeal_sessionToken'};try{await this['_handleEvent'](_0x42f3be,_0x5c1e70,_0x5c3475,![]);const _0x26aa88=(await _0x5c1e70[_0x4d8923(0x1d4)]())['getId'](),_0x3e079e=new Date(),_0x36df23=_0x40926d[_0x4d8923(0x206)](timeoutPromise,constants[_0x4d8923(0x21c)],_0x40926d[_0x4d8923(0x1aa)],_0x40926d['xdora'],_0x3e079e,this['config'],this[_0x4d8923(0x201)]),_0x35c864=await Promise[_0x4d8923(0x1c5)]([this[_0x4d8923(0x1ca)]['pollResult'](constants['TCG_URL'],_0x26aa88,globals[_0x4d8923(0x1d0)](_0x40926d[_0x4d8923(0x1e6)]))[_0x4d8923(0x1b5)](_0x3dab33=>{const _0x212e23=_0x4d8923;return _0x36df23[_0x212e23(0x1f6)](),_0x3dab33;}),_0x36df23]);if(_0x35c864&&_0x35c864[_0x4d8923(0x1b9)]&&_0x35c864['value']){const _0x10c22b={};return _0x10c22b[_0x4d8923(0x1a6)]=_0x35c864[_0x4d8923(0x1b9)],_0x10c22b[_0x4d8923(0x20a)]=_0x35c864[_0x4d8923(0x1ef)],_0x10c22b['aiHealing']=!![],_0x10c22b;}const _0x4678cf={};return _0x4678cf[_0x4d8923(0x1a6)]=_0x5c3475['parameters_']['using'],_0x4678cf[_0x4d8923(0x20a)]=_0x35c864[_0x4d8923(0x1ef)],_0x4678cf[_0x4d8923(0x1ba)]=!![],_0x4678cf;}catch(_0x9ab096){return logger[_0x4d8923(0x1d3)](_0x4d8923(0x1ae)+(_0x9ab096&&_0x9ab096[_0x4d8923(0x1f1)]?_0x9ab096[_0x4d8923(0x1f1)]:'')),logger[_0x4d8923(0x1c6)]('Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20'+_0x5c3475[_0x4d8923(0x220)]+_0x4d8923(0x1c2)),_0x5c3475;}}}exports['aiSdkWrapper']=Object['freeze'](new AiSdkWrapper());