const a59_0x2e754e=a59_0x3580;(function(_0x32f5a2,_0x637a2f){const _0x31f433=a59_0x3580,_0x4deb7d=_0x32f5a2();while(!![]){try{const _0x48f199=parseInt(_0x31f433(0x118))/0x1*(parseInt(_0x31f433(0xee))/0x2)+-parseInt(_0x31f433(0x12c))/0x3*(-parseInt(_0x31f433(0xd0))/0x4)+parseInt(_0x31f433(0x10b))/0x5+-parseInt(_0x31f433(0xfc))/0x6*(parseInt(_0x31f433(0x104))/0x7)+parseInt(_0x31f433(0xe1))/0x8*(-parseInt(_0x31f433(0xcf))/0x9)+parseInt(_0x31f433(0x119))/0xa+-parseInt(_0x31f433(0x12d))/0xb*(-parseInt(_0x31f433(0xca))/0xc);if(_0x48f199===_0x637a2f)break;else _0x4deb7d['push'](_0x4deb7d['shift']());}catch(_0x12e6c0){_0x4deb7d['push'](_0x4deb7d['shift']());}}}(a59_0x3c46,0x829b4));const path=require(a59_0x2e754e(0x12e)),{commandRepository}=require('./autoHealHelper'),constants=require(a59_0x2e754e(0xe2)),logger=require('../logger')['winstonLogger'],globals=require(a59_0x2e754e(0x122)),timeoutPromise=require(a59_0x2e754e(0x10c)),isUndefinedOrNull=_0x2d5df9=>_0x2d5df9===undefined||_0x2d5df9===null||_0x2d5df9==='',isNotUndefinedOrNull=_0x307eeb=>!isUndefinedOrNull(_0x307eeb),isString=_0x2f14fd=>isNotUndefinedOrNull(_0x2f14fd)&&typeof _0x2f14fd===a59_0x2e754e(0x11c);function a59_0x3c46(){const _0x2a9180=['vTQpL','aiHealing','492NtLBvu','ieOptions_','then','cXFtM','error','18999lZbCZr','540FXlXyS','set','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','ypbnB','HEALING_LOG_DATA_TIMEOUT','\x22}}}','cancel','executeScript','using','value','GLiZX','BrowserstackHealing.logData\x20method\x20timed\x20out','keys','edge','jHQNw','VBypS','\x22,\x20\x22tcgUrls\x22:\x20{\x22','1976gpudvF','../../bin/utils/constants','UEBoE','getTestName','map_','FfRwY','dLkmJ','vWUqD','pdLQp','sPoxL','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','fTVdH','isSelfHealEnabled','522YuhfBw','name_','niFDQ','_handleEvent','browserName','aiHeal_sessionToken','aiHeal_isGroupAIEnabled','config','TCG_REGION','zWqnc','getGlobal','TCG_URL','replace','kPuyV','582eFeTFy','UmsLr','pollResult','split','chromeOptions_','framework','s://','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','15281zQmLMI','aiHeal_groupId','fromEntries','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','info','SET_TCG_TOKEN_TIMEOUT','xZUOP','451050ikwmwN','../../helpers/timeoutPromise','BrowserstackHealing.healFailure\x20method\x20timed\x20out','setToken','ITtAc','capabilities_','BrowserstackHealing.setToken\x20method\x20timed\x20out','AXbhJ','handleSuccess','setTcgToken','TDplM','BrowserstackHealingHealFailureFailed','xmOsA','1721bwGWkO','295890orZqLi','jdAHN','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','string','KRXyU','getSession','chrome','PfPlu','getCommands','../globals','logData','getCapabilities','xqGLv','BrowserstackHealingPollResultFailed','getId','selector','BrowserstackHealing','healFailure','toLowerCase','13371ocqRpp','26147gMkxKB','path','debug','BrowserstackHealingSetTcgTokenFailed','HEALING_FAILURE_TIMEOUT','message','aiSdkWrapper','getProjectName','safariOptions_','LoVhc','\x22:\x20{\x22endpoint\x22:\x20\x22','OymYH','race','parameters_','\x20command','get','join','BrowserstackHealing.pollResult\x20method\x20timed\x20out','SxXGv','browserstackSessionName','freeze','log','firefoxOptions_','handleFailure','SXayF','{\x22region\x22:\x20\x22'];a59_0x3c46=function(){return _0x2a9180;};return a59_0x3c46();}function a59_0x3580(_0x48591c,_0x561d77){const _0x3c4648=a59_0x3c46();return a59_0x3580=function(_0x358003,_0x399d6f){_0x358003=_0x358003-0xc6;let _0x5eae3b=_0x3c4648[_0x358003];return _0x5eae3b;},a59_0x3580(_0x48591c,_0x561d77);}class AiSdkWrapper{constructor(){const _0x3e596d=a59_0x2e754e,_0x20226b={'vTQpL':function(_0x21cda8,_0x57b66f){return _0x21cda8(_0x57b66f);},'sPoxL':'../../ai-sdk-node/bundle'};this[_0x3e596d(0x129)]=undefined;try{this[_0x3e596d(0x129)]=_0x20226b[_0x3e596d(0xc8)](require,path[_0x3e596d(0x13d)](__dirname,_0x20226b[_0x3e596d(0xea)]));}catch(_0x41169f){logger[_0x3e596d(0xce)](_0x3e596d(0xd2)+(_0x41169f&&_0x41169f[_0x3e596d(0x132)]?_0x41169f[_0x3e596d(0x132)]:''));}}['initializeHealingCapabilities'](_0x302258){const _0x46b385=a59_0x2e754e,_0x2bd2b3={};_0x2bd2b3[_0x46b385(0xe8)]='newCapabilities',_0x2bd2b3[_0x46b385(0x10a)]=function(_0x1babe6,_0x18207e){return _0x1babe6===_0x18207e;},_0x2bd2b3[_0x46b385(0xda)]=_0x46b385(0x11f),_0x2bd2b3[_0x46b385(0x138)]=function(_0x49e512,_0x4e77b8){return _0x49e512===_0x4e77b8;},_0x2bd2b3[_0x46b385(0x11a)]='firefox',_0x2bd2b3[_0x46b385(0xcd)]=function(_0x58f653,_0x5b3201){return _0x58f653===_0x5b3201;},_0x2bd2b3[_0x46b385(0xe3)]='safari',_0x2bd2b3[_0x46b385(0xc6)]=function(_0x424a8c,_0x5e2203){return _0x424a8c===_0x5e2203;},_0x2bd2b3[_0x46b385(0xe9)]=_0x46b385(0xdd),_0x2bd2b3[_0x46b385(0x13f)]=function(_0x3e1860,_0x2b8858){return _0x3e1860===_0x2b8858;},_0x2bd2b3[_0x46b385(0xec)]='microsoftedge';const _0xdd7bbe=_0x2bd2b3;try{const _0x3aece7=this[_0x46b385(0x129)]['initializeCapabilities'](Object[_0x46b385(0x106)](_0x302258[_0x46b385(0x124)]()[_0x46b385(0xe5)]));console[_0x46b385(0x142)](_0xdd7bbe['vWUqD'],_0x3aece7);if(_0xdd7bbe[_0x46b385(0x10a)](_0x3aece7?.[_0x46b385(0xf2)]?.['toLowerCase'](),_0xdd7bbe[_0x46b385(0xda)]))_0x302258[_0x46b385(0x100)]=_0x3aece7;else{if(_0xdd7bbe[_0x46b385(0x138)](_0x3aece7?.[_0x46b385(0xf2)]?.[_0x46b385(0x12b)](),_0xdd7bbe[_0x46b385(0x11a)]))_0x302258[_0x46b385(0x143)]=_0x3aece7;else{if(_0xdd7bbe[_0x46b385(0xcd)](_0x3aece7?.[_0x46b385(0xf2)]?.[_0x46b385(0x12b)](),_0xdd7bbe['UEBoE']))_0x302258[_0x46b385(0x135)]=_0x3aece7;else{if(_0xdd7bbe[_0x46b385(0xc6)](_0x3aece7?.[_0x46b385(0xf2)]?.[_0x46b385(0x12b)](),_0xdd7bbe[_0x46b385(0xe9)])||_0xdd7bbe[_0x46b385(0x13f)](_0x3aece7?.[_0x46b385(0xf2)]?.[_0x46b385(0x12b)](),_0xdd7bbe[_0x46b385(0xec)]))_0x302258['edgeOptions_']=_0x3aece7;else _0xdd7bbe[_0x46b385(0x10a)](_0x3aece7?.[_0x46b385(0xf2)]?.[_0x46b385(0x12b)](),'ie')&&(_0x302258[_0x46b385(0xcb)]=_0x3aece7);}}}Object[_0x46b385(0xdc)](_0x3aece7)['forEach'](_0x55da8e=>{const _0xbad34d=_0x46b385,_0x4e938=_0x302258['capabilities_'][_0xbad34d(0x13c)](_0x55da8e);_0x302258[_0xbad34d(0x110)][_0xbad34d(0xd1)](_0x55da8e,_0x3aece7[_0x55da8e]);});}catch(_0x51d9ec){logger[_0x46b385(0xce)](_0x46b385(0xeb)+(_0x51d9ec&&_0x51d9ec['message']?_0x51d9ec[_0x46b385(0x132)]:''));}}async[a59_0x2e754e(0x114)](_0x12d670){const _0xb46b7d=a59_0x2e754e,_0x372de1={'hlyvb':function(_0x48a0fa,_0x4b13fd,_0x2813d6,_0xc767ff,_0x4193c6,_0x5f1c16,_0x1d0960){return _0x48a0fa(_0x4b13fd,_0x2813d6,_0xc767ff,_0x4193c6,_0x5f1c16,_0x1d0960);},'FfRwY':_0xb46b7d(0x111),'xmOsA':_0xb46b7d(0x130),'AXbhJ':_0xb46b7d(0xf3)},_0x4f3e4e=new Date(),_0x5d4fb5=_0x372de1['hlyvb'](timeoutPromise,constants[_0xb46b7d(0x109)],_0x372de1[_0xb46b7d(0xe6)],_0x372de1[_0xb46b7d(0x117)],_0x4f3e4e,this[_0xb46b7d(0xf5)],this['framework']);await Promise[_0xb46b7d(0x139)]([this[_0xb46b7d(0x129)][_0xb46b7d(0x10e)](_0x12d670,globals[_0xb46b7d(0xf8)](_0x372de1[_0xb46b7d(0x112)]),constants[_0xb46b7d(0xf9)])['then'](()=>{_0x5d4fb5['cancel']();}),_0x5d4fb5]);}async[a59_0x2e754e(0xf1)](_0x4b978b,_0x41ebc0,_0x5a2f8c,_0x1d9bdc){const _0x4face3=a59_0x2e754e,_0x19624a={'LoVhc':function(_0x5bcaaf,_0x7e76d2){return _0x5bcaaf===_0x7e76d2;},'kPuyV':function(_0x309748,_0x4321af){return _0x309748===_0x4321af;},'VBypS':function(_0x3f8a70,_0x4ad8ba){return _0x3f8a70(_0x4ad8ba);},'UmsLr':function(_0x911370,_0x4a98a0){return _0x911370(_0x4a98a0);},'KRXyU':function(_0x4d6b60,_0x213884){return _0x4d6b60(_0x213884);},'ITtAc':_0x4face3(0x102),'zWqnc':function(_0x306931,_0x5b89dd){return _0x306931(_0x5b89dd);},'niFDQ':'aiHeal_userId','dLkmJ':_0x4face3(0x105),'xFgSr':_0x4face3(0xf4),'WFiQo':function(_0x2c9dc3,_0x906463,_0x297530,_0x3c1d24,_0x5e7cab,_0x1c75f9,_0x2fa2b0){return _0x2c9dc3(_0x906463,_0x297530,_0x3c1d24,_0x5e7cab,_0x1c75f9,_0x2fa2b0);},'LnYYw':_0x4face3(0xdb),'ORxXc':'BrowserstackHealingLogDataFailed','PfPlu':_0x4face3(0x10d),'DyvSL':_0x4face3(0x116)},_0x26058c=(await _0x41ebc0[_0x4face3(0x11e)]())['getId']();let _0x395ed1='';if(commandRepository[_0x4face3(0xed)]()&&_0x19624a[_0x4face3(0x136)](_0x1d9bdc,![])||_0x19624a[_0x4face3(0xfb)](_0x1d9bdc,!![])){const _0x44923a=_0x19624a[_0x4face3(0xdf)](isNotUndefinedOrNull,_0x5a2f8c[_0x4face3(0x13a)][_0x4face3(0xd8)])&&_0x19624a[_0x4face3(0xdf)](isString,_0x5a2f8c[_0x4face3(0x13a)][_0x4face3(0xd8)])?_0x5a2f8c[_0x4face3(0x13a)][_0x4face3(0xd8)][_0x4face3(0xfa)](/'/g,'\x5c\x27')[_0x4face3(0xfa)](/"/g,'\x5c\x22'):'',_0x4d5e83=_0x19624a[_0x4face3(0xfd)](isNotUndefinedOrNull,_0x5a2f8c[_0x4face3(0x13a)]['using'])&&_0x19624a[_0x4face3(0x11d)](isString,_0x5a2f8c['parameters_']['value'])?_0x5a2f8c[_0x4face3(0x13a)]['value'][_0x4face3(0xfa)](/'/g,'\x5c\x27')[_0x4face3(0xfa)](/"/g,'\x5c\x22'):'',_0x220541=_0x19624a[_0x4face3(0xfd)](isNotUndefinedOrNull,commandRepository[_0x4face3(0x134)]())&&_0x19624a[_0x4face3(0x11d)](isString,commandRepository[_0x4face3(0x134)]())?commandRepository[_0x4face3(0x134)]()[_0x4face3(0xfa)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';let _0x1b63bc=_0x19624a[_0x4face3(0xfd)](isNotUndefinedOrNull,global[_0x4face3(0x140)])&&_0x19624a[_0x4face3(0xdf)](isString,global[_0x4face3(0x140)])?global[_0x4face3(0x140)]['replace'](/'/g,'\x5c\x27')[_0x4face3(0xfa)](/"/g,'\x5c\x22'):'';!_0x1b63bc&&(_0x1b63bc=_0x19624a['VBypS'](isNotUndefinedOrNull,commandRepository[_0x4face3(0xe4)]())&&_0x19624a[_0x4face3(0x11d)](isString,commandRepository[_0x4face3(0xe4)]())?commandRepository[_0x4face3(0xe4)]()['replace'](/'/g,'\x5c\x27')[_0x4face3(0xfa)](/"/g,'\x5c\x22'):'');let _0xcff409=_0x4face3(0xc7)+constants[_0x4face3(0xf6)]+_0x4face3(0xe0)+constants['TCG_REGION']+_0x4face3(0x137)+constants[_0x4face3(0xf9)][_0x4face3(0xff)](_0x19624a[_0x4face3(0x10f)])[0x1]+_0x4face3(0xd5);_0xcff409=_0x19624a['KRXyU'](isNotUndefinedOrNull,_0xcff409)&&_0x19624a[_0x4face3(0xf7)](isString,_0xcff409)?_0xcff409[_0x4face3(0xfa)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';const _0x22395d=commandRepository[_0x4face3(0x121)](_0x26058c),_0x5c4af5=globals[_0x4face3(0xf8)](_0x19624a[_0x4face3(0xf0)]),_0x21e7cb=globals['getGlobal'](_0x19624a[_0x4face3(0xe7)]),_0x436bde=globals[_0x4face3(0xf8)](_0x19624a['xFgSr']),_0x1741c4=![],_0x13e92a=new Date();if(_0x1d9bdc){const _0x2bc83f=_0x19624a['WFiQo'](timeoutPromise,constants[_0x4face3(0xd4)],_0x19624a['LnYYw'],_0x19624a['ORxXc'],_0x13e92a,this[_0x4face3(0xf5)],this[_0x4face3(0x101)]);_0x395ed1=await Promise[_0x4face3(0x139)]([this[_0x4face3(0x129)][_0x4face3(0x123)](_0x44923a,_0x4d5e83,_0x220541,_0x1b63bc,_0x21e7cb,_0x26058c,_0x22395d,_0xcff409)[_0x4face3(0xcc)](_0xe9a7da=>{const _0x2024d3=_0x4face3;return _0x2bc83f[_0x2024d3(0xd6)](),_0xe9a7da;}),_0x2bc83f]);}else{if(commandRepository[_0x4face3(0xed)]()){const _0x48fa93=_0x19624a['WFiQo'](timeoutPromise,constants[_0x4face3(0x131)],_0x19624a[_0x4face3(0x120)],_0x19624a['DyvSL'],_0x13e92a,this['config'],this[_0x4face3(0x101)]);_0x395ed1=await Promise[_0x4face3(0x139)]([this[_0x4face3(0x129)][_0x4face3(0x12a)](_0x44923a,_0x4d5e83,_0x220541,_0x1b63bc,_0x5c4af5,_0x21e7cb,_0x26058c,_0x22395d,_0x1741c4,_0x436bde,_0xcff409)[_0x4face3(0xcc)](_0x841d5a=>{return _0x48fa93['cancel'](),_0x841d5a;}),_0x48fa93]);}}_0x395ed1&&await _0x41ebc0[_0x4face3(0xd7)](_0x395ed1);}}async[a59_0x2e754e(0x113)](_0x58f670,_0x55d888,_0x35aaa7){const _0xeaab38=a59_0x2e754e;try{await this[_0xeaab38(0xf1)](_0x58f670,_0x55d888,_0x35aaa7,!![]);}catch(_0x2bd848){return logger[_0xeaab38(0xce)](_0xeaab38(0x103)+(_0x2bd848&&_0x2bd848[_0xeaab38(0x132)]?_0x2bd848[_0xeaab38(0x132)]:'')),![];}return!![];}async[a59_0x2e754e(0x144)](_0x34f68d,_0x2d2bff,_0x5c51d2){const _0x495b7d=a59_0x2e754e,_0x309762={'xqGLv':function(_0x3c2814,_0x299fb6,_0x99201a,_0x3779c1,_0xc09084,_0x12b774,_0x912138){return _0x3c2814(_0x299fb6,_0x99201a,_0x3779c1,_0xc09084,_0x12b774,_0x912138);},'ypbnB':_0x495b7d(0x13e),'jHQNw':_0x495b7d(0x126),'TDplM':_0x495b7d(0xf3)};try{await this['_handleEvent'](_0x34f68d,_0x2d2bff,_0x5c51d2,![]);const _0x5a3aa0=(await _0x2d2bff[_0x495b7d(0x11e)]())[_0x495b7d(0x127)](),_0x28be7f=new Date(),_0x106050=_0x309762[_0x495b7d(0x125)](timeoutPromise,constants['POLL_HEALING_RESULT_TIMEOUT'],_0x309762[_0x495b7d(0xd3)],_0x309762[_0x495b7d(0xde)],_0x28be7f,this['config'],this[_0x495b7d(0x101)]),_0x5a2b69=await Promise[_0x495b7d(0x139)]([this[_0x495b7d(0x129)][_0x495b7d(0xfe)](constants[_0x495b7d(0xf9)],_0x5a3aa0,globals[_0x495b7d(0xf8)](_0x309762[_0x495b7d(0x115)]))['then'](_0x37310a=>{const _0x248dcd=_0x495b7d;return _0x106050[_0x248dcd(0xd6)](),_0x37310a;}),_0x106050]);if(_0x5a2b69&&_0x5a2b69[_0x495b7d(0x128)]&&_0x5a2b69[_0x495b7d(0xd9)]){const _0x47b66b={};return _0x47b66b['locatorType']=_0x5a2b69[_0x495b7d(0x128)],_0x47b66b['locatorValue']=_0x5a2b69[_0x495b7d(0xd9)],_0x47b66b[_0x495b7d(0xc9)]=!![],_0x47b66b;}const _0xe5bb8e={};return _0xe5bb8e['locatorType']=_0x5c51d2[_0x495b7d(0x13a)]['using'],_0xe5bb8e['locatorValue']=_0x5a2b69['value'],_0xe5bb8e[_0x495b7d(0xc9)]=!![],_0xe5bb8e;}catch(_0x1b81df){return logger[_0x495b7d(0x12f)](_0x495b7d(0x107)+(_0x1b81df&&_0x1b81df['message']?_0x1b81df[_0x495b7d(0x132)]:'')),logger[_0x495b7d(0x108)](_0x495b7d(0x11b)+_0x5c51d2[_0x495b7d(0xef)]+_0x495b7d(0x13b)),_0x5c51d2;}}}exports[a59_0x2e754e(0x133)]=Object[a59_0x2e754e(0x141)](new AiSdkWrapper());