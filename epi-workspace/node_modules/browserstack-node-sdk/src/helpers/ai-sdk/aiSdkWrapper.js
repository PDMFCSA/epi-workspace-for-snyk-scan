const a94_0x200f05=a94_0x1226;(function(_0x135393,_0xc3ec71){const _0x3d8609=a94_0x1226,_0x14d2b8=_0x135393();while(!![]){try{const _0x2e1c60=parseInt(_0x3d8609(0x1e9))/0x1*(-parseInt(_0x3d8609(0x187))/0x2)+parseInt(_0x3d8609(0x1b4))/0x3*(parseInt(_0x3d8609(0x1a9))/0x4)+parseInt(_0x3d8609(0x192))/0x5+-parseInt(_0x3d8609(0x186))/0x6*(-parseInt(_0x3d8609(0x19f))/0x7)+parseInt(_0x3d8609(0x195))/0x8+parseInt(_0x3d8609(0x173))/0x9+parseInt(_0x3d8609(0x191))/0xa*(-parseInt(_0x3d8609(0x17d))/0xb);if(_0x2e1c60===_0xc3ec71)break;else _0x14d2b8['push'](_0x14d2b8['shift']());}catch(_0x23544b){_0x14d2b8['push'](_0x14d2b8['shift']());}}}(a94_0x236d,0x80d31));const path=require(a94_0x200f05(0x174)),{commandRepository}=require(a94_0x200f05(0x18b)),constants=require('../../bin/utils/constants'),logger=require(a94_0x200f05(0x1b3))[a94_0x200f05(0x1ee)],globals=require(a94_0x200f05(0x17a)),timeoutPromise=require('../../helpers/timeoutPromise'),isUndefinedOrNull=_0x1f6e0d=>_0x1f6e0d===undefined||_0x1f6e0d===null||_0x1f6e0d==='',isNotUndefinedOrNull=_0x5ea9e5=>!isUndefinedOrNull(_0x5ea9e5),isString=_0xe7790a=>isNotUndefinedOrNull(_0xe7790a)&&typeof _0xe7790a===a94_0x200f05(0x188);function a94_0x1226(_0x42f607,_0x5ca84c){const _0x236d08=a94_0x236d();return a94_0x1226=function(_0x122639,_0x395e6c){_0x122639=_0x122639-0x170;let _0x4d2c6f=_0x236d08[_0x122639];return _0x4d2c6f;},a94_0x1226(_0x42f607,_0x5ca84c);}function a94_0x236d(){const _0x547978=['Wpztl','cMRwP','parameters_','FcDIT','error','BrowserstackHealingLogDataFailed','log','capabilities_','getSession','aUdjo','BrowserstackHealing.pollResult\x20method\x20timed\x20out','mHhEK','IRbFG','TmFIF','hAeJj','setTcgToken','PkNEv','chromeOptions_','BrowserstackHealing.logData\x20method\x20timed\x20out','locatorType','1RUxbjQ','browserName','browserstackSessionName','TCG_REGION','ZZOrN','winstonLogger','aAWZL','setToken','value','ncrao','framework','locatorValue','3666132kaSzaN','path','info','selector','config','safari','join','../globals','name_','safariOptions_','22bHjQaP','BrowserstackHealingPollResultFailed','replace','BrowserstackHealingHealFailureFailed','logData','CpsmT','s://','AeSZU','../../ai-sdk-node/bundle','27330itbhMB','46004HFMeDd','string','get','SET_TCG_TOKEN_TIMEOUT','./autoHealHelper','cancel','ndnti','edge','fromEntries','newCapabilities','12425310huxTZU','5155425yDZyXs','forEach','edgeOptions_','6365448EmIopa','getTestName','debug','BrowserstackHealingSetTcgTokenFailed','initializeCapabilities','initializeHealingCapabilities','zAPJA','\x22:\x20{\x22endpoint\x22:\x20\x22','zYJXO','aiHealing','294gIHTXz','waGRe','aHeNR','WwBDJ','yTXcs','POLL_HEALING_RESULT_TIMEOUT','\x20command','IIlKf','PgKGG','handleFailure','460amWjkt','FMySc','race','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','_handleEvent','using','freeze','djvMm','OzxEa','../logger','15921VQSRJU','aiHeal_groupId','map_','getProjectName','message','HEALING_FAILURE_TIMEOUT','aiHeal_userId','aiHeal_sessionToken','EaQQB','LMFFq','getGlobal','RDoWG','rtQix','set','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','oVPPJ','YSloF','TCG_URL','handleSuccess','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','GVZjE','YXJEB','FfrhD','then','toLowerCase','firefoxOptions_','pollResult','\x22,\x20\x22tcgUrls\x22:\x20{\x22','getId','BrowserstackHealing.setToken\x20method\x20timed\x20out','owrVo','OMKRY','BrowserstackHealing'];a94_0x236d=function(){return _0x547978;};return a94_0x236d();}class AiSdkWrapper{constructor(){const _0x911d41=a94_0x200f05,_0x5582c6={'WwBDJ':function(_0x4766f8,_0x5708bf){return _0x4766f8(_0x5708bf);},'zYJXO':_0x911d41(0x185)};this[_0x911d41(0x1d4)]=undefined;try{this['BrowserstackHealing']=_0x5582c6[_0x911d41(0x1a2)](require,path[_0x911d41(0x179)](__dirname,_0x5582c6[_0x911d41(0x19d)]));}catch(_0x3e2078){logger['error'](_0x911d41(0x1c2)+(_0x3e2078&&_0x3e2078['message']?_0x3e2078[_0x911d41(0x1b8)]:''));}}[a94_0x200f05(0x19a)](_0x480612){const _0x2d38a7=a94_0x200f05,_0x48c258={};_0x48c258[_0x2d38a7(0x170)]=_0x2d38a7(0x190),_0x48c258['zAPJA']=function(_0x48c27c,_0x47dcf1){return _0x48c27c===_0x47dcf1;},_0x48c258[_0x2d38a7(0x1c4)]='chrome',_0x48c258[_0x2d38a7(0x184)]='firefox',_0x48c258[_0x2d38a7(0x1b2)]=_0x2d38a7(0x178),_0x48c258['BuDRx']=_0x2d38a7(0x18e),_0x48c258[_0x2d38a7(0x1a3)]=function(_0x5482a9,_0x36df1a){return _0x5482a9===_0x36df1a;},_0x48c258[_0x2d38a7(0x1d5)]='microsoftedge';const _0x1b9ab2=_0x48c258;try{const _0x125b93=this['BrowserstackHealing'][_0x2d38a7(0x199)](Object[_0x2d38a7(0x18f)](_0x480612['getCapabilities']()[_0x2d38a7(0x1b6)]));console[_0x2d38a7(0x1db)](_0x1b9ab2[_0x2d38a7(0x170)],_0x125b93);if(_0x1b9ab2['zAPJA'](_0x125b93?.[_0x2d38a7(0x1ea)]?.[_0x2d38a7(0x1cc)](),_0x1b9ab2[_0x2d38a7(0x1c4)]))_0x480612[_0x2d38a7(0x1e6)]=_0x125b93;else{if(_0x1b9ab2['zAPJA'](_0x125b93?.[_0x2d38a7(0x1ea)]?.[_0x2d38a7(0x1cc)](),_0x1b9ab2[_0x2d38a7(0x184)]))_0x480612[_0x2d38a7(0x1cd)]=_0x125b93;else{if(_0x1b9ab2[_0x2d38a7(0x19b)](_0x125b93?.['browserName']?.[_0x2d38a7(0x1cc)](),_0x1b9ab2[_0x2d38a7(0x1b2)]))_0x480612[_0x2d38a7(0x17c)]=_0x125b93;else{if(_0x1b9ab2[_0x2d38a7(0x19b)](_0x125b93?.[_0x2d38a7(0x1ea)]?.['toLowerCase'](),_0x1b9ab2['BuDRx'])||_0x1b9ab2[_0x2d38a7(0x1a3)](_0x125b93?.['browserName']?.[_0x2d38a7(0x1cc)](),_0x1b9ab2[_0x2d38a7(0x1d5)]))_0x480612[_0x2d38a7(0x194)]=_0x125b93;else _0x1b9ab2[_0x2d38a7(0x1a3)](_0x125b93?.[_0x2d38a7(0x1ea)]?.[_0x2d38a7(0x1cc)](),'ie')&&(_0x480612['ieOptions_']=_0x125b93);}}}Object['keys'](_0x125b93)[_0x2d38a7(0x193)](_0x5aa7f0=>{const _0x20d030=_0x2d38a7,_0x40192b=_0x480612[_0x20d030(0x1dc)][_0x20d030(0x189)](_0x5aa7f0);_0x480612[_0x20d030(0x1dc)][_0x20d030(0x1c1)](_0x5aa7f0,_0x125b93[_0x5aa7f0]);});}catch(_0x4ab282){logger[_0x2d38a7(0x1d9)](_0x2d38a7(0x1ac)+(_0x4ab282&&_0x4ab282[_0x2d38a7(0x1b8)]?_0x4ab282[_0x2d38a7(0x1b8)]:''));}}async[a94_0x200f05(0x1e4)](_0x353037){const _0x23611d=a94_0x200f05,_0x243ab0={'aUdjo':function(_0x1d631a,_0x3ac8b5,_0x5b2f42,_0x49ce69,_0x11da0b,_0x332dc6,_0x179ffd){return _0x1d631a(_0x3ac8b5,_0x5b2f42,_0x49ce69,_0x11da0b,_0x332dc6,_0x179ffd);},'ZZOrN':_0x23611d(0x1d1),'FcDIT':_0x23611d(0x198),'hAeJj':'aiHeal_sessionToken'},_0x2b6bb4=new Date(),_0x3d2481=_0x243ab0[_0x23611d(0x1de)](timeoutPromise,constants[_0x23611d(0x18a)],_0x243ab0[_0x23611d(0x1ed)],_0x243ab0[_0x23611d(0x1d8)],_0x2b6bb4,this[_0x23611d(0x177)],this[_0x23611d(0x171)]);await Promise[_0x23611d(0x1ab)]([this[_0x23611d(0x1d4)][_0x23611d(0x1f0)](_0x353037,globals['getGlobal'](_0x243ab0[_0x23611d(0x1e3)]),constants[_0x23611d(0x1c5)])[_0x23611d(0x1cb)](()=>{const _0x4baf74=_0x23611d;_0x3d2481[_0x4baf74(0x18c)]();}),_0x3d2481]);}async['_handleEvent'](_0x5dd41b,_0x5d095f,_0x33a1c5,_0x46f517){const _0x29cbc4=a94_0x200f05,_0xa1055a={'TmFIF':function(_0x5b0515,_0x2f189f){return _0x5b0515===_0x2f189f;},'aHeNR':function(_0x4cef53,_0xbf7ffb){return _0x4cef53===_0xbf7ffb;},'IRbFG':function(_0x6b63ae,_0x37ad48){return _0x6b63ae(_0x37ad48);},'waGRe':function(_0x2b0dcc,_0x377f23){return _0x2b0dcc(_0x377f23);},'GVZjE':function(_0x4d0987,_0x5e8dff){return _0x4d0987(_0x5e8dff);},'PgKGG':function(_0x4364c3,_0x5cc572){return _0x4364c3(_0x5cc572);},'FMySc':function(_0xf86fd7,_0x383999){return _0xf86fd7(_0x383999);},'rtQix':function(_0x5ac528,_0x337801){return _0x5ac528(_0x337801);},'ndnti':_0x29cbc4(0x183),'OMKRY':function(_0x2827de,_0x122f1a){return _0x2827de(_0x122f1a);},'IIlKf':function(_0x355342,_0x1170d3){return _0x355342(_0x1170d3);},'YXJEB':_0x29cbc4(0x1ba),'mHhEK':_0x29cbc4(0x1b5),'FfrhD':'aiHeal_isGroupAIEnabled','aAWZL':function(_0x57f2ad,_0x81751a,_0x16e1aa,_0xa092af,_0x3198ec,_0x3aa903,_0xe911c4){return _0x57f2ad(_0x81751a,_0x16e1aa,_0xa092af,_0x3198ec,_0x3aa903,_0xe911c4);},'CpsmT':_0x29cbc4(0x1e7),'oVPPJ':_0x29cbc4(0x1da),'PkNEv':function(_0xdcbe5b,_0x5b9880,_0x5719cd,_0x1a21f3,_0x5ce4d5,_0x503eb8,_0x7ec337){return _0xdcbe5b(_0x5b9880,_0x5719cd,_0x1a21f3,_0x5ce4d5,_0x503eb8,_0x7ec337);},'RDoWG':'BrowserstackHealing.healFailure\x20method\x20timed\x20out','EaQQB':_0x29cbc4(0x180)},_0x516b82=(await _0x5d095f[_0x29cbc4(0x1dd)]())[_0x29cbc4(0x1d0)]();let _0x1bba14='';if(commandRepository['isSelfHealEnabled']()&&_0xa1055a[_0x29cbc4(0x1e2)](_0x46f517,![])||_0xa1055a[_0x29cbc4(0x1a1)](_0x46f517,!![])){const _0x2c8a17=_0xa1055a[_0x29cbc4(0x1e1)](isNotUndefinedOrNull,_0x33a1c5[_0x29cbc4(0x1d7)]['using'])&&_0xa1055a['IRbFG'](isString,_0x33a1c5['parameters_']['using'])?_0x33a1c5[_0x29cbc4(0x1d7)][_0x29cbc4(0x1af)][_0x29cbc4(0x17f)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x287b09=_0xa1055a[_0x29cbc4(0x1e1)](isNotUndefinedOrNull,_0x33a1c5[_0x29cbc4(0x1d7)][_0x29cbc4(0x1af)])&&_0xa1055a[_0x29cbc4(0x1a0)](isString,_0x33a1c5[_0x29cbc4(0x1d7)][_0x29cbc4(0x1f1)])?_0x33a1c5[_0x29cbc4(0x1d7)][_0x29cbc4(0x1f1)][_0x29cbc4(0x17f)](/'/g,'\x5c\x27')[_0x29cbc4(0x17f)](/"/g,'\x5c\x22'):'',_0x5b19a1=_0xa1055a[_0x29cbc4(0x1c8)](isNotUndefinedOrNull,commandRepository[_0x29cbc4(0x1b7)]())&&_0xa1055a[_0x29cbc4(0x1a7)](isString,commandRepository['getProjectName']())?commandRepository[_0x29cbc4(0x1b7)]()[_0x29cbc4(0x17f)](/'/g,'\x5c\x27')[_0x29cbc4(0x17f)](/"/g,'\x5c\x22'):'';let _0x1d34ec=_0xa1055a[_0x29cbc4(0x1aa)](isNotUndefinedOrNull,global[_0x29cbc4(0x1eb)])&&_0xa1055a[_0x29cbc4(0x1a7)](isString,global['browserstackSessionName'])?global['browserstackSessionName'][_0x29cbc4(0x17f)](/'/g,'\x5c\x27')[_0x29cbc4(0x17f)](/"/g,'\x5c\x22'):'';!_0x1d34ec&&(_0x1d34ec=_0xa1055a[_0x29cbc4(0x1c8)](isNotUndefinedOrNull,commandRepository[_0x29cbc4(0x196)]())&&_0xa1055a[_0x29cbc4(0x1c0)](isString,commandRepository[_0x29cbc4(0x196)]())?commandRepository['getTestName']()[_0x29cbc4(0x17f)](/'/g,'\x5c\x27')[_0x29cbc4(0x17f)](/"/g,'\x5c\x22'):'');let _0x29c9bd='{\x22region\x22:\x20\x22'+constants[_0x29cbc4(0x1ec)]+_0x29cbc4(0x1cf)+constants[_0x29cbc4(0x1ec)]+_0x29cbc4(0x19c)+constants[_0x29cbc4(0x1c5)]['split'](_0xa1055a[_0x29cbc4(0x18d)])[0x1]+'\x22}}}';_0x29c9bd=_0xa1055a[_0x29cbc4(0x1d3)](isNotUndefinedOrNull,_0x29c9bd)&&_0xa1055a[_0x29cbc4(0x1a6)](isString,_0x29c9bd)?_0x29c9bd[_0x29cbc4(0x17f)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';const _0x368045=commandRepository['getCommands'](_0x516b82),_0x36fff8=globals[_0x29cbc4(0x1be)](_0xa1055a[_0x29cbc4(0x1c9)]),_0x505d5a=globals[_0x29cbc4(0x1be)](_0xa1055a[_0x29cbc4(0x1e0)]),_0x2457e2=globals['getGlobal'](_0xa1055a[_0x29cbc4(0x1ca)]),_0x1f931b=![],_0xead4f9=new Date();if(_0x46f517){const _0x485da6=_0xa1055a[_0x29cbc4(0x1ef)](timeoutPromise,constants['HEALING_LOG_DATA_TIMEOUT'],_0xa1055a[_0x29cbc4(0x182)],_0xa1055a[_0x29cbc4(0x1c3)],_0xead4f9,this['config'],this[_0x29cbc4(0x171)]);_0x1bba14=await Promise[_0x29cbc4(0x1ab)]([this[_0x29cbc4(0x1d4)][_0x29cbc4(0x181)](_0x2c8a17,_0x287b09,_0x5b19a1,_0x1d34ec,_0x505d5a,_0x516b82,_0x368045,_0x29c9bd)[_0x29cbc4(0x1cb)](_0x4df3ff=>{const _0x208454=_0x29cbc4;return _0x485da6[_0x208454(0x18c)](),_0x4df3ff;}),_0x485da6]);}else{if(commandRepository['isSelfHealEnabled']()){const _0x1421d9=_0xa1055a[_0x29cbc4(0x1e5)](timeoutPromise,constants[_0x29cbc4(0x1b9)],_0xa1055a[_0x29cbc4(0x1bf)],_0xa1055a[_0x29cbc4(0x1bc)],_0xead4f9,this['config'],this['framework']);_0x1bba14=await Promise[_0x29cbc4(0x1ab)]([this[_0x29cbc4(0x1d4)]['healFailure'](_0x2c8a17,_0x287b09,_0x5b19a1,_0x1d34ec,_0x36fff8,_0x505d5a,_0x516b82,_0x368045,_0x1f931b,_0x2457e2,_0x29c9bd)['then'](_0x17c248=>{const _0x16d14d=_0x29cbc4;return _0x1421d9[_0x16d14d(0x18c)](),_0x17c248;}),_0x1421d9]);}}_0x1bba14&&await _0x5d095f['executeScript'](_0x1bba14);}}async[a94_0x200f05(0x1c6)](_0x30bb3a,_0x3713b4,_0xa26515){const _0x463b02=a94_0x200f05;try{await this[_0x463b02(0x1ae)](_0x30bb3a,_0x3713b4,_0xa26515,!![]);}catch(_0x1a35f8){return logger['error'](_0x463b02(0x1ad)+(_0x1a35f8&&_0x1a35f8['message']?_0x1a35f8[_0x463b02(0x1b8)]:'')),![];}return!![];}async[a94_0x200f05(0x1a8)](_0x5c79d2,_0x27032a,_0x568202){const _0x2749d8=a94_0x200f05,_0x25026c={'owrVo':function(_0x2e9db5,_0x526a5c,_0x4ee2b9,_0x379995,_0x52a7a7,_0x4868ba,_0x1fef87){return _0x2e9db5(_0x526a5c,_0x4ee2b9,_0x379995,_0x52a7a7,_0x4868ba,_0x1fef87);},'cMRwP':_0x2749d8(0x1df),'LMFFq':_0x2749d8(0x17e),'djvMm':_0x2749d8(0x1bb)};try{await this[_0x2749d8(0x1ae)](_0x5c79d2,_0x27032a,_0x568202,![]);const _0x5001a6=(await _0x27032a[_0x2749d8(0x1dd)]())[_0x2749d8(0x1d0)](),_0x1c7408=new Date(),_0x4350f6=_0x25026c[_0x2749d8(0x1d2)](timeoutPromise,constants[_0x2749d8(0x1a4)],_0x25026c[_0x2749d8(0x1d6)],_0x25026c[_0x2749d8(0x1bd)],_0x1c7408,this[_0x2749d8(0x177)],this[_0x2749d8(0x171)]),_0x1df74b=await Promise['race']([this['BrowserstackHealing'][_0x2749d8(0x1ce)](constants[_0x2749d8(0x1c5)],_0x5001a6,globals[_0x2749d8(0x1be)](_0x25026c[_0x2749d8(0x1b1)]))[_0x2749d8(0x1cb)](_0x11b113=>{const _0x3c2e83=_0x2749d8;return _0x4350f6[_0x3c2e83(0x18c)](),_0x11b113;}),_0x4350f6]);if(_0x1df74b&&_0x1df74b['selector']&&_0x1df74b[_0x2749d8(0x1f1)]){const _0x589d66={};return _0x589d66[_0x2749d8(0x1e8)]=_0x1df74b[_0x2749d8(0x176)],_0x589d66['locatorValue']=_0x1df74b[_0x2749d8(0x1f1)],_0x589d66['aiHealing']=!![],_0x589d66;}const _0x23b3c6={};return _0x23b3c6['locatorType']=_0x568202['parameters_'][_0x2749d8(0x1af)],_0x23b3c6[_0x2749d8(0x172)]=_0x1df74b[_0x2749d8(0x1f1)],_0x23b3c6[_0x2749d8(0x19e)]=!![],_0x23b3c6;}catch(_0x2a7c32){return logger[_0x2749d8(0x197)](_0x2749d8(0x1c7)+(_0x2a7c32&&_0x2a7c32[_0x2749d8(0x1b8)]?_0x2a7c32[_0x2749d8(0x1b8)]:'')),logger[_0x2749d8(0x175)]('Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20'+_0x568202[_0x2749d8(0x17b)]+_0x2749d8(0x1a5)),_0x568202;}}}exports['aiSdkWrapper']=Object[a94_0x200f05(0x1b0)](new AiSdkWrapper());