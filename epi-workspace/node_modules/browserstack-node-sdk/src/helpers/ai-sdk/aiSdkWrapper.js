const a59_0x7ce6b8=a59_0x1370;(function(_0x46ef03,_0x2ca318){const _0x1de1fe=a59_0x1370,_0x49fa52=_0x46ef03();while(!![]){try{const _0x3f2fda=parseInt(_0x1de1fe(0x15a))/0x1*(parseInt(_0x1de1fe(0x14f))/0x2)+-parseInt(_0x1de1fe(0x149))/0x3+-parseInt(_0x1de1fe(0x15c))/0x4*(parseInt(_0x1de1fe(0x16e))/0x5)+-parseInt(_0x1de1fe(0x156))/0x6*(parseInt(_0x1de1fe(0x13a))/0x7)+-parseInt(_0x1de1fe(0x12a))/0x8*(-parseInt(_0x1de1fe(0x12e))/0x9)+parseInt(_0x1de1fe(0x158))/0xa*(-parseInt(_0x1de1fe(0x143))/0xb)+parseInt(_0x1de1fe(0x14e))/0xc;if(_0x3f2fda===_0x2ca318)break;else _0x49fa52['push'](_0x49fa52['shift']());}catch(_0x197302){_0x49fa52['push'](_0x49fa52['shift']());}}}(a59_0x49dd,0x4fff2));function a59_0x49dd(){const _0x56f34c=['toLowerCase','config','qTDld','hZJvO','\x22:\x20{\x22endpoint\x22:\x20\x22','aiHealing','BrowserstackHealing','lnzfY','pbLIY','cancel','getCommands','aiHeal_groupId','getProjectName','string','forEach','getSession','jmvFW','aiSdkWrapper','logData','TCG_REGION','microsoftedge','handleSuccess','NeUHs','message','GwCWb','locatorType','rLESt','edgeOptions_','capabilities_','getTestName','BrowserstackHealing.setToken\x20method\x20timed\x20out','BrowserstackHealingLogDataFailed','BrowserstackHealingHealFailureFailed','get','executeScript','initializeHealingCapabilities','BrowserstackHealing.pollResult\x20method\x20timed\x20out','UafNv','bMcgo','log','yWKTA','../../bin/utils/constants','BrowserstackHealingPollResultFailed','PHoOL','../logger','38008wXuLsU','{\x22region\x22:\x20\x22','DyGqO','browserName','648YRRqQO','jsPfR','value','yHLoi','edge','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','./autoHealHelper','\x22}}}','error','race','using','ieOptions_','7GKosLo','replace','SET_TCG_TOKEN_TIMEOUT','GsHVl','locatorValue','../globals','Drppb','BrowserstackHealingSetTcgTokenFailed','winstonLogger','48169NKhzzr','pollResult','isSelfHealEnabled','\x22,\x20\x22tcgUrls\x22:\x20{\x22','selector','aQFnf','1943022HmCdGm','set','ZtaEk','path','MlfNi','17267496Kseics','27500iQWRGU','IglQK','getCapabilities','aiHeal_sessionToken','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','safariOptions_','AjbCe','3402798PoLwlx','then','160tKAzRL','map_','7dINSLU','../../helpers/timeoutPromise','4eXAbQP','firefox','fVpJu','freeze','parameters_','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','sfwAX','PkALk','MGjbq','FdeoC','getGlobal','hwoUL','\x20command','name_','framework','_handleEvent','TCG_URL','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','1323715VxZuSk','browserstackSessionName','DDvKT','chrome','BrowserstackHealing.logData\x20method\x20timed\x20out','PuCwe','PMdan'];a59_0x49dd=function(){return _0x56f34c;};return a59_0x49dd();}const path=require(a59_0x7ce6b8(0x14c)),{commandRepository}=require(a59_0x7ce6b8(0x134)),constants=require(a59_0x7ce6b8(0x126)),logger=require(a59_0x7ce6b8(0x129))[a59_0x7ce6b8(0x142)],globals=require(a59_0x7ce6b8(0x13f)),timeoutPromise=require(a59_0x7ce6b8(0x15b)),isUndefinedOrNull=_0x4970e0=>_0x4970e0===undefined||_0x4970e0===null||_0x4970e0==='',isNotUndefinedOrNull=_0x549995=>!isUndefinedOrNull(_0x549995),isString=_0x5c263c=>isNotUndefinedOrNull(_0x5c263c)&&typeof _0x5c263c===a59_0x7ce6b8(0x182);class AiSdkWrapper{constructor(){const _0x190584=a59_0x7ce6b8,_0x2b4a82={'UafNv':function(_0x5c01f6,_0x4a2728){return _0x5c01f6(_0x4a2728);},'vixng':'../../ai-sdk-node/bundle'};this[_0x190584(0x17b)]=undefined;try{this[_0x190584(0x17b)]=_0x2b4a82[_0x190584(0x19a)](require,path['join'](__dirname,_0x2b4a82['vixng']));}catch(_0x1e249f){logger['error']('Unable\x20to\x20load\x20healing\x20module,\x20error:\x20'+(_0x1e249f&&_0x1e249f['message']?_0x1e249f[_0x190584(0x18c)]:''));}}[a59_0x7ce6b8(0x198)](_0x3f4402){const _0x4760f1=a59_0x7ce6b8,_0x30f375={};_0x30f375[_0x4760f1(0x128)]='newCapabilities',_0x30f375[_0x4760f1(0x173)]=function(_0x48f6c3,_0x325aef){return _0x48f6c3===_0x325aef;},_0x30f375['Drppb']=_0x4760f1(0x171),_0x30f375['pbLIY']=_0x4760f1(0x15d),_0x30f375[_0x4760f1(0x150)]='safari',_0x30f375['PMdan']=_0x4760f1(0x132),_0x30f375['MGjbq']=function(_0x28011,_0x4ba7cc){return _0x28011===_0x4ba7cc;},_0x30f375[_0x4760f1(0x13d)]=_0x4760f1(0x189),_0x30f375[_0x4760f1(0x185)]=function(_0x254da1,_0x3aa797){return _0x254da1===_0x3aa797;};const _0x31d5ee=_0x30f375;try{const _0x1c55be=this[_0x4760f1(0x17b)]['initializeCapabilities'](Object['fromEntries'](_0x3f4402[_0x4760f1(0x151)]()[_0x4760f1(0x159)]));console[_0x4760f1(0x124)](_0x31d5ee[_0x4760f1(0x128)],_0x1c55be);if(_0x31d5ee[_0x4760f1(0x173)](_0x1c55be?.['browserName']?.['toLowerCase'](),_0x31d5ee[_0x4760f1(0x140)]))_0x3f4402['chromeOptions_']=_0x1c55be;else{if(_0x31d5ee[_0x4760f1(0x173)](_0x1c55be?.[_0x4760f1(0x12d)]?.['toLowerCase'](),_0x31d5ee[_0x4760f1(0x17d)]))_0x3f4402['firefoxOptions_']=_0x1c55be;else{if(_0x31d5ee[_0x4760f1(0x173)](_0x1c55be?.[_0x4760f1(0x12d)]?.[_0x4760f1(0x175)](),_0x31d5ee['IglQK']))_0x3f4402[_0x4760f1(0x154)]=_0x1c55be;else{if(_0x31d5ee[_0x4760f1(0x173)](_0x1c55be?.['browserName']?.[_0x4760f1(0x175)](),_0x31d5ee[_0x4760f1(0x174)])||_0x31d5ee[_0x4760f1(0x164)](_0x1c55be?.['browserName']?.[_0x4760f1(0x175)](),_0x31d5ee['GsHVl']))_0x3f4402[_0x4760f1(0x190)]=_0x1c55be;else _0x31d5ee[_0x4760f1(0x185)](_0x1c55be?.[_0x4760f1(0x12d)]?.[_0x4760f1(0x175)](),'ie')&&(_0x3f4402[_0x4760f1(0x139)]=_0x1c55be);}}}Object['keys'](_0x1c55be)[_0x4760f1(0x183)](_0x5919bf=>{const _0x43f02f=_0x4760f1,_0x44e072=_0x3f4402[_0x43f02f(0x191)][_0x43f02f(0x196)](_0x5919bf);_0x3f4402[_0x43f02f(0x191)][_0x43f02f(0x14a)](_0x5919bf,_0x1c55be[_0x5919bf]);});}catch(_0x5b90c9){logger[_0x4760f1(0x136)](_0x4760f1(0x133)+(_0x5b90c9&&_0x5b90c9[_0x4760f1(0x18c)]?_0x5b90c9['message']:''));}}async['setTcgToken'](_0x48d2b5){const _0x374bef=a59_0x7ce6b8,_0x4f26b3={'NtvLf':function(_0x594189,_0x35e150,_0x218df1,_0x293cb8,_0x45d4aa,_0x1dacef,_0x3daaba){return _0x594189(_0x35e150,_0x218df1,_0x293cb8,_0x45d4aa,_0x1dacef,_0x3daaba);},'DyGqO':_0x374bef(0x193),'GwCWb':_0x374bef(0x141),'hwoUL':_0x374bef(0x152)},_0x578c4e=new Date(),_0x452d5c=_0x4f26b3['NtvLf'](timeoutPromise,constants[_0x374bef(0x13c)],_0x4f26b3[_0x374bef(0x12c)],_0x4f26b3[_0x374bef(0x18d)],_0x578c4e,this[_0x374bef(0x176)],this[_0x374bef(0x16a)]);await Promise[_0x374bef(0x137)]([this[_0x374bef(0x17b)]['setToken'](_0x48d2b5,globals[_0x374bef(0x166)](_0x4f26b3[_0x374bef(0x167)]),constants['TCG_URL'])[_0x374bef(0x157)](()=>{const _0x77d743=_0x374bef;_0x452d5c[_0x77d743(0x17e)]();}),_0x452d5c]);}async[a59_0x7ce6b8(0x16b)](_0xee2ebb,_0x23e32c,_0x2ce014,_0x269ca3){const _0x486b29=a59_0x7ce6b8,_0xfdf5d5={'rLESt':function(_0x699270,_0x1e7f10){return _0x699270===_0x1e7f10;},'ZtaEk':function(_0x22c82a,_0x30f28c){return _0x22c82a(_0x30f28c);},'qTDld':function(_0x4a459b,_0x21e2c4){return _0x4a459b(_0x21e2c4);},'aQFnf':function(_0x16d755,_0x1d57b5){return _0x16d755(_0x1d57b5);},'PkALk':function(_0x6f1ce3,_0x522b35){return _0x6f1ce3(_0x522b35);},'AjbCe':function(_0x1e3573,_0x1a407d){return _0x1e3573(_0x1a407d);},'iavaa':'s://','hZJvO':'aiHeal_userId','yHLoi':_0x486b29(0x180),'DDvKT':'aiHeal_isGroupAIEnabled','jsPfR':function(_0x224a47,_0x52a761,_0x25c6d8,_0x17aa3d,_0x525206,_0x3cb879,_0x68406b){return _0x224a47(_0x52a761,_0x25c6d8,_0x17aa3d,_0x525206,_0x3cb879,_0x68406b);},'MlfNi':_0x486b29(0x172),'yWKTA':_0x486b29(0x194),'fVpJu':function(_0x55fcd1,_0x3a9e4a,_0x14bf7f,_0x206f96,_0x4f8eb5,_0x56f24f,_0x24af96){return _0x55fcd1(_0x3a9e4a,_0x14bf7f,_0x206f96,_0x4f8eb5,_0x56f24f,_0x24af96);},'bMcgo':'BrowserstackHealing.healFailure\x20method\x20timed\x20out','lnzfY':_0x486b29(0x195)},_0x468f2a=(await _0x23e32c[_0x486b29(0x184)]())['getId']();let _0x550cb2='';if(commandRepository[_0x486b29(0x145)]()&&_0xfdf5d5[_0x486b29(0x18f)](_0x269ca3,![])||_0xfdf5d5[_0x486b29(0x18f)](_0x269ca3,!![])){const _0x142a0b=_0xfdf5d5[_0x486b29(0x14b)](isNotUndefinedOrNull,_0x2ce014[_0x486b29(0x160)]['using'])&&_0xfdf5d5['qTDld'](isString,_0x2ce014['parameters_']['using'])?_0x2ce014[_0x486b29(0x160)][_0x486b29(0x138)][_0x486b29(0x13b)](/'/g,'\x5c\x27')[_0x486b29(0x13b)](/"/g,'\x5c\x22'):'',_0x2555a7=_0xfdf5d5[_0x486b29(0x148)](isNotUndefinedOrNull,_0x2ce014['parameters_'][_0x486b29(0x138)])&&_0xfdf5d5['ZtaEk'](isString,_0x2ce014['parameters_']['value'])?_0x2ce014[_0x486b29(0x160)]['value'][_0x486b29(0x13b)](/'/g,'\x5c\x27')[_0x486b29(0x13b)](/"/g,'\x5c\x22'):'',_0x363196=_0xfdf5d5[_0x486b29(0x177)](isNotUndefinedOrNull,commandRepository[_0x486b29(0x181)]())&&_0xfdf5d5[_0x486b29(0x177)](isString,commandRepository[_0x486b29(0x181)]())?commandRepository[_0x486b29(0x181)]()['replace'](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';let _0x3595e1=_0xfdf5d5[_0x486b29(0x163)](isNotUndefinedOrNull,global[_0x486b29(0x16f)])&&_0xfdf5d5[_0x486b29(0x14b)](isString,global[_0x486b29(0x16f)])?global[_0x486b29(0x16f)][_0x486b29(0x13b)](/'/g,'\x5c\x27')[_0x486b29(0x13b)](/"/g,'\x5c\x22'):'';!_0x3595e1&&(_0x3595e1=_0xfdf5d5[_0x486b29(0x155)](isNotUndefinedOrNull,commandRepository[_0x486b29(0x192)]())&&_0xfdf5d5['ZtaEk'](isString,commandRepository[_0x486b29(0x192)]())?commandRepository[_0x486b29(0x192)]()[_0x486b29(0x13b)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'');let _0x5a65aa=_0x486b29(0x12b)+constants[_0x486b29(0x188)]+_0x486b29(0x146)+constants[_0x486b29(0x188)]+_0x486b29(0x179)+constants[_0x486b29(0x16c)]['split'](_0xfdf5d5['iavaa'])[0x1]+_0x486b29(0x135);_0x5a65aa=_0xfdf5d5[_0x486b29(0x163)](isNotUndefinedOrNull,_0x5a65aa)&&_0xfdf5d5[_0x486b29(0x155)](isString,_0x5a65aa)?_0x5a65aa['replace'](/'/g,'\x5c\x27')[_0x486b29(0x13b)](/"/g,'\x5c\x22'):'';const _0x505fd2=commandRepository[_0x486b29(0x17f)](_0x468f2a),_0x354cf4=globals[_0x486b29(0x166)](_0xfdf5d5[_0x486b29(0x178)]),_0x1d3f53=globals[_0x486b29(0x166)](_0xfdf5d5[_0x486b29(0x131)]),_0x3d2d98=globals[_0x486b29(0x166)](_0xfdf5d5[_0x486b29(0x170)]),_0x58f4fd=![],_0x572857=new Date();if(_0x269ca3){const _0x4f9ad4=_0xfdf5d5[_0x486b29(0x12f)](timeoutPromise,constants['HEALING_LOG_DATA_TIMEOUT'],_0xfdf5d5[_0x486b29(0x14d)],_0xfdf5d5[_0x486b29(0x125)],_0x572857,this['config'],this[_0x486b29(0x16a)]);_0x550cb2=await Promise[_0x486b29(0x137)]([this[_0x486b29(0x17b)][_0x486b29(0x187)](_0x142a0b,_0x2555a7,_0x363196,_0x3595e1,_0x1d3f53,_0x468f2a,_0x505fd2,_0x5a65aa)[_0x486b29(0x157)](_0x4ec36c=>{const _0x4aea2b=_0x486b29;return _0x4f9ad4[_0x4aea2b(0x17e)](),_0x4ec36c;}),_0x4f9ad4]);}else{if(commandRepository[_0x486b29(0x145)]()){const _0x36227c=_0xfdf5d5[_0x486b29(0x15e)](timeoutPromise,constants['HEALING_FAILURE_TIMEOUT'],_0xfdf5d5[_0x486b29(0x123)],_0xfdf5d5[_0x486b29(0x17c)],_0x572857,this['config'],this[_0x486b29(0x16a)]);_0x550cb2=await Promise['race']([this['BrowserstackHealing']['healFailure'](_0x142a0b,_0x2555a7,_0x363196,_0x3595e1,_0x354cf4,_0x1d3f53,_0x468f2a,_0x505fd2,_0x58f4fd,_0x3d2d98,_0x5a65aa)['then'](_0x2e738b=>{const _0x4846e3=_0x486b29;return _0x36227c[_0x4846e3(0x17e)](),_0x2e738b;}),_0x36227c]);}}_0x550cb2&&await _0x23e32c[_0x486b29(0x197)](_0x550cb2);}}async[a59_0x7ce6b8(0x18a)](_0x3d6f5d,_0x1575a7,_0x70e4cb){const _0x57f654=a59_0x7ce6b8;try{await this[_0x57f654(0x16b)](_0x3d6f5d,_0x1575a7,_0x70e4cb,!![]);}catch(_0x56a858){return logger[_0x57f654(0x136)](_0x57f654(0x161)+(_0x56a858&&_0x56a858['message']?_0x56a858[_0x57f654(0x18c)]:'')),![];}return!![];}async['handleFailure'](_0xbafe35,_0x410194,_0xb539a9){const _0x189e3c=a59_0x7ce6b8,_0x2348bf={'NeUHs':function(_0x3ef1fa,_0x379469,_0x395aee,_0x14ab96,_0x325871,_0x165099,_0x465361){return _0x3ef1fa(_0x379469,_0x395aee,_0x14ab96,_0x325871,_0x165099,_0x465361);},'BXNZJ':_0x189e3c(0x199),'FdeoC':_0x189e3c(0x127),'sfwAX':'aiHeal_sessionToken'};try{await this[_0x189e3c(0x16b)](_0xbafe35,_0x410194,_0xb539a9,![]);const _0x23b52b=(await _0x410194[_0x189e3c(0x184)]())['getId'](),_0x351f17=new Date(),_0x1fc662=_0x2348bf[_0x189e3c(0x18b)](timeoutPromise,constants['POLL_HEALING_RESULT_TIMEOUT'],_0x2348bf['BXNZJ'],_0x2348bf[_0x189e3c(0x165)],_0x351f17,this[_0x189e3c(0x176)],this['framework']),_0x433309=await Promise[_0x189e3c(0x137)]([this[_0x189e3c(0x17b)][_0x189e3c(0x144)](constants[_0x189e3c(0x16c)],_0x23b52b,globals[_0x189e3c(0x166)](_0x2348bf[_0x189e3c(0x162)]))[_0x189e3c(0x157)](_0x5630cd=>{const _0x1e7b26=_0x189e3c;return _0x1fc662[_0x1e7b26(0x17e)](),_0x5630cd;}),_0x1fc662]);if(_0x433309&&_0x433309[_0x189e3c(0x147)]&&_0x433309[_0x189e3c(0x130)]){const _0x5f3fec={};return _0x5f3fec['locatorType']=_0x433309[_0x189e3c(0x147)],_0x5f3fec[_0x189e3c(0x13e)]=_0x433309['value'],_0x5f3fec[_0x189e3c(0x17a)]=!![],_0x5f3fec;}const _0x39b12c={};return _0x39b12c[_0x189e3c(0x18e)]=_0xb539a9[_0x189e3c(0x160)][_0x189e3c(0x138)],_0x39b12c['locatorValue']=_0x433309[_0x189e3c(0x130)],_0x39b12c[_0x189e3c(0x17a)]=!![],_0x39b12c;}catch(_0x1a8ca5){return logger['debug'](_0x189e3c(0x16d)+(_0x1a8ca5&&_0x1a8ca5[_0x189e3c(0x18c)]?_0x1a8ca5[_0x189e3c(0x18c)]:'')),logger['info'](_0x189e3c(0x153)+_0xb539a9[_0x189e3c(0x169)]+_0x189e3c(0x168)),_0xb539a9;}}}function a59_0x1370(_0x523773,_0x1fb7de){const _0x49dd5a=a59_0x49dd();return a59_0x1370=function(_0x1370ee,_0x2a3b56){_0x1370ee=_0x1370ee-0x123;let _0xef21a6=_0x49dd5a[_0x1370ee];return _0xef21a6;},a59_0x1370(_0x523773,_0x1fb7de);}exports[a59_0x7ce6b8(0x186)]=Object[a59_0x7ce6b8(0x15f)](new AiSdkWrapper());