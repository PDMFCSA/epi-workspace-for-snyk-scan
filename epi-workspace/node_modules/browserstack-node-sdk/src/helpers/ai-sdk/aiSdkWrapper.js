function a87_0x5248(_0x3b004a,_0x36a303){const _0x4601df=a87_0x4601();return a87_0x5248=function(_0x524839,_0x1075f6){_0x524839=_0x524839-0x161;let _0x500a8f=_0x4601df[_0x524839];return _0x500a8f;},a87_0x5248(_0x3b004a,_0x36a303);}const a87_0xd039f0=a87_0x5248;(function(_0x35f0e9,_0x502c6c){const _0xf6cb88=a87_0x5248,_0x148f22=_0x35f0e9();while(!![]){try{const _0x59a280=-parseInt(_0xf6cb88(0x1d1))/0x1+parseInt(_0xf6cb88(0x166))/0x2*(parseInt(_0xf6cb88(0x1cc))/0x3)+-parseInt(_0xf6cb88(0x1ab))/0x4*(-parseInt(_0xf6cb88(0x19e))/0x5)+-parseInt(_0xf6cb88(0x1b0))/0x6+-parseInt(_0xf6cb88(0x1ad))/0x7+-parseInt(_0xf6cb88(0x161))/0x8+parseInt(_0xf6cb88(0x1c9))/0x9*(parseInt(_0xf6cb88(0x1b1))/0xa);if(_0x59a280===_0x502c6c)break;else _0x148f22['push'](_0x148f22['shift']());}catch(_0x4151fb){_0x148f22['push'](_0x148f22['shift']());}}}(a87_0x4601,0xe4472));const path=require(a87_0xd039f0(0x165)),{commandRepository}=require(a87_0xd039f0(0x1aa)),constants=require(a87_0xd039f0(0x178)),logger=require(a87_0xd039f0(0x16a))[a87_0xd039f0(0x1ba)],globals=require('../globals'),timeoutPromise=require(a87_0xd039f0(0x169)),isUndefinedOrNull=_0x4fdc7a=>_0x4fdc7a===undefined||_0x4fdc7a===null||_0x4fdc7a==='',isNotUndefinedOrNull=_0x5eb2b5=>!isUndefinedOrNull(_0x5eb2b5),isString=_0x24259c=>isNotUndefinedOrNull(_0x24259c)&&typeof _0x24259c===a87_0xd039f0(0x177);class AiSdkWrapper{constructor(){const _0x12939b=a87_0xd039f0,_0x97ca5b={'VRGJU':function(_0x1b6324,_0x24182a){return _0x1b6324(_0x24182a);},'aVUyM':'../../ai-sdk-node/bundle'};this[_0x12939b(0x167)]=undefined;try{this[_0x12939b(0x167)]=_0x97ca5b[_0x12939b(0x173)](require,path['join'](__dirname,_0x97ca5b[_0x12939b(0x1cd)]));}catch(_0x19f8f4){logger['error'](_0x12939b(0x162)+(_0x19f8f4&&_0x19f8f4[_0x12939b(0x191)]?_0x19f8f4[_0x12939b(0x191)]:''));}}[a87_0xd039f0(0x1ac)](_0x1eef45){const _0xeccf4b=a87_0xd039f0,_0x24d8cd={};_0x24d8cd[_0xeccf4b(0x18e)]=_0xeccf4b(0x18a),_0x24d8cd[_0xeccf4b(0x1a9)]=function(_0x204a4e,_0x4b5236){return _0x204a4e===_0x4b5236;},_0x24d8cd[_0xeccf4b(0x1d2)]=_0xeccf4b(0x1a2),_0x24d8cd[_0xeccf4b(0x174)]=function(_0x2b1c0c,_0x104015){return _0x2b1c0c===_0x104015;},_0x24d8cd[_0xeccf4b(0x184)]='firefox',_0x24d8cd[_0xeccf4b(0x1c3)]=function(_0x3c65e7,_0xe575c4){return _0x3c65e7===_0xe575c4;},_0x24d8cd[_0xeccf4b(0x1b4)]=_0xeccf4b(0x1bb),_0x24d8cd[_0xeccf4b(0x1b5)]=_0xeccf4b(0x1a1),_0x24d8cd[_0xeccf4b(0x1c8)]=function(_0x1a45e0,_0x461c8a){return _0x1a45e0===_0x461c8a;},_0x24d8cd[_0xeccf4b(0x17d)]=_0xeccf4b(0x1b3);const _0x502531=_0x24d8cd;try{const _0x414d88=this[_0xeccf4b(0x167)]['initializeCapabilities'](Object[_0xeccf4b(0x180)](_0x1eef45[_0xeccf4b(0x198)]()['map_']));console[_0xeccf4b(0x18b)](_0x502531[_0xeccf4b(0x18e)],_0x414d88);if(_0x502531[_0xeccf4b(0x1a9)](_0x414d88?.[_0xeccf4b(0x164)]?.[_0xeccf4b(0x1d7)](),_0x502531['WEGHX']))_0x1eef45['chromeOptions_']=_0x414d88;else{if(_0x502531[_0xeccf4b(0x174)](_0x414d88?.[_0xeccf4b(0x164)]?.['toLowerCase'](),_0x502531['YfWXs']))_0x1eef45['firefoxOptions_']=_0x414d88;else{if(_0x502531[_0xeccf4b(0x1c3)](_0x414d88?.['browserName']?.['toLowerCase'](),_0x502531[_0xeccf4b(0x1b4)]))_0x1eef45[_0xeccf4b(0x176)]=_0x414d88;else{if(_0x502531[_0xeccf4b(0x1a9)](_0x414d88?.['browserName']?.['toLowerCase'](),_0x502531[_0xeccf4b(0x1b5)])||_0x502531[_0xeccf4b(0x1c8)](_0x414d88?.['browserName']?.[_0xeccf4b(0x1d7)](),_0x502531[_0xeccf4b(0x17d)]))_0x1eef45[_0xeccf4b(0x17b)]=_0x414d88;else _0x502531[_0xeccf4b(0x1a9)](_0x414d88?.[_0xeccf4b(0x164)]?.[_0xeccf4b(0x1d7)](),'ie')&&(_0x1eef45['ieOptions_']=_0x414d88);}}}Object[_0xeccf4b(0x1ce)](_0x414d88)[_0xeccf4b(0x1c7)](_0x38efdd=>{const _0x1b1ed6=_0xeccf4b,_0x20391f=_0x1eef45[_0x1b1ed6(0x18f)][_0x1b1ed6(0x18d)](_0x38efdd);_0x1eef45[_0x1b1ed6(0x18f)][_0x1b1ed6(0x1a8)](_0x38efdd,_0x414d88[_0x38efdd]);});}catch(_0x33fe6e){logger[_0xeccf4b(0x17e)]('Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20'+(_0x33fe6e&&_0x33fe6e[_0xeccf4b(0x191)]?_0x33fe6e[_0xeccf4b(0x191)]:''));}}async['setTcgToken'](_0x95b189){const _0xac093a=a87_0xd039f0,_0x4c1a84={'aXDBx':function(_0x3584fd,_0x453c16,_0x1468d6,_0x35783f,_0x3ffdbf,_0x9f07f,_0x59f356){return _0x3584fd(_0x453c16,_0x1468d6,_0x35783f,_0x3ffdbf,_0x9f07f,_0x59f356);},'SckxR':_0xac093a(0x192),'RJLun':'BrowserstackHealingSetTcgTokenFailed','uXxDf':_0xac093a(0x16b)},_0x3cc727=new Date(),_0x46d47c=_0x4c1a84['aXDBx'](timeoutPromise,constants['SET_TCG_TOKEN_TIMEOUT'],_0x4c1a84[_0xac093a(0x1d5)],_0x4c1a84['RJLun'],_0x3cc727,this['config'],this[_0xac093a(0x189)]);await Promise[_0xac093a(0x1bf)]([this['BrowserstackHealing'][_0xac093a(0x190)](_0x95b189,globals['getGlobal'](_0x4c1a84[_0xac093a(0x1b9)]),constants[_0xac093a(0x1d8)])['then'](()=>{const _0x39191d=_0xac093a;_0x46d47c[_0x39191d(0x197)]();}),_0x46d47c]);}async[a87_0xd039f0(0x1bd)](_0x288b1d,_0x1f3ab9,_0x403c3a,_0x36a689){const _0x4955db=a87_0xd039f0,_0x46ebf5={'bkSyq':function(_0x5795b8,_0x21f768){return _0x5795b8===_0x21f768;},'VdvHE':function(_0x427915,_0x90986d){return _0x427915(_0x90986d);},'XcIVU':function(_0x59743b,_0x4e3694){return _0x59743b(_0x4e3694);},'ZJqSV':function(_0x2d9a34,_0x4795fc){return _0x2d9a34(_0x4795fc);},'sNIAj':_0x4955db(0x1c1),'DTTHX':_0x4955db(0x1a4),'jcdQT':'aiHeal_groupId','NsJrJ':_0x4955db(0x188),'VDSdw':function(_0xb84f75,_0x7102ca,_0x5975a1,_0x1bc6e8,_0x273da1,_0x486d22,_0x25c728){return _0xb84f75(_0x7102ca,_0x5975a1,_0x1bc6e8,_0x273da1,_0x486d22,_0x25c728);},'CciOb':_0x4955db(0x1ae),'noaCq':_0x4955db(0x1af),'HSLbW':function(_0x1126db,_0x2ca24f,_0x16593e,_0x4ff635,_0x15905c,_0x44d50a,_0x48cb5d){return _0x1126db(_0x2ca24f,_0x16593e,_0x4ff635,_0x15905c,_0x44d50a,_0x48cb5d);},'onnrg':'BrowserstackHealing.healFailure\x20method\x20timed\x20out','PjsfP':_0x4955db(0x1be)},_0x1702d3=(await _0x1f3ab9[_0x4955db(0x1a7)]())[_0x4955db(0x186)]();let _0x42c1e9='';if(commandRepository[_0x4955db(0x182)]()&&_0x46ebf5[_0x4955db(0x1a5)](_0x36a689,![])||_0x46ebf5[_0x4955db(0x1a5)](_0x36a689,!![])){const _0x5e59cc=_0x46ebf5[_0x4955db(0x163)](isNotUndefinedOrNull,_0x403c3a[_0x4955db(0x1ca)][_0x4955db(0x1a6)])&&_0x46ebf5[_0x4955db(0x196)](isString,_0x403c3a[_0x4955db(0x1ca)][_0x4955db(0x1a6)])?_0x403c3a[_0x4955db(0x1ca)][_0x4955db(0x1a6)][_0x4955db(0x1b6)](/'/g,'\x5c\x27')[_0x4955db(0x1b6)](/"/g,'\x5c\x22'):'',_0x5b6ad7=_0x46ebf5[_0x4955db(0x196)](isNotUndefinedOrNull,_0x403c3a['parameters_'][_0x4955db(0x1a6)])&&_0x46ebf5[_0x4955db(0x163)](isString,_0x403c3a[_0x4955db(0x1ca)][_0x4955db(0x183)])?_0x403c3a['parameters_'][_0x4955db(0x183)][_0x4955db(0x1b6)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x5a1e22=_0x46ebf5[_0x4955db(0x163)](isNotUndefinedOrNull,commandRepository[_0x4955db(0x19b)]())&&_0x46ebf5[_0x4955db(0x196)](isString,commandRepository['getProjectName']())?commandRepository[_0x4955db(0x19b)]()[_0x4955db(0x1b6)](/'/g,'\x5c\x27')[_0x4955db(0x1b6)](/"/g,'\x5c\x22'):'';let _0x2747f6=_0x46ebf5[_0x4955db(0x196)](isNotUndefinedOrNull,global['browserstackSessionName'])&&_0x46ebf5[_0x4955db(0x163)](isString,global[_0x4955db(0x19d)])?global['browserstackSessionName'][_0x4955db(0x1b6)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';!_0x2747f6&&(_0x2747f6=_0x46ebf5[_0x4955db(0x17c)](isNotUndefinedOrNull,commandRepository[_0x4955db(0x19f)]())&&_0x46ebf5[_0x4955db(0x163)](isString,commandRepository[_0x4955db(0x19f)]())?commandRepository[_0x4955db(0x19f)]()['replace'](/'/g,'\x5c\x27')[_0x4955db(0x1b6)](/"/g,'\x5c\x22'):'');let _0x41f5bc=_0x4955db(0x1b7)+constants[_0x4955db(0x170)]+_0x4955db(0x1c2)+constants[_0x4955db(0x170)]+'\x22:\x20{\x22endpoint\x22:\x20\x22'+constants[_0x4955db(0x1d8)][_0x4955db(0x187)](_0x46ebf5[_0x4955db(0x1c4)])[0x1]+_0x4955db(0x1c5);_0x41f5bc=_0x46ebf5[_0x4955db(0x17c)](isNotUndefinedOrNull,_0x41f5bc)&&_0x46ebf5[_0x4955db(0x163)](isString,_0x41f5bc)?_0x41f5bc[_0x4955db(0x1b6)](/'/g,'\x5c\x27')[_0x4955db(0x1b6)](/"/g,'\x5c\x22'):'';const _0x43b7d8=commandRepository[_0x4955db(0x1bc)](_0x1702d3),_0x58991e=globals[_0x4955db(0x1d0)](_0x46ebf5[_0x4955db(0x16f)]),_0x4c4ee5=globals[_0x4955db(0x1d0)](_0x46ebf5[_0x4955db(0x185)]),_0x4db204=globals[_0x4955db(0x1d0)](_0x46ebf5[_0x4955db(0x19c)]),_0x477177=![],_0xb1c564=new Date();if(_0x36a689){const _0x1f2b4d=_0x46ebf5[_0x4955db(0x181)](timeoutPromise,constants['HEALING_LOG_DATA_TIMEOUT'],_0x46ebf5[_0x4955db(0x171)],_0x46ebf5[_0x4955db(0x199)],_0xb1c564,this[_0x4955db(0x195)],this[_0x4955db(0x189)]);_0x42c1e9=await Promise['race']([this[_0x4955db(0x167)]['logData'](_0x5e59cc,_0x5b6ad7,_0x5a1e22,_0x2747f6,_0x4c4ee5,_0x1702d3,_0x43b7d8,_0x41f5bc)[_0x4955db(0x193)](_0x22527f=>{const _0x17b92c=_0x4955db;return _0x1f2b4d[_0x17b92c(0x197)](),_0x22527f;}),_0x1f2b4d]);}else{if(commandRepository[_0x4955db(0x182)]()){const _0x10e1bc=_0x46ebf5[_0x4955db(0x16c)](timeoutPromise,constants['HEALING_FAILURE_TIMEOUT'],_0x46ebf5['onnrg'],_0x46ebf5[_0x4955db(0x1d4)],_0xb1c564,this[_0x4955db(0x195)],this[_0x4955db(0x189)]);_0x42c1e9=await Promise[_0x4955db(0x1bf)]([this[_0x4955db(0x167)][_0x4955db(0x1d3)](_0x5e59cc,_0x5b6ad7,_0x5a1e22,_0x2747f6,_0x58991e,_0x4c4ee5,_0x1702d3,_0x43b7d8,_0x477177,_0x4db204,_0x41f5bc)['then'](_0x935279=>{const _0x5e2619=_0x4955db;return _0x10e1bc[_0x5e2619(0x197)](),_0x935279;}),_0x10e1bc]);}}_0x42c1e9&&await _0x1f3ab9[_0x4955db(0x1b8)](_0x42c1e9);}}async[a87_0xd039f0(0x1c6)](_0x4c9f71,_0xd9869,_0x5b9212){const _0x5b320a=a87_0xd039f0;try{await this['_handleEvent'](_0x4c9f71,_0xd9869,_0x5b9212,!![]);}catch(_0x42e95c){return logger['error']('Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20'+(_0x42e95c&&_0x42e95c[_0x5b320a(0x191)]?_0x42e95c[_0x5b320a(0x191)]:'')),![];}return!![];}async[a87_0xd039f0(0x16e)](_0x4d9283,_0x47bc93,_0x4ff9fc){const _0x12e2cd=a87_0xd039f0,_0x5c12ac={'VrtLq':function(_0x5c103f,_0x41c4bf,_0x375e7b,_0x14d21f,_0x4e8921,_0x3aa05e,_0xb0a0d1){return _0x5c103f(_0x41c4bf,_0x375e7b,_0x14d21f,_0x4e8921,_0x3aa05e,_0xb0a0d1);},'VsaLL':_0x12e2cd(0x16d),'wzqrR':'BrowserstackHealingPollResultFailed','LOQcw':'aiHeal_sessionToken'};try{await this[_0x12e2cd(0x1bd)](_0x4d9283,_0x47bc93,_0x4ff9fc,![]);const _0x59224b=(await _0x47bc93[_0x12e2cd(0x1a7)]())[_0x12e2cd(0x186)](),_0x1b6870=new Date(),_0x542026=_0x5c12ac[_0x12e2cd(0x179)](timeoutPromise,constants[_0x12e2cd(0x17a)],_0x5c12ac[_0x12e2cd(0x1d6)],_0x5c12ac[_0x12e2cd(0x175)],_0x1b6870,this[_0x12e2cd(0x195)],this['framework']),_0x4885e6=await Promise['race']([this['BrowserstackHealing'][_0x12e2cd(0x17f)](constants[_0x12e2cd(0x1d8)],_0x59224b,globals['getGlobal'](_0x5c12ac[_0x12e2cd(0x1b2)]))[_0x12e2cd(0x193)](_0x227513=>{const _0xe73b96=_0x12e2cd;return _0x542026[_0xe73b96(0x197)](),_0x227513;}),_0x542026]);if(_0x4885e6&&_0x4885e6[_0x12e2cd(0x1a3)]&&_0x4885e6[_0x12e2cd(0x183)]){const _0x3d777d={};return _0x3d777d[_0x12e2cd(0x1cf)]=_0x4885e6[_0x12e2cd(0x1a3)],_0x3d777d[_0x12e2cd(0x1cb)]=_0x4885e6[_0x12e2cd(0x183)],_0x3d777d[_0x12e2cd(0x1c0)]=!![],_0x3d777d;}const _0x35239c={};return _0x35239c[_0x12e2cd(0x1cf)]=_0x4ff9fc['parameters_']['using'],_0x35239c[_0x12e2cd(0x1cb)]=_0x4885e6[_0x12e2cd(0x183)],_0x35239c['aiHealing']=!![],_0x35239c;}catch(_0x2a47f8){return logger['debug']('Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20'+(_0x2a47f8&&_0x2a47f8[_0x12e2cd(0x191)]?_0x2a47f8[_0x12e2cd(0x191)]:'')),logger[_0x12e2cd(0x172)](_0x12e2cd(0x194)+_0x4ff9fc[_0x12e2cd(0x18c)]+_0x12e2cd(0x1a0)),_0x4ff9fc;}}}function a87_0x4601(){const _0x2a656a=['forEach','XTSvm','333duxiVd','parameters_','locatorValue','3LjqBMy','aVUyM','keys','locatorType','getGlobal','991144ZVJYni','WEGHX','healFailure','PjsfP','SckxR','VsaLL','toLowerCase','TCG_URL','9732760SeiPmS','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','VdvHE','browserName','path','249740EECMPq','BrowserstackHealing','aiSdkWrapper','../../helpers/timeoutPromise','../logger','aiHeal_sessionToken','HSLbW','BrowserstackHealing.pollResult\x20method\x20timed\x20out','handleFailure','DTTHX','TCG_REGION','CciOb','info','VRGJU','YCHzn','wzqrR','safariOptions_','string','../../bin/utils/constants','VrtLq','POLL_HEALING_RESULT_TIMEOUT','edgeOptions_','ZJqSV','nINsv','error','pollResult','fromEntries','VDSdw','isSelfHealEnabled','value','YfWXs','jcdQT','getId','split','aiHeal_isGroupAIEnabled','framework','newCapabilities','log','name_','get','XslMc','capabilities_','setToken','message','BrowserstackHealing.setToken\x20method\x20timed\x20out','then','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','config','XcIVU','cancel','getCapabilities','noaCq','freeze','getProjectName','NsJrJ','browserstackSessionName','1494855GNaMYn','getTestName','\x20command','edge','chrome','selector','aiHeal_userId','bkSyq','using','getSession','set','qancW','./autoHealHelper','8NlqAMn','initializeHealingCapabilities','6436059JjYFvr','BrowserstackHealing.logData\x20method\x20timed\x20out','BrowserstackHealingLogDataFailed','9860178UVVyxt','1346690IheTqD','LOQcw','microsoftedge','XLhNE','wydFQ','replace','{\x22region\x22:\x20\x22','executeScript','uXxDf','winstonLogger','safari','getCommands','_handleEvent','BrowserstackHealingHealFailureFailed','race','aiHealing','s://','\x22,\x20\x22tcgUrls\x22:\x20{\x22','xEOXw','sNIAj','\x22}}}','handleSuccess'];a87_0x4601=function(){return _0x2a656a;};return a87_0x4601();}exports[a87_0xd039f0(0x168)]=Object[a87_0xd039f0(0x19a)](new AiSdkWrapper());