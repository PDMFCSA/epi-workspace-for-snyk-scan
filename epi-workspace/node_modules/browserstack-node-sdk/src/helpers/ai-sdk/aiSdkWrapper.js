function a94_0x5821(){const _0x4c182a=['../globals','BrowserstackHealingLogDataFailed','handleFailure','aiHeal_sessionToken','replace','winstonLogger','AVUXq','34092CGFVUO','xhgoe','568XPLlwN','setToken','{\x22region\x22:\x20\x22','kiufo','getCapabilities','pollResult','aiHealing','forEach','PnYHO','iNMpA','\x22}}}','firefoxOptions_','101129wyZVbn','apEVL','aiHeal_userId','safariOptions_','freeze','name_','WhfVJ','locatorValue','1296264CNTvQX','HEALING_FAILURE_TIMEOUT','getProjectName','value','chromeOptions_','fromEntries','../logger','lGdRI','oFWaR','4857WWPUgb','race','1970WopqVB','error','path','framework','BrowserstackHealing','BrowserstackHealing.setToken\x20method\x20timed\x20out','aiHeal_groupId','message','mNOVI','parameters_','../../bin/utils/constants','TCG_REGION','BrowserstackHealing.logData\x20method\x20timed\x20out','2916TBxXlJ','25mxLwyG','capabilities_','BrowserstackHealing.pollResult\x20method\x20timed\x20out','xAUis','_handleEvent','SET_TCG_TOKEN_TIMEOUT','debug','ieOptions_','ZBvNi','MfYcs','mpqRx','BrowserstackHealingHealFailureFailed','initializeHealingCapabilities','browserstackSessionName','328258YqZcTW','../../helpers/timeoutPromise','DMZrS','xQwTA','getId','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','browserName','EFCAC','VSiXf','getCommands','wQpqs','SDxKx','uXhwD','vAhZz','cancel','selector','isSelfHealEnabled','then','tLPDC','jfFVd','getSession','newCapabilities','TCG_URL','locatorType','xqkfw','firefox','22290928jwWnkz','logData','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','aiHeal_isGroupAIEnabled','\x22,\x20\x22tcgUrls\x22:\x20{\x22','get','edgeOptions_','getGlobal','using','MjhXp','info','chrome','\x20command','BrowserstackHealing.healFailure\x20method\x20timed\x20out','BrowserstackHealingSetTcgTokenFailed','handleSuccess','split','281334RRnnGh','OsmIJ','EwHnr','mpWtL','microsoftedge','set','getTestName','SCjwX','config','GoedK','toLowerCase','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20'];a94_0x5821=function(){return _0x4c182a;};return a94_0x5821();}const a94_0x180c4f=a94_0x16c2;(function(_0x3b0aba,_0x1a0da5){const _0x392321=a94_0x16c2,_0x2e95ae=_0x3b0aba();while(!![]){try{const _0x94c299=parseInt(_0x392321(0x13a))/0x1+parseInt(_0x392321(0x113))/0x2+-parseInt(_0x392321(0x11c))/0x3*(-parseInt(_0x392321(0x12b))/0x4)+-parseInt(_0x392321(0x12c))/0x5*(-parseInt(_0x392321(0xea))/0x6)+parseInt(_0x392321(0x10b))/0x7*(parseInt(_0x392321(0xff))/0x8)+parseInt(_0x392321(0xfd))/0x9*(-parseInt(_0x392321(0x11e))/0xa)+-parseInt(_0x392321(0x154))/0xb;if(_0x94c299===_0x1a0da5)break;else _0x2e95ae['push'](_0x2e95ae['shift']());}catch(_0x1065a4){_0x2e95ae['push'](_0x2e95ae['shift']());}}}(a94_0x5821,0x9d42b));function a94_0x16c2(_0x2ba200,_0x5a7169){const _0x5821fa=a94_0x5821();return a94_0x16c2=function(_0x16c2f9,_0x289e24){_0x16c2f9=_0x16c2f9-0xe2;let _0x59d7d4=_0x5821fa[_0x16c2f9];return _0x59d7d4;},a94_0x16c2(_0x2ba200,_0x5a7169);}const path=require(a94_0x180c4f(0x120)),{commandRepository}=require('./autoHealHelper'),constants=require(a94_0x180c4f(0x128)),logger=require(a94_0x180c4f(0x119))[a94_0x180c4f(0xfb)],globals=require(a94_0x180c4f(0xf6)),timeoutPromise=require(a94_0x180c4f(0x13b)),isUndefinedOrNull=_0x23f649=>_0x23f649===undefined||_0x23f649===null||_0x23f649==='',isNotUndefinedOrNull=_0x59bb5d=>!isUndefinedOrNull(_0x59bb5d),isString=_0x4ccf97=>isNotUndefinedOrNull(_0x4ccf97)&&typeof _0x4ccf97==='string';class AiSdkWrapper{constructor(){const _0x5453a6=a94_0x180c4f,_0x48e393={'xQwTA':function(_0x5e7b4a,_0x2cf79d){return _0x5e7b4a(_0x2cf79d);},'PnYHO':'../../ai-sdk-node/bundle'};this[_0x5453a6(0x122)]=undefined;try{this[_0x5453a6(0x122)]=_0x48e393[_0x5453a6(0x13d)](require,path['join'](__dirname,_0x48e393[_0x5453a6(0x107)]));}catch(_0x5d4a1d){logger[_0x5453a6(0x11f)](_0x5453a6(0xf5)+(_0x5d4a1d&&_0x5d4a1d['message']?_0x5d4a1d[_0x5453a6(0x125)]:''));}}[a94_0x180c4f(0x138)](_0x3618f6){const _0x1284c1=a94_0x180c4f,_0x2872f2={};_0x2872f2[_0x1284c1(0xed)]=_0x1284c1(0x14f),_0x2872f2[_0x1284c1(0xe2)]=function(_0x4c2dcd,_0x4ef3e9){return _0x4c2dcd===_0x4ef3e9;},_0x2872f2['VSiXf']=_0x1284c1(0xe4),_0x2872f2[_0x1284c1(0x11a)]=function(_0x1b7719,_0x4e6b88){return _0x1b7719===_0x4e6b88;},_0x2872f2['EFCAC']=_0x1284c1(0x153),_0x2872f2[_0x1284c1(0x10c)]='safari',_0x2872f2[_0x1284c1(0x11b)]=function(_0x28a1f1,_0xed5b8){return _0x28a1f1===_0xed5b8;},_0x2872f2[_0x1284c1(0xf3)]='edge',_0x2872f2[_0x1284c1(0x14d)]=function(_0xcb4c7d,_0x3b5a3b){return _0xcb4c7d===_0x3b5a3b;},_0x2872f2['AVUXq']=_0x1284c1(0xee),_0x2872f2['kiufo']=function(_0x164e60,_0x3bcfa8){return _0x164e60===_0x3bcfa8;};const _0x2929f5=_0x2872f2;try{const _0x3330ed=this['BrowserstackHealing']['initializeCapabilities'](Object[_0x1284c1(0x118)](_0x3618f6[_0x1284c1(0x103)]()['map_']));console['log'](_0x2929f5[_0x1284c1(0xed)],_0x3330ed);if(_0x2929f5[_0x1284c1(0xe2)](_0x3330ed?.['browserName']?.['toLowerCase'](),_0x2929f5[_0x1284c1(0x142)]))_0x3618f6[_0x1284c1(0x117)]=_0x3330ed;else{if(_0x2929f5[_0x1284c1(0x11a)](_0x3330ed?.[_0x1284c1(0x140)]?.[_0x1284c1(0xf4)](),_0x2929f5[_0x1284c1(0x141)]))_0x3618f6[_0x1284c1(0x10a)]=_0x3330ed;else{if(_0x2929f5[_0x1284c1(0xe2)](_0x3330ed?.[_0x1284c1(0x140)]?.[_0x1284c1(0xf4)](),_0x2929f5['apEVL']))_0x3618f6[_0x1284c1(0x10e)]=_0x3330ed;else{if(_0x2929f5[_0x1284c1(0x11b)](_0x3330ed?.[_0x1284c1(0x140)]?.['toLowerCase'](),_0x2929f5[_0x1284c1(0xf3)])||_0x2929f5[_0x1284c1(0x14d)](_0x3330ed?.[_0x1284c1(0x140)]?.[_0x1284c1(0xf4)](),_0x2929f5[_0x1284c1(0xfc)]))_0x3618f6[_0x1284c1(0x15a)]=_0x3330ed;else _0x2929f5[_0x1284c1(0x102)](_0x3330ed?.[_0x1284c1(0x140)]?.[_0x1284c1(0xf4)](),'ie')&&(_0x3618f6[_0x1284c1(0x133)]=_0x3330ed);}}}Object['keys'](_0x3330ed)[_0x1284c1(0x106)](_0x8533c7=>{const _0x428ad4=_0x1284c1,_0x15c44b=_0x3618f6[_0x428ad4(0x12d)][_0x428ad4(0x159)](_0x8533c7);_0x3618f6['capabilities_'][_0x428ad4(0xef)](_0x8533c7,_0x3330ed[_0x8533c7]);});}catch(_0x48d075){logger[_0x1284c1(0x11f)]('Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20'+(_0x48d075&&_0x48d075[_0x1284c1(0x125)]?_0x48d075[_0x1284c1(0x125)]:''));}}async['setTcgToken'](_0x486ffd){const _0x5829e2=a94_0x180c4f,_0x139f07={'tLPDC':function(_0x43a73a,_0x1f3058,_0x4c54ac,_0x2b29c9,_0x3bb0cf,_0xadb950,_0x2f472c){return _0x43a73a(_0x1f3058,_0x4c54ac,_0x2b29c9,_0x3bb0cf,_0xadb950,_0x2f472c);},'SCjwX':_0x5829e2(0x123),'ORNnj':_0x5829e2(0xe7),'xhgoe':_0x5829e2(0xf9)},_0x52fc32=new Date(),_0x411ecb=_0x139f07[_0x5829e2(0x14c)](timeoutPromise,constants[_0x5829e2(0x131)],_0x139f07[_0x5829e2(0xf1)],_0x139f07['ORNnj'],_0x52fc32,this[_0x5829e2(0xf2)],this[_0x5829e2(0x121)]);await Promise[_0x5829e2(0x11d)]([this['BrowserstackHealing'][_0x5829e2(0x100)](_0x486ffd,globals[_0x5829e2(0x15b)](_0x139f07[_0x5829e2(0xfe)]),constants[_0x5829e2(0x150)])[_0x5829e2(0x14b)](()=>{_0x411ecb['cancel']();}),_0x411ecb]);}async[a94_0x180c4f(0x130)](_0x46fb20,_0x455540,_0x1aa65e,_0x263c61){const _0x29fc86=a94_0x180c4f,_0x162ecb={'vAhZz':function(_0x168675,_0x6178e4){return _0x168675===_0x6178e4;},'uXhwD':function(_0x4ac78f,_0x2f5424){return _0x4ac78f(_0x2f5424);},'xAUis':function(_0x3c031e,_0x2f03cc){return _0x3c031e(_0x2f03cc);},'EwHnr':function(_0x2caaeb,_0x2e2a61){return _0x2caaeb(_0x2e2a61);},'xqkfw':function(_0x2df8d9,_0x35c461){return _0x2df8d9(_0x35c461);},'JEcXL':'s://','wQpqs':function(_0x2a9b18,_0x2750f2){return _0x2a9b18(_0x2750f2);},'mJESd':function(_0xc5f3a2,_0x2f8f85){return _0xc5f3a2(_0x2f8f85);},'TTyLm':_0x29fc86(0x10d),'WhfVJ':_0x29fc86(0x124),'SDxKx':_0x29fc86(0x157),'mNOVI':function(_0x535475,_0x2eac6f,_0x5396c3,_0x28f874,_0x3d0ef5,_0xba37a,_0x2e42e1){return _0x535475(_0x2eac6f,_0x5396c3,_0x28f874,_0x3d0ef5,_0xba37a,_0x2e42e1);},'mpqRx':_0x29fc86(0x12a),'dPSZl':_0x29fc86(0xf7),'OsmIJ':function(_0x3eb96a,_0x45b6d7,_0x50d0fa,_0x3626fe,_0x4a6f8c,_0x2c210f,_0x580059){return _0x3eb96a(_0x45b6d7,_0x50d0fa,_0x3626fe,_0x4a6f8c,_0x2c210f,_0x580059);},'DMZrS':_0x29fc86(0xe6),'uWEAS':_0x29fc86(0x137)},_0x543e11=(await _0x455540[_0x29fc86(0x14e)]())[_0x29fc86(0x13e)]();let _0x1258ce='';if(commandRepository['isSelfHealEnabled']()&&_0x162ecb[_0x29fc86(0x147)](_0x263c61,![])||_0x162ecb['vAhZz'](_0x263c61,!![])){const _0x1d3e90=_0x162ecb[_0x29fc86(0x146)](isNotUndefinedOrNull,_0x1aa65e[_0x29fc86(0x127)]['using'])&&_0x162ecb[_0x29fc86(0x146)](isString,_0x1aa65e[_0x29fc86(0x127)][_0x29fc86(0x15c)])?_0x1aa65e[_0x29fc86(0x127)][_0x29fc86(0x15c)][_0x29fc86(0xfa)](/'/g,'\x5c\x27')[_0x29fc86(0xfa)](/"/g,'\x5c\x22'):'',_0x149f89=_0x162ecb[_0x29fc86(0x146)](isNotUndefinedOrNull,_0x1aa65e[_0x29fc86(0x127)]['using'])&&_0x162ecb[_0x29fc86(0x12f)](isString,_0x1aa65e[_0x29fc86(0x127)][_0x29fc86(0x116)])?_0x1aa65e['parameters_'][_0x29fc86(0x116)]['replace'](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x39e011=_0x162ecb[_0x29fc86(0xec)](isNotUndefinedOrNull,commandRepository['getProjectName']())&&_0x162ecb[_0x29fc86(0x12f)](isString,commandRepository[_0x29fc86(0x115)]())?commandRepository[_0x29fc86(0x115)]()[_0x29fc86(0xfa)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';let _0x314936=_0x162ecb['xAUis'](isNotUndefinedOrNull,global[_0x29fc86(0x139)])&&_0x162ecb[_0x29fc86(0xec)](isString,global['browserstackSessionName'])?global[_0x29fc86(0x139)]['replace'](/'/g,'\x5c\x27')[_0x29fc86(0xfa)](/"/g,'\x5c\x22'):'';!_0x314936&&(_0x314936=_0x162ecb[_0x29fc86(0x12f)](isNotUndefinedOrNull,commandRepository['getTestName']())&&_0x162ecb[_0x29fc86(0x152)](isString,commandRepository[_0x29fc86(0xf0)]())?commandRepository[_0x29fc86(0xf0)]()[_0x29fc86(0xfa)](/'/g,'\x5c\x27')[_0x29fc86(0xfa)](/"/g,'\x5c\x22'):'');let _0x2da769=_0x29fc86(0x101)+constants[_0x29fc86(0x129)]+_0x29fc86(0x158)+constants[_0x29fc86(0x129)]+'\x22:\x20{\x22endpoint\x22:\x20\x22'+constants['TCG_URL'][_0x29fc86(0xe9)](_0x162ecb['JEcXL'])[0x1]+_0x29fc86(0x109);_0x2da769=_0x162ecb[_0x29fc86(0x144)](isNotUndefinedOrNull,_0x2da769)&&_0x162ecb['mJESd'](isString,_0x2da769)?_0x2da769['replace'](/'/g,'\x5c\x27')[_0x29fc86(0xfa)](/"/g,'\x5c\x22'):'';const _0x3be8ae=commandRepository[_0x29fc86(0x143)](_0x543e11),_0x10fed7=globals[_0x29fc86(0x15b)](_0x162ecb['TTyLm']),_0x105df3=globals[_0x29fc86(0x15b)](_0x162ecb[_0x29fc86(0x111)]),_0x42f97d=globals['getGlobal'](_0x162ecb[_0x29fc86(0x145)]),_0x225977=![],_0x148277=new Date();if(_0x263c61){const _0x539ecf=_0x162ecb[_0x29fc86(0x126)](timeoutPromise,constants['HEALING_LOG_DATA_TIMEOUT'],_0x162ecb[_0x29fc86(0x136)],_0x162ecb['dPSZl'],_0x148277,this[_0x29fc86(0xf2)],this[_0x29fc86(0x121)]);_0x1258ce=await Promise['race']([this[_0x29fc86(0x122)][_0x29fc86(0x155)](_0x1d3e90,_0x149f89,_0x39e011,_0x314936,_0x105df3,_0x543e11,_0x3be8ae,_0x2da769)[_0x29fc86(0x14b)](_0x119dd2=>{const _0x1dc0dc=_0x29fc86;return _0x539ecf[_0x1dc0dc(0x148)](),_0x119dd2;}),_0x539ecf]);}else{if(commandRepository[_0x29fc86(0x14a)]()){const _0x256c02=_0x162ecb[_0x29fc86(0xeb)](timeoutPromise,constants[_0x29fc86(0x114)],_0x162ecb[_0x29fc86(0x13c)],_0x162ecb['uWEAS'],_0x148277,this[_0x29fc86(0xf2)],this[_0x29fc86(0x121)]);_0x1258ce=await Promise[_0x29fc86(0x11d)]([this[_0x29fc86(0x122)]['healFailure'](_0x1d3e90,_0x149f89,_0x39e011,_0x314936,_0x10fed7,_0x105df3,_0x543e11,_0x3be8ae,_0x225977,_0x42f97d,_0x2da769)[_0x29fc86(0x14b)](_0x1d2e54=>{return _0x256c02['cancel'](),_0x1d2e54;}),_0x256c02]);}}_0x1258ce&&await _0x455540['executeScript'](_0x1258ce);}}async[a94_0x180c4f(0xe8)](_0x19d6cd,_0x163bc7,_0x1b7345){const _0x361ca8=a94_0x180c4f;try{await this[_0x361ca8(0x130)](_0x19d6cd,_0x163bc7,_0x1b7345,!![]);}catch(_0x3d5f8f){return logger['error'](_0x361ca8(0x13f)+(_0x3d5f8f&&_0x3d5f8f[_0x361ca8(0x125)]?_0x3d5f8f[_0x361ca8(0x125)]:'')),![];}return!![];}async[a94_0x180c4f(0xf8)](_0x4394a6,_0x382721,_0x2a45cc){const _0x13b2eb=a94_0x180c4f,_0x386740={'MfYcs':function(_0x8e211d,_0x1186b8,_0x34a264,_0xcaea2,_0x2aca4d,_0x460330,_0x177803){return _0x8e211d(_0x1186b8,_0x34a264,_0xcaea2,_0x2aca4d,_0x460330,_0x177803);},'ZBvNi':_0x13b2eb(0x12e),'NlEqn':'BrowserstackHealingPollResultFailed','iNMpA':_0x13b2eb(0xf9)};try{await this['_handleEvent'](_0x4394a6,_0x382721,_0x2a45cc,![]);const _0x5a4482=(await _0x382721[_0x13b2eb(0x14e)]())['getId'](),_0x290ee0=new Date(),_0x163ad3=_0x386740[_0x13b2eb(0x135)](timeoutPromise,constants['POLL_HEALING_RESULT_TIMEOUT'],_0x386740[_0x13b2eb(0x134)],_0x386740['NlEqn'],_0x290ee0,this[_0x13b2eb(0xf2)],this['framework']),_0x18f9d2=await Promise[_0x13b2eb(0x11d)]([this[_0x13b2eb(0x122)][_0x13b2eb(0x104)](constants[_0x13b2eb(0x150)],_0x5a4482,globals['getGlobal'](_0x386740[_0x13b2eb(0x108)]))[_0x13b2eb(0x14b)](_0x330bb6=>{return _0x163ad3['cancel'](),_0x330bb6;}),_0x163ad3]);if(_0x18f9d2&&_0x18f9d2[_0x13b2eb(0x149)]&&_0x18f9d2[_0x13b2eb(0x116)]){const _0xb06f07={};return _0xb06f07[_0x13b2eb(0x151)]=_0x18f9d2[_0x13b2eb(0x149)],_0xb06f07[_0x13b2eb(0x112)]=_0x18f9d2['value'],_0xb06f07[_0x13b2eb(0x105)]=!![],_0xb06f07;}const _0x18e6d2={};return _0x18e6d2[_0x13b2eb(0x151)]=_0x2a45cc[_0x13b2eb(0x127)][_0x13b2eb(0x15c)],_0x18e6d2[_0x13b2eb(0x112)]=_0x18f9d2[_0x13b2eb(0x116)],_0x18e6d2[_0x13b2eb(0x105)]=!![],_0x18e6d2;}catch(_0x309461){return logger[_0x13b2eb(0x132)](_0x13b2eb(0x156)+(_0x309461&&_0x309461[_0x13b2eb(0x125)]?_0x309461['message']:'')),logger[_0x13b2eb(0xe3)]('Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20'+_0x2a45cc[_0x13b2eb(0x110)]+_0x13b2eb(0xe5)),_0x2a45cc;}}}exports['aiSdkWrapper']=Object[a94_0x180c4f(0x10f)](new AiSdkWrapper());