const a87_0x2bb08e=a87_0x2c87;(function(_0x421634,_0x563b66){const _0x42bbea=a87_0x2c87,_0xb89f8c=_0x421634();while(!![]){try{const _0x13cc22=parseInt(_0x42bbea(0x103))/0x1*(parseInt(_0x42bbea(0x150))/0x2)+-parseInt(_0x42bbea(0x138))/0x3+-parseInt(_0x42bbea(0x10d))/0x4*(-parseInt(_0x42bbea(0x147))/0x5)+parseInt(_0x42bbea(0xf3))/0x6+-parseInt(_0x42bbea(0x12d))/0x7+-parseInt(_0x42bbea(0x120))/0x8*(parseInt(_0x42bbea(0x101))/0x9)+parseInt(_0x42bbea(0x143))/0xa;if(_0x13cc22===_0x563b66)break;else _0xb89f8c['push'](_0xb89f8c['shift']());}catch(_0x330b84){_0xb89f8c['push'](_0xb89f8c['shift']());}}}(a87_0x3157,0xd9cb1));const path=require(a87_0x2bb08e(0x13b)),{commandRepository}=require('./autoHealHelper'),constants=require(a87_0x2bb08e(0x15f)),logger=require(a87_0x2bb08e(0x10b))['winstonLogger'],globals=require(a87_0x2bb08e(0x11a)),timeoutPromise=require('../../helpers/timeoutPromise'),isUndefinedOrNull=_0x262ce0=>_0x262ce0===undefined||_0x262ce0===null||_0x262ce0==='',isNotUndefinedOrNull=_0x3cd25a=>!isUndefinedOrNull(_0x3cd25a),isString=_0x4dc945=>isNotUndefinedOrNull(_0x4dc945)&&typeof _0x4dc945===a87_0x2bb08e(0x159);class AiSdkWrapper{constructor(){const _0x3592ae=a87_0x2bb08e,_0x509f26={'bdrYs':function(_0x3d47e4,_0xb5bd8d){return _0x3d47e4(_0xb5bd8d);},'NsaDR':'../../ai-sdk-node/bundle'};this[_0x3592ae(0x113)]=undefined;try{this[_0x3592ae(0x113)]=_0x509f26[_0x3592ae(0x166)](require,path[_0x3592ae(0x163)](__dirname,_0x509f26['NsaDR']));}catch(_0x32fdb3){logger[_0x3592ae(0x129)](_0x3592ae(0x14b)+(_0x32fdb3&&_0x32fdb3[_0x3592ae(0x14d)]?_0x32fdb3['message']:''));}}[a87_0x2bb08e(0x10e)](_0x1a1f06){const _0x4ece21=a87_0x2bb08e,_0x565313={};_0x565313[_0x4ece21(0x164)]=_0x4ece21(0xf2),_0x565313['dvfXq']=function(_0x30f1c5,_0x52a5e4){return _0x30f1c5===_0x52a5e4;},_0x565313[_0x4ece21(0x145)]=_0x4ece21(0xf4),_0x565313[_0x4ece21(0x126)]=_0x4ece21(0x149),_0x565313['ktDvp']=function(_0x118e37,_0x5542ad){return _0x118e37===_0x5542ad;},_0x565313['cNXpC']=_0x4ece21(0x14a),_0x565313[_0x4ece21(0x12e)]=function(_0xd3002,_0x5e5eb9){return _0xd3002===_0x5e5eb9;},_0x565313[_0x4ece21(0x132)]=_0x4ece21(0x123),_0x565313[_0x4ece21(0x11d)]=function(_0x33f2aa,_0x37a49d){return _0x33f2aa===_0x37a49d;},_0x565313[_0x4ece21(0x112)]=_0x4ece21(0x13d),_0x565313['lDTES']=function(_0x30c605,_0x1d43db){return _0x30c605===_0x1d43db;};const _0x321d25=_0x565313;try{const _0x1124c8=this['BrowserstackHealing'][_0x4ece21(0x128)](Object[_0x4ece21(0x121)](_0x1a1f06[_0x4ece21(0x127)]()[_0x4ece21(0xfb)]));console[_0x4ece21(0x106)](_0x321d25['NXZXv'],_0x1124c8);if(_0x321d25[_0x4ece21(0x104)](_0x1124c8?.[_0x4ece21(0xf9)]?.['toLowerCase'](),_0x321d25[_0x4ece21(0x145)]))_0x1a1f06['chromeOptions_']=_0x1124c8;else{if(_0x321d25[_0x4ece21(0x104)](_0x1124c8?.[_0x4ece21(0xf9)]?.[_0x4ece21(0x12c)](),_0x321d25[_0x4ece21(0x126)]))_0x1a1f06[_0x4ece21(0xf1)]=_0x1124c8;else{if(_0x321d25['ktDvp'](_0x1124c8?.[_0x4ece21(0xf9)]?.[_0x4ece21(0x12c)](),_0x321d25[_0x4ece21(0xff)]))_0x1a1f06[_0x4ece21(0x10c)]=_0x1124c8;else{if(_0x321d25[_0x4ece21(0x12e)](_0x1124c8?.[_0x4ece21(0xf9)]?.[_0x4ece21(0x12c)](),_0x321d25['rKbQw'])||_0x321d25[_0x4ece21(0x11d)](_0x1124c8?.[_0x4ece21(0xf9)]?.[_0x4ece21(0x12c)](),_0x321d25[_0x4ece21(0x112)]))_0x1a1f06[_0x4ece21(0x107)]=_0x1124c8;else _0x321d25[_0x4ece21(0x146)](_0x1124c8?.[_0x4ece21(0xf9)]?.['toLowerCase'](),'ie')&&(_0x1a1f06['ieOptions_']=_0x1124c8);}}}Object[_0x4ece21(0x160)](_0x1124c8)[_0x4ece21(0x135)](_0x52c24e=>{const _0x4fd486=_0x4ece21,_0x419ec5=_0x1a1f06['capabilities_'][_0x4fd486(0x11b)](_0x52c24e);_0x1a1f06[_0x4fd486(0x14e)][_0x4fd486(0x165)](_0x52c24e,_0x1124c8[_0x52c24e]);});}catch(_0x312625){logger['error'](_0x4ece21(0x119)+(_0x312625&&_0x312625[_0x4ece21(0x14d)]?_0x312625[_0x4ece21(0x14d)]:''));}}async[a87_0x2bb08e(0x11c)](_0x4ab637){const _0x521406=a87_0x2bb08e,_0x1bf5db={'QUUoW':function(_0x37c79c,_0x6a75ce,_0x4e5845,_0x58fbb9,_0x1abd62,_0x260d5f,_0x39f505){return _0x37c79c(_0x6a75ce,_0x4e5845,_0x58fbb9,_0x1abd62,_0x260d5f,_0x39f505);},'CKYid':'BrowserstackHealing.setToken\x20method\x20timed\x20out','XbLsG':_0x521406(0x11e),'hxdQp':_0x521406(0x168)},_0x3c235f=new Date(),_0x4f85a0=_0x1bf5db[_0x521406(0x15c)](timeoutPromise,constants['SET_TCG_TOKEN_TIMEOUT'],_0x1bf5db['CKYid'],_0x1bf5db[_0x521406(0x114)],_0x3c235f,this[_0x521406(0x116)],this['framework']);await Promise[_0x521406(0x115)]([this['BrowserstackHealing'][_0x521406(0x140)](_0x4ab637,globals['getGlobal'](_0x1bf5db['hxdQp']),constants[_0x521406(0xf5)])[_0x521406(0x100)](()=>{_0x4f85a0['cancel']();}),_0x4f85a0]);}async[a87_0x2bb08e(0x14f)](_0x58c6ce,_0x251460,_0x560820,_0x3a4361){const _0x157931=a87_0x2bb08e,_0xcb8dec={'uTMrL':function(_0x1a95e8,_0x3206f8){return _0x1a95e8===_0x3206f8;},'zWYNM':function(_0x1f0eeb,_0x36e0df){return _0x1f0eeb(_0x36e0df);},'kDbGB':function(_0x615698,_0xf0e5c2){return _0x615698(_0xf0e5c2);},'qkpNR':function(_0x177c2b,_0x51f901){return _0x177c2b(_0x51f901);},'ruoDY':_0x157931(0x152),'gRRrV':function(_0x1d36ea,_0x2c3383){return _0x1d36ea(_0x2c3383);},'FyEAX':_0x157931(0x12b),'JIGsV':_0x157931(0x12a),'ZctAM':_0x157931(0x109),'waOPM':function(_0x5ea348,_0x14dd8d,_0x2fc957,_0x4ac30b,_0x1a02f3,_0xd6da96,_0xf2c6c0){return _0x5ea348(_0x14dd8d,_0x2fc957,_0x4ac30b,_0x1a02f3,_0xd6da96,_0xf2c6c0);},'eCiHs':'BrowserstackHealing.logData\x20method\x20timed\x20out','QtZaR':'BrowserstackHealingLogDataFailed','UeDwq':function(_0x42a441,_0x1d0400,_0x5d4483,_0x277504,_0x12619f,_0x1aa60e,_0x2ed469){return _0x42a441(_0x1d0400,_0x5d4483,_0x277504,_0x12619f,_0x1aa60e,_0x2ed469);},'glbXc':'BrowserstackHealing.healFailure\x20method\x20timed\x20out','VVZEC':'BrowserstackHealingHealFailureFailed'},_0x266849=(await _0x251460[_0x157931(0x111)]())[_0x157931(0xf0)]();let _0x38dca3='';if(commandRepository[_0x157931(0x117)]()&&_0xcb8dec[_0x157931(0x15e)](_0x3a4361,![])||_0xcb8dec['uTMrL'](_0x3a4361,!![])){const _0x5d7f66=_0xcb8dec[_0x157931(0x142)](isNotUndefinedOrNull,_0x560820[_0x157931(0x122)][_0x157931(0x105)])&&_0xcb8dec[_0x157931(0xf8)](isString,_0x560820[_0x157931(0x122)][_0x157931(0x105)])?_0x560820['parameters_']['using'][_0x157931(0x14c)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x4ba5d0=_0xcb8dec[_0x157931(0xf8)](isNotUndefinedOrNull,_0x560820[_0x157931(0x122)][_0x157931(0x105)])&&_0xcb8dec[_0x157931(0x142)](isString,_0x560820[_0x157931(0x122)][_0x157931(0x169)])?_0x560820[_0x157931(0x122)]['value'][_0x157931(0x14c)](/'/g,'\x5c\x27')[_0x157931(0x14c)](/"/g,'\x5c\x22'):'',_0x545329=_0xcb8dec[_0x157931(0x142)](isNotUndefinedOrNull,commandRepository[_0x157931(0x139)]())&&_0xcb8dec[_0x157931(0xf8)](isString,commandRepository[_0x157931(0x139)]())?commandRepository[_0x157931(0x139)]()[_0x157931(0x14c)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';let _0x1d1ce8=_0xcb8dec[_0x157931(0x142)](isNotUndefinedOrNull,global['browserstackSessionName'])&&_0xcb8dec[_0x157931(0x142)](isString,global[_0x157931(0x133)])?global['browserstackSessionName'][_0x157931(0x14c)](/'/g,'\x5c\x27')[_0x157931(0x14c)](/"/g,'\x5c\x22'):'';!_0x1d1ce8&&(_0x1d1ce8=_0xcb8dec[_0x157931(0xf7)](isNotUndefinedOrNull,commandRepository[_0x157931(0x167)]())&&_0xcb8dec[_0x157931(0xf7)](isString,commandRepository['getTestName']())?commandRepository['getTestName']()[_0x157931(0x14c)](/'/g,'\x5c\x27')[_0x157931(0x14c)](/"/g,'\x5c\x22'):'');let _0x5160ed=_0x157931(0x155)+constants[_0x157931(0x130)]+_0x157931(0x151)+constants[_0x157931(0x130)]+_0x157931(0x11f)+constants[_0x157931(0xf5)]['split'](_0xcb8dec['ruoDY'])[0x1]+_0x157931(0x141);_0x5160ed=_0xcb8dec[_0x157931(0xf7)](isNotUndefinedOrNull,_0x5160ed)&&_0xcb8dec['gRRrV'](isString,_0x5160ed)?_0x5160ed[_0x157931(0x14c)](/'/g,'\x5c\x27')[_0x157931(0x14c)](/"/g,'\x5c\x22'):'';const _0x1697ca=commandRepository[_0x157931(0x131)](_0x266849),_0x50c7c9=globals[_0x157931(0x12f)](_0xcb8dec[_0x157931(0x137)]),_0x1bc169=globals[_0x157931(0x12f)](_0xcb8dec[_0x157931(0x157)]),_0x26cee8=globals['getGlobal'](_0xcb8dec[_0x157931(0x13a)]),_0x58ddb4=![],_0x3ddcc2=new Date();if(_0x3a4361){const _0x22e837=_0xcb8dec['waOPM'](timeoutPromise,constants[_0x157931(0x15a)],_0xcb8dec['eCiHs'],_0xcb8dec[_0x157931(0x13f)],_0x3ddcc2,this[_0x157931(0x116)],this[_0x157931(0x124)]);_0x38dca3=await Promise[_0x157931(0x115)]([this['BrowserstackHealing'][_0x157931(0xfc)](_0x5d7f66,_0x4ba5d0,_0x545329,_0x1d1ce8,_0x1bc169,_0x266849,_0x1697ca,_0x5160ed)['then'](_0x23107d=>{const _0xfb446f=_0x157931;return _0x22e837[_0xfb446f(0x110)](),_0x23107d;}),_0x22e837]);}else{if(commandRepository[_0x157931(0x117)]()){const _0x564c11=_0xcb8dec[_0x157931(0x153)](timeoutPromise,constants['HEALING_FAILURE_TIMEOUT'],_0xcb8dec[_0x157931(0x162)],_0xcb8dec[_0x157931(0x144)],_0x3ddcc2,this['config'],this[_0x157931(0x124)]);_0x38dca3=await Promise[_0x157931(0x115)]([this[_0x157931(0x113)][_0x157931(0x15d)](_0x5d7f66,_0x4ba5d0,_0x545329,_0x1d1ce8,_0x50c7c9,_0x1bc169,_0x266849,_0x1697ca,_0x58ddb4,_0x26cee8,_0x5160ed)[_0x157931(0x100)](_0x269043=>{const _0x559af6=_0x157931;return _0x564c11[_0x559af6(0x110)](),_0x269043;}),_0x564c11]);}}_0x38dca3&&await _0x251460[_0x157931(0x156)](_0x38dca3);}}async[a87_0x2bb08e(0x154)](_0x58d70a,_0x5b494b,_0x24bed1){const _0x115264=a87_0x2bb08e;try{await this[_0x115264(0x14f)](_0x58d70a,_0x5b494b,_0x24bed1,!![]);}catch(_0x417c10){return logger[_0x115264(0x129)]('Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20'+(_0x417c10&&_0x417c10[_0x115264(0x14d)]?_0x417c10[_0x115264(0x14d)]:'')),![];}return!![];}async[a87_0x2bb08e(0x13e)](_0x1d6ef2,_0x38818c,_0x5b2127){const _0x2fa321=a87_0x2bb08e,_0x5348c6={'tXAOD':function(_0x50f7c7,_0x15cac3,_0xba40bb,_0x5a32d9,_0x576ea7,_0x4f0469,_0x59bf5c){return _0x50f7c7(_0x15cac3,_0xba40bb,_0x5a32d9,_0x576ea7,_0x4f0469,_0x59bf5c);},'tSdxB':_0x2fa321(0xf6),'xbftu':_0x2fa321(0x13c),'sitTJ':_0x2fa321(0x168)};try{await this[_0x2fa321(0x14f)](_0x1d6ef2,_0x38818c,_0x5b2127,![]);const _0x7991bf=(await _0x38818c[_0x2fa321(0x111)]())[_0x2fa321(0xf0)](),_0x8045eb=new Date(),_0x19c520=_0x5348c6[_0x2fa321(0x15b)](timeoutPromise,constants[_0x2fa321(0x136)],_0x5348c6['tSdxB'],_0x5348c6[_0x2fa321(0x158)],_0x8045eb,this[_0x2fa321(0x116)],this[_0x2fa321(0x124)]),_0x405024=await Promise[_0x2fa321(0x115)]([this['BrowserstackHealing'][_0x2fa321(0x161)](constants[_0x2fa321(0xf5)],_0x7991bf,globals[_0x2fa321(0x12f)](_0x5348c6['sitTJ']))[_0x2fa321(0x100)](_0x1c8167=>{return _0x19c520['cancel'](),_0x1c8167;}),_0x19c520]);if(_0x405024&&_0x405024[_0x2fa321(0x148)]&&_0x405024[_0x2fa321(0x169)]){const _0x22c68f={};return _0x22c68f[_0x2fa321(0x10a)]=_0x405024['selector'],_0x22c68f[_0x2fa321(0x102)]=_0x405024[_0x2fa321(0x169)],_0x22c68f[_0x2fa321(0x134)]=!![],_0x22c68f;}const _0x287a0d={};return _0x287a0d[_0x2fa321(0x10a)]=_0x5b2127[_0x2fa321(0x122)][_0x2fa321(0x105)],_0x287a0d[_0x2fa321(0x102)]=_0x405024[_0x2fa321(0x169)],_0x287a0d[_0x2fa321(0x134)]=!![],_0x287a0d;}catch(_0x17b34e){return logger[_0x2fa321(0x108)](_0x2fa321(0x125)+(_0x17b34e&&_0x17b34e[_0x2fa321(0x14d)]?_0x17b34e[_0x2fa321(0x14d)]:'')),logger[_0x2fa321(0x10f)](_0x2fa321(0x118)+_0x5b2127[_0x2fa321(0xfd)]+_0x2fa321(0xfe)),_0x5b2127;}}}exports['aiSdkWrapper']=Object[a87_0x2bb08e(0xfa)](new AiSdkWrapper());function a87_0x2c87(_0x15726e,_0x2655ab){const _0x31570d=a87_0x3157();return a87_0x2c87=function(_0x2c87e8,_0x5195f2){_0x2c87e8=_0x2c87e8-0xf0;let _0x14dd88=_0x31570d[_0x2c87e8];return _0x14dd88;},a87_0x2c87(_0x15726e,_0x2655ab);}function a87_0x3157(){const _0x45c4b0=['string','HEALING_LOG_DATA_TIMEOUT','tXAOD','QUUoW','healFailure','uTMrL','../../bin/utils/constants','keys','pollResult','glbXc','join','NXZXv','set','bdrYs','getTestName','aiHeal_sessionToken','value','getId','firefoxOptions_','newCapabilities','2077878uVoTGU','chrome','TCG_URL','BrowserstackHealing.pollResult\x20method\x20timed\x20out','qkpNR','kDbGB','browserName','freeze','map_','logData','name_','\x20command','cNXpC','then','981eBtCEF','locatorValue','25860ObUXws','dvfXq','using','log','edgeOptions_','debug','aiHeal_isGroupAIEnabled','locatorType','../logger','safariOptions_','36aOnvfS','initializeHealingCapabilities','info','cancel','getSession','bTpTs','BrowserstackHealing','XbLsG','race','config','isSelfHealEnabled','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','../globals','get','setTcgToken','DxIHx','BrowserstackHealingSetTcgTokenFailed','\x22:\x20{\x22endpoint\x22:\x20\x22','123688wgBdtv','fromEntries','parameters_','edge','framework','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','zNxtZ','getCapabilities','initializeCapabilities','error','aiHeal_groupId','aiHeal_userId','toLowerCase','9099874TybKUa','IyzUw','getGlobal','TCG_REGION','getCommands','rKbQw','browserstackSessionName','aiHealing','forEach','POLL_HEALING_RESULT_TIMEOUT','FyEAX','4329549WTqUAG','getProjectName','ZctAM','path','BrowserstackHealingPollResultFailed','microsoftedge','handleFailure','QtZaR','setToken','\x22}}}','zWYNM','32251820mALgkg','VVZEC','OGOSr','lDTES','267700LvrnGH','selector','firefox','safari','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','replace','message','capabilities_','_handleEvent','98QsoiUw','\x22,\x20\x22tcgUrls\x22:\x20{\x22','s://','UeDwq','handleSuccess','{\x22region\x22:\x20\x22','executeScript','JIGsV','xbftu'];a87_0x3157=function(){return _0x45c4b0;};return a87_0x3157();}