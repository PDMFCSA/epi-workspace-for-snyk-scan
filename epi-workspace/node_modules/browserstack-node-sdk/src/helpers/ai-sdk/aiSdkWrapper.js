function a89_0x21ab(){const _0x3df8b8=['znKJq','info','BrowserstackHealingHealFailureFailed','BYRnw','safari','TCG_REGION','IsSAn','isSelfHealEnabled','name_','getGlobal','BrowserstackHealing','zsoOE','172QRnUop','SoDrH','log','fIcOo','initializeCapabilities','chrome','handleSuccess','using','SPIph','pollResult','selector','getCapabilities','306654xeqcUZ','getId','getCommands','../logger','race','freeze','capabilities_','BrowserstackHealing.healFailure\x20method\x20timed\x20out','setTcgToken','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','./autoHealHelper','aiHeal_userId','LVBRx','aiHealing','locatorValue','RbflP','getTestName','browserName','fromEntries','locatorType','edge','then','browserstackSessionName','xCqDZ','winstonLogger','KIsTA','../../helpers/timeoutPromise','GKYgt','MQPlq','BrowserstackHealingLogDataFailed','BrowserstackHealing.pollResult\x20method\x20timed\x20out','qdiJy','\x20command','executeScript','safariOptions_','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','forEach','microsoftedge','ALauh','../globals','YQESj','framework','IZtcP','48632bEyqIK','value','replace','CesjH','get','55KYyAyd','handleFailure','error','aiHeal_isGroupAIEnabled','BrowserstackHealing.logData\x20method\x20timed\x20out','ifOHz','462171EytNDU','TCG_URL','s://','POLL_HEALING_RESULT_TIMEOUT','rHVns','getSession','firefox','tcftH','aiHeal_sessionToken','_handleEvent','ieOptions_','getProjectName','AAoAe','aiHeal_groupId','config','WouIX','BrowserstackHealing.setToken\x20method\x20timed\x20out','join','newCapabilities','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','HEALING_FAILURE_TIMEOUT','tHNjR','cancel','logData','3671082XVnFBz','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','7KKEOBR','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','1110150voOiZP','SZLnJ','3fyUgga','message','2245096EcPQKi','HUXMl','fpswH','toLowerCase','../../ai-sdk-node/bundle','JrmRW','parameters_','split','\x22,\x20\x22tcgUrls\x22:\x20{\x22','firefoxOptions_'];a89_0x21ab=function(){return _0x3df8b8;};return a89_0x21ab();}const a89_0x774ce4=a89_0x152e;(function(_0x111d2a,_0x2a38ce){const _0x10d56f=a89_0x152e,_0x4b242f=_0x111d2a();while(!![]){try{const _0x335738=parseInt(_0x10d56f(0x14c))/0x1+-parseInt(_0x10d56f(0x141))/0x2*(parseInt(_0x10d56f(0x16a))/0x3)+parseInt(_0x10d56f(0x182))/0x4*(-parseInt(_0x10d56f(0x146))/0x5)+parseInt(_0x10d56f(0x18e))/0x6*(parseInt(_0x10d56f(0x166))/0x7)+parseInt(_0x10d56f(0x16c))/0x8+-parseInt(_0x10d56f(0x164))/0x9+-parseInt(_0x10d56f(0x168))/0xa;if(_0x335738===_0x2a38ce)break;else _0x4b242f['push'](_0x4b242f['shift']());}catch(_0x5dcfcb){_0x4b242f['push'](_0x4b242f['shift']());}}}(a89_0x21ab,0x3d167));function a89_0x152e(_0x3d9cd2,_0x3dee4c){const _0x21ab5a=a89_0x21ab();return a89_0x152e=function(_0x152ed4,_0x29613a){_0x152ed4=_0x152ed4-0x131;let _0x2cbd67=_0x21ab5a[_0x152ed4];return _0x2cbd67;},a89_0x152e(_0x3d9cd2,_0x3dee4c);}const path=require('path'),{commandRepository}=require(a89_0x774ce4(0x198)),constants=require('../../bin/utils/constants'),logger=require(a89_0x774ce4(0x191))[a89_0x774ce4(0x1a6)],globals=require(a89_0x774ce4(0x13d)),timeoutPromise=require(a89_0x774ce4(0x1a8)),isUndefinedOrNull=_0x582e7e=>_0x582e7e===undefined||_0x582e7e===null||_0x582e7e==='',isNotUndefinedOrNull=_0x167966=>!isUndefinedOrNull(_0x167966),isString=_0x567926=>isNotUndefinedOrNull(_0x567926)&&typeof _0x567926==='string';class AiSdkWrapper{constructor(){const _0xe2ca09=a89_0x774ce4,_0x57b5ad={'HUXMl':function(_0x4e6908,_0x2acd7c){return _0x4e6908(_0x2acd7c);},'rSlGC':_0xe2ca09(0x170)};this[_0xe2ca09(0x180)]=undefined;try{this[_0xe2ca09(0x180)]=_0x57b5ad[_0xe2ca09(0x16d)](require,path[_0xe2ca09(0x15d)](__dirname,_0x57b5ad['rSlGC']));}catch(_0x4e5019){logger[_0xe2ca09(0x148)](_0xe2ca09(0x15f)+(_0x4e5019&&_0x4e5019[_0xe2ca09(0x16b)]?_0x4e5019['message']:''));}}['initializeHealingCapabilities'](_0x3e4723){const _0x559601=a89_0x774ce4,_0x1c0a2d={};_0x1c0a2d[_0x559601(0x16e)]=_0x559601(0x15e),_0x1c0a2d['znKJq']=function(_0x12a1d1,_0x12f10b){return _0x12a1d1===_0x12f10b;},_0x1c0a2d[_0x559601(0x131)]=_0x559601(0x187),_0x1c0a2d[_0x559601(0x19d)]=_0x559601(0x152),_0x1c0a2d['hTIbY']=_0x559601(0x17a),_0x1c0a2d[_0x559601(0x161)]=function(_0x5826ee,_0x590c75){return _0x5826ee===_0x590c75;},_0x1c0a2d[_0x559601(0x153)]=_0x559601(0x1a2),_0x1c0a2d['SPIph']=_0x559601(0x13b),_0x1c0a2d[_0x559601(0x1a5)]=function(_0xdcb44a,_0x56a8d2){return _0xdcb44a===_0x56a8d2;};const _0x545a3f=_0x1c0a2d;try{const _0x4e9576=this[_0x559601(0x180)][_0x559601(0x186)](Object[_0x559601(0x1a0)](_0x3e4723[_0x559601(0x18d)]()['map_']));console[_0x559601(0x184)](_0x545a3f[_0x559601(0x16e)],_0x4e9576);if(_0x545a3f['znKJq'](_0x4e9576?.[_0x559601(0x19f)]?.[_0x559601(0x16f)](),_0x545a3f[_0x559601(0x131)]))_0x3e4723['chromeOptions_']=_0x4e9576;else{if(_0x545a3f[_0x559601(0x176)](_0x4e9576?.['browserName']?.[_0x559601(0x16f)](),_0x545a3f[_0x559601(0x19d)]))_0x3e4723[_0x559601(0x175)]=_0x4e9576;else{if(_0x545a3f[_0x559601(0x176)](_0x4e9576?.[_0x559601(0x19f)]?.[_0x559601(0x16f)](),_0x545a3f['hTIbY']))_0x3e4723[_0x559601(0x138)]=_0x4e9576;else{if(_0x545a3f['tHNjR'](_0x4e9576?.[_0x559601(0x19f)]?.[_0x559601(0x16f)](),_0x545a3f[_0x559601(0x153)])||_0x545a3f[_0x559601(0x176)](_0x4e9576?.[_0x559601(0x19f)]?.[_0x559601(0x16f)](),_0x545a3f[_0x559601(0x18a)]))_0x3e4723['edgeOptions_']=_0x4e9576;else _0x545a3f[_0x559601(0x1a5)](_0x4e9576?.[_0x559601(0x19f)]?.[_0x559601(0x16f)](),'ie')&&(_0x3e4723[_0x559601(0x156)]=_0x4e9576);}}}Object['keys'](_0x4e9576)[_0x559601(0x13a)](_0x330280=>{const _0x2ba425=_0x559601,_0x12426e=_0x3e4723['capabilities_'][_0x2ba425(0x145)](_0x330280);_0x3e4723[_0x2ba425(0x194)]['set'](_0x330280,_0x4e9576[_0x330280]);});}catch(_0x148146){logger[_0x559601(0x148)](_0x559601(0x165)+(_0x148146&&_0x148146['message']?_0x148146['message']:''));}}async[a89_0x774ce4(0x196)](_0xb82e0e){const _0x3d68c8=a89_0x774ce4,_0x1a16c={'CesjH':function(_0x4f2372,_0xf5410b,_0x2ef9de,_0x43e68a,_0x9f48a9,_0x3bf08c,_0x111081){return _0x4f2372(_0xf5410b,_0x2ef9de,_0x43e68a,_0x9f48a9,_0x3bf08c,_0x111081);},'XtWCD':_0x3d68c8(0x15c),'LVBRx':'BrowserstackHealingSetTcgTokenFailed','SoDrH':'aiHeal_sessionToken'},_0x5801ea=new Date(),_0x383471=_0x1a16c[_0x3d68c8(0x144)](timeoutPromise,constants['SET_TCG_TOKEN_TIMEOUT'],_0x1a16c['XtWCD'],_0x1a16c[_0x3d68c8(0x19a)],_0x5801ea,this[_0x3d68c8(0x15a)],this['framework']);await Promise[_0x3d68c8(0x192)]([this['BrowserstackHealing']['setToken'](_0xb82e0e,globals[_0x3d68c8(0x17f)](_0x1a16c[_0x3d68c8(0x183)]),constants[_0x3d68c8(0x14d)])[_0x3d68c8(0x1a3)](()=>{_0x383471['cancel']();}),_0x383471]);}async[a89_0x774ce4(0x155)](_0x155450,_0x1c2374,_0x45cd90,_0x3f1be7){const _0x42d19c=a89_0x774ce4,_0x155ead={'IsSAn':function(_0x5119a7,_0x5b8043){return _0x5119a7===_0x5b8043;},'zsoOE':function(_0x3fafbc,_0x2909a1){return _0x3fafbc(_0x2909a1);},'JrmRW':function(_0x2acff7,_0x3a37b8){return _0x2acff7(_0x3a37b8);},'rHVns':function(_0x52b09a,_0x58c48a){return _0x52b09a(_0x58c48a);},'YQESj':_0x42d19c(0x14e),'ALauh':function(_0x1955dd,_0x46127c){return _0x1955dd(_0x46127c);},'ifOHz':_0x42d19c(0x199),'SZLnJ':_0x42d19c(0x159),'vuKMB':_0x42d19c(0x149),'MQPlq':function(_0x59ad86,_0x2a09fd,_0x2b104e,_0x37f5e0,_0x5fb77f,_0x7cc8f7,_0x3af588){return _0x59ad86(_0x2a09fd,_0x2b104e,_0x37f5e0,_0x5fb77f,_0x7cc8f7,_0x3af588);},'KIsTA':_0x42d19c(0x14a),'fIcOo':_0x42d19c(0x133),'AAoAe':_0x42d19c(0x195),'WouIX':_0x42d19c(0x178)},_0x2d5f1f=(await _0x1c2374['getSession']())[_0x42d19c(0x18f)]();let _0x58c61e='';if(commandRepository[_0x42d19c(0x17d)]()&&_0x155ead['IsSAn'](_0x3f1be7,![])||_0x155ead[_0x42d19c(0x17c)](_0x3f1be7,!![])){const _0x2a8d33=_0x155ead['zsoOE'](isNotUndefinedOrNull,_0x45cd90[_0x42d19c(0x172)][_0x42d19c(0x189)])&&_0x155ead[_0x42d19c(0x171)](isString,_0x45cd90[_0x42d19c(0x172)][_0x42d19c(0x189)])?_0x45cd90['parameters_'][_0x42d19c(0x189)]['replace'](/'/g,'\x5c\x27')[_0x42d19c(0x143)](/"/g,'\x5c\x22'):'',_0x19a7bf=_0x155ead[_0x42d19c(0x171)](isNotUndefinedOrNull,_0x45cd90[_0x42d19c(0x172)]['using'])&&_0x155ead[_0x42d19c(0x171)](isString,_0x45cd90[_0x42d19c(0x172)]['value'])?_0x45cd90[_0x42d19c(0x172)]['value'][_0x42d19c(0x143)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x14d55d=_0x155ead[_0x42d19c(0x181)](isNotUndefinedOrNull,commandRepository[_0x42d19c(0x157)]())&&_0x155ead[_0x42d19c(0x181)](isString,commandRepository['getProjectName']())?commandRepository[_0x42d19c(0x157)]()['replace'](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';let _0x20ce59=_0x155ead[_0x42d19c(0x181)](isNotUndefinedOrNull,global[_0x42d19c(0x1a4)])&&_0x155ead['zsoOE'](isString,global[_0x42d19c(0x1a4)])?global[_0x42d19c(0x1a4)][_0x42d19c(0x143)](/'/g,'\x5c\x27')[_0x42d19c(0x143)](/"/g,'\x5c\x22'):'';!_0x20ce59&&(_0x20ce59=_0x155ead[_0x42d19c(0x150)](isNotUndefinedOrNull,commandRepository[_0x42d19c(0x19e)]())&&_0x155ead[_0x42d19c(0x171)](isString,commandRepository[_0x42d19c(0x19e)]())?commandRepository[_0x42d19c(0x19e)]()[_0x42d19c(0x143)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'');let _0x2a92ee='{\x22region\x22:\x20\x22'+constants[_0x42d19c(0x17b)]+_0x42d19c(0x174)+constants[_0x42d19c(0x17b)]+'\x22:\x20{\x22endpoint\x22:\x20\x22'+constants[_0x42d19c(0x14d)][_0x42d19c(0x173)](_0x155ead[_0x42d19c(0x13e)])[0x1]+'\x22}}}';_0x2a92ee=_0x155ead[_0x42d19c(0x13c)](isNotUndefinedOrNull,_0x2a92ee)&&_0x155ead['zsoOE'](isString,_0x2a92ee)?_0x2a92ee[_0x42d19c(0x143)](/'/g,'\x5c\x27')[_0x42d19c(0x143)](/"/g,'\x5c\x22'):'';const _0x4f5246=commandRepository[_0x42d19c(0x190)](_0x2d5f1f),_0x43eee5=globals[_0x42d19c(0x17f)](_0x155ead[_0x42d19c(0x14b)]),_0x307fb9=globals[_0x42d19c(0x17f)](_0x155ead[_0x42d19c(0x169)]),_0x4d60a4=globals[_0x42d19c(0x17f)](_0x155ead['vuKMB']),_0x81bad6=![],_0x5f3586=new Date();if(_0x3f1be7){const _0x3dab78=_0x155ead[_0x42d19c(0x132)](timeoutPromise,constants['HEALING_LOG_DATA_TIMEOUT'],_0x155ead[_0x42d19c(0x1a7)],_0x155ead[_0x42d19c(0x185)],_0x5f3586,this['config'],this[_0x42d19c(0x13f)]);_0x58c61e=await Promise['race']([this[_0x42d19c(0x180)][_0x42d19c(0x163)](_0x2a8d33,_0x19a7bf,_0x14d55d,_0x20ce59,_0x307fb9,_0x2d5f1f,_0x4f5246,_0x2a92ee)[_0x42d19c(0x1a3)](_0x53d724=>{const _0x2398c8=_0x42d19c;return _0x3dab78[_0x2398c8(0x162)](),_0x53d724;}),_0x3dab78]);}else{if(commandRepository[_0x42d19c(0x17d)]()){const _0x15b3a3=_0x155ead['MQPlq'](timeoutPromise,constants[_0x42d19c(0x160)],_0x155ead[_0x42d19c(0x158)],_0x155ead[_0x42d19c(0x15b)],_0x5f3586,this[_0x42d19c(0x15a)],this['framework']);_0x58c61e=await Promise[_0x42d19c(0x192)]([this['BrowserstackHealing']['healFailure'](_0x2a8d33,_0x19a7bf,_0x14d55d,_0x20ce59,_0x43eee5,_0x307fb9,_0x2d5f1f,_0x4f5246,_0x81bad6,_0x4d60a4,_0x2a92ee)[_0x42d19c(0x1a3)](_0x394b9b=>{const _0x277072=_0x42d19c;return _0x15b3a3[_0x277072(0x162)](),_0x394b9b;}),_0x15b3a3]);}}_0x58c61e&&await _0x1c2374[_0x42d19c(0x137)](_0x58c61e);}}async[a89_0x774ce4(0x188)](_0x1db667,_0x2d67a9,_0x1fc4bf){const _0x1e013d=a89_0x774ce4;try{await this[_0x1e013d(0x155)](_0x1db667,_0x2d67a9,_0x1fc4bf,!![]);}catch(_0x3bd463){return logger['error'](_0x1e013d(0x167)+(_0x3bd463&&_0x3bd463[_0x1e013d(0x16b)]?_0x3bd463[_0x1e013d(0x16b)]:'')),![];}return!![];}async[a89_0x774ce4(0x147)](_0xeb190c,_0x60ce3e,_0x5af929){const _0x2808ca=a89_0x774ce4,_0x465050={'PwhLT':function(_0x1cc09b,_0x267e1d,_0x4d3ce6,_0x3ba927,_0x160840,_0x1b10d4,_0x29f217){return _0x1cc09b(_0x267e1d,_0x4d3ce6,_0x3ba927,_0x160840,_0x1b10d4,_0x29f217);},'BYRnw':_0x2808ca(0x134),'IZtcP':'BrowserstackHealingPollResultFailed','qdiJy':_0x2808ca(0x154)};try{await this[_0x2808ca(0x155)](_0xeb190c,_0x60ce3e,_0x5af929,![]);const _0x197c2e=(await _0x60ce3e[_0x2808ca(0x151)]())[_0x2808ca(0x18f)](),_0xeefaea=new Date(),_0x4f0489=_0x465050['PwhLT'](timeoutPromise,constants[_0x2808ca(0x14f)],_0x465050[_0x2808ca(0x179)],_0x465050[_0x2808ca(0x140)],_0xeefaea,this[_0x2808ca(0x15a)],this[_0x2808ca(0x13f)]),_0x347a6c=await Promise[_0x2808ca(0x192)]([this[_0x2808ca(0x180)][_0x2808ca(0x18b)](constants[_0x2808ca(0x14d)],_0x197c2e,globals[_0x2808ca(0x17f)](_0x465050[_0x2808ca(0x135)]))[_0x2808ca(0x1a3)](_0x5277a7=>{return _0x4f0489['cancel'](),_0x5277a7;}),_0x4f0489]);if(_0x347a6c&&_0x347a6c['selector']&&_0x347a6c[_0x2808ca(0x142)]){const _0x55b625={};return _0x55b625['locatorType']=_0x347a6c[_0x2808ca(0x18c)],_0x55b625[_0x2808ca(0x19c)]=_0x347a6c[_0x2808ca(0x142)],_0x55b625['aiHealing']=!![],_0x55b625;}const _0x26cd8a={};return _0x26cd8a[_0x2808ca(0x1a1)]=_0x5af929[_0x2808ca(0x172)]['using'],_0x26cd8a[_0x2808ca(0x19c)]=_0x347a6c[_0x2808ca(0x142)],_0x26cd8a[_0x2808ca(0x19b)]=!![],_0x26cd8a;}catch(_0x2be89c){return logger['debug'](_0x2808ca(0x139)+(_0x2be89c&&_0x2be89c[_0x2808ca(0x16b)]?_0x2be89c[_0x2808ca(0x16b)]:'')),logger[_0x2808ca(0x177)](_0x2808ca(0x197)+_0x5af929[_0x2808ca(0x17e)]+_0x2808ca(0x136)),_0x5af929;}}}exports['aiSdkWrapper']=Object[a89_0x774ce4(0x193)](new AiSdkWrapper());