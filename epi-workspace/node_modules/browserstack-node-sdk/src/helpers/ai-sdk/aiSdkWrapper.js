const a59_0x503e88=a59_0xf4cd;(function(_0x4490f2,_0x1fce0b){const _0x3e9cc9=a59_0xf4cd,_0x5d9ac9=_0x4490f2();while(!![]){try{const _0x36a438=parseInt(_0x3e9cc9(0x1cf))/0x1*(parseInt(_0x3e9cc9(0x1db))/0x2)+parseInt(_0x3e9cc9(0x1e1))/0x3*(parseInt(_0x3e9cc9(0x1b4))/0x4)+-parseInt(_0x3e9cc9(0x1fc))/0x5+parseInt(_0x3e9cc9(0x1f2))/0x6+-parseInt(_0x3e9cc9(0x1ee))/0x7*(-parseInt(_0x3e9cc9(0x1a9))/0x8)+parseInt(_0x3e9cc9(0x207))/0x9*(parseInt(_0x3e9cc9(0x1c8))/0xa)+-parseInt(_0x3e9cc9(0x1d1))/0xb;if(_0x36a438===_0x1fce0b)break;else _0x5d9ac9['push'](_0x5d9ac9['shift']());}catch(_0x352a1a){_0x5d9ac9['push'](_0x5d9ac9['shift']());}}}(a59_0x4d9e,0x8a875));function a59_0xf4cd(_0x580db5,_0x5cb809){const _0x4d9e67=a59_0x4d9e();return a59_0xf4cd=function(_0xf4cdf7,_0x16cdd2){_0xf4cdf7=_0xf4cdf7-0x199;let _0x31587f=_0x4d9e67[_0xf4cdf7];return _0x31587f;},a59_0xf4cd(_0x580db5,_0x5cb809);}const path=require('path'),{commandRepository}=require(a59_0x503e88(0x209)),constants=require('../../bin/utils/constants'),logger=require(a59_0x503e88(0x1ec))['winstonLogger'],globals=require(a59_0x503e88(0x1da)),timeoutPromise=require(a59_0x503e88(0x1a1)),isUndefinedOrNull=_0x46ba94=>_0x46ba94===undefined||_0x46ba94===null||_0x46ba94==='',isNotUndefinedOrNull=_0x23b02d=>!isUndefinedOrNull(_0x23b02d),isString=_0x1828e0=>isNotUndefinedOrNull(_0x1828e0)&&typeof _0x1828e0===a59_0x503e88(0x1d9);class AiSdkWrapper{constructor(){const _0x805f9e=a59_0x503e88,_0x137738={'sEVUx':function(_0x1c78c7,_0x5698a1){return _0x1c78c7(_0x5698a1);},'ojoZi':_0x805f9e(0x1c6)};this[_0x805f9e(0x204)]=undefined;try{this[_0x805f9e(0x204)]=_0x137738[_0x805f9e(0x1ca)](require,path[_0x805f9e(0x19e)](__dirname,_0x137738[_0x805f9e(0x1eb)]));}catch(_0x3001cf){logger[_0x805f9e(0x1f0)]('Unable\x20to\x20load\x20healing\x20module,\x20error:\x20'+(_0x3001cf&&_0x3001cf[_0x805f9e(0x215)]?_0x3001cf['message']:''));}}[a59_0x503e88(0x202)](_0x1622b1){const _0x334bf6=a59_0x503e88,_0x389976={};_0x389976[_0x334bf6(0x1ce)]=_0x334bf6(0x1e3),_0x389976[_0x334bf6(0x1ac)]=function(_0x25af70,_0x2ee5b9){return _0x25af70===_0x2ee5b9;},_0x389976[_0x334bf6(0x216)]='chrome',_0x389976[_0x334bf6(0x1c5)]=_0x334bf6(0x1e7),_0x389976[_0x334bf6(0x1b1)]=function(_0x59092b,_0x27a308){return _0x59092b===_0x27a308;},_0x389976[_0x334bf6(0x203)]=_0x334bf6(0x1cd),_0x389976[_0x334bf6(0x1d0)]=_0x334bf6(0x1ff),_0x389976['QnjEP']='microsoftedge',_0x389976[_0x334bf6(0x1a6)]=function(_0x15ca4d,_0x45d19c){return _0x15ca4d===_0x45d19c;};const _0x37a2fc=_0x389976;try{const _0x4f9ae9=this['BrowserstackHealing'][_0x334bf6(0x1f6)](Object[_0x334bf6(0x1ba)](_0x1622b1[_0x334bf6(0x1e0)]()[_0x334bf6(0x1bd)]));console[_0x334bf6(0x1d4)](_0x37a2fc['tVURn'],_0x4f9ae9);if(_0x37a2fc[_0x334bf6(0x1ac)](_0x4f9ae9?.['browserName']?.[_0x334bf6(0x1d6)](),_0x37a2fc['jpkua']))_0x1622b1[_0x334bf6(0x19c)]=_0x4f9ae9;else{if(_0x37a2fc['TeuPv'](_0x4f9ae9?.[_0x334bf6(0x205)]?.['toLowerCase'](),_0x37a2fc[_0x334bf6(0x1c5)]))_0x1622b1[_0x334bf6(0x1b3)]=_0x4f9ae9;else{if(_0x37a2fc['PLqiv'](_0x4f9ae9?.['browserName']?.[_0x334bf6(0x1d6)](),_0x37a2fc[_0x334bf6(0x203)]))_0x1622b1[_0x334bf6(0x1ae)]=_0x4f9ae9;else{if(_0x37a2fc[_0x334bf6(0x1ac)](_0x4f9ae9?.['browserName']?.['toLowerCase'](),_0x37a2fc[_0x334bf6(0x1d0)])||_0x37a2fc[_0x334bf6(0x1ac)](_0x4f9ae9?.[_0x334bf6(0x205)]?.[_0x334bf6(0x1d6)](),_0x37a2fc[_0x334bf6(0x1be)]))_0x1622b1[_0x334bf6(0x1ef)]=_0x4f9ae9;else _0x37a2fc['uAlWR'](_0x4f9ae9?.['browserName']?.[_0x334bf6(0x1d6)](),'ie')&&(_0x1622b1[_0x334bf6(0x1b2)]=_0x4f9ae9);}}}Object[_0x334bf6(0x1ad)](_0x4f9ae9)[_0x334bf6(0x19d)](_0x5397fc=>{const _0x1435c2=_0x334bf6,_0x488461=_0x1622b1[_0x1435c2(0x1f4)]['get'](_0x5397fc);_0x1622b1[_0x1435c2(0x1f4)][_0x1435c2(0x19f)](_0x5397fc,_0x4f9ae9[_0x5397fc]);});}catch(_0x42419b){logger[_0x334bf6(0x1f0)](_0x334bf6(0x1e2)+(_0x42419b&&_0x42419b[_0x334bf6(0x215)]?_0x42419b[_0x334bf6(0x215)]:''));}}async[a59_0x503e88(0x20f)](_0x1cd5de){const _0x15b3ad=a59_0x503e88,_0x301594={'vNfRh':function(_0x3c53c9,_0x2eb219,_0x21f122,_0xd098da,_0x2a1b0d,_0x64e738,_0x4323ad){return _0x3c53c9(_0x2eb219,_0x21f122,_0xd098da,_0x2a1b0d,_0x64e738,_0x4323ad);},'IduYi':_0x15b3ad(0x211),'DGrdk':'BrowserstackHealingSetTcgTokenFailed','UprHX':'aiHeal_sessionToken'},_0x3fd6f4=new Date(),_0x59669e=_0x301594[_0x15b3ad(0x1b9)](timeoutPromise,constants[_0x15b3ad(0x201)],_0x301594[_0x15b3ad(0x1f7)],_0x301594[_0x15b3ad(0x1e8)],_0x3fd6f4,this[_0x15b3ad(0x1ed)],this[_0x15b3ad(0x214)]);await Promise[_0x15b3ad(0x1f5)]([this[_0x15b3ad(0x204)][_0x15b3ad(0x1df)](_0x1cd5de,globals['getGlobal'](_0x301594['UprHX']),constants[_0x15b3ad(0x1ea)])['then'](()=>{_0x59669e['cancel']();}),_0x59669e]);}async[a59_0x503e88(0x1c3)](_0x8eb281,_0xa1c29,_0x3ed797,_0x44ab47){const _0x250a57=a59_0x503e88,_0x2c1dcb={'OEHoM':function(_0x449136,_0x4e0782){return _0x449136===_0x4e0782;},'JayeO':function(_0x464ae5,_0x54bd3d){return _0x464ae5===_0x54bd3d;},'CYuNi':function(_0xbc3c69,_0x381b8b){return _0xbc3c69(_0x381b8b);},'KaSGR':function(_0xda7527,_0x5364a9){return _0xda7527(_0x5364a9);},'omcfi':function(_0x1e68da,_0x5ee950){return _0x1e68da(_0x5ee950);},'KmLSs':function(_0x151786,_0xe97326){return _0x151786(_0xe97326);},'MWoSF':function(_0x418d62,_0x22d14a){return _0x418d62(_0x22d14a);},'aBxSr':function(_0x57cffc,_0x1d997f){return _0x57cffc(_0x1d997f);},'ePYRn':_0x250a57(0x1f8),'dFfcH':function(_0x3235f3,_0x2d2e44){return _0x3235f3(_0x2d2e44);},'NuipZ':'aiHeal_userId','rroYc':_0x250a57(0x1bb),'ZwShP':_0x250a57(0x1dd),'aiUVV':function(_0x46d8fd,_0x182eb2,_0x24de30,_0x6c3196,_0x4a988b,_0x816213,_0x4cbc46){return _0x46d8fd(_0x182eb2,_0x24de30,_0x6c3196,_0x4a988b,_0x816213,_0x4cbc46);},'ojwDn':_0x250a57(0x1a3),'tKrUg':_0x250a57(0x20b),'VSpJj':function(_0x3294cc,_0x1ed750,_0x4ae6d5,_0x3b0156,_0x19a7a9,_0x1b8396,_0x32d7ff){return _0x3294cc(_0x1ed750,_0x4ae6d5,_0x3b0156,_0x19a7a9,_0x1b8396,_0x32d7ff);},'afrgF':_0x250a57(0x212),'NbGTo':_0x250a57(0x1b8)},_0x44b5d5=(await _0xa1c29[_0x250a57(0x19b)]())[_0x250a57(0x1fa)]();let _0x4ad732='';if(commandRepository[_0x250a57(0x1fd)]()&&_0x2c1dcb[_0x250a57(0x1c7)](_0x44ab47,![])||_0x2c1dcb['JayeO'](_0x44ab47,!![])){const _0x318e3a=_0x2c1dcb[_0x250a57(0x1b5)](isNotUndefinedOrNull,_0x3ed797[_0x250a57(0x20c)][_0x250a57(0x1f3)])&&_0x2c1dcb[_0x250a57(0x1b5)](isString,_0x3ed797[_0x250a57(0x20c)][_0x250a57(0x1f3)])?_0x3ed797[_0x250a57(0x20c)][_0x250a57(0x1f3)][_0x250a57(0x1de)](/'/g,'\x5c\x27')[_0x250a57(0x1de)](/"/g,'\x5c\x22'):'',_0x1329af=_0x2c1dcb[_0x250a57(0x1b5)](isNotUndefinedOrNull,_0x3ed797[_0x250a57(0x20c)][_0x250a57(0x1f3)])&&_0x2c1dcb[_0x250a57(0x1b5)](isString,_0x3ed797[_0x250a57(0x20c)][_0x250a57(0x200)])?_0x3ed797[_0x250a57(0x20c)][_0x250a57(0x200)][_0x250a57(0x1de)](/'/g,'\x5c\x27')[_0x250a57(0x1de)](/"/g,'\x5c\x22'):'',_0x20c305=_0x2c1dcb[_0x250a57(0x1a4)](isNotUndefinedOrNull,commandRepository[_0x250a57(0x1d2)]())&&_0x2c1dcb[_0x250a57(0x208)](isString,commandRepository['getProjectName']())?commandRepository[_0x250a57(0x1d2)]()['replace'](/'/g,'\x5c\x27')[_0x250a57(0x1de)](/"/g,'\x5c\x22'):'';let _0x52517b=_0x2c1dcb['KmLSs'](isNotUndefinedOrNull,global[_0x250a57(0x1c0)])&&_0x2c1dcb[_0x250a57(0x199)](isString,global['browserstackSessionName'])?global[_0x250a57(0x1c0)]['replace'](/'/g,'\x5c\x27')[_0x250a57(0x1de)](/"/g,'\x5c\x22'):'';!_0x52517b&&(_0x52517b=_0x2c1dcb[_0x250a57(0x208)](isNotUndefinedOrNull,commandRepository['getTestName']())&&_0x2c1dcb[_0x250a57(0x210)](isString,commandRepository[_0x250a57(0x1aa)]())?commandRepository[_0x250a57(0x1aa)]()['replace'](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'');let _0x299b18='{\x22region\x22:\x20\x22'+constants['TCG_REGION']+_0x250a57(0x1ab)+constants[_0x250a57(0x1d8)]+_0x250a57(0x1a7)+constants[_0x250a57(0x1ea)][_0x250a57(0x1e4)](_0x2c1dcb['ePYRn'])[0x1]+_0x250a57(0x1a8);_0x299b18=_0x2c1dcb['dFfcH'](isNotUndefinedOrNull,_0x299b18)&&_0x2c1dcb[_0x250a57(0x1b7)](isString,_0x299b18)?_0x299b18[_0x250a57(0x1de)](/'/g,'\x5c\x27')[_0x250a57(0x1de)](/"/g,'\x5c\x22'):'';const _0x5ac718=commandRepository[_0x250a57(0x1a0)](_0x44b5d5),_0x37c149=globals[_0x250a57(0x1d5)](_0x2c1dcb[_0x250a57(0x1b0)]),_0x48f95f=globals[_0x250a57(0x1d5)](_0x2c1dcb[_0x250a57(0x1d7)]),_0x1a958f=globals[_0x250a57(0x1d5)](_0x2c1dcb[_0x250a57(0x213)]),_0x2df401=![],_0x52762c=new Date();if(_0x44ab47){const _0x4162f1=_0x2c1dcb['aiUVV'](timeoutPromise,constants[_0x250a57(0x206)],_0x2c1dcb['ojwDn'],_0x2c1dcb[_0x250a57(0x1a2)],_0x52762c,this[_0x250a57(0x1ed)],this['framework']);_0x4ad732=await Promise[_0x250a57(0x1f5)]([this[_0x250a57(0x204)][_0x250a57(0x1c2)](_0x318e3a,_0x1329af,_0x20c305,_0x52517b,_0x48f95f,_0x44b5d5,_0x5ac718,_0x299b18)['then'](_0x5d9ccd=>{const _0x440e1a=_0x250a57;return _0x4162f1[_0x440e1a(0x1f9)](),_0x5d9ccd;}),_0x4162f1]);}else{if(commandRepository[_0x250a57(0x1fd)]()){const _0x1c9ab=_0x2c1dcb[_0x250a57(0x1cc)](timeoutPromise,constants[_0x250a57(0x1e6)],_0x2c1dcb['afrgF'],_0x2c1dcb['NbGTo'],_0x52762c,this[_0x250a57(0x1ed)],this[_0x250a57(0x214)]);_0x4ad732=await Promise['race']([this[_0x250a57(0x204)][_0x250a57(0x1bf)](_0x318e3a,_0x1329af,_0x20c305,_0x52517b,_0x37c149,_0x48f95f,_0x44b5d5,_0x5ac718,_0x2df401,_0x1a958f,_0x299b18)[_0x250a57(0x1e5)](_0x11770e=>{const _0x32c25f=_0x250a57;return _0x1c9ab[_0x32c25f(0x1f9)](),_0x11770e;}),_0x1c9ab]);}}_0x4ad732&&await _0xa1c29[_0x250a57(0x1f1)](_0x4ad732);}}async[a59_0x503e88(0x1c1)](_0x112155,_0x2c0070,_0x35e504){const _0x210cfa=a59_0x503e88;try{await this[_0x210cfa(0x1c3)](_0x112155,_0x2c0070,_0x35e504,!![]);}catch(_0x3ad6b0){return logger[_0x210cfa(0x1f0)](_0x210cfa(0x1d3)+(_0x3ad6b0&&_0x3ad6b0[_0x210cfa(0x215)]?_0x3ad6b0[_0x210cfa(0x215)]:'')),![];}return!![];}async[a59_0x503e88(0x1b6)](_0xeb17cf,_0x25b2de,_0x4f134a){const _0x4de82b=a59_0x503e88,_0x69a799={'tWinz':function(_0x586d28,_0x5a7548,_0x2da780,_0x2bedf7,_0x296650,_0x272166,_0x2b0968){return _0x586d28(_0x5a7548,_0x2da780,_0x2bedf7,_0x296650,_0x272166,_0x2b0968);},'KUkYz':_0x4de82b(0x1c4),'wfHoR':'BrowserstackHealingPollResultFailed','yKLuu':'aiHeal_sessionToken'};try{await this[_0x4de82b(0x1c3)](_0xeb17cf,_0x25b2de,_0x4f134a,![]);const _0x502686=(await _0x25b2de[_0x4de82b(0x19b)]())[_0x4de82b(0x1fa)](),_0x19e6c7=new Date(),_0xd1cbdc=_0x69a799[_0x4de82b(0x1dc)](timeoutPromise,constants['POLL_HEALING_RESULT_TIMEOUT'],_0x69a799['KUkYz'],_0x69a799[_0x4de82b(0x1a5)],_0x19e6c7,this[_0x4de82b(0x1ed)],this['framework']),_0x48b5f5=await Promise[_0x4de82b(0x1f5)]([this['BrowserstackHealing'][_0x4de82b(0x19a)](constants[_0x4de82b(0x1ea)],_0x502686,globals['getGlobal'](_0x69a799['yKLuu']))[_0x4de82b(0x1e5)](_0x886249=>{const _0x545087=_0x4de82b;return _0xd1cbdc[_0x545087(0x1f9)](),_0x886249;}),_0xd1cbdc]);if(_0x48b5f5&&_0x48b5f5['selector']&&_0x48b5f5[_0x4de82b(0x200)]){const _0x4886f3={};return _0x4886f3[_0x4de82b(0x1fb)]=_0x48b5f5[_0x4de82b(0x1e9)],_0x4886f3[_0x4de82b(0x1cb)]=_0x48b5f5['value'],_0x4886f3[_0x4de82b(0x1fe)]=!![],_0x4886f3;}const _0x4a7cfd={};return _0x4a7cfd[_0x4de82b(0x1fb)]=_0x4f134a[_0x4de82b(0x20c)][_0x4de82b(0x1f3)],_0x4a7cfd['locatorValue']=_0x48b5f5['value'],_0x4a7cfd[_0x4de82b(0x1fe)]=!![],_0x4a7cfd;}catch(_0x3a516e){return logger[_0x4de82b(0x20a)](_0x4de82b(0x1bc)+(_0x3a516e&&_0x3a516e[_0x4de82b(0x215)]?_0x3a516e[_0x4de82b(0x215)]:'')),logger['info']('Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20'+_0x4f134a[_0x4de82b(0x1af)]+_0x4de82b(0x20d)),_0x4f134a;}}}exports[a59_0x503e88(0x20e)]=Object[a59_0x503e88(0x1c9)](new AiSdkWrapper());function a59_0x4d9e(){const _0x3630d7=['getId','locatorType','4493020LJNkPd','isSelfHealEnabled','aiHealing','edge','value','SET_TCG_TOKEN_TIMEOUT','initializeHealingCapabilities','Zxnbl','BrowserstackHealing','browserName','HEALING_LOG_DATA_TIMEOUT','405BlvbVG','omcfi','./autoHealHelper','debug','BrowserstackHealingLogDataFailed','parameters_','\x20command','aiSdkWrapper','setTcgToken','aBxSr','BrowserstackHealing.setToken\x20method\x20timed\x20out','BrowserstackHealing.healFailure\x20method\x20timed\x20out','ZwShP','framework','message','jpkua','MWoSF','pollResult','getSession','chromeOptions_','forEach','join','set','getCommands','../../helpers/timeoutPromise','tKrUg','BrowserstackHealing.logData\x20method\x20timed\x20out','KaSGR','wfHoR','uAlWR','\x22:\x20{\x22endpoint\x22:\x20\x22','\x22}}}','668024AgAjBF','getTestName','\x22,\x20\x22tcgUrls\x22:\x20{\x22','TeuPv','keys','safariOptions_','name_','NuipZ','PLqiv','ieOptions_','firefoxOptions_','776ksaVFs','CYuNi','handleFailure','dFfcH','BrowserstackHealingHealFailureFailed','vNfRh','fromEntries','aiHeal_groupId','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','map_','QnjEP','healFailure','browserstackSessionName','handleSuccess','logData','_handleEvent','BrowserstackHealing.pollResult\x20method\x20timed\x20out','XaSeL','../../ai-sdk-node/bundle','OEHoM','22490ImLkGG','freeze','sEVUx','locatorValue','VSpJj','safari','tVURn','1229GRcRNO','lJLzj','23268762JdyKyf','getProjectName','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','log','getGlobal','toLowerCase','rroYc','TCG_REGION','string','../globals','1214MStIZp','tWinz','aiHeal_isGroupAIEnabled','replace','setToken','getCapabilities','9873CjhRTQ','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','newCapabilities','split','then','HEALING_FAILURE_TIMEOUT','firefox','DGrdk','selector','TCG_URL','ojoZi','../logger','config','91OEBNBi','edgeOptions_','error','executeScript','6060948gyEHIH','using','capabilities_','race','initializeCapabilities','IduYi','s://','cancel'];a59_0x4d9e=function(){return _0x3630d7;};return a59_0x4d9e();}