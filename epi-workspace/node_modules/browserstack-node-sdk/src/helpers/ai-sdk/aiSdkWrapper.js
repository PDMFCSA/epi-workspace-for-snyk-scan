const a99_0x1a5657=a99_0x53e0;function a99_0x53e0(_0x2f07ec,_0x213122){const _0x2b6e5e=a99_0x2b6e();return a99_0x53e0=function(_0x53e063,_0x5921d7){_0x53e063=_0x53e063-0xa3;let _0x2abc8f=_0x2b6e5e[_0x53e063];return _0x2abc8f;},a99_0x53e0(_0x2f07ec,_0x213122);}(function(_0x77a303,_0x4addfb){const _0x57ec71=a99_0x53e0,_0x3fdf61=_0x77a303();while(!![]){try{const _0x43cb87=-parseInt(_0x57ec71(0xb6))/0x1+parseInt(_0x57ec71(0xf8))/0x2+-parseInt(_0x57ec71(0xce))/0x3+parseInt(_0x57ec71(0xb3))/0x4*(-parseInt(_0x57ec71(0xde))/0x5)+parseInt(_0x57ec71(0xf0))/0x6*(parseInt(_0x57ec71(0xbe))/0x7)+-parseInt(_0x57ec71(0x100))/0x8+parseInt(_0x57ec71(0xc2))/0x9;if(_0x43cb87===_0x4addfb)break;else _0x3fdf61['push'](_0x3fdf61['shift']());}catch(_0x5f19da){_0x3fdf61['push'](_0x3fdf61['shift']());}}}(a99_0x2b6e,0x78bcd));const path=require(a99_0x1a5657(0xd5)),{commandRepository}=require(a99_0x1a5657(0xac)),constants=require('../../bin/utils/constants'),logger=require('../logger')[a99_0x1a5657(0xa6)],globals=require(a99_0x1a5657(0xb0)),timeoutPromise=require(a99_0x1a5657(0x104)),isUndefinedOrNull=_0x1096df=>_0x1096df===undefined||_0x1096df===null||_0x1096df==='',isNotUndefinedOrNull=_0x58e024=>!isUndefinedOrNull(_0x58e024),isString=_0x5c1ebe=>isNotUndefinedOrNull(_0x5c1ebe)&&typeof _0x5c1ebe==='string';class AiSdkWrapper{constructor(){const _0x152dd5=a99_0x1a5657,_0x3f1015={'bTOjN':function(_0x3a4065,_0xf83959){return _0x3a4065(_0xf83959);},'AExZM':_0x152dd5(0xe6)};this[_0x152dd5(0xe2)]=undefined;try{this[_0x152dd5(0xe2)]=_0x3f1015[_0x152dd5(0xf6)](require,path[_0x152dd5(0xed)](__dirname,_0x3f1015[_0x152dd5(0xa4)]));}catch(_0x406d2b){logger['error'](_0x152dd5(0xb8)+(_0x406d2b&&_0x406d2b['message']?_0x406d2b[_0x152dd5(0x105)]:''));}}[a99_0x1a5657(0xae)](_0x12d8e1){const _0xb282ef=a99_0x1a5657,_0x5bac7b={};_0x5bac7b['ULpog']=_0xb282ef(0xad),_0x5bac7b[_0xb282ef(0xb2)]=function(_0x4e7c5b,_0x3ed7b7){return _0x4e7c5b===_0x3ed7b7;},_0x5bac7b['cDURh']='chrome',_0x5bac7b[_0xb282ef(0xdc)]='firefox',_0x5bac7b[_0xb282ef(0xfa)]=function(_0x158cd6,_0x112cf4){return _0x158cd6===_0x112cf4;},_0x5bac7b['hwmVU']=_0xb282ef(0xa7),_0x5bac7b['gxGSU']=function(_0x2b22a7,_0x514b93){return _0x2b22a7===_0x514b93;},_0x5bac7b['mjMiy']=_0xb282ef(0x110),_0x5bac7b[_0xb282ef(0x111)]=_0xb282ef(0xcb);const _0x5b975d=_0x5bac7b;try{const _0x106b8f=this['BrowserstackHealing'][_0xb282ef(0xaf)](Object[_0xb282ef(0x101)](_0x12d8e1[_0xb282ef(0xb4)]()[_0xb282ef(0x113)]));console[_0xb282ef(0xe7)](_0x5b975d[_0xb282ef(0x11a)],_0x106b8f);if(_0x5b975d[_0xb282ef(0xb2)](_0x106b8f?.[_0xb282ef(0xe1)]?.[_0xb282ef(0xd9)](),_0x5b975d[_0xb282ef(0xe0)]))_0x12d8e1[_0xb282ef(0xb5)]=_0x106b8f;else{if(_0x5b975d[_0xb282ef(0xb2)](_0x106b8f?.['browserName']?.[_0xb282ef(0xd9)](),_0x5b975d[_0xb282ef(0xdc)]))_0x12d8e1['firefoxOptions_']=_0x106b8f;else{if(_0x5b975d['jqCJQ'](_0x106b8f?.['browserName']?.[_0xb282ef(0xd9)](),_0x5b975d[_0xb282ef(0xc5)]))_0x12d8e1['safariOptions_']=_0x106b8f;else{if(_0x5b975d['gxGSU'](_0x106b8f?.[_0xb282ef(0xe1)]?.[_0xb282ef(0xd9)](),_0x5b975d['mjMiy'])||_0x5b975d[_0xb282ef(0xfa)](_0x106b8f?.[_0xb282ef(0xe1)]?.['toLowerCase'](),_0x5b975d[_0xb282ef(0x111)]))_0x12d8e1['edgeOptions_']=_0x106b8f;else _0x5b975d[_0xb282ef(0x10a)](_0x106b8f?.[_0xb282ef(0xe1)]?.[_0xb282ef(0xd9)](),'ie')&&(_0x12d8e1[_0xb282ef(0xf7)]=_0x106b8f);}}}Object['keys'](_0x106b8f)['forEach'](_0x19c25f=>{const _0x1dc591=_0xb282ef,_0x4f9be2=_0x12d8e1[_0x1dc591(0xdf)][_0x1dc591(0xab)](_0x19c25f);_0x12d8e1['capabilities_'][_0x1dc591(0xd0)](_0x19c25f,_0x106b8f[_0x19c25f]);});}catch(_0x2d309b){logger['error'](_0xb282ef(0x102)+(_0x2d309b&&_0x2d309b[_0xb282ef(0x105)]?_0x2d309b[_0xb282ef(0x105)]:''));}}async[a99_0x1a5657(0xff)](_0x4112ce){const _0x5cafbe=a99_0x1a5657,_0x4e0a29={'BYIDM':function(_0x5eeb4d,_0x1f40fa,_0x29eb40,_0x2b87ff,_0x5e6042,_0x3e16b5,_0x60bb5a){return _0x5eeb4d(_0x1f40fa,_0x29eb40,_0x2b87ff,_0x5e6042,_0x3e16b5,_0x60bb5a);},'utIiN':_0x5cafbe(0xea),'dptbf':_0x5cafbe(0xd8),'tPVMZ':_0x5cafbe(0xca)},_0x3a92bc=new Date(),_0x366ec7=_0x4e0a29[_0x5cafbe(0xd4)](timeoutPromise,constants['SET_TCG_TOKEN_TIMEOUT'],_0x4e0a29[_0x5cafbe(0xe5)],_0x4e0a29['dptbf'],_0x3a92bc,this[_0x5cafbe(0x117)],this[_0x5cafbe(0xcd)]);await Promise[_0x5cafbe(0xe3)]([this[_0x5cafbe(0xe2)][_0x5cafbe(0xdd)](_0x4112ce,globals['getGlobal'](_0x4e0a29[_0x5cafbe(0xaa)]),constants[_0x5cafbe(0xef)])['then'](()=>{_0x366ec7['cancel']();}),_0x366ec7]);}async['_handleEvent'](_0x27d087,_0x7df357,_0x4b8670,_0xb8ab8b){const _0x374710=a99_0x1a5657,_0x16b149={'ASoYH':function(_0x4d9484,_0x3ed3a){return _0x4d9484===_0x3ed3a;},'sbllE':function(_0x456b96,_0x2d9d5c){return _0x456b96===_0x2d9d5c;},'jRdSr':function(_0x135bd9,_0x5cf29b){return _0x135bd9(_0x5cf29b);},'hWxJs':function(_0x5315f6,_0x3bb694){return _0x5315f6(_0x3bb694);},'hbBqx':function(_0x28e82b,_0x627543){return _0x28e82b(_0x627543);},'buDCk':function(_0x9b7885,_0x360698){return _0x9b7885(_0x360698);},'CbZaw':function(_0x3196d5,_0xe6c6cc){return _0x3196d5(_0xe6c6cc);},'pWWcF':function(_0xa18e4,_0x26d03f){return _0xa18e4(_0x26d03f);},'PgJRe':function(_0x307038,_0x3be632){return _0x307038(_0x3be632);},'zPaMN':function(_0x16e223,_0x3636bf){return _0x16e223(_0x3636bf);},'Izhmz':_0x374710(0x107),'TLVBU':function(_0x39de01,_0x4df754){return _0x39de01(_0x4df754);},'YWMGx':_0x374710(0xf5),'VCAwQ':_0x374710(0x10e),'xFOZL':_0x374710(0xdb),'sYWeo':function(_0x5fcab0,_0x6db73c,_0x779083,_0x36028e,_0x468484,_0x491bd7,_0x2c8d02){return _0x5fcab0(_0x6db73c,_0x779083,_0x36028e,_0x468484,_0x491bd7,_0x2c8d02);},'MvMqm':'BrowserstackHealing.logData\x20method\x20timed\x20out','HJygM':'BrowserstackHealingLogDataFailed','OPQLw':function(_0x440fd1,_0x3478cf,_0x55008f,_0x276b4b,_0x4e9283,_0x51225c,_0x5afa0b){return _0x440fd1(_0x3478cf,_0x55008f,_0x276b4b,_0x4e9283,_0x51225c,_0x5afa0b);},'GOMuk':_0x374710(0xc3),'rMTAB':_0x374710(0xc6)},_0x38d94f=(await _0x7df357[_0x374710(0xb9)]())[_0x374710(0x114)]();let _0x55d491='';if(commandRepository[_0x374710(0xa9)]()&&_0x16b149[_0x374710(0xe8)](_0xb8ab8b,![])||_0x16b149[_0x374710(0x10f)](_0xb8ab8b,!![])){const _0x28860e=_0x16b149[_0x374710(0x118)](isNotUndefinedOrNull,_0x4b8670[_0x374710(0xc9)]['using'])&&_0x16b149[_0x374710(0xba)](isString,_0x4b8670['parameters_'][_0x374710(0xfd)])?_0x4b8670[_0x374710(0xc9)][_0x374710(0xfd)][_0x374710(0x115)](/'/g,'\x5c\x27')[_0x374710(0x115)](/"/g,'\x5c\x22'):'',_0x1a74ee=_0x16b149[_0x374710(0xc4)](isNotUndefinedOrNull,_0x4b8670[_0x374710(0xc9)][_0x374710(0xfd)])&&_0x16b149['buDCk'](isString,_0x4b8670[_0x374710(0xc9)][_0x374710(0xda)])?_0x4b8670[_0x374710(0xc9)][_0x374710(0xda)][_0x374710(0x115)](/'/g,'\x5c\x27')[_0x374710(0x115)](/"/g,'\x5c\x22'):'',_0x27b0e2=_0x16b149['buDCk'](isNotUndefinedOrNull,commandRepository[_0x374710(0xd6)]())&&_0x16b149['CbZaw'](isString,commandRepository[_0x374710(0xd6)]())?commandRepository[_0x374710(0xd6)]()[_0x374710(0x115)](/'/g,'\x5c\x27')[_0x374710(0x115)](/"/g,'\x5c\x22'):'';let _0x6579e1=_0x16b149[_0x374710(0xc4)](isNotUndefinedOrNull,global[_0x374710(0x10d)])&&_0x16b149[_0x374710(0xbc)](isString,global[_0x374710(0x10d)])?global[_0x374710(0x10d)]['replace'](/'/g,'\x5c\x27')[_0x374710(0x115)](/"/g,'\x5c\x22'):'';!_0x6579e1&&(_0x6579e1=_0x16b149['PgJRe'](isNotUndefinedOrNull,commandRepository[_0x374710(0xa5)]())&&_0x16b149['zPaMN'](isString,commandRepository[_0x374710(0xa5)]())?commandRepository[_0x374710(0xa5)]()[_0x374710(0x115)](/'/g,'\x5c\x27')[_0x374710(0x115)](/"/g,'\x5c\x22'):'');let _0x5d1258=_0x374710(0xb7)+constants[_0x374710(0xe4)]+_0x374710(0x109)+constants[_0x374710(0xe4)]+_0x374710(0xec)+constants[_0x374710(0xef)][_0x374710(0xc8)](_0x16b149[_0x374710(0xeb)])[0x1]+'\x22}}}';_0x5d1258=_0x16b149['TLVBU'](isNotUndefinedOrNull,_0x5d1258)&&_0x16b149['hbBqx'](isString,_0x5d1258)?_0x5d1258[_0x374710(0x115)](/'/g,'\x5c\x27')[_0x374710(0x115)](/"/g,'\x5c\x22'):'';const _0x45047f=commandRepository[_0x374710(0xc0)](_0x38d94f),_0x424a9f=globals[_0x374710(0xbb)](_0x16b149[_0x374710(0xe9)]),_0x260b83=globals[_0x374710(0xbb)](_0x16b149[_0x374710(0x119)]),_0x3292cd=globals['getGlobal'](_0x16b149['xFOZL']),_0x1f6a77=![],_0x52203a=new Date();if(_0xb8ab8b){const _0x36ebd0=_0x16b149[_0x374710(0xf1)](timeoutPromise,constants[_0x374710(0x10b)],_0x16b149['MvMqm'],_0x16b149[_0x374710(0xbd)],_0x52203a,this[_0x374710(0x117)],this['framework']);_0x55d491=await Promise['race']([this['BrowserstackHealing'][_0x374710(0xee)](_0x28860e,_0x1a74ee,_0x27b0e2,_0x6579e1,_0x260b83,_0x38d94f,_0x45047f,_0x5d1258)[_0x374710(0xb1)](_0x5eef86=>{const _0x21802c=_0x374710;return _0x36ebd0[_0x21802c(0xd3)](),_0x5eef86;}),_0x36ebd0]);}else{if(commandRepository[_0x374710(0xa9)]()){const _0x412176=_0x16b149[_0x374710(0xa8)](timeoutPromise,constants[_0x374710(0xfb)],_0x16b149['GOMuk'],_0x16b149['rMTAB'],_0x52203a,this[_0x374710(0x117)],this[_0x374710(0xcd)]);_0x55d491=await Promise['race']([this['BrowserstackHealing'][_0x374710(0x103)](_0x28860e,_0x1a74ee,_0x27b0e2,_0x6579e1,_0x424a9f,_0x260b83,_0x38d94f,_0x45047f,_0x1f6a77,_0x3292cd,_0x5d1258)[_0x374710(0xb1)](_0x1193ac=>{const _0x4f09f4=_0x374710;return _0x412176[_0x4f09f4(0xd3)](),_0x1193ac;}),_0x412176]);}}_0x55d491&&await _0x7df357[_0x374710(0xc1)](_0x55d491);}}async['handleSuccess'](_0x330103,_0x168859,_0x4faa47){const _0x146ddb=a99_0x1a5657;try{await this['_handleEvent'](_0x330103,_0x168859,_0x4faa47,!![]);}catch(_0x21d8e4){return logger['error'](_0x146ddb(0x112)+(_0x21d8e4&&_0x21d8e4[_0x146ddb(0x105)]?_0x21d8e4[_0x146ddb(0x105)]:'')),![];}return!![];}async[a99_0x1a5657(0xf3)](_0xb550d1,_0x14776c,_0xf9c90f){const _0x344478=a99_0x1a5657,_0x47ac9={'MYOpd':function(_0x42ea48,_0x492191,_0x3b8542,_0x4bafe0,_0x5d2b87,_0xc713a0,_0x11ff61){return _0x42ea48(_0x492191,_0x3b8542,_0x4bafe0,_0x5d2b87,_0xc713a0,_0x11ff61);},'GepEG':_0x344478(0xbf),'DBqvg':_0x344478(0xc7),'NvGPN':_0x344478(0xca)};try{await this[_0x344478(0xcf)](_0xb550d1,_0x14776c,_0xf9c90f,![]);const _0x54c73e=(await _0x14776c[_0x344478(0xb9)]())[_0x344478(0x114)](),_0x54c47c=new Date(),_0x1952a4=_0x47ac9['MYOpd'](timeoutPromise,constants[_0x344478(0xa3)],_0x47ac9[_0x344478(0xd2)],_0x47ac9['DBqvg'],_0x54c47c,this[_0x344478(0x117)],this[_0x344478(0xcd)]),_0xbe3df9=await Promise[_0x344478(0xe3)]([this[_0x344478(0xe2)][_0x344478(0xd1)](constants[_0x344478(0xef)],_0x54c73e,globals[_0x344478(0xbb)](_0x47ac9[_0x344478(0xf2)]))[_0x344478(0xb1)](_0x3c70c1=>{const _0x1c3d32=_0x344478;return _0x1952a4[_0x1c3d32(0xd3)](),_0x3c70c1;}),_0x1952a4]);if(_0xbe3df9&&_0xbe3df9[_0x344478(0xd7)]&&_0xbe3df9[_0x344478(0xda)]){const _0x595565={};return _0x595565[_0x344478(0xfe)]=_0xbe3df9['selector'],_0x595565[_0x344478(0xf4)]=_0xbe3df9[_0x344478(0xda)],_0x595565[_0x344478(0xf9)]=!![],_0x595565;}const _0x46ad01={};return _0x46ad01['locatorType']=_0xf9c90f[_0x344478(0xc9)]['using'],_0x46ad01[_0x344478(0xf4)]=_0xbe3df9[_0x344478(0xda)],_0x46ad01[_0x344478(0xf9)]=!![],_0x46ad01;}catch(_0x3796f1){return logger[_0x344478(0x10c)](_0x344478(0x106)+(_0x3796f1&&_0x3796f1['message']?_0x3796f1[_0x344478(0x105)]:'')),logger[_0x344478(0x116)](_0x344478(0x108)+_0xf9c90f['name_']+_0x344478(0xcc)),_0xf9c90f;}}}function a99_0x2b6e(){const _0x14c7c0=['fromEntries','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','healFailure','../../helpers/timeoutPromise','message','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','s://','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','\x22,\x20\x22tcgUrls\x22:\x20{\x22','gxGSU','HEALING_LOG_DATA_TIMEOUT','debug','browserstackSessionName','aiHeal_groupId','sbllE','edge','xiWwh','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','map_','getId','replace','info','config','jRdSr','VCAwQ','ULpog','POLL_HEALING_RESULT_TIMEOUT','AExZM','getTestName','winstonLogger','safari','OPQLw','isSelfHealEnabled','tPVMZ','get','./autoHealHelper','newCapabilities','initializeHealingCapabilities','initializeCapabilities','../globals','then','GuxUg','960QOWRtg','getCapabilities','chromeOptions_','868795NWQGZk','{\x22region\x22:\x20\x22','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','getSession','hWxJs','getGlobal','pWWcF','HJygM','11060XxQsTo','BrowserstackHealing.pollResult\x20method\x20timed\x20out','getCommands','executeScript','12168666QvUIev','BrowserstackHealing.healFailure\x20method\x20timed\x20out','hbBqx','hwmVU','BrowserstackHealingHealFailureFailed','BrowserstackHealingPollResultFailed','split','parameters_','aiHeal_sessionToken','microsoftedge','\x20command','framework','23727KgAGRz','_handleEvent','set','pollResult','GepEG','cancel','BYIDM','path','getProjectName','selector','BrowserstackHealingSetTcgTokenFailed','toLowerCase','value','aiHeal_isGroupAIEnabled','lHHKA','setToken','13370EGJDGa','capabilities_','cDURh','browserName','BrowserstackHealing','race','TCG_REGION','utIiN','../../ai-sdk-node/bundle','log','ASoYH','YWMGx','BrowserstackHealing.setToken\x20method\x20timed\x20out','Izhmz','\x22:\x20{\x22endpoint\x22:\x20\x22','join','logData','TCG_URL','3156KIUvxT','sYWeo','NvGPN','handleFailure','locatorValue','aiHeal_userId','bTOjN','ieOptions_','1457300uwLDvn','aiHealing','jqCJQ','HEALING_FAILURE_TIMEOUT','freeze','using','locatorType','setTcgToken','7190392MdghZd'];a99_0x2b6e=function(){return _0x14c7c0;};return a99_0x2b6e();}exports['aiSdkWrapper']=Object[a99_0x1a5657(0xfc)](new AiSdkWrapper());