const a59_0x5037cf=a59_0x225d;(function(_0x551d93,_0xcc0a38){const _0x3dbe24=a59_0x225d,_0x27697c=_0x551d93();while(!![]){try{const _0x4e9c43=-parseInt(_0x3dbe24(0xdb))/0x1*(-parseInt(_0x3dbe24(0x88))/0x2)+parseInt(_0x3dbe24(0x85))/0x3*(-parseInt(_0x3dbe24(0x9a))/0x4)+parseInt(_0x3dbe24(0x8e))/0x5*(-parseInt(_0x3dbe24(0xda))/0x6)+parseInt(_0x3dbe24(0xf2))/0x7*(parseInt(_0x3dbe24(0xb5))/0x8)+parseInt(_0x3dbe24(0xb1))/0x9*(parseInt(_0x3dbe24(0xc8))/0xa)+parseInt(_0x3dbe24(0xf3))/0xb*(parseInt(_0x3dbe24(0xa8))/0xc)+-parseInt(_0x3dbe24(0xab))/0xd*(-parseInt(_0x3dbe24(0xd0))/0xe);if(_0x4e9c43===_0xcc0a38)break;else _0x27697c['push'](_0x27697c['shift']());}catch(_0x3b9b29){_0x27697c['push'](_0x27697c['shift']());}}}(a59_0x4712,0x93694));const path=require(a59_0x5037cf(0xa3)),{commandRepository}=require(a59_0x5037cf(0xe8)),constants=require('../../bin/utils/constants'),logger=require('../logger')[a59_0x5037cf(0xbe)],globals=require(a59_0x5037cf(0xb7)),timeoutPromise=require('../../helpers/timeoutPromise'),isUndefinedOrNull=_0x49b3b3=>_0x49b3b3===undefined||_0x49b3b3===null||_0x49b3b3==='',isNotUndefinedOrNull=_0x552cac=>!isUndefinedOrNull(_0x552cac),isString=_0x2703e5=>isNotUndefinedOrNull(_0x2703e5)&&typeof _0x2703e5==='string';class AiSdkWrapper{constructor(){const _0x59c8f4=a59_0x5037cf,_0x378db7={'Owaxk':function(_0x46f49c,_0x5bedc1){return _0x46f49c(_0x5bedc1);},'LKYRK':_0x59c8f4(0x99)};this[_0x59c8f4(0xb8)]=undefined;try{this[_0x59c8f4(0xb8)]=_0x378db7[_0x59c8f4(0xec)](require,path['join'](__dirname,_0x378db7[_0x59c8f4(0x94)]));}catch(_0x216330){logger['error'](_0x59c8f4(0x95)+(_0x216330&&_0x216330[_0x59c8f4(0xcf)]?_0x216330[_0x59c8f4(0xcf)]:''));}}['initializeHealingCapabilities'](_0x47ade2){const _0x3b362d=a59_0x5037cf,_0x9a7cde={};_0x9a7cde[_0x3b362d(0x96)]=_0x3b362d(0xed),_0x9a7cde[_0x3b362d(0x8f)]=function(_0x5a60c6,_0x4db48a){return _0x5a60c6===_0x4db48a;},_0x9a7cde[_0x3b362d(0x84)]='chrome',_0x9a7cde[_0x3b362d(0xa6)]=function(_0x2f2463,_0x29c178){return _0x2f2463===_0x29c178;},_0x9a7cde[_0x3b362d(0x80)]='firefox',_0x9a7cde[_0x3b362d(0x9e)]=_0x3b362d(0xb6),_0x9a7cde['jsysG']=function(_0x2012ea,_0x366f17){return _0x2012ea===_0x366f17;},_0x9a7cde['kqRSt']=_0x3b362d(0xa4),_0x9a7cde[_0x3b362d(0xc6)]=_0x3b362d(0xcc),_0x9a7cde[_0x3b362d(0xbd)]=function(_0x1bf549,_0x2930e3){return _0x1bf549===_0x2930e3;};const _0x54c52b=_0x9a7cde;try{const _0x4d1503=this['BrowserstackHealing']['initializeCapabilities'](Object['fromEntries'](_0x47ade2[_0x3b362d(0xaa)]()[_0x3b362d(0xbf)]));console[_0x3b362d(0xe3)](_0x54c52b[_0x3b362d(0x96)],_0x4d1503);if(_0x54c52b[_0x3b362d(0x8f)](_0x4d1503?.[_0x3b362d(0x87)]?.[_0x3b362d(0xd3)](),_0x54c52b[_0x3b362d(0x84)]))_0x47ade2['chromeOptions_']=_0x4d1503;else{if(_0x54c52b[_0x3b362d(0xa6)](_0x4d1503?.['browserName']?.[_0x3b362d(0xd3)](),_0x54c52b[_0x3b362d(0x80)]))_0x47ade2[_0x3b362d(0xf0)]=_0x4d1503;else{if(_0x54c52b[_0x3b362d(0xa6)](_0x4d1503?.['browserName']?.[_0x3b362d(0xd3)](),_0x54c52b[_0x3b362d(0x9e)]))_0x47ade2[_0x3b362d(0xad)]=_0x4d1503;else{if(_0x54c52b[_0x3b362d(0xf9)](_0x4d1503?.[_0x3b362d(0x87)]?.[_0x3b362d(0xd3)](),_0x54c52b['kqRSt'])||_0x54c52b[_0x3b362d(0xa6)](_0x4d1503?.[_0x3b362d(0x87)]?.[_0x3b362d(0xd3)](),_0x54c52b[_0x3b362d(0xc6)]))_0x47ade2['edgeOptions_']=_0x4d1503;else _0x54c52b[_0x3b362d(0xbd)](_0x4d1503?.[_0x3b362d(0x87)]?.['toLowerCase'](),'ie')&&(_0x47ade2[_0x3b362d(0xa9)]=_0x4d1503);}}}Object[_0x3b362d(0xca)](_0x4d1503)[_0x3b362d(0x8b)](_0x540e63=>{const _0x40b260=_0x3b362d,_0x5ad336=_0x47ade2[_0x40b260(0xb4)][_0x40b260(0xdc)](_0x540e63);_0x47ade2[_0x40b260(0xb4)][_0x40b260(0xf8)](_0x540e63,_0x4d1503[_0x540e63]);});}catch(_0x26c6b8){logger[_0x3b362d(0xd5)]('Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20'+(_0x26c6b8&&_0x26c6b8[_0x3b362d(0xcf)]?_0x26c6b8[_0x3b362d(0xcf)]:''));}}async['setTcgToken'](_0x351735){const _0x1ac294=a59_0x5037cf,_0xb6349b={'ielne':function(_0x1a186e,_0x47af5a,_0x271eba,_0xa005e3,_0x3cbb7d,_0x58a2ee,_0x2269a2){return _0x1a186e(_0x47af5a,_0x271eba,_0xa005e3,_0x3cbb7d,_0x58a2ee,_0x2269a2);},'oTbNm':_0x1ac294(0x97),'NorVc':_0x1ac294(0x8c),'WxsGx':_0x1ac294(0x93)},_0x2d5f9d=new Date(),_0x120b4=_0xb6349b[_0x1ac294(0xfa)](timeoutPromise,constants['SET_TCG_TOKEN_TIMEOUT'],_0xb6349b['oTbNm'],_0xb6349b[_0x1ac294(0xe1)],_0x2d5f9d,this[_0x1ac294(0xf7)],this[_0x1ac294(0xd7)]);await Promise[_0x1ac294(0xea)]([this[_0x1ac294(0xb8)][_0x1ac294(0x8a)](_0x351735,globals[_0x1ac294(0xe4)](_0xb6349b['WxsGx']),constants[_0x1ac294(0xbc)])[_0x1ac294(0xe7)](()=>{const _0x39a0a9=_0x1ac294;_0x120b4[_0x39a0a9(0xef)]();}),_0x120b4]);}async[a59_0x5037cf(0x90)](_0x469dc8,_0x2b48ad,_0x5a1934,_0xca550f){const _0x51c1d7=a59_0x5037cf,_0x299cf3={'NyciA':function(_0x1bb6aa,_0x1b3f11){return _0x1bb6aa===_0x1b3f11;},'voEqJ':function(_0xd36a3b,_0x215d24){return _0xd36a3b===_0x215d24;},'dZKKG':function(_0x40e9f5,_0x894cc2){return _0x40e9f5(_0x894cc2);},'zKiSB':function(_0x342d53,_0x255762){return _0x342d53(_0x255762);},'fxDlA':function(_0x5a8475,_0x51cb74){return _0x5a8475(_0x51cb74);},'bISTk':function(_0x18bfab,_0x349286){return _0x18bfab(_0x349286);},'tXXbY':function(_0x55ef75,_0x2657e0){return _0x55ef75(_0x2657e0);},'iIImC':_0x51c1d7(0x86),'WqKER':function(_0x738453,_0x179d72){return _0x738453(_0x179d72);},'EMAfQ':function(_0x7b343e,_0x58ebc5){return _0x7b343e(_0x58ebc5);},'ecTht':_0x51c1d7(0xe9),'xynMq':_0x51c1d7(0xe0),'jajgQ':_0x51c1d7(0xc2),'baGje':function(_0xcfe8b4,_0x366460,_0x16e9ce,_0x1be4a7,_0x4ff412,_0x41daca,_0x2ab4ae){return _0xcfe8b4(_0x366460,_0x16e9ce,_0x1be4a7,_0x4ff412,_0x41daca,_0x2ab4ae);},'mxqfq':'BrowserstackHealing.logData\x20method\x20timed\x20out','etbiU':_0x51c1d7(0x9d),'WvgmU':_0x51c1d7(0xfb),'DMhxg':'BrowserstackHealingHealFailureFailed'},_0x15efa1=(await _0x2b48ad[_0x51c1d7(0x89)]())[_0x51c1d7(0xc4)]();let _0x5b3a7d='';if(commandRepository[_0x51c1d7(0xc1)]()&&_0x299cf3[_0x51c1d7(0xe2)](_0xca550f,![])||_0x299cf3[_0x51c1d7(0xcd)](_0xca550f,!![])){const _0x12eb5e=_0x299cf3[_0x51c1d7(0xde)](isNotUndefinedOrNull,_0x5a1934[_0x51c1d7(0xa0)][_0x51c1d7(0xdd)])&&_0x299cf3['dZKKG'](isString,_0x5a1934[_0x51c1d7(0xa0)][_0x51c1d7(0xdd)])?_0x5a1934[_0x51c1d7(0xa0)][_0x51c1d7(0xdd)][_0x51c1d7(0xd1)](/'/g,'\x5c\x27')[_0x51c1d7(0xd1)](/"/g,'\x5c\x22'):'',_0x3fc438=_0x299cf3[_0x51c1d7(0x92)](isNotUndefinedOrNull,_0x5a1934[_0x51c1d7(0xa0)][_0x51c1d7(0xdd)])&&_0x299cf3[_0x51c1d7(0x9b)](isString,_0x5a1934[_0x51c1d7(0xa0)][_0x51c1d7(0xc7)])?_0x5a1934['parameters_'][_0x51c1d7(0xc7)]['replace'](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x4f0051=_0x299cf3['fxDlA'](isNotUndefinedOrNull,commandRepository[_0x51c1d7(0xaf)]())&&_0x299cf3[_0x51c1d7(0xde)](isString,commandRepository[_0x51c1d7(0xaf)]())?commandRepository[_0x51c1d7(0xaf)]()[_0x51c1d7(0xd1)](/'/g,'\x5c\x27')[_0x51c1d7(0xd1)](/"/g,'\x5c\x22'):'';let _0x143f94=_0x299cf3['bISTk'](isNotUndefinedOrNull,global[_0x51c1d7(0x98)])&&_0x299cf3[_0x51c1d7(0xb2)](isString,global[_0x51c1d7(0x98)])?global[_0x51c1d7(0x98)][_0x51c1d7(0xd1)](/'/g,'\x5c\x27')[_0x51c1d7(0xd1)](/"/g,'\x5c\x22'):'';!_0x143f94&&(_0x143f94=_0x299cf3[_0x51c1d7(0xf4)](isNotUndefinedOrNull,commandRepository['getTestName']())&&_0x299cf3['zKiSB'](isString,commandRepository[_0x51c1d7(0xb9)]())?commandRepository[_0x51c1d7(0xb9)]()[_0x51c1d7(0xd1)](/'/g,'\x5c\x27')[_0x51c1d7(0xd1)](/"/g,'\x5c\x22'):'');let _0x4d0452=_0x51c1d7(0xfc)+constants[_0x51c1d7(0x8d)]+_0x51c1d7(0xd6)+constants[_0x51c1d7(0x8d)]+_0x51c1d7(0xf6)+constants[_0x51c1d7(0xbc)][_0x51c1d7(0xc9)](_0x299cf3[_0x51c1d7(0xeb)])[0x1]+_0x51c1d7(0xee);_0x4d0452=_0x299cf3['WqKER'](isNotUndefinedOrNull,_0x4d0452)&&_0x299cf3[_0x51c1d7(0xd8)](isString,_0x4d0452)?_0x4d0452['replace'](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';const _0x231e26=commandRepository[_0x51c1d7(0xf5)](_0x15efa1),_0x382782=globals[_0x51c1d7(0xe4)](_0x299cf3[_0x51c1d7(0x83)]),_0x564e9f=globals['getGlobal'](_0x299cf3[_0x51c1d7(0xc5)]),_0x3af32c=globals[_0x51c1d7(0xe4)](_0x299cf3[_0x51c1d7(0xba)]),_0x1751ef=![],_0x2605ec=new Date();if(_0xca550f){const _0x583f25=_0x299cf3['baGje'](timeoutPromise,constants[_0x51c1d7(0xd4)],_0x299cf3[_0x51c1d7(0x81)],_0x299cf3[_0x51c1d7(0x91)],_0x2605ec,this[_0x51c1d7(0xf7)],this[_0x51c1d7(0xd7)]);_0x5b3a7d=await Promise[_0x51c1d7(0xea)]([this[_0x51c1d7(0xb8)][_0x51c1d7(0xc0)](_0x12eb5e,_0x3fc438,_0x4f0051,_0x143f94,_0x564e9f,_0x15efa1,_0x231e26,_0x4d0452)['then'](_0x2dedc7=>{const _0xf0ffb2=_0x51c1d7;return _0x583f25[_0xf0ffb2(0xef)](),_0x2dedc7;}),_0x583f25]);}else{if(commandRepository['isSelfHealEnabled']()){const _0x4640a1=_0x299cf3[_0x51c1d7(0xd2)](timeoutPromise,constants[_0x51c1d7(0xbb)],_0x299cf3[_0x51c1d7(0xb3)],_0x299cf3['DMhxg'],_0x2605ec,this[_0x51c1d7(0xf7)],this[_0x51c1d7(0xd7)]);_0x5b3a7d=await Promise[_0x51c1d7(0xea)]([this['BrowserstackHealing']['healFailure'](_0x12eb5e,_0x3fc438,_0x4f0051,_0x143f94,_0x382782,_0x564e9f,_0x15efa1,_0x231e26,_0x1751ef,_0x3af32c,_0x4d0452)[_0x51c1d7(0xe7)](_0x33c5a3=>{return _0x4640a1['cancel'](),_0x33c5a3;}),_0x4640a1]);}}_0x5b3a7d&&await _0x2b48ad[_0x51c1d7(0xa2)](_0x5b3a7d);}}async[a59_0x5037cf(0xe5)](_0x24889f,_0x113173,_0x51573f){const _0x1c8571=a59_0x5037cf;try{await this[_0x1c8571(0x90)](_0x24889f,_0x113173,_0x51573f,!![]);}catch(_0x2d396d){return logger['error'](_0x1c8571(0xce)+(_0x2d396d&&_0x2d396d[_0x1c8571(0xcf)]?_0x2d396d[_0x1c8571(0xcf)]:'')),![];}return!![];}async['handleFailure'](_0x433804,_0x25494e,_0x459c4a){const _0x5396cd=a59_0x5037cf,_0x3cea76={'JmRwJ':function(_0x2a12e3,_0x4f0fbc,_0xb0dc7b,_0x3f35a6,_0x4a3f58,_0x3af1a3,_0x54e44b){return _0x2a12e3(_0x4f0fbc,_0xb0dc7b,_0x3f35a6,_0x4a3f58,_0x3af1a3,_0x54e44b);},'hgfqI':_0x5396cd(0x9c),'fnbJd':_0x5396cd(0x9f),'YvDwQ':_0x5396cd(0x93)};try{await this[_0x5396cd(0x90)](_0x433804,_0x25494e,_0x459c4a,![]);const _0x20d202=(await _0x25494e['getSession']())[_0x5396cd(0xc4)](),_0x2b70e1=new Date(),_0x358e0a=_0x3cea76['JmRwJ'](timeoutPromise,constants['POLL_HEALING_RESULT_TIMEOUT'],_0x3cea76[_0x5396cd(0xc3)],_0x3cea76[_0x5396cd(0xcb)],_0x2b70e1,this[_0x5396cd(0xf7)],this[_0x5396cd(0xd7)]),_0x2c7b0f=await Promise[_0x5396cd(0xea)]([this[_0x5396cd(0xb8)][_0x5396cd(0xdf)](constants[_0x5396cd(0xbc)],_0x20d202,globals[_0x5396cd(0xe4)](_0x3cea76[_0x5396cd(0xe6)]))[_0x5396cd(0xe7)](_0x283b94=>{const _0xd876bf=_0x5396cd;return _0x358e0a[_0xd876bf(0xef)](),_0x283b94;}),_0x358e0a]);if(_0x2c7b0f&&_0x2c7b0f[_0x5396cd(0xa7)]&&_0x2c7b0f[_0x5396cd(0xc7)]){const _0x411536={};return _0x411536['locatorType']=_0x2c7b0f['selector'],_0x411536[_0x5396cd(0xb0)]=_0x2c7b0f[_0x5396cd(0xc7)],_0x411536['aiHealing']=!![],_0x411536;}const _0x5929f5={};return _0x5929f5[_0x5396cd(0xf1)]=_0x459c4a[_0x5396cd(0xa0)][_0x5396cd(0xdd)],_0x5929f5['locatorValue']=_0x2c7b0f[_0x5396cd(0xc7)],_0x5929f5['aiHealing']=!![],_0x5929f5;}catch(_0x4b5619){return logger[_0x5396cd(0xae)](_0x5396cd(0xd9)+(_0x4b5619&&_0x4b5619[_0x5396cd(0xcf)]?_0x4b5619[_0x5396cd(0xcf)]:'')),logger[_0x5396cd(0xac)]('Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20'+_0x459c4a['name_']+_0x5396cd(0x82)),_0x459c4a;}}}exports[a59_0x5037cf(0xa1)]=Object[a59_0x5037cf(0xa5)](new AiSdkWrapper());function a59_0x225d(_0x28c9a5,_0x572d91){const _0x4712d6=a59_0x4712();return a59_0x225d=function(_0x225d8f,_0x58d4a0){_0x225d8f=_0x225d8f-0x80;let _0x2670ab=_0x4712d6[_0x225d8f];return _0x2670ab;},a59_0x225d(_0x28c9a5,_0x572d91);}function a59_0x4712(){const _0x1a579e=['safariOptions_','debug','getProjectName','locatorValue','9LXfRrw','tXXbY','WvgmU','capabilities_','8aRcOgi','safari','../globals','BrowserstackHealing','getTestName','jajgQ','HEALING_FAILURE_TIMEOUT','TCG_URL','fZJWK','winstonLogger','map_','logData','isSelfHealEnabled','aiHeal_isGroupAIEnabled','hgfqI','getId','xynMq','YcKig','value','6676990pRORdz','split','keys','fnbJd','microsoftedge','voEqJ','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','message','196XSrBSS','replace','baGje','toLowerCase','HEALING_LOG_DATA_TIMEOUT','error','\x22,\x20\x22tcgUrls\x22:\x20{\x22','framework','EMAfQ','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','6ASCIIL','64931iDkWzl','get','using','dZKKG','pollResult','aiHeal_groupId','NorVc','NyciA','log','getGlobal','handleSuccess','YvDwQ','then','./autoHealHelper','aiHeal_userId','race','iIImC','Owaxk','newCapabilities','\x22}}}','cancel','firefoxOptions_','locatorType','2029118bllyGZ','1964457timCoe','bISTk','getCommands','\x22:\x20{\x22endpoint\x22:\x20\x22','config','set','jsysG','ielne','BrowserstackHealing.healFailure\x20method\x20timed\x20out','{\x22region\x22:\x20\x22','jfpCk','mxqfq','\x20command','ecTht','DGZtc','38946iXDkgr','s://','browserName','34anMCZm','getSession','setToken','forEach','BrowserstackHealingSetTcgTokenFailed','TCG_REGION','2854185nkVJqD','mNpuZ','_handleEvent','etbiU','zKiSB','aiHeal_sessionToken','LKYRK','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','ZHyuR','BrowserstackHealing.setToken\x20method\x20timed\x20out','browserstackSessionName','../../ai-sdk-node/bundle','332BAwpjf','fxDlA','BrowserstackHealing.pollResult\x20method\x20timed\x20out','BrowserstackHealingLogDataFailed','BgfJo','BrowserstackHealingPollResultFailed','parameters_','aiSdkWrapper','executeScript','path','edge','freeze','nWGJj','selector','12ZUJIxL','ieOptions_','getCapabilities','11284gppQzY','info'];a59_0x4712=function(){return _0x1a579e;};return a59_0x4712();}