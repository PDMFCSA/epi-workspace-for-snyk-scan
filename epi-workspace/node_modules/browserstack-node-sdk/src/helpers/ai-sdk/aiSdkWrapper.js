const a59_0x591411=a59_0xb93a;(function(_0x2b4263,_0x471b4e){const _0x15c7f0=a59_0xb93a,_0xc2b683=_0x2b4263();while(!![]){try{const _0x4704f8=-parseInt(_0x15c7f0(0xc3))/0x1*(parseInt(_0x15c7f0(0xdd))/0x2)+-parseInt(_0x15c7f0(0xad))/0x3*(parseInt(_0x15c7f0(0x96))/0x4)+parseInt(_0x15c7f0(0xf9))/0x5+parseInt(_0x15c7f0(0xd8))/0x6+-parseInt(_0x15c7f0(0x10d))/0x7+-parseInt(_0x15c7f0(0xf8))/0x8*(parseInt(_0x15c7f0(0x98))/0x9)+parseInt(_0x15c7f0(0xe2))/0xa*(parseInt(_0x15c7f0(0xa1))/0xb);if(_0x4704f8===_0x471b4e)break;else _0xc2b683['push'](_0xc2b683['shift']());}catch(_0x495c60){_0xc2b683['push'](_0xc2b683['shift']());}}}(a59_0xf148,0x2ed2f));const path=require(a59_0x591411(0xa8)),{commandRepository}=require(a59_0x591411(0xc6)),constants=require(a59_0x591411(0xd6)),logger=require(a59_0x591411(0xf4))['winstonLogger'],globals=require(a59_0x591411(0xcf)),timeoutPromise=require(a59_0x591411(0xba)),isUndefinedOrNull=_0x27248d=>_0x27248d===undefined||_0x27248d===null||_0x27248d==='',isNotUndefinedOrNull=_0x9357d4=>!isUndefinedOrNull(_0x9357d4),isString=_0x52a603=>isNotUndefinedOrNull(_0x52a603)&&typeof _0x52a603==='string';function a59_0xf148(){const _0x39e3c5=['joSXy','rGLUN','4uQBmrj','BrowserstackHealing.healFailure\x20method\x20timed\x20out','framework','getCapabilities','aiSdkWrapper','320vaTHwq','SAtIa','ajCHY','wVgkc','getId','microsoftedge','EHbep','aiHeal_isGroupAIEnabled','\x20command','jKIDC','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','GdHFe','isSelfHealEnabled','LixsF','uZMgi','EmAkl','aiHeal_groupId','wHieG','../logger','message','BrowserstackHealing.logData\x20method\x20timed\x20out','kZPEm','1600072zBpFrx','10825TTJjsf','NWcKM','debug','AvHRp','browserstackSessionName','BrowserstackHealing','getTestName','pollResult','capabilities_','parameters_','firefoxOptions_','aiHeal_userId','zDjmU','handleSuccess','BrowserstackHealing.pollResult\x20method\x20timed\x20out','safariOptions_','YDjub','forEach','browserName','name_','1357244VYAoJp','map_','config','aiHealing','BrowserstackHealingLogDataFailed','24208GkYZBz','s://','9wYuARh','SET_TCG_TOKEN_TIMEOUT','toLowerCase','setTcgToken','then','xiEgy','knxrY','selector','log','287122wlPfjP','BrowserstackHealing.setToken\x20method\x20timed\x20out','initializeHealingCapabilities','hBkwr','\x22,\x20\x22tcgUrls\x22:\x20{\x22','eVedB','using','path','TCG_REGION','value','newCapabilities','vZBUk','117DTzbPD','HEALING_FAILURE_TIMEOUT','getCommands','wIzSF','safari','JXeKY','fromEntries','HXuEn','hkoWD','set','getGlobal','FKVnR','get','../../helpers/timeoutPromise','JUJag','locatorType','getProjectName','cancel','race','aiHeal_sessionToken','error','chrome','143815YzzNNY','TCG_URL','replace','./autoHealHelper','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','YKaLB','_handleEvent','logData','setToken','healFailure','edge','chromeOptions_','../globals','NeKNq','freeze','locatorValue','{\x22region\x22:\x20\x22','info','IXBsZ','../../bin/utils/constants','qTnqU','1631526WMSHqJ','keys','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20'];a59_0xf148=function(){return _0x39e3c5;};return a59_0xf148();}function a59_0xb93a(_0x429b8f,_0x13fb30){const _0xf14898=a59_0xf148();return a59_0xb93a=function(_0xb93a80,_0x2abbd9){_0xb93a80=_0xb93a80-0x93;let _0x48b3ae=_0xf14898[_0xb93a80];return _0x48b3ae;},a59_0xb93a(_0x429b8f,_0x13fb30);}class AiSdkWrapper{constructor(){const _0x4cf121=a59_0x591411,_0xda4f91={'zDjmU':function(_0x1abe00,_0x3913f9){return _0x1abe00(_0x3913f9);},'GdHFe':'../../ai-sdk-node/bundle'};this[_0x4cf121(0xfe)]=undefined;try{this['BrowserstackHealing']=_0xda4f91[_0x4cf121(0x105)](require,path['join'](__dirname,_0xda4f91[_0x4cf121(0xed)]));}catch(_0x3c9036){logger[_0x4cf121(0xc1)](_0x4cf121(0xda)+(_0x3c9036&&_0x3c9036[_0x4cf121(0xf5)]?_0x3c9036[_0x4cf121(0xf5)]:''));}}[a59_0x591411(0xa3)](_0x465847){const _0x182106=a59_0x591411,_0x4cbc8a={};_0x4cbc8a[_0x182106(0xeb)]=_0x182106(0xab),_0x4cbc8a[_0x182106(0xfa)]=function(_0x3a8f19,_0xcc5dce){return _0x3a8f19===_0xcc5dce;},_0x4cbc8a[_0x182106(0xbb)]=_0x182106(0xc2),_0x4cbc8a[_0x182106(0x109)]='firefox',_0x4cbc8a[_0x182106(0xb4)]=function(_0x23f9fd,_0x5e54fc){return _0x23f9fd===_0x5e54fc;},_0x4cbc8a[_0x182106(0xe4)]=_0x182106(0xb1),_0x4cbc8a[_0x182106(0xb2)]=function(_0x20a141,_0x364e75){return _0x20a141===_0x364e75;},_0x4cbc8a[_0x182106(0xe5)]=_0x182106(0xcd),_0x4cbc8a['wIzSF']=function(_0x1f191d,_0x4b7733){return _0x1f191d===_0x4b7733;},_0x4cbc8a[_0x182106(0xb8)]=_0x182106(0xe7),_0x4cbc8a[_0x182106(0xe8)]=function(_0x3eb60d,_0x3a83a4){return _0x3eb60d===_0x3a83a4;};const _0x306eb1=_0x4cbc8a;try{const _0x2e90f2=this[_0x182106(0xfe)]['initializeCapabilities'](Object[_0x182106(0xb3)](_0x465847[_0x182106(0xe0)]()[_0x182106(0x10e)]));console[_0x182106(0xa0)](_0x306eb1['jKIDC'],_0x2e90f2);if(_0x306eb1[_0x182106(0xfa)](_0x2e90f2?.[_0x182106(0x10b)]?.[_0x182106(0x9a)](),_0x306eb1[_0x182106(0xbb)]))_0x465847[_0x182106(0xce)]=_0x2e90f2;else{if(_0x306eb1[_0x182106(0xfa)](_0x2e90f2?.[_0x182106(0x10b)]?.['toLowerCase'](),_0x306eb1[_0x182106(0x109)]))_0x465847[_0x182106(0x103)]=_0x2e90f2;else{if(_0x306eb1[_0x182106(0xb4)](_0x2e90f2?.['browserName']?.[_0x182106(0x9a)](),_0x306eb1['ajCHY']))_0x465847[_0x182106(0x108)]=_0x2e90f2;else{if(_0x306eb1['JXeKY'](_0x2e90f2?.[_0x182106(0x10b)]?.[_0x182106(0x9a)](),_0x306eb1[_0x182106(0xe5)])||_0x306eb1[_0x182106(0xb0)](_0x2e90f2?.[_0x182106(0x10b)]?.[_0x182106(0x9a)](),_0x306eb1[_0x182106(0xb8)]))_0x465847['edgeOptions_']=_0x2e90f2;else _0x306eb1[_0x182106(0xe8)](_0x2e90f2?.[_0x182106(0x10b)]?.[_0x182106(0x9a)](),'ie')&&(_0x465847['ieOptions_']=_0x2e90f2);}}}Object[_0x182106(0xd9)](_0x2e90f2)[_0x182106(0x10a)](_0x359403=>{const _0x227184=_0x182106,_0x321691=_0x465847[_0x227184(0x101)][_0x227184(0xb9)](_0x359403);_0x465847['capabilities_'][_0x227184(0xb6)](_0x359403,_0x2e90f2[_0x359403]);});}catch(_0x403ca1){logger['error'](_0x182106(0xc7)+(_0x403ca1&&_0x403ca1[_0x182106(0xf5)]?_0x403ca1[_0x182106(0xf5)]:''));}}async[a59_0x591411(0x9b)](_0x38ed6d){const _0x249baa=a59_0x591411,_0xd6d70d={'Eoalu':function(_0x203394,_0x25fde3,_0x17a2a5,_0x2eadc7,_0x460b8b,_0x48fdfd,_0x5bba48){return _0x203394(_0x25fde3,_0x17a2a5,_0x2eadc7,_0x460b8b,_0x48fdfd,_0x5bba48);},'EEqim':_0x249baa(0xa2),'cqClf':'BrowserstackHealingSetTcgTokenFailed','knxrY':'aiHeal_sessionToken'},_0x3a8fd7=new Date(),_0x35352e=_0xd6d70d['Eoalu'](timeoutPromise,constants[_0x249baa(0x99)],_0xd6d70d['EEqim'],_0xd6d70d['cqClf'],_0x3a8fd7,this[_0x249baa(0x93)],this[_0x249baa(0xdf)]);await Promise['race']([this['BrowserstackHealing'][_0x249baa(0xcb)](_0x38ed6d,globals[_0x249baa(0xb7)](_0xd6d70d[_0x249baa(0x9e)]),constants[_0x249baa(0xc4)])[_0x249baa(0x9c)](()=>{const _0x15c3f0=_0x249baa;_0x35352e[_0x15c3f0(0xbe)]();}),_0x35352e]);}async['_handleEvent'](_0x471314,_0x3315c5,_0x5d3562,_0x44605a){const _0x4088bf=a59_0x591411,_0x3980b5={'EmAkl':function(_0x496563,_0x1bffe4){return _0x496563===_0x1bffe4;},'jyohp':function(_0x1563b3,_0x38f4fa){return _0x1563b3===_0x38f4fa;},'xiEgy':function(_0x544c25,_0x255c30){return _0x544c25(_0x255c30);},'uZMgi':function(_0x4311fa,_0x4e3647){return _0x4311fa(_0x4e3647);},'SonUr':function(_0x4f25fd,_0x39448f){return _0x4f25fd(_0x39448f);},'LixsF':function(_0x5ee0a0,_0x3fa725){return _0x5ee0a0(_0x3fa725);},'cvCMG':function(_0x153af3,_0x3eee2f){return _0x153af3(_0x3eee2f);},'lhyEl':function(_0x5ee195,_0x59e1d9){return _0x5ee195(_0x59e1d9);},'hkoWD':function(_0x563471,_0x495496){return _0x563471(_0x495496);},'wHieG':_0x4088bf(0x97),'joSXy':function(_0x216e31,_0x2c3f04){return _0x216e31(_0x2c3f04);},'hBkwr':_0x4088bf(0x104),'rGLUN':_0x4088bf(0xf2),'SAtIa':_0x4088bf(0xe9),'IXBsZ':function(_0x30a72d,_0x597c41,_0x378283,_0x2f8725,_0x52d22a,_0x4f3560,_0x371345){return _0x30a72d(_0x597c41,_0x378283,_0x2f8725,_0x52d22a,_0x4f3560,_0x371345);},'qTnqU':_0x4088bf(0xf6),'vZBUk':_0x4088bf(0x95),'eVedB':_0x4088bf(0xde),'WwBgj':'BrowserstackHealingHealFailureFailed'},_0x5b35f3=(await _0x3315c5['getSession']())[_0x4088bf(0xe6)]();let _0x5a69f3='';if(commandRepository['isSelfHealEnabled']()&&_0x3980b5[_0x4088bf(0xf1)](_0x44605a,![])||_0x3980b5['jyohp'](_0x44605a,!![])){const _0x9af656=_0x3980b5[_0x4088bf(0x9d)](isNotUndefinedOrNull,_0x5d3562['parameters_'][_0x4088bf(0xa7)])&&_0x3980b5[_0x4088bf(0xf0)](isString,_0x5d3562[_0x4088bf(0x102)][_0x4088bf(0xa7)])?_0x5d3562[_0x4088bf(0x102)][_0x4088bf(0xa7)]['replace'](/'/g,'\x5c\x27')[_0x4088bf(0xc5)](/"/g,'\x5c\x22'):'',_0x301914=_0x3980b5['uZMgi'](isNotUndefinedOrNull,_0x5d3562[_0x4088bf(0x102)][_0x4088bf(0xa7)])&&_0x3980b5[_0x4088bf(0x9d)](isString,_0x5d3562[_0x4088bf(0x102)][_0x4088bf(0xaa)])?_0x5d3562[_0x4088bf(0x102)][_0x4088bf(0xaa)][_0x4088bf(0xc5)](/'/g,'\x5c\x27')[_0x4088bf(0xc5)](/"/g,'\x5c\x22'):'',_0x99946d=_0x3980b5['SonUr'](isNotUndefinedOrNull,commandRepository[_0x4088bf(0xbd)]())&&_0x3980b5[_0x4088bf(0xef)](isString,commandRepository['getProjectName']())?commandRepository[_0x4088bf(0xbd)]()['replace'](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';let _0x334b43=_0x3980b5['cvCMG'](isNotUndefinedOrNull,global[_0x4088bf(0xfd)])&&_0x3980b5['lhyEl'](isString,global[_0x4088bf(0xfd)])?global[_0x4088bf(0xfd)][_0x4088bf(0xc5)](/'/g,'\x5c\x27')[_0x4088bf(0xc5)](/"/g,'\x5c\x22'):'';!_0x334b43&&(_0x334b43=_0x3980b5[_0x4088bf(0xb5)](isNotUndefinedOrNull,commandRepository[_0x4088bf(0xff)]())&&_0x3980b5[_0x4088bf(0x9d)](isString,commandRepository[_0x4088bf(0xff)]())?commandRepository[_0x4088bf(0xff)]()[_0x4088bf(0xc5)](/'/g,'\x5c\x27')[_0x4088bf(0xc5)](/"/g,'\x5c\x22'):'');let _0x1c337d=_0x4088bf(0xd3)+constants[_0x4088bf(0xa9)]+_0x4088bf(0xa5)+constants[_0x4088bf(0xa9)]+'\x22:\x20{\x22endpoint\x22:\x20\x22'+constants[_0x4088bf(0xc4)]['split'](_0x3980b5[_0x4088bf(0xf3)])[0x1]+'\x22}}}';_0x1c337d=_0x3980b5['cvCMG'](isNotUndefinedOrNull,_0x1c337d)&&_0x3980b5[_0x4088bf(0xdb)](isString,_0x1c337d)?_0x1c337d[_0x4088bf(0xc5)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';const _0x5a6bb1=commandRepository[_0x4088bf(0xaf)](_0x5b35f3),_0x1b7700=globals[_0x4088bf(0xb7)](_0x3980b5[_0x4088bf(0xa4)]),_0x3a6efd=globals[_0x4088bf(0xb7)](_0x3980b5[_0x4088bf(0xdc)]),_0x376928=globals[_0x4088bf(0xb7)](_0x3980b5[_0x4088bf(0xe3)]),_0x5efefc=![],_0x5d18d6=new Date();if(_0x44605a){const _0x3d93b5=_0x3980b5['IXBsZ'](timeoutPromise,constants['HEALING_LOG_DATA_TIMEOUT'],_0x3980b5[_0x4088bf(0xd7)],_0x3980b5[_0x4088bf(0xac)],_0x5d18d6,this[_0x4088bf(0x93)],this['framework']);_0x5a69f3=await Promise['race']([this['BrowserstackHealing'][_0x4088bf(0xca)](_0x9af656,_0x301914,_0x99946d,_0x334b43,_0x3a6efd,_0x5b35f3,_0x5a6bb1,_0x1c337d)[_0x4088bf(0x9c)](_0x47236c=>{const _0x28188d=_0x4088bf;return _0x3d93b5[_0x28188d(0xbe)](),_0x47236c;}),_0x3d93b5]);}else{if(commandRepository[_0x4088bf(0xee)]()){const _0x5c405a=_0x3980b5[_0x4088bf(0xd5)](timeoutPromise,constants[_0x4088bf(0xae)],_0x3980b5[_0x4088bf(0xa6)],_0x3980b5['WwBgj'],_0x5d18d6,this[_0x4088bf(0x93)],this['framework']);_0x5a69f3=await Promise[_0x4088bf(0xbf)]([this[_0x4088bf(0xfe)][_0x4088bf(0xcc)](_0x9af656,_0x301914,_0x99946d,_0x334b43,_0x1b7700,_0x3a6efd,_0x5b35f3,_0x5a6bb1,_0x5efefc,_0x376928,_0x1c337d)[_0x4088bf(0x9c)](_0xa0c5c0=>{const _0x339dad=_0x4088bf;return _0x5c405a[_0x339dad(0xbe)](),_0xa0c5c0;}),_0x5c405a]);}}_0x5a69f3&&await _0x3315c5['executeScript'](_0x5a69f3);}}async[a59_0x591411(0x106)](_0x5b3e17,_0x420c46,_0xaa2c5d){const _0x44817f=a59_0x591411;try{await this[_0x44817f(0xc9)](_0x5b3e17,_0x420c46,_0xaa2c5d,!![]);}catch(_0x1ffc44){return logger[_0x44817f(0xc1)]('Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20'+(_0x1ffc44&&_0x1ffc44[_0x44817f(0xf5)]?_0x1ffc44['message']:'')),![];}return!![];}async['handleFailure'](_0x59be12,_0x3af418,_0x494d71){const _0x2657bb=a59_0x591411,_0x1ebfe6={'kZPEm':function(_0x32cd48,_0x102fc3,_0x26a99d,_0x38f08d,_0x5bef5d,_0x2c23c7,_0x353acd){return _0x32cd48(_0x102fc3,_0x26a99d,_0x38f08d,_0x5bef5d,_0x2c23c7,_0x353acd);},'NeKNq':_0x2657bb(0x107),'YKaLB':'BrowserstackHealingPollResultFailed','AvHRp':_0x2657bb(0xc0)};try{await this[_0x2657bb(0xc9)](_0x59be12,_0x3af418,_0x494d71,![]);const _0x2d4d85=(await _0x3af418['getSession']())[_0x2657bb(0xe6)](),_0xac6720=new Date(),_0x27a541=_0x1ebfe6[_0x2657bb(0xf7)](timeoutPromise,constants['POLL_HEALING_RESULT_TIMEOUT'],_0x1ebfe6[_0x2657bb(0xd0)],_0x1ebfe6[_0x2657bb(0xc8)],_0xac6720,this[_0x2657bb(0x93)],this[_0x2657bb(0xdf)]),_0x32261c=await Promise['race']([this[_0x2657bb(0xfe)][_0x2657bb(0x100)](constants[_0x2657bb(0xc4)],_0x2d4d85,globals['getGlobal'](_0x1ebfe6[_0x2657bb(0xfc)]))['then'](_0xf2a4b5=>{const _0x31074f=_0x2657bb;return _0x27a541[_0x31074f(0xbe)](),_0xf2a4b5;}),_0x27a541]);if(_0x32261c&&_0x32261c[_0x2657bb(0x9f)]&&_0x32261c[_0x2657bb(0xaa)]){const _0x33ed69={};return _0x33ed69[_0x2657bb(0xbc)]=_0x32261c[_0x2657bb(0x9f)],_0x33ed69[_0x2657bb(0xd2)]=_0x32261c[_0x2657bb(0xaa)],_0x33ed69[_0x2657bb(0x94)]=!![],_0x33ed69;}const _0x27c70a={};return _0x27c70a[_0x2657bb(0xbc)]=_0x494d71[_0x2657bb(0x102)][_0x2657bb(0xa7)],_0x27c70a[_0x2657bb(0xd2)]=_0x32261c['value'],_0x27c70a[_0x2657bb(0x94)]=!![],_0x27c70a;}catch(_0x3d797b){return logger[_0x2657bb(0xfb)]('Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20'+(_0x3d797b&&_0x3d797b[_0x2657bb(0xf5)]?_0x3d797b[_0x2657bb(0xf5)]:'')),logger[_0x2657bb(0xd4)](_0x2657bb(0xec)+_0x494d71[_0x2657bb(0x10c)]+_0x2657bb(0xea)),_0x494d71;}}}exports[a59_0x591411(0xe1)]=Object[a59_0x591411(0xd1)](new AiSdkWrapper());