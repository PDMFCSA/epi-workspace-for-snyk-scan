const a59_0x2c1116=a59_0x85a7;(function(_0x327e78,_0x546ee8){const _0x3b0664=a59_0x85a7,_0x4f5676=_0x327e78();while(!![]){try{const _0xb72568=parseInt(_0x3b0664(0x119))/0x1+-parseInt(_0x3b0664(0x112))/0x2+parseInt(_0x3b0664(0x116))/0x3*(parseInt(_0x3b0664(0x110))/0x4)+parseInt(_0x3b0664(0xf5))/0x5*(-parseInt(_0x3b0664(0xfb))/0x6)+parseInt(_0x3b0664(0x115))/0x7+parseInt(_0x3b0664(0x106))/0x8*(parseInt(_0x3b0664(0x10c))/0x9)+-parseInt(_0x3b0664(0x11a))/0xa*(-parseInt(_0x3b0664(0x113))/0xb);if(_0xb72568===_0x546ee8)break;else _0x4f5676['push'](_0x4f5676['shift']());}catch(_0x32ae78){_0x4f5676['push'](_0x4f5676['shift']());}}}(a59_0x4fde,0x5b100));const path=require(a59_0x2c1116(0xd7)),{commandRepository}=require(a59_0x2c1116(0xfe)),constants=require(a59_0x2c1116(0x121)),logger=require(a59_0x2c1116(0x108))[a59_0x2c1116(0x122)],globals=require('../globals'),timeoutPromise=require(a59_0x2c1116(0xf2)),isUndefinedOrNull=_0x4ae560=>_0x4ae560===undefined||_0x4ae560===null||_0x4ae560==='',isNotUndefinedOrNull=_0x516279=>!isUndefinedOrNull(_0x516279),isString=_0x462862=>isNotUndefinedOrNull(_0x462862)&&typeof _0x462862===a59_0x2c1116(0xb9);class AiSdkWrapper{constructor(){const _0x5ada6d=a59_0x2c1116,_0x2b1b28={'SyuOd':function(_0x4414f6,_0x56a923){return _0x4414f6(_0x56a923);},'QMsOF':'../../ai-sdk-node/bundle'};this[_0x5ada6d(0x11c)]=undefined;try{this['BrowserstackHealing']=_0x2b1b28[_0x5ada6d(0xca)](require,path[_0x5ada6d(0xc8)](__dirname,_0x2b1b28['QMsOF']));}catch(_0xd8c6e2){logger[_0x5ada6d(0xd5)]('Unable\x20to\x20load\x20healing\x20module,\x20error:\x20'+(_0xd8c6e2&&_0xd8c6e2['message']?_0xd8c6e2['message']:''));}}[a59_0x2c1116(0xff)](_0x5efbec){const _0x2dfafb=a59_0x2c1116,_0x551099={};_0x551099[_0x2dfafb(0x10d)]=_0x2dfafb(0xb6),_0x551099[_0x2dfafb(0xfa)]=function(_0x4fce28,_0x775836){return _0x4fce28===_0x775836;},_0x551099[_0x2dfafb(0xb7)]=_0x2dfafb(0xd3),_0x551099[_0x2dfafb(0xe8)]=function(_0x5a4df9,_0xcb746c){return _0x5a4df9===_0xcb746c;},_0x551099['TzMzC']=_0x2dfafb(0xb5),_0x551099[_0x2dfafb(0xb3)]=_0x2dfafb(0xe0),_0x551099[_0x2dfafb(0x109)]=function(_0x7806c7,_0x4a495e){return _0x7806c7===_0x4a495e;},_0x551099['VzCol']=_0x2dfafb(0x11b),_0x551099['llZcv']=_0x2dfafb(0x10f);const _0x3c3cb0=_0x551099;try{const _0x4020c0=this[_0x2dfafb(0x11c)][_0x2dfafb(0xf4)](Object[_0x2dfafb(0x11d)](_0x5efbec[_0x2dfafb(0x10a)]()[_0x2dfafb(0xf6)]));console[_0x2dfafb(0x114)](_0x3c3cb0[_0x2dfafb(0x10d)],_0x4020c0);if(_0x3c3cb0['ADkTJ'](_0x4020c0?.['browserName']?.['toLowerCase'](),_0x3c3cb0['lYRux']))_0x5efbec[_0x2dfafb(0xf9)]=_0x4020c0;else{if(_0x3c3cb0[_0x2dfafb(0xe8)](_0x4020c0?.['browserName']?.['toLowerCase'](),_0x3c3cb0['TzMzC']))_0x5efbec[_0x2dfafb(0xe3)]=_0x4020c0;else{if(_0x3c3cb0[_0x2dfafb(0xe8)](_0x4020c0?.[_0x2dfafb(0xc2)]?.[_0x2dfafb(0xc4)](),_0x3c3cb0['FURaW']))_0x5efbec[_0x2dfafb(0xc9)]=_0x4020c0;else{if(_0x3c3cb0['SGSop'](_0x4020c0?.[_0x2dfafb(0xc2)]?.[_0x2dfafb(0xc4)](),_0x3c3cb0[_0x2dfafb(0xaa)])||_0x3c3cb0[_0x2dfafb(0xfa)](_0x4020c0?.[_0x2dfafb(0xc2)]?.[_0x2dfafb(0xc4)](),_0x3c3cb0[_0x2dfafb(0x10e)]))_0x5efbec[_0x2dfafb(0xdd)]=_0x4020c0;else _0x3c3cb0[_0x2dfafb(0x109)](_0x4020c0?.[_0x2dfafb(0xc2)]?.[_0x2dfafb(0xc4)](),'ie')&&(_0x5efbec['ieOptions_']=_0x4020c0);}}}Object['keys'](_0x4020c0)[_0x2dfafb(0xb0)](_0x1ab30a=>{const _0x33ed20=_0x2dfafb,_0x5a1d87=_0x5efbec[_0x33ed20(0xf8)][_0x33ed20(0xe9)](_0x1ab30a);_0x5efbec[_0x33ed20(0xf8)][_0x33ed20(0xcd)](_0x1ab30a,_0x4020c0[_0x1ab30a]);});}catch(_0x35b220){logger['error'](_0x2dfafb(0xf0)+(_0x35b220&&_0x35b220['message']?_0x35b220['message']:''));}}async['setTcgToken'](_0x5bf023){const _0x14a858=a59_0x2c1116,_0x3cc64a={'eJRdI':function(_0x33413d,_0x56cb71,_0x17071d,_0x215779,_0x39ea07,_0x17290b,_0x5c3b30){return _0x33413d(_0x56cb71,_0x17071d,_0x215779,_0x39ea07,_0x17290b,_0x5c3b30);},'aJcsy':_0x14a858(0xa7),'poNQL':_0x14a858(0xeb),'MvgvN':_0x14a858(0xa9)},_0x5d044e=new Date(),_0x48270e=_0x3cc64a['eJRdI'](timeoutPromise,constants[_0x14a858(0xe5)],_0x3cc64a[_0x14a858(0xef)],_0x3cc64a[_0x14a858(0xdb)],_0x5d044e,this[_0x14a858(0xe1)],this[_0x14a858(0xd8)]);await Promise[_0x14a858(0xbe)]([this[_0x14a858(0x11c)][_0x14a858(0x117)](_0x5bf023,globals[_0x14a858(0xcc)](_0x3cc64a[_0x14a858(0xaf)]),constants[_0x14a858(0xed)])['then'](()=>{const _0x2f9900=_0x14a858;_0x48270e[_0x2f9900(0xd6)]();}),_0x48270e]);}async[a59_0x2c1116(0xea)](_0x3d07d6,_0x493032,_0x400261,_0x241766){const _0x1c2397=a59_0x2c1116,_0x5ef598={'ALYHc':function(_0x559529,_0x165ceb){return _0x559529===_0x165ceb;},'asvXL':function(_0x161a1d,_0x542990){return _0x161a1d===_0x542990;},'SiCiX':function(_0x83cb93,_0x3bf57f){return _0x83cb93(_0x3bf57f);},'MQWwD':function(_0x135f85,_0x2e83f1){return _0x135f85(_0x2e83f1);},'DGUWG':function(_0x5b64c2,_0x465448){return _0x5b64c2(_0x465448);},'WRyJQ':function(_0xf267d6,_0x344d73){return _0xf267d6(_0x344d73);},'lUFxK':function(_0x5becbb,_0x248c87){return _0x5becbb(_0x248c87);},'PVUpR':_0x1c2397(0xd4),'mtUBn':function(_0x7fca9f,_0x196724){return _0x7fca9f(_0x196724);},'WaLDk':_0x1c2397(0xab),'sVRQY':'aiHeal_groupId','MHHGs':'aiHeal_isGroupAIEnabled','WFeTP':function(_0x5defbf,_0x4b7d4b,_0x42a818,_0x2225c,_0x3f224b,_0x24751a,_0x5d256c){return _0x5defbf(_0x4b7d4b,_0x42a818,_0x2225c,_0x3f224b,_0x24751a,_0x5d256c);},'GATFI':_0x1c2397(0x118),'rsgmx':_0x1c2397(0xb2),'IvAly':function(_0x586370,_0x552f,_0xb84a67,_0x3e8331,_0x4712d0,_0x3b6735,_0x4a900d){return _0x586370(_0x552f,_0xb84a67,_0x3e8331,_0x4712d0,_0x3b6735,_0x4a900d);},'ILewc':'BrowserstackHealing.healFailure\x20method\x20timed\x20out','NTsct':_0x1c2397(0x10b)},_0x45d154=(await _0x493032[_0x1c2397(0xc7)]())['getId']();let _0x264cc9='';if(commandRepository[_0x1c2397(0xec)]()&&_0x5ef598[_0x1c2397(0xe7)](_0x241766,![])||_0x5ef598[_0x1c2397(0xe4)](_0x241766,!![])){const _0xd6d31c=_0x5ef598['SiCiX'](isNotUndefinedOrNull,_0x400261[_0x1c2397(0xc1)]['using'])&&_0x5ef598['SiCiX'](isString,_0x400261[_0x1c2397(0xc1)][_0x1c2397(0xbd)])?_0x400261[_0x1c2397(0xc1)][_0x1c2397(0xbd)]['replace'](/'/g,'\x5c\x27')[_0x1c2397(0xae)](/"/g,'\x5c\x22'):'',_0x578ca4=_0x5ef598[_0x1c2397(0xbc)](isNotUndefinedOrNull,_0x400261[_0x1c2397(0xc1)][_0x1c2397(0xbd)])&&_0x5ef598[_0x1c2397(0xbc)](isString,_0x400261[_0x1c2397(0xc1)][_0x1c2397(0x103)])?_0x400261[_0x1c2397(0xc1)]['value']['replace'](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x4d4208=_0x5ef598[_0x1c2397(0x120)](isNotUndefinedOrNull,commandRepository[_0x1c2397(0xa8)]())&&_0x5ef598['DGUWG'](isString,commandRepository[_0x1c2397(0xa8)]())?commandRepository[_0x1c2397(0xa8)]()['replace'](/'/g,'\x5c\x27')[_0x1c2397(0xae)](/"/g,'\x5c\x22'):'';let _0x3e7262=_0x5ef598[_0x1c2397(0xc6)](isNotUndefinedOrNull,global[_0x1c2397(0xbb)])&&_0x5ef598[_0x1c2397(0x120)](isString,global[_0x1c2397(0xbb)])?global[_0x1c2397(0xbb)][_0x1c2397(0xae)](/'/g,'\x5c\x27')[_0x1c2397(0xae)](/"/g,'\x5c\x22'):'';!_0x3e7262&&(_0x3e7262=_0x5ef598[_0x1c2397(0xc6)](isNotUndefinedOrNull,commandRepository[_0x1c2397(0xcf)]())&&_0x5ef598[_0x1c2397(0x11f)](isString,commandRepository['getTestName']())?commandRepository[_0x1c2397(0xcf)]()[_0x1c2397(0xae)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'');let _0x422c14=_0x1c2397(0x102)+constants[_0x1c2397(0x105)]+_0x1c2397(0xde)+constants['TCG_REGION']+_0x1c2397(0xfd)+constants[_0x1c2397(0xed)][_0x1c2397(0x11e)](_0x5ef598[_0x1c2397(0xb4)])[0x1]+_0x1c2397(0xdf);_0x422c14=_0x5ef598[_0x1c2397(0x11f)](isNotUndefinedOrNull,_0x422c14)&&_0x5ef598[_0x1c2397(0xc3)](isString,_0x422c14)?_0x422c14['replace'](/'/g,'\x5c\x27')[_0x1c2397(0xae)](/"/g,'\x5c\x22'):'';const _0x315af7=commandRepository[_0x1c2397(0xdc)](_0x45d154),_0x12659b=globals[_0x1c2397(0xcc)](_0x5ef598['WaLDk']),_0x1f5990=globals[_0x1c2397(0xcc)](_0x5ef598[_0x1c2397(0x104)]),_0x27326e=globals['getGlobal'](_0x5ef598['MHHGs']),_0x657879=![],_0x38eb34=new Date();if(_0x241766){const _0x18b522=_0x5ef598[_0x1c2397(0x111)](timeoutPromise,constants[_0x1c2397(0x100)],_0x5ef598[_0x1c2397(0xb1)],_0x5ef598[_0x1c2397(0xe2)],_0x38eb34,this[_0x1c2397(0xe1)],this[_0x1c2397(0xd8)]);_0x264cc9=await Promise['race']([this[_0x1c2397(0x11c)][_0x1c2397(0xbf)](_0xd6d31c,_0x578ca4,_0x4d4208,_0x3e7262,_0x1f5990,_0x45d154,_0x315af7,_0x422c14)['then'](_0x46f774=>{const _0x177188=_0x1c2397;return _0x18b522[_0x177188(0xd6)](),_0x46f774;}),_0x18b522]);}else{if(commandRepository[_0x1c2397(0xec)]()){const _0x3f15b7=_0x5ef598[_0x1c2397(0xf7)](timeoutPromise,constants['HEALING_FAILURE_TIMEOUT'],_0x5ef598[_0x1c2397(0xac)],_0x5ef598[_0x1c2397(0xba)],_0x38eb34,this[_0x1c2397(0xe1)],this[_0x1c2397(0xd8)]);_0x264cc9=await Promise[_0x1c2397(0xbe)]([this[_0x1c2397(0x11c)][_0x1c2397(0xce)](_0xd6d31c,_0x578ca4,_0x4d4208,_0x3e7262,_0x12659b,_0x1f5990,_0x45d154,_0x315af7,_0x657879,_0x27326e,_0x422c14)['then'](_0x9b4da9=>{return _0x3f15b7['cancel'](),_0x9b4da9;}),_0x3f15b7]);}}_0x264cc9&&await _0x493032['executeScript'](_0x264cc9);}}async[a59_0x2c1116(0xee)](_0x178676,_0x33cce6,_0x3f5d0e){const _0x235117=a59_0x2c1116;try{await this['_handleEvent'](_0x178676,_0x33cce6,_0x3f5d0e,!![]);}catch(_0x2c284e){return logger['error'](_0x235117(0x107)+(_0x2c284e&&_0x2c284e['message']?_0x2c284e[_0x235117(0xd2)]:'')),![];}return!![];}async[a59_0x2c1116(0xad)](_0x414f63,_0x233c39,_0x441065){const _0x5f1dad=a59_0x2c1116,_0x24b274={'lAXIr':function(_0x4c54ad,_0x1ad3ed,_0x4a0db0,_0x4464c8,_0x40322f,_0xc6cfd7,_0x188aa5){return _0x4c54ad(_0x1ad3ed,_0x4a0db0,_0x4464c8,_0x40322f,_0xc6cfd7,_0x188aa5);},'IadwE':'BrowserstackHealing.pollResult\x20method\x20timed\x20out','EmRCf':_0x5f1dad(0xfc),'cQyTS':_0x5f1dad(0xa9)};try{await this[_0x5f1dad(0xea)](_0x414f63,_0x233c39,_0x441065,![]);const _0x4133c0=(await _0x233c39[_0x5f1dad(0xc7)]())['getId'](),_0xed6339=new Date(),_0x124cff=_0x24b274['lAXIr'](timeoutPromise,constants['POLL_HEALING_RESULT_TIMEOUT'],_0x24b274[_0x5f1dad(0xb8)],_0x24b274[_0x5f1dad(0xc5)],_0xed6339,this[_0x5f1dad(0xe1)],this[_0x5f1dad(0xd8)]),_0x958bb7=await Promise[_0x5f1dad(0xbe)]([this['BrowserstackHealing'][_0x5f1dad(0x101)](constants[_0x5f1dad(0xed)],_0x4133c0,globals['getGlobal'](_0x24b274['cQyTS']))[_0x5f1dad(0xf1)](_0x55d8b4=>{const _0x5dbc01=_0x5f1dad;return _0x124cff[_0x5dbc01(0xd6)](),_0x55d8b4;}),_0x124cff]);if(_0x958bb7&&_0x958bb7['selector']&&_0x958bb7[_0x5f1dad(0x103)]){const _0x39f8b4={};return _0x39f8b4[_0x5f1dad(0xd9)]=_0x958bb7['selector'],_0x39f8b4['locatorValue']=_0x958bb7['value'],_0x39f8b4[_0x5f1dad(0xd1)]=!![],_0x39f8b4;}const _0x25f51d={};return _0x25f51d[_0x5f1dad(0xd9)]=_0x441065[_0x5f1dad(0xc1)][_0x5f1dad(0xbd)],_0x25f51d['locatorValue']=_0x958bb7['value'],_0x25f51d[_0x5f1dad(0xd1)]=!![],_0x25f51d;}catch(_0xd19aac){return logger['debug'](_0x5f1dad(0xc0)+(_0xd19aac&&_0xd19aac[_0x5f1dad(0xd2)]?_0xd19aac['message']:'')),logger[_0x5f1dad(0xe6)](_0x5f1dad(0xda)+_0x441065[_0x5f1dad(0xd0)]+_0x5f1dad(0xf3)),_0x441065;}}}exports['aiSdkWrapper']=Object[a59_0x2c1116(0xcb)](new AiSdkWrapper());function a59_0x85a7(_0x25e0fb,_0x53f59a){const _0x4fdec8=a59_0x4fde();return a59_0x85a7=function(_0x85a7ba,_0x491e5d){_0x85a7ba=_0x85a7ba-0xa7;let _0x4ce65d=_0x4fdec8[_0x85a7ba];return _0x4ce65d;},a59_0x85a7(_0x25e0fb,_0x53f59a);}function a59_0x4fde(){const _0x2ee2e7=['replace','MvgvN','forEach','GATFI','BrowserstackHealingLogDataFailed','FURaW','PVUpR','firefox','newCapabilities','lYRux','IadwE','string','NTsct','browserstackSessionName','SiCiX','using','race','logData','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','parameters_','browserName','mtUBn','toLowerCase','EmRCf','WRyJQ','getSession','join','safariOptions_','SyuOd','freeze','getGlobal','set','healFailure','getTestName','name_','aiHealing','message','chrome','s://','error','cancel','path','framework','locatorType','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','poNQL','getCommands','edgeOptions_','\x22,\x20\x22tcgUrls\x22:\x20{\x22','\x22}}}','safari','config','rsgmx','firefoxOptions_','asvXL','SET_TCG_TOKEN_TIMEOUT','info','ALYHc','moanl','get','_handleEvent','BrowserstackHealingSetTcgTokenFailed','isSelfHealEnabled','TCG_URL','handleSuccess','aJcsy','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','then','../../helpers/timeoutPromise','\x20command','initializeCapabilities','74090wsOMsl','map_','IvAly','capabilities_','chromeOptions_','ADkTJ','276OiqCBx','BrowserstackHealingPollResultFailed','\x22:\x20{\x22endpoint\x22:\x20\x22','./autoHealHelper','initializeHealingCapabilities','HEALING_LOG_DATA_TIMEOUT','pollResult','{\x22region\x22:\x20\x22','value','sVRQY','TCG_REGION','16BIstqz','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','../logger','SGSop','getCapabilities','BrowserstackHealingHealFailureFailed','1605375ICfBvu','zfaWp','llZcv','microsoftedge','31532NIlJOE','WFeTP','342938cHzKRR','11HPOzcK','log','442449GacSsT','33MjXTtm','setToken','BrowserstackHealing.logData\x20method\x20timed\x20out','83402vrLYFN','6360170nueaLV','edge','BrowserstackHealing','fromEntries','split','lUFxK','MQWwD','../../bin/utils/constants','winstonLogger','BrowserstackHealing.setToken\x20method\x20timed\x20out','getProjectName','aiHeal_sessionToken','VzCol','aiHeal_userId','ILewc','handleFailure'];a59_0x4fde=function(){return _0x2ee2e7;};return a59_0x4fde();}