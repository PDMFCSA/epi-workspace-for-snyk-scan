const a59_0x36fedb=a59_0x1953;function a59_0x1953(_0x17bcfe,_0x260f07){const _0xe0dfdf=a59_0xe0df();return a59_0x1953=function(_0x1953c3,_0x24eb46){_0x1953c3=_0x1953c3-0x1b9;let _0x5093cd=_0xe0dfdf[_0x1953c3];return _0x5093cd;},a59_0x1953(_0x17bcfe,_0x260f07);}(function(_0x4f1484,_0x44c586){const _0x28d9e9=a59_0x1953,_0x3bf621=_0x4f1484();while(!![]){try{const _0x36bbbf=-parseInt(_0x28d9e9(0x1c8))/0x1+parseInt(_0x28d9e9(0x21c))/0x2*(-parseInt(_0x28d9e9(0x219))/0x3)+-parseInt(_0x28d9e9(0x1ed))/0x4*(-parseInt(_0x28d9e9(0x1e5))/0x5)+parseInt(_0x28d9e9(0x1f1))/0x6*(parseInt(_0x28d9e9(0x1ca))/0x7)+parseInt(_0x28d9e9(0x223))/0x8+-parseInt(_0x28d9e9(0x227))/0x9+parseInt(_0x28d9e9(0x200))/0xa*(-parseInt(_0x28d9e9(0x1ef))/0xb);if(_0x36bbbf===_0x44c586)break;else _0x3bf621['push'](_0x3bf621['shift']());}catch(_0x24f8e3){_0x3bf621['push'](_0x3bf621['shift']());}}}(a59_0xe0df,0x7a135));function a59_0xe0df(){const _0x2b01f6=['CPbkg','message','VmKIl','xYKEx','POLL_HEALING_RESULT_TIMEOUT','aiHeal_sessionToken','framework','getCapabilities','error','microsoftedge','JSnki','xdCEM','BrowserstackHealingLogDataFailed','split','race','fromEntries','AYUGl','setTcgToken','BrowserstackHealingPollResultFailed','BrowserstackHealing.logData\x20method\x20timed\x20out','519441LqcQpV','isSelfHealEnabled','4858vDKIcA','ieOptions_','winstonLogger','AyWdT','aiSdkWrapper','yjOWY','nOQzP','getTestName','cYpxa','initializeCapabilities','setToken','XWmFZ','aiHeal_userId','SzFer','replace','OJAOP','keys','initializeHealingCapabilities','aiHeal_groupId','../globals','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','PdZzX','edgeOptions_','info','browserstackSessionName','getId','_handleEvent','115sxlFRi','EDTCW','../../ai-sdk-node/bundle','freeze','aiHealing','\x20command','./autoHealHelper','browserName','166828xLlFoS','VqOvf','55JYkGNf','CkgxS','4974VAQuOB','getProjectName','xwqba','kJcbA','fykwg','UBAUf','locatorValue','getGlobal','capabilities_','selector','config','safariOptions_','getCommands','../../helpers/timeoutPromise','get','699850QWtLzS','{\x22region\x22:\x20\x22','map_','BrowserstackHealingHealFailureFailed','erlur','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','chromeOptions_','TCG_REGION','pollResult','../logger','using','locatorType','BrowserstackHealingSetTcgTokenFailed','XoRMX','mOOca','xXxrg','nTcMa','SET_TCG_TOKEN_TIMEOUT','debug','value','parameters_','getSession','AmNrC','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','executeScript','2353926UdDCpR','HEALING_FAILURE_TIMEOUT','BrowserstackHealing.setToken\x20method\x20timed\x20out','2YeNZNJ','aiHeal_isGroupAIEnabled','logData','VRtZc','BrowserstackHealing.pollResult\x20method\x20timed\x20out','FNNdi','then','5894880lTnAvJ','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','toLowerCase','BrowserstackHealing.healFailure\x20method\x20timed\x20out','1056762qCRpMM','HEALING_LOG_DATA_TIMEOUT','log','TCG_URL','name_','BrowserstackHealing','safari','handleFailure','cancel','healFailure','\x22}}}','firefox','JVQIh','sDHrY'];a59_0xe0df=function(){return _0x2b01f6;};return a59_0xe0df();}const path=require('path'),{commandRepository}=require(a59_0x36fedb(0x1eb)),constants=require('../../bin/utils/constants'),logger=require(a59_0x36fedb(0x209))[a59_0x36fedb(0x1cc)],globals=require(a59_0x36fedb(0x1dd)),timeoutPromise=require(a59_0x36fedb(0x1fe)),isUndefinedOrNull=_0x124dc2=>_0x124dc2===undefined||_0x124dc2===null||_0x124dc2==='',isNotUndefinedOrNull=_0x44af83=>!isUndefinedOrNull(_0x44af83),isString=_0x44ebde=>isNotUndefinedOrNull(_0x44ebde)&&typeof _0x44ebde==='string';class AiSdkWrapper{constructor(){const _0x455312=a59_0x36fedb,_0x1b79a8={'YhawL':function(_0x50e4aa,_0x1816c8){return _0x50e4aa(_0x1816c8);},'xwqba':_0x455312(0x1e7)};this[_0x455312(0x22c)]=undefined;try{this[_0x455312(0x22c)]=_0x1b79a8['YhawL'](require,path['join'](__dirname,_0x1b79a8[_0x455312(0x1f3)]));}catch(_0x398147){logger[_0x455312(0x1bc)](_0x455312(0x224)+(_0x398147&&_0x398147[_0x455312(0x236)]?_0x398147['message']:''));}}[a59_0x36fedb(0x1db)](_0x5e01b1){const _0x24bbaa=a59_0x36fedb,_0x3e6b29={};_0x3e6b29[_0x24bbaa(0x1ee)]='newCapabilities',_0x3e6b29[_0x24bbaa(0x1d5)]=function(_0x231a57,_0x2b39e0){return _0x231a57===_0x2b39e0;},_0x3e6b29[_0x24bbaa(0x233)]='chrome',_0x3e6b29[_0x24bbaa(0x1df)]=function(_0xc9636e,_0x29b5ab){return _0xc9636e===_0x29b5ab;},_0x3e6b29['nnFYB']=_0x24bbaa(0x232),_0x3e6b29[_0x24bbaa(0x20e)]=function(_0x2729f9,_0xd644dd){return _0x2729f9===_0xd644dd;},_0x3e6b29['kJcbA']=_0x24bbaa(0x22d),_0x3e6b29['FNNdi']='edge',_0x3e6b29[_0x24bbaa(0x1d9)]=function(_0xc84b2,_0x1d9fe8){return _0xc84b2===_0x1d9fe8;},_0x3e6b29['cYpxa']=_0x24bbaa(0x1bd);const _0x2319b7=_0x3e6b29;try{const _0x21b5b8=this[_0x24bbaa(0x22c)][_0x24bbaa(0x1d3)](Object[_0x24bbaa(0x1c3)](_0x5e01b1[_0x24bbaa(0x1bb)]()[_0x24bbaa(0x202)]));console[_0x24bbaa(0x229)](_0x2319b7[_0x24bbaa(0x1ee)],_0x21b5b8);if(_0x2319b7[_0x24bbaa(0x1d5)](_0x21b5b8?.[_0x24bbaa(0x1ec)]?.[_0x24bbaa(0x225)](),_0x2319b7[_0x24bbaa(0x233)]))_0x5e01b1[_0x24bbaa(0x206)]=_0x21b5b8;else{if(_0x2319b7[_0x24bbaa(0x1df)](_0x21b5b8?.[_0x24bbaa(0x1ec)]?.['toLowerCase'](),_0x2319b7['nnFYB']))_0x5e01b1['firefoxOptions_']=_0x21b5b8;else{if(_0x2319b7[_0x24bbaa(0x20e)](_0x21b5b8?.[_0x24bbaa(0x1ec)]?.[_0x24bbaa(0x225)](),_0x2319b7[_0x24bbaa(0x1f4)]))_0x5e01b1[_0x24bbaa(0x1fc)]=_0x21b5b8;else{if(_0x2319b7[_0x24bbaa(0x1df)](_0x21b5b8?.['browserName']?.[_0x24bbaa(0x225)](),_0x2319b7[_0x24bbaa(0x221)])||_0x2319b7[_0x24bbaa(0x1d9)](_0x21b5b8?.[_0x24bbaa(0x1ec)]?.[_0x24bbaa(0x225)](),_0x2319b7[_0x24bbaa(0x1d2)]))_0x5e01b1[_0x24bbaa(0x1e0)]=_0x21b5b8;else _0x2319b7['mOOca'](_0x21b5b8?.[_0x24bbaa(0x1ec)]?.[_0x24bbaa(0x225)](),'ie')&&(_0x5e01b1[_0x24bbaa(0x1cb)]=_0x21b5b8);}}}Object[_0x24bbaa(0x1da)](_0x21b5b8)['forEach'](_0x576096=>{const _0x3112ba=_0x24bbaa,_0x15c8ff=_0x5e01b1['capabilities_'][_0x3112ba(0x1ff)](_0x576096);_0x5e01b1[_0x3112ba(0x1f9)]['set'](_0x576096,_0x21b5b8[_0x576096]);});}catch(_0x1e2334){logger[_0x24bbaa(0x1bc)](_0x24bbaa(0x217)+(_0x1e2334&&_0x1e2334[_0x24bbaa(0x236)]?_0x1e2334['message']:''));}}async[a59_0x36fedb(0x1c5)](_0x194557){const _0x5e975d=a59_0x36fedb,_0x4770b7={'nOQzP':function(_0x53edad,_0x25a5e1,_0x14ba4f,_0xcfae13,_0x2a108a,_0x6345db,_0x37c317){return _0x53edad(_0x25a5e1,_0x14ba4f,_0xcfae13,_0x2a108a,_0x6345db,_0x37c317);},'nTcMa':_0x5e975d(0x21b),'AyWdT':_0x5e975d(0x20c),'xXxrg':_0x5e975d(0x1b9)},_0x516ea0=new Date(),_0x30e39c=_0x4770b7[_0x5e975d(0x1d0)](timeoutPromise,constants[_0x5e975d(0x211)],_0x4770b7[_0x5e975d(0x210)],_0x4770b7[_0x5e975d(0x1cd)],_0x516ea0,this[_0x5e975d(0x1fb)],this[_0x5e975d(0x1ba)]);await Promise[_0x5e975d(0x1c2)]([this[_0x5e975d(0x22c)][_0x5e975d(0x1d4)](_0x194557,globals['getGlobal'](_0x4770b7[_0x5e975d(0x20f)]),constants[_0x5e975d(0x22a)])[_0x5e975d(0x222)](()=>{_0x30e39c['cancel']();}),_0x30e39c]);}async[a59_0x36fedb(0x1e4)](_0x512cea,_0x5c3640,_0x2f5893,_0x39cf9b){const _0x41088c=a59_0x36fedb,_0x343929={'sDHrY':function(_0x3d9d54,_0x57a11f){return _0x3d9d54===_0x57a11f;},'CPbkg':function(_0x93f1aa,_0x158f55){return _0x93f1aa===_0x158f55;},'EDTCW':function(_0x2e54f2,_0x573feb){return _0x2e54f2(_0x573feb);},'erlur':function(_0x221c7d,_0x379150){return _0x221c7d(_0x379150);},'KMTst':function(_0x43731d,_0x4a861d){return _0x43731d(_0x4a861d);},'SzFer':function(_0x276e3d,_0x350fa4){return _0x276e3d(_0x350fa4);},'yjOWY':'s://','CkgxS':function(_0x2a41a0,_0xc3df09){return _0x2a41a0(_0xc3df09);},'JSnki':function(_0x4a0022,_0x5cbbed){return _0x4a0022(_0x5cbbed);},'VRtZc':_0x41088c(0x1d6),'xdCEM':_0x41088c(0x1dc),'VmKIl':_0x41088c(0x21d),'UBAUf':function(_0x315401,_0x56807d,_0x481e78,_0x27e98d,_0x283736,_0x2c904e,_0x228b2a){return _0x315401(_0x56807d,_0x481e78,_0x27e98d,_0x283736,_0x2c904e,_0x228b2a);},'AYUGl':_0x41088c(0x1c7),'XoRMX':_0x41088c(0x1c0),'QKjOc':function(_0x19304b,_0x823667,_0xe1eb88,_0x598e9d,_0x294d25,_0x23b516,_0x42a013){return _0x19304b(_0x823667,_0xe1eb88,_0x598e9d,_0x294d25,_0x23b516,_0x42a013);},'EtUIU':_0x41088c(0x226),'AmNrC':_0x41088c(0x203)},_0x5db31d=(await _0x5c3640[_0x41088c(0x215)]())[_0x41088c(0x1e3)]();let _0x26a7a8='';if(commandRepository[_0x41088c(0x1c9)]()&&_0x343929[_0x41088c(0x234)](_0x39cf9b,![])||_0x343929[_0x41088c(0x235)](_0x39cf9b,!![])){const _0x52f42e=_0x343929[_0x41088c(0x1e6)](isNotUndefinedOrNull,_0x2f5893[_0x41088c(0x214)][_0x41088c(0x20a)])&&_0x343929[_0x41088c(0x1e6)](isString,_0x2f5893[_0x41088c(0x214)]['using'])?_0x2f5893[_0x41088c(0x214)][_0x41088c(0x20a)][_0x41088c(0x1d8)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x4cfcde=_0x343929[_0x41088c(0x204)](isNotUndefinedOrNull,_0x2f5893['parameters_'][_0x41088c(0x20a)])&&_0x343929['KMTst'](isString,_0x2f5893[_0x41088c(0x214)][_0x41088c(0x213)])?_0x2f5893['parameters_'][_0x41088c(0x213)][_0x41088c(0x1d8)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x1da66b=_0x343929['KMTst'](isNotUndefinedOrNull,commandRepository['getProjectName']())&&_0x343929['EDTCW'](isString,commandRepository[_0x41088c(0x1f2)]())?commandRepository[_0x41088c(0x1f2)]()[_0x41088c(0x1d8)](/'/g,'\x5c\x27')[_0x41088c(0x1d8)](/"/g,'\x5c\x22'):'';let _0x1739a6=_0x343929[_0x41088c(0x1e6)](isNotUndefinedOrNull,global['browserstackSessionName'])&&_0x343929[_0x41088c(0x204)](isString,global['browserstackSessionName'])?global[_0x41088c(0x1e2)][_0x41088c(0x1d8)](/'/g,'\x5c\x27')[_0x41088c(0x1d8)](/"/g,'\x5c\x22'):'';!_0x1739a6&&(_0x1739a6=_0x343929[_0x41088c(0x1d7)](isNotUndefinedOrNull,commandRepository[_0x41088c(0x1d1)]())&&_0x343929[_0x41088c(0x1e6)](isString,commandRepository[_0x41088c(0x1d1)]())?commandRepository[_0x41088c(0x1d1)]()[_0x41088c(0x1d8)](/'/g,'\x5c\x27')[_0x41088c(0x1d8)](/"/g,'\x5c\x22'):'');let _0x3558c7=_0x41088c(0x201)+constants[_0x41088c(0x207)]+'\x22,\x20\x22tcgUrls\x22:\x20{\x22'+constants['TCG_REGION']+'\x22:\x20{\x22endpoint\x22:\x20\x22'+constants['TCG_URL'][_0x41088c(0x1c1)](_0x343929[_0x41088c(0x1cf)])[0x1]+_0x41088c(0x231);_0x3558c7=_0x343929[_0x41088c(0x1f0)](isNotUndefinedOrNull,_0x3558c7)&&_0x343929[_0x41088c(0x1be)](isString,_0x3558c7)?_0x3558c7[_0x41088c(0x1d8)](/'/g,'\x5c\x27')[_0x41088c(0x1d8)](/"/g,'\x5c\x22'):'';const _0x12a576=commandRepository[_0x41088c(0x1fd)](_0x5db31d),_0xef8245=globals['getGlobal'](_0x343929[_0x41088c(0x21f)]),_0x1032e0=globals['getGlobal'](_0x343929[_0x41088c(0x1bf)]),_0x2073f0=globals['getGlobal'](_0x343929[_0x41088c(0x237)]),_0x5542af=![],_0x205285=new Date();if(_0x39cf9b){const _0x2ad142=_0x343929[_0x41088c(0x1f6)](timeoutPromise,constants[_0x41088c(0x228)],_0x343929[_0x41088c(0x1c4)],_0x343929[_0x41088c(0x20d)],_0x205285,this[_0x41088c(0x1fb)],this[_0x41088c(0x1ba)]);_0x26a7a8=await Promise['race']([this[_0x41088c(0x22c)][_0x41088c(0x21e)](_0x52f42e,_0x4cfcde,_0x1da66b,_0x1739a6,_0x1032e0,_0x5db31d,_0x12a576,_0x3558c7)[_0x41088c(0x222)](_0x3a7290=>{const _0x271298=_0x41088c;return _0x2ad142[_0x271298(0x22f)](),_0x3a7290;}),_0x2ad142]);}else{if(commandRepository['isSelfHealEnabled']()){const _0x4f197e=_0x343929['QKjOc'](timeoutPromise,constants[_0x41088c(0x21a)],_0x343929['EtUIU'],_0x343929[_0x41088c(0x216)],_0x205285,this[_0x41088c(0x1fb)],this[_0x41088c(0x1ba)]);_0x26a7a8=await Promise['race']([this[_0x41088c(0x22c)][_0x41088c(0x230)](_0x52f42e,_0x4cfcde,_0x1da66b,_0x1739a6,_0xef8245,_0x1032e0,_0x5db31d,_0x12a576,_0x5542af,_0x2073f0,_0x3558c7)[_0x41088c(0x222)](_0x6b6001=>{return _0x4f197e['cancel'](),_0x6b6001;}),_0x4f197e]);}}_0x26a7a8&&await _0x5c3640[_0x41088c(0x218)](_0x26a7a8);}}async['handleSuccess'](_0x59e4ed,_0x52cd30,_0x1b2730){const _0x44f669=a59_0x36fedb;try{await this[_0x44f669(0x1e4)](_0x59e4ed,_0x52cd30,_0x1b2730,!![]);}catch(_0x417b56){return logger['error']('Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20'+(_0x417b56&&_0x417b56['message']?_0x417b56['message']:'')),![];}return!![];}async[a59_0x36fedb(0x22e)](_0x1f46a0,_0x20e9bf,_0x20063c){const _0x3ad3e7=a59_0x36fedb,_0x5d5611={'xYKEx':function(_0x1983e0,_0x228026,_0x28c78d,_0x16f3b1,_0x4adb9b,_0x436714,_0x38a127){return _0x1983e0(_0x228026,_0x28c78d,_0x16f3b1,_0x4adb9b,_0x436714,_0x38a127);},'fykwg':_0x3ad3e7(0x220),'OQjvH':_0x3ad3e7(0x1c6),'Vcxbj':'aiHeal_sessionToken'};try{await this[_0x3ad3e7(0x1e4)](_0x1f46a0,_0x20e9bf,_0x20063c,![]);const _0x26aaf7=(await _0x20e9bf[_0x3ad3e7(0x215)]())[_0x3ad3e7(0x1e3)](),_0x5ddb4c=new Date(),_0x49bea0=_0x5d5611[_0x3ad3e7(0x238)](timeoutPromise,constants[_0x3ad3e7(0x239)],_0x5d5611[_0x3ad3e7(0x1f5)],_0x5d5611['OQjvH'],_0x5ddb4c,this[_0x3ad3e7(0x1fb)],this[_0x3ad3e7(0x1ba)]),_0x167119=await Promise[_0x3ad3e7(0x1c2)]([this[_0x3ad3e7(0x22c)][_0x3ad3e7(0x208)](constants['TCG_URL'],_0x26aaf7,globals[_0x3ad3e7(0x1f8)](_0x5d5611['Vcxbj']))[_0x3ad3e7(0x222)](_0x3621ae=>{return _0x49bea0['cancel'](),_0x3621ae;}),_0x49bea0]);if(_0x167119&&_0x167119[_0x3ad3e7(0x1fa)]&&_0x167119[_0x3ad3e7(0x213)]){const _0x26e5ba={};return _0x26e5ba[_0x3ad3e7(0x20b)]=_0x167119[_0x3ad3e7(0x1fa)],_0x26e5ba[_0x3ad3e7(0x1f7)]=_0x167119[_0x3ad3e7(0x213)],_0x26e5ba[_0x3ad3e7(0x1e9)]=!![],_0x26e5ba;}const _0x1f4745={};return _0x1f4745[_0x3ad3e7(0x20b)]=_0x20063c[_0x3ad3e7(0x214)][_0x3ad3e7(0x20a)],_0x1f4745[_0x3ad3e7(0x1f7)]=_0x167119[_0x3ad3e7(0x213)],_0x1f4745['aiHealing']=!![],_0x1f4745;}catch(_0x259882){return logger[_0x3ad3e7(0x212)](_0x3ad3e7(0x205)+(_0x259882&&_0x259882[_0x3ad3e7(0x236)]?_0x259882[_0x3ad3e7(0x236)]:'')),logger[_0x3ad3e7(0x1e1)](_0x3ad3e7(0x1de)+_0x20063c[_0x3ad3e7(0x22b)]+_0x3ad3e7(0x1ea)),_0x20063c;}}}exports[a59_0x36fedb(0x1ce)]=Object[a59_0x36fedb(0x1e8)](new AiSdkWrapper());