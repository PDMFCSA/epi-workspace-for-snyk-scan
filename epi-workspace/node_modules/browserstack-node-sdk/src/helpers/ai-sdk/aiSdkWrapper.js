const a99_0x44db7e=a99_0x103f;(function(_0x3a9d87,_0x438f41){const _0xa63712=a99_0x103f,_0x27785c=_0x3a9d87();while(!![]){try{const _0x1ca644=parseInt(_0xa63712(0x269))/0x1*(-parseInt(_0xa63712(0x248))/0x2)+-parseInt(_0xa63712(0x23d))/0x3*(parseInt(_0xa63712(0x24e))/0x4)+-parseInt(_0xa63712(0x264))/0x5*(parseInt(_0xa63712(0x219))/0x6)+parseInt(_0xa63712(0x1f9))/0x7*(-parseInt(_0xa63712(0x204))/0x8)+-parseInt(_0xa63712(0x24a))/0x9*(parseInt(_0xa63712(0x1fa))/0xa)+parseInt(_0xa63712(0x257))/0xb+parseInt(_0xa63712(0x232))/0xc*(parseInt(_0xa63712(0x22b))/0xd);if(_0x1ca644===_0x438f41)break;else _0x27785c['push'](_0x27785c['shift']());}catch(_0x1e8a6a){_0x27785c['push'](_0x27785c['shift']());}}}(a99_0x3d48,0xb63a7));const path=require(a99_0x44db7e(0x209)),{commandRepository}=require(a99_0x44db7e(0x1f6)),constants=require(a99_0x44db7e(0x231)),logger=require(a99_0x44db7e(0x235))['winstonLogger'],globals=require(a99_0x44db7e(0x224)),timeoutPromise=require(a99_0x44db7e(0x20e)),isUndefinedOrNull=_0x118428=>_0x118428===undefined||_0x118428===null||_0x118428==='',isNotUndefinedOrNull=_0x3defcb=>!isUndefinedOrNull(_0x3defcb),isString=_0x389f75=>isNotUndefinedOrNull(_0x389f75)&&typeof _0x389f75===a99_0x44db7e(0x200);class AiSdkWrapper{constructor(){const _0x3e107c=a99_0x44db7e,_0xcc0242={'ccuHp':function(_0x24a6f6,_0xafaff6){return _0x24a6f6(_0xafaff6);},'vvinB':'../../ai-sdk-node/bundle'};this[_0x3e107c(0x227)]=undefined;try{this[_0x3e107c(0x227)]=_0xcc0242[_0x3e107c(0x25d)](require,path[_0x3e107c(0x242)](__dirname,_0xcc0242['vvinB']));}catch(_0x16ff02){logger['error'](_0x3e107c(0x1f2)+(_0x16ff02&&_0x16ff02['message']?_0x16ff02[_0x3e107c(0x218)]:''));}}[a99_0x44db7e(0x22c)](_0x5ab821){const _0x508774=a99_0x44db7e,_0x111f5c={};_0x111f5c[_0x508774(0x223)]='newCapabilities',_0x111f5c['uvOzM']=function(_0x560210,_0x449e0d){return _0x560210===_0x449e0d;},_0x111f5c['NXDIs']=_0x508774(0x247),_0x111f5c[_0x508774(0x230)]=function(_0xb0f674,_0xfd6538){return _0xb0f674===_0xfd6538;},_0x111f5c[_0x508774(0x213)]=_0x508774(0x228),_0x111f5c[_0x508774(0x258)]=function(_0x320681,_0x325ab6){return _0x320681===_0x325ab6;},_0x111f5c[_0x508774(0x263)]=_0x508774(0x1f1),_0x111f5c[_0x508774(0x1f8)]=function(_0x20446b,_0x1a1fb3){return _0x20446b===_0x1a1fb3;},_0x111f5c['hmynY']=_0x508774(0x216),_0x111f5c[_0x508774(0x24d)]=_0x508774(0x266);const _0x4d6250=_0x111f5c;try{const _0x417885=this[_0x508774(0x227)][_0x508774(0x208)](Object[_0x508774(0x23a)](_0x5ab821[_0x508774(0x214)]()[_0x508774(0x262)]));console['log'](_0x4d6250[_0x508774(0x223)],_0x417885);if(_0x4d6250[_0x508774(0x222)](_0x417885?.['browserName']?.[_0x508774(0x210)](),_0x4d6250[_0x508774(0x240)]))_0x5ab821[_0x508774(0x21e)]=_0x417885;else{if(_0x4d6250[_0x508774(0x230)](_0x417885?.['browserName']?.[_0x508774(0x210)](),_0x4d6250[_0x508774(0x213)]))_0x5ab821[_0x508774(0x26e)]=_0x417885;else{if(_0x4d6250['upFkX'](_0x417885?.[_0x508774(0x20b)]?.[_0x508774(0x210)](),_0x4d6250[_0x508774(0x263)]))_0x5ab821[_0x508774(0x1ff)]=_0x417885;else{if(_0x4d6250[_0x508774(0x1f8)](_0x417885?.['browserName']?.[_0x508774(0x210)](),_0x4d6250['hmynY'])||_0x4d6250[_0x508774(0x1f8)](_0x417885?.[_0x508774(0x20b)]?.[_0x508774(0x210)](),_0x4d6250['ehyzM']))_0x5ab821[_0x508774(0x220)]=_0x417885;else _0x4d6250[_0x508774(0x1f8)](_0x417885?.[_0x508774(0x20b)]?.['toLowerCase'](),'ie')&&(_0x5ab821[_0x508774(0x205)]=_0x417885);}}}Object[_0x508774(0x255)](_0x417885)[_0x508774(0x26d)](_0x1ee1f7=>{const _0x4b54e1=_0x508774,_0x3e21cd=_0x5ab821[_0x4b54e1(0x24f)]['get'](_0x1ee1f7);_0x5ab821[_0x4b54e1(0x24f)][_0x4b54e1(0x212)](_0x1ee1f7,_0x417885[_0x1ee1f7]);});}catch(_0x5b19a4){logger[_0x508774(0x23f)]('Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20'+(_0x5b19a4&&_0x5b19a4[_0x508774(0x218)]?_0x5b19a4[_0x508774(0x218)]:''));}}async['setTcgToken'](_0x53ec0d){const _0xd8043c=a99_0x44db7e,_0x564551={'jysYV':function(_0x16fd4b,_0xd0fa9f,_0x347bb8,_0x458ac4,_0x17a75e,_0x448acc,_0xaa1f02){return _0x16fd4b(_0xd0fa9f,_0x347bb8,_0x458ac4,_0x17a75e,_0x448acc,_0xaa1f02);},'zanCK':_0xd8043c(0x233),'rGbLt':_0xd8043c(0x25b),'VELYz':_0xd8043c(0x21f)},_0x204618=new Date(),_0x1dec87=_0x564551[_0xd8043c(0x244)](timeoutPromise,constants[_0xd8043c(0x245)],_0x564551[_0xd8043c(0x229)],_0x564551[_0xd8043c(0x217)],_0x204618,this[_0xd8043c(0x1fb)],this[_0xd8043c(0x259)]);await Promise['race']([this[_0xd8043c(0x227)]['setToken'](_0x53ec0d,globals[_0xd8043c(0x260)](_0x564551[_0xd8043c(0x250)]),constants[_0xd8043c(0x1f5)])[_0xd8043c(0x261)](()=>{const _0x12fd8b=_0xd8043c;_0x1dec87[_0x12fd8b(0x211)]();}),_0x1dec87]);}async['_handleEvent'](_0x50c46a,_0x1326d6,_0x417824,_0x3d2460){const _0x51c081=a99_0x44db7e,_0x5c7fc7={'YZPlE':function(_0x1a39ee,_0x11b192){return _0x1a39ee===_0x11b192;},'vyoxI':function(_0x40e7b7,_0x196d7b){return _0x40e7b7===_0x196d7b;},'zWckE':function(_0x5b4c16,_0x36863b){return _0x5b4c16(_0x36863b);},'Ftrsk':function(_0x5e8655,_0x4c1475){return _0x5e8655(_0x4c1475);},'RzbtF':function(_0x323f9d,_0x38b531){return _0x323f9d(_0x38b531);},'SuYjH':function(_0x465b05,_0x4d9bfb){return _0x465b05(_0x4d9bfb);},'SaXeT':function(_0x180b8c,_0x44e5f6){return _0x180b8c(_0x44e5f6);},'BmFPr':function(_0x3f42e7,_0x30c648){return _0x3f42e7(_0x30c648);},'ZTrod':function(_0x4e4ffb,_0x4daee1){return _0x4e4ffb(_0x4daee1);},'pofjE':_0x51c081(0x26c),'WyiVH':function(_0xe71369,_0xd830b7){return _0xe71369(_0xd830b7);},'yYvJS':_0x51c081(0x26b),'hEEJs':'aiHeal_groupId','YrdLp':'aiHeal_isGroupAIEnabled','fZXTL':function(_0x15532e,_0x37c18d,_0x2cad37,_0x44fa51,_0x134846,_0x856f5a,_0x2eb892){return _0x15532e(_0x37c18d,_0x2cad37,_0x44fa51,_0x134846,_0x856f5a,_0x2eb892);},'iFUss':_0x51c081(0x226),'AUojn':_0x51c081(0x207),'cbFdY':_0x51c081(0x267),'xQsfe':_0x51c081(0x237)},_0x4e4e51=(await _0x1326d6['getSession']())[_0x51c081(0x256)]();let _0x54cc0c='';if(commandRepository[_0x51c081(0x22d)]()&&_0x5c7fc7['YZPlE'](_0x3d2460,![])||_0x5c7fc7[_0x51c081(0x24c)](_0x3d2460,!![])){const _0x4942c8=_0x5c7fc7[_0x51c081(0x25f)](isNotUndefinedOrNull,_0x417824[_0x51c081(0x234)][_0x51c081(0x23e)])&&_0x5c7fc7[_0x51c081(0x25f)](isString,_0x417824[_0x51c081(0x234)]['using'])?_0x417824['parameters_'][_0x51c081(0x23e)][_0x51c081(0x25c)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x66ab71=_0x5c7fc7[_0x51c081(0x25f)](isNotUndefinedOrNull,_0x417824[_0x51c081(0x234)]['using'])&&_0x5c7fc7[_0x51c081(0x246)](isString,_0x417824[_0x51c081(0x234)]['value'])?_0x417824[_0x51c081(0x234)][_0x51c081(0x22e)]['replace'](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x38cbd7=_0x5c7fc7[_0x51c081(0x206)](isNotUndefinedOrNull,commandRepository[_0x51c081(0x236)]())&&_0x5c7fc7['SuYjH'](isString,commandRepository[_0x51c081(0x236)]())?commandRepository[_0x51c081(0x236)]()[_0x51c081(0x25c)](/'/g,'\x5c\x27')[_0x51c081(0x25c)](/"/g,'\x5c\x22'):'';let _0x1e45f1=_0x5c7fc7[_0x51c081(0x203)](isNotUndefinedOrNull,global[_0x51c081(0x1f4)])&&_0x5c7fc7[_0x51c081(0x238)](isString,global[_0x51c081(0x1f4)])?global[_0x51c081(0x1f4)][_0x51c081(0x25c)](/'/g,'\x5c\x27')[_0x51c081(0x25c)](/"/g,'\x5c\x22'):'';!_0x1e45f1&&(_0x1e45f1=_0x5c7fc7[_0x51c081(0x20f)](isNotUndefinedOrNull,commandRepository[_0x51c081(0x241)]())&&_0x5c7fc7[_0x51c081(0x225)](isString,commandRepository[_0x51c081(0x241)]())?commandRepository['getTestName']()['replace'](/'/g,'\x5c\x27')[_0x51c081(0x25c)](/"/g,'\x5c\x22'):'');let _0x522f6b=_0x51c081(0x253)+constants['TCG_REGION']+'\x22,\x20\x22tcgUrls\x22:\x20{\x22'+constants[_0x51c081(0x23b)]+_0x51c081(0x21d)+constants['TCG_URL'][_0x51c081(0x268)](_0x5c7fc7['pofjE'])[0x1]+_0x51c081(0x20c);_0x522f6b=_0x5c7fc7[_0x51c081(0x206)](isNotUndefinedOrNull,_0x522f6b)&&_0x5c7fc7[_0x51c081(0x21c)](isString,_0x522f6b)?_0x522f6b[_0x51c081(0x25c)](/'/g,'\x5c\x27')[_0x51c081(0x25c)](/"/g,'\x5c\x22'):'';const _0x81d8d=commandRepository[_0x51c081(0x1fc)](_0x4e4e51),_0x19f732=globals['getGlobal'](_0x5c7fc7[_0x51c081(0x21a)]),_0x5284af=globals['getGlobal'](_0x5c7fc7[_0x51c081(0x202)]),_0xeff99=globals[_0x51c081(0x260)](_0x5c7fc7[_0x51c081(0x201)]),_0x1a0d6f=![],_0x394fe7=new Date();if(_0x3d2460){const _0x56a4a0=_0x5c7fc7[_0x51c081(0x1fd)](timeoutPromise,constants[_0x51c081(0x25e)],_0x5c7fc7['iFUss'],_0x5c7fc7['AUojn'],_0x394fe7,this[_0x51c081(0x1fb)],this['framework']);_0x54cc0c=await Promise[_0x51c081(0x26f)]([this['BrowserstackHealing'][_0x51c081(0x22a)](_0x4942c8,_0x66ab71,_0x38cbd7,_0x1e45f1,_0x5284af,_0x4e4e51,_0x81d8d,_0x522f6b)[_0x51c081(0x261)](_0x58c380=>{const _0x139111=_0x51c081;return _0x56a4a0[_0x139111(0x211)](),_0x58c380;}),_0x56a4a0]);}else{if(commandRepository[_0x51c081(0x22d)]()){const _0x1c29ac=_0x5c7fc7['fZXTL'](timeoutPromise,constants[_0x51c081(0x265)],_0x5c7fc7[_0x51c081(0x215)],_0x5c7fc7['xQsfe'],_0x394fe7,this[_0x51c081(0x1fb)],this[_0x51c081(0x259)]);_0x54cc0c=await Promise[_0x51c081(0x26f)]([this[_0x51c081(0x227)][_0x51c081(0x26a)](_0x4942c8,_0x66ab71,_0x38cbd7,_0x1e45f1,_0x19f732,_0x5284af,_0x4e4e51,_0x81d8d,_0x1a0d6f,_0xeff99,_0x522f6b)[_0x51c081(0x261)](_0x5efded=>{const _0x2503f4=_0x51c081;return _0x1c29ac[_0x2503f4(0x211)](),_0x5efded;}),_0x1c29ac]);}}_0x54cc0c&&await _0x1326d6['executeScript'](_0x54cc0c);}}async[a99_0x44db7e(0x22f)](_0x1c0d6e,_0x1272c3,_0x2cb582){const _0x1c7a9d=a99_0x44db7e;try{await this['_handleEvent'](_0x1c0d6e,_0x1272c3,_0x2cb582,!![]);}catch(_0x5c6093){return logger[_0x1c7a9d(0x23f)](_0x1c7a9d(0x251)+(_0x5c6093&&_0x5c6093[_0x1c7a9d(0x218)]?_0x5c6093['message']:'')),![];}return!![];}async['handleFailure'](_0x352a39,_0x119577,_0x5a93f1){const _0x39efa5=a99_0x44db7e,_0x484233={'HCDAt':function(_0x576690,_0x208545,_0xc4af67,_0x119e9f,_0x40ffbf,_0x3da081,_0x5bf93e){return _0x576690(_0x208545,_0xc4af67,_0x119e9f,_0x40ffbf,_0x3da081,_0x5bf93e);},'otPQz':_0x39efa5(0x252),'EtMMx':'BrowserstackHealingPollResultFailed','JdeHo':_0x39efa5(0x21f)};try{await this[_0x39efa5(0x20a)](_0x352a39,_0x119577,_0x5a93f1,![]);const _0x17c2a0=(await _0x119577[_0x39efa5(0x243)]())[_0x39efa5(0x256)](),_0x374421=new Date(),_0x38d0e8=_0x484233[_0x39efa5(0x1fe)](timeoutPromise,constants[_0x39efa5(0x239)],_0x484233[_0x39efa5(0x24b)],_0x484233[_0x39efa5(0x20d)],_0x374421,this[_0x39efa5(0x1fb)],this[_0x39efa5(0x259)]),_0x43fbe8=await Promise[_0x39efa5(0x26f)]([this[_0x39efa5(0x227)][_0x39efa5(0x1f3)](constants[_0x39efa5(0x1f5)],_0x17c2a0,globals[_0x39efa5(0x260)](_0x484233['JdeHo']))['then'](_0x4e34ab=>{return _0x38d0e8['cancel'](),_0x4e34ab;}),_0x38d0e8]);if(_0x43fbe8&&_0x43fbe8['selector']&&_0x43fbe8['value']){const _0x20e2aa={};return _0x20e2aa['locatorType']=_0x43fbe8[_0x39efa5(0x249)],_0x20e2aa[_0x39efa5(0x21b)]=_0x43fbe8['value'],_0x20e2aa[_0x39efa5(0x25a)]=!![],_0x20e2aa;}const _0x39842e={};return _0x39842e['locatorType']=_0x5a93f1[_0x39efa5(0x234)][_0x39efa5(0x23e)],_0x39842e['locatorValue']=_0x43fbe8[_0x39efa5(0x22e)],_0x39842e[_0x39efa5(0x25a)]=!![],_0x39842e;}catch(_0x40b343){return logger[_0x39efa5(0x1f7)](_0x39efa5(0x254)+(_0x40b343&&_0x40b343[_0x39efa5(0x218)]?_0x40b343[_0x39efa5(0x218)]:'')),logger[_0x39efa5(0x23c)]('Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20'+_0x5a93f1[_0x39efa5(0x221)]+'\x20command'),_0x5a93f1;}}}function a99_0x103f(_0x21778c,_0x31190d){const _0x3d48a5=a99_0x3d48();return a99_0x103f=function(_0x103f07,_0x312315){_0x103f07=_0x103f07-0x1f1;let _0x1a5e8b=_0x3d48a5[_0x103f07];return _0x1a5e8b;},a99_0x103f(_0x21778c,_0x31190d);}exports[a99_0x44db7e(0x270)]=Object['freeze'](new AiSdkWrapper());function a99_0x3d48(){const _0x52073c=['s://','forEach','firefoxOptions_','race','aiSdkWrapper','safari','Unable\x20to\x20load\x20healing\x20module,\x20error:\x20','pollResult','browserstackSessionName','TCG_URL','./autoHealHelper','debug','RoGNb','126iLaNNE','3486170iqKtDB','config','getCommands','fZXTL','HCDAt','safariOptions_','string','YrdLp','hEEJs','SaXeT','319408kuGmwF','ieOptions_','RzbtF','BrowserstackHealingLogDataFailed','initializeCapabilities','path','_handleEvent','browserName','\x22}}}','EtMMx','../../helpers/timeoutPromise','SuYjH','toLowerCase','cancel','set','EYjXF','getCapabilities','cbFdY','edge','rGbLt','message','540alvJhH','yYvJS','locatorValue','WyiVH','\x22:\x20{\x22endpoint\x22:\x20\x22','chromeOptions_','aiHeal_sessionToken','edgeOptions_','name_','uvOzM','mORDu','../globals','ZTrod','BrowserstackHealing.logData\x20method\x20timed\x20out','BrowserstackHealing','firefox','zanCK','logData','16910062AugwDy','initializeHealingCapabilities','isSelfHealEnabled','value','handleSuccess','mUVIR','../../bin/utils/constants','48pNNHzb','BrowserstackHealing.setToken\x20method\x20timed\x20out','parameters_','../logger','getProjectName','BrowserstackHealingHealFailureFailed','BmFPr','POLL_HEALING_RESULT_TIMEOUT','fromEntries','TCG_REGION','info','33sKlvUA','using','error','NXDIs','getTestName','join','getSession','jysYV','SET_TCG_TOKEN_TIMEOUT','Ftrsk','chrome','1250bOpfAZ','selector','18YEYWEn','otPQz','vyoxI','ehyzM','496572trLOQZ','capabilities_','VELYz','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20','BrowserstackHealing.pollResult\x20method\x20timed\x20out','{\x22region\x22:\x20\x22','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','keys','getId','1695111kLcaMJ','upFkX','framework','aiHealing','BrowserstackHealingSetTcgTokenFailed','replace','ccuHp','HEALING_LOG_DATA_TIMEOUT','zWckE','getGlobal','then','map_','SwBTw','28955QuCHKB','HEALING_FAILURE_TIMEOUT','microsoftedge','BrowserstackHealing.healFailure\x20method\x20timed\x20out','split','2093jBpRlT','healFailure','aiHeal_userId'];a99_0x3d48=function(){return _0x52073c;};return a99_0x3d48();}