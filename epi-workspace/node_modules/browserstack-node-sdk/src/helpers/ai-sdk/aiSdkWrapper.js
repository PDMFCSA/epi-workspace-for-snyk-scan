function a99_0x4747(_0x46628a,_0x14e07b){const _0x34faab=a99_0x34fa();return a99_0x4747=function(_0x474782,_0x4f4d84){_0x474782=_0x474782-0xec;let _0x834f7b=_0x34faab[_0x474782];return _0x834f7b;},a99_0x4747(_0x46628a,_0x14e07b);}const a99_0x2a5941=a99_0x4747;function a99_0x34fa(){const _0x52ada0=['mCToS','locatorType','jOwHs','11DqtnEQ','iuSKz','BrowserstackHealingPollResultFailed','Gdvic','../logger','\x22:\x20{\x22endpoint\x22:\x20\x22','getSession','BrowserstackHealing.setToken\x20method\x20timed\x20out','IKVyi','3732FoyvRz','keys','getTestName','aiHeal_isGroupAIEnabled','getCapabilities','initializeHealingCapabilities','_handleEvent','HEALING_LOG_DATA_TIMEOUT','fXyKW','VdUWs','4300ZVLBMa','getProjectName','BrowserstackHealingLogDataFailed','firefox','KRuKl','oDpVe','252TScMbj','343836fTdwyt','40MOmKQO','toLowerCase','join','RjXRR','debug','aiHeal_sessionToken','xaijp','pollResult','using','BrowserstackHealing.healFailure\x20method\x20timed\x20out','parameters_','njgbG','pkmGn','YPJHP','boEMl','then','setTcgToken','aiHealing','BrowserstackHealing','string','chromeOptions_','\x20command','../globals','LAkjr','bqJXI','handleFailure','value','Healing\x20Failed,\x20Browserstack\x20AI\x20could\x20not\x20heal\x20the\x20','VxYXL','BrowserstackHealing.pollResult\x20method\x20timed\x20out','Error\x20in\x20initialising\x20healing\x20capabilities\x20,\x20error:\x20','freeze','winstonLogger','set','\x22}}}','Dtosr','FEAeE','split','JtZsO','DDfuO','TCG_URL','isSelfHealEnabled','HEALING_FAILURE_TIMEOUT','nuyyH','116uorjqO','12574eONCbX','30810ViPsSS','PWqnK','hQVVv','s://','VlMjJ','path','gjton','BrowserstackHealing.logData\x20method\x20timed\x20out','FvEuQ','browserName','getId','capabilities_','microsoftedge','log','TCG_REGION','map_','cancel','ZAepM','DwnZC','race','browserstackSessionName','UPUYl','initializeCapabilities','selector','../../helpers/timeoutPromise','getGlobal','firefoxOptions_','healFailure','newCapabilities','1548CQNRDB','locatorValue','2799768pcroEu','message','replace','15912KbrkyU','error','config','setToken','name_','41490982hWJkKR','BrowserstackHealingHealFailureFailed','Error\x20in\x20(healing)\x20handling\x20failure\x20event.\x20ERROR:\x20','framework','Error\x20in\x20(healing)\x20success\x20event.\x20ERROR:\x20'];a99_0x34fa=function(){return _0x52ada0;};return a99_0x34fa();}(function(_0x20bd8f,_0x649686){const _0x5581dd=a99_0x4747,_0xc89e9f=_0x20bd8f();while(!![]){try{const _0x5194d5=-parseInt(_0x5581dd(0x132))/0x1*(parseInt(_0x5581dd(0x133))/0x2)+-parseInt(_0x5581dd(0xf4))/0x3*(parseInt(_0x5581dd(0xfe))/0x4)+-parseInt(_0x5581dd(0x106))/0x5*(-parseInt(_0x5581dd(0x105))/0x6)+-parseInt(_0x5581dd(0x104))/0x7*(parseInt(_0x5581dd(0x156))/0x8)+parseInt(_0x5581dd(0x151))/0x9*(-parseInt(_0x5581dd(0x134))/0xa)+-parseInt(_0x5581dd(0x163))/0xb*(parseInt(_0x5581dd(0x153))/0xc)+parseInt(_0x5581dd(0x15b))/0xd;if(_0x5194d5===_0x649686)break;else _0xc89e9f['push'](_0xc89e9f['shift']());}catch(_0x2df64b){_0xc89e9f['push'](_0xc89e9f['shift']());}}}(a99_0x34fa,0xb6c4c));const path=require(a99_0x2a5941(0x139)),{commandRepository}=require('./autoHealHelper'),constants=require('../../bin/utils/constants'),logger=require(a99_0x2a5941(0xef))[a99_0x2a5941(0x126)],globals=require(a99_0x2a5941(0x11c)),timeoutPromise=require(a99_0x2a5941(0x14c)),isUndefinedOrNull=_0xb31597=>_0xb31597===undefined||_0xb31597===null||_0xb31597==='',isNotUndefinedOrNull=_0x5c5776=>!isUndefinedOrNull(_0x5c5776),isString=_0x48988b=>isNotUndefinedOrNull(_0x48988b)&&typeof _0x48988b===a99_0x2a5941(0x119);class AiSdkWrapper{constructor(){const _0x368c55=a99_0x2a5941,_0x31d2a3={'DwnZC':function(_0x3b36cb,_0x58af2b){return _0x3b36cb(_0x58af2b);},'chJHs':'../../ai-sdk-node/bundle'};this[_0x368c55(0x118)]=undefined;try{this[_0x368c55(0x118)]=_0x31d2a3[_0x368c55(0x146)](require,path[_0x368c55(0x108)](__dirname,_0x31d2a3['chJHs']));}catch(_0x39f3f3){logger['error']('Unable\x20to\x20load\x20healing\x20module,\x20error:\x20'+(_0x39f3f3&&_0x39f3f3[_0x368c55(0x154)]?_0x39f3f3[_0x368c55(0x154)]:''));}}[a99_0x2a5941(0xf9)](_0x35c47a){const _0x4640b7=a99_0x2a5941,_0x23e124={};_0x23e124[_0x4640b7(0x135)]=_0x4640b7(0x150),_0x23e124[_0x4640b7(0x111)]=function(_0x51431d,_0x3ecc31){return _0x51431d===_0x3ecc31;},_0x23e124[_0x4640b7(0x11d)]='chrome',_0x23e124[_0x4640b7(0x102)]=function(_0xb63b6c,_0x2e7a80){return _0xb63b6c===_0x2e7a80;},_0x23e124[_0x4640b7(0xfd)]=_0x4640b7(0x101),_0x23e124['hQVVv']='safari',_0x23e124[_0x4640b7(0x149)]='edge',_0x23e124[_0x4640b7(0x114)]=_0x4640b7(0x140),_0x23e124[_0x4640b7(0x13c)]=function(_0x121127,_0x204737){return _0x121127===_0x204737;};const _0x2abc33=_0x23e124;try{const _0x2fb863=this[_0x4640b7(0x118)][_0x4640b7(0x14a)](Object['fromEntries'](_0x35c47a[_0x4640b7(0xf8)]()[_0x4640b7(0x143)]));console[_0x4640b7(0x141)](_0x2abc33[_0x4640b7(0x135)],_0x2fb863);if(_0x2abc33[_0x4640b7(0x111)](_0x2fb863?.[_0x4640b7(0x13d)]?.[_0x4640b7(0x107)](),_0x2abc33[_0x4640b7(0x11d)]))_0x35c47a[_0x4640b7(0x11a)]=_0x2fb863;else{if(_0x2abc33[_0x4640b7(0x102)](_0x2fb863?.[_0x4640b7(0x13d)]?.['toLowerCase'](),_0x2abc33[_0x4640b7(0xfd)]))_0x35c47a[_0x4640b7(0x14e)]=_0x2fb863;else{if(_0x2abc33[_0x4640b7(0x111)](_0x2fb863?.['browserName']?.[_0x4640b7(0x107)](),_0x2abc33[_0x4640b7(0x136)]))_0x35c47a['safariOptions_']=_0x2fb863;else{if(_0x2abc33['njgbG'](_0x2fb863?.[_0x4640b7(0x13d)]?.[_0x4640b7(0x107)](),_0x2abc33[_0x4640b7(0x149)])||_0x2abc33[_0x4640b7(0x111)](_0x2fb863?.['browserName']?.['toLowerCase'](),_0x2abc33['boEMl']))_0x35c47a['edgeOptions_']=_0x2fb863;else _0x2abc33[_0x4640b7(0x13c)](_0x2fb863?.[_0x4640b7(0x13d)]?.[_0x4640b7(0x107)](),'ie')&&(_0x35c47a['ieOptions_']=_0x2fb863);}}}Object[_0x4640b7(0xf5)](_0x2fb863)['forEach'](_0x3847e6=>{const _0x763fa3=_0x4640b7,_0x529421=_0x35c47a[_0x763fa3(0x13f)]['get'](_0x3847e6);_0x35c47a[_0x763fa3(0x13f)][_0x763fa3(0x127)](_0x3847e6,_0x2fb863[_0x3847e6]);});}catch(_0x273737){logger['error'](_0x4640b7(0x124)+(_0x273737&&_0x273737[_0x4640b7(0x154)]?_0x273737[_0x4640b7(0x154)]:''));}}async[a99_0x2a5941(0x116)](_0x4ada31){const _0x212656=a99_0x2a5941,_0x4ed70c={'gjton':function(_0x44052a,_0x2b5a5e,_0x30533c,_0x268698,_0x4b3994,_0xfbdc27,_0x558a48){return _0x44052a(_0x2b5a5e,_0x30533c,_0x268698,_0x4b3994,_0xfbdc27,_0x558a48);},'Dtosr':_0x212656(0xf2),'IKVyi':'BrowserstackHealingSetTcgTokenFailed','JRVik':'aiHeal_sessionToken'},_0x42c9bd=new Date(),_0x178553=_0x4ed70c[_0x212656(0x13a)](timeoutPromise,constants['SET_TCG_TOKEN_TIMEOUT'],_0x4ed70c[_0x212656(0x129)],_0x4ed70c[_0x212656(0xf3)],_0x42c9bd,this[_0x212656(0x158)],this[_0x212656(0x15e)]);await Promise[_0x212656(0x147)]([this['BrowserstackHealing'][_0x212656(0x159)](_0x4ada31,globals[_0x212656(0x14d)](_0x4ed70c['JRVik']),constants['TCG_URL'])[_0x212656(0x115)](()=>{_0x178553['cancel']();}),_0x178553]);}async[a99_0x2a5941(0xfa)](_0x295115,_0x432546,_0x55d030,_0x1fb69c){const _0x10936d=a99_0x2a5941,_0x23ac90={'iuSKz':function(_0x1bfa43,_0x340338){return _0x1bfa43===_0x340338;},'fXyKW':function(_0xc634e9,_0x5698cd){return _0xc634e9===_0x5698cd;},'DDfuO':function(_0x3a3b2e,_0x1dc7d0){return _0x3a3b2e(_0x1dc7d0);},'jOwHs':function(_0x101970,_0x1bbbf7){return _0x101970(_0x1bbbf7);},'mCToS':function(_0x1d43f1,_0x182ea6){return _0x1d43f1(_0x182ea6);},'LoGon':function(_0x5f0af5,_0x3879e0){return _0x5f0af5(_0x3879e0);},'xaijp':function(_0x512532,_0x51fc1b){return _0x512532(_0x51fc1b);},'RjXRR':function(_0x28ee5f,_0x2050e0){return _0x28ee5f(_0x2050e0);},'FEAeE':function(_0x18a048,_0x160249){return _0x18a048(_0x160249);},'VlMjJ':_0x10936d(0x137),'ehgVX':'aiHeal_userId','pkmGn':'aiHeal_groupId','YPJHP':_0x10936d(0xf7),'bqJXI':function(_0x1c5926,_0x522f35,_0x2a3939,_0xc68e0e,_0x1199f8,_0x3b8e5c,_0x2f5fdf){return _0x1c5926(_0x522f35,_0x2a3939,_0xc68e0e,_0x1199f8,_0x3b8e5c,_0x2f5fdf);},'UsVLr':_0x10936d(0x13b),'nuyyH':_0x10936d(0x100),'VxYXL':_0x10936d(0x10f),'JtZsO':_0x10936d(0x15c)},_0x48fc0d=(await _0x432546['getSession']())[_0x10936d(0x13e)]();let _0x4a9f5d='';if(commandRepository['isSelfHealEnabled']()&&_0x23ac90[_0x10936d(0xec)](_0x1fb69c,![])||_0x23ac90[_0x10936d(0xfc)](_0x1fb69c,!![])){const _0x3aa4e8=_0x23ac90[_0x10936d(0x12d)](isNotUndefinedOrNull,_0x55d030[_0x10936d(0x110)][_0x10936d(0x10e)])&&_0x23ac90[_0x10936d(0x162)](isString,_0x55d030['parameters_'][_0x10936d(0x10e)])?_0x55d030[_0x10936d(0x110)][_0x10936d(0x10e)][_0x10936d(0x155)](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'',_0x41be68=_0x23ac90[_0x10936d(0x160)](isNotUndefinedOrNull,_0x55d030['parameters_']['using'])&&_0x23ac90['LoGon'](isString,_0x55d030[_0x10936d(0x110)][_0x10936d(0x120)])?_0x55d030['parameters_'][_0x10936d(0x120)]['replace'](/'/g,'\x5c\x27')[_0x10936d(0x155)](/"/g,'\x5c\x22'):'',_0x47c7ee=_0x23ac90[_0x10936d(0x10c)](isNotUndefinedOrNull,commandRepository[_0x10936d(0xff)]())&&_0x23ac90[_0x10936d(0x162)](isString,commandRepository[_0x10936d(0xff)]())?commandRepository['getProjectName']()['replace'](/'/g,'\x5c\x27')['replace'](/"/g,'\x5c\x22'):'';let _0x3f95e5=_0x23ac90['RjXRR'](isNotUndefinedOrNull,global['browserstackSessionName'])&&_0x23ac90[_0x10936d(0x109)](isString,global[_0x10936d(0x148)])?global[_0x10936d(0x148)][_0x10936d(0x155)](/'/g,'\x5c\x27')[_0x10936d(0x155)](/"/g,'\x5c\x22'):'';!_0x3f95e5&&(_0x3f95e5=_0x23ac90[_0x10936d(0x160)](isNotUndefinedOrNull,commandRepository[_0x10936d(0xf6)]())&&_0x23ac90[_0x10936d(0x12a)](isString,commandRepository[_0x10936d(0xf6)]())?commandRepository[_0x10936d(0xf6)]()['replace'](/'/g,'\x5c\x27')[_0x10936d(0x155)](/"/g,'\x5c\x22'):'');let _0x3b6ba3='{\x22region\x22:\x20\x22'+constants['TCG_REGION']+'\x22,\x20\x22tcgUrls\x22:\x20{\x22'+constants[_0x10936d(0x142)]+_0x10936d(0xf0)+constants[_0x10936d(0x12e)][_0x10936d(0x12b)](_0x23ac90[_0x10936d(0x138)])[0x1]+_0x10936d(0x128);_0x3b6ba3=_0x23ac90[_0x10936d(0x12d)](isNotUndefinedOrNull,_0x3b6ba3)&&_0x23ac90['xaijp'](isString,_0x3b6ba3)?_0x3b6ba3[_0x10936d(0x155)](/'/g,'\x5c\x27')[_0x10936d(0x155)](/"/g,'\x5c\x22'):'';const _0xd306c2=commandRepository['getCommands'](_0x48fc0d),_0x149280=globals[_0x10936d(0x14d)](_0x23ac90['ehgVX']),_0x46d14b=globals[_0x10936d(0x14d)](_0x23ac90[_0x10936d(0x112)]),_0x58254f=globals[_0x10936d(0x14d)](_0x23ac90[_0x10936d(0x113)]),_0x2c0eb5=![],_0x58e85b=new Date();if(_0x1fb69c){const _0x3c44b9=_0x23ac90[_0x10936d(0x11e)](timeoutPromise,constants[_0x10936d(0xfb)],_0x23ac90['UsVLr'],_0x23ac90[_0x10936d(0x131)],_0x58e85b,this[_0x10936d(0x158)],this[_0x10936d(0x15e)]);_0x4a9f5d=await Promise[_0x10936d(0x147)]([this[_0x10936d(0x118)]['logData'](_0x3aa4e8,_0x41be68,_0x47c7ee,_0x3f95e5,_0x46d14b,_0x48fc0d,_0xd306c2,_0x3b6ba3)[_0x10936d(0x115)](_0x145f86=>{const _0x347de9=_0x10936d;return _0x3c44b9[_0x347de9(0x144)](),_0x145f86;}),_0x3c44b9]);}else{if(commandRepository[_0x10936d(0x12f)]()){const _0x5e1b03=_0x23ac90['bqJXI'](timeoutPromise,constants[_0x10936d(0x130)],_0x23ac90[_0x10936d(0x122)],_0x23ac90[_0x10936d(0x12c)],_0x58e85b,this[_0x10936d(0x158)],this[_0x10936d(0x15e)]);_0x4a9f5d=await Promise[_0x10936d(0x147)]([this[_0x10936d(0x118)][_0x10936d(0x14f)](_0x3aa4e8,_0x41be68,_0x47c7ee,_0x3f95e5,_0x149280,_0x46d14b,_0x48fc0d,_0xd306c2,_0x2c0eb5,_0x58254f,_0x3b6ba3)['then'](_0x539386=>{return _0x5e1b03['cancel'](),_0x539386;}),_0x5e1b03]);}}_0x4a9f5d&&await _0x432546['executeScript'](_0x4a9f5d);}}async['handleSuccess'](_0x3fafa4,_0x225d40,_0xf54b18){const _0x3df36d=a99_0x2a5941;try{await this['_handleEvent'](_0x3fafa4,_0x225d40,_0xf54b18,!![]);}catch(_0x264ec4){return logger[_0x3df36d(0x157)](_0x3df36d(0x15f)+(_0x264ec4&&_0x264ec4[_0x3df36d(0x154)]?_0x264ec4[_0x3df36d(0x154)]:'')),![];}return!![];}async[a99_0x2a5941(0x11f)](_0x2f133a,_0x4f0712,_0x1bb301){const _0x1dbcfb=a99_0x2a5941,_0x206833={'Gdvic':function(_0x1dca8e,_0x57ddbe,_0x1934f4,_0x5e425f,_0x45e853,_0x18c498,_0x305b8e){return _0x1dca8e(_0x57ddbe,_0x1934f4,_0x5e425f,_0x45e853,_0x18c498,_0x305b8e);},'NFomi':_0x1dbcfb(0x123),'oDpVe':_0x1dbcfb(0xed),'ZAepM':_0x1dbcfb(0x10b)};try{await this[_0x1dbcfb(0xfa)](_0x2f133a,_0x4f0712,_0x1bb301,![]);const _0x4a5b5c=(await _0x4f0712[_0x1dbcfb(0xf1)]())[_0x1dbcfb(0x13e)](),_0x20f085=new Date(),_0x315fee=_0x206833[_0x1dbcfb(0xee)](timeoutPromise,constants['POLL_HEALING_RESULT_TIMEOUT'],_0x206833['NFomi'],_0x206833[_0x1dbcfb(0x103)],_0x20f085,this[_0x1dbcfb(0x158)],this[_0x1dbcfb(0x15e)]),_0x2201a8=await Promise['race']([this[_0x1dbcfb(0x118)][_0x1dbcfb(0x10d)](constants['TCG_URL'],_0x4a5b5c,globals[_0x1dbcfb(0x14d)](_0x206833[_0x1dbcfb(0x145)]))[_0x1dbcfb(0x115)](_0x1cdd44=>{const _0x17fd8a=_0x1dbcfb;return _0x315fee[_0x17fd8a(0x144)](),_0x1cdd44;}),_0x315fee]);if(_0x2201a8&&_0x2201a8['selector']&&_0x2201a8['value']){const _0x22fc5c={};return _0x22fc5c['locatorType']=_0x2201a8[_0x1dbcfb(0x14b)],_0x22fc5c[_0x1dbcfb(0x152)]=_0x2201a8['value'],_0x22fc5c['aiHealing']=!![],_0x22fc5c;}const _0x8400f={};return _0x8400f[_0x1dbcfb(0x161)]=_0x1bb301['parameters_']['using'],_0x8400f[_0x1dbcfb(0x152)]=_0x2201a8[_0x1dbcfb(0x120)],_0x8400f[_0x1dbcfb(0x117)]=!![],_0x8400f;}catch(_0x4e4805){return logger[_0x1dbcfb(0x10a)](_0x1dbcfb(0x15d)+(_0x4e4805&&_0x4e4805[_0x1dbcfb(0x154)]?_0x4e4805[_0x1dbcfb(0x154)]:'')),logger['info'](_0x1dbcfb(0x121)+_0x1bb301[_0x1dbcfb(0x15a)]+_0x1dbcfb(0x11b)),_0x1bb301;}}}exports['aiSdkWrapper']=Object[a99_0x2a5941(0x125)](new AiSdkWrapper());