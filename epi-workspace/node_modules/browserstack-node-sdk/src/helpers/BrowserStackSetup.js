function a83_0x2561(_0x1bf17c,_0x5d3a86){const _0x395663=a83_0x3956();return a83_0x2561=function(_0x256107,_0x3e5a4a){_0x256107=_0x256107-0x1ad;let _0x4bdf1a=_0x395663[_0x256107];return _0x4bdf1a;},a83_0x2561(_0x1bf17c,_0x5d3a86);}const a83_0x486e2a=a83_0x2561;function a83_0x3956(){const _0x3af957=['checkStopLocalBinaryOnExit','userName','getProxyConfigForTcg','EDS_URL','FRAMEWORK','skipSessionStatus','4eXlLnm','MBRnD','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','SBpEg','startMonitoring','Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.','bSoZb','isUndefined','UPGRADE_REQUIRED','winstonLogger','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','VKoiJ','error','UBklQ','Gyhzi','EGhSz','testContextOptions','1795400FMLRuv','envConfig','sanitizeCaps','platforms','yqqzH','yWTlS','Failed\x20to\x20send\x20data\x20to\x20','ALIif','sdkRunId','CVBLs','aNxia','wuLXZ','browserstackLocal','toLowerCase','parallelsPerPlatform','./logger','RSkkh','getAccessKey','useW3C','isHealingEnabled','config','Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled','setupBrowserstackLocal','Shutdown\x20triggered\x20by\x20','Percy\x20started\x20successfully','SDKTestAttempted','finalize','pEvpG','zJIGm','path','win32','setupTcgConfigFile','12565LHrvtg','xDUiS','beforeExit','setUpHubUrl','VODEL','AI_INIT_FAILURE','parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','proxy','bjZdV','util','split','setCredentialsFromYmlConfig','generateLocalIdentifier','measures','tcgAuthConfig','1|4|3|5|2|0|6|7','gypLg','length','events.json','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','XGHjC','PKovC','SIGHUP','debug','SIGTERM','cliConfig','TCG_URL','isBrowserstackInfra','turboScaleOptions','includes','TCG_DOWN','./setKeepAlive','isTurboScaleSession','getConfigPath','FYpRL','./performance/performance-tester','unhandledErrors','uATOR','close','getUserName','158820wbdUtc','env','setLogDir','statusCode','bstackConfig','\x20with\x20response\x20','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','mYwQw','getLocalIdentifier','ekjrT','init','killSignal','cancel','138awHwza','lyogZ','uuid','RSFhN','otofn','message','startPercy','SIGQUIT','writeFileSync','setBrowserstackInfraFromConfig','sendToEDS','toString','intExitHandler','stopBrowserstackLocal','DWweL','readConfig','stopPercy','UTEtZ','BXMBi','AUTOLOGCAPTURE_NOTIFICATION','TCG_AUTH_TIMEOUT','bind','fAHPZ','turboScaleGridDetails','BUAnq','SIGBREAK','BROWSERSTACK_PERCY','ZNhZP','skipBinaryInitialisation','10WGlgzM','AEqKU','Local\x20binary\x20started\x20successfully','userName\x20or\x20accessKey\x20is\x20not\x20defined','exceptions','Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','./timeoutPromise','sZWUL','default','EBwdX','SDK_CLEANUP','assign','selfHeal','info','2|0|3|15|21|8|13|16|19|11|1|5|20|17|4|6|10|12|7|18|14|9','allocateHub','localIdentifier','isTrue','setupKeepAlive','mJueh','url','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','warn','nwUdd','gMCNf','browserStackLocalOptions','end','push','wvbmf','proxyConfig','getHubUrl','handleExceptions','codeceptjs','accessKey','350180lHfMbF','startLocalBinary','getInstance','PPyfT','BROWSERSTACK_TURBOSCALE','Data\x20sent\x20successfully\x20to\x20','join','requireSeleniumWebdriverCheck','Calling\x20Build\x20Stop\x20from\x20ExitHandler','race','getFinalCaps','nxEgS','integrations','isRunning','Bgvma','isEnabled','Error\x20in\x20sending\x20testhub\x20stop:\x20','Percy\x20stopped','\x20with\x20error\x20','format','OmEAu','forceLocal','proxyUrl','custom-repeater','hWhCE','status','AI_INIT_SUCCESSFUL','stop','4.5.0','uncaughtException','kmQiX','UQzuq','setEnvCaps','../bin/utils/constants','HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20','./helper','Error\x20occured\x20while\x20stopping\x20percy','PkYXg','setCLICaps','platform','15UmuipC','TCG_AUTH_FAILURE','hubUrl','isAuthenticated','getCentralUser','dFPLy','../hubAllocationMethods','3145846QCfcRq','localOptions','aiHeal:tcgAuth','fFmro','./testhub/utils','SmtCn','761868nJzeiV','fchaC','kbQQy','kxxYH','OdDdZ','No\x20config\x20provided.','getLocalConfig','EAgqb','isTrialGrid','hFaLM','errorMessage','SIGINT','./performance/constants','true','pPceY','qOFzo','percy','../ai-sdk-node/bundle','playwright','5732BesncM','yufVs','false','framework','exitHandler','PubRn','JaANe','INVALID_INIT_RESP_WITH_USER_IMPACT','CNkgi','then','Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','SIGABRT','./testhub/testhubHandler','SmDwT','UJwFp','fireFunnelTestEvent','WLzKi','skipSessionName','version','preInitialize','WIozj','BPkFd'];a83_0x3956=function(){return _0x3af957;};return a83_0x3956();}(function(_0x224dd6,_0x10fa39){const _0x3dd692=a83_0x2561,_0x5abf59=_0x224dd6();while(!![]){try{const _0x15e421=parseInt(_0x3dd692(0x219))/0x1+-parseInt(_0x3dd692(0x235))/0x2*(parseInt(_0x3dd692(0x28e))/0x3)+-parseInt(_0x3dd692(0x1d1))/0x4*(-parseInt(_0x3dd692(0x1f9))/0x5)+parseInt(_0x3dd692(0x29b))/0x6*(-parseInt(_0x3dd692(0x266))/0x7)+parseInt(_0x3dd692(0x246))/0x8+parseInt(_0x3dd692(0x206))/0x9+parseInt(_0x3dd692(0x1af))/0xa*(-parseInt(_0x3dd692(0x200))/0xb);if(_0x15e421===_0x10fa39)break;else _0x5abf59['push'](_0x5abf59['shift']());}catch(_0x334380){_0x5abf59['push'](_0x5abf59['shift']());}}}(a83_0x3956,0x233a5));const util=require(a83_0x486e2a(0x26f)),os=require('os'),path=require(a83_0x486e2a(0x263)),{v4:uuidv4}=require(a83_0x486e2a(0x29d)),fs=require('fs'),constants=require(a83_0x486e2a(0x1f2)),logger=require(a83_0x486e2a(0x255))[a83_0x486e2a(0x23e)],fileLogger=require(a83_0x486e2a(0x255))['fileLogger'],{getLogDir}=require('./logger'),helper=require(a83_0x486e2a(0x1f4)),utilities=require('./utilities'),percyHelper=require('./percy/utils'),hubAllocator=require(a83_0x486e2a(0x1ff)),PerformanceTester=require(a83_0x486e2a(0x289)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require(a83_0x486e2a(0x212)),{setPercyFlag}=require(a83_0x486e2a(0x204)),TestHubHandler=require(a83_0x486e2a(0x225)),timeoutPromise=require(a83_0x486e2a(0x1b5)),BrowserstackCLI=require('../bin/v2/browserstackCLI');class BrowserStackSetup{constructor(_0x7e978c,_0x2e54dc){const _0x346cab=a83_0x486e2a,_0x5d1e9c={'wvbmf':_0x346cab(0x1bd),'pEvpG':function(_0x1a1a0d){return _0x1a1a0d();},'gypLg':_0x346cab(0x20b)},_0x13cf6f=_0x5d1e9c[_0x346cab(0x1cb)][_0x346cab(0x270)]('|');let _0x4b5e7f=0x0;while(!![]){switch(_0x13cf6f[_0x4b5e7f++]){case'0':this[_0x346cab(0x27f)]=helper[_0x346cab(0x1f7)](_0x7e978c);continue;case'1':this[_0x346cab(0x21c)]=_0x2e54dc;continue;case'2':this['unhandledErrors']=[];continue;case'3':this[_0x346cab(0x247)]=helper[_0x346cab(0x1f1)]();continue;case'4':helper[_0x346cab(0x2a4)](this[_0x346cab(0x25a)],this['cliConfig']);continue;case'5':global[_0x346cab(0x21c)]=_0x2e54dc;continue;case'6':helper[_0x346cab(0x271)](this['config']);continue;case'7':helper[_0x346cab(0x1db)](this['config'],this[_0x346cab(0x27f)],this[_0x346cab(0x247)]);continue;case'8':this[_0x346cab(0x25a)]=helper[_0x346cab(0x2aa)](helper[_0x346cab(0x287)](_0x7e978c));continue;case'9':PerformanceTester[_0x346cab(0x239)]();continue;case'10':this[_0x346cab(0x25a)][_0x346cab(0x245)][_0x346cab(0x234)]=!helper[_0x346cab(0x281)]()||helper['isTrue'](this[_0x346cab(0x25a)][_0x346cab(0x245)][_0x346cab(0x234)]);continue;case'11':this[_0x346cab(0x24e)]=_0x5d1e9c[_0x346cab(0x261)](uuidv4);continue;case'12':this[_0x346cab(0x25a)][_0x346cab(0x245)][_0x346cab(0x22a)]=!helper[_0x346cab(0x281)]()||helper[_0x346cab(0x1c0)](this['config']['testContextOptions'][_0x346cab(0x22a)]);continue;case'13':this['config'][_0x346cab(0x249)]=this['config'][_0x346cab(0x249)]||[];continue;case'14':helper['setLogLevel'](this['config'],this['cliConfig'],this[_0x346cab(0x247)]);continue;case'15':this[_0x346cab(0x252)]=null;continue;case'16':this[_0x346cab(0x25a)][_0x346cab(0x245)]=this['config']['testContextOptions']||{};continue;case'17':if(this[_0x346cab(0x25a)][_0x346cab(0x241)])throw new Error(this[_0x346cab(0x25a)][_0x346cab(0x241)]);continue;case'18':helper[_0x346cab(0x290)](this[_0x346cab(0x25a)]);continue;case'19':this[_0x346cab(0x210)]={};continue;case'20':if(helper[_0x346cab(0x23c)](this['config']))throw new Error(_0x5d1e9c[_0x346cab(0x276)]);continue;case'21':this[_0x346cab(0x216)]=null;continue;}break;}}['preInitialize'](_0x559b0a){const _0x2787a2=a83_0x486e2a,_0x3d11e8={'uATOR':_0x2787a2(0x1b2),'gMCNf':function(_0x1a3302,_0x4199f7){return _0x1a3302===_0x4199f7;},'hEhQA':function(_0x3d724c,_0x2b0a00){return _0x3d724c===_0x2b0a00;},'Gyhzi':_0x2787a2(0x1dd),'kmQiX':_0x2787a2(0x25f),'PKovC':function(_0x288be8,_0x39e78a){return _0x288be8<_0x39e78a;},'lyogZ':function(_0x216d0b,_0x346b7d){return _0x216d0b(_0x346b7d);},'SmDwT':'selenium-webdriver','MBRnD':_0x2787a2(0x1ed),'WLzKi':_0x2787a2(0x23f),'fFmro':_0x2787a2(0x26c),'OmEAu':_0x2787a2(0x27e),'BXMBi':_0x2787a2(0x211),'VODEL':_0x2787a2(0x27c),'sZWUL':function(_0x209c60,_0x1bc4fe){return _0x209c60!==_0x1bc4fe;},'GoEdy':_0x2787a2(0x264),'qYtST':_0x2787a2(0x224),'mJueh':_0x2787a2(0x2a2),'mYwQw':_0x2787a2(0x2b4),'OdDdZ':'beforeExit'},_0x1b537e=this[_0x2787a2(0x21c)];global[_0x2787a2(0x25a)]=this['config'],helper[_0x2787a2(0x248)](this[_0x2787a2(0x25a)]),this[_0x2787a2(0x299)]=null,global['sdkRunId']=this[_0x2787a2(0x24e)],logger[_0x2787a2(0x1bc)]('SDK\x20run\x20started\x20with\x20id:\x20'+this[_0x2787a2(0x24e)]),!this['config'][_0x2787a2(0x1c8)]&&(this[_0x2787a2(0x25a)][_0x2787a2(0x1c8)]=this['config'][_0x2787a2(0x201)]||{});if(helper['isUndefined'](helper[_0x2787a2(0x28d)](this[_0x2787a2(0x25a)]))||helper[_0x2787a2(0x23c)](helper[_0x2787a2(0x257)](this['config'])))throw new Error(_0x3d11e8[_0x2787a2(0x28b)]);helper[_0x2787a2(0x20c)](this[_0x2787a2(0x25a)])&&helper[_0x2787a2(0x23c)](helper[_0x2787a2(0x296)](this['config']))&&(!helper[_0x2787a2(0x23c)](this['config'][_0x2787a2(0x1c8)])&&_0x3d11e8[_0x2787a2(0x1c7)](this[_0x2787a2(0x25a)]['browserStackLocalOptions']['constructor'],Object)?!helper['isTrue'](this[_0x2787a2(0x25a)][_0x2787a2(0x1c8)][_0x2787a2(0x1ae)])&&(this[_0x2787a2(0x25a)][_0x2787a2(0x1c8)][_0x2787a2(0x1bf)]=helper[_0x2787a2(0x272)]()):this[_0x2787a2(0x25a)]['browserStackLocalOptions']={'localIdentifier':helper['generateLocalIdentifier']()});this[_0x2787a2(0x25a)]['browserStackLocalOptions'][_0x2787a2(0x1ae)]=helper['isTrue'](this[_0x2787a2(0x25a)][_0x2787a2(0x1c8)]['skipBinaryInitialisation']),helper['setHandlePWError'](this[_0x2787a2(0x25a)]);if(_0x3d11e8['hEhQA'](_0x1b537e,_0x3d11e8[_0x2787a2(0x243)]))return;this['handleExceptions']();process[_0x2787a2(0x28f)][_0x2787a2(0x1d5)]&&(this[_0x2787a2(0x25a)]['turboScale']=helper[_0x2787a2(0x1c0)](process['env'][_0x2787a2(0x1d5)]),this['config'][_0x2787a2(0x282)]=this[_0x2787a2(0x25a)][_0x2787a2(0x282)]||{});helper[_0x2787a2(0x286)](this[_0x2787a2(0x25a)])&&(process['env'][_0x2787a2(0x1d5)]=!![]);if(!helper[_0x2787a2(0x281)]()){try{process[_0x2787a2(0x28f)]['FRAMEWORK']=_0x1b537e,utilities['fireFunnelTestEvent'](_0x3d11e8[_0x2787a2(0x1ef)],{},this[_0x2787a2(0x25a)],this[_0x2787a2(0x21c)]);}catch(_0x199918){logger[_0x2787a2(0x27d)](_0x2787a2(0x1c4)+_0x199918);}return;}helper[_0x2787a2(0x1d8)](_0x1b537e)&&(_0x3d11e8[_0x2787a2(0x27b)](_0x3d11e8[_0x2787a2(0x29c)](parseInt,helper['getPackageVersion'](_0x3d11e8[_0x2787a2(0x226)])),0x3)&&(this[_0x2787a2(0x25a)][_0x2787a2(0x258)]=![]),_0x3d11e8['hEhQA'](helper['compareVersions'](helper['getPackageVersion'](_0x3d11e8[_0x2787a2(0x226)]),_0x3d11e8[_0x2787a2(0x236)]),0x1)&&(this[_0x2787a2(0x25a)][_0x2787a2(0x258)]=!![]));(helper[_0x2787a2(0x23c)](this['config'][_0x2787a2(0x249)])||helper[_0x2787a2(0x23c)](this[_0x2787a2(0x25a)][_0x2787a2(0x249)][_0x2787a2(0x277)]))&&(helper['isUndefined'](this[_0x2787a2(0x25a)][_0x2787a2(0x254)])?logger[_0x2787a2(0x1bc)](_0x3d11e8[_0x2787a2(0x229)]):logger[_0x2787a2(0x1c5)](_0x3d11e8[_0x2787a2(0x203)]),this[_0x2787a2(0x25a)][_0x2787a2(0x249)]=[]);!this[_0x2787a2(0x25a)][_0x2787a2(0x245)]&&(this[_0x2787a2(0x25a)]['testContextOptions']={});try{process['env'][_0x2787a2(0x233)]=_0x559b0a['_'][0x0],utilities['fireFunnelTestEvent'](_0x3d11e8[_0x2787a2(0x1ef)],{},this[_0x2787a2(0x25a)],this['framework']);}catch(_0x49164a){logger[_0x2787a2(0x27d)](_0x2787a2(0x1c4)+_0x49164a);}!this['config']['disableAutoCaptureLogs']&&logger[_0x2787a2(0x1bc)](constants[_0x2787a2(0x2ae)]),this[_0x2787a2(0x2a7)]=this[_0x2787a2(0x2a7)][_0x2787a2(0x2b0)](this),process['on'](_0x3d11e8[_0x2787a2(0x1e5)],this[_0x2787a2(0x2a7)]),process['on'](_0x3d11e8[_0x2787a2(0x2ad)],this[_0x2787a2(0x2a7)]),process['on'](_0x3d11e8[_0x2787a2(0x26a)],this[_0x2787a2(0x2a7)]),_0x3d11e8[_0x2787a2(0x1b6)](process['platform'],_0x3d11e8['GoEdy'])?(process['on'](_0x3d11e8['qYtST'],this['intExitHandler']),process['on'](_0x3d11e8[_0x2787a2(0x1c2)],this[_0x2787a2(0x2a7)])):process['on'](_0x3d11e8[_0x2787a2(0x295)],this[_0x2787a2(0x2a7)]),process['on'](_0x3d11e8[_0x2787a2(0x20a)],this[_0x2787a2(0x21d)]());}async['initialize'](_0x36f792){const _0x1d814a=a83_0x486e2a,_0x2d66fb={'ZNhZP':'ats-repeater','xDUiS':_0x1d814a(0x1e8),'fchaC':_0x1d814a(0x213),'hFaLM':function(_0x3f986a,_0x49b824){return _0x3f986a===_0x49b824;},'otofn':_0x1d814a(0x218),'FYpRL':function(_0x4d4a07,_0x2ac29e){return _0x4d4a07+_0x2ac29e;},'sSNDD':'?caps=','PPyfT':function(_0x1ca609,_0x2a8bc2){return _0x1ca609(_0x2a8bc2);},'BUAnq':_0x1d814a(0x1cf)};this[_0x1d814a(0x22c)](_0x36f792);if(helper[_0x1d814a(0x286)](this[_0x1d814a(0x25a)])){const _0x30430d=await helper['getTurboScaleGridDetails'](this[_0x1d814a(0x25a)]);this[_0x1d814a(0x25a)][_0x1d814a(0x2b2)]=_0x30430d,_0x30430d[_0x1d814a(0x20e)]&&helper['isNotUndefined'](this[_0x1d814a(0x25a)][_0x1d814a(0x252)])&&helper[_0x1d814a(0x1c0)](this['config'][_0x1d814a(0x252)])&&(this[_0x1d814a(0x25a)][_0x1d814a(0x1c8)][_0x1d814a(0x1bf)]=_0x2d66fb[_0x1d814a(0x1ad)],this[_0x1d814a(0x25a)][_0x1d814a(0x1c8)][_0x2d66fb[_0x1d814a(0x267)]]=_0x30430d['customRepeaters'][_0x1d814a(0x1d7)](','),this[_0x1d814a(0x25a)]['browserStackLocalOptions'][_0x1d814a(0x1e6)]=_0x2d66fb[_0x1d814a(0x207)]),this[_0x1d814a(0x25a)]['turboScaleUrl']=_0x30430d[_0x1d814a(0x1c3)],this[_0x1d814a(0x21c)]&&_0x2d66fb[_0x1d814a(0x20f)](this['framework'][_0x1d814a(0x253)](),_0x2d66fb['otofn'])?this[_0x1d814a(0x25a)]['turboScaleUrl']=_0x2d66fb[_0x1d814a(0x288)](_0x30430d['playwrightUrl'],_0x2d66fb['sSNDD']):constants[_0x1d814a(0x1fb)]=helper[_0x1d814a(0x1cd)](this[_0x1d814a(0x25a)]),logger['debug'](_0x1d814a(0x1f3)+constants['hubUrl']);}helper['setProxySettings'](this[_0x1d814a(0x25a)]),this[_0x1d814a(0x1c1)](),_0x2d66fb[_0x1d814a(0x1d4)](setPercyFlag,this),await this['setupBrowserstackLocal'](),![_0x2d66fb[_0x1d814a(0x2b3)],_0x2d66fb[_0x1d814a(0x29f)]][_0x1d814a(0x283)](this[_0x1d814a(0x21c)])&&!helper[_0x1d814a(0x286)](this[_0x1d814a(0x25a)])&&!helper[_0x1d814a(0x1fd)]()['central_scanner']&&await this[_0x1d814a(0x269)]();}async['setupPercy'](){const _0x496321=a83_0x486e2a,_0x42a2f1={};_0x42a2f1['EGhSz']=function(_0x2c3db5,_0x1b7b59){return _0x2c3db5===_0x1b7b59;},_0x42a2f1[_0x496321(0x1f6)]=_0x496321(0x21b),_0x42a2f1[_0x496321(0x1c6)]=_0x496321(0x23a),_0x42a2f1[_0x496321(0x209)]=_0x496321(0x25e),_0x42a2f1[_0x496321(0x22d)]=_0x496321(0x213),_0x42a2f1['UTEtZ']=_0x496321(0x268);const _0x156117=_0x42a2f1;if(helper[_0x496321(0x1c0)](this[_0x496321(0x25a)][_0x496321(0x216)])&&(!this[_0x496321(0x216)]||!this[_0x496321(0x216)][_0x496321(0x1de)]()))try{this[_0x496321(0x216)]=await percyHelper[_0x496321(0x2a1)](this[_0x496321(0x25a)]);if(!this[_0x496321(0x216)]){process[_0x496321(0x28f)]['BROWSERSTACK_PERCY']=_0x156117[_0x496321(0x1f6)];throw new Error(_0x156117[_0x496321(0x1c6)]);}logger[_0x496321(0x1bc)](_0x156117[_0x496321(0x209)]),process['env'][_0x496321(0x2b5)]=_0x156117[_0x496321(0x22d)];let _0x14f149=0x0;const _0x353a79=async()=>{const _0x358aa7=_0x496321;_0x14f149++,_0x156117[_0x358aa7(0x244)](_0x14f149,0x1)&&await this[_0x358aa7(0x2ab)]();};process['on'](_0x156117[_0x496321(0x2ac)],_0x353a79);}catch(_0x47342c){process[_0x496321(0x28f)][_0x496321(0x2b5)]=_0x156117[_0x496321(0x1f6)],logger[_0x496321(0x27d)]('Error\x20in\x20percy\x20setup\x20'+_0x47342c);throw new Error(_0x47342c[_0x496321(0x2a6)]());}}async['stopPercy'](){const _0x6039cb=a83_0x486e2a,_0xbf948={};_0xbf948[_0x6039cb(0x20d)]=_0x6039cb(0x1e2),_0xbf948[_0x6039cb(0x242)]=_0x6039cb(0x1f5);const _0x33adb2=_0xbf948;if(this['percy']&&this[_0x6039cb(0x216)][_0x6039cb(0x1de)]())try{await percyHelper['stopPercy'](this['percy']),logger[_0x6039cb(0x1bc)](_0x33adb2[_0x6039cb(0x20d)]);}catch(_0x3c7745){logger[_0x6039cb(0x241)](_0x33adb2[_0x6039cb(0x242)],_0x3c7745[_0x6039cb(0x2a0)]);}}async[a83_0x486e2a(0x25c)](){const _0x34b5ce=a83_0x486e2a,_0x55f950={};_0x55f950[_0x34b5ce(0x238)]=_0x34b5ce(0x25b),_0x55f950[_0x34b5ce(0x23b)]=_0x34b5ce(0x1b1);const _0x2aec55=_0x55f950;if(helper['isBrowserstackInfra']()&&helper[_0x34b5ce(0x1c0)](this[_0x34b5ce(0x25a)][_0x34b5ce(0x252)])&&(!this[_0x34b5ce(0x252)]||!this[_0x34b5ce(0x252)]['isRunning']()))try{if(this[_0x34b5ce(0x25a)][_0x34b5ce(0x1c8)][_0x34b5ce(0x1ae)]){logger[_0x34b5ce(0x27d)](_0x2aec55[_0x34b5ce(0x238)]);return;}this[_0x34b5ce(0x252)]=await helper[_0x34b5ce(0x1d2)](this[_0x34b5ce(0x25a)]),logger['info'](_0x2aec55[_0x34b5ce(0x23b)]);}catch(_0x3b48b1){logger[_0x34b5ce(0x27d)](_0x3b48b1);throw new Error(_0x3b48b1[_0x34b5ce(0x2a6)]());}}async[a83_0x486e2a(0x2a8)](){const _0x49193d=a83_0x486e2a,_0x32a51a={};_0x32a51a['XGHjC']='Local\x20binary\x20stopped',_0x32a51a[_0x49193d(0x29e)]='Error\x20occured\x20while\x20stopping\x20local\x20binary';const _0x3cf6ca=_0x32a51a;if(this[_0x49193d(0x252)]&&this[_0x49193d(0x252)]['isRunning']())try{await helper['stopLocalBinary'](this[_0x49193d(0x252)]),logger[_0x49193d(0x1bc)](_0x3cf6ca[_0x49193d(0x27a)]);}catch(_0x2fc1f8){logger['error'](_0x3cf6ca[_0x49193d(0x29e)],_0x2fc1f8[_0x49193d(0x2a0)]);}}async[a83_0x486e2a(0x269)](){return PerformanceTester['measureWrapper'](PerformanceAutEvents['HUB_MANAGEMENT'],async()=>{const _0x2652ca=a83_0x2561;await hubAllocator[_0x2652ca(0x1be)](this[_0x2652ca(0x25a)]);})();}async['setupTCGAuth'](){const _0x17ac30=a83_0x486e2a,_0xa40a87={'yWTlS':function(_0xfe7d61,_0x2bb514){return _0xfe7d61(_0x2bb514);},'CVBLs':_0x17ac30(0x217),'Bgvma':function(_0x67752d,_0x559357,_0x4d25fe,_0x58f132,_0x3f28b1,_0x388d83,_0x2aa597){return _0x67752d(_0x559357,_0x4d25fe,_0x58f132,_0x3f28b1,_0x388d83,_0x2aa597);},'nxEgS':'BrowserstackHealing.init\x20method\x20timed\x20out','KxhNf':'BrowserstackHealingInitFailed','pPceY':'../../package.json','UJwFp':'BrowserstackHealing.init','yufVs':function(_0x35ce96,_0x5cd310){return _0x35ce96(_0x5cd310);},'aNxia':function(_0x491558,_0xfd5d9){return _0x491558===_0xfd5d9;},'hWhCE':'true','fAHPZ':function(_0x42e7d4,_0x5b89fb){return _0x42e7d4===_0x5b89fb;},'dFPLy':function(_0x48c3c9,_0xf048f2){return _0x48c3c9===_0xf048f2;},'vwypt':function(_0x585be1,_0x11f0b6){return _0x585be1===_0x11f0b6;},'qOFzo':_0x17ac30(0x279),'Agfal':_0x17ac30(0x294),'CNkgi':_0x17ac30(0x223),'kbQQy':function(_0x391e70,_0x2e99ca){return _0x391e70(_0x2e99ca);},'ZXehH':_0x17ac30(0x1b4),'VKoiJ':function(_0x4f7ad3,_0x483231){return _0x4f7ad3>=_0x483231;},'bjZdV':function(_0x578a49,_0xf03d13){return _0x578a49<_0xf03d13;},'ALIif':function(_0x21b666,_0x2673df){return _0x21b666>=_0x2673df;},'tLuRb':'tcg\x20config\x20setup\x20successful.','yqqzH':_0x17ac30(0x202),'JaANe':function(_0x151f55){return _0x151f55();}},_0x45143b=PerformanceTester['measureWrapper'](_0xa40a87[_0x17ac30(0x24a)],async()=>{const _0x588364=_0x17ac30;try{const _0x4f9897=new Date(),_0x4ea88f=helper[_0x588364(0x231)](this[_0x588364(0x25a)]),_0x22fd17=_0xa40a87[_0x588364(0x24b)](require,path[_0x588364(0x1d7)](__dirname,_0xa40a87[_0x588364(0x24f)])),_0xe1b550=_0xa40a87[_0x588364(0x1df)](timeoutPromise,constants[_0x588364(0x2af)],_0xa40a87[_0x588364(0x1dc)],_0xa40a87['KxhNf'],_0x4f9897,this[_0x588364(0x25a)],this[_0x588364(0x21c)]),_0x35e369={'tcgUrl':constants[_0x588364(0x280)],'sdkVersion':_0xa40a87['yWTlS'](require,_0xa40a87['pPceY'])[_0x588364(0x22b)],'methodUsed':_0xa40a87[_0x588364(0x227)],'proxyConfig':_0x4ea88f,'os':os[_0x588364(0x1f8)]()};if(_0x4ea88f&&_0x4ea88f[_0x588364(0x1e7)]){utilities[_0x588364(0x228)](constants['AI_PROXY_FAILURE'],_0x35e369,this[_0x588364(0x25a)],this[_0x588364(0x21c)]);return;}const _0x56ddea={};_0x56ddea[_0x588364(0x26d)]=_0x4ea88f;const _0x5a5c87=await Promise[_0x588364(0x1da)]([_0x22fd17[_0x588364(0x298)](this[_0x588364(0x25a)][_0x588364(0x1d0)],this['config'][_0x588364(0x230)],constants[_0x588364(0x280)],_0xa40a87[_0x588364(0x21a)](require,_0xa40a87[_0x588364(0x214)])[_0x588364(0x22b)],_0x56ddea)[_0x588364(0x222)](_0x289848=>{const _0x4ba34d=_0x588364;return _0xe1b550[_0x4ba34d(0x29a)](),_0x289848;}),_0xe1b550]);_0x5a5c87[_0x588364(0x259)]=_0xa40a87[_0x588364(0x250)](_0x5a5c87[_0x588364(0x259)],_0xa40a87[_0x588364(0x1e9)])||_0xa40a87['aNxia'](_0x5a5c87[_0x588364(0x259)],!![]);const _0x4d5188=_0xa40a87[_0x588364(0x2b1)](this[_0x588364(0x25a)]['selfHeal'],!![])||_0xa40a87[_0x588364(0x1fe)](this[_0x588364(0x25a)][_0x588364(0x1bb)],_0xa40a87[_0x588364(0x1e9)]);if(_0xa40a87['vwypt'](_0x5a5c87[_0x588364(0x2a0)],constants[_0x588364(0x23d)])&&_0x4d5188)logger['info'](_0xa40a87[_0x588364(0x215)]);else{if(!_0x5a5c87[_0x588364(0x1fc)]&&_0xa40a87['vwypt'](_0x5a5c87[_0x588364(0x1ea)],0x1f7)&&_0x4d5188)logger[_0x588364(0x1bc)](_0xa40a87['Agfal']),utilities['fireFunnelTestEvent'](constants[_0x588364(0x284)],_0x35e369,this['config'],this[_0x588364(0x21c)]);else{if(!_0x5a5c87[_0x588364(0x1fc)]&&_0x4d5188){logger[_0x588364(0x1bc)](_0xa40a87[_0x588364(0x221)]);const _0x3ffca6={'tcgUrl':constants[_0x588364(0x280)],'sdkVersion':_0xa40a87[_0x588364(0x208)](require,_0xa40a87[_0x588364(0x214)])[_0x588364(0x22b)],'methodUsed':_0xa40a87[_0x588364(0x227)],'proxyConfig':_0x4ea88f,'os':os[_0x588364(0x1f8)]()};utilities[_0x588364(0x228)](constants[_0x588364(0x1fa)],_0x3ffca6,this[_0x588364(0x25a)],this[_0x588364(0x21c)]);}else{if(_0x5a5c87[_0x588364(0x1fc)]&&!_0x5a5c87[_0x588364(0x259)]&&_0x4d5188)logger['info'](_0xa40a87['ZXehH']);else{if(_0xa40a87[_0x588364(0x240)](_0x5a5c87['status'],0xc8)&&_0xa40a87[_0x588364(0x26e)](_0x5a5c87['status'],0x12c))utilities['fireFunnelTestEvent'](constants[_0x588364(0x1eb)],_0x35e369,this[_0x588364(0x25a)],this[_0x588364(0x21c)]);else{if(_0xa40a87[_0x588364(0x24d)](_0x5a5c87[_0x588364(0x1ea)],0x190))_0x35e369[_0x588364(0x1ea)]=_0x5a5c87['status'],utilities[_0x588364(0x228)](constants[_0x588364(0x26b)],_0x35e369,this[_0x588364(0x25a)],this[_0x588364(0x21c)]);else!_0x5a5c87[_0x588364(0x1ea)]&&utilities[_0x588364(0x228)](constants[_0x588364(0x220)],_0x35e369,this[_0x588364(0x25a)],this['framework']);}}}}}if(_0x5a5c87[_0x588364(0x1fc)]&&_0x5a5c87[_0x588364(0x259)]){const _0x259f01={};_0x259f01[_0x588364(0x274)]=_0x5a5c87;const _0x4cf753=_0x259f01;_0x4ea88f&&(_0x4cf753[_0x588364(0x1cc)]=_0x4ea88f),_0x4cf753[_0x588364(0x21c)]=this[_0x588364(0x21c)],_0x4cf753[_0x588364(0x292)]=this[_0x588364(0x25a)],helper[_0x588364(0x265)](_0x4cf753),logger[_0x588364(0x27d)](_0xa40a87['tLuRb']);}}catch(_0x195b8d){logger[_0x588364(0x27d)](_0x588364(0x237)+(_0x195b8d[_0x588364(0x2a0)]?_0x195b8d[_0x588364(0x2a0)]:''));}});await _0xa40a87[_0x17ac30(0x21f)](_0x45143b);}[a83_0x486e2a(0x1c1)](){const _0x484378=a83_0x486e2a,_0x858acb={'EBwdX':function(_0x16a1b6,_0x17a71b){return _0x16a1b6(_0x17a71b);},'ekjrT':_0x484378(0x285)};_0x858acb[_0x484378(0x1b8)](require,_0x858acb[_0x484378(0x297)])();}[a83_0x486e2a(0x1ce)](){const _0x2eac79=a83_0x486e2a,_0x403081={};_0x403081[_0x2eac79(0x1b0)]='unhandledRejection',_0x403081[_0x2eac79(0x205)]=_0x2eac79(0x1ee);const _0x73bf3c=_0x403081,_0x5038cb=_0x10e8b7=>{const _0x59f1f6=_0x2eac79;logger['error'](_0x10e8b7[_0x59f1f6(0x2a0)]),logger[_0x59f1f6(0x27d)](util[_0x59f1f6(0x1e4)](_0x10e8b7)),this[_0x59f1f6(0x28a)][_0x59f1f6(0x1ca)](util[_0x59f1f6(0x1e4)]('%j',_0x10e8b7)),PerformanceTester['captureError'](_0x10e8b7);};process['on'](_0x73bf3c[_0x2eac79(0x1b0)],_0x5038cb),process['on'](_0x73bf3c[_0x2eac79(0x205)],_0x5038cb);}async['intExitHandler'](_0xc48303){const _0x225994=a83_0x486e2a,_0x54b418={};_0x54b418['Fzvny']=_0x225994(0x275),_0x54b418[_0x225994(0x2a9)]=function(_0x50f6f3,_0x1a7a08){return _0x50f6f3+_0x1a7a08;},_0x54b418['PubRn']=_0x225994(0x25d),_0x54b418[_0x225994(0x1f0)]='handled',_0x54b418['ADyZC']=function(_0x128695,_0x1b2412){return _0x128695+_0x1b2412;};const _0x2e4b08=_0x54b418,_0x2421dc=_0x2e4b08['Fzvny'][_0x225994(0x270)]('|');let _0x1453c2=0x0;while(!![]){switch(_0x2421dc[_0x1453c2++]){case'0':this[_0x225994(0x299)]=_0xc48303;continue;case'1':logger&&logger[_0x225994(0x28c)]();continue;case'2':logger[_0x225994(0x1bc)](_0x2e4b08[_0x225994(0x2a9)](_0x2e4b08[_0x225994(0x21e)],_0xc48303));continue;case'3':if(this[_0x2e4b08[_0x225994(0x2a9)](_0x2e4b08['UQzuq'],_0xc48303)])return;continue;case'4':fileLogger&&fileLogger[_0x225994(0x28c)]();continue;case'5':this[_0x2e4b08['ADyZC'](_0x2e4b08[_0x225994(0x1f0)],_0xc48303)]=!![];continue;case'6':await BrowserstackCLI[_0x225994(0x1d3)]()[_0x225994(0x1ec)]();continue;case'7':await TestHubHandler['stop'](_0xc48303);continue;}break;}}['exitHandler'](){const _0x166471=a83_0x486e2a,_0x5e1d52={'BPkFd':function(_0x11d056,_0x1b46a1){return _0x11d056===_0x1b46a1;},'RrPxA':_0x166471(0x1d9),'DdqSJ':function(_0x259941,_0x4e9809){return _0x259941>_0x4e9809;},'zJIGm':function(_0x23f602,_0x4ace22){return _0x23f602>_0x4ace22;},'wuLXZ':function(_0x4525fb){return _0x4525fb();},'RSkkh':_0x166471(0x278)};let _0x2b81ce=0x0;return async()=>{const _0x5b3503=_0x166471;_0x2b81ce++;if(_0x5e1d52[_0x5b3503(0x22e)](_0x2b81ce,0x1)){helper[_0x5b3503(0x22f)](this[_0x5b3503(0x21c)])&&await this[_0x5b3503(0x2a8)]();try{logger[_0x5b3503(0x27d)](_0x5e1d52['RrPxA']),await BrowserstackCLI[_0x5b3503(0x1d3)]()[_0x5b3503(0x1ec)]('1'),await TestHubHandler[_0x5b3503(0x1ec)](_0x2b81ce);}catch(_0x5b7a25){logger['debug'](_0x5b3503(0x1e1)+util[_0x5b3503(0x1e4)](_0x5b7a25));}PerformanceTester[_0x5b3503(0x1c9)](PerformanceEvents[_0x5b3503(0x1b9)]);if(PerformanceTester[_0x5b3503(0x1e0)]()){const {measures:_0xb2be6a,errors:_0x465cc4}=await PerformanceTester[_0x5b3503(0x260)](),_0x372370={};if(_0xb2be6a&&_0x5e1d52['DdqSJ'](_0xb2be6a[_0x5b3503(0x277)],0x0)||_0x465cc4&&_0x5e1d52[_0x5b3503(0x262)](_0x465cc4[_0x5b3503(0x277)],0x0)){const _0x3cd4d1={};_0x3cd4d1[_0x5b3503(0x273)]=_0xb2be6a,_0x3cd4d1[_0x5b3503(0x1b3)]=_0x465cc4,Object[_0x5b3503(0x1ba)](_0x372370,_0x3cd4d1);}try{const _0x5920c3=await helper[_0x5b3503(0x2a5)](_0x372370,this['config']);logger[_0x5b3503(0x27d)](_0x5b3503(0x1d6)+constants['EDS_URL']+_0x5b3503(0x293)+_0x5920c3[_0x5b3503(0x291)]);}catch(_0x12230d){logger[_0x5b3503(0x27d)](_0x5b3503(0x24c)+constants[_0x5b3503(0x232)]+_0x5b3503(0x1e3)+util[_0x5b3503(0x1e4)](_0x12230d));}try{fs[_0x5b3503(0x2a3)](path['join'](_0x5e1d52[_0x5b3503(0x251)](getLogDir),_0x5e1d52[_0x5b3503(0x256)]),JSON['stringify'](_0x372370));}catch(_0x4833ca){logger[_0x5b3503(0x27d)]('Error\x20in\x20writing\x20events\x20to\x20file\x20'+_0x4833ca);}}}};}}exports[a83_0x486e2a(0x1b7)]=BrowserStackSetup;