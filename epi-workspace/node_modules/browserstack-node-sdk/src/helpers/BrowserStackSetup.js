const a85_0x54fa14=a85_0x57c8;function a85_0x63e2(){const _0x10c4e6=['beforeExit','SIGTERM','INVALID_INIT_RESP_WITH_USER_IMPACT','getConfigPath','browserStackLocalOptions','488259LgimGv','OPFCU','RuTCu','setLogDir','format','version','handleExceptions','NBgVz','exitHandler','nQkom','2PiOGKC','selenium-webdriver','SIGHUP','dsOwG','checkStopLocalBinaryOnExit','ats-repeater','userName','ZyXLi','fireFunnelTestEvent','proxyConfig','Srpfp','hTicn','getFinalCaps','629829qARlQR','xDAoK','toString','toozX','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','customRepeaters','stop','assign','iIczR','stopPercy','BrowserstackHealing.init','BrowserstackHealingInitFailed','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','isUndefined','Local\x20binary\x20stopped','events.json','EzLmp','tcg\x20config\x20setup\x20successful.','laPeJ','iOYJD','getAccessKey','close','846224AUkaIm','IMeWi','5|1|3|2|4|0','isEnabled','turboScaleGridDetails','cancel','AI_INIT_SUCCESSFUL','CjCvs','setCredentialsFromYmlConfig','eUney','measures','rTZEH','constructor','playwrightUrl','split','NnQjX','then','uuid','SIGBREAK','getInstance','Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','Percy\x20started\x20successfully','VnSvr','readConfig','setBrowserstackInfraFromConfig','testContextOptions','selfHeal','measureWrapper','getUserName','5yCnEJI','AUTOLOGCAPTURE_NOTIFICATION','OQyiI','config','dnxPC','mYAnD','isHealingEnabled','fileLogger','browserstackLocal','xgmFb','bstackConfig','hyBMa','skipSessionStatus','yPTyN','Error\x20in\x20writing\x20events\x20to\x20file\x20','nKWTk','9160urejwX','11007DOInCv','rcMjP','?caps=','VWtEv','ozFyQ','No\x20config\x20provided.','./logger','yEjPu','TouWZ','./testhub/utils','isNotUndefined','stringify','./timeoutPromise','getProxyConfigForTcg','SfWZz','sendToEDS','preInitialize','pUwpz','isTrialGrid','turboScale','fwaDK','startMonitoring','Kapbi','FRAMEWORK','tcgAuthConfig','jVMMA','platform','SDKTestAttempted','getPackageVersion','url','getTurboScaleGridDetails','info','custom-repeater','4.5.0','writeFileSync','../hubAllocationMethods','startPercy','framework','isRunning','eHNuW','isAuthenticated','hijnk','TCG_URL','platforms','length','setProxySettings','Error\x20in\x20percy\x20setup\x20','turboScaleUrl','setUpHubUrl','Calling\x20Build\x20Stop\x20from\x20ExitHandler','captureError','setupBrowserstackLocal','envConfig','statusCode','false','isTurboScaleSession','exceptions','sdkRunId','unhandledErrors','oIDUB','JJagR','Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','sanitizeCaps','percy','intExitHandler','proxyUrl','localIdentifier','turboScaleOptions','\x20with\x20error\x20','setHandlePWError','./performance/performance-tester','BWZLl','Shutdown\x20triggered\x20by\x20','BROWSERSTACK_TURBOSCALE','useW3C','../bin/v2/browserstackCLI','skipSessionName','getCentralUser','../../package.json','stopBrowserstackLocal','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','Error\x20in\x20sending\x20testhub\x20stop:\x20','init','env','pQABh','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','aQRmQ','TCG_AUTH_FAILURE','EDS_URL','aiHeal:tcgAuth','CNbpL','handled','status','./utilities','UPGRADE_REQUIRED','4654384nEwWwn','getLocalIdentifier','bbpoO','WIXfu','userName\x20or\x20accessKey\x20is\x20not\x20defined','UbKKa','startLocalBinary','true','RbbMh','DIvVH','stopLocalBinary','getHubUrl','2074344edWQwX','./setKeepAlive','rmDnR','./testhub/testhubHandler','Jnzcm','cliConfig','ixxwD','race','disableAutoCaptureLogs','isTrue','aaokX','integrations','finalize','eCXlv','errorMessage','killSignal','TCG_DOWN','debug','localOptions','AI_INIT_FAILURE','vyQMa','join','setupKeepAlive','BROWSERSTACK_PERCY','isBrowserstackInfra','PqtWZ','Error\x20occured\x20while\x20stopping\x20local\x20binary','ItKei','setupTcgConfigFile','error','BguMM','message','qTAVc','skipBinaryInitialisation','generateLocalIdentifier','setCLICaps','compareVersions','allocateHub','setupTCGAuth','Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled','winstonLogger','odfPq','forceLocal','push','hubUrl','bind','accessKey','unhandledRejection','JDaWP','toLowerCase','BrowserstackHealing.init\x20method\x20timed\x20out','ENJYQ','464324yHNvMX','central_scanner','initialize'];a85_0x63e2=function(){return _0x10c4e6;};return a85_0x63e2();}(function(_0x81d26e,_0x4895df){const _0x1b00e8=a85_0x57c8,_0x343430=_0x81d26e();while(!![]){try{const _0x11d7be=-parseInt(_0x1b00e8(0x284))/0x1+-parseInt(_0x1b00e8(0x18c))/0x2*(-parseInt(_0x1b00e8(0x199))/0x3)+parseInt(_0x1b00e8(0x1af))/0x4*(parseInt(_0x1b00e8(0x1cc))/0x5)+parseInt(_0x1b00e8(0x248))/0x6+-parseInt(_0x1b00e8(0x27c))/0x7+-parseInt(_0x1b00e8(0x23c))/0x8+-parseInt(_0x1b00e8(0x1dd))/0x9*(-parseInt(_0x1b00e8(0x1dc))/0xa);if(_0x11d7be===_0x4895df)break;else _0x343430['push'](_0x343430['shift']());}catch(_0x3cd052){_0x343430['push'](_0x343430['shift']());}}}(a85_0x63e2,0xb75fe));function a85_0x57c8(_0x5b16f9,_0x991e2d){const _0x63e2b7=a85_0x63e2();return a85_0x57c8=function(_0x57c8c6,_0x11d81d){_0x57c8c6=_0x57c8c6-0x18a;let _0x4ac079=_0x63e2b7[_0x57c8c6];return _0x4ac079;},a85_0x57c8(_0x5b16f9,_0x991e2d);}const util=require('util'),os=require('os'),path=require('path'),{v4:uuidv4}=require(a85_0x54fa14(0x1c0)),fs=require('fs'),constants=require('../bin/utils/constants'),logger=require(a85_0x54fa14(0x1e3))[a85_0x54fa14(0x270)],fileLogger=require('./logger')[a85_0x54fa14(0x1d3)],{getLogDir}=require('./logger'),helper=require('./helper'),utilities=require(a85_0x54fa14(0x23a)),percyHelper=require('./percy/utils'),hubAllocator=require(a85_0x54fa14(0x200)),PerformanceTester=require(a85_0x54fa14(0x223)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require('./performance/constants'),{setPercyFlag}=require(a85_0x54fa14(0x1e6)),TestHubHandler=require(a85_0x54fa14(0x24b)),timeoutPromise=require(a85_0x54fa14(0x1e9)),BrowserstackCLI=require(a85_0x54fa14(0x228));class BrowserStackSetup{constructor(_0x508aec,_0x3389c0){const _0x8eadfe=a85_0x54fa14,_0x185f8f={'YjFnq':'2|22|15|18|6|10|4|5|9|13|8|16|3|11|0|19|21|12|14|7|20|17|1','hijnk':function(_0x4ebe9a){return _0x4ebe9a();},'VXzJA':_0x8eadfe(0x1e2)},_0x5090a8=_0x185f8f['YjFnq']['split']('|');let _0xca9e3a=0x0;while(!![]){switch(_0x5090a8[_0xca9e3a++]){case'0':if(this[_0x8eadfe(0x1cf)][_0x8eadfe(0x265)])throw new Error(this[_0x8eadfe(0x1cf)][_0x8eadfe(0x265)]);continue;case'1':PerformanceTester[_0x8eadfe(0x1f2)]();continue;case'2':this[_0x8eadfe(0x217)]=[];continue;case'3':global[_0x8eadfe(0x202)]=_0x3389c0;continue;case'4':this['cliConfig']=helper[_0x8eadfe(0x26b)](_0x508aec);continue;case'5':this['config'][_0x8eadfe(0x208)]=this[_0x8eadfe(0x1cf)]['platforms']||[];continue;case'6':this[_0x8eadfe(0x21c)]=null;continue;case'7':helper[_0x8eadfe(0x198)](this['config'],this[_0x8eadfe(0x24d)],this['envConfig']);continue;case'8':this[_0x8eadfe(0x216)]=_0x185f8f[_0x8eadfe(0x206)](uuidv4);continue;case'9':this[_0x8eadfe(0x1cf)]['testContextOptions']=this[_0x8eadfe(0x1cf)][_0x8eadfe(0x1c8)]||{};continue;case'10':this['config']=helper[_0x8eadfe(0x1c6)](helper[_0x8eadfe(0x282)](_0x508aec));continue;case'11':if(helper[_0x8eadfe(0x1a6)](this['config']))throw new Error(_0x185f8f['VXzJA']);continue;case'12':this['config']['testContextOptions'][_0x8eadfe(0x1d8)]=!helper[_0x8eadfe(0x260)]()||helper['isTrue'](this['config'][_0x8eadfe(0x1c8)][_0x8eadfe(0x1d8)]);continue;case'13':this[_0x8eadfe(0x256)]={};continue;case'14':this[_0x8eadfe(0x1cf)][_0x8eadfe(0x1c8)][_0x8eadfe(0x229)]=!helper['isBrowserstackInfra']()||helper[_0x8eadfe(0x251)](this[_0x8eadfe(0x1cf)][_0x8eadfe(0x1c8)][_0x8eadfe(0x229)]);continue;case'15':this[_0x8eadfe(0x211)]=helper['setEnvCaps']();continue;case'16':this['framework']=_0x3389c0;continue;case'17':helper['setLogLevel'](this[_0x8eadfe(0x1cf)],this[_0x8eadfe(0x24d)],this['envConfig']);continue;case'18':this['browserstackLocal']=null;continue;case'19':helper[_0x8eadfe(0x1c7)](this['config'],this[_0x8eadfe(0x24d)]);continue;case'20':helper[_0x8eadfe(0x287)](this[_0x8eadfe(0x1cf)]);continue;case'21':helper[_0x8eadfe(0x1b7)](this[_0x8eadfe(0x1cf)]);continue;case'22':helper['normalizeTestReportingEnvVars']();continue;}break;}}[a85_0x54fa14(0x1ed)](_0x5a9525){const _0x2e1c1d=a85_0x54fa14,_0x1c8d19={'rTZEH':_0x2e1c1d(0x240),'fwaDK':function(_0x5aaf03,_0x38c203){return _0x5aaf03===_0x38c203;},'bjaYv':_0x2e1c1d(0x253),'ixxwD':_0x2e1c1d(0x1f8),'AanZZ':function(_0x47619f,_0xcea250){return _0x47619f<_0xcea250;},'EURqF':function(_0x5a2039,_0x28997f){return _0x5a2039(_0x28997f);},'pUwpz':_0x2e1c1d(0x18d),'JJagR':function(_0x3d2103,_0x8de072){return _0x3d2103===_0x8de072;},'iOYJD':_0x2e1c1d(0x1fe),'xgmFb':_0x2e1c1d(0x232),'MdYSJ':'parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','EzLmp':_0x2e1c1d(0x280),'eHNuW':'SIGINT','VWtEv':_0x2e1c1d(0x18e),'toozX':function(_0x108463,_0x228c0a){return _0x108463!==_0x228c0a;},'TouWZ':'win32','fjMAB':'SIGABRT','rcMjP':'SIGQUIT','aaokX':_0x2e1c1d(0x1c1),'BWZLl':_0x2e1c1d(0x27f)},_0x4aa1a7=this[_0x2e1c1d(0x202)];global[_0x2e1c1d(0x1cf)]=this[_0x2e1c1d(0x1cf)],helper[_0x2e1c1d(0x21b)](this['config']),this[_0x2e1c1d(0x257)]=null,global[_0x2e1c1d(0x216)]=this['sdkRunId'],logger['info']('SDK\x20run\x20started\x20with\x20id:\x20'+this[_0x2e1c1d(0x216)]),!this[_0x2e1c1d(0x1cf)]['browserStackLocalOptions']&&(this[_0x2e1c1d(0x1cf)]['browserStackLocalOptions']=this[_0x2e1c1d(0x1cf)][_0x2e1c1d(0x25a)]||{});if(helper[_0x2e1c1d(0x1a6)](helper[_0x2e1c1d(0x1cb)](this[_0x2e1c1d(0x1cf)]))||helper[_0x2e1c1d(0x1a6)](helper[_0x2e1c1d(0x1ad)](this['config'])))throw new Error(_0x1c8d19[_0x2e1c1d(0x1ba)]);helper['getLocalConfig'](this[_0x2e1c1d(0x1cf)])&&helper[_0x2e1c1d(0x1a6)](helper[_0x2e1c1d(0x23d)](this['config']))&&(!helper[_0x2e1c1d(0x1a6)](this[_0x2e1c1d(0x1cf)][_0x2e1c1d(0x283)])&&_0x1c8d19[_0x2e1c1d(0x1f1)](this['config']['browserStackLocalOptions'][_0x2e1c1d(0x1bb)],Object)?!helper[_0x2e1c1d(0x251)](this[_0x2e1c1d(0x1cf)][_0x2e1c1d(0x283)][_0x2e1c1d(0x269)])&&(this[_0x2e1c1d(0x1cf)][_0x2e1c1d(0x283)][_0x2e1c1d(0x21f)]=helper[_0x2e1c1d(0x26a)]()):this[_0x2e1c1d(0x1cf)][_0x2e1c1d(0x283)]={'localIdentifier':helper[_0x2e1c1d(0x26a)]()});this['config']['browserStackLocalOptions'][_0x2e1c1d(0x269)]=helper[_0x2e1c1d(0x251)](this['config'][_0x2e1c1d(0x283)]['skipBinaryInitialisation']),helper[_0x2e1c1d(0x222)](this[_0x2e1c1d(0x1cf)]);if(_0x1c8d19[_0x2e1c1d(0x1f1)](_0x4aa1a7,_0x1c8d19['bjaYv']))return;this[_0x2e1c1d(0x28a)]();process[_0x2e1c1d(0x230)][_0x2e1c1d(0x226)]&&(this[_0x2e1c1d(0x1cf)][_0x2e1c1d(0x1f0)]=helper['isTrue'](process[_0x2e1c1d(0x230)][_0x2e1c1d(0x226)]),this[_0x2e1c1d(0x1cf)][_0x2e1c1d(0x220)]=this[_0x2e1c1d(0x1cf)][_0x2e1c1d(0x220)]||{});helper[_0x2e1c1d(0x214)](this[_0x2e1c1d(0x1cf)])&&(process[_0x2e1c1d(0x230)][_0x2e1c1d(0x226)]=!![]);if(!helper[_0x2e1c1d(0x260)]()){try{process[_0x2e1c1d(0x230)][_0x2e1c1d(0x1f4)]=_0x4aa1a7,utilities['fireFunnelTestEvent'](_0x1c8d19[_0x2e1c1d(0x24e)],{},this[_0x2e1c1d(0x1cf)],this[_0x2e1c1d(0x202)]);}catch(_0x33486c){logger[_0x2e1c1d(0x259)]('Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20'+_0x33486c);}return;}if(helper['requireSeleniumWebdriverCheck'](_0x4aa1a7)){if(global['__isPlaywrightInstalled'])return;_0x1c8d19['AanZZ'](_0x1c8d19['EURqF'](parseInt,helper['getPackageVersion'](_0x1c8d19[_0x2e1c1d(0x1ee)])),0x3)&&(this[_0x2e1c1d(0x1cf)][_0x2e1c1d(0x227)]=![]),_0x1c8d19[_0x2e1c1d(0x219)](helper[_0x2e1c1d(0x26c)](helper[_0x2e1c1d(0x1f9)](_0x1c8d19[_0x2e1c1d(0x1ee)]),_0x1c8d19[_0x2e1c1d(0x1ac)]),0x1)&&(this['config']['useW3C']=!![]);}(helper['isUndefined'](this['config']['platforms'])||helper[_0x2e1c1d(0x1a6)](this[_0x2e1c1d(0x1cf)][_0x2e1c1d(0x208)][_0x2e1c1d(0x209)]))&&(helper[_0x2e1c1d(0x1a6)](this[_0x2e1c1d(0x1cf)]['parallelsPerPlatform'])?logger[_0x2e1c1d(0x1fc)](_0x1c8d19[_0x2e1c1d(0x1d5)]):logger['warn'](_0x1c8d19['MdYSJ']),this[_0x2e1c1d(0x1cf)]['platforms']=[]);!this[_0x2e1c1d(0x1cf)][_0x2e1c1d(0x1c8)]&&(this[_0x2e1c1d(0x1cf)][_0x2e1c1d(0x1c8)]={});try{process[_0x2e1c1d(0x230)][_0x2e1c1d(0x1f4)]=_0x5a9525['_'][0x0],utilities[_0x2e1c1d(0x194)](_0x1c8d19[_0x2e1c1d(0x24e)],{},this[_0x2e1c1d(0x1cf)],this[_0x2e1c1d(0x202)]);}catch(_0x2581e0){logger[_0x2e1c1d(0x259)]('Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20'+_0x2581e0);}!this['config'][_0x2e1c1d(0x250)]&&logger[_0x2e1c1d(0x1fc)](constants[_0x2e1c1d(0x1cd)]),this[_0x2e1c1d(0x21d)]=this[_0x2e1c1d(0x21d)][_0x2e1c1d(0x275)](this),process['on'](_0x1c8d19[_0x2e1c1d(0x1a9)],this[_0x2e1c1d(0x21d)]),process['on'](_0x1c8d19[_0x2e1c1d(0x204)],this[_0x2e1c1d(0x21d)]),process['on'](_0x1c8d19[_0x2e1c1d(0x1e0)],this[_0x2e1c1d(0x21d)]),_0x1c8d19[_0x2e1c1d(0x19c)](process[_0x2e1c1d(0x1f7)],_0x1c8d19[_0x2e1c1d(0x1e5)])?(process['on'](_0x1c8d19['fjMAB'],this[_0x2e1c1d(0x21d)]),process['on'](_0x1c8d19[_0x2e1c1d(0x1de)],this[_0x2e1c1d(0x21d)])):process['on'](_0x1c8d19[_0x2e1c1d(0x252)],this['intExitHandler']),process['on'](_0x1c8d19[_0x2e1c1d(0x224)],this[_0x2e1c1d(0x18a)]());}async[a85_0x54fa14(0x27e)](_0x128f2c){const _0x10a437=a85_0x54fa14,_0x3dd4b6={'RuTCu':_0x10a437(0x191),'UbKKa':_0x10a437(0x1fd),'DQNBK':_0x10a437(0x243),'ZyXLi':function(_0x2a3c09,_0x1cd22f){return _0x2a3c09===_0x1cd22f;},'iIczR':'playwright','DIvVH':function(_0x54f481,_0x53e461){return _0x54f481+_0x53e461;},'NnQjX':_0x10a437(0x1df),'kViia':function(_0x321322,_0x5720b8){return _0x321322(_0x5720b8);},'SfWZz':'codeceptjs'};this['preInitialize'](_0x128f2c);if(helper[_0x10a437(0x214)](this['config'])){const _0x56e277=await helper[_0x10a437(0x1fb)](this[_0x10a437(0x1cf)]);this[_0x10a437(0x1cf)][_0x10a437(0x1b3)]=_0x56e277,_0x56e277[_0x10a437(0x1ef)]&&helper[_0x10a437(0x1e7)](this[_0x10a437(0x1cf)][_0x10a437(0x1d4)])&&helper[_0x10a437(0x251)](this[_0x10a437(0x1cf)]['browserstackLocal'])&&(this['config']['browserStackLocalOptions'][_0x10a437(0x21f)]=_0x3dd4b6[_0x10a437(0x286)],this[_0x10a437(0x1cf)]['browserStackLocalOptions'][_0x3dd4b6[_0x10a437(0x241)]]=_0x56e277[_0x10a437(0x19e)][_0x10a437(0x25d)](','),this['config'][_0x10a437(0x283)][_0x10a437(0x272)]=_0x3dd4b6['DQNBK']),this[_0x10a437(0x1cf)][_0x10a437(0x20c)]=_0x56e277[_0x10a437(0x1fa)],this[_0x10a437(0x202)]&&_0x3dd4b6[_0x10a437(0x193)](this[_0x10a437(0x202)][_0x10a437(0x279)](),_0x3dd4b6['iIczR'])?this[_0x10a437(0x1cf)][_0x10a437(0x20c)]=_0x3dd4b6[_0x10a437(0x245)](_0x56e277[_0x10a437(0x1bc)],_0x3dd4b6[_0x10a437(0x1be)]):constants[_0x10a437(0x274)]=helper[_0x10a437(0x247)](this[_0x10a437(0x1cf)]),logger[_0x10a437(0x259)]('HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20'+constants[_0x10a437(0x274)]);}helper[_0x10a437(0x20a)](this[_0x10a437(0x1cf)]),this[_0x10a437(0x25e)](),_0x3dd4b6['kViia'](setPercyFlag,this),await this[_0x10a437(0x210)](),![_0x3dd4b6[_0x10a437(0x1eb)],_0x3dd4b6[_0x10a437(0x1a1)]]['includes'](this[_0x10a437(0x202)])&&!helper[_0x10a437(0x214)](this[_0x10a437(0x1cf)])&&!helper[_0x10a437(0x22a)]()[_0x10a437(0x27d)]&&await this[_0x10a437(0x20d)]();}async['setupPercy'](){const _0x37bda4=a85_0x54fa14,_0x1134d4={};_0x1134d4[_0x37bda4(0x285)]=function(_0x283f0b,_0x4369c){return _0x283f0b===_0x4369c;},_0x1134d4['qTAVc']=_0x37bda4(0x213),_0x1134d4['bffbL']='Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.',_0x1134d4['pQaAK']=_0x37bda4(0x1c4),_0x1134d4[_0x37bda4(0x1ce)]=_0x37bda4(0x243),_0x1134d4[_0x37bda4(0x263)]=_0x37bda4(0x27f);const _0xd3f547=_0x1134d4;if(helper[_0x37bda4(0x251)](this['config'][_0x37bda4(0x21c)])&&(!this[_0x37bda4(0x21c)]||!this[_0x37bda4(0x21c)]['isRunning']()))try{this[_0x37bda4(0x21c)]=await percyHelper[_0x37bda4(0x201)](this[_0x37bda4(0x1cf)]);if(!this[_0x37bda4(0x21c)]){process['env'][_0x37bda4(0x25f)]=_0xd3f547[_0x37bda4(0x268)];throw new Error(_0xd3f547['bffbL']);}logger[_0x37bda4(0x1fc)](_0xd3f547['pQaAK']),process[_0x37bda4(0x230)][_0x37bda4(0x25f)]=_0xd3f547[_0x37bda4(0x1ce)];let _0xadd3b9=0x0;const _0x596024=async()=>{const _0x411f52=_0x37bda4;_0xadd3b9++,_0xd3f547[_0x411f52(0x285)](_0xadd3b9,0x1)&&await this[_0x411f52(0x1a2)]();};process['on'](_0xd3f547['ItKei'],_0x596024);}catch(_0x19bb11){process[_0x37bda4(0x230)][_0x37bda4(0x25f)]=_0xd3f547[_0x37bda4(0x268)],logger[_0x37bda4(0x259)](_0x37bda4(0x20b)+_0x19bb11);throw new Error(_0x19bb11[_0x37bda4(0x19b)]());}}async[a85_0x54fa14(0x1a2)](){const _0x306782=a85_0x54fa14,_0x4fd7bd={};_0x4fd7bd[_0x306782(0x23f)]='Percy\x20stopped',_0x4fd7bd['Jnzcm']='Error\x20occured\x20while\x20stopping\x20percy';const _0x19e5a5=_0x4fd7bd;if(this[_0x306782(0x21c)]&&this['percy']['isRunning']())try{await percyHelper[_0x306782(0x1a2)](this[_0x306782(0x21c)]),logger[_0x306782(0x1fc)](_0x19e5a5[_0x306782(0x23f)]);}catch(_0x4f48a8){logger[_0x306782(0x265)](_0x19e5a5[_0x306782(0x24c)],_0x4f48a8['message']);}}async[a85_0x54fa14(0x210)](){const _0x455c00=a85_0x54fa14,_0x150e99={};_0x150e99[_0x455c00(0x1d0)]=_0x455c00(0x26f),_0x150e99[_0x455c00(0x1e4)]='Local\x20binary\x20started\x20successfully';const _0x179095=_0x150e99;if(helper[_0x455c00(0x260)]()&&helper[_0x455c00(0x251)](this[_0x455c00(0x1cf)][_0x455c00(0x1d4)])&&(!this[_0x455c00(0x1d4)]||!this[_0x455c00(0x1d4)][_0x455c00(0x203)]()))try{if(this[_0x455c00(0x1cf)][_0x455c00(0x283)][_0x455c00(0x269)]){logger[_0x455c00(0x259)](_0x179095[_0x455c00(0x1d0)]);return;}this[_0x455c00(0x1d4)]=await helper[_0x455c00(0x242)](this[_0x455c00(0x1cf)]),logger[_0x455c00(0x1fc)](_0x179095['yEjPu']);}catch(_0x859600){logger[_0x455c00(0x259)](_0x859600);throw new Error(_0x859600[_0x455c00(0x19b)]());}}async[a85_0x54fa14(0x22c)](){const _0x3a8a78=a85_0x54fa14,_0x3444f3={};_0x3444f3['hrzPk']=_0x3a8a78(0x1a7),_0x3444f3[_0x3a8a78(0x1b6)]=_0x3a8a78(0x262);const _0x2105d4=_0x3444f3;if(this[_0x3a8a78(0x1d4)]&&this[_0x3a8a78(0x1d4)]['isRunning']())try{await helper[_0x3a8a78(0x246)](this[_0x3a8a78(0x1d4)]),logger['info'](_0x2105d4['hrzPk']);}catch(_0x4350bc){logger[_0x3a8a78(0x265)](_0x2105d4[_0x3a8a78(0x1b6)],_0x4350bc[_0x3a8a78(0x267)]);}}async[a85_0x54fa14(0x20d)](){const _0x3e957f=a85_0x54fa14;return PerformanceTester[_0x3e957f(0x1ca)](PerformanceAutEvents['HUB_MANAGEMENT'],async()=>{const _0x217e48=_0x3e957f;await hubAllocator[_0x217e48(0x26d)](this[_0x217e48(0x1cf)]);})();}async[a85_0x54fa14(0x26e)](){const _0x2ceccc=a85_0x54fa14,_0x158696={'bbpoO':function(_0x15e926,_0x44a9c0){return _0x15e926(_0x44a9c0);},'pQABh':'../ai-sdk-node/bundle','hTicn':function(_0x480f5c,_0x4dbdb0,_0x69d8e3,_0x3186b8,_0x2cf647,_0x18a0fe,_0x4d0b38){return _0x480f5c(_0x4dbdb0,_0x69d8e3,_0x3186b8,_0x2cf647,_0x18a0fe,_0x4d0b38);},'VnSvr':_0x2ceccc(0x27a),'nKWTk':_0x2ceccc(0x1a4),'vNVUV':function(_0x30cd4d,_0x3a68b2){return _0x30cd4d(_0x3a68b2);},'BguMM':_0x2ceccc(0x22b),'NBgVz':_0x2ceccc(0x1a3),'dsOwG':function(_0x31bd7c,_0x4b65e8){return _0x31bd7c(_0x4b65e8);},'IMeWi':function(_0x433630,_0x2b04e5){return _0x433630===_0x2b04e5;},'ENJYQ':_0x2ceccc(0x243),'Srpfp':function(_0x2c8fc8,_0x4d9c79){return _0x2c8fc8===_0x4d9c79;},'odfPq':_0x2ceccc(0x22d),'yPTyN':function(_0x4f59b3,_0x10d382){return _0x4f59b3===_0x10d382;},'OHgqQ':_0x2ceccc(0x19d),'yixiu':_0x2ceccc(0x1c3),'OHikl':_0x2ceccc(0x21a),'CNbpL':function(_0x1247ad,_0x48bfdb){return _0x1247ad>=_0x48bfdb;},'eCXlv':function(_0x5ab69d,_0x364f2a){return _0x5ab69d<_0x364f2a;},'eUney':_0x2ceccc(0x1aa),'Kapbi':_0x2ceccc(0x236),'hyBMa':function(_0x1d60e0){return _0x1d60e0();}},_0x4034f3=PerformanceTester['measureWrapper'](_0x158696[_0x2ceccc(0x1f3)],async()=>{const _0x8476d5=_0x2ceccc;try{const _0x48fbbc=new Date(),_0x92b2ac=helper[_0x8476d5(0x1ea)](this[_0x8476d5(0x1cf)]),_0x5d1a44=_0x158696[_0x8476d5(0x23e)](require,path[_0x8476d5(0x25d)](__dirname,_0x158696[_0x8476d5(0x231)])),_0x40d3c6=_0x158696[_0x8476d5(0x197)](timeoutPromise,constants['TCG_AUTH_TIMEOUT'],_0x158696[_0x8476d5(0x1c5)],_0x158696[_0x8476d5(0x1db)],_0x48fbbc,this[_0x8476d5(0x1cf)],this['framework']),_0x1d7ecf={'tcgUrl':constants[_0x8476d5(0x207)],'sdkVersion':_0x158696['vNVUV'](require,_0x158696[_0x8476d5(0x266)])[_0x8476d5(0x289)],'methodUsed':_0x158696['NBgVz'],'proxyConfig':_0x92b2ac,'os':os[_0x8476d5(0x1f7)]()};if(_0x92b2ac&&_0x92b2ac[_0x8476d5(0x21e)]){utilities[_0x8476d5(0x194)](constants['AI_PROXY_FAILURE'],_0x1d7ecf,this[_0x8476d5(0x1cf)],this[_0x8476d5(0x202)]);return;}const _0x9103bc={};_0x9103bc['proxy']=_0x92b2ac;const _0x495234=await Promise[_0x8476d5(0x24f)]([_0x5d1a44[_0x8476d5(0x22f)](this[_0x8476d5(0x1cf)][_0x8476d5(0x276)],this['config'][_0x8476d5(0x192)],constants[_0x8476d5(0x207)],_0x158696[_0x8476d5(0x18f)](require,_0x158696[_0x8476d5(0x266)])[_0x8476d5(0x289)],_0x9103bc)[_0x8476d5(0x1bf)](_0x447b09=>{const _0x5c2c63=_0x8476d5;return _0x40d3c6[_0x5c2c63(0x1b4)](),_0x447b09;}),_0x40d3c6]);_0x495234[_0x8476d5(0x1d2)]=_0x158696[_0x8476d5(0x1b0)](_0x495234[_0x8476d5(0x1d2)],_0x158696['ENJYQ'])||_0x158696[_0x8476d5(0x1b0)](_0x495234[_0x8476d5(0x1d2)],!![]);const _0x337de2=_0x158696[_0x8476d5(0x1b0)](this[_0x8476d5(0x1cf)][_0x8476d5(0x1c9)],!![])||_0x158696[_0x8476d5(0x196)](this[_0x8476d5(0x1cf)][_0x8476d5(0x1c9)],_0x158696[_0x8476d5(0x27b)]);if(_0x158696[_0x8476d5(0x1b0)](_0x495234[_0x8476d5(0x267)],constants[_0x8476d5(0x23b)])&&_0x337de2)logger[_0x8476d5(0x1fc)](_0x158696[_0x8476d5(0x271)]);else{if(!_0x495234[_0x8476d5(0x205)]&&_0x158696[_0x8476d5(0x1d9)](_0x495234['status'],0x1f7)&&_0x337de2)logger[_0x8476d5(0x1fc)](_0x158696['OHgqQ']),utilities['fireFunnelTestEvent'](constants[_0x8476d5(0x258)],_0x1d7ecf,this['config'],this[_0x8476d5(0x202)]);else{if(!_0x495234[_0x8476d5(0x205)]&&_0x337de2){logger[_0x8476d5(0x1fc)](_0x158696['yixiu']);const _0x493cca={'tcgUrl':constants[_0x8476d5(0x207)],'sdkVersion':_0x158696[_0x8476d5(0x18f)](require,_0x158696[_0x8476d5(0x266)])[_0x8476d5(0x289)],'methodUsed':_0x158696[_0x8476d5(0x28b)],'proxyConfig':_0x92b2ac,'os':os[_0x8476d5(0x1f7)]()};utilities[_0x8476d5(0x194)](constants[_0x8476d5(0x234)],_0x493cca,this[_0x8476d5(0x1cf)],this[_0x8476d5(0x202)]);}else{if(_0x495234[_0x8476d5(0x205)]&&!_0x495234['isHealingEnabled']&&_0x337de2)logger[_0x8476d5(0x1fc)](_0x158696['OHikl']);else{if(_0x158696[_0x8476d5(0x237)](_0x495234['status'],0xc8)&&_0x158696[_0x8476d5(0x255)](_0x495234[_0x8476d5(0x239)],0x12c))utilities[_0x8476d5(0x194)](constants[_0x8476d5(0x1b5)],_0x1d7ecf,this[_0x8476d5(0x1cf)],this[_0x8476d5(0x202)]);else{if(_0x158696[_0x8476d5(0x237)](_0x495234[_0x8476d5(0x239)],0x190))_0x1d7ecf[_0x8476d5(0x239)]=_0x495234['status'],utilities[_0x8476d5(0x194)](constants[_0x8476d5(0x25b)],_0x1d7ecf,this[_0x8476d5(0x1cf)],this[_0x8476d5(0x202)]);else!_0x495234[_0x8476d5(0x239)]&&utilities['fireFunnelTestEvent'](constants[_0x8476d5(0x281)],_0x1d7ecf,this[_0x8476d5(0x1cf)],this[_0x8476d5(0x202)]);}}}}}if(_0x495234[_0x8476d5(0x205)]&&_0x495234[_0x8476d5(0x1d2)]){const _0x1454b5={};_0x1454b5[_0x8476d5(0x1f5)]=_0x495234;const _0xb85bc4=_0x1454b5;_0x92b2ac&&(_0xb85bc4[_0x8476d5(0x195)]=_0x92b2ac),_0xb85bc4['framework']=this[_0x8476d5(0x202)],_0xb85bc4[_0x8476d5(0x1d6)]=this[_0x8476d5(0x1cf)],helper[_0x8476d5(0x264)](_0xb85bc4),logger['debug'](_0x158696[_0x8476d5(0x1b8)]);}}catch(_0x324d0b){logger[_0x8476d5(0x259)](_0x8476d5(0x1a5)+(_0x324d0b['message']?_0x324d0b[_0x8476d5(0x267)]:''));}});await _0x158696[_0x2ceccc(0x1d7)](_0x4034f3);}[a85_0x54fa14(0x25e)](){const _0x2c84fd=a85_0x54fa14,_0x17d058={'nQkom':function(_0x525a20,_0x5e1aed){return _0x525a20(_0x5e1aed);},'PqtWZ':_0x2c84fd(0x249)};_0x17d058[_0x2c84fd(0x18b)](require,_0x17d058[_0x2c84fd(0x261)])();}[a85_0x54fa14(0x28a)](){const _0x54c6f8=a85_0x54fa14,_0x362b7b={};_0x362b7b[_0x54c6f8(0x244)]=_0x54c6f8(0x277),_0x362b7b['xDAoK']='uncaughtException';const _0x4c759a=_0x362b7b,_0x252b21=_0x35529f=>{const _0x3533e4=_0x54c6f8;logger[_0x3533e4(0x265)](_0x35529f['message']),logger[_0x3533e4(0x259)](util[_0x3533e4(0x288)](_0x35529f)),this[_0x3533e4(0x217)][_0x3533e4(0x273)](util['format']('%j',_0x35529f)),PerformanceTester[_0x3533e4(0x20f)](_0x35529f);};process['on'](_0x4c759a['RbbMh'],_0x252b21),process['on'](_0x4c759a[_0x54c6f8(0x19a)],_0x252b21);}async[a85_0x54fa14(0x21d)](_0x45ce65){const _0x218aa8=a85_0x54fa14,_0xa9e727={};_0xa9e727[_0x218aa8(0x233)]=_0x218aa8(0x1b1),_0xa9e727[_0x218aa8(0x278)]=function(_0x100b51,_0x501f3c){return _0x100b51+_0x501f3c;},_0xa9e727['jVMMA']=_0x218aa8(0x238),_0xa9e727['vyQMa']=_0x218aa8(0x225);const _0xd3cb15=_0xa9e727,_0x469a97=_0xd3cb15[_0x218aa8(0x233)][_0x218aa8(0x1bd)]('|');let _0x510691=0x0;while(!![]){switch(_0x469a97[_0x510691++]){case'0':await BrowserstackCLI[_0x218aa8(0x1c2)]()[_0x218aa8(0x19f)]();continue;case'1':this[_0xd3cb15[_0x218aa8(0x278)](_0xd3cb15[_0x218aa8(0x1f6)],_0x45ce65)]=!![];continue;case'2':this[_0x218aa8(0x257)]=_0x45ce65;continue;case'3':logger['info'](_0xd3cb15[_0x218aa8(0x278)](_0xd3cb15[_0x218aa8(0x25c)],_0x45ce65));continue;case'4':await TestHubHandler[_0x218aa8(0x19f)](_0x45ce65);continue;case'5':if(this[_0xd3cb15['JDaWP'](_0xd3cb15[_0x218aa8(0x1f6)],_0x45ce65)])return;continue;}break;}}[a85_0x54fa14(0x18a)](){const _0xc056de=a85_0x54fa14,_0x42bbc6={'ozFyQ':function(_0x258352,_0x8b8ae1){return _0x258352===_0x8b8ae1;},'laPeJ':_0xc056de(0x20e),'FFunF':function(_0x739090,_0x4a6d95){return _0x739090>_0x4a6d95;},'oIDUB':function(_0x23013a,_0x1fef19){return _0x23013a>_0x1fef19;},'rmDnR':function(_0x2e162f){return _0x2e162f();},'mYAnD':_0xc056de(0x1a8)};let _0x515408=0x0;return async()=>{const _0x4d716b=_0xc056de;_0x515408++;if(_0x42bbc6[_0x4d716b(0x1e1)](_0x515408,0x1)){helper[_0x4d716b(0x190)](this[_0x4d716b(0x202)])&&await this[_0x4d716b(0x22c)]();try{logger[_0x4d716b(0x259)](_0x42bbc6[_0x4d716b(0x1ab)]),await TestHubHandler[_0x4d716b(0x19f)](_0x515408),await BrowserstackCLI[_0x4d716b(0x1c2)]()[_0x4d716b(0x19f)]('1');}catch(_0x3d3f89){logger['debug'](_0x4d716b(0x22e)+util[_0x4d716b(0x288)](_0x3d3f89));}PerformanceTester['end'](PerformanceEvents['SDK_CLEANUP']);if(PerformanceTester[_0x4d716b(0x1b2)]()){const {measures:_0x4c25de,errors:_0x3d5480}=await PerformanceTester[_0x4d716b(0x254)](),_0x3caf6b={};if(_0x4c25de&&_0x42bbc6['FFunF'](_0x4c25de[_0x4d716b(0x209)],0x0)||_0x3d5480&&_0x42bbc6[_0x4d716b(0x218)](_0x3d5480['length'],0x0)){const _0x5996cd={};_0x5996cd[_0x4d716b(0x1b9)]=_0x4c25de,_0x5996cd[_0x4d716b(0x215)]=_0x3d5480,Object[_0x4d716b(0x1a0)](_0x3caf6b,_0x5996cd);}try{const _0x2e0acb=await helper[_0x4d716b(0x1ec)](_0x3caf6b,this['config']);logger[_0x4d716b(0x259)]('Data\x20sent\x20successfully\x20to\x20'+constants[_0x4d716b(0x235)]+'\x20with\x20response\x20'+_0x2e0acb[_0x4d716b(0x212)]);}catch(_0x256b37){logger[_0x4d716b(0x259)]('Failed\x20to\x20send\x20data\x20to\x20'+constants[_0x4d716b(0x235)]+_0x4d716b(0x221)+util['format'](_0x256b37));}try{fs[_0x4d716b(0x1ff)](path['join'](_0x42bbc6[_0x4d716b(0x24a)](getLogDir),_0x42bbc6[_0x4d716b(0x1d1)]),JSON[_0x4d716b(0x1e8)](_0x3caf6b));}catch(_0x546b16){logger['debug'](_0x4d716b(0x1da)+_0x546b16);}}}logger&&logger[_0x4d716b(0x1ae)](),fileLogger&&fileLogger[_0x4d716b(0x1ae)]();};}}exports['default']=BrowserStackSetup;