function a81_0x10c9(_0x2165b8,_0xd9fb88){const _0x4c5a2d=a81_0x4c5a();return a81_0x10c9=function(_0x10c985,_0xaad28b){_0x10c985=_0x10c985-0x1db;let _0x2712fc=_0x4c5a2d[_0x10c985];return _0x2712fc;},a81_0x10c9(_0x2165b8,_0xd9fb88);}const a81_0x502ea1=a81_0x10c9;(function(_0x49c26c,_0x3c24a5){const _0x20b6a8=a81_0x10c9,_0x29266d=_0x49c26c();while(!![]){try{const _0xbe7c73=parseInt(_0x20b6a8(0x1e5))/0x1*(parseInt(_0x20b6a8(0x279))/0x2)+-parseInt(_0x20b6a8(0x27d))/0x3*(-parseInt(_0x20b6a8(0x240))/0x4)+-parseInt(_0x20b6a8(0x2cd))/0x5+-parseInt(_0x20b6a8(0x29d))/0x6*(parseInt(_0x20b6a8(0x2a1))/0x7)+parseInt(_0x20b6a8(0x1ea))/0x8*(-parseInt(_0x20b6a8(0x21e))/0x9)+-parseInt(_0x20b6a8(0x28e))/0xa+parseInt(_0x20b6a8(0x1f9))/0xb*(parseInt(_0x20b6a8(0x2d9))/0xc);if(_0xbe7c73===_0x3c24a5)break;else _0x29266d['push'](_0x29266d['shift']());}catch(_0xcca4a0){_0x29266d['push'](_0x29266d['shift']());}}}(a81_0x4c5a,0x7c64f));const util=require(a81_0x502ea1(0x23b)),os=require('os'),path=require('path'),{v4:uuidv4}=require(a81_0x502ea1(0x2c2)),fs=require('fs'),constants=require(a81_0x502ea1(0x2b1)),logger=require(a81_0x502ea1(0x2d8))['winstonLogger'],fileLogger=require(a81_0x502ea1(0x2d8))[a81_0x502ea1(0x247)],{getLogDir}=require(a81_0x502ea1(0x2d8)),helper=require('./helper'),utilities=require(a81_0x502ea1(0x1e6)),percyHelper=require(a81_0x502ea1(0x28d)),hubAllocator=require(a81_0x502ea1(0x2d6)),PerformanceTester=require('./performance/performance-tester'),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require(a81_0x502ea1(0x2d3)),{setPercyFlag}=require(a81_0x502ea1(0x1fe)),TestHubHandler=require(a81_0x502ea1(0x1f6)),timeoutPromise=require(a81_0x502ea1(0x20d)),BrowserstackCLI=require(a81_0x502ea1(0x230));function a81_0x4c5a(){const _0x181012=['getConfigPath','getLocalConfig','MBWBW','turboScaleGridDetails','getHubUrl','Local\x20binary\x20stopped','\x20with\x20error\x20','znNWz','exitHandler','PMFrY','CtTow','isTrialGrid','ats-repeater','setHandlePWError','../bin/utils/constants','bstackConfig','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','readConfig','HUB_MANAGEMENT','proxyConfig','playwright','SIGTERM','cancel','includes','setEnvCaps','setupTcgConfigFile','parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','compareVersions','TzhVQ','isTrue','TCG_DOWN','uuid','errorMessage','tAFaT','BrowserstackHealing.init','REgOP','stop','integrations','localIdentifier','uannt','measureWrapper','Qtmgp','3933820ONaSJu','ORKnl','selfHeal','stopPercy','Huxyj','wXdbD','./performance/constants','QPwFQ','race','../hubAllocationMethods','Percy\x20stopped','./logger','20817036JORlLD','fireFunnelTestEvent','geWMh','Zmrro','parallelsPerPlatform','stopBrowserstackLocal','AI_INIT_FAILURE','tcg\x20config\x20setup\x20successful.','getInstance','framework','setBrowserstackInfraFromConfig','unhandledErrors','TCG_AUTH_FAILURE','sdkRunId','selenium-webdriver','173WzEPPh','./utilities','psWQs','luoNd','OvqzI','939216dpzTqL','push','isBrowserstackInfra','version','PcTuU','isUndefined','preInitialize','toString','zcxyE','useW3C','stopLocalBinary','Slyzy','./testhub/testhubHandler','checkStopLocalBinaryOnExit','warn','11GiTGvH','eYgls','exceptions','ZIPLb','lCwpH','./testhub/utils','setCLICaps','getUserName','11|10|18|12|16|15|21|13|3|1|19|14|8|9|4|5|0|20|17|6|2|7','nHLbS','platforms','BROWSERSTACK_TURBOSCALE','setupTCGAuth','SDKTestAttempted','forceLocal','skipSessionName','join','config','true','constructor','./timeoutPromise','isEnabled','disableAutoCaptureLogs','CYPpx','message','SIGINT','userName\x20or\x20accessKey\x20is\x20not\x20defined','getAccessKey','platform','BhPvw','statusCode','vetAA','captureError','isRunning','beforeExit','userName','allocateHub','9NtRNWe','gFsxS','cliConfig','uFZTd','BrowserstackHealingInitFailed','setUpHubUrl','length','testContextOptions','kekhs','Hmnna','KjgQQ','getFinalCaps','TvkyI','lsURk','uyjUd','mYZgo','lVMrm','isAuthenticated','../bin/v2/browserstackCLI','aFgWv','IMQcm','oFKEW','ATpJt','MIZFt','BROWSERSTACK_PERCY','gmZng','turboScale','getTurboScaleGridDetails','status','util','startPercy','skipBinaryInitialisation','FRAMEWORK','Error\x20occured\x20while\x20stopping\x20percy','4292BTsRWW','MfDeb','info','setLogLevel','killSignal','intExitHandler','RgmEb','fileLogger','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','url','turboScaleUrl','debug','Shutdown\x20triggered\x20by\x20','startLocalBinary','AI_INIT_SUCCESSFUL','../../package.json','then','percy','Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','EDS_URL','getCentralUser','sanitizeCaps','envConfig','../ai-sdk-node/bundle','custom-repeater','browserstackLocal','tfikL','finalize','ECIlO','env','tHviC','ekNtm','close','pvhSf','TCG_URL','UYBmN','central_scanner','Error\x20occured\x20while\x20stopping\x20local\x20binary','WkMGj','Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled','isTurboScaleSession','stringify','Percy\x20started\x20successfully','No\x20config\x20provided.','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','SJtbg','SIGBREAK','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','handled','OQucZ','split','INVALID_INIT_RESP_WITH_USER_IMPACT','tcgAuthConfig','?caps=','false','zrPnx','navPF','2722bWngkG','Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','sendToEDS','format','867VuYULu','vhraM','./setKeepAlive','generateLocalIdentifier','mafZV','skipSessionStatus','YOvwe','AI_PROXY_FAILURE','localOptions','Error\x20in\x20sending\x20testhub\x20stop:\x20','UmlHv','HOkzu','IOuaS','fTKct','Error\x20in\x20percy\x20setup\x20','Data\x20sent\x20successfully\x20to\x20','./percy/utils','7392630ioozFR','hubUrl','fByEo','npngR','error','QwBVT','getPackageVersion','handleExceptions','SIGQUIT','vfikA','setLogDir','isHealingEnabled','setupKeepAlive','setupBrowserstackLocal','codeceptjs','152826nvyUyE','browserStackLocalOptions','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','uncaughtException','35ScJPIe','toLowerCase'];a81_0x4c5a=function(){return _0x181012;};return a81_0x4c5a();}class BrowserStackSetup{constructor(_0x560cc6,_0x1fcf1b){const _0x4aa3c9=a81_0x502ea1,_0x54ddc2={'RgmEb':_0x4aa3c9(0x201),'mYZgo':function(_0x2068b2){return _0x2068b2();},'pvhSf':_0x4aa3c9(0x26b)},_0x60bcab=_0x54ddc2[_0x4aa3c9(0x246)]['split']('|');let _0x1b024e=0x0;while(!![]){switch(_0x60bcab[_0x1b024e++]){case'0':this['config']['testContextOptions'][_0x4aa3c9(0x282)]=!helper[_0x4aa3c9(0x1ec)]()||helper[_0x4aa3c9(0x2c0)](this[_0x4aa3c9(0x20a)]['testContextOptions']['skipSessionStatus']);continue;case'1':this[_0x4aa3c9(0x1e3)]=_0x54ddc2[_0x4aa3c9(0x22d)](uuidv4);continue;case'2':helper[_0x4aa3c9(0x243)](this[_0x4aa3c9(0x20a)],this[_0x4aa3c9(0x220)],this['envConfig']);continue;case'3':this[_0x4aa3c9(0x2c3)]={};continue;case'4':helper[_0x4aa3c9(0x1e0)](this[_0x4aa3c9(0x20a)],this[_0x4aa3c9(0x220)]);continue;case'5':helper['setCredentialsFromYmlConfig'](this[_0x4aa3c9(0x20a)]);continue;case'6':helper[_0x4aa3c9(0x298)](this[_0x4aa3c9(0x20a)]);continue;case'7':PerformanceTester['startMonitoring']();continue;case'8':if(helper[_0x4aa3c9(0x1ef)](this[_0x4aa3c9(0x20a)]))throw new Error(_0x54ddc2[_0x4aa3c9(0x261)]);continue;case'9':if(this[_0x4aa3c9(0x20a)][_0x4aa3c9(0x292)])throw new Error(this[_0x4aa3c9(0x20a)][_0x4aa3c9(0x292)]);continue;case'10':this[_0x4aa3c9(0x220)]=helper[_0x4aa3c9(0x1ff)](_0x560cc6);continue;case'11':this[_0x4aa3c9(0x1e1)]=[];continue;case'12':this[_0x4aa3c9(0x259)]=null;continue;case'13':this[_0x4aa3c9(0x20a)]['testContextOptions']=this[_0x4aa3c9(0x20a)][_0x4aa3c9(0x225)]||{};continue;case'14':global[_0x4aa3c9(0x1df)]=_0x1fcf1b;continue;case'15':this[_0x4aa3c9(0x20a)]=helper[_0x4aa3c9(0x2b4)](helper[_0x4aa3c9(0x2a3)](_0x560cc6));continue;case'16':this[_0x4aa3c9(0x251)]=null;continue;case'17':helper[_0x4aa3c9(0x229)](this[_0x4aa3c9(0x20a)],this['cliConfig'],this[_0x4aa3c9(0x256)]);continue;case'18':this['envConfig']=helper[_0x4aa3c9(0x2bb)]();continue;case'19':this[_0x4aa3c9(0x1df)]=_0x1fcf1b;continue;case'20':this['config'][_0x4aa3c9(0x225)][_0x4aa3c9(0x208)]=!helper['isBrowserstackInfra']()||helper[_0x4aa3c9(0x2c0)](this[_0x4aa3c9(0x20a)]['testContextOptions'][_0x4aa3c9(0x208)]);continue;case'21':this['config'][_0x4aa3c9(0x203)]=this[_0x4aa3c9(0x20a)][_0x4aa3c9(0x203)]||[];continue;}break;}}[a81_0x502ea1(0x1f0)](_0x160b1d){const _0x1a6919=a81_0x502ea1,_0x24410e={'fByEo':_0x1a6919(0x213),'CtTow':function(_0x9106ed,_0x18ac6b){return _0x9106ed===_0x18ac6b;},'CYPpx':_0x1a6919(0x2c8),'MfDeb':_0x1a6919(0x206),'gFsxS':function(_0x46784c,_0x636a67){return _0x46784c<_0x636a67;},'UYBmN':function(_0x2cbb1a,_0xce3fd1){return _0x2cbb1a(_0xce3fd1);},'HOkzu':_0x1a6919(0x1e4),'Huxyj':function(_0x3db503,_0x5f545d){return _0x3db503===_0x5f545d;},'eYgls':'4.5.0','KjUAt':_0x1a6919(0x26f),'UmlHv':_0x1a6919(0x2bd),'geWMh':_0x1a6919(0x2b8),'mafZV':_0x1a6919(0x212),'znNWz':'SIGHUP','YOvwe':function(_0x3861f7,_0x31391f){return _0x3861f7!==_0x31391f;},'GTFCI':'win32','npngR':'SIGABRT','fTKct':_0x1a6919(0x296),'lCwpH':_0x1a6919(0x26e),'Qtmgp':_0x1a6919(0x21b)},_0x4b48f5=this[_0x1a6919(0x1df)];global['config']=this[_0x1a6919(0x20a)],helper[_0x1a6919(0x255)](this[_0x1a6919(0x20a)]),this[_0x1a6919(0x244)]=null,global[_0x1a6919(0x1e3)]=this[_0x1a6919(0x1e3)],logger[_0x1a6919(0x242)]('SDK\x20run\x20started\x20with\x20id:\x20'+this[_0x1a6919(0x1e3)]),!this[_0x1a6919(0x20a)][_0x1a6919(0x29e)]&&(this['config'][_0x1a6919(0x29e)]=this['config'][_0x1a6919(0x285)]||{});if(helper[_0x1a6919(0x1ef)](helper[_0x1a6919(0x200)](this['config']))||helper['isUndefined'](helper[_0x1a6919(0x214)](this[_0x1a6919(0x20a)])))throw new Error(_0x24410e[_0x1a6919(0x290)]);helper[_0x1a6919(0x2a4)](this[_0x1a6919(0x20a)])&&helper[_0x1a6919(0x1ef)](helper['getLocalIdentifier'](this['config']))&&(!helper[_0x1a6919(0x1ef)](this['config'][_0x1a6919(0x29e)])&&_0x24410e[_0x1a6919(0x2ad)](this[_0x1a6919(0x20a)][_0x1a6919(0x29e)][_0x1a6919(0x20c)],Object)?!helper['isTrue'](this['config'][_0x1a6919(0x29e)][_0x1a6919(0x23d)])&&(this[_0x1a6919(0x20a)][_0x1a6919(0x29e)][_0x1a6919(0x2c9)]=helper['generateLocalIdentifier']()):this[_0x1a6919(0x20a)][_0x1a6919(0x29e)]={'localIdentifier':helper[_0x1a6919(0x280)]()});this[_0x1a6919(0x20a)][_0x1a6919(0x29e)][_0x1a6919(0x23d)]=helper[_0x1a6919(0x2c0)](this[_0x1a6919(0x20a)][_0x1a6919(0x29e)][_0x1a6919(0x23d)]),helper[_0x1a6919(0x2b0)](this[_0x1a6919(0x20a)]);if(_0x24410e[_0x1a6919(0x2ad)](_0x4b48f5,_0x24410e[_0x1a6919(0x210)]))return;this[_0x1a6919(0x295)]();process['env']['BROWSERSTACK_TURBOSCALE']&&(this[_0x1a6919(0x20a)][_0x1a6919(0x238)]=helper['isTrue'](process[_0x1a6919(0x25d)][_0x1a6919(0x204)]),this[_0x1a6919(0x20a)]['turboScaleOptions']=this[_0x1a6919(0x20a)]['turboScaleOptions']||{});helper[_0x1a6919(0x268)](this[_0x1a6919(0x20a)])&&(process['env'][_0x1a6919(0x204)]=!![]);if(!helper['isBrowserstackInfra']()){try{process[_0x1a6919(0x25d)][_0x1a6919(0x23e)]=_0x4b48f5,utilities[_0x1a6919(0x2da)](_0x24410e[_0x1a6919(0x241)],{},this[_0x1a6919(0x20a)],this['framework']);}catch(_0x549b1c){logger[_0x1a6919(0x24b)]('Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20'+_0x549b1c);}return;}helper['requireSeleniumWebdriverCheck'](_0x4b48f5)&&(_0x24410e[_0x1a6919(0x21f)](_0x24410e[_0x1a6919(0x263)](parseInt,helper[_0x1a6919(0x294)](_0x24410e[_0x1a6919(0x288)])),0x3)&&(this[_0x1a6919(0x20a)]['useW3C']=![]),_0x24410e[_0x1a6919(0x2d1)](helper[_0x1a6919(0x2be)](helper[_0x1a6919(0x294)](_0x24410e[_0x1a6919(0x288)]),_0x24410e[_0x1a6919(0x1fa)]),0x1)&&(this['config'][_0x1a6919(0x1f3)]=!![]));(helper[_0x1a6919(0x1ef)](this[_0x1a6919(0x20a)][_0x1a6919(0x203)])||helper[_0x1a6919(0x1ef)](this[_0x1a6919(0x20a)]['platforms'][_0x1a6919(0x224)]))&&(helper[_0x1a6919(0x1ef)](this[_0x1a6919(0x20a)][_0x1a6919(0x2dd)])?logger[_0x1a6919(0x242)](_0x24410e['KjUAt']):logger[_0x1a6919(0x1f8)](_0x24410e[_0x1a6919(0x287)]),this[_0x1a6919(0x20a)][_0x1a6919(0x203)]=[]);!this['config'][_0x1a6919(0x225)]&&(this[_0x1a6919(0x20a)][_0x1a6919(0x225)]={});try{process[_0x1a6919(0x25d)]['FRAMEWORK']=_0x160b1d['_'][0x0],utilities[_0x1a6919(0x2da)](_0x24410e['MfDeb'],{},this[_0x1a6919(0x20a)],this[_0x1a6919(0x1df)]);}catch(_0x15db98){logger[_0x1a6919(0x24b)](_0x1a6919(0x29f)+_0x15db98);}!this['config'][_0x1a6919(0x20f)]&&logger[_0x1a6919(0x242)](constants['AUTOLOGCAPTURE_NOTIFICATION']),this[_0x1a6919(0x245)]=this[_0x1a6919(0x245)]['bind'](this),process['on'](_0x24410e[_0x1a6919(0x2db)],this[_0x1a6919(0x245)]),process['on'](_0x24410e[_0x1a6919(0x281)],this[_0x1a6919(0x245)]),process['on'](_0x24410e[_0x1a6919(0x2aa)],this['intExitHandler']),_0x24410e[_0x1a6919(0x283)](process[_0x1a6919(0x215)],_0x24410e['GTFCI'])?(process['on'](_0x24410e[_0x1a6919(0x291)],this[_0x1a6919(0x245)]),process['on'](_0x24410e[_0x1a6919(0x28a)],this['intExitHandler'])):process['on'](_0x24410e[_0x1a6919(0x1fd)],this[_0x1a6919(0x245)]),process['on'](_0x24410e[_0x1a6919(0x2cc)],this['exitHandler']());}async['initialize'](_0x3b487b){const _0xef592e=a81_0x502ea1,_0x39ed8d={'lAOmo':_0xef592e(0x2af),'vetAA':_0xef592e(0x258),'vhraM':'true','IHCNh':function(_0x2abb55,_0x4852a5){return _0x2abb55===_0x4852a5;},'ZIPLb':_0xef592e(0x2b7),'psWQs':function(_0x35e60f,_0x4e69b1){return _0x35e60f+_0x4e69b1;},'Zmrro':_0xef592e(0x275),'wXdbD':function(_0x8065bd,_0x452247){return _0x8065bd(_0x452247);},'tHviC':_0xef592e(0x29c)};this[_0xef592e(0x1f0)](_0x3b487b);if(helper[_0xef592e(0x268)](this[_0xef592e(0x20a)])){const _0x4284ee=await helper[_0xef592e(0x239)](this['config']);this['config'][_0xef592e(0x2a6)]=_0x4284ee,_0x4284ee[_0xef592e(0x2ae)]&&helper['isNotUndefined'](this[_0xef592e(0x20a)][_0xef592e(0x259)])&&helper[_0xef592e(0x2c0)](this[_0xef592e(0x20a)][_0xef592e(0x259)])&&(this[_0xef592e(0x20a)]['browserStackLocalOptions']['localIdentifier']=_0x39ed8d['lAOmo'],this[_0xef592e(0x20a)][_0xef592e(0x29e)][_0x39ed8d[_0xef592e(0x218)]]=_0x4284ee['customRepeaters'][_0xef592e(0x209)](','),this[_0xef592e(0x20a)]['browserStackLocalOptions'][_0xef592e(0x207)]=_0x39ed8d[_0xef592e(0x27e)]),this[_0xef592e(0x20a)][_0xef592e(0x24a)]=_0x4284ee[_0xef592e(0x249)],this[_0xef592e(0x1df)]&&_0x39ed8d['IHCNh'](this[_0xef592e(0x1df)][_0xef592e(0x2a2)](),_0x39ed8d[_0xef592e(0x1fc)])&&(this[_0xef592e(0x20a)][_0xef592e(0x24a)]=_0x39ed8d[_0xef592e(0x1e7)](_0x4284ee['playwrightUrl'],_0x39ed8d[_0xef592e(0x2dc)])),constants[_0xef592e(0x28f)]=helper[_0xef592e(0x2a7)](this['config']),logger[_0xef592e(0x24b)]('HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20'+constants['hubUrl']);}helper['setProxySettings'](this['config']),this[_0xef592e(0x29a)](),_0x39ed8d[_0xef592e(0x2d2)](setPercyFlag,this),await this[_0xef592e(0x29b)](),![_0x39ed8d[_0xef592e(0x25e)],_0x39ed8d[_0xef592e(0x1fc)]][_0xef592e(0x2ba)](this[_0xef592e(0x1df)])&&!helper['isTurboScaleSession'](this[_0xef592e(0x20a)])&&!helper[_0xef592e(0x254)]()[_0xef592e(0x264)]&&await this[_0xef592e(0x223)]();}async['setupPercy'](){const _0x5bad1c=a81_0x502ea1,_0xb4a96d={};_0xb4a96d[_0x5bad1c(0x1f5)]=function(_0x59c80f,_0x4dd373){return _0x59c80f===_0x4dd373;},_0xb4a96d[_0x5bad1c(0x1e9)]=_0x5bad1c(0x276),_0xb4a96d[_0x5bad1c(0x202)]='Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.',_0xb4a96d[_0x5bad1c(0x2c6)]=_0x5bad1c(0x26a),_0xb4a96d[_0x5bad1c(0x2d4)]=_0x5bad1c(0x20b),_0xb4a96d[_0x5bad1c(0x22a)]=_0x5bad1c(0x21b);const _0x11eefa=_0xb4a96d;if(helper[_0x5bad1c(0x2c0)](this[_0x5bad1c(0x20a)]['percy'])&&(!this['percy']||!this[_0x5bad1c(0x251)][_0x5bad1c(0x21a)]()))try{this[_0x5bad1c(0x251)]=await percyHelper[_0x5bad1c(0x23c)](this[_0x5bad1c(0x20a)]);if(!this['percy']){process[_0x5bad1c(0x25d)][_0x5bad1c(0x236)]=_0x11eefa[_0x5bad1c(0x1e9)];throw new Error(_0x11eefa[_0x5bad1c(0x202)]);}logger['info'](_0x11eefa['REgOP']),process[_0x5bad1c(0x25d)][_0x5bad1c(0x236)]=_0x11eefa[_0x5bad1c(0x2d4)];let _0x4d0371=0x0;const _0x196ec5=async()=>{const _0x30282e=_0x5bad1c;_0x4d0371++,_0x11eefa[_0x30282e(0x1f5)](_0x4d0371,0x1)&&await this[_0x30282e(0x2d0)]();};process['on'](_0x11eefa[_0x5bad1c(0x22a)],_0x196ec5);}catch(_0x45cb3f){process[_0x5bad1c(0x25d)]['BROWSERSTACK_PERCY']=_0x11eefa['OvqzI'],logger[_0x5bad1c(0x24b)](_0x5bad1c(0x28b)+_0x45cb3f);throw new Error(_0x45cb3f[_0x5bad1c(0x1f1)]());}}async[a81_0x502ea1(0x2d0)](){const _0x56d663=a81_0x502ea1,_0x38f917={};_0x38f917[_0x56d663(0x237)]=_0x56d663(0x2d7),_0x38f917[_0x56d663(0x235)]=_0x56d663(0x23f);const _0x29f3cd=_0x38f917;if(this[_0x56d663(0x251)]&&this[_0x56d663(0x251)][_0x56d663(0x21a)]())try{await percyHelper[_0x56d663(0x2d0)](this[_0x56d663(0x251)]),logger['info'](_0x29f3cd[_0x56d663(0x237)]);}catch(_0x24b0ff){logger[_0x56d663(0x292)](_0x29f3cd[_0x56d663(0x235)],_0x24b0ff['message']);}}async[a81_0x502ea1(0x29b)](){const _0xfaaaba=a81_0x502ea1,_0x3eee6d={};_0x3eee6d[_0xfaaaba(0x2bf)]=_0xfaaaba(0x267),_0x3eee6d[_0xfaaaba(0x25c)]='Local\x20binary\x20started\x20successfully';const _0x58d3d0=_0x3eee6d;if(helper[_0xfaaaba(0x1ec)]()&&helper[_0xfaaaba(0x2c0)](this[_0xfaaaba(0x20a)][_0xfaaaba(0x259)])&&(!this[_0xfaaaba(0x259)]||!this[_0xfaaaba(0x259)]['isRunning']()))try{if(this[_0xfaaaba(0x20a)][_0xfaaaba(0x29e)]['skipBinaryInitialisation']){logger['debug'](_0x58d3d0[_0xfaaaba(0x2bf)]);return;}this[_0xfaaaba(0x259)]=await helper[_0xfaaaba(0x24d)](this[_0xfaaaba(0x20a)]),logger['info'](_0x58d3d0['ECIlO']);}catch(_0x4004c3){logger['debug'](_0x4004c3);throw new Error(_0x4004c3[_0xfaaaba(0x1f1)]());}}async[a81_0x502ea1(0x1db)](){const _0xa6fd61=a81_0x502ea1,_0x4b3a1d={};_0x4b3a1d[_0xa6fd61(0x1e8)]=_0xa6fd61(0x2a8),_0x4b3a1d[_0xa6fd61(0x266)]=_0xa6fd61(0x265);const _0x1ced2e=_0x4b3a1d;if(this[_0xa6fd61(0x259)]&&this[_0xa6fd61(0x259)]['isRunning']())try{await helper[_0xa6fd61(0x1f4)](this[_0xa6fd61(0x259)]),logger[_0xa6fd61(0x242)](_0x1ced2e[_0xa6fd61(0x1e8)]);}catch(_0x5dc09b){logger[_0xa6fd61(0x292)](_0x1ced2e[_0xa6fd61(0x266)],_0x5dc09b[_0xa6fd61(0x211)]);}}async[a81_0x502ea1(0x223)](){const _0x3725f3=a81_0x502ea1;return PerformanceTester[_0x3725f3(0x2cb)](PerformanceAutEvents[_0x3725f3(0x2b5)],async()=>{const _0x2acc36=_0x3725f3;await hubAllocator[_0x2acc36(0x21d)](this[_0x2acc36(0x20a)]);})();}async[a81_0x502ea1(0x205)](){const _0x4fdc0a=a81_0x502ea1,_0x4e3666={'ekNtm':function(_0x180ae7,_0x422ed6){return _0x180ae7(_0x422ed6);},'OQucZ':_0x4fdc0a(0x257),'sfvuq':function(_0x64fd61,_0x5c04d4,_0x27fcb6,_0x540c52,_0x2b417e,_0x440215,_0x339c1c){return _0x64fd61(_0x5c04d4,_0x27fcb6,_0x540c52,_0x2b417e,_0x440215,_0x339c1c);},'navPF':'BrowserstackHealing.init\x20method\x20timed\x20out','zcxyE':_0x4fdc0a(0x222),'Hmnna':function(_0xd7d899,_0x2f9d0e){return _0xd7d899(_0x2f9d0e);},'ORKnl':_0x4fdc0a(0x24f),'ATpJt':_0x4fdc0a(0x2c5),'vfikA':function(_0x5ded98,_0x120b58){return _0x5ded98===_0x120b58;},'KjgQQ':_0x4fdc0a(0x20b),'MBWBW':function(_0x3e9b10,_0x341da5){return _0x3e9b10===_0x341da5;},'uFZTd':function(_0xc08f0d,_0x37e633){return _0xc08f0d===_0x37e633;},'dBffg':_0x4fdc0a(0x248),'xsXzi':_0x4fdc0a(0x2b3),'kekhs':_0x4fdc0a(0x27a),'lsURk':_0x4fdc0a(0x252),'uyjUd':function(_0x1e8b3e,_0xa81051){return _0x1e8b3e>=_0xa81051;},'SJtbg':function(_0x3a83f8,_0x18fd96){return _0x3a83f8<_0x18fd96;},'tfikL':function(_0x5d4697,_0x24db06){return _0x5d4697>=_0x24db06;},'YLmFf':_0x4fdc0a(0x1dd),'AxHDB':'aiHeal:tcgAuth','PcTuU':function(_0x89b1c3){return _0x89b1c3();}},_0x34e10f=PerformanceTester['measureWrapper'](_0x4e3666['AxHDB'],async()=>{const _0x200a1c=_0x4fdc0a;try{const _0x52645f=new Date(),_0x4c61dc=helper['getProxyConfigForTcg'](this[_0x200a1c(0x20a)]),_0x1a4722=_0x4e3666[_0x200a1c(0x25f)](require,path['join'](__dirname,_0x4e3666[_0x200a1c(0x271)])),_0x10a7b8=_0x4e3666['sfvuq'](timeoutPromise,constants['TCG_AUTH_TIMEOUT'],_0x4e3666[_0x200a1c(0x278)],_0x4e3666[_0x200a1c(0x1f2)],_0x52645f,this[_0x200a1c(0x20a)],this[_0x200a1c(0x1df)]),_0x3e488e={'tcgUrl':constants[_0x200a1c(0x262)],'sdkVersion':_0x4e3666[_0x200a1c(0x227)](require,_0x4e3666['ORKnl'])[_0x200a1c(0x1ed)],'methodUsed':_0x4e3666[_0x200a1c(0x234)],'proxyConfig':_0x4c61dc,'os':os[_0x200a1c(0x215)]()};if(_0x4c61dc&&_0x4c61dc['proxyUrl']){utilities['fireFunnelTestEvent'](constants[_0x200a1c(0x284)],_0x3e488e,this[_0x200a1c(0x20a)],this[_0x200a1c(0x1df)]);return;}const _0x1e0cb1={};_0x1e0cb1['proxy']=_0x4c61dc;const _0x24dfcb=await Promise[_0x200a1c(0x2d5)]([_0x1a4722['init'](this[_0x200a1c(0x20a)]['accessKey'],this[_0x200a1c(0x20a)][_0x200a1c(0x21c)],constants[_0x200a1c(0x262)],_0x4e3666[_0x200a1c(0x25f)](require,_0x4e3666[_0x200a1c(0x2ce)])[_0x200a1c(0x1ed)],_0x1e0cb1)[_0x200a1c(0x250)](_0x24090e=>{const _0x1092e0=_0x200a1c;return _0x10a7b8[_0x1092e0(0x2b9)](),_0x24090e;}),_0x10a7b8]);_0x24dfcb[_0x200a1c(0x299)]=_0x4e3666[_0x200a1c(0x297)](_0x24dfcb['isHealingEnabled'],_0x4e3666[_0x200a1c(0x228)])||_0x4e3666[_0x200a1c(0x2a5)](_0x24dfcb['isHealingEnabled'],!![]);const _0x4542ae=_0x4e3666[_0x200a1c(0x221)](this[_0x200a1c(0x20a)][_0x200a1c(0x2cf)],!![])||_0x4e3666['MBWBW'](this[_0x200a1c(0x20a)][_0x200a1c(0x2cf)],_0x4e3666[_0x200a1c(0x228)]);if(_0x4e3666[_0x200a1c(0x2a5)](_0x24dfcb[_0x200a1c(0x211)],constants['UPGRADE_REQUIRED'])&&_0x4542ae)logger[_0x200a1c(0x242)](_0x4e3666['dBffg']);else{if(!_0x24dfcb[_0x200a1c(0x22f)]&&_0x4e3666[_0x200a1c(0x221)](_0x24dfcb[_0x200a1c(0x23a)],0x1f7)&&_0x4542ae)logger[_0x200a1c(0x242)](_0x4e3666['xsXzi']),utilities['fireFunnelTestEvent'](constants[_0x200a1c(0x2c1)],_0x3e488e,this[_0x200a1c(0x20a)],this[_0x200a1c(0x1df)]);else{if(!_0x24dfcb['isAuthenticated']&&_0x4542ae){logger[_0x200a1c(0x242)](_0x4e3666[_0x200a1c(0x226)]);const _0x27cb0b={'tcgUrl':constants[_0x200a1c(0x262)],'sdkVersion':_0x4e3666['Hmnna'](require,_0x4e3666['ORKnl'])[_0x200a1c(0x1ed)],'methodUsed':_0x4e3666[_0x200a1c(0x234)],'proxyConfig':_0x4c61dc,'os':os[_0x200a1c(0x215)]()};utilities[_0x200a1c(0x2da)](constants[_0x200a1c(0x1e2)],_0x27cb0b,this[_0x200a1c(0x20a)],this[_0x200a1c(0x1df)]);}else{if(_0x24dfcb['isAuthenticated']&&!_0x24dfcb[_0x200a1c(0x299)]&&_0x4542ae)logger[_0x200a1c(0x242)](_0x4e3666[_0x200a1c(0x22b)]);else{if(_0x4e3666[_0x200a1c(0x22c)](_0x24dfcb[_0x200a1c(0x23a)],0xc8)&&_0x4e3666[_0x200a1c(0x26d)](_0x24dfcb[_0x200a1c(0x23a)],0x12c))utilities[_0x200a1c(0x2da)](constants[_0x200a1c(0x24e)],_0x3e488e,this['config'],this[_0x200a1c(0x1df)]);else{if(_0x4e3666[_0x200a1c(0x25a)](_0x24dfcb['status'],0x190))_0x3e488e[_0x200a1c(0x23a)]=_0x24dfcb['status'],utilities[_0x200a1c(0x2da)](constants[_0x200a1c(0x1dc)],_0x3e488e,this[_0x200a1c(0x20a)],this[_0x200a1c(0x1df)]);else!_0x24dfcb[_0x200a1c(0x23a)]&&utilities[_0x200a1c(0x2da)](constants[_0x200a1c(0x273)],_0x3e488e,this['config'],this['framework']);}}}}}if(_0x24dfcb['isAuthenticated']&&_0x24dfcb[_0x200a1c(0x299)]){const _0xa46f9e={};_0xa46f9e[_0x200a1c(0x274)]=_0x24dfcb;const _0x4e8b89=_0xa46f9e;_0x4c61dc&&(_0x4e8b89[_0x200a1c(0x2b6)]=_0x4c61dc),_0x4e8b89[_0x200a1c(0x1df)]=this['framework'],_0x4e8b89[_0x200a1c(0x2b2)]=this[_0x200a1c(0x20a)],helper[_0x200a1c(0x2bc)](_0x4e8b89),logger[_0x200a1c(0x24b)](_0x4e3666['YLmFf']);}}catch(_0x13c60a){logger[_0x200a1c(0x24b)](_0x200a1c(0x26c)+(_0x13c60a[_0x200a1c(0x211)]?_0x13c60a[_0x200a1c(0x211)]:''));}});await _0x4e3666[_0x4fdc0a(0x1ee)](_0x34e10f);}['setupKeepAlive'](){const _0x44b6e1=a81_0x502ea1,_0xf40c5c={'IOuaS':function(_0x3dc820,_0x43e00b){return _0x3dc820(_0x43e00b);},'jaJav':_0x44b6e1(0x27f)};_0xf40c5c[_0x44b6e1(0x289)](require,_0xf40c5c['jaJav'])();}[a81_0x502ea1(0x295)](){const _0x24d000=a81_0x502ea1,_0x226a39={};_0x226a39[_0x24d000(0x2c4)]='unhandledRejection',_0x226a39['oyrdo']=_0x24d000(0x2a0);const _0x1da715=_0x226a39,_0x4a7c95=_0x5484a6=>{const _0x55b028=_0x24d000;logger[_0x55b028(0x292)](_0x5484a6['message']),logger[_0x55b028(0x24b)](util[_0x55b028(0x27c)](_0x5484a6)),this[_0x55b028(0x1e1)][_0x55b028(0x1eb)](util[_0x55b028(0x27c)]('%j',_0x5484a6)),PerformanceTester[_0x55b028(0x219)](_0x5484a6);};process['on'](_0x1da715[_0x24d000(0x2c4)],_0x4a7c95),process['on'](_0x1da715['oyrdo'],_0x4a7c95);}async[a81_0x502ea1(0x245)](_0x43abd9){const _0x8b986d=a81_0x502ea1,_0x37fe1f={};_0x37fe1f['BhPvw']='4|1|0|5|2|6|3|7',_0x37fe1f['IMQcm']=function(_0x5acd75,_0x2b741b){return _0x5acd75+_0x2b741b;},_0x37fe1f['PMFrY']=_0x8b986d(0x270),_0x37fe1f[_0x8b986d(0x2ca)]=_0x8b986d(0x24c);const _0x50a60b=_0x37fe1f,_0x56071c=_0x50a60b[_0x8b986d(0x216)][_0x8b986d(0x272)]('|');let _0x1a9fca=0x0;while(!![]){switch(_0x56071c[_0x1a9fca++]){case'0':if(this[_0x50a60b[_0x8b986d(0x232)](_0x50a60b[_0x8b986d(0x2ac)],_0x43abd9)])return;continue;case'1':fileLogger&&fileLogger[_0x8b986d(0x260)]();continue;case'2':logger['info'](_0x50a60b[_0x8b986d(0x232)](_0x50a60b[_0x8b986d(0x2ca)],_0x43abd9));continue;case'3':await BrowserstackCLI[_0x8b986d(0x1de)]()[_0x8b986d(0x2c7)]();continue;case'4':logger&&logger[_0x8b986d(0x260)]();continue;case'5':this[_0x50a60b[_0x8b986d(0x232)](_0x50a60b[_0x8b986d(0x2ac)],_0x43abd9)]=!![];continue;case'6':this[_0x8b986d(0x244)]=_0x43abd9;continue;case'7':await TestHubHandler[_0x8b986d(0x2c7)](_0x43abd9);continue;}break;}}[a81_0x502ea1(0x2ab)](){const _0x4f4a52={'lVMrm':function(_0x2b4806,_0x24c825){return _0x2b4806===_0x24c825;},'oFKEW':'Calling\x20Build\x20Stop\x20from\x20ExitHandler','QwBVT':function(_0x3970a2,_0x55e6ef){return _0x3970a2>_0x55e6ef;},'aFgWv':function(_0x59dc1b){return _0x59dc1b();},'zrPnx':'events.json'};let _0x40787c=0x0;return async()=>{const _0x352343=a81_0x10c9;_0x40787c++;if(_0x4f4a52[_0x352343(0x22e)](_0x40787c,0x1)){helper[_0x352343(0x1f7)](this['framework'])&&await this['stopBrowserstackLocal']();try{logger['debug'](_0x4f4a52[_0x352343(0x233)]),await BrowserstackCLI[_0x352343(0x1de)]()[_0x352343(0x2c7)]('1'),await TestHubHandler[_0x352343(0x2c7)](_0x40787c);}catch(_0x3f6eab){logger[_0x352343(0x24b)](_0x352343(0x286)+util[_0x352343(0x27c)](_0x3f6eab));}PerformanceTester['end'](PerformanceEvents['SDK_CLEANUP']);if(PerformanceTester[_0x352343(0x20e)]()){const {measures:_0x1b76cf,errors:_0x4ed38b}=await PerformanceTester[_0x352343(0x25b)](),_0x677db2={};if(_0x1b76cf&&_0x4f4a52[_0x352343(0x293)](_0x1b76cf[_0x352343(0x224)],0x0)||_0x4ed38b&&_0x4f4a52[_0x352343(0x293)](_0x4ed38b[_0x352343(0x224)],0x0)){const _0x4cbd0f={};_0x4cbd0f['measures']=_0x1b76cf,_0x4cbd0f[_0x352343(0x1fb)]=_0x4ed38b,Object['assign'](_0x677db2,_0x4cbd0f);}try{const _0x4957d8=await helper[_0x352343(0x27b)](_0x677db2,this[_0x352343(0x20a)]);logger[_0x352343(0x24b)](_0x352343(0x28c)+constants['EDS_URL']+'\x20with\x20response\x20'+_0x4957d8[_0x352343(0x217)]);}catch(_0x1bda3b){logger['debug']('Failed\x20to\x20send\x20data\x20to\x20'+constants[_0x352343(0x253)]+_0x352343(0x2a9)+util['format'](_0x1bda3b));}try{fs['writeFileSync'](path[_0x352343(0x209)](_0x4f4a52[_0x352343(0x231)](getLogDir),_0x4f4a52[_0x352343(0x277)]),JSON[_0x352343(0x269)](_0x677db2));}catch(_0x3d0514){logger[_0x352343(0x24b)]('Error\x20in\x20writing\x20events\x20to\x20file\x20'+_0x3d0514);}}}};}}exports['default']=BrowserStackSetup;