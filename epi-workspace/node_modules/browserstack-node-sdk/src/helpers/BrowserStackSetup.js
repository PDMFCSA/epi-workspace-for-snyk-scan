const a55_0x38b1d2=a55_0xc12b;(function(_0x57fbf5,_0x2e6f23){const _0x21b453=a55_0xc12b,_0x1265bf=_0x57fbf5();while(!![]){try{const _0x408e02=parseInt(_0x21b453(0x210))/0x1*(-parseInt(_0x21b453(0x1ba))/0x2)+parseInt(_0x21b453(0x20e))/0x3*(parseInt(_0x21b453(0x1db))/0x4)+parseInt(_0x21b453(0x1ed))/0x5*(-parseInt(_0x21b453(0x22e))/0x6)+parseInt(_0x21b453(0x258))/0x7+-parseInt(_0x21b453(0x26b))/0x8+-parseInt(_0x21b453(0x287))/0x9*(parseInt(_0x21b453(0x23b))/0xa)+parseInt(_0x21b453(0x274))/0xb*(parseInt(_0x21b453(0x21b))/0xc);if(_0x408e02===_0x2e6f23)break;else _0x1265bf['push'](_0x1265bf['shift']());}catch(_0x14d4ec){_0x1265bf['push'](_0x1265bf['shift']());}}}(a55_0x5b4c,0x7d31d));const util=require(a55_0x38b1d2(0x23d)),os=require('os'),path=require(a55_0x38b1d2(0x26c)),{v4:uuidv4}=require(a55_0x38b1d2(0x256)),fs=require('fs'),constants=require(a55_0x38b1d2(0x1cb)),{isTurboScaleSession}=require(a55_0x38b1d2(0x278)),logger=require(a55_0x38b1d2(0x1f8))[a55_0x38b1d2(0x1ef)],helper=require(a55_0x38b1d2(0x1e1)),utilities=require('./utilities'),percyHelper=require(a55_0x38b1d2(0x217)),hubAllocator=require(a55_0x38b1d2(0x21e)),PerformanceTester=require(a55_0x38b1d2(0x24c)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require('./performance/constants'),{setPercyFlag}=require('./testhub/utils'),TestHubHandler=require(a55_0x38b1d2(0x262)),timeoutPromise=require(a55_0x38b1d2(0x22b));class BrowserStackSetup{constructor(_0x2bd932,_0x4d7714){const _0x13b241=a55_0x38b1d2,_0x470751={'vdqwP':'29|10|9|32|7|24|16|4|3|19|20|15|42|28|12|5|30|36|11|1|23|33|8|40|26|41|6|27|17|22|21|25|0|39|43|18|2|13|35|31|34|38|37|14','uhaxB':_0x13b241(0x1bd),'aTzJA':'beforeExit','uVzXh':function(_0x19a6c6,_0xba0331){return _0x19a6c6===_0xba0331;},'XxVDC':_0x13b241(0x1cc),'NVbvJ':_0x13b241(0x1b1),'TZnUq':function(_0x5aeeb3){return _0x5aeeb3();},'rWvVy':_0x13b241(0x28c),'pNXrv':_0x13b241(0x1e3),'ovIUI':_0x13b241(0x1e0),'JSJZK':function(_0x2b247f,_0x9123){return _0x2b247f!==_0x9123;},'ZPLLq':_0x13b241(0x1ca),'EkEcx':_0x13b241(0x243),'JmWjx':_0x13b241(0x225),'CrQNz':_0x13b241(0x22a),'cPTEQ':'SIGHUP','zxGIY':function(_0x2b371f,_0xa4d26f){return _0x2b371f<_0xa4d26f;},'oCzAL':function(_0x22b2d0,_0x3971c1){return _0x22b2d0(_0x3971c1);},'isywX':'selenium-webdriver','uBYDa':_0x13b241(0x1aa),'wZWuY':_0x13b241(0x219),'hcNyD':_0x13b241(0x244)},_0x46d038=_0x470751['vdqwP'][_0x13b241(0x277)]('|');let _0x3ecbd0=0x0;while(!![]){switch(_0x46d038[_0x3ecbd0++]){case'0':if(!helper[_0x13b241(0x1ad)]()){try{process[_0x13b241(0x23c)][_0x13b241(0x1e5)]=_0x4d7714,utilities[_0x13b241(0x24f)](_0x470751['uhaxB'],{},this[_0x13b241(0x24d)],this[_0x13b241(0x291)]);}catch(_0x2ab268){logger[_0x13b241(0x1f4)](_0x13b241(0x21c)+_0x2ab268);}return;}continue;case'1':helper[_0x13b241(0x209)](this['config'],this[_0x13b241(0x26d)]);continue;case'2':try{process[_0x13b241(0x23c)][_0x13b241(0x1e5)]=_0x2bd932['_'][0x0],utilities[_0x13b241(0x24f)](_0x470751[_0x13b241(0x1ac)],{},this[_0x13b241(0x24d)],this[_0x13b241(0x291)]);}catch(_0xf1331b){logger[_0x13b241(0x1f4)](_0x13b241(0x21c)+_0xf1331b);}continue;case'3':this[_0x13b241(0x1ce)]={};continue;case'4':this[_0x13b241(0x24d)]['testContextOptions']=this['config'][_0x13b241(0x227)]||{};continue;case'5':global[_0x13b241(0x240)]=this[_0x13b241(0x240)];continue;case'6':this[_0x13b241(0x24d)][_0x13b241(0x1f0)][_0x13b241(0x21f)]=helper['isTrue'](this[_0x13b241(0x24d)][_0x13b241(0x1f0)][_0x13b241(0x21f)]);continue;case'7':this['percy']=null;continue;case'8':helper['getFinalCaps'](this['config'],this[_0x13b241(0x26d)],this['envConfig']);continue;case'9':this[_0x13b241(0x215)]=helper['setEnvCaps']();continue;case'10':this['cliConfig']=helper[_0x13b241(0x1fd)](_0x2bd932);continue;case'11':if(this[_0x13b241(0x24d)][_0x13b241(0x1d1)])throw new Error(this['config'][_0x13b241(0x1d1)]);continue;case'12':this['killSignal']=null;continue;case'13':!this[_0x13b241(0x24d)][_0x13b241(0x1f2)]&&logger['info'](constants[_0x13b241(0x250)]);continue;case'14':process['on'](_0x470751[_0x13b241(0x255)],this['exitHandler']());continue;case'15':helper[_0x13b241(0x1f1)](this[_0x13b241(0x24d)]);continue;case'16':this[_0x13b241(0x24d)][_0x13b241(0x247)]=this[_0x13b241(0x24d)][_0x13b241(0x247)]||[];continue;case'17':helper[_0x13b241(0x19d)](this[_0x13b241(0x24d)]);continue;case'18':!this[_0x13b241(0x24d)][_0x13b241(0x227)]&&(this[_0x13b241(0x24d)]['testContextOptions']={});continue;case'19':global[_0x13b241(0x24d)]=this[_0x13b241(0x24d)];continue;case'20':global[_0x13b241(0x291)]=_0x4d7714;continue;case'21':this[_0x13b241(0x1cf)]();continue;case'22':if(_0x470751['uVzXh'](_0x4d7714,_0x470751[_0x13b241(0x276)]))return;continue;case'23':this[_0x13b241(0x24d)][_0x13b241(0x227)][_0x13b241(0x24b)]=!helper[_0x13b241(0x1ad)]()||helper['isTrue'](this[_0x13b241(0x24d)][_0x13b241(0x227)][_0x13b241(0x24b)]);continue;case'24':this[_0x13b241(0x24d)]=helper['readConfig'](helper[_0x13b241(0x213)](_0x2bd932));continue;case'25':process['env'][_0x13b241(0x1a6)]&&(this[_0x13b241(0x24d)][_0x13b241(0x208)]=helper[_0x13b241(0x1a2)](process[_0x13b241(0x23c)][_0x13b241(0x1a6)]),this[_0x13b241(0x24d)]['turboScaleOptions']=this[_0x13b241(0x24d)][_0x13b241(0x206)]||{});continue;case'26':if(helper[_0x13b241(0x221)](helper['getUserName'](this[_0x13b241(0x24d)]))||helper['isUndefined'](helper['getAccessKey'](this[_0x13b241(0x24d)])))throw new Error(_0x470751[_0x13b241(0x26e)]);continue;case'27':helper[_0x13b241(0x25e)](this[_0x13b241(0x24d)],this['cliConfig'],this[_0x13b241(0x215)]);continue;case'28':this[_0x13b241(0x240)]=_0x470751[_0x13b241(0x253)](uuidv4);continue;case'29':this['unhandledErrors']=[];continue;case'30':logger[_0x13b241(0x290)](_0x13b241(0x20d)+this[_0x13b241(0x240)]);continue;case'31':process['on'](_0x470751['rWvVy'],this[_0x13b241(0x207)]);continue;case'32':this[_0x13b241(0x1b8)]=null;continue;case'33':this[_0x13b241(0x24d)][_0x13b241(0x227)][_0x13b241(0x212)]=!helper[_0x13b241(0x1ad)]()||helper[_0x13b241(0x1a2)](this[_0x13b241(0x24d)]['testContextOptions']['skipSessionName']);continue;case'34':process['on'](_0x470751['pNXrv'],this[_0x13b241(0x207)]);continue;case'35':this['intExitHandler']=this[_0x13b241(0x207)][_0x13b241(0x22c)](this);continue;case'36':if(helper[_0x13b241(0x221)](this['config']))throw new Error(_0x470751['ovIUI']);continue;case'37':_0x470751[_0x13b241(0x28f)](process['platform'],_0x470751['ZPLLq'])?(process['on'](_0x470751['EkEcx'],this['intExitHandler']),process['on'](_0x470751[_0x13b241(0x241)],this['intExitHandler'])):process['on'](_0x470751['CrQNz'],this['intExitHandler']);continue;case'38':process['on'](_0x470751[_0x13b241(0x1b9)],this[_0x13b241(0x207)]);continue;case'39':helper[_0x13b241(0x229)](_0x4d7714)&&(_0x470751['zxGIY'](_0x470751[_0x13b241(0x20b)](parseInt,helper['getPackageVersion'](_0x470751[_0x13b241(0x1e6)])),0x3)&&(this[_0x13b241(0x24d)][_0x13b241(0x1a8)]=![]),_0x470751[_0x13b241(0x252)](helper['compareVersions'](helper['getPackageVersion'](_0x470751[_0x13b241(0x1e6)]),_0x470751[_0x13b241(0x1de)]),0x1)&&(this['config'][_0x13b241(0x1a8)]=!![]));continue;case'40':!this[_0x13b241(0x24d)][_0x13b241(0x1f0)]&&(this[_0x13b241(0x24d)][_0x13b241(0x1f0)]=this['config']['localOptions']||{});continue;case'41':helper[_0x13b241(0x1d4)](this[_0x13b241(0x24d)])&&helper[_0x13b241(0x221)](helper['getLocalIdentifier'](this['config']))&&(!helper[_0x13b241(0x221)](this[_0x13b241(0x24d)][_0x13b241(0x1f0)])&&_0x470751[_0x13b241(0x252)](this['config'][_0x13b241(0x1f0)]['constructor'],Object)?!helper[_0x13b241(0x1a2)](this[_0x13b241(0x24d)][_0x13b241(0x1f0)]['skipBinaryInitialisation'])&&(this[_0x13b241(0x24d)][_0x13b241(0x1f0)][_0x13b241(0x201)]=helper[_0x13b241(0x1f5)]()):this['config'][_0x13b241(0x1f0)]={'localIdentifier':helper[_0x13b241(0x1f5)]()});continue;case'42':this[_0x13b241(0x291)]=_0x4d7714;continue;case'43':(helper['isUndefined'](this['config'][_0x13b241(0x247)])||helper[_0x13b241(0x221)](this[_0x13b241(0x24d)][_0x13b241(0x247)][_0x13b241(0x200)]))&&(helper[_0x13b241(0x221)](this[_0x13b241(0x24d)][_0x13b241(0x23a)])?logger['info'](_0x470751[_0x13b241(0x1b4)]):logger[_0x13b241(0x216)](_0x470751[_0x13b241(0x289)]),this['config'][_0x13b241(0x247)]=[]);continue;}break;}}async[a55_0x38b1d2(0x283)](){const _0x1af770=a55_0x38b1d2,_0x351e80={'SOBBk':function(_0xc2f2b0,_0x2c6fda){return _0xc2f2b0(_0x2c6fda);},'Aezcp':'ats-repeater','ejmFW':'custom-repeater','Ciqqm':'true','bZRjd':function(_0x25659e,_0x5b3bf9){return _0x25659e===_0x5b3bf9;},'DwRCB':_0x1af770(0x242),'MPkxd':function(_0x531080,_0x1eab3a){return _0x531080+_0x1eab3a;},'iCapM':_0x1af770(0x282),'obxwA':_0x1af770(0x203)};if(_0x351e80['SOBBk'](isTurboScaleSession,this[_0x1af770(0x24d)])){const _0x249b7a=await helper[_0x1af770(0x267)](this[_0x1af770(0x24d)]);this[_0x1af770(0x24d)]['turboScaleGridDetails']=_0x249b7a,_0x249b7a[_0x1af770(0x251)]&&(this['config']['browserstackLocal']=!![],this[_0x1af770(0x24d)]['browserStackLocalOptions'][_0x1af770(0x201)]=_0x351e80[_0x1af770(0x1c4)],this[_0x1af770(0x24d)]['browserStackLocalOptions'][_0x351e80['ejmFW']]=_0x249b7a[_0x1af770(0x257)][_0x1af770(0x20a)](','),this[_0x1af770(0x24d)][_0x1af770(0x1f0)][_0x1af770(0x1ea)]=_0x351e80[_0x1af770(0x1c0)]),this[_0x1af770(0x24d)][_0x1af770(0x1c3)]=_0x249b7a['url'],this[_0x1af770(0x291)]&&_0x351e80[_0x1af770(0x25c)](this[_0x1af770(0x291)][_0x1af770(0x28d)](),_0x351e80[_0x1af770(0x275)])&&(this[_0x1af770(0x24d)][_0x1af770(0x1c3)]=_0x351e80['MPkxd'](_0x249b7a[_0x1af770(0x27d)],_0x351e80['iCapM'])),constants[_0x1af770(0x259)]=helper['getHubUrl'](this[_0x1af770(0x24d)]),logger[_0x1af770(0x1f4)](_0x1af770(0x19f)+constants[_0x1af770(0x259)]);}helper[_0x1af770(0x260)](this[_0x1af770(0x24d)]),this['setupKeepAlive'](),_0x351e80[_0x1af770(0x226)](setPercyFlag,this),await this['setupBrowserstackLocal'](),![_0x351e80['obxwA']]['includes'](this[_0x1af770(0x291)])&&!_0x351e80['SOBBk'](isTurboScaleSession,this[_0x1af770(0x24d)])&&!helper[_0x1af770(0x1a5)]()[_0x1af770(0x261)]&&await this[_0x1af770(0x27c)]();}async['setupPercy'](){const _0x3fa961=a55_0x38b1d2,_0x3ccf9b={};_0x3ccf9b[_0x3fa961(0x237)]=function(_0x25c99b,_0x307261){return _0x25c99b===_0x307261;},_0x3ccf9b[_0x3fa961(0x214)]=_0x3fa961(0x1df),_0x3ccf9b[_0x3fa961(0x1d7)]=_0x3fa961(0x239),_0x3ccf9b['HpHtH']=_0x3fa961(0x1eb),_0x3ccf9b[_0x3fa961(0x22f)]=_0x3fa961(0x1bc),_0x3ccf9b[_0x3fa961(0x1b3)]='beforeExit';const _0x5c8f4c=_0x3ccf9b;if(helper[_0x3fa961(0x1a2)](this[_0x3fa961(0x24d)][_0x3fa961(0x28b)])&&(!this[_0x3fa961(0x28b)]||!this[_0x3fa961(0x28b)][_0x3fa961(0x1d6)]()))try{this[_0x3fa961(0x28b)]=await percyHelper['startPercy'](this[_0x3fa961(0x24d)]);if(!this['percy']){process[_0x3fa961(0x23c)]['BROWSERSTACK_PERCY']=_0x5c8f4c[_0x3fa961(0x214)];throw new Error(_0x5c8f4c[_0x3fa961(0x1d7)]);}logger[_0x3fa961(0x290)](_0x5c8f4c[_0x3fa961(0x1d0)]),process[_0x3fa961(0x23c)][_0x3fa961(0x22d)]=_0x5c8f4c[_0x3fa961(0x22f)];let _0x382d85=0x0;const _0x1ca284=async()=>{const _0x220f8=_0x3fa961;_0x382d85++,_0x5c8f4c['DMEEk'](_0x382d85,0x1)&&await this[_0x220f8(0x284)]();};process['on'](_0x5c8f4c[_0x3fa961(0x1b3)],_0x1ca284);}catch(_0x31d265){process['env'][_0x3fa961(0x22d)]=_0x5c8f4c[_0x3fa961(0x214)],logger[_0x3fa961(0x1f4)](_0x3fa961(0x26a)+_0x31d265);throw new Error(_0x31d265[_0x3fa961(0x1d8)]());}}async[a55_0x38b1d2(0x284)](){const _0x511f16=a55_0x38b1d2,_0x290541={};_0x290541['fsyon']=_0x511f16(0x1d5),_0x290541[_0x511f16(0x202)]=_0x511f16(0x26f);const _0x232b0b=_0x290541;if(this['percy']&&this[_0x511f16(0x28b)][_0x511f16(0x1d6)]())try{await percyHelper[_0x511f16(0x284)](this[_0x511f16(0x28b)]),logger['info'](_0x232b0b[_0x511f16(0x269)]);}catch(_0x1f03d0){logger[_0x511f16(0x1d1)](_0x232b0b[_0x511f16(0x202)],_0x1f03d0[_0x511f16(0x1e4)]);}}async[a55_0x38b1d2(0x246)](){const _0x3b0318=a55_0x38b1d2,_0x572eef={};_0x572eef[_0x3b0318(0x273)]='Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled',_0x572eef[_0x3b0318(0x270)]=_0x3b0318(0x228);const _0x40fa30=_0x572eef;if(helper[_0x3b0318(0x1ad)]()&&helper[_0x3b0318(0x1a2)](this['config'][_0x3b0318(0x1b8)])&&(!this[_0x3b0318(0x1b8)]||!this[_0x3b0318(0x1b8)]['isRunning']()))try{if(this[_0x3b0318(0x24d)][_0x3b0318(0x1f0)]['skipBinaryInitialisation']){logger[_0x3b0318(0x1f4)](_0x40fa30[_0x3b0318(0x273)]);return;}this['browserstackLocal']=await helper[_0x3b0318(0x1d2)](this[_0x3b0318(0x24d)]),logger[_0x3b0318(0x290)](_0x40fa30[_0x3b0318(0x270)]);}catch(_0x2832a4){logger[_0x3b0318(0x1f4)](_0x2832a4);throw new Error(_0x2832a4[_0x3b0318(0x1d8)]());}}async[a55_0x38b1d2(0x27a)](){const _0x4c840c=a55_0x38b1d2,_0x4d9c6d={};_0x4d9c6d[_0x4c840c(0x1d9)]=_0x4c840c(0x27b),_0x4d9c6d[_0x4c840c(0x1d3)]=_0x4c840c(0x1ff);const _0x241f24=_0x4d9c6d;if(this[_0x4c840c(0x1b8)]&&this[_0x4c840c(0x1b8)][_0x4c840c(0x1d6)]())try{await helper[_0x4c840c(0x1fb)](this[_0x4c840c(0x1b8)]),logger[_0x4c840c(0x290)](_0x241f24['Hzjlo']);}catch(_0x637581){logger[_0x4c840c(0x1d1)](_0x241f24[_0x4c840c(0x1d3)],_0x637581[_0x4c840c(0x1e4)]);}}async[a55_0x38b1d2(0x27c)](){const _0x1ebf9f=a55_0x38b1d2;return PerformanceTester[_0x1ebf9f(0x1b2)](PerformanceAutEvents[_0x1ebf9f(0x265)],async()=>{const _0x5a1270=_0x1ebf9f;await hubAllocator['allocateHub'](this[_0x5a1270(0x24d)]);})();}async[a55_0x38b1d2(0x24a)](){const _0x3fa1d4=a55_0x38b1d2,_0x16f967={'oRfRm':function(_0x270e0d,_0x21aefa){return _0x270e0d(_0x21aefa);},'sOpzG':'../ai-sdk-node/bundle','luTqw':function(_0x59fa6b,_0x11cf5d,_0x49ded2,_0x9af329,_0x4286ac,_0x10bc95,_0x32e50f){return _0x59fa6b(_0x11cf5d,_0x49ded2,_0x9af329,_0x4286ac,_0x10bc95,_0x32e50f);},'GGrzd':_0x3fa1d4(0x28e),'wcLIf':_0x3fa1d4(0x280),'HZVuR':function(_0x3ea5a5,_0x3b345e){return _0x3ea5a5(_0x3b345e);},'nTbiC':_0x3fa1d4(0x211),'KcllU':'BrowserstackHealing.init','XzvIo':function(_0x461fa7,_0x5caa10){return _0x461fa7===_0x5caa10;},'jirjo':_0x3fa1d4(0x1bc),'wZInY':function(_0x4de477,_0x26718f){return _0x4de477===_0x26718f;},'aJQaY':function(_0x1d0a13,_0x42e6eb){return _0x1d0a13===_0x42e6eb;},'aVUSV':function(_0x41fa1f,_0x53268f){return _0x41fa1f===_0x53268f;},'JAMXE':_0x3fa1d4(0x1f7),'bXXZQ':function(_0x2a0eef,_0x1c5bb1){return _0x2a0eef===_0x1c5bb1;},'KgWJt':_0x3fa1d4(0x1a3),'hXTMS':_0x3fa1d4(0x1af),'camdx':function(_0x44ad7b,_0x1ffb69){return _0x44ad7b(_0x1ffb69);},'kAjJM':_0x3fa1d4(0x224),'WwoPJ':function(_0x57b635,_0x12b5b5){return _0x57b635>=_0x12b5b5;},'dXBAP':function(_0x357907,_0x196c88){return _0x357907<_0x196c88;},'EnTpu':function(_0x553ea5,_0x1c4d32){return _0x553ea5>=_0x1c4d32;},'zCxAm':'tcg\x20config\x20setup\x20successful.','dvgfe':_0x3fa1d4(0x1fa),'wFikg':function(_0xa71173){return _0xa71173();}},_0x122595=PerformanceTester['measureWrapper'](_0x16f967[_0x3fa1d4(0x1c6)],async()=>{const _0x357ff3=_0x3fa1d4;try{const _0x2bb97b=new Date(),_0x338028=helper[_0x357ff3(0x1ec)](this[_0x357ff3(0x24d)]),_0x2d972e=_0x16f967[_0x357ff3(0x235)](require,path['join'](__dirname,_0x16f967['sOpzG'])),_0x528481=_0x16f967[_0x357ff3(0x25d)](timeoutPromise,constants[_0x357ff3(0x1dd)],_0x16f967[_0x357ff3(0x1ae)],_0x16f967[_0x357ff3(0x1a0)],_0x2bb97b,this['config'],this[_0x357ff3(0x291)]),_0x31d516={'tcgUrl':constants[_0x357ff3(0x1ab)],'sdkVersion':_0x16f967[_0x357ff3(0x1b5)](require,_0x16f967['nTbiC'])[_0x357ff3(0x1b6)],'methodUsed':_0x16f967[_0x357ff3(0x1c7)],'proxyConfig':_0x338028,'os':os['platform']()};if(_0x338028&&_0x338028['proxyUrl']){utilities[_0x357ff3(0x24f)](constants[_0x357ff3(0x25b)],_0x31d516,this[_0x357ff3(0x24d)],this[_0x357ff3(0x291)]);return;}const _0x2cb304={};_0x2cb304['proxy']=_0x338028;const _0x3e38b3=await Promise[_0x357ff3(0x23f)]([_0x2d972e[_0x357ff3(0x234)](this[_0x357ff3(0x24d)][_0x357ff3(0x1bf)],this[_0x357ff3(0x24d)][_0x357ff3(0x230)],constants['TCG_URL'],_0x16f967['HZVuR'](require,_0x16f967[_0x357ff3(0x25f)])[_0x357ff3(0x1b6)],_0x2cb304)[_0x357ff3(0x222)](_0x50ec50=>{const _0x2e5e99=_0x357ff3;return _0x528481[_0x2e5e99(0x233)](),_0x50ec50;}),_0x528481]);_0x3e38b3['isHealingEnabled']=_0x16f967[_0x357ff3(0x1fc)](_0x3e38b3[_0x357ff3(0x1fe)],_0x16f967['jirjo'])||_0x16f967[_0x357ff3(0x24e)](_0x3e38b3[_0x357ff3(0x1fe)],!![]);const _0x1e13f1=_0x16f967[_0x357ff3(0x238)](this[_0x357ff3(0x24d)][_0x357ff3(0x1e2)],!![])||_0x16f967[_0x357ff3(0x24e)](this['config']['selfHeal'],_0x16f967['jirjo']);if(_0x16f967['aVUSV'](_0x3e38b3[_0x357ff3(0x1e4)],constants[_0x357ff3(0x1a1)])&&_0x1e13f1)logger[_0x357ff3(0x290)](_0x16f967[_0x357ff3(0x248)]);else{if(!_0x3e38b3[_0x357ff3(0x232)]&&_0x16f967[_0x357ff3(0x266)](_0x3e38b3['status'],0x1f7)&&_0x1e13f1)logger[_0x357ff3(0x290)](_0x16f967['KgWJt']),utilities[_0x357ff3(0x24f)](constants[_0x357ff3(0x264)],_0x31d516,this['config'],this[_0x357ff3(0x291)]);else{if(!_0x3e38b3['isAuthenticated']&&_0x1e13f1){logger[_0x357ff3(0x290)](_0x16f967[_0x357ff3(0x205)]);const _0xcbe494={'tcgUrl':constants[_0x357ff3(0x1ab)],'sdkVersion':_0x16f967[_0x357ff3(0x288)](require,_0x16f967[_0x357ff3(0x25f)])[_0x357ff3(0x1b6)],'methodUsed':_0x16f967['KcllU'],'proxyConfig':_0x338028,'os':os['platform']()};utilities['fireFunnelTestEvent'](constants['TCG_AUTH_FAILURE'],_0xcbe494,this[_0x357ff3(0x24d)],this[_0x357ff3(0x291)]);}else{if(_0x3e38b3[_0x357ff3(0x232)]&&!_0x3e38b3['isHealingEnabled']&&_0x1e13f1)logger[_0x357ff3(0x290)](_0x16f967['kAjJM']);else{if(_0x16f967[_0x357ff3(0x1e8)](_0x3e38b3[_0x357ff3(0x249)],0xc8)&&_0x16f967[_0x357ff3(0x20f)](_0x3e38b3['status'],0x12c))utilities['fireFunnelTestEvent'](constants[_0x357ff3(0x1a7)],_0x31d516,this[_0x357ff3(0x24d)],this[_0x357ff3(0x291)]);else{if(_0x16f967['EnTpu'](_0x3e38b3[_0x357ff3(0x249)],0x190))_0x31d516['status']=_0x3e38b3[_0x357ff3(0x249)],utilities[_0x357ff3(0x24f)](constants['AI_INIT_FAILURE'],_0x31d516,this[_0x357ff3(0x24d)],this[_0x357ff3(0x291)]);else!_0x3e38b3[_0x357ff3(0x249)]&&utilities['fireFunnelTestEvent'](constants[_0x357ff3(0x204)],_0x31d516,this['config'],this['framework']);}}}}}if(_0x3e38b3[_0x357ff3(0x232)]&&_0x3e38b3[_0x357ff3(0x1fe)]){const _0x1d77da={};_0x1d77da[_0x357ff3(0x286)]=_0x3e38b3;const _0x164fcf=_0x1d77da;_0x338028&&(_0x164fcf['proxyConfig']=_0x338028),_0x164fcf[_0x357ff3(0x291)]=this[_0x357ff3(0x291)],_0x164fcf[_0x357ff3(0x281)]=this[_0x357ff3(0x24d)],helper['setupTcgConfigFile'](_0x164fcf),logger['debug'](_0x16f967[_0x357ff3(0x1b0)]);}}catch(_0x24de79){logger[_0x357ff3(0x1f4)](_0x357ff3(0x272)+(_0x24de79['message']?_0x24de79['message']:''));}});await _0x16f967[_0x3fa1d4(0x1f9)](_0x122595);}[a55_0x38b1d2(0x20c)](){const _0xa759b5=a55_0x38b1d2,_0x25a49d={'RcNMH':function(_0x28125b,_0x4aca1a){return _0x28125b(_0x4aca1a);},'BXADw':_0xa759b5(0x1a4)};_0x25a49d['RcNMH'](require,_0x25a49d[_0xa759b5(0x1e9)])();}[a55_0x38b1d2(0x1cf)](){const _0x3cf876=a55_0x38b1d2,_0x2e1e7a={};_0x2e1e7a[_0x3cf876(0x231)]=_0x3cf876(0x25a),_0x2e1e7a[_0x3cf876(0x245)]=_0x3cf876(0x285);const _0x104aba=_0x2e1e7a,_0x2a3c4a=_0x1fee9a=>{const _0x37d071=_0x3cf876;logger[_0x37d071(0x1d1)](_0x1fee9a[_0x37d071(0x1e4)]),logger[_0x37d071(0x1f4)](util[_0x37d071(0x1a9)](_0x1fee9a)),this[_0x37d071(0x21a)][_0x37d071(0x268)](util[_0x37d071(0x1a9)]('%j',_0x1fee9a)),PerformanceTester[_0x37d071(0x1e7)](_0x1fee9a);};process['on'](_0x104aba[_0x3cf876(0x231)],_0x2a3c4a),process['on'](_0x104aba[_0x3cf876(0x245)],_0x2a3c4a);}async[a55_0x38b1d2(0x207)](_0x56f32e){const _0x5d4fca=a55_0x38b1d2,_0x1cfa86={};_0x1cfa86[_0x5d4fca(0x27e)]=_0x5d4fca(0x263),_0x1cfa86[_0x5d4fca(0x27f)]=function(_0x28cf09,_0x56dbc4){return _0x28cf09+_0x56dbc4;},_0x1cfa86[_0x5d4fca(0x1ee)]='Shutdown\x20triggered\x20by\x20',_0x1cfa86[_0x5d4fca(0x1c9)]=function(_0x4ca19e,_0x444a25){return _0x4ca19e+_0x444a25;},_0x1cfa86[_0x5d4fca(0x1b7)]=_0x5d4fca(0x19e);const _0x191074=_0x1cfa86,_0x4423d3=_0x191074[_0x5d4fca(0x27e)]['split']('|');let _0x3c59a4=0x0;while(!![]){switch(_0x4423d3[_0x3c59a4++]){case'0':logger[_0x5d4fca(0x290)](_0x191074[_0x5d4fca(0x27f)](_0x191074[_0x5d4fca(0x1ee)],_0x56f32e));continue;case'1':await TestHubHandler[_0x5d4fca(0x1c8)](_0x56f32e);continue;case'2':this[_0x5d4fca(0x1f3)]=_0x56f32e;continue;case'3':this[_0x191074[_0x5d4fca(0x1c9)](_0x191074[_0x5d4fca(0x1b7)],_0x56f32e)]=!![];continue;case'4':if(this[_0x191074[_0x5d4fca(0x27f)](_0x191074[_0x5d4fca(0x1b7)],_0x56f32e)])return;continue;}break;}}[a55_0x38b1d2(0x1be)](){const _0x125a7c=a55_0x38b1d2,_0x4ba197={};_0x4ba197[_0x125a7c(0x1dc)]=function(_0xf0ce36,_0x3bd46f){return _0xf0ce36===_0x3bd46f;},_0x4ba197[_0x125a7c(0x254)]=_0x125a7c(0x271),_0x4ba197['Mdkyp']=function(_0x473844,_0x2ff0fb){return _0x473844>_0x2ff0fb;},_0x4ba197[_0x125a7c(0x1c5)]='log/events.json';const _0x41b338=_0x4ba197;let _0x376d73=0x0;return async()=>{const _0xffeb2e=_0x125a7c;_0x376d73++;if(_0x41b338[_0xffeb2e(0x1dc)](_0x376d73,0x1)){helper['checkStopLocalBinaryOnExit'](this[_0xffeb2e(0x291)])&&await this['stopBrowserstackLocal']();try{logger['debug'](_0x41b338[_0xffeb2e(0x254)]),await TestHubHandler['stop'](_0x376d73);}catch(_0x206c51){logger[_0xffeb2e(0x1f4)](_0xffeb2e(0x1c2)+util[_0xffeb2e(0x1a9)](_0x206c51));}PerformanceTester['end'](PerformanceEvents[_0xffeb2e(0x1da)]);if(PerformanceTester[_0xffeb2e(0x21d)]()){const {measures:_0x5531e7,errors:_0x159222}=await PerformanceTester[_0xffeb2e(0x292)](),_0x30d73a={};if(_0x5531e7&&_0x41b338['Mdkyp'](_0x5531e7[_0xffeb2e(0x200)],0x0)||_0x159222&&_0x41b338['Mdkyp'](_0x159222[_0xffeb2e(0x200)],0x0)){const _0x184bb5={};_0x184bb5[_0xffeb2e(0x218)]=_0x5531e7,_0x184bb5[_0xffeb2e(0x1cd)]=_0x159222,Object[_0xffeb2e(0x28a)](_0x30d73a,_0x184bb5);}try{const _0x216510=await helper['sendToEDS'](_0x30d73a,this[_0xffeb2e(0x24d)]);logger[_0xffeb2e(0x1f4)](_0xffeb2e(0x220)+constants[_0xffeb2e(0x236)]+_0xffeb2e(0x223)+_0x216510[_0xffeb2e(0x279)]);}catch(_0x29082f){logger['debug']('Failed\x20to\x20send\x20data\x20to\x20'+constants[_0xffeb2e(0x236)]+_0xffeb2e(0x1f6)+util[_0xffeb2e(0x1a9)](_0x29082f));}try{fs['writeFileSync'](_0x41b338[_0xffeb2e(0x1c5)],JSON[_0xffeb2e(0x1bb)](_0x30d73a));}catch(_0x3145b6){logger[_0xffeb2e(0x1f4)](_0xffeb2e(0x1c1)+_0x3145b6);}}}};}}function a55_0xc12b(_0x5e2dbb,_0x2e5add){const _0x5b4c67=a55_0x5b4c();return a55_0xc12b=function(_0xc12b2f,_0x484bf1){_0xc12b2f=_0xc12b2f-0x19d;let _0x1bd711=_0x5b4c67[_0xc12b2f];return _0x1bd711;},a55_0xc12b(_0x5e2dbb,_0x2e5add);}function a55_0x5b4c(){const _0x53542f=['HpHtH','error','startLocalBinary','TUcXz','getLocalConfig','Percy\x20stopped','isRunning','bRXFu','toString','Hzjlo','SDK_CLEANUP','52508luhPlF','ACsXj','TCG_AUTH_TIMEOUT','uBYDa','false','No\x20config\x20provided.','./helper','selfHeal','SIGINT','message','FRAMEWORK','isywX','captureError','WwoPJ','BXADw','forceLocal','Percy\x20started\x20successfully','getProxyConfigForTcg','259915CReyxW','FjopV','winstonLogger','browserStackLocalOptions','sanitizeCaps','disableAutoCaptureLogs','killSignal','debug','generateLocalIdentifier','\x20with\x20error\x20','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','./logger','wFikg','aiHeal:tcgAuth','stopLocalBinary','XzvIo','setCLICaps','isHealingEnabled','Error\x20occured\x20while\x20stopping\x20local\x20binary','length','localIdentifier','yzWLx','codeceptjs','INVALID_INIT_RESP_WITH_USER_IMPACT','hXTMS','turboScaleOptions','intExitHandler','turboScale','setBrowserstackInfraFromConfig','join','oCzAL','setupKeepAlive','SDK\x20run\x20started\x20with\x20id:\x20','138ZtQhWR','dXBAP','11zAsfxO','../../package.json','skipSessionName','getConfigPath','qjDKE','envConfig','warn','./percy/utils','measures','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','unhandledErrors','12KwlPEZ','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','isEnabled','../hubAllocationMethods','skipBinaryInitialisation','Data\x20sent\x20successfully\x20to\x20','isUndefined','then','\x20with\x20response\x20','Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','SIGQUIT','SOBBk','testContextOptions','Local\x20binary\x20started\x20successfully','requireSeleniumWebdriverCheck','SIGBREAK','./timeoutPromise','bind','BROWSERSTACK_PERCY','30KRmsNn','TwBFR','userName','OSAAE','isAuthenticated','cancel','init','oRfRm','EDS_URL','DMEEk','aJQaY','Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.','parallelsPerPlatform','10TnXcpb','env','util','default','race','sdkRunID','JmWjx','playwright','SIGABRT','parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','wiYhI','setupBrowserstackLocal','platforms','JAMXE','status','setupTCGAuth','skipSessionStatus','./performance/performance-tester','config','wZInY','fireFunnelTestEvent','AUTOLOGCAPTURE_NOTIFICATION','isTrialGrid','uVzXh','TZnUq','vFTpb','aTzJA','uuid','customRepeaters','6854743oJcPiw','hubUrl','unhandledRejection','AI_PROXY_FAILURE','bZRjd','luTqw','setLogLevel','nTbiC','setProxySettings','central_scanner','./testhub/testhubHandler','4|3|0|2|1','TCG_DOWN','HUB_MANAGEMENT','bXXZQ','getTurboScaleGridDetails','push','fsyon','Error\x20in\x20percy\x20setup\x20','5903792uGFDzM','path','cliConfig','NVbvJ','Error\x20occured\x20while\x20stopping\x20percy','oiWzt','Calling\x20Build\x20Stop\x20from\x20ExitHandler','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','tBaeW','9446657rjTJlY','DwRCB','XxVDC','split','./ats/helper','statusCode','stopBrowserstackLocal','Local\x20binary\x20stopped','setUpHubUrl','playwrightUrl','XnoZc','VDnTq','BrowserstackHealingInitFailed','bstackConfig','?caps=','initialize','stopPercy','uncaughtException','tcgAuthConfig','1087101CNSemS','camdx','hcNyD','assign','percy','SIGTERM','toLowerCase','BrowserstackHealing.init\x20method\x20timed\x20out','JSJZK','info','framework','finalize','setHandlePWError','handled','HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20','wcLIf','UPGRADE_REQUIRED','isTrue','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','./setKeepAlive','getCentralUser','BROWSERSTACK_TURBOSCALE','AI_INIT_SUCCESSFUL','useW3C','format','4.5.0','TCG_URL','uhaxB','isBrowserstackInfra','GGrzd','Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','zCxAm','userName\x20or\x20accessKey\x20is\x20not\x20defined','measureWrapper','oGYqs','wZWuY','HZVuR','version','tLXbN','browserstackLocal','cPTEQ','147346SrVgTF','stringify','true','SDKTestAttempted','exitHandler','accessKey','Ciqqm','Error\x20in\x20writing\x20events\x20to\x20file\x20','Error\x20in\x20sending\x20testhub\x20stop:\x20','turboScaleUrl','Aezcp','lmDRM','dvgfe','KcllU','stop','KPkNE','win32','../bin/utils/constants','integrations','exceptions','errorMessage','handleExceptions'];a55_0x5b4c=function(){return _0x53542f;};return a55_0x5b4c();}exports[a55_0x38b1d2(0x23e)]=BrowserStackSetup;