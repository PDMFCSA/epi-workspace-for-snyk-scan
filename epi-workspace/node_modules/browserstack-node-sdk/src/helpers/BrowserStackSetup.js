const a93_0x417c58=a93_0x5f3b;(function(_0x16f09e,_0x3ee20d){const _0x10fe42=a93_0x5f3b,_0xd4f083=_0x16f09e();while(!![]){try{const _0x12a852=-parseInt(_0x10fe42(0x135))/0x1*(parseInt(_0x10fe42(0x15f))/0x2)+-parseInt(_0x10fe42(0x160))/0x3+-parseInt(_0x10fe42(0x19f))/0x4+-parseInt(_0x10fe42(0x169))/0x5+-parseInt(_0x10fe42(0x215))/0x6+parseInt(_0x10fe42(0x170))/0x7*(-parseInt(_0x10fe42(0x1ca))/0x8)+parseInt(_0x10fe42(0x1a6))/0x9*(parseInt(_0x10fe42(0x147))/0xa);if(_0x12a852===_0x3ee20d)break;else _0xd4f083['push'](_0xd4f083['shift']());}catch(_0x5c0024){_0xd4f083['push'](_0xd4f083['shift']());}}}(a93_0x2ac8,0xab820));function a93_0x5f3b(_0x5ccac8,_0x48e27d){const _0x2ac8f5=a93_0x2ac8();return a93_0x5f3b=function(_0x5f3bb8,_0x25db09){_0x5f3bb8=_0x5f3bb8-0x10d;let _0x516fc3=_0x2ac8f5[_0x5f3bb8];return _0x516fc3;},a93_0x5f3b(_0x5ccac8,_0x48e27d);}const util=require(a93_0x417c58(0x15a)),os=require('os'),path=require(a93_0x417c58(0x12d)),{v4:uuidv4}=require(a93_0x417c58(0x19d)),fs=require('fs'),constants=require(a93_0x417c58(0x11b)),logger=require('./logger')[a93_0x417c58(0x176)],fileLogger=require(a93_0x417c58(0x139))[a93_0x417c58(0x1a8)],{getLogDir}=require('./logger'),helper=require(a93_0x417c58(0x1d3)),utilities=require(a93_0x417c58(0x20d)),percyHelper=require('./percy/utils'),hubAllocator=require('../hubAllocationMethods'),PerformanceTester=require('./performance/performance-tester'),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require(a93_0x417c58(0x187)),{setPercyFlag}=require(a93_0x417c58(0x1eb)),TestHubHandler=require('./testhub/testhubHandler'),timeoutPromise=require('./timeoutPromise'),BrowserstackCLI=require(a93_0x417c58(0x1f2)),{getEdsInstrumentationAPIUrl}=require(a93_0x417c58(0x122)),ClientTroubleShootingService=require(a93_0x417c58(0x1d2));function a93_0x2ac8(){const _0x12311d=['sdkRunId','HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20','path','./setKeepAlive','setupBrowserstackLocal','checkStopLocalBinaryOnExit','aTDJn','Qprch','error','Percy\x20started\x20successfully','37ChPZzv','end','stopLocalBinary','startLocalBinary','./logger','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','getPackageVersion','allocateHub','getLocalConfig','beforeExit','RwyuM','PSrKg','czrAJ','handleExceptions','unhandledRejection','AI_PROXY_FAILURE','setUpHubUrl','getInstance','671430zhHjBZ','exceptions','turboScaleOptions','setCredentialsFromYmlConfig','GSPLG','bstackConfig','push','SIGTERM','setupTcgConfigFile','qTOyC','bLabd','join','race','RuIVa','intExitHandler','UPGRADE_REQUIRED','setBrowserstackInfraFromConfig','afgcP','compareVersions','util','url','WurVd','isTurboScaleSession','envConfig','71822zAcilS','1183314SejWyE','playwright','stopBrowserstackLocal','platforms','tugGE','version','close','integrations','YrSaw','1501265cwpKBD','then','SIGABRT','XhsFO','generateLocalIdentifier','killSignal','Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.','2429392zvMJLg','tRWeW','playwrightUrl','iEStO','Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','SDK\x20run\x20started\x20with\x20id:\x20','winstonLogger','TCG_AUTH_FAILURE','BROWSERSTACK_PERCY','ZsgvU','FaEAA','QDAAi','Znxnl','McYsC','isTrialGrid','TCG_AUTH_TIMEOUT','Data\x20sent\x20successfully\x20to\x20','SXyOJ','constructor','false','Error\x20occured\x20while\x20stopping\x20local\x20binary','Hgplz','testContextOptions','./performance/constants','5|7|4|2|0|6|1|3','length','Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','split','getHubUrl','WvLaY','../../package.json','proxyConfig','getCentralUser','disableAutoCaptureLogs','proxyUrl','tcgAuthConfig','IlcLc','asWIG','getUserName','isTrue','TCG_DOWN','cliConfig','Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled','hlPop','XLwNw','uuid','VgsxP','2777956cZpUIw','info','qHAyO','handled','initialize','juXSC','lWWam','810DqpcdI','yeaop','fileLogger','userName\x20or\x20accessKey\x20is\x20not\x20defined','ZUvvt','setCLICaps','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','jJWUJ','proxy','SIGQUIT','vTsCT','AI_INIT_FAILURE','mPcIC','Gofqd','errorMessage','hknim','FRAMEWORK','ymwjR','hubUrl','setupKeepAlive','Local\x20binary\x20started\x20successfully','\x20with\x20response\x20','parallelsPerPlatform','ILtMZ','readConfig','BROWSERSTACK_TURBOSCALE','getTurboScaleGridDetails','turboScale','localIdentifier','turboScaleUrl','setProxySettings','Error\x20in\x20writing\x20events\x20to\x20file\x20','MaXko','isEnabled','setLogDir','bind','32ftKCiu','EvQyB','wETby','isNotUndefined','BrowserstackHealing.init\x20method\x20timed\x20out','EVYrW','kdIuo','CyFmO','../bin/utils/clientTroubleshootingService','./helper','AI_INIT_SUCCESSFUL','config','assign','userName','framework','toString','setupPercy','uvMlS','SIGHUP','selfHeal','4.5.0','sendToEDS','tcg\x20config\x20setup\x20successful.','EhKTU','fireFunnelTestEvent','bEitS','true','exitHandler','accessKey','browserStackLocalOptions','isHealingEnabled','13|21|7|11|17|9|2|20|6|12|1|5|14|3|22|19|0|16|8|4|18|15|10','uyrFr','./testhub/utils','VUcMl','getLocalIdentifier','default','status','toLowerCase','Error\x20occured\x20while\x20stopping\x20percy','../bin/v2/browserstackCLI','DpEwn','cancel','getAccessKey','Rqpzi','SIGBREAK','nVFIi','IqkOk','iabwq','isRunning','setupTCGAuth','percy','unhandledErrors','isAuthenticated','setEnvCaps','skipBinaryInitialisation','env','platform','measureWrapper','INVALID_INIT_RESP_WITH_USER_IMPACT','format','finalize','captureError','includes','IXZPS','message','RKSMD','./utilities','VgoRf','events.json','setLogLevel','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','debug','OhVQg','getProxyConfigForTcg','7405578rYsYih','useW3C','warn','Enpng','win32','PVlLE','sanitizeCaps','skipSessionStatus','TCG_URL','browserstackLocal','writeFileSync','kGdRn','setHandlePWError','JtUem','SGSPH','yiZWs','../bin/utils/constants','preInitialize','stop','custom-repeater','measures','isBrowserstackInfra','reportFinalDetectionState','../bin/utils/apiUtilityMethods','hCzkd','skipSessionName','Error\x20in\x20sending\x20testhub\x20stop:\x20','turboScaleGridDetails','__isPlaywrightInstalled','isUndefined','FGOon','lhZnZ'];a93_0x2ac8=function(){return _0x12311d;};return a93_0x2ac8();}class BrowserStackSetup{constructor(_0x441ea5,_0x8f06da){const _0x5e765d=a93_0x417c58,_0x5162de={'EamGd':_0x5e765d(0x1e9),'wLhBz':function(_0x3725db){return _0x3725db();},'lWWam':'No\x20config\x20provided.'},_0x446e34=_0x5162de['EamGd'][_0x5e765d(0x18b)]('|');let _0x132b29=0x0;while(!![]){switch(_0x446e34[_0x132b29++]){case'0':helper[_0x5e765d(0x14a)](this['config']);continue;case'1':this[_0x5e765d(0x12b)]=_0x5162de['wLhBz'](uuidv4);continue;case'2':this[_0x5e765d(0x199)]=helper[_0x5e765d(0x1ab)](_0x441ea5);continue;case'3':if(helper[_0x5e765d(0x128)](this[_0x5e765d(0x1d5)]))throw new Error(_0x5162de[_0x5e765d(0x1a5)]);continue;case'4':helper['getFinalCaps'](this['config'],this[_0x5e765d(0x199)],this[_0x5e765d(0x15e)]);continue;case'5':this[_0x5e765d(0x1d8)]=_0x8f06da;continue;case'6':this[_0x5e765d(0x1d5)]['testContextOptions']=this[_0x5e765d(0x1d5)][_0x5e765d(0x186)]||{};continue;case'7':this[_0x5e765d(0x15e)]=helper[_0x5e765d(0x200)]();continue;case'8':this[_0x5e765d(0x1d5)][_0x5e765d(0x186)][_0x5e765d(0x124)]=!helper[_0x5e765d(0x120)]()||helper['isTrue'](this['config'][_0x5e765d(0x186)][_0x5e765d(0x124)]);continue;case'9':this[_0x5e765d(0x1d5)]=helper[_0x5e765d(0x1be)](helper['getConfigPath'](_0x441ea5));continue;case'10':PerformanceTester['startMonitoring']();continue;case'11':this[_0x5e765d(0x114)]=null;continue;case'12':this[_0x5e765d(0x1b4)]={};continue;case'13':this[_0x5e765d(0x1fe)]=[];continue;case'14':global['framework']=_0x8f06da;continue;case'15':helper[_0x5e765d(0x210)](this[_0x5e765d(0x1d5)],this['cliConfig'],this[_0x5e765d(0x15e)]);continue;case'16':this[_0x5e765d(0x1d5)]['testContextOptions'][_0x5e765d(0x112)]=!helper[_0x5e765d(0x120)]()||helper[_0x5e765d(0x197)](this[_0x5e765d(0x1d5)][_0x5e765d(0x186)][_0x5e765d(0x112)]);continue;case'17':this[_0x5e765d(0x1fd)]=null;continue;case'18':helper[_0x5e765d(0x1c8)](this['config']);continue;case'19':helper[_0x5e765d(0x157)](this[_0x5e765d(0x1d5)],this[_0x5e765d(0x199)]);continue;case'20':this[_0x5e765d(0x1d5)][_0x5e765d(0x163)]=this[_0x5e765d(0x1d5)]['platforms']||[];continue;case'21':helper['normalizeTestReportingEnvVars']();continue;case'22':if(this['config'][_0x5e765d(0x133)])throw new Error(this[_0x5e765d(0x1d5)]['error']);continue;}break;}}[a93_0x417c58(0x11c)](_0x1063b9){const _0x1bd640=a93_0x417c58,_0x35df31={'IlcLc':_0x1bd640(0x1a9),'jJWUJ':function(_0x156efb,_0x576e75){return _0x156efb===_0x576e75;},'dgEYJ':_0x1bd640(0x167),'VgoRf':'SDKTestAttempted','MHdJx':function(_0x48f734,_0xc2fc88){return _0x48f734<_0xc2fc88;},'JtUem':function(_0x2d7c0d,_0x1f0763){return _0x2d7c0d(_0x1f0763);},'asWIG':'selenium-webdriver','Bielk':function(_0x5c6af7,_0x5ea6a4){return _0x5c6af7===_0x5ea6a4;},'VgsxP':_0x1bd640(0x1de),'JksnV':_0x1bd640(0x13a),'WvLaY':'parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','RwyuM':_0x1bd640(0x14e),'FaEAA':'SIGINT','ZUvvt':_0x1bd640(0x1dc),'Gofqd':function(_0x46caec,_0x273ba3){return _0x46caec!==_0x273ba3;},'bLabd':_0x1bd640(0x10f),'PSrKg':_0x1bd640(0x16b),'afgcP':_0x1bd640(0x1af),'AtMYz':_0x1bd640(0x1f7),'RKSMD':_0x1bd640(0x13e)},_0xef8b16=this[_0x1bd640(0x1d8)];global[_0x1bd640(0x1d5)]=this[_0x1bd640(0x1d5)],helper[_0x1bd640(0x111)](this['config']),this[_0x1bd640(0x16e)]=null,global['sdkRunId']=this[_0x1bd640(0x12b)],logger['info'](_0x1bd640(0x175)+this['sdkRunId']),!this[_0x1bd640(0x1d5)][_0x1bd640(0x1e7)]&&(this[_0x1bd640(0x1d5)]['browserStackLocalOptions']=this[_0x1bd640(0x1d5)]['localOptions']||{});if(helper[_0x1bd640(0x128)](helper[_0x1bd640(0x196)](this[_0x1bd640(0x1d5)]))||helper[_0x1bd640(0x128)](helper[_0x1bd640(0x1f5)](this[_0x1bd640(0x1d5)])))throw new Error(_0x35df31[_0x1bd640(0x194)]);helper[_0x1bd640(0x13d)](this[_0x1bd640(0x1d5)])&&helper[_0x1bd640(0x128)](helper[_0x1bd640(0x1ed)](this['config']))&&(!helper['isUndefined'](this[_0x1bd640(0x1d5)]['browserStackLocalOptions'])&&_0x35df31[_0x1bd640(0x1ad)](this['config'][_0x1bd640(0x1e7)][_0x1bd640(0x182)],Object)?!helper[_0x1bd640(0x197)](this['config'][_0x1bd640(0x1e7)][_0x1bd640(0x201)])&&(this[_0x1bd640(0x1d5)][_0x1bd640(0x1e7)][_0x1bd640(0x1c2)]=helper['generateLocalIdentifier']()):this[_0x1bd640(0x1d5)][_0x1bd640(0x1e7)]={'localIdentifier':helper[_0x1bd640(0x16d)]()});this[_0x1bd640(0x1d5)][_0x1bd640(0x1e7)][_0x1bd640(0x201)]=helper[_0x1bd640(0x197)](this[_0x1bd640(0x1d5)]['browserStackLocalOptions'][_0x1bd640(0x201)]),helper[_0x1bd640(0x117)](this[_0x1bd640(0x1d5)]);if(_0x35df31[_0x1bd640(0x1ad)](_0xef8b16,_0x35df31['dgEYJ']))return;this[_0x1bd640(0x142)]();process[_0x1bd640(0x202)][_0x1bd640(0x1bf)]&&(this[_0x1bd640(0x1d5)][_0x1bd640(0x1c1)]=helper[_0x1bd640(0x197)](process['env'][_0x1bd640(0x1bf)]),this['config']['turboScaleOptions']=this[_0x1bd640(0x1d5)][_0x1bd640(0x149)]||{});helper[_0x1bd640(0x15d)](this['config'])&&(process[_0x1bd640(0x202)][_0x1bd640(0x1bf)]=!![]);if(!helper['isBrowserstackInfra']()){try{process['env'][_0x1bd640(0x1b6)]=_0xef8b16,utilities['fireFunnelTestEvent'](_0x35df31[_0x1bd640(0x20e)],{},this['config'],this[_0x1bd640(0x1d8)]);}catch(_0x568976){logger[_0x1bd640(0x212)]('Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20'+_0x568976);}return;}if(helper['requireSeleniumWebdriverCheck'](_0xef8b16)){if(global[_0x1bd640(0x127)])return;_0x35df31['MHdJx'](_0x35df31[_0x1bd640(0x118)](parseInt,helper[_0x1bd640(0x13b)](_0x35df31['asWIG'])),0x3)&&(this[_0x1bd640(0x1d5)][_0x1bd640(0x216)]=![]),_0x35df31['Bielk'](helper[_0x1bd640(0x159)](helper[_0x1bd640(0x13b)](_0x35df31[_0x1bd640(0x195)]),_0x35df31[_0x1bd640(0x19e)]),0x1)&&(this[_0x1bd640(0x1d5)][_0x1bd640(0x216)]=!![]);}(helper[_0x1bd640(0x128)](this[_0x1bd640(0x1d5)][_0x1bd640(0x163)])||helper[_0x1bd640(0x128)](this[_0x1bd640(0x1d5)][_0x1bd640(0x163)]['length']))&&(helper[_0x1bd640(0x128)](this[_0x1bd640(0x1d5)][_0x1bd640(0x1bc)])?logger[_0x1bd640(0x1a0)](_0x35df31['JksnV']):logger[_0x1bd640(0x10d)](_0x35df31[_0x1bd640(0x18d)]),this[_0x1bd640(0x1d5)][_0x1bd640(0x163)]=[]);!this['config'][_0x1bd640(0x186)]&&(this[_0x1bd640(0x1d5)][_0x1bd640(0x186)]={});try{process[_0x1bd640(0x202)][_0x1bd640(0x1b6)]=_0x1063b9['_'][0x0],utilities[_0x1bd640(0x1e2)](_0x35df31[_0x1bd640(0x20e)],{},this[_0x1bd640(0x1d5)],this[_0x1bd640(0x1d8)]);}catch(_0x189bcc){logger['debug']('Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20'+_0x189bcc);}!this[_0x1bd640(0x1d5)][_0x1bd640(0x191)]&&logger['info'](constants['AUTOLOGCAPTURE_NOTIFICATION']),this[_0x1bd640(0x155)]=this['intExitHandler'][_0x1bd640(0x1c9)](this),process['on'](_0x35df31[_0x1bd640(0x13f)],this[_0x1bd640(0x155)]),process['on'](_0x35df31[_0x1bd640(0x17a)],this[_0x1bd640(0x155)]),process['on'](_0x35df31[_0x1bd640(0x1aa)],this[_0x1bd640(0x155)]),_0x35df31[_0x1bd640(0x1b3)](process['platform'],_0x35df31[_0x1bd640(0x151)])?(process['on'](_0x35df31[_0x1bd640(0x140)],this[_0x1bd640(0x155)]),process['on'](_0x35df31[_0x1bd640(0x158)],this[_0x1bd640(0x155)])):process['on'](_0x35df31['AtMYz'],this[_0x1bd640(0x155)]),process['on'](_0x35df31[_0x1bd640(0x20c)],this[_0x1bd640(0x1e5)]());}async[a93_0x417c58(0x1a3)](_0x1a0a2d){const _0x605f5c=a93_0x417c58,_0x51a39c={'ILSmm':'ats-repeater','hlPop':_0x605f5c(0x11e),'Hgplz':_0x605f5c(0x1e4),'WurVd':function(_0x5e044b,_0x4f25d5){return _0x5e044b===_0x4f25d5;},'nVFIi':_0x605f5c(0x161),'gwZid':function(_0x50bba0,_0x3787d3){return _0x50bba0+_0x3787d3;},'iabwq':'?caps=','nbbjM':function(_0x3f2206,_0x39ef63){return _0x3f2206(_0x39ef63);},'vTsCT':'codeceptjs'};this['preInitialize'](_0x1a0a2d);if(helper[_0x605f5c(0x15d)](this[_0x605f5c(0x1d5)])){const _0x291a73=await helper[_0x605f5c(0x1c0)](this[_0x605f5c(0x1d5)]);this[_0x605f5c(0x1d5)][_0x605f5c(0x126)]=_0x291a73,_0x291a73[_0x605f5c(0x17e)]&&helper[_0x605f5c(0x1cd)](this['config'][_0x605f5c(0x114)])&&helper[_0x605f5c(0x197)](this[_0x605f5c(0x1d5)][_0x605f5c(0x114)])&&(this[_0x605f5c(0x1d5)][_0x605f5c(0x1e7)]['localIdentifier']=_0x51a39c['ILSmm'],this[_0x605f5c(0x1d5)]['browserStackLocalOptions'][_0x51a39c[_0x605f5c(0x19b)]]=_0x291a73['customRepeaters']['join'](','),this[_0x605f5c(0x1d5)]['browserStackLocalOptions']['forceLocal']=_0x51a39c[_0x605f5c(0x185)]),this[_0x605f5c(0x1d5)][_0x605f5c(0x1c3)]=_0x291a73[_0x605f5c(0x15b)],this[_0x605f5c(0x1d8)]&&_0x51a39c[_0x605f5c(0x15c)](this['framework'][_0x605f5c(0x1f0)](),_0x51a39c[_0x605f5c(0x1f8)])?this[_0x605f5c(0x1d5)]['turboScaleUrl']=_0x51a39c['gwZid'](_0x291a73[_0x605f5c(0x172)],_0x51a39c[_0x605f5c(0x1fa)]):constants[_0x605f5c(0x1b8)]=helper[_0x605f5c(0x18c)](this[_0x605f5c(0x1d5)]),logger[_0x605f5c(0x212)](_0x605f5c(0x12c)+constants[_0x605f5c(0x1b8)]);}helper[_0x605f5c(0x1c4)](this[_0x605f5c(0x1d5)]),this[_0x605f5c(0x1b9)](),_0x51a39c['nbbjM'](setPercyFlag,this),await this['setupBrowserstackLocal'](),![_0x51a39c[_0x605f5c(0x1b0)],_0x51a39c[_0x605f5c(0x1f8)]][_0x605f5c(0x209)](this[_0x605f5c(0x1d8)])&&!helper[_0x605f5c(0x15d)](this[_0x605f5c(0x1d5)])&&!helper[_0x605f5c(0x190)]()['central_scanner']&&await this[_0x605f5c(0x145)]();}async[a93_0x417c58(0x1da)](){const _0xe6dcbe=a93_0x417c58,_0x311246={};_0x311246[_0xe6dcbe(0x1f3)]=function(_0x4ffc84,_0x30054e){return _0x4ffc84===_0x30054e;},_0x311246[_0xe6dcbe(0x19c)]=_0xe6dcbe(0x183),_0x311246[_0xe6dcbe(0x171)]=_0xe6dcbe(0x16f),_0x311246['yiZWs']=_0xe6dcbe(0x134),_0x311246[_0xe6dcbe(0x1cf)]=_0xe6dcbe(0x1e4),_0x311246[_0xe6dcbe(0x1a1)]=_0xe6dcbe(0x13e);const _0x39e1e9=_0x311246;if(helper[_0xe6dcbe(0x197)](this['config'][_0xe6dcbe(0x1fd)])&&(!this[_0xe6dcbe(0x1fd)]||!this[_0xe6dcbe(0x1fd)][_0xe6dcbe(0x1fb)]()))try{this[_0xe6dcbe(0x1fd)]=await percyHelper['startPercy'](this[_0xe6dcbe(0x1d5)]);if(!this[_0xe6dcbe(0x1fd)]){process[_0xe6dcbe(0x202)]['BROWSERSTACK_PERCY']=_0x39e1e9['XLwNw'];throw new Error(_0x39e1e9[_0xe6dcbe(0x171)]);}logger[_0xe6dcbe(0x1a0)](_0x39e1e9[_0xe6dcbe(0x11a)]),process['env'][_0xe6dcbe(0x178)]=_0x39e1e9[_0xe6dcbe(0x1cf)];let _0x52fc9c=0x0;const _0x1f40c8=async()=>{_0x52fc9c++,_0x39e1e9['DpEwn'](_0x52fc9c,0x1)&&await this['stopPercy']();};process['on'](_0x39e1e9[_0xe6dcbe(0x1a1)],_0x1f40c8);}catch(_0x3eb86e){process[_0xe6dcbe(0x202)][_0xe6dcbe(0x178)]=_0x39e1e9[_0xe6dcbe(0x19c)],logger[_0xe6dcbe(0x212)]('Error\x20in\x20percy\x20setup\x20'+_0x3eb86e);throw new Error(_0x3eb86e[_0xe6dcbe(0x1d9)]());}}async['stopPercy'](){const _0x16bead=a93_0x417c58,_0x3eec0c={};_0x3eec0c[_0x16bead(0x1b7)]='Percy\x20stopped',_0x3eec0c[_0x16bead(0x1bd)]=_0x16bead(0x1f1);const _0x4b6a71=_0x3eec0c;if(this['percy']&&this['percy'][_0x16bead(0x1fb)]())try{await percyHelper['stopPercy'](this[_0x16bead(0x1fd)]),logger['info'](_0x4b6a71[_0x16bead(0x1b7)]);}catch(_0x515462){logger[_0x16bead(0x133)](_0x4b6a71[_0x16bead(0x1bd)],_0x515462[_0x16bead(0x20b)]);}}async[a93_0x417c58(0x12f)](){const _0x34c744=a93_0x417c58,_0x1f6822={};_0x1f6822[_0x34c744(0x154)]=_0x34c744(0x19a),_0x1f6822[_0x34c744(0x150)]=_0x34c744(0x1ba);const _0x37b29c=_0x1f6822;if(helper['isBrowserstackInfra']()&&helper[_0x34c744(0x197)](this[_0x34c744(0x1d5)][_0x34c744(0x114)])&&(!this[_0x34c744(0x114)]||!this[_0x34c744(0x114)][_0x34c744(0x1fb)]()))try{if(this['config']['browserStackLocalOptions'][_0x34c744(0x201)]){logger[_0x34c744(0x212)](_0x37b29c[_0x34c744(0x154)]);return;}this[_0x34c744(0x114)]=await helper[_0x34c744(0x138)](this[_0x34c744(0x1d5)]),logger[_0x34c744(0x1a0)](_0x37b29c[_0x34c744(0x150)]);}catch(_0xd96368){logger[_0x34c744(0x212)](_0xd96368);throw new Error(_0xd96368[_0x34c744(0x1d9)]());}}async[a93_0x417c58(0x162)](){const _0x584dc5=a93_0x417c58,_0x416a5c={};_0x416a5c[_0x584dc5(0x20a)]='Local\x20binary\x20stopped',_0x416a5c['SGSPH']=_0x584dc5(0x184);const _0x54901b=_0x416a5c;if(this[_0x584dc5(0x114)]&&this['browserstackLocal']['isRunning']())try{await helper[_0x584dc5(0x137)](this['browserstackLocal']),logger[_0x584dc5(0x1a0)](_0x54901b[_0x584dc5(0x20a)]);}catch(_0x5d3695){logger[_0x584dc5(0x133)](_0x54901b[_0x584dc5(0x119)],_0x5d3695[_0x584dc5(0x20b)]);}}async['setUpHubUrl'](){const _0x3f953d=a93_0x417c58;return PerformanceTester[_0x3f953d(0x204)](PerformanceAutEvents['HUB_MANAGEMENT'],async()=>{const _0x2b2000=_0x3f953d;await hubAllocator[_0x2b2000(0x13c)](this[_0x2b2000(0x1d5)]);})();}async[a93_0x417c58(0x1fc)](){const _0x1a4834=a93_0x417c58,_0x2d1bf2={'Enpng':function(_0x4b79ed,_0x473a6b){return _0x4b79ed(_0x473a6b);},'GSPLG':'../ai-sdk-node/bundle','uvMlS':function(_0x4b7719,_0x3fae9d,_0x2964dc,_0x184ce6,_0x43f5a6,_0x49df06,_0x4c0e31){return _0x4b7719(_0x3fae9d,_0x2964dc,_0x184ce6,_0x43f5a6,_0x49df06,_0x4c0e31);},'Rqpzi':_0x1a4834(0x1ce),'YYgJu':'BrowserstackHealingInitFailed','juXSC':_0x1a4834(0x18e),'XhsFO':'BrowserstackHealing.init','CyFmO':function(_0x5c6baa,_0x4f240b){return _0x5c6baa===_0x4f240b;},'McYsC':_0x1a4834(0x1e4),'hknim':function(_0x54c92a,_0x15b499){return _0x54c92a===_0x15b499;},'VUcMl':function(_0x39c3cb,_0x831cd8){return _0x39c3cb===_0x831cd8;},'mPcIC':function(_0x46ebcf,_0x392534){return _0x46ebcf===_0x392534;},'OGMcj':_0x1a4834(0x1ac),'aTDJn':function(_0x4f2037,_0x6a5bda){return _0x4f2037===_0x6a5bda;},'czrAJ':'Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','MaXko':_0x1a4834(0x174),'uyrFr':_0x1a4834(0x18a),'JLYZx':function(_0x2eafdd,_0x3263ee){return _0x2eafdd>=_0x3263ee;},'putib':function(_0x3b8a20,_0x2802db){return _0x3b8a20<_0x2802db;},'ZsgvU':function(_0x3e141e,_0x5c9024){return _0x3e141e>=_0x5c9024;},'FGOon':_0x1a4834(0x1e0),'SXyOJ':'aiHeal:tcgAuth','kGdRn':function(_0x2b3963){return _0x2b3963();}},_0x34983a=PerformanceTester[_0x1a4834(0x204)](_0x2d1bf2[_0x1a4834(0x181)],async()=>{const _0x6da82d=_0x1a4834;try{const _0x517f91=new Date(),_0xcf9e52=helper[_0x6da82d(0x214)](this[_0x6da82d(0x1d5)]),_0x432bb7=_0x2d1bf2[_0x6da82d(0x10e)](require,path[_0x6da82d(0x152)](__dirname,_0x2d1bf2[_0x6da82d(0x14b)])),_0x128177=_0x2d1bf2[_0x6da82d(0x1db)](timeoutPromise,constants[_0x6da82d(0x17f)],_0x2d1bf2[_0x6da82d(0x1f6)],_0x2d1bf2['YYgJu'],_0x517f91,this[_0x6da82d(0x1d5)],this['framework']),_0x1adcd4={'tcgUrl':constants[_0x6da82d(0x113)],'sdkVersion':_0x2d1bf2['Enpng'](require,_0x2d1bf2['juXSC'])['version'],'methodUsed':_0x2d1bf2[_0x6da82d(0x16c)],'proxyConfig':_0xcf9e52,'os':os['platform']()};if(_0xcf9e52&&_0xcf9e52[_0x6da82d(0x192)]){utilities[_0x6da82d(0x1e2)](constants[_0x6da82d(0x144)],_0x1adcd4,this[_0x6da82d(0x1d5)],this[_0x6da82d(0x1d8)]);return;}const _0x4383b5={};_0x4383b5[_0x6da82d(0x1ae)]=_0xcf9e52;const _0x47edf4=await Promise[_0x6da82d(0x153)]([_0x432bb7['init'](this[_0x6da82d(0x1d5)][_0x6da82d(0x1e6)],this[_0x6da82d(0x1d5)][_0x6da82d(0x1d7)],constants[_0x6da82d(0x113)],_0x2d1bf2['Enpng'](require,_0x2d1bf2[_0x6da82d(0x1a4)])[_0x6da82d(0x165)],_0x4383b5)[_0x6da82d(0x16a)](_0x5b938b=>{const _0x2ae97a=_0x6da82d;return _0x128177[_0x2ae97a(0x1f4)](),_0x5b938b;}),_0x128177]);_0x47edf4['isHealingEnabled']=_0x2d1bf2[_0x6da82d(0x1d1)](_0x47edf4[_0x6da82d(0x1e8)],_0x2d1bf2[_0x6da82d(0x17d)])||_0x2d1bf2[_0x6da82d(0x1b5)](_0x47edf4[_0x6da82d(0x1e8)],!![]);const _0x3fd14e=_0x2d1bf2[_0x6da82d(0x1ec)](this[_0x6da82d(0x1d5)][_0x6da82d(0x1dd)],!![])||_0x2d1bf2['mPcIC'](this[_0x6da82d(0x1d5)][_0x6da82d(0x1dd)],_0x2d1bf2[_0x6da82d(0x17d)]);if(_0x2d1bf2[_0x6da82d(0x1b2)](_0x47edf4['message'],constants[_0x6da82d(0x156)])&&_0x3fd14e)logger[_0x6da82d(0x1a0)](_0x2d1bf2['OGMcj']);else{if(!_0x47edf4[_0x6da82d(0x1ff)]&&_0x2d1bf2[_0x6da82d(0x131)](_0x47edf4[_0x6da82d(0x1ef)],0x1f7)&&_0x3fd14e)logger['info'](_0x2d1bf2[_0x6da82d(0x141)]),utilities[_0x6da82d(0x1e2)](constants[_0x6da82d(0x198)],_0x1adcd4,this[_0x6da82d(0x1d5)],this['framework']);else{if(!_0x47edf4[_0x6da82d(0x1ff)]&&_0x3fd14e){logger['info'](_0x2d1bf2[_0x6da82d(0x1c6)]);const _0x529345={'tcgUrl':constants[_0x6da82d(0x113)],'sdkVersion':_0x2d1bf2[_0x6da82d(0x10e)](require,_0x2d1bf2['juXSC'])[_0x6da82d(0x165)],'methodUsed':_0x2d1bf2[_0x6da82d(0x16c)],'proxyConfig':_0xcf9e52,'os':os[_0x6da82d(0x203)]()};utilities[_0x6da82d(0x1e2)](constants[_0x6da82d(0x177)],_0x529345,this[_0x6da82d(0x1d5)],this[_0x6da82d(0x1d8)]);}else{if(_0x47edf4[_0x6da82d(0x1ff)]&&!_0x47edf4[_0x6da82d(0x1e8)]&&_0x3fd14e)logger[_0x6da82d(0x1a0)](_0x2d1bf2[_0x6da82d(0x1ea)]);else{if(_0x2d1bf2['JLYZx'](_0x47edf4['status'],0xc8)&&_0x2d1bf2['putib'](_0x47edf4['status'],0x12c))utilities['fireFunnelTestEvent'](constants[_0x6da82d(0x1d4)],_0x1adcd4,this[_0x6da82d(0x1d5)],this['framework']);else{if(_0x2d1bf2[_0x6da82d(0x179)](_0x47edf4[_0x6da82d(0x1ef)],0x190))_0x1adcd4[_0x6da82d(0x1ef)]=_0x47edf4[_0x6da82d(0x1ef)],utilities[_0x6da82d(0x1e2)](constants[_0x6da82d(0x1b1)],_0x1adcd4,this[_0x6da82d(0x1d5)],this['framework']);else!_0x47edf4['status']&&utilities[_0x6da82d(0x1e2)](constants[_0x6da82d(0x205)],_0x1adcd4,this['config'],this[_0x6da82d(0x1d8)]);}}}}}if(_0x47edf4['isAuthenticated']&&_0x47edf4[_0x6da82d(0x1e8)]){const _0x4ea0a3={};_0x4ea0a3[_0x6da82d(0x193)]=_0x47edf4;const _0x3a26ec=_0x4ea0a3;_0xcf9e52&&(_0x3a26ec[_0x6da82d(0x18f)]=_0xcf9e52),_0x3a26ec[_0x6da82d(0x1d8)]=this['framework'],_0x3a26ec[_0x6da82d(0x14c)]=this[_0x6da82d(0x1d5)],helper[_0x6da82d(0x14f)](_0x3a26ec),logger['debug'](_0x2d1bf2[_0x6da82d(0x129)]);}}catch(_0x51560d){logger[_0x6da82d(0x212)](_0x6da82d(0x211)+(_0x51560d[_0x6da82d(0x20b)]?_0x51560d[_0x6da82d(0x20b)]:''));}});await _0x2d1bf2[_0x1a4834(0x116)](_0x34983a);}[a93_0x417c58(0x1b9)](){const _0x299c7f=a93_0x417c58,_0x40d90b={'kdIuo':function(_0x54286,_0x14dac4){return _0x54286(_0x14dac4);},'iEStO':_0x299c7f(0x12e)};_0x40d90b[_0x299c7f(0x1d0)](require,_0x40d90b[_0x299c7f(0x173)])();}[a93_0x417c58(0x142)](){const _0x2ea7cb=a93_0x417c58,_0x128e81={};_0x128e81[_0x2ea7cb(0x1e1)]='2|4|3|0|1',_0x128e81[_0x2ea7cb(0x110)]=_0x2ea7cb(0x143),_0x128e81[_0x2ea7cb(0x1a7)]='uncaughtException';const _0x35fac0=_0x128e81,_0x4fc0b0=_0x34cb3c=>{const _0x16f5c9=_0x2ea7cb,_0x43091a=_0x35fac0[_0x16f5c9(0x1e1)][_0x16f5c9(0x18b)]('|');let _0x17e0d3=0x0;while(!![]){switch(_0x43091a[_0x17e0d3++]){case'0':PerformanceTester[_0x16f5c9(0x208)](_0x34cb3c);continue;case'1':ClientTroubleShootingService[_0x16f5c9(0x121)]();continue;case'2':logger[_0x16f5c9(0x133)](_0x34cb3c['message']);continue;case'3':this[_0x16f5c9(0x1fe)][_0x16f5c9(0x14d)](util['format']('%j',_0x34cb3c));continue;case'4':logger[_0x16f5c9(0x212)](util[_0x16f5c9(0x206)](_0x34cb3c));continue;}break;}};process['on'](_0x35fac0['PVlLE'],_0x4fc0b0),process['on'](_0x35fac0['yeaop'],_0x4fc0b0);}async['intExitHandler'](_0x43600b){const _0x1baadf=a93_0x417c58,_0x189c22={};_0x189c22[_0x1baadf(0x164)]=_0x1baadf(0x188),_0x189c22[_0x1baadf(0x12a)]=function(_0x2772b8,_0x2b7b7a){return _0x2772b8+_0x2b7b7a;},_0x189c22[_0x1baadf(0x123)]='Shutdown\x20triggered\x20by\x20',_0x189c22[_0x1baadf(0x17c)]=_0x1baadf(0x1a2),_0x189c22['EvQyB']=function(_0x5760aa,_0x5e6315){return _0x5760aa+_0x5e6315;};const _0x185622=_0x189c22,_0x61ab45=_0x185622[_0x1baadf(0x164)][_0x1baadf(0x18b)]('|');let _0x3e4d9c=0x0;while(!![]){switch(_0x61ab45[_0x3e4d9c++]){case'0':await ClientTroubleShootingService['reportProcessInterruptionSituation'](_0x43600b);continue;case'1':await ClientTroubleShootingService[_0x1baadf(0x121)]();continue;case'2':this[_0x1baadf(0x16e)]=_0x43600b;continue;case'3':await BrowserstackCLI[_0x1baadf(0x146)]()['stop']();continue;case'4':logger[_0x1baadf(0x1a0)](_0x185622[_0x1baadf(0x12a)](_0x185622[_0x1baadf(0x123)],_0x43600b));continue;case'5':if(this[_0x185622[_0x1baadf(0x12a)](_0x185622[_0x1baadf(0x17c)],_0x43600b)])return;continue;case'6':await TestHubHandler[_0x1baadf(0x11d)](_0x43600b);continue;case'7':this[_0x185622[_0x1baadf(0x1cb)](_0x185622['Znxnl'],_0x43600b)]=!![];continue;}break;}}[a93_0x417c58(0x1e5)](){const _0x1a4325=a93_0x417c58,_0x1f6ddb={'QDAAi':function(_0x2a38b0,_0x3cef48){return _0x2a38b0===_0x3cef48;},'bEitS':'Calling\x20Build\x20Stop\x20from\x20ExitHandler','OhVQg':function(_0x178995,_0x4e98e8){return _0x178995>_0x4e98e8;},'YrSaw':function(_0x1d8170,_0x48390e){return _0x1d8170(_0x48390e);},'wETby':function(_0x559552,_0x20fe6e){return _0x559552(_0x20fe6e);},'IqkOk':function(_0x52c26a){return _0x52c26a();},'Qprch':_0x1a4325(0x20f)};let _0x44fc9b=0x0;return async()=>{const _0x538962=_0x1a4325;_0x44fc9b++;if(_0x1f6ddb[_0x538962(0x17b)](_0x44fc9b,0x1)){helper[_0x538962(0x130)](this[_0x538962(0x1d8)])&&await this[_0x538962(0x162)]();try{logger['debug'](_0x1f6ddb[_0x538962(0x1e3)]),await TestHubHandler[_0x538962(0x11d)](_0x44fc9b),await ClientTroubleShootingService[_0x538962(0x121)](),await BrowserstackCLI['getInstance']()[_0x538962(0x11d)]('1');}catch(_0x46c69a){logger[_0x538962(0x212)](_0x538962(0x125)+util['format'](_0x46c69a));}PerformanceTester[_0x538962(0x136)](PerformanceEvents['SDK_CLEANUP']);if(PerformanceTester[_0x538962(0x1c7)]()){const {measures:_0x4ceff2,errors:_0xb049d4}=await PerformanceTester[_0x538962(0x207)](),_0x51246c={};if(_0x4ceff2&&_0x1f6ddb[_0x538962(0x213)](_0x4ceff2[_0x538962(0x189)],0x0)||_0xb049d4&&_0x1f6ddb[_0x538962(0x213)](_0xb049d4[_0x538962(0x189)],0x0)){const _0x132a22={};_0x132a22[_0x538962(0x11f)]=_0x4ceff2,_0x132a22[_0x538962(0x148)]=_0xb049d4,Object[_0x538962(0x1d6)](_0x51246c,_0x132a22);}try{const _0x1739a1=await helper[_0x538962(0x1df)](_0x51246c,this[_0x538962(0x1d5)]);logger[_0x538962(0x212)](_0x538962(0x180)+_0x1f6ddb[_0x538962(0x168)](getEdsInstrumentationAPIUrl,'')+_0x538962(0x1bb)+_0x1739a1['statusCode']);}catch(_0x1fa27e){logger[_0x538962(0x212)]('Failed\x20to\x20send\x20data\x20to\x20'+_0x1f6ddb[_0x538962(0x1cc)](getEdsInstrumentationAPIUrl,'')+'\x20with\x20error\x20'+util['format'](_0x1fa27e));}try{fs[_0x538962(0x115)](path[_0x538962(0x152)](_0x1f6ddb[_0x538962(0x1f9)](getLogDir),_0x1f6ddb[_0x538962(0x132)]),JSON['stringify'](_0x51246c));}catch(_0x33f357){logger['debug'](_0x538962(0x1c5)+_0x33f357);}}}logger&&logger[_0x538962(0x166)](),fileLogger&&fileLogger[_0x538962(0x166)]();};}}exports[a93_0x417c58(0x1ee)]=BrowserStackSetup;