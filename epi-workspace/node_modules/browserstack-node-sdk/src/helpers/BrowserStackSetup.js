function a93_0x41ef(_0x52005e,_0x39bfc7){const _0x165b6e=a93_0x165b();return a93_0x41ef=function(_0x41efe8,_0x3cbf44){_0x41efe8=_0x41efe8-0xee;let _0xbaba4e=_0x165b6e[_0x41efe8];return _0xbaba4e;},a93_0x41ef(_0x52005e,_0x39bfc7);}const a93_0x3c0da8=a93_0x41ef;(function(_0x2b51ec,_0x550d6f){const _0x3e5019=a93_0x41ef,_0x143dc9=_0x2b51ec();while(!![]){try{const _0x1c1a1b=parseInt(_0x3e5019(0x1b6))/0x1+parseInt(_0x3e5019(0x1dd))/0x2+-parseInt(_0x3e5019(0x15b))/0x3+-parseInt(_0x3e5019(0x1b7))/0x4*(-parseInt(_0x3e5019(0x152))/0x5)+parseInt(_0x3e5019(0x189))/0x6+-parseInt(_0x3e5019(0x13f))/0x7+-parseInt(_0x3e5019(0x1e9))/0x8*(parseInt(_0x3e5019(0x121))/0x9);if(_0x1c1a1b===_0x550d6f)break;else _0x143dc9['push'](_0x143dc9['shift']());}catch(_0x4a79a1){_0x143dc9['push'](_0x143dc9['shift']());}}}(a93_0x165b,0x32602));const util=require(a93_0x3c0da8(0x107)),os=require('os'),path=require(a93_0x3c0da8(0x1b5)),{v4:uuidv4}=require(a93_0x3c0da8(0x198)),fs=require('fs'),constants=require(a93_0x3c0da8(0x1b9)),logger=require(a93_0x3c0da8(0x13d))['winstonLogger'],fileLogger=require('./logger')['fileLogger'],{getLogDir}=require(a93_0x3c0da8(0x13d)),helper=require(a93_0x3c0da8(0x111)),utilities=require('./utilities'),percyHelper=require('./percy/utils'),hubAllocator=require('../hubAllocationMethods'),PerformanceTester=require(a93_0x3c0da8(0x17d)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require(a93_0x3c0da8(0x171)),{setPercyFlag}=require(a93_0x3c0da8(0xf1)),TestHubHandler=require(a93_0x3c0da8(0x1ad)),timeoutPromise=require(a93_0x3c0da8(0x1bb)),BrowserstackCLI=require(a93_0x3c0da8(0x124)),{getEdsInstrumentationAPIUrl}=require(a93_0x3c0da8(0x12e)),ClientTroubleShootingService=require(a93_0x3c0da8(0x15e));function a93_0x165b(){const _0x2fa7c8=['aWDGY','./helper','tOnKk','SDKTestAttempted','setCLICaps','KPkeJ','proxyConfig','setLogDir','getInstance','platforms','false','sdkRunId','TYPkC','BrowserstackHealing.init\x20method\x20timed\x20out','allocateHub','stopBrowserstackLocal','BROWSERSTACK_PERCY','240993OQPIDx','isRunning','win32','../bin/v2/browserstackCLI','handleExceptions','MLeUa','isTrialGrid','JMsQu','getAccessKey','zrCCt','SIGTERM','customRepeaters','sendToEDS','../bin/utils/apiUtilityMethods','Percy\x20started\x20successfully','getLocalIdentifier','Failed\x20to\x20send\x20data\x20to\x20','xuBuY','exceptions','info','nLkMi','IMxrC','setupPercy','ugVPW','handled','TCG_AUTH_FAILURE','oBZvK','isUndefined','./logger','unhandledRejection','645316sThPfS','tcg\x20config\x20setup\x20successful.','central_scanner','hbXhd','MngVv','5|3|4|6|7|1|2|0','killSignal','../ai-sdk-node/bundle','useW3C','untDK','cNRPa','INVALID_INIT_RESP_WITH_USER_IMPACT','codeceptjs','envConfig','iUdmq','AI_INIT_SUCCESSFUL','bstackConfig','swyPe','version','865rEhBIc','parallelsPerPlatform','browserStackLocalOptions','SIGABRT','kfPoO','3|2|4|1|0','akIUQ','jGUUJ','Aptpr','137559MJvNsz','wQThV','Data\x20sent\x20successfully\x20to\x20','../bin/utils/clientTroubleshootingService','?caps=','message','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','writeFileSync','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','Calling\x20Build\x20Stop\x20from\x20ExitHandler','OdDji','Percy\x20stopped','isTurboScaleSession','YyQcB','TCG_URL','Gusjk','stop','captureError','env','jMmNh','Error\x20in\x20writing\x20events\x20to\x20file\x20','./setKeepAlive','./performance/constants','Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled','UhRfq','isEnabled','error','unhandledErrors','Local\x20binary\x20stopped','iAnUJ','SDK\x20run\x20started\x20with\x20id:\x20','../../package.json','aAOkn','percy','./performance/performance-tester','Error\x20in\x20percy\x20setup\x20','hubUrl','SIGBREAK','GozCF','playwright','getUserName','WmYmE','skipSessionName','lCVxr','join','Local\x20binary\x20started\x20successfully','28632wmTwaS','default','config','measureWrapper','browserstackLocal','YCivT','beforeExit','LIncH','url','includes','BrowserstackHealing.init','PHnfV','gPGeo','SwaDn','ZqjmT','uuid','push','getTurboScaleGridDetails','format','WUgBe','SIGHUP','IIpBN','close','HyyLV','cDgEE','proxy','tcgAuthConfig','FRAMEWORK','wWkZA','framework','setupKeepAlive','BMLqc','setEnvCaps','getLocalConfig','QVuiz','Ktkpi','./testhub/testhubHandler','oyjjv','cliConfig','exitHandler','fireFunnelTestEvent','stopPercy','AI_INIT_FAILURE','stringify','path','181097YSxuAA','9344WueuWS','Error\x20occured\x20while\x20stopping\x20percy','../bin/utils/constants','BrowserstackHealingInitFailed','./timeoutPromise','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','TCG_DOWN','testContextOptions','UPGRADE_REQUIRED','accessKey','IySsX','QhTEw','sanitizeCaps','userName\x20or\x20accessKey\x20is\x20not\x20defined','dsZbZ','toString','LjXpT','setupTcgConfigFile','turboScaleUrl','checkStopLocalBinaryOnExit','initialize','reportProcessInterruptionSituation','debug','Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.','HUB_MANAGEMENT','inRbD','getFinalCaps','isTrue','intExitHandler','AUTOLOGCAPTURE_NOTIFICATION','errorMessage','AI_PROXY_FAILURE','startMonitoring','Ujmxc','isBrowserstackInfra','YBKbW','reportFinalDetectionState','josLj','419182qVoYGk','\x20with\x20error\x20','BROWSERSTACK_TURBOSCALE','setProxySettings','No\x20config\x20provided.','turboScaleOptions','QFPjh','turboScaleGridDetails','proxyUrl','isNotUndefined','setupTCGAuth','nXqdO','136iGrDVm','forceLocal','status','Error\x20in\x20sending\x20testhub\x20stop:\x20','requireSeleniumWebdriverCheck','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','getProxyConfigForTcg','getHubUrl','vbMRv','constructor','isAuthenticated','playwrightUrl','./testhub/utils','platform','mZnjD','events.json','length','FSgHI','VEsSW','Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','skipBinaryInitialisation','getPackageVersion','qIWCu','custom-repeater','startPercy','split','cyFPc','localIdentifier','eaECH','iTvAN','true','setLogLevel','localOptions','compareVersions','util','aiHeal:tcgAuth','bind','init','isHealingEnabled','ElPyn','ifLGA','selfHeal','skipSessionStatus'];a93_0x165b=function(){return _0x2fa7c8;};return a93_0x165b();}class BrowserStackSetup{constructor(_0x2df002,_0xaf1606){const _0x1dfa7a=a93_0x3c0da8,_0x23de5e={'MMTeE':'12|15|3|11|20|22|4|21|1|18|6|19|5|8|14|16|9|13|2|0|10|7|17','cyFPc':function(_0x228d03){return _0x228d03();},'vbepO':_0x1dfa7a(0x1e1)},_0x28f2ea=_0x23de5e['MMTeE']['split']('|');let _0x574b92=0x0;while(!![]){switch(_0x28f2ea[_0x574b92++]){case'0':helper[_0x1dfa7a(0x1d1)](this[_0x1dfa7a(0x18b)],this[_0x1dfa7a(0x1af)],this[_0x1dfa7a(0x14c)]);continue;case'1':this['config'][_0x1dfa7a(0x1be)]=this[_0x1dfa7a(0x18b)][_0x1dfa7a(0x1be)]||{};continue;case'2':this[_0x1dfa7a(0x18b)]['testContextOptions'][_0x1dfa7a(0x185)]=!helper['isBrowserstackInfra']()||helper[_0x1dfa7a(0x1d2)](this[_0x1dfa7a(0x18b)][_0x1dfa7a(0x1be)][_0x1dfa7a(0x185)]);continue;case'3':this['envConfig']=helper[_0x1dfa7a(0x1a9)]();continue;case'4':this[_0x1dfa7a(0x1af)]=helper[_0x1dfa7a(0x114)](_0x2df002);continue;case'5':global[_0x1dfa7a(0x1a6)]=_0xaf1606;continue;case'6':this[_0x1dfa7a(0x11b)]=_0x23de5e[_0x1dfa7a(0xff)](uuidv4);continue;case'7':helper[_0x1dfa7a(0x104)](this[_0x1dfa7a(0x18b)],this[_0x1dfa7a(0x1af)],this['envConfig']);continue;case'8':if(helper[_0x1dfa7a(0x13c)](this[_0x1dfa7a(0x18b)]))throw new Error(_0x23de5e['vbepO']);continue;case'9':helper['setCredentialsFromYmlConfig'](this[_0x1dfa7a(0x18b)]);continue;case'10':helper[_0x1dfa7a(0x117)](this[_0x1dfa7a(0x18b)]);continue;case'11':this[_0x1dfa7a(0x18d)]=null;continue;case'12':this[_0x1dfa7a(0x176)]=[];continue;case'13':this[_0x1dfa7a(0x18b)]['testContextOptions'][_0x1dfa7a(0x10f)]=!helper[_0x1dfa7a(0x1d9)]()||helper[_0x1dfa7a(0x1d2)](this[_0x1dfa7a(0x18b)][_0x1dfa7a(0x1be)]['skipSessionStatus']);continue;case'14':if(this[_0x1dfa7a(0x18b)][_0x1dfa7a(0x175)])throw new Error(this[_0x1dfa7a(0x18b)][_0x1dfa7a(0x175)]);continue;case'15':helper['normalizeTestReportingEnvVars']();continue;case'16':helper['setBrowserstackInfraFromConfig'](this[_0x1dfa7a(0x18b)],this['cliConfig']);continue;case'17':PerformanceTester[_0x1dfa7a(0x1d7)]();continue;case'18':this[_0x1dfa7a(0x1d5)]={};continue;case'19':this['framework']=_0xaf1606;continue;case'20':this['percy']=null;continue;case'21':this[_0x1dfa7a(0x18b)][_0x1dfa7a(0x119)]=this[_0x1dfa7a(0x18b)]['platforms']||[];continue;case'22':this[_0x1dfa7a(0x18b)]=helper['readConfig'](helper['getConfigPath'](_0x2df002));continue;}break;}}['preInitialize'](_0x1fcb3b){const _0x4d0275=a93_0x3c0da8,_0x19242f={'Rnoxe':_0x4d0275(0x1c4),'cDgEE':function(_0x466fc6,_0x595c19){return _0x466fc6===_0x595c19;},'IMxrC':'integrations','kfPoO':_0x4d0275(0x113),'akIUQ':function(_0x40dc2d,_0x5f1510){return _0x40dc2d<_0x5f1510;},'cNRPa':function(_0x42d734,_0x2e124e){return _0x42d734(_0x2e124e);},'wQThV':'selenium-webdriver','ifLGA':'4.5.0','lCVxr':'Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','jVVNl':'parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','iTvAN':_0x4d0275(0x12b),'eaECH':'SIGINT','hbolp':_0x4d0275(0x19d),'QhTEw':function(_0x1b0d92,_0x2c2701){return _0x1b0d92!==_0x2c2701;},'SwaDn':_0x4d0275(0x123),'Gusjk':_0x4d0275(0x155),'UhRfq':'SIGQUIT','ElPyn':_0x4d0275(0x180),'aWDGY':_0x4d0275(0x18f)},_0x1b4e55=this['framework'];global[_0x4d0275(0x18b)]=this[_0x4d0275(0x18b)],helper[_0x4d0275(0x1c3)](this['config']),this['killSignal']=null,global[_0x4d0275(0x11b)]=this[_0x4d0275(0x11b)],logger['info'](_0x4d0275(0x179)+this[_0x4d0275(0x11b)]),!this[_0x4d0275(0x18b)][_0x4d0275(0x154)]&&(this['config'][_0x4d0275(0x154)]=this[_0x4d0275(0x18b)][_0x4d0275(0x105)]||{});if(helper['isUndefined'](helper[_0x4d0275(0x183)](this['config']))||helper['isUndefined'](helper[_0x4d0275(0x129)](this['config'])))throw new Error(_0x19242f['Rnoxe']);helper[_0x4d0275(0x1aa)](this[_0x4d0275(0x18b)])&&helper[_0x4d0275(0x13c)](helper[_0x4d0275(0x130)](this[_0x4d0275(0x18b)]))&&(!helper[_0x4d0275(0x13c)](this[_0x4d0275(0x18b)]['browserStackLocalOptions'])&&_0x19242f[_0x4d0275(0x1a1)](this[_0x4d0275(0x18b)][_0x4d0275(0x154)][_0x4d0275(0xee)],Object)?!helper['isTrue'](this['config'][_0x4d0275(0x154)][_0x4d0275(0xf9)])&&(this['config'][_0x4d0275(0x154)][_0x4d0275(0x100)]=helper['generateLocalIdentifier']()):this[_0x4d0275(0x18b)][_0x4d0275(0x154)]={'localIdentifier':helper['generateLocalIdentifier']()});this['config'][_0x4d0275(0x154)]['skipBinaryInitialisation']=helper[_0x4d0275(0x1d2)](this[_0x4d0275(0x18b)][_0x4d0275(0x154)][_0x4d0275(0xf9)]),helper['setHandlePWError'](this[_0x4d0275(0x18b)]);if(_0x19242f[_0x4d0275(0x1a1)](_0x1b4e55,_0x19242f[_0x4d0275(0x136)]))return;this[_0x4d0275(0x125)]();process['env'][_0x4d0275(0x1df)]&&(this[_0x4d0275(0x18b)]['turboScale']=helper['isTrue'](process[_0x4d0275(0x16d)][_0x4d0275(0x1df)]),this[_0x4d0275(0x18b)][_0x4d0275(0x1e2)]=this[_0x4d0275(0x18b)][_0x4d0275(0x1e2)]||{});helper[_0x4d0275(0x167)](this[_0x4d0275(0x18b)])&&(process[_0x4d0275(0x16d)][_0x4d0275(0x1df)]=!![]);if(!helper['isBrowserstackInfra']()){try{process[_0x4d0275(0x16d)][_0x4d0275(0x1a4)]=_0x1b4e55,utilities[_0x4d0275(0x1b1)](_0x19242f[_0x4d0275(0x156)],{},this['config'],this[_0x4d0275(0x1a6)]);}catch(_0x1cdc41){logger[_0x4d0275(0x1cd)](_0x4d0275(0x1ee)+_0x1cdc41);}return;}if(helper[_0x4d0275(0x1ed)](_0x1b4e55)){if(global['__isPlaywrightInstalled'])return;_0x19242f[_0x4d0275(0x158)](_0x19242f[_0x4d0275(0x149)](parseInt,helper[_0x4d0275(0xfa)](_0x19242f[_0x4d0275(0x15c)])),0x3)&&(this[_0x4d0275(0x18b)][_0x4d0275(0x147)]=![]),_0x19242f[_0x4d0275(0x1a1)](helper[_0x4d0275(0x106)](helper[_0x4d0275(0xfa)](_0x19242f[_0x4d0275(0x15c)]),_0x19242f[_0x4d0275(0x10d)]),0x1)&&(this[_0x4d0275(0x18b)][_0x4d0275(0x147)]=!![]);}(helper[_0x4d0275(0x13c)](this[_0x4d0275(0x18b)]['platforms'])||helper[_0x4d0275(0x13c)](this['config'][_0x4d0275(0x119)][_0x4d0275(0xf5)]))&&(helper[_0x4d0275(0x13c)](this[_0x4d0275(0x18b)][_0x4d0275(0x153)])?logger['info'](_0x19242f[_0x4d0275(0x186)]):logger['warn'](_0x19242f['jVVNl']),this[_0x4d0275(0x18b)]['platforms']=[]);!this['config'][_0x4d0275(0x1be)]&&(this['config'][_0x4d0275(0x1be)]={});try{process[_0x4d0275(0x16d)][_0x4d0275(0x1a4)]=_0x1fcb3b['_'][0x0],utilities['fireFunnelTestEvent'](_0x19242f[_0x4d0275(0x156)],{},this['config'],this['framework']);}catch(_0x2b33cb){logger[_0x4d0275(0x1cd)](_0x4d0275(0x1ee)+_0x2b33cb);}!this['config']['disableAutoCaptureLogs']&&logger[_0x4d0275(0x134)](constants[_0x4d0275(0x1d4)]),this['intExitHandler']=this[_0x4d0275(0x1d3)][_0x4d0275(0x109)](this),process['on'](_0x19242f[_0x4d0275(0x102)],this['intExitHandler']),process['on'](_0x19242f[_0x4d0275(0x101)],this['intExitHandler']),process['on'](_0x19242f['hbolp'],this[_0x4d0275(0x1d3)]),_0x19242f[_0x4d0275(0x1c2)](process[_0x4d0275(0xf2)],_0x19242f[_0x4d0275(0x196)])?(process['on'](_0x19242f[_0x4d0275(0x16a)],this[_0x4d0275(0x1d3)]),process['on'](_0x19242f[_0x4d0275(0x173)],this[_0x4d0275(0x1d3)])):process['on'](_0x19242f[_0x4d0275(0x10c)],this[_0x4d0275(0x1d3)]),process['on'](_0x19242f[_0x4d0275(0x110)],this[_0x4d0275(0x1b0)]());}async[a93_0x3c0da8(0x1cb)](_0x38c1dd){const _0xcf4b2=a93_0x3c0da8,_0x447ba9={'KPkeJ':'ats-repeater','dsZbZ':_0xcf4b2(0xfc),'VEsSW':_0xcf4b2(0x103),'ZqjmT':function(_0x1e437e,_0x4a8b25){return _0x1e437e===_0x4a8b25;},'Aptpr':_0xcf4b2(0x182),'QFPjh':function(_0x222544,_0x521d97){return _0x222544+_0x521d97;},'WmYmE':_0xcf4b2(0x15f),'inRbD':function(_0x4a78df,_0x5af6fa){return _0x4a78df(_0x5af6fa);},'oBZvK':_0xcf4b2(0x14b)};this['preInitialize'](_0x38c1dd);if(helper[_0xcf4b2(0x167)](this[_0xcf4b2(0x18b)])){const _0x1bafd8=await helper[_0xcf4b2(0x19a)](this[_0xcf4b2(0x18b)]);this[_0xcf4b2(0x18b)][_0xcf4b2(0x1e4)]=_0x1bafd8,_0x1bafd8[_0xcf4b2(0x127)]&&helper[_0xcf4b2(0x1e6)](this['config'][_0xcf4b2(0x18d)])&&helper['isTrue'](this[_0xcf4b2(0x18b)]['browserstackLocal'])&&(this['config'][_0xcf4b2(0x154)][_0xcf4b2(0x100)]=_0x447ba9[_0xcf4b2(0x115)],this['config']['browserStackLocalOptions'][_0x447ba9[_0xcf4b2(0x1c5)]]=_0x1bafd8[_0xcf4b2(0x12c)][_0xcf4b2(0x187)](','),this['config'][_0xcf4b2(0x154)][_0xcf4b2(0x1ea)]=_0x447ba9[_0xcf4b2(0xf7)]),this[_0xcf4b2(0x18b)][_0xcf4b2(0x1c9)]=_0x1bafd8[_0xcf4b2(0x191)],this[_0xcf4b2(0x1a6)]&&_0x447ba9[_0xcf4b2(0x197)](this[_0xcf4b2(0x1a6)]['toLowerCase'](),_0x447ba9['Aptpr'])?this[_0xcf4b2(0x18b)][_0xcf4b2(0x1c9)]=_0x447ba9[_0xcf4b2(0x1e3)](_0x1bafd8[_0xcf4b2(0xf0)],_0x447ba9[_0xcf4b2(0x184)]):constants[_0xcf4b2(0x17f)]=helper[_0xcf4b2(0x1f0)](this['config']),logger[_0xcf4b2(0x1cd)]('HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20'+constants['hubUrl']);}helper[_0xcf4b2(0x1e0)](this[_0xcf4b2(0x18b)]),this[_0xcf4b2(0x1a7)](),_0x447ba9[_0xcf4b2(0x1d0)](setPercyFlag,this),await this['setupBrowserstackLocal'](),![_0x447ba9[_0xcf4b2(0x13b)],_0x447ba9[_0xcf4b2(0x15a)]][_0xcf4b2(0x192)](this[_0xcf4b2(0x1a6)])&&!helper[_0xcf4b2(0x167)](this[_0xcf4b2(0x18b)])&&!helper['getCentralUser']()[_0xcf4b2(0x141)]&&await this['setUpHubUrl']();}async[a93_0x3c0da8(0x137)](){const _0x2ab2b1=a93_0x3c0da8,_0x314951={};_0x314951[_0x2ab2b1(0x1ac)]=function(_0x29b9e8,_0x4af4ab){return _0x29b9e8===_0x4af4ab;},_0x314951[_0x2ab2b1(0x148)]=_0x2ab2b1(0x11a),_0x314951[_0x2ab2b1(0x1d8)]=_0x2ab2b1(0x1ce),_0x314951[_0x2ab2b1(0x126)]=_0x2ab2b1(0x12f),_0x314951[_0x2ab2b1(0x142)]='true',_0x314951[_0x2ab2b1(0x159)]=_0x2ab2b1(0x18f);const _0x4eb0ba=_0x314951;if(helper[_0x2ab2b1(0x1d2)](this['config'][_0x2ab2b1(0x17c)])&&(!this['percy']||!this[_0x2ab2b1(0x17c)][_0x2ab2b1(0x122)]()))try{this[_0x2ab2b1(0x17c)]=await percyHelper[_0x2ab2b1(0xfd)](this[_0x2ab2b1(0x18b)]);if(!this[_0x2ab2b1(0x17c)]){process['env'][_0x2ab2b1(0x120)]=_0x4eb0ba['untDK'];throw new Error(_0x4eb0ba[_0x2ab2b1(0x1d8)]);}logger[_0x2ab2b1(0x134)](_0x4eb0ba[_0x2ab2b1(0x126)]),process[_0x2ab2b1(0x16d)][_0x2ab2b1(0x120)]=_0x4eb0ba[_0x2ab2b1(0x142)];let _0x36db2b=0x0;const _0x51c662=async()=>{const _0x43300c=_0x2ab2b1;_0x36db2b++,_0x4eb0ba[_0x43300c(0x1ac)](_0x36db2b,0x1)&&await this[_0x43300c(0x1b2)]();};process['on'](_0x4eb0ba[_0x2ab2b1(0x159)],_0x51c662);}catch(_0x3148b6){process[_0x2ab2b1(0x16d)][_0x2ab2b1(0x120)]=_0x4eb0ba[_0x2ab2b1(0x148)],logger[_0x2ab2b1(0x1cd)](_0x2ab2b1(0x17e)+_0x3148b6);throw new Error(_0x3148b6[_0x2ab2b1(0x1c6)]());}}async[a93_0x3c0da8(0x1b2)](){const _0x202362=a93_0x3c0da8,_0x222019={};_0x222019[_0x202362(0x112)]=_0x202362(0x166),_0x222019[_0x202362(0x168)]=_0x202362(0x1b8);const _0x500d27=_0x222019;if(this[_0x202362(0x17c)]&&this['percy']['isRunning']())try{await percyHelper[_0x202362(0x1b2)](this[_0x202362(0x17c)]),logger[_0x202362(0x134)](_0x500d27['tOnKk']);}catch(_0x169343){logger[_0x202362(0x175)](_0x500d27[_0x202362(0x168)],_0x169343[_0x202362(0x160)]);}}async['setupBrowserstackLocal'](){const _0xe1f33e=a93_0x3c0da8,_0x5bc4fb={};_0x5bc4fb['YBKbW']=_0xe1f33e(0x172),_0x5bc4fb[_0xe1f33e(0x194)]=_0xe1f33e(0x188);const _0xdba8dc=_0x5bc4fb;if(helper[_0xe1f33e(0x1d9)]()&&helper[_0xe1f33e(0x1d2)](this[_0xe1f33e(0x18b)][_0xe1f33e(0x18d)])&&(!this['browserstackLocal']||!this[_0xe1f33e(0x18d)][_0xe1f33e(0x122)]()))try{if(this[_0xe1f33e(0x18b)][_0xe1f33e(0x154)][_0xe1f33e(0xf9)]){logger['debug'](_0xdba8dc[_0xe1f33e(0x1da)]);return;}this[_0xe1f33e(0x18d)]=await helper['startLocalBinary'](this[_0xe1f33e(0x18b)]),logger[_0xe1f33e(0x134)](_0xdba8dc['PHnfV']);}catch(_0x256e00){logger['debug'](_0x256e00);throw new Error(_0x256e00[_0xe1f33e(0x1c6)]());}}async[a93_0x3c0da8(0x11f)](){const _0x107700=a93_0x3c0da8,_0x3b268f={};_0x3b268f[_0x107700(0xf3)]=_0x107700(0x177),_0x3b268f[_0x107700(0x195)]='Error\x20occured\x20while\x20stopping\x20local\x20binary';const _0x30ff73=_0x3b268f;if(this[_0x107700(0x18d)]&&this['browserstackLocal']['isRunning']())try{await helper['stopLocalBinary'](this[_0x107700(0x18d)]),logger['info'](_0x30ff73[_0x107700(0xf3)]);}catch(_0x1e9119){logger['error'](_0x30ff73[_0x107700(0x195)],_0x1e9119[_0x107700(0x160)]);}}async['setUpHubUrl'](){const _0x43ca8a=a93_0x3c0da8;return PerformanceTester[_0x43ca8a(0x18c)](PerformanceAutEvents[_0x43ca8a(0x1cf)],async()=>{const _0x14ba24=_0x43ca8a;await hubAllocator[_0x14ba24(0x11e)](this['config']);})();}async[a93_0x3c0da8(0x1e7)](){const _0x5bb46e=a93_0x3c0da8,_0xe789d8={'GozCF':function(_0x4b4ac7,_0x8a291e){return _0x4b4ac7(_0x8a291e);},'wWkZA':_0x5bb46e(0x146),'iUdmq':function(_0x3c3cf7,_0x418c55,_0x390093,_0x49edac,_0x3dc002,_0x25715f,_0x4e47a8){return _0x3c3cf7(_0x418c55,_0x390093,_0x49edac,_0x3dc002,_0x25715f,_0x4e47a8);},'swyPe':_0x5bb46e(0x11d),'nLkMi':_0x5bb46e(0x1ba),'JeTMm':function(_0x499170,_0x14ae66){return _0x499170(_0x14ae66);},'IIpBN':_0x5bb46e(0x17a),'MngVv':_0x5bb46e(0x193),'qnbGb':function(_0x53e9c6,_0xe6f9cb){return _0x53e9c6===_0xe6f9cb;},'nXqdO':_0x5bb46e(0x103),'FSgHI':function(_0x3e845f,_0x4f41b9){return _0x3e845f===_0x4f41b9;},'aAOkn':function(_0x4a0cb7,_0x5ebf43){return _0x4a0cb7===_0x5ebf43;},'JIMJU':function(_0x85b1d5,_0x1d23e6){return _0x85b1d5===_0x1d23e6;},'jtdPu':_0x5bb46e(0x1bc),'YCivT':function(_0x2a106b,_0x412f90){return _0x2a106b===_0x412f90;},'josLj':_0x5bb46e(0x163),'fTvBF':_0x5bb46e(0xf8),'QWTRi':'Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','moGre':function(_0x39f9da,_0x5046cb){return _0x39f9da>=_0x5046cb;},'vbMRv':function(_0x4fa671,_0x893b3){return _0x4fa671<_0x893b3;},'xuBuY':function(_0x2b6cc7,_0x4efcfa){return _0x2b6cc7>=_0x4efcfa;},'HyyLV':_0x5bb46e(0x140),'ugVPW':_0x5bb46e(0x108),'kRpkG':function(_0x4aa1c9){return _0x4aa1c9();}},_0x2db81f=PerformanceTester[_0x5bb46e(0x18c)](_0xe789d8[_0x5bb46e(0x138)],async()=>{const _0x392d8e=_0x5bb46e;try{const _0x364c82=new Date(),_0x1b3c65=helper[_0x392d8e(0x1ef)](this[_0x392d8e(0x18b)]),_0x3f6e1b=_0xe789d8[_0x392d8e(0x181)](require,path[_0x392d8e(0x187)](__dirname,_0xe789d8[_0x392d8e(0x1a5)])),_0x4ab1f0=_0xe789d8[_0x392d8e(0x14d)](timeoutPromise,constants['TCG_AUTH_TIMEOUT'],_0xe789d8[_0x392d8e(0x150)],_0xe789d8[_0x392d8e(0x135)],_0x364c82,this[_0x392d8e(0x18b)],this[_0x392d8e(0x1a6)]),_0x5bb1fb={'tcgUrl':constants['TCG_URL'],'sdkVersion':_0xe789d8['JeTMm'](require,_0xe789d8[_0x392d8e(0x19e)])[_0x392d8e(0x151)],'methodUsed':_0xe789d8[_0x392d8e(0x143)],'proxyConfig':_0x1b3c65,'os':os[_0x392d8e(0xf2)]()};if(_0x1b3c65&&_0x1b3c65[_0x392d8e(0x1e5)]){utilities['fireFunnelTestEvent'](constants[_0x392d8e(0x1d6)],_0x5bb1fb,this[_0x392d8e(0x18b)],this['framework']);return;}const _0x175262={};_0x175262[_0x392d8e(0x1a2)]=_0x1b3c65;const _0x2cafed=await Promise['race']([_0x3f6e1b[_0x392d8e(0x10a)](this['config'][_0x392d8e(0x1c0)],this[_0x392d8e(0x18b)]['userName'],constants[_0x392d8e(0x169)],_0xe789d8[_0x392d8e(0x181)](require,_0xe789d8[_0x392d8e(0x19e)])[_0x392d8e(0x151)],_0x175262)['then'](_0x1bf72a=>{return _0x4ab1f0['cancel'](),_0x1bf72a;}),_0x4ab1f0]);_0x2cafed['isHealingEnabled']=_0xe789d8['qnbGb'](_0x2cafed['isHealingEnabled'],_0xe789d8[_0x392d8e(0x1e8)])||_0xe789d8[_0x392d8e(0xf6)](_0x2cafed[_0x392d8e(0x10b)],!![]);const _0x67fafa=_0xe789d8[_0x392d8e(0xf6)](this[_0x392d8e(0x18b)][_0x392d8e(0x10e)],!![])||_0xe789d8[_0x392d8e(0x17b)](this['config'][_0x392d8e(0x10e)],_0xe789d8['nXqdO']);if(_0xe789d8['JIMJU'](_0x2cafed[_0x392d8e(0x160)],constants[_0x392d8e(0x1bf)])&&_0x67fafa)logger['info'](_0xe789d8['jtdPu']);else{if(!_0x2cafed['isAuthenticated']&&_0xe789d8[_0x392d8e(0x18e)](_0x2cafed[_0x392d8e(0x1eb)],0x1f7)&&_0x67fafa)logger[_0x392d8e(0x134)](_0xe789d8[_0x392d8e(0x1dc)]),utilities[_0x392d8e(0x1b1)](constants[_0x392d8e(0x1bd)],_0x5bb1fb,this[_0x392d8e(0x18b)],this[_0x392d8e(0x1a6)]);else{if(!_0x2cafed['isAuthenticated']&&_0x67fafa){logger[_0x392d8e(0x134)](_0xe789d8['fTvBF']);const _0x3ac5ac={'tcgUrl':constants[_0x392d8e(0x169)],'sdkVersion':_0xe789d8[_0x392d8e(0x181)](require,_0xe789d8['IIpBN'])[_0x392d8e(0x151)],'methodUsed':_0xe789d8[_0x392d8e(0x143)],'proxyConfig':_0x1b3c65,'os':os[_0x392d8e(0xf2)]()};utilities[_0x392d8e(0x1b1)](constants[_0x392d8e(0x13a)],_0x3ac5ac,this[_0x392d8e(0x18b)],this[_0x392d8e(0x1a6)]);}else{if(_0x2cafed[_0x392d8e(0xef)]&&!_0x2cafed[_0x392d8e(0x10b)]&&_0x67fafa)logger[_0x392d8e(0x134)](_0xe789d8['QWTRi']);else{if(_0xe789d8['moGre'](_0x2cafed[_0x392d8e(0x1eb)],0xc8)&&_0xe789d8[_0x392d8e(0x1f1)](_0x2cafed[_0x392d8e(0x1eb)],0x12c))utilities['fireFunnelTestEvent'](constants[_0x392d8e(0x14e)],_0x5bb1fb,this[_0x392d8e(0x18b)],this[_0x392d8e(0x1a6)]);else{if(_0xe789d8[_0x392d8e(0x132)](_0x2cafed[_0x392d8e(0x1eb)],0x190))_0x5bb1fb[_0x392d8e(0x1eb)]=_0x2cafed[_0x392d8e(0x1eb)],utilities['fireFunnelTestEvent'](constants[_0x392d8e(0x1b3)],_0x5bb1fb,this[_0x392d8e(0x18b)],this[_0x392d8e(0x1a6)]);else!_0x2cafed[_0x392d8e(0x1eb)]&&utilities[_0x392d8e(0x1b1)](constants[_0x392d8e(0x14a)],_0x5bb1fb,this[_0x392d8e(0x18b)],this[_0x392d8e(0x1a6)]);}}}}}if(_0x2cafed[_0x392d8e(0xef)]&&_0x2cafed[_0x392d8e(0x10b)]){const _0x3bede7={};_0x3bede7[_0x392d8e(0x1a3)]=_0x2cafed;const _0x55e82e=_0x3bede7;_0x1b3c65&&(_0x55e82e[_0x392d8e(0x116)]=_0x1b3c65),_0x55e82e['framework']=this[_0x392d8e(0x1a6)],_0x55e82e[_0x392d8e(0x14f)]=this[_0x392d8e(0x18b)],helper[_0x392d8e(0x1c8)](_0x55e82e),logger[_0x392d8e(0x1cd)](_0xe789d8[_0x392d8e(0x1a0)]);}}catch(_0x4dea42){logger['debug'](_0x392d8e(0x161)+(_0x4dea42['message']?_0x4dea42[_0x392d8e(0x160)]:''));}});await _0xe789d8['kRpkG'](_0x2db81f);}[a93_0x3c0da8(0x1a7)](){const _0x5555d2=a93_0x3c0da8,_0x5461a8={'HjKvY':function(_0x21d4c2,_0x21b3c2){return _0x21d4c2(_0x21b3c2);},'oyjjv':_0x5555d2(0x170)};_0x5461a8['HjKvY'](require,_0x5461a8[_0x5555d2(0x1ae)])();}[a93_0x3c0da8(0x125)](){const _0x3247fb=a93_0x3c0da8,_0x26dde9={};_0x26dde9[_0x3247fb(0x190)]=_0x3247fb(0x157),_0x26dde9[_0x3247fb(0x178)]=_0x3247fb(0x13e),_0x26dde9['WUgBe']='uncaughtException';const _0x5b244a=_0x26dde9,_0x2e2fc2=_0x367cca=>{const _0x161050=_0x3247fb,_0x252a27=_0x5b244a[_0x161050(0x190)][_0x161050(0xfe)]('|');let _0x4fd8d7=0x0;while(!![]){switch(_0x252a27[_0x4fd8d7++]){case'0':ClientTroubleShootingService['reportFinalDetectionState']();continue;case'1':PerformanceTester[_0x161050(0x16c)](_0x367cca);continue;case'2':logger[_0x161050(0x1cd)](util[_0x161050(0x19b)](_0x367cca));continue;case'3':logger[_0x161050(0x175)](_0x367cca[_0x161050(0x160)]);continue;case'4':this['unhandledErrors'][_0x161050(0x199)](util[_0x161050(0x19b)]('%j',_0x367cca));continue;}break;}};process['on'](_0x5b244a[_0x3247fb(0x178)],_0x2e2fc2),process['on'](_0x5b244a[_0x3247fb(0x19c)],_0x2e2fc2);}async['intExitHandler'](_0x43c757){const _0x179c4e=a93_0x3c0da8,_0x563660={};_0x563660['zrCCt']=_0x179c4e(0x144),_0x563660[_0x179c4e(0x128)]=function(_0x1c3c45,_0x2678cd){return _0x1c3c45+_0x2678cd;},_0x563660[_0x179c4e(0x11c)]=_0x179c4e(0x139),_0x563660[_0x179c4e(0xfb)]=function(_0x1a3cb6,_0x12c66b){return _0x1a3cb6+_0x12c66b;},_0x563660[_0x179c4e(0x1ab)]='Shutdown\x20triggered\x20by\x20';const _0x83805a=_0x563660,_0x139935=_0x83805a[_0x179c4e(0x12a)][_0x179c4e(0xfe)]('|');let _0x346cc3=0x0;while(!![]){switch(_0x139935[_0x346cc3++]){case'0':await BrowserstackCLI[_0x179c4e(0x118)]()['stop']();continue;case'1':await TestHubHandler['stop'](_0x43c757);continue;case'2':await ClientTroubleShootingService['reportFinalDetectionState']();continue;case'3':this[_0x83805a[_0x179c4e(0x128)](_0x83805a[_0x179c4e(0x11c)],_0x43c757)]=!![];continue;case'4':logger[_0x179c4e(0x134)](_0x83805a[_0x179c4e(0xfb)](_0x83805a[_0x179c4e(0x1ab)],_0x43c757));continue;case'5':if(this[_0x83805a[_0x179c4e(0x128)](_0x83805a['TYPkC'],_0x43c757)])return;continue;case'6':this[_0x179c4e(0x145)]=_0x43c757;continue;case'7':await ClientTroubleShootingService[_0x179c4e(0x1cc)](_0x43c757);continue;}break;}}[a93_0x3c0da8(0x1b0)](){const _0x37db5b=a93_0x3c0da8,_0x4a33dd={'BMLqc':function(_0x5b7459,_0x586f8f){return _0x5b7459===_0x586f8f;},'LjXpT':_0x37db5b(0x164),'jMmNh':function(_0x1630cf,_0x534beb){return _0x1630cf>_0x534beb;},'OdDji':function(_0x4d179a,_0x16bbe4){return _0x4d179a(_0x16bbe4);},'IySsX':function(_0x5328b0){return _0x5328b0();},'JSwCv':_0x37db5b(0xf4)};let _0x3d1db4=0x0;return async()=>{const _0x3e2e0f=_0x37db5b;_0x3d1db4++;if(_0x4a33dd[_0x3e2e0f(0x1a8)](_0x3d1db4,0x1)){helper[_0x3e2e0f(0x1ca)](this[_0x3e2e0f(0x1a6)])&&await this['stopBrowserstackLocal']();try{logger[_0x3e2e0f(0x1cd)](_0x4a33dd[_0x3e2e0f(0x1c7)]),await TestHubHandler['stop'](_0x3d1db4),await ClientTroubleShootingService[_0x3e2e0f(0x1db)](),await BrowserstackCLI[_0x3e2e0f(0x118)]()[_0x3e2e0f(0x16b)]('1');}catch(_0x5e72df){logger[_0x3e2e0f(0x1cd)](_0x3e2e0f(0x1ec)+util[_0x3e2e0f(0x19b)](_0x5e72df));}PerformanceTester['end'](PerformanceEvents['SDK_CLEANUP']);if(PerformanceTester[_0x3e2e0f(0x174)]()){const {measures:_0x50db58,errors:_0xd65478}=await PerformanceTester['finalize'](),_0x1f33a8={};if(_0x50db58&&_0x4a33dd[_0x3e2e0f(0x16e)](_0x50db58['length'],0x0)||_0xd65478&&_0x4a33dd[_0x3e2e0f(0x16e)](_0xd65478['length'],0x0)){const _0x28dd74={};_0x28dd74['measures']=_0x50db58,_0x28dd74[_0x3e2e0f(0x133)]=_0xd65478,Object['assign'](_0x1f33a8,_0x28dd74);}try{const _0x4b6118=await helper[_0x3e2e0f(0x12d)](_0x1f33a8,this[_0x3e2e0f(0x18b)]);logger[_0x3e2e0f(0x1cd)](_0x3e2e0f(0x15d)+_0x4a33dd[_0x3e2e0f(0x165)](getEdsInstrumentationAPIUrl,'')+'\x20with\x20response\x20'+_0x4b6118['statusCode']);}catch(_0x2d065a){logger['debug'](_0x3e2e0f(0x131)+_0x4a33dd[_0x3e2e0f(0x165)](getEdsInstrumentationAPIUrl,'')+_0x3e2e0f(0x1de)+util[_0x3e2e0f(0x19b)](_0x2d065a));}try{fs[_0x3e2e0f(0x162)](path[_0x3e2e0f(0x187)](_0x4a33dd[_0x3e2e0f(0x1c1)](getLogDir),_0x4a33dd['JSwCv']),JSON[_0x3e2e0f(0x1b4)](_0x1f33a8));}catch(_0x458e36){logger['debug'](_0x3e2e0f(0x16f)+_0x458e36);}}}logger&&logger['close'](),fileLogger&&fileLogger[_0x3e2e0f(0x19f)]();};}}exports[a93_0x3c0da8(0x18a)]=BrowserStackSetup;