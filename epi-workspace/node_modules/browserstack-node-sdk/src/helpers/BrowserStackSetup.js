const a85_0x5d12dd=a85_0x66e9;(function(_0x35b459,_0x53d410){const _0x8296f6=a85_0x66e9,_0x3e772b=_0x35b459();while(!![]){try{const _0x43e338=parseInt(_0x8296f6(0x28d))/0x1+-parseInt(_0x8296f6(0x24b))/0x2*(parseInt(_0x8296f6(0x1e1))/0x3)+parseInt(_0x8296f6(0x2a2))/0x4*(parseInt(_0x8296f6(0x297))/0x5)+-parseInt(_0x8296f6(0x259))/0x6+parseInt(_0x8296f6(0x288))/0x7+parseInt(_0x8296f6(0x2cb))/0x8+parseInt(_0x8296f6(0x1da))/0x9*(-parseInt(_0x8296f6(0x287))/0xa);if(_0x43e338===_0x53d410)break;else _0x3e772b['push'](_0x3e772b['shift']());}catch(_0x4dd9cf){_0x3e772b['push'](_0x3e772b['shift']());}}}(a85_0x2439,0xcf5b9));const util=require('util'),os=require('os'),path=require(a85_0x5d12dd(0x2e1)),{v4:uuidv4}=require('uuid'),fs=require('fs'),constants=require(a85_0x5d12dd(0x29c)),logger=require(a85_0x5d12dd(0x270))[a85_0x5d12dd(0x2b7)],fileLogger=require(a85_0x5d12dd(0x270))[a85_0x5d12dd(0x1e4)],{getLogDir}=require('./logger'),helper=require(a85_0x5d12dd(0x28a)),utilities=require(a85_0x5d12dd(0x2b2)),percyHelper=require('./percy/utils'),hubAllocator=require(a85_0x5d12dd(0x223)),PerformanceTester=require(a85_0x5d12dd(0x2d9)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require(a85_0x5d12dd(0x22d)),{setPercyFlag}=require(a85_0x5d12dd(0x2b4)),TestHubHandler=require(a85_0x5d12dd(0x28f)),timeoutPromise=require(a85_0x5d12dd(0x285)),BrowserstackCLI=require(a85_0x5d12dd(0x21b));function a85_0x2439(){const _0x39615b=['debug','unhandledRejection','isBrowserstackInfra','./timeoutPromise','CtgBt','10MpmvZb','4490157LOAZQp','viTyE','./helper','jpHmx','measures','244029wnFJAJ','sanitizeCaps','./testhub/testhubHandler','gYbQm','sendToEDS','default','HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20','accwS','setupTcgConfigFile','RYlXX','5HFrGjI','getPackageVersion','OtICx','qmgAy','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','../bin/utils/constants','hwFjl','isUndefined','skipBinaryInitialisation','TCG_AUTH_TIMEOUT','SDKTestAttempted','6649596ccKKoA','iicKt','browserstackLocal','dzxwd','Failed\x20to\x20send\x20data\x20to\x20','AczHp','turboScaleGridDetails','oLsxg','uncaughtException','dQtoY','percy','statusCode','setHandlePWError','join','FRAMEWORK','../../package.json','./utilities','UigTr','./testhub/utils','BrowserstackHealingInitFailed','MTpGT','winstonLogger','handleExceptions','message','setupKeepAlive','lcHpS','Data\x20sent\x20successfully\x20to\x20','status','FRHsy','EgsRt','BrowserstackHealing.init','intExitHandler','mwmGG','THdPa','getProxyConfigForTcg','version','cancel','stop','./setKeepAlive','xRSlm','bstackConfig','12560808CQBYXZ','yNCIa','setupBrowserstackLocal','platform','stopPercy','WfXPY','url','Error\x20in\x20sending\x20testhub\x20stop:\x20','\x20with\x20error\x20','setEnvCaps','SIGINT','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','getLocalIdentifier','setLogDir','./performance/performance-tester','compareVersions','TCG_URL','getCentralUser','IghSW','getFinalCaps','killSignal','length','path','BrowserstackHealing.init\x20method\x20timed\x20out','turboScaleOptions','kAuZy','proxy','22286763wrUfjy','preInitialize','sdkRunId','BROWSERSTACK_TURBOSCALE','localIdentifier','accessKey','AI_PROXY_FAILURE','129JkZHPM','turboScale','eFPxp','fileLogger','lnrnT','KWvgi','Local\x20binary\x20stopped','MhmPe','normalizeTestReportingEnvVars','Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled','setBrowserstackInfraFromConfig','isTrue','constructor','4|13|5|9|14|17|10|20|16|0|18|2|1|11|22|8|7|6|19|3|21|15|12','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','close','nAdLr','isAuthenticated','NcjXK','customRepeaters','gvldn','wgYCJ','rGyQy','TCG_AUTH_FAILURE','uPjYo','hubUrl','writeFileSync','exceptions','useW3C','ckxDg','vOZgc','xbGSA','false','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','isTurboScaleSession','race','../ai-sdk-node/bundle','stringify','parallelsPerPlatform','selfHeal','gxxzg','BROWSERSTACK_PERCY','startPercy','setLogLevel','beforeExit','allocateHub','setCLICaps','proxyUrl','pWJoV','includes','EDS_URL','UjrRK','playwrightUrl','selenium-webdriver','INVALID_INIT_RESP_WITH_USER_IMPACT','win32','measureWrapper','Error\x20in\x20percy\x20setup\x20','../bin/v2/browserstackCLI','efnPa','end','setUpHubUrl','isRunning','UPGRADE_REQUIRED','turboScaleUrl','zBVCp','../hubAllocationMethods','AI_INIT_FAILURE','getHubUrl','testContextOptions','SKWNu','exitHandler','startMonitoring','SIGBREAK','loYiR','oAxpS','./performance/constants','framework','captureError','format','Calling\x20Build\x20Stop\x20from\x20ExitHandler','?caps=','getConfigPath','env','SDK\x20run\x20started\x20with\x20id:\x20','then','requireSeleniumWebdriverCheck','forceLocal','YzgCE','VcApG','error','aiHeal:tcgAuth','QEAFZ','codeceptjs','info','HUB_MANAGEMENT','playwright','envConfig','readConfig','jKYOp','browserStackLocalOptions','handled','cFoym','eoGTn','skipSessionStatus','init','846ZOmVrc','bind','TCG_DOWN','isHealingEnabled','initialize','tFdMd','BUzHM','Local\x20binary\x20started\x20successfully','dsrtT','Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','MgBOJ','UFIfQ','setupTCGAuth','config','4644882bgYsAx','parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','getInstance','platforms','TLGuM','JFBAL','eFwzd','Orkbb','getLocalConfig','fireFunnelTestEvent','split','Error\x20occured\x20while\x20stopping\x20percy','lnLsf','SIGQUIT','Shutdown\x20triggered\x20by\x20','oIKLI','isEnabled','Percy\x20started\x20successfully','skipSessionName','assign','nJBZT','generateLocalIdentifier','\x20with\x20response\x20','./logger','juZVM','errorMessage','Error\x20in\x20writing\x20events\x20to\x20file\x20','Percy\x20stopped','unhandledErrors','stopBrowserstackLocal','mloIa','getTurboScaleGridDetails','toLowerCase','egnTS','proxyConfig','toString','qijnL','ECPXe','central_scanner','cliConfig','true'];a85_0x2439=function(){return _0x39615b;};return a85_0x2439();}function a85_0x66e9(_0x2b46cc,_0x3a6cf9){const _0x24396c=a85_0x2439();return a85_0x66e9=function(_0x66e904,_0x27f2be){_0x66e904=_0x66e904-0x1d8;let _0x50e221=_0x24396c[_0x66e904];return _0x50e221;},a85_0x66e9(_0x2b46cc,_0x3a6cf9);}class BrowserStackSetup{constructor(_0x4987cc,_0x2feba5){const _0x34f929=a85_0x5d12dd,_0x494ad2={'UFyOl':_0x34f929(0x1ee),'hwFjl':'No\x20config\x20provided.','jKYOp':function(_0x3385a4){return _0x3385a4();}},_0x488f17=_0x494ad2['UFyOl'][_0x34f929(0x263)]('|');let _0x1e10c4=0x0;while(!![]){switch(_0x488f17[_0x1e10c4++]){case'0':this[_0x34f929(0x272)]={};continue;case'1':global[_0x34f929(0x22e)]=_0x2feba5;continue;case'2':this['framework']=_0x2feba5;continue;case'3':helper[_0x34f929(0x2de)](this['config'],this['cliConfig'],this[_0x34f929(0x242)]);continue;case'4':this[_0x34f929(0x275)]=[];continue;case'5':this[_0x34f929(0x242)]=helper[_0x34f929(0x2d4)]();continue;case'6':this[_0x34f929(0x258)][_0x34f929(0x226)][_0x34f929(0x249)]=!helper[_0x34f929(0x284)]()||helper['isTrue'](this['config'][_0x34f929(0x226)]['skipSessionStatus']);continue;case'7':helper['setCredentialsFromYmlConfig'](this[_0x34f929(0x258)]);continue;case'8':helper[_0x34f929(0x1eb)](this[_0x34f929(0x258)],this[_0x34f929(0x280)]);continue;case'9':this[_0x34f929(0x2a4)]=null;continue;case'10':this['cliConfig']=helper[_0x34f929(0x20f)](_0x4987cc);continue;case'11':if(helper[_0x34f929(0x29e)](this['config']))throw new Error(_0x494ad2[_0x34f929(0x29d)]);continue;case'12':PerformanceTester[_0x34f929(0x229)]();continue;case'13':helper[_0x34f929(0x1e9)]();continue;case'14':this[_0x34f929(0x2ac)]=null;continue;case'15':helper[_0x34f929(0x20c)](this[_0x34f929(0x258)],this[_0x34f929(0x280)],this[_0x34f929(0x242)]);continue;case'16':this[_0x34f929(0x258)][_0x34f929(0x226)]=this[_0x34f929(0x258)]['testContextOptions']||{};continue;case'17':this['config']=helper[_0x34f929(0x243)](helper[_0x34f929(0x233)](_0x4987cc));continue;case'18':this[_0x34f929(0x1dc)]=_0x494ad2[_0x34f929(0x244)](uuidv4);continue;case'19':this[_0x34f929(0x258)][_0x34f929(0x226)][_0x34f929(0x26b)]=!helper[_0x34f929(0x284)]()||helper['isTrue'](this[_0x34f929(0x258)][_0x34f929(0x226)]['skipSessionName']);continue;case'20':this['config'][_0x34f929(0x25c)]=this[_0x34f929(0x258)]['platforms']||[];continue;case'21':helper[_0x34f929(0x2d8)](this[_0x34f929(0x258)]);continue;case'22':if(this[_0x34f929(0x258)][_0x34f929(0x23b)])throw new Error(this['config'][_0x34f929(0x23b)]);continue;}break;}}[a85_0x5d12dd(0x1db)](_0x297b2b){const _0x10ba8d=a85_0x5d12dd,_0x105ffd={'maere':'userName\x20or\x20accessKey\x20is\x20not\x20defined','yNCIa':function(_0x3bd133,_0xe68081){return _0x3bd133===_0xe68081;},'eoGTn':'integrations','WfXPY':_0x10ba8d(0x2a1),'mloIa':function(_0x2df83a,_0x577858){return _0x2df83a<_0x577858;},'lnLsf':function(_0x1cdbcc,_0x1d920d){return _0x1cdbcc(_0x1d920d);},'efnPa':_0x10ba8d(0x216),'cFoym':function(_0x267cc6,_0x426596){return _0x267cc6===_0x426596;},'YzgCE':'4.5.0','MhmPe':_0x10ba8d(0x1ef),'dsdpm':_0x10ba8d(0x25a),'viTyE':'SIGTERM','BUzHM':_0x10ba8d(0x2d5),'THdPa':'SIGHUP','oAxpS':function(_0x21b5d4,_0x5458dd){return _0x21b5d4!==_0x5458dd;},'VuwxN':_0x10ba8d(0x218),'WmVmM':'SIGABRT','OtICx':_0x10ba8d(0x266),'dsrtT':_0x10ba8d(0x22a),'xRSlm':_0x10ba8d(0x20d)},_0x2aba59=this[_0x10ba8d(0x22e)];global[_0x10ba8d(0x258)]=this[_0x10ba8d(0x258)],helper[_0x10ba8d(0x28e)](this['config']),this[_0x10ba8d(0x2df)]=null,global[_0x10ba8d(0x1dc)]=this['sdkRunId'],logger['info'](_0x10ba8d(0x235)+this[_0x10ba8d(0x1dc)]),!this[_0x10ba8d(0x258)][_0x10ba8d(0x245)]&&(this[_0x10ba8d(0x258)][_0x10ba8d(0x245)]=this[_0x10ba8d(0x258)]['localOptions']||{});if(helper[_0x10ba8d(0x29e)](helper['getUserName'](this[_0x10ba8d(0x258)]))||helper[_0x10ba8d(0x29e)](helper['getAccessKey'](this[_0x10ba8d(0x258)])))throw new Error(_0x105ffd['maere']);helper[_0x10ba8d(0x261)](this[_0x10ba8d(0x258)])&&helper[_0x10ba8d(0x29e)](helper[_0x10ba8d(0x2d7)](this['config']))&&(!helper[_0x10ba8d(0x29e)](this[_0x10ba8d(0x258)][_0x10ba8d(0x245)])&&_0x105ffd[_0x10ba8d(0x2cc)](this[_0x10ba8d(0x258)][_0x10ba8d(0x245)][_0x10ba8d(0x1ed)],Object)?!helper[_0x10ba8d(0x1ec)](this[_0x10ba8d(0x258)][_0x10ba8d(0x245)][_0x10ba8d(0x29f)])&&(this[_0x10ba8d(0x258)]['browserStackLocalOptions'][_0x10ba8d(0x1de)]=helper[_0x10ba8d(0x26e)]()):this['config'][_0x10ba8d(0x245)]={'localIdentifier':helper['generateLocalIdentifier']()});this[_0x10ba8d(0x258)][_0x10ba8d(0x245)][_0x10ba8d(0x29f)]=helper[_0x10ba8d(0x1ec)](this[_0x10ba8d(0x258)][_0x10ba8d(0x245)][_0x10ba8d(0x29f)]),helper[_0x10ba8d(0x2ae)](this[_0x10ba8d(0x258)]);if(_0x105ffd[_0x10ba8d(0x2cc)](_0x2aba59,_0x105ffd[_0x10ba8d(0x248)]))return;this['handleExceptions']();process['env']['BROWSERSTACK_TURBOSCALE']&&(this[_0x10ba8d(0x258)][_0x10ba8d(0x1e2)]=helper[_0x10ba8d(0x1ec)](process[_0x10ba8d(0x234)][_0x10ba8d(0x1dd)]),this[_0x10ba8d(0x258)][_0x10ba8d(0x2e3)]=this['config'][_0x10ba8d(0x2e3)]||{});helper[_0x10ba8d(0x203)](this[_0x10ba8d(0x258)])&&(process[_0x10ba8d(0x234)][_0x10ba8d(0x1dd)]=!![]);if(!helper[_0x10ba8d(0x284)]()){try{process[_0x10ba8d(0x234)][_0x10ba8d(0x2b0)]=_0x2aba59,utilities[_0x10ba8d(0x262)](_0x105ffd[_0x10ba8d(0x2d0)],{},this[_0x10ba8d(0x258)],this[_0x10ba8d(0x22e)]);}catch(_0x41aa9a){logger['debug']('Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20'+_0x41aa9a);}return;}if(helper[_0x10ba8d(0x237)](_0x2aba59)){if(global['__isPlaywrightInstalled'])return;_0x105ffd[_0x10ba8d(0x277)](_0x105ffd[_0x10ba8d(0x265)](parseInt,helper[_0x10ba8d(0x298)](_0x105ffd[_0x10ba8d(0x21c)])),0x3)&&(this[_0x10ba8d(0x258)][_0x10ba8d(0x1fd)]=![]),_0x105ffd[_0x10ba8d(0x247)](helper[_0x10ba8d(0x2da)](helper[_0x10ba8d(0x298)](_0x105ffd[_0x10ba8d(0x21c)]),_0x105ffd[_0x10ba8d(0x239)]),0x1)&&(this[_0x10ba8d(0x258)][_0x10ba8d(0x1fd)]=!![]);}(helper['isUndefined'](this['config']['platforms'])||helper[_0x10ba8d(0x29e)](this[_0x10ba8d(0x258)][_0x10ba8d(0x25c)][_0x10ba8d(0x2e0)]))&&(helper[_0x10ba8d(0x29e)](this[_0x10ba8d(0x258)][_0x10ba8d(0x207)])?logger[_0x10ba8d(0x23f)](_0x105ffd[_0x10ba8d(0x1e8)]):logger['warn'](_0x105ffd['dsdpm']),this['config']['platforms']=[]);!this[_0x10ba8d(0x258)][_0x10ba8d(0x226)]&&(this[_0x10ba8d(0x258)]['testContextOptions']={});try{process[_0x10ba8d(0x234)][_0x10ba8d(0x2b0)]=_0x297b2b['_'][0x0],utilities[_0x10ba8d(0x262)](_0x105ffd[_0x10ba8d(0x2d0)],{},this[_0x10ba8d(0x258)],this['framework']);}catch(_0x256d75){logger[_0x10ba8d(0x282)](_0x10ba8d(0x2d6)+_0x256d75);}!this[_0x10ba8d(0x258)]['disableAutoCaptureLogs']&&logger[_0x10ba8d(0x23f)](constants['AUTOLOGCAPTURE_NOTIFICATION']),this[_0x10ba8d(0x2c1)]=this['intExitHandler'][_0x10ba8d(0x24c)](this),process['on'](_0x105ffd[_0x10ba8d(0x289)],this[_0x10ba8d(0x2c1)]),process['on'](_0x105ffd[_0x10ba8d(0x251)],this['intExitHandler']),process['on'](_0x105ffd[_0x10ba8d(0x2c3)],this[_0x10ba8d(0x2c1)]),_0x105ffd[_0x10ba8d(0x22c)](process['platform'],_0x105ffd['VuwxN'])?(process['on'](_0x105ffd['WmVmM'],this[_0x10ba8d(0x2c1)]),process['on'](_0x105ffd[_0x10ba8d(0x299)],this['intExitHandler'])):process['on'](_0x105ffd[_0x10ba8d(0x253)],this[_0x10ba8d(0x2c1)]),process['on'](_0x105ffd[_0x10ba8d(0x2c9)],this[_0x10ba8d(0x228)]());}async[a85_0x5d12dd(0x24f)](_0x1a5d0b){const _0x207655=a85_0x5d12dd,_0x1c0957={'lnrnT':'ats-repeater','CtgBt':'custom-repeater','pWJoV':_0x207655(0x281),'TLGuM':function(_0x4e232d,_0x254a1a){return _0x4e232d===_0x254a1a;},'iicKt':_0x207655(0x241),'dzxwd':function(_0x46fac9,_0x17e41b){return _0x46fac9+_0x17e41b;},'NcjXK':_0x207655(0x232),'SKWNu':function(_0x14ffe3,_0x3c857f){return _0x14ffe3(_0x3c857f);},'xbGSA':_0x207655(0x23e)};this[_0x207655(0x1db)](_0x1a5d0b);if(helper[_0x207655(0x203)](this[_0x207655(0x258)])){const _0x276861=await helper[_0x207655(0x278)](this['config']);this['config'][_0x207655(0x2a8)]=_0x276861,_0x276861['isTrialGrid']&&helper['isNotUndefined'](this['config'][_0x207655(0x2a4)])&&helper[_0x207655(0x1ec)](this['config']['browserstackLocal'])&&(this['config'][_0x207655(0x245)][_0x207655(0x1de)]=_0x1c0957[_0x207655(0x1e5)],this[_0x207655(0x258)][_0x207655(0x245)][_0x1c0957[_0x207655(0x286)]]=_0x276861[_0x207655(0x1f4)][_0x207655(0x2af)](','),this[_0x207655(0x258)]['browserStackLocalOptions'][_0x207655(0x238)]=_0x1c0957[_0x207655(0x211)]),this['config'][_0x207655(0x221)]=_0x276861[_0x207655(0x2d1)],this[_0x207655(0x22e)]&&_0x1c0957[_0x207655(0x25d)](this[_0x207655(0x22e)][_0x207655(0x279)](),_0x1c0957[_0x207655(0x2a3)])?this[_0x207655(0x258)][_0x207655(0x221)]=_0x1c0957[_0x207655(0x2a5)](_0x276861[_0x207655(0x215)],_0x1c0957[_0x207655(0x1f3)]):constants[_0x207655(0x1fa)]=helper[_0x207655(0x225)](this[_0x207655(0x258)]),logger[_0x207655(0x282)](_0x207655(0x293)+constants[_0x207655(0x1fa)]);}helper['setProxySettings'](this[_0x207655(0x258)]),this[_0x207655(0x2ba)](),_0x1c0957[_0x207655(0x227)](setPercyFlag,this),await this[_0x207655(0x2cd)](),![_0x1c0957[_0x207655(0x200)],_0x1c0957['iicKt']][_0x207655(0x212)](this['framework'])&&!helper['isTurboScaleSession'](this[_0x207655(0x258)])&&!helper[_0x207655(0x2dc)]()[_0x207655(0x27f)]&&await this[_0x207655(0x21e)]();}async['setupPercy'](){const _0x348cbd=a85_0x5d12dd,_0x7c31d0={};_0x7c31d0[_0x348cbd(0x2a9)]=function(_0x57b084,_0x4c479e){return _0x57b084===_0x4c479e;},_0x7c31d0['Orkbb']=_0x348cbd(0x201),_0x7c31d0[_0x348cbd(0x214)]='Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.',_0x7c31d0['zBVCp']=_0x348cbd(0x26a),_0x7c31d0[_0x348cbd(0x1ff)]=_0x348cbd(0x281),_0x7c31d0[_0x348cbd(0x1e6)]=_0x348cbd(0x20d);const _0x32fd3b=_0x7c31d0;if(helper[_0x348cbd(0x1ec)](this[_0x348cbd(0x258)]['percy'])&&(!this[_0x348cbd(0x2ac)]||!this[_0x348cbd(0x2ac)][_0x348cbd(0x21f)]()))try{this[_0x348cbd(0x2ac)]=await percyHelper[_0x348cbd(0x20b)](this[_0x348cbd(0x258)]);if(!this['percy']){process[_0x348cbd(0x234)][_0x348cbd(0x20a)]=_0x32fd3b[_0x348cbd(0x260)];throw new Error(_0x32fd3b[_0x348cbd(0x214)]);}logger['info'](_0x32fd3b[_0x348cbd(0x222)]),process[_0x348cbd(0x234)][_0x348cbd(0x20a)]=_0x32fd3b[_0x348cbd(0x1ff)];let _0x3e0cf2=0x0;const _0x3ef5ec=async()=>{const _0x5ebd35=_0x348cbd;_0x3e0cf2++,_0x32fd3b['oLsxg'](_0x3e0cf2,0x1)&&await this[_0x5ebd35(0x2cf)]();};process['on'](_0x32fd3b[_0x348cbd(0x1e6)],_0x3ef5ec);}catch(_0x4fa71d){process[_0x348cbd(0x234)][_0x348cbd(0x20a)]=_0x32fd3b['Orkbb'],logger[_0x348cbd(0x282)](_0x348cbd(0x21a)+_0x4fa71d);throw new Error(_0x4fa71d['toString']());}}async['stopPercy'](){const _0x6b75e=a85_0x5d12dd,_0x2e90bd={};_0x2e90bd[_0x6b75e(0x1e3)]=_0x6b75e(0x274),_0x2e90bd[_0x6b75e(0x2bb)]=_0x6b75e(0x264);const _0x3b510f=_0x2e90bd;if(this[_0x6b75e(0x2ac)]&&this[_0x6b75e(0x2ac)][_0x6b75e(0x21f)]())try{await percyHelper[_0x6b75e(0x2cf)](this[_0x6b75e(0x2ac)]),logger['info'](_0x3b510f[_0x6b75e(0x1e3)]);}catch(_0x1c74ad){logger['error'](_0x3b510f[_0x6b75e(0x2bb)],_0x1c74ad[_0x6b75e(0x2b9)]);}}async['setupBrowserstackLocal'](){const _0x18d589=a85_0x5d12dd,_0x2b9700={};_0x2b9700[_0x18d589(0x27a)]=_0x18d589(0x1ea),_0x2b9700[_0x18d589(0x1f6)]=_0x18d589(0x252);const _0x497a13=_0x2b9700;if(helper[_0x18d589(0x284)]()&&helper[_0x18d589(0x1ec)](this['config'][_0x18d589(0x2a4)])&&(!this[_0x18d589(0x2a4)]||!this['browserstackLocal'][_0x18d589(0x21f)]()))try{if(this[_0x18d589(0x258)][_0x18d589(0x245)][_0x18d589(0x29f)]){logger[_0x18d589(0x282)](_0x497a13['egnTS']);return;}this[_0x18d589(0x2a4)]=await helper['startLocalBinary'](this[_0x18d589(0x258)]),logger[_0x18d589(0x23f)](_0x497a13[_0x18d589(0x1f6)]);}catch(_0x583534){logger['debug'](_0x583534);throw new Error(_0x583534[_0x18d589(0x27c)]());}}async[a85_0x5d12dd(0x276)](){const _0x1c8f6a=a85_0x5d12dd,_0x4c81a3={};_0x4c81a3[_0x1c8f6a(0x1d8)]=_0x1c8f6a(0x1e7),_0x4c81a3[_0x1c8f6a(0x255)]='Error\x20occured\x20while\x20stopping\x20local\x20binary';const _0x4e5ce5=_0x4c81a3;if(this[_0x1c8f6a(0x2a4)]&&this['browserstackLocal'][_0x1c8f6a(0x21f)]())try{await helper['stopLocalBinary'](this['browserstackLocal']),logger[_0x1c8f6a(0x23f)](_0x4e5ce5['kAuZy']);}catch(_0x5cafa6){logger[_0x1c8f6a(0x23b)](_0x4e5ce5[_0x1c8f6a(0x255)],_0x5cafa6[_0x1c8f6a(0x2b9)]);}}async[a85_0x5d12dd(0x21e)](){const _0x16fa3a=a85_0x5d12dd;return PerformanceTester[_0x16fa3a(0x219)](PerformanceAutEvents[_0x16fa3a(0x240)],async()=>{const _0x2e5e43=_0x16fa3a;await hubAllocator[_0x2e5e43(0x20e)](this[_0x2e5e43(0x258)]);})();}async[a85_0x5d12dd(0x257)](){const _0x395418=a85_0x5d12dd,_0x5bd826={'rGyQy':function(_0x8179e9,_0x35d740){return _0x8179e9(_0x35d740);},'WkFGS':_0x395418(0x205),'oIKLI':function(_0x48468b,_0x332a9a,_0x1acbf9,_0x1b89d3,_0x172563,_0x1b8700,_0x360037){return _0x48468b(_0x332a9a,_0x1acbf9,_0x1b89d3,_0x172563,_0x1b8700,_0x360037);},'dQtoY':_0x395418(0x2e2),'eEFfp':_0x395418(0x2b5),'jpHmx':function(_0x404b49,_0x3fe0b3){return _0x404b49(_0x3fe0b3);},'eFwzd':_0x395418(0x2b1),'EgsRt':_0x395418(0x2c0),'ECPXe':function(_0x3e93c9,_0x50a3ca){return _0x3e93c9(_0x50a3ca);},'MTpGT':function(_0x120b9a,_0x4d3a92){return _0x120b9a===_0x4d3a92;},'tFdMd':'true','qijnL':function(_0x1d0266,_0x134f7b){return _0x1d0266===_0x134f7b;},'FRHsy':function(_0x2834ee,_0x3f6bb9){return _0x2834ee===_0x3f6bb9;},'ckxDg':function(_0x197d2a,_0x22b73b){return _0x197d2a===_0x22b73b;},'ZIjfq':_0x395418(0x202),'zfxmi':'Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','cRCYI':_0x395418(0x254),'qmgAy':function(_0x504d9e,_0x2b0f95){return _0x504d9e(_0x2b0f95);},'UigTr':'Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','VcApG':function(_0x5c2028,_0x122957){return _0x5c2028>=_0x122957;},'plcuQ':function(_0x347d7c,_0x4722a4){return _0x347d7c<_0x4722a4;},'accwS':function(_0x45c859,_0x15c529){return _0x45c859>=_0x15c529;},'UFIfQ':'tcg\x20config\x20setup\x20successful.','loYiR':_0x395418(0x23c),'QEAFZ':function(_0x57a26a){return _0x57a26a();}},_0x1f8d81=PerformanceTester[_0x395418(0x219)](_0x5bd826[_0x395418(0x22b)],async()=>{const _0x1ffd12=_0x395418;try{const _0x528f9e=new Date(),_0x259d10=helper[_0x1ffd12(0x2c4)](this[_0x1ffd12(0x258)]),_0x31a6d2=_0x5bd826[_0x1ffd12(0x1f7)](require,path[_0x1ffd12(0x2af)](__dirname,_0x5bd826['WkFGS'])),_0x2ded66=_0x5bd826[_0x1ffd12(0x268)](timeoutPromise,constants[_0x1ffd12(0x2a0)],_0x5bd826[_0x1ffd12(0x2ab)],_0x5bd826['eEFfp'],_0x528f9e,this[_0x1ffd12(0x258)],this[_0x1ffd12(0x22e)]),_0x139715={'tcgUrl':constants[_0x1ffd12(0x2db)],'sdkVersion':_0x5bd826[_0x1ffd12(0x28b)](require,_0x5bd826[_0x1ffd12(0x25f)])['version'],'methodUsed':_0x5bd826[_0x1ffd12(0x2bf)],'proxyConfig':_0x259d10,'os':os['platform']()};if(_0x259d10&&_0x259d10[_0x1ffd12(0x210)]){utilities[_0x1ffd12(0x262)](constants[_0x1ffd12(0x1e0)],_0x139715,this[_0x1ffd12(0x258)],this[_0x1ffd12(0x22e)]);return;}const _0x46a357={};_0x46a357[_0x1ffd12(0x1d9)]=_0x259d10;const _0x57adce=await Promise[_0x1ffd12(0x204)]([_0x31a6d2[_0x1ffd12(0x24a)](this[_0x1ffd12(0x258)][_0x1ffd12(0x1df)],this['config']['userName'],constants['TCG_URL'],_0x5bd826[_0x1ffd12(0x27e)](require,_0x5bd826['eFwzd'])[_0x1ffd12(0x2c5)],_0x46a357)[_0x1ffd12(0x236)](_0x2b7e34=>{const _0x475689=_0x1ffd12;return _0x2ded66[_0x475689(0x2c6)](),_0x2b7e34;}),_0x2ded66]);_0x57adce[_0x1ffd12(0x24e)]=_0x5bd826['MTpGT'](_0x57adce['isHealingEnabled'],_0x5bd826[_0x1ffd12(0x250)])||_0x5bd826[_0x1ffd12(0x27d)](_0x57adce['isHealingEnabled'],!![]);const _0x25bb15=_0x5bd826[_0x1ffd12(0x2b6)](this[_0x1ffd12(0x258)][_0x1ffd12(0x208)],!![])||_0x5bd826[_0x1ffd12(0x2be)](this[_0x1ffd12(0x258)]['selfHeal'],_0x5bd826[_0x1ffd12(0x250)]);if(_0x5bd826[_0x1ffd12(0x1fe)](_0x57adce[_0x1ffd12(0x2b9)],constants[_0x1ffd12(0x220)])&&_0x25bb15)logger[_0x1ffd12(0x23f)](_0x5bd826['ZIjfq']);else{if(!_0x57adce[_0x1ffd12(0x1f2)]&&_0x5bd826[_0x1ffd12(0x2b6)](_0x57adce[_0x1ffd12(0x2bd)],0x1f7)&&_0x25bb15)logger[_0x1ffd12(0x23f)](_0x5bd826['zfxmi']),utilities[_0x1ffd12(0x262)](constants[_0x1ffd12(0x24d)],_0x139715,this[_0x1ffd12(0x258)],this[_0x1ffd12(0x22e)]);else{if(!_0x57adce['isAuthenticated']&&_0x25bb15){logger[_0x1ffd12(0x23f)](_0x5bd826['cRCYI']);const _0x5cbdb0={'tcgUrl':constants[_0x1ffd12(0x2db)],'sdkVersion':_0x5bd826[_0x1ffd12(0x29a)](require,_0x5bd826['eFwzd'])[_0x1ffd12(0x2c5)],'methodUsed':_0x5bd826['EgsRt'],'proxyConfig':_0x259d10,'os':os[_0x1ffd12(0x2ce)]()};utilities[_0x1ffd12(0x262)](constants[_0x1ffd12(0x1f8)],_0x5cbdb0,this['config'],this[_0x1ffd12(0x22e)]);}else{if(_0x57adce[_0x1ffd12(0x1f2)]&&!_0x57adce[_0x1ffd12(0x24e)]&&_0x25bb15)logger[_0x1ffd12(0x23f)](_0x5bd826[_0x1ffd12(0x2b3)]);else{if(_0x5bd826[_0x1ffd12(0x23a)](_0x57adce['status'],0xc8)&&_0x5bd826['plcuQ'](_0x57adce[_0x1ffd12(0x2bd)],0x12c))utilities[_0x1ffd12(0x262)](constants['AI_INIT_SUCCESSFUL'],_0x139715,this[_0x1ffd12(0x258)],this[_0x1ffd12(0x22e)]);else{if(_0x5bd826[_0x1ffd12(0x294)](_0x57adce[_0x1ffd12(0x2bd)],0x190))_0x139715[_0x1ffd12(0x2bd)]=_0x57adce[_0x1ffd12(0x2bd)],utilities[_0x1ffd12(0x262)](constants[_0x1ffd12(0x224)],_0x139715,this['config'],this[_0x1ffd12(0x22e)]);else!_0x57adce[_0x1ffd12(0x2bd)]&&utilities[_0x1ffd12(0x262)](constants[_0x1ffd12(0x217)],_0x139715,this['config'],this[_0x1ffd12(0x22e)]);}}}}}if(_0x57adce[_0x1ffd12(0x1f2)]&&_0x57adce[_0x1ffd12(0x24e)]){const _0x770c8a={};_0x770c8a['tcgAuthConfig']=_0x57adce;const _0x2bcdf9=_0x770c8a;_0x259d10&&(_0x2bcdf9[_0x1ffd12(0x27b)]=_0x259d10),_0x2bcdf9[_0x1ffd12(0x22e)]=this[_0x1ffd12(0x22e)],_0x2bcdf9[_0x1ffd12(0x2ca)]=this['config'],helper[_0x1ffd12(0x295)](_0x2bcdf9),logger[_0x1ffd12(0x282)](_0x5bd826[_0x1ffd12(0x256)]);}}catch(_0x4aeeb7){logger[_0x1ffd12(0x282)](_0x1ffd12(0x29b)+(_0x4aeeb7[_0x1ffd12(0x2b9)]?_0x4aeeb7[_0x1ffd12(0x2b9)]:''));}});await _0x5bd826[_0x395418(0x23d)](_0x1f8d81);}['setupKeepAlive'](){const _0x5b9d73=a85_0x5d12dd,_0x217ef5={'zDQcO':function(_0x27d501,_0x16cc2a){return _0x27d501(_0x16cc2a);},'RYlXX':_0x5b9d73(0x2c8)};_0x217ef5['zDQcO'](require,_0x217ef5[_0x5b9d73(0x296)])();}[a85_0x5d12dd(0x2b8)](){const _0x583e1e=a85_0x5d12dd,_0xf4d578={};_0xf4d578[_0x583e1e(0x2c2)]=_0x583e1e(0x283),_0xf4d578[_0x583e1e(0x209)]=_0x583e1e(0x2aa);const _0x5a63d9=_0xf4d578,_0x11315d=_0x3cde64=>{const _0x1c8e71=_0x583e1e;logger[_0x1c8e71(0x23b)](_0x3cde64[_0x1c8e71(0x2b9)]),logger[_0x1c8e71(0x282)](util[_0x1c8e71(0x230)](_0x3cde64)),this[_0x1c8e71(0x275)]['push'](util['format']('%j',_0x3cde64)),PerformanceTester[_0x1c8e71(0x22f)](_0x3cde64);};process['on'](_0x5a63d9['mwmGG'],_0x11315d),process['on'](_0x5a63d9[_0x583e1e(0x209)],_0x11315d);}async[a85_0x5d12dd(0x2c1)](_0x270241){const _0x31e2f3=a85_0x5d12dd,_0xccd2aa={};_0xccd2aa[_0x31e2f3(0x1f9)]='4|5|2|3|0|1',_0xccd2aa['gvldn']=function(_0x2e3a5b,_0x577a4b){return _0x2e3a5b+_0x577a4b;},_0xccd2aa[_0x31e2f3(0x25e)]=_0x31e2f3(0x267),_0xccd2aa[_0x31e2f3(0x2a7)]=_0x31e2f3(0x246),_0xccd2aa[_0x31e2f3(0x2dd)]=function(_0x409a6d,_0x2f1b1e){return _0x409a6d+_0x2f1b1e;};const _0x476eff=_0xccd2aa,_0x7feb78=_0x476eff['uPjYo']['split']('|');let _0x5dcfb3=0x0;while(!![]){switch(_0x7feb78[_0x5dcfb3++]){case'0':await TestHubHandler[_0x31e2f3(0x2c7)](_0x270241);continue;case'1':await BrowserstackCLI['getInstance']()['stop']();continue;case'2':logger['info'](_0x476eff['gvldn'](_0x476eff[_0x31e2f3(0x25e)],_0x270241));continue;case'3':this[_0x31e2f3(0x2df)]=_0x270241;continue;case'4':if(this[_0x476eff[_0x31e2f3(0x1f5)](_0x476eff[_0x31e2f3(0x2a7)],_0x270241)])return;continue;case'5':this[_0x476eff['IghSW'](_0x476eff['AczHp'],_0x270241)]=!![];continue;}break;}}['exitHandler'](){const _0x4c86f4=a85_0x5d12dd,_0x75a4e3={'nAdLr':function(_0x17727c,_0x21741c){return _0x17727c===_0x21741c;},'tTSMk':_0x4c86f4(0x231),'nJBZT':function(_0x39f153,_0x30b583){return _0x39f153>_0x30b583;},'juZVM':function(_0x28f250){return _0x28f250();},'gYbQm':'events.json'};let _0xee6cfb=0x0;return async()=>{const _0x4c383b=_0x4c86f4;_0xee6cfb++;if(_0x75a4e3[_0x4c383b(0x1f1)](_0xee6cfb,0x1)){helper['checkStopLocalBinaryOnExit'](this['framework'])&&await this[_0x4c383b(0x276)]();try{logger['debug'](_0x75a4e3['tTSMk']),await TestHubHandler[_0x4c383b(0x2c7)](_0xee6cfb),await BrowserstackCLI[_0x4c383b(0x25b)]()[_0x4c383b(0x2c7)]('1');}catch(_0x5c44d4){logger[_0x4c383b(0x282)](_0x4c383b(0x2d2)+util[_0x4c383b(0x230)](_0x5c44d4));}PerformanceTester[_0x4c383b(0x21d)](PerformanceEvents['SDK_CLEANUP']);if(PerformanceTester[_0x4c383b(0x269)]()){const {measures:_0x37af82,errors:_0x11ddd0}=await PerformanceTester['finalize'](),_0x36c369={};if(_0x37af82&&_0x75a4e3[_0x4c383b(0x26d)](_0x37af82[_0x4c383b(0x2e0)],0x0)||_0x11ddd0&&_0x75a4e3[_0x4c383b(0x26d)](_0x11ddd0[_0x4c383b(0x2e0)],0x0)){const _0x44b519={};_0x44b519[_0x4c383b(0x28c)]=_0x37af82,_0x44b519[_0x4c383b(0x1fc)]=_0x11ddd0,Object[_0x4c383b(0x26c)](_0x36c369,_0x44b519);}try{const _0x573cbf=await helper[_0x4c383b(0x291)](_0x36c369,this[_0x4c383b(0x258)]);logger[_0x4c383b(0x282)](_0x4c383b(0x2bc)+constants[_0x4c383b(0x213)]+_0x4c383b(0x26f)+_0x573cbf[_0x4c383b(0x2ad)]);}catch(_0x809cc8){logger[_0x4c383b(0x282)](_0x4c383b(0x2a6)+constants[_0x4c383b(0x213)]+_0x4c383b(0x2d3)+util[_0x4c383b(0x230)](_0x809cc8));}try{fs[_0x4c383b(0x1fb)](path[_0x4c383b(0x2af)](_0x75a4e3[_0x4c383b(0x271)](getLogDir),_0x75a4e3[_0x4c383b(0x290)]),JSON[_0x4c383b(0x206)](_0x36c369));}catch(_0x410394){logger[_0x4c383b(0x282)](_0x4c383b(0x273)+_0x410394);}}}logger&&logger[_0x4c383b(0x1f0)](),fileLogger&&fileLogger[_0x4c383b(0x1f0)]();};}}exports[a85_0x5d12dd(0x292)]=BrowserStackSetup;