const a89_0x460ed8=a89_0x257d;(function(_0x5236d5,_0x492f85){const _0x2a39e3=a89_0x257d,_0x566f53=_0x5236d5();while(!![]){try{const _0x2f0e1e=-parseInt(_0x2a39e3(0x1b7))/0x1*(parseInt(_0x2a39e3(0x18e))/0x2)+-parseInt(_0x2a39e3(0x1ae))/0x3*(-parseInt(_0x2a39e3(0x103))/0x4)+parseInt(_0x2a39e3(0x1b2))/0x5+parseInt(_0x2a39e3(0x11b))/0x6+parseInt(_0x2a39e3(0x1dc))/0x7*(-parseInt(_0x2a39e3(0x1a6))/0x8)+parseInt(_0x2a39e3(0x12f))/0x9+parseInt(_0x2a39e3(0xf9))/0xa*(-parseInt(_0x2a39e3(0x135))/0xb);if(_0x2f0e1e===_0x492f85)break;else _0x566f53['push'](_0x566f53['shift']());}catch(_0x50006c){_0x566f53['push'](_0x566f53['shift']());}}}(a89_0xfb79,0x305e8));function a89_0xfb79(){const _0xca51d5=['lpPnF','uKdPF','fPDVA','./logger','checkStopLocalBinaryOnExit','BOKqv','setProxySettings','aSIzU','Foaft','FRAMEWORK','16|7|8|5|18|0|1|6|4|19|17|21|9|3|11|10|15|12|14|13|20|2|22','drlmc','zlGHy','fileLogger','codeceptjs','util','../bin/utils/apiUtilityMethods','central_scanner','error','sendToEDS','SDKTestAttempted','MRteB','split','8WxtJXN','wUKqa','getProxyConfigForTcg','./performance/constants','fyNIz','vBElc','CRNAb','measures','96549RAhgAe','LvTgF','KKyla','SIGHUP','36530BKARKz','zJfFU','TCG_URL','custom-repeater','turboScaleUrl','1shwnoO','Calling\x20Build\x20Stop\x20from\x20ExitHandler','setHandlePWError','stringify','constructor','AqUrR','meTjE','bind','../hubAllocationMethods','fireFunnelTestEvent','getConfigPath','wGTon','parallelsPerPlatform','errorMessage','./helper','arIoi','toLowerCase','getLocalIdentifier','getPackageVersion','userName','SyRsP','measureWrapper','\x20with\x20response\x20','Shutdown\x20triggered\x20by\x20','TnRXO','selfHeal','handleExceptions','getHubUrl','testContextOptions','tcgAuthConfig','default','../bin/v2/browserstackCLI','SIGQUIT','framework','ZOGDW','sdkRunId','NJQCf','783867umxoHo','includes','info','xzWWV','debug','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','browserStackLocalOptions','AI_PROXY_FAILURE','Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','integrations','generateLocalIdentifier','intExitHandler','stopBrowserstackLocal','format','envConfig','ilNwo','loGGG','BrXcc','env','pCKEQ','stopLocalBinary','initialize','join','iVftr','?caps=','false','BfPbp','Percy\x20started\x20successfully','unhandledErrors','isUndefined','TvjwJ','platforms','compareVersions','hfcVx','Yzhrb','AUTOLOGCAPTURE_NOTIFICATION','Percy\x20stopped','xPcBx','getFinalCaps','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','sLdJK','TCG_DOWN','JrhDr','10enPErX','getLocalConfig','setupTCGAuth','tcg\x20config\x20setup\x20successful.','isTurboScaleSession','osdhP','proxy','csHJz','Error\x20in\x20percy\x20setup\x20','skipSessionStatus','28dqkiUl','hqguj','config','../bin/utils/constants','sanitizeCaps','QMEKO','./utilities','hubUrl','accessKey','\x20with\x20error\x20','MbmJC','isNotUndefined','SDK\x20run\x20started\x20with\x20id:\x20','isRunning','init','4.5.0','parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','../ai-sdk-node/bundle','killSignal','finalize','useW3C','cliConfig','browserstackLocal','stop','1744908bmaieC','./setKeepAlive','isHealingEnabled','getAccessKey','getTurboScaleGridDetails','TCG_AUTH_FAILURE','oxGvc','./testhub/testhubHandler','DkFHh','lHrpT','percy','ZMrtJ','Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled','isBrowserstackInfra','warn','TCG_AUTH_TIMEOUT','version','TRLio','allocateHub','true','685422NGgTPG','turboScaleOptions','win32','xgTkf','exceptions','AlAqW','900273AzgiPQ','requireSeleniumWebdriverCheck','./timeoutPromise','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','push','setupKeepAlive','handled','aiHeal:tcgAuth','startPercy','message','Data\x20sent\x20successfully\x20to\x20','isTrialGrid','localIdentifier','zhHWl','localOptions','playwrightUrl','lTsAu','customRepeaters','BROWSERSTACK_PERCY','setLogLevel','hSrfd','isAuthenticated','UPGRADE_REQUIRED','SIGTERM','mAVWN','turboScale','winstonLogger','setLogDir','statusCode','setCredentialsFromYmlConfig','TqdPs','XQCnv','race','cancel','AI_INIT_SUCCESSFUL','path','ats-repeater','preInitialize','IWkkR','selenium-webdriver','bstackConfig','length','AI_INIT_FAILURE','SDK_CLEANUP','disableAutoCaptureLogs','readConfig','beforeExit','isTrue','forceLocal','skipSessionName','tLBki','Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.','BrowserstackHealing.init','HYlpr','setupBrowserstackLocal','getCentralUser','ibMxX','setEnvCaps','Local\x20binary\x20started\x20successfully','Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','kHaqh','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','status','uncaughtException','FVKwO','userName\x20or\x20accessKey\x20is\x20not\x20defined','stopPercy','setBrowserstackInfraFromConfig','getUserName','Error\x20in\x20sending\x20testhub\x20stop:\x20','uuid','platform','end','skipBinaryInitialisation','setupPercy','HUB_MANAGEMENT','DMEwo','getInstance','captureError','INVALID_INIT_RESP_WITH_USER_IMPACT','close','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','OARaw','BrowserstackHealingInitFailed','events.json','NBfYh','BROWSERSTACK_TURBOSCALE','Failed\x20to\x20send\x20data\x20to\x20','antVa','415238HqSszd'];a89_0xfb79=function(){return _0xca51d5;};return a89_0xfb79();}const util=require(a89_0x460ed8(0x19e)),os=require('os'),path=require(a89_0x460ed8(0x158)),{v4:uuidv4}=require(a89_0x460ed8(0x17b)),fs=require('fs'),constants=require(a89_0x460ed8(0x106)),logger=require(a89_0x460ed8(0x192))[a89_0x460ed8(0x14f)],fileLogger=require(a89_0x460ed8(0x192))[a89_0x460ed8(0x19c)],{getLogDir}=require(a89_0x460ed8(0x192)),helper=require(a89_0x460ed8(0x1c5)),utilities=require(a89_0x460ed8(0x109)),percyHelper=require('./percy/utils'),hubAllocator=require(a89_0x460ed8(0x1bf)),PerformanceTester=require('./performance/performance-tester'),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require(a89_0x460ed8(0x1a9)),{setPercyFlag}=require('./testhub/utils'),TestHubHandler=require(a89_0x460ed8(0x122)),timeoutPromise=require(a89_0x460ed8(0x137)),BrowserstackCLI=require(a89_0x460ed8(0x1d6)),{getEdsInstrumentationAPIUrl}=require(a89_0x460ed8(0x19f));function a89_0x257d(_0x32b238,_0x4214c6){const _0xfb79a6=a89_0xfb79();return a89_0x257d=function(_0x257ddc,_0x5959ce){_0x257ddc=_0x257ddc-0xf3;let _0x93f0d6=_0xfb79a6[_0x257ddc];return _0x93f0d6;},a89_0x257d(_0x32b238,_0x4214c6);}class BrowserStackSetup{constructor(_0x12c3ad,_0x18fd56){const _0x3bed58=a89_0x460ed8,_0x51726e={'wUKqa':_0x3bed58(0x199),'szYnc':'No\x20config\x20provided.','IiDkD':function(_0x35e5f8){return _0x35e5f8();}},_0x183bd3=_0x51726e[_0x3bed58(0x1a7)][_0x3bed58(0x1a5)]('|');let _0x422bb4=0x0;while(!![]){switch(_0x183bd3[_0x422bb4++]){case'0':this['config']=helper[_0x3bed58(0x162)](helper[_0x3bed58(0x1c1)](_0x12c3ad));continue;case'1':this[_0x3bed58(0x118)]=helper['setCLICaps'](_0x12c3ad);continue;case'2':helper[_0x3bed58(0x148)](this[_0x3bed58(0x105)],this[_0x3bed58(0x118)],this[_0x3bed58(0x1ea)]);continue;case'3':if(helper['isUndefined'](this[_0x3bed58(0x105)]))throw new Error(_0x51726e['szYnc']);continue;case'4':this[_0x3bed58(0x105)][_0x3bed58(0x1d3)]=this['config'][_0x3bed58(0x1d3)]||{};continue;case'5':this['browserstackLocal']=null;continue;case'6':this[_0x3bed58(0x105)]['platforms']=this[_0x3bed58(0x105)][_0x3bed58(0x1fb)]||[];continue;case'7':helper['normalizeTestReportingEnvVars']();continue;case'8':this[_0x3bed58(0x1ea)]=helper[_0x3bed58(0x16e)]();continue;case'9':global[_0x3bed58(0x1d8)]=_0x18fd56;continue;case'10':helper[_0x3bed58(0x178)](this[_0x3bed58(0x105)],this[_0x3bed58(0x118)]);continue;case'11':if(this[_0x3bed58(0x105)]['error'])throw new Error(this[_0x3bed58(0x105)][_0x3bed58(0x1a1)]);continue;case'12':this[_0x3bed58(0x105)][_0x3bed58(0x1d3)][_0x3bed58(0x102)]=!helper[_0x3bed58(0x128)]()||helper[_0x3bed58(0x164)](this[_0x3bed58(0x105)][_0x3bed58(0x1d3)][_0x3bed58(0x102)]);continue;case'13':helper[_0x3bed58(0xf4)](this['config'],this[_0x3bed58(0x118)],this[_0x3bed58(0x1ea)]);continue;case'14':this[_0x3bed58(0x105)][_0x3bed58(0x1d3)]['skipSessionName']=!helper[_0x3bed58(0x128)]()||helper[_0x3bed58(0x164)](this[_0x3bed58(0x105)][_0x3bed58(0x1d3)][_0x3bed58(0x166)]);continue;case'15':helper[_0x3bed58(0x152)](this[_0x3bed58(0x105)]);continue;case'16':this['unhandledErrors']=[];continue;case'17':this[_0x3bed58(0x1da)]=_0x51726e['IiDkD'](uuidv4);continue;case'18':this[_0x3bed58(0x125)]=null;continue;case'19':this[_0x3bed58(0x1c4)]={};continue;case'20':helper[_0x3bed58(0x150)](this[_0x3bed58(0x105)]);continue;case'21':this[_0x3bed58(0x1d8)]=_0x18fd56;continue;case'22':PerformanceTester['startMonitoring']();continue;}break;}}[a89_0x460ed8(0x15a)](_0x5e2db2){const _0x6ed89f=a89_0x460ed8,_0x484337={'uzXIk':_0x6ed89f(0x176),'Foaft':function(_0x39d299,_0x515073){return _0x39d299===_0x515073;},'oxGvc':function(_0x30796d,_0x308919){return _0x30796d===_0x308919;},'cwols':_0x6ed89f(0x1e5),'tLBki':_0x6ed89f(0x1a3),'kHaqh':function(_0x496b57,_0x169fa7){return _0x496b57<_0x169fa7;},'tPUiA':function(_0x5b039c,_0x343a17){return _0x5b039c(_0x343a17);},'arIoi':_0x6ed89f(0x15c),'ZOGDW':_0x6ed89f(0x112),'maxrT':_0x6ed89f(0xf5),'HvQnN':_0x6ed89f(0x113),'DxwFQ':_0x6ed89f(0x14c),'lrbcf':'SIGINT','QMEKO':_0x6ed89f(0x1b1),'XQCnv':function(_0x209d4e,_0x15efbd){return _0x209d4e!==_0x15efbd;},'pCKEQ':_0x6ed89f(0x131),'lHrpT':'SIGABRT','xzWWV':_0x6ed89f(0x1d7),'BOKqv':'SIGBREAK','ttBZu':_0x6ed89f(0x163)},_0x3dbc7d=this[_0x6ed89f(0x1d8)];global[_0x6ed89f(0x105)]=this['config'],helper[_0x6ed89f(0x107)](this[_0x6ed89f(0x105)]),this['killSignal']=null,global[_0x6ed89f(0x1da)]=this[_0x6ed89f(0x1da)],logger['info'](_0x6ed89f(0x10f)+this[_0x6ed89f(0x1da)]),!this[_0x6ed89f(0x105)][_0x6ed89f(0x1e2)]&&(this[_0x6ed89f(0x105)][_0x6ed89f(0x1e2)]=this[_0x6ed89f(0x105)][_0x6ed89f(0x143)]||{});if(helper[_0x6ed89f(0x1f9)](helper[_0x6ed89f(0x179)](this['config']))||helper['isUndefined'](helper[_0x6ed89f(0x11e)](this[_0x6ed89f(0x105)])))throw new Error(_0x484337['uzXIk']);helper[_0x6ed89f(0xfa)](this[_0x6ed89f(0x105)])&&helper[_0x6ed89f(0x1f9)](helper[_0x6ed89f(0x1c8)](this[_0x6ed89f(0x105)]))&&(!helper[_0x6ed89f(0x1f9)](this['config'][_0x6ed89f(0x1e2)])&&_0x484337[_0x6ed89f(0x197)](this['config'][_0x6ed89f(0x1e2)][_0x6ed89f(0x1bb)],Object)?!helper[_0x6ed89f(0x164)](this[_0x6ed89f(0x105)][_0x6ed89f(0x1e2)]['skipBinaryInitialisation'])&&(this[_0x6ed89f(0x105)][_0x6ed89f(0x1e2)][_0x6ed89f(0x141)]=helper[_0x6ed89f(0x1e6)]()):this[_0x6ed89f(0x105)][_0x6ed89f(0x1e2)]={'localIdentifier':helper['generateLocalIdentifier']()});this['config'][_0x6ed89f(0x1e2)]['skipBinaryInitialisation']=helper['isTrue'](this[_0x6ed89f(0x105)][_0x6ed89f(0x1e2)][_0x6ed89f(0x17e)]),helper[_0x6ed89f(0x1b9)](this[_0x6ed89f(0x105)]);if(_0x484337[_0x6ed89f(0x121)](_0x3dbc7d,_0x484337['cwols']))return;this[_0x6ed89f(0x1d1)]();process[_0x6ed89f(0x1ee)][_0x6ed89f(0x18b)]&&(this[_0x6ed89f(0x105)][_0x6ed89f(0x14e)]=helper[_0x6ed89f(0x164)](process[_0x6ed89f(0x1ee)]['BROWSERSTACK_TURBOSCALE']),this[_0x6ed89f(0x105)][_0x6ed89f(0x130)]=this[_0x6ed89f(0x105)][_0x6ed89f(0x130)]||{});helper[_0x6ed89f(0xfd)](this[_0x6ed89f(0x105)])&&(process[_0x6ed89f(0x1ee)][_0x6ed89f(0x18b)]=!![]);if(!helper[_0x6ed89f(0x128)]()){try{process[_0x6ed89f(0x1ee)]['FRAMEWORK']=_0x3dbc7d,utilities[_0x6ed89f(0x1c0)](_0x484337[_0x6ed89f(0x167)],{},this[_0x6ed89f(0x105)],this[_0x6ed89f(0x1d8)]);}catch(_0x467d8d){logger[_0x6ed89f(0x1e0)](_0x6ed89f(0x1e1)+_0x467d8d);}return;}if(helper[_0x6ed89f(0x136)](_0x3dbc7d)){if(global['__isPlaywrightInstalled'])return;_0x484337[_0x6ed89f(0x171)](_0x484337['tPUiA'](parseInt,helper[_0x6ed89f(0x1c9)](_0x484337[_0x6ed89f(0x1c6)])),0x3)&&(this[_0x6ed89f(0x105)][_0x6ed89f(0x117)]=![]),_0x484337[_0x6ed89f(0x121)](helper[_0x6ed89f(0x1fc)](helper[_0x6ed89f(0x1c9)](_0x484337[_0x6ed89f(0x1c6)]),_0x484337[_0x6ed89f(0x1d9)]),0x1)&&(this[_0x6ed89f(0x105)]['useW3C']=!![]);}(helper['isUndefined'](this['config']['platforms'])||helper['isUndefined'](this[_0x6ed89f(0x105)][_0x6ed89f(0x1fb)][_0x6ed89f(0x15e)]))&&(helper['isUndefined'](this[_0x6ed89f(0x105)][_0x6ed89f(0x1c3)])?logger[_0x6ed89f(0x1de)](_0x484337['maxrT']):logger[_0x6ed89f(0x129)](_0x484337['HvQnN']),this[_0x6ed89f(0x105)][_0x6ed89f(0x1fb)]=[]);!this[_0x6ed89f(0x105)][_0x6ed89f(0x1d3)]&&(this[_0x6ed89f(0x105)][_0x6ed89f(0x1d3)]={});try{process[_0x6ed89f(0x1ee)][_0x6ed89f(0x198)]=_0x5e2db2['_'][0x0],utilities[_0x6ed89f(0x1c0)](_0x484337[_0x6ed89f(0x167)],{},this[_0x6ed89f(0x105)],this['framework']);}catch(_0x228001){logger['debug'](_0x6ed89f(0x1e1)+_0x228001);}!this[_0x6ed89f(0x105)][_0x6ed89f(0x161)]&&logger[_0x6ed89f(0x1de)](constants[_0x6ed89f(0x1ff)]),this['intExitHandler']=this['intExitHandler'][_0x6ed89f(0x1be)](this),process['on'](_0x484337['DxwFQ'],this[_0x6ed89f(0x1e7)]),process['on'](_0x484337['lrbcf'],this[_0x6ed89f(0x1e7)]),process['on'](_0x484337[_0x6ed89f(0x108)],this['intExitHandler']),_0x484337[_0x6ed89f(0x154)](process[_0x6ed89f(0x17c)],_0x484337[_0x6ed89f(0x1ef)])?(process['on'](_0x484337[_0x6ed89f(0x124)],this['intExitHandler']),process['on'](_0x484337[_0x6ed89f(0x1df)],this[_0x6ed89f(0x1e7)])):process['on'](_0x484337[_0x6ed89f(0x194)],this[_0x6ed89f(0x1e7)]),process['on'](_0x484337['ttBZu'],this['exitHandler']());}async[a89_0x460ed8(0x1f1)](_0x5282d6){const _0x5a6587=a89_0x460ed8,_0x523660={'TqdPs':_0x5a6587(0x159),'aSIzU':_0x5a6587(0x1b5),'AqUrR':'true','ZMrtJ':function(_0x511eec,_0x3188da){return _0x511eec===_0x3188da;},'vBElc':'playwright','NBfYh':function(_0xa1b431,_0x2e9a58){return _0xa1b431+_0x2e9a58;},'hfcVx':_0x5a6587(0x1f4),'fPDVA':function(_0x5322da,_0x5d3e3c){return _0x5322da(_0x5d3e3c);},'FVKwO':_0x5a6587(0x19d)};this['preInitialize'](_0x5282d6);if(helper['isTurboScaleSession'](this['config'])){const _0x368229=await helper[_0x5a6587(0x11f)](this[_0x5a6587(0x105)]);this[_0x5a6587(0x105)]['turboScaleGridDetails']=_0x368229,_0x368229[_0x5a6587(0x140)]&&helper[_0x5a6587(0x10e)](this[_0x5a6587(0x105)][_0x5a6587(0x119)])&&helper[_0x5a6587(0x164)](this[_0x5a6587(0x105)][_0x5a6587(0x119)])&&(this[_0x5a6587(0x105)][_0x5a6587(0x1e2)][_0x5a6587(0x141)]=_0x523660[_0x5a6587(0x153)],this[_0x5a6587(0x105)]['browserStackLocalOptions'][_0x523660[_0x5a6587(0x196)]]=_0x368229[_0x5a6587(0x146)][_0x5a6587(0x1f2)](','),this[_0x5a6587(0x105)][_0x5a6587(0x1e2)][_0x5a6587(0x165)]=_0x523660[_0x5a6587(0x1bc)]),this[_0x5a6587(0x105)][_0x5a6587(0x1b6)]=_0x368229['url'],this[_0x5a6587(0x1d8)]&&_0x523660[_0x5a6587(0x126)](this[_0x5a6587(0x1d8)][_0x5a6587(0x1c7)](),_0x523660[_0x5a6587(0x1ab)])?this[_0x5a6587(0x105)][_0x5a6587(0x1b6)]=_0x523660[_0x5a6587(0x18a)](_0x368229[_0x5a6587(0x144)],_0x523660[_0x5a6587(0x1fd)]):constants[_0x5a6587(0x10a)]=helper[_0x5a6587(0x1d2)](this['config']),logger[_0x5a6587(0x1e0)]('HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20'+constants[_0x5a6587(0x10a)]);}helper[_0x5a6587(0x195)](this[_0x5a6587(0x105)]),this[_0x5a6587(0x13a)](),_0x523660[_0x5a6587(0x191)](setPercyFlag,this),await this[_0x5a6587(0x16b)](),![_0x523660[_0x5a6587(0x175)],_0x523660[_0x5a6587(0x1ab)]][_0x5a6587(0x1dd)](this['framework'])&&!helper[_0x5a6587(0xfd)](this[_0x5a6587(0x105)])&&!helper[_0x5a6587(0x16c)]()[_0x5a6587(0x1a0)]&&await this['setUpHubUrl']();}async[a89_0x460ed8(0x17f)](){const _0x8b9e32=a89_0x460ed8,_0x432e38={};_0x432e38[_0x8b9e32(0x190)]=function(_0x2507ab,_0x2618db){return _0x2507ab===_0x2618db;},_0x432e38[_0x8b9e32(0x1b0)]=_0x8b9e32(0x1f5),_0x432e38[_0x8b9e32(0x19b)]=_0x8b9e32(0x168),_0x432e38[_0x8b9e32(0x1eb)]=_0x8b9e32(0x1f7),_0x432e38['NJQCf']='true',_0x432e38[_0x8b9e32(0x142)]='beforeExit';const _0x32edc8=_0x432e38;if(helper['isTrue'](this[_0x8b9e32(0x105)]['percy'])&&(!this[_0x8b9e32(0x125)]||!this['percy'][_0x8b9e32(0x110)]()))try{this[_0x8b9e32(0x125)]=await percyHelper[_0x8b9e32(0x13d)](this['config']);if(!this[_0x8b9e32(0x125)]){process[_0x8b9e32(0x1ee)][_0x8b9e32(0x147)]=_0x32edc8[_0x8b9e32(0x1b0)];throw new Error(_0x32edc8[_0x8b9e32(0x19b)]);}logger[_0x8b9e32(0x1de)](_0x32edc8['ilNwo']),process[_0x8b9e32(0x1ee)][_0x8b9e32(0x147)]=_0x32edc8[_0x8b9e32(0x1db)];let _0x4e6077=0x0;const _0x1210bc=async()=>{const _0x195530=_0x8b9e32;_0x4e6077++,_0x32edc8[_0x195530(0x190)](_0x4e6077,0x1)&&await this['stopPercy']();};process['on'](_0x32edc8[_0x8b9e32(0x142)],_0x1210bc);}catch(_0x10cec4){process[_0x8b9e32(0x1ee)][_0x8b9e32(0x147)]=_0x32edc8['KKyla'],logger[_0x8b9e32(0x1e0)](_0x8b9e32(0x101)+_0x10cec4);throw new Error(_0x10cec4['toString']());}}async[a89_0x460ed8(0x177)](){const _0x170d17=a89_0x460ed8,_0x1e1719={};_0x1e1719['yKDWk']=_0x170d17(0x200),_0x1e1719[_0x170d17(0x1af)]='Error\x20occured\x20while\x20stopping\x20percy';const _0x829f7f=_0x1e1719;if(this[_0x170d17(0x125)]&&this[_0x170d17(0x125)]['isRunning']())try{await percyHelper[_0x170d17(0x177)](this[_0x170d17(0x125)]),logger[_0x170d17(0x1de)](_0x829f7f['yKDWk']);}catch(_0x3ec399){logger['error'](_0x829f7f[_0x170d17(0x1af)],_0x3ec399[_0x170d17(0x13e)]);}}async[a89_0x460ed8(0x16b)](){const _0x49dd5e=a89_0x460ed8,_0x1a4c45={};_0x1a4c45[_0x49dd5e(0x104)]=_0x49dd5e(0x127),_0x1a4c45[_0x49dd5e(0xf8)]=_0x49dd5e(0x16f);const _0xb566e7=_0x1a4c45;if(helper['isBrowserstackInfra']()&&helper['isTrue'](this[_0x49dd5e(0x105)]['browserstackLocal'])&&(!this[_0x49dd5e(0x119)]||!this['browserstackLocal'][_0x49dd5e(0x110)]()))try{if(this[_0x49dd5e(0x105)][_0x49dd5e(0x1e2)][_0x49dd5e(0x17e)]){logger[_0x49dd5e(0x1e0)](_0xb566e7[_0x49dd5e(0x104)]);return;}this['browserstackLocal']=await helper['startLocalBinary'](this[_0x49dd5e(0x105)]),logger['info'](_0xb566e7[_0x49dd5e(0xf8)]);}catch(_0x40011a){logger[_0x49dd5e(0x1e0)](_0x40011a);throw new Error(_0x40011a['toString']());}}async[a89_0x460ed8(0x1e8)](){const _0x2cba09=a89_0x460ed8,_0x2fdaf0={};_0x2fdaf0['CpIWf']='Local\x20binary\x20stopped',_0x2fdaf0[_0x2cba09(0x1ac)]='Error\x20occured\x20while\x20stopping\x20local\x20binary';const _0x2edae0=_0x2fdaf0;if(this[_0x2cba09(0x119)]&&this['browserstackLocal'][_0x2cba09(0x110)]())try{await helper[_0x2cba09(0x1f0)](this['browserstackLocal']),logger['info'](_0x2edae0['CpIWf']);}catch(_0x375118){logger['error'](_0x2edae0[_0x2cba09(0x1ac)],_0x375118[_0x2cba09(0x13e)]);}}async['setUpHubUrl'](){const _0x5911b5=a89_0x460ed8;return PerformanceTester[_0x5911b5(0x1cc)](PerformanceAutEvents[_0x5911b5(0x180)],async()=>{const _0x5289fb=_0x5911b5;await hubAllocator[_0x5289fb(0x12d)](this[_0x5289fb(0x105)]);})();}async[a89_0x460ed8(0xfb)](){const _0x355512=a89_0x460ed8,_0x2b6cb9={'AlAqW':function(_0xdda756,_0x72ac6c){return _0xdda756(_0x72ac6c);},'loGGG':_0x355512(0x114),'TnRXO':function(_0x118d3f,_0x2e8ca6,_0x1534f1,_0x4efb69,_0x5001dd,_0x4072ec,_0xbde0fb){return _0x118d3f(_0x2e8ca6,_0x1534f1,_0x4efb69,_0x5001dd,_0x4072ec,_0xbde0fb);},'hSrfd':'BrowserstackHealing.init\x20method\x20timed\x20out','osdhP':_0x355512(0x188),'OARaw':'../../package.json','DMEwo':_0x355512(0x169),'MRteB':function(_0x3e01f2,_0x46a1a4){return _0x3e01f2===_0x46a1a4;},'DkFHh':_0x355512(0x12e),'xgTkf':function(_0x2ec7a1,_0x309cd3){return _0x2ec7a1===_0x309cd3;},'IWkkR':_0x355512(0x138),'EeCXU':_0x355512(0x172),'antVa':_0x355512(0x1e4),'BfPbp':function(_0x105f00,_0x2a345e){return _0x105f00(_0x2a345e);},'lTsAu':_0x355512(0x170),'sLdJK':function(_0x69c81,_0x3a488e){return _0x69c81>=_0x3a488e;},'TvjwJ':function(_0x1e7a61,_0x3408b8){return _0x1e7a61<_0x3408b8;},'ibMxX':_0x355512(0xfc),'HYlpr':_0x355512(0x13c),'PoEhd':function(_0x441f97){return _0x441f97();}},_0x2065dd=PerformanceTester[_0x355512(0x1cc)](_0x2b6cb9[_0x355512(0x16a)],async()=>{const _0x56d878=_0x355512;try{const _0x18815d=new Date(),_0x5a8c9c=helper[_0x56d878(0x1a8)](this[_0x56d878(0x105)]),_0x5b3f7f=_0x2b6cb9[_0x56d878(0x134)](require,path[_0x56d878(0x1f2)](__dirname,_0x2b6cb9[_0x56d878(0x1ec)])),_0x347b83=_0x2b6cb9[_0x56d878(0x1cf)](timeoutPromise,constants[_0x56d878(0x12a)],_0x2b6cb9[_0x56d878(0x149)],_0x2b6cb9[_0x56d878(0xfe)],_0x18815d,this[_0x56d878(0x105)],this['framework']),_0x1b5ec6={'tcgUrl':constants[_0x56d878(0x1b4)],'sdkVersion':_0x2b6cb9[_0x56d878(0x134)](require,_0x2b6cb9[_0x56d878(0x187)])[_0x56d878(0x12b)],'methodUsed':_0x2b6cb9[_0x56d878(0x181)],'proxyConfig':_0x5a8c9c,'os':os[_0x56d878(0x17c)]()};if(_0x5a8c9c&&_0x5a8c9c['proxyUrl']){utilities[_0x56d878(0x1c0)](constants[_0x56d878(0x1e3)],_0x1b5ec6,this['config'],this[_0x56d878(0x1d8)]);return;}const _0x28b208={};_0x28b208[_0x56d878(0xff)]=_0x5a8c9c;const _0x2a4ce6=await Promise[_0x56d878(0x155)]([_0x5b3f7f[_0x56d878(0x111)](this[_0x56d878(0x105)][_0x56d878(0x10b)],this['config'][_0x56d878(0x1ca)],constants[_0x56d878(0x1b4)],_0x2b6cb9[_0x56d878(0x134)](require,_0x2b6cb9[_0x56d878(0x187)])[_0x56d878(0x12b)],_0x28b208)['then'](_0x33e8b8=>{const _0x4af170=_0x56d878;return _0x347b83[_0x4af170(0x156)](),_0x33e8b8;}),_0x347b83]);_0x2a4ce6['isHealingEnabled']=_0x2b6cb9['MRteB'](_0x2a4ce6['isHealingEnabled'],_0x2b6cb9[_0x56d878(0x123)])||_0x2b6cb9[_0x56d878(0x1a4)](_0x2a4ce6[_0x56d878(0x11d)],!![]);const _0x1aa51b=_0x2b6cb9[_0x56d878(0x1a4)](this['config'][_0x56d878(0x1d0)],!![])||_0x2b6cb9[_0x56d878(0x132)](this[_0x56d878(0x105)]['selfHeal'],_0x2b6cb9[_0x56d878(0x123)]);if(_0x2b6cb9[_0x56d878(0x1a4)](_0x2a4ce6[_0x56d878(0x13e)],constants[_0x56d878(0x14b)])&&_0x1aa51b)logger[_0x56d878(0x1de)](_0x2b6cb9[_0x56d878(0x15b)]);else{if(!_0x2a4ce6['isAuthenticated']&&_0x2b6cb9[_0x56d878(0x132)](_0x2a4ce6[_0x56d878(0x173)],0x1f7)&&_0x1aa51b)logger[_0x56d878(0x1de)](_0x2b6cb9['EeCXU']),utilities['fireFunnelTestEvent'](constants[_0x56d878(0xf7)],_0x1b5ec6,this[_0x56d878(0x105)],this[_0x56d878(0x1d8)]);else{if(!_0x2a4ce6[_0x56d878(0x14a)]&&_0x1aa51b){logger[_0x56d878(0x1de)](_0x2b6cb9[_0x56d878(0x18d)]);const _0x5d85e2={'tcgUrl':constants[_0x56d878(0x1b4)],'sdkVersion':_0x2b6cb9[_0x56d878(0x1f6)](require,_0x2b6cb9[_0x56d878(0x187)])[_0x56d878(0x12b)],'methodUsed':_0x2b6cb9['DMEwo'],'proxyConfig':_0x5a8c9c,'os':os[_0x56d878(0x17c)]()};utilities[_0x56d878(0x1c0)](constants[_0x56d878(0x120)],_0x5d85e2,this[_0x56d878(0x105)],this['framework']);}else{if(_0x2a4ce6[_0x56d878(0x14a)]&&!_0x2a4ce6[_0x56d878(0x11d)]&&_0x1aa51b)logger[_0x56d878(0x1de)](_0x2b6cb9[_0x56d878(0x145)]);else{if(_0x2b6cb9[_0x56d878(0xf6)](_0x2a4ce6[_0x56d878(0x173)],0xc8)&&_0x2b6cb9[_0x56d878(0x1fa)](_0x2a4ce6[_0x56d878(0x173)],0x12c))utilities[_0x56d878(0x1c0)](constants[_0x56d878(0x157)],_0x1b5ec6,this[_0x56d878(0x105)],this[_0x56d878(0x1d8)]);else{if(_0x2b6cb9[_0x56d878(0xf6)](_0x2a4ce6[_0x56d878(0x173)],0x190))_0x1b5ec6[_0x56d878(0x173)]=_0x2a4ce6[_0x56d878(0x173)],utilities[_0x56d878(0x1c0)](constants[_0x56d878(0x15f)],_0x1b5ec6,this[_0x56d878(0x105)],this[_0x56d878(0x1d8)]);else!_0x2a4ce6[_0x56d878(0x173)]&&utilities[_0x56d878(0x1c0)](constants[_0x56d878(0x184)],_0x1b5ec6,this[_0x56d878(0x105)],this[_0x56d878(0x1d8)]);}}}}}if(_0x2a4ce6[_0x56d878(0x14a)]&&_0x2a4ce6['isHealingEnabled']){const _0x77b01a={};_0x77b01a[_0x56d878(0x1d4)]=_0x2a4ce6;const _0x50a235=_0x77b01a;_0x5a8c9c&&(_0x50a235['proxyConfig']=_0x5a8c9c),_0x50a235[_0x56d878(0x1d8)]=this['framework'],_0x50a235[_0x56d878(0x15d)]=this[_0x56d878(0x105)],helper['setupTcgConfigFile'](_0x50a235),logger[_0x56d878(0x1e0)](_0x2b6cb9[_0x56d878(0x16d)]);}}catch(_0x2b3037){logger[_0x56d878(0x1e0)](_0x56d878(0x186)+(_0x2b3037[_0x56d878(0x13e)]?_0x2b3037[_0x56d878(0x13e)]:''));}});await _0x2b6cb9['PoEhd'](_0x2065dd);}['setupKeepAlive'](){const _0x42c037=a89_0x460ed8,_0x32e922={'csHJz':function(_0x56279f,_0x41aec6){return _0x56279f(_0x41aec6);},'fyNIz':_0x42c037(0x11c)};_0x32e922[_0x42c037(0x100)](require,_0x32e922[_0x42c037(0x1aa)])();}[a89_0x460ed8(0x1d1)](){const _0x20bc0b=a89_0x460ed8,_0xd3de8a={};_0xd3de8a['drlmc']='unhandledRejection',_0xd3de8a[_0x20bc0b(0x1c2)]=_0x20bc0b(0x174);const _0x1860ac=_0xd3de8a,_0x17ac57=_0x4a51de=>{const _0x4477e6=_0x20bc0b;logger[_0x4477e6(0x1a1)](_0x4a51de['message']),logger[_0x4477e6(0x1e0)](util[_0x4477e6(0x1e9)](_0x4a51de)),this[_0x4477e6(0x1f8)][_0x4477e6(0x139)](util[_0x4477e6(0x1e9)]('%j',_0x4a51de)),PerformanceTester[_0x4477e6(0x183)](_0x4a51de);};process['on'](_0x1860ac[_0x20bc0b(0x19a)],_0x17ac57),process['on'](_0x1860ac[_0x20bc0b(0x1c2)],_0x17ac57);}async[a89_0x460ed8(0x1e7)](_0x21b96c){const _0x2b747b=a89_0x460ed8,_0x3d97c8={};_0x3d97c8[_0x2b747b(0x1b3)]='4|5|3|0|1|2',_0x3d97c8[_0x2b747b(0x1fe)]=function(_0x593aa3,_0x338c6e){return _0x593aa3+_0x338c6e;},_0x3d97c8['MbmJC']=_0x2b747b(0x1ce),_0x3d97c8[_0x2b747b(0xf3)]=_0x2b747b(0x13b),_0x3d97c8[_0x2b747b(0x18f)]=function(_0x3f8b67,_0x2f16f8){return _0x3f8b67+_0x2f16f8;};const _0x10fe4e=_0x3d97c8,_0x4ccb7a=_0x10fe4e[_0x2b747b(0x1b3)][_0x2b747b(0x1a5)]('|');let _0x20b12c=0x0;while(!![]){switch(_0x4ccb7a[_0x20b12c++]){case'0':this[_0x2b747b(0x115)]=_0x21b96c;continue;case'1':await TestHubHandler['stop'](_0x21b96c);continue;case'2':await BrowserstackCLI[_0x2b747b(0x182)]()[_0x2b747b(0x11a)]();continue;case'3':logger[_0x2b747b(0x1de)](_0x10fe4e[_0x2b747b(0x1fe)](_0x10fe4e[_0x2b747b(0x10d)],_0x21b96c));continue;case'4':if(this[_0x10fe4e['Yzhrb'](_0x10fe4e[_0x2b747b(0xf3)],_0x21b96c)])return;continue;case'5':this[_0x10fe4e[_0x2b747b(0x18f)](_0x10fe4e[_0x2b747b(0xf3)],_0x21b96c)]=!![];continue;}break;}}['exitHandler'](){const _0x4f1c5f=a89_0x460ed8,_0x51535c={'meTjE':function(_0x5a0729,_0x5b1de){return _0x5a0729===_0x5b1de;},'SyRsP':_0x4f1c5f(0x1b8),'TRLio':function(_0x1ed9e3,_0x4e4e78){return _0x1ed9e3>_0x4e4e78;},'iVftr':function(_0x52fe54,_0x89524){return _0x52fe54(_0x89524);},'mAVWN':function(_0x2f0e0d){return _0x2f0e0d();},'BrXcc':_0x4f1c5f(0x189)};let _0x591825=0x0;return async()=>{const _0x28bb37=_0x4f1c5f;_0x591825++;if(_0x51535c[_0x28bb37(0x1bd)](_0x591825,0x1)){helper[_0x28bb37(0x193)](this['framework'])&&await this[_0x28bb37(0x1e8)]();try{logger['debug'](_0x51535c[_0x28bb37(0x1cb)]),await TestHubHandler[_0x28bb37(0x11a)](_0x591825),await BrowserstackCLI[_0x28bb37(0x182)]()[_0x28bb37(0x11a)]('1');}catch(_0x22f14d){logger['debug'](_0x28bb37(0x17a)+util[_0x28bb37(0x1e9)](_0x22f14d));}PerformanceTester[_0x28bb37(0x17d)](PerformanceEvents[_0x28bb37(0x160)]);if(PerformanceTester['isEnabled']()){const {measures:_0x184a38,errors:_0x369a3e}=await PerformanceTester[_0x28bb37(0x116)](),_0x3bc018={};if(_0x184a38&&_0x51535c[_0x28bb37(0x12c)](_0x184a38['length'],0x0)||_0x369a3e&&_0x51535c[_0x28bb37(0x12c)](_0x369a3e[_0x28bb37(0x15e)],0x0)){const _0x16e5ce={};_0x16e5ce[_0x28bb37(0x1ad)]=_0x184a38,_0x16e5ce[_0x28bb37(0x133)]=_0x369a3e,Object['assign'](_0x3bc018,_0x16e5ce);}try{const _0x132c4e=await helper[_0x28bb37(0x1a2)](_0x3bc018,this[_0x28bb37(0x105)]);logger[_0x28bb37(0x1e0)](_0x28bb37(0x13f)+_0x51535c[_0x28bb37(0x1f3)](getEdsInstrumentationAPIUrl,'')+_0x28bb37(0x1cd)+_0x132c4e[_0x28bb37(0x151)]);}catch(_0x9ff59b){logger[_0x28bb37(0x1e0)](_0x28bb37(0x18c)+_0x51535c[_0x28bb37(0x1f3)](getEdsInstrumentationAPIUrl,'')+_0x28bb37(0x10c)+util['format'](_0x9ff59b));}try{fs['writeFileSync'](path[_0x28bb37(0x1f2)](_0x51535c[_0x28bb37(0x14d)](getLogDir),_0x51535c[_0x28bb37(0x1ed)]),JSON[_0x28bb37(0x1ba)](_0x3bc018));}catch(_0x135e54){logger[_0x28bb37(0x1e0)]('Error\x20in\x20writing\x20events\x20to\x20file\x20'+_0x135e54);}}}logger&&logger[_0x28bb37(0x185)](),fileLogger&&fileLogger[_0x28bb37(0x185)]();};}}exports[a89_0x460ed8(0x1d5)]=BrowserStackSetup;