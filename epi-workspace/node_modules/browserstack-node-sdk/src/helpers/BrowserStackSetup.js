function a94_0x1e09(){const _0x1020ee=['SIGABRT','hGlhA','ats-repeater','parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','../../package.json','INVALID_INIT_RESP_WITH_USER_IMPACT','2382KPApHw','TFkWS','8348104zfFPTB','false','message','skipBinaryInitialisation','./percy/utils','cfqMu','SLjgA','customRepeaters','platforms','Data\x20sent\x20successfully\x20to\x20','getLocalConfig','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','TdZxc','SDKTestAttempted','\x20with\x20response\x20','toString','intExitHandler','2259xsvraq','TCG_DOWN','4.5.0','true','preInitialize','measureWrapper','iWujN','percy','./helper','warn','./testhub/utils','unhandledRejection','./logger','xIDLt','status','vdgNk','ocRKo','395868DBOjQZ','gbJgo','isRunning','BrowserstackHealing.init','__isPlaywrightInstalled','setProxySettings','oMgBy','fireFunnelTestEvent','wlgZE','config','AI_INIT_SUCCESSFUL','OrQKi','tcg\x20config\x20setup\x20successful.','BrowserstackHealing.init\x20method\x20timed\x20out','OhwLd','Shutdown\x20triggered\x20by\x20','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','Local\x20binary\x20started\x20successfully','setCLICaps','JHJYy','BROWSERSTACK_PERCY','setLogDir','Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','RqfrF','requireSeleniumWebdriverCheck','cancel','normalizeTestReportingEnvVars','SDK\x20run\x20started\x20with\x20id:\x20','UelXE','DOlkR','format','AI_PROXY_FAILURE','BROWSERSTACK_TURBOSCALE','sdgbc','../bin/v2/browserstackCLI','AUTOLOGCAPTURE_NOTIFICATION','isAuthenticated','getInstance','initialize','HsGxN','env','./setKeepAlive','statusCode','measures','cWOkt','eGnBT','central_scanner','constructor','turboScaleGridDetails','handled','FRAMEWORK','handleExceptions','AkYyC','Error\x20occured\x20while\x20stopping\x20local\x20binary','killSignal','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','Vgwnu','lGHXo','setEnvCaps','isLTSSession','reportProcessInterruptionSituation','errorMessage','./utilities','../hubAllocationMethods','isBrowserstackInfra','playwright','WQtDw','codeceptjs','vZGnS','tyoCG','push','vupmf','hubUrl','stopLocalBinary','isTrue','kaBQR','QWPky','platform','util','HUB_MANAGEMENT','LTS\x20session\x20enabled\x20for\x20this\x20run.\x20SDK\x20run\x20id:\x20','setupTCGAuth','setupPercy','selenium-webdriver','zjJmz','setHandlePWError','dYtBQ','framework','debug','KlSDQ','ycoPf','lNRqK','jTYjH','Zugfe','SIGHUP','fPbSD','906570qSJZmI','writeFileSync','Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','nRCFy','../bin/utils/clientTroubleshootingService','length','turboScaleOptions','accessKey','envConfig','6636678AoHkIs','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20','bind','mnufw','split','10|20|17|8|0|21|22|23|15|11|14|19|18|1|6|5|16|3|7|9|12|2|13|4','default','bstackConfig','Failed\x20to\x20send\x20data\x20to\x20','xMjts','isEnabled','JJNdD','hYZda','isTurboScaleSession','localIdentifier','Calling\x20Build\x20Stop\x20from\x20ExitHandler','jBqWI','proxyUrl','exitHandler','nFaaV','SIGBREAK','getPackageVersion','FhqOv','close','tcgAuthConfig','366267qQfFIl','join','checkStopLocalBinaryOnExit','isHealingEnabled','MyEjX','stopBrowserstackLocal','RHILC','browserStackLocalOptions','CqlhK','TCG_AUTH_TIMEOUT','init','Error\x20in\x20percy\x20setup\x20','skipSessionStatus','uuid','integrations','assign','winstonLogger','skipSessionName','allocateHub','generateLocalIdentifier','startLocalBinary','getFinalCaps','xxPwD','tVoam','setupBrowserstackLocal','stringify','GRiXj','DOSgg','7WmRXRb','Jgyrg','beforeExit','uncaughtException','toLowerCase','reportFinalDetectionState','readConfig','../bin/v2/modules/loadTestModule','Error\x20in\x20writing\x20events\x20to\x20file\x20','AI_INIT_FAILURE','./performance/constants','unhandledErrors','YzuVd','Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.','isUndefined','OIEhI','version','0|3|1|2|4','startPercy','32350sYqvTa','SIGINT','fVOiS','Percy\x20started\x20successfully','stop','IACzU','jWsTy','forceLocal','setCredentialsFromYmlConfig','win32','setUpHubUrl','sanitizeCaps','turboScale','wfHGK','events.json','getProxyConfigForTcg','selfHeal','oukea','stopPercy','info','nkzWF','hNGIT','cliConfig','parallelsPerPlatform','startMonitoring','TCG_AUTH_FAILURE','getLocalIdentifier','browserstackLocal','turboScaleUrl','setupKeepAlive','testContextOptions','isTrialGrid','TCG_URL','getConfigPath','kpeaA','./testhub/testhubHandler','sdkRunId','captureError','SIGTERM','configPath','useW3C','tefGc','MbRUo','EFUkV','../ai-sdk-node/bundle','206axJGEf','error','userName','../bin/utils/constants','./performance/performance-tester'];a94_0x1e09=function(){return _0x1020ee;};return a94_0x1e09();}const a94_0x4fb406=a94_0x2aeb;(function(_0x3d32b9,_0xaec415){const _0x3b45eb=a94_0x2aeb,_0x4f8c51=_0x3d32b9();while(!![]){try{const _0x5170e1=-parseInt(_0x3b45eb(0x214))/0x1+parseInt(_0x3b45eb(0x161))/0x2*(parseInt(_0x3b45eb(0x16c))/0x3)+-parseInt(_0x3b45eb(0x190))/0x4+parseInt(_0x3b45eb(0x1f1))/0x5+parseInt(_0x3b45eb(0x1fa))/0x6*(parseInt(_0x3b45eb(0x230))/0x7)+-parseInt(_0x3b45eb(0x16e))/0x8+parseInt(_0x3b45eb(0x17f))/0x9*(parseInt(_0x3b45eb(0x134))/0xa);if(_0x5170e1===_0xaec415)break;else _0x4f8c51['push'](_0x4f8c51['shift']());}catch(_0x23ef46){_0x4f8c51['push'](_0x4f8c51['shift']());}}}(a94_0x1e09,0xa42bf));const util=require(a94_0x4fb406(0x1df)),os=require('os'),path=require('path'),{v4:uuidv4}=require(a94_0x4fb406(0x221)),fs=require('fs'),constants=require(a94_0x4fb406(0x164)),logger=require(a94_0x4fb406(0x18b))[a94_0x4fb406(0x224)],fileLogger=require('./logger')['fileLogger'],{getLogDir}=require(a94_0x4fb406(0x18b)),helper=require(a94_0x4fb406(0x187)),utilities=require(a94_0x4fb406(0x1cf)),percyHelper=require(a94_0x4fb406(0x172)),hubAllocator=require(a94_0x4fb406(0x1d0)),PerformanceTester=require(a94_0x4fb406(0x165)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require(a94_0x4fb406(0x23a)),{setPercyFlag}=require(a94_0x4fb406(0x189)),TestHubHandler=require(a94_0x4fb406(0x157)),timeoutPromise=require('./timeoutPromise'),BrowserstackCLI=require(a94_0x4fb406(0x1b2)),LoadTestModule=require(a94_0x4fb406(0x237)),{getEdsInstrumentationAPIUrl}=require('../bin/utils/apiUtilityMethods'),ClientTroubleShootingService=require(a94_0x4fb406(0x1f5));function a94_0x2aeb(_0x4a339a,_0x2e825b){const _0x1e09ff=a94_0x1e09();return a94_0x2aeb=function(_0x2aeb0a,_0x2e3fc6){_0x2aeb0a=_0x2aeb0a-0x12e;let _0xfd6b4a=_0x1e09ff[_0x2aeb0a];return _0xfd6b4a;},a94_0x2aeb(_0x4a339a,_0x2e825b);}class BrowserStackSetup{constructor(_0x484f1b,_0x3fca14){const _0x3beda9=a94_0x4fb406,_0x5ed596={'nFaaV':_0x3beda9(0x200),'JJNdD':'No\x20config\x20provided.','JHJYy':function(_0xa435d6){return _0xa435d6();}},_0x2507d2=_0x5ed596[_0x3beda9(0x20e)][_0x3beda9(0x1ff)]('|');let _0x4afe93=0x0;while(!![]){switch(_0x2507d2[_0x4afe93++]){case'0':this[_0x3beda9(0x186)]=null;continue;case'1':global[_0x3beda9(0x1e8)]=_0x3fca14;continue;case'2':helper[_0x3beda9(0x1a5)](this[_0x3beda9(0x199)]);continue;case'3':helper[_0x3beda9(0x13c)](this[_0x3beda9(0x199)]);continue;case'4':PerformanceTester[_0x3beda9(0x14c)]();continue;case'5':if(this['config'][_0x3beda9(0x162)])throw new Error(this[_0x3beda9(0x199)]['error']);continue;case'6':if(helper['isUndefined'](this['config']))throw new Error(_0x5ed596[_0x3beda9(0x206)]);continue;case'7':this[_0x3beda9(0x199)][_0x3beda9(0x152)]['skipSessionStatus']=!helper[_0x3beda9(0x1d1)]()||helper[_0x3beda9(0x1db)](this[_0x3beda9(0x199)][_0x3beda9(0x152)][_0x3beda9(0x220)]);continue;case'8':this['browserstackLocal']=null;continue;case'9':this[_0x3beda9(0x199)][_0x3beda9(0x152)]['skipSessionName']=!helper[_0x3beda9(0x1d1)]()||helper[_0x3beda9(0x1db)](this[_0x3beda9(0x199)][_0x3beda9(0x152)][_0x3beda9(0x225)]);continue;case'10':this[_0x3beda9(0x23b)]=[];continue;case'11':this['config'][_0x3beda9(0x152)]=this['config'][_0x3beda9(0x152)]||{};continue;case'12':helper[_0x3beda9(0x229)](this[_0x3beda9(0x199)],this[_0x3beda9(0x14a)],this[_0x3beda9(0x1f9)]);continue;case'13':helper['setLogLevel'](this['config'],this[_0x3beda9(0x14a)],this['envConfig']);continue;case'14':this[_0x3beda9(0x1ce)]={};continue;case'15':this[_0x3beda9(0x199)][_0x3beda9(0x176)]=this[_0x3beda9(0x199)][_0x3beda9(0x176)]||[];continue;case'16':helper['setBrowserstackInfraFromConfig'](this[_0x3beda9(0x199)],this['cliConfig']);continue;case'17':this[_0x3beda9(0x1f9)]=helper[_0x3beda9(0x1cb)]();continue;case'18':this[_0x3beda9(0x1e8)]=_0x3fca14;continue;case'19':this[_0x3beda9(0x158)]=_0x5ed596[_0x3beda9(0x1a3)](uuidv4);continue;case'20':helper[_0x3beda9(0x1aa)]();continue;case'21':this[_0x3beda9(0x15b)]=helper[_0x3beda9(0x155)](_0x484f1b);continue;case'22':this[_0x3beda9(0x199)]=helper[_0x3beda9(0x236)](this[_0x3beda9(0x15b)]);continue;case'23':this[_0x3beda9(0x14a)]=helper[_0x3beda9(0x1a2)](_0x484f1b);continue;}break;}}[a94_0x4fb406(0x183)](_0x4ab6fc){const _0x5bda67=a94_0x4fb406,_0x3506f5={'ocRKo':'userName\x20or\x20accessKey\x20is\x20not\x20defined','AkYyC':function(_0x33ba53,_0x17da1c){return _0x33ba53===_0x17da1c;},'RqfrF':function(_0x4fb3ce,_0x14e4d6){return _0x4fb3ce===_0x14e4d6;},'MyEjX':_0x5bda67(0x222),'iWujN':_0x5bda67(0x17b),'LTBlj':function(_0x51fbc0,_0x2255c){return _0x51fbc0<_0x2255c;},'lNRqK':function(_0x38416b,_0x491484){return _0x38416b(_0x491484);},'eGnBT':_0x5bda67(0x1e4),'SeXtZ':function(_0x3654e7,_0x1cefbd){return _0x3654e7===_0x1cefbd;},'gbJgo':_0x5bda67(0x181),'YgIBY':_0x5bda67(0x1c8),'tefGc':_0x5bda67(0x169),'dYtBQ':_0x5bda67(0x15a),'cWOkt':_0x5bda67(0x135),'OQpla':_0x5bda67(0x1ef),'Vgwnu':function(_0x1aa7c2,_0x52ef5a){return _0x1aa7c2!==_0x52ef5a;},'VxDhJ':_0x5bda67(0x13d),'iPvXy':_0x5bda67(0x166),'DOSgg':'SIGQUIT','kpeaA':_0x5bda67(0x20f),'ggLob':'beforeExit'},_0x53d0be=this[_0x5bda67(0x1e8)];global[_0x5bda67(0x199)]=this[_0x5bda67(0x199)],helper[_0x5bda67(0x13f)](this[_0x5bda67(0x199)]),this[_0x5bda67(0x1c6)]=null,global['sdkRunId']=this[_0x5bda67(0x158)],logger[_0x5bda67(0x147)](_0x5bda67(0x1ab)+this[_0x5bda67(0x158)]),!this[_0x5bda67(0x199)]['browserStackLocalOptions']&&(this[_0x5bda67(0x199)][_0x5bda67(0x21b)]=this[_0x5bda67(0x199)]['localOptions']||{});if(helper[_0x5bda67(0x12f)](helper['getUserName'](this[_0x5bda67(0x199)]))||helper[_0x5bda67(0x12f)](helper['getAccessKey'](this['config'])))throw new Error(_0x3506f5[_0x5bda67(0x18f)]);helper[_0x5bda67(0x178)](this['config'])&&helper[_0x5bda67(0x12f)](helper[_0x5bda67(0x14e)](this[_0x5bda67(0x199)]))&&(!helper[_0x5bda67(0x12f)](this['config']['browserStackLocalOptions'])&&_0x3506f5[_0x5bda67(0x1c4)](this[_0x5bda67(0x199)]['browserStackLocalOptions'][_0x5bda67(0x1bf)],Object)?!helper[_0x5bda67(0x1db)](this[_0x5bda67(0x199)][_0x5bda67(0x21b)]['skipBinaryInitialisation'])&&(this[_0x5bda67(0x199)][_0x5bda67(0x21b)][_0x5bda67(0x209)]=helper[_0x5bda67(0x227)]()):this[_0x5bda67(0x199)][_0x5bda67(0x21b)]={'localIdentifier':helper[_0x5bda67(0x227)]()});this[_0x5bda67(0x199)][_0x5bda67(0x21b)][_0x5bda67(0x171)]=helper[_0x5bda67(0x1db)](this[_0x5bda67(0x199)][_0x5bda67(0x21b)][_0x5bda67(0x171)]),helper[_0x5bda67(0x1e6)](this['config']);if(_0x3506f5[_0x5bda67(0x1a7)](_0x53d0be,_0x3506f5[_0x5bda67(0x218)]))return;this[_0x5bda67(0x1c3)]();process[_0x5bda67(0x1b8)][_0x5bda67(0x1b0)]&&(this[_0x5bda67(0x199)][_0x5bda67(0x140)]=helper['isTrue'](process[_0x5bda67(0x1b8)][_0x5bda67(0x1b0)]),this[_0x5bda67(0x199)][_0x5bda67(0x1f7)]=this[_0x5bda67(0x199)][_0x5bda67(0x1f7)]||{});helper[_0x5bda67(0x208)](this[_0x5bda67(0x199)])&&(process['env'][_0x5bda67(0x1b0)]=!![]);LoadTestModule[_0x5bda67(0x1cc)](this[_0x5bda67(0x199)])&&logger[_0x5bda67(0x1e9)](_0x5bda67(0x1e1)+this[_0x5bda67(0x158)]);if(!helper[_0x5bda67(0x1d1)]()){try{process[_0x5bda67(0x1b8)][_0x5bda67(0x1c2)]=_0x53d0be,utilities[_0x5bda67(0x197)](_0x3506f5[_0x5bda67(0x185)],{},this[_0x5bda67(0x199)],this[_0x5bda67(0x1e8)]);}catch(_0xf7f715){logger['debug']('Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20'+_0xf7f715);}return;}if(helper[_0x5bda67(0x1a8)](_0x53d0be)){if(global[_0x5bda67(0x194)])return;_0x3506f5['LTBlj'](_0x3506f5[_0x5bda67(0x1ec)](parseInt,helper['getPackageVersion'](_0x3506f5[_0x5bda67(0x1bd)])),0x3)&&(this[_0x5bda67(0x199)][_0x5bda67(0x15c)]=![]),_0x3506f5['SeXtZ'](helper['compareVersions'](helper[_0x5bda67(0x210)](_0x3506f5[_0x5bda67(0x1bd)]),_0x3506f5[_0x5bda67(0x191)]),0x1)&&(this['config'][_0x5bda67(0x15c)]=!![]);}(helper[_0x5bda67(0x12f)](this[_0x5bda67(0x199)][_0x5bda67(0x176)])||helper[_0x5bda67(0x12f)](this[_0x5bda67(0x199)][_0x5bda67(0x176)][_0x5bda67(0x1f6)]))&&(helper[_0x5bda67(0x12f)](this[_0x5bda67(0x199)][_0x5bda67(0x14b)])?logger['info'](_0x3506f5['YgIBY']):logger[_0x5bda67(0x188)](_0x3506f5[_0x5bda67(0x15d)]),this[_0x5bda67(0x199)][_0x5bda67(0x176)]=[]);!this[_0x5bda67(0x199)][_0x5bda67(0x152)]&&(this['config'][_0x5bda67(0x152)]={});try{process[_0x5bda67(0x1b8)][_0x5bda67(0x1c2)]=_0x4ab6fc['_'][0x0],utilities[_0x5bda67(0x197)](_0x3506f5[_0x5bda67(0x185)],{},this[_0x5bda67(0x199)],this[_0x5bda67(0x1e8)]);}catch(_0x4e82f6){logger['debug'](_0x5bda67(0x179)+_0x4e82f6);}!this[_0x5bda67(0x199)]['disableAutoCaptureLogs']&&logger[_0x5bda67(0x147)](constants[_0x5bda67(0x1b3)]),this[_0x5bda67(0x17e)]=this[_0x5bda67(0x17e)][_0x5bda67(0x1fd)](this),process['on'](_0x3506f5[_0x5bda67(0x1e7)],this[_0x5bda67(0x17e)]),process['on'](_0x3506f5[_0x5bda67(0x1bc)],this[_0x5bda67(0x17e)]),process['on'](_0x3506f5['OQpla'],this[_0x5bda67(0x17e)]),_0x3506f5[_0x5bda67(0x1c9)](process['platform'],_0x3506f5['VxDhJ'])?(process['on'](_0x3506f5['iPvXy'],this[_0x5bda67(0x17e)]),process['on'](_0x3506f5[_0x5bda67(0x22f)],this[_0x5bda67(0x17e)])):process['on'](_0x3506f5[_0x5bda67(0x156)],this[_0x5bda67(0x17e)]),process['on'](_0x3506f5['ggLob'],this[_0x5bda67(0x20d)]());}async[a94_0x4fb406(0x1b6)](_0x493c26){const _0x1e67bc=a94_0x4fb406,_0x576926={'lGHXo':_0x1e67bc(0x168),'vZGnS':'custom-repeater','MbRUo':_0x1e67bc(0x182),'fVOiS':function(_0x49e115,_0x2508f3){return _0x49e115===_0x2508f3;},'sdgbc':_0x1e67bc(0x1d2),'IACzU':function(_0x14400c,_0xdb9c95){return _0x14400c+_0xdb9c95;},'hYZda':'?caps=','kDVGA':function(_0x96ddae,_0x30ee6b){return _0x96ddae(_0x30ee6b);},'tVoam':_0x1e67bc(0x1d4)};this[_0x1e67bc(0x183)](_0x493c26);if(helper[_0x1e67bc(0x208)](this[_0x1e67bc(0x199)])){const _0xe613ee=await helper['getTurboScaleGridDetails'](this[_0x1e67bc(0x199)]);this[_0x1e67bc(0x199)][_0x1e67bc(0x1c0)]=_0xe613ee,_0xe613ee[_0x1e67bc(0x153)]&&helper['isNotUndefined'](this[_0x1e67bc(0x199)][_0x1e67bc(0x14f)])&&helper['isTrue'](this[_0x1e67bc(0x199)][_0x1e67bc(0x14f)])&&(this[_0x1e67bc(0x199)][_0x1e67bc(0x21b)][_0x1e67bc(0x209)]=_0x576926[_0x1e67bc(0x1ca)],this[_0x1e67bc(0x199)][_0x1e67bc(0x21b)][_0x576926[_0x1e67bc(0x1d5)]]=_0xe613ee[_0x1e67bc(0x175)][_0x1e67bc(0x215)](','),this[_0x1e67bc(0x199)][_0x1e67bc(0x21b)][_0x1e67bc(0x13b)]=_0x576926[_0x1e67bc(0x15e)]),this['config'][_0x1e67bc(0x150)]=_0xe613ee['url'],this['framework']&&_0x576926[_0x1e67bc(0x136)](this[_0x1e67bc(0x1e8)][_0x1e67bc(0x234)](),_0x576926[_0x1e67bc(0x1b1)])?this[_0x1e67bc(0x199)][_0x1e67bc(0x150)]=_0x576926[_0x1e67bc(0x139)](_0xe613ee['playwrightUrl'],_0x576926[_0x1e67bc(0x207)]):constants[_0x1e67bc(0x1d9)]=helper['getHubUrl'](this[_0x1e67bc(0x199)]),logger['debug'](_0x1e67bc(0x1fc)+constants[_0x1e67bc(0x1d9)]);}helper[_0x1e67bc(0x195)](this['config']),this[_0x1e67bc(0x151)](),_0x576926['kDVGA'](setPercyFlag,this),await this[_0x1e67bc(0x22c)](),![_0x576926[_0x1e67bc(0x22b)],_0x576926[_0x1e67bc(0x1b1)]]['includes'](this[_0x1e67bc(0x1e8)])&&!helper[_0x1e67bc(0x208)](this[_0x1e67bc(0x199)])&&!helper['getCentralUser']()[_0x1e67bc(0x1be)]&&await this[_0x1e67bc(0x13e)]();}async[a94_0x4fb406(0x1e3)](){const _0xe1182e=a94_0x4fb406,_0x52887d={};_0x52887d[_0xe1182e(0x15f)]=function(_0x16afeb,_0x40e2dc){return _0x16afeb===_0x40e2dc;},_0x52887d['fPbSD']=_0xe1182e(0x16f),_0x52887d[_0xe1182e(0x21c)]=_0xe1182e(0x12e),_0x52887d[_0xe1182e(0x211)]=_0xe1182e(0x137),_0x52887d[_0xe1182e(0x1d8)]=_0xe1182e(0x182),_0x52887d[_0xe1182e(0x145)]=_0xe1182e(0x232);const _0x50f9dd=_0x52887d;if(helper[_0xe1182e(0x1db)](this['config'][_0xe1182e(0x186)])&&(!this[_0xe1182e(0x186)]||!this[_0xe1182e(0x186)][_0xe1182e(0x192)]()))try{this[_0xe1182e(0x186)]=await percyHelper[_0xe1182e(0x133)](this[_0xe1182e(0x199)]);if(!this[_0xe1182e(0x186)]){process[_0xe1182e(0x1b8)][_0xe1182e(0x1a4)]=_0x50f9dd[_0xe1182e(0x1f0)];throw new Error(_0x50f9dd[_0xe1182e(0x21c)]);}logger[_0xe1182e(0x147)](_0x50f9dd['FhqOv']),process[_0xe1182e(0x1b8)]['BROWSERSTACK_PERCY']=_0x50f9dd[_0xe1182e(0x1d8)];let _0x350c59=0x0;const _0x11c2ef=async()=>{const _0x3c4002=_0xe1182e;_0x350c59++,_0x50f9dd[_0x3c4002(0x15f)](_0x350c59,0x1)&&await this[_0x3c4002(0x146)]();};process['on'](_0x50f9dd[_0xe1182e(0x145)],_0x11c2ef);}catch(_0x4f86bb){process['env'][_0xe1182e(0x1a4)]=_0x50f9dd[_0xe1182e(0x1f0)],logger[_0xe1182e(0x1e9)](_0xe1182e(0x21f)+_0x4f86bb);throw new Error(_0x4f86bb['toString']());}}async['stopPercy'](){const _0x564b46=a94_0x4fb406,_0x22a48a={};_0x22a48a[_0x564b46(0x1dd)]='Percy\x20stopped',_0x22a48a[_0x564b46(0x130)]='Error\x20occured\x20while\x20stopping\x20percy';const _0x552d79=_0x22a48a;if(this['percy']&&this[_0x564b46(0x186)][_0x564b46(0x192)]())try{await percyHelper[_0x564b46(0x146)](this[_0x564b46(0x186)]),logger[_0x564b46(0x147)](_0x552d79['QWPky']);}catch(_0x489ae0){logger[_0x564b46(0x162)](_0x552d79[_0x564b46(0x130)],_0x489ae0[_0x564b46(0x170)]);}}async[a94_0x4fb406(0x22c)](){const _0x17339d=a94_0x4fb406,_0x52dc55={};_0x52dc55[_0x17339d(0x167)]='Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled',_0x52dc55[_0x17339d(0x148)]=_0x17339d(0x1a1);const _0x386687=_0x52dc55;if(helper['isBrowserstackInfra']()&&helper[_0x17339d(0x1db)](this[_0x17339d(0x199)][_0x17339d(0x14f)])&&(!this[_0x17339d(0x14f)]||!this[_0x17339d(0x14f)]['isRunning']()))try{if(this[_0x17339d(0x199)]['browserStackLocalOptions'][_0x17339d(0x171)]){logger[_0x17339d(0x1e9)](_0x386687[_0x17339d(0x167)]);return;}this['browserstackLocal']=await helper[_0x17339d(0x228)](this['config']),logger[_0x17339d(0x147)](_0x386687[_0x17339d(0x148)]);}catch(_0x509dad){logger[_0x17339d(0x1e9)](_0x509dad);throw new Error(_0x509dad[_0x17339d(0x17d)]());}}async[a94_0x4fb406(0x219)](){const _0x45ac86=a94_0x4fb406,_0x18e07a={};_0x18e07a[_0x45ac86(0x231)]='Local\x20binary\x20stopped',_0x18e07a[_0x45ac86(0x18c)]=_0x45ac86(0x1c5);const _0x3bbab8=_0x18e07a;if(this[_0x45ac86(0x14f)]&&this[_0x45ac86(0x14f)][_0x45ac86(0x192)]())try{await helper[_0x45ac86(0x1da)](this[_0x45ac86(0x14f)]),logger[_0x45ac86(0x147)](_0x3bbab8[_0x45ac86(0x231)]);}catch(_0x485869){logger[_0x45ac86(0x162)](_0x3bbab8['xIDLt'],_0x485869[_0x45ac86(0x170)]);}}async[a94_0x4fb406(0x13e)](){const _0x594410=a94_0x4fb406;return PerformanceTester['measureWrapper'](PerformanceAutEvents[_0x594410(0x1e0)],async()=>{const _0x4efb8b=_0x594410;await hubAllocator[_0x4efb8b(0x226)](this['config']);})();}async[a94_0x4fb406(0x1e2)](){const _0xbbe3f4=a94_0x4fb406,_0xda079c={'JIJwk':function(_0x5c451e,_0x3137a9){return _0x5c451e(_0x3137a9);},'wlgZE':_0xbbe3f4(0x160),'KlSDQ':function(_0x45a46e,_0x43535f,_0x52c6ba,_0x20f42c,_0x55d6f7,_0xe1c76e,_0x59782a){return _0x45a46e(_0x43535f,_0x52c6ba,_0x20f42c,_0x55d6f7,_0xe1c76e,_0x59782a);},'vdgNk':_0xbbe3f4(0x19d),'OrQKi':'BrowserstackHealingInitFailed','hNGIT':function(_0x130711,_0x1539de){return _0x130711(_0x1539de);},'zjJmz':_0xbbe3f4(0x16a),'OhwLd':_0xbbe3f4(0x193),'xxPwD':function(_0x4df01f,_0x2682c5){return _0x4df01f===_0x2682c5;},'nRCFy':_0xbbe3f4(0x182),'TFkWS':_0xbbe3f4(0x1a0),'ymEaV':function(_0x112a2b,_0x2db3de){return _0x112a2b===_0x2db3de;},'WQtDw':_0xbbe3f4(0x1fb),'jTYjH':_0xbbe3f4(0x1a6),'PliRf':function(_0x4ffde0,_0x3764c5){return _0x4ffde0(_0x3764c5);},'wfHGK':_0xbbe3f4(0x1f3),'orKIG':function(_0x18a934,_0x452b44){return _0x18a934>=_0x452b44;},'nrSRg':function(_0x29a8a0,_0xc435fd){return _0x29a8a0<_0xc435fd;},'cfqMu':function(_0x582920,_0x4f8917){return _0x582920>=_0x4f8917;},'TnptY':_0xbbe3f4(0x19c),'RHILC':'aiHeal:tcgAuth','jWsTy':function(_0x164567){return _0x164567();}},_0x58ad00=PerformanceTester[_0xbbe3f4(0x184)](_0xda079c[_0xbbe3f4(0x21a)],async()=>{const _0x25557d=_0xbbe3f4;try{const _0x294831=new Date(),_0x31f917=helper[_0x25557d(0x143)](this['config']),_0x1c4062=_0xda079c['JIJwk'](require,path[_0x25557d(0x215)](__dirname,_0xda079c[_0x25557d(0x198)])),_0x4f63e2=_0xda079c[_0x25557d(0x1ea)](timeoutPromise,constants[_0x25557d(0x21d)],_0xda079c[_0x25557d(0x18e)],_0xda079c[_0x25557d(0x19b)],_0x294831,this[_0x25557d(0x199)],this['framework']),_0x4d3b02={'tcgUrl':constants[_0x25557d(0x154)],'sdkVersion':_0xda079c[_0x25557d(0x149)](require,_0xda079c[_0x25557d(0x1e5)])[_0x25557d(0x131)],'methodUsed':_0xda079c['OhwLd'],'proxyConfig':_0x31f917,'os':os[_0x25557d(0x1de)]()};if(_0x31f917&&_0x31f917[_0x25557d(0x20c)]){utilities[_0x25557d(0x197)](constants[_0x25557d(0x1af)],_0x4d3b02,this[_0x25557d(0x199)],this[_0x25557d(0x1e8)]);return;}const _0x44ce1e={};_0x44ce1e['proxy']=_0x31f917;const _0x40c6d6=await Promise['race']([_0x1c4062[_0x25557d(0x21e)](this[_0x25557d(0x199)][_0x25557d(0x1f8)],this[_0x25557d(0x199)][_0x25557d(0x163)],constants[_0x25557d(0x154)],_0xda079c['hNGIT'](require,_0xda079c['zjJmz'])[_0x25557d(0x131)],_0x44ce1e)['then'](_0x53cc1a=>{const _0x32cd6a=_0x25557d;return _0x4f63e2[_0x32cd6a(0x1a9)](),_0x53cc1a;}),_0x4f63e2]);_0x40c6d6[_0x25557d(0x217)]=_0xda079c['xxPwD'](_0x40c6d6[_0x25557d(0x217)],_0xda079c[_0x25557d(0x1f4)])||_0xda079c[_0x25557d(0x22a)](_0x40c6d6[_0x25557d(0x217)],!![]);const _0xabf648=_0xda079c[_0x25557d(0x22a)](this[_0x25557d(0x199)][_0x25557d(0x144)],!![])||_0xda079c[_0x25557d(0x22a)](this['config']['selfHeal'],_0xda079c[_0x25557d(0x1f4)]);if(_0xda079c['xxPwD'](_0x40c6d6[_0x25557d(0x170)],constants['UPGRADE_REQUIRED'])&&_0xabf648)logger[_0x25557d(0x147)](_0xda079c[_0x25557d(0x16d)]);else{if(!_0x40c6d6[_0x25557d(0x1b4)]&&_0xda079c['ymEaV'](_0x40c6d6[_0x25557d(0x18d)],0x1f7)&&_0xabf648)logger[_0x25557d(0x147)](_0xda079c[_0x25557d(0x1d3)]),utilities['fireFunnelTestEvent'](constants[_0x25557d(0x180)],_0x4d3b02,this[_0x25557d(0x199)],this[_0x25557d(0x1e8)]);else{if(!_0x40c6d6[_0x25557d(0x1b4)]&&_0xabf648){logger[_0x25557d(0x147)](_0xda079c[_0x25557d(0x1ed)]);const _0x3084b8={'tcgUrl':constants[_0x25557d(0x154)],'sdkVersion':_0xda079c['PliRf'](require,_0xda079c[_0x25557d(0x1e5)])['version'],'methodUsed':_0xda079c[_0x25557d(0x19e)],'proxyConfig':_0x31f917,'os':os[_0x25557d(0x1de)]()};utilities[_0x25557d(0x197)](constants[_0x25557d(0x14d)],_0x3084b8,this[_0x25557d(0x199)],this['framework']);}else{if(_0x40c6d6[_0x25557d(0x1b4)]&&!_0x40c6d6[_0x25557d(0x217)]&&_0xabf648)logger[_0x25557d(0x147)](_0xda079c[_0x25557d(0x141)]);else{if(_0xda079c['orKIG'](_0x40c6d6[_0x25557d(0x18d)],0xc8)&&_0xda079c['nrSRg'](_0x40c6d6[_0x25557d(0x18d)],0x12c))utilities[_0x25557d(0x197)](constants[_0x25557d(0x19a)],_0x4d3b02,this[_0x25557d(0x199)],this[_0x25557d(0x1e8)]);else{if(_0xda079c[_0x25557d(0x173)](_0x40c6d6[_0x25557d(0x18d)],0x190))_0x4d3b02['status']=_0x40c6d6[_0x25557d(0x18d)],utilities[_0x25557d(0x197)](constants[_0x25557d(0x239)],_0x4d3b02,this['config'],this[_0x25557d(0x1e8)]);else!_0x40c6d6[_0x25557d(0x18d)]&&utilities[_0x25557d(0x197)](constants[_0x25557d(0x16b)],_0x4d3b02,this['config'],this[_0x25557d(0x1e8)]);}}}}}if(_0x40c6d6[_0x25557d(0x1b4)]&&_0x40c6d6[_0x25557d(0x217)]){const _0x14dc39={};_0x14dc39[_0x25557d(0x213)]=_0x40c6d6;const _0x3967e5=_0x14dc39;_0x31f917&&(_0x3967e5['proxyConfig']=_0x31f917),_0x3967e5[_0x25557d(0x1e8)]=this[_0x25557d(0x1e8)],_0x3967e5[_0x25557d(0x202)]=this[_0x25557d(0x199)],helper['setupTcgConfigFile'](_0x3967e5),logger[_0x25557d(0x1e9)](_0xda079c['TnptY']);}}catch(_0xec0c92){logger['debug'](_0x25557d(0x1c7)+(_0xec0c92['message']?_0xec0c92[_0x25557d(0x170)]:''));}});await _0xda079c[_0xbbe3f4(0x13a)](_0x58ad00);}[a94_0x4fb406(0x151)](){const _0x3d1f1c=a94_0x4fb406,_0xec4d00={'TdZxc':function(_0x408819,_0x3a1b3c){return _0x408819(_0x3a1b3c);},'oMgBy':_0x3d1f1c(0x1b9)};_0xec4d00[_0x3d1f1c(0x17a)](require,_0xec4d00[_0x3d1f1c(0x196)])();}[a94_0x4fb406(0x1c3)](){const _0x408aa8=a94_0x4fb406,_0x3b59a2={};_0x3b59a2[_0x408aa8(0x22e)]=_0x408aa8(0x132),_0x3b59a2[_0x408aa8(0x204)]=_0x408aa8(0x18a),_0x3b59a2[_0x408aa8(0x1b7)]=_0x408aa8(0x233);const _0xe104f2=_0x3b59a2,_0x3ed7e4=_0x13f595=>{const _0x54ca6f=_0x408aa8,_0x3245c1=_0xe104f2['GRiXj'][_0x54ca6f(0x1ff)]('|');let _0x68a1f3=0x0;while(!![]){switch(_0x3245c1[_0x68a1f3++]){case'0':logger[_0x54ca6f(0x162)](_0x13f595['message']);continue;case'1':this[_0x54ca6f(0x23b)][_0x54ca6f(0x1d7)](util[_0x54ca6f(0x1ae)]('%j',_0x13f595));continue;case'2':PerformanceTester[_0x54ca6f(0x159)](_0x13f595);continue;case'3':logger[_0x54ca6f(0x1e9)](util[_0x54ca6f(0x1ae)](_0x13f595));continue;case'4':ClientTroubleShootingService[_0x54ca6f(0x235)]();continue;}break;}};process['on'](_0xe104f2[_0x408aa8(0x204)],_0x3ed7e4),process['on'](_0xe104f2['HsGxN'],_0x3ed7e4);}async[a94_0x4fb406(0x17e)](_0x55e605){const _0x54a0eb=a94_0x4fb406,_0x3a032d={};_0x3a032d[_0x54a0eb(0x23c)]='5|4|3|0|6|7|2|1',_0x3a032d[_0x54a0eb(0x174)]=function(_0x2d9818,_0x4e9136){return _0x2d9818+_0x4e9136;},_0x3a032d['xfPGU']=_0x54a0eb(0x19f),_0x3a032d[_0x54a0eb(0x1dc)]=function(_0x468268,_0x292408){return _0x468268+_0x292408;},_0x3a032d[_0x54a0eb(0x1fe)]=_0x54a0eb(0x1c1);const _0x583267=_0x3a032d,_0x1ddcdb=_0x583267['YzuVd'][_0x54a0eb(0x1ff)]('|');let _0x28ddf5=0x0;while(!![]){switch(_0x1ddcdb[_0x28ddf5++]){case'0':this['killSignal']=_0x55e605;continue;case'1':await BrowserstackCLI[_0x54a0eb(0x1b5)]()['stop']();continue;case'2':await ClientTroubleShootingService[_0x54a0eb(0x235)]();continue;case'3':logger[_0x54a0eb(0x147)](_0x583267['SLjgA'](_0x583267['xfPGU'],_0x55e605));continue;case'4':this[_0x583267[_0x54a0eb(0x1dc)](_0x583267[_0x54a0eb(0x1fe)],_0x55e605)]=!![];continue;case'5':if(this[_0x583267['kaBQR'](_0x583267[_0x54a0eb(0x1fe)],_0x55e605)])return;continue;case'6':await ClientTroubleShootingService[_0x54a0eb(0x1cd)](_0x55e605);continue;case'7':await TestHubHandler[_0x54a0eb(0x138)](_0x55e605);continue;}break;}}['exitHandler'](){const _0x50c7a9=a94_0x4fb406,_0x2cd30c={'Zugfe':function(_0x490bd1,_0x55b820){return _0x490bd1===_0x55b820;},'ZYwNy':_0x50c7a9(0x20a),'DOlkR':function(_0x588fac,_0x36ce78){return _0x588fac>_0x36ce78;},'jBqWI':function(_0x19a38f,_0x38de27){return _0x19a38f>_0x38de27;},'ycoPf':function(_0x13a7b8,_0x28a612){return _0x13a7b8(_0x28a612);},'PgRjI':function(_0x1dfe28,_0x408fac){return _0x1dfe28(_0x408fac);},'tyoCG':function(_0x293c36){return _0x293c36();},'UelXE':_0x50c7a9(0x142)};let _0x4c25d8=0x0;return async()=>{const _0x260f91=_0x50c7a9;_0x4c25d8++;if(_0x2cd30c[_0x260f91(0x1ee)](_0x4c25d8,0x1)){helper[_0x260f91(0x216)](this[_0x260f91(0x1e8)])&&await this[_0x260f91(0x219)]();try{logger[_0x260f91(0x1e9)](_0x2cd30c['ZYwNy']),await TestHubHandler[_0x260f91(0x138)](_0x4c25d8),await ClientTroubleShootingService[_0x260f91(0x235)](),await BrowserstackCLI[_0x260f91(0x1b5)]()[_0x260f91(0x138)]('1');}catch(_0x13f805){logger['debug']('Error\x20in\x20sending\x20testhub\x20stop:\x20'+util['format'](_0x13f805));}PerformanceTester['end'](PerformanceEvents['SDK_CLEANUP']);if(PerformanceTester[_0x260f91(0x205)]()){const {measures:_0x7b5892,errors:_0x400024}=await PerformanceTester['finalize'](),_0x30d83f={};if(_0x7b5892&&_0x2cd30c[_0x260f91(0x1ad)](_0x7b5892[_0x260f91(0x1f6)],0x0)||_0x400024&&_0x2cd30c[_0x260f91(0x20b)](_0x400024[_0x260f91(0x1f6)],0x0)){const _0x4359bf={};_0x4359bf[_0x260f91(0x1bb)]=_0x7b5892,_0x4359bf['exceptions']=_0x400024,Object[_0x260f91(0x223)](_0x30d83f,_0x4359bf);}try{const _0x5a2336=await helper['sendToEDS'](_0x30d83f,this[_0x260f91(0x199)]);logger['debug'](_0x260f91(0x177)+_0x2cd30c[_0x260f91(0x1eb)](getEdsInstrumentationAPIUrl,'')+_0x260f91(0x17c)+_0x5a2336[_0x260f91(0x1ba)]);}catch(_0x33b2f0){logger['debug'](_0x260f91(0x203)+_0x2cd30c['PgRjI'](getEdsInstrumentationAPIUrl,'')+'\x20with\x20error\x20'+util[_0x260f91(0x1ae)](_0x33b2f0));}try{fs[_0x260f91(0x1f2)](path[_0x260f91(0x215)](_0x2cd30c[_0x260f91(0x1d6)](getLogDir),_0x2cd30c[_0x260f91(0x1ac)]),JSON[_0x260f91(0x22d)](_0x30d83f));}catch(_0x3eb005){logger['debug'](_0x260f91(0x238)+_0x3eb005);}}}logger&&logger[_0x260f91(0x212)](),fileLogger&&fileLogger[_0x260f91(0x212)]();};}}exports[a94_0x4fb406(0x201)]=BrowserStackSetup;