function a55_0x48a6(_0x59ab88,_0x508a9c){const _0x782bf2=a55_0x782b();return a55_0x48a6=function(_0x48a6af,_0x423753){_0x48a6af=_0x48a6af-0xa8;let _0x6f8f31=_0x782bf2[_0x48a6af];return _0x6f8f31;},a55_0x48a6(_0x59ab88,_0x508a9c);}const a55_0x1706bf=a55_0x48a6;function a55_0x782b(){const _0x4f38aa=['uYNGN','exitHandler','./percy/utils','SIGBREAK','proxyConfig','AUTOLOGCAPTURE_NOTIFICATION','Error\x20in\x20writing\x20events\x20to\x20file\x20','killSignal','false','qPzcA','uCDMX','errorMessage','TCG_URL','setupPercy','split','proxy','kMTVb','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','19098vvufYM','5542278RopCGo','./timeoutPromise','mPGuf','codeceptjs','debug','sdFWH','toString','getHubUrl','Local\x20binary\x20stopped','INVALID_INIT_RESP_WITH_USER_IMPACT','winstonLogger','selenium-webdriver','../ai-sdk-node/bundle','uuid','getConfigPath','dwvvf','setupKeepAlive','isRunning','status','stopBrowserstackLocal','HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20','Percy\x20stopped','WdScQ','HUB_MANAGEMENT','JWCyF','XtptE','handled','integrations','setLogLevel','envConfig','turboScaleGridDetails','CPMfo','isEnabled','playwrightUrl','lBegG','fsvZk','push','format','lodOI','proxyUrl','assign','win32','stNaT','./setKeepAlive','4943529BJTaOi','turboScaleOptions','Njtwp','1|2|3|0|4','env','startMonitoring','uzkax','vuYWt','error','captureError','setupBrowserstackLocal','version','isTrialGrid','hubUrl','IHgLt','setLogDir','info','TCsQK','azflY','browserStackLocalOptions','YHoHE','GbHpH','length','WYYRn','setupTcgConfigFile','SIGINT','beforeExit','XZpkF','platform','AI_PROXY_FAILURE','jzmgx','Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.','CtUig','fireFunnelTestEvent','setBrowserstackInfraFromConfig','10032512yiWJQb','SIGTERM','NIyCR','getLocalConfig','./utilities','TFmcA','customRepeaters','setEnvCaps','AI_INIT_SUCCESSFUL','UPGRADE_REQUIRED','./performance/performance-tester','platforms','1aakjUo','JspTq','Shutdown\x20triggered\x20by\x20','xzUsH','dLEqb','RrwXp','ySemD','SsjoE','percy','Data\x20sent\x20successfully\x20to\x20','VBqml','4.5.0','SDK\x20run\x20started\x20with\x20id:\x20','startPercy','unhandledErrors','forceLocal','writeFileSync','stopPercy','getLocalIdentifier','TCG_AUTH_TIMEOUT','race','TahHJ','framework','util','setHandlePWError','tcg\x20config\x20setup\x20successful.','Hsvis','localOptions','SQdvi','stopLocalBinary','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','isBrowserstackInfra','tcgAuthConfig','getFinalCaps','FlEWP','Error\x20in\x20percy\x20setup\x20','vhSgh','Percy\x20started\x20successfully','yDEXc','userName\x20or\x20accessKey\x20is\x20not\x20defined','\x20with\x20error\x20','handleExceptions','pNTdA','sanitizeCaps','./performance/constants','ygnAe','NaCYA','2272LcadDH','BROWSERSTACK_PERCY','guUkA','default','3548652utNlPT','./ats/helper','Kglzs','testContextOptions','dTERm','disableAutoCaptureLogs','LIEqa','getPackageVersion','skipSessionStatus','userName','Local\x20binary\x20started\x20successfully','AI_INIT_FAILURE','isTrue','turboScaleUrl','wKmFY','ZMaxv','custom-repeater','SXcvZ','getAccessKey','preInitialize','69532070bNygCN','gtfsr','oSldB','usmAe','getProxyConfigForTcg','generateLocalIdentifier','events.json','RPyOH','19|16|20|9|8|6|0|4|13|14|17|2|10|12|15|5|18|7|11|3|1','82352IuSuYr','true','zPfvW','end','rvcHk','No\x20config\x20provided.','isUndefined','isHealingEnabled','\x20with\x20response\x20','./logger','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','join','yuJjL','FiWqR','fIRKy','localIdentifier','RpwGt','BrowserstackHealingInitFailed','isAuthenticated','../hubAllocationMethods','exceptions','skipSessionName','udMvM','warn','bFxrY','SDK_CLEANUP','EDS_URL','Error\x20occured\x20while\x20stopping\x20local\x20binary','WGjvG','message','requireSeleniumWebdriverCheck','readConfig','sdkRunID','central_scanner','pYSsr','BROWSERSTACK_TURBOSCALE','config','skipBinaryInitialisation','pySsx','YpnDX','./testhub/utils','statusCode','QEVaS','eksMC','startLocalBinary','SDKTestAttempted','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','Clrxc','setCLICaps','stop','setUpHubUrl','accessKey','useW3C','cliConfig','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','initialize','setupTCGAuth','browserstackLocal','intExitHandler','XIADh','measures','Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','includes','dRXOO','FRAMEWORK','bind','selfHeal','?caps=','parallelsPerPlatform','init','Daigz','215dZrYiA'];a55_0x782b=function(){return _0x4f38aa;};return a55_0x782b();}(function(_0x335087,_0x4a98cc){const _0x3a0483=a55_0x48a6,_0x15641a=_0x335087();while(!![]){try{const _0x106cbe=parseInt(_0x3a0483(0x174))/0x1*(-parseInt(_0x3a0483(0x1a7))/0x2)+-parseInt(_0x3a0483(0x145))/0x3+parseInt(_0x3a0483(0xbe))/0x4*(-parseInt(_0x3a0483(0x105))/0x5)+-parseInt(_0x3a0483(0x119))/0x6+-parseInt(_0x3a0483(0x168))/0x7+-parseInt(_0x3a0483(0x1a3))/0x8*(-parseInt(_0x3a0483(0x118))/0x9)+parseInt(_0x3a0483(0xb5))/0xa;if(_0x106cbe===_0x4a98cc)break;else _0x15641a['push'](_0x15641a['shift']());}catch(_0x5c5def){_0x15641a['push'](_0x15641a['shift']());}}}(a55_0x782b,0xd9a51));const util=require(a55_0x1706bf(0x18b)),os=require('os'),path=require('path'),{v4:uuidv4}=require(a55_0x1706bf(0x126)),fs=require('fs'),constants=require('../bin/utils/constants'),{isTurboScaleSession}=require(a55_0x1706bf(0x1a8)),logger=require(a55_0x1706bf(0xc7))[a55_0x1706bf(0x123)],{getLogDir}=require(a55_0x1706bf(0xc7)),helper=require('./helper'),utilities=require(a55_0x1706bf(0x16c)),percyHelper=require(a55_0x1706bf(0x108)),hubAllocator=require(a55_0x1706bf(0xd1)),PerformanceTester=require(a55_0x1706bf(0x172)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require(a55_0x1706bf(0x1a0)),{setPercyFlag}=require(a55_0x1706bf(0xe6)),TestHubHandler=require('./testhub/testhubHandler'),timeoutPromise=require(a55_0x1706bf(0x11a));class BrowserStackSetup{constructor(_0x455b19,_0xcdb738){const _0x34da63=a55_0x1706bf,_0x5a3d32={'rvcHk':_0x34da63(0xbd),'eksMC':_0x34da63(0xc3),'pNTdA':function(_0x21a78e){return _0x21a78e();}},_0xcf815c=_0x5a3d32[_0x34da63(0xc2)]['split']('|');let _0x280a34=0x0;while(!![]){switch(_0xcf815c[_0x280a34++]){case'0':this[_0x34da63(0xe2)][_0x34da63(0x173)]=this[_0x34da63(0xe2)][_0x34da63(0x173)]||[];continue;case'1':PerformanceTester[_0x34da63(0x14a)]();continue;case'2':global[_0x34da63(0x18a)]=_0xcdb738;continue;case'3':helper[_0x34da63(0x135)](this[_0x34da63(0xe2)],this[_0x34da63(0xf3)],this['envConfig']);continue;case'4':this['config'][_0x34da63(0x1aa)]=this[_0x34da63(0xe2)][_0x34da63(0x1aa)]||{};continue;case'5':this[_0x34da63(0xe2)][_0x34da63(0x1aa)][_0x34da63(0xa9)]=!helper[_0x34da63(0x193)]()||helper[_0x34da63(0xad)](this[_0x34da63(0xe2)][_0x34da63(0x1aa)]['skipSessionStatus']);continue;case'6':this['config']=helper[_0x34da63(0xdd)](helper[_0x34da63(0x127)](_0x455b19));continue;case'7':helper[_0x34da63(0x195)](this[_0x34da63(0xe2)],this['cliConfig'],this[_0x34da63(0x136)]);continue;case'8':this[_0x34da63(0x17c)]=null;continue;case'9':this[_0x34da63(0xf7)]=null;continue;case'10':if(helper[_0x34da63(0xc4)](this[_0x34da63(0xe2)]))throw new Error(_0x5a3d32[_0x34da63(0xe9)]);continue;case'11':helper[_0x34da63(0x154)](this[_0x34da63(0xe2)]);continue;case'12':if(this[_0x34da63(0xe2)][_0x34da63(0x14d)])throw new Error(this['config'][_0x34da63(0x14d)]);continue;case'13':this[_0x34da63(0x111)]={};continue;case'14':this['sdkRunID']=_0x5a3d32[_0x34da63(0x19e)](uuidv4);continue;case'15':helper[_0x34da63(0x167)](this['config'],this[_0x34da63(0xf3)]);continue;case'16':this[_0x34da63(0xf3)]=helper[_0x34da63(0xee)](_0x455b19);continue;case'17':this[_0x34da63(0x18a)]=_0xcdb738;continue;case'18':this[_0x34da63(0xe2)][_0x34da63(0x1aa)][_0x34da63(0xd3)]=!helper[_0x34da63(0x193)]()||helper['isTrue'](this[_0x34da63(0xe2)][_0x34da63(0x1aa)]['skipSessionName']);continue;case'19':this[_0x34da63(0x182)]=[];continue;case'20':this[_0x34da63(0x136)]=helper[_0x34da63(0x16f)]();continue;}break;}}[a55_0x1706bf(0xb4)](_0x435082){const _0x1f618c=a55_0x1706bf,_0x54bc32={'qPzcA':_0x1f618c(0x19b),'Clrxc':function(_0x27d216,_0x47c288){return _0x27d216===_0x47c288;},'TCsQK':function(_0x310d1a,_0x2d4138){return _0x310d1a===_0x2d4138;},'Hsvis':_0x1f618c(0x134),'wKmFY':_0x1f618c(0xeb),'Daigz':function(_0x137a48,_0x216c44){return _0x137a48<_0x216c44;},'SXcvZ':function(_0x1458a3,_0x5462e0){return _0x1458a3(_0x5462e0);},'yuJjL':_0x1f618c(0x124),'WYYRn':function(_0x5d32fe,_0x283315){return _0x5d32fe===_0x283315;},'SsjoE':_0x1f618c(0x17f),'WGjvG':_0x1f618c(0xf4),'Kglzs':'parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','QEVaS':_0x1f618c(0x169),'VBqml':_0x1f618c(0x15e),'xoHDt':'SIGHUP','mtBOa':function(_0x20558d,_0x57048a){return _0x20558d!==_0x57048a;},'usmAe':_0x1f618c(0x142),'CtUig':'SIGABRT','mgaIQ':'SIGQUIT','ASjdV':_0x1f618c(0x109),'Njtwp':'beforeExit'},_0x186bad=this[_0x1f618c(0x18a)];global[_0x1f618c(0xe2)]=this['config'],helper[_0x1f618c(0x19f)](this[_0x1f618c(0xe2)]),this[_0x1f618c(0x10d)]=null,global[_0x1f618c(0xde)]=this['sdkRunID'],logger[_0x1f618c(0x155)](_0x1f618c(0x180)+this[_0x1f618c(0xde)]),!this['config'][_0x1f618c(0x158)]&&(this[_0x1f618c(0xe2)][_0x1f618c(0x158)]=this['config'][_0x1f618c(0x18f)]||{});if(helper[_0x1f618c(0xc4)](helper['getUserName'](this[_0x1f618c(0xe2)]))||helper['isUndefined'](helper[_0x1f618c(0xb3)](this[_0x1f618c(0xe2)])))throw new Error(_0x54bc32[_0x1f618c(0x10f)]);helper[_0x1f618c(0x16b)](this['config'])&&helper[_0x1f618c(0xc4)](helper[_0x1f618c(0x186)](this[_0x1f618c(0xe2)]))&&(!helper[_0x1f618c(0xc4)](this[_0x1f618c(0xe2)][_0x1f618c(0x158)])&&_0x54bc32[_0x1f618c(0xed)](this[_0x1f618c(0xe2)][_0x1f618c(0x158)]['constructor'],Object)?!helper['isTrue'](this[_0x1f618c(0xe2)][_0x1f618c(0x158)][_0x1f618c(0xe3)])&&(this['config']['browserStackLocalOptions'][_0x1f618c(0xcd)]=helper[_0x1f618c(0xba)]()):this[_0x1f618c(0xe2)][_0x1f618c(0x158)]={'localIdentifier':helper['generateLocalIdentifier']()});this['config']['browserStackLocalOptions'][_0x1f618c(0xe3)]=helper[_0x1f618c(0xad)](this[_0x1f618c(0xe2)][_0x1f618c(0x158)][_0x1f618c(0xe3)]),helper[_0x1f618c(0x18c)](this['config']);if(_0x54bc32[_0x1f618c(0x156)](_0x186bad,_0x54bc32[_0x1f618c(0x18e)]))return;this['handleExceptions']();process['env'][_0x1f618c(0xe1)]&&(this[_0x1f618c(0xe2)]['turboScale']=helper['isTrue'](process[_0x1f618c(0x149)]['BROWSERSTACK_TURBOSCALE']),this[_0x1f618c(0xe2)][_0x1f618c(0x146)]=this[_0x1f618c(0xe2)][_0x1f618c(0x146)]||{});if(!helper['isBrowserstackInfra']()){try{process['env'][_0x1f618c(0xfe)]=_0x186bad,utilities['fireFunnelTestEvent'](_0x54bc32[_0x1f618c(0xaf)],{},this[_0x1f618c(0xe2)],this[_0x1f618c(0x18a)]);}catch(_0x30a554){logger['debug'](_0x1f618c(0x192)+_0x30a554);}return;}helper[_0x1f618c(0xdc)](_0x186bad)&&(_0x54bc32[_0x1f618c(0x104)](_0x54bc32[_0x1f618c(0xb2)](parseInt,helper[_0x1f618c(0xa8)](_0x54bc32['yuJjL'])),0x3)&&(this[_0x1f618c(0xe2)][_0x1f618c(0xf2)]=![]),_0x54bc32[_0x1f618c(0x15c)](helper['compareVersions'](helper['getPackageVersion'](_0x54bc32[_0x1f618c(0xca)]),_0x54bc32[_0x1f618c(0x17b)]),0x1)&&(this[_0x1f618c(0xe2)][_0x1f618c(0xf2)]=!![]));(helper[_0x1f618c(0xc4)](this[_0x1f618c(0xe2)]['platforms'])||helper['isUndefined'](this[_0x1f618c(0xe2)]['platforms'][_0x1f618c(0x15b)]))&&(helper['isUndefined'](this['config'][_0x1f618c(0x102)])?logger[_0x1f618c(0x155)](_0x54bc32[_0x1f618c(0xda)]):logger[_0x1f618c(0xd5)](_0x54bc32[_0x1f618c(0x1a9)]),this[_0x1f618c(0xe2)][_0x1f618c(0x173)]=[]);!this['config'][_0x1f618c(0x1aa)]&&(this[_0x1f618c(0xe2)][_0x1f618c(0x1aa)]={});try{process[_0x1f618c(0x149)][_0x1f618c(0xfe)]=_0x435082['_'][0x0],utilities[_0x1f618c(0x166)](_0x54bc32[_0x1f618c(0xaf)],{},this['config'],this[_0x1f618c(0x18a)]);}catch(_0x1b3b3b){logger[_0x1f618c(0x11d)]('Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20'+_0x1b3b3b);}!this[_0x1f618c(0xe2)][_0x1f618c(0x1ac)]&&logger[_0x1f618c(0x155)](constants[_0x1f618c(0x10b)]),this[_0x1f618c(0xf8)]=this[_0x1f618c(0xf8)][_0x1f618c(0xff)](this),process['on'](_0x54bc32[_0x1f618c(0xe8)],this[_0x1f618c(0xf8)]),process['on'](_0x54bc32[_0x1f618c(0x17e)],this[_0x1f618c(0xf8)]),process['on'](_0x54bc32['xoHDt'],this[_0x1f618c(0xf8)]),_0x54bc32['mtBOa'](process[_0x1f618c(0x161)],_0x54bc32[_0x1f618c(0xb8)])?(process['on'](_0x54bc32[_0x1f618c(0x165)],this['intExitHandler']),process['on'](_0x54bc32['mgaIQ'],this[_0x1f618c(0xf8)])):process['on'](_0x54bc32['ASjdV'],this[_0x1f618c(0xf8)]),process['on'](_0x54bc32[_0x1f618c(0x147)],this[_0x1f618c(0x107)]());}async[a55_0x1706bf(0xf5)](_0x15fa53){const _0xc1dc37=a55_0x1706bf,_0x256ee7={'fIRKy':function(_0x43e6c4,_0x240ed5){return _0x43e6c4(_0x240ed5);},'uYNGN':'ats-repeater','dLEqb':_0xc1dc37(0xb1),'fPSAr':_0xc1dc37(0xbf),'gtfsr':function(_0x2f99f5,_0x4c9a92){return _0x2f99f5===_0x4c9a92;},'sdFWH':'playwright','NIyCR':function(_0x4112be,_0x5b4a19){return _0x4112be+_0x5b4a19;},'dRXOO':_0xc1dc37(0x101),'JWCyF':function(_0x59f961,_0x3320cf){return _0x59f961(_0x3320cf);},'ySemD':_0xc1dc37(0x11c)};this[_0xc1dc37(0xb4)](_0x15fa53);if(_0x256ee7[_0xc1dc37(0xcc)](isTurboScaleSession,this[_0xc1dc37(0xe2)])){const _0x52de14=await helper['getTurboScaleGridDetails'](this['config']);this[_0xc1dc37(0xe2)][_0xc1dc37(0x137)]=_0x52de14,_0x52de14[_0xc1dc37(0x151)]&&(this[_0xc1dc37(0xe2)][_0xc1dc37(0xf7)]=!![],this[_0xc1dc37(0xe2)][_0xc1dc37(0x158)][_0xc1dc37(0xcd)]=_0x256ee7[_0xc1dc37(0x106)],this['config'][_0xc1dc37(0x158)][_0x256ee7[_0xc1dc37(0x178)]]=_0x52de14[_0xc1dc37(0x16e)][_0xc1dc37(0xc9)](','),this[_0xc1dc37(0xe2)]['browserStackLocalOptions'][_0xc1dc37(0x183)]=_0x256ee7['fPSAr']),this[_0xc1dc37(0xe2)][_0xc1dc37(0xae)]=_0x52de14['url'],this[_0xc1dc37(0x18a)]&&_0x256ee7[_0xc1dc37(0xb6)](this[_0xc1dc37(0x18a)]['toLowerCase'](),_0x256ee7[_0xc1dc37(0x11e)])&&(this[_0xc1dc37(0xe2)][_0xc1dc37(0xae)]=_0x256ee7[_0xc1dc37(0x16a)](_0x52de14[_0xc1dc37(0x13a)],_0x256ee7[_0xc1dc37(0xfd)])),constants['hubUrl']=helper[_0xc1dc37(0x120)](this[_0xc1dc37(0xe2)]),logger[_0xc1dc37(0x11d)](_0xc1dc37(0x12d)+constants[_0xc1dc37(0x152)]);}helper['setProxySettings'](this[_0xc1dc37(0xe2)]),this[_0xc1dc37(0x129)](),_0x256ee7[_0xc1dc37(0x131)](setPercyFlag,this),await this['setupBrowserstackLocal'](),![_0x256ee7[_0xc1dc37(0x17a)]][_0xc1dc37(0xfc)](this['framework'])&&!_0x256ee7[_0xc1dc37(0x131)](isTurboScaleSession,this[_0xc1dc37(0xe2)])&&!helper['getCentralUser']()[_0xc1dc37(0xdf)]&&await this[_0xc1dc37(0xf0)]();}async[a55_0x1706bf(0x113)](){const _0x1b6bae=a55_0x1706bf,_0x4efb0b={};_0x4efb0b['TFmcA']=function(_0x44cc75,_0x3a1385){return _0x44cc75===_0x3a1385;},_0x4efb0b['XIADh']=_0x1b6bae(0x10e),_0x4efb0b[_0x1b6bae(0xce)]=_0x1b6bae(0x164),_0x4efb0b[_0x1b6bae(0x1a2)]=_0x1b6bae(0x199),_0x4efb0b[_0x1b6bae(0x157)]=_0x1b6bae(0xbf),_0x4efb0b[_0x1b6bae(0x1a1)]=_0x1b6bae(0x15f);const _0x23e374=_0x4efb0b;if(helper[_0x1b6bae(0xad)](this['config'][_0x1b6bae(0x17c)])&&(!this[_0x1b6bae(0x17c)]||!this[_0x1b6bae(0x17c)][_0x1b6bae(0x12a)]()))try{this[_0x1b6bae(0x17c)]=await percyHelper[_0x1b6bae(0x181)](this[_0x1b6bae(0xe2)]);if(!this[_0x1b6bae(0x17c)]){process['env'][_0x1b6bae(0x1a4)]=_0x23e374[_0x1b6bae(0xf9)];throw new Error(_0x23e374[_0x1b6bae(0xce)]);}logger['info'](_0x23e374['NaCYA']),process[_0x1b6bae(0x149)]['BROWSERSTACK_PERCY']=_0x23e374['azflY'];let _0x2b745d=0x0;const _0x41348=async()=>{const _0x420ca9=_0x1b6bae;_0x2b745d++,_0x23e374[_0x420ca9(0x16d)](_0x2b745d,0x1)&&await this[_0x420ca9(0x185)]();};process['on'](_0x23e374[_0x1b6bae(0x1a1)],_0x41348);}catch(_0x160ad5){process[_0x1b6bae(0x149)]['BROWSERSTACK_PERCY']=_0x23e374[_0x1b6bae(0xf9)],logger[_0x1b6bae(0x11d)](_0x1b6bae(0x197)+_0x160ad5);throw new Error(_0x160ad5[_0x1b6bae(0x11f)]());}}async[a55_0x1706bf(0x185)](){const _0x3e2b93=a55_0x1706bf,_0x184042={};_0x184042[_0x3e2b93(0x1a5)]=_0x3e2b93(0x12e),_0x184042[_0x3e2b93(0x13c)]='Error\x20occured\x20while\x20stopping\x20percy';const _0x13e6da=_0x184042;if(this['percy']&&this[_0x3e2b93(0x17c)][_0x3e2b93(0x12a)]())try{await percyHelper[_0x3e2b93(0x185)](this[_0x3e2b93(0x17c)]),logger[_0x3e2b93(0x155)](_0x13e6da[_0x3e2b93(0x1a5)]);}catch(_0x116365){logger['error'](_0x13e6da['fsvZk'],_0x116365[_0x3e2b93(0xdb)]);}}async[a55_0x1706bf(0x14f)](){const _0x5750ff=a55_0x1706bf,_0xc87e76={};_0xc87e76[_0x5750ff(0xe0)]='Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled',_0xc87e76['pySsx']=_0x5750ff(0xab);const _0x5624c3=_0xc87e76;if(helper[_0x5750ff(0x193)]()&&helper['isTrue'](this[_0x5750ff(0xe2)]['browserstackLocal'])&&(!this[_0x5750ff(0xf7)]||!this[_0x5750ff(0xf7)]['isRunning']()))try{if(this['config']['browserStackLocalOptions'][_0x5750ff(0xe3)]){logger[_0x5750ff(0x11d)](_0x5624c3[_0x5750ff(0xe0)]);return;}this['browserstackLocal']=await helper[_0x5750ff(0xea)](this[_0x5750ff(0xe2)]),logger['info'](_0x5624c3[_0x5750ff(0xe4)]);}catch(_0x4a70b9){logger[_0x5750ff(0x11d)](_0x4a70b9);throw new Error(_0x4a70b9[_0x5750ff(0x11f)]());}}async[a55_0x1706bf(0x12c)](){const _0xb052ee=a55_0x1706bf,_0x1cc25b={};_0x1cc25b[_0xb052ee(0x19a)]=_0xb052ee(0x121),_0x1cc25b[_0xb052ee(0x1ad)]=_0xb052ee(0xd9);const _0x1a7b12=_0x1cc25b;if(this[_0xb052ee(0xf7)]&&this['browserstackLocal'][_0xb052ee(0x12a)]())try{await helper[_0xb052ee(0x191)](this[_0xb052ee(0xf7)]),logger[_0xb052ee(0x155)](_0x1a7b12[_0xb052ee(0x19a)]);}catch(_0x5b82b8){logger['error'](_0x1a7b12[_0xb052ee(0x1ad)],_0x5b82b8[_0xb052ee(0xdb)]);}}async[a55_0x1706bf(0xf0)](){const _0x64616e=a55_0x1706bf;return PerformanceTester['measureWrapper'](PerformanceAutEvents[_0x64616e(0x130)],async()=>{const _0xb7b780=_0x64616e;await hubAllocator['allocateHub'](this[_0xb7b780(0xe2)]);})();}async[a55_0x1706bf(0xf6)](){const _0x3efccf=a55_0x1706bf,_0x546a7a={'XZpkF':function(_0x17dca8,_0x474d21){return _0x17dca8(_0x474d21);},'uCDMX':_0x3efccf(0x125),'lBegG':function(_0xbce5e2,_0x3c6de2,_0x2b5a17,_0x399fdb,_0xebb8d4,_0x4fad9c,_0x29540d){return _0xbce5e2(_0x3c6de2,_0x2b5a17,_0x399fdb,_0xebb8d4,_0x4fad9c,_0x29540d);},'ffmaI':'BrowserstackHealing.init\x20method\x20timed\x20out','GbHpH':_0x3efccf(0xcf),'oSldB':function(_0x1ac2bc,_0x32da63){return _0x1ac2bc(_0x32da63);},'bFxrY':'../../package.json','stNaT':'BrowserstackHealing.init','zPfvW':function(_0x37db3e,_0x1c409a){return _0x37db3e===_0x1c409a;},'CPMfo':'true','YHoHE':function(_0xff43ea,_0x2aab1c){return _0xff43ea===_0x2aab1c;},'RrwXp':function(_0x5b1fe2,_0x25fb1d){return _0x5b1fe2===_0x25fb1d;},'YpnDX':function(_0x2587c2,_0x2d9f1f){return _0x2587c2===_0x2d9f1f;},'vhSgh':_0x3efccf(0x117),'RPyOH':function(_0x1fdc1e,_0x36c1a5){return _0x1fdc1e===_0x36c1a5;},'kMTVb':_0x3efccf(0xec),'udMvM':_0x3efccf(0xfb),'mPGuf':function(_0xfae0cc,_0x26e12c){return _0xfae0cc(_0x26e12c);},'HYxQk':'Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','jzmgx':function(_0x2cc3db,_0x5a11b3){return _0x2cc3db>=_0x5a11b3;},'Mesva':function(_0x2e7a33,_0x4f4afc){return _0x2e7a33<_0x4f4afc;},'dwvvf':function(_0x8d25f3,_0x3da529){return _0x8d25f3>=_0x3da529;},'XtptE':_0x3efccf(0x18d),'uzkax':'aiHeal:tcgAuth','JspTq':function(_0x21936f){return _0x21936f();}},_0xe38cf5=PerformanceTester['measureWrapper'](_0x546a7a[_0x3efccf(0x14b)],async()=>{const _0x46699b=_0x3efccf;try{const _0x382729=new Date(),_0x10f78c=helper[_0x46699b(0xb9)](this[_0x46699b(0xe2)]),_0x427771=_0x546a7a['XZpkF'](require,path[_0x46699b(0xc9)](__dirname,_0x546a7a[_0x46699b(0x110)])),_0x248e53=_0x546a7a[_0x46699b(0x13b)](timeoutPromise,constants[_0x46699b(0x187)],_0x546a7a['ffmaI'],_0x546a7a[_0x46699b(0x15a)],_0x382729,this[_0x46699b(0xe2)],this[_0x46699b(0x18a)]),_0x4e4d5d={'tcgUrl':constants['TCG_URL'],'sdkVersion':_0x546a7a[_0x46699b(0xb7)](require,_0x546a7a[_0x46699b(0xd6)])[_0x46699b(0x150)],'methodUsed':_0x546a7a['stNaT'],'proxyConfig':_0x10f78c,'os':os[_0x46699b(0x161)]()};if(_0x10f78c&&_0x10f78c[_0x46699b(0x140)]){utilities['fireFunnelTestEvent'](constants[_0x46699b(0x162)],_0x4e4d5d,this[_0x46699b(0xe2)],this[_0x46699b(0x18a)]);return;}const _0x44964f={};_0x44964f[_0x46699b(0x115)]=_0x10f78c;const _0x54177d=await Promise[_0x46699b(0x188)]([_0x427771[_0x46699b(0x103)](this[_0x46699b(0xe2)][_0x46699b(0xf1)],this[_0x46699b(0xe2)][_0x46699b(0xaa)],constants['TCG_URL'],_0x546a7a[_0x46699b(0x160)](require,_0x546a7a['bFxrY'])['version'],_0x44964f)['then'](_0x23c7ee=>{return _0x248e53['cancel'](),_0x23c7ee;}),_0x248e53]);_0x54177d[_0x46699b(0xc5)]=_0x546a7a[_0x46699b(0xc0)](_0x54177d[_0x46699b(0xc5)],_0x546a7a[_0x46699b(0x138)])||_0x546a7a[_0x46699b(0x159)](_0x54177d[_0x46699b(0xc5)],!![]);const _0xdfac01=_0x546a7a[_0x46699b(0x179)](this[_0x46699b(0xe2)][_0x46699b(0x100)],!![])||_0x546a7a['YHoHE'](this[_0x46699b(0xe2)][_0x46699b(0x100)],_0x546a7a[_0x46699b(0x138)]);if(_0x546a7a[_0x46699b(0xe5)](_0x54177d[_0x46699b(0xdb)],constants[_0x46699b(0x171)])&&_0xdfac01)logger['info'](_0x546a7a[_0x46699b(0x198)]);else{if(!_0x54177d[_0x46699b(0xd0)]&&_0x546a7a[_0x46699b(0xbc)](_0x54177d['status'],0x1f7)&&_0xdfac01)logger[_0x46699b(0x155)](_0x546a7a[_0x46699b(0x116)]),utilities[_0x46699b(0x166)](constants['TCG_DOWN'],_0x4e4d5d,this[_0x46699b(0xe2)],this[_0x46699b(0x18a)]);else{if(!_0x54177d[_0x46699b(0xd0)]&&_0xdfac01){logger[_0x46699b(0x155)](_0x546a7a[_0x46699b(0xd4)]);const _0x410605={'tcgUrl':constants[_0x46699b(0x112)],'sdkVersion':_0x546a7a[_0x46699b(0x11b)](require,_0x546a7a[_0x46699b(0xd6)])[_0x46699b(0x150)],'methodUsed':_0x546a7a[_0x46699b(0x143)],'proxyConfig':_0x10f78c,'os':os[_0x46699b(0x161)]()};utilities[_0x46699b(0x166)](constants['TCG_AUTH_FAILURE'],_0x410605,this[_0x46699b(0xe2)],this[_0x46699b(0x18a)]);}else{if(_0x54177d[_0x46699b(0xd0)]&&!_0x54177d[_0x46699b(0xc5)]&&_0xdfac01)logger['info'](_0x546a7a['HYxQk']);else{if(_0x546a7a[_0x46699b(0x163)](_0x54177d[_0x46699b(0x12b)],0xc8)&&_0x546a7a['Mesva'](_0x54177d[_0x46699b(0x12b)],0x12c))utilities[_0x46699b(0x166)](constants[_0x46699b(0x170)],_0x4e4d5d,this[_0x46699b(0xe2)],this[_0x46699b(0x18a)]);else{if(_0x546a7a[_0x46699b(0x128)](_0x54177d[_0x46699b(0x12b)],0x190))_0x4e4d5d[_0x46699b(0x12b)]=_0x54177d['status'],utilities[_0x46699b(0x166)](constants[_0x46699b(0xac)],_0x4e4d5d,this[_0x46699b(0xe2)],this[_0x46699b(0x18a)]);else!_0x54177d[_0x46699b(0x12b)]&&utilities[_0x46699b(0x166)](constants[_0x46699b(0x122)],_0x4e4d5d,this[_0x46699b(0xe2)],this[_0x46699b(0x18a)]);}}}}}if(_0x54177d[_0x46699b(0xd0)]&&_0x54177d['isHealingEnabled']){const _0x2d286d={};_0x2d286d[_0x46699b(0x194)]=_0x54177d;const _0x299f0b=_0x2d286d;_0x10f78c&&(_0x299f0b[_0x46699b(0x10a)]=_0x10f78c),_0x299f0b['framework']=this['framework'],_0x299f0b['bstackConfig']=this[_0x46699b(0xe2)],helper[_0x46699b(0x15d)](_0x299f0b),logger[_0x46699b(0x11d)](_0x546a7a[_0x46699b(0x132)]);}}catch(_0x65fdd0){logger[_0x46699b(0x11d)](_0x46699b(0xc8)+(_0x65fdd0[_0x46699b(0xdb)]?_0x65fdd0[_0x46699b(0xdb)]:''));}});await _0x546a7a[_0x3efccf(0x175)](_0xe38cf5);}[a55_0x1706bf(0x129)](){const _0x1eda91=a55_0x1706bf,_0x36cef8={'ZMaxv':function(_0x5925d9,_0x4d871d){return _0x5925d9(_0x4d871d);},'sbrGV':_0x1eda91(0x144)};_0x36cef8[_0x1eda91(0xb0)](require,_0x36cef8['sbrGV'])();}[a55_0x1706bf(0x19d)](){const _0x5379f4=a55_0x1706bf,_0x2e6eec={};_0x2e6eec['xzUsH']='unhandledRejection',_0x2e6eec[_0x5379f4(0x190)]='uncaughtException';const _0x15d610=_0x2e6eec,_0x5c67d9=_0x3c7189=>{const _0x1ddfe3=_0x5379f4;logger['error'](_0x3c7189[_0x1ddfe3(0xdb)]),logger['debug'](util['format'](_0x3c7189)),this[_0x1ddfe3(0x182)][_0x1ddfe3(0x13d)](util[_0x1ddfe3(0x13e)]('%j',_0x3c7189)),PerformanceTester[_0x1ddfe3(0x14e)](_0x3c7189);};process['on'](_0x15d610[_0x5379f4(0x177)],_0x5c67d9),process['on'](_0x15d610[_0x5379f4(0x190)],_0x5c67d9);}async[a55_0x1706bf(0xf8)](_0x39022b){const _0x458301=a55_0x1706bf,_0x306216={};_0x306216[_0x458301(0x196)]=_0x458301(0x148),_0x306216[_0x458301(0x153)]=function(_0x14389a,_0x476042){return _0x14389a+_0x476042;},_0x306216[_0x458301(0x14c)]=_0x458301(0x133),_0x306216[_0x458301(0x12f)]=_0x458301(0x176);const _0x361d72=_0x306216,_0x2f0659=_0x361d72[_0x458301(0x196)][_0x458301(0x114)]('|');let _0x4dd6ae=0x0;while(!![]){switch(_0x2f0659[_0x4dd6ae++]){case'0':this['killSignal']=_0x39022b;continue;case'1':if(this[_0x361d72['IHgLt'](_0x361d72['vuYWt'],_0x39022b)])return;continue;case'2':this[_0x361d72[_0x458301(0x153)](_0x361d72[_0x458301(0x14c)],_0x39022b)]=!![];continue;case'3':logger[_0x458301(0x155)](_0x361d72[_0x458301(0x153)](_0x361d72[_0x458301(0x12f)],_0x39022b));continue;case'4':await TestHubHandler[_0x458301(0xef)](_0x39022b);continue;}break;}}[a55_0x1706bf(0x107)](){const _0x725bb=a55_0x1706bf,_0xfb73c1={'lodOI':function(_0x2b841b,_0x54dd78){return _0x2b841b===_0x54dd78;},'dTERm':'Calling\x20Build\x20Stop\x20from\x20ExitHandler','wlOTm':function(_0x227544,_0x4f8624){return _0x227544>_0x4f8624;},'TahHJ':function(_0x209145){return _0x209145();},'FiWqR':_0x725bb(0xbb)};let _0x1e8b8b=0x0;return async()=>{const _0x24a671=_0x725bb;_0x1e8b8b++;if(_0xfb73c1[_0x24a671(0x13f)](_0x1e8b8b,0x1)){helper['checkStopLocalBinaryOnExit'](this[_0x24a671(0x18a)])&&await this['stopBrowserstackLocal']();try{logger['debug'](_0xfb73c1[_0x24a671(0x1ab)]),await TestHubHandler[_0x24a671(0xef)](_0x1e8b8b);}catch(_0x243a41){logger[_0x24a671(0x11d)]('Error\x20in\x20sending\x20testhub\x20stop:\x20'+util['format'](_0x243a41));}PerformanceTester[_0x24a671(0xc1)](PerformanceEvents[_0x24a671(0xd7)]);if(PerformanceTester[_0x24a671(0x139)]()){const {measures:_0x5d9db,errors:_0x32c232}=await PerformanceTester['finalize'](),_0xc7e54={};if(_0x5d9db&&_0xfb73c1['wlOTm'](_0x5d9db['length'],0x0)||_0x32c232&&_0xfb73c1['wlOTm'](_0x32c232[_0x24a671(0x15b)],0x0)){const _0x1b1ee0={};_0x1b1ee0[_0x24a671(0xfa)]=_0x5d9db,_0x1b1ee0[_0x24a671(0xd2)]=_0x32c232,Object[_0x24a671(0x141)](_0xc7e54,_0x1b1ee0);}try{const _0x34e8c6=await helper['sendToEDS'](_0xc7e54,this[_0x24a671(0xe2)]);logger[_0x24a671(0x11d)](_0x24a671(0x17d)+constants[_0x24a671(0xd8)]+_0x24a671(0xc6)+_0x34e8c6[_0x24a671(0xe7)]);}catch(_0x498c6a){logger[_0x24a671(0x11d)]('Failed\x20to\x20send\x20data\x20to\x20'+constants[_0x24a671(0xd8)]+_0x24a671(0x19c)+util[_0x24a671(0x13e)](_0x498c6a));}try{fs[_0x24a671(0x184)](path[_0x24a671(0xc9)](_0xfb73c1[_0x24a671(0x189)](getLogDir),_0xfb73c1[_0x24a671(0xcb)]),JSON['stringify'](_0xc7e54));}catch(_0x13525a){logger[_0x24a671(0x11d)](_0x24a671(0x10c)+_0x13525a);}}}};}}exports[a55_0x1706bf(0x1a6)]=BrowserStackSetup;