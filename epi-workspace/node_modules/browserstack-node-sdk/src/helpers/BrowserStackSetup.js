const a91_0x1c9cae=a91_0x1c52;(function(_0xdd290c,_0x599209){const _0x35dbba=a91_0x1c52,_0x5d7902=_0xdd290c();while(!![]){try{const _0x1bb518=parseInt(_0x35dbba(0x285))/0x1+-parseInt(_0x35dbba(0x250))/0x2+parseInt(_0x35dbba(0x294))/0x3*(parseInt(_0x35dbba(0x270))/0x4)+-parseInt(_0x35dbba(0x24f))/0x5+-parseInt(_0x35dbba(0x2e1))/0x6+parseInt(_0x35dbba(0x1ed))/0x7*(-parseInt(_0x35dbba(0x24a))/0x8)+-parseInt(_0x35dbba(0x251))/0x9*(-parseInt(_0x35dbba(0x2ae))/0xa);if(_0x1bb518===_0x599209)break;else _0x5d7902['push'](_0x5d7902['shift']());}catch(_0x1a20e6){_0x5d7902['push'](_0x5d7902['shift']());}}}(a91_0x384f,0x4ed54));const util=require('util'),os=require('os'),path=require(a91_0x1c9cae(0x255)),{v4:uuidv4}=require('uuid'),fs=require('fs'),constants=require(a91_0x1c9cae(0x242)),logger=require(a91_0x1c9cae(0x2d0))[a91_0x1c9cae(0x252)],fileLogger=require(a91_0x1c9cae(0x2d0))[a91_0x1c9cae(0x2c3)],{getLogDir}=require('./logger'),helper=require(a91_0x1c9cae(0x292)),utilities=require(a91_0x1c9cae(0x275)),percyHelper=require(a91_0x1c9cae(0x27a)),hubAllocator=require(a91_0x1c9cae(0x2dc)),PerformanceTester=require(a91_0x1c9cae(0x25c)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require('./performance/constants'),{setPercyFlag}=require(a91_0x1c9cae(0x259)),TestHubHandler=require(a91_0x1c9cae(0x211)),timeoutPromise=require(a91_0x1c9cae(0x221)),BrowserstackCLI=require('../bin/v2/browserstackCLI'),{getEdsInstrumentationAPIUrl}=require('../bin/utils/apiUtilityMethods'),ClientTroubleShootingService=require('../bin/utils/clientTroubleshootingService');class BrowserStackSetup{constructor(_0x2b78db,_0x57d07e){const _0x4e84f2=a91_0x1c9cae,_0x453f2c={'jJRdY':_0x4e84f2(0x297),'oTkTi':'No\x20config\x20provided.','ISqMe':function(_0xc3cfc7){return _0xc3cfc7();}},_0x3fb8f9=_0x453f2c[_0x4e84f2(0x206)]['split']('|');let _0x8cab09=0x0;while(!![]){switch(_0x3fb8f9[_0x8cab09++]){case'0':if(this[_0x4e84f2(0x237)]['error'])throw new Error(this[_0x4e84f2(0x237)][_0x4e84f2(0x200)]);continue;case'1':helper[_0x4e84f2(0x27d)](this[_0x4e84f2(0x237)],this[_0x4e84f2(0x209)]);continue;case'2':helper[_0x4e84f2(0x2b7)](this[_0x4e84f2(0x237)],this[_0x4e84f2(0x209)],this[_0x4e84f2(0x2ce)]);continue;case'3':this[_0x4e84f2(0x237)][_0x4e84f2(0x262)]=this['config'][_0x4e84f2(0x262)]||{};continue;case'4':global[_0x4e84f2(0x1f3)]=_0x57d07e;continue;case'5':this[_0x4e84f2(0x2eb)]=null;continue;case'6':helper[_0x4e84f2(0x23d)]();continue;case'7':this[_0x4e84f2(0x237)][_0x4e84f2(0x1e8)]=this[_0x4e84f2(0x237)][_0x4e84f2(0x1e8)]||[];continue;case'8':if(helper[_0x4e84f2(0x2db)](this[_0x4e84f2(0x237)]))throw new Error(_0x453f2c['oTkTi']);continue;case'9':helper[_0x4e84f2(0x276)](this[_0x4e84f2(0x237)]);continue;case'10':this['config'][_0x4e84f2(0x262)][_0x4e84f2(0x274)]=!helper[_0x4e84f2(0x298)]()||helper['isTrue'](this[_0x4e84f2(0x237)]['testContextOptions'][_0x4e84f2(0x274)]);continue;case'11':this['errorMessage']={};continue;case'12':this[_0x4e84f2(0x209)]=helper[_0x4e84f2(0x29b)](_0x2b78db);continue;case'13':this['unhandledErrors']=[];continue;case'14':this[_0x4e84f2(0x1f3)]=_0x57d07e;continue;case'15':this[_0x4e84f2(0x26d)]=_0x453f2c[_0x4e84f2(0x1ee)](uuidv4);continue;case'16':this[_0x4e84f2(0x237)][_0x4e84f2(0x262)]['skipSessionStatus']=!helper[_0x4e84f2(0x298)]()||helper[_0x4e84f2(0x213)](this['config'][_0x4e84f2(0x262)][_0x4e84f2(0x2d5)]);continue;case'17':this['config']=helper['readConfig'](helper['getConfigPath'](_0x2b78db));continue;case'18':helper[_0x4e84f2(0x26e)](this[_0x4e84f2(0x237)],this[_0x4e84f2(0x209)],this[_0x4e84f2(0x2ce)]);continue;case'19':this[_0x4e84f2(0x2ce)]=helper[_0x4e84f2(0x2d4)]();continue;case'20':PerformanceTester[_0x4e84f2(0x2cb)]();continue;case'21':helper[_0x4e84f2(0x261)](this[_0x4e84f2(0x237)]);continue;case'22':this[_0x4e84f2(0x238)]=null;continue;}break;}}[a91_0x1c9cae(0x289)](_0x3b01da){const _0x53a401=a91_0x1c9cae,_0x353ef4={'aFBVX':_0x53a401(0x2b1),'nzRFE':function(_0x3fca28,_0x2c715f){return _0x3fca28===_0x2c715f;},'XtkLD':function(_0x4bb7a6,_0x5272f2){return _0x4bb7a6===_0x5272f2;},'LrJYA':'integrations','JWCrT':_0x53a401(0x2ba),'WsFIn':function(_0x5da4ee,_0x552439){return _0x5da4ee<_0x552439;},'IxOOT':function(_0x36af70,_0x35b00a){return _0x36af70(_0x35b00a);},'NcxGA':'selenium-webdriver','LQTYY':function(_0x31c24a,_0x5d19cc){return _0x31c24a===_0x5d19cc;},'XFlRe':_0x53a401(0x21b),'rOoLU':_0x53a401(0x2a1),'OuUkN':_0x53a401(0x1f4),'MYJDZ':'SIGTERM','ZTHvc':_0x53a401(0x27e),'HfEKq':_0x53a401(0x2c0),'iVUWJ':function(_0x2a0026,_0x2d6893){return _0x2a0026!==_0x2d6893;},'TMYQh':_0x53a401(0x267),'wNzzh':_0x53a401(0x201),'BNNGh':_0x53a401(0x1ef),'HXPcZ':_0x53a401(0x2e5),'PuCdb':_0x53a401(0x239)},_0x3e246f=this[_0x53a401(0x1f3)];global[_0x53a401(0x237)]=this[_0x53a401(0x237)],helper[_0x53a401(0x28d)](this[_0x53a401(0x237)]),this[_0x53a401(0x2e0)]=null,global['sdkRunId']=this['sdkRunId'],logger[_0x53a401(0x2ab)]('SDK\x20run\x20started\x20with\x20id:\x20'+this['sdkRunId']),!this[_0x53a401(0x237)][_0x53a401(0x2c7)]&&(this[_0x53a401(0x237)][_0x53a401(0x2c7)]=this[_0x53a401(0x237)]['localOptions']||{});if(helper[_0x53a401(0x2db)](helper[_0x53a401(0x220)](this[_0x53a401(0x237)]))||helper[_0x53a401(0x2db)](helper[_0x53a401(0x241)](this[_0x53a401(0x237)])))throw new Error(_0x353ef4[_0x53a401(0x23b)]);helper[_0x53a401(0x217)](this[_0x53a401(0x237)])&&helper[_0x53a401(0x2db)](helper['getLocalIdentifier'](this[_0x53a401(0x237)]))&&(!helper[_0x53a401(0x2db)](this[_0x53a401(0x237)][_0x53a401(0x2c7)])&&_0x353ef4[_0x53a401(0x218)](this['config'][_0x53a401(0x2c7)][_0x53a401(0x23a)],Object)?!helper['isTrue'](this[_0x53a401(0x237)][_0x53a401(0x2c7)][_0x53a401(0x208)])&&(this[_0x53a401(0x237)][_0x53a401(0x2c7)]['localIdentifier']=helper[_0x53a401(0x223)]()):this[_0x53a401(0x237)][_0x53a401(0x2c7)]={'localIdentifier':helper[_0x53a401(0x223)]()});this['config'][_0x53a401(0x2c7)][_0x53a401(0x208)]=helper['isTrue'](this[_0x53a401(0x237)][_0x53a401(0x2c7)][_0x53a401(0x208)]),helper[_0x53a401(0x2e9)](this[_0x53a401(0x237)]);if(_0x353ef4['XtkLD'](_0x3e246f,_0x353ef4[_0x53a401(0x2ec)]))return;this[_0x53a401(0x205)]();process[_0x53a401(0x283)][_0x53a401(0x2ac)]&&(this[_0x53a401(0x237)][_0x53a401(0x224)]=helper['isTrue'](process[_0x53a401(0x283)][_0x53a401(0x2ac)]),this[_0x53a401(0x237)][_0x53a401(0x203)]=this['config'][_0x53a401(0x203)]||{});helper[_0x53a401(0x226)](this['config'])&&(process[_0x53a401(0x283)][_0x53a401(0x2ac)]=!![]);if(!helper[_0x53a401(0x298)]()){try{process[_0x53a401(0x283)]['FRAMEWORK']=_0x3e246f,utilities[_0x53a401(0x260)](_0x353ef4[_0x53a401(0x20d)],{},this[_0x53a401(0x237)],this[_0x53a401(0x1f3)]);}catch(_0x3d1c22){logger['debug'](_0x53a401(0x2b9)+_0x3d1c22);}return;}if(helper[_0x53a401(0x2df)](_0x3e246f)){if(global[_0x53a401(0x26a)])return;_0x353ef4[_0x53a401(0x1ff)](_0x353ef4[_0x53a401(0x2c5)](parseInt,helper[_0x53a401(0x277)](_0x353ef4[_0x53a401(0x24e)])),0x3)&&(this[_0x53a401(0x237)][_0x53a401(0x27b)]=![]),_0x353ef4['LQTYY'](helper[_0x53a401(0x1fd)](helper[_0x53a401(0x277)](_0x353ef4[_0x53a401(0x24e)]),_0x353ef4[_0x53a401(0x29a)]),0x1)&&(this[_0x53a401(0x237)][_0x53a401(0x27b)]=!![]);}(helper[_0x53a401(0x2db)](this[_0x53a401(0x237)][_0x53a401(0x1e8)])||helper[_0x53a401(0x2db)](this[_0x53a401(0x237)][_0x53a401(0x1e8)][_0x53a401(0x293)]))&&(helper[_0x53a401(0x2db)](this[_0x53a401(0x237)][_0x53a401(0x21e)])?logger['info'](_0x353ef4[_0x53a401(0x256)]):logger['warn'](_0x353ef4[_0x53a401(0x21a)]),this['config']['platforms']=[]);!this[_0x53a401(0x237)][_0x53a401(0x262)]&&(this['config'][_0x53a401(0x262)]={});try{process[_0x53a401(0x283)][_0x53a401(0x272)]=_0x3b01da['_'][0x0],utilities[_0x53a401(0x260)](_0x353ef4[_0x53a401(0x20d)],{},this['config'],this['framework']);}catch(_0xdbb6a4){logger[_0x53a401(0x23f)]('Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20'+_0xdbb6a4);}!this[_0x53a401(0x237)][_0x53a401(0x232)]&&logger['info'](constants['AUTOLOGCAPTURE_NOTIFICATION']),this[_0x53a401(0x296)]=this[_0x53a401(0x296)]['bind'](this),process['on'](_0x353ef4[_0x53a401(0x219)],this['intExitHandler']),process['on'](_0x353ef4[_0x53a401(0x23c)],this[_0x53a401(0x296)]),process['on'](_0x353ef4[_0x53a401(0x2bc)],this[_0x53a401(0x296)]),_0x353ef4[_0x53a401(0x264)](process[_0x53a401(0x245)],_0x353ef4['TMYQh'])?(process['on'](_0x353ef4['wNzzh'],this[_0x53a401(0x296)]),process['on'](_0x353ef4[_0x53a401(0x2bf)],this['intExitHandler'])):process['on'](_0x353ef4['HXPcZ'],this[_0x53a401(0x296)]),process['on'](_0x353ef4[_0x53a401(0x286)],this[_0x53a401(0x299)]());}async['initialize'](_0x498a4d){const _0x46171c=a91_0x1c9cae,_0x20d177={'egLNh':'ats-repeater','YWyNC':'custom-repeater','oOaXy':_0x46171c(0x29c),'kFmiK':function(_0x3ac9f6,_0x181af2){return _0x3ac9f6===_0x181af2;},'PKofR':_0x46171c(0x25f),'QmBEJ':function(_0x147e17,_0x5111f9){return _0x147e17+_0x5111f9;},'dpcne':_0x46171c(0x216),'sXokm':function(_0x3bb589,_0x330969){return _0x3bb589(_0x330969);},'iEhMq':_0x46171c(0x2c4)};this[_0x46171c(0x289)](_0x498a4d);if(helper[_0x46171c(0x226)](this['config'])){const _0x43a25f=await helper[_0x46171c(0x249)](this[_0x46171c(0x237)]);this[_0x46171c(0x237)]['turboScaleGridDetails']=_0x43a25f,_0x43a25f[_0x46171c(0x266)]&&helper['isNotUndefined'](this[_0x46171c(0x237)]['browserstackLocal'])&&helper[_0x46171c(0x213)](this['config'][_0x46171c(0x2eb)])&&(this[_0x46171c(0x237)][_0x46171c(0x2c7)]['localIdentifier']=_0x20d177['egLNh'],this['config'][_0x46171c(0x2c7)][_0x20d177[_0x46171c(0x1f9)]]=_0x43a25f[_0x46171c(0x240)][_0x46171c(0x288)](','),this[_0x46171c(0x237)]['browserStackLocalOptions']['forceLocal']=_0x20d177[_0x46171c(0x28e)]),this[_0x46171c(0x237)][_0x46171c(0x27c)]=_0x43a25f[_0x46171c(0x246)],this[_0x46171c(0x1f3)]&&_0x20d177[_0x46171c(0x1e7)](this[_0x46171c(0x1f3)]['toLowerCase'](),_0x20d177[_0x46171c(0x228)])?this[_0x46171c(0x237)][_0x46171c(0x27c)]=_0x20d177[_0x46171c(0x1f7)](_0x43a25f[_0x46171c(0x28b)],_0x20d177['dpcne']):constants[_0x46171c(0x27f)]=helper[_0x46171c(0x2b4)](this[_0x46171c(0x237)]),logger[_0x46171c(0x23f)](_0x46171c(0x2cd)+constants[_0x46171c(0x27f)]);}helper[_0x46171c(0x282)](this[_0x46171c(0x237)]),this['setupKeepAlive'](),_0x20d177['sXokm'](setPercyFlag,this),await this[_0x46171c(0x2de)](),![_0x20d177[_0x46171c(0x2d9)],_0x20d177[_0x46171c(0x228)]][_0x46171c(0x1fc)](this[_0x46171c(0x1f3)])&&!helper[_0x46171c(0x226)](this[_0x46171c(0x237)])&&!helper[_0x46171c(0x2a7)]()[_0x46171c(0x1f8)]&&await this[_0x46171c(0x1e9)]();}async[a91_0x1c9cae(0x2e8)](){const _0xc5ceb8=a91_0x1c9cae,_0x4e3def={};_0x4e3def[_0xc5ceb8(0x247)]=function(_0xcff2a5,_0x401107){return _0xcff2a5===_0x401107;},_0x4e3def[_0xc5ceb8(0x2ef)]=_0xc5ceb8(0x271),_0x4e3def[_0xc5ceb8(0x26f)]=_0xc5ceb8(0x21f),_0x4e3def[_0xc5ceb8(0x26c)]='Percy\x20started\x20successfully',_0x4e3def[_0xc5ceb8(0x2bd)]=_0xc5ceb8(0x29c),_0x4e3def[_0xc5ceb8(0x254)]='beforeExit';const _0x115a0f=_0x4e3def;if(helper[_0xc5ceb8(0x213)](this['config'][_0xc5ceb8(0x238)])&&(!this['percy']||!this[_0xc5ceb8(0x238)][_0xc5ceb8(0x2e6)]()))try{this[_0xc5ceb8(0x238)]=await percyHelper[_0xc5ceb8(0x2a2)](this[_0xc5ceb8(0x237)]);if(!this['percy']){process[_0xc5ceb8(0x283)][_0xc5ceb8(0x21c)]=_0x115a0f[_0xc5ceb8(0x2ef)];throw new Error(_0x115a0f['vfVhD']);}logger[_0xc5ceb8(0x2ab)](_0x115a0f['hmwtO']),process[_0xc5ceb8(0x283)]['BROWSERSTACK_PERCY']=_0x115a0f['uOyza'];let _0x54d9e4=0x0;const _0x5e2bf1=async()=>{const _0x4f4128=_0xc5ceb8;_0x54d9e4++,_0x115a0f[_0x4f4128(0x247)](_0x54d9e4,0x1)&&await this['stopPercy']();};process['on'](_0x115a0f['rhJUu'],_0x5e2bf1);}catch(_0x15b49a){process[_0xc5ceb8(0x283)][_0xc5ceb8(0x21c)]=_0x115a0f['DcHfg'],logger[_0xc5ceb8(0x23f)](_0xc5ceb8(0x24d)+_0x15b49a);throw new Error(_0x15b49a[_0xc5ceb8(0x269)]());}}async['stopPercy'](){const _0x490894=a91_0x1c9cae,_0x4cfcf3={};_0x4cfcf3[_0x490894(0x1f0)]=_0x490894(0x25d),_0x4cfcf3[_0x490894(0x236)]=_0x490894(0x1fe);const _0x251aad=_0x4cfcf3;if(this[_0x490894(0x238)]&&this[_0x490894(0x238)][_0x490894(0x2e6)]())try{await percyHelper['stopPercy'](this['percy']),logger[_0x490894(0x2ab)](_0x251aad[_0x490894(0x1f0)]);}catch(_0x594e8d){logger[_0x490894(0x200)](_0x251aad[_0x490894(0x236)],_0x594e8d['message']);}}async[a91_0x1c9cae(0x2de)](){const _0x1b65bf=a91_0x1c9cae,_0x4c0d37={};_0x4c0d37[_0x1b65bf(0x2ed)]=_0x1b65bf(0x29f),_0x4c0d37[_0x1b65bf(0x2e3)]=_0x1b65bf(0x229);const _0x623d75=_0x4c0d37;if(helper[_0x1b65bf(0x298)]()&&helper[_0x1b65bf(0x213)](this[_0x1b65bf(0x237)][_0x1b65bf(0x2eb)])&&(!this[_0x1b65bf(0x2eb)]||!this[_0x1b65bf(0x2eb)][_0x1b65bf(0x2e6)]()))try{if(this[_0x1b65bf(0x237)][_0x1b65bf(0x2c7)][_0x1b65bf(0x208)]){logger[_0x1b65bf(0x23f)](_0x623d75[_0x1b65bf(0x2ed)]);return;}this[_0x1b65bf(0x2eb)]=await helper[_0x1b65bf(0x1ec)](this[_0x1b65bf(0x237)]),logger[_0x1b65bf(0x2ab)](_0x623d75[_0x1b65bf(0x2e3)]);}catch(_0xfac4b4){logger[_0x1b65bf(0x23f)](_0xfac4b4);throw new Error(_0xfac4b4[_0x1b65bf(0x269)]());}}async[a91_0x1c9cae(0x273)](){const _0x5164dc=a91_0x1c9cae,_0xaa94f8={};_0xaa94f8[_0x5164dc(0x2b2)]=_0x5164dc(0x1f1),_0xaa94f8['KMgTm']=_0x5164dc(0x28c);const _0x6dc1f1=_0xaa94f8;if(this[_0x5164dc(0x2eb)]&&this['browserstackLocal'][_0x5164dc(0x2e6)]())try{await helper[_0x5164dc(0x231)](this[_0x5164dc(0x2eb)]),logger[_0x5164dc(0x2ab)](_0x6dc1f1[_0x5164dc(0x2b2)]);}catch(_0x1cd61a){logger[_0x5164dc(0x200)](_0x6dc1f1['KMgTm'],_0x1cd61a[_0x5164dc(0x290)]);}}async['setUpHubUrl'](){const _0x245664=a91_0x1c9cae;return PerformanceTester[_0x245664(0x2ad)](PerformanceAutEvents[_0x245664(0x20e)],async()=>{const _0x8378fb=_0x245664;await hubAllocator[_0x8378fb(0x202)](this[_0x8378fb(0x237)]);})();}async['setupTCGAuth'](){const _0x5a1261=a91_0x1c9cae,_0x3fb574={'TaLUU':function(_0x38558b,_0x22f0e7){return _0x38558b(_0x22f0e7);},'VaIXY':_0x5a1261(0x2aa),'XOSow':function(_0x6f1bba,_0x43ca06,_0x59dddc,_0x32fd41,_0x12bb0f,_0x592fb9,_0x3f96d6){return _0x6f1bba(_0x43ca06,_0x59dddc,_0x32fd41,_0x12bb0f,_0x592fb9,_0x3f96d6);},'vBnyu':_0x5a1261(0x2d1),'psRkx':_0x5a1261(0x1e6),'SoQAV':_0x5a1261(0x1f6),'neCtL':_0x5a1261(0x2a3),'NksOz':function(_0x28b2bd,_0x18ad0b){return _0x28b2bd(_0x18ad0b);},'wXPaS':function(_0x2a8025,_0x40bc18){return _0x2a8025===_0x40bc18;},'mdbuF':'true','ieCPF':function(_0x1a015c,_0x55ba3e){return _0x1a015c===_0x55ba3e;},'LxnbD':_0x5a1261(0x2d3),'CgjKz':_0x5a1261(0x2d7),'Ybtmd':'Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','NeiTO':_0x5a1261(0x265),'zpzXI':function(_0x43f040,_0x1c8c7b){return _0x43f040>=_0x1c8c7b;},'JeoiU':function(_0x56dafa,_0x505549){return _0x56dafa<_0x505549;},'QryDP':_0x5a1261(0x253),'MPhZl':_0x5a1261(0x25b),'QmfsH':function(_0xd72d99){return _0xd72d99();}},_0x37bf73=PerformanceTester[_0x5a1261(0x2ad)](_0x3fb574[_0x5a1261(0x2a5)],async()=>{const _0x4e420a=_0x5a1261;try{const _0x5bb21d=new Date(),_0xe95c17=helper['getProxyConfigForTcg'](this[_0x4e420a(0x237)]),_0x2f6bf3=_0x3fb574[_0x4e420a(0x2f1)](require,path[_0x4e420a(0x288)](__dirname,_0x3fb574[_0x4e420a(0x1fa)])),_0x526be5=_0x3fb574[_0x4e420a(0x26b)](timeoutPromise,constants['TCG_AUTH_TIMEOUT'],_0x3fb574[_0x4e420a(0x28a)],_0x3fb574['psRkx'],_0x5bb21d,this[_0x4e420a(0x237)],this[_0x4e420a(0x1f3)]),_0x205ecc={'tcgUrl':constants[_0x4e420a(0x1eb)],'sdkVersion':_0x3fb574[_0x4e420a(0x2f1)](require,_0x3fb574[_0x4e420a(0x2b5)])[_0x4e420a(0x2cc)],'methodUsed':_0x3fb574[_0x4e420a(0x28f)],'proxyConfig':_0xe95c17,'os':os[_0x4e420a(0x245)]()};if(_0xe95c17&&_0xe95c17[_0x4e420a(0x281)]){utilities[_0x4e420a(0x260)](constants[_0x4e420a(0x2c6)],_0x205ecc,this['config'],this['framework']);return;}const _0x52d856={};_0x52d856[_0x4e420a(0x2ea)]=_0xe95c17;const _0x5d47cd=await Promise['race']([_0x2f6bf3[_0x4e420a(0x2e4)](this['config'][_0x4e420a(0x24c)],this['config'][_0x4e420a(0x263)],constants[_0x4e420a(0x1eb)],_0x3fb574[_0x4e420a(0x2ee)](require,_0x3fb574['SoQAV'])[_0x4e420a(0x2cc)],_0x52d856)['then'](_0x9f931e=>{return _0x526be5['cancel'](),_0x9f931e;}),_0x526be5]);_0x5d47cd['isHealingEnabled']=_0x3fb574[_0x4e420a(0x2af)](_0x5d47cd[_0x4e420a(0x248)],_0x3fb574[_0x4e420a(0x210)])||_0x3fb574['ieCPF'](_0x5d47cd[_0x4e420a(0x248)],!![]);const _0x4793e4=_0x3fb574[_0x4e420a(0x2af)](this[_0x4e420a(0x237)][_0x4e420a(0x278)],!![])||_0x3fb574[_0x4e420a(0x2af)](this[_0x4e420a(0x237)][_0x4e420a(0x278)],_0x3fb574[_0x4e420a(0x210)]);if(_0x3fb574['wXPaS'](_0x5d47cd[_0x4e420a(0x290)],constants[_0x4e420a(0x2a0)])&&_0x4793e4)logger[_0x4e420a(0x2ab)](_0x3fb574['LxnbD']);else{if(!_0x5d47cd[_0x4e420a(0x22a)]&&_0x3fb574['ieCPF'](_0x5d47cd['status'],0x1f7)&&_0x4793e4)logger[_0x4e420a(0x2ab)](_0x3fb574[_0x4e420a(0x233)]),utilities[_0x4e420a(0x260)](constants['TCG_DOWN'],_0x205ecc,this[_0x4e420a(0x237)],this[_0x4e420a(0x1f3)]);else{if(!_0x5d47cd['isAuthenticated']&&_0x4793e4){logger[_0x4e420a(0x2ab)](_0x3fb574[_0x4e420a(0x29d)]);const _0x5dc72f={'tcgUrl':constants[_0x4e420a(0x1eb)],'sdkVersion':_0x3fb574[_0x4e420a(0x2f1)](require,_0x3fb574['SoQAV'])[_0x4e420a(0x2cc)],'methodUsed':_0x3fb574[_0x4e420a(0x28f)],'proxyConfig':_0xe95c17,'os':os[_0x4e420a(0x245)]()};utilities['fireFunnelTestEvent'](constants[_0x4e420a(0x2b0)],_0x5dc72f,this[_0x4e420a(0x237)],this[_0x4e420a(0x1f3)]);}else{if(_0x5d47cd[_0x4e420a(0x22a)]&&!_0x5d47cd[_0x4e420a(0x248)]&&_0x4793e4)logger['info'](_0x3fb574[_0x4e420a(0x23e)]);else{if(_0x3fb574[_0x4e420a(0x244)](_0x5d47cd[_0x4e420a(0x1f5)],0xc8)&&_0x3fb574[_0x4e420a(0x21d)](_0x5d47cd[_0x4e420a(0x1f5)],0x12c))utilities[_0x4e420a(0x260)](constants[_0x4e420a(0x235)],_0x205ecc,this[_0x4e420a(0x237)],this[_0x4e420a(0x1f3)]);else{if(_0x3fb574['zpzXI'](_0x5d47cd[_0x4e420a(0x1f5)],0x190))_0x205ecc[_0x4e420a(0x1f5)]=_0x5d47cd['status'],utilities[_0x4e420a(0x260)](constants[_0x4e420a(0x257)],_0x205ecc,this[_0x4e420a(0x237)],this['framework']);else!_0x5d47cd[_0x4e420a(0x1f5)]&&utilities[_0x4e420a(0x260)](constants[_0x4e420a(0x2a4)],_0x205ecc,this['config'],this[_0x4e420a(0x1f3)]);}}}}}if(_0x5d47cd[_0x4e420a(0x22a)]&&_0x5d47cd['isHealingEnabled']){const _0x35d980={};_0x35d980[_0x4e420a(0x279)]=_0x5d47cd;const _0x5c0ae2=_0x35d980;_0xe95c17&&(_0x5c0ae2[_0x4e420a(0x207)]=_0xe95c17),_0x5c0ae2[_0x4e420a(0x1f3)]=this[_0x4e420a(0x1f3)],_0x5c0ae2[_0x4e420a(0x2e7)]=this[_0x4e420a(0x237)],helper[_0x4e420a(0x214)](_0x5c0ae2),logger['debug'](_0x3fb574[_0x4e420a(0x243)]);}}catch(_0x4a8d00){logger['debug'](_0x4e420a(0x2dd)+(_0x4a8d00[_0x4e420a(0x290)]?_0x4a8d00[_0x4e420a(0x290)]:''));}});await _0x3fb574[_0x5a1261(0x227)](_0x37bf73);}[a91_0x1c9cae(0x2c8)](){const _0x93361c=a91_0x1c9cae,_0x28d606={'viWOK':function(_0x1ebd76,_0x15cd47){return _0x1ebd76(_0x15cd47);},'Lmjrg':_0x93361c(0x2e2)};_0x28d606['viWOK'](require,_0x28d606[_0x93361c(0x2bb)])();}['handleExceptions'](){const _0x5be49a=a91_0x1c9cae,_0x32fdbf={};_0x32fdbf['gFaYs']=_0x5be49a(0x2ca),_0x32fdbf['FAUYd']=_0x5be49a(0x215),_0x32fdbf['sRYKN']=_0x5be49a(0x1f2);const _0x162d9f=_0x32fdbf,_0x1eed13=_0xbd6ee8=>{const _0x20663f=_0x5be49a,_0x34a26e=_0x162d9f[_0x20663f(0x25e)][_0x20663f(0x2a8)]('|');let _0x463d=0x0;while(!![]){switch(_0x34a26e[_0x463d++]){case'0':logger[_0x20663f(0x23f)](util['format'](_0xbd6ee8));continue;case'1':logger['error'](_0xbd6ee8[_0x20663f(0x290)]);continue;case'2':PerformanceTester[_0x20663f(0x204)](_0xbd6ee8);continue;case'3':this[_0x20663f(0x20f)][_0x20663f(0x2c9)](util[_0x20663f(0x2d2)]('%j',_0xbd6ee8));continue;case'4':ClientTroubleShootingService[_0x20663f(0x258)]();continue;}break;}};process['on'](_0x162d9f[_0x5be49a(0x29e)],_0x1eed13),process['on'](_0x162d9f['sRYKN'],_0x1eed13);}async[a91_0x1c9cae(0x296)](_0x35f03b){const _0xc51dc2=a91_0x1c9cae,_0x409fb3={};_0x409fb3[_0xc51dc2(0x22c)]=_0xc51dc2(0x1fb),_0x409fb3[_0xc51dc2(0x2be)]=function(_0x2df487,_0x2aefd9){return _0x2df487+_0x2aefd9;},_0x409fb3[_0xc51dc2(0x2f0)]=_0xc51dc2(0x20a),_0x409fb3['tXDQS']=_0xc51dc2(0x22b);const _0x482a8e=_0x409fb3,_0x153560=_0x482a8e[_0xc51dc2(0x22c)]['split']('|');let _0x1ea789=0x0;while(!![]){switch(_0x153560[_0x1ea789++]){case'0':await ClientTroubleShootingService[_0xc51dc2(0x258)]();continue;case'1':await ClientTroubleShootingService[_0xc51dc2(0x24b)](_0x35f03b);continue;case'2':logger[_0xc51dc2(0x2ab)](_0x482a8e['Esfpw'](_0x482a8e['QONGA'],_0x35f03b));continue;case'3':await TestHubHandler[_0xc51dc2(0x2b3)](_0x35f03b);continue;case'4':this[_0xc51dc2(0x2e0)]=_0x35f03b;continue;case'5':await BrowserstackCLI[_0xc51dc2(0x225)]()['stop']();continue;case'6':this[_0x482a8e[_0xc51dc2(0x2be)](_0x482a8e[_0xc51dc2(0x230)],_0x35f03b)]=!![];continue;case'7':if(this[_0x482a8e[_0xc51dc2(0x2be)](_0x482a8e['tXDQS'],_0x35f03b)])return;continue;}break;}}[a91_0x1c9cae(0x299)](){const _0x177199=a91_0x1c9cae,_0x42a845={'AZYSk':function(_0x103796,_0xe3f4c6){return _0x103796===_0xe3f4c6;},'mhlvG':_0x177199(0x20b),'xOMyt':function(_0x58200d,_0x16009c){return _0x58200d>_0x16009c;},'nwrhr':function(_0x2805e4,_0x4d922e){return _0x2805e4>_0x4d922e;},'cOnyH':function(_0x5acf35,_0x57083b){return _0x5acf35(_0x57083b);},'FnyMU':function(_0x168c7e,_0x45e4e1){return _0x168c7e(_0x45e4e1);},'hMJKk':function(_0x16d9cb){return _0x16d9cb();},'STZtv':_0x177199(0x2b8)};let _0x34a3dc=0x0;return async()=>{const _0x50fc10=_0x177199;_0x34a3dc++;if(_0x42a845[_0x50fc10(0x234)](_0x34a3dc,0x1)){helper[_0x50fc10(0x2b6)](this[_0x50fc10(0x1f3)])&&await this[_0x50fc10(0x273)]();try{logger[_0x50fc10(0x23f)](_0x42a845[_0x50fc10(0x20c)]),await TestHubHandler[_0x50fc10(0x2b3)](_0x34a3dc),await ClientTroubleShootingService[_0x50fc10(0x258)](),await BrowserstackCLI['getInstance']()[_0x50fc10(0x2b3)]('1');}catch(_0x178c64){logger['debug'](_0x50fc10(0x284)+util[_0x50fc10(0x2d2)](_0x178c64));}PerformanceTester[_0x50fc10(0x2d6)](PerformanceEvents['SDK_CLEANUP']);if(PerformanceTester[_0x50fc10(0x222)]()){const {measures:_0x47ec8d,errors:_0x54eead}=await PerformanceTester[_0x50fc10(0x212)](),_0x48811b={};if(_0x47ec8d&&_0x42a845[_0x50fc10(0x22f)](_0x47ec8d[_0x50fc10(0x293)],0x0)||_0x54eead&&_0x42a845['nwrhr'](_0x54eead[_0x50fc10(0x293)],0x0)){const _0x395270={};_0x395270[_0x50fc10(0x2da)]=_0x47ec8d,_0x395270[_0x50fc10(0x291)]=_0x54eead,Object[_0x50fc10(0x2d8)](_0x48811b,_0x395270);}try{const _0x550a8d=await helper[_0x50fc10(0x2a9)](_0x48811b,this[_0x50fc10(0x237)]);logger['debug'](_0x50fc10(0x22d)+_0x42a845[_0x50fc10(0x2c1)](getEdsInstrumentationAPIUrl,'')+_0x50fc10(0x2c2)+_0x550a8d['statusCode']);}catch(_0x20a3be){logger[_0x50fc10(0x23f)](_0x50fc10(0x1ea)+_0x42a845['FnyMU'](getEdsInstrumentationAPIUrl,'')+_0x50fc10(0x280)+util['format'](_0x20a3be));}try{fs[_0x50fc10(0x287)](path[_0x50fc10(0x288)](_0x42a845[_0x50fc10(0x268)](getLogDir),_0x42a845[_0x50fc10(0x25a)]),JSON[_0x50fc10(0x2a6)](_0x48811b));}catch(_0x5da0f3){logger['debug'](_0x50fc10(0x22e)+_0x5da0f3);}}}logger&&logger['close'](),fileLogger&&fileLogger[_0x50fc10(0x2cf)]();};}}function a91_0x1c52(_0x5280af,_0x1957ed){const _0x384fb8=a91_0x384f();return a91_0x1c52=function(_0x1c528c,_0xa789d){_0x1c528c=_0x1c528c-0x1e6;let _0x5a77d5=_0x384fb8[_0x1c528c];return _0x5a77d5;},a91_0x1c52(_0x5280af,_0x1957ed);}exports[a91_0x1c9cae(0x295)]=BrowserStackSetup;function a91_0x384f(){const _0x507feb=['vBnyu','playwrightUrl','Error\x20occured\x20while\x20stopping\x20local\x20binary','sanitizeCaps','oOaXy','neCtL','message','exceptions','./helper','length','3IKmmIR','default','intExitHandler','13|6|19|5|22|17|12|7|3|11|15|14|4|8|0|1|21|16|10|2|9|18|20','isBrowserstackInfra','exitHandler','XFlRe','setCLICaps','true','Ybtmd','FAUYd','Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled','UPGRADE_REQUIRED','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','startPercy','BrowserstackHealing.init','INVALID_INIT_RESP_WITH_USER_IMPACT','MPhZl','stringify','getCentralUser','split','sendToEDS','../ai-sdk-node/bundle','info','BROWSERSTACK_TURBOSCALE','measureWrapper','7970ubZvOG','wXPaS','TCG_AUTH_FAILURE','userName\x20or\x20accessKey\x20is\x20not\x20defined','qGcJX','stop','getHubUrl','SoQAV','checkStopLocalBinaryOnExit','getFinalCaps','events.json','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','SDKTestAttempted','Lmjrg','HfEKq','uOyza','Esfpw','BNNGh','SIGHUP','cOnyH','\x20with\x20response\x20','fileLogger','codeceptjs','IxOOT','AI_PROXY_FAILURE','browserStackLocalOptions','setupKeepAlive','push','1|0|3|2|4','startMonitoring','version','HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20','envConfig','close','./logger','BrowserstackHealing.init\x20method\x20timed\x20out','format','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','setEnvCaps','skipSessionStatus','end','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','assign','iEhMq','measures','isUndefined','../hubAllocationMethods','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','setupBrowserstackLocal','requireSeleniumWebdriverCheck','killSignal','2718738jszGBx','./setKeepAlive','VMMXd','init','SIGBREAK','isRunning','bstackConfig','setupPercy','setHandlePWError','proxy','browserstackLocal','LrJYA','bzLsw','NksOz','DcHfg','QONGA','TaLUU','BrowserstackHealingInitFailed','kFmiK','platforms','setUpHubUrl','Failed\x20to\x20send\x20data\x20to\x20','TCG_URL','startLocalBinary','242753TUoFCG','ISqMe','SIGQUIT','JaaNf','Local\x20binary\x20stopped','uncaughtException','framework','parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','status','../../package.json','QmBEJ','central_scanner','YWyNC','VaIXY','7|6|2|4|1|3|0|5','includes','compareVersions','Error\x20occured\x20while\x20stopping\x20percy','WsFIn','error','SIGABRT','allocateHub','turboScaleOptions','captureError','handleExceptions','jJRdY','proxyConfig','skipBinaryInitialisation','cliConfig','Shutdown\x20triggered\x20by\x20','Calling\x20Build\x20Stop\x20from\x20ExitHandler','mhlvG','JWCrT','HUB_MANAGEMENT','unhandledErrors','mdbuF','./testhub/testhubHandler','finalize','isTrue','setupTcgConfigFile','unhandledRejection','?caps=','getLocalConfig','nzRFE','MYJDZ','OuUkN','4.5.0','BROWSERSTACK_PERCY','JeoiU','parallelsPerPlatform','Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.','getUserName','./timeoutPromise','isEnabled','generateLocalIdentifier','turboScale','getInstance','isTurboScaleSession','QmfsH','PKofR','Local\x20binary\x20started\x20successfully','isAuthenticated','handled','riLoz','Data\x20sent\x20successfully\x20to\x20','Error\x20in\x20writing\x20events\x20to\x20file\x20','xOMyt','tXDQS','stopLocalBinary','disableAutoCaptureLogs','CgjKz','AZYSk','AI_INIT_SUCCESSFUL','qYjtX','config','percy','beforeExit','constructor','aFBVX','ZTHvc','normalizeTestReportingEnvVars','NeiTO','debug','customRepeaters','getAccessKey','../bin/utils/constants','QryDP','zpzXI','platform','url','AEFgB','isHealingEnabled','getTurboScaleGridDetails','24ncxcvi','reportProcessInterruptionSituation','accessKey','Error\x20in\x20percy\x20setup\x20','NcxGA','1171050PTEZBk','664568vjyApZ','9639MDIGzt','winstonLogger','tcg\x20config\x20setup\x20successful.','rhJUu','path','rOoLU','AI_INIT_FAILURE','reportFinalDetectionState','./testhub/utils','STZtv','aiHeal:tcgAuth','./performance/performance-tester','Percy\x20stopped','gFaYs','playwright','fireFunnelTestEvent','setCredentialsFromYmlConfig','testContextOptions','userName','iVUWJ','Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','isTrialGrid','win32','hMJKk','toString','__isPlaywrightInstalled','XOSow','hmwtO','sdkRunId','setLogLevel','vfVhD','459368gwLQTs','false','FRAMEWORK','stopBrowserstackLocal','skipSessionName','./utilities','setLogDir','getPackageVersion','selfHeal','tcgAuthConfig','./percy/utils','useW3C','turboScaleUrl','setBrowserstackInfraFromConfig','SIGINT','hubUrl','\x20with\x20error\x20','proxyUrl','setProxySettings','env','Error\x20in\x20sending\x20testhub\x20stop:\x20','478125eZHygP','PuCdb','writeFileSync','join','preInitialize'];a91_0x384f=function(){return _0x507feb;};return a91_0x384f();}