const a89_0x3f6c85=a89_0x15fc;function a89_0x15fc(_0x4a3a3d,_0x43a372){const _0x5f59c4=a89_0x5f59();return a89_0x15fc=function(_0x15fcd5,_0xd3a398){_0x15fcd5=_0x15fcd5-0xc1;let _0x46cb10=_0x5f59c4[_0x15fcd5];return _0x46cb10;},a89_0x15fc(_0x4a3a3d,_0x43a372);}(function(_0x4b791e,_0x3fa9e2){const _0x304447=a89_0x15fc,_0x556d9a=_0x4b791e();while(!![]){try{const _0x5340a3=parseInt(_0x304447(0x1ba))/0x1+-parseInt(_0x304447(0x133))/0x2+-parseInt(_0x304447(0xc9))/0x3*(parseInt(_0x304447(0x16c))/0x4)+-parseInt(_0x304447(0x138))/0x5+-parseInt(_0x304447(0x193))/0x6*(parseInt(_0x304447(0x111))/0x7)+parseInt(_0x304447(0x1a6))/0x8*(-parseInt(_0x304447(0xf5))/0x9)+parseInt(_0x304447(0x162))/0xa;if(_0x5340a3===_0x3fa9e2)break;else _0x556d9a['push'](_0x556d9a['shift']());}catch(_0x79f6f6){_0x556d9a['push'](_0x556d9a['shift']());}}}(a89_0x5f59,0x83bef));const util=require(a89_0x3f6c85(0xc4)),os=require('os'),path=require(a89_0x3f6c85(0x130)),{v4:uuidv4}=require(a89_0x3f6c85(0x13b)),fs=require('fs'),constants=require(a89_0x3f6c85(0x192)),logger=require(a89_0x3f6c85(0x14a))[a89_0x3f6c85(0x140)],fileLogger=require(a89_0x3f6c85(0x14a))[a89_0x3f6c85(0xf7)],{getLogDir}=require('./logger'),helper=require(a89_0x3f6c85(0x102)),utilities=require('./utilities'),percyHelper=require(a89_0x3f6c85(0x1b5)),hubAllocator=require(a89_0x3f6c85(0x18f)),PerformanceTester=require(a89_0x3f6c85(0x1a2)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require('./performance/constants'),{setPercyFlag}=require(a89_0x3f6c85(0x1a3)),TestHubHandler=require(a89_0x3f6c85(0x1bb)),timeoutPromise=require(a89_0x3f6c85(0xed)),BrowserstackCLI=require(a89_0x3f6c85(0x177)),{getEdsInstrumentationAPIUrl}=require('../bin/utils/apiUtilityMethods');function a89_0x5f59(){const _0x3fc596=['jvVaL','isUndefined','UPGRADE_REQUIRED','xsrHP','turboScaleUrl','peEKh','GEOjd','./performance/performance-tester','./testhub/utils','config','Local\x20binary\x20stopped','5752BannDK','QCfUz','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','browserstackLocal','version','startPercy','AI_INIT_SUCCESSFUL','isTurboScaleSession','hpgDJ','DihVS','fymKq','cancel','setCLICaps','compareVersions','dkiCP','./percy/utils','setProxySettings','isRunning','proxyConfig','./setKeepAlive','841091yjAANw','./testhub/testhubHandler','warn','Error\x20in\x20writing\x20events\x20to\x20file\x20','Calling\x20Build\x20Stop\x20from\x20ExitHandler','setCredentialsFromYmlConfig','isAuthenticated','NRlfy','util','getPackageVersion','etYDl','Nygtg','bind','33yklpsq','BrowserstackHealingInitFailed','default','EoraU','BROWSERSTACK_PERCY','getTurboScaleGridDetails','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','SIGABRT','tDaiW','selfHeal','INVALID_INIT_RESP_WITH_USER_IMPACT','hEgsk','getCentralUser','QWfjv','writeFileSync','getInstance','debug','YlLBt','isHealingEnabled','../../package.json','skipSessionStatus','accessKey','EOCLO','setupPercy','setUpHubUrl','true','GclQC','setupKeepAlive','readConfig','central_scanner','HUB_MANAGEMENT','testContextOptions','12|4|10|20|2|21|3|1|19|16|11|6|18|15|22|8|9|5|13|17|14|0|7','eVoMF','framework','preInitialize','./timeoutPromise','setBrowserstackInfraFromConfig','beforeExit','LCbVW','Error\x20occured\x20while\x20stopping\x20percy','snFcX','measures','HcgOk','3627CziYdl','skipBinaryInitialisation','fileLogger','MXPia','init','TCG_URL','LlPAu','mHcUX','TCG_DOWN','getAccessKey','checkStopLocalBinaryOnExit','veNHQ','sdkRunId','./helper','killSignal','platform','turboScaleGridDetails','split','OUePE','false','TtqTv','playwright','statusCode','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','message','Adynw','TCG_AUTH_TIMEOUT','xvJwD','12089vBrAJa','close','proxy','2|3|0|1|4|5','envConfig','SIGQUIT','MkFzf','getHubUrl','BrowserstackHealing.init','stopPercy','useW3C','AI_INIT_FAILURE','setLogLevel','stopBrowserstackLocal','XOBut','?caps=','bstackConfig','fireFunnelTestEvent','sWZtZ','qCmnb','AwbNB','isTrialGrid','localIdentifier','format','BROWSERSTACK_TURBOSCALE','pNhPB','initialize','FRAMEWORK','win32','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','url','path','SIGBREAK','GdlHu','1760824CxSFgf','Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','BrowserstackHealing.init\x20method\x20timed\x20out','intExitHandler','integrations','5209470nyiRyU','exitHandler','error','uuid','VHGPB','juqjA','stop','SDUlX','winstonLogger','mykbR','LFlEe','requireSeleniumWebdriverCheck','browserStackLocalOptions','then','skipSessionName','AUTOLOGCAPTURE_NOTIFICATION','SIGHUP','finalize','./logger','errorMessage','selenium-webdriver','join','isEnabled','jPmIT','JFwml','4.5.0','cliConfig','userName\x20or\x20accessKey\x20is\x20not\x20defined','PqUcf','captureError','custom-repeater','Local\x20binary\x20started\x20successfully','esvqw','SIGTERM','env','isBrowserstackInfra','measureWrapper','getFinalCaps','xGRXU','IXFyO','setupTCGAuth','jYtjP','35749800AsxjVE','length','setEnvCaps','unhandledErrors','platforms','toLowerCase','sanitizeCaps','gIyYk','isTrue','SDK_CLEANUP','220264KNsDdA','RoDAR','status','Awpxl','uncaughtException','startMonitoring','dTfnR','VRazx','percy','Shutdown\x20triggered\x20by\x20','cgFgG','../bin/v2/browserstackCLI','localOptions','toString','Percy\x20started\x20successfully','customRepeaters','JVEor','apQrX','YONoP','\x20with\x20response\x20','RXFFw','zquoQ','HFYDV','BmBQy','IbboD','generateLocalIdentifier','SDK\x20run\x20started\x20with\x20id:\x20','setupBrowserstackLocal','SdBiq','includes','hubUrl','tcgAuthConfig','turboScaleOptions','constructor','No\x20config\x20provided.','../hubAllocationMethods','WthrK','zIQDY','../bin/utils/constants','3678bxmIsc','AI_PROXY_FAILURE','info','getUserName','parallelsPerPlatform','parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','setupTcgConfigFile','SIGINT'];a89_0x5f59=function(){return _0x3fc596;};return a89_0x5f59();}class BrowserStackSetup{constructor(_0x48a012,_0x29feed){const _0x3a674b=a89_0x3f6c85,_0x55e4ab={'cgFgG':_0x3a674b(0xe9),'apQrX':function(_0x4b3669){return _0x4b3669();},'YONoP':_0x3a674b(0x18e)},_0x496156=_0x55e4ab[_0x3a674b(0x176)]['split']('|');let _0x32ecf7=0x0;while(!![]){switch(_0x496156[_0x32ecf7++]){case'0':helper[_0x3a674b(0x11d)](this[_0x3a674b(0x1a4)],this['cliConfig'],this[_0x3a674b(0x115)]);continue;case'1':this[_0x3a674b(0x1a4)][_0x3a674b(0x166)]=this[_0x3a674b(0x1a4)][_0x3a674b(0x166)]||[];continue;case'2':this['percy']=null;continue;case'3':this[_0x3a674b(0x152)]=helper[_0x3a674b(0x1b2)](_0x48a012);continue;case'4':helper['normalizeTestReportingEnvVars']();continue;case'5':this[_0x3a674b(0x1a4)][_0x3a674b(0xe8)][_0x3a674b(0xdd)]=!helper[_0x3a674b(0x15b)]()||helper[_0x3a674b(0x16a)](this['config'][_0x3a674b(0xe8)][_0x3a674b(0xdd)]);continue;case'6':this['framework']=_0x29feed;continue;case'7':PerformanceTester[_0x3a674b(0x171)]();continue;case'8':helper[_0x3a674b(0xee)](this[_0x3a674b(0x1a4)],this[_0x3a674b(0x152)]);continue;case'9':helper[_0x3a674b(0xc1)](this[_0x3a674b(0x1a4)]);continue;case'10':this[_0x3a674b(0x115)]=helper[_0x3a674b(0x164)]();continue;case'11':this[_0x3a674b(0x101)]=_0x55e4ab[_0x3a674b(0x17d)](uuidv4);continue;case'12':this[_0x3a674b(0x165)]=[];continue;case'13':this['config']['testContextOptions'][_0x3a674b(0x146)]=!helper[_0x3a674b(0x15b)]()||helper[_0x3a674b(0x16a)](this[_0x3a674b(0x1a4)][_0x3a674b(0xe8)][_0x3a674b(0x146)]);continue;case'14':helper['setLogDir'](this[_0x3a674b(0x1a4)]);continue;case'15':if(helper[_0x3a674b(0x19c)](this['config']))throw new Error(_0x55e4ab[_0x3a674b(0x17e)]);continue;case'16':this[_0x3a674b(0x14b)]={};continue;case'17':helper[_0x3a674b(0x15d)](this[_0x3a674b(0x1a4)],this[_0x3a674b(0x152)],this[_0x3a674b(0x115)]);continue;case'18':global['framework']=_0x29feed;continue;case'19':this['config'][_0x3a674b(0xe8)]=this[_0x3a674b(0x1a4)][_0x3a674b(0xe8)]||{};continue;case'20':this[_0x3a674b(0x1a9)]=null;continue;case'21':this[_0x3a674b(0x1a4)]=helper[_0x3a674b(0xe5)](helper['getConfigPath'](_0x48a012));continue;case'22':if(this[_0x3a674b(0x1a4)][_0x3a674b(0x13a)])throw new Error(this['config'][_0x3a674b(0x13a)]);continue;}break;}}[a89_0x3f6c85(0xec)](_0x29d36e){const _0x47add7=a89_0x3f6c85,_0x4d747e={'snFcX':_0x47add7(0x153),'TtqTv':function(_0x1dd6c2,_0x2647bd){return _0x1dd6c2===_0x2647bd;},'tDaiW':function(_0x519e0a,_0x16b499){return _0x519e0a===_0x16b499;},'Nygtg':_0x47add7(0x137),'AwbNB':'SDKTestAttempted','WthrK':function(_0x2c53f2,_0x46e657){return _0x2c53f2<_0x46e657;},'pNhPB':function(_0x2e615f,_0x407b0a){return _0x2e615f(_0x407b0a);},'RoDAR':_0x47add7(0x14c),'jPmIT':function(_0x16d5fc,_0x5e235a){return _0x16d5fc===_0x5e235a;},'SDUlX':_0x47add7(0x151),'sWZtZ':_0x47add7(0x10c),'LNkmp':_0x47add7(0x198),'veNHQ':_0x47add7(0x159),'GdlHu':_0x47add7(0x19a),'BHXXp':_0x47add7(0x148),'aJkmb':function(_0x17434b,_0x1cbdfa){return _0x17434b!==_0x1cbdfa;},'Awpxl':_0x47add7(0x12d),'esvqw':_0x47add7(0xd0),'QWfjv':_0x47add7(0x116),'gIyYk':_0x47add7(0x131),'zAlIl':_0x47add7(0xef)},_0xcdc316=this[_0x47add7(0xeb)];global[_0x47add7(0x1a4)]=this[_0x47add7(0x1a4)],helper[_0x47add7(0x168)](this[_0x47add7(0x1a4)]),this[_0x47add7(0x103)]=null,global['sdkRunId']=this[_0x47add7(0x101)],logger[_0x47add7(0x195)](_0x47add7(0x186)+this[_0x47add7(0x101)]),!this[_0x47add7(0x1a4)][_0x47add7(0x144)]&&(this[_0x47add7(0x1a4)]['browserStackLocalOptions']=this[_0x47add7(0x1a4)][_0x47add7(0x178)]||{});if(helper[_0x47add7(0x19c)](helper[_0x47add7(0x196)](this[_0x47add7(0x1a4)]))||helper[_0x47add7(0x19c)](helper[_0x47add7(0xfe)](this[_0x47add7(0x1a4)])))throw new Error(_0x4d747e[_0x47add7(0xf2)]);helper['getLocalConfig'](this[_0x47add7(0x1a4)])&&helper[_0x47add7(0x19c)](helper['getLocalIdentifier'](this[_0x47add7(0x1a4)]))&&(!helper[_0x47add7(0x19c)](this['config'][_0x47add7(0x144)])&&_0x4d747e[_0x47add7(0x109)](this['config']['browserStackLocalOptions'][_0x47add7(0x18d)],Object)?!helper['isTrue'](this[_0x47add7(0x1a4)][_0x47add7(0x144)][_0x47add7(0xf6)])&&(this[_0x47add7(0x1a4)][_0x47add7(0x144)]['localIdentifier']=helper[_0x47add7(0x185)]()):this[_0x47add7(0x1a4)][_0x47add7(0x144)]={'localIdentifier':helper[_0x47add7(0x185)]()});this[_0x47add7(0x1a4)]['browserStackLocalOptions'][_0x47add7(0xf6)]=helper[_0x47add7(0x16a)](this[_0x47add7(0x1a4)][_0x47add7(0x144)]['skipBinaryInitialisation']),helper['setHandlePWError'](this['config']);if(_0x4d747e[_0x47add7(0xd1)](_0xcdc316,_0x4d747e[_0x47add7(0xc7)]))return;this['handleExceptions']();process[_0x47add7(0x15a)][_0x47add7(0x129)]&&(this[_0x47add7(0x1a4)]['turboScale']=helper[_0x47add7(0x16a)](process['env'][_0x47add7(0x129)]),this[_0x47add7(0x1a4)][_0x47add7(0x18c)]=this['config'][_0x47add7(0x18c)]||{});helper[_0x47add7(0x1ad)](this['config'])&&(process['env'][_0x47add7(0x129)]=!![]);if(!helper[_0x47add7(0x15b)]()){try{process[_0x47add7(0x15a)][_0x47add7(0x12c)]=_0xcdc316,utilities[_0x47add7(0x122)](_0x4d747e[_0x47add7(0x125)],{},this[_0x47add7(0x1a4)],this[_0x47add7(0xeb)]);}catch(_0x1e3fa2){logger[_0x47add7(0xd9)](_0x47add7(0x1a8)+_0x1e3fa2);}return;}if(helper[_0x47add7(0x143)](_0xcdc316)){if(global['__isPlaywrightInstalled'])return;_0x4d747e[_0x47add7(0x190)](_0x4d747e[_0x47add7(0x12a)](parseInt,helper[_0x47add7(0xc5)](_0x4d747e[_0x47add7(0x16d)])),0x3)&&(this['config'][_0x47add7(0x11b)]=![]),_0x4d747e[_0x47add7(0x14f)](helper[_0x47add7(0x1b3)](helper[_0x47add7(0xc5)](_0x4d747e[_0x47add7(0x16d)]),_0x4d747e[_0x47add7(0x13f)]),0x1)&&(this[_0x47add7(0x1a4)][_0x47add7(0x11b)]=!![]);}(helper[_0x47add7(0x19c)](this[_0x47add7(0x1a4)]['platforms'])||helper[_0x47add7(0x19c)](this[_0x47add7(0x1a4)][_0x47add7(0x166)][_0x47add7(0x163)]))&&(helper[_0x47add7(0x19c)](this[_0x47add7(0x1a4)][_0x47add7(0x197)])?logger[_0x47add7(0x195)](_0x4d747e[_0x47add7(0x123)]):logger[_0x47add7(0x1bc)](_0x4d747e['LNkmp']),this['config'][_0x47add7(0x166)]=[]);!this[_0x47add7(0x1a4)][_0x47add7(0xe8)]&&(this[_0x47add7(0x1a4)][_0x47add7(0xe8)]={});try{process[_0x47add7(0x15a)][_0x47add7(0x12c)]=_0x29d36e['_'][0x0],utilities['fireFunnelTestEvent'](_0x4d747e['AwbNB'],{},this[_0x47add7(0x1a4)],this[_0x47add7(0xeb)]);}catch(_0x15dd98){logger[_0x47add7(0xd9)](_0x47add7(0x1a8)+_0x15dd98);}!this['config']['disableAutoCaptureLogs']&&logger[_0x47add7(0x195)](constants[_0x47add7(0x147)]),this[_0x47add7(0x136)]=this[_0x47add7(0x136)][_0x47add7(0xc8)](this),process['on'](_0x4d747e[_0x47add7(0x100)],this[_0x47add7(0x136)]),process['on'](_0x4d747e[_0x47add7(0x132)],this[_0x47add7(0x136)]),process['on'](_0x4d747e['BHXXp'],this[_0x47add7(0x136)]),_0x4d747e['aJkmb'](process[_0x47add7(0x104)],_0x4d747e[_0x47add7(0x16f)])?(process['on'](_0x4d747e[_0x47add7(0x158)],this[_0x47add7(0x136)]),process['on'](_0x4d747e[_0x47add7(0xd6)],this['intExitHandler'])):process['on'](_0x4d747e[_0x47add7(0x169)],this['intExitHandler']),process['on'](_0x4d747e['zAlIl'],this[_0x47add7(0x139)]());}async[a89_0x3f6c85(0x12b)](_0x5f1917){const _0xd910f6=a89_0x3f6c85,_0xbf2e8e={'IbboD':'ats-repeater','IXFyO':_0xd910f6(0x156),'mHcUX':_0xd910f6(0xe2),'uDuNm':function(_0x16bbe,_0x4e44fa){return _0x16bbe===_0x4e44fa;},'EoraU':_0xd910f6(0x10a),'mykbR':function(_0x480905,_0x180ded){return _0x480905+_0x180ded;},'fymKq':_0xd910f6(0x120),'Adynw':function(_0x31ea7a,_0x592bdb){return _0x31ea7a(_0x592bdb);},'dkiCP':'codeceptjs'};this['preInitialize'](_0x5f1917);if(helper[_0xd910f6(0x1ad)](this['config'])){const _0x44f7ad=await helper[_0xd910f6(0xce)](this[_0xd910f6(0x1a4)]);this['config'][_0xd910f6(0x105)]=_0x44f7ad,_0x44f7ad[_0xd910f6(0x126)]&&helper['isNotUndefined'](this['config']['browserstackLocal'])&&helper[_0xd910f6(0x16a)](this[_0xd910f6(0x1a4)][_0xd910f6(0x1a9)])&&(this['config']['browserStackLocalOptions'][_0xd910f6(0x127)]=_0xbf2e8e[_0xd910f6(0x184)],this[_0xd910f6(0x1a4)]['browserStackLocalOptions'][_0xbf2e8e[_0xd910f6(0x15f)]]=_0x44f7ad[_0xd910f6(0x17b)][_0xd910f6(0x14d)](','),this[_0xd910f6(0x1a4)][_0xd910f6(0x144)]['forceLocal']=_0xbf2e8e[_0xd910f6(0xfc)]),this[_0xd910f6(0x1a4)]['turboScaleUrl']=_0x44f7ad[_0xd910f6(0x12f)],this[_0xd910f6(0xeb)]&&_0xbf2e8e['uDuNm'](this['framework'][_0xd910f6(0x167)](),_0xbf2e8e[_0xd910f6(0xcc)])?this[_0xd910f6(0x1a4)][_0xd910f6(0x19f)]=_0xbf2e8e[_0xd910f6(0x141)](_0x44f7ad['playwrightUrl'],_0xbf2e8e[_0xd910f6(0x1b0)]):constants['hubUrl']=helper[_0xd910f6(0x118)](this[_0xd910f6(0x1a4)]),logger[_0xd910f6(0xd9)]('HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20'+constants[_0xd910f6(0x18a)]);}helper[_0xd910f6(0x1b6)](this[_0xd910f6(0x1a4)]),this[_0xd910f6(0xe4)](),_0xbf2e8e[_0xd910f6(0x10e)](setPercyFlag,this),await this['setupBrowserstackLocal'](),![_0xbf2e8e[_0xd910f6(0x1b4)],_0xbf2e8e[_0xd910f6(0xcc)]][_0xd910f6(0x189)](this[_0xd910f6(0xeb)])&&!helper[_0xd910f6(0x1ad)](this['config'])&&!helper[_0xd910f6(0xd5)]()[_0xd910f6(0xe6)]&&await this[_0xd910f6(0xe1)]();}async[a89_0x3f6c85(0xe0)](){const _0x4f5e15=a89_0x3f6c85,_0x2cf127={};_0x2cf127[_0x4f5e15(0x150)]=function(_0x53de4f,_0x4ab940){return _0x53de4f===_0x4ab940;},_0x2cf127['EOCLO']=_0x4f5e15(0x108),_0x2cf127['BmBQy']='Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.',_0x2cf127[_0x4f5e15(0x19e)]=_0x4f5e15(0x17a),_0x2cf127[_0x4f5e15(0x110)]='true',_0x2cf127[_0x4f5e15(0x117)]=_0x4f5e15(0xef);const _0x244131=_0x2cf127;if(helper[_0x4f5e15(0x16a)](this[_0x4f5e15(0x1a4)][_0x4f5e15(0x174)])&&(!this[_0x4f5e15(0x174)]||!this[_0x4f5e15(0x174)]['isRunning']()))try{this['percy']=await percyHelper[_0x4f5e15(0x1ab)](this[_0x4f5e15(0x1a4)]);if(!this[_0x4f5e15(0x174)]){process[_0x4f5e15(0x15a)][_0x4f5e15(0xcd)]=_0x244131[_0x4f5e15(0xdf)];throw new Error(_0x244131[_0x4f5e15(0x183)]);}logger[_0x4f5e15(0x195)](_0x244131[_0x4f5e15(0x19e)]),process[_0x4f5e15(0x15a)][_0x4f5e15(0xcd)]=_0x244131[_0x4f5e15(0x110)];let _0x4290c6=0x0;const _0x339617=async()=>{const _0x46c016=_0x4f5e15;_0x4290c6++,_0x244131[_0x46c016(0x150)](_0x4290c6,0x1)&&await this[_0x46c016(0x11a)]();};process['on'](_0x244131[_0x4f5e15(0x117)],_0x339617);}catch(_0x5313b5){process[_0x4f5e15(0x15a)][_0x4f5e15(0xcd)]=_0x244131[_0x4f5e15(0xdf)],logger[_0x4f5e15(0xd9)]('Error\x20in\x20percy\x20setup\x20'+_0x5313b5);throw new Error(_0x5313b5[_0x4f5e15(0x179)]());}}async[a89_0x3f6c85(0x11a)](){const _0x35bd38=a89_0x3f6c85,_0x1d11ee={};_0x1d11ee[_0x35bd38(0x173)]='Percy\x20stopped',_0x1d11ee[_0x35bd38(0xc6)]=_0x35bd38(0xf1);const _0x5d24ca=_0x1d11ee;if(this[_0x35bd38(0x174)]&&this[_0x35bd38(0x174)][_0x35bd38(0x1b7)]())try{await percyHelper[_0x35bd38(0x11a)](this['percy']),logger[_0x35bd38(0x195)](_0x5d24ca[_0x35bd38(0x173)]);}catch(_0xde05e4){logger[_0x35bd38(0x13a)](_0x5d24ca[_0x35bd38(0xc6)],_0xde05e4[_0x35bd38(0x10d)]);}}async[a89_0x3f6c85(0x187)](){const _0x1ee37c=a89_0x3f6c85,_0x57e273={};_0x57e273[_0x1ee37c(0x124)]='Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled',_0x57e273[_0x1ee37c(0x188)]=_0x1ee37c(0x157);const _0x3d33fd=_0x57e273;if(helper[_0x1ee37c(0x15b)]()&&helper[_0x1ee37c(0x16a)](this['config'][_0x1ee37c(0x1a9)])&&(!this['browserstackLocal']||!this[_0x1ee37c(0x1a9)][_0x1ee37c(0x1b7)]()))try{if(this[_0x1ee37c(0x1a4)][_0x1ee37c(0x144)][_0x1ee37c(0xf6)]){logger[_0x1ee37c(0xd9)](_0x3d33fd[_0x1ee37c(0x124)]);return;}this[_0x1ee37c(0x1a9)]=await helper['startLocalBinary'](this['config']),logger[_0x1ee37c(0x195)](_0x3d33fd[_0x1ee37c(0x188)]);}catch(_0x5f122f){logger[_0x1ee37c(0xd9)](_0x5f122f);throw new Error(_0x5f122f[_0x1ee37c(0x179)]());}}async[a89_0x3f6c85(0x11e)](){const _0x3107f9=a89_0x3f6c85,_0x1211e7={};_0x1211e7[_0x3107f9(0x1a1)]=_0x3107f9(0x1a5),_0x1211e7[_0x3107f9(0x191)]='Error\x20occured\x20while\x20stopping\x20local\x20binary';const _0xc34967=_0x1211e7;if(this['browserstackLocal']&&this['browserstackLocal']['isRunning']())try{await helper['stopLocalBinary'](this[_0x3107f9(0x1a9)]),logger[_0x3107f9(0x195)](_0xc34967[_0x3107f9(0x1a1)]);}catch(_0x339cc2){logger[_0x3107f9(0x13a)](_0xc34967[_0x3107f9(0x191)],_0x339cc2[_0x3107f9(0x10d)]);}}async[a89_0x3f6c85(0xe1)](){const _0x3e5b86=a89_0x3f6c85;return PerformanceTester[_0x3e5b86(0x15c)](PerformanceAutEvents[_0x3e5b86(0xe7)],async()=>{await hubAllocator['allocateHub'](this['config']);})();}async[a89_0x3f6c85(0x160)](){const _0x293090=a89_0x3f6c85,_0x524f71={'hpgDJ':function(_0x9ebfe1,_0x415a6b){return _0x9ebfe1(_0x415a6b);},'GclQC':'../ai-sdk-node/bundle','hrDjb':function(_0x3f80ff,_0x1fc8b4,_0x547687,_0x441374,_0x582b1f,_0x8f6a1f,_0x2dc71f){return _0x3f80ff(_0x1fc8b4,_0x547687,_0x441374,_0x582b1f,_0x8f6a1f,_0x2dc71f);},'QCfUz':_0x293090(0x135),'KaKJa':_0x293090(0xca),'jvVaL':function(_0x446291,_0x40c248){return _0x446291(_0x40c248);},'OUePE':_0x293090(0xdc),'XOBut':_0x293090(0x119),'RXFFw':function(_0x45e71b,_0x101fdc){return _0x45e71b(_0x101fdc);},'YlLBt':function(_0x2f20b1,_0x2fe7a1){return _0x2f20b1===_0x2fe7a1;},'jYtjP':_0x293090(0xe2),'HFYDV':function(_0x27acd2,_0x21c4ee){return _0x27acd2===_0x21c4ee;},'VrRAw':function(_0x5cd5f3,_0x35baaa){return _0x5cd5f3===_0x35baaa;},'gxpps':function(_0x1efbfd,_0x4d8e82){return _0x1efbfd===_0x4d8e82;},'dTfnR':_0x293090(0xcf),'brgbq':function(_0x119a7e,_0x9fa59d){return _0x119a7e===_0x9fa59d;},'taQNG':_0x293090(0x12e),'DihVS':_0x293090(0x134),'MXPia':'Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','juqjA':function(_0xc00720,_0x1388e4){return _0xc00720>=_0x1388e4;},'mZviy':function(_0x3dda0e,_0x51e4ac){return _0x3dda0e<_0x51e4ac;},'engyu':function(_0x1d3a3f,_0x1c5aea){return _0x1d3a3f>=_0x1c5aea;},'AcXhA':'tcg\x20config\x20setup\x20successful.','JVEor':'aiHeal:tcgAuth','peEKh':function(_0x2e9de3){return _0x2e9de3();}},_0x2aec27=PerformanceTester[_0x293090(0x15c)](_0x524f71[_0x293090(0x17c)],async()=>{const _0x4fe2ab=_0x293090;try{const _0x2c1eb4=new Date(),_0x4fb2a2=helper['getProxyConfigForTcg'](this[_0x4fe2ab(0x1a4)]),_0x3ed47d=_0x524f71[_0x4fe2ab(0x1ae)](require,path['join'](__dirname,_0x524f71[_0x4fe2ab(0xe3)])),_0x9987e=_0x524f71['hrDjb'](timeoutPromise,constants[_0x4fe2ab(0x10f)],_0x524f71[_0x4fe2ab(0x1a7)],_0x524f71['KaKJa'],_0x2c1eb4,this[_0x4fe2ab(0x1a4)],this[_0x4fe2ab(0xeb)]),_0x376731={'tcgUrl':constants[_0x4fe2ab(0xfa)],'sdkVersion':_0x524f71[_0x4fe2ab(0x19b)](require,_0x524f71[_0x4fe2ab(0x107)])[_0x4fe2ab(0x1aa)],'methodUsed':_0x524f71[_0x4fe2ab(0x11f)],'proxyConfig':_0x4fb2a2,'os':os['platform']()};if(_0x4fb2a2&&_0x4fb2a2['proxyUrl']){utilities['fireFunnelTestEvent'](constants[_0x4fe2ab(0x194)],_0x376731,this[_0x4fe2ab(0x1a4)],this[_0x4fe2ab(0xeb)]);return;}const _0x4a2395={};_0x4a2395[_0x4fe2ab(0x113)]=_0x4fb2a2;const _0x3ea588=await Promise['race']([_0x3ed47d[_0x4fe2ab(0xf9)](this['config'][_0x4fe2ab(0xde)],this[_0x4fe2ab(0x1a4)]['userName'],constants[_0x4fe2ab(0xfa)],_0x524f71[_0x4fe2ab(0x180)](require,_0x524f71['OUePE'])['version'],_0x4a2395)[_0x4fe2ab(0x145)](_0x7a34a0=>{const _0x5c80ca=_0x4fe2ab;return _0x9987e[_0x5c80ca(0x1b1)](),_0x7a34a0;}),_0x9987e]);_0x3ea588[_0x4fe2ab(0xdb)]=_0x524f71[_0x4fe2ab(0xda)](_0x3ea588['isHealingEnabled'],_0x524f71[_0x4fe2ab(0x161)])||_0x524f71[_0x4fe2ab(0x182)](_0x3ea588[_0x4fe2ab(0xdb)],!![]);const _0x904fea=_0x524f71['VrRAw'](this[_0x4fe2ab(0x1a4)]['selfHeal'],!![])||_0x524f71[_0x4fe2ab(0xda)](this[_0x4fe2ab(0x1a4)][_0x4fe2ab(0xd2)],_0x524f71[_0x4fe2ab(0x161)]);if(_0x524f71['gxpps'](_0x3ea588[_0x4fe2ab(0x10d)],constants[_0x4fe2ab(0x19d)])&&_0x904fea)logger['info'](_0x524f71[_0x4fe2ab(0x172)]);else{if(!_0x3ea588[_0x4fe2ab(0xc2)]&&_0x524f71['brgbq'](_0x3ea588[_0x4fe2ab(0x16e)],0x1f7)&&_0x904fea)logger[_0x4fe2ab(0x195)](_0x524f71['taQNG']),utilities[_0x4fe2ab(0x122)](constants[_0x4fe2ab(0xfd)],_0x376731,this[_0x4fe2ab(0x1a4)],this[_0x4fe2ab(0xeb)]);else{if(!_0x3ea588[_0x4fe2ab(0xc2)]&&_0x904fea){logger[_0x4fe2ab(0x195)](_0x524f71[_0x4fe2ab(0x1af)]);const _0x148187={'tcgUrl':constants['TCG_URL'],'sdkVersion':_0x524f71[_0x4fe2ab(0x1ae)](require,_0x524f71[_0x4fe2ab(0x107)])[_0x4fe2ab(0x1aa)],'methodUsed':_0x524f71[_0x4fe2ab(0x11f)],'proxyConfig':_0x4fb2a2,'os':os[_0x4fe2ab(0x104)]()};utilities[_0x4fe2ab(0x122)](constants['TCG_AUTH_FAILURE'],_0x148187,this['config'],this[_0x4fe2ab(0xeb)]);}else{if(_0x3ea588[_0x4fe2ab(0xc2)]&&!_0x3ea588[_0x4fe2ab(0xdb)]&&_0x904fea)logger['info'](_0x524f71[_0x4fe2ab(0xf8)]);else{if(_0x524f71[_0x4fe2ab(0x13d)](_0x3ea588[_0x4fe2ab(0x16e)],0xc8)&&_0x524f71['mZviy'](_0x3ea588[_0x4fe2ab(0x16e)],0x12c))utilities[_0x4fe2ab(0x122)](constants[_0x4fe2ab(0x1ac)],_0x376731,this[_0x4fe2ab(0x1a4)],this[_0x4fe2ab(0xeb)]);else{if(_0x524f71['engyu'](_0x3ea588['status'],0x190))_0x376731[_0x4fe2ab(0x16e)]=_0x3ea588[_0x4fe2ab(0x16e)],utilities[_0x4fe2ab(0x122)](constants[_0x4fe2ab(0x11c)],_0x376731,this['config'],this[_0x4fe2ab(0xeb)]);else!_0x3ea588['status']&&utilities[_0x4fe2ab(0x122)](constants[_0x4fe2ab(0xd3)],_0x376731,this[_0x4fe2ab(0x1a4)],this[_0x4fe2ab(0xeb)]);}}}}}if(_0x3ea588[_0x4fe2ab(0xc2)]&&_0x3ea588[_0x4fe2ab(0xdb)]){const _0x11e22c={};_0x11e22c[_0x4fe2ab(0x18b)]=_0x3ea588;const _0x31afad=_0x11e22c;_0x4fb2a2&&(_0x31afad[_0x4fe2ab(0x1b8)]=_0x4fb2a2),_0x31afad['framework']=this['framework'],_0x31afad[_0x4fe2ab(0x121)]=this[_0x4fe2ab(0x1a4)],helper[_0x4fe2ab(0x199)](_0x31afad),logger[_0x4fe2ab(0xd9)](_0x524f71['AcXhA']);}}catch(_0x52132d){logger['debug']('Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20'+(_0x52132d[_0x4fe2ab(0x10d)]?_0x52132d['message']:''));}});await _0x524f71[_0x293090(0x1a0)](_0x2aec27);}['setupKeepAlive'](){const _0x227743=a89_0x3f6c85,_0x5966ad={'eVoMF':function(_0x49fa54,_0x2283a2){return _0x49fa54(_0x2283a2);},'LlPAu':_0x227743(0x1b9)};_0x5966ad[_0x227743(0xea)](require,_0x5966ad[_0x227743(0xfb)])();}['handleExceptions'](){const _0x18331b=a89_0x3f6c85,_0x39461f={};_0x39461f['fJgoK']='unhandledRejection',_0x39461f[_0x18331b(0x154)]=_0x18331b(0x170);const _0x19b82a=_0x39461f,_0x47475d=_0x18f3c0=>{const _0x16e8c2=_0x18331b;logger['error'](_0x18f3c0[_0x16e8c2(0x10d)]),logger[_0x16e8c2(0xd9)](util['format'](_0x18f3c0)),this['unhandledErrors']['push'](util[_0x16e8c2(0x128)]('%j',_0x18f3c0)),PerformanceTester[_0x16e8c2(0x155)](_0x18f3c0);};process['on'](_0x19b82a['fJgoK'],_0x47475d),process['on'](_0x19b82a['PqUcf'],_0x47475d);}async[a89_0x3f6c85(0x136)](_0x30d00d){const _0x4e6918=a89_0x3f6c85,_0x4daf25={};_0x4daf25[_0x4e6918(0xf4)]=_0x4e6918(0x114),_0x4daf25[_0x4e6918(0xd4)]=function(_0x36d0c5,_0x18d439){return _0x36d0c5+_0x18d439;},_0x4daf25['zquoQ']=_0x4e6918(0x175),_0x4daf25['LFlEe']='handled';const _0x295216=_0x4daf25,_0x356075=_0x295216[_0x4e6918(0xf4)][_0x4e6918(0x106)]('|');let _0x4251b3=0x0;while(!![]){switch(_0x356075[_0x4251b3++]){case'0':logger[_0x4e6918(0x195)](_0x295216[_0x4e6918(0xd4)](_0x295216[_0x4e6918(0x181)],_0x30d00d));continue;case'1':this[_0x4e6918(0x103)]=_0x30d00d;continue;case'2':if(this[_0x295216[_0x4e6918(0xd4)](_0x295216[_0x4e6918(0x142)],_0x30d00d)])return;continue;case'3':this[_0x295216[_0x4e6918(0xd4)](_0x295216[_0x4e6918(0x142)],_0x30d00d)]=!![];continue;case'4':await TestHubHandler[_0x4e6918(0x13e)](_0x30d00d);continue;case'5':await BrowserstackCLI[_0x4e6918(0xd8)]()[_0x4e6918(0x13e)]();continue;}break;}}[a89_0x3f6c85(0x139)](){const _0x134474=a89_0x3f6c85,_0x423506={'LCbVW':function(_0x5ec01b,_0x5bd295){return _0x5ec01b===_0x5bd295;},'iCVoa':_0x134474(0x1be),'VHGPB':function(_0x4176a3,_0x381a60){return _0x4176a3>_0x381a60;},'NRlfy':function(_0x502de7,_0x7f9b87){return _0x502de7(_0x7f9b87);},'dTtid':function(_0x34bcb9){return _0x34bcb9();},'xGRXU':'events.json'};let _0x27c9c1=0x0;return async()=>{const _0x1f27b8=_0x134474;_0x27c9c1++;if(_0x423506[_0x1f27b8(0xf0)](_0x27c9c1,0x1)){helper[_0x1f27b8(0xff)](this['framework'])&&await this['stopBrowserstackLocal']();try{logger[_0x1f27b8(0xd9)](_0x423506['iCVoa']),await TestHubHandler[_0x1f27b8(0x13e)](_0x27c9c1),await BrowserstackCLI[_0x1f27b8(0xd8)]()[_0x1f27b8(0x13e)]('1');}catch(_0x59ac62){logger['debug']('Error\x20in\x20sending\x20testhub\x20stop:\x20'+util['format'](_0x59ac62));}PerformanceTester['end'](PerformanceEvents[_0x1f27b8(0x16b)]);if(PerformanceTester[_0x1f27b8(0x14e)]()){const {measures:_0x24e83d,errors:_0x5ec35a}=await PerformanceTester[_0x1f27b8(0x149)](),_0x2fb26a={};if(_0x24e83d&&_0x423506[_0x1f27b8(0x13c)](_0x24e83d[_0x1f27b8(0x163)],0x0)||_0x5ec35a&&_0x423506[_0x1f27b8(0x13c)](_0x5ec35a[_0x1f27b8(0x163)],0x0)){const _0x335ff4={};_0x335ff4[_0x1f27b8(0xf3)]=_0x24e83d,_0x335ff4['exceptions']=_0x5ec35a,Object['assign'](_0x2fb26a,_0x335ff4);}try{const _0x44a0ba=await helper['sendToEDS'](_0x2fb26a,this[_0x1f27b8(0x1a4)]);logger[_0x1f27b8(0xd9)]('Data\x20sent\x20successfully\x20to\x20'+_0x423506[_0x1f27b8(0xc3)](getEdsInstrumentationAPIUrl,'')+_0x1f27b8(0x17f)+_0x44a0ba[_0x1f27b8(0x10b)]);}catch(_0xfa718b){logger['debug']('Failed\x20to\x20send\x20data\x20to\x20'+_0x423506[_0x1f27b8(0xc3)](getEdsInstrumentationAPIUrl,'')+'\x20with\x20error\x20'+util[_0x1f27b8(0x128)](_0xfa718b));}try{fs[_0x1f27b8(0xd7)](path[_0x1f27b8(0x14d)](_0x423506['dTtid'](getLogDir),_0x423506[_0x1f27b8(0x15e)]),JSON['stringify'](_0x2fb26a));}catch(_0x20a49d){logger[_0x1f27b8(0xd9)](_0x1f27b8(0x1bd)+_0x20a49d);}}}logger&&logger[_0x1f27b8(0x112)](),fileLogger&&fileLogger[_0x1f27b8(0x112)]();};}}exports[a89_0x3f6c85(0xcb)]=BrowserStackSetup;