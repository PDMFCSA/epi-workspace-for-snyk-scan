const a85_0x2910bd=a85_0x4dcb;(function(_0x34a610,_0x4cbd0a){const _0x3e1a9d=a85_0x4dcb,_0xe780c3=_0x34a610();while(!![]){try{const _0x47fd1b=parseInt(_0x3e1a9d(0x233))/0x1+parseInt(_0x3e1a9d(0x185))/0x2*(-parseInt(_0x3e1a9d(0x1b7))/0x3)+-parseInt(_0x3e1a9d(0x1c4))/0x4*(parseInt(_0x3e1a9d(0x26c))/0x5)+parseInt(_0x3e1a9d(0x191))/0x6*(parseInt(_0x3e1a9d(0x246))/0x7)+parseInt(_0x3e1a9d(0x1e8))/0x8+parseInt(_0x3e1a9d(0x1d2))/0x9*(-parseInt(_0x3e1a9d(0x1ca))/0xa)+parseInt(_0x3e1a9d(0x244))/0xb*(-parseInt(_0x3e1a9d(0x242))/0xc);if(_0x47fd1b===_0x4cbd0a)break;else _0xe780c3['push'](_0xe780c3['shift']());}catch(_0x12bbfa){_0xe780c3['push'](_0xe780c3['shift']());}}}(a85_0x52c7,0xbc25c));const util=require(a85_0x2910bd(0x270)),os=require('os'),path=require('path'),{v4:uuidv4}=require('uuid'),fs=require('fs'),constants=require('../bin/utils/constants'),logger=require(a85_0x2910bd(0x1b3))[a85_0x2910bd(0x1af)],fileLogger=require(a85_0x2910bd(0x1b3))[a85_0x2910bd(0x1c6)],{getLogDir}=require(a85_0x2910bd(0x1b3)),helper=require(a85_0x2910bd(0x223)),utilities=require('./utilities'),percyHelper=require(a85_0x2910bd(0x24e)),hubAllocator=require(a85_0x2910bd(0x188)),PerformanceTester=require(a85_0x2910bd(0x25b)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require('./performance/constants'),{setPercyFlag}=require(a85_0x2910bd(0x1e9)),TestHubHandler=require('./testhub/testhubHandler'),timeoutPromise=require('./timeoutPromise'),BrowserstackCLI=require(a85_0x2910bd(0x1d1));function a85_0x4dcb(_0x34295a,_0x330390){const _0x52c71b=a85_0x52c7();return a85_0x4dcb=function(_0x4dcb1f,_0x5b9c50){_0x4dcb1f=_0x4dcb1f-0x16f;let _0x16231e=_0x52c71b[_0x4dcb1f];return _0x16231e;},a85_0x4dcb(_0x34295a,_0x330390);}function a85_0x52c7(){const _0x4f2a5d=['WfOgt','cliConfig','iMcXp','startPercy','setBrowserstackInfraFromConfig','UtMay','../ai-sdk-node/bundle','browserStackLocalOptions','setupTCGAuth','nflPg','Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled','turboScaleOptions','bZese','pJnjP','tcg\x20config\x20setup\x20successful.','localOptions','LfnRA','setLogLevel','4614512nTAQRA','./testhub/utils','zUtMO','setHandlePWError','toString','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','playwright','UPGRADE_REQUIRED','uYpIc','LOcao','zdYKN','stopBrowserstackLocal','killSignal','platform','Data\x20sent\x20successfully\x20to\x20','parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','Error\x20in\x20percy\x20setup\x20','setCLICaps','getHubUrl','sendToEDS','version','framework','TXCJm','stop','envConfig','SDK_CLEANUP','SIGBREAK','disableAutoCaptureLogs','end','exitHandler','tmllo','QLFhm','compareVersions','SIGTERM','setLogDir','init','status','then','useW3C','avgGa','drSlk','captureError','TCG_URL','env','cancel','?caps=','VVqrF','isBrowserstackInfra','skipBinaryInitialisation','constructor','getLocalIdentifier','selfHeal','3|1|4|5|0|2','events.json','testContextOptions','proxy','CeIrE','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','message','./helper','MeKuw','RyUJn','Local\x20binary\x20stopped','localIdentifier','qhbzX','forceLocal','OHCIO','checkStopLocalBinaryOnExit','customRepeaters','BROWSERSTACK_PERCY','exceptions','aIxMR','skipSessionName','sdkRunId','TCG_AUTH_TIMEOUT','1180796kwTrAm','info','tKRME','HUB_MANAGEMENT','QNILE','browserstackLocal','uSxUD','isUndefined','ERpJf','AI_INIT_SUCCESSFUL','ttBkF','RnxKg','requireSeleniumWebdriverCheck','\x20with\x20error\x20','intExitHandler','10378452KDfJRF','ZdtHW','11qeBtPM','setupTcgConfigFile','527786MAeHcN','isAuthenticated','ntwLB','zXxRB','TCG_DOWN','VzfhM','getFinalCaps','platforms','./percy/utils','Local\x20binary\x20started\x20successfully','qgCHV','hvnwp','spufT','nSzru','bstackConfig','setUpHubUrl','appiZ','getInstance','nDBSR','userName\x20or\x20accessKey\x20is\x20not\x20defined','cLJVC','./performance/performance-tester','getAccessKey','isRunning','handled','readConfig','BrowserstackHealing.init\x20method\x20timed\x20out','stringify','finalize','Error\x20in\x20sending\x20testhub\x20stop:\x20','zVFzo','\x20with\x20response\x20','FRAMEWORK','czTRn','setEnvCaps','close','toLowerCase','BrowserstackHealingInitFailed','16805apKuvu','ats-repeater','YOvkj','WDpjg','util','isEnabled','stopPercy','errorMessage','INVALID_INIT_RESP_WITH_USER_IMPACT','split','debug','join','format','proxyUrl','nPzVv','hsKxk','vtAMa','nBzZb','percy','EDS_URL','YZUGx','setupPercy','SIGQUIT','playwrightUrl','pKZXH','SIGINT','generateLocalIdentifier','isTurboScaleSession','measureWrapper','normalizeTestReportingEnvVars','KZCrN','Error\x20occured\x20while\x20stopping\x20percy','isTrue','54vnEJjd','Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','getUserName','../hubAllocationMethods','stopLocalBinary','isNotUndefined','length','error','measures','BapoG','Shutdown\x20triggered\x20by\x20','Percy\x20started\x20successfully','90ObyqfX','acJFh','HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20','gUgHW','SIGABRT','MkQqN','allocateHub','xvzyF','warn','__isPlaywrightInstalled','kwgsL','writeFileSync','false','hubUrl','handleExceptions','oiHZz','pcquQ','turboScaleUrl','selenium-webdriver','startMonitoring','true','Percy\x20stopped','statusCode','Error\x20occured\x20while\x20stopping\x20local\x20binary','setupBrowserstackLocal','isHealingEnabled','BROWSERSTACK_TURBOSCALE','SDKTestAttempted','race','turboScaleGridDetails','winstonLogger','AUTOLOGCAPTURE_NOTIFICATION','huosk','getLocalConfig','./logger','accessKey','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','UHNIv','88617qscBmN','url','TCG_AUTH_FAILURE','MEGJc','KANvC','preInitialize','IFSrG','setupKeepAlive','sanitizeCaps','push','TfInt','SIGHUP','default','60DuIjLt','userName','fileLogger','getProxyConfigForTcg','qqiMp','AI_INIT_FAILURE','10nzakLG','skipSessionStatus','unhandledErrors','uncaughtException','sGEZu','turboScale','config','../bin/v2/browserstackCLI','3645801aBfosE','kAdkm','fireFunnelTestEvent','BrowserstackHealing.init'];a85_0x52c7=function(){return _0x4f2a5d;};return a85_0x52c7();}class BrowserStackSetup{constructor(_0x4a9889,_0x4eb3f6){const _0x401293=a85_0x2910bd,_0x34c368={'zXxRB':'13|4|7|21|16|2|11|20|5|18|17|1|12|6|9|8|3|19|22|15|14|0|10','kwgsL':'No\x20config\x20provided.','EIWjs':function(_0x505e75){return _0x505e75();}},_0x56caa7=_0x34c368[_0x401293(0x249)][_0x401293(0x275)]('|');let _0x42bb1f=0x0;while(!![]){switch(_0x56caa7[_0x42bb1f++]){case'0':helper[_0x401293(0x1e7)](this[_0x401293(0x1d0)],this['cliConfig'],this[_0x401293(0x200)]);continue;case'1':this[_0x401293(0x1fd)]=_0x4eb3f6;continue;case'2':this[_0x401293(0x1d0)]=helper[_0x401293(0x25f)](helper['getConfigPath'](_0x4a9889));continue;case'3':helper['setCredentialsFromYmlConfig'](this['config']);continue;case'4':helper[_0x401293(0x181)]();continue;case'5':this[_0x401293(0x1d0)][_0x401293(0x21e)]=this[_0x401293(0x1d0)][_0x401293(0x21e)]||{};continue;case'6':if(helper[_0x401293(0x23a)](this[_0x401293(0x1d0)]))throw new Error(_0x34c368[_0x401293(0x19b)]);continue;case'7':this['envConfig']=helper[_0x401293(0x268)]();continue;case'8':helper[_0x401293(0x1da)](this['config'],this['cliConfig']);continue;case'9':if(this['config'][_0x401293(0x18c)])throw new Error(this['config'][_0x401293(0x18c)]);continue;case'10':PerformanceTester[_0x401293(0x1a4)]();continue;case'11':this['cliConfig']=helper[_0x401293(0x1f9)](_0x4a9889);continue;case'12':global[_0x401293(0x1fd)]=_0x4eb3f6;continue;case'13':this[_0x401293(0x1cc)]=[];continue;case'14':helper[_0x401293(0x20a)](this[_0x401293(0x1d0)]);continue;case'15':helper[_0x401293(0x24c)](this[_0x401293(0x1d0)],this[_0x401293(0x1d7)],this[_0x401293(0x200)]);continue;case'16':this['percy']=null;continue;case'17':this['sdkRunId']=_0x34c368['EIWjs'](uuidv4);continue;case'18':this[_0x401293(0x273)]={};continue;case'19':this['config'][_0x401293(0x21e)][_0x401293(0x1cb)]=!helper['isBrowserstackInfra']()||helper['isTrue'](this[_0x401293(0x1d0)][_0x401293(0x21e)][_0x401293(0x1cb)]);continue;case'20':this[_0x401293(0x1d0)][_0x401293(0x24d)]=this[_0x401293(0x1d0)][_0x401293(0x24d)]||[];continue;case'21':this['browserstackLocal']=null;continue;case'22':this[_0x401293(0x1d0)][_0x401293(0x21e)][_0x401293(0x230)]=!helper['isBrowserstackInfra']()||helper[_0x401293(0x184)](this['config'][_0x401293(0x21e)]['skipSessionName']);continue;}break;}}[a85_0x2910bd(0x1bc)](_0x2d2733){const _0x3fc803=a85_0x2910bd,_0x23ed3d={'ERpJf':_0x3fc803(0x259),'KZCrN':function(_0xc26610,_0x3f69af){return _0xc26610===_0x3f69af;},'QLFhm':function(_0x1a16d6,_0x503626){return _0x1a16d6===_0x503626;},'ssjHc':'integrations','CeIrE':_0x3fc803(0x1ac),'YZUGx':function(_0x5e9ea9,_0x106c54){return _0x5e9ea9<_0x106c54;},'czTRn':function(_0x5c467f,_0x1cfa60){return _0x5c467f(_0x1cfa60);},'QNILE':_0x3fc803(0x1a3),'UtMay':'4.5.0','ekwEd':_0x3fc803(0x1b5),'nflPg':_0x3fc803(0x1f7),'CFRDI':_0x3fc803(0x209),'ltbQF':_0x3fc803(0x17d),'vtAMa':_0x3fc803(0x1c2),'acJFh':function(_0x20e2b3,_0x2705b4){return _0x20e2b3!==_0x2705b4;},'VzfhM':'win32','nBzZb':_0x3fc803(0x195),'Pzaoh':_0x3fc803(0x17a),'UHNIv':_0x3fc803(0x202),'hsKxk':'beforeExit'},_0x389577=this['framework'];global['config']=this[_0x3fc803(0x1d0)],helper[_0x3fc803(0x1bf)](this[_0x3fc803(0x1d0)]),this[_0x3fc803(0x1f4)]=null,global[_0x3fc803(0x231)]=this[_0x3fc803(0x231)],logger[_0x3fc803(0x234)]('SDK\x20run\x20started\x20with\x20id:\x20'+this[_0x3fc803(0x231)]),!this[_0x3fc803(0x1d0)][_0x3fc803(0x1dd)]&&(this[_0x3fc803(0x1d0)][_0x3fc803(0x1dd)]=this['config'][_0x3fc803(0x1e5)]||{});if(helper[_0x3fc803(0x23a)](helper[_0x3fc803(0x187)](this[_0x3fc803(0x1d0)]))||helper['isUndefined'](helper[_0x3fc803(0x25c)](this[_0x3fc803(0x1d0)])))throw new Error(_0x23ed3d[_0x3fc803(0x23b)]);helper[_0x3fc803(0x1b2)](this[_0x3fc803(0x1d0)])&&helper[_0x3fc803(0x23a)](helper[_0x3fc803(0x21a)](this[_0x3fc803(0x1d0)]))&&(!helper['isUndefined'](this['config']['browserStackLocalOptions'])&&_0x23ed3d[_0x3fc803(0x182)](this[_0x3fc803(0x1d0)][_0x3fc803(0x1dd)][_0x3fc803(0x219)],Object)?!helper[_0x3fc803(0x184)](this[_0x3fc803(0x1d0)]['browserStackLocalOptions']['skipBinaryInitialisation'])&&(this[_0x3fc803(0x1d0)][_0x3fc803(0x1dd)][_0x3fc803(0x227)]=helper[_0x3fc803(0x17e)]()):this[_0x3fc803(0x1d0)][_0x3fc803(0x1dd)]={'localIdentifier':helper['generateLocalIdentifier']()});this[_0x3fc803(0x1d0)]['browserStackLocalOptions'][_0x3fc803(0x218)]=helper[_0x3fc803(0x184)](this[_0x3fc803(0x1d0)][_0x3fc803(0x1dd)][_0x3fc803(0x218)]),helper[_0x3fc803(0x1eb)](this[_0x3fc803(0x1d0)]);if(_0x23ed3d[_0x3fc803(0x207)](_0x389577,_0x23ed3d['ssjHc']))return;this[_0x3fc803(0x19f)]();process['env'][_0x3fc803(0x1ab)]&&(this['config'][_0x3fc803(0x1cf)]=helper['isTrue'](process[_0x3fc803(0x213)][_0x3fc803(0x1ab)]),this[_0x3fc803(0x1d0)][_0x3fc803(0x1e1)]=this['config'][_0x3fc803(0x1e1)]||{});helper['isTurboScaleSession'](this[_0x3fc803(0x1d0)])&&(process[_0x3fc803(0x213)]['BROWSERSTACK_TURBOSCALE']=!![]);if(!helper[_0x3fc803(0x217)]()){try{process[_0x3fc803(0x213)]['FRAMEWORK']=_0x389577,utilities[_0x3fc803(0x1d4)](_0x23ed3d[_0x3fc803(0x220)],{},this[_0x3fc803(0x1d0)],this['framework']);}catch(_0x5c6ead){logger[_0x3fc803(0x276)]('Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20'+_0x5c6ead);}return;}if(helper[_0x3fc803(0x23f)](_0x389577)){if(global[_0x3fc803(0x19a)])return;_0x23ed3d[_0x3fc803(0x178)](_0x23ed3d[_0x3fc803(0x267)](parseInt,helper['getPackageVersion'](_0x23ed3d[_0x3fc803(0x237)])),0x3)&&(this['config'][_0x3fc803(0x20e)]=![]),_0x23ed3d['QLFhm'](helper[_0x3fc803(0x208)](helper['getPackageVersion'](_0x23ed3d[_0x3fc803(0x237)]),_0x23ed3d[_0x3fc803(0x1db)]),0x1)&&(this[_0x3fc803(0x1d0)][_0x3fc803(0x20e)]=!![]);}(helper[_0x3fc803(0x23a)](this[_0x3fc803(0x1d0)][_0x3fc803(0x24d)])||helper[_0x3fc803(0x23a)](this['config'][_0x3fc803(0x24d)][_0x3fc803(0x18b)]))&&(helper[_0x3fc803(0x23a)](this[_0x3fc803(0x1d0)]['parallelsPerPlatform'])?logger[_0x3fc803(0x234)](_0x23ed3d['ekwEd']):logger[_0x3fc803(0x199)](_0x23ed3d[_0x3fc803(0x1df)]),this[_0x3fc803(0x1d0)][_0x3fc803(0x24d)]=[]);!this[_0x3fc803(0x1d0)]['testContextOptions']&&(this[_0x3fc803(0x1d0)]['testContextOptions']={});try{process[_0x3fc803(0x213)][_0x3fc803(0x266)]=_0x2d2733['_'][0x0],utilities['fireFunnelTestEvent'](_0x23ed3d[_0x3fc803(0x220)],{},this[_0x3fc803(0x1d0)],this['framework']);}catch(_0x19cf35){logger[_0x3fc803(0x276)](_0x3fc803(0x1ed)+_0x19cf35);}!this[_0x3fc803(0x1d0)][_0x3fc803(0x203)]&&logger['info'](constants[_0x3fc803(0x1b0)]),this['intExitHandler']=this['intExitHandler']['bind'](this),process['on'](_0x23ed3d['CFRDI'],this[_0x3fc803(0x241)]),process['on'](_0x23ed3d['ltbQF'],this[_0x3fc803(0x241)]),process['on'](_0x23ed3d[_0x3fc803(0x174)],this[_0x3fc803(0x241)]),_0x23ed3d[_0x3fc803(0x192)](process[_0x3fc803(0x1f5)],_0x23ed3d[_0x3fc803(0x24b)])?(process['on'](_0x23ed3d[_0x3fc803(0x175)],this[_0x3fc803(0x241)]),process['on'](_0x23ed3d['Pzaoh'],this[_0x3fc803(0x241)])):process['on'](_0x23ed3d[_0x3fc803(0x1b6)],this[_0x3fc803(0x241)]),process['on'](_0x23ed3d[_0x3fc803(0x173)],this[_0x3fc803(0x205)]());}async['initialize'](_0x3d0a6e){const _0x406da8=a85_0x2910bd,_0x359473={'WfOgt':_0x406da8(0x26d),'appiZ':'custom-repeater','iMcXp':'true','MkQqN':function(_0x60dfe5,_0x4f7ed5){return _0x60dfe5===_0x4f7ed5;},'pcquQ':_0x406da8(0x1ee),'WDpjg':function(_0x2b747d,_0x160f7e){return _0x2b747d+_0x160f7e;},'OHCIO':_0x406da8(0x215),'zUtMO':function(_0x799071,_0x118283){return _0x799071(_0x118283);},'tKRME':'codeceptjs'};this['preInitialize'](_0x3d0a6e);if(helper[_0x406da8(0x17f)](this[_0x406da8(0x1d0)])){const _0x4c3810=await helper['getTurboScaleGridDetails'](this[_0x406da8(0x1d0)]);this[_0x406da8(0x1d0)][_0x406da8(0x1ae)]=_0x4c3810,_0x4c3810['isTrialGrid']&&helper[_0x406da8(0x18a)](this[_0x406da8(0x1d0)][_0x406da8(0x238)])&&helper['isTrue'](this[_0x406da8(0x1d0)][_0x406da8(0x238)])&&(this[_0x406da8(0x1d0)][_0x406da8(0x1dd)]['localIdentifier']=_0x359473[_0x406da8(0x1d6)],this[_0x406da8(0x1d0)]['browserStackLocalOptions'][_0x359473[_0x406da8(0x256)]]=_0x4c3810[_0x406da8(0x22c)]['join'](','),this[_0x406da8(0x1d0)][_0x406da8(0x1dd)][_0x406da8(0x229)]=_0x359473[_0x406da8(0x1d8)]),this[_0x406da8(0x1d0)][_0x406da8(0x1a2)]=_0x4c3810[_0x406da8(0x1b8)],this[_0x406da8(0x1fd)]&&_0x359473[_0x406da8(0x196)](this[_0x406da8(0x1fd)][_0x406da8(0x26a)](),_0x359473['pcquQ'])?this[_0x406da8(0x1d0)][_0x406da8(0x1a2)]=_0x359473[_0x406da8(0x26f)](_0x4c3810[_0x406da8(0x17b)],_0x359473[_0x406da8(0x22a)]):constants['hubUrl']=helper[_0x406da8(0x1fa)](this[_0x406da8(0x1d0)]),logger[_0x406da8(0x276)](_0x406da8(0x193)+constants[_0x406da8(0x19e)]);}helper['setProxySettings'](this[_0x406da8(0x1d0)]),this[_0x406da8(0x1be)](),_0x359473[_0x406da8(0x1ea)](setPercyFlag,this),await this[_0x406da8(0x1a9)](),![_0x359473[_0x406da8(0x235)],_0x359473[_0x406da8(0x1a1)]]['includes'](this['framework'])&&!helper['isTurboScaleSession'](this[_0x406da8(0x1d0)])&&!helper['getCentralUser']()['central_scanner']&&await this[_0x406da8(0x255)]();}async[a85_0x2910bd(0x179)](){const _0x4cd589=a85_0x2910bd,_0x4990f0={};_0x4990f0[_0x4cd589(0x243)]=function(_0x184b7b,_0x4846dd){return _0x184b7b===_0x4846dd;},_0x4990f0[_0x4cd589(0x264)]=_0x4cd589(0x19d),_0x4990f0['BapoG']='Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.',_0x4990f0['JCIdr']=_0x4cd589(0x190),_0x4990f0[_0x4cd589(0x1ba)]='true',_0x4990f0['TXCJm']='beforeExit';const _0xbae0f0=_0x4990f0;if(helper[_0x4cd589(0x184)](this['config'][_0x4cd589(0x176)])&&(!this[_0x4cd589(0x176)]||!this[_0x4cd589(0x176)]['isRunning']()))try{this[_0x4cd589(0x176)]=await percyHelper[_0x4cd589(0x1d9)](this['config']);if(!this[_0x4cd589(0x176)]){process[_0x4cd589(0x213)][_0x4cd589(0x22d)]=_0xbae0f0[_0x4cd589(0x264)];throw new Error(_0xbae0f0[_0x4cd589(0x18e)]);}logger[_0x4cd589(0x234)](_0xbae0f0['JCIdr']),process['env'][_0x4cd589(0x22d)]=_0xbae0f0[_0x4cd589(0x1ba)];let _0x2e34d6=0x0;const _0x1c956e=async()=>{const _0x21d15b=_0x4cd589;_0x2e34d6++,_0xbae0f0[_0x21d15b(0x243)](_0x2e34d6,0x1)&&await this[_0x21d15b(0x272)]();};process['on'](_0xbae0f0[_0x4cd589(0x1fe)],_0x1c956e);}catch(_0x487a93){process['env'][_0x4cd589(0x22d)]=_0xbae0f0[_0x4cd589(0x264)],logger[_0x4cd589(0x276)](_0x4cd589(0x1f8)+_0x487a93);throw new Error(_0x487a93['toString']());}}async[a85_0x2910bd(0x272)](){const _0xd47c9d=a85_0x2910bd,_0xb9d70a={};_0xb9d70a['eWoTp']=_0xd47c9d(0x1a6),_0xb9d70a[_0xd47c9d(0x206)]=_0xd47c9d(0x183);const _0x367172=_0xb9d70a;if(this['percy']&&this[_0xd47c9d(0x176)][_0xd47c9d(0x25d)]())try{await percyHelper['stopPercy'](this[_0xd47c9d(0x176)]),logger[_0xd47c9d(0x234)](_0x367172['eWoTp']);}catch(_0x43dc6d){logger[_0xd47c9d(0x18c)](_0x367172['tmllo'],_0x43dc6d[_0xd47c9d(0x222)]);}}async['setupBrowserstackLocal'](){const _0x2612ca=a85_0x2910bd,_0x300635={};_0x300635[_0x2612ca(0x225)]=_0x2612ca(0x1e0),_0x300635[_0x2612ca(0x251)]=_0x2612ca(0x24f);const _0x54a27c=_0x300635;if(helper[_0x2612ca(0x217)]()&&helper[_0x2612ca(0x184)](this[_0x2612ca(0x1d0)][_0x2612ca(0x238)])&&(!this['browserstackLocal']||!this[_0x2612ca(0x238)][_0x2612ca(0x25d)]()))try{if(this['config'][_0x2612ca(0x1dd)][_0x2612ca(0x218)]){logger[_0x2612ca(0x276)](_0x54a27c[_0x2612ca(0x225)]);return;}this['browserstackLocal']=await helper['startLocalBinary'](this[_0x2612ca(0x1d0)]),logger[_0x2612ca(0x234)](_0x54a27c[_0x2612ca(0x251)]);}catch(_0x230fa5){logger[_0x2612ca(0x276)](_0x230fa5);throw new Error(_0x230fa5[_0x2612ca(0x1ec)]());}}async[a85_0x2910bd(0x1f3)](){const _0x246db3=a85_0x2910bd,_0x2d24db={};_0x2d24db[_0x246db3(0x1f1)]=_0x246db3(0x226),_0x2d24db[_0x246db3(0x1c1)]=_0x246db3(0x1a8);const _0xf15266=_0x2d24db;if(this['browserstackLocal']&&this[_0x246db3(0x238)]['isRunning']())try{await helper[_0x246db3(0x189)](this[_0x246db3(0x238)]),logger[_0x246db3(0x234)](_0xf15266[_0x246db3(0x1f1)]);}catch(_0x55d414){logger[_0x246db3(0x18c)](_0xf15266[_0x246db3(0x1c1)],_0x55d414[_0x246db3(0x222)]);}}async[a85_0x2910bd(0x255)](){const _0x56a5f4=a85_0x2910bd;return PerformanceTester[_0x56a5f4(0x180)](PerformanceAutEvents[_0x56a5f4(0x236)],async()=>{const _0x26efde=_0x56a5f4;await hubAllocator[_0x26efde(0x197)](this[_0x26efde(0x1d0)]);})();}async[a85_0x2910bd(0x1de)](){const _0x519144=a85_0x2910bd,_0x258949={'oiHZz':function(_0x413ca9,_0x1c12b9){return _0x413ca9(_0x1c12b9);},'spufT':_0x519144(0x1dc),'bZese':function(_0x1e39a1,_0x46ec06,_0x524686,_0x38ee2f,_0x15c71c,_0xce1cbf,_0x21eea9){return _0x1e39a1(_0x46ec06,_0x524686,_0x38ee2f,_0x15c71c,_0xce1cbf,_0x21eea9);},'xvzyF':_0x519144(0x260),'MeKuw':_0x519144(0x26b),'ttBkF':'../../package.json','cLJVC':_0x519144(0x1d5),'ntwLB':function(_0x59fb7d,_0x317446){return _0x59fb7d===_0x317446;},'nPzVv':_0x519144(0x1a5),'aIxMR':function(_0x3701cd,_0x14b178){return _0x3701cd===_0x14b178;},'pKZXH':function(_0x220a5c,_0x5934c8){return _0x220a5c===_0x5934c8;},'xqafG':function(_0x46740d,_0x725fc0){return _0x46740d===_0x725fc0;},'iJvhf':'Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','zdYKN':_0x519144(0x221),'qgCHV':'Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','pJnjP':_0x519144(0x186),'sGEZu':function(_0x49c984,_0x2986f6){return _0x49c984>=_0x2986f6;},'gUgHW':function(_0x4ef6b6,_0x392697){return _0x4ef6b6<_0x392697;},'RnxKg':function(_0x3ca89c,_0x3161cc){return _0x3ca89c>=_0x3161cc;},'nDBSR':_0x519144(0x1e4),'DtwXG':'aiHeal:tcgAuth','wkLEv':function(_0x2b23f8){return _0x2b23f8();}},_0x3b41ec=PerformanceTester[_0x519144(0x180)](_0x258949['DtwXG'],async()=>{const _0xac2e6e=_0x519144;try{const _0x4760f0=new Date(),_0x46a60c=helper[_0xac2e6e(0x1c7)](this['config']),_0x57d73e=_0x258949[_0xac2e6e(0x1a0)](require,path[_0xac2e6e(0x16f)](__dirname,_0x258949[_0xac2e6e(0x252)])),_0x1c1dba=_0x258949[_0xac2e6e(0x1e2)](timeoutPromise,constants[_0xac2e6e(0x232)],_0x258949[_0xac2e6e(0x198)],_0x258949[_0xac2e6e(0x224)],_0x4760f0,this['config'],this[_0xac2e6e(0x1fd)]),_0x27cdb6={'tcgUrl':constants[_0xac2e6e(0x212)],'sdkVersion':_0x258949[_0xac2e6e(0x1a0)](require,_0x258949['ttBkF'])[_0xac2e6e(0x1fc)],'methodUsed':_0x258949[_0xac2e6e(0x25a)],'proxyConfig':_0x46a60c,'os':os[_0xac2e6e(0x1f5)]()};if(_0x46a60c&&_0x46a60c[_0xac2e6e(0x171)]){utilities['fireFunnelTestEvent'](constants['AI_PROXY_FAILURE'],_0x27cdb6,this[_0xac2e6e(0x1d0)],this['framework']);return;}const _0x36ec0e={};_0x36ec0e[_0xac2e6e(0x21f)]=_0x46a60c;const _0x335dcc=await Promise[_0xac2e6e(0x1ad)]([_0x57d73e[_0xac2e6e(0x20b)](this[_0xac2e6e(0x1d0)][_0xac2e6e(0x1b4)],this[_0xac2e6e(0x1d0)][_0xac2e6e(0x1c5)],constants['TCG_URL'],_0x258949[_0xac2e6e(0x1a0)](require,_0x258949['ttBkF'])[_0xac2e6e(0x1fc)],_0x36ec0e)[_0xac2e6e(0x20d)](_0x4a2ed7=>{const _0x416455=_0xac2e6e;return _0x1c1dba[_0x416455(0x214)](),_0x4a2ed7;}),_0x1c1dba]);_0x335dcc[_0xac2e6e(0x1aa)]=_0x258949['ntwLB'](_0x335dcc[_0xac2e6e(0x1aa)],_0x258949[_0xac2e6e(0x172)])||_0x258949[_0xac2e6e(0x22f)](_0x335dcc[_0xac2e6e(0x1aa)],!![]);const _0x246292=_0x258949[_0xac2e6e(0x22f)](this['config'][_0xac2e6e(0x21b)],!![])||_0x258949[_0xac2e6e(0x17c)](this[_0xac2e6e(0x1d0)][_0xac2e6e(0x21b)],_0x258949['nPzVv']);if(_0x258949['xqafG'](_0x335dcc['message'],constants[_0xac2e6e(0x1ef)])&&_0x246292)logger[_0xac2e6e(0x234)](_0x258949['iJvhf']);else{if(!_0x335dcc[_0xac2e6e(0x247)]&&_0x258949[_0xac2e6e(0x248)](_0x335dcc[_0xac2e6e(0x20c)],0x1f7)&&_0x246292)logger[_0xac2e6e(0x234)](_0x258949[_0xac2e6e(0x1f2)]),utilities[_0xac2e6e(0x1d4)](constants[_0xac2e6e(0x24a)],_0x27cdb6,this[_0xac2e6e(0x1d0)],this[_0xac2e6e(0x1fd)]);else{if(!_0x335dcc['isAuthenticated']&&_0x246292){logger[_0xac2e6e(0x234)](_0x258949[_0xac2e6e(0x250)]);const _0x1b52bd={'tcgUrl':constants[_0xac2e6e(0x212)],'sdkVersion':_0x258949[_0xac2e6e(0x1a0)](require,_0x258949[_0xac2e6e(0x23d)])[_0xac2e6e(0x1fc)],'methodUsed':_0x258949[_0xac2e6e(0x25a)],'proxyConfig':_0x46a60c,'os':os['platform']()};utilities['fireFunnelTestEvent'](constants[_0xac2e6e(0x1b9)],_0x1b52bd,this[_0xac2e6e(0x1d0)],this[_0xac2e6e(0x1fd)]);}else{if(_0x335dcc[_0xac2e6e(0x247)]&&!_0x335dcc[_0xac2e6e(0x1aa)]&&_0x246292)logger['info'](_0x258949[_0xac2e6e(0x1e3)]);else{if(_0x258949[_0xac2e6e(0x1ce)](_0x335dcc[_0xac2e6e(0x20c)],0xc8)&&_0x258949[_0xac2e6e(0x194)](_0x335dcc[_0xac2e6e(0x20c)],0x12c))utilities[_0xac2e6e(0x1d4)](constants[_0xac2e6e(0x23c)],_0x27cdb6,this[_0xac2e6e(0x1d0)],this[_0xac2e6e(0x1fd)]);else{if(_0x258949[_0xac2e6e(0x23e)](_0x335dcc[_0xac2e6e(0x20c)],0x190))_0x27cdb6[_0xac2e6e(0x20c)]=_0x335dcc[_0xac2e6e(0x20c)],utilities[_0xac2e6e(0x1d4)](constants[_0xac2e6e(0x1c9)],_0x27cdb6,this[_0xac2e6e(0x1d0)],this[_0xac2e6e(0x1fd)]);else!_0x335dcc[_0xac2e6e(0x20c)]&&utilities['fireFunnelTestEvent'](constants[_0xac2e6e(0x274)],_0x27cdb6,this[_0xac2e6e(0x1d0)],this[_0xac2e6e(0x1fd)]);}}}}}if(_0x335dcc[_0xac2e6e(0x247)]&&_0x335dcc['isHealingEnabled']){const _0x200605={};_0x200605['tcgAuthConfig']=_0x335dcc;const _0x4f83ad=_0x200605;_0x46a60c&&(_0x4f83ad['proxyConfig']=_0x46a60c),_0x4f83ad[_0xac2e6e(0x1fd)]=this[_0xac2e6e(0x1fd)],_0x4f83ad[_0xac2e6e(0x254)]=this[_0xac2e6e(0x1d0)],helper[_0xac2e6e(0x245)](_0x4f83ad),logger[_0xac2e6e(0x276)](_0x258949[_0xac2e6e(0x258)]);}}catch(_0x5d8191){logger[_0xac2e6e(0x276)]('Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20'+(_0x5d8191[_0xac2e6e(0x222)]?_0x5d8191[_0xac2e6e(0x222)]:''));}});await _0x258949['wkLEv'](_0x3b41ec);}['setupKeepAlive'](){const _0x2a9cdc=a85_0x2910bd,_0x23b251={'drSlk':function(_0x2bee67,_0x203d18){return _0x2bee67(_0x203d18);},'LfnRA':'./setKeepAlive'};_0x23b251[_0x2a9cdc(0x210)](require,_0x23b251[_0x2a9cdc(0x1e6)])();}[a85_0x2910bd(0x19f)](){const _0x296ef0=a85_0x2910bd,_0x4e1617={};_0x4e1617['VVqrF']='unhandledRejection',_0x4e1617[_0x296ef0(0x239)]=_0x296ef0(0x1cd);const _0x5ed1a9=_0x4e1617,_0x3c7662=_0x44e442=>{const _0x5424c9=_0x296ef0;logger['error'](_0x44e442[_0x5424c9(0x222)]),logger[_0x5424c9(0x276)](util[_0x5424c9(0x170)](_0x44e442)),this[_0x5424c9(0x1cc)][_0x5424c9(0x1c0)](util[_0x5424c9(0x170)]('%j',_0x44e442)),PerformanceTester[_0x5424c9(0x211)](_0x44e442);};process['on'](_0x5ed1a9[_0x296ef0(0x216)],_0x3c7662),process['on'](_0x5ed1a9[_0x296ef0(0x239)],_0x3c7662);}async[a85_0x2910bd(0x241)](_0x714efc){const _0x3aa3c5=a85_0x2910bd,_0x17ce0a={};_0x17ce0a[_0x3aa3c5(0x1bd)]=_0x3aa3c5(0x21c),_0x17ce0a['qqiMp']=function(_0x4595ea,_0x244dad){return _0x4595ea+_0x244dad;},_0x17ce0a[_0x3aa3c5(0x1bb)]=_0x3aa3c5(0x25e),_0x17ce0a[_0x3aa3c5(0x1b1)]=function(_0x694e9a,_0x2d08bb){return _0x694e9a+_0x2d08bb;},_0x17ce0a['uYpIc']=function(_0x3fec38,_0x2998f4){return _0x3fec38+_0x2998f4;},_0x17ce0a[_0x3aa3c5(0x20f)]=_0x3aa3c5(0x18f);const _0x8d1d18=_0x17ce0a,_0x41497a=_0x8d1d18[_0x3aa3c5(0x1bd)]['split']('|');let _0x19f335=0x0;while(!![]){switch(_0x41497a[_0x19f335++]){case'0':await TestHubHandler[_0x3aa3c5(0x1ff)](_0x714efc);continue;case'1':this[_0x8d1d18[_0x3aa3c5(0x1c8)](_0x8d1d18[_0x3aa3c5(0x1bb)],_0x714efc)]=!![];continue;case'2':await BrowserstackCLI[_0x3aa3c5(0x257)]()[_0x3aa3c5(0x1ff)]();continue;case'3':if(this[_0x8d1d18[_0x3aa3c5(0x1b1)](_0x8d1d18[_0x3aa3c5(0x1bb)],_0x714efc)])return;continue;case'4':logger[_0x3aa3c5(0x234)](_0x8d1d18[_0x3aa3c5(0x1f0)](_0x8d1d18[_0x3aa3c5(0x20f)],_0x714efc));continue;case'5':this['killSignal']=_0x714efc;continue;}break;}}[a85_0x2910bd(0x205)](){const _0xf75706=a85_0x2910bd,_0x25263d={'qhbzX':function(_0x803e14,_0x43f573){return _0x803e14===_0x43f573;},'nSzru':'Calling\x20Build\x20Stop\x20from\x20ExitHandler','kAdkm':function(_0x223e19,_0x1448c4){return _0x223e19>_0x1448c4;},'CMmqz':function(_0x37e22a){return _0x37e22a();},'YOvkj':_0xf75706(0x21d)};let _0x1376a8=0x0;return async()=>{const _0x5154f6=_0xf75706;_0x1376a8++;if(_0x25263d[_0x5154f6(0x228)](_0x1376a8,0x1)){helper[_0x5154f6(0x22b)](this['framework'])&&await this[_0x5154f6(0x1f3)]();try{logger[_0x5154f6(0x276)](_0x25263d[_0x5154f6(0x253)]),await TestHubHandler[_0x5154f6(0x1ff)](_0x1376a8),await BrowserstackCLI[_0x5154f6(0x257)]()[_0x5154f6(0x1ff)]('1');}catch(_0x15041f){logger[_0x5154f6(0x276)](_0x5154f6(0x263)+util[_0x5154f6(0x170)](_0x15041f));}PerformanceTester[_0x5154f6(0x204)](PerformanceEvents[_0x5154f6(0x201)]);if(PerformanceTester[_0x5154f6(0x271)]()){const {measures:_0x553167,errors:_0x19c85b}=await PerformanceTester[_0x5154f6(0x262)](),_0x5de24c={};if(_0x553167&&_0x25263d[_0x5154f6(0x1d3)](_0x553167[_0x5154f6(0x18b)],0x0)||_0x19c85b&&_0x25263d[_0x5154f6(0x1d3)](_0x19c85b['length'],0x0)){const _0x3046e4={};_0x3046e4[_0x5154f6(0x18d)]=_0x553167,_0x3046e4[_0x5154f6(0x22e)]=_0x19c85b,Object['assign'](_0x5de24c,_0x3046e4);}try{const _0x1bffac=await helper[_0x5154f6(0x1fb)](_0x5de24c,this[_0x5154f6(0x1d0)]);logger[_0x5154f6(0x276)](_0x5154f6(0x1f6)+constants[_0x5154f6(0x177)]+_0x5154f6(0x265)+_0x1bffac[_0x5154f6(0x1a7)]);}catch(_0x20ce80){logger[_0x5154f6(0x276)]('Failed\x20to\x20send\x20data\x20to\x20'+constants['EDS_URL']+_0x5154f6(0x240)+util[_0x5154f6(0x170)](_0x20ce80));}try{fs[_0x5154f6(0x19c)](path[_0x5154f6(0x16f)](_0x25263d['CMmqz'](getLogDir),_0x25263d[_0x5154f6(0x26e)]),JSON[_0x5154f6(0x261)](_0x5de24c));}catch(_0x395ef7){logger[_0x5154f6(0x276)]('Error\x20in\x20writing\x20events\x20to\x20file\x20'+_0x395ef7);}}}logger&&logger[_0x5154f6(0x269)](),fileLogger&&fileLogger[_0x5154f6(0x269)]();};}}exports[a85_0x2910bd(0x1c3)]=BrowserStackSetup;