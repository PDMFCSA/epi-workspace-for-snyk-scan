function a94_0x1ad9(_0x43b0a2,_0x7534c0){const _0x215b7e=a94_0x215b();return a94_0x1ad9=function(_0x1ad956,_0x178c95){_0x1ad956=_0x1ad956-0xbb;let _0x5872bc=_0x215b7e[_0x1ad956];return _0x5872bc;},a94_0x1ad9(_0x43b0a2,_0x7534c0);}const a94_0x30ca4e=a94_0x1ad9;(function(_0x1b3ee7,_0x5ac195){const _0x4173cc=a94_0x1ad9,_0x55a972=_0x1b3ee7();while(!![]){try{const _0x5891ef=-parseInt(_0x4173cc(0xf7))/0x1+-parseInt(_0x4173cc(0x180))/0x2+parseInt(_0x4173cc(0x108))/0x3+-parseInt(_0x4173cc(0x1b9))/0x4+-parseInt(_0x4173cc(0x1ac))/0x5+-parseInt(_0x4173cc(0x104))/0x6+-parseInt(_0x4173cc(0xc8))/0x7*(-parseInt(_0x4173cc(0x186))/0x8);if(_0x5891ef===_0x5ac195)break;else _0x55a972['push'](_0x55a972['shift']());}catch(_0x3e4409){_0x55a972['push'](_0x55a972['shift']());}}}(a94_0x215b,0x29783));const util=require(a94_0x30ca4e(0x101)),os=require('os'),path=require(a94_0x30ca4e(0xf0)),{v4:uuidv4}=require('uuid'),fs=require('fs'),constants=require(a94_0x30ca4e(0x1a6)),logger=require('./logger')['winstonLogger'],fileLogger=require(a94_0x30ca4e(0x132))[a94_0x30ca4e(0x196)],{getLogDir}=require('./logger'),helper=require('./helper'),utilities=require(a94_0x30ca4e(0x158)),percyHelper=require(a94_0x30ca4e(0xe4)),hubAllocator=require(a94_0x30ca4e(0x1a4)),PerformanceTester=require(a94_0x30ca4e(0x127)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require(a94_0x30ca4e(0x15b)),{setPercyFlag}=require(a94_0x30ca4e(0x1a8)),TestHubHandler=require(a94_0x30ca4e(0x18e)),timeoutPromise=require('./timeoutPromise'),BrowserstackCLI=require(a94_0x30ca4e(0x166)),LoadTestModule=require(a94_0x30ca4e(0xcf)),{getEdsInstrumentationAPIUrl}=require('../bin/utils/apiUtilityMethods'),ClientTroubleShootingService=require(a94_0x30ca4e(0x11f));class BrowserStackSetup{constructor(_0x246161,_0x2752e2){const _0x34d596=a94_0x30ca4e,_0x564847={'FkvqV':'8|11|4|5|6|13|18|21|19|2|0|14|12|22|10|15|3|9|23|16|1|7|17|20','qaddE':_0x34d596(0x16c),'AppOe':function(_0x3013e6){return _0x3013e6();}},_0x560e14=_0x564847[_0x34d596(0x163)][_0x34d596(0x162)]('|');let _0x5a1492=0x0;while(!![]){switch(_0x560e14[_0x5a1492++]){case'0':this[_0x34d596(0xbb)]={};continue;case'1':helper[_0x34d596(0xec)](this[_0x34d596(0x16e)],this[_0x34d596(0xc7)],this[_0x34d596(0x1b0)]);continue;case'2':this[_0x34d596(0x16e)][_0x34d596(0x116)]=this[_0x34d596(0x16e)][_0x34d596(0x116)]||{};continue;case'3':helper[_0x34d596(0xdd)](this[_0x34d596(0x16e)],this[_0x34d596(0xc7)]);continue;case'4':this['envConfig']=helper[_0x34d596(0x1be)]();continue;case'5':this[_0x34d596(0x1b5)]=null;continue;case'6':this['percy']=null;continue;case'7':helper[_0x34d596(0xe8)](this[_0x34d596(0x16e)]);continue;case'8':this[_0x34d596(0xd4)]=[];continue;case'9':helper[_0x34d596(0x11a)](this[_0x34d596(0x16e)]);continue;case'10':if(helper['isUndefined'](this[_0x34d596(0x16e)]))throw new Error(_0x564847[_0x34d596(0xc5)]);continue;case'11':helper[_0x34d596(0x15d)]();continue;case'12':this['framework']=_0x2752e2;continue;case'13':this[_0x34d596(0x12f)]=helper['getConfigPath'](_0x246161);continue;case'14':this['sdkRunId']=_0x564847[_0x34d596(0x12e)](uuidv4);continue;case'15':if(this['config'][_0x34d596(0xbc)])throw new Error(this['config'][_0x34d596(0xbc)]);continue;case'16':this[_0x34d596(0x16e)][_0x34d596(0x116)]['skipSessionName']=!helper[_0x34d596(0x19b)]()||helper['isTrue'](this[_0x34d596(0x16e)]['testContextOptions'][_0x34d596(0x191)]);continue;case'17':helper[_0x34d596(0x15c)](this[_0x34d596(0x16e)],this['cliConfig'],this[_0x34d596(0x1b0)]);continue;case'18':this['config']=helper['readConfig'](this[_0x34d596(0x12f)]);continue;case'19':this[_0x34d596(0x16e)]['platforms']=this[_0x34d596(0x16e)][_0x34d596(0xdc)]||[];continue;case'20':PerformanceTester['startMonitoring']();continue;case'21':this[_0x34d596(0xc7)]=helper[_0x34d596(0x105)](_0x246161);continue;case'22':global[_0x34d596(0x16b)]=_0x2752e2;continue;case'23':this[_0x34d596(0x16e)][_0x34d596(0x116)][_0x34d596(0x13e)]=!helper[_0x34d596(0x19b)]()||helper[_0x34d596(0x109)](this[_0x34d596(0x16e)]['testContextOptions'][_0x34d596(0x13e)]);continue;}break;}}[a94_0x30ca4e(0x13a)](_0x1638c3){const _0x5cd04f=a94_0x30ca4e,_0x576293={'rhbaC':'userName\x20or\x20accessKey\x20is\x20not\x20defined','XtPib':function(_0x2e2661,_0x194e02){return _0x2e2661===_0x194e02;},'kUtTu':function(_0x3a3305,_0x373992){return _0x3a3305===_0x373992;},'UXtRa':'integrations','EmPyG':_0x5cd04f(0x1b6),'FzQpJ':function(_0x3df352,_0x153cc9){return _0x3df352<_0x153cc9;},'DMAkU':function(_0x1c3194,_0x543f21){return _0x1c3194(_0x543f21);},'TrTFA':_0x5cd04f(0x135),'UAMDX':_0x5cd04f(0xfd),'IhPmO':_0x5cd04f(0x17c),'rTbJb':_0x5cd04f(0x1bc),'ncGln':'SIGTERM','SDcYC':'SIGINT','usnQh':'SIGHUP','Oyczs':function(_0x20ba16,_0x248bcb){return _0x20ba16!==_0x248bcb;},'nYlKL':'win32','ealic':_0x5cd04f(0x120),'oPkEI':_0x5cd04f(0x1a2),'bOyZI':'SIGBREAK','KrfEU':'beforeExit'},_0x5e3263=this['framework'];global[_0x5cd04f(0x16e)]=this[_0x5cd04f(0x16e)],helper['sanitizeCaps'](this[_0x5cd04f(0x16e)]),this[_0x5cd04f(0xe0)]=null,global[_0x5cd04f(0x103)]=this[_0x5cd04f(0x103)],logger[_0x5cd04f(0xf6)](_0x5cd04f(0x185)+this[_0x5cd04f(0x103)]),!this[_0x5cd04f(0x16e)][_0x5cd04f(0x171)]&&(this['config'][_0x5cd04f(0x171)]=this[_0x5cd04f(0x16e)][_0x5cd04f(0x187)]||{});if(helper['isUndefined'](helper['getUserName'](this[_0x5cd04f(0x16e)]))||helper[_0x5cd04f(0x11b)](helper[_0x5cd04f(0x10a)](this[_0x5cd04f(0x16e)])))throw new Error(_0x576293[_0x5cd04f(0x15f)]);helper[_0x5cd04f(0x174)](this[_0x5cd04f(0x16e)])&&helper[_0x5cd04f(0x11b)](helper[_0x5cd04f(0x157)](this[_0x5cd04f(0x16e)]))&&(!helper['isUndefined'](this[_0x5cd04f(0x16e)][_0x5cd04f(0x171)])&&_0x576293[_0x5cd04f(0x14a)](this['config'][_0x5cd04f(0x171)][_0x5cd04f(0xe5)],Object)?!helper[_0x5cd04f(0x109)](this['config'][_0x5cd04f(0x171)][_0x5cd04f(0xd8)])&&(this[_0x5cd04f(0x16e)][_0x5cd04f(0x171)][_0x5cd04f(0x147)]=helper[_0x5cd04f(0x1aa)]()):this[_0x5cd04f(0x16e)][_0x5cd04f(0x171)]={'localIdentifier':helper[_0x5cd04f(0x1aa)]()});this[_0x5cd04f(0x16e)]['browserStackLocalOptions'][_0x5cd04f(0xd8)]=helper[_0x5cd04f(0x109)](this[_0x5cd04f(0x16e)][_0x5cd04f(0x171)]['skipBinaryInitialisation']),helper[_0x5cd04f(0xd6)](this[_0x5cd04f(0x16e)]);if(_0x576293['kUtTu'](_0x5e3263,_0x576293[_0x5cd04f(0xe7)]))return;this[_0x5cd04f(0xfc)]();process[_0x5cd04f(0xbe)][_0x5cd04f(0xff)]&&(this[_0x5cd04f(0x16e)][_0x5cd04f(0x139)]=helper[_0x5cd04f(0x109)](process[_0x5cd04f(0xbe)][_0x5cd04f(0xff)]),this[_0x5cd04f(0x16e)]['turboScaleOptions']=this[_0x5cd04f(0x16e)][_0x5cd04f(0x153)]||{});helper[_0x5cd04f(0x193)](this[_0x5cd04f(0x16e)])&&(process['env'][_0x5cd04f(0xff)]=!![]);LoadTestModule['isLTSSession'](this[_0x5cd04f(0x16e)])&&logger['debug']('LTS\x20session\x20enabled\x20for\x20this\x20run.\x20SDK\x20run\x20id:\x20'+this[_0x5cd04f(0x103)]);if(!helper[_0x5cd04f(0x19b)]()){try{process[_0x5cd04f(0xbe)][_0x5cd04f(0x15a)]=_0x5e3263,utilities['fireFunnelTestEvent'](_0x576293[_0x5cd04f(0xc9)],{},this[_0x5cd04f(0x16e)],this[_0x5cd04f(0x16b)]);}catch(_0x569f50){logger['debug'](_0x5cd04f(0xc6)+_0x569f50);}return;}if(helper[_0x5cd04f(0x1ad)](_0x5e3263)){if(global['__isPlaywrightInstalled'])return;_0x576293[_0x5cd04f(0xf2)](_0x576293[_0x5cd04f(0x159)](parseInt,helper[_0x5cd04f(0x1b7)](_0x576293['TrTFA'])),0x3)&&(this[_0x5cd04f(0x16e)][_0x5cd04f(0xe9)]=![]),_0x576293[_0x5cd04f(0x14a)](helper[_0x5cd04f(0x141)](helper[_0x5cd04f(0x1b7)](_0x576293['TrTFA']),_0x576293[_0x5cd04f(0x14c)]),0x1)&&(this[_0x5cd04f(0x16e)][_0x5cd04f(0xe9)]=!![]);}(helper['isUndefined'](this['config'][_0x5cd04f(0xdc)])||helper[_0x5cd04f(0x11b)](this['config'][_0x5cd04f(0xdc)][_0x5cd04f(0x167)]))&&(helper[_0x5cd04f(0x11b)](this[_0x5cd04f(0x16e)][_0x5cd04f(0x16a)])?logger['info'](_0x576293['IhPmO']):logger[_0x5cd04f(0x143)](_0x576293[_0x5cd04f(0x197)]),this[_0x5cd04f(0x16e)][_0x5cd04f(0xdc)]=[]);!this['config'][_0x5cd04f(0x116)]&&(this[_0x5cd04f(0x16e)][_0x5cd04f(0x116)]={});try{process[_0x5cd04f(0xbe)]['FRAMEWORK']=_0x1638c3['_'][0x0],utilities[_0x5cd04f(0x182)](_0x576293['EmPyG'],{},this[_0x5cd04f(0x16e)],this[_0x5cd04f(0x16b)]);}catch(_0x1f414c){logger['debug'](_0x5cd04f(0xc6)+_0x1f414c);}!this[_0x5cd04f(0x16e)][_0x5cd04f(0xd7)]&&logger[_0x5cd04f(0xf6)](constants[_0x5cd04f(0x136)]),this[_0x5cd04f(0x115)]=this['intExitHandler']['bind'](this),process['on'](_0x576293[_0x5cd04f(0xd2)],this[_0x5cd04f(0x115)]),process['on'](_0x576293[_0x5cd04f(0x1b1)],this[_0x5cd04f(0x115)]),process['on'](_0x576293['usnQh'],this['intExitHandler']),_0x576293[_0x5cd04f(0x16f)](process[_0x5cd04f(0x112)],_0x576293[_0x5cd04f(0x119)])?(process['on'](_0x576293[_0x5cd04f(0xd5)],this['intExitHandler']),process['on'](_0x576293['oPkEI'],this[_0x5cd04f(0x115)])):process['on'](_0x576293[_0x5cd04f(0xc1)],this[_0x5cd04f(0x115)]),process['on'](_0x576293[_0x5cd04f(0xde)],this[_0x5cd04f(0x12a)]());}async[a94_0x30ca4e(0x18c)](_0x261171){const _0xd404be=a94_0x30ca4e,_0x26c986={'YWdkG':'ats-repeater','rxcPq':'custom-repeater','JGUHr':_0xd404be(0xcd),'VXKCn':function(_0x3a6409,_0xc8971d){return _0x3a6409===_0xc8971d;},'vnSnS':_0xd404be(0xcb),'Enhbc':function(_0xa7a230,_0x4f3efe){return _0xa7a230+_0x4f3efe;},'eNYmy':_0xd404be(0x130),'ObPti':function(_0x248830,_0x1b4b9c){return _0x248830(_0x1b4b9c);},'mSEYv':_0xd404be(0x11e)};this[_0xd404be(0x13a)](_0x261171);if(helper[_0xd404be(0x193)](this[_0xd404be(0x16e)])){const _0x429d29=await helper[_0xd404be(0xc3)](this['config']);this['config']['turboScaleGridDetails']=_0x429d29,_0x429d29['isTrialGrid']&&helper['isNotUndefined'](this[_0xd404be(0x16e)][_0xd404be(0x1b5)])&&helper[_0xd404be(0x109)](this['config'][_0xd404be(0x1b5)])&&(this[_0xd404be(0x16e)]['browserStackLocalOptions'][_0xd404be(0x147)]=_0x26c986[_0xd404be(0x1a1)],this[_0xd404be(0x16e)][_0xd404be(0x171)][_0x26c986[_0xd404be(0x144)]]=_0x429d29[_0xd404be(0x150)][_0xd404be(0x1ab)](','),this[_0xd404be(0x16e)][_0xd404be(0x171)][_0xd404be(0x17a)]=_0x26c986[_0xd404be(0x137)]),this[_0xd404be(0x16e)][_0xd404be(0x111)]=_0x429d29[_0xd404be(0x18b)],this[_0xd404be(0x16b)]&&_0x26c986[_0xd404be(0xf8)](this['framework'][_0xd404be(0x18a)](),_0x26c986[_0xd404be(0x138)])?this['config']['turboScaleUrl']=_0x26c986['Enhbc'](_0x429d29[_0xd404be(0x19e)],_0x26c986['eNYmy']):constants[_0xd404be(0x160)]=helper['getHubUrl'](this[_0xd404be(0x16e)]),logger['debug'](_0xd404be(0x172)+constants[_0xd404be(0x160)]);}helper[_0xd404be(0xca)](this['config']),this['setupKeepAlive'](),_0x26c986['ObPti'](setPercyFlag,this),await this['setupBrowserstackLocal'](),![_0x26c986[_0xd404be(0xfe)],_0x26c986['vnSnS']][_0xd404be(0xea)](this[_0xd404be(0x16b)])&&!helper[_0xd404be(0x193)](this[_0xd404be(0x16e)])&&!helper[_0xd404be(0x179)]()[_0xd404be(0x1bd)]&&await this[_0xd404be(0xe6)]();}async[a94_0x30ca4e(0x107)](){const _0x381df3=a94_0x30ca4e,_0xaea02f={};_0xaea02f['Fndwb']=function(_0x50f268,_0x8a4906){return _0x50f268===_0x8a4906;},_0xaea02f[_0x381df3(0x149)]='false',_0xaea02f[_0x381df3(0x1a5)]='Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.',_0xaea02f[_0x381df3(0x1af)]=_0x381df3(0xf5),_0xaea02f[_0x381df3(0x1bb)]='true',_0xaea02f['CQETs']=_0x381df3(0x131);const _0x455e29=_0xaea02f;if(helper[_0x381df3(0x109)](this[_0x381df3(0x16e)][_0x381df3(0xd3)])&&(!this['percy']||!this['percy'][_0x381df3(0xd1)]()))try{this[_0x381df3(0xd3)]=await percyHelper[_0x381df3(0x165)](this[_0x381df3(0x16e)]);if(!this['percy']){process[_0x381df3(0xbe)][_0x381df3(0x190)]=_0x455e29[_0x381df3(0x149)];throw new Error(_0x455e29['eHhgH']);}logger[_0x381df3(0xf6)](_0x455e29['NEAvv']),process[_0x381df3(0xbe)]['BROWSERSTACK_PERCY']=_0x455e29[_0x381df3(0x1bb)];let _0x41f84e=0x0;const _0x264f05=async()=>{const _0x3c3d3c=_0x381df3;_0x41f84e++,_0x455e29['Fndwb'](_0x41f84e,0x1)&&await this[_0x3c3d3c(0x170)]();};process['on'](_0x455e29['CQETs'],_0x264f05);}catch(_0x4a117a){process[_0x381df3(0xbe)][_0x381df3(0x190)]=_0x455e29[_0x381df3(0x149)],logger['debug'](_0x381df3(0x10f)+_0x4a117a);throw new Error(_0x4a117a[_0x381df3(0x146)]());}}async[a94_0x30ca4e(0x170)](){const _0x1731f7=a94_0x30ca4e,_0x3c7b4c={};_0x3c7b4c[_0x1731f7(0x1b8)]=_0x1731f7(0xfb),_0x3c7b4c['AWxjo']=_0x1731f7(0xe2);const _0x281d33=_0x3c7b4c;if(this[_0x1731f7(0xd3)]&&this[_0x1731f7(0xd3)][_0x1731f7(0xd1)]())try{await percyHelper[_0x1731f7(0x170)](this[_0x1731f7(0xd3)]),logger[_0x1731f7(0xf6)](_0x281d33[_0x1731f7(0x1b8)]);}catch(_0x14b688){logger[_0x1731f7(0xbc)](_0x281d33['AWxjo'],_0x14b688[_0x1731f7(0x195)]);}}async[a94_0x30ca4e(0x181)](){const _0x2c8d67=a94_0x30ca4e,_0x3808e1={};_0x3808e1[_0x2c8d67(0x126)]='Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled',_0x3808e1[_0x2c8d67(0x1a0)]=_0x2c8d67(0x14e);const _0x422d08=_0x3808e1;if(helper['isBrowserstackInfra']()&&helper[_0x2c8d67(0x109)](this[_0x2c8d67(0x16e)][_0x2c8d67(0x1b5)])&&(!this[_0x2c8d67(0x1b5)]||!this[_0x2c8d67(0x1b5)][_0x2c8d67(0xd1)]()))try{if(this[_0x2c8d67(0x16e)][_0x2c8d67(0x171)]['skipBinaryInitialisation']){logger['debug'](_0x422d08[_0x2c8d67(0x126)]);return;}this[_0x2c8d67(0x1b5)]=await helper[_0x2c8d67(0x110)](this[_0x2c8d67(0x16e)]),logger['info'](_0x422d08['TPdFo']);}catch(_0x54a96b){logger[_0x2c8d67(0x10d)](_0x54a96b);throw new Error(_0x54a96b[_0x2c8d67(0x146)]());}}async[a94_0x30ca4e(0x10b)](){const _0x390446=a94_0x30ca4e,_0x529c69={};_0x529c69['RSnld']=_0x390446(0x17e),_0x529c69[_0x390446(0x15e)]='Error\x20occured\x20while\x20stopping\x20local\x20binary';const _0x34b82b=_0x529c69;if(this[_0x390446(0x1b5)]&&this['browserstackLocal'][_0x390446(0xd1)]())try{await helper['stopLocalBinary'](this[_0x390446(0x1b5)]),logger[_0x390446(0xf6)](_0x34b82b[_0x390446(0x161)]);}catch(_0x37bfee){logger[_0x390446(0xbc)](_0x34b82b[_0x390446(0x15e)],_0x37bfee[_0x390446(0x195)]);}}async['setUpHubUrl'](){const _0x440cb2=a94_0x30ca4e;return PerformanceTester[_0x440cb2(0x164)](PerformanceAutEvents[_0x440cb2(0x154)],async()=>{await hubAllocator['allocateHub'](this['config']);})();}async[a94_0x30ca4e(0x18d)](){const _0x7d8c21=a94_0x30ca4e,_0x5b61b5={'vueBD':function(_0x2d20d9,_0x3a1c0e){return _0x2d20d9(_0x3a1c0e);},'QsCHQ':_0x7d8c21(0x152),'URldk':function(_0x6ca411,_0x84663c,_0x519ec7,_0x3031a6,_0x426204,_0x5e11b1,_0x41f5de){return _0x6ca411(_0x84663c,_0x519ec7,_0x3031a6,_0x426204,_0x5e11b1,_0x41f5de);},'mqpjh':'BrowserstackHealing.init\x20method\x20timed\x20out','JERlH':_0x7d8c21(0x124),'kMfpc':function(_0x38dba2,_0x5eb650){return _0x38dba2(_0x5eb650);},'cMnHv':_0x7d8c21(0x175),'padfk':_0x7d8c21(0x118),'UwzCL':function(_0x5ea894,_0x5556de){return _0x5ea894(_0x5556de);},'xzdXD':function(_0x62f800,_0x5dc313){return _0x62f800===_0x5dc313;},'relme':'true','PQMws':function(_0x3a15e2,_0x3d53b6){return _0x3a15e2===_0x3d53b6;},'NShcf':function(_0x4cf8b5,_0x31346e){return _0x4cf8b5===_0x31346e;},'MLmCi':function(_0x518031,_0x136942){return _0x518031===_0x136942;},'jvmvV':_0x7d8c21(0x140),'NWgee':_0x7d8c21(0xf4),'cqUNM':_0x7d8c21(0x188),'fmDDt':_0x7d8c21(0x18f),'ZdIsz':function(_0x1ca91a,_0x1726b6){return _0x1ca91a>=_0x1726b6;},'uhGYm':function(_0x30ed57,_0x18677d){return _0x30ed57<_0x18677d;},'xuybz':function(_0x32f4a8,_0x127f0c){return _0x32f4a8>=_0x127f0c;},'oiBHD':_0x7d8c21(0x17f),'vYsTw':_0x7d8c21(0xee),'EzQmj':function(_0x59237f){return _0x59237f();}},_0x2857e2=PerformanceTester[_0x7d8c21(0x164)](_0x5b61b5[_0x7d8c21(0xf1)],async()=>{const _0x4b12ec=_0x7d8c21;try{const _0xe1b539=new Date(),_0x23ce05=helper[_0x4b12ec(0x183)](this[_0x4b12ec(0x16e)]),_0x2a17b6=_0x5b61b5[_0x4b12ec(0x19d)](require,path[_0x4b12ec(0x1ab)](__dirname,_0x5b61b5['QsCHQ'])),_0x4ffee8=_0x5b61b5[_0x4b12ec(0x19f)](timeoutPromise,constants[_0x4b12ec(0x1b4)],_0x5b61b5[_0x4b12ec(0x1b3)],_0x5b61b5[_0x4b12ec(0x123)],_0xe1b539,this[_0x4b12ec(0x16e)],this['framework']),_0x19e56f={'tcgUrl':constants['TCG_URL'],'sdkVersion':_0x5b61b5['kMfpc'](require,_0x5b61b5[_0x4b12ec(0x12b)])[_0x4b12ec(0xcc)],'methodUsed':_0x5b61b5['padfk'],'proxyConfig':_0x23ce05,'os':os[_0x4b12ec(0x112)]()};if(_0x23ce05&&_0x23ce05[_0x4b12ec(0x13d)]){utilities['fireFunnelTestEvent'](constants['AI_PROXY_FAILURE'],_0x19e56f,this[_0x4b12ec(0x16e)],this[_0x4b12ec(0x16b)]);return;}const _0x271f55={};_0x271f55[_0x4b12ec(0x14b)]=_0x23ce05;const _0x21cb80=await Promise[_0x4b12ec(0x11d)]([_0x2a17b6[_0x4b12ec(0x1ae)](this[_0x4b12ec(0x16e)][_0x4b12ec(0x10c)],this[_0x4b12ec(0x16e)]['userName'],constants[_0x4b12ec(0x13c)],_0x5b61b5['UwzCL'](require,_0x5b61b5['cMnHv'])[_0x4b12ec(0xcc)],_0x271f55)[_0x4b12ec(0x155)](_0x54ad48=>{return _0x4ffee8['cancel'](),_0x54ad48;}),_0x4ffee8]);_0x21cb80[_0x4b12ec(0xef)]=_0x5b61b5[_0x4b12ec(0x14d)](_0x21cb80[_0x4b12ec(0xef)],_0x5b61b5[_0x4b12ec(0xe3)])||_0x5b61b5[_0x4b12ec(0x192)](_0x21cb80['isHealingEnabled'],!![]);const _0x134b28=_0x5b61b5[_0x4b12ec(0x14d)](this[_0x4b12ec(0x16e)][_0x4b12ec(0xbf)],!![])||_0x5b61b5[_0x4b12ec(0xda)](this['config'][_0x4b12ec(0xbf)],_0x5b61b5[_0x4b12ec(0xe3)]);if(_0x5b61b5[_0x4b12ec(0x142)](_0x21cb80[_0x4b12ec(0x195)],constants[_0x4b12ec(0xeb)])&&_0x134b28)logger['info'](_0x5b61b5[_0x4b12ec(0x173)]);else{if(!_0x21cb80[_0x4b12ec(0xc0)]&&_0x5b61b5[_0x4b12ec(0xda)](_0x21cb80['status'],0x1f7)&&_0x134b28)logger['info'](_0x5b61b5['NWgee']),utilities['fireFunnelTestEvent'](constants[_0x4b12ec(0x11c)],_0x19e56f,this[_0x4b12ec(0x16e)],this[_0x4b12ec(0x16b)]);else{if(!_0x21cb80['isAuthenticated']&&_0x134b28){logger[_0x4b12ec(0xf6)](_0x5b61b5[_0x4b12ec(0x125)]);const _0x2cb096={'tcgUrl':constants[_0x4b12ec(0x13c)],'sdkVersion':_0x5b61b5[_0x4b12ec(0x122)](require,_0x5b61b5[_0x4b12ec(0x12b)])[_0x4b12ec(0xcc)],'methodUsed':_0x5b61b5[_0x4b12ec(0x1c0)],'proxyConfig':_0x23ce05,'os':os[_0x4b12ec(0x112)]()};utilities[_0x4b12ec(0x182)](constants['TCG_AUTH_FAILURE'],_0x2cb096,this[_0x4b12ec(0x16e)],this[_0x4b12ec(0x16b)]);}else{if(_0x21cb80['isAuthenticated']&&!_0x21cb80['isHealingEnabled']&&_0x134b28)logger[_0x4b12ec(0xf6)](_0x5b61b5[_0x4b12ec(0x10e)]);else{if(_0x5b61b5[_0x4b12ec(0x13b)](_0x21cb80['status'],0xc8)&&_0x5b61b5[_0x4b12ec(0xd9)](_0x21cb80['status'],0x12c))utilities['fireFunnelTestEvent'](constants[_0x4b12ec(0x17b)],_0x19e56f,this[_0x4b12ec(0x16e)],this[_0x4b12ec(0x16b)]);else{if(_0x5b61b5[_0x4b12ec(0xbd)](_0x21cb80[_0x4b12ec(0x189)],0x190))_0x19e56f['status']=_0x21cb80['status'],utilities[_0x4b12ec(0x182)](constants[_0x4b12ec(0xdb)],_0x19e56f,this['config'],this['framework']);else!_0x21cb80[_0x4b12ec(0x189)]&&utilities[_0x4b12ec(0x182)](constants['INVALID_INIT_RESP_WITH_USER_IMPACT'],_0x19e56f,this[_0x4b12ec(0x16e)],this[_0x4b12ec(0x16b)]);}}}}}if(_0x21cb80[_0x4b12ec(0xc0)]&&_0x21cb80[_0x4b12ec(0xef)]){const _0x2f1b8c={};_0x2f1b8c['tcgAuthConfig']=_0x21cb80;const _0x14416d=_0x2f1b8c;_0x23ce05&&(_0x14416d[_0x4b12ec(0x151)]=_0x23ce05),_0x14416d[_0x4b12ec(0x16b)]=this[_0x4b12ec(0x16b)],_0x14416d[_0x4b12ec(0x19a)]=this[_0x4b12ec(0x16e)],helper['setupTcgConfigFile'](_0x14416d),logger[_0x4b12ec(0x10d)](_0x5b61b5[_0x4b12ec(0x128)]);}}catch(_0x4ab957){logger[_0x4b12ec(0x10d)](_0x4b12ec(0x12c)+(_0x4ab957['message']?_0x4ab957[_0x4b12ec(0x195)]:''));}});await _0x5b61b5[_0x7d8c21(0x178)](_0x2857e2);}[a94_0x30ca4e(0xd0)](){const _0x286f3e=a94_0x30ca4e,_0xbe4068={'IjZtu':function(_0x58eb3f,_0x5ed196){return _0x58eb3f(_0x5ed196);},'yAZbh':'./setKeepAlive'};_0xbe4068['IjZtu'](require,_0xbe4068[_0x286f3e(0x134)])();}['handleExceptions'](){const _0x8051f6=a94_0x30ca4e,_0x2c4974={};_0x2c4974[_0x8051f6(0x148)]=_0x8051f6(0x1a3),_0x2c4974[_0x8051f6(0x1bf)]=_0x8051f6(0x184),_0x2c4974['AjVyb']=_0x8051f6(0x129);const _0x49a8da=_0x2c4974,_0x6c2df1=_0x1be069=>{const _0x106221=_0x8051f6,_0x45eafd=_0x49a8da[_0x106221(0x148)]['split']('|');let _0x470096=0x0;while(!![]){switch(_0x45eafd[_0x470096++]){case'0':this['unhandledErrors'][_0x106221(0x1ba)](util[_0x106221(0x14f)]('%j',_0x1be069));continue;case'1':ClientTroubleShootingService[_0x106221(0x106)]();continue;case'2':logger[_0x106221(0x10d)](util[_0x106221(0x14f)](_0x1be069));continue;case'3':logger[_0x106221(0xbc)](_0x1be069['message']);continue;case'4':PerformanceTester[_0x106221(0x117)](_0x1be069);continue;}break;}};process['on'](_0x49a8da[_0x8051f6(0x1bf)],_0x6c2df1),process['on'](_0x49a8da[_0x8051f6(0x12d)],_0x6c2df1);}async['intExitHandler'](_0x43281d){const _0x3b4572=a94_0x30ca4e,_0x34a71f={};_0x34a71f[_0x3b4572(0xf3)]=_0x3b4572(0x114),_0x34a71f[_0x3b4572(0xed)]=function(_0x32f4c4,_0x13cb5e){return _0x32f4c4+_0x13cb5e;},_0x34a71f[_0x3b4572(0x198)]='handled',_0x34a71f['MYTMx']=function(_0x27bf7b,_0x4e64ec){return _0x27bf7b+_0x4e64ec;},_0x34a71f['CRMRd']=_0x3b4572(0x145);const _0x1ab5a5=_0x34a71f,_0x3eaa6e=_0x1ab5a5[_0x3b4572(0xf3)]['split']('|');let _0xc8dc3f=0x0;while(!![]){switch(_0x3eaa6e[_0xc8dc3f++]){case'0':await TestHubHandler['stop'](_0x43281d);continue;case'1':this[_0x3b4572(0xe0)]=_0x43281d;continue;case'2':await ClientTroubleShootingService[_0x3b4572(0x1b2)](_0x43281d);continue;case'3':await BrowserstackCLI[_0x3b4572(0x177)]()['stop']();continue;case'4':await ClientTroubleShootingService[_0x3b4572(0x106)]();continue;case'5':this[_0x1ab5a5['savhZ'](_0x1ab5a5[_0x3b4572(0x198)],_0x43281d)]=!![];continue;case'6':if(this[_0x1ab5a5[_0x3b4572(0x13f)](_0x1ab5a5[_0x3b4572(0x198)],_0x43281d)])return;continue;case'7':logger['info'](_0x1ab5a5[_0x3b4572(0x13f)](_0x1ab5a5['CRMRd'],_0x43281d));continue;}break;}}[a94_0x30ca4e(0x12a)](){const _0x1dc09b=a94_0x30ca4e,_0x5e84b4={'NnLwp':function(_0x135a7a,_0x5c3f16){return _0x135a7a===_0x5c3f16;},'swyYl':_0x1dc09b(0x19c),'edKev':function(_0x5a14d6,_0x126688){return _0x5a14d6>_0x126688;},'HchwZ':function(_0x2f30a0,_0x192bea){return _0x2f30a0(_0x192bea);},'hdrIC':function(_0x19e817){return _0x19e817();},'oQrzL':_0x1dc09b(0x199)};let _0x477100=0x0;return async()=>{const _0x3a3ae5=_0x1dc09b;_0x477100++;if(_0x5e84b4[_0x3a3ae5(0xfa)](_0x477100,0x1)){helper[_0x3a3ae5(0x133)](this[_0x3a3ae5(0x16b)])&&await this['stopBrowserstackLocal']();try{logger[_0x3a3ae5(0x10d)](_0x5e84b4[_0x3a3ae5(0x17d)]),await TestHubHandler['stop'](_0x477100),await ClientTroubleShootingService[_0x3a3ae5(0x106)](),await BrowserstackCLI['getInstance']()[_0x3a3ae5(0x176)]('1');}catch(_0xd61895){logger[_0x3a3ae5(0x10d)]('Error\x20in\x20sending\x20testhub\x20stop:\x20'+util[_0x3a3ae5(0x14f)](_0xd61895));}PerformanceTester['end'](PerformanceEvents[_0x3a3ae5(0xf9)]);if(PerformanceTester[_0x3a3ae5(0x113)]()){const {measures:_0x1b7096,errors:_0x5ed408}=await PerformanceTester[_0x3a3ae5(0x156)](),_0x4e3e4e={};if(_0x1b7096&&_0x5e84b4[_0x3a3ae5(0x1a7)](_0x1b7096['length'],0x0)||_0x5ed408&&_0x5e84b4[_0x3a3ae5(0x1a7)](_0x5ed408[_0x3a3ae5(0x167)],0x0)){const _0x153c6f={};_0x153c6f[_0x3a3ae5(0xc2)]=_0x1b7096,_0x153c6f['exceptions']=_0x5ed408,Object[_0x3a3ae5(0xe1)](_0x4e3e4e,_0x153c6f);}try{const _0x3748a9=await helper[_0x3a3ae5(0xdf)](_0x4e3e4e,this['config']);logger['debug'](_0x3a3ae5(0x102)+_0x5e84b4[_0x3a3ae5(0xc4)](getEdsInstrumentationAPIUrl,'')+_0x3a3ae5(0x100)+_0x3748a9[_0x3a3ae5(0x194)]);}catch(_0x1d39fa){logger[_0x3a3ae5(0x10d)](_0x3a3ae5(0xce)+_0x5e84b4[_0x3a3ae5(0xc4)](getEdsInstrumentationAPIUrl,'')+_0x3a3ae5(0x168)+util['format'](_0x1d39fa));}try{fs[_0x3a3ae5(0x121)](path[_0x3a3ae5(0x1ab)](_0x5e84b4[_0x3a3ae5(0x1a9)](getLogDir),_0x5e84b4[_0x3a3ae5(0x169)]),JSON[_0x3a3ae5(0x16d)](_0x4e3e4e));}catch(_0x17734a){logger[_0x3a3ae5(0x10d)]('Error\x20in\x20writing\x20events\x20to\x20file\x20'+_0x17734a);}}}logger&&logger['close'](),fileLogger&&fileLogger['close']();};}}function a94_0x215b(){const _0x5ea7ef=['startPercy','../bin/v2/browserstackCLI','length','\x20with\x20error\x20','oQrzL','parallelsPerPlatform','framework','No\x20config\x20provided.','stringify','config','Oyczs','stopPercy','browserStackLocalOptions','HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20','jvmvV','getLocalConfig','../../package.json','stop','getInstance','EzQmj','getCentralUser','forceLocal','AI_INIT_SUCCESSFUL','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','swyYl','Local\x20binary\x20stopped','tcg\x20config\x20setup\x20successful.','257522OZXsHz','setupBrowserstackLocal','fireFunnelTestEvent','getProxyConfigForTcg','unhandledRejection','SDK\x20run\x20started\x20with\x20id:\x20','2248xjAkZz','localOptions','Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','status','toLowerCase','url','initialize','setupTCGAuth','./testhub/testhubHandler','Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','BROWSERSTACK_PERCY','skipSessionName','PQMws','isTurboScaleSession','statusCode','message','fileLogger','rTbJb','tHsvy','events.json','bstackConfig','isBrowserstackInfra','Calling\x20Build\x20Stop\x20from\x20ExitHandler','vueBD','playwrightUrl','URldk','TPdFo','YWdkG','SIGQUIT','3|2|0|4|1','../hubAllocationMethods','eHhgH','../bin/utils/constants','edKev','./testhub/utils','hdrIC','generateLocalIdentifier','join','1566170bBZLxk','requireSeleniumWebdriverCheck','init','NEAvv','envConfig','SDcYC','reportProcessInterruptionSituation','mqpjh','TCG_AUTH_TIMEOUT','browserstackLocal','SDKTestAttempted','getPackageVersion','jOmWm','1076220ZPPGgd','push','qYLkP','parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','central_scanner','setEnvCaps','zpAVT','padfk','errorMessage','error','xuybz','env','selfHeal','isAuthenticated','bOyZI','measures','getTurboScaleGridDetails','HchwZ','qaddE','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','cliConfig','28469bJWrOS','EmPyG','setProxySettings','playwright','version','true','Failed\x20to\x20send\x20data\x20to\x20','../bin/v2/modules/loadTestModule','setupKeepAlive','isRunning','ncGln','percy','unhandledErrors','ealic','setHandlePWError','disableAutoCaptureLogs','skipBinaryInitialisation','uhGYm','NShcf','AI_INIT_FAILURE','platforms','setBrowserstackInfraFromConfig','KrfEU','sendToEDS','killSignal','assign','Error\x20occured\x20while\x20stopping\x20percy','relme','./percy/utils','constructor','setUpHubUrl','UXtRa','setLogDir','useW3C','includes','UPGRADE_REQUIRED','getFinalCaps','savhZ','aiHeal:tcgAuth','isHealingEnabled','path','vYsTw','FzQpJ','TYjCQ','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','Percy\x20started\x20successfully','info','181346xnaxcb','VXKCn','SDK_CLEANUP','NnLwp','Percy\x20stopped','handleExceptions','4.5.0','mSEYv','BROWSERSTACK_TURBOSCALE','\x20with\x20response\x20','util','Data\x20sent\x20successfully\x20to\x20','sdkRunId','514968UUivbM','setCLICaps','reportFinalDetectionState','setupPercy','15768wWgnXi','isTrue','getAccessKey','stopBrowserstackLocal','accessKey','debug','fmDDt','Error\x20in\x20percy\x20setup\x20','startLocalBinary','turboScaleUrl','platform','isEnabled','6|5|7|1|2|0|4|3','intExitHandler','testContextOptions','captureError','BrowserstackHealing.init','nYlKL','setCredentialsFromYmlConfig','isUndefined','TCG_DOWN','race','codeceptjs','../bin/utils/clientTroubleshootingService','SIGABRT','writeFileSync','UwzCL','JERlH','BrowserstackHealingInitFailed','cqUNM','jRCnD','./performance/performance-tester','oiBHD','uncaughtException','exitHandler','cMnHv','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','AjVyb','AppOe','configPath','?caps=','beforeExit','./logger','checkStopLocalBinaryOnExit','yAZbh','selenium-webdriver','AUTOLOGCAPTURE_NOTIFICATION','JGUHr','vnSnS','turboScale','preInitialize','ZdIsz','TCG_URL','proxyUrl','skipSessionStatus','MYTMx','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','compareVersions','MLmCi','warn','rxcPq','Shutdown\x20triggered\x20by\x20','toString','localIdentifier','qXyCu','ScEAE','XtPib','proxy','UAMDX','xzdXD','Local\x20binary\x20started\x20successfully','format','customRepeaters','proxyConfig','../ai-sdk-node/bundle','turboScaleOptions','HUB_MANAGEMENT','then','finalize','getLocalIdentifier','./utilities','DMAkU','FRAMEWORK','./performance/constants','setLogLevel','normalizeTestReportingEnvVars','XPbqq','rhbaC','hubUrl','RSnld','split','FkvqV','measureWrapper'];a94_0x215b=function(){return _0x5ea7ef;};return a94_0x215b();}exports['default']=BrowserStackSetup;