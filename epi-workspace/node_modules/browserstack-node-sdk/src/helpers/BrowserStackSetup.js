const a85_0x198b61=a85_0x641d;(function(_0x42daf2,_0x274420){const _0x5262b0=a85_0x641d,_0x872264=_0x42daf2();while(!![]){try{const _0x1ab9db=parseInt(_0x5262b0(0x2ce))/0x1+parseInt(_0x5262b0(0x22d))/0x2+-parseInt(_0x5262b0(0x26c))/0x3*(parseInt(_0x5262b0(0x2d7))/0x4)+parseInt(_0x5262b0(0x2c7))/0x5*(-parseInt(_0x5262b0(0x209))/0x6)+-parseInt(_0x5262b0(0x2c5))/0x7*(parseInt(_0x5262b0(0x2b6))/0x8)+-parseInt(_0x5262b0(0x277))/0x9*(-parseInt(_0x5262b0(0x201))/0xa)+parseInt(_0x5262b0(0x20b))/0xb*(parseInt(_0x5262b0(0x248))/0xc);if(_0x1ab9db===_0x274420)break;else _0x872264['push'](_0x872264['shift']());}catch(_0x406302){_0x872264['push'](_0x872264['shift']());}}}(a85_0x5c33,0xb26b3));const util=require('util'),os=require('os'),path=require(a85_0x198b61(0x28f)),{v4:uuidv4}=require(a85_0x198b61(0x20d)),fs=require('fs'),constants=require(a85_0x198b61(0x2a1)),logger=require('./logger')['winstonLogger'],fileLogger=require('./logger')[a85_0x198b61(0x2b0)],{getLogDir}=require(a85_0x198b61(0x1ec)),helper=require(a85_0x198b61(0x215)),utilities=require(a85_0x198b61(0x294)),percyHelper=require(a85_0x198b61(0x299)),hubAllocator=require('../hubAllocationMethods'),PerformanceTester=require(a85_0x198b61(0x228)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require(a85_0x198b61(0x22f)),{setPercyFlag}=require('./testhub/utils'),TestHubHandler=require(a85_0x198b61(0x2db)),timeoutPromise=require(a85_0x198b61(0x24d)),BrowserstackCLI=require(a85_0x198b61(0x1eb));class BrowserStackSetup{constructor(_0x591fb3,_0x5cd488){const _0x289088=a85_0x198b61,_0x1208fd={'kDnKD':_0x289088(0x2cf),'isGzv':function(_0x543e2e){return _0x543e2e();},'VRsqz':'No\x20config\x20provided.'},_0x2ff6ef=_0x1208fd['kDnKD']['split']('|');let _0x4effd0=0x0;while(!![]){switch(_0x2ff6ef[_0x4effd0++]){case'0':helper['setLogDir'](this[_0x289088(0x1f5)]);continue;case'1':global['framework']=_0x5cd488;continue;case'2':this[_0x289088(0x1f5)]['testContextOptions']['skipSessionName']=!helper[_0x289088(0x271)]()||helper[_0x289088(0x281)](this[_0x289088(0x1f5)][_0x289088(0x2a2)]['skipSessionName']);continue;case'3':helper[_0x289088(0x253)](this[_0x289088(0x1f5)]);continue;case'4':helper['normalizeTestReportingEnvVars']();continue;case'5':this['config'][_0x289088(0x2a2)]['skipSessionStatus']=!helper[_0x289088(0x271)]()||helper[_0x289088(0x281)](this[_0x289088(0x1f5)][_0x289088(0x2a2)][_0x289088(0x23c)]);continue;case'6':this['percy']=null;continue;case'7':helper[_0x289088(0x2ac)](this[_0x289088(0x1f5)],this['cliConfig'],this[_0x289088(0x22e)]);continue;case'8':this[_0x289088(0x1f5)][_0x289088(0x26b)]=this['config'][_0x289088(0x26b)]||[];continue;case'9':this[_0x289088(0x266)]=null;continue;case'10':this[_0x289088(0x278)]=[];continue;case'11':this[_0x289088(0x28e)]=helper[_0x289088(0x270)](_0x591fb3);continue;case'12':this[_0x289088(0x1f5)][_0x289088(0x2a2)]=this[_0x289088(0x1f5)]['testContextOptions']||{};continue;case'13':helper[_0x289088(0x1df)](this[_0x289088(0x1f5)],this[_0x289088(0x28e)]);continue;case'14':helper['getFinalCaps'](this[_0x289088(0x1f5)],this[_0x289088(0x28e)],this[_0x289088(0x22e)]);continue;case'15':this[_0x289088(0x2ab)]=_0x5cd488;continue;case'16':if(this['config'][_0x289088(0x1f1)])throw new Error(this[_0x289088(0x1f5)][_0x289088(0x1f1)]);continue;case'17':this[_0x289088(0x22e)]=helper['setEnvCaps']();continue;case'18':this[_0x289088(0x259)]=_0x1208fd['isGzv'](uuidv4);continue;case'19':if(helper[_0x289088(0x2ae)](this[_0x289088(0x1f5)]))throw new Error(_0x1208fd[_0x289088(0x21f)]);continue;case'20':this['errorMessage']={};continue;case'21':PerformanceTester[_0x289088(0x1f2)]();continue;case'22':this[_0x289088(0x1f5)]=helper['readConfig'](helper[_0x289088(0x20c)](_0x591fb3));continue;}break;}}['preInitialize'](_0x85c138){const _0x3d918e=a85_0x198b61,_0x3890fb={'MAfWX':_0x3d918e(0x210),'PzlxF':function(_0x1e988c,_0x5c2eb4){return _0x1e988c===_0x5c2eb4;},'CpLgG':_0x3d918e(0x263),'zSkDU':_0x3d918e(0x25c),'yrjVU':function(_0x32bc9a,_0x3fa0db){return _0x32bc9a<_0x3fa0db;},'OKspK':function(_0x589174,_0x33629d){return _0x589174(_0x33629d);},'BHZTf':_0x3d918e(0x282),'nIhHQ':_0x3d918e(0x287),'JyjFL':'Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','PutyC':_0x3d918e(0x29f),'gUTIf':_0x3d918e(0x21e),'RZkMu':_0x3d918e(0x21b),'mGIZx':_0x3d918e(0x28d),'GfMfK':function(_0x273f32,_0x4b9504){return _0x273f32!==_0x4b9504;},'tjfDE':_0x3d918e(0x24f),'dbuii':_0x3d918e(0x2d3),'CXFlY':_0x3d918e(0x1da),'GYPfK':'SIGBREAK','mNTHa':'beforeExit'},_0x43850f=this[_0x3d918e(0x2ab)];global['config']=this['config'],helper[_0x3d918e(0x214)](this[_0x3d918e(0x1f5)]),this['killSignal']=null,global['sdkRunId']=this[_0x3d918e(0x259)],logger['info']('SDK\x20run\x20started\x20with\x20id:\x20'+this[_0x3d918e(0x259)]),!this[_0x3d918e(0x1f5)][_0x3d918e(0x200)]&&(this['config'][_0x3d918e(0x200)]=this[_0x3d918e(0x1f5)][_0x3d918e(0x246)]||{});if(helper['isUndefined'](helper[_0x3d918e(0x1d7)](this[_0x3d918e(0x1f5)]))||helper[_0x3d918e(0x2ae)](helper[_0x3d918e(0x241)](this['config'])))throw new Error(_0x3890fb[_0x3d918e(0x27a)]);helper[_0x3d918e(0x256)](this['config'])&&helper[_0x3d918e(0x2ae)](helper[_0x3d918e(0x24a)](this['config']))&&(!helper[_0x3d918e(0x2ae)](this[_0x3d918e(0x1f5)]['browserStackLocalOptions'])&&_0x3890fb[_0x3d918e(0x1fd)](this[_0x3d918e(0x1f5)][_0x3d918e(0x200)][_0x3d918e(0x289)],Object)?!helper[_0x3d918e(0x281)](this['config']['browserStackLocalOptions'][_0x3d918e(0x239)])&&(this['config'][_0x3d918e(0x200)][_0x3d918e(0x2c6)]=helper[_0x3d918e(0x291)]()):this[_0x3d918e(0x1f5)][_0x3d918e(0x200)]={'localIdentifier':helper[_0x3d918e(0x291)]()});this['config']['browserStackLocalOptions'][_0x3d918e(0x239)]=helper[_0x3d918e(0x281)](this[_0x3d918e(0x1f5)][_0x3d918e(0x200)][_0x3d918e(0x239)]),helper[_0x3d918e(0x2b8)](this[_0x3d918e(0x1f5)]);if(_0x3890fb[_0x3d918e(0x1fd)](_0x43850f,_0x3890fb[_0x3d918e(0x2b2)]))return;this[_0x3d918e(0x2b9)]();process[_0x3d918e(0x2c1)][_0x3d918e(0x27b)]&&(this[_0x3d918e(0x1f5)][_0x3d918e(0x28a)]=helper[_0x3d918e(0x281)](process[_0x3d918e(0x2c1)][_0x3d918e(0x27b)]),this[_0x3d918e(0x1f5)][_0x3d918e(0x244)]=this['config'][_0x3d918e(0x244)]||{});helper[_0x3d918e(0x273)](this[_0x3d918e(0x1f5)])&&(process[_0x3d918e(0x2c1)]['BROWSERSTACK_TURBOSCALE']=!![]);if(!helper[_0x3d918e(0x271)]()){try{process[_0x3d918e(0x2c1)][_0x3d918e(0x245)]=_0x43850f,utilities[_0x3d918e(0x293)](_0x3890fb[_0x3d918e(0x2dc)],{},this[_0x3d918e(0x1f5)],this[_0x3d918e(0x2ab)]);}catch(_0x31107b){logger[_0x3d918e(0x29b)](_0x3d918e(0x25f)+_0x31107b);}return;}if(helper[_0x3d918e(0x1f0)](_0x43850f)){if(global[_0x3d918e(0x2c3)])return;_0x3890fb[_0x3d918e(0x20f)](_0x3890fb[_0x3d918e(0x2a9)](parseInt,helper[_0x3d918e(0x1fb)](_0x3890fb[_0x3d918e(0x2d1)])),0x3)&&(this[_0x3d918e(0x1f5)][_0x3d918e(0x20e)]=![]),_0x3890fb[_0x3d918e(0x1fd)](helper[_0x3d918e(0x28b)](helper[_0x3d918e(0x1fb)](_0x3890fb[_0x3d918e(0x2d1)]),_0x3890fb[_0x3d918e(0x20a)]),0x1)&&(this[_0x3d918e(0x1f5)][_0x3d918e(0x20e)]=!![]);}(helper[_0x3d918e(0x2ae)](this['config'][_0x3d918e(0x26b)])||helper[_0x3d918e(0x2ae)](this[_0x3d918e(0x1f5)]['platforms'][_0x3d918e(0x2a5)]))&&(helper[_0x3d918e(0x2ae)](this[_0x3d918e(0x1f5)][_0x3d918e(0x28c)])?logger['info'](_0x3890fb['JyjFL']):logger[_0x3d918e(0x1ed)](_0x3890fb['PutyC']),this[_0x3d918e(0x1f5)][_0x3d918e(0x26b)]=[]);!this['config'][_0x3d918e(0x2a2)]&&(this['config'][_0x3d918e(0x2a2)]={});try{process[_0x3d918e(0x2c1)]['FRAMEWORK']=_0x85c138['_'][0x0],utilities[_0x3d918e(0x293)](_0x3890fb['zSkDU'],{},this['config'],this[_0x3d918e(0x2ab)]);}catch(_0x2cadea){logger[_0x3d918e(0x29b)](_0x3d918e(0x25f)+_0x2cadea);}!this[_0x3d918e(0x1f5)][_0x3d918e(0x2bf)]&&logger['info'](constants[_0x3d918e(0x226)]),this[_0x3d918e(0x247)]=this[_0x3d918e(0x247)][_0x3d918e(0x2cc)](this),process['on'](_0x3890fb[_0x3d918e(0x29e)],this[_0x3d918e(0x247)]),process['on'](_0x3890fb[_0x3d918e(0x217)],this[_0x3d918e(0x247)]),process['on'](_0x3890fb['mGIZx'],this[_0x3d918e(0x247)]),_0x3890fb[_0x3d918e(0x232)](process[_0x3d918e(0x274)],_0x3890fb['tjfDE'])?(process['on'](_0x3890fb[_0x3d918e(0x288)],this[_0x3d918e(0x247)]),process['on'](_0x3890fb[_0x3d918e(0x2a8)],this[_0x3d918e(0x247)])):process['on'](_0x3890fb[_0x3d918e(0x1d9)],this[_0x3d918e(0x247)]),process['on'](_0x3890fb['mNTHa'],this[_0x3d918e(0x1f6)]());}async['initialize'](_0xdb7580){const _0x46c945=a85_0x198b61,_0x51c0e5={'abxyf':_0x46c945(0x25e),'JvTGu':_0x46c945(0x2cd),'TQfdB':'true','dDPbJ':function(_0x27e674,_0x519e37){return _0x27e674===_0x519e37;},'LCmvP':'playwright','jspnw':function(_0x2ecf37,_0x4d6528){return _0x2ecf37+_0x4d6528;},'sYZJU':'?caps=','EkoYh':function(_0x18b539,_0x44cf0e){return _0x18b539(_0x44cf0e);},'gvOMO':_0x46c945(0x1f4)};this['preInitialize'](_0xdb7580);if(helper['isTurboScaleSession'](this[_0x46c945(0x1f5)])){const _0x3e6d5f=await helper[_0x46c945(0x258)](this[_0x46c945(0x1f5)]);this[_0x46c945(0x1f5)][_0x46c945(0x1f7)]=_0x3e6d5f,_0x3e6d5f[_0x46c945(0x2aa)]&&helper[_0x46c945(0x29a)](this[_0x46c945(0x1f5)][_0x46c945(0x266)])&&helper[_0x46c945(0x281)](this[_0x46c945(0x1f5)][_0x46c945(0x266)])&&(this[_0x46c945(0x1f5)][_0x46c945(0x200)]['localIdentifier']=_0x51c0e5[_0x46c945(0x24e)],this[_0x46c945(0x1f5)][_0x46c945(0x200)][_0x51c0e5['JvTGu']]=_0x3e6d5f[_0x46c945(0x251)]['join'](','),this[_0x46c945(0x1f5)][_0x46c945(0x200)][_0x46c945(0x296)]=_0x51c0e5[_0x46c945(0x1e6)]),this[_0x46c945(0x1f5)][_0x46c945(0x284)]=_0x3e6d5f[_0x46c945(0x2a6)],this[_0x46c945(0x2ab)]&&_0x51c0e5[_0x46c945(0x2d4)](this[_0x46c945(0x2ab)]['toLowerCase'](),_0x51c0e5[_0x46c945(0x298)])?this[_0x46c945(0x1f5)][_0x46c945(0x284)]=_0x51c0e5[_0x46c945(0x255)](_0x3e6d5f[_0x46c945(0x231)],_0x51c0e5[_0x46c945(0x1fc)]):constants['hubUrl']=helper[_0x46c945(0x22b)](this[_0x46c945(0x1f5)]),logger['debug'](_0x46c945(0x27c)+constants[_0x46c945(0x1e4)]);}helper[_0x46c945(0x295)](this['config']),this[_0x46c945(0x26a)](),_0x51c0e5['EkoYh'](setPercyFlag,this),await this[_0x46c945(0x297)](),![_0x51c0e5[_0x46c945(0x227)],_0x51c0e5['LCmvP']][_0x46c945(0x261)](this[_0x46c945(0x2ab)])&&!helper[_0x46c945(0x273)](this[_0x46c945(0x1f5)])&&!helper[_0x46c945(0x202)]()[_0x46c945(0x275)]&&await this['setUpHubUrl']();}async[a85_0x198b61(0x23f)](){const _0x179cf3=a85_0x198b61,_0x2b93ef={};_0x2b93ef[_0x179cf3(0x211)]=function(_0x59d2d3,_0x4b8db6){return _0x59d2d3===_0x4b8db6;},_0x2b93ef[_0x179cf3(0x27f)]=_0x179cf3(0x203),_0x2b93ef['bZTXa']=_0x179cf3(0x27d),_0x2b93ef[_0x179cf3(0x234)]=_0x179cf3(0x238),_0x2b93ef[_0x179cf3(0x264)]=_0x179cf3(0x2d8),_0x2b93ef['ILGWB']=_0x179cf3(0x2d0);const _0xdba178=_0x2b93ef;if(helper[_0x179cf3(0x281)](this['config'][_0x179cf3(0x1fa)])&&(!this[_0x179cf3(0x1fa)]||!this[_0x179cf3(0x1fa)]['isRunning']()))try{this[_0x179cf3(0x1fa)]=await percyHelper[_0x179cf3(0x22c)](this[_0x179cf3(0x1f5)]);if(!this['percy']){process[_0x179cf3(0x2c1)]['BROWSERSTACK_PERCY']=_0xdba178[_0x179cf3(0x27f)];throw new Error(_0xdba178[_0x179cf3(0x1d8)]);}logger['info'](_0xdba178[_0x179cf3(0x234)]),process[_0x179cf3(0x2c1)][_0x179cf3(0x220)]=_0xdba178[_0x179cf3(0x264)];let _0x109dd7=0x0;const _0x502183=async()=>{_0x109dd7++,_0xdba178['ZsBcr'](_0x109dd7,0x1)&&await this['stopPercy']();};process['on'](_0xdba178['ILGWB'],_0x502183);}catch(_0x4b970c){process['env'][_0x179cf3(0x220)]=_0xdba178[_0x179cf3(0x27f)],logger[_0x179cf3(0x29b)](_0x179cf3(0x2bd)+_0x4b970c);throw new Error(_0x4b970c[_0x179cf3(0x1f3)]());}}async[a85_0x198b61(0x2d6)](){const _0x429f95=a85_0x198b61,_0x2a441c={};_0x2a441c[_0x429f95(0x2d2)]=_0x429f95(0x204),_0x2a441c['CUlgt']=_0x429f95(0x26f);const _0x2aec78=_0x2a441c;if(this[_0x429f95(0x1fa)]&&this[_0x429f95(0x1fa)][_0x429f95(0x212)]())try{await percyHelper[_0x429f95(0x2d6)](this[_0x429f95(0x1fa)]),logger['info'](_0x2aec78[_0x429f95(0x2d2)]);}catch(_0x18eb17){logger[_0x429f95(0x1f1)](_0x2aec78[_0x429f95(0x2b7)],_0x18eb17[_0x429f95(0x2c0)]);}}async[a85_0x198b61(0x297)](){const _0x30a489=a85_0x198b61,_0x2e5581={};_0x2e5581[_0x30a489(0x213)]=_0x30a489(0x2a4),_0x2e5581[_0x30a489(0x2bc)]=_0x30a489(0x1e8);const _0x27cab5=_0x2e5581;if(helper[_0x30a489(0x271)]()&&helper[_0x30a489(0x281)](this[_0x30a489(0x1f5)]['browserstackLocal'])&&(!this[_0x30a489(0x266)]||!this[_0x30a489(0x266)][_0x30a489(0x212)]()))try{if(this['config']['browserStackLocalOptions'][_0x30a489(0x239)]){logger[_0x30a489(0x29b)](_0x27cab5[_0x30a489(0x213)]);return;}this[_0x30a489(0x266)]=await helper[_0x30a489(0x268)](this['config']),logger[_0x30a489(0x23e)](_0x27cab5[_0x30a489(0x2bc)]);}catch(_0x3b443b){logger[_0x30a489(0x29b)](_0x3b443b);throw new Error(_0x3b443b['toString']());}}async['stopBrowserstackLocal'](){const _0x423c95=a85_0x198b61,_0x228150={};_0x228150[_0x423c95(0x2d9)]=_0x423c95(0x1e9),_0x228150[_0x423c95(0x292)]=_0x423c95(0x272);const _0x138f3f=_0x228150;if(this[_0x423c95(0x266)]&&this['browserstackLocal'][_0x423c95(0x212)]())try{await helper[_0x423c95(0x2b1)](this[_0x423c95(0x266)]),logger[_0x423c95(0x23e)](_0x138f3f[_0x423c95(0x2d9)]);}catch(_0x4566c5){logger['error'](_0x138f3f['kZBag'],_0x4566c5[_0x423c95(0x2c0)]);}}async[a85_0x198b61(0x236)](){const _0x3439ce=a85_0x198b61;return PerformanceTester[_0x3439ce(0x243)](PerformanceAutEvents[_0x3439ce(0x29d)],async()=>{const _0x51da05=_0x3439ce;await hubAllocator[_0x51da05(0x233)](this[_0x51da05(0x1f5)]);})();}async[a85_0x198b61(0x207)](){const _0x15be68=a85_0x198b61,_0x4a2296={'GIyLq':function(_0x1a4e2e,_0xd51a2e){return _0x1a4e2e(_0xd51a2e);},'QLObs':_0x15be68(0x27e),'hcrLg':function(_0x167b87,_0x1d1266,_0x4c1c82,_0x59221c,_0x3e69f6,_0x1be9e1,_0xe55cec){return _0x167b87(_0x1d1266,_0x4c1c82,_0x59221c,_0x3e69f6,_0x1be9e1,_0xe55cec);},'tShMc':_0x15be68(0x26e),'FkBii':_0x15be68(0x1f8),'EbKee':_0x15be68(0x23a),'HcFbV':_0x15be68(0x1e5),'YLzkH':function(_0x343936,_0x5d8f1e){return _0x343936===_0x5d8f1e;},'EbuAn':_0x15be68(0x2d8),'RsLOH':function(_0x42e965,_0x57e332){return _0x42e965===_0x57e332;},'ikGiT':function(_0x38c79b,_0x2c1544){return _0x38c79b===_0x2c1544;},'pWPvQ':_0x15be68(0x1dc),'XDKQv':_0x15be68(0x2c8),'XnSiA':_0x15be68(0x2cb),'gDNfN':_0x15be68(0x1db),'VhCWV':function(_0x2abdda,_0x2c0922){return _0x2abdda>=_0x2c0922;},'KEMte':function(_0x168123,_0x534553){return _0x168123<_0x534553;},'NHwZL':_0x15be68(0x240),'qbJGM':_0x15be68(0x221),'LuUnz':function(_0x554127){return _0x554127();}},_0x65ad7=PerformanceTester[_0x15be68(0x243)](_0x4a2296[_0x15be68(0x283)],async()=>{const _0x562121=_0x15be68;try{const _0x912ab=new Date(),_0x52f4fc=helper[_0x562121(0x1ee)](this[_0x562121(0x1f5)]),_0x541a08=_0x4a2296[_0x562121(0x29c)](require,path[_0x562121(0x286)](__dirname,_0x4a2296[_0x562121(0x267)])),_0x1df8a4=_0x4a2296['hcrLg'](timeoutPromise,constants[_0x562121(0x285)],_0x4a2296[_0x562121(0x1e7)],_0x4a2296[_0x562121(0x260)],_0x912ab,this[_0x562121(0x1f5)],this[_0x562121(0x2ab)]),_0x4e039d={'tcgUrl':constants[_0x562121(0x254)],'sdkVersion':_0x4a2296[_0x562121(0x29c)](require,_0x4a2296[_0x562121(0x242)])[_0x562121(0x225)],'methodUsed':_0x4a2296[_0x562121(0x21a)],'proxyConfig':_0x52f4fc,'os':os['platform']()};if(_0x52f4fc&&_0x52f4fc[_0x562121(0x22a)]){utilities[_0x562121(0x293)](constants[_0x562121(0x252)],_0x4e039d,this[_0x562121(0x1f5)],this[_0x562121(0x2ab)]);return;}const _0x92b7cd={};_0x92b7cd[_0x562121(0x1de)]=_0x52f4fc;const _0x2ccac8=await Promise['race']([_0x541a08['init'](this[_0x562121(0x1f5)]['accessKey'],this[_0x562121(0x1f5)][_0x562121(0x23b)],constants[_0x562121(0x254)],_0x4a2296['GIyLq'](require,_0x4a2296[_0x562121(0x242)])[_0x562121(0x225)],_0x92b7cd)[_0x562121(0x219)](_0x27bd55=>{return _0x1df8a4['cancel'](),_0x27bd55;}),_0x1df8a4]);_0x2ccac8[_0x562121(0x218)]=_0x4a2296[_0x562121(0x206)](_0x2ccac8['isHealingEnabled'],_0x4a2296[_0x562121(0x2d5)])||_0x4a2296[_0x562121(0x2bb)](_0x2ccac8[_0x562121(0x218)],!![]);const _0x3574da=_0x4a2296[_0x562121(0x206)](this['config'][_0x562121(0x2c4)],!![])||_0x4a2296[_0x562121(0x2a3)](this[_0x562121(0x1f5)][_0x562121(0x2c4)],_0x4a2296[_0x562121(0x2d5)]);if(_0x4a2296[_0x562121(0x2a3)](_0x2ccac8[_0x562121(0x2c0)],constants[_0x562121(0x2af)])&&_0x3574da)logger[_0x562121(0x23e)](_0x4a2296[_0x562121(0x229)]);else{if(!_0x2ccac8[_0x562121(0x24b)]&&_0x4a2296[_0x562121(0x2a3)](_0x2ccac8['status'],0x1f7)&&_0x3574da)logger['info'](_0x4a2296[_0x562121(0x24c)]),utilities[_0x562121(0x293)](constants[_0x562121(0x208)],_0x4e039d,this['config'],this[_0x562121(0x2ab)]);else{if(!_0x2ccac8[_0x562121(0x24b)]&&_0x3574da){logger['info'](_0x4a2296[_0x562121(0x249)]);const _0x434096={'tcgUrl':constants['TCG_URL'],'sdkVersion':_0x4a2296['GIyLq'](require,_0x4a2296[_0x562121(0x242)])['version'],'methodUsed':_0x4a2296['HcFbV'],'proxyConfig':_0x52f4fc,'os':os[_0x562121(0x274)]()};utilities[_0x562121(0x293)](constants[_0x562121(0x1dd)],_0x434096,this[_0x562121(0x1f5)],this['framework']);}else{if(_0x2ccac8['isAuthenticated']&&!_0x2ccac8[_0x562121(0x218)]&&_0x3574da)logger['info'](_0x4a2296[_0x562121(0x2be)]);else{if(_0x4a2296[_0x562121(0x276)](_0x2ccac8['status'],0xc8)&&_0x4a2296[_0x562121(0x1ff)](_0x2ccac8[_0x562121(0x2da)],0x12c))utilities[_0x562121(0x293)](constants[_0x562121(0x2b5)],_0x4e039d,this[_0x562121(0x1f5)],this['framework']);else{if(_0x4a2296[_0x562121(0x276)](_0x2ccac8['status'],0x190))_0x4e039d[_0x562121(0x2da)]=_0x2ccac8[_0x562121(0x2da)],utilities[_0x562121(0x293)](constants[_0x562121(0x1ef)],_0x4e039d,this['config'],this['framework']);else!_0x2ccac8[_0x562121(0x2da)]&&utilities[_0x562121(0x293)](constants[_0x562121(0x257)],_0x4e039d,this[_0x562121(0x1f5)],this['framework']);}}}}}if(_0x2ccac8[_0x562121(0x24b)]&&_0x2ccac8['isHealingEnabled']){const _0x4c51af={};_0x4c51af[_0x562121(0x2b4)]=_0x2ccac8;const _0x5131f4=_0x4c51af;_0x52f4fc&&(_0x5131f4['proxyConfig']=_0x52f4fc),_0x5131f4[_0x562121(0x2ab)]=this['framework'],_0x5131f4[_0x562121(0x1e0)]=this['config'],helper[_0x562121(0x1fe)](_0x5131f4),logger[_0x562121(0x29b)](_0x4a2296[_0x562121(0x262)]);}}catch(_0x40411b){logger['debug'](_0x562121(0x280)+(_0x40411b[_0x562121(0x2c0)]?_0x40411b[_0x562121(0x2c0)]:''));}});await _0x4a2296['LuUnz'](_0x65ad7);}[a85_0x198b61(0x26a)](){const _0x5e5e9c={'UKVIj':function(_0x54020b,_0x15ce32){return _0x54020b(_0x15ce32);},'jtTTd':'./setKeepAlive'};_0x5e5e9c['UKVIj'](require,_0x5e5e9c['jtTTd'])();}['handleExceptions'](){const _0x16cf3a=a85_0x198b61,_0x10ff44={};_0x10ff44[_0x16cf3a(0x290)]='unhandledRejection',_0x10ff44[_0x16cf3a(0x26d)]='uncaughtException';const _0x5c169b=_0x10ff44,_0x581507=_0x74ad9f=>{const _0x978677=_0x16cf3a;logger['error'](_0x74ad9f['message']),logger[_0x978677(0x29b)](util[_0x978677(0x2ba)](_0x74ad9f)),this[_0x978677(0x278)][_0x978677(0x216)](util[_0x978677(0x2ba)]('%j',_0x74ad9f)),PerformanceTester['captureError'](_0x74ad9f);};process['on'](_0x5c169b['AOMyc'],_0x581507),process['on'](_0x5c169b['rHYAf'],_0x581507);}async[a85_0x198b61(0x247)](_0xe242e9){const _0x24c4e7=a85_0x198b61,_0x177d59={};_0x177d59[_0x24c4e7(0x25a)]=_0x24c4e7(0x21d),_0x177d59[_0x24c4e7(0x25b)]=function(_0x17f395,_0x4673f1){return _0x17f395+_0x4673f1;},_0x177d59[_0x24c4e7(0x2c2)]=_0x24c4e7(0x1f9),_0x177d59[_0x24c4e7(0x205)]=_0x24c4e7(0x21c),_0x177d59[_0x24c4e7(0x2ca)]=function(_0x5b0fe6,_0x17aa6c){return _0x5b0fe6+_0x17aa6c;};const _0x297555=_0x177d59,_0x265357=_0x297555[_0x24c4e7(0x25a)][_0x24c4e7(0x2a7)]('|');let _0x56c80d=0x0;while(!![]){switch(_0x265357[_0x56c80d++]){case'0':if(this[_0x297555[_0x24c4e7(0x25b)](_0x297555[_0x24c4e7(0x2c2)],_0xe242e9)])return;continue;case'1':await TestHubHandler[_0x24c4e7(0x235)](_0xe242e9);continue;case'2':logger[_0x24c4e7(0x23e)](_0x297555['IukCf'](_0x297555[_0x24c4e7(0x205)],_0xe242e9));continue;case'3':await BrowserstackCLI[_0x24c4e7(0x1d5)]()[_0x24c4e7(0x235)]();continue;case'4':this['killSignal']=_0xe242e9;continue;case'5':this[_0x297555[_0x24c4e7(0x2ca)](_0x297555[_0x24c4e7(0x2c2)],_0xe242e9)]=!![];continue;}break;}}[a85_0x198b61(0x1f6)](){const _0x47f411=a85_0x198b61,_0x1b8898={'dfQXA':function(_0x3ee89b,_0x521e1d){return _0x3ee89b===_0x521e1d;},'GwKBQ':_0x47f411(0x230),'PcDEc':function(_0x27c7c8,_0x32ee70){return _0x27c7c8>_0x32ee70;},'yXhEf':function(_0x1e37d2,_0x385005){return _0x1e37d2>_0x385005;},'myECQ':function(_0x5b06ca){return _0x5b06ca();},'ijAWL':'events.json'};let _0xe94054=0x0;return async()=>{const _0x4903c0=_0x47f411;_0xe94054++;if(_0x1b8898['dfQXA'](_0xe94054,0x1)){helper[_0x4903c0(0x1e3)](this[_0x4903c0(0x2ab)])&&await this[_0x4903c0(0x250)]();try{logger[_0x4903c0(0x29b)](_0x1b8898[_0x4903c0(0x2ad)]),await TestHubHandler[_0x4903c0(0x235)](_0xe94054),await BrowserstackCLI[_0x4903c0(0x1d5)]()['stop']('1');}catch(_0x497b25){logger['debug'](_0x4903c0(0x2a0)+util['format'](_0x497b25));}PerformanceTester['end'](PerformanceEvents[_0x4903c0(0x269)]);if(PerformanceTester[_0x4903c0(0x265)]()){const {measures:_0x3d20e9,errors:_0x563efd}=await PerformanceTester['finalize'](),_0x2413d8={};if(_0x3d20e9&&_0x1b8898[_0x4903c0(0x1e1)](_0x3d20e9['length'],0x0)||_0x563efd&&_0x1b8898[_0x4903c0(0x279)](_0x563efd[_0x4903c0(0x2a5)],0x0)){const _0x4aba09={};_0x4aba09['measures']=_0x3d20e9,_0x4aba09[_0x4903c0(0x2c9)]=_0x563efd,Object['assign'](_0x2413d8,_0x4aba09);}try{const _0x1d36fa=await helper[_0x4903c0(0x23d)](_0x2413d8,this[_0x4903c0(0x1f5)]);logger[_0x4903c0(0x29b)](_0x4903c0(0x223)+constants[_0x4903c0(0x25d)]+'\x20with\x20response\x20'+_0x1d36fa[_0x4903c0(0x237)]);}catch(_0x2b1bf2){logger[_0x4903c0(0x29b)](_0x4903c0(0x1d6)+constants[_0x4903c0(0x25d)]+_0x4903c0(0x1e2)+util[_0x4903c0(0x2ba)](_0x2b1bf2));}try{fs['writeFileSync'](path['join'](_0x1b8898[_0x4903c0(0x222)](getLogDir),_0x1b8898['ijAWL']),JSON[_0x4903c0(0x2b3)](_0x2413d8));}catch(_0x27a3d5){logger[_0x4903c0(0x29b)]('Error\x20in\x20writing\x20events\x20to\x20file\x20'+_0x27a3d5);}}}logger&&logger[_0x4903c0(0x224)](),fileLogger&&fileLogger[_0x4903c0(0x224)]();};}}exports[a85_0x198b61(0x1ea)]=BrowserStackSetup;function a85_0x641d(_0x508145,_0x5dd4e5){const _0x5c3387=a85_0x5c33();return a85_0x641d=function(_0x641da8,_0xfb79c7){_0x641da8=_0x641da8-0x1d5;let _0x13262f=_0x5c3387[_0x641da8];return _0x13262f;},a85_0x641d(_0x508145,_0x5dd4e5);}function a85_0x5c33(){const _0x38db02=['Data\x20sent\x20successfully\x20to\x20','close','version','AUTOLOGCAPTURE_NOTIFICATION','gvOMO','./performance/performance-tester','pWPvQ','proxyUrl','getHubUrl','startPercy','1273170yzLSSD','envConfig','./performance/constants','Calling\x20Build\x20Stop\x20from\x20ExitHandler','playwrightUrl','GfMfK','allocateHub','TWVfz','stop','setUpHubUrl','statusCode','Percy\x20started\x20successfully','skipBinaryInitialisation','../../package.json','userName','skipSessionStatus','sendToEDS','info','setupPercy','tcg\x20config\x20setup\x20successful.','getAccessKey','EbKee','measureWrapper','turboScaleOptions','FRAMEWORK','localOptions','intExitHandler','21684sLfvFN','XnSiA','getLocalIdentifier','isAuthenticated','XDKQv','./timeoutPromise','abxyf','win32','stopBrowserstackLocal','customRepeaters','AI_PROXY_FAILURE','setCredentialsFromYmlConfig','TCG_URL','jspnw','getLocalConfig','INVALID_INIT_RESP_WITH_USER_IMPACT','getTurboScaleGridDetails','sdkRunId','lbMXm','IukCf','SDKTestAttempted','EDS_URL','ats-repeater','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','FkBii','includes','NHwZL','integrations','XzNiT','isEnabled','browserstackLocal','QLObs','startLocalBinary','SDK_CLEANUP','setupKeepAlive','platforms','24XPLToN','rHYAf','BrowserstackHealing.init\x20method\x20timed\x20out','Error\x20occured\x20while\x20stopping\x20percy','setCLICaps','isBrowserstackInfra','Error\x20occured\x20while\x20stopping\x20local\x20binary','isTurboScaleSession','platform','central_scanner','VhCWV','35937SJJfhW','unhandledErrors','yXhEf','MAfWX','BROWSERSTACK_TURBOSCALE','HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20','Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.','../ai-sdk-node/bundle','eKDMf','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','isTrue','selenium-webdriver','qbJGM','turboScaleUrl','TCG_AUTH_TIMEOUT','join','4.5.0','dbuii','constructor','turboScale','compareVersions','parallelsPerPlatform','SIGHUP','cliConfig','path','AOMyc','generateLocalIdentifier','kZBag','fireFunnelTestEvent','./utilities','setProxySettings','forceLocal','setupBrowserstackLocal','LCmvP','./percy/utils','isNotUndefined','debug','GIyLq','HUB_MANAGEMENT','gUTIf','parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','Error\x20in\x20sending\x20testhub\x20stop:\x20','../bin/utils/constants','testContextOptions','ikGiT','Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled','length','url','split','CXFlY','OKspK','isTrialGrid','framework','setLogLevel','GwKBQ','isUndefined','UPGRADE_REQUIRED','fileLogger','stopLocalBinary','CpLgG','stringify','tcgAuthConfig','AI_INIT_SUCCESSFUL','89696ZZUvWt','CUlgt','setHandlePWError','handleExceptions','format','RsLOH','cBquw','Error\x20in\x20percy\x20setup\x20','gDNfN','disableAutoCaptureLogs','message','env','dcCVM','__isPlaywrightInstalled','selfHeal','147gmaidP','localIdentifier','55325HppaBW','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','exceptions','uhGQZ','Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','bind','custom-repeater','907784oARfZM','10|4|17|9|6|22|11|8|12|20|18|15|1|19|16|13|3|5|2|14|0|7|21','beforeExit','BHZTf','ShBZj','SIGABRT','dDPbJ','EbuAn','stopPercy','31928hMBWql','true','qRNMM','status','./testhub/testhubHandler','zSkDU','getInstance','Failed\x20to\x20send\x20data\x20to\x20','getUserName','bZTXa','GYPfK','SIGQUIT','Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','TCG_AUTH_FAILURE','proxy','setBrowserstackInfraFromConfig','bstackConfig','PcDEc','\x20with\x20error\x20','checkStopLocalBinaryOnExit','hubUrl','BrowserstackHealing.init','TQfdB','tShMc','Local\x20binary\x20started\x20successfully','Local\x20binary\x20stopped','default','../bin/v2/browserstackCLI','./logger','warn','getProxyConfigForTcg','AI_INIT_FAILURE','requireSeleniumWebdriverCheck','error','startMonitoring','toString','codeceptjs','config','exitHandler','turboScaleGridDetails','BrowserstackHealingInitFailed','handled','percy','getPackageVersion','sYZJU','PzlxF','setupTcgConfigFile','KEMte','browserStackLocalOptions','170lZLtDN','getCentralUser','false','Percy\x20stopped','xcaJZ','YLzkH','setupTCGAuth','TCG_DOWN','348eFAINn','nIhHQ','363OGtBiM','getConfigPath','uuid','useW3C','yrjVU','userName\x20or\x20accessKey\x20is\x20not\x20defined','ZsBcr','isRunning','ztWEr','sanitizeCaps','./helper','push','RZkMu','isHealingEnabled','then','HcFbV','SIGINT','Shutdown\x20triggered\x20by\x20','0|5|2|4|1|3','SIGTERM','VRsqz','BROWSERSTACK_PERCY','aiHeal:tcgAuth','myECQ'];a85_0x5c33=function(){return _0x38db02;};return a85_0x5c33();}