const a55_0x27de36=a55_0x495b;(function(_0x48a2bb,_0x5af43c){const _0x4e754f=a55_0x495b,_0x25b5d1=_0x48a2bb();while(!![]){try{const _0x55a0ea=parseInt(_0x4e754f(0xf6))/0x1*(-parseInt(_0x4e754f(0x12a))/0x2)+-parseInt(_0x4e754f(0x16c))/0x3+parseInt(_0x4e754f(0x125))/0x4+parseInt(_0x4e754f(0xa0))/0x5*(parseInt(_0x4e754f(0xb7))/0x6)+parseInt(_0x4e754f(0xf5))/0x7+-parseInt(_0x4e754f(0x17f))/0x8+parseInt(_0x4e754f(0x143))/0x9*(-parseInt(_0x4e754f(0x18b))/0xa);if(_0x55a0ea===_0x5af43c)break;else _0x25b5d1['push'](_0x25b5d1['shift']());}catch(_0x2ba78f){_0x25b5d1['push'](_0x25b5d1['shift']());}}}(a55_0x32dd,0x43576));function a55_0x495b(_0x23e406,_0x3b0a4e){const _0x32dd8e=a55_0x32dd();return a55_0x495b=function(_0x495b34,_0x27b3d5){_0x495b34=_0x495b34-0xa0;let _0x3db305=_0x32dd8e[_0x495b34];return _0x3db305;},a55_0x495b(_0x23e406,_0x3b0a4e);}const util=require(a55_0x27de36(0x122)),os=require('os'),path=require('path'),{v4:uuidv4}=require(a55_0x27de36(0x148)),fs=require('fs'),constants=require('../bin/utils/constants'),{isTurboScaleSession}=require('./ats/helper'),logger=require('./logger')['winstonLogger'],{getLogDir}=require('./logger'),helper=require(a55_0x27de36(0xfa)),utilities=require(a55_0x27de36(0x14c)),percyHelper=require('./percy/utils'),hubAllocator=require(a55_0x27de36(0x12f)),PerformanceTester=require(a55_0x27de36(0xaf)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require(a55_0x27de36(0xca)),{setPercyFlag}=require(a55_0x27de36(0x135)),TestHubHandler=require(a55_0x27de36(0x157)),timeoutPromise=require('./timeoutPromise');function a55_0x32dd(){const _0x3c4de3=['setUpHubUrl','AI_PROXY_FAILURE','bjQga','Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.','format','PkmXp','setLogDir','bVORe','BrowserstackHealingInitFailed','Error\x20in\x20sending\x20testhub\x20stop:\x20','length','init','sdkRunID','uncaughtException','inSPt','getProxyConfigForTcg','vJfxW','checkStopLocalBinaryOnExit','disableAutoCaptureLogs','startMonitoring','browserStackLocalOptions','lcILX','skipSessionName','DnQrS','info','measureWrapper','sXPVI','custom-repeater','spftl','MJNhe','getFinalCaps','AI_INIT_FAILURE','setupKeepAlive','isBrowserstackInfra','selenium-webdriver','errorMessage','sanitizeCaps','util','TCG_URL','?caps=','208468dyyxhK','BrowserstackHealing.init','platforms','preInitialize','proxyUrl','28DDFBtO','beforeExit','WKyaC','unhandledRejection','BuAPP','../hubAllocationMethods','skipSessionStatus','toString','ZCMdg','UPGRADE_REQUIRED','SIGINT','./testhub/utils','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','isUndefined','intExitHandler','getHubUrl','useW3C','Local\x20binary\x20stopped','debug','isHealingEnabled','SCARl','stopBrowserstackLocal','setupTCGAuth','sczhf','ats-repeater','9QpLrAf','stringify','testContextOptions','FMOyo','exitHandler','uuid','requireSeleniumWebdriverCheck','getCentralUser','SIGQUIT','./utilities','HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20','generateLocalIdentifier','error','TCG_DOWN','XqgOC','exceptions','tpDAJ','SIGBREAK','Error\x20in\x20percy\x20setup\x20','kiOEE','./testhub/testhubHandler','EprAh','grymr','cliConfig','ehqFD','handled','push','stopPercy','hdWbG','central_scanner','Error\x20occured\x20while\x20stopping\x20percy','4.5.0','playwright','UgJXf','UJnqG','oyDva','toWYE','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','TCG_AUTH_TIMEOUT','isEnabled','Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled','532704lDBTCR','config','compareVersions','status','sjDAK','wofsy','AfwUc','SDgPo','localIdentifier','win32','selfHeal','SIGHUP','then','TCG_AUTH_FAILURE','assign','./setKeepAlive','deYQo','turboScaleUrl','browserstackLocal','3953448YZyxPq','platform','GdXGC','SIGTERM','AgEXZ','cRpVn','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','fireFunnelTestEvent','zKdTh','Percy\x20started\x20successfully','stopLocalBinary','isRunning','979010mdQucL','toLowerCase','eZblJ','getUserName','INVALID_INIT_RESP_WITH_USER_IMPACT','race','isAuthenticated','diEhJ','QeiPV','isTrialGrid','parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','captureError','turboScaleOptions','../ai-sdk-node/bundle','setHandlePWError','6445LKqElt','\x20with\x20error\x20','unhandledErrors','getPackageVersion','cDYQs','VceqX','statusCode','JHKQA','startPercy','JbSTZ','HKwya','url','turboScaleGridDetails','version','RBQrk','./performance/performance-tester','SfjrR','Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','end','BROWSERSTACK_PERCY','Smyiw','Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','2460Aacfns','EDS_URL','framework','getLocalIdentifier','writeFileSync','setEnvCaps','includes','killSignal','skipBinaryInitialisation','Failed\x20to\x20send\x20data\x20to\x20','FRAMEWORK','true','bstackConfig','xNZMQ','CxWFo','setProxySettings','BSvtT','envConfig','setCLICaps','./performance/constants','handleExceptions','noYge','join','sGsPe','SDK_CLEANUP','SMiEb','../../package.json','Local\x20binary\x20started\x20successfully','isTrue','Wtcpn','localOptions','whqFb','SIGABRT','finalize','CKVrx','Calling\x20Build\x20Stop\x20from\x20ExitHandler','No\x20config\x20provided.','wyHNW','alQbL','customRepeaters','parallelsPerPlatform','AI_INIT_SUCCESSFUL','userName\x20or\x20accessKey\x20is\x20not\x20defined','Data\x20sent\x20successfully\x20to\x20','EpHHo','constructor','UBXPl','YlAYU','proxy','readConfig','BROWSERSTACK_TURBOSCALE','warn','tcgAuthConfig','sendToEDS','default','message','swvkF','zEBch','lLoih','Percy\x20stopped','env','pRtzD','3272339nVfYBn','186zGKube','oppSQ','aiHeal:tcgAuth','forceLocal','./helper','HUB_MANAGEMENT','percy'];a55_0x32dd=function(){return _0x3c4de3;};return a55_0x32dd();}class BrowserStackSetup{constructor(_0x434db7,_0xf9dee6){const _0x3a9302=a55_0x27de36,_0x3ce784={'zEBch':'12|13|6|9|17|20|15|18|3|11|5|19|2|1|4|14|8|7|10|0|16','lcILX':_0x3a9302(0xdb),'SMiEb':function(_0x4fc0a3){return _0x4fc0a3();}},_0x2bbc32=_0x3ce784[_0x3a9302(0xf0)]['split']('|');let _0x2a1fef=0x0;while(!![]){switch(_0x2bbc32[_0x2a1fef++]){case'0':helper['setLogLevel'](this[_0x3a9302(0x16d)],this[_0x3a9302(0x15a)],this[_0x3a9302(0xc8)]);continue;case'1':if(this[_0x3a9302(0x16d)][_0x3a9302(0x14f)])throw new Error(this['config'][_0x3a9302(0x14f)]);continue;case'2':if(helper[_0x3a9302(0x137)](this['config']))throw new Error(_0x3ce784[_0x3a9302(0x112)]);continue;case'3':this[_0x3a9302(0x120)]={};continue;case'4':helper['setBrowserstackInfraFromConfig'](this['config'],this[_0x3a9302(0x15a)]);continue;case'5':this[_0x3a9302(0xb9)]=_0xf9dee6;continue;case'6':this[_0x3a9302(0xc8)]=helper[_0x3a9302(0xbc)]();continue;case'7':helper[_0x3a9302(0x11b)](this[_0x3a9302(0x16d)],this[_0x3a9302(0x15a)],this[_0x3a9302(0xc8)]);continue;case'8':this[_0x3a9302(0x16d)][_0x3a9302(0x145)][_0x3a9302(0x113)]=!helper[_0x3a9302(0x11e)]()||helper[_0x3a9302(0xd3)](this[_0x3a9302(0x16d)]['testContextOptions']['skipSessionName']);continue;case'9':this['browserstackLocal']=null;continue;case'10':helper[_0x3a9302(0x103)](this['config']);continue;case'11':this[_0x3a9302(0x109)]=_0x3ce784[_0x3a9302(0xd0)](uuidv4);continue;case'12':this['unhandledErrors']=[];continue;case'13':this[_0x3a9302(0x15a)]=helper[_0x3a9302(0xc9)](_0x434db7);continue;case'14':this[_0x3a9302(0x16d)][_0x3a9302(0x145)][_0x3a9302(0x130)]=!helper['isBrowserstackInfra']()||helper[_0x3a9302(0xd3)](this[_0x3a9302(0x16d)]['testContextOptions'][_0x3a9302(0x130)]);continue;case'15':this[_0x3a9302(0x16d)][_0x3a9302(0x127)]=this[_0x3a9302(0x16d)]['platforms']||[];continue;case'16':PerformanceTester[_0x3a9302(0x110)]();continue;case'17':this[_0x3a9302(0xfc)]=null;continue;case'18':this[_0x3a9302(0x16d)][_0x3a9302(0x145)]=this[_0x3a9302(0x16d)]['testContextOptions']||{};continue;case'19':global[_0x3a9302(0xb9)]=_0xf9dee6;continue;case'20':this[_0x3a9302(0x16d)]=helper[_0x3a9302(0xe8)](helper['getConfigPath'](_0x434db7));continue;}break;}}[a55_0x27de36(0x128)](_0x75aa11){const _0x53ad24=a55_0x27de36,_0x233745={'xQIlR':_0x53ad24(0xe1),'BSvtT':function(_0x18bb73,_0x1002fd){return _0x18bb73===_0x1002fd;},'RBQrk':'integrations','bjQga':'SDKTestAttempted','HKwya':function(_0x14c7d4,_0x17a850){return _0x14c7d4<_0x17a850;},'aipyO':function(_0x51a2e1,_0x5711da){return _0x51a2e1(_0x5711da);},'WKyaC':_0x53ad24(0x11f),'Smyiw':_0x53ad24(0x162),'AgEXZ':_0x53ad24(0x136),'ehqFD':_0x53ad24(0x195),'uGJNd':_0x53ad24(0x182),'inSPt':_0x53ad24(0x134),'DnQrS':_0x53ad24(0x177),'jpYJJ':function(_0x4ea592,_0x14f0a4){return _0x4ea592!==_0x14f0a4;},'SCARl':_0x53ad24(0x175),'hZFdW':_0x53ad24(0xd7),'spftl':_0x53ad24(0x14b),'wyHNW':_0x53ad24(0x154),'wofsy':_0x53ad24(0x12b)},_0x39e4c2=this['framework'];global['config']=this[_0x53ad24(0x16d)],helper[_0x53ad24(0x121)](this[_0x53ad24(0x16d)]),this[_0x53ad24(0xbe)]=null,global[_0x53ad24(0x109)]=this[_0x53ad24(0x109)],logger[_0x53ad24(0x115)]('SDK\x20run\x20started\x20with\x20id:\x20'+this[_0x53ad24(0x109)]),!this['config']['browserStackLocalOptions']&&(this['config'][_0x53ad24(0x111)]=this[_0x53ad24(0x16d)][_0x53ad24(0xd5)]||{});if(helper[_0x53ad24(0x137)](helper[_0x53ad24(0x18e)](this[_0x53ad24(0x16d)]))||helper[_0x53ad24(0x137)](helper['getAccessKey'](this['config'])))throw new Error(_0x233745['xQIlR']);helper['getLocalConfig'](this['config'])&&helper[_0x53ad24(0x137)](helper[_0x53ad24(0xba)](this['config']))&&(!helper[_0x53ad24(0x137)](this[_0x53ad24(0x16d)]['browserStackLocalOptions'])&&_0x233745[_0x53ad24(0xc7)](this[_0x53ad24(0x16d)][_0x53ad24(0x111)][_0x53ad24(0xe4)],Object)?!helper[_0x53ad24(0xd3)](this[_0x53ad24(0x16d)][_0x53ad24(0x111)]['skipBinaryInitialisation'])&&(this[_0x53ad24(0x16d)]['browserStackLocalOptions'][_0x53ad24(0x174)]=helper[_0x53ad24(0x14e)]()):this[_0x53ad24(0x16d)][_0x53ad24(0x111)]={'localIdentifier':helper[_0x53ad24(0x14e)]()});this['config']['browserStackLocalOptions']['skipBinaryInitialisation']=helper['isTrue'](this[_0x53ad24(0x16d)]['browserStackLocalOptions']['skipBinaryInitialisation']),helper[_0x53ad24(0x199)](this[_0x53ad24(0x16d)]);if(_0x233745[_0x53ad24(0xc7)](_0x39e4c2,_0x233745[_0x53ad24(0xae)]))return;this[_0x53ad24(0xcb)]();process[_0x53ad24(0xf3)][_0x53ad24(0xe9)]&&(this[_0x53ad24(0x16d)]['turboScale']=helper[_0x53ad24(0xd3)](process[_0x53ad24(0xf3)][_0x53ad24(0xe9)]),this[_0x53ad24(0x16d)]['turboScaleOptions']=this[_0x53ad24(0x16d)][_0x53ad24(0x197)]||{});if(!helper[_0x53ad24(0x11e)]()){try{process[_0x53ad24(0xf3)]['FRAMEWORK']=_0x39e4c2,utilities[_0x53ad24(0x186)](_0x233745[_0x53ad24(0xff)],{},this['config'],this['framework']);}catch(_0x45d17e){logger[_0x53ad24(0x13c)](_0x53ad24(0x168)+_0x45d17e);}return;}helper[_0x53ad24(0x149)](_0x39e4c2)&&(_0x233745[_0x53ad24(0xaa)](_0x233745['aipyO'](parseInt,helper[_0x53ad24(0xa3)](_0x233745[_0x53ad24(0x12c)])),0x3)&&(this[_0x53ad24(0x16d)][_0x53ad24(0x13a)]=![]),_0x233745[_0x53ad24(0xc7)](helper[_0x53ad24(0x16e)](helper['getPackageVersion'](_0x233745['WKyaC']),_0x233745[_0x53ad24(0xb5)]),0x1)&&(this[_0x53ad24(0x16d)]['useW3C']=!![]));(helper['isUndefined'](this[_0x53ad24(0x16d)][_0x53ad24(0x127)])||helper[_0x53ad24(0x137)](this[_0x53ad24(0x16d)][_0x53ad24(0x127)]['length']))&&(helper[_0x53ad24(0x137)](this[_0x53ad24(0x16d)][_0x53ad24(0xdf)])?logger[_0x53ad24(0x115)](_0x233745[_0x53ad24(0x183)]):logger[_0x53ad24(0xea)](_0x233745[_0x53ad24(0x15b)]),this[_0x53ad24(0x16d)][_0x53ad24(0x127)]=[]);!this[_0x53ad24(0x16d)][_0x53ad24(0x145)]&&(this['config']['testContextOptions']={});try{process['env'][_0x53ad24(0xc1)]=_0x75aa11['_'][0x0],utilities['fireFunnelTestEvent'](_0x233745['bjQga'],{},this[_0x53ad24(0x16d)],this['framework']);}catch(_0x4b25ee){logger[_0x53ad24(0x13c)](_0x53ad24(0x168)+_0x4b25ee);}!this[_0x53ad24(0x16d)][_0x53ad24(0x10f)]&&logger[_0x53ad24(0x115)](constants['AUTOLOGCAPTURE_NOTIFICATION']),this['intExitHandler']=this[_0x53ad24(0x138)]['bind'](this),process['on'](_0x233745['uGJNd'],this[_0x53ad24(0x138)]),process['on'](_0x233745[_0x53ad24(0x10b)],this[_0x53ad24(0x138)]),process['on'](_0x233745[_0x53ad24(0x114)],this['intExitHandler']),_0x233745['jpYJJ'](process[_0x53ad24(0x180)],_0x233745[_0x53ad24(0x13e)])?(process['on'](_0x233745['hZFdW'],this[_0x53ad24(0x138)]),process['on'](_0x233745[_0x53ad24(0x119)],this[_0x53ad24(0x138)])):process['on'](_0x233745[_0x53ad24(0xdc)],this[_0x53ad24(0x138)]),process['on'](_0x233745[_0x53ad24(0x171)],this[_0x53ad24(0x147)]());}async['initialize'](_0x320581){const _0x3a50ba=a55_0x27de36,_0x1dd999={'CxWFo':function(_0xedf5ea,_0x228153){return _0xedf5ea(_0x228153);},'ZCMdg':_0x3a50ba(0x142),'lLoih':_0x3a50ba(0x118),'Wtcpn':'true','CQTPI':function(_0x5a2be0,_0x162c6b){return _0x5a2be0===_0x162c6b;},'diEhJ':_0x3a50ba(0x163),'sczhf':function(_0x511a00,_0x29c8e7){return _0x511a00+_0x29c8e7;},'dRUyL':_0x3a50ba(0x124),'noYge':'codeceptjs'};this[_0x3a50ba(0x128)](_0x320581);if(_0x1dd999['CxWFo'](isTurboScaleSession,this['config'])){const _0x3c302a=await helper['getTurboScaleGridDetails'](this[_0x3a50ba(0x16d)]);this[_0x3a50ba(0x16d)][_0x3a50ba(0xac)]=_0x3c302a,_0x3c302a[_0x3a50ba(0x194)]&&(this[_0x3a50ba(0x16d)][_0x3a50ba(0x17e)]=!![],this[_0x3a50ba(0x16d)]['browserStackLocalOptions']['localIdentifier']=_0x1dd999[_0x3a50ba(0x132)],this['config'][_0x3a50ba(0x111)][_0x1dd999[_0x3a50ba(0xf1)]]=_0x3c302a[_0x3a50ba(0xde)][_0x3a50ba(0xcd)](','),this['config']['browserStackLocalOptions'][_0x3a50ba(0xf9)]=_0x1dd999[_0x3a50ba(0xd4)]),this[_0x3a50ba(0x16d)][_0x3a50ba(0x17d)]=_0x3c302a[_0x3a50ba(0xab)],this[_0x3a50ba(0xb9)]&&_0x1dd999['CQTPI'](this[_0x3a50ba(0xb9)][_0x3a50ba(0x18c)](),_0x1dd999[_0x3a50ba(0x192)])&&(this[_0x3a50ba(0x16d)][_0x3a50ba(0x17d)]=_0x1dd999[_0x3a50ba(0x141)](_0x3c302a['playwrightUrl'],_0x1dd999['dRUyL'])),constants['hubUrl']=helper[_0x3a50ba(0x139)](this[_0x3a50ba(0x16d)]),logger[_0x3a50ba(0x13c)](_0x3a50ba(0x14d)+constants['hubUrl']);}helper[_0x3a50ba(0xc6)](this[_0x3a50ba(0x16d)]),this[_0x3a50ba(0x11d)](),_0x1dd999[_0x3a50ba(0xc5)](setPercyFlag,this),await this['setupBrowserstackLocal'](),![_0x1dd999[_0x3a50ba(0xcc)]][_0x3a50ba(0xbd)](this[_0x3a50ba(0xb9)])&&!_0x1dd999[_0x3a50ba(0xc5)](isTurboScaleSession,this[_0x3a50ba(0x16d)])&&!helper[_0x3a50ba(0x14a)]()[_0x3a50ba(0x160)]&&await this[_0x3a50ba(0xfd)]();}async['setupPercy'](){const _0x25ecc2=a55_0x27de36,_0x3329ed={};_0x3329ed[_0x25ecc2(0xce)]=function(_0x2a5db9,_0x12d83d){return _0x2a5db9===_0x12d83d;},_0x3329ed[_0x25ecc2(0xa7)]='false',_0x3329ed[_0x25ecc2(0xd6)]=_0x25ecc2(0x100),_0x3329ed['iTLPs']=_0x25ecc2(0x188),_0x3329ed[_0x25ecc2(0xc4)]=_0x25ecc2(0xc2),_0x3329ed[_0x25ecc2(0xa4)]=_0x25ecc2(0x12b);const _0x40d30b=_0x3329ed;if(helper[_0x25ecc2(0xd3)](this['config'][_0x25ecc2(0xfc)])&&(!this[_0x25ecc2(0xfc)]||!this[_0x25ecc2(0xfc)]['isRunning']()))try{this[_0x25ecc2(0xfc)]=await percyHelper[_0x25ecc2(0xa8)](this[_0x25ecc2(0x16d)]);if(!this[_0x25ecc2(0xfc)]){process['env'][_0x25ecc2(0xb4)]=_0x40d30b[_0x25ecc2(0xa7)];throw new Error(_0x40d30b[_0x25ecc2(0xd6)]);}logger['info'](_0x40d30b['iTLPs']),process[_0x25ecc2(0xf3)]['BROWSERSTACK_PERCY']=_0x40d30b[_0x25ecc2(0xc4)];let _0x3eb5da=0x0;const _0x17a2c0=async()=>{const _0x2de7ab=_0x25ecc2;_0x3eb5da++,_0x40d30b[_0x2de7ab(0xce)](_0x3eb5da,0x1)&&await this[_0x2de7ab(0x15e)]();};process['on'](_0x40d30b[_0x25ecc2(0xa4)],_0x17a2c0);}catch(_0xd1c991){process[_0x25ecc2(0xf3)][_0x25ecc2(0xb4)]=_0x40d30b[_0x25ecc2(0xa7)],logger[_0x25ecc2(0x13c)](_0x25ecc2(0x155)+_0xd1c991);throw new Error(_0xd1c991[_0x25ecc2(0x131)]());}}async['stopPercy'](){const _0x565869=a55_0x27de36,_0x56c19a={};_0x56c19a[_0x565869(0xb0)]=_0x565869(0xf2),_0x56c19a[_0x565869(0x165)]=_0x565869(0x161);const _0x16bcf7=_0x56c19a;if(this[_0x565869(0xfc)]&&this[_0x565869(0xfc)][_0x565869(0x18a)]())try{await percyHelper[_0x565869(0x15e)](this[_0x565869(0xfc)]),logger['info'](_0x16bcf7[_0x565869(0xb0)]);}catch(_0x15cde2){logger[_0x565869(0x14f)](_0x16bcf7[_0x565869(0x165)],_0x15cde2[_0x565869(0xee)]);}}async['setupBrowserstackLocal'](){const _0x287bf=a55_0x27de36,_0x1138d8={};_0x1138d8[_0x287bf(0x172)]=_0x287bf(0x16b),_0x1138d8['CKVrx']=_0x287bf(0xd2);const _0x47f11c=_0x1138d8;if(helper[_0x287bf(0x11e)]()&&helper[_0x287bf(0xd3)](this[_0x287bf(0x16d)][_0x287bf(0x17e)])&&(!this['browserstackLocal']||!this[_0x287bf(0x17e)][_0x287bf(0x18a)]()))try{if(this['config']['browserStackLocalOptions'][_0x287bf(0xbf)]){logger[_0x287bf(0x13c)](_0x47f11c[_0x287bf(0x172)]);return;}this[_0x287bf(0x17e)]=await helper['startLocalBinary'](this[_0x287bf(0x16d)]),logger[_0x287bf(0x115)](_0x47f11c[_0x287bf(0xd9)]);}catch(_0x1911c9){logger['debug'](_0x1911c9);throw new Error(_0x1911c9[_0x287bf(0x131)]());}}async['stopBrowserstackLocal'](){const _0x2fc1b9=a55_0x27de36,_0x538ba9={};_0x538ba9['swvkF']=_0x2fc1b9(0x13b),_0x538ba9[_0x2fc1b9(0x11a)]='Error\x20occured\x20while\x20stopping\x20local\x20binary';const _0x434006=_0x538ba9;if(this['browserstackLocal']&&this[_0x2fc1b9(0x17e)][_0x2fc1b9(0x18a)]())try{await helper[_0x2fc1b9(0x189)](this[_0x2fc1b9(0x17e)]),logger[_0x2fc1b9(0x115)](_0x434006[_0x2fc1b9(0xef)]);}catch(_0x768243){logger[_0x2fc1b9(0x14f)](_0x434006[_0x2fc1b9(0x11a)],_0x768243[_0x2fc1b9(0xee)]);}}async[a55_0x27de36(0xfd)](){const _0x284211=a55_0x27de36;return PerformanceTester[_0x284211(0x116)](PerformanceAutEvents[_0x284211(0xfb)],async()=>{const _0x46b989=_0x284211;await hubAllocator['allocateHub'](this[_0x46b989(0x16d)]);})();}async[a55_0x27de36(0x140)](){const _0x4bd5bd=a55_0x27de36,_0x1b593b={'toWYE':function(_0x26b88d,_0x43b96f){return _0x26b88d(_0x43b96f);},'SDgPo':_0x4bd5bd(0x198),'deYQo':function(_0x2cd74c,_0x37ac2b,_0x2e05e5,_0x540bad,_0x55c365,_0x1e8c1b,_0x3e1d2f){return _0x2cd74c(_0x37ac2b,_0x2e05e5,_0x540bad,_0x55c365,_0x1e8c1b,_0x3e1d2f);},'FUDbJ':'BrowserstackHealing.init\x20method\x20timed\x20out','PkmXp':_0x4bd5bd(0x105),'hdWbG':_0x4bd5bd(0xd1),'QeiPV':_0x4bd5bd(0x126),'oyDva':function(_0x34e701,_0x4e9f0e){return _0x34e701===_0x4e9f0e;},'FMOyo':_0x4bd5bd(0xc2),'BuAPP':function(_0x15c460,_0x4ecee9){return _0x15c460===_0x4ecee9;},'alQbL':function(_0x20cb42,_0x1416d7){return _0x20cb42===_0x1416d7;},'ZnijT':function(_0x47244d,_0x20eb37){return _0x47244d===_0x20eb37;},'tZkbO':'Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','EprAh':_0x4bd5bd(0xb2),'Dabrp':_0x4bd5bd(0xb6),'VceqX':function(_0x3f14eb,_0x25f1e0){return _0x3f14eb(_0x25f1e0);},'UBXPl':_0x4bd5bd(0xb1),'wGKIK':function(_0x8d6bf3,_0x159326){return _0x8d6bf3>=_0x159326;},'sjDAK':function(_0x2fb4e4,_0x3f96b3){return _0x2fb4e4<_0x3f96b3;},'GdXGC':function(_0x589b35,_0x38a735){return _0x589b35>=_0x38a735;},'JbSTZ':'tcg\x20config\x20setup\x20successful.','cRpVn':_0x4bd5bd(0xf8),'grymr':function(_0x225acb){return _0x225acb();}},_0x15c5b9=PerformanceTester[_0x4bd5bd(0x116)](_0x1b593b[_0x4bd5bd(0x184)],async()=>{const _0x1761a9=_0x4bd5bd;try{const _0x37fb5=new Date(),_0x5027e9=helper[_0x1761a9(0x10c)](this[_0x1761a9(0x16d)]),_0x3ab617=_0x1b593b[_0x1761a9(0x167)](require,path[_0x1761a9(0xcd)](__dirname,_0x1b593b[_0x1761a9(0x173)])),_0x54fd1d=_0x1b593b[_0x1761a9(0x17c)](timeoutPromise,constants[_0x1761a9(0x169)],_0x1b593b['FUDbJ'],_0x1b593b[_0x1761a9(0x102)],_0x37fb5,this[_0x1761a9(0x16d)],this[_0x1761a9(0xb9)]),_0x3e3ad3={'tcgUrl':constants[_0x1761a9(0x123)],'sdkVersion':_0x1b593b[_0x1761a9(0x167)](require,_0x1b593b['hdWbG'])[_0x1761a9(0xad)],'methodUsed':_0x1b593b[_0x1761a9(0x193)],'proxyConfig':_0x5027e9,'os':os[_0x1761a9(0x180)]()};if(_0x5027e9&&_0x5027e9[_0x1761a9(0x129)]){utilities[_0x1761a9(0x186)](constants[_0x1761a9(0xfe)],_0x3e3ad3,this['config'],this['framework']);return;}const _0x424b16={};_0x424b16[_0x1761a9(0xe7)]=_0x5027e9;const _0x538b59=await Promise[_0x1761a9(0x190)]([_0x3ab617[_0x1761a9(0x108)](this[_0x1761a9(0x16d)]['accessKey'],this[_0x1761a9(0x16d)]['userName'],constants[_0x1761a9(0x123)],_0x1b593b['toWYE'](require,_0x1b593b[_0x1761a9(0x15f)])[_0x1761a9(0xad)],_0x424b16)[_0x1761a9(0x178)](_0x23229a=>{return _0x54fd1d['cancel'](),_0x23229a;}),_0x54fd1d]);_0x538b59[_0x1761a9(0x13d)]=_0x1b593b[_0x1761a9(0x166)](_0x538b59[_0x1761a9(0x13d)],_0x1b593b[_0x1761a9(0x146)])||_0x1b593b['BuAPP'](_0x538b59[_0x1761a9(0x13d)],!![]);const _0x2784ed=_0x1b593b[_0x1761a9(0xdd)](this[_0x1761a9(0x16d)]['selfHeal'],!![])||_0x1b593b['ZnijT'](this['config'][_0x1761a9(0x176)],_0x1b593b['FMOyo']);if(_0x1b593b[_0x1761a9(0xdd)](_0x538b59[_0x1761a9(0xee)],constants[_0x1761a9(0x133)])&&_0x2784ed)logger['info'](_0x1b593b['tZkbO']);else{if(!_0x538b59[_0x1761a9(0x191)]&&_0x1b593b[_0x1761a9(0x12e)](_0x538b59[_0x1761a9(0x16f)],0x1f7)&&_0x2784ed)logger[_0x1761a9(0x115)](_0x1b593b[_0x1761a9(0x158)]),utilities[_0x1761a9(0x186)](constants[_0x1761a9(0x150)],_0x3e3ad3,this[_0x1761a9(0x16d)],this[_0x1761a9(0xb9)]);else{if(!_0x538b59[_0x1761a9(0x191)]&&_0x2784ed){logger['info'](_0x1b593b['Dabrp']);const _0x5e11d2={'tcgUrl':constants[_0x1761a9(0x123)],'sdkVersion':_0x1b593b[_0x1761a9(0xa5)](require,_0x1b593b[_0x1761a9(0x15f)])[_0x1761a9(0xad)],'methodUsed':_0x1b593b[_0x1761a9(0x193)],'proxyConfig':_0x5027e9,'os':os[_0x1761a9(0x180)]()};utilities['fireFunnelTestEvent'](constants[_0x1761a9(0x179)],_0x5e11d2,this['config'],this[_0x1761a9(0xb9)]);}else{if(_0x538b59[_0x1761a9(0x191)]&&!_0x538b59[_0x1761a9(0x13d)]&&_0x2784ed)logger[_0x1761a9(0x115)](_0x1b593b[_0x1761a9(0xe5)]);else{if(_0x1b593b['wGKIK'](_0x538b59[_0x1761a9(0x16f)],0xc8)&&_0x1b593b[_0x1761a9(0x170)](_0x538b59['status'],0x12c))utilities[_0x1761a9(0x186)](constants[_0x1761a9(0xe0)],_0x3e3ad3,this['config'],this[_0x1761a9(0xb9)]);else{if(_0x1b593b[_0x1761a9(0x181)](_0x538b59['status'],0x190))_0x3e3ad3[_0x1761a9(0x16f)]=_0x538b59[_0x1761a9(0x16f)],utilities[_0x1761a9(0x186)](constants[_0x1761a9(0x11c)],_0x3e3ad3,this[_0x1761a9(0x16d)],this[_0x1761a9(0xb9)]);else!_0x538b59[_0x1761a9(0x16f)]&&utilities['fireFunnelTestEvent'](constants[_0x1761a9(0x18f)],_0x3e3ad3,this[_0x1761a9(0x16d)],this[_0x1761a9(0xb9)]);}}}}}if(_0x538b59[_0x1761a9(0x191)]&&_0x538b59[_0x1761a9(0x13d)]){const _0x9db2c={};_0x9db2c[_0x1761a9(0xeb)]=_0x538b59;const _0x2f419e=_0x9db2c;_0x5027e9&&(_0x2f419e['proxyConfig']=_0x5027e9),_0x2f419e[_0x1761a9(0xb9)]=this['framework'],_0x2f419e[_0x1761a9(0xc3)]=this[_0x1761a9(0x16d)],helper['setupTcgConfigFile'](_0x2f419e),logger[_0x1761a9(0x13c)](_0x1b593b[_0x1761a9(0xa9)]);}}catch(_0x38cb92){logger['debug'](_0x1761a9(0x185)+(_0x38cb92[_0x1761a9(0xee)]?_0x38cb92[_0x1761a9(0xee)]:''));}});await _0x1b593b[_0x4bd5bd(0x159)](_0x15c5b9);}[a55_0x27de36(0x11d)](){const _0x2945f7=a55_0x27de36,_0x8fdca5={'vJfxW':function(_0x5c6568,_0x2343ee){return _0x5c6568(_0x2343ee);},'oppSQ':_0x2945f7(0x17b)};_0x8fdca5[_0x2945f7(0x10d)](require,_0x8fdca5[_0x2945f7(0xf7)])();}[a55_0x27de36(0xcb)](){const _0x2c6b54=a55_0x27de36,_0x3fcd07={};_0x3fcd07['UgJXf']=_0x2c6b54(0x12d),_0x3fcd07[_0x2c6b54(0xe6)]=_0x2c6b54(0x10a);const _0x1022f7=_0x3fcd07,_0x435aa8=_0x4d0a7c=>{const _0x8dd4fa=_0x2c6b54;logger[_0x8dd4fa(0x14f)](_0x4d0a7c[_0x8dd4fa(0xee)]),logger[_0x8dd4fa(0x13c)](util[_0x8dd4fa(0x101)](_0x4d0a7c)),this[_0x8dd4fa(0xa2)][_0x8dd4fa(0x15d)](util[_0x8dd4fa(0x101)]('%j',_0x4d0a7c)),PerformanceTester[_0x8dd4fa(0x196)](_0x4d0a7c);};process['on'](_0x1022f7[_0x2c6b54(0x164)],_0x435aa8),process['on'](_0x1022f7[_0x2c6b54(0xe6)],_0x435aa8);}async[a55_0x27de36(0x138)](_0x13301d){const _0x2ca12d=a55_0x27de36,_0x355697={};_0x355697[_0x2ca12d(0x151)]='1|2|0|4|3',_0x355697['pRtzD']=function(_0x3862d7,_0xc2d5e8){return _0x3862d7+_0xc2d5e8;},_0x355697[_0x2ca12d(0x187)]='Shutdown\x20triggered\x20by\x20',_0x355697[_0x2ca12d(0x156)]=function(_0x45e98f,_0x251fff){return _0x45e98f+_0x251fff;},_0x355697['EpHHo']=_0x2ca12d(0x15c);const _0x418503=_0x355697,_0x4e04a6=_0x418503[_0x2ca12d(0x151)]['split']('|');let _0x120e07=0x0;while(!![]){switch(_0x4e04a6[_0x120e07++]){case'0':logger[_0x2ca12d(0x115)](_0x418503[_0x2ca12d(0xf4)](_0x418503[_0x2ca12d(0x187)],_0x13301d));continue;case'1':if(this[_0x418503['kiOEE'](_0x418503[_0x2ca12d(0xe3)],_0x13301d)])return;continue;case'2':this[_0x418503[_0x2ca12d(0xf4)](_0x418503['EpHHo'],_0x13301d)]=!![];continue;case'3':await TestHubHandler['stop'](_0x13301d);continue;case'4':this[_0x2ca12d(0xbe)]=_0x13301d;continue;}break;}}['exitHandler'](){const _0x33fd84=a55_0x27de36,_0x529c4e={'sXPVI':function(_0xa4feb8,_0x38b387){return _0xa4feb8===_0x38b387;},'wTyRt':_0x33fd84(0xda),'tpDAJ':function(_0x101958,_0x482c4c){return _0x101958>_0x482c4c;},'eZblJ':function(_0x219b11){return _0x219b11();},'bVORe':'events.json'};let _0x41980f=0x0;return async()=>{const _0x3f6d4c=_0x33fd84;_0x41980f++;if(_0x529c4e[_0x3f6d4c(0x117)](_0x41980f,0x1)){helper[_0x3f6d4c(0x10e)](this['framework'])&&await this[_0x3f6d4c(0x13f)]();try{logger[_0x3f6d4c(0x13c)](_0x529c4e['wTyRt']),await TestHubHandler['stop'](_0x41980f);}catch(_0xdd3374){logger['debug'](_0x3f6d4c(0x106)+util[_0x3f6d4c(0x101)](_0xdd3374));}PerformanceTester[_0x3f6d4c(0xb3)](PerformanceEvents[_0x3f6d4c(0xcf)]);if(PerformanceTester[_0x3f6d4c(0x16a)]()){const {measures:_0x2869f3,errors:_0x1cb8b5}=await PerformanceTester[_0x3f6d4c(0xd8)](),_0x223c01={};if(_0x2869f3&&_0x529c4e[_0x3f6d4c(0x153)](_0x2869f3[_0x3f6d4c(0x107)],0x0)||_0x1cb8b5&&_0x529c4e['tpDAJ'](_0x1cb8b5[_0x3f6d4c(0x107)],0x0)){const _0x62fe7c={};_0x62fe7c['measures']=_0x2869f3,_0x62fe7c[_0x3f6d4c(0x152)]=_0x1cb8b5,Object[_0x3f6d4c(0x17a)](_0x223c01,_0x62fe7c);}try{const _0x20e414=await helper[_0x3f6d4c(0xec)](_0x223c01,this['config']);logger[_0x3f6d4c(0x13c)](_0x3f6d4c(0xe2)+constants[_0x3f6d4c(0xb8)]+'\x20with\x20response\x20'+_0x20e414[_0x3f6d4c(0xa6)]);}catch(_0x22d19a){logger[_0x3f6d4c(0x13c)](_0x3f6d4c(0xc0)+constants[_0x3f6d4c(0xb8)]+_0x3f6d4c(0xa1)+util[_0x3f6d4c(0x101)](_0x22d19a));}try{fs[_0x3f6d4c(0xbb)](path['join'](_0x529c4e[_0x3f6d4c(0x18d)](getLogDir),_0x529c4e[_0x3f6d4c(0x104)]),JSON[_0x3f6d4c(0x144)](_0x223c01));}catch(_0x44cb8e){logger[_0x3f6d4c(0x13c)]('Error\x20in\x20writing\x20events\x20to\x20file\x20'+_0x44cb8e);}}}};}}exports[a55_0x27de36(0xed)]=BrowserStackSetup;