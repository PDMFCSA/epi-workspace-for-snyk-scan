function a80_0x2d9c(_0x42083f,_0x3de589){const _0x19cae6=a80_0x19ca();return a80_0x2d9c=function(_0x2d9c6b,_0x246970){_0x2d9c6b=_0x2d9c6b-0xbc;let _0x1a985e=_0x19cae6[_0x2d9c6b];return _0x1a985e;},a80_0x2d9c(_0x42083f,_0x3de589);}function a80_0x19ca(){const _0x256e2f=['VZcll','isUndefined','KLfKQ','measures','startPercy','PldOs','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','nlNMC','Percy\x20stopped','INVALID_INIT_RESP_WITH_USER_IMPACT','No\x20config\x20provided.','stopPercy','initialize','checkStopLocalBinaryOnExit','proxyUrl','unhandledErrors','browserstackLocal','\x20with\x20error\x20','EDS_URL','sqjFP','XwtKC','rKzxT','naJgA','turboScaleGridDetails','cancel','skipSessionName','FhjTC','format','sdkRunId','startMonitoring','10ivikcY','stopLocalBinary','UPGRADE_REQUIRED','setupBrowserstackLocal','../../package.json','init','customRepeaters','percy','Error\x20occured\x20while\x20stopping\x20percy','status','Local\x20binary\x20stopped','./setKeepAlive','fireFunnelTestEvent','RdSzc','lyHMK','SYtQd','wdDBD','playwrightUrl','tcgAuthConfig','473hTgjvV','FRAMEWORK','central_scanner','Error\x20occured\x20while\x20stopping\x20local\x20binary','unhandledRejection','finalize','util','SIGINT','7tQlwiw','forceLocal','BROWSERSTACK_PERCY','VWWSH','HZYkp','getTurboScaleGridDetails','BrowserstackHealing.init','selfHeal','framework','AvCuG','env','SIGQUIT','kkihY','5|0|7|12|20|10|15|11|18|19|1|6|13|4|17|8|9|14|16|2|3|21','true','isBrowserstackInfra','setupTcgConfigFile','readConfig','upNgX','AI_INIT_SUCCESSFUL','isHealingEnabled','SIGBREAK','./logger','stZJJ','hIPzb','skipSessionStatus','gsSrw','uediS','veIcR','platform','stop','VdTBd','HmGQh','testContextOptions','getInstance','info','platforms','JUdmb','gPqFO','Shutdown\x20triggered\x20by\x20','setHandlePWError','Local\x20binary\x20started\x20successfully','isTrialGrid','qrtfS','CqmqB','uncaughtException','cqjyD','exceptions','hImhf','getLocalIdentifier','BROWSERSTACK_TURBOSCALE','4|6|2|1|5|3|0|7','turboScaleOptions','stopBrowserstackLocal','envConfig','generateLocalIdentifier','fileLogger','./timeoutPromise','then','zLUpb','RRgQp','intExitHandler','beforeExit','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','yWXYM','../hubAllocationMethods','4.5.0','./testhub/utils','yqLSw','19941672SzrKQv','3202cVkVtr','TDJXv','TCG_URL','kMIAs','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','false','split','poctA','45640gaxgFh','ZneGf','captureError','fyHbi','746AqDZtC','getCentralUser','FHYni','handled','getProxyConfigForTcg','elRyj','HNVAr','Error\x20in\x20percy\x20setup\x20','yZHlI','handleExceptions','Mkank','12093858KteepJ','sMetW','disableAutoCaptureLogs','GXuRK','includes','getPackageVersion','setProxySettings','setupKeepAlive','pAGmR','HOcDZ','../ai-sdk-node/bundle','656622qrqKab','default','writeFileSync','jMbzG','3944416XALLEX','getConfigPath','preInitialize','\x20with\x20response\x20','QhQTg','setupPercy','fJINb','setupTCGAuth','getLocalConfig','SIGHUP','VfdGr','isEnabled','end','isTrue','BbIhN','killSignal','zrFJX','?caps=','winstonLogger','assign','statusCode','compareVersions','yutDE','getUserName','TCG_AUTH_FAILURE','setUpHubUrl','getHubUrl','exitHandler','requireSeleniumWebdriverCheck','localIdentifier','HNKyK','warn','gKFNa','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','AI_INIT_FAILURE','./helper','setCredentialsFromYmlConfig','proxy','Vkroc','DBPYF','bbxDe','Calling\x20Build\x20Stop\x20from\x20ExitHandler','message','debug','geGRt','hubUrl','qfYUj','config','Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','./percy/utils','AUTOLOGCAPTURE_NOTIFICATION','stringify','zYRrJ','toLowerCase','./performance/constants','isAuthenticated','path','browserStackLocalOptions','../bin/utils/constants','igvXw','tcg\x20config\x20setup\x20successful.','setBrowserstackInfraFromConfig','FaCCs','events.json','useW3C','206260icIhSU','length','105NQyeBj','Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.','XXSVP','lEXZM','Percy\x20started\x20successfully','version','turboScaleUrl','userName','custom-repeater','SDK\x20run\x20started\x20with\x20id:\x20','constructor','CtIgk','join','win32','push','cliConfig','isRunning','KIaql','error','selenium-webdriver','TCG_DOWN','SDK_CLEANUP','XuoVR','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','startLocalBinary','skipBinaryInitialisation','proxyConfig','aHZCS','./testhub/testhubHandler','uuid','userName\x20or\x20accessKey\x20is\x20not\x20defined','aLjAF','toString','url'];a80_0x19ca=function(){return _0x256e2f;};return a80_0x19ca();}const a80_0x5251dd=a80_0x2d9c;(function(_0x954ed4,_0x134586){const _0x588946=a80_0x2d9c,_0x1db350=_0x954ed4();while(!![]){try{const _0x173c34=parseInt(_0x588946(0xcc))/0x1*(parseInt(_0x588946(0xd8))/0x2)+parseInt(_0x588946(0x135))/0x3*(parseInt(_0x588946(0xd4))/0x4)+parseInt(_0x588946(0x175))/0x5*(parseInt(_0x588946(0xee))/0x6)+parseInt(_0x588946(0x190))/0x7*(-parseInt(_0x588946(0xf2))/0x8)+-parseInt(_0x588946(0xe3))/0x9+-parseInt(_0x588946(0x133))/0xa*(parseInt(_0x588946(0x188))/0xb)+parseInt(_0x588946(0xcb))/0xc;if(_0x173c34===_0x134586)break;else _0x1db350['push'](_0x1db350['shift']());}catch(_0xd014a){_0x1db350['push'](_0x1db350['shift']());}}}(a80_0x19ca,0xb7434));const util=require(a80_0x5251dd(0x18e)),os=require('os'),path=require(a80_0x5251dd(0x12a)),{v4:uuidv4}=require(a80_0x5251dd(0x152)),fs=require('fs'),constants=require(a80_0x5251dd(0x12c)),{isTurboScaleSession}=require('./ats/helper'),logger=require(a80_0x5251dd(0x1a6))[a80_0x5251dd(0x104)],fileLogger=require(a80_0x5251dd(0x1a6))[a80_0x5251dd(0xbe)],{getLogDir}=require(a80_0x5251dd(0x1a6)),helper=require(a80_0x5251dd(0x115)),utilities=require('./utilities'),percyHelper=require(a80_0x5251dd(0x123)),hubAllocator=require(a80_0x5251dd(0xc7)),PerformanceTester=require('./performance/performance-tester'),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require(a80_0x5251dd(0x128)),{setPercyFlag}=require(a80_0x5251dd(0xc9)),TestHubHandler=require(a80_0x5251dd(0x151)),timeoutPromise=require(a80_0x5251dd(0xbf)),BrowserstackCLI=require('../bin/v2/browserstackCLI');class BrowserStackSetup{constructor(_0x5b080d,_0x268897){const _0x5361e4=a80_0x5251dd,_0x54fc52={'KLfKQ':_0x5361e4(0x19d),'veIcR':_0x5361e4(0x161),'VfdGr':function(_0x2c9421){return _0x2c9421();}},_0x58ebe5=_0x54fc52[_0x5361e4(0x159)][_0x5361e4(0xd2)]('|');let _0x9b8e84=0x0;while(!![]){switch(_0x58ebe5[_0x9b8e84++]){case'0':this['cliConfig']=helper['setCLICaps'](_0x5b080d);continue;case'1':this[_0x5361e4(0x198)]=_0x268897;continue;case'2':helper['setLogDir'](this['config']);continue;case'3':helper['setLogLevel'](this[_0x5361e4(0x121)],this['cliConfig'],this[_0x5361e4(0xbc)]);continue;case'4':if(this['config']['error'])throw new Error(this[_0x5361e4(0x121)][_0x5361e4(0x147)]);continue;case'5':this[_0x5361e4(0x166)]=[];continue;case'6':global[_0x5361e4(0x198)]=_0x268897;continue;case'7':this[_0x5361e4(0xbc)]=helper['setEnvCaps']();continue;case'8':helper[_0x5361e4(0x116)](this[_0x5361e4(0x121)]);continue;case'9':this[_0x5361e4(0x121)][_0x5361e4(0x1b1)]['skipSessionStatus']=!helper[_0x5361e4(0x19f)]()||helper[_0x5361e4(0xff)](this[_0x5361e4(0x121)][_0x5361e4(0x1b1)][_0x5361e4(0x1a9)]);continue;case'10':this[_0x5361e4(0x121)]=helper[_0x5361e4(0x1a1)](helper[_0x5361e4(0xf3)](_0x5b080d));continue;case'11':this[_0x5361e4(0x121)]['testContextOptions']=this[_0x5361e4(0x121)]['testContextOptions']||{};continue;case'12':this['browserstackLocal']=null;continue;case'13':if(helper[_0x5361e4(0x158)](this[_0x5361e4(0x121)]))throw new Error(_0x54fc52[_0x5361e4(0x1ac)]);continue;case'14':this[_0x5361e4(0x121)][_0x5361e4(0x1b1)]['skipSessionName']=!helper[_0x5361e4(0x19f)]()||helper[_0x5361e4(0xff)](this['config'][_0x5361e4(0x1b1)][_0x5361e4(0x170)]);continue;case'15':this[_0x5361e4(0x121)]['platforms']=this['config'][_0x5361e4(0x1b4)]||[];continue;case'16':helper['getFinalCaps'](this['config'],this[_0x5361e4(0x144)],this[_0x5361e4(0xbc)]);continue;case'17':helper[_0x5361e4(0x12f)](this[_0x5361e4(0x121)],this[_0x5361e4(0x144)]);continue;case'18':this['errorMessage']={};continue;case'19':this[_0x5361e4(0x173)]=_0x54fc52[_0x5361e4(0xfc)](uuidv4);continue;case'20':this[_0x5361e4(0x17c)]=null;continue;case'21':PerformanceTester[_0x5361e4(0x174)]();continue;}break;}}[a80_0x5251dd(0xf4)](_0x212009){const _0x335a2e=a80_0x5251dd,_0x238897={'lEXZM':_0x335a2e(0x153),'bbxDe':function(_0x5ccdbc,_0x49551f){return _0x5ccdbc===_0x49551f;},'VZcll':function(_0x156486,_0x5bb6c8){return _0x156486===_0x5bb6c8;},'wdDBD':'integrations','RRgQp':'SDKTestAttempted','yutDE':function(_0x16eb10,_0x60920b){return _0x16eb10<_0x60920b;},'xzmGW':function(_0x13e048,_0x90b0ec){return _0x13e048(_0x90b0ec);},'XXSVP':_0x335a2e(0x148),'TDJXv':function(_0x2f6592,_0x548ec9){return _0x2f6592===_0x548ec9;},'cqjyD':_0x335a2e(0xc8),'XicSO':_0x335a2e(0x14c),'RdSzc':'parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','qfYUj':'SIGTERM','dMfzz':_0x335a2e(0x18f),'CdvvQ':_0x335a2e(0xfb),'uediS':function(_0x8140fd,_0x56703d){return _0x8140fd!==_0x56703d;},'yWXYM':_0x335a2e(0x142),'sMetW':'SIGABRT','gOgBc':_0x335a2e(0x19b),'poctA':_0x335a2e(0x1a5),'upNgX':_0x335a2e(0xc4)},_0x2d8d07=this[_0x335a2e(0x198)];global['config']=this[_0x335a2e(0x121)],helper['sanitizeCaps'](this['config']),this[_0x335a2e(0x101)]=null,global['sdkRunId']=this[_0x335a2e(0x173)],logger[_0x335a2e(0x1b3)](_0x335a2e(0x13e)+this[_0x335a2e(0x173)]),!this[_0x335a2e(0x121)][_0x335a2e(0x12b)]&&(this[_0x335a2e(0x121)]['browserStackLocalOptions']=this['config']['localOptions']||{});if(helper[_0x335a2e(0x158)](helper[_0x335a2e(0x109)](this[_0x335a2e(0x121)]))||helper[_0x335a2e(0x158)](helper['getAccessKey'](this[_0x335a2e(0x121)])))throw new Error(_0x238897[_0x335a2e(0x138)]);helper[_0x335a2e(0xfa)](this[_0x335a2e(0x121)])&&helper[_0x335a2e(0x158)](helper[_0x335a2e(0x1c1)](this['config']))&&(!helper[_0x335a2e(0x158)](this['config']['browserStackLocalOptions'])&&_0x238897[_0x335a2e(0x11a)](this[_0x335a2e(0x121)][_0x335a2e(0x12b)][_0x335a2e(0x13f)],Object)?!helper[_0x335a2e(0xff)](this[_0x335a2e(0x121)][_0x335a2e(0x12b)][_0x335a2e(0x14e)])&&(this[_0x335a2e(0x121)]['browserStackLocalOptions']['localIdentifier']=helper[_0x335a2e(0xbd)]()):this[_0x335a2e(0x121)][_0x335a2e(0x12b)]={'localIdentifier':helper[_0x335a2e(0xbd)]()});this[_0x335a2e(0x121)]['browserStackLocalOptions'][_0x335a2e(0x14e)]=helper[_0x335a2e(0xff)](this[_0x335a2e(0x121)]['browserStackLocalOptions'][_0x335a2e(0x14e)]),helper[_0x335a2e(0x1b8)](this[_0x335a2e(0x121)]);if(_0x238897[_0x335a2e(0x157)](_0x2d8d07,_0x238897[_0x335a2e(0x185)]))return;this[_0x335a2e(0xe1)]();process[_0x335a2e(0x19a)]['BROWSERSTACK_TURBOSCALE']&&(this[_0x335a2e(0x121)]['turboScale']=helper[_0x335a2e(0xff)](process[_0x335a2e(0x19a)][_0x335a2e(0x1c2)]),this[_0x335a2e(0x121)][_0x335a2e(0x1c4)]=this[_0x335a2e(0x121)]['turboScaleOptions']||{});if(!helper[_0x335a2e(0x19f)]()){try{process[_0x335a2e(0x19a)]['FRAMEWORK']=_0x2d8d07,utilities[_0x335a2e(0x181)](_0x238897[_0x335a2e(0xc2)],{},this[_0x335a2e(0x121)],this['framework']);}catch(_0x2445f2){logger['debug'](_0x335a2e(0x113)+_0x2445f2);}return;}helper[_0x335a2e(0x10e)](_0x2d8d07)&&(_0x238897[_0x335a2e(0x108)](_0x238897['xzmGW'](parseInt,helper[_0x335a2e(0xe8)](_0x238897[_0x335a2e(0x137)])),0x3)&&(this['config'][_0x335a2e(0x132)]=![]),_0x238897[_0x335a2e(0xcd)](helper[_0x335a2e(0x107)](helper[_0x335a2e(0xe8)](_0x238897[_0x335a2e(0x137)]),_0x238897[_0x335a2e(0x1be)]),0x1)&&(this[_0x335a2e(0x121)]['useW3C']=!![]));(helper[_0x335a2e(0x158)](this[_0x335a2e(0x121)][_0x335a2e(0x1b4)])||helper[_0x335a2e(0x158)](this[_0x335a2e(0x121)][_0x335a2e(0x1b4)][_0x335a2e(0x134)]))&&(helper[_0x335a2e(0x158)](this[_0x335a2e(0x121)]['parallelsPerPlatform'])?logger['info'](_0x238897['XicSO']):logger[_0x335a2e(0x111)](_0x238897[_0x335a2e(0x182)]),this['config'][_0x335a2e(0x1b4)]=[]);!this[_0x335a2e(0x121)][_0x335a2e(0x1b1)]&&(this[_0x335a2e(0x121)]['testContextOptions']={});try{process[_0x335a2e(0x19a)][_0x335a2e(0x189)]=_0x212009['_'][0x0],utilities[_0x335a2e(0x181)](_0x238897['RRgQp'],{},this['config'],this[_0x335a2e(0x198)]);}catch(_0x1ca6e6){logger[_0x335a2e(0x11d)](_0x335a2e(0x113)+_0x1ca6e6);}!this[_0x335a2e(0x121)][_0x335a2e(0xe5)]&&logger['info'](constants[_0x335a2e(0x124)]),this[_0x335a2e(0xc3)]=this['intExitHandler']['bind'](this),process['on'](_0x238897[_0x335a2e(0x120)],this[_0x335a2e(0xc3)]),process['on'](_0x238897['dMfzz'],this[_0x335a2e(0xc3)]),process['on'](_0x238897['CdvvQ'],this[_0x335a2e(0xc3)]),_0x238897[_0x335a2e(0x1ab)](process[_0x335a2e(0x1ad)],_0x238897[_0x335a2e(0xc6)])?(process['on'](_0x238897[_0x335a2e(0xe4)],this[_0x335a2e(0xc3)]),process['on'](_0x238897['gOgBc'],this['intExitHandler'])):process['on'](_0x238897[_0x335a2e(0xd3)],this[_0x335a2e(0xc3)]),process['on'](_0x238897[_0x335a2e(0x1a2)],this['exitHandler']());}async[a80_0x5251dd(0x163)](_0x2d0dca){const _0x2ab516=a80_0x5251dd,_0x6fcf3b={'AvCuG':function(_0x422ca4,_0x3a3938){return _0x422ca4(_0x3a3938);},'yqLSw':'ats-repeater','hImhf':_0x2ab516(0x13d),'VdTBd':_0x2ab516(0x19e),'kMIAs':function(_0x37f434,_0x132533){return _0x37f434===_0x132533;},'lyHMK':'playwright','geGRt':function(_0x5ab212,_0x189944){return _0x5ab212+_0x189944;},'XuoVR':_0x2ab516(0x103),'aLjAF':function(_0x23a3e9,_0x48bdf4){return _0x23a3e9(_0x48bdf4);},'PdLUO':'codeceptjs'};this['preInitialize'](_0x2d0dca);if(_0x6fcf3b[_0x2ab516(0x199)](isTurboScaleSession,this[_0x2ab516(0x121)])){const _0x167419=await helper[_0x2ab516(0x195)](this['config']);this[_0x2ab516(0x121)][_0x2ab516(0x16e)]=_0x167419,_0x167419[_0x2ab516(0x1ba)]&&helper['isNotUndefined'](this[_0x2ab516(0x121)][_0x2ab516(0x167)])&&helper[_0x2ab516(0xff)](this['config'][_0x2ab516(0x167)])&&(this[_0x2ab516(0x121)][_0x2ab516(0x12b)][_0x2ab516(0x10f)]=_0x6fcf3b[_0x2ab516(0xca)],this[_0x2ab516(0x121)]['browserStackLocalOptions'][_0x6fcf3b[_0x2ab516(0x1c0)]]=_0x167419[_0x2ab516(0x17b)][_0x2ab516(0x141)](','),this['config'][_0x2ab516(0x12b)][_0x2ab516(0x191)]=_0x6fcf3b[_0x2ab516(0x1af)]),this[_0x2ab516(0x121)][_0x2ab516(0x13b)]=_0x167419[_0x2ab516(0x156)],this[_0x2ab516(0x198)]&&_0x6fcf3b[_0x2ab516(0xcf)](this[_0x2ab516(0x198)][_0x2ab516(0x127)](),_0x6fcf3b[_0x2ab516(0x183)])&&(this['config'][_0x2ab516(0x13b)]=_0x6fcf3b[_0x2ab516(0x11e)](_0x167419[_0x2ab516(0x186)],_0x6fcf3b[_0x2ab516(0x14b)])),constants['hubUrl']=helper[_0x2ab516(0x10c)](this['config']),logger[_0x2ab516(0x11d)]('HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20'+constants[_0x2ab516(0x11f)]);}helper[_0x2ab516(0xe9)](this['config']),this[_0x2ab516(0xea)](),_0x6fcf3b[_0x2ab516(0x154)](setPercyFlag,this),await this[_0x2ab516(0x178)](),![_0x6fcf3b['PdLUO'],_0x6fcf3b[_0x2ab516(0x183)]][_0x2ab516(0xe7)](this[_0x2ab516(0x198)])&&!_0x6fcf3b[_0x2ab516(0x199)](isTurboScaleSession,this[_0x2ab516(0x121)])&&!helper[_0x2ab516(0xd9)]()[_0x2ab516(0x18a)]&&await this[_0x2ab516(0x10b)]();}async[a80_0x5251dd(0xf7)](){const _0x5790bf=a80_0x5251dd,_0x4cc80d={};_0x4cc80d[_0x5790bf(0x16b)]=function(_0x53fa1f,_0x4f5645){return _0x53fa1f===_0x4f5645;},_0x4cc80d['kkihY']=_0x5790bf(0xd1),_0x4cc80d[_0x5790bf(0x112)]=_0x5790bf(0x136),_0x4cc80d[_0x5790bf(0x184)]=_0x5790bf(0x139),_0x4cc80d['GWfUe']=_0x5790bf(0x19e),_0x4cc80d[_0x5790bf(0x1b0)]=_0x5790bf(0xc4);const _0x48f646=_0x4cc80d;if(helper['isTrue'](this[_0x5790bf(0x121)][_0x5790bf(0x17c)])&&(!this[_0x5790bf(0x17c)]||!this[_0x5790bf(0x17c)][_0x5790bf(0x145)]()))try{this[_0x5790bf(0x17c)]=await percyHelper[_0x5790bf(0x15b)](this[_0x5790bf(0x121)]);if(!this[_0x5790bf(0x17c)]){process[_0x5790bf(0x19a)][_0x5790bf(0x192)]=_0x48f646[_0x5790bf(0x19c)];throw new Error(_0x48f646['gKFNa']);}logger[_0x5790bf(0x1b3)](_0x48f646[_0x5790bf(0x184)]),process[_0x5790bf(0x19a)]['BROWSERSTACK_PERCY']=_0x48f646['GWfUe'];let _0x1180e3=0x0;const _0x94c319=async()=>{const _0x5dbf00=_0x5790bf;_0x1180e3++,_0x48f646[_0x5dbf00(0x16b)](_0x1180e3,0x1)&&await this[_0x5dbf00(0x162)]();};process['on'](_0x48f646['HmGQh'],_0x94c319);}catch(_0x408320){process[_0x5790bf(0x19a)]['BROWSERSTACK_PERCY']=_0x48f646[_0x5790bf(0x19c)],logger[_0x5790bf(0x11d)](_0x5790bf(0xdf)+_0x408320);throw new Error(_0x408320[_0x5790bf(0x155)]());}}async[a80_0x5251dd(0x162)](){const _0x55eda0=a80_0x5251dd,_0x4e7fc6={};_0x4e7fc6[_0x55eda0(0xec)]=_0x55eda0(0x15f),_0x4e7fc6['ZneGf']=_0x55eda0(0x17d);const _0x4df3b5=_0x4e7fc6;if(this[_0x55eda0(0x17c)]&&this[_0x55eda0(0x17c)][_0x55eda0(0x145)]())try{await percyHelper[_0x55eda0(0x162)](this[_0x55eda0(0x17c)]),logger[_0x55eda0(0x1b3)](_0x4df3b5['HOcDZ']);}catch(_0x1513e8){logger['error'](_0x4df3b5[_0x55eda0(0xd5)],_0x1513e8['message']);}}async[a80_0x5251dd(0x178)](){const _0x47eb10=a80_0x5251dd,_0x3e57a4={};_0x3e57a4['FHYni']='Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled',_0x3e57a4['fJINb']=_0x47eb10(0x1b9);const _0x4dc8ed=_0x3e57a4;if(helper[_0x47eb10(0x19f)]()&&helper[_0x47eb10(0xff)](this[_0x47eb10(0x121)][_0x47eb10(0x167)])&&(!this[_0x47eb10(0x167)]||!this[_0x47eb10(0x167)]['isRunning']()))try{if(this[_0x47eb10(0x121)][_0x47eb10(0x12b)][_0x47eb10(0x14e)]){logger['debug'](_0x4dc8ed[_0x47eb10(0xda)]);return;}this['browserstackLocal']=await helper[_0x47eb10(0x14d)](this[_0x47eb10(0x121)]),logger['info'](_0x4dc8ed[_0x47eb10(0xf8)]);}catch(_0x6104c6){logger[_0x47eb10(0x11d)](_0x6104c6);throw new Error(_0x6104c6['toString']());}}async[a80_0x5251dd(0x1c5)](){const _0x33df60=a80_0x5251dd,_0x11b14f={};_0x11b14f[_0x33df60(0x146)]=_0x33df60(0x17f),_0x11b14f[_0x33df60(0xdd)]=_0x33df60(0x18b);const _0x256204=_0x11b14f;if(this[_0x33df60(0x167)]&&this[_0x33df60(0x167)]['isRunning']())try{await helper[_0x33df60(0x176)](this[_0x33df60(0x167)]),logger[_0x33df60(0x1b3)](_0x256204[_0x33df60(0x146)]);}catch(_0x370ec8){logger[_0x33df60(0x147)](_0x256204[_0x33df60(0xdd)],_0x370ec8[_0x33df60(0x11c)]);}}async[a80_0x5251dd(0x10b)](){return PerformanceTester['measureWrapper'](PerformanceAutEvents['HUB_MANAGEMENT'],async()=>{const _0x87b7c6=a80_0x2d9c;await hubAllocator['allocateHub'](this[_0x87b7c6(0x121)]);})();}async[a80_0x5251dd(0xf9)](){const _0xb590d3=a80_0x5251dd,_0x222fee={'qrtfS':function(_0xeab220,_0x287d96){return _0xeab220(_0x287d96);},'jMbzG':_0xb590d3(0xed),'hwghG':function(_0x4937d4,_0x3c735b,_0x2f9c47,_0x1df1c3,_0x3d0673,_0x53c03e,_0x2eb07e){return _0x4937d4(_0x3c735b,_0x2f9c47,_0x1df1c3,_0x3d0673,_0x53c03e,_0x2eb07e);},'zrFJX':'BrowserstackHealing.init\x20method\x20timed\x20out','kqzKO':'BrowserstackHealingInitFailed','fyHbi':function(_0x242c71,_0x3da78f){return _0x242c71(_0x3da78f);},'VWWSH':_0xb590d3(0x179),'FhjTC':_0xb590d3(0x196),'naJgA':function(_0x5d7aa0,_0xae893a){return _0x5d7aa0===_0xae893a;},'pAGmR':'true','BbIhN':function(_0x25fd14,_0x142864){return _0x25fd14===_0x142864;},'gPqFO':function(_0x342e89,_0x1ac5eb){return _0x342e89===_0x1ac5eb;},'aHZCS':function(_0x47321e,_0x88e617){return _0x47321e===_0x88e617;},'igvXw':function(_0x25f7e2,_0xc95cfe){return _0x25f7e2===_0xc95cfe;},'GXuRK':_0xb590d3(0xc5),'Vkroc':function(_0x3f5062,_0xc9ae43){return _0x3f5062===_0xc9ae43;},'zLUpb':_0xb590d3(0x15d),'HNKyK':'Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','HNVAr':function(_0x273c65,_0x268b57){return _0x273c65(_0x268b57);},'JUdmb':_0xb590d3(0x122),'PldOs':function(_0x2477bd,_0x3bb5c1){return _0x2477bd>=_0x3bb5c1;},'udRki':function(_0x80154d,_0x35b7cf){return _0x80154d<_0x35b7cf;},'hIPzb':_0xb590d3(0x12e),'WMVgg':'aiHeal:tcgAuth','YJuaV':function(_0x539b9f){return _0x539b9f();}},_0x3a767d=PerformanceTester['measureWrapper'](_0x222fee['WMVgg'],async()=>{const _0x17e54b=_0xb590d3;try{const _0x2b1a6b=new Date(),_0x2f2921=helper[_0x17e54b(0xdc)](this[_0x17e54b(0x121)]),_0x3b8154=_0x222fee[_0x17e54b(0x1bb)](require,path[_0x17e54b(0x141)](__dirname,_0x222fee[_0x17e54b(0xf1)])),_0x4c9b47=_0x222fee['hwghG'](timeoutPromise,constants['TCG_AUTH_TIMEOUT'],_0x222fee[_0x17e54b(0x102)],_0x222fee['kqzKO'],_0x2b1a6b,this[_0x17e54b(0x121)],this[_0x17e54b(0x198)]),_0xb37423={'tcgUrl':constants['TCG_URL'],'sdkVersion':_0x222fee[_0x17e54b(0xd7)](require,_0x222fee['VWWSH'])[_0x17e54b(0x13a)],'methodUsed':_0x222fee[_0x17e54b(0x171)],'proxyConfig':_0x2f2921,'os':os['platform']()};if(_0x2f2921&&_0x2f2921[_0x17e54b(0x165)]){utilities[_0x17e54b(0x181)](constants['AI_PROXY_FAILURE'],_0xb37423,this['config'],this['framework']);return;}const _0x262271={};_0x262271[_0x17e54b(0x117)]=_0x2f2921;const _0x41f53d=await Promise['race']([_0x3b8154[_0x17e54b(0x17a)](this[_0x17e54b(0x121)]['accessKey'],this[_0x17e54b(0x121)][_0x17e54b(0x13c)],constants[_0x17e54b(0xce)],_0x222fee[_0x17e54b(0xd7)](require,_0x222fee['VWWSH'])[_0x17e54b(0x13a)],_0x262271)[_0x17e54b(0xc0)](_0x30d59d=>{const _0x28d258=_0x17e54b;return _0x4c9b47[_0x28d258(0x16f)](),_0x30d59d;}),_0x4c9b47]);_0x41f53d['isHealingEnabled']=_0x222fee[_0x17e54b(0x16d)](_0x41f53d['isHealingEnabled'],_0x222fee['pAGmR'])||_0x222fee[_0x17e54b(0x100)](_0x41f53d[_0x17e54b(0x1a4)],!![]);const _0x38acc8=_0x222fee[_0x17e54b(0x1b6)](this[_0x17e54b(0x121)]['selfHeal'],!![])||_0x222fee[_0x17e54b(0x150)](this[_0x17e54b(0x121)][_0x17e54b(0x197)],_0x222fee[_0x17e54b(0xeb)]);if(_0x222fee[_0x17e54b(0x12d)](_0x41f53d[_0x17e54b(0x11c)],constants[_0x17e54b(0x177)])&&_0x38acc8)logger[_0x17e54b(0x1b3)](_0x222fee[_0x17e54b(0xe6)]);else{if(!_0x41f53d[_0x17e54b(0x129)]&&_0x222fee[_0x17e54b(0x118)](_0x41f53d[_0x17e54b(0x17e)],0x1f7)&&_0x38acc8)logger[_0x17e54b(0x1b3)](_0x222fee[_0x17e54b(0xc1)]),utilities[_0x17e54b(0x181)](constants[_0x17e54b(0x149)],_0xb37423,this[_0x17e54b(0x121)],this['framework']);else{if(!_0x41f53d[_0x17e54b(0x129)]&&_0x38acc8){logger[_0x17e54b(0x1b3)](_0x222fee[_0x17e54b(0x110)]);const _0x4ef786={'tcgUrl':constants[_0x17e54b(0xce)],'sdkVersion':_0x222fee[_0x17e54b(0xde)](require,_0x222fee[_0x17e54b(0x193)])[_0x17e54b(0x13a)],'methodUsed':_0x222fee['FhjTC'],'proxyConfig':_0x2f2921,'os':os[_0x17e54b(0x1ad)]()};utilities[_0x17e54b(0x181)](constants[_0x17e54b(0x10a)],_0x4ef786,this[_0x17e54b(0x121)],this[_0x17e54b(0x198)]);}else{if(_0x41f53d['isAuthenticated']&&!_0x41f53d[_0x17e54b(0x1a4)]&&_0x38acc8)logger['info'](_0x222fee[_0x17e54b(0x1b5)]);else{if(_0x222fee['PldOs'](_0x41f53d[_0x17e54b(0x17e)],0xc8)&&_0x222fee['udRki'](_0x41f53d['status'],0x12c))utilities[_0x17e54b(0x181)](constants[_0x17e54b(0x1a3)],_0xb37423,this[_0x17e54b(0x121)],this[_0x17e54b(0x198)]);else{if(_0x222fee[_0x17e54b(0x15c)](_0x41f53d[_0x17e54b(0x17e)],0x190))_0xb37423[_0x17e54b(0x17e)]=_0x41f53d[_0x17e54b(0x17e)],utilities['fireFunnelTestEvent'](constants[_0x17e54b(0x114)],_0xb37423,this[_0x17e54b(0x121)],this[_0x17e54b(0x198)]);else!_0x41f53d[_0x17e54b(0x17e)]&&utilities[_0x17e54b(0x181)](constants[_0x17e54b(0x160)],_0xb37423,this[_0x17e54b(0x121)],this[_0x17e54b(0x198)]);}}}}}if(_0x41f53d['isAuthenticated']&&_0x41f53d['isHealingEnabled']){const _0x1e93f6={};_0x1e93f6[_0x17e54b(0x187)]=_0x41f53d;const _0x184a06=_0x1e93f6;_0x2f2921&&(_0x184a06[_0x17e54b(0x14f)]=_0x2f2921),_0x184a06[_0x17e54b(0x198)]=this['framework'],_0x184a06['bstackConfig']=this[_0x17e54b(0x121)],helper[_0x17e54b(0x1a0)](_0x184a06),logger[_0x17e54b(0x11d)](_0x222fee[_0x17e54b(0x1a8)]);}}catch(_0x16617e){logger[_0x17e54b(0x11d)](_0x17e54b(0xd0)+(_0x16617e[_0x17e54b(0x11c)]?_0x16617e['message']:''));}});await _0x222fee['YJuaV'](_0x3a767d);}[a80_0x5251dd(0xea)](){const _0x5f2c1a=a80_0x5251dd,_0x16b365={'stZJJ':function(_0x318a8a,_0x4b26fa){return _0x318a8a(_0x4b26fa);},'rKzxT':_0x5f2c1a(0x180)};_0x16b365[_0x5f2c1a(0x1a7)](require,_0x16b365[_0x5f2c1a(0x16c)])();}[a80_0x5251dd(0xe1)](){const _0x89ed15=a80_0x5251dd,_0x56f567={};_0x56f567['FaCCs']=_0x89ed15(0x18c),_0x56f567[_0x89ed15(0x1bc)]=_0x89ed15(0x1bd);const _0x5996cb=_0x56f567,_0x2df777=_0x45eb42=>{const _0x2252b2=_0x89ed15;logger[_0x2252b2(0x147)](_0x45eb42[_0x2252b2(0x11c)]),logger[_0x2252b2(0x11d)](util['format'](_0x45eb42)),this[_0x2252b2(0x166)][_0x2252b2(0x143)](util[_0x2252b2(0x172)]('%j',_0x45eb42)),PerformanceTester[_0x2252b2(0xd6)](_0x45eb42);};process['on'](_0x5996cb[_0x89ed15(0x130)],_0x2df777),process['on'](_0x5996cb['CqmqB'],_0x2df777);}async[a80_0x5251dd(0xc3)](_0x149cc8){const _0x167882=a80_0x5251dd,_0x1af0e3={};_0x1af0e3[_0x167882(0xe2)]=_0x167882(0x1c3),_0x1af0e3[_0x167882(0x15e)]=function(_0x57cf70,_0x36e039){return _0x57cf70+_0x36e039;},_0x1af0e3[_0x167882(0x140)]=_0x167882(0xdb),_0x1af0e3['DBPYF']=function(_0x2c3cd2,_0x2ef4fe){return _0x2c3cd2+_0x2ef4fe;},_0x1af0e3[_0x167882(0x16a)]=function(_0x48de78,_0x2747f8){return _0x48de78+_0x2747f8;},_0x1af0e3[_0x167882(0x1aa)]=_0x167882(0x1b7);const _0x5a77e6=_0x1af0e3,_0x3fa0e7=_0x5a77e6[_0x167882(0xe2)][_0x167882(0xd2)]('|');let _0x44e2d5=0x0;while(!![]){switch(_0x3fa0e7[_0x44e2d5++]){case'0':await BrowserstackCLI['getInstance']()[_0x167882(0x1ae)]();continue;case'1':this[_0x5a77e6['nlNMC'](_0x5a77e6['CtIgk'],_0x149cc8)]=!![];continue;case'2':if(this[_0x5a77e6[_0x167882(0x119)](_0x5a77e6[_0x167882(0x140)],_0x149cc8)])return;continue;case'3':this[_0x167882(0x101)]=_0x149cc8;continue;case'4':logger&&logger['close']();continue;case'5':logger[_0x167882(0x1b3)](_0x5a77e6[_0x167882(0x16a)](_0x5a77e6[_0x167882(0x1aa)],_0x149cc8));continue;case'6':fileLogger&&fileLogger['close']();continue;case'7':await TestHubHandler['stop'](_0x149cc8);continue;}break;}}[a80_0x5251dd(0x10d)](){const _0x5e36b6=a80_0x5251dd,_0x29039c={'ymmpp':function(_0x5ec851,_0x5eae88){return _0x5ec851===_0x5eae88;},'HZYkp':_0x5e36b6(0x11b),'yZHlI':function(_0x35b30d,_0x362ee7){return _0x35b30d>_0x362ee7;},'zYRrJ':function(_0x132775){return _0x132775();},'QhQTg':_0x5e36b6(0x131)};let _0x3bd7ee=0x0;return async()=>{const _0x559836=_0x5e36b6;_0x3bd7ee++;if(_0x29039c['ymmpp'](_0x3bd7ee,0x1)){helper[_0x559836(0x164)](this[_0x559836(0x198)])&&await this['stopBrowserstackLocal']();try{logger[_0x559836(0x11d)](_0x29039c[_0x559836(0x194)]),await BrowserstackCLI[_0x559836(0x1b2)]()[_0x559836(0x1ae)]('1'),await TestHubHandler[_0x559836(0x1ae)](_0x3bd7ee);}catch(_0x421ec6){logger[_0x559836(0x11d)]('Error\x20in\x20sending\x20testhub\x20stop:\x20'+util[_0x559836(0x172)](_0x421ec6));}PerformanceTester[_0x559836(0xfe)](PerformanceEvents[_0x559836(0x14a)]);if(PerformanceTester[_0x559836(0xfd)]()){const {measures:_0x3ff69a,errors:_0x11e070}=await PerformanceTester[_0x559836(0x18d)](),_0x315ad0={};if(_0x3ff69a&&_0x29039c[_0x559836(0xe0)](_0x3ff69a[_0x559836(0x134)],0x0)||_0x11e070&&_0x29039c[_0x559836(0xe0)](_0x11e070[_0x559836(0x134)],0x0)){const _0x4fb16c={};_0x4fb16c[_0x559836(0x15a)]=_0x3ff69a,_0x4fb16c[_0x559836(0x1bf)]=_0x11e070,Object[_0x559836(0x105)](_0x315ad0,_0x4fb16c);}try{const _0xa36264=await helper['sendToEDS'](_0x315ad0,this[_0x559836(0x121)]);logger[_0x559836(0x11d)]('Data\x20sent\x20successfully\x20to\x20'+constants[_0x559836(0x169)]+_0x559836(0xf5)+_0xa36264[_0x559836(0x106)]);}catch(_0x3567d0){logger[_0x559836(0x11d)]('Failed\x20to\x20send\x20data\x20to\x20'+constants[_0x559836(0x169)]+_0x559836(0x168)+util[_0x559836(0x172)](_0x3567d0));}try{fs[_0x559836(0xf0)](path['join'](_0x29039c[_0x559836(0x126)](getLogDir),_0x29039c[_0x559836(0xf6)]),JSON[_0x559836(0x125)](_0x315ad0));}catch(_0x14537c){logger[_0x559836(0x11d)]('Error\x20in\x20writing\x20events\x20to\x20file\x20'+_0x14537c);}}}};}}exports[a80_0x5251dd(0xef)]=BrowserStackSetup;