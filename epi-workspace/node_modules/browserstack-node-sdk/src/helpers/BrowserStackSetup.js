const a55_0x4a2169=a55_0x4d0f;function a55_0x4d0f(_0x463f9b,_0x2ee79a){const _0x5addf1=a55_0x5add();return a55_0x4d0f=function(_0x4d0f2c,_0xddd9c9){_0x4d0f2c=_0x4d0f2c-0x74;let _0x324ca4=_0x5addf1[_0x4d0f2c];return _0x324ca4;},a55_0x4d0f(_0x463f9b,_0x2ee79a);}(function(_0x2410f5,_0xc76fd2){const _0x51c021=a55_0x4d0f,_0x11d832=_0x2410f5();while(!![]){try{const _0x192a21=-parseInt(_0x51c021(0x13b))/0x1*(-parseInt(_0x51c021(0x109))/0x2)+-parseInt(_0x51c021(0xc8))/0x3*(-parseInt(_0x51c021(0xbb))/0x4)+-parseInt(_0x51c021(0x8c))/0x5*(parseInt(_0x51c021(0x15a))/0x6)+parseInt(_0x51c021(0xea))/0x7*(parseInt(_0x51c021(0x147))/0x8)+-parseInt(_0x51c021(0xc7))/0x9+-parseInt(_0x51c021(0xc5))/0xa+-parseInt(_0x51c021(0xfa))/0xb*(-parseInt(_0x51c021(0x111))/0xc);if(_0x192a21===_0xc76fd2)break;else _0x11d832['push'](_0x11d832['shift']());}catch(_0x5330a1){_0x11d832['push'](_0x11d832['shift']());}}}(a55_0x5add,0x8898e));const util=require('util'),os=require('os'),path=require(a55_0x4a2169(0xf1)),{v4:uuidv4}=require(a55_0x4a2169(0xa8)),fs=require('fs'),constants=require(a55_0x4a2169(0xdc)),{isTurboScaleSession}=require(a55_0x4a2169(0x8a)),logger=require(a55_0x4a2169(0x91))[a55_0x4a2169(0x8d)],helper=require(a55_0x4a2169(0x162)),utilities=require(a55_0x4a2169(0xf5)),percyHelper=require(a55_0x4a2169(0x101)),hubAllocator=require('../hubAllocationMethods'),PerformanceTester=require(a55_0x4a2169(0x122)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require('./performance/constants'),{setPercyFlag}=require(a55_0x4a2169(0xb7)),TestHubHandler=require(a55_0x4a2169(0xfc)),timeoutPromise=require(a55_0x4a2169(0x116));class BrowserStackSetup{constructor(_0x117de2,_0x5b1820){const _0x3175dd=a55_0x4a2169,_0x46385e={'SveGA':_0x3175dd(0x150),'fwtQu':_0x3175dd(0x129),'xFjky':_0x3175dd(0x11a),'eCiVw':function(_0x418a19,_0x273335){return _0x418a19===_0x273335;},'XQbaj':_0x3175dd(0xe5),'LyOaO':_0x3175dd(0xf9),'MJtyR':function(_0x62567c,_0x4f96a0){return _0x62567c<_0x4f96a0;},'qFBtY':function(_0x3d0272,_0x308c6d){return _0x3d0272(_0x308c6d);},'uRQLY':_0x3175dd(0x93),'xVuFZ':function(_0xbbe401,_0x2f28fa){return _0xbbe401===_0x2f28fa;},'GDBRn':_0x3175dd(0x7d),'CPXPw':'userName\x20or\x20accessKey\x20is\x20not\x20defined','xugKP':_0x3175dd(0x103),'RpbmR':function(_0x181a35,_0x42f6e0){return _0x181a35!==_0x42f6e0;},'Qenwb':_0x3175dd(0x77),'DNqpE':_0x3175dd(0x12f),'cTcSM':_0x3175dd(0xaa),'dVFHx':_0x3175dd(0x148),'QOMvr':function(_0x461a95,_0x217416){return _0x461a95===_0x217416;},'IVEno':'integrations','iwqtV':function(_0x51e21d){return _0x51e21d();},'AwWtR':_0x3175dd(0xd2),'KVXhE':_0x3175dd(0xb6),'bOgcf':_0x3175dd(0x166)},_0x4d7d14=_0x46385e[_0x3175dd(0x15e)][_0x3175dd(0x9b)]('|');let _0x157b03=0x0;while(!![]){switch(_0x4d7d14[_0x157b03++]){case'0':helper[_0x3175dd(0x100)](this['config'],this[_0x3175dd(0x118)],this['envConfig']);continue;case'1':this[_0x3175dd(0xb0)][_0x3175dd(0x92)][_0x3175dd(0x75)]=!helper[_0x3175dd(0x161)]()||helper['isTrue'](this[_0x3175dd(0xb0)][_0x3175dd(0x92)][_0x3175dd(0x75)]);continue;case'2':this[_0x3175dd(0x156)]=_0x5b1820;continue;case'3':global[_0x3175dd(0x156)]=_0x5b1820;continue;case'4':global[_0x3175dd(0x14a)]=this['sdkRunID'];continue;case'5':(helper[_0x3175dd(0x9c)](this[_0x3175dd(0xb0)][_0x3175dd(0x10d)])||helper['isUndefined'](this[_0x3175dd(0xb0)][_0x3175dd(0x10d)][_0x3175dd(0x95)]))&&(helper[_0x3175dd(0x9c)](this[_0x3175dd(0xb0)][_0x3175dd(0x7c)])?logger[_0x3175dd(0x15b)](_0x46385e['fwtQu']):logger[_0x3175dd(0x140)](_0x46385e[_0x3175dd(0xc2)]),this[_0x3175dd(0xb0)][_0x3175dd(0x10d)]=[]);continue;case'6':helper[_0x3175dd(0x11f)](this[_0x3175dd(0xb0)])&&helper[_0x3175dd(0x9c)](helper[_0x3175dd(0x117)](this[_0x3175dd(0xb0)]))&&(!helper[_0x3175dd(0x9c)](this[_0x3175dd(0xb0)][_0x3175dd(0x89)])&&_0x46385e[_0x3175dd(0xc0)](this[_0x3175dd(0xb0)]['browserStackLocalOptions'][_0x3175dd(0x110)],Object)?!helper['isTrue'](this[_0x3175dd(0xb0)][_0x3175dd(0x89)]['skipBinaryInitialisation'])&&(this[_0x3175dd(0xb0)][_0x3175dd(0x89)][_0x3175dd(0x14c)]=helper['generateLocalIdentifier']()):this[_0x3175dd(0xb0)]['browserStackLocalOptions']={'localIdentifier':helper[_0x3175dd(0x8b)]()});continue;case'7':global[_0x3175dd(0xb0)]=this['config'];continue;case'8':logger[_0x3175dd(0x15b)](_0x3175dd(0x7e)+this[_0x3175dd(0x14a)]);continue;case'9':helper[_0x3175dd(0x96)](this[_0x3175dd(0xb0)]);continue;case'10':helper['sanitizeCaps'](this['config']);continue;case'11':this[_0x3175dd(0xdb)]=helper[_0x3175dd(0x12d)]();continue;case'12':this[_0x3175dd(0xb0)][_0x3175dd(0x89)][_0x3175dd(0x159)]=helper[_0x3175dd(0x124)](this[_0x3175dd(0xb0)][_0x3175dd(0x89)][_0x3175dd(0x159)]);continue;case'13':this[_0x3175dd(0xb0)][_0x3175dd(0x92)][_0x3175dd(0x10f)]=!helper[_0x3175dd(0x161)]()||helper['isTrue'](this[_0x3175dd(0xb0)][_0x3175dd(0x92)]['skipSessionStatus']);continue;case'14':this['errorMessage']={};continue;case'15':process[_0x3175dd(0xe8)][_0x3175dd(0x107)]&&(this[_0x3175dd(0xb0)][_0x3175dd(0xd8)]=helper[_0x3175dd(0x124)](process[_0x3175dd(0xe8)][_0x3175dd(0x107)]),this[_0x3175dd(0xb0)]['turboScaleOptions']=this['config'][_0x3175dd(0x106)]||{});continue;case'16':helper[_0x3175dd(0xac)](this[_0x3175dd(0xb0)],this[_0x3175dd(0x118)]);continue;case'17':if(this[_0x3175dd(0xb0)][_0x3175dd(0xc4)])throw new Error(this[_0x3175dd(0xb0)][_0x3175dd(0xc4)]);continue;case'18':this['config']=helper[_0x3175dd(0x85)](helper[_0x3175dd(0x9a)](_0x117de2));continue;case'19':process['on'](_0x46385e[_0x3175dd(0x134)],this[_0x3175dd(0xb1)]);continue;case'20':this['handleExceptions']();continue;case'21':try{process['env']['FRAMEWORK']=_0x117de2['_'][0x0],utilities[_0x3175dd(0xb4)](_0x46385e[_0x3175dd(0x125)],{},this[_0x3175dd(0xb0)],this[_0x3175dd(0x156)]);}catch(_0xacba06){logger[_0x3175dd(0x138)](_0x3175dd(0xa1)+_0xacba06);}continue;case'22':!this['config']['testContextOptions']&&(this['config'][_0x3175dd(0x92)]={});continue;case'23':helper['requireSeleniumWebdriverCheck'](_0x5b1820)&&(_0x46385e[_0x3175dd(0xe1)](_0x46385e['qFBtY'](parseInt,helper[_0x3175dd(0xad)](_0x46385e[_0x3175dd(0x149)])),0x3)&&(this[_0x3175dd(0xb0)]['useW3C']=![]),_0x46385e[_0x3175dd(0xf8)](helper[_0x3175dd(0xcb)](helper['getPackageVersion'](_0x46385e['uRQLY']),_0x46385e[_0x3175dd(0xcc)]),0x1)&&(this['config']['useW3C']=!![]));continue;case'24':this[_0x3175dd(0x11e)]=null;continue;case'25':this[_0x3175dd(0x165)]=[];continue;case'26':this[_0x3175dd(0x105)]=null;continue;case'27':if(helper[_0x3175dd(0x9c)](helper[_0x3175dd(0x139)](this['config']))||helper[_0x3175dd(0x9c)](helper[_0x3175dd(0xb2)](this['config'])))throw new Error(_0x46385e[_0x3175dd(0x14d)]);continue;case'28':process['on'](_0x46385e['xugKP'],this[_0x3175dd(0xb1)]);continue;case'29':_0x46385e[_0x3175dd(0x113)](process[_0x3175dd(0xe4)],_0x46385e[_0x3175dd(0x11d)])?(process['on'](_0x46385e[_0x3175dd(0x152)],this[_0x3175dd(0xb1)]),process['on'](_0x46385e[_0x3175dd(0x119)],this[_0x3175dd(0xb1)])):process['on'](_0x46385e[_0x3175dd(0x90)],this[_0x3175dd(0xb1)]);continue;case'30':this[_0x3175dd(0xb0)][_0x3175dd(0x92)]=this[_0x3175dd(0xb0)][_0x3175dd(0x92)]||{};continue;case'31':!this[_0x3175dd(0xb0)][_0x3175dd(0x89)]&&(this[_0x3175dd(0xb0)]['browserStackLocalOptions']=this[_0x3175dd(0xb0)][_0x3175dd(0x137)]||{});continue;case'32':if(_0x46385e[_0x3175dd(0x80)](_0x5b1820,_0x46385e[_0x3175dd(0xfb)]))return;continue;case'33':this[_0x3175dd(0x14a)]=_0x46385e[_0x3175dd(0x98)](uuidv4);continue;case'34':this[_0x3175dd(0xb0)][_0x3175dd(0x10d)]=this[_0x3175dd(0xb0)][_0x3175dd(0x10d)]||[];continue;case'35':this[_0x3175dd(0xb1)]=this[_0x3175dd(0xb1)][_0x3175dd(0xd7)](this);continue;case'36':this[_0x3175dd(0x118)]=helper['setCLICaps'](_0x117de2);continue;case'37':if(helper[_0x3175dd(0x9c)](this[_0x3175dd(0xb0)]))throw new Error(_0x46385e['AwWtR']);continue;case'38':helper['setLogLevel'](this[_0x3175dd(0xb0)],this['cliConfig'],this[_0x3175dd(0xdb)]);continue;case'39':process['on'](_0x46385e[_0x3175dd(0x74)],this[_0x3175dd(0xb1)]);continue;case'40':if(!helper[_0x3175dd(0x161)]()){try{process[_0x3175dd(0xe8)][_0x3175dd(0x158)]=_0x5b1820,utilities[_0x3175dd(0xb4)](_0x46385e[_0x3175dd(0x125)],{},this['config'],this[_0x3175dd(0x156)]);}catch(_0x1378ff){logger[_0x3175dd(0x138)](_0x3175dd(0xa1)+_0x1378ff);}return;}continue;case'41':this['browserstackLocal']=null;continue;case'42':!this['config'][_0x3175dd(0xfe)]&&logger[_0x3175dd(0x15b)](constants['AUTOLOGCAPTURE_NOTIFICATION']);continue;case'43':process['on'](_0x46385e['bOgcf'],this[_0x3175dd(0xae)]());continue;}break;}}async['initialize'](){const _0x43295f=a55_0x4a2169,_0x433efd={'bfkwA':function(_0x154aad,_0x4a6470){return _0x154aad(_0x4a6470);},'BssaJ':'ats-repeater','nHnYR':_0x43295f(0x155),'Fazwc':_0x43295f(0x78),'PEcat':function(_0x18162e,_0xf8dced){return _0x18162e===_0xf8dced;},'OtQnL':'playwright','XnedT':function(_0x36e13a,_0x50c18c){return _0x36e13a+_0x50c18c;},'metQR':_0x43295f(0x168),'OFXDr':function(_0xe7baff,_0x2eb2e8){return _0xe7baff(_0x2eb2e8);},'EdLJd':'codeceptjs'};if(_0x433efd[_0x43295f(0xa4)](isTurboScaleSession,this['config'])){const _0x623503=await helper[_0x43295f(0xf6)](this['config']);this[_0x43295f(0xb0)][_0x43295f(0x82)]=_0x623503,_0x623503['isTrialGrid']&&(this['config'][_0x43295f(0x8e)]=!![],this[_0x43295f(0xb0)][_0x43295f(0x89)][_0x43295f(0x14c)]=_0x433efd[_0x43295f(0x97)],this[_0x43295f(0xb0)][_0x43295f(0x89)][_0x433efd['nHnYR']]=_0x623503[_0x43295f(0x10b)][_0x43295f(0x104)](','),this[_0x43295f(0xb0)][_0x43295f(0x89)]['forceLocal']=_0x433efd[_0x43295f(0x12b)]),this[_0x43295f(0xb0)]['turboScaleUrl']=_0x623503[_0x43295f(0xd0)],this[_0x43295f(0x156)]&&_0x433efd[_0x43295f(0x86)](this['framework'][_0x43295f(0x9e)](),_0x433efd[_0x43295f(0x164)])&&(this[_0x43295f(0xb0)][_0x43295f(0x112)]=_0x433efd[_0x43295f(0x133)](_0x623503[_0x43295f(0x153)],_0x433efd['metQR'])),constants[_0x43295f(0xce)]=helper['getHubUrl'](this['config']),logger['debug']('HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20'+constants['hubUrl']);}helper['setProxySettings'](this[_0x43295f(0xb0)]),this[_0x43295f(0xb9)](),_0x433efd[_0x43295f(0xe7)](setPercyFlag,this),await this[_0x43295f(0xc6)](),![_0x433efd['EdLJd']][_0x43295f(0x123)](this[_0x43295f(0x156)])&&!_0x433efd['OFXDr'](isTurboScaleSession,this[_0x43295f(0xb0)])&&!process[_0x43295f(0xe8)][_0x43295f(0xb5)]&&await this['setUpHubUrl']();}async[a55_0x4a2169(0x12e)](){const _0x575e35=a55_0x4a2169,_0x486d61={};_0x486d61[_0x575e35(0x7f)]=function(_0x4e6451,_0x1b95e2){return _0x4e6451===_0x1b95e2;},_0x486d61[_0x575e35(0xab)]='false',_0x486d61[_0x575e35(0x14b)]='Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.',_0x486d61[_0x575e35(0x143)]='Percy\x20started\x20successfully',_0x486d61[_0x575e35(0xee)]='true',_0x486d61[_0x575e35(0xba)]=_0x575e35(0x166);const _0x29ee4e=_0x486d61;if(helper[_0x575e35(0x124)](this[_0x575e35(0xb0)][_0x575e35(0x105)])&&(!this['percy']||!this[_0x575e35(0x105)][_0x575e35(0x11b)]()))try{this[_0x575e35(0x105)]=await percyHelper[_0x575e35(0xe2)](this[_0x575e35(0xb0)]);if(!this[_0x575e35(0x105)]){process[_0x575e35(0xe8)][_0x575e35(0x13f)]=_0x29ee4e[_0x575e35(0xab)];throw new Error(_0x29ee4e['tANtN']);}logger[_0x575e35(0x15b)](_0x29ee4e['WChMV']),process[_0x575e35(0xe8)][_0x575e35(0x13f)]=_0x29ee4e[_0x575e35(0xee)];let _0x45ccd4=0x0;const _0x2b3212=async()=>{const _0x438638=_0x575e35;_0x45ccd4++,_0x29ee4e[_0x438638(0x7f)](_0x45ccd4,0x1)&&await this[_0x438638(0x10c)]();};process['on'](_0x29ee4e[_0x575e35(0xba)],_0x2b3212);}catch(_0x457144){process[_0x575e35(0xe8)][_0x575e35(0x13f)]=_0x29ee4e[_0x575e35(0xab)],logger['debug'](_0x575e35(0x163)+_0x457144);throw new Error(_0x457144[_0x575e35(0x157)]());}}async['stopPercy'](){const _0x98ff5c=a55_0x4a2169,_0x493ea1={};_0x493ea1[_0x98ff5c(0xf7)]=_0x98ff5c(0xc9),_0x493ea1[_0x98ff5c(0x145)]=_0x98ff5c(0x108);const _0x2d8ebf=_0x493ea1;if(this[_0x98ff5c(0x105)]&&this[_0x98ff5c(0x105)][_0x98ff5c(0x11b)]())try{await percyHelper[_0x98ff5c(0x10c)](this['percy']),logger[_0x98ff5c(0x15b)](_0x2d8ebf[_0x98ff5c(0xf7)]);}catch(_0x548a15){logger[_0x98ff5c(0xc4)](_0x2d8ebf[_0x98ff5c(0x145)],_0x548a15['message']);}}async[a55_0x4a2169(0xc6)](){const _0x575683=a55_0x4a2169,_0x1bf3ff={};_0x1bf3ff[_0x575683(0xd3)]=_0x575683(0x7a),_0x1bf3ff[_0x575683(0xcf)]=_0x575683(0x131);const _0x1a5a67=_0x1bf3ff;if(helper[_0x575683(0x161)]()&&helper[_0x575683(0x124)](this[_0x575683(0xb0)]['browserstackLocal'])&&(!this[_0x575683(0x8e)]||!this[_0x575683(0x8e)][_0x575683(0x11b)]()))try{if(this[_0x575683(0xb0)][_0x575683(0x89)][_0x575683(0x159)]){logger['debug'](_0x1a5a67[_0x575683(0xd3)]);return;}this[_0x575683(0x8e)]=await helper['startLocalBinary'](this[_0x575683(0xb0)]),logger[_0x575683(0x15b)](_0x1a5a67[_0x575683(0xcf)]);}catch(_0x147b92){logger['debug'](_0x147b92);throw new Error(_0x147b92[_0x575683(0x157)]());}}async['stopBrowserstackLocal'](){const _0x26f407=a55_0x4a2169,_0x36dacf={};_0x36dacf[_0x26f407(0xe3)]='Local\x20binary\x20stopped',_0x36dacf['VNMTV']=_0x26f407(0xd5);const _0x487e8c=_0x36dacf;if(this[_0x26f407(0x8e)]&&this['browserstackLocal']['isRunning']())try{await helper['stopLocalBinary'](this[_0x26f407(0x8e)]),logger[_0x26f407(0x15b)](_0x487e8c[_0x26f407(0xe3)]);}catch(_0x489228){logger[_0x26f407(0xc4)](_0x487e8c[_0x26f407(0xc1)],_0x489228[_0x26f407(0xaf)]);}}async[a55_0x4a2169(0xc3)](){const _0x35c8d5=a55_0x4a2169;return PerformanceTester['measureWrapper'](PerformanceAutEvents[_0x35c8d5(0x76)],async()=>{const _0x14a36b=_0x35c8d5;await hubAllocator[_0x14a36b(0xb3)](this[_0x14a36b(0xb0)]);})();}async[a55_0x4a2169(0x121)](){const _0x140638=a55_0x4a2169,_0x388c80={'AOeHN':function(_0x4bc2af,_0x3bf453){return _0x4bc2af(_0x3bf453);},'DAWiB':_0x140638(0x14f),'Klvih':function(_0x343801,_0x53c1f7,_0x4db162,_0x57fbe2,_0x439954,_0x5eb3eb,_0x376dc5){return _0x343801(_0x53c1f7,_0x4db162,_0x57fbe2,_0x439954,_0x5eb3eb,_0x376dc5);},'uqaFu':_0x140638(0x154),'wpMWX':_0x140638(0xe9),'vKewt':_0x140638(0xf3),'uqjhb':'BrowserstackHealing.init','lZHEq':function(_0x8efffd,_0xf8ca75){return _0x8efffd===_0xf8ca75;},'whHoI':'true','mYiOK':function(_0x3d987c,_0x47a8ca){return _0x3d987c===_0x47a8ca;},'WNtDh':_0x140638(0x12c),'cPhYm':'Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','wVENN':_0x140638(0x135),'TAAEH':'Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','Blpjf':function(_0xa011af,_0x4f45cb){return _0xa011af>=_0x4f45cb;},'ScAXA':function(_0x52b810,_0x23fcfb){return _0x52b810<_0x23fcfb;},'ueaKY':function(_0x52c3f4,_0x430d64){return _0x52c3f4>=_0x430d64;},'QhLIl':'tcg\x20config\x20setup\x20successful.','UggEF':_0x140638(0x88),'utiBa':function(_0x17c141){return _0x17c141();}},_0x5409bd=PerformanceTester[_0x140638(0x81)](_0x388c80['UggEF'],async()=>{const _0x35e23f=_0x140638;try{const _0x21e6ee=new Date(),_0x1bf1bd=helper[_0x35e23f(0xd1)](this['config']),_0x16c567=_0x388c80['AOeHN'](require,path[_0x35e23f(0x104)](__dirname,_0x388c80[_0x35e23f(0x114)])),_0x4e5187=_0x388c80[_0x35e23f(0xca)](timeoutPromise,constants[_0x35e23f(0xec)],_0x388c80[_0x35e23f(0x142)],_0x388c80['wpMWX'],_0x21e6ee,this[_0x35e23f(0xb0)],this[_0x35e23f(0x156)]),_0x7d2c2f={'tcgUrl':constants[_0x35e23f(0xcd)],'sdkVersion':_0x388c80[_0x35e23f(0xfd)](require,_0x388c80['vKewt'])[_0x35e23f(0x146)],'methodUsed':_0x388c80[_0x35e23f(0xf4)],'proxyConfig':_0x1bf1bd,'os':os[_0x35e23f(0xe4)]()};if(_0x1bf1bd&&_0x1bf1bd[_0x35e23f(0xbd)]){utilities['fireFunnelTestEvent'](constants['AI_PROXY_FAILURE'],_0x7d2c2f,this[_0x35e23f(0xb0)],this['framework']);return;}const _0x4f8baf={};_0x4f8baf['proxy']=_0x1bf1bd;const _0x28ccc3=await Promise[_0x35e23f(0x94)]([_0x16c567[_0x35e23f(0x13e)](this[_0x35e23f(0xb0)][_0x35e23f(0x136)],this['config'][_0x35e23f(0xa0)],constants[_0x35e23f(0xcd)],_0x388c80[_0x35e23f(0xfd)](require,_0x388c80['vKewt'])[_0x35e23f(0x146)],_0x4f8baf)['then'](_0x5517a9=>{return _0x4e5187['cancel'](),_0x5517a9;}),_0x4e5187]);_0x28ccc3['isHealingEnabled']=_0x388c80[_0x35e23f(0x15c)](_0x28ccc3[_0x35e23f(0x15d)],_0x388c80[_0x35e23f(0x9d)])||_0x388c80[_0x35e23f(0x15c)](_0x28ccc3[_0x35e23f(0x15d)],!![]);const _0x54c48=_0x388c80[_0x35e23f(0x15c)](this[_0x35e23f(0xb0)][_0x35e23f(0x128)],!![])||_0x388c80['lZHEq'](this[_0x35e23f(0xb0)]['selfHeal'],_0x388c80[_0x35e23f(0x9d)]);if(_0x388c80[_0x35e23f(0xa2)](_0x28ccc3[_0x35e23f(0xaf)],constants[_0x35e23f(0x120)])&&_0x54c48)logger[_0x35e23f(0x15b)](_0x388c80[_0x35e23f(0xd9)]);else{if(!_0x28ccc3[_0x35e23f(0x141)]&&_0x388c80[_0x35e23f(0xa2)](_0x28ccc3[_0x35e23f(0x11c)],0x1f7)&&_0x54c48)logger[_0x35e23f(0x15b)](_0x388c80[_0x35e23f(0x10e)]),utilities[_0x35e23f(0xb4)](constants['TCG_DOWN'],_0x7d2c2f,this[_0x35e23f(0xb0)],this['framework']);else{if(!_0x28ccc3[_0x35e23f(0x141)]&&_0x54c48){logger[_0x35e23f(0x15b)](_0x388c80['wVENN']);const _0x12ae8a={'tcgUrl':constants[_0x35e23f(0xcd)],'sdkVersion':_0x388c80[_0x35e23f(0xfd)](require,_0x388c80[_0x35e23f(0x127)])[_0x35e23f(0x146)],'methodUsed':_0x388c80['uqjhb'],'proxyConfig':_0x1bf1bd,'os':os[_0x35e23f(0xe4)]()};utilities[_0x35e23f(0xb4)](constants[_0x35e23f(0x160)],_0x12ae8a,this[_0x35e23f(0xb0)],this[_0x35e23f(0x156)]);}else{if(_0x28ccc3['isAuthenticated']&&!_0x28ccc3[_0x35e23f(0x15d)]&&_0x54c48)logger[_0x35e23f(0x15b)](_0x388c80[_0x35e23f(0xbc)]);else{if(_0x388c80[_0x35e23f(0xdd)](_0x28ccc3[_0x35e23f(0x11c)],0xc8)&&_0x388c80[_0x35e23f(0xa6)](_0x28ccc3[_0x35e23f(0x11c)],0x12c))utilities['fireFunnelTestEvent'](constants[_0x35e23f(0x13d)],_0x7d2c2f,this['config'],this[_0x35e23f(0x156)]);else{if(_0x388c80['ueaKY'](_0x28ccc3['status'],0x190))_0x7d2c2f[_0x35e23f(0x11c)]=_0x28ccc3['status'],utilities[_0x35e23f(0xb4)](constants[_0x35e23f(0x13c)],_0x7d2c2f,this[_0x35e23f(0xb0)],this['framework']);else!_0x28ccc3[_0x35e23f(0x11c)]&&utilities[_0x35e23f(0xb4)](constants[_0x35e23f(0xd6)],_0x7d2c2f,this[_0x35e23f(0xb0)],this['framework']);}}}}}if(_0x28ccc3[_0x35e23f(0x141)]&&_0x28ccc3[_0x35e23f(0x15d)]){const _0x5d9bba={};_0x5d9bba[_0x35e23f(0x99)]=_0x28ccc3;const _0x51261d=_0x5d9bba;_0x1bf1bd&&(_0x51261d[_0x35e23f(0x14e)]=_0x1bf1bd),_0x51261d['framework']=this[_0x35e23f(0x156)],_0x51261d[_0x35e23f(0x130)]=this[_0x35e23f(0xb0)],helper[_0x35e23f(0x144)](_0x51261d),logger[_0x35e23f(0x138)](_0x388c80['QhLIl']);}}catch(_0x212feb){logger['debug'](_0x35e23f(0x8f)+(_0x212feb['message']?_0x212feb[_0x35e23f(0xaf)]:''));}});await _0x388c80['utiBa'](_0x5409bd);}[a55_0x4a2169(0xb9)](){const _0x4be31=a55_0x4a2169,_0x3fb220={'wuqxk':function(_0x2b45d,_0x33da42){return _0x2b45d(_0x33da42);},'IbhrT':_0x4be31(0xa3)};_0x3fb220[_0x4be31(0x132)](require,_0x3fb220['IbhrT'])();}[a55_0x4a2169(0xda)](){const _0x575846=a55_0x4a2169,_0x4f7852={};_0x4f7852[_0x575846(0xd4)]=_0x575846(0x10a),_0x4f7852[_0x575846(0x13a)]=_0x575846(0x7b);const _0x343faf=_0x4f7852,_0x3e89b5=_0x4b884d=>{const _0x1c207a=_0x575846;logger[_0x1c207a(0xc4)](_0x4b884d['message']),logger[_0x1c207a(0x138)](util[_0x1c207a(0x9f)](_0x4b884d)),this[_0x1c207a(0x165)][_0x1c207a(0x102)](util[_0x1c207a(0x9f)]('%j',_0x4b884d)),PerformanceTester['captureError'](_0x4b884d);};process['on'](_0x343faf[_0x575846(0xd4)],_0x3e89b5),process['on'](_0x343faf[_0x575846(0x13a)],_0x3e89b5);}async['intExitHandler'](_0x6ad632){const _0x38e8bd=a55_0x4a2169,_0x2c5bf0={};_0x2c5bf0[_0x38e8bd(0xeb)]=_0x38e8bd(0xbf),_0x2c5bf0[_0x38e8bd(0x15f)]=function(_0x314b9a,_0x2c7c60){return _0x314b9a+_0x2c7c60;},_0x2c5bf0[_0x38e8bd(0xf2)]='handled',_0x2c5bf0[_0x38e8bd(0xde)]=function(_0x2421ed,_0x1d1312){return _0x2421ed+_0x1d1312;},_0x2c5bf0[_0x38e8bd(0xe6)]='Shutdown\x20triggered\x20by\x20';const _0x561fc0=_0x2c5bf0,_0x5ca02a=_0x561fc0['KprvE'][_0x38e8bd(0x9b)]('|');let _0x4cc4e0=0x0;while(!![]){switch(_0x5ca02a[_0x4cc4e0++]){case'0':await TestHubHandler[_0x38e8bd(0x79)](_0x6ad632);continue;case'1':if(this[_0x561fc0[_0x38e8bd(0x15f)](_0x561fc0[_0x38e8bd(0xf2)],_0x6ad632)])return;continue;case'2':logger[_0x38e8bd(0x15b)](_0x561fc0[_0x38e8bd(0xde)](_0x561fc0['uUhnL'],_0x6ad632));continue;case'3':this[_0x561fc0['NGsca'](_0x561fc0[_0x38e8bd(0xf2)],_0x6ad632)]=!![];continue;case'4':this['killSignal']=_0x6ad632;continue;}break;}}[a55_0x4a2169(0xae)](){const _0x1ba5cf=a55_0x4a2169,_0x300d31={};_0x300d31[_0x1ba5cf(0xa9)]=function(_0x2b6830,_0x56dcfe){return _0x2b6830===_0x56dcfe;},_0x300d31[_0x1ba5cf(0x84)]='Calling\x20Build\x20Stop\x20from\x20ExitHandler',_0x300d31[_0x1ba5cf(0xef)]=function(_0x5c44e4,_0x38443c){return _0x5c44e4>_0x38443c;},_0x300d31[_0x1ba5cf(0x167)]=function(_0x153b48,_0x382858){return _0x153b48>_0x382858;},_0x300d31[_0x1ba5cf(0xb8)]=_0x1ba5cf(0x87);const _0x341346=_0x300d31;let _0x5d99d5=0x0;return async()=>{const _0x32405c=_0x1ba5cf;_0x5d99d5++;if(_0x341346[_0x32405c(0xa9)](_0x5d99d5,0x1)){helper['checkStopLocalBinaryOnExit'](this['framework'])&&await this['stopBrowserstackLocal']();try{logger[_0x32405c(0x138)](_0x341346[_0x32405c(0x84)]),await TestHubHandler['stop'](_0x5d99d5);}catch(_0x1aafe9){logger[_0x32405c(0x138)]('Error\x20in\x20sending\x20testhub\x20stop:\x20'+util[_0x32405c(0x9f)](_0x1aafe9));}PerformanceTester[_0x32405c(0x12a)](PerformanceEvents[_0x32405c(0x115)]);if(PerformanceTester[_0x32405c(0xdf)]()){const {measures:_0x329a9d,errors:_0xcca945}=await PerformanceTester['finalize'](),_0x299706={};if(_0x329a9d&&_0x341346[_0x32405c(0xef)](_0x329a9d['length'],0x0)||_0xcca945&&_0x341346[_0x32405c(0x167)](_0xcca945[_0x32405c(0x95)],0x0)){const _0x4a3197={};_0x4a3197[_0x32405c(0xa5)]=_0x329a9d,_0x4a3197[_0x32405c(0x126)]=_0xcca945,Object[_0x32405c(0xff)](_0x299706,_0x4a3197);}try{const _0x5ab36d=await helper[_0x32405c(0xf0)](_0x299706,this[_0x32405c(0xb0)]);logger[_0x32405c(0x138)](_0x32405c(0xbe)+constants[_0x32405c(0x151)]+_0x32405c(0x83)+_0x5ab36d[_0x32405c(0xed)]);}catch(_0x1176dc){logger['debug']('Failed\x20to\x20send\x20data\x20to\x20'+constants[_0x32405c(0x151)]+'\x20with\x20error\x20'+util[_0x32405c(0x9f)](_0x1176dc));}try{fs['writeFileSync'](_0x341346[_0x32405c(0xb8)],JSON['stringify'](_0x299706));}catch(_0xade469){logger[_0x32405c(0x138)](_0x32405c(0xe0)+_0xade469);}}}};}}exports[a55_0x4a2169(0xa7)]=BrowserStackSetup;function a55_0x5add(){const _0x44d425=['TCG_URL','hubUrl','mygcV','url','getProxyConfigForTcg','No\x20config\x20provided.','TBoOR','uSdEp','Error\x20occured\x20while\x20stopping\x20local\x20binary','INVALID_INIT_RESP_WITH_USER_IMPACT','bind','turboScale','WNtDh','handleExceptions','envConfig','../bin/utils/constants','Blpjf','NGsca','isEnabled','Error\x20in\x20writing\x20events\x20to\x20file\x20','MJtyR','startPercy','fFIRI','platform','SIGHUP','uUhnL','OFXDr','env','BrowserstackHealingInitFailed','122374ElRdmI','KprvE','TCG_AUTH_TIMEOUT','statusCode','tzBTc','IfUcw','sendToEDS','path','EVJDv','../../package.json','uqjhb','./utilities','getTurboScaleGridDetails','rXhsF','xVuFZ','SDKTestAttempted','53812mJPbNZ','IVEno','./testhub/testhubHandler','AOeHN','disableAutoCaptureLogs','assign','getFinalCaps','./percy/utils','push','SIGINT','join','percy','turboScaleOptions','BROWSERSTACK_TURBOSCALE','Error\x20occured\x20while\x20stopping\x20percy','451598yDWveV','unhandledRejection','customRepeaters','stopPercy','platforms','cPhYm','skipSessionStatus','constructor','3144cWBuqQ','turboScaleUrl','RpbmR','DAWiB','SDK_CLEANUP','./timeoutPromise','getLocalIdentifier','cliConfig','cTcSM','parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','isRunning','status','Qenwb','killSignal','getLocalConfig','UPGRADE_REQUIRED','setupTCGAuth','./performance/performance-tester','includes','isTrue','LyOaO','exceptions','vKewt','selfHeal','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','end','Fazwc','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','setEnvCaps','setupPercy','SIGABRT','bstackConfig','Local\x20binary\x20started\x20successfully','wuqxk','XnedT','XQbaj','Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','accessKey','localOptions','debug','getUserName','qgodv','1cekkiE','AI_INIT_FAILURE','AI_INIT_SUCCESSFUL','init','BROWSERSTACK_PERCY','warn','isAuthenticated','uqaFu','WChMV','setupTcgConfigFile','jYNXq','version','464ONpCUA','SIGBREAK','uRQLY','sdkRunID','tANtN','localIdentifier','CPXPw','proxyConfig','../ai-sdk-node/bundle','25|36|11|41|26|18|34|30|14|7|3|10|2|33|24|4|8|37|17|16|13|1|0|31|27|6|12|38|9|32|20|15|40|23|5|22|21|42|35|39|28|19|29|43','EDS_URL','DNqpE','playwrightUrl','BrowserstackHealing.init\x20method\x20timed\x20out','custom-repeater','framework','toString','FRAMEWORK','skipBinaryInitialisation','42fVNGWk','info','lZHEq','isHealingEnabled','SveGA','fGIIq','TCG_AUTH_FAILURE','isBrowserstackInfra','./helper','Error\x20in\x20percy\x20setup\x20','OtQnL','unhandledErrors','beforeExit','Ziqek','?caps=','KVXhE','skipSessionName','HUB_MANAGEMENT','win32','true','stop','Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled','uncaughtException','parallelsPerPlatform','4.5.0','SDK\x20run\x20started\x20with\x20id:\x20','xLJoi','QOMvr','measureWrapper','turboScaleGridDetails','\x20with\x20response\x20','SFxfR','readConfig','PEcat','log/events.json','aiHeal:tcgAuth','browserStackLocalOptions','./ats/helper','generateLocalIdentifier','533545WHkjxs','winstonLogger','browserstackLocal','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','dVFHx','./logger','testContextOptions','selenium-webdriver','race','length','setHandlePWError','BssaJ','iwqtV','tcgAuthConfig','getConfigPath','split','isUndefined','whHoI','toLowerCase','format','userName','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','mYiOK','./setKeepAlive','bfkwA','measures','ScAXA','default','uuid','GUXBX','SIGQUIT','KXwHz','setBrowserstackInfraFromConfig','getPackageVersion','exitHandler','message','config','intExitHandler','getAccessKey','allocateHub','fireFunnelTestEvent','BROWSERSTACK_CENTRAL_USER','SIGTERM','./testhub/utils','Spnor','setupKeepAlive','YNRoK','28iVovJW','TAAEH','proxyUrl','Data\x20sent\x20successfully\x20to\x20','1|3|2|4|0','eCiVw','VNMTV','xFjky','setUpHubUrl','error','3577060sWuNpS','setupBrowserstackLocal','9113310VGMfZE','66558MEbHQX','Percy\x20stopped','Klvih','compareVersions','GDBRn'];a55_0x5add=function(){return _0x44d425;};return a55_0x5add();}