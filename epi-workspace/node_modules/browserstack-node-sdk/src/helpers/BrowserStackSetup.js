function a55_0x5a5d(){const _0x3a4d61=['BNTlE','platforms','setupKeepAlive','userName','CdWeu','generateLocalIdentifier','setEnvCaps','isRunning','HoVcP','BROWSERSTACK_PERCY','2oIKRtD','QHkhO','lMyej','getConfigPath','jrRkv','true','errorMessage','turboScaleOptions','NLpBa','esBDF','NAJHp','TCG_URL','Zjnul','47373XvBnvq','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','measures','getProxyConfigForTcg','useW3C','TUHfz','222387MYouvN','pLFiM','VDlqC','readConfig','fAFpU','killSignal','testContextOptions','getCentralUser','\x20with\x20response\x20','toLowerCase','prlJI','JGJvc','AI_INIT_FAILURE','assign','custom-repeater','skipBinaryInitialisation','TCG_AUTH_TIMEOUT','lThjA','GsWvX','isHealingEnabled','util','setHandlePWError','tcgAuthConfig','url','platform','stopPercy','./testhub/testhubHandler','proxyUrl','events.json','parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','localIdentifier','stringify','cliConfig','end','EDS_URL','getPackageVersion','./timeoutPromise','sdkRunId','nhqFf','ats-repeater','DjKgR','env','unhandledErrors','IOmqd','handled','./testhub/utils','browserstackLocal','userName\x20or\x20accessKey\x20is\x20not\x20defined','Failed\x20to\x20send\x20data\x20to\x20','preInitialize','2308830RiiBMx','LTpDt','codeceptjs','Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled','disableAutoCaptureLogs','statusCode','exceptions','customRepeaters','BrowserstackHealingInitFailed','./helper','Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','writeFileSync','dPZJU','toString','./logger','warn','cvrgu','split','iFwcL','cPQNh','BToCB','HtrRP','ayyXi','selfHeal','getHubUrl','intExitHandler','Error\x20in\x20writing\x20events\x20to\x20file\x20','isTrialGrid','exitHandler','Calling\x20Build\x20Stop\x20from\x20ExitHandler','QoBOH','then','status','debug','compareVersions','iEfju','IvRis','setLogLevel','BROWSERSTACK_TURBOSCALE','../bin/utils/constants','RyJgy','isTrue','ppZoP','turboScale','captureError','HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20','setBrowserstackInfraFromConfig','./performance/performance-tester','Error\x20occured\x20while\x20stopping\x20local\x20binary','4.5.0','setupTcgConfigFile','ttURg','setUpHubUrl','central_scanner','win32','MpPaG','forceLocal','CErJb','stopBrowserstackLocal','accessKey','setLogDir','version','TCG_DOWN','lpaDc','playwrightUrl','SIGINT','SIGABRT','parallelsPerPlatform','setupTCGAuth','getLocalConfig','mVCds','12974360beXouj','setupBrowserstackLocal','Data\x20sent\x20successfully\x20to\x20','FFsmD','mJZwD','winstonLogger','wMGho','format','constructor','1169780Fnebat','opTTH','NzUMk','initialize','framework','isEnabled','isBrowserstackInfra','setupPercy','Error\x20occured\x20while\x20stopping\x20percy','handleExceptions','OjQji','Error\x20in\x20percy\x20setup\x20','getTurboScaleGridDetails','turboScaleUrl','getFinalCaps','SDKTestAttempted','qSnvm','tcg\x20config\x20setup\x20successful.','UPGRADE_REQUIRED','csKJK','isNotUndefined','INVALID_INIT_RESP_WITH_USER_IMPACT','xFxuv','skipSessionStatus','?caps=','SIGQUIT','4|3|0|2|1','cmaao','bstackConfig','BrowserstackHealing.init','\x20with\x20error\x20','./setKeepAlive','length','fwGyk','error','jeDSD','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','TezeA','./ats/helper','mxyCv','xYqpV','cancel','yxhzQ','YrbML','config','fireFunnelTestEvent','2905638xfctBz','AUTOLOGCAPTURE_NOTIFICATION','SDK_CLEANUP','Local\x20binary\x20stopped','percy','measureWrapper','FRAMEWORK','message','beforeExit','AI_PROXY_FAILURE','./performance/constants','info','SIGTERM','SIGBREAK','Error\x20in\x20sending\x20testhub\x20stop:\x20','startLocalBinary','qrqmD','browserStackLocalOptions','integrations','turboScaleGridDetails','false','ykaKQ','sanitizeCaps','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','skipSessionName','../ai-sdk-node/bundle','startPercy','DRaDb','checkStopLocalBinaryOnExit','2533048KYeeou','bind','isUndefined','playwright','stop','isAuthenticated','requireSeleniumWebdriverCheck','cBXQQ','Shutdown\x20triggered\x20by\x20','RxgkV','CAkIm'];a55_0x5a5d=function(){return _0x3a4d61;};return a55_0x5a5d();}const a55_0x399b99=a55_0x4a10;(function(_0x5aa30a,_0x3bd061){const _0x1d626c=a55_0x4a10,_0x583d58=_0x5aa30a();while(!![]){try{const _0x1c0489=parseInt(_0x1d626c(0x1be))/0x1+parseInt(_0x1d626c(0x1aa))/0x2*(parseInt(_0x1d626c(0x1b7))/0x3)+-parseInt(_0x1d626c(0x240))/0x4+-parseInt(_0x1d626c(0x1f0))/0x5+-parseInt(_0x1d626c(0x178))/0x6+-parseInt(_0x1d626c(0x195))/0x7+parseInt(_0x1d626c(0x237))/0x8;if(_0x1c0489===_0x3bd061)break;else _0x583d58['push'](_0x583d58['shift']());}catch(_0x3ed57d){_0x583d58['push'](_0x583d58['shift']());}}}(a55_0x5a5d,0x3f629));function a55_0x4a10(_0x7e1721,_0x761425){const _0x5a5d60=a55_0x5a5d();return a55_0x4a10=function(_0x4a1053,_0x1b4cb3){_0x4a1053=_0x4a1053-0x16f;let _0x16dce3=_0x5a5d60[_0x4a1053];return _0x16dce3;},a55_0x4a10(_0x7e1721,_0x761425);}const util=require(a55_0x399b99(0x1d2)),os=require('os'),path=require('path'),{v4:uuidv4}=require('uuid'),fs=require('fs'),constants=require(a55_0x399b99(0x217)),{isTurboScaleSession}=require(a55_0x399b99(0x170)),logger=require(a55_0x399b99(0x1fe))[a55_0x399b99(0x23c)],{getLogDir}=require('./logger'),helper=require(a55_0x399b99(0x1f9)),utilities=require('./utilities'),percyHelper=require('./percy/utils'),hubAllocator=require('../hubAllocationMethods'),PerformanceTester=require(a55_0x399b99(0x21f)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require(a55_0x399b99(0x182)),{setPercyFlag}=require(a55_0x399b99(0x1eb)),TestHubHandler=require(a55_0x399b99(0x1d8)),timeoutPromise=require(a55_0x399b99(0x1e2));class BrowserStackSetup{constructor(_0x5e6b12,_0x19279a){const _0xc8baa0=a55_0x399b99,_0x3630a4={'wMGho':'2|20|1|0|13|16|12|4|19|15|6|7|9|14|11|8|18|10|5|17|3','kFxlm':'No\x20config\x20provided.','RxgkV':function(_0x598827){return _0x598827();}},_0x1919ca=_0x3630a4[_0xc8baa0(0x23d)][_0xc8baa0(0x201)]('|');let _0x518380=0x0;while(!![]){switch(_0x1919ca[_0x518380++]){case'0':this[_0xc8baa0(0x1ec)]=null;continue;case'1':this['envConfig']=helper[_0xc8baa0(0x1a6)]();continue;case'2':this[_0xc8baa0(0x1e8)]=[];continue;case'3':PerformanceTester['startMonitoring']();continue;case'4':this['config'][_0xc8baa0(0x1c4)]=this[_0xc8baa0(0x176)][_0xc8baa0(0x1c4)]||{};continue;case'5':helper[_0xc8baa0(0x22c)](this[_0xc8baa0(0x176)]);continue;case'6':this[_0xc8baa0(0x244)]=_0x19279a;continue;case'7':global['framework']=_0x19279a;continue;case'8':this['config'][_0xc8baa0(0x1c4)][_0xc8baa0(0x257)]=!helper['isBrowserstackInfra']()||helper['isTrue'](this[_0xc8baa0(0x176)][_0xc8baa0(0x1c4)][_0xc8baa0(0x257)]);continue;case'9':if(helper[_0xc8baa0(0x197)](this[_0xc8baa0(0x176)]))throw new Error(_0x3630a4['kFxlm']);continue;case'10':helper[_0xc8baa0(0x24e)](this['config'],this[_0xc8baa0(0x1de)],this['envConfig']);continue;case'11':helper[_0xc8baa0(0x21e)](this[_0xc8baa0(0x176)],this[_0xc8baa0(0x1de)]);continue;case'12':this[_0xc8baa0(0x176)][_0xc8baa0(0x1a1)]=this[_0xc8baa0(0x176)][_0xc8baa0(0x1a1)]||[];continue;case'13':this[_0xc8baa0(0x17c)]=null;continue;case'14':if(this['config'][_0xc8baa0(0x262)])throw new Error(this[_0xc8baa0(0x176)][_0xc8baa0(0x262)]);continue;case'15':this[_0xc8baa0(0x1e3)]=_0x3630a4[_0xc8baa0(0x19e)](uuidv4);continue;case'16':this[_0xc8baa0(0x176)]=helper[_0xc8baa0(0x1c1)](helper[_0xc8baa0(0x1ad)](_0x5e6b12));continue;case'17':helper[_0xc8baa0(0x215)](this['config'],this[_0xc8baa0(0x1de)],this['envConfig']);continue;case'18':this['config'][_0xc8baa0(0x1c4)][_0xc8baa0(0x190)]=!helper[_0xc8baa0(0x246)]()||helper[_0xc8baa0(0x219)](this[_0xc8baa0(0x176)][_0xc8baa0(0x1c4)][_0xc8baa0(0x190)]);continue;case'19':this[_0xc8baa0(0x1b0)]={};continue;case'20':this[_0xc8baa0(0x1de)]=helper['setCLICaps'](_0x5e6b12);continue;}break;}}[a55_0x399b99(0x1ef)](_0x3988b6){const _0x4efc3a=a55_0x399b99,_0x489bef={'NAJHp':_0x4efc3a(0x1ed),'CErJb':function(_0x3ad6ed,_0x3225b6){return _0x3ad6ed===_0x3225b6;},'ppZoP':_0x4efc3a(0x18a),'hNkRa':_0x4efc3a(0x24f),'eLkvy':function(_0x7a4626,_0x57ca97){return _0x7a4626<_0x57ca97;},'mVCds':function(_0xc8dc4d,_0x378c0f){return _0xc8dc4d(_0x378c0f);},'HtrRP':'selenium-webdriver','TUHfz':function(_0x5827c3,_0x3c3120){return _0x5827c3===_0x3c3120;},'NLpBa':_0x4efc3a(0x221),'nhqFf':_0x4efc3a(0x1b9),'VuQJJ':_0x4efc3a(0x1db),'nTbVo':_0x4efc3a(0x184),'iFwcL':_0x4efc3a(0x231),'ueXXs':'SIGHUP','OAqoG':function(_0x53d59f,_0x30ba0b){return _0x53d59f!==_0x30ba0b;},'dPZJU':_0x4efc3a(0x226),'mJZwD':_0x4efc3a(0x232),'DjKgR':_0x4efc3a(0x259),'CAkIm':_0x4efc3a(0x185),'YrbML':_0x4efc3a(0x180)},_0x27498d=this[_0x4efc3a(0x244)];global[_0x4efc3a(0x176)]=this[_0x4efc3a(0x176)],helper[_0x4efc3a(0x18e)](this[_0x4efc3a(0x176)]),this[_0x4efc3a(0x1c3)]=null,global[_0x4efc3a(0x1e3)]=this[_0x4efc3a(0x1e3)],logger[_0x4efc3a(0x183)]('SDK\x20run\x20started\x20with\x20id:\x20'+this[_0x4efc3a(0x1e3)]),!this['config'][_0x4efc3a(0x189)]&&(this[_0x4efc3a(0x176)]['browserStackLocalOptions']=this[_0x4efc3a(0x176)]['localOptions']||{});if(helper[_0x4efc3a(0x197)](helper['getUserName'](this[_0x4efc3a(0x176)]))||helper[_0x4efc3a(0x197)](helper['getAccessKey'](this[_0x4efc3a(0x176)])))throw new Error(_0x489bef[_0x4efc3a(0x1b4)]);helper[_0x4efc3a(0x235)](this[_0x4efc3a(0x176)])&&helper['isUndefined'](helper['getLocalIdentifier'](this[_0x4efc3a(0x176)]))&&(!helper[_0x4efc3a(0x197)](this[_0x4efc3a(0x176)][_0x4efc3a(0x189)])&&_0x489bef[_0x4efc3a(0x229)](this[_0x4efc3a(0x176)][_0x4efc3a(0x189)][_0x4efc3a(0x23f)],Object)?!helper['isTrue'](this['config'][_0x4efc3a(0x189)]['skipBinaryInitialisation'])&&(this[_0x4efc3a(0x176)][_0x4efc3a(0x189)]['localIdentifier']=helper[_0x4efc3a(0x1a5)]()):this[_0x4efc3a(0x176)][_0x4efc3a(0x189)]={'localIdentifier':helper[_0x4efc3a(0x1a5)]()});this[_0x4efc3a(0x176)]['browserStackLocalOptions'][_0x4efc3a(0x1cd)]=helper[_0x4efc3a(0x219)](this[_0x4efc3a(0x176)][_0x4efc3a(0x189)][_0x4efc3a(0x1cd)]),helper[_0x4efc3a(0x1d3)](this[_0x4efc3a(0x176)]);if(_0x489bef[_0x4efc3a(0x229)](_0x27498d,_0x489bef[_0x4efc3a(0x21a)]))return;this['handleExceptions']();process[_0x4efc3a(0x1e7)][_0x4efc3a(0x216)]&&(this[_0x4efc3a(0x176)][_0x4efc3a(0x21b)]=helper[_0x4efc3a(0x219)](process[_0x4efc3a(0x1e7)][_0x4efc3a(0x216)]),this[_0x4efc3a(0x176)]['turboScaleOptions']=this['config'][_0x4efc3a(0x1b1)]||{});if(!helper[_0x4efc3a(0x246)]()){try{process['env'][_0x4efc3a(0x17e)]=_0x27498d,utilities[_0x4efc3a(0x177)](_0x489bef['hNkRa'],{},this[_0x4efc3a(0x176)],this[_0x4efc3a(0x244)]);}catch(_0x379e4d){logger[_0x4efc3a(0x211)]('Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20'+_0x379e4d);}return;}helper[_0x4efc3a(0x19b)](_0x27498d)&&(_0x489bef['eLkvy'](_0x489bef[_0x4efc3a(0x236)](parseInt,helper[_0x4efc3a(0x1e1)](_0x489bef[_0x4efc3a(0x205)])),0x3)&&(this[_0x4efc3a(0x176)][_0x4efc3a(0x1bc)]=![]),_0x489bef[_0x4efc3a(0x1bd)](helper[_0x4efc3a(0x212)](helper['getPackageVersion'](_0x489bef[_0x4efc3a(0x205)]),_0x489bef[_0x4efc3a(0x1b2)]),0x1)&&(this[_0x4efc3a(0x176)]['useW3C']=!![]));(helper[_0x4efc3a(0x197)](this[_0x4efc3a(0x176)][_0x4efc3a(0x1a1)])||helper[_0x4efc3a(0x197)](this[_0x4efc3a(0x176)][_0x4efc3a(0x1a1)][_0x4efc3a(0x260)]))&&(helper[_0x4efc3a(0x197)](this[_0x4efc3a(0x176)][_0x4efc3a(0x233)])?logger['info'](_0x489bef[_0x4efc3a(0x1e4)]):logger[_0x4efc3a(0x1ff)](_0x489bef['VuQJJ']),this[_0x4efc3a(0x176)][_0x4efc3a(0x1a1)]=[]);!this['config'][_0x4efc3a(0x1c4)]&&(this['config'][_0x4efc3a(0x1c4)]={});try{process[_0x4efc3a(0x1e7)][_0x4efc3a(0x17e)]=_0x3988b6['_'][0x0],utilities[_0x4efc3a(0x177)](_0x489bef['hNkRa'],{},this['config'],this[_0x4efc3a(0x244)]);}catch(_0x3f8c0d){logger[_0x4efc3a(0x211)](_0x4efc3a(0x1b8)+_0x3f8c0d);}!this[_0x4efc3a(0x176)][_0x4efc3a(0x1f4)]&&logger[_0x4efc3a(0x183)](constants[_0x4efc3a(0x179)]),this[_0x4efc3a(0x209)]=this['intExitHandler'][_0x4efc3a(0x196)](this),process['on'](_0x489bef['nTbVo'],this['intExitHandler']),process['on'](_0x489bef[_0x4efc3a(0x202)],this[_0x4efc3a(0x209)]),process['on'](_0x489bef['ueXXs'],this[_0x4efc3a(0x209)]),_0x489bef['OAqoG'](process[_0x4efc3a(0x1d6)],_0x489bef[_0x4efc3a(0x1fc)])?(process['on'](_0x489bef[_0x4efc3a(0x23b)],this[_0x4efc3a(0x209)]),process['on'](_0x489bef[_0x4efc3a(0x1e6)],this[_0x4efc3a(0x209)])):process['on'](_0x489bef[_0x4efc3a(0x19f)],this[_0x4efc3a(0x209)]),process['on'](_0x489bef[_0x4efc3a(0x175)],this[_0x4efc3a(0x20c)]());}async[a55_0x399b99(0x243)](_0x533b44){const _0x45ed78=a55_0x399b99,_0x559f85={'xFxuv':function(_0x4d5976,_0x372fff){return _0x4d5976(_0x372fff);},'IvRis':_0x45ed78(0x1e5),'pjyJL':_0x45ed78(0x1cc),'ttURg':_0x45ed78(0x1af),'HxTgY':function(_0x5b5d0b,_0x5dbd14){return _0x5b5d0b===_0x5dbd14;},'IOmqd':_0x45ed78(0x198),'MpPaG':function(_0x247f14,_0x1cb175){return _0x247f14+_0x1cb175;},'VDlqC':_0x45ed78(0x258),'prlJI':_0x45ed78(0x1f2)};this[_0x45ed78(0x1ef)](_0x533b44);if(_0x559f85[_0x45ed78(0x256)](isTurboScaleSession,this[_0x45ed78(0x176)])){const _0x328e60=await helper[_0x45ed78(0x24c)](this[_0x45ed78(0x176)]);this[_0x45ed78(0x176)][_0x45ed78(0x18b)]=_0x328e60,_0x328e60[_0x45ed78(0x20b)]&&helper[_0x45ed78(0x254)](this[_0x45ed78(0x176)][_0x45ed78(0x1ec)])&&helper['isTrue'](this[_0x45ed78(0x176)][_0x45ed78(0x1ec)])&&(this[_0x45ed78(0x176)][_0x45ed78(0x189)][_0x45ed78(0x1dc)]=_0x559f85[_0x45ed78(0x214)],this['config'][_0x45ed78(0x189)][_0x559f85['pjyJL']]=_0x328e60[_0x45ed78(0x1f7)]['join'](','),this[_0x45ed78(0x176)][_0x45ed78(0x189)][_0x45ed78(0x228)]=_0x559f85[_0x45ed78(0x223)]),this[_0x45ed78(0x176)][_0x45ed78(0x24d)]=_0x328e60[_0x45ed78(0x1d5)],this[_0x45ed78(0x244)]&&_0x559f85['HxTgY'](this[_0x45ed78(0x244)][_0x45ed78(0x1c7)](),_0x559f85[_0x45ed78(0x1e9)])&&(this[_0x45ed78(0x176)][_0x45ed78(0x24d)]=_0x559f85[_0x45ed78(0x227)](_0x328e60[_0x45ed78(0x230)],_0x559f85[_0x45ed78(0x1c0)])),constants['hubUrl']=helper[_0x45ed78(0x208)](this[_0x45ed78(0x176)]),logger[_0x45ed78(0x211)](_0x45ed78(0x21d)+constants['hubUrl']);}helper['setProxySettings'](this[_0x45ed78(0x176)]),this[_0x45ed78(0x1a2)](),_0x559f85['xFxuv'](setPercyFlag,this),await this[_0x45ed78(0x238)](),![_0x559f85[_0x45ed78(0x1c8)]]['includes'](this[_0x45ed78(0x244)])&&!_0x559f85['xFxuv'](isTurboScaleSession,this['config'])&&!helper[_0x45ed78(0x1c5)]()[_0x45ed78(0x225)]&&await this[_0x45ed78(0x224)]();}async[a55_0x399b99(0x247)](){const _0x17cbde=a55_0x399b99,_0x75c993={};_0x75c993[_0x17cbde(0x206)]=function(_0x53bf23,_0x19843f){return _0x53bf23===_0x19843f;},_0x75c993[_0x17cbde(0x22f)]=_0x17cbde(0x18c),_0x75c993[_0x17cbde(0x241)]='Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.',_0x75c993[_0x17cbde(0x172)]='Percy\x20started\x20successfully',_0x75c993['SXezs']=_0x17cbde(0x1af),_0x75c993['fAFpU']=_0x17cbde(0x180);const _0x5b29f4=_0x75c993;if(helper['isTrue'](this['config'][_0x17cbde(0x17c)])&&(!this['percy']||!this[_0x17cbde(0x17c)]['isRunning']()))try{this[_0x17cbde(0x17c)]=await percyHelper[_0x17cbde(0x192)](this['config']);if(!this[_0x17cbde(0x17c)]){process[_0x17cbde(0x1e7)][_0x17cbde(0x1a9)]=_0x5b29f4[_0x17cbde(0x22f)];throw new Error(_0x5b29f4['opTTH']);}logger[_0x17cbde(0x183)](_0x5b29f4[_0x17cbde(0x172)]),process[_0x17cbde(0x1e7)][_0x17cbde(0x1a9)]=_0x5b29f4['SXezs'];let _0x4c0eed=0x0;const _0x27ddc4=async()=>{const _0x3a5d54=_0x17cbde;_0x4c0eed++,_0x5b29f4[_0x3a5d54(0x206)](_0x4c0eed,0x1)&&await this['stopPercy']();};process['on'](_0x5b29f4[_0x17cbde(0x1c2)],_0x27ddc4);}catch(_0x2a7dfe){process['env'][_0x17cbde(0x1a9)]=_0x5b29f4[_0x17cbde(0x22f)],logger['debug'](_0x17cbde(0x24b)+_0x2a7dfe);throw new Error(_0x2a7dfe[_0x17cbde(0x1fd)]());}}async[a55_0x399b99(0x1d7)](){const _0x5e05da=a55_0x399b99,_0x13a7e2={};_0x13a7e2[_0x5e05da(0x171)]='Percy\x20stopped',_0x13a7e2[_0x5e05da(0x1ab)]=_0x5e05da(0x248);const _0x10557e=_0x13a7e2;if(this[_0x5e05da(0x17c)]&&this[_0x5e05da(0x17c)][_0x5e05da(0x1a7)]())try{await percyHelper[_0x5e05da(0x1d7)](this['percy']),logger[_0x5e05da(0x183)](_0x10557e[_0x5e05da(0x171)]);}catch(_0x51b7a0){logger[_0x5e05da(0x262)](_0x10557e['QHkhO'],_0x51b7a0['message']);}}async[a55_0x399b99(0x238)](){const _0x1930e8=a55_0x399b99,_0x22e755={};_0x22e755[_0x1930e8(0x1ac)]=_0x1930e8(0x1f3),_0x22e755[_0x1930e8(0x1cf)]='Local\x20binary\x20started\x20successfully';const _0x50cff0=_0x22e755;if(helper[_0x1930e8(0x246)]()&&helper[_0x1930e8(0x219)](this['config'][_0x1930e8(0x1ec)])&&(!this[_0x1930e8(0x1ec)]||!this['browserstackLocal']['isRunning']()))try{if(this[_0x1930e8(0x176)][_0x1930e8(0x189)][_0x1930e8(0x1cd)]){logger['debug'](_0x50cff0[_0x1930e8(0x1ac)]);return;}this[_0x1930e8(0x1ec)]=await helper[_0x1930e8(0x187)](this[_0x1930e8(0x176)]),logger[_0x1930e8(0x183)](_0x50cff0['lThjA']);}catch(_0x4d9ae6){logger[_0x1930e8(0x211)](_0x4d9ae6);throw new Error(_0x4d9ae6[_0x1930e8(0x1fd)]());}}async['stopBrowserstackLocal'](){const _0x4650ed=a55_0x399b99,_0x565c2f={};_0x565c2f['qSnvm']=_0x4650ed(0x17b),_0x565c2f[_0x4650ed(0x204)]=_0x4650ed(0x220);const _0x4a0e5d=_0x565c2f;if(this[_0x4650ed(0x1ec)]&&this[_0x4650ed(0x1ec)]['isRunning']())try{await helper['stopLocalBinary'](this[_0x4650ed(0x1ec)]),logger['info'](_0x4a0e5d[_0x4650ed(0x250)]);}catch(_0xb90c06){logger[_0x4650ed(0x262)](_0x4a0e5d[_0x4650ed(0x204)],_0xb90c06[_0x4650ed(0x17f)]);}}async['setUpHubUrl'](){const _0x2c5863=a55_0x399b99;return PerformanceTester[_0x2c5863(0x17d)](PerformanceAutEvents['HUB_MANAGEMENT'],async()=>{await hubAllocator['allocateHub'](this['config']);})();}async[a55_0x399b99(0x234)](){const _0x1fc75a=a55_0x399b99,_0x21c15a={'ayzWm':function(_0x5ac54b,_0x45a5c2){return _0x5ac54b(_0x45a5c2);},'jeDSD':_0x1fc75a(0x191),'SQEas':function(_0x439899,_0x541377,_0x29d790,_0x2cd8ad,_0x498454,_0x13d162,_0x218e17){return _0x439899(_0x541377,_0x29d790,_0x2cd8ad,_0x498454,_0x13d162,_0x218e17);},'NzUMk':'BrowserstackHealing.init\x20method\x20timed\x20out','iEfju':_0x1fc75a(0x1f8),'cvrgu':'../../package.json','esBDF':_0x1fc75a(0x25d),'cPQNh':function(_0x45407d,_0x3b2e46){return _0x45407d(_0x3b2e46);},'GsWvX':function(_0x200777,_0x322565){return _0x200777===_0x322565;},'cmaao':_0x1fc75a(0x1af),'BNTlE':function(_0x2bfd14,_0x2de099){return _0x2bfd14===_0x2de099;},'ykaKQ':function(_0x4bcce5,_0x38d3e3){return _0x4bcce5===_0x38d3e3;},'csKJK':_0x1fc75a(0x264),'JeNFu':_0x1fc75a(0x18f),'QoBOH':'Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','bxzuY':_0x1fc75a(0x1fa),'HoVcP':function(_0x41f21a,_0x56c62b){return _0x41f21a>=_0x56c62b;},'jyKtl':function(_0x236ccd,_0xf08647){return _0x236ccd<_0xf08647;},'CApLR':_0x1fc75a(0x251),'JGJvc':'aiHeal:tcgAuth','pLFiM':function(_0x43ff3f){return _0x43ff3f();}},_0x52718e=PerformanceTester[_0x1fc75a(0x17d)](_0x21c15a[_0x1fc75a(0x1c9)],async()=>{const _0x47c9f8=_0x1fc75a;try{const _0x3e1008=new Date(),_0x29167b=helper[_0x47c9f8(0x1bb)](this[_0x47c9f8(0x176)]),_0x4a593b=_0x21c15a['ayzWm'](require,path['join'](__dirname,_0x21c15a[_0x47c9f8(0x263)])),_0x1cdc63=_0x21c15a['SQEas'](timeoutPromise,constants[_0x47c9f8(0x1ce)],_0x21c15a[_0x47c9f8(0x242)],_0x21c15a[_0x47c9f8(0x213)],_0x3e1008,this[_0x47c9f8(0x176)],this[_0x47c9f8(0x244)]),_0x36d613={'tcgUrl':constants[_0x47c9f8(0x1b5)],'sdkVersion':_0x21c15a['ayzWm'](require,_0x21c15a[_0x47c9f8(0x200)])['version'],'methodUsed':_0x21c15a['esBDF'],'proxyConfig':_0x29167b,'os':os[_0x47c9f8(0x1d6)]()};if(_0x29167b&&_0x29167b[_0x47c9f8(0x1d9)]){utilities[_0x47c9f8(0x177)](constants[_0x47c9f8(0x181)],_0x36d613,this[_0x47c9f8(0x176)],this[_0x47c9f8(0x244)]);return;}const _0x127384={};_0x127384['proxy']=_0x29167b;const _0xe1247f=await Promise['race']([_0x4a593b['init'](this[_0x47c9f8(0x176)][_0x47c9f8(0x22b)],this[_0x47c9f8(0x176)][_0x47c9f8(0x1a3)],constants[_0x47c9f8(0x1b5)],_0x21c15a[_0x47c9f8(0x203)](require,_0x21c15a[_0x47c9f8(0x200)])[_0x47c9f8(0x22d)],_0x127384)[_0x47c9f8(0x20f)](_0x821262=>{const _0x538ba9=_0x47c9f8;return _0x1cdc63[_0x538ba9(0x173)](),_0x821262;}),_0x1cdc63]);_0xe1247f[_0x47c9f8(0x1d1)]=_0x21c15a[_0x47c9f8(0x1d0)](_0xe1247f[_0x47c9f8(0x1d1)],_0x21c15a[_0x47c9f8(0x25b)])||_0x21c15a[_0x47c9f8(0x1a0)](_0xe1247f[_0x47c9f8(0x1d1)],!![]);const _0x30dcba=_0x21c15a[_0x47c9f8(0x18d)](this['config']['selfHeal'],!![])||_0x21c15a[_0x47c9f8(0x18d)](this[_0x47c9f8(0x176)][_0x47c9f8(0x207)],_0x21c15a[_0x47c9f8(0x25b)]);if(_0x21c15a[_0x47c9f8(0x1a0)](_0xe1247f[_0x47c9f8(0x17f)],constants[_0x47c9f8(0x252)])&&_0x30dcba)logger[_0x47c9f8(0x183)](_0x21c15a[_0x47c9f8(0x253)]);else{if(!_0xe1247f['isAuthenticated']&&_0x21c15a[_0x47c9f8(0x1a0)](_0xe1247f[_0x47c9f8(0x210)],0x1f7)&&_0x30dcba)logger[_0x47c9f8(0x183)](_0x21c15a['JeNFu']),utilities['fireFunnelTestEvent'](constants[_0x47c9f8(0x22e)],_0x36d613,this[_0x47c9f8(0x176)],this['framework']);else{if(!_0xe1247f[_0x47c9f8(0x19a)]&&_0x30dcba){logger[_0x47c9f8(0x183)](_0x21c15a[_0x47c9f8(0x20e)]);const _0x547025={'tcgUrl':constants['TCG_URL'],'sdkVersion':_0x21c15a['cPQNh'](require,_0x21c15a[_0x47c9f8(0x200)])[_0x47c9f8(0x22d)],'methodUsed':_0x21c15a[_0x47c9f8(0x1b3)],'proxyConfig':_0x29167b,'os':os[_0x47c9f8(0x1d6)]()};utilities['fireFunnelTestEvent'](constants['TCG_AUTH_FAILURE'],_0x547025,this[_0x47c9f8(0x176)],this[_0x47c9f8(0x244)]);}else{if(_0xe1247f[_0x47c9f8(0x19a)]&&!_0xe1247f[_0x47c9f8(0x1d1)]&&_0x30dcba)logger[_0x47c9f8(0x183)](_0x21c15a['bxzuY']);else{if(_0x21c15a[_0x47c9f8(0x1a8)](_0xe1247f[_0x47c9f8(0x210)],0xc8)&&_0x21c15a['jyKtl'](_0xe1247f[_0x47c9f8(0x210)],0x12c))utilities[_0x47c9f8(0x177)](constants['AI_INIT_SUCCESSFUL'],_0x36d613,this[_0x47c9f8(0x176)],this[_0x47c9f8(0x244)]);else{if(_0x21c15a[_0x47c9f8(0x1a8)](_0xe1247f['status'],0x190))_0x36d613[_0x47c9f8(0x210)]=_0xe1247f[_0x47c9f8(0x210)],utilities[_0x47c9f8(0x177)](constants[_0x47c9f8(0x1ca)],_0x36d613,this[_0x47c9f8(0x176)],this[_0x47c9f8(0x244)]);else!_0xe1247f[_0x47c9f8(0x210)]&&utilities['fireFunnelTestEvent'](constants[_0x47c9f8(0x255)],_0x36d613,this[_0x47c9f8(0x176)],this[_0x47c9f8(0x244)]);}}}}}if(_0xe1247f[_0x47c9f8(0x19a)]&&_0xe1247f[_0x47c9f8(0x1d1)]){const _0x107300={};_0x107300[_0x47c9f8(0x1d4)]=_0xe1247f;const _0x2a31c2=_0x107300;_0x29167b&&(_0x2a31c2['proxyConfig']=_0x29167b),_0x2a31c2[_0x47c9f8(0x244)]=this[_0x47c9f8(0x244)],_0x2a31c2[_0x47c9f8(0x25c)]=this['config'],helper[_0x47c9f8(0x222)](_0x2a31c2),logger[_0x47c9f8(0x211)](_0x21c15a['CApLR']);}}catch(_0x36b039){logger[_0x47c9f8(0x211)]('Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20'+(_0x36b039['message']?_0x36b039[_0x47c9f8(0x17f)]:''));}});await _0x21c15a[_0x1fc75a(0x1bf)](_0x52718e);}[a55_0x399b99(0x1a2)](){const _0x5b36ab=a55_0x399b99,_0x591eb1={'Zjnul':function(_0x2ad528,_0x41e7c6){return _0x2ad528(_0x41e7c6);},'LTpDt':_0x5b36ab(0x25f)};_0x591eb1[_0x5b36ab(0x1b6)](require,_0x591eb1[_0x5b36ab(0x1f1)])();}[a55_0x399b99(0x249)](){const _0x5d4969=a55_0x399b99,_0x18d13e={};_0x18d13e[_0x5d4969(0x23a)]='unhandledRejection',_0x18d13e['CdWeu']='uncaughtException';const _0x7fca37=_0x18d13e,_0x4c02f5=_0x54fec3=>{const _0x5f5077=_0x5d4969;logger[_0x5f5077(0x262)](_0x54fec3[_0x5f5077(0x17f)]),logger[_0x5f5077(0x211)](util['format'](_0x54fec3)),this[_0x5f5077(0x1e8)]['push'](util[_0x5f5077(0x23e)]('%j',_0x54fec3)),PerformanceTester[_0x5f5077(0x21c)](_0x54fec3);};process['on'](_0x7fca37[_0x5d4969(0x23a)],_0x4c02f5),process['on'](_0x7fca37[_0x5d4969(0x1a4)],_0x4c02f5);}async['intExitHandler'](_0x4b5f44){const _0x4e739a=a55_0x399b99,_0x1266a0={};_0x1266a0[_0x4e739a(0x24a)]=_0x4e739a(0x25a),_0x1266a0[_0x4e739a(0x1ae)]=function(_0x1f94a8,_0x442cbe){return _0x1f94a8+_0x442cbe;},_0x1266a0[_0x4e739a(0x16f)]=_0x4e739a(0x19d),_0x1266a0[_0x4e739a(0x174)]=_0x4e739a(0x1ea),_0x1266a0['fwGyk']=function(_0x4efef,_0x47c615){return _0x4efef+_0x47c615;};const _0x29e287=_0x1266a0,_0x56d317=_0x29e287[_0x4e739a(0x24a)]['split']('|');let _0x4534cd=0x0;while(!![]){switch(_0x56d317[_0x4534cd++]){case'0':logger['info'](_0x29e287[_0x4e739a(0x1ae)](_0x29e287[_0x4e739a(0x16f)],_0x4b5f44));continue;case'1':await TestHubHandler['stop'](_0x4b5f44);continue;case'2':this[_0x4e739a(0x1c3)]=_0x4b5f44;continue;case'3':this[_0x29e287[_0x4e739a(0x1ae)](_0x29e287[_0x4e739a(0x174)],_0x4b5f44)]=!![];continue;case'4':if(this[_0x29e287[_0x4e739a(0x261)](_0x29e287['yxhzQ'],_0x4b5f44)])return;continue;}break;}}[a55_0x399b99(0x20c)](){const _0x36a677=a55_0x399b99,_0x15a79f={'CqSBP':function(_0x3be0ea,_0xd6fbd7){return _0x3be0ea===_0xd6fbd7;},'cBXQQ':_0x36a677(0x20d),'RyJgy':function(_0x20d3dc,_0x1e917e){return _0x20d3dc>_0x1e917e;},'qrqmD':function(_0x6cc370,_0x4f6adc){return _0x6cc370>_0x4f6adc;},'DRaDb':function(_0x2ece60){return _0x2ece60();},'sESYY':_0x36a677(0x1da)};let _0x16bb3b=0x0;return async()=>{const _0x33a425=_0x36a677;_0x16bb3b++;if(_0x15a79f['CqSBP'](_0x16bb3b,0x1)){helper[_0x33a425(0x194)](this[_0x33a425(0x244)])&&await this[_0x33a425(0x22a)]();try{logger[_0x33a425(0x211)](_0x15a79f[_0x33a425(0x19c)]),await TestHubHandler[_0x33a425(0x199)](_0x16bb3b);}catch(_0x342c1a){logger['debug'](_0x33a425(0x186)+util[_0x33a425(0x23e)](_0x342c1a));}PerformanceTester[_0x33a425(0x1df)](PerformanceEvents[_0x33a425(0x17a)]);if(PerformanceTester[_0x33a425(0x245)]()){const {measures:_0x119711,errors:_0x64d387}=await PerformanceTester['finalize'](),_0x558080={};if(_0x119711&&_0x15a79f[_0x33a425(0x218)](_0x119711['length'],0x0)||_0x64d387&&_0x15a79f[_0x33a425(0x188)](_0x64d387['length'],0x0)){const _0xc5c4fd={};_0xc5c4fd[_0x33a425(0x1ba)]=_0x119711,_0xc5c4fd[_0x33a425(0x1f6)]=_0x64d387,Object[_0x33a425(0x1cb)](_0x558080,_0xc5c4fd);}try{const _0x4a06e3=await helper['sendToEDS'](_0x558080,this[_0x33a425(0x176)]);logger[_0x33a425(0x211)](_0x33a425(0x239)+constants[_0x33a425(0x1e0)]+_0x33a425(0x1c6)+_0x4a06e3[_0x33a425(0x1f5)]);}catch(_0x30902b){logger['debug'](_0x33a425(0x1ee)+constants[_0x33a425(0x1e0)]+_0x33a425(0x25e)+util[_0x33a425(0x23e)](_0x30902b));}try{fs[_0x33a425(0x1fb)](path['join'](_0x15a79f[_0x33a425(0x193)](getLogDir),_0x15a79f['sESYY']),JSON[_0x33a425(0x1dd)](_0x558080));}catch(_0x4ce1b1){logger['debug'](_0x33a425(0x20a)+_0x4ce1b1);}}}};}}exports['default']=BrowserStackSetup;