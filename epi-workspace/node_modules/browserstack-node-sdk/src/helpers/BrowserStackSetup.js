const a85_0x508c61=a85_0x20a2;(function(_0x3e87,_0x682051){const _0x49329f=a85_0x20a2,_0x366006=_0x3e87();while(!![]){try{const _0x58e59f=-parseInt(_0x49329f(0x1af))/0x1+parseInt(_0x49329f(0x1ad))/0x2+parseInt(_0x49329f(0x219))/0x3+-parseInt(_0x49329f(0x27d))/0x4*(parseInt(_0x49329f(0x23c))/0x5)+-parseInt(_0x49329f(0x18d))/0x6*(parseInt(_0x49329f(0x1e4))/0x7)+parseInt(_0x49329f(0x258))/0x8*(parseInt(_0x49329f(0x1ac))/0x9)+parseInt(_0x49329f(0x1ba))/0xa*(parseInt(_0x49329f(0x253))/0xb);if(_0x58e59f===_0x682051)break;else _0x366006['push'](_0x366006['shift']());}catch(_0x25c69b){_0x366006['push'](_0x366006['shift']());}}}(a85_0x3792,0xec8fa));function a85_0x3792(){const _0x19edea=['265510QnuMuC','proxyConfig','EDS_URL','Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','../hubAllocationMethods','config','Percy\x20stopped','error','ZiGqb','../../package.json','setUpHubUrl','hubUrl','AI_PROXY_FAILURE','5|0|1|2|6|4|7|3','YcsnR','BrowserstackHealing.init\x20method\x20timed\x20out','UrShV','uuid','isUndefined','OGyaf','includes','Error\x20in\x20sending\x20testhub\x20stop:\x20','KgYis','stringify','../bin/utils/constants','fireFunnelTestEvent','BROWSERSTACK_TURBOSCALE','./utilities','16|9|3|17|21|6|18|13|1|0|12|8|7|11|4|10|15|20|2|5|19|14|22','accessKey','rEhUA','isTurboScaleSession','killSignal','isHealingEnabled','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','setBrowserstackInfraFromConfig','SIGINT','lWyyU','browserStackLocalOptions','isAuthenticated','initialize','SIGBREAK','platforms','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','setupKeepAlive','url','zfBru','HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20','getLocalIdentifier','percy','Error\x20in\x20writing\x20events\x20to\x20file\x20','setupTcgConfigFile','BROWSERSTACK_PERCY','3075447OdcWaE','./testhub/testhubHandler','parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','TCG_URL','Calling\x20Build\x20Stop\x20from\x20ExitHandler','setProxySettings','platform','stop','Vormv','PZlpJ','normalizeTestReportingEnvVars','measures','setupPercy','INVALID_INIT_RESP_WITH_USER_IMPACT','Fnkfy','toString','false','selenium-webdriver','sanitizeCaps','AUTOLOGCAPTURE_NOTIFICATION','bgtop','mJcVG','skipSessionStatus','SIGHUP','TCG_DOWN','push','jBUyz','info','HsEyI','testContextOptions','NVLse','join','tcg\x20config\x20setup\x20successful.','uedsd','UPGRADE_REQUIRED','389705bAMfOp','BrowserstackHealing.init','envConfig','DDdOi','XjUFW','allocateHub','warn','cnwOt','fkEKo','RGbYZ','EBDDu','setupBrowserstackLocal','xrIkR','beforeExit','Shutdown\x20triggered\x20by\x20','browserstackLocal','exTUU','tcgAuthConfig','assign','tSbzr','writeFileSync','sendToEDS','IilwL','649aMJJvR','TCG_AUTH_TIMEOUT','Error\x20occured\x20while\x20stopping\x20local\x20binary','KkTND','parallelsPerPlatform','8fgRdMK','userName','bsnUz','BxUeG','qrCrP','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','userName\x20or\x20accessKey\x20is\x20not\x20defined','FRAMEWORK','skipSessionName','wGeoE','JUFvP','./logger','HUB_MANAGEMENT','handleExceptions','localOptions','Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled','byUXE','message','EBvps','bFKiS','forceLocal','captureError','Percy\x20started\x20successfully','isBrowserstackInfra','fileLogger','playwrightUrl','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','true','esFqp','YZkGH','KdWyl','selfHeal','./performance/performance-tester','cliConfig','SIGQUIT','../ai-sdk-node/bundle','setCLICaps','68Rnmqmy','?caps=','getConfigPath','close','events.json','isRunning','getCentralUser','Aacvk','path','unhandledErrors','toLowerCase','env','Data\x20sent\x20successfully\x20to\x20','./testhub/utils','getPackageVersion','measureWrapper','\x20with\x20response\x20','checkStopLocalBinaryOnExit','adYrv','EVBNa','Local\x20binary\x20stopped','turboScaleGridDetails','playwright','localIdentifier','getFinalCaps','yTIkq','ttkQc','JBiEX','6AlyWki','util','generateLocalIdentifier','stopBrowserstackLocal','OyWLa','integrations','SDK\x20run\x20started\x20with\x20id:\x20','preInitialize','getInstance','split','skipBinaryInitialisation','ZlWby','wZejP','useW3C','setupTCGAuth','framework','isTrialGrid','cFNQI','version','ujCQC','JROkr','turboScaleOptions','iAdzB','sdkRunId','uoIWe','cWAar','debug','./setKeepAlive','MztQx','startPercy','length','2824353JJyYyL','779552GyuoHB','Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.','1874802mHksBT','setLogLevel','./performance/constants','winstonLogger','constructor','__isPlaywrightInstalled','handled','format','VjhmS','isEnabled','compareVersions','419990JaluyZ','GbCeO','setHandlePWError','proxy','uQGaD','./timeoutPromise','custom-repeater','stopLocalBinary','../bin/v2/browserstackCLI','SDKTestAttempted','cancel','UCsTF','SIGABRT','status','VCJrG','uDcBL','hrKdW','init','tgIMF','BrowserstackHealingInitFailed','turboScaleUrl','Error\x20occured\x20while\x20stopping\x20percy','intExitHandler','setCredentialsFromYmlConfig','KvSnQ','turboScale','default','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','TCG_AUTH_FAILURE','Failed\x20to\x20send\x20data\x20to\x20','bind','EYEDV','readConfig','end','getProxyConfigForTcg','uncaughtException','wJTMs','4.5.0','proxyUrl','isTrue','Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','errorMessage'];a85_0x3792=function(){return _0x19edea;};return a85_0x3792();}const util=require(a85_0x508c61(0x18e)),os=require('os'),path=require(a85_0x508c61(0x285)),{v4:uuidv4}=require(a85_0x508c61(0x1f5)),fs=require('fs'),constants=require(a85_0x508c61(0x1fc)),logger=require('./logger')[a85_0x508c61(0x1b2)],fileLogger=require(a85_0x508c61(0x263))[a85_0x508c61(0x270)],{getLogDir}=require(a85_0x508c61(0x263)),helper=require('./helper'),utilities=require(a85_0x508c61(0x1ff)),percyHelper=require('./percy/utils'),hubAllocator=require(a85_0x508c61(0x1e8)),PerformanceTester=require(a85_0x508c61(0x278)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require(a85_0x508c61(0x1b1)),{setPercyFlag}=require(a85_0x508c61(0x28a)),TestHubHandler=require(a85_0x508c61(0x21a)),timeoutPromise=require(a85_0x508c61(0x1bf)),BrowserstackCLI=require(a85_0x508c61(0x1c2));class BrowserStackSetup{constructor(_0x59a348,_0x1fb39f){const _0x3263bd=a85_0x508c61,_0x450db7={'EYEDV':_0x3263bd(0x200),'zfBru':'No\x20config\x20provided.','hrKdW':function(_0x38fc2f){return _0x38fc2f();}},_0x170aa2=_0x450db7[_0x3263bd(0x1d9)][_0x3263bd(0x196)]('|');let _0x5ad81d=0x0;while(!![]){switch(_0x170aa2[_0x5ad81d++]){case'0':this[_0x3263bd(0x1e3)]={};continue;case'1':this[_0x3263bd(0x1e9)]['testContextOptions']=this[_0x3263bd(0x1e9)]['testContextOptions']||{};continue;case'2':this['config']['testContextOptions'][_0x3263bd(0x260)]=!helper[_0x3263bd(0x26f)]()||helper[_0x3263bd(0x1e1)](this['config'][_0x3263bd(0x236)]['skipSessionName']);continue;case'3':this[_0x3263bd(0x23e)]=helper['setEnvCaps']();continue;case'4':if(this['config'][_0x3263bd(0x1eb)])throw new Error(this['config'][_0x3263bd(0x1eb)]);continue;case'5':helper[_0x3263bd(0x189)](this[_0x3263bd(0x1e9)],this[_0x3263bd(0x279)],this[_0x3263bd(0x23e)]);continue;case'6':this[_0x3263bd(0x1e9)]=helper[_0x3263bd(0x1da)](helper[_0x3263bd(0x27f)](_0x59a348));continue;case'7':global[_0x3263bd(0x19c)]=_0x1fb39f;continue;case'8':this['framework']=_0x1fb39f;continue;case'9':helper[_0x3263bd(0x223)]();continue;case'10':helper[_0x3263bd(0x207)](this[_0x3263bd(0x1e9)],this[_0x3263bd(0x279)]);continue;case'11':if(helper['isUndefined'](this[_0x3263bd(0x1e9)]))throw new Error(_0x450db7[_0x3263bd(0x212)]);continue;case'12':this[_0x3263bd(0x1a4)]=_0x450db7[_0x3263bd(0x1ca)](uuidv4);continue;case'13':this[_0x3263bd(0x1e9)][_0x3263bd(0x20e)]=this[_0x3263bd(0x1e9)][_0x3263bd(0x20e)]||[];continue;case'14':helper[_0x3263bd(0x1b0)](this['config'],this[_0x3263bd(0x279)],this[_0x3263bd(0x23e)]);continue;case'15':helper[_0x3263bd(0x1d1)](this['config']);continue;case'16':this[_0x3263bd(0x286)]=[];continue;case'17':this[_0x3263bd(0x24b)]=null;continue;case'18':this['cliConfig']=helper[_0x3263bd(0x27c)](_0x59a348);continue;case'19':helper['setLogDir'](this['config']);continue;case'20':this['config']['testContextOptions'][_0x3263bd(0x22f)]=!helper[_0x3263bd(0x26f)]()||helper[_0x3263bd(0x1e1)](this[_0x3263bd(0x1e9)][_0x3263bd(0x236)][_0x3263bd(0x22f)]);continue;case'21':this['percy']=null;continue;case'22':PerformanceTester['startMonitoring']();continue;}break;}}[a85_0x508c61(0x194)](_0x1124d9){const _0x3c0e15=a85_0x508c61,_0x30873c={'ZlWby':_0x3c0e15(0x25e),'OGyaf':function(_0x327033,_0x3e2772){return _0x327033===_0x3e2772;},'Fnkfy':function(_0x9ec42c,_0x2e8723){return _0x9ec42c===_0x2e8723;},'PbEMy':_0x3c0e15(0x192),'cWAar':_0x3c0e15(0x1c3),'tgIMF':function(_0x473bb2,_0x242bbe){return _0x473bb2<_0x242bbe;},'MztQx':function(_0x5ce118,_0x188fd1){return _0x5ce118(_0x188fd1);},'Vormv':_0x3c0e15(0x22a),'DOGQA':function(_0x2c5908,_0x5098da){return _0x2c5908===_0x5098da;},'JUFvP':_0x3c0e15(0x1df),'KdWyl':_0x3c0e15(0x206),'WWpzC':_0x3c0e15(0x21b),'exTUU':'SIGTERM','qVBMq':_0x3c0e15(0x208),'Aacvk':_0x3c0e15(0x230),'JBiEX':function(_0x1973be,_0x313570){return _0x1973be!==_0x313570;},'cnwOt':'win32','wJTMs':_0x3c0e15(0x1c6),'SzFyx':_0x3c0e15(0x27a),'NVLse':_0x3c0e15(0x20d),'KSUqf':'beforeExit'},_0xc40291=this['framework'];global[_0x3c0e15(0x1e9)]=this['config'],helper[_0x3c0e15(0x22b)](this[_0x3c0e15(0x1e9)]),this[_0x3c0e15(0x204)]=null,global[_0x3c0e15(0x1a4)]=this[_0x3c0e15(0x1a4)],logger['info'](_0x3c0e15(0x193)+this[_0x3c0e15(0x1a4)]),!this[_0x3c0e15(0x1e9)]['browserStackLocalOptions']&&(this[_0x3c0e15(0x1e9)][_0x3c0e15(0x20a)]=this[_0x3c0e15(0x1e9)][_0x3c0e15(0x266)]||{});if(helper[_0x3c0e15(0x1f6)](helper['getUserName'](this[_0x3c0e15(0x1e9)]))||helper['isUndefined'](helper['getAccessKey'](this[_0x3c0e15(0x1e9)])))throw new Error(_0x30873c[_0x3c0e15(0x198)]);helper['getLocalConfig'](this[_0x3c0e15(0x1e9)])&&helper['isUndefined'](helper[_0x3c0e15(0x214)](this[_0x3c0e15(0x1e9)]))&&(!helper[_0x3c0e15(0x1f6)](this[_0x3c0e15(0x1e9)][_0x3c0e15(0x20a)])&&_0x30873c[_0x3c0e15(0x1f7)](this[_0x3c0e15(0x1e9)]['browserStackLocalOptions'][_0x3c0e15(0x1b3)],Object)?!helper[_0x3c0e15(0x1e1)](this[_0x3c0e15(0x1e9)]['browserStackLocalOptions']['skipBinaryInitialisation'])&&(this['config'][_0x3c0e15(0x20a)][_0x3c0e15(0x188)]=helper['generateLocalIdentifier']()):this['config'][_0x3c0e15(0x20a)]={'localIdentifier':helper[_0x3c0e15(0x18f)]()});this['config'][_0x3c0e15(0x20a)][_0x3c0e15(0x197)]=helper[_0x3c0e15(0x1e1)](this[_0x3c0e15(0x1e9)]['browserStackLocalOptions'][_0x3c0e15(0x197)]),helper[_0x3c0e15(0x1bc)](this['config']);if(_0x30873c[_0x3c0e15(0x227)](_0xc40291,_0x30873c['PbEMy']))return;this[_0x3c0e15(0x265)]();process['env'][_0x3c0e15(0x1fe)]&&(this['config'][_0x3c0e15(0x1d3)]=helper[_0x3c0e15(0x1e1)](process[_0x3c0e15(0x288)][_0x3c0e15(0x1fe)]),this[_0x3c0e15(0x1e9)][_0x3c0e15(0x1a2)]=this['config'][_0x3c0e15(0x1a2)]||{});helper['isTurboScaleSession'](this[_0x3c0e15(0x1e9)])&&(process[_0x3c0e15(0x288)][_0x3c0e15(0x1fe)]=!![]);if(!helper[_0x3c0e15(0x26f)]()){try{process[_0x3c0e15(0x288)][_0x3c0e15(0x25f)]=_0xc40291,utilities[_0x3c0e15(0x1fd)](_0x30873c[_0x3c0e15(0x1a6)],{},this[_0x3c0e15(0x1e9)],this[_0x3c0e15(0x19c)]);}catch(_0x39aa83){logger[_0x3c0e15(0x1a7)](_0x3c0e15(0x272)+_0x39aa83);}return;}if(helper['requireSeleniumWebdriverCheck'](_0xc40291)){if(global[_0x3c0e15(0x1b4)])return;_0x30873c[_0x3c0e15(0x1cc)](_0x30873c[_0x3c0e15(0x1a9)](parseInt,helper[_0x3c0e15(0x28b)](_0x30873c['Vormv'])),0x3)&&(this[_0x3c0e15(0x1e9)][_0x3c0e15(0x19a)]=![]),_0x30873c['DOGQA'](helper[_0x3c0e15(0x1b9)](helper[_0x3c0e15(0x28b)](_0x30873c[_0x3c0e15(0x221)]),_0x30873c[_0x3c0e15(0x262)]),0x1)&&(this[_0x3c0e15(0x1e9)][_0x3c0e15(0x19a)]=!![]);}(helper[_0x3c0e15(0x1f6)](this[_0x3c0e15(0x1e9)][_0x3c0e15(0x20e)])||helper['isUndefined'](this['config'][_0x3c0e15(0x20e)][_0x3c0e15(0x1ab)]))&&(helper[_0x3c0e15(0x1f6)](this[_0x3c0e15(0x1e9)][_0x3c0e15(0x257)])?logger['info'](_0x30873c[_0x3c0e15(0x276)]):logger[_0x3c0e15(0x242)](_0x30873c['WWpzC']),this[_0x3c0e15(0x1e9)][_0x3c0e15(0x20e)]=[]);!this[_0x3c0e15(0x1e9)][_0x3c0e15(0x236)]&&(this[_0x3c0e15(0x1e9)][_0x3c0e15(0x236)]={});try{process[_0x3c0e15(0x288)]['FRAMEWORK']=_0x1124d9['_'][0x0],utilities['fireFunnelTestEvent'](_0x30873c['cWAar'],{},this[_0x3c0e15(0x1e9)],this[_0x3c0e15(0x19c)]);}catch(_0x236668){logger['debug'](_0x3c0e15(0x272)+_0x236668);}!this[_0x3c0e15(0x1e9)]['disableAutoCaptureLogs']&&logger[_0x3c0e15(0x234)](constants[_0x3c0e15(0x22c)]),this[_0x3c0e15(0x1d0)]=this[_0x3c0e15(0x1d0)][_0x3c0e15(0x1d8)](this),process['on'](_0x30873c[_0x3c0e15(0x24c)],this[_0x3c0e15(0x1d0)]),process['on'](_0x30873c['qVBMq'],this[_0x3c0e15(0x1d0)]),process['on'](_0x30873c[_0x3c0e15(0x284)],this[_0x3c0e15(0x1d0)]),_0x30873c[_0x3c0e15(0x18c)](process['platform'],_0x30873c[_0x3c0e15(0x243)])?(process['on'](_0x30873c[_0x3c0e15(0x1de)],this['intExitHandler']),process['on'](_0x30873c['SzFyx'],this['intExitHandler'])):process['on'](_0x30873c[_0x3c0e15(0x237)],this[_0x3c0e15(0x1d0)]),process['on'](_0x30873c['KSUqf'],this['exitHandler']());}async[a85_0x508c61(0x20c)](_0x33d0a1){const _0x360765=a85_0x508c61,_0x111a40={'PZlpJ':'ats-repeater','YcsnR':_0x360765(0x1c0),'HbDoU':'true','VCJrG':function(_0x361327,_0xe362b3){return _0x361327===_0xe362b3;},'uoIWe':_0x360765(0x187),'uQGaD':function(_0x5569d7,_0x4c01f1){return _0x5569d7+_0x4c01f1;},'lWyyU':_0x360765(0x27e),'CZJTp':function(_0x4b5743,_0x55466b){return _0x4b5743(_0x55466b);},'GbCeO':'codeceptjs'};this[_0x360765(0x194)](_0x33d0a1);if(helper[_0x360765(0x203)](this[_0x360765(0x1e9)])){const _0x18475e=await helper['getTurboScaleGridDetails'](this[_0x360765(0x1e9)]);this[_0x360765(0x1e9)][_0x360765(0x186)]=_0x18475e,_0x18475e[_0x360765(0x19d)]&&helper['isNotUndefined'](this[_0x360765(0x1e9)]['browserstackLocal'])&&helper[_0x360765(0x1e1)](this[_0x360765(0x1e9)][_0x360765(0x24b)])&&(this['config']['browserStackLocalOptions'][_0x360765(0x188)]=_0x111a40[_0x360765(0x222)],this['config']['browserStackLocalOptions'][_0x111a40[_0x360765(0x1f2)]]=_0x18475e['customRepeaters'][_0x360765(0x238)](','),this[_0x360765(0x1e9)][_0x360765(0x20a)][_0x360765(0x26c)]=_0x111a40['HbDoU']),this[_0x360765(0x1e9)]['turboScaleUrl']=_0x18475e[_0x360765(0x211)],this[_0x360765(0x19c)]&&_0x111a40[_0x360765(0x1c8)](this[_0x360765(0x19c)][_0x360765(0x287)](),_0x111a40[_0x360765(0x1a5)])?this[_0x360765(0x1e9)][_0x360765(0x1ce)]=_0x111a40[_0x360765(0x1be)](_0x18475e[_0x360765(0x271)],_0x111a40[_0x360765(0x209)]):constants[_0x360765(0x1ef)]=helper['getHubUrl'](this[_0x360765(0x1e9)]),logger['debug'](_0x360765(0x213)+constants[_0x360765(0x1ef)]);}helper[_0x360765(0x21e)](this[_0x360765(0x1e9)]),this[_0x360765(0x210)](),_0x111a40['CZJTp'](setPercyFlag,this),await this['setupBrowserstackLocal'](),![_0x111a40[_0x360765(0x1bb)],_0x111a40[_0x360765(0x1a5)]][_0x360765(0x1f8)](this[_0x360765(0x19c)])&&!helper['isTurboScaleSession'](this[_0x360765(0x1e9)])&&!helper[_0x360765(0x283)]()['central_scanner']&&await this[_0x360765(0x1ee)]();}async[a85_0x508c61(0x225)](){const _0xbc7f8d=a85_0x508c61,_0x299514={};_0x299514[_0xbc7f8d(0x18b)]=function(_0x1c3792,_0x182808){return _0x1c3792===_0x182808;},_0x299514[_0xbc7f8d(0x22e)]=_0xbc7f8d(0x229),_0x299514['adYrv']=_0xbc7f8d(0x1ae),_0x299514[_0xbc7f8d(0x1fa)]=_0xbc7f8d(0x26e),_0x299514[_0xbc7f8d(0x248)]=_0xbc7f8d(0x273),_0x299514[_0xbc7f8d(0x1a3)]=_0xbc7f8d(0x249);const _0x5acec1=_0x299514;if(helper[_0xbc7f8d(0x1e1)](this[_0xbc7f8d(0x1e9)]['percy'])&&(!this[_0xbc7f8d(0x215)]||!this['percy'][_0xbc7f8d(0x282)]()))try{this['percy']=await percyHelper[_0xbc7f8d(0x1aa)](this[_0xbc7f8d(0x1e9)]);if(!this[_0xbc7f8d(0x215)]){process[_0xbc7f8d(0x288)][_0xbc7f8d(0x218)]=_0x5acec1[_0xbc7f8d(0x22e)];throw new Error(_0x5acec1[_0xbc7f8d(0x183)]);}logger['info'](_0x5acec1[_0xbc7f8d(0x1fa)]),process[_0xbc7f8d(0x288)][_0xbc7f8d(0x218)]=_0x5acec1[_0xbc7f8d(0x248)];let _0x50fa40=0x0;const _0x5e705d=async()=>{const _0x5b4d32=_0xbc7f8d;_0x50fa40++,_0x5acec1[_0x5b4d32(0x18b)](_0x50fa40,0x1)&&await this['stopPercy']();};process['on'](_0x5acec1['iAdzB'],_0x5e705d);}catch(_0x5a71e6){process[_0xbc7f8d(0x288)][_0xbc7f8d(0x218)]=_0x5acec1[_0xbc7f8d(0x22e)],logger[_0xbc7f8d(0x1a7)]('Error\x20in\x20percy\x20setup\x20'+_0x5a71e6);throw new Error(_0x5a71e6['toString']());}}async['stopPercy'](){const _0x1b0995=a85_0x508c61,_0x97f41e={};_0x97f41e[_0x1b0995(0x233)]=_0x1b0995(0x1ea),_0x97f41e[_0x1b0995(0x275)]=_0x1b0995(0x1cf);const _0xf7dd8b=_0x97f41e;if(this['percy']&&this[_0x1b0995(0x215)][_0x1b0995(0x282)]())try{await percyHelper['stopPercy'](this[_0x1b0995(0x215)]),logger['info'](_0xf7dd8b[_0x1b0995(0x233)]);}catch(_0x104a3c){logger[_0x1b0995(0x1eb)](_0xf7dd8b[_0x1b0995(0x275)],_0x104a3c['message']);}}async[a85_0x508c61(0x247)](){const _0x76b22c=a85_0x508c61,_0x15ee10={};_0x15ee10[_0x76b22c(0x268)]=_0x76b22c(0x267),_0x15ee10['Pbiqi']='Local\x20binary\x20started\x20successfully';const _0x2e250f=_0x15ee10;if(helper[_0x76b22c(0x26f)]()&&helper[_0x76b22c(0x1e1)](this[_0x76b22c(0x1e9)][_0x76b22c(0x24b)])&&(!this[_0x76b22c(0x24b)]||!this['browserstackLocal'][_0x76b22c(0x282)]()))try{if(this[_0x76b22c(0x1e9)][_0x76b22c(0x20a)][_0x76b22c(0x197)]){logger[_0x76b22c(0x1a7)](_0x2e250f[_0x76b22c(0x268)]);return;}this[_0x76b22c(0x24b)]=await helper['startLocalBinary'](this[_0x76b22c(0x1e9)]),logger['info'](_0x2e250f['Pbiqi']);}catch(_0x57815c){logger['debug'](_0x57815c);throw new Error(_0x57815c[_0x76b22c(0x228)]());}}async['stopBrowserstackLocal'](){const _0x13b9e5=a85_0x508c61,_0x2b6e72={};_0x2b6e72[_0x13b9e5(0x274)]=_0x13b9e5(0x185),_0x2b6e72[_0x13b9e5(0x240)]=_0x13b9e5(0x255);const _0x28c7d2=_0x2b6e72;if(this[_0x13b9e5(0x24b)]&&this[_0x13b9e5(0x24b)][_0x13b9e5(0x282)]())try{await helper[_0x13b9e5(0x1c1)](this[_0x13b9e5(0x24b)]),logger[_0x13b9e5(0x234)](_0x28c7d2['esFqp']);}catch(_0x4b53c0){logger[_0x13b9e5(0x1eb)](_0x28c7d2[_0x13b9e5(0x240)],_0x4b53c0[_0x13b9e5(0x269)]);}}async['setUpHubUrl'](){const _0x459612=a85_0x508c61;return PerformanceTester[_0x459612(0x28c)](PerformanceAutEvents[_0x459612(0x264)],async()=>{const _0x47de6c=_0x459612;await hubAllocator[_0x47de6c(0x241)](this[_0x47de6c(0x1e9)]);})();}async[a85_0x508c61(0x19b)](){const _0x32c342=a85_0x508c61,_0x437dda={'HsEyI':function(_0x3381ef,_0x36cbf6){return _0x3381ef(_0x36cbf6);},'OyWLa':_0x32c342(0x27b),'wGeoE':function(_0x5d87fd,_0x32e33b,_0x1ed3b3,_0x16c1e1,_0x11619b,_0x24888e,_0x5c71e6){return _0x5d87fd(_0x32e33b,_0x1ed3b3,_0x16c1e1,_0x11619b,_0x24888e,_0x5c71e6);},'bFKiS':_0x32c342(0x1f3),'DDdOi':_0x32c342(0x1cd),'BxUeG':function(_0x164713,_0x5e5c26){return _0x164713(_0x5e5c26);},'qrCrP':_0x32c342(0x1ed),'EVBNa':_0x32c342(0x23d),'uedsd':function(_0x1d2fa9,_0x27039d){return _0x1d2fa9===_0x27039d;},'cFNQI':_0x32c342(0x273),'yTIkq':function(_0x465236,_0x41364f){return _0x465236===_0x41364f;},'JUeSF':function(_0x1fc96c,_0xf3c351){return _0x1fc96c===_0xf3c351;},'wZejP':function(_0x58c406,_0x24bdcd){return _0x58c406===_0x24bdcd;},'zYOoV':function(_0xfd824d,_0x5cd0d2){return _0xfd824d===_0x5cd0d2;},'fkEKo':_0x32c342(0x1d5),'VgmyN':function(_0x39d2be,_0x3bba77){return _0x39d2be===_0x3bba77;},'VjhmS':_0x32c342(0x20f),'bsnUz':_0x32c342(0x1e7),'rEhUA':function(_0x322ff1,_0x598607){return _0x322ff1(_0x598607);},'bgtop':_0x32c342(0x1e2),'ZiGqb':function(_0x18b963,_0x1c33d5){return _0x18b963>=_0x1c33d5;},'jwFXG':function(_0xa042a0,_0x426dcb){return _0xa042a0<_0x426dcb;},'DjZzS':function(_0xc8b7df,_0x2c255b){return _0xc8b7df>=_0x2c255b;},'IilwL':_0x32c342(0x239),'tSbzr':'aiHeal:tcgAuth','ujCQC':function(_0xbe4b6b){return _0xbe4b6b();}},_0x453a8c=PerformanceTester[_0x32c342(0x28c)](_0x437dda[_0x32c342(0x24f)],async()=>{const _0x13c11e=_0x32c342;try{const _0x2662e0=new Date(),_0x11c345=helper[_0x13c11e(0x1dc)](this[_0x13c11e(0x1e9)]),_0x2a5626=_0x437dda[_0x13c11e(0x235)](require,path[_0x13c11e(0x238)](__dirname,_0x437dda[_0x13c11e(0x191)])),_0x3ac527=_0x437dda[_0x13c11e(0x261)](timeoutPromise,constants[_0x13c11e(0x254)],_0x437dda[_0x13c11e(0x26b)],_0x437dda[_0x13c11e(0x23f)],_0x2662e0,this['config'],this[_0x13c11e(0x19c)]),_0x2151d8={'tcgUrl':constants[_0x13c11e(0x21c)],'sdkVersion':_0x437dda[_0x13c11e(0x25b)](require,_0x437dda['qrCrP'])[_0x13c11e(0x19f)],'methodUsed':_0x437dda['EVBNa'],'proxyConfig':_0x11c345,'os':os[_0x13c11e(0x21f)]()};if(_0x11c345&&_0x11c345[_0x13c11e(0x1e0)]){utilities['fireFunnelTestEvent'](constants[_0x13c11e(0x1f0)],_0x2151d8,this[_0x13c11e(0x1e9)],this[_0x13c11e(0x19c)]);return;}const _0x37f4b5={};_0x37f4b5[_0x13c11e(0x1bd)]=_0x11c345;const _0x2c12e5=await Promise['race']([_0x2a5626[_0x13c11e(0x1cb)](this[_0x13c11e(0x1e9)][_0x13c11e(0x201)],this['config'][_0x13c11e(0x259)],constants[_0x13c11e(0x21c)],_0x437dda[_0x13c11e(0x25b)](require,_0x437dda[_0x13c11e(0x25c)])['version'],_0x37f4b5)['then'](_0x517300=>{const _0x3c96ae=_0x13c11e;return _0x3ac527[_0x3c96ae(0x1c4)](),_0x517300;}),_0x3ac527]);_0x2c12e5[_0x13c11e(0x205)]=_0x437dda[_0x13c11e(0x23a)](_0x2c12e5[_0x13c11e(0x205)],_0x437dda[_0x13c11e(0x19e)])||_0x437dda[_0x13c11e(0x18a)](_0x2c12e5[_0x13c11e(0x205)],!![]);const _0xe488ca=_0x437dda['JUeSF'](this['config']['selfHeal'],!![])||_0x437dda[_0x13c11e(0x199)](this[_0x13c11e(0x1e9)][_0x13c11e(0x277)],_0x437dda['cFNQI']);if(_0x437dda['zYOoV'](_0x2c12e5['message'],constants[_0x13c11e(0x23b)])&&_0xe488ca)logger[_0x13c11e(0x234)](_0x437dda[_0x13c11e(0x244)]);else{if(!_0x2c12e5[_0x13c11e(0x20b)]&&_0x437dda['VgmyN'](_0x2c12e5['status'],0x1f7)&&_0xe488ca)logger[_0x13c11e(0x234)](_0x437dda[_0x13c11e(0x1b7)]),utilities[_0x13c11e(0x1fd)](constants[_0x13c11e(0x231)],_0x2151d8,this[_0x13c11e(0x1e9)],this[_0x13c11e(0x19c)]);else{if(!_0x2c12e5[_0x13c11e(0x20b)]&&_0xe488ca){logger[_0x13c11e(0x234)](_0x437dda[_0x13c11e(0x25a)]);const _0x259f1f={'tcgUrl':constants[_0x13c11e(0x21c)],'sdkVersion':_0x437dda[_0x13c11e(0x202)](require,_0x437dda['qrCrP'])['version'],'methodUsed':_0x437dda[_0x13c11e(0x184)],'proxyConfig':_0x11c345,'os':os[_0x13c11e(0x21f)]()};utilities['fireFunnelTestEvent'](constants[_0x13c11e(0x1d6)],_0x259f1f,this[_0x13c11e(0x1e9)],this[_0x13c11e(0x19c)]);}else{if(_0x2c12e5[_0x13c11e(0x20b)]&&!_0x2c12e5[_0x13c11e(0x205)]&&_0xe488ca)logger['info'](_0x437dda[_0x13c11e(0x22d)]);else{if(_0x437dda[_0x13c11e(0x1ec)](_0x2c12e5[_0x13c11e(0x1c7)],0xc8)&&_0x437dda['jwFXG'](_0x2c12e5[_0x13c11e(0x1c7)],0x12c))utilities[_0x13c11e(0x1fd)](constants['AI_INIT_SUCCESSFUL'],_0x2151d8,this[_0x13c11e(0x1e9)],this[_0x13c11e(0x19c)]);else{if(_0x437dda['DjZzS'](_0x2c12e5[_0x13c11e(0x1c7)],0x190))_0x2151d8[_0x13c11e(0x1c7)]=_0x2c12e5[_0x13c11e(0x1c7)],utilities[_0x13c11e(0x1fd)](constants['AI_INIT_FAILURE'],_0x2151d8,this[_0x13c11e(0x1e9)],this[_0x13c11e(0x19c)]);else!_0x2c12e5[_0x13c11e(0x1c7)]&&utilities[_0x13c11e(0x1fd)](constants[_0x13c11e(0x226)],_0x2151d8,this['config'],this[_0x13c11e(0x19c)]);}}}}}if(_0x2c12e5['isAuthenticated']&&_0x2c12e5['isHealingEnabled']){const _0x155d66={};_0x155d66[_0x13c11e(0x24d)]=_0x2c12e5;const _0x308beb=_0x155d66;_0x11c345&&(_0x308beb[_0x13c11e(0x1e5)]=_0x11c345),_0x308beb[_0x13c11e(0x19c)]=this['framework'],_0x308beb['bstackConfig']=this[_0x13c11e(0x1e9)],helper[_0x13c11e(0x217)](_0x308beb),logger[_0x13c11e(0x1a7)](_0x437dda[_0x13c11e(0x252)]);}}catch(_0x6feba6){logger[_0x13c11e(0x1a7)](_0x13c11e(0x25d)+(_0x6feba6[_0x13c11e(0x269)]?_0x6feba6['message']:''));}});await _0x437dda[_0x32c342(0x1a0)](_0x453a8c);}[a85_0x508c61(0x210)](){const _0x59490b=a85_0x508c61,_0x103df8={'RBlbQ':function(_0x4fbcef,_0xb473e){return _0x4fbcef(_0xb473e);},'KvSnQ':_0x59490b(0x1a8)};_0x103df8['RBlbQ'](require,_0x103df8[_0x59490b(0x1d2)])();}[a85_0x508c61(0x265)](){const _0x3e4c8c=a85_0x508c61,_0x584817={};_0x584817['EBDDu']='unhandledRejection',_0x584817[_0x3e4c8c(0x1c5)]=_0x3e4c8c(0x1dd);const _0xf24b7a=_0x584817,_0x3485e9=_0x28b88b=>{const _0x46663c=_0x3e4c8c;logger[_0x46663c(0x1eb)](_0x28b88b[_0x46663c(0x269)]),logger[_0x46663c(0x1a7)](util[_0x46663c(0x1b6)](_0x28b88b)),this[_0x46663c(0x286)][_0x46663c(0x232)](util[_0x46663c(0x1b6)]('%j',_0x28b88b)),PerformanceTester[_0x46663c(0x26d)](_0x28b88b);};process['on'](_0xf24b7a[_0x3e4c8c(0x246)],_0x3485e9),process['on'](_0xf24b7a[_0x3e4c8c(0x1c5)],_0x3485e9);}async[a85_0x508c61(0x1d0)](_0x50bb1b){const _0x42e19=a85_0x508c61,_0xf82f85={};_0xf82f85['UrShV']=_0x42e19(0x1f1),_0xf82f85[_0x42e19(0x26a)]=function(_0x21710b,_0x2a0fa8){return _0x21710b+_0x2a0fa8;},_0xf82f85[_0x42e19(0x1a1)]=_0x42e19(0x1b5),_0xf82f85[_0x42e19(0x1c9)]=function(_0x329312,_0xeb8f46){return _0x329312+_0xeb8f46;},_0xf82f85['RGbYZ']=_0x42e19(0x24a);const _0x46469b=_0xf82f85,_0x484740=_0x46469b[_0x42e19(0x1f4)][_0x42e19(0x196)]('|');let _0x3ca84f=0x0;while(!![]){switch(_0x484740[_0x3ca84f++]){case'0':fileLogger&&fileLogger[_0x42e19(0x280)]();continue;case'1':if(this[_0x46469b[_0x42e19(0x26a)](_0x46469b[_0x42e19(0x1a1)],_0x50bb1b)])return;continue;case'2':this[_0x46469b[_0x42e19(0x1c9)](_0x46469b[_0x42e19(0x1a1)],_0x50bb1b)]=!![];continue;case'3':await BrowserstackCLI[_0x42e19(0x195)]()[_0x42e19(0x220)]();continue;case'4':this[_0x42e19(0x204)]=_0x50bb1b;continue;case'5':logger&&logger[_0x42e19(0x280)]();continue;case'6':logger['info'](_0x46469b[_0x42e19(0x26a)](_0x46469b[_0x42e19(0x245)],_0x50bb1b));continue;case'7':await TestHubHandler[_0x42e19(0x220)](_0x50bb1b);continue;}break;}}['exitHandler'](){const _0x5afb1b=a85_0x508c61,_0x2bd508={'KsBuo':function(_0x573881,_0xfa593a){return _0x573881===_0xfa593a;},'uiQPD':_0x5afb1b(0x21d),'KkTND':function(_0x1023ba,_0x4851ca){return _0x1023ba>_0x4851ca;},'rHdCl':function(_0x1e4b96){return _0x1e4b96();},'DhaIZ':_0x5afb1b(0x281)};let _0x3f5c2e=0x0;return async()=>{const _0x5afd09=_0x5afb1b;_0x3f5c2e++;if(_0x2bd508['KsBuo'](_0x3f5c2e,0x1)){helper[_0x5afd09(0x28e)](this[_0x5afd09(0x19c)])&&await this[_0x5afd09(0x190)]();try{logger[_0x5afd09(0x1a7)](_0x2bd508['uiQPD']),await TestHubHandler['stop'](_0x3f5c2e),await BrowserstackCLI[_0x5afd09(0x195)]()['stop']('1');}catch(_0x2409c1){logger[_0x5afd09(0x1a7)](_0x5afd09(0x1f9)+util[_0x5afd09(0x1b6)](_0x2409c1));}PerformanceTester[_0x5afd09(0x1db)](PerformanceEvents['SDK_CLEANUP']);if(PerformanceTester[_0x5afd09(0x1b8)]()){const {measures:_0xb3256a,errors:_0x17dd34}=await PerformanceTester['finalize'](),_0x52603e={};if(_0xb3256a&&_0x2bd508[_0x5afd09(0x256)](_0xb3256a[_0x5afd09(0x1ab)],0x0)||_0x17dd34&&_0x2bd508[_0x5afd09(0x256)](_0x17dd34[_0x5afd09(0x1ab)],0x0)){const _0x40ddac={};_0x40ddac[_0x5afd09(0x224)]=_0xb3256a,_0x40ddac['exceptions']=_0x17dd34,Object[_0x5afd09(0x24e)](_0x52603e,_0x40ddac);}try{const _0x204c72=await helper[_0x5afd09(0x251)](_0x52603e,this['config']);logger['debug'](_0x5afd09(0x289)+constants[_0x5afd09(0x1e6)]+_0x5afd09(0x28d)+_0x204c72['statusCode']);}catch(_0x4618b6){logger[_0x5afd09(0x1a7)](_0x5afd09(0x1d7)+constants[_0x5afd09(0x1e6)]+'\x20with\x20error\x20'+util[_0x5afd09(0x1b6)](_0x4618b6));}try{fs[_0x5afd09(0x250)](path['join'](_0x2bd508['rHdCl'](getLogDir),_0x2bd508['DhaIZ']),JSON[_0x5afd09(0x1fb)](_0x52603e));}catch(_0x5bf6e0){logger[_0x5afd09(0x1a7)](_0x5afd09(0x216)+_0x5bf6e0);}}}};}}function a85_0x20a2(_0x3947f2,_0x390de4){const _0x37927d=a85_0x3792();return a85_0x20a2=function(_0x20a22a,_0x1c7bc4){_0x20a22a=_0x20a22a-0x183;let _0x5ea4ed=_0x37927d[_0x20a22a];return _0x5ea4ed;},a85_0x20a2(_0x3947f2,_0x390de4);}exports[a85_0x508c61(0x1d4)]=BrowserStackSetup;