function a94_0x5e7a(_0x3be66a,_0x8ad7e1){const _0x58fa4b=a94_0x58fa();return a94_0x5e7a=function(_0x5e7a0c,_0x565e15){_0x5e7a0c=_0x5e7a0c-0x1c8;let _0x2a74d6=_0x58fa4b[_0x5e7a0c];return _0x2a74d6;},a94_0x5e7a(_0x3be66a,_0x8ad7e1);}const a94_0x41b7b0=a94_0x5e7a;(function(_0x454566,_0x429500){const _0xbf456b=a94_0x5e7a,_0x17f689=_0x454566();while(!![]){try{const _0x2e4fd4=-parseInt(_0xbf456b(0x29c))/0x1+-parseInt(_0xbf456b(0x2aa))/0x2+-parseInt(_0xbf456b(0x23f))/0x3*(-parseInt(_0xbf456b(0x1db))/0x4)+parseInt(_0xbf456b(0x276))/0x5*(parseInt(_0xbf456b(0x2a8))/0x6)+-parseInt(_0xbf456b(0x28b))/0x7+-parseInt(_0xbf456b(0x1fe))/0x8*(-parseInt(_0xbf456b(0x295))/0x9)+-parseInt(_0xbf456b(0x2d4))/0xa;if(_0x2e4fd4===_0x429500)break;else _0x17f689['push'](_0x17f689['shift']());}catch(_0x573f2f){_0x17f689['push'](_0x17f689['shift']());}}}(a94_0x58fa,0xf1b79));const util=require(a94_0x41b7b0(0x2b0)),os=require('os'),path=require('path'),{v4:uuidv4}=require(a94_0x41b7b0(0x27f)),fs=require('fs'),constants=require('../bin/utils/constants'),logger=require(a94_0x41b7b0(0x2b4))[a94_0x41b7b0(0x1f2)],fileLogger=require(a94_0x41b7b0(0x2b4))[a94_0x41b7b0(0x257)],{getLogDir}=require(a94_0x41b7b0(0x2b4)),helper=require(a94_0x41b7b0(0x251)),utilities=require('./utilities'),percyHelper=require(a94_0x41b7b0(0x207)),hubAllocator=require(a94_0x41b7b0(0x24c)),PerformanceTester=require(a94_0x41b7b0(0x26e)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require(a94_0x41b7b0(0x25c)),{setPercyFlag}=require(a94_0x41b7b0(0x287)),TestHubHandler=require(a94_0x41b7b0(0x290)),timeoutPromise=require(a94_0x41b7b0(0x25f)),BrowserstackCLI=require(a94_0x41b7b0(0x289)),LoadTestModule=require(a94_0x41b7b0(0x1d9)),{getEdsInstrumentationAPIUrl}=require(a94_0x41b7b0(0x264)),ClientTroubleShootingService=require(a94_0x41b7b0(0x1e8));function a94_0x58fa(){const _0x26044b=['AUTOLOGCAPTURE_NOTIFICATION','proxyUrl','LAVYM','uuid','end','stringify','UHrTw','envConfig','PkHom','getFinalCaps','turboScaleUrl','./testhub/utils','bstackConfig','../bin/v2/browserstackCLI','isUndefined','6132294DyzoJv','getPackageVersion','Kkkbz','readConfig','KmwXy','./testhub/testhubHandler','4.5.0','Eissu','checkStopLocalBinaryOnExit','getUserName','45gTIhaq','isAuthenticated','bind','info','iHadD','forceLocal','pplII','51484ZMiXRH','normalizeTestReportingEnvVars','XJjOR','HUB_MANAGEMENT','beforeExit','PyFkP','SIGHUP','qglth','handleExceptions','setCredentialsFromYmlConfig','Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.','message','60pmCfQj','toLowerCase','2210362ssIPmD','preInitialize','\x20with\x20response\x20','cancel','turboScaleOptions','useW3C','util','then','dxJAK','SIGABRT','./logger','UEjPm','sendToEDS','turboScaleGridDetails','Error\x20occured\x20while\x20stopping\x20percy','cliConfig','default','aHDod','error','qPVhq','measureWrapper','aHzfQ','requireSeleniumWebdriverCheck','join','disableAutoCaptureLogs','AI_INIT_FAILURE','version','push','AI_PROXY_FAILURE','setupPercy','ZMFmQ','isBrowserstackInfra','NPzwA','TCG_AUTH_TIMEOUT','win32','nNKEP','wbbqS','status','gBKdp','uncaughtException','framework','debug','2194910XMYaSX','lpFkr','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','setCLICaps','getInstance','stop','nrITo','exceptions','testContextOptions','RXKCm','ZyMUy','koZIn','length','ZtyoK','EUjXT','LTS\x20session\x20enabled\x20for\x20this\x20run.\x20SDK\x20run\x20id:\x20','PRDPQ','localOptions','finalize','../bin/v2/modules/loadTestModule','getCentralUser','711208HxYnfX','hSCoj','setEnvCaps','browserstackLocal','setupTCGAuth','turboScale','INVALID_INIT_RESP_WITH_USER_IMPACT','qMhVY','intExitHandler','true','BrowserstackHealingInitFailed','EhkRU','assign','../bin/utils/clientTroubleshootingService','getTurboScaleGridDetails','events.json','fireFunnelTestEvent','isTrue','split','NnQJN','integrations','__isPlaywrightInstalled','skipSessionStatus','winstonLogger','accessKey','playwright','isNotUndefined','configPath','compareVersions','exitHandler','Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','proxy','FoNVF','4|1|0|2|3','setLogLevel','2566696jIXjkk','Error\x20in\x20writing\x20events\x20to\x20file\x20','SIGQUIT','includes','parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','\x20with\x20error\x20','setupKeepAlive','./setKeepAlive','isRunning','./percy/utils','init','vynXL','tcg\x20config\x20setup\x20successful.','OuggG','QOuYa','TCG_AUTH_FAILURE','setUpHubUrl','setHandlePWError','rUMOc','allocateHub','gIojB','captureError','QkeDz','stopLocalBinary','DZfzv','getAccessKey','bXSwR','getProxyConfigForTcg','platforms','toString','PdFRv','Failed\x20to\x20send\x20data\x20to\x20','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','startLocalBinary','stopPercy','5|3|0|2|6|7|4|1','statusCode','BROWSERSTACK_TURBOSCALE','initialize','central_scanner','WWgbQ','race','platform','SDK\x20run\x20started\x20with\x20id:\x20','hubUrl','getConfigPath','autPm','BROWSERSTACK_PERCY','startPercy','skipBinaryInitialisation','HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20','codeceptjs','getHubUrl','getLocalIdentifier','TCG_URL','aSQVt','reportFinalDetectionState','ORzDN','selfHeal','ats-repeater','Data\x20sent\x20successfully\x20to\x20','writeFileSync','?caps=','pUChi','browserStackLocalOptions','9NDxxih','isTrialGrid','proxyConfig','setBrowserstackInfraFromConfig','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','Error\x20occured\x20while\x20stopping\x20local\x20binary','close','percy','Shutdown\x20triggered\x20by\x20','gxDgr','vbiIB','otWXh','setLogDir','../hubAllocationMethods','warn','AI_INIT_SUCCESSFUL','pPRXD','SIGINT','./helper','stopBrowserstackLocal','env','xDQLh','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','Calling\x20Build\x20Stop\x20from\x20ExitHandler','fileLogger','skipSessionName','BrowserstackHealing.init\x20method\x20timed\x20out','SDK_CLEANUP','22|0|1|21|5|18|3|13|14|23|7|15|17|4|8|12|19|6|2|11|10|20|16|9','./performance/constants','AfLZC','config','./timeoutPromise','setupBrowserstackLocal','generateLocalIdentifier','unhandledErrors','userName','../bin/utils/apiUtilityMethods','isTurboScaleSession','ZowYn','isHealingEnabled','FRAMEWORK','VMpBn','setProxySettings','userName\x20or\x20accessKey\x20is\x20not\x20defined','SUdPu','playwrightUrl','./performance/performance-tester','sdkRunId','isEnabled','Local\x20binary\x20stopped','qOmpL','Percy\x20started\x20successfully','errorMessage','QHwxN','552340TLIwsY','format','padUQ','dQKZX','startMonitoring','UxjWN'];a94_0x58fa=function(){return _0x26044b;};return a94_0x58fa();}class BrowserStackSetup{constructor(_0x588a79,_0x1032b1){const _0x5aaab3=a94_0x41b7b0,_0x58abec={'RXKCm':_0x5aaab3(0x25b),'EhkRU':'No\x20config\x20provided.','gxDgr':function(_0x30ff58){return _0x30ff58();}},_0x2c2ba7=_0x58abec[_0x5aaab3(0x1cf)][_0x5aaab3(0x1ed)]('|');let _0x56b645=0x0;while(!![]){switch(_0x2c2ba7[_0x56b645++]){case'0':helper[_0x5aaab3(0x29d)]();continue;case'1':this[_0x5aaab3(0x283)]=helper[_0x5aaab3(0x1dd)]();continue;case'2':this[_0x5aaab3(0x25e)]['testContextOptions'][_0x5aaab3(0x1f1)]=!helper[_0x5aaab3(0x2c9)]()||helper['isTrue'](this[_0x5aaab3(0x25e)]['testContextOptions'][_0x5aaab3(0x1f1)]);continue;case'3':this[_0x5aaab3(0x25e)]=helper[_0x5aaab3(0x28e)](this[_0x5aaab3(0x1f6)]);continue;case'4':global[_0x5aaab3(0x2d2)]=_0x1032b1;continue;case'5':this[_0x5aaab3(0x246)]=null;continue;case'6':helper[_0x5aaab3(0x2a5)](this[_0x5aaab3(0x25e)]);continue;case'7':this[_0x5aaab3(0x274)]={};continue;case'8':if(helper[_0x5aaab3(0x28a)](this[_0x5aaab3(0x25e)]))throw new Error(_0x58abec[_0x5aaab3(0x1e6)]);continue;case'9':PerformanceTester[_0x5aaab3(0x27a)]();continue;case'10':helper[_0x5aaab3(0x285)](this['config'],this[_0x5aaab3(0x2b9)],this[_0x5aaab3(0x283)]);continue;case'11':this[_0x5aaab3(0x25e)]['testContextOptions'][_0x5aaab3(0x258)]=!helper[_0x5aaab3(0x2c9)]()||helper[_0x5aaab3(0x1ec)](this[_0x5aaab3(0x25e)][_0x5aaab3(0x1ce)][_0x5aaab3(0x258)]);continue;case'12':if(this[_0x5aaab3(0x25e)]['error'])throw new Error(this[_0x5aaab3(0x25e)][_0x5aaab3(0x2bc)]);continue;case'13':this[_0x5aaab3(0x2b9)]=helper[_0x5aaab3(0x1c9)](_0x588a79);continue;case'14':this[_0x5aaab3(0x25e)]['platforms']=this[_0x5aaab3(0x25e)][_0x5aaab3(0x21a)]||[];continue;case'15':this[_0x5aaab3(0x26f)]=_0x58abec[_0x5aaab3(0x248)](uuidv4);continue;case'16':helper[_0x5aaab3(0x1fd)](this[_0x5aaab3(0x25e)],this[_0x5aaab3(0x2b9)],this[_0x5aaab3(0x283)]);continue;case'17':this['framework']=_0x1032b1;continue;case'18':this[_0x5aaab3(0x1f6)]=helper[_0x5aaab3(0x22b)](_0x588a79);continue;case'19':helper[_0x5aaab3(0x242)](this[_0x5aaab3(0x25e)],this[_0x5aaab3(0x2b9)]);continue;case'20':helper[_0x5aaab3(0x24b)](this[_0x5aaab3(0x25e)]);continue;case'21':this[_0x5aaab3(0x1de)]=null;continue;case'22':this[_0x5aaab3(0x262)]=[];continue;case'23':this[_0x5aaab3(0x25e)]['testContextOptions']=this[_0x5aaab3(0x25e)]['testContextOptions']||{};continue;}break;}}[a94_0x41b7b0(0x2ab)](_0x510bbc){const _0x4be966=a94_0x41b7b0,_0xac864a={'pplII':_0x4be966(0x26b),'NPzwA':function(_0x49f53b,_0x7cf679){return _0x49f53b===_0x7cf679;},'XcpjT':_0x4be966(0x1ef),'PkHom':'SDKTestAttempted','CCNaW':function(_0x408213,_0x5e4781){return _0x408213<_0x5e4781;},'lpFkr':function(_0x119dfb,_0x49b402){return _0x119dfb(_0x49b402);},'dQKZX':'selenium-webdriver','RNUeZ':_0x4be966(0x291),'wbbqS':_0x4be966(0x243),'qOmpL':_0x4be966(0x202),'UxjWN':'SIGTERM','UHrTw':_0x4be966(0x250),'DZfzv':_0x4be966(0x2a2),'ZfuIX':function(_0x4aaff5,_0x32e583){return _0x4aaff5!==_0x32e583;},'SUdPu':_0x4be966(0x2cc),'aHzfQ':_0x4be966(0x2b3),'aeHSf':_0x4be966(0x200),'ZowYn':'SIGBREAK','NnQJN':_0x4be966(0x2a0)},_0x1e7e2d=this[_0x4be966(0x2d2)];global['config']=this[_0x4be966(0x25e)],helper['sanitizeCaps'](this[_0x4be966(0x25e)]),this['killSignal']=null,global[_0x4be966(0x26f)]=this[_0x4be966(0x26f)],logger[_0x4be966(0x298)](_0x4be966(0x229)+this['sdkRunId']),!this['config'][_0x4be966(0x23e)]&&(this[_0x4be966(0x25e)][_0x4be966(0x23e)]=this['config'][_0x4be966(0x1d7)]||{});if(helper['isUndefined'](helper[_0x4be966(0x294)](this['config']))||helper[_0x4be966(0x28a)](helper[_0x4be966(0x217)](this[_0x4be966(0x25e)])))throw new Error(_0xac864a[_0x4be966(0x29b)]);helper['getLocalConfig'](this[_0x4be966(0x25e)])&&helper['isUndefined'](helper[_0x4be966(0x233)](this[_0x4be966(0x25e)]))&&(!helper[_0x4be966(0x28a)](this[_0x4be966(0x25e)]['browserStackLocalOptions'])&&_0xac864a[_0x4be966(0x2ca)](this['config'][_0x4be966(0x23e)]['constructor'],Object)?!helper['isTrue'](this[_0x4be966(0x25e)][_0x4be966(0x23e)][_0x4be966(0x22f)])&&(this[_0x4be966(0x25e)]['browserStackLocalOptions']['localIdentifier']=helper['generateLocalIdentifier']()):this[_0x4be966(0x25e)][_0x4be966(0x23e)]={'localIdentifier':helper[_0x4be966(0x261)]()});this[_0x4be966(0x25e)]['browserStackLocalOptions'][_0x4be966(0x22f)]=helper[_0x4be966(0x1ec)](this[_0x4be966(0x25e)]['browserStackLocalOptions'][_0x4be966(0x22f)]),helper[_0x4be966(0x20f)](this[_0x4be966(0x25e)]);if(_0xac864a[_0x4be966(0x2ca)](_0x1e7e2d,_0xac864a['XcpjT']))return;this[_0x4be966(0x2a4)]();process[_0x4be966(0x253)][_0x4be966(0x223)]&&(this[_0x4be966(0x25e)][_0x4be966(0x1e0)]=helper['isTrue'](process[_0x4be966(0x253)][_0x4be966(0x223)]),this[_0x4be966(0x25e)][_0x4be966(0x2ae)]=this[_0x4be966(0x25e)][_0x4be966(0x2ae)]||{});helper[_0x4be966(0x265)](this[_0x4be966(0x25e)])&&(process['env'][_0x4be966(0x223)]=!![]);LoadTestModule['isLTSSession'](this[_0x4be966(0x25e)])&&logger[_0x4be966(0x2d3)](_0x4be966(0x1d5)+this[_0x4be966(0x26f)]);if(!helper[_0x4be966(0x2c9)]()){try{process[_0x4be966(0x253)]['FRAMEWORK']=_0x1e7e2d,utilities[_0x4be966(0x1eb)](_0xac864a[_0x4be966(0x284)],{},this['config'],this[_0x4be966(0x2d2)]);}catch(_0x35a34a){logger['debug']('Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20'+_0x35a34a);}return;}if(helper[_0x4be966(0x2c0)](_0x1e7e2d)){if(global[_0x4be966(0x1f0)])return;_0xac864a['CCNaW'](_0xac864a[_0x4be966(0x2d5)](parseInt,helper[_0x4be966(0x28c)](_0xac864a[_0x4be966(0x279)])),0x3)&&(this['config']['useW3C']=![]),_0xac864a[_0x4be966(0x2ca)](helper[_0x4be966(0x1f7)](helper[_0x4be966(0x28c)](_0xac864a['dQKZX']),_0xac864a['RNUeZ']),0x1)&&(this['config'][_0x4be966(0x2af)]=!![]);}(helper[_0x4be966(0x28a)](this[_0x4be966(0x25e)]['platforms'])||helper[_0x4be966(0x28a)](this[_0x4be966(0x25e)][_0x4be966(0x21a)][_0x4be966(0x1d2)]))&&(helper['isUndefined'](this[_0x4be966(0x25e)]['parallelsPerPlatform'])?logger['info'](_0xac864a[_0x4be966(0x2ce)]):logger[_0x4be966(0x24d)](_0xac864a[_0x4be966(0x272)]),this[_0x4be966(0x25e)]['platforms']=[]);!this[_0x4be966(0x25e)][_0x4be966(0x1ce)]&&(this[_0x4be966(0x25e)][_0x4be966(0x1ce)]={});try{process['env'][_0x4be966(0x268)]=_0x510bbc['_'][0x0],utilities[_0x4be966(0x1eb)](_0xac864a[_0x4be966(0x284)],{},this[_0x4be966(0x25e)],this['framework']);}catch(_0x2028a){logger[_0x4be966(0x2d3)](_0x4be966(0x255)+_0x2028a);}!this['config'][_0x4be966(0x2c2)]&&logger[_0x4be966(0x298)](constants[_0x4be966(0x27c)]),this[_0x4be966(0x1e3)]=this[_0x4be966(0x1e3)][_0x4be966(0x297)](this),process['on'](_0xac864a[_0x4be966(0x27b)],this[_0x4be966(0x1e3)]),process['on'](_0xac864a[_0x4be966(0x282)],this[_0x4be966(0x1e3)]),process['on'](_0xac864a[_0x4be966(0x216)],this['intExitHandler']),_0xac864a['ZfuIX'](process[_0x4be966(0x228)],_0xac864a[_0x4be966(0x26c)])?(process['on'](_0xac864a[_0x4be966(0x2bf)],this[_0x4be966(0x1e3)]),process['on'](_0xac864a['aeHSf'],this[_0x4be966(0x1e3)])):process['on'](_0xac864a[_0x4be966(0x266)],this[_0x4be966(0x1e3)]),process['on'](_0xac864a[_0x4be966(0x1ee)],this['exitHandler']());}async[a94_0x41b7b0(0x224)](_0x547d4d){const _0x537bd2=a94_0x41b7b0,_0x54c6e8={'qPVhq':_0x537bd2(0x239),'SjxCV':'custom-repeater','LFTlp':_0x537bd2(0x1e4),'pPRXD':function(_0x374f0b,_0x121ce2){return _0x374f0b===_0x121ce2;},'VMpBn':_0x537bd2(0x1f4),'hSCoj':function(_0x2fe6cc,_0x4578a9){return _0x2fe6cc+_0x4578a9;},'JZzws':_0x537bd2(0x23c),'pUChi':function(_0x1a6fea,_0x3cb9a2){return _0x1a6fea(_0x3cb9a2);},'xDQLh':_0x537bd2(0x231)};this[_0x537bd2(0x2ab)](_0x547d4d);if(helper[_0x537bd2(0x265)](this[_0x537bd2(0x25e)])){const _0x38250e=await helper[_0x537bd2(0x1e9)](this[_0x537bd2(0x25e)]);this[_0x537bd2(0x25e)][_0x537bd2(0x2b7)]=_0x38250e,_0x38250e[_0x537bd2(0x240)]&&helper[_0x537bd2(0x1f5)](this[_0x537bd2(0x25e)]['browserstackLocal'])&&helper[_0x537bd2(0x1ec)](this[_0x537bd2(0x25e)][_0x537bd2(0x1de)])&&(this['config'][_0x537bd2(0x23e)]['localIdentifier']=_0x54c6e8[_0x537bd2(0x2bd)],this['config']['browserStackLocalOptions'][_0x54c6e8['SjxCV']]=_0x38250e['customRepeaters'][_0x537bd2(0x2c1)](','),this[_0x537bd2(0x25e)][_0x537bd2(0x23e)][_0x537bd2(0x29a)]=_0x54c6e8['LFTlp']),this[_0x537bd2(0x25e)][_0x537bd2(0x286)]=_0x38250e['url'],this[_0x537bd2(0x2d2)]&&_0x54c6e8[_0x537bd2(0x24f)](this[_0x537bd2(0x2d2)][_0x537bd2(0x2a9)](),_0x54c6e8[_0x537bd2(0x269)])?this['config'][_0x537bd2(0x286)]=_0x54c6e8[_0x537bd2(0x1dc)](_0x38250e[_0x537bd2(0x26d)],_0x54c6e8['JZzws']):constants['hubUrl']=helper[_0x537bd2(0x232)](this['config']),logger[_0x537bd2(0x2d3)](_0x537bd2(0x230)+constants[_0x537bd2(0x22a)]);}helper[_0x537bd2(0x26a)](this['config']),this[_0x537bd2(0x204)](),_0x54c6e8[_0x537bd2(0x23d)](setPercyFlag,this),await this[_0x537bd2(0x260)](),![_0x54c6e8[_0x537bd2(0x254)],_0x54c6e8[_0x537bd2(0x269)]][_0x537bd2(0x201)](this['framework'])&&!helper['isTurboScaleSession'](this['config'])&&!helper[_0x537bd2(0x1da)]()[_0x537bd2(0x225)]&&await this[_0x537bd2(0x20e)]();}async[a94_0x41b7b0(0x2c7)](){const _0xc96aec=a94_0x41b7b0,_0x6214b={};_0x6214b['ZyMUy']=function(_0x39afc3,_0x290445){return _0x39afc3===_0x290445;},_0x6214b['WWgbQ']='false',_0x6214b[_0xc96aec(0x1d1)]=_0xc96aec(0x2a6),_0x6214b['kZDPn']=_0xc96aec(0x273),_0x6214b[_0xc96aec(0x299)]=_0xc96aec(0x1e4),_0x6214b[_0xc96aec(0x2b5)]=_0xc96aec(0x2a0);const _0x4d5cfd=_0x6214b;if(helper['isTrue'](this[_0xc96aec(0x25e)][_0xc96aec(0x246)])&&(!this[_0xc96aec(0x246)]||!this[_0xc96aec(0x246)][_0xc96aec(0x206)]()))try{this[_0xc96aec(0x246)]=await percyHelper[_0xc96aec(0x22e)](this[_0xc96aec(0x25e)]);if(!this['percy']){process[_0xc96aec(0x253)]['BROWSERSTACK_PERCY']=_0x4d5cfd[_0xc96aec(0x226)];throw new Error(_0x4d5cfd['koZIn']);}logger[_0xc96aec(0x298)](_0x4d5cfd['kZDPn']),process['env'][_0xc96aec(0x22d)]=_0x4d5cfd[_0xc96aec(0x299)];let _0x36c567=0x0;const _0x117018=async()=>{const _0x19fe7c=_0xc96aec;_0x36c567++,_0x4d5cfd[_0x19fe7c(0x1d0)](_0x36c567,0x1)&&await this['stopPercy']();};process['on'](_0x4d5cfd[_0xc96aec(0x2b5)],_0x117018);}catch(_0x35929f){process[_0xc96aec(0x253)][_0xc96aec(0x22d)]=_0x4d5cfd[_0xc96aec(0x226)],logger[_0xc96aec(0x2d3)]('Error\x20in\x20percy\x20setup\x20'+_0x35929f);throw new Error(_0x35929f[_0xc96aec(0x21b)]());}}async[a94_0x41b7b0(0x220)](){const _0x8fd26d=a94_0x41b7b0,_0x358ab6={};_0x358ab6[_0x8fd26d(0x22c)]='Percy\x20stopped',_0x358ab6['ibGvZ']=_0x8fd26d(0x2b8);const _0x59ac44=_0x358ab6;if(this['percy']&&this[_0x8fd26d(0x246)][_0x8fd26d(0x206)]())try{await percyHelper[_0x8fd26d(0x220)](this[_0x8fd26d(0x246)]),logger[_0x8fd26d(0x298)](_0x59ac44[_0x8fd26d(0x22c)]);}catch(_0x4426c3){logger[_0x8fd26d(0x2bc)](_0x59ac44['ibGvZ'],_0x4426c3[_0x8fd26d(0x2a7)]);}}async['setupBrowserstackLocal'](){const _0x47c971=a94_0x41b7b0,_0x558761={};_0x558761[_0x47c971(0x237)]='Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled',_0x558761[_0x47c971(0x20b)]='Local\x20binary\x20started\x20successfully';const _0x1c4515=_0x558761;if(helper[_0x47c971(0x2c9)]()&&helper[_0x47c971(0x1ec)](this['config'][_0x47c971(0x1de)])&&(!this[_0x47c971(0x1de)]||!this[_0x47c971(0x1de)][_0x47c971(0x206)]()))try{if(this[_0x47c971(0x25e)]['browserStackLocalOptions'][_0x47c971(0x22f)]){logger[_0x47c971(0x2d3)](_0x1c4515[_0x47c971(0x237)]);return;}this['browserstackLocal']=await helper[_0x47c971(0x21f)](this[_0x47c971(0x25e)]),logger[_0x47c971(0x298)](_0x1c4515[_0x47c971(0x20b)]);}catch(_0x5a0634){logger[_0x47c971(0x2d3)](_0x5a0634);throw new Error(_0x5a0634[_0x47c971(0x21b)]());}}async[a94_0x41b7b0(0x252)](){const _0x48a4c2=a94_0x41b7b0,_0x64400b={};_0x64400b[_0x48a4c2(0x24a)]=_0x48a4c2(0x271),_0x64400b[_0x48a4c2(0x2a3)]=_0x48a4c2(0x244);const _0x1ba877=_0x64400b;if(this[_0x48a4c2(0x1de)]&&this['browserstackLocal']['isRunning']())try{await helper[_0x48a4c2(0x215)](this[_0x48a4c2(0x1de)]),logger[_0x48a4c2(0x298)](_0x1ba877[_0x48a4c2(0x24a)]);}catch(_0x441c1f){logger['error'](_0x1ba877[_0x48a4c2(0x2a3)],_0x441c1f['message']);}}async[a94_0x41b7b0(0x20e)](){const _0x5a62c2=a94_0x41b7b0;return PerformanceTester[_0x5a62c2(0x2be)](PerformanceAutEvents[_0x5a62c2(0x29f)],async()=>{const _0x1d68c7=_0x5a62c2;await hubAllocator[_0x1d68c7(0x211)](this[_0x1d68c7(0x25e)]);})();}async[a94_0x41b7b0(0x1df)](){const _0x253ba0=a94_0x41b7b0,_0x471007={'AfLZC':function(_0x6e411f,_0x31bb69){return _0x6e411f(_0x31bb69);},'dxJAK':'../ai-sdk-node/bundle','LAVYM':function(_0x2799da,_0x4c9e32,_0x1900da,_0x1cc580,_0x4e598c,_0x1d0bdc,_0x5b0a8d){return _0x2799da(_0x4c9e32,_0x1900da,_0x1cc580,_0x4e598c,_0x1d0bdc,_0x5b0a8d);},'EUjXT':_0x253ba0(0x259),'nrfnb':_0x253ba0(0x1e5),'gIojB':'../../package.json','qMhVY':'BrowserstackHealing.init','gFwZw':function(_0x513653,_0x24a19e){return _0x513653(_0x24a19e);},'bXSwR':function(_0x3eec30,_0x3a513b){return _0x3eec30===_0x3a513b;},'nNKEP':_0x253ba0(0x1e4),'YFKeB':function(_0x5209cf,_0x181765){return _0x5209cf===_0x181765;},'rUMOc':_0x253ba0(0x21e),'PRDPQ':function(_0x2a415e,_0x491649){return _0x2a415e===_0x491649;},'padUQ':'Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','dDdps':'Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','AFcek':_0x253ba0(0x1f9),'CglQn':function(_0x34b657,_0x40d51f){return _0x34b657>=_0x40d51f;},'aHDod':function(_0x159eb3,_0x42fa33){return _0x159eb3<_0x42fa33;},'gBKdp':_0x253ba0(0x20a),'KmwXy':'aiHeal:tcgAuth','aSQVt':function(_0x4d5ec1){return _0x4d5ec1();}},_0x4cde38=PerformanceTester['measureWrapper'](_0x471007[_0x253ba0(0x28f)],async()=>{const _0x360040=_0x253ba0;try{const _0x5378f2=new Date(),_0x16c798=helper[_0x360040(0x219)](this[_0x360040(0x25e)]),_0x1bc723=_0x471007['AfLZC'](require,path['join'](__dirname,_0x471007[_0x360040(0x2b2)])),_0x478998=_0x471007[_0x360040(0x27e)](timeoutPromise,constants[_0x360040(0x2cb)],_0x471007[_0x360040(0x1d4)],_0x471007['nrfnb'],_0x5378f2,this[_0x360040(0x25e)],this[_0x360040(0x2d2)]),_0x4406aa={'tcgUrl':constants[_0x360040(0x234)],'sdkVersion':_0x471007[_0x360040(0x25d)](require,_0x471007[_0x360040(0x212)])[_0x360040(0x2c4)],'methodUsed':_0x471007[_0x360040(0x1e2)],'proxyConfig':_0x16c798,'os':os[_0x360040(0x228)]()};if(_0x16c798&&_0x16c798[_0x360040(0x27d)]){utilities[_0x360040(0x1eb)](constants[_0x360040(0x2c6)],_0x4406aa,this[_0x360040(0x25e)],this[_0x360040(0x2d2)]);return;}const _0x56e84a={};_0x56e84a[_0x360040(0x1fa)]=_0x16c798;const _0x537d3a=await Promise[_0x360040(0x227)]([_0x1bc723[_0x360040(0x208)](this[_0x360040(0x25e)][_0x360040(0x1f3)],this[_0x360040(0x25e)][_0x360040(0x263)],constants[_0x360040(0x234)],_0x471007['gFwZw'](require,_0x471007[_0x360040(0x212)])[_0x360040(0x2c4)],_0x56e84a)[_0x360040(0x2b1)](_0x4de1ed=>{const _0x7928b2=_0x360040;return _0x478998[_0x7928b2(0x2ad)](),_0x4de1ed;}),_0x478998]);_0x537d3a['isHealingEnabled']=_0x471007[_0x360040(0x218)](_0x537d3a[_0x360040(0x267)],_0x471007[_0x360040(0x2cd)])||_0x471007['YFKeB'](_0x537d3a['isHealingEnabled'],!![]);const _0x2e926d=_0x471007[_0x360040(0x218)](this[_0x360040(0x25e)]['selfHeal'],!![])||_0x471007[_0x360040(0x218)](this[_0x360040(0x25e)][_0x360040(0x238)],_0x471007[_0x360040(0x2cd)]);if(_0x471007[_0x360040(0x218)](_0x537d3a[_0x360040(0x2a7)],constants['UPGRADE_REQUIRED'])&&_0x2e926d)logger[_0x360040(0x298)](_0x471007[_0x360040(0x210)]);else{if(!_0x537d3a[_0x360040(0x296)]&&_0x471007[_0x360040(0x1d6)](_0x537d3a[_0x360040(0x2cf)],0x1f7)&&_0x2e926d)logger[_0x360040(0x298)](_0x471007[_0x360040(0x278)]),utilities[_0x360040(0x1eb)](constants['TCG_DOWN'],_0x4406aa,this[_0x360040(0x25e)],this[_0x360040(0x2d2)]);else{if(!_0x537d3a[_0x360040(0x296)]&&_0x2e926d){logger['info'](_0x471007['dDdps']);const _0x2ccfab={'tcgUrl':constants['TCG_URL'],'sdkVersion':_0x471007[_0x360040(0x25d)](require,_0x471007[_0x360040(0x212)])['version'],'methodUsed':_0x471007['qMhVY'],'proxyConfig':_0x16c798,'os':os[_0x360040(0x228)]()};utilities['fireFunnelTestEvent'](constants[_0x360040(0x20d)],_0x2ccfab,this['config'],this['framework']);}else{if(_0x537d3a[_0x360040(0x296)]&&!_0x537d3a[_0x360040(0x267)]&&_0x2e926d)logger[_0x360040(0x298)](_0x471007['AFcek']);else{if(_0x471007['CglQn'](_0x537d3a[_0x360040(0x2cf)],0xc8)&&_0x471007[_0x360040(0x2bb)](_0x537d3a[_0x360040(0x2cf)],0x12c))utilities[_0x360040(0x1eb)](constants[_0x360040(0x24e)],_0x4406aa,this[_0x360040(0x25e)],this[_0x360040(0x2d2)]);else{if(_0x471007['CglQn'](_0x537d3a[_0x360040(0x2cf)],0x190))_0x4406aa[_0x360040(0x2cf)]=_0x537d3a['status'],utilities[_0x360040(0x1eb)](constants[_0x360040(0x2c3)],_0x4406aa,this[_0x360040(0x25e)],this[_0x360040(0x2d2)]);else!_0x537d3a[_0x360040(0x2cf)]&&utilities['fireFunnelTestEvent'](constants[_0x360040(0x1e1)],_0x4406aa,this[_0x360040(0x25e)],this[_0x360040(0x2d2)]);}}}}}if(_0x537d3a[_0x360040(0x296)]&&_0x537d3a[_0x360040(0x267)]){const _0x44a6d9={};_0x44a6d9['tcgAuthConfig']=_0x537d3a;const _0x5b46de=_0x44a6d9;_0x16c798&&(_0x5b46de[_0x360040(0x241)]=_0x16c798),_0x5b46de[_0x360040(0x2d2)]=this[_0x360040(0x2d2)],_0x5b46de[_0x360040(0x288)]=this[_0x360040(0x25e)],helper['setupTcgConfigFile'](_0x5b46de),logger[_0x360040(0x2d3)](_0x471007[_0x360040(0x2d0)]);}}catch(_0xbb2f4f){logger['debug'](_0x360040(0x1c8)+(_0xbb2f4f['message']?_0xbb2f4f[_0x360040(0x2a7)]:''));}});await _0x471007[_0x253ba0(0x235)](_0x4cde38);}[a94_0x41b7b0(0x204)](){const _0x17d7d5=a94_0x41b7b0,_0x6892f5={'vbiIB':function(_0x1dd6ea,_0x524da4){return _0x1dd6ea(_0x524da4);},'NetnE':_0x17d7d5(0x205)};_0x6892f5[_0x17d7d5(0x249)](require,_0x6892f5['NetnE'])();}[a94_0x41b7b0(0x2a4)](){const _0xd97906=a94_0x41b7b0,_0x41b3a4={};_0x41b3a4['QHwxN']=_0xd97906(0x1fc),_0x41b3a4[_0xd97906(0x20c)]='unhandledRejection',_0x41b3a4['QNQef']=_0xd97906(0x2d1);const _0x3033f9=_0x41b3a4,_0x867373=_0x3dbbcd=>{const _0x35fc8b=_0xd97906,_0x18ec91=_0x3033f9[_0x35fc8b(0x275)][_0x35fc8b(0x1ed)]('|');let _0x490e92=0x0;while(!![]){switch(_0x18ec91[_0x490e92++]){case'0':this[_0x35fc8b(0x262)][_0x35fc8b(0x2c5)](util[_0x35fc8b(0x277)]('%j',_0x3dbbcd));continue;case'1':logger[_0x35fc8b(0x2d3)](util[_0x35fc8b(0x277)](_0x3dbbcd));continue;case'2':PerformanceTester[_0x35fc8b(0x213)](_0x3dbbcd);continue;case'3':ClientTroubleShootingService[_0x35fc8b(0x236)]();continue;case'4':logger['error'](_0x3dbbcd['message']);continue;}break;}};process['on'](_0x3033f9['QOuYa'],_0x867373),process['on'](_0x3033f9['QNQef'],_0x867373);}async['intExitHandler'](_0x136345){const _0x3cb426=a94_0x41b7b0,_0x1c9a47={};_0x1c9a47[_0x3cb426(0x209)]=_0x3cb426(0x221),_0x1c9a47[_0x3cb426(0x292)]=function(_0x3e0b4c,_0x38e0a2){return _0x3e0b4c+_0x38e0a2;},_0x1c9a47[_0x3cb426(0x1d3)]=_0x3cb426(0x247),_0x1c9a47[_0x3cb426(0x2a1)]=function(_0x138a56,_0x3dcf3d){return _0x138a56+_0x3dcf3d;},_0x1c9a47[_0x3cb426(0x21c)]='handled',_0x1c9a47['NMbSH']=function(_0x5f058a,_0x49d8fe){return _0x5f058a+_0x49d8fe;};const _0x133971=_0x1c9a47,_0x7e968c=_0x133971[_0x3cb426(0x209)]['split']('|');let _0x217495=0x0;while(!![]){switch(_0x7e968c[_0x217495++]){case'0':logger['info'](_0x133971[_0x3cb426(0x292)](_0x133971[_0x3cb426(0x1d3)],_0x136345));continue;case'1':await BrowserstackCLI[_0x3cb426(0x1ca)]()[_0x3cb426(0x1cb)]();continue;case'2':this['killSignal']=_0x136345;continue;case'3':this[_0x133971['PyFkP'](_0x133971[_0x3cb426(0x21c)],_0x136345)]=!![];continue;case'4':await ClientTroubleShootingService[_0x3cb426(0x236)]();continue;case'5':if(this[_0x133971['NMbSH'](_0x133971[_0x3cb426(0x21c)],_0x136345)])return;continue;case'6':await ClientTroubleShootingService['reportProcessInterruptionSituation'](_0x136345);continue;case'7':await TestHubHandler[_0x3cb426(0x1cb)](_0x136345);continue;}break;}}[a94_0x41b7b0(0x1f8)](){const _0x50c706=a94_0x41b7b0,_0xdbb7d4={'XJjOR':function(_0x1a9ba6,_0x12dd71){return _0x1a9ba6===_0x12dd71;},'FoNVF':_0x50c706(0x256),'ZMFmQ':function(_0x1db875,_0x377efb){return _0x1db875>_0x377efb;},'QkeDz':function(_0x12a182,_0x5a0976){return _0x12a182(_0x5a0976);},'Kkkbz':function(_0x552fad,_0x1b5724){return _0x552fad(_0x1b5724);},'AFoSU':function(_0x29f815){return _0x29f815();},'nrITo':_0x50c706(0x1ea)};let _0x30352e=0x0;return async()=>{const _0x1b74a2=_0x50c706;_0x30352e++;if(_0xdbb7d4[_0x1b74a2(0x29e)](_0x30352e,0x1)){helper[_0x1b74a2(0x293)](this[_0x1b74a2(0x2d2)])&&await this[_0x1b74a2(0x252)]();try{logger[_0x1b74a2(0x2d3)](_0xdbb7d4[_0x1b74a2(0x1fb)]),await TestHubHandler[_0x1b74a2(0x1cb)](_0x30352e),await ClientTroubleShootingService[_0x1b74a2(0x236)](),await BrowserstackCLI[_0x1b74a2(0x1ca)]()[_0x1b74a2(0x1cb)]('1');}catch(_0x256fbc){logger[_0x1b74a2(0x2d3)]('Error\x20in\x20sending\x20testhub\x20stop:\x20'+util[_0x1b74a2(0x277)](_0x256fbc));}PerformanceTester[_0x1b74a2(0x280)](PerformanceEvents[_0x1b74a2(0x25a)]);if(PerformanceTester[_0x1b74a2(0x270)]()){const {measures:_0x45a135,errors:_0x30d16d}=await PerformanceTester[_0x1b74a2(0x1d8)](),_0x49f15d={};if(_0x45a135&&_0xdbb7d4['ZMFmQ'](_0x45a135[_0x1b74a2(0x1d2)],0x0)||_0x30d16d&&_0xdbb7d4[_0x1b74a2(0x2c8)](_0x30d16d[_0x1b74a2(0x1d2)],0x0)){const _0x22d1ea={};_0x22d1ea['measures']=_0x45a135,_0x22d1ea[_0x1b74a2(0x1cd)]=_0x30d16d,Object[_0x1b74a2(0x1e7)](_0x49f15d,_0x22d1ea);}try{const _0x2c658b=await helper[_0x1b74a2(0x2b6)](_0x49f15d,this[_0x1b74a2(0x25e)]);logger[_0x1b74a2(0x2d3)](_0x1b74a2(0x23a)+_0xdbb7d4[_0x1b74a2(0x214)](getEdsInstrumentationAPIUrl,'')+_0x1b74a2(0x2ac)+_0x2c658b[_0x1b74a2(0x222)]);}catch(_0xbd2227){logger[_0x1b74a2(0x2d3)](_0x1b74a2(0x21d)+_0xdbb7d4[_0x1b74a2(0x28d)](getEdsInstrumentationAPIUrl,'')+_0x1b74a2(0x203)+util[_0x1b74a2(0x277)](_0xbd2227));}try{fs[_0x1b74a2(0x23b)](path[_0x1b74a2(0x2c1)](_0xdbb7d4['AFoSU'](getLogDir),_0xdbb7d4[_0x1b74a2(0x1cc)]),JSON[_0x1b74a2(0x281)](_0x49f15d));}catch(_0x386088){logger['debug'](_0x1b74a2(0x1ff)+_0x386088);}}}logger&&logger[_0x1b74a2(0x245)](),fileLogger&&fileLogger[_0x1b74a2(0x245)]();};}}exports[a94_0x41b7b0(0x2ba)]=BrowserStackSetup;