const a55_0x43edc0=a55_0xf108;(function(_0x41f838,_0x3cffc4){const _0x1d5b85=a55_0xf108,_0xbcb4c2=_0x41f838();while(!![]){try{const _0x20a20b=parseInt(_0x1d5b85(0x200))/0x1*(parseInt(_0x1d5b85(0x1a0))/0x2)+-parseInt(_0x1d5b85(0x147))/0x3*(-parseInt(_0x1d5b85(0x1f9))/0x4)+parseInt(_0x1d5b85(0x1d4))/0x5*(-parseInt(_0x1d5b85(0x1a6))/0x6)+-parseInt(_0x1d5b85(0x159))/0x7+parseInt(_0x1d5b85(0x101))/0x8*(parseInt(_0x1d5b85(0x102))/0x9)+parseInt(_0x1d5b85(0x12f))/0xa*(-parseInt(_0x1d5b85(0x106))/0xb)+parseInt(_0x1d5b85(0x1b9))/0xc;if(_0x20a20b===_0x3cffc4)break;else _0xbcb4c2['push'](_0xbcb4c2['shift']());}catch(_0x5bb66f){_0xbcb4c2['push'](_0xbcb4c2['shift']());}}}(a55_0x1038,0x3cc92));function a55_0xf108(_0x1c9ecc,_0x4662bb){const _0x10384d=a55_0x1038();return a55_0xf108=function(_0xf10861,_0x362bf0){_0xf10861=_0xf10861-0x100;let _0x34c47b=_0x10384d[_0xf10861];return _0x34c47b;},a55_0xf108(_0x1c9ecc,_0x4662bb);}const util=require(a55_0x43edc0(0x176)),os=require('os'),path=require('path'),{v4:uuidv4}=require(a55_0x43edc0(0x13c)),fs=require('fs'),constants=require(a55_0x43edc0(0x1bc)),{isTurboScaleSession}=require(a55_0x43edc0(0x18d)),logger=require(a55_0x43edc0(0x10a))[a55_0x43edc0(0x1ef)],{getLogDir}=require(a55_0x43edc0(0x10a)),helper=require(a55_0x43edc0(0x11f)),utilities=require(a55_0x43edc0(0x1ba)),percyHelper=require(a55_0x43edc0(0x18a)),hubAllocator=require(a55_0x43edc0(0x109)),PerformanceTester=require(a55_0x43edc0(0x117)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require(a55_0x43edc0(0x1ed)),{setPercyFlag}=require('./testhub/utils'),TestHubHandler=require('./testhub/testhubHandler'),timeoutPromise=require('./timeoutPromise');class BrowserStackSetup{constructor(_0x5241db,_0x5ecf7a){const _0x29d6cc=a55_0x43edc0,_0xf7b35e={'Eqxoe':_0x29d6cc(0x196),'Xuopa':function(_0x323729){return _0x323729();},'qUopt':_0x29d6cc(0x19d)},_0x948d6e=_0xf7b35e[_0x29d6cc(0x1d2)][_0x29d6cc(0x146)]('|');let _0x33318d=0x0;while(!![]){switch(_0x948d6e[_0x33318d++]){case'0':helper[_0x29d6cc(0x121)](this[_0x29d6cc(0x12a)],this[_0x29d6cc(0x12b)],this[_0x29d6cc(0x18c)]);continue;case'1':if(this[_0x29d6cc(0x12a)][_0x29d6cc(0x1a9)])throw new Error(this['config']['error']);continue;case'2':PerformanceTester[_0x29d6cc(0x1fa)]();continue;case'3':this[_0x29d6cc(0x12b)]=helper[_0x29d6cc(0x14e)](_0x5241db);continue;case'4':helper['getFinalCaps'](this['config'],this[_0x29d6cc(0x12b)],this[_0x29d6cc(0x18c)]);continue;case'5':this[_0x29d6cc(0x169)]=_0x5ecf7a;continue;case'6':this[_0x29d6cc(0x1a7)]=null;continue;case'7':helper['setBrowserstackInfraFromConfig'](this['config'],this[_0x29d6cc(0x12b)]);continue;case'8':helper[_0x29d6cc(0x1f0)](this[_0x29d6cc(0x12a)]);continue;case'9':this[_0x29d6cc(0x18c)]=helper[_0x29d6cc(0x1e3)]();continue;case'10':this[_0x29d6cc(0x12a)][_0x29d6cc(0x11b)][_0x29d6cc(0x14f)]=!helper['isBrowserstackInfra']()||helper[_0x29d6cc(0x137)](this[_0x29d6cc(0x12a)][_0x29d6cc(0x11b)][_0x29d6cc(0x14f)]);continue;case'11':this[_0x29d6cc(0x143)]=_0xf7b35e[_0x29d6cc(0x1cd)](uuidv4);continue;case'12':this[_0x29d6cc(0x12a)]=helper[_0x29d6cc(0x186)](helper[_0x29d6cc(0x1d0)](_0x5241db));continue;case'13':this[_0x29d6cc(0x1e1)]=[];continue;case'14':this[_0x29d6cc(0x19e)]={};continue;case'15':global['framework']=_0x5ecf7a;continue;case'16':this[_0x29d6cc(0x12a)][_0x29d6cc(0x11b)]['skipSessionStatus']=!helper[_0x29d6cc(0x1cf)]()||helper['isTrue'](this[_0x29d6cc(0x12a)][_0x29d6cc(0x11b)]['skipSessionStatus']);continue;case'17':this[_0x29d6cc(0x12a)][_0x29d6cc(0x11b)]=this[_0x29d6cc(0x12a)][_0x29d6cc(0x11b)]||{};continue;case'18':this[_0x29d6cc(0x195)]=null;continue;case'19':this[_0x29d6cc(0x12a)][_0x29d6cc(0x1d6)]=this[_0x29d6cc(0x12a)][_0x29d6cc(0x1d6)]||[];continue;case'20':if(helper[_0x29d6cc(0x19a)](this[_0x29d6cc(0x12a)]))throw new Error(_0xf7b35e[_0x29d6cc(0x164)]);continue;}break;}}[a55_0x43edc0(0x152)](_0x585ae2){const _0x53a368=a55_0x43edc0,_0x110417={'XjCPz':_0x53a368(0x16f),'gLelh':function(_0x301908,_0x2444c7){return _0x301908===_0x2444c7;},'hVFLx':function(_0x195be5,_0x423c86){return _0x195be5===_0x423c86;},'yIsha':_0x53a368(0x163),'eykoW':_0x53a368(0x1c6),'bmVaq':function(_0x712834,_0x13606c){return _0x712834<_0x13606c;},'HkMxp':function(_0x302ea1,_0x3c22d0){return _0x302ea1(_0x3c22d0);},'VoKDB':_0x53a368(0x1f8),'muPrK':function(_0x229971,_0x313e51){return _0x229971===_0x313e51;},'watUY':_0x53a368(0x18b),'YSLyE':_0x53a368(0x12e),'FfYsv':_0x53a368(0x1bd),'Agbdw':'SIGTERM','XYpHZ':_0x53a368(0x1ca),'Xmccs':'SIGHUP','tSJvo':function(_0x28b9a1,_0x67903f){return _0x28b9a1!==_0x67903f;},'kJzwC':'win32','rWzng':'SIGABRT','rgdFR':_0x53a368(0x138),'rwCyq':_0x53a368(0x1a8),'KWddq':_0x53a368(0x149)},_0x4ab12e=this['framework'];global[_0x53a368(0x12a)]=this[_0x53a368(0x12a)],helper[_0x53a368(0x1fb)](this['config']),this[_0x53a368(0x177)]=null,global[_0x53a368(0x143)]=this[_0x53a368(0x143)],logger[_0x53a368(0x154)](_0x53a368(0x184)+this[_0x53a368(0x143)]),!this['config']['browserStackLocalOptions']&&(this['config']['browserStackLocalOptions']=this['config'][_0x53a368(0x155)]||{});if(helper[_0x53a368(0x19a)](helper[_0x53a368(0x1eb)](this['config']))||helper[_0x53a368(0x19a)](helper[_0x53a368(0x157)](this[_0x53a368(0x12a)])))throw new Error(_0x110417['XjCPz']);helper[_0x53a368(0x17e)](this['config'])&&helper[_0x53a368(0x19a)](helper[_0x53a368(0x19c)](this[_0x53a368(0x12a)]))&&(!helper[_0x53a368(0x19a)](this['config']['browserStackLocalOptions'])&&_0x110417[_0x53a368(0x1c7)](this[_0x53a368(0x12a)][_0x53a368(0x16e)]['constructor'],Object)?!helper[_0x53a368(0x137)](this['config'][_0x53a368(0x16e)]['skipBinaryInitialisation'])&&(this[_0x53a368(0x12a)][_0x53a368(0x16e)][_0x53a368(0x128)]=helper[_0x53a368(0x1b2)]()):this[_0x53a368(0x12a)]['browserStackLocalOptions']={'localIdentifier':helper['generateLocalIdentifier']()});this['config']['browserStackLocalOptions'][_0x53a368(0x1c3)]=helper[_0x53a368(0x137)](this[_0x53a368(0x12a)][_0x53a368(0x16e)][_0x53a368(0x1c3)]),helper[_0x53a368(0x1af)](this[_0x53a368(0x12a)]);if(_0x110417['hVFLx'](_0x4ab12e,_0x110417['yIsha']))return;this['handleExceptions']();process[_0x53a368(0x189)][_0x53a368(0x1f1)]&&(this[_0x53a368(0x12a)][_0x53a368(0x1f2)]=helper['isTrue'](process[_0x53a368(0x189)][_0x53a368(0x1f1)]),this['config'][_0x53a368(0x1b4)]=this['config'][_0x53a368(0x1b4)]||{});if(!helper[_0x53a368(0x1cf)]()){try{process[_0x53a368(0x189)]['FRAMEWORK']=_0x4ab12e,utilities['fireFunnelTestEvent'](_0x110417[_0x53a368(0x14c)],{},this['config'],this[_0x53a368(0x169)]);}catch(_0x34a37a){logger[_0x53a368(0x13a)](_0x53a368(0x126)+_0x34a37a);}return;}helper['requireSeleniumWebdriverCheck'](_0x4ab12e)&&(_0x110417[_0x53a368(0x1fd)](_0x110417[_0x53a368(0x135)](parseInt,helper['getPackageVersion'](_0x110417[_0x53a368(0x182)])),0x3)&&(this[_0x53a368(0x12a)][_0x53a368(0x1e4)]=![]),_0x110417['muPrK'](helper[_0x53a368(0x1b1)](helper['getPackageVersion'](_0x110417[_0x53a368(0x182)]),_0x110417[_0x53a368(0x104)]),0x1)&&(this[_0x53a368(0x12a)][_0x53a368(0x1e4)]=!![]));(helper[_0x53a368(0x19a)](this[_0x53a368(0x12a)]['platforms'])||helper[_0x53a368(0x19a)](this[_0x53a368(0x12a)][_0x53a368(0x1d6)][_0x53a368(0x15e)]))&&(helper['isUndefined'](this[_0x53a368(0x12a)][_0x53a368(0x1b5)])?logger[_0x53a368(0x154)](_0x110417['YSLyE']):logger[_0x53a368(0x1f6)](_0x110417[_0x53a368(0x17a)]),this[_0x53a368(0x12a)][_0x53a368(0x1d6)]=[]);!this['config']['testContextOptions']&&(this[_0x53a368(0x12a)]['testContextOptions']={});try{process['env'][_0x53a368(0x1d7)]=_0x585ae2['_'][0x0],utilities[_0x53a368(0x17b)](_0x110417[_0x53a368(0x14c)],{},this[_0x53a368(0x12a)],this[_0x53a368(0x169)]);}catch(_0x527cda){logger['debug'](_0x53a368(0x126)+_0x527cda);}!this[_0x53a368(0x12a)][_0x53a368(0x1ee)]&&logger[_0x53a368(0x154)](constants['AUTOLOGCAPTURE_NOTIFICATION']),this[_0x53a368(0x122)]=this[_0x53a368(0x122)][_0x53a368(0x1be)](this),process['on'](_0x110417[_0x53a368(0x111)],this[_0x53a368(0x122)]),process['on'](_0x110417['XYpHZ'],this[_0x53a368(0x122)]),process['on'](_0x110417[_0x53a368(0x1e0)],this[_0x53a368(0x122)]),_0x110417[_0x53a368(0x1bf)](process[_0x53a368(0x173)],_0x110417[_0x53a368(0x105)])?(process['on'](_0x110417[_0x53a368(0x115)],this[_0x53a368(0x122)]),process['on'](_0x110417['rgdFR'],this['intExitHandler'])):process['on'](_0x110417[_0x53a368(0x1a3)],this[_0x53a368(0x122)]),process['on'](_0x110417[_0x53a368(0x1ff)],this['exitHandler']());}async[a55_0x43edc0(0x127)](_0x5ac115){const _0x2799f0=a55_0x43edc0,_0x23f775={'HlUFi':function(_0x177a30,_0x3cef95){return _0x177a30(_0x3cef95);},'mkume':_0x2799f0(0x1c4),'AWYxq':_0x2799f0(0x183),'HLztz':_0x2799f0(0x18f),'scOuB':function(_0x44beb4,_0x35e3c9){return _0x44beb4===_0x35e3c9;},'uzZrf':_0x2799f0(0x1c9),'OdMzq':function(_0x1992bf,_0x10c4c9){return _0x1992bf+_0x10c4c9;},'tAXIg':_0x2799f0(0x1f4),'lFRKt':function(_0x220d0d,_0x330e7b){return _0x220d0d(_0x330e7b);},'jfFbf':'codeceptjs'};this[_0x2799f0(0x152)](_0x5ac115);if(_0x23f775[_0x2799f0(0x1c8)](isTurboScaleSession,this[_0x2799f0(0x12a)])){const _0x39711e=await helper[_0x2799f0(0x13f)](this['config']);this['config'][_0x2799f0(0x12c)]=_0x39711e,_0x39711e[_0x2799f0(0x17d)]&&(this[_0x2799f0(0x12a)]['browserstackLocal']=!![],this[_0x2799f0(0x12a)][_0x2799f0(0x16e)][_0x2799f0(0x128)]=_0x23f775[_0x2799f0(0x1b6)],this[_0x2799f0(0x12a)][_0x2799f0(0x16e)][_0x23f775[_0x2799f0(0x140)]]=_0x39711e[_0x2799f0(0x13e)][_0x2799f0(0x151)](','),this[_0x2799f0(0x12a)]['browserStackLocalOptions'][_0x2799f0(0x1d3)]=_0x23f775['HLztz']),this[_0x2799f0(0x12a)][_0x2799f0(0x131)]=_0x39711e[_0x2799f0(0x1ec)],this[_0x2799f0(0x169)]&&_0x23f775[_0x2799f0(0x1c5)](this[_0x2799f0(0x169)]['toLowerCase'](),_0x23f775[_0x2799f0(0x11a)])&&(this[_0x2799f0(0x12a)]['turboScaleUrl']=_0x23f775[_0x2799f0(0x1fe)](_0x39711e[_0x2799f0(0x141)],_0x23f775[_0x2799f0(0x15d)])),constants['hubUrl']=helper['getHubUrl'](this['config']),logger[_0x2799f0(0x13a)](_0x2799f0(0x10b)+constants[_0x2799f0(0x1d1)]);}helper[_0x2799f0(0x1e5)](this['config']),this['setupKeepAlive'](),_0x23f775['lFRKt'](setPercyFlag,this),await this['setupBrowserstackLocal'](),![_0x23f775[_0x2799f0(0x11d)]][_0x2799f0(0x114)](this[_0x2799f0(0x169)])&&!_0x23f775['lFRKt'](isTurboScaleSession,this[_0x2799f0(0x12a)])&&!helper[_0x2799f0(0x199)]()[_0x2799f0(0x1b8)]&&await this['setUpHubUrl']();}async['setupPercy'](){const _0x17855a=a55_0x43edc0,_0x2cdf0b={};_0x2cdf0b['uWbME']=function(_0x1f2079,_0x71b903){return _0x1f2079===_0x71b903;},_0x2cdf0b['VUZHb']='false',_0x2cdf0b['VYnJb']='Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.',_0x2cdf0b['rbxnd']=_0x17855a(0x133),_0x2cdf0b['PSlrd']=_0x17855a(0x18f),_0x2cdf0b['GBVOl']=_0x17855a(0x149);const _0x2cb31e=_0x2cdf0b;if(helper[_0x17855a(0x137)](this['config'][_0x17855a(0x1a7)])&&(!this[_0x17855a(0x1a7)]||!this[_0x17855a(0x1a7)][_0x17855a(0x18e)]()))try{this['percy']=await percyHelper[_0x17855a(0x1e8)](this['config']);if(!this['percy']){process[_0x17855a(0x189)][_0x17855a(0x10e)]=_0x2cb31e[_0x17855a(0x14a)];throw new Error(_0x2cb31e['VYnJb']);}logger[_0x17855a(0x154)](_0x2cb31e['rbxnd']),process[_0x17855a(0x189)][_0x17855a(0x10e)]=_0x2cb31e[_0x17855a(0x175)];let _0x40e136=0x0;const _0x229283=async()=>{const _0x26ac85=_0x17855a;_0x40e136++,_0x2cb31e[_0x26ac85(0x188)](_0x40e136,0x1)&&await this[_0x26ac85(0x197)]();};process['on'](_0x2cb31e[_0x17855a(0x160)],_0x229283);}catch(_0x27ce27){process['env'][_0x17855a(0x10e)]=_0x2cb31e[_0x17855a(0x14a)],logger[_0x17855a(0x13a)](_0x17855a(0x1a2)+_0x27ce27);throw new Error(_0x27ce27[_0x17855a(0x107)]());}}async['stopPercy'](){const _0x3812c2=a55_0x43edc0,_0x4e2a18={};_0x4e2a18[_0x3812c2(0x10d)]='Percy\x20stopped',_0x4e2a18[_0x3812c2(0x15b)]=_0x3812c2(0x1c0);const _0x570e3c=_0x4e2a18;if(this['percy']&&this['percy'][_0x3812c2(0x18e)]())try{await percyHelper[_0x3812c2(0x197)](this[_0x3812c2(0x1a7)]),logger[_0x3812c2(0x154)](_0x570e3c[_0x3812c2(0x10d)]);}catch(_0x385289){logger[_0x3812c2(0x1a9)](_0x570e3c[_0x3812c2(0x15b)],_0x385289[_0x3812c2(0x153)]);}}async['setupBrowserstackLocal'](){const _0xbcf5da=a55_0x43edc0,_0x5fc032={};_0x5fc032['GRkcY']=_0xbcf5da(0x130),_0x5fc032[_0xbcf5da(0x187)]=_0xbcf5da(0x158);const _0xa0ac95=_0x5fc032;if(helper[_0xbcf5da(0x1cf)]()&&helper[_0xbcf5da(0x137)](this[_0xbcf5da(0x12a)][_0xbcf5da(0x195)])&&(!this[_0xbcf5da(0x195)]||!this[_0xbcf5da(0x195)][_0xbcf5da(0x18e)]()))try{if(this[_0xbcf5da(0x12a)]['browserStackLocalOptions'][_0xbcf5da(0x1c3)]){logger[_0xbcf5da(0x13a)](_0xa0ac95[_0xbcf5da(0x15f)]);return;}this[_0xbcf5da(0x195)]=await helper[_0xbcf5da(0x1f3)](this[_0xbcf5da(0x12a)]),logger[_0xbcf5da(0x154)](_0xa0ac95['pJKZE']);}catch(_0x349f72){logger[_0xbcf5da(0x13a)](_0x349f72);throw new Error(_0x349f72[_0xbcf5da(0x107)]());}}async[a55_0x43edc0(0x1f7)](){const _0x459380=a55_0x43edc0,_0x5aea8c={};_0x5aea8c['GZOHT']='Local\x20binary\x20stopped',_0x5aea8c[_0x459380(0x1e9)]=_0x459380(0x1bb);const _0xe121b0=_0x5aea8c;if(this[_0x459380(0x195)]&&this[_0x459380(0x195)][_0x459380(0x18e)]())try{await helper[_0x459380(0x136)](this[_0x459380(0x195)]),logger['info'](_0xe121b0[_0x459380(0x1b3)]);}catch(_0x1e00fc){logger['error'](_0xe121b0['skDjM'],_0x1e00fc[_0x459380(0x153)]);}}async[a55_0x43edc0(0x193)](){const _0x1d0cba=a55_0x43edc0;return PerformanceTester[_0x1d0cba(0x10c)](PerformanceAutEvents[_0x1d0cba(0x1dc)],async()=>{const _0x104a64=_0x1d0cba;await hubAllocator['allocateHub'](this[_0x104a64(0x12a)]);})();}async[a55_0x43edc0(0x144)](){const _0x476cfb=a55_0x43edc0,_0xc43bf7={'lhWZe':function(_0xfa6f86,_0xd93093){return _0xfa6f86(_0xd93093);},'ulJsk':_0x476cfb(0x1ae),'cOPtG':function(_0x20129a,_0x31b6a3,_0x542da8,_0x34d273,_0x5830a8,_0x315ac5,_0xf9d95c){return _0x20129a(_0x31b6a3,_0x542da8,_0x34d273,_0x5830a8,_0x315ac5,_0xf9d95c);},'UeJBJ':_0x476cfb(0x1dd),'hQktD':_0x476cfb(0x1cc),'kdOFW':function(_0x27bbda,_0x57dbbe){return _0x27bbda(_0x57dbbe);},'YxFEF':_0x476cfb(0x120),'SrvNi':_0x476cfb(0x1a5),'HwTTL':function(_0x48b059,_0x47c955){return _0x48b059(_0x47c955);},'orSQO':function(_0x34e205,_0x5638b2){return _0x34e205===_0x5638b2;},'rcFrL':'true','hXIqO':_0x476cfb(0x1de),'oCUAc':_0x476cfb(0x1c1),'vqZBC':'Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','Zgkhn':_0x476cfb(0x14d),'HpGDE':function(_0x35cc60,_0x56b917){return _0x35cc60>=_0x56b917;},'GpwXK':function(_0xf643bb,_0x58e57c){return _0xf643bb<_0x58e57c;},'RKNIv':_0x476cfb(0x145),'ODnBd':_0x476cfb(0x1aa),'leUxf':function(_0x383400){return _0x383400();}},_0x363c6e=PerformanceTester[_0x476cfb(0x10c)](_0xc43bf7[_0x476cfb(0x1f5)],async()=>{const _0x96ee3c=_0x476cfb;try{const _0x3dc9ac=new Date(),_0x6e0381=helper[_0x96ee3c(0x150)](this[_0x96ee3c(0x12a)]),_0x2f2566=_0xc43bf7['lhWZe'](require,path[_0x96ee3c(0x151)](__dirname,_0xc43bf7['ulJsk'])),_0x497bda=_0xc43bf7[_0x96ee3c(0x148)](timeoutPromise,constants[_0x96ee3c(0x19f)],_0xc43bf7[_0x96ee3c(0x129)],_0xc43bf7['hQktD'],_0x3dc9ac,this[_0x96ee3c(0x12a)],this['framework']),_0x78eb18={'tcgUrl':constants[_0x96ee3c(0x162)],'sdkVersion':_0xc43bf7[_0x96ee3c(0x15c)](require,_0xc43bf7[_0x96ee3c(0x11e)])[_0x96ee3c(0x1d5)],'methodUsed':_0xc43bf7[_0x96ee3c(0x156)],'proxyConfig':_0x6e0381,'os':os[_0x96ee3c(0x173)]()};if(_0x6e0381&&_0x6e0381[_0x96ee3c(0x1b0)]){utilities[_0x96ee3c(0x17b)](constants[_0x96ee3c(0x142)],_0x78eb18,this[_0x96ee3c(0x12a)],this['framework']);return;}const _0x27acd5={};_0x27acd5[_0x96ee3c(0x13d)]=_0x6e0381;const _0x5e9e95=await Promise[_0x96ee3c(0x15a)]([_0x2f2566[_0x96ee3c(0x1ce)](this[_0x96ee3c(0x12a)]['accessKey'],this[_0x96ee3c(0x12a)][_0x96ee3c(0x132)],constants[_0x96ee3c(0x162)],_0xc43bf7['HwTTL'](require,_0xc43bf7['YxFEF'])[_0x96ee3c(0x1d5)],_0x27acd5)[_0x96ee3c(0x112)](_0x4c65ec=>{return _0x497bda['cancel'](),_0x4c65ec;}),_0x497bda]);_0x5e9e95[_0x96ee3c(0x172)]=_0xc43bf7[_0x96ee3c(0x10f)](_0x5e9e95[_0x96ee3c(0x172)],_0xc43bf7[_0x96ee3c(0x171)])||_0xc43bf7[_0x96ee3c(0x10f)](_0x5e9e95['isHealingEnabled'],!![]);const _0x25f7d0=_0xc43bf7[_0x96ee3c(0x10f)](this[_0x96ee3c(0x12a)][_0x96ee3c(0x124)],!![])||_0xc43bf7[_0x96ee3c(0x10f)](this[_0x96ee3c(0x12a)][_0x96ee3c(0x124)],_0xc43bf7[_0x96ee3c(0x171)]);if(_0xc43bf7[_0x96ee3c(0x10f)](_0x5e9e95['message'],constants[_0x96ee3c(0x167)])&&_0x25f7d0)logger[_0x96ee3c(0x154)](_0xc43bf7['hXIqO']);else{if(!_0x5e9e95[_0x96ee3c(0x113)]&&_0xc43bf7[_0x96ee3c(0x10f)](_0x5e9e95['status'],0x1f7)&&_0x25f7d0)logger[_0x96ee3c(0x154)](_0xc43bf7['oCUAc']),utilities[_0x96ee3c(0x17b)](constants[_0x96ee3c(0x125)],_0x78eb18,this['config'],this[_0x96ee3c(0x169)]);else{if(!_0x5e9e95['isAuthenticated']&&_0x25f7d0){logger['info'](_0xc43bf7[_0x96ee3c(0x181)]);const _0x4d9358={'tcgUrl':constants['TCG_URL'],'sdkVersion':_0xc43bf7[_0x96ee3c(0x15c)](require,_0xc43bf7[_0x96ee3c(0x11e)])[_0x96ee3c(0x1d5)],'methodUsed':_0xc43bf7['SrvNi'],'proxyConfig':_0x6e0381,'os':os[_0x96ee3c(0x173)]()};utilities[_0x96ee3c(0x17b)](constants[_0x96ee3c(0x166)],_0x4d9358,this[_0x96ee3c(0x12a)],this[_0x96ee3c(0x169)]);}else{if(_0x5e9e95['isAuthenticated']&&!_0x5e9e95['isHealingEnabled']&&_0x25f7d0)logger[_0x96ee3c(0x154)](_0xc43bf7['Zgkhn']);else{if(_0xc43bf7[_0x96ee3c(0x1ad)](_0x5e9e95['status'],0xc8)&&_0xc43bf7['GpwXK'](_0x5e9e95[_0x96ee3c(0x1da)],0x12c))utilities[_0x96ee3c(0x17b)](constants[_0x96ee3c(0x1fc)],_0x78eb18,this[_0x96ee3c(0x12a)],this[_0x96ee3c(0x169)]);else{if(_0xc43bf7['HpGDE'](_0x5e9e95['status'],0x190))_0x78eb18[_0x96ee3c(0x1da)]=_0x5e9e95['status'],utilities['fireFunnelTestEvent'](constants[_0x96ee3c(0x1b7)],_0x78eb18,this[_0x96ee3c(0x12a)],this[_0x96ee3c(0x169)]);else!_0x5e9e95[_0x96ee3c(0x1da)]&&utilities['fireFunnelTestEvent'](constants[_0x96ee3c(0x12d)],_0x78eb18,this['config'],this['framework']);}}}}}if(_0x5e9e95['isAuthenticated']&&_0x5e9e95[_0x96ee3c(0x172)]){const _0x454f40={};_0x454f40['tcgAuthConfig']=_0x5e9e95;const _0x104530=_0x454f40;_0x6e0381&&(_0x104530[_0x96ee3c(0x1d8)]=_0x6e0381),_0x104530[_0x96ee3c(0x169)]=this[_0x96ee3c(0x169)],_0x104530[_0x96ee3c(0x139)]=this[_0x96ee3c(0x12a)],helper['setupTcgConfigFile'](_0x104530),logger['debug'](_0xc43bf7[_0x96ee3c(0x191)]);}}catch(_0x269778){logger['debug']('Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20'+(_0x269778[_0x96ee3c(0x153)]?_0x269778['message']:''));}});await _0xc43bf7[_0x476cfb(0x17c)](_0x363c6e);}[a55_0x43edc0(0x16b)](){const _0x4f6d91=a55_0x43edc0,_0x219f64={'DobPN':function(_0x3b42ad,_0x58a03c){return _0x3b42ad(_0x58a03c);},'TRJFl':_0x4f6d91(0x123)};_0x219f64[_0x4f6d91(0x1a4)](require,_0x219f64[_0x4f6d91(0x1ea)])();}[a55_0x43edc0(0x198)](){const _0x464502=a55_0x43edc0,_0x351089={};_0x351089['stSQn']=_0x464502(0x1e7),_0x351089[_0x464502(0x16c)]=_0x464502(0x100);const _0x508a8b=_0x351089,_0x4e098c=_0x19d5e5=>{const _0x5e0d47=_0x464502;logger[_0x5e0d47(0x1a9)](_0x19d5e5[_0x5e0d47(0x153)]),logger['debug'](util[_0x5e0d47(0x180)](_0x19d5e5)),this['unhandledErrors'][_0x5e0d47(0x185)](util['format']('%j',_0x19d5e5)),PerformanceTester[_0x5e0d47(0x1a1)](_0x19d5e5);};process['on'](_0x508a8b[_0x464502(0x192)],_0x4e098c),process['on'](_0x508a8b['jehAf'],_0x4e098c);}async['intExitHandler'](_0x2c98f5){const _0x2cce61=a55_0x43edc0,_0x4b5b5f={};_0x4b5b5f[_0x2cce61(0x165)]='0|2|4|3|1',_0x4b5b5f[_0x2cce61(0x1df)]=function(_0x59b976,_0x4e5750){return _0x59b976+_0x4e5750;},_0x4b5b5f['gwMgy']=_0x2cce61(0x190),_0x4b5b5f[_0x2cce61(0x16d)]=function(_0x1c195c,_0x440ab2){return _0x1c195c+_0x440ab2;},_0x4b5b5f['OuOBC']=_0x2cce61(0x14b);const _0x282287=_0x4b5b5f,_0x5aef57=_0x282287[_0x2cce61(0x165)][_0x2cce61(0x146)]('|');let _0x4edb5a=0x0;while(!![]){switch(_0x5aef57[_0x4edb5a++]){case'0':if(this[_0x282287['VzihX'](_0x282287[_0x2cce61(0x178)],_0x2c98f5)])return;continue;case'1':await TestHubHandler[_0x2cce61(0x1e2)](_0x2c98f5);continue;case'2':this[_0x282287[_0x2cce61(0x1df)](_0x282287[_0x2cce61(0x178)],_0x2c98f5)]=!![];continue;case'3':this[_0x2cce61(0x177)]=_0x2c98f5;continue;case'4':logger[_0x2cce61(0x154)](_0x282287[_0x2cce61(0x16d)](_0x282287[_0x2cce61(0x119)],_0x2c98f5));continue;}break;}}[a55_0x43edc0(0x1c2)](){const _0x11eca7=a55_0x43edc0,_0x4fc205={'PMyTx':function(_0x11f3df,_0x23a92b){return _0x11f3df===_0x23a92b;},'zhNSg':_0x11eca7(0x1ab),'NBChe':function(_0x41ad86,_0x58c428){return _0x41ad86>_0x58c428;},'bxHvX':function(_0x926f7b,_0x1ea87c){return _0x926f7b>_0x1ea87c;},'yOvtb':function(_0x7df5dc){return _0x7df5dc();},'uFidd':'events.json'};let _0x1f7389=0x0;return async()=>{const _0x34e730=_0x11eca7;_0x1f7389++;if(_0x4fc205[_0x34e730(0x118)](_0x1f7389,0x1)){helper['checkStopLocalBinaryOnExit'](this[_0x34e730(0x169)])&&await this['stopBrowserstackLocal']();try{logger[_0x34e730(0x13a)](_0x4fc205[_0x34e730(0x108)]),await TestHubHandler[_0x34e730(0x1e2)](_0x1f7389);}catch(_0x11b0cf){logger[_0x34e730(0x13a)]('Error\x20in\x20sending\x20testhub\x20stop:\x20'+util[_0x34e730(0x180)](_0x11b0cf));}PerformanceTester[_0x34e730(0x134)](PerformanceEvents[_0x34e730(0x194)]);if(PerformanceTester[_0x34e730(0x1cb)]()){const {measures:_0x336779,errors:_0x149aed}=await PerformanceTester[_0x34e730(0x13b)](),_0x361863={};if(_0x336779&&_0x4fc205[_0x34e730(0x1e6)](_0x336779['length'],0x0)||_0x149aed&&_0x4fc205[_0x34e730(0x161)](_0x149aed[_0x34e730(0x15e)],0x0)){const _0xd695f6={};_0xd695f6[_0x34e730(0x103)]=_0x336779,_0xd695f6[_0x34e730(0x179)]=_0x149aed,Object[_0x34e730(0x1db)](_0x361863,_0xd695f6);}try{const _0x2424e5=await helper[_0x34e730(0x170)](_0x361863,this[_0x34e730(0x12a)]);logger[_0x34e730(0x13a)](_0x34e730(0x17f)+constants[_0x34e730(0x16a)]+_0x34e730(0x174)+_0x2424e5[_0x34e730(0x168)]);}catch(_0x3ce95c){logger[_0x34e730(0x13a)](_0x34e730(0x1ac)+constants[_0x34e730(0x16a)]+_0x34e730(0x110)+util['format'](_0x3ce95c));}try{fs[_0x34e730(0x19b)](path['join'](_0x4fc205[_0x34e730(0x11c)](getLogDir),_0x4fc205[_0x34e730(0x1d9)]),JSON['stringify'](_0x361863));}catch(_0x14d08a){logger['debug']('Error\x20in\x20writing\x20events\x20to\x20file\x20'+_0x14d08a);}}}};}}exports[a55_0x43edc0(0x116)]=BrowserStackSetup;function a55_0x1038(){const _0x43c94a=['PSlrd','util','killSignal','gwMgy','exceptions','FfYsv','fireFunnelTestEvent','leUxf','isTrialGrid','getLocalConfig','Data\x20sent\x20successfully\x20to\x20','format','vqZBC','VoKDB','custom-repeater','SDK\x20run\x20started\x20with\x20id:\x20','push','readConfig','pJKZE','uWbME','env','./percy/utils','4.5.0','envConfig','./ats/helper','isRunning','true','handled','RKNIv','stSQn','setUpHubUrl','SDK_CLEANUP','browserstackLocal','13|3|9|18|6|12|19|17|14|11|5|15|20|1|7|16|10|4|8|0|2','stopPercy','handleExceptions','getCentralUser','isUndefined','writeFileSync','getLocalIdentifier','No\x20config\x20provided.','errorMessage','TCG_AUTH_TIMEOUT','2oqQfdE','captureError','Error\x20in\x20percy\x20setup\x20','rwCyq','DobPN','BrowserstackHealing.init','12hPoink','percy','SIGBREAK','error','aiHeal:tcgAuth','Calling\x20Build\x20Stop\x20from\x20ExitHandler','Failed\x20to\x20send\x20data\x20to\x20','HpGDE','../ai-sdk-node/bundle','setHandlePWError','proxyUrl','compareVersions','generateLocalIdentifier','GZOHT','turboScaleOptions','parallelsPerPlatform','mkume','AI_INIT_FAILURE','central_scanner','7746444dZegFB','./utilities','Error\x20occured\x20while\x20stopping\x20local\x20binary','../bin/utils/constants','parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','bind','tSJvo','Error\x20occured\x20while\x20stopping\x20percy','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','exitHandler','skipBinaryInitialisation','ats-repeater','scOuB','SDKTestAttempted','gLelh','HlUFi','playwright','SIGINT','isEnabled','BrowserstackHealingInitFailed','Xuopa','init','isBrowserstackInfra','getConfigPath','hubUrl','Eqxoe','forceLocal','917335OOzOLo','version','platforms','FRAMEWORK','proxyConfig','uFidd','status','assign','HUB_MANAGEMENT','BrowserstackHealing.init\x20method\x20timed\x20out','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','VzihX','Xmccs','unhandledErrors','stop','setEnvCaps','useW3C','setProxySettings','NBChe','unhandledRejection','startPercy','skDjM','TRJFl','getUserName','url','./performance/constants','disableAutoCaptureLogs','winstonLogger','setLogDir','BROWSERSTACK_TURBOSCALE','turboScale','startLocalBinary','?caps=','ODnBd','warn','stopBrowserstackLocal','selenium-webdriver','14388QyaxyE','startMonitoring','sanitizeCaps','AI_INIT_SUCCESSFUL','bmVaq','OdMzq','KWddq','34481TWrwWi','uncaughtException','2776mBzZIe','5463nbfSNa','measures','watUY','kJzwC','4049012LTMhGH','toString','zhNSg','../hubAllocationMethods','./logger','HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20','measureWrapper','udopF','BROWSERSTACK_PERCY','orSQO','\x20with\x20error\x20','Agbdw','then','isAuthenticated','includes','rWzng','default','./performance/performance-tester','PMyTx','OuOBC','uzZrf','testContextOptions','yOvtb','jfFbf','YxFEF','./helper','../../package.json','setLogLevel','intExitHandler','./setKeepAlive','selfHeal','TCG_DOWN','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','initialize','localIdentifier','UeJBJ','config','cliConfig','turboScaleGridDetails','INVALID_INIT_RESP_WITH_USER_IMPACT','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','10nNhrHj','Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled','turboScaleUrl','userName','Percy\x20started\x20successfully','end','HkMxp','stopLocalBinary','isTrue','SIGQUIT','bstackConfig','debug','finalize','uuid','proxy','customRepeaters','getTurboScaleGridDetails','AWYxq','playwrightUrl','AI_PROXY_FAILURE','sdkRunId','setupTCGAuth','tcg\x20config\x20setup\x20successful.','split','261nLchni','cOPtG','beforeExit','VUZHb','Shutdown\x20triggered\x20by\x20','eykoW','Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','setCLICaps','skipSessionName','getProxyConfigForTcg','join','preInitialize','message','info','localOptions','SrvNi','getAccessKey','Local\x20binary\x20started\x20successfully','1537074FrQbQt','race','uXclA','kdOFW','tAXIg','length','GRkcY','GBVOl','bxHvX','TCG_URL','integrations','qUopt','ycdeP','TCG_AUTH_FAILURE','UPGRADE_REQUIRED','statusCode','framework','EDS_URL','setupKeepAlive','jehAf','buAyF','browserStackLocalOptions','userName\x20or\x20accessKey\x20is\x20not\x20defined','sendToEDS','rcFrL','isHealingEnabled','platform','\x20with\x20response\x20'];a55_0x1038=function(){return _0x43c94a;};return a55_0x1038();}