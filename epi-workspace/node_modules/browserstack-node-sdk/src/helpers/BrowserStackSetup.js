function a55_0x2566(){const _0x21161a=['8YADjHi','gtLmO','setEnvCaps','isUndefined','Percy\x20stopped','ankXN','BrowserstackHealingInitFailed','getFinalCaps','10335122MiXSbv','IJjud','XPrAn','captureError','yfwMz','704577TwPxOf','config','error','central_scanner','intExitHandler','eTaUF','checkStopLocalBinaryOnExit','framework','debug','tcgAuthConfig','turboScale','OOoHr','setCLICaps','generateLocalIdentifier','cancel','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','false','getLocalIdentifier','qTekd','THScC','beforeExit','forceLocal','IrHox','LiyPV','uqgPP','handled','MFtqH','setHandlePWError','getLocalConfig','isAuthenticated','getConfigPath','platform','path','sendToEDS','join','MlCEq','COCLm','NWvau','LZPTV','isRunning','skipSessionStatus','rwgHl','lWkEx','useW3C','PsFrY','browserStackLocalOptions','fireFunnelTestEvent','../hubAllocationMethods','1|4|3|2|0','getTurboScaleGridDetails','uLshX','isHealingEnabled','info','killSignal','SIGTERM','default','SIGHUP','Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','cHUiC','7808070RhhVsU','localOptions','Error\x20in\x20percy\x20setup\x20','readConfig','proxy','writeFileSync','oGGFC','stop','ALBXW','getProxyConfigForTcg','measures','sanitizeCaps','unhandledErrors','selfHeal','then','setupTCGAuth','hubUrl','setupTcgConfigFile','version','26148150EgAsyL','\x20with\x20error\x20','ats-repeater','QBIyv','BROWSERSTACK_PERCY','unwwp','anJNb','toLowerCase','UyaLx','1935512yCBRYo','SDKTestAttempted','measureWrapper','zPfVC','accessKey','env','race','./percy/utils','stopBrowserstackLocal','playwright','PmJSa','ECnqA','sdkRunID','15ZDlCKd','5UpWCmy','Local\x20binary\x20stopped','AUTOLOGCAPTURE_NOTIFICATION','INVALID_INIT_RESP_WITH_USER_IMPACT','isBrowserstackInfra','PMQuk','FltcS','Error\x20occured\x20while\x20stopping\x20local\x20binary','cqzQl','LEYvV','TCG_DOWN','YgIwI','url','percy','zzSdE','wOCpv','format','FimLp','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','turboScaleUrl','hNLzR','TCG_URL','./ats/helper','./utilities','exitHandler','eVUBg','GEWZM','setupPercy','push','getUserName','LEzVH','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','turboScaleOptions','toString','AI_INIT_FAILURE','FzczH','parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','NKAhB','browserstackLocal','LnELT','setProxySettings','nkVuM','constructor','customRepeaters','envConfig','SIGQUIT','true','qkaLn','testContextOptions','AI_PROXY_FAILURE','GKYTD','FZpjx','getAccessKey','util','integrations','wNcBf','BROWSERSTACK_TURBOSCALE','userName','compareVersions','beoqH','zXoIT','userName\x20or\x20accessKey\x20is\x20not\x20defined','hQshM','LqLgE','uuid','setupBrowserstackLocal','allocateHub','../../package.json','Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.','codeceptjs','localIdentifier','FRAMEWORK','EPxpp','Failed\x20to\x20send\x20data\x20to\x20','isTrue','teNDm','platforms','gYQdn','SWSKL','getPackageVersion','./setKeepAlive','wdDOR','./performance/performance-tester','skipBinaryInitialisation','uncaughtException','EOGxl','../bin/utils/constants','status','getCentralUser','1514972uTFHCu','message','TCG_AUTH_FAILURE','WGGQc','SDK\x20run\x20started\x20with\x20id:\x20','Calling\x20Build\x20Stop\x20from\x20ExitHandler','requireSeleniumWebdriverCheck','cliConfig','xJMAj','eRZEI','Shutdown\x20triggered\x20by\x20','ebBds','HUB_MANAGEMENT','Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled','EDS_URL','./logger','oPhnX','SIGBREAK','warn','TCG_AUTH_TIMEOUT','1428327JAlQfI','setUpHubUrl','includes','playwrightUrl','4.5.0','skipSessionName','split','../ai-sdk-node/bundle','11|13|17|43|35|38|27|21|14|24|20|1|6|7|37|9|8|42|41|3|2|22|34|31|23|36|19|0|32|15|30|33|5|25|39|26|40|18|10|29|16|12|28|4','errorMessage','stringify','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','Local\x20binary\x20started\x20successfully','initialize','pnooT','stopPercy','ReiAq','hjhra','end','length','finalize','Error\x20in\x20writing\x20events\x20to\x20file\x20','unhandledRejection'];a55_0x2566=function(){return _0x21161a;};return a55_0x2566();}function a55_0x5919(_0x1865d4,_0x489414){const _0x25661c=a55_0x2566();return a55_0x5919=function(_0x5919bc,_0x1d5b0f){_0x5919bc=_0x5919bc-0x127;let _0xc81b57=_0x25661c[_0x5919bc];return _0xc81b57;},a55_0x5919(_0x1865d4,_0x489414);}const a55_0x2302a0=a55_0x5919;(function(_0x312d43,_0x100d60){const _0x16f9b4=a55_0x5919,_0x1562c7=_0x312d43();while(!![]){try{const _0x293329=parseInt(_0x16f9b4(0x17d))/0x1+parseInt(_0x16f9b4(0x1d4))/0x2+-parseInt(_0x16f9b4(0x1e1))/0x3*(-parseInt(_0x16f9b4(0x145))/0x4)+parseInt(_0x16f9b4(0x1e2))/0x5*(-parseInt(_0x16f9b4(0x1b8))/0x6)+parseInt(_0x16f9b4(0x178))/0x7+parseInt(_0x16f9b4(0x170))/0x8*(-parseInt(_0x16f9b4(0x159))/0x9)+-parseInt(_0x16f9b4(0x1cb))/0xa;if(_0x293329===_0x100d60)break;else _0x1562c7['push'](_0x1562c7['shift']());}catch(_0x67b186){_0x1562c7['push'](_0x1562c7['shift']());}}}(a55_0x2566,0xec3cf));const util=require(a55_0x2302a0(0x217)),os=require('os'),path=require(a55_0x2302a0(0x19d)),{v4:uuidv4}=require(a55_0x2302a0(0x12c)),fs=require('fs'),constants=require(a55_0x2302a0(0x142)),{isTurboScaleSession}=require(a55_0x2302a0(0x1f8)),logger=require(a55_0x2302a0(0x154))['winstonLogger'],helper=require('./helper'),utilities=require(a55_0x2302a0(0x1f9)),percyHelper=require(a55_0x2302a0(0x1db)),hubAllocator=require(a55_0x2302a0(0x1ac)),PerformanceTester=require(a55_0x2302a0(0x13e)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require('./performance/constants'),{setPercyFlag}=require('./testhub/utils'),TestHubHandler=require('./testhub/testhubHandler'),timeoutPromise=require('./timeoutPromise');class BrowserStackSetup{constructor(_0x3e84c7,_0x3ffdb4){const _0x4f3be0=a55_0x2302a0,_0x263bbc={'OOoHr':_0x4f3be0(0x161),'ECnqA':'beforeExit','oPhnX':_0x4f3be0(0x1d5),'hNLzR':function(_0x4d88f7){return _0x4d88f7();},'gYQdn':_0x4f3be0(0x1b5),'LZPTV':function(_0x435e7a,_0x167aed){return _0x435e7a===_0x167aed;},'ebBds':_0x4f3be0(0x218),'uqgPP':'SIGINT','eTaUF':_0x4f3be0(0x129),'OeoMC':function(_0x185839,_0x590121){return _0x185839<_0x590121;},'FzczH':function(_0x5b0864,_0x4d3dfb){return _0x5b0864(_0x4d3dfb);},'GKYTD':'selenium-webdriver','gtLmO':function(_0x10662c,_0x1dc88a){return _0x10662c===_0x1dc88a;},'GEWZM':_0x4f3be0(0x15d),'EOGxl':function(_0x238987,_0x3d18fa){return _0x238987!==_0x3d18fa;},'FRDMC':'win32','zPfVC':'SIGABRT','eVlIN':_0x4f3be0(0x20f),'fAnDG':_0x4f3be0(0x156),'deWub':_0x4f3be0(0x1b3),'wNcBf':'Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','wiXzZ':_0x4f3be0(0x206),'pnooT':'No\x20config\x20provided.'},_0x508abb=_0x263bbc[_0x4f3be0(0x188)]['split']('|');let _0xa5cdd5=0x0;while(!![]){switch(_0x508abb[_0xa5cdd5++]){case'0':helper['setLogLevel'](this['config'],this['cliConfig'],this[_0x4f3be0(0x20e)]);continue;case'1':helper[_0x4f3be0(0x1c3)](this[_0x4f3be0(0x17e)]);continue;case'2':this[_0x4f3be0(0x17e)][_0x4f3be0(0x212)][_0x4f3be0(0x1a5)]=!helper['isBrowserstackInfra']()||helper[_0x4f3be0(0x136)](this['config'][_0x4f3be0(0x212)][_0x4f3be0(0x1a5)]);continue;case'3':helper['setBrowserstackInfraFromConfig'](this[_0x4f3be0(0x17e)],this[_0x4f3be0(0x14c)]);continue;case'4':process['on'](_0x263bbc[_0x4f3be0(0x1df)],this[_0x4f3be0(0x1fa)]());continue;case'5':if(!helper[_0x4f3be0(0x1e6)]()){try{process[_0x4f3be0(0x1d9)]['FRAMEWORK']=_0x3ffdb4,utilities[_0x4f3be0(0x1ab)](_0x263bbc[_0x4f3be0(0x155)],{},this[_0x4f3be0(0x17e)],this['framework']);}catch(_0x4b3ead){logger[_0x4f3be0(0x185)]('Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20'+_0x4b3ead);}return;}continue;case'6':this[_0x4f3be0(0x184)]=_0x3ffdb4;continue;case'7':this[_0x4f3be0(0x1e0)]=_0x263bbc[_0x4f3be0(0x1f6)](uuidv4);continue;case'8':logger[_0x4f3be0(0x1b1)](_0x4f3be0(0x149)+this[_0x4f3be0(0x1e0)]);continue;case'9':global[_0x4f3be0(0x1e0)]=this[_0x4f3be0(0x1e0)];continue;case'10':this['intExitHandler']=this['intExitHandler']['bind'](this);continue;case'11':this[_0x4f3be0(0x1c4)]=[];continue;case'12':process['on'](_0x263bbc[_0x4f3be0(0x139)],this[_0x4f3be0(0x181)]);continue;case'13':this[_0x4f3be0(0x14c)]=helper[_0x4f3be0(0x189)](_0x3e84c7);continue;case'14':this[_0x4f3be0(0x162)]={};continue;case'15':if(_0x263bbc[_0x4f3be0(0x1a3)](_0x3ffdb4,_0x263bbc[_0x4f3be0(0x150)]))return;continue;case'16':process['on'](_0x263bbc[_0x4f3be0(0x195)],this[_0x4f3be0(0x181)]);continue;case'17':this['envConfig']=helper[_0x4f3be0(0x172)]();continue;case'18':!this[_0x4f3be0(0x17e)]['disableAutoCaptureLogs']&&logger['info'](constants[_0x4f3be0(0x1e4)]);continue;case'19':this[_0x4f3be0(0x17e)][_0x4f3be0(0x1aa)]['skipBinaryInitialisation']=helper[_0x4f3be0(0x136)](this[_0x4f3be0(0x17e)]['browserStackLocalOptions'][_0x4f3be0(0x13f)]);continue;case'20':global[_0x4f3be0(0x184)]=_0x3ffdb4;continue;case'21':this[_0x4f3be0(0x17e)][_0x4f3be0(0x212)]=this['config'][_0x4f3be0(0x212)]||{};continue;case'22':this['config'][_0x4f3be0(0x212)][_0x4f3be0(0x15e)]=!helper[_0x4f3be0(0x1e6)]()||helper['isTrue'](this[_0x4f3be0(0x17e)][_0x4f3be0(0x212)][_0x4f3be0(0x15e)]);continue;case'23':if(helper['isUndefined'](helper[_0x4f3be0(0x1ff)](this['config']))||helper[_0x4f3be0(0x173)](helper[_0x4f3be0(0x216)](this[_0x4f3be0(0x17e)])))throw new Error(_0x263bbc[_0x4f3be0(0x182)]);continue;case'24':global[_0x4f3be0(0x17e)]=this[_0x4f3be0(0x17e)];continue;case'25':helper[_0x4f3be0(0x14b)](_0x3ffdb4)&&(_0x263bbc['OeoMC'](_0x263bbc[_0x4f3be0(0x205)](parseInt,helper[_0x4f3be0(0x13b)](_0x263bbc[_0x4f3be0(0x214)])),0x3)&&(this[_0x4f3be0(0x17e)][_0x4f3be0(0x1a8)]=![]),_0x263bbc[_0x4f3be0(0x171)](helper[_0x4f3be0(0x21c)](helper[_0x4f3be0(0x13b)](_0x263bbc[_0x4f3be0(0x214)]),_0x263bbc[_0x4f3be0(0x1fc)]),0x1)&&(this[_0x4f3be0(0x17e)][_0x4f3be0(0x1a8)]=!![]));continue;case'26':!this[_0x4f3be0(0x17e)][_0x4f3be0(0x212)]&&(this[_0x4f3be0(0x17e)][_0x4f3be0(0x212)]={});continue;case'27':this[_0x4f3be0(0x17e)][_0x4f3be0(0x138)]=this[_0x4f3be0(0x17e)][_0x4f3be0(0x138)]||[];continue;case'28':_0x263bbc[_0x4f3be0(0x141)](process[_0x4f3be0(0x19c)],_0x263bbc['FRDMC'])?(process['on'](_0x263bbc[_0x4f3be0(0x1d7)],this['intExitHandler']),process['on'](_0x263bbc['eVlIN'],this[_0x4f3be0(0x181)])):process['on'](_0x263bbc['fAnDG'],this[_0x4f3be0(0x181)]);continue;case'29':process['on'](_0x263bbc['deWub'],this[_0x4f3be0(0x181)]);continue;case'30':this['handleExceptions']();continue;case'31':!this[_0x4f3be0(0x17e)][_0x4f3be0(0x1aa)]&&(this[_0x4f3be0(0x17e)][_0x4f3be0(0x1aa)]=this[_0x4f3be0(0x17e)][_0x4f3be0(0x1b9)]||{});continue;case'32':helper[_0x4f3be0(0x198)](this['config']);continue;case'33':process[_0x4f3be0(0x1d9)]['BROWSERSTACK_TURBOSCALE']&&(this[_0x4f3be0(0x17e)][_0x4f3be0(0x187)]=helper[_0x4f3be0(0x136)](process[_0x4f3be0(0x1d9)][_0x4f3be0(0x21a)]),this[_0x4f3be0(0x17e)][_0x4f3be0(0x202)]=this[_0x4f3be0(0x17e)][_0x4f3be0(0x202)]||{});continue;case'34':helper[_0x4f3be0(0x177)](this[_0x4f3be0(0x17e)],this['cliConfig'],this['envConfig']);continue;case'35':this[_0x4f3be0(0x1ef)]=null;continue;case'36':helper[_0x4f3be0(0x199)](this['config'])&&helper[_0x4f3be0(0x173)](helper[_0x4f3be0(0x18e)](this['config']))&&(!helper[_0x4f3be0(0x173)](this['config']['browserStackLocalOptions'])&&_0x263bbc[_0x4f3be0(0x171)](this[_0x4f3be0(0x17e)][_0x4f3be0(0x1aa)][_0x4f3be0(0x20c)],Object)?!helper[_0x4f3be0(0x136)](this['config'][_0x4f3be0(0x1aa)][_0x4f3be0(0x13f)])&&(this[_0x4f3be0(0x17e)]['browserStackLocalOptions'][_0x4f3be0(0x132)]=helper[_0x4f3be0(0x18a)]()):this[_0x4f3be0(0x17e)][_0x4f3be0(0x1aa)]={'localIdentifier':helper[_0x4f3be0(0x18a)]()});continue;case'37':this[_0x4f3be0(0x1b2)]=null;continue;case'38':this[_0x4f3be0(0x17e)]=helper[_0x4f3be0(0x1bb)](helper[_0x4f3be0(0x19b)](_0x3e84c7));continue;case'39':(helper[_0x4f3be0(0x173)](this[_0x4f3be0(0x17e)][_0x4f3be0(0x138)])||helper['isUndefined'](this[_0x4f3be0(0x17e)][_0x4f3be0(0x138)][_0x4f3be0(0x16c)]))&&(helper[_0x4f3be0(0x173)](this[_0x4f3be0(0x17e)]['parallelsPerPlatform'])?logger[_0x4f3be0(0x1b1)](_0x263bbc[_0x4f3be0(0x219)]):logger[_0x4f3be0(0x157)](_0x263bbc['wiXzZ']),this[_0x4f3be0(0x17e)][_0x4f3be0(0x138)]=[]);continue;case'40':try{process['env'][_0x4f3be0(0x133)]=_0x3e84c7['_'][0x0],utilities[_0x4f3be0(0x1ab)](_0x263bbc[_0x4f3be0(0x155)],{},this[_0x4f3be0(0x17e)],this['framework']);}catch(_0x228f48){logger[_0x4f3be0(0x185)](_0x4f3be0(0x164)+_0x228f48);}continue;case'41':if(this[_0x4f3be0(0x17e)][_0x4f3be0(0x17f)])throw new Error(this[_0x4f3be0(0x17e)][_0x4f3be0(0x17f)]);continue;case'42':if(helper[_0x4f3be0(0x173)](this[_0x4f3be0(0x17e)]))throw new Error(_0x263bbc[_0x4f3be0(0x167)]);continue;case'43':this[_0x4f3be0(0x208)]=null;continue;}break;}}async[a55_0x2302a0(0x166)](){const _0x58c430=a55_0x2302a0,_0x595a15={'NWvau':function(_0x2a2c8a,_0x77a833){return _0x2a2c8a(_0x77a833);},'qkaLn':_0x58c430(0x1cd),'lSdGK':'custom-repeater','HLTTu':_0x58c430(0x210),'ankXN':function(_0x439b02,_0x40ff2e){return _0x439b02===_0x40ff2e;},'THScC':_0x58c430(0x1dd),'PsFrY':function(_0x3cb6ea,_0x4a8a71){return _0x3cb6ea+_0x4a8a71;},'LEYvV':'?caps=','lWkEx':_0x58c430(0x131),'WRbRn':function(_0x1cdca6,_0x6ce3b9){return _0x1cdca6(_0x6ce3b9);}};if(_0x595a15[_0x58c430(0x1a2)](isTurboScaleSession,this[_0x58c430(0x17e)])){const _0x34827d=await helper[_0x58c430(0x1ae)](this[_0x58c430(0x17e)]);this[_0x58c430(0x17e)]['turboScaleGridDetails']=_0x34827d,_0x34827d['isTrialGrid']&&(this[_0x58c430(0x17e)][_0x58c430(0x208)]=!![],this[_0x58c430(0x17e)][_0x58c430(0x1aa)][_0x58c430(0x132)]=_0x595a15[_0x58c430(0x211)],this['config'][_0x58c430(0x1aa)][_0x595a15['lSdGK']]=_0x34827d[_0x58c430(0x20d)][_0x58c430(0x19f)](','),this[_0x58c430(0x17e)][_0x58c430(0x1aa)][_0x58c430(0x192)]=_0x595a15['HLTTu']),this[_0x58c430(0x17e)][_0x58c430(0x1f5)]=_0x34827d[_0x58c430(0x1ee)],this[_0x58c430(0x184)]&&_0x595a15[_0x58c430(0x175)](this[_0x58c430(0x184)][_0x58c430(0x1d2)](),_0x595a15[_0x58c430(0x190)])&&(this['config'][_0x58c430(0x1f5)]=_0x595a15[_0x58c430(0x1a9)](_0x34827d[_0x58c430(0x15c)],_0x595a15[_0x58c430(0x1eb)])),constants[_0x58c430(0x1c8)]=helper['getHubUrl'](this[_0x58c430(0x17e)]),logger[_0x58c430(0x185)]('HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20'+constants['hubUrl']);}helper[_0x58c430(0x20a)](this['config']),this['setupKeepAlive'](),_0x595a15[_0x58c430(0x1a2)](setPercyFlag,this),await this[_0x58c430(0x12d)](),![_0x595a15[_0x58c430(0x1a7)]][_0x58c430(0x15b)](this[_0x58c430(0x184)])&&!_0x595a15['WRbRn'](isTurboScaleSession,this[_0x58c430(0x17e)])&&!helper[_0x58c430(0x144)]()[_0x58c430(0x180)]&&await this[_0x58c430(0x15a)]();}async[a55_0x2302a0(0x1fd)](){const _0x1dbc0b=a55_0x2302a0,_0xdf30d9={};_0xdf30d9[_0x1dbc0b(0x1ea)]=function(_0x47c528,_0x36a3d2){return _0x47c528===_0x36a3d2;},_0xdf30d9[_0x1dbc0b(0x1a6)]=_0x1dbc0b(0x18d),_0xdf30d9[_0x1dbc0b(0x16a)]=_0x1dbc0b(0x130),_0xdf30d9[_0x1dbc0b(0x18f)]='Percy\x20started\x20successfully',_0xdf30d9['MlCEq']='true',_0xdf30d9[_0x1dbc0b(0x1b7)]=_0x1dbc0b(0x191);const _0x151482=_0xdf30d9;if(helper['isTrue'](this[_0x1dbc0b(0x17e)]['percy'])&&(!this['percy']||!this[_0x1dbc0b(0x1ef)][_0x1dbc0b(0x1a4)]()))try{this[_0x1dbc0b(0x1ef)]=await percyHelper['startPercy'](this['config']);if(!this[_0x1dbc0b(0x1ef)]){process[_0x1dbc0b(0x1d9)]['BROWSERSTACK_PERCY']=_0x151482['rwgHl'];throw new Error(_0x151482[_0x1dbc0b(0x16a)]);}logger[_0x1dbc0b(0x1b1)](_0x151482[_0x1dbc0b(0x18f)]),process[_0x1dbc0b(0x1d9)]['BROWSERSTACK_PERCY']=_0x151482[_0x1dbc0b(0x1a0)];let _0x3f9bf4=0x0;const _0x1c4677=async()=>{const _0x4f9f2a=_0x1dbc0b;_0x3f9bf4++,_0x151482['cqzQl'](_0x3f9bf4,0x1)&&await this[_0x4f9f2a(0x168)]();};process['on'](_0x151482['cHUiC'],_0x1c4677);}catch(_0x199458){process['env'][_0x1dbc0b(0x1cf)]=_0x151482[_0x1dbc0b(0x1a6)],logger[_0x1dbc0b(0x185)](_0x1dbc0b(0x1ba)+_0x199458);throw new Error(_0x199458[_0x1dbc0b(0x203)]());}}async[a55_0x2302a0(0x168)](){const _0x1d6fad=a55_0x2302a0,_0x5dc559={};_0x5dc559[_0x1d6fad(0x1a1)]=_0x1d6fad(0x174),_0x5dc559[_0x1d6fad(0x1f0)]='Error\x20occured\x20while\x20stopping\x20percy';const _0x27c074=_0x5dc559;if(this[_0x1d6fad(0x1ef)]&&this[_0x1d6fad(0x1ef)][_0x1d6fad(0x1a4)]())try{await percyHelper['stopPercy'](this[_0x1d6fad(0x1ef)]),logger[_0x1d6fad(0x1b1)](_0x27c074['COCLm']);}catch(_0x3410e7){logger[_0x1d6fad(0x17f)](_0x27c074[_0x1d6fad(0x1f0)],_0x3410e7[_0x1d6fad(0x146)]);}}async[a55_0x2302a0(0x12d)](){const _0x3d2561=a55_0x2302a0,_0x57cbb7={};_0x57cbb7[_0x3d2561(0x193)]=_0x3d2561(0x152),_0x57cbb7['QBIyv']=_0x3d2561(0x165);const _0x16b358=_0x57cbb7;if(helper[_0x3d2561(0x1e6)]()&&helper['isTrue'](this[_0x3d2561(0x17e)][_0x3d2561(0x208)])&&(!this[_0x3d2561(0x208)]||!this['browserstackLocal']['isRunning']()))try{if(this['config']['browserStackLocalOptions']['skipBinaryInitialisation']){logger[_0x3d2561(0x185)](_0x16b358['IrHox']);return;}this[_0x3d2561(0x208)]=await helper['startLocalBinary'](this[_0x3d2561(0x17e)]),logger[_0x3d2561(0x1b1)](_0x16b358[_0x3d2561(0x1ce)]);}catch(_0x3d07e4){logger[_0x3d2561(0x185)](_0x3d07e4);throw new Error(_0x3d07e4[_0x3d2561(0x203)]());}}async[a55_0x2302a0(0x1dc)](){const _0x26abdf=a55_0x2302a0,_0x284102={};_0x284102[_0x26abdf(0x215)]=_0x26abdf(0x1e3),_0x284102['MCpNP']=_0x26abdf(0x1e9);const _0x4ed3e3=_0x284102;if(this[_0x26abdf(0x208)]&&this[_0x26abdf(0x208)]['isRunning']())try{await helper['stopLocalBinary'](this[_0x26abdf(0x208)]),logger['info'](_0x4ed3e3[_0x26abdf(0x215)]);}catch(_0x27b663){logger[_0x26abdf(0x17f)](_0x4ed3e3['MCpNP'],_0x27b663[_0x26abdf(0x146)]);}}async[a55_0x2302a0(0x15a)](){const _0x1da718=a55_0x2302a0;return PerformanceTester[_0x1da718(0x1d6)](PerformanceAutEvents[_0x1da718(0x151)],async()=>{const _0x51ab18=_0x1da718;await hubAllocator[_0x51ab18(0x12e)](this[_0x51ab18(0x17e)]);})();}async[a55_0x2302a0(0x1c7)](){const _0x1b69a9=a55_0x2302a0,_0x5a3ea1={'XPrAn':function(_0x5053d9,_0x2a94de){return _0x5053d9(_0x2a94de);},'PMQuk':_0x1b69a9(0x160),'FltcS':function(_0x4fa079,_0x1a6afa,_0x1edeb2,_0x2eb2d0,_0x328a97,_0xbc5520,_0x2a27d7){return _0x4fa079(_0x1a6afa,_0x1edeb2,_0x2eb2d0,_0x328a97,_0xbc5520,_0x2a27d7);},'YgIwI':'BrowserstackHealing.init\x20method\x20timed\x20out','isoHk':_0x1b69a9(0x176),'IJjud':function(_0x5cbb6e,_0x59cb82){return _0x5cbb6e(_0x59cb82);},'beoqH':_0x1b69a9(0x12f),'oGGFC':'BrowserstackHealing.init','FimLp':function(_0x30b873,_0x51d38d){return _0x30b873(_0x51d38d);},'kxMYb':function(_0x5a4efa,_0x2de31e){return _0x5a4efa===_0x2de31e;},'anJNb':_0x1b69a9(0x210),'eRZEI':function(_0x40ab4c,_0x2c17dc){return _0x40ab4c===_0x2c17dc;},'wOCpv':function(_0x218418,_0x108d90){return _0x218418===_0x108d90;},'xJMAj':function(_0x22521e,_0x17bfdf){return _0x22521e===_0x17bfdf;},'sJPRj':_0x1b69a9(0x201),'unwwp':_0x1b69a9(0x1f4),'IiqNM':'Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','LqLgE':_0x1b69a9(0x1b6),'LiyPV':function(_0x256d1f,_0x117316){return _0x256d1f>=_0x117316;},'MFtqH':function(_0x5cab6e,_0x56b66f){return _0x5cab6e<_0x56b66f;},'NKAhB':function(_0x40b354,_0x33851d){return _0x40b354>=_0x33851d;},'LnELT':'tcg\x20config\x20setup\x20successful.','ALBXW':'aiHeal:tcgAuth','UyaLx':function(_0xc362af){return _0xc362af();}},_0x29741e=PerformanceTester[_0x1b69a9(0x1d6)](_0x5a3ea1[_0x1b69a9(0x1c0)],async()=>{const _0x438e73=_0x1b69a9;try{const _0x51d1cb=new Date(),_0x5dea77=helper[_0x438e73(0x1c1)](this[_0x438e73(0x17e)]),_0x108a08=_0x5a3ea1[_0x438e73(0x17a)](require,path[_0x438e73(0x19f)](__dirname,_0x5a3ea1[_0x438e73(0x1e7)])),_0x3960ba=_0x5a3ea1[_0x438e73(0x1e8)](timeoutPromise,constants[_0x438e73(0x158)],_0x5a3ea1[_0x438e73(0x1ed)],_0x5a3ea1['isoHk'],_0x51d1cb,this[_0x438e73(0x17e)],this[_0x438e73(0x184)]),_0x397f81={'tcgUrl':constants[_0x438e73(0x1f7)],'sdkVersion':_0x5a3ea1[_0x438e73(0x179)](require,_0x5a3ea1[_0x438e73(0x127)])[_0x438e73(0x1ca)],'methodUsed':_0x5a3ea1['oGGFC'],'proxyConfig':_0x5dea77,'os':os['platform']()};if(_0x5dea77&&_0x5dea77['proxyUrl']){utilities[_0x438e73(0x1ab)](constants[_0x438e73(0x213)],_0x397f81,this[_0x438e73(0x17e)],this[_0x438e73(0x184)]);return;}const _0x427234={};_0x427234[_0x438e73(0x1bc)]=_0x5dea77;const _0x35c9d4=await Promise[_0x438e73(0x1da)]([_0x108a08['init'](this[_0x438e73(0x17e)][_0x438e73(0x1d8)],this['config'][_0x438e73(0x21b)],constants[_0x438e73(0x1f7)],_0x5a3ea1[_0x438e73(0x1f3)](require,_0x5a3ea1[_0x438e73(0x127)])[_0x438e73(0x1ca)],_0x427234)[_0x438e73(0x1c6)](_0x177542=>{const _0x31a039=_0x438e73;return _0x3960ba[_0x31a039(0x18b)](),_0x177542;}),_0x3960ba]);_0x35c9d4[_0x438e73(0x1b0)]=_0x5a3ea1['kxMYb'](_0x35c9d4[_0x438e73(0x1b0)],_0x5a3ea1[_0x438e73(0x1d1)])||_0x5a3ea1[_0x438e73(0x14e)](_0x35c9d4['isHealingEnabled'],!![]);const _0x14d3c4=_0x5a3ea1['wOCpv'](this[_0x438e73(0x17e)][_0x438e73(0x1c5)],!![])||_0x5a3ea1[_0x438e73(0x1f1)](this['config']['selfHeal'],_0x5a3ea1[_0x438e73(0x1d1)]);if(_0x5a3ea1[_0x438e73(0x14d)](_0x35c9d4[_0x438e73(0x146)],constants['UPGRADE_REQUIRED'])&&_0x14d3c4)logger[_0x438e73(0x1b1)](_0x5a3ea1['sJPRj']);else{if(!_0x35c9d4[_0x438e73(0x19a)]&&_0x5a3ea1['wOCpv'](_0x35c9d4['status'],0x1f7)&&_0x14d3c4)logger[_0x438e73(0x1b1)](_0x5a3ea1[_0x438e73(0x1d0)]),utilities['fireFunnelTestEvent'](constants[_0x438e73(0x1ec)],_0x397f81,this[_0x438e73(0x17e)],this[_0x438e73(0x184)]);else{if(!_0x35c9d4[_0x438e73(0x19a)]&&_0x14d3c4){logger['info'](_0x5a3ea1['IiqNM']);const _0x5e664a={'tcgUrl':constants[_0x438e73(0x1f7)],'sdkVersion':_0x5a3ea1['IJjud'](require,_0x5a3ea1[_0x438e73(0x127)])[_0x438e73(0x1ca)],'methodUsed':_0x5a3ea1[_0x438e73(0x1be)],'proxyConfig':_0x5dea77,'os':os['platform']()};utilities[_0x438e73(0x1ab)](constants[_0x438e73(0x147)],_0x5e664a,this[_0x438e73(0x17e)],this[_0x438e73(0x184)]);}else{if(_0x35c9d4[_0x438e73(0x19a)]&&!_0x35c9d4[_0x438e73(0x1b0)]&&_0x14d3c4)logger[_0x438e73(0x1b1)](_0x5a3ea1[_0x438e73(0x12b)]);else{if(_0x5a3ea1[_0x438e73(0x194)](_0x35c9d4[_0x438e73(0x143)],0xc8)&&_0x5a3ea1[_0x438e73(0x197)](_0x35c9d4[_0x438e73(0x143)],0x12c))utilities[_0x438e73(0x1ab)](constants['AI_INIT_SUCCESSFUL'],_0x397f81,this['config'],this['framework']);else{if(_0x5a3ea1[_0x438e73(0x207)](_0x35c9d4[_0x438e73(0x143)],0x190))_0x397f81[_0x438e73(0x143)]=_0x35c9d4[_0x438e73(0x143)],utilities[_0x438e73(0x1ab)](constants[_0x438e73(0x204)],_0x397f81,this[_0x438e73(0x17e)],this['framework']);else!_0x35c9d4[_0x438e73(0x143)]&&utilities[_0x438e73(0x1ab)](constants[_0x438e73(0x1e5)],_0x397f81,this[_0x438e73(0x17e)],this[_0x438e73(0x184)]);}}}}}if(_0x35c9d4[_0x438e73(0x19a)]&&_0x35c9d4[_0x438e73(0x1b0)]){const _0x100f14={};_0x100f14[_0x438e73(0x186)]=_0x35c9d4;const _0x20ae99=_0x100f14;_0x5dea77&&(_0x20ae99['proxyConfig']=_0x5dea77),_0x20ae99[_0x438e73(0x184)]=this[_0x438e73(0x184)],_0x20ae99['bstackConfig']=this['config'],helper[_0x438e73(0x1c9)](_0x20ae99),logger[_0x438e73(0x185)](_0x5a3ea1[_0x438e73(0x209)]);}}catch(_0x2d1ea1){logger['debug'](_0x438e73(0x18c)+(_0x2d1ea1[_0x438e73(0x146)]?_0x2d1ea1['message']:''));}});await _0x5a3ea1[_0x1b69a9(0x1d3)](_0x29741e);}['setupKeepAlive'](){const _0x2ffe3b=a55_0x2302a0,_0x179ac5={'teNDm':function(_0x2e5ada,_0xf58c0e){return _0x2e5ada(_0xf58c0e);},'LEzVH':_0x2ffe3b(0x13c)};_0x179ac5[_0x2ffe3b(0x137)](require,_0x179ac5[_0x2ffe3b(0x200)])();}['handleExceptions'](){const _0x56fdfb=a55_0x2302a0,_0x4824d6={};_0x4824d6[_0x56fdfb(0x148)]=_0x56fdfb(0x16f),_0x4824d6[_0x56fdfb(0x20b)]=_0x56fdfb(0x140);const _0x51743=_0x4824d6,_0x1c5ab4=_0x258776=>{const _0x2ebb86=_0x56fdfb;logger[_0x2ebb86(0x17f)](_0x258776['message']),logger[_0x2ebb86(0x185)](util[_0x2ebb86(0x1f2)](_0x258776)),this[_0x2ebb86(0x1c4)][_0x2ebb86(0x1fe)](util[_0x2ebb86(0x1f2)]('%j',_0x258776)),PerformanceTester[_0x2ebb86(0x17b)](_0x258776);};process['on'](_0x51743[_0x56fdfb(0x148)],_0x1c5ab4),process['on'](_0x51743['nkVuM'],_0x1c5ab4);}async[a55_0x2302a0(0x181)](_0x168656){const _0x373850=a55_0x2302a0,_0x28be84={};_0x28be84[_0x373850(0x169)]=_0x373850(0x1ad),_0x28be84['SWSKL']=function(_0x10d5ff,_0x52d8b8){return _0x10d5ff+_0x52d8b8;},_0x28be84['yfwMz']=_0x373850(0x196),_0x28be84[_0x373850(0x1af)]=function(_0x44f94b,_0x2c59ca){return _0x44f94b+_0x2c59ca;},_0x28be84[_0x373850(0x13d)]=_0x373850(0x14f);const _0x405c51=_0x28be84,_0x4383fd=_0x405c51[_0x373850(0x169)][_0x373850(0x15f)]('|');let _0x6e198b=0x0;while(!![]){switch(_0x4383fd[_0x6e198b++]){case'0':await TestHubHandler[_0x373850(0x1bf)](_0x168656);continue;case'1':if(this[_0x405c51[_0x373850(0x13a)](_0x405c51[_0x373850(0x17c)],_0x168656)])return;continue;case'2':this[_0x373850(0x1b2)]=_0x168656;continue;case'3':logger[_0x373850(0x1b1)](_0x405c51[_0x373850(0x1af)](_0x405c51[_0x373850(0x13d)],_0x168656));continue;case'4':this[_0x405c51['SWSKL'](_0x405c51[_0x373850(0x17c)],_0x168656)]=!![];continue;}break;}}[a55_0x2302a0(0x1fa)](){const _0x3c03cd=a55_0x2302a0,_0x3e2024={};_0x3e2024[_0x3c03cd(0x1de)]=function(_0x206ed1,_0x5590b1){return _0x206ed1===_0x5590b1;},_0x3e2024[_0x3c03cd(0x128)]=_0x3c03cd(0x14a),_0x3e2024[_0x3c03cd(0x1fb)]=function(_0x515a98,_0x3876cd){return _0x515a98>_0x3876cd;},_0x3e2024[_0x3c03cd(0x12a)]=function(_0x5ad007,_0x3495b1){return _0x5ad007>_0x3495b1;},_0x3e2024['EPxpp']='log/events.json';const _0xec211=_0x3e2024;let _0x34192e=0x0;return async()=>{const _0x3a9494=_0x3c03cd;_0x34192e++;if(_0xec211[_0x3a9494(0x1de)](_0x34192e,0x1)){helper[_0x3a9494(0x183)](this[_0x3a9494(0x184)])&&await this[_0x3a9494(0x1dc)]();try{logger['debug'](_0xec211[_0x3a9494(0x128)]),await TestHubHandler['stop'](_0x34192e);}catch(_0x2a6ede){logger[_0x3a9494(0x185)]('Error\x20in\x20sending\x20testhub\x20stop:\x20'+util[_0x3a9494(0x1f2)](_0x2a6ede));}PerformanceTester[_0x3a9494(0x16b)](PerformanceEvents['SDK_CLEANUP']);if(PerformanceTester['isEnabled']()){const {measures:_0x1dfbc4,errors:_0x3654fd}=await PerformanceTester[_0x3a9494(0x16d)](),_0x295db6={};if(_0x1dfbc4&&_0xec211[_0x3a9494(0x1fb)](_0x1dfbc4['length'],0x0)||_0x3654fd&&_0xec211[_0x3a9494(0x12a)](_0x3654fd['length'],0x0)){const _0x554e83={};_0x554e83[_0x3a9494(0x1c2)]=_0x1dfbc4,_0x554e83['exceptions']=_0x3654fd,Object['assign'](_0x295db6,_0x554e83);}try{const _0x2890a9=await helper[_0x3a9494(0x19e)](_0x295db6,this[_0x3a9494(0x17e)]);logger[_0x3a9494(0x185)]('Data\x20sent\x20successfully\x20to\x20'+constants[_0x3a9494(0x153)]+'\x20with\x20response\x20'+_0x2890a9['statusCode']);}catch(_0x28c222){logger[_0x3a9494(0x185)](_0x3a9494(0x135)+constants[_0x3a9494(0x153)]+_0x3a9494(0x1cc)+util[_0x3a9494(0x1f2)](_0x28c222));}try{fs[_0x3a9494(0x1bd)](_0xec211[_0x3a9494(0x134)],JSON[_0x3a9494(0x163)](_0x295db6));}catch(_0x5865ff){logger[_0x3a9494(0x185)](_0x3a9494(0x16e)+_0x5865ff);}}}};}}exports[a55_0x2302a0(0x1b4)]=BrowserStackSetup;