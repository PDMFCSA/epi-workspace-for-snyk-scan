function a94_0x101b(){const _0x45a517=['tcgAuthConfig','kJQMD','envConfig','length','init','./performance/performance-tester','measures','JwLlF','getLocalConfig','prevy','rYrtO','?caps=','ecVle','allocateHub','2|4|0|1|3','91UbGQxy','../bin/utils/apiUtilityMethods','platforms','OYpoZ','browserStackLocalOptions','XKOPQ','stopLocalBinary','LpQsn','JOkqg','stopBrowserstackLocal','eQFXC','HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20','isUndefined','isTurboScaleSession','TWefw','783435WcYqnJ','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','TCG_AUTH_FAILURE','setLogDir','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.','Error\x20occured\x20while\x20stopping\x20percy','YANNw','./performance/constants','WygGt','ToAgd','zIKTD','bstackConfig','stopPercy','writeFileSync','isTrue','SAygV','info','GKWzM','BrowserstackHealing.init','playwrightUrl','setupPercy','integrations','exitHandler','TCG_URL','../../package.json','killSignal','IrCDc','Percy\x20stopped','HOGzi','setupTcgConfigFile','LBFUp','mCKQQ','parallelsPerPlatform','toString','aocZm','turboScaleOptions','nyShR','INanh','turboScaleUrl','DvwmT','jPtxT','getFinalCaps','version','status','unhandledErrors','getCentralUser','ALVCD','default','proxyUrl','platform','VdEzg','../hubAllocationMethods','__isPlaywrightInstalled','xxixj','startPercy','../bin/utils/constants','fzYbL','setCredentialsFromYmlConfig','rGmXA','percy','INVALID_INIT_RESP_WITH_USER_IMPACT','getProxyConfigForTcg','isLTSSession','intExitHandler','./testhub/utils','4.5.0','uJJfz','oiZpd','FJycP','1782064YIMuQc','../bin/utils/clientTroubleshootingService','central_scanner','selfHeal','sdkRunId','bCmQo','../bin/v2/modules/loadTestModule','Percy\x20started\x20successfully','winstonLogger','OxUXw','userName','beforeExit','Data\x20sent\x20successfully\x20to\x20','errorMessage','warn','\x20with\x20error\x20','startMonitoring','kTfRM','path','BROWSERSTACK_PERCY','prlYQ','SIGTERM','localOptions','custom-repeater','accessKey','Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','SIGINT','ENJmV','Local\x20binary\x20started\x20successfully','reportFinalDetectionState','BDGTT','config','hubUrl','yQfsI','AUTOLOGCAPTURE_NOTIFICATION','zVVbs','testContextOptions','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','setUpHubUrl','gWvOd','369NQszuq','checkStopLocalBinaryOnExit','aiHeal:tcgAuth','requireSeleniumWebdriverCheck','doEMD','setCLICaps','DpPFS','true','7|2|1|6|0|4|3|5','skipBinaryInitialisation','UuRPo','Error\x20in\x20sending\x20testhub\x20stop:\x20','BrowserstackHealing.init\x20method\x20timed\x20out','setupKeepAlive','BROWSERSTACK_TURBOSCALE','getLocalIdentifier','skipSessionStatus','configPath','isRunning','UIleb','turboScale','Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled','codeceptjs','ZqPeX','proxyConfig','Calling\x20Build\x20Stop\x20from\x20ExitHandler','SDK\x20run\x20started\x20with\x20id:\x20','close','isAuthenticated','QXlfU','isHealingEnabled','join','forceLocal','UkbsA','Shutdown\x20triggered\x20by\x20','localIdentifier','debug','measureWrapper','unhandledRejection','framework','blLia','Bzsfc','captureError','FRAMEWORK','10|7|22|9|6|17|16|15|8|18|21|23|1|2|5|11|14|20|4|12|3|19|13|0','getUserName','31028ERRkZj','bind','AsafS','Error\x20in\x20percy\x20setup\x20','getInstance','skipSessionName','events.json','./setKeepAlive','Failed\x20to\x20send\x20data\x20to\x20','setProxySettings','HUB_MANAGEMENT','DgoQm','compareVersions','fireFunnelTestEvent','SZiDO','handled','LTS\x20session\x20enabled\x20for\x20this\x20run.\x20SDK\x20run\x20id:\x20','getHubUrl','split','useW3C','stringify','PnBsM','rTIRj','initialize','UaHcm','format','setupTCGAuth','url','preInitialize','parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','error','userName\x20or\x20accessKey\x20is\x20not\x20defined','uncaughtException','LUwJj','stop','./utilities','turboScaleGridDetails','973774HcbSHP','setupBrowserstackLocal','env','SIGHUP','end','Error\x20in\x20writing\x20events\x20to\x20file\x20','sanitizeCaps','4817133hjbdQC','isTrialGrid','setBrowserstackInfraFromConfig','Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','SDK_CLEANUP','FofcD','kUZLU','normalizeTestReportingEnvVars','generateLocalIdentifier','assign','AI_INIT_SUCCESSFUL','cliConfig','../ai-sdk-node/bundle','browserstackLocal','451345IeGryK','../bin/v2/browserstackCLI','wqBGU','SIGBREAK','tKlnY','223302GFdZgC','TCG_DOWN','./logger','race','UPGRADE_REQUIRED','constructor','selenium-webdriver','viSki','WUtFg','TJFGg','getConfigPath','getPackageVersion','handleExceptions','message','isEnabled','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','sendToEDS'];a94_0x101b=function(){return _0x45a517;};return a94_0x101b();}const a94_0x45d619=a94_0x2c65;(function(_0xa7e868,_0x1bfb47){const _0x33ef2a=a94_0x2c65,_0x5157db=_0xa7e868();while(!![]){try{const _0x5748f5=-parseInt(_0x33ef2a(0xe3))/0x1+parseInt(_0x33ef2a(0xce))/0x2+-parseInt(_0x33ef2a(0x185))/0x3*(-parseInt(_0x33ef2a(0x1b3))/0x4)+-parseInt(_0x33ef2a(0x117))/0x5+parseInt(_0x33ef2a(0xe8))/0x6*(-parseInt(_0x33ef2a(0x108))/0x7)+-parseInt(_0x33ef2a(0x15d))/0x8+parseInt(_0x33ef2a(0xd5))/0x9;if(_0x5748f5===_0x1bfb47)break;else _0x5157db['push'](_0x5157db['shift']());}catch(_0xee59b2){_0x5157db['push'](_0x5157db['shift']());}}}(a94_0x101b,0xa1878));const util=require('util'),os=require('os'),path=require(a94_0x45d619(0x16f)),{v4:uuidv4}=require('uuid'),fs=require('fs'),constants=require(a94_0x45d619(0x14f)),logger=require(a94_0x45d619(0xea))[a94_0x45d619(0x165)],fileLogger=require('./logger')['fileLogger'],{getLogDir}=require(a94_0x45d619(0xea)),helper=require('./helper'),utilities=require(a94_0x45d619(0xcc)),percyHelper=require('./percy/utils'),hubAllocator=require(a94_0x45d619(0x14b)),PerformanceTester=require(a94_0x45d619(0xfe)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require(a94_0x45d619(0x11f)),{setPercyFlag}=require(a94_0x45d619(0x158)),TestHubHandler=require('./testhub/testhubHandler'),timeoutPromise=require('./timeoutPromise'),BrowserstackCLI=require(a94_0x45d619(0xe4)),LoadTestModule=require(a94_0x45d619(0x163)),{getEdsInstrumentationAPIUrl}=require(a94_0x45d619(0x109)),ClientTroubleShootingService=require(a94_0x45d619(0x15e));function a94_0x2c65(_0xe15ba2,_0x3fa494){const _0x101bc2=a94_0x101b();return a94_0x2c65=function(_0x2c6519,_0x5c6f6a){_0x2c6519=_0x2c6519-0xc4;let _0x5d333f=_0x101bc2[_0x2c6519];return _0x5d333f;},a94_0x2c65(_0xe15ba2,_0x3fa494);}class BrowserStackSetup{constructor(_0x5ec8cf,_0x3c1460){const _0x271c0c=a94_0x45d619,_0x8d4d6e={'kJQMD':_0x271c0c(0x1b1),'MGXpX':'No\x20config\x20provided.','JoKpe':function(_0x53e393){return _0x53e393();}},_0x22f05d=_0x8d4d6e[_0x271c0c(0xfa)][_0x271c0c(0x1c5)]('|');let _0x32e6c8=0x0;while(!![]){switch(_0x22f05d[_0x32e6c8++]){case'0':PerformanceTester[_0x271c0c(0x16d)]();continue;case'1':this['framework']=_0x3c1460;continue;case'2':global[_0x271c0c(0x1ac)]=_0x3c1460;continue;case'3':helper[_0x271c0c(0x141)](this[_0x271c0c(0x17c)],this[_0x271c0c(0xe0)],this['envConfig']);continue;case'4':this[_0x271c0c(0x17c)][_0x271c0c(0x181)][_0x271c0c(0x195)]=!helper['isBrowserstackInfra']()||helper[_0x271c0c(0x126)](this['config']['testContextOptions'][_0x271c0c(0x195)]);continue;case'5':if(helper[_0x271c0c(0x114)](this[_0x271c0c(0x17c)]))throw new Error(_0x8d4d6e['MGXpX']);continue;case'6':this[_0x271c0c(0x153)]=null;continue;case'7':helper[_0x271c0c(0xdc)]();continue;case'8':this[_0x271c0c(0x17c)][_0x271c0c(0x10a)]=this[_0x271c0c(0x17c)][_0x271c0c(0x10a)]||[];continue;case'9':this[_0x271c0c(0xe2)]=null;continue;case'10':this[_0x271c0c(0x144)]=[];continue;case'11':if(this[_0x271c0c(0x17c)][_0x271c0c(0xc7)])throw new Error(this['config'][_0x271c0c(0xc7)]);continue;case'12':this[_0x271c0c(0x17c)][_0x271c0c(0x181)][_0x271c0c(0x1b8)]=!helper['isBrowserstackInfra']()||helper[_0x271c0c(0x126)](this['config']['testContextOptions'][_0x271c0c(0x1b8)]);continue;case'13':helper['setLogLevel'](this[_0x271c0c(0x17c)],this[_0x271c0c(0xe0)],this[_0x271c0c(0xfb)]);continue;case'14':helper[_0x271c0c(0xd7)](this[_0x271c0c(0x17c)],this[_0x271c0c(0xe0)]);continue;case'15':this[_0x271c0c(0xe0)]=helper[_0x271c0c(0x18a)](_0x5ec8cf);continue;case'16':this[_0x271c0c(0x17c)]=helper['readConfig'](this[_0x271c0c(0x196)]);continue;case'17':this[_0x271c0c(0x196)]=helper[_0x271c0c(0xf2)](_0x5ec8cf);continue;case'18':this[_0x271c0c(0x17c)][_0x271c0c(0x181)]=this[_0x271c0c(0x17c)][_0x271c0c(0x181)]||{};continue;case'19':helper[_0x271c0c(0x11a)](this['config']);continue;case'20':helper[_0x271c0c(0x151)](this['config']);continue;case'21':this[_0x271c0c(0x16a)]={};continue;case'22':this[_0x271c0c(0xfb)]=helper['setEnvCaps']();continue;case'23':this[_0x271c0c(0x161)]=_0x8d4d6e['JoKpe'](uuidv4);continue;}break;}}['preInitialize'](_0x5cab41){const _0x57c7d2=a94_0x45d619,_0x26c3c9={'UuRPo':_0x57c7d2(0xc8),'tKlnY':function(_0x1dc720,_0x2e17c2){return _0x1dc720===_0x2e17c2;},'ecVle':_0x57c7d2(0x12d),'aocZm':'SDKTestAttempted','viSki':function(_0x3eea8f,_0x1359d1){return _0x3eea8f<_0x1359d1;},'FofcD':function(_0x786fc3,_0x4e4e4c){return _0x786fc3(_0x4e4e4c);},'wqBGU':_0x57c7d2(0xee),'MXRRA':function(_0x2af42f,_0x3a3295){return _0x2af42f===_0x3a3295;},'LBFUp':_0x57c7d2(0x159),'OxUXw':'Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','ENJmV':_0x57c7d2(0xc6),'jPtxT':_0x57c7d2(0x172),'QXlfU':_0x57c7d2(0x177),'uJJfz':_0x57c7d2(0xd1),'ALVCD':function(_0x1db749,_0x3933c8){return _0x1db749!==_0x3933c8;},'xxixj':'win32','bCmQo':'SIGABRT','eQFXC':'SIGQUIT','oiZpd':_0x57c7d2(0xe6),'rTIRj':'beforeExit'},_0xa382f8=this[_0x57c7d2(0x1ac)];global[_0x57c7d2(0x17c)]=this[_0x57c7d2(0x17c)],helper[_0x57c7d2(0xd4)](this[_0x57c7d2(0x17c)]),this['killSignal']=null,global[_0x57c7d2(0x161)]=this[_0x57c7d2(0x161)],logger[_0x57c7d2(0x128)](_0x57c7d2(0x19f)+this['sdkRunId']),!this[_0x57c7d2(0x17c)][_0x57c7d2(0x10c)]&&(this['config'][_0x57c7d2(0x10c)]=this['config'][_0x57c7d2(0x173)]||{});if(helper['isUndefined'](helper[_0x57c7d2(0x1b2)](this[_0x57c7d2(0x17c)]))||helper['isUndefined'](helper['getAccessKey'](this['config'])))throw new Error(_0x26c3c9[_0x57c7d2(0x18f)]);helper[_0x57c7d2(0x101)](this[_0x57c7d2(0x17c)])&&helper[_0x57c7d2(0x114)](helper[_0x57c7d2(0x194)](this[_0x57c7d2(0x17c)]))&&(!helper[_0x57c7d2(0x114)](this[_0x57c7d2(0x17c)]['browserStackLocalOptions'])&&_0x26c3c9[_0x57c7d2(0xe7)](this['config'][_0x57c7d2(0x10c)][_0x57c7d2(0xed)],Object)?!helper[_0x57c7d2(0x126)](this[_0x57c7d2(0x17c)][_0x57c7d2(0x10c)][_0x57c7d2(0x18e)])&&(this[_0x57c7d2(0x17c)][_0x57c7d2(0x10c)][_0x57c7d2(0x1a8)]=helper[_0x57c7d2(0xdd)]()):this[_0x57c7d2(0x17c)][_0x57c7d2(0x10c)]={'localIdentifier':helper[_0x57c7d2(0xdd)]()});this[_0x57c7d2(0x17c)][_0x57c7d2(0x10c)]['skipBinaryInitialisation']=helper[_0x57c7d2(0x126)](this['config']['browserStackLocalOptions'][_0x57c7d2(0x18e)]),helper['setHandlePWError'](this[_0x57c7d2(0x17c)]);if(_0x26c3c9[_0x57c7d2(0xe7)](_0xa382f8,_0x26c3c9[_0x57c7d2(0x105)]))return;this[_0x57c7d2(0xf4)]();process['env'][_0x57c7d2(0x193)]&&(this[_0x57c7d2(0x17c)][_0x57c7d2(0x199)]=helper[_0x57c7d2(0x126)](process[_0x57c7d2(0xd0)][_0x57c7d2(0x193)]),this['config']['turboScaleOptions']=this[_0x57c7d2(0x17c)][_0x57c7d2(0x13b)]||{});helper['isTurboScaleSession'](this['config'])&&(process[_0x57c7d2(0xd0)][_0x57c7d2(0x193)]=!![]);LoadTestModule[_0x57c7d2(0x156)](this[_0x57c7d2(0x17c)])&&logger[_0x57c7d2(0x1a9)](_0x57c7d2(0x1c3)+this[_0x57c7d2(0x161)]);if(!helper['isBrowserstackInfra']()){try{process[_0x57c7d2(0xd0)]['FRAMEWORK']=_0xa382f8,utilities[_0x57c7d2(0x1c0)](_0x26c3c9[_0x57c7d2(0x13a)],{},this['config'],this[_0x57c7d2(0x1ac)]);}catch(_0xa7e382){logger['debug'](_0x57c7d2(0xf7)+_0xa7e382);}return;}if(helper[_0x57c7d2(0x188)](_0xa382f8)){if(global[_0x57c7d2(0x14c)])return;_0x26c3c9[_0x57c7d2(0xef)](_0x26c3c9[_0x57c7d2(0xda)](parseInt,helper[_0x57c7d2(0xf3)](_0x26c3c9[_0x57c7d2(0xe5)])),0x3)&&(this[_0x57c7d2(0x17c)][_0x57c7d2(0x1c6)]=![]),_0x26c3c9['MXRRA'](helper[_0x57c7d2(0x1bf)](helper[_0x57c7d2(0xf3)](_0x26c3c9['wqBGU']),_0x26c3c9[_0x57c7d2(0x136)]),0x1)&&(this['config'][_0x57c7d2(0x1c6)]=!![]);}(helper[_0x57c7d2(0x114)](this['config']['platforms'])||helper[_0x57c7d2(0x114)](this['config'][_0x57c7d2(0x10a)]['length']))&&(helper[_0x57c7d2(0x114)](this['config'][_0x57c7d2(0x138)])?logger[_0x57c7d2(0x128)](_0x26c3c9[_0x57c7d2(0x166)]):logger[_0x57c7d2(0x16b)](_0x26c3c9[_0x57c7d2(0x178)]),this[_0x57c7d2(0x17c)][_0x57c7d2(0x10a)]=[]);!this[_0x57c7d2(0x17c)][_0x57c7d2(0x181)]&&(this[_0x57c7d2(0x17c)][_0x57c7d2(0x181)]={});try{process['env'][_0x57c7d2(0x1b0)]=_0x5cab41['_'][0x0],utilities[_0x57c7d2(0x1c0)](_0x26c3c9[_0x57c7d2(0x13a)],{},this[_0x57c7d2(0x17c)],this['framework']);}catch(_0x45f23b){logger[_0x57c7d2(0x1a9)](_0x57c7d2(0xf7)+_0x45f23b);}!this[_0x57c7d2(0x17c)]['disableAutoCaptureLogs']&&logger[_0x57c7d2(0x128)](constants[_0x57c7d2(0x17f)]),this[_0x57c7d2(0x157)]=this[_0x57c7d2(0x157)][_0x57c7d2(0x1b4)](this),process['on'](_0x26c3c9[_0x57c7d2(0x140)],this[_0x57c7d2(0x157)]),process['on'](_0x26c3c9[_0x57c7d2(0x1a2)],this[_0x57c7d2(0x157)]),process['on'](_0x26c3c9[_0x57c7d2(0x15a)],this[_0x57c7d2(0x157)]),_0x26c3c9[_0x57c7d2(0x146)](process[_0x57c7d2(0x149)],_0x26c3c9[_0x57c7d2(0x14d)])?(process['on'](_0x26c3c9[_0x57c7d2(0x162)],this[_0x57c7d2(0x157)]),process['on'](_0x26c3c9[_0x57c7d2(0x112)],this[_0x57c7d2(0x157)])):process['on'](_0x26c3c9[_0x57c7d2(0x15b)],this[_0x57c7d2(0x157)]),process['on'](_0x26c3c9[_0x57c7d2(0x1c9)],this[_0x57c7d2(0x12e)]());}async[a94_0x45d619(0x1ca)](_0x3ce443){const _0xca0d94=a94_0x45d619,_0x33cce1={'ByxNK':'ats-repeater','doEMD':_0xca0d94(0x174),'FJycP':_0xca0d94(0x18c),'AsafS':function(_0x3c03d9,_0x54e4ad){return _0x3c03d9===_0x54e4ad;},'rDadd':'playwright','EqGUn':function(_0x619d79,_0x2e675b){return _0x619d79+_0x2e675b;},'SZiDO':_0xca0d94(0x104),'pYnMb':function(_0x12a5c7,_0x49c317){return _0x12a5c7(_0x49c317);},'Bzsfc':_0xca0d94(0x19b)};this[_0xca0d94(0xc5)](_0x3ce443);if(helper[_0xca0d94(0x115)](this['config'])){const _0x347fcd=await helper['getTurboScaleGridDetails'](this['config']);this[_0xca0d94(0x17c)][_0xca0d94(0xcd)]=_0x347fcd,_0x347fcd[_0xca0d94(0xd6)]&&helper['isNotUndefined'](this[_0xca0d94(0x17c)]['browserstackLocal'])&&helper[_0xca0d94(0x126)](this[_0xca0d94(0x17c)][_0xca0d94(0xe2)])&&(this[_0xca0d94(0x17c)]['browserStackLocalOptions'][_0xca0d94(0x1a8)]=_0x33cce1['ByxNK'],this[_0xca0d94(0x17c)][_0xca0d94(0x10c)][_0x33cce1[_0xca0d94(0x189)]]=_0x347fcd['customRepeaters']['join'](','),this[_0xca0d94(0x17c)][_0xca0d94(0x10c)][_0xca0d94(0x1a5)]=_0x33cce1[_0xca0d94(0x15c)]),this['config']['turboScaleUrl']=_0x347fcd[_0xca0d94(0xc4)],this[_0xca0d94(0x1ac)]&&_0x33cce1[_0xca0d94(0x1b5)](this['framework']['toLowerCase'](),_0x33cce1['rDadd'])?this[_0xca0d94(0x17c)][_0xca0d94(0x13e)]=_0x33cce1['EqGUn'](_0x347fcd[_0xca0d94(0x12b)],_0x33cce1[_0xca0d94(0x1c1)]):constants[_0xca0d94(0x17d)]=helper[_0xca0d94(0x1c4)](this['config']),logger[_0xca0d94(0x1a9)](_0xca0d94(0x113)+constants[_0xca0d94(0x17d)]);}helper[_0xca0d94(0x1bc)](this[_0xca0d94(0x17c)]),this[_0xca0d94(0x192)](),_0x33cce1['pYnMb'](setPercyFlag,this),await this[_0xca0d94(0xcf)](),![_0x33cce1[_0xca0d94(0x1ae)],_0x33cce1['rDadd']]['includes'](this[_0xca0d94(0x1ac)])&&!helper[_0xca0d94(0x115)](this[_0xca0d94(0x17c)])&&!helper[_0xca0d94(0x145)]()[_0xca0d94(0x15f)]&&await this['setUpHubUrl']();}async[a94_0x45d619(0x12c)](){const _0x53e11c=a94_0x45d619,_0x2dd1bb={};_0x2dd1bb[_0x53e11c(0x16e)]=function(_0xba0802,_0xb040fe){return _0xba0802===_0xb040fe;},_0x2dd1bb[_0x53e11c(0x10d)]='false',_0x2dd1bb[_0x53e11c(0x198)]=_0x53e11c(0x11c),_0x2dd1bb['GKWzM']=_0x53e11c(0x164),_0x2dd1bb[_0x53e11c(0xf1)]=_0x53e11c(0x18c),_0x2dd1bb[_0x53e11c(0xdb)]=_0x53e11c(0x168);const _0x325138=_0x2dd1bb;if(helper[_0x53e11c(0x126)](this[_0x53e11c(0x17c)][_0x53e11c(0x153)])&&(!this[_0x53e11c(0x153)]||!this[_0x53e11c(0x153)][_0x53e11c(0x197)]()))try{this[_0x53e11c(0x153)]=await percyHelper[_0x53e11c(0x14e)](this[_0x53e11c(0x17c)]);if(!this[_0x53e11c(0x153)]){process['env']['BROWSERSTACK_PERCY']=_0x325138[_0x53e11c(0x10d)];throw new Error(_0x325138[_0x53e11c(0x198)]);}logger[_0x53e11c(0x128)](_0x325138[_0x53e11c(0x129)]),process[_0x53e11c(0xd0)]['BROWSERSTACK_PERCY']=_0x325138['TJFGg'];let _0x47372e=0x0;const _0xf5c88d=async()=>{const _0x1db20d=_0x53e11c;_0x47372e++,_0x325138['kTfRM'](_0x47372e,0x1)&&await this[_0x1db20d(0x124)]();};process['on'](_0x325138[_0x53e11c(0xdb)],_0xf5c88d);}catch(_0x5f4cc6){process['env'][_0x53e11c(0x170)]=_0x325138[_0x53e11c(0x10d)],logger[_0x53e11c(0x1a9)](_0x53e11c(0x1b6)+_0x5f4cc6);throw new Error(_0x5f4cc6[_0x53e11c(0x139)]());}}async[a94_0x45d619(0x124)](){const _0x5a7b6e=a94_0x45d619,_0x4fdf98={};_0x4fdf98[_0x5a7b6e(0x1c8)]=_0x5a7b6e(0x133),_0x4fdf98[_0x5a7b6e(0x17e)]=_0x5a7b6e(0x11d);const _0x185f6c=_0x4fdf98;if(this[_0x5a7b6e(0x153)]&&this[_0x5a7b6e(0x153)][_0x5a7b6e(0x197)]())try{await percyHelper[_0x5a7b6e(0x124)](this[_0x5a7b6e(0x153)]),logger['info'](_0x185f6c['PnBsM']);}catch(_0x2c664e){logger[_0x5a7b6e(0xc7)](_0x185f6c[_0x5a7b6e(0x17e)],_0x2c664e[_0x5a7b6e(0xf5)]);}}async[a94_0x45d619(0xcf)](){const _0x29752b=a94_0x45d619,_0x8029a8={};_0x8029a8[_0x29752b(0x11e)]=_0x29752b(0x19a),_0x8029a8[_0x29752b(0x150)]=_0x29752b(0x179);const _0x55f9e8=_0x8029a8;if(helper['isBrowserstackInfra']()&&helper[_0x29752b(0x126)](this[_0x29752b(0x17c)][_0x29752b(0xe2)])&&(!this[_0x29752b(0xe2)]||!this[_0x29752b(0xe2)][_0x29752b(0x197)]()))try{if(this[_0x29752b(0x17c)][_0x29752b(0x10c)][_0x29752b(0x18e)]){logger[_0x29752b(0x1a9)](_0x55f9e8[_0x29752b(0x11e)]);return;}this[_0x29752b(0xe2)]=await helper['startLocalBinary'](this[_0x29752b(0x17c)]),logger[_0x29752b(0x128)](_0x55f9e8[_0x29752b(0x150)]);}catch(_0x28f94e){logger[_0x29752b(0x1a9)](_0x28f94e);throw new Error(_0x28f94e[_0x29752b(0x139)]());}}async['stopBrowserstackLocal'](){const _0x566ec0=a94_0x45d619,_0x5ae2fe={};_0x5ae2fe[_0x566ec0(0x137)]='Local\x20binary\x20stopped',_0x5ae2fe[_0x566ec0(0x121)]='Error\x20occured\x20while\x20stopping\x20local\x20binary';const _0x4d1d87=_0x5ae2fe;if(this[_0x566ec0(0xe2)]&&this[_0x566ec0(0xe2)][_0x566ec0(0x197)]())try{await helper[_0x566ec0(0x10e)](this[_0x566ec0(0xe2)]),logger[_0x566ec0(0x128)](_0x4d1d87['mCKQQ']);}catch(_0x305d77){logger[_0x566ec0(0xc7)](_0x4d1d87[_0x566ec0(0x121)],_0x305d77['message']);}}async[a94_0x45d619(0x183)](){const _0x5f1e39=a94_0x45d619;return PerformanceTester[_0x5f1e39(0x1aa)](PerformanceAutEvents[_0x5f1e39(0x1bd)],async()=>{const _0x13cd89=_0x5f1e39;await hubAllocator[_0x13cd89(0x106)](this[_0x13cd89(0x17c)]);})();}async[a94_0x45d619(0x1cd)](){const _0x3be00b=a94_0x45d619,_0x15aa1f={'VpqEk':function(_0x4ef219,_0x3a9c4c){return _0x4ef219(_0x3a9c4c);},'prevy':_0x3be00b(0xe1),'zIKTD':function(_0x19c285,_0x5a74ac,_0x12473c,_0x50b78e,_0x4cc490,_0x969b61,_0x412cc6){return _0x19c285(_0x5a74ac,_0x12473c,_0x50b78e,_0x4cc490,_0x969b61,_0x412cc6);},'AilTX':_0x3be00b(0x191),'HOGzi':'BrowserstackHealingInitFailed','zVVbs':function(_0x3e854a,_0x285423){return _0x3e854a(_0x285423);},'INanh':_0x3be00b(0x130),'rGmXA':_0x3be00b(0x12a),'FYGPq':function(_0x195c17,_0x153eed){return _0x195c17===_0x153eed;},'LUwJj':_0x3be00b(0x18c),'JEELS':function(_0x451e98,_0x2fc70e){return _0x451e98===_0x2fc70e;},'GuIFt':function(_0x5526c3,_0x1a374e){return _0x5526c3===_0x1a374e;},'JwLlF':function(_0x4e4059,_0x40ce5c){return _0x4e4059===_0x40ce5c;},'Tesuc':function(_0x4eec75,_0xd87e93){return _0x4eec75===_0xd87e93;},'RzDhr':_0x3be00b(0x118),'jqRBG':_0x3be00b(0x11b),'bcCmG':_0x3be00b(0xd8),'DvwmT':function(_0x313146,_0x34bb0c){return _0x313146(_0x34bb0c);},'OYpoZ':_0x3be00b(0x176),'JOkqg':function(_0x427100,_0x2eea0c){return _0x427100>=_0x2eea0c;},'rYrtO':function(_0x566431,_0x67ef3c){return _0x566431<_0x67ef3c;},'UaHcm':'tcg\x20config\x20setup\x20successful.','prlYQ':_0x3be00b(0x187),'DpPFS':function(_0x58c497){return _0x58c497();}},_0x556102=PerformanceTester[_0x3be00b(0x1aa)](_0x15aa1f[_0x3be00b(0x171)],async()=>{const _0x48952f=_0x3be00b;try{const _0x39a368=new Date(),_0x3b6074=helper[_0x48952f(0x155)](this[_0x48952f(0x17c)]),_0x29454c=_0x15aa1f['VpqEk'](require,path[_0x48952f(0x1a4)](__dirname,_0x15aa1f[_0x48952f(0x102)])),_0x596eb9=_0x15aa1f[_0x48952f(0x122)](timeoutPromise,constants['TCG_AUTH_TIMEOUT'],_0x15aa1f['AilTX'],_0x15aa1f[_0x48952f(0x134)],_0x39a368,this['config'],this[_0x48952f(0x1ac)]),_0x3e34d9={'tcgUrl':constants[_0x48952f(0x12f)],'sdkVersion':_0x15aa1f[_0x48952f(0x180)](require,_0x15aa1f['INanh'])[_0x48952f(0x142)],'methodUsed':_0x15aa1f[_0x48952f(0x152)],'proxyConfig':_0x3b6074,'os':os[_0x48952f(0x149)]()};if(_0x3b6074&&_0x3b6074[_0x48952f(0x148)]){utilities[_0x48952f(0x1c0)](constants['AI_PROXY_FAILURE'],_0x3e34d9,this['config'],this[_0x48952f(0x1ac)]);return;}const _0x15d65f={};_0x15d65f['proxy']=_0x3b6074;const _0x2eed6b=await Promise[_0x48952f(0xeb)]([_0x29454c[_0x48952f(0xfd)](this[_0x48952f(0x17c)][_0x48952f(0x175)],this['config'][_0x48952f(0x167)],constants[_0x48952f(0x12f)],_0x15aa1f[_0x48952f(0x180)](require,_0x15aa1f['INanh'])[_0x48952f(0x142)],_0x15d65f)['then'](_0x2b4a11=>{return _0x596eb9['cancel'](),_0x2b4a11;}),_0x596eb9]);_0x2eed6b['isHealingEnabled']=_0x15aa1f['FYGPq'](_0x2eed6b[_0x48952f(0x1a3)],_0x15aa1f[_0x48952f(0xca)])||_0x15aa1f['JEELS'](_0x2eed6b[_0x48952f(0x1a3)],!![]);const _0xf0b753=_0x15aa1f['GuIFt'](this[_0x48952f(0x17c)][_0x48952f(0x160)],!![])||_0x15aa1f[_0x48952f(0x100)](this[_0x48952f(0x17c)][_0x48952f(0x160)],_0x15aa1f['LUwJj']);if(_0x15aa1f['Tesuc'](_0x2eed6b['message'],constants[_0x48952f(0xec)])&&_0xf0b753)logger[_0x48952f(0x128)](_0x15aa1f['RzDhr']);else{if(!_0x2eed6b[_0x48952f(0x1a1)]&&_0x15aa1f['Tesuc'](_0x2eed6b[_0x48952f(0x143)],0x1f7)&&_0xf0b753)logger[_0x48952f(0x128)](_0x15aa1f['jqRBG']),utilities[_0x48952f(0x1c0)](constants[_0x48952f(0xe9)],_0x3e34d9,this[_0x48952f(0x17c)],this[_0x48952f(0x1ac)]);else{if(!_0x2eed6b['isAuthenticated']&&_0xf0b753){logger[_0x48952f(0x128)](_0x15aa1f['bcCmG']);const _0x1b22c0={'tcgUrl':constants[_0x48952f(0x12f)],'sdkVersion':_0x15aa1f[_0x48952f(0x13f)](require,_0x15aa1f[_0x48952f(0x13d)])[_0x48952f(0x142)],'methodUsed':_0x15aa1f[_0x48952f(0x152)],'proxyConfig':_0x3b6074,'os':os[_0x48952f(0x149)]()};utilities[_0x48952f(0x1c0)](constants[_0x48952f(0x119)],_0x1b22c0,this['config'],this[_0x48952f(0x1ac)]);}else{if(_0x2eed6b[_0x48952f(0x1a1)]&&!_0x2eed6b['isHealingEnabled']&&_0xf0b753)logger['info'](_0x15aa1f[_0x48952f(0x10b)]);else{if(_0x15aa1f[_0x48952f(0x110)](_0x2eed6b[_0x48952f(0x143)],0xc8)&&_0x15aa1f[_0x48952f(0x103)](_0x2eed6b[_0x48952f(0x143)],0x12c))utilities['fireFunnelTestEvent'](constants[_0x48952f(0xdf)],_0x3e34d9,this[_0x48952f(0x17c)],this[_0x48952f(0x1ac)]);else{if(_0x15aa1f[_0x48952f(0x110)](_0x2eed6b['status'],0x190))_0x3e34d9[_0x48952f(0x143)]=_0x2eed6b[_0x48952f(0x143)],utilities[_0x48952f(0x1c0)](constants['AI_INIT_FAILURE'],_0x3e34d9,this['config'],this[_0x48952f(0x1ac)]);else!_0x2eed6b[_0x48952f(0x143)]&&utilities[_0x48952f(0x1c0)](constants[_0x48952f(0x154)],_0x3e34d9,this[_0x48952f(0x17c)],this[_0x48952f(0x1ac)]);}}}}}if(_0x2eed6b[_0x48952f(0x1a1)]&&_0x2eed6b[_0x48952f(0x1a3)]){const _0x1c8d22={};_0x1c8d22[_0x48952f(0xf9)]=_0x2eed6b;const _0x265100=_0x1c8d22;_0x3b6074&&(_0x265100[_0x48952f(0x19d)]=_0x3b6074),_0x265100[_0x48952f(0x1ac)]=this[_0x48952f(0x1ac)],_0x265100[_0x48952f(0x123)]=this['config'],helper[_0x48952f(0x135)](_0x265100),logger[_0x48952f(0x1a9)](_0x15aa1f[_0x48952f(0x1cb)]);}}catch(_0x10bbe7){logger[_0x48952f(0x1a9)](_0x48952f(0x182)+(_0x10bbe7[_0x48952f(0xf5)]?_0x10bbe7[_0x48952f(0xf5)]:''));}});await _0x15aa1f[_0x3be00b(0x18b)](_0x556102);}['setupKeepAlive'](){const _0x50fc0e=a94_0x45d619,_0x5b5df1={'VdEzg':function(_0x21a5f4,_0x37c5f0){return _0x21a5f4(_0x37c5f0);},'IrCDc':_0x50fc0e(0x1ba)};_0x5b5df1[_0x50fc0e(0x14a)](require,_0x5b5df1[_0x50fc0e(0x132)])();}[a94_0x45d619(0xf4)](){const _0x3cf292=a94_0x45d619,_0x5c1249={};_0x5c1249[_0x3cf292(0x10f)]=_0x3cf292(0x107),_0x5c1249['UkbsA']=_0x3cf292(0x1ab),_0x5c1249[_0x3cf292(0x120)]=_0x3cf292(0xc9);const _0x1cafe9=_0x5c1249,_0x1f7539=_0x5a9013=>{const _0x412888=_0x3cf292,_0x273176=_0x1cafe9[_0x412888(0x10f)][_0x412888(0x1c5)]('|');let _0x157a4f=0x0;while(!![]){switch(_0x273176[_0x157a4f++]){case'0':this['unhandledErrors']['push'](util[_0x412888(0x1cc)]('%j',_0x5a9013));continue;case'1':PerformanceTester[_0x412888(0x1af)](_0x5a9013);continue;case'2':logger[_0x412888(0xc7)](_0x5a9013[_0x412888(0xf5)]);continue;case'3':ClientTroubleShootingService[_0x412888(0x17a)]();continue;case'4':logger[_0x412888(0x1a9)](util[_0x412888(0x1cc)](_0x5a9013));continue;}break;}};process['on'](_0x1cafe9[_0x3cf292(0x1a6)],_0x1f7539),process['on'](_0x1cafe9[_0x3cf292(0x120)],_0x1f7539);}async[a94_0x45d619(0x157)](_0x4a258a){const _0x4e3958=a94_0x45d619,_0x2a3081={};_0x2a3081['KmYJf']=_0x4e3958(0x18d),_0x2a3081[_0x4e3958(0x116)]=function(_0x3dadaa,_0x6e0708){return _0x3dadaa+_0x6e0708;},_0x2a3081[_0x4e3958(0x1be)]=_0x4e3958(0x1a7),_0x2a3081[_0x4e3958(0x184)]=function(_0x839cea,_0x437903){return _0x839cea+_0x437903;},_0x2a3081['SAygV']=_0x4e3958(0x1c2),_0x2a3081[_0x4e3958(0x19c)]=function(_0x2a6e0e,_0x3fced3){return _0x2a6e0e+_0x3fced3;};const _0x116b7a=_0x2a3081,_0xc4ef8f=_0x116b7a['KmYJf'][_0x4e3958(0x1c5)]('|');let _0x2d8c9a=0x0;while(!![]){switch(_0xc4ef8f[_0x2d8c9a++]){case'0':await ClientTroubleShootingService['reportProcessInterruptionSituation'](_0x4a258a);continue;case'1':logger[_0x4e3958(0x128)](_0x116b7a['TWefw'](_0x116b7a['DgoQm'],_0x4a258a));continue;case'2':this[_0x116b7a[_0x4e3958(0x184)](_0x116b7a[_0x4e3958(0x127)],_0x4a258a)]=!![];continue;case'3':await ClientTroubleShootingService[_0x4e3958(0x17a)]();continue;case'4':await TestHubHandler['stop'](_0x4a258a);continue;case'5':await BrowserstackCLI[_0x4e3958(0x1b7)]()[_0x4e3958(0xcb)]();continue;case'6':this[_0x4e3958(0x131)]=_0x4a258a;continue;case'7':if(this[_0x116b7a[_0x4e3958(0x19c)](_0x116b7a[_0x4e3958(0x127)],_0x4a258a)])return;continue;}break;}}[a94_0x45d619(0x12e)](){const _0x13e387=a94_0x45d619,_0x2da060={'WUtFg':function(_0x225828,_0x222b6b){return _0x225828===_0x222b6b;},'xjFTn':_0x13e387(0x19e),'blLia':function(_0x6958db,_0x53e6fc){return _0x6958db>_0x53e6fc;},'BDGTT':function(_0x4c0479,_0x2dfec8){return _0x4c0479>_0x2dfec8;},'nyShR':function(_0x3b8d4a,_0x5ec024){return _0x3b8d4a(_0x5ec024);},'VHBap':function(_0x32dde5){return _0x32dde5();},'znvkT':_0x13e387(0x1b9)};let _0x2821d9=0x0;return async()=>{const _0x1fbfc3=_0x13e387;_0x2821d9++;if(_0x2da060[_0x1fbfc3(0xf0)](_0x2821d9,0x1)){helper[_0x1fbfc3(0x186)](this[_0x1fbfc3(0x1ac)])&&await this[_0x1fbfc3(0x111)]();try{logger[_0x1fbfc3(0x1a9)](_0x2da060['xjFTn']),await TestHubHandler[_0x1fbfc3(0xcb)](_0x2821d9),await ClientTroubleShootingService['reportFinalDetectionState'](),await BrowserstackCLI['getInstance']()[_0x1fbfc3(0xcb)]('1');}catch(_0x48d27b){logger['debug'](_0x1fbfc3(0x190)+util[_0x1fbfc3(0x1cc)](_0x48d27b));}PerformanceTester[_0x1fbfc3(0xd2)](PerformanceEvents[_0x1fbfc3(0xd9)]);if(PerformanceTester[_0x1fbfc3(0xf6)]()){const {measures:_0x402d6c,errors:_0x5ead9f}=await PerformanceTester['finalize'](),_0x2d9962={};if(_0x402d6c&&_0x2da060[_0x1fbfc3(0x1ad)](_0x402d6c[_0x1fbfc3(0xfc)],0x0)||_0x5ead9f&&_0x2da060[_0x1fbfc3(0x17b)](_0x5ead9f[_0x1fbfc3(0xfc)],0x0)){const _0x474d10={};_0x474d10[_0x1fbfc3(0xff)]=_0x402d6c,_0x474d10['exceptions']=_0x5ead9f,Object[_0x1fbfc3(0xde)](_0x2d9962,_0x474d10);}try{const _0x4e50a2=await helper[_0x1fbfc3(0xf8)](_0x2d9962,this[_0x1fbfc3(0x17c)]);logger[_0x1fbfc3(0x1a9)](_0x1fbfc3(0x169)+_0x2da060[_0x1fbfc3(0x13c)](getEdsInstrumentationAPIUrl,'')+'\x20with\x20response\x20'+_0x4e50a2['statusCode']);}catch(_0x1eb097){logger[_0x1fbfc3(0x1a9)](_0x1fbfc3(0x1bb)+_0x2da060['nyShR'](getEdsInstrumentationAPIUrl,'')+_0x1fbfc3(0x16c)+util[_0x1fbfc3(0x1cc)](_0x1eb097));}try{fs[_0x1fbfc3(0x125)](path[_0x1fbfc3(0x1a4)](_0x2da060['VHBap'](getLogDir),_0x2da060['znvkT']),JSON[_0x1fbfc3(0x1c7)](_0x2d9962));}catch(_0x2c1960){logger[_0x1fbfc3(0x1a9)](_0x1fbfc3(0xd3)+_0x2c1960);}}}logger&&logger[_0x1fbfc3(0x1a0)](),fileLogger&&fileLogger[_0x1fbfc3(0x1a0)]();};}}exports[a94_0x45d619(0x147)]=BrowserStackSetup;