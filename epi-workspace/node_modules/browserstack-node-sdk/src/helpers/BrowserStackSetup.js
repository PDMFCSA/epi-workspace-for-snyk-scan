const a94_0x33c040=a94_0x2cb4;(function(_0x200835,_0x3a456e){const _0x43b452=a94_0x2cb4,_0x55febc=_0x200835();while(!![]){try{const _0x23d4db=parseInt(_0x43b452(0x173))/0x1*(parseInt(_0x43b452(0xc9))/0x2)+-parseInt(_0x43b452(0x12a))/0x3+parseInt(_0x43b452(0x9c))/0x4*(-parseInt(_0x43b452(0x123))/0x5)+-parseInt(_0x43b452(0xf9))/0x6*(-parseInt(_0x43b452(0xe5))/0x7)+-parseInt(_0x43b452(0x10a))/0x8*(-parseInt(_0x43b452(0xa1))/0x9)+parseInt(_0x43b452(0xcf))/0xa+-parseInt(_0x43b452(0x16a))/0xb;if(_0x23d4db===_0x3a456e)break;else _0x55febc['push'](_0x55febc['shift']());}catch(_0x106ddc){_0x55febc['push'](_0x55febc['shift']());}}}(a94_0x4e74,0x35a2d));const util=require(a94_0x33c040(0xf8)),os=require('os'),path=require(a94_0x33c040(0xd1)),{v4:uuidv4}=require('uuid'),fs=require('fs'),constants=require(a94_0x33c040(0x109)),logger=require(a94_0x33c040(0x110))[a94_0x33c040(0x131)],fileLogger=require(a94_0x33c040(0x110))[a94_0x33c040(0x108)],{getLogDir}=require('./logger'),helper=require(a94_0x33c040(0x170)),utilities=require(a94_0x33c040(0x17c)),percyHelper=require(a94_0x33c040(0x16f)),hubAllocator=require(a94_0x33c040(0xaa)),PerformanceTester=require('./performance/performance-tester'),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require(a94_0x33c040(0x175)),{setPercyFlag}=require(a94_0x33c040(0x19f)),TestHubHandler=require('./testhub/testhubHandler'),timeoutPromise=require(a94_0x33c040(0x114)),BrowserstackCLI=require(a94_0x33c040(0x17b)),LoadTestModule=require(a94_0x33c040(0xcc)),{getEdsInstrumentationAPIUrl}=require(a94_0x33c040(0x190)),ClientTroubleShootingService=require(a94_0x33c040(0x11e));function a94_0x2cb4(_0x5b3a96,_0x5097ba){const _0x4e7447=a94_0x4e74();return a94_0x2cb4=function(_0x2cb402,_0x55c39c){_0x2cb402=_0x2cb402-0x97;let _0x1c6402=_0x4e7447[_0x2cb402];return _0x1c6402;},a94_0x2cb4(_0x5b3a96,_0x5097ba);}class BrowserStackSetup{constructor(_0x28875f,_0x3e9b15){const _0x585266=a94_0x33c040,_0x59a0ad={'RiGyC':_0x585266(0x19d),'VbhuH':function(_0x4fe5b3){return _0x4fe5b3();},'zLbdS':_0x585266(0x159)},_0x59bebe=_0x59a0ad[_0x585266(0xa7)]['split']('|');let _0x4be993=0x0;while(!![]){switch(_0x59bebe[_0x4be993++]){case'0':this['sdkRunId']=_0x59a0ad[_0x585266(0x140)](uuidv4);continue;case'1':helper[_0x585266(0xee)](this[_0x585266(0x13c)],this[_0x585266(0x1a0)],this[_0x585266(0x153)]);continue;case'2':helper['setCredentialsFromYmlConfig'](this['config']);continue;case'3':this[_0x585266(0xa3)]={};continue;case'4':helper[_0x585266(0xf0)]();continue;case'5':if(this[_0x585266(0x13c)]['error'])throw new Error(this[_0x585266(0x13c)]['error']);continue;case'6':if(helper['isUndefined'](this[_0x585266(0x13c)]))throw new Error(_0x59a0ad[_0x585266(0x100)]);continue;case'7':this['unhandledErrors']=[];continue;case'8':this[_0x585266(0xf1)]=helper[_0x585266(0xf7)](_0x28875f);continue;case'9':this[_0x585266(0x137)]=_0x3e9b15;continue;case'10':this[_0x585266(0x13c)][_0x585266(0x17f)][_0x585266(0x1a5)]=!helper['isBrowserstackInfra']()||helper[_0x585266(0xb6)](this[_0x585266(0x13c)][_0x585266(0x17f)][_0x585266(0x1a5)]);continue;case'11':this['browserstackLocal']=null;continue;case'12':this[_0x585266(0x153)]=helper[_0x585266(0x120)]();continue;case'13':this[_0x585266(0x13c)]['testContextOptions']=this[_0x585266(0x13c)][_0x585266(0x17f)]||{};continue;case'14':this[_0x585266(0x1a0)]=helper['setCLICaps'](_0x28875f);continue;case'15':helper[_0x585266(0x17d)](this[_0x585266(0x13c)]);continue;case'16':this[_0x585266(0x13c)]['testContextOptions'][_0x585266(0x13d)]=!helper[_0x585266(0x155)]()||helper['isTrue'](this[_0x585266(0x13c)][_0x585266(0x17f)][_0x585266(0x13d)]);continue;case'17':this[_0x585266(0x13c)][_0x585266(0xb4)]=this['config']['platforms']||[];continue;case'18':this[_0x585266(0x13c)]=helper[_0x585266(0x176)](this[_0x585266(0xf1)]);continue;case'19':global[_0x585266(0x137)]=_0x3e9b15;continue;case'20':this['percy']=null;continue;case'21':helper[_0x585266(0xef)](this[_0x585266(0x13c)],this[_0x585266(0x1a0)]);continue;case'22':PerformanceTester[_0x585266(0x15f)]();continue;case'23':helper[_0x585266(0xe2)](this[_0x585266(0x13c)],this['cliConfig'],this[_0x585266(0x153)]);continue;}break;}}['preInitialize'](_0x2c27a5){const _0x56c604=a94_0x33c040,_0xa4c7bf={'cSxif':_0x56c604(0xe0),'tFWWQ':function(_0x42463a,_0x558bb3){return _0x42463a===_0x558bb3;},'BsmBO':function(_0x507991,_0x51055b){return _0x507991===_0x51055b;},'cGrre':_0x56c604(0x13f),'pgoIS':'SDKTestAttempted','BoCNl':function(_0x584330,_0x3abf80){return _0x584330<_0x3abf80;},'amXVJ':function(_0x200da0,_0x5ce239){return _0x200da0(_0x5ce239);},'JdlUi':_0x56c604(0x184),'KCSGD':function(_0x486f7a,_0x2a889c){return _0x486f7a===_0x2a889c;},'gsnfA':_0x56c604(0xd4),'WvYaa':_0x56c604(0xa5),'ldjkT':_0x56c604(0x16c),'sngLb':_0x56c604(0x122),'HldaW':_0x56c604(0x128),'Nncda':_0x56c604(0x187),'MTUFB':function(_0x5e08c7,_0x40eaf7){return _0x5e08c7!==_0x40eaf7;},'qHAWR':_0x56c604(0x118),'zqgOb':_0x56c604(0x9e),'zjwtU':_0x56c604(0x116),'JWQls':_0x56c604(0xba),'FEoRn':_0x56c604(0xb2)},_0x59310a=this[_0x56c604(0x137)];global[_0x56c604(0x13c)]=this['config'],helper['sanitizeCaps'](this[_0x56c604(0x13c)]),this[_0x56c604(0xc5)]=null,global[_0x56c604(0x113)]=this[_0x56c604(0x113)],logger[_0x56c604(0x16d)](_0x56c604(0x19c)+this[_0x56c604(0x113)]),!this[_0x56c604(0x13c)][_0x56c604(0x158)]&&(this[_0x56c604(0x13c)]['browserStackLocalOptions']=this[_0x56c604(0x13c)][_0x56c604(0xc0)]||{});if(helper[_0x56c604(0x105)](helper['getUserName'](this['config']))||helper[_0x56c604(0x105)](helper['getAccessKey'](this[_0x56c604(0x13c)])))throw new Error(_0xa4c7bf['cSxif']);helper['getLocalConfig'](this['config'])&&helper['isUndefined'](helper[_0x56c604(0xc7)](this[_0x56c604(0x13c)]))&&(!helper[_0x56c604(0x105)](this[_0x56c604(0x13c)]['browserStackLocalOptions'])&&_0xa4c7bf[_0x56c604(0x9f)](this[_0x56c604(0x13c)]['browserStackLocalOptions'][_0x56c604(0x10b)],Object)?!helper[_0x56c604(0xb6)](this[_0x56c604(0x13c)][_0x56c604(0x158)][_0x56c604(0x189)])&&(this[_0x56c604(0x13c)]['browserStackLocalOptions'][_0x56c604(0xbe)]=helper[_0x56c604(0x197)]()):this[_0x56c604(0x13c)][_0x56c604(0x158)]={'localIdentifier':helper[_0x56c604(0x197)]()});this[_0x56c604(0x13c)][_0x56c604(0x158)][_0x56c604(0x189)]=helper['isTrue'](this[_0x56c604(0x13c)][_0x56c604(0x158)]['skipBinaryInitialisation']),helper[_0x56c604(0xd8)](this[_0x56c604(0x13c)]);if(_0xa4c7bf[_0x56c604(0x119)](_0x59310a,_0xa4c7bf['cGrre']))return;this['handleExceptions']();process[_0x56c604(0x156)][_0x56c604(0x13a)]&&(this[_0x56c604(0x13c)]['turboScale']=helper['isTrue'](process[_0x56c604(0x156)][_0x56c604(0x13a)]),this[_0x56c604(0x13c)][_0x56c604(0xcd)]=this[_0x56c604(0x13c)]['turboScaleOptions']||{});helper[_0x56c604(0xbc)](this[_0x56c604(0x13c)])&&(process[_0x56c604(0x156)]['BROWSERSTACK_TURBOSCALE']=!![]);LoadTestModule[_0x56c604(0x135)](this[_0x56c604(0x13c)])&&logger[_0x56c604(0xe4)]('LTS\x20session\x20enabled\x20for\x20this\x20run.\x20SDK\x20run\x20id:\x20'+this[_0x56c604(0x113)]);if(!helper['isBrowserstackInfra']()){try{process[_0x56c604(0x156)][_0x56c604(0x11b)]=_0x59310a,utilities[_0x56c604(0xbb)](_0xa4c7bf[_0x56c604(0x165)],{},this[_0x56c604(0x13c)],this[_0x56c604(0x137)]);}catch(_0x1bcd63){logger[_0x56c604(0xe4)](_0x56c604(0x149)+_0x1bcd63);}return;}if(helper[_0x56c604(0x152)](_0x59310a)){if(global[_0x56c604(0xe7)])return;_0xa4c7bf[_0x56c604(0x1a9)](_0xa4c7bf[_0x56c604(0x134)](parseInt,helper[_0x56c604(0x13b)](_0xa4c7bf[_0x56c604(0xfa)])),0x3)&&(this[_0x56c604(0x13c)][_0x56c604(0xe9)]=![]),_0xa4c7bf['KCSGD'](helper[_0x56c604(0x168)](helper[_0x56c604(0x13b)](_0xa4c7bf[_0x56c604(0xfa)]),_0xa4c7bf[_0x56c604(0x9a)]),0x1)&&(this[_0x56c604(0x13c)][_0x56c604(0xe9)]=!![]);}(helper[_0x56c604(0x105)](this['config']['platforms'])||helper[_0x56c604(0x105)](this[_0x56c604(0x13c)][_0x56c604(0xb4)][_0x56c604(0x177)]))&&(helper[_0x56c604(0x105)](this['config']['parallelsPerPlatform'])?logger[_0x56c604(0x16d)](_0xa4c7bf[_0x56c604(0x147)]):logger[_0x56c604(0x1aa)](_0xa4c7bf[_0x56c604(0xb7)]),this[_0x56c604(0x13c)]['platforms']=[]);!this[_0x56c604(0x13c)][_0x56c604(0x17f)]&&(this[_0x56c604(0x13c)][_0x56c604(0x17f)]={});try{process['env']['FRAMEWORK']=_0x2c27a5['_'][0x0],utilities[_0x56c604(0xbb)](_0xa4c7bf[_0x56c604(0x165)],{},this[_0x56c604(0x13c)],this[_0x56c604(0x137)]);}catch(_0x1cd977){logger[_0x56c604(0xe4)](_0x56c604(0x149)+_0x1cd977);}!this[_0x56c604(0x13c)][_0x56c604(0x132)]&&logger[_0x56c604(0x16d)](constants[_0x56c604(0xb1)]),this[_0x56c604(0x148)]=this['intExitHandler'][_0x56c604(0x10f)](this),process['on'](_0xa4c7bf[_0x56c604(0xec)],this[_0x56c604(0x148)]),process['on'](_0xa4c7bf[_0x56c604(0xea)],this['intExitHandler']),process['on'](_0xa4c7bf['Nncda'],this['intExitHandler']),_0xa4c7bf['MTUFB'](process[_0x56c604(0x145)],_0xa4c7bf['qHAWR'])?(process['on'](_0xa4c7bf[_0x56c604(0xb9)],this[_0x56c604(0x148)]),process['on'](_0xa4c7bf['zjwtU'],this['intExitHandler'])):process['on'](_0xa4c7bf[_0x56c604(0x12c)],this[_0x56c604(0x148)]),process['on'](_0xa4c7bf[_0x56c604(0x133)],this[_0x56c604(0xd2)]());}async['initialize'](_0x431848){const _0xfe5023=a94_0x33c040,_0x2d1e6b={'xMWde':_0xfe5023(0x18c),'waZqD':_0xfe5023(0xbf),'nquCD':_0xfe5023(0xb8),'qwkbA':function(_0x3e688e,_0x3b579a){return _0x3e688e===_0x3b579a;},'NDgNE':_0xfe5023(0x180),'hBhhs':function(_0x2077a4,_0x26b8b2){return _0x2077a4+_0x26b8b2;},'dtqWi':_0xfe5023(0xca),'NbZns':function(_0x2e958c,_0x58369e){return _0x2e958c(_0x58369e);},'XPDUA':'codeceptjs'};this['preInitialize'](_0x431848);if(helper[_0xfe5023(0xbc)](this[_0xfe5023(0x13c)])){const _0x2e21f4=await helper[_0xfe5023(0x9b)](this[_0xfe5023(0x13c)]);this[_0xfe5023(0x13c)][_0xfe5023(0x199)]=_0x2e21f4,_0x2e21f4[_0xfe5023(0x1ab)]&&helper[_0xfe5023(0xd0)](this[_0xfe5023(0x13c)][_0xfe5023(0x164)])&&helper[_0xfe5023(0xb6)](this[_0xfe5023(0x13c)][_0xfe5023(0x164)])&&(this[_0xfe5023(0x13c)][_0xfe5023(0x158)][_0xfe5023(0xbe)]=_0x2d1e6b[_0xfe5023(0xd5)],this['config'][_0xfe5023(0x158)][_0x2d1e6b[_0xfe5023(0x10e)]]=_0x2e21f4[_0xfe5023(0x151)][_0xfe5023(0x1a7)](','),this[_0xfe5023(0x13c)][_0xfe5023(0x158)][_0xfe5023(0xac)]=_0x2d1e6b[_0xfe5023(0x112)]),this['config'][_0xfe5023(0x126)]=_0x2e21f4[_0xfe5023(0x103)],this['framework']&&_0x2d1e6b[_0xfe5023(0xd3)](this[_0xfe5023(0x137)]['toLowerCase'](),_0x2d1e6b[_0xfe5023(0x154)])?this['config']['turboScaleUrl']=_0x2d1e6b[_0xfe5023(0x117)](_0x2e21f4['playwrightUrl'],_0x2d1e6b[_0xfe5023(0x14c)]):constants[_0xfe5023(0xae)]=helper[_0xfe5023(0x146)](this['config']),logger['debug'](_0xfe5023(0xf5)+constants[_0xfe5023(0xae)]);}helper[_0xfe5023(0x18e)](this[_0xfe5023(0x13c)]),this[_0xfe5023(0xa2)](),_0x2d1e6b[_0xfe5023(0x192)](setPercyFlag,this),await this[_0xfe5023(0xc2)](),![_0x2d1e6b['XPDUA'],_0x2d1e6b[_0xfe5023(0x154)]]['includes'](this[_0xfe5023(0x137)])&&!helper['isTurboScaleSession'](this[_0xfe5023(0x13c)])&&!helper[_0xfe5023(0x160)]()[_0xfe5023(0x130)]&&await this[_0xfe5023(0x107)]();}async[a94_0x33c040(0xc1)](){const _0x185d2f=a94_0x33c040,_0x560fdc={};_0x560fdc['qQZdz']=function(_0x471dc5,_0x388d86){return _0x471dc5===_0x388d86;},_0x560fdc[_0x185d2f(0x18b)]=_0x185d2f(0xa0),_0x560fdc[_0x185d2f(0xe8)]=_0x185d2f(0x1a8),_0x560fdc[_0x185d2f(0x15e)]=_0x185d2f(0xa4),_0x560fdc[_0x185d2f(0xd6)]='true',_0x560fdc['tzxSO']=_0x185d2f(0xb2);const _0x3ff4c3=_0x560fdc;if(helper[_0x185d2f(0xb6)](this[_0x185d2f(0x13c)][_0x185d2f(0x129)])&&(!this[_0x185d2f(0x129)]||!this[_0x185d2f(0x129)][_0x185d2f(0x139)]()))try{this[_0x185d2f(0x129)]=await percyHelper[_0x185d2f(0xe1)](this['config']);if(!this[_0x185d2f(0x129)]){process['env'][_0x185d2f(0x141)]=_0x3ff4c3[_0x185d2f(0x18b)];throw new Error(_0x3ff4c3[_0x185d2f(0xe8)]);}logger[_0x185d2f(0x16d)](_0x3ff4c3[_0x185d2f(0x15e)]),process[_0x185d2f(0x156)]['BROWSERSTACK_PERCY']=_0x3ff4c3['kFLVS'];let _0x5aacb6=0x0;const _0x1f45ba=async()=>{_0x5aacb6++,_0x3ff4c3['qQZdz'](_0x5aacb6,0x1)&&await this['stopPercy']();};process['on'](_0x3ff4c3[_0x185d2f(0x178)],_0x1f45ba);}catch(_0x533add){process['env'][_0x185d2f(0x141)]=_0x3ff4c3[_0x185d2f(0x18b)],logger[_0x185d2f(0xe4)]('Error\x20in\x20percy\x20setup\x20'+_0x533add);throw new Error(_0x533add['toString']());}}async[a94_0x33c040(0x12f)](){const _0x4b7dd3=a94_0x33c040,_0x597449={};_0x597449['RzUbx']=_0x4b7dd3(0x15a),_0x597449[_0x4b7dd3(0x104)]=_0x4b7dd3(0x10d);const _0x1f0850=_0x597449;if(this[_0x4b7dd3(0x129)]&&this[_0x4b7dd3(0x129)][_0x4b7dd3(0x139)]())try{await percyHelper[_0x4b7dd3(0x12f)](this['percy']),logger[_0x4b7dd3(0x16d)](_0x1f0850['RzUbx']);}catch(_0xd74a43){logger[_0x4b7dd3(0x16e)](_0x1f0850[_0x4b7dd3(0x104)],_0xd74a43[_0x4b7dd3(0x9d)]);}}async[a94_0x33c040(0xc2)](){const _0x2d8192=a94_0x33c040,_0x14fba4={};_0x14fba4[_0x2d8192(0x194)]='Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled',_0x14fba4[_0x2d8192(0x1a4)]=_0x2d8192(0x1a3);const _0x929444=_0x14fba4;if(helper['isBrowserstackInfra']()&&helper[_0x2d8192(0xb6)](this['config'][_0x2d8192(0x164)])&&(!this['browserstackLocal']||!this[_0x2d8192(0x164)][_0x2d8192(0x139)]()))try{if(this[_0x2d8192(0x13c)][_0x2d8192(0x158)][_0x2d8192(0x189)]){logger[_0x2d8192(0xe4)](_0x929444['GoZMt']);return;}this[_0x2d8192(0x164)]=await helper[_0x2d8192(0xe6)](this['config']),logger[_0x2d8192(0x16d)](_0x929444[_0x2d8192(0x1a4)]);}catch(_0x4c3a11){logger[_0x2d8192(0xe4)](_0x4c3a11);throw new Error(_0x4c3a11[_0x2d8192(0x11a)]());}}async['stopBrowserstackLocal'](){const _0x1c93ce=a94_0x33c040,_0x2b7635={};_0x2b7635[_0x1c93ce(0xfe)]=_0x1c93ce(0x167),_0x2b7635['IGToQ']=_0x1c93ce(0xc6);const _0x18ec06=_0x2b7635;if(this[_0x1c93ce(0x164)]&&this[_0x1c93ce(0x164)][_0x1c93ce(0x139)]())try{await helper[_0x1c93ce(0x14e)](this['browserstackLocal']),logger['info'](_0x18ec06[_0x1c93ce(0xfe)]);}catch(_0x3f9ef0){logger[_0x1c93ce(0x16e)](_0x18ec06['IGToQ'],_0x3f9ef0['message']);}}async[a94_0x33c040(0x107)](){return PerformanceTester['measureWrapper'](PerformanceAutEvents['HUB_MANAGEMENT'],async()=>{const _0x324d9c=a94_0x2cb4;await hubAllocator[_0x324d9c(0x136)](this[_0x324d9c(0x13c)]);})();}async[a94_0x33c040(0x111)](){const _0x1aa24f=a94_0x33c040,_0xda91f0={'odxUx':function(_0x5f1d6c,_0xd4386f){return _0x5f1d6c(_0xd4386f);},'arMZw':_0x1aa24f(0xf2),'FLYoH':function(_0x22c75b,_0x512744,_0x16f660,_0x13d0b9,_0x2c1023,_0x3adc7a,_0x1da9f1){return _0x22c75b(_0x512744,_0x16f660,_0x13d0b9,_0x2c1023,_0x3adc7a,_0x1da9f1);},'oecpd':_0x1aa24f(0xa8),'XOyGQ':_0x1aa24f(0x99),'zAVIh':function(_0x164387,_0x56fd9a){return _0x164387(_0x56fd9a);},'UFinC':'../../package.json','UnHgE':_0x1aa24f(0x196),'VaHXo':function(_0x1f6ddc,_0x52af0d){return _0x1f6ddc(_0x52af0d);},'kgVjQ':function(_0x4776af,_0x58d0db){return _0x4776af===_0x58d0db;},'TLfVI':_0x1aa24f(0xb8),'AtLoO':function(_0x35b2dd,_0x30dac1){return _0x35b2dd===_0x30dac1;},'Oidcg':function(_0x1d32d1,_0x26d806){return _0x1d32d1===_0x26d806;},'qLkYh':function(_0x3e0497,_0xb5e524){return _0x3e0497===_0xb5e524;},'UhhWA':_0x1aa24f(0x14b),'yqmVV':_0x1aa24f(0x13e),'jvaHw':_0x1aa24f(0x101),'MgZZq':_0x1aa24f(0x150),'qIWur':function(_0x32224d,_0x557941){return _0x32224d>=_0x557941;},'pOAMX':function(_0x16bea6,_0x530be9){return _0x16bea6<_0x530be9;},'GnOnX':function(_0x25db15,_0x448d9c){return _0x25db15>=_0x448d9c;},'ApKFx':_0x1aa24f(0x193),'lHTKm':_0x1aa24f(0x18d),'JBwuV':function(_0x128a01){return _0x128a01();}},_0x360f46=PerformanceTester[_0x1aa24f(0x171)](_0xda91f0[_0x1aa24f(0xb5)],async()=>{const _0x3897f9=_0x1aa24f;try{const _0x56e593=new Date(),_0x158b82=helper[_0x3897f9(0xde)](this[_0x3897f9(0x13c)]),_0x36974e=_0xda91f0[_0x3897f9(0x18a)](require,path[_0x3897f9(0x1a7)](__dirname,_0xda91f0['arMZw'])),_0x28ea61=_0xda91f0['FLYoH'](timeoutPromise,constants[_0x3897f9(0x11d)],_0xda91f0[_0x3897f9(0xcb)],_0xda91f0[_0x3897f9(0xdc)],_0x56e593,this[_0x3897f9(0x13c)],this['framework']),_0xf62b3e={'tcgUrl':constants['TCG_URL'],'sdkVersion':_0xda91f0['zAVIh'](require,_0xda91f0[_0x3897f9(0xf4)])[_0x3897f9(0x186)],'methodUsed':_0xda91f0[_0x3897f9(0x157)],'proxyConfig':_0x158b82,'os':os[_0x3897f9(0x145)]()};if(_0x158b82&&_0x158b82[_0x3897f9(0x179)]){utilities[_0x3897f9(0xbb)](constants[_0x3897f9(0x102)],_0xf62b3e,this['config'],this['framework']);return;}const _0x24a491={};_0x24a491[_0x3897f9(0xed)]=_0x158b82;const _0x4d9342=await Promise[_0x3897f9(0xeb)]([_0x36974e[_0x3897f9(0x115)](this['config'][_0x3897f9(0x198)],this['config'][_0x3897f9(0x98)],constants['TCG_URL'],_0xda91f0['VaHXo'](require,_0xda91f0[_0x3897f9(0xf4)])['version'],_0x24a491)[_0x3897f9(0x97)](_0x5e1439=>{return _0x28ea61['cancel'](),_0x5e1439;}),_0x28ea61]);_0x4d9342[_0x3897f9(0xab)]=_0xda91f0[_0x3897f9(0x142)](_0x4d9342[_0x3897f9(0xab)],_0xda91f0[_0x3897f9(0xdd)])||_0xda91f0[_0x3897f9(0x142)](_0x4d9342[_0x3897f9(0xab)],!![]);const _0x3078e8=_0xda91f0[_0x3897f9(0x183)](this[_0x3897f9(0x13c)][_0x3897f9(0x181)],!![])||_0xda91f0[_0x3897f9(0xce)](this[_0x3897f9(0x13c)][_0x3897f9(0x181)],_0xda91f0[_0x3897f9(0xdd)]);if(_0xda91f0[_0x3897f9(0xf3)](_0x4d9342['message'],constants[_0x3897f9(0xa9)])&&_0x3078e8)logger[_0x3897f9(0x16d)](_0xda91f0[_0x3897f9(0xdb)]);else{if(!_0x4d9342[_0x3897f9(0xc4)]&&_0xda91f0[_0x3897f9(0xf3)](_0x4d9342[_0x3897f9(0x174)],0x1f7)&&_0x3078e8)logger[_0x3897f9(0x16d)](_0xda91f0['yqmVV']),utilities[_0x3897f9(0xbb)](constants[_0x3897f9(0x195)],_0xf62b3e,this[_0x3897f9(0x13c)],this[_0x3897f9(0x137)]);else{if(!_0x4d9342[_0x3897f9(0xc4)]&&_0x3078e8){logger[_0x3897f9(0x16d)](_0xda91f0[_0x3897f9(0x143)]);const _0x2f9169={'tcgUrl':constants[_0x3897f9(0x14d)],'sdkVersion':_0xda91f0['VaHXo'](require,_0xda91f0['UFinC'])[_0x3897f9(0x186)],'methodUsed':_0xda91f0[_0x3897f9(0x157)],'proxyConfig':_0x158b82,'os':os[_0x3897f9(0x145)]()};utilities[_0x3897f9(0xbb)](constants[_0x3897f9(0x12d)],_0x2f9169,this[_0x3897f9(0x13c)],this['framework']);}else{if(_0x4d9342[_0x3897f9(0xc4)]&&!_0x4d9342[_0x3897f9(0xab)]&&_0x3078e8)logger[_0x3897f9(0x16d)](_0xda91f0[_0x3897f9(0x125)]);else{if(_0xda91f0[_0x3897f9(0x12b)](_0x4d9342[_0x3897f9(0x174)],0xc8)&&_0xda91f0['pOAMX'](_0x4d9342['status'],0x12c))utilities['fireFunnelTestEvent'](constants[_0x3897f9(0xd7)],_0xf62b3e,this[_0x3897f9(0x13c)],this['framework']);else{if(_0xda91f0[_0x3897f9(0x11c)](_0x4d9342[_0x3897f9(0x174)],0x190))_0xf62b3e[_0x3897f9(0x174)]=_0x4d9342['status'],utilities['fireFunnelTestEvent'](constants[_0x3897f9(0x14f)],_0xf62b3e,this[_0x3897f9(0x13c)],this[_0x3897f9(0x137)]);else!_0x4d9342[_0x3897f9(0x174)]&&utilities[_0x3897f9(0xbb)](constants[_0x3897f9(0x185)],_0xf62b3e,this['config'],this[_0x3897f9(0x137)]);}}}}}if(_0x4d9342[_0x3897f9(0xc4)]&&_0x4d9342['isHealingEnabled']){const _0x5ca0c={};_0x5ca0c[_0x3897f9(0x191)]=_0x4d9342;const _0x34a130=_0x5ca0c;_0x158b82&&(_0x34a130[_0x3897f9(0x166)]=_0x158b82),_0x34a130[_0x3897f9(0x137)]=this[_0x3897f9(0x137)],_0x34a130['bstackConfig']=this[_0x3897f9(0x13c)],helper[_0x3897f9(0x19e)](_0x34a130),logger[_0x3897f9(0xe4)](_0xda91f0['ApKFx']);}}catch(_0xc2ff2e){logger[_0x3897f9(0xe4)](_0x3897f9(0xbd)+(_0xc2ff2e[_0x3897f9(0x9d)]?_0xc2ff2e['message']:''));}});await _0xda91f0[_0x1aa24f(0xfb)](_0x360f46);}[a94_0x33c040(0xa2)](){const _0x2ceec2=a94_0x33c040,_0xce1ff0={'sRKWy':function(_0x4acf47,_0x3a3509){return _0x4acf47(_0x3a3509);},'XIpyQ':'./setKeepAlive'};_0xce1ff0['sRKWy'](require,_0xce1ff0[_0x2ceec2(0xfd)])();}[a94_0x33c040(0x138)](){const _0x2a9593=a94_0x33c040,_0x3520e3={};_0x3520e3[_0x2a9593(0x1a1)]='3|0|1|4|2',_0x3520e3[_0x2a9593(0x18f)]='unhandledRejection',_0x3520e3[_0x2a9593(0x121)]=_0x2a9593(0x19b);const _0x329b3e=_0x3520e3,_0x2ade5c=_0x13d9b3=>{const _0x4560d7=_0x2a9593,_0x469e0c=_0x329b3e[_0x4560d7(0x1a1)][_0x4560d7(0x15d)]('|');let _0x2ffe65=0x0;while(!![]){switch(_0x469e0c[_0x2ffe65++]){case'0':logger[_0x4560d7(0xe4)](util[_0x4560d7(0xad)](_0x13d9b3));continue;case'1':this[_0x4560d7(0x1a2)][_0x4560d7(0xf6)](util[_0x4560d7(0xad)]('%j',_0x13d9b3));continue;case'2':ClientTroubleShootingService[_0x4560d7(0x163)]();continue;case'3':logger['error'](_0x13d9b3['message']);continue;case'4':PerformanceTester[_0x4560d7(0xa6)](_0x13d9b3);continue;}break;}};process['on'](_0x329b3e[_0x2a9593(0x18f)],_0x2ade5c),process['on'](_0x329b3e['CIYHH'],_0x2ade5c);}async['intExitHandler'](_0x36aa3e){const _0x5abaab=a94_0x33c040,_0x28c567={};_0x28c567[_0x5abaab(0x17e)]=_0x5abaab(0x127),_0x28c567[_0x5abaab(0xaf)]=function(_0x5b11ef,_0x52ce9a){return _0x5b11ef+_0x52ce9a;},_0x28c567[_0x5abaab(0x172)]=_0x5abaab(0x12e),_0x28c567[_0x5abaab(0x15c)]=_0x5abaab(0xc3);const _0x47226b=_0x28c567,_0x5db40c=_0x47226b[_0x5abaab(0x17e)]['split']('|');let _0x33654b=0x0;while(!![]){switch(_0x5db40c[_0x33654b++]){case'0':await ClientTroubleShootingService['reportFinalDetectionState']();continue;case'1':await ClientTroubleShootingService[_0x5abaab(0xb3)](_0x36aa3e);continue;case'2':this[_0x47226b[_0x5abaab(0xaf)](_0x47226b[_0x5abaab(0x172)],_0x36aa3e)]=!![];continue;case'3':this[_0x5abaab(0xc5)]=_0x36aa3e;continue;case'4':await TestHubHandler[_0x5abaab(0xc8)](_0x36aa3e);continue;case'5':logger[_0x5abaab(0x16d)](_0x47226b[_0x5abaab(0xaf)](_0x47226b[_0x5abaab(0x15c)],_0x36aa3e));continue;case'6':if(this[_0x47226b[_0x5abaab(0xaf)](_0x47226b[_0x5abaab(0x172)],_0x36aa3e)])return;continue;case'7':await BrowserstackCLI[_0x5abaab(0xd9)]()['stop']();continue;}break;}}[a94_0x33c040(0xd2)](){const _0x596ab4=a94_0x33c040,_0x557582={'NXwoX':function(_0x200356,_0x49c179){return _0x200356===_0x49c179;},'ZuGHi':'Calling\x20Build\x20Stop\x20from\x20ExitHandler','MkXpO':function(_0xc5bb50,_0x5a7192){return _0xc5bb50>_0x5a7192;},'lIuoM':function(_0x366880,_0x3aecef){return _0x366880>_0x3aecef;},'PiFnq':function(_0x1dcfc1,_0x30fff9){return _0x1dcfc1(_0x30fff9);},'OTanz':function(_0x4dd275){return _0x4dd275();},'fSRan':_0x596ab4(0xff)};let _0x5c392a=0x0;return async()=>{const _0x5cfb26=_0x596ab4;_0x5c392a++;if(_0x557582[_0x5cfb26(0xb0)](_0x5c392a,0x1)){helper[_0x5cfb26(0x19a)](this[_0x5cfb26(0x137)])&&await this[_0x5cfb26(0x124)]();try{logger[_0x5cfb26(0xe4)](_0x557582['ZuGHi']),await TestHubHandler['stop'](_0x5c392a),await ClientTroubleShootingService['reportFinalDetectionState'](),await BrowserstackCLI['getInstance']()[_0x5cfb26(0xc8)]('1');}catch(_0x5e8266){logger['debug'](_0x5cfb26(0xda)+util[_0x5cfb26(0xad)](_0x5e8266));}PerformanceTester[_0x5cfb26(0x10c)](PerformanceEvents[_0x5cfb26(0x188)]);if(PerformanceTester['isEnabled']()){const {measures:_0x5c5a09,errors:_0x4f7a6d}=await PerformanceTester['finalize'](),_0x4190ee={};if(_0x5c5a09&&_0x557582[_0x5cfb26(0x1ac)](_0x5c5a09['length'],0x0)||_0x4f7a6d&&_0x557582[_0x5cfb26(0x1a6)](_0x4f7a6d['length'],0x0)){const _0x33aaba={};_0x33aaba[_0x5cfb26(0xe3)]=_0x5c5a09,_0x33aaba['exceptions']=_0x4f7a6d,Object[_0x5cfb26(0x14a)](_0x4190ee,_0x33aaba);}try{const _0x11593f=await helper[_0x5cfb26(0x17a)](_0x4190ee,this[_0x5cfb26(0x13c)]);logger[_0x5cfb26(0xe4)](_0x5cfb26(0x169)+_0x557582['PiFnq'](getEdsInstrumentationAPIUrl,'')+_0x5cfb26(0x161)+_0x11593f[_0x5cfb26(0x106)]);}catch(_0x297691){logger['debug'](_0x5cfb26(0x11f)+_0x557582[_0x5cfb26(0x162)](getEdsInstrumentationAPIUrl,'')+_0x5cfb26(0x182)+util['format'](_0x297691));}try{fs[_0x5cfb26(0xdf)](path['join'](_0x557582[_0x5cfb26(0xfc)](getLogDir),_0x557582[_0x5cfb26(0x144)]),JSON[_0x5cfb26(0x15b)](_0x4190ee));}catch(_0x28b578){logger[_0x5cfb26(0xe4)]('Error\x20in\x20writing\x20events\x20to\x20file\x20'+_0x28b578);}}}logger&&logger[_0x5cfb26(0x16b)](),fileLogger&&fileLogger[_0x5cfb26(0x16b)]();};}}exports['default']=BrowserStackSetup;function a94_0x4e74(){const _0x48adfc=['integrations','VbhuH','BROWSERSTACK_PERCY','kgVjQ','jvaHw','fSRan','platform','getHubUrl','WvYaa','intExitHandler','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','assign','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','dtqWi','TCG_URL','stopLocalBinary','AI_INIT_FAILURE','Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','customRepeaters','requireSeleniumWebdriverCheck','envConfig','NDgNE','isBrowserstackInfra','env','UnHgE','browserStackLocalOptions','No\x20config\x20provided.','Percy\x20stopped','stringify','mmMFo','split','GKjKV','startMonitoring','getCentralUser','\x20with\x20response\x20','PiFnq','reportFinalDetectionState','browserstackLocal','pgoIS','proxyConfig','Local\x20binary\x20stopped','compareVersions','Data\x20sent\x20successfully\x20to\x20','2842950pGlOOw','close','parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','info','error','./percy/utils','./helper','measureWrapper','ghiJO','32399uxKYLf','status','./performance/constants','readConfig','length','tzxSO','proxyUrl','sendToEDS','../bin/v2/browserstackCLI','./utilities','setLogDir','PYkGk','testContextOptions','playwright','selfHeal','\x20with\x20error\x20','AtLoO','selenium-webdriver','INVALID_INIT_RESP_WITH_USER_IMPACT','version','SIGHUP','SDK_CLEANUP','skipBinaryInitialisation','odxUx','fRfam','ats-repeater','aiHeal:tcgAuth','setProxySettings','znwRD','../bin/utils/apiUtilityMethods','tcgAuthConfig','NbZns','tcg\x20config\x20setup\x20successful.','GoZMt','TCG_DOWN','BrowserstackHealing.init','generateLocalIdentifier','accessKey','turboScaleGridDetails','checkStopLocalBinaryOnExit','uncaughtException','SDK\x20run\x20started\x20with\x20id:\x20','7|4|12|11|20|8|18|14|17|13|3|0|9|19|6|5|21|2|10|16|1|15|23|22','setupTcgConfigFile','./testhub/utils','cliConfig','VAnKY','unhandledErrors','Local\x20binary\x20started\x20successfully','wdZDo','skipSessionStatus','lIuoM','join','Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.','BoCNl','warn','isTrialGrid','MkXpO','then','userName','BrowserstackHealingInitFailed','gsnfA','getTurboScaleGridDetails','416XaIJeu','message','SIGABRT','tFWWQ','false','232731fegQpT','setupKeepAlive','errorMessage','Percy\x20started\x20successfully','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','captureError','RiGyC','BrowserstackHealing.init\x20method\x20timed\x20out','UPGRADE_REQUIRED','../hubAllocationMethods','isHealingEnabled','forceLocal','format','hubUrl','pTIww','NXwoX','AUTOLOGCAPTURE_NOTIFICATION','beforeExit','reportProcessInterruptionSituation','platforms','lHTKm','isTrue','ldjkT','true','zqgOb','SIGBREAK','fireFunnelTestEvent','isTurboScaleSession','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','localIdentifier','custom-repeater','localOptions','setupPercy','setupBrowserstackLocal','Shutdown\x20triggered\x20by\x20','isAuthenticated','killSignal','Error\x20occured\x20while\x20stopping\x20local\x20binary','getLocalIdentifier','stop','10WYrLXx','?caps=','oecpd','../bin/v2/modules/loadTestModule','turboScaleOptions','Oidcg','3953150FrywxW','isNotUndefined','path','exitHandler','qwkbA','4.5.0','xMWde','kFLVS','AI_INIT_SUCCESSFUL','setHandlePWError','getInstance','Error\x20in\x20sending\x20testhub\x20stop:\x20','UhhWA','XOyGQ','TLfVI','getProxyConfigForTcg','writeFileSync','userName\x20or\x20accessKey\x20is\x20not\x20defined','startPercy','setLogLevel','measures','debug','7yhdftU','startLocalBinary','__isPlaywrightInstalled','UexIh','useW3C','HldaW','race','sngLb','proxy','getFinalCaps','setBrowserstackInfraFromConfig','normalizeTestReportingEnvVars','configPath','../ai-sdk-node/bundle','qLkYh','UFinC','HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20','push','getConfigPath','util','970986bnnYqa','JdlUi','JBwuV','OTanz','XIpyQ','iQTFn','events.json','zLbdS','Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','AI_PROXY_FAILURE','url','KDjtb','isUndefined','statusCode','setUpHubUrl','fileLogger','../bin/utils/constants','24JiupaK','constructor','end','Error\x20occured\x20while\x20stopping\x20percy','waZqD','bind','./logger','setupTCGAuth','nquCD','sdkRunId','./timeoutPromise','init','SIGQUIT','hBhhs','win32','BsmBO','toString','FRAMEWORK','GnOnX','TCG_AUTH_TIMEOUT','../bin/utils/clientTroubleshootingService','Failed\x20to\x20send\x20data\x20to\x20','setEnvCaps','CIYHH','SIGTERM','10285XPSLVC','stopBrowserstackLocal','MgZZq','turboScaleUrl','6|2|5|3|1|4|0|7','SIGINT','percy','313941hJXxFO','qIWur','JWQls','TCG_AUTH_FAILURE','handled','stopPercy','central_scanner','winstonLogger','disableAutoCaptureLogs','FEoRn','amXVJ','isLTSSession','allocateHub','framework','handleExceptions','isRunning','BROWSERSTACK_TURBOSCALE','getPackageVersion','config','skipSessionName','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.'];a94_0x4e74=function(){return _0x48adfc;};return a94_0x4e74();}