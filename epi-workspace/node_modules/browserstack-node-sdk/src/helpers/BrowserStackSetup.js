const a55_0x1687c2=a55_0x37d6;(function(_0x10fcf7,_0x4e8312){const _0xd01404=a55_0x37d6,_0x40c2a4=_0x10fcf7();while(!![]){try{const _0xc8dc70=-parseInt(_0xd01404(0x116))/0x1*(parseInt(_0xd01404(0x112))/0x2)+parseInt(_0xd01404(0x1b5))/0x3+parseInt(_0xd01404(0x19e))/0x4*(parseInt(_0xd01404(0x19d))/0x5)+parseInt(_0xd01404(0x1bb))/0x6+parseInt(_0xd01404(0xea))/0x7*(parseInt(_0xd01404(0x181))/0x8)+-parseInt(_0xd01404(0x15a))/0x9*(-parseInt(_0xd01404(0x10f))/0xa)+-parseInt(_0xd01404(0x18f))/0xb;if(_0xc8dc70===_0x4e8312)break;else _0x40c2a4['push'](_0x40c2a4['shift']());}catch(_0x213ef6){_0x40c2a4['push'](_0x40c2a4['shift']());}}}(a55_0x2df4,0x7f360));function a55_0x2df4(){const _0x36dbb6=['events.json','YWNKr','fEOBq','setProxySettings','constructor','AI_PROXY_FAILURE','QGlUm','?caps=','Ulbqr','./ats/helper','statusCode','AI_INIT_FAILURE','EDS_URL','NjrPC','jdKLn','IBlCX','tcg\x20config\x20setup\x20successful.','getFinalCaps','9WRGJNg','isTrue','setHandlePWError','TCOWF','forceLocal','env','beforeExit','ncJOG','4|0|2|3|1','goXCM','OFRYn','exceptions','setBrowserstackInfraFromConfig','GdhJy','No\x20config\x20provided.','ObcyN','KLugB','SDK\x20run\x20started\x20with\x20id:\x20','info','4.5.0','errorMessage','isTrialGrid','rJxQn','WGbmh','assign','vzuPQ','browserStackLocalOptions','checkStopLocalBinaryOnExit','PnnFv','BROWSERSTACK_PERCY','setupTcgConfigFile','SDK_CLEANUP','sdkRunID','cliConfig','TCG_URL','fireFunnelTestEvent','isAuthenticated','getLocalConfig','oVJKz','88PwdftV','xTALq','VxpRh','percy','proxyUrl','selfHeal','includes','getAccessKey','CBaEl','TCG_AUTH_TIMEOUT','handled','setupBrowserstackLocal','QeFUr','message','18402780jllApS','eqLTo','rmMTB','format','oUuEm','BrowserstackHealing.init\x20method\x20timed\x20out','FRAMEWORK','turboScale','ORVGn','bstackConfig','AQmrl','isEnabled','TCG_DOWN','dEkdr','5WHwIKT','165480XpJHHL','custom-repeater','unhandledRejection','Error\x20in\x20writing\x20events\x20to\x20file\x20','join','customRepeaters','EfHhH','compareVersions','MnBBV','TCG_AUTH_FAILURE','./helper','JESed','SIGQUIT','setupKeepAlive','nuNLe','setUpHubUrl','push','hftJK','uuid','turboScaleGridDetails','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','proxyConfig','VECNB','1527216lyDRIj','userName','oUrOn','proxy','disableAutoCaptureLogs','nNrVJ','4379076GHDbNy','Syzej','Local\x20binary\x20started\x20successfully','setLogDir','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','FAlAM','Wqauu','Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.','\x20with\x20error\x20','startMonitoring','selenium-webdriver','yfWmF','AUTOLOGCAPTURE_NOTIFICATION','Percy\x20stopped','Error\x20occured\x20while\x20stopping\x20local\x20binary','length','17|8|3|20|14|19|4|0|2|15|11|7|12|9|6|16|1|5|13|18|10','skipSessionStatus','kGIcd','raBpM','qYWGK','measures','UcMCC','url','yRUIu','getTurboScaleGridDetails','UPGRADE_REQUIRED','isUndefined','false','./performance/performance-tester','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','integrations','cancel','path','./testhub/utils','localIdentifier','util','accessKey','unhandledErrors','smwVX','Error\x20in\x20percy\x20setup\x20','stop','oxnyy','zceCO','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','PsRmy','CZZvx','stringify','skipSessionName','../hubAllocationMethods','handleExceptions','initialize','envConfig','getUserName','version','DhJwa','SIGHUP','debug','getPackageVersion','225379QsLmhv','HUB_MANAGEMENT','Otcyz','exitHandler','Shutdown\x20triggered\x20by\x20','SIGINT','localOptions','generateLocalIdentifier','hubUrl','UeDiC','VomJM','turboScaleOptions','SIGTERM','setupTCGAuth','skipBinaryInitialisation','userName\x20or\x20accessKey\x20is\x20not\x20defined','Percy\x20started\x20successfully','rCOWh','muKeY','OXFmU','default','isBrowserstackInfra','sanitizeCaps','SIGABRT','UEbvL','toString','Local\x20binary\x20stopped','./utilities','toLowerCase','then','playwrightUrl','race','central_scanner','config','Error\x20occured\x20while\x20stopping\x20percy','turboScaleUrl','tZMkG','6329090iqYtEa','setLogLevel','measureWrapper','73328eZpwRV','yLqoM','init','AI_INIT_SUCCESSFUL','2hEoGyB','status','isHealingEnabled','pTfRg','intExitHandler','setCLICaps','./setKeepAlive','framework','mvscG','qFBCj','YuXYT','lozmq','writeFileSync','TuWvs','true','browserstackLocal','BrowserstackHealingInitFailed','testContextOptions','parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','useW3C','getLocalIdentifier','readConfig','allocateHub','getProxyConfigForTcg','./testhub/testhubHandler','uncaughtException','Error\x20in\x20sending\x20testhub\x20stop:\x20','BROWSERSTACK_TURBOSCALE','parallelsPerPlatform','Gpear','playwright','win32','stopPercy','requireSeleniumWebdriverCheck','preInitialize','finalize','end','./logger','platforms','../ai-sdk-node/bundle','getConfigPath','killSignal','platform','sendToEDS','error','split','isRunning','winstonLogger','stopBrowserstackLocal','Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled'];a55_0x2df4=function(){return _0x36dbb6;};return a55_0x2df4();}function a55_0x37d6(_0x3fa3c9,_0x25da26){const _0x2df40f=a55_0x2df4();return a55_0x37d6=function(_0x37d6c3,_0x371e68){_0x37d6c3=_0x37d6c3-0xd4;let _0x5a9f86=_0x2df40f[_0x37d6c3];return _0x5a9f86;},a55_0x37d6(_0x3fa3c9,_0x25da26);}const util=require(a55_0x1687c2(0x1df)),os=require('os'),path=require(a55_0x1687c2(0x1dc)),{v4:uuidv4}=require(a55_0x1687c2(0x1b0)),fs=require('fs'),constants=require('../bin/utils/constants'),{isTurboScaleSession}=require(a55_0x1687c2(0x151)),logger=require(a55_0x1687c2(0x13b))[a55_0x1687c2(0x145)],{getLogDir}=require(a55_0x1687c2(0x13b)),helper=require(a55_0x1687c2(0x1a8)),utilities=require(a55_0x1687c2(0x105)),percyHelper=require('./percy/utils'),hubAllocator=require(a55_0x1687c2(0xe0)),PerformanceTester=require(a55_0x1687c2(0x1d8)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require('./performance/constants'),{setPercyFlag}=require(a55_0x1687c2(0x1dd)),TestHubHandler=require(a55_0x1687c2(0x12e)),timeoutPromise=require('./timeoutPromise');class BrowserStackSetup{constructor(_0x3d4452,_0x3c7ffe){const _0x3a5169=a55_0x1687c2,_0x2d37be={'CBaEl':_0x3a5169(0x1cb),'WGbmh':_0x3a5169(0x168),'ysycW':function(_0xedecad){return _0xedecad();}},_0x5bc497=_0x2d37be[_0x3a5169(0x189)][_0x3a5169(0x143)]('|');let _0x4da3af=0x0;while(!![]){switch(_0x5bc497[_0x4da3af++]){case'0':this['config'][_0x3a5169(0x127)]=this[_0x3a5169(0x10b)][_0x3a5169(0x127)]||{};continue;case'1':this[_0x3a5169(0x10b)]['testContextOptions']['skipSessionName']=!helper[_0x3a5169(0xff)]()||helper['isTrue'](this[_0x3a5169(0x10b)][_0x3a5169(0x127)][_0x3a5169(0xdf)]);continue;case'2':this[_0x3a5169(0x16e)]={};continue;case'3':this[_0x3a5169(0xe3)]=helper['setEnvCaps']();continue;case'4':this[_0x3a5169(0x10b)][_0x3a5169(0x13c)]=this[_0x3a5169(0x10b)][_0x3a5169(0x13c)]||[];continue;case'5':helper[_0x3a5169(0x159)](this['config'],this[_0x3a5169(0x17b)],this[_0x3a5169(0xe3)]);continue;case'6':helper[_0x3a5169(0x166)](this[_0x3a5169(0x10b)],this[_0x3a5169(0x17b)]);continue;case'7':global[_0x3a5169(0x11d)]=_0x3c7ffe;continue;case'8':this['cliConfig']=helper[_0x3a5169(0x11b)](_0x3d4452);continue;case'9':if(this[_0x3a5169(0x10b)]['error'])throw new Error(this[_0x3a5169(0x10b)]['error']);continue;case'10':PerformanceTester[_0x3a5169(0x1c4)]();continue;case'11':this[_0x3a5169(0x11d)]=_0x3c7ffe;continue;case'12':if(helper[_0x3a5169(0x1d6)](this[_0x3a5169(0x10b)]))throw new Error(_0x2d37be[_0x3a5169(0x171)]);continue;case'13':helper[_0x3a5169(0x1be)](this['config']);continue;case'14':this[_0x3a5169(0x184)]=null;continue;case'15':this[_0x3a5169(0x17a)]=_0x2d37be['ysycW'](uuidv4);continue;case'16':this[_0x3a5169(0x10b)][_0x3a5169(0x127)][_0x3a5169(0x1cc)]=!helper[_0x3a5169(0xff)]()||helper['isTrue'](this['config']['testContextOptions'][_0x3a5169(0x1cc)]);continue;case'17':this[_0x3a5169(0xd5)]=[];continue;case'18':helper[_0x3a5169(0x110)](this[_0x3a5169(0x10b)],this['cliConfig'],this[_0x3a5169(0xe3)]);continue;case'19':this['config']=helper[_0x3a5169(0x12b)](helper[_0x3a5169(0x13e)](_0x3d4452));continue;case'20':this[_0x3a5169(0x125)]=null;continue;}break;}}[a55_0x1687c2(0x138)](_0x55f992){const _0x4f3117=a55_0x1687c2,_0x51a290={'BTvoc':_0x4f3117(0xf9),'HjMcz':function(_0x3a2ad6,_0x25a00a){return _0x3a2ad6===_0x25a00a;},'Wqauu':_0x4f3117(0x1da),'PsRmy':'SDKTestAttempted','zceCO':function(_0x51c12a,_0x55ba4c){return _0x51c12a<_0x55ba4c;},'tZMkG':function(_0x314417,_0x3569a7){return _0x314417(_0x3569a7);},'nNrVJ':_0x4f3117(0x1c5),'hftJK':function(_0x404731,_0x1c426e){return _0x404731===_0x1c426e;},'UEbvL':_0x4f3117(0x16d),'YWNKr':_0x4f3117(0x1b2),'CZZvx':_0x4f3117(0x128),'Gpear':_0x4f3117(0xf6),'cPHvi':_0x4f3117(0xef),'EviCc':_0x4f3117(0xe7),'dEkdr':function(_0x3ed657,_0x26bd63){return _0x3ed657!==_0x26bd63;},'rCOWh':_0x4f3117(0x135),'eqLTo':_0x4f3117(0x101),'ncJOG':_0x4f3117(0x1aa),'muKeY':'SIGBREAK','QGlUm':_0x4f3117(0x160)},_0xd31696=this[_0x4f3117(0x11d)];global['config']=this[_0x4f3117(0x10b)],helper[_0x4f3117(0x100)](this['config']),this['killSignal']=null,global[_0x4f3117(0x17a)]=this[_0x4f3117(0x17a)],logger['info'](_0x4f3117(0x16b)+this[_0x4f3117(0x17a)]),!this[_0x4f3117(0x10b)][_0x4f3117(0x174)]&&(this['config'][_0x4f3117(0x174)]=this['config'][_0x4f3117(0xf0)]||{});if(helper[_0x4f3117(0x1d6)](helper[_0x4f3117(0xe4)](this['config']))||helper['isUndefined'](helper[_0x4f3117(0x188)](this['config'])))throw new Error(_0x51a290['BTvoc']);helper[_0x4f3117(0x17f)](this[_0x4f3117(0x10b)])&&helper['isUndefined'](helper[_0x4f3117(0x12a)](this[_0x4f3117(0x10b)]))&&(!helper['isUndefined'](this[_0x4f3117(0x10b)][_0x4f3117(0x174)])&&_0x51a290['HjMcz'](this[_0x4f3117(0x10b)]['browserStackLocalOptions'][_0x4f3117(0x14c)],Object)?!helper['isTrue'](this['config'][_0x4f3117(0x174)]['skipBinaryInitialisation'])&&(this[_0x4f3117(0x10b)][_0x4f3117(0x174)][_0x4f3117(0x1de)]=helper[_0x4f3117(0xf1)]()):this[_0x4f3117(0x10b)]['browserStackLocalOptions']={'localIdentifier':helper['generateLocalIdentifier']()});this[_0x4f3117(0x10b)][_0x4f3117(0x174)][_0x4f3117(0xf8)]=helper[_0x4f3117(0x15b)](this[_0x4f3117(0x10b)][_0x4f3117(0x174)][_0x4f3117(0xf8)]),helper[_0x4f3117(0x15c)](this[_0x4f3117(0x10b)]);if(_0x51a290['HjMcz'](_0xd31696,_0x51a290[_0x4f3117(0x1c1)]))return;this[_0x4f3117(0xe1)]();process[_0x4f3117(0x15f)][_0x4f3117(0x131)]&&(this[_0x4f3117(0x10b)][_0x4f3117(0x196)]=helper[_0x4f3117(0x15b)](process['env']['BROWSERSTACK_TURBOSCALE']),this[_0x4f3117(0x10b)][_0x4f3117(0xf5)]=this['config'][_0x4f3117(0xf5)]||{});if(!helper[_0x4f3117(0xff)]()){try{process['env'][_0x4f3117(0x195)]=_0xd31696,utilities[_0x4f3117(0x17d)](_0x51a290[_0x4f3117(0xdc)],{},this[_0x4f3117(0x10b)],this['framework']);}catch(_0x36a570){logger[_0x4f3117(0xe8)]('Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20'+_0x36a570);}return;}helper[_0x4f3117(0x137)](_0xd31696)&&(_0x51a290[_0x4f3117(0xda)](_0x51a290[_0x4f3117(0x10e)](parseInt,helper[_0x4f3117(0xe9)](_0x51a290[_0x4f3117(0x1ba)])),0x3)&&(this[_0x4f3117(0x10b)][_0x4f3117(0x129)]=![]),_0x51a290[_0x4f3117(0x1af)](helper[_0x4f3117(0x1a5)](helper['getPackageVersion'](_0x51a290['nNrVJ']),_0x51a290[_0x4f3117(0x102)]),0x1)&&(this[_0x4f3117(0x10b)][_0x4f3117(0x129)]=!![]));(helper[_0x4f3117(0x1d6)](this[_0x4f3117(0x10b)][_0x4f3117(0x13c)])||helper[_0x4f3117(0x1d6)](this['config']['platforms'][_0x4f3117(0x1ca)]))&&(helper[_0x4f3117(0x1d6)](this[_0x4f3117(0x10b)][_0x4f3117(0x132)])?logger[_0x4f3117(0x16c)](_0x51a290[_0x4f3117(0x149)]):logger['warn'](_0x51a290[_0x4f3117(0xdd)]),this['config']['platforms']=[]);!this['config'][_0x4f3117(0x127)]&&(this['config'][_0x4f3117(0x127)]={});try{process[_0x4f3117(0x15f)][_0x4f3117(0x195)]=_0x55f992['_'][0x0],utilities['fireFunnelTestEvent'](_0x51a290[_0x4f3117(0xdc)],{},this[_0x4f3117(0x10b)],this[_0x4f3117(0x11d)]);}catch(_0x39d8e5){logger[_0x4f3117(0xe8)](_0x4f3117(0xdb)+_0x39d8e5);}!this['config'][_0x4f3117(0x1b9)]&&logger[_0x4f3117(0x16c)](constants[_0x4f3117(0x1c7)]),this[_0x4f3117(0x11a)]=this[_0x4f3117(0x11a)]['bind'](this),process['on'](_0x51a290[_0x4f3117(0x133)],this[_0x4f3117(0x11a)]),process['on'](_0x51a290['cPHvi'],this[_0x4f3117(0x11a)]),process['on'](_0x51a290['EviCc'],this[_0x4f3117(0x11a)]),_0x51a290[_0x4f3117(0x19c)](process[_0x4f3117(0x140)],_0x51a290[_0x4f3117(0xfb)])?(process['on'](_0x51a290[_0x4f3117(0x190)],this[_0x4f3117(0x11a)]),process['on'](_0x51a290[_0x4f3117(0x161)],this[_0x4f3117(0x11a)])):process['on'](_0x51a290[_0x4f3117(0xfc)],this['intExitHandler']),process['on'](_0x51a290[_0x4f3117(0x14e)],this[_0x4f3117(0xed)]());}async[a55_0x1687c2(0xe2)](_0x7345db){const _0x259a99=a55_0x1687c2,_0x67227f={'nuNLe':function(_0x8bb8bc,_0x2433e4){return _0x8bb8bc(_0x2433e4);},'MnBBV':'ats-repeater','VomJM':_0x259a99(0x19f),'jdKLn':'true','KLugB':function(_0x412fca,_0x22c5bb){return _0x412fca===_0x22c5bb;},'UeDiC':_0x259a99(0x134),'VxpRh':function(_0x589f32,_0x57ab63){return _0x589f32+_0x57ab63;},'Ulbqr':_0x259a99(0x14f),'Auvws':'codeceptjs'};this[_0x259a99(0x138)](_0x7345db);if(_0x67227f[_0x259a99(0x1ac)](isTurboScaleSession,this[_0x259a99(0x10b)])){const _0x3434fd=await helper[_0x259a99(0x1d4)](this[_0x259a99(0x10b)]);this[_0x259a99(0x10b)][_0x259a99(0x1b1)]=_0x3434fd,_0x3434fd[_0x259a99(0x16f)]&&(this[_0x259a99(0x10b)]['browserstackLocal']=!![],this[_0x259a99(0x10b)][_0x259a99(0x174)][_0x259a99(0x1de)]=_0x67227f[_0x259a99(0x1a6)],this[_0x259a99(0x10b)][_0x259a99(0x174)][_0x67227f[_0x259a99(0xf4)]]=_0x3434fd[_0x259a99(0x1a3)][_0x259a99(0x1a2)](','),this['config']['browserStackLocalOptions'][_0x259a99(0x15e)]=_0x67227f[_0x259a99(0x156)]),this['config'][_0x259a99(0x10d)]=_0x3434fd[_0x259a99(0x1d2)],this['framework']&&_0x67227f[_0x259a99(0x16a)](this[_0x259a99(0x11d)][_0x259a99(0x106)](),_0x67227f[_0x259a99(0xf3)])&&(this[_0x259a99(0x10b)]['turboScaleUrl']=_0x67227f[_0x259a99(0x183)](_0x3434fd[_0x259a99(0x108)],_0x67227f[_0x259a99(0x150)])),constants[_0x259a99(0xf2)]=helper['getHubUrl'](this['config']),logger[_0x259a99(0xe8)]('HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20'+constants['hubUrl']);}helper[_0x259a99(0x14b)](this[_0x259a99(0x10b)]),this[_0x259a99(0x1ab)](),_0x67227f[_0x259a99(0x1ac)](setPercyFlag,this),await this[_0x259a99(0x18c)](),![_0x67227f['Auvws']][_0x259a99(0x187)](this[_0x259a99(0x11d)])&&!_0x67227f['nuNLe'](isTurboScaleSession,this[_0x259a99(0x10b)])&&!helper['getCentralUser']()[_0x259a99(0x10a)]&&await this[_0x259a99(0x1ad)]();}async['setupPercy'](){const _0x520034=a55_0x1687c2,_0x420dc2={};_0x420dc2[_0x520034(0x121)]=function(_0x454c91,_0x52bac6){return _0x454c91===_0x52bac6;},_0x420dc2[_0x520034(0x1cd)]=_0x520034(0x1d7),_0x420dc2[_0x520034(0x1d3)]=_0x520034(0x1c2),_0x420dc2[_0x520034(0x182)]=_0x520034(0xfa),_0x420dc2[_0x520034(0x193)]='true',_0x420dc2[_0x520034(0x14a)]=_0x520034(0x160);const _0x1a0089=_0x420dc2;if(helper[_0x520034(0x15b)](this[_0x520034(0x10b)][_0x520034(0x184)])&&(!this['percy']||!this[_0x520034(0x184)][_0x520034(0x144)]()))try{this[_0x520034(0x184)]=await percyHelper['startPercy'](this['config']);if(!this[_0x520034(0x184)]){process['env'][_0x520034(0x177)]=_0x1a0089['kGIcd'];throw new Error(_0x1a0089['yRUIu']);}logger[_0x520034(0x16c)](_0x1a0089[_0x520034(0x182)]),process[_0x520034(0x15f)][_0x520034(0x177)]=_0x1a0089[_0x520034(0x193)];let _0x5f1657=0x0;const _0x485886=async()=>{const _0xddcfbe=_0x520034;_0x5f1657++,_0x1a0089['lozmq'](_0x5f1657,0x1)&&await this[_0xddcfbe(0x136)]();};process['on'](_0x1a0089[_0x520034(0x14a)],_0x485886);}catch(_0x14b914){process[_0x520034(0x15f)]['BROWSERSTACK_PERCY']=_0x1a0089[_0x520034(0x1cd)],logger[_0x520034(0xe8)](_0x520034(0xd7)+_0x14b914);throw new Error(_0x14b914[_0x520034(0x103)]());}}async[a55_0x1687c2(0x136)](){const _0x43ea01=a55_0x1687c2,_0x4db6cb={};_0x4db6cb[_0x43ea01(0x1ce)]=_0x43ea01(0x1c8),_0x4db6cb[_0x43ea01(0x199)]=_0x43ea01(0x10c);const _0x21fa3d=_0x4db6cb;if(this[_0x43ea01(0x184)]&&this[_0x43ea01(0x184)][_0x43ea01(0x144)]())try{await percyHelper[_0x43ea01(0x136)](this['percy']),logger[_0x43ea01(0x16c)](_0x21fa3d[_0x43ea01(0x1ce)]);}catch(_0xbbf0e9){logger[_0x43ea01(0x142)](_0x21fa3d[_0x43ea01(0x199)],_0xbbf0e9[_0x43ea01(0x18e)]);}}async[a55_0x1687c2(0x18c)](){const _0x3040ef=a55_0x1687c2,_0xad6aaa={};_0xad6aaa[_0x3040ef(0x197)]=_0x3040ef(0x147),_0xad6aaa[_0x3040ef(0x120)]=_0x3040ef(0x1bd);const _0xcbc278=_0xad6aaa;if(helper[_0x3040ef(0xff)]()&&helper['isTrue'](this[_0x3040ef(0x10b)][_0x3040ef(0x125)])&&(!this[_0x3040ef(0x125)]||!this[_0x3040ef(0x125)][_0x3040ef(0x144)]()))try{if(this[_0x3040ef(0x10b)][_0x3040ef(0x174)][_0x3040ef(0xf8)]){logger[_0x3040ef(0xe8)](_0xcbc278[_0x3040ef(0x197)]);return;}this[_0x3040ef(0x125)]=await helper['startLocalBinary'](this[_0x3040ef(0x10b)]),logger[_0x3040ef(0x16c)](_0xcbc278['YuXYT']);}catch(_0x54fe8e){logger[_0x3040ef(0xe8)](_0x54fe8e);throw new Error(_0x54fe8e[_0x3040ef(0x103)]());}}async[a55_0x1687c2(0x146)](){const _0x1f0029=a55_0x1687c2,_0x458ee5={};_0x458ee5['WssWq']=_0x1f0029(0x104),_0x458ee5[_0x1f0029(0x169)]=_0x1f0029(0x1c9);const _0x855800=_0x458ee5;if(this[_0x1f0029(0x125)]&&this[_0x1f0029(0x125)][_0x1f0029(0x144)]())try{await helper['stopLocalBinary'](this[_0x1f0029(0x125)]),logger[_0x1f0029(0x16c)](_0x855800['WssWq']);}catch(_0x3e6247){logger[_0x1f0029(0x142)](_0x855800[_0x1f0029(0x169)],_0x3e6247[_0x1f0029(0x18e)]);}}async[a55_0x1687c2(0x1ad)](){const _0x261cdf=a55_0x1687c2;return PerformanceTester[_0x261cdf(0x111)](PerformanceAutEvents[_0x261cdf(0xeb)],async()=>{const _0x329846=_0x261cdf;await hubAllocator[_0x329846(0x12c)](this[_0x329846(0x10b)]);})();}async[a55_0x1687c2(0xf7)](){const _0x3fa948=a55_0x1687c2,_0xae1e7e={'yLqoM':function(_0x56fd6a,_0x237934){return _0x56fd6a(_0x237934);},'GdhJy':_0x3fa948(0x13d),'TCOWF':function(_0x598b79,_0x3778ba,_0x125dc3,_0x31dc1a,_0x283cfd,_0x4cdc1f,_0x4d39bb){return _0x598b79(_0x3778ba,_0x125dc3,_0x31dc1a,_0x283cfd,_0x4cdc1f,_0x4d39bb);},'EfHhH':_0x3fa948(0x194),'mvscG':_0x3fa948(0x126),'JESed':function(_0x57b623,_0x1ab117){return _0x57b623(_0x1ab117);},'FAlAM':'../../package.json','oUrOn':'BrowserstackHealing.init','qYWGK':function(_0x126ec1,_0x378f57){return _0x126ec1(_0x378f57);},'Otcyz':function(_0x361164,_0x3fdeb6){return _0x361164===_0x3fdeb6;},'yfWmF':_0x3fa948(0x124),'MHhIm':function(_0x5c354c,_0xd6069e){return _0x5c354c===_0xd6069e;},'OXFmU':function(_0x328218,_0x3cf03f){return _0x328218===_0x3cf03f;},'TuWvs':function(_0x5cbd18,_0x5dcec0){return _0x5cbd18===_0x5dcec0;},'LWUbE':'Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','QeFUr':_0x3fa948(0x1bf),'qFBCj':'Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','PnnFv':'Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','DhJwa':function(_0x63bbdc,_0x298bc4){return _0x63bbdc>=_0x298bc4;},'rmMTB':function(_0xb16c12,_0x473213){return _0xb16c12<_0x473213;},'aGvsE':_0x3fa948(0x158),'oxnyy':'aiHeal:tcgAuth','GSEdi':function(_0x5920f3){return _0x5920f3();}},_0xa07234=PerformanceTester[_0x3fa948(0x111)](_0xae1e7e[_0x3fa948(0xd9)],async()=>{const _0x56a956=_0x3fa948;try{const _0x3908be=new Date(),_0xe1facd=helper[_0x56a956(0x12d)](this[_0x56a956(0x10b)]),_0x349fa7=_0xae1e7e[_0x56a956(0x113)](require,path[_0x56a956(0x1a2)](__dirname,_0xae1e7e[_0x56a956(0x167)])),_0x4579e7=_0xae1e7e[_0x56a956(0x15d)](timeoutPromise,constants[_0x56a956(0x18a)],_0xae1e7e[_0x56a956(0x1a4)],_0xae1e7e[_0x56a956(0x11e)],_0x3908be,this[_0x56a956(0x10b)],this[_0x56a956(0x11d)]),_0x3498b8={'tcgUrl':constants[_0x56a956(0x17c)],'sdkVersion':_0xae1e7e[_0x56a956(0x1a9)](require,_0xae1e7e['FAlAM'])[_0x56a956(0xe5)],'methodUsed':_0xae1e7e[_0x56a956(0x1b7)],'proxyConfig':_0xe1facd,'os':os[_0x56a956(0x140)]()};if(_0xe1facd&&_0xe1facd[_0x56a956(0x185)]){utilities[_0x56a956(0x17d)](constants[_0x56a956(0x14d)],_0x3498b8,this[_0x56a956(0x10b)],this['framework']);return;}const _0x4029a0={};_0x4029a0[_0x56a956(0x1b8)]=_0xe1facd;const _0x37089b=await Promise[_0x56a956(0x109)]([_0x349fa7[_0x56a956(0x114)](this[_0x56a956(0x10b)][_0x56a956(0xd4)],this['config'][_0x56a956(0x1b6)],constants['TCG_URL'],_0xae1e7e[_0x56a956(0x1cf)](require,_0xae1e7e[_0x56a956(0x1c0)])[_0x56a956(0xe5)],_0x4029a0)[_0x56a956(0x107)](_0x3d8650=>{const _0x48671e=_0x56a956;return _0x4579e7[_0x48671e(0x1db)](),_0x3d8650;}),_0x4579e7]);_0x37089b[_0x56a956(0x118)]=_0xae1e7e[_0x56a956(0xec)](_0x37089b['isHealingEnabled'],_0xae1e7e[_0x56a956(0x1c6)])||_0xae1e7e['MHhIm'](_0x37089b[_0x56a956(0x118)],!![]);const _0x2f0a37=_0xae1e7e[_0x56a956(0xfd)](this['config']['selfHeal'],!![])||_0xae1e7e[_0x56a956(0x123)](this[_0x56a956(0x10b)][_0x56a956(0x186)],_0xae1e7e[_0x56a956(0x1c6)]);if(_0xae1e7e[_0x56a956(0xfd)](_0x37089b[_0x56a956(0x18e)],constants[_0x56a956(0x1d5)])&&_0x2f0a37)logger['info'](_0xae1e7e['LWUbE']);else{if(!_0x37089b['isAuthenticated']&&_0xae1e7e['Otcyz'](_0x37089b[_0x56a956(0x117)],0x1f7)&&_0x2f0a37)logger[_0x56a956(0x16c)](_0xae1e7e[_0x56a956(0x18d)]),utilities[_0x56a956(0x17d)](constants[_0x56a956(0x19b)],_0x3498b8,this[_0x56a956(0x10b)],this['framework']);else{if(!_0x37089b[_0x56a956(0x17e)]&&_0x2f0a37){logger['info'](_0xae1e7e[_0x56a956(0x11f)]);const _0x46826a={'tcgUrl':constants['TCG_URL'],'sdkVersion':_0xae1e7e[_0x56a956(0x1cf)](require,_0xae1e7e[_0x56a956(0x1c0)])[_0x56a956(0xe5)],'methodUsed':_0xae1e7e[_0x56a956(0x1b7)],'proxyConfig':_0xe1facd,'os':os[_0x56a956(0x140)]()};utilities[_0x56a956(0x17d)](constants[_0x56a956(0x1a7)],_0x46826a,this['config'],this[_0x56a956(0x11d)]);}else{if(_0x37089b['isAuthenticated']&&!_0x37089b['isHealingEnabled']&&_0x2f0a37)logger[_0x56a956(0x16c)](_0xae1e7e[_0x56a956(0x176)]);else{if(_0xae1e7e[_0x56a956(0xe6)](_0x37089b[_0x56a956(0x117)],0xc8)&&_0xae1e7e[_0x56a956(0x191)](_0x37089b[_0x56a956(0x117)],0x12c))utilities[_0x56a956(0x17d)](constants[_0x56a956(0x115)],_0x3498b8,this[_0x56a956(0x10b)],this[_0x56a956(0x11d)]);else{if(_0xae1e7e[_0x56a956(0xe6)](_0x37089b[_0x56a956(0x117)],0x190))_0x3498b8['status']=_0x37089b[_0x56a956(0x117)],utilities['fireFunnelTestEvent'](constants[_0x56a956(0x153)],_0x3498b8,this[_0x56a956(0x10b)],this[_0x56a956(0x11d)]);else!_0x37089b[_0x56a956(0x117)]&&utilities['fireFunnelTestEvent'](constants['INVALID_INIT_RESP_WITH_USER_IMPACT'],_0x3498b8,this['config'],this[_0x56a956(0x11d)]);}}}}}if(_0x37089b[_0x56a956(0x17e)]&&_0x37089b['isHealingEnabled']){const _0x44d172={};_0x44d172['tcgAuthConfig']=_0x37089b;const _0x539cda=_0x44d172;_0xe1facd&&(_0x539cda[_0x56a956(0x1b3)]=_0xe1facd),_0x539cda['framework']=this[_0x56a956(0x11d)],_0x539cda[_0x56a956(0x198)]=this[_0x56a956(0x10b)],helper[_0x56a956(0x178)](_0x539cda),logger[_0x56a956(0xe8)](_0xae1e7e['aGvsE']);}}catch(_0x4b4308){logger[_0x56a956(0xe8)](_0x56a956(0x1d9)+(_0x4b4308[_0x56a956(0x18e)]?_0x4b4308[_0x56a956(0x18e)]:''));}});await _0xae1e7e['GSEdi'](_0xa07234);}[a55_0x1687c2(0x1ab)](){const _0x33f5e4=a55_0x1687c2,_0x3662a7={'OFRYn':function(_0x3d0d47,_0x1e102c){return _0x3d0d47(_0x1e102c);},'vzuPQ':_0x33f5e4(0x11c)};_0x3662a7[_0x33f5e4(0x164)](require,_0x3662a7[_0x33f5e4(0x173)])();}['handleExceptions'](){const _0x2a2812=a55_0x1687c2,_0x2e6627={};_0x2e6627[_0x2a2812(0x1bc)]=_0x2a2812(0x1a0),_0x2e6627[_0x2a2812(0x119)]=_0x2a2812(0x12f);const _0xf1405a=_0x2e6627,_0x56d35c=_0x1014c4=>{const _0x57c3a0=_0x2a2812;logger[_0x57c3a0(0x142)](_0x1014c4[_0x57c3a0(0x18e)]),logger[_0x57c3a0(0xe8)](util[_0x57c3a0(0x192)](_0x1014c4)),this[_0x57c3a0(0xd5)][_0x57c3a0(0x1ae)](util[_0x57c3a0(0x192)]('%j',_0x1014c4)),PerformanceTester['captureError'](_0x1014c4);};process['on'](_0xf1405a['Syzej'],_0x56d35c),process['on'](_0xf1405a[_0x2a2812(0x119)],_0x56d35c);}async[a55_0x1687c2(0x11a)](_0x53fa8f){const _0xe2cd59=a55_0x1687c2,_0x2146c3={};_0x2146c3[_0xe2cd59(0x170)]=_0xe2cd59(0x162),_0x2146c3['smwVX']=function(_0x6602b0,_0x31cdc2){return _0x6602b0+_0x31cdc2;},_0x2146c3[_0xe2cd59(0x1d1)]=_0xe2cd59(0x18b),_0x2146c3['oVJKz']=_0xe2cd59(0xee);const _0x46bd4a=_0x2146c3,_0x236e2b=_0x46bd4a[_0xe2cd59(0x170)][_0xe2cd59(0x143)]('|');let _0x3ef559=0x0;while(!![]){switch(_0x236e2b[_0x3ef559++]){case'0':this[_0x46bd4a[_0xe2cd59(0xd6)](_0x46bd4a[_0xe2cd59(0x1d1)],_0x53fa8f)]=!![];continue;case'1':await TestHubHandler[_0xe2cd59(0xd8)](_0x53fa8f);continue;case'2':logger['info'](_0x46bd4a['smwVX'](_0x46bd4a[_0xe2cd59(0x180)],_0x53fa8f));continue;case'3':this[_0xe2cd59(0x13f)]=_0x53fa8f;continue;case'4':if(this[_0x46bd4a[_0xe2cd59(0xd6)](_0x46bd4a[_0xe2cd59(0x1d1)],_0x53fa8f)])return;continue;}break;}}[a55_0x1687c2(0xed)](){const _0x3c818c=a55_0x1687c2,_0x284b45={'IBlCX':function(_0x1f7ebd,_0x5cc099){return _0x1f7ebd===_0x5cc099;},'VECNB':'Calling\x20Build\x20Stop\x20from\x20ExitHandler','NjrPC':function(_0x366982,_0x41e10c){return _0x366982>_0x41e10c;},'knhue':function(_0x5d0afb,_0x4b155f){return _0x5d0afb>_0x4b155f;},'goXCM':function(_0x21fa9f){return _0x21fa9f();},'tnhpf':_0x3c818c(0x148)};let _0x270c5f=0x0;return async()=>{const _0x32f4b8=_0x3c818c;_0x270c5f++;if(_0x284b45[_0x32f4b8(0x157)](_0x270c5f,0x1)){helper[_0x32f4b8(0x175)](this['framework'])&&await this[_0x32f4b8(0x146)]();try{logger[_0x32f4b8(0xe8)](_0x284b45[_0x32f4b8(0x1b4)]),await TestHubHandler[_0x32f4b8(0xd8)](_0x270c5f);}catch(_0x34530f){logger[_0x32f4b8(0xe8)](_0x32f4b8(0x130)+util['format'](_0x34530f));}PerformanceTester[_0x32f4b8(0x13a)](PerformanceEvents[_0x32f4b8(0x179)]);if(PerformanceTester[_0x32f4b8(0x19a)]()){const {measures:_0x1883fe,errors:_0x48745c}=await PerformanceTester[_0x32f4b8(0x139)](),_0x5f28d8={};if(_0x1883fe&&_0x284b45[_0x32f4b8(0x155)](_0x1883fe[_0x32f4b8(0x1ca)],0x0)||_0x48745c&&_0x284b45['knhue'](_0x48745c[_0x32f4b8(0x1ca)],0x0)){const _0x29705d={};_0x29705d[_0x32f4b8(0x1d0)]=_0x1883fe,_0x29705d[_0x32f4b8(0x165)]=_0x48745c,Object[_0x32f4b8(0x172)](_0x5f28d8,_0x29705d);}try{const _0x48a482=await helper[_0x32f4b8(0x141)](_0x5f28d8,this['config']);logger[_0x32f4b8(0xe8)]('Data\x20sent\x20successfully\x20to\x20'+constants[_0x32f4b8(0x154)]+'\x20with\x20response\x20'+_0x48a482[_0x32f4b8(0x152)]);}catch(_0x2b68a0){logger[_0x32f4b8(0xe8)]('Failed\x20to\x20send\x20data\x20to\x20'+constants[_0x32f4b8(0x154)]+_0x32f4b8(0x1c3)+util['format'](_0x2b68a0));}try{fs[_0x32f4b8(0x122)](path[_0x32f4b8(0x1a2)](_0x284b45[_0x32f4b8(0x163)](getLogDir),_0x284b45['tnhpf']),JSON[_0x32f4b8(0xde)](_0x5f28d8));}catch(_0x3507a3){logger['debug'](_0x32f4b8(0x1a1)+_0x3507a3);}}}};}}exports[a55_0x1687c2(0xfe)]=BrowserStackSetup;