const a83_0x509d31=a83_0x27e6;(function(_0x36e1ac,_0x525b47){const _0x14d011=a83_0x27e6,_0x15073b=_0x36e1ac();while(!![]){try{const _0x31c390=parseInt(_0x14d011(0x224))/0x1+parseInt(_0x14d011(0x20e))/0x2*(parseInt(_0x14d011(0x186))/0x3)+-parseInt(_0x14d011(0x194))/0x4+parseInt(_0x14d011(0x1ca))/0x5+-parseInt(_0x14d011(0x18f))/0x6+-parseInt(_0x14d011(0x1b8))/0x7*(parseInt(_0x14d011(0x1fe))/0x8)+parseInt(_0x14d011(0x18b))/0x9;if(_0x31c390===_0x525b47)break;else _0x15073b['push'](_0x15073b['shift']());}catch(_0x15083d){_0x15073b['push'](_0x15073b['shift']());}}}(a83_0x5a7d,0x4c33f));function a83_0x5a7d(){const _0x57ac56=['writeFileSync','sendToEDS','browserstackLocal','end','stopLocalBinary','286910cRpFCr','fntNA','turboScale','stop','stopPercy','push','./helper','TCG_DOWN','lBNLS','gCiNn','lWLEd','Tevmt','BROWSERSTACK_TURBOSCALE','Calling\x20Build\x20Stop\x20from\x20ExitHandler','userName','2|0|1|6|7|3|4|5','SIGTERM','getInstance','ykkOE','cKwUE','isTrialGrid','isRunning','BrowserstackHealing.init','setEnvCaps','generateLocalIdentifier','config','default','gVlQg','proxy','stopBrowserstackLocal','init','lzUjO','BrowserstackHealingInitFailed','vXnNB','LvMXx','fdHzK','SfBfj','EDS_URL','BiVJO','getUserName','./timeoutPromise','asACf','getCentralUser','unhandledErrors','sdkRunId','PniLd','debug','WwLHx','toString','EGEzW','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','mMvrR','104Jrdeim','customRepeaters','Error\x20in\x20sending\x20testhub\x20stop:\x20','uYhIx','true','BPGMa','HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20','setProxySettings','readConfig','userName\x20or\x20accessKey\x20is\x20not\x20defined','setCredentialsFromYmlConfig','LqZHd','proxyUrl','skZti','startLocalBinary','finalize','156672nqwyXq','initialize','isTrue','mqNQw','constructor','../hubAllocationMethods','skipSessionStatus','startPercy','turboScaleOptions','./performance/performance-tester','isEnabled','url','Error\x20occured\x20while\x20stopping\x20percy','Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','close','join','./setKeepAlive','StFAC','Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','oZQIP','allocateHub','PVPbc','536843tNuhWP','isAuthenticated','../ai-sdk-node/bundle','tcgAuthConfig','checkStopLocalBinaryOnExit','../bin/utils/constants','hubUrl','getFinalCaps','handleExceptions','browserStackLocalOptions','getAccessKey','central_scanner','vCHKG','selfHeal','AI_INIT_FAILURE','\x20with\x20error\x20','BfooJ','bind','split','beforeExit','AUTOLOGCAPTURE_NOTIFICATION','false','info','ECcSg','OlHBS','cliConfig','setupKeepAlive','pdfIA','ZmfSe','platform','util','testContextOptions','percy','Data\x20sent\x20successfully\x20to\x20','GPUEn','MGnFV','setupTCGAuth','SIGABRT','path','getPackageVersion','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','./testhub/testhubHandler','forceLocal','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','AI_PROXY_FAILURE','SDK\x20run\x20started\x20with\x20id:\x20','isTurboScaleSession','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','SDK_CLEANUP','iozzl','toLowerCase','exitHandler','turboScaleGridDetails','error','RKgHE','exceptions','ZFNjb','WZHQQ','requireSeleniumWebdriverCheck','playwright','WTRwO','useW3C','../bin/v2/browserstackCLI','events.json','killSignal','measures','startMonitoring','win32','isNotUndefined','tcg\x20config\x20setup\x20successful.','sXDXe','pjDvr','isBrowserstackInfra','qbAIT','FhApC','skipBinaryInitialisation','kGHmG','warn','winstonLogger','./logger','getLocalIdentifier','setupPercy','aiHeal:tcgAuth','UNqei','parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','format','Shutdown\x20triggered\x20by\x20','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','envConfig','Failed\x20to\x20send\x20data\x20to\x20','statusCode','dWOjf','getHubUrl','status','isHealingEnabled','skipSessionName','ITjCj','?caps=','gdNto','Percy\x20stopped','turboScaleUrl','18fomJHy','fileLogger','assign','setHandlePWError','rgxwf','3373128HBzUau','NxtCe','captureError','BROWSERSTACK_PERCY','2670294eYlROZ','message','uncaughtException','DMXlH','intExitHandler','1574172mCgBnf','dsUqQ','isUndefined','DtGhG','SIGBREAK','kISMc','preInitialize','version','HlpHh','./performance/constants','SDKTestAttempted','QmpAW','then','FWQIe','Error\x20in\x20percy\x20setup\x20','INVALID_INIT_RESP_WITH_USER_IMPACT','platforms','stringify','setupTcgConfigFile','Error\x20in\x20writing\x20events\x20to\x20file\x20','getLocalConfig','ItoYe','SIGINT','fireFunnelTestEvent','length','env','IpPDU','uAevT','setCLICaps','custom-repeater','localOptions','sUgSh','Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled','fbxCw','getTurboScaleGridDetails','whwCg','155246JUPXPo','SIGQUIT','parallelsPerPlatform','TCG_URL','codeceptjs','XWPAa','localIdentifier','./percy/utils','HKgck','setUpHubUrl','framework','Percy\x20started\x20successfully','playwrightUrl'];a83_0x5a7d=function(){return _0x57ac56;};return a83_0x5a7d();}const util=require(a83_0x509d31(0x242)),os=require('os'),path=require(a83_0x509d31(0x24a)),{v4:uuidv4}=require('uuid'),fs=require('fs'),constants=require(a83_0x509d31(0x229)),logger=require(a83_0x509d31(0x273))[a83_0x509d31(0x272)],fileLogger=require(a83_0x509d31(0x273))[a83_0x509d31(0x187)],{getLogDir}=require(a83_0x509d31(0x273)),helper=require(a83_0x509d31(0x1d0)),utilities=require('./utilities'),percyHelper=require(a83_0x509d31(0x1bf)),hubAllocator=require(a83_0x509d31(0x213)),PerformanceTester=require(a83_0x509d31(0x217)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require(a83_0x509d31(0x19d)),{setPercyFlag}=require('./testhub/utils'),TestHubHandler=require(a83_0x509d31(0x24d)),timeoutPromise=require(a83_0x509d31(0x1f2)),BrowserstackCLI=require(a83_0x509d31(0x262));class BrowserStackSetup{constructor(_0x4f7152,_0x117b99){const _0x2ae65f=a83_0x509d31,_0x14a33f={'eulXX':'18|8|9|21|19|3|2|7|5|16|6|14|0|20|13|17|12|15|4|1|10|11','SIvAe':'No\x20config\x20provided.','HdqaV':function(_0x33f4b9){return _0x33f4b9();}},_0x56f138=_0x14a33f['eulXX'][_0x2ae65f(0x236)]('|');let _0x4fb506=0x0;while(!![]){switch(_0x56f138[_0x4fb506++]){case'0':if(helper[_0x2ae65f(0x196)](this[_0x2ae65f(0x1e3)]))throw new Error(_0x14a33f['SIvAe']);continue;case'1':helper['setLogDir'](this[_0x2ae65f(0x1e3)]);continue;case'2':this[_0x2ae65f(0x1e3)][_0x2ae65f(0x1a4)]=this['config'][_0x2ae65f(0x1a4)]||[];continue;case'3':this[_0x2ae65f(0x23d)]=helper[_0x2ae65f(0x1b0)](_0x4f7152);continue;case'4':helper[_0x2ae65f(0x22b)](this[_0x2ae65f(0x1e3)],this[_0x2ae65f(0x23d)],this[_0x2ae65f(0x179)]);continue;case'5':this['errorMessage']={};continue;case'6':this[_0x2ae65f(0x1c2)]=_0x117b99;continue;case'7':this['config'][_0x2ae65f(0x243)]=this['config'][_0x2ae65f(0x243)]||{};continue;case'8':this['envConfig']=helper[_0x2ae65f(0x1e1)]();continue;case'9':this[_0x2ae65f(0x1c7)]=null;continue;case'10':helper['setLogLevel'](this[_0x2ae65f(0x1e3)],this['cliConfig'],this[_0x2ae65f(0x179)]);continue;case'11':PerformanceTester[_0x2ae65f(0x266)]();continue;case'12':this[_0x2ae65f(0x1e3)][_0x2ae65f(0x243)][_0x2ae65f(0x214)]=!helper[_0x2ae65f(0x26c)]()||helper[_0x2ae65f(0x210)](this[_0x2ae65f(0x1e3)][_0x2ae65f(0x243)][_0x2ae65f(0x214)]);continue;case'13':helper['setBrowserstackInfraFromConfig'](this[_0x2ae65f(0x1e3)],this['cliConfig']);continue;case'14':global['framework']=_0x117b99;continue;case'15':this[_0x2ae65f(0x1e3)]['testContextOptions'][_0x2ae65f(0x180)]=!helper[_0x2ae65f(0x26c)]()||helper[_0x2ae65f(0x210)](this['config'][_0x2ae65f(0x243)]['skipSessionName']);continue;case'16':this[_0x2ae65f(0x1f6)]=_0x14a33f['HdqaV'](uuidv4);continue;case'17':helper[_0x2ae65f(0x208)](this[_0x2ae65f(0x1e3)]);continue;case'18':this[_0x2ae65f(0x1f5)]=[];continue;case'19':this[_0x2ae65f(0x1e3)]=helper[_0x2ae65f(0x206)](helper['getConfigPath'](_0x4f7152));continue;case'20':if(this[_0x2ae65f(0x1e3)][_0x2ae65f(0x259)])throw new Error(this[_0x2ae65f(0x1e3)][_0x2ae65f(0x259)]);continue;case'21':this['percy']=null;continue;}break;}}[a83_0x509d31(0x19a)](_0x5d020e){const _0x2cf247=a83_0x509d31,_0x5ac7b3={'HlcLN':_0x2cf247(0x207),'ItoYe':function(_0x4df840,_0x5cdb0f){return _0x4df840===_0x5cdb0f;},'gVlQg':'integrations','ykkOE':_0x2cf247(0x19e),'BiVJO':function(_0x570aea,_0xfaccbe){return _0x570aea<_0xfaccbe;},'QmpAW':function(_0x34f33f,_0x3ab26b){return _0x34f33f(_0x3ab26b);},'MGnFV':'selenium-webdriver','lBNLS':function(_0x175424,_0x4e04c9){return _0x175424===_0x4e04c9;},'UNqei':'4.5.0','oZQIP':_0x2cf247(0x253),'lFhdA':_0x2cf247(0x175),'rhWyO':_0x2cf247(0x1da),'fbxCw':_0x2cf247(0x1aa),'HlpHh':'SIGHUP','StFAC':function(_0x1a0ae6,_0x211f41){return _0x1a0ae6!==_0x211f41;},'mqNQw':_0x2cf247(0x267),'FWQIe':_0x2cf247(0x249),'uAevT':_0x2cf247(0x1b9),'XWPAa':_0x2cf247(0x198),'kGHmG':_0x2cf247(0x237)},_0x866d82=this[_0x2cf247(0x1c2)];global[_0x2cf247(0x1e3)]=this['config'],helper['sanitizeCaps'](this[_0x2cf247(0x1e3)]),this['killSignal']=null,global[_0x2cf247(0x1f6)]=this[_0x2cf247(0x1f6)],logger['info'](_0x2cf247(0x251)+this[_0x2cf247(0x1f6)]),!this[_0x2cf247(0x1e3)]['browserStackLocalOptions']&&(this[_0x2cf247(0x1e3)][_0x2cf247(0x22d)]=this[_0x2cf247(0x1e3)][_0x2cf247(0x1b2)]||{});if(helper[_0x2cf247(0x196)](helper[_0x2cf247(0x1f1)](this['config']))||helper[_0x2cf247(0x196)](helper[_0x2cf247(0x22e)](this[_0x2cf247(0x1e3)])))throw new Error(_0x5ac7b3['HlcLN']);helper[_0x2cf247(0x1a8)](this[_0x2cf247(0x1e3)])&&helper[_0x2cf247(0x196)](helper[_0x2cf247(0x274)](this[_0x2cf247(0x1e3)]))&&(!helper[_0x2cf247(0x196)](this[_0x2cf247(0x1e3)][_0x2cf247(0x22d)])&&_0x5ac7b3[_0x2cf247(0x1a9)](this[_0x2cf247(0x1e3)][_0x2cf247(0x22d)][_0x2cf247(0x212)],Object)?!helper[_0x2cf247(0x210)](this[_0x2cf247(0x1e3)]['browserStackLocalOptions'][_0x2cf247(0x26f)])&&(this[_0x2cf247(0x1e3)][_0x2cf247(0x22d)]['localIdentifier']=helper[_0x2cf247(0x1e2)]()):this['config'][_0x2cf247(0x22d)]={'localIdentifier':helper[_0x2cf247(0x1e2)]()});this[_0x2cf247(0x1e3)][_0x2cf247(0x22d)][_0x2cf247(0x26f)]=helper['isTrue'](this['config']['browserStackLocalOptions']['skipBinaryInitialisation']),helper[_0x2cf247(0x189)](this[_0x2cf247(0x1e3)]);if(_0x5ac7b3[_0x2cf247(0x1a9)](_0x866d82,_0x5ac7b3[_0x2cf247(0x1e5)]))return;this[_0x2cf247(0x22c)]();process['env'][_0x2cf247(0x1d6)]&&(this[_0x2cf247(0x1e3)][_0x2cf247(0x1cc)]=helper[_0x2cf247(0x210)](process[_0x2cf247(0x1ad)]['BROWSERSTACK_TURBOSCALE']),this['config'][_0x2cf247(0x216)]=this[_0x2cf247(0x1e3)]['turboScaleOptions']||{});helper[_0x2cf247(0x252)](this[_0x2cf247(0x1e3)])&&(process[_0x2cf247(0x1ad)]['BROWSERSTACK_TURBOSCALE']=!![]);if(!helper[_0x2cf247(0x26c)]()){try{process['env']['FRAMEWORK']=_0x866d82,utilities[_0x2cf247(0x1ab)](_0x5ac7b3[_0x2cf247(0x1dc)],{},this[_0x2cf247(0x1e3)],this[_0x2cf247(0x1c2)]);}catch(_0x2d7260){logger[_0x2cf247(0x1f8)](_0x2cf247(0x178)+_0x2d7260);}return;}helper[_0x2cf247(0x25e)](_0x866d82)&&(_0x5ac7b3[_0x2cf247(0x1f0)](_0x5ac7b3[_0x2cf247(0x19f)](parseInt,helper[_0x2cf247(0x24b)](_0x5ac7b3['MGnFV'])),0x3)&&(this['config']['useW3C']=![]),_0x5ac7b3[_0x2cf247(0x1d2)](helper['compareVersions'](helper[_0x2cf247(0x24b)](_0x5ac7b3[_0x2cf247(0x247)]),_0x5ac7b3[_0x2cf247(0x174)]),0x1)&&(this[_0x2cf247(0x1e3)][_0x2cf247(0x261)]=!![]));(helper[_0x2cf247(0x196)](this[_0x2cf247(0x1e3)]['platforms'])||helper[_0x2cf247(0x196)](this[_0x2cf247(0x1e3)][_0x2cf247(0x1a4)][_0x2cf247(0x1ac)]))&&(helper['isUndefined'](this[_0x2cf247(0x1e3)][_0x2cf247(0x1ba)])?logger[_0x2cf247(0x23a)](_0x5ac7b3[_0x2cf247(0x221)]):logger[_0x2cf247(0x271)](_0x5ac7b3['lFhdA']),this[_0x2cf247(0x1e3)][_0x2cf247(0x1a4)]=[]);!this[_0x2cf247(0x1e3)]['testContextOptions']&&(this[_0x2cf247(0x1e3)][_0x2cf247(0x243)]={});try{process['env']['FRAMEWORK']=_0x5d020e['_'][0x0],utilities['fireFunnelTestEvent'](_0x5ac7b3['ykkOE'],{},this['config'],this[_0x2cf247(0x1c2)]);}catch(_0x5a07ef){logger[_0x2cf247(0x1f8)](_0x2cf247(0x178)+_0x5a07ef);}!this[_0x2cf247(0x1e3)]['disableAutoCaptureLogs']&&logger[_0x2cf247(0x23a)](constants[_0x2cf247(0x238)]),this[_0x2cf247(0x193)]=this[_0x2cf247(0x193)][_0x2cf247(0x235)](this),process['on'](_0x5ac7b3['rhWyO'],this[_0x2cf247(0x193)]),process['on'](_0x5ac7b3[_0x2cf247(0x1b5)],this[_0x2cf247(0x193)]),process['on'](_0x5ac7b3[_0x2cf247(0x19c)],this['intExitHandler']),_0x5ac7b3[_0x2cf247(0x21f)](process[_0x2cf247(0x241)],_0x5ac7b3[_0x2cf247(0x211)])?(process['on'](_0x5ac7b3[_0x2cf247(0x1a1)],this[_0x2cf247(0x193)]),process['on'](_0x5ac7b3[_0x2cf247(0x1af)],this[_0x2cf247(0x193)])):process['on'](_0x5ac7b3[_0x2cf247(0x1bd)],this[_0x2cf247(0x193)]),process['on'](_0x5ac7b3[_0x2cf247(0x270)],this['exitHandler']());}async[a83_0x509d31(0x20f)](_0x4bce98){const _0x53092c=a83_0x509d31,_0x207bc9={'XcLDC':'ats-repeater','vXnNB':_0x53092c(0x1b1),'HKgck':_0x53092c(0x202),'mMvrR':function(_0x2a3b15,_0x4dd08a){return _0x2a3b15===_0x4dd08a;},'sGkqw':_0x53092c(0x25f),'fntNA':function(_0x19907b,_0x86281b){return _0x19907b+_0x86281b;},'asACf':_0x53092c(0x182),'rgxwf':function(_0x3aeaa1,_0x3b77af){return _0x3aeaa1(_0x3b77af);},'PniLd':_0x53092c(0x1bc)};this[_0x53092c(0x19a)](_0x4bce98);if(helper['isTurboScaleSession'](this[_0x53092c(0x1e3)])){const _0x235850=await helper[_0x53092c(0x1b6)](this[_0x53092c(0x1e3)]);this[_0x53092c(0x1e3)][_0x53092c(0x258)]=_0x235850,_0x235850[_0x53092c(0x1de)]&&helper[_0x53092c(0x268)](this[_0x53092c(0x1e3)][_0x53092c(0x1c7)])&&helper['isTrue'](this[_0x53092c(0x1e3)][_0x53092c(0x1c7)])&&(this[_0x53092c(0x1e3)][_0x53092c(0x22d)][_0x53092c(0x1be)]=_0x207bc9['XcLDC'],this[_0x53092c(0x1e3)]['browserStackLocalOptions'][_0x207bc9[_0x53092c(0x1eb)]]=_0x235850[_0x53092c(0x1ff)][_0x53092c(0x21d)](','),this[_0x53092c(0x1e3)][_0x53092c(0x22d)][_0x53092c(0x24e)]=_0x207bc9[_0x53092c(0x1c0)]),this[_0x53092c(0x1e3)][_0x53092c(0x185)]=_0x235850[_0x53092c(0x219)],this[_0x53092c(0x1c2)]&&_0x207bc9[_0x53092c(0x1fd)](this[_0x53092c(0x1c2)][_0x53092c(0x256)](),_0x207bc9['sGkqw'])?this['config']['turboScaleUrl']=_0x207bc9[_0x53092c(0x1cb)](_0x235850[_0x53092c(0x1c4)],_0x207bc9[_0x53092c(0x1f3)]):constants[_0x53092c(0x22a)]=helper[_0x53092c(0x17d)](this[_0x53092c(0x1e3)]),logger['debug'](_0x53092c(0x204)+constants[_0x53092c(0x22a)]);}helper[_0x53092c(0x205)](this[_0x53092c(0x1e3)]),this[_0x53092c(0x23e)](),_0x207bc9[_0x53092c(0x18a)](setPercyFlag,this),await this['setupBrowserstackLocal'](),![_0x207bc9[_0x53092c(0x1f7)],_0x207bc9['sGkqw']]['includes'](this[_0x53092c(0x1c2)])&&!helper[_0x53092c(0x252)](this[_0x53092c(0x1e3)])&&!helper[_0x53092c(0x1f4)]()[_0x53092c(0x22f)]&&await this[_0x53092c(0x1c1)]();}async[a83_0x509d31(0x172)](){const _0x38f2fc=a83_0x509d31,_0x3fde57={};_0x3fde57['EGEzW']=function(_0x3e6cd1,_0x484f34){return _0x3e6cd1===_0x484f34;},_0x3fde57[_0x38f2fc(0x1ee)]=_0x38f2fc(0x239),_0x3fde57['sUgSh']='Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.',_0x3fde57[_0x38f2fc(0x209)]=_0x38f2fc(0x1c3),_0x3fde57[_0x38f2fc(0x1f9)]=_0x38f2fc(0x202),_0x3fde57[_0x38f2fc(0x1dd)]=_0x38f2fc(0x237);const _0x2fb2ef=_0x3fde57;if(helper[_0x38f2fc(0x210)](this['config'][_0x38f2fc(0x244)])&&(!this[_0x38f2fc(0x244)]||!this[_0x38f2fc(0x244)][_0x38f2fc(0x1df)]()))try{this['percy']=await percyHelper[_0x38f2fc(0x215)](this[_0x38f2fc(0x1e3)]);if(!this['percy']){process[_0x38f2fc(0x1ad)][_0x38f2fc(0x18e)]=_0x2fb2ef[_0x38f2fc(0x1ee)];throw new Error(_0x2fb2ef[_0x38f2fc(0x1b3)]);}logger[_0x38f2fc(0x23a)](_0x2fb2ef['LqZHd']),process[_0x38f2fc(0x1ad)][_0x38f2fc(0x18e)]=_0x2fb2ef[_0x38f2fc(0x1f9)];let _0x457431=0x0;const _0x167753=async()=>{const _0x20e699=_0x38f2fc;_0x457431++,_0x2fb2ef[_0x20e699(0x1fb)](_0x457431,0x1)&&await this['stopPercy']();};process['on'](_0x2fb2ef['cKwUE'],_0x167753);}catch(_0x3118e3){process[_0x38f2fc(0x1ad)][_0x38f2fc(0x18e)]=_0x2fb2ef['SfBfj'],logger[_0x38f2fc(0x1f8)](_0x38f2fc(0x1a2)+_0x3118e3);throw new Error(_0x3118e3['toString']());}}async[a83_0x509d31(0x1ce)](){const _0x44ec32=a83_0x509d31,_0xabe624={};_0xabe624['QfgRP']=_0x44ec32(0x184),_0xabe624['gCiNn']=_0x44ec32(0x21a);const _0x5b7767=_0xabe624;if(this['percy']&&this[_0x44ec32(0x244)][_0x44ec32(0x1df)]())try{await percyHelper[_0x44ec32(0x1ce)](this[_0x44ec32(0x244)]),logger[_0x44ec32(0x23a)](_0x5b7767['QfgRP']);}catch(_0x524749){logger[_0x44ec32(0x259)](_0x5b7767[_0x44ec32(0x1d3)],_0x524749['message']);}}async['setupBrowserstackLocal'](){const _0xf5b4e6=a83_0x509d31,_0x14c231={};_0x14c231[_0xf5b4e6(0x1ec)]=_0xf5b4e6(0x1b4),_0x14c231[_0xf5b4e6(0x1d5)]='Local\x20binary\x20started\x20successfully';const _0x5a448f=_0x14c231;if(helper[_0xf5b4e6(0x26c)]()&&helper[_0xf5b4e6(0x210)](this[_0xf5b4e6(0x1e3)][_0xf5b4e6(0x1c7)])&&(!this['browserstackLocal']||!this[_0xf5b4e6(0x1c7)]['isRunning']()))try{if(this['config'][_0xf5b4e6(0x22d)][_0xf5b4e6(0x26f)]){logger[_0xf5b4e6(0x1f8)](_0x5a448f['LvMXx']);return;}this['browserstackLocal']=await helper[_0xf5b4e6(0x20c)](this[_0xf5b4e6(0x1e3)]),logger[_0xf5b4e6(0x23a)](_0x5a448f[_0xf5b4e6(0x1d5)]);}catch(_0x28ebb5){logger[_0xf5b4e6(0x1f8)](_0x28ebb5);throw new Error(_0x28ebb5[_0xf5b4e6(0x1fa)]());}}async['stopBrowserstackLocal'](){const _0x498ddd=a83_0x509d31,_0x408d8f={};_0x408d8f[_0x498ddd(0x26e)]='Local\x20binary\x20stopped',_0x408d8f[_0x498ddd(0x25d)]='Error\x20occured\x20while\x20stopping\x20local\x20binary';const _0x4af55a=_0x408d8f;if(this[_0x498ddd(0x1c7)]&&this['browserstackLocal'][_0x498ddd(0x1df)]())try{await helper[_0x498ddd(0x1c9)](this['browserstackLocal']),logger['info'](_0x4af55a['FhApC']);}catch(_0x1697ca){logger[_0x498ddd(0x259)](_0x4af55a['WZHQQ'],_0x1697ca[_0x498ddd(0x190)]);}}async['setUpHubUrl'](){return PerformanceTester['measureWrapper'](PerformanceAutEvents['HUB_MANAGEMENT'],async()=>{const _0x133ceb=a83_0x27e6;await hubAllocator[_0x133ceb(0x222)](this[_0x133ceb(0x1e3)]);})();}async[a83_0x509d31(0x248)](){const _0x5237ed=a83_0x509d31,_0x4f7619={'BfooJ':function(_0x41c8e5,_0x44e6be){return _0x41c8e5(_0x44e6be);},'ITjCj':_0x5237ed(0x226),'PVPbc':function(_0x3e3846,_0x36e2e1,_0x4975cd,_0x330bab,_0x12df28,_0x1b9cf7,_0x17602c){return _0x3e3846(_0x36e2e1,_0x4975cd,_0x330bab,_0x12df28,_0x1b9cf7,_0x17602c);},'ECcSg':'BrowserstackHealing.init\x20method\x20timed\x20out','NxtCe':_0x5237ed(0x1ea),'vCHKG':function(_0xc27bea,_0x4235c7){return _0xc27bea(_0x4235c7);},'fdHzK':'../../package.json','whwCg':_0x5237ed(0x1e0),'kISMc':function(_0x297b3a,_0x309556){return _0x297b3a===_0x309556;},'qbAIT':_0x5237ed(0x202),'sXDXe':function(_0x2ff38,_0x4a2cd4){return _0x2ff38===_0x4a2cd4;},'IIQEd':_0x5237ed(0x24c),'BMifk':function(_0x5f5bba,_0x3c14bd){return _0x5f5bba===_0x3c14bd;},'OlHBS':_0x5237ed(0x24f),'ZFNjb':_0x5237ed(0x21b),'WTRwO':function(_0x4b5653,_0x1e472e){return _0x4b5653(_0x1e472e);},'DtGhG':_0x5237ed(0x220),'skZti':function(_0x199b0a,_0x7fd55a){return _0x199b0a>=_0x7fd55a;},'QJNFS':function(_0x28f03f,_0x226524){return _0x28f03f<_0x226524;},'pjDvr':function(_0x52f111,_0x55531f){return _0x52f111>=_0x55531f;},'BPGMa':_0x5237ed(0x269),'aGQtW':_0x5237ed(0x173),'IpPDU':function(_0x25a274){return _0x25a274();}},_0x1d12f2=PerformanceTester['measureWrapper'](_0x4f7619['aGQtW'],async()=>{const _0xad5e20=_0x5237ed;try{const _0x89f400=new Date(),_0x22ffc4=helper['getProxyConfigForTcg'](this[_0xad5e20(0x1e3)]),_0x3bc673=_0x4f7619['BfooJ'](require,path[_0xad5e20(0x21d)](__dirname,_0x4f7619[_0xad5e20(0x181)])),_0x3c9f36=_0x4f7619[_0xad5e20(0x223)](timeoutPromise,constants['TCG_AUTH_TIMEOUT'],_0x4f7619[_0xad5e20(0x23b)],_0x4f7619[_0xad5e20(0x18c)],_0x89f400,this[_0xad5e20(0x1e3)],this[_0xad5e20(0x1c2)]),_0x343ffc={'tcgUrl':constants['TCG_URL'],'sdkVersion':_0x4f7619[_0xad5e20(0x230)](require,_0x4f7619['fdHzK'])['version'],'methodUsed':_0x4f7619[_0xad5e20(0x1b7)],'proxyConfig':_0x22ffc4,'os':os['platform']()};if(_0x22ffc4&&_0x22ffc4[_0xad5e20(0x20a)]){utilities['fireFunnelTestEvent'](constants[_0xad5e20(0x250)],_0x343ffc,this[_0xad5e20(0x1e3)],this[_0xad5e20(0x1c2)]);return;}const _0x57f956={};_0x57f956[_0xad5e20(0x1e6)]=_0x22ffc4;const _0x2bb4f0=await Promise['race']([_0x3bc673[_0xad5e20(0x1e8)](this[_0xad5e20(0x1e3)]['accessKey'],this[_0xad5e20(0x1e3)][_0xad5e20(0x1d8)],constants[_0xad5e20(0x1bb)],_0x4f7619[_0xad5e20(0x234)](require,_0x4f7619[_0xad5e20(0x1ed)])['version'],_0x57f956)[_0xad5e20(0x1a0)](_0x400382=>{return _0x3c9f36['cancel'](),_0x400382;}),_0x3c9f36]);_0x2bb4f0[_0xad5e20(0x17f)]=_0x4f7619['kISMc'](_0x2bb4f0[_0xad5e20(0x17f)],_0x4f7619[_0xad5e20(0x26d)])||_0x4f7619[_0xad5e20(0x199)](_0x2bb4f0[_0xad5e20(0x17f)],!![]);const _0xea5ef2=_0x4f7619[_0xad5e20(0x199)](this[_0xad5e20(0x1e3)][_0xad5e20(0x231)],!![])||_0x4f7619[_0xad5e20(0x199)](this[_0xad5e20(0x1e3)][_0xad5e20(0x231)],_0x4f7619[_0xad5e20(0x26d)]);if(_0x4f7619[_0xad5e20(0x26a)](_0x2bb4f0[_0xad5e20(0x190)],constants['UPGRADE_REQUIRED'])&&_0xea5ef2)logger[_0xad5e20(0x23a)](_0x4f7619['IIQEd']);else{if(!_0x2bb4f0['isAuthenticated']&&_0x4f7619['BMifk'](_0x2bb4f0['status'],0x1f7)&&_0xea5ef2)logger['info'](_0x4f7619[_0xad5e20(0x23c)]),utilities[_0xad5e20(0x1ab)](constants[_0xad5e20(0x1d1)],_0x343ffc,this[_0xad5e20(0x1e3)],this[_0xad5e20(0x1c2)]);else{if(!_0x2bb4f0['isAuthenticated']&&_0xea5ef2){logger[_0xad5e20(0x23a)](_0x4f7619[_0xad5e20(0x25c)]);const _0x523a2a={'tcgUrl':constants['TCG_URL'],'sdkVersion':_0x4f7619[_0xad5e20(0x260)](require,_0x4f7619[_0xad5e20(0x1ed)])[_0xad5e20(0x19b)],'methodUsed':_0x4f7619[_0xad5e20(0x1b7)],'proxyConfig':_0x22ffc4,'os':os[_0xad5e20(0x241)]()};utilities[_0xad5e20(0x1ab)](constants['TCG_AUTH_FAILURE'],_0x523a2a,this[_0xad5e20(0x1e3)],this[_0xad5e20(0x1c2)]);}else{if(_0x2bb4f0[_0xad5e20(0x225)]&&!_0x2bb4f0[_0xad5e20(0x17f)]&&_0xea5ef2)logger[_0xad5e20(0x23a)](_0x4f7619[_0xad5e20(0x197)]);else{if(_0x4f7619[_0xad5e20(0x20b)](_0x2bb4f0[_0xad5e20(0x17e)],0xc8)&&_0x4f7619['QJNFS'](_0x2bb4f0[_0xad5e20(0x17e)],0x12c))utilities[_0xad5e20(0x1ab)](constants['AI_INIT_SUCCESSFUL'],_0x343ffc,this[_0xad5e20(0x1e3)],this[_0xad5e20(0x1c2)]);else{if(_0x4f7619[_0xad5e20(0x26b)](_0x2bb4f0[_0xad5e20(0x17e)],0x190))_0x343ffc[_0xad5e20(0x17e)]=_0x2bb4f0[_0xad5e20(0x17e)],utilities[_0xad5e20(0x1ab)](constants[_0xad5e20(0x232)],_0x343ffc,this[_0xad5e20(0x1e3)],this[_0xad5e20(0x1c2)]);else!_0x2bb4f0[_0xad5e20(0x17e)]&&utilities[_0xad5e20(0x1ab)](constants[_0xad5e20(0x1a3)],_0x343ffc,this[_0xad5e20(0x1e3)],this[_0xad5e20(0x1c2)]);}}}}}if(_0x2bb4f0['isAuthenticated']&&_0x2bb4f0[_0xad5e20(0x17f)]){const _0x1f50f4={};_0x1f50f4[_0xad5e20(0x227)]=_0x2bb4f0;const _0x5b70e3=_0x1f50f4;_0x22ffc4&&(_0x5b70e3['proxyConfig']=_0x22ffc4),_0x5b70e3[_0xad5e20(0x1c2)]=this[_0xad5e20(0x1c2)],_0x5b70e3['bstackConfig']=this['config'],helper[_0xad5e20(0x1a6)](_0x5b70e3),logger[_0xad5e20(0x1f8)](_0x4f7619[_0xad5e20(0x203)]);}}catch(_0x1539f9){logger[_0xad5e20(0x1f8)](_0xad5e20(0x1fc)+(_0x1539f9['message']?_0x1539f9['message']:''));}});await _0x4f7619[_0x5237ed(0x1ae)](_0x1d12f2);}[a83_0x509d31(0x23e)](){const _0x4517d3=a83_0x509d31,_0x2a9f69={'RKgHE':function(_0x15cebb,_0x24b6d0){return _0x15cebb(_0x24b6d0);},'lzUjO':_0x4517d3(0x21e)};_0x2a9f69[_0x4517d3(0x25a)](require,_0x2a9f69[_0x4517d3(0x1e9)])();}[a83_0x509d31(0x22c)](){const _0x4e6f15=a83_0x509d31,_0x5aa9a8={};_0x5aa9a8[_0x4e6f15(0x246)]='unhandledRejection',_0x5aa9a8[_0x4e6f15(0x23f)]=_0x4e6f15(0x191);const _0x343f84=_0x5aa9a8,_0x3e6a9d=_0x3d970a=>{const _0xae8a5f=_0x4e6f15;logger[_0xae8a5f(0x259)](_0x3d970a['message']),logger[_0xae8a5f(0x1f8)](util[_0xae8a5f(0x176)](_0x3d970a)),this['unhandledErrors'][_0xae8a5f(0x1cf)](util[_0xae8a5f(0x176)]('%j',_0x3d970a)),PerformanceTester[_0xae8a5f(0x18d)](_0x3d970a);};process['on'](_0x343f84[_0x4e6f15(0x246)],_0x3e6a9d),process['on'](_0x343f84[_0x4e6f15(0x23f)],_0x3e6a9d);}async[a83_0x509d31(0x193)](_0x7400e5){const _0x81c222=a83_0x509d31,_0x35f913={};_0x35f913[_0x81c222(0x17c)]=_0x81c222(0x1d9),_0x35f913[_0x81c222(0x192)]=function(_0x45bbc6,_0x28e4a0){return _0x45bbc6+_0x28e4a0;},_0x35f913[_0x81c222(0x201)]='handled',_0x35f913['ZPBBJ']=function(_0x50e2db,_0xea1360){return _0x50e2db+_0xea1360;},_0x35f913['DFFcP']=function(_0x553058,_0x4067f5){return _0x553058+_0x4067f5;},_0x35f913[_0x81c222(0x255)]=_0x81c222(0x177);const _0xb16f12=_0x35f913,_0x50e013=_0xb16f12[_0x81c222(0x17c)][_0x81c222(0x236)]('|');let _0xbec422=0x0;while(!![]){switch(_0x50e013[_0xbec422++]){case'0':fileLogger&&fileLogger[_0x81c222(0x21c)]();continue;case'1':if(this[_0xb16f12['DMXlH'](_0xb16f12[_0x81c222(0x201)],_0x7400e5)])return;continue;case'2':logger&&logger[_0x81c222(0x21c)]();continue;case'3':this[_0x81c222(0x264)]=_0x7400e5;continue;case'4':await BrowserstackCLI[_0x81c222(0x1db)]()[_0x81c222(0x1cd)]();continue;case'5':await TestHubHandler[_0x81c222(0x1cd)](_0x7400e5);continue;case'6':this[_0xb16f12['ZPBBJ'](_0xb16f12[_0x81c222(0x201)],_0x7400e5)]=!![];continue;case'7':logger[_0x81c222(0x23a)](_0xb16f12['DFFcP'](_0xb16f12[_0x81c222(0x255)],_0x7400e5));continue;}break;}}[a83_0x509d31(0x257)](){const _0x5af13c=a83_0x509d31,_0x83df34={'dsUqQ':function(_0xec93f,_0x10757f){return _0xec93f===_0x10757f;},'lWLEd':_0x5af13c(0x1d7),'ZmfSe':function(_0x177912,_0x4f2fdd){return _0x177912>_0x4f2fdd;},'gdNto':function(_0x261354,_0xc22eb0){return _0x261354>_0xc22eb0;},'RSPwL':function(_0x518259){return _0x518259();},'SFzvs':_0x5af13c(0x263)};let _0x3ea778=0x0;return async()=>{const _0x31d50d=_0x5af13c;_0x3ea778++;if(_0x83df34[_0x31d50d(0x195)](_0x3ea778,0x1)){helper[_0x31d50d(0x228)](this['framework'])&&await this[_0x31d50d(0x1e7)]();try{logger[_0x31d50d(0x1f8)](_0x83df34[_0x31d50d(0x1d4)]),await BrowserstackCLI[_0x31d50d(0x1db)]()[_0x31d50d(0x1cd)]('1'),await TestHubHandler['stop'](_0x3ea778);}catch(_0x419ecc){logger[_0x31d50d(0x1f8)](_0x31d50d(0x200)+util['format'](_0x419ecc));}PerformanceTester[_0x31d50d(0x1c8)](PerformanceEvents[_0x31d50d(0x254)]);if(PerformanceTester[_0x31d50d(0x218)]()){const {measures:_0x3141c7,errors:_0x358b80}=await PerformanceTester[_0x31d50d(0x20d)](),_0x4bd68={};if(_0x3141c7&&_0x83df34[_0x31d50d(0x240)](_0x3141c7[_0x31d50d(0x1ac)],0x0)||_0x358b80&&_0x83df34[_0x31d50d(0x183)](_0x358b80['length'],0x0)){const _0x1ee817={};_0x1ee817[_0x31d50d(0x265)]=_0x3141c7,_0x1ee817[_0x31d50d(0x25b)]=_0x358b80,Object[_0x31d50d(0x188)](_0x4bd68,_0x1ee817);}try{const _0x459c23=await helper[_0x31d50d(0x1c6)](_0x4bd68,this[_0x31d50d(0x1e3)]);logger['debug'](_0x31d50d(0x245)+constants[_0x31d50d(0x1ef)]+'\x20with\x20response\x20'+_0x459c23[_0x31d50d(0x17b)]);}catch(_0x30d471){logger[_0x31d50d(0x1f8)](_0x31d50d(0x17a)+constants[_0x31d50d(0x1ef)]+_0x31d50d(0x233)+util[_0x31d50d(0x176)](_0x30d471));}try{fs[_0x31d50d(0x1c5)](path[_0x31d50d(0x21d)](_0x83df34['RSPwL'](getLogDir),_0x83df34['SFzvs']),JSON[_0x31d50d(0x1a5)](_0x4bd68));}catch(_0x5e0c5f){logger['debug'](_0x31d50d(0x1a7)+_0x5e0c5f);}}}};}}function a83_0x27e6(_0x499e0d,_0x5c97b4){const _0x5a7d58=a83_0x5a7d();return a83_0x27e6=function(_0x27e6f2,_0x38acce){_0x27e6f2=_0x27e6f2-0x172;let _0x49ab97=_0x5a7d58[_0x27e6f2];return _0x49ab97;},a83_0x27e6(_0x499e0d,_0x5c97b4);}exports[a83_0x509d31(0x1e4)]=BrowserStackSetup;