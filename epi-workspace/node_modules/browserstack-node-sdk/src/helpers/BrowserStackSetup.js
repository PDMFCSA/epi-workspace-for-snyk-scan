function a83_0x3616(){const _0x1c0af4=['tcgAuthConfig','./timeoutPromise','isAuthenticated','setupKeepAlive','testContextOptions','JGlVa','114237oRtczY','Error\x20in\x20percy\x20setup\x20','Error\x20in\x20writing\x20events\x20to\x20file\x20','BrowserstackHealing.init','TMYzQ','AI_PROXY_FAILURE','SxVOy','AI_INIT_FAILURE','ats-repeater','killSignal','localOptions','toLowerCase','length','env','bjaEX','getPackageVersion','bFQLB','beforeExit','zHIdX','bind','accessKey','envConfig','platform','startLocalBinary','constructor','sendToEDS','sxYcq','yhgDl','yKFEO','../hubAllocationMethods','QetkA','end','../../package.json','stopPercy','setupTCGAuth','SIGHUP','central_scanner','blDxB','path','toString','cancel','events.json','GLaJq','hubUrl','Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.','OZIsz','aFtRb','setProxySettings','turboScaleOptions','startPercy','cJVYa','setupTcgConfigFile','race','1001014EHGXXh','setHandlePWError','stopLocalBinary','errorMessage','Local\x20binary\x20stopped','rKIkm','qLbiy','MEscD','setCredentialsFromYmlConfig','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','requireSeleniumWebdriverCheck','Local\x20binary\x20started\x20successfully','189276FaVYtk','turboScale','JVStC','false','percy','userName\x20or\x20accessKey\x20is\x20not\x20defined','vIJaV','tcg\x20config\x20setup\x20successful.','monFP','HUB_MANAGEMENT','BUiPw','hKUHk','error','codeceptjs','TCG_URL','WNwZC','FoSaq','default','captureError','SDK_CLEANUP','join','parallelsPerPlatform','getFinalCaps','sanitizeCaps','custom-repeater','setCLICaps','IdDUx','256tYqQMI','PDrqJ','handled','framework','debug','HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20','BrowserstackHealing.init\x20method\x20timed\x20out','Calling\x20Build\x20Stop\x20from\x20ExitHandler','aopLS','isTrue','AI_INIT_SUCCESSFUL','wmgBM','close','forceLocal','MSDHx','message','nVBED','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','format','push','skipSessionName','Percy\x20stopped','1526440YCDOSk','OeFbW','eQmIN','version','config','TCG_DOWN','QpiBo','cUTVd','isRunning','70GuFXrZ','eIhWb','ftVUN','isUndefined','7|1|2|5|6|3|0|4','stop','./testhub/testhubHandler','info','localIdentifier','cMURO','uncaughtException','Error\x20occured\x20while\x20stopping\x20percy','ZuUZl','./setKeepAlive','isHealingEnabled','okLDj','turboScaleGridDetails','nzhaA','./testhub/utils','startMonitoring','Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','kDVcI','Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled','generateLocalIdentifier','useW3C','setLogDir','checkStopLocalBinaryOnExit','BROWSERSTACK_PERCY','AUTOLOGCAPTURE_NOTIFICATION','nhBhj','setupBrowserstackLocal','HkQbY','platforms','browserstackLocal','getInstance','skipSessionStatus','win32','disableAutoCaptureLogs','./helper','browserStackLocalOptions','BROWSERSTACK_TURBOSCALE','BBBgi','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','compareVersions','cliConfig','isTrialGrid','tYjiG','BMhkK','sdkRunId','VSDhx','BrowserstackHealingInitFailed','dYcOv','./percy/utils','selfHeal','bstackConfig','MRgIC','zHPPv','customRepeaters','setBrowserstackInfraFromConfig','measures','JEtvL','allocateHub','Failed\x20to\x20send\x20data\x20to\x20','initialize','XuIkD','./performance/constants','getCentralUser','includes','isTurboScaleSession','3kcMwdC','KvyZj','NqcxQ','skipBinaryInitialisation','hNyWu','5446100AWCNpe','proxy','userName','getTurboScaleGridDetails','isNotUndefined','integrations','url','SdSXa','SIGINT','fireFunnelTestEvent','getLocalConfig','setLogLevel','proxyUrl','naXVW','../bin/utils/constants','util','TCG_AUTH_FAILURE','winstonLogger','warn','SDK\x20run\x20started\x20with\x20id:\x20','13|19|8|0|4|18|17|7|16|6|15|10|14|5|1|3|11|20|2|12|21|9','RXTRO','WmwQe','playwrightUrl','MQxXF','./logger','IvQdY','uuid','intExitHandler','SThlh','getConfigPath','setEnvCaps','53280bXxrzF','Shutdown\x20triggered\x20by\x20','true','FRAMEWORK','\x20with\x20error\x20','sTpCt','KWcvl','TCG_AUTH_TIMEOUT','readConfig','484108VnJDcd','unhandledErrors','QOOXq','./performance/performance-tester','isBrowserstackInfra','\x20with\x20response\x20','Data\x20sent\x20successfully\x20to\x20','EDS_URL','ZZIcY','measureWrapper','getProxyConfigForTcg','AaoDh','status','exceptions','proxyConfig','getAccessKey'];a83_0x3616=function(){return _0x1c0af4;};return a83_0x3616();}const a83_0x503e9d=a83_0x3774;function a83_0x3774(_0x176317,_0x411066){const _0x3616d3=a83_0x3616();return a83_0x3774=function(_0x3774b5,_0x1f3076){_0x3774b5=_0x3774b5-0x1af;let _0x1f48a3=_0x3616d3[_0x3774b5];return _0x1f48a3;},a83_0x3774(_0x176317,_0x411066);}(function(_0x53d3a5,_0x1fd85a){const _0x5e55ec=a83_0x3774,_0x4109d0=_0x53d3a5();while(!![]){try{const _0x5c86c0=parseInt(_0x5e55ec(0x273))/0x1+-parseInt(_0x5e55ec(0x1c3))/0x2*(-parseInt(_0x5e55ec(0x24e))/0x3)+-parseInt(_0x5e55ec(0x27c))/0x4+-parseInt(_0x5e55ec(0x200))/0x5+-parseInt(_0x5e55ec(0x1cf))/0x6*(-parseInt(_0x5e55ec(0x209))/0x7)+parseInt(_0x5e55ec(0x1ea))/0x8*(parseInt(_0x5e55ec(0x292))/0x9)+-parseInt(_0x5e55ec(0x253))/0xa;if(_0x5c86c0===_0x1fd85a)break;else _0x4109d0['push'](_0x4109d0['shift']());}catch(_0x44cb66){_0x4109d0['push'](_0x4109d0['shift']());}}}(a83_0x3616,0x4a572));const util=require(a83_0x503e9d(0x262)),os=require('os'),path=require(a83_0x503e9d(0x1b4)),{v4:uuidv4}=require(a83_0x503e9d(0x26e)),fs=require('fs'),constants=require(a83_0x503e9d(0x261)),logger=require(a83_0x503e9d(0x26c))[a83_0x503e9d(0x264)],fileLogger=require(a83_0x503e9d(0x26c))['fileLogger'],{getLogDir}=require(a83_0x503e9d(0x26c)),helper=require(a83_0x503e9d(0x22f)),utilities=require('./utilities'),percyHelper=require(a83_0x503e9d(0x23d)),hubAllocator=require(a83_0x503e9d(0x2af)),PerformanceTester=require(a83_0x503e9d(0x27f)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require(a83_0x503e9d(0x24a)),{setPercyFlag}=require(a83_0x503e9d(0x21b)),TestHubHandler=require(a83_0x503e9d(0x20f)),timeoutPromise=require(a83_0x503e9d(0x28d)),BrowserstackCLI=require('../bin/v2/browserstackCLI');class BrowserStackSetup{constructor(_0x34b472,_0x16786b){const _0x4cb940=a83_0x503e9d,_0x22723f={'OXNAc':_0x4cb940(0x267),'zHIdX':function(_0x32e33c){return _0x32e33c();},'skaMd':'No\x20config\x20provided.'},_0x724d67=_0x22723f['OXNAc']['split']('|');let _0xac2040=0x0;while(!![]){switch(_0x724d67[_0xac2040++]){case'0':this['percy']=null;continue;case'1':helper[_0x4cb940(0x243)](this['config'],this[_0x4cb940(0x235)]);continue;case'2':helper[_0x4cb940(0x1e5)](this[_0x4cb940(0x204)],this[_0x4cb940(0x235)],this['envConfig']);continue;case'3':helper[_0x4cb940(0x1cb)](this[_0x4cb940(0x204)]);continue;case'4':this[_0x4cb940(0x204)]=helper[_0x4cb940(0x27b)](helper[_0x4cb940(0x271)](_0x34b472));continue;case'5':if(this['config'][_0x4cb940(0x1db)])throw new Error(this['config'][_0x4cb940(0x1db)]);continue;case'6':this[_0x4cb940(0x239)]=_0x22723f[_0x4cb940(0x2a4)](uuidv4);continue;case'7':this[_0x4cb940(0x204)][_0x4cb940(0x290)]=this[_0x4cb940(0x204)][_0x4cb940(0x290)]||{};continue;case'8':this[_0x4cb940(0x22a)]=null;continue;case'9':PerformanceTester[_0x4cb940(0x21c)]();continue;case'10':global['framework']=_0x16786b;continue;case'11':this[_0x4cb940(0x204)]['testContextOptions'][_0x4cb940(0x22c)]=!helper[_0x4cb940(0x280)]()||helper['isTrue'](this[_0x4cb940(0x204)][_0x4cb940(0x290)][_0x4cb940(0x22c)]);continue;case'12':helper[_0x4cb940(0x222)](this[_0x4cb940(0x204)]);continue;case'13':this[_0x4cb940(0x27d)]=[];continue;case'14':if(helper[_0x4cb940(0x20c)](this[_0x4cb940(0x204)]))throw new Error(_0x22723f['skaMd']);continue;case'15':this[_0x4cb940(0x1ed)]=_0x16786b;continue;case'16':this[_0x4cb940(0x1c6)]={};continue;case'17':this[_0x4cb940(0x204)]['platforms']=this['config'][_0x4cb940(0x229)]||[];continue;case'18':this['cliConfig']=helper[_0x4cb940(0x1e8)](_0x34b472);continue;case'19':this['envConfig']=helper[_0x4cb940(0x272)]();continue;case'20':this[_0x4cb940(0x204)][_0x4cb940(0x290)][_0x4cb940(0x1fe)]=!helper[_0x4cb940(0x280)]()||helper['isTrue'](this[_0x4cb940(0x204)][_0x4cb940(0x290)][_0x4cb940(0x1fe)]);continue;case'21':helper[_0x4cb940(0x25e)](this['config'],this[_0x4cb940(0x235)],this[_0x4cb940(0x2a7)]);continue;}break;}}['preInitialize'](_0xefdcad){const _0x2eaf7b=a83_0x503e9d,_0x5345c6={'wmgBM':_0x2eaf7b(0x1d4),'xmwqJ':function(_0x467442,_0x214abc){return _0x467442===_0x214abc;},'ubJgL':_0x2eaf7b(0x258),'sTpCt':'SDKTestAttempted','JEtvL':function(_0x565bdd,_0x1a467a){return _0x565bdd<_0x1a467a;},'Enobd':function(_0xd07f54,_0x437e8c){return _0xd07f54(_0x437e8c);},'kDVcI':'selenium-webdriver','SxVOy':'4.5.0','hKUHk':'Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','WNwZC':'parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','MQxXF':'SIGTERM','ftVUN':_0x2eaf7b(0x25b),'GLaJq':_0x2eaf7b(0x1b1),'qLbiy':function(_0x4c871b,_0x5af3de){return _0x4c871b!==_0x5af3de;},'yKFEO':_0x2eaf7b(0x22d),'bFQLB':'SIGABRT','RXTRO':'SIGQUIT','OeFbW':'SIGBREAK','TMYzQ':_0x2eaf7b(0x2a3)},_0x257528=this[_0x2eaf7b(0x1ed)];global[_0x2eaf7b(0x204)]=this[_0x2eaf7b(0x204)],helper[_0x2eaf7b(0x1e6)](this[_0x2eaf7b(0x204)]),this[_0x2eaf7b(0x29b)]=null,global[_0x2eaf7b(0x239)]=this[_0x2eaf7b(0x239)],logger[_0x2eaf7b(0x210)](_0x2eaf7b(0x266)+this[_0x2eaf7b(0x239)]),!this[_0x2eaf7b(0x204)]['browserStackLocalOptions']&&(this[_0x2eaf7b(0x204)][_0x2eaf7b(0x230)]=this[_0x2eaf7b(0x204)][_0x2eaf7b(0x29c)]||{});if(helper[_0x2eaf7b(0x20c)](helper['getUserName'](this['config']))||helper[_0x2eaf7b(0x20c)](helper[_0x2eaf7b(0x28b)](this['config'])))throw new Error(_0x5345c6[_0x2eaf7b(0x1f5)]);helper[_0x2eaf7b(0x25d)](this[_0x2eaf7b(0x204)])&&helper[_0x2eaf7b(0x20c)](helper['getLocalIdentifier'](this[_0x2eaf7b(0x204)]))&&(!helper[_0x2eaf7b(0x20c)](this[_0x2eaf7b(0x204)][_0x2eaf7b(0x230)])&&_0x5345c6['xmwqJ'](this[_0x2eaf7b(0x204)]['browserStackLocalOptions'][_0x2eaf7b(0x2aa)],Object)?!helper['isTrue'](this[_0x2eaf7b(0x204)][_0x2eaf7b(0x230)][_0x2eaf7b(0x251)])&&(this[_0x2eaf7b(0x204)][_0x2eaf7b(0x230)][_0x2eaf7b(0x211)]=helper[_0x2eaf7b(0x220)]()):this[_0x2eaf7b(0x204)][_0x2eaf7b(0x230)]={'localIdentifier':helper['generateLocalIdentifier']()});this[_0x2eaf7b(0x204)][_0x2eaf7b(0x230)][_0x2eaf7b(0x251)]=helper['isTrue'](this['config'][_0x2eaf7b(0x230)][_0x2eaf7b(0x251)]),helper[_0x2eaf7b(0x1c4)](this[_0x2eaf7b(0x204)]);if(_0x5345c6['xmwqJ'](_0x257528,_0x5345c6['ubJgL']))return;this['handleExceptions']();process[_0x2eaf7b(0x29f)][_0x2eaf7b(0x231)]&&(this[_0x2eaf7b(0x204)][_0x2eaf7b(0x1d0)]=helper[_0x2eaf7b(0x1f3)](process[_0x2eaf7b(0x29f)][_0x2eaf7b(0x231)]),this[_0x2eaf7b(0x204)]['turboScaleOptions']=this[_0x2eaf7b(0x204)][_0x2eaf7b(0x1be)]||{});helper[_0x2eaf7b(0x24d)](this['config'])&&(process[_0x2eaf7b(0x29f)][_0x2eaf7b(0x231)]=!![]);if(!helper['isBrowserstackInfra']()){try{process[_0x2eaf7b(0x29f)][_0x2eaf7b(0x276)]=_0x257528,utilities[_0x2eaf7b(0x25c)](_0x5345c6['sTpCt'],{},this[_0x2eaf7b(0x204)],this[_0x2eaf7b(0x1ed)]);}catch(_0x40c11e){logger['debug'](_0x2eaf7b(0x1cc)+_0x40c11e);}return;}helper[_0x2eaf7b(0x1cd)](_0x257528)&&(_0x5345c6[_0x2eaf7b(0x245)](_0x5345c6['Enobd'](parseInt,helper[_0x2eaf7b(0x2a1)](_0x5345c6['kDVcI'])),0x3)&&(this[_0x2eaf7b(0x204)][_0x2eaf7b(0x221)]=![]),_0x5345c6['xmwqJ'](helper[_0x2eaf7b(0x234)](helper[_0x2eaf7b(0x2a1)](_0x5345c6[_0x2eaf7b(0x21e)]),_0x5345c6[_0x2eaf7b(0x298)]),0x1)&&(this[_0x2eaf7b(0x204)][_0x2eaf7b(0x221)]=!![]));(helper[_0x2eaf7b(0x20c)](this[_0x2eaf7b(0x204)][_0x2eaf7b(0x229)])||helper['isUndefined'](this[_0x2eaf7b(0x204)][_0x2eaf7b(0x229)][_0x2eaf7b(0x29e)]))&&(helper['isUndefined'](this['config'][_0x2eaf7b(0x1e4)])?logger[_0x2eaf7b(0x210)](_0x5345c6[_0x2eaf7b(0x1da)]):logger[_0x2eaf7b(0x265)](_0x5345c6[_0x2eaf7b(0x1de)]),this[_0x2eaf7b(0x204)][_0x2eaf7b(0x229)]=[]);!this[_0x2eaf7b(0x204)]['testContextOptions']&&(this['config'][_0x2eaf7b(0x290)]={});try{process[_0x2eaf7b(0x29f)][_0x2eaf7b(0x276)]=_0xefdcad['_'][0x0],utilities[_0x2eaf7b(0x25c)](_0x5345c6[_0x2eaf7b(0x278)],{},this[_0x2eaf7b(0x204)],this['framework']);}catch(_0x2f76c4){logger[_0x2eaf7b(0x1ee)](_0x2eaf7b(0x1cc)+_0x2f76c4);}!this[_0x2eaf7b(0x204)][_0x2eaf7b(0x22e)]&&logger[_0x2eaf7b(0x210)](constants[_0x2eaf7b(0x225)]),this[_0x2eaf7b(0x26f)]=this['intExitHandler'][_0x2eaf7b(0x2a5)](this),process['on'](_0x5345c6[_0x2eaf7b(0x26b)],this[_0x2eaf7b(0x26f)]),process['on'](_0x5345c6[_0x2eaf7b(0x20b)],this[_0x2eaf7b(0x26f)]),process['on'](_0x5345c6[_0x2eaf7b(0x1b8)],this['intExitHandler']),_0x5345c6[_0x2eaf7b(0x1c9)](process[_0x2eaf7b(0x2a8)],_0x5345c6[_0x2eaf7b(0x2ae)])?(process['on'](_0x5345c6[_0x2eaf7b(0x2a2)],this[_0x2eaf7b(0x26f)]),process['on'](_0x5345c6[_0x2eaf7b(0x268)],this['intExitHandler'])):process['on'](_0x5345c6[_0x2eaf7b(0x201)],this[_0x2eaf7b(0x26f)]),process['on'](_0x5345c6[_0x2eaf7b(0x296)],this['exitHandler']());}async[a83_0x503e9d(0x248)](_0x371657){const _0x564f00=a83_0x503e9d,_0x384aed={'rKIkm':_0x564f00(0x29a),'eIhWb':_0x564f00(0x1e7),'ZuUZl':_0x564f00(0x275),'okLDj':function(_0x1a417d,_0x1c3f51){return _0x1a417d===_0x1c3f51;},'dYcOv':'playwright','uNKaI':function(_0x362c33,_0xc7b505){return _0x362c33+_0xc7b505;},'blDxB':'?caps=','AaoDh':function(_0x39f3eb,_0xb21642){return _0x39f3eb(_0xb21642);},'BUiPw':_0x564f00(0x1dc)};this['preInitialize'](_0x371657);if(helper[_0x564f00(0x24d)](this['config'])){const _0x20c97a=await helper[_0x564f00(0x256)](this[_0x564f00(0x204)]);this[_0x564f00(0x204)][_0x564f00(0x219)]=_0x20c97a,_0x20c97a[_0x564f00(0x236)]&&helper[_0x564f00(0x257)](this[_0x564f00(0x204)][_0x564f00(0x22a)])&&helper[_0x564f00(0x1f3)](this[_0x564f00(0x204)][_0x564f00(0x22a)])&&(this['config'][_0x564f00(0x230)]['localIdentifier']=_0x384aed[_0x564f00(0x1c8)],this[_0x564f00(0x204)][_0x564f00(0x230)][_0x384aed[_0x564f00(0x20a)]]=_0x20c97a[_0x564f00(0x242)][_0x564f00(0x1e3)](','),this[_0x564f00(0x204)]['browserStackLocalOptions'][_0x564f00(0x1f7)]=_0x384aed[_0x564f00(0x215)]),this[_0x564f00(0x204)]['turboScaleUrl']=_0x20c97a[_0x564f00(0x259)],this[_0x564f00(0x1ed)]&&_0x384aed[_0x564f00(0x218)](this[_0x564f00(0x1ed)][_0x564f00(0x29d)](),_0x384aed[_0x564f00(0x23c)])?this[_0x564f00(0x204)]['turboScaleUrl']=_0x384aed['uNKaI'](_0x20c97a[_0x564f00(0x26a)],_0x384aed[_0x564f00(0x1b3)]):constants[_0x564f00(0x1b9)]=helper['getHubUrl'](this['config']),logger[_0x564f00(0x1ee)](_0x564f00(0x1ef)+constants['hubUrl']);}helper[_0x564f00(0x1bd)](this[_0x564f00(0x204)]),this[_0x564f00(0x28f)](),_0x384aed[_0x564f00(0x287)](setPercyFlag,this),await this['setupBrowserstackLocal'](),![_0x384aed[_0x564f00(0x1d9)],_0x384aed[_0x564f00(0x23c)]][_0x564f00(0x24c)](this[_0x564f00(0x1ed)])&&!helper[_0x564f00(0x24d)](this[_0x564f00(0x204)])&&!helper[_0x564f00(0x24b)]()[_0x564f00(0x1b2)]&&await this['setUpHubUrl']();}async['setupPercy'](){const _0x1b13ee=a83_0x503e9d,_0x5aea71={};_0x5aea71[_0x1b13ee(0x1ca)]=function(_0x37edfc,_0x54924c){return _0x37edfc===_0x54924c;},_0x5aea71[_0x1b13ee(0x1c0)]=_0x1b13ee(0x1d2),_0x5aea71[_0x1b13ee(0x249)]=_0x1b13ee(0x1ba),_0x5aea71[_0x1b13ee(0x1d7)]='Percy\x20started\x20successfully',_0x5aea71[_0x1b13ee(0x260)]='true',_0x5aea71[_0x1b13ee(0x207)]=_0x1b13ee(0x2a3);const _0x2c59b1=_0x5aea71;if(helper[_0x1b13ee(0x1f3)](this[_0x1b13ee(0x204)][_0x1b13ee(0x1d3)])&&(!this[_0x1b13ee(0x1d3)]||!this[_0x1b13ee(0x1d3)][_0x1b13ee(0x208)]()))try{this[_0x1b13ee(0x1d3)]=await percyHelper[_0x1b13ee(0x1bf)](this[_0x1b13ee(0x204)]);if(!this[_0x1b13ee(0x1d3)]){process[_0x1b13ee(0x29f)][_0x1b13ee(0x224)]=_0x2c59b1[_0x1b13ee(0x1c0)];throw new Error(_0x2c59b1[_0x1b13ee(0x249)]);}logger[_0x1b13ee(0x210)](_0x2c59b1[_0x1b13ee(0x1d7)]),process[_0x1b13ee(0x29f)][_0x1b13ee(0x224)]=_0x2c59b1['naXVW'];let _0x30c7e5=0x0;const _0x25fc23=async()=>{const _0x3fbc88=_0x1b13ee;_0x30c7e5++,_0x2c59b1['MEscD'](_0x30c7e5,0x1)&&await this[_0x3fbc88(0x1af)]();};process['on'](_0x2c59b1['cUTVd'],_0x25fc23);}catch(_0x5e781c){process[_0x1b13ee(0x29f)][_0x1b13ee(0x224)]=_0x2c59b1[_0x1b13ee(0x1c0)],logger[_0x1b13ee(0x1ee)](_0x1b13ee(0x293)+_0x5e781c);throw new Error(_0x5e781c['toString']());}}async[a83_0x503e9d(0x1af)](){const _0x3d98c1=a83_0x503e9d,_0x176252={};_0x176252[_0x3d98c1(0x240)]=_0x3d98c1(0x1ff),_0x176252[_0x3d98c1(0x279)]=_0x3d98c1(0x214);const _0x597bf9=_0x176252;if(this[_0x3d98c1(0x1d3)]&&this[_0x3d98c1(0x1d3)][_0x3d98c1(0x208)]())try{await percyHelper[_0x3d98c1(0x1af)](this[_0x3d98c1(0x1d3)]),logger[_0x3d98c1(0x210)](_0x597bf9[_0x3d98c1(0x240)]);}catch(_0x52d2de){logger['error'](_0x597bf9['KWcvl'],_0x52d2de[_0x3d98c1(0x1f9)]);}}async[a83_0x503e9d(0x227)](){const _0x96eeb4=a83_0x503e9d,_0x1794cb={};_0x1794cb[_0x96eeb4(0x25a)]=_0x96eeb4(0x21f),_0x1794cb['SThlh']=_0x96eeb4(0x1ce);const _0x134df5=_0x1794cb;if(helper[_0x96eeb4(0x280)]()&&helper[_0x96eeb4(0x1f3)](this[_0x96eeb4(0x204)][_0x96eeb4(0x22a)])&&(!this[_0x96eeb4(0x22a)]||!this[_0x96eeb4(0x22a)]['isRunning']()))try{if(this[_0x96eeb4(0x204)][_0x96eeb4(0x230)][_0x96eeb4(0x251)]){logger['debug'](_0x134df5[_0x96eeb4(0x25a)]);return;}this[_0x96eeb4(0x22a)]=await helper[_0x96eeb4(0x2a9)](this[_0x96eeb4(0x204)]),logger[_0x96eeb4(0x210)](_0x134df5[_0x96eeb4(0x270)]);}catch(_0x22ead0){logger[_0x96eeb4(0x1ee)](_0x22ead0);throw new Error(_0x22ead0[_0x96eeb4(0x1b5)]());}}async['stopBrowserstackLocal'](){const _0x198a9a=a83_0x503e9d,_0x15f5d0={};_0x15f5d0['BBBgi']=_0x198a9a(0x1c7),_0x15f5d0['KvyZj']='Error\x20occured\x20while\x20stopping\x20local\x20binary';const _0x183d6c=_0x15f5d0;if(this['browserstackLocal']&&this['browserstackLocal'][_0x198a9a(0x208)]())try{await helper[_0x198a9a(0x1c5)](this['browserstackLocal']),logger[_0x198a9a(0x210)](_0x183d6c[_0x198a9a(0x232)]);}catch(_0x2fd9cc){logger[_0x198a9a(0x1db)](_0x183d6c[_0x198a9a(0x24f)],_0x2fd9cc['message']);}}async['setUpHubUrl'](){const _0x12cc77=a83_0x503e9d;return PerformanceTester[_0x12cc77(0x285)](PerformanceAutEvents[_0x12cc77(0x1d8)],async()=>{const _0x5739b7=_0x12cc77;await hubAllocator[_0x5739b7(0x246)](this[_0x5739b7(0x204)]);})();}async[a83_0x503e9d(0x1b0)](){const _0x4c9853=a83_0x503e9d,_0x129709={'QpiBo':function(_0x16d544,_0x53fb9e){return _0x16d544(_0x53fb9e);},'eQmIN':'../ai-sdk-node/bundle','nzhaA':function(_0x9f858c,_0x345630,_0x181db4,_0x57ad59,_0x94d6d2,_0x1f3cce,_0x5f0a84){return _0x9f858c(_0x345630,_0x181db4,_0x57ad59,_0x94d6d2,_0x1f3cce,_0x5f0a84);},'nhBhj':_0x4c9853(0x1f0),'aFtRb':_0x4c9853(0x23b),'OZIsz':_0x4c9853(0x2b2),'HkQbY':_0x4c9853(0x295),'JGlVa':function(_0x57e908,_0x2c01f1){return _0x57e908===_0x2c01f1;},'aopLS':_0x4c9853(0x275),'PDrqJ':function(_0x5ad967,_0x59b172){return _0x5ad967===_0x59b172;},'NqcxQ':_0x4c9853(0x1fb),'aWPMx':function(_0x4a867b,_0x4f8413){return _0x4a867b===_0x4f8413;},'BMhkK':'Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','WmwQe':_0x4c9853(0x21d),'JVStC':'Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','bjaEX':function(_0x516f00,_0xf0c303){return _0x516f00>=_0xf0c303;},'ZZIcY':function(_0x41f309,_0x161921){return _0x41f309<_0x161921;},'yhgDl':_0x4c9853(0x1d6),'MSDHx':'aiHeal:tcgAuth','QOOXq':function(_0x526b64){return _0x526b64();}},_0x14004f=PerformanceTester[_0x4c9853(0x285)](_0x129709[_0x4c9853(0x1f8)],async()=>{const _0x112221=_0x4c9853;try{const _0x56bca8=new Date(),_0x3ad992=helper[_0x112221(0x286)](this[_0x112221(0x204)]),_0x4ff750=_0x129709[_0x112221(0x206)](require,path['join'](__dirname,_0x129709[_0x112221(0x202)])),_0x58da8f=_0x129709[_0x112221(0x21a)](timeoutPromise,constants[_0x112221(0x27a)],_0x129709[_0x112221(0x226)],_0x129709[_0x112221(0x1bc)],_0x56bca8,this[_0x112221(0x204)],this[_0x112221(0x1ed)]),_0xf6834e={'tcgUrl':constants['TCG_URL'],'sdkVersion':_0x129709['QpiBo'](require,_0x129709[_0x112221(0x1bb)])[_0x112221(0x203)],'methodUsed':_0x129709[_0x112221(0x228)],'proxyConfig':_0x3ad992,'os':os[_0x112221(0x2a8)]()};if(_0x3ad992&&_0x3ad992[_0x112221(0x25f)]){utilities[_0x112221(0x25c)](constants[_0x112221(0x297)],_0xf6834e,this[_0x112221(0x204)],this[_0x112221(0x1ed)]);return;}const _0x4e62f8={};_0x4e62f8[_0x112221(0x254)]=_0x3ad992;const _0x3ebb54=await Promise[_0x112221(0x1c2)]([_0x4ff750['init'](this[_0x112221(0x204)][_0x112221(0x2a6)],this[_0x112221(0x204)][_0x112221(0x255)],constants[_0x112221(0x1dd)],_0x129709[_0x112221(0x206)](require,_0x129709[_0x112221(0x1bb)])[_0x112221(0x203)],_0x4e62f8)['then'](_0x3e3070=>{const _0x517459=_0x112221;return _0x58da8f[_0x517459(0x1b6)](),_0x3e3070;}),_0x58da8f]);_0x3ebb54[_0x112221(0x217)]=_0x129709[_0x112221(0x291)](_0x3ebb54[_0x112221(0x217)],_0x129709[_0x112221(0x1f2)])||_0x129709[_0x112221(0x1eb)](_0x3ebb54['isHealingEnabled'],!![]);const _0x8a7169=_0x129709[_0x112221(0x1eb)](this[_0x112221(0x204)][_0x112221(0x23e)],!![])||_0x129709[_0x112221(0x291)](this[_0x112221(0x204)][_0x112221(0x23e)],_0x129709[_0x112221(0x1f2)]);if(_0x129709[_0x112221(0x291)](_0x3ebb54[_0x112221(0x1f9)],constants['UPGRADE_REQUIRED'])&&_0x8a7169)logger[_0x112221(0x210)](_0x129709[_0x112221(0x250)]);else{if(!_0x3ebb54[_0x112221(0x28e)]&&_0x129709['aWPMx'](_0x3ebb54['status'],0x1f7)&&_0x8a7169)logger[_0x112221(0x210)](_0x129709[_0x112221(0x238)]),utilities['fireFunnelTestEvent'](constants[_0x112221(0x205)],_0xf6834e,this[_0x112221(0x204)],this[_0x112221(0x1ed)]);else{if(!_0x3ebb54[_0x112221(0x28e)]&&_0x8a7169){logger[_0x112221(0x210)](_0x129709[_0x112221(0x269)]);const _0x1b144e={'tcgUrl':constants[_0x112221(0x1dd)],'sdkVersion':_0x129709[_0x112221(0x206)](require,_0x129709['OZIsz'])['version'],'methodUsed':_0x129709[_0x112221(0x228)],'proxyConfig':_0x3ad992,'os':os[_0x112221(0x2a8)]()};utilities[_0x112221(0x25c)](constants[_0x112221(0x263)],_0x1b144e,this[_0x112221(0x204)],this[_0x112221(0x1ed)]);}else{if(_0x3ebb54[_0x112221(0x28e)]&&!_0x3ebb54[_0x112221(0x217)]&&_0x8a7169)logger[_0x112221(0x210)](_0x129709[_0x112221(0x1d1)]);else{if(_0x129709[_0x112221(0x2a0)](_0x3ebb54['status'],0xc8)&&_0x129709[_0x112221(0x284)](_0x3ebb54[_0x112221(0x288)],0x12c))utilities[_0x112221(0x25c)](constants[_0x112221(0x1f4)],_0xf6834e,this[_0x112221(0x204)],this[_0x112221(0x1ed)]);else{if(_0x129709[_0x112221(0x2a0)](_0x3ebb54[_0x112221(0x288)],0x190))_0xf6834e[_0x112221(0x288)]=_0x3ebb54[_0x112221(0x288)],utilities[_0x112221(0x25c)](constants[_0x112221(0x299)],_0xf6834e,this[_0x112221(0x204)],this[_0x112221(0x1ed)]);else!_0x3ebb54['status']&&utilities[_0x112221(0x25c)](constants['INVALID_INIT_RESP_WITH_USER_IMPACT'],_0xf6834e,this[_0x112221(0x204)],this[_0x112221(0x1ed)]);}}}}}if(_0x3ebb54['isAuthenticated']&&_0x3ebb54[_0x112221(0x217)]){const _0x22bcec={};_0x22bcec[_0x112221(0x28c)]=_0x3ebb54;const _0x2b1d29=_0x22bcec;_0x3ad992&&(_0x2b1d29[_0x112221(0x28a)]=_0x3ad992),_0x2b1d29[_0x112221(0x1ed)]=this[_0x112221(0x1ed)],_0x2b1d29[_0x112221(0x23f)]=this[_0x112221(0x204)],helper[_0x112221(0x1c1)](_0x2b1d29),logger[_0x112221(0x1ee)](_0x129709[_0x112221(0x2ad)]);}}catch(_0x409188){logger[_0x112221(0x1ee)](_0x112221(0x233)+(_0x409188[_0x112221(0x1f9)]?_0x409188[_0x112221(0x1f9)]:''));}});await _0x129709[_0x4c9853(0x27e)](_0x14004f);}['setupKeepAlive'](){const _0x26865f=a83_0x503e9d,_0x54a80f={'zHPPv':function(_0x147fa1,_0x8a2614){return _0x147fa1(_0x8a2614);},'cMURO':_0x26865f(0x216)};_0x54a80f[_0x26865f(0x241)](require,_0x54a80f[_0x26865f(0x212)])();}['handleExceptions'](){const _0x4bda3b=a83_0x503e9d,_0x2c968a={};_0x2c968a[_0x4bda3b(0x1df)]='unhandledRejection',_0x2c968a['QetkA']=_0x4bda3b(0x213);const _0x2e40e2=_0x2c968a,_0x57d7b8=_0x83e2a6=>{const _0x51e0ff=_0x4bda3b;logger[_0x51e0ff(0x1db)](_0x83e2a6[_0x51e0ff(0x1f9)]),logger[_0x51e0ff(0x1ee)](util['format'](_0x83e2a6)),this[_0x51e0ff(0x27d)][_0x51e0ff(0x1fd)](util[_0x51e0ff(0x1fc)]('%j',_0x83e2a6)),PerformanceTester[_0x51e0ff(0x1e1)](_0x83e2a6);};process['on'](_0x2e40e2[_0x4bda3b(0x1df)],_0x57d7b8),process['on'](_0x2e40e2[_0x4bda3b(0x2b0)],_0x57d7b8);}async[a83_0x503e9d(0x26f)](_0x5e39f3){const _0x59efd7=a83_0x503e9d,_0x26e3b1={};_0x26e3b1[_0x59efd7(0x23a)]=_0x59efd7(0x20d),_0x26e3b1[_0x59efd7(0x1fa)]=function(_0x3b9b2b,_0x1f24a0){return _0x3b9b2b+_0x1f24a0;},_0x26e3b1['sxYcq']=_0x59efd7(0x1ec),_0x26e3b1[_0x59efd7(0x1d5)]=function(_0xa03a70,_0x1bf865){return _0xa03a70+_0x1bf865;},_0x26e3b1[_0x59efd7(0x1e9)]=_0x59efd7(0x274);const _0x2d8812=_0x26e3b1,_0x3cef9d=_0x2d8812[_0x59efd7(0x23a)]['split']('|');let _0x8a1706=0x0;while(!![]){switch(_0x3cef9d[_0x8a1706++]){case'0':await TestHubHandler[_0x59efd7(0x20e)](_0x5e39f3);continue;case'1':fileLogger&&fileLogger[_0x59efd7(0x1f6)]();continue;case'2':if(this[_0x2d8812[_0x59efd7(0x1fa)](_0x2d8812['sxYcq'],_0x5e39f3)])return;continue;case'3':this[_0x59efd7(0x29b)]=_0x5e39f3;continue;case'4':await BrowserstackCLI[_0x59efd7(0x22b)]()[_0x59efd7(0x20e)]();continue;case'5':this[_0x2d8812['vIJaV'](_0x2d8812[_0x59efd7(0x2ac)],_0x5e39f3)]=!![];continue;case'6':logger[_0x59efd7(0x210)](_0x2d8812['nVBED'](_0x2d8812[_0x59efd7(0x1e9)],_0x5e39f3));continue;case'7':logger&&logger['close']();continue;}break;}}['exitHandler'](){const _0x426d3f=a83_0x503e9d,_0x262ba1={'ReEYY':function(_0x23cc6e,_0x48d71a){return _0x23cc6e===_0x48d71a;},'tYjiG':_0x426d3f(0x1f1),'IvQdY':function(_0x4569ae,_0x5f1b18){return _0x4569ae>_0x5f1b18;},'hNyWu':function(_0x43c757){return _0x43c757();},'QYMEE':_0x426d3f(0x1b7)};let _0x25d69c=0x0;return async()=>{const _0x52e134=_0x426d3f;_0x25d69c++;if(_0x262ba1['ReEYY'](_0x25d69c,0x1)){helper[_0x52e134(0x223)](this['framework'])&&await this['stopBrowserstackLocal']();try{logger['debug'](_0x262ba1[_0x52e134(0x237)]),await TestHubHandler[_0x52e134(0x20e)](_0x25d69c),await BrowserstackCLI['getInstance']()['stop']('1');}catch(_0x2ffafe){logger['debug']('Error\x20in\x20sending\x20testhub\x20stop:\x20'+util[_0x52e134(0x1fc)](_0x2ffafe));}PerformanceTester[_0x52e134(0x2b1)](PerformanceEvents[_0x52e134(0x1e2)]);if(PerformanceTester['isEnabled']()){const {measures:_0x15ab56,errors:_0x3ca6f0}=await PerformanceTester['finalize'](),_0x597afe={};if(_0x15ab56&&_0x262ba1[_0x52e134(0x26d)](_0x15ab56[_0x52e134(0x29e)],0x0)||_0x3ca6f0&&_0x262ba1['IvQdY'](_0x3ca6f0[_0x52e134(0x29e)],0x0)){const _0x17890e={};_0x17890e[_0x52e134(0x244)]=_0x15ab56,_0x17890e[_0x52e134(0x289)]=_0x3ca6f0,Object['assign'](_0x597afe,_0x17890e);}try{const _0x44b5db=await helper[_0x52e134(0x2ab)](_0x597afe,this['config']);logger[_0x52e134(0x1ee)](_0x52e134(0x282)+constants[_0x52e134(0x283)]+_0x52e134(0x281)+_0x44b5db['statusCode']);}catch(_0x115dfd){logger[_0x52e134(0x1ee)](_0x52e134(0x247)+constants[_0x52e134(0x283)]+_0x52e134(0x277)+util[_0x52e134(0x1fc)](_0x115dfd));}try{fs['writeFileSync'](path['join'](_0x262ba1[_0x52e134(0x252)](getLogDir),_0x262ba1['QYMEE']),JSON['stringify'](_0x597afe));}catch(_0x4b7690){logger[_0x52e134(0x1ee)](_0x52e134(0x294)+_0x4b7690);}}}};}}exports[a83_0x503e9d(0x1e0)]=BrowserStackSetup;