const a55_0x28350c=a55_0x1c1b;(function(_0x3b002d,_0x4471d9){const _0xbf37ef=a55_0x1c1b,_0x1a1602=_0x3b002d();while(!![]){try{const _0xfc3fa3=parseInt(_0xbf37ef(0x119))/0x1+parseInt(_0xbf37ef(0x1a4))/0x2*(-parseInt(_0xbf37ef(0x1f8))/0x3)+parseInt(_0xbf37ef(0x132))/0x4*(-parseInt(_0xbf37ef(0x1d4))/0x5)+-parseInt(_0xbf37ef(0x1a9))/0x6+parseInt(_0xbf37ef(0x18f))/0x7*(-parseInt(_0xbf37ef(0x179))/0x8)+-parseInt(_0xbf37ef(0x129))/0x9*(parseInt(_0xbf37ef(0x1ce))/0xa)+-parseInt(_0xbf37ef(0x198))/0xb*(-parseInt(_0xbf37ef(0x106))/0xc);if(_0xfc3fa3===_0x4471d9)break;else _0x1a1602['push'](_0x1a1602['shift']());}catch(_0x244721){_0x1a1602['push'](_0x1a1602['shift']());}}}(a55_0x5940,0x4c5a2));function a55_0x1c1b(_0x3f4312,_0x23ffa9){const _0x594024=a55_0x5940();return a55_0x1c1b=function(_0x1c1b2c,_0x2ab9fe){_0x1c1b2c=_0x1c1b2c-0xf9;let _0x3ebabc=_0x594024[_0x1c1b2c];return _0x3ebabc;},a55_0x1c1b(_0x3f4312,_0x23ffa9);}const util=require('util'),os=require('os'),path=require('path'),{v4:uuidv4}=require(a55_0x28350c(0x101)),fs=require('fs'),constants=require('../bin/utils/constants'),{isTurboScaleSession}=require(a55_0x28350c(0x161)),logger=require(a55_0x28350c(0x1f6))[a55_0x28350c(0x16c)],helper=require('./helper'),utilities=require(a55_0x28350c(0x116)),percyHelper=require(a55_0x28350c(0x118)),hubAllocator=require(a55_0x28350c(0x1b1)),PerformanceTester=require(a55_0x28350c(0x100)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require(a55_0x28350c(0x123)),{setPercyFlag}=require(a55_0x28350c(0x19c)),TestHubHandler=require(a55_0x28350c(0x1d9)),timeoutPromise=require(a55_0x28350c(0x1fa));class BrowserStackSetup{constructor(_0x20aa6a,_0x33f6de){const _0x1cbfd4=a55_0x28350c,_0x367f70={'FAxKE':_0x1cbfd4(0x150),'CzUMR':'beforeExit','sfctS':_0x1cbfd4(0x141),'YbsOn':function(_0x4e905d){return _0x4e905d();},'hARCW':function(_0x3bae02,_0x4608da){return _0x3bae02!==_0x4608da;},'gwLle':_0x1cbfd4(0x1a6),'pkeOA':_0x1cbfd4(0x153),'jXOoL':_0x1cbfd4(0x184),'mfExc':_0x1cbfd4(0x14f),'Aopsy':function(_0x4f184e,_0xea053f){return _0x4f184e===_0xea053f;},'okXyi':_0x1cbfd4(0x103),'EXwtY':_0x1cbfd4(0x102),'eXciU':function(_0xf5532c,_0x4c274a){return _0xf5532c===_0x4c274a;},'WUCIZ':_0x1cbfd4(0x1c7),'kLSgq':_0x1cbfd4(0x10c),'OYeBz':_0x1cbfd4(0x117),'xvQzo':_0x1cbfd4(0x159),'HdHQX':_0x1cbfd4(0x1c6),'yvRQI':'SIGINT','NHSkb':function(_0x15a8f9,_0x412acd){return _0x15a8f9<_0x412acd;},'zUxHl':function(_0x11b6cc,_0xc0b135){return _0x11b6cc(_0xc0b135);},'TElzE':'selenium-webdriver','cCvbG':_0x1cbfd4(0x1bd)},_0x472552=_0x367f70[_0x1cbfd4(0x1b6)][_0x1cbfd4(0x108)]('|');let _0x1ee6df=0x0;while(!![]){switch(_0x472552[_0x1ee6df++]){case'0':this['config'][_0x1cbfd4(0x166)]=this[_0x1cbfd4(0x1a5)][_0x1cbfd4(0x166)]||{};continue;case'1':this['config'][_0x1cbfd4(0x162)][_0x1cbfd4(0x1cc)]=helper[_0x1cbfd4(0x1f2)](this[_0x1cbfd4(0x1a5)]['browserStackLocalOptions'][_0x1cbfd4(0x1cc)]);continue;case'2':process['on'](_0x367f70[_0x1cbfd4(0x13e)],this['exitHandler']());continue;case'3':this['config'][_0x1cbfd4(0x175)]=this[_0x1cbfd4(0x1a5)][_0x1cbfd4(0x175)]||[];continue;case'4':helper[_0x1cbfd4(0x110)](this[_0x1cbfd4(0x1a5)],this['cliConfig'],this[_0x1cbfd4(0x144)]);continue;case'5':process['on'](_0x367f70[_0x1cbfd4(0x139)],this['intExitHandler']);continue;case'6':this['framework']=_0x33f6de;continue;case'7':!this[_0x1cbfd4(0x1a5)][_0x1cbfd4(0x166)]&&(this['config'][_0x1cbfd4(0x166)]={});continue;case'8':this[_0x1cbfd4(0x1a5)]=helper[_0x1cbfd4(0x185)](helper[_0x1cbfd4(0x15f)](_0x20aa6a));continue;case'9':this['sdkRunID']=_0x367f70[_0x1cbfd4(0x194)](uuidv4);continue;case'10':global[_0x1cbfd4(0x181)]=_0x33f6de;continue;case'11':this[_0x1cbfd4(0x12c)]=this[_0x1cbfd4(0x12c)][_0x1cbfd4(0x1be)](this);continue;case'12':_0x367f70['hARCW'](process[_0x1cbfd4(0x155)],_0x367f70['gwLle'])?(process['on'](_0x367f70[_0x1cbfd4(0x13b)],this['intExitHandler']),process['on'](_0x367f70[_0x1cbfd4(0x18b)],this[_0x1cbfd4(0x12c)])):process['on'](_0x367f70[_0x1cbfd4(0x10d)],this[_0x1cbfd4(0x12c)]);continue;case'13':global['sdkRunID']=this[_0x1cbfd4(0xfa)];continue;case'14':helper[_0x1cbfd4(0x17f)](this['config']);continue;case'15':helper[_0x1cbfd4(0x1cf)](this[_0x1cbfd4(0x1a5)])&&helper[_0x1cbfd4(0x14c)](helper['getLocalIdentifier'](this[_0x1cbfd4(0x1a5)]))&&(!helper[_0x1cbfd4(0x14c)](this['config']['browserStackLocalOptions'])&&_0x367f70['Aopsy'](this[_0x1cbfd4(0x1a5)][_0x1cbfd4(0x162)][_0x1cbfd4(0x1aa)],Object)?!helper['isTrue'](this['config'][_0x1cbfd4(0x162)][_0x1cbfd4(0x1cc)])&&(this['config'][_0x1cbfd4(0x162)][_0x1cbfd4(0x131)]=helper[_0x1cbfd4(0x1d0)]()):this[_0x1cbfd4(0x1a5)][_0x1cbfd4(0x162)]={'localIdentifier':helper[_0x1cbfd4(0x1d0)]()});continue;case'16':helper[_0x1cbfd4(0x149)](this[_0x1cbfd4(0x1a5)],this[_0x1cbfd4(0x16d)],this['envConfig']);continue;case'17':if(helper[_0x1cbfd4(0x14c)](this['config']))throw new Error(_0x367f70[_0x1cbfd4(0x11f)]);continue;case'18':!this['config'][_0x1cbfd4(0x1f5)]&&logger[_0x1cbfd4(0x1f3)](constants[_0x1cbfd4(0x1fc)]);continue;case'19':if(!helper['isBrowserstackInfra']()){try{process['env'][_0x1cbfd4(0x199)]=_0x33f6de,utilities[_0x1cbfd4(0x146)](_0x367f70['EXwtY'],{},this[_0x1cbfd4(0x1a5)],this[_0x1cbfd4(0x181)]);}catch(_0x2c51d9){logger[_0x1cbfd4(0x1e0)]('Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20'+_0x2c51d9);}return;}continue;case'20':global[_0x1cbfd4(0x1a5)]=this['config'];continue;case'21':helper[_0x1cbfd4(0x196)](this['config']);continue;case'22':if(_0x367f70[_0x1cbfd4(0x11e)](_0x33f6de,_0x367f70['WUCIZ']))return;continue;case'23':this[_0x1cbfd4(0x14d)]=null;continue;case'24':this[_0x1cbfd4(0x15a)]=[];continue;case'25':logger['info']('SDK\x20run\x20started\x20with\x20id:\x20'+this[_0x1cbfd4(0xfa)]);continue;case'26':this[_0x1cbfd4(0x16d)]=helper[_0x1cbfd4(0x18e)](_0x20aa6a);continue;case'27':if(helper[_0x1cbfd4(0x14c)](helper[_0x1cbfd4(0x124)](this['config']))||helper[_0x1cbfd4(0x14c)](helper['getAccessKey'](this[_0x1cbfd4(0x1a5)])))throw new Error(_0x367f70['kLSgq']);continue;case'28':(helper[_0x1cbfd4(0x14c)](this[_0x1cbfd4(0x1a5)][_0x1cbfd4(0x175)])||helper[_0x1cbfd4(0x14c)](this[_0x1cbfd4(0x1a5)][_0x1cbfd4(0x175)][_0x1cbfd4(0x11b)]))&&(helper['isUndefined'](this['config'][_0x1cbfd4(0x1f7)])?logger[_0x1cbfd4(0x1f3)](_0x367f70[_0x1cbfd4(0x15c)]):logger[_0x1cbfd4(0x1f1)](_0x367f70[_0x1cbfd4(0x1b2)]),this[_0x1cbfd4(0x1a5)][_0x1cbfd4(0x175)]=[]);continue;case'29':process['on'](_0x367f70[_0x1cbfd4(0x19e)],this[_0x1cbfd4(0x12c)]);continue;case'30':this[_0x1cbfd4(0x1a5)]['testContextOptions'][_0x1cbfd4(0x182)]=!helper[_0x1cbfd4(0x112)]()||helper[_0x1cbfd4(0x1f2)](this['config'][_0x1cbfd4(0x166)]['skipSessionName']);continue;case'31':this[_0x1cbfd4(0x1c2)]();continue;case'32':this[_0x1cbfd4(0x144)]=helper[_0x1cbfd4(0x1ec)]();continue;case'33':process['on'](_0x367f70[_0x1cbfd4(0x1e7)],this[_0x1cbfd4(0x12c)]);continue;case'34':helper[_0x1cbfd4(0xfd)](_0x33f6de)&&(_0x367f70[_0x1cbfd4(0x156)](_0x367f70[_0x1cbfd4(0x1d3)](parseInt,helper[_0x1cbfd4(0x12a)](_0x367f70[_0x1cbfd4(0x19a)])),0x3)&&(this[_0x1cbfd4(0x1a5)]['useW3C']=![]),_0x367f70[_0x1cbfd4(0x11e)](helper['compareVersions'](helper[_0x1cbfd4(0x12a)](_0x367f70[_0x1cbfd4(0x19a)]),_0x367f70[_0x1cbfd4(0x1af)]),0x1)&&(this[_0x1cbfd4(0x1a5)][_0x1cbfd4(0x17c)]=!![]));continue;case'35':helper[_0x1cbfd4(0x160)](this[_0x1cbfd4(0x1a5)],this[_0x1cbfd4(0x16d)]);continue;case'36':this[_0x1cbfd4(0x176)]=null;continue;case'37':this[_0x1cbfd4(0x19d)]=null;continue;case'38':this['errorMessage']={};continue;case'39':try{process[_0x1cbfd4(0x172)]['FRAMEWORK']=_0x20aa6a['_'][0x0],utilities[_0x1cbfd4(0x146)](_0x367f70['EXwtY'],{},this[_0x1cbfd4(0x1a5)],this[_0x1cbfd4(0x181)]);}catch(_0x22b7b9){logger[_0x1cbfd4(0x1e0)](_0x1cbfd4(0x174)+_0x22b7b9);}continue;case'40':this[_0x1cbfd4(0x1a5)][_0x1cbfd4(0x166)][_0x1cbfd4(0x1ea)]=!helper[_0x1cbfd4(0x112)]()||helper[_0x1cbfd4(0x1f2)](this[_0x1cbfd4(0x1a5)]['testContextOptions'][_0x1cbfd4(0x1ea)]);continue;case'41':process[_0x1cbfd4(0x172)][_0x1cbfd4(0x1bc)]&&(this['config'][_0x1cbfd4(0x19f)]=helper[_0x1cbfd4(0x1f2)](process['env'][_0x1cbfd4(0x1bc)]),this[_0x1cbfd4(0x1a5)][_0x1cbfd4(0x1b3)]=this[_0x1cbfd4(0x1a5)][_0x1cbfd4(0x1b3)]||{});continue;case'42':!this['config'][_0x1cbfd4(0x162)]&&(this[_0x1cbfd4(0x1a5)][_0x1cbfd4(0x162)]=this['config'][_0x1cbfd4(0x12f)]||{});continue;case'43':if(this[_0x1cbfd4(0x1a5)][_0x1cbfd4(0x115)])throw new Error(this[_0x1cbfd4(0x1a5)][_0x1cbfd4(0x115)]);continue;}break;}}async['initialize'](){const _0x42ea69=a55_0x28350c,_0x38801f={'FxIzp':function(_0xf731fc,_0x124644){return _0xf731fc(_0x124644);},'yvGcl':_0x42ea69(0x120),'bRETj':_0x42ea69(0x1d6),'biltj':_0x42ea69(0x17e),'FgiGd':function(_0x18aae,_0x45f13b){return _0x18aae===_0x45f13b;},'zWmsN':_0x42ea69(0x16e),'pnyIE':function(_0x1bfc61,_0xf2ad1b){return _0x1bfc61+_0xf2ad1b;},'DnvkH':'?caps=','VfhZy':function(_0x3d0a36,_0x3ea5a9){return _0x3d0a36(_0x3ea5a9);},'LXbOD':_0x42ea69(0x192),'MLvyd':function(_0xa90b57,_0x514938){return _0xa90b57(_0x514938);}};if(_0x38801f[_0x42ea69(0x1a8)](isTurboScaleSession,this[_0x42ea69(0x1a5)])){const _0x178554=await helper[_0x42ea69(0x158)](this[_0x42ea69(0x1a5)]);this[_0x42ea69(0x1a5)][_0x42ea69(0x137)]=_0x178554,_0x178554[_0x42ea69(0x130)]&&(this[_0x42ea69(0x1a5)][_0x42ea69(0x14d)]=!![],this['config']['browserStackLocalOptions']['localIdentifier']=_0x38801f['yvGcl'],this['config'][_0x42ea69(0x162)][_0x38801f[_0x42ea69(0x135)]]=_0x178554[_0x42ea69(0x1f0)][_0x42ea69(0x1e2)](','),this[_0x42ea69(0x1a5)][_0x42ea69(0x162)][_0x42ea69(0x169)]=_0x38801f[_0x42ea69(0x126)]),this[_0x42ea69(0x1a5)][_0x42ea69(0x1a7)]=_0x178554['url'],this[_0x42ea69(0x181)]&&_0x38801f[_0x42ea69(0x10f)](this['framework'][_0x42ea69(0x1fb)](),_0x38801f['zWmsN'])&&(this[_0x42ea69(0x1a5)][_0x42ea69(0x1a7)]=_0x38801f[_0x42ea69(0x1e1)](_0x178554['playwrightUrl'],_0x38801f[_0x42ea69(0x1d5)])),constants[_0x42ea69(0x140)]=helper[_0x42ea69(0x12d)](this[_0x42ea69(0x1a5)]),logger['debug'](_0x42ea69(0x1ee)+constants['hubUrl']);}helper[_0x42ea69(0xff)](this[_0x42ea69(0x1a5)]),this[_0x42ea69(0x18d)](),_0x38801f[_0x42ea69(0x1a1)](setPercyFlag,this),await this[_0x42ea69(0x128)](),![_0x38801f[_0x42ea69(0x121)]]['includes'](this[_0x42ea69(0x181)])&&!_0x38801f[_0x42ea69(0x1e4)](isTurboScaleSession,this[_0x42ea69(0x1a5)])&&!helper[_0x42ea69(0x148)]()['central_scanner']&&await this[_0x42ea69(0x1c9)]();}async[a55_0x28350c(0x133)](){const _0x3c7bf9=a55_0x28350c,_0x1aa3fb={};_0x1aa3fb[_0x3c7bf9(0x1ba)]=function(_0x1c0167,_0x2ad14c){return _0x1c0167===_0x2ad14c;},_0x1aa3fb['hjFoG']='false',_0x1aa3fb['aZxIg']=_0x3c7bf9(0x11d),_0x1aa3fb[_0x3c7bf9(0x14e)]=_0x3c7bf9(0x1d2),_0x1aa3fb['mcDje']=_0x3c7bf9(0x17e),_0x1aa3fb[_0x3c7bf9(0x1a0)]='beforeExit';const _0x50002c=_0x1aa3fb;if(helper['isTrue'](this['config'][_0x3c7bf9(0x176)])&&(!this['percy']||!this[_0x3c7bf9(0x176)][_0x3c7bf9(0x1b0)]()))try{this['percy']=await percyHelper['startPercy'](this[_0x3c7bf9(0x1a5)]);if(!this['percy']){process[_0x3c7bf9(0x172)]['BROWSERSTACK_PERCY']=_0x50002c['hjFoG'];throw new Error(_0x50002c[_0x3c7bf9(0xfb)]);}logger['info'](_0x50002c[_0x3c7bf9(0x14e)]),process[_0x3c7bf9(0x172)][_0x3c7bf9(0x1b7)]=_0x50002c['mcDje'];let _0x338425=0x0;const _0x216844=async()=>{const _0x48f738=_0x3c7bf9;_0x338425++,_0x50002c[_0x48f738(0x1ba)](_0x338425,0x1)&&await this[_0x48f738(0x1ad)]();};process['on'](_0x50002c[_0x3c7bf9(0x1a0)],_0x216844);}catch(_0x4dd128){process[_0x3c7bf9(0x172)][_0x3c7bf9(0x1b7)]=_0x50002c[_0x3c7bf9(0x1ed)],logger['debug'](_0x3c7bf9(0x1b8)+_0x4dd128);throw new Error(_0x4dd128[_0x3c7bf9(0x1ae)]());}}async[a55_0x28350c(0x1ad)](){const _0x587a2c=a55_0x28350c,_0x2a1cae={};_0x2a1cae[_0x587a2c(0x17b)]=_0x587a2c(0x191),_0x2a1cae[_0x587a2c(0x138)]=_0x587a2c(0x125);const _0x4abea3=_0x2a1cae;if(this[_0x587a2c(0x176)]&&this['percy'][_0x587a2c(0x1b0)]())try{await percyHelper[_0x587a2c(0x1ad)](this[_0x587a2c(0x176)]),logger[_0x587a2c(0x1f3)](_0x4abea3[_0x587a2c(0x17b)]);}catch(_0x15e006){logger['error'](_0x4abea3[_0x587a2c(0x138)],_0x15e006[_0x587a2c(0x188)]);}}async[a55_0x28350c(0x128)](){const _0x424028=a55_0x28350c,_0x420c69={};_0x420c69[_0x424028(0x10a)]=_0x424028(0x1f4),_0x420c69['tmvlb']='Local\x20binary\x20started\x20successfully';const _0x25b63a=_0x420c69;if(helper[_0x424028(0x112)]()&&helper[_0x424028(0x1f2)](this[_0x424028(0x1a5)]['browserstackLocal'])&&(!this[_0x424028(0x14d)]||!this[_0x424028(0x14d)][_0x424028(0x1b0)]()))try{if(this[_0x424028(0x1a5)][_0x424028(0x162)][_0x424028(0x1cc)]){logger[_0x424028(0x1e0)](_0x25b63a['DblXE']);return;}this[_0x424028(0x14d)]=await helper['startLocalBinary'](this[_0x424028(0x1a5)]),logger['info'](_0x25b63a[_0x424028(0x15d)]);}catch(_0x45b317){logger[_0x424028(0x1e0)](_0x45b317);throw new Error(_0x45b317[_0x424028(0x1ae)]());}}async['stopBrowserstackLocal'](){const _0x376e97=a55_0x28350c,_0x172ce3={};_0x172ce3[_0x376e97(0x1d7)]=_0x376e97(0x151),_0x172ce3[_0x376e97(0x122)]=_0x376e97(0x11c);const _0x28d405=_0x172ce3;if(this[_0x376e97(0x14d)]&&this[_0x376e97(0x14d)]['isRunning']())try{await helper[_0x376e97(0x16f)](this[_0x376e97(0x14d)]),logger[_0x376e97(0x1f3)](_0x28d405[_0x376e97(0x1d7)]);}catch(_0xeccb8){logger[_0x376e97(0x115)](_0x28d405[_0x376e97(0x122)],_0xeccb8['message']);}}async[a55_0x28350c(0x1c9)](){const _0x246e7d=a55_0x28350c;return PerformanceTester[_0x246e7d(0x167)](PerformanceAutEvents[_0x246e7d(0x14a)],async()=>{const _0xe9c7e3=_0x246e7d;await hubAllocator[_0xe9c7e3(0x186)](this[_0xe9c7e3(0x1a5)]);})();}async[a55_0x28350c(0x1f9)](){const _0x4a284a=a55_0x28350c,_0x58e99b={'UheIO':function(_0x2b51d7,_0x3739a9){return _0x2b51d7(_0x3739a9);},'uxBKH':_0x4a284a(0x12b),'boZEI':function(_0x2623b0,_0x59d05a,_0xf34e88,_0x309744,_0x2a1f35,_0x4f4289,_0x137ba4){return _0x2623b0(_0x59d05a,_0xf34e88,_0x309744,_0x2a1f35,_0x4f4289,_0x137ba4);},'xPSda':_0x4a284a(0x1da),'XYwki':_0x4a284a(0xfc),'uaKVT':function(_0x247496,_0x5eac57){return _0x247496(_0x5eac57);},'zBIuR':_0x4a284a(0x164),'DFBfb':_0x4a284a(0xfe),'dQlhL':function(_0x425ae3,_0x515519){return _0x425ae3===_0x515519;},'ZCrlX':_0x4a284a(0x17e),'OsJRG':'Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','RMAcF':function(_0x59edcf,_0x25a287){return _0x59edcf===_0x25a287;},'Hexgo':_0x4a284a(0x114),'cwsLA':'Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','qsYfq':_0x4a284a(0x178),'QbuHo':function(_0x83b85c,_0x181395){return _0x83b85c>=_0x181395;},'LUSws':function(_0x344e65,_0xff4b42){return _0x344e65<_0xff4b42;},'MCEGZ':_0x4a284a(0x18c),'lKBZe':'aiHeal:tcgAuth','aDhdf':function(_0x33c874){return _0x33c874();}},_0x161ff6=PerformanceTester[_0x4a284a(0x167)](_0x58e99b['lKBZe'],async()=>{const _0x33ab39=_0x4a284a;try{const _0x28e42e=new Date(),_0x1d2152=helper['getProxyConfigForTcg'](this[_0x33ab39(0x1a5)]),_0x2f05ba=_0x58e99b[_0x33ab39(0x1a3)](require,path[_0x33ab39(0x1e2)](__dirname,_0x58e99b[_0x33ab39(0x105)])),_0x11967e=_0x58e99b[_0x33ab39(0x183)](timeoutPromise,constants[_0x33ab39(0x12e)],_0x58e99b[_0x33ab39(0x187)],_0x58e99b[_0x33ab39(0x1e5)],_0x28e42e,this[_0x33ab39(0x1a5)],this[_0x33ab39(0x181)]),_0x4bfc3c={'tcgUrl':constants['TCG_URL'],'sdkVersion':_0x58e99b['uaKVT'](require,_0x58e99b[_0x33ab39(0x14b)])['version'],'methodUsed':_0x58e99b[_0x33ab39(0x113)],'proxyConfig':_0x1d2152,'os':os['platform']()};if(_0x1d2152&&_0x1d2152[_0x33ab39(0x15b)]){utilities['fireFunnelTestEvent'](constants[_0x33ab39(0x111)],_0x4bfc3c,this[_0x33ab39(0x1a5)],this[_0x33ab39(0x181)]);return;}const _0x4934d0={};_0x4934d0[_0x33ab39(0x1c4)]=_0x1d2152;const _0xf64119=await Promise[_0x33ab39(0x1c8)]([_0x2f05ba[_0x33ab39(0x1e9)](this[_0x33ab39(0x1a5)][_0x33ab39(0x163)],this['config'][_0x33ab39(0x1e6)],constants['TCG_URL'],_0x58e99b[_0x33ab39(0x10b)](require,_0x58e99b[_0x33ab39(0x14b)])[_0x33ab39(0x189)],_0x4934d0)[_0x33ab39(0x107)](_0x5eabfb=>{const _0x15c88f=_0x33ab39;return _0x11967e[_0x15c88f(0x1d1)](),_0x5eabfb;}),_0x11967e]);_0xf64119[_0x33ab39(0x16b)]=_0x58e99b[_0x33ab39(0x17a)](_0xf64119[_0x33ab39(0x16b)],_0x58e99b[_0x33ab39(0x134)])||_0x58e99b[_0x33ab39(0x17a)](_0xf64119[_0x33ab39(0x16b)],!![]);const _0x190d59=_0x58e99b[_0x33ab39(0x17a)](this[_0x33ab39(0x1a5)][_0x33ab39(0x195)],!![])||_0x58e99b[_0x33ab39(0x17a)](this[_0x33ab39(0x1a5)]['selfHeal'],_0x58e99b[_0x33ab39(0x134)]);if(_0x58e99b['dQlhL'](_0xf64119[_0x33ab39(0x188)],constants[_0x33ab39(0x1cd)])&&_0x190d59)logger['info'](_0x58e99b['OsJRG']);else{if(!_0xf64119[_0x33ab39(0x13c)]&&_0x58e99b[_0x33ab39(0x1db)](_0xf64119[_0x33ab39(0x136)],0x1f7)&&_0x190d59)logger[_0x33ab39(0x1f3)](_0x58e99b[_0x33ab39(0x1eb)]),utilities[_0x33ab39(0x146)](constants[_0x33ab39(0x152)],_0x4bfc3c,this[_0x33ab39(0x1a5)],this['framework']);else{if(!_0xf64119[_0x33ab39(0x13c)]&&_0x190d59){logger[_0x33ab39(0x1f3)](_0x58e99b[_0x33ab39(0x1dd)]);const _0x4d2fd7={'tcgUrl':constants[_0x33ab39(0x10e)],'sdkVersion':_0x58e99b['uaKVT'](require,_0x58e99b['zBIuR'])[_0x33ab39(0x189)],'methodUsed':_0x58e99b[_0x33ab39(0x113)],'proxyConfig':_0x1d2152,'os':os['platform']()};utilities['fireFunnelTestEvent'](constants[_0x33ab39(0x1dc)],_0x4d2fd7,this[_0x33ab39(0x1a5)],this[_0x33ab39(0x181)]);}else{if(_0xf64119['isAuthenticated']&&!_0xf64119[_0x33ab39(0x16b)]&&_0x190d59)logger[_0x33ab39(0x1f3)](_0x58e99b['qsYfq']);else{if(_0x58e99b['QbuHo'](_0xf64119[_0x33ab39(0x136)],0xc8)&&_0x58e99b[_0x33ab39(0x127)](_0xf64119[_0x33ab39(0x136)],0x12c))utilities[_0x33ab39(0x146)](constants[_0x33ab39(0x1b5)],_0x4bfc3c,this[_0x33ab39(0x1a5)],this[_0x33ab39(0x181)]);else{if(_0x58e99b[_0x33ab39(0x1b9)](_0xf64119['status'],0x190))_0x4bfc3c[_0x33ab39(0x136)]=_0xf64119[_0x33ab39(0x136)],utilities['fireFunnelTestEvent'](constants['AI_INIT_FAILURE'],_0x4bfc3c,this[_0x33ab39(0x1a5)],this[_0x33ab39(0x181)]);else!_0xf64119['status']&&utilities[_0x33ab39(0x146)](constants[_0x33ab39(0x1d8)],_0x4bfc3c,this[_0x33ab39(0x1a5)],this[_0x33ab39(0x181)]);}}}}}if(_0xf64119[_0x33ab39(0x13c)]&&_0xf64119['isHealingEnabled']){const _0xb7e38c={};_0xb7e38c[_0x33ab39(0x1cb)]=_0xf64119;const _0x51b44f=_0xb7e38c;_0x1d2152&&(_0x51b44f[_0x33ab39(0x145)]=_0x1d2152),_0x51b44f[_0x33ab39(0x181)]=this[_0x33ab39(0x181)],_0x51b44f[_0x33ab39(0x1c3)]=this['config'],helper['setupTcgConfigFile'](_0x51b44f),logger[_0x33ab39(0x1e0)](_0x58e99b['MCEGZ']);}}catch(_0x6610b){logger[_0x33ab39(0x1e0)]('Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20'+(_0x6610b[_0x33ab39(0x188)]?_0x6610b[_0x33ab39(0x188)]:''));}});await _0x58e99b['aDhdf'](_0x161ff6);}[a55_0x28350c(0x18d)](){const _0x5c6080=a55_0x28350c,_0x421ccc={'gZIKD':function(_0x165ec3,_0x4f132e){return _0x165ec3(_0x4f132e);},'CrDzI':_0x5c6080(0x11a)};_0x421ccc[_0x5c6080(0x168)](require,_0x421ccc[_0x5c6080(0x157)])();}[a55_0x28350c(0x1c2)](){const _0x3653e7=a55_0x28350c,_0x33c6c2={};_0x33c6c2[_0x3653e7(0x1c1)]=_0x3653e7(0x170),_0x33c6c2[_0x3653e7(0x109)]=_0x3653e7(0x1ef);const _0x2452f6=_0x33c6c2,_0x187eb9=_0x5e8b87=>{const _0x18ba09=_0x3653e7;logger[_0x18ba09(0x115)](_0x5e8b87[_0x18ba09(0x188)]),logger[_0x18ba09(0x1e0)](util[_0x18ba09(0x1e3)](_0x5e8b87)),this[_0x18ba09(0x15a)][_0x18ba09(0x1b4)](util[_0x18ba09(0x1e3)]('%j',_0x5e8b87)),PerformanceTester[_0x18ba09(0x147)](_0x5e8b87);};process['on'](_0x2452f6[_0x3653e7(0x1c1)],_0x187eb9),process['on'](_0x2452f6[_0x3653e7(0x109)],_0x187eb9);}async[a55_0x28350c(0x12c)](_0x1043c3){const _0x55cfa4=a55_0x28350c,_0x4dfa8a={};_0x4dfa8a['WrRJU']=_0x55cfa4(0x1c5),_0x4dfa8a[_0x55cfa4(0x13d)]=function(_0x524ba0,_0x4bf335){return _0x524ba0+_0x4bf335;},_0x4dfa8a['WrFjY']=_0x55cfa4(0x1ca),_0x4dfa8a[_0x55cfa4(0x1c0)]=function(_0x31b7bb,_0x519451){return _0x31b7bb+_0x519451;},_0x4dfa8a['CGCLI']=_0x55cfa4(0x165);const _0x4a1f56=_0x4dfa8a,_0x20d35a=_0x4a1f56[_0x55cfa4(0x177)][_0x55cfa4(0x108)]('|');let _0x5c6250=0x0;while(!![]){switch(_0x20d35a[_0x5c6250++]){case'0':await TestHubHandler[_0x55cfa4(0x104)](_0x1043c3);continue;case'1':this[_0x55cfa4(0x19d)]=_0x1043c3;continue;case'2':logger['info'](_0x4a1f56[_0x55cfa4(0x13d)](_0x4a1f56[_0x55cfa4(0x1ac)],_0x1043c3));continue;case'3':if(this[_0x4a1f56[_0x55cfa4(0x1c0)](_0x4a1f56[_0x55cfa4(0x190)],_0x1043c3)])return;continue;case'4':this[_0x4a1f56['xlpMa'](_0x4a1f56['CGCLI'],_0x1043c3)]=!![];continue;}break;}}[a55_0x28350c(0x197)](){const _0x25e283=a55_0x28350c,_0x3669c0={};_0x3669c0['ZFWcy']=function(_0x45f108,_0x1a547b){return _0x45f108===_0x1a547b;},_0x3669c0['VSnLH']=_0x25e283(0x171),_0x3669c0[_0x25e283(0x180)]=function(_0x20e67e,_0x16c0e4){return _0x20e67e>_0x16c0e4;},_0x3669c0['pwjqI']=_0x25e283(0x173);const _0x157e82=_0x3669c0;let _0x5dc354=0x0;return async()=>{const _0x3df7c3=_0x25e283;_0x5dc354++;if(_0x157e82[_0x3df7c3(0x193)](_0x5dc354,0x1)){helper['checkStopLocalBinaryOnExit'](this['framework'])&&await this[_0x3df7c3(0x1bb)]();try{logger[_0x3df7c3(0x1e0)](_0x157e82[_0x3df7c3(0x13f)]),await TestHubHandler[_0x3df7c3(0x104)](_0x5dc354);}catch(_0x39a570){logger[_0x3df7c3(0x1e0)](_0x3df7c3(0x19b)+util[_0x3df7c3(0x1e3)](_0x39a570));}PerformanceTester['end'](PerformanceEvents[_0x3df7c3(0x142)]);if(PerformanceTester[_0x3df7c3(0x1bf)]()){const {measures:_0x356dc5,errors:_0x4916ab}=await PerformanceTester[_0x3df7c3(0x154)](),_0x34f8b5={};if(_0x356dc5&&_0x157e82['ocisH'](_0x356dc5[_0x3df7c3(0x11b)],0x0)||_0x4916ab&&_0x157e82[_0x3df7c3(0x180)](_0x4916ab[_0x3df7c3(0x11b)],0x0)){const _0x5b57e1={};_0x5b57e1[_0x3df7c3(0x1ab)]=_0x356dc5,_0x5b57e1[_0x3df7c3(0x15e)]=_0x4916ab,Object['assign'](_0x34f8b5,_0x5b57e1);}try{const _0x6632ba=await helper[_0x3df7c3(0x1e8)](_0x34f8b5,this[_0x3df7c3(0x1a5)]);logger[_0x3df7c3(0x1e0)]('Data\x20sent\x20successfully\x20to\x20'+constants[_0x3df7c3(0xf9)]+_0x3df7c3(0x1df)+_0x6632ba[_0x3df7c3(0x18a)]);}catch(_0x38719f){logger[_0x3df7c3(0x1e0)](_0x3df7c3(0x17d)+constants[_0x3df7c3(0xf9)]+'\x20with\x20error\x20'+util['format'](_0x38719f));}try{fs[_0x3df7c3(0x16a)](_0x157e82[_0x3df7c3(0x1a2)],JSON[_0x3df7c3(0x13a)](_0x34f8b5));}catch(_0x2fa190){logger[_0x3df7c3(0x1e0)](_0x3df7c3(0x143)+_0x2fa190);}}}};}}function a55_0x5940(){const _0x8b7888=['Hexgo','setEnvCaps','hjFoG','HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20','uncaughtException','customRepeaters','warn','isTrue','info','Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled','disableAutoCaptureLogs','./logger','parallelsPerPlatform','21KJvlVl','setupTCGAuth','./timeoutPromise','toLowerCase','AUTOLOGCAPTURE_NOTIFICATION','EDS_URL','sdkRunID','aZxIg','BrowserstackHealingInitFailed','requireSeleniumWebdriverCheck','BrowserstackHealing.init','setProxySettings','./performance/performance-tester','uuid','SDKTestAttempted','No\x20config\x20provided.','stop','uxBKH','12QmaURM','then','split','Ovboo','DblXE','uaKVT','userName\x20or\x20accessKey\x20is\x20not\x20defined','mfExc','TCG_URL','FgiGd','getFinalCaps','AI_PROXY_FAILURE','isBrowserstackInfra','DFBfb','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','error','./utilities','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','./percy/utils','158899nrwpgz','./setKeepAlive','length','Error\x20occured\x20while\x20stopping\x20local\x20binary','Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.','eXciU','okXyi','ats-repeater','LXbOD','RDqUq','./performance/constants','getUserName','Error\x20occured\x20while\x20stopping\x20percy','biltj','LUSws','setupBrowserstackLocal','153qbwDTF','getPackageVersion','../ai-sdk-node/bundle','intExitHandler','getHubUrl','TCG_AUTH_TIMEOUT','localOptions','isTrialGrid','localIdentifier','1525180lEoaxv','setupPercy','ZCrlX','bRETj','status','turboScaleGridDetails','MnzoU','sfctS','stringify','pkeOA','isAuthenticated','BVfnt','CzUMR','VSnLH','hubUrl','SIGTERM','SDK_CLEANUP','Error\x20in\x20writing\x20events\x20to\x20file\x20','envConfig','proxyConfig','fireFunnelTestEvent','captureError','getCentralUser','setLogLevel','HUB_MANAGEMENT','zBIuR','isUndefined','browserstackLocal','nLabh','SIGBREAK','24|26|32|23|36|8|3|0|38|20|10|14|6|9|37|13|25|17|43|35|40|30|4|42|27|15|1|16|21|22|31|41|19|34|28|7|39|18|11|5|33|29|12|2','Local\x20binary\x20stopped','TCG_DOWN','SIGABRT','finalize','platform','NHSkb','CrDzI','getTurboScaleGridDetails','parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','unhandledErrors','proxyUrl','OYeBz','tmvlb','exceptions','getConfigPath','setBrowserstackInfraFromConfig','./ats/helper','browserStackLocalOptions','accessKey','../../package.json','handled','testContextOptions','measureWrapper','gZIKD','forceLocal','writeFileSync','isHealingEnabled','winstonLogger','cliConfig','playwright','stopLocalBinary','unhandledRejection','Calling\x20Build\x20Stop\x20from\x20ExitHandler','env','log/events.json','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','platforms','percy','WrRJU','Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','16aLBzya','dQlhL','ymYyo','useW3C','Failed\x20to\x20send\x20data\x20to\x20','true','sanitizeCaps','ocisH','framework','skipSessionName','boZEI','SIGQUIT','readConfig','allocateHub','xPSda','message','version','statusCode','jXOoL','tcg\x20config\x20setup\x20successful.','setupKeepAlive','setCLICaps','1097691wNbStp','CGCLI','Percy\x20stopped','codeceptjs','ZFWcy','YbsOn','selfHeal','setHandlePWError','exitHandler','21366521Brrghi','FRAMEWORK','TElzE','Error\x20in\x20sending\x20testhub\x20stop:\x20','./testhub/utils','killSignal','HdHQX','turboScale','hzycj','VfhZy','pwjqI','UheIO','109346cIdIwj','config','win32','turboScaleUrl','FxIzp','3390684BXfCWK','constructor','measures','WrFjY','stopPercy','toString','cCvbG','isRunning','../hubAllocationMethods','xvQzo','turboScaleOptions','push','AI_INIT_SUCCESSFUL','FAxKE','BROWSERSTACK_PERCY','Error\x20in\x20percy\x20setup\x20','QbuHo','jycYU','stopBrowserstackLocal','BROWSERSTACK_TURBOSCALE','4.5.0','bind','isEnabled','xlpMa','WAFcr','handleExceptions','bstackConfig','proxy','3|4|2|1|0','SIGHUP','integrations','race','setUpHubUrl','Shutdown\x20triggered\x20by\x20','tcgAuthConfig','skipBinaryInitialisation','UPGRADE_REQUIRED','85780DWaMfY','getLocalConfig','generateLocalIdentifier','cancel','Percy\x20started\x20successfully','zUxHl','5gIZZoC','DnvkH','custom-repeater','vWHQO','INVALID_INIT_RESP_WITH_USER_IMPACT','./testhub/testhubHandler','BrowserstackHealing.init\x20method\x20timed\x20out','RMAcF','TCG_AUTH_FAILURE','cwsLA','default','\x20with\x20response\x20','debug','pnyIE','join','format','MLvyd','XYwki','userName','yvRQI','sendToEDS','init','skipSessionStatus'];a55_0x5940=function(){return _0x8b7888;};return a55_0x5940();}exports[a55_0x28350c(0x1de)]=BrowserStackSetup;