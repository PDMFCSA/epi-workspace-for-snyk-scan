const a55_0x2da3f9=a55_0x3433;(function(_0x467263,_0x1c74d8){const _0x501a56=a55_0x3433,_0x2a4ae6=_0x467263();while(!![]){try{const _0x1201ee=parseInt(_0x501a56(0x1b5))/0x1+parseInt(_0x501a56(0x132))/0x2+parseInt(_0x501a56(0x190))/0x3+-parseInt(_0x501a56(0xfa))/0x4*(parseInt(_0x501a56(0xe5))/0x5)+parseInt(_0x501a56(0xd2))/0x6*(parseInt(_0x501a56(0x1b3))/0x7)+parseInt(_0x501a56(0x1b0))/0x8*(-parseInt(_0x501a56(0x181))/0x9)+parseInt(_0x501a56(0x127))/0xa*(-parseInt(_0x501a56(0xd1))/0xb);if(_0x1201ee===_0x1c74d8)break;else _0x2a4ae6['push'](_0x2a4ae6['shift']());}catch(_0xbbfe32){_0x2a4ae6['push'](_0x2a4ae6['shift']());}}}(a55_0x1f14,0xad130));function a55_0x3433(_0x571615,_0x4831d5){const _0x1f14a0=a55_0x1f14();return a55_0x3433=function(_0x343338,_0x59b594){_0x343338=_0x343338-0xc0;let _0x4da768=_0x1f14a0[_0x343338];return _0x4da768;},a55_0x3433(_0x571615,_0x4831d5);}const util=require(a55_0x2da3f9(0x129)),os=require('os'),path=require(a55_0x2da3f9(0xc7)),{v4:uuidv4}=require(a55_0x2da3f9(0x17a)),fs=require('fs'),constants=require(a55_0x2da3f9(0x18c)),{isTurboScaleSession}=require(a55_0x2da3f9(0x1b7)),logger=require('./logger')[a55_0x2da3f9(0x134)],helper=require(a55_0x2da3f9(0x10d)),utilities=require(a55_0x2da3f9(0xd3)),percyHelper=require('./percy/utils'),hubAllocator=require(a55_0x2da3f9(0x165)),PerformanceTester=require(a55_0x2da3f9(0x114)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require(a55_0x2da3f9(0x11d)),{setPercyFlag}=require(a55_0x2da3f9(0x140)),TestHubHandler=require('./testhub/testhubHandler'),timeoutPromise=require('./timeoutPromise');class BrowserStackSetup{constructor(_0x109203,_0x3a7616){const _0x3f0844=a55_0x2da3f9,_0x5e50fc={'Eflzo':_0x3f0844(0x19f),'xEXon':_0x3f0844(0x10a),'NGusT':function(_0x321e73,_0x462ba3){return _0x321e73<_0x462ba3;},'dygBk':function(_0x3cbe6b,_0x332c08){return _0x3cbe6b(_0x332c08);},'RVwrS':_0x3f0844(0x150),'pujrY':function(_0x337511,_0xfb7359){return _0x337511===_0xfb7359;},'mlEGj':'4.5.0','owkZc':function(_0x395287){return _0x395287();},'FhjMS':_0x3f0844(0x166),'IYgDk':_0x3f0844(0x1c1),'gHQKb':_0x3f0844(0x12d),'JwaYR':_0x3f0844(0x121),'EtAGa':_0x3f0844(0x145),'xcSQF':_0x3f0844(0x17c),'dxUgd':_0x3f0844(0xca),'lLykA':_0x3f0844(0x18e),'LyNjY':function(_0x190d3f,_0x5ba9a0){return _0x190d3f===_0x5ba9a0;},'FNWTF':_0x3f0844(0x101),'aIhHF':function(_0x29e7b4,_0x34be4e){return _0x29e7b4!==_0x34be4e;},'TCWDJ':'win32','ATOfG':'SIGABRT','hDKKj':_0x3f0844(0x179),'bWPih':_0x3f0844(0x109)},_0x17e89e=_0x5e50fc[_0x3f0844(0x174)]['split']('|');let _0xeee3e4=0x0;while(!![]){switch(_0x17e89e[_0xeee3e4++]){case'0':process['on'](_0x5e50fc[_0x3f0844(0x120)],this[_0x3f0844(0x13e)]);continue;case'1':this[_0x3f0844(0x1bf)]['browserStackLocalOptions']['skipBinaryInitialisation']=helper[_0x3f0844(0x10b)](this[_0x3f0844(0x1bf)]['browserStackLocalOptions'][_0x3f0844(0x1aa)]);continue;case'2':helper[_0x3f0844(0x131)](_0x3a7616)&&(_0x5e50fc['NGusT'](_0x5e50fc['dygBk'](parseInt,helper[_0x3f0844(0xc0)](_0x5e50fc['RVwrS'])),0x3)&&(this[_0x3f0844(0x1bf)][_0x3f0844(0x15d)]=![]),_0x5e50fc[_0x3f0844(0x133)](helper[_0x3f0844(0x119)](helper[_0x3f0844(0xc0)](_0x5e50fc[_0x3f0844(0x176)]),_0x5e50fc[_0x3f0844(0x161)]),0x1)&&(this['config'][_0x3f0844(0x15d)]=!![]));continue;case'3':this[_0x3f0844(0xf1)]=_0x5e50fc['owkZc'](uuidv4);continue;case'4':this[_0x3f0844(0x18d)]=_0x3a7616;continue;case'5':global[_0x3f0844(0x1bf)]=this['config'];continue;case'6':logger['info']('SDK\x20run\x20started\x20with\x20id:\x20'+this[_0x3f0844(0xf1)]);continue;case'7':process['on'](_0x5e50fc['FhjMS'],this['exitHandler']());continue;case'8':process[_0x3f0844(0xfd)][_0x3f0844(0x1ba)]&&(this[_0x3f0844(0x1bf)][_0x3f0844(0x159)]=helper[_0x3f0844(0x10b)](process[_0x3f0844(0xfd)][_0x3f0844(0x1ba)]),this[_0x3f0844(0x1bf)][_0x3f0844(0x15f)]=this[_0x3f0844(0x1bf)][_0x3f0844(0x15f)]||{});continue;case'9':(helper[_0x3f0844(0x1ac)](this[_0x3f0844(0x1bf)]['platforms'])||helper['isUndefined'](this[_0x3f0844(0x1bf)][_0x3f0844(0x1b6)]['length']))&&(helper[_0x3f0844(0x1ac)](this['config'][_0x3f0844(0x11b)])?logger[_0x3f0844(0x170)](_0x5e50fc[_0x3f0844(0x168)]):logger[_0x3f0844(0xf3)](_0x5e50fc[_0x3f0844(0xf7)]),this[_0x3f0844(0x1bf)][_0x3f0844(0x1b6)]=[]);continue;case'10':try{process[_0x3f0844(0xfd)]['FRAMEWORK']=_0x109203['_'][0x0],utilities['fireFunnelTestEvent'](_0x5e50fc['JwaYR'],{},this['config'],this[_0x3f0844(0x18d)]);}catch(_0xa77d7){logger[_0x3f0844(0x124)]('Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20'+_0xa77d7);}continue;case'11':helper['setHandlePWError'](this[_0x3f0844(0x1bf)]);continue;case'12':this['cliConfig']=helper['setCLICaps'](_0x109203);continue;case'13':this[_0x3f0844(0x15e)]=null;continue;case'14':helper[_0x3f0844(0x11c)](this['config']);continue;case'15':this[_0x3f0844(0xd7)]={};continue;case'16':global[_0x3f0844(0xf1)]=this[_0x3f0844(0xf1)];continue;case'17':process['on'](_0x5e50fc[_0x3f0844(0x103)],this[_0x3f0844(0x13e)]);continue;case'18':this[_0x3f0844(0x1bf)][_0x3f0844(0xe2)][_0x3f0844(0xd0)]=!helper[_0x3f0844(0x16a)]()||helper[_0x3f0844(0x10b)](this[_0x3f0844(0x1bf)][_0x3f0844(0xe2)][_0x3f0844(0xd0)]);continue;case'19':this[_0x3f0844(0x19d)]();continue;case'20':if(this[_0x3f0844(0x1bf)][_0x3f0844(0x115)])throw new Error(this[_0x3f0844(0x1bf)][_0x3f0844(0x115)]);continue;case'21':this[_0x3f0844(0xc3)]=null;continue;case'22':process['on'](_0x5e50fc['xcSQF'],this['intExitHandler']);continue;case'23':helper[_0x3f0844(0xda)](this[_0x3f0844(0x1bf)])&&helper[_0x3f0844(0x1ac)](helper[_0x3f0844(0x12f)](this[_0x3f0844(0x1bf)]))&&(!helper[_0x3f0844(0x1ac)](this[_0x3f0844(0x1bf)]['browserStackLocalOptions'])&&_0x5e50fc[_0x3f0844(0x133)](this[_0x3f0844(0x1bf)][_0x3f0844(0x18b)][_0x3f0844(0xcf)],Object)?!helper['isTrue'](this[_0x3f0844(0x1bf)]['browserStackLocalOptions'][_0x3f0844(0x1aa)])&&(this[_0x3f0844(0x1bf)][_0x3f0844(0x18b)][_0x3f0844(0x112)]=helper[_0x3f0844(0x14a)]()):this[_0x3f0844(0x1bf)][_0x3f0844(0x18b)]={'localIdentifier':helper['generateLocalIdentifier']()});continue;case'24':this[_0x3f0844(0x13e)]=this[_0x3f0844(0x13e)]['bind'](this);continue;case'25':!this[_0x3f0844(0x1bf)][_0x3f0844(0xe2)]&&(this[_0x3f0844(0x1bf)][_0x3f0844(0xe2)]={});continue;case'26':this['config']=helper[_0x3f0844(0x106)](helper['getConfigPath'](_0x109203));continue;case'27':helper[_0x3f0844(0xd4)](this['config'],this[_0x3f0844(0x197)],this[_0x3f0844(0x151)]);continue;case'28':this[_0x3f0844(0x1bf)][_0x3f0844(0xe2)]=this[_0x3f0844(0x1bf)][_0x3f0844(0xe2)]||{};continue;case'29':!this['config'][_0x3f0844(0xdd)]&&logger['info'](constants[_0x3f0844(0x142)]);continue;case'30':this[_0x3f0844(0x1bf)][_0x3f0844(0xe2)][_0x3f0844(0x146)]=!helper[_0x3f0844(0x16a)]()||helper['isTrue'](this[_0x3f0844(0x1bf)][_0x3f0844(0xe2)][_0x3f0844(0x146)]);continue;case'31':this[_0x3f0844(0x151)]=helper[_0x3f0844(0x104)]();continue;case'32':if(!helper[_0x3f0844(0x16a)]()){try{process[_0x3f0844(0xfd)][_0x3f0844(0xf9)]=_0x3a7616,utilities[_0x3f0844(0xec)](_0x5e50fc[_0x3f0844(0xf0)],{},this[_0x3f0844(0x1bf)],this['framework']);}catch(_0x3957f8){logger[_0x3f0844(0x124)](_0x3f0844(0x185)+_0x3957f8);}return;}continue;case'33':if(helper[_0x3f0844(0x1ac)](helper[_0x3f0844(0xc6)](this[_0x3f0844(0x1bf)]))||helper['isUndefined'](helper[_0x3f0844(0x1a2)](this[_0x3f0844(0x1bf)])))throw new Error(_0x5e50fc['dxUgd']);continue;case'34':if(helper[_0x3f0844(0x1ac)](this[_0x3f0844(0x1bf)]))throw new Error(_0x5e50fc[_0x3f0844(0x195)]);continue;case'35':helper['setBrowserstackInfraFromConfig'](this['config'],this[_0x3f0844(0x197)]);continue;case'36':this[_0x3f0844(0x187)]=null;continue;case'37':!this[_0x3f0844(0x1bf)][_0x3f0844(0x18b)]&&(this[_0x3f0844(0x1bf)][_0x3f0844(0x18b)]=this['config'][_0x3f0844(0x128)]||{});continue;case'38':global[_0x3f0844(0x18d)]=_0x3a7616;continue;case'39':helper[_0x3f0844(0x10e)](this[_0x3f0844(0x1bf)],this[_0x3f0844(0x197)],this[_0x3f0844(0x151)]);continue;case'40':if(_0x5e50fc[_0x3f0844(0x1c0)](_0x3a7616,_0x5e50fc['FNWTF']))return;continue;case'41':this[_0x3f0844(0xe8)]=[];continue;case'42':_0x5e50fc[_0x3f0844(0xd6)](process[_0x3f0844(0xe9)],_0x5e50fc[_0x3f0844(0x196)])?(process['on'](_0x5e50fc[_0x3f0844(0xfb)],this[_0x3f0844(0x13e)]),process['on'](_0x5e50fc['hDKKj'],this[_0x3f0844(0x13e)])):process['on'](_0x5e50fc[_0x3f0844(0x16b)],this['intExitHandler']);continue;case'43':this['config']['platforms']=this[_0x3f0844(0x1bf)]['platforms']||[];continue;}break;}}async[a55_0x2da3f9(0x17b)](){const _0x14a93c=a55_0x2da3f9,_0x3a9f34={'GOcMc':function(_0x4b547b,_0xbf57d2){return _0x4b547b(_0xbf57d2);},'FUlOy':_0x14a93c(0x194),'PUVmK':'custom-repeater','rgILr':_0x14a93c(0x117),'pBfxm':function(_0x3d35ea,_0x2433bf){return _0x3d35ea===_0x2433bf;},'YXXEO':_0x14a93c(0xc1),'wFeNO':function(_0x5e1e0e,_0xe8047f){return _0x5e1e0e+_0xe8047f;},'HaGot':_0x14a93c(0x153),'UitZj':function(_0x2b35b2,_0x4458be){return _0x2b35b2(_0x4458be);},'rsPmf':_0x14a93c(0x18f),'PZYFi':function(_0x519a77,_0xf5f611){return _0x519a77(_0xf5f611);}};if(_0x3a9f34[_0x14a93c(0xd5)](isTurboScaleSession,this[_0x14a93c(0x1bf)])){const _0x239674=await helper[_0x14a93c(0xe4)](this[_0x14a93c(0x1bf)]);this[_0x14a93c(0x1bf)][_0x14a93c(0x189)]=_0x239674,_0x239674[_0x14a93c(0xd8)]&&(this[_0x14a93c(0x1bf)][_0x14a93c(0x187)]=!![],this[_0x14a93c(0x1bf)]['browserStackLocalOptions']['localIdentifier']=_0x3a9f34[_0x14a93c(0x147)],this[_0x14a93c(0x1bf)][_0x14a93c(0x18b)][_0x3a9f34[_0x14a93c(0x1b2)]]=_0x239674[_0x14a93c(0x13d)][_0x14a93c(0xee)](','),this['config'][_0x14a93c(0x18b)]['forceLocal']=_0x3a9f34[_0x14a93c(0x1a3)]),this[_0x14a93c(0x1bf)][_0x14a93c(0x130)]=_0x239674[_0x14a93c(0x172)],this[_0x14a93c(0x18d)]&&_0x3a9f34[_0x14a93c(0x149)](this[_0x14a93c(0x18d)][_0x14a93c(0xf4)](),_0x3a9f34[_0x14a93c(0x19c)])&&(this[_0x14a93c(0x1bf)]['turboScaleUrl']=_0x3a9f34[_0x14a93c(0x156)](_0x239674[_0x14a93c(0x111)],_0x3a9f34[_0x14a93c(0x183)])),constants[_0x14a93c(0xef)]=helper[_0x14a93c(0x18a)](this[_0x14a93c(0x1bf)]),logger[_0x14a93c(0x124)](_0x14a93c(0x1a5)+constants[_0x14a93c(0xef)]);}helper['setProxySettings'](this[_0x14a93c(0x1bf)]),this['setupKeepAlive'](),_0x3a9f34[_0x14a93c(0xc4)](setPercyFlag,this),await this[_0x14a93c(0xc5)](),![_0x3a9f34[_0x14a93c(0x19b)]]['includes'](this[_0x14a93c(0x18d)])&&!_0x3a9f34[_0x14a93c(0x198)](isTurboScaleSession,this[_0x14a93c(0x1bf)])&&!helper[_0x14a93c(0xc2)]()[_0x14a93c(0x1b4)]&&await this[_0x14a93c(0x19e)]();}async[a55_0x2da3f9(0x191)](){const _0x2f44e4=a55_0x2da3f9,_0x8025a3={};_0x8025a3[_0x2f44e4(0x1b9)]=function(_0x155be1,_0x3d7f8d){return _0x155be1===_0x3d7f8d;},_0x8025a3[_0x2f44e4(0x13c)]=_0x2f44e4(0x1a4),_0x8025a3['CzzPe']=_0x2f44e4(0x160),_0x8025a3['QGPzx']=_0x2f44e4(0xe0),_0x8025a3[_0x2f44e4(0x12c)]='true',_0x8025a3[_0x2f44e4(0x12a)]=_0x2f44e4(0x166);const _0x4385e8=_0x8025a3;if(helper[_0x2f44e4(0x10b)](this[_0x2f44e4(0x1bf)][_0x2f44e4(0x15e)])&&(!this['percy']||!this[_0x2f44e4(0x15e)][_0x2f44e4(0x148)]()))try{this[_0x2f44e4(0x15e)]=await percyHelper['startPercy'](this[_0x2f44e4(0x1bf)]);if(!this[_0x2f44e4(0x15e)]){process[_0x2f44e4(0xfd)][_0x2f44e4(0x16f)]=_0x4385e8[_0x2f44e4(0x13c)];throw new Error(_0x4385e8[_0x2f44e4(0x14e)]);}logger[_0x2f44e4(0x170)](_0x4385e8['QGPzx']),process[_0x2f44e4(0xfd)][_0x2f44e4(0x16f)]=_0x4385e8[_0x2f44e4(0x12c)];let _0x574a44=0x0;const _0xfe2b7e=async()=>{const _0x21b97d=_0x2f44e4;_0x574a44++,_0x4385e8['JUefP'](_0x574a44,0x1)&&await this[_0x21b97d(0x13f)]();};process['on'](_0x4385e8[_0x2f44e4(0x12a)],_0xfe2b7e);}catch(_0x43b1b8){process[_0x2f44e4(0xfd)][_0x2f44e4(0x16f)]=_0x4385e8[_0x2f44e4(0x13c)],logger[_0x2f44e4(0x124)]('Error\x20in\x20percy\x20setup\x20'+_0x43b1b8);throw new Error(_0x43b1b8[_0x2f44e4(0x14b)]());}}async[a55_0x2da3f9(0x13f)](){const _0x7c8f0e=a55_0x2da3f9,_0x304ea6={};_0x304ea6[_0x7c8f0e(0xcb)]=_0x7c8f0e(0xc8),_0x304ea6[_0x7c8f0e(0x10f)]=_0x7c8f0e(0xdc);const _0x3b92e1=_0x304ea6;if(this['percy']&&this[_0x7c8f0e(0x15e)]['isRunning']())try{await percyHelper[_0x7c8f0e(0x13f)](this[_0x7c8f0e(0x15e)]),logger[_0x7c8f0e(0x170)](_0x3b92e1['RUbgu']);}catch(_0x288b6d){logger['error'](_0x3b92e1[_0x7c8f0e(0x10f)],_0x288b6d[_0x7c8f0e(0x155)]);}}async[a55_0x2da3f9(0xc5)](){const _0x4d91b0=a55_0x2da3f9,_0x1c7506={};_0x1c7506[_0x4d91b0(0x154)]=_0x4d91b0(0x1a0),_0x1c7506[_0x4d91b0(0x169)]=_0x4d91b0(0x14c);const _0x8c2d04=_0x1c7506;if(helper['isBrowserstackInfra']()&&helper['isTrue'](this[_0x4d91b0(0x1bf)][_0x4d91b0(0x187)])&&(!this['browserstackLocal']||!this[_0x4d91b0(0x187)][_0x4d91b0(0x148)]()))try{if(this[_0x4d91b0(0x1bf)]['browserStackLocalOptions']['skipBinaryInitialisation']){logger['debug'](_0x8c2d04['mcbzU']);return;}this[_0x4d91b0(0x187)]=await helper['startLocalBinary'](this[_0x4d91b0(0x1bf)]),logger[_0x4d91b0(0x170)](_0x8c2d04[_0x4d91b0(0x169)]);}catch(_0x1aafdb){logger[_0x4d91b0(0x124)](_0x1aafdb);throw new Error(_0x1aafdb[_0x4d91b0(0x14b)]());}}async[a55_0x2da3f9(0x1bb)](){const _0x4206b2=a55_0x2da3f9,_0x18892e={};_0x18892e[_0x4206b2(0x1ae)]=_0x4206b2(0x15a),_0x18892e[_0x4206b2(0x125)]=_0x4206b2(0x12e);const _0x25e068=_0x18892e;if(this[_0x4206b2(0x187)]&&this[_0x4206b2(0x187)][_0x4206b2(0x148)]())try{await helper['stopLocalBinary'](this['browserstackLocal']),logger[_0x4206b2(0x170)](_0x25e068[_0x4206b2(0x1ae)]);}catch(_0x26129a){logger[_0x4206b2(0x115)](_0x25e068['DJTYS'],_0x26129a[_0x4206b2(0x155)]);}}async[a55_0x2da3f9(0x19e)](){const _0x1b9973=a55_0x2da3f9;return PerformanceTester['measureWrapper'](PerformanceAutEvents[_0x1b9973(0x10c)],async()=>{const _0x310f09=_0x1b9973;await hubAllocator[_0x310f09(0x12b)](this[_0x310f09(0x1bf)]);})();}async[a55_0x2da3f9(0x105)](){const _0x3b6152=a55_0x2da3f9,_0x27e0fa={'ACdmv':function(_0x5ea900,_0x46a339){return _0x5ea900(_0x46a339);},'ywuKl':_0x3b6152(0xff),'guMvA':function(_0x84ac90,_0x39b286,_0x1e852a,_0x33a906,_0x4e1166,_0x57df59,_0x26fa20){return _0x84ac90(_0x39b286,_0x1e852a,_0x33a906,_0x4e1166,_0x57df59,_0x26fa20);},'ZxhSv':'BrowserstackHealing.init\x20method\x20timed\x20out','tjWUk':'BrowserstackHealingInitFailed','geWkV':_0x3b6152(0x100),'kNKzy':'BrowserstackHealing.init','ANZGN':function(_0x436fac,_0x19d80d){return _0x436fac===_0x19d80d;},'ZortV':'true','zaBwT':function(_0x12247f,_0x95f989){return _0x12247f===_0x95f989;},'dOQcd':function(_0x560a63,_0x2ddc1c){return _0x560a63===_0x2ddc1c;},'HyevL':'Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','ykWyf':_0x3b6152(0x199),'HEhYo':_0x3b6152(0xe6),'pRDgy':_0x3b6152(0x173),'MyNwg':function(_0x38cd9e,_0xef3f37){return _0x38cd9e>=_0xef3f37;},'VcmVW':function(_0x10c7c7,_0x4039ec){return _0x10c7c7<_0x4039ec;},'Dfzea':_0x3b6152(0xfe),'iNlGN':_0x3b6152(0x136),'Cbbhz':function(_0x57250c){return _0x57250c();}},_0x5a8d11=PerformanceTester[_0x3b6152(0x188)](_0x27e0fa[_0x3b6152(0xc9)],async()=>{const _0x2d7f50=_0x3b6152;try{const _0x4fd710=new Date(),_0xe1e1af=helper[_0x2d7f50(0x16c)](this[_0x2d7f50(0x1bf)]),_0x39a94d=_0x27e0fa['ACdmv'](require,path[_0x2d7f50(0xee)](__dirname,_0x27e0fa[_0x2d7f50(0xf6)])),_0x3bb142=_0x27e0fa[_0x2d7f50(0x11e)](timeoutPromise,constants[_0x2d7f50(0xe1)],_0x27e0fa[_0x2d7f50(0x193)],_0x27e0fa['tjWUk'],_0x4fd710,this[_0x2d7f50(0x1bf)],this[_0x2d7f50(0x18d)]),_0x13cc5b={'tcgUrl':constants[_0x2d7f50(0x1af)],'sdkVersion':_0x27e0fa[_0x2d7f50(0x1b8)](require,_0x27e0fa[_0x2d7f50(0x1a1)])[_0x2d7f50(0x144)],'methodUsed':_0x27e0fa[_0x2d7f50(0x138)],'proxyConfig':_0xe1e1af,'os':os['platform']()};if(_0xe1e1af&&_0xe1e1af[_0x2d7f50(0x1ab)]){utilities[_0x2d7f50(0xec)](constants[_0x2d7f50(0x1a6)],_0x13cc5b,this['config'],this[_0x2d7f50(0x18d)]);return;}const _0x19b3bd={};_0x19b3bd['proxy']=_0xe1e1af;const _0x29b64f=await Promise[_0x2d7f50(0x1a8)]([_0x39a94d[_0x2d7f50(0x14d)](this['config'][_0x2d7f50(0xdf)],this[_0x2d7f50(0x1bf)][_0x2d7f50(0x1bc)],constants[_0x2d7f50(0x1af)],_0x27e0fa[_0x2d7f50(0x1b8)](require,_0x27e0fa[_0x2d7f50(0x1a1)])[_0x2d7f50(0x144)],_0x19b3bd)['then'](_0x309cb8=>{const _0xbf85e6=_0x2d7f50;return _0x3bb142[_0xbf85e6(0x175)](),_0x309cb8;}),_0x3bb142]);_0x29b64f[_0x2d7f50(0x139)]=_0x27e0fa[_0x2d7f50(0x180)](_0x29b64f[_0x2d7f50(0x139)],_0x27e0fa[_0x2d7f50(0x1ad)])||_0x27e0fa[_0x2d7f50(0xce)](_0x29b64f[_0x2d7f50(0x139)],!![]);const _0x30bae6=_0x27e0fa[_0x2d7f50(0xfc)](this[_0x2d7f50(0x1bf)][_0x2d7f50(0xf8)],!![])||_0x27e0fa[_0x2d7f50(0x180)](this[_0x2d7f50(0x1bf)][_0x2d7f50(0xf8)],_0x27e0fa[_0x2d7f50(0x1ad)]);if(_0x27e0fa['dOQcd'](_0x29b64f[_0x2d7f50(0x155)],constants[_0x2d7f50(0x110)])&&_0x30bae6)logger[_0x2d7f50(0x170)](_0x27e0fa['HyevL']);else{if(!_0x29b64f[_0x2d7f50(0xcc)]&&_0x27e0fa[_0x2d7f50(0xfc)](_0x29b64f[_0x2d7f50(0xed)],0x1f7)&&_0x30bae6)logger[_0x2d7f50(0x170)](_0x27e0fa[_0x2d7f50(0x17f)]),utilities[_0x2d7f50(0xec)](constants[_0x2d7f50(0xeb)],_0x13cc5b,this[_0x2d7f50(0x1bf)],this[_0x2d7f50(0x18d)]);else{if(!_0x29b64f[_0x2d7f50(0xcc)]&&_0x30bae6){logger[_0x2d7f50(0x170)](_0x27e0fa[_0x2d7f50(0x1be)]);const _0x4bfba6={'tcgUrl':constants['TCG_URL'],'sdkVersion':_0x27e0fa['ACdmv'](require,_0x27e0fa['geWkV'])[_0x2d7f50(0x144)],'methodUsed':_0x27e0fa['kNKzy'],'proxyConfig':_0xe1e1af,'os':os[_0x2d7f50(0xe9)]()};utilities[_0x2d7f50(0xec)](constants[_0x2d7f50(0x152)],_0x4bfba6,this[_0x2d7f50(0x1bf)],this[_0x2d7f50(0x18d)]);}else{if(_0x29b64f['isAuthenticated']&&!_0x29b64f[_0x2d7f50(0x139)]&&_0x30bae6)logger[_0x2d7f50(0x170)](_0x27e0fa[_0x2d7f50(0x118)]);else{if(_0x27e0fa[_0x2d7f50(0x167)](_0x29b64f[_0x2d7f50(0xed)],0xc8)&&_0x27e0fa[_0x2d7f50(0x164)](_0x29b64f[_0x2d7f50(0xed)],0x12c))utilities[_0x2d7f50(0xec)](constants[_0x2d7f50(0x137)],_0x13cc5b,this[_0x2d7f50(0x1bf)],this[_0x2d7f50(0x18d)]);else{if(_0x27e0fa[_0x2d7f50(0x167)](_0x29b64f[_0x2d7f50(0xed)],0x190))_0x13cc5b[_0x2d7f50(0xed)]=_0x29b64f[_0x2d7f50(0xed)],utilities[_0x2d7f50(0xec)](constants['AI_INIT_FAILURE'],_0x13cc5b,this[_0x2d7f50(0x1bf)],this[_0x2d7f50(0x18d)]);else!_0x29b64f[_0x2d7f50(0xed)]&&utilities[_0x2d7f50(0xec)](constants[_0x2d7f50(0xf5)],_0x13cc5b,this[_0x2d7f50(0x1bf)],this[_0x2d7f50(0x18d)]);}}}}}if(_0x29b64f[_0x2d7f50(0xcc)]&&_0x29b64f[_0x2d7f50(0x139)]){const _0x372406={};_0x372406[_0x2d7f50(0x1a9)]=_0x29b64f;const _0x4e78aa=_0x372406;_0xe1e1af&&(_0x4e78aa[_0x2d7f50(0x123)]=_0xe1e1af),_0x4e78aa[_0x2d7f50(0x18d)]=this[_0x2d7f50(0x18d)],_0x4e78aa[_0x2d7f50(0x102)]=this['config'],helper[_0x2d7f50(0xea)](_0x4e78aa),logger[_0x2d7f50(0x124)](_0x27e0fa['Dfzea']);}}catch(_0x3b580b){logger[_0x2d7f50(0x124)](_0x2d7f50(0x15c)+(_0x3b580b[_0x2d7f50(0x155)]?_0x3b580b[_0x2d7f50(0x155)]:''));}});await _0x27e0fa[_0x3b6152(0x171)](_0x5a8d11);}['setupKeepAlive'](){const _0x46ce44=a55_0x2da3f9,_0x2d3a67={'prNOL':function(_0x5cd1de,_0xa62c16){return _0x5cd1de(_0xa62c16);},'gvbsx':_0x46ce44(0xdb)};_0x2d3a67[_0x46ce44(0x162)](require,_0x2d3a67[_0x46ce44(0x14f)])();}[a55_0x2da3f9(0x19d)](){const _0x883daa=a55_0x2da3f9,_0x3c62a4={};_0x3c62a4[_0x883daa(0x11a)]=_0x883daa(0x178),_0x3c62a4[_0x883daa(0x113)]=_0x883daa(0x116);const _0x1ac49b=_0x3c62a4,_0x1ef5ed=_0x2ccc1f=>{const _0x5d4e79=_0x883daa;logger['error'](_0x2ccc1f[_0x5d4e79(0x155)]),logger[_0x5d4e79(0x124)](util[_0x5d4e79(0x182)](_0x2ccc1f)),this[_0x5d4e79(0xe8)][_0x5d4e79(0x1a7)](util[_0x5d4e79(0x182)]('%j',_0x2ccc1f)),PerformanceTester[_0x5d4e79(0x1bd)](_0x2ccc1f);};process['on'](_0x1ac49b['EQNtr'],_0x1ef5ed),process['on'](_0x1ac49b[_0x883daa(0x113)],_0x1ef5ed);}async[a55_0x2da3f9(0x13e)](_0x4fb358){const _0x167034=a55_0x2da3f9,_0x14499b={};_0x14499b[_0x167034(0x107)]='4|0|1|2|3',_0x14499b[_0x167034(0x122)]=function(_0x2b8b6b,_0x514b13){return _0x2b8b6b+_0x514b13;},_0x14499b[_0x167034(0x19a)]='handled',_0x14499b[_0x167034(0x135)]=function(_0xc303bb,_0xa5d023){return _0xc303bb+_0xa5d023;},_0x14499b[_0x167034(0x158)]='Shutdown\x20triggered\x20by\x20';const _0x235889=_0x14499b,_0x4f9c47=_0x235889[_0x167034(0x107)][_0x167034(0x141)]('|');let _0x5e011f=0x0;while(!![]){switch(_0x4f9c47[_0x5e011f++]){case'0':this[_0x235889['LwRvD'](_0x235889[_0x167034(0x19a)],_0x4fb358)]=!![];continue;case'1':logger[_0x167034(0x170)](_0x235889[_0x167034(0x135)](_0x235889[_0x167034(0x158)],_0x4fb358));continue;case'2':this['killSignal']=_0x4fb358;continue;case'3':await TestHubHandler['stop'](_0x4fb358);continue;case'4':if(this[_0x235889[_0x167034(0x122)](_0x235889['rDFDB'],_0x4fb358)])return;continue;}break;}}[a55_0x2da3f9(0xf2)](){const _0x5c066c=a55_0x2da3f9,_0x3b3dcf={};_0x3b3dcf[_0x5c066c(0x163)]=function(_0x24fcb1,_0x52780e){return _0x24fcb1===_0x52780e;},_0x3b3dcf[_0x5c066c(0x177)]='Calling\x20Build\x20Stop\x20from\x20ExitHandler',_0x3b3dcf['JHdQL']=function(_0x3d8078,_0x3e5d54){return _0x3d8078>_0x3e5d54;},_0x3b3dcf['ittaA']=function(_0x2d0dad,_0x527660){return _0x2d0dad>_0x527660;},_0x3b3dcf[_0x5c066c(0x17e)]='log/events.json';const _0x559a2d=_0x3b3dcf;let _0x3008d0=0x0;return async()=>{const _0xbfb69c=_0x5c066c;_0x3008d0++;if(_0x559a2d[_0xbfb69c(0x163)](_0x3008d0,0x1)){helper[_0xbfb69c(0x192)](this[_0xbfb69c(0x18d)])&&await this[_0xbfb69c(0x1bb)]();try{logger[_0xbfb69c(0x124)](_0x559a2d[_0xbfb69c(0x177)]),await TestHubHandler[_0xbfb69c(0x16e)](_0x3008d0);}catch(_0x44dd79){logger[_0xbfb69c(0x124)](_0xbfb69c(0x1b1)+util['format'](_0x44dd79));}PerformanceTester[_0xbfb69c(0x184)](PerformanceEvents[_0xbfb69c(0x16d)]);if(PerformanceTester[_0xbfb69c(0xd9)]()){const {measures:_0x5b8a34,errors:_0x32c2f8}=await PerformanceTester[_0xbfb69c(0xcd)](),_0x47e489={};if(_0x5b8a34&&_0x559a2d[_0xbfb69c(0x13a)](_0x5b8a34[_0xbfb69c(0x15b)],0x0)||_0x32c2f8&&_0x559a2d['ittaA'](_0x32c2f8[_0xbfb69c(0x15b)],0x0)){const _0x2fc8ba={};_0x2fc8ba[_0xbfb69c(0xe7)]=_0x5b8a34,_0x2fc8ba[_0xbfb69c(0x157)]=_0x32c2f8,Object[_0xbfb69c(0x126)](_0x47e489,_0x2fc8ba);}try{const _0x4cfbd9=await helper[_0xbfb69c(0x108)](_0x47e489,this[_0xbfb69c(0x1bf)]);logger['debug']('Data\x20sent\x20successfully\x20to\x20'+constants[_0xbfb69c(0x11f)]+'\x20with\x20response\x20'+_0x4cfbd9[_0xbfb69c(0x143)]);}catch(_0x594005){logger[_0xbfb69c(0x124)]('Failed\x20to\x20send\x20data\x20to\x20'+constants[_0xbfb69c(0x11f)]+_0xbfb69c(0xde)+util[_0xbfb69c(0x182)](_0x594005));}try{fs[_0xbfb69c(0x13b)](_0x559a2d[_0xbfb69c(0x17e)],JSON[_0xbfb69c(0x186)](_0x47e489));}catch(_0x4b4f71){logger['debug'](_0xbfb69c(0xe3)+_0x4b4f71);}}}};}}exports[a55_0x2da3f9(0x17d)]=BrowserStackSetup;function a55_0x1f14(){const _0x11124a=['getTurboScaleGridDetails','2725Enwcij','Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','measures','unhandledErrors','platform','setupTcgConfigFile','TCG_DOWN','fireFunnelTestEvent','status','join','hubUrl','JwaYR','sdkRunID','exitHandler','warn','toLowerCase','INVALID_INIT_RESP_WITH_USER_IMPACT','ywuKl','gHQKb','selfHeal','FRAMEWORK','2348qLiFIq','ATOfG','dOQcd','env','tcg\x20config\x20setup\x20successful.','../ai-sdk-node/bundle','../../package.json','integrations','bstackConfig','EtAGa','setEnvCaps','setupTCGAuth','readConfig','kNWmT','sendToEDS','SIGBREAK','SIGINT','isTrue','HUB_MANAGEMENT','./helper','setLogLevel','CoaQC','UPGRADE_REQUIRED','playwrightUrl','localIdentifier','WCERJ','./performance/performance-tester','error','uncaughtException','true','pRDgy','compareVersions','EQNtr','parallelsPerPlatform','sanitizeCaps','./performance/constants','guMvA','EDS_URL','xEXon','SDKTestAttempted','LwRvD','proxyConfig','debug','DJTYS','assign','10cAZgDI','localOptions','util','BFfMK','allocateHub','DyPAg','parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','Error\x20occured\x20while\x20stopping\x20local\x20binary','getLocalIdentifier','turboScaleUrl','requireSeleniumWebdriverCheck','2337186LFmJbi','pujrY','winstonLogger','xmdeD','aiHeal:tcgAuth','AI_INIT_SUCCESSFUL','kNKzy','isHealingEnabled','JHdQL','writeFileSync','nGceb','customRepeaters','intExitHandler','stopPercy','./testhub/utils','split','AUTOLOGCAPTURE_NOTIFICATION','statusCode','version','SIGHUP','skipSessionName','FUlOy','isRunning','pBfxm','generateLocalIdentifier','toString','Local\x20binary\x20started\x20successfully','init','CzzPe','gvbsx','selenium-webdriver','envConfig','TCG_AUTH_FAILURE','?caps=','mcbzU','message','wFeNO','exceptions','vGQbc','turboScale','Local\x20binary\x20stopped','length','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','useW3C','percy','turboScaleOptions','Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.','mlEGj','prNOL','yAiWr','VcmVW','../hubAllocationMethods','beforeExit','MyNwg','IYgDk','xmqWL','isBrowserstackInfra','bWPih','getProxyConfigForTcg','SDK_CLEANUP','stop','BROWSERSTACK_PERCY','info','Cbbhz','url','Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','Eflzo','cancel','RVwrS','yhxFC','unhandledRejection','SIGQUIT','uuid','initialize','SIGTERM','default','qFxmV','ykWyf','ANZGN','11424411YBmLpK','format','HaGot','end','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','stringify','browserstackLocal','measureWrapper','turboScaleGridDetails','getHubUrl','browserStackLocalOptions','../bin/utils/constants','framework','No\x20config\x20provided.','codeceptjs','622155TyfOaa','setupPercy','checkStopLocalBinaryOnExit','ZxhSv','ats-repeater','lLykA','TCWDJ','cliConfig','PZYFi','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','rDFDB','rsPmf','YXXEO','handleExceptions','setUpHubUrl','41|12|31|36|13|26|43|28|15|5|38|14|4|3|21|16|6|34|20|35|18|30|27|37|33|23|1|39|11|40|19|8|32|2|9|25|10|29|24|22|0|17|42|7','Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled','geWkV','getAccessKey','rgILr','false','HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20','AI_PROXY_FAILURE','push','race','tcgAuthConfig','skipBinaryInitialisation','proxyUrl','isUndefined','ZortV','UUNnj','TCG_URL','8mfCjNA','Error\x20in\x20sending\x20testhub\x20stop:\x20','PUVmK','14onzykP','central_scanner','579040tFCXaH','platforms','./ats/helper','ACdmv','JUefP','BROWSERSTACK_TURBOSCALE','stopBrowserstackLocal','userName','captureError','HEhYo','config','LyNjY','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','getPackageVersion','playwright','getCentralUser','killSignal','UitZj','setupBrowserstackLocal','getUserName','path','Percy\x20stopped','iNlGN','userName\x20or\x20accessKey\x20is\x20not\x20defined','RUbgu','isAuthenticated','finalize','zaBwT','constructor','skipSessionStatus','7325670FiGUjR','3027474RTyCWO','./utilities','getFinalCaps','GOcMc','aIhHF','errorMessage','isTrialGrid','isEnabled','getLocalConfig','./setKeepAlive','Error\x20occured\x20while\x20stopping\x20percy','disableAutoCaptureLogs','\x20with\x20error\x20','accessKey','Percy\x20started\x20successfully','TCG_AUTH_TIMEOUT','testContextOptions','Error\x20in\x20writing\x20events\x20to\x20file\x20'];a55_0x1f14=function(){return _0x11124a;};return a55_0x1f14();}