const a85_0x25394f=a85_0x42ae;(function(_0x1f23c5,_0x14ce5e){const _0x320bd5=a85_0x42ae,_0x342c40=_0x1f23c5();while(!![]){try{const _0x40a077=parseInt(_0x320bd5(0x252))/0x1*(-parseInt(_0x320bd5(0x201))/0x2)+-parseInt(_0x320bd5(0x1a7))/0x3*(parseInt(_0x320bd5(0x21e))/0x4)+parseInt(_0x320bd5(0x272))/0x5+-parseInt(_0x320bd5(0x195))/0x6+parseInt(_0x320bd5(0x209))/0x7*(-parseInt(_0x320bd5(0x226))/0x8)+parseInt(_0x320bd5(0x225))/0x9*(-parseInt(_0x320bd5(0x25b))/0xa)+parseInt(_0x320bd5(0x249))/0xb*(parseInt(_0x320bd5(0x1af))/0xc);if(_0x40a077===_0x14ce5e)break;else _0x342c40['push'](_0x342c40['shift']());}catch(_0x2955cd){_0x342c40['push'](_0x342c40['shift']());}}}(a85_0x3ef7,0xc0946));function a85_0x42ae(_0x1b6a19,_0xcc9cef){const _0x3ef761=a85_0x3ef7();return a85_0x42ae=function(_0x42aec9,_0x4d74ef){_0x42aec9=_0x42aec9-0x176;let _0x34520b=_0x3ef761[_0x42aec9];return _0x34520b;},a85_0x42ae(_0x1b6a19,_0xcc9cef);}const util=require(a85_0x25394f(0x263)),os=require('os'),path=require(a85_0x25394f(0x23a)),{v4:uuidv4}=require(a85_0x25394f(0x232)),fs=require('fs'),constants=require(a85_0x25394f(0x259)),logger=require(a85_0x25394f(0x18a))[a85_0x25394f(0x177)],fileLogger=require(a85_0x25394f(0x18a))[a85_0x25394f(0x1b2)],{getLogDir}=require(a85_0x25394f(0x18a)),helper=require(a85_0x25394f(0x17c)),utilities=require(a85_0x25394f(0x26d)),percyHelper=require(a85_0x25394f(0x1b8)),hubAllocator=require(a85_0x25394f(0x25d)),PerformanceTester=require(a85_0x25394f(0x1ea)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require(a85_0x25394f(0x231)),{setPercyFlag}=require(a85_0x25394f(0x194)),TestHubHandler=require(a85_0x25394f(0x22f)),timeoutPromise=require(a85_0x25394f(0x204)),BrowserstackCLI=require(a85_0x25394f(0x1f5));class BrowserStackSetup{constructor(_0x4c4d6e,_0x4ab299){const _0x12ac7b=a85_0x25394f,_0x20e22f={'FzZmg':_0x12ac7b(0x221),'gwFoJ':_0x12ac7b(0x21c),'rXAoC':function(_0x291cb2){return _0x291cb2();}},_0x3e4c0f=_0x20e22f[_0x12ac7b(0x1f2)][_0x12ac7b(0x21a)]('|');let _0x3ce10c=0x0;while(!![]){switch(_0x3e4c0f[_0x3ce10c++]){case'0':if(helper[_0x12ac7b(0x1f6)](this['config']))throw new Error(_0x20e22f[_0x12ac7b(0x266)]);continue;case'1':this['sdkRunId']=_0x20e22f[_0x12ac7b(0x208)](uuidv4);continue;case'2':helper[_0x12ac7b(0x1e1)](this['config']);continue;case'3':global['framework']=_0x4ab299;continue;case'4':this['unhandledErrors']=[];continue;case'5':helper['setLogDir'](this[_0x12ac7b(0x1d6)]);continue;case'6':this[_0x12ac7b(0x1d6)][_0x12ac7b(0x269)][_0x12ac7b(0x26a)]=!helper[_0x12ac7b(0x1ee)]()||helper[_0x12ac7b(0x20f)](this['config'][_0x12ac7b(0x269)][_0x12ac7b(0x26a)]);continue;case'7':this[_0x12ac7b(0x1aa)]=helper[_0x12ac7b(0x1c9)](_0x4c4d6e);continue;case'8':this[_0x12ac7b(0x27c)]=helper['setEnvCaps']();continue;case'9':this[_0x12ac7b(0x1d6)]=helper[_0x12ac7b(0x1ae)](helper[_0x12ac7b(0x1c2)](_0x4c4d6e));continue;case'10':this[_0x12ac7b(0x24b)]=_0x4ab299;continue;case'11':this['percy']=null;continue;case'12':PerformanceTester[_0x12ac7b(0x243)]();continue;case'13':this[_0x12ac7b(0x19d)]={};continue;case'14':helper[_0x12ac7b(0x217)]();continue;case'15':this[_0x12ac7b(0x1d6)][_0x12ac7b(0x1e4)]=this['config']['platforms']||[];continue;case'16':this['config'][_0x12ac7b(0x269)]=this[_0x12ac7b(0x1d6)][_0x12ac7b(0x269)]||{};continue;case'17':this[_0x12ac7b(0x1cf)]=null;continue;case'18':helper[_0x12ac7b(0x1a0)](this[_0x12ac7b(0x1d6)],this[_0x12ac7b(0x1aa)]);continue;case'19':this[_0x12ac7b(0x1d6)][_0x12ac7b(0x269)][_0x12ac7b(0x1a6)]=!helper[_0x12ac7b(0x1ee)]()||helper[_0x12ac7b(0x20f)](this[_0x12ac7b(0x1d6)][_0x12ac7b(0x269)][_0x12ac7b(0x1a6)]);continue;case'20':helper['getFinalCaps'](this[_0x12ac7b(0x1d6)],this['cliConfig'],this['envConfig']);continue;case'21':helper[_0x12ac7b(0x219)](this['config'],this[_0x12ac7b(0x1aa)],this[_0x12ac7b(0x27c)]);continue;case'22':if(this[_0x12ac7b(0x1d6)]['error'])throw new Error(this['config']['error']);continue;}break;}}[a85_0x25394f(0x203)](_0x35d341){const _0x443f56=a85_0x25394f,_0x508962={'xdHHV':_0x443f56(0x268),'qfEGD':function(_0x14bc40,_0x274cf7){return _0x14bc40===_0x274cf7;},'xXXAb':function(_0x2e2477,_0xa17fab){return _0x2e2477===_0xa17fab;},'YACQV':_0x443f56(0x227),'tLJta':_0x443f56(0x20a),'eFoOW':function(_0x57d3f6,_0x35190d){return _0x57d3f6<_0x35190d;},'jHXLq':function(_0x5bdb39,_0x110118){return _0x5bdb39(_0x110118);},'XmSCj':'selenium-webdriver','kVmSu':'4.5.0','bwJEv':_0x443f56(0x256),'taljF':'parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','mXfIY':_0x443f56(0x218),'xFwyX':_0x443f56(0x244),'TYSnR':'SIGHUP','gtoBN':function(_0x3b4674,_0x32436c){return _0x3b4674!==_0x32436c;},'EdmmH':_0x443f56(0x1cd),'nHZEe':_0x443f56(0x23f),'rYGvH':_0x443f56(0x1a3),'CaEno':_0x443f56(0x1bd),'UWMEy':_0x443f56(0x202)},_0x115199=this[_0x443f56(0x24b)];global['config']=this[_0x443f56(0x1d6)],helper[_0x443f56(0x24c)](this[_0x443f56(0x1d6)]),this[_0x443f56(0x1e6)]=null,global[_0x443f56(0x1b4)]=this[_0x443f56(0x1b4)],logger[_0x443f56(0x1c6)]('SDK\x20run\x20started\x20with\x20id:\x20'+this['sdkRunId']),!this[_0x443f56(0x1d6)]['browserStackLocalOptions']&&(this[_0x443f56(0x1d6)]['browserStackLocalOptions']=this[_0x443f56(0x1d6)]['localOptions']||{});if(helper[_0x443f56(0x1f6)](helper[_0x443f56(0x241)](this[_0x443f56(0x1d6)]))||helper[_0x443f56(0x1f6)](helper[_0x443f56(0x1e5)](this['config'])))throw new Error(_0x508962[_0x443f56(0x22c)]);helper[_0x443f56(0x207)](this[_0x443f56(0x1d6)])&&helper[_0x443f56(0x1f6)](helper[_0x443f56(0x210)](this['config']))&&(!helper[_0x443f56(0x1f6)](this[_0x443f56(0x1d6)]['browserStackLocalOptions'])&&_0x508962[_0x443f56(0x20c)](this[_0x443f56(0x1d6)][_0x443f56(0x234)]['constructor'],Object)?!helper['isTrue'](this[_0x443f56(0x1d6)]['browserStackLocalOptions'][_0x443f56(0x1e8)])&&(this[_0x443f56(0x1d6)][_0x443f56(0x234)][_0x443f56(0x25c)]=helper[_0x443f56(0x26e)]()):this[_0x443f56(0x1d6)][_0x443f56(0x234)]={'localIdentifier':helper[_0x443f56(0x26e)]()});this[_0x443f56(0x1d6)]['browserStackLocalOptions'][_0x443f56(0x1e8)]=helper[_0x443f56(0x20f)](this[_0x443f56(0x1d6)][_0x443f56(0x234)][_0x443f56(0x1e8)]),helper[_0x443f56(0x281)](this[_0x443f56(0x1d6)]);if(_0x508962[_0x443f56(0x23c)](_0x115199,_0x508962['YACQV']))return;this['handleExceptions']();process[_0x443f56(0x17a)][_0x443f56(0x1ef)]&&(this[_0x443f56(0x1d6)][_0x443f56(0x1be)]=helper[_0x443f56(0x20f)](process[_0x443f56(0x17a)]['BROWSERSTACK_TURBOSCALE']),this['config'][_0x443f56(0x1c0)]=this['config'][_0x443f56(0x1c0)]||{});helper['isTurboScaleSession'](this['config'])&&(process['env'][_0x443f56(0x1ef)]=!![]);if(!helper[_0x443f56(0x1ee)]()){try{process['env'][_0x443f56(0x267)]=_0x115199,utilities[_0x443f56(0x23d)](_0x508962[_0x443f56(0x1ad)],{},this['config'],this['framework']);}catch(_0x4cbea3){logger[_0x443f56(0x1d2)](_0x443f56(0x184)+_0x4cbea3);}return;}if(helper[_0x443f56(0x26f)](_0x115199)){if(global[_0x443f56(0x229)])return;_0x508962['eFoOW'](_0x508962[_0x443f56(0x235)](parseInt,helper[_0x443f56(0x19b)](_0x508962[_0x443f56(0x178)])),0x3)&&(this['config'][_0x443f56(0x1fb)]=![]),_0x508962['qfEGD'](helper[_0x443f56(0x236)](helper[_0x443f56(0x19b)](_0x508962['XmSCj']),_0x508962[_0x443f56(0x216)]),0x1)&&(this[_0x443f56(0x1d6)][_0x443f56(0x1fb)]=!![]);}(helper[_0x443f56(0x1f6)](this[_0x443f56(0x1d6)][_0x443f56(0x1e4)])||helper['isUndefined'](this[_0x443f56(0x1d6)][_0x443f56(0x1e4)][_0x443f56(0x1de)]))&&(helper[_0x443f56(0x1f6)](this[_0x443f56(0x1d6)]['parallelsPerPlatform'])?logger['info'](_0x508962[_0x443f56(0x1ac)]):logger['warn'](_0x508962[_0x443f56(0x271)]),this['config'][_0x443f56(0x1e4)]=[]);!this[_0x443f56(0x1d6)]['testContextOptions']&&(this[_0x443f56(0x1d6)][_0x443f56(0x269)]={});try{process[_0x443f56(0x17a)][_0x443f56(0x267)]=_0x35d341['_'][0x0],utilities[_0x443f56(0x23d)](_0x508962[_0x443f56(0x1ad)],{},this[_0x443f56(0x1d6)],this['framework']);}catch(_0x5c247d){logger[_0x443f56(0x1d2)]('Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20'+_0x5c247d);}!this[_0x443f56(0x1d6)][_0x443f56(0x17d)]&&logger[_0x443f56(0x1c6)](constants[_0x443f56(0x1b1)]),this[_0x443f56(0x196)]=this[_0x443f56(0x196)][_0x443f56(0x253)](this),process['on'](_0x508962[_0x443f56(0x1d5)],this[_0x443f56(0x196)]),process['on'](_0x508962[_0x443f56(0x180)],this[_0x443f56(0x196)]),process['on'](_0x508962[_0x443f56(0x19e)],this[_0x443f56(0x196)]),_0x508962[_0x443f56(0x248)](process['platform'],_0x508962['EdmmH'])?(process['on'](_0x508962[_0x443f56(0x1da)],this[_0x443f56(0x196)]),process['on'](_0x508962[_0x443f56(0x1f9)],this[_0x443f56(0x196)])):process['on'](_0x508962[_0x443f56(0x182)],this[_0x443f56(0x196)]),process['on'](_0x508962[_0x443f56(0x270)],this[_0x443f56(0x214)]());}async[a85_0x25394f(0x206)](_0xa90a99){const _0x2481f6=a85_0x25394f,_0x373580={'TuHwm':_0x2481f6(0x1c1),'jbPAB':_0x2481f6(0x1d7),'DgvlV':_0x2481f6(0x1d4),'ZnxOA':function(_0x5b1f67,_0x4d9c89){return _0x5b1f67===_0x4d9c89;},'lfQfl':_0x2481f6(0x17b),'ESllK':function(_0x1f7730,_0x4c1f4b){return _0x1f7730+_0x4c1f4b;},'bJgwZ':'?caps=','MoClx':function(_0x15654f,_0x2eb08a){return _0x15654f(_0x2eb08a);},'eBWdJ':'codeceptjs'};this[_0x2481f6(0x203)](_0xa90a99);if(helper['isTurboScaleSession'](this[_0x2481f6(0x1d6)])){const _0x158729=await helper[_0x2481f6(0x27d)](this[_0x2481f6(0x1d6)]);this[_0x2481f6(0x1d6)][_0x2481f6(0x1a2)]=_0x158729,_0x158729['isTrialGrid']&&helper[_0x2481f6(0x22d)](this[_0x2481f6(0x1d6)][_0x2481f6(0x1cf)])&&helper[_0x2481f6(0x20f)](this['config'][_0x2481f6(0x1cf)])&&(this[_0x2481f6(0x1d6)][_0x2481f6(0x234)][_0x2481f6(0x25c)]=_0x373580[_0x2481f6(0x18f)],this['config'][_0x2481f6(0x234)][_0x373580[_0x2481f6(0x1cb)]]=_0x158729[_0x2481f6(0x255)][_0x2481f6(0x20e)](','),this['config'][_0x2481f6(0x234)][_0x2481f6(0x1ca)]=_0x373580['DgvlV']),this[_0x2481f6(0x1d6)][_0x2481f6(0x20b)]=_0x158729['url'],this[_0x2481f6(0x24b)]&&_0x373580[_0x2481f6(0x21d)](this[_0x2481f6(0x24b)][_0x2481f6(0x1ab)](),_0x373580[_0x2481f6(0x1ff)])?this[_0x2481f6(0x1d6)][_0x2481f6(0x20b)]=_0x373580[_0x2481f6(0x1dc)](_0x158729[_0x2481f6(0x192)],_0x373580[_0x2481f6(0x189)]):constants[_0x2481f6(0x246)]=helper['getHubUrl'](this[_0x2481f6(0x1d6)]),logger['debug'](_0x2481f6(0x1c3)+constants['hubUrl']);}helper[_0x2481f6(0x1a1)](this[_0x2481f6(0x1d6)]),this[_0x2481f6(0x183)](),_0x373580['MoClx'](setPercyFlag,this),await this['setupBrowserstackLocal'](),![_0x373580[_0x2481f6(0x24d)],_0x373580[_0x2481f6(0x1ff)]]['includes'](this[_0x2481f6(0x24b)])&&!helper['isTurboScaleSession'](this['config'])&&!helper[_0x2481f6(0x200)]()[_0x2481f6(0x1bf)]&&await this[_0x2481f6(0x213)]();}async[a85_0x25394f(0x230)](){const _0x3879c7=a85_0x25394f,_0x996596={};_0x996596[_0x3879c7(0x17f)]=function(_0x2a077a,_0x185613){return _0x2a077a===_0x185613;},_0x996596[_0x3879c7(0x25e)]=_0x3879c7(0x1ec),_0x996596['vJevA']='Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.',_0x996596['DkHQc']=_0x3879c7(0x273),_0x996596['wPQZF']=_0x3879c7(0x1d4),_0x996596[_0x3879c7(0x27b)]=_0x3879c7(0x202);const _0x57e862=_0x996596;if(helper[_0x3879c7(0x20f)](this['config'][_0x3879c7(0x233)])&&(!this[_0x3879c7(0x233)]||!this[_0x3879c7(0x233)]['isRunning']()))try{this['percy']=await percyHelper[_0x3879c7(0x1a9)](this[_0x3879c7(0x1d6)]);if(!this[_0x3879c7(0x233)]){process[_0x3879c7(0x17a)][_0x3879c7(0x24f)]=_0x57e862['evNDt'];throw new Error(_0x57e862['vJevA']);}logger[_0x3879c7(0x1c6)](_0x57e862[_0x3879c7(0x185)]),process[_0x3879c7(0x17a)]['BROWSERSTACK_PERCY']=_0x57e862['wPQZF'];let _0x1f1c0d=0x0;const _0x245762=async()=>{const _0x5f422a=_0x3879c7;_0x1f1c0d++,_0x57e862[_0x5f422a(0x17f)](_0x1f1c0d,0x1)&&await this[_0x5f422a(0x26b)]();};process['on'](_0x57e862['TrXeW'],_0x245762);}catch(_0x24eb99){process['env'][_0x3879c7(0x24f)]=_0x57e862[_0x3879c7(0x25e)],logger['debug'](_0x3879c7(0x1b6)+_0x24eb99);throw new Error(_0x24eb99[_0x3879c7(0x1f4)]());}}async[a85_0x25394f(0x26b)](){const _0x431e63=a85_0x25394f,_0xd14912={};_0xd14912[_0x431e63(0x1fc)]=_0x431e63(0x258),_0xd14912[_0x431e63(0x1e7)]='Error\x20occured\x20while\x20stopping\x20percy';const _0x115873=_0xd14912;if(this[_0x431e63(0x233)]&&this['percy']['isRunning']())try{await percyHelper['stopPercy'](this[_0x431e63(0x233)]),logger['info'](_0x115873[_0x431e63(0x1fc)]);}catch(_0x507a97){logger[_0x431e63(0x1f8)](_0x115873[_0x431e63(0x1e7)],_0x507a97['message']);}}async['setupBrowserstackLocal'](){const _0x15bfa5=a85_0x25394f,_0x5f5747={};_0x5f5747[_0x15bfa5(0x19f)]='Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled',_0x5f5747[_0x15bfa5(0x1e0)]=_0x15bfa5(0x1c4);const _0x1ca929=_0x5f5747;if(helper[_0x15bfa5(0x1ee)]()&&helper[_0x15bfa5(0x20f)](this[_0x15bfa5(0x1d6)][_0x15bfa5(0x1cf)])&&(!this[_0x15bfa5(0x1cf)]||!this[_0x15bfa5(0x1cf)][_0x15bfa5(0x193)]()))try{if(this[_0x15bfa5(0x1d6)][_0x15bfa5(0x234)][_0x15bfa5(0x1e8)]){logger['debug'](_0x1ca929[_0x15bfa5(0x19f)]);return;}this[_0x15bfa5(0x1cf)]=await helper['startLocalBinary'](this[_0x15bfa5(0x1d6)]),logger[_0x15bfa5(0x1c6)](_0x1ca929[_0x15bfa5(0x1e0)]);}catch(_0x42fd07){logger['debug'](_0x42fd07);throw new Error(_0x42fd07[_0x15bfa5(0x1f4)]());}}async['stopBrowserstackLocal'](){const _0x5c1d5b=a85_0x25394f,_0x27456a={};_0x27456a[_0x5c1d5b(0x215)]=_0x5c1d5b(0x1dd),_0x27456a[_0x5c1d5b(0x22a)]=_0x5c1d5b(0x198);const _0x4ce9a1=_0x27456a;if(this[_0x5c1d5b(0x1cf)]&&this['browserstackLocal'][_0x5c1d5b(0x193)]())try{await helper[_0x5c1d5b(0x1d1)](this[_0x5c1d5b(0x1cf)]),logger['info'](_0x4ce9a1[_0x5c1d5b(0x215)]);}catch(_0x2d770a){logger['error'](_0x4ce9a1[_0x5c1d5b(0x22a)],_0x2d770a[_0x5c1d5b(0x278)]);}}async['setUpHubUrl'](){const _0x5b5777=a85_0x25394f;return PerformanceTester[_0x5b5777(0x239)](PerformanceAutEvents[_0x5b5777(0x1e3)],async()=>{const _0x4bf7d8=_0x5b5777;await hubAllocator[_0x4bf7d8(0x238)](this['config']);})();}async[a85_0x25394f(0x1ed)](){const _0x2a628d=a85_0x25394f,_0x38fc40={'lGmqE':function(_0x226b2b,_0x18f342){return _0x226b2b(_0x18f342);},'yTyqq':_0x2a628d(0x1b5),'ZXjPe':function(_0x1e0059,_0x1ebffd,_0xfaac3a,_0x11710d,_0xe9ad7c,_0x670a78,_0xecec44){return _0x1e0059(_0x1ebffd,_0xfaac3a,_0x11710d,_0xe9ad7c,_0x670a78,_0xecec44);},'VGCDF':_0x2a628d(0x1b9),'VPgAh':_0x2a628d(0x1e2),'XKchk':_0x2a628d(0x1b0),'MBJEb':_0x2a628d(0x1f0),'tnLvy':function(_0x4d6d47,_0x570719){return _0x4d6d47===_0x570719;},'DobhN':_0x2a628d(0x1d4),'INtnl':function(_0x459fe4,_0x3749ae){return _0x459fe4===_0x3749ae;},'vvRHZ':function(_0x454655,_0x5d47a6){return _0x454655===_0x5d47a6;},'rydWK':_0x2a628d(0x187),'VivZL':function(_0x3276b9,_0x2151b7){return _0x3276b9===_0x2151b7;},'ErblR':_0x2a628d(0x186),'WQUSD':_0x2a628d(0x23e),'cZyGJ':'Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','tshpR':function(_0x3f9cff,_0x497471){return _0x3f9cff>=_0x497471;},'SZSCX':function(_0x2d7cbe,_0x21d44f){return _0x2d7cbe<_0x21d44f;},'FWGRK':_0x2a628d(0x1f3),'yAuCd':_0x2a628d(0x222),'ydnuA':function(_0x26a803){return _0x26a803();}},_0x9a5a33=PerformanceTester[_0x2a628d(0x239)](_0x38fc40[_0x2a628d(0x27f)],async()=>{const _0x5472bb=_0x2a628d;try{const _0x2a17bc=new Date(),_0x1cfb58=helper[_0x5472bb(0x1d3)](this[_0x5472bb(0x1d6)]),_0x2dd45c=_0x38fc40[_0x5472bb(0x19c)](require,path['join'](__dirname,_0x38fc40[_0x5472bb(0x1ba)])),_0x1ef216=_0x38fc40[_0x5472bb(0x1a8)](timeoutPromise,constants[_0x5472bb(0x1fe)],_0x38fc40[_0x5472bb(0x18e)],_0x38fc40[_0x5472bb(0x20d)],_0x2a17bc,this[_0x5472bb(0x1d6)],this[_0x5472bb(0x24b)]),_0x15ebca={'tcgUrl':constants[_0x5472bb(0x22e)],'sdkVersion':_0x38fc40[_0x5472bb(0x19c)](require,_0x38fc40['XKchk'])[_0x5472bb(0x19a)],'methodUsed':_0x38fc40[_0x5472bb(0x21b)],'proxyConfig':_0x1cfb58,'os':os['platform']()};if(_0x1cfb58&&_0x1cfb58[_0x5472bb(0x21f)]){utilities['fireFunnelTestEvent'](constants[_0x5472bb(0x24e)],_0x15ebca,this[_0x5472bb(0x1d6)],this[_0x5472bb(0x24b)]);return;}const _0x42e2d7={};_0x42e2d7[_0x5472bb(0x1b7)]=_0x1cfb58;const _0x3c3456=await Promise[_0x5472bb(0x188)]([_0x2dd45c['init'](this[_0x5472bb(0x1d6)][_0x5472bb(0x247)],this[_0x5472bb(0x1d6)][_0x5472bb(0x1d8)],constants['TCG_URL'],_0x38fc40[_0x5472bb(0x19c)](require,_0x38fc40[_0x5472bb(0x1eb)])[_0x5472bb(0x19a)],_0x42e2d7)['then'](_0x177989=>{return _0x1ef216['cancel'](),_0x177989;}),_0x1ef216]);_0x3c3456[_0x5472bb(0x191)]=_0x38fc40[_0x5472bb(0x1f7)](_0x3c3456[_0x5472bb(0x191)],_0x38fc40['DobhN'])||_0x38fc40[_0x5472bb(0x240)](_0x3c3456[_0x5472bb(0x191)],!![]);const _0x239a9c=_0x38fc40['tnLvy'](this[_0x5472bb(0x1d6)][_0x5472bb(0x280)],!![])||_0x38fc40[_0x5472bb(0x265)](this[_0x5472bb(0x1d6)][_0x5472bb(0x280)],_0x38fc40[_0x5472bb(0x257)]);if(_0x38fc40[_0x5472bb(0x265)](_0x3c3456[_0x5472bb(0x278)],constants[_0x5472bb(0x261)])&&_0x239a9c)logger[_0x5472bb(0x1c6)](_0x38fc40[_0x5472bb(0x254)]);else{if(!_0x3c3456[_0x5472bb(0x176)]&&_0x38fc40[_0x5472bb(0x1bb)](_0x3c3456['status'],0x1f7)&&_0x239a9c)logger[_0x5472bb(0x1c6)](_0x38fc40['ErblR']),utilities[_0x5472bb(0x23d)](constants[_0x5472bb(0x228)],_0x15ebca,this[_0x5472bb(0x1d6)],this[_0x5472bb(0x24b)]);else{if(!_0x3c3456['isAuthenticated']&&_0x239a9c){logger[_0x5472bb(0x1c6)](_0x38fc40[_0x5472bb(0x18b)]);const _0x160e1d={'tcgUrl':constants[_0x5472bb(0x22e)],'sdkVersion':_0x38fc40['lGmqE'](require,_0x38fc40['XKchk'])[_0x5472bb(0x19a)],'methodUsed':_0x38fc40['MBJEb'],'proxyConfig':_0x1cfb58,'os':os[_0x5472bb(0x245)]()};utilities[_0x5472bb(0x23d)](constants['TCG_AUTH_FAILURE'],_0x160e1d,this['config'],this[_0x5472bb(0x24b)]);}else{if(_0x3c3456['isAuthenticated']&&!_0x3c3456[_0x5472bb(0x191)]&&_0x239a9c)logger[_0x5472bb(0x1c6)](_0x38fc40[_0x5472bb(0x26c)]);else{if(_0x38fc40[_0x5472bb(0x23b)](_0x3c3456['status'],0xc8)&&_0x38fc40[_0x5472bb(0x277)](_0x3c3456[_0x5472bb(0x24a)],0x12c))utilities[_0x5472bb(0x23d)](constants[_0x5472bb(0x1cc)],_0x15ebca,this[_0x5472bb(0x1d6)],this['framework']);else{if(_0x38fc40[_0x5472bb(0x23b)](_0x3c3456[_0x5472bb(0x24a)],0x190))_0x15ebca[_0x5472bb(0x24a)]=_0x3c3456['status'],utilities[_0x5472bb(0x23d)](constants['AI_INIT_FAILURE'],_0x15ebca,this['config'],this['framework']);else!_0x3c3456['status']&&utilities[_0x5472bb(0x23d)](constants[_0x5472bb(0x212)],_0x15ebca,this['config'],this['framework']);}}}}}if(_0x3c3456[_0x5472bb(0x176)]&&_0x3c3456[_0x5472bb(0x191)]){const _0x2df3d6={};_0x2df3d6[_0x5472bb(0x1a5)]=_0x3c3456;const _0x607a3=_0x2df3d6;_0x1cfb58&&(_0x607a3['proxyConfig']=_0x1cfb58),_0x607a3[_0x5472bb(0x24b)]=this[_0x5472bb(0x24b)],_0x607a3[_0x5472bb(0x22b)]=this['config'],helper[_0x5472bb(0x211)](_0x607a3),logger[_0x5472bb(0x1d2)](_0x38fc40[_0x5472bb(0x275)]);}}catch(_0x2d8f89){logger[_0x5472bb(0x1d2)](_0x5472bb(0x17e)+(_0x2d8f89[_0x5472bb(0x278)]?_0x2d8f89['message']:''));}});await _0x38fc40[_0x2a628d(0x1fa)](_0x9a5a33);}['setupKeepAlive'](){const _0x405be2=a85_0x25394f,_0xf6baf9={'JtlZg':function(_0x4a1118,_0x5bd076){return _0x4a1118(_0x5bd076);},'OtPSP':_0x405be2(0x250)};_0xf6baf9[_0x405be2(0x1bc)](require,_0xf6baf9[_0x405be2(0x224)])();}[a85_0x25394f(0x1df)](){const _0x58986e=a85_0x25394f,_0x15393e={};_0x15393e['TMzex']='unhandledRejection',_0x15393e[_0x58986e(0x1ce)]=_0x58986e(0x199);const _0x26e824=_0x15393e,_0x5ba14d=_0x3a04c4=>{const _0x5e0293=_0x58986e;logger[_0x5e0293(0x1f8)](_0x3a04c4[_0x5e0293(0x278)]),logger['debug'](util['format'](_0x3a04c4)),this[_0x5e0293(0x220)][_0x5e0293(0x25f)](util['format']('%j',_0x3a04c4)),PerformanceTester['captureError'](_0x3a04c4);};process['on'](_0x26e824[_0x58986e(0x1fd)],_0x5ba14d),process['on'](_0x26e824[_0x58986e(0x1ce)],_0x5ba14d);}async[a85_0x25394f(0x196)](_0x2f0edd){const _0x14596b=a85_0x25394f,_0xcd34a8={};_0xcd34a8['Fgtmf']=_0x14596b(0x18c),_0xcd34a8[_0x14596b(0x279)]=function(_0xbe2f52,_0xaf95a7){return _0xbe2f52+_0xaf95a7;},_0xcd34a8[_0x14596b(0x251)]=_0x14596b(0x242),_0xcd34a8['iHjvT']='handled',_0xcd34a8[_0x14596b(0x1c5)]=function(_0x387247,_0x562d31){return _0x387247+_0x562d31;};const _0x2cf710=_0xcd34a8,_0x107cb1=_0x2cf710['Fgtmf'][_0x14596b(0x21a)]('|');let _0x3304ae=0x0;while(!![]){switch(_0x107cb1[_0x3304ae++]){case'0':logger[_0x14596b(0x1c6)](_0x2cf710[_0x14596b(0x279)](_0x2cf710[_0x14596b(0x251)],_0x2f0edd));continue;case'1':this[_0x2cf710[_0x14596b(0x279)](_0x2cf710[_0x14596b(0x1c7)],_0x2f0edd)]=!![];continue;case'2':await BrowserstackCLI[_0x14596b(0x27e)]()[_0x14596b(0x197)]();continue;case'3':this['killSignal']=_0x2f0edd;continue;case'4':await TestHubHandler[_0x14596b(0x197)](_0x2f0edd);continue;case'5':if(this[_0x2cf710[_0x14596b(0x1c5)](_0x2cf710[_0x14596b(0x1c7)],_0x2f0edd)])return;continue;}break;}}[a85_0x25394f(0x214)](){const _0x453fb4={'MIkyH':function(_0x62705d,_0x1fd6f9){return _0x62705d===_0x1fd6f9;},'jYmQt':'Calling\x20Build\x20Stop\x20from\x20ExitHandler','tUkTR':function(_0x5a2ff1,_0x43357f){return _0x5a2ff1>_0x43357f;},'rJyab':function(_0x117981,_0x49ee4e){return _0x117981>_0x49ee4e;},'KhIiw':function(_0x2dbd9f){return _0x2dbd9f();},'uVUAt':'events.json'};let _0x124727=0x0;return async()=>{const _0x9e2812=a85_0x42ae;_0x124727++;if(_0x453fb4['MIkyH'](_0x124727,0x1)){helper['checkStopLocalBinaryOnExit'](this[_0x9e2812(0x24b)])&&await this[_0x9e2812(0x179)]();try{logger[_0x9e2812(0x1d2)](_0x453fb4[_0x9e2812(0x25a)]),await TestHubHandler[_0x9e2812(0x197)](_0x124727),await BrowserstackCLI[_0x9e2812(0x27e)]()[_0x9e2812(0x197)]('1');}catch(_0x5df38f){logger[_0x9e2812(0x1d2)](_0x9e2812(0x260)+util[_0x9e2812(0x190)](_0x5df38f));}PerformanceTester[_0x9e2812(0x1db)](PerformanceEvents[_0x9e2812(0x205)]);if(PerformanceTester[_0x9e2812(0x1a4)]()){const {measures:_0x5c22ea,errors:_0x55c254}=await PerformanceTester[_0x9e2812(0x1d0)](),_0x2f57bb={};if(_0x5c22ea&&_0x453fb4['tUkTR'](_0x5c22ea['length'],0x0)||_0x55c254&&_0x453fb4[_0x9e2812(0x27a)](_0x55c254[_0x9e2812(0x1de)],0x0)){const _0x445835={};_0x445835[_0x9e2812(0x1f1)]=_0x5c22ea,_0x445835[_0x9e2812(0x274)]=_0x55c254,Object['assign'](_0x2f57bb,_0x445835);}try{const _0x4627b4=await helper[_0x9e2812(0x264)](_0x2f57bb,this[_0x9e2812(0x1d6)]);logger['debug']('Data\x20sent\x20successfully\x20to\x20'+constants[_0x9e2812(0x276)]+_0x9e2812(0x18d)+_0x4627b4['statusCode']);}catch(_0x21cd44){logger[_0x9e2812(0x1d2)](_0x9e2812(0x262)+constants[_0x9e2812(0x276)]+_0x9e2812(0x237)+util[_0x9e2812(0x190)](_0x21cd44));}try{fs['writeFileSync'](path[_0x9e2812(0x20e)](_0x453fb4[_0x9e2812(0x223)](getLogDir),_0x453fb4[_0x9e2812(0x1c8)]),JSON[_0x9e2812(0x181)](_0x2f57bb));}catch(_0x6fcbc0){logger[_0x9e2812(0x1d2)](_0x9e2812(0x1e9)+_0x6fcbc0);}}}logger&&logger['close'](),fileLogger&&fileLogger[_0x9e2812(0x1d9)]();};}}exports[a85_0x25394f(0x1b3)]=BrowserStackSetup;function a85_0x3ef7(){const _0x3bd804=['proxy','./percy/utils','BrowserstackHealing.init\x20method\x20timed\x20out','yTyqq','VivZL','JtlZg','SIGBREAK','turboScale','central_scanner','turboScaleOptions','ats-repeater','getConfigPath','HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20','Local\x20binary\x20started\x20successfully','XoHUU','info','iHjvT','uVUAt','setCLICaps','forceLocal','jbPAB','AI_INIT_SUCCESSFUL','win32','ZrlJE','browserstackLocal','finalize','stopLocalBinary','debug','getProxyConfigForTcg','true','mXfIY','config','custom-repeater','userName','close','nHZEe','end','ESllK','Local\x20binary\x20stopped','length','handleExceptions','QQxlV','setCredentialsFromYmlConfig','BrowserstackHealingInitFailed','HUB_MANAGEMENT','platforms','getAccessKey','killSignal','HLltU','skipBinaryInitialisation','Error\x20in\x20writing\x20events\x20to\x20file\x20','./performance/performance-tester','XKchk','false','setupTCGAuth','isBrowserstackInfra','BROWSERSTACK_TURBOSCALE','BrowserstackHealing.init','measures','FzZmg','tcg\x20config\x20setup\x20successful.','toString','../bin/v2/browserstackCLI','isUndefined','tnLvy','error','rYGvH','ydnuA','useW3C','gOrFZ','TMzex','TCG_AUTH_TIMEOUT','lfQfl','getCentralUser','386sFbfWG','beforeExit','preInitialize','./timeoutPromise','SDK_CLEANUP','initialize','getLocalConfig','rXAoC','2646pNDHIO','SDKTestAttempted','turboScaleUrl','qfEGD','VPgAh','join','isTrue','getLocalIdentifier','setupTcgConfigFile','INVALID_INIT_RESP_WITH_USER_IMPACT','setUpHubUrl','exitHandler','KoeWp','kVmSu','normalizeTestReportingEnvVars','SIGTERM','setLogLevel','split','MBJEb','No\x20config\x20provided.','ZnxOA','4SovTUj','proxyUrl','unhandledErrors','4|14|8|17|11|9|7|15|16|13|1|10|3|0|22|18|2|19|6|20|5|21|12','aiHeal:tcgAuth','KhIiw','OtPSP','2109753efcgIW','28176PTdKfq','integrations','TCG_DOWN','__isPlaywrightInstalled','MEtan','bstackConfig','xdHHV','isNotUndefined','TCG_URL','./testhub/testhubHandler','setupPercy','./performance/constants','uuid','percy','browserStackLocalOptions','jHXLq','compareVersions','\x20with\x20error\x20','allocateHub','measureWrapper','path','tshpR','xXXAb','fireFunnelTestEvent','Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','SIGABRT','INtnl','getUserName','Shutdown\x20triggered\x20by\x20','startMonitoring','SIGINT','platform','hubUrl','accessKey','gtoBN','27291zvPvqA','status','framework','sanitizeCaps','eBWdJ','AI_PROXY_FAILURE','BROWSERSTACK_PERCY','./setKeepAlive','XaMgp','4271vvvyUQ','bind','rydWK','customRepeaters','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','DobhN','Percy\x20stopped','../bin/utils/constants','jYmQt','10KutlcS','localIdentifier','../hubAllocationMethods','evNDt','push','Error\x20in\x20sending\x20testhub\x20stop:\x20','UPGRADE_REQUIRED','Failed\x20to\x20send\x20data\x20to\x20','util','sendToEDS','vvRHZ','gwFoJ','FRAMEWORK','userName\x20or\x20accessKey\x20is\x20not\x20defined','testContextOptions','skipSessionName','stopPercy','cZyGJ','./utilities','generateLocalIdentifier','requireSeleniumWebdriverCheck','UWMEy','taljF','7197365RAicav','Percy\x20started\x20successfully','exceptions','FWGRK','EDS_URL','SZSCX','message','ccOEp','rJyab','TrXeW','envConfig','getTurboScaleGridDetails','getInstance','yAuCd','selfHeal','setHandlePWError','isAuthenticated','winstonLogger','XmSCj','stopBrowserstackLocal','env','playwright','./helper','disableAutoCaptureLogs','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','nSZHl','xFwyX','stringify','CaEno','setupKeepAlive','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','DkHQc','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','race','bJgwZ','./logger','WQUSD','5|1|0|3|4|2','\x20with\x20response\x20','VGCDF','TuHwm','format','isHealingEnabled','playwrightUrl','isRunning','./testhub/utils','4387902xHSHka','intExitHandler','stop','Error\x20occured\x20while\x20stopping\x20local\x20binary','uncaughtException','version','getPackageVersion','lGmqE','errorMessage','TYSnR','LKbBn','setBrowserstackInfraFromConfig','setProxySettings','turboScaleGridDetails','SIGQUIT','isEnabled','tcgAuthConfig','skipSessionStatus','931545SmlLvx','ZXjPe','startPercy','cliConfig','toLowerCase','bwJEv','tLJta','readConfig','13452IjDsym','../../package.json','AUTOLOGCAPTURE_NOTIFICATION','fileLogger','default','sdkRunId','../ai-sdk-node/bundle','Error\x20in\x20percy\x20setup\x20'];a85_0x3ef7=function(){return _0x3bd804;};return a85_0x3ef7();}