const a55_0x196310=a55_0x19dc;function a55_0x11e7(){const _0x54c98d=['checkStopLocalBinaryOnExit','Local\x20binary\x20started\x20successfully','env','measureWrapper','aiHeal:tcgAuth','TCG_AUTH_TIMEOUT','isRunning','421728CXBpgI','../../package.json','ZiZGK','percy','BROWSERSTACK_PERCY','useW3C','ulKPT','iwUlg','VvZVz','SUhcQ','QKqgu','Error\x20occured\x20while\x20stopping\x20local\x20binary','Percy\x20stopped','SDKTestAttempted','BbHll','setLogLevel','custom-repeater','DQEMr','TCG_AUTH_FAILURE','XucgU','FEnaI','UPGRADE_REQUIRED','FKaTl','lyMpP','beforeExit','error','isUndefined','length','platform','true','BbpWD','SIGTERM','bstackConfig','bdAgx','Error\x20occured\x20while\x20stopping\x20percy','./percy/utils','isTrue','getCentralUser','proxyConfig','race','SDK\x20run\x20started\x20with\x20id:\x20','turboScaleUrl','kdAzG','tTqGE','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','turboScaleOptions','KTJdp','localIdentifier','info','hdUcU','Error\x20in\x20percy\x20setup\x20','browserStackLocalOptions','VrQON','2346456rVGcay','disableAutoCaptureLogs','BTvLI','../ai-sdk-node/bundle','\x20with\x20error\x20','setProxySettings','fireFunnelTestEvent','XFBIT','end','SggnG','10344GHFVNG','AUTOLOGCAPTURE_NOTIFICATION','Local\x20binary\x20stopped','forceLocal','xmsCR','BrowserstackHealingInitFailed','FRAMEWORK','BQNbA','path','TCG_DOWN','playwrightUrl','Shutdown\x20triggered\x20by\x20','testContextOptions','unhandledErrors','ZILzM','cLasc','LsJaT','EnSvQ','./setKeepAlive','toLowerCase','fnXZS','Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','AI_PROXY_FAILURE','turboScaleGridDetails','setUpHubUrl','toString','getHubUrl','status','writeFileSync','setHandlePWError','./helper','envConfig','4|1|3|0|2','BROWSERSTACK_TURBOSCALE','12pukEhg','getPackageVersion','MqmIJ','./timeoutPromise','sdkRunID','BrowserstackHealing.init','getLocalConfig','iVryk','split','jnVlK','parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','44556mlLVHn','FVyec','statusCode','exceptions','codeceptjs','isEnabled','fXrbi','Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','central_scanner','handleExceptions','zvOyV','push','UffaJ','SSiJW','initialize','startPercy','12|25|8|42|6|2|1|23|33|14|41|37|22|21|7|5|3|0|39|29|10|38|34|35|26|18|40|32|15|20|4|31|28|30|43|19|11|17|16|27|13|24|9|36','vbhNc','userName','CjvvB','No\x20config\x20provided.','yYloi','getUserName','proxy','handled','join','userName\x20or\x20accessKey\x20is\x20not\x20defined','QbDjr','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','init','iZnrS','setupBrowserstackLocal','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','format','version','framework','loBjw','selenium-webdriver','browserstackLocal','config','GxgAA','INVALID_INIT_RESP_WITH_USER_IMPACT','EAEhN','Error\x20in\x20writing\x20events\x20to\x20file\x20','LqDvc','isTrialGrid','stopLocalBinary','Pdiux','win32','Data\x20sent\x20successfully\x20to\x20','xeuOz','PlJtU','constructor','SDK_CLEANUP','getConfigPath','Percy\x20started\x20successfully','errorMessage','accessKey','getAccessKey','SIGBREAK','SIGINT','allocateHub','OeMeQ','selfHeal','?caps=','TpoRy','intExitHandler','NGEgQ','stopPercy','SIGABRT','stringify','IlNFt','oyuGo','setupPercy','localOptions','./testhub/testhubHandler','SdWvn','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','uuid','./testhub/utils','EDS_URL','41PYwNUu','ats-repeater','GqtKl','stopBrowserstackLocal','301tPJFAK','warn','AaNId','jBazv','BaPvF','skipSessionStatus','xfwQm','SIGQUIT','HUB_MANAGEMENT','bGFba','exitHandler','gopGd','readConfig','3248930DsvlTc','xvbGB','unhandledRejection','Gnvbj','setupTcgConfigFile','skipSessionName','AI_INIT_SUCCESSFUL','setBrowserstackInfraFromConfig','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','cancel','isHealingEnabled','platforms','tyepT','generateLocalIdentifier','./utilities','tcg\x20config\x20setup\x20successful.','stop','2458899MLzEYM','default','KpwUm','setCLICaps','customRepeaters','isBrowserstackInfra','setupKeepAlive','YYPOq','cliConfig','requireSeleniumWebdriverCheck','killSignal','message','STpIr','skipBinaryInitialisation','compareVersions','setupTCGAuth','LjCrl','debug','winstonLogger','getLocalIdentifier','1189530ZLEfRC','setEnvCaps','sendToEDS','STpyn','YghTp','uncaughtException','isAuthenticated','jlEpp','./performance/performance-tester','../bin/utils/constants'];a55_0x11e7=function(){return _0x54c98d;};return a55_0x11e7();}(function(_0x3ae3c8,_0x289118){const _0x5dae2e=a55_0x19dc,_0x301ade=_0x3ae3c8();while(!![]){try{const _0x2dfcc1=-parseInt(_0x5dae2e(0x2c6))/0x1*(parseInt(_0x5dae2e(0x248))/0x2)+-parseInt(_0x5dae2e(0x209))/0x3*(-parseInt(_0x5dae2e(0x26a))/0x4)+parseInt(_0x5dae2e(0x1f8))/0x5+-parseInt(_0x5dae2e(0x275))/0x6*(parseInt(_0x5dae2e(0x2ca))/0x7)+parseInt(_0x5dae2e(0x23e))/0x8+parseInt(_0x5dae2e(0x2e8))/0x9+-parseInt(_0x5dae2e(0x2d7))/0xa;if(_0x2dfcc1===_0x289118)break;else _0x301ade['push'](_0x301ade['shift']());}catch(_0x1a99db){_0x301ade['push'](_0x301ade['shift']());}}}(a55_0x11e7,0x5a4e1));function a55_0x19dc(_0x54f1ff,_0x35ec47){const _0x11e7b8=a55_0x11e7();return a55_0x19dc=function(_0x19dc4b,_0x2cc50c){_0x19dc4b=_0x19dc4b-0x1e6;let _0x55ff74=_0x11e7b8[_0x19dc4b];return _0x55ff74;},a55_0x19dc(_0x54f1ff,_0x35ec47);}const util=require('util'),os=require('os'),path=require(a55_0x196310(0x250)),{v4:uuidv4}=require(a55_0x196310(0x2c3)),fs=require('fs'),constants=require(a55_0x196310(0x201)),{isTurboScaleSession}=require('./ats/helper'),logger=require('./logger')[a55_0x196310(0x1f6)],helper=require(a55_0x196310(0x266)),utilities=require(a55_0x196310(0x2e5)),percyHelper=require(a55_0x196310(0x22c)),hubAllocator=require('../hubAllocationMethods'),PerformanceTester=require(a55_0x196310(0x200)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require('./performance/constants'),{setPercyFlag}=require(a55_0x196310(0x2c4)),TestHubHandler=require(a55_0x196310(0x2c0)),timeoutPromise=require(a55_0x196310(0x26d));class BrowserStackSetup{constructor(_0x36ece7,_0x32d8f5){const _0x1d4b0f=a55_0x196310,_0x178b31={'lyMpP':_0x1d4b0f(0x285),'GxgAA':_0x1d4b0f(0x289),'kdAzG':function(_0x57e9ff,_0x423071){return _0x57e9ff!==_0x423071;},'xeuOz':_0x1d4b0f(0x2a5),'xvbGB':_0x1d4b0f(0x2ba),'XucgU':_0x1d4b0f(0x2d1),'PlJtU':_0x1d4b0f(0x2b0),'gopGd':_0x1d4b0f(0x216),'gGnOB':_0x1d4b0f(0x2b1),'FOsOO':function(_0x21c638,_0xc56e55){return _0x21c638===_0xc56e55;},'OlnAk':function(_0x3923ec,_0x12d479){return _0x3923ec===_0x12d479;},'AaNId':'integrations','VrQON':function(_0x219d88){return _0x219d88();},'jlEpp':'SIGHUP','bdAgx':_0x1d4b0f(0x28f),'KTJdp':_0x1d4b0f(0x228),'loBjw':function(_0x581e58,_0x304558){return _0x581e58<_0x304558;},'dQuux':function(_0x45d3c2,_0x940c3d){return _0x45d3c2(_0x940c3d);},'jnVlK':_0x1d4b0f(0x29a),'QKqgu':function(_0x599f6a,_0x45744d){return _0x599f6a===_0x45744d;},'peyZp':'4.5.0','zvOyV':_0x1d4b0f(0x221),'nOQtk':_0x1d4b0f(0x295),'TpoRy':_0x1d4b0f(0x274)},_0x2b5e85=_0x178b31[_0x1d4b0f(0x220)][_0x1d4b0f(0x272)]('|');let _0x4c3fa4=0x0;while(!![]){switch(_0x2b5e85[_0x4c3fa4++]){case'0':if(helper[_0x1d4b0f(0x223)](this[_0x1d4b0f(0x29c)]))throw new Error(_0x178b31[_0x1d4b0f(0x29d)]);continue;case'1':this[_0x1d4b0f(0x29c)][_0x1d4b0f(0x2e2)]=this[_0x1d4b0f(0x29c)]['platforms']||[];continue;case'2':this[_0x1d4b0f(0x29c)]=helper[_0x1d4b0f(0x2d6)](helper[_0x1d4b0f(0x2ab)](_0x36ece7));continue;case'3':logger[_0x1d4b0f(0x239)](_0x1d4b0f(0x231)+this[_0x1d4b0f(0x26e)]);continue;case'4':this[_0x1d4b0f(0x27e)]();continue;case'5':global['sdkRunID']=this['sdkRunID'];continue;case'6':this[_0x1d4b0f(0x20c)]=null;continue;case'7':this[_0x1d4b0f(0x1ee)]=null;continue;case'8':this[_0x1d4b0f(0x267)]=helper[_0x1d4b0f(0x1f9)]();continue;case'9':_0x178b31[_0x1d4b0f(0x233)](process[_0x1d4b0f(0x225)],_0x178b31[_0x1d4b0f(0x2a7)])?(process['on'](_0x178b31[_0x1d4b0f(0x2d8)],this[_0x1d4b0f(0x2b7)]),process['on'](_0x178b31[_0x1d4b0f(0x21c)],this['intExitHandler'])):process['on'](_0x178b31[_0x1d4b0f(0x2a8)],this[_0x1d4b0f(0x2b7)]);continue;case'10':this[_0x1d4b0f(0x29c)][_0x1d4b0f(0x254)][_0x1d4b0f(0x2cf)]=!helper['isBrowserstackInfra']()||helper['isTrue'](this['config'][_0x1d4b0f(0x254)][_0x1d4b0f(0x2cf)]);continue;case'11':try{process[_0x1d4b0f(0x204)][_0x1d4b0f(0x24e)]=_0x36ece7['_'][0x0],utilities[_0x1d4b0f(0x244)](_0x178b31['gopGd'],{},this[_0x1d4b0f(0x29c)],this['framework']);}catch(_0x1861c2){logger['debug'](_0x1d4b0f(0x2c2)+_0x1861c2);}continue;case'12':this[_0x1d4b0f(0x255)]=[];continue;case'13':process['on'](_0x178b31['gGnOB'],this[_0x1d4b0f(0x2b7)]);continue;case'14':global[_0x1d4b0f(0x29c)]=this[_0x1d4b0f(0x29c)];continue;case'15':helper[_0x1d4b0f(0x265)](this[_0x1d4b0f(0x29c)]);continue;case'16':this[_0x1d4b0f(0x2b7)]=this[_0x1d4b0f(0x2b7)]['bind'](this);continue;case'17':!this[_0x1d4b0f(0x29c)][_0x1d4b0f(0x23f)]&&logger[_0x1d4b0f(0x239)](constants[_0x1d4b0f(0x249)]);continue;case'18':helper[_0x1d4b0f(0x270)](this['config'])&&helper['isUndefined'](helper[_0x1d4b0f(0x1f7)](this[_0x1d4b0f(0x29c)]))&&(!helper[_0x1d4b0f(0x223)](this[_0x1d4b0f(0x29c)][_0x1d4b0f(0x23c)])&&_0x178b31['FOsOO'](this['config'][_0x1d4b0f(0x23c)][_0x1d4b0f(0x2a9)],Object)?!helper[_0x1d4b0f(0x22d)](this['config'][_0x1d4b0f(0x23c)][_0x1d4b0f(0x1f1)])&&(this[_0x1d4b0f(0x29c)][_0x1d4b0f(0x23c)][_0x1d4b0f(0x238)]=helper['generateLocalIdentifier']()):this[_0x1d4b0f(0x29c)]['browserStackLocalOptions']={'localIdentifier':helper[_0x1d4b0f(0x2e4)]()});continue;case'19':!this[_0x1d4b0f(0x29c)]['testContextOptions']&&(this[_0x1d4b0f(0x29c)][_0x1d4b0f(0x254)]={});continue;case'20':if(_0x178b31['OlnAk'](_0x32d8f5,_0x178b31[_0x1d4b0f(0x2cc)]))return;continue;case'21':this[_0x1d4b0f(0x26e)]=_0x178b31[_0x1d4b0f(0x23d)](uuidv4);continue;case'22':this[_0x1d4b0f(0x298)]=_0x32d8f5;continue;case'23':this[_0x1d4b0f(0x29c)][_0x1d4b0f(0x254)]=this[_0x1d4b0f(0x29c)]['testContextOptions']||{};continue;case'24':process['on'](_0x178b31[_0x1d4b0f(0x1ff)],this['intExitHandler']);continue;case'25':this[_0x1d4b0f(0x1ec)]=helper[_0x1d4b0f(0x1e7)](_0x36ece7);continue;case'26':if(helper['isUndefined'](helper[_0x1d4b0f(0x28b)](this[_0x1d4b0f(0x29c)]))||helper[_0x1d4b0f(0x223)](helper[_0x1d4b0f(0x2af)](this['config'])))throw new Error(_0x178b31[_0x1d4b0f(0x22a)]);continue;case'27':process['on'](_0x178b31[_0x1d4b0f(0x237)],this[_0x1d4b0f(0x2b7)]);continue;case'28':if(!helper[_0x1d4b0f(0x1e9)]()){try{process[_0x1d4b0f(0x204)][_0x1d4b0f(0x24e)]=_0x32d8f5,utilities[_0x1d4b0f(0x244)](_0x178b31[_0x1d4b0f(0x2d5)],{},this[_0x1d4b0f(0x29c)],this[_0x1d4b0f(0x298)]);}catch(_0x862b2c){logger[_0x1d4b0f(0x1f5)](_0x1d4b0f(0x2c2)+_0x862b2c);}return;}continue;case'29':helper[_0x1d4b0f(0x2de)](this['config'],this[_0x1d4b0f(0x1ec)]);continue;case'30':helper[_0x1d4b0f(0x1ed)](_0x32d8f5)&&(_0x178b31[_0x1d4b0f(0x299)](_0x178b31['dQuux'](parseInt,helper[_0x1d4b0f(0x26b)](_0x178b31['jnVlK'])),0x3)&&(this['config'][_0x1d4b0f(0x20e)]=![]),_0x178b31[_0x1d4b0f(0x213)](helper[_0x1d4b0f(0x1f2)](helper[_0x1d4b0f(0x26b)](_0x178b31[_0x1d4b0f(0x273)]),_0x178b31['peyZp']),0x1)&&(this[_0x1d4b0f(0x29c)][_0x1d4b0f(0x20e)]=!![]));continue;case'31':process[_0x1d4b0f(0x204)][_0x1d4b0f(0x269)]&&(this[_0x1d4b0f(0x29c)]['turboScale']=helper['isTrue'](process[_0x1d4b0f(0x204)][_0x1d4b0f(0x269)]),this[_0x1d4b0f(0x29c)][_0x1d4b0f(0x236)]=this[_0x1d4b0f(0x29c)][_0x1d4b0f(0x236)]||{});continue;case'32':helper[_0x1d4b0f(0x218)](this[_0x1d4b0f(0x29c)],this[_0x1d4b0f(0x1ec)],this[_0x1d4b0f(0x267)]);continue;case'33':this[_0x1d4b0f(0x2ad)]={};continue;case'34':helper['getFinalCaps'](this[_0x1d4b0f(0x29c)],this[_0x1d4b0f(0x1ec)],this[_0x1d4b0f(0x267)]);continue;case'35':!this[_0x1d4b0f(0x29c)][_0x1d4b0f(0x23c)]&&(this[_0x1d4b0f(0x29c)][_0x1d4b0f(0x23c)]=this[_0x1d4b0f(0x29c)][_0x1d4b0f(0x2bf)]||{});continue;case'36':process['on'](_0x178b31[_0x1d4b0f(0x27f)],this[_0x1d4b0f(0x2d4)]());continue;case'37':helper['sanitizeCaps'](this[_0x1d4b0f(0x29c)]);continue;case'38':this[_0x1d4b0f(0x29c)][_0x1d4b0f(0x254)][_0x1d4b0f(0x2dc)]=!helper[_0x1d4b0f(0x1e9)]()||helper['isTrue'](this[_0x1d4b0f(0x29c)][_0x1d4b0f(0x254)][_0x1d4b0f(0x2dc)]);continue;case'39':if(this[_0x1d4b0f(0x29c)]['error'])throw new Error(this[_0x1d4b0f(0x29c)][_0x1d4b0f(0x222)]);continue;case'40':this['config'][_0x1d4b0f(0x23c)][_0x1d4b0f(0x1f1)]=helper['isTrue'](this['config'][_0x1d4b0f(0x23c)][_0x1d4b0f(0x1f1)]);continue;case'41':global['framework']=_0x32d8f5;continue;case'42':this['browserstackLocal']=null;continue;case'43':(helper[_0x1d4b0f(0x223)](this[_0x1d4b0f(0x29c)]['platforms'])||helper[_0x1d4b0f(0x223)](this['config'][_0x1d4b0f(0x2e2)][_0x1d4b0f(0x224)]))&&(helper['isUndefined'](this[_0x1d4b0f(0x29c)]['parallelsPerPlatform'])?logger[_0x1d4b0f(0x239)](_0x178b31['nOQtk']):logger[_0x1d4b0f(0x2cb)](_0x178b31[_0x1d4b0f(0x2b6)]),this[_0x1d4b0f(0x29c)][_0x1d4b0f(0x2e2)]=[]);continue;}break;}}async[a55_0x196310(0x283)](){const _0x123f30=a55_0x196310,_0x3bb912={'YYPOq':function(_0x17cb6b,_0x3cfded){return _0x17cb6b(_0x3cfded);},'yYloi':_0x123f30(0x2c7),'vbhNc':_0x123f30(0x219),'NGEgQ':_0x123f30(0x226),'XhUwC':function(_0x100b57,_0xd74a92){return _0x100b57===_0xd74a92;},'FKaTl':'playwright','BaPvF':function(_0x5454ec,_0x47334e){return _0x5454ec+_0x47334e;},'fnXZS':_0x123f30(0x2b5),'GqtKl':_0x123f30(0x279)};if(_0x3bb912['YYPOq'](isTurboScaleSession,this[_0x123f30(0x29c)])){const _0x118043=await helper['getTurboScaleGridDetails'](this[_0x123f30(0x29c)]);this[_0x123f30(0x29c)][_0x123f30(0x25f)]=_0x118043,_0x118043[_0x123f30(0x2a2)]&&(this['config'][_0x123f30(0x29b)]=!![],this[_0x123f30(0x29c)][_0x123f30(0x23c)][_0x123f30(0x238)]=_0x3bb912[_0x123f30(0x28a)],this[_0x123f30(0x29c)]['browserStackLocalOptions'][_0x3bb912[_0x123f30(0x286)]]=_0x118043[_0x123f30(0x1e8)][_0x123f30(0x28e)](','),this['config'][_0x123f30(0x23c)][_0x123f30(0x24b)]=_0x3bb912[_0x123f30(0x2b8)]),this[_0x123f30(0x29c)][_0x123f30(0x232)]=_0x118043['url'],this[_0x123f30(0x298)]&&_0x3bb912['XhUwC'](this[_0x123f30(0x298)][_0x123f30(0x25b)](),_0x3bb912[_0x123f30(0x21f)])&&(this[_0x123f30(0x29c)][_0x123f30(0x232)]=_0x3bb912[_0x123f30(0x2ce)](_0x118043[_0x123f30(0x252)],_0x3bb912[_0x123f30(0x25c)])),constants['hubUrl']=helper[_0x123f30(0x262)](this[_0x123f30(0x29c)]),logger['debug']('HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20'+constants['hubUrl']);}helper[_0x123f30(0x243)](this[_0x123f30(0x29c)]),this[_0x123f30(0x1ea)](),_0x3bb912[_0x123f30(0x1eb)](setPercyFlag,this),await this['setupBrowserstackLocal'](),![_0x3bb912[_0x123f30(0x2c8)]]['includes'](this[_0x123f30(0x298)])&&!_0x3bb912[_0x123f30(0x1eb)](isTurboScaleSession,this['config'])&&!helper[_0x123f30(0x22e)]()[_0x123f30(0x27d)]&&await this[_0x123f30(0x260)]();}async[a55_0x196310(0x2be)](){const _0x29f6ef=a55_0x196310,_0x3e7ee0={};_0x3e7ee0['UffaJ']=function(_0x28e752,_0x5204b4){return _0x28e752===_0x5204b4;},_0x3e7ee0[_0x29f6ef(0x2a4)]='false',_0x3e7ee0[_0x29f6ef(0x288)]='Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.',_0x3e7ee0[_0x29f6ef(0x2da)]=_0x29f6ef(0x2ac),_0x3e7ee0[_0x29f6ef(0x24f)]='true',_0x3e7ee0[_0x29f6ef(0x258)]=_0x29f6ef(0x221);const _0x19d854=_0x3e7ee0;if(helper[_0x29f6ef(0x22d)](this[_0x29f6ef(0x29c)][_0x29f6ef(0x20c)])&&(!this[_0x29f6ef(0x20c)]||!this[_0x29f6ef(0x20c)][_0x29f6ef(0x208)]()))try{this['percy']=await percyHelper[_0x29f6ef(0x284)](this['config']);if(!this[_0x29f6ef(0x20c)]){process['env']['BROWSERSTACK_PERCY']=_0x19d854['Pdiux'];throw new Error(_0x19d854[_0x29f6ef(0x288)]);}logger['info'](_0x19d854[_0x29f6ef(0x2da)]),process['env'][_0x29f6ef(0x20d)]=_0x19d854['BQNbA'];let _0x90d1fb=0x0;const _0x2e754c=async()=>{const _0x5abff1=_0x29f6ef;_0x90d1fb++,_0x19d854[_0x5abff1(0x281)](_0x90d1fb,0x1)&&await this[_0x5abff1(0x2b9)]();};process['on'](_0x19d854[_0x29f6ef(0x258)],_0x2e754c);}catch(_0x45815c){process[_0x29f6ef(0x204)][_0x29f6ef(0x20d)]=_0x19d854[_0x29f6ef(0x2a4)],logger[_0x29f6ef(0x1f5)](_0x29f6ef(0x23b)+_0x45815c);throw new Error(_0x45815c[_0x29f6ef(0x261)]());}}async[a55_0x196310(0x2b9)](){const _0x63b45f=a55_0x196310,_0x128034={};_0x128034['QbDjr']=_0x63b45f(0x215),_0x128034[_0x63b45f(0x257)]=_0x63b45f(0x22b);const _0xe1040e=_0x128034;if(this[_0x63b45f(0x20c)]&&this[_0x63b45f(0x20c)][_0x63b45f(0x208)]())try{await percyHelper[_0x63b45f(0x2b9)](this[_0x63b45f(0x20c)]),logger[_0x63b45f(0x239)](_0xe1040e[_0x63b45f(0x290)]);}catch(_0x44659b){logger[_0x63b45f(0x222)](_0xe1040e[_0x63b45f(0x257)],_0x44659b[_0x63b45f(0x1ef)]);}}async[a55_0x196310(0x294)](){const _0x17e7f9=a55_0x196310,_0x4fcc45={};_0x4fcc45[_0x17e7f9(0x234)]='Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled',_0x4fcc45[_0x17e7f9(0x227)]=_0x17e7f9(0x203);const _0x2e44dc=_0x4fcc45;if(helper[_0x17e7f9(0x1e9)]()&&helper[_0x17e7f9(0x22d)](this['config'][_0x17e7f9(0x29b)])&&(!this[_0x17e7f9(0x29b)]||!this[_0x17e7f9(0x29b)][_0x17e7f9(0x208)]()))try{if(this[_0x17e7f9(0x29c)][_0x17e7f9(0x23c)][_0x17e7f9(0x1f1)]){logger['debug'](_0x2e44dc[_0x17e7f9(0x234)]);return;}this[_0x17e7f9(0x29b)]=await helper['startLocalBinary'](this['config']),logger[_0x17e7f9(0x239)](_0x2e44dc['BbpWD']);}catch(_0xd77205){logger[_0x17e7f9(0x1f5)](_0xd77205);throw new Error(_0xd77205['toString']());}}async[a55_0x196310(0x2c9)](){const _0x3ab948=a55_0x196310,_0x36a491={};_0x36a491[_0x3ab948(0x1f0)]=_0x3ab948(0x24a),_0x36a491[_0x3ab948(0x1f4)]=_0x3ab948(0x214);const _0x5cc614=_0x36a491;if(this[_0x3ab948(0x29b)]&&this[_0x3ab948(0x29b)][_0x3ab948(0x208)]())try{await helper[_0x3ab948(0x2a3)](this['browserstackLocal']),logger[_0x3ab948(0x239)](_0x5cc614[_0x3ab948(0x1f0)]);}catch(_0x1c1046){logger[_0x3ab948(0x222)](_0x5cc614[_0x3ab948(0x1f4)],_0x1c1046[_0x3ab948(0x1ef)]);}}async['setUpHubUrl'](){const _0x390c3b=a55_0x196310;return PerformanceTester[_0x390c3b(0x205)](PerformanceAutEvents[_0x390c3b(0x2d2)],async()=>{const _0x3ca894=_0x390c3b;await hubAllocator[_0x3ca894(0x2b2)](this['config']);})();}async[a55_0x196310(0x1f3)](){const _0x414a18=a55_0x196310,_0x458816={'FEnaI':function(_0x1e4a98,_0x333289){return _0x1e4a98(_0x333289);},'YghTp':_0x414a18(0x241),'EnSvQ':function(_0x187003,_0x330b51,_0x1f2604,_0x339936,_0xb53634,_0x3bb621,_0x4c52d1){return _0x187003(_0x330b51,_0x1f2604,_0x339936,_0xb53634,_0x3bb621,_0x4c52d1);},'QiaGk':'BrowserstackHealing.init\x20method\x20timed\x20out','SdWvn':_0x414a18(0x24d),'LqDvc':function(_0x3f689a,_0x374e09){return _0x3f689a(_0x374e09);},'jBazv':_0x414a18(0x20a),'xmsCR':_0x414a18(0x26f),'iwUlg':function(_0x17859f,_0x14b3ca){return _0x17859f===_0x14b3ca;},'ulKPT':_0x414a18(0x226),'ZILzM':function(_0x44fd04,_0x283b9a){return _0x44fd04===_0x283b9a;},'ZiZGK':function(_0x3bef69,_0x245ecb){return _0x3bef69===_0x245ecb;},'MqmIJ':function(_0x58edb4,_0x399225){return _0x58edb4===_0x399225;},'iZnrS':_0x414a18(0x291),'fXrbi':function(_0x52edfa,_0x256e27){return _0x52edfa===_0x256e27;},'IlNFt':_0x414a18(0x235),'LquXf':_0x414a18(0x25d),'SUhcQ':_0x414a18(0x27c),'XFBIT':function(_0x59012e,_0x3ed616){return _0x59012e>=_0x3ed616;},'hdUcU':function(_0x3740ac,_0x50f749){return _0x3740ac<_0x50f749;},'STpyn':_0x414a18(0x2e6),'CHEjK':_0x414a18(0x206),'EAEhN':function(_0x58c8d7){return _0x58c8d7();}},_0x35e40b=PerformanceTester[_0x414a18(0x205)](_0x458816['CHEjK'],async()=>{const _0x536375=_0x414a18;try{const _0x1edd55=new Date(),_0x2ba838=helper['getProxyConfigForTcg'](this[_0x536375(0x29c)]),_0x3ff541=_0x458816[_0x536375(0x21d)](require,path['join'](__dirname,_0x458816[_0x536375(0x1fc)])),_0x1bb96e=_0x458816[_0x536375(0x259)](timeoutPromise,constants[_0x536375(0x207)],_0x458816['QiaGk'],_0x458816[_0x536375(0x2c1)],_0x1edd55,this[_0x536375(0x29c)],this[_0x536375(0x298)]),_0x16cf2e={'tcgUrl':constants['TCG_URL'],'sdkVersion':_0x458816[_0x536375(0x2a1)](require,_0x458816['jBazv'])[_0x536375(0x297)],'methodUsed':_0x458816['xmsCR'],'proxyConfig':_0x2ba838,'os':os[_0x536375(0x225)]()};if(_0x2ba838&&_0x2ba838['proxyUrl']){utilities[_0x536375(0x244)](constants[_0x536375(0x25e)],_0x16cf2e,this[_0x536375(0x29c)],this[_0x536375(0x298)]);return;}const _0x60cda2={};_0x60cda2[_0x536375(0x28c)]=_0x2ba838;const _0x45606a=await Promise[_0x536375(0x230)]([_0x3ff541[_0x536375(0x292)](this['config'][_0x536375(0x2ae)],this[_0x536375(0x29c)][_0x536375(0x287)],constants['TCG_URL'],_0x458816[_0x536375(0x2a1)](require,_0x458816[_0x536375(0x2cd)])[_0x536375(0x297)],_0x60cda2)['then'](_0x2d0f83=>{const _0xc61ec=_0x536375;return _0x1bb96e[_0xc61ec(0x2e0)](),_0x2d0f83;}),_0x1bb96e]);_0x45606a[_0x536375(0x2e1)]=_0x458816[_0x536375(0x210)](_0x45606a[_0x536375(0x2e1)],_0x458816['ulKPT'])||_0x458816[_0x536375(0x256)](_0x45606a[_0x536375(0x2e1)],!![]);const _0x195ad6=_0x458816[_0x536375(0x20b)](this[_0x536375(0x29c)][_0x536375(0x2b4)],!![])||_0x458816[_0x536375(0x26c)](this[_0x536375(0x29c)]['selfHeal'],_0x458816[_0x536375(0x20f)]);if(_0x458816[_0x536375(0x20b)](_0x45606a[_0x536375(0x1ef)],constants[_0x536375(0x21e)])&&_0x195ad6)logger[_0x536375(0x239)](_0x458816[_0x536375(0x293)]);else{if(!_0x45606a[_0x536375(0x1fe)]&&_0x458816[_0x536375(0x27b)](_0x45606a[_0x536375(0x263)],0x1f7)&&_0x195ad6)logger[_0x536375(0x239)](_0x458816[_0x536375(0x2bc)]),utilities[_0x536375(0x244)](constants[_0x536375(0x251)],_0x16cf2e,this[_0x536375(0x29c)],this['framework']);else{if(!_0x45606a[_0x536375(0x1fe)]&&_0x195ad6){logger[_0x536375(0x239)](_0x458816['LquXf']);const _0x525959={'tcgUrl':constants['TCG_URL'],'sdkVersion':_0x458816[_0x536375(0x21d)](require,_0x458816[_0x536375(0x2cd)])[_0x536375(0x297)],'methodUsed':_0x458816[_0x536375(0x24c)],'proxyConfig':_0x2ba838,'os':os[_0x536375(0x225)]()};utilities['fireFunnelTestEvent'](constants[_0x536375(0x21b)],_0x525959,this[_0x536375(0x29c)],this[_0x536375(0x298)]);}else{if(_0x45606a[_0x536375(0x1fe)]&&!_0x45606a[_0x536375(0x2e1)]&&_0x195ad6)logger[_0x536375(0x239)](_0x458816[_0x536375(0x212)]);else{if(_0x458816[_0x536375(0x245)](_0x45606a['status'],0xc8)&&_0x458816[_0x536375(0x23a)](_0x45606a[_0x536375(0x263)],0x12c))utilities[_0x536375(0x244)](constants[_0x536375(0x2dd)],_0x16cf2e,this['config'],this[_0x536375(0x298)]);else{if(_0x458816['XFBIT'](_0x45606a[_0x536375(0x263)],0x190))_0x16cf2e[_0x536375(0x263)]=_0x45606a['status'],utilities[_0x536375(0x244)](constants['AI_INIT_FAILURE'],_0x16cf2e,this['config'],this[_0x536375(0x298)]);else!_0x45606a[_0x536375(0x263)]&&utilities[_0x536375(0x244)](constants[_0x536375(0x29e)],_0x16cf2e,this[_0x536375(0x29c)],this['framework']);}}}}}if(_0x45606a['isAuthenticated']&&_0x45606a[_0x536375(0x2e1)]){const _0x13fefe={};_0x13fefe['tcgAuthConfig']=_0x45606a;const _0x484c48=_0x13fefe;_0x2ba838&&(_0x484c48[_0x536375(0x22f)]=_0x2ba838),_0x484c48[_0x536375(0x298)]=this[_0x536375(0x298)],_0x484c48[_0x536375(0x229)]=this[_0x536375(0x29c)],helper[_0x536375(0x2db)](_0x484c48),logger['debug'](_0x458816[_0x536375(0x1fb)]);}}catch(_0x21b16a){logger[_0x536375(0x1f5)](_0x536375(0x2df)+(_0x21b16a[_0x536375(0x1ef)]?_0x21b16a['message']:''));}});await _0x458816[_0x414a18(0x29f)](_0x35e40b);}['setupKeepAlive'](){const _0x5f377d=a55_0x196310,_0x586a7d={'BTvLI':function(_0x190d0e,_0x3f6445){return _0x190d0e(_0x3f6445);},'bGFba':_0x5f377d(0x25a)};_0x586a7d[_0x5f377d(0x240)](require,_0x586a7d[_0x5f377d(0x2d3)])();}['handleExceptions'](){const _0x5f0cc6=a55_0x196310,_0x169d42={};_0x169d42[_0x5f0cc6(0x2e3)]=_0x5f0cc6(0x2d9),_0x169d42[_0x5f0cc6(0x217)]=_0x5f0cc6(0x1fd);const _0x396d7b=_0x169d42,_0x62e715=_0x33ea48=>{const _0x4e14b1=_0x5f0cc6;logger[_0x4e14b1(0x222)](_0x33ea48[_0x4e14b1(0x1ef)]),logger[_0x4e14b1(0x1f5)](util[_0x4e14b1(0x296)](_0x33ea48)),this[_0x4e14b1(0x255)][_0x4e14b1(0x280)](util[_0x4e14b1(0x296)]('%j',_0x33ea48)),PerformanceTester['captureError'](_0x33ea48);};process['on'](_0x396d7b[_0x5f0cc6(0x2e3)],_0x62e715),process['on'](_0x396d7b[_0x5f0cc6(0x217)],_0x62e715);}async[a55_0x196310(0x2b7)](_0xf21e34){const _0x3223ff=a55_0x196310,_0x483489={};_0x483489[_0x3223ff(0x2b3)]=_0x3223ff(0x268),_0x483489[_0x3223ff(0x2d0)]=function(_0x11f81,_0x4ffa06){return _0x11f81+_0x4ffa06;},_0x483489[_0x3223ff(0x282)]=_0x3223ff(0x28d),_0x483489['VvZVz']=_0x3223ff(0x253),_0x483489[_0x3223ff(0x21a)]=function(_0x6add8c,_0x2d9746){return _0x6add8c+_0x2d9746;};const _0x18b3e3=_0x483489,_0x5783e6=_0x18b3e3[_0x3223ff(0x2b3)][_0x3223ff(0x272)]('|');let _0x185825=0x0;while(!![]){switch(_0x5783e6[_0x185825++]){case'0':this[_0x3223ff(0x1ee)]=_0xf21e34;continue;case'1':this[_0x18b3e3['xfwQm'](_0x18b3e3[_0x3223ff(0x282)],_0xf21e34)]=!![];continue;case'2':await TestHubHandler[_0x3223ff(0x2e7)](_0xf21e34);continue;case'3':logger['info'](_0x18b3e3[_0x3223ff(0x2d0)](_0x18b3e3[_0x3223ff(0x211)],_0xf21e34));continue;case'4':if(this[_0x18b3e3[_0x3223ff(0x21a)](_0x18b3e3[_0x3223ff(0x282)],_0xf21e34)])return;continue;}break;}}[a55_0x196310(0x2d4)](){const _0x370657=a55_0x196310,_0x2eac5f={};_0x2eac5f['KpwUm']=function(_0x52e210,_0x1f28c0){return _0x52e210===_0x1f28c0;},_0x2eac5f['SggnG']='Calling\x20Build\x20Stop\x20from\x20ExitHandler',_0x2eac5f[_0x370657(0x276)]=function(_0xcde026,_0x31ced6){return _0xcde026>_0x31ced6;},_0x2eac5f['oyuGo']=function(_0x597d0f,_0x25742f){return _0x597d0f>_0x25742f;},_0x2eac5f['iVryk']='log/events.json';const _0x59109f=_0x2eac5f;let _0x228143=0x0;return async()=>{const _0xe4dea2=_0x370657;_0x228143++;if(_0x59109f[_0xe4dea2(0x1e6)](_0x228143,0x1)){helper[_0xe4dea2(0x202)](this[_0xe4dea2(0x298)])&&await this[_0xe4dea2(0x2c9)]();try{logger[_0xe4dea2(0x1f5)](_0x59109f[_0xe4dea2(0x247)]),await TestHubHandler['stop'](_0x228143);}catch(_0x87ccbb){logger['debug']('Error\x20in\x20sending\x20testhub\x20stop:\x20'+util[_0xe4dea2(0x296)](_0x87ccbb));}PerformanceTester[_0xe4dea2(0x246)](PerformanceEvents[_0xe4dea2(0x2aa)]);if(PerformanceTester[_0xe4dea2(0x27a)]()){const {measures:_0x2d9adc,errors:_0x356bff}=await PerformanceTester['finalize'](),_0xe96324={};if(_0x2d9adc&&_0x59109f['FVyec'](_0x2d9adc[_0xe4dea2(0x224)],0x0)||_0x356bff&&_0x59109f[_0xe4dea2(0x2bd)](_0x356bff[_0xe4dea2(0x224)],0x0)){const _0x47858b={};_0x47858b['measures']=_0x2d9adc,_0x47858b[_0xe4dea2(0x278)]=_0x356bff,Object['assign'](_0xe96324,_0x47858b);}try{const _0x1e5367=await helper[_0xe4dea2(0x1fa)](_0xe96324,this[_0xe4dea2(0x29c)]);logger[_0xe4dea2(0x1f5)](_0xe4dea2(0x2a6)+constants[_0xe4dea2(0x2c5)]+'\x20with\x20response\x20'+_0x1e5367[_0xe4dea2(0x277)]);}catch(_0x53cf40){logger[_0xe4dea2(0x1f5)]('Failed\x20to\x20send\x20data\x20to\x20'+constants[_0xe4dea2(0x2c5)]+_0xe4dea2(0x242)+util[_0xe4dea2(0x296)](_0x53cf40));}try{fs[_0xe4dea2(0x264)](_0x59109f[_0xe4dea2(0x271)],JSON[_0xe4dea2(0x2bb)](_0xe96324));}catch(_0x18d5b5){logger['debug'](_0xe4dea2(0x2a0)+_0x18d5b5);}}}};}}exports[a55_0x196310(0x2e9)]=BrowserStackSetup;