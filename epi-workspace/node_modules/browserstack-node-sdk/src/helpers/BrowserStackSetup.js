const a94_0x2d7fbe=a94_0x2a44;(function(_0x3c493c,_0x55ada3){const _0x37975d=a94_0x2a44,_0x20443b=_0x3c493c();while(!![]){try{const _0x4e2851=parseInt(_0x37975d(0x159))/0x1*(-parseInt(_0x37975d(0x12c))/0x2)+-parseInt(_0x37975d(0xbf))/0x3*(-parseInt(_0x37975d(0x128))/0x4)+parseInt(_0x37975d(0xce))/0x5*(parseInt(_0x37975d(0xc4))/0x6)+parseInt(_0x37975d(0x17a))/0x7+-parseInt(_0x37975d(0xeb))/0x8*(parseInt(_0x37975d(0xd7))/0x9)+-parseInt(_0x37975d(0xdd))/0xa+parseInt(_0x37975d(0x1a0))/0xb;if(_0x4e2851===_0x55ada3)break;else _0x20443b['push'](_0x20443b['shift']());}catch(_0x1c67d3){_0x20443b['push'](_0x20443b['shift']());}}}(a94_0x48f4,0xf2311));const util=require(a94_0x2d7fbe(0x124)),os=require('os'),path=require('path'),{v4:uuidv4}=require(a94_0x2d7fbe(0x1b5)),fs=require('fs'),constants=require('../bin/utils/constants'),logger=require(a94_0x2d7fbe(0x181))[a94_0x2d7fbe(0x16b)],fileLogger=require(a94_0x2d7fbe(0x181))[a94_0x2d7fbe(0x1b3)],{getLogDir}=require(a94_0x2d7fbe(0x181)),helper=require(a94_0x2d7fbe(0x17e)),utilities=require('./utilities'),percyHelper=require(a94_0x2d7fbe(0xcd)),hubAllocator=require(a94_0x2d7fbe(0x140)),PerformanceTester=require(a94_0x2d7fbe(0x16d)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require('./performance/constants'),{setPercyFlag}=require(a94_0x2d7fbe(0x1af)),TestHubHandler=require(a94_0x2d7fbe(0x158)),timeoutPromise=require(a94_0x2d7fbe(0x148)),BrowserstackCLI=require(a94_0x2d7fbe(0xd9)),LoadTestModule=require(a94_0x2d7fbe(0xf9)),{getEdsInstrumentationAPIUrl}=require('../bin/utils/apiUtilityMethods'),ClientTroubleShootingService=require(a94_0x2d7fbe(0x13f));function a94_0x48f4(){const _0x2ca845=['dYhhX','ODtZB','oipkO','PsppL','OekHH','../../package.json','isLTSSession','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','envConfig','\x20with\x20error\x20','skipSessionStatus','tdCCr','phFpx','skipSessionName','aAJFg','isEnabled','isRunning','BrowserstackHealingInitFailed','allocateHub','hubUrl','util','Error\x20occured\x20while\x20stopping\x20local\x20binary','BROWSERSTACK_PERCY','captureError','368EMoYgP','stopBrowserstackLocal','setupTcgConfigFile','Local\x20binary\x20started\x20successfully','1278572CpZIIK','setupPercy','win32','env','dRjvi','race','isTurboScaleSession','startPercy','turboScaleGridDetails','hBIos','setEnvCaps','exitHandler','ekPwg','UPGRADE_REQUIRED','format','turboScaleOptions','setCredentialsFromYmlConfig','playwright','ynYvH','../bin/utils/clientTroubleshootingService','../hubAllocationMethods','browserstackLocal','qvAiT','AI_INIT_SUCCESSFUL','wPhET','pBixJ','config','stringify','./timeoutPromise','playwrightUrl','version','TCG_DOWN','errorMessage','TCG_AUTH_FAILURE','EmqGV','MYbkF','setupBrowserstackLocal','hTTzC','gWbti','checkStopLocalBinaryOnExit','unhandledErrors','ljXoj','Failed\x20to\x20send\x20data\x20to\x20','QpjYE','./testhub/testhubHandler','2kbZpre','OpYpg','error','getPackageVersion','ctfOS','join','fireFunnelTestEvent','DCnGe','selenium-webdriver','AUTOLOGCAPTURE_NOTIFICATION','fNFGw','isTrue','getConfigPath','requireSeleniumWebdriverCheck','false','parallelsPerPlatform','lUfqe','SDKTestAttempted','winstonLogger','intExitHandler','./performance/performance-tester','SIGHUP','TCG_URL','No\x20config\x20provided.','measureWrapper','generateLocalIdentifier','Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','SIGTERM','yJLAW','toLowerCase','localIdentifier','ROBvb','aiHeal:tcgAuth','2431135nksPLf','url','\x20with\x20response\x20','BbXXr','./helper','__isPlaywrightInstalled','init','./logger','5|6|3|2|1|7|4|0','selfHeal','reportProcessInterruptionSituation','debug','getHubUrl','getInstance','forceLocal','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','Data\x20sent\x20successfully\x20to\x20','setLogDir','isHealingEnabled','proxyConfig','nJqFF','setupKeepAlive','disableAutoCaptureLogs','Shutdown\x20triggered\x20by\x20','sanitizeCaps','measures','jrpfJ','TtzHC','split','useW3C','exceptions','getLocalIdentifier','Percy\x20started\x20successfully','info','zIliD','getUserName','skipBinaryInitialisation','FYSty','8025028aCXnPO','qqzwe','reportFinalDetectionState','compareVersions','ZyUJo','Shbzu','end','length','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','stopLocalBinary','userName\x20or\x20accessKey\x20is\x20not\x20defined','ShSmt','writeFileSync','browserStackLocalOptions','getProxyConfigForTcg','./testhub/utils','getFinalCaps','sendToEDS','status','fileLogger','FRAMEWORK','uuid','yUfdC','kSHCG','stopPercy','bstackConfig','then','proxy','Error\x20occured\x20while\x20stopping\x20percy','platform','tcgAuthConfig','turboScale','setProxySettings','uncaughtException','GcwBG','statusCode','platforms','uTYFQ','testContextOptions','finalize','startLocalBinary','localOptions','codeceptjs','ats-repeater','TNUIb','wBOni','Wweuv','Mghnu','UXgeO','53913sZhcjm','readConfig','DBeJo','close','LaVbZ','18WbchMw','TohLV','getCentralUser','cliConfig','constructor','preInitialize','toString','stop','beforeExit','./percy/utils','2934040JMHsSC','startMonitoring','isAuthenticated','4.5.0','9|10|0|2|1|16|8|21|4|20|19|18|17|23|11|3|5|14|7|15|12|6|22|13','normalizeTestReportingEnvVars','ToYCQ','BrowserstackHealing.init','PhxqJ','12662451iuXOAM','Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled','../bin/v2/browserstackCLI','handled','ncSUR','Error\x20in\x20writing\x20events\x20to\x20file\x20','8130810jXPJCV','isNotUndefined','LcoeJ','setUpHubUrl','rvFyZ','BROWSERSTACK_TURBOSCALE','HiPSd','SIGBREAK','HhLtd','getTurboScaleGridDetails','TCG_AUTH_TIMEOUT','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','cXfkO','isBrowserstackInfra','8DOrCyk','setHandlePWError','PTICr','framework','message','percy','KnIjO','setupTCGAuth','getAccessKey','Percy\x20stopped','OPjlZ','./setKeepAlive','SIGQUIT','isUndefined','../bin/v2/modules/loadTestModule','sdkRunId','FCWBi','accessKey','handleExceptions','Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','setLogLevel','proxyUrl','rSqMX','HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20','smpbz','TmDMS','AI_INIT_FAILURE','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','SDK\x20run\x20started\x20with\x20id:\x20','INVALID_INIT_RESP_WITH_USER_IMPACT','killSignal','ltabD','customRepeaters','swXkQ','LTS\x20session\x20enabled\x20for\x20this\x20run.\x20SDK\x20run\x20id:\x20','yFznZ','AI_PROXY_FAILURE'];a94_0x48f4=function(){return _0x2ca845;};return a94_0x48f4();}function a94_0x2a44(_0x131d67,_0x21dc2b){const _0x48f4ad=a94_0x48f4();return a94_0x2a44=function(_0x2a44db,_0x14888c){_0x2a44db=_0x2a44db-0xa7;let _0x531739=_0x48f4ad[_0x2a44db];return _0x531739;},a94_0x2a44(_0x131d67,_0x21dc2b);}class BrowserStackSetup{constructor(_0x46a9aa,_0x38030f){const _0x545ee9=a94_0x2d7fbe,_0x327788={'YPgQO':_0x545ee9(0xd2),'PTICr':_0x545ee9(0x170),'nFoHX':function(_0x114bbe){return _0x114bbe();}},_0x765a34=_0x327788['YPgQO'][_0x545ee9(0x196)]('|');let _0x42dc53=0x0;while(!![]){switch(_0x765a34[_0x42dc53++]){case'0':this['envConfig']=helper[_0x545ee9(0x136)]();continue;case'1':this[_0x545ee9(0xf0)]=null;continue;case'2':this[_0x545ee9(0x141)]=null;continue;case'3':if(this[_0x545ee9(0x146)][_0x545ee9(0x15b)])throw new Error(this[_0x545ee9(0x146)][_0x545ee9(0x15b)]);continue;case'4':this[_0x545ee9(0x146)][_0x545ee9(0xb2)]=this[_0x545ee9(0x146)][_0x545ee9(0xb2)]||[];continue;case'5':helper['setBrowserstackInfraFromConfig'](this[_0x545ee9(0x146)],this['cliConfig']);continue;case'6':helper[_0x545ee9(0x18b)](this[_0x545ee9(0x146)]);continue;case'7':this[_0x545ee9(0x146)][_0x545ee9(0xb4)]['skipSessionStatus']=!helper[_0x545ee9(0xea)]()||helper['isTrue'](this[_0x545ee9(0x146)][_0x545ee9(0xb4)][_0x545ee9(0x11a)]);continue;case'8':this['config']=helper[_0x545ee9(0xc0)](this['configPath']);continue;case'9':this['unhandledErrors']=[];continue;case'10':helper[_0x545ee9(0xd3)]();continue;case'11':if(helper['isUndefined'](this['config']))throw new Error(_0x327788[_0x545ee9(0xed)]);continue;case'12':helper[_0x545ee9(0x1b0)](this[_0x545ee9(0x146)],this[_0x545ee9(0xc7)],this['envConfig']);continue;case'13':PerformanceTester[_0x545ee9(0xcf)]();continue;case'14':helper[_0x545ee9(0x13c)](this['config']);continue;case'15':this[_0x545ee9(0x146)]['testContextOptions'][_0x545ee9(0x11d)]=!helper[_0x545ee9(0xea)]()||helper['isTrue'](this[_0x545ee9(0x146)][_0x545ee9(0xb4)][_0x545ee9(0x11d)]);continue;case'16':this['configPath']=helper[_0x545ee9(0x165)](_0x46a9aa);continue;case'17':this[_0x545ee9(0xee)]=_0x38030f;continue;case'18':this['sdkRunId']=_0x327788['nFoHX'](uuidv4);continue;case'19':this[_0x545ee9(0x14c)]={};continue;case'20':this[_0x545ee9(0x146)][_0x545ee9(0xb4)]=this[_0x545ee9(0x146)][_0x545ee9(0xb4)]||{};continue;case'21':this[_0x545ee9(0xc7)]=helper['setCLICaps'](_0x46a9aa);continue;case'22':helper[_0x545ee9(0xff)](this[_0x545ee9(0x146)],this[_0x545ee9(0xc7)],this[_0x545ee9(0x118)]);continue;case'23':global[_0x545ee9(0xee)]=_0x38030f;continue;}break;}}[a94_0x2d7fbe(0xc9)](_0x57027b){const _0x1c1ce5=a94_0x2d7fbe,_0x183ce6={'xtQMa':_0x1c1ce5(0x1aa),'aAJFg':function(_0x430622,_0x237cba){return _0x430622===_0x237cba;},'uTYFQ':'integrations','Shbzu':_0x1c1ce5(0x16a),'KnIjO':function(_0x3c448c,_0x35e2d0){return _0x3c448c<_0x35e2d0;},'ltabD':function(_0xf27794,_0x3c5222){return _0xf27794(_0x3c5222);},'TGosS':_0x1c1ce5(0x161),'smpbz':function(_0x350f00,_0x36651c){return _0x350f00===_0x36651c;},'ljXoj':_0x1c1ce5(0xd1),'HpNAT':_0x1c1ce5(0x117),'Mghnu':'parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','hBIos':_0x1c1ce5(0x174),'OPjlZ':'SIGINT','dRjvi':_0x1c1ce5(0x16e),'kSHCG':function(_0xebafe5,_0x519a86){return _0xebafe5!==_0x519a86;},'EmqGV':_0x1c1ce5(0x12e),'OekHH':'SIGABRT','QpjYE':_0x1c1ce5(0xf7),'FCWBi':_0x1c1ce5(0xe4),'qvAiT':_0x1c1ce5(0xcc)},_0x48394a=this['framework'];global[_0x1c1ce5(0x146)]=this[_0x1c1ce5(0x146)],helper[_0x1c1ce5(0x192)](this[_0x1c1ce5(0x146)]),this[_0x1c1ce5(0x109)]=null,global[_0x1c1ce5(0xfa)]=this[_0x1c1ce5(0xfa)],logger[_0x1c1ce5(0x19b)](_0x1c1ce5(0x107)+this[_0x1c1ce5(0xfa)]),!this[_0x1c1ce5(0x146)][_0x1c1ce5(0x1ad)]&&(this[_0x1c1ce5(0x146)][_0x1c1ce5(0x1ad)]=this[_0x1c1ce5(0x146)][_0x1c1ce5(0xb7)]||{});if(helper[_0x1c1ce5(0xf8)](helper[_0x1c1ce5(0x19d)](this[_0x1c1ce5(0x146)]))||helper[_0x1c1ce5(0xf8)](helper[_0x1c1ce5(0xf3)](this['config'])))throw new Error(_0x183ce6['xtQMa']);helper['getLocalConfig'](this[_0x1c1ce5(0x146)])&&helper['isUndefined'](helper[_0x1c1ce5(0x199)](this['config']))&&(!helper['isUndefined'](this[_0x1c1ce5(0x146)][_0x1c1ce5(0x1ad)])&&_0x183ce6['aAJFg'](this['config']['browserStackLocalOptions'][_0x1c1ce5(0xc8)],Object)?!helper['isTrue'](this['config'][_0x1c1ce5(0x1ad)]['skipBinaryInitialisation'])&&(this['config'][_0x1c1ce5(0x1ad)]['localIdentifier']=helper[_0x1c1ce5(0x172)]()):this[_0x1c1ce5(0x146)]['browserStackLocalOptions']={'localIdentifier':helper['generateLocalIdentifier']()});this[_0x1c1ce5(0x146)][_0x1c1ce5(0x1ad)][_0x1c1ce5(0x19e)]=helper[_0x1c1ce5(0x164)](this['config']['browserStackLocalOptions'][_0x1c1ce5(0x19e)]),helper[_0x1c1ce5(0xec)](this[_0x1c1ce5(0x146)]);if(_0x183ce6[_0x1c1ce5(0x11e)](_0x48394a,_0x183ce6[_0x1c1ce5(0xb3)]))return;this['handleExceptions']();process[_0x1c1ce5(0x12f)][_0x1c1ce5(0xe2)]&&(this['config'][_0x1c1ce5(0xad)]=helper[_0x1c1ce5(0x164)](process[_0x1c1ce5(0x12f)][_0x1c1ce5(0xe2)]),this[_0x1c1ce5(0x146)][_0x1c1ce5(0x13b)]=this[_0x1c1ce5(0x146)][_0x1c1ce5(0x13b)]||{});helper['isTurboScaleSession'](this[_0x1c1ce5(0x146)])&&(process['env'][_0x1c1ce5(0xe2)]=!![]);LoadTestModule[_0x1c1ce5(0x116)](this['config'])&&logger['debug'](_0x1c1ce5(0x10d)+this[_0x1c1ce5(0xfa)]);if(!helper[_0x1c1ce5(0xea)]()){try{process['env'][_0x1c1ce5(0x1b4)]=_0x48394a,utilities[_0x1c1ce5(0x15f)](_0x183ce6[_0x1c1ce5(0x1a5)],{},this['config'],this[_0x1c1ce5(0xee)]);}catch(_0x4341db){logger[_0x1c1ce5(0x185)]('Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20'+_0x4341db);}return;}if(helper[_0x1c1ce5(0x166)](_0x48394a)){if(global[_0x1c1ce5(0x17f)])return;_0x183ce6[_0x1c1ce5(0xf1)](_0x183ce6[_0x1c1ce5(0x10a)](parseInt,helper[_0x1c1ce5(0x15c)](_0x183ce6['TGosS'])),0x3)&&(this['config'][_0x1c1ce5(0x197)]=![]),_0x183ce6[_0x1c1ce5(0x103)](helper[_0x1c1ce5(0x1a3)](helper[_0x1c1ce5(0x15c)](_0x183ce6['TGosS']),_0x183ce6[_0x1c1ce5(0x155)]),0x1)&&(this['config'][_0x1c1ce5(0x197)]=!![]);}(helper[_0x1c1ce5(0xf8)](this[_0x1c1ce5(0x146)][_0x1c1ce5(0xb2)])||helper['isUndefined'](this[_0x1c1ce5(0x146)]['platforms']['length']))&&(helper[_0x1c1ce5(0xf8)](this[_0x1c1ce5(0x146)][_0x1c1ce5(0x168)])?logger[_0x1c1ce5(0x19b)](_0x183ce6['HpNAT']):logger['warn'](_0x183ce6[_0x1c1ce5(0xbd)]),this[_0x1c1ce5(0x146)][_0x1c1ce5(0xb2)]=[]);!this['config'][_0x1c1ce5(0xb4)]&&(this['config']['testContextOptions']={});try{process[_0x1c1ce5(0x12f)][_0x1c1ce5(0x1b4)]=_0x57027b['_'][0x0],utilities['fireFunnelTestEvent'](_0x183ce6[_0x1c1ce5(0x1a5)],{},this['config'],this['framework']);}catch(_0x2e3777){logger[_0x1c1ce5(0x185)](_0x1c1ce5(0x106)+_0x2e3777);}!this[_0x1c1ce5(0x146)][_0x1c1ce5(0x190)]&&logger[_0x1c1ce5(0x19b)](constants[_0x1c1ce5(0x162)]),this['intExitHandler']=this[_0x1c1ce5(0x16c)]['bind'](this),process['on'](_0x183ce6[_0x1c1ce5(0x135)],this[_0x1c1ce5(0x16c)]),process['on'](_0x183ce6[_0x1c1ce5(0xf5)],this[_0x1c1ce5(0x16c)]),process['on'](_0x183ce6[_0x1c1ce5(0x130)],this[_0x1c1ce5(0x16c)]),_0x183ce6[_0x1c1ce5(0x1b7)](process[_0x1c1ce5(0xab)],_0x183ce6[_0x1c1ce5(0x14e)])?(process['on'](_0x183ce6[_0x1c1ce5(0x114)],this[_0x1c1ce5(0x16c)]),process['on'](_0x183ce6[_0x1c1ce5(0x157)],this[_0x1c1ce5(0x16c)])):process['on'](_0x183ce6[_0x1c1ce5(0xfb)],this['intExitHandler']),process['on'](_0x183ce6[_0x1c1ce5(0x142)],this[_0x1c1ce5(0x137)]());}async['initialize'](_0x52f6df){const _0x548942=a94_0x2d7fbe,_0x4d8f8c={'pBixJ':_0x548942(0xb9),'MYbkF':'custom-repeater','dYhhX':'true','EHPtC':function(_0xd19ea4,_0x2f480c){return _0xd19ea4===_0x2f480c;},'FYSty':_0x548942(0x13d),'BbXXr':function(_0x130b74,_0x3f8603){return _0x130b74+_0x3f8603;},'bGCyf':'?caps=','ToYCQ':function(_0x12c0c4,_0x4768fa){return _0x12c0c4(_0x4768fa);},'TtzHC':_0x548942(0xb8)};this[_0x548942(0xc9)](_0x52f6df);if(helper[_0x548942(0x132)](this['config'])){const _0x401fa5=await helper[_0x548942(0xe6)](this[_0x548942(0x146)]);this[_0x548942(0x146)][_0x548942(0x134)]=_0x401fa5,_0x401fa5['isTrialGrid']&&helper[_0x548942(0xde)](this[_0x548942(0x146)][_0x548942(0x141)])&&helper[_0x548942(0x164)](this[_0x548942(0x146)][_0x548942(0x141)])&&(this[_0x548942(0x146)][_0x548942(0x1ad)][_0x548942(0x177)]=_0x4d8f8c[_0x548942(0x145)],this[_0x548942(0x146)][_0x548942(0x1ad)][_0x4d8f8c[_0x548942(0x14f)]]=_0x401fa5[_0x548942(0x10b)]['join'](','),this[_0x548942(0x146)][_0x548942(0x1ad)][_0x548942(0x188)]=_0x4d8f8c[_0x548942(0x110)]),this[_0x548942(0x146)]['turboScaleUrl']=_0x401fa5[_0x548942(0x17b)],this['framework']&&_0x4d8f8c['EHPtC'](this[_0x548942(0xee)][_0x548942(0x176)](),_0x4d8f8c[_0x548942(0x19f)])?this[_0x548942(0x146)]['turboScaleUrl']=_0x4d8f8c[_0x548942(0x17d)](_0x401fa5[_0x548942(0x149)],_0x4d8f8c['bGCyf']):constants['hubUrl']=helper[_0x548942(0x186)](this[_0x548942(0x146)]),logger[_0x548942(0x185)](_0x548942(0x102)+constants[_0x548942(0x123)]);}helper[_0x548942(0xae)](this['config']),this[_0x548942(0x18f)](),_0x4d8f8c[_0x548942(0xd4)](setPercyFlag,this),await this[_0x548942(0x150)](),![_0x4d8f8c[_0x548942(0x195)],_0x4d8f8c[_0x548942(0x19f)]]['includes'](this[_0x548942(0xee)])&&!helper['isTurboScaleSession'](this[_0x548942(0x146)])&&!helper[_0x548942(0xc6)]()['central_scanner']&&await this[_0x548942(0xe0)]();}async[a94_0x2d7fbe(0x12d)](){const _0x5b0c28=a94_0x2d7fbe,_0x57e06b={};_0x57e06b[_0x5b0c28(0xe5)]=function(_0xe1e61e,_0x2c7a04){return _0xe1e61e===_0x2c7a04;},_0x57e06b['fNFGw']=_0x5b0c28(0x167),_0x57e06b[_0x5b0c28(0x19c)]='Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.',_0x57e06b[_0x5b0c28(0x160)]=_0x5b0c28(0x19a),_0x57e06b[_0x5b0c28(0x15d)]='true',_0x57e06b['OpYpg']='beforeExit';const _0x5e276c=_0x57e06b;if(helper[_0x5b0c28(0x164)](this['config'][_0x5b0c28(0xf0)])&&(!this['percy']||!this[_0x5b0c28(0xf0)][_0x5b0c28(0x120)]()))try{this[_0x5b0c28(0xf0)]=await percyHelper[_0x5b0c28(0x133)](this[_0x5b0c28(0x146)]);if(!this[_0x5b0c28(0xf0)]){process['env'][_0x5b0c28(0x126)]=_0x5e276c[_0x5b0c28(0x163)];throw new Error(_0x5e276c[_0x5b0c28(0x19c)]);}logger['info'](_0x5e276c[_0x5b0c28(0x160)]),process['env'][_0x5b0c28(0x126)]=_0x5e276c[_0x5b0c28(0x15d)];let _0x45f64d=0x0;const _0x5f18d9=async()=>{const _0x4aaeef=_0x5b0c28;_0x45f64d++,_0x5e276c['HhLtd'](_0x45f64d,0x1)&&await this[_0x4aaeef(0x1b8)]();};process['on'](_0x5e276c[_0x5b0c28(0x15a)],_0x5f18d9);}catch(_0x388c17){process[_0x5b0c28(0x12f)]['BROWSERSTACK_PERCY']=_0x5e276c[_0x5b0c28(0x163)],logger['debug']('Error\x20in\x20percy\x20setup\x20'+_0x388c17);throw new Error(_0x388c17['toString']());}}async[a94_0x2d7fbe(0x1b8)](){const _0x1f4a3c=a94_0x2d7fbe,_0x4228fc={};_0x4228fc['lUfqe']=_0x1f4a3c(0xf4),_0x4228fc['wPhET']=_0x1f4a3c(0xaa);const _0x5d1be0=_0x4228fc;if(this[_0x1f4a3c(0xf0)]&&this[_0x1f4a3c(0xf0)][_0x1f4a3c(0x120)]())try{await percyHelper[_0x1f4a3c(0x1b8)](this['percy']),logger[_0x1f4a3c(0x19b)](_0x5d1be0[_0x1f4a3c(0x169)]);}catch(_0x53e092){logger[_0x1f4a3c(0x15b)](_0x5d1be0[_0x1f4a3c(0x144)],_0x53e092[_0x1f4a3c(0xef)]);}}async[a94_0x2d7fbe(0x150)](){const _0x28812c=a94_0x2d7fbe,_0x180f6c={};_0x180f6c[_0x28812c(0xba)]=_0x28812c(0xd8),_0x180f6c[_0x28812c(0xbb)]=_0x28812c(0x12b);const _0x2ec627=_0x180f6c;if(helper[_0x28812c(0xea)]()&&helper[_0x28812c(0x164)](this['config'][_0x28812c(0x141)])&&(!this[_0x28812c(0x141)]||!this['browserstackLocal'][_0x28812c(0x120)]()))try{if(this[_0x28812c(0x146)][_0x28812c(0x1ad)][_0x28812c(0x19e)]){logger[_0x28812c(0x185)](_0x2ec627['TNUIb']);return;}this['browserstackLocal']=await helper[_0x28812c(0xb6)](this['config']),logger[_0x28812c(0x19b)](_0x2ec627[_0x28812c(0xbb)]);}catch(_0x316f33){logger['debug'](_0x316f33);throw new Error(_0x316f33[_0x28812c(0xca)]());}}async[a94_0x2d7fbe(0x129)](){const _0x2fd1c3=a94_0x2d7fbe,_0x18a1b0={};_0x18a1b0['ShSmt']='Local\x20binary\x20stopped',_0x18a1b0[_0x2fd1c3(0x152)]=_0x2fd1c3(0x125);const _0xc52b41=_0x18a1b0;if(this[_0x2fd1c3(0x141)]&&this[_0x2fd1c3(0x141)][_0x2fd1c3(0x120)]())try{await helper[_0x2fd1c3(0x1a9)](this[_0x2fd1c3(0x141)]),logger['info'](_0xc52b41[_0x2fd1c3(0x1ab)]);}catch(_0x409834){logger[_0x2fd1c3(0x15b)](_0xc52b41[_0x2fd1c3(0x152)],_0x409834[_0x2fd1c3(0xef)]);}}async[a94_0x2d7fbe(0xe0)](){const _0x3ccfd5=a94_0x2d7fbe;return PerformanceTester[_0x3ccfd5(0x171)](PerformanceAutEvents['HUB_MANAGEMENT'],async()=>{const _0x42b642=_0x3ccfd5;await hubAllocator[_0x42b642(0x122)](this[_0x42b642(0x146)]);})();}async[a94_0x2d7fbe(0xf2)](){const _0xcd0bc2=a94_0x2d7fbe,_0x2d7c6c={'SUcdm':function(_0x36af46,_0x334fe4){return _0x36af46(_0x334fe4);},'oqNvv':'../ai-sdk-node/bundle','tdCCr':function(_0x4625dd,_0x3b5659,_0x48cc79,_0x351b9f,_0x2241d9,_0x5138d4,_0x201fd2){return _0x4625dd(_0x3b5659,_0x48cc79,_0x351b9f,_0x2241d9,_0x5138d4,_0x201fd2);},'UXgeO':'BrowserstackHealing.init\x20method\x20timed\x20out','TohLV':_0xcd0bc2(0x121),'DBeJo':function(_0x15835c,_0x46a2ea){return _0x15835c(_0x46a2ea);},'hTTzC':_0xcd0bc2(0x115),'swXkQ':_0xcd0bc2(0xd5),'PsppL':function(_0x46bf74,_0x36c533){return _0x46bf74(_0x36c533);},'Wweuv':function(_0x4b6836,_0x47877f){return _0x4b6836===_0x47877f;},'ZyUJo':'true','cXfkO':function(_0x482eeb,_0x6dbf67){return _0x482eeb===_0x6dbf67;},'AJwdJ':function(_0x1fa858,_0xca615d){return _0x1fa858===_0xca615d;},'ODtZB':_0xcd0bc2(0xe8),'rvFyZ':function(_0x5a54a9,_0x57fcf9){return _0x5a54a9===_0x57fcf9;},'TOaDt':_0xcd0bc2(0x1a8),'ekPwg':_0xcd0bc2(0xfe),'yFznZ':_0xcd0bc2(0x173),'TmDMS':function(_0xb58955,_0x478edb){return _0xb58955>=_0x478edb;},'StSHy':function(_0x173ce4,_0x45d5c2){return _0x173ce4<_0x45d5c2;},'ROBvb':'tcg\x20config\x20setup\x20successful.','ncSUR':_0xcd0bc2(0x179),'ynYvH':function(_0x58315f){return _0x58315f();}},_0x555043=PerformanceTester[_0xcd0bc2(0x171)](_0x2d7c6c[_0xcd0bc2(0xdb)],async()=>{const _0x3b720f=_0xcd0bc2;try{const _0x4807be=new Date(),_0x11cad4=helper[_0x3b720f(0x1ae)](this['config']),_0x17c73a=_0x2d7c6c['SUcdm'](require,path[_0x3b720f(0x15e)](__dirname,_0x2d7c6c['oqNvv'])),_0x1d771a=_0x2d7c6c[_0x3b720f(0x11b)](timeoutPromise,constants[_0x3b720f(0xe7)],_0x2d7c6c[_0x3b720f(0xbe)],_0x2d7c6c[_0x3b720f(0xc5)],_0x4807be,this['config'],this['framework']),_0x5e78dc={'tcgUrl':constants[_0x3b720f(0x16f)],'sdkVersion':_0x2d7c6c[_0x3b720f(0xc1)](require,_0x2d7c6c[_0x3b720f(0x151)])[_0x3b720f(0x14a)],'methodUsed':_0x2d7c6c[_0x3b720f(0x10c)],'proxyConfig':_0x11cad4,'os':os[_0x3b720f(0xab)]()};if(_0x11cad4&&_0x11cad4[_0x3b720f(0x100)]){utilities[_0x3b720f(0x15f)](constants[_0x3b720f(0x10f)],_0x5e78dc,this['config'],this['framework']);return;}const _0x28c617={};_0x28c617[_0x3b720f(0xa9)]=_0x11cad4;const _0x343bcf=await Promise[_0x3b720f(0x131)]([_0x17c73a[_0x3b720f(0x180)](this[_0x3b720f(0x146)][_0x3b720f(0xfc)],this[_0x3b720f(0x146)]['userName'],constants[_0x3b720f(0x16f)],_0x2d7c6c[_0x3b720f(0x113)](require,_0x2d7c6c['hTTzC'])['version'],_0x28c617)[_0x3b720f(0xa8)](_0x443c35=>{return _0x1d771a['cancel'](),_0x443c35;}),_0x1d771a]);_0x343bcf[_0x3b720f(0x18c)]=_0x2d7c6c[_0x3b720f(0xbc)](_0x343bcf[_0x3b720f(0x18c)],_0x2d7c6c[_0x3b720f(0x1a4)])||_0x2d7c6c[_0x3b720f(0xbc)](_0x343bcf[_0x3b720f(0x18c)],!![]);const _0x526f40=_0x2d7c6c[_0x3b720f(0xe9)](this['config'][_0x3b720f(0x183)],!![])||_0x2d7c6c['AJwdJ'](this['config']['selfHeal'],_0x2d7c6c[_0x3b720f(0x1a4)]);if(_0x2d7c6c[_0x3b720f(0xe9)](_0x343bcf[_0x3b720f(0xef)],constants[_0x3b720f(0x139)])&&_0x526f40)logger[_0x3b720f(0x19b)](_0x2d7c6c[_0x3b720f(0x111)]);else{if(!_0x343bcf[_0x3b720f(0xd0)]&&_0x2d7c6c[_0x3b720f(0xe1)](_0x343bcf[_0x3b720f(0x1b2)],0x1f7)&&_0x526f40)logger[_0x3b720f(0x19b)](_0x2d7c6c['TOaDt']),utilities[_0x3b720f(0x15f)](constants[_0x3b720f(0x14b)],_0x5e78dc,this[_0x3b720f(0x146)],this['framework']);else{if(!_0x343bcf[_0x3b720f(0xd0)]&&_0x526f40){logger['info'](_0x2d7c6c[_0x3b720f(0x138)]);const _0x563c29={'tcgUrl':constants[_0x3b720f(0x16f)],'sdkVersion':_0x2d7c6c[_0x3b720f(0x113)](require,_0x2d7c6c[_0x3b720f(0x151)])[_0x3b720f(0x14a)],'methodUsed':_0x2d7c6c[_0x3b720f(0x10c)],'proxyConfig':_0x11cad4,'os':os['platform']()};utilities['fireFunnelTestEvent'](constants[_0x3b720f(0x14d)],_0x563c29,this[_0x3b720f(0x146)],this[_0x3b720f(0xee)]);}else{if(_0x343bcf[_0x3b720f(0xd0)]&&!_0x343bcf['isHealingEnabled']&&_0x526f40)logger[_0x3b720f(0x19b)](_0x2d7c6c[_0x3b720f(0x10e)]);else{if(_0x2d7c6c[_0x3b720f(0x104)](_0x343bcf[_0x3b720f(0x1b2)],0xc8)&&_0x2d7c6c['StSHy'](_0x343bcf[_0x3b720f(0x1b2)],0x12c))utilities[_0x3b720f(0x15f)](constants[_0x3b720f(0x143)],_0x5e78dc,this[_0x3b720f(0x146)],this[_0x3b720f(0xee)]);else{if(_0x2d7c6c[_0x3b720f(0x104)](_0x343bcf[_0x3b720f(0x1b2)],0x190))_0x5e78dc[_0x3b720f(0x1b2)]=_0x343bcf[_0x3b720f(0x1b2)],utilities[_0x3b720f(0x15f)](constants[_0x3b720f(0x105)],_0x5e78dc,this[_0x3b720f(0x146)],this[_0x3b720f(0xee)]);else!_0x343bcf[_0x3b720f(0x1b2)]&&utilities[_0x3b720f(0x15f)](constants[_0x3b720f(0x108)],_0x5e78dc,this['config'],this[_0x3b720f(0xee)]);}}}}}if(_0x343bcf['isAuthenticated']&&_0x343bcf['isHealingEnabled']){const _0x10a89c={};_0x10a89c[_0x3b720f(0xac)]=_0x343bcf;const _0x277ff1=_0x10a89c;_0x11cad4&&(_0x277ff1[_0x3b720f(0x18d)]=_0x11cad4),_0x277ff1[_0x3b720f(0xee)]=this[_0x3b720f(0xee)],_0x277ff1[_0x3b720f(0xa7)]=this[_0x3b720f(0x146)],helper[_0x3b720f(0x12a)](_0x277ff1),logger[_0x3b720f(0x185)](_0x2d7c6c[_0x3b720f(0x178)]);}}catch(_0xb58e40){logger[_0x3b720f(0x185)](_0x3b720f(0x189)+(_0xb58e40['message']?_0xb58e40[_0x3b720f(0xef)]:''));}});await _0x2d7c6c[_0xcd0bc2(0x13e)](_0x555043);}[a94_0x2d7fbe(0x18f)](){const _0x44353d=a94_0x2d7fbe,_0x41921d={'oipkO':function(_0x38a991,_0x7ebe08){return _0x38a991(_0x7ebe08);},'qHQeg':_0x44353d(0xf6)};_0x41921d[_0x44353d(0x112)](require,_0x41921d['qHQeg'])();}[a94_0x2d7fbe(0xfd)](){const _0x317836=a94_0x2d7fbe,_0x37d1a9={};_0x37d1a9[_0x317836(0x11c)]='3|1|2|0|4',_0x37d1a9[_0x317836(0xdf)]='unhandledRejection',_0x37d1a9[_0x317836(0xc3)]=_0x317836(0xaf);const _0x5d7219=_0x37d1a9,_0x4b8ebd=_0x3f01b8=>{const _0x1accef=_0x317836,_0xbda979=_0x5d7219[_0x1accef(0x11c)]['split']('|');let _0x455344=0x0;while(!![]){switch(_0xbda979[_0x455344++]){case'0':PerformanceTester[_0x1accef(0x127)](_0x3f01b8);continue;case'1':logger[_0x1accef(0x185)](util[_0x1accef(0x13a)](_0x3f01b8));continue;case'2':this[_0x1accef(0x154)]['push'](util[_0x1accef(0x13a)]('%j',_0x3f01b8));continue;case'3':logger[_0x1accef(0x15b)](_0x3f01b8['message']);continue;case'4':ClientTroubleShootingService[_0x1accef(0x1a2)]();continue;}break;}};process['on'](_0x5d7219[_0x317836(0xdf)],_0x4b8ebd),process['on'](_0x5d7219[_0x317836(0xc3)],_0x4b8ebd);}async[a94_0x2d7fbe(0x16c)](_0x3b60c7){const _0x4c936a=a94_0x2d7fbe,_0x41c0f9={};_0x41c0f9[_0x4c936a(0xd6)]=_0x4c936a(0x182),_0x41c0f9[_0x4c936a(0x194)]=function(_0x355ac3,_0x10c11f){return _0x355ac3+_0x10c11f;},_0x41c0f9[_0x4c936a(0xe3)]=_0x4c936a(0x191),_0x41c0f9['qqzwe']=_0x4c936a(0xda),_0x41c0f9[_0x4c936a(0x18e)]=function(_0x60c735,_0x1674b5){return _0x60c735+_0x1674b5;};const _0x41d8f2=_0x41c0f9,_0x1e4058=_0x41d8f2['PhxqJ'][_0x4c936a(0x196)]('|');let _0x3455fb=0x0;while(!![]){switch(_0x1e4058[_0x3455fb++]){case'0':await BrowserstackCLI[_0x4c936a(0x187)]()[_0x4c936a(0xcb)]();continue;case'1':await ClientTroubleShootingService[_0x4c936a(0x184)](_0x3b60c7);continue;case'2':this['killSignal']=_0x3b60c7;continue;case'3':logger[_0x4c936a(0x19b)](_0x41d8f2['jrpfJ'](_0x41d8f2[_0x4c936a(0xe3)],_0x3b60c7));continue;case'4':await ClientTroubleShootingService[_0x4c936a(0x1a2)]();continue;case'5':if(this[_0x41d8f2['jrpfJ'](_0x41d8f2[_0x4c936a(0x1a1)],_0x3b60c7)])return;continue;case'6':this[_0x41d8f2[_0x4c936a(0x18e)](_0x41d8f2[_0x4c936a(0x1a1)],_0x3b60c7)]=!![];continue;case'7':await TestHubHandler[_0x4c936a(0xcb)](_0x3b60c7);continue;}break;}}['exitHandler'](){const _0x2146e4={'eDCrE':function(_0x4cc36b,_0x519d3e){return _0x4cc36b===_0x519d3e;},'bgLTQ':'Calling\x20Build\x20Stop\x20from\x20ExitHandler','yJLAW':function(_0x160bba,_0x41b73f){return _0x160bba>_0x41b73f;},'rSqMX':function(_0xb6b22d,_0x3cfbf4){return _0xb6b22d>_0x3cfbf4;},'GcwBG':function(_0x45522c,_0x39cbed){return _0x45522c(_0x39cbed);},'gyDYk':function(_0xd8f422){return _0xd8f422();},'yUfdC':'events.json'};let _0x2b2eae=0x0;return async()=>{const _0x2daca3=a94_0x2a44;_0x2b2eae++;if(_0x2146e4['eDCrE'](_0x2b2eae,0x1)){helper[_0x2daca3(0x153)](this['framework'])&&await this['stopBrowserstackLocal']();try{logger[_0x2daca3(0x185)](_0x2146e4['bgLTQ']),await TestHubHandler[_0x2daca3(0xcb)](_0x2b2eae),await ClientTroubleShootingService[_0x2daca3(0x1a2)](),await BrowserstackCLI[_0x2daca3(0x187)]()[_0x2daca3(0xcb)]('1');}catch(_0x5ce4bd){logger[_0x2daca3(0x185)]('Error\x20in\x20sending\x20testhub\x20stop:\x20'+util['format'](_0x5ce4bd));}PerformanceTester[_0x2daca3(0x1a6)](PerformanceEvents['SDK_CLEANUP']);if(PerformanceTester[_0x2daca3(0x11f)]()){const {measures:_0x1a3913,errors:_0x459cbe}=await PerformanceTester[_0x2daca3(0xb5)](),_0x5ee906={};if(_0x1a3913&&_0x2146e4[_0x2daca3(0x175)](_0x1a3913[_0x2daca3(0x1a7)],0x0)||_0x459cbe&&_0x2146e4[_0x2daca3(0x101)](_0x459cbe[_0x2daca3(0x1a7)],0x0)){const _0x1c0b6d={};_0x1c0b6d[_0x2daca3(0x193)]=_0x1a3913,_0x1c0b6d[_0x2daca3(0x198)]=_0x459cbe,Object['assign'](_0x5ee906,_0x1c0b6d);}try{const _0x30115e=await helper[_0x2daca3(0x1b1)](_0x5ee906,this[_0x2daca3(0x146)]);logger['debug'](_0x2daca3(0x18a)+_0x2146e4[_0x2daca3(0xb0)](getEdsInstrumentationAPIUrl,'')+_0x2daca3(0x17c)+_0x30115e[_0x2daca3(0xb1)]);}catch(_0x15efbd){logger['debug'](_0x2daca3(0x156)+_0x2146e4['GcwBG'](getEdsInstrumentationAPIUrl,'')+_0x2daca3(0x119)+util['format'](_0x15efbd));}try{fs[_0x2daca3(0x1ac)](path[_0x2daca3(0x15e)](_0x2146e4['gyDYk'](getLogDir),_0x2146e4[_0x2daca3(0x1b6)]),JSON[_0x2daca3(0x147)](_0x5ee906));}catch(_0x2e5192){logger[_0x2daca3(0x185)](_0x2daca3(0xdc)+_0x2e5192);}}}logger&&logger[_0x2daca3(0xc2)](),fileLogger&&fileLogger[_0x2daca3(0xc2)]();};}}exports['default']=BrowserStackSetup;