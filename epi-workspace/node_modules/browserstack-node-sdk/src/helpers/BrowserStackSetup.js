const a83_0x5452c3=a83_0x5b9b;(function(_0x5852da,_0x3d2b69){const _0x13d647=a83_0x5b9b,_0x38b2e0=_0x5852da();while(!![]){try{const _0x44026b=parseInt(_0x13d647(0x261))/0x1+-parseInt(_0x13d647(0x288))/0x2+-parseInt(_0x13d647(0x1d6))/0x3+parseInt(_0x13d647(0x205))/0x4*(parseInt(_0x13d647(0x244))/0x5)+-parseInt(_0x13d647(0x25f))/0x6*(-parseInt(_0x13d647(0x1af))/0x7)+parseInt(_0x13d647(0x20e))/0x8*(parseInt(_0x13d647(0x280))/0x9)+-parseInt(_0x13d647(0x27b))/0xa;if(_0x44026b===_0x3d2b69)break;else _0x38b2e0['push'](_0x38b2e0['shift']());}catch(_0x1483eb){_0x38b2e0['push'](_0x38b2e0['shift']());}}}(a83_0x1de6,0x98d18));const util=require('util'),os=require('os'),path=require(a83_0x5452c3(0x247)),{v4:uuidv4}=require(a83_0x5452c3(0x1c8)),fs=require('fs'),constants=require(a83_0x5452c3(0x1d4)),logger=require(a83_0x5452c3(0x289))[a83_0x5452c3(0x200)],fileLogger=require(a83_0x5452c3(0x289))['fileLogger'],{getLogDir}=require('./logger'),helper=require(a83_0x5452c3(0x1ac)),utilities=require(a83_0x5452c3(0x267)),percyHelper=require(a83_0x5452c3(0x22b)),hubAllocator=require('../hubAllocationMethods'),PerformanceTester=require(a83_0x5452c3(0x1b6)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require('./performance/constants'),{setPercyFlag}=require(a83_0x5452c3(0x1c9)),TestHubHandler=require(a83_0x5452c3(0x215)),timeoutPromise=require(a83_0x5452c3(0x1d7)),BrowserstackCLI=require(a83_0x5452c3(0x1de));function a83_0x5b9b(_0x2caedb,_0x315226){const _0x1de6aa=a83_0x1de6();return a83_0x5b9b=function(_0x5b9b32,_0x27791c){_0x5b9b32=_0x5b9b32-0x19d;let _0x300c04=_0x1de6aa[_0x5b9b32];return _0x300c04;},a83_0x5b9b(_0x2caedb,_0x315226);}class BrowserStackSetup{constructor(_0x3fd3be,_0x856295){const _0x80272a=a83_0x5452c3,_0x1729cd={'kbmZU':_0x80272a(0x28c),'wOgrR':function(_0x277495){return _0x277495();},'RewgF':_0x80272a(0x282)},_0x565580=_0x1729cd['kbmZU'][_0x80272a(0x296)]('|');let _0x281add=0x0;while(!![]){switch(_0x565580[_0x281add++]){case'0':this[_0x80272a(0x1fc)]=_0x856295;continue;case'1':helper[_0x80272a(0x201)](this[_0x80272a(0x1a5)]);continue;case'2':this[_0x80272a(0x287)]=null;continue;case'3':this['browserstackLocal']=null;continue;case'4':helper[_0x80272a(0x1f5)]();continue;case'5':helper[_0x80272a(0x1cc)](this[_0x80272a(0x1a5)],this[_0x80272a(0x1e4)],this['envConfig']);continue;case'6':this[_0x80272a(0x1a5)][_0x80272a(0x286)][_0x80272a(0x251)]=!helper[_0x80272a(0x27a)]()||helper[_0x80272a(0x222)](this['config'][_0x80272a(0x286)][_0x80272a(0x251)]);continue;case'7':this[_0x80272a(0x21e)]=helper[_0x80272a(0x1b3)]();continue;case'8':this['unhandledErrors']=[];continue;case'9':helper[_0x80272a(0x249)](this[_0x80272a(0x1a5)]);continue;case'10':this[_0x80272a(0x22d)]={};continue;case'11':this[_0x80272a(0x1e4)]=helper[_0x80272a(0x234)](_0x3fd3be);continue;case'12':PerformanceTester[_0x80272a(0x1a4)]();continue;case'13':this[_0x80272a(0x1a5)]['testContextOptions']=this[_0x80272a(0x1a5)][_0x80272a(0x286)]||{};continue;case'14':helper['getFinalCaps'](this[_0x80272a(0x1a5)],this[_0x80272a(0x1e4)],this[_0x80272a(0x21e)]);continue;case'15':this[_0x80272a(0x224)]=_0x1729cd[_0x80272a(0x1b0)](uuidv4);continue;case'16':global['framework']=_0x856295;continue;case'17':if(this[_0x80272a(0x1a5)][_0x80272a(0x277)])throw new Error(this[_0x80272a(0x1a5)][_0x80272a(0x277)]);continue;case'18':this[_0x80272a(0x1a5)][_0x80272a(0x286)][_0x80272a(0x221)]=!helper[_0x80272a(0x27a)]()||helper[_0x80272a(0x222)](this['config'][_0x80272a(0x286)]['skipSessionStatus']);continue;case'19':this['config'][_0x80272a(0x217)]=this[_0x80272a(0x1a5)]['platforms']||[];continue;case'20':if(helper[_0x80272a(0x1bf)](this['config']))throw new Error(_0x1729cd['RewgF']);continue;case'21':helper['setBrowserstackInfraFromConfig'](this[_0x80272a(0x1a5)],this[_0x80272a(0x1e4)]);continue;case'22':this[_0x80272a(0x1a5)]=helper[_0x80272a(0x269)](helper[_0x80272a(0x24e)](_0x3fd3be));continue;}break;}}[a83_0x5452c3(0x239)](_0x28b843){const _0x455e5a=a83_0x5452c3,_0x913b5b={'zZgxM':_0x455e5a(0x257),'JvpDc':function(_0x42f4a6,_0x4c2f6d){return _0x42f4a6===_0x4c2f6d;},'uqTGf':function(_0x3862f9,_0x4993c7){return _0x3862f9===_0x4993c7;},'EqzmU':_0x455e5a(0x2a3),'GGpxT':_0x455e5a(0x24a),'XbyCK':function(_0x22614d,_0x30da36){return _0x22614d<_0x30da36;},'rdcmv':function(_0x1603f0,_0xbfae00){return _0x1603f0(_0xbfae00);},'tgzsn':'selenium-webdriver','rQFYB':_0x455e5a(0x22e),'bFsBe':_0x455e5a(0x27f),'mkJpm':_0x455e5a(0x1dd),'hkwDa':_0x455e5a(0x1a6),'uSPwc':'SIGINT','dIsCU':_0x455e5a(0x1f9),'IriXe':function(_0x1761ef,_0x12a2d3){return _0x1761ef!==_0x12a2d3;},'AHilR':_0x455e5a(0x210),'hAGET':_0x455e5a(0x223),'OKDeI':_0x455e5a(0x292),'hGReI':_0x455e5a(0x1da),'cvLxE':_0x455e5a(0x1b2)},_0x4214a4=this['framework'];global[_0x455e5a(0x1a5)]=this[_0x455e5a(0x1a5)],helper[_0x455e5a(0x1d9)](this[_0x455e5a(0x1a5)]),this[_0x455e5a(0x1ec)]=null,global[_0x455e5a(0x224)]=this['sdkRunId'],logger[_0x455e5a(0x1eb)](_0x455e5a(0x253)+this[_0x455e5a(0x224)]),!this[_0x455e5a(0x1a5)][_0x455e5a(0x1ee)]&&(this[_0x455e5a(0x1a5)][_0x455e5a(0x1ee)]=this[_0x455e5a(0x1a5)]['localOptions']||{});if(helper[_0x455e5a(0x1bf)](helper[_0x455e5a(0x1bd)](this['config']))||helper[_0x455e5a(0x1bf)](helper[_0x455e5a(0x1ca)](this['config'])))throw new Error(_0x913b5b[_0x455e5a(0x219)]);helper['getLocalConfig'](this[_0x455e5a(0x1a5)])&&helper['isUndefined'](helper[_0x455e5a(0x1c6)](this['config']))&&(!helper[_0x455e5a(0x1bf)](this['config']['browserStackLocalOptions'])&&_0x913b5b['JvpDc'](this[_0x455e5a(0x1a5)][_0x455e5a(0x1ee)][_0x455e5a(0x19d)],Object)?!helper[_0x455e5a(0x222)](this[_0x455e5a(0x1a5)][_0x455e5a(0x1ee)][_0x455e5a(0x216)])&&(this[_0x455e5a(0x1a5)]['browserStackLocalOptions']['localIdentifier']=helper[_0x455e5a(0x29b)]()):this[_0x455e5a(0x1a5)][_0x455e5a(0x1ee)]={'localIdentifier':helper['generateLocalIdentifier']()});this[_0x455e5a(0x1a5)][_0x455e5a(0x1ee)]['skipBinaryInitialisation']=helper['isTrue'](this[_0x455e5a(0x1a5)][_0x455e5a(0x1ee)]['skipBinaryInitialisation']),helper['setHandlePWError'](this[_0x455e5a(0x1a5)]);if(_0x913b5b[_0x455e5a(0x23c)](_0x4214a4,_0x913b5b[_0x455e5a(0x23a)]))return;this[_0x455e5a(0x1a2)]();process[_0x455e5a(0x1d0)][_0x455e5a(0x281)]&&(this[_0x455e5a(0x1a5)][_0x455e5a(0x211)]=helper[_0x455e5a(0x222)](process[_0x455e5a(0x1d0)]['BROWSERSTACK_TURBOSCALE']),this['config']['turboScaleOptions']=this[_0x455e5a(0x1a5)][_0x455e5a(0x208)]||{});helper['isTurboScaleSession'](this['config'])&&(process['env'][_0x455e5a(0x281)]=!![]);if(!helper['isBrowserstackInfra']()){try{process['env'][_0x455e5a(0x28b)]=_0x4214a4,utilities['fireFunnelTestEvent'](_0x913b5b[_0x455e5a(0x21a)],{},this[_0x455e5a(0x1a5)],this[_0x455e5a(0x1fc)]);}catch(_0x1cf7fb){logger[_0x455e5a(0x212)](_0x455e5a(0x229)+_0x1cf7fb);}return;}helper[_0x455e5a(0x278)](_0x4214a4)&&(_0x913b5b[_0x455e5a(0x246)](_0x913b5b[_0x455e5a(0x242)](parseInt,helper['getPackageVersion'](_0x913b5b[_0x455e5a(0x1c7)])),0x3)&&(this['config'][_0x455e5a(0x1a3)]=![]),_0x913b5b['uqTGf'](helper[_0x455e5a(0x1df)](helper[_0x455e5a(0x268)](_0x913b5b[_0x455e5a(0x1c7)]),_0x913b5b[_0x455e5a(0x1dc)]),0x1)&&(this['config']['useW3C']=!![]));(helper[_0x455e5a(0x1bf)](this[_0x455e5a(0x1a5)][_0x455e5a(0x217)])||helper[_0x455e5a(0x1bf)](this[_0x455e5a(0x1a5)][_0x455e5a(0x217)]['length']))&&(helper[_0x455e5a(0x1bf)](this[_0x455e5a(0x1a5)][_0x455e5a(0x227)])?logger[_0x455e5a(0x1eb)](_0x913b5b[_0x455e5a(0x19e)]):logger[_0x455e5a(0x1b4)](_0x913b5b['mkJpm']),this['config']['platforms']=[]);!this[_0x455e5a(0x1a5)][_0x455e5a(0x286)]&&(this['config'][_0x455e5a(0x286)]={});try{process[_0x455e5a(0x1d0)]['FRAMEWORK']=_0x28b843['_'][0x0],utilities[_0x455e5a(0x28e)](_0x913b5b[_0x455e5a(0x21a)],{},this[_0x455e5a(0x1a5)],this[_0x455e5a(0x1fc)]);}catch(_0x571f72){logger[_0x455e5a(0x212)](_0x455e5a(0x229)+_0x571f72);}!this[_0x455e5a(0x1a5)][_0x455e5a(0x24b)]&&logger[_0x455e5a(0x1eb)](constants[_0x455e5a(0x1fb)]),this[_0x455e5a(0x1c2)]=this[_0x455e5a(0x1c2)]['bind'](this),process['on'](_0x913b5b[_0x455e5a(0x1b9)],this[_0x455e5a(0x1c2)]),process['on'](_0x913b5b[_0x455e5a(0x1fe)],this[_0x455e5a(0x1c2)]),process['on'](_0x913b5b[_0x455e5a(0x1aa)],this['intExitHandler']),_0x913b5b[_0x455e5a(0x272)](process['platform'],_0x913b5b[_0x455e5a(0x235)])?(process['on'](_0x913b5b[_0x455e5a(0x24c)],this[_0x455e5a(0x1c2)]),process['on'](_0x913b5b[_0x455e5a(0x1db)],this[_0x455e5a(0x1c2)])):process['on'](_0x913b5b['hGReI'],this[_0x455e5a(0x1c2)]),process['on'](_0x913b5b[_0x455e5a(0x1e0)],this[_0x455e5a(0x26b)]());}async['initialize'](_0x38e1fe){const _0x53feb1=a83_0x5452c3,_0x224002={'ZexTM':_0x53feb1(0x276),'DpdOd':'custom-repeater','MXIOz':_0x53feb1(0x231),'RKrcd':function(_0x2c55de,_0x262757){return _0x2c55de===_0x262757;},'SfFBw':_0x53feb1(0x295),'bMPlO':function(_0x4fcbbd,_0x358a3e){return _0x4fcbbd+_0x358a3e;},'ZyfQW':_0x53feb1(0x1d8),'POjgx':function(_0x23ff8d,_0x42c322){return _0x23ff8d(_0x42c322);},'uviqo':'codeceptjs'};this['preInitialize'](_0x38e1fe);if(helper[_0x53feb1(0x255)](this[_0x53feb1(0x1a5)])){const _0x3e0954=await helper['getTurboScaleGridDetails'](this[_0x53feb1(0x1a5)]);this[_0x53feb1(0x1a5)][_0x53feb1(0x283)]=_0x3e0954,_0x3e0954[_0x53feb1(0x1cd)]&&helper['isNotUndefined'](this[_0x53feb1(0x1a5)]['browserstackLocal'])&&helper['isTrue'](this['config'][_0x53feb1(0x220)])&&(this[_0x53feb1(0x1a5)][_0x53feb1(0x1ee)]['localIdentifier']=_0x224002[_0x53feb1(0x28f)],this[_0x53feb1(0x1a5)]['browserStackLocalOptions'][_0x224002[_0x53feb1(0x254)]]=_0x3e0954[_0x53feb1(0x1b1)][_0x53feb1(0x256)](','),this['config']['browserStackLocalOptions'][_0x53feb1(0x293)]=_0x224002[_0x53feb1(0x25b)]),this[_0x53feb1(0x1a5)][_0x53feb1(0x240)]=_0x3e0954[_0x53feb1(0x279)],this['framework']&&_0x224002['RKrcd'](this[_0x53feb1(0x1fc)][_0x53feb1(0x285)](),_0x224002[_0x53feb1(0x25a)])?this[_0x53feb1(0x1a5)][_0x53feb1(0x240)]=_0x224002['bMPlO'](_0x3e0954['playwrightUrl'],_0x224002[_0x53feb1(0x1c3)]):constants[_0x53feb1(0x29a)]=helper[_0x53feb1(0x27e)](this[_0x53feb1(0x1a5)]),logger['debug'](_0x53feb1(0x21d)+constants[_0x53feb1(0x29a)]);}helper[_0x53feb1(0x218)](this['config']),this[_0x53feb1(0x26c)](),_0x224002['POjgx'](setPercyFlag,this),await this[_0x53feb1(0x245)](),![_0x224002[_0x53feb1(0x22a)],_0x224002[_0x53feb1(0x25a)]]['includes'](this[_0x53feb1(0x1fc)])&&!helper['isTurboScaleSession'](this[_0x53feb1(0x1a5)])&&!helper[_0x53feb1(0x27d)]()[_0x53feb1(0x25d)]&&await this['setUpHubUrl']();}async[a83_0x5452c3(0x271)](){const _0x27f380=a83_0x5452c3,_0x4a6a40={};_0x4a6a40[_0x27f380(0x294)]=function(_0xc8e9a6,_0x39363e){return _0xc8e9a6===_0x39363e;},_0x4a6a40['rBFpk']=_0x27f380(0x24f),_0x4a6a40[_0x27f380(0x1d1)]=_0x27f380(0x20b),_0x4a6a40[_0x27f380(0x26f)]=_0x27f380(0x22f),_0x4a6a40[_0x27f380(0x25e)]='true',_0x4a6a40[_0x27f380(0x291)]=_0x27f380(0x1b2);const _0x5c0afc=_0x4a6a40;if(helper[_0x27f380(0x222)](this['config'][_0x27f380(0x287)])&&(!this[_0x27f380(0x287)]||!this[_0x27f380(0x287)]['isRunning']()))try{this['percy']=await percyHelper['startPercy'](this['config']);if(!this[_0x27f380(0x287)]){process[_0x27f380(0x1d0)]['BROWSERSTACK_PERCY']=_0x5c0afc[_0x27f380(0x21c)];throw new Error(_0x5c0afc['oFvfM']);}logger[_0x27f380(0x1eb)](_0x5c0afc[_0x27f380(0x26f)]),process['env'][_0x27f380(0x237)]=_0x5c0afc['MKVxL'];let _0x43225d=0x0;const _0x7c4b70=async()=>{const _0x2ec706=_0x27f380;_0x43225d++,_0x5c0afc[_0x2ec706(0x294)](_0x43225d,0x1)&&await this[_0x2ec706(0x1f7)]();};process['on'](_0x5c0afc[_0x27f380(0x291)],_0x7c4b70);}catch(_0x3c9f10){process['env'][_0x27f380(0x237)]=_0x5c0afc[_0x27f380(0x21c)],logger[_0x27f380(0x212)](_0x27f380(0x2a2)+_0x3c9f10);throw new Error(_0x3c9f10[_0x27f380(0x1ae)]());}}async[a83_0x5452c3(0x1f7)](){const _0x364a11=a83_0x5452c3,_0x49743c={};_0x49743c[_0x364a11(0x1ab)]=_0x364a11(0x297),_0x49743c[_0x364a11(0x252)]=_0x364a11(0x20c);const _0x31f4d7=_0x49743c;if(this['percy']&&this['percy'][_0x364a11(0x1c1)]())try{await percyHelper[_0x364a11(0x1f7)](this[_0x364a11(0x287)]),logger[_0x364a11(0x1eb)](_0x31f4d7[_0x364a11(0x1ab)]);}catch(_0x5ef8a0){logger[_0x364a11(0x277)](_0x31f4d7['zpNCY'],_0x5ef8a0['message']);}}async[a83_0x5452c3(0x245)](){const _0x219928=a83_0x5452c3,_0xb53fc5={};_0xb53fc5[_0x219928(0x238)]=_0x219928(0x2a4),_0xb53fc5[_0x219928(0x1bb)]=_0x219928(0x1a0);const _0x3264f3=_0xb53fc5;if(helper[_0x219928(0x27a)]()&&helper['isTrue'](this[_0x219928(0x1a5)][_0x219928(0x220)])&&(!this['browserstackLocal']||!this['browserstackLocal'][_0x219928(0x1c1)]()))try{if(this[_0x219928(0x1a5)][_0x219928(0x1ee)][_0x219928(0x216)]){logger[_0x219928(0x212)](_0x3264f3['juSvp']);return;}this[_0x219928(0x220)]=await helper[_0x219928(0x29d)](this[_0x219928(0x1a5)]),logger[_0x219928(0x1eb)](_0x3264f3[_0x219928(0x1bb)]);}catch(_0x5a11c9){logger[_0x219928(0x212)](_0x5a11c9);throw new Error(_0x5a11c9[_0x219928(0x1ae)]());}}async[a83_0x5452c3(0x214)](){const _0x4a7f27=a83_0x5452c3,_0x32bdcb={};_0x32bdcb[_0x4a7f27(0x1e1)]=_0x4a7f27(0x284),_0x32bdcb[_0x4a7f27(0x1d2)]=_0x4a7f27(0x202);const _0x20f1b1=_0x32bdcb;if(this['browserstackLocal']&&this[_0x4a7f27(0x220)][_0x4a7f27(0x1c1)]())try{await helper['stopLocalBinary'](this[_0x4a7f27(0x220)]),logger[_0x4a7f27(0x1eb)](_0x20f1b1['poBKq']);}catch(_0x2bf07c){logger['error'](_0x20f1b1['jFnUX'],_0x2bf07c[_0x4a7f27(0x23d)]);}}async[a83_0x5452c3(0x1e7)](){const _0x2eba40=a83_0x5452c3;return PerformanceTester[_0x2eba40(0x1fa)](PerformanceAutEvents[_0x2eba40(0x299)],async()=>{const _0x38ce93=_0x2eba40;await hubAllocator[_0x38ce93(0x1e5)](this['config']);})();}async[a83_0x5452c3(0x1ce)](){const _0x428f29=a83_0x5452c3,_0x397daf={'qgGfE':function(_0x180d38,_0x3df5c6){return _0x180d38(_0x3df5c6);},'sCaZz':_0x428f29(0x265),'vIoZr':function(_0x14c3a4,_0x5bc717,_0x163ecc,_0x1584d7,_0x50fbfa,_0x13f4dc,_0xbd40da){return _0x14c3a4(_0x5bc717,_0x163ecc,_0x1584d7,_0x50fbfa,_0x13f4dc,_0xbd40da);},'kSSyo':'BrowserstackHealing.init\x20method\x20timed\x20out','QMuDs':_0x428f29(0x1f1),'cJZBd':function(_0x38b0f6,_0x335cdd){return _0x38b0f6(_0x335cdd);},'nOvYB':_0x428f29(0x1b5),'PkdIU':_0x428f29(0x1a9),'dQQCu':function(_0x44117a,_0x31481c){return _0x44117a(_0x31481c);},'QJFlm':function(_0x591a9d,_0x14a628){return _0x591a9d===_0x14a628;},'nTXsX':'true','qczbw':function(_0x49d798,_0x2b5753){return _0x49d798===_0x2b5753;},'YtKeE':_0x428f29(0x1e3),'APHVA':_0x428f29(0x1ef),'VHOps':_0x428f29(0x232),'ngVWd':function(_0x41fbb6,_0xce470){return _0x41fbb6(_0xce470);},'egpLF':_0x428f29(0x20d),'naIcA':function(_0x2783aa,_0x13acdf){return _0x2783aa>=_0x13acdf;},'eTCzs':function(_0x1dcbb1,_0x14351b){return _0x1dcbb1<_0x14351b;},'uWUAj':function(_0x2158c9,_0x3060c0){return _0x2158c9>=_0x3060c0;},'PBlYF':'tcg\x20config\x20setup\x20successful.','BiTEx':'aiHeal:tcgAuth','IdlQq':function(_0x10ecab){return _0x10ecab();}},_0x3ecf44=PerformanceTester[_0x428f29(0x1fa)](_0x397daf[_0x428f29(0x1ea)],async()=>{const _0x13aec4=_0x428f29;try{const _0x344c25=new Date(),_0x382fe2=helper[_0x13aec4(0x29e)](this[_0x13aec4(0x1a5)]),_0x4ba114=_0x397daf[_0x13aec4(0x1f4)](require,path[_0x13aec4(0x256)](__dirname,_0x397daf[_0x13aec4(0x1e2)])),_0x8f87e3=_0x397daf[_0x13aec4(0x28d)](timeoutPromise,constants[_0x13aec4(0x226)],_0x397daf['kSSyo'],_0x397daf[_0x13aec4(0x20a)],_0x344c25,this[_0x13aec4(0x1a5)],this[_0x13aec4(0x1fc)]),_0x415523={'tcgUrl':constants['TCG_URL'],'sdkVersion':_0x397daf[_0x13aec4(0x209)](require,_0x397daf[_0x13aec4(0x1c0)])[_0x13aec4(0x225)],'methodUsed':_0x397daf[_0x13aec4(0x260)],'proxyConfig':_0x382fe2,'os':os['platform']()};if(_0x382fe2&&_0x382fe2[_0x13aec4(0x273)]){utilities[_0x13aec4(0x28e)](constants['AI_PROXY_FAILURE'],_0x415523,this[_0x13aec4(0x1a5)],this[_0x13aec4(0x1fc)]);return;}const _0x572805={};_0x572805['proxy']=_0x382fe2;const _0x4ef534=await Promise['race']([_0x4ba114[_0x13aec4(0x1f2)](this['config'][_0x13aec4(0x2a1)],this['config']['userName'],constants[_0x13aec4(0x203)],_0x397daf[_0x13aec4(0x1bc)](require,_0x397daf['nOvYB'])['version'],_0x572805)[_0x13aec4(0x1c4)](_0x575bba=>{const _0x4ca6cf=_0x13aec4;return _0x8f87e3[_0x4ca6cf(0x1cb)](),_0x575bba;}),_0x8f87e3]);_0x4ef534[_0x13aec4(0x290)]=_0x397daf[_0x13aec4(0x207)](_0x4ef534[_0x13aec4(0x290)],_0x397daf[_0x13aec4(0x26d)])||_0x397daf[_0x13aec4(0x207)](_0x4ef534[_0x13aec4(0x290)],!![]);const _0x1a5d10=_0x397daf[_0x13aec4(0x207)](this['config'][_0x13aec4(0x1e6)],!![])||_0x397daf[_0x13aec4(0x207)](this['config'][_0x13aec4(0x1e6)],_0x397daf[_0x13aec4(0x26d)]);if(_0x397daf[_0x13aec4(0x1cf)](_0x4ef534[_0x13aec4(0x23d)],constants['UPGRADE_REQUIRED'])&&_0x1a5d10)logger[_0x13aec4(0x1eb)](_0x397daf[_0x13aec4(0x21b)]);else{if(!_0x4ef534[_0x13aec4(0x23b)]&&_0x397daf[_0x13aec4(0x1cf)](_0x4ef534[_0x13aec4(0x1d3)],0x1f7)&&_0x1a5d10)logger[_0x13aec4(0x1eb)](_0x397daf[_0x13aec4(0x241)]),utilities[_0x13aec4(0x28e)](constants[_0x13aec4(0x248)],_0x415523,this['config'],this[_0x13aec4(0x1fc)]);else{if(!_0x4ef534['isAuthenticated']&&_0x1a5d10){logger[_0x13aec4(0x1eb)](_0x397daf[_0x13aec4(0x19f)]);const _0x65604={'tcgUrl':constants[_0x13aec4(0x203)],'sdkVersion':_0x397daf[_0x13aec4(0x1b7)](require,_0x397daf['nOvYB'])[_0x13aec4(0x225)],'methodUsed':_0x397daf['PkdIU'],'proxyConfig':_0x382fe2,'os':os[_0x13aec4(0x1a7)]()};utilities[_0x13aec4(0x28e)](constants[_0x13aec4(0x250)],_0x65604,this[_0x13aec4(0x1a5)],this[_0x13aec4(0x1fc)]);}else{if(_0x4ef534['isAuthenticated']&&!_0x4ef534[_0x13aec4(0x290)]&&_0x1a5d10)logger[_0x13aec4(0x1eb)](_0x397daf[_0x13aec4(0x22c)]);else{if(_0x397daf[_0x13aec4(0x1e9)](_0x4ef534['status'],0xc8)&&_0x397daf['eTCzs'](_0x4ef534[_0x13aec4(0x1d3)],0x12c))utilities[_0x13aec4(0x28e)](constants[_0x13aec4(0x1ed)],_0x415523,this[_0x13aec4(0x1a5)],this[_0x13aec4(0x1fc)]);else{if(_0x397daf[_0x13aec4(0x263)](_0x4ef534[_0x13aec4(0x1d3)],0x190))_0x415523[_0x13aec4(0x1d3)]=_0x4ef534['status'],utilities['fireFunnelTestEvent'](constants[_0x13aec4(0x20f)],_0x415523,this[_0x13aec4(0x1a5)],this[_0x13aec4(0x1fc)]);else!_0x4ef534[_0x13aec4(0x1d3)]&&utilities[_0x13aec4(0x28e)](constants[_0x13aec4(0x230)],_0x415523,this[_0x13aec4(0x1a5)],this['framework']);}}}}}if(_0x4ef534[_0x13aec4(0x23b)]&&_0x4ef534[_0x13aec4(0x290)]){const _0x208950={};_0x208950['tcgAuthConfig']=_0x4ef534;const _0x4a1ef2=_0x208950;_0x382fe2&&(_0x4a1ef2['proxyConfig']=_0x382fe2),_0x4a1ef2[_0x13aec4(0x1fc)]=this[_0x13aec4(0x1fc)],_0x4a1ef2[_0x13aec4(0x213)]=this['config'],helper[_0x13aec4(0x1e8)](_0x4a1ef2),logger[_0x13aec4(0x212)](_0x397daf[_0x13aec4(0x270)]);}}catch(_0x596044){logger[_0x13aec4(0x212)](_0x13aec4(0x27c)+(_0x596044[_0x13aec4(0x23d)]?_0x596044[_0x13aec4(0x23d)]:''));}});await _0x397daf['IdlQq'](_0x3ecf44);}[a83_0x5452c3(0x26c)](){const _0x3c3411=a83_0x5452c3,_0x5df224={'LehWt':function(_0x2d09d3,_0x467df6){return _0x2d09d3(_0x467df6);},'RDsHJ':'./setKeepAlive'};_0x5df224['LehWt'](require,_0x5df224[_0x3c3411(0x266)])();}[a83_0x5452c3(0x1a2)](){const _0x8c93a2=a83_0x5452c3,_0xef99ed={};_0xef99ed['OfDoO']=_0x8c93a2(0x28a),_0xef99ed[_0x8c93a2(0x243)]=_0x8c93a2(0x262);const _0x5798f9=_0xef99ed,_0x4aaa7e=_0x5726a2=>{const _0x134e37=_0x8c93a2;logger[_0x134e37(0x277)](_0x5726a2[_0x134e37(0x23d)]),logger[_0x134e37(0x212)](util['format'](_0x5726a2)),this[_0x134e37(0x26a)][_0x134e37(0x1fd)](util['format']('%j',_0x5726a2)),PerformanceTester[_0x134e37(0x2a5)](_0x5726a2);};process['on'](_0x5798f9[_0x8c93a2(0x23f)],_0x4aaa7e),process['on'](_0x5798f9[_0x8c93a2(0x243)],_0x4aaa7e);}async['intExitHandler'](_0x37e6e9){const _0x3eca77=a83_0x5452c3,_0x16b1bf={};_0x16b1bf[_0x3eca77(0x204)]='3|1|5|2|0|7|4|6',_0x16b1bf['nhqdI']=function(_0x594b80,_0x1f191e){return _0x594b80+_0x1f191e;},_0x16b1bf[_0x3eca77(0x23e)]=_0x3eca77(0x1ad),_0x16b1bf[_0x3eca77(0x2a0)]=function(_0x3c2e40,_0x5d4c74){return _0x3c2e40+_0x5d4c74;},_0x16b1bf[_0x3eca77(0x1f3)]=_0x3eca77(0x206);const _0x918303=_0x16b1bf,_0x3f8729=_0x918303['PJyql'][_0x3eca77(0x296)]('|');let _0x10b9e3=0x0;while(!![]){switch(_0x3f8729[_0x10b9e3++]){case'0':logger[_0x3eca77(0x1eb)](_0x918303[_0x3eca77(0x1f0)](_0x918303['OGelK'],_0x37e6e9));continue;case'1':fileLogger&&fileLogger[_0x3eca77(0x1c5)]();continue;case'2':this[_0x918303['LhDFG'](_0x918303[_0x3eca77(0x1f3)],_0x37e6e9)]=!![];continue;case'3':logger&&logger[_0x3eca77(0x1c5)]();continue;case'4':await TestHubHandler[_0x3eca77(0x21f)](_0x37e6e9);continue;case'5':if(this[_0x918303[_0x3eca77(0x1f0)](_0x918303[_0x3eca77(0x1f3)],_0x37e6e9)])return;continue;case'6':await BrowserstackCLI[_0x3eca77(0x1f8)]()['stop']();continue;case'7':this['killSignal']=_0x37e6e9;continue;}break;}}[a83_0x5452c3(0x26b)](){const _0x141954=a83_0x5452c3,_0x553951={'DdbEh':function(_0x460566,_0x13ed18){return _0x460566===_0x13ed18;},'YZNeE':_0x141954(0x275),'nUlMc':function(_0x49cf73,_0x294cc4){return _0x49cf73>_0x294cc4;},'pkQwF':function(_0x1b2e27){return _0x1b2e27();},'kMoFD':_0x141954(0x1a8)};let _0x242731=0x0;return async()=>{const _0x1eebd7=_0x141954;_0x242731++;if(_0x553951[_0x1eebd7(0x1ff)](_0x242731,0x1)){helper['checkStopLocalBinaryOnExit'](this['framework'])&&await this[_0x1eebd7(0x214)]();try{logger[_0x1eebd7(0x212)](_0x553951[_0x1eebd7(0x1b8)]),await TestHubHandler['stop'](_0x242731),await BrowserstackCLI['getInstance']()[_0x1eebd7(0x21f)]('1');}catch(_0x11f23b){logger[_0x1eebd7(0x212)](_0x1eebd7(0x258)+util[_0x1eebd7(0x25c)](_0x11f23b));}PerformanceTester['end'](PerformanceEvents[_0x1eebd7(0x1be)]);if(PerformanceTester[_0x1eebd7(0x228)]()){const {measures:_0x1e5e83,errors:_0xf5c16a}=await PerformanceTester[_0x1eebd7(0x1ba)](),_0x3f1adc={};if(_0x1e5e83&&_0x553951[_0x1eebd7(0x233)](_0x1e5e83[_0x1eebd7(0x1d5)],0x0)||_0xf5c16a&&_0x553951['nUlMc'](_0xf5c16a[_0x1eebd7(0x1d5)],0x0)){const _0x3f5cff={};_0x3f5cff['measures']=_0x1e5e83,_0x3f5cff[_0x1eebd7(0x29f)]=_0xf5c16a,Object['assign'](_0x3f1adc,_0x3f5cff);}try{const _0x1c73fa=await helper[_0x1eebd7(0x236)](_0x3f1adc,this['config']);logger[_0x1eebd7(0x212)]('Data\x20sent\x20successfully\x20to\x20'+constants[_0x1eebd7(0x298)]+_0x1eebd7(0x274)+_0x1c73fa['statusCode']);}catch(_0x242b62){logger['debug'](_0x1eebd7(0x1a1)+constants[_0x1eebd7(0x298)]+_0x1eebd7(0x24d)+util['format'](_0x242b62));}try{fs[_0x1eebd7(0x1f6)](path[_0x1eebd7(0x256)](_0x553951[_0x1eebd7(0x264)](getLogDir),_0x553951[_0x1eebd7(0x29c)]),JSON['stringify'](_0x3f1adc));}catch(_0x48ea13){logger[_0x1eebd7(0x212)](_0x1eebd7(0x26e)+_0x48ea13);}}}};}}function a83_0x1de6(){const _0x37b661=['SIGABRT','sdkRunId','version','TCG_AUTH_TIMEOUT','parallelsPerPlatform','isEnabled','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','uviqo','./percy/utils','egpLF','errorMessage','4.5.0','Percy\x20started\x20successfully','INVALID_INIT_RESP_WITH_USER_IMPACT','true','Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','nUlMc','setCLICaps','AHilR','sendToEDS','BROWSERSTACK_PERCY','juSvp','preInitialize','EqzmU','isAuthenticated','uqTGf','message','OGelK','OfDoO','turboScaleUrl','APHVA','rdcmv','fpkEo','830cqwxhn','setupBrowserstackLocal','XbyCK','path','TCG_DOWN','setCredentialsFromYmlConfig','SDKTestAttempted','disableAutoCaptureLogs','hAGET','\x20with\x20error\x20','getConfigPath','false','TCG_AUTH_FAILURE','skipSessionName','zpNCY','SDK\x20run\x20started\x20with\x20id:\x20','DpdOd','isTurboScaleSession','join','userName\x20or\x20accessKey\x20is\x20not\x20defined','Error\x20in\x20sending\x20testhub\x20stop:\x20','default','SfFBw','MXIOz','format','central_scanner','MKVxL','2544330BqKctk','PkdIU','1143370UxTNRo','uncaughtException','uWUAj','pkQwF','../ai-sdk-node/bundle','RDsHJ','./utilities','getPackageVersion','readConfig','unhandledErrors','exitHandler','setupKeepAlive','nTXsX','Error\x20in\x20writing\x20events\x20to\x20file\x20','wREVk','PBlYF','setupPercy','IriXe','proxyUrl','\x20with\x20response\x20','Calling\x20Build\x20Stop\x20from\x20ExitHandler','ats-repeater','error','requireSeleniumWebdriverCheck','url','isBrowserstackInfra','1248300gcxjyK','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','getCentralUser','getHubUrl','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','108xjDxHD','BROWSERSTACK_TURBOSCALE','No\x20config\x20provided.','turboScaleGridDetails','Local\x20binary\x20stopped','toLowerCase','testContextOptions','percy','2211406LgtHgp','./logger','unhandledRejection','FRAMEWORK','8|4|7|3|2|22|11|19|13|10|15|0|16|20|17|21|9|18|6|14|1|5|12','vIoZr','fireFunnelTestEvent','ZexTM','isHealingEnabled','ezQVN','SIGQUIT','forceLocal','KbkmG','playwright','split','Percy\x20stopped','EDS_URL','HUB_MANAGEMENT','hubUrl','generateLocalIdentifier','kMoFD','startLocalBinary','getProxyConfigForTcg','exceptions','LhDFG','accessKey','Error\x20in\x20percy\x20setup\x20','integrations','Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled','captureError','constructor','bFsBe','VHOps','Local\x20binary\x20started\x20successfully','Failed\x20to\x20send\x20data\x20to\x20','handleExceptions','useW3C','startMonitoring','config','SIGTERM','platform','events.json','BrowserstackHealing.init','dIsCU','tVnQc','./helper','Shutdown\x20triggered\x20by\x20','toString','7FeesdJ','wOgrR','customRepeaters','beforeExit','setEnvCaps','warn','../../package.json','./performance/performance-tester','ngVWd','YZNeE','hkwDa','finalize','SCCHe','dQQCu','getUserName','SDK_CLEANUP','isUndefined','nOvYB','isRunning','intExitHandler','ZyfQW','then','close','getLocalIdentifier','tgzsn','uuid','./testhub/utils','getAccessKey','cancel','setLogLevel','isTrialGrid','setupTCGAuth','qczbw','env','oFvfM','jFnUX','status','../bin/utils/constants','length','1704666wSqUkw','./timeoutPromise','?caps=','sanitizeCaps','SIGBREAK','OKDeI','rQFYB','parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','../bin/v2/browserstackCLI','compareVersions','cvLxE','poBKq','sCaZz','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','cliConfig','allocateHub','selfHeal','setUpHubUrl','setupTcgConfigFile','naIcA','BiTEx','info','killSignal','AI_INIT_SUCCESSFUL','browserStackLocalOptions','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','nhqdI','BrowserstackHealingInitFailed','init','PJKmE','qgGfE','normalizeTestReportingEnvVars','writeFileSync','stopPercy','getInstance','SIGHUP','measureWrapper','AUTOLOGCAPTURE_NOTIFICATION','framework','push','uSPwc','DdbEh','winstonLogger','setLogDir','Error\x20occured\x20while\x20stopping\x20local\x20binary','TCG_URL','PJyql','15564eygLCJ','handled','QJFlm','turboScaleOptions','cJZBd','QMuDs','Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.','Error\x20occured\x20while\x20stopping\x20percy','Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','140912jtlNzQ','AI_INIT_FAILURE','win32','turboScale','debug','bstackConfig','stopBrowserstackLocal','./testhub/testhubHandler','skipBinaryInitialisation','platforms','setProxySettings','zZgxM','GGpxT','YtKeE','rBFpk','HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20','envConfig','stop','browserstackLocal','skipSessionStatus','isTrue'];a83_0x1de6=function(){return _0x37b661;};return a83_0x1de6();}exports[a83_0x5452c3(0x259)]=BrowserStackSetup;