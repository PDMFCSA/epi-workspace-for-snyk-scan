const a55_0x597594=a55_0x178a;function a55_0x3a16(){const _0x338973=['debug','turboScaleUrl','isEnabled','./testhub/utils','split','platforms','setupBrowserstackLocal','skipSessionName','AI_INIT_FAILURE','lQWjg','status','default','bind','702KJuTWY','MCahP','join','codeceptjs','365469CpZixl','format','pPXXD','isUndefined','customRepeaters','EjTiN','framework','generateLocalIdentifier','AI_INIT_SUCCESSFUL','EDS_URL','platform','srMvj','SDK\x20run\x20started\x20with\x20id:\x20','22545KTAoTp','kMxMj','useW3C','userName\x20or\x20accessKey\x20is\x20not\x20defined','requireSeleniumWebdriverCheck','warn','wSouo','sJPEs','./testhub/testhubHandler','jrYUg','config','false','HVlBo','AI_PROXY_FAILURE','../hubAllocationMethods','xHzWc','./setKeepAlive','yTZST','isTrue','PPrvF','race','INVALID_INIT_RESP_WITH_USER_IMPACT','Failed\x20to\x20send\x20data\x20to\x20','Local\x20binary\x20started\x20successfully','FnHek','browserStackLocalOptions','setupTCGAuth','envConfig','nVgmv','HBSbg','Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','PsyGQ','exceptions','TCG_DOWN','qmFBf','exitHandler','2151986uSaQzK','accessKey','error','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','sfgmf','jDnJj','isHealingEnabled','sendToEDS','AUTOLOGCAPTURE_NOTIFICATION','util','tcg\x20config\x20setup\x20successful.','Percy\x20stopped','./logger','winstonLogger','NhTBP','proxyUrl','OKycV','ucxYh','measures','handleExceptions','intExitHandler','bqYDh','DjMEj','tnGWU','env','killSignal','fdQjf','Shutdown\x20triggered\x20by\x20','SDKTestAttempted','fgswx','isBrowserstackInfra','qcLJl','playwrightUrl','setCLICaps','WEyGB','SIGBREAK','438376nEBDmS','TCG_AUTH_TIMEOUT','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','BrowserstackHealing.init','setupKeepAlive','BrowserstackHealing.init\x20method\x20timed\x20out','TPfZR','./ats/helper','setUpHubUrl','unhandledErrors','readConfig','setupPercy','central_scanner','finalize','version','./performance/constants','captureError','55TKtnCz','path','SDK_CLEANUP','getAccessKey','getPackageVersion','rPsDN','sanitizeCaps','BROWSERSTACK_PERCY','bBfXH','CFKag','assign','Percy\x20started\x20successfully','push','fireFunnelTestEvent','userName','sdkRunID','setEnvCaps','153VXJstq','stringify','compareVersions','turboScale','parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','forceLocal','skipBinaryInitialisation','log/events.json','custom-repeater','unhandledRejection','length','writeFileSync','Error\x20occured\x20while\x20stopping\x20percy','yaeSU','OkoWP','TCG_URL','initialize','uncaughtException','TBWjN','1980016IWsLtx','Error\x20in\x20percy\x20setup\x20','testContextOptions','hubUrl','FRAMEWORK','49WJPUoe','./utilities','tcgAuthConfig','QJKza','BTwvl','getUserName','./performance/performance-tester','hyAHC','HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20','playwright','errorMessage','vfbDk','xqehJ','selfHeal','./timeoutPromise','kSUZf','isAuthenticated','skipSessionStatus','percy','leKDc','SIGQUIT','stop','JktEU','getConfigPath','XUIhh','../ai-sdk-node/bundle','includes','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','SIGHUP','oBsXC','SIGINT','browserstackLocal','../bin/utils/constants','localIdentifier','PIoBr','XaBwX','cancel','SIGTERM','ilYCw','4.5.0','Data\x20sent\x20successfully\x20to\x20','bstackConfig','Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','ljTBa','yxzZm','stopPercy','startPercy','\x20with\x20response\x20','parallelsPerPlatform','27|37|19|6|36|20|21|8|38|13|2|11|16|40|39|9|31|33|30|0|34|18|5|22|24|17|1|32|3|42|10|26|28|41|23|12|14|7|4|25|15|43|35|29','BrowserstackHealingInitFailed','Error\x20in\x20sending\x20testhub\x20stop:\x20','UPGRADE_REQUIRED','RZcxl','getLocalConfig','true','message','turboScaleOptions','isRunning','\x20with\x20error\x20','BROWSERSTACK_TURBOSCALE','TmeHh','info','OeFLA','cIAMS','beforeExit','Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled','../../package.json','?caps=','xjPJc','4500852ysABxT','342730zzFTID','allocateHub','BeHWN','isTrialGrid','tAZdy','setLogLevel','startLocalBinary','Cqsyk','cliConfig','disableAutoCaptureLogs','Calling\x20Build\x20Stop\x20from\x20ExitHandler','mQfUc','6OvQksS','ZHCMN','setBrowserstackInfraFromConfig','Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.','YxDLS','hqZvd','proxyConfig','zkhdv','ats-repeater','win32','localOptions','setupTcgConfigFile','Kjgzb','getLocalIdentifier','stopBrowserstackLocal'];a55_0x3a16=function(){return _0x338973;};return a55_0x3a16();}(function(_0x2dfbeb,_0x39dbc2){const _0x2dfc21=a55_0x178a,_0x3e6b4c=_0x2dfbeb();while(!![]){try{const _0x5ae16e=-parseInt(_0x2dfc21(0x1d9))/0x1+parseInt(_0x2dfc21(0x20a))/0x2+parseInt(_0x2dfc21(0x1b9))/0x3*(parseInt(_0x2dfc21(0x264))/0x4)+-parseInt(_0x2dfc21(0x1e6))/0x5*(-parseInt(_0x2dfc21(0x1d5))/0x6)+parseInt(_0x2dfc21(0x269))/0x7*(-parseInt(_0x2dfc21(0x22e))/0x8)+parseInt(_0x2dfc21(0x251))/0x9*(parseInt(_0x2dfc21(0x1ad))/0xa)+parseInt(_0x2dfc21(0x240))/0xb*(-parseInt(_0x2dfc21(0x1ac))/0xc);if(_0x5ae16e===_0x39dbc2)break;else _0x3e6b4c['push'](_0x3e6b4c['shift']());}catch(_0x187c80){_0x3e6b4c['push'](_0x3e6b4c['shift']());}}}(a55_0x3a16,0x86b70));const util=require(a55_0x597594(0x213)),os=require('os'),path=require(a55_0x597594(0x241)),{v4:uuidv4}=require('uuid'),fs=require('fs'),constants=require(a55_0x597594(0x186)),{isTurboScaleSession}=require(a55_0x597594(0x236)),logger=require(a55_0x597594(0x216))[a55_0x597594(0x217)],helper=require('./helper'),utilities=require(a55_0x597594(0x26a)),percyHelper=require('./percy/utils'),hubAllocator=require(a55_0x597594(0x1f4)),PerformanceTester=require(a55_0x597594(0x26f)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require(a55_0x597594(0x23e)),{setPercyFlag}=require(a55_0x597594(0x1cb)),TestHubHandler=require(a55_0x597594(0x1ee)),timeoutPromise=require(a55_0x597594(0x174));function a55_0x178a(_0x49ef7b,_0x5c4e69){const _0x3a1627=a55_0x3a16();return a55_0x178a=function(_0x178aa6,_0xf747bb){_0x178aa6=_0x178aa6-0x174;let _0x43a9ee=_0x3a1627[_0x178aa6];return _0x43a9ee;},a55_0x178a(_0x49ef7b,_0x5c4e69);}class BrowserStackSetup{constructor(_0x3b0771,_0x3d7a03){const _0x2a584e=a55_0x597594,_0x53f715={'qcLJl':_0x2a584e(0x197),'ucxYh':_0x2a584e(0x226),'HVlBo':_0x2a584e(0x184),'wSouo':function(_0x519304,_0x2b8e05){return _0x519304===_0x2b8e05;},'XUIhh':'Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','yepla':_0x2a584e(0x255),'hqZvd':_0x2a584e(0x1e9),'nVgmv':_0x2a584e(0x18b),'lQWjg':_0x2a584e(0x1a7),'JktEU':'No\x20config\x20provided.','zkhdv':function(_0x3397cc,_0x1fa0b2){return _0x3397cc!==_0x1fa0b2;},'QJKza':_0x2a584e(0x1c2),'kMxMj':'SIGABRT','hyAHC':_0x2a584e(0x17a),'ZHCMN':_0x2a584e(0x22d),'OKycV':function(_0x4c29e0){return _0x4c29e0();},'OeFLA':function(_0xc13a7f,_0x4d7cac){return _0xc13a7f<_0x4d7cac;},'fgswx':function(_0x5e5b77,_0x4b7eac){return _0x5e5b77(_0x4b7eac);},'PIoBr':'selenium-webdriver','nXzNf':function(_0x678b36,_0x5dc3f8){return _0x678b36===_0x5dc3f8;},'ljTBa':_0x2a584e(0x18d),'WhyQX':function(_0x10aff3,_0x4403fc){return _0x10aff3===_0x4403fc;},'MvLDx':'integrations','xHzWc':_0x2a584e(0x182)},_0x10850e=_0x53f715[_0x2a584e(0x229)]['split']('|');let _0x5c3f6b=0x0;while(!![]){switch(_0x10850e[_0x5c3f6b++]){case'0':helper[_0x2a584e(0x1bb)](this['config'],this[_0x2a584e(0x1b5)]);continue;case'1':this[_0x2a584e(0x1f0)][_0x2a584e(0x1ff)][_0x2a584e(0x257)]=helper[_0x2a584e(0x1f8)](this[_0x2a584e(0x1f0)][_0x2a584e(0x1ff)][_0x2a584e(0x257)]);continue;case'2':global[_0x2a584e(0x1df)]=_0x3d7a03;continue;case'3':helper['setHandlePWError'](this[_0x2a584e(0x1f0)]);continue;case'4':this['intExitHandler']=this['intExitHandler'][_0x2a584e(0x1d4)](this);continue;case'5':helper['getFinalCaps'](this[_0x2a584e(0x1f0)],this[_0x2a584e(0x1b5)],this['envConfig']);continue;case'6':this[_0x2a584e(0x185)]=null;continue;case'7':!this[_0x2a584e(0x1f0)][_0x2a584e(0x1b6)]&&logger[_0x2a584e(0x1a4)](constants[_0x2a584e(0x212)]);continue;case'8':this[_0x2a584e(0x1f0)][_0x2a584e(0x266)]=this[_0x2a584e(0x1f0)][_0x2a584e(0x266)]||{};continue;case'9':global['sdkRunID']=this[_0x2a584e(0x24f)];continue;case'10':this[_0x2a584e(0x21d)]();continue;case'11':helper[_0x2a584e(0x246)](this[_0x2a584e(0x1f0)]);continue;case'12':!this['config']['testContextOptions']&&(this[_0x2a584e(0x1f0)][_0x2a584e(0x266)]={});continue;case'13':global[_0x2a584e(0x1f0)]=this[_0x2a584e(0x1f0)];continue;case'14':try{process[_0x2a584e(0x222)][_0x2a584e(0x268)]=_0x3b0771['_'][0x0],utilities[_0x2a584e(0x24d)](_0x53f715[_0x2a584e(0x21b)],{},this[_0x2a584e(0x1f0)],this[_0x2a584e(0x1df)]);}catch(_0x6710c6){logger[_0x2a584e(0x1c8)](_0x2a584e(0x230)+_0x6710c6);}continue;case'15':process['on'](_0x53f715[_0x2a584e(0x1f2)],this[_0x2a584e(0x21e)]);continue;case'16':this['framework']=_0x3d7a03;continue;case'17':helper[_0x2a584e(0x19c)](this[_0x2a584e(0x1f0)])&&helper[_0x2a584e(0x1dc)](helper[_0x2a584e(0x1c6)](this[_0x2a584e(0x1f0)]))&&(!helper[_0x2a584e(0x1dc)](this[_0x2a584e(0x1f0)][_0x2a584e(0x1ff)])&&_0x53f715[_0x2a584e(0x1ec)](this[_0x2a584e(0x1f0)]['browserStackLocalOptions']['constructor'],Object)?!helper[_0x2a584e(0x1f8)](this[_0x2a584e(0x1f0)][_0x2a584e(0x1ff)]['skipBinaryInitialisation'])&&(this[_0x2a584e(0x1f0)][_0x2a584e(0x1ff)][_0x2a584e(0x187)]=helper[_0x2a584e(0x1e0)]()):this[_0x2a584e(0x1f0)][_0x2a584e(0x1ff)]={'localIdentifier':helper['generateLocalIdentifier']()});continue;case'18':this['config'][_0x2a584e(0x266)]['skipSessionName']=!helper[_0x2a584e(0x228)]()||helper['isTrue'](this[_0x2a584e(0x1f0)][_0x2a584e(0x266)][_0x2a584e(0x1cf)]);continue;case'19':this[_0x2a584e(0x201)]=helper[_0x2a584e(0x250)]();continue;case'20':this[_0x2a584e(0x1f0)]=helper[_0x2a584e(0x239)](helper[_0x2a584e(0x17d)](_0x3b0771));continue;case'21':this[_0x2a584e(0x1f0)][_0x2a584e(0x1cd)]=this[_0x2a584e(0x1f0)][_0x2a584e(0x1cd)]||[];continue;case'22':!this[_0x2a584e(0x1f0)]['browserStackLocalOptions']&&(this[_0x2a584e(0x1f0)][_0x2a584e(0x1ff)]=this['config'][_0x2a584e(0x1c3)]||{});continue;case'23':(helper[_0x2a584e(0x1dc)](this['config'][_0x2a584e(0x1cd)])||helper['isUndefined'](this['config'][_0x2a584e(0x1cd)][_0x2a584e(0x25b)]))&&(helper['isUndefined'](this[_0x2a584e(0x1f0)][_0x2a584e(0x196)])?logger['info'](_0x53f715[_0x2a584e(0x17e)]):logger[_0x2a584e(0x1eb)](_0x53f715['yepla']),this[_0x2a584e(0x1f0)]['platforms']=[]);continue;case'24':if(helper[_0x2a584e(0x1dc)](helper[_0x2a584e(0x26e)](this[_0x2a584e(0x1f0)]))||helper[_0x2a584e(0x1dc)](helper[_0x2a584e(0x243)](this[_0x2a584e(0x1f0)])))throw new Error(_0x53f715[_0x2a584e(0x1be)]);continue;case'25':process['on'](_0x53f715[_0x2a584e(0x202)],this['intExitHandler']);continue;case'26':process[_0x2a584e(0x222)][_0x2a584e(0x1a2)]&&(this[_0x2a584e(0x1f0)][_0x2a584e(0x254)]=helper[_0x2a584e(0x1f8)](process[_0x2a584e(0x222)]['BROWSERSTACK_TURBOSCALE']),this[_0x2a584e(0x1f0)][_0x2a584e(0x19f)]=this['config'][_0x2a584e(0x19f)]||{});continue;case'27':this['unhandledErrors']=[];continue;case'28':if(!helper[_0x2a584e(0x228)]()){try{process['env'][_0x2a584e(0x268)]=_0x3d7a03,utilities[_0x2a584e(0x24d)](_0x53f715['ucxYh'],{},this[_0x2a584e(0x1f0)],this['framework']);}catch(_0x5d6066){logger[_0x2a584e(0x1c8)]('Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20'+_0x5d6066);}return;}continue;case'29':process['on'](_0x53f715[_0x2a584e(0x1d1)],this[_0x2a584e(0x209)]());continue;case'30':if(this[_0x2a584e(0x1f0)][_0x2a584e(0x20c)])throw new Error(this[_0x2a584e(0x1f0)]['error']);continue;case'31':logger[_0x2a584e(0x1a4)](_0x2a584e(0x1e5)+this[_0x2a584e(0x24f)]);continue;case'32':helper[_0x2a584e(0x1b2)](this[_0x2a584e(0x1f0)],this[_0x2a584e(0x1b5)],this[_0x2a584e(0x201)]);continue;case'33':if(helper[_0x2a584e(0x1dc)](this[_0x2a584e(0x1f0)]))throw new Error(_0x53f715[_0x2a584e(0x17c)]);continue;case'34':this[_0x2a584e(0x1f0)]['testContextOptions']['skipSessionStatus']=!helper[_0x2a584e(0x228)]()||helper[_0x2a584e(0x1f8)](this['config'][_0x2a584e(0x266)][_0x2a584e(0x177)]);continue;case'35':_0x53f715[_0x2a584e(0x1c0)](process[_0x2a584e(0x1e3)],_0x53f715[_0x2a584e(0x26c)])?(process['on'](_0x53f715[_0x2a584e(0x1e7)],this[_0x2a584e(0x21e)]),process['on'](_0x53f715[_0x2a584e(0x270)],this[_0x2a584e(0x21e)])):process['on'](_0x53f715[_0x2a584e(0x1ba)],this[_0x2a584e(0x21e)]);continue;case'36':this['percy']=null;continue;case'37':this[_0x2a584e(0x1b5)]=helper[_0x2a584e(0x22b)](_0x3b0771);continue;case'38':this[_0x2a584e(0x273)]={};continue;case'39':this[_0x2a584e(0x223)]=null;continue;case'40':this[_0x2a584e(0x24f)]=_0x53f715[_0x2a584e(0x21a)](uuidv4);continue;case'41':helper[_0x2a584e(0x1ea)](_0x3d7a03)&&(_0x53f715[_0x2a584e(0x1a5)](_0x53f715[_0x2a584e(0x227)](parseInt,helper['getPackageVersion'](_0x53f715[_0x2a584e(0x188)])),0x3)&&(this['config'][_0x2a584e(0x1e8)]=![]),_0x53f715['nXzNf'](helper[_0x2a584e(0x253)](helper[_0x2a584e(0x244)](_0x53f715[_0x2a584e(0x188)]),_0x53f715[_0x2a584e(0x191)]),0x1)&&(this[_0x2a584e(0x1f0)][_0x2a584e(0x1e8)]=!![]));continue;case'42':if(_0x53f715['WhyQX'](_0x3d7a03,_0x53f715['MvLDx']))return;continue;case'43':process['on'](_0x53f715[_0x2a584e(0x1f5)],this[_0x2a584e(0x21e)]);continue;}break;}}async[a55_0x597594(0x261)](){const _0x249555=a55_0x597594,_0x895c80={'TBWjN':function(_0x3356d0,_0x4bad72){return _0x3356d0(_0x4bad72);},'HBSbg':_0x249555(0x1c1),'rPsDN':_0x249555(0x259),'tnGWU':_0x249555(0x19d),'srMvj':function(_0x5495a3,_0x15d7f5){return _0x5495a3===_0x15d7f5;},'TpkAr':_0x249555(0x272),'hAIGE':function(_0x566854,_0x35a69e){return _0x566854+_0x35a69e;},'vfbDk':_0x249555(0x1aa),'RUQSE':_0x249555(0x1d8),'xqehJ':function(_0xe64df0,_0x379f76){return _0xe64df0(_0x379f76);}};if(_0x895c80[_0x249555(0x263)](isTurboScaleSession,this[_0x249555(0x1f0)])){const _0x1e3f4d=await helper['getTurboScaleGridDetails'](this[_0x249555(0x1f0)]);this['config']['turboScaleGridDetails']=_0x1e3f4d,_0x1e3f4d[_0x249555(0x1b0)]&&(this[_0x249555(0x1f0)][_0x249555(0x185)]=!![],this[_0x249555(0x1f0)][_0x249555(0x1ff)][_0x249555(0x187)]=_0x895c80[_0x249555(0x203)],this[_0x249555(0x1f0)][_0x249555(0x1ff)][_0x895c80[_0x249555(0x245)]]=_0x1e3f4d[_0x249555(0x1dd)][_0x249555(0x1d7)](','),this[_0x249555(0x1f0)][_0x249555(0x1ff)][_0x249555(0x256)]=_0x895c80[_0x249555(0x221)]),this['config'][_0x249555(0x1c9)]=_0x1e3f4d['url'],this[_0x249555(0x1df)]&&_0x895c80[_0x249555(0x1e4)](this[_0x249555(0x1df)]['toLowerCase'](),_0x895c80['TpkAr'])&&(this[_0x249555(0x1f0)][_0x249555(0x1c9)]=_0x895c80['hAIGE'](_0x1e3f4d[_0x249555(0x22a)],_0x895c80[_0x249555(0x274)])),constants[_0x249555(0x267)]=helper['getHubUrl'](this[_0x249555(0x1f0)]),logger['debug'](_0x249555(0x271)+constants[_0x249555(0x267)]);}helper['setProxySettings'](this['config']),this[_0x249555(0x233)](),_0x895c80[_0x249555(0x263)](setPercyFlag,this),await this[_0x249555(0x1ce)](),![_0x895c80['RUQSE']][_0x249555(0x180)](this[_0x249555(0x1df)])&&!_0x895c80[_0x249555(0x275)](isTurboScaleSession,this[_0x249555(0x1f0)])&&!helper['getCentralUser']()[_0x249555(0x23b)]&&await this['setUpHubUrl']();}async[a55_0x597594(0x23a)](){const _0x5e51fd=a55_0x597594,_0x227985={};_0x227985[_0x5e51fd(0x1de)]=function(_0x3f919f,_0x9dd513){return _0x3f919f===_0x9dd513;},_0x227985['yaeSU']=_0x5e51fd(0x1f1),_0x227985[_0x5e51fd(0x1db)]=_0x5e51fd(0x1bc),_0x227985[_0x5e51fd(0x220)]=_0x5e51fd(0x24b),_0x227985[_0x5e51fd(0x1a6)]=_0x5e51fd(0x19d),_0x227985[_0x5e51fd(0x1ef)]=_0x5e51fd(0x1a7);const _0x3fe3c9=_0x227985;if(helper[_0x5e51fd(0x1f8)](this[_0x5e51fd(0x1f0)][_0x5e51fd(0x178)])&&(!this['percy']||!this[_0x5e51fd(0x178)][_0x5e51fd(0x1a0)]()))try{this[_0x5e51fd(0x178)]=await percyHelper[_0x5e51fd(0x194)](this[_0x5e51fd(0x1f0)]);if(!this[_0x5e51fd(0x178)]){process[_0x5e51fd(0x222)][_0x5e51fd(0x247)]=_0x3fe3c9[_0x5e51fd(0x25e)];throw new Error(_0x3fe3c9[_0x5e51fd(0x1db)]);}logger['info'](_0x3fe3c9[_0x5e51fd(0x220)]),process[_0x5e51fd(0x222)]['BROWSERSTACK_PERCY']=_0x3fe3c9[_0x5e51fd(0x1a6)];let _0x2d9628=0x0;const _0x1ff298=async()=>{const _0x48ed15=_0x5e51fd;_0x2d9628++,_0x3fe3c9[_0x48ed15(0x1de)](_0x2d9628,0x1)&&await this[_0x48ed15(0x193)]();};process['on'](_0x3fe3c9['jrYUg'],_0x1ff298);}catch(_0x44c7ef){process[_0x5e51fd(0x222)][_0x5e51fd(0x247)]=_0x3fe3c9[_0x5e51fd(0x25e)],logger['debug'](_0x5e51fd(0x265)+_0x44c7ef);throw new Error(_0x44c7ef['toString']());}}async['stopPercy'](){const _0x1ee64f=a55_0x597594,_0x1eb10d={};_0x1eb10d['qmFBf']=_0x1ee64f(0x215),_0x1eb10d[_0x1ee64f(0x1a3)]=_0x1ee64f(0x25d);const _0x3f9b68=_0x1eb10d;if(this['percy']&&this[_0x1ee64f(0x178)]['isRunning']())try{await percyHelper[_0x1ee64f(0x193)](this[_0x1ee64f(0x178)]),logger[_0x1ee64f(0x1a4)](_0x3f9b68[_0x1ee64f(0x208)]);}catch(_0x55ac05){logger[_0x1ee64f(0x20c)](_0x3f9b68[_0x1ee64f(0x1a3)],_0x55ac05['message']);}}async['setupBrowserstackLocal'](){const _0x340be0=a55_0x597594,_0x4c0092={};_0x4c0092[_0x340be0(0x189)]=_0x340be0(0x1a8),_0x4c0092[_0x340be0(0x205)]=_0x340be0(0x1fd);const _0x216b84=_0x4c0092;if(helper['isBrowserstackInfra']()&&helper['isTrue'](this[_0x340be0(0x1f0)]['browserstackLocal'])&&(!this['browserstackLocal']||!this[_0x340be0(0x185)][_0x340be0(0x1a0)]()))try{if(this[_0x340be0(0x1f0)][_0x340be0(0x1ff)]['skipBinaryInitialisation']){logger[_0x340be0(0x1c8)](_0x216b84[_0x340be0(0x189)]);return;}this[_0x340be0(0x185)]=await helper[_0x340be0(0x1b3)](this[_0x340be0(0x1f0)]),logger[_0x340be0(0x1a4)](_0x216b84[_0x340be0(0x205)]);}catch(_0x5219be){logger[_0x340be0(0x1c8)](_0x5219be);throw new Error(_0x5219be['toString']());}}async['stopBrowserstackLocal'](){const _0x2be5fd=a55_0x597594,_0x1b9137={};_0x1b9137['TPfZR']='Local\x20binary\x20stopped',_0x1b9137[_0x2be5fd(0x1f7)]='Error\x20occured\x20while\x20stopping\x20local\x20binary';const _0x13f5e4=_0x1b9137;if(this[_0x2be5fd(0x185)]&&this[_0x2be5fd(0x185)][_0x2be5fd(0x1a0)]())try{await helper['stopLocalBinary'](this['browserstackLocal']),logger[_0x2be5fd(0x1a4)](_0x13f5e4[_0x2be5fd(0x235)]);}catch(_0x4a8b19){logger[_0x2be5fd(0x20c)](_0x13f5e4['yTZST'],_0x4a8b19['message']);}}async[a55_0x597594(0x237)](){return PerformanceTester['measureWrapper'](PerformanceAutEvents['HUB_MANAGEMENT'],async()=>{const _0x4d93bc=a55_0x178a;await hubAllocator[_0x4d93bc(0x1ae)](this[_0x4d93bc(0x1f0)]);})();}async[a55_0x597594(0x200)](){const _0x1e75f8=a55_0x597594,_0x4b299c={'mwixZ':function(_0x406fbd,_0x2d60ec){return _0x406fbd(_0x2d60ec);},'OkoWP':_0x1e75f8(0x17f),'WEyGB':function(_0x55796d,_0xf6b084,_0x4cdd8d,_0x2ce5d9,_0x2adbb3,_0x56dbbd,_0x3d0685){return _0x55796d(_0xf6b084,_0x4cdd8d,_0x2ce5d9,_0x2adbb3,_0x56dbbd,_0x3d0685);},'FzECb':_0x1e75f8(0x234),'xjPJc':_0x1e75f8(0x198),'BTwvl':function(_0x2389f7,_0x25cab4){return _0x2389f7(_0x25cab4);},'BeHWN':_0x1e75f8(0x1a9),'CFKag':_0x1e75f8(0x232),'OvoCl':function(_0x5d570b,_0x5c1afd){return _0x5d570b(_0x5c1afd);},'tAZdy':function(_0x32c86c,_0xff07f5){return _0x32c86c===_0xff07f5;},'kSUZf':_0x1e75f8(0x19d),'ThhOs':function(_0x113901,_0x3cd97c){return _0x113901===_0x3cd97c;},'JJizS':function(_0xc24659,_0x2f9c25){return _0xc24659===_0x2f9c25;},'NhTBP':function(_0x1a05d0,_0x434cd2){return _0x1a05d0===_0x434cd2;},'TEbVr':_0x1e75f8(0x231),'Kjgzb':_0x1e75f8(0x181),'leKDc':_0x1e75f8(0x204),'sJPEs':_0x1e75f8(0x190),'YxDLS':function(_0x57c252,_0x14b2a3){return _0x57c252>=_0x14b2a3;},'Cqsyk':function(_0x409e10,_0x39c271){return _0x409e10<_0x39c271;},'yxzZm':_0x1e75f8(0x214),'SkSAk':'aiHeal:tcgAuth','aWJsl':function(_0x4c3381){return _0x4c3381();}},_0x493a12=PerformanceTester['measureWrapper'](_0x4b299c['SkSAk'],async()=>{const _0x25d5c6=_0x1e75f8;try{const _0x120953=new Date(),_0x598d3b=helper['getProxyConfigForTcg'](this[_0x25d5c6(0x1f0)]),_0x38ef68=_0x4b299c['mwixZ'](require,path[_0x25d5c6(0x1d7)](__dirname,_0x4b299c[_0x25d5c6(0x25f)])),_0x3e4bcd=_0x4b299c[_0x25d5c6(0x22c)](timeoutPromise,constants[_0x25d5c6(0x22f)],_0x4b299c['FzECb'],_0x4b299c[_0x25d5c6(0x1ab)],_0x120953,this['config'],this[_0x25d5c6(0x1df)]),_0x6c2375={'tcgUrl':constants[_0x25d5c6(0x260)],'sdkVersion':_0x4b299c[_0x25d5c6(0x26d)](require,_0x4b299c['BeHWN'])[_0x25d5c6(0x23d)],'methodUsed':_0x4b299c[_0x25d5c6(0x249)],'proxyConfig':_0x598d3b,'os':os['platform']()};if(_0x598d3b&&_0x598d3b[_0x25d5c6(0x219)]){utilities['fireFunnelTestEvent'](constants[_0x25d5c6(0x1f3)],_0x6c2375,this[_0x25d5c6(0x1f0)],this[_0x25d5c6(0x1df)]);return;}const _0x5cfb3e={};_0x5cfb3e['proxy']=_0x598d3b;const _0x45be92=await Promise[_0x25d5c6(0x1fa)]([_0x38ef68['init'](this[_0x25d5c6(0x1f0)][_0x25d5c6(0x20b)],this[_0x25d5c6(0x1f0)][_0x25d5c6(0x24e)],constants[_0x25d5c6(0x260)],_0x4b299c['OvoCl'](require,_0x4b299c[_0x25d5c6(0x1af)])[_0x25d5c6(0x23d)],_0x5cfb3e)['then'](_0x1c20f2=>{const _0x5a0f91=_0x25d5c6;return _0x3e4bcd[_0x5a0f91(0x18a)](),_0x1c20f2;}),_0x3e4bcd]);_0x45be92[_0x25d5c6(0x210)]=_0x4b299c[_0x25d5c6(0x1b1)](_0x45be92[_0x25d5c6(0x210)],_0x4b299c[_0x25d5c6(0x175)])||_0x4b299c['ThhOs'](_0x45be92['isHealingEnabled'],!![]);const _0x22857b=_0x4b299c['JJizS'](this[_0x25d5c6(0x1f0)]['selfHeal'],!![])||_0x4b299c['NhTBP'](this['config'][_0x25d5c6(0x276)],_0x4b299c['kSUZf']);if(_0x4b299c[_0x25d5c6(0x218)](_0x45be92[_0x25d5c6(0x19e)],constants[_0x25d5c6(0x19a)])&&_0x22857b)logger[_0x25d5c6(0x1a4)](_0x4b299c['TEbVr']);else{if(!_0x45be92[_0x25d5c6(0x176)]&&_0x4b299c[_0x25d5c6(0x218)](_0x45be92[_0x25d5c6(0x1d2)],0x1f7)&&_0x22857b)logger[_0x25d5c6(0x1a4)](_0x4b299c[_0x25d5c6(0x1c5)]),utilities['fireFunnelTestEvent'](constants[_0x25d5c6(0x207)],_0x6c2375,this['config'],this['framework']);else{if(!_0x45be92['isAuthenticated']&&_0x22857b){logger[_0x25d5c6(0x1a4)](_0x4b299c[_0x25d5c6(0x179)]);const _0xb86b80={'tcgUrl':constants['TCG_URL'],'sdkVersion':_0x4b299c['mwixZ'](require,_0x4b299c[_0x25d5c6(0x1af)])[_0x25d5c6(0x23d)],'methodUsed':_0x4b299c['CFKag'],'proxyConfig':_0x598d3b,'os':os[_0x25d5c6(0x1e3)]()};utilities[_0x25d5c6(0x24d)](constants['TCG_AUTH_FAILURE'],_0xb86b80,this[_0x25d5c6(0x1f0)],this[_0x25d5c6(0x1df)]);}else{if(_0x45be92['isAuthenticated']&&!_0x45be92[_0x25d5c6(0x210)]&&_0x22857b)logger[_0x25d5c6(0x1a4)](_0x4b299c[_0x25d5c6(0x1ed)]);else{if(_0x4b299c[_0x25d5c6(0x1bd)](_0x45be92[_0x25d5c6(0x1d2)],0xc8)&&_0x4b299c[_0x25d5c6(0x1b4)](_0x45be92['status'],0x12c))utilities[_0x25d5c6(0x24d)](constants[_0x25d5c6(0x1e1)],_0x6c2375,this[_0x25d5c6(0x1f0)],this[_0x25d5c6(0x1df)]);else{if(_0x4b299c[_0x25d5c6(0x1bd)](_0x45be92[_0x25d5c6(0x1d2)],0x190))_0x6c2375[_0x25d5c6(0x1d2)]=_0x45be92[_0x25d5c6(0x1d2)],utilities['fireFunnelTestEvent'](constants[_0x25d5c6(0x1d0)],_0x6c2375,this[_0x25d5c6(0x1f0)],this['framework']);else!_0x45be92[_0x25d5c6(0x1d2)]&&utilities[_0x25d5c6(0x24d)](constants[_0x25d5c6(0x1fb)],_0x6c2375,this[_0x25d5c6(0x1f0)],this[_0x25d5c6(0x1df)]);}}}}}if(_0x45be92[_0x25d5c6(0x176)]&&_0x45be92[_0x25d5c6(0x210)]){const _0x520688={};_0x520688[_0x25d5c6(0x26b)]=_0x45be92;const _0x4d7498=_0x520688;_0x598d3b&&(_0x4d7498[_0x25d5c6(0x1bf)]=_0x598d3b),_0x4d7498[_0x25d5c6(0x1df)]=this[_0x25d5c6(0x1df)],_0x4d7498[_0x25d5c6(0x18f)]=this[_0x25d5c6(0x1f0)],helper[_0x25d5c6(0x1c4)](_0x4d7498),logger[_0x25d5c6(0x1c8)](_0x4b299c[_0x25d5c6(0x192)]);}}catch(_0x11077e){logger['debug'](_0x25d5c6(0x20d)+(_0x11077e['message']?_0x11077e['message']:''));}});await _0x4b299c['aWJsl'](_0x493a12);}[a55_0x597594(0x233)](){const _0x459ed0=a55_0x597594,_0x5c59ba={'bqYDh':function(_0x255401,_0x1d9f55){return _0x255401(_0x1d9f55);},'sfgmf':_0x459ed0(0x1f6)};_0x5c59ba[_0x459ed0(0x21f)](require,_0x5c59ba[_0x459ed0(0x20e)])();}[a55_0x597594(0x21d)](){const _0x43bf20=a55_0x597594,_0x535d4f={};_0x535d4f[_0x43bf20(0x1d6)]=_0x43bf20(0x25a),_0x535d4f['RZcxl']=_0x43bf20(0x262);const _0x4f6bab=_0x535d4f,_0x558331=_0x473a84=>{const _0x3a4aba=_0x43bf20;logger[_0x3a4aba(0x20c)](_0x473a84[_0x3a4aba(0x19e)]),logger[_0x3a4aba(0x1c8)](util[_0x3a4aba(0x1da)](_0x473a84)),this[_0x3a4aba(0x238)][_0x3a4aba(0x24c)](util['format']('%j',_0x473a84)),PerformanceTester[_0x3a4aba(0x23f)](_0x473a84);};process['on'](_0x4f6bab['MCahP'],_0x558331),process['on'](_0x4f6bab[_0x43bf20(0x19b)],_0x558331);}async[a55_0x597594(0x21e)](_0x305206){const _0x3a3abc=a55_0x597594,_0x525679={};_0x525679[_0x3a3abc(0x248)]='0|3|4|1|2',_0x525679[_0x3a3abc(0x1b8)]=function(_0x580ea2,_0x12444e){return _0x580ea2+_0x12444e;},_0x525679[_0x3a3abc(0x20f)]='handled',_0x525679[_0x3a3abc(0x224)]=_0x3a3abc(0x225);const _0xaf7553=_0x525679,_0x41d4df=_0xaf7553['bBfXH'][_0x3a3abc(0x1cc)]('|');let _0x1a989d=0x0;while(!![]){switch(_0x41d4df[_0x1a989d++]){case'0':if(this[_0xaf7553[_0x3a3abc(0x1b8)](_0xaf7553[_0x3a3abc(0x20f)],_0x305206)])return;continue;case'1':this[_0x3a3abc(0x223)]=_0x305206;continue;case'2':await TestHubHandler[_0x3a3abc(0x17b)](_0x305206);continue;case'3':this[_0xaf7553['mQfUc'](_0xaf7553[_0x3a3abc(0x20f)],_0x305206)]=!![];continue;case'4':logger[_0x3a3abc(0x1a4)](_0xaf7553[_0x3a3abc(0x1b8)](_0xaf7553[_0x3a3abc(0x224)],_0x305206));continue;}break;}}[a55_0x597594(0x209)](){const _0x2c5c84=a55_0x597594,_0x323c5d={};_0x323c5d[_0x2c5c84(0x1fe)]=function(_0x8abdeb,_0x1c4d3f){return _0x8abdeb===_0x1c4d3f;},_0x323c5d['ilYCw']=_0x2c5c84(0x1b7),_0x323c5d[_0x2c5c84(0x183)]=function(_0x5767a0,_0x50f2e1){return _0x5767a0>_0x50f2e1;},_0x323c5d[_0x2c5c84(0x1f9)]=_0x2c5c84(0x258);const _0x178ff4=_0x323c5d;let _0x45e599=0x0;return async()=>{const _0x45f427=_0x2c5c84;_0x45e599++;if(_0x178ff4[_0x45f427(0x1fe)](_0x45e599,0x1)){helper['checkStopLocalBinaryOnExit'](this[_0x45f427(0x1df)])&&await this[_0x45f427(0x1c7)]();try{logger[_0x45f427(0x1c8)](_0x178ff4[_0x45f427(0x18c)]),await TestHubHandler['stop'](_0x45e599);}catch(_0x478bc9){logger[_0x45f427(0x1c8)](_0x45f427(0x199)+util[_0x45f427(0x1da)](_0x478bc9));}PerformanceTester['end'](PerformanceEvents[_0x45f427(0x242)]);if(PerformanceTester[_0x45f427(0x1ca)]()){const {measures:_0x413ccd,errors:_0x452329}=await PerformanceTester[_0x45f427(0x23c)](),_0xe4b9bf={};if(_0x413ccd&&_0x178ff4[_0x45f427(0x183)](_0x413ccd['length'],0x0)||_0x452329&&_0x178ff4['oBsXC'](_0x452329[_0x45f427(0x25b)],0x0)){const _0x1d6c35={};_0x1d6c35[_0x45f427(0x21c)]=_0x413ccd,_0x1d6c35[_0x45f427(0x206)]=_0x452329,Object[_0x45f427(0x24a)](_0xe4b9bf,_0x1d6c35);}try{const _0x2e455a=await helper[_0x45f427(0x211)](_0xe4b9bf,this['config']);logger['debug'](_0x45f427(0x18e)+constants[_0x45f427(0x1e2)]+_0x45f427(0x195)+_0x2e455a['statusCode']);}catch(_0x302d41){logger[_0x45f427(0x1c8)](_0x45f427(0x1fc)+constants[_0x45f427(0x1e2)]+_0x45f427(0x1a1)+util[_0x45f427(0x1da)](_0x302d41));}try{fs[_0x45f427(0x25c)](_0x178ff4['PPrvF'],JSON[_0x45f427(0x252)](_0xe4b9bf));}catch(_0x17e0df){logger[_0x45f427(0x1c8)]('Error\x20in\x20writing\x20events\x20to\x20file\x20'+_0x17e0df);}}}};}}exports[a55_0x597594(0x1d3)]=BrowserStackSetup;