const a55_0x161be5=a55_0x508e;(function(_0x1385ed,_0x46fef6){const _0x2122ca=a55_0x508e,_0x62b89e=_0x1385ed();while(!![]){try{const _0x7a2e51=-parseInt(_0x2122ca(0x204))/0x1+parseInt(_0x2122ca(0x291))/0x2+-parseInt(_0x2122ca(0x2bf))/0x3+-parseInt(_0x2122ca(0x2c4))/0x4+-parseInt(_0x2122ca(0x2c8))/0x5+parseInt(_0x2122ca(0x2af))/0x6*(-parseInt(_0x2122ca(0x24c))/0x7)+-parseInt(_0x2122ca(0x202))/0x8*(-parseInt(_0x2122ca(0x243))/0x9);if(_0x7a2e51===_0x46fef6)break;else _0x62b89e['push'](_0x62b89e['shift']());}catch(_0x3ab7d7){_0x62b89e['push'](_0x62b89e['shift']());}}}(a55_0x5ad2,0x48ea8));const util=require(a55_0x161be5(0x250)),os=require('os'),path=require(a55_0x161be5(0x24d)),{v4:uuidv4}=require(a55_0x161be5(0x28f)),fs=require('fs'),constants=require(a55_0x161be5(0x240)),{isTurboScaleSession}=require(a55_0x161be5(0x1c5)),logger=require(a55_0x161be5(0x1f7))['winstonLogger'],helper=require('./helper'),utilities=require(a55_0x161be5(0x1e1)),percyHelper=require('./percy/utils'),hubAllocator=require(a55_0x161be5(0x1f5)),PerformanceTester=require(a55_0x161be5(0x29a)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require(a55_0x161be5(0x284)),{setPercyFlag}=require(a55_0x161be5(0x230)),TestHubHandler=require('./testhub/testhubHandler'),timeoutPromise=require(a55_0x161be5(0x1e0));function a55_0x508e(_0x6a11a4,_0x4678b3){const _0x5ad278=a55_0x5ad2();return a55_0x508e=function(_0x508e5f,_0x3c6efe){_0x508e5f=_0x508e5f-0x1c1;let _0x1057c7=_0x5ad278[_0x508e5f];return _0x1057c7;},a55_0x508e(_0x6a11a4,_0x4678b3);}class BrowserStackSetup{constructor(_0x7f41f3,_0x51e341){const _0x29009f=a55_0x161be5,_0x10c27d={'eynOW':'11|23|29|7|4|16|6|1|18|22|15|28|37|33|41|31|14|42|5|32|2|12|24|26|8|20|34|36|21|19|27|25|13|9|0|10|43|39|3|38|30|35|40|17','FbNld':'Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','zRnYG':_0x29009f(0x1d6),'uPrIo':'userName\x20or\x20accessKey\x20is\x20not\x20defined','EOTVz':function(_0x1ea6ce,_0x3574b9){return _0x1ea6ce<_0x3574b9;},'FEHFU':function(_0x5a5af0,_0x5e7ff9){return _0x5a5af0(_0x5e7ff9);},'QwHQM':_0x29009f(0x226),'woUTs':function(_0x5774a3,_0x2ebad6){return _0x5774a3===_0x2ebad6;},'VLkhL':'4.5.0','KxbNe':_0x29009f(0x2b0),'TKsZc':_0x29009f(0x24b),'rVqTd':function(_0x38630b,_0x561d4a){return _0x38630b===_0x561d4a;},'LHYop':'integrations','xUNQp':'SIGINT','ozjpY':function(_0x33f267){return _0x33f267();},'OAZrM':'SIGHUP','RHJvd':_0x29009f(0x2c9),'eGFLm':function(_0x1479fd,_0x4a637d){return _0x1479fd!==_0x4a637d;},'GdgCD':_0x29009f(0x283),'VgXGB':_0x29009f(0x1f9),'rrGmr':_0x29009f(0x28b),'LzXSy':_0x29009f(0x1ef),'cDXqT':_0x29009f(0x208)},_0x4deacb=_0x10c27d[_0x29009f(0x21f)][_0x29009f(0x25c)]('|');let _0x2bb251=0x0;while(!![]){switch(_0x4deacb[_0x2bb251++]){case'0':(helper[_0x29009f(0x237)](this[_0x29009f(0x251)][_0x29009f(0x271)])||helper['isUndefined'](this[_0x29009f(0x251)][_0x29009f(0x271)][_0x29009f(0x2bb)]))&&(helper[_0x29009f(0x237)](this[_0x29009f(0x251)][_0x29009f(0x297)])?logger[_0x29009f(0x278)](_0x10c27d[_0x29009f(0x289)]):logger['warn'](_0x10c27d[_0x29009f(0x248)]),this['config'][_0x29009f(0x271)]=[]);continue;case'1':this[_0x29009f(0x251)][_0x29009f(0x1eb)]=this[_0x29009f(0x251)]['testContextOptions']||{};continue;case'2':this[_0x29009f(0x251)][_0x29009f(0x1eb)][_0x29009f(0x28e)]=!helper[_0x29009f(0x2ab)]()||helper[_0x29009f(0x2b5)](this['config']['testContextOptions'][_0x29009f(0x28e)]);continue;case'3':this[_0x29009f(0x2a7)]=this[_0x29009f(0x2a7)]['bind'](this);continue;case'4':this[_0x29009f(0x1da)]=null;continue;case'5':if(this[_0x29009f(0x251)]['error'])throw new Error(this[_0x29009f(0x251)][_0x29009f(0x272)]);continue;case'6':this['config'][_0x29009f(0x271)]=this['config']['platforms']||[];continue;case'7':this[_0x29009f(0x26d)]=null;continue;case'8':if(helper[_0x29009f(0x237)](helper[_0x29009f(0x2ac)](this[_0x29009f(0x251)]))||helper[_0x29009f(0x237)](helper[_0x29009f(0x26f)](this['config'])))throw new Error(_0x10c27d['uPrIo']);continue;case'9':helper[_0x29009f(0x253)](_0x51e341)&&(_0x10c27d[_0x29009f(0x1d8)](_0x10c27d[_0x29009f(0x235)](parseInt,helper['getPackageVersion'](_0x10c27d[_0x29009f(0x281)])),0x3)&&(this[_0x29009f(0x251)][_0x29009f(0x205)]=![]),_0x10c27d[_0x29009f(0x1f1)](helper['compareVersions'](helper[_0x29009f(0x282)](_0x10c27d[_0x29009f(0x281)]),_0x10c27d[_0x29009f(0x231)]),0x1)&&(this[_0x29009f(0x251)][_0x29009f(0x205)]=!![]));continue;case'10':!this['config']['testContextOptions']&&(this[_0x29009f(0x251)]['testContextOptions']={});continue;case'11':this[_0x29009f(0x20b)]=[];continue;case'12':this['config'][_0x29009f(0x1eb)][_0x29009f(0x1e8)]=!helper[_0x29009f(0x2ab)]()||helper[_0x29009f(0x2b5)](this[_0x29009f(0x251)][_0x29009f(0x1eb)]['skipSessionName']);continue;case'13':if(!helper[_0x29009f(0x2ab)]()){try{process[_0x29009f(0x238)][_0x29009f(0x228)]=_0x51e341,utilities[_0x29009f(0x1d2)](_0x10c27d['KxbNe'],{},this[_0x29009f(0x251)],this[_0x29009f(0x2bd)]);}catch(_0x26c8f3){logger[_0x29009f(0x1d0)](_0x29009f(0x227)+_0x26c8f3);}return;}continue;case'14':logger['info'](_0x29009f(0x20d)+this[_0x29009f(0x26c)]);continue;case'15':global['framework']=_0x51e341;continue;case'16':this[_0x29009f(0x251)]=helper[_0x29009f(0x273)](helper[_0x29009f(0x219)](_0x7f41f3));continue;case'17':process['on'](_0x10c27d[_0x29009f(0x2c5)],this[_0x29009f(0x28c)]());continue;case'18':this[_0x29009f(0x25d)]={};continue;case'19':if(_0x10c27d[_0x29009f(0x242)](_0x51e341,_0x10c27d['LHYop']))return;continue;case'20':helper[_0x29009f(0x22a)](this[_0x29009f(0x251)])&&helper['isUndefined'](helper[_0x29009f(0x1d9)](this[_0x29009f(0x251)]))&&(!helper['isUndefined'](this[_0x29009f(0x251)][_0x29009f(0x1d7)])&&_0x10c27d[_0x29009f(0x1f1)](this[_0x29009f(0x251)][_0x29009f(0x1d7)][_0x29009f(0x299)],Object)?!helper[_0x29009f(0x2b5)](this[_0x29009f(0x251)]['browserStackLocalOptions'][_0x29009f(0x25b)])&&(this[_0x29009f(0x251)]['browserStackLocalOptions']['localIdentifier']=helper[_0x29009f(0x2c0)]()):this[_0x29009f(0x251)][_0x29009f(0x1d7)]={'localIdentifier':helper[_0x29009f(0x2c0)]()});continue;case'21':helper[_0x29009f(0x262)](this[_0x29009f(0x251)]);continue;case'22':global[_0x29009f(0x251)]=this['config'];continue;case'23':this[_0x29009f(0x2b3)]=helper[_0x29009f(0x1ea)](_0x7f41f3);continue;case'24':helper[_0x29009f(0x1e2)](this[_0x29009f(0x251)],this['cliConfig'],this[_0x29009f(0x2ae)]);continue;case'25':process[_0x29009f(0x238)]['BROWSERSTACK_TURBOSCALE']&&(this[_0x29009f(0x251)][_0x29009f(0x215)]=helper[_0x29009f(0x2b5)](process[_0x29009f(0x238)][_0x29009f(0x256)]),this[_0x29009f(0x251)][_0x29009f(0x1ca)]=this['config']['turboScaleOptions']||{});continue;case'26':!this[_0x29009f(0x251)][_0x29009f(0x1d7)]&&(this[_0x29009f(0x251)][_0x29009f(0x1d7)]=this[_0x29009f(0x251)][_0x29009f(0x1cf)]||{});continue;case'27':this[_0x29009f(0x209)]();continue;case'28':helper[_0x29009f(0x249)](this[_0x29009f(0x251)]);continue;case'29':this[_0x29009f(0x2ae)]=helper[_0x29009f(0x2a5)]();continue;case'30':process['on'](_0x10c27d[_0x29009f(0x1f3)],this[_0x29009f(0x2a7)]);continue;case'31':global['sdkRunID']=this[_0x29009f(0x26c)];continue;case'32':helper[_0x29009f(0x23f)](this['config'],this[_0x29009f(0x2b3)]);continue;case'33':this['sdkRunID']=_0x10c27d[_0x29009f(0x20c)](uuidv4);continue;case'34':this[_0x29009f(0x251)]['browserStackLocalOptions'][_0x29009f(0x25b)]=helper[_0x29009f(0x2b5)](this[_0x29009f(0x251)][_0x29009f(0x1d7)]['skipBinaryInitialisation']);continue;case'35':process['on'](_0x10c27d['OAZrM'],this['intExitHandler']);continue;case'36':helper[_0x29009f(0x20e)](this[_0x29009f(0x251)],this['cliConfig'],this['envConfig']);continue;case'37':this[_0x29009f(0x2bd)]=_0x51e341;continue;case'38':process['on'](_0x10c27d['RHJvd'],this[_0x29009f(0x2a7)]);continue;case'39':!this[_0x29009f(0x251)][_0x29009f(0x2b9)]&&logger['info'](constants[_0x29009f(0x23e)]);continue;case'40':_0x10c27d[_0x29009f(0x21b)](process[_0x29009f(0x2c2)],_0x10c27d[_0x29009f(0x263)])?(process['on'](_0x10c27d[_0x29009f(0x298)],this[_0x29009f(0x2a7)]),process['on'](_0x10c27d[_0x29009f(0x27d)],this['intExitHandler'])):process['on'](_0x10c27d[_0x29009f(0x28d)],this[_0x29009f(0x2a7)]);continue;case'41':this[_0x29009f(0x1c6)]=null;continue;case'42':if(helper[_0x29009f(0x237)](this[_0x29009f(0x251)]))throw new Error(_0x10c27d[_0x29009f(0x2c1)]);continue;case'43':try{process[_0x29009f(0x238)][_0x29009f(0x228)]=_0x7f41f3['_'][0x0],utilities['fireFunnelTestEvent'](_0x10c27d[_0x29009f(0x2b2)],{},this[_0x29009f(0x251)],this[_0x29009f(0x2bd)]);}catch(_0x3efad1){logger[_0x29009f(0x1d0)]('Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20'+_0x3efad1);}continue;}break;}}async[a55_0x161be5(0x1cb)](){const _0x248cac=a55_0x161be5,_0x5c5b85={'KkjUW':function(_0x12fd4f,_0x761df9){return _0x12fd4f(_0x761df9);},'GKVhq':_0x248cac(0x274),'MyTgq':_0x248cac(0x247),'UBrUD':_0x248cac(0x266),'wzVVB':function(_0x51489d,_0x57a2b6){return _0x51489d===_0x57a2b6;},'HPhPN':_0x248cac(0x1d3),'BJGOZ':function(_0x12363b,_0x20e0f4){return _0x12363b+_0x20e0f4;},'mNlub':_0x248cac(0x254),'PZRPL':function(_0x535149,_0x248e1e){return _0x535149(_0x248e1e);},'gMOew':_0x248cac(0x1fe),'OBdOY':function(_0xad0288,_0x20c61b){return _0xad0288(_0x20c61b);}};if(_0x5c5b85[_0x248cac(0x2be)](isTurboScaleSession,this[_0x248cac(0x251)])){const _0x36c9ea=await helper[_0x248cac(0x214)](this['config']);this[_0x248cac(0x251)][_0x248cac(0x203)]=_0x36c9ea,_0x36c9ea[_0x248cac(0x246)]&&(this[_0x248cac(0x251)][_0x248cac(0x26d)]=!![],this[_0x248cac(0x251)]['browserStackLocalOptions'][_0x248cac(0x1fc)]=_0x5c5b85[_0x248cac(0x1c2)],this[_0x248cac(0x251)][_0x248cac(0x1d7)][_0x5c5b85[_0x248cac(0x25e)]]=_0x36c9ea[_0x248cac(0x27b)]['join'](','),this[_0x248cac(0x251)][_0x248cac(0x1d7)][_0x248cac(0x1fa)]=_0x5c5b85[_0x248cac(0x245)]),this[_0x248cac(0x251)][_0x248cac(0x1df)]=_0x36c9ea[_0x248cac(0x288)],this[_0x248cac(0x2bd)]&&_0x5c5b85['wzVVB'](this[_0x248cac(0x2bd)][_0x248cac(0x1e5)](),_0x5c5b85[_0x248cac(0x225)])&&(this[_0x248cac(0x251)][_0x248cac(0x1df)]=_0x5c5b85[_0x248cac(0x2b6)](_0x36c9ea['playwrightUrl'],_0x5c5b85[_0x248cac(0x259)])),constants[_0x248cac(0x29d)]=helper[_0x248cac(0x26a)](this[_0x248cac(0x251)]),logger[_0x248cac(0x1d0)](_0x248cac(0x1ee)+constants['hubUrl']);}helper[_0x248cac(0x229)](this[_0x248cac(0x251)]),this[_0x248cac(0x21a)](),_0x5c5b85[_0x248cac(0x232)](setPercyFlag,this),await this[_0x248cac(0x216)](),![_0x5c5b85[_0x248cac(0x277)]][_0x248cac(0x1d5)](this['framework'])&&!_0x5c5b85[_0x248cac(0x218)](isTurboScaleSession,this['config'])&&!helper['getCentralUser']()['central_scanner']&&await this[_0x248cac(0x220)]();}async['setupPercy'](){const _0x463fd9=a55_0x161be5,_0x1e9dbf={};_0x1e9dbf[_0x463fd9(0x285)]=function(_0x176a57,_0x2f2ed3){return _0x176a57===_0x2f2ed3;},_0x1e9dbf[_0x463fd9(0x213)]=_0x463fd9(0x27e),_0x1e9dbf['UCavp']=_0x463fd9(0x1c9),_0x1e9dbf[_0x463fd9(0x29f)]=_0x463fd9(0x2a3),_0x1e9dbf['nduwU']=_0x463fd9(0x266),_0x1e9dbf[_0x463fd9(0x21d)]='beforeExit';const _0x27cb4b=_0x1e9dbf;if(helper[_0x463fd9(0x2b5)](this[_0x463fd9(0x251)][_0x463fd9(0x1da)])&&(!this[_0x463fd9(0x1da)]||!this[_0x463fd9(0x1da)][_0x463fd9(0x1f2)]()))try{this[_0x463fd9(0x1da)]=await percyHelper[_0x463fd9(0x2b4)](this[_0x463fd9(0x251)]);if(!this[_0x463fd9(0x1da)]){process[_0x463fd9(0x238)]['BROWSERSTACK_PERCY']=_0x27cb4b['ANuSb'];throw new Error(_0x27cb4b[_0x463fd9(0x1f0)]);}logger[_0x463fd9(0x278)](_0x27cb4b[_0x463fd9(0x29f)]),process['env'][_0x463fd9(0x2a8)]=_0x27cb4b[_0x463fd9(0x23b)];let _0x4c6d43=0x0;const _0x23145f=async()=>{const _0x1e6ce6=_0x463fd9;_0x4c6d43++,_0x27cb4b['TXUSg'](_0x4c6d43,0x1)&&await this[_0x1e6ce6(0x200)]();};process['on'](_0x27cb4b[_0x463fd9(0x21d)],_0x23145f);}catch(_0x3477f3){process[_0x463fd9(0x238)][_0x463fd9(0x2a8)]=_0x27cb4b[_0x463fd9(0x213)],logger['debug']('Error\x20in\x20percy\x20setup\x20'+_0x3477f3);throw new Error(_0x3477f3['toString']());}}async[a55_0x161be5(0x200)](){const _0x4ac91c=a55_0x161be5,_0x5d7656={};_0x5d7656[_0x4ac91c(0x2c3)]='Percy\x20stopped',_0x5d7656['bafcb']=_0x4ac91c(0x2a2);const _0x2aa51d=_0x5d7656;if(this['percy']&&this[_0x4ac91c(0x1da)][_0x4ac91c(0x1f2)]())try{await percyHelper['stopPercy'](this[_0x4ac91c(0x1da)]),logger[_0x4ac91c(0x278)](_0x2aa51d[_0x4ac91c(0x2c3)]);}catch(_0x3693e5){logger[_0x4ac91c(0x272)](_0x2aa51d['bafcb'],_0x3693e5[_0x4ac91c(0x1e9)]);}}async[a55_0x161be5(0x216)](){const _0x34f13c=a55_0x161be5,_0x40480c={};_0x40480c[_0x34f13c(0x293)]=_0x34f13c(0x24a),_0x40480c[_0x34f13c(0x210)]=_0x34f13c(0x1e6);const _0x43a7a1=_0x40480c;if(helper['isBrowserstackInfra']()&&helper[_0x34f13c(0x2b5)](this[_0x34f13c(0x251)][_0x34f13c(0x26d)])&&(!this[_0x34f13c(0x26d)]||!this[_0x34f13c(0x26d)][_0x34f13c(0x1f2)]()))try{if(this[_0x34f13c(0x251)][_0x34f13c(0x1d7)]['skipBinaryInitialisation']){logger['debug'](_0x43a7a1[_0x34f13c(0x293)]);return;}this[_0x34f13c(0x26d)]=await helper[_0x34f13c(0x268)](this[_0x34f13c(0x251)]),logger[_0x34f13c(0x278)](_0x43a7a1[_0x34f13c(0x210)]);}catch(_0x46881a){logger['debug'](_0x46881a);throw new Error(_0x46881a[_0x34f13c(0x295)]());}}async[a55_0x161be5(0x1e3)](){const _0x38da38=a55_0x161be5,_0x2189b5={};_0x2189b5[_0x38da38(0x270)]=_0x38da38(0x221),_0x2189b5[_0x38da38(0x22b)]=_0x38da38(0x2c6);const _0x1cae53=_0x2189b5;if(this[_0x38da38(0x26d)]&&this['browserstackLocal'][_0x38da38(0x1f2)]())try{await helper['stopLocalBinary'](this[_0x38da38(0x26d)]),logger[_0x38da38(0x278)](_0x1cae53[_0x38da38(0x270)]);}catch(_0x4025bf){logger['error'](_0x1cae53[_0x38da38(0x22b)],_0x4025bf[_0x38da38(0x1e9)]);}}async[a55_0x161be5(0x220)](){const _0x4b5871=a55_0x161be5;return PerformanceTester[_0x4b5871(0x206)](PerformanceAutEvents[_0x4b5871(0x25f)],async()=>{const _0x118dae=_0x4b5871;await hubAllocator[_0x118dae(0x1cd)](this[_0x118dae(0x251)]);})();}async[a55_0x161be5(0x257)](){const _0x42de34=a55_0x161be5,_0x4ee39f={'xbLlS':function(_0xd51342,_0x507fa2){return _0xd51342(_0x507fa2);},'hdwGH':_0x42de34(0x1f4),'GIhZx':function(_0x58af39,_0x443d78,_0xcade1d,_0x23ffeb,_0x158b8d,_0x31f39b,_0x2c7f60){return _0x58af39(_0x443d78,_0xcade1d,_0x23ffeb,_0x158b8d,_0x31f39b,_0x2c7f60);},'fkBUB':_0x42de34(0x24e),'FpkKt':_0x42de34(0x267),'CSdMC':function(_0xbfc7e3,_0x573cdf){return _0xbfc7e3(_0x573cdf);},'qeSas':_0x42de34(0x258),'SshCI':_0x42de34(0x1c7),'PWpJM':function(_0x340e33,_0x41233b){return _0x340e33===_0x41233b;},'AhNzl':_0x42de34(0x266),'FePvM':function(_0x45baee,_0x4e20cb){return _0x45baee===_0x4e20cb;},'QifAx':_0x42de34(0x2bc),'CiYQN':function(_0x558dbc,_0x4b2100){return _0x558dbc===_0x4b2100;},'EaxFe':_0x42de34(0x255),'czqIE':_0x42de34(0x2ba),'WPZXg':_0x42de34(0x26b),'TXokQ':function(_0x683794,_0x102774){return _0x683794>=_0x102774;},'lPLDu':function(_0x36342d,_0x401a4d){return _0x36342d<_0x401a4d;},'HPDJs':_0x42de34(0x211),'QraCD':_0x42de34(0x1c3),'gcedJ':function(_0x329033){return _0x329033();}},_0x14d233=PerformanceTester[_0x42de34(0x206)](_0x4ee39f[_0x42de34(0x1e7)],async()=>{const _0x248926=_0x42de34;try{const _0x32d768=new Date(),_0x83ad8d=helper[_0x248926(0x2b8)](this[_0x248926(0x251)]),_0x103e55=_0x4ee39f[_0x248926(0x29b)](require,path[_0x248926(0x275)](__dirname,_0x4ee39f[_0x248926(0x24f)])),_0x117d71=_0x4ee39f[_0x248926(0x23d)](timeoutPromise,constants[_0x248926(0x1d4)],_0x4ee39f[_0x248926(0x222)],_0x4ee39f[_0x248926(0x1cc)],_0x32d768,this['config'],this[_0x248926(0x2bd)]),_0x3d855f={'tcgUrl':constants[_0x248926(0x1c1)],'sdkVersion':_0x4ee39f['CSdMC'](require,_0x4ee39f[_0x248926(0x1de)])[_0x248926(0x1ec)],'methodUsed':_0x4ee39f[_0x248926(0x21c)],'proxyConfig':_0x83ad8d,'os':os[_0x248926(0x2c2)]()};if(_0x83ad8d&&_0x83ad8d[_0x248926(0x233)]){utilities[_0x248926(0x1d2)](constants['AI_PROXY_FAILURE'],_0x3d855f,this[_0x248926(0x251)],this[_0x248926(0x2bd)]);return;}const _0x2f7a8c={};_0x2f7a8c[_0x248926(0x234)]=_0x83ad8d;const _0x31fe7c=await Promise[_0x248926(0x2a0)]([_0x103e55['init'](this[_0x248926(0x251)][_0x248926(0x1dc)],this['config'][_0x248926(0x1fb)],constants['TCG_URL'],_0x4ee39f[_0x248926(0x265)](require,_0x4ee39f['qeSas'])[_0x248926(0x1ec)],_0x2f7a8c)['then'](_0x55488d=>{const _0x368c8d=_0x248926;return _0x117d71[_0x368c8d(0x279)](),_0x55488d;}),_0x117d71]);_0x31fe7c['isHealingEnabled']=_0x4ee39f['PWpJM'](_0x31fe7c['isHealingEnabled'],_0x4ee39f[_0x248926(0x269)])||_0x4ee39f[_0x248926(0x241)](_0x31fe7c[_0x248926(0x20f)],!![]);const _0x14e22c=_0x4ee39f[_0x248926(0x241)](this[_0x248926(0x251)][_0x248926(0x20a)],!![])||_0x4ee39f[_0x248926(0x241)](this[_0x248926(0x251)]['selfHeal'],_0x4ee39f[_0x248926(0x269)]);if(_0x4ee39f[_0x248926(0x1f6)](_0x31fe7c[_0x248926(0x1e9)],constants['UPGRADE_REQUIRED'])&&_0x14e22c)logger[_0x248926(0x278)](_0x4ee39f['QifAx']);else{if(!_0x31fe7c['isAuthenticated']&&_0x4ee39f['CiYQN'](_0x31fe7c['status'],0x1f7)&&_0x14e22c)logger['info'](_0x4ee39f[_0x248926(0x29c)]),utilities[_0x248926(0x1d2)](constants[_0x248926(0x22c)],_0x3d855f,this[_0x248926(0x251)],this[_0x248926(0x2bd)]);else{if(!_0x31fe7c[_0x248926(0x252)]&&_0x14e22c){logger[_0x248926(0x278)](_0x4ee39f[_0x248926(0x1e4)]);const _0x1235dc={'tcgUrl':constants[_0x248926(0x1c1)],'sdkVersion':_0x4ee39f['xbLlS'](require,_0x4ee39f[_0x248926(0x1de)])[_0x248926(0x1ec)],'methodUsed':_0x4ee39f['SshCI'],'proxyConfig':_0x83ad8d,'os':os[_0x248926(0x2c2)]()};utilities[_0x248926(0x1d2)](constants[_0x248926(0x27c)],_0x1235dc,this[_0x248926(0x251)],this['framework']);}else{if(_0x31fe7c[_0x248926(0x252)]&&!_0x31fe7c[_0x248926(0x20f)]&&_0x14e22c)logger['info'](_0x4ee39f[_0x248926(0x207)]);else{if(_0x4ee39f['TXokQ'](_0x31fe7c[_0x248926(0x2a1)],0xc8)&&_0x4ee39f[_0x248926(0x29e)](_0x31fe7c[_0x248926(0x2a1)],0x12c))utilities[_0x248926(0x1d2)](constants[_0x248926(0x1f8)],_0x3d855f,this[_0x248926(0x251)],this['framework']);else{if(_0x4ee39f[_0x248926(0x276)](_0x31fe7c[_0x248926(0x2a1)],0x190))_0x3d855f[_0x248926(0x2a1)]=_0x31fe7c[_0x248926(0x2a1)],utilities[_0x248926(0x1d2)](constants[_0x248926(0x26e)],_0x3d855f,this[_0x248926(0x251)],this[_0x248926(0x2bd)]);else!_0x31fe7c['status']&&utilities[_0x248926(0x1d2)](constants[_0x248926(0x1fd)],_0x3d855f,this[_0x248926(0x251)],this['framework']);}}}}}if(_0x31fe7c[_0x248926(0x252)]&&_0x31fe7c[_0x248926(0x20f)]){const _0x530aca={};_0x530aca['tcgAuthConfig']=_0x31fe7c;const _0xd021a4=_0x530aca;_0x83ad8d&&(_0xd021a4[_0x248926(0x2a6)]=_0x83ad8d),_0xd021a4[_0x248926(0x2bd)]=this[_0x248926(0x2bd)],_0xd021a4['bstackConfig']=this[_0x248926(0x251)],helper['setupTcgConfigFile'](_0xd021a4),logger[_0x248926(0x1d0)](_0x4ee39f[_0x248926(0x1ed)]);}}catch(_0x41108){logger[_0x248926(0x1d0)](_0x248926(0x236)+(_0x41108[_0x248926(0x1e9)]?_0x41108[_0x248926(0x1e9)]:''));}});await _0x4ee39f[_0x42de34(0x290)](_0x14d233);}[a55_0x161be5(0x21a)](){const _0x3ba4b2=a55_0x161be5,_0x1d40e0={'taglR':function(_0x244516,_0x52ee0f){return _0x244516(_0x52ee0f);},'kJrsH':_0x3ba4b2(0x2a4)};_0x1d40e0['taglR'](require,_0x1d40e0[_0x3ba4b2(0x27a)])();}[a55_0x161be5(0x209)](){const _0xd8c3e1=a55_0x161be5,_0x2260c7={};_0x2260c7[_0xd8c3e1(0x1c4)]=_0xd8c3e1(0x22e),_0x2260c7[_0xd8c3e1(0x212)]=_0xd8c3e1(0x25a);const _0x134146=_0x2260c7,_0x14389d=_0x440d35=>{const _0x22e010=_0xd8c3e1;logger['error'](_0x440d35[_0x22e010(0x1e9)]),logger[_0x22e010(0x1d0)](util[_0x22e010(0x28a)](_0x440d35)),this[_0x22e010(0x20b)][_0x22e010(0x1dd)](util[_0x22e010(0x28a)]('%j',_0x440d35)),PerformanceTester[_0x22e010(0x294)](_0x440d35);};process['on'](_0x134146[_0xd8c3e1(0x1c4)],_0x14389d),process['on'](_0x134146[_0xd8c3e1(0x212)],_0x14389d);}async['intExitHandler'](_0x435c99){const _0x3ed9ba=a55_0x161be5,_0x28f26b={};_0x28f26b['mGLye']='2|1|4|0|3',_0x28f26b['NdEwZ']=function(_0x170e87,_0x5c0caa){return _0x170e87+_0x5c0caa;},_0x28f26b[_0x3ed9ba(0x2ad)]=_0x3ed9ba(0x261),_0x28f26b[_0x3ed9ba(0x286)]=function(_0x127697,_0x2cb98f){return _0x127697+_0x2cb98f;},_0x28f26b['XfyOm']='Shutdown\x20triggered\x20by\x20';const _0x2b967e=_0x28f26b,_0xcca814=_0x2b967e[_0x3ed9ba(0x2aa)][_0x3ed9ba(0x25c)]('|');let _0x4b4d15=0x0;while(!![]){switch(_0xcca814[_0x4b4d15++]){case'0':this[_0x3ed9ba(0x1c6)]=_0x435c99;continue;case'1':this[_0x2b967e[_0x3ed9ba(0x2c7)](_0x2b967e['DuQjo'],_0x435c99)]=!![];continue;case'2':if(this[_0x2b967e['jZpxa'](_0x2b967e[_0x3ed9ba(0x2ad)],_0x435c99)])return;continue;case'3':await TestHubHandler['stop'](_0x435c99);continue;case'4':logger[_0x3ed9ba(0x278)](_0x2b967e[_0x3ed9ba(0x286)](_0x2b967e[_0x3ed9ba(0x296)],_0x435c99));continue;}break;}}[a55_0x161be5(0x28c)](){const _0x438359=a55_0x161be5,_0x4238a9={};_0x4238a9[_0x438359(0x292)]=function(_0x76f049,_0x17011e){return _0x76f049===_0x17011e;},_0x4238a9[_0x438359(0x22d)]=_0x438359(0x1c8),_0x4238a9['GmTXC']=function(_0x5cf153,_0xfe8246){return _0x5cf153>_0xfe8246;},_0x4238a9[_0x438359(0x264)]=function(_0xd37575,_0x15242b){return _0xd37575>_0x15242b;},_0x4238a9[_0x438359(0x22f)]=_0x438359(0x217);const _0x5281cb=_0x4238a9;let _0x37ac23=0x0;return async()=>{const _0x25beaa=_0x438359;_0x37ac23++;if(_0x5281cb[_0x25beaa(0x292)](_0x37ac23,0x1)){helper[_0x25beaa(0x201)](this[_0x25beaa(0x2bd)])&&await this[_0x25beaa(0x1e3)]();try{logger[_0x25beaa(0x1d0)](_0x5281cb['giIHN']),await TestHubHandler[_0x25beaa(0x1ce)](_0x37ac23);}catch(_0x3057b9){logger[_0x25beaa(0x1d0)]('Error\x20in\x20sending\x20testhub\x20stop:\x20'+util[_0x25beaa(0x28a)](_0x3057b9));}PerformanceTester[_0x25beaa(0x1d1)](PerformanceEvents[_0x25beaa(0x2b1)]);if(PerformanceTester[_0x25beaa(0x2b7)]()){const {measures:_0x26a33f,errors:_0x25bc52}=await PerformanceTester[_0x25beaa(0x224)](),_0x2a7b87={};if(_0x26a33f&&_0x5281cb[_0x25beaa(0x27f)](_0x26a33f[_0x25beaa(0x2bb)],0x0)||_0x25bc52&&_0x5281cb[_0x25beaa(0x264)](_0x25bc52[_0x25beaa(0x2bb)],0x0)){const _0x5eaf85={};_0x5eaf85[_0x25beaa(0x223)]=_0x26a33f,_0x5eaf85[_0x25beaa(0x23c)]=_0x25bc52,Object[_0x25beaa(0x1db)](_0x2a7b87,_0x5eaf85);}try{const _0x47a17=await helper['sendToEDS'](_0x2a7b87,this[_0x25beaa(0x251)]);logger[_0x25beaa(0x1d0)](_0x25beaa(0x244)+constants[_0x25beaa(0x287)]+_0x25beaa(0x260)+_0x47a17[_0x25beaa(0x239)]);}catch(_0x2fe445){logger[_0x25beaa(0x1d0)](_0x25beaa(0x23a)+constants['EDS_URL']+_0x25beaa(0x280)+util[_0x25beaa(0x28a)](_0x2fe445));}try{fs['writeFileSync'](_0x5281cb['ElfXt'],JSON[_0x25beaa(0x21e)](_0x2a7b87));}catch(_0x346727){logger[_0x25beaa(0x1d0)](_0x25beaa(0x1ff)+_0x346727);}}}};}}exports[a55_0x161be5(0x2a9)]=BrowserStackSetup;function a55_0x5ad2(){const _0x486993=['Percy\x20started\x20successfully','./setKeepAlive','setEnvCaps','proxyConfig','intExitHandler','BROWSERSTACK_PERCY','default','mGLye','isBrowserstackInfra','getUserName','DuQjo','envConfig','1053192JBjQiS','SDKTestAttempted','SDK_CLEANUP','KxbNe','cliConfig','startPercy','isTrue','BJGOZ','isEnabled','getProxyConfigForTcg','disableAutoCaptureLogs','Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','length','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','framework','KkjUW','464442CEpOti','generateLocalIdentifier','cDXqT','platform','aLmGT','772680NyedXY','TKsZc','Error\x20occured\x20while\x20stopping\x20local\x20binary','NdEwZ','1772120lYhNov','SIGTERM','TCG_URL','GKVhq','aiHeal:tcgAuth','Jvixk','./ats/helper','killSignal','BrowserstackHealing.init','Calling\x20Build\x20Stop\x20from\x20ExitHandler','Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.','turboScaleOptions','initialize','FpkKt','allocateHub','stop','localOptions','debug','end','fireFunnelTestEvent','playwright','TCG_AUTH_TIMEOUT','includes','parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','browserStackLocalOptions','EOTVz','getLocalIdentifier','percy','assign','accessKey','push','qeSas','turboScaleUrl','./timeoutPromise','./utilities','getFinalCaps','stopBrowserstackLocal','czqIE','toLowerCase','Local\x20binary\x20started\x20successfully','QraCD','skipSessionName','message','setCLICaps','testContextOptions','version','HPDJs','HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20','SIGBREAK','UCavp','woUTs','isRunning','xUNQp','../ai-sdk-node/bundle','../hubAllocationMethods','FePvM','./logger','AI_INIT_SUCCESSFUL','SIGABRT','forceLocal','userName','localIdentifier','INVALID_INIT_RESP_WITH_USER_IMPACT','codeceptjs','Error\x20in\x20writing\x20events\x20to\x20file\x20','stopPercy','checkStopLocalBinaryOnExit','1384RhXbxU','turboScaleGridDetails','510534dMINrP','useW3C','measureWrapper','WPZXg','No\x20config\x20provided.','handleExceptions','selfHeal','unhandledErrors','ozjpY','SDK\x20run\x20started\x20with\x20id:\x20','setLogLevel','isHealingEnabled','oYqhU','tcg\x20config\x20setup\x20successful.','kbSml','ANuSb','getTurboScaleGridDetails','turboScale','setupBrowserstackLocal','log/events.json','OBdOY','getConfigPath','setupKeepAlive','eGFLm','SshCI','MZkBj','stringify','eynOW','setUpHubUrl','Local\x20binary\x20stopped','fkBUB','measures','finalize','HPhPN','selenium-webdriver','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','FRAMEWORK','setProxySettings','getLocalConfig','UgQGz','TCG_DOWN','giIHN','unhandledRejection','ElfXt','./testhub/utils','VLkhL','PZRPL','proxyUrl','proxy','FEHFU','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','isUndefined','env','statusCode','Failed\x20to\x20send\x20data\x20to\x20','nduwU','exceptions','GIhZx','AUTOLOGCAPTURE_NOTIFICATION','setBrowserstackInfraFromConfig','../bin/utils/constants','PWpJM','rVqTd','85545UBfOeh','Data\x20sent\x20successfully\x20to\x20','UBrUD','isTrialGrid','custom-repeater','zRnYG','sanitizeCaps','Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled','beforeExit','21ntdGfo','path','BrowserstackHealing.init\x20method\x20timed\x20out','hdwGH','util','config','isAuthenticated','requireSeleniumWebdriverCheck','?caps=','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','BROWSERSTACK_TURBOSCALE','setupTCGAuth','../../package.json','mNlub','uncaughtException','skipBinaryInitialisation','split','errorMessage','MyTgq','HUB_MANAGEMENT','\x20with\x20response\x20','handled','setHandlePWError','GdgCD','wSPLd','CSdMC','true','BrowserstackHealingInitFailed','startLocalBinary','AhNzl','getHubUrl','Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','sdkRunID','browserstackLocal','AI_INIT_FAILURE','getAccessKey','GtWon','platforms','error','readConfig','ats-repeater','join','TXokQ','gMOew','info','cancel','kJrsH','customRepeaters','TCG_AUTH_FAILURE','rrGmr','false','GmTXC','\x20with\x20error\x20','QwHQM','getPackageVersion','win32','./performance/constants','TXUSg','jZpxa','EDS_URL','url','FbNld','format','SIGQUIT','exitHandler','LzXSy','skipSessionStatus','uuid','gcedJ','787674PuMBab','YhmXM','pWOqH','captureError','toString','XfyOm','parallelsPerPlatform','VgXGB','constructor','./performance/performance-tester','xbLlS','EaxFe','hubUrl','lPLDu','rBaDj','race','status','Error\x20occured\x20while\x20stopping\x20percy'];a55_0x5ad2=function(){return _0x486993;};return a55_0x5ad2();}