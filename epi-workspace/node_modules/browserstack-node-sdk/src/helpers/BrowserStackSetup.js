const a55_0x1b743b=a55_0x16b5;(function(_0xc67022,_0x29891e){const _0x450246=a55_0x16b5,_0x161bcb=_0xc67022();while(!![]){try{const _0x55abcd=parseInt(_0x450246(0x153))/0x1+-parseInt(_0x450246(0x212))/0x2*(parseInt(_0x450246(0x184))/0x3)+-parseInt(_0x450246(0x13a))/0x4+-parseInt(_0x450246(0x216))/0x5+-parseInt(_0x450246(0x159))/0x6*(parseInt(_0x450246(0x214))/0x7)+parseInt(_0x450246(0x1e5))/0x8*(-parseInt(_0x450246(0x183))/0x9)+parseInt(_0x450246(0x1c5))/0xa*(parseInt(_0x450246(0x1a4))/0xb);if(_0x55abcd===_0x29891e)break;else _0x161bcb['push'](_0x161bcb['shift']());}catch(_0x18de5b){_0x161bcb['push'](_0x161bcb['shift']());}}}(a55_0x4972,0x53375));function a55_0x4972(){const _0x4bf7bf=['nRmsm','nvGfk','cGNEU','mzQTq','format','SIGINT','../hubAllocationMethods','warn','HUB_MANAGEMENT','./performance/performance-tester','finalize','stop','TCG_AUTH_FAILURE','Jzggm','setupTCGAuth','setupTcgConfigFile','./setKeepAlive','yYGZN','isBrowserstackInfra','PNSaJ','TDJtL','getAccessKey','proxyConfig','writeFileSync','IKVos','cRxAe','EARIz','selenium-webdriver','./utilities','bind','forceLocal','11GLuNJY','exitHandler','tcg\x20config\x20setup\x20successful.','userName\x20or\x20accessKey\x20is\x20not\x20defined','TCG_AUTH_TIMEOUT','getUserName','ibvEc','wLGqE','error','stopBrowserstackLocal','DYkyB','fireFunnelTestEvent','customRepeaters','path','requireSeleniumWebdriverCheck','envConfig','stopPercy','SIGHUP','pamoy','startLocalBinary','FjzuZ','readConfig','TCG_DOWN','localOptions','1|4|2|3|0','setEnvCaps','getFinalCaps','Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','tUXio','EDS_URL','./percy/utils','winstonLogger','hGgQL','19988170DSHeNn','VbIFr','win32','lqahy','getHubUrl','tVYwQ','MJpeo','skipBinaryInitialisation','codeceptjs','SIGTERM','cliConfig','tfrTg','nZqsT','measureWrapper','sanitizeCaps','killSignal','mDbNi','isTrialGrid','./helper','assign','turboScale','fFIZT','disableAutoCaptureLogs','Shutdown\x20triggered\x20by\x20','fmXOP','unhandledErrors','percy','aiHeal:tcgAuth','GTKBK','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','qCZwm','moxbf','88AmsRuk','DFuHM','parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','SIGABRT','generateLocalIdentifier','Error\x20occured\x20while\x20stopping\x20local\x20binary','end','debug','then','uuid','info','isRunning','proxy','BrowserstackHealing.init','isTrue','NbCWQ','yUoGW','ybfRI','Percy\x20stopped','platform','tcgAuthConfig','localIdentifier','playwright','userName','allocateHub','setupBrowserstackLocal','setUpHubUrl','UPGRADE_REQUIRED','join','EQrKN','Error\x20in\x20percy\x20setup\x20','false','zqaXF','ats-repeater','setCLICaps','Failed\x20to\x20send\x20data\x20to\x20','useW3C','isAuthenticated','constructor','FAeIS','parallelsPerPlatform','SBNGo','checkStopLocalBinaryOnExit','Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','FRAMEWORK','54TVbEsc','jURev','3067232okWgkE','BrowserstackHealingInitFailed','2385290tEYtZo','accessKey','setupPercy','4.5.0','YfIiI','race','AI_INIT_FAILURE','SvAhe','browserstackLocal','Error\x20in\x20sending\x20testhub\x20stop:\x20','skipSessionStatus','compareVersions','lnklr','./testhub/utils','xtSTa','skipSessionName','SDKTestAttempted','isUndefined','QjpvC','setLogLevel','OoOsj','SDK\x20run\x20started\x20with\x20id:\x20','getLocalIdentifier','turboScaleUrl','iLOvp','uncaughtException','getProxyConfigForTcg','proxyUrl','YBWTv','integrations','toString','1935252PWlvfZ','JGoSo','mCOoS','dxGJK','url','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','AUTOLOGCAPTURE_NOTIFICATION','INVALID_INIT_RESP_WITH_USER_IMPACT','JVLXH','cufbA','BROWSERSTACK_TURBOSCALE','Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled','BrowserstackHealing.init\x20method\x20timed\x20out','selfHeal','turboScaleOptions','xvjqP','hubUrl','true','turboScaleGridDetails','setHandlePWError','Error\x20occured\x20while\x20stopping\x20percy','handled','version','npxJZ','rNFyu','412169AlwPJX','length','stopLocalBinary','beforeExit','../ai-sdk-node/bundle','SIGQUIT','6SQyCQl','Local\x20binary\x20started\x20successfully','lpfFm','SDK_CLEANUP','OdjNy','LgLpl','testContextOptions','config','browserStackLocalOptions','Percy\x20started\x20successfully','framework','exceptions','Data\x20sent\x20successfully\x20to\x20','unhandledRejection','TCG_URL','tSQjQ','env','message','isHealingEnabled','Rpylm','intExitHandler','BROWSERSTACK_CENTRAL_USER','platforms','15|19|40|21|12|3|17|8|20|1|32|39|7|23|30|36|22|16|43|33|29|14|41|11|18|26|6|4|24|28|34|37|31|0|38|10|35|2|5|13|27|25|42|9','init','SIGBREAK','../../package.json','sRBLC','status','sendToEDS','setupKeepAlive','BROWSERSTACK_PERCY','./logger','rRRQc','measures','handleExceptions','split','cancel','AI_INIT_SUCCESSFUL','errorMessage','jQmYx','sdkRunID','37953xqZRZq','69411wivXPR'];a55_0x4972=function(){return _0x4bf7bf;};return a55_0x4972();}function a55_0x16b5(_0x1c66d2,_0x598101){const _0x497259=a55_0x4972();return a55_0x16b5=function(_0x16b596,_0x13050b){_0x16b596=_0x16b596-0x121;let _0x3f1245=_0x497259[_0x16b596];return _0x3f1245;},a55_0x16b5(_0x1c66d2,_0x598101);}const util=require('util'),os=require('os'),path=require(a55_0x1b743b(0x1b1)),{v4:uuidv4}=require(a55_0x1b743b(0x1ee)),fs=require('fs'),constants=require('../bin/utils/constants'),{isTurboScaleSession}=require('./ats/helper'),logger=require(a55_0x1b743b(0x179))[a55_0x1b743b(0x1c3)],helper=require(a55_0x1b743b(0x1d7)),utilities=require(a55_0x1b743b(0x1a1)),percyHelper=require(a55_0x1b743b(0x1c2)),hubAllocator=require(a55_0x1b743b(0x18b)),PerformanceTester=require(a55_0x1b743b(0x18e)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require('./performance/constants'),{setPercyFlag}=require(a55_0x1b743b(0x128)),TestHubHandler=require('./testhub/testhubHandler'),timeoutPromise=require('./timeoutPromise');class BrowserStackSetup{constructor(_0xc7583e,_0x27236d){const _0x270a70=a55_0x1b743b,_0x1112ac={'ZPXAi':_0x270a70(0x170),'OdjNy':function(_0x1a7bc2,_0x349225){return _0x1a7bc2<_0x349225;},'hGgQL':function(_0x15deb0,_0x5f8194){return _0x15deb0(_0x5f8194);},'mCOoS':_0x270a70(0x1a0),'npxJZ':function(_0xa67c93,_0x3fc01f){return _0xa67c93===_0x3fc01f;},'PNSaJ':_0x270a70(0x219),'iLOvp':_0x270a70(0x156),'exFmj':_0x270a70(0x1ce),'GTKBK':'No\x20config\x20provided.','TDJtL':_0x270a70(0x1a7),'tVYwQ':function(_0x393b5d){return _0x393b5d();},'DYkyB':_0x270a70(0x1b5),'wttnH':function(_0x36d447,_0x3eeabe){return _0x36d447===_0x3eeabe;},'sRBLC':_0x270a70(0x18a),'VbIFr':function(_0x4c9d67,_0x1227fd){return _0x4c9d67===_0x1227fd;},'xtSTa':_0x270a70(0x138),'lqahy':_0x270a70(0x12b),'nZqsT':_0x270a70(0x210),'YfIiI':_0x270a70(0x1e7),'rNFyu':function(_0x234ef2,_0x5775f6){return _0x234ef2!==_0x5775f6;},'xvjqP':_0x270a70(0x1c7),'FUWAq':_0x270a70(0x1e8),'VrBgF':_0x270a70(0x158),'ibvEc':_0x270a70(0x172)},_0x2dd7ba=_0x1112ac['ZPXAi'][_0x270a70(0x17d)]('|');let _0x3c229f=0x0;while(!![]){switch(_0x2dd7ba[_0x3c229f++]){case'0':helper[_0x270a70(0x1b2)](_0x27236d)&&(_0x1112ac[_0x270a70(0x15d)](_0x1112ac[_0x270a70(0x1c4)](parseInt,helper['getPackageVersion'](_0x1112ac[_0x270a70(0x13c)])),0x3)&&(this[_0x270a70(0x160)][_0x270a70(0x209)]=![]),_0x1112ac[_0x270a70(0x151)](helper[_0x270a70(0x126)](helper['getPackageVersion'](_0x1112ac[_0x270a70(0x13c)]),_0x1112ac[_0x270a70(0x198)]),0x1)&&(this['config'][_0x270a70(0x209)]=!![]));continue;case'1':global['config']=this[_0x270a70(0x160)];continue;case'2':!this['config'][_0x270a70(0x1db)]&&logger['info'](constants[_0x270a70(0x140)]);continue;case'3':this[_0x270a70(0x160)]=helper[_0x270a70(0x1b9)](helper['getConfigPath'](_0xc7583e));continue;case'4':helper[_0x270a70(0x12e)](this[_0x270a70(0x160)],this['cliConfig'],this['envConfig']);continue;case'5':this[_0x270a70(0x16d)]=this[_0x270a70(0x16d)][_0x270a70(0x1a2)](this);continue;case'6':this[_0x270a70(0x160)]['browserStackLocalOptions'][_0x270a70(0x1cc)]=helper['isTrue'](this['config'][_0x270a70(0x161)][_0x270a70(0x1cc)]);continue;case'7':this[_0x270a70(0x163)]=_0x27236d;continue;case'8':this[_0x270a70(0x160)]['testContextOptions']=this[_0x270a70(0x160)][_0x270a70(0x15f)]||{};continue;case'9':process['on'](_0x1112ac[_0x270a70(0x133)],this[_0x270a70(0x1a5)]());continue;case'10':!this['config'][_0x270a70(0x15f)]&&(this[_0x270a70(0x160)][_0x270a70(0x15f)]={});continue;case'11':!this['config']['browserStackLocalOptions']&&(this['config']['browserStackLocalOptions']=this[_0x270a70(0x160)][_0x270a70(0x1bb)]||{});continue;case'12':this['percy']=null;continue;case'13':process['on'](_0x1112ac['exFmj'],this[_0x270a70(0x16d)]);continue;case'14':this[_0x270a70(0x160)][_0x270a70(0x15f)]['skipSessionName']=!helper['isBrowserstackInfra']()||helper[_0x270a70(0x1f3)](this[_0x270a70(0x160)][_0x270a70(0x15f)][_0x270a70(0x12a)]);continue;case'15':this['unhandledErrors']=[];continue;case'16':if(helper[_0x270a70(0x12c)](this['config']))throw new Error(_0x1112ac[_0x270a70(0x1e1)]);continue;case'17':this[_0x270a70(0x160)][_0x270a70(0x16f)]=this['config'][_0x270a70(0x16f)]||[];continue;case'18':if(helper[_0x270a70(0x12c)](helper[_0x270a70(0x1a9)](this[_0x270a70(0x160)]))||helper[_0x270a70(0x12c)](helper[_0x270a70(0x19a)](this[_0x270a70(0x160)])))throw new Error(_0x1112ac[_0x270a70(0x199)]);continue;case'19':this[_0x270a70(0x1cf)]=helper[_0x270a70(0x207)](_0xc7583e);continue;case'20':this[_0x270a70(0x180)]={};continue;case'21':this['browserstackLocal']=null;continue;case'22':logger[_0x270a70(0x1ef)](_0x270a70(0x130)+this[_0x270a70(0x182)]);continue;case'23':this[_0x270a70(0x182)]=_0x1112ac[_0x270a70(0x1ca)](uuidv4);continue;case'24':helper[_0x270a70(0x14d)](this[_0x270a70(0x160)]);continue;case'25':process['on'](_0x1112ac[_0x270a70(0x1ae)],this[_0x270a70(0x16d)]);continue;case'26':helper['getLocalConfig'](this['config'])&&helper[_0x270a70(0x12c)](helper[_0x270a70(0x131)](this[_0x270a70(0x160)]))&&(!helper[_0x270a70(0x12c)](this[_0x270a70(0x160)]['browserStackLocalOptions'])&&_0x1112ac['wttnH'](this[_0x270a70(0x160)][_0x270a70(0x161)][_0x270a70(0x20b)],Object)?!helper[_0x270a70(0x1f3)](this[_0x270a70(0x160)]['browserStackLocalOptions'][_0x270a70(0x1cc)])&&(this[_0x270a70(0x160)][_0x270a70(0x161)][_0x270a70(0x1fa)]=helper['generateLocalIdentifier']()):this[_0x270a70(0x160)]['browserStackLocalOptions']={'localIdentifier':helper[_0x270a70(0x1e9)]()});continue;case'27':process['on'](_0x1112ac[_0x270a70(0x174)],this[_0x270a70(0x16d)]);continue;case'28':if(_0x1112ac[_0x270a70(0x1c6)](_0x27236d,_0x1112ac[_0x270a70(0x129)]))return;continue;case'29':this['config'][_0x270a70(0x15f)][_0x270a70(0x125)]=!helper[_0x270a70(0x197)]()||helper['isTrue'](this[_0x270a70(0x160)]['testContextOptions'][_0x270a70(0x125)]);continue;case'30':this[_0x270a70(0x1d4)]=null;continue;case'31':if(!helper[_0x270a70(0x197)]()){try{process[_0x270a70(0x169)][_0x270a70(0x211)]=_0x27236d,utilities[_0x270a70(0x1af)](_0x1112ac[_0x270a70(0x1c8)],{},this[_0x270a70(0x160)],this['framework']);}catch(_0x301aa9){logger[_0x270a70(0x1ec)](_0x270a70(0x13f)+_0x301aa9);}return;}continue;case'32':global[_0x270a70(0x163)]=_0x27236d;continue;case'33':helper['setBrowserstackInfraFromConfig'](this[_0x270a70(0x160)],this['cliConfig']);continue;case'34':this['handleExceptions']();continue;case'35':try{process[_0x270a70(0x169)][_0x270a70(0x211)]=_0xc7583e['_'][0x0],utilities[_0x270a70(0x1af)](_0x1112ac['lqahy'],{},this[_0x270a70(0x160)],this['framework']);}catch(_0x4bc7c4){logger[_0x270a70(0x1ec)]('Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20'+_0x4bc7c4);}continue;case'36':global[_0x270a70(0x182)]=this[_0x270a70(0x182)];continue;case'37':process[_0x270a70(0x169)][_0x270a70(0x144)]&&(this[_0x270a70(0x160)][_0x270a70(0x1d9)]=helper[_0x270a70(0x1f3)](process[_0x270a70(0x169)][_0x270a70(0x144)]),this[_0x270a70(0x160)][_0x270a70(0x148)]=this[_0x270a70(0x160)]['turboScaleOptions']||{});continue;case'38':(helper[_0x270a70(0x12c)](this[_0x270a70(0x160)][_0x270a70(0x16f)])||helper[_0x270a70(0x12c)](this[_0x270a70(0x160)]['platforms'][_0x270a70(0x154)]))&&(helper[_0x270a70(0x12c)](this[_0x270a70(0x160)][_0x270a70(0x20d)])?logger[_0x270a70(0x1ef)](_0x1112ac[_0x270a70(0x1d1)]):logger[_0x270a70(0x18c)](_0x1112ac[_0x270a70(0x21a)]),this[_0x270a70(0x160)]['platforms']=[]);continue;case'39':helper[_0x270a70(0x1d3)](this[_0x270a70(0x160)]);continue;case'40':this[_0x270a70(0x1b3)]=helper[_0x270a70(0x1bd)]();continue;case'41':helper[_0x270a70(0x1be)](this['config'],this[_0x270a70(0x1cf)],this['envConfig']);continue;case'42':_0x1112ac[_0x270a70(0x152)](process[_0x270a70(0x1f8)],_0x1112ac[_0x270a70(0x149)])?(process['on'](_0x1112ac['FUWAq'],this['intExitHandler']),process['on'](_0x1112ac['VrBgF'],this['intExitHandler'])):process['on'](_0x1112ac[_0x270a70(0x1aa)],this[_0x270a70(0x16d)]);continue;case'43':if(this['config'][_0x270a70(0x1ac)])throw new Error(this[_0x270a70(0x160)][_0x270a70(0x1ac)]);continue;}break;}}async['initialize'](){const _0x2a505e=a55_0x1b743b,_0x3947ac={'YBWTv':function(_0x3443f9,_0x151407){return _0x3443f9(_0x151407);},'MVmYz':_0x2a505e(0x206),'rRRQc':'custom-repeater','pFIBq':_0x2a505e(0x14b),'LgLpl':function(_0x4bf1c6,_0x5332f2){return _0x4bf1c6===_0x5332f2;},'pamoy':_0x2a505e(0x1fb),'FAeIS':function(_0x559d8e,_0x49205d){return _0x559d8e+_0x49205d;},'mzQTq':'?caps=','Jzggm':_0x2a505e(0x1cd)};if(_0x3947ac[_0x2a505e(0x137)](isTurboScaleSession,this[_0x2a505e(0x160)])){const _0x223cb9=await helper['getTurboScaleGridDetails'](this[_0x2a505e(0x160)]);this[_0x2a505e(0x160)][_0x2a505e(0x14c)]=_0x223cb9,_0x223cb9[_0x2a505e(0x1d6)]&&(this[_0x2a505e(0x160)][_0x2a505e(0x123)]=!![],this[_0x2a505e(0x160)][_0x2a505e(0x161)][_0x2a505e(0x1fa)]=_0x3947ac['MVmYz'],this['config'][_0x2a505e(0x161)][_0x3947ac[_0x2a505e(0x17a)]]=_0x223cb9[_0x2a505e(0x1b0)][_0x2a505e(0x201)](','),this[_0x2a505e(0x160)][_0x2a505e(0x161)][_0x2a505e(0x1a3)]=_0x3947ac['pFIBq']),this['config'][_0x2a505e(0x132)]=_0x223cb9[_0x2a505e(0x13e)],this[_0x2a505e(0x163)]&&_0x3947ac[_0x2a505e(0x15e)](this['framework']['toLowerCase'](),_0x3947ac[_0x2a505e(0x1b6)])&&(this[_0x2a505e(0x160)][_0x2a505e(0x132)]=_0x3947ac[_0x2a505e(0x20c)](_0x223cb9['playwrightUrl'],_0x3947ac[_0x2a505e(0x188)])),constants[_0x2a505e(0x14a)]=helper[_0x2a505e(0x1c9)](this[_0x2a505e(0x160)]),logger[_0x2a505e(0x1ec)]('HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20'+constants[_0x2a505e(0x14a)]);}helper['setProxySettings'](this['config']),this[_0x2a505e(0x177)](),_0x3947ac[_0x2a505e(0x137)](setPercyFlag,this),await this[_0x2a505e(0x1fe)](),![_0x3947ac[_0x2a505e(0x192)]]['includes'](this[_0x2a505e(0x163)])&&!_0x3947ac[_0x2a505e(0x137)](isTurboScaleSession,this[_0x2a505e(0x160)])&&!process[_0x2a505e(0x169)][_0x2a505e(0x16e)]&&await this[_0x2a505e(0x1ff)]();}async[a55_0x1b743b(0x218)](){const _0x4ec95b=a55_0x1b743b,_0x3a7956={};_0x3a7956[_0x4ec95b(0x187)]=function(_0x30fd90,_0x4e9729){return _0x30fd90===_0x4e9729;},_0x3a7956[_0x4ec95b(0x181)]=_0x4ec95b(0x204),_0x3a7956[_0x4ec95b(0x1f4)]='Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.',_0x3a7956[_0x4ec95b(0x168)]=_0x4ec95b(0x162),_0x3a7956[_0x4ec95b(0x19e)]=_0x4ec95b(0x14b),_0x3a7956['nRmsm']=_0x4ec95b(0x156);const _0x16eb28=_0x3a7956;if(helper[_0x4ec95b(0x1f3)](this[_0x4ec95b(0x160)][_0x4ec95b(0x1df)])&&(!this[_0x4ec95b(0x1df)]||!this[_0x4ec95b(0x1df)]['isRunning']()))try{this[_0x4ec95b(0x1df)]=await percyHelper['startPercy'](this[_0x4ec95b(0x160)]);if(!this[_0x4ec95b(0x1df)]){process[_0x4ec95b(0x169)][_0x4ec95b(0x178)]=_0x16eb28['jQmYx'];throw new Error(_0x16eb28['NbCWQ']);}logger[_0x4ec95b(0x1ef)](_0x16eb28[_0x4ec95b(0x168)]),process['env'][_0x4ec95b(0x178)]=_0x16eb28[_0x4ec95b(0x19e)];let _0x4bc64e=0x0;const _0x216aeb=async()=>{const _0x537729=_0x4ec95b;_0x4bc64e++,_0x16eb28[_0x537729(0x187)](_0x4bc64e,0x1)&&await this[_0x537729(0x1b4)]();};process['on'](_0x16eb28[_0x4ec95b(0x185)],_0x216aeb);}catch(_0x2b57d7){process[_0x4ec95b(0x169)]['BROWSERSTACK_PERCY']=_0x16eb28['jQmYx'],logger[_0x4ec95b(0x1ec)](_0x4ec95b(0x203)+_0x2b57d7);throw new Error(_0x2b57d7[_0x4ec95b(0x139)]());}}async['stopPercy'](){const _0x3b1d8c=a55_0x1b743b,_0x3f8d32={};_0x3f8d32[_0x3b1d8c(0x19f)]=_0x3b1d8c(0x1f7),_0x3f8d32[_0x3b1d8c(0x1f6)]=_0x3b1d8c(0x14e);const _0x4ccafc=_0x3f8d32;if(this['percy']&&this[_0x3b1d8c(0x1df)]['isRunning']())try{await percyHelper['stopPercy'](this[_0x3b1d8c(0x1df)]),logger[_0x3b1d8c(0x1ef)](_0x4ccafc[_0x3b1d8c(0x19f)]);}catch(_0x13085c){logger[_0x3b1d8c(0x1ac)](_0x4ccafc[_0x3b1d8c(0x1f6)],_0x13085c[_0x3b1d8c(0x16a)]);}}async[a55_0x1b743b(0x1fe)](){const _0x5a9e48=a55_0x1b743b,_0x34fb2b={};_0x34fb2b[_0x5a9e48(0x1d5)]=_0x5a9e48(0x145),_0x34fb2b['JGoSo']=_0x5a9e48(0x15a);const _0x3de791=_0x34fb2b;if(helper[_0x5a9e48(0x197)]()&&helper[_0x5a9e48(0x1f3)](this[_0x5a9e48(0x160)][_0x5a9e48(0x123)])&&(!this[_0x5a9e48(0x123)]||!this['browserstackLocal']['isRunning']()))try{if(this[_0x5a9e48(0x160)][_0x5a9e48(0x161)][_0x5a9e48(0x1cc)]){logger[_0x5a9e48(0x1ec)](_0x3de791[_0x5a9e48(0x1d5)]);return;}this[_0x5a9e48(0x123)]=await helper[_0x5a9e48(0x1b7)](this[_0x5a9e48(0x160)]),logger['info'](_0x3de791[_0x5a9e48(0x13b)]);}catch(_0x160cb6){logger[_0x5a9e48(0x1ec)](_0x160cb6);throw new Error(_0x160cb6[_0x5a9e48(0x139)]());}}async[a55_0x1b743b(0x1ad)](){const _0x53f53d=a55_0x1b743b,_0x2f9844={};_0x2f9844[_0x53f53d(0x205)]='Local\x20binary\x20stopped',_0x2f9844['alZyO']=_0x53f53d(0x1ea);const _0xd40e4d=_0x2f9844;if(this[_0x53f53d(0x123)]&&this[_0x53f53d(0x123)][_0x53f53d(0x1f0)]())try{await helper[_0x53f53d(0x155)](this[_0x53f53d(0x123)]),logger['info'](_0xd40e4d[_0x53f53d(0x205)]);}catch(_0x53f74a){logger[_0x53f53d(0x1ac)](_0xd40e4d['alZyO'],_0x53f74a[_0x53f53d(0x16a)]);}}async[a55_0x1b743b(0x1ff)](){const _0x226252=a55_0x1b743b;return PerformanceTester[_0x226252(0x1d2)](PerformanceAutEvents[_0x226252(0x18d)],async()=>{const _0x3a4e68=_0x226252;await hubAllocator[_0x3a4e68(0x1fd)](this[_0x3a4e68(0x160)]);})();}async[a55_0x1b743b(0x193)](){const _0x282106=a55_0x1b743b,_0x17cfe6={'vMNSC':function(_0x56bb4f,_0x294073){return _0x56bb4f(_0x294073);},'tjmgw':_0x282106(0x157),'pWjlj':function(_0x551e12,_0xce047d,_0x4f882a,_0x41fb63,_0xe464e,_0x302b4a,_0x1175eb){return _0x551e12(_0xce047d,_0x4f882a,_0x41fb63,_0xe464e,_0x302b4a,_0x1175eb);},'yYGZN':_0x282106(0x146),'QjpvC':_0x282106(0x215),'FjzuZ':function(_0x3bbebd,_0x12835e){return _0x3bbebd(_0x12835e);},'tUXio':_0x282106(0x173),'MJpeo':_0x282106(0x1f2),'dxGJK':function(_0x10bb3d,_0x3da097){return _0x10bb3d(_0x3da097);},'uarFa':function(_0x91a8b,_0x256362){return _0x91a8b===_0x256362;},'SBNGo':'true','tfrTg':function(_0x4ded2c,_0x1de6dc){return _0x4ded2c===_0x1de6dc;},'SvAhe':'Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','cufbA':function(_0x28aeb3,_0x32ea34){return _0x28aeb3===_0x32ea34;},'kYWqL':_0x282106(0x1e2),'JVLXH':'Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','Rpylm':function(_0x43c126,_0x5712be){return _0x43c126(_0x5712be);},'VkBSb':_0x282106(0x1bf),'vPwEn':function(_0x1fe3ab,_0x286dfb){return _0x1fe3ab>=_0x286dfb;},'qCZwm':function(_0x4b0323,_0x1ccf80){return _0x4b0323<_0x1ccf80;},'lpfFm':function(_0x6bca7a,_0x1dd14b){return _0x6bca7a>=_0x1dd14b;},'zhBHs':_0x282106(0x1a6),'nqQFC':_0x282106(0x1e0),'EQrKN':function(_0x5e871e){return _0x5e871e();}},_0x57e521=PerformanceTester[_0x282106(0x1d2)](_0x17cfe6['nqQFC'],async()=>{const _0x3a4912=_0x282106;try{const _0x59a15f=new Date(),_0x41f57b=helper[_0x3a4912(0x135)](this['config']),_0x3c1792=_0x17cfe6['vMNSC'](require,path[_0x3a4912(0x201)](__dirname,_0x17cfe6['tjmgw'])),_0x524525=_0x17cfe6['pWjlj'](timeoutPromise,constants[_0x3a4912(0x1a8)],_0x17cfe6[_0x3a4912(0x196)],_0x17cfe6[_0x3a4912(0x12d)],_0x59a15f,this['config'],this[_0x3a4912(0x163)]),_0x2d3959={'tcgUrl':constants[_0x3a4912(0x167)],'sdkVersion':_0x17cfe6[_0x3a4912(0x1b8)](require,_0x17cfe6[_0x3a4912(0x1c0)])[_0x3a4912(0x150)],'methodUsed':_0x17cfe6[_0x3a4912(0x1cb)],'proxyConfig':_0x41f57b,'os':os[_0x3a4912(0x1f8)]()};if(_0x41f57b&&_0x41f57b[_0x3a4912(0x136)]){utilities[_0x3a4912(0x1af)](constants['AI_PROXY_FAILURE'],_0x2d3959,this[_0x3a4912(0x160)],this[_0x3a4912(0x163)]);return;}const _0x22e60b={};_0x22e60b[_0x3a4912(0x1f1)]=_0x41f57b;const _0x998d31=await Promise[_0x3a4912(0x21b)]([_0x3c1792[_0x3a4912(0x171)](this[_0x3a4912(0x160)][_0x3a4912(0x217)],this[_0x3a4912(0x160)][_0x3a4912(0x1fc)],constants[_0x3a4912(0x167)],_0x17cfe6[_0x3a4912(0x13d)](require,_0x17cfe6[_0x3a4912(0x1c0)])[_0x3a4912(0x150)],_0x22e60b)[_0x3a4912(0x1ed)](_0x495a63=>{const _0xa1812b=_0x3a4912;return _0x524525[_0xa1812b(0x17e)](),_0x495a63;}),_0x524525]);_0x998d31[_0x3a4912(0x16b)]=_0x17cfe6['uarFa'](_0x998d31[_0x3a4912(0x16b)],_0x17cfe6[_0x3a4912(0x20e)])||_0x17cfe6[_0x3a4912(0x1d0)](_0x998d31[_0x3a4912(0x16b)],!![]);const _0x250753=_0x17cfe6[_0x3a4912(0x1d0)](this[_0x3a4912(0x160)][_0x3a4912(0x147)],!![])||_0x17cfe6['uarFa'](this[_0x3a4912(0x160)][_0x3a4912(0x147)],_0x17cfe6[_0x3a4912(0x20e)]);if(_0x17cfe6[_0x3a4912(0x1d0)](_0x998d31[_0x3a4912(0x16a)],constants[_0x3a4912(0x200)])&&_0x250753)logger['info'](_0x17cfe6[_0x3a4912(0x122)]);else{if(!_0x998d31[_0x3a4912(0x20a)]&&_0x17cfe6[_0x3a4912(0x143)](_0x998d31[_0x3a4912(0x175)],0x1f7)&&_0x250753)logger[_0x3a4912(0x1ef)](_0x17cfe6['kYWqL']),utilities[_0x3a4912(0x1af)](constants[_0x3a4912(0x1ba)],_0x2d3959,this[_0x3a4912(0x160)],this[_0x3a4912(0x163)]);else{if(!_0x998d31[_0x3a4912(0x20a)]&&_0x250753){logger[_0x3a4912(0x1ef)](_0x17cfe6[_0x3a4912(0x142)]);const _0x1d99aa={'tcgUrl':constants[_0x3a4912(0x167)],'sdkVersion':_0x17cfe6[_0x3a4912(0x16c)](require,_0x17cfe6[_0x3a4912(0x1c0)])['version'],'methodUsed':_0x17cfe6[_0x3a4912(0x1cb)],'proxyConfig':_0x41f57b,'os':os[_0x3a4912(0x1f8)]()};utilities['fireFunnelTestEvent'](constants[_0x3a4912(0x191)],_0x1d99aa,this['config'],this[_0x3a4912(0x163)]);}else{if(_0x998d31['isAuthenticated']&&!_0x998d31[_0x3a4912(0x16b)]&&_0x250753)logger['info'](_0x17cfe6['VkBSb']);else{if(_0x17cfe6['vPwEn'](_0x998d31['status'],0xc8)&&_0x17cfe6[_0x3a4912(0x1e3)](_0x998d31[_0x3a4912(0x175)],0x12c))utilities[_0x3a4912(0x1af)](constants[_0x3a4912(0x17f)],_0x2d3959,this[_0x3a4912(0x160)],this[_0x3a4912(0x163)]);else{if(_0x17cfe6[_0x3a4912(0x15b)](_0x998d31[_0x3a4912(0x175)],0x190))_0x2d3959[_0x3a4912(0x175)]=_0x998d31[_0x3a4912(0x175)],utilities[_0x3a4912(0x1af)](constants[_0x3a4912(0x121)],_0x2d3959,this[_0x3a4912(0x160)],this[_0x3a4912(0x163)]);else!_0x998d31[_0x3a4912(0x175)]&&utilities['fireFunnelTestEvent'](constants[_0x3a4912(0x141)],_0x2d3959,this[_0x3a4912(0x160)],this[_0x3a4912(0x163)]);}}}}}if(_0x998d31['isAuthenticated']&&_0x998d31['isHealingEnabled']){const _0x264ad3={};_0x264ad3[_0x3a4912(0x1f9)]=_0x998d31;const _0x1ae233=_0x264ad3;_0x41f57b&&(_0x1ae233[_0x3a4912(0x19b)]=_0x41f57b),_0x1ae233[_0x3a4912(0x163)]=this[_0x3a4912(0x163)],_0x1ae233['bstackConfig']=this[_0x3a4912(0x160)],helper[_0x3a4912(0x194)](_0x1ae233),logger['debug'](_0x17cfe6['zhBHs']);}}catch(_0x32c9d2){logger[_0x3a4912(0x1ec)]('Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20'+(_0x32c9d2[_0x3a4912(0x16a)]?_0x32c9d2['message']:''));}});await _0x17cfe6[_0x282106(0x202)](_0x57e521);}[a55_0x1b743b(0x177)](){const _0x2d57d6=a55_0x1b743b,_0x169c34={'wLGqE':function(_0x528454,_0x47033c){return _0x528454(_0x47033c);},'moxbf':_0x2d57d6(0x195)};_0x169c34[_0x2d57d6(0x1ab)](require,_0x169c34[_0x2d57d6(0x1e4)])();}[a55_0x1b743b(0x17c)](){const _0x5ebfc0=a55_0x1b743b,_0x41774a={};_0x41774a[_0x5ebfc0(0x1da)]=_0x5ebfc0(0x166),_0x41774a[_0x5ebfc0(0x127)]=_0x5ebfc0(0x134);const _0x3485c5=_0x41774a,_0x2ebc40=_0x459581=>{const _0x311a0d=_0x5ebfc0;logger['error'](_0x459581[_0x311a0d(0x16a)]),logger[_0x311a0d(0x1ec)](util[_0x311a0d(0x189)](_0x459581)),this[_0x311a0d(0x1de)]['push'](util[_0x311a0d(0x189)]('%j',_0x459581)),PerformanceTester['captureError'](_0x459581);};process['on'](_0x3485c5[_0x5ebfc0(0x1da)],_0x2ebc40),process['on'](_0x3485c5[_0x5ebfc0(0x127)],_0x2ebc40);}async[a55_0x1b743b(0x16d)](_0x551dfa){const _0x440568=a55_0x1b743b,_0x5d304d={};_0x5d304d[_0x440568(0x1f5)]=_0x440568(0x1bc),_0x5d304d[_0x440568(0x1dd)]=function(_0x22945f,_0x94f85){return _0x22945f+_0x94f85;},_0x5d304d['DFuHM']=_0x440568(0x14f),_0x5d304d['RlUnp']=_0x440568(0x1dc);const _0x1f2011=_0x5d304d,_0xeb0173=_0x1f2011[_0x440568(0x1f5)]['split']('|');let _0x15d73b=0x0;while(!![]){switch(_0xeb0173[_0x15d73b++]){case'0':await TestHubHandler['stop'](_0x551dfa);continue;case'1':if(this[_0x1f2011[_0x440568(0x1dd)](_0x1f2011[_0x440568(0x1e6)],_0x551dfa)])return;continue;case'2':logger['info'](_0x1f2011[_0x440568(0x1dd)](_0x1f2011['RlUnp'],_0x551dfa));continue;case'3':this[_0x440568(0x1d4)]=_0x551dfa;continue;case'4':this[_0x1f2011['fmXOP'](_0x1f2011[_0x440568(0x1e6)],_0x551dfa)]=!![];continue;}break;}}[a55_0x1b743b(0x1a5)](){const _0x2af8fd=a55_0x1b743b,_0x4ceaba={};_0x4ceaba[_0x2af8fd(0x12f)]=function(_0x48d44a,_0x11c332){return _0x48d44a===_0x11c332;},_0x4ceaba['VPdyr']='Calling\x20Build\x20Stop\x20from\x20ExitHandler',_0x4ceaba[_0x2af8fd(0x186)]=function(_0x2a5ae8,_0x25db86){return _0x2a5ae8>_0x25db86;},_0x4ceaba[_0x2af8fd(0x213)]=function(_0x53ba0c,_0x39062a){return _0x53ba0c>_0x39062a;},_0x4ceaba['IKVos']='log/events.json';const _0xe6278f=_0x4ceaba;let _0x5456c0=0x0;return async()=>{const _0x450299=_0x2af8fd;_0x5456c0++;if(_0xe6278f['OoOsj'](_0x5456c0,0x1)){helper[_0x450299(0x20f)](this[_0x450299(0x163)])&&await this[_0x450299(0x1ad)]();try{logger[_0x450299(0x1ec)](_0xe6278f['VPdyr']),await TestHubHandler[_0x450299(0x190)](_0x5456c0);}catch(_0x5f0146){logger[_0x450299(0x1ec)](_0x450299(0x124)+util[_0x450299(0x189)](_0x5f0146));}PerformanceTester[_0x450299(0x1eb)](PerformanceEvents[_0x450299(0x15c)]);if(PerformanceTester['isEnabled']()){const {measures:_0x398f2a,errors:_0x1991a1}=await PerformanceTester[_0x450299(0x18f)](),_0x272f4c={};if(_0x398f2a&&_0xe6278f[_0x450299(0x186)](_0x398f2a[_0x450299(0x154)],0x0)||_0x1991a1&&_0xe6278f[_0x450299(0x213)](_0x1991a1['length'],0x0)){const _0x54baf2={};_0x54baf2[_0x450299(0x17b)]=_0x398f2a,_0x54baf2[_0x450299(0x164)]=_0x1991a1,Object[_0x450299(0x1d8)](_0x272f4c,_0x54baf2);}try{const _0x4fae77=await helper[_0x450299(0x176)](_0x272f4c,this[_0x450299(0x160)]);logger[_0x450299(0x1ec)](_0x450299(0x165)+constants[_0x450299(0x1c1)]+'\x20with\x20response\x20'+_0x4fae77['statusCode']);}catch(_0x195c4f){logger[_0x450299(0x1ec)](_0x450299(0x208)+constants[_0x450299(0x1c1)]+'\x20with\x20error\x20'+util['format'](_0x195c4f));}try{fs[_0x450299(0x19c)](_0xe6278f[_0x450299(0x19d)],JSON['stringify'](_0x272f4c));}catch(_0x3f2f29){logger[_0x450299(0x1ec)]('Error\x20in\x20writing\x20events\x20to\x20file\x20'+_0x3f2f29);}}}};}}exports['default']=BrowserStackSetup;