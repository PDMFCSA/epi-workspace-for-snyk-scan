const a55_0x5c4ad7=a55_0x5d1f;function a55_0x5d1f(_0x3aa26f,_0x5d67d8){const _0x54cbb9=a55_0x54cb();return a55_0x5d1f=function(_0x5d1f6e,_0xbab827){_0x5d1f6e=_0x5d1f6e-0x144;let _0x2105f3=_0x54cbb9[_0x5d1f6e];return _0x2105f3;},a55_0x5d1f(_0x3aa26f,_0x5d67d8);}(function(_0x5d4980,_0x4e322e){const _0x4fbfb8=a55_0x5d1f,_0x564297=_0x5d4980();while(!![]){try{const _0x3a6e6a=parseInt(_0x4fbfb8(0x1ac))/0x1+parseInt(_0x4fbfb8(0x1fa))/0x2+-parseInt(_0x4fbfb8(0x1ff))/0x3*(-parseInt(_0x4fbfb8(0x1aa))/0x4)+-parseInt(_0x4fbfb8(0x1c8))/0x5*(parseInt(_0x4fbfb8(0x18c))/0x6)+parseInt(_0x4fbfb8(0x1a7))/0x7+parseInt(_0x4fbfb8(0x1c3))/0x8*(-parseInt(_0x4fbfb8(0x20c))/0x9)+-parseInt(_0x4fbfb8(0x160))/0xa;if(_0x3a6e6a===_0x4e322e)break;else _0x564297['push'](_0x564297['shift']());}catch(_0x1e9d18){_0x564297['push'](_0x564297['shift']());}}}(a55_0x54cb,0x78815));const util=require(a55_0x5c4ad7(0x21e)),os=require('os'),path=require(a55_0x5c4ad7(0x1e4)),{v4:uuidv4}=require('uuid'),fs=require('fs'),constants=require(a55_0x5c4ad7(0x168)),{isTurboScaleSession}=require('./ats/helper'),logger=require(a55_0x5c4ad7(0x15f))[a55_0x5c4ad7(0x156)],{getLogDir}=require(a55_0x5c4ad7(0x15f)),helper=require(a55_0x5c4ad7(0x1f8)),utilities=require(a55_0x5c4ad7(0x158)),percyHelper=require(a55_0x5c4ad7(0x163)),hubAllocator=require('../hubAllocationMethods'),PerformanceTester=require(a55_0x5c4ad7(0x21c)),{EVENTS:PerformanceEvents,AUTOMATE_EVENTS:PerformanceAutEvents}=require(a55_0x5c4ad7(0x208)),{setPercyFlag}=require('./testhub/utils'),TestHubHandler=require('./testhub/testhubHandler'),timeoutPromise=require('./timeoutPromise');function a55_0x54cb(){const _0x4a4023=['RhUex','userName','testContextOptions','TCG_AUTH_TIMEOUT','AGbJa','BwWmS','sdkRunID','events.json','4228994cRfdGt','version','handleExceptions','130748lFAcWV','format','355915dqaozi','split','true','parallelsPerPlatform','DrvdW','Could\x20not\x20start\x20percy,\x20check\x20percy\x20logs\x20for\x20info.','setUpHubUrl','../../package.json','Local\x20binary\x20not\x20started\x20as\x20skipBinaryInitialisation\x20is\x20enabled','\x20with\x20error\x20','getUserName','fGGwJ','default','BROWSERSTACK_TURBOSCALE','HUB\x20URL\x20SET\x20TO\x20TurboScale\x20HUB\x20-\x20','?caps=','turboScaleGridDetails','FRAMEWORK','Error\x20in\x20percy\x20setup\x20','ozwhj','envConfig','includes','sendToEDS','552bDbrxt','lEIms','getFinalCaps','captureError','forceLocal','10eZIqSc','platforms','aiHeal:tcgAuth','cancel','startMonitoring','qTMNH','intExitHandler','yRiUY','jzjFG','isHealingEnabled','qFGfa','startPercy','isTrue','central_scanner','BrowserstackHealing.init','setupPercy','info','join','IClyQ','selenium-webdriver','disableAutoCaptureLogs','dPFFU','Error\x20in\x20sending\x20testhub\x20stop:\x20','zzJCz','isTrialGrid','isRunning','status','stopPercy','path','useW3C','zOzcx','tcgAuthConfig','Plmou','error','message','checkStopLocalBinaryOnExit','AUTOLOGCAPTURE_NOTIFICATION','toString','FGMOH','length','GqRqa','uCiji','proxyUrl','handled','SIGBREAK','FcpwR','Percy\x20started\x20successfully','SIGABRT','./helper','codeceptjs','1228060yPfmcd','Please\x20upgrade\x20Browserstack\x20SDK\x20to\x20the\x20latest\x20version\x20to\x20use\x20the\x20self-healing\x20feature.','No\x20config\x20provided.','env','cQyZa','12fkqBzt','measures','aLxYS','setEnvCaps','win32','auUbp','Something\x20went\x20wrong.\x20Disabling\x20healing\x20for\x20this\x20session.\x20Please\x20try\x20again\x20later.','getConfigPath','browserstackLocal','./performance/constants','jimOW','mViRx','KMkKN','95859jiutFy','TEwUW','custom-repeater','percy','mLqSW','INVALID_INIT_RESP_WITH_USER_IMPACT','unhandledErrors','url','Failed\x20to\x20send\x20data\x20to\x20','isAuthenticated','GrgRi','startLocalBinary','warn','aEpvF','CIpiH','readConfig','./performance/performance-tester','BrowserstackHealing.init\x20method\x20timed\x20out','util','getLocalConfig','\x20with\x20response\x20','stop','turboScaleUrl','EDS_URL','jCUIR','setCLICaps','fmLFv','selfHeal','BrowserstackHealingInitFailed','setBrowserstackInfraFromConfig','BROWSERSTACK_PERCY','hubUrl','skipSessionName','SIGTERM','sxzUV','end','playwright','mspGv','then','FAYJa','Percy\x20stopped','iUsjs','getPackageVersion','SIGINT','Error\x20in\x20Fire\x20SDKTestAttempted.\x20Stacktrace:\x20','nkHnk','fireFunnelTestEvent','fTqhw','IybhQ','XVpOo','Error\x20in\x20setting\x20up\x20tcg\x20authconfig.\x20Error:\x20','integrations','MCFTD','getProxyConfigForTcg','ats-repeater','skipBinaryInitialisation','unhandledRejection','setProxySettings','LKADM','stringify','lDAwW','isBrowserstackInfra','SDK\x20run\x20started\x20with\x20id:\x20','setupBrowserstackLocal','winstonLogger','./setKeepAlive','./utilities','setupTCGAuth','isUndefined','SIGHUP','beforeExit','Pmoms','platform','./logger','3760330wLDJlj','SDK_CLEANUP','Healing\x20is\x20not\x20enabled\x20for\x20your\x20group,\x20please\x20contact\x20the\x20admin','./percy/utils','bEtFm','turboScale','../ai-sdk-node/bundle','accessKey','../bin/utils/constants','pXNNS','debug','localIdentifier','bind','4.5.0','Error\x20occured\x20while\x20stopping\x20percy','cliConfig','getAccessKey','getCentralUser','TCG_URL','killSignal','Error\x20occured\x20while\x20stopping\x20local\x20binary','proxyConfig','zsXhI','constructor','setLogDir','customRepeaters','exceptions','VtOgu','exitHandler','statusCode','turboScaleOptions','setLogLevel','DRVOX','allocateHub','browserStackLocalOptions','DfYXo','ygooG','generateLocalIdentifier','AI_INIT_FAILURE','config','TCG_DOWN','hTlQR','measureWrapper','TCG_AUTH_FAILURE','300882IWfqzz','tBbmA','skipSessionStatus','gYSRT','lnpSG','fOkdV','SDKTestAttempted','tGNDO','stopLocalBinary','writeFileSync','nUfLk','playwrightUrl','cvRIF','setupKeepAlive','jYAvY','setupTcgConfigFile','preInitialize','framework','IWaLZ'];a55_0x54cb=function(){return _0x4a4023;};return a55_0x54cb();}class BrowserStackSetup{constructor(_0x3fc61a,_0x25c83d){const _0x50486d=a55_0x5c4ad7,_0x4c1e3e={'reXNm':'8|17|13|11|20|7|2|19|16|4|15|18|9|3|6|5|1|0|12|10|14','nkHnk':function(_0x3d7e81){return _0x3d7e81();},'FcpwR':_0x50486d(0x1fc)},_0x13d639=_0x4c1e3e['reXNm'][_0x50486d(0x1ad)]('|');let _0x6a3b8c=0x0;while(!![]){switch(_0x13d639[_0x6a3b8c++]){case'0':helper[_0x50486d(0x1c5)](this[_0x50486d(0x187)],this['cliConfig'],this[_0x50486d(0x1c0)]);continue;case'1':this[_0x50486d(0x187)]['testContextOptions']['skipSessionName']=!helper[_0x50486d(0x153)]()||helper[_0x50486d(0x1d4)](this[_0x50486d(0x187)][_0x50486d(0x1a1)][_0x50486d(0x22c)]);continue;case'2':this[_0x50486d(0x187)][_0x50486d(0x1c9)]=this[_0x50486d(0x187)]['platforms']||[];continue;case'3':if(this[_0x50486d(0x187)]['error'])throw new Error(this['config']['error']);continue;case'4':this[_0x50486d(0x1a5)]=_0x4c1e3e[_0x50486d(0x239)](uuidv4);continue;case'5':this[_0x50486d(0x187)][_0x50486d(0x1a1)]['skipSessionStatus']=!helper[_0x50486d(0x153)]()||helper['isTrue'](this['config'][_0x50486d(0x1a1)][_0x50486d(0x18e)]);continue;case'6':helper[_0x50486d(0x229)](this[_0x50486d(0x187)],this[_0x50486d(0x16f)]);continue;case'7':this[_0x50486d(0x187)]=helper[_0x50486d(0x21b)](helper[_0x50486d(0x206)](_0x3fc61a));continue;case'8':this[_0x50486d(0x212)]=[];continue;case'9':if(helper[_0x50486d(0x15a)](this[_0x50486d(0x187)]))throw new Error(_0x4c1e3e[_0x50486d(0x1f5)]);continue;case'10':helper[_0x50486d(0x17f)](this[_0x50486d(0x187)],this[_0x50486d(0x16f)],this[_0x50486d(0x1c0)]);continue;case'11':this[_0x50486d(0x207)]=null;continue;case'12':helper[_0x50486d(0x178)](this[_0x50486d(0x187)]);continue;case'13':this['envConfig']=helper[_0x50486d(0x202)]();continue;case'14':PerformanceTester[_0x50486d(0x1cc)]();continue;case'15':this[_0x50486d(0x19d)]=_0x25c83d;continue;case'16':this['errorMessage']={};continue;case'17':this['cliConfig']=helper[_0x50486d(0x225)](_0x3fc61a);continue;case'18':global['framework']=_0x25c83d;continue;case'19':this[_0x50486d(0x187)][_0x50486d(0x1a1)]=this[_0x50486d(0x187)][_0x50486d(0x1a1)]||{};continue;case'20':this[_0x50486d(0x20f)]=null;continue;}break;}}[a55_0x5c4ad7(0x19c)](_0x112dc2){const _0x44251e=a55_0x5c4ad7,_0xb1fdff={'AGbJa':'userName\x20or\x20accessKey\x20is\x20not\x20defined','TEwUW':function(_0x494917,_0x50cce2){return _0x494917===_0x50cce2;},'dPFFU':_0x44251e(0x149),'iUsjs':_0x44251e(0x192),'VtOgu':function(_0x2b5e17,_0x276cd2){return _0x2b5e17<_0x276cd2;},'mViRx':function(_0x3a1641,_0x25ef5f){return _0x3a1641(_0x25ef5f);},'eBvzz':_0x44251e(0x1db),'IybhQ':_0x44251e(0x16d),'TyiiM':'Few\x20SDK\x20features\x20were\x20not\x20activated\x20as\x20platforms\x20object\x20was\x20not\x20defined','DrvdW':'parallelsPerPlatform\x20was\x20ignored\x20as\x20platforms\x20object\x20was\x20not\x20defined','JDxjM':_0x44251e(0x22d),'fOkdV':_0x44251e(0x237),'UqqBl':_0x44251e(0x15b),'RhUex':function(_0x3135d5,_0x1a421b){return _0x3135d5!==_0x1a421b;},'aEpvF':_0x44251e(0x203),'DfYXo':_0x44251e(0x1f7),'avsXv':'SIGQUIT','aLxYS':_0x44251e(0x1f4),'bwDds':_0x44251e(0x15c)},_0x14f876=this[_0x44251e(0x19d)];global[_0x44251e(0x187)]=this[_0x44251e(0x187)],helper['sanitizeCaps'](this[_0x44251e(0x187)]),this[_0x44251e(0x173)]=null,global[_0x44251e(0x1a5)]=this['sdkRunID'],logger[_0x44251e(0x1d8)](_0x44251e(0x154)+this[_0x44251e(0x1a5)]),!this[_0x44251e(0x187)][_0x44251e(0x182)]&&(this[_0x44251e(0x187)][_0x44251e(0x182)]=this[_0x44251e(0x187)]['localOptions']||{});if(helper[_0x44251e(0x15a)](helper[_0x44251e(0x1b6)](this[_0x44251e(0x187)]))||helper[_0x44251e(0x15a)](helper[_0x44251e(0x170)](this['config'])))throw new Error(_0xb1fdff[_0x44251e(0x1a3)]);helper[_0x44251e(0x21f)](this[_0x44251e(0x187)])&&helper[_0x44251e(0x15a)](helper['getLocalIdentifier'](this[_0x44251e(0x187)]))&&(!helper[_0x44251e(0x15a)](this[_0x44251e(0x187)]['browserStackLocalOptions'])&&_0xb1fdff[_0x44251e(0x20d)](this[_0x44251e(0x187)][_0x44251e(0x182)][_0x44251e(0x177)],Object)?!helper[_0x44251e(0x1d4)](this[_0x44251e(0x187)][_0x44251e(0x182)][_0x44251e(0x14d)])&&(this['config']['browserStackLocalOptions'][_0x44251e(0x16b)]=helper[_0x44251e(0x185)]()):this[_0x44251e(0x187)][_0x44251e(0x182)]={'localIdentifier':helper['generateLocalIdentifier']()});this['config'][_0x44251e(0x182)][_0x44251e(0x14d)]=helper[_0x44251e(0x1d4)](this['config'][_0x44251e(0x182)][_0x44251e(0x14d)]),helper['setHandlePWError'](this[_0x44251e(0x187)]);if(_0xb1fdff['TEwUW'](_0x14f876,_0xb1fdff[_0x44251e(0x1dd)]))return;this[_0x44251e(0x1a9)]();process['env']['BROWSERSTACK_TURBOSCALE']&&(this['config'][_0x44251e(0x165)]=helper[_0x44251e(0x1d4)](process['env'][_0x44251e(0x1b9)]),this['config']['turboScaleOptions']=this[_0x44251e(0x187)][_0x44251e(0x17e)]||{});if(!helper[_0x44251e(0x153)]()){try{process[_0x44251e(0x1fd)][_0x44251e(0x1bd)]=_0x14f876,utilities['fireFunnelTestEvent'](_0xb1fdff['iUsjs'],{},this[_0x44251e(0x187)],this[_0x44251e(0x19d)]);}catch(_0x2be399){logger[_0x44251e(0x16a)](_0x44251e(0x238)+_0x2be399);}return;}helper['requireSeleniumWebdriverCheck'](_0x14f876)&&(_0xb1fdff[_0x44251e(0x17b)](_0xb1fdff[_0x44251e(0x20a)](parseInt,helper['getPackageVersion'](_0xb1fdff['eBvzz'])),0x3)&&(this['config'][_0x44251e(0x1e5)]=![]),_0xb1fdff[_0x44251e(0x20d)](helper['compareVersions'](helper[_0x44251e(0x236)](_0xb1fdff['eBvzz']),_0xb1fdff[_0x44251e(0x146)]),0x1)&&(this[_0x44251e(0x187)][_0x44251e(0x1e5)]=!![]));(helper[_0x44251e(0x15a)](this[_0x44251e(0x187)][_0x44251e(0x1c9)])||helper[_0x44251e(0x15a)](this['config'][_0x44251e(0x1c9)]['length']))&&(helper[_0x44251e(0x15a)](this[_0x44251e(0x187)][_0x44251e(0x1af)])?logger['info'](_0xb1fdff['TyiiM']):logger[_0x44251e(0x218)](_0xb1fdff[_0x44251e(0x1b0)]),this[_0x44251e(0x187)][_0x44251e(0x1c9)]=[]);!this[_0x44251e(0x187)][_0x44251e(0x1a1)]&&(this[_0x44251e(0x187)][_0x44251e(0x1a1)]={});try{process[_0x44251e(0x1fd)][_0x44251e(0x1bd)]=_0x112dc2['_'][0x0],utilities[_0x44251e(0x144)](_0xb1fdff[_0x44251e(0x235)],{},this[_0x44251e(0x187)],this[_0x44251e(0x19d)]);}catch(_0x6c3b9a){logger[_0x44251e(0x16a)](_0x44251e(0x238)+_0x6c3b9a);}!this[_0x44251e(0x187)][_0x44251e(0x1dc)]&&logger[_0x44251e(0x1d8)](constants[_0x44251e(0x1ec)]),this[_0x44251e(0x1ce)]=this[_0x44251e(0x1ce)][_0x44251e(0x16c)](this),process['on'](_0xb1fdff['JDxjM'],this['intExitHandler']),process['on'](_0xb1fdff[_0x44251e(0x191)],this[_0x44251e(0x1ce)]),process['on'](_0xb1fdff['UqqBl'],this[_0x44251e(0x1ce)]),_0xb1fdff[_0x44251e(0x19f)](process['platform'],_0xb1fdff[_0x44251e(0x219)])?(process['on'](_0xb1fdff[_0x44251e(0x183)],this['intExitHandler']),process['on'](_0xb1fdff['avsXv'],this[_0x44251e(0x1ce)])):process['on'](_0xb1fdff[_0x44251e(0x201)],this['intExitHandler']),process['on'](_0xb1fdff['bwDds'],this[_0x44251e(0x17c)]());}async['initialize'](_0x5d8836){const _0x21100a=a55_0x5c4ad7,_0x41f77e={'jYAvY':function(_0x18e055,_0x331e41){return _0x18e055(_0x331e41);},'jzjFG':_0x21100a(0x14c),'FGMOH':_0x21100a(0x20e),'fmLFv':'true','ozwhj':function(_0x348f67,_0x19a254){return _0x348f67===_0x19a254;},'DRVOX':_0x21100a(0x230),'SeCLi':function(_0x5ae831,_0x323e25){return _0x5ae831+_0x323e25;},'uCiji':_0x21100a(0x1bb),'LBQCp':_0x21100a(0x1f9)};this[_0x21100a(0x19c)](_0x5d8836);if(_0x41f77e[_0x21100a(0x19a)](isTurboScaleSession,this[_0x21100a(0x187)])){const _0x3ef4bf=await helper['getTurboScaleGridDetails'](this[_0x21100a(0x187)]);this['config'][_0x21100a(0x1bc)]=_0x3ef4bf,_0x3ef4bf[_0x21100a(0x1e0)]&&(this[_0x21100a(0x187)][_0x21100a(0x207)]=!![],this['config'][_0x21100a(0x182)]['localIdentifier']=_0x41f77e[_0x21100a(0x1d0)],this[_0x21100a(0x187)][_0x21100a(0x182)][_0x41f77e[_0x21100a(0x1ee)]]=_0x3ef4bf[_0x21100a(0x179)][_0x21100a(0x1d9)](','),this[_0x21100a(0x187)][_0x21100a(0x182)][_0x21100a(0x1c7)]=_0x41f77e[_0x21100a(0x226)]),this[_0x21100a(0x187)][_0x21100a(0x222)]=_0x3ef4bf[_0x21100a(0x213)],this['framework']&&_0x41f77e[_0x21100a(0x1bf)](this[_0x21100a(0x19d)]['toLowerCase'](),_0x41f77e[_0x21100a(0x180)])&&(this['config'][_0x21100a(0x222)]=_0x41f77e['SeCLi'](_0x3ef4bf[_0x21100a(0x197)],_0x41f77e[_0x21100a(0x1f1)])),constants[_0x21100a(0x22b)]=helper['getHubUrl'](this[_0x21100a(0x187)]),logger[_0x21100a(0x16a)](_0x21100a(0x1ba)+constants[_0x21100a(0x22b)]);}helper[_0x21100a(0x14f)](this[_0x21100a(0x187)]),this[_0x21100a(0x199)](),_0x41f77e['jYAvY'](setPercyFlag,this),await this[_0x21100a(0x155)](),![_0x41f77e['LBQCp']][_0x21100a(0x1c1)](this['framework'])&&!_0x41f77e[_0x21100a(0x19a)](isTurboScaleSession,this[_0x21100a(0x187)])&&!helper[_0x21100a(0x171)]()[_0x21100a(0x1d5)]&&await this[_0x21100a(0x1b2)]();}async[a55_0x5c4ad7(0x1d7)](){const _0x48dec1=a55_0x5c4ad7,_0x1c9ac9={};_0x1c9ac9[_0x48dec1(0x145)]=function(_0x4801fa,_0x4e5c13){return _0x4801fa===_0x4e5c13;},_0x1c9ac9['hTlQR']='false',_0x1c9ac9['ilkhY']=_0x48dec1(0x1b1),_0x1c9ac9[_0x48dec1(0x224)]=_0x48dec1(0x1f6),_0x1c9ac9[_0x48dec1(0x193)]='true',_0x1c9ac9['lDAwW']='beforeExit';const _0x71d79b=_0x1c9ac9;if(helper[_0x48dec1(0x1d4)](this['config'][_0x48dec1(0x20f)])&&(!this[_0x48dec1(0x20f)]||!this['percy'][_0x48dec1(0x1e1)]()))try{this['percy']=await percyHelper[_0x48dec1(0x1d3)](this[_0x48dec1(0x187)]);if(!this[_0x48dec1(0x20f)]){process[_0x48dec1(0x1fd)]['BROWSERSTACK_PERCY']=_0x71d79b[_0x48dec1(0x189)];throw new Error(_0x71d79b['ilkhY']);}logger[_0x48dec1(0x1d8)](_0x71d79b[_0x48dec1(0x224)]),process[_0x48dec1(0x1fd)][_0x48dec1(0x22a)]=_0x71d79b[_0x48dec1(0x193)];let _0x234c04=0x0;const _0xc23b2d=async()=>{const _0x2a5347=_0x48dec1;_0x234c04++,_0x71d79b[_0x2a5347(0x145)](_0x234c04,0x1)&&await this[_0x2a5347(0x1e3)]();};process['on'](_0x71d79b[_0x48dec1(0x152)],_0xc23b2d);}catch(_0x1cab59){process['env'][_0x48dec1(0x22a)]=_0x71d79b['hTlQR'],logger[_0x48dec1(0x16a)](_0x48dec1(0x1be)+_0x1cab59);throw new Error(_0x1cab59[_0x48dec1(0x1ed)]());}}async[a55_0x5c4ad7(0x1e3)](){const _0x1680b3=a55_0x5c4ad7,_0x3df7e9={};_0x3df7e9['LKADM']=_0x1680b3(0x234),_0x3df7e9['auUbp']=_0x1680b3(0x16e);const _0x396e2c=_0x3df7e9;if(this[_0x1680b3(0x20f)]&&this[_0x1680b3(0x20f)]['isRunning']())try{await percyHelper[_0x1680b3(0x1e3)](this[_0x1680b3(0x20f)]),logger[_0x1680b3(0x1d8)](_0x396e2c[_0x1680b3(0x150)]);}catch(_0x2767f1){logger[_0x1680b3(0x1e9)](_0x396e2c[_0x1680b3(0x204)],_0x2767f1[_0x1680b3(0x1ea)]);}}async[a55_0x5c4ad7(0x155)](){const _0x2978ca=a55_0x5c4ad7,_0x567ef3={};_0x567ef3[_0x2978ca(0x184)]=_0x2978ca(0x1b4),_0x567ef3['iKtXI']='Local\x20binary\x20started\x20successfully';const _0x5c593e=_0x567ef3;if(helper[_0x2978ca(0x153)]()&&helper['isTrue'](this[_0x2978ca(0x187)]['browserstackLocal'])&&(!this['browserstackLocal']||!this[_0x2978ca(0x207)][_0x2978ca(0x1e1)]()))try{if(this[_0x2978ca(0x187)][_0x2978ca(0x182)]['skipBinaryInitialisation']){logger[_0x2978ca(0x16a)](_0x5c593e[_0x2978ca(0x184)]);return;}this[_0x2978ca(0x207)]=await helper[_0x2978ca(0x217)](this[_0x2978ca(0x187)]),logger[_0x2978ca(0x1d8)](_0x5c593e['iKtXI']);}catch(_0x177b7f){logger[_0x2978ca(0x16a)](_0x177b7f);throw new Error(_0x177b7f[_0x2978ca(0x1ed)]());}}async['stopBrowserstackLocal'](){const _0x3d6945=a55_0x5c4ad7,_0x1a143d={};_0x1a143d['nUfLk']='Local\x20binary\x20stopped',_0x1a143d[_0x3d6945(0x1b7)]=_0x3d6945(0x174);const _0x4fd94e=_0x1a143d;if(this[_0x3d6945(0x207)]&&this[_0x3d6945(0x207)][_0x3d6945(0x1e1)]())try{await helper[_0x3d6945(0x194)](this[_0x3d6945(0x207)]),logger[_0x3d6945(0x1d8)](_0x4fd94e[_0x3d6945(0x196)]);}catch(_0x200207){logger[_0x3d6945(0x1e9)](_0x4fd94e[_0x3d6945(0x1b7)],_0x200207['message']);}}async[a55_0x5c4ad7(0x1b2)](){const _0x5d7b64=a55_0x5c4ad7;return PerformanceTester[_0x5d7b64(0x18a)](PerformanceAutEvents['HUB_MANAGEMENT'],async()=>{const _0x503a34=_0x5d7b64;await hubAllocator[_0x503a34(0x181)](this[_0x503a34(0x187)]);})();}async[a55_0x5c4ad7(0x159)](){const _0x3c49e5=a55_0x5c4ad7,_0x4e2d17={'qFGfa':function(_0x3c7d63,_0x567d2b){return _0x3c7d63(_0x567d2b);},'yRiUY':_0x3c49e5(0x166),'GrgRi':function(_0x255679,_0x5b5814,_0xc71301,_0x347112,_0x3382d2,_0x12c1ad,_0x2eb636){return _0x255679(_0x5b5814,_0xc71301,_0x347112,_0x3382d2,_0x12c1ad,_0x2eb636);},'zOzcx':_0x3c49e5(0x21d),'bEtFm':_0x3c49e5(0x228),'Pmoms':function(_0x346496,_0x536f85){return _0x346496(_0x536f85);},'IWaLZ':_0x3c49e5(0x1b3),'tBbmA':_0x3c49e5(0x1d6),'wdLIG':function(_0x46e1eb,_0x250feb){return _0x46e1eb(_0x250feb);},'mLqSW':function(_0x25927a,_0x254deb){return _0x25927a===_0x254deb;},'jimOW':_0x3c49e5(0x1ae),'cvRIF':function(_0x364d36,_0x5c28f5){return _0x364d36===_0x5c28f5;},'pXNNS':_0x3c49e5(0x1fb),'gYSRT':function(_0x28eeb9,_0x2905b2){return _0x28eeb9===_0x2905b2;},'KMkKN':_0x3c49e5(0x205),'LtTih':'Authentication\x20Failed.\x20Disabling\x20Healing\x20for\x20this\x20session.','OYqRT':function(_0x4dbcbc,_0x4ede12){return _0x4dbcbc(_0x4ede12);},'zzJCz':_0x3c49e5(0x162),'Awevj':function(_0x52d8be,_0x22a30b){return _0x52d8be>=_0x22a30b;},'bwVPq':function(_0x2eeb0e,_0x59f7db){return _0x2eeb0e<_0x59f7db;},'ZNiBv':function(_0x2144e2,_0x5d6371){return _0x2144e2>=_0x5d6371;},'XVpOo':'tcg\x20config\x20setup\x20successful.','lEIms':_0x3c49e5(0x1ca),'BwWmS':function(_0x375f4c){return _0x375f4c();}},_0x11fef1=PerformanceTester['measureWrapper'](_0x4e2d17[_0x3c49e5(0x1c4)],async()=>{const _0x2b3962=_0x3c49e5;try{const _0x4098c6=new Date(),_0x3fd1ac=helper[_0x2b3962(0x14b)](this[_0x2b3962(0x187)]),_0x205654=_0x4e2d17[_0x2b3962(0x1d2)](require,path[_0x2b3962(0x1d9)](__dirname,_0x4e2d17[_0x2b3962(0x1cf)])),_0x421416=_0x4e2d17[_0x2b3962(0x216)](timeoutPromise,constants[_0x2b3962(0x1a2)],_0x4e2d17[_0x2b3962(0x1e6)],_0x4e2d17[_0x2b3962(0x164)],_0x4098c6,this[_0x2b3962(0x187)],this[_0x2b3962(0x19d)]),_0x36c281={'tcgUrl':constants[_0x2b3962(0x172)],'sdkVersion':_0x4e2d17[_0x2b3962(0x15d)](require,_0x4e2d17['IWaLZ'])[_0x2b3962(0x1a8)],'methodUsed':_0x4e2d17[_0x2b3962(0x18d)],'proxyConfig':_0x3fd1ac,'os':os[_0x2b3962(0x15e)]()};if(_0x3fd1ac&&_0x3fd1ac[_0x2b3962(0x1f2)]){utilities[_0x2b3962(0x144)](constants['AI_PROXY_FAILURE'],_0x36c281,this[_0x2b3962(0x187)],this[_0x2b3962(0x19d)]);return;}const _0x1f4aaa={};_0x1f4aaa['proxy']=_0x3fd1ac;const _0x68c372=await Promise['race']([_0x205654['init'](this[_0x2b3962(0x187)][_0x2b3962(0x167)],this['config'][_0x2b3962(0x1a0)],constants[_0x2b3962(0x172)],_0x4e2d17['wdLIG'](require,_0x4e2d17[_0x2b3962(0x19e)])[_0x2b3962(0x1a8)],_0x1f4aaa)[_0x2b3962(0x232)](_0x7bc437=>{const _0x38b19c=_0x2b3962;return _0x421416[_0x38b19c(0x1cb)](),_0x7bc437;}),_0x421416]);_0x68c372[_0x2b3962(0x1d1)]=_0x4e2d17[_0x2b3962(0x210)](_0x68c372[_0x2b3962(0x1d1)],_0x4e2d17[_0x2b3962(0x209)])||_0x4e2d17[_0x2b3962(0x198)](_0x68c372[_0x2b3962(0x1d1)],!![]);const _0xfc2166=_0x4e2d17[_0x2b3962(0x198)](this[_0x2b3962(0x187)][_0x2b3962(0x227)],!![])||_0x4e2d17['cvRIF'](this['config'][_0x2b3962(0x227)],_0x4e2d17[_0x2b3962(0x209)]);if(_0x4e2d17[_0x2b3962(0x198)](_0x68c372[_0x2b3962(0x1ea)],constants['UPGRADE_REQUIRED'])&&_0xfc2166)logger[_0x2b3962(0x1d8)](_0x4e2d17[_0x2b3962(0x169)]);else{if(!_0x68c372['isAuthenticated']&&_0x4e2d17[_0x2b3962(0x18f)](_0x68c372[_0x2b3962(0x1e2)],0x1f7)&&_0xfc2166)logger['info'](_0x4e2d17[_0x2b3962(0x20b)]),utilities['fireFunnelTestEvent'](constants[_0x2b3962(0x188)],_0x36c281,this[_0x2b3962(0x187)],this[_0x2b3962(0x19d)]);else{if(!_0x68c372[_0x2b3962(0x215)]&&_0xfc2166){logger['info'](_0x4e2d17['LtTih']);const _0x5c6fd8={'tcgUrl':constants['TCG_URL'],'sdkVersion':_0x4e2d17['OYqRT'](require,_0x4e2d17[_0x2b3962(0x19e)])[_0x2b3962(0x1a8)],'methodUsed':_0x4e2d17['tBbmA'],'proxyConfig':_0x3fd1ac,'os':os[_0x2b3962(0x15e)]()};utilities['fireFunnelTestEvent'](constants[_0x2b3962(0x18b)],_0x5c6fd8,this[_0x2b3962(0x187)],this[_0x2b3962(0x19d)]);}else{if(_0x68c372[_0x2b3962(0x215)]&&!_0x68c372['isHealingEnabled']&&_0xfc2166)logger[_0x2b3962(0x1d8)](_0x4e2d17[_0x2b3962(0x1df)]);else{if(_0x4e2d17['Awevj'](_0x68c372[_0x2b3962(0x1e2)],0xc8)&&_0x4e2d17['bwVPq'](_0x68c372[_0x2b3962(0x1e2)],0x12c))utilities[_0x2b3962(0x144)](constants['AI_INIT_SUCCESSFUL'],_0x36c281,this['config'],this[_0x2b3962(0x19d)]);else{if(_0x4e2d17['ZNiBv'](_0x68c372['status'],0x190))_0x36c281['status']=_0x68c372[_0x2b3962(0x1e2)],utilities['fireFunnelTestEvent'](constants[_0x2b3962(0x186)],_0x36c281,this[_0x2b3962(0x187)],this[_0x2b3962(0x19d)]);else!_0x68c372['status']&&utilities[_0x2b3962(0x144)](constants[_0x2b3962(0x211)],_0x36c281,this[_0x2b3962(0x187)],this[_0x2b3962(0x19d)]);}}}}}if(_0x68c372['isAuthenticated']&&_0x68c372[_0x2b3962(0x1d1)]){const _0x394964={};_0x394964[_0x2b3962(0x1e7)]=_0x68c372;const _0x263952=_0x394964;_0x3fd1ac&&(_0x263952[_0x2b3962(0x175)]=_0x3fd1ac),_0x263952['framework']=this[_0x2b3962(0x19d)],_0x263952['bstackConfig']=this['config'],helper[_0x2b3962(0x19b)](_0x263952),logger[_0x2b3962(0x16a)](_0x4e2d17[_0x2b3962(0x147)]);}}catch(_0x532e47){logger['debug'](_0x2b3962(0x148)+(_0x532e47[_0x2b3962(0x1ea)]?_0x532e47['message']:''));}});await _0x4e2d17[_0x3c49e5(0x1a4)](_0x11fef1);}[a55_0x5c4ad7(0x199)](){const _0x29b885=a55_0x5c4ad7,_0x5318b8={'HSzSD':function(_0x4ef7c5,_0x1ac16d){return _0x4ef7c5(_0x1ac16d);},'sxzUV':_0x29b885(0x157)};_0x5318b8['HSzSD'](require,_0x5318b8[_0x29b885(0x22e)])();}['handleExceptions'](){const _0xd1563d=a55_0x5c4ad7,_0x16183c={};_0x16183c['GqRqa']=_0xd1563d(0x14e),_0x16183c[_0xd1563d(0x1e8)]='uncaughtException';const _0x1108a9=_0x16183c,_0x42613d=_0x531f09=>{const _0x423ab2=_0xd1563d;logger[_0x423ab2(0x1e9)](_0x531f09[_0x423ab2(0x1ea)]),logger['debug'](util[_0x423ab2(0x1ab)](_0x531f09)),this[_0x423ab2(0x212)]['push'](util['format']('%j',_0x531f09)),PerformanceTester[_0x423ab2(0x1c6)](_0x531f09);};process['on'](_0x1108a9[_0xd1563d(0x1f0)],_0x42613d),process['on'](_0x1108a9['Plmou'],_0x42613d);}async[a55_0x5c4ad7(0x1ce)](_0x317ee0){const _0x5dfb64=a55_0x5c4ad7,_0x29c6eb={};_0x29c6eb[_0x5dfb64(0x1cd)]='1|3|4|2|0',_0x29c6eb[_0x5dfb64(0x190)]=function(_0x1110e0,_0x370ec){return _0x1110e0+_0x370ec;},_0x29c6eb[_0x5dfb64(0x14a)]=_0x5dfb64(0x1f3),_0x29c6eb[_0x5dfb64(0x21a)]='Shutdown\x20triggered\x20by\x20';const _0x187652=_0x29c6eb,_0x3e17cb=_0x187652[_0x5dfb64(0x1cd)][_0x5dfb64(0x1ad)]('|');let _0x574aac=0x0;while(!![]){switch(_0x3e17cb[_0x574aac++]){case'0':await TestHubHandler[_0x5dfb64(0x221)](_0x317ee0);continue;case'1':if(this[_0x187652[_0x5dfb64(0x190)](_0x187652[_0x5dfb64(0x14a)],_0x317ee0)])return;continue;case'2':this[_0x5dfb64(0x173)]=_0x317ee0;continue;case'3':this[_0x187652[_0x5dfb64(0x190)](_0x187652[_0x5dfb64(0x14a)],_0x317ee0)]=!![];continue;case'4':logger[_0x5dfb64(0x1d8)](_0x187652[_0x5dfb64(0x190)](_0x187652['CIpiH'],_0x317ee0));continue;}break;}}[a55_0x5c4ad7(0x17c)](){const _0x47a28e=a55_0x5c4ad7,_0x559c7f={'mspGv':function(_0x4843c1,_0x4050b2){return _0x4843c1===_0x4050b2;},'IClyQ':'Calling\x20Build\x20Stop\x20from\x20ExitHandler','cQyZa':function(_0x5d6150,_0x16b7be){return _0x5d6150>_0x16b7be;},'WIAAd':function(_0x52aa87,_0x121433){return _0x52aa87>_0x121433;},'FAYJa':function(_0x119708){return _0x119708();},'zsXhI':_0x47a28e(0x1a6)};let _0x3e64c2=0x0;return async()=>{const _0x7ef431=_0x47a28e;_0x3e64c2++;if(_0x559c7f[_0x7ef431(0x231)](_0x3e64c2,0x1)){helper[_0x7ef431(0x1eb)](this[_0x7ef431(0x19d)])&&await this['stopBrowserstackLocal']();try{logger[_0x7ef431(0x16a)](_0x559c7f[_0x7ef431(0x1da)]),await TestHubHandler[_0x7ef431(0x221)](_0x3e64c2);}catch(_0x57557f){logger[_0x7ef431(0x16a)](_0x7ef431(0x1de)+util[_0x7ef431(0x1ab)](_0x57557f));}PerformanceTester[_0x7ef431(0x22f)](PerformanceEvents[_0x7ef431(0x161)]);if(PerformanceTester['isEnabled']()){const {measures:_0x27d813,errors:_0x3ef188}=await PerformanceTester['finalize'](),_0x21ba66={};if(_0x27d813&&_0x559c7f[_0x7ef431(0x1fe)](_0x27d813[_0x7ef431(0x1ef)],0x0)||_0x3ef188&&_0x559c7f['WIAAd'](_0x3ef188[_0x7ef431(0x1ef)],0x0)){const _0x4f5487={};_0x4f5487[_0x7ef431(0x200)]=_0x27d813,_0x4f5487[_0x7ef431(0x17a)]=_0x3ef188,Object['assign'](_0x21ba66,_0x4f5487);}try{const _0x1efd25=await helper[_0x7ef431(0x1c2)](_0x21ba66,this[_0x7ef431(0x187)]);logger['debug']('Data\x20sent\x20successfully\x20to\x20'+constants['EDS_URL']+_0x7ef431(0x220)+_0x1efd25[_0x7ef431(0x17d)]);}catch(_0x36e0be){logger[_0x7ef431(0x16a)](_0x7ef431(0x214)+constants[_0x7ef431(0x223)]+_0x7ef431(0x1b5)+util['format'](_0x36e0be));}try{fs[_0x7ef431(0x195)](path[_0x7ef431(0x1d9)](_0x559c7f[_0x7ef431(0x233)](getLogDir),_0x559c7f[_0x7ef431(0x176)]),JSON[_0x7ef431(0x151)](_0x21ba66));}catch(_0x5d612c){logger[_0x7ef431(0x16a)]('Error\x20in\x20writing\x20events\x20to\x20file\x20'+_0x5d612c);}}}};}}exports[a55_0x5c4ad7(0x1b8)]=BrowserStackSetup;