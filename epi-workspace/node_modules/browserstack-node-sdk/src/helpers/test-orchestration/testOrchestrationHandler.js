const a123_0x1f2593=a123_0x2d76;(function(_0x394458,_0x187d1a){const _0x248981=a123_0x2d76,_0x58f15b=_0x394458();while(!![]){try{const _0x50902a=parseInt(_0x248981(0x1ec))/0x1+-parseInt(_0x248981(0x1c2))/0x2+parseInt(_0x248981(0x1de))/0x3+parseInt(_0x248981(0x1f3))/0x4*(-parseInt(_0x248981(0x1f7))/0x5)+-parseInt(_0x248981(0x1f8))/0x6*(parseInt(_0x248981(0x1c9))/0x7)+-parseInt(_0x248981(0x1c1))/0x8*(parseInt(_0x248981(0x1cc))/0x9)+-parseInt(_0x248981(0x20c))/0xa*(-parseInt(_0x248981(0x1d1))/0xb);if(_0x50902a===_0x187d1a)break;else _0x58f15b['push'](_0x58f15b['shift']());}catch(_0x30123e){_0x58f15b['push'](_0x58f15b['shift']());}}}(a123_0xf717,0x97be2));function a123_0xf717(){const _0x1ec37e=['totalNodes','13454936RvSCKO','env','findTestFiles','nIAuZ','downloadedTestFilesCount','micromatch','config','reorderTestFiles','split','--config','projectName','sWPpe','glob','694857cNDamL','testPathIgnorePatterns','splitTestsAPICallCount','HtEUZ','MdxNQ','ignore','getOrderedTestFiles','BROWSERSTACK_NODE_INDEX','Test\x20Reordering\x20is\x20unavailable\x20because\x20testObservability\x20is\x20disabled.\x20Please\x20enable\x20it\x20from\x20browserstack.yml\x20file.','RAQRA','Test\x20orchestration\x20with\x20test\x20ordering\x20enabled','npx','Error\x20finding\x20test\x20files:\x20','**/?(*.)+(spec|test).[jt]s?(x)','857850kUWnRV','jCuiK','jest','Filterted\x20to\x20test\x20files:\x20','sUaCD','leAxU','BROWSERSTACK_TOTAL_NODE_COUNT','457532lyJbNE','AuHSu','error','**/__tests__/**/*.[jt]s?(x)','25xyAijt','37866YaPjfM','zUOvM','FtRnm','orderingInstrumentationData','--listTests','SlHQR','BuiDb','jest-util','ixTDI','applied','OwUmU','utf-8','winstonLogger','_initializeTestOrdering','zVVJG','CMRgf','testOrderingServerHandler','iueGM','info','sosPj','20KgwjGJ','orchestrationUtils','getSplitTestsAPICallCount','addToOrderingInstrumentationData','isTestOrderingApplied','buildIdentifier','../logger','map','path','pGMqq','matchBase','bBLsz','../helper','5|1|2|3|4|0','PQabw','jest-runner','filter','debug','stdout','buildName','tMflp','stack','relative','length','MrhmW','uploadedTestFilesCount','child_process','[orchestrate]\x20Setting\x20buildIdentifier\x20to\x20buildRunIdentifier:\x20','amUzU','nodeIndex','sBDty','testObservability','UUbSb','./testOrderingServerHandler','NRTBU','XacAQ','yGIFu','testOrderingApplied','updateBuildIdentifier','kkooU','9152648ohYICT','1954804KLcokX','isArray','isTestOrchestrationEnabled','[reorderTestFiles]\x20Test\x20ordering\x20is\x20not\x20supported\x20or\x20enabled','jest-config','ZLLhW','SVBQd','245Cdogwm','setTestOrderingApplied','getOrderingInstrumentationData','9zhyuGB','testOrderingEnabled','BROWSERSTACK_BUILD_RUN_IDENTIFIER','xJiQl'];a123_0xf717=function(){return _0x1ec37e;};return a123_0xf717();}const logger=require(a123_0x1f2593(0x212))[a123_0x1f2593(0x204)],{isUndefined,isNotUndefined,isTrueString,sanitizedFilePath}=require(a123_0x1f2593(0x218)),TestOrderingServerHandler=require(a123_0x1f2593(0x1ba)),OrchestrationUtils=require('./orchestrationUtils'),path=require(a123_0x1f2593(0x214)),{spawnSync}=require(a123_0x1f2593(0x1b3)),micromatch=require(a123_0x1f2593(0x1d6)),fs=require('fs');function a123_0x2d76(_0x219eb1,_0x339da7){const _0xf71705=a123_0xf717();return a123_0x2d76=function(_0x2d7673,_0x4fc6d4){_0x2d7673=_0x2d7673-0x1ad;let _0x35f48f=_0xf71705[_0x2d7673];return _0x35f48f;},a123_0x2d76(_0x219eb1,_0x339da7);}class TestOrchestrationHandler{constructor(_0xf1a6b1){const _0x7c58a7=a123_0x1f2593,_0x593c02={};_0x593c02[_0x7c58a7(0x207)]=_0x7c58a7(0x219);const _0x95945b=_0x593c02,_0x5f5bd0=_0x95945b[_0x7c58a7(0x207)][_0x7c58a7(0x1d9)]('|');let _0x55e9f8=0x0;while(!![]){switch(_0x5f5bd0[_0x55e9f8++]){case'0':this['_initializeTestOrdering']();continue;case'1':this['orderingInstrumentationData']={};continue;case'2':this['testOrderingApplied']=![];continue;case'3':this[_0x7c58a7(0x208)]=null;continue;case'4':this[_0x7c58a7(0x20d)]=new OrchestrationUtils(_0xf1a6b1);continue;case'5':this[_0x7c58a7(0x1d7)]=_0xf1a6b1;continue;}break;}}[a123_0x1f2593(0x1c4)](){const _0x3b35b6=a123_0x1f2593,_0x141509={'sUaCD':function(_0x4cc410,_0x2b6671){return _0x4cc410(_0x2b6671);},'BuiDb':function(_0x3f15a2,_0x5a80ed){return _0x3f15a2(_0x5a80ed);},'derUj':function(_0x258e61,_0x57aa74){return _0x258e61(_0x57aa74);},'sosPj':function(_0x4edfa0,_0x43c253){return _0x4edfa0(_0x43c253);},'xJiQl':function(_0x26e55e,_0x533240){return _0x26e55e&&_0x533240;}},_0x348270=_0x141509['sUaCD'](isNotUndefined,this[_0x3b35b6(0x1d7)])&&(_0x141509['BuiDb'](isUndefined,this[_0x3b35b6(0x1d7)][_0x3b35b6(0x1b8)])||_0x141509[_0x3b35b6(0x1f0)](isTrueString,this[_0x3b35b6(0x1d7)][_0x3b35b6(0x1b8)])),_0x4fe7ff=this[_0x3b35b6(0x20d)][_0x3b35b6(0x1cd)](),_0x1f1d62=_0x141509[_0x3b35b6(0x1fe)](isNotUndefined,this[_0x3b35b6(0x1d7)])&&_0x141509[_0x3b35b6(0x1f0)](isNotUndefined,this['config'][_0x3b35b6(0x1db)]),_0x2e679b=_0x141509['derUj'](isNotUndefined,this[_0x3b35b6(0x1d7)])&&_0x141509[_0x3b35b6(0x20b)](isNotUndefined,this[_0x3b35b6(0x1d7)]['buildName']);return _0x141509[_0x3b35b6(0x1cf)](_0x348270,_0x4fe7ff)&&_0x1f1d62&&_0x2e679b;}[a123_0x1f2593(0x205)](){const _0x29d4fc=a123_0x1f2593,_0x4c9fd8={};_0x4c9fd8[_0x29d4fc(0x1bd)]=_0x29d4fc(0x1e8),_0x4c9fd8[_0x29d4fc(0x1b1)]='Test\x20orchestration\x20without\x20test\x20ordering';const _0x5225c1=_0x4c9fd8;this[_0x29d4fc(0x1c4)]()?(this[_0x29d4fc(0x208)]=new TestOrderingServerHandler(this[_0x29d4fc(0x1d7)]),logger['info'](_0x5225c1[_0x29d4fc(0x1bd)])):(logger[_0x29d4fc(0x21d)](_0x5225c1[_0x29d4fc(0x1b1)]),this['logTestOrderingChecks']());}['logTestOrderingChecks'](){const _0x5634b7=a123_0x1f2593,_0x449716={'sBDty':function(_0x11fafd,_0x35ecba){return _0x11fafd(_0x35ecba);},'nIAuZ':function(_0x430ad2,_0x2fa3e0){return _0x430ad2(_0x2fa3e0);},'SVBQd':function(_0x5a8401,_0x44699f){return _0x5a8401(_0x44699f);},'OwUmU':'Test\x20Reordering\x20is\x20unavailable\x20because\x20buildName\x20or\x20projectName\x20is\x20null.\x20Please\x20set\x20a\x20non-null\x20value.','HtEUZ':function(_0x37bc55,_0x369b7f){return _0x37bc55(_0x369b7f);},'cDHTS':function(_0x2a34f8,_0x526d1e){return _0x2a34f8(_0x526d1e);},'RAQRA':_0x5634b7(0x1e6)};if(!this['_shouldLogTestOrderingChecks']())return;(!_0x449716[_0x5634b7(0x1b7)](isNotUndefined,this[_0x5634b7(0x1d7)])||!_0x449716[_0x5634b7(0x1d4)](isNotUndefined,this[_0x5634b7(0x1d7)][_0x5634b7(0x21f)])||!_0x449716[_0x5634b7(0x1c8)](isNotUndefined,this[_0x5634b7(0x1d7)]['projectName']))&&logger[_0x5634b7(0x20a)](_0x449716[_0x5634b7(0x202)]),_0x449716[_0x5634b7(0x1e1)](isNotUndefined,this['config'])&&_0x449716[_0x5634b7(0x1c8)](isNotUndefined,this[_0x5634b7(0x1d7)][_0x5634b7(0x1b8)])&&!_0x449716['cDHTS'](isTrueString,this[_0x5634b7(0x1d7)][_0x5634b7(0x1b8)])&&logger[_0x5634b7(0x20a)](_0x449716[_0x5634b7(0x1e7)]);}['_shouldLogTestOrderingChecks'](){const _0x486efe=a123_0x1f2593;return!this['isTestOrchestrationEnabled']()&&this[_0x486efe(0x20d)]['testOrderingEnabled']();}[a123_0x1f2593(0x210)](){return this['testOrderingApplied'];}[a123_0x1f2593(0x1ca)](_0x4150fe){const _0x3b06a1=a123_0x1f2593,_0x236a5f={};_0x236a5f[_0x3b06a1(0x217)]=_0x3b06a1(0x201);const _0x5e8f2c=_0x236a5f;this[_0x3b06a1(0x1be)]=_0x4150fe,this[_0x3b06a1(0x20f)](_0x5e8f2c[_0x3b06a1(0x217)],_0x4150fe);}['addToOrderingInstrumentationData'](_0x1eb343,_0x1bd426){this['orderingInstrumentationData'][_0x1eb343]=_0x1bd426;}[a123_0x1f2593(0x1cb)](){const _0x37cbd0=a123_0x1f2593;return this[_0x37cbd0(0x1fb)];}[a123_0x1f2593(0x1bf)](){const _0x1fa860=a123_0x1f2593,_0x2800b3={'amUzU':function(_0x4724a6,_0x172349){return _0x4724a6(_0x172349);},'AuHSu':function(_0x275a25,_0x29734c){return _0x275a25>_0x29734c;}},_0x2c2be2=_0x2800b3[_0x1fa860(0x1b5)](parseInt,process[_0x1fa860(0x1d2)][_0x1fa860(0x1f2)]||'1'),_0x174186=process[_0x1fa860(0x1d2)][_0x1fa860(0x1ce)];_0x174186&&_0x2800b3[_0x1fa860(0x1f4)](_0x2c2be2,0x1)&&(logger[_0x1fa860(0x21d)](_0x1fa860(0x1b4)+_0x174186),this[_0x1fa860(0x1d7)][_0x1fa860(0x211)]=_0x174186);}async[a123_0x1f2593(0x1d8)](_0x2e7c52){const _0x47542e=a123_0x1f2593,_0x45ef5b={'ZLLhW':function(_0x288342,_0x391592){return _0x288342===_0x391592;},'tMflp':_0x47542e(0x1c5),'FtRnm':function(_0x34e2a0,_0x54dd55){return _0x34e2a0===_0x54dd55;},'zVVJG':function(_0xb315d4,_0xa9e694){return _0xb315d4(_0xa9e694);},'MdxNQ':_0x47542e(0x1b2),'oFsZG':_0x47542e(0x1b6),'tggIC':_0x47542e(0x1d0),'SlHQR':_0x47542e(0x1d5),'leAxU':_0x47542e(0x1e0)};try{if(!_0x2e7c52||!Array[_0x47542e(0x1c3)](_0x2e7c52)||_0x45ef5b[_0x47542e(0x1c7)](_0x2e7c52['length'],0x0))return null;if(_0x45ef5b[_0x47542e(0x1c7)](this[_0x47542e(0x1c4)](),![]))return logger[_0x47542e(0x21d)](_0x45ef5b[_0x47542e(0x1ad)]),null;let _0x5dbf1a=null;const _0x1d49a4=this[_0x47542e(0x20d)]['getTestOrderingName']();if(this[_0x47542e(0x208)]){const _0x5366d2=await this[_0x47542e(0x208)]['splitTests'](_0x2e7c52,_0x1d49a4);if(!_0x5366d2)return null;_0x5dbf1a=await this['testOrderingServerHandler'][_0x47542e(0x1e4)](_0x5366d2);}if(!_0x5dbf1a||!Array[_0x47542e(0x1c3)](_0x5dbf1a)||_0x45ef5b[_0x47542e(0x1fa)](_0x5dbf1a[_0x47542e(0x1b0)],0x0))return null;const _0x7b0a17=_0x45ef5b[_0x47542e(0x206)](parseInt,process[_0x47542e(0x1d2)][_0x47542e(0x1e5)]||'0'),_0x52a84b=_0x45ef5b[_0x47542e(0x206)](parseInt,process[_0x47542e(0x1d2)][_0x47542e(0x1f2)]||'1');return this['addToOrderingInstrumentationData'](_0x45ef5b[_0x47542e(0x1e2)],_0x2e7c52[_0x47542e(0x1b0)]),this['addToOrderingInstrumentationData'](_0x45ef5b['oFsZG'],_0x7b0a17),this['addToOrderingInstrumentationData'](_0x45ef5b['tggIC'],_0x52a84b),this[_0x47542e(0x20f)](_0x45ef5b[_0x47542e(0x1fd)],_0x5dbf1a[_0x47542e(0x1b0)]),this[_0x47542e(0x20f)](_0x45ef5b[_0x47542e(0x1f1)],this[_0x47542e(0x208)]?this['testOrderingServerHandler'][_0x47542e(0x20e)]():0x0),_0x5dbf1a['map'](_0x406791=>sanitizedFilePath(_0x406791));}catch(_0x6dbe84){return logger[_0x47542e(0x21d)]('[reorderTestFiles]\x20Error\x20in\x20ordering\x20test\x20files:\x20'+(_0x6dbe84[_0x47542e(0x1ae)]||_0x6dbe84['toString']())),null;}}async[a123_0x1f2593(0x1d3)](_0x632c80,_0x3c5c76,_0x4d7354){const _0x764d5d=a123_0x1f2593,_0x20c09e={'kkooU':function(_0x19e7f3,_0x3d4513){return _0x19e7f3(_0x3d4513);},'NRTBU':_0x764d5d(0x1c6),'sWPpe':function(_0x41841e,_0x230767){return _0x41841e(_0x230767);},'jCuiK':_0x764d5d(0x1ff),'EuVPo':_0x764d5d(0x21b),'vZkut':function(_0x5cff81,_0x2125c0){return _0x5cff81(_0x2125c0);},'PQabw':_0x764d5d(0x1dd),'XacAQ':_0x764d5d(0x1f6),'iueGM':_0x764d5d(0x1eb),'UUbSb':function(_0x247947,_0x55615e,_0x43dedf,_0x26dfbe){return _0x247947(_0x55615e,_0x43dedf,_0x26dfbe);},'ixTDI':_0x764d5d(0x1e9),'oOukd':_0x764d5d(0x1ee),'GZOBC':_0x764d5d(0x1da),'pGMqq':_0x764d5d(0x1fc),'zUOvM':_0x764d5d(0x203)};try{const {getTestPathPatterns:_0x4b91bd}=_0x20c09e['kkooU'](require,_0x20c09e[_0x764d5d(0x1bb)]),{globsToMatcher:_0x4230ae}=_0x20c09e[_0x764d5d(0x1dc)](require,_0x20c09e[_0x764d5d(0x1ed)]),{findRelatedTests:_0x4c6f4a}=_0x20c09e[_0x764d5d(0x1c0)](require,_0x20c09e['EuVPo']),_0x58828f=_0x20c09e['vZkut'](require,_0x20c09e[_0x764d5d(0x21a)]),_0x10ecae=_0x632c80['testMatch']||[_0x20c09e[_0x764d5d(0x1bc)],_0x20c09e[_0x764d5d(0x209)]],_0x4820b7=_0x632c80[_0x764d5d(0x1df)]||[],_0x327ee1=_0x20c09e[_0x764d5d(0x1b9)](spawnSync,_0x20c09e[_0x764d5d(0x200)],[_0x20c09e['oOukd'],_0x20c09e['GZOBC'],_0x4d7354,..._0x3c5c76,_0x20c09e[_0x764d5d(0x215)]],{'encoding':_0x20c09e[_0x764d5d(0x1f9)]});let _0x29d6f1=[];!_0x327ee1[_0x764d5d(0x1f5)]&&(_0x29d6f1=_0x327ee1[_0x764d5d(0x21e)][_0x764d5d(0x1d9)]('\x0a')[_0x764d5d(0x21c)](Boolean));logger[_0x764d5d(0x21d)]('Found\x20test\x20files:\x20'+JSON['stringify'](_0x29d6f1)+'\x20files');const _0x30a196={};_0x30a196[_0x764d5d(0x216)]=!![],_0x30a196[_0x764d5d(0x1e3)]=_0x4820b7;const _0x3a1b30=_0x20c09e['UUbSb'](micromatch,_0x29d6f1,_0x10ecae,_0x30a196)[_0x764d5d(0x213)](_0x27dae3=>path[_0x764d5d(0x1af)](_0x632c80['rootDir'],_0x27dae3));return logger['debug'](_0x764d5d(0x1ef)+JSON['stringify'](_0x3a1b30)+'\x20files'),_0x3a1b30;}catch(_0x3790f3){return logger[_0x764d5d(0x21d)](_0x764d5d(0x1ea)+_0x3790f3),[];}}}module['exports']=TestOrchestrationHandler;