const a133_0x7307bd=a133_0x348a;function a133_0x5bdd(){const _0x10a8b2=['map','5|2|4|0|1|3','getTestOrderingName','wdLat','totalNodes','kkkNs','KZLot','Test\x20orchestration\x20without\x20test\x20ordering','WDqyx','qIkhN','**/__tests__/**/*.[jt]s?(x)','testOrderingEnabled','testOrderingApplied','buHoT','../helper','npx','winstonLogger','addToOrderingInstrumentationData','67tchUEh','_shouldLogTestOrderingChecks','PYzGw','relative','setTestOrderingApplied','getOrderingInstrumentationData','--config','DDbmn','jest-util','findTestFiles','isTestOrchestrationEnabled','path','upzNP','HPeaj','cNZmF','glob','997182TNDcfd','micromatch','EFYYB','toString','Test\x20Reordering\x20is\x20unavailable\x20because\x20testReporting\x20is\x20disabled.\x20Please\x20enable\x20it\x20from\x20browserstack.yml\x20file.','355959kYWKdi','Error\x20finding\x20test\x20files:\x20','stringify','rootDir','split','fHtqU','GwOkg','env','projectName','downloadedTestFilesCount','child_process','_initializeTestOrdering','yAZXu','Test\x20orchestration\x20with\x20test\x20ordering\x20enabled','ignore','Sfqoh','./testOrderingServerHandler','orchestrationUtils','updateBuildIdentifier','filter','info','applied','uploadedTestFilesCount','aVntb','logTestOrderingChecks','**/?(*.)+(spec|test).[jt]s?(x)','orderingInstrumentationData','testOrderingServerHandler','ZGHwQ','jest-runner','buildName','202605qpKKTh','ecbWt','WmTGx','3545787RJDOkJ','matchBase','Found\x20test\x20files:\x20','nfVYE','4836344SxWccZ','getSplitTestsAPICallCount','BROWSERSTACK_NODE_INDEX','CBPpF','length','2140038gjIdda','EdwUB','stdout','jest','reorderTestFiles','buildIdentifier','nodeIndex','LeXhO','stack','wXReg','./orchestrationUtils','utf-8','GAwAJ','kEBxN','yDXaO','../logger','debug','16lsYBbd','Filterted\x20to\x20test\x20files:\x20','isTestOrderingApplied','Qnlql','elOZm','config','ZfbPj','jest-config','18188gZWMmR','BROWSERSTACK_TOTAL_NODE_COUNT','testObservability','isArray','error'];a133_0x5bdd=function(){return _0x10a8b2;};return a133_0x5bdd();}(function(_0x3e7b5c,_0xbd5e20){const _0x1ac851=a133_0x348a,_0x1c9ae3=_0x3e7b5c();while(!![]){try{const _0x5cbb81=parseInt(_0x1ac851(0x1db))/0x1*(parseInt(_0x1ac851(0x1c4))/0x2)+-parseInt(_0x1ac851(0x1f0))/0x3*(parseInt(_0x1ac851(0x1bc))/0x4)+parseInt(_0x1ac851(0x20f))/0x5+-parseInt(_0x1ac851(0x1eb))/0x6+-parseInt(_0x1ac851(0x212))/0x7+parseInt(_0x1ac851(0x216))/0x8+parseInt(_0x1ac851(0x21b))/0x9;if(_0x5cbb81===_0xbd5e20)break;else _0x1c9ae3['push'](_0x1c9ae3['shift']());}catch(_0x1ea614){_0x1c9ae3['push'](_0x1c9ae3['shift']());}}}(a133_0x5bdd,0x542da));function a133_0x348a(_0x1725de,_0x5b1c66){const _0x5bdd02=a133_0x5bdd();return a133_0x348a=function(_0x348a42,_0x3de130){_0x348a42=_0x348a42-0x1b1;let _0x81da52=_0x5bdd02[_0x348a42];return _0x81da52;},a133_0x348a(_0x1725de,_0x5b1c66);}const logger=require(a133_0x7307bd(0x1ba))[a133_0x7307bd(0x1d9)],{isUndefined,isNotUndefined,isTrueString,sanitizedFilePath}=require(a133_0x7307bd(0x1d7)),TestOrderingServerHandler=require(a133_0x7307bd(0x200)),OrchestrationUtils=require(a133_0x7307bd(0x1b5)),path=require(a133_0x7307bd(0x1e6)),{spawnSync}=require(a133_0x7307bd(0x1fa)),micromatch=require(a133_0x7307bd(0x1ec)),fs=require('fs');class TestOrchestrationHandler{constructor(_0x8c2e3b){const _0x182bc2=a133_0x7307bd,_0x562076={};_0x562076[_0x182bc2(0x1ed)]=_0x182bc2(0x1ca);const _0x47f315=_0x562076,_0x283b33=_0x47f315[_0x182bc2(0x1ed)][_0x182bc2(0x1f4)]('|');let _0x495248=0x0;while(!![]){switch(_0x283b33[_0x495248++]){case'0':this[_0x182bc2(0x20b)]=null;continue;case'1':this[_0x182bc2(0x201)]=new OrchestrationUtils(_0x8c2e3b);continue;case'2':this[_0x182bc2(0x20a)]={};continue;case'3':this[_0x182bc2(0x1fb)]();continue;case'4':this[_0x182bc2(0x1d5)]=![];continue;case'5':this[_0x182bc2(0x1c1)]=_0x8c2e3b;continue;}break;}}[a133_0x7307bd(0x1e5)](){const _0xf1f69f=a133_0x7307bd,_0x3006df={'Qnlql':function(_0xd7f320,_0x6f36b){return _0xd7f320(_0x6f36b);},'EdwUB':function(_0x37aa84,_0x5b464b){return _0x37aa84(_0x5b464b);},'CBPpF':function(_0x5478d8,_0x51db1b){return _0x5478d8(_0x51db1b);},'fHtqU':function(_0x59549c,_0xcd6bfe){return _0x59549c&&_0xcd6bfe;}},_0x105ef8=_0x3006df[_0xf1f69f(0x1bf)](isNotUndefined,this[_0xf1f69f(0x1c1)])&&(_0x3006df['EdwUB'](isUndefined,this['config'][_0xf1f69f(0x1c6)])||_0x3006df[_0xf1f69f(0x21c)](isTrueString,this[_0xf1f69f(0x1c1)][_0xf1f69f(0x1c6)])),_0x352bd6=this[_0xf1f69f(0x201)][_0xf1f69f(0x1d4)](),_0x4080ad=_0x3006df[_0xf1f69f(0x1bf)](isNotUndefined,this['config'])&&_0x3006df['Qnlql'](isNotUndefined,this[_0xf1f69f(0x1c1)][_0xf1f69f(0x1f8)]),_0x4e066f=_0x3006df[_0xf1f69f(0x1bf)](isNotUndefined,this['config'])&&_0x3006df[_0xf1f69f(0x219)](isNotUndefined,this[_0xf1f69f(0x1c1)]['buildName']);return _0x3006df[_0xf1f69f(0x1f5)](_0x105ef8,_0x352bd6)&&_0x4080ad&&_0x4e066f;}[a133_0x7307bd(0x1fb)](){const _0x1a1097=a133_0x7307bd,_0x581f45={};_0x581f45[_0x1a1097(0x20c)]=_0x1a1097(0x1fd),_0x581f45[_0x1a1097(0x1e7)]=_0x1a1097(0x1d0);const _0x114bd9=_0x581f45;this['isTestOrchestrationEnabled']()?(this['testOrderingServerHandler']=new TestOrderingServerHandler(this[_0x1a1097(0x1c1)]),logger[_0x1a1097(0x204)](_0x114bd9[_0x1a1097(0x20c)])):(logger[_0x1a1097(0x1bb)](_0x114bd9[_0x1a1097(0x1e7)]),this[_0x1a1097(0x208)]());}[a133_0x7307bd(0x208)](){const _0x380767=a133_0x7307bd,_0x3a5cc5={'yDXaO':function(_0x2defda,_0x381e01){return _0x2defda(_0x381e01);},'ecbWt':function(_0x3b746e,_0x491c00){return _0x3b746e(_0x491c00);},'WmTGx':'Test\x20Reordering\x20is\x20unavailable\x20because\x20buildName\x20or\x20projectName\x20is\x20null.\x20Please\x20set\x20a\x20non-null\x20value.','LeXhO':function(_0x2c57ca,_0xe05345){return _0x2c57ca(_0xe05345);},'PYzGw':_0x380767(0x1ef)};if(!this[_0x380767(0x1dc)]())return;(!_0x3a5cc5['yDXaO'](isNotUndefined,this[_0x380767(0x1c1)])||!_0x3a5cc5[_0x380767(0x210)](isNotUndefined,this['config'][_0x380767(0x20e)])||!_0x3a5cc5[_0x380767(0x210)](isNotUndefined,this[_0x380767(0x1c1)][_0x380767(0x1f8)]))&&logger[_0x380767(0x204)](_0x3a5cc5[_0x380767(0x211)]),_0x3a5cc5[_0x380767(0x1b9)](isNotUndefined,this['config'])&&_0x3a5cc5[_0x380767(0x210)](isNotUndefined,this[_0x380767(0x1c1)][_0x380767(0x1c6)])&&!_0x3a5cc5[_0x380767(0x1b2)](isTrueString,this[_0x380767(0x1c1)][_0x380767(0x1c6)])&&logger[_0x380767(0x204)](_0x3a5cc5[_0x380767(0x1dd)]);}[a133_0x7307bd(0x1dc)](){const _0x34c6ca=a133_0x7307bd;return!this[_0x34c6ca(0x1e5)]()&&this[_0x34c6ca(0x201)]['testOrderingEnabled']();}[a133_0x7307bd(0x1be)](){const _0x463eb5=a133_0x7307bd;return this[_0x463eb5(0x1d5)];}[a133_0x7307bd(0x1df)](_0x26ce1f){const _0x43b419=a133_0x7307bd,_0x1b373e={};_0x1b373e[_0x43b419(0x1d6)]=_0x43b419(0x205);const _0x2a1d6d=_0x1b373e;this[_0x43b419(0x1d5)]=_0x26ce1f,this[_0x43b419(0x1da)](_0x2a1d6d['buHoT'],_0x26ce1f);}[a133_0x7307bd(0x1da)](_0xc70725,_0x23fe10){this['orderingInstrumentationData'][_0xc70725]=_0x23fe10;}[a133_0x7307bd(0x1e0)](){const _0x17b205=a133_0x7307bd;return this[_0x17b205(0x20a)];}[a133_0x7307bd(0x202)](){const _0x1e4b88=a133_0x7307bd,_0x5aedd4={'yAZXu':function(_0x56f592,_0x493a2a){return _0x56f592(_0x493a2a);},'xvvPr':function(_0x4a3026,_0x292dcf){return _0x4a3026>_0x292dcf;}},_0x1bb87e=_0x5aedd4[_0x1e4b88(0x1fc)](parseInt,process['env'][_0x1e4b88(0x1c5)]||'1'),_0x3e315e=process[_0x1e4b88(0x1f7)]['BROWSERSTACK_BUILD_RUN_IDENTIFIER'];_0x3e315e&&_0x5aedd4['xvvPr'](_0x1bb87e,0x1)&&(logger[_0x1e4b88(0x1bb)]('[orchestrate]\x20Setting\x20buildIdentifier\x20to\x20buildRunIdentifier:\x20'+_0x3e315e),this[_0x1e4b88(0x1c1)][_0x1e4b88(0x220)]=_0x3e315e);}async[a133_0x7307bd(0x21f)](_0x30643c){const _0x72e3f0=a133_0x7307bd,_0x26ecf9={'cNZmF':function(_0x552632,_0x4c340c){return _0x552632===_0x4c340c;},'qMoRj':'[reorderTestFiles]\x20Test\x20ordering\x20is\x20not\x20supported\x20or\x20enabled','AiwiS':function(_0x5d8c43,_0x1129ae){return _0x5d8c43(_0x1129ae);},'wXReg':function(_0x45ac2c,_0x71b342){return _0x45ac2c(_0x71b342);},'ngAQP':_0x72e3f0(0x206),'kkkNs':_0x72e3f0(0x1b1),'CQDFr':_0x72e3f0(0x1cd),'Sfqoh':_0x72e3f0(0x1f9),'GwOkg':'splitTestsAPICallCount'};try{if(!_0x30643c||!Array[_0x72e3f0(0x1c7)](_0x30643c)||_0x26ecf9[_0x72e3f0(0x1e9)](_0x30643c[_0x72e3f0(0x21a)],0x0))return null;if(_0x26ecf9[_0x72e3f0(0x1e9)](this[_0x72e3f0(0x1e5)](),![]))return logger[_0x72e3f0(0x1bb)](_0x26ecf9['qMoRj']),null;let _0x131834=null;const _0x1d68d6=this[_0x72e3f0(0x201)][_0x72e3f0(0x1cb)]();if(this['testOrderingServerHandler']){const _0x634a3a=await this[_0x72e3f0(0x20b)]['splitTests'](_0x30643c,_0x1d68d6);if(!_0x634a3a)return null;_0x131834=await this[_0x72e3f0(0x20b)]['getOrderedTestFiles'](_0x634a3a);}if(!_0x131834||!Array[_0x72e3f0(0x1c7)](_0x131834)||_0x26ecf9[_0x72e3f0(0x1e9)](_0x131834[_0x72e3f0(0x21a)],0x0))return null;const _0x1c6b61=_0x26ecf9['AiwiS'](parseInt,process['env'][_0x72e3f0(0x218)]||'0'),_0x496811=_0x26ecf9[_0x72e3f0(0x1b4)](parseInt,process['env']['BROWSERSTACK_TOTAL_NODE_COUNT']||'1');return this[_0x72e3f0(0x1da)](_0x26ecf9['ngAQP'],_0x30643c[_0x72e3f0(0x21a)]),this['addToOrderingInstrumentationData'](_0x26ecf9[_0x72e3f0(0x1ce)],_0x1c6b61),this[_0x72e3f0(0x1da)](_0x26ecf9['CQDFr'],_0x496811),this[_0x72e3f0(0x1da)](_0x26ecf9[_0x72e3f0(0x1ff)],_0x131834[_0x72e3f0(0x21a)]),this['addToOrderingInstrumentationData'](_0x26ecf9[_0x72e3f0(0x1f6)],this[_0x72e3f0(0x20b)]?this[_0x72e3f0(0x20b)][_0x72e3f0(0x217)]():0x0),_0x131834['map'](_0x124e3b=>sanitizedFilePath(_0x124e3b));}catch(_0x3fd45d){return logger[_0x72e3f0(0x1bb)]('[reorderTestFiles]\x20Error\x20in\x20ordering\x20test\x20files:\x20'+(_0x3fd45d[_0x72e3f0(0x1b3)]||_0x3fd45d[_0x72e3f0(0x1ee)]())),null;}}async[a133_0x7307bd(0x1e4)](_0x55bf62,_0x3af116,_0x4d22fb){const _0x45cbac=a133_0x7307bd,_0x593c4c={'DDbmn':function(_0x480b43,_0x11486a){return _0x480b43(_0x11486a);},'qIkhN':_0x45cbac(0x1c3),'aVntb':_0x45cbac(0x1e3),'wdLat':function(_0x4d5754,_0x3ba459){return _0x4d5754(_0x3ba459);},'WDqyx':_0x45cbac(0x20d),'nfVYE':_0x45cbac(0x1ea),'uoSMi':_0x45cbac(0x1d3),'GAwAJ':_0x45cbac(0x209),'kEBxN':function(_0x50e213,_0x86f9b,_0x5a0a09,_0x14aef6){return _0x50e213(_0x86f9b,_0x5a0a09,_0x14aef6);},'HPeaj':_0x45cbac(0x1d8),'elOZm':_0x45cbac(0x21e),'KZLot':_0x45cbac(0x1e1),'ypvDC':'--listTests','gChnl':_0x45cbac(0x1b6),'ZfbPj':function(_0x2e45e0,_0x3ff51b,_0x377d3d,_0x398985){return _0x2e45e0(_0x3ff51b,_0x377d3d,_0x398985);}};try{const {getTestPathPatterns:_0x3f0b40}=_0x593c4c[_0x45cbac(0x1e2)](require,_0x593c4c[_0x45cbac(0x1d2)]),{globsToMatcher:_0x550dd1}=_0x593c4c[_0x45cbac(0x1e2)](require,_0x593c4c[_0x45cbac(0x207)]),{findRelatedTests:_0x23848e}=_0x593c4c[_0x45cbac(0x1cc)](require,_0x593c4c[_0x45cbac(0x1d1)]),_0x38dc50=_0x593c4c[_0x45cbac(0x1cc)](require,_0x593c4c[_0x45cbac(0x215)]),_0x5eeff1=_0x55bf62['testMatch']||[_0x593c4c['uoSMi'],_0x593c4c[_0x45cbac(0x1b7)]],_0x10aad2=_0x55bf62['testPathIgnorePatterns']||[],_0x1a9302=_0x593c4c[_0x45cbac(0x1b8)](spawnSync,_0x593c4c[_0x45cbac(0x1e8)],[_0x593c4c[_0x45cbac(0x1c0)],_0x593c4c[_0x45cbac(0x1cf)],_0x4d22fb,..._0x3af116,_0x593c4c['ypvDC']],{'encoding':_0x593c4c['gChnl']});let _0x3d91e2=[];!_0x1a9302[_0x45cbac(0x1c8)]&&(_0x3d91e2=_0x1a9302[_0x45cbac(0x21d)]['split']('\x0a')[_0x45cbac(0x203)](Boolean));logger[_0x45cbac(0x1bb)](_0x45cbac(0x214)+JSON[_0x45cbac(0x1f2)](_0x3d91e2)+'\x20files');const _0x262247={};_0x262247[_0x45cbac(0x213)]=!![],_0x262247[_0x45cbac(0x1fe)]=_0x10aad2;const _0x53b956=_0x593c4c[_0x45cbac(0x1c2)](micromatch,_0x3d91e2,_0x5eeff1,_0x262247)[_0x45cbac(0x1c9)](_0x418787=>path[_0x45cbac(0x1de)](_0x55bf62[_0x45cbac(0x1f3)],_0x418787));return logger[_0x45cbac(0x1bb)](_0x45cbac(0x1bd)+JSON[_0x45cbac(0x1f2)](_0x53b956)+'\x20files'),_0x53b956;}catch(_0x997a60){return logger['debug'](_0x45cbac(0x1f1)+_0x997a60),[];}}}module['exports']=TestOrchestrationHandler;