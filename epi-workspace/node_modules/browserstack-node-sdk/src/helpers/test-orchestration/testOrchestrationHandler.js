const a133_0x4fc532=a133_0x3c19;(function(_0x1b7da3,_0x579466){const _0x34d3a3=a133_0x3c19,_0x43f9c6=_0x1b7da3();while(!![]){try{const _0x2f54a4=parseInt(_0x34d3a3(0x1f3))/0x1*(parseInt(_0x34d3a3(0x20d))/0x2)+parseInt(_0x34d3a3(0x22a))/0x3+-parseInt(_0x34d3a3(0x1fb))/0x4*(parseInt(_0x34d3a3(0x1eb))/0x5)+parseInt(_0x34d3a3(0x234))/0x6+-parseInt(_0x34d3a3(0x1ff))/0x7*(parseInt(_0x34d3a3(0x23d))/0x8)+parseInt(_0x34d3a3(0x228))/0x9+-parseInt(_0x34d3a3(0x245))/0xa*(-parseInt(_0x34d3a3(0x23c))/0xb);if(_0x2f54a4===_0x579466)break;else _0x43f9c6['push'](_0x43f9c6['shift']());}catch(_0x556fee){_0x43f9c6['push'](_0x43f9c6['shift']());}}}(a133_0x12a7,0xa4c6c));function a133_0x3c19(_0x1a01d5,_0x4f7c7e){const _0x12a735=a133_0x12a7();return a133_0x3c19=function(_0x3c1940,_0x2e8edd){_0x3c1940=_0x3c1940-0x1e3;let _0x5a9c01=_0x12a735[_0x3c1940];return _0x5a9c01;},a133_0x3c19(_0x1a01d5,_0x4f7c7e);}const logger=require(a133_0x4fc532(0x21c))[a133_0x4fc532(0x249)],{isUndefined,isNotUndefined,isTrueString,sanitizedFilePath}=require(a133_0x4fc532(0x20a)),TestOrderingServerHandler=require('./testOrderingServerHandler'),OrchestrationUtils=require('./orchestrationUtils'),path=require('path'),{spawnSync}=require('child_process'),micromatch=require(a133_0x4fc532(0x22f)),fs=require('fs');function a133_0x12a7(){const _0x1d5e16=['stack','logTestOrderingChecks','uploadedTestFilesCount','**/__tests__/**/*.[jt]s?(x)','splitTestsAPICallCount','YIUbc','downloadedTestFilesCount','jzjxg','testOrderingServerHandler','367092sPMFPB','map','509214nEhHqP','gKqnP','vjnVY','oWWbe','glob','micromatch','totalNodes','jest-runner','mDAqf','orderingInstrumentationData','1331688FSjPuA','relative','iOxVS','[reorderTestFiles]\x20Error\x20in\x20ordering\x20test\x20files:\x20','BeRcH','config','Test\x20Reordering\x20is\x20unavailable\x20because\x20testReporting\x20is\x20disabled.\x20Please\x20enable\x20it\x20from\x20browserstack.yml\x20file.','splitTests','44693prScXX','88dGZrHq','updateBuildIdentifier','BROWSERSTACK_BUILD_RUN_IDENTIFIER','xzwqe','wZYSk','isArray','**/?(*.)+(spec|test).[jt]s?(x)','jest-util','90DielAx','_initializeTestOrdering','testPathIgnorePatterns','LHkoT','winstonLogger','getTestOrderingName','HiDZR','ignore','findTestFiles','testObservability','exports','XDVuL','XjXbE','getSplitTestsAPICallCount','--config','setTestOrderingApplied','xzSNH','ODRKo','KZNeA','applied','addToOrderingInstrumentationData','210JXqXzB','jest-config','testOrderingEnabled','split','stringify','hZPoJ','jdCPO','stdout','9839ZSfJDv','hMzmp','getOrderedTestFiles','_shouldLogTestOrderingChecks','jest','reorderTestFiles','orchestrationUtils','qmqUT','20772PVIGCg','getOrderingInstrumentationData','buildIdentifier','\x20files','218561UzNIpr','Found\x20test\x20files:\x20','mMDCh','5|4|1|3|2|0','info','uoCCz','length','debug','env','isTestOrchestrationEnabled','mRHux','../helper','[orchestrate]\x20Setting\x20buildIdentifier\x20to\x20buildRunIdentifier:\x20','utf-8','156Oljvwt','Test\x20Reordering\x20is\x20unavailable\x20because\x20buildName\x20or\x20projectName\x20is\x20null.\x20Please\x20set\x20a\x20non-null\x20value.','matchBase','aNpiA','projectName','testOrderingApplied','toString','XiEgt','KAIHP','Filterted\x20to\x20test\x20files:\x20','--listTests','AaxDp','TOuOn','aLusv','igMAF','../logger','nodeIndex','buildName'];a133_0x12a7=function(){return _0x1d5e16;};return a133_0x12a7();}class TestOrchestrationHandler{constructor(_0x2a9244){const _0x45773b=a133_0x4fc532,_0x1bdaee={};_0x1bdaee[_0x45773b(0x22d)]=_0x45773b(0x202);const _0x223e27=_0x1bdaee,_0x130806=_0x223e27[_0x45773b(0x22d)][_0x45773b(0x1ee)]('|');let _0x1ef436=0x0;while(!![]){switch(_0x130806[_0x1ef436++]){case'0':this[_0x45773b(0x246)]();continue;case'1':this[_0x45773b(0x212)]=![];continue;case'2':this[_0x45773b(0x1f9)]=new OrchestrationUtils(_0x2a9244);continue;case'3':this[_0x45773b(0x227)]=null;continue;case'4':this['orderingInstrumentationData']={};continue;case'5':this[_0x45773b(0x239)]=_0x2a9244;continue;}break;}}[a133_0x4fc532(0x208)](){const _0x4bdc50=a133_0x4fc532,_0xd7fde6={'uoCCz':function(_0x2dd787,_0x11db8a){return _0x2dd787(_0x11db8a);},'vjnVY':function(_0x2f02c2,_0x15af42){return _0x2f02c2(_0x15af42);},'ODRKo':function(_0x2cce03,_0x42440e){return _0x2cce03&&_0x42440e;}},_0x2c89f5=_0xd7fde6['uoCCz'](isNotUndefined,this[_0x4bdc50(0x239)])&&(_0xd7fde6[_0x4bdc50(0x204)](isUndefined,this[_0x4bdc50(0x239)][_0x4bdc50(0x24e)])||_0xd7fde6['vjnVY'](isTrueString,this[_0x4bdc50(0x239)][_0x4bdc50(0x24e)])),_0x51293a=this['orchestrationUtils']['testOrderingEnabled'](),_0x30ff22=_0xd7fde6[_0x4bdc50(0x204)](isNotUndefined,this[_0x4bdc50(0x239)])&&_0xd7fde6[_0x4bdc50(0x22c)](isNotUndefined,this[_0x4bdc50(0x239)][_0x4bdc50(0x211)]),_0x7b59aa=_0xd7fde6[_0x4bdc50(0x22c)](isNotUndefined,this[_0x4bdc50(0x239)])&&_0xd7fde6[_0x4bdc50(0x22c)](isNotUndefined,this[_0x4bdc50(0x239)][_0x4bdc50(0x21e)]);return _0xd7fde6[_0x4bdc50(0x1e7)](_0x2c89f5,_0x51293a)&&_0x30ff22&&_0x7b59aa;}['_initializeTestOrdering'](){const _0x28ee09=a133_0x4fc532,_0x2c1088={};_0x2c1088['arNBZ']='Test\x20orchestration\x20with\x20test\x20ordering\x20enabled',_0x2c1088[_0x28ee09(0x251)]='Test\x20orchestration\x20without\x20test\x20ordering';const _0x1d370d=_0x2c1088;this['isTestOrchestrationEnabled']()?(this[_0x28ee09(0x227)]=new TestOrderingServerHandler(this[_0x28ee09(0x239)]),logger[_0x28ee09(0x203)](_0x1d370d['arNBZ'])):(logger[_0x28ee09(0x206)](_0x1d370d[_0x28ee09(0x251)]),this[_0x28ee09(0x220)]());}[a133_0x4fc532(0x220)](){const _0x19b01a=a133_0x4fc532,_0x566327={'aLusv':function(_0x1e274a,_0x239df3){return _0x1e274a(_0x239df3);},'XiEgt':function(_0x160661,_0x28988f){return _0x160661(_0x28988f);},'AaxDp':_0x19b01a(0x20e),'qmqUT':function(_0x4ec561,_0x1dee9c){return _0x4ec561(_0x1dee9c);},'WcRHX':function(_0x161747,_0x5ed904){return _0x161747(_0x5ed904);},'hZPoJ':_0x19b01a(0x23a)};if(!this[_0x19b01a(0x1f6)]())return;(!_0x566327['aLusv'](isNotUndefined,this['config'])||!_0x566327[_0x19b01a(0x214)](isNotUndefined,this[_0x19b01a(0x239)][_0x19b01a(0x21e)])||!_0x566327[_0x19b01a(0x21a)](isNotUndefined,this[_0x19b01a(0x239)][_0x19b01a(0x211)]))&&logger['info'](_0x566327[_0x19b01a(0x218)]),_0x566327[_0x19b01a(0x21a)](isNotUndefined,this['config'])&&_0x566327[_0x19b01a(0x1fa)](isNotUndefined,this[_0x19b01a(0x239)][_0x19b01a(0x24e)])&&!_0x566327['WcRHX'](isTrueString,this['config']['testObservability'])&&logger[_0x19b01a(0x203)](_0x566327[_0x19b01a(0x1f0)]);}[a133_0x4fc532(0x1f6)](){const _0x58ee49=a133_0x4fc532;return!this[_0x58ee49(0x208)]()&&this[_0x58ee49(0x1f9)][_0x58ee49(0x1ed)]();}['isTestOrderingApplied'](){return this['testOrderingApplied'];}[a133_0x4fc532(0x1e5)](_0x4dbfd5){const _0x8082af=a133_0x4fc532,_0x4cadad={};_0x4cadad[_0x8082af(0x236)]=_0x8082af(0x1e9);const _0x237147=_0x4cadad;this[_0x8082af(0x212)]=_0x4dbfd5,this[_0x8082af(0x1ea)](_0x237147[_0x8082af(0x236)],_0x4dbfd5);}[a133_0x4fc532(0x1ea)](_0x2f8ada,_0x4db13f){const _0x4a8166=a133_0x4fc532;this[_0x4a8166(0x233)][_0x2f8ada]=_0x4db13f;}[a133_0x4fc532(0x1fc)](){const _0x6c51cf=a133_0x4fc532;return this[_0x6c51cf(0x233)];}[a133_0x4fc532(0x23e)](){const _0x4c118d=a133_0x4fc532,_0x289eba={'xzwqe':function(_0x4daf06,_0x5646c9){return _0x4daf06(_0x5646c9);},'XDVuL':function(_0x3a571a,_0x1ce181){return _0x3a571a>_0x1ce181;}},_0x260cb5=_0x289eba[_0x4c118d(0x240)](parseInt,process['env']['BROWSERSTACK_TOTAL_NODE_COUNT']||'1'),_0x505359=process[_0x4c118d(0x207)][_0x4c118d(0x23f)];_0x505359&&_0x289eba[_0x4c118d(0x250)](_0x260cb5,0x1)&&(logger[_0x4c118d(0x206)](_0x4c118d(0x20b)+_0x505359),this[_0x4c118d(0x239)][_0x4c118d(0x1fd)]=_0x505359);}async[a133_0x4fc532(0x1f8)](_0x179254){const _0x61fa1f=a133_0x4fc532,_0x265c33={'KAIHP':function(_0x215c38,_0x4556b4){return _0x215c38===_0x4556b4;},'gKqnP':'[reorderTestFiles]\x20Test\x20ordering\x20is\x20not\x20supported\x20or\x20enabled','mRHux':function(_0x12ca3f,_0x4ee63c){return _0x12ca3f(_0x4ee63c);},'LHkoT':_0x61fa1f(0x221),'qtxXf':_0x61fa1f(0x21d),'mMDCh':_0x61fa1f(0x230),'KYSQV':_0x61fa1f(0x225),'aNpiA':_0x61fa1f(0x223)};try{if(!_0x179254||!Array[_0x61fa1f(0x242)](_0x179254)||_0x265c33[_0x61fa1f(0x215)](_0x179254['length'],0x0))return null;if(_0x265c33[_0x61fa1f(0x215)](this[_0x61fa1f(0x208)](),![]))return logger[_0x61fa1f(0x206)](_0x265c33[_0x61fa1f(0x22b)]),null;let _0xd26cef=null;const _0x19fd8c=this[_0x61fa1f(0x1f9)][_0x61fa1f(0x24a)]();if(this['testOrderingServerHandler']){const _0x22384a=await this['testOrderingServerHandler'][_0x61fa1f(0x23b)](_0x179254,_0x19fd8c);if(!_0x22384a)return null;_0xd26cef=await this[_0x61fa1f(0x227)][_0x61fa1f(0x1f5)](_0x22384a);}if(!_0xd26cef||!Array[_0x61fa1f(0x242)](_0xd26cef)||_0x265c33[_0x61fa1f(0x215)](_0xd26cef[_0x61fa1f(0x205)],0x0))return null;const _0xdb152=_0x265c33['mRHux'](parseInt,process[_0x61fa1f(0x207)]['BROWSERSTACK_NODE_INDEX']||'0'),_0x718fcd=_0x265c33[_0x61fa1f(0x209)](parseInt,process[_0x61fa1f(0x207)]['BROWSERSTACK_TOTAL_NODE_COUNT']||'1');return this[_0x61fa1f(0x1ea)](_0x265c33[_0x61fa1f(0x248)],_0x179254[_0x61fa1f(0x205)]),this[_0x61fa1f(0x1ea)](_0x265c33['qtxXf'],_0xdb152),this['addToOrderingInstrumentationData'](_0x265c33[_0x61fa1f(0x201)],_0x718fcd),this['addToOrderingInstrumentationData'](_0x265c33['KYSQV'],_0xd26cef[_0x61fa1f(0x205)]),this[_0x61fa1f(0x1ea)](_0x265c33[_0x61fa1f(0x210)],this[_0x61fa1f(0x227)]?this[_0x61fa1f(0x227)][_0x61fa1f(0x1e3)]():0x0),_0xd26cef[_0x61fa1f(0x229)](_0x4a13bf=>sanitizedFilePath(_0x4a13bf));}catch(_0x2c7b8b){return logger[_0x61fa1f(0x206)](_0x61fa1f(0x237)+(_0x2c7b8b[_0x61fa1f(0x21f)]||_0x2c7b8b[_0x61fa1f(0x213)]())),null;}}async[a133_0x4fc532(0x24d)](_0x4d523a,_0x48fb2a,_0xf7965d){const _0x5c22c8=a133_0x4fc532,_0x19d578={'TOuOn':function(_0x4ee99c,_0x4ab2da){return _0x4ee99c(_0x4ab2da);},'amUiu':_0x5c22c8(0x1ec),'BeRcH':_0x5c22c8(0x244),'wZYSk':_0x5c22c8(0x231),'jdCPO':function(_0x4dd765,_0x243270){return _0x4dd765(_0x243270);},'HiDZR':_0x5c22c8(0x22e),'mDAqf':_0x5c22c8(0x222),'YIUbc':_0x5c22c8(0x243),'pviye':function(_0x58bd0b,_0x5d56e1,_0x1130ce,_0xe1625c){return _0x58bd0b(_0x5d56e1,_0x1130ce,_0xe1625c);},'hMzmp':'npx','Ibqbj':_0x5c22c8(0x1f7),'igMAF':_0x5c22c8(0x1e4),'xzSNH':_0x5c22c8(0x217),'jzjxg':_0x5c22c8(0x20c),'KZNeA':function(_0x58bf0e,_0x218c1e,_0x2c718a,_0x32b8ab){return _0x58bf0e(_0x218c1e,_0x2c718a,_0x32b8ab);}};try{const {getTestPathPatterns:_0x287813}=_0x19d578[_0x5c22c8(0x219)](require,_0x19d578['amUiu']),{globsToMatcher:_0x4754f3}=_0x19d578[_0x5c22c8(0x219)](require,_0x19d578[_0x5c22c8(0x238)]),{findRelatedTests:_0x2be18c}=_0x19d578['TOuOn'](require,_0x19d578[_0x5c22c8(0x241)]),_0x577b5e=_0x19d578[_0x5c22c8(0x1f1)](require,_0x19d578[_0x5c22c8(0x24b)]),_0x1cf74a=_0x4d523a['testMatch']||[_0x19d578[_0x5c22c8(0x232)],_0x19d578[_0x5c22c8(0x224)]],_0x4aa843=_0x4d523a[_0x5c22c8(0x247)]||[],_0x3c9fef=_0x19d578['pviye'](spawnSync,_0x19d578[_0x5c22c8(0x1f4)],[_0x19d578['Ibqbj'],_0x19d578[_0x5c22c8(0x21b)],_0xf7965d,..._0x48fb2a,_0x19d578[_0x5c22c8(0x1e6)]],{'encoding':_0x19d578[_0x5c22c8(0x226)]});let _0xfd07ef=[];!_0x3c9fef['error']&&(_0xfd07ef=_0x3c9fef[_0x5c22c8(0x1f2)][_0x5c22c8(0x1ee)]('\x0a')['filter'](Boolean));logger[_0x5c22c8(0x206)](_0x5c22c8(0x200)+JSON[_0x5c22c8(0x1ef)](_0xfd07ef)+_0x5c22c8(0x1fe));const _0x383b78={};_0x383b78[_0x5c22c8(0x20f)]=!![],_0x383b78[_0x5c22c8(0x24c)]=_0x4aa843;const _0x53c93f=_0x19d578[_0x5c22c8(0x1e8)](micromatch,_0xfd07ef,_0x1cf74a,_0x383b78)[_0x5c22c8(0x229)](_0x460752=>path[_0x5c22c8(0x235)](_0x4d523a['rootDir'],_0x460752));return logger['debug'](_0x5c22c8(0x216)+JSON[_0x5c22c8(0x1ef)](_0x53c93f)+_0x5c22c8(0x1fe)),_0x53c93f;}catch(_0x3902ac){return logger[_0x5c22c8(0x206)]('Error\x20finding\x20test\x20files:\x20'+_0x3902ac),[];}}}module[a133_0x4fc532(0x24f)]=TestOrchestrationHandler;