const a123_0xc7d228=a123_0xbe08;function a123_0xbe08(_0x28ba4e,_0x46150f){const _0x588f7e=a123_0x588f();return a123_0xbe08=function(_0xbe08ef,_0x4bb2f1){_0xbe08ef=_0xbe08ef-0xd9;let _0x1e4197=_0x588f7e[_0xbe08ef];return _0x1e4197;},a123_0xbe08(_0x28ba4e,_0x46150f);}function a123_0x588f(){const _0x290c3e=['GQocS','stdout','_initializeTestOrdering','1311500bzPdSg','npx','setTestOrderingApplied','vLKSG','jest-util','getOrderedTestFiles','1377887Xgfezh','glob','Odcwn','winstonLogger','env','BROWSERSTACK_NODE_INDEX','1343928pLKRVL','debug','config','projectName','riuVG','micromatch','error','wbSqX','0|5|3|1|2|4','BROWSERSTACK_TOTAL_NODE_COUNT','./orchestrationUtils','\x20files','SWjEN','hCTnZ','exports','length','map','HlAjb','totalNodes','3oJqAef','info','--listTests','**/?(*.)+(spec|test).[jt]s?(x)','filter','updateBuildIdentifier','BEWvN','split','zgigh','matchBase','Found\x20test\x20files:\x20','testObservability','vMRfP','XIKAI','rootDir','jest','287242SNnrVm','[reorderTestFiles]\x20Test\x20ordering\x20is\x20not\x20supported\x20or\x20enabled','orchestrationUtils','applied','JmHyR','splitTests','rKwez','heKPG','xMDkX','buildName','595830EMXaCV','fmeVG','fvmvX','../helper','jest-config','702369kjwiUP','_shouldLogTestOrderingChecks','eFAMY','CRBHe','getTestOrderingName','NvlHH','path','Mrjap','orderingInstrumentationData','logTestOrderingChecks','[orchestrate]\x20Setting\x20buildIdentifier\x20to\x20buildRunIdentifier:\x20','addToOrderingInstrumentationData','relative','CNNoF','isTestOrchestrationEnabled','uploadedTestFilesCount','stack','stringify','8ylkoCw','lOspL','testOrderingServerHandler','XkMcP','isTestOrderingApplied','testOrderingApplied','dNHRg','getSplitTestsAPICallCount','testPathIgnorePatterns','Test\x20Reordering\x20is\x20unavailable\x20because\x20testObservability\x20is\x20disabled.\x20Please\x20enable\x20it\x20from\x20browserstack.yml\x20file.','./testOrderingServerHandler','xAgKa','fFhDC','793510aPqqni','50XUNfGN','SGcya','xNWnE','BROWSERSTACK_BUILD_RUN_IDENTIFIER','getOrderingInstrumentationData','testOrderingEnabled','rkfuN'];a123_0x588f=function(){return _0x290c3e;};return a123_0x588f();}(function(_0xeeb8b1,_0x54dbb2){const _0x275c56=a123_0xbe08,_0x2634cf=_0xeeb8b1();while(!![]){try{const _0x261d2c=parseInt(_0x275c56(0x13c))/0x1+parseInt(_0x275c56(0xde))/0x2*(-parseInt(_0x275c56(0x12c))/0x3)+parseInt(_0x275c56(0x10d))/0x4+-parseInt(_0x275c56(0x102))/0x5+parseInt(_0x275c56(0x119))/0x6+parseInt(_0x275c56(0x113))/0x7*(parseInt(_0x275c56(0xf5))/0x8)+-parseInt(_0x275c56(0xe3))/0x9*(parseInt(_0x275c56(0x103))/0xa);if(_0x261d2c===_0x54dbb2)break;else _0x2634cf['push'](_0x2634cf['shift']());}catch(_0x45d4ad){_0x2634cf['push'](_0x2634cf['shift']());}}}(a123_0x588f,0x2e2c4));const logger=require('../logger')[a123_0xc7d228(0x116)],{isUndefined,isNotUndefined,isTrueString,sanitizedFilePath}=require(a123_0xc7d228(0xe1)),TestOrderingServerHandler=require(a123_0xc7d228(0xff)),OrchestrationUtils=require(a123_0xc7d228(0x123)),path=require(a123_0xc7d228(0xe9)),{spawnSync}=require('child_process'),micromatch=require(a123_0xc7d228(0x11e)),fs=require('fs');class TestOrchestrationHandler{constructor(_0x1d0fe3){const _0x26e07b=a123_0xc7d228,_0x165652={};_0x165652[_0x26e07b(0x12a)]=_0x26e07b(0x121);const _0xd4c7fa=_0x165652,_0x2dfb32=_0xd4c7fa[_0x26e07b(0x12a)][_0x26e07b(0x133)]('|');let _0x52edd5=0x0;while(!![]){switch(_0x2dfb32[_0x52edd5++]){case'0':this[_0x26e07b(0x11b)]=_0x1d0fe3;continue;case'1':this[_0x26e07b(0xf7)]=null;continue;case'2':this[_0x26e07b(0x13e)]=new OrchestrationUtils(_0x1d0fe3);continue;case'3':this['testOrderingApplied']=![];continue;case'4':this[_0x26e07b(0x10c)]();continue;case'5':this['orderingInstrumentationData']={};continue;}break;}}[a123_0xc7d228(0xf1)](){const _0x3d1a5a=a123_0xc7d228,_0x4f7f58={'Mrjap':function(_0x2f87b3,_0x53bc19){return _0x2f87b3(_0x53bc19);},'fvmvX':function(_0x2d1f80,_0x27c6ba){return _0x2d1f80(_0x27c6ba);},'wbSqX':function(_0x5d3564,_0x15f504){return _0x5d3564(_0x15f504);},'aaAIy':function(_0x2b1930,_0x1b0687){return _0x2b1930(_0x1b0687);},'fuvaT':function(_0xcb83b4,_0x250888){return _0xcb83b4(_0x250888);},'reckg':function(_0x513ef6,_0x11bc7d){return _0x513ef6&&_0x11bc7d;}},_0x4bf0c6=_0x4f7f58[_0x3d1a5a(0xea)](isNotUndefined,this['config'])&&(_0x4f7f58[_0x3d1a5a(0xea)](isUndefined,this[_0x3d1a5a(0x11b)][_0x3d1a5a(0x137)])||_0x4f7f58[_0x3d1a5a(0xe0)](isTrueString,this[_0x3d1a5a(0x11b)][_0x3d1a5a(0x137)])),_0x2aaf15=this[_0x3d1a5a(0x13e)][_0x3d1a5a(0x108)](),_0x530af0=_0x4f7f58[_0x3d1a5a(0x120)](isNotUndefined,this[_0x3d1a5a(0x11b)])&&_0x4f7f58[_0x3d1a5a(0xea)](isNotUndefined,this[_0x3d1a5a(0x11b)][_0x3d1a5a(0x11c)]),_0x1eafb8=_0x4f7f58['aaAIy'](isNotUndefined,this[_0x3d1a5a(0x11b)])&&_0x4f7f58['fuvaT'](isNotUndefined,this[_0x3d1a5a(0x11b)]['buildName']);return _0x4f7f58['reckg'](_0x4bf0c6,_0x2aaf15)&&_0x530af0&&_0x1eafb8;}[a123_0xc7d228(0x10c)](){const _0x56c963=a123_0xc7d228,_0x1cad24={};_0x1cad24['fFhDC']='Test\x20orchestration\x20with\x20test\x20ordering\x20enabled',_0x1cad24[_0x56c963(0xf8)]='Test\x20orchestration\x20without\x20test\x20ordering';const _0xf267c9=_0x1cad24;this[_0x56c963(0xf1)]()?(this[_0x56c963(0xf7)]=new TestOrderingServerHandler(this[_0x56c963(0x11b)]),logger['info'](_0xf267c9[_0x56c963(0x101)])):(logger[_0x56c963(0x11a)](_0xf267c9[_0x56c963(0xf8)]),this[_0x56c963(0xec)]());}[a123_0xc7d228(0xec)](){const _0x479e43=a123_0xc7d228,_0x2efd87={'rkfuN':function(_0xadd53c,_0x589e69){return _0xadd53c(_0x589e69);},'rKwez':'Test\x20Reordering\x20is\x20unavailable\x20because\x20buildName\x20or\x20projectName\x20is\x20null.\x20Please\x20set\x20a\x20non-null\x20value.','Jtbvi':_0x479e43(0xfe)};if(!this[_0x479e43(0xe4)]())return;(!_0x2efd87[_0x479e43(0x109)](isNotUndefined,this[_0x479e43(0x11b)])||!_0x2efd87[_0x479e43(0x109)](isNotUndefined,this['config'][_0x479e43(0xdd)])||!_0x2efd87[_0x479e43(0x109)](isNotUndefined,this[_0x479e43(0x11b)][_0x479e43(0x11c)]))&&logger[_0x479e43(0x12d)](_0x2efd87[_0x479e43(0xda)]),_0x2efd87[_0x479e43(0x109)](isNotUndefined,this[_0x479e43(0x11b)])&&_0x2efd87[_0x479e43(0x109)](isNotUndefined,this[_0x479e43(0x11b)][_0x479e43(0x137)])&&!_0x2efd87['rkfuN'](isTrueString,this[_0x479e43(0x11b)][_0x479e43(0x137)])&&logger[_0x479e43(0x12d)](_0x2efd87['Jtbvi']);}[a123_0xc7d228(0xe4)](){const _0x13bc47=a123_0xc7d228;return!this[_0x13bc47(0xf1)]()&&this['orchestrationUtils'][_0x13bc47(0x108)]();}[a123_0xc7d228(0xf9)](){const _0x5d4ff0=a123_0xc7d228;return this[_0x5d4ff0(0xfa)];}[a123_0xc7d228(0x10f)](_0x5ab9c0){const _0x234551=a123_0xc7d228,_0x36cf49={};_0x36cf49[_0x234551(0x138)]=_0x234551(0x13f);const _0x453e32=_0x36cf49;this[_0x234551(0xfa)]=_0x5ab9c0,this['addToOrderingInstrumentationData'](_0x453e32['vMRfP'],_0x5ab9c0);}[a123_0xc7d228(0xee)](_0x2bb182,_0x2bb28b){const _0x2832bd=a123_0xc7d228;this[_0x2832bd(0xeb)][_0x2bb182]=_0x2bb28b;}[a123_0xc7d228(0x107)](){const _0x55b999=a123_0xc7d228;return this[_0x55b999(0xeb)];}[a123_0xc7d228(0x131)](){const _0x114454=a123_0xc7d228,_0x574ce2={'CNNoF':function(_0x10719c,_0x2a524b){return _0x10719c(_0x2a524b);},'heKPG':function(_0x54816d,_0x5bea8f){return _0x54816d>_0x5bea8f;}},_0x91dcb4=_0x574ce2[_0x114454(0xf0)](parseInt,process[_0x114454(0x117)]['BROWSERSTACK_TOTAL_NODE_COUNT']||'1'),_0x1d6f1a=process[_0x114454(0x117)][_0x114454(0x106)];_0x1d6f1a&&_0x574ce2[_0x114454(0xdb)](_0x91dcb4,0x1)&&(logger[_0x114454(0x11a)](_0x114454(0xed)+_0x1d6f1a),this[_0x114454(0x11b)]['buildIdentifier']=_0x1d6f1a);}async['reorderTestFiles'](_0xe9cfaa){const _0x45669c=a123_0xc7d228,_0x38a558={'CRBHe':function(_0x2d41fe,_0x35c2f4){return _0x2d41fe===_0x35c2f4;},'vLKSG':function(_0x1fa6c1,_0x302ffe){return _0x1fa6c1===_0x302ffe;},'FYBSq':_0x45669c(0x13d),'NvlHH':function(_0x2820cf,_0x1ed1da){return _0x2820cf===_0x1ed1da;},'lOspL':function(_0x209faa,_0x2bfa15){return _0x209faa(_0x2bfa15);},'sZhub':_0x45669c(0xf2),'SWjEN':'nodeIndex','hCTnZ':_0x45669c(0x12b),'riuVG':'downloadedTestFilesCount','XIKAI':'splitTestsAPICallCount'};try{if(!_0xe9cfaa||!Array['isArray'](_0xe9cfaa)||_0x38a558[_0x45669c(0xe6)](_0xe9cfaa['length'],0x0))return null;if(_0x38a558[_0x45669c(0x110)](this['isTestOrchestrationEnabled'](),![]))return logger[_0x45669c(0x11a)](_0x38a558['FYBSq']),null;let _0x379a78=null;const _0x43984a=this[_0x45669c(0x13e)][_0x45669c(0xe7)]();if(this[_0x45669c(0xf7)]){const _0x12aa9b=await this['testOrderingServerHandler'][_0x45669c(0xd9)](_0xe9cfaa,_0x43984a);if(!_0x12aa9b)return null;_0x379a78=await this['testOrderingServerHandler'][_0x45669c(0x112)](_0x12aa9b);}if(!_0x379a78||!Array['isArray'](_0x379a78)||_0x38a558[_0x45669c(0xe8)](_0x379a78['length'],0x0))return null;const _0x5a06e2=_0x38a558[_0x45669c(0xf6)](parseInt,process[_0x45669c(0x117)][_0x45669c(0x118)]||'0'),_0xc969a=_0x38a558[_0x45669c(0xf6)](parseInt,process['env'][_0x45669c(0x122)]||'1');return this[_0x45669c(0xee)](_0x38a558['sZhub'],_0xe9cfaa[_0x45669c(0x128)]),this[_0x45669c(0xee)](_0x38a558[_0x45669c(0x125)],_0x5a06e2),this[_0x45669c(0xee)](_0x38a558[_0x45669c(0x126)],_0xc969a),this['addToOrderingInstrumentationData'](_0x38a558[_0x45669c(0x11d)],_0x379a78[_0x45669c(0x128)]),this['addToOrderingInstrumentationData'](_0x38a558[_0x45669c(0x139)],this[_0x45669c(0xf7)]?this['testOrderingServerHandler'][_0x45669c(0xfc)]():0x0),_0x379a78[_0x45669c(0x129)](_0x591768=>sanitizedFilePath(_0x591768));}catch(_0x36b32b){return logger[_0x45669c(0x11a)]('[reorderTestFiles]\x20Error\x20in\x20ordering\x20test\x20files:\x20'+(_0x36b32b[_0x45669c(0xf3)]||_0x36b32b['toString']())),null;}}async['findTestFiles'](_0x1cf749,_0x10932b,_0x1e14b9){const _0x3df3c1=a123_0xc7d228,_0x289a15={'GQocS':function(_0x1fdeff,_0x1e661d){return _0x1fdeff(_0x1e661d);},'dNHRg':_0x3df3c1(0xe2),'LrqFd':function(_0x2d8773,_0x1ce514){return _0x2d8773(_0x1ce514);},'BEWvN':_0x3df3c1(0x111),'SGcya':'jest-runner','eFAMY':function(_0x1bdfdb,_0x7e83d8){return _0x1bdfdb(_0x7e83d8);},'aQAnT':_0x3df3c1(0x114),'xNWnE':'**/__tests__/**/*.[jt]s?(x)','eIVjc':_0x3df3c1(0x12f),'Odcwn':function(_0x4004b8,_0x1667d5,_0xa0cd52,_0x4e4368){return _0x4004b8(_0x1667d5,_0xa0cd52,_0x4e4368);},'fmeVG':_0x3df3c1(0x10e),'xAgKa':_0x3df3c1(0x13b),'xMDkX':'--config','zgigh':_0x3df3c1(0x12e),'JmHyR':'utf-8','AMDiB':function(_0x28034c,_0x40911d,_0x1b8983,_0x32c5dd){return _0x28034c(_0x40911d,_0x1b8983,_0x32c5dd);}};try{const {getTestPathPatterns:_0x5a5916}=_0x289a15[_0x3df3c1(0x10a)](require,_0x289a15[_0x3df3c1(0xfb)]),{globsToMatcher:_0x487089}=_0x289a15['LrqFd'](require,_0x289a15[_0x3df3c1(0x132)]),{findRelatedTests:_0x12aca5}=_0x289a15[_0x3df3c1(0x10a)](require,_0x289a15[_0x3df3c1(0x104)]),_0x18e905=_0x289a15[_0x3df3c1(0xe5)](require,_0x289a15['aQAnT']),_0x2181cb=_0x1cf749['testMatch']||[_0x289a15[_0x3df3c1(0x105)],_0x289a15['eIVjc']],_0x2f5a39=_0x1cf749[_0x3df3c1(0xfd)]||[],_0x35fb6c=_0x289a15[_0x3df3c1(0x115)](spawnSync,_0x289a15[_0x3df3c1(0xdf)],[_0x289a15[_0x3df3c1(0x100)],_0x289a15[_0x3df3c1(0xdc)],_0x1e14b9,..._0x10932b,_0x289a15[_0x3df3c1(0x134)]],{'encoding':_0x289a15[_0x3df3c1(0x140)]});let _0x3ddbd5=[];!_0x35fb6c[_0x3df3c1(0x11f)]&&(_0x3ddbd5=_0x35fb6c[_0x3df3c1(0x10b)][_0x3df3c1(0x133)]('\x0a')[_0x3df3c1(0x130)](Boolean));logger[_0x3df3c1(0x11a)](_0x3df3c1(0x136)+JSON[_0x3df3c1(0xf4)](_0x3ddbd5)+_0x3df3c1(0x124));const _0x57545a={};_0x57545a[_0x3df3c1(0x135)]=!![],_0x57545a['ignore']=_0x2f5a39;const _0x412888=_0x289a15['AMDiB'](micromatch,_0x3ddbd5,_0x2181cb,_0x57545a)[_0x3df3c1(0x129)](_0x59d4cb=>path[_0x3df3c1(0xef)](_0x1cf749[_0x3df3c1(0x13a)],_0x59d4cb));return logger['debug']('Filterted\x20to\x20test\x20files:\x20'+JSON[_0x3df3c1(0xf4)](_0x412888)+_0x3df3c1(0x124)),_0x412888;}catch(_0x13248c){return logger[_0x3df3c1(0x11a)]('Error\x20finding\x20test\x20files:\x20'+_0x13248c),[];}}}module[a123_0xc7d228(0x127)]=TestOrchestrationHandler;