const a136_0x5e80bc=a136_0x2faf;function a136_0x2faf(_0x356a16,_0x5a4554){const _0xcaa56f=a136_0xcaa5();return a136_0x2faf=function(_0x2faf0c,_0x6fc350){_0x2faf0c=_0x2faf0c-0x106;let _0x2c2768=_0xcaa56f[_0x2faf0c];return _0x2c2768;},a136_0x2faf(_0x356a16,_0x5a4554);}function a136_0xcaa5(){const _0x48c1e2=['rOEUn','projectName','matchBase','TlCiI','IWGqs','../helper','Found\x20test\x20files:\x20','mshcy','Nrrha','applied','isTestOrderingApplied','buildName','glob','pwuwt','getTestOrderingName','Filterted\x20to\x20test\x20files:\x20','5829445WtyKIC','BROWSERSTACK_BUILD_RUN_IDENTIFIER','LwWvH','jest-runner','Test\x20orchestration\x20without\x20test\x20ordering','jest','micromatch','2714048tFAWye','oVRdz','[orchestrate]\x20Setting\x20buildIdentifier\x20to\x20buildRunIdentifier:\x20','reorderTestFiles','jest-config','cmlNl','error','length','config','gKEiW','YbEcV','**/?(*.)+(spec|test).[jt]s?(x)','_shouldLogTestOrderingChecks','jest-util','kxtRD','testOrderingEnabled','getSplitTestsAPICallCount','Test\x20orchestration\x20with\x20test\x20ordering\x20enabled','1|3|0|4|2|5','orchestrationUtils','splitTests','getOrderingInstrumentationData','debug','child_process','Test\x20Reordering\x20is\x20unavailable\x20because\x20testReporting\x20is\x20disabled.\x20Please\x20enable\x20it\x20from\x20browserstack.yml\x20file.','kooWX','OkqdY','ytQeM','\x20files','toString','testOrderingApplied','mSQSv','bFgpe','path','cjxxo','--config','cYdjF','ZYFtX','buildIdentifier','env','setTestOrderingApplied','**/__tests__/**/*.[jt]s?(x)','ignore','nodeIndex','map','stdout','[reorderTestFiles]\x20Test\x20ordering\x20is\x20not\x20supported\x20or\x20enabled','ubarD','1660068BgWGxQ','BROWSERSTACK_TOTAL_NODE_COUNT','YelzW','isArray','exports','wRoOk','splitTestsAPICallCount','jhcqP','rootDir','cQFGm','WTsSN','info','19856bTSWTl','iwFzw','8665206LSzccX','697736vngptR','umOGD','totalNodes','testMatch','orderingInstrumentationData','uploadedTestFilesCount','testObservability','npx','Test\x20Reordering\x20is\x20unavailable\x20because\x20buildName\x20or\x20projectName\x20is\x20null.\x20Please\x20set\x20a\x20non-null\x20value.','isTestOrchestrationEnabled','quKzp','pnMlz','updateBuildIdentifier','IKPCy','winstonLogger','testPathIgnorePatterns','split','20943315VFfaOv','_initializeTestOrdering','2016mPYRCt','./testOrderingServerHandler','stringify','ZLhPJ','WDaQs','logTestOrderingChecks','jwIUE','qrvkR','nIlxe','9mIvslv','addToOrderingInstrumentationData','filter','testOrderingServerHandler','stack'];a136_0xcaa5=function(){return _0x48c1e2;};return a136_0xcaa5();}(function(_0x1324dc,_0x5d424d){const _0x3928e6=a136_0x2faf,_0x484477=_0x1324dc();while(!![]){try{const _0x4ac6af=-parseInt(_0x3928e6(0x14b))/0x1+parseInt(_0x3928e6(0x10c))/0x2+-parseInt(_0x3928e6(0x167))/0x3*(parseInt(_0x3928e6(0x13c))/0x4)+parseInt(_0x3928e6(0x17c))/0x5+-parseInt(_0x3928e6(0x14a))/0x6+parseInt(_0x3928e6(0x15e))/0x7*(-parseInt(_0x3928e6(0x148))/0x8)+parseInt(_0x3928e6(0x15c))/0x9;if(_0x4ac6af===_0x5d424d)break;else _0x484477['push'](_0x484477['shift']());}catch(_0x2e8d8f){_0x484477['push'](_0x484477['shift']());}}}(a136_0xcaa5,0xb6a70));const logger=require('../logger')[a136_0x5e80bc(0x159)],{isUndefined,isNotUndefined,isTrueString,sanitizedFilePath}=require(a136_0x5e80bc(0x171)),TestOrderingServerHandler=require(a136_0x5e80bc(0x15f)),OrchestrationUtils=require('./orchestrationUtils'),path=require(a136_0x5e80bc(0x12d)),{spawnSync}=require(a136_0x5e80bc(0x123)),micromatch=require(a136_0x5e80bc(0x10b)),fs=require('fs');class TestOrchestrationHandler{constructor(_0xf02d03){const _0x1ab07a=a136_0x5e80bc,_0x4637c7={};_0x4637c7[_0x1ab07a(0x16c)]=_0x1ab07a(0x11e);const _0x15e2fb=_0x4637c7,_0x1dc1a1=_0x15e2fb[_0x1ab07a(0x16c)][_0x1ab07a(0x15b)]('|');let _0x497f61=0x0;while(!![]){switch(_0x1dc1a1[_0x497f61++]){case'0':this[_0x1ab07a(0x12a)]=![];continue;case'1':this[_0x1ab07a(0x114)]=_0xf02d03;continue;case'2':this[_0x1ab07a(0x11f)]=new OrchestrationUtils(_0xf02d03);continue;case'3':this[_0x1ab07a(0x14f)]={};continue;case'4':this['testOrderingServerHandler']=null;continue;case'5':this[_0x1ab07a(0x15d)]();continue;}break;}}['isTestOrchestrationEnabled'](){const _0x230711=a136_0x5e80bc,_0x336bc9={'oVRdz':function(_0x84b63e,_0x474d7b){return _0x84b63e(_0x474d7b);},'cmlNl':function(_0x53ebfa,_0x5629f9){return _0x53ebfa(_0x5629f9);},'yTKJc':function(_0x38e1ef,_0x2d86de){return _0x38e1ef(_0x2d86de);},'vpZES':function(_0x434a72,_0x38cadf){return _0x434a72(_0x38cadf);},'WDaQs':function(_0x4c0fba,_0x469f2e){return _0x4c0fba&&_0x469f2e;}},_0x17a10a=_0x336bc9[_0x230711(0x10d)](isNotUndefined,this[_0x230711(0x114)])&&(_0x336bc9[_0x230711(0x111)](isUndefined,this['config'][_0x230711(0x151)])||_0x336bc9['oVRdz'](isTrueString,this['config']['testObservability'])),_0xc3dee4=this['orchestrationUtils']['testOrderingEnabled'](),_0x2ba7c7=_0x336bc9['yTKJc'](isNotUndefined,this[_0x230711(0x114)])&&_0x336bc9[_0x230711(0x10d)](isNotUndefined,this[_0x230711(0x114)][_0x230711(0x16d)]),_0x4afee0=_0x336bc9['vpZES'](isNotUndefined,this[_0x230711(0x114)])&&_0x336bc9['vpZES'](isNotUndefined,this[_0x230711(0x114)][_0x230711(0x177)]);return _0x336bc9[_0x230711(0x162)](_0x17a10a,_0xc3dee4)&&_0x2ba7c7&&_0x4afee0;}['_initializeTestOrdering'](){const _0x86a1a4=a136_0x5e80bc,_0x57794a={};_0x57794a[_0x86a1a4(0x170)]=_0x86a1a4(0x11d),_0x57794a[_0x86a1a4(0x131)]=_0x86a1a4(0x109);const _0x5b639f=_0x57794a;this[_0x86a1a4(0x154)]()?(this[_0x86a1a4(0x16a)]=new TestOrderingServerHandler(this[_0x86a1a4(0x114)]),logger[_0x86a1a4(0x147)](_0x5b639f['IWGqs'])):(logger[_0x86a1a4(0x122)](_0x5b639f['ZYFtX']),this['logTestOrderingChecks']());}[a136_0x5e80bc(0x163)](){const _0x23abbf=a136_0x5e80bc,_0x434f7c={'TlCiI':function(_0x55aafa,_0x34b48d){return _0x55aafa(_0x34b48d);},'WQEty':function(_0x6159bf,_0x8814a2){return _0x6159bf(_0x8814a2);},'jhcqP':_0x23abbf(0x153),'OkqdY':function(_0x1f8aa9,_0x4592e1){return _0x1f8aa9(_0x4592e1);},'WTsSN':function(_0x136426,_0x40e47b){return _0x136426(_0x40e47b);},'rNurH':_0x23abbf(0x124)};if(!this[_0x23abbf(0x118)]())return;(!_0x434f7c[_0x23abbf(0x16f)](isNotUndefined,this[_0x23abbf(0x114)])||!_0x434f7c[_0x23abbf(0x16f)](isNotUndefined,this[_0x23abbf(0x114)][_0x23abbf(0x177)])||!_0x434f7c['WQEty'](isNotUndefined,this[_0x23abbf(0x114)][_0x23abbf(0x16d)]))&&logger['info'](_0x434f7c[_0x23abbf(0x143)]),_0x434f7c[_0x23abbf(0x126)](isNotUndefined,this[_0x23abbf(0x114)])&&_0x434f7c[_0x23abbf(0x146)](isNotUndefined,this[_0x23abbf(0x114)][_0x23abbf(0x151)])&&!_0x434f7c['TlCiI'](isTrueString,this[_0x23abbf(0x114)][_0x23abbf(0x151)])&&logger[_0x23abbf(0x147)](_0x434f7c['rNurH']);}[a136_0x5e80bc(0x118)](){const _0x2e554a=a136_0x5e80bc;return!this[_0x2e554a(0x154)]()&&this[_0x2e554a(0x11f)][_0x2e554a(0x11b)]();}[a136_0x5e80bc(0x176)](){return this['testOrderingApplied'];}[a136_0x5e80bc(0x134)](_0x23da28){const _0x3b0e91=a136_0x5e80bc,_0x4504b1={};_0x4504b1['cQFGm']=_0x3b0e91(0x175);const _0x238a94=_0x4504b1;this[_0x3b0e91(0x12a)]=_0x23da28,this[_0x3b0e91(0x168)](_0x238a94[_0x3b0e91(0x145)],_0x23da28);}['addToOrderingInstrumentationData'](_0x3be718,_0x311ef5){const _0x6109c8=a136_0x5e80bc;this[_0x6109c8(0x14f)][_0x3be718]=_0x311ef5;}[a136_0x5e80bc(0x121)](){return this['orderingInstrumentationData'];}[a136_0x5e80bc(0x157)](){const _0x270099=a136_0x5e80bc,_0x282a81={'cDtmV':function(_0x4207db,_0xae5176){return _0x4207db(_0xae5176);},'rPIOP':function(_0x1c8ff6,_0x10bb97){return _0x1c8ff6>_0x10bb97;}},_0x4cb910=_0x282a81['cDtmV'](parseInt,process['env'][_0x270099(0x13d)]||'1'),_0x290c10=process[_0x270099(0x133)][_0x270099(0x106)];_0x290c10&&_0x282a81['rPIOP'](_0x4cb910,0x1)&&(logger[_0x270099(0x122)](_0x270099(0x10e)+_0x290c10),this['config'][_0x270099(0x132)]=_0x290c10);}async[a136_0x5e80bc(0x10f)](_0x1fa658){const _0x3415ec=a136_0x5e80bc,_0x371bb2={'jwIUE':function(_0x487639,_0x2ed5bc){return _0x487639===_0x2ed5bc;},'cYdjF':function(_0x4b32cf,_0x8381b9){return _0x4b32cf===_0x8381b9;},'pwuwt':_0x3415ec(0x13a),'ZLhPJ':function(_0x4403b5,_0x1b5a5){return _0x4403b5===_0x1b5a5;},'pnMlz':function(_0x1ac47a,_0x111430){return _0x1ac47a(_0x111430);},'LwWvH':_0x3415ec(0x150),'iwFzw':_0x3415ec(0x137),'nIlxe':_0x3415ec(0x14d),'quKzp':'downloadedTestFilesCount','mSQSv':_0x3415ec(0x142)};try{if(!_0x1fa658||!Array[_0x3415ec(0x13f)](_0x1fa658)||_0x371bb2[_0x3415ec(0x164)](_0x1fa658[_0x3415ec(0x113)],0x0))return null;if(_0x371bb2[_0x3415ec(0x130)](this[_0x3415ec(0x154)](),![]))return logger[_0x3415ec(0x122)](_0x371bb2[_0x3415ec(0x179)]),null;let _0x2cd089=null;const _0x4a0657=this[_0x3415ec(0x11f)][_0x3415ec(0x17a)]();if(this[_0x3415ec(0x16a)]){const _0x269eae=await this[_0x3415ec(0x16a)][_0x3415ec(0x120)](_0x1fa658,_0x4a0657);if(!_0x269eae)return null;_0x2cd089=await this[_0x3415ec(0x16a)]['getOrderedTestFiles'](_0x269eae);}if(!_0x2cd089||!Array[_0x3415ec(0x13f)](_0x2cd089)||_0x371bb2[_0x3415ec(0x161)](_0x2cd089['length'],0x0))return null;const _0x2eb34b=_0x371bb2['pnMlz'](parseInt,process[_0x3415ec(0x133)]['BROWSERSTACK_NODE_INDEX']||'0'),_0x39c9f0=_0x371bb2[_0x3415ec(0x156)](parseInt,process[_0x3415ec(0x133)][_0x3415ec(0x13d)]||'1');return this[_0x3415ec(0x168)](_0x371bb2[_0x3415ec(0x107)],_0x1fa658[_0x3415ec(0x113)]),this[_0x3415ec(0x168)](_0x371bb2[_0x3415ec(0x149)],_0x2eb34b),this['addToOrderingInstrumentationData'](_0x371bb2[_0x3415ec(0x166)],_0x39c9f0),this[_0x3415ec(0x168)](_0x371bb2[_0x3415ec(0x155)],_0x2cd089[_0x3415ec(0x113)]),this[_0x3415ec(0x168)](_0x371bb2[_0x3415ec(0x12b)],this[_0x3415ec(0x16a)]?this['testOrderingServerHandler'][_0x3415ec(0x11c)]():0x0),_0x2cd089[_0x3415ec(0x138)](_0x4e603d=>sanitizedFilePath(_0x4e603d));}catch(_0x3210cd){return logger[_0x3415ec(0x122)]('[reorderTestFiles]\x20Error\x20in\x20ordering\x20test\x20files:\x20'+(_0x3210cd[_0x3415ec(0x16b)]||_0x3210cd[_0x3415ec(0x129)]())),null;}}async['findTestFiles'](_0x65e1d4,_0x50ec8b,_0xae6b27){const _0x123349=a136_0x5e80bc,_0x1cb7e6={'ubarD':function(_0x444417,_0x2eb693){return _0x444417(_0x2eb693);},'Nrrha':_0x123349(0x110),'umOGD':function(_0x48cc68,_0xd91922){return _0x48cc68(_0xd91922);},'YbEcV':_0x123349(0x119),'ytQeM':function(_0x4fa1b8,_0x12b341){return _0x4fa1b8(_0x12b341);},'gKEiW':_0x123349(0x108),'YelzW':function(_0x107edb,_0x3781fa){return _0x107edb(_0x3781fa);},'wRoOk':_0x123349(0x178),'cjxxo':_0x123349(0x135),'bFgpe':_0x123349(0x117),'IKPCy':function(_0x18a179,_0x27ddfd,_0x3d2a93,_0x364bc5){return _0x18a179(_0x27ddfd,_0x3d2a93,_0x364bc5);},'hkmtN':_0x123349(0x152),'kxtRD':_0x123349(0x10a),'qrvkR':_0x123349(0x12f),'kooWX':'--listTests','mshcy':'utf-8'};try{const {getTestPathPatterns:_0x505961}=_0x1cb7e6[_0x123349(0x13b)](require,_0x1cb7e6[_0x123349(0x174)]),{globsToMatcher:_0x4d03db}=_0x1cb7e6[_0x123349(0x14c)](require,_0x1cb7e6[_0x123349(0x116)]),{findRelatedTests:_0x27935a}=_0x1cb7e6[_0x123349(0x127)](require,_0x1cb7e6[_0x123349(0x115)]),_0x217824=_0x1cb7e6[_0x123349(0x13e)](require,_0x1cb7e6[_0x123349(0x141)]),_0xc168d8=_0x65e1d4[_0x123349(0x14e)]||[_0x1cb7e6[_0x123349(0x12e)],_0x1cb7e6[_0x123349(0x12c)]],_0x58bed2=_0x65e1d4[_0x123349(0x15a)]||[],_0x2e024d=_0x1cb7e6['IKPCy'](spawnSync,_0x1cb7e6['hkmtN'],[_0x1cb7e6[_0x123349(0x11a)],_0x1cb7e6[_0x123349(0x165)],_0xae6b27,..._0x50ec8b,_0x1cb7e6[_0x123349(0x125)]],{'encoding':_0x1cb7e6[_0x123349(0x173)]});let _0x2b276e=[];!_0x2e024d[_0x123349(0x112)]&&(_0x2b276e=_0x2e024d[_0x123349(0x139)][_0x123349(0x15b)]('\x0a')[_0x123349(0x169)](Boolean));logger['debug'](_0x123349(0x172)+JSON[_0x123349(0x160)](_0x2b276e)+_0x123349(0x128));const _0x572127={};_0x572127[_0x123349(0x16e)]=!![],_0x572127[_0x123349(0x136)]=_0x58bed2;const _0x442c66=_0x1cb7e6[_0x123349(0x158)](micromatch,_0x2b276e,_0xc168d8,_0x572127)[_0x123349(0x138)](_0x335bd6=>path['relative'](_0x65e1d4[_0x123349(0x144)],_0x335bd6));return logger['debug'](_0x123349(0x17b)+JSON[_0x123349(0x160)](_0x442c66)+_0x123349(0x128)),_0x442c66;}catch(_0x510777){return logger['debug']('Error\x20finding\x20test\x20files:\x20'+_0x510777),[];}}}module[a136_0x5e80bc(0x140)]=TestOrchestrationHandler;