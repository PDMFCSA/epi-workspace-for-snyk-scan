const a123_0x415210=a123_0x5205;(function(_0x2bc809,_0x6d5c29){const _0x4038cc=a123_0x5205,_0x41ddf8=_0x2bc809();while(!![]){try{const _0x34862a=parseInt(_0x4038cc(0x97))/0x1+parseInt(_0x4038cc(0x9f))/0x2+parseInt(_0x4038cc(0xbc))/0x3*(parseInt(_0x4038cc(0xdf))/0x4)+-parseInt(_0x4038cc(0xcc))/0x5*(parseInt(_0x4038cc(0xf6))/0x6)+parseInt(_0x4038cc(0xcd))/0x7*(-parseInt(_0x4038cc(0xd2))/0x8)+-parseInt(_0x4038cc(0xa4))/0x9*(parseInt(_0x4038cc(0xac))/0xa)+parseInt(_0x4038cc(0xcf))/0xb*(parseInt(_0x4038cc(0xa3))/0xc);if(_0x34862a===_0x6d5c29)break;else _0x41ddf8['push'](_0x41ddf8['shift']());}catch(_0x3645e7){_0x41ddf8['push'](_0x41ddf8['shift']());}}}(a123_0xe4f6,0x350fa));const logger=require('../logger')[a123_0x415210(0xf9)],{isUndefined,isNotUndefined,isTrueString,sanitizedFilePath}=require('../helper'),TestOrderingServerHandler=require(a123_0x415210(0xa8)),OrchestrationUtils=require('./orchestrationUtils'),path=require(a123_0x415210(0xbd)),{spawnSync}=require(a123_0x415210(0x94)),micromatch=require('micromatch'),fs=require('fs');class TestOrchestrationHandler{constructor(_0xbc8d9){const _0x35f565=a123_0x415210,_0x38d709={};_0x38d709[_0x35f565(0xd5)]=_0x35f565(0x98);const _0x263881=_0x38d709,_0x4e1510=_0x263881[_0x35f565(0xd5)][_0x35f565(0xf3)]('|');let _0x582693=0x0;while(!![]){switch(_0x4e1510[_0x582693++]){case'0':this[_0x35f565(0xdc)]();continue;case'1':this[_0x35f565(0xf2)]=new OrchestrationUtils(_0xbc8d9);continue;case'2':this['orderingInstrumentationData']={};continue;case'3':this['testOrderingApplied']=![];continue;case'4':this[_0x35f565(0xba)]=_0xbc8d9;continue;case'5':this[_0x35f565(0xde)]=null;continue;}break;}}['isTestOrchestrationEnabled'](){const _0x58d2f7=a123_0x415210,_0x58bc16={'FrDrR':function(_0x33c0f3,_0x59fe90){return _0x33c0f3(_0x59fe90);},'rEhap':function(_0x301de9,_0x5d98e9){return _0x301de9(_0x5d98e9);},'TCaEN':function(_0x4c3007,_0xb14f79){return _0x4c3007(_0xb14f79);},'XaVtR':function(_0x3c5431,_0x3e3d8d){return _0x3c5431(_0x3e3d8d);},'TVlVq':function(_0x46d9d3,_0x2101ff){return _0x46d9d3(_0x2101ff);},'HmHXF':function(_0x26e278,_0x493a82){return _0x26e278&&_0x493a82;}},_0x30dd9c=_0x58bc16[_0x58d2f7(0xda)](isNotUndefined,this[_0x58d2f7(0xba)])&&(_0x58bc16['rEhap'](isUndefined,this[_0x58d2f7(0xba)][_0x58d2f7(0xf1)])||_0x58bc16[_0x58d2f7(0xe2)](isTrueString,this['config'][_0x58d2f7(0xf1)])),_0x1aea04=this[_0x58d2f7(0xf2)][_0x58d2f7(0xb7)](),_0x24910f=_0x58bc16[_0x58d2f7(0xda)](isNotUndefined,this[_0x58d2f7(0xba)])&&_0x58bc16[_0x58d2f7(0xc3)](isNotUndefined,this[_0x58d2f7(0xba)][_0x58d2f7(0xd9)]),_0x4ab421=_0x58bc16['TVlVq'](isNotUndefined,this[_0x58d2f7(0xba)])&&_0x58bc16['rEhap'](isNotUndefined,this[_0x58d2f7(0xba)][_0x58d2f7(0xc5)]);return _0x58bc16[_0x58d2f7(0xcb)](_0x30dd9c,_0x1aea04)&&_0x24910f&&_0x4ab421;}[a123_0x415210(0xdc)](){const _0x24dc2d=a123_0x415210,_0x3bf080={};_0x3bf080[_0x24dc2d(0xb2)]='Test\x20orchestration\x20with\x20test\x20ordering\x20enabled',_0x3bf080[_0x24dc2d(0xf7)]=_0x24dc2d(0xb8);const _0x434418=_0x3bf080;this[_0x24dc2d(0x9b)]()?(this[_0x24dc2d(0xde)]=new TestOrderingServerHandler(this[_0x24dc2d(0xba)]),logger[_0x24dc2d(0xee)](_0x434418[_0x24dc2d(0xb2)])):(logger[_0x24dc2d(0xb1)](_0x434418[_0x24dc2d(0xf7)]),this['logTestOrderingChecks']());}[a123_0x415210(0xb0)](){const _0x5ad766=a123_0x415210,_0x4c8338={'iINIm':function(_0x15389a,_0x1094cc){return _0x15389a(_0x1094cc);},'qrbcW':_0x5ad766(0xa7),'HZJoM':function(_0x3cd190,_0x25a3de){return _0x3cd190(_0x25a3de);},'QiHbj':function(_0x29a2b8,_0x15e638){return _0x29a2b8(_0x15e638);},'qWrmb':_0x5ad766(0x92)};if(!this[_0x5ad766(0xc7)]())return;(!_0x4c8338['iINIm'](isNotUndefined,this[_0x5ad766(0xba)])||!_0x4c8338['iINIm'](isNotUndefined,this[_0x5ad766(0xba)][_0x5ad766(0xc5)])||!_0x4c8338[_0x5ad766(0x93)](isNotUndefined,this['config'][_0x5ad766(0xd9)]))&&logger[_0x5ad766(0xee)](_0x4c8338[_0x5ad766(0xb5)]),_0x4c8338[_0x5ad766(0x93)](isNotUndefined,this[_0x5ad766(0xba)])&&_0x4c8338['HZJoM'](isNotUndefined,this[_0x5ad766(0xba)][_0x5ad766(0xf1)])&&!_0x4c8338[_0x5ad766(0x8f)](isTrueString,this[_0x5ad766(0xba)][_0x5ad766(0xf1)])&&logger['info'](_0x4c8338[_0x5ad766(0xc2)]);}[a123_0x415210(0xc7)](){const _0x1bcc1b=a123_0x415210;return!this[_0x1bcc1b(0x9b)]()&&this[_0x1bcc1b(0xf2)]['testOrderingEnabled']();}['isTestOrderingApplied'](){const _0x6c1462=a123_0x415210;return this[_0x6c1462(0xb4)];}['setTestOrderingApplied'](_0x56fce7){const _0x390be8=a123_0x415210,_0x5706c7={};_0x5706c7[_0x390be8(0xe4)]='applied';const _0x5758ae=_0x5706c7;this[_0x390be8(0xb4)]=_0x56fce7,this[_0x390be8(0xa1)](_0x5758ae['dmGKx'],_0x56fce7);}[a123_0x415210(0xa1)](_0x45b09c,_0x1dd882){const _0x4fa657=a123_0x415210;this[_0x4fa657(0xe3)][_0x45b09c]=_0x1dd882;}[a123_0x415210(0x96)](){const _0x24881c=a123_0x415210;return this[_0x24881c(0xe3)];}['updateBuildIdentifier'](){const _0x5a7c50=a123_0x415210,_0x128688={'gIGsG':function(_0x30bd4c,_0x1d6b8e){return _0x30bd4c(_0x1d6b8e);},'GcFsr':function(_0x33646e,_0x5c9059){return _0x33646e>_0x5c9059;}},_0x176546=_0x128688[_0x5a7c50(0xc4)](parseInt,process[_0x5a7c50(0xa9)][_0x5a7c50(0xed)]||'1'),_0x45dd95=process[_0x5a7c50(0xa9)][_0x5a7c50(0xd6)];_0x45dd95&&_0x128688['GcFsr'](_0x176546,0x1)&&(logger[_0x5a7c50(0xb1)](_0x5a7c50(0xbe)+_0x45dd95),this[_0x5a7c50(0xba)][_0x5a7c50(0xbf)]=_0x45dd95);}async[a123_0x415210(0xc0)](_0x21e341){const _0x54e689=a123_0x415210,_0x38265b={'VqtdD':function(_0x1c4c69,_0x29644b){return _0x1c4c69===_0x29644b;},'IDEzl':function(_0x505cd1,_0x5c9792){return _0x505cd1===_0x5c9792;},'nAJZB':_0x54e689(0xe6),'CHhFX':function(_0x46bd36,_0x3b0266){return _0x46bd36(_0x3b0266);},'MvoZu':_0x54e689(0xaf),'ufBlh':_0x54e689(0x9e),'rYnXs':_0x54e689(0xad),'FvtzF':'downloadedTestFilesCount','mNNCf':'splitTestsAPICallCount'};try{if(!_0x21e341||!Array['isArray'](_0x21e341)||_0x38265b[_0x54e689(0xa6)](_0x21e341['length'],0x0))return null;if(_0x38265b[_0x54e689(0xd0)](this[_0x54e689(0x9b)](),![]))return logger[_0x54e689(0xb1)](_0x38265b[_0x54e689(0xd3)]),null;let _0x2dbaec=null;const _0x29aff8=this['orchestrationUtils'][_0x54e689(0x99)]();if(this[_0x54e689(0xde)]){const _0x3f5066=await this[_0x54e689(0xde)]['splitTests'](_0x21e341,_0x29aff8);if(!_0x3f5066)return null;_0x2dbaec=await this[_0x54e689(0xde)][_0x54e689(0xf0)](_0x3f5066);}if(!_0x2dbaec||!Array['isArray'](_0x2dbaec)||_0x38265b[_0x54e689(0xa6)](_0x2dbaec[_0x54e689(0xef)],0x0))return null;const _0x4b9521=_0x38265b['CHhFX'](parseInt,process[_0x54e689(0xa9)][_0x54e689(0xb9)]||'0'),_0x45509b=_0x38265b[_0x54e689(0xdb)](parseInt,process['env'][_0x54e689(0xed)]||'1');return this[_0x54e689(0xa1)](_0x38265b[_0x54e689(0xb6)],_0x21e341['length']),this['addToOrderingInstrumentationData'](_0x38265b[_0x54e689(0x8d)],_0x4b9521),this[_0x54e689(0xa1)](_0x38265b[_0x54e689(0xd4)],_0x45509b),this[_0x54e689(0xa1)](_0x38265b['FvtzF'],_0x2dbaec['length']),this[_0x54e689(0xa1)](_0x38265b[_0x54e689(0x90)],this['testOrderingServerHandler']?this[_0x54e689(0xde)][_0x54e689(0xc9)]():0x0),_0x2dbaec[_0x54e689(0xf8)](_0xb16990=>sanitizedFilePath(_0xb16990));}catch(_0x4ee2f4){return logger['debug']('[reorderTestFiles]\x20Error\x20in\x20ordering\x20test\x20files:\x20'+(_0x4ee2f4[_0x54e689(0xe9)]||_0x4ee2f4[_0x54e689(0xbb)]())),null;}}async[a123_0x415210(0xae)](_0x30f7a6,_0x4674c5,_0x50c12a){const _0x49f5bd=a123_0x415210,_0x1dadd4={'sKTWq':function(_0x1b29c0,_0x854899){return _0x1b29c0(_0x854899);},'vOrnW':_0x49f5bd(0x95),'sFKtE':function(_0x260a8f,_0x4a2791){return _0x260a8f(_0x4a2791);},'KmLph':_0x49f5bd(0xe7),'lLozc':function(_0x46a6ac,_0x37d7e5){return _0x46a6ac(_0x37d7e5);},'YUPyU':'jest-runner','bkitB':function(_0x2bab39,_0x251848){return _0x2bab39(_0x251848);},'RXPnS':_0x49f5bd(0xe5),'efmVF':_0x49f5bd(0xce),'GCejg':'**/?(*.)+(spec|test).[jt]s?(x)','bZcMw':function(_0x3a538e,_0x4a467f,_0x2421b8,_0x40a32e){return _0x3a538e(_0x4a467f,_0x2421b8,_0x40a32e);},'mjuPT':_0x49f5bd(0xc6),'vqTUy':_0x49f5bd(0x9a),'ZNydj':'--config','LUwNN':'--listTests','GREJw':_0x49f5bd(0xe1)};try{const {getTestPathPatterns:_0x43b0d9}=_0x1dadd4[_0x49f5bd(0xab)](require,_0x1dadd4['vOrnW']),{globsToMatcher:_0x32b344}=_0x1dadd4[_0x49f5bd(0xd1)](require,_0x1dadd4['KmLph']),{findRelatedTests:_0x709079}=_0x1dadd4[_0x49f5bd(0xa0)](require,_0x1dadd4[_0x49f5bd(0xc1)]),_0x215483=_0x1dadd4['bkitB'](require,_0x1dadd4[_0x49f5bd(0xea)]),_0xd0b784=_0x30f7a6[_0x49f5bd(0xc8)]||[_0x1dadd4[_0x49f5bd(0xa2)],_0x1dadd4[_0x49f5bd(0x8e)]],_0x39ec2a=_0x30f7a6[_0x49f5bd(0xf4)]||[],_0x2349e8=_0x1dadd4[_0x49f5bd(0x9d)](spawnSync,_0x1dadd4[_0x49f5bd(0xd8)],[_0x1dadd4[_0x49f5bd(0xdd)],_0x1dadd4[_0x49f5bd(0xf5)],_0x50c12a,..._0x4674c5,_0x1dadd4[_0x49f5bd(0x9c)]],{'encoding':_0x1dadd4['GREJw']});let _0xac1d7d=[];!_0x2349e8[_0x49f5bd(0xd7)]&&(_0xac1d7d=_0x2349e8[_0x49f5bd(0xe0)]['split']('\x0a')[_0x49f5bd(0x91)](Boolean));logger[_0x49f5bd(0xb1)]('Found\x20test\x20files:\x20'+JSON['stringify'](_0xac1d7d)+_0x49f5bd(0xeb));const _0x5b3ee3={};_0x5b3ee3[_0x49f5bd(0xec)]=!![],_0x5b3ee3[_0x49f5bd(0xaa)]=_0x39ec2a;const _0x158883=_0x1dadd4[_0x49f5bd(0x9d)](micromatch,_0xac1d7d,_0xd0b784,_0x5b3ee3)[_0x49f5bd(0xf8)](_0x3e1681=>path[_0x49f5bd(0xb3)](_0x30f7a6['rootDir'],_0x3e1681));return logger['debug']('Filterted\x20to\x20test\x20files:\x20'+JSON[_0x49f5bd(0xa5)](_0x158883)+_0x49f5bd(0xeb)),_0x158883;}catch(_0x527288){return logger['debug'](_0x49f5bd(0xe8)+_0x527288),[];}}}function a123_0x5205(_0x300629,_0x1ba8a1){const _0xe4f6ce=a123_0xe4f6();return a123_0x5205=function(_0x5205e9,_0x190a26){_0x5205e9=_0x5205e9-0x8d;let _0x3f921f=_0xe4f6ce[_0x5205e9];return _0x3f921f;},a123_0x5205(_0x300629,_0x1ba8a1);}module[a123_0x415210(0xca)]=TestOrchestrationHandler;function a123_0xe4f6(){const _0x5436d3=['TCaEN','orderingInstrumentationData','dmGKx','glob','[reorderTestFiles]\x20Test\x20ordering\x20is\x20not\x20supported\x20or\x20enabled','jest-util','Error\x20finding\x20test\x20files:\x20','stack','RXPnS','\x20files','matchBase','BROWSERSTACK_TOTAL_NODE_COUNT','info','length','getOrderedTestFiles','testObservability','orchestrationUtils','split','testPathIgnorePatterns','ZNydj','4164NpgHpE','zVvpZ','map','winstonLogger','ufBlh','GCejg','QiHbj','mNNCf','filter','Test\x20Reordering\x20is\x20unavailable\x20because\x20testReporting\x20is\x20disabled.\x20Please\x20enable\x20it\x20from\x20browserstack.yml\x20file.','iINIm','child_process','jest-config','getOrderingInstrumentationData','59897ifroRQ','4|2|3|5|1|0','getTestOrderingName','jest','isTestOrchestrationEnabled','LUwNN','bZcMw','nodeIndex','479748FKxHJC','lLozc','addToOrderingInstrumentationData','efmVF','12YMtSAX','312462xUSKbf','stringify','VqtdD','Test\x20Reordering\x20is\x20unavailable\x20because\x20buildName\x20or\x20projectName\x20is\x20null.\x20Please\x20set\x20a\x20non-null\x20value.','./testOrderingServerHandler','env','ignore','sKTWq','20alMfhK','totalNodes','findTestFiles','uploadedTestFilesCount','logTestOrderingChecks','debug','dnQhN','relative','testOrderingApplied','qrbcW','MvoZu','testOrderingEnabled','Test\x20orchestration\x20without\x20test\x20ordering','BROWSERSTACK_NODE_INDEX','config','toString','12CuwRil','path','[orchestrate]\x20Setting\x20buildIdentifier\x20to\x20buildRunIdentifier:\x20','buildIdentifier','reorderTestFiles','YUPyU','qWrmb','XaVtR','gIGsG','buildName','npx','_shouldLogTestOrderingChecks','testMatch','getSplitTestsAPICallCount','exports','HmHXF','1045jIXTlC','40096mOYfeo','**/__tests__/**/*.[jt]s?(x)','2620519cIQMpw','IDEzl','sFKtE','456mwFoOD','nAJZB','rYnXs','TyTnS','BROWSERSTACK_BUILD_RUN_IDENTIFIER','error','mjuPT','projectName','FrDrR','CHhFX','_initializeTestOrdering','vqTUy','testOrderingServerHandler','220316NeaLNn','stdout','utf-8'];a123_0xe4f6=function(){return _0x5436d3;};return a123_0xe4f6();}