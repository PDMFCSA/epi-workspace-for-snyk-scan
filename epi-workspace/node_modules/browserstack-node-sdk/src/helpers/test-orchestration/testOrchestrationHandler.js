const a132_0x3b7c2d=a132_0xf2e0;function a132_0x41b5(){const _0x384381=['Test\x20Reordering\x20is\x20unavailable\x20because\x20buildName\x20or\x20projectName\x20is\x20null.\x20Please\x20set\x20a\x20non-null\x20value.','yvxBv','micromatch','isTestOrderingApplied','stack','config','TXvCG','../logger','avlaX','--listTests','logTestOrderingChecks','HLELK','winstonLogger','./testOrderingServerHandler','1108040lxWuWR','stdout','**/__tests__/**/*.[jt]s?(x)','reorderTestFiles','jest','UZJKC','988040LDXHHU','utf-8','testObservability','map','_shouldLogTestOrderingChecks','BROWSERSTACK_BUILD_RUN_IDENTIFIER','setTestOrderingApplied','[reorderTestFiles]\x20Error\x20in\x20ordering\x20test\x20files:\x20','splitTestsAPICallCount','Found\x20test\x20files:\x20','env','102032pvVgEW','error','qtxhn','addToOrderingInstrumentationData','--config','jkAjg','getSplitTestsAPICallCount','Error\x20finding\x20test\x20files:\x20','dAoAI','DZllD','KoKGk','QlplW','VLHPw','ignore','WCYLE','BROWSERSTACK_TOTAL_NODE_COUNT','_initializeTestOrdering','projectName','Filterted\x20to\x20test\x20files:\x20','9367568avTWDO','jest-runner','1312989jLrLcI','testOrderingEnabled','28396296QRlFJt','length','YDHEc','olmdU','Test\x20orchestration\x20with\x20test\x20ordering\x20enabled','filter','hxRxt','26435dzRQIx','MkHYN','getOrderedTestFiles','HwKyf','khkQb','4hlhNJj','jZTPp','jlCoD','uDnDj','downloadedTestFilesCount','tQcQf','QjwJQ','Test\x20Reordering\x20is\x20unavailable\x20because\x20testReporting\x20is\x20disabled.\x20Please\x20enable\x20it\x20from\x20browserstack.yml\x20file.','updateBuildIdentifier','buildIdentifier','\x20files','isTestOrchestrationEnabled','588JdEGMb','**/?(*.)+(spec|test).[jt]s?(x)','testOrderingServerHandler','rootDir','getOrderingInstrumentationData','eYfCN','ytPkO','npx','BSzZQ','urhJR','testMatch','YxJWN','Giuhl','VKoAH','isArray','splitTests','orderingInstrumentationData','[reorderTestFiles]\x20Test\x20ordering\x20is\x20not\x20supported\x20or\x20enabled','split','info','gOFHR','yuGMI','jcWhY','./orchestrationUtils','orchestrationUtils','jest-util','OepXZ','tcBFr','nodeIndex','debug','../helper','lZYZJ','gWQcF','testOrderingApplied'];a132_0x41b5=function(){return _0x384381;};return a132_0x41b5();}(function(_0xd50fac,_0x321692){const _0xc3c9ec=a132_0xf2e0,_0x3c2649=_0xd50fac();while(!![]){try{const _0x10f55e=-parseInt(_0xc3c9ec(0x1ba))/0x1+-parseInt(_0xc3c9ec(0x1e8))/0x2*(-parseInt(_0xc3c9ec(0x1da))/0x3)+parseInt(_0xc3c9ec(0x1b4))/0x4+-parseInt(_0xc3c9ec(0x1e3))/0x5+-parseInt(_0xc3c9ec(0x1f4))/0x6*(parseInt(_0xc3c9ec(0x1c5))/0x7)+-parseInt(_0xc3c9ec(0x1d8))/0x8+parseInt(_0xc3c9ec(0x1dc))/0x9;if(_0x10f55e===_0x321692)break;else _0x3c2649['push'](_0x3c2649['shift']());}catch(_0x317441){_0x3c2649['push'](_0x3c2649['shift']());}}}(a132_0x41b5,0xae807));const logger=require(a132_0x3b7c2d(0x1ad))[a132_0x3b7c2d(0x1b2)],{isUndefined,isNotUndefined,isTrueString,sanitizedFilePath}=require(a132_0x3b7c2d(0x1a2)),TestOrderingServerHandler=require(a132_0x3b7c2d(0x1b3)),OrchestrationUtils=require(a132_0x3b7c2d(0x20b)),path=require('path'),{spawnSync}=require('child_process'),micromatch=require(a132_0x3b7c2d(0x1a8)),fs=require('fs');function a132_0xf2e0(_0x27331b,_0x42255b){const _0x41b5a1=a132_0x41b5();return a132_0xf2e0=function(_0xf2e0f3,_0x2c61eb){_0xf2e0f3=_0xf2e0f3-0x19f;let _0x38dbab=_0x41b5a1[_0xf2e0f3];return _0x38dbab;},a132_0xf2e0(_0x27331b,_0x42255b);}class TestOrchestrationHandler{constructor(_0xdc0f48){const _0x384824=a132_0x3b7c2d,_0xd96b8a={};_0xd96b8a[_0x384824(0x19f)]='3|1|0|5|2|4';const _0x2154cd=_0xd96b8a,_0x3c9f77=_0x2154cd[_0x384824(0x19f)][_0x384824(0x206)]('|');let _0x32f7a3=0x0;while(!![]){switch(_0x3c9f77[_0x32f7a3++]){case'0':this['testOrderingApplied']=![];continue;case'1':this['orderingInstrumentationData']={};continue;case'2':this['orchestrationUtils']=new OrchestrationUtils(_0xdc0f48);continue;case'3':this[_0x384824(0x1ab)]=_0xdc0f48;continue;case'4':this[_0x384824(0x1d5)]();continue;case'5':this[_0x384824(0x1f6)]=null;continue;}break;}}[a132_0x3b7c2d(0x1f3)](){const _0x1c5b71=a132_0x3b7c2d,_0x232312={'VKoAH':function(_0x196992,_0xecbd04){return _0x196992(_0xecbd04);},'KoKGk':function(_0x578fb6,_0xc70cf7){return _0x578fb6(_0xc70cf7);},'wFixs':function(_0x3e704c,_0x26bc49){return _0x3e704c(_0x26bc49);},'eYfCN':function(_0x17f375,_0x16001c){return _0x17f375(_0x16001c);},'yuGMI':function(_0x176ba8,_0x48ff8d){return _0x176ba8(_0x48ff8d);},'ytPkO':function(_0x2cf111,_0x599211){return _0x2cf111&&_0x599211;}},_0x5ee6f9=_0x232312['VKoAH'](isNotUndefined,this[_0x1c5b71(0x1ab)])&&(_0x232312[_0x1c5b71(0x1cf)](isUndefined,this[_0x1c5b71(0x1ab)][_0x1c5b71(0x1bc)])||_0x232312[_0x1c5b71(0x1cf)](isTrueString,this[_0x1c5b71(0x1ab)]['testObservability'])),_0x3e4b89=this[_0x1c5b71(0x20c)][_0x1c5b71(0x1db)](),_0x527399=_0x232312['wFixs'](isNotUndefined,this[_0x1c5b71(0x1ab)])&&_0x232312[_0x1c5b71(0x201)](isNotUndefined,this['config'][_0x1c5b71(0x1d6)]),_0x1c6f04=_0x232312[_0x1c5b71(0x1f9)](isNotUndefined,this[_0x1c5b71(0x1ab)])&&_0x232312[_0x1c5b71(0x209)](isNotUndefined,this[_0x1c5b71(0x1ab)]['buildName']);return _0x232312[_0x1c5b71(0x1fa)](_0x5ee6f9,_0x3e4b89)&&_0x527399&&_0x1c6f04;}['_initializeTestOrdering'](){const _0x24ebd4=a132_0x3b7c2d,_0x2c7fbc={};_0x2c7fbc[_0x24ebd4(0x1cd)]=_0x24ebd4(0x1e0),_0x2c7fbc[_0x24ebd4(0x1ee)]='Test\x20orchestration\x20without\x20test\x20ordering';const _0x138fab=_0x2c7fbc;this[_0x24ebd4(0x1f3)]()?(this[_0x24ebd4(0x1f6)]=new TestOrderingServerHandler(this[_0x24ebd4(0x1ab)]),logger[_0x24ebd4(0x207)](_0x138fab['dAoAI'])):(logger[_0x24ebd4(0x1a1)](_0x138fab['QjwJQ']),this[_0x24ebd4(0x1b0)]());}[a132_0x3b7c2d(0x1b0)](){const _0x1df5a4=a132_0x3b7c2d,_0x9aa97c={'tQcQf':function(_0x309092,_0x278b1c){return _0x309092(_0x278b1c);},'jZTPp':function(_0x303276,_0x3855a9){return _0x303276(_0x3855a9);},'OepXZ':function(_0x1af800,_0xbecc3f){return _0x1af800(_0xbecc3f);},'WCYLE':_0x1df5a4(0x1a6),'rbuNv':function(_0x22d8da,_0x59fcf2){return _0x22d8da(_0x59fcf2);},'qtxhn':function(_0x433035,_0x4615e2){return _0x433035(_0x4615e2);},'yvxBv':_0x1df5a4(0x1ef)};if(!this[_0x1df5a4(0x1be)]())return;(!_0x9aa97c[_0x1df5a4(0x1ed)](isNotUndefined,this[_0x1df5a4(0x1ab)])||!_0x9aa97c[_0x1df5a4(0x1e9)](isNotUndefined,this['config']['buildName'])||!_0x9aa97c[_0x1df5a4(0x20e)](isNotUndefined,this[_0x1df5a4(0x1ab)][_0x1df5a4(0x1d6)]))&&logger['info'](_0x9aa97c[_0x1df5a4(0x1d3)]),_0x9aa97c['rbuNv'](isNotUndefined,this[_0x1df5a4(0x1ab)])&&_0x9aa97c[_0x1df5a4(0x1ed)](isNotUndefined,this[_0x1df5a4(0x1ab)][_0x1df5a4(0x1bc)])&&!_0x9aa97c[_0x1df5a4(0x1c7)](isTrueString,this[_0x1df5a4(0x1ab)][_0x1df5a4(0x1bc)])&&logger[_0x1df5a4(0x207)](_0x9aa97c[_0x1df5a4(0x1a7)]);}['_shouldLogTestOrderingChecks'](){const _0x5a2562=a132_0x3b7c2d;return!this[_0x5a2562(0x1f3)]()&&this[_0x5a2562(0x20c)][_0x5a2562(0x1db)]();}[a132_0x3b7c2d(0x1a9)](){const _0x6cfbce=a132_0x3b7c2d;return this[_0x6cfbce(0x1a5)];}[a132_0x3b7c2d(0x1c0)](_0x1fd913){const _0x5ddb2d=a132_0x3b7c2d,_0x33d7c1={};_0x33d7c1['QlplW']='applied';const _0x197d68=_0x33d7c1;this[_0x5ddb2d(0x1a5)]=_0x1fd913,this[_0x5ddb2d(0x1c8)](_0x197d68[_0x5ddb2d(0x1d0)],_0x1fd913);}[a132_0x3b7c2d(0x1c8)](_0x3fd189,_0x13a88a){const _0x3d8077=a132_0x3b7c2d;this[_0x3d8077(0x204)][_0x3fd189]=_0x13a88a;}[a132_0x3b7c2d(0x1f8)](){const _0x55a842=a132_0x3b7c2d;return this[_0x55a842(0x204)];}[a132_0x3b7c2d(0x1f0)](){const _0x1fccee=a132_0x3b7c2d,_0x232245={'kTLPv':function(_0x12276f,_0x5a5114){return _0x12276f(_0x5a5114);},'khkQb':function(_0x1b2c4b,_0x2028d9){return _0x1b2c4b>_0x2028d9;}},_0x52041a=_0x232245['kTLPv'](parseInt,process[_0x1fccee(0x1c4)]['BROWSERSTACK_TOTAL_NODE_COUNT']||'1'),_0xa90838=process[_0x1fccee(0x1c4)][_0x1fccee(0x1bf)];_0xa90838&&_0x232245[_0x1fccee(0x1e7)](_0x52041a,0x1)&&(logger[_0x1fccee(0x1a1)]('[orchestrate]\x20Setting\x20buildIdentifier\x20to\x20buildRunIdentifier:\x20'+_0xa90838),this[_0x1fccee(0x1ab)][_0x1fccee(0x1f1)]=_0xa90838);}async[a132_0x3b7c2d(0x1b7)](_0x406c40){const _0x57b6ea=a132_0x3b7c2d,_0x44b932={'avlaX':function(_0x142605,_0x3a5648){return _0x142605===_0x3a5648;},'BSzZQ':function(_0x3354b2,_0x41025a){return _0x3354b2===_0x41025a;},'gOFHR':_0x57b6ea(0x205),'TXvCG':function(_0x40d6a5,_0x7b0a38){return _0x40d6a5(_0x7b0a38);},'ffBly':function(_0x168f00,_0x51891d){return _0x168f00(_0x51891d);},'jkAjg':'uploadedTestFilesCount','jlCoD':_0x57b6ea(0x1a0),'VLHPw':'totalNodes','hxRxt':_0x57b6ea(0x1ec),'HwKyf':_0x57b6ea(0x1c2)};try{if(!_0x406c40||!Array[_0x57b6ea(0x202)](_0x406c40)||_0x44b932[_0x57b6ea(0x1ae)](_0x406c40['length'],0x0))return null;if(_0x44b932['BSzZQ'](this[_0x57b6ea(0x1f3)](),![]))return logger[_0x57b6ea(0x1a1)](_0x44b932[_0x57b6ea(0x208)]),null;let _0x1c9460=null;const _0xae3569=this[_0x57b6ea(0x20c)]['getTestOrderingName']();if(this['testOrderingServerHandler']){const _0x30081c=await this['testOrderingServerHandler'][_0x57b6ea(0x203)](_0x406c40,_0xae3569);if(!_0x30081c)return null;_0x1c9460=await this[_0x57b6ea(0x1f6)][_0x57b6ea(0x1e5)](_0x30081c);}if(!_0x1c9460||!Array[_0x57b6ea(0x202)](_0x1c9460)||_0x44b932[_0x57b6ea(0x1fc)](_0x1c9460[_0x57b6ea(0x1dd)],0x0))return null;const _0x5a2a95=_0x44b932[_0x57b6ea(0x1ac)](parseInt,process[_0x57b6ea(0x1c4)]['BROWSERSTACK_NODE_INDEX']||'0'),_0x3f72b2=_0x44b932['ffBly'](parseInt,process[_0x57b6ea(0x1c4)][_0x57b6ea(0x1d4)]||'1');return this['addToOrderingInstrumentationData'](_0x44b932[_0x57b6ea(0x1ca)],_0x406c40[_0x57b6ea(0x1dd)]),this[_0x57b6ea(0x1c8)](_0x44b932[_0x57b6ea(0x1ea)],_0x5a2a95),this[_0x57b6ea(0x1c8)](_0x44b932[_0x57b6ea(0x1d1)],_0x3f72b2),this[_0x57b6ea(0x1c8)](_0x44b932[_0x57b6ea(0x1e2)],_0x1c9460['length']),this['addToOrderingInstrumentationData'](_0x44b932[_0x57b6ea(0x1e6)],this['testOrderingServerHandler']?this[_0x57b6ea(0x1f6)][_0x57b6ea(0x1cb)]():0x0),_0x1c9460[_0x57b6ea(0x1bd)](_0x25f54e=>sanitizedFilePath(_0x25f54e));}catch(_0x653a1d){return logger[_0x57b6ea(0x1a1)](_0x57b6ea(0x1c1)+(_0x653a1d[_0x57b6ea(0x1aa)]||_0x653a1d['toString']())),null;}}async['findTestFiles'](_0x3c6268,_0x3c0cd1,_0x356393){const _0x2c2a17=a132_0x3b7c2d,_0x320242={'jcWhY':function(_0x4339c2,_0x1ec9cf){return _0x4339c2(_0x1ec9cf);},'uDnDj':'jest-config','UZJKC':function(_0x590b11,_0x594e8c){return _0x590b11(_0x594e8c);},'YxJWN':_0x2c2a17(0x20d),'CpFbF':function(_0x2b5d20,_0x3f4077){return _0x2b5d20(_0x3f4077);},'gWQcF':_0x2c2a17(0x1d9),'HLELK':'glob','YDHEc':_0x2c2a17(0x1b6),'NquYo':_0x2c2a17(0x1f5),'MkHYN':function(_0xefd95e,_0x4f68c2,_0x4f1b8b,_0x18cc1c){return _0xefd95e(_0x4f68c2,_0x4f1b8b,_0x18cc1c);},'olmdU':_0x2c2a17(0x1fb),'urhJR':_0x2c2a17(0x1b8),'Giuhl':_0x2c2a17(0x1c9),'DZllD':_0x2c2a17(0x1af),'lZYZJ':_0x2c2a17(0x1bb)};try{const {getTestPathPatterns:_0x1ba6d1}=_0x320242[_0x2c2a17(0x20a)](require,_0x320242[_0x2c2a17(0x1eb)]),{globsToMatcher:_0x12507d}=_0x320242['UZJKC'](require,_0x320242[_0x2c2a17(0x1ff)]),{findRelatedTests:_0x2ae6b6}=_0x320242['CpFbF'](require,_0x320242[_0x2c2a17(0x1a4)]),_0x2bbb79=_0x320242[_0x2c2a17(0x1b9)](require,_0x320242[_0x2c2a17(0x1b1)]),_0x5c1d1d=_0x3c6268[_0x2c2a17(0x1fe)]||[_0x320242[_0x2c2a17(0x1de)],_0x320242['NquYo']],_0x337117=_0x3c6268['testPathIgnorePatterns']||[],_0x25bb42=_0x320242[_0x2c2a17(0x1e4)](spawnSync,_0x320242[_0x2c2a17(0x1df)],[_0x320242[_0x2c2a17(0x1fd)],_0x320242[_0x2c2a17(0x200)],_0x356393,..._0x3c0cd1,_0x320242[_0x2c2a17(0x1ce)]],{'encoding':_0x320242[_0x2c2a17(0x1a3)]});let _0x1ee468=[];!_0x25bb42[_0x2c2a17(0x1c6)]&&(_0x1ee468=_0x25bb42[_0x2c2a17(0x1b5)][_0x2c2a17(0x206)]('\x0a')[_0x2c2a17(0x1e1)](Boolean));logger[_0x2c2a17(0x1a1)](_0x2c2a17(0x1c3)+JSON['stringify'](_0x1ee468)+_0x2c2a17(0x1f2));const _0x2ea770={};_0x2ea770['matchBase']=!![],_0x2ea770[_0x2c2a17(0x1d2)]=_0x337117;const _0x4e58b8=_0x320242[_0x2c2a17(0x1e4)](micromatch,_0x1ee468,_0x5c1d1d,_0x2ea770)[_0x2c2a17(0x1bd)](_0x5272a4=>path['relative'](_0x3c6268[_0x2c2a17(0x1f7)],_0x5272a4));return logger[_0x2c2a17(0x1a1)](_0x2c2a17(0x1d7)+JSON['stringify'](_0x4e58b8)+'\x20files'),_0x4e58b8;}catch(_0x3737ab){return logger['debug'](_0x2c2a17(0x1cc)+_0x3737ab),[];}}}module['exports']=TestOrchestrationHandler;