const a126_0x4dbbb7=a126_0x42ad;function a126_0x42ad(_0x4b375b,_0x1c5f3f){const _0x56b0dc=a126_0x56b0();return a126_0x42ad=function(_0x42ad6e,_0x5b4802){_0x42ad6e=_0x42ad6e-0x163;let _0x317905=_0x56b0dc[_0x42ad6e];return _0x317905;},a126_0x42ad(_0x4b375b,_0x1c5f3f);}function a126_0x56b0(){const _0x30884f=['setTestOrderingApplied','utf-8','flcPL','2670260Ddbkjj','24892870vAVyCG','winstonLogger','_shouldLogTestOrderingChecks','ttoBL','exports','env','error','Error\x20finding\x20test\x20files:\x20','dgjSI','oycmB','UYIgy','logTestOrderingChecks','getTestOrderingName','lXpec','testOrderingApplied','yUwnO','rBSgA','Found\x20test\x20files:\x20','BROWSERSTACK_NODE_INDEX','orderingInstrumentationData','totalNodes','config','matchBase','bMkEQ','ignore','testOrderingEnabled','[reorderTestFiles]\x20Error\x20in\x20ordering\x20test\x20files:\x20','hWuLQ','SCnWd','toString','length','Opzsx','addToOrderingInstrumentationData','CFVfn','applied','stringify','updateBuildIdentifier','--listTests','buildName','RVcBv','jest-runner','info','rQHqE','2|0|5|4|1|3','relative','2303548WPmIQh','projectName','mazXe','testObservability','lcQBc','buildIdentifier','\x20files','isTestOrderingApplied','jest','jjKyp','isTestOrchestrationEnabled','splitTests','jest-util','WWXTO','child_process','Filterted\x20to\x20test\x20files:\x20','testMatch','**/?(*.)+(spec|test).[jt]s?(x)','RLVxx','filter','split','./orchestrationUtils','--config','ztydg','9tQqxqN','micromatch','MDmCD','./testOrderingServerHandler','testOrderingServerHandler','[reorderTestFiles]\x20Test\x20ordering\x20is\x20not\x20supported\x20or\x20enabled','stdout','8uYSSil','debug','skkPl','dsSya','4083618HBXgmu','QATnM','639841nlLGgz','getOrderedTestFiles','orchestrationUtils','HORvp','30dGSrOj','findTestFiles','5276868LPAfsD','map','rootDir','VEefm','isArray','giznR','eZtRS','DCULQ','path','evWuc','Test\x20Reordering\x20is\x20unavailable\x20because\x20testReporting\x20is\x20disabled.\x20Please\x20enable\x20it\x20from\x20browserstack.yml\x20file.','Test\x20Reordering\x20is\x20unavailable\x20because\x20buildName\x20or\x20projectName\x20is\x20null.\x20Please\x20set\x20a\x20non-null\x20value.','glob','fsWfj','165076OdsQiw','**/__tests__/**/*.[jt]s?(x)'];a126_0x56b0=function(){return _0x30884f;};return a126_0x56b0();}(function(_0x41d072,_0x1cf61b){const _0x10d566=a126_0x42ad,_0xa50b37=_0x41d072();while(!![]){try{const _0x55ec19=parseInt(_0x10d566(0x1cc))/0x1+-parseInt(_0x10d566(0x174))/0x2*(-parseInt(_0x10d566(0x164))/0x3)+parseInt(_0x10d566(0x1a7))/0x4+-parseInt(_0x10d566(0x179))/0x5+parseInt(_0x10d566(0x166))/0x6+-parseInt(_0x10d566(0x1ca))/0x7*(-parseInt(_0x10d566(0x1c6))/0x8)+-parseInt(_0x10d566(0x1bf))/0x9*(parseInt(_0x10d566(0x17a))/0xa);if(_0x55ec19===_0x1cf61b)break;else _0xa50b37['push'](_0xa50b37['shift']());}catch(_0x5388e6){_0xa50b37['push'](_0xa50b37['shift']());}}}(a126_0x56b0,0x7556d));const logger=require('../logger')[a126_0x4dbbb7(0x17b)],{isUndefined,isNotUndefined,isTrueString,sanitizedFilePath}=require('../helper'),TestOrderingServerHandler=require(a126_0x4dbbb7(0x1c2)),OrchestrationUtils=require(a126_0x4dbbb7(0x1bc)),path=require(a126_0x4dbbb7(0x16e)),{spawnSync}=require(a126_0x4dbbb7(0x1b5)),micromatch=require(a126_0x4dbbb7(0x1c0)),fs=require('fs');class TestOrchestrationHandler{constructor(_0x2cafdd){const _0xd0dae4=a126_0x4dbbb7,_0x42299f={};_0x42299f[_0xd0dae4(0x173)]=_0xd0dae4(0x1a5);const _0x59a56f=_0x42299f,_0x92e609=_0x59a56f[_0xd0dae4(0x173)][_0xd0dae4(0x1bb)]('|');let _0x383d9e=0x0;while(!![]){switch(_0x92e609[_0x383d9e++]){case'0':this[_0xd0dae4(0x18d)]={};continue;case'1':this[_0xd0dae4(0x1ce)]=new OrchestrationUtils(_0x2cafdd);continue;case'2':this[_0xd0dae4(0x18f)]=_0x2cafdd;continue;case'3':this['_initializeTestOrdering']();continue;case'4':this[_0xd0dae4(0x1c3)]=null;continue;case'5':this[_0xd0dae4(0x188)]=![];continue;}break;}}[a126_0x4dbbb7(0x1b1)](){const _0x1780fd=a126_0x4dbbb7,_0x4a6533={'hWuLQ':function(_0x52ad77,_0x14156d){return _0x52ad77(_0x14156d);},'DCULQ':function(_0x30cc26,_0x416ff5){return _0x30cc26(_0x416ff5);},'jjKyp':function(_0x34d207,_0xc9a874){return _0x34d207(_0xc9a874);},'ZCZcT':function(_0x36423b,_0x2cba2b){return _0x36423b(_0x2cba2b);},'dgjSI':function(_0x8f4683,_0x1ba90a){return _0x8f4683(_0x1ba90a);},'VEefm':function(_0x55fb28,_0x22f5e2){return _0x55fb28&&_0x22f5e2;}},_0x5faceb=_0x4a6533[_0x1780fd(0x195)](isNotUndefined,this[_0x1780fd(0x18f)])&&(_0x4a6533[_0x1780fd(0x16d)](isUndefined,this[_0x1780fd(0x18f)]['testObservability'])||_0x4a6533[_0x1780fd(0x1b0)](isTrueString,this['config'][_0x1780fd(0x1aa)])),_0x567ab1=this[_0x1780fd(0x1ce)]['testOrderingEnabled'](),_0x43284f=_0x4a6533['jjKyp'](isNotUndefined,this['config'])&&_0x4a6533[_0x1780fd(0x16d)](isNotUndefined,this[_0x1780fd(0x18f)]['projectName']),_0x2b8456=_0x4a6533['ZCZcT'](isNotUndefined,this[_0x1780fd(0x18f)])&&_0x4a6533[_0x1780fd(0x182)](isNotUndefined,this['config'][_0x1780fd(0x1a0)]);return _0x4a6533[_0x1780fd(0x169)](_0x5faceb,_0x567ab1)&&_0x43284f&&_0x2b8456;}['_initializeTestOrdering'](){const _0x307c95=a126_0x4dbbb7,_0x17d61e={};_0x17d61e[_0x307c95(0x163)]='Test\x20orchestration\x20with\x20test\x20ordering\x20enabled',_0x17d61e['jciXs']='Test\x20orchestration\x20without\x20test\x20ordering';const _0x922e18=_0x17d61e;this[_0x307c95(0x1b1)]()?(this[_0x307c95(0x1c3)]=new TestOrderingServerHandler(this[_0x307c95(0x18f)]),logger['info'](_0x922e18[_0x307c95(0x163)])):(logger[_0x307c95(0x1c7)](_0x922e18['jciXs']),this[_0x307c95(0x185)]());}[a126_0x4dbbb7(0x185)](){const _0x46732b=a126_0x4dbbb7,_0x1aafc8={'bMkEQ':function(_0x26c47f,_0x4190c7){return _0x26c47f(_0x4190c7);},'mazXe':_0x46732b(0x171),'uMoyr':_0x46732b(0x170)};if(!this[_0x46732b(0x17c)]())return;(!_0x1aafc8['bMkEQ'](isNotUndefined,this[_0x46732b(0x18f)])||!_0x1aafc8[_0x46732b(0x191)](isNotUndefined,this[_0x46732b(0x18f)]['buildName'])||!_0x1aafc8[_0x46732b(0x191)](isNotUndefined,this[_0x46732b(0x18f)][_0x46732b(0x1a8)]))&&logger['info'](_0x1aafc8[_0x46732b(0x1a9)]),_0x1aafc8[_0x46732b(0x191)](isNotUndefined,this[_0x46732b(0x18f)])&&_0x1aafc8[_0x46732b(0x191)](isNotUndefined,this[_0x46732b(0x18f)][_0x46732b(0x1aa)])&&!_0x1aafc8[_0x46732b(0x191)](isTrueString,this[_0x46732b(0x18f)]['testObservability'])&&logger[_0x46732b(0x1a3)](_0x1aafc8['uMoyr']);}['_shouldLogTestOrderingChecks'](){const _0x150520=a126_0x4dbbb7;return!this[_0x150520(0x1b1)]()&&this[_0x150520(0x1ce)][_0x150520(0x193)]();}[a126_0x4dbbb7(0x1ae)](){const _0x362d02=a126_0x4dbbb7;return this[_0x362d02(0x188)];}[a126_0x4dbbb7(0x176)](_0x26841f){const _0x3030db=a126_0x4dbbb7,_0x35fb10={};_0x35fb10['cwvUE']=_0x3030db(0x19c);const _0x4eec67=_0x35fb10;this['testOrderingApplied']=_0x26841f,this[_0x3030db(0x19a)](_0x4eec67['cwvUE'],_0x26841f);}[a126_0x4dbbb7(0x19a)](_0xd3b9d7,_0x2121b1){const _0x35fbee=a126_0x4dbbb7;this[_0x35fbee(0x18d)][_0xd3b9d7]=_0x2121b1;}['getOrderingInstrumentationData'](){const _0x538d0a=a126_0x4dbbb7;return this[_0x538d0a(0x18d)];}[a126_0x4dbbb7(0x19e)](){const _0x42bac1=a126_0x4dbbb7,_0x3aaf7c={'CFVfn':function(_0x1aff1c,_0x7fe6b7){return _0x1aff1c(_0x7fe6b7);},'WwuBt':function(_0x3d8ede,_0x31f481){return _0x3d8ede>_0x31f481;}},_0x5a9da9=_0x3aaf7c[_0x42bac1(0x19b)](parseInt,process['env']['BROWSERSTACK_TOTAL_NODE_COUNT']||'1'),_0x527567=process[_0x42bac1(0x17f)]['BROWSERSTACK_BUILD_RUN_IDENTIFIER'];_0x527567&&_0x3aaf7c['WwuBt'](_0x5a9da9,0x1)&&(logger['debug']('[orchestrate]\x20Setting\x20buildIdentifier\x20to\x20buildRunIdentifier:\x20'+_0x527567),this['config'][_0x42bac1(0x1ac)]=_0x527567);}async['reorderTestFiles'](_0x3d1b28){const _0x46e6e1=a126_0x4dbbb7,_0x9ca112={'RVcBv':function(_0x4c93e3,_0x2e4301){return _0x4c93e3===_0x2e4301;},'nBuwk':function(_0xa3bc18,_0x208c9d){return _0xa3bc18===_0x208c9d;},'aFdeN':_0x46e6e1(0x1c4),'UYIgy':function(_0x4eccde,_0x2a0d52){return _0x4eccde===_0x2a0d52;},'eZtRS':function(_0x24dabf,_0x546c55){return _0x24dabf(_0x546c55);},'Rnpkm':'uploadedTestFilesCount','QATnM':'nodeIndex','evWuc':_0x46e6e1(0x18e),'giznR':'downloadedTestFilesCount','ztydg':'splitTestsAPICallCount'};try{if(!_0x3d1b28||!Array[_0x46e6e1(0x16a)](_0x3d1b28)||_0x9ca112[_0x46e6e1(0x1a1)](_0x3d1b28[_0x46e6e1(0x198)],0x0))return null;if(_0x9ca112['nBuwk'](this[_0x46e6e1(0x1b1)](),![]))return logger[_0x46e6e1(0x1c7)](_0x9ca112['aFdeN']),null;let _0x1ebdad=null;const _0x1912d1=this['orchestrationUtils'][_0x46e6e1(0x186)]();if(this[_0x46e6e1(0x1c3)]){const _0x5df3f4=await this[_0x46e6e1(0x1c3)][_0x46e6e1(0x1b2)](_0x3d1b28,_0x1912d1);if(!_0x5df3f4)return null;_0x1ebdad=await this[_0x46e6e1(0x1c3)][_0x46e6e1(0x1cd)](_0x5df3f4);}if(!_0x1ebdad||!Array['isArray'](_0x1ebdad)||_0x9ca112[_0x46e6e1(0x184)](_0x1ebdad[_0x46e6e1(0x198)],0x0))return null;const _0x1ee990=_0x9ca112[_0x46e6e1(0x16c)](parseInt,process[_0x46e6e1(0x17f)][_0x46e6e1(0x18c)]||'0'),_0x593f53=_0x9ca112['eZtRS'](parseInt,process[_0x46e6e1(0x17f)]['BROWSERSTACK_TOTAL_NODE_COUNT']||'1');return this['addToOrderingInstrumentationData'](_0x9ca112['Rnpkm'],_0x3d1b28['length']),this[_0x46e6e1(0x19a)](_0x9ca112[_0x46e6e1(0x1cb)],_0x1ee990),this[_0x46e6e1(0x19a)](_0x9ca112[_0x46e6e1(0x16f)],_0x593f53),this[_0x46e6e1(0x19a)](_0x9ca112[_0x46e6e1(0x16b)],_0x1ebdad[_0x46e6e1(0x198)]),this[_0x46e6e1(0x19a)](_0x9ca112[_0x46e6e1(0x1be)],this['testOrderingServerHandler']?this[_0x46e6e1(0x1c3)]['getSplitTestsAPICallCount']():0x0),_0x1ebdad[_0x46e6e1(0x167)](_0x24093e=>sanitizedFilePath(_0x24093e));}catch(_0x44801c){return logger[_0x46e6e1(0x1c7)](_0x46e6e1(0x194)+(_0x44801c['stack']||_0x44801c[_0x46e6e1(0x197)]())),null;}}async[a126_0x4dbbb7(0x165)](_0x1ea7f1,_0x5c7202,_0xaf8f95){const _0x37a2d9=a126_0x4dbbb7,_0x4cec91={'yUwnO':function(_0x542f0e,_0xe0b4f4){return _0x542f0e(_0xe0b4f4);},'Opzsx':'jest-config','tKFYe':function(_0x3dd084,_0x1bf856){return _0x3dd084(_0x1bf856);},'ttoBL':_0x37a2d9(0x1b3),'rQHqE':function(_0x40ec53,_0x205ca3){return _0x40ec53(_0x205ca3);},'MDmCD':_0x37a2d9(0x1a2),'SCnWd':_0x37a2d9(0x172),'skkPl':_0x37a2d9(0x175),'RLVxx':_0x37a2d9(0x1b8),'lXpec':function(_0x26cd57,_0x536415,_0x113dd5,_0x344904){return _0x26cd57(_0x536415,_0x113dd5,_0x344904);},'oycmB':'npx','flcPL':_0x37a2d9(0x1af),'dsSya':_0x37a2d9(0x1bd),'rBSgA':_0x37a2d9(0x19f),'WWXTO':_0x37a2d9(0x177),'lcQBc':function(_0x45cbc4,_0x2abb85,_0x5265d4,_0x387ecd){return _0x45cbc4(_0x2abb85,_0x5265d4,_0x387ecd);}};try{const {getTestPathPatterns:_0x51a3d1}=_0x4cec91[_0x37a2d9(0x189)](require,_0x4cec91[_0x37a2d9(0x199)]),{globsToMatcher:_0x95f1e4}=_0x4cec91['tKFYe'](require,_0x4cec91[_0x37a2d9(0x17d)]),{findRelatedTests:_0x26f2b3}=_0x4cec91[_0x37a2d9(0x1a4)](require,_0x4cec91[_0x37a2d9(0x1c1)]),_0x28ec77=_0x4cec91[_0x37a2d9(0x1a4)](require,_0x4cec91[_0x37a2d9(0x196)]),_0x5af113=_0x1ea7f1[_0x37a2d9(0x1b7)]||[_0x4cec91[_0x37a2d9(0x1c8)],_0x4cec91[_0x37a2d9(0x1b9)]],_0x1f231b=_0x1ea7f1['testPathIgnorePatterns']||[],_0x45fc14=_0x4cec91[_0x37a2d9(0x187)](spawnSync,_0x4cec91[_0x37a2d9(0x183)],[_0x4cec91[_0x37a2d9(0x178)],_0x4cec91[_0x37a2d9(0x1c9)],_0xaf8f95,..._0x5c7202,_0x4cec91[_0x37a2d9(0x18a)]],{'encoding':_0x4cec91[_0x37a2d9(0x1b4)]});let _0x191747=[];!_0x45fc14[_0x37a2d9(0x180)]&&(_0x191747=_0x45fc14[_0x37a2d9(0x1c5)][_0x37a2d9(0x1bb)]('\x0a')[_0x37a2d9(0x1ba)](Boolean));logger[_0x37a2d9(0x1c7)](_0x37a2d9(0x18b)+JSON[_0x37a2d9(0x19d)](_0x191747)+_0x37a2d9(0x1ad));const _0x4fae0c={};_0x4fae0c[_0x37a2d9(0x190)]=!![],_0x4fae0c[_0x37a2d9(0x192)]=_0x1f231b;const _0x7afe8c=_0x4cec91[_0x37a2d9(0x1ab)](micromatch,_0x191747,_0x5af113,_0x4fae0c)['map'](_0xeb676b=>path[_0x37a2d9(0x1a6)](_0x1ea7f1[_0x37a2d9(0x168)],_0xeb676b));return logger[_0x37a2d9(0x1c7)](_0x37a2d9(0x1b6)+JSON[_0x37a2d9(0x19d)](_0x7afe8c)+_0x37a2d9(0x1ad)),_0x7afe8c;}catch(_0x494f14){return logger[_0x37a2d9(0x1c7)](_0x37a2d9(0x181)+_0x494f14),[];}}}module[a126_0x4dbbb7(0x17e)]=TestOrchestrationHandler;