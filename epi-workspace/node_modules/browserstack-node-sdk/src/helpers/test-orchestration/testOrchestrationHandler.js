const a136_0x4c1cf7=a136_0x52ce;(function(_0x3ff60e,_0x564276){const _0x4eed53=a136_0x52ce,_0x26b747=_0x3ff60e();while(!![]){try{const _0x51b913=-parseInt(_0x4eed53(0xa4))/0x1+-parseInt(_0x4eed53(0xda))/0x2*(-parseInt(_0x4eed53(0xd9))/0x3)+parseInt(_0x4eed53(0xaa))/0x4+-parseInt(_0x4eed53(0xc3))/0x5*(-parseInt(_0x4eed53(0xde))/0x6)+parseInt(_0x4eed53(0xeb))/0x7+-parseInt(_0x4eed53(0xc0))/0x8*(-parseInt(_0x4eed53(0xb2))/0x9)+-parseInt(_0x4eed53(0x8c))/0xa;if(_0x51b913===_0x564276)break;else _0x26b747['push'](_0x26b747['shift']());}catch(_0xb7494a){_0x26b747['push'](_0x26b747['shift']());}}}(a136_0x4382,0x73786));const logger=require('../logger')['winstonLogger'],{isUndefined,isNotUndefined,isTrueString,sanitizedFilePath}=require(a136_0x4c1cf7(0xdc)),TestOrderingServerHandler=require(a136_0x4c1cf7(0xa0)),OrchestrationUtils=require('./orchestrationUtils'),path=require(a136_0x4c1cf7(0xe0)),{spawnSync}=require('child_process'),micromatch=require(a136_0x4c1cf7(0xe6)),fs=require('fs');class TestOrchestrationHandler{constructor(_0x17ec8d){const _0x32ee14=a136_0x4c1cf7,_0x312332={};_0x312332[_0x32ee14(0xb9)]=_0x32ee14(0x88);const _0x1f7b52=_0x312332,_0x36924f=_0x1f7b52['GKbzZ']['split']('|');let _0x215dc6=0x0;while(!![]){switch(_0x36924f[_0x215dc6++]){case'0':this[_0x32ee14(0xb1)]=null;continue;case'1':this['orchestrationUtils']=new OrchestrationUtils(_0x17ec8d);continue;case'2':this[_0x32ee14(0xe8)]();continue;case'3':this[_0x32ee14(0xdf)]=![];continue;case'4':this['config']=_0x17ec8d;continue;case'5':this[_0x32ee14(0x8d)]={};continue;}break;}}[a136_0x4c1cf7(0x8f)](){const _0x3f3958=a136_0x4c1cf7,_0x42d99a={'XrEeM':function(_0x2a1ea0,_0x5a4d4f){return _0x2a1ea0(_0x5a4d4f);},'QSAAu':function(_0x4f28f9,_0x2ee061){return _0x4f28f9(_0x2ee061);},'axnXX':function(_0x391f2e,_0x52e63d){return _0x391f2e(_0x52e63d);},'EdARM':function(_0x59caa5,_0x173e09){return _0x59caa5(_0x173e09);},'JHime':function(_0x578a48,_0x951dd1){return _0x578a48(_0x951dd1);},'xcgBK':function(_0x16d0ec,_0xe45577){return _0x16d0ec&&_0xe45577;}},_0x1a2e1=_0x42d99a[_0x3f3958(0x9b)](isNotUndefined,this['config'])&&(_0x42d99a['QSAAu'](isUndefined,this[_0x3f3958(0xe3)]['testObservability'])||_0x42d99a['axnXX'](isTrueString,this[_0x3f3958(0xe3)][_0x3f3958(0x86)])),_0x5e0b32=this[_0x3f3958(0xd5)]['testOrderingEnabled'](),_0x27f79b=_0x42d99a['EdARM'](isNotUndefined,this[_0x3f3958(0xe3)])&&_0x42d99a[_0x3f3958(0xdb)](isNotUndefined,this[_0x3f3958(0xe3)][_0x3f3958(0xed)]),_0x1e446=_0x42d99a[_0x3f3958(0xdb)](isNotUndefined,this[_0x3f3958(0xe3)])&&_0x42d99a[_0x3f3958(0x9b)](isNotUndefined,this[_0x3f3958(0xe3)][_0x3f3958(0x94)]);return _0x42d99a[_0x3f3958(0xbc)](_0x1a2e1,_0x5e0b32)&&_0x27f79b&&_0x1e446;}[a136_0x4c1cf7(0xe8)](){const _0x116a39=a136_0x4c1cf7,_0x5eff51={};_0x5eff51['FeDPz']='Test\x20orchestration\x20with\x20test\x20ordering\x20enabled',_0x5eff51[_0x116a39(0xca)]=_0x116a39(0xa7);const _0x787a06=_0x5eff51;this['isTestOrchestrationEnabled']()?(this[_0x116a39(0xb1)]=new TestOrderingServerHandler(this[_0x116a39(0xe3)]),logger[_0x116a39(0xb7)](_0x787a06[_0x116a39(0xdd)])):(logger[_0x116a39(0xcd)](_0x787a06[_0x116a39(0xca)]),this[_0x116a39(0xc2)]());}[a136_0x4c1cf7(0xc2)](){const _0x50d216=a136_0x4c1cf7,_0x5eedb1={'OfHSo':function(_0x479752,_0x3421c0){return _0x479752(_0x3421c0);},'HIShL':function(_0x229c6f,_0x118988){return _0x229c6f(_0x118988);},'bimmB':function(_0x216d0c,_0x3e1eeb){return _0x216d0c(_0x3e1eeb);},'kxKBQ':'Test\x20Reordering\x20is\x20unavailable\x20because\x20buildName\x20or\x20projectName\x20is\x20null.\x20Please\x20set\x20a\x20non-null\x20value.','GlTGf':function(_0x4c9bc4,_0x2aaee9){return _0x4c9bc4(_0x2aaee9);},'QuzMC':function(_0x328203,_0x2f5902){return _0x328203(_0x2f5902);},'dZTfu':_0x50d216(0x95)};if(!this[_0x50d216(0xee)]())return;(!_0x5eedb1[_0x50d216(0xd7)](isNotUndefined,this[_0x50d216(0xe3)])||!_0x5eedb1[_0x50d216(0xe1)](isNotUndefined,this[_0x50d216(0xe3)]['buildName'])||!_0x5eedb1['bimmB'](isNotUndefined,this['config']['projectName']))&&logger[_0x50d216(0xb7)](_0x5eedb1['kxKBQ']),_0x5eedb1[_0x50d216(0x87)](isNotUndefined,this[_0x50d216(0xe3)])&&_0x5eedb1[_0x50d216(0x87)](isNotUndefined,this[_0x50d216(0xe3)][_0x50d216(0x86)])&&!_0x5eedb1[_0x50d216(0xd2)](isTrueString,this[_0x50d216(0xe3)][_0x50d216(0x86)])&&logger[_0x50d216(0xb7)](_0x5eedb1[_0x50d216(0xb3)]);}['_shouldLogTestOrderingChecks'](){const _0x1f2ff4=a136_0x4c1cf7;return!this[_0x1f2ff4(0x8f)]()&&this[_0x1f2ff4(0xd5)][_0x1f2ff4(0xa5)]();}['isTestOrderingApplied'](){return this['testOrderingApplied'];}[a136_0x4c1cf7(0xa6)](_0x35e27a){const _0xeee491=a136_0x4c1cf7,_0x2bc3aa={};_0x2bc3aa[_0xeee491(0x92)]=_0xeee491(0x8e);const _0x642406=_0x2bc3aa;this[_0xeee491(0xdf)]=_0x35e27a,this[_0xeee491(0x9f)](_0x642406[_0xeee491(0x92)],_0x35e27a);}[a136_0x4c1cf7(0x9f)](_0x5abbd8,_0x18e96c){const _0x31f2a8=a136_0x4c1cf7;this[_0x31f2a8(0x8d)][_0x5abbd8]=_0x18e96c;}[a136_0x4c1cf7(0xc6)](){const _0x230839=a136_0x4c1cf7;return this[_0x230839(0x8d)];}[a136_0x4c1cf7(0x96)](){const _0x4f5fca=a136_0x4c1cf7,_0x1d9360={'gZxEj':function(_0x2c9223,_0x12a904){return _0x2c9223(_0x12a904);},'QZhqw':function(_0x218077,_0x51faec){return _0x218077>_0x51faec;}},_0x502df8=_0x1d9360[_0x4f5fca(0xc1)](parseInt,process[_0x4f5fca(0x85)][_0x4f5fca(0xba)]||'1'),_0x334069=process['env'][_0x4f5fca(0x91)];_0x334069&&_0x1d9360[_0x4f5fca(0xd1)](_0x502df8,0x1)&&(logger[_0x4f5fca(0xcd)]('[orchestrate]\x20Setting\x20buildIdentifier\x20to\x20buildRunIdentifier:\x20'+_0x334069),this[_0x4f5fca(0xe3)][_0x4f5fca(0xa8)]=_0x334069);}async['reorderTestFiles'](_0x549f61){const _0x4006c7=a136_0x4c1cf7,_0x5d3818={'ZjtgG':function(_0x435165,_0x402823){return _0x435165===_0x402823;},'spQjt':_0x4006c7(0xe4),'kAwjC':function(_0x28b2b8,_0x2d7de0){return _0x28b2b8===_0x2d7de0;},'eEkoL':function(_0x23e011,_0x31a869){return _0x23e011(_0x31a869);},'pnjgX':function(_0x4db18f,_0xc89240){return _0x4db18f(_0xc89240);},'Yokzx':_0x4006c7(0x99),'yimiM':_0x4006c7(0xea),'Iiyir':_0x4006c7(0x9d),'ElheF':_0x4006c7(0xec),'uQZaU':'splitTestsAPICallCount'};try{if(!_0x549f61||!Array[_0x4006c7(0xc8)](_0x549f61)||_0x5d3818[_0x4006c7(0x9a)](_0x549f61[_0x4006c7(0xae)],0x0))return null;if(_0x5d3818[_0x4006c7(0x9a)](this[_0x4006c7(0x8f)](),![]))return logger['debug'](_0x5d3818['spQjt']),null;let _0x4067ad=null;const _0x2528ec=this[_0x4006c7(0xd5)][_0x4006c7(0x9e)]();if(this[_0x4006c7(0xb1)]){const _0x1a5f87=await this[_0x4006c7(0xb1)]['splitTests'](_0x549f61,_0x2528ec);if(!_0x1a5f87)return null;_0x4067ad=await this[_0x4006c7(0xb1)][_0x4006c7(0xce)](_0x1a5f87);}if(!_0x4067ad||!Array[_0x4006c7(0xc8)](_0x4067ad)||_0x5d3818[_0x4006c7(0x98)](_0x4067ad[_0x4006c7(0xae)],0x0))return null;const _0x30c49e=_0x5d3818[_0x4006c7(0xd3)](parseInt,process[_0x4006c7(0x85)]['BROWSERSTACK_NODE_INDEX']||'0'),_0x29c01e=_0x5d3818[_0x4006c7(0xd6)](parseInt,process['env'][_0x4006c7(0xba)]||'1');return this[_0x4006c7(0x9f)](_0x5d3818['Yokzx'],_0x549f61[_0x4006c7(0xae)]),this[_0x4006c7(0x9f)](_0x5d3818[_0x4006c7(0xc9)],_0x30c49e),this[_0x4006c7(0x9f)](_0x5d3818[_0x4006c7(0xbf)],_0x29c01e),this['addToOrderingInstrumentationData'](_0x5d3818[_0x4006c7(0xc7)],_0x4067ad[_0x4006c7(0xae)]),this[_0x4006c7(0x9f)](_0x5d3818['uQZaU'],this[_0x4006c7(0xb1)]?this[_0x4006c7(0xb1)][_0x4006c7(0xad)]():0x0),_0x4067ad[_0x4006c7(0xb0)](_0xbab107=>sanitizedFilePath(_0xbab107));}catch(_0x4824bd){return logger[_0x4006c7(0xcd)]('[reorderTestFiles]\x20Error\x20in\x20ordering\x20test\x20files:\x20'+(_0x4824bd[_0x4006c7(0x84)]||_0x4824bd['toString']())),null;}}async[a136_0x4c1cf7(0x8b)](_0x21977e,_0x359c75,_0x12313b){const _0x497c6e=a136_0x4c1cf7,_0x2bf4fe={'ZOblN':function(_0x484162,_0x3c0277){return _0x484162(_0x3c0277);},'Qobrq':'jest-config','tQOZx':function(_0x6d4ccb,_0x4c7eca){return _0x6d4ccb(_0x4c7eca);},'BmWbz':_0x497c6e(0x8a),'oYerL':'jest-runner','hJSJa':function(_0x23e6a7,_0x4af24a){return _0x23e6a7(_0x4af24a);},'nvqPq':'glob','Ctqes':_0x497c6e(0xd8),'TZVgt':_0x497c6e(0xcc),'yGgCE':function(_0x223390,_0x551c3a,_0x25fc08,_0x53d149){return _0x223390(_0x551c3a,_0x25fc08,_0x53d149);},'IFfUY':_0x497c6e(0xbe),'dZgli':_0x497c6e(0xe5),'CFhqp':_0x497c6e(0xb4),'rhexT':'--listTests','qYkfe':'utf-8','JvrnP':function(_0x371082,_0x2e8ad4,_0x440550,_0x145e43){return _0x371082(_0x2e8ad4,_0x440550,_0x145e43);}};try{const {getTestPathPatterns:_0x445a59}=_0x2bf4fe[_0x497c6e(0xcf)](require,_0x2bf4fe[_0x497c6e(0xac)]),{globsToMatcher:_0x3038d8}=_0x2bf4fe[_0x497c6e(0xe2)](require,_0x2bf4fe[_0x497c6e(0xa2)]),{findRelatedTests:_0x266a2a}=_0x2bf4fe[_0x497c6e(0xcf)](require,_0x2bf4fe['oYerL']),_0x3740b6=_0x2bf4fe[_0x497c6e(0xb8)](require,_0x2bf4fe['nvqPq']),_0x9538fd=_0x21977e[_0x497c6e(0xc5)]||[_0x2bf4fe[_0x497c6e(0xab)],_0x2bf4fe[_0x497c6e(0xcb)]],_0x1b4955=_0x21977e[_0x497c6e(0xe7)]||[],_0x2bbdcf=_0x2bf4fe[_0x497c6e(0xc4)](spawnSync,_0x2bf4fe[_0x497c6e(0xbb)],[_0x2bf4fe['dZgli'],_0x2bf4fe[_0x497c6e(0xe9)],_0x12313b,..._0x359c75,_0x2bf4fe[_0x497c6e(0xbd)]],{'encoding':_0x2bf4fe['qYkfe']});let _0x30026c=[];!_0x2bbdcf[_0x497c6e(0x93)]&&(_0x30026c=_0x2bbdcf[_0x497c6e(0xa1)][_0x497c6e(0xa9)]('\x0a')['filter'](Boolean));logger[_0x497c6e(0xcd)](_0x497c6e(0x90)+JSON[_0x497c6e(0x97)](_0x30026c)+_0x497c6e(0x89));const _0x74be06={};_0x74be06[_0x497c6e(0xd0)]=!![],_0x74be06[_0x497c6e(0xaf)]=_0x1b4955;const _0x295664=_0x2bf4fe['JvrnP'](micromatch,_0x30026c,_0x9538fd,_0x74be06)[_0x497c6e(0xb0)](_0x282180=>path[_0x497c6e(0xb5)](_0x21977e[_0x497c6e(0xb6)],_0x282180));return logger[_0x497c6e(0xcd)](_0x497c6e(0xd4)+JSON[_0x497c6e(0x97)](_0x295664)+'\x20files'),_0x295664;}catch(_0x264cf5){return logger[_0x497c6e(0xcd)](_0x497c6e(0x9c)+_0x264cf5),[];}}}function a136_0x52ce(_0x123963,_0x3334fe){const _0x43829e=a136_0x4382();return a136_0x52ce=function(_0x52ce6d,_0x535a78){_0x52ce6d=_0x52ce6d-0x84;let _0x40cfff=_0x43829e[_0x52ce6d];return _0x40cfff;},a136_0x52ce(_0x123963,_0x3334fe);}function a136_0x4382(){const _0xa0a367=['CFhqp','nodeIndex','2049089BDRwIT','downloadedTestFilesCount','projectName','_shouldLogTestOrderingChecks','stack','env','testObservability','GlTGf','4|5|3|0|1|2','\x20files','jest-util','findTestFiles','14445020lBFpwO','orderingInstrumentationData','applied','isTestOrchestrationEnabled','Found\x20test\x20files:\x20','BROWSERSTACK_BUILD_RUN_IDENTIFIER','UCcDa','error','buildName','Test\x20Reordering\x20is\x20unavailable\x20because\x20testReporting\x20is\x20disabled.\x20Please\x20enable\x20it\x20from\x20browserstack.yml\x20file.','updateBuildIdentifier','stringify','kAwjC','uploadedTestFilesCount','ZjtgG','XrEeM','Error\x20finding\x20test\x20files:\x20','totalNodes','getTestOrderingName','addToOrderingInstrumentationData','./testOrderingServerHandler','stdout','BmWbz','exports','699206tuLvEW','testOrderingEnabled','setTestOrderingApplied','Test\x20orchestration\x20without\x20test\x20ordering','buildIdentifier','split','1225344xbMlRs','Ctqes','Qobrq','getSplitTestsAPICallCount','length','ignore','map','testOrderingServerHandler','237267oyHqSl','dZTfu','--config','relative','rootDir','info','hJSJa','GKbzZ','BROWSERSTACK_TOTAL_NODE_COUNT','IFfUY','xcgBK','rhexT','npx','Iiyir','248OulGcg','gZxEj','logTestOrderingChecks','5wCSAMY','yGgCE','testMatch','getOrderingInstrumentationData','ElheF','isArray','yimiM','gbtUJ','TZVgt','**/?(*.)+(spec|test).[jt]s?(x)','debug','getOrderedTestFiles','ZOblN','matchBase','QZhqw','QuzMC','eEkoL','Filterted\x20to\x20test\x20files:\x20','orchestrationUtils','pnjgX','OfHSo','**/__tests__/**/*.[jt]s?(x)','843HbOptz','4082QzLlth','JHime','../helper','FeDPz','3761022wkTAsm','testOrderingApplied','path','HIShL','tQOZx','config','[reorderTestFiles]\x20Test\x20ordering\x20is\x20not\x20supported\x20or\x20enabled','jest','micromatch','testPathIgnorePatterns','_initializeTestOrdering'];a136_0x4382=function(){return _0xa0a367;};return a136_0x4382();}module[a136_0x4c1cf7(0xa3)]=TestOrchestrationHandler;