const a133_0x12fa46=a133_0x5c9a;(function(_0xb49870,_0x3b3959){const _0x5a1c6b=a133_0x5c9a,_0x543007=_0xb49870();while(!![]){try{const _0x16a715=parseInt(_0x5a1c6b(0xc0))/0x1*(parseInt(_0x5a1c6b(0xc6))/0x2)+parseInt(_0x5a1c6b(0x9f))/0x3*(-parseInt(_0x5a1c6b(0xaf))/0x4)+-parseInt(_0x5a1c6b(0xaa))/0x5+-parseInt(_0x5a1c6b(0x104))/0x6+-parseInt(_0x5a1c6b(0xdc))/0x7+parseInt(_0x5a1c6b(0x9d))/0x8+parseInt(_0x5a1c6b(0xc1))/0x9;if(_0x16a715===_0x3b3959)break;else _0x543007['push'](_0x543007['shift']());}catch(_0xa26107){_0x543007['push'](_0x543007['shift']());}}}(a133_0x5502,0xdc24e));function a133_0x5c9a(_0x42074a,_0x17a72c){const _0x5502d8=a133_0x5502();return a133_0x5c9a=function(_0x5c9afa,_0x166815){_0x5c9afa=_0x5c9afa-0x97;let _0x59010b=_0x5502d8[_0x5c9afa];return _0x59010b;},a133_0x5c9a(_0x42074a,_0x17a72c);}function a133_0x5502(){const _0x1bbfca=['testPathIgnorePatterns','64JpUffa','AoWyM','relative','FJGsl','logTestOrderingChecks','orderingInstrumentationData','utsPV','BROWSERSTACK_BUILD_RUN_IDENTIFIER','filter','DsCln','lrAQN','jest','CjazH','QCEMZ','NfXOB','winstonLogger','testOrderingEnabled','574947ApzKMj','29003886iwEkyO','orchestrationUtils','nodeIndex','buildIdentifier','../helper','4PWcDVg','stdout','wPxup','env','lZYOK','BROWSERSTACK_TOTAL_NODE_COUNT','ERmIy','zaJIh','Test\x20orchestration\x20without\x20test\x20ordering','testOrderingServerHandler','child_process','matchBase','[reorderTestFiles]\x20Error\x20in\x20ordering\x20test\x20files:\x20','Filterted\x20to\x20test\x20files:\x20','getOrderingInstrumentationData','split','isArray','Found\x20test\x20files:\x20','SDQjs','splitTests','HeilA','buildName','10911887xCVOJy','zhjng','getTestOrderingName','config','XGDAX','Test\x20orchestration\x20with\x20test\x20ordering\x20enabled','JVelZ','testObservability','**/__tests__/**/*.[jt]s?(x)','uploadedTestFilesCount','downloadedTestFilesCount','Rhuob','reorderTestFiles','aBHYg','_initializeTestOrdering','dHkVU','jest-runner','jest-util','wrfDG','testOrderingApplied','UmHCS','BqjLc','length','testMatch','Error\x20finding\x20test\x20files:\x20','yjVFW','WNKTu','teIuD','--config','GImhn','_shouldLogTestOrderingChecks','getOrderedTestFiles','error','YZKoN','\x20files','stringify','./orchestrationUtils','SPqum','Test\x20Reordering\x20is\x20unavailable\x20because\x20buildName\x20or\x20projectName\x20is\x20null.\x20Please\x20set\x20a\x20non-null\x20value.','3|4|0|5|1|2','1412760PwzImG','**/?(*.)+(spec|test).[jt]s?(x)','jest-config','epcsT','Test\x20Reordering\x20is\x20unavailable\x20because\x20testReporting\x20is\x20disabled.\x20Please\x20enable\x20it\x20from\x20browserstack.yml\x20file.','exports','isTestOrchestrationEnabled','tZJOl','6593576UpNNia','toString','160833JmoJzg','updateBuildIdentifier','debug','kpRhe','map','micromatch','addToOrderingInstrumentationData','info','totalNodes','setTestOrderingApplied','projectName','8214790PGYgfY','./testOrderingServerHandler','OMaSD','TLMdC'];a133_0x5502=function(){return _0x1bbfca;};return a133_0x5502();}const logger=require('../logger')[a133_0x12fa46(0xbe)],{isUndefined,isNotUndefined,isTrueString,sanitizedFilePath}=require(a133_0x12fa46(0xc5)),TestOrderingServerHandler=require(a133_0x12fa46(0xab)),OrchestrationUtils=require(a133_0x12fa46(0x100)),path=require('path'),{spawnSync}=require(a133_0x12fa46(0xd0)),micromatch=require(a133_0x12fa46(0xa4)),fs=require('fs');class TestOrchestrationHandler{constructor(_0x3a8ba0){const _0xf15538=a133_0x12fa46,_0xfdbcc={};_0xfdbcc[_0xf15538(0xbc)]=_0xf15538(0x103);const _0x21d771=_0xfdbcc,_0x421762=_0x21d771['QCEMZ'][_0xf15538(0xd5)]('|');let _0x3009f7=0x0;while(!![]){switch(_0x421762[_0x3009f7++]){case'0':this[_0xf15538(0xef)]=![];continue;case'1':this[_0xf15538(0xc2)]=new OrchestrationUtils(_0x3a8ba0);continue;case'2':this[_0xf15538(0xea)]();continue;case'3':this[_0xf15538(0xdf)]=_0x3a8ba0;continue;case'4':this['orderingInstrumentationData']={};continue;case'5':this[_0xf15538(0xcf)]=null;continue;}break;}}[a133_0x12fa46(0x9b)](){const _0x25c99b=a133_0x12fa46,_0x464035={'tZJOl':function(_0x3497d8,_0x1daf68){return _0x3497d8(_0x1daf68);},'GImhn':function(_0x549538,_0x373040){return _0x549538(_0x373040);},'wrfDG':function(_0x134eb9,_0x2eaf54){return _0x134eb9(_0x2eaf54);},'JVelZ':function(_0x1edcce,_0x7ba10c){return _0x1edcce(_0x7ba10c);},'FJGsl':function(_0x3609ed,_0x8abe93){return _0x3609ed&&_0x8abe93;}},_0x7a6627=_0x464035[_0x25c99b(0x9c)](isNotUndefined,this[_0x25c99b(0xdf)])&&(_0x464035[_0x25c99b(0x9c)](isUndefined,this[_0x25c99b(0xdf)][_0x25c99b(0xe3)])||_0x464035['GImhn'](isTrueString,this[_0x25c99b(0xdf)]['testObservability'])),_0x53780b=this[_0x25c99b(0xc2)][_0x25c99b(0xbf)](),_0x55c3d6=_0x464035['GImhn'](isNotUndefined,this[_0x25c99b(0xdf)])&&_0x464035[_0x25c99b(0xee)](isNotUndefined,this['config'][_0x25c99b(0xa9)]),_0x30a773=_0x464035[_0x25c99b(0xf9)](isNotUndefined,this['config'])&&_0x464035[_0x25c99b(0xe2)](isNotUndefined,this[_0x25c99b(0xdf)][_0x25c99b(0xdb)]);return _0x464035[_0x25c99b(0xb2)](_0x7a6627,_0x53780b)&&_0x55c3d6&&_0x30a773;}[a133_0x12fa46(0xea)](){const _0x37bcce=a133_0x12fa46,_0x2b0d67={};_0x2b0d67[_0x37bcce(0xe0)]=_0x37bcce(0xe1),_0x2b0d67[_0x37bcce(0xf6)]=_0x37bcce(0xce);const _0x5cf711=_0x2b0d67;this[_0x37bcce(0x9b)]()?(this[_0x37bcce(0xcf)]=new TestOrderingServerHandler(this[_0x37bcce(0xdf)]),logger[_0x37bcce(0xa6)](_0x5cf711['XGDAX'])):(logger[_0x37bcce(0xa1)](_0x5cf711[_0x37bcce(0xf6)]),this[_0x37bcce(0xb3)]());}['logTestOrderingChecks'](){const _0x2c055f=a133_0x12fa46,_0x13f9cc={'BqjLc':function(_0x330980,_0x2542c3){return _0x330980(_0x2542c3);},'Rhuob':function(_0x41ed10,_0x408f37){return _0x41ed10(_0x408f37);},'MjnrG':function(_0x4ff272,_0x43a91f){return _0x4ff272(_0x43a91f);},'OMaSD':_0x2c055f(0x102),'eJMPm':function(_0x20393f,_0x4c7881){return _0x20393f(_0x4c7881);},'IoHSM':function(_0x401886,_0x2bdc1f){return _0x401886(_0x2bdc1f);},'cPuYv':_0x2c055f(0x99)};if(!this[_0x2c055f(0xfa)]())return;(!_0x13f9cc[_0x2c055f(0xf1)](isNotUndefined,this[_0x2c055f(0xdf)])||!_0x13f9cc[_0x2c055f(0xe7)](isNotUndefined,this[_0x2c055f(0xdf)][_0x2c055f(0xdb)])||!_0x13f9cc['MjnrG'](isNotUndefined,this[_0x2c055f(0xdf)][_0x2c055f(0xa9)]))&&logger[_0x2c055f(0xa6)](_0x13f9cc[_0x2c055f(0xac)]),_0x13f9cc[_0x2c055f(0xf1)](isNotUndefined,this[_0x2c055f(0xdf)])&&_0x13f9cc['eJMPm'](isNotUndefined,this[_0x2c055f(0xdf)]['testObservability'])&&!_0x13f9cc['IoHSM'](isTrueString,this['config'][_0x2c055f(0xe3)])&&logger[_0x2c055f(0xa6)](_0x13f9cc['cPuYv']);}[a133_0x12fa46(0xfa)](){return!this['isTestOrchestrationEnabled']()&&this['orchestrationUtils']['testOrderingEnabled']();}['isTestOrderingApplied'](){const _0x2a7b7b=a133_0x12fa46;return this[_0x2a7b7b(0xef)];}[a133_0x12fa46(0xa8)](_0x362686){const _0x18fe8a=a133_0x12fa46,_0x3a3290={};_0x3a3290[_0x18fe8a(0xf5)]='applied';const _0xc4c385=_0x3a3290;this['testOrderingApplied']=_0x362686,this['addToOrderingInstrumentationData'](_0xc4c385[_0x18fe8a(0xf5)],_0x362686);}[a133_0x12fa46(0xa5)](_0x2bef92,_0x19db40){const _0x3e6e29=a133_0x12fa46;this[_0x3e6e29(0xb4)][_0x2bef92]=_0x19db40;}[a133_0x12fa46(0xd4)](){const _0x4b0c6e=a133_0x12fa46;return this[_0x4b0c6e(0xb4)];}[a133_0x12fa46(0xa0)](){const _0x44bec3=a133_0x12fa46,_0x5d8d83={'TLMdC':function(_0x2ff159,_0x3c93e0){return _0x2ff159(_0x3c93e0);},'aBHYg':function(_0x123dfd,_0x35fb19){return _0x123dfd>_0x35fb19;}},_0x10acef=_0x5d8d83[_0x44bec3(0xad)](parseInt,process[_0x44bec3(0xc9)][_0x44bec3(0xcb)]||'1'),_0x2d2e95=process['env'][_0x44bec3(0xb6)];_0x2d2e95&&_0x5d8d83[_0x44bec3(0xe9)](_0x10acef,0x1)&&(logger[_0x44bec3(0xa1)]('[orchestrate]\x20Setting\x20buildIdentifier\x20to\x20buildRunIdentifier:\x20'+_0x2d2e95),this['config'][_0x44bec3(0xc4)]=_0x2d2e95);}async[a133_0x12fa46(0xe8)](_0x40add2){const _0x2612a6=a133_0x12fa46,_0x3d8891={'epcsT':function(_0x56a7d9,_0x2133d0){return _0x56a7d9===_0x2133d0;},'lZYOK':'[reorderTestFiles]\x20Test\x20ordering\x20is\x20not\x20supported\x20or\x20enabled','CjazH':function(_0x16fa45,_0x21c19d){return _0x16fa45(_0x21c19d);},'teIuD':_0x2612a6(0xe5),'kpRhe':_0x2612a6(0xc3),'NfXOB':_0x2612a6(0xa7),'dHkVU':_0x2612a6(0xe6),'SPqum':'splitTestsAPICallCount'};try{if(!_0x40add2||!Array[_0x2612a6(0xd6)](_0x40add2)||_0x3d8891[_0x2612a6(0x98)](_0x40add2[_0x2612a6(0xf2)],0x0))return null;if(_0x3d8891[_0x2612a6(0x98)](this[_0x2612a6(0x9b)](),![]))return logger['debug'](_0x3d8891[_0x2612a6(0xca)]),null;let _0x260c5c=null;const _0xa105dc=this[_0x2612a6(0xc2)][_0x2612a6(0xde)]();if(this[_0x2612a6(0xcf)]){const _0x3e239c=await this[_0x2612a6(0xcf)][_0x2612a6(0xd9)](_0x40add2,_0xa105dc);if(!_0x3e239c)return null;_0x260c5c=await this[_0x2612a6(0xcf)][_0x2612a6(0xfb)](_0x3e239c);}if(!_0x260c5c||!Array[_0x2612a6(0xd6)](_0x260c5c)||_0x3d8891['epcsT'](_0x260c5c[_0x2612a6(0xf2)],0x0))return null;const _0x2ad4fd=_0x3d8891[_0x2612a6(0xbb)](parseInt,process[_0x2612a6(0xc9)]['BROWSERSTACK_NODE_INDEX']||'0'),_0x1bd960=_0x3d8891[_0x2612a6(0xbb)](parseInt,process['env'][_0x2612a6(0xcb)]||'1');return this[_0x2612a6(0xa5)](_0x3d8891[_0x2612a6(0xf7)],_0x40add2[_0x2612a6(0xf2)]),this[_0x2612a6(0xa5)](_0x3d8891[_0x2612a6(0xa2)],_0x2ad4fd),this[_0x2612a6(0xa5)](_0x3d8891[_0x2612a6(0xbd)],_0x1bd960),this[_0x2612a6(0xa5)](_0x3d8891[_0x2612a6(0xeb)],_0x260c5c[_0x2612a6(0xf2)]),this[_0x2612a6(0xa5)](_0x3d8891[_0x2612a6(0x101)],this[_0x2612a6(0xcf)]?this[_0x2612a6(0xcf)]['getSplitTestsAPICallCount']():0x0),_0x260c5c[_0x2612a6(0xa3)](_0x5566e3=>sanitizedFilePath(_0x5566e3));}catch(_0x4de0b5){return logger[_0x2612a6(0xa1)](_0x2612a6(0xd2)+(_0x4de0b5['stack']||_0x4de0b5[_0x2612a6(0x9e)]())),null;}}async['findTestFiles'](_0x45fa57,_0x32138b,_0x105e5f){const _0x23819c=a133_0x12fa46,_0x23344d={'ERmIy':function(_0x3c7ce8,_0x588201){return _0x3c7ce8(_0x588201);},'AoWyM':_0x23819c(0x97),'YZKoN':function(_0x2725a5,_0x30cabb){return _0x2725a5(_0x30cabb);},'XkZKv':_0x23819c(0xed),'wPxup':function(_0x299762,_0x4b2f24){return _0x299762(_0x4b2f24);},'utsPV':_0x23819c(0xec),'UmHCS':'glob','zaJIh':_0x23819c(0xe4),'lrAQN':_0x23819c(0x105),'HeilA':function(_0x33e760,_0x22c497,_0x24b91d,_0x265a14){return _0x33e760(_0x22c497,_0x24b91d,_0x265a14);},'SDQjs':'npx','lycIi':_0x23819c(0xba),'zhjng':_0x23819c(0xf8),'DsCln':'--listTests','XCdoG':'utf-8'};try{const {getTestPathPatterns:_0x122232}=_0x23344d[_0x23819c(0xcc)](require,_0x23344d[_0x23819c(0xb0)]),{globsToMatcher:_0x4d16c0}=_0x23344d[_0x23819c(0xfd)](require,_0x23344d['XkZKv']),{findRelatedTests:_0x253682}=_0x23344d[_0x23819c(0xc8)](require,_0x23344d[_0x23819c(0xb5)]),_0x56539b=_0x23344d[_0x23819c(0xfd)](require,_0x23344d[_0x23819c(0xf0)]),_0x462260=_0x45fa57[_0x23819c(0xf3)]||[_0x23344d[_0x23819c(0xcd)],_0x23344d[_0x23819c(0xb9)]],_0x7bc825=_0x45fa57[_0x23819c(0xae)]||[],_0x33dab0=_0x23344d[_0x23819c(0xda)](spawnSync,_0x23344d[_0x23819c(0xd8)],[_0x23344d['lycIi'],_0x23344d[_0x23819c(0xdd)],_0x105e5f,..._0x32138b,_0x23344d[_0x23819c(0xb8)]],{'encoding':_0x23344d['XCdoG']});let _0xaedbd8=[];!_0x33dab0[_0x23819c(0xfc)]&&(_0xaedbd8=_0x33dab0[_0x23819c(0xc7)][_0x23819c(0xd5)]('\x0a')[_0x23819c(0xb7)](Boolean));logger['debug'](_0x23819c(0xd7)+JSON[_0x23819c(0xff)](_0xaedbd8)+_0x23819c(0xfe));const _0x15b680={};_0x15b680[_0x23819c(0xd1)]=!![],_0x15b680['ignore']=_0x7bc825;const _0x31d8df=_0x23344d['HeilA'](micromatch,_0xaedbd8,_0x462260,_0x15b680)[_0x23819c(0xa3)](_0x5ce208=>path[_0x23819c(0xb1)](_0x45fa57['rootDir'],_0x5ce208));return logger['debug'](_0x23819c(0xd3)+JSON[_0x23819c(0xff)](_0x31d8df)+_0x23819c(0xfe)),_0x31d8df;}catch(_0x35a20c){return logger[_0x23819c(0xa1)](_0x23819c(0xf4)+_0x35a20c),[];}}}module[a133_0x12fa46(0x9a)]=TestOrchestrationHandler;