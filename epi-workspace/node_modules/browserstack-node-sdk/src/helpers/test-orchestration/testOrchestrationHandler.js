function a126_0x3886(_0x9693a0,_0x55526a){const _0x8861c=a126_0x8861();return a126_0x3886=function(_0x388643,_0x2c3d5a){_0x388643=_0x388643-0x12a;let _0x2998be=_0x8861c[_0x388643];return _0x2998be;},a126_0x3886(_0x9693a0,_0x55526a);}const a126_0x39116a=a126_0x3886;(function(_0x380bbc,_0x643278){const _0x319433=a126_0x3886,_0x3f9740=_0x380bbc();while(!![]){try{const _0x42aeb0=parseInt(_0x319433(0x163))/0x1+-parseInt(_0x319433(0x143))/0x2*(-parseInt(_0x319433(0x190))/0x3)+-parseInt(_0x319433(0x17c))/0x4*(parseInt(_0x319433(0x14b))/0x5)+-parseInt(_0x319433(0x172))/0x6*(-parseInt(_0x319433(0x17b))/0x7)+-parseInt(_0x319433(0x137))/0x8*(-parseInt(_0x319433(0x12d))/0x9)+parseInt(_0x319433(0x17d))/0xa+-parseInt(_0x319433(0x18a))/0xb*(parseInt(_0x319433(0x132))/0xc);if(_0x42aeb0===_0x643278)break;else _0x3f9740['push'](_0x3f9740['shift']());}catch(_0x511eb6){_0x3f9740['push'](_0x3f9740['shift']());}}}(a126_0x8861,0x71a57));const logger=require(a126_0x39116a(0x175))['winstonLogger'],{isUndefined,isNotUndefined,isTrueString,sanitizedFilePath}=require(a126_0x39116a(0x195)),TestOrderingServerHandler=require(a126_0x39116a(0x13d)),OrchestrationUtils=require(a126_0x39116a(0x151)),path=require('path'),{spawnSync}=require(a126_0x39116a(0x150)),micromatch=require('micromatch'),fs=require('fs');function a126_0x8861(){const _0x2b4466=['_shouldLogTestOrderingChecks','677139ynzASe','debug','biOUC','length','NPqFr','splitTestsAPICallCount','SFrON','JHxdE','RgWpY','jest-runner','gxnWG','**/?(*.)+(spec|test).[jt]s?(x)','glob','yjjKF','DHZjV','11100AzHMyN','GCGWz','CGWPp','../logger','totalNodes','jest-util','split','findTestFiles','Gosgm','2170dvcNJm','472xBQsKj','5168980tMsQxW','lwxpH','QmReF','cbzxy','vJYad','BROWSERSTACK_NODE_INDEX','nodeIndex','ApbMu','getOrderedTestFiles','testPathIgnorePatterns','config','testMatch','testOrderingEnabled','4037SeRZCv','testOrderingApplied','ActzO','setTestOrderingApplied','downloadedTestFilesCount','qGSuL','3UHCAoj','relative','stdout','getTestOrderingName','pmCOE','../helper','TDBTz','jest','applied','mTLWq','171siCImA','isArray','\x20files','KtIxN','logTestOrderingChecks','97044XKaPWf','isTestOrderingApplied','--listTests','isTestOrchestrationEnabled','ignore','376136hLvJQL','Found\x20test\x20files:\x20','--config','BROWSERSTACK_TOTAL_NODE_COUNT','error','GWlZd','./testOrderingServerHandler','Ysksd','projectName','kaPdd','[orchestrate]\x20Setting\x20buildIdentifier\x20to\x20buildRunIdentifier:\x20','testOrderingServerHandler','1762012XEaUyW','map','Test\x20orchestration\x20without\x20test\x20ordering','**/__tests__/**/*.[jt]s?(x)','toString','5|2|1|4|3|0','stringify','yDUBL','4595EtvsvO','Test\x20orchestration\x20with\x20test\x20ordering\x20enabled','gCgko','splitTests','EmwGM','child_process','./orchestrationUtils','cNHai','filter','eJTER','MdcEm','info','NjleT','BROWSERSTACK_BUILD_RUN_IDENTIFIER','[reorderTestFiles]\x20Test\x20ordering\x20is\x20not\x20supported\x20or\x20enabled','sLfWl','addToOrderingInstrumentationData','_initializeTestOrdering','orderingInstrumentationData','testObservability','orchestrationUtils','env','uploadedTestFilesCount'];a126_0x8861=function(){return _0x2b4466;};return a126_0x8861();}class TestOrchestrationHandler{constructor(_0x24c2d5){const _0x373473=a126_0x39116a,_0x11794c={};_0x11794c[_0x373473(0x15a)]=_0x373473(0x148);const _0xd6597c=_0x11794c,_0x389e76=_0xd6597c['sLfWl'][_0x373473(0x178)]('|');let _0x45ad2e=0x0;while(!![]){switch(_0x389e76[_0x45ad2e++]){case'0':this[_0x373473(0x15c)]();continue;case'1':this[_0x373473(0x18b)]=![];continue;case'2':this['orderingInstrumentationData']={};continue;case'3':this['orchestrationUtils']=new OrchestrationUtils(_0x24c2d5);continue;case'4':this[_0x373473(0x142)]=null;continue;case'5':this[_0x373473(0x187)]=_0x24c2d5;continue;}break;}}[a126_0x39116a(0x135)](){const _0x4c9d91=a126_0x39116a,_0x39b6ed={'kaPdd':function(_0x140c40,_0x14b5b6){return _0x140c40(_0x14b5b6);},'RgWpY':function(_0x38c3ec,_0x4c41b4){return _0x38c3ec(_0x4c41b4);},'cvYZH':function(_0x33d702,_0x5e8a44){return _0x33d702(_0x5e8a44);},'GCGWz':function(_0x202cd0,_0x221501){return _0x202cd0(_0x221501);},'Ysksd':function(_0x261ac4,_0x5903b0){return _0x261ac4&&_0x5903b0;}},_0x4ca2ce=_0x39b6ed[_0x4c9d91(0x140)](isNotUndefined,this[_0x4c9d91(0x187)])&&(_0x39b6ed[_0x4c9d91(0x140)](isUndefined,this['config'][_0x4c9d91(0x15e)])||_0x39b6ed[_0x4c9d91(0x16b)](isTrueString,this[_0x4c9d91(0x187)][_0x4c9d91(0x15e)])),_0x1ba918=this[_0x4c9d91(0x15f)][_0x4c9d91(0x189)](),_0x6bd831=_0x39b6ed[_0x4c9d91(0x140)](isNotUndefined,this[_0x4c9d91(0x187)])&&_0x39b6ed['cvYZH'](isNotUndefined,this[_0x4c9d91(0x187)]['projectName']),_0x26b267=_0x39b6ed[_0x4c9d91(0x173)](isNotUndefined,this[_0x4c9d91(0x187)])&&_0x39b6ed[_0x4c9d91(0x173)](isNotUndefined,this['config']['buildName']);return _0x39b6ed[_0x4c9d91(0x13e)](_0x4ca2ce,_0x1ba918)&&_0x6bd831&&_0x26b267;}[a126_0x39116a(0x15c)](){const _0x28d57d=a126_0x39116a,_0x53a10e={};_0x53a10e[_0x28d57d(0x12c)]=_0x28d57d(0x14c),_0x53a10e[_0x28d57d(0x181)]=_0x28d57d(0x145);const _0x4ac1c3=_0x53a10e;this[_0x28d57d(0x135)]()?(this[_0x28d57d(0x142)]=new TestOrderingServerHandler(this[_0x28d57d(0x187)]),logger[_0x28d57d(0x156)](_0x4ac1c3[_0x28d57d(0x12c)])):(logger[_0x28d57d(0x164)](_0x4ac1c3[_0x28d57d(0x181)]),this[_0x28d57d(0x131)]());}[a126_0x39116a(0x131)](){const _0x5348a2=a126_0x39116a,_0x15357c={'cNHai':function(_0x456314,_0x4651b7){return _0x456314(_0x4651b7);},'GWlZd':function(_0x16c5ab,_0x46b647){return _0x16c5ab(_0x46b647);},'Gosgm':'Test\x20Reordering\x20is\x20unavailable\x20because\x20buildName\x20or\x20projectName\x20is\x20null.\x20Please\x20set\x20a\x20non-null\x20value.','lwxpH':function(_0x5ec61f,_0x404ce2){return _0x5ec61f(_0x404ce2);},'TDBTz':function(_0x4e34f1,_0x246765){return _0x4e34f1(_0x246765);},'HIWLi':'Test\x20Reordering\x20is\x20unavailable\x20because\x20testReporting\x20is\x20disabled.\x20Please\x20enable\x20it\x20from\x20browserstack.yml\x20file.'};if(!this[_0x5348a2(0x162)]())return;(!_0x15357c[_0x5348a2(0x152)](isNotUndefined,this[_0x5348a2(0x187)])||!_0x15357c[_0x5348a2(0x152)](isNotUndefined,this['config']['buildName'])||!_0x15357c[_0x5348a2(0x13c)](isNotUndefined,this['config'][_0x5348a2(0x13f)]))&&logger['info'](_0x15357c[_0x5348a2(0x17a)]),_0x15357c[_0x5348a2(0x17e)](isNotUndefined,this['config'])&&_0x15357c[_0x5348a2(0x196)](isNotUndefined,this[_0x5348a2(0x187)]['testObservability'])&&!_0x15357c[_0x5348a2(0x13c)](isTrueString,this[_0x5348a2(0x187)][_0x5348a2(0x15e)])&&logger[_0x5348a2(0x156)](_0x15357c['HIWLi']);}[a126_0x39116a(0x162)](){const _0x4c59f0=a126_0x39116a;return!this['isTestOrchestrationEnabled']()&&this[_0x4c59f0(0x15f)][_0x4c59f0(0x189)]();}[a126_0x39116a(0x133)](){return this['testOrderingApplied'];}[a126_0x39116a(0x18d)](_0x5a9e74){const _0x324828=a126_0x39116a,_0x3a7b86={};_0x3a7b86[_0x324828(0x130)]=_0x324828(0x12b);const _0x1a42de=_0x3a7b86;this['testOrderingApplied']=_0x5a9e74,this[_0x324828(0x15b)](_0x1a42de['KtIxN'],_0x5a9e74);}[a126_0x39116a(0x15b)](_0x453888,_0x380d7c){const _0x3580d5=a126_0x39116a;this[_0x3580d5(0x15d)][_0x453888]=_0x380d7c;}['getOrderingInstrumentationData'](){const _0x5d7963=a126_0x39116a;return this[_0x5d7963(0x15d)];}['updateBuildIdentifier'](){const _0x5af72a=a126_0x39116a,_0x4c5350={'gCgko':function(_0x18ff7d,_0x2f03dd){return _0x18ff7d(_0x2f03dd);},'SFrON':function(_0x2207b3,_0x42625f){return _0x2207b3>_0x42625f;}},_0x526faf=_0x4c5350[_0x5af72a(0x14d)](parseInt,process[_0x5af72a(0x160)]['BROWSERSTACK_TOTAL_NODE_COUNT']||'1'),_0x38099f=process[_0x5af72a(0x160)][_0x5af72a(0x158)];_0x38099f&&_0x4c5350[_0x5af72a(0x169)](_0x526faf,0x1)&&(logger['debug'](_0x5af72a(0x141)+_0x38099f),this[_0x5af72a(0x187)]['buildIdentifier']=_0x38099f);}async['reorderTestFiles'](_0x4669c3){const _0x372fc1=a126_0x39116a,_0x4d2f2f={'gxnWG':function(_0x3a59c2,_0x169e8c){return _0x3a59c2===_0x169e8c;},'biOUC':function(_0x3a7edd,_0x2e1909){return _0x3a7edd===_0x2e1909;},'cbzxy':_0x372fc1(0x159),'XvEuw':function(_0x7b952d,_0x118297){return _0x7b952d===_0x118297;},'QmReF':function(_0x4c7ce9,_0x27df84){return _0x4c7ce9(_0x27df84);},'NPqFr':_0x372fc1(0x161),'YIMDu':_0x372fc1(0x183),'FbPky':_0x372fc1(0x176),'EmwGM':_0x372fc1(0x18e),'MdcEm':_0x372fc1(0x168)};try{if(!_0x4669c3||!Array[_0x372fc1(0x12e)](_0x4669c3)||_0x4d2f2f[_0x372fc1(0x16d)](_0x4669c3[_0x372fc1(0x166)],0x0))return null;if(_0x4d2f2f[_0x372fc1(0x165)](this[_0x372fc1(0x135)](),![]))return logger['debug'](_0x4d2f2f[_0x372fc1(0x180)]),null;let _0x53a4a4=null;const _0x30e8ab=this[_0x372fc1(0x15f)][_0x372fc1(0x193)]();if(this['testOrderingServerHandler']){const _0x46112d=await this['testOrderingServerHandler'][_0x372fc1(0x14e)](_0x4669c3,_0x30e8ab);if(!_0x46112d)return null;_0x53a4a4=await this['testOrderingServerHandler'][_0x372fc1(0x185)](_0x46112d);}if(!_0x53a4a4||!Array['isArray'](_0x53a4a4)||_0x4d2f2f['XvEuw'](_0x53a4a4[_0x372fc1(0x166)],0x0))return null;const _0x13bb71=_0x4d2f2f[_0x372fc1(0x17f)](parseInt,process['env'][_0x372fc1(0x182)]||'0'),_0x5144d3=_0x4d2f2f[_0x372fc1(0x17f)](parseInt,process['env'][_0x372fc1(0x13a)]||'1');return this[_0x372fc1(0x15b)](_0x4d2f2f[_0x372fc1(0x167)],_0x4669c3['length']),this[_0x372fc1(0x15b)](_0x4d2f2f['YIMDu'],_0x13bb71),this['addToOrderingInstrumentationData'](_0x4d2f2f['FbPky'],_0x5144d3),this['addToOrderingInstrumentationData'](_0x4d2f2f[_0x372fc1(0x14f)],_0x53a4a4['length']),this['addToOrderingInstrumentationData'](_0x4d2f2f[_0x372fc1(0x155)],this[_0x372fc1(0x142)]?this[_0x372fc1(0x142)]['getSplitTestsAPICallCount']():0x0),_0x53a4a4[_0x372fc1(0x144)](_0x5b2a65=>sanitizedFilePath(_0x5b2a65));}catch(_0x508f81){return logger[_0x372fc1(0x164)]('[reorderTestFiles]\x20Error\x20in\x20ordering\x20test\x20files:\x20'+(_0x508f81['stack']||_0x508f81[_0x372fc1(0x147)]())),null;}}async[a126_0x39116a(0x179)](_0x4b3a7c,_0x337560,_0xca2052){const _0xd81ce6=a126_0x39116a,_0x4048c4={'yjjKF':function(_0x2a4493,_0x434370){return _0x2a4493(_0x434370);},'DHZjV':'jest-config','pmCOE':function(_0x234e71,_0x1a7fee){return _0x234e71(_0x1a7fee);},'yDUBL':_0xd81ce6(0x177),'JHxdE':function(_0x22beda,_0x15e269){return _0x22beda(_0x15e269);},'CGWPp':_0xd81ce6(0x16c),'jMPtl':_0xd81ce6(0x16f),'egkWi':_0xd81ce6(0x146),'NjleT':_0xd81ce6(0x16e),'eJTER':function(_0x54ddff,_0x32fbd1,_0x303342,_0x242da6){return _0x54ddff(_0x32fbd1,_0x303342,_0x242da6);},'LpwxA':'npx','YTWQt':_0xd81ce6(0x12a),'qGSuL':_0xd81ce6(0x139),'ApbMu':_0xd81ce6(0x134),'ActzO':'utf-8'};try{const {getTestPathPatterns:_0x331961}=_0x4048c4[_0xd81ce6(0x170)](require,_0x4048c4[_0xd81ce6(0x171)]),{globsToMatcher:_0x1a374c}=_0x4048c4[_0xd81ce6(0x194)](require,_0x4048c4[_0xd81ce6(0x14a)]),{findRelatedTests:_0x513feb}=_0x4048c4[_0xd81ce6(0x16a)](require,_0x4048c4[_0xd81ce6(0x174)]),_0x4af788=_0x4048c4[_0xd81ce6(0x194)](require,_0x4048c4['jMPtl']),_0x8dce27=_0x4b3a7c[_0xd81ce6(0x188)]||[_0x4048c4['egkWi'],_0x4048c4[_0xd81ce6(0x157)]],_0x5cad38=_0x4b3a7c[_0xd81ce6(0x186)]||[],_0x1839bd=_0x4048c4[_0xd81ce6(0x154)](spawnSync,_0x4048c4['LpwxA'],[_0x4048c4['YTWQt'],_0x4048c4[_0xd81ce6(0x18f)],_0xca2052,..._0x337560,_0x4048c4[_0xd81ce6(0x184)]],{'encoding':_0x4048c4[_0xd81ce6(0x18c)]});let _0x2192b4=[];!_0x1839bd[_0xd81ce6(0x13b)]&&(_0x2192b4=_0x1839bd[_0xd81ce6(0x192)][_0xd81ce6(0x178)]('\x0a')[_0xd81ce6(0x153)](Boolean));logger[_0xd81ce6(0x164)](_0xd81ce6(0x138)+JSON['stringify'](_0x2192b4)+'\x20files');const _0x470e54={};_0x470e54['matchBase']=!![],_0x470e54[_0xd81ce6(0x136)]=_0x5cad38;const _0x357eae=_0x4048c4['eJTER'](micromatch,_0x2192b4,_0x8dce27,_0x470e54)[_0xd81ce6(0x144)](_0x5afe11=>path[_0xd81ce6(0x191)](_0x4b3a7c['rootDir'],_0x5afe11));return logger['debug']('Filterted\x20to\x20test\x20files:\x20'+JSON[_0xd81ce6(0x149)](_0x357eae)+_0xd81ce6(0x12f)),_0x357eae;}catch(_0x4bd93f){return logger[_0xd81ce6(0x164)]('Error\x20finding\x20test\x20files:\x20'+_0x4bd93f),[];}}}module['exports']=TestOrchestrationHandler;