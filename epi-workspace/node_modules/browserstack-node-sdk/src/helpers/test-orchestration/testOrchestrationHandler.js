function a126_0x222c(){const _0x572a3d=['yzYor','testPathIgnorePatterns','getSplitTestsAPICallCount','isTestOrchestrationEnabled','splitTests','getOrderingInstrumentationData','csddu','obCTK','gZGXf','tiZFd','stringify','uploadedTestFilesCount','WJFEX','2522506SgzMls','orchestrationUtils','testOrderingEnabled','5bHZcvB','../helper','testObservability','[reorderTestFiles]\x20Test\x20ordering\x20is\x20not\x20supported\x20or\x20enabled','vrglG','getOrderedTestFiles','KCujV','865254oxEiWm','matchBase','HatWW','jest-util','updateBuildIdentifier','toString','./orchestrationUtils','debug','split','ddCRr','yUOPY','Filterted\x20to\x20test\x20files:\x20','17600ptlHrx','kyBfr','testOrderingServerHandler','qwqpk','stack','hjBBG','\x20files','UAQcB','path','projectName','TQdnW','2320482zLHbPo','138368xvJEYa','gYekk','config','dWNXk','225JMylwT','orderingInstrumentationData','NFhYV','BROWSERSTACK_BUILD_RUN_IDENTIFIER','QMfDG','aVtAE','isArray','Found\x20test\x20files:\x20','UtvVd','**/__tests__/**/*.[jt]s?(x)','_initializeTestOrdering','setTestOrderingApplied','2|3|4|1|5|0','isTestOrderingApplied','SRHBK','findTestFiles','SCFIU','length','relative','471776VPPNmm','mUZUT','getTestOrderingName','xpScs','Error\x20finding\x20test\x20files:\x20','rcwTF','testOrderingApplied','buildIdentifier','--listTests','map','addToOrderingInstrumentationData','MuAph','child_process','rootDir','669526FPklzf','./testOrderingServerHandler','ignore','logTestOrderingChecks','reorderTestFiles','info','eEgwr','yMCed','Test\x20Reordering\x20is\x20unavailable\x20because\x20buildName\x20or\x20projectName\x20is\x20null.\x20Please\x20set\x20a\x20non-null\x20value.','HdRgt','jest','downloadedTestFilesCount','npx','MYuYN','totalNodes','buildName','Test\x20orchestration\x20without\x20test\x20ordering','Test\x20orchestration\x20with\x20test\x20ordering\x20enabled','jest-runner','zoYlE','--config','env','BROWSERSTACK_TOTAL_NODE_COUNT','YAqcF','applied','vnLju'];a126_0x222c=function(){return _0x572a3d;};return a126_0x222c();}const a126_0x12ea88=a126_0x255c;(function(_0x488fd2,_0x2030c3){const _0x133d20=a126_0x255c,_0x582a5a=_0x488fd2();while(!![]){try{const _0x100ebd=-parseInt(_0x133d20(0x23c))/0x1+parseInt(_0x133d20(0x1ff))/0x2+-parseInt(_0x133d20(0x230))/0x3+-parseInt(_0x133d20(0x1f1))/0x4*(parseInt(_0x133d20(0x229))/0x5)+-parseInt(_0x133d20(0x247))/0x6+parseInt(_0x133d20(0x226))/0x7+-parseInt(_0x133d20(0x248))/0x8*(-parseInt(_0x133d20(0x24c))/0x9);if(_0x100ebd===_0x2030c3)break;else _0x582a5a['push'](_0x582a5a['shift']());}catch(_0x1b0006){_0x582a5a['push'](_0x582a5a['shift']());}}}(a126_0x222c,0x4d58c));const logger=require('../logger')['winstonLogger'],{isUndefined,isNotUndefined,isTrueString,sanitizedFilePath}=require(a126_0x12ea88(0x22a)),TestOrderingServerHandler=require(a126_0x12ea88(0x200)),OrchestrationUtils=require(a126_0x12ea88(0x236)),path=require(a126_0x12ea88(0x244)),{spawnSync}=require(a126_0x12ea88(0x1fd)),micromatch=require('micromatch'),fs=require('fs');function a126_0x255c(_0x2e88a5,_0x24f2fd){const _0x222c57=a126_0x222c();return a126_0x255c=function(_0x255c05,_0x333708){_0x255c05=_0x255c05-0x1ef;let _0x5b7e0d=_0x222c57[_0x255c05];return _0x5b7e0d;},a126_0x255c(_0x2e88a5,_0x24f2fd);}class TestOrchestrationHandler{constructor(_0x139ffd){const _0x4d7a44=a126_0x12ea88,_0x7c1560={};_0x7c1560['zoYlE']=_0x4d7a44(0x258);const _0x250e30=_0x7c1560,_0x346e26=_0x250e30[_0x4d7a44(0x212)][_0x4d7a44(0x238)]('|');let _0x3ca368=0x0;while(!![]){switch(_0x346e26[_0x3ca368++]){case'0':this[_0x4d7a44(0x256)]();continue;case'1':this['testOrderingServerHandler']=null;continue;case'2':this['config']=_0x139ffd;continue;case'3':this[_0x4d7a44(0x24d)]={};continue;case'4':this[_0x4d7a44(0x1f7)]=![];continue;case'5':this[_0x4d7a44(0x227)]=new OrchestrationUtils(_0x139ffd);continue;}break;}}[a126_0x12ea88(0x21c)](){const _0x29c053=a126_0x12ea88,_0x5e6bee={'eEgwr':function(_0x59045d,_0x1b827b){return _0x59045d(_0x1b827b);},'SCFIU':function(_0x5a56bd,_0x48f932){return _0x5a56bd(_0x48f932);},'vrglG':function(_0x20dc3c,_0x396add){return _0x20dc3c(_0x396add);},'rsyFk':function(_0x231902,_0x3a6268){return _0x231902&&_0x3a6268;}},_0x2985be=_0x5e6bee[_0x29c053(0x205)](isNotUndefined,this[_0x29c053(0x24a)])&&(_0x5e6bee[_0x29c053(0x205)](isUndefined,this[_0x29c053(0x24a)][_0x29c053(0x22b)])||_0x5e6bee[_0x29c053(0x205)](isTrueString,this[_0x29c053(0x24a)][_0x29c053(0x22b)])),_0x1507c4=this['orchestrationUtils'][_0x29c053(0x228)](),_0x470320=_0x5e6bee[_0x29c053(0x25c)](isNotUndefined,this[_0x29c053(0x24a)])&&_0x5e6bee['eEgwr'](isNotUndefined,this[_0x29c053(0x24a)][_0x29c053(0x245)]),_0x3b9b17=_0x5e6bee[_0x29c053(0x25c)](isNotUndefined,this['config'])&&_0x5e6bee[_0x29c053(0x22d)](isNotUndefined,this[_0x29c053(0x24a)][_0x29c053(0x20e)]);return _0x5e6bee['rsyFk'](_0x2985be,_0x1507c4)&&_0x470320&&_0x3b9b17;}[a126_0x12ea88(0x256)](){const _0x1cc69f=a126_0x12ea88,_0x5e90ca={};_0x5e90ca[_0x1cc69f(0x221)]=_0x1cc69f(0x210),_0x5e90ca[_0x1cc69f(0x218)]=_0x1cc69f(0x20f);const _0x56e244=_0x5e90ca;this[_0x1cc69f(0x21c)]()?(this['testOrderingServerHandler']=new TestOrderingServerHandler(this[_0x1cc69f(0x24a)]),logger['info'](_0x56e244[_0x1cc69f(0x221)])):(logger[_0x1cc69f(0x237)](_0x56e244[_0x1cc69f(0x218)]),this[_0x1cc69f(0x202)]());}[a126_0x12ea88(0x202)](){const _0x215f16=a126_0x12ea88,_0x389648={'yMCed':function(_0x4b2cbb,_0x5359e9){return _0x4b2cbb(_0x5359e9);},'obCTK':function(_0x5ebbb6,_0x55b270){return _0x5ebbb6(_0x55b270);},'ACUFG':function(_0x2f323f,_0x123900){return _0x2f323f(_0x123900);},'aVtAE':_0x215f16(0x207),'gYekk':function(_0x1ba466,_0x523e7d){return _0x1ba466(_0x523e7d);},'drIZM':function(_0x4f7f25,_0x4da7ec){return _0x4f7f25(_0x4da7ec);},'ABlLM':'Test\x20Reordering\x20is\x20unavailable\x20because\x20testReporting\x20is\x20disabled.\x20Please\x20enable\x20it\x20from\x20browserstack.yml\x20file.'};if(!this['_shouldLogTestOrderingChecks']())return;(!_0x389648[_0x215f16(0x206)](isNotUndefined,this[_0x215f16(0x24a)])||!_0x389648[_0x215f16(0x220)](isNotUndefined,this[_0x215f16(0x24a)]['buildName'])||!_0x389648['ACUFG'](isNotUndefined,this[_0x215f16(0x24a)][_0x215f16(0x245)]))&&logger[_0x215f16(0x204)](_0x389648[_0x215f16(0x251)]),_0x389648[_0x215f16(0x249)](isNotUndefined,this[_0x215f16(0x24a)])&&_0x389648['drIZM'](isNotUndefined,this[_0x215f16(0x24a)][_0x215f16(0x22b)])&&!_0x389648[_0x215f16(0x249)](isTrueString,this[_0x215f16(0x24a)]['testObservability'])&&logger[_0x215f16(0x204)](_0x389648['ABlLM']);}['_shouldLogTestOrderingChecks'](){const _0x2f0f38=a126_0x12ea88;return!this[_0x2f0f38(0x21c)]()&&this[_0x2f0f38(0x227)][_0x2f0f38(0x228)]();}[a126_0x12ea88(0x259)](){return this['testOrderingApplied'];}[a126_0x12ea88(0x257)](_0x25cd62){const _0x1d728d=a126_0x12ea88,_0x5ab7e2={};_0x5ab7e2[_0x1d728d(0x21f)]=_0x1d728d(0x217);const _0xf3f562=_0x5ab7e2;this[_0x1d728d(0x1f7)]=_0x25cd62,this[_0x1d728d(0x1fb)](_0xf3f562[_0x1d728d(0x21f)],_0x25cd62);}['addToOrderingInstrumentationData'](_0x58ebef,_0x110941){const _0x243713=a126_0x12ea88;this[_0x243713(0x24d)][_0x58ebef]=_0x110941;}[a126_0x12ea88(0x21e)](){const _0x1cc449=a126_0x12ea88;return this[_0x1cc449(0x24d)];}[a126_0x12ea88(0x234)](){const _0x129147=a126_0x12ea88,_0xdfcb47={'fPOKK':function(_0x3b3ef7,_0x310a7e){return _0x3b3ef7(_0x310a7e);},'TQdnW':function(_0x586d60,_0x539dc6){return _0x586d60>_0x539dc6;}},_0x47f42b=_0xdfcb47['fPOKK'](parseInt,process[_0x129147(0x214)][_0x129147(0x215)]||'1'),_0x4037f1=process[_0x129147(0x214)][_0x129147(0x24f)];_0x4037f1&&_0xdfcb47[_0x129147(0x246)](_0x47f42b,0x1)&&(logger[_0x129147(0x237)]('[orchestrate]\x20Setting\x20buildIdentifier\x20to\x20buildRunIdentifier:\x20'+_0x4037f1),this['config'][_0x129147(0x1f8)]=_0x4037f1);}async[a126_0x12ea88(0x203)](_0x1d393e){const _0x3d0142=a126_0x12ea88,_0x56a7bd={'AoZex':function(_0x4177ab,_0x83a15){return _0x4177ab===_0x83a15;},'kyBfr':_0x3d0142(0x22c),'hjBBG':function(_0x2430c4,_0x915137){return _0x2430c4===_0x915137;},'HatWW':function(_0x4210a1,_0x24168d){return _0x4210a1(_0x24168d);},'UtvVd':_0x3d0142(0x224),'xpScs':'nodeIndex','qwqpk':_0x3d0142(0x20d),'mUZUT':_0x3d0142(0x20a),'QMfDG':'splitTestsAPICallCount'};try{if(!_0x1d393e||!Array[_0x3d0142(0x252)](_0x1d393e)||_0x56a7bd['AoZex'](_0x1d393e[_0x3d0142(0x1ef)],0x0))return null;if(_0x56a7bd['AoZex'](this['isTestOrchestrationEnabled'](),![]))return logger['debug'](_0x56a7bd[_0x3d0142(0x23d)]),null;let _0x2dfb04=null;const _0x4682e1=this[_0x3d0142(0x227)][_0x3d0142(0x1f3)]();if(this[_0x3d0142(0x23e)]){const _0x5ce8d8=await this['testOrderingServerHandler'][_0x3d0142(0x21d)](_0x1d393e,_0x4682e1);if(!_0x5ce8d8)return null;_0x2dfb04=await this['testOrderingServerHandler'][_0x3d0142(0x22e)](_0x5ce8d8);}if(!_0x2dfb04||!Array[_0x3d0142(0x252)](_0x2dfb04)||_0x56a7bd[_0x3d0142(0x241)](_0x2dfb04[_0x3d0142(0x1ef)],0x0))return null;const _0x4a040b=_0x56a7bd[_0x3d0142(0x232)](parseInt,process['env']['BROWSERSTACK_NODE_INDEX']||'0'),_0x35d49d=_0x56a7bd['HatWW'](parseInt,process['env']['BROWSERSTACK_TOTAL_NODE_COUNT']||'1');return this[_0x3d0142(0x1fb)](_0x56a7bd[_0x3d0142(0x254)],_0x1d393e[_0x3d0142(0x1ef)]),this[_0x3d0142(0x1fb)](_0x56a7bd[_0x3d0142(0x1f4)],_0x4a040b),this[_0x3d0142(0x1fb)](_0x56a7bd[_0x3d0142(0x23f)],_0x35d49d),this['addToOrderingInstrumentationData'](_0x56a7bd[_0x3d0142(0x1f2)],_0x2dfb04[_0x3d0142(0x1ef)]),this[_0x3d0142(0x1fb)](_0x56a7bd[_0x3d0142(0x250)],this[_0x3d0142(0x23e)]?this[_0x3d0142(0x23e)][_0x3d0142(0x21b)]():0x0),_0x2dfb04[_0x3d0142(0x1fa)](_0x3260f8=>sanitizedFilePath(_0x3260f8));}catch(_0x36a1b5){return logger[_0x3d0142(0x237)]('[reorderTestFiles]\x20Error\x20in\x20ordering\x20test\x20files:\x20'+(_0x36a1b5[_0x3d0142(0x240)]||_0x36a1b5[_0x3d0142(0x235)]())),null;}}async[a126_0x12ea88(0x25b)](_0x1c8a4a,_0x37b56a,_0x28f7ea){const _0x1d87f5=a126_0x12ea88,_0x774a3d={'YAqcF':function(_0x230be0,_0x455ce3){return _0x230be0(_0x455ce3);},'MYuYN':'jest-config','MuAph':function(_0x43c579,_0x285695){return _0x43c579(_0x285695);},'UAQcB':_0x1d87f5(0x233),'rcwTF':function(_0x2066b1,_0x11214){return _0x2066b1(_0x11214);},'ddCRr':_0x1d87f5(0x211),'qJvIZ':'glob','dWNXk':_0x1d87f5(0x255),'yUOPY':'**/?(*.)+(spec|test).[jt]s?(x)','NFhYV':function(_0x2c5be0,_0x4a6963,_0x5378e2,_0x3b2029){return _0x2c5be0(_0x4a6963,_0x5378e2,_0x3b2029);},'WJFEX':_0x1d87f5(0x20b),'HdRgt':_0x1d87f5(0x209),'KCujV':_0x1d87f5(0x213),'SRHBK':_0x1d87f5(0x1f9),'yzYor':'utf-8','tiZFd':function(_0x335849,_0x5b7eec,_0x2485a2,_0x134f8e){return _0x335849(_0x5b7eec,_0x2485a2,_0x134f8e);}};try{const {getTestPathPatterns:_0x22599f}=_0x774a3d[_0x1d87f5(0x216)](require,_0x774a3d[_0x1d87f5(0x20c)]),{globsToMatcher:_0x3bdd04}=_0x774a3d[_0x1d87f5(0x1fc)](require,_0x774a3d[_0x1d87f5(0x243)]),{findRelatedTests:_0x2600fb}=_0x774a3d[_0x1d87f5(0x1f6)](require,_0x774a3d[_0x1d87f5(0x239)]),_0x19aab9=_0x774a3d[_0x1d87f5(0x1fc)](require,_0x774a3d['qJvIZ']),_0x552c51=_0x1c8a4a['testMatch']||[_0x774a3d[_0x1d87f5(0x24b)],_0x774a3d[_0x1d87f5(0x23a)]],_0x2422e7=_0x1c8a4a[_0x1d87f5(0x21a)]||[],_0x362508=_0x774a3d[_0x1d87f5(0x24e)](spawnSync,_0x774a3d[_0x1d87f5(0x225)],[_0x774a3d[_0x1d87f5(0x208)],_0x774a3d[_0x1d87f5(0x22f)],_0x28f7ea,..._0x37b56a,_0x774a3d[_0x1d87f5(0x25a)]],{'encoding':_0x774a3d[_0x1d87f5(0x219)]});let _0x5cb6d0=[];!_0x362508['error']&&(_0x5cb6d0=_0x362508['stdout'][_0x1d87f5(0x238)]('\x0a')['filter'](Boolean));logger[_0x1d87f5(0x237)](_0x1d87f5(0x253)+JSON[_0x1d87f5(0x223)](_0x5cb6d0)+_0x1d87f5(0x242));const _0x43ff26={};_0x43ff26[_0x1d87f5(0x231)]=!![],_0x43ff26[_0x1d87f5(0x201)]=_0x2422e7;const _0x1c4228=_0x774a3d[_0x1d87f5(0x222)](micromatch,_0x5cb6d0,_0x552c51,_0x43ff26)[_0x1d87f5(0x1fa)](_0x53d2ba=>path[_0x1d87f5(0x1f0)](_0x1c8a4a[_0x1d87f5(0x1fe)],_0x53d2ba));return logger['debug'](_0x1d87f5(0x23b)+JSON[_0x1d87f5(0x223)](_0x1c4228)+'\x20files'),_0x1c4228;}catch(_0x3eac32){return logger[_0x1d87f5(0x237)](_0x1d87f5(0x1f5)+_0x3eac32),[];}}}module['exports']=TestOrchestrationHandler;