const a133_0x1d285a=a133_0x4170;(function(_0x3f4b6a,_0x3c07c4){const _0x494348=a133_0x4170,_0x55feae=_0x3f4b6a();while(!![]){try{const _0x502284=parseInt(_0x494348(0x103))/0x1*(parseInt(_0x494348(0xce))/0x2)+parseInt(_0x494348(0xbe))/0x3*(parseInt(_0x494348(0xc0))/0x4)+parseInt(_0x494348(0x106))/0x5*(-parseInt(_0x494348(0xbf))/0x6)+parseInt(_0x494348(0xd4))/0x7*(-parseInt(_0x494348(0xbd))/0x8)+parseInt(_0x494348(0x10b))/0x9+parseInt(_0x494348(0xf8))/0xa*(parseInt(_0x494348(0xe4))/0xb)+-parseInt(_0x494348(0xa2))/0xc;if(_0x502284===_0x3c07c4)break;else _0x55feae['push'](_0x55feae['shift']());}catch(_0x975c3c){_0x55feae['push'](_0x55feae['shift']());}}}(a133_0x79a9,0xf2dab));const logger=require(a133_0x1d285a(0xfc))[a133_0x1d285a(0xcd)],{isUndefined,isNotUndefined,isTrueString,sanitizedFilePath}=require(a133_0x1d285a(0x108)),TestOrderingServerHandler=require('./testOrderingServerHandler'),OrchestrationUtils=require(a133_0x1d285a(0xf7)),path=require(a133_0x1d285a(0xd8)),{spawnSync}=require(a133_0x1d285a(0x102)),micromatch=require(a133_0x1d285a(0x109)),fs=require('fs');class TestOrchestrationHandler{constructor(_0x339319){const _0x5136ea=a133_0x1d285a,_0xd7252c={};_0xd7252c[_0x5136ea(0x10f)]='4|2|1|0|5|3';const _0x4b0ea2=_0xd7252c,_0xb20e2c=_0x4b0ea2[_0x5136ea(0x10f)][_0x5136ea(0xcc)]('|');let _0x3a1eaa=0x0;while(!![]){switch(_0xb20e2c[_0x3a1eaa++]){case'0':this['testOrderingServerHandler']=null;continue;case'1':this[_0x5136ea(0xab)]=![];continue;case'2':this[_0x5136ea(0xcf)]={};continue;case'3':this[_0x5136ea(0xc5)]();continue;case'4':this['config']=_0x339319;continue;case'5':this[_0x5136ea(0xef)]=new OrchestrationUtils(_0x339319);continue;}break;}}['isTestOrchestrationEnabled'](){const _0x3111d4=a133_0x1d285a,_0x24d061={'XTAuj':function(_0x5aaa4a,_0x50ec68){return _0x5aaa4a(_0x50ec68);},'QUcFk':function(_0x1ed341,_0x20952c){return _0x1ed341(_0x20952c);},'BiuEh':function(_0x25e4de,_0x4b245a){return _0x25e4de(_0x4b245a);},'MtaIv':function(_0x3f8234,_0x2faf40){return _0x3f8234(_0x2faf40);},'krbIX':function(_0x5a2537,_0x4a6eeb){return _0x5a2537&&_0x4a6eeb;}},_0x537df2=_0x24d061[_0x3111d4(0xf9)](isNotUndefined,this[_0x3111d4(0xad)])&&(_0x24d061[_0x3111d4(0xf9)](isUndefined,this[_0x3111d4(0xad)]['testObservability'])||_0x24d061[_0x3111d4(0xde)](isTrueString,this['config']['testObservability'])),_0x1705b4=this[_0x3111d4(0xef)][_0x3111d4(0xb0)](),_0x21166b=_0x24d061[_0x3111d4(0xf9)](isNotUndefined,this[_0x3111d4(0xad)])&&_0x24d061[_0x3111d4(0xf9)](isNotUndefined,this[_0x3111d4(0xad)][_0x3111d4(0xcb)]),_0x37e301=_0x24d061[_0x3111d4(0xa3)](isNotUndefined,this['config'])&&_0x24d061[_0x3111d4(0x104)](isNotUndefined,this[_0x3111d4(0xad)][_0x3111d4(0x100)]);return _0x24d061[_0x3111d4(0xb4)](_0x537df2,_0x1705b4)&&_0x21166b&&_0x37e301;}['_initializeTestOrdering'](){const _0x2be300=a133_0x1d285a,_0x1d7ec1={};_0x1d7ec1[_0x2be300(0xb2)]=_0x2be300(0xd6),_0x1d7ec1['sQJPt']=_0x2be300(0xd2);const _0x300afb=_0x1d7ec1;this[_0x2be300(0xe2)]()?(this[_0x2be300(0xdf)]=new TestOrderingServerHandler(this[_0x2be300(0xad)]),logger[_0x2be300(0xfe)](_0x300afb[_0x2be300(0xb2)])):(logger['debug'](_0x300afb[_0x2be300(0x10c)]),this[_0x2be300(0xf3)]());}['logTestOrderingChecks'](){const _0x39174d=a133_0x1d285a,_0x3dbfc3={'pflFA':function(_0x3882a0,_0x19a12e){return _0x3882a0(_0x19a12e);},'CgWHd':function(_0x4756db,_0x2899fa){return _0x4756db(_0x2899fa);},'RMTVz':_0x39174d(0xd3),'mnrzk':function(_0x3a393e,_0x2c4f00){return _0x3a393e(_0x2c4f00);},'SdlzU':'Test\x20Reordering\x20is\x20unavailable\x20because\x20testReporting\x20is\x20disabled.\x20Please\x20enable\x20it\x20from\x20browserstack.yml\x20file.'};if(!this[_0x39174d(0xb9)]())return;(!_0x3dbfc3[_0x39174d(0xfa)](isNotUndefined,this['config'])||!_0x3dbfc3[_0x39174d(0xfa)](isNotUndefined,this[_0x39174d(0xad)][_0x39174d(0x100)])||!_0x3dbfc3[_0x39174d(0xda)](isNotUndefined,this[_0x39174d(0xad)][_0x39174d(0xcb)]))&&logger[_0x39174d(0xfe)](_0x3dbfc3[_0x39174d(0xdb)]),_0x3dbfc3[_0x39174d(0xfa)](isNotUndefined,this['config'])&&_0x3dbfc3['mnrzk'](isNotUndefined,this['config'][_0x39174d(0xb3)])&&!_0x3dbfc3[_0x39174d(0xfa)](isTrueString,this[_0x39174d(0xad)][_0x39174d(0xb3)])&&logger['info'](_0x3dbfc3[_0x39174d(0xb6)]);}[a133_0x1d285a(0xb9)](){const _0xd242ac=a133_0x1d285a;return!this[_0xd242ac(0xe2)]()&&this['orchestrationUtils'][_0xd242ac(0xb0)]();}['isTestOrderingApplied'](){const _0x538964=a133_0x1d285a;return this[_0x538964(0xab)];}[a133_0x1d285a(0xd9)](_0x34865a){const _0x2e2eb7=a133_0x1d285a,_0x3b1b73={};_0x3b1b73[_0x2e2eb7(0xa8)]=_0x2e2eb7(0xc9);const _0x4895db=_0x3b1b73;this[_0x2e2eb7(0xab)]=_0x34865a,this['addToOrderingInstrumentationData'](_0x4895db[_0x2e2eb7(0xa8)],_0x34865a);}['addToOrderingInstrumentationData'](_0x1eca6f,_0x6f0232){this['orderingInstrumentationData'][_0x1eca6f]=_0x6f0232;}[a133_0x1d285a(0xc1)](){const _0x4569c2=a133_0x1d285a;return this[_0x4569c2(0xcf)];}[a133_0x1d285a(0xfb)](){const _0x2f8faa=a133_0x1d285a,_0x4fd8d3={'jKmsS':function(_0x5a5eee,_0x40bddd){return _0x5a5eee(_0x40bddd);},'ycmGq':function(_0x1458ea,_0x8f6427){return _0x1458ea>_0x8f6427;}},_0x53d114=_0x4fd8d3[_0x2f8faa(0xec)](parseInt,process[_0x2f8faa(0xc7)][_0x2f8faa(0xaa)]||'1'),_0x337c71=process[_0x2f8faa(0xc7)][_0x2f8faa(0x101)];_0x337c71&&_0x4fd8d3[_0x2f8faa(0xd0)](_0x53d114,0x1)&&(logger[_0x2f8faa(0xfd)](_0x2f8faa(0xd7)+_0x337c71),this[_0x2f8faa(0xad)][_0x2f8faa(0xf0)]=_0x337c71);}async[a133_0x1d285a(0xa5)](_0x28a7e7){const _0x43ef06=a133_0x1d285a,_0x4fbbac={'nGjUF':function(_0x485605,_0x1c1c30){return _0x485605===_0x1c1c30;},'CIPfY':function(_0x1e3428,_0x48fd80){return _0x1e3428===_0x48fd80;},'sbTWV':_0x43ef06(0xe7),'QnNqk':function(_0x118b68,_0x552260){return _0x118b68(_0x552260);},'KiwVu':_0x43ef06(0xc4),'IdiGO':_0x43ef06(0xf2),'dtiyc':'totalNodes','uQxUL':'downloadedTestFilesCount','WKQRI':'splitTestsAPICallCount'};try{if(!_0x28a7e7||!Array[_0x43ef06(0xd5)](_0x28a7e7)||_0x4fbbac['nGjUF'](_0x28a7e7[_0x43ef06(0xbb)],0x0))return null;if(_0x4fbbac['CIPfY'](this[_0x43ef06(0xe2)](),![]))return logger[_0x43ef06(0xfd)](_0x4fbbac[_0x43ef06(0xd1)]),null;let _0x3dbbb6=null;const _0x2897f6=this[_0x43ef06(0xef)]['getTestOrderingName']();if(this[_0x43ef06(0xdf)]){const _0x2c9a8e=await this[_0x43ef06(0xdf)][_0x43ef06(0xe1)](_0x28a7e7,_0x2897f6);if(!_0x2c9a8e)return null;_0x3dbbb6=await this[_0x43ef06(0xdf)]['getOrderedTestFiles'](_0x2c9a8e);}if(!_0x3dbbb6||!Array[_0x43ef06(0xd5)](_0x3dbbb6)||_0x4fbbac['nGjUF'](_0x3dbbb6[_0x43ef06(0xbb)],0x0))return null;const _0xcbd3b8=_0x4fbbac[_0x43ef06(0x10a)](parseInt,process['env'][_0x43ef06(0xb5)]||'0'),_0x37d2fe=_0x4fbbac[_0x43ef06(0x10a)](parseInt,process[_0x43ef06(0xc7)][_0x43ef06(0xaa)]||'1');return this[_0x43ef06(0xe9)](_0x4fbbac['KiwVu'],_0x28a7e7[_0x43ef06(0xbb)]),this['addToOrderingInstrumentationData'](_0x4fbbac[_0x43ef06(0xff)],_0xcbd3b8),this[_0x43ef06(0xe9)](_0x4fbbac[_0x43ef06(0xa6)],_0x37d2fe),this['addToOrderingInstrumentationData'](_0x4fbbac[_0x43ef06(0xac)],_0x3dbbb6['length']),this[_0x43ef06(0xe9)](_0x4fbbac[_0x43ef06(0xdc)],this['testOrderingServerHandler']?this['testOrderingServerHandler'][_0x43ef06(0xe5)]():0x0),_0x3dbbb6['map'](_0x3f8165=>sanitizedFilePath(_0x3f8165));}catch(_0x55dc3a){return logger[_0x43ef06(0xfd)](_0x43ef06(0xf1)+(_0x55dc3a[_0x43ef06(0xe6)]||_0x55dc3a[_0x43ef06(0xba)]())),null;}}async[a133_0x1d285a(0xe3)](_0x5e3052,_0x53592c,_0x10cecd){const _0x220355=a133_0x1d285a,_0x534580={'phWXx':function(_0x314b58,_0x2cd4eb){return _0x314b58(_0x2cd4eb);},'EXbOh':_0x220355(0x110),'MATkj':_0x220355(0xeb),'GCHku':_0x220355(0xf6),'wUUvY':_0x220355(0xa1),'BXvHE':_0x220355(0xbc),'uMiXA':_0x220355(0xea),'AMmho':function(_0x330376,_0x26804c,_0x30c93b,_0x153dc4){return _0x330376(_0x26804c,_0x30c93b,_0x153dc4);},'TvhXJ':_0x220355(0xe0),'HalZm':_0x220355(0xaf),'UMdps':'--config','HVnRh':'--listTests','uZfAV':'utf-8'};try{const {getTestPathPatterns:_0x209a54}=_0x534580[_0x220355(0xa0)](require,_0x534580['EXbOh']),{globsToMatcher:_0x383b74}=_0x534580[_0x220355(0xa0)](require,_0x534580[_0x220355(0xed)]),{findRelatedTests:_0x5522d6}=_0x534580[_0x220355(0xa0)](require,_0x534580['GCHku']),_0x4bf9f8=_0x534580[_0x220355(0xa0)](require,_0x534580[_0x220355(0xc2)]),_0x9a504=_0x5e3052[_0x220355(0xb1)]||[_0x534580[_0x220355(0xa9)],_0x534580[_0x220355(0xae)]],_0x49d57b=_0x5e3052[_0x220355(0xca)]||[],_0x1fce5e=_0x534580[_0x220355(0x10d)](spawnSync,_0x534580[_0x220355(0xc3)],[_0x534580[_0x220355(0x105)],_0x534580[_0x220355(0xb7)],_0x10cecd,..._0x53592c,_0x534580['HVnRh']],{'encoding':_0x534580[_0x220355(0xc8)]});let _0x34a98c=[];!_0x1fce5e['error']&&(_0x34a98c=_0x1fce5e['stdout'][_0x220355(0xcc)]('\x0a')[_0x220355(0xdd)](Boolean));logger['debug'](_0x220355(0xa4)+JSON[_0x220355(0xc6)](_0x34a98c)+_0x220355(0xee));const _0x6ea747={};_0x6ea747[_0x220355(0xa7)]=!![],_0x6ea747[_0x220355(0x10e)]=_0x49d57b;const _0x4095a8=_0x534580[_0x220355(0x10d)](micromatch,_0x34a98c,_0x9a504,_0x6ea747)[_0x220355(0xe8)](_0x1519ef=>path['relative'](_0x5e3052[_0x220355(0xf4)],_0x1519ef));return logger[_0x220355(0xfd)](_0x220355(0xb8)+JSON[_0x220355(0xc6)](_0x4095a8)+_0x220355(0xee)),_0x4095a8;}catch(_0x44c319){return logger[_0x220355(0xfd)](_0x220355(0xf5)+_0x44c319),[];}}}function a133_0x79a9(){const _0x36886b=['uQxUL','config','uMiXA','jest','testOrderingEnabled','testMatch','xRVFo','testObservability','krbIX','BROWSERSTACK_NODE_INDEX','SdlzU','UMdps','Filterted\x20to\x20test\x20files:\x20','_shouldLogTestOrderingChecks','toString','length','**/__tests__/**/*.[jt]s?(x)','11350576nbbAQb','24wjNtMc','10964298DIGrTb','609724oYVxiL','getOrderingInstrumentationData','wUUvY','TvhXJ','uploadedTestFilesCount','_initializeTestOrdering','stringify','env','uZfAV','applied','testPathIgnorePatterns','projectName','split','winstonLogger','106Tsybbk','orderingInstrumentationData','ycmGq','sbTWV','Test\x20orchestration\x20without\x20test\x20ordering','Test\x20Reordering\x20is\x20unavailable\x20because\x20buildName\x20or\x20projectName\x20is\x20null.\x20Please\x20set\x20a\x20non-null\x20value.','7gEgqnG','isArray','Test\x20orchestration\x20with\x20test\x20ordering\x20enabled','[orchestrate]\x20Setting\x20buildIdentifier\x20to\x20buildRunIdentifier:\x20','path','setTestOrderingApplied','CgWHd','RMTVz','WKQRI','filter','QUcFk','testOrderingServerHandler','npx','splitTests','isTestOrchestrationEnabled','findTestFiles','11IXSnLP','getSplitTestsAPICallCount','stack','[reorderTestFiles]\x20Test\x20ordering\x20is\x20not\x20supported\x20or\x20enabled','map','addToOrderingInstrumentationData','**/?(*.)+(spec|test).[jt]s?(x)','jest-util','jKmsS','MATkj','\x20files','orchestrationUtils','buildIdentifier','[reorderTestFiles]\x20Error\x20in\x20ordering\x20test\x20files:\x20','nodeIndex','logTestOrderingChecks','rootDir','Error\x20finding\x20test\x20files:\x20','jest-runner','./orchestrationUtils','19872180hlzfQX','XTAuj','pflFA','updateBuildIdentifier','../logger','debug','info','IdiGO','buildName','BROWSERSTACK_BUILD_RUN_IDENTIFIER','child_process','13887nDOeNM','MtaIv','HalZm','5XXltaX','exports','../helper','micromatch','QnNqk','13626918KGkQNP','sQJPt','AMmho','ignore','Qalhn','jest-config','phWXx','glob','14590116uCvYuK','BiuEh','Found\x20test\x20files:\x20','reorderTestFiles','dtiyc','matchBase','NQezo','BXvHE','BROWSERSTACK_TOTAL_NODE_COUNT','testOrderingApplied'];a133_0x79a9=function(){return _0x36886b;};return a133_0x79a9();}function a133_0x4170(_0x3024ab,_0x3031ea){const _0x79a9d4=a133_0x79a9();return a133_0x4170=function(_0x417092,_0x476ead){_0x417092=_0x417092-0xa0;let _0x3319e7=_0x79a9d4[_0x417092];return _0x3319e7;},a133_0x4170(_0x3024ab,_0x3031ea);}module[a133_0x1d285a(0x107)]=TestOrchestrationHandler;