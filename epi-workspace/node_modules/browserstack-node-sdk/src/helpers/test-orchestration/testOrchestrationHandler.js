const a123_0x5e815b=a123_0x331f;(function(_0x174643,_0x571883){const _0x44892d=a123_0x331f,_0x1c273f=_0x174643();while(!![]){try{const _0x28ad33=-parseInt(_0x44892d(0x1ba))/0x1+parseInt(_0x44892d(0x162))/0x2*(parseInt(_0x44892d(0x18b))/0x3)+-parseInt(_0x44892d(0x17e))/0x4*(-parseInt(_0x44892d(0x17b))/0x5)+-parseInt(_0x44892d(0x16a))/0x6*(-parseInt(_0x44892d(0x18d))/0x7)+-parseInt(_0x44892d(0x1cb))/0x8+parseInt(_0x44892d(0x1be))/0x9+-parseInt(_0x44892d(0x1b7))/0xa;if(_0x28ad33===_0x571883)break;else _0x1c273f['push'](_0x1c273f['shift']());}catch(_0x3088fa){_0x1c273f['push'](_0x1c273f['shift']());}}}(a123_0x1af2,0xb5f9e));function a123_0x1af2(){const _0x2c2144=['zbSUG','BROWSERSTACK_TOTAL_NODE_COUNT','getOrderedTestFiles','vlbmz','dVvNp','VWxEp','QmxBi','findTestFiles','map','jdsmC','MmNRl','buildIdentifier','jZaTj','projectName','Error\x20finding\x20test\x20files:\x20','hOIwg','hNrrT','winstonLogger','[reorderTestFiles]\x20Error\x20in\x20ordering\x20test\x20files:\x20','isArray','1|2|5|4|0|3','jest-util','fFalr','rootDir','Filterted\x20to\x20test\x20files:\x20','logTestOrderingChecks','--config','addToOrderingInstrumentationData','bVAlf','Test\x20orchestration\x20with\x20test\x20ordering\x20enabled','2707690rEhFSv','jest','testObservability','1354670hTAAuy','Test\x20Reordering\x20is\x20unavailable\x20because\x20testObservability\x20is\x20disabled.\x20Please\x20enable\x20it\x20from\x20browserstack.yml\x20file.','isTestOrchestrationEnabled','testOrderingApplied','13217427NTkImU','_initializeTestOrdering','debug','jest-runner','buildName','lkWuf','KtEqZ','utf-8','splitTests','stack','LYfCz','WtcKB','stdout','141064mYMVbx','getSplitTestsAPICallCount','./testOrderingServerHandler','npx','splitTestsAPICallCount','igdjk','testOrderingEnabled','50LAfEJu','nNoZR','testOrderingServerHandler','oPqnC','testPathIgnorePatterns','YVPxP','--listTests','length','1746rlvNzt','**/?(*.)+(spec|test).[jt]s?(x)','isTestOrderingApplied','FCoHG','\x20files','updateBuildIdentifier','info','Nrkgh','WsZnq','./orchestrationUtils','[reorderTestFiles]\x20Test\x20ordering\x20is\x20not\x20supported\x20or\x20enabled','BROWSERSTACK_BUILD_RUN_IDENTIFIER','stringify','orderingInstrumentationData','BqYtE','BmtcS','child_process','1205PTWRNZ','path','exports','6084bcAAji','BUQZn','[orchestrate]\x20Setting\x20buildIdentifier\x20to\x20buildRunIdentifier:\x20','uploadedTestFilesCount','GcQua','getOrderingInstrumentationData','_shouldLogTestOrderingChecks','getTestOrderingName','WqdNA','glob','AuwrG','split','config','58467ypehbg','Pompj','1589pwZEqv','nodeIndex','downloadedTestFilesCount','intvm','Test\x20Reordering\x20is\x20unavailable\x20because\x20buildName\x20or\x20projectName\x20is\x20null.\x20Please\x20set\x20a\x20non-null\x20value.','env','setTestOrderingApplied','orchestrationUtils','iVCkA','jNfSw','juimt','micromatch'];a123_0x1af2=function(){return _0x2c2144;};return a123_0x1af2();}function a123_0x331f(_0x4729a1,_0x1acccb){const _0x1af2d6=a123_0x1af2();return a123_0x331f=function(_0x331f63,_0xa20951){_0x331f63=_0x331f63-0x15c;let _0x3beae5=_0x1af2d6[_0x331f63];return _0x3beae5;},a123_0x331f(_0x4729a1,_0x1acccb);}const logger=require('../logger')[a123_0x5e815b(0x1aa)],{isUndefined,isNotUndefined,isTrueString,sanitizedFilePath}=require('../helper'),TestOrderingServerHandler=require(a123_0x5e815b(0x15d)),OrchestrationUtils=require(a123_0x5e815b(0x173)),path=require(a123_0x5e815b(0x17c)),{spawnSync}=require(a123_0x5e815b(0x17a)),micromatch=require(a123_0x5e815b(0x198)),fs=require('fs');class TestOrchestrationHandler{constructor(_0x2004b2){const _0x5108cc=a123_0x5e815b,_0x58280d={};_0x58280d[_0x5108cc(0x1a9)]=_0x5108cc(0x1ad);const _0x494fc9=_0x58280d,_0x5a3b25=_0x494fc9[_0x5108cc(0x1a9)][_0x5108cc(0x189)]('|');let _0x1082e1=0x0;while(!![]){switch(_0x5a3b25[_0x1082e1++]){case'0':this[_0x5108cc(0x194)]=new OrchestrationUtils(_0x2004b2);continue;case'1':this[_0x5108cc(0x18a)]=_0x2004b2;continue;case'2':this[_0x5108cc(0x177)]={};continue;case'3':this[_0x5108cc(0x1bf)]();continue;case'4':this['testOrderingServerHandler']=null;continue;case'5':this[_0x5108cc(0x1bd)]=![];continue;}break;}}['isTestOrchestrationEnabled'](){const _0x2d9a26=a123_0x5e815b,_0x498b15={'WtcKB':function(_0x2499bc,_0x3329fd){return _0x2499bc(_0x3329fd);},'juimt':function(_0x412c67,_0x491f83){return _0x412c67(_0x491f83);},'HhLeA':function(_0x5689af,_0x2ef43f){return _0x5689af(_0x2ef43f);},'BUQZn':function(_0x429eee,_0x1f493e){return _0x429eee(_0x1f493e);},'Pompj':function(_0x21f0ce,_0x57546f){return _0x21f0ce(_0x57546f);},'VWxEp':function(_0x13fc28,_0xc402d1){return _0x13fc28(_0xc402d1);},'WqdNA':function(_0x459a80,_0x46160d){return _0x459a80&&_0x46160d;}},_0x34f7d0=_0x498b15['WtcKB'](isNotUndefined,this[_0x2d9a26(0x18a)])&&(_0x498b15[_0x2d9a26(0x197)](isUndefined,this[_0x2d9a26(0x18a)][_0x2d9a26(0x1b9)])||_0x498b15[_0x2d9a26(0x1c9)](isTrueString,this[_0x2d9a26(0x18a)][_0x2d9a26(0x1b9)])),_0x554974=this[_0x2d9a26(0x194)]['testOrderingEnabled'](),_0x3b544b=_0x498b15['HhLeA'](isNotUndefined,this[_0x2d9a26(0x18a)])&&_0x498b15[_0x2d9a26(0x17f)](isNotUndefined,this[_0x2d9a26(0x18a)]['projectName']),_0x453d3e=_0x498b15[_0x2d9a26(0x18c)](isNotUndefined,this['config'])&&_0x498b15[_0x2d9a26(0x19e)](isNotUndefined,this[_0x2d9a26(0x18a)]['buildName']);return _0x498b15[_0x2d9a26(0x186)](_0x34f7d0,_0x554974)&&_0x3b544b&&_0x453d3e;}['_initializeTestOrdering'](){const _0x369eda=a123_0x5e815b,_0x32887f={};_0x32887f['fFalr']=_0x369eda(0x1b6),_0x32887f[_0x369eda(0x196)]='Test\x20orchestration\x20without\x20test\x20ordering';const _0x40accd=_0x32887f;this[_0x369eda(0x1bc)]()?(this[_0x369eda(0x164)]=new TestOrderingServerHandler(this[_0x369eda(0x18a)]),logger['info'](_0x40accd[_0x369eda(0x1af)])):(logger[_0x369eda(0x1c0)](_0x40accd[_0x369eda(0x196)]),this[_0x369eda(0x1b2)]());}[a123_0x5e815b(0x1b2)](){const _0x41664d=a123_0x5e815b,_0x244ceb={'WsZnq':function(_0x282270,_0x3b7610){return _0x282270(_0x3b7610);},'KtEqZ':_0x41664d(0x191),'igdjk':function(_0x1c1e89,_0x5ac1f9){return _0x1c1e89(_0x5ac1f9);},'MtzNe':function(_0x51144b,_0x5f10e9){return _0x51144b(_0x5f10e9);},'intvm':_0x41664d(0x1bb)};if(!this['_shouldLogTestOrderingChecks']())return;(!_0x244ceb[_0x41664d(0x172)](isNotUndefined,this[_0x41664d(0x18a)])||!_0x244ceb[_0x41664d(0x172)](isNotUndefined,this[_0x41664d(0x18a)][_0x41664d(0x1c2)])||!_0x244ceb[_0x41664d(0x172)](isNotUndefined,this[_0x41664d(0x18a)][_0x41664d(0x1a6)]))&&logger[_0x41664d(0x170)](_0x244ceb[_0x41664d(0x1c4)]),_0x244ceb[_0x41664d(0x160)](isNotUndefined,this[_0x41664d(0x18a)])&&_0x244ceb[_0x41664d(0x160)](isNotUndefined,this['config'][_0x41664d(0x1b9)])&&!_0x244ceb['MtzNe'](isTrueString,this[_0x41664d(0x18a)][_0x41664d(0x1b9)])&&logger[_0x41664d(0x170)](_0x244ceb[_0x41664d(0x190)]);}[a123_0x5e815b(0x184)](){const _0x14b914=a123_0x5e815b;return!this[_0x14b914(0x1bc)]()&&this[_0x14b914(0x194)][_0x14b914(0x161)]();}[a123_0x5e815b(0x16c)](){const _0x4d84da=a123_0x5e815b;return this[_0x4d84da(0x1bd)];}[a123_0x5e815b(0x193)](_0x407dc4){const _0x3a0e2f=a123_0x5e815b,_0x2085af={};_0x2085af[_0x3a0e2f(0x1a2)]='applied';const _0x5d1a4e=_0x2085af;this['testOrderingApplied']=_0x407dc4,this[_0x3a0e2f(0x1b4)](_0x5d1a4e[_0x3a0e2f(0x1a2)],_0x407dc4);}[a123_0x5e815b(0x1b4)](_0x917642,_0x3476b4){const _0x3da1b9=a123_0x5e815b;this[_0x3da1b9(0x177)][_0x917642]=_0x3476b4;}[a123_0x5e815b(0x183)](){const _0x3211b3=a123_0x5e815b;return this[_0x3211b3(0x177)];}[a123_0x5e815b(0x16f)](){const _0x3a9775=a123_0x5e815b,_0x3f5fd2={'tvUeE':function(_0x29df95,_0x46b8fe){return _0x29df95(_0x46b8fe);},'QmxBi':function(_0x5c4288,_0x10918d){return _0x5c4288>_0x10918d;}},_0x1b5ce2=_0x3f5fd2['tvUeE'](parseInt,process['env'][_0x3a9775(0x19a)]||'1'),_0x37610b=process[_0x3a9775(0x192)][_0x3a9775(0x175)];_0x37610b&&_0x3f5fd2[_0x3a9775(0x19f)](_0x1b5ce2,0x1)&&(logger[_0x3a9775(0x1c0)](_0x3a9775(0x180)+_0x37610b),this[_0x3a9775(0x18a)][_0x3a9775(0x1a4)]=_0x37610b);}async['reorderTestFiles'](_0x38237e){const _0x1efc65=a123_0x5e815b,_0x5b3da6={'zbSUG':function(_0x271a18,_0x1bffc5){return _0x271a18===_0x1bffc5;},'bVAlf':_0x1efc65(0x174),'nNoZR':function(_0x1c0b36,_0x3a062e){return _0x1c0b36===_0x3a062e;},'iVCkA':function(_0x5ba2ca,_0x2ce2b3){return _0x5ba2ca(_0x2ce2b3);},'MmNRl':function(_0x3bbcae,_0x37006e){return _0x3bbcae(_0x37006e);},'lkWuf':_0x1efc65(0x181),'BqYtE':_0x1efc65(0x18e),'dVvNp':'totalNodes','FCoHG':_0x1efc65(0x18f),'GcQua':_0x1efc65(0x15f)};try{if(!_0x38237e||!Array[_0x1efc65(0x1ac)](_0x38237e)||_0x5b3da6['zbSUG'](_0x38237e['length'],0x0))return null;if(_0x5b3da6[_0x1efc65(0x199)](this[_0x1efc65(0x1bc)](),![]))return logger[_0x1efc65(0x1c0)](_0x5b3da6[_0x1efc65(0x1b5)]),null;let _0x3a0eea=null;const _0x1f422d=this[_0x1efc65(0x194)][_0x1efc65(0x185)]();if(this[_0x1efc65(0x164)]){const _0x184ad4=await this[_0x1efc65(0x164)][_0x1efc65(0x1c6)](_0x38237e,_0x1f422d);if(!_0x184ad4)return null;_0x3a0eea=await this[_0x1efc65(0x164)][_0x1efc65(0x19b)](_0x184ad4);}if(!_0x3a0eea||!Array['isArray'](_0x3a0eea)||_0x5b3da6[_0x1efc65(0x163)](_0x3a0eea[_0x1efc65(0x169)],0x0))return null;const _0x3363ff=_0x5b3da6[_0x1efc65(0x195)](parseInt,process[_0x1efc65(0x192)]['BROWSERSTACK_NODE_INDEX']||'0'),_0x57f055=_0x5b3da6[_0x1efc65(0x1a3)](parseInt,process[_0x1efc65(0x192)][_0x1efc65(0x19a)]||'1');return this[_0x1efc65(0x1b4)](_0x5b3da6[_0x1efc65(0x1c3)],_0x38237e[_0x1efc65(0x169)]),this[_0x1efc65(0x1b4)](_0x5b3da6[_0x1efc65(0x178)],_0x3363ff),this[_0x1efc65(0x1b4)](_0x5b3da6[_0x1efc65(0x19d)],_0x57f055),this['addToOrderingInstrumentationData'](_0x5b3da6[_0x1efc65(0x16d)],_0x3a0eea['length']),this['addToOrderingInstrumentationData'](_0x5b3da6[_0x1efc65(0x182)],this[_0x1efc65(0x164)]?this[_0x1efc65(0x164)][_0x1efc65(0x15c)]():0x0),_0x3a0eea['map'](_0x5499ee=>sanitizedFilePath(_0x5499ee));}catch(_0x48bf6c){return logger[_0x1efc65(0x1c0)](_0x1efc65(0x1ab)+(_0x48bf6c[_0x1efc65(0x1c7)]||_0x48bf6c['toString']())),null;}}async[a123_0x5e815b(0x1a0)](_0x5eba0b,_0x473617,_0x10b47b){const _0x9f7b84=a123_0x5e815b,_0x76d2d1={'YVPxP':function(_0x3f1ba5,_0x33e891){return _0x3f1ba5(_0x33e891);},'oPqnC':'jest-config','wOyPP':_0x9f7b84(0x1ae),'AuwrG':function(_0x5cd85c,_0x2a4578){return _0x5cd85c(_0x2a4578);},'hOIwg':_0x9f7b84(0x1c1),'USXZw':function(_0x132e97,_0x4ec6f9){return _0x132e97(_0x4ec6f9);},'QGcuL':_0x9f7b84(0x187),'cRbzZ':'**/__tests__/**/*.[jt]s?(x)','BmtcS':_0x9f7b84(0x16b),'kfKRM':function(_0x536f34,_0x9f02a7,_0x4c15f7,_0x50d594){return _0x536f34(_0x9f02a7,_0x4c15f7,_0x50d594);},'LYfCz':_0x9f7b84(0x15e),'Nrkgh':_0x9f7b84(0x1b8),'vlbmz':_0x9f7b84(0x1b3),'jZaTj':_0x9f7b84(0x168),'mrsSZ':_0x9f7b84(0x1c5)};try{const {getTestPathPatterns:_0x4c543d}=_0x76d2d1[_0x9f7b84(0x167)](require,_0x76d2d1[_0x9f7b84(0x165)]),{globsToMatcher:_0x50db6f}=_0x76d2d1['YVPxP'](require,_0x76d2d1['wOyPP']),{findRelatedTests:_0x2564e6}=_0x76d2d1[_0x9f7b84(0x188)](require,_0x76d2d1[_0x9f7b84(0x1a8)]),_0x3784f2=_0x76d2d1['USXZw'](require,_0x76d2d1['QGcuL']),_0x5317ef=_0x5eba0b['testMatch']||[_0x76d2d1['cRbzZ'],_0x76d2d1[_0x9f7b84(0x179)]],_0x367107=_0x5eba0b[_0x9f7b84(0x166)]||[],_0x1db4c1=_0x76d2d1['kfKRM'](spawnSync,_0x76d2d1[_0x9f7b84(0x1c8)],[_0x76d2d1[_0x9f7b84(0x171)],_0x76d2d1[_0x9f7b84(0x19c)],_0x10b47b,..._0x473617,_0x76d2d1[_0x9f7b84(0x1a5)]],{'encoding':_0x76d2d1['mrsSZ']});let _0x4def06=[];!_0x1db4c1['error']&&(_0x4def06=_0x1db4c1[_0x9f7b84(0x1ca)][_0x9f7b84(0x189)]('\x0a')['filter'](Boolean));logger[_0x9f7b84(0x1c0)]('Found\x20test\x20files:\x20'+JSON[_0x9f7b84(0x176)](_0x4def06)+_0x9f7b84(0x16e));const _0x576fae={};_0x576fae['matchBase']=!![],_0x576fae['ignore']=_0x367107;const _0x1354f9=_0x76d2d1['kfKRM'](micromatch,_0x4def06,_0x5317ef,_0x576fae)[_0x9f7b84(0x1a1)](_0xedb242=>path['relative'](_0x5eba0b[_0x9f7b84(0x1b0)],_0xedb242));return logger['debug'](_0x9f7b84(0x1b1)+JSON[_0x9f7b84(0x176)](_0x1354f9)+_0x9f7b84(0x16e)),_0x1354f9;}catch(_0xab1ba8){return logger[_0x9f7b84(0x1c0)](_0x9f7b84(0x1a7)+_0xab1ba8),[];}}}module[a123_0x5e815b(0x17d)]=TestOrchestrationHandler;