const a131_0x2c53f1=a131_0x1330;function a131_0x31b4(){const _0x70bac0=['XOuLh','totalNodes','testMatch','map','lpenI','nbArE','BROWSERSTACK_BUILD_RUN_IDENTIFIER','tbrta','env','projectName','exports','5634952DBCLAJ','Test\x20Reordering\x20is\x20unavailable\x20because\x20buildName\x20or\x20projectName\x20is\x20null.\x20Please\x20set\x20a\x20non-null\x20value.','SJcWO','logTestOrderingChecks','fcknK','**/__tests__/**/*.[jt]s?(x)','Error\x20finding\x20test\x20files:\x20','rootDir','FqyBF','uFZtq','dexky','split','[reorderTestFiles]\x20Test\x20ordering\x20is\x20not\x20supported\x20or\x20enabled','_shouldLogTestOrderingChecks','path','testPathIgnorePatterns','addToOrderingInstrumentationData','_initializeTestOrdering','uploadedTestFilesCount','TrFxq','buildIdentifier','SwUDr','testObservability','testOrderingServerHandler','siFYz','Test\x20orchestration\x20without\x20test\x20ordering','filter','PZeLc','--config','info','debug','matchBase','./testOrderingServerHandler','1091304bGfQXx','nodeIndex','getOrderedTestFiles','48eUZuWE','BROWSERSTACK_NODE_INDEX','WPkyO','kDWaH','stack','buildName','xJBUt','child_process','OvkDO','testOrderingApplied','0|1|4|2|5|3','setTestOrderingApplied','BROWSERSTACK_TOTAL_NODE_COUNT','length','jest-util','micromatch','2895354uGUMUB','--listTests','config','getTestOrderingName','glob','Test\x20orchestration\x20with\x20test\x20ordering\x20enabled','splitTests','relative','updateBuildIdentifier','GBHUc','FPvCZ','findTestFiles','isTestOrchestrationEnabled','WTcan','stringify','Filterted\x20to\x20test\x20files:\x20','hpSWm','jest','198695pQKviQ','orderingInstrumentationData','\x20files','gnHFR','vQRub','404433TphsYD','jest-config','MyTpt','xWCTf','131241GiplEg','4706730sPKoxU','LGmET','wEfiX','JbILz','stdout','orchestrationUtils','GFYPY','caFQq','jest-runner','isArray','applied','XKBFc','ndlyY','../helper','Test\x20Reordering\x20is\x20unavailable\x20because\x20testReporting\x20is\x20disabled.\x20Please\x20enable\x20it\x20from\x20browserstack.yml\x20file.','cacRs','hAKkX','testOrderingEnabled','utf-8','OupeH'];a131_0x31b4=function(){return _0x70bac0;};return a131_0x31b4();}(function(_0x8a51c1,_0x552ffd){const _0x3ae790=a131_0x1330,_0x23fda3=_0x8a51c1();while(!![]){try{const _0x4df6f9=-parseInt(_0x3ae790(0x1ce))/0x1+-parseInt(_0x3ae790(0x1a4))/0x2+-parseInt(_0x3ae790(0x1d2))/0x3+-parseInt(_0x3ae790(0x1a7))/0x4*(parseInt(_0x3ae790(0x1c9))/0x5)+parseInt(_0x3ae790(0x1b7))/0x6+parseInt(_0x3ae790(0x1d3))/0x7+parseInt(_0x3ae790(0x183))/0x8;if(_0x4df6f9===_0x552ffd)break;else _0x23fda3['push'](_0x23fda3['shift']());}catch(_0x444d9a){_0x23fda3['push'](_0x23fda3['shift']());}}}(a131_0x31b4,0x5ee0a));const logger=require('../logger')['winstonLogger'],{isUndefined,isNotUndefined,isTrueString,sanitizedFilePath}=require(a131_0x2c53f1(0x1e0)),TestOrderingServerHandler=require(a131_0x2c53f1(0x1a3)),OrchestrationUtils=require('./orchestrationUtils'),path=require(a131_0x2c53f1(0x191)),{spawnSync}=require(a131_0x2c53f1(0x1ae)),micromatch=require(a131_0x2c53f1(0x1b6)),fs=require('fs');class TestOrchestrationHandler{constructor(_0x37f009){const _0x240f3d=a131_0x2c53f1,_0x10ef2e={};_0x10ef2e['ndlyY']=_0x240f3d(0x1b1);const _0x2ec885=_0x10ef2e,_0x43c8b7=_0x2ec885[_0x240f3d(0x1df)][_0x240f3d(0x18e)]('|');let _0x194fbf=0x0;while(!![]){switch(_0x43c8b7[_0x194fbf++]){case'0':this[_0x240f3d(0x1b9)]=_0x37f009;continue;case'1':this['orderingInstrumentationData']={};continue;case'2':this['testOrderingServerHandler']=null;continue;case'3':this['_initializeTestOrdering']();continue;case'4':this[_0x240f3d(0x1b0)]=![];continue;case'5':this[_0x240f3d(0x1d8)]=new OrchestrationUtils(_0x37f009);continue;}break;}}[a131_0x2c53f1(0x1c3)](){const _0x3e8f84=a131_0x2c53f1,_0xe123fe={'fcknK':function(_0x38628b,_0x43b23b){return _0x38628b(_0x43b23b);},'SwUDr':function(_0x352395,_0x307e47){return _0x352395(_0x307e47);},'OvkDO':function(_0x2dffeb,_0x21eb1d){return _0x2dffeb(_0x21eb1d);},'MyTpt':function(_0x1bd2a9,_0x1e32d0){return _0x1bd2a9(_0x1e32d0);},'FqyBF':function(_0x13ef21,_0xd2f825){return _0x13ef21&&_0xd2f825;}},_0x5db34e=_0xe123fe[_0x3e8f84(0x187)](isNotUndefined,this[_0x3e8f84(0x1b9)])&&(_0xe123fe['SwUDr'](isUndefined,this[_0x3e8f84(0x1b9)][_0x3e8f84(0x199)])||_0xe123fe[_0x3e8f84(0x1af)](isTrueString,this[_0x3e8f84(0x1b9)][_0x3e8f84(0x199)])),_0xa18d30=this['orchestrationUtils'][_0x3e8f84(0x175)](),_0x5b00bf=_0xe123fe[_0x3e8f84(0x1d0)](isNotUndefined,this[_0x3e8f84(0x1b9)])&&_0xe123fe[_0x3e8f84(0x187)](isNotUndefined,this[_0x3e8f84(0x1b9)][_0x3e8f84(0x181)]),_0x90fba8=_0xe123fe['MyTpt'](isNotUndefined,this[_0x3e8f84(0x1b9)])&&_0xe123fe[_0x3e8f84(0x198)](isNotUndefined,this[_0x3e8f84(0x1b9)][_0x3e8f84(0x1ac)]);return _0xe123fe[_0x3e8f84(0x18b)](_0x5db34e,_0xa18d30)&&_0x5b00bf&&_0x90fba8;}[a131_0x2c53f1(0x194)](){const _0xd4049c=a131_0x2c53f1,_0x14f2d4={};_0x14f2d4[_0xd4049c(0x1d6)]=_0xd4049c(0x1bc),_0x14f2d4['KTeLg']=_0xd4049c(0x19c);const _0x54e06b=_0x14f2d4;this[_0xd4049c(0x1c3)]()?(this['testOrderingServerHandler']=new TestOrderingServerHandler(this[_0xd4049c(0x1b9)]),logger[_0xd4049c(0x1a0)](_0x54e06b['JbILz'])):(logger[_0xd4049c(0x1a1)](_0x54e06b['KTeLg']),this[_0xd4049c(0x186)]());}[a131_0x2c53f1(0x186)](){const _0x28ad62=a131_0x2c53f1,_0x29a7ef={'TrFxq':function(_0x30c4ee,_0x161469){return _0x30c4ee(_0x161469);},'caFQq':function(_0xfbfdc0,_0x1c5bc2){return _0xfbfdc0(_0x1c5bc2);},'gnHFR':function(_0x1859f1,_0x706b49){return _0x1859f1(_0x706b49);},'GBHUc':_0x28ad62(0x184),'XOuLh':function(_0x182074,_0x24d691){return _0x182074(_0x24d691);},'SJcWO':_0x28ad62(0x172)};if(!this['_shouldLogTestOrderingChecks']())return;(!_0x29a7ef[_0x28ad62(0x196)](isNotUndefined,this[_0x28ad62(0x1b9)])||!_0x29a7ef[_0x28ad62(0x1da)](isNotUndefined,this[_0x28ad62(0x1b9)]['buildName'])||!_0x29a7ef[_0x28ad62(0x1cc)](isNotUndefined,this['config'][_0x28ad62(0x181)]))&&logger[_0x28ad62(0x1a0)](_0x29a7ef[_0x28ad62(0x1c0)]),_0x29a7ef['caFQq'](isNotUndefined,this[_0x28ad62(0x1b9)])&&_0x29a7ef['gnHFR'](isNotUndefined,this[_0x28ad62(0x1b9)]['testObservability'])&&!_0x29a7ef[_0x28ad62(0x178)](isTrueString,this[_0x28ad62(0x1b9)][_0x28ad62(0x199)])&&logger[_0x28ad62(0x1a0)](_0x29a7ef[_0x28ad62(0x185)]);}[a131_0x2c53f1(0x190)](){const _0x370f20=a131_0x2c53f1;return!this['isTestOrchestrationEnabled']()&&this[_0x370f20(0x1d8)][_0x370f20(0x175)]();}['isTestOrderingApplied'](){return this['testOrderingApplied'];}[a131_0x2c53f1(0x1b2)](_0x2e3bde){const _0xeaf383=a131_0x2c53f1,_0x213e91={};_0x213e91['OGGQH']=_0xeaf383(0x1dd);const _0x375697=_0x213e91;this[_0xeaf383(0x1b0)]=_0x2e3bde,this['addToOrderingInstrumentationData'](_0x375697['OGGQH'],_0x2e3bde);}[a131_0x2c53f1(0x193)](_0x34a392,_0x24bc99){const _0x3a3119=a131_0x2c53f1;this[_0x3a3119(0x1ca)][_0x34a392]=_0x24bc99;}['getOrderingInstrumentationData'](){const _0xfa33aa=a131_0x2c53f1;return this[_0xfa33aa(0x1ca)];}[a131_0x2c53f1(0x1bf)](){const _0x1120bf=a131_0x2c53f1,_0xe6343d={'FPvCZ':function(_0x5bc210,_0x230ab1){return _0x5bc210(_0x230ab1);},'kDWaH':function(_0x37f3d9,_0x4c7809){return _0x37f3d9>_0x4c7809;}},_0x5de710=_0xe6343d[_0x1120bf(0x1c1)](parseInt,process[_0x1120bf(0x180)]['BROWSERSTACK_TOTAL_NODE_COUNT']||'1'),_0x1703e6=process[_0x1120bf(0x180)][_0x1120bf(0x17e)];_0x1703e6&&_0xe6343d[_0x1120bf(0x1aa)](_0x5de710,0x1)&&(logger['debug']('[orchestrate]\x20Setting\x20buildIdentifier\x20to\x20buildRunIdentifier:\x20'+_0x1703e6),this[_0x1120bf(0x1b9)][_0x1120bf(0x197)]=_0x1703e6);}async['reorderTestFiles'](_0x2bde2f){const _0x440518=a131_0x2c53f1,_0x5ce6d3={'cacRs':function(_0x30353d,_0x427c51){return _0x30353d===_0x427c51;},'WTcan':_0x440518(0x18f),'siFYz':function(_0x692752,_0x294342){return _0x692752===_0x294342;},'GFYPY':function(_0x49f58a,_0x4ffa42){return _0x49f58a(_0x4ffa42);},'hpSWm':function(_0x1fc023,_0x5ede8e){return _0x1fc023(_0x5ede8e);},'oXEiN':_0x440518(0x195),'wEfiX':_0x440518(0x1a5),'dexky':_0x440518(0x179),'PZeLc':'downloadedTestFilesCount','WPkyO':'splitTestsAPICallCount'};try{if(!_0x2bde2f||!Array[_0x440518(0x1dc)](_0x2bde2f)||_0x5ce6d3[_0x440518(0x173)](_0x2bde2f['length'],0x0))return null;if(_0x5ce6d3[_0x440518(0x173)](this[_0x440518(0x1c3)](),![]))return logger[_0x440518(0x1a1)](_0x5ce6d3[_0x440518(0x1c4)]),null;let _0xd66ea6=null;const _0x5bef5c=this[_0x440518(0x1d8)][_0x440518(0x1ba)]();if(this[_0x440518(0x19a)]){const _0x3f6c0e=await this[_0x440518(0x19a)][_0x440518(0x1bd)](_0x2bde2f,_0x5bef5c);if(!_0x3f6c0e)return null;_0xd66ea6=await this[_0x440518(0x19a)][_0x440518(0x1a6)](_0x3f6c0e);}if(!_0xd66ea6||!Array[_0x440518(0x1dc)](_0xd66ea6)||_0x5ce6d3[_0x440518(0x19b)](_0xd66ea6[_0x440518(0x1b4)],0x0))return null;const _0x13438a=_0x5ce6d3[_0x440518(0x1d9)](parseInt,process[_0x440518(0x180)][_0x440518(0x1a8)]||'0'),_0x8583e6=_0x5ce6d3[_0x440518(0x1c7)](parseInt,process[_0x440518(0x180)][_0x440518(0x1b3)]||'1');return this['addToOrderingInstrumentationData'](_0x5ce6d3['oXEiN'],_0x2bde2f['length']),this[_0x440518(0x193)](_0x5ce6d3[_0x440518(0x1d5)],_0x13438a),this[_0x440518(0x193)](_0x5ce6d3[_0x440518(0x18d)],_0x8583e6),this[_0x440518(0x193)](_0x5ce6d3[_0x440518(0x19e)],_0xd66ea6['length']),this[_0x440518(0x193)](_0x5ce6d3[_0x440518(0x1a9)],this[_0x440518(0x19a)]?this[_0x440518(0x19a)]['getSplitTestsAPICallCount']():0x0),_0xd66ea6['map'](_0x2d5134=>sanitizedFilePath(_0x2d5134));}catch(_0x36b6e8){return logger[_0x440518(0x1a1)]('[reorderTestFiles]\x20Error\x20in\x20ordering\x20test\x20files:\x20'+(_0x36b6e8[_0x440518(0x1ab)]||_0x36b6e8['toString']())),null;}}async[a131_0x2c53f1(0x1c2)](_0x4a057d,_0x30233e,_0x4782a5){const _0x1debe8=a131_0x2c53f1,_0x1cd907={'XKBFc':function(_0x1298a6,_0x44eee5){return _0x1298a6(_0x44eee5);},'xJBUt':_0x1debe8(0x1cf),'zGxeU':function(_0x43dbe2,_0x231236){return _0x43dbe2(_0x231236);},'uFZtq':_0x1debe8(0x1b5),'xWCTf':function(_0x51c7c3,_0xe8388f){return _0x51c7c3(_0xe8388f);},'ZcBzB':_0x1debe8(0x1db),'tbrta':_0x1debe8(0x1bb),'KoQZY':_0x1debe8(0x188),'vQRub':'**/?(*.)+(spec|test).[jt]s?(x)','hAKkX':function(_0x1135b8,_0x168c94,_0x27e343,_0x40f7af){return _0x1135b8(_0x168c94,_0x27e343,_0x40f7af);},'KPzhI':'npx','lpenI':_0x1debe8(0x1c8),'LGmET':_0x1debe8(0x19f),'OupeH':_0x1debe8(0x1b8),'nbArE':_0x1debe8(0x176)};try{const {getTestPathPatterns:_0x37536b}=_0x1cd907[_0x1debe8(0x1de)](require,_0x1cd907[_0x1debe8(0x1ad)]),{globsToMatcher:_0x42b2cb}=_0x1cd907['zGxeU'](require,_0x1cd907[_0x1debe8(0x18c)]),{findRelatedTests:_0x4ad172}=_0x1cd907[_0x1debe8(0x1d1)](require,_0x1cd907['ZcBzB']),_0xdd9651=_0x1cd907[_0x1debe8(0x1d1)](require,_0x1cd907[_0x1debe8(0x17f)]),_0x28c5bd=_0x4a057d[_0x1debe8(0x17a)]||[_0x1cd907['KoQZY'],_0x1cd907[_0x1debe8(0x1cd)]],_0x1ae309=_0x4a057d[_0x1debe8(0x192)]||[],_0x77710a=_0x1cd907[_0x1debe8(0x174)](spawnSync,_0x1cd907['KPzhI'],[_0x1cd907[_0x1debe8(0x17c)],_0x1cd907[_0x1debe8(0x1d4)],_0x4782a5,..._0x30233e,_0x1cd907[_0x1debe8(0x177)]],{'encoding':_0x1cd907[_0x1debe8(0x17d)]});let _0x87ecbf=[];!_0x77710a['error']&&(_0x87ecbf=_0x77710a[_0x1debe8(0x1d7)][_0x1debe8(0x18e)]('\x0a')[_0x1debe8(0x19d)](Boolean));logger[_0x1debe8(0x1a1)]('Found\x20test\x20files:\x20'+JSON[_0x1debe8(0x1c5)](_0x87ecbf)+_0x1debe8(0x1cb));const _0x532d1b={};_0x532d1b[_0x1debe8(0x1a2)]=!![],_0x532d1b['ignore']=_0x1ae309;const _0x3c9612=_0x1cd907['hAKkX'](micromatch,_0x87ecbf,_0x28c5bd,_0x532d1b)[_0x1debe8(0x17b)](_0x2155f0=>path[_0x1debe8(0x1be)](_0x4a057d[_0x1debe8(0x18a)],_0x2155f0));return logger[_0x1debe8(0x1a1)](_0x1debe8(0x1c6)+JSON[_0x1debe8(0x1c5)](_0x3c9612)+_0x1debe8(0x1cb)),_0x3c9612;}catch(_0x2a6c65){return logger['debug'](_0x1debe8(0x189)+_0x2a6c65),[];}}}function a131_0x1330(_0x1439f3,_0x2240da){const _0x31b411=a131_0x31b4();return a131_0x1330=function(_0x133043,_0x1d8725){_0x133043=_0x133043-0x172;let _0x16950c=_0x31b411[_0x133043];return _0x16950c;},a131_0x1330(_0x1439f3,_0x2240da);}module[a131_0x2c53f1(0x182)]=TestOrchestrationHandler;