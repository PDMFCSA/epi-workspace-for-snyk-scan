const a123_0x1de22c=a123_0x2e5b;(function(_0x19bac9,_0x538225){const _0x2aba65=a123_0x2e5b,_0xe68c53=_0x19bac9();while(!![]){try{const _0x58e726=-parseInt(_0x2aba65(0x129))/0x1+parseInt(_0x2aba65(0x16f))/0x2+parseInt(_0x2aba65(0x146))/0x3+-parseInt(_0x2aba65(0x169))/0x4*(parseInt(_0x2aba65(0x124))/0x5)+parseInt(_0x2aba65(0x148))/0x6*(-parseInt(_0x2aba65(0x151))/0x7)+parseInt(_0x2aba65(0x171))/0x8*(parseInt(_0x2aba65(0x159))/0x9)+-parseInt(_0x2aba65(0x11c))/0xa;if(_0x58e726===_0x538225)break;else _0xe68c53['push'](_0xe68c53['shift']());}catch(_0x3498cf){_0xe68c53['push'](_0xe68c53['shift']());}}}(a123_0x1785,0x32c70));const logger=require(a123_0x1de22c(0x157))[a123_0x1de22c(0x122)],{isUndefined,isNotUndefined,isTrueString,sanitizedFilePath}=require(a123_0x1de22c(0x10b)),TestOrderingServerHandler=require('./testOrderingServerHandler'),OrchestrationUtils=require('./orchestrationUtils'),path=require(a123_0x1de22c(0x14c)),{spawnSync}=require(a123_0x1de22c(0x143)),micromatch=require(a123_0x1de22c(0x140)),fs=require('fs');function a123_0x1785(){const _0x30bcd4=['gkWxN','[orchestrate]\x20Setting\x20buildIdentifier\x20to\x20buildRunIdentifier:\x20','jest-util','buildIdentifier','754950nihxjv','getTestOrderingName','4296JTPjxK','[reorderTestFiles]\x20Test\x20ordering\x20is\x20not\x20supported\x20or\x20enabled','logTestOrderingChecks','testOrderingApplied','toString','CmqIz','testMatch','IEyhY','testObservability','../helper','euDgD','Test\x20Reordering\x20is\x20unavailable\x20because\x20buildName\x20or\x20projectName\x20is\x20null.\x20Please\x20set\x20a\x20non-null\x20value.','HzUNS','ZfGvp','ZIzdK','projectName','Found\x20test\x20files:\x20','[reorderTestFiles]\x20Error\x20in\x20ordering\x20test\x20files:\x20','4|0|5|3|1|2','stringify','orchestrationUtils','isArray','Test\x20Reordering\x20is\x20unavailable\x20because\x20testReporting\x20is\x20disabled.\x20Please\x20enable\x20it\x20from\x20browserstack.yml\x20file.','splitTests','fvvxl','YaOlM','1916360fBiEda','testOrderingEnabled','split','jest-runner','applied','isTestOrchestrationEnabled','winstonLogger','_shouldLogTestOrderingChecks','208730sEuLAb','KqGEx','ignore','--listTests','totalNodes','174335dcTTSG','stdout','BVZAY','rootDir','Error\x20finding\x20test\x20files:\x20','kvcon','WxbJu','guoJk','AyhRp','filter','npx','RxAJe','VfXyv','BROWSERSTACK_NODE_INDEX','Test\x20orchestration\x20with\x20test\x20ordering\x20enabled','setTestOrderingApplied','EcjKs','getOrderedTestFiles','addToOrderingInstrumentationData','VZhSy','mqyNm','error','rsPGq','micromatch','map','orderingInstrumentationData','child_process','iNpZa','yjfLB','631485zUMrkp','findTestFiles','108cIQSfW','updateBuildIdentifier','mXKgb','buildName','path','reorderTestFiles','irOOf','\x20files','uvCuk','33243KwSLFY','_initializeTestOrdering','ATyub','yIEoK','lwheU','relative','../logger','nodeIndex','6795WtKHtK','AJIse','exports','downloadedTestFilesCount','Ehhes','length','yUmsL','RziDa','BROWSERSTACK_TOTAL_NODE_COUNT','info','BROWSERSTACK_BUILD_RUN_IDENTIFIER','env','testOrderingServerHandler','matchBase','stack','debug','32wTOXsR','config'];a123_0x1785=function(){return _0x30bcd4;};return a123_0x1785();}class TestOrchestrationHandler{constructor(_0x381525){const _0xfa7df7=a123_0x1de22c,_0x27c363={};_0x27c363[_0xfa7df7(0x145)]=_0xfa7df7(0x114);const _0x3a3f5c=_0x27c363,_0x385c89=_0x3a3f5c[_0xfa7df7(0x145)][_0xfa7df7(0x11e)]('|');let _0x4a37b9=0x0;while(!![]){switch(_0x385c89[_0x4a37b9++]){case'0':this[_0xfa7df7(0x142)]={};continue;case'1':this[_0xfa7df7(0x116)]=new OrchestrationUtils(_0x381525);continue;case'2':this[_0xfa7df7(0x152)]();continue;case'3':this[_0xfa7df7(0x165)]=null;continue;case'4':this[_0xfa7df7(0x16a)]=_0x381525;continue;case'5':this[_0xfa7df7(0x105)]=![];continue;}break;}}['isTestOrchestrationEnabled'](){const _0x2bd8ca=a123_0x1de22c,_0x1b4236={'irOOf':function(_0x5d06df,_0x35392c){return _0x5d06df(_0x35392c);},'RziDa':function(_0x50c040,_0x41163d){return _0x50c040(_0x41163d);},'ZIzdK':function(_0x7367f7,_0x56ec4c){return _0x7367f7(_0x56ec4c);},'yUmsL':function(_0x3201ae,_0x3e1833){return _0x3201ae(_0x3e1833);},'hEXkH':function(_0x31c56e,_0xca7923){return _0x31c56e(_0xca7923);},'mXKgb':function(_0x251e9f,_0x36b867){return _0x251e9f(_0x36b867);},'qJjen':function(_0x32b532,_0x4d1cb1){return _0x32b532&&_0x4d1cb1;}},_0x27e267=_0x1b4236[_0x2bd8ca(0x14e)](isNotUndefined,this[_0x2bd8ca(0x16a)])&&(_0x1b4236[_0x2bd8ca(0x160)](isUndefined,this['config']['testObservability'])||_0x1b4236[_0x2bd8ca(0x110)](isTrueString,this[_0x2bd8ca(0x16a)][_0x2bd8ca(0x10a)])),_0x2705c9=this[_0x2bd8ca(0x116)][_0x2bd8ca(0x11d)](),_0x3f32df=_0x1b4236[_0x2bd8ca(0x15f)](isNotUndefined,this[_0x2bd8ca(0x16a)])&&_0x1b4236['hEXkH'](isNotUndefined,this[_0x2bd8ca(0x16a)][_0x2bd8ca(0x111)]),_0x4e00b7=_0x1b4236[_0x2bd8ca(0x14e)](isNotUndefined,this['config'])&&_0x1b4236[_0x2bd8ca(0x14a)](isNotUndefined,this['config'][_0x2bd8ca(0x14b)]);return _0x1b4236['qJjen'](_0x27e267,_0x2705c9)&&_0x3f32df&&_0x4e00b7;}[a123_0x1de22c(0x152)](){const _0x503dc4=a123_0x1de22c,_0x5371eb={};_0x5371eb[_0x503dc4(0x131)]=_0x503dc4(0x137),_0x5371eb['yIEoK']='Test\x20orchestration\x20without\x20test\x20ordering';const _0x343261=_0x5371eb;this[_0x503dc4(0x121)]()?(this[_0x503dc4(0x165)]=new TestOrderingServerHandler(this['config']),logger[_0x503dc4(0x162)](_0x343261[_0x503dc4(0x131)])):(logger[_0x503dc4(0x168)](_0x343261[_0x503dc4(0x154)]),this['logTestOrderingChecks']());}[a123_0x1de22c(0x104)](){const _0x4f1866=a123_0x1de22c,_0x18c6e2={'EcjKs':function(_0x19ce55,_0x4fbde3){return _0x19ce55(_0x4fbde3);},'zhmou':function(_0x3bd564,_0x3d320b){return _0x3bd564(_0x3d320b);},'fnzvm':function(_0x13b7da,_0x33529c){return _0x13b7da(_0x33529c);},'PyTyk':_0x4f1866(0x10d),'fvvxl':function(_0x12901f,_0x28de01){return _0x12901f(_0x28de01);},'gkWxN':function(_0x3ad462,_0x5aa4d1){return _0x3ad462(_0x5aa4d1);},'CmqIz':_0x4f1866(0x118)};if(!this[_0x4f1866(0x123)]())return;(!_0x18c6e2[_0x4f1866(0x139)](isNotUndefined,this[_0x4f1866(0x16a)])||!_0x18c6e2['zhmou'](isNotUndefined,this['config'][_0x4f1866(0x14b)])||!_0x18c6e2['fnzvm'](isNotUndefined,this[_0x4f1866(0x16a)][_0x4f1866(0x111)]))&&logger['info'](_0x18c6e2['PyTyk']),_0x18c6e2['fnzvm'](isNotUndefined,this['config'])&&_0x18c6e2[_0x4f1866(0x11a)](isNotUndefined,this[_0x4f1866(0x16a)]['testObservability'])&&!_0x18c6e2[_0x4f1866(0x16b)](isTrueString,this['config'][_0x4f1866(0x10a)])&&logger[_0x4f1866(0x162)](_0x18c6e2[_0x4f1866(0x107)]);}[a123_0x1de22c(0x123)](){const _0x55a141=a123_0x1de22c;return!this[_0x55a141(0x121)]()&&this['orchestrationUtils']['testOrderingEnabled']();}['isTestOrderingApplied'](){const _0x1ad112=a123_0x1de22c;return this[_0x1ad112(0x105)];}[a123_0x1de22c(0x138)](_0x3cd92d){const _0x494d78=a123_0x1de22c,_0x5762bd={};_0x5762bd[_0x494d78(0x155)]=_0x494d78(0x120);const _0x17a054=_0x5762bd;this[_0x494d78(0x105)]=_0x3cd92d,this[_0x494d78(0x13b)](_0x17a054['lwheU'],_0x3cd92d);}[a123_0x1de22c(0x13b)](_0x41a20c,_0x113c3f){this['orderingInstrumentationData'][_0x41a20c]=_0x113c3f;}['getOrderingInstrumentationData'](){const _0xa8cb64=a123_0x1de22c;return this[_0xa8cb64(0x142)];}[a123_0x1de22c(0x149)](){const _0x48e706=a123_0x1de22c,_0x3a2331={'ATyub':function(_0x527ec0,_0xe81a9a){return _0x527ec0(_0xe81a9a);},'iNpZa':function(_0x4fd3e8,_0x39376c){return _0x4fd3e8>_0x39376c;}},_0xce2110=_0x3a2331[_0x48e706(0x153)](parseInt,process[_0x48e706(0x164)][_0x48e706(0x161)]||'1'),_0x3df5f6=process[_0x48e706(0x164)][_0x48e706(0x163)];_0x3df5f6&&_0x3a2331[_0x48e706(0x144)](_0xce2110,0x1)&&(logger[_0x48e706(0x168)](_0x48e706(0x16c)+_0x3df5f6),this[_0x48e706(0x16a)][_0x48e706(0x16e)]=_0x3df5f6);}async[a123_0x1de22c(0x14d)](_0x41783f){const _0xaa916b=a123_0x1de22c,_0x239fec={'guoJk':function(_0x36a152,_0x3e8458){return _0x36a152===_0x3e8458;},'ZrAPf':_0xaa916b(0x103),'WxbJu':function(_0x3503ba,_0x5ebf71){return _0x3503ba(_0x5ebf71);},'BVZAY':'uploadedTestFilesCount','IEyhY':_0xaa916b(0x158),'HzUNS':_0xaa916b(0x128),'YaOlM':_0xaa916b(0x15c),'VZhSy':'splitTestsAPICallCount'};try{if(!_0x41783f||!Array['isArray'](_0x41783f)||_0x239fec['guoJk'](_0x41783f[_0xaa916b(0x15e)],0x0))return null;if(_0x239fec[_0xaa916b(0x130)](this[_0xaa916b(0x121)](),![]))return logger[_0xaa916b(0x168)](_0x239fec['ZrAPf']),null;let _0x1e5569=null;const _0x43994f=this[_0xaa916b(0x116)][_0xaa916b(0x170)]();if(this['testOrderingServerHandler']){const _0x269a4=await this['testOrderingServerHandler'][_0xaa916b(0x119)](_0x41783f,_0x43994f);if(!_0x269a4)return null;_0x1e5569=await this[_0xaa916b(0x165)][_0xaa916b(0x13a)](_0x269a4);}if(!_0x1e5569||!Array[_0xaa916b(0x117)](_0x1e5569)||_0x239fec[_0xaa916b(0x130)](_0x1e5569[_0xaa916b(0x15e)],0x0))return null;const _0x287e2d=_0x239fec[_0xaa916b(0x12f)](parseInt,process['env'][_0xaa916b(0x136)]||'0'),_0x3f7af6=_0x239fec['WxbJu'](parseInt,process[_0xaa916b(0x164)][_0xaa916b(0x161)]||'1');return this['addToOrderingInstrumentationData'](_0x239fec[_0xaa916b(0x12b)],_0x41783f[_0xaa916b(0x15e)]),this['addToOrderingInstrumentationData'](_0x239fec[_0xaa916b(0x109)],_0x287e2d),this[_0xaa916b(0x13b)](_0x239fec[_0xaa916b(0x10e)],_0x3f7af6),this[_0xaa916b(0x13b)](_0x239fec[_0xaa916b(0x11b)],_0x1e5569[_0xaa916b(0x15e)]),this[_0xaa916b(0x13b)](_0x239fec[_0xaa916b(0x13c)],this[_0xaa916b(0x165)]?this[_0xaa916b(0x165)]['getSplitTestsAPICallCount']():0x0),_0x1e5569[_0xaa916b(0x141)](_0x57a52d=>sanitizedFilePath(_0x57a52d));}catch(_0x222f27){return logger['debug'](_0xaa916b(0x113)+(_0x222f27[_0xaa916b(0x167)]||_0x222f27[_0xaa916b(0x106)]())),null;}}async[a123_0x1de22c(0x147)](_0x21b748,_0x5e4f96,_0xd6d9b0){const _0x36e480=a123_0x1de22c,_0x2bc685={'Ehhes':function(_0x3b46d8,_0x2806db){return _0x3b46d8(_0x2806db);},'RxAJe':'jest-config','KqGEx':_0x36e480(0x16d),'YFuQX':function(_0x14fdc2,_0x207fa9){return _0x14fdc2(_0x207fa9);},'uvCuk':_0x36e480(0x11f),'VfXyv':function(_0x1bc018,_0x2ab11c){return _0x1bc018(_0x2ab11c);},'KyRAO':'glob','kvcon':'**/__tests__/**/*.[jt]s?(x)','euDgD':'**/?(*.)+(spec|test).[jt]s?(x)','vhfLj':function(_0x44b429,_0x47d5d2,_0x2a0c8b,_0x1d6cbe){return _0x44b429(_0x47d5d2,_0x2a0c8b,_0x1d6cbe);},'FHSES':_0x36e480(0x133),'AJIse':'jest','rsPGq':'--config','mqyNm':_0x36e480(0x127),'ZfGvp':'utf-8'};try{const {getTestPathPatterns:_0x4959ee}=_0x2bc685[_0x36e480(0x15d)](require,_0x2bc685[_0x36e480(0x134)]),{globsToMatcher:_0x4cb179}=_0x2bc685[_0x36e480(0x15d)](require,_0x2bc685[_0x36e480(0x125)]),{findRelatedTests:_0x1e4fd9}=_0x2bc685['YFuQX'](require,_0x2bc685[_0x36e480(0x150)]),_0x61d419=_0x2bc685[_0x36e480(0x135)](require,_0x2bc685['KyRAO']),_0x1c93dc=_0x21b748[_0x36e480(0x108)]||[_0x2bc685[_0x36e480(0x12e)],_0x2bc685[_0x36e480(0x10c)]],_0xe16ab7=_0x21b748['testPathIgnorePatterns']||[],_0x2c0a54=_0x2bc685['vhfLj'](spawnSync,_0x2bc685['FHSES'],[_0x2bc685[_0x36e480(0x15a)],_0x2bc685[_0x36e480(0x13f)],_0xd6d9b0,..._0x5e4f96,_0x2bc685[_0x36e480(0x13d)]],{'encoding':_0x2bc685[_0x36e480(0x10f)]});let _0x5cc2b5=[];!_0x2c0a54[_0x36e480(0x13e)]&&(_0x5cc2b5=_0x2c0a54[_0x36e480(0x12a)]['split']('\x0a')[_0x36e480(0x132)](Boolean));logger[_0x36e480(0x168)](_0x36e480(0x112)+JSON[_0x36e480(0x115)](_0x5cc2b5)+_0x36e480(0x14f));const _0x4c8bd8={};_0x4c8bd8[_0x36e480(0x166)]=!![],_0x4c8bd8[_0x36e480(0x126)]=_0xe16ab7;const _0x47dca9=_0x2bc685['vhfLj'](micromatch,_0x5cc2b5,_0x1c93dc,_0x4c8bd8)[_0x36e480(0x141)](_0x4998b9=>path[_0x36e480(0x156)](_0x21b748[_0x36e480(0x12c)],_0x4998b9));return logger[_0x36e480(0x168)]('Filterted\x20to\x20test\x20files:\x20'+JSON[_0x36e480(0x115)](_0x47dca9)+_0x36e480(0x14f)),_0x47dca9;}catch(_0xfe14b){return logger[_0x36e480(0x168)](_0x36e480(0x12d)+_0xfe14b),[];}}}function a123_0x2e5b(_0x4f72fa,_0x1b604b){const _0x1785fd=a123_0x1785();return a123_0x2e5b=function(_0x2e5b36,_0x3c714f){_0x2e5b36=_0x2e5b36-0x103;let _0x516bc4=_0x1785fd[_0x2e5b36];return _0x516bc4;},a123_0x2e5b(_0x4f72fa,_0x1b604b);}module[a123_0x1de22c(0x15b)]=TestOrchestrationHandler;