const a129_0x51b88d=a129_0x122f;(function(_0x158fc0,_0x51b043){const _0x40aed2=a129_0x122f,_0x4fd39e=_0x158fc0();while(!![]){try{const _0xca58ef=parseInt(_0x40aed2(0x1c2))/0x1+-parseInt(_0x40aed2(0x1f9))/0x2*(-parseInt(_0x40aed2(0x1e4))/0x3)+parseInt(_0x40aed2(0x1e3))/0x4*(-parseInt(_0x40aed2(0x1f8))/0x5)+parseInt(_0x40aed2(0x1f7))/0x6*(-parseInt(_0x40aed2(0x1cb))/0x7)+-parseInt(_0x40aed2(0x1c0))/0x8+parseInt(_0x40aed2(0x1c1))/0x9+-parseInt(_0x40aed2(0x1f6))/0xa*(-parseInt(_0x40aed2(0x1ef))/0xb);if(_0xca58ef===_0x51b043)break;else _0x4fd39e['push'](_0x4fd39e['shift']());}catch(_0x817611){_0x4fd39e['push'](_0x4fd39e['shift']());}}}(a129_0x5159,0xe310b));function a129_0x122f(_0x40cd55,_0x3aebf2){const _0x515992=a129_0x5159();return a129_0x122f=function(_0x122f68,_0x55cebb){_0x122f68=_0x122f68-0x1bf;let _0x317209=_0x515992[_0x122f68];return _0x317209;},a129_0x122f(_0x40cd55,_0x3aebf2);}const os=require('os'),path=require('path'),fs=require('fs'),logger=require(a129_0x51b88d(0x1eb))['winstonLogger'],RETRY_TESTS_ON_FAILURE='retryTestsOnFailure',ABORT_BUILD_ON_FAILURE=a129_0x51b88d(0x1cf),RUN_PREVIOUSLY_FAILED_FIRST=a129_0x51b88d(0x1f3),RERUN_PREVIOUSLY_FAILED=a129_0x51b88d(0x1d4),SKIP_FLAKY_AND_FAILED=a129_0x51b88d(0x1cd),ALLOWED_ORCHESTRATION_KEYS=new Set([RETRY_TESTS_ON_FAILURE,ABORT_BUILD_ON_FAILURE,RUN_PREVIOUSLY_FAILED_FIRST,RERUN_PREVIOUSLY_FAILED,SKIP_FLAKY_AND_FAILED]),ABORT_BUILD_SUPPORTED_FRAMEWORKS=new Set([a129_0x51b88d(0x1d2)]);class TestOrdering{constructor(){const _0x48796d=a129_0x51b88d;this[_0x48796d(0x1d9)]=![],this[_0x48796d(0x1d5)]=null;}['enable'](_0x19e3c4){const _0x397761=a129_0x51b88d;this[_0x397761(0x1d9)]=!![],this[_0x397761(0x1d5)]=_0x19e3c4;}['disable'](){const _0x1da1d0=a129_0x51b88d;this[_0x1da1d0(0x1d9)]=![],this[_0x1da1d0(0x1d5)]=null;}[a129_0x51b88d(0x1ed)](){const _0x76b8f=a129_0x51b88d;return this[_0x76b8f(0x1d9)];}[a129_0x51b88d(0x1e5)](){const _0x56add3=a129_0x51b88d;return this[_0x56add3(0x1d5)];}}function a129_0x5159(){const _0xc4d72d=['isAbortBuildOnFailureEnabled','rerunPreviouslyFailed','name','skip_failing_and_flaky','_instance','_setRerunPreviouslyFailed','enabled','maxFailures','exports','enable','testOrchestrationOptions','getRerunPreviouslyFailed','getSkipFlakyAndFailed','skipFlakyAndFailed','BROWSERSTACK_TESTHUB_UUID','join','212104tNSUsM','3qRuEPl','getName','testOrderingEnabled','run_previously_failed_first','getOrchestrationData','ccvHx','getTestOrderingName','../logger','tmpdir','getEnabled','failed_tests_','33jjBZiK','has','_setSkipFlakyAndFailed','abort_build_on_failure','runPreviouslyFailedFirst','toLowerCase','getBuildStartData','2830220aSbbUq','282AAkBKI','140fycTWM','3145042cmMuBf','getRunPreviouslyFailedFirst','14034400qwjKQR','8917236HUuZFS','1371738AeoZTe','isAbortBuildOnFailureSupported','_setTestOrdering','maxRetries','.txt','getFailureThreshold','config','vYlcj','env','91602ALEyZu','isRetryEnabled','skipFlakyandFailed','retry_tests_on_failure','abortBuildOnFailure','_setRunPreviouslyFailedFirst','testOrdering','jest'];a129_0x5159=function(){return _0xc4d72d;};return a129_0x5159();}class OrchestrationUtils{static ['_instance']=null;constructor(_0x48606c){const _0x117511=a129_0x51b88d,_0x3a5aef={};_0x3a5aef[_0x117511(0x1e9)]=function(_0x283fd9,_0x33d886){return _0x283fd9||_0x33d886;};const _0x32e77d=_0x3a5aef;this[_0x117511(0x1f3)]=![],this[_0x117511(0x1d4)]=![],this[_0x117511(0x1e0)]=![],this[_0x117511(0x1d1)]=new TestOrdering(),this[_0x117511(0x1c8)]=_0x32e77d[_0x117511(0x1e9)](_0x48606c,{});const _0x4a9ad7=_0x48606c&&_0x48606c[_0x117511(0x1dd)]||{};this['_setRunPreviouslyFailedFirst'](_0x4a9ad7[RUN_PREVIOUSLY_FAILED_FIRST]||![]),this[_0x117511(0x1d8)](_0x4a9ad7[RERUN_PREVIOUSLY_FAILED]||![]),this['_setSkipFlakyAndFailed'](_0x4a9ad7[SKIP_FLAKY_AND_FAILED]||![]);}static['getInstance'](_0x2a58e2){const _0x5e723d=a129_0x51b88d;return!OrchestrationUtils[_0x5e723d(0x1d7)]&&_0x2a58e2&&(OrchestrationUtils['_instance']=new OrchestrationUtils(_0x2a58e2)),OrchestrationUtils[_0x5e723d(0x1d7)];}[a129_0x51b88d(0x1cc)](){const _0x155e0a=a129_0x51b88d,_0x110635=(this['config']['testOrchestrationOptions']||{})[RETRY_TESTS_ON_FAILURE]||{};return!!_0x110635[_0x155e0a(0x1d9)];}['getRetryCount'](){const _0x515656=a129_0x51b88d,_0x543fa4=(this[_0x515656(0x1c8)][_0x515656(0x1dd)]||{})[RETRY_TESTS_ON_FAILURE]||{};let _0x4927a1=0x0;return this[_0x515656(0x1cc)](this[_0x515656(0x1c8)])&&(_0x4927a1=_0x543fa4[_0x515656(0x1c5)]||0x1),_0x4927a1;}[a129_0x51b88d(0x1e8)](){const _0xcf4b26=a129_0x51b88d,_0x1d79db=this[_0xcf4b26(0x1c8)][_0xcf4b26(0x1dd)]||{},_0x5aa380={};for(const _0xae62c8 in _0x1d79db){ALLOWED_ORCHESTRATION_KEYS['has'](_0xae62c8)&&(_0x5aa380[_0xae62c8]=_0x1d79db[_0xae62c8]);}return _0x5aa380;}['checkAbortBuildFileExists'](){const _0x18cf85=a129_0x51b88d,_0x116d10=process[_0x18cf85(0x1ca)][_0x18cf85(0x1e1)],_0x42ce8a=path[_0x18cf85(0x1e2)](os[_0x18cf85(0x1ec)](),'abort_build_'+_0x116d10);return fs['existsSync'](_0x42ce8a);}['writeFailureToFile'](_0x4c8cbd){const _0x433eba=a129_0x51b88d,_0x8c2803=process[_0x433eba(0x1ca)][_0x433eba(0x1e1)],_0x2f7e45=path[_0x433eba(0x1e2)](os[_0x433eba(0x1ec)](),_0x433eba(0x1ee)+_0x8c2803+_0x433eba(0x1c6));fs['appendFileSync'](_0x2f7e45,_0x4c8cbd+'\x0a');}[a129_0x51b88d(0x1c3)](_0x1af791){const _0x1232d9=a129_0x51b88d,_0x517cf7={};_0x517cf7[_0x1232d9(0x1c9)]=function(_0x29be6a,_0x47a75d){return _0x29be6a||_0x47a75d;};const _0x51b58f=_0x517cf7;return ABORT_BUILD_SUPPORTED_FRAMEWORKS[_0x1232d9(0x1f0)](_0x51b58f[_0x1232d9(0x1c9)](_0x1af791,'')[_0x1232d9(0x1f4)]());}['isAbortBuildOnFailureEnabled'](){const _0x2d01f8=a129_0x51b88d,_0x1c66b1=(this[_0x2d01f8(0x1c8)][_0x2d01f8(0x1dd)]||{})[ABORT_BUILD_ON_FAILURE]||{};return!!_0x1c66b1['enabled'];}[a129_0x51b88d(0x1c7)](){const _0x462dcd=a129_0x51b88d,_0x2cb936=(this[_0x462dcd(0x1c8)][_0x462dcd(0x1dd)]||{})[ABORT_BUILD_ON_FAILURE]||{};return _0x2cb936[_0x462dcd(0x1da)]||0x5;;}[a129_0x51b88d(0x1bf)](){const _0x11cd3f=a129_0x51b88d;return this[_0x11cd3f(0x1f3)];}[a129_0x51b88d(0x1d0)](_0x1ccb7d){this['runPreviouslyFailedFirst']=!!_0x1ccb7d,this['_setTestOrdering']();}[a129_0x51b88d(0x1de)](){const _0x3224b3=a129_0x51b88d;return this[_0x3224b3(0x1d4)];}[a129_0x51b88d(0x1d8)](_0x59ade9){const _0x1d1260=a129_0x51b88d;this[_0x1d1260(0x1d4)]=!!_0x59ade9,this[_0x1d1260(0x1c4)]();}[a129_0x51b88d(0x1df)](){const _0x2d1e2c=a129_0x51b88d;return this[_0x2d1e2c(0x1e0)];}[a129_0x51b88d(0x1f1)](_0xd3cd99){const _0x135def=a129_0x51b88d;this[_0x135def(0x1e0)]=!!_0xd3cd99,this['_setTestOrdering']();}[a129_0x51b88d(0x1c4)](){const _0x36b8dd=a129_0x51b88d;if(this['runPreviouslyFailedFirst'])this[_0x36b8dd(0x1d4)]=![],this[_0x36b8dd(0x1e0)]=![],this[_0x36b8dd(0x1d1)][_0x36b8dd(0x1dc)](RUN_PREVIOUSLY_FAILED_FIRST);else{if(this['rerunPreviouslyFailed'])this['runPreviouslyFailedFirst']=![],this['skipFlakyAndFailed']=![],this[_0x36b8dd(0x1d1)][_0x36b8dd(0x1dc)](RERUN_PREVIOUSLY_FAILED);else this[_0x36b8dd(0x1e0)]?(this[_0x36b8dd(0x1f3)]=![],this[_0x36b8dd(0x1d4)]=![],this[_0x36b8dd(0x1d1)][_0x36b8dd(0x1dc)](SKIP_FLAKY_AND_FAILED)):this['testOrdering']['disable']();}}[a129_0x51b88d(0x1e6)](){const _0x4e4b0e=a129_0x51b88d;return this[_0x4e4b0e(0x1d1)][_0x4e4b0e(0x1ed)]();}[a129_0x51b88d(0x1ea)](){const _0x56bec4=a129_0x51b88d;if(this['testOrdering'][_0x56bec4(0x1ed)]())return this['testOrdering']['getName']();return null;}[a129_0x51b88d(0x1f5)](){const _0x567bb0=a129_0x51b88d,_0x2eb8a7={};return _0x2eb8a7['rerun_previously_failed']={'enabled':this[_0x567bb0(0x1de)]()},_0x2eb8a7[_0x567bb0(0x1e7)]={'enabled':this[_0x567bb0(0x1bf)]()},_0x2eb8a7[_0x567bb0(0x1d6)]={'enabled':this[_0x567bb0(0x1df)]()},this['isRetryEnabled']()&&(_0x2eb8a7[_0x567bb0(0x1ce)]={'enabled':!![],'max_retries':this['getRetryCount']()}),this[_0x567bb0(0x1d3)]()&&(_0x2eb8a7[_0x567bb0(0x1f2)]={'enabled':!![],'max_failures':this[_0x567bb0(0x1c7)]()}),_0x2eb8a7;}}module[a129_0x51b88d(0x1db)]=OrchestrationUtils;