const a121_0x1e8ea4=a121_0x1531;(function(_0x4caaee,_0x344fa8){const _0x4e6071=a121_0x1531,_0x4cee2a=_0x4caaee();while(!![]){try{const _0x5151d6=parseInt(_0x4e6071(0x15d))/0x1*(parseInt(_0x4e6071(0x166))/0x2)+-parseInt(_0x4e6071(0x160))/0x3+parseInt(_0x4e6071(0x130))/0x4+parseInt(_0x4e6071(0x138))/0x5*(parseInt(_0x4e6071(0x14d))/0x6)+parseInt(_0x4e6071(0x157))/0x7+parseInt(_0x4e6071(0x14f))/0x8+parseInt(_0x4e6071(0x165))/0x9*(-parseInt(_0x4e6071(0x14b))/0xa);if(_0x5151d6===_0x344fa8)break;else _0x4cee2a['push'](_0x4cee2a['shift']());}catch(_0x25a877){_0x4cee2a['push'](_0x4cee2a['shift']());}}}(a121_0x3b83,0x4e65b));const os=require('os'),path=require(a121_0x1e8ea4(0x169)),fs=require('fs'),logger=require(a121_0x1e8ea4(0x13e))['winstonLogger'],RETRY_TESTS_ON_FAILURE=a121_0x1e8ea4(0x145),ABORT_BUILD_ON_FAILURE=a121_0x1e8ea4(0x148),RUN_PREVIOUSLY_FAILED_FIRST=a121_0x1e8ea4(0x14e),RERUN_PREVIOUSLY_FAILED=a121_0x1e8ea4(0x131),SKIP_FLAKY_AND_FAILED=a121_0x1e8ea4(0x13a),ALLOWED_ORCHESTRATION_KEYS=new Set([RETRY_TESTS_ON_FAILURE,ABORT_BUILD_ON_FAILURE,RUN_PREVIOUSLY_FAILED_FIRST,RERUN_PREVIOUSLY_FAILED,SKIP_FLAKY_AND_FAILED]),ABORT_BUILD_SUPPORTED_FRAMEWORKS=new Set([a121_0x1e8ea4(0x143)]);function a121_0x1531(_0x2af2bb,_0x238498){const _0x3b8378=a121_0x3b83();return a121_0x1531=function(_0x153151,_0x4e42fb){_0x153151=_0x153151-0x12e;let _0x1ff898=_0x3b8378[_0x153151];return _0x1ff898;},a121_0x1531(_0x2af2bb,_0x238498);}function a121_0x3b83(){const _0x50a3ba=['abort_build_','skipFlakyAndFailed','_setRunPreviouslyFailedFirst','_setRerunPreviouslyFailed','160MLfoIu','getBuildStartData','skipFlakyandFailed','getName','appendFileSync','enable','../logger','getSkipFlakyAndFailed','isAbortBuildOnFailureEnabled','disable','has','jest','name','retryTestsOnFailure','config','getRetryCount','abortBuildOnFailure','isRetryEnabled','rerun_previously_failed','20mjdgIM','testOrchestrationOptions','55464eHgcnI','runPreviouslyFailedFirst','3483680yVyPud','getInstance','_setTestOrdering','getEnabled','getFailureThreshold','maxFailures','tmpdir','join','3912216fruxUP','_setSkipFlakyAndFailed','testOrdering','toLowerCase','getRerunPreviouslyFailed','GziJi','8lKZJEU','.txt','getOrchestrationData','749343XUzvMX','env','testOrderingEnabled','PIpMd','getTestOrderingName','7277058EEKFBh','81948ghxysd','maxRetries','skip_failing_and_flaky','path','writeFailureToFile','enabled','_instance','2280288CYcvHD','rerunPreviouslyFailed','getRunPreviouslyFailedFirst','BROWSERSTACK_TESTHUB_UUID'];a121_0x3b83=function(){return _0x50a3ba;};return a121_0x3b83();}class TestOrdering{constructor(){const _0x2be578=a121_0x1e8ea4;this[_0x2be578(0x12e)]=![],this['name']=null;}[a121_0x1e8ea4(0x13d)](_0x4643f9){const _0x4ab59a=a121_0x1e8ea4;this[_0x4ab59a(0x12e)]=!![],this['name']=_0x4643f9;}[a121_0x1e8ea4(0x141)](){const _0x43cf95=a121_0x1e8ea4;this[_0x43cf95(0x12e)]=![],this[_0x43cf95(0x144)]=null;}[a121_0x1e8ea4(0x152)](){const _0x560624=a121_0x1e8ea4;return this[_0x560624(0x12e)];}[a121_0x1e8ea4(0x13b)](){const _0x4c5ee0=a121_0x1e8ea4;return this[_0x4c5ee0(0x144)];}}class OrchestrationUtils{static [a121_0x1e8ea4(0x12f)]=null;constructor(_0x5d3649){const _0x404ac3=a121_0x1e8ea4,_0x2fdadc={};_0x2fdadc[_0x404ac3(0x15c)]=function(_0x47173d,_0x36ef6e){return _0x47173d||_0x36ef6e;};const _0x16b36c=_0x2fdadc;this[_0x404ac3(0x14e)]=![],this['rerunPreviouslyFailed']=![],this[_0x404ac3(0x135)]=![],this[_0x404ac3(0x159)]=new TestOrdering(),this[_0x404ac3(0x146)]=_0x16b36c[_0x404ac3(0x15c)](_0x5d3649,{});const _0x46a2d5=_0x5d3649&&_0x5d3649[_0x404ac3(0x14c)]||{};this[_0x404ac3(0x136)](_0x46a2d5[RUN_PREVIOUSLY_FAILED_FIRST]||![]),this['_setRerunPreviouslyFailed'](_0x46a2d5[RERUN_PREVIOUSLY_FAILED]||![]),this[_0x404ac3(0x158)](_0x46a2d5[SKIP_FLAKY_AND_FAILED]||![]);}static[a121_0x1e8ea4(0x150)](_0x4c9e0f){const _0x1e54ca=a121_0x1e8ea4;return!OrchestrationUtils[_0x1e54ca(0x12f)]&&_0x4c9e0f&&(OrchestrationUtils[_0x1e54ca(0x12f)]=new OrchestrationUtils(_0x4c9e0f)),OrchestrationUtils[_0x1e54ca(0x12f)];}[a121_0x1e8ea4(0x149)](){const _0x2cd966=a121_0x1e8ea4,_0x182784=(this['config'][_0x2cd966(0x14c)]||{})[RETRY_TESTS_ON_FAILURE]||{};return!!_0x182784[_0x2cd966(0x12e)];}[a121_0x1e8ea4(0x147)](){const _0x3a83bb=a121_0x1e8ea4,_0x4610a9=(this[_0x3a83bb(0x146)][_0x3a83bb(0x14c)]||{})[RETRY_TESTS_ON_FAILURE]||{};let _0x578b3a=0x0;return this[_0x3a83bb(0x149)](this[_0x3a83bb(0x146)])&&(_0x578b3a=_0x4610a9[_0x3a83bb(0x167)]||0x1),_0x578b3a;}[a121_0x1e8ea4(0x15f)](){const _0x462b09=a121_0x1e8ea4,_0x52f6f1=this['config'][_0x462b09(0x14c)]||{},_0x59cf2a={};for(const _0x5d4598 in _0x52f6f1){ALLOWED_ORCHESTRATION_KEYS[_0x462b09(0x142)](_0x5d4598)&&(_0x59cf2a[_0x5d4598]=_0x52f6f1[_0x5d4598]);}return _0x59cf2a;}['checkAbortBuildFileExists'](){const _0x3510e5=a121_0x1e8ea4,_0x3b3457=process[_0x3510e5(0x161)]['BROWSERSTACK_TESTHUB_UUID'],_0x4a8bc4=path[_0x3510e5(0x156)](os['tmpdir'](),_0x3510e5(0x134)+_0x3b3457);return fs['existsSync'](_0x4a8bc4);}[a121_0x1e8ea4(0x16a)](_0x501c9f){const _0x5993b9=a121_0x1e8ea4,_0x40677c=process['env'][_0x5993b9(0x133)],_0x2a20b9=path[_0x5993b9(0x156)](os[_0x5993b9(0x155)](),'failed_tests_'+_0x40677c+_0x5993b9(0x15e));fs[_0x5993b9(0x13c)](_0x2a20b9,_0x501c9f+'\x0a');}['isAbortBuildOnFailureSupported'](_0x1b60a2){const _0x1c2f0d=a121_0x1e8ea4,_0x4f90c1={};_0x4f90c1[_0x1c2f0d(0x163)]=function(_0x14ed0d,_0x40e2f5){return _0x14ed0d||_0x40e2f5;};const _0x4d1725=_0x4f90c1;return ABORT_BUILD_SUPPORTED_FRAMEWORKS[_0x1c2f0d(0x142)](_0x4d1725[_0x1c2f0d(0x163)](_0x1b60a2,'')[_0x1c2f0d(0x15a)]());}[a121_0x1e8ea4(0x140)](){const _0x35cb52=a121_0x1e8ea4,_0x586124=(this[_0x35cb52(0x146)][_0x35cb52(0x14c)]||{})[ABORT_BUILD_ON_FAILURE]||{};return!!_0x586124[_0x35cb52(0x12e)];}['getFailureThreshold'](){const _0x261604=a121_0x1e8ea4,_0x3c1250=(this[_0x261604(0x146)][_0x261604(0x14c)]||{})[ABORT_BUILD_ON_FAILURE]||{};return _0x3c1250[_0x261604(0x154)]||0x5;;}[a121_0x1e8ea4(0x132)](){const _0x185cd3=a121_0x1e8ea4;return this[_0x185cd3(0x14e)];}['_setRunPreviouslyFailedFirst'](_0x3bf8e0){const _0x3ba9c9=a121_0x1e8ea4;this[_0x3ba9c9(0x14e)]=!!_0x3bf8e0,this[_0x3ba9c9(0x151)]();}['getRerunPreviouslyFailed'](){const _0x18b2f0=a121_0x1e8ea4;return this[_0x18b2f0(0x131)];}[a121_0x1e8ea4(0x137)](_0x277542){const _0x513a2c=a121_0x1e8ea4;this[_0x513a2c(0x131)]=!!_0x277542,this[_0x513a2c(0x151)]();}[a121_0x1e8ea4(0x13f)](){const _0x54b976=a121_0x1e8ea4;return this[_0x54b976(0x135)];}['_setSkipFlakyAndFailed'](_0x3bb8c2){const _0x1ff52d=a121_0x1e8ea4;this['skipFlakyAndFailed']=!!_0x3bb8c2,this[_0x1ff52d(0x151)]();}[a121_0x1e8ea4(0x151)](){const _0x3840be=a121_0x1e8ea4;if(this['runPreviouslyFailedFirst'])this[_0x3840be(0x131)]=![],this[_0x3840be(0x135)]=![],this[_0x3840be(0x159)][_0x3840be(0x13d)](RUN_PREVIOUSLY_FAILED_FIRST);else{if(this[_0x3840be(0x131)])this[_0x3840be(0x14e)]=![],this[_0x3840be(0x135)]=![],this[_0x3840be(0x159)][_0x3840be(0x13d)](RERUN_PREVIOUSLY_FAILED);else this[_0x3840be(0x135)]?(this[_0x3840be(0x14e)]=![],this['rerunPreviouslyFailed']=![],this[_0x3840be(0x159)]['enable'](SKIP_FLAKY_AND_FAILED)):this[_0x3840be(0x159)][_0x3840be(0x141)]();}}[a121_0x1e8ea4(0x162)](){const _0x1870a6=a121_0x1e8ea4;return this[_0x1870a6(0x159)][_0x1870a6(0x152)]();}[a121_0x1e8ea4(0x164)](){const _0x100aef=a121_0x1e8ea4;if(this[_0x100aef(0x159)][_0x100aef(0x152)]())return this[_0x100aef(0x159)]['getName']();return null;}[a121_0x1e8ea4(0x139)](){const _0xdabb8a=a121_0x1e8ea4,_0x3ca1b5={};return _0x3ca1b5[_0xdabb8a(0x14a)]={'enabled':this[_0xdabb8a(0x15b)]()},_0x3ca1b5['run_previously_failed_first']={'enabled':this[_0xdabb8a(0x132)]()},_0x3ca1b5[_0xdabb8a(0x168)]={'enabled':this[_0xdabb8a(0x13f)]()},this['isRetryEnabled']()&&(_0x3ca1b5['retry_tests_on_failure']={'enabled':!![],'max_retries':this[_0xdabb8a(0x147)]()}),this['isAbortBuildOnFailureEnabled']()&&(_0x3ca1b5['abort_build_on_failure']={'enabled':!![],'max_failures':this[_0xdabb8a(0x153)]()}),_0x3ca1b5;}}module['exports']=OrchestrationUtils;