function a134_0x3faa(_0x27f40d,_0x488b22){const _0x1f1dfa=a134_0x1f1d();return a134_0x3faa=function(_0x3faa2c,_0x3aa475){_0x3faa2c=_0x3faa2c-0x17e;let _0x538120=_0x1f1dfa[_0x3faa2c];return _0x538120;},a134_0x3faa(_0x27f40d,_0x488b22);}const a134_0x57964a=a134_0x3faa;function a134_0x1f1d(){const _0x2f199b=['skipFlakyAndFailed','15363SXFBhx','env','run_previously_failed_first','getName','drBdx','709109phahFX','BROWSERSTACK_TESTHUB_UUID','getRunPreviouslyFailedFirst','jest','winstonLogger','isAbortBuildOnFailureEnabled','getRerunPreviouslyFailed','config','getFailureThreshold','testOrdering','20744900fdEypz','tmpdir','testOrchestrationOptions','_setRunPreviouslyFailedFirst','getTestOrderingName','1621798rWoZlq','_setTestOrdering','getSkipFlakyAndFailed','path','failed_tests_','_instance','abort_build_on_failure','enable','runPreviouslyFailedFirst','appendFileSync','rerun_previously_failed','existsSync','3MAxokV','writeFailureToFile','retryTestsOnFailure','getInstance','1854voRZwS','enabled','.txt','abortBuildOnFailure','2620pCDHxF','8uNujqr','isRetryEnabled','_setSkipFlakyAndFailed','join','testOrderingEnabled','rerunPreviouslyFailed','1270xlwCdS','ncdLs','name','215392QGzxpF','exports','5537854fBvPJo','getRetryCount','getEnabled','_setRerunPreviouslyFailed','has'];a134_0x1f1d=function(){return _0x2f199b;};return a134_0x1f1d();}(function(_0x354a93,_0x3ecedc){const _0x1cf036=a134_0x3faa,_0x50729c=_0x354a93();while(!![]){try{const _0x4cdbb6=parseInt(_0x1cf036(0x1ac))/0x1+-parseInt(_0x1cf036(0x181))/0x2+parseInt(_0x1cf036(0x18d))/0x3*(-parseInt(_0x1cf036(0x19f))/0x4)+-parseInt(_0x1cf036(0x195))/0x5*(parseInt(_0x1cf036(0x191))/0x6)+parseInt(_0x1cf036(0x1a1))/0x7*(-parseInt(_0x1cf036(0x196))/0x8)+-parseInt(_0x1cf036(0x1a7))/0x9*(parseInt(_0x1cf036(0x19c))/0xa)+parseInt(_0x1cf036(0x1b6))/0xb;if(_0x4cdbb6===_0x3ecedc)break;else _0x50729c['push'](_0x50729c['shift']());}catch(_0x24e8a1){_0x50729c['push'](_0x50729c['shift']());}}}(a134_0x1f1d,0x88d33));const os=require('os'),path=require(a134_0x57964a(0x184)),fs=require('fs'),logger=require('../logger')[a134_0x57964a(0x1b0)],RETRY_TESTS_ON_FAILURE=a134_0x57964a(0x18f),ABORT_BUILD_ON_FAILURE=a134_0x57964a(0x194),RUN_PREVIOUSLY_FAILED_FIRST=a134_0x57964a(0x189),RERUN_PREVIOUSLY_FAILED=a134_0x57964a(0x19b),SKIP_FLAKY_AND_FAILED='skipFlakyandFailed',ALLOWED_ORCHESTRATION_KEYS=new Set([RETRY_TESTS_ON_FAILURE,ABORT_BUILD_ON_FAILURE,RUN_PREVIOUSLY_FAILED_FIRST,RERUN_PREVIOUSLY_FAILED,SKIP_FLAKY_AND_FAILED]),ABORT_BUILD_SUPPORTED_FRAMEWORKS=new Set([a134_0x57964a(0x1af)]);class TestOrdering{constructor(){const _0x9a1b47=a134_0x57964a;this[_0x9a1b47(0x192)]=![],this[_0x9a1b47(0x19e)]=null;}[a134_0x57964a(0x188)](_0x25b4d3){const _0x76b600=a134_0x57964a;this[_0x76b600(0x192)]=!![],this[_0x76b600(0x19e)]=_0x25b4d3;}['disable'](){const _0xe2c66c=a134_0x57964a;this[_0xe2c66c(0x192)]=![],this[_0xe2c66c(0x19e)]=null;}['getEnabled'](){const _0x4dd3f9=a134_0x57964a;return this[_0x4dd3f9(0x192)];}[a134_0x57964a(0x1aa)](){const _0x637af=a134_0x57964a;return this[_0x637af(0x19e)];}}class OrchestrationUtils{static [a134_0x57964a(0x186)]=null;constructor(_0x218488){const _0x1d4119=a134_0x57964a,_0x12b67f={};_0x12b67f['ncdLs']=function(_0x245cfa,_0x373a26){return _0x245cfa||_0x373a26;};const _0x263e93=_0x12b67f;this[_0x1d4119(0x189)]=![],this[_0x1d4119(0x19b)]=![],this[_0x1d4119(0x1a6)]=![],this['testOrdering']=new TestOrdering(),this[_0x1d4119(0x1b3)]=_0x263e93[_0x1d4119(0x19d)](_0x218488,{});const _0x50d5d4=_0x218488&&_0x218488[_0x1d4119(0x17e)]||{};this[_0x1d4119(0x17f)](_0x50d5d4[RUN_PREVIOUSLY_FAILED_FIRST]||![]),this[_0x1d4119(0x1a4)](_0x50d5d4[RERUN_PREVIOUSLY_FAILED]||![]),this[_0x1d4119(0x198)](_0x50d5d4[SKIP_FLAKY_AND_FAILED]||![]);}static[a134_0x57964a(0x190)](_0x3438a6){const _0x5f1999=a134_0x57964a;return!OrchestrationUtils['_instance']&&_0x3438a6&&(OrchestrationUtils[_0x5f1999(0x186)]=new OrchestrationUtils(_0x3438a6)),OrchestrationUtils['_instance'];}[a134_0x57964a(0x197)](){const _0x28912d=a134_0x57964a,_0x59c6fa=(this[_0x28912d(0x1b3)][_0x28912d(0x17e)]||{})[RETRY_TESTS_ON_FAILURE]||{};return!!_0x59c6fa[_0x28912d(0x192)];}['getRetryCount'](){const _0x447415=a134_0x57964a,_0x403279=(this[_0x447415(0x1b3)][_0x447415(0x17e)]||{})[RETRY_TESTS_ON_FAILURE]||{};let _0x4c7ffd=0x0;return this[_0x447415(0x197)](this[_0x447415(0x1b3)])&&(_0x4c7ffd=_0x403279['maxRetries']||0x1),_0x4c7ffd;}['getOrchestrationData'](){const _0x3615be=a134_0x57964a,_0x2960a9=this[_0x3615be(0x1b3)]['testOrchestrationOptions']||{},_0x31faed={};for(const _0x440ded in _0x2960a9){ALLOWED_ORCHESTRATION_KEYS['has'](_0x440ded)&&(_0x31faed[_0x440ded]=_0x2960a9[_0x440ded]);}return _0x31faed;}['checkAbortBuildFileExists'](){const _0x37be4e=a134_0x57964a,_0x5e83da=process[_0x37be4e(0x1a8)][_0x37be4e(0x1ad)],_0x13df1a=path[_0x37be4e(0x199)](os[_0x37be4e(0x1b7)](),'abort_build_'+_0x5e83da);return fs[_0x37be4e(0x18c)](_0x13df1a);}[a134_0x57964a(0x18e)](_0x1e0bd7){const _0x6c6820=a134_0x57964a,_0x4e40b7=process['env']['BROWSERSTACK_TESTHUB_UUID'],_0x3adc11=path[_0x6c6820(0x199)](os[_0x6c6820(0x1b7)](),_0x6c6820(0x185)+_0x4e40b7+_0x6c6820(0x193));fs[_0x6c6820(0x18a)](_0x3adc11,_0x1e0bd7+'\x0a');}['isAbortBuildOnFailureSupported'](_0x172aed){const _0x426828=a134_0x57964a,_0x4cfda7={};_0x4cfda7[_0x426828(0x1ab)]=function(_0x2431bf,_0x298e63){return _0x2431bf||_0x298e63;};const _0x4adf53=_0x4cfda7;return ABORT_BUILD_SUPPORTED_FRAMEWORKS[_0x426828(0x1a5)](_0x4adf53['drBdx'](_0x172aed,'')['toLowerCase']());}[a134_0x57964a(0x1b1)](){const _0x44ac62=a134_0x57964a,_0x4cab5e=(this[_0x44ac62(0x1b3)][_0x44ac62(0x17e)]||{})[ABORT_BUILD_ON_FAILURE]||{};return!!_0x4cab5e[_0x44ac62(0x192)];}[a134_0x57964a(0x1b4)](){const _0x1163a0=a134_0x57964a,_0x47135e=(this[_0x1163a0(0x1b3)][_0x1163a0(0x17e)]||{})[ABORT_BUILD_ON_FAILURE]||{};return _0x47135e['maxFailures']||0x5;;}[a134_0x57964a(0x1ae)](){return this['runPreviouslyFailedFirst'];}[a134_0x57964a(0x17f)](_0x4665f7){const _0x363e96=a134_0x57964a;this[_0x363e96(0x189)]=!!_0x4665f7,this[_0x363e96(0x182)]();}['getRerunPreviouslyFailed'](){const _0x5dd448=a134_0x57964a;return this[_0x5dd448(0x19b)];}[a134_0x57964a(0x1a4)](_0x2b405e){const _0x11923f=a134_0x57964a;this[_0x11923f(0x19b)]=!!_0x2b405e,this[_0x11923f(0x182)]();}[a134_0x57964a(0x183)](){const _0x118bcb=a134_0x57964a;return this[_0x118bcb(0x1a6)];}[a134_0x57964a(0x198)](_0x195d7a){const _0x492c23=a134_0x57964a;this[_0x492c23(0x1a6)]=!!_0x195d7a,this[_0x492c23(0x182)]();}['_setTestOrdering'](){const _0x182d1a=a134_0x57964a;if(this[_0x182d1a(0x189)])this[_0x182d1a(0x19b)]=![],this[_0x182d1a(0x1a6)]=![],this[_0x182d1a(0x1b5)][_0x182d1a(0x188)](RUN_PREVIOUSLY_FAILED_FIRST);else{if(this[_0x182d1a(0x19b)])this[_0x182d1a(0x189)]=![],this[_0x182d1a(0x1a6)]=![],this[_0x182d1a(0x1b5)][_0x182d1a(0x188)](RERUN_PREVIOUSLY_FAILED);else this[_0x182d1a(0x1a6)]?(this['runPreviouslyFailedFirst']=![],this[_0x182d1a(0x19b)]=![],this[_0x182d1a(0x1b5)][_0x182d1a(0x188)](SKIP_FLAKY_AND_FAILED)):this[_0x182d1a(0x1b5)]['disable']();}}[a134_0x57964a(0x19a)](){const _0x29b6f9=a134_0x57964a;return this['testOrdering'][_0x29b6f9(0x1a3)]();}[a134_0x57964a(0x180)](){const _0x40a1c7=a134_0x57964a;if(this['testOrdering'][_0x40a1c7(0x1a3)]())return this['testOrdering'][_0x40a1c7(0x1aa)]();return null;}['getBuildStartData'](){const _0x4df775=a134_0x57964a,_0x3559b7={};return _0x3559b7[_0x4df775(0x18b)]={'enabled':this[_0x4df775(0x1b2)]()},_0x3559b7[_0x4df775(0x1a9)]={'enabled':this['getRunPreviouslyFailedFirst']()},_0x3559b7['skip_failing_and_flaky']={'enabled':this[_0x4df775(0x183)]()},this[_0x4df775(0x197)]()&&(_0x3559b7['retry_tests_on_failure']={'enabled':!![],'max_retries':this[_0x4df775(0x1a2)]()}),this[_0x4df775(0x1b1)]()&&(_0x3559b7[_0x4df775(0x187)]={'enabled':!![],'max_failures':this['getFailureThreshold']()}),_0x3559b7;}}module[a134_0x57964a(0x1a0)]=OrchestrationUtils;