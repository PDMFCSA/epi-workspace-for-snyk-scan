const a127_0xee44a2=a127_0x58c5;(function(_0xe45097,_0x6af489){const _0x48cd5b=a127_0x58c5,_0x5b1c02=_0xe45097();while(!![]){try{const _0x428f1e=parseInt(_0x48cd5b(0xc0))/0x1+-parseInt(_0x48cd5b(0xbb))/0x2*(parseInt(_0x48cd5b(0xc5))/0x3)+-parseInt(_0x48cd5b(0x92))/0x4*(-parseInt(_0x48cd5b(0xc9))/0x5)+-parseInt(_0x48cd5b(0x97))/0x6*(-parseInt(_0x48cd5b(0x94))/0x7)+parseInt(_0x48cd5b(0x8f))/0x8*(parseInt(_0x48cd5b(0xc6))/0x9)+-parseInt(_0x48cd5b(0xa8))/0xa+parseInt(_0x48cd5b(0x98))/0xb*(-parseInt(_0x48cd5b(0xc3))/0xc);if(_0x428f1e===_0x6af489)break;else _0x5b1c02['push'](_0x5b1c02['shift']());}catch(_0x539cc9){_0x5b1c02['push'](_0x5b1c02['shift']());}}}(a127_0x4e28,0xe8646));const os=require('os'),path=require(a127_0xee44a2(0x8d)),fs=require('fs'),logger=require(a127_0xee44a2(0xb9))[a127_0xee44a2(0xa1)],RETRY_TESTS_ON_FAILURE='retryTestsOnFailure',ABORT_BUILD_ON_FAILURE='abortBuildOnFailure',RUN_PREVIOUSLY_FAILED_FIRST=a127_0xee44a2(0xcb),RERUN_PREVIOUSLY_FAILED=a127_0xee44a2(0x90),SKIP_FLAKY_AND_FAILED=a127_0xee44a2(0xc4),ALLOWED_ORCHESTRATION_KEYS=new Set([RETRY_TESTS_ON_FAILURE,ABORT_BUILD_ON_FAILURE,RUN_PREVIOUSLY_FAILED_FIRST,RERUN_PREVIOUSLY_FAILED,SKIP_FLAKY_AND_FAILED]),ABORT_BUILD_SUPPORTED_FRAMEWORKS=new Set([a127_0xee44a2(0xa5)]);class TestOrdering{constructor(){const _0x2eeb41=a127_0xee44a2;this[_0x2eeb41(0xa7)]=![],this[_0x2eeb41(0xac)]=null;}[a127_0xee44a2(0x9a)](_0x106d7a){const _0x4aeb3b=a127_0xee44a2;this['enabled']=!![],this[_0x4aeb3b(0xac)]=_0x106d7a;}[a127_0xee44a2(0x8c)](){const _0x55958c=a127_0xee44a2;this[_0x55958c(0xa7)]=![],this[_0x55958c(0xac)]=null;}[a127_0xee44a2(0xa6)](){const _0x543877=a127_0xee44a2;return this[_0x543877(0xa7)];}[a127_0xee44a2(0xab)](){const _0x33379f=a127_0xee44a2;return this[_0x33379f(0xac)];}}class OrchestrationUtils{static [a127_0xee44a2(0x9e)]=null;constructor(_0x25470c){const _0x35aea0=a127_0xee44a2,_0x353ddb={};_0x353ddb['XkIOo']=function(_0x59c2a7,_0x58dd92){return _0x59c2a7||_0x58dd92;};const _0xaddd4a=_0x353ddb;this[_0x35aea0(0xcb)]=![],this[_0x35aea0(0x90)]=![],this[_0x35aea0(0x9c)]=![],this['testOrdering']=new TestOrdering(),this['config']=_0xaddd4a[_0x35aea0(0xca)](_0x25470c,{});const _0x2d945b=_0x25470c&&_0x25470c['testOrchestrationOptions']||{};this[_0x35aea0(0x95)](_0x2d945b[RUN_PREVIOUSLY_FAILED_FIRST]||![]),this['_setRerunPreviouslyFailed'](_0x2d945b[RERUN_PREVIOUSLY_FAILED]||![]),this[_0x35aea0(0xa9)](_0x2d945b[SKIP_FLAKY_AND_FAILED]||![]);}static[a127_0xee44a2(0xa2)](_0x19a7d1){const _0x1a13b2=a127_0xee44a2;return!OrchestrationUtils['_instance']&&_0x19a7d1&&(OrchestrationUtils[_0x1a13b2(0x9e)]=new OrchestrationUtils(_0x19a7d1)),OrchestrationUtils[_0x1a13b2(0x9e)];}[a127_0xee44a2(0xb4)](){const _0x33640b=a127_0xee44a2,_0x43dba4=(this[_0x33640b(0x8b)][_0x33640b(0xb6)]||{})[RETRY_TESTS_ON_FAILURE]||{};return!!_0x43dba4[_0x33640b(0xa7)];}[a127_0xee44a2(0xaf)](){const _0x27d214=a127_0xee44a2,_0x1a0c2e=(this[_0x27d214(0x8b)][_0x27d214(0xb6)]||{})[RETRY_TESTS_ON_FAILURE]||{};let _0x13ae96=0x0;return this[_0x27d214(0xb4)](this['config'])&&(_0x13ae96=_0x1a0c2e[_0x27d214(0xae)]||0x1),_0x13ae96;}[a127_0xee44a2(0xc8)](){const _0x1488b0=a127_0xee44a2,_0x1426f4=this['config'][_0x1488b0(0xb6)]||{},_0x560c78={};for(const _0x466999 in _0x1426f4){ALLOWED_ORCHESTRATION_KEYS[_0x1488b0(0xa3)](_0x466999)&&(_0x560c78[_0x466999]=_0x1426f4[_0x466999]);}return _0x560c78;}[a127_0xee44a2(0xaa)](){const _0x2c4f8a=a127_0xee44a2,_0x735667=process[_0x2c4f8a(0xbc)]['BROWSERSTACK_TESTHUB_UUID'],_0x438028=path[_0x2c4f8a(0xc1)](os[_0x2c4f8a(0xb3)](),_0x2c4f8a(0xad)+_0x735667);return fs[_0x2c4f8a(0x8e)](_0x438028);}[a127_0xee44a2(0xa0)](_0x23c674){const _0x3ea383=a127_0xee44a2,_0x567ea7=process[_0x3ea383(0xbc)][_0x3ea383(0xb8)],_0x315963=path[_0x3ea383(0xc1)](os[_0x3ea383(0xb3)](),_0x3ea383(0xc7)+_0x567ea7+'.txt');fs[_0x3ea383(0x9d)](_0x315963,_0x23c674+'\x0a');}[a127_0xee44a2(0xbf)](_0x3e2202){const _0x5d3e85=a127_0xee44a2,_0x9b06b6={};_0x9b06b6[_0x5d3e85(0xbe)]=function(_0x31f775,_0x4d175d){return _0x31f775||_0x4d175d;};const _0x587f2e=_0x9b06b6;return ABORT_BUILD_SUPPORTED_FRAMEWORKS[_0x5d3e85(0xa3)](_0x587f2e['DTKoy'](_0x3e2202,'')[_0x5d3e85(0xb0)]());}[a127_0xee44a2(0xc2)](){const _0x1c1957=a127_0xee44a2,_0x39e00e=(this[_0x1c1957(0x8b)]['testOrchestrationOptions']||{})[ABORT_BUILD_ON_FAILURE]||{};return!!_0x39e00e[_0x1c1957(0xa7)];}[a127_0xee44a2(0x8a)](){const _0x26f2bd=a127_0xee44a2,_0x340ebb=(this[_0x26f2bd(0x8b)][_0x26f2bd(0xb6)]||{})[ABORT_BUILD_ON_FAILURE]||{};return _0x340ebb[_0x26f2bd(0xb2)]||0x5;;}[a127_0xee44a2(0x9f)](){const _0xa76ac2=a127_0xee44a2;return this[_0xa76ac2(0xcb)];}['_setRunPreviouslyFailedFirst'](_0x37203a){const _0x1fbffb=a127_0xee44a2;this[_0x1fbffb(0xcb)]=!!_0x37203a,this[_0x1fbffb(0xb1)]();}[a127_0xee44a2(0xb7)](){const _0x9ec34d=a127_0xee44a2;return this[_0x9ec34d(0x90)];}[a127_0xee44a2(0x99)](_0x592f17){const _0x2b7b2d=a127_0xee44a2;this[_0x2b7b2d(0x90)]=!!_0x592f17,this[_0x2b7b2d(0xb1)]();}[a127_0xee44a2(0xba)](){const _0x42a4ed=a127_0xee44a2;return this[_0x42a4ed(0x9c)];}['_setSkipFlakyAndFailed'](_0xd40cd8){const _0x391ebc=a127_0xee44a2;this[_0x391ebc(0x9c)]=!!_0xd40cd8,this[_0x391ebc(0xb1)]();}[a127_0xee44a2(0xb1)](){const _0xa1252f=a127_0xee44a2;if(this[_0xa1252f(0xcb)])this[_0xa1252f(0x90)]=![],this['skipFlakyAndFailed']=![],this['testOrdering']['enable'](RUN_PREVIOUSLY_FAILED_FIRST);else{if(this['rerunPreviouslyFailed'])this['runPreviouslyFailedFirst']=![],this[_0xa1252f(0x9c)]=![],this[_0xa1252f(0x9b)]['enable'](RERUN_PREVIOUSLY_FAILED);else this[_0xa1252f(0x9c)]?(this[_0xa1252f(0xcb)]=![],this[_0xa1252f(0x90)]=![],this[_0xa1252f(0x9b)]['enable'](SKIP_FLAKY_AND_FAILED)):this[_0xa1252f(0x9b)][_0xa1252f(0x8c)]();}}['testOrderingEnabled'](){return this['testOrdering']['getEnabled']();}['getTestOrderingName'](){const _0x262e53=a127_0xee44a2;if(this[_0x262e53(0x9b)][_0x262e53(0xa6)]())return this[_0x262e53(0x9b)][_0x262e53(0xab)]();return null;}[a127_0xee44a2(0x89)](){const _0xac79aa=a127_0xee44a2,_0x58d4e7={};return _0x58d4e7[_0xac79aa(0x96)]={'enabled':this[_0xac79aa(0xb7)]()},_0x58d4e7[_0xac79aa(0xa4)]={'enabled':this[_0xac79aa(0x9f)]()},_0x58d4e7[_0xac79aa(0xbd)]={'enabled':this['getSkipFlakyAndFailed']()},this['isRetryEnabled']()&&(_0x58d4e7[_0xac79aa(0x91)]={'enabled':!![],'max_retries':this[_0xac79aa(0xaf)]()}),this['isAbortBuildOnFailureEnabled']()&&(_0x58d4e7[_0xac79aa(0xb5)]={'enabled':!![],'max_failures':this[_0xac79aa(0x8a)]()}),_0x58d4e7;}}module[a127_0xee44a2(0x93)]=OrchestrationUtils;function a127_0x58c5(_0x39df4a,_0xa8bfc3){const _0x4e287a=a127_0x4e28();return a127_0x58c5=function(_0x58c55c,_0xb3d15){_0x58c55c=_0x58c55c-0x89;let _0x1dd0bd=_0x4e287a[_0x58c55c];return _0x1dd0bd;},a127_0x58c5(_0x39df4a,_0xa8bfc3);}function a127_0x4e28(){const _0x3c465c=['getEnabled','enabled','15451460mAuBnI','_setSkipFlakyAndFailed','checkAbortBuildFileExists','getName','name','abort_build_','maxRetries','getRetryCount','toLowerCase','_setTestOrdering','maxFailures','tmpdir','isRetryEnabled','abort_build_on_failure','testOrchestrationOptions','getRerunPreviouslyFailed','BROWSERSTACK_TESTHUB_UUID','../logger','getSkipFlakyAndFailed','10UkNCZi','env','skip_failing_and_flaky','DTKoy','isAbortBuildOnFailureSupported','55454MZYntP','join','isAbortBuildOnFailureEnabled','48OCIcwD','skipFlakyandFailed','263226vMLdmD','19989GtuFvQ','failed_tests_','getOrchestrationData','14280SYPBjJ','XkIOo','runPreviouslyFailedFirst','getBuildStartData','getFailureThreshold','config','disable','path','existsSync','3384fyAUAW','rerunPreviouslyFailed','retry_tests_on_failure','2172FdaWfj','exports','12685631NZwnir','_setRunPreviouslyFailedFirst','rerun_previously_failed','6hbtDab','3911171dnFmKN','_setRerunPreviouslyFailed','enable','testOrdering','skipFlakyAndFailed','appendFileSync','_instance','getRunPreviouslyFailedFirst','writeFailureToFile','winstonLogger','getInstance','has','run_previously_failed_first','jest'];a127_0x4e28=function(){return _0x3c465c;};return a127_0x4e28();}