const a124_0x4528d8=a124_0x2cbd;function a124_0x4c5c(){const _0x4ec2c0=['814950QPTXix','enable','enabled','8cHRlDr','getEnabled','maxFailures','join','450584FeVSgM','disable','skipFlakyAndFailed','existsSync','_setRunPreviouslyFailedFirst','281242cPzXlA','rerun_previously_failed','rerunPreviouslyFailed','_setTestOrdering','getFailureThreshold','qHktt','getRunPreviouslyFailedFirst','325739hdvvKL','name','failed_tests_','getBuildStartData','config','121UKgcqs','tmpdir','abortBuildOnFailure','.txt','getName','21nnMiKR','isAbortBuildOnFailureSupported','getRerunPreviouslyFailed','env','2122269XgXBkW','95868DoxuLa','exports','has','9582HKgWto','isRetryEnabled','_setSkipFlakyAndFailed','writeFailureToFile','getOrchestrationData','XspQG','getInstance','getRetryCount','path','maxRetries','checkAbortBuildFileExists','testOrdering','../logger','isAbortBuildOnFailureEnabled','_instance','getSkipFlakyAndFailed','BROWSERSTACK_TESTHUB_UUID','3695UrMzAW','testOrchestrationOptions','runPreviouslyFailedFirst'];a124_0x4c5c=function(){return _0x4ec2c0;};return a124_0x4c5c();}(function(_0x3da5ad,_0x5b67b9){const _0x5ed558=a124_0x2cbd,_0xdfbb78=_0x3da5ad();while(!![]){try{const _0x5e1347=-parseInt(_0x5ed558(0x214))/0x1+parseInt(_0x5ed558(0x20d))/0x2+parseInt(_0x5ed558(0x222))/0x3*(parseInt(_0x5ed558(0x204))/0x4)+-parseInt(_0x5ed558(0x1fe))/0x5*(parseInt(_0x5ed558(0x226))/0x6)+parseInt(_0x5ed558(0x21e))/0x7*(-parseInt(_0x5ed558(0x208))/0x8)+parseInt(_0x5ed558(0x223))/0x9+parseInt(_0x5ed558(0x201))/0xa*(parseInt(_0x5ed558(0x219))/0xb);if(_0x5e1347===_0x5b67b9)break;else _0xdfbb78['push'](_0xdfbb78['shift']());}catch(_0x52538e){_0xdfbb78['push'](_0xdfbb78['shift']());}}}(a124_0x4c5c,0xc04d9));const os=require('os'),path=require(a124_0x4528d8(0x1f5)),fs=require('fs'),logger=require(a124_0x4528d8(0x1f9))['winstonLogger'],RETRY_TESTS_ON_FAILURE='retryTestsOnFailure',ABORT_BUILD_ON_FAILURE=a124_0x4528d8(0x21b),RUN_PREVIOUSLY_FAILED_FIRST='runPreviouslyFailedFirst',RERUN_PREVIOUSLY_FAILED=a124_0x4528d8(0x20f),SKIP_FLAKY_AND_FAILED='skipFlakyandFailed',ALLOWED_ORCHESTRATION_KEYS=new Set([RETRY_TESTS_ON_FAILURE,ABORT_BUILD_ON_FAILURE,RUN_PREVIOUSLY_FAILED_FIRST,RERUN_PREVIOUSLY_FAILED,SKIP_FLAKY_AND_FAILED]),ABORT_BUILD_SUPPORTED_FRAMEWORKS=new Set(['jest']);class TestOrdering{constructor(){const _0x3217f3=a124_0x4528d8;this[_0x3217f3(0x203)]=![],this[_0x3217f3(0x215)]=null;}[a124_0x4528d8(0x202)](_0x4264f0){const _0x116b9c=a124_0x4528d8;this[_0x116b9c(0x203)]=!![],this[_0x116b9c(0x215)]=_0x4264f0;}[a124_0x4528d8(0x209)](){this['enabled']=![],this['name']=null;}[a124_0x4528d8(0x205)](){const _0x21c691=a124_0x4528d8;return this[_0x21c691(0x203)];}['getName'](){const _0x1a845c=a124_0x4528d8;return this[_0x1a845c(0x215)];}}function a124_0x2cbd(_0x4150f1,_0x5166ed){const _0x4c5c9c=a124_0x4c5c();return a124_0x2cbd=function(_0x2cbddc,_0x39cf03){_0x2cbddc=_0x2cbddc-0x1f4;let _0x246853=_0x4c5c9c[_0x2cbddc];return _0x246853;},a124_0x2cbd(_0x4150f1,_0x5166ed);}class OrchestrationUtils{static ['_instance']=null;constructor(_0x4fd6c0){const _0x334353=a124_0x4528d8,_0x2a0004={};_0x2a0004[_0x334353(0x212)]=function(_0x11629d,_0x57c056){return _0x11629d||_0x57c056;};const _0x56abd9=_0x2a0004;this['runPreviouslyFailedFirst']=![],this[_0x334353(0x20f)]=![],this[_0x334353(0x20a)]=![],this[_0x334353(0x1f8)]=new TestOrdering(),this[_0x334353(0x218)]=_0x56abd9['qHktt'](_0x4fd6c0,{});const _0x335e64=_0x4fd6c0&&_0x4fd6c0[_0x334353(0x1ff)]||{};this[_0x334353(0x20c)](_0x335e64[RUN_PREVIOUSLY_FAILED_FIRST]||![]),this['_setRerunPreviouslyFailed'](_0x335e64[RERUN_PREVIOUSLY_FAILED]||![]),this[_0x334353(0x228)](_0x335e64[SKIP_FLAKY_AND_FAILED]||![]);}static[a124_0x4528d8(0x22c)](_0x35c4ac){const _0x57058c=a124_0x4528d8;return!OrchestrationUtils[_0x57058c(0x1fb)]&&_0x35c4ac&&(OrchestrationUtils[_0x57058c(0x1fb)]=new OrchestrationUtils(_0x35c4ac)),OrchestrationUtils[_0x57058c(0x1fb)];}[a124_0x4528d8(0x227)](){const _0x376b6a=a124_0x4528d8,_0x5a7b72=(this['config'][_0x376b6a(0x1ff)]||{})[RETRY_TESTS_ON_FAILURE]||{};return!!_0x5a7b72[_0x376b6a(0x203)];}[a124_0x4528d8(0x1f4)](){const _0x105425=a124_0x4528d8,_0x1c6577=(this[_0x105425(0x218)][_0x105425(0x1ff)]||{})[RETRY_TESTS_ON_FAILURE]||{};let _0x5e8c7a=0x0;return this[_0x105425(0x227)](this[_0x105425(0x218)])&&(_0x5e8c7a=_0x1c6577[_0x105425(0x1f6)]||0x1),_0x5e8c7a;}[a124_0x4528d8(0x22a)](){const _0x3b1088=a124_0x4528d8,_0x2305ea=this[_0x3b1088(0x218)][_0x3b1088(0x1ff)]||{},_0x4ac8ea={};for(const _0x20b441 in _0x2305ea){ALLOWED_ORCHESTRATION_KEYS[_0x3b1088(0x225)](_0x20b441)&&(_0x4ac8ea[_0x20b441]=_0x2305ea[_0x20b441]);}return _0x4ac8ea;}[a124_0x4528d8(0x1f7)](){const _0x4dc222=a124_0x4528d8,_0x24576b=process[_0x4dc222(0x221)][_0x4dc222(0x1fd)],_0x2ac614=path[_0x4dc222(0x207)](os[_0x4dc222(0x21a)](),'abort_build_'+_0x24576b);return fs[_0x4dc222(0x20b)](_0x2ac614);}[a124_0x4528d8(0x229)](_0x17e824){const _0x4e5ce8=a124_0x4528d8,_0x2ec4f1=process[_0x4e5ce8(0x221)][_0x4e5ce8(0x1fd)],_0x4555b3=path['join'](os[_0x4e5ce8(0x21a)](),_0x4e5ce8(0x216)+_0x2ec4f1+_0x4e5ce8(0x21c));fs['appendFileSync'](_0x4555b3,_0x17e824+'\x0a');}[a124_0x4528d8(0x21f)](_0x2fe717){const _0x305104=a124_0x4528d8,_0x27c804={};_0x27c804['XspQG']=function(_0x45ea12,_0x3e1131){return _0x45ea12||_0x3e1131;};const _0x3f2077=_0x27c804;return ABORT_BUILD_SUPPORTED_FRAMEWORKS[_0x305104(0x225)](_0x3f2077[_0x305104(0x22b)](_0x2fe717,'')['toLowerCase']());}[a124_0x4528d8(0x1fa)](){const _0x9d26d2=a124_0x4528d8,_0xc08bae=(this[_0x9d26d2(0x218)][_0x9d26d2(0x1ff)]||{})[ABORT_BUILD_ON_FAILURE]||{};return!!_0xc08bae[_0x9d26d2(0x203)];}['getFailureThreshold'](){const _0x34c038=a124_0x4528d8,_0x2dfa0d=(this['config'][_0x34c038(0x1ff)]||{})[ABORT_BUILD_ON_FAILURE]||{};return _0x2dfa0d[_0x34c038(0x206)]||0x5;;}[a124_0x4528d8(0x213)](){const _0x1c828f=a124_0x4528d8;return this[_0x1c828f(0x200)];}[a124_0x4528d8(0x20c)](_0x1f6f24){const _0xbb88ca=a124_0x4528d8;this[_0xbb88ca(0x200)]=!!_0x1f6f24,this['_setTestOrdering']();}[a124_0x4528d8(0x220)](){const _0x18a9fb=a124_0x4528d8;return this[_0x18a9fb(0x20f)];}['_setRerunPreviouslyFailed'](_0x28a216){this['rerunPreviouslyFailed']=!!_0x28a216,this['_setTestOrdering']();}[a124_0x4528d8(0x1fc)](){const _0x53fc69=a124_0x4528d8;return this[_0x53fc69(0x20a)];}[a124_0x4528d8(0x228)](_0x3fe6ff){const _0x5515c6=a124_0x4528d8;this[_0x5515c6(0x20a)]=!!_0x3fe6ff,this[_0x5515c6(0x210)]();}[a124_0x4528d8(0x210)](){const _0x596275=a124_0x4528d8;if(this[_0x596275(0x200)])this['rerunPreviouslyFailed']=![],this['skipFlakyAndFailed']=![],this[_0x596275(0x1f8)][_0x596275(0x202)](RUN_PREVIOUSLY_FAILED_FIRST);else{if(this[_0x596275(0x20f)])this[_0x596275(0x200)]=![],this['skipFlakyAndFailed']=![],this['testOrdering'][_0x596275(0x202)](RERUN_PREVIOUSLY_FAILED);else this[_0x596275(0x20a)]?(this[_0x596275(0x200)]=![],this[_0x596275(0x20f)]=![],this[_0x596275(0x1f8)][_0x596275(0x202)](SKIP_FLAKY_AND_FAILED)):this['testOrdering'][_0x596275(0x209)]();}}['testOrderingEnabled'](){const _0x4da241=a124_0x4528d8;return this[_0x4da241(0x1f8)][_0x4da241(0x205)]();}['getTestOrderingName'](){const _0x33d571=a124_0x4528d8;if(this[_0x33d571(0x1f8)][_0x33d571(0x205)]())return this[_0x33d571(0x1f8)][_0x33d571(0x21d)]();return null;}[a124_0x4528d8(0x217)](){const _0x494082=a124_0x4528d8,_0x37f61d={};return _0x37f61d[_0x494082(0x20e)]={'enabled':this[_0x494082(0x220)]()},_0x37f61d['run_previously_failed_first']={'enabled':this[_0x494082(0x213)]()},_0x37f61d['skip_failing_and_flaky']={'enabled':this[_0x494082(0x1fc)]()},this[_0x494082(0x227)]()&&(_0x37f61d['retry_tests_on_failure']={'enabled':!![],'max_retries':this[_0x494082(0x1f4)]()}),this['isAbortBuildOnFailureEnabled']()&&(_0x37f61d['abort_build_on_failure']={'enabled':!![],'max_failures':this[_0x494082(0x211)]()}),_0x37f61d;}}module[a124_0x4528d8(0x224)]=OrchestrationUtils;