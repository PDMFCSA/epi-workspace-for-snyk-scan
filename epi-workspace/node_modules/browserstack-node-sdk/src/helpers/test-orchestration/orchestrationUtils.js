const a131_0x2aa85c=a131_0x48c6;(function(_0x44ccec,_0x1a65f1){const _0xfa938e=a131_0x48c6,_0x21c0cd=_0x44ccec();while(!![]){try{const _0x424730=parseInt(_0xfa938e(0x1b7))/0x1+parseInt(_0xfa938e(0x1a0))/0x2+-parseInt(_0xfa938e(0x1ac))/0x3+parseInt(_0xfa938e(0x19e))/0x4+parseInt(_0xfa938e(0x19b))/0x5*(parseInt(_0xfa938e(0x1ad))/0x6)+parseInt(_0xfa938e(0x194))/0x7+parseInt(_0xfa938e(0x1b3))/0x8*(-parseInt(_0xfa938e(0x1a5))/0x9);if(_0x424730===_0x1a65f1)break;else _0x21c0cd['push'](_0x21c0cd['shift']());}catch(_0xd17219){_0x21c0cd['push'](_0x21c0cd['shift']());}}}(a131_0x422f,0xe05a1));const os=require('os'),path=require(a131_0x2aa85c(0x1ab)),fs=require('fs'),logger=require(a131_0x2aa85c(0x196))[a131_0x2aa85c(0x1a4)],RETRY_TESTS_ON_FAILURE=a131_0x2aa85c(0x1bb),ABORT_BUILD_ON_FAILURE=a131_0x2aa85c(0x1a1),RUN_PREVIOUSLY_FAILED_FIRST='runPreviouslyFailedFirst',RERUN_PREVIOUSLY_FAILED='rerunPreviouslyFailed',SKIP_FLAKY_AND_FAILED=a131_0x2aa85c(0x197),ALLOWED_ORCHESTRATION_KEYS=new Set([RETRY_TESTS_ON_FAILURE,ABORT_BUILD_ON_FAILURE,RUN_PREVIOUSLY_FAILED_FIRST,RERUN_PREVIOUSLY_FAILED,SKIP_FLAKY_AND_FAILED]),ABORT_BUILD_SUPPORTED_FRAMEWORKS=new Set(['jest']);class TestOrdering{constructor(){const _0x4af776=a131_0x2aa85c;this[_0x4af776(0x1aa)]=![],this[_0x4af776(0x199)]=null;}['enable'](_0x1be2cb){const _0x5de3a4=a131_0x2aa85c;this['enabled']=!![],this[_0x5de3a4(0x199)]=_0x1be2cb;}[a131_0x2aa85c(0x18c)](){const _0x344798=a131_0x2aa85c;this[_0x344798(0x1aa)]=![],this[_0x344798(0x199)]=null;}[a131_0x2aa85c(0x190)](){const _0x4b8577=a131_0x2aa85c;return this[_0x4b8577(0x1aa)];}['getName'](){const _0x388b9e=a131_0x2aa85c;return this[_0x388b9e(0x199)];}}class OrchestrationUtils{static [a131_0x2aa85c(0x1a6)]=null;constructor(_0x2d8617){const _0x55e9e5=a131_0x2aa85c,_0x4467e3={};_0x4467e3[_0x55e9e5(0x18a)]=function(_0x56816f,_0x2c362d){return _0x56816f||_0x2c362d;};const _0x38402d=_0x4467e3;this[_0x55e9e5(0x1b6)]=![],this[_0x55e9e5(0x1a2)]=![],this[_0x55e9e5(0x1a7)]=![],this['testOrdering']=new TestOrdering(),this[_0x55e9e5(0x1af)]=_0x38402d[_0x55e9e5(0x18a)](_0x2d8617,{});const _0x2ac870=_0x2d8617&&_0x2d8617[_0x55e9e5(0x1b4)]||{};this['_setRunPreviouslyFailedFirst'](_0x2ac870[RUN_PREVIOUSLY_FAILED_FIRST]||![]),this[_0x55e9e5(0x185)](_0x2ac870[RERUN_PREVIOUSLY_FAILED]||![]),this['_setSkipFlakyAndFailed'](_0x2ac870[SKIP_FLAKY_AND_FAILED]||![]);}static[a131_0x2aa85c(0x19c)](_0x24da0f){const _0x1050e4=a131_0x2aa85c;return!OrchestrationUtils[_0x1050e4(0x1a6)]&&_0x24da0f&&(OrchestrationUtils[_0x1050e4(0x1a6)]=new OrchestrationUtils(_0x24da0f)),OrchestrationUtils[_0x1050e4(0x1a6)];}[a131_0x2aa85c(0x1b9)](){const _0x116b30=a131_0x2aa85c,_0x3a8aba=(this[_0x116b30(0x1af)][_0x116b30(0x1b4)]||{})[RETRY_TESTS_ON_FAILURE]||{};return!!_0x3a8aba[_0x116b30(0x1aa)];}['getRetryCount'](){const _0x3416ab=a131_0x2aa85c,_0x3f6a8a=(this[_0x3416ab(0x1af)][_0x3416ab(0x1b4)]||{})[RETRY_TESTS_ON_FAILURE]||{};let _0xab3d3e=0x0;return this[_0x3416ab(0x1b9)](this[_0x3416ab(0x1af)])&&(_0xab3d3e=_0x3f6a8a[_0x3416ab(0x1a3)]||0x1),_0xab3d3e;}['getOrchestrationData'](){const _0x282f00=a131_0x2aa85c,_0x17d9cc=this['config'][_0x282f00(0x1b4)]||{},_0xa9542b={};for(const _0x319082 in _0x17d9cc){ALLOWED_ORCHESTRATION_KEYS[_0x282f00(0x18d)](_0x319082)&&(_0xa9542b[_0x319082]=_0x17d9cc[_0x319082]);}return _0xa9542b;}['checkAbortBuildFileExists'](){const _0xd06b71=a131_0x2aa85c,_0xc10025=process[_0xd06b71(0x191)][_0xd06b71(0x1b0)],_0x45c451=path[_0xd06b71(0x19a)](os['tmpdir'](),_0xd06b71(0x188)+_0xc10025);return fs[_0xd06b71(0x186)](_0x45c451);}[a131_0x2aa85c(0x187)](_0x5cd106){const _0x191427=a131_0x2aa85c,_0x4966f0=process['env'][_0x191427(0x1b0)],_0xd4a50f=path[_0x191427(0x19a)](os[_0x191427(0x192)](),'failed_tests_'+_0x4966f0+'.txt');fs[_0x191427(0x1bd)](_0xd4a50f,_0x5cd106+'\x0a');}[a131_0x2aa85c(0x18b)](_0x14c280){const _0x2ba037=a131_0x2aa85c,_0x2e0efc={};_0x2e0efc[_0x2ba037(0x1b1)]=function(_0x25576c,_0x3a4b19){return _0x25576c||_0x3a4b19;};const _0x31e9dc=_0x2e0efc;return ABORT_BUILD_SUPPORTED_FRAMEWORKS[_0x2ba037(0x18d)](_0x31e9dc[_0x2ba037(0x1b1)](_0x14c280,'')['toLowerCase']());}[a131_0x2aa85c(0x19d)](){const _0x61978=a131_0x2aa85c,_0x1575c2=(this[_0x61978(0x1af)][_0x61978(0x1b4)]||{})[ABORT_BUILD_ON_FAILURE]||{};return!!_0x1575c2[_0x61978(0x1aa)];}[a131_0x2aa85c(0x18f)](){const _0x3dad1c=a131_0x2aa85c,_0x5eee26=(this[_0x3dad1c(0x1af)][_0x3dad1c(0x1b4)]||{})[ABORT_BUILD_ON_FAILURE]||{};return _0x5eee26[_0x3dad1c(0x198)]||0x5;;}[a131_0x2aa85c(0x1b2)](){const _0x9c1d3e=a131_0x2aa85c;return this[_0x9c1d3e(0x1b6)];}[a131_0x2aa85c(0x1bc)](_0x4e80e9){const _0x4075c3=a131_0x2aa85c;this[_0x4075c3(0x1b6)]=!!_0x4e80e9,this['_setTestOrdering']();}['getRerunPreviouslyFailed'](){const _0x146a49=a131_0x2aa85c;return this[_0x146a49(0x1a2)];}[a131_0x2aa85c(0x185)](_0x2016aa){const _0x11a4d3=a131_0x2aa85c;this['rerunPreviouslyFailed']=!!_0x2016aa,this[_0x11a4d3(0x195)]();}[a131_0x2aa85c(0x193)](){const _0x56cc9e=a131_0x2aa85c;return this[_0x56cc9e(0x1a7)];}[a131_0x2aa85c(0x184)](_0x22ff9c){const _0x1f2f5f=a131_0x2aa85c;this[_0x1f2f5f(0x1a7)]=!!_0x22ff9c,this['_setTestOrdering']();}[a131_0x2aa85c(0x195)](){const _0x3b5e1f=a131_0x2aa85c;if(this[_0x3b5e1f(0x1b6)])this[_0x3b5e1f(0x1a2)]=![],this['skipFlakyAndFailed']=![],this[_0x3b5e1f(0x1b5)]['enable'](RUN_PREVIOUSLY_FAILED_FIRST);else{if(this[_0x3b5e1f(0x1a2)])this[_0x3b5e1f(0x1b6)]=![],this[_0x3b5e1f(0x1a7)]=![],this[_0x3b5e1f(0x1b5)][_0x3b5e1f(0x1a9)](RERUN_PREVIOUSLY_FAILED);else this[_0x3b5e1f(0x1a7)]?(this[_0x3b5e1f(0x1b6)]=![],this[_0x3b5e1f(0x1a2)]=![],this[_0x3b5e1f(0x1b5)][_0x3b5e1f(0x1a9)](SKIP_FLAKY_AND_FAILED)):this[_0x3b5e1f(0x1b5)][_0x3b5e1f(0x18c)]();}}['testOrderingEnabled'](){const _0xbc1169=a131_0x2aa85c;return this[_0xbc1169(0x1b5)][_0xbc1169(0x190)]();}[a131_0x2aa85c(0x1ba)](){const _0x16a28d=a131_0x2aa85c;if(this[_0x16a28d(0x1b5)][_0x16a28d(0x190)]())return this[_0x16a28d(0x1b5)]['getName']();return null;}[a131_0x2aa85c(0x1b8)](){const _0x598203=a131_0x2aa85c,_0x2e5c71={};return _0x2e5c71[_0x598203(0x18e)]={'enabled':this[_0x598203(0x1ae)]()},_0x2e5c71['run_previously_failed_first']={'enabled':this[_0x598203(0x1b2)]()},_0x2e5c71['skip_failing_and_flaky']={'enabled':this['getSkipFlakyAndFailed']()},this[_0x598203(0x1b9)]()&&(_0x2e5c71[_0x598203(0x189)]={'enabled':!![],'max_retries':this[_0x598203(0x183)]()}),this[_0x598203(0x19d)]()&&(_0x2e5c71[_0x598203(0x19f)]={'enabled':!![],'max_failures':this[_0x598203(0x18f)]()}),_0x2e5c71;}}function a131_0x48c6(_0x210917,_0x34c407){const _0x422f0c=a131_0x422f();return a131_0x48c6=function(_0x48c6ac,_0x3eadf9){_0x48c6ac=_0x48c6ac-0x183;let _0x18fc6f=_0x422f0c[_0x48c6ac];return _0x18fc6f;},a131_0x48c6(_0x210917,_0x34c407);}module[a131_0x2aa85c(0x1a8)]=OrchestrationUtils;function a131_0x422f(){const _0x3fae3a=['writeFailureToFile','abort_build_','retry_tests_on_failure','kzojt','isAbortBuildOnFailureSupported','disable','has','rerun_previously_failed','getFailureThreshold','getEnabled','env','tmpdir','getSkipFlakyAndFailed','7071449PtxYTO','_setTestOrdering','../logger','skipFlakyandFailed','maxFailures','name','join','130xWbaVf','getInstance','isAbortBuildOnFailureEnabled','5639476aHfsLe','abort_build_on_failure','2656580LcqXNf','abortBuildOnFailure','rerunPreviouslyFailed','maxRetries','winstonLogger','9QDmPov','_instance','skipFlakyAndFailed','exports','enable','enabled','path','2166045WlTdIh','166800vQZVwp','getRerunPreviouslyFailed','config','BROWSERSTACK_TESTHUB_UUID','IEOlb','getRunPreviouslyFailedFirst','28867336PapQmG','testOrchestrationOptions','testOrdering','runPreviouslyFailedFirst','778211DSZNkf','getBuildStartData','isRetryEnabled','getTestOrderingName','retryTestsOnFailure','_setRunPreviouslyFailedFirst','appendFileSync','getRetryCount','_setSkipFlakyAndFailed','_setRerunPreviouslyFailed','existsSync'];a131_0x422f=function(){return _0x3fae3a;};return a131_0x422f();}