const a121_0x3feb2=a121_0x28a2;function a121_0x28a2(_0x5ebc2a,_0x4c2a8b){const _0x1a2208=a121_0x1a22();return a121_0x28a2=function(_0x28a293,_0x3d2899){_0x28a293=_0x28a293-0x153;let _0x5eb8e1=_0x1a2208[_0x28a293];return _0x5eb8e1;},a121_0x28a2(_0x5ebc2a,_0x4c2a8b);}(function(_0x62636d,_0x4e5635){const _0x5acdc2=a121_0x28a2,_0x5c639d=_0x62636d();while(!![]){try{const _0x153515=-parseInt(_0x5acdc2(0x17c))/0x1*(parseInt(_0x5acdc2(0x171))/0x2)+parseInt(_0x5acdc2(0x16d))/0x3+-parseInt(_0x5acdc2(0x184))/0x4*(-parseInt(_0x5acdc2(0x175))/0x5)+parseInt(_0x5acdc2(0x18d))/0x6*(-parseInt(_0x5acdc2(0x162))/0x7)+-parseInt(_0x5acdc2(0x166))/0x8*(parseInt(_0x5acdc2(0x182))/0x9)+parseInt(_0x5acdc2(0x159))/0xa+parseInt(_0x5acdc2(0x174))/0xb*(parseInt(_0x5acdc2(0x17b))/0xc);if(_0x153515===_0x4e5635)break;else _0x5c639d['push'](_0x5c639d['shift']());}catch(_0x3e5d54){_0x5c639d['push'](_0x5c639d['shift']());}}}(a121_0x1a22,0xac78c));const os=require('os'),path=require(a121_0x3feb2(0x18b)),fs=require('fs'),logger=require(a121_0x3feb2(0x180))[a121_0x3feb2(0x186)],RETRY_TESTS_ON_FAILURE=a121_0x3feb2(0x172),ABORT_BUILD_ON_FAILURE='abortBuildOnFailure',RUN_PREVIOUSLY_FAILED_FIRST=a121_0x3feb2(0x170),RERUN_PREVIOUSLY_FAILED=a121_0x3feb2(0x15d),SKIP_FLAKY_AND_FAILED=a121_0x3feb2(0x18f),ALLOWED_ORCHESTRATION_KEYS=new Set([RETRY_TESTS_ON_FAILURE,ABORT_BUILD_ON_FAILURE,RUN_PREVIOUSLY_FAILED_FIRST,RERUN_PREVIOUSLY_FAILED,SKIP_FLAKY_AND_FAILED]),ABORT_BUILD_SUPPORTED_FRAMEWORKS=new Set([a121_0x3feb2(0x16c)]);function a121_0x1a22(){const _0x479a7f=['testOrchestrationOptions','abort_build_','../logger','skipFlakyAndFailed','303903pmONXy','isAbortBuildOnFailureSupported','3244RpXrOf','getRetryCount','winstonLogger','getOrchestrationData','_setRerunPreviouslyFailed','maxRetries','isRetryEnabled','path','_setSkipFlakyAndFailed','6hpRtRa','_setTestOrdering','skipFlakyandFailed','testOrdering','_instance','disable','name','_setRunPreviouslyFailedFirst','failed_tests_','BROWSERSTACK_TESTHUB_UUID','env','enable','1632150GagGLQ','XfFXd','existsSync','rerun_previously_failed','rerunPreviouslyFailed','enabled','isAbortBuildOnFailureEnabled','getBuildStartData','writeFailureToFile','5310907GfIVlm','testOrderingEnabled','tmpdir','getName','56sWkuGP','getSkipFlakyAndFailed','maxFailures','run_previously_failed_first','Lzskd','config','jest','3875931icflCL','getFailureThreshold','appendFileSync','runPreviouslyFailedFirst','1851334cDInWl','retryTestsOnFailure','has','22AFbZBU','3785SKbIub','.txt','abort_build_on_failure','getRunPreviouslyFailedFirst','join','getEnabled','3348372cVBAKd','1FiuSDT','checkAbortBuildFileExists'];a121_0x1a22=function(){return _0x479a7f;};return a121_0x1a22();}class TestOrdering{constructor(){const _0x2fb27b=a121_0x3feb2;this[_0x2fb27b(0x15e)]=![],this[_0x2fb27b(0x153)]=null;}[a121_0x3feb2(0x158)](_0x422d59){const _0x302ae2=a121_0x3feb2;this[_0x302ae2(0x15e)]=!![],this['name']=_0x422d59;}[a121_0x3feb2(0x192)](){const _0x459cc4=a121_0x3feb2;this[_0x459cc4(0x15e)]=![],this['name']=null;}[a121_0x3feb2(0x17a)](){const _0x2e2c3a=a121_0x3feb2;return this[_0x2e2c3a(0x15e)];}['getName'](){const _0x2b0602=a121_0x3feb2;return this[_0x2b0602(0x153)];}}class OrchestrationUtils{static ['_instance']=null;constructor(_0x3e47e4){const _0x4c31f1=a121_0x3feb2,_0xfe2423={};_0xfe2423[_0x4c31f1(0x15a)]=function(_0x1c8324,_0xb501ec){return _0x1c8324||_0xb501ec;};const _0x213efb=_0xfe2423;this[_0x4c31f1(0x170)]=![],this[_0x4c31f1(0x15d)]=![],this[_0x4c31f1(0x181)]=![],this[_0x4c31f1(0x190)]=new TestOrdering(),this['config']=_0x213efb[_0x4c31f1(0x15a)](_0x3e47e4,{});const _0xa05ed5=_0x3e47e4&&_0x3e47e4[_0x4c31f1(0x17e)]||{};this[_0x4c31f1(0x154)](_0xa05ed5[RUN_PREVIOUSLY_FAILED_FIRST]||![]),this[_0x4c31f1(0x188)](_0xa05ed5[RERUN_PREVIOUSLY_FAILED]||![]),this[_0x4c31f1(0x18c)](_0xa05ed5[SKIP_FLAKY_AND_FAILED]||![]);}static['getInstance'](_0xae04cf){const _0x4aaf10=a121_0x3feb2;return!OrchestrationUtils[_0x4aaf10(0x191)]&&_0xae04cf&&(OrchestrationUtils[_0x4aaf10(0x191)]=new OrchestrationUtils(_0xae04cf)),OrchestrationUtils[_0x4aaf10(0x191)];}[a121_0x3feb2(0x18a)](){const _0x447f81=a121_0x3feb2,_0x5ab71f=(this[_0x447f81(0x16b)][_0x447f81(0x17e)]||{})[RETRY_TESTS_ON_FAILURE]||{};return!!_0x5ab71f[_0x447f81(0x15e)];}[a121_0x3feb2(0x185)](){const _0x30f63e=a121_0x3feb2,_0x5cdb3c=(this[_0x30f63e(0x16b)]['testOrchestrationOptions']||{})[RETRY_TESTS_ON_FAILURE]||{};let _0x8c32ac=0x0;return this['isRetryEnabled'](this[_0x30f63e(0x16b)])&&(_0x8c32ac=_0x5cdb3c[_0x30f63e(0x189)]||0x1),_0x8c32ac;}[a121_0x3feb2(0x187)](){const _0x530caa=a121_0x3feb2,_0x57298f=this[_0x530caa(0x16b)]['testOrchestrationOptions']||{},_0x4bec63={};for(const _0xb70b1b in _0x57298f){ALLOWED_ORCHESTRATION_KEYS[_0x530caa(0x173)](_0xb70b1b)&&(_0x4bec63[_0xb70b1b]=_0x57298f[_0xb70b1b]);}return _0x4bec63;}[a121_0x3feb2(0x17d)](){const _0x3bd8c2=a121_0x3feb2,_0x45f306=process[_0x3bd8c2(0x157)][_0x3bd8c2(0x156)],_0x2323bb=path[_0x3bd8c2(0x179)](os[_0x3bd8c2(0x164)](),_0x3bd8c2(0x17f)+_0x45f306);return fs[_0x3bd8c2(0x15b)](_0x2323bb);}[a121_0x3feb2(0x161)](_0xefb001){const _0x36b6d0=a121_0x3feb2,_0x3dc98d=process[_0x36b6d0(0x157)][_0x36b6d0(0x156)],_0x4a0e6f=path['join'](os[_0x36b6d0(0x164)](),_0x36b6d0(0x155)+_0x3dc98d+_0x36b6d0(0x176));fs[_0x36b6d0(0x16f)](_0x4a0e6f,_0xefb001+'\x0a');}[a121_0x3feb2(0x183)](_0x3ea81b){const _0x243113=a121_0x3feb2,_0x5797b9={};_0x5797b9[_0x243113(0x16a)]=function(_0x586eec,_0x75293a){return _0x586eec||_0x75293a;};const _0x5f2675=_0x5797b9;return ABORT_BUILD_SUPPORTED_FRAMEWORKS[_0x243113(0x173)](_0x5f2675[_0x243113(0x16a)](_0x3ea81b,'')['toLowerCase']());}['isAbortBuildOnFailureEnabled'](){const _0x4cf966=a121_0x3feb2,_0x111d04=(this['config'][_0x4cf966(0x17e)]||{})[ABORT_BUILD_ON_FAILURE]||{};return!!_0x111d04[_0x4cf966(0x15e)];}['getFailureThreshold'](){const _0x214fcb=a121_0x3feb2,_0x376ebc=(this[_0x214fcb(0x16b)][_0x214fcb(0x17e)]||{})[ABORT_BUILD_ON_FAILURE]||{};return _0x376ebc[_0x214fcb(0x168)]||0x5;;}[a121_0x3feb2(0x178)](){const _0x21de41=a121_0x3feb2;return this[_0x21de41(0x170)];}[a121_0x3feb2(0x154)](_0x5853e1){const _0x5dae14=a121_0x3feb2;this[_0x5dae14(0x170)]=!!_0x5853e1,this[_0x5dae14(0x18e)]();}['getRerunPreviouslyFailed'](){const _0x326f16=a121_0x3feb2;return this[_0x326f16(0x15d)];}[a121_0x3feb2(0x188)](_0x1aa274){const _0x408997=a121_0x3feb2;this[_0x408997(0x15d)]=!!_0x1aa274,this[_0x408997(0x18e)]();}['getSkipFlakyAndFailed'](){const _0x4696cc=a121_0x3feb2;return this[_0x4696cc(0x181)];}[a121_0x3feb2(0x18c)](_0x2b7927){const _0x1add00=a121_0x3feb2;this[_0x1add00(0x181)]=!!_0x2b7927,this['_setTestOrdering']();}['_setTestOrdering'](){const _0x523af5=a121_0x3feb2;if(this[_0x523af5(0x170)])this[_0x523af5(0x15d)]=![],this[_0x523af5(0x181)]=![],this[_0x523af5(0x190)][_0x523af5(0x158)](RUN_PREVIOUSLY_FAILED_FIRST);else{if(this['rerunPreviouslyFailed'])this[_0x523af5(0x170)]=![],this[_0x523af5(0x181)]=![],this[_0x523af5(0x190)]['enable'](RERUN_PREVIOUSLY_FAILED);else this['skipFlakyAndFailed']?(this[_0x523af5(0x170)]=![],this[_0x523af5(0x15d)]=![],this[_0x523af5(0x190)][_0x523af5(0x158)](SKIP_FLAKY_AND_FAILED)):this['testOrdering'][_0x523af5(0x192)]();}}[a121_0x3feb2(0x163)](){const _0x36ba2f=a121_0x3feb2;return this[_0x36ba2f(0x190)][_0x36ba2f(0x17a)]();}['getTestOrderingName'](){const _0x53c9be=a121_0x3feb2;if(this[_0x53c9be(0x190)]['getEnabled']())return this[_0x53c9be(0x190)][_0x53c9be(0x165)]();return null;}[a121_0x3feb2(0x160)](){const _0x59c9ed=a121_0x3feb2,_0x49d5dd={};return _0x49d5dd[_0x59c9ed(0x15c)]={'enabled':this['getRerunPreviouslyFailed']()},_0x49d5dd[_0x59c9ed(0x169)]={'enabled':this[_0x59c9ed(0x178)]()},_0x49d5dd['skip_failing_and_flaky']={'enabled':this[_0x59c9ed(0x167)]()},this[_0x59c9ed(0x18a)]()&&(_0x49d5dd['retry_tests_on_failure']={'enabled':!![],'max_retries':this[_0x59c9ed(0x185)]()}),this[_0x59c9ed(0x15f)]()&&(_0x49d5dd[_0x59c9ed(0x177)]={'enabled':!![],'max_failures':this[_0x59c9ed(0x16e)]()}),_0x49d5dd;}}module['exports']=OrchestrationUtils;