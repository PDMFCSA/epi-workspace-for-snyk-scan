function a133_0x4cf3(){const _0x2d3936=['rerun_previously_failed','1393146wmuOlg','rerunPreviouslyFailed','getRerunPreviouslyFailed','retry_tests_on_failure','path','config','getBuildStartData','getRunPreviouslyFailedFirst','appendFileSync','run_previously_failed_first','runPreviouslyFailedFirst','abort_build_','_instance','name','exports','987224LUIrSU','isRetryEnabled','isAbortBuildOnFailureEnabled','skipFlakyandFailed','failed_tests_','checkAbortBuildFileExists','toLowerCase','getInstance','getRetryCount','18160UagPNA','bUUfs','abortBuildOnFailure','isAbortBuildOnFailureSupported','testOrderingEnabled','getEnabled','enable','skipFlakyAndFailed','env','30025xhxUCC','102YSyjNr','tmpdir','BROWSERSTACK_TESTHUB_UUID','772716MJzDVm','maxRetries','_setRunPreviouslyFailedFirst','getFailureThreshold','544339FtjyPg','join','retryTestsOnFailure','getOrchestrationData','testOrchestrationOptions','disable','_setTestOrdering','4059ArMqkN','enabled','_setRerunPreviouslyFailed','has','existsSync','maxFailures','1866200eFmYof','ldkoT','getName','testOrdering','_setSkipFlakyAndFailed','writeFailureToFile','.txt','getTestOrderingName','getSkipFlakyAndFailed'];a133_0x4cf3=function(){return _0x2d3936;};return a133_0x4cf3();}const a133_0x55ad4b=a133_0x3182;function a133_0x3182(_0x1cdb25,_0x2fe21d){const _0x4cf363=a133_0x4cf3();return a133_0x3182=function(_0x318254,_0x50dbf9){_0x318254=_0x318254-0x180;let _0x3596e0=_0x4cf363[_0x318254];return _0x3596e0;},a133_0x3182(_0x1cdb25,_0x2fe21d);}(function(_0x4d467d,_0x1558d4){const _0x2ce0f3=a133_0x3182,_0x3de8e6=_0x4d467d();while(!![]){try{const _0xaf10e2=parseInt(_0x2ce0f3(0x1bd))/0x1+parseInt(_0x2ce0f3(0x1a3))/0x2+parseInt(_0x2ce0f3(0x194))/0x3+parseInt(_0x2ce0f3(0x1b9))/0x4+parseInt(_0x2ce0f3(0x1b5))/0x5*(-parseInt(_0x2ce0f3(0x1b6))/0x6)+-parseInt(_0x2ce0f3(0x18a))/0x7+parseInt(_0x2ce0f3(0x1ac))/0x8*(-parseInt(_0x2ce0f3(0x184))/0x9);if(_0xaf10e2===_0x1558d4)break;else _0x3de8e6['push'](_0x3de8e6['shift']());}catch(_0x51dcd3){_0x3de8e6['push'](_0x3de8e6['shift']());}}}(a133_0x4cf3,0x49fd1));const os=require('os'),path=require(a133_0x55ad4b(0x198)),fs=require('fs'),logger=require('../logger')['winstonLogger'],RETRY_TESTS_ON_FAILURE=a133_0x55ad4b(0x1bf),ABORT_BUILD_ON_FAILURE=a133_0x55ad4b(0x1ae),RUN_PREVIOUSLY_FAILED_FIRST=a133_0x55ad4b(0x19e),RERUN_PREVIOUSLY_FAILED=a133_0x55ad4b(0x195),SKIP_FLAKY_AND_FAILED=a133_0x55ad4b(0x1a6),ALLOWED_ORCHESTRATION_KEYS=new Set([RETRY_TESTS_ON_FAILURE,ABORT_BUILD_ON_FAILURE,RUN_PREVIOUSLY_FAILED_FIRST,RERUN_PREVIOUSLY_FAILED,SKIP_FLAKY_AND_FAILED]),ABORT_BUILD_SUPPORTED_FRAMEWORKS=new Set(['jest']);class TestOrdering{constructor(){const _0x1819b2=a133_0x55ad4b;this['enabled']=![],this[_0x1819b2(0x1a1)]=null;}[a133_0x55ad4b(0x1b2)](_0x53ae26){const _0xf08ce1=a133_0x55ad4b;this[_0xf08ce1(0x185)]=!![],this[_0xf08ce1(0x1a1)]=_0x53ae26;}[a133_0x55ad4b(0x182)](){const _0x3cddbe=a133_0x55ad4b;this[_0x3cddbe(0x185)]=![],this[_0x3cddbe(0x1a1)]=null;}[a133_0x55ad4b(0x1b1)](){const _0x239058=a133_0x55ad4b;return this[_0x239058(0x185)];}[a133_0x55ad4b(0x18c)](){return this['name'];}}class OrchestrationUtils{static ['_instance']=null;constructor(_0x5a0fe8){const _0x5e5a31=a133_0x55ad4b,_0x39bd34={};_0x39bd34[_0x5e5a31(0x18b)]=function(_0x55a45a,_0x1f71a4){return _0x55a45a||_0x1f71a4;};const _0x398a63=_0x39bd34;this[_0x5e5a31(0x19e)]=![],this[_0x5e5a31(0x195)]=![],this[_0x5e5a31(0x1b3)]=![],this['testOrdering']=new TestOrdering(),this['config']=_0x398a63[_0x5e5a31(0x18b)](_0x5a0fe8,{});const _0x1418c3=_0x5a0fe8&&_0x5a0fe8[_0x5e5a31(0x181)]||{};this['_setRunPreviouslyFailedFirst'](_0x1418c3[RUN_PREVIOUSLY_FAILED_FIRST]||![]),this[_0x5e5a31(0x186)](_0x1418c3[RERUN_PREVIOUSLY_FAILED]||![]),this[_0x5e5a31(0x18e)](_0x1418c3[SKIP_FLAKY_AND_FAILED]||![]);}static[a133_0x55ad4b(0x1aa)](_0x3b5eaa){const _0x448fde=a133_0x55ad4b;return!OrchestrationUtils['_instance']&&_0x3b5eaa&&(OrchestrationUtils['_instance']=new OrchestrationUtils(_0x3b5eaa)),OrchestrationUtils[_0x448fde(0x1a0)];}[a133_0x55ad4b(0x1a4)](){const _0x2f02d3=a133_0x55ad4b,_0x27f25a=(this[_0x2f02d3(0x199)][_0x2f02d3(0x181)]||{})[RETRY_TESTS_ON_FAILURE]||{};return!!_0x27f25a[_0x2f02d3(0x185)];}[a133_0x55ad4b(0x1ab)](){const _0xbdd4aa=a133_0x55ad4b,_0x50bfd3=(this['config']['testOrchestrationOptions']||{})[RETRY_TESTS_ON_FAILURE]||{};let _0x1fcf30=0x0;return this[_0xbdd4aa(0x1a4)](this[_0xbdd4aa(0x199)])&&(_0x1fcf30=_0x50bfd3[_0xbdd4aa(0x1ba)]||0x1),_0x1fcf30;}[a133_0x55ad4b(0x180)](){const _0x442e56=a133_0x55ad4b,_0xd8e5ad=this[_0x442e56(0x199)][_0x442e56(0x181)]||{},_0x15d4bd={};for(const _0x2b80d4 in _0xd8e5ad){ALLOWED_ORCHESTRATION_KEYS[_0x442e56(0x187)](_0x2b80d4)&&(_0x15d4bd[_0x2b80d4]=_0xd8e5ad[_0x2b80d4]);}return _0x15d4bd;}[a133_0x55ad4b(0x1a8)](){const _0x4c0fb2=a133_0x55ad4b,_0x3be5ee=process[_0x4c0fb2(0x1b4)]['BROWSERSTACK_TESTHUB_UUID'],_0x445bee=path['join'](os[_0x4c0fb2(0x1b7)](),_0x4c0fb2(0x19f)+_0x3be5ee);return fs[_0x4c0fb2(0x188)](_0x445bee);}[a133_0x55ad4b(0x18f)](_0x56f4cb){const _0x28f0f0=a133_0x55ad4b,_0x4ae277=process['env'][_0x28f0f0(0x1b8)],_0x1070c1=path[_0x28f0f0(0x1be)](os[_0x28f0f0(0x1b7)](),_0x28f0f0(0x1a7)+_0x4ae277+_0x28f0f0(0x190));fs[_0x28f0f0(0x19c)](_0x1070c1,_0x56f4cb+'\x0a');}[a133_0x55ad4b(0x1af)](_0x2b0770){const _0x4ae48a=a133_0x55ad4b,_0x4374c4={};_0x4374c4[_0x4ae48a(0x1ad)]=function(_0x4da733,_0x2814f8){return _0x4da733||_0x2814f8;};const _0x30cf3e=_0x4374c4;return ABORT_BUILD_SUPPORTED_FRAMEWORKS['has'](_0x30cf3e['bUUfs'](_0x2b0770,'')[_0x4ae48a(0x1a9)]());}[a133_0x55ad4b(0x1a5)](){const _0x5ec458=a133_0x55ad4b,_0x229997=(this['config']['testOrchestrationOptions']||{})[ABORT_BUILD_ON_FAILURE]||{};return!!_0x229997[_0x5ec458(0x185)];}[a133_0x55ad4b(0x1bc)](){const _0x22d4cc=a133_0x55ad4b,_0x57a310=(this[_0x22d4cc(0x199)][_0x22d4cc(0x181)]||{})[ABORT_BUILD_ON_FAILURE]||{};return _0x57a310[_0x22d4cc(0x189)]||0x5;;}[a133_0x55ad4b(0x19b)](){const _0x5ce154=a133_0x55ad4b;return this[_0x5ce154(0x19e)];}[a133_0x55ad4b(0x1bb)](_0x1d614d){const _0x4d29a5=a133_0x55ad4b;this[_0x4d29a5(0x19e)]=!!_0x1d614d,this[_0x4d29a5(0x183)]();}[a133_0x55ad4b(0x196)](){const _0x51e853=a133_0x55ad4b;return this[_0x51e853(0x195)];}[a133_0x55ad4b(0x186)](_0x24d6e2){const _0x15ba4e=a133_0x55ad4b;this[_0x15ba4e(0x195)]=!!_0x24d6e2,this[_0x15ba4e(0x183)]();}['getSkipFlakyAndFailed'](){return this['skipFlakyAndFailed'];}[a133_0x55ad4b(0x18e)](_0x3010dc){const _0xc4126d=a133_0x55ad4b;this[_0xc4126d(0x1b3)]=!!_0x3010dc,this[_0xc4126d(0x183)]();}['_setTestOrdering'](){const _0x50621e=a133_0x55ad4b;if(this['runPreviouslyFailedFirst'])this[_0x50621e(0x195)]=![],this[_0x50621e(0x1b3)]=![],this['testOrdering'][_0x50621e(0x1b2)](RUN_PREVIOUSLY_FAILED_FIRST);else{if(this[_0x50621e(0x195)])this[_0x50621e(0x19e)]=![],this[_0x50621e(0x1b3)]=![],this[_0x50621e(0x18d)][_0x50621e(0x1b2)](RERUN_PREVIOUSLY_FAILED);else this[_0x50621e(0x1b3)]?(this[_0x50621e(0x19e)]=![],this[_0x50621e(0x195)]=![],this[_0x50621e(0x18d)][_0x50621e(0x1b2)](SKIP_FLAKY_AND_FAILED)):this[_0x50621e(0x18d)][_0x50621e(0x182)]();}}[a133_0x55ad4b(0x1b0)](){const _0x155118=a133_0x55ad4b;return this[_0x155118(0x18d)][_0x155118(0x1b1)]();}[a133_0x55ad4b(0x191)](){const _0x36049d=a133_0x55ad4b;if(this['testOrdering']['getEnabled']())return this[_0x36049d(0x18d)][_0x36049d(0x18c)]();return null;}[a133_0x55ad4b(0x19a)](){const _0x5f16c5=a133_0x55ad4b,_0x386982={};return _0x386982[_0x5f16c5(0x193)]={'enabled':this[_0x5f16c5(0x196)]()},_0x386982[_0x5f16c5(0x19d)]={'enabled':this['getRunPreviouslyFailedFirst']()},_0x386982['skip_failing_and_flaky']={'enabled':this[_0x5f16c5(0x192)]()},this[_0x5f16c5(0x1a4)]()&&(_0x386982[_0x5f16c5(0x197)]={'enabled':!![],'max_retries':this[_0x5f16c5(0x1ab)]()}),this[_0x5f16c5(0x1a5)]()&&(_0x386982['abort_build_on_failure']={'enabled':!![],'max_failures':this[_0x5f16c5(0x1bc)]()}),_0x386982;}}module[a133_0x55ad4b(0x1a2)]=OrchestrationUtils;