const a124_0x351491=a124_0x5ce8;(function(_0x5e3c37,_0x559bb8){const _0x1c720c=a124_0x5ce8,_0x468c09=_0x5e3c37();while(!![]){try{const _0x46408c=-parseInt(_0x1c720c(0xa6))/0x1+parseInt(_0x1c720c(0x89))/0x2*(parseInt(_0x1c720c(0x82))/0x3)+-parseInt(_0x1c720c(0x7a))/0x4*(parseInt(_0x1c720c(0x85))/0x5)+parseInt(_0x1c720c(0x93))/0x6*(-parseInt(_0x1c720c(0x6d))/0x7)+-parseInt(_0x1c720c(0x73))/0x8*(parseInt(_0x1c720c(0xa4))/0x9)+-parseInt(_0x1c720c(0x66))/0xa*(parseInt(_0x1c720c(0x9c))/0xb)+parseInt(_0x1c720c(0xa1))/0xc*(parseInt(_0x1c720c(0x68))/0xd);if(_0x46408c===_0x559bb8)break;else _0x468c09['push'](_0x468c09['shift']());}catch(_0x26634b){_0x468c09['push'](_0x468c09['shift']());}}}(a124_0x4c73,0xe53b2));const os=require('os'),path=require(a124_0x351491(0xa7)),fs=require('fs'),logger=require(a124_0x351491(0x75))[a124_0x351491(0x9a)],RETRY_TESTS_ON_FAILURE=a124_0x351491(0x97),ABORT_BUILD_ON_FAILURE='abortBuildOnFailure',RUN_PREVIOUSLY_FAILED_FIRST='runPreviouslyFailedFirst',RERUN_PREVIOUSLY_FAILED=a124_0x351491(0xa2),SKIP_FLAKY_AND_FAILED='skipFlakyandFailed',ALLOWED_ORCHESTRATION_KEYS=new Set([RETRY_TESTS_ON_FAILURE,ABORT_BUILD_ON_FAILURE,RUN_PREVIOUSLY_FAILED_FIRST,RERUN_PREVIOUSLY_FAILED,SKIP_FLAKY_AND_FAILED]),ABORT_BUILD_SUPPORTED_FRAMEWORKS=new Set([a124_0x351491(0x99)]);function a124_0x4c73(){const _0x2cf6d0=['_setTestOrdering','isRetryEnabled','5VsHIxo','writeFailureToFile','getTestOrderingName','disable','28WlHicx','getOrchestrationData','vTnhU','join','config','appendFileSync','existsSync','testOrdering','UTgzP','getRetryCount','78534aVRHzj','enabled','enable','name','retryTestsOnFailure','getEnabled','jest','winstonLogger','toLowerCase','1570723Ztunyl','exports','_setRerunPreviouslyFailed','maxRetries','rerun_previously_failed','3020508awkzfW','rerunPreviouslyFailed','run_previously_failed_first','171OoVpCs','runPreviouslyFailedFirst','1731672RdVQlb','path','abort_build_on_failure','_setSkipFlakyAndFailed','env','90xSeasx','getBuildStartData','260WOUByb','getName','isAbortBuildOnFailureEnabled','_setRunPreviouslyFailedFirst','has','7yeSLuQ','getRerunPreviouslyFailed','testOrderingEnabled','BROWSERSTACK_TESTHUB_UUID','getRunPreviouslyFailedFirst','.txt','580344WvmDhD','retry_tests_on_failure','../logger','getSkipFlakyAndFailed','skipFlakyAndFailed','tmpdir','isAbortBuildOnFailureSupported','1420908AUGwnY','getInstance','checkAbortBuildFileExists','getFailureThreshold','testOrchestrationOptions','failed_tests_','maxFailures','_instance','143184QIHFVR'];a124_0x4c73=function(){return _0x2cf6d0;};return a124_0x4c73();}class TestOrdering{constructor(){const _0x24fc81=a124_0x351491;this['enabled']=![],this[_0x24fc81(0x96)]=null;}[a124_0x351491(0x95)](_0x1f5ff2){const _0x1f48af=a124_0x351491;this['enabled']=!![],this[_0x1f48af(0x96)]=_0x1f5ff2;}[a124_0x351491(0x88)](){const _0x58130a=a124_0x351491;this[_0x58130a(0x94)]=![],this[_0x58130a(0x96)]=null;}[a124_0x351491(0x98)](){const _0xd48df=a124_0x351491;return this[_0xd48df(0x94)];}['getName'](){const _0x22d872=a124_0x351491;return this[_0x22d872(0x96)];}}class OrchestrationUtils{static [a124_0x351491(0x81)]=null;constructor(_0x489803){const _0x594c5e=a124_0x351491,_0x46b01b={};_0x46b01b[_0x594c5e(0x91)]=function(_0x2303f9,_0x17629c){return _0x2303f9||_0x17629c;};const _0x10128b=_0x46b01b;this[_0x594c5e(0xa5)]=![],this[_0x594c5e(0xa2)]=![],this[_0x594c5e(0x77)]=![],this['testOrdering']=new TestOrdering(),this[_0x594c5e(0x8d)]=_0x10128b[_0x594c5e(0x91)](_0x489803,{});const _0x154630=_0x489803&&_0x489803[_0x594c5e(0x7e)]||{};this['_setRunPreviouslyFailedFirst'](_0x154630[RUN_PREVIOUSLY_FAILED_FIRST]||![]),this[_0x594c5e(0x9e)](_0x154630[RERUN_PREVIOUSLY_FAILED]||![]),this[_0x594c5e(0x64)](_0x154630[SKIP_FLAKY_AND_FAILED]||![]);}static[a124_0x351491(0x7b)](_0x2aad4c){const _0x3ec933=a124_0x351491;return!OrchestrationUtils[_0x3ec933(0x81)]&&_0x2aad4c&&(OrchestrationUtils[_0x3ec933(0x81)]=new OrchestrationUtils(_0x2aad4c)),OrchestrationUtils[_0x3ec933(0x81)];}[a124_0x351491(0x84)](){const _0x5acb3e=a124_0x351491,_0x5e7c30=(this[_0x5acb3e(0x8d)][_0x5acb3e(0x7e)]||{})[RETRY_TESTS_ON_FAILURE]||{};return!!_0x5e7c30[_0x5acb3e(0x94)];}[a124_0x351491(0x92)](){const _0x1f6ea4=a124_0x351491,_0x51eda9=(this['config'][_0x1f6ea4(0x7e)]||{})[RETRY_TESTS_ON_FAILURE]||{};let _0x4f9a13=0x0;return this['isRetryEnabled'](this[_0x1f6ea4(0x8d)])&&(_0x4f9a13=_0x51eda9[_0x1f6ea4(0x9f)]||0x1),_0x4f9a13;}[a124_0x351491(0x8a)](){const _0x17e051=a124_0x351491,_0x1bbac3=this[_0x17e051(0x8d)][_0x17e051(0x7e)]||{},_0x20f9a6={};for(const _0x3f9b5e in _0x1bbac3){ALLOWED_ORCHESTRATION_KEYS['has'](_0x3f9b5e)&&(_0x20f9a6[_0x3f9b5e]=_0x1bbac3[_0x3f9b5e]);}return _0x20f9a6;}[a124_0x351491(0x7c)](){const _0x358e02=a124_0x351491,_0x5b0aff=process['env'][_0x358e02(0x70)],_0x96df2a=path[_0x358e02(0x8c)](os[_0x358e02(0x78)](),'abort_build_'+_0x5b0aff);return fs[_0x358e02(0x8f)](_0x96df2a);}[a124_0x351491(0x86)](_0x2a9ca2){const _0x5359e5=a124_0x351491,_0x161c2a=process[_0x5359e5(0x65)][_0x5359e5(0x70)],_0x4b873d=path[_0x5359e5(0x8c)](os[_0x5359e5(0x78)](),_0x5359e5(0x7f)+_0x161c2a+_0x5359e5(0x72));fs[_0x5359e5(0x8e)](_0x4b873d,_0x2a9ca2+'\x0a');}[a124_0x351491(0x79)](_0x30e723){const _0x8cbbab=a124_0x351491,_0x44c603={};_0x44c603[_0x8cbbab(0x8b)]=function(_0x6f0710,_0x8a756){return _0x6f0710||_0x8a756;};const _0x45401b=_0x44c603;return ABORT_BUILD_SUPPORTED_FRAMEWORKS[_0x8cbbab(0x6c)](_0x45401b['vTnhU'](_0x30e723,'')[_0x8cbbab(0x9b)]());}[a124_0x351491(0x6a)](){const _0x538104=a124_0x351491,_0x5a020d=(this[_0x538104(0x8d)][_0x538104(0x7e)]||{})[ABORT_BUILD_ON_FAILURE]||{};return!!_0x5a020d[_0x538104(0x94)];}[a124_0x351491(0x7d)](){const _0x3156b8=a124_0x351491,_0x50e1c2=(this[_0x3156b8(0x8d)][_0x3156b8(0x7e)]||{})[ABORT_BUILD_ON_FAILURE]||{};return _0x50e1c2[_0x3156b8(0x80)]||0x5;;}['getRunPreviouslyFailedFirst'](){const _0x27a85b=a124_0x351491;return this[_0x27a85b(0xa5)];}[a124_0x351491(0x6b)](_0x28c784){const _0x28feac=a124_0x351491;this[_0x28feac(0xa5)]=!!_0x28c784,this[_0x28feac(0x83)]();}[a124_0x351491(0x6e)](){const _0x3913b1=a124_0x351491;return this[_0x3913b1(0xa2)];}[a124_0x351491(0x9e)](_0xe6593e){const _0x514d60=a124_0x351491;this['rerunPreviouslyFailed']=!!_0xe6593e,this[_0x514d60(0x83)]();}[a124_0x351491(0x76)](){const _0x4864a4=a124_0x351491;return this[_0x4864a4(0x77)];}[a124_0x351491(0x64)](_0x19ee1a){const _0x298998=a124_0x351491;this[_0x298998(0x77)]=!!_0x19ee1a,this[_0x298998(0x83)]();}[a124_0x351491(0x83)](){const _0x549b0e=a124_0x351491;if(this['runPreviouslyFailedFirst'])this[_0x549b0e(0xa2)]=![],this[_0x549b0e(0x77)]=![],this['testOrdering']['enable'](RUN_PREVIOUSLY_FAILED_FIRST);else{if(this[_0x549b0e(0xa2)])this[_0x549b0e(0xa5)]=![],this['skipFlakyAndFailed']=![],this[_0x549b0e(0x90)][_0x549b0e(0x95)](RERUN_PREVIOUSLY_FAILED);else this['skipFlakyAndFailed']?(this[_0x549b0e(0xa5)]=![],this[_0x549b0e(0xa2)]=![],this[_0x549b0e(0x90)][_0x549b0e(0x95)](SKIP_FLAKY_AND_FAILED)):this[_0x549b0e(0x90)]['disable']();}}[a124_0x351491(0x6f)](){const _0x40cecd=a124_0x351491;return this['testOrdering'][_0x40cecd(0x98)]();}[a124_0x351491(0x87)](){const _0x25e316=a124_0x351491;if(this[_0x25e316(0x90)][_0x25e316(0x98)]())return this['testOrdering'][_0x25e316(0x69)]();return null;}[a124_0x351491(0x67)](){const _0x19476b=a124_0x351491,_0x285a3b={};return _0x285a3b[_0x19476b(0xa0)]={'enabled':this[_0x19476b(0x6e)]()},_0x285a3b[_0x19476b(0xa3)]={'enabled':this[_0x19476b(0x71)]()},_0x285a3b['skip_failing_and_flaky']={'enabled':this[_0x19476b(0x76)]()},this[_0x19476b(0x84)]()&&(_0x285a3b[_0x19476b(0x74)]={'enabled':!![],'max_retries':this['getRetryCount']()}),this['isAbortBuildOnFailureEnabled']()&&(_0x285a3b[_0x19476b(0xa8)]={'enabled':!![],'max_failures':this[_0x19476b(0x7d)]()}),_0x285a3b;}}function a124_0x5ce8(_0x6921a2,_0x2eb2ba){const _0x4c7324=a124_0x4c73();return a124_0x5ce8=function(_0x5ce8c5,_0x3de9f2){_0x5ce8c5=_0x5ce8c5-0x64;let _0x245181=_0x4c7324[_0x5ce8c5];return _0x245181;},a124_0x5ce8(_0x6921a2,_0x2eb2ba);}module[a124_0x351491(0x9d)]=OrchestrationUtils;