const a124_0x2c102f=a124_0x48e6;(function(_0x226286,_0x451d18){const _0x5cc079=a124_0x48e6,_0x444612=_0x226286();while(!![]){try{const _0x5e0cfa=parseInt(_0x5cc079(0x117))/0x1+parseInt(_0x5cc079(0x127))/0x2+-parseInt(_0x5cc079(0x106))/0x3*(parseInt(_0x5cc079(0x122))/0x4)+parseInt(_0x5cc079(0x135))/0x5+-parseInt(_0x5cc079(0x131))/0x6+-parseInt(_0x5cc079(0x114))/0x7*(parseInt(_0x5cc079(0x11b))/0x8)+parseInt(_0x5cc079(0x12a))/0x9;if(_0x5e0cfa===_0x451d18)break;else _0x444612['push'](_0x444612['shift']());}catch(_0x52afdd){_0x444612['push'](_0x444612['shift']());}}}(a124_0x2ca6,0x7eb1c));const os=require('os'),path=require(a124_0x2c102f(0x130)),fs=require('fs'),logger=require(a124_0x2c102f(0x118))[a124_0x2c102f(0x113)],RETRY_TESTS_ON_FAILURE=a124_0x2c102f(0x10a),ABORT_BUILD_ON_FAILURE='abortBuildOnFailure',RUN_PREVIOUSLY_FAILED_FIRST=a124_0x2c102f(0x11c),RERUN_PREVIOUSLY_FAILED='rerunPreviouslyFailed',SKIP_FLAKY_AND_FAILED=a124_0x2c102f(0x12b),ALLOWED_ORCHESTRATION_KEYS=new Set([RETRY_TESTS_ON_FAILURE,ABORT_BUILD_ON_FAILURE,RUN_PREVIOUSLY_FAILED_FIRST,RERUN_PREVIOUSLY_FAILED,SKIP_FLAKY_AND_FAILED]),ABORT_BUILD_SUPPORTED_FRAMEWORKS=new Set(['jest']);function a124_0x2ca6(){const _0x3e16ac=['join','env','retry_tests_on_failure','testOrdering','enable','getInstance','getOrchestrationData','3mPdTWA','getFailureThreshold','maxFailures','getEnabled','retryTestsOnFailure','isRetryEnabled','has','isAbortBuildOnFailureEnabled','_setRerunPreviouslyFailed','testOrchestrationOptions','testOrderingEnabled','run_previously_failed_first','config','winstonLogger','4410098hXEVZd','getRerunPreviouslyFailed','getRetryCount','722899qfIJEF','../logger','rerunPreviouslyFailed','TVdDS','8ryUJGN','runPreviouslyFailedFirst','_setSkipFlakyAndFailed','failed_tests_','skip_failing_and_flaky','getBuildStartData','skipFlakyAndFailed','3557848QPgMXT','writeFailureToFile','BROWSERSTACK_TESTHUB_UUID','exports','abort_build_on_failure','186714IivvxD','disable','_setTestOrdering','8627292MiFwTc','skipFlakyandFailed','name','abort_build_','existsSync','_instance','path','4180416qTzYnn','isAbortBuildOnFailureSupported','getSkipFlakyAndFailed','toLowerCase','4801540joINIW','maxRetries','_setRunPreviouslyFailedFirst','DUOCk','enabled','tmpdir','getName'];a124_0x2ca6=function(){return _0x3e16ac;};return a124_0x2ca6();}class TestOrdering{constructor(){const _0x403a98=a124_0x2c102f;this[_0x403a98(0x139)]=![],this[_0x403a98(0x12c)]=null;}[a124_0x2c102f(0x103)](_0x3f899a){const _0x43744a=a124_0x2c102f;this[_0x43744a(0x139)]=!![],this[_0x43744a(0x12c)]=_0x3f899a;}[a124_0x2c102f(0x128)](){const _0x25f265=a124_0x2c102f;this[_0x25f265(0x139)]=![],this[_0x25f265(0x12c)]=null;}['getEnabled'](){return this['enabled'];}[a124_0x2c102f(0x13b)](){const _0x5a2ebd=a124_0x2c102f;return this[_0x5a2ebd(0x12c)];}}function a124_0x48e6(_0x3b0e0c,_0x5a36e6){const _0x2ca656=a124_0x2ca6();return a124_0x48e6=function(_0x48e6ac,_0x49a1f){_0x48e6ac=_0x48e6ac-0x103;let _0x4b6fe6=_0x2ca656[_0x48e6ac];return _0x4b6fe6;},a124_0x48e6(_0x3b0e0c,_0x5a36e6);}class OrchestrationUtils{static [a124_0x2c102f(0x12f)]=null;constructor(_0x196580){const _0xe568d3=a124_0x2c102f,_0x189b8c={};_0x189b8c[_0xe568d3(0x138)]=function(_0x2d92b5,_0x1ab767){return _0x2d92b5||_0x1ab767;};const _0x3da197=_0x189b8c;this[_0xe568d3(0x11c)]=![],this[_0xe568d3(0x119)]=![],this['skipFlakyAndFailed']=![],this[_0xe568d3(0x13f)]=new TestOrdering(),this['config']=_0x3da197[_0xe568d3(0x138)](_0x196580,{});const _0xc5944c=_0x196580&&_0x196580[_0xe568d3(0x10f)]||{};this['_setRunPreviouslyFailedFirst'](_0xc5944c[RUN_PREVIOUSLY_FAILED_FIRST]||![]),this[_0xe568d3(0x10e)](_0xc5944c[RERUN_PREVIOUSLY_FAILED]||![]),this[_0xe568d3(0x11d)](_0xc5944c[SKIP_FLAKY_AND_FAILED]||![]);}static[a124_0x2c102f(0x104)](_0x1af99f){const _0x2974f6=a124_0x2c102f;return!OrchestrationUtils[_0x2974f6(0x12f)]&&_0x1af99f&&(OrchestrationUtils['_instance']=new OrchestrationUtils(_0x1af99f)),OrchestrationUtils[_0x2974f6(0x12f)];}[a124_0x2c102f(0x10b)](){const _0x3457bb=a124_0x2c102f,_0x41ac90=(this[_0x3457bb(0x112)]['testOrchestrationOptions']||{})[RETRY_TESTS_ON_FAILURE]||{};return!!_0x41ac90[_0x3457bb(0x139)];}[a124_0x2c102f(0x116)](){const _0x29604c=a124_0x2c102f,_0x5cd5c7=(this[_0x29604c(0x112)][_0x29604c(0x10f)]||{})[RETRY_TESTS_ON_FAILURE]||{};let _0x16b99d=0x0;return this[_0x29604c(0x10b)](this[_0x29604c(0x112)])&&(_0x16b99d=_0x5cd5c7[_0x29604c(0x136)]||0x1),_0x16b99d;}[a124_0x2c102f(0x105)](){const _0x37b042=a124_0x2c102f,_0x264178=this[_0x37b042(0x112)]['testOrchestrationOptions']||{},_0x1e982d={};for(const _0x3bece7 in _0x264178){ALLOWED_ORCHESTRATION_KEYS[_0x37b042(0x10c)](_0x3bece7)&&(_0x1e982d[_0x3bece7]=_0x264178[_0x3bece7]);}return _0x1e982d;}['checkAbortBuildFileExists'](){const _0x1ab352=a124_0x2c102f,_0x6b285c=process[_0x1ab352(0x13d)]['BROWSERSTACK_TESTHUB_UUID'],_0x478dda=path[_0x1ab352(0x13c)](os['tmpdir'](),_0x1ab352(0x12d)+_0x6b285c);return fs[_0x1ab352(0x12e)](_0x478dda);}[a124_0x2c102f(0x123)](_0x53f285){const _0x28fc8c=a124_0x2c102f,_0x4fb06b=process[_0x28fc8c(0x13d)][_0x28fc8c(0x124)],_0xd4ccb4=path[_0x28fc8c(0x13c)](os[_0x28fc8c(0x13a)](),_0x28fc8c(0x11e)+_0x4fb06b+'.txt');fs['appendFileSync'](_0xd4ccb4,_0x53f285+'\x0a');}[a124_0x2c102f(0x132)](_0x3f30a4){const _0x4e3df9=a124_0x2c102f,_0x370e77={};_0x370e77[_0x4e3df9(0x11a)]=function(_0x5e891c,_0x418cc5){return _0x5e891c||_0x418cc5;};const _0x550ac2=_0x370e77;return ABORT_BUILD_SUPPORTED_FRAMEWORKS[_0x4e3df9(0x10c)](_0x550ac2['TVdDS'](_0x3f30a4,'')[_0x4e3df9(0x134)]());}['isAbortBuildOnFailureEnabled'](){const _0xae7f3=a124_0x2c102f,_0x542ba8=(this[_0xae7f3(0x112)]['testOrchestrationOptions']||{})[ABORT_BUILD_ON_FAILURE]||{};return!!_0x542ba8['enabled'];}['getFailureThreshold'](){const _0x522bd6=a124_0x2c102f,_0x246095=(this['config'][_0x522bd6(0x10f)]||{})[ABORT_BUILD_ON_FAILURE]||{};return _0x246095[_0x522bd6(0x108)]||0x5;;}['getRunPreviouslyFailedFirst'](){return this['runPreviouslyFailedFirst'];}[a124_0x2c102f(0x137)](_0x5230a1){const _0x7b0dae=a124_0x2c102f;this[_0x7b0dae(0x11c)]=!!_0x5230a1,this[_0x7b0dae(0x129)]();}[a124_0x2c102f(0x115)](){const _0x3a4cc7=a124_0x2c102f;return this[_0x3a4cc7(0x119)];}[a124_0x2c102f(0x10e)](_0x4da696){const _0x239083=a124_0x2c102f;this[_0x239083(0x119)]=!!_0x4da696,this[_0x239083(0x129)]();}[a124_0x2c102f(0x133)](){const _0x10a549=a124_0x2c102f;return this[_0x10a549(0x121)];}[a124_0x2c102f(0x11d)](_0x23b194){const _0x2b047d=a124_0x2c102f;this[_0x2b047d(0x121)]=!!_0x23b194,this[_0x2b047d(0x129)]();}[a124_0x2c102f(0x129)](){const _0x3a8b4b=a124_0x2c102f;if(this[_0x3a8b4b(0x11c)])this[_0x3a8b4b(0x119)]=![],this[_0x3a8b4b(0x121)]=![],this[_0x3a8b4b(0x13f)][_0x3a8b4b(0x103)](RUN_PREVIOUSLY_FAILED_FIRST);else{if(this['rerunPreviouslyFailed'])this[_0x3a8b4b(0x11c)]=![],this[_0x3a8b4b(0x121)]=![],this[_0x3a8b4b(0x13f)][_0x3a8b4b(0x103)](RERUN_PREVIOUSLY_FAILED);else this['skipFlakyAndFailed']?(this[_0x3a8b4b(0x11c)]=![],this[_0x3a8b4b(0x119)]=![],this['testOrdering'][_0x3a8b4b(0x103)](SKIP_FLAKY_AND_FAILED)):this[_0x3a8b4b(0x13f)][_0x3a8b4b(0x128)]();}}[a124_0x2c102f(0x110)](){const _0x4860d8=a124_0x2c102f;return this[_0x4860d8(0x13f)][_0x4860d8(0x109)]();}['getTestOrderingName'](){const _0x2debe4=a124_0x2c102f;if(this[_0x2debe4(0x13f)][_0x2debe4(0x109)]())return this[_0x2debe4(0x13f)][_0x2debe4(0x13b)]();return null;}[a124_0x2c102f(0x120)](){const _0x2a532f=a124_0x2c102f,_0x35c414={};return _0x35c414['rerun_previously_failed']={'enabled':this['getRerunPreviouslyFailed']()},_0x35c414[_0x2a532f(0x111)]={'enabled':this['getRunPreviouslyFailedFirst']()},_0x35c414[_0x2a532f(0x11f)]={'enabled':this[_0x2a532f(0x133)]()},this[_0x2a532f(0x10b)]()&&(_0x35c414[_0x2a532f(0x13e)]={'enabled':!![],'max_retries':this[_0x2a532f(0x116)]()}),this[_0x2a532f(0x10d)]()&&(_0x35c414[_0x2a532f(0x126)]={'enabled':!![],'max_failures':this[_0x2a532f(0x107)]()}),_0x35c414;}}module[a124_0x2c102f(0x125)]=OrchestrationUtils;