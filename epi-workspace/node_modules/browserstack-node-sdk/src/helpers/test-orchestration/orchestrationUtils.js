const a129_0x3974b1=a129_0x3798;(function(_0x105694,_0x439a46){const _0x51e819=a129_0x3798,_0x3dc73c=_0x105694();while(!![]){try{const _0x26fdb4=-parseInt(_0x51e819(0xc2))/0x1*(-parseInt(_0x51e819(0xcd))/0x2)+parseInt(_0x51e819(0xa6))/0x3*(parseInt(_0x51e819(0xc3))/0x4)+-parseInt(_0x51e819(0xaf))/0x5*(-parseInt(_0x51e819(0x95))/0x6)+-parseInt(_0x51e819(0x9a))/0x7+-parseInt(_0x51e819(0xa0))/0x8*(-parseInt(_0x51e819(0xa5))/0x9)+parseInt(_0x51e819(0xa8))/0xa+parseInt(_0x51e819(0xb6))/0xb;if(_0x26fdb4===_0x439a46)break;else _0x3dc73c['push'](_0x3dc73c['shift']());}catch(_0x4982ea){_0x3dc73c['push'](_0x3dc73c['shift']());}}}(a129_0x562c,0xe56bc));const os=require('os'),path=require('path'),fs=require('fs'),logger=require(a129_0x3974b1(0xa4))['winstonLogger'],RETRY_TESTS_ON_FAILURE=a129_0x3974b1(0xd0),ABORT_BUILD_ON_FAILURE=a129_0x3974b1(0x98),RUN_PREVIOUSLY_FAILED_FIRST=a129_0x3974b1(0xc4),RERUN_PREVIOUSLY_FAILED=a129_0x3974b1(0xb1),SKIP_FLAKY_AND_FAILED=a129_0x3974b1(0x96),ALLOWED_ORCHESTRATION_KEYS=new Set([RETRY_TESTS_ON_FAILURE,ABORT_BUILD_ON_FAILURE,RUN_PREVIOUSLY_FAILED_FIRST,RERUN_PREVIOUSLY_FAILED,SKIP_FLAKY_AND_FAILED]),ABORT_BUILD_SUPPORTED_FRAMEWORKS=new Set([a129_0x3974b1(0xbb)]);class TestOrdering{constructor(){const _0x58c560=a129_0x3974b1;this[_0x58c560(0x97)]=![],this[_0x58c560(0xd1)]=null;}['enable'](_0x398cd6){const _0x28b5e1=a129_0x3974b1;this[_0x28b5e1(0x97)]=!![],this[_0x28b5e1(0xd1)]=_0x398cd6;}[a129_0x3974b1(0xc6)](){this['enabled']=![],this['name']=null;}[a129_0x3974b1(0xb8)](){return this['enabled'];}['getName'](){const _0x5d93b6=a129_0x3974b1;return this[_0x5d93b6(0xd1)];}}function a129_0x3798(_0x300115,_0x31f92b){const _0x562c7a=a129_0x562c();return a129_0x3798=function(_0x379850,_0x5c2ac8){_0x379850=_0x379850-0x94;let _0x9e8bb2=_0x562c7a[_0x379850];return _0x9e8bb2;},a129_0x3798(_0x300115,_0x31f92b);}class OrchestrationUtils{static ['_instance']=null;constructor(_0x3d7e56){const _0x1d1b2e=a129_0x3974b1,_0x53fbbd={};_0x53fbbd['xrfqT']=function(_0x355e49,_0x37e3de){return _0x355e49||_0x37e3de;};const _0x1c9ed6=_0x53fbbd;this[_0x1d1b2e(0xc4)]=![],this[_0x1d1b2e(0xb1)]=![],this[_0x1d1b2e(0xa2)]=![],this[_0x1d1b2e(0xb7)]=new TestOrdering(),this['config']=_0x1c9ed6['xrfqT'](_0x3d7e56,{});const _0x400450=_0x3d7e56&&_0x3d7e56['testOrchestrationOptions']||{};this[_0x1d1b2e(0x99)](_0x400450[RUN_PREVIOUSLY_FAILED_FIRST]||![]),this['_setRerunPreviouslyFailed'](_0x400450[RERUN_PREVIOUSLY_FAILED]||![]),this['_setSkipFlakyAndFailed'](_0x400450[SKIP_FLAKY_AND_FAILED]||![]);}static[a129_0x3974b1(0xcf)](_0x58670e){const _0x1a3ad0=a129_0x3974b1;return!OrchestrationUtils[_0x1a3ad0(0xb4)]&&_0x58670e&&(OrchestrationUtils[_0x1a3ad0(0xb4)]=new OrchestrationUtils(_0x58670e)),OrchestrationUtils['_instance'];}[a129_0x3974b1(0x9d)](){const _0x37c121=a129_0x3974b1,_0x4d2c6b=(this['config']['testOrchestrationOptions']||{})[RETRY_TESTS_ON_FAILURE]||{};return!!_0x4d2c6b[_0x37c121(0x97)];}['getRetryCount'](){const _0x37c555=a129_0x3974b1,_0xd781c3=(this[_0x37c555(0xa1)][_0x37c555(0xa3)]||{})[RETRY_TESTS_ON_FAILURE]||{};let _0xb3468a=0x0;return this[_0x37c555(0x9d)](this[_0x37c555(0xa1)])&&(_0xb3468a=_0xd781c3['maxRetries']||0x1),_0xb3468a;}[a129_0x3974b1(0xad)](){const _0x19fc95=a129_0x3974b1,_0x1b9d15=this['config'][_0x19fc95(0xa3)]||{},_0x465c23={};for(const _0x103fe1 in _0x1b9d15){ALLOWED_ORCHESTRATION_KEYS[_0x19fc95(0x94)](_0x103fe1)&&(_0x465c23[_0x103fe1]=_0x1b9d15[_0x103fe1]);}return _0x465c23;}['checkAbortBuildFileExists'](){const _0x1739cd=a129_0x3974b1,_0x4b5672=process[_0x1739cd(0xa9)][_0x1739cd(0x9b)],_0x4504d6=path[_0x1739cd(0xbd)](os[_0x1739cd(0x9c)](),_0x1739cd(0xc8)+_0x4b5672);return fs[_0x1739cd(0xb3)](_0x4504d6);}[a129_0x3974b1(0xab)](_0x8f8b64){const _0x9cdf9f=a129_0x3974b1,_0x550538=process['env'][_0x9cdf9f(0x9b)],_0xd877a8=path['join'](os[_0x9cdf9f(0x9c)](),_0x9cdf9f(0xa7)+_0x550538+'.txt');fs[_0x9cdf9f(0xbe)](_0xd877a8,_0x8f8b64+'\x0a');}[a129_0x3974b1(0xce)](_0xb85214){const _0x3ad0c9=a129_0x3974b1,_0x4bb7e3={};_0x4bb7e3[_0x3ad0c9(0xcc)]=function(_0x2d074a,_0x54d717){return _0x2d074a||_0x54d717;};const _0x3d44a2=_0x4bb7e3;return ABORT_BUILD_SUPPORTED_FRAMEWORKS[_0x3ad0c9(0x94)](_0x3d44a2[_0x3ad0c9(0xcc)](_0xb85214,'')['toLowerCase']());}['isAbortBuildOnFailureEnabled'](){const _0x1cead8=a129_0x3974b1,_0x36455b=(this['config'][_0x1cead8(0xa3)]||{})[ABORT_BUILD_ON_FAILURE]||{};return!!_0x36455b[_0x1cead8(0x97)];}[a129_0x3974b1(0xcb)](){const _0x516393=a129_0x3974b1,_0x598964=(this[_0x516393(0xa1)][_0x516393(0xa3)]||{})[ABORT_BUILD_ON_FAILURE]||{};return _0x598964[_0x516393(0xac)]||0x5;;}['getRunPreviouslyFailedFirst'](){return this['runPreviouslyFailedFirst'];}[a129_0x3974b1(0x99)](_0x5c723f){const _0x44a174=a129_0x3974b1;this[_0x44a174(0xc4)]=!!_0x5c723f,this[_0x44a174(0xae)]();}['getRerunPreviouslyFailed'](){const _0x2558e9=a129_0x3974b1;return this[_0x2558e9(0xb1)];}[a129_0x3974b1(0xb5)](_0x9df978){const _0x1ee4e3=a129_0x3974b1;this[_0x1ee4e3(0xb1)]=!!_0x9df978,this[_0x1ee4e3(0xae)]();}[a129_0x3974b1(0xc0)](){return this['skipFlakyAndFailed'];}[a129_0x3974b1(0xca)](_0x5ab6f3){const _0x15c90e=a129_0x3974b1;this['skipFlakyAndFailed']=!!_0x5ab6f3,this[_0x15c90e(0xae)]();}[a129_0x3974b1(0xae)](){const _0x27785b=a129_0x3974b1;if(this[_0x27785b(0xc4)])this['rerunPreviouslyFailed']=![],this[_0x27785b(0xa2)]=![],this[_0x27785b(0xb7)][_0x27785b(0xaa)](RUN_PREVIOUSLY_FAILED_FIRST);else{if(this[_0x27785b(0xb1)])this[_0x27785b(0xc4)]=![],this[_0x27785b(0xa2)]=![],this[_0x27785b(0xb7)]['enable'](RERUN_PREVIOUSLY_FAILED);else this[_0x27785b(0xa2)]?(this[_0x27785b(0xc4)]=![],this[_0x27785b(0xb1)]=![],this[_0x27785b(0xb7)][_0x27785b(0xaa)](SKIP_FLAKY_AND_FAILED)):this[_0x27785b(0xb7)][_0x27785b(0xc6)]();}}[a129_0x3974b1(0x9f)](){const _0x2f5b9e=a129_0x3974b1;return this[_0x2f5b9e(0xb7)]['getEnabled']();}[a129_0x3974b1(0xba)](){const _0x391c4a=a129_0x3974b1;if(this[_0x391c4a(0xb7)][_0x391c4a(0xb8)]())return this[_0x391c4a(0xb7)][_0x391c4a(0xc7)]();return null;}[a129_0x3974b1(0xc5)](){const _0x8535ea=a129_0x3974b1,_0xe8fae5={};return _0xe8fae5[_0x8535ea(0xb2)]={'enabled':this[_0x8535ea(0xc9)]()},_0xe8fae5[_0x8535ea(0xb0)]={'enabled':this[_0x8535ea(0xc1)]()},_0xe8fae5[_0x8535ea(0xbf)]={'enabled':this[_0x8535ea(0xc0)]()},this[_0x8535ea(0x9d)]()&&(_0xe8fae5[_0x8535ea(0xb9)]={'enabled':!![],'max_retries':this[_0x8535ea(0x9e)]()}),this[_0x8535ea(0xbc)]()&&(_0xe8fae5['abort_build_on_failure']={'enabled':!![],'max_failures':this[_0x8535ea(0xcb)]()}),_0xe8fae5;}}function a129_0x562c(){const _0x4bb7e6=['13215XHsPss','run_previously_failed_first','rerunPreviouslyFailed','rerun_previously_failed','existsSync','_instance','_setRerunPreviouslyFailed','3119831JvxQry','testOrdering','getEnabled','retry_tests_on_failure','getTestOrderingName','jest','isAbortBuildOnFailureEnabled','join','appendFileSync','skip_failing_and_flaky','getSkipFlakyAndFailed','getRunPreviouslyFailedFirst','1htIBzx','220YGMwxE','runPreviouslyFailedFirst','getBuildStartData','disable','getName','abort_build_','getRerunPreviouslyFailed','_setSkipFlakyAndFailed','getFailureThreshold','nXaUm','979882yXOPVY','isAbortBuildOnFailureSupported','getInstance','retryTestsOnFailure','name','has','1170vJVLnB','skipFlakyandFailed','enabled','abortBuildOnFailure','_setRunPreviouslyFailedFirst','10001950SUIpbV','BROWSERSTACK_TESTHUB_UUID','tmpdir','isRetryEnabled','getRetryCount','testOrderingEnabled','8zwpSMm','config','skipFlakyAndFailed','testOrchestrationOptions','../logger','2359323poQPgy','42108VvKMaD','failed_tests_','454840eRxYof','env','enable','writeFailureToFile','maxFailures','getOrchestrationData','_setTestOrdering'];a129_0x562c=function(){return _0x4bb7e6;};return a129_0x562c();}module['exports']=OrchestrationUtils;