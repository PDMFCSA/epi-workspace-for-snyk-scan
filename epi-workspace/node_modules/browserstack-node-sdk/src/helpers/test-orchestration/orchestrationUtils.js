function a121_0xb6dc(){const _0x30b48c=['_setRunPreviouslyFailedFirst','getRunPreviouslyFailedFirst','toLowerCase','6161990isQnao','runPreviouslyFailedFirst','.txt','3723258UfvKah','env','skip_failing_and_flaky','4769168EFCrZE','193193YShYlz','abort_build_on_failure','isAbortBuildOnFailureSupported','testOrchestrationOptions','kvQqo','_instance','20KFEyNE','skipFlakyAndFailed','maxFailures','getFailureThreshold','abortBuildOnFailure','writeFailureToFile','config','isAbortBuildOnFailureEnabled','testOrderingEnabled','getEnabled','982866joVDAT','name','3BIxUNo','appendFileSync','276186QDonNL','enabled','_setTestOrdering','has','testOrdering','join','getOrchestrationData','retry_tests_on_failure','rerunPreviouslyFailed','getInstance','disable','getRetryCount','27ZhPXKo','enable','_setSkipFlakyAndFailed','getName','getSkipFlakyAndFailed','retryTestsOnFailure','PwwCc','tmpdir','437160gkPtwK','../logger','jest','getBuildStartData','rerun_previously_failed','run_previously_failed_first','_setRerunPreviouslyFailed','BROWSERSTACK_TESTHUB_UUID','getRerunPreviouslyFailed','path','skipFlakyandFailed','isRetryEnabled','existsSync'];a121_0xb6dc=function(){return _0x30b48c;};return a121_0xb6dc();}const a121_0x445330=a121_0x95ca;(function(_0x358a86,_0x13a662){const _0x208fd4=a121_0x95ca,_0xaf5d59=_0x358a86();while(!![]){try{const _0x520ae8=-parseInt(_0x208fd4(0x11e))/0x1+parseInt(_0x208fd4(0x12e))/0x2*(parseInt(_0x208fd4(0x130))/0x3)+parseInt(_0x208fd4(0x11d))/0x4+-parseInt(_0x208fd4(0x124))/0x5*(-parseInt(_0x208fd4(0x132))/0x6)+-parseInt(_0x208fd4(0x159))/0x7+parseInt(_0x208fd4(0x146))/0x8*(parseInt(_0x208fd4(0x13e))/0x9)+-parseInt(_0x208fd4(0x156))/0xa;if(_0x520ae8===_0x13a662)break;else _0xaf5d59['push'](_0xaf5d59['shift']());}catch(_0x321a74){_0xaf5d59['push'](_0xaf5d59['shift']());}}}(a121_0xb6dc,0xa8942));const os=require('os'),path=require(a121_0x445330(0x14f)),fs=require('fs'),logger=require(a121_0x445330(0x147))['winstonLogger'],RETRY_TESTS_ON_FAILURE=a121_0x445330(0x143),ABORT_BUILD_ON_FAILURE=a121_0x445330(0x128),RUN_PREVIOUSLY_FAILED_FIRST=a121_0x445330(0x157),RERUN_PREVIOUSLY_FAILED=a121_0x445330(0x13a),SKIP_FLAKY_AND_FAILED=a121_0x445330(0x150),ALLOWED_ORCHESTRATION_KEYS=new Set([RETRY_TESTS_ON_FAILURE,ABORT_BUILD_ON_FAILURE,RUN_PREVIOUSLY_FAILED_FIRST,RERUN_PREVIOUSLY_FAILED,SKIP_FLAKY_AND_FAILED]),ABORT_BUILD_SUPPORTED_FRAMEWORKS=new Set([a121_0x445330(0x148)]);class TestOrdering{constructor(){const _0x4936be=a121_0x445330;this[_0x4936be(0x133)]=![],this[_0x4936be(0x12f)]=null;}[a121_0x445330(0x13f)](_0x56c7d6){const _0x1bc35c=a121_0x445330;this[_0x1bc35c(0x133)]=!![],this[_0x1bc35c(0x12f)]=_0x56c7d6;}['disable'](){const _0x3f0c10=a121_0x445330;this[_0x3f0c10(0x133)]=![],this[_0x3f0c10(0x12f)]=null;}['getEnabled'](){const _0x3ddbeb=a121_0x445330;return this[_0x3ddbeb(0x133)];}[a121_0x445330(0x141)](){return this['name'];}}function a121_0x95ca(_0x52094c,_0x1b0de1){const _0xb6dc6f=a121_0xb6dc();return a121_0x95ca=function(_0x95ca3a,_0xd5912){_0x95ca3a=_0x95ca3a-0x11d;let _0x4fe1b8=_0xb6dc6f[_0x95ca3a];return _0x4fe1b8;},a121_0x95ca(_0x52094c,_0x1b0de1);}class OrchestrationUtils{static ['_instance']=null;constructor(_0x18bfec){const _0x1a5afb=a121_0x445330,_0x4324d7={};_0x4324d7[_0x1a5afb(0x144)]=function(_0x8de43b,_0x479199){return _0x8de43b||_0x479199;};const _0x2d4009=_0x4324d7;this[_0x1a5afb(0x157)]=![],this['rerunPreviouslyFailed']=![],this['skipFlakyAndFailed']=![],this[_0x1a5afb(0x136)]=new TestOrdering(),this[_0x1a5afb(0x12a)]=_0x2d4009[_0x1a5afb(0x144)](_0x18bfec,{});const _0x12dd4b=_0x18bfec&&_0x18bfec[_0x1a5afb(0x121)]||{};this[_0x1a5afb(0x153)](_0x12dd4b[RUN_PREVIOUSLY_FAILED_FIRST]||![]),this[_0x1a5afb(0x14c)](_0x12dd4b[RERUN_PREVIOUSLY_FAILED]||![]),this['_setSkipFlakyAndFailed'](_0x12dd4b[SKIP_FLAKY_AND_FAILED]||![]);}static[a121_0x445330(0x13b)](_0x406b84){const _0x2dbe86=a121_0x445330;return!OrchestrationUtils[_0x2dbe86(0x123)]&&_0x406b84&&(OrchestrationUtils[_0x2dbe86(0x123)]=new OrchestrationUtils(_0x406b84)),OrchestrationUtils[_0x2dbe86(0x123)];}[a121_0x445330(0x151)](){const _0x2183c9=a121_0x445330,_0x20d7b1=(this['config'][_0x2183c9(0x121)]||{})[RETRY_TESTS_ON_FAILURE]||{};return!!_0x20d7b1['enabled'];}[a121_0x445330(0x13d)](){const _0x5c107d=a121_0x445330,_0x49f063=(this['config'][_0x5c107d(0x121)]||{})[RETRY_TESTS_ON_FAILURE]||{};let _0x537c21=0x0;return this['isRetryEnabled'](this[_0x5c107d(0x12a)])&&(_0x537c21=_0x49f063['maxRetries']||0x1),_0x537c21;}[a121_0x445330(0x138)](){const _0x5a2e74=a121_0x445330,_0x5e6b6d=this[_0x5a2e74(0x12a)][_0x5a2e74(0x121)]||{},_0x5d4027={};for(const _0x21d31c in _0x5e6b6d){ALLOWED_ORCHESTRATION_KEYS[_0x5a2e74(0x135)](_0x21d31c)&&(_0x5d4027[_0x21d31c]=_0x5e6b6d[_0x21d31c]);}return _0x5d4027;}['checkAbortBuildFileExists'](){const _0x235312=a121_0x445330,_0x5bdb40=process[_0x235312(0x15a)][_0x235312(0x14d)],_0x34c597=path[_0x235312(0x137)](os['tmpdir'](),'abort_build_'+_0x5bdb40);return fs[_0x235312(0x152)](_0x34c597);}[a121_0x445330(0x129)](_0x2e68e1){const _0x390a8b=a121_0x445330,_0xf1f011=process[_0x390a8b(0x15a)]['BROWSERSTACK_TESTHUB_UUID'],_0x266a21=path['join'](os[_0x390a8b(0x145)](),'failed_tests_'+_0xf1f011+_0x390a8b(0x158));fs[_0x390a8b(0x131)](_0x266a21,_0x2e68e1+'\x0a');}[a121_0x445330(0x120)](_0x23bfba){const _0x573ed1=a121_0x445330,_0x374a10={};_0x374a10[_0x573ed1(0x122)]=function(_0x545d5b,_0x484088){return _0x545d5b||_0x484088;};const _0x51831c=_0x374a10;return ABORT_BUILD_SUPPORTED_FRAMEWORKS[_0x573ed1(0x135)](_0x51831c[_0x573ed1(0x122)](_0x23bfba,'')[_0x573ed1(0x155)]());}[a121_0x445330(0x12b)](){const _0x5d1e93=a121_0x445330,_0x394701=(this[_0x5d1e93(0x12a)]['testOrchestrationOptions']||{})[ABORT_BUILD_ON_FAILURE]||{};return!!_0x394701[_0x5d1e93(0x133)];}[a121_0x445330(0x127)](){const _0x2929a4=a121_0x445330,_0x4c8707=(this[_0x2929a4(0x12a)][_0x2929a4(0x121)]||{})[ABORT_BUILD_ON_FAILURE]||{};return _0x4c8707[_0x2929a4(0x126)]||0x5;;}['getRunPreviouslyFailedFirst'](){const _0x5d5d3b=a121_0x445330;return this[_0x5d5d3b(0x157)];}[a121_0x445330(0x153)](_0x2d49cd){const _0x518fe1=a121_0x445330;this[_0x518fe1(0x157)]=!!_0x2d49cd,this[_0x518fe1(0x134)]();}[a121_0x445330(0x14e)](){const _0x886507=a121_0x445330;return this[_0x886507(0x13a)];}[a121_0x445330(0x14c)](_0x20421f){const _0x22594d=a121_0x445330;this[_0x22594d(0x13a)]=!!_0x20421f,this['_setTestOrdering']();}[a121_0x445330(0x142)](){const _0x3454a0=a121_0x445330;return this[_0x3454a0(0x125)];}[a121_0x445330(0x140)](_0xf40588){this['skipFlakyAndFailed']=!!_0xf40588,this['_setTestOrdering']();}[a121_0x445330(0x134)](){const _0x1fbae7=a121_0x445330;if(this[_0x1fbae7(0x157)])this['rerunPreviouslyFailed']=![],this[_0x1fbae7(0x125)]=![],this[_0x1fbae7(0x136)]['enable'](RUN_PREVIOUSLY_FAILED_FIRST);else{if(this[_0x1fbae7(0x13a)])this[_0x1fbae7(0x157)]=![],this['skipFlakyAndFailed']=![],this['testOrdering'][_0x1fbae7(0x13f)](RERUN_PREVIOUSLY_FAILED);else this[_0x1fbae7(0x125)]?(this[_0x1fbae7(0x157)]=![],this[_0x1fbae7(0x13a)]=![],this['testOrdering']['enable'](SKIP_FLAKY_AND_FAILED)):this['testOrdering'][_0x1fbae7(0x13c)]();}}[a121_0x445330(0x12c)](){const _0x3d8213=a121_0x445330;return this[_0x3d8213(0x136)][_0x3d8213(0x12d)]();}['getTestOrderingName'](){const _0x3279b6=a121_0x445330;if(this['testOrdering'][_0x3279b6(0x12d)]())return this[_0x3279b6(0x136)][_0x3279b6(0x141)]();return null;}[a121_0x445330(0x149)](){const _0x4e7818=a121_0x445330,_0x16505e={};return _0x16505e[_0x4e7818(0x14a)]={'enabled':this[_0x4e7818(0x14e)]()},_0x16505e[_0x4e7818(0x14b)]={'enabled':this[_0x4e7818(0x154)]()},_0x16505e[_0x4e7818(0x15b)]={'enabled':this['getSkipFlakyAndFailed']()},this['isRetryEnabled']()&&(_0x16505e[_0x4e7818(0x139)]={'enabled':!![],'max_retries':this[_0x4e7818(0x13d)]()}),this[_0x4e7818(0x12b)]()&&(_0x16505e[_0x4e7818(0x11f)]={'enabled':!![],'max_failures':this['getFailureThreshold']()}),_0x16505e;}}module['exports']=OrchestrationUtils;