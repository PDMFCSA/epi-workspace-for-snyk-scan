const a134_0x32ef61=a134_0x1290;(function(_0x177bc5,_0x122d5d){const _0x2603a3=a134_0x1290,_0x50bfe3=_0x177bc5();while(!![]){try{const _0x142637=parseInt(_0x2603a3(0x12f))/0x1+-parseInt(_0x2603a3(0x141))/0x2+parseInt(_0x2603a3(0x133))/0x3*(-parseInt(_0x2603a3(0x11f))/0x4)+parseInt(_0x2603a3(0x146))/0x5*(-parseInt(_0x2603a3(0x142))/0x6)+parseInt(_0x2603a3(0x129))/0x7*(parseInt(_0x2603a3(0x12b))/0x8)+-parseInt(_0x2603a3(0x151))/0x9*(-parseInt(_0x2603a3(0x13e))/0xa)+parseInt(_0x2603a3(0x13b))/0xb*(parseInt(_0x2603a3(0x157))/0xc);if(_0x142637===_0x122d5d)break;else _0x50bfe3['push'](_0x50bfe3['shift']());}catch(_0x1f2bcd){_0x50bfe3['push'](_0x50bfe3['shift']());}}}(a134_0x36f6,0xb5d7b));const os=require('os'),path=require(a134_0x32ef61(0x122)),fs=require('fs'),logger=require(a134_0x32ef61(0x159))[a134_0x32ef61(0x11d)],RETRY_TESTS_ON_FAILURE=a134_0x32ef61(0x130),ABORT_BUILD_ON_FAILURE=a134_0x32ef61(0x135),RUN_PREVIOUSLY_FAILED_FIRST='runPreviouslyFailedFirst',RERUN_PREVIOUSLY_FAILED=a134_0x32ef61(0x120),SKIP_FLAKY_AND_FAILED='skipFlakyandFailed',ALLOWED_ORCHESTRATION_KEYS=new Set([RETRY_TESTS_ON_FAILURE,ABORT_BUILD_ON_FAILURE,RUN_PREVIOUSLY_FAILED_FIRST,RERUN_PREVIOUSLY_FAILED,SKIP_FLAKY_AND_FAILED]),ABORT_BUILD_SUPPORTED_FRAMEWORKS=new Set([a134_0x32ef61(0x154)]);function a134_0x36f6(){const _0x146538=['writeFailureToFile','2676uESKYM','skip_failing_and_flaky','../logger','testOrchestrationOptions','winstonLogger','has','32EdmGrA','rerunPreviouslyFailed','getRunPreviouslyFailedFirst','path','_instance','.txt','disable','getRetryCount','getTestOrderingName','isAbortBuildOnFailureSupported','35jSaLjY','config','1327288ctyxfK','getFailureThreshold','runPreviouslyFailedFirst','rerun_previously_failed','816416aMqyJV','retryTestsOnFailure','enable','maxRetries','13563OHMSLk','abort_build_','abortBuildOnFailure','tmpdir','getRerunPreviouslyFailed','_setSkipFlakyAndFailed','XNulF','getName','4873MakToP','join','getInstance','9080MoYbXs','getOrchestrationData','BROWSERSTACK_TESTHUB_UUID','2763720JcUMBa','1833486VRzaVu','maxFailures','retry_tests_on_failure','isRetryEnabled','5KFZEXO','testOrdering','name','skipFlakyAndFailed','getBuildStartData','env','isAbortBuildOnFailureEnabled','_setRerunPreviouslyFailed','enabled','_setTestOrdering','exports','7173QGCELn','existsSync','getEnabled','jest','checkAbortBuildFileExists'];a134_0x36f6=function(){return _0x146538;};return a134_0x36f6();}class TestOrdering{constructor(){const _0x5c5499=a134_0x32ef61;this[_0x5c5499(0x14e)]=![],this[_0x5c5499(0x148)]=null;}[a134_0x32ef61(0x131)](_0x206017){this['enabled']=!![],this['name']=_0x206017;}['disable'](){const _0x11c1fd=a134_0x32ef61;this[_0x11c1fd(0x14e)]=![],this[_0x11c1fd(0x148)]=null;}['getEnabled'](){const _0x2826f7=a134_0x32ef61;return this[_0x2826f7(0x14e)];}['getName'](){const _0x2fe8bf=a134_0x32ef61;return this[_0x2fe8bf(0x148)];}}function a134_0x1290(_0x23dc69,_0x471811){const _0x36f6fe=a134_0x36f6();return a134_0x1290=function(_0x129049,_0x935a5){_0x129049=_0x129049-0x11c;let _0x87e9a1=_0x36f6fe[_0x129049];return _0x87e9a1;},a134_0x1290(_0x23dc69,_0x471811);}class OrchestrationUtils{static [a134_0x32ef61(0x123)]=null;constructor(_0x45a0c3){const _0x591af2=a134_0x32ef61,_0x5b932f={};_0x5b932f['IFHtO']=function(_0x2b5843,_0xa796b2){return _0x2b5843||_0xa796b2;};const _0x30e5cd=_0x5b932f;this[_0x591af2(0x12d)]=![],this[_0x591af2(0x120)]=![],this[_0x591af2(0x149)]=![],this[_0x591af2(0x147)]=new TestOrdering(),this['config']=_0x30e5cd['IFHtO'](_0x45a0c3,{});const _0x13741e=_0x45a0c3&&_0x45a0c3[_0x591af2(0x11c)]||{};this['_setRunPreviouslyFailedFirst'](_0x13741e[RUN_PREVIOUSLY_FAILED_FIRST]||![]),this[_0x591af2(0x14d)](_0x13741e[RERUN_PREVIOUSLY_FAILED]||![]),this['_setSkipFlakyAndFailed'](_0x13741e[SKIP_FLAKY_AND_FAILED]||![]);}static[a134_0x32ef61(0x13d)](_0x112be5){const _0x3bb1e6=a134_0x32ef61;return!OrchestrationUtils[_0x3bb1e6(0x123)]&&_0x112be5&&(OrchestrationUtils[_0x3bb1e6(0x123)]=new OrchestrationUtils(_0x112be5)),OrchestrationUtils[_0x3bb1e6(0x123)];}[a134_0x32ef61(0x145)](){const _0x561e42=a134_0x32ef61,_0x3b527c=(this[_0x561e42(0x12a)][_0x561e42(0x11c)]||{})[RETRY_TESTS_ON_FAILURE]||{};return!!_0x3b527c['enabled'];}[a134_0x32ef61(0x126)](){const _0x43e451=a134_0x32ef61,_0x2c88b7=(this[_0x43e451(0x12a)]['testOrchestrationOptions']||{})[RETRY_TESTS_ON_FAILURE]||{};let _0x3fd941=0x0;return this[_0x43e451(0x145)](this['config'])&&(_0x3fd941=_0x2c88b7[_0x43e451(0x132)]||0x1),_0x3fd941;}[a134_0x32ef61(0x13f)](){const _0x3ac357=a134_0x32ef61,_0x130770=this[_0x3ac357(0x12a)][_0x3ac357(0x11c)]||{},_0x41e5ec={};for(const _0x248d76 in _0x130770){ALLOWED_ORCHESTRATION_KEYS['has'](_0x248d76)&&(_0x41e5ec[_0x248d76]=_0x130770[_0x248d76]);}return _0x41e5ec;}[a134_0x32ef61(0x155)](){const _0x195917=a134_0x32ef61,_0x2d6759=process[_0x195917(0x14b)][_0x195917(0x140)],_0x3fbf2d=path['join'](os[_0x195917(0x136)](),_0x195917(0x134)+_0x2d6759);return fs[_0x195917(0x152)](_0x3fbf2d);}[a134_0x32ef61(0x156)](_0x4045ff){const _0x59d4bd=a134_0x32ef61,_0x103c81=process[_0x59d4bd(0x14b)][_0x59d4bd(0x140)],_0x56b3b5=path[_0x59d4bd(0x13c)](os[_0x59d4bd(0x136)](),'failed_tests_'+_0x103c81+_0x59d4bd(0x124));fs['appendFileSync'](_0x56b3b5,_0x4045ff+'\x0a');}[a134_0x32ef61(0x128)](_0x45d1b9){const _0x756b13=a134_0x32ef61,_0xed6a86={};_0xed6a86[_0x756b13(0x139)]=function(_0xcf1780,_0xad4210){return _0xcf1780||_0xad4210;};const _0x583280=_0xed6a86;return ABORT_BUILD_SUPPORTED_FRAMEWORKS[_0x756b13(0x11e)](_0x583280[_0x756b13(0x139)](_0x45d1b9,'')['toLowerCase']());}['isAbortBuildOnFailureEnabled'](){const _0x342c53=a134_0x32ef61,_0x1bf388=(this[_0x342c53(0x12a)]['testOrchestrationOptions']||{})[ABORT_BUILD_ON_FAILURE]||{};return!!_0x1bf388[_0x342c53(0x14e)];}[a134_0x32ef61(0x12c)](){const _0x572718=a134_0x32ef61,_0x56e9ed=(this[_0x572718(0x12a)][_0x572718(0x11c)]||{})[ABORT_BUILD_ON_FAILURE]||{};return _0x56e9ed[_0x572718(0x143)]||0x5;;}[a134_0x32ef61(0x121)](){const _0x2f7a69=a134_0x32ef61;return this[_0x2f7a69(0x12d)];}['_setRunPreviouslyFailedFirst'](_0x45d0d5){const _0x31e0d5=a134_0x32ef61;this[_0x31e0d5(0x12d)]=!!_0x45d0d5,this[_0x31e0d5(0x14f)]();}[a134_0x32ef61(0x137)](){const _0x4e7f09=a134_0x32ef61;return this[_0x4e7f09(0x120)];}[a134_0x32ef61(0x14d)](_0x4b0cff){const _0x3872c5=a134_0x32ef61;this[_0x3872c5(0x120)]=!!_0x4b0cff,this['_setTestOrdering']();}['getSkipFlakyAndFailed'](){const _0x56913d=a134_0x32ef61;return this[_0x56913d(0x149)];}[a134_0x32ef61(0x138)](_0x5e3383){const _0x38c95c=a134_0x32ef61;this['skipFlakyAndFailed']=!!_0x5e3383,this[_0x38c95c(0x14f)]();}['_setTestOrdering'](){const _0x82827d=a134_0x32ef61;if(this[_0x82827d(0x12d)])this[_0x82827d(0x120)]=![],this[_0x82827d(0x149)]=![],this[_0x82827d(0x147)]['enable'](RUN_PREVIOUSLY_FAILED_FIRST);else{if(this[_0x82827d(0x120)])this[_0x82827d(0x12d)]=![],this['skipFlakyAndFailed']=![],this['testOrdering'][_0x82827d(0x131)](RERUN_PREVIOUSLY_FAILED);else this[_0x82827d(0x149)]?(this['runPreviouslyFailedFirst']=![],this['rerunPreviouslyFailed']=![],this['testOrdering'][_0x82827d(0x131)](SKIP_FLAKY_AND_FAILED)):this[_0x82827d(0x147)][_0x82827d(0x125)]();}}['testOrderingEnabled'](){const _0x79f509=a134_0x32ef61;return this['testOrdering'][_0x79f509(0x153)]();}[a134_0x32ef61(0x127)](){const _0x52064e=a134_0x32ef61;if(this[_0x52064e(0x147)][_0x52064e(0x153)]())return this[_0x52064e(0x147)][_0x52064e(0x13a)]();return null;}[a134_0x32ef61(0x14a)](){const _0x291ce7=a134_0x32ef61,_0x502f9b={};return _0x502f9b[_0x291ce7(0x12e)]={'enabled':this[_0x291ce7(0x137)]()},_0x502f9b['run_previously_failed_first']={'enabled':this[_0x291ce7(0x121)]()},_0x502f9b[_0x291ce7(0x158)]={'enabled':this['getSkipFlakyAndFailed']()},this[_0x291ce7(0x145)]()&&(_0x502f9b[_0x291ce7(0x144)]={'enabled':!![],'max_retries':this['getRetryCount']()}),this[_0x291ce7(0x14c)]()&&(_0x502f9b['abort_build_on_failure']={'enabled':!![],'max_failures':this[_0x291ce7(0x12c)]()}),_0x502f9b;}}module[a134_0x32ef61(0x150)]=OrchestrationUtils;