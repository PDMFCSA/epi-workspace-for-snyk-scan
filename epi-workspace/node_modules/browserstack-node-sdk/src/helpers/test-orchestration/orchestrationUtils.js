const a129_0x1e31d3=a129_0x5982;function a129_0x370b(){const _0x8a5f9b=['147NJaGqJ','testOrdering','getBuildStartData','getEnabled','getSkipFlakyAndFailed','../logger','523560LlvvBg','enabled','checkAbortBuildFileExists','retryTestsOnFailure','_setTestOrdering','_instance','_setRerunPreviouslyFailed','testOrchestrationOptions','abortBuildOnFailure','38480YRNKEE','getFailureThreshold','_setRunPreviouslyFailedFirst','.txt','join','9872ZNmGWb','name','skipFlakyandFailed','has','path','9hIopKe','getRerunPreviouslyFailed','winstonLogger','runPreviouslyFailedFirst','6462kzhREL','1056830jdvCre','BROWSERSTACK_TESTHUB_UUID','49GuXWPw','getInstance','jest','aedRX','config','skipFlakyAndFailed','env','enable','writeFailureToFile','getName','getRetryCount','abort_build_on_failure','rerunPreviouslyFailed','getRunPreviouslyFailedFirst','testOrderingEnabled','existsSync','failed_tests_','isAbortBuildOnFailureEnabled','2715889TIeYif','toLowerCase','disable','maxFailures','maxRetries','getOrchestrationData','16234ScYCKr','abort_build_','rerun_previously_failed','exports','_setSkipFlakyAndFailed','207YRlfiR','run_previously_failed_first','tmpdir','isRetryEnabled'];a129_0x370b=function(){return _0x8a5f9b;};return a129_0x370b();}(function(_0x162b88,_0x90b6c5){const _0x531686=a129_0x5982,_0x10f3f9=_0x162b88();while(!![]){try{const _0x30baf1=-parseInt(_0x531686(0x1c8))/0x1*(-parseInt(_0x531686(0x1e7))/0x2)+parseInt(_0x531686(0x1f0))/0x3*(-parseInt(_0x531686(0x1c3))/0x4)+-parseInt(_0x531686(0x1f6))/0x5+-parseInt(_0x531686(0x1cc))/0x6*(-parseInt(_0x531686(0x1cf))/0x7)+parseInt(_0x531686(0x1be))/0x8*(parseInt(_0x531686(0x1ec))/0x9)+-parseInt(_0x531686(0x1cd))/0xa+parseInt(_0x531686(0x1e1))/0xb;if(_0x30baf1===_0x90b6c5)break;else _0x10f3f9['push'](_0x10f3f9['shift']());}catch(_0x52367c){_0x10f3f9['push'](_0x10f3f9['shift']());}}}(a129_0x370b,0x1a12a));const os=require('os'),path=require(a129_0x1e31d3(0x1c7)),fs=require('fs'),logger=require(a129_0x1e31d3(0x1f5))[a129_0x1e31d3(0x1ca)],RETRY_TESTS_ON_FAILURE=a129_0x1e31d3(0x1f9),ABORT_BUILD_ON_FAILURE=a129_0x1e31d3(0x1bd),RUN_PREVIOUSLY_FAILED_FIRST='runPreviouslyFailedFirst',RERUN_PREVIOUSLY_FAILED=a129_0x1e31d3(0x1db),SKIP_FLAKY_AND_FAILED=a129_0x1e31d3(0x1c5),ALLOWED_ORCHESTRATION_KEYS=new Set([RETRY_TESTS_ON_FAILURE,ABORT_BUILD_ON_FAILURE,RUN_PREVIOUSLY_FAILED_FIRST,RERUN_PREVIOUSLY_FAILED,SKIP_FLAKY_AND_FAILED]),ABORT_BUILD_SUPPORTED_FRAMEWORKS=new Set([a129_0x1e31d3(0x1d1)]);class TestOrdering{constructor(){const _0x531c9e=a129_0x1e31d3;this[_0x531c9e(0x1f7)]=![],this[_0x531c9e(0x1c4)]=null;}[a129_0x1e31d3(0x1d6)](_0x5c3403){const _0x1bcf7c=a129_0x1e31d3;this[_0x1bcf7c(0x1f7)]=!![],this[_0x1bcf7c(0x1c4)]=_0x5c3403;}[a129_0x1e31d3(0x1e3)](){this['enabled']=![],this['name']=null;}[a129_0x1e31d3(0x1f3)](){const _0x43034e=a129_0x1e31d3;return this[_0x43034e(0x1f7)];}[a129_0x1e31d3(0x1d8)](){const _0xcf9460=a129_0x1e31d3;return this[_0xcf9460(0x1c4)];}}class OrchestrationUtils{static [a129_0x1e31d3(0x1ba)]=null;constructor(_0x5e2e7b){const _0x338852=a129_0x1e31d3,_0x1c4a4b={};_0x1c4a4b['aedRX']=function(_0x286540,_0x22fb8c){return _0x286540||_0x22fb8c;};const _0x4a4ce5=_0x1c4a4b;this[_0x338852(0x1cb)]=![],this[_0x338852(0x1db)]=![],this[_0x338852(0x1d4)]=![],this['testOrdering']=new TestOrdering(),this[_0x338852(0x1d3)]=_0x4a4ce5[_0x338852(0x1d2)](_0x5e2e7b,{});const _0x5b05c8=_0x5e2e7b&&_0x5e2e7b[_0x338852(0x1bc)]||{};this[_0x338852(0x1c0)](_0x5b05c8[RUN_PREVIOUSLY_FAILED_FIRST]||![]),this[_0x338852(0x1bb)](_0x5b05c8[RERUN_PREVIOUSLY_FAILED]||![]),this[_0x338852(0x1eb)](_0x5b05c8[SKIP_FLAKY_AND_FAILED]||![]);}static[a129_0x1e31d3(0x1d0)](_0x2cd9d2){const _0x20464e=a129_0x1e31d3;return!OrchestrationUtils[_0x20464e(0x1ba)]&&_0x2cd9d2&&(OrchestrationUtils[_0x20464e(0x1ba)]=new OrchestrationUtils(_0x2cd9d2)),OrchestrationUtils['_instance'];}[a129_0x1e31d3(0x1ef)](){const _0x529a65=a129_0x1e31d3,_0x3272b1=(this[_0x529a65(0x1d3)][_0x529a65(0x1bc)]||{})[RETRY_TESTS_ON_FAILURE]||{};return!!_0x3272b1[_0x529a65(0x1f7)];}['getRetryCount'](){const _0x599f83=a129_0x1e31d3,_0x46a707=(this[_0x599f83(0x1d3)]['testOrchestrationOptions']||{})[RETRY_TESTS_ON_FAILURE]||{};let _0x3bd9de=0x0;return this[_0x599f83(0x1ef)](this[_0x599f83(0x1d3)])&&(_0x3bd9de=_0x46a707[_0x599f83(0x1e5)]||0x1),_0x3bd9de;}[a129_0x1e31d3(0x1e6)](){const _0xa80154=a129_0x1e31d3,_0x193742=this[_0xa80154(0x1d3)][_0xa80154(0x1bc)]||{},_0x4b1d70={};for(const _0x21cf6a in _0x193742){ALLOWED_ORCHESTRATION_KEYS[_0xa80154(0x1c6)](_0x21cf6a)&&(_0x4b1d70[_0x21cf6a]=_0x193742[_0x21cf6a]);}return _0x4b1d70;}[a129_0x1e31d3(0x1f8)](){const _0x4129a6=a129_0x1e31d3,_0x532066=process['env'][_0x4129a6(0x1ce)],_0x1e1cc1=path[_0x4129a6(0x1c2)](os[_0x4129a6(0x1ee)](),_0x4129a6(0x1e8)+_0x532066);return fs[_0x4129a6(0x1de)](_0x1e1cc1);}[a129_0x1e31d3(0x1d7)](_0x1418ce){const _0x56353a=a129_0x1e31d3,_0x40bdde=process[_0x56353a(0x1d5)]['BROWSERSTACK_TESTHUB_UUID'],_0x57dfbb=path['join'](os[_0x56353a(0x1ee)](),_0x56353a(0x1df)+_0x40bdde+_0x56353a(0x1c1));fs['appendFileSync'](_0x57dfbb,_0x1418ce+'\x0a');}['isAbortBuildOnFailureSupported'](_0x152150){const _0xd5ab87=a129_0x1e31d3,_0x2a92f9={};_0x2a92f9['pNhDh']=function(_0x2f0021,_0x4eab25){return _0x2f0021||_0x4eab25;};const _0x236d6e=_0x2a92f9;return ABORT_BUILD_SUPPORTED_FRAMEWORKS['has'](_0x236d6e['pNhDh'](_0x152150,'')[_0xd5ab87(0x1e2)]());}['isAbortBuildOnFailureEnabled'](){const _0x5161f4=a129_0x1e31d3,_0x2cc81f=(this['config']['testOrchestrationOptions']||{})[ABORT_BUILD_ON_FAILURE]||{};return!!_0x2cc81f[_0x5161f4(0x1f7)];}[a129_0x1e31d3(0x1bf)](){const _0x16b0fc=a129_0x1e31d3,_0x5618a8=(this[_0x16b0fc(0x1d3)][_0x16b0fc(0x1bc)]||{})[ABORT_BUILD_ON_FAILURE]||{};return _0x5618a8[_0x16b0fc(0x1e4)]||0x5;;}[a129_0x1e31d3(0x1dc)](){const _0x145eab=a129_0x1e31d3;return this[_0x145eab(0x1cb)];}[a129_0x1e31d3(0x1c0)](_0x2a5208){const _0x28b90b=a129_0x1e31d3;this[_0x28b90b(0x1cb)]=!!_0x2a5208,this[_0x28b90b(0x1fa)]();}[a129_0x1e31d3(0x1c9)](){const _0x3eb03a=a129_0x1e31d3;return this[_0x3eb03a(0x1db)];}[a129_0x1e31d3(0x1bb)](_0x21f39a){this['rerunPreviouslyFailed']=!!_0x21f39a,this['_setTestOrdering']();}[a129_0x1e31d3(0x1f4)](){const _0x169ff0=a129_0x1e31d3;return this[_0x169ff0(0x1d4)];}['_setSkipFlakyAndFailed'](_0x4b4cdf){const _0x1c6422=a129_0x1e31d3;this[_0x1c6422(0x1d4)]=!!_0x4b4cdf,this[_0x1c6422(0x1fa)]();}[a129_0x1e31d3(0x1fa)](){const _0x31bb51=a129_0x1e31d3;if(this[_0x31bb51(0x1cb)])this[_0x31bb51(0x1db)]=![],this[_0x31bb51(0x1d4)]=![],this['testOrdering']['enable'](RUN_PREVIOUSLY_FAILED_FIRST);else{if(this[_0x31bb51(0x1db)])this[_0x31bb51(0x1cb)]=![],this['skipFlakyAndFailed']=![],this[_0x31bb51(0x1f1)][_0x31bb51(0x1d6)](RERUN_PREVIOUSLY_FAILED);else this[_0x31bb51(0x1d4)]?(this[_0x31bb51(0x1cb)]=![],this[_0x31bb51(0x1db)]=![],this[_0x31bb51(0x1f1)][_0x31bb51(0x1d6)](SKIP_FLAKY_AND_FAILED)):this[_0x31bb51(0x1f1)][_0x31bb51(0x1e3)]();}}[a129_0x1e31d3(0x1dd)](){const _0x8a83dc=a129_0x1e31d3;return this[_0x8a83dc(0x1f1)]['getEnabled']();}['getTestOrderingName'](){const _0x153292=a129_0x1e31d3;if(this[_0x153292(0x1f1)][_0x153292(0x1f3)]())return this['testOrdering']['getName']();return null;}[a129_0x1e31d3(0x1f2)](){const _0x34a375=a129_0x1e31d3,_0x5bad4e={};return _0x5bad4e[_0x34a375(0x1e9)]={'enabled':this[_0x34a375(0x1c9)]()},_0x5bad4e[_0x34a375(0x1ed)]={'enabled':this[_0x34a375(0x1dc)]()},_0x5bad4e['skip_failing_and_flaky']={'enabled':this['getSkipFlakyAndFailed']()},this[_0x34a375(0x1ef)]()&&(_0x5bad4e['retry_tests_on_failure']={'enabled':!![],'max_retries':this[_0x34a375(0x1d9)]()}),this[_0x34a375(0x1e0)]()&&(_0x5bad4e[_0x34a375(0x1da)]={'enabled':!![],'max_failures':this[_0x34a375(0x1bf)]()}),_0x5bad4e;}}function a129_0x5982(_0x1c65a3,_0x43c42b){const _0x370bd9=a129_0x370b();return a129_0x5982=function(_0x5982fa,_0x1a243b){_0x5982fa=_0x5982fa-0x1ba;let _0x31dc31=_0x370bd9[_0x5982fa];return _0x31dc31;},a129_0x5982(_0x1c65a3,_0x43c42b);}module[a129_0x1e31d3(0x1ea)]=OrchestrationUtils;