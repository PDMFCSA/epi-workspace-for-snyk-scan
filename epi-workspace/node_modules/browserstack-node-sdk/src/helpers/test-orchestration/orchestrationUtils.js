const a130_0x37a8f0=a130_0x51ce;(function(_0x3db99e,_0x2a4085){const _0x38879b=a130_0x51ce,_0x2420e1=_0x3db99e();while(!![]){try{const _0x5229ad=parseInt(_0x38879b(0x142))/0x1*(-parseInt(_0x38879b(0x15d))/0x2)+parseInt(_0x38879b(0x16d))/0x3*(parseInt(_0x38879b(0x15c))/0x4)+-parseInt(_0x38879b(0x17d))/0x5+-parseInt(_0x38879b(0x179))/0x6*(-parseInt(_0x38879b(0x174))/0x7)+parseInt(_0x38879b(0x170))/0x8*(parseInt(_0x38879b(0x14d))/0x9)+-parseInt(_0x38879b(0x16a))/0xa*(parseInt(_0x38879b(0x175))/0xb)+parseInt(_0x38879b(0x17c))/0xc;if(_0x5229ad===_0x2a4085)break;else _0x2420e1['push'](_0x2420e1['shift']());}catch(_0x159979){_0x2420e1['push'](_0x2420e1['shift']());}}}(a130_0x5901,0xabfed));const os=require('os'),path=require(a130_0x37a8f0(0x149)),fs=require('fs'),logger=require(a130_0x37a8f0(0x162))[a130_0x37a8f0(0x176)],RETRY_TESTS_ON_FAILURE=a130_0x37a8f0(0x151),ABORT_BUILD_ON_FAILURE='abortBuildOnFailure',RUN_PREVIOUSLY_FAILED_FIRST=a130_0x37a8f0(0x152),RERUN_PREVIOUSLY_FAILED=a130_0x37a8f0(0x156),SKIP_FLAKY_AND_FAILED=a130_0x37a8f0(0x165),ALLOWED_ORCHESTRATION_KEYS=new Set([RETRY_TESTS_ON_FAILURE,ABORT_BUILD_ON_FAILURE,RUN_PREVIOUSLY_FAILED_FIRST,RERUN_PREVIOUSLY_FAILED,SKIP_FLAKY_AND_FAILED]),ABORT_BUILD_SUPPORTED_FRAMEWORKS=new Set(['jest']);class TestOrdering{constructor(){const _0x40e753=a130_0x37a8f0;this[_0x40e753(0x166)]=![],this['name']=null;}[a130_0x37a8f0(0x146)](_0x13d303){const _0x17496b=a130_0x37a8f0;this[_0x17496b(0x166)]=!![],this[_0x17496b(0x150)]=_0x13d303;}[a130_0x37a8f0(0x14c)](){const _0x29274e=a130_0x37a8f0;this[_0x29274e(0x166)]=![],this[_0x29274e(0x150)]=null;}[a130_0x37a8f0(0x164)](){const _0x4b7ca3=a130_0x37a8f0;return this[_0x4b7ca3(0x166)];}[a130_0x37a8f0(0x154)](){const _0x43655c=a130_0x37a8f0;return this[_0x43655c(0x150)];}}class OrchestrationUtils{static [a130_0x37a8f0(0x14e)]=null;constructor(_0x44dc51){const _0x1fa91a=a130_0x37a8f0,_0x2e39ff={};_0x2e39ff[_0x1fa91a(0x17e)]=function(_0x2fb3ba,_0x2f6a90){return _0x2fb3ba||_0x2f6a90;};const _0x50cd40=_0x2e39ff;this[_0x1fa91a(0x152)]=![],this[_0x1fa91a(0x156)]=![],this[_0x1fa91a(0x148)]=![],this['testOrdering']=new TestOrdering(),this[_0x1fa91a(0x17a)]=_0x50cd40[_0x1fa91a(0x17e)](_0x44dc51,{});const _0x3109ec=_0x44dc51&&_0x44dc51[_0x1fa91a(0x14f)]||{};this[_0x1fa91a(0x16e)](_0x3109ec[RUN_PREVIOUSLY_FAILED_FIRST]||![]),this['_setRerunPreviouslyFailed'](_0x3109ec[RERUN_PREVIOUSLY_FAILED]||![]),this[_0x1fa91a(0x144)](_0x3109ec[SKIP_FLAKY_AND_FAILED]||![]);}static['getInstance'](_0x3349d9){const _0x59dda1=a130_0x37a8f0;return!OrchestrationUtils[_0x59dda1(0x14e)]&&_0x3349d9&&(OrchestrationUtils[_0x59dda1(0x14e)]=new OrchestrationUtils(_0x3349d9)),OrchestrationUtils[_0x59dda1(0x14e)];}['isRetryEnabled'](){const _0x50b346=a130_0x37a8f0,_0x3e9033=(this[_0x50b346(0x17a)]['testOrchestrationOptions']||{})[RETRY_TESTS_ON_FAILURE]||{};return!!_0x3e9033['enabled'];}['getRetryCount'](){const _0x486850=a130_0x37a8f0,_0x3b51ea=(this[_0x486850(0x17a)][_0x486850(0x14f)]||{})[RETRY_TESTS_ON_FAILURE]||{};let _0x132455=0x0;return this[_0x486850(0x169)](this[_0x486850(0x17a)])&&(_0x132455=_0x3b51ea['maxRetries']||0x1),_0x132455;}[a130_0x37a8f0(0x158)](){const _0x26b919=a130_0x37a8f0,_0x2bd12b=this[_0x26b919(0x17a)][_0x26b919(0x14f)]||{},_0x1cb3da={};for(const _0x49c6a7 in _0x2bd12b){ALLOWED_ORCHESTRATION_KEYS[_0x26b919(0x177)](_0x49c6a7)&&(_0x1cb3da[_0x49c6a7]=_0x2bd12b[_0x49c6a7]);}return _0x1cb3da;}[a130_0x37a8f0(0x171)](){const _0x48e2e5=a130_0x37a8f0,_0x31687e=process[_0x48e2e5(0x17b)][_0x48e2e5(0x163)],_0x4df1d7=path[_0x48e2e5(0x17f)](os[_0x48e2e5(0x168)](),_0x48e2e5(0x160)+_0x31687e);return fs[_0x48e2e5(0x16b)](_0x4df1d7);}['writeFailureToFile'](_0x4110fc){const _0x50c8c6=a130_0x37a8f0,_0x749180=process[_0x50c8c6(0x17b)]['BROWSERSTACK_TESTHUB_UUID'],_0x188219=path[_0x50c8c6(0x17f)](os[_0x50c8c6(0x168)](),_0x50c8c6(0x157)+_0x749180+_0x50c8c6(0x15b));fs['appendFileSync'](_0x188219,_0x4110fc+'\x0a');}['isAbortBuildOnFailureSupported'](_0x4dfd52){const _0x570bd9=a130_0x37a8f0,_0x2cd032={};_0x2cd032[_0x570bd9(0x147)]=function(_0x32cd1d,_0x2d0459){return _0x32cd1d||_0x2d0459;};const _0x40996e=_0x2cd032;return ABORT_BUILD_SUPPORTED_FRAMEWORKS[_0x570bd9(0x177)](_0x40996e[_0x570bd9(0x147)](_0x4dfd52,'')[_0x570bd9(0x15e)]());}[a130_0x37a8f0(0x141)](){const _0x259354=a130_0x37a8f0,_0x5814a7=(this['config'][_0x259354(0x14f)]||{})[ABORT_BUILD_ON_FAILURE]||{};return!!_0x5814a7['enabled'];}[a130_0x37a8f0(0x16c)](){const _0x4f3107=a130_0x37a8f0,_0x4c76b9=(this[_0x4f3107(0x17a)]['testOrchestrationOptions']||{})[ABORT_BUILD_ON_FAILURE]||{};return _0x4c76b9[_0x4f3107(0x153)]||0x5;;}[a130_0x37a8f0(0x172)](){const _0x422afe=a130_0x37a8f0;return this[_0x422afe(0x152)];}[a130_0x37a8f0(0x16e)](_0x40ac0a){const _0x1efd29=a130_0x37a8f0;this[_0x1efd29(0x152)]=!!_0x40ac0a,this[_0x1efd29(0x15f)]();}['getRerunPreviouslyFailed'](){const _0x4a2783=a130_0x37a8f0;return this[_0x4a2783(0x156)];}[a130_0x37a8f0(0x155)](_0x12723d){const _0x5407f6=a130_0x37a8f0;this[_0x5407f6(0x156)]=!!_0x12723d,this['_setTestOrdering']();}[a130_0x37a8f0(0x14a)](){return this['skipFlakyAndFailed'];}[a130_0x37a8f0(0x144)](_0x5ab9c2){const _0x30beaa=a130_0x37a8f0;this[_0x30beaa(0x148)]=!!_0x5ab9c2,this[_0x30beaa(0x15f)]();}['_setTestOrdering'](){const _0x2ade42=a130_0x37a8f0;if(this['runPreviouslyFailedFirst'])this[_0x2ade42(0x156)]=![],this['skipFlakyAndFailed']=![],this[_0x2ade42(0x167)][_0x2ade42(0x146)](RUN_PREVIOUSLY_FAILED_FIRST);else{if(this[_0x2ade42(0x156)])this['runPreviouslyFailedFirst']=![],this[_0x2ade42(0x148)]=![],this[_0x2ade42(0x167)][_0x2ade42(0x146)](RERUN_PREVIOUSLY_FAILED);else this['skipFlakyAndFailed']?(this[_0x2ade42(0x152)]=![],this['rerunPreviouslyFailed']=![],this[_0x2ade42(0x167)][_0x2ade42(0x146)](SKIP_FLAKY_AND_FAILED)):this[_0x2ade42(0x167)][_0x2ade42(0x14c)]();}}[a130_0x37a8f0(0x143)](){const _0x1ce9f2=a130_0x37a8f0;return this[_0x1ce9f2(0x167)]['getEnabled']();}[a130_0x37a8f0(0x15a)](){const _0x1bd311=a130_0x37a8f0;if(this['testOrdering']['getEnabled']())return this[_0x1bd311(0x167)][_0x1bd311(0x154)]();return null;}['getBuildStartData'](){const _0x288da3=a130_0x37a8f0,_0x475175={};return _0x475175[_0x288da3(0x161)]={'enabled':this[_0x288da3(0x145)]()},_0x475175[_0x288da3(0x173)]={'enabled':this[_0x288da3(0x172)]()},_0x475175[_0x288da3(0x159)]={'enabled':this['getSkipFlakyAndFailed']()},this[_0x288da3(0x169)]()&&(_0x475175[_0x288da3(0x14b)]={'enabled':!![],'max_retries':this[_0x288da3(0x16f)]()}),this[_0x288da3(0x141)]()&&(_0x475175[_0x288da3(0x178)]={'enabled':!![],'max_failures':this[_0x288da3(0x16c)]()}),_0x475175;}}function a130_0x5901(){const _0x3552e5=['existsSync','getFailureThreshold','2082243yRrqdM','_setRunPreviouslyFailedFirst','getRetryCount','8tLkOhR','checkAbortBuildFileExists','getRunPreviouslyFailedFirst','run_previously_failed_first','20132XNKAsf','11923901tYhXwQ','winstonLogger','has','abort_build_on_failure','36YGDqlv','config','env','1215048USKQQZ','2144865awyEoF','gttfa','join','isAbortBuildOnFailureEnabled','5468yjmWNp','testOrderingEnabled','_setSkipFlakyAndFailed','getRerunPreviouslyFailed','enable','iwGBq','skipFlakyAndFailed','path','getSkipFlakyAndFailed','retry_tests_on_failure','disable','10678509uwqVtt','_instance','testOrchestrationOptions','name','retryTestsOnFailure','runPreviouslyFailedFirst','maxFailures','getName','_setRerunPreviouslyFailed','rerunPreviouslyFailed','failed_tests_','getOrchestrationData','skip_failing_and_flaky','getTestOrderingName','.txt','8efgvKT','174tPqxJD','toLowerCase','_setTestOrdering','abort_build_','rerun_previously_failed','../logger','BROWSERSTACK_TESTHUB_UUID','getEnabled','skipFlakyandFailed','enabled','testOrdering','tmpdir','isRetryEnabled','10zjojwB'];a130_0x5901=function(){return _0x3552e5;};return a130_0x5901();}function a130_0x51ce(_0x458261,_0x2e61d7){const _0x5901ab=a130_0x5901();return a130_0x51ce=function(_0x51ce7f,_0x4ede3b){_0x51ce7f=_0x51ce7f-0x141;let _0x505757=_0x5901ab[_0x51ce7f];return _0x505757;},a130_0x51ce(_0x458261,_0x2e61d7);}module['exports']=OrchestrationUtils;