const a129_0x2ac6dc=a129_0x30c1;(function(_0x4abf08,_0x29f795){const _0x5531eb=a129_0x30c1,_0x325b75=_0x4abf08();while(!![]){try{const _0x4f4faa=parseInt(_0x5531eb(0x198))/0x1*(-parseInt(_0x5531eb(0x1a5))/0x2)+parseInt(_0x5531eb(0x19f))/0x3+parseInt(_0x5531eb(0x17a))/0x4+parseInt(_0x5531eb(0x1a6))/0x5+parseInt(_0x5531eb(0x172))/0x6*(parseInt(_0x5531eb(0x16b))/0x7)+-parseInt(_0x5531eb(0x185))/0x8+-parseInt(_0x5531eb(0x18a))/0x9;if(_0x4f4faa===_0x29f795)break;else _0x325b75['push'](_0x325b75['shift']());}catch(_0x91a976){_0x325b75['push'](_0x325b75['shift']());}}}(a129_0x58be,0x49373));const os=require('os'),path=require('path'),fs=require('fs'),logger=require(a129_0x2ac6dc(0x183))[a129_0x2ac6dc(0x189)],RETRY_TESTS_ON_FAILURE=a129_0x2ac6dc(0x188),ABORT_BUILD_ON_FAILURE='abortBuildOnFailure',RUN_PREVIOUSLY_FAILED_FIRST=a129_0x2ac6dc(0x179),RERUN_PREVIOUSLY_FAILED=a129_0x2ac6dc(0x19d),SKIP_FLAKY_AND_FAILED='skipFlakyandFailed',ALLOWED_ORCHESTRATION_KEYS=new Set([RETRY_TESTS_ON_FAILURE,ABORT_BUILD_ON_FAILURE,RUN_PREVIOUSLY_FAILED_FIRST,RERUN_PREVIOUSLY_FAILED,SKIP_FLAKY_AND_FAILED]),ABORT_BUILD_SUPPORTED_FRAMEWORKS=new Set(['jest']);function a129_0x30c1(_0x19e8a5,_0x3b7733){const _0x58bec3=a129_0x58be();return a129_0x30c1=function(_0x30c115,_0x4f152b){_0x30c115=_0x30c115-0x16b;let _0x5cd25f=_0x58bec3[_0x30c115];return _0x5cd25f;},a129_0x30c1(_0x19e8a5,_0x3b7733);}class TestOrdering{constructor(){const _0x5138d4=a129_0x2ac6dc;this[_0x5138d4(0x181)]=![],this[_0x5138d4(0x191)]=null;}[a129_0x2ac6dc(0x175)](_0x1dbf43){const _0x20879f=a129_0x2ac6dc;this[_0x20879f(0x181)]=!![],this[_0x20879f(0x191)]=_0x1dbf43;}[a129_0x2ac6dc(0x17f)](){const _0x1f6b4e=a129_0x2ac6dc;this['enabled']=![],this[_0x1f6b4e(0x191)]=null;}[a129_0x2ac6dc(0x17c)](){const _0x3390a4=a129_0x2ac6dc;return this[_0x3390a4(0x181)];}[a129_0x2ac6dc(0x19e)](){const _0x3cc05b=a129_0x2ac6dc;return this[_0x3cc05b(0x191)];}}function a129_0x58be(){const _0x563552=['getBuildStartData','disable','_setRunPreviouslyFailedFirst','enabled','abort_build_','../logger','checkAbortBuildFileExists','344848tomSlh','config','BROWSERSTACK_TESTHUB_UUID','retryTestsOnFailure','winstonLogger','1620972dOYlSp','skip_failing_and_flaky','getRerunPreviouslyFailed','testOrdering','getOrchestrationData','getTestOrderingName','wjKUS','name','getRetryCount','_setSkipFlakyAndFailed','appendFileSync','has','retry_tests_on_failure','getSkipFlakyAndFailed','1lOrzlx','_setTestOrdering','maxRetries','_instance','_setRerunPreviouslyFailed','rerunPreviouslyFailed','getName','737358glVaRd','exports','tmpdir','skipFlakyAndFailed','getInstance','testOrderingEnabled','814174leNAff','1893935THOpuc','1442693XmiTFD','isAbortBuildOnFailureEnabled','testOrchestrationOptions','vQrVp','failed_tests_','toLowerCase','env','6knjjBc','existsSync','maxFailures','enable','rerun_previously_failed','getFailureThreshold','getRunPreviouslyFailedFirst','runPreviouslyFailedFirst','398080tVIHkg','join','getEnabled','.txt'];a129_0x58be=function(){return _0x563552;};return a129_0x58be();}class OrchestrationUtils{static ['_instance']=null;constructor(_0x17cd4c){const _0x1595b9=a129_0x2ac6dc,_0x3ab27e={};_0x3ab27e[_0x1595b9(0x190)]=function(_0x5e922a,_0x3e8c84){return _0x5e922a||_0x3e8c84;};const _0x21cc35=_0x3ab27e;this['runPreviouslyFailedFirst']=![],this[_0x1595b9(0x19d)]=![],this[_0x1595b9(0x1a2)]=![],this[_0x1595b9(0x18d)]=new TestOrdering(),this[_0x1595b9(0x186)]=_0x21cc35['wjKUS'](_0x17cd4c,{});const _0x46bb51=_0x17cd4c&&_0x17cd4c[_0x1595b9(0x16d)]||{};this['_setRunPreviouslyFailedFirst'](_0x46bb51[RUN_PREVIOUSLY_FAILED_FIRST]||![]),this['_setRerunPreviouslyFailed'](_0x46bb51[RERUN_PREVIOUSLY_FAILED]||![]),this['_setSkipFlakyAndFailed'](_0x46bb51[SKIP_FLAKY_AND_FAILED]||![]);}static[a129_0x2ac6dc(0x1a3)](_0x4c0c9d){const _0x1528a6=a129_0x2ac6dc;return!OrchestrationUtils['_instance']&&_0x4c0c9d&&(OrchestrationUtils[_0x1528a6(0x19b)]=new OrchestrationUtils(_0x4c0c9d)),OrchestrationUtils[_0x1528a6(0x19b)];}['isRetryEnabled'](){const _0x2179bc=a129_0x2ac6dc,_0x21e8b0=(this[_0x2179bc(0x186)][_0x2179bc(0x16d)]||{})[RETRY_TESTS_ON_FAILURE]||{};return!!_0x21e8b0[_0x2179bc(0x181)];}['getRetryCount'](){const _0x2abc4b=a129_0x2ac6dc,_0x57e292=(this[_0x2abc4b(0x186)][_0x2abc4b(0x16d)]||{})[RETRY_TESTS_ON_FAILURE]||{};let _0x433284=0x0;return this['isRetryEnabled'](this[_0x2abc4b(0x186)])&&(_0x433284=_0x57e292[_0x2abc4b(0x19a)]||0x1),_0x433284;}[a129_0x2ac6dc(0x18e)](){const _0x21dac5=a129_0x2ac6dc,_0x22efff=this[_0x21dac5(0x186)]['testOrchestrationOptions']||{},_0x6e15={};for(const _0x4cc039 in _0x22efff){ALLOWED_ORCHESTRATION_KEYS['has'](_0x4cc039)&&(_0x6e15[_0x4cc039]=_0x22efff[_0x4cc039]);}return _0x6e15;}[a129_0x2ac6dc(0x184)](){const _0x306955=a129_0x2ac6dc,_0x399696=process[_0x306955(0x171)][_0x306955(0x187)],_0x432351=path[_0x306955(0x17b)](os[_0x306955(0x1a1)](),_0x306955(0x182)+_0x399696);return fs[_0x306955(0x173)](_0x432351);}['writeFailureToFile'](_0x13b89c){const _0x17b66b=a129_0x2ac6dc,_0x2c9f48=process[_0x17b66b(0x171)]['BROWSERSTACK_TESTHUB_UUID'],_0x1fffe7=path[_0x17b66b(0x17b)](os[_0x17b66b(0x1a1)](),_0x17b66b(0x16f)+_0x2c9f48+_0x17b66b(0x17d));fs[_0x17b66b(0x194)](_0x1fffe7,_0x13b89c+'\x0a');}['isAbortBuildOnFailureSupported'](_0x3d23a6){const _0x387a91=a129_0x2ac6dc,_0x7ae922={};_0x7ae922['vQrVp']=function(_0x557a53,_0x129534){return _0x557a53||_0x129534;};const _0x3e4483=_0x7ae922;return ABORT_BUILD_SUPPORTED_FRAMEWORKS[_0x387a91(0x195)](_0x3e4483[_0x387a91(0x16e)](_0x3d23a6,'')[_0x387a91(0x170)]());}[a129_0x2ac6dc(0x16c)](){const _0x236fb6=a129_0x2ac6dc,_0x449949=(this[_0x236fb6(0x186)][_0x236fb6(0x16d)]||{})[ABORT_BUILD_ON_FAILURE]||{};return!!_0x449949[_0x236fb6(0x181)];}[a129_0x2ac6dc(0x177)](){const _0x3e14c1=a129_0x2ac6dc,_0x397683=(this[_0x3e14c1(0x186)][_0x3e14c1(0x16d)]||{})[ABORT_BUILD_ON_FAILURE]||{};return _0x397683[_0x3e14c1(0x174)]||0x5;;}['getRunPreviouslyFailedFirst'](){const _0x5722e2=a129_0x2ac6dc;return this[_0x5722e2(0x179)];}[a129_0x2ac6dc(0x180)](_0x4653b9){const _0x42b741=a129_0x2ac6dc;this[_0x42b741(0x179)]=!!_0x4653b9,this[_0x42b741(0x199)]();}[a129_0x2ac6dc(0x18c)](){const _0xf047a8=a129_0x2ac6dc;return this[_0xf047a8(0x19d)];}[a129_0x2ac6dc(0x19c)](_0x502d75){const _0x106bf6=a129_0x2ac6dc;this[_0x106bf6(0x19d)]=!!_0x502d75,this[_0x106bf6(0x199)]();}[a129_0x2ac6dc(0x197)](){const _0x5cf045=a129_0x2ac6dc;return this[_0x5cf045(0x1a2)];}[a129_0x2ac6dc(0x193)](_0x547f64){const _0x2479a3=a129_0x2ac6dc;this[_0x2479a3(0x1a2)]=!!_0x547f64,this[_0x2479a3(0x199)]();}[a129_0x2ac6dc(0x199)](){const _0x14633b=a129_0x2ac6dc;if(this['runPreviouslyFailedFirst'])this['rerunPreviouslyFailed']=![],this[_0x14633b(0x1a2)]=![],this[_0x14633b(0x18d)][_0x14633b(0x175)](RUN_PREVIOUSLY_FAILED_FIRST);else{if(this[_0x14633b(0x19d)])this[_0x14633b(0x179)]=![],this['skipFlakyAndFailed']=![],this[_0x14633b(0x18d)]['enable'](RERUN_PREVIOUSLY_FAILED);else this[_0x14633b(0x1a2)]?(this['runPreviouslyFailedFirst']=![],this[_0x14633b(0x19d)]=![],this[_0x14633b(0x18d)][_0x14633b(0x175)](SKIP_FLAKY_AND_FAILED)):this[_0x14633b(0x18d)]['disable']();}}[a129_0x2ac6dc(0x1a4)](){const _0xfc5658=a129_0x2ac6dc;return this['testOrdering'][_0xfc5658(0x17c)]();}[a129_0x2ac6dc(0x18f)](){const _0x3ffeab=a129_0x2ac6dc;if(this[_0x3ffeab(0x18d)]['getEnabled']())return this['testOrdering'][_0x3ffeab(0x19e)]();return null;}[a129_0x2ac6dc(0x17e)](){const _0xe3acf6=a129_0x2ac6dc,_0x1648f2={};return _0x1648f2[_0xe3acf6(0x176)]={'enabled':this[_0xe3acf6(0x18c)]()},_0x1648f2['run_previously_failed_first']={'enabled':this[_0xe3acf6(0x178)]()},_0x1648f2[_0xe3acf6(0x18b)]={'enabled':this[_0xe3acf6(0x197)]()},this['isRetryEnabled']()&&(_0x1648f2[_0xe3acf6(0x196)]={'enabled':!![],'max_retries':this[_0xe3acf6(0x192)]()}),this[_0xe3acf6(0x16c)]()&&(_0x1648f2['abort_build_on_failure']={'enabled':!![],'max_failures':this[_0xe3acf6(0x177)]()}),_0x1648f2;}}module[a129_0x2ac6dc(0x1a0)]=OrchestrationUtils;