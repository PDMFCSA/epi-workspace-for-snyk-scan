const a129_0x1428fe=a129_0x1854;function a129_0x1854(_0x372a75,_0x46dabb){const _0x5a08ed=a129_0x5a08();return a129_0x1854=function(_0x18542f,_0xd3151){_0x18542f=_0x18542f-0x90;let _0x308e9e=_0x5a08ed[_0x18542f];return _0x308e9e;},a129_0x1854(_0x372a75,_0x46dabb);}(function(_0x4caca6,_0x1c2c9e){const _0x1c34d4=a129_0x1854,_0x36e8b6=_0x4caca6();while(!![]){try{const _0x1b440c=parseInt(_0x1c34d4(0xc8))/0x1+-parseInt(_0x1c34d4(0xa4))/0x2+parseInt(_0x1c34d4(0x9d))/0x3+parseInt(_0x1c34d4(0xb4))/0x4+parseInt(_0x1c34d4(0xc6))/0x5*(-parseInt(_0x1c34d4(0x98))/0x6)+-parseInt(_0x1c34d4(0xaf))/0x7+parseInt(_0x1c34d4(0x9b))/0x8;if(_0x1b440c===_0x1c2c9e)break;else _0x36e8b6['push'](_0x36e8b6['shift']());}catch(_0x4de506){_0x36e8b6['push'](_0x36e8b6['shift']());}}}(a129_0x5a08,0xb2ecc));function a129_0x5a08(){const _0x5d6d58=['disable','getOrchestrationData','_setSkipFlakyAndFailed','has','runPreviouslyFailedFirst','isRetryEnabled','retryTestsOnFailure','3383060McxJcI','config','249885IZcwXq','isAbortBuildOnFailureEnabled','_setTestOrdering','getRetryCount','getRerunPreviouslyFailed','rerunPreviouslyFailed','skip_failing_and_flaky','tPXwl','isAbortBuildOnFailureSupported','_setRerunPreviouslyFailed','existsSync','12sKjHfH','../logger','testOrdering','12254984yMccmO','skipFlakyAndFailed','1208091HAWiaZ','enabled','getBuildStartData','.txt','rerun_previously_failed','toLowerCase','run_previously_failed_first','1184722lqRDAM','enable','winstonLogger','appendFileSync','abort_build_','retry_tests_on_failure','checkAbortBuildFileExists','path','skipFlakyandFailed','abort_build_on_failure','_instance','5006134svSTSg','tmpdir','BROWSERSTACK_TESTHUB_UUID','zysLm','getEnabled','4836672rhUtmh','maxRetries','getName','exports','getSkipFlakyAndFailed','getInstance','getRunPreviouslyFailedFirst','testOrchestrationOptions','_setRunPreviouslyFailedFirst','name','getFailureThreshold'];a129_0x5a08=function(){return _0x5d6d58;};return a129_0x5a08();}const os=require('os'),path=require(a129_0x1428fe(0xab)),fs=require('fs'),logger=require(a129_0x1428fe(0x99))[a129_0x1428fe(0xa6)],RETRY_TESTS_ON_FAILURE=a129_0x1428fe(0xc5),ABORT_BUILD_ON_FAILURE='abortBuildOnFailure',RUN_PREVIOUSLY_FAILED_FIRST=a129_0x1428fe(0xc3),RERUN_PREVIOUSLY_FAILED=a129_0x1428fe(0x92),SKIP_FLAKY_AND_FAILED=a129_0x1428fe(0xac),ALLOWED_ORCHESTRATION_KEYS=new Set([RETRY_TESTS_ON_FAILURE,ABORT_BUILD_ON_FAILURE,RUN_PREVIOUSLY_FAILED_FIRST,RERUN_PREVIOUSLY_FAILED,SKIP_FLAKY_AND_FAILED]),ABORT_BUILD_SUPPORTED_FRAMEWORKS=new Set(['jest']);class TestOrdering{constructor(){const _0x14fbe4=a129_0x1428fe;this['enabled']=![],this[_0x14fbe4(0xbd)]=null;}[a129_0x1428fe(0xa5)](_0x1d08cc){const _0x21e1cb=a129_0x1428fe;this['enabled']=!![],this[_0x21e1cb(0xbd)]=_0x1d08cc;}[a129_0x1428fe(0xbf)](){const _0x9bf085=a129_0x1428fe;this['enabled']=![],this[_0x9bf085(0xbd)]=null;}[a129_0x1428fe(0xb3)](){return this['enabled'];}[a129_0x1428fe(0xb6)](){return this['name'];}}class OrchestrationUtils{static [a129_0x1428fe(0xae)]=null;constructor(_0x53c60b){const _0x11968a=a129_0x1428fe,_0x4bbde1={};_0x4bbde1['tPXwl']=function(_0xef5abd,_0x1425d9){return _0xef5abd||_0x1425d9;};const _0x4f4ad1=_0x4bbde1;this[_0x11968a(0xc3)]=![],this[_0x11968a(0x92)]=![],this['skipFlakyAndFailed']=![],this[_0x11968a(0x9a)]=new TestOrdering(),this['config']=_0x4f4ad1[_0x11968a(0x94)](_0x53c60b,{});const _0x32f39d=_0x53c60b&&_0x53c60b[_0x11968a(0xbb)]||{};this[_0x11968a(0xbc)](_0x32f39d[RUN_PREVIOUSLY_FAILED_FIRST]||![]),this[_0x11968a(0x96)](_0x32f39d[RERUN_PREVIOUSLY_FAILED]||![]),this[_0x11968a(0xc1)](_0x32f39d[SKIP_FLAKY_AND_FAILED]||![]);}static[a129_0x1428fe(0xb9)](_0x103697){const _0x49db18=a129_0x1428fe;return!OrchestrationUtils[_0x49db18(0xae)]&&_0x103697&&(OrchestrationUtils['_instance']=new OrchestrationUtils(_0x103697)),OrchestrationUtils['_instance'];}['isRetryEnabled'](){const _0x10faba=a129_0x1428fe,_0x3f010a=(this[_0x10faba(0xc7)][_0x10faba(0xbb)]||{})[RETRY_TESTS_ON_FAILURE]||{};return!!_0x3f010a[_0x10faba(0x9e)];}[a129_0x1428fe(0x90)](){const _0x109838=a129_0x1428fe,_0x20f801=(this[_0x109838(0xc7)][_0x109838(0xbb)]||{})[RETRY_TESTS_ON_FAILURE]||{};let _0x24fe36=0x0;return this[_0x109838(0xc4)](this[_0x109838(0xc7)])&&(_0x24fe36=_0x20f801[_0x109838(0xb5)]||0x1),_0x24fe36;}[a129_0x1428fe(0xc0)](){const _0xd0e142=a129_0x1428fe,_0x363a68=this['config'][_0xd0e142(0xbb)]||{},_0x286c80={};for(const _0x26a39d in _0x363a68){ALLOWED_ORCHESTRATION_KEYS[_0xd0e142(0xc2)](_0x26a39d)&&(_0x286c80[_0x26a39d]=_0x363a68[_0x26a39d]);}return _0x286c80;}[a129_0x1428fe(0xaa)](){const _0x2d9421=a129_0x1428fe,_0x41eb4e=process['env'][_0x2d9421(0xb1)],_0x2f488e=path['join'](os[_0x2d9421(0xb0)](),_0x2d9421(0xa8)+_0x41eb4e);return fs[_0x2d9421(0x97)](_0x2f488e);}['writeFailureToFile'](_0xe298c7){const _0x38b388=a129_0x1428fe,_0x1f2d00=process['env'][_0x38b388(0xb1)],_0x395686=path['join'](os['tmpdir'](),'failed_tests_'+_0x1f2d00+_0x38b388(0xa0));fs[_0x38b388(0xa7)](_0x395686,_0xe298c7+'\x0a');}[a129_0x1428fe(0x95)](_0x41a28d){const _0x4e7893=a129_0x1428fe,_0x426dcc={};_0x426dcc[_0x4e7893(0xb2)]=function(_0x2f406a,_0x110628){return _0x2f406a||_0x110628;};const _0x1a99e3=_0x426dcc;return ABORT_BUILD_SUPPORTED_FRAMEWORKS[_0x4e7893(0xc2)](_0x1a99e3[_0x4e7893(0xb2)](_0x41a28d,'')[_0x4e7893(0xa2)]());}[a129_0x1428fe(0xc9)](){const _0x853a1c=a129_0x1428fe,_0x36b44e=(this[_0x853a1c(0xc7)][_0x853a1c(0xbb)]||{})[ABORT_BUILD_ON_FAILURE]||{};return!!_0x36b44e[_0x853a1c(0x9e)];}[a129_0x1428fe(0xbe)](){const _0x133cfd=a129_0x1428fe,_0x3a446c=(this[_0x133cfd(0xc7)]['testOrchestrationOptions']||{})[ABORT_BUILD_ON_FAILURE]||{};return _0x3a446c['maxFailures']||0x5;;}[a129_0x1428fe(0xba)](){const _0x3abd21=a129_0x1428fe;return this[_0x3abd21(0xc3)];}[a129_0x1428fe(0xbc)](_0x28a653){const _0x4ecec2=a129_0x1428fe;this['runPreviouslyFailedFirst']=!!_0x28a653,this[_0x4ecec2(0xca)]();}[a129_0x1428fe(0x91)](){const _0x2215d0=a129_0x1428fe;return this[_0x2215d0(0x92)];}['_setRerunPreviouslyFailed'](_0x254bac){const _0x37cb3b=a129_0x1428fe;this[_0x37cb3b(0x92)]=!!_0x254bac,this[_0x37cb3b(0xca)]();}['getSkipFlakyAndFailed'](){const _0x2d6362=a129_0x1428fe;return this[_0x2d6362(0x9c)];}[a129_0x1428fe(0xc1)](_0x3fa46b){const _0x3c848a=a129_0x1428fe;this[_0x3c848a(0x9c)]=!!_0x3fa46b,this['_setTestOrdering']();}[a129_0x1428fe(0xca)](){const _0x4399a7=a129_0x1428fe;if(this[_0x4399a7(0xc3)])this['rerunPreviouslyFailed']=![],this[_0x4399a7(0x9c)]=![],this['testOrdering'][_0x4399a7(0xa5)](RUN_PREVIOUSLY_FAILED_FIRST);else{if(this['rerunPreviouslyFailed'])this['runPreviouslyFailedFirst']=![],this[_0x4399a7(0x9c)]=![],this[_0x4399a7(0x9a)]['enable'](RERUN_PREVIOUSLY_FAILED);else this[_0x4399a7(0x9c)]?(this[_0x4399a7(0xc3)]=![],this['rerunPreviouslyFailed']=![],this[_0x4399a7(0x9a)][_0x4399a7(0xa5)](SKIP_FLAKY_AND_FAILED)):this[_0x4399a7(0x9a)]['disable']();}}['testOrderingEnabled'](){const _0x34b0bc=a129_0x1428fe;return this[_0x34b0bc(0x9a)][_0x34b0bc(0xb3)]();}['getTestOrderingName'](){const _0x409831=a129_0x1428fe;if(this[_0x409831(0x9a)]['getEnabled']())return this[_0x409831(0x9a)][_0x409831(0xb6)]();return null;}[a129_0x1428fe(0x9f)](){const _0x5b2aa2=a129_0x1428fe,_0x3ada17={};return _0x3ada17[_0x5b2aa2(0xa1)]={'enabled':this[_0x5b2aa2(0x91)]()},_0x3ada17[_0x5b2aa2(0xa3)]={'enabled':this[_0x5b2aa2(0xba)]()},_0x3ada17[_0x5b2aa2(0x93)]={'enabled':this[_0x5b2aa2(0xb8)]()},this[_0x5b2aa2(0xc4)]()&&(_0x3ada17[_0x5b2aa2(0xa9)]={'enabled':!![],'max_retries':this[_0x5b2aa2(0x90)]()}),this[_0x5b2aa2(0xc9)]()&&(_0x3ada17[_0x5b2aa2(0xad)]={'enabled':!![],'max_failures':this[_0x5b2aa2(0xbe)]()}),_0x3ada17;}}module[a129_0x1428fe(0xb7)]=OrchestrationUtils;