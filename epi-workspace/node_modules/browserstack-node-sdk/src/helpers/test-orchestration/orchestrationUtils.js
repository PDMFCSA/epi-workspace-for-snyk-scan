const a121_0x159f5f=a121_0x1962;(function(_0x59c1fe,_0x3e3b93){const _0x434adc=a121_0x1962,_0x463d4c=_0x59c1fe();while(!![]){try{const _0x40707e=-parseInt(_0x434adc(0x89))/0x1+-parseInt(_0x434adc(0x9f))/0x2*(parseInt(_0x434adc(0x92))/0x3)+-parseInt(_0x434adc(0x7f))/0x4*(parseInt(_0x434adc(0xad))/0x5)+parseInt(_0x434adc(0x84))/0x6*(parseInt(_0x434adc(0x9d))/0x7)+parseInt(_0x434adc(0xae))/0x8*(parseInt(_0x434adc(0xb3))/0x9)+-parseInt(_0x434adc(0xaf))/0xa*(parseInt(_0x434adc(0x76))/0xb)+-parseInt(_0x434adc(0x74))/0xc*(-parseInt(_0x434adc(0x90))/0xd);if(_0x40707e===_0x3e3b93)break;else _0x463d4c['push'](_0x463d4c['shift']());}catch(_0x26962a){_0x463d4c['push'](_0x463d4c['shift']());}}}(a121_0x1e7f,0x1c6a1));const os=require('os'),path=require(a121_0x159f5f(0x86)),fs=require('fs'),logger=require(a121_0x159f5f(0xa9))[a121_0x159f5f(0x7e)],RETRY_TESTS_ON_FAILURE=a121_0x159f5f(0x77),ABORT_BUILD_ON_FAILURE=a121_0x159f5f(0x8d),RUN_PREVIOUSLY_FAILED_FIRST=a121_0x159f5f(0x8b),RERUN_PREVIOUSLY_FAILED=a121_0x159f5f(0x82),SKIP_FLAKY_AND_FAILED=a121_0x159f5f(0x8f),ALLOWED_ORCHESTRATION_KEYS=new Set([RETRY_TESTS_ON_FAILURE,ABORT_BUILD_ON_FAILURE,RUN_PREVIOUSLY_FAILED_FIRST,RERUN_PREVIOUSLY_FAILED,SKIP_FLAKY_AND_FAILED]),ABORT_BUILD_SUPPORTED_FRAMEWORKS=new Set([a121_0x159f5f(0xa8)]);function a121_0x1962(_0x4a1211,_0x130ffe){const _0x1e7f89=a121_0x1e7f();return a121_0x1962=function(_0x19629e,_0x58edfe){_0x19629e=_0x19629e-0x73;let _0x324800=_0x1e7f89[_0x19629e];return _0x324800;},a121_0x1962(_0x4a1211,_0x130ffe);}class TestOrdering{constructor(){const _0x47ef54=a121_0x159f5f;this[_0x47ef54(0x8a)]=![],this[_0x47ef54(0x97)]=null;}['enable'](_0x3a0b6b){const _0x355601=a121_0x159f5f;this['enabled']=!![],this[_0x355601(0x97)]=_0x3a0b6b;}[a121_0x159f5f(0x96)](){const _0x582325=a121_0x159f5f;this[_0x582325(0x8a)]=![],this[_0x582325(0x97)]=null;}['getEnabled'](){const _0x10a11e=a121_0x159f5f;return this[_0x10a11e(0x8a)];}[a121_0x159f5f(0x99)](){const _0x22846b=a121_0x159f5f;return this[_0x22846b(0x97)];}}class OrchestrationUtils{static [a121_0x159f5f(0x79)]=null;constructor(_0xce4932){const _0x52582d=a121_0x159f5f,_0x141470={};_0x141470[_0x52582d(0x94)]=function(_0xe23040,_0x18c299){return _0xe23040||_0x18c299;};const _0x4ab48c=_0x141470;this[_0x52582d(0x8b)]=![],this[_0x52582d(0x82)]=![],this[_0x52582d(0x7d)]=![],this[_0x52582d(0x7a)]=new TestOrdering(),this[_0x52582d(0x9a)]=_0x4ab48c['gugyr'](_0xce4932,{});const _0x1dede9=_0xce4932&&_0xce4932[_0x52582d(0xa0)]||{};this[_0x52582d(0xa6)](_0x1dede9[RUN_PREVIOUSLY_FAILED_FIRST]||![]),this[_0x52582d(0x88)](_0x1dede9[RERUN_PREVIOUSLY_FAILED]||![]),this['_setSkipFlakyAndFailed'](_0x1dede9[SKIP_FLAKY_AND_FAILED]||![]);}static[a121_0x159f5f(0x7b)](_0x1e0e71){const _0x2b1e4e=a121_0x159f5f;return!OrchestrationUtils[_0x2b1e4e(0x79)]&&_0x1e0e71&&(OrchestrationUtils[_0x2b1e4e(0x79)]=new OrchestrationUtils(_0x1e0e71)),OrchestrationUtils[_0x2b1e4e(0x79)];}[a121_0x159f5f(0x9e)](){const _0x449a6b=a121_0x159f5f,_0xefdf3f=(this[_0x449a6b(0x9a)][_0x449a6b(0xa0)]||{})[RETRY_TESTS_ON_FAILURE]||{};return!!_0xefdf3f[_0x449a6b(0x8a)];}[a121_0x159f5f(0x81)](){const _0x496bf0=a121_0x159f5f,_0xaf5bd9=(this[_0x496bf0(0x9a)][_0x496bf0(0xa0)]||{})[RETRY_TESTS_ON_FAILURE]||{};let _0x45fab3=0x0;return this[_0x496bf0(0x9e)](this[_0x496bf0(0x9a)])&&(_0x45fab3=_0xaf5bd9[_0x496bf0(0xab)]||0x1),_0x45fab3;}[a121_0x159f5f(0xb1)](){const _0x242b82=a121_0x159f5f,_0x4c47bf=this[_0x242b82(0x9a)][_0x242b82(0xa0)]||{},_0x32aa01={};for(const _0x3811c6 in _0x4c47bf){ALLOWED_ORCHESTRATION_KEYS['has'](_0x3811c6)&&(_0x32aa01[_0x3811c6]=_0x4c47bf[_0x3811c6]);}return _0x32aa01;}['checkAbortBuildFileExists'](){const _0x11e961=a121_0x159f5f,_0x1426b1=process[_0x11e961(0x7c)][_0x11e961(0x9b)],_0x434cf6=path[_0x11e961(0x8c)](os[_0x11e961(0xa5)](),_0x11e961(0xaa)+_0x1426b1);return fs[_0x11e961(0x78)](_0x434cf6);}[a121_0x159f5f(0xa7)](_0x4cea0b){const _0x27b8b3=a121_0x159f5f,_0x183319=process[_0x27b8b3(0x7c)][_0x27b8b3(0x9b)],_0x3c6bb4=path['join'](os[_0x27b8b3(0xa5)](),'failed_tests_'+_0x183319+_0x27b8b3(0x8e));fs[_0x27b8b3(0x91)](_0x3c6bb4,_0x4cea0b+'\x0a');}[a121_0x159f5f(0x73)](_0x34356e){const _0x2e0a26=a121_0x159f5f,_0x12cb1d={};_0x12cb1d[_0x2e0a26(0x98)]=function(_0x19ec13,_0x1cf26d){return _0x19ec13||_0x1cf26d;};const _0x100449=_0x12cb1d;return ABORT_BUILD_SUPPORTED_FRAMEWORKS[_0x2e0a26(0x93)](_0x100449[_0x2e0a26(0x98)](_0x34356e,'')['toLowerCase']());}[a121_0x159f5f(0xb4)](){const _0x5233d3=a121_0x159f5f,_0xcb483e=(this['config'][_0x5233d3(0xa0)]||{})[ABORT_BUILD_ON_FAILURE]||{};return!!_0xcb483e[_0x5233d3(0x8a)];}[a121_0x159f5f(0x9c)](){const _0x15e1fb=a121_0x159f5f,_0x43ec29=(this['config'][_0x15e1fb(0xa0)]||{})[ABORT_BUILD_ON_FAILURE]||{};return _0x43ec29[_0x15e1fb(0xa3)]||0x5;;}[a121_0x159f5f(0x75)](){const _0x397ce3=a121_0x159f5f;return this[_0x397ce3(0x8b)];}[a121_0x159f5f(0xa6)](_0x214a40){this['runPreviouslyFailedFirst']=!!_0x214a40,this['_setTestOrdering']();}[a121_0x159f5f(0x87)](){const _0x11f16d=a121_0x159f5f;return this[_0x11f16d(0x82)];}[a121_0x159f5f(0x88)](_0x2cb9e2){const _0x3f88fb=a121_0x159f5f;this['rerunPreviouslyFailed']=!!_0x2cb9e2,this[_0x3f88fb(0x83)]();}[a121_0x159f5f(0x80)](){const _0x2ff205=a121_0x159f5f;return this[_0x2ff205(0x7d)];}['_setSkipFlakyAndFailed'](_0x236f5e){const _0x4d1848=a121_0x159f5f;this[_0x4d1848(0x7d)]=!!_0x236f5e,this['_setTestOrdering']();}[a121_0x159f5f(0x83)](){const _0x575439=a121_0x159f5f;if(this[_0x575439(0x8b)])this['rerunPreviouslyFailed']=![],this['skipFlakyAndFailed']=![],this[_0x575439(0x7a)]['enable'](RUN_PREVIOUSLY_FAILED_FIRST);else{if(this[_0x575439(0x82)])this[_0x575439(0x8b)]=![],this['skipFlakyAndFailed']=![],this[_0x575439(0x7a)][_0x575439(0xac)](RERUN_PREVIOUSLY_FAILED);else this[_0x575439(0x7d)]?(this['runPreviouslyFailedFirst']=![],this['rerunPreviouslyFailed']=![],this[_0x575439(0x7a)][_0x575439(0xac)](SKIP_FLAKY_AND_FAILED)):this[_0x575439(0x7a)][_0x575439(0x96)]();}}[a121_0x159f5f(0xa2)](){const _0xac8ced=a121_0x159f5f;return this['testOrdering'][_0xac8ced(0xb2)]();}['getTestOrderingName'](){const _0x14ccce=a121_0x159f5f;if(this[_0x14ccce(0x7a)][_0x14ccce(0xb2)]())return this['testOrdering'][_0x14ccce(0x99)]();return null;}['getBuildStartData'](){const _0x1a227a=a121_0x159f5f,_0x5e6a1a={};return _0x5e6a1a[_0x1a227a(0xb0)]={'enabled':this['getRerunPreviouslyFailed']()},_0x5e6a1a['run_previously_failed_first']={'enabled':this['getRunPreviouslyFailedFirst']()},_0x5e6a1a[_0x1a227a(0x85)]={'enabled':this[_0x1a227a(0x80)]()},this[_0x1a227a(0x9e)]()&&(_0x5e6a1a[_0x1a227a(0xa4)]={'enabled':!![],'max_retries':this[_0x1a227a(0x81)]()}),this[_0x1a227a(0xb4)]()&&(_0x5e6a1a[_0x1a227a(0x95)]={'enabled':!![],'max_failures':this[_0x1a227a(0x9c)]()}),_0x5e6a1a;}}function a121_0x1e7f(){const _0x20cd99=['1232066pDhfci','retryTestsOnFailure','existsSync','_instance','testOrdering','getInstance','env','skipFlakyAndFailed','winstonLogger','28GsbDWe','getSkipFlakyAndFailed','getRetryCount','rerunPreviouslyFailed','_setTestOrdering','306258hlmtBg','skip_failing_and_flaky','path','getRerunPreviouslyFailed','_setRerunPreviouslyFailed','72631VOZzfz','enabled','runPreviouslyFailedFirst','join','abortBuildOnFailure','.txt','skipFlakyandFailed','161902idQNCT','appendFileSync','3Lolejl','has','gugyr','abort_build_on_failure','disable','name','AeXUM','getName','config','BROWSERSTACK_TESTHUB_UUID','getFailureThreshold','7QIQJkR','isRetryEnabled','135112IZXLZK','testOrchestrationOptions','exports','testOrderingEnabled','maxFailures','retry_tests_on_failure','tmpdir','_setRunPreviouslyFailedFirst','writeFailureToFile','jest','../logger','abort_build_','maxRetries','enable','116235iAxtso','44680AiPpJN','20hgPrgM','rerun_previously_failed','getOrchestrationData','getEnabled','252ZMlbOU','isAbortBuildOnFailureEnabled','isAbortBuildOnFailureSupported','420vbxHsu','getRunPreviouslyFailedFirst'];a121_0x1e7f=function(){return _0x20cd99;};return a121_0x1e7f();}module[a121_0x159f5f(0xa1)]=OrchestrationUtils;