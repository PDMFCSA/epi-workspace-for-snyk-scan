function a134_0x31a5(){const _0x55a1a3=['skipFlakyAndFailed','testOrdering','abortBuildOnFailure','has','skipFlakyandFailed','135qUTfGl','_setRerunPreviouslyFailed','1271236PdnAWQ','94854ASYEzO','getBuildStartData','isAbortBuildOnFailureSupported','getSkipFlakyAndFailed','testOrderingEnabled','rerunPreviouslyFailed','runPreviouslyFailedFirst','isAbortBuildOnFailureEnabled','KNycb','getName','_instance','maxRetries','1577232bJtCOa','jest','2925njAcEy','existsSync','appendFileSync','testOrchestrationOptions','BROWSERSTACK_TESTHUB_UUID','getRetryCount','config','_setTestOrdering','enabled','checkAbortBuildFileExists','run_previously_failed_first','enable','getRunPreviouslyFailedFirst','path','getEnabled','failed_tests_','_setSkipFlakyAndFailed','join','4865800FVEKuy','getFailureThreshold','_setRunPreviouslyFailedFirst','writeFailureToFile','name','isRetryEnabled','getRerunPreviouslyFailed','maxFailures','PuPZc','3atnwTA','exports','rerun_previously_failed','9260OBbusM','env','getTestOrderingName','tmpdir','retry_tests_on_failure','7372568UwYVqt','disable','1152400zPJjHg','skip_failing_and_flaky'];a134_0x31a5=function(){return _0x55a1a3;};return a134_0x31a5();}const a134_0x11d32a=a134_0x3042;(function(_0x3caadb,_0x5abe15){const _0x9ddc78=a134_0x3042,_0x420d62=_0x3caadb();while(!![]){try{const _0x2be5fc=parseInt(_0x9ddc78(0xaf))/0x1+parseInt(_0x9ddc78(0xb8))/0x2*(-parseInt(_0x9ddc78(0xa5))/0x3)+parseInt(_0x9ddc78(0x9c))/0x4+parseInt(_0x9ddc78(0xb6))/0x5*(parseInt(_0x9ddc78(0xb9))/0x6)+-parseInt(_0x9ddc78(0xad))/0x7+-parseInt(_0x9ddc78(0xc5))/0x8+parseInt(_0x9ddc78(0xc7))/0x9*(-parseInt(_0x9ddc78(0xa8))/0xa);if(_0x2be5fc===_0x5abe15)break;else _0x420d62['push'](_0x420d62['shift']());}catch(_0x4b562d){_0x420d62['push'](_0x420d62['shift']());}}}(a134_0x31a5,0x949eb));function a134_0x3042(_0x8b5de2,_0x498d56){const _0x31a52a=a134_0x31a5();return a134_0x3042=function(_0x3042f1,_0x282d3d){_0x3042f1=_0x3042f1-0x8e;let _0x17be08=_0x31a52a[_0x3042f1];return _0x17be08;},a134_0x3042(_0x8b5de2,_0x498d56);}const os=require('os'),path=require(a134_0x11d32a(0x97)),fs=require('fs'),logger=require('../logger')['winstonLogger'],RETRY_TESTS_ON_FAILURE='retryTestsOnFailure',ABORT_BUILD_ON_FAILURE=a134_0x11d32a(0xb3),RUN_PREVIOUSLY_FAILED_FIRST='runPreviouslyFailedFirst',RERUN_PREVIOUSLY_FAILED=a134_0x11d32a(0xbe),SKIP_FLAKY_AND_FAILED=a134_0x11d32a(0xb5),ALLOWED_ORCHESTRATION_KEYS=new Set([RETRY_TESTS_ON_FAILURE,ABORT_BUILD_ON_FAILURE,RUN_PREVIOUSLY_FAILED_FIRST,RERUN_PREVIOUSLY_FAILED,SKIP_FLAKY_AND_FAILED]),ABORT_BUILD_SUPPORTED_FRAMEWORKS=new Set([a134_0x11d32a(0xc6)]);class TestOrdering{constructor(){const _0x249dac=a134_0x11d32a;this['enabled']=![],this[_0x249dac(0xa0)]=null;}[a134_0x11d32a(0x95)](_0x3f92c7){const _0x545254=a134_0x11d32a;this[_0x545254(0x92)]=!![],this[_0x545254(0xa0)]=_0x3f92c7;}[a134_0x11d32a(0xae)](){const _0x16e2cb=a134_0x11d32a;this[_0x16e2cb(0x92)]=![],this[_0x16e2cb(0xa0)]=null;}[a134_0x11d32a(0x98)](){const _0x460a99=a134_0x11d32a;return this[_0x460a99(0x92)];}['getName'](){const _0x3ba3f1=a134_0x11d32a;return this[_0x3ba3f1(0xa0)];}}class OrchestrationUtils{static ['_instance']=null;constructor(_0x3c399a){const _0x5a89f3=a134_0x11d32a,_0x1ff810={};_0x1ff810[_0x5a89f3(0xc1)]=function(_0x134f8a,_0x3ac0f1){return _0x134f8a||_0x3ac0f1;};const _0x4c053f=_0x1ff810;this[_0x5a89f3(0xbf)]=![],this[_0x5a89f3(0xbe)]=![],this['skipFlakyAndFailed']=![],this[_0x5a89f3(0xb2)]=new TestOrdering(),this[_0x5a89f3(0x90)]=_0x4c053f[_0x5a89f3(0xc1)](_0x3c399a,{});const _0x4ab624=_0x3c399a&&_0x3c399a[_0x5a89f3(0xca)]||{};this[_0x5a89f3(0x9e)](_0x4ab624[RUN_PREVIOUSLY_FAILED_FIRST]||![]),this[_0x5a89f3(0xb7)](_0x4ab624[RERUN_PREVIOUSLY_FAILED]||![]),this[_0x5a89f3(0x9a)](_0x4ab624[SKIP_FLAKY_AND_FAILED]||![]);}static['getInstance'](_0x4e8db5){const _0x829b26=a134_0x11d32a;return!OrchestrationUtils[_0x829b26(0xc3)]&&_0x4e8db5&&(OrchestrationUtils[_0x829b26(0xc3)]=new OrchestrationUtils(_0x4e8db5)),OrchestrationUtils[_0x829b26(0xc3)];}['isRetryEnabled'](){const _0x6232c8=a134_0x11d32a,_0x14814c=(this[_0x6232c8(0x90)][_0x6232c8(0xca)]||{})[RETRY_TESTS_ON_FAILURE]||{};return!!_0x14814c[_0x6232c8(0x92)];}[a134_0x11d32a(0x8f)](){const _0x2c7922=a134_0x11d32a,_0x14300f=(this[_0x2c7922(0x90)][_0x2c7922(0xca)]||{})[RETRY_TESTS_ON_FAILURE]||{};let _0x2bcca2=0x0;return this[_0x2c7922(0xa1)](this[_0x2c7922(0x90)])&&(_0x2bcca2=_0x14300f[_0x2c7922(0xc4)]||0x1),_0x2bcca2;}['getOrchestrationData'](){const _0x123850=a134_0x11d32a,_0x526732=this[_0x123850(0x90)][_0x123850(0xca)]||{},_0x241caf={};for(const _0x1a6516 in _0x526732){ALLOWED_ORCHESTRATION_KEYS[_0x123850(0xb4)](_0x1a6516)&&(_0x241caf[_0x1a6516]=_0x526732[_0x1a6516]);}return _0x241caf;}[a134_0x11d32a(0x93)](){const _0x21e5b4=a134_0x11d32a,_0x114a07=process[_0x21e5b4(0xa9)]['BROWSERSTACK_TESTHUB_UUID'],_0x16428c=path[_0x21e5b4(0x9b)](os[_0x21e5b4(0xab)](),'abort_build_'+_0x114a07);return fs[_0x21e5b4(0xc8)](_0x16428c);}[a134_0x11d32a(0x9f)](_0x13a355){const _0x472d0d=a134_0x11d32a,_0x135918=process[_0x472d0d(0xa9)][_0x472d0d(0x8e)],_0x5d32cb=path['join'](os[_0x472d0d(0xab)](),_0x472d0d(0x99)+_0x135918+'.txt');fs[_0x472d0d(0xc9)](_0x5d32cb,_0x13a355+'\x0a');}[a134_0x11d32a(0xbb)](_0x13a647){const _0x4e4778=a134_0x11d32a,_0xb243c9={};_0xb243c9[_0x4e4778(0xa4)]=function(_0x28192d,_0x487900){return _0x28192d||_0x487900;};const _0x233bdf=_0xb243c9;return ABORT_BUILD_SUPPORTED_FRAMEWORKS['has'](_0x233bdf[_0x4e4778(0xa4)](_0x13a647,'')['toLowerCase']());}[a134_0x11d32a(0xc0)](){const _0x1cfe2a=a134_0x11d32a,_0x4f628d=(this[_0x1cfe2a(0x90)][_0x1cfe2a(0xca)]||{})[ABORT_BUILD_ON_FAILURE]||{};return!!_0x4f628d[_0x1cfe2a(0x92)];}['getFailureThreshold'](){const _0x7e4670=a134_0x11d32a,_0x5e12b6=(this[_0x7e4670(0x90)][_0x7e4670(0xca)]||{})[ABORT_BUILD_ON_FAILURE]||{};return _0x5e12b6[_0x7e4670(0xa3)]||0x5;;}['getRunPreviouslyFailedFirst'](){const _0x39922e=a134_0x11d32a;return this[_0x39922e(0xbf)];}['_setRunPreviouslyFailedFirst'](_0x47e042){this['runPreviouslyFailedFirst']=!!_0x47e042,this['_setTestOrdering']();}[a134_0x11d32a(0xa2)](){const _0x5f1b28=a134_0x11d32a;return this[_0x5f1b28(0xbe)];}[a134_0x11d32a(0xb7)](_0x19ca5b){const _0x2fb5c1=a134_0x11d32a;this['rerunPreviouslyFailed']=!!_0x19ca5b,this[_0x2fb5c1(0x91)]();}[a134_0x11d32a(0xbc)](){return this['skipFlakyAndFailed'];}[a134_0x11d32a(0x9a)](_0x21fd02){const _0x4de8ba=a134_0x11d32a;this[_0x4de8ba(0xb1)]=!!_0x21fd02,this[_0x4de8ba(0x91)]();}[a134_0x11d32a(0x91)](){const _0x54f7ba=a134_0x11d32a;if(this[_0x54f7ba(0xbf)])this[_0x54f7ba(0xbe)]=![],this['skipFlakyAndFailed']=![],this[_0x54f7ba(0xb2)][_0x54f7ba(0x95)](RUN_PREVIOUSLY_FAILED_FIRST);else{if(this[_0x54f7ba(0xbe)])this[_0x54f7ba(0xbf)]=![],this[_0x54f7ba(0xb1)]=![],this[_0x54f7ba(0xb2)]['enable'](RERUN_PREVIOUSLY_FAILED);else this[_0x54f7ba(0xb1)]?(this['runPreviouslyFailedFirst']=![],this['rerunPreviouslyFailed']=![],this[_0x54f7ba(0xb2)]['enable'](SKIP_FLAKY_AND_FAILED)):this['testOrdering'][_0x54f7ba(0xae)]();}}[a134_0x11d32a(0xbd)](){const _0x12ee04=a134_0x11d32a;return this[_0x12ee04(0xb2)][_0x12ee04(0x98)]();}[a134_0x11d32a(0xaa)](){const _0x346bfc=a134_0x11d32a;if(this[_0x346bfc(0xb2)][_0x346bfc(0x98)]())return this[_0x346bfc(0xb2)][_0x346bfc(0xc2)]();return null;}[a134_0x11d32a(0xba)](){const _0x197cfc=a134_0x11d32a,_0x4830aa={};return _0x4830aa[_0x197cfc(0xa7)]={'enabled':this[_0x197cfc(0xa2)]()},_0x4830aa[_0x197cfc(0x94)]={'enabled':this[_0x197cfc(0x96)]()},_0x4830aa[_0x197cfc(0xb0)]={'enabled':this['getSkipFlakyAndFailed']()},this[_0x197cfc(0xa1)]()&&(_0x4830aa[_0x197cfc(0xac)]={'enabled':!![],'max_retries':this[_0x197cfc(0x8f)]()}),this[_0x197cfc(0xc0)]()&&(_0x4830aa['abort_build_on_failure']={'enabled':!![],'max_failures':this[_0x197cfc(0x9d)]()}),_0x4830aa;}}module[a134_0x11d32a(0xa6)]=OrchestrationUtils;