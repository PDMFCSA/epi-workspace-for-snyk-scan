const a129_0x1e5970=a129_0x5785;function a129_0x58a6(){const _0x2cc66d=['_setSkipFlakyAndFailed','1052826GZSzdD','2JkFUsF','appendFileSync','path','abort_build_on_failure','13407710PiwheG','getRunPreviouslyFailedFirst','../logger','testOrchestrationOptions','rerunPreviouslyFailed','toLowerCase','getInstance','9128NRioaX','getRerunPreviouslyFailed','enabled','53856nkBXZf','hrpLC','testOrderingEnabled','BROWSERSTACK_TESTHUB_UUID','runPreviouslyFailedFirst','maxRetries','config','_setTestOrdering','disable','3199eFWXWJ','.txt','isAbortBuildOnFailureEnabled','getBuildStartData','getRetryCount','_instance','4120254ZcrKQa','5390ejSmDH','11tnmZay','612inpWEz','isRetryEnabled','getSkipFlakyAndFailed','jest','tmpdir','writeFailureToFile','_setRunPreviouslyFailedFirst','_setRerunPreviouslyFailed','failed_tests_','name','join','skipFlakyandFailed','testOrdering','env','getName','exports','getTestOrderingName','enable','abortBuildOnFailure','getEnabled','abort_build_','getFailureThreshold','has','maxFailures','skipFlakyAndFailed','getOrchestrationData','512927WxSvKh'];a129_0x58a6=function(){return _0x2cc66d;};return a129_0x58a6();}function a129_0x5785(_0x3406c3,_0x4390b0){const _0x58a6db=a129_0x58a6();return a129_0x5785=function(_0x5785b5,_0x5c99a2){_0x5785b5=_0x5785b5-0x151;let _0x42cd76=_0x58a6db[_0x5785b5];return _0x42cd76;},a129_0x5785(_0x3406c3,_0x4390b0);}(function(_0x49527a,_0x50d33c){const _0x1401b4=a129_0x5785,_0x230d2e=_0x49527a();while(!![]){try{const _0x43d801=parseInt(_0x1401b4(0x189))/0x1*(parseInt(_0x1401b4(0x18c))/0x2)+-parseInt(_0x1401b4(0x15d))/0x3+parseInt(_0x1401b4(0x16f))/0x4*(parseInt(_0x1401b4(0x16d))/0x5)+parseInt(_0x1401b4(0x18b))/0x6+parseInt(_0x1401b4(0x166))/0x7*(parseInt(_0x1401b4(0x15a))/0x8)+parseInt(_0x1401b4(0x16c))/0x9+parseInt(_0x1401b4(0x153))/0xa*(-parseInt(_0x1401b4(0x16e))/0xb);if(_0x43d801===_0x50d33c)break;else _0x230d2e['push'](_0x230d2e['shift']());}catch(_0x4307ac){_0x230d2e['push'](_0x230d2e['shift']());}}}(a129_0x58a6,0x73afc));const os=require('os'),path=require(a129_0x1e5970(0x151)),fs=require('fs'),logger=require(a129_0x1e5970(0x155))['winstonLogger'],RETRY_TESTS_ON_FAILURE='retryTestsOnFailure',ABORT_BUILD_ON_FAILURE=a129_0x1e5970(0x181),RUN_PREVIOUSLY_FAILED_FIRST=a129_0x1e5970(0x161),RERUN_PREVIOUSLY_FAILED='rerunPreviouslyFailed',SKIP_FLAKY_AND_FAILED=a129_0x1e5970(0x17a),ALLOWED_ORCHESTRATION_KEYS=new Set([RETRY_TESTS_ON_FAILURE,ABORT_BUILD_ON_FAILURE,RUN_PREVIOUSLY_FAILED_FIRST,RERUN_PREVIOUSLY_FAILED,SKIP_FLAKY_AND_FAILED]),ABORT_BUILD_SUPPORTED_FRAMEWORKS=new Set([a129_0x1e5970(0x172)]);class TestOrdering{constructor(){const _0x22014e=a129_0x1e5970;this[_0x22014e(0x15c)]=![],this[_0x22014e(0x178)]=null;}['enable'](_0x119747){const _0x5804d7=a129_0x1e5970;this[_0x5804d7(0x15c)]=!![],this[_0x5804d7(0x178)]=_0x119747;}['disable'](){const _0x3e28e9=a129_0x1e5970;this[_0x3e28e9(0x15c)]=![],this['name']=null;}['getEnabled'](){return this['enabled'];}['getName'](){const _0x24c618=a129_0x1e5970;return this[_0x24c618(0x178)];}}class OrchestrationUtils{static [a129_0x1e5970(0x16b)]=null;constructor(_0x3f78a5){const _0x3efc7f=a129_0x1e5970,_0x28d9cc={};_0x28d9cc['hrpLC']=function(_0x4d4d99,_0x3447b5){return _0x4d4d99||_0x3447b5;};const _0x235b6c=_0x28d9cc;this[_0x3efc7f(0x161)]=![],this[_0x3efc7f(0x157)]=![],this[_0x3efc7f(0x187)]=![],this[_0x3efc7f(0x17b)]=new TestOrdering(),this[_0x3efc7f(0x163)]=_0x235b6c[_0x3efc7f(0x15e)](_0x3f78a5,{});const _0x23bca1=_0x3f78a5&&_0x3f78a5[_0x3efc7f(0x156)]||{};this[_0x3efc7f(0x175)](_0x23bca1[RUN_PREVIOUSLY_FAILED_FIRST]||![]),this[_0x3efc7f(0x176)](_0x23bca1[RERUN_PREVIOUSLY_FAILED]||![]),this[_0x3efc7f(0x18a)](_0x23bca1[SKIP_FLAKY_AND_FAILED]||![]);}static[a129_0x1e5970(0x159)](_0x55179a){const _0x2e0e44=a129_0x1e5970;return!OrchestrationUtils[_0x2e0e44(0x16b)]&&_0x55179a&&(OrchestrationUtils[_0x2e0e44(0x16b)]=new OrchestrationUtils(_0x55179a)),OrchestrationUtils[_0x2e0e44(0x16b)];}[a129_0x1e5970(0x170)](){const _0x93506d=a129_0x1e5970,_0x32f8dc=(this[_0x93506d(0x163)][_0x93506d(0x156)]||{})[RETRY_TESTS_ON_FAILURE]||{};return!!_0x32f8dc[_0x93506d(0x15c)];}[a129_0x1e5970(0x16a)](){const _0x44f56a=a129_0x1e5970,_0x3580b0=(this[_0x44f56a(0x163)][_0x44f56a(0x156)]||{})[RETRY_TESTS_ON_FAILURE]||{};let _0x40730f=0x0;return this[_0x44f56a(0x170)](this['config'])&&(_0x40730f=_0x3580b0[_0x44f56a(0x162)]||0x1),_0x40730f;}[a129_0x1e5970(0x188)](){const _0x20a825=a129_0x1e5970,_0x5f2b18=this['config'][_0x20a825(0x156)]||{},_0x1d84c8={};for(const _0xa1e5a7 in _0x5f2b18){ALLOWED_ORCHESTRATION_KEYS[_0x20a825(0x185)](_0xa1e5a7)&&(_0x1d84c8[_0xa1e5a7]=_0x5f2b18[_0xa1e5a7]);}return _0x1d84c8;}['checkAbortBuildFileExists'](){const _0x5a88fb=a129_0x1e5970,_0x4df1c2=process[_0x5a88fb(0x17c)][_0x5a88fb(0x160)],_0x1efc3=path[_0x5a88fb(0x179)](os['tmpdir'](),_0x5a88fb(0x183)+_0x4df1c2);return fs['existsSync'](_0x1efc3);}[a129_0x1e5970(0x174)](_0x1852c4){const _0x313c53=a129_0x1e5970,_0x4696ae=process[_0x313c53(0x17c)][_0x313c53(0x160)],_0x35a85c=path['join'](os[_0x313c53(0x173)](),_0x313c53(0x177)+_0x4696ae+_0x313c53(0x167));fs[_0x313c53(0x18d)](_0x35a85c,_0x1852c4+'\x0a');}['isAbortBuildOnFailureSupported'](_0x3eae7c){const _0x5eb118=a129_0x1e5970,_0x4e6ed7={};_0x4e6ed7['lOXPX']=function(_0x57b54b,_0x1522ce){return _0x57b54b||_0x1522ce;};const _0x56c7bf=_0x4e6ed7;return ABORT_BUILD_SUPPORTED_FRAMEWORKS[_0x5eb118(0x185)](_0x56c7bf['lOXPX'](_0x3eae7c,'')[_0x5eb118(0x158)]());}[a129_0x1e5970(0x168)](){const _0x3dcfda=a129_0x1e5970,_0x2e5714=(this['config']['testOrchestrationOptions']||{})[ABORT_BUILD_ON_FAILURE]||{};return!!_0x2e5714[_0x3dcfda(0x15c)];}[a129_0x1e5970(0x184)](){const _0x4b5604=a129_0x1e5970,_0x11b80e=(this[_0x4b5604(0x163)][_0x4b5604(0x156)]||{})[ABORT_BUILD_ON_FAILURE]||{};return _0x11b80e[_0x4b5604(0x186)]||0x5;;}[a129_0x1e5970(0x154)](){const _0x3d6661=a129_0x1e5970;return this[_0x3d6661(0x161)];}['_setRunPreviouslyFailedFirst'](_0x38c6ff){const _0x4446c1=a129_0x1e5970;this[_0x4446c1(0x161)]=!!_0x38c6ff,this['_setTestOrdering']();}[a129_0x1e5970(0x15b)](){const _0x285896=a129_0x1e5970;return this[_0x285896(0x157)];}[a129_0x1e5970(0x176)](_0x2494d6){const _0x725363=a129_0x1e5970;this[_0x725363(0x157)]=!!_0x2494d6,this['_setTestOrdering']();}[a129_0x1e5970(0x171)](){const _0x14eec2=a129_0x1e5970;return this[_0x14eec2(0x187)];}[a129_0x1e5970(0x18a)](_0x5ed6b4){const _0x362e7b=a129_0x1e5970;this['skipFlakyAndFailed']=!!_0x5ed6b4,this[_0x362e7b(0x164)]();}[a129_0x1e5970(0x164)](){const _0x576df9=a129_0x1e5970;if(this['runPreviouslyFailedFirst'])this[_0x576df9(0x157)]=![],this['skipFlakyAndFailed']=![],this[_0x576df9(0x17b)]['enable'](RUN_PREVIOUSLY_FAILED_FIRST);else{if(this['rerunPreviouslyFailed'])this['runPreviouslyFailedFirst']=![],this['skipFlakyAndFailed']=![],this[_0x576df9(0x17b)][_0x576df9(0x180)](RERUN_PREVIOUSLY_FAILED);else this[_0x576df9(0x187)]?(this['runPreviouslyFailedFirst']=![],this[_0x576df9(0x157)]=![],this['testOrdering'][_0x576df9(0x180)](SKIP_FLAKY_AND_FAILED)):this['testOrdering'][_0x576df9(0x165)]();}}[a129_0x1e5970(0x15f)](){const _0x51cc53=a129_0x1e5970;return this[_0x51cc53(0x17b)]['getEnabled']();}[a129_0x1e5970(0x17f)](){const _0x431be3=a129_0x1e5970;if(this[_0x431be3(0x17b)][_0x431be3(0x182)]())return this[_0x431be3(0x17b)][_0x431be3(0x17d)]();return null;}[a129_0x1e5970(0x169)](){const _0xa699c1=a129_0x1e5970,_0x3d19de={};return _0x3d19de['rerun_previously_failed']={'enabled':this[_0xa699c1(0x15b)]()},_0x3d19de['run_previously_failed_first']={'enabled':this[_0xa699c1(0x154)]()},_0x3d19de['skip_failing_and_flaky']={'enabled':this[_0xa699c1(0x171)]()},this['isRetryEnabled']()&&(_0x3d19de['retry_tests_on_failure']={'enabled':!![],'max_retries':this[_0xa699c1(0x16a)]()}),this['isAbortBuildOnFailureEnabled']()&&(_0x3d19de[_0xa699c1(0x152)]={'enabled':!![],'max_failures':this['getFailureThreshold']()}),_0x3d19de;}}module[a129_0x1e5970(0x17e)]=OrchestrationUtils;