const a131_0x243440=a131_0x51e8;(function(_0x27a6ce,_0x393f2a){const _0x59e74a=a131_0x51e8,_0x59ee91=_0x27a6ce();while(!![]){try{const _0xbfa200=-parseInt(_0x59e74a(0x184))/0x1+-parseInt(_0x59e74a(0x181))/0x2*(-parseInt(_0x59e74a(0x18d))/0x3)+-parseInt(_0x59e74a(0x1b4))/0x4+parseInt(_0x59e74a(0x19b))/0x5+-parseInt(_0x59e74a(0x19e))/0x6*(-parseInt(_0x59e74a(0x18b))/0x7)+-parseInt(_0x59e74a(0x191))/0x8+-parseInt(_0x59e74a(0x1af))/0x9*(parseInt(_0x59e74a(0x19c))/0xa);if(_0xbfa200===_0x393f2a)break;else _0x59ee91['push'](_0x59ee91['shift']());}catch(_0x30fc0){_0x59ee91['push'](_0x59ee91['shift']());}}}(a131_0x3be1,0x332b7));function a131_0x51e8(_0x3bc3f1,_0x25743d){const _0x3be126=a131_0x3be1();return a131_0x51e8=function(_0x51e844,_0x418735){_0x51e844=_0x51e844-0x175;let _0x952329=_0x3be126[_0x51e844];return _0x952329;},a131_0x51e8(_0x3bc3f1,_0x25743d);}function a131_0x3be1(){const _0x5a1d36=['getRunPreviouslyFailedFirst','../logger','1028400kDEDgV','exports','join','retry_tests_on_failure','isRetryEnabled','writeFailureToFile','abortBuildOnFailure','path','isAbortBuildOnFailureEnabled','winstonLogger','testOrdering','getName','getSkipFlakyAndFailed','2216CZfQMG','getRerunPreviouslyFailed','config','49579ywUYCV','jest','toLowerCase','abort_build_','isAbortBuildOnFailureSupported','_setRunPreviouslyFailedFirst','name','1292655gtjXqe','_setSkipFlakyAndFailed','1047zJAVqX','failed_tests_','gOWZo','BROWSERSTACK_TESTHUB_UUID','1822928tIByfP','getInstance','_setRerunPreviouslyFailed','getEnabled','disable','rerunPreviouslyFailed','_setTestOrdering','getBuildStartData','skipFlakyAndFailed','testOrderingEnabled','1379155BkuQtJ','515260PAgoRE','_instance','6MPPaAU','env','getFailureThreshold','rerun_previously_failed','maxRetries','IEhDZ','enable','tmpdir','appendFileSync','enabled','skip_failing_and_flaky','existsSync','runPreviouslyFailedFirst','getRetryCount','testOrchestrationOptions','skipFlakyandFailed','retryTestsOnFailure','18yveqiq','.txt','has'];a131_0x3be1=function(){return _0x5a1d36;};return a131_0x3be1();}const os=require('os'),path=require(a131_0x243440(0x17b)),fs=require('fs'),logger=require(a131_0x243440(0x1b3))[a131_0x243440(0x17d)],RETRY_TESTS_ON_FAILURE=a131_0x243440(0x1ae),ABORT_BUILD_ON_FAILURE=a131_0x243440(0x17a),RUN_PREVIOUSLY_FAILED_FIRST=a131_0x243440(0x1aa),RERUN_PREVIOUSLY_FAILED=a131_0x243440(0x196),SKIP_FLAKY_AND_FAILED=a131_0x243440(0x1ad),ALLOWED_ORCHESTRATION_KEYS=new Set([RETRY_TESTS_ON_FAILURE,ABORT_BUILD_ON_FAILURE,RUN_PREVIOUSLY_FAILED_FIRST,RERUN_PREVIOUSLY_FAILED,SKIP_FLAKY_AND_FAILED]),ABORT_BUILD_SUPPORTED_FRAMEWORKS=new Set([a131_0x243440(0x185)]);class TestOrdering{constructor(){const _0x15585c=a131_0x243440;this[_0x15585c(0x1a7)]=![],this[_0x15585c(0x18a)]=null;}[a131_0x243440(0x1a4)](_0x41215f){const _0x1feeea=a131_0x243440;this[_0x1feeea(0x1a7)]=!![],this[_0x1feeea(0x18a)]=_0x41215f;}[a131_0x243440(0x195)](){const _0x3ce3be=a131_0x243440;this[_0x3ce3be(0x1a7)]=![],this[_0x3ce3be(0x18a)]=null;}[a131_0x243440(0x194)](){const _0x2c36e3=a131_0x243440;return this[_0x2c36e3(0x1a7)];}[a131_0x243440(0x17f)](){const _0x31cb3f=a131_0x243440;return this[_0x31cb3f(0x18a)];}}class OrchestrationUtils{static [a131_0x243440(0x19d)]=null;constructor(_0x59d24c){const _0x5c78cb=a131_0x243440,_0x4cb394={};_0x4cb394[_0x5c78cb(0x1a3)]=function(_0x4d9678,_0xa2c734){return _0x4d9678||_0xa2c734;};const _0x1b424a=_0x4cb394;this[_0x5c78cb(0x1aa)]=![],this['rerunPreviouslyFailed']=![],this[_0x5c78cb(0x199)]=![],this['testOrdering']=new TestOrdering(),this[_0x5c78cb(0x183)]=_0x1b424a['IEhDZ'](_0x59d24c,{});const _0x3b3a9a=_0x59d24c&&_0x59d24c[_0x5c78cb(0x1ac)]||{};this['_setRunPreviouslyFailedFirst'](_0x3b3a9a[RUN_PREVIOUSLY_FAILED_FIRST]||![]),this[_0x5c78cb(0x193)](_0x3b3a9a[RERUN_PREVIOUSLY_FAILED]||![]),this[_0x5c78cb(0x18c)](_0x3b3a9a[SKIP_FLAKY_AND_FAILED]||![]);}static[a131_0x243440(0x192)](_0x1d66c0){const _0x5e46a4=a131_0x243440;return!OrchestrationUtils[_0x5e46a4(0x19d)]&&_0x1d66c0&&(OrchestrationUtils[_0x5e46a4(0x19d)]=new OrchestrationUtils(_0x1d66c0)),OrchestrationUtils[_0x5e46a4(0x19d)];}[a131_0x243440(0x178)](){const _0x20a688=a131_0x243440,_0x5443d2=(this[_0x20a688(0x183)][_0x20a688(0x1ac)]||{})[RETRY_TESTS_ON_FAILURE]||{};return!!_0x5443d2['enabled'];}[a131_0x243440(0x1ab)](){const _0x4ccfd5=a131_0x243440,_0xc366f9=(this['config']['testOrchestrationOptions']||{})[RETRY_TESTS_ON_FAILURE]||{};let _0x23e7e4=0x0;return this['isRetryEnabled'](this[_0x4ccfd5(0x183)])&&(_0x23e7e4=_0xc366f9[_0x4ccfd5(0x1a2)]||0x1),_0x23e7e4;}['getOrchestrationData'](){const _0x18a846=a131_0x243440,_0xf4e971=this[_0x18a846(0x183)][_0x18a846(0x1ac)]||{},_0x48c8b9={};for(const _0x2bfc9d in _0xf4e971){ALLOWED_ORCHESTRATION_KEYS[_0x18a846(0x1b1)](_0x2bfc9d)&&(_0x48c8b9[_0x2bfc9d]=_0xf4e971[_0x2bfc9d]);}return _0x48c8b9;}['checkAbortBuildFileExists'](){const _0x2622f4=a131_0x243440,_0x49bcb1=process[_0x2622f4(0x19f)][_0x2622f4(0x190)],_0x1087c8=path[_0x2622f4(0x176)](os[_0x2622f4(0x1a5)](),_0x2622f4(0x187)+_0x49bcb1);return fs[_0x2622f4(0x1a9)](_0x1087c8);}[a131_0x243440(0x179)](_0x260e47){const _0x5ae806=a131_0x243440,_0x5292be=process[_0x5ae806(0x19f)]['BROWSERSTACK_TESTHUB_UUID'],_0x2cb1f0=path[_0x5ae806(0x176)](os[_0x5ae806(0x1a5)](),_0x5ae806(0x18e)+_0x5292be+_0x5ae806(0x1b0));fs[_0x5ae806(0x1a6)](_0x2cb1f0,_0x260e47+'\x0a');}[a131_0x243440(0x188)](_0x2fdd61){const _0xf01f99=a131_0x243440,_0x2cad5e={};_0x2cad5e['gOWZo']=function(_0x3b79f4,_0x3bea92){return _0x3b79f4||_0x3bea92;};const _0x3e8d1c=_0x2cad5e;return ABORT_BUILD_SUPPORTED_FRAMEWORKS[_0xf01f99(0x1b1)](_0x3e8d1c[_0xf01f99(0x18f)](_0x2fdd61,'')[_0xf01f99(0x186)]());}[a131_0x243440(0x17c)](){const _0x48a9de=a131_0x243440,_0x2a92e5=(this[_0x48a9de(0x183)][_0x48a9de(0x1ac)]||{})[ABORT_BUILD_ON_FAILURE]||{};return!!_0x2a92e5['enabled'];}[a131_0x243440(0x1a0)](){const _0x4f93bd=a131_0x243440,_0x352a19=(this[_0x4f93bd(0x183)][_0x4f93bd(0x1ac)]||{})[ABORT_BUILD_ON_FAILURE]||{};return _0x352a19['maxFailures']||0x5;;}[a131_0x243440(0x1b2)](){const _0xeaf4a2=a131_0x243440;return this[_0xeaf4a2(0x1aa)];}[a131_0x243440(0x189)](_0x4949c7){const _0x35a641=a131_0x243440;this[_0x35a641(0x1aa)]=!!_0x4949c7,this[_0x35a641(0x197)]();}[a131_0x243440(0x182)](){const _0x4c51a8=a131_0x243440;return this[_0x4c51a8(0x196)];}[a131_0x243440(0x193)](_0x5597c2){const _0x27cfc1=a131_0x243440;this[_0x27cfc1(0x196)]=!!_0x5597c2,this[_0x27cfc1(0x197)]();}['getSkipFlakyAndFailed'](){const _0x72c170=a131_0x243440;return this[_0x72c170(0x199)];}[a131_0x243440(0x18c)](_0x2a8ef4){const _0x53e8b4=a131_0x243440;this['skipFlakyAndFailed']=!!_0x2a8ef4,this[_0x53e8b4(0x197)]();}[a131_0x243440(0x197)](){const _0x4eaf8f=a131_0x243440;if(this[_0x4eaf8f(0x1aa)])this[_0x4eaf8f(0x196)]=![],this[_0x4eaf8f(0x199)]=![],this[_0x4eaf8f(0x17e)]['enable'](RUN_PREVIOUSLY_FAILED_FIRST);else{if(this[_0x4eaf8f(0x196)])this['runPreviouslyFailedFirst']=![],this[_0x4eaf8f(0x199)]=![],this[_0x4eaf8f(0x17e)][_0x4eaf8f(0x1a4)](RERUN_PREVIOUSLY_FAILED);else this[_0x4eaf8f(0x199)]?(this[_0x4eaf8f(0x1aa)]=![],this['rerunPreviouslyFailed']=![],this[_0x4eaf8f(0x17e)][_0x4eaf8f(0x1a4)](SKIP_FLAKY_AND_FAILED)):this[_0x4eaf8f(0x17e)][_0x4eaf8f(0x195)]();}}[a131_0x243440(0x19a)](){const _0x1e2027=a131_0x243440;return this['testOrdering'][_0x1e2027(0x194)]();}['getTestOrderingName'](){const _0x267200=a131_0x243440;if(this[_0x267200(0x17e)]['getEnabled']())return this[_0x267200(0x17e)][_0x267200(0x17f)]();return null;}[a131_0x243440(0x198)](){const _0x3b8b57=a131_0x243440,_0x2c49a6={};return _0x2c49a6[_0x3b8b57(0x1a1)]={'enabled':this[_0x3b8b57(0x182)]()},_0x2c49a6['run_previously_failed_first']={'enabled':this['getRunPreviouslyFailedFirst']()},_0x2c49a6[_0x3b8b57(0x1a8)]={'enabled':this[_0x3b8b57(0x180)]()},this[_0x3b8b57(0x178)]()&&(_0x2c49a6[_0x3b8b57(0x177)]={'enabled':!![],'max_retries':this['getRetryCount']()}),this['isAbortBuildOnFailureEnabled']()&&(_0x2c49a6['abort_build_on_failure']={'enabled':!![],'max_failures':this['getFailureThreshold']()}),_0x2c49a6;}}module[a131_0x243440(0x175)]=OrchestrationUtils;