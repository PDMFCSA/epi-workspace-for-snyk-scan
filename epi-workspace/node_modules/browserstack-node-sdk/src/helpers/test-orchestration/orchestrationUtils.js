const a131_0x28e9c1=a131_0xb307;function a131_0xb307(_0x6de991,_0x5bd814){const _0x543381=a131_0x5433();return a131_0xb307=function(_0xb3075e,_0x58ffa7){_0xb3075e=_0xb3075e-0x187;let _0x45afef=_0x543381[_0xb3075e];return _0x45afef;},a131_0xb307(_0x6de991,_0x5bd814);}function a131_0x5433(){const _0x208759=['getSkipFlakyAndFailed','getEnabled','toLowerCase','abortBuildOnFailure','enable','checkAbortBuildFileExists','runPreviouslyFailedFirst','2463090RforqJ','appendFileSync','getRetryCount','_instance','10542hCbwff','abort_build_on_failure','334538pBufOR','_setTestOrdering','getInstance','isAbortBuildOnFailureEnabled','tmpdir','getRunPreviouslyFailedFirst','exports','1VQgaTc','enabled','config','testOrdering','getName','rerunPreviouslyFailed','244482dsRgIV','winstonLogger','isAbortBuildOnFailureSupported','failed_tests_','disable','583112rRgFnT','_setSkipFlakyAndFailed','skip_failing_and_flaky','name','maxFailures','getFailureThreshold','917ImeAWp','run_previously_failed_first','getRerunPreviouslyFailed','_setRunPreviouslyFailedFirst','5tYXWcD','getOrchestrationData','env','maxRetries','BROWSERSTACK_TESTHUB_UUID','_setRerunPreviouslyFailed','isRetryEnabled','skipFlakyAndFailed','has','rerun_previously_failed','297964kVicrq','27PrYpna','join','path','testOrchestrationOptions','723690AThJgu','existsSync','iFcWv','../logger','Akaoh'];a131_0x5433=function(){return _0x208759;};return a131_0x5433();}(function(_0x5bf589,_0x539ee9){const _0x36b817=a131_0xb307,_0x475bb4=_0x5bf589();while(!![]){try{const _0x51467e=-parseInt(_0x36b817(0x1b8))/0x1*(-parseInt(_0x36b817(0x1b1))/0x2)+parseInt(_0x36b817(0x1be))/0x3+parseInt(_0x36b817(0x19a))/0x4*(parseInt(_0x36b817(0x190))/0x5)+-parseInt(_0x36b817(0x1af))/0x6*(parseInt(_0x36b817(0x18c))/0x7)+-parseInt(_0x36b817(0x1c3))/0x8*(-parseInt(_0x36b817(0x19b))/0x9)+-parseInt(_0x36b817(0x1ab))/0xa+parseInt(_0x36b817(0x19f))/0xb;if(_0x51467e===_0x539ee9)break;else _0x475bb4['push'](_0x475bb4['shift']());}catch(_0x2a8b11){_0x475bb4['push'](_0x475bb4['shift']());}}}(a131_0x5433,0x200a3));const os=require('os'),path=require(a131_0x28e9c1(0x19d)),fs=require('fs'),logger=require(a131_0x28e9c1(0x1a2))[a131_0x28e9c1(0x1bf)],RETRY_TESTS_ON_FAILURE='retryTestsOnFailure',ABORT_BUILD_ON_FAILURE=a131_0x28e9c1(0x1a7),RUN_PREVIOUSLY_FAILED_FIRST=a131_0x28e9c1(0x1aa),RERUN_PREVIOUSLY_FAILED=a131_0x28e9c1(0x1bd),SKIP_FLAKY_AND_FAILED='skipFlakyandFailed',ALLOWED_ORCHESTRATION_KEYS=new Set([RETRY_TESTS_ON_FAILURE,ABORT_BUILD_ON_FAILURE,RUN_PREVIOUSLY_FAILED_FIRST,RERUN_PREVIOUSLY_FAILED,SKIP_FLAKY_AND_FAILED]),ABORT_BUILD_SUPPORTED_FRAMEWORKS=new Set(['jest']);class TestOrdering{constructor(){const _0x32f176=a131_0x28e9c1;this[_0x32f176(0x1b9)]=![],this['name']=null;}[a131_0x28e9c1(0x1a8)](_0x48feb4){const _0x4deb1a=a131_0x28e9c1;this['enabled']=!![],this[_0x4deb1a(0x189)]=_0x48feb4;}['disable'](){const _0x3f84fd=a131_0x28e9c1;this[_0x3f84fd(0x1b9)]=![],this[_0x3f84fd(0x189)]=null;}['getEnabled'](){const _0x6b65fd=a131_0x28e9c1;return this[_0x6b65fd(0x1b9)];}[a131_0x28e9c1(0x1bc)](){const _0x547ab4=a131_0x28e9c1;return this[_0x547ab4(0x189)];}}class OrchestrationUtils{static ['_instance']=null;constructor(_0x3f51f2){const _0x47fc53=a131_0x28e9c1,_0x4f4282={};_0x4f4282[_0x47fc53(0x1a3)]=function(_0x2c047e,_0x46d789){return _0x2c047e||_0x46d789;};const _0x2dbb5c=_0x4f4282;this[_0x47fc53(0x1aa)]=![],this[_0x47fc53(0x1bd)]=![],this['skipFlakyAndFailed']=![],this[_0x47fc53(0x1bb)]=new TestOrdering(),this['config']=_0x2dbb5c[_0x47fc53(0x1a3)](_0x3f51f2,{});const _0x58b00d=_0x3f51f2&&_0x3f51f2[_0x47fc53(0x19e)]||{};this[_0x47fc53(0x18f)](_0x58b00d[RUN_PREVIOUSLY_FAILED_FIRST]||![]),this[_0x47fc53(0x195)](_0x58b00d[RERUN_PREVIOUSLY_FAILED]||![]),this[_0x47fc53(0x187)](_0x58b00d[SKIP_FLAKY_AND_FAILED]||![]);}static[a131_0x28e9c1(0x1b3)](_0x5eceb7){const _0x3842a0=a131_0x28e9c1;return!OrchestrationUtils[_0x3842a0(0x1ae)]&&_0x5eceb7&&(OrchestrationUtils['_instance']=new OrchestrationUtils(_0x5eceb7)),OrchestrationUtils['_instance'];}[a131_0x28e9c1(0x196)](){const _0x439ead=a131_0x28e9c1,_0x5521a6=(this[_0x439ead(0x1ba)][_0x439ead(0x19e)]||{})[RETRY_TESTS_ON_FAILURE]||{};return!!_0x5521a6['enabled'];}[a131_0x28e9c1(0x1ad)](){const _0x1fec1c=a131_0x28e9c1,_0x1c72af=(this[_0x1fec1c(0x1ba)][_0x1fec1c(0x19e)]||{})[RETRY_TESTS_ON_FAILURE]||{};let _0x9200b9=0x0;return this[_0x1fec1c(0x196)](this[_0x1fec1c(0x1ba)])&&(_0x9200b9=_0x1c72af[_0x1fec1c(0x193)]||0x1),_0x9200b9;}[a131_0x28e9c1(0x191)](){const _0x56f4f9=a131_0x28e9c1,_0xaec915=this[_0x56f4f9(0x1ba)][_0x56f4f9(0x19e)]||{},_0x37f706={};for(const _0x541f7e in _0xaec915){ALLOWED_ORCHESTRATION_KEYS[_0x56f4f9(0x198)](_0x541f7e)&&(_0x37f706[_0x541f7e]=_0xaec915[_0x541f7e]);}return _0x37f706;}[a131_0x28e9c1(0x1a9)](){const _0x1bdafb=a131_0x28e9c1,_0x11ddd3=process[_0x1bdafb(0x192)][_0x1bdafb(0x194)],_0x4ad003=path['join'](os[_0x1bdafb(0x1b5)](),'abort_build_'+_0x11ddd3);return fs[_0x1bdafb(0x1a0)](_0x4ad003);}['writeFailureToFile'](_0x4ac621){const _0x42e754=a131_0x28e9c1,_0x543e69=process[_0x42e754(0x192)][_0x42e754(0x194)],_0x16a6f5=path[_0x42e754(0x19c)](os[_0x42e754(0x1b5)](),_0x42e754(0x1c1)+_0x543e69+'.txt');fs[_0x42e754(0x1ac)](_0x16a6f5,_0x4ac621+'\x0a');}[a131_0x28e9c1(0x1c0)](_0x18a316){const _0x1e021d=a131_0x28e9c1,_0x45d440={};_0x45d440[_0x1e021d(0x1a1)]=function(_0x3bea1d,_0x1bd931){return _0x3bea1d||_0x1bd931;};const _0x48a898=_0x45d440;return ABORT_BUILD_SUPPORTED_FRAMEWORKS[_0x1e021d(0x198)](_0x48a898[_0x1e021d(0x1a1)](_0x18a316,'')[_0x1e021d(0x1a6)]());}[a131_0x28e9c1(0x1b4)](){const _0x23d854=a131_0x28e9c1,_0x2a9c0d=(this['config']['testOrchestrationOptions']||{})[ABORT_BUILD_ON_FAILURE]||{};return!!_0x2a9c0d[_0x23d854(0x1b9)];}[a131_0x28e9c1(0x18b)](){const _0x27e7bd=a131_0x28e9c1,_0x1cd503=(this[_0x27e7bd(0x1ba)][_0x27e7bd(0x19e)]||{})[ABORT_BUILD_ON_FAILURE]||{};return _0x1cd503[_0x27e7bd(0x18a)]||0x5;;}[a131_0x28e9c1(0x1b6)](){return this['runPreviouslyFailedFirst'];}[a131_0x28e9c1(0x18f)](_0x295dec){const _0x36ce4a=a131_0x28e9c1;this[_0x36ce4a(0x1aa)]=!!_0x295dec,this[_0x36ce4a(0x1b2)]();}[a131_0x28e9c1(0x18e)](){return this['rerunPreviouslyFailed'];}[a131_0x28e9c1(0x195)](_0x4442d3){const _0x111507=a131_0x28e9c1;this[_0x111507(0x1bd)]=!!_0x4442d3,this[_0x111507(0x1b2)]();}[a131_0x28e9c1(0x1a4)](){const _0x1bb8ce=a131_0x28e9c1;return this[_0x1bb8ce(0x197)];}[a131_0x28e9c1(0x187)](_0x2b8708){const _0x466709=a131_0x28e9c1;this['skipFlakyAndFailed']=!!_0x2b8708,this[_0x466709(0x1b2)]();}[a131_0x28e9c1(0x1b2)](){const _0x26eda9=a131_0x28e9c1;if(this[_0x26eda9(0x1aa)])this[_0x26eda9(0x1bd)]=![],this['skipFlakyAndFailed']=![],this[_0x26eda9(0x1bb)][_0x26eda9(0x1a8)](RUN_PREVIOUSLY_FAILED_FIRST);else{if(this['rerunPreviouslyFailed'])this[_0x26eda9(0x1aa)]=![],this['skipFlakyAndFailed']=![],this[_0x26eda9(0x1bb)]['enable'](RERUN_PREVIOUSLY_FAILED);else this['skipFlakyAndFailed']?(this[_0x26eda9(0x1aa)]=![],this[_0x26eda9(0x1bd)]=![],this[_0x26eda9(0x1bb)][_0x26eda9(0x1a8)](SKIP_FLAKY_AND_FAILED)):this[_0x26eda9(0x1bb)][_0x26eda9(0x1c2)]();}}['testOrderingEnabled'](){const _0x70d669=a131_0x28e9c1;return this[_0x70d669(0x1bb)][_0x70d669(0x1a5)]();}['getTestOrderingName'](){const _0x11ffba=a131_0x28e9c1;if(this[_0x11ffba(0x1bb)][_0x11ffba(0x1a5)]())return this['testOrdering']['getName']();return null;}['getBuildStartData'](){const _0x2f2b12=a131_0x28e9c1,_0x21196b={};return _0x21196b[_0x2f2b12(0x199)]={'enabled':this[_0x2f2b12(0x18e)]()},_0x21196b[_0x2f2b12(0x18d)]={'enabled':this[_0x2f2b12(0x1b6)]()},_0x21196b[_0x2f2b12(0x188)]={'enabled':this[_0x2f2b12(0x1a4)]()},this[_0x2f2b12(0x196)]()&&(_0x21196b['retry_tests_on_failure']={'enabled':!![],'max_retries':this['getRetryCount']()}),this['isAbortBuildOnFailureEnabled']()&&(_0x21196b[_0x2f2b12(0x1b0)]={'enabled':!![],'max_failures':this[_0x2f2b12(0x18b)]()}),_0x21196b;}}module[a131_0x28e9c1(0x1b7)]=OrchestrationUtils;