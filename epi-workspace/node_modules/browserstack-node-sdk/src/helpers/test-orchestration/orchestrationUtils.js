const a124_0x3dda2e=a124_0x3fa0;(function(_0x181159,_0x2d0c9d){const _0x47b599=a124_0x3fa0,_0x4f9156=_0x181159();while(!![]){try{const _0x18a198=parseInt(_0x47b599(0x148))/0x1+-parseInt(_0x47b599(0x12c))/0x2*(parseInt(_0x47b599(0x147))/0x3)+-parseInt(_0x47b599(0x129))/0x4+-parseInt(_0x47b599(0x13e))/0x5*(parseInt(_0x47b599(0x136))/0x6)+parseInt(_0x47b599(0x126))/0x7*(-parseInt(_0x47b599(0x116))/0x8)+-parseInt(_0x47b599(0x13c))/0x9*(-parseInt(_0x47b599(0x11c))/0xa)+-parseInt(_0x47b599(0x12d))/0xb*(-parseInt(_0x47b599(0x11d))/0xc);if(_0x18a198===_0x2d0c9d)break;else _0x4f9156['push'](_0x4f9156['shift']());}catch(_0x95e220){_0x4f9156['push'](_0x4f9156['shift']());}}}(a124_0x42f5,0x5fab5));const os=require('os'),path=require(a124_0x3dda2e(0x113)),fs=require('fs'),logger=require(a124_0x3dda2e(0x14a))[a124_0x3dda2e(0x13a)],RETRY_TESTS_ON_FAILURE=a124_0x3dda2e(0x112),ABORT_BUILD_ON_FAILURE='abortBuildOnFailure',RUN_PREVIOUSLY_FAILED_FIRST=a124_0x3dda2e(0x149),RERUN_PREVIOUSLY_FAILED=a124_0x3dda2e(0x114),SKIP_FLAKY_AND_FAILED='skipFlakyandFailed',ALLOWED_ORCHESTRATION_KEYS=new Set([RETRY_TESTS_ON_FAILURE,ABORT_BUILD_ON_FAILURE,RUN_PREVIOUSLY_FAILED_FIRST,RERUN_PREVIOUSLY_FAILED,SKIP_FLAKY_AND_FAILED]),ABORT_BUILD_SUPPORTED_FRAMEWORKS=new Set([a124_0x3dda2e(0x13b)]);class TestOrdering{constructor(){const _0x4812f9=a124_0x3dda2e;this[_0x4812f9(0x120)]=![],this['name']=null;}[a124_0x3dda2e(0x11a)](_0xf2416e){const _0x375f72=a124_0x3dda2e;this[_0x375f72(0x120)]=!![],this['name']=_0xf2416e;}[a124_0x3dda2e(0x110)](){const _0x3f94cb=a124_0x3dda2e;this[_0x3f94cb(0x120)]=![],this['name']=null;}[a124_0x3dda2e(0x124)](){const _0x2d4c40=a124_0x3dda2e;return this[_0x2d4c40(0x120)];}[a124_0x3dda2e(0x131)](){return this['name'];}}function a124_0x42f5(){const _0x23b641=['run_previously_failed_first','48728dOqRqo','11lZAceu','tmpdir','isRetryEnabled','getSkipFlakyAndFailed','getName','_setSkipFlakyAndFailed','_setRunPreviouslyFailedFirst','maxFailures','toLowerCase','642dznYAh','getRetryCount','MpKNi','.txt','winstonLogger','jest','306OBSpby','abort_build_','18215YjniJW','testOrchestrationOptions','_instance','has','rerun_previously_failed','join','xuwal','isAbortBuildOnFailureSupported','_setTestOrdering','84ckiiEJ','523213dtQllb','runPreviouslyFailedFirst','../logger','env','BROWSERSTACK_TESTHUB_UUID','abort_build_on_failure','getOrchestrationData','disable','config','retryTestsOnFailure','path','rerunPreviouslyFailed','checkAbortBuildFileExists','2258248paaatg','getBuildStartData','_setRerunPreviouslyFailed','getRerunPreviouslyFailed','enable','maxRetries','194370CNrTyB','15048732ISRihT','testOrderingEnabled','retry_tests_on_failure','enabled','skip_failing_and_flaky','getFailureThreshold','isAbortBuildOnFailureEnabled','getEnabled','testOrdering','7VJptif','getInstance','getRunPreviouslyFailedFirst','2767988uIRaae','skipFlakyAndFailed'];a124_0x42f5=function(){return _0x23b641;};return a124_0x42f5();}function a124_0x3fa0(_0xbd92b6,_0x5f5c69){const _0x42f587=a124_0x42f5();return a124_0x3fa0=function(_0x3fa04a,_0x533e9e){_0x3fa04a=_0x3fa04a-0x10f;let _0x47874=_0x42f587[_0x3fa04a];return _0x47874;},a124_0x3fa0(_0xbd92b6,_0x5f5c69);}class OrchestrationUtils{static [a124_0x3dda2e(0x140)]=null;constructor(_0x9602a1){const _0x321835=a124_0x3dda2e,_0x2ff656={};_0x2ff656[_0x321835(0x138)]=function(_0x552fff,_0x5b1d21){return _0x552fff||_0x5b1d21;};const _0x3adfa9=_0x2ff656;this[_0x321835(0x149)]=![],this['rerunPreviouslyFailed']=![],this[_0x321835(0x12a)]=![],this['testOrdering']=new TestOrdering(),this[_0x321835(0x111)]=_0x3adfa9['MpKNi'](_0x9602a1,{});const _0x825703=_0x9602a1&&_0x9602a1['testOrchestrationOptions']||{};this[_0x321835(0x133)](_0x825703[RUN_PREVIOUSLY_FAILED_FIRST]||![]),this[_0x321835(0x118)](_0x825703[RERUN_PREVIOUSLY_FAILED]||![]),this[_0x321835(0x132)](_0x825703[SKIP_FLAKY_AND_FAILED]||![]);}static[a124_0x3dda2e(0x127)](_0x48f79f){const _0x8248de=a124_0x3dda2e;return!OrchestrationUtils[_0x8248de(0x140)]&&_0x48f79f&&(OrchestrationUtils['_instance']=new OrchestrationUtils(_0x48f79f)),OrchestrationUtils[_0x8248de(0x140)];}[a124_0x3dda2e(0x12f)](){const _0x351a3b=a124_0x3dda2e,_0x4cedf8=(this[_0x351a3b(0x111)]['testOrchestrationOptions']||{})[RETRY_TESTS_ON_FAILURE]||{};return!!_0x4cedf8[_0x351a3b(0x120)];}[a124_0x3dda2e(0x137)](){const _0x1fcbc3=a124_0x3dda2e,_0x40f825=(this[_0x1fcbc3(0x111)][_0x1fcbc3(0x13f)]||{})[RETRY_TESTS_ON_FAILURE]||{};let _0x101210=0x0;return this[_0x1fcbc3(0x12f)](this[_0x1fcbc3(0x111)])&&(_0x101210=_0x40f825[_0x1fcbc3(0x11b)]||0x1),_0x101210;}[a124_0x3dda2e(0x10f)](){const _0x5b5987=a124_0x3dda2e,_0x49142b=this[_0x5b5987(0x111)]['testOrchestrationOptions']||{},_0x2c6278={};for(const _0x4e14c0 in _0x49142b){ALLOWED_ORCHESTRATION_KEYS[_0x5b5987(0x141)](_0x4e14c0)&&(_0x2c6278[_0x4e14c0]=_0x49142b[_0x4e14c0]);}return _0x2c6278;}[a124_0x3dda2e(0x115)](){const _0x23d947=a124_0x3dda2e,_0x5dbeec=process[_0x23d947(0x14b)][_0x23d947(0x14c)],_0x3039e8=path['join'](os['tmpdir'](),_0x23d947(0x13d)+_0x5dbeec);return fs['existsSync'](_0x3039e8);}['writeFailureToFile'](_0x4bbd97){const _0x174bc7=a124_0x3dda2e,_0x1b0c58=process[_0x174bc7(0x14b)][_0x174bc7(0x14c)],_0x456cd5=path[_0x174bc7(0x143)](os[_0x174bc7(0x12e)](),'failed_tests_'+_0x1b0c58+_0x174bc7(0x139));fs['appendFileSync'](_0x456cd5,_0x4bbd97+'\x0a');}[a124_0x3dda2e(0x145)](_0x5d7a44){const _0xc8c46b=a124_0x3dda2e,_0xbb40b6={};_0xbb40b6['xuwal']=function(_0x4aac2b,_0x15bc69){return _0x4aac2b||_0x15bc69;};const _0x58f7b9=_0xbb40b6;return ABORT_BUILD_SUPPORTED_FRAMEWORKS[_0xc8c46b(0x141)](_0x58f7b9[_0xc8c46b(0x144)](_0x5d7a44,'')[_0xc8c46b(0x135)]());}[a124_0x3dda2e(0x123)](){const _0x277534=a124_0x3dda2e,_0x56c661=(this['config'][_0x277534(0x13f)]||{})[ABORT_BUILD_ON_FAILURE]||{};return!!_0x56c661[_0x277534(0x120)];}[a124_0x3dda2e(0x122)](){const _0x3c9f40=a124_0x3dda2e,_0x563e89=(this['config']['testOrchestrationOptions']||{})[ABORT_BUILD_ON_FAILURE]||{};return _0x563e89[_0x3c9f40(0x134)]||0x5;;}[a124_0x3dda2e(0x128)](){return this['runPreviouslyFailedFirst'];}[a124_0x3dda2e(0x133)](_0x577d43){const _0x3b48b4=a124_0x3dda2e;this[_0x3b48b4(0x149)]=!!_0x577d43,this[_0x3b48b4(0x146)]();}[a124_0x3dda2e(0x119)](){const _0x12b3ec=a124_0x3dda2e;return this[_0x12b3ec(0x114)];}['_setRerunPreviouslyFailed'](_0x3a1a32){const _0x33f8c3=a124_0x3dda2e;this['rerunPreviouslyFailed']=!!_0x3a1a32,this[_0x33f8c3(0x146)]();}[a124_0x3dda2e(0x130)](){const _0xc92d76=a124_0x3dda2e;return this[_0xc92d76(0x12a)];}['_setSkipFlakyAndFailed'](_0x44ba0d){const _0x50ad74=a124_0x3dda2e;this['skipFlakyAndFailed']=!!_0x44ba0d,this[_0x50ad74(0x146)]();}[a124_0x3dda2e(0x146)](){const _0x517bf2=a124_0x3dda2e;if(this[_0x517bf2(0x149)])this[_0x517bf2(0x114)]=![],this[_0x517bf2(0x12a)]=![],this[_0x517bf2(0x125)]['enable'](RUN_PREVIOUSLY_FAILED_FIRST);else{if(this[_0x517bf2(0x114)])this[_0x517bf2(0x149)]=![],this[_0x517bf2(0x12a)]=![],this[_0x517bf2(0x125)]['enable'](RERUN_PREVIOUSLY_FAILED);else this['skipFlakyAndFailed']?(this[_0x517bf2(0x149)]=![],this[_0x517bf2(0x114)]=![],this[_0x517bf2(0x125)][_0x517bf2(0x11a)](SKIP_FLAKY_AND_FAILED)):this['testOrdering']['disable']();}}[a124_0x3dda2e(0x11e)](){const _0x2bae9d=a124_0x3dda2e;return this[_0x2bae9d(0x125)][_0x2bae9d(0x124)]();}['getTestOrderingName'](){const _0x1e068d=a124_0x3dda2e;if(this[_0x1e068d(0x125)][_0x1e068d(0x124)]())return this[_0x1e068d(0x125)][_0x1e068d(0x131)]();return null;}[a124_0x3dda2e(0x117)](){const _0x1e00d8=a124_0x3dda2e,_0x2d8b00={};return _0x2d8b00[_0x1e00d8(0x142)]={'enabled':this[_0x1e00d8(0x119)]()},_0x2d8b00[_0x1e00d8(0x12b)]={'enabled':this[_0x1e00d8(0x128)]()},_0x2d8b00[_0x1e00d8(0x121)]={'enabled':this[_0x1e00d8(0x130)]()},this[_0x1e00d8(0x12f)]()&&(_0x2d8b00[_0x1e00d8(0x11f)]={'enabled':!![],'max_retries':this[_0x1e00d8(0x137)]()}),this[_0x1e00d8(0x123)]()&&(_0x2d8b00[_0x1e00d8(0x14d)]={'enabled':!![],'max_failures':this[_0x1e00d8(0x122)]()}),_0x2d8b00;}}module['exports']=OrchestrationUtils;