const a121_0x3c8c57=a121_0x3b50;(function(_0x17ae49,_0x4ed80f){const _0xd8aebc=a121_0x3b50,_0x411e96=_0x17ae49();while(!![]){try{const _0x2d146c=-parseInt(_0xd8aebc(0x191))/0x1+parseInt(_0xd8aebc(0x180))/0x2*(parseInt(_0xd8aebc(0x1b6))/0x3)+parseInt(_0xd8aebc(0x17f))/0x4+-parseInt(_0xd8aebc(0x18c))/0x5+parseInt(_0xd8aebc(0x1b0))/0x6+-parseInt(_0xd8aebc(0x195))/0x7*(parseInt(_0xd8aebc(0x197))/0x8)+-parseInt(_0xd8aebc(0x1a2))/0x9;if(_0x2d146c===_0x4ed80f)break;else _0x411e96['push'](_0x411e96['shift']());}catch(_0xe36fa1){_0x411e96['push'](_0x411e96['shift']());}}}(a121_0x10d2,0x4d314));function a121_0x3b50(_0x4f86c9,_0x5129d6){const _0x10d247=a121_0x10d2();return a121_0x3b50=function(_0x3b5046,_0x469b97){_0x3b5046=_0x3b5046-0x17d;let _0x278301=_0x10d247[_0x3b5046];return _0x278301;},a121_0x3b50(_0x4f86c9,_0x5129d6);}function a121_0x10d2(){const _0x6a9562=['getSkipFlakyAndFailed','getOrchestrationData','join','2396916kLXsPR','BROWSERSTACK_TESTHUB_UUID','name','isRetryEnabled','getBuildStartData','toLowerCase','636zryTFZ','abortBuildOnFailure','tmpdir','_setTestOrdering','retry_tests_on_failure','abort_build_','2347960NsqjPE','4198zNwNbR','_setRerunPreviouslyFailed','runPreviouslyFailedFirst','appendFileSync','abort_build_on_failure','existsSync','testOrderingEnabled','maxRetries','getName','run_previously_failed_first','getRunPreviouslyFailedFirst','UCZhS','1038145BGGdOI','testOrchestrationOptions','getRerunPreviouslyFailed','isAbortBuildOnFailureEnabled','config','135994fqIPiu','getFailureThreshold','getTestOrderingName','getInstance','610519CWmVSB','winstonLogger','40jcuBDI','rerunPreviouslyFailed','getRetryCount','maxFailures','xJMqY','has','path','../logger','rerun_previously_failed','.txt','isAbortBuildOnFailureSupported','3020184aobSBF','exports','env','_instance','_setSkipFlakyAndFailed','testOrdering','enabled','getEnabled','_setRunPreviouslyFailedFirst','skipFlakyAndFailed','disable'];a121_0x10d2=function(){return _0x6a9562;};return a121_0x10d2();}const os=require('os'),path=require(a121_0x3c8c57(0x19d)),fs=require('fs'),logger=require(a121_0x3c8c57(0x19e))[a121_0x3c8c57(0x196)],RETRY_TESTS_ON_FAILURE='retryTestsOnFailure',ABORT_BUILD_ON_FAILURE=a121_0x3c8c57(0x1b7),RUN_PREVIOUSLY_FAILED_FIRST=a121_0x3c8c57(0x182),RERUN_PREVIOUSLY_FAILED=a121_0x3c8c57(0x198),SKIP_FLAKY_AND_FAILED='skipFlakyandFailed',ALLOWED_ORCHESTRATION_KEYS=new Set([RETRY_TESTS_ON_FAILURE,ABORT_BUILD_ON_FAILURE,RUN_PREVIOUSLY_FAILED_FIRST,RERUN_PREVIOUSLY_FAILED,SKIP_FLAKY_AND_FAILED]),ABORT_BUILD_SUPPORTED_FRAMEWORKS=new Set(['jest']);class TestOrdering{constructor(){const _0x5615ea=a121_0x3c8c57;this['enabled']=![],this[_0x5615ea(0x1b2)]=null;}['enable'](_0x5f1b54){const _0x7af149=a121_0x3c8c57;this[_0x7af149(0x1a8)]=!![],this[_0x7af149(0x1b2)]=_0x5f1b54;}[a121_0x3c8c57(0x1ac)](){const _0x3bb5cf=a121_0x3c8c57;this[_0x3bb5cf(0x1a8)]=![],this[_0x3bb5cf(0x1b2)]=null;}[a121_0x3c8c57(0x1a9)](){return this['enabled'];}[a121_0x3c8c57(0x188)](){return this['name'];}}class OrchestrationUtils{static ['_instance']=null;constructor(_0x33a511){const _0x4412a3=a121_0x3c8c57,_0x31c8f0={};_0x31c8f0[_0x4412a3(0x19b)]=function(_0x521e10,_0x431ddc){return _0x521e10||_0x431ddc;};const _0x4303c9=_0x31c8f0;this[_0x4412a3(0x182)]=![],this[_0x4412a3(0x198)]=![],this[_0x4412a3(0x1ab)]=![],this[_0x4412a3(0x1a7)]=new TestOrdering(),this[_0x4412a3(0x190)]=_0x4303c9[_0x4412a3(0x19b)](_0x33a511,{});const _0x4d88fb=_0x33a511&&_0x33a511['testOrchestrationOptions']||{};this[_0x4412a3(0x1aa)](_0x4d88fb[RUN_PREVIOUSLY_FAILED_FIRST]||![]),this[_0x4412a3(0x181)](_0x4d88fb[RERUN_PREVIOUSLY_FAILED]||![]),this[_0x4412a3(0x1a6)](_0x4d88fb[SKIP_FLAKY_AND_FAILED]||![]);}static[a121_0x3c8c57(0x194)](_0xc5f965){const _0x891526=a121_0x3c8c57;return!OrchestrationUtils['_instance']&&_0xc5f965&&(OrchestrationUtils[_0x891526(0x1a5)]=new OrchestrationUtils(_0xc5f965)),OrchestrationUtils[_0x891526(0x1a5)];}['isRetryEnabled'](){const _0x49ab62=a121_0x3c8c57,_0x32cdfb=(this[_0x49ab62(0x190)]['testOrchestrationOptions']||{})[RETRY_TESTS_ON_FAILURE]||{};return!!_0x32cdfb[_0x49ab62(0x1a8)];}[a121_0x3c8c57(0x199)](){const _0x5837f3=a121_0x3c8c57,_0x56470b=(this[_0x5837f3(0x190)][_0x5837f3(0x18d)]||{})[RETRY_TESTS_ON_FAILURE]||{};let _0x35941f=0x0;return this['isRetryEnabled'](this[_0x5837f3(0x190)])&&(_0x35941f=_0x56470b[_0x5837f3(0x187)]||0x1),_0x35941f;}[a121_0x3c8c57(0x1ae)](){const _0x909544=a121_0x3c8c57,_0x19e907=this[_0x909544(0x190)]['testOrchestrationOptions']||{},_0x2cf912={};for(const _0x227a9e in _0x19e907){ALLOWED_ORCHESTRATION_KEYS[_0x909544(0x19c)](_0x227a9e)&&(_0x2cf912[_0x227a9e]=_0x19e907[_0x227a9e]);}return _0x2cf912;}['checkAbortBuildFileExists'](){const _0x4af0ca=a121_0x3c8c57,_0x549c6b=process['env']['BROWSERSTACK_TESTHUB_UUID'],_0x3e06d8=path['join'](os['tmpdir'](),_0x4af0ca(0x17e)+_0x549c6b);return fs[_0x4af0ca(0x185)](_0x3e06d8);}['writeFailureToFile'](_0x4c8cbd){const _0x289d83=a121_0x3c8c57,_0x2ac558=process[_0x289d83(0x1a4)][_0x289d83(0x1b1)],_0x3d0d73=path[_0x289d83(0x1af)](os[_0x289d83(0x1b8)](),'failed_tests_'+_0x2ac558+_0x289d83(0x1a0));fs[_0x289d83(0x183)](_0x3d0d73,_0x4c8cbd+'\x0a');}[a121_0x3c8c57(0x1a1)](_0x4a8d83){const _0x3eedef=a121_0x3c8c57,_0x33b3c6={};_0x33b3c6['UCZhS']=function(_0x2097be,_0x22e141){return _0x2097be||_0x22e141;};const _0x557e46=_0x33b3c6;return ABORT_BUILD_SUPPORTED_FRAMEWORKS[_0x3eedef(0x19c)](_0x557e46[_0x3eedef(0x18b)](_0x4a8d83,'')[_0x3eedef(0x1b5)]());}[a121_0x3c8c57(0x18f)](){const _0x10f278=a121_0x3c8c57,_0x5f04ce=(this[_0x10f278(0x190)][_0x10f278(0x18d)]||{})[ABORT_BUILD_ON_FAILURE]||{};return!!_0x5f04ce[_0x10f278(0x1a8)];}[a121_0x3c8c57(0x192)](){const _0x429e84=a121_0x3c8c57,_0x334387=(this[_0x429e84(0x190)][_0x429e84(0x18d)]||{})[ABORT_BUILD_ON_FAILURE]||{};return _0x334387[_0x429e84(0x19a)]||0x5;;}['getRunPreviouslyFailedFirst'](){const _0x442e24=a121_0x3c8c57;return this[_0x442e24(0x182)];}[a121_0x3c8c57(0x1aa)](_0x2cdc8b){const _0x2299e1=a121_0x3c8c57;this[_0x2299e1(0x182)]=!!_0x2cdc8b,this['_setTestOrdering']();}[a121_0x3c8c57(0x18e)](){return this['rerunPreviouslyFailed'];}['_setRerunPreviouslyFailed'](_0xf1633f){const _0x117c4d=a121_0x3c8c57;this[_0x117c4d(0x198)]=!!_0xf1633f,this[_0x117c4d(0x1b9)]();}[a121_0x3c8c57(0x1ad)](){const _0xd0be7=a121_0x3c8c57;return this[_0xd0be7(0x1ab)];}[a121_0x3c8c57(0x1a6)](_0x6a6ee3){const _0x4d56c0=a121_0x3c8c57;this[_0x4d56c0(0x1ab)]=!!_0x6a6ee3,this[_0x4d56c0(0x1b9)]();}[a121_0x3c8c57(0x1b9)](){const _0x4d6a8b=a121_0x3c8c57;if(this[_0x4d6a8b(0x182)])this['rerunPreviouslyFailed']=![],this['skipFlakyAndFailed']=![],this[_0x4d6a8b(0x1a7)]['enable'](RUN_PREVIOUSLY_FAILED_FIRST);else{if(this[_0x4d6a8b(0x198)])this[_0x4d6a8b(0x182)]=![],this[_0x4d6a8b(0x1ab)]=![],this['testOrdering']['enable'](RERUN_PREVIOUSLY_FAILED);else this[_0x4d6a8b(0x1ab)]?(this[_0x4d6a8b(0x182)]=![],this[_0x4d6a8b(0x198)]=![],this[_0x4d6a8b(0x1a7)]['enable'](SKIP_FLAKY_AND_FAILED)):this[_0x4d6a8b(0x1a7)][_0x4d6a8b(0x1ac)]();}}[a121_0x3c8c57(0x186)](){const _0x5753c2=a121_0x3c8c57;return this[_0x5753c2(0x1a7)][_0x5753c2(0x1a9)]();}[a121_0x3c8c57(0x193)](){const _0x3c2f2e=a121_0x3c8c57;if(this[_0x3c2f2e(0x1a7)]['getEnabled']())return this['testOrdering']['getName']();return null;}[a121_0x3c8c57(0x1b4)](){const _0x1720fb=a121_0x3c8c57,_0x32b844={};return _0x32b844[_0x1720fb(0x19f)]={'enabled':this[_0x1720fb(0x18e)]()},_0x32b844[_0x1720fb(0x189)]={'enabled':this[_0x1720fb(0x18a)]()},_0x32b844['skip_failing_and_flaky']={'enabled':this['getSkipFlakyAndFailed']()},this[_0x1720fb(0x1b3)]()&&(_0x32b844[_0x1720fb(0x17d)]={'enabled':!![],'max_retries':this[_0x1720fb(0x199)]()}),this[_0x1720fb(0x18f)]()&&(_0x32b844[_0x1720fb(0x184)]={'enabled':!![],'max_failures':this[_0x1720fb(0x192)]()}),_0x32b844;}}module[a121_0x3c8c57(0x1a3)]=OrchestrationUtils;