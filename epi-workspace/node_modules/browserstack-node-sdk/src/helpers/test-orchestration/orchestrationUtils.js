const a124_0xdb03e3=a124_0x5c78;(function(_0x5f1dd1,_0x16bb08){const _0x404a73=a124_0x5c78,_0x36744b=_0x5f1dd1();while(!![]){try{const _0x3a988d=-parseInt(_0x404a73(0x7a))/0x1+-parseInt(_0x404a73(0x95))/0x2+parseInt(_0x404a73(0xa5))/0x3*(parseInt(_0x404a73(0x90))/0x4)+-parseInt(_0x404a73(0x77))/0x5*(parseInt(_0x404a73(0x6c))/0x6)+parseInt(_0x404a73(0x9e))/0x7*(-parseInt(_0x404a73(0x9a))/0x8)+-parseInt(_0x404a73(0x9c))/0x9+parseInt(_0x404a73(0x99))/0xa;if(_0x3a988d===_0x16bb08)break;else _0x36744b['push'](_0x36744b['shift']());}catch(_0x528f58){_0x36744b['push'](_0x36744b['shift']());}}}(a124_0x1583,0xe6a1d));const os=require('os'),path=require(a124_0xdb03e3(0x88)),fs=require('fs'),logger=require(a124_0xdb03e3(0x8c))['winstonLogger'],RETRY_TESTS_ON_FAILURE=a124_0xdb03e3(0x8f),ABORT_BUILD_ON_FAILURE='abortBuildOnFailure',RUN_PREVIOUSLY_FAILED_FIRST=a124_0xdb03e3(0x7c),RERUN_PREVIOUSLY_FAILED=a124_0xdb03e3(0x8a),SKIP_FLAKY_AND_FAILED=a124_0xdb03e3(0x98),ALLOWED_ORCHESTRATION_KEYS=new Set([RETRY_TESTS_ON_FAILURE,ABORT_BUILD_ON_FAILURE,RUN_PREVIOUSLY_FAILED_FIRST,RERUN_PREVIOUSLY_FAILED,SKIP_FLAKY_AND_FAILED]),ABORT_BUILD_SUPPORTED_FRAMEWORKS=new Set([a124_0xdb03e3(0x6d)]);class TestOrdering{constructor(){const _0x461e13=a124_0xdb03e3;this['enabled']=![],this[_0x461e13(0x9b)]=null;}[a124_0xdb03e3(0x82)](_0x327c9e){const _0x227575=a124_0xdb03e3;this[_0x227575(0x8d)]=!![],this[_0x227575(0x9b)]=_0x327c9e;}[a124_0xdb03e3(0x75)](){const _0x37ae28=a124_0xdb03e3;this[_0x37ae28(0x8d)]=![],this['name']=null;}[a124_0xdb03e3(0xa0)](){const _0x55d1a6=a124_0xdb03e3;return this[_0x55d1a6(0x8d)];}[a124_0xdb03e3(0xa6)](){return this['name'];}}function a124_0x5c78(_0x4e1c86,_0x228df1){const _0x1583ef=a124_0x1583();return a124_0x5c78=function(_0x5c78e1,_0x39ed48){_0x5c78e1=_0x5c78e1-0x67;let _0x5bce49=_0x1583ef[_0x5c78e1];return _0x5bce49;},a124_0x5c78(_0x4e1c86,_0x228df1);}class OrchestrationUtils{static [a124_0xdb03e3(0x76)]=null;constructor(_0x1b680f){const _0x4ee107=a124_0xdb03e3,_0x1bb4e5={};_0x1bb4e5[_0x4ee107(0x73)]=function(_0x12219a,_0x52c4b3){return _0x12219a||_0x52c4b3;};const _0x3c48e7=_0x1bb4e5;this[_0x4ee107(0x7c)]=![],this['rerunPreviouslyFailed']=![],this[_0x4ee107(0x8e)]=![],this['testOrdering']=new TestOrdering(),this[_0x4ee107(0x83)]=_0x3c48e7[_0x4ee107(0x73)](_0x1b680f,{});const _0x356819=_0x1b680f&&_0x1b680f['testOrchestrationOptions']||{};this['_setRunPreviouslyFailedFirst'](_0x356819[RUN_PREVIOUSLY_FAILED_FIRST]||![]),this[_0x4ee107(0x79)](_0x356819[RERUN_PREVIOUSLY_FAILED]||![]),this[_0x4ee107(0x94)](_0x356819[SKIP_FLAKY_AND_FAILED]||![]);}static[a124_0xdb03e3(0x84)](_0x4f5a8f){const _0x42f67f=a124_0xdb03e3;return!OrchestrationUtils[_0x42f67f(0x76)]&&_0x4f5a8f&&(OrchestrationUtils[_0x42f67f(0x76)]=new OrchestrationUtils(_0x4f5a8f)),OrchestrationUtils['_instance'];}['isRetryEnabled'](){const _0x4e534d=(this['config']['testOrchestrationOptions']||{})[RETRY_TESTS_ON_FAILURE]||{};return!!_0x4e534d['enabled'];}[a124_0xdb03e3(0x72)](){const _0xcfe665=a124_0xdb03e3,_0x116055=(this[_0xcfe665(0x83)][_0xcfe665(0x71)]||{})[RETRY_TESTS_ON_FAILURE]||{};let _0x38a67b=0x0;return this[_0xcfe665(0x6e)](this[_0xcfe665(0x83)])&&(_0x38a67b=_0x116055[_0xcfe665(0x7e)]||0x1),_0x38a67b;}[a124_0xdb03e3(0x9f)](){const _0x240ff1=a124_0xdb03e3,_0x265f60=this['config'][_0x240ff1(0x71)]||{},_0x29cbb8={};for(const _0x431fff in _0x265f60){ALLOWED_ORCHESTRATION_KEYS[_0x240ff1(0x93)](_0x431fff)&&(_0x29cbb8[_0x431fff]=_0x265f60[_0x431fff]);}return _0x29cbb8;}[a124_0xdb03e3(0x7d)](){const _0x228dae=a124_0xdb03e3,_0x2857aa=process['env']['BROWSERSTACK_TESTHUB_UUID'],_0x5ae328=path[_0x228dae(0x6b)](os[_0x228dae(0xa2)](),'abort_build_'+_0x2857aa);return fs[_0x228dae(0x87)](_0x5ae328);}[a124_0xdb03e3(0x81)](_0x4a0fef){const _0x36b163=a124_0xdb03e3,_0x2152e1=process[_0x36b163(0x80)]['BROWSERSTACK_TESTHUB_UUID'],_0xa26bd4=path[_0x36b163(0x6b)](os['tmpdir'](),_0x36b163(0xa3)+_0x2152e1+_0x36b163(0x74));fs[_0x36b163(0x7b)](_0xa26bd4,_0x4a0fef+'\x0a');}[a124_0xdb03e3(0x85)](_0x4e4e85){const _0x437b27=a124_0xdb03e3,_0xf5b45={};_0xf5b45[_0x437b27(0x97)]=function(_0x14cff9,_0x527f46){return _0x14cff9||_0x527f46;};const _0x3d7397=_0xf5b45;return ABORT_BUILD_SUPPORTED_FRAMEWORKS[_0x437b27(0x93)](_0x3d7397[_0x437b27(0x97)](_0x4e4e85,'')[_0x437b27(0x86)]());}[a124_0xdb03e3(0x6a)](){const _0x11cf1b=a124_0xdb03e3,_0x527a39=(this[_0x11cf1b(0x83)][_0x11cf1b(0x71)]||{})[ABORT_BUILD_ON_FAILURE]||{};return!!_0x527a39[_0x11cf1b(0x8d)];}['getFailureThreshold'](){const _0x1fef96=a124_0xdb03e3,_0x42ca63=(this[_0x1fef96(0x83)][_0x1fef96(0x71)]||{})[ABORT_BUILD_ON_FAILURE]||{};return _0x42ca63['maxFailures']||0x5;;}[a124_0xdb03e3(0x78)](){return this['runPreviouslyFailedFirst'];}[a124_0xdb03e3(0x89)](_0x43f98a){const _0x8415fb=a124_0xdb03e3;this[_0x8415fb(0x7c)]=!!_0x43f98a,this[_0x8415fb(0x68)]();}[a124_0xdb03e3(0x92)](){return this['rerunPreviouslyFailed'];}[a124_0xdb03e3(0x79)](_0x31a9b0){const _0x29be26=a124_0xdb03e3;this[_0x29be26(0x8a)]=!!_0x31a9b0,this[_0x29be26(0x68)]();}['getSkipFlakyAndFailed'](){const _0x5f0866=a124_0xdb03e3;return this[_0x5f0866(0x8e)];}[a124_0xdb03e3(0x94)](_0xeda60b){const _0x36832b=a124_0xdb03e3;this[_0x36832b(0x8e)]=!!_0xeda60b,this[_0x36832b(0x68)]();}[a124_0xdb03e3(0x68)](){const _0x34ef89=a124_0xdb03e3;if(this[_0x34ef89(0x7c)])this[_0x34ef89(0x8a)]=![],this[_0x34ef89(0x8e)]=![],this[_0x34ef89(0x6f)]['enable'](RUN_PREVIOUSLY_FAILED_FIRST);else{if(this[_0x34ef89(0x8a)])this[_0x34ef89(0x7c)]=![],this['skipFlakyAndFailed']=![],this[_0x34ef89(0x6f)][_0x34ef89(0x82)](RERUN_PREVIOUSLY_FAILED);else this[_0x34ef89(0x8e)]?(this[_0x34ef89(0x7c)]=![],this[_0x34ef89(0x8a)]=![],this['testOrdering']['enable'](SKIP_FLAKY_AND_FAILED)):this[_0x34ef89(0x6f)][_0x34ef89(0x75)]();}}[a124_0xdb03e3(0x70)](){const _0x55aaab=a124_0xdb03e3;return this[_0x55aaab(0x6f)][_0x55aaab(0xa0)]();}[a124_0xdb03e3(0x96)](){const _0x4d00af=a124_0xdb03e3;if(this[_0x4d00af(0x6f)][_0x4d00af(0xa0)]())return this['testOrdering'][_0x4d00af(0xa6)]();return null;}[a124_0xdb03e3(0x7f)](){const _0x2dc654=a124_0xdb03e3,_0x41b61f={};return _0x41b61f[_0x2dc654(0x67)]={'enabled':this[_0x2dc654(0x92)]()},_0x41b61f[_0x2dc654(0x91)]={'enabled':this[_0x2dc654(0x78)]()},_0x41b61f[_0x2dc654(0x69)]={'enabled':this[_0x2dc654(0x8b)]()},this[_0x2dc654(0x6e)]()&&(_0x41b61f[_0x2dc654(0xa1)]={'enabled':!![],'max_retries':this[_0x2dc654(0x72)]()}),this['isAbortBuildOnFailureEnabled']()&&(_0x41b61f[_0x2dc654(0xa4)]={'enabled':!![],'max_failures':this['getFailureThreshold']()}),_0x41b61f;}}function a124_0x1583(){const _0x4be4a6=['36617VofffT','getOrchestrationData','getEnabled','retry_tests_on_failure','tmpdir','failed_tests_','abort_build_on_failure','750369SnsNdf','getName','rerun_previously_failed','_setTestOrdering','skip_failing_and_flaky','isAbortBuildOnFailureEnabled','join','6rXHxvr','jest','isRetryEnabled','testOrdering','testOrderingEnabled','testOrchestrationOptions','getRetryCount','vNBuV','.txt','disable','_instance','5415395gBFuWC','getRunPreviouslyFailedFirst','_setRerunPreviouslyFailed','332876AkbTRY','appendFileSync','runPreviouslyFailedFirst','checkAbortBuildFileExists','maxRetries','getBuildStartData','env','writeFailureToFile','enable','config','getInstance','isAbortBuildOnFailureSupported','toLowerCase','existsSync','path','_setRunPreviouslyFailedFirst','rerunPreviouslyFailed','getSkipFlakyAndFailed','../logger','enabled','skipFlakyAndFailed','retryTestsOnFailure','20sPAtOU','run_previously_failed_first','getRerunPreviouslyFailed','has','_setSkipFlakyAndFailed','1996934gjuqWm','getTestOrderingName','LfHhS','skipFlakyandFailed','30620370KCAJJU','1392HDOrOu','name','390303kbPrtA','exports'];a124_0x1583=function(){return _0x4be4a6;};return a124_0x1583();}module[a124_0xdb03e3(0x9d)]=OrchestrationUtils;