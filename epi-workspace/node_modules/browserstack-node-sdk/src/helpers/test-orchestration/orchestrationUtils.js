const a134_0x1ed433=a134_0x57f2;(function(_0x2d9ae3,_0x59dd78){const _0x818593=a134_0x57f2,_0x254734=_0x2d9ae3();while(!![]){try{const _0x3427c0=parseInt(_0x818593(0x119))/0x1+-parseInt(_0x818593(0xed))/0x2*(parseInt(_0x818593(0xe6))/0x3)+-parseInt(_0x818593(0xfc))/0x4*(-parseInt(_0x818593(0xf8))/0x5)+parseInt(_0x818593(0xdc))/0x6*(-parseInt(_0x818593(0xeb))/0x7)+-parseInt(_0x818593(0xf7))/0x8+parseInt(_0x818593(0xfb))/0x9*(parseInt(_0x818593(0xf4))/0xa)+parseInt(_0x818593(0x104))/0xb*(parseInt(_0x818593(0xdf))/0xc);if(_0x3427c0===_0x59dd78)break;else _0x254734['push'](_0x254734['shift']());}catch(_0x4f253e){_0x254734['push'](_0x254734['shift']());}}}(a134_0x1a44,0xa6ff5));const os=require('os'),path=require(a134_0x1ed433(0xf1)),fs=require('fs'),logger=require(a134_0x1ed433(0x100))[a134_0x1ed433(0xe4)],RETRY_TESTS_ON_FAILURE=a134_0x1ed433(0x110),ABORT_BUILD_ON_FAILURE=a134_0x1ed433(0x10d),RUN_PREVIOUSLY_FAILED_FIRST=a134_0x1ed433(0xdb),RERUN_PREVIOUSLY_FAILED=a134_0x1ed433(0xea),SKIP_FLAKY_AND_FAILED=a134_0x1ed433(0x111),ALLOWED_ORCHESTRATION_KEYS=new Set([RETRY_TESTS_ON_FAILURE,ABORT_BUILD_ON_FAILURE,RUN_PREVIOUSLY_FAILED_FIRST,RERUN_PREVIOUSLY_FAILED,SKIP_FLAKY_AND_FAILED]),ABORT_BUILD_SUPPORTED_FRAMEWORKS=new Set([a134_0x1ed433(0x10e)]);function a134_0x1a44(){const _0x5578df=['config','390032SgwwXX','maxFailures','writeFailureToFile','runPreviouslyFailedFirst','2017362ZNKrrJ','enabled','.txt','12BevoWR','env','testOrchestrationOptions','_setRerunPreviouslyFailed','exports','winstonLogger','getRetryCount','285zeJpxx','_setTestOrdering','skipFlakyAndFailed','isRetryEnabled','rerunPreviouslyFailed','28uhLiAl','_instance','21002gbGMQw','getRerunPreviouslyFailed','_setRunPreviouslyFailedFirst','HnYQo','path','skip_failing_and_flaky','getSkipFlakyAndFailed','111830bPeVds','disable','getTestOrderingName','1902632mVvYDM','1016265OcTFew','retry_tests_on_failure','run_previously_failed_first','666OuyoGV','20KHslyD','getRunPreviouslyFailedFirst','enable','BROWSERSTACK_TESTHUB_UUID','../logger','name','testOrdering','has','11335654hjooUv','tmpdir','abort_build_on_failure','getInstance','maxRetries','testOrderingEnabled','join','getOrchestrationData','_setSkipFlakyAndFailed','abortBuildOnFailure','jest','abort_build_','retryTestsOnFailure','skipFlakyandFailed','getEnabled','checkAbortBuildFileExists','getFailureThreshold','failed_tests_','isAbortBuildOnFailureEnabled','isAbortBuildOnFailureSupported'];a134_0x1a44=function(){return _0x5578df;};return a134_0x1a44();}class TestOrdering{constructor(){const _0x2ce0b8=a134_0x1ed433;this[_0x2ce0b8(0xdd)]=![],this[_0x2ce0b8(0x101)]=null;}[a134_0x1ed433(0xfe)](_0x495639){const _0x45ad66=a134_0x1ed433;this[_0x45ad66(0xdd)]=!![],this['name']=_0x495639;}[a134_0x1ed433(0xf5)](){const _0x3c17a3=a134_0x1ed433;this[_0x3c17a3(0xdd)]=![],this[_0x3c17a3(0x101)]=null;}[a134_0x1ed433(0x112)](){const _0x53fdeb=a134_0x1ed433;return this[_0x53fdeb(0xdd)];}['getName'](){return this['name'];}}class OrchestrationUtils{static [a134_0x1ed433(0xec)]=null;constructor(_0x78884e){const _0x346ddb=a134_0x1ed433,_0x19a829={};_0x19a829['nJLEn']=function(_0x52f7e2,_0x25e0c5){return _0x52f7e2||_0x25e0c5;};const _0x55e5c6=_0x19a829;this[_0x346ddb(0xdb)]=![],this[_0x346ddb(0xea)]=![],this['skipFlakyAndFailed']=![],this[_0x346ddb(0x102)]=new TestOrdering(),this[_0x346ddb(0x118)]=_0x55e5c6['nJLEn'](_0x78884e,{});const _0x20e7c3=_0x78884e&&_0x78884e['testOrchestrationOptions']||{};this['_setRunPreviouslyFailedFirst'](_0x20e7c3[RUN_PREVIOUSLY_FAILED_FIRST]||![]),this['_setRerunPreviouslyFailed'](_0x20e7c3[RERUN_PREVIOUSLY_FAILED]||![]),this[_0x346ddb(0x10c)](_0x20e7c3[SKIP_FLAKY_AND_FAILED]||![]);}static[a134_0x1ed433(0x107)](_0x26a813){const _0x55f6ca=a134_0x1ed433;return!OrchestrationUtils[_0x55f6ca(0xec)]&&_0x26a813&&(OrchestrationUtils[_0x55f6ca(0xec)]=new OrchestrationUtils(_0x26a813)),OrchestrationUtils[_0x55f6ca(0xec)];}[a134_0x1ed433(0xe9)](){const _0x230f3d=a134_0x1ed433,_0x4c2b3f=(this[_0x230f3d(0x118)][_0x230f3d(0xe1)]||{})[RETRY_TESTS_ON_FAILURE]||{};return!!_0x4c2b3f[_0x230f3d(0xdd)];}[a134_0x1ed433(0xe5)](){const _0x219ae1=a134_0x1ed433,_0x53cc96=(this[_0x219ae1(0x118)][_0x219ae1(0xe1)]||{})[RETRY_TESTS_ON_FAILURE]||{};let _0x41a246=0x0;return this[_0x219ae1(0xe9)](this[_0x219ae1(0x118)])&&(_0x41a246=_0x53cc96[_0x219ae1(0x108)]||0x1),_0x41a246;}[a134_0x1ed433(0x10b)](){const _0x4719f4=a134_0x1ed433,_0x4fba0c=this['config'][_0x4719f4(0xe1)]||{},_0x2bd4f3={};for(const _0x435f7f in _0x4fba0c){ALLOWED_ORCHESTRATION_KEYS[_0x4719f4(0x103)](_0x435f7f)&&(_0x2bd4f3[_0x435f7f]=_0x4fba0c[_0x435f7f]);}return _0x2bd4f3;}[a134_0x1ed433(0x113)](){const _0x495fd5=a134_0x1ed433,_0x40a3f6=process[_0x495fd5(0xe0)][_0x495fd5(0xff)],_0x1c1411=path[_0x495fd5(0x10a)](os[_0x495fd5(0x105)](),_0x495fd5(0x10f)+_0x40a3f6);return fs['existsSync'](_0x1c1411);}[a134_0x1ed433(0x11b)](_0x1204a7){const _0x108555=a134_0x1ed433,_0x3d9992=process['env'][_0x108555(0xff)],_0x2482d6=path[_0x108555(0x10a)](os[_0x108555(0x105)](),_0x108555(0x115)+_0x3d9992+_0x108555(0xde));fs['appendFileSync'](_0x2482d6,_0x1204a7+'\x0a');}[a134_0x1ed433(0x117)](_0x2b8c6e){const _0x284950=a134_0x1ed433,_0x471235={};_0x471235[_0x284950(0xf0)]=function(_0x3c4e6c,_0x1cac09){return _0x3c4e6c||_0x1cac09;};const _0x582c84=_0x471235;return ABORT_BUILD_SUPPORTED_FRAMEWORKS['has'](_0x582c84['HnYQo'](_0x2b8c6e,'')['toLowerCase']());}[a134_0x1ed433(0x116)](){const _0x4f4d89=a134_0x1ed433,_0x38c256=(this[_0x4f4d89(0x118)]['testOrchestrationOptions']||{})[ABORT_BUILD_ON_FAILURE]||{};return!!_0x38c256[_0x4f4d89(0xdd)];}['getFailureThreshold'](){const _0x3fc07b=a134_0x1ed433,_0x457eb6=(this[_0x3fc07b(0x118)][_0x3fc07b(0xe1)]||{})[ABORT_BUILD_ON_FAILURE]||{};return _0x457eb6[_0x3fc07b(0x11a)]||0x5;;}['getRunPreviouslyFailedFirst'](){const _0x1ad16d=a134_0x1ed433;return this[_0x1ad16d(0xdb)];}[a134_0x1ed433(0xef)](_0x1457f0){const _0x525b3b=a134_0x1ed433;this[_0x525b3b(0xdb)]=!!_0x1457f0,this[_0x525b3b(0xe7)]();}[a134_0x1ed433(0xee)](){return this['rerunPreviouslyFailed'];}[a134_0x1ed433(0xe2)](_0x3bbf8f){this['rerunPreviouslyFailed']=!!_0x3bbf8f,this['_setTestOrdering']();}[a134_0x1ed433(0xf3)](){const _0x62e96f=a134_0x1ed433;return this[_0x62e96f(0xe8)];}[a134_0x1ed433(0x10c)](_0x221a66){this['skipFlakyAndFailed']=!!_0x221a66,this['_setTestOrdering']();}[a134_0x1ed433(0xe7)](){const _0x16aea2=a134_0x1ed433;if(this['runPreviouslyFailedFirst'])this[_0x16aea2(0xea)]=![],this[_0x16aea2(0xe8)]=![],this[_0x16aea2(0x102)][_0x16aea2(0xfe)](RUN_PREVIOUSLY_FAILED_FIRST);else{if(this[_0x16aea2(0xea)])this[_0x16aea2(0xdb)]=![],this['skipFlakyAndFailed']=![],this[_0x16aea2(0x102)]['enable'](RERUN_PREVIOUSLY_FAILED);else this[_0x16aea2(0xe8)]?(this[_0x16aea2(0xdb)]=![],this[_0x16aea2(0xea)]=![],this[_0x16aea2(0x102)][_0x16aea2(0xfe)](SKIP_FLAKY_AND_FAILED)):this[_0x16aea2(0x102)]['disable']();}}[a134_0x1ed433(0x109)](){const _0x1943a6=a134_0x1ed433;return this[_0x1943a6(0x102)][_0x1943a6(0x112)]();}[a134_0x1ed433(0xf6)](){const _0x13e5ec=a134_0x1ed433;if(this[_0x13e5ec(0x102)][_0x13e5ec(0x112)]())return this[_0x13e5ec(0x102)]['getName']();return null;}['getBuildStartData'](){const _0x50d7a1=a134_0x1ed433,_0x43b52a={};return _0x43b52a['rerun_previously_failed']={'enabled':this[_0x50d7a1(0xee)]()},_0x43b52a[_0x50d7a1(0xfa)]={'enabled':this[_0x50d7a1(0xfd)]()},_0x43b52a[_0x50d7a1(0xf2)]={'enabled':this[_0x50d7a1(0xf3)]()},this[_0x50d7a1(0xe9)]()&&(_0x43b52a[_0x50d7a1(0xf9)]={'enabled':!![],'max_retries':this[_0x50d7a1(0xe5)]()}),this[_0x50d7a1(0x116)]()&&(_0x43b52a[_0x50d7a1(0x106)]={'enabled':!![],'max_failures':this[_0x50d7a1(0x114)]()}),_0x43b52a;}}function a134_0x57f2(_0x4781ce,_0xf9c3a3){const _0x1a44e5=a134_0x1a44();return a134_0x57f2=function(_0x57f2c1,_0x400191){_0x57f2c1=_0x57f2c1-0xdb;let _0x595c81=_0x1a44e5[_0x57f2c1];return _0x595c81;},a134_0x57f2(_0x4781ce,_0xf9c3a3);}module[a134_0x1ed433(0xe3)]=OrchestrationUtils;