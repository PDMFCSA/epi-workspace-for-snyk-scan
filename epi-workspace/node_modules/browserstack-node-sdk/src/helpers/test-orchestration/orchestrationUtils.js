const a134_0x24c997=a134_0xde23;(function(_0x470526,_0x5ebd84){const _0x56e717=a134_0xde23,_0x138a9b=_0x470526();while(!![]){try{const _0x15a563=-parseInt(_0x56e717(0x120))/0x1+parseInt(_0x56e717(0xfc))/0x2*(-parseInt(_0x56e717(0xec))/0x3)+-parseInt(_0x56e717(0xef))/0x4*(parseInt(_0x56e717(0x104))/0x5)+parseInt(_0x56e717(0x118))/0x6*(-parseInt(_0x56e717(0x115))/0x7)+parseInt(_0x56e717(0xf9))/0x8*(parseInt(_0x56e717(0x11c))/0x9)+parseInt(_0x56e717(0xf8))/0xa+parseInt(_0x56e717(0xf1))/0xb;if(_0x15a563===_0x5ebd84)break;else _0x138a9b['push'](_0x138a9b['shift']());}catch(_0x4e7e6f){_0x138a9b['push'](_0x138a9b['shift']());}}}(a134_0x7fc1,0x5a295));const os=require('os'),path=require('path'),fs=require('fs'),logger=require(a134_0x24c997(0x128))['winstonLogger'],RETRY_TESTS_ON_FAILURE=a134_0x24c997(0xf0),ABORT_BUILD_ON_FAILURE=a134_0x24c997(0xf4),RUN_PREVIOUSLY_FAILED_FIRST=a134_0x24c997(0x112),RERUN_PREVIOUSLY_FAILED='rerunPreviouslyFailed',SKIP_FLAKY_AND_FAILED=a134_0x24c997(0x10a),ALLOWED_ORCHESTRATION_KEYS=new Set([RETRY_TESTS_ON_FAILURE,ABORT_BUILD_ON_FAILURE,RUN_PREVIOUSLY_FAILED_FIRST,RERUN_PREVIOUSLY_FAILED,SKIP_FLAKY_AND_FAILED]),ABORT_BUILD_SUPPORTED_FRAMEWORKS=new Set([a134_0x24c997(0x10e)]);class TestOrdering{constructor(){const _0xc7d4ae=a134_0x24c997;this[_0xc7d4ae(0xf3)]=![],this[_0xc7d4ae(0x10c)]=null;}[a134_0x24c997(0x10f)](_0x346eb4){const _0x3af344=a134_0x24c997;this[_0x3af344(0xf3)]=!![],this['name']=_0x346eb4;}[a134_0x24c997(0x109)](){const _0x53ba80=a134_0x24c997;this[_0x53ba80(0xf3)]=![],this[_0x53ba80(0x10c)]=null;}[a134_0x24c997(0xfa)](){const _0x198a50=a134_0x24c997;return this[_0x198a50(0xf3)];}[a134_0x24c997(0xf2)](){const _0x44464a=a134_0x24c997;return this[_0x44464a(0x10c)];}}function a134_0x7fc1(){const _0x10a8fa=['appendFileSync','rerunPreviouslyFailed','runPreviouslyFailedFirst','writeFailureToFile','env','2178064JSIjBz','getRunPreviouslyFailedFirst','getRetryCount','12WVADpV','testOrdering','getRerunPreviouslyFailed','rerun_previously_failed','9GOumIJ','join','abort_build_on_failure','getOrchestrationData','501654vdgsmc','testOrchestrationOptions','existsSync','skipFlakyAndFailed','_instance','getInstance','getFailureThreshold','tmpdir','../logger','isRetryEnabled','831YPQgnJ','retry_tests_on_failure','toLowerCase','4fCcKiV','retryTestsOnFailure','9209772jMWyfb','getName','enabled','abortBuildOnFailure','skip_failing_and_flaky','qvdFs','getBuildStartData','6921310sBddYG','817456CquvVA','getEnabled','_setSkipFlakyAndFailed','118njcvLS','_setTestOrdering','BROWSERSTACK_TESTHUB_UUID','getSkipFlakyAndFailed','abort_build_','isAbortBuildOnFailureEnabled','has','config','609815IyLbWK','_setRerunPreviouslyFailed','_setRunPreviouslyFailedFirst','testOrderingEnabled','run_previously_failed_first','disable','skipFlakyandFailed','VpyTC','name','failed_tests_','jest','enable'];a134_0x7fc1=function(){return _0x10a8fa;};return a134_0x7fc1();}function a134_0xde23(_0x704e62,_0x43f6a9){const _0x7fc191=a134_0x7fc1();return a134_0xde23=function(_0xde23a9,_0xe81ca6){_0xde23a9=_0xde23a9-0xeb;let _0x6a28b3=_0x7fc191[_0xde23a9];return _0x6a28b3;},a134_0xde23(_0x704e62,_0x43f6a9);}class OrchestrationUtils{static ['_instance']=null;constructor(_0x1266ec){const _0x452430=a134_0x24c997,_0xedf47e={};_0xedf47e[_0x452430(0x10b)]=function(_0x2bf1a3,_0xe1daac){return _0x2bf1a3||_0xe1daac;};const _0x296914=_0xedf47e;this[_0x452430(0x112)]=![],this[_0x452430(0x111)]=![],this['skipFlakyAndFailed']=![],this[_0x452430(0x119)]=new TestOrdering(),this[_0x452430(0x103)]=_0x296914['VpyTC'](_0x1266ec,{});const _0x4a777b=_0x1266ec&&_0x1266ec[_0x452430(0x121)]||{};this[_0x452430(0x106)](_0x4a777b[RUN_PREVIOUSLY_FAILED_FIRST]||![]),this[_0x452430(0x105)](_0x4a777b[RERUN_PREVIOUSLY_FAILED]||![]),this['_setSkipFlakyAndFailed'](_0x4a777b[SKIP_FLAKY_AND_FAILED]||![]);}static[a134_0x24c997(0x125)](_0x840cad){const _0x4976a1=a134_0x24c997;return!OrchestrationUtils['_instance']&&_0x840cad&&(OrchestrationUtils[_0x4976a1(0x124)]=new OrchestrationUtils(_0x840cad)),OrchestrationUtils[_0x4976a1(0x124)];}[a134_0x24c997(0xeb)](){const _0x5846cb=a134_0x24c997,_0x16b11a=(this[_0x5846cb(0x103)]['testOrchestrationOptions']||{})[RETRY_TESTS_ON_FAILURE]||{};return!!_0x16b11a[_0x5846cb(0xf3)];}[a134_0x24c997(0x117)](){const _0x1938c5=a134_0x24c997,_0x356a5d=(this[_0x1938c5(0x103)]['testOrchestrationOptions']||{})[RETRY_TESTS_ON_FAILURE]||{};let _0x555c52=0x0;return this['isRetryEnabled'](this[_0x1938c5(0x103)])&&(_0x555c52=_0x356a5d['maxRetries']||0x1),_0x555c52;}[a134_0x24c997(0x11f)](){const _0x121461=a134_0x24c997,_0x4de2a3=this[_0x121461(0x103)][_0x121461(0x121)]||{},_0x494d7e={};for(const _0x331457 in _0x4de2a3){ALLOWED_ORCHESTRATION_KEYS[_0x121461(0x102)](_0x331457)&&(_0x494d7e[_0x331457]=_0x4de2a3[_0x331457]);}return _0x494d7e;}['checkAbortBuildFileExists'](){const _0x3f89f3=a134_0x24c997,_0x458bb0=process[_0x3f89f3(0x114)][_0x3f89f3(0xfe)],_0x45dc82=path[_0x3f89f3(0x11d)](os['tmpdir'](),_0x3f89f3(0x100)+_0x458bb0);return fs[_0x3f89f3(0x122)](_0x45dc82);}[a134_0x24c997(0x113)](_0x16ab5e){const _0x4b2985=a134_0x24c997,_0xac8665=process[_0x4b2985(0x114)][_0x4b2985(0xfe)],_0x8b4065=path['join'](os[_0x4b2985(0x127)](),_0x4b2985(0x10d)+_0xac8665+'.txt');fs[_0x4b2985(0x110)](_0x8b4065,_0x16ab5e+'\x0a');}['isAbortBuildOnFailureSupported'](_0x3e923f){const _0x5a9790=a134_0x24c997,_0xbcf6f0={};_0xbcf6f0[_0x5a9790(0xf6)]=function(_0x587d1b,_0x62a517){return _0x587d1b||_0x62a517;};const _0x4b263e=_0xbcf6f0;return ABORT_BUILD_SUPPORTED_FRAMEWORKS[_0x5a9790(0x102)](_0x4b263e[_0x5a9790(0xf6)](_0x3e923f,'')[_0x5a9790(0xee)]());}[a134_0x24c997(0x101)](){const _0x2b6fbe=a134_0x24c997,_0x165f7d=(this[_0x2b6fbe(0x103)][_0x2b6fbe(0x121)]||{})[ABORT_BUILD_ON_FAILURE]||{};return!!_0x165f7d[_0x2b6fbe(0xf3)];}[a134_0x24c997(0x126)](){const _0x62c31a=a134_0x24c997,_0xd32455=(this[_0x62c31a(0x103)][_0x62c31a(0x121)]||{})[ABORT_BUILD_ON_FAILURE]||{};return _0xd32455['maxFailures']||0x5;;}[a134_0x24c997(0x116)](){return this['runPreviouslyFailedFirst'];}[a134_0x24c997(0x106)](_0x2e311e){const _0x5e9777=a134_0x24c997;this['runPreviouslyFailedFirst']=!!_0x2e311e,this[_0x5e9777(0xfd)]();}['getRerunPreviouslyFailed'](){const _0x2100e1=a134_0x24c997;return this[_0x2100e1(0x111)];}['_setRerunPreviouslyFailed'](_0x316663){const _0x3be591=a134_0x24c997;this[_0x3be591(0x111)]=!!_0x316663,this[_0x3be591(0xfd)]();}[a134_0x24c997(0xff)](){const _0x2c7142=a134_0x24c997;return this[_0x2c7142(0x123)];}[a134_0x24c997(0xfb)](_0x4cafc9){const _0x1478cb=a134_0x24c997;this[_0x1478cb(0x123)]=!!_0x4cafc9,this[_0x1478cb(0xfd)]();}[a134_0x24c997(0xfd)](){const _0x2fcd4d=a134_0x24c997;if(this[_0x2fcd4d(0x112)])this[_0x2fcd4d(0x111)]=![],this[_0x2fcd4d(0x123)]=![],this[_0x2fcd4d(0x119)][_0x2fcd4d(0x10f)](RUN_PREVIOUSLY_FAILED_FIRST);else{if(this[_0x2fcd4d(0x111)])this[_0x2fcd4d(0x112)]=![],this[_0x2fcd4d(0x123)]=![],this[_0x2fcd4d(0x119)]['enable'](RERUN_PREVIOUSLY_FAILED);else this[_0x2fcd4d(0x123)]?(this['runPreviouslyFailedFirst']=![],this[_0x2fcd4d(0x111)]=![],this[_0x2fcd4d(0x119)]['enable'](SKIP_FLAKY_AND_FAILED)):this['testOrdering']['disable']();}}[a134_0x24c997(0x107)](){const _0x41e4d5=a134_0x24c997;return this[_0x41e4d5(0x119)]['getEnabled']();}['getTestOrderingName'](){const _0x333075=a134_0x24c997;if(this[_0x333075(0x119)][_0x333075(0xfa)]())return this[_0x333075(0x119)][_0x333075(0xf2)]();return null;}[a134_0x24c997(0xf7)](){const _0x1e5b13=a134_0x24c997,_0x475627={};return _0x475627[_0x1e5b13(0x11b)]={'enabled':this[_0x1e5b13(0x11a)]()},_0x475627[_0x1e5b13(0x108)]={'enabled':this[_0x1e5b13(0x116)]()},_0x475627[_0x1e5b13(0xf5)]={'enabled':this[_0x1e5b13(0xff)]()},this['isRetryEnabled']()&&(_0x475627[_0x1e5b13(0xed)]={'enabled':!![],'max_retries':this[_0x1e5b13(0x117)]()}),this['isAbortBuildOnFailureEnabled']()&&(_0x475627[_0x1e5b13(0x11e)]={'enabled':!![],'max_failures':this['getFailureThreshold']()}),_0x475627;}}module['exports']=OrchestrationUtils;