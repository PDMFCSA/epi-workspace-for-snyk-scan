function a130_0x1612(_0x535bbd,_0x376bf2){const _0x53c5a4=a130_0x53c5();return a130_0x1612=function(_0x16123c,_0x168520){_0x16123c=_0x16123c-0x138;let _0x28787c=_0x53c5a4[_0x16123c];return _0x28787c;},a130_0x1612(_0x535bbd,_0x376bf2);}const a130_0x4e9be5=a130_0x1612;(function(_0x4225ae,_0x1ead06){const _0x5549ea=a130_0x1612,_0x18ed52=_0x4225ae();while(!![]){try{const _0x1b1c70=parseInt(_0x5549ea(0x155))/0x1+parseInt(_0x5549ea(0x13e))/0x2*(parseInt(_0x5549ea(0x161))/0x3)+-parseInt(_0x5549ea(0x157))/0x4+-parseInt(_0x5549ea(0x15a))/0x5*(parseInt(_0x5549ea(0x159))/0x6)+parseInt(_0x5549ea(0x174))/0x7+parseInt(_0x5549ea(0x14f))/0x8*(parseInt(_0x5549ea(0x146))/0x9)+-parseInt(_0x5549ea(0x138))/0xa;if(_0x1b1c70===_0x1ead06)break;else _0x18ed52['push'](_0x18ed52['shift']());}catch(_0x27df31){_0x18ed52['push'](_0x18ed52['shift']());}}}(a130_0x53c5,0x54643));const fs=require('fs'),logger=require(a130_0x4e9be5(0x170))[a130_0x4e9be5(0x173)],TAG='FailFastFileHelper';function a130_0x53c5(){const _0xd9f9e1=['writeFileSync','recordTestResult','split','status','uuYrq','stateFilePath','3miiunD','isArray','readFileSync','totalTests',']\x20Could\x20not\x20acquire\x20lock\x20to\x20record\x20test\x20result.\x20State\x20may\x20be\x20stale.','lockFilePath','GvfLE','function','readState','code','newState','fullName',']\x20Could\x20not\x20acquire\x20lock\x20to\x20update\x20API\x20failed\x20count.\x20State\x20may\x20be\x20stale.','itNJF','SHFoL','../logger','from','releaseLock','winstonLogger','3008334XayesK','TktLp','5241570aNWVmd','hAqFX','exports','message','parse','uniqueFailedTests','115642gGUoFn','add','failFastConfig','closeSync','acquireLock','BmLCY','defaultState','EEXIST','2267253uRcogq','writeState','utf8','updateAPIFailedCount','noSba','isNewFailure',']\x20Error\x20creating\x20state\x20file:\x20','error','lastAPIFailedCount','16YJAJDH','stack','warn','unlinkSync','stringify','fEmif','366585RFyhVb','openSync','833400kBVmEX',']\x20Error\x20writing\x20state\x20file:\x20','648mmsdwN','12955cElNpF'];a130_0x53c5=function(){return _0xd9f9e1;};return a130_0x53c5();}class FileHelper{constructor(_0x116a37,_0x1d1d6b,_0x3557c5,_0x3e1b2f){const _0x31811f=a130_0x4e9be5,_0x435f37={};_0x435f37[_0x31811f(0x167)]='0|3|1|4|2',_0x435f37['fEmif']=_0x31811f(0x148);const _0x2b5f09=_0x435f37,_0x22002f=_0x2b5f09[_0x31811f(0x167)][_0x31811f(0x15d)]('|');let _0x2b5c3e=0x0;while(!![]){switch(_0x22002f[_0x2b5c3e++]){case'0':this[_0x31811f(0x140)]=_0x116a37;continue;case'1':this[_0x31811f(0x166)]=_0x3557c5;continue;case'2':if(!fs['existsSync'](this[_0x31811f(0x160)]))try{fs[_0x31811f(0x15b)](this['stateFilePath'],'{}',_0x2b5f09[_0x31811f(0x154)]);}catch(_0x2f9e54){logger[_0x31811f(0x14d)]('['+TAG+_0x31811f(0x14c)+_0x2f9e54[_0x31811f(0x13b)]+'\x20'+_0x2f9e54['stack']);}continue;case'3':this[_0x31811f(0x160)]=_0x1d1d6b;continue;case'4':this[_0x31811f(0x144)]=_0x3e1b2f;continue;}break;}}async[a130_0x4e9be5(0x142)](){const _0x39be52=a130_0x4e9be5,_0x5d40af={};_0x5d40af[_0x39be52(0x143)]=function(_0x563420,_0x5486f2){return _0x563420===_0x5486f2;},_0x5d40af[_0x39be52(0x16f)]=_0x39be52(0x145);const _0x357d24=_0x5d40af;let _0x55a53b;try{return _0x55a53b=fs[_0x39be52(0x156)](this[_0x39be52(0x166)],'wx'),_0x55a53b;}catch(_0x3c30e4){if(_0x357d24['BmLCY'](_0x3c30e4[_0x39be52(0x16a)],_0x357d24[_0x39be52(0x16f)]))return null;throw _0x3c30e4;}}async[a130_0x4e9be5(0x172)](_0x236857){const _0x290bce=a130_0x4e9be5;if(_0x236857)try{fs[_0x290bce(0x141)](_0x236857),fs[_0x290bce(0x152)](this[_0x290bce(0x166)]);}catch(_0x490375){logger['error']('['+TAG+']\x20Error\x20releasing\x20lock:\x20'+_0x490375[_0x290bce(0x13b)]+'\x20'+_0x490375[_0x290bce(0x150)]);}}['readState'](){const _0x415610=a130_0x4e9be5,_0x3d45c0={};_0x3d45c0[_0x415610(0x14a)]=_0x415610(0x148);const _0x11ff94=_0x3d45c0;try{const _0x56d190=fs[_0x415610(0x163)](this[_0x415610(0x160)],_0x11ff94[_0x415610(0x14a)]);return JSON[_0x415610(0x13c)](_0x56d190);}catch(_0x40e1f0){return logger['error']('['+TAG+']\x20Error\x20reading\x20state\x20file:\x20'+_0x40e1f0[_0x415610(0x13b)]+'\x20'+_0x40e1f0['stack']),null;}}async[a130_0x4e9be5(0x147)](_0x54bb52){const _0x1f0f17=a130_0x4e9be5,_0x35efae={..._0x54bb52,'uniqueFailedTests':Array[_0x1f0f17(0x162)](_0x54bb52[_0x1f0f17(0x13d)])?_0x54bb52['uniqueFailedTests']:Array[_0x1f0f17(0x171)](_0x54bb52[_0x1f0f17(0x13d)]||[])};try{fs[_0x1f0f17(0x15b)](this[_0x1f0f17(0x160)],JSON[_0x1f0f17(0x153)](_0x35efae,null,0x2));}catch(_0x3feca0){logger['error']('['+TAG+_0x1f0f17(0x158)+_0x3feca0[_0x1f0f17(0x13b)]+'\x20'+_0x3feca0[_0x1f0f17(0x150)]);throw _0x3feca0;}}async[a130_0x4e9be5(0x15c)](_0x5a4fc0,_0x36684c){const _0x44deab=a130_0x4e9be5,_0x5a5729={};_0x5a5729[_0x44deab(0x15f)]=function(_0x65124b,_0x3f80d5){return _0x65124b!==_0x3f80d5;},_0x5a5729[_0x44deab(0x139)]=_0x44deab(0x168),_0x5a5729['itNJF']=function(_0x3bb187,_0x113c69){return _0x3bb187===_0x113c69;},_0x5a5729[_0x44deab(0x175)]='failed';const _0x1cdd1c=_0x5a5729,_0x1013eb=await this['acquireLock']();if(!_0x1013eb)return logger[_0x44deab(0x151)]('['+TAG+_0x44deab(0x165)),{'newState':this[_0x44deab(0x169)]()||this[_0x44deab(0x144)],'isNewFailure':![]};try{let _0x2a914a=this[_0x44deab(0x169)]();!_0x2a914a&&(_0x2a914a=JSON[_0x44deab(0x13c)](JSON[_0x44deab(0x153)](this[_0x44deab(0x144)])));if(!_0x2a914a['uniqueFailedTests']||_0x1cdd1c[_0x44deab(0x15f)](typeof _0x2a914a[_0x44deab(0x13d)][Symbol['iterator']],_0x1cdd1c['hAqFX']))_0x2a914a['uniqueFailedTests']=new Set();else Array[_0x44deab(0x162)](_0x2a914a[_0x44deab(0x13d)])&&(_0x2a914a[_0x44deab(0x13d)]=new Set(_0x2a914a[_0x44deab(0x13d)]));_0x2a914a[_0x44deab(0x164)]=_0x36684c;let _0x204d38=![];_0x1cdd1c[_0x44deab(0x16e)](_0x5a4fc0[_0x44deab(0x15e)],_0x1cdd1c[_0x44deab(0x175)])&&(_0x2a914a['failedTests']+=0x1,!_0x2a914a['uniqueFailedTests']['has'](_0x5a4fc0['fullName'])&&(_0x2a914a[_0x44deab(0x13d)][_0x44deab(0x13f)](_0x5a4fc0[_0x44deab(0x16c)]),_0x204d38=!![]));await this['writeState'](_0x2a914a);const _0x354cf8={};return _0x354cf8[_0x44deab(0x16b)]=_0x2a914a,_0x354cf8[_0x44deab(0x14b)]=_0x204d38,_0x354cf8;}finally{await this[_0x44deab(0x172)](_0x1013eb);}}async[a130_0x4e9be5(0x149)](_0x5b664c){const _0x401988=a130_0x4e9be5,_0x1012c3=await this[_0x401988(0x142)]();if(!_0x1012c3)return logger['warn']('['+TAG+_0x401988(0x16d)),this['readState']()||this[_0x401988(0x144)];try{let _0x5294d2=this['readState']();return!_0x5294d2&&(_0x5294d2=JSON[_0x401988(0x13c)](JSON[_0x401988(0x153)](this['defaultState']))),_0x5294d2[_0x401988(0x14e)]=_0x5b664c,await this[_0x401988(0x147)](_0x5294d2),_0x5294d2;}finally{await this['releaseLock'](_0x1012c3);}}}module[a130_0x4e9be5(0x13a)]=FileHelper;