const a129_0x12bcbe=a129_0x38ac;(function(_0x45d131,_0xc923f1){const _0x3859fc=a129_0x38ac,_0x2cef09=_0x45d131();while(!![]){try{const _0x1a9098=-parseInt(_0x3859fc(0x1c7))/0x1*(parseInt(_0x3859fc(0x1c6))/0x2)+-parseInt(_0x3859fc(0x1df))/0x3+parseInt(_0x3859fc(0x1e2))/0x4+-parseInt(_0x3859fc(0x1e8))/0x5*(-parseInt(_0x3859fc(0x1b2))/0x6)+parseInt(_0x3859fc(0x1d9))/0x7+-parseInt(_0x3859fc(0x1d7))/0x8*(parseInt(_0x3859fc(0x1b6))/0x9)+parseInt(_0x3859fc(0x1d3))/0xa*(parseInt(_0x3859fc(0x1bf))/0xb);if(_0x1a9098===_0xc923f1)break;else _0x2cef09['push'](_0x2cef09['shift']());}catch(_0x38e7f6){_0x2cef09['push'](_0x2cef09['shift']());}}}(a129_0x19a1,0x8137c));function a129_0x38ac(_0x595535,_0x5073cb){const _0x19a15a=a129_0x19a1();return a129_0x38ac=function(_0x38ac6b,_0x50b691){_0x38ac6b=_0x38ac6b-0x1af;let _0x46051c=_0x19a15a[_0x38ac6b];return _0x46051c;},a129_0x38ac(_0x595535,_0x5073cb);}function a129_0x19a1(){const _0x5af449=['iterator','oLCGm','1256DxLYeV','unlinkSync','3246537eyLIrU','vWZEj','failFastConfig',']\x20Error\x20reading\x20state\x20file:\x20','isArray','message','2529111pvIURM','isNewFailure','closeSync','2251596FPbGSM','qKKLr','oJQsH','2|0|3|1|4','utf8','stack','191245Xmsnbo','writeState','stringify','vFVcF','exports','split',']\x20Error\x20writing\x20state\x20file:\x20','defaultState','has','releaseLock','60EnasHC','OAtRT','openSync','function','10233PyvTQN','fullName',']\x20Could\x20not\x20acquire\x20lock\x20to\x20update\x20API\x20failed\x20count.\x20State\x20may\x20be\x20stale.','failed','FailFastFileHelper','writeFileSync','status','warn','from','11qqxBVh','uniqueFailedTests','stateFilePath','code','readFileSync','updateAPIFailedCount','VMMzK','214860nARbLX','8oajESf',']\x20Could\x20not\x20acquire\x20lock\x20to\x20record\x20test\x20result.\x20State\x20may\x20be\x20stale.','EEXIST','SkvuS','readState','parse','../logger','lockFilePath','error',']\x20Error\x20creating\x20state\x20file:\x20','inlJX','acquireLock','10010820BbXzyJ','winstonLogger'];a129_0x19a1=function(){return _0x5af449;};return a129_0x19a1();}const fs=require('fs'),logger=require(a129_0x12bcbe(0x1cd))[a129_0x12bcbe(0x1d4)],TAG=a129_0x12bcbe(0x1ba);class FileHelper{constructor(_0x1f2ed4,_0x1c76e3,_0xfd4c36,_0x5d002d){const _0x2b3842=a129_0x12bcbe,_0x4d891e={};_0x4d891e[_0x2b3842(0x1d1)]=_0x2b3842(0x1e5),_0x4d891e[_0x2b3842(0x1ca)]=_0x2b3842(0x1e6);const _0x36fe3a=_0x4d891e,_0x4b30e9=_0x36fe3a[_0x2b3842(0x1d1)][_0x2b3842(0x1ed)]('|');let _0x37356f=0x0;while(!![]){switch(_0x4b30e9[_0x37356f++]){case'0':this['stateFilePath']=_0x1c76e3;continue;case'1':this[_0x2b3842(0x1af)]=_0x5d002d;continue;case'2':this[_0x2b3842(0x1db)]=_0x1f2ed4;continue;case'3':this[_0x2b3842(0x1ce)]=_0xfd4c36;continue;case'4':if(!fs['existsSync'](this[_0x2b3842(0x1c1)]))try{fs['writeFileSync'](this[_0x2b3842(0x1c1)],'{}',_0x36fe3a[_0x2b3842(0x1ca)]);}catch(_0x28f078){logger[_0x2b3842(0x1cf)]('['+TAG+_0x2b3842(0x1d0)+_0x28f078[_0x2b3842(0x1de)]+'\x20'+_0x28f078[_0x2b3842(0x1e7)]);}continue;}break;}}async['acquireLock'](){const _0x49c103=a129_0x12bcbe,_0x2cac0a={};_0x2cac0a[_0x49c103(0x1eb)]=function(_0x5d31af,_0x1bd2ae){return _0x5d31af===_0x1bd2ae;},_0x2cac0a[_0x49c103(0x1b3)]=_0x49c103(0x1c9);const _0x4eb3cb=_0x2cac0a;let _0x797a74;try{return _0x797a74=fs[_0x49c103(0x1b4)](this['lockFilePath'],'wx'),_0x797a74;}catch(_0x580888){if(_0x4eb3cb[_0x49c103(0x1eb)](_0x580888[_0x49c103(0x1c2)],_0x4eb3cb[_0x49c103(0x1b3)]))return null;throw _0x580888;}}async[a129_0x12bcbe(0x1b1)](_0x3a7919){const _0x1ac64f=a129_0x12bcbe;if(_0x3a7919)try{fs[_0x1ac64f(0x1e1)](_0x3a7919),fs[_0x1ac64f(0x1d8)](this['lockFilePath']);}catch(_0x37a4d7){logger[_0x1ac64f(0x1cf)]('['+TAG+']\x20Error\x20releasing\x20lock:\x20'+_0x37a4d7[_0x1ac64f(0x1de)]+'\x20'+_0x37a4d7[_0x1ac64f(0x1e7)]);}}[a129_0x12bcbe(0x1cb)](){const _0x381f7b=a129_0x12bcbe,_0x5f2049={};_0x5f2049[_0x381f7b(0x1c5)]=_0x381f7b(0x1e6);const _0x2876e7=_0x5f2049;try{const _0x2943f6=fs[_0x381f7b(0x1c3)](this[_0x381f7b(0x1c1)],_0x2876e7[_0x381f7b(0x1c5)]);return JSON['parse'](_0x2943f6);}catch(_0xf8c1e){return logger[_0x381f7b(0x1cf)]('['+TAG+_0x381f7b(0x1dc)+_0xf8c1e['message']+'\x20'+_0xf8c1e['stack']),null;}}async[a129_0x12bcbe(0x1e9)](_0x472ee2){const _0x376529=a129_0x12bcbe,_0x3302bf={..._0x472ee2,'uniqueFailedTests':Array[_0x376529(0x1dd)](_0x472ee2[_0x376529(0x1c0)])?_0x472ee2[_0x376529(0x1c0)]:Array[_0x376529(0x1be)](_0x472ee2[_0x376529(0x1c0)]||[])};try{fs[_0x376529(0x1bb)](this[_0x376529(0x1c1)],JSON['stringify'](_0x3302bf,null,0x2));}catch(_0x388e96){logger[_0x376529(0x1cf)]('['+TAG+_0x376529(0x1ee)+_0x388e96[_0x376529(0x1de)]+'\x20'+_0x388e96['stack']);throw _0x388e96;}}async['recordTestResult'](_0x3e6aa4,_0x131bdf){const _0x546871=a129_0x12bcbe,_0x409cbb={};_0x409cbb[_0x546871(0x1e3)]=function(_0x1ad634,_0xea984){return _0x1ad634!==_0xea984;},_0x409cbb[_0x546871(0x1d6)]=_0x546871(0x1b5),_0x409cbb[_0x546871(0x1e4)]=function(_0x12c303,_0x36c239){return _0x12c303===_0x36c239;},_0x409cbb[_0x546871(0x1da)]=_0x546871(0x1b9);const _0x526fb4=_0x409cbb,_0x5c8f0c=await this['acquireLock']();if(!_0x5c8f0c)return logger['warn']('['+TAG+_0x546871(0x1c8)),{'newState':this[_0x546871(0x1cb)]()||this[_0x546871(0x1af)],'isNewFailure':![]};try{let _0x3353aa=this['readState']();!_0x3353aa&&(_0x3353aa=JSON[_0x546871(0x1cc)](JSON[_0x546871(0x1ea)](this['defaultState'])));if(!_0x3353aa['uniqueFailedTests']||_0x526fb4[_0x546871(0x1e3)](typeof _0x3353aa[_0x546871(0x1c0)][Symbol[_0x546871(0x1d5)]],_0x526fb4[_0x546871(0x1d6)]))_0x3353aa['uniqueFailedTests']=new Set();else Array[_0x546871(0x1dd)](_0x3353aa[_0x546871(0x1c0)])&&(_0x3353aa['uniqueFailedTests']=new Set(_0x3353aa['uniqueFailedTests']));_0x3353aa['totalTests']=_0x131bdf;let _0x168669=![];_0x526fb4['oJQsH'](_0x3e6aa4[_0x546871(0x1bc)],_0x526fb4[_0x546871(0x1da)])&&(_0x3353aa['failedTests']+=0x1,!_0x3353aa['uniqueFailedTests'][_0x546871(0x1b0)](_0x3e6aa4['fullName'])&&(_0x3353aa[_0x546871(0x1c0)]['add'](_0x3e6aa4[_0x546871(0x1b7)]),_0x168669=!![]));await this[_0x546871(0x1e9)](_0x3353aa);const _0x5819a8={};return _0x5819a8['newState']=_0x3353aa,_0x5819a8[_0x546871(0x1e0)]=_0x168669,_0x5819a8;}finally{await this[_0x546871(0x1b1)](_0x5c8f0c);}}async[a129_0x12bcbe(0x1c4)](_0x2048d3){const _0x1d3279=a129_0x12bcbe,_0x342bf4=await this[_0x1d3279(0x1d2)]();if(!_0x342bf4)return logger[_0x1d3279(0x1bd)]('['+TAG+_0x1d3279(0x1b8)),this[_0x1d3279(0x1cb)]()||this['defaultState'];try{let _0x2769fa=this[_0x1d3279(0x1cb)]();return!_0x2769fa&&(_0x2769fa=JSON[_0x1d3279(0x1cc)](JSON[_0x1d3279(0x1ea)](this[_0x1d3279(0x1af)]))),_0x2769fa['lastAPIFailedCount']=_0x2048d3,await this[_0x1d3279(0x1e9)](_0x2769fa),_0x2769fa;}finally{await this[_0x1d3279(0x1b1)](_0x342bf4);}}}module[a129_0x12bcbe(0x1ec)]=FileHelper;