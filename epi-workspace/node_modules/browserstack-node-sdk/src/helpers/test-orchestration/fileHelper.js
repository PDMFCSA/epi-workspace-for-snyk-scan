function a133_0xb5ed(_0x1145f4,_0xbdd7f0){const _0x512286=a133_0x5122();return a133_0xb5ed=function(_0xb5ed7f,_0x4fc863){_0xb5ed7f=_0xb5ed7f-0xd1;let _0x87cbbf=_0x512286[_0xb5ed7f];return _0x87cbbf;},a133_0xb5ed(_0x1145f4,_0xbdd7f0);}const a133_0x443454=a133_0xb5ed;(function(_0x27180c,_0x17aa1e){const _0x53fb9e=a133_0xb5ed,_0x335e9f=_0x27180c();while(!![]){try{const _0x1b4a5c=-parseInt(_0x53fb9e(0xf6))/0x1*(parseInt(_0x53fb9e(0xed))/0x2)+parseInt(_0x53fb9e(0xd4))/0x3+parseInt(_0x53fb9e(0xdd))/0x4*(-parseInt(_0x53fb9e(0xd2))/0x5)+parseInt(_0x53fb9e(0xd1))/0x6*(-parseInt(_0x53fb9e(0xf4))/0x7)+-parseInt(_0x53fb9e(0x10a))/0x8*(parseInt(_0x53fb9e(0xf9))/0x9)+parseInt(_0x53fb9e(0x10c))/0xa*(parseInt(_0x53fb9e(0xd3))/0xb)+-parseInt(_0x53fb9e(0xfc))/0xc*(-parseInt(_0x53fb9e(0xe0))/0xd);if(_0x1b4a5c===_0x17aa1e)break;else _0x335e9f['push'](_0x335e9f['shift']());}catch(_0x4292fe){_0x335e9f['push'](_0x335e9f['shift']());}}}(a133_0x5122,0x66979));const fs=require('fs'),logger=require('../logger')[a133_0x443454(0x100)],TAG=a133_0x443454(0xe2);class FileHelper{constructor(_0x3866e7,_0x5af344,_0x3c8d08,_0x53ea66){const _0xa2b4f1=a133_0x443454,_0x5e46f3={};_0x5e46f3['DROFk']=_0xa2b4f1(0x109),_0x5e46f3[_0xa2b4f1(0x104)]=_0xa2b4f1(0xe8);const _0x5816d8=_0x5e46f3,_0x2e4d4d=_0x5816d8[_0xa2b4f1(0xe5)]['split']('|');let _0x2e37dc=0x0;while(!![]){switch(_0x2e4d4d[_0x2e37dc++]){case'0':this[_0xa2b4f1(0x102)]=_0x53ea66;continue;case'1':this[_0xa2b4f1(0xe4)]=_0x3866e7;continue;case'2':if(!fs['existsSync'](this[_0xa2b4f1(0xff)]))try{fs[_0xa2b4f1(0xd9)](this['stateFilePath'],'{}',_0x5816d8[_0xa2b4f1(0x104)]);}catch(_0xbae173){logger['error']('['+TAG+_0xa2b4f1(0xdb)+_0xbae173[_0xa2b4f1(0xe1)]+'\x20'+_0xbae173[_0xa2b4f1(0xfb)]);}continue;case'3':this['lockFilePath']=_0x3c8d08;continue;case'4':this['stateFilePath']=_0x5af344;continue;}break;}}async[a133_0x443454(0xf1)](){const _0x58a6b5=a133_0x443454,_0x595993={};_0x595993[_0x58a6b5(0x106)]=function(_0x1ca637,_0x501a95){return _0x1ca637===_0x501a95;},_0x595993['QJHXl']='EEXIST';const _0x14781f=_0x595993;let _0x307b6c;try{return _0x307b6c=fs[_0x58a6b5(0x105)](this[_0x58a6b5(0x10b)],'wx'),_0x307b6c;}catch(_0x424893){if(_0x14781f[_0x58a6b5(0x106)](_0x424893[_0x58a6b5(0x107)],_0x14781f[_0x58a6b5(0x10d)]))return null;throw _0x424893;}}async[a133_0x443454(0xdf)](_0x171ac8){const _0x162d1e=a133_0x443454;if(_0x171ac8)try{fs[_0x162d1e(0xf3)](_0x171ac8),fs[_0x162d1e(0xf2)](this[_0x162d1e(0x10b)]);}catch(_0x5e3c00){logger['error']('['+TAG+']\x20Error\x20releasing\x20lock:\x20'+_0x5e3c00[_0x162d1e(0xe1)]+'\x20'+_0x5e3c00['stack']);}}[a133_0x443454(0xf7)](){const _0x5c0706=a133_0x443454,_0x3dc041={};_0x3dc041['zqwtR']=_0x5c0706(0xe8);const _0x3971fb=_0x3dc041;try{const _0x434f43=fs[_0x5c0706(0xdc)](this[_0x5c0706(0xff)],_0x3971fb['zqwtR']);return JSON['parse'](_0x434f43);}catch(_0x5a4f64){return logger['error']('['+TAG+_0x5c0706(0xda)+_0x5a4f64[_0x5c0706(0xe1)]+'\x20'+_0x5a4f64[_0x5c0706(0xfb)]),null;}}async[a133_0x443454(0x108)](_0x28a0ba){const _0x264648=a133_0x443454,_0x2226f2={..._0x28a0ba,'uniqueFailedTests':Array[_0x264648(0xe6)](_0x28a0ba[_0x264648(0xd6)])?_0x28a0ba[_0x264648(0xd6)]:Array[_0x264648(0xf8)](_0x28a0ba[_0x264648(0xd6)]||[])};try{fs[_0x264648(0xd9)](this[_0x264648(0xff)],JSON[_0x264648(0xd8)](_0x2226f2,null,0x2));}catch(_0x80d1b2){logger[_0x264648(0xfe)]('['+TAG+_0x264648(0x103)+_0x80d1b2['message']+'\x20'+_0x80d1b2[_0x264648(0xfb)]);throw _0x80d1b2;}}async['recordTestResult'](_0x30bcab,_0x213e73){const _0xf2c5aa=a133_0x443454,_0x601820={};_0x601820[_0xf2c5aa(0xea)]=function(_0x1ee640,_0x34a1c8){return _0x1ee640!==_0x34a1c8;},_0x601820[_0xf2c5aa(0xeb)]='function',_0x601820[_0xf2c5aa(0xe9)]=function(_0x39962f,_0x1b4fee){return _0x39962f===_0x1b4fee;},_0x601820[_0xf2c5aa(0xfa)]=_0xf2c5aa(0x101);const _0x3fb5c1=_0x601820,_0x2973aa=await this[_0xf2c5aa(0xf1)]();if(!_0x2973aa)return logger['warn']('['+TAG+']\x20Could\x20not\x20acquire\x20lock\x20to\x20record\x20test\x20result.\x20State\x20may\x20be\x20stale.'),{'newState':this[_0xf2c5aa(0xf7)]()||this[_0xf2c5aa(0x102)],'isNewFailure':![]};try{let _0xf866be=this[_0xf2c5aa(0xf7)]();!_0xf866be&&(_0xf866be=JSON[_0xf2c5aa(0xf5)](JSON[_0xf2c5aa(0xd8)](this[_0xf2c5aa(0x102)])));if(!_0xf866be[_0xf2c5aa(0xd6)]||_0x3fb5c1['qGYWe'](typeof _0xf866be[_0xf2c5aa(0xd6)][Symbol[_0xf2c5aa(0xec)]],_0x3fb5c1[_0xf2c5aa(0xeb)]))_0xf866be['uniqueFailedTests']=new Set();else Array[_0xf2c5aa(0xe6)](_0xf866be[_0xf2c5aa(0xd6)])&&(_0xf866be['uniqueFailedTests']=new Set(_0xf866be['uniqueFailedTests']));_0xf866be[_0xf2c5aa(0xd7)]=_0x213e73;let _0x3ceede=![];_0x3fb5c1[_0xf2c5aa(0xe9)](_0x30bcab[_0xf2c5aa(0xef)],_0x3fb5c1[_0xf2c5aa(0xfa)])&&(_0xf866be[_0xf2c5aa(0xd5)]+=0x1,!_0xf866be[_0xf2c5aa(0xd6)][_0xf2c5aa(0xe3)](_0x30bcab[_0xf2c5aa(0xf0)])&&(_0xf866be['uniqueFailedTests']['add'](_0x30bcab['fullName']),_0x3ceede=!![]));await this[_0xf2c5aa(0x108)](_0xf866be);const _0x2fa132={};return _0x2fa132[_0xf2c5aa(0xfd)]=_0xf866be,_0x2fa132[_0xf2c5aa(0xe7)]=_0x3ceede,_0x2fa132;}finally{await this[_0xf2c5aa(0xdf)](_0x2973aa);}}async['updateAPIFailedCount'](_0x10f07f){const _0x35378a=a133_0x443454,_0x93b1c5=await this[_0x35378a(0xf1)]();if(!_0x93b1c5)return logger[_0x35378a(0xde)]('['+TAG+']\x20Could\x20not\x20acquire\x20lock\x20to\x20update\x20API\x20failed\x20count.\x20State\x20may\x20be\x20stale.'),this[_0x35378a(0xf7)]()||this[_0x35378a(0x102)];try{let _0x47c6c1=this['readState']();return!_0x47c6c1&&(_0x47c6c1=JSON[_0x35378a(0xf5)](JSON[_0x35378a(0xd8)](this[_0x35378a(0x102)]))),_0x47c6c1[_0x35378a(0xee)]=_0x10f07f,await this[_0x35378a(0x108)](_0x47c6c1),_0x47c6c1;}finally{await this[_0x35378a(0xdf)](_0x93b1c5);}}}module['exports']=FileHelper;function a133_0x5122(){const _0x8d06a3=['totalTests','stringify','writeFileSync',']\x20Error\x20reading\x20state\x20file:\x20',']\x20Error\x20creating\x20state\x20file:\x20','readFileSync','1514172waYifH','warn','releaseLock','650aLXjwM','message','FailFastFileHelper','has','failFastConfig','DROFk','isArray','isNewFailure','utf8','aRUBg','qGYWe','QfkmQ','iterator','1013110NFIUwZ','lastAPIFailedCount','status','fullName','acquireLock','unlinkSync','closeSync','401359gRKUun','parse','1BkiHFv','readState','from','198PSpVUf','eWBWS','stack','262176Dqacmr','newState','error','stateFilePath','winstonLogger','failed','defaultState',']\x20Error\x20writing\x20state\x20file:\x20','wWbbl','openSync','ODZMm','code','writeState','1|4|3|0|2','252664EJOuUn','lockFilePath','1070QFWjgW','QJHXl','54QdZmGt','5rmmZNM','71819YFNAUU','2175513vvehPp','failedTests','uniqueFailedTests'];a133_0x5122=function(){return _0x8d06a3;};return a133_0x5122();}