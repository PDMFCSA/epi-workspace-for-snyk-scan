const a133_0x2be879=a133_0x209c;(function(_0x4dbff6,_0x5747a5){const _0x38b789=a133_0x209c,_0x2a439c=_0x4dbff6();while(!![]){try{const _0x59678b=parseInt(_0x38b789(0x9a))/0x1*(-parseInt(_0x38b789(0xc2))/0x2)+-parseInt(_0x38b789(0xaf))/0x3*(-parseInt(_0x38b789(0x89))/0x4)+parseInt(_0x38b789(0xaa))/0x5*(parseInt(_0x38b789(0x8c))/0x6)+-parseInt(_0x38b789(0x9d))/0x7*(parseInt(_0x38b789(0x92))/0x8)+-parseInt(_0x38b789(0x86))/0x9*(parseInt(_0x38b789(0xad))/0xa)+parseInt(_0x38b789(0xa6))/0xb*(parseInt(_0x38b789(0x8e))/0xc)+parseInt(_0x38b789(0xb5))/0xd*(parseInt(_0x38b789(0xa1))/0xe);if(_0x59678b===_0x5747a5)break;else _0x2a439c['push'](_0x2a439c['shift']());}catch(_0xceeec8){_0x2a439c['push'](_0x2a439c['shift']());}}}(a133_0x537b,0x450b0));const fs=require('fs'),logger=require('../logger')[a133_0x2be879(0x9c)],TAG=a133_0x2be879(0x98);function a133_0x209c(_0x53538d,_0x445d09){const _0x537be4=a133_0x537b();return a133_0x209c=function(_0x209c9e,_0x53278b){_0x209c9e=_0x209c9e-0x84;let _0x2943f4=_0x537be4[_0x209c9e];return _0x2943f4;},a133_0x209c(_0x53538d,_0x445d09);}class FileHelper{constructor(_0x3c824e,_0x19ae12,_0x44b44a,_0x22ee49){const _0x53120c=a133_0x2be879,_0x466cdd={};_0x466cdd[_0x53120c(0x8f)]='3|1|4|2|0',_0x466cdd[_0x53120c(0xab)]='utf8';const _0xca7ff0=_0x466cdd,_0x108e76=_0xca7ff0[_0x53120c(0x8f)][_0x53120c(0xa3)]('|');let _0xe262e=0x0;while(!![]){switch(_0x108e76[_0xe262e++]){case'0':if(!fs['existsSync'](this[_0x53120c(0xae)]))try{fs[_0x53120c(0xb1)](this[_0x53120c(0xae)],'{}',_0xca7ff0['gMpBY']);}catch(_0x65b2a9){logger[_0x53120c(0x8a)]('['+TAG+']\x20Error\x20creating\x20state\x20file:\x20'+_0x65b2a9[_0x53120c(0x95)]+'\x20'+_0x65b2a9[_0x53120c(0xa5)]);}continue;case'1':this['stateFilePath']=_0x19ae12;continue;case'2':this[_0x53120c(0xa9)]=_0x22ee49;continue;case'3':this[_0x53120c(0x97)]=_0x3c824e;continue;case'4':this[_0x53120c(0xc0)]=_0x44b44a;continue;}break;}}async[a133_0x2be879(0x87)](){const _0x3a9ab8=a133_0x2be879,_0x426905={};_0x426905[_0x3a9ab8(0xbc)]=function(_0x514f4b,_0x22f23c){return _0x514f4b===_0x22f23c;},_0x426905[_0x3a9ab8(0xbb)]=_0x3a9ab8(0xba);const _0x2f0821=_0x426905;let _0x35498a;try{return _0x35498a=fs[_0x3a9ab8(0xbe)](this[_0x3a9ab8(0xc0)],'wx'),_0x35498a;}catch(_0x1ce55b){if(_0x2f0821['BGFCs'](_0x1ce55b[_0x3a9ab8(0xc1)],_0x2f0821[_0x3a9ab8(0xbb)]))return null;throw _0x1ce55b;}}async[a133_0x2be879(0xb9)](_0x5d42c5){const _0x42d09e=a133_0x2be879;if(_0x5d42c5)try{fs[_0x42d09e(0xb8)](_0x5d42c5),fs['unlinkSync'](this[_0x42d09e(0xc0)]);}catch(_0x75b032){logger['error']('['+TAG+_0x42d09e(0x8b)+_0x75b032[_0x42d09e(0x95)]+'\x20'+_0x75b032[_0x42d09e(0xa5)]);}}[a133_0x2be879(0x88)](){const _0x1df007=a133_0x2be879,_0x90235={};_0x90235[_0x1df007(0xb7)]='utf8';const _0x12c125=_0x90235;try{const _0x59431c=fs[_0x1df007(0xbd)](this['stateFilePath'],_0x12c125[_0x1df007(0xb7)]);return JSON[_0x1df007(0xb4)](_0x59431c);}catch(_0x349941){return logger['error']('['+TAG+']\x20Error\x20reading\x20state\x20file:\x20'+_0x349941['message']+'\x20'+_0x349941[_0x1df007(0xa5)]),null;}}async[a133_0x2be879(0xa0)](_0x15dba6){const _0x46e59a=a133_0x2be879,_0x25f491={..._0x15dba6,'uniqueFailedTests':Array[_0x46e59a(0x91)](_0x15dba6[_0x46e59a(0x9b)])?_0x15dba6[_0x46e59a(0x9b)]:Array[_0x46e59a(0x94)](_0x15dba6[_0x46e59a(0x9b)]||[])};try{fs[_0x46e59a(0xb1)](this[_0x46e59a(0xae)],JSON['stringify'](_0x25f491,null,0x2));}catch(_0x56d73f){logger[_0x46e59a(0x8a)]('['+TAG+_0x46e59a(0x85)+_0x56d73f['message']+'\x20'+_0x56d73f[_0x46e59a(0xa5)]);throw _0x56d73f;}}async[a133_0x2be879(0x8d)](_0x5ea40f,_0x5be7ff){const _0x4f16f7=a133_0x2be879,_0x15d048={};_0x15d048[_0x4f16f7(0x90)]=function(_0x589a74,_0x442339){return _0x589a74!==_0x442339;},_0x15d048[_0x4f16f7(0xa7)]=_0x4f16f7(0x9e),_0x15d048[_0x4f16f7(0xb6)]=function(_0x2b6a24,_0x2f9894){return _0x2b6a24===_0x2f9894;},_0x15d048[_0x4f16f7(0xb3)]=_0x4f16f7(0xa2);const _0x585048=_0x15d048,_0x3ed28b=await this[_0x4f16f7(0x87)]();if(!_0x3ed28b)return logger[_0x4f16f7(0xb2)]('['+TAG+_0x4f16f7(0xac)),{'newState':this['readState']()||this[_0x4f16f7(0xa9)],'isNewFailure':![]};try{let _0x2006d7=this[_0x4f16f7(0x88)]();!_0x2006d7&&(_0x2006d7=JSON[_0x4f16f7(0xb4)](JSON['stringify'](this[_0x4f16f7(0xa9)])));if(!_0x2006d7[_0x4f16f7(0x9b)]||_0x585048['jsMTq'](typeof _0x2006d7['uniqueFailedTests'][Symbol['iterator']],_0x585048[_0x4f16f7(0xa7)]))_0x2006d7['uniqueFailedTests']=new Set();else Array[_0x4f16f7(0x91)](_0x2006d7[_0x4f16f7(0x9b)])&&(_0x2006d7['uniqueFailedTests']=new Set(_0x2006d7[_0x4f16f7(0x9b)]));_0x2006d7[_0x4f16f7(0xb0)]=_0x5be7ff;let _0x401bfd=![];_0x585048[_0x4f16f7(0xb6)](_0x5ea40f[_0x4f16f7(0x93)],_0x585048[_0x4f16f7(0xb3)])&&(_0x2006d7[_0x4f16f7(0x84)]+=0x1,!_0x2006d7['uniqueFailedTests'][_0x4f16f7(0x99)](_0x5ea40f[_0x4f16f7(0xa8)])&&(_0x2006d7['uniqueFailedTests']['add'](_0x5ea40f[_0x4f16f7(0xa8)]),_0x401bfd=!![]));await this[_0x4f16f7(0xa0)](_0x2006d7);const _0x3bc9c6={};return _0x3bc9c6[_0x4f16f7(0x9f)]=_0x2006d7,_0x3bc9c6['isNewFailure']=_0x401bfd,_0x3bc9c6;}finally{await this['releaseLock'](_0x3ed28b);}}async[a133_0x2be879(0xa4)](_0x52abef){const _0xf11178=a133_0x2be879,_0x2d02e3=await this[_0xf11178(0x87)]();if(!_0x2d02e3)return logger[_0xf11178(0xb2)]('['+TAG+_0xf11178(0x96)),this[_0xf11178(0x88)]()||this['defaultState'];try{let _0x4a542c=this['readState']();return!_0x4a542c&&(_0x4a542c=JSON[_0xf11178(0xb4)](JSON['stringify'](this[_0xf11178(0xa9)]))),_0x4a542c[_0xf11178(0xbf)]=_0x52abef,await this[_0xf11178(0xa0)](_0x4a542c),_0x4a542c;}finally{await this[_0xf11178(0xb9)](_0x2d02e3);}}}module['exports']=FileHelper;function a133_0x537b(){const _0x1326d8=['27053ydhzhU','sorbC','xQQPv','closeSync','releaseLock','EEXIST','uoVik','BGFCs','readFileSync','openSync','lastAPIFailedCount','lockFilePath','code','713018XYXEBX','failedTests',']\x20Error\x20writing\x20state\x20file:\x20','6903sTKWnI','acquireLock','readState','4RDhsTO','error',']\x20Error\x20releasing\x20lock:\x20','160374vJoCrA','recordTestResult','276dJpwna','utrvj','jsMTq','isArray','10888XIjHYO','status','from','message',']\x20Could\x20not\x20acquire\x20lock\x20to\x20update\x20API\x20failed\x20count.\x20State\x20may\x20be\x20stale.','failFastConfig','FailFastFileHelper','has','1OMUews','uniqueFailedTests','winstonLogger','1414hQUGNw','function','newState','writeState','1190rOXbna','failed','split','updateAPIFailedCount','stack','103532ezbIPR','lkSXT','fullName','defaultState','85HUHrtO','gMpBY',']\x20Could\x20not\x20acquire\x20lock\x20to\x20record\x20test\x20result.\x20State\x20may\x20be\x20stale.','4640rWzOCM','stateFilePath','1267095hfcwsC','totalTests','writeFileSync','warn','pGHYM','parse'];a133_0x537b=function(){return _0x1326d8;};return a133_0x537b();}