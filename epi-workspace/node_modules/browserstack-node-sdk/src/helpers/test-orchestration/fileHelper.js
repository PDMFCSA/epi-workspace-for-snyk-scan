const a133_0x305bec=a133_0x38d5;(function(_0x20a747,_0x38d208){const _0x46e6d9=a133_0x38d5,_0x11b777=_0x20a747();while(!![]){try{const _0x37e1ed=parseInt(_0x46e6d9(0x103))/0x1*(-parseInt(_0x46e6d9(0x112))/0x2)+-parseInt(_0x46e6d9(0x109))/0x3*(-parseInt(_0x46e6d9(0x120))/0x4)+parseInt(_0x46e6d9(0xf4))/0x5*(-parseInt(_0x46e6d9(0xf8))/0x6)+-parseInt(_0x46e6d9(0x123))/0x7*(-parseInt(_0x46e6d9(0x105))/0x8)+-parseInt(_0x46e6d9(0xf0))/0x9+parseInt(_0x46e6d9(0xf6))/0xa*(parseInt(_0x46e6d9(0x11b))/0xb)+parseInt(_0x46e6d9(0x11f))/0xc;if(_0x37e1ed===_0x38d208)break;else _0x11b777['push'](_0x11b777['shift']());}catch(_0x38727c){_0x11b777['push'](_0x11b777['shift']());}}}(a133_0x362f,0x5f7ea));const fs=require('fs'),logger=require(a133_0x305bec(0x117))[a133_0x305bec(0x114)],TAG=a133_0x305bec(0xfb);class FileHelper{constructor(_0x5c2a92,_0x13b987,_0x2f4160,_0x339f5d){const _0x119d89=a133_0x305bec,_0x4f8745={};_0x4f8745[_0x119d89(0xea)]=_0x119d89(0xe9),_0x4f8745['cmyDU']=_0x119d89(0x107);const _0x17f920=_0x4f8745,_0x629e00=_0x17f920[_0x119d89(0xea)][_0x119d89(0x118)]('|');let _0x3bc6df=0x0;while(!![]){switch(_0x629e00[_0x3bc6df++]){case'0':if(!fs[_0x119d89(0x122)](this[_0x119d89(0x110)]))try{fs[_0x119d89(0x106)](this[_0x119d89(0x110)],'{}',_0x17f920[_0x119d89(0x127)]);}catch(_0x41e858){logger[_0x119d89(0xf7)]('['+TAG+']\x20Error\x20creating\x20state\x20file:\x20'+_0x41e858[_0x119d89(0xfd)]+'\x20'+_0x41e858[_0x119d89(0x10e)]);}continue;case'1':this[_0x119d89(0xf3)]=_0x5c2a92;continue;case'2':this['lockFilePath']=_0x2f4160;continue;case'3':this[_0x119d89(0x115)]=_0x339f5d;continue;case'4':this['stateFilePath']=_0x13b987;continue;}break;}}async[a133_0x305bec(0x125)](){const _0x32f656=a133_0x305bec,_0x1633ca={};_0x1633ca[_0x32f656(0xef)]=function(_0x2325be,_0x449e34){return _0x2325be===_0x449e34;},_0x1633ca[_0x32f656(0x108)]='EEXIST';const _0x4474ba=_0x1633ca;let _0x21e469;try{return _0x21e469=fs[_0x32f656(0x128)](this[_0x32f656(0xed)],'wx'),_0x21e469;}catch(_0x39f735){if(_0x4474ba[_0x32f656(0xef)](_0x39f735[_0x32f656(0x124)],_0x4474ba[_0x32f656(0x108)]))return null;throw _0x39f735;}}async['releaseLock'](_0xf1c578){const _0x476d6d=a133_0x305bec;if(_0xf1c578)try{fs[_0x476d6d(0xec)](_0xf1c578),fs['unlinkSync'](this[_0x476d6d(0xed)]);}catch(_0x22a617){logger['error']('['+TAG+']\x20Error\x20releasing\x20lock:\x20'+_0x22a617['message']+'\x20'+_0x22a617[_0x476d6d(0x10e)]);}}[a133_0x305bec(0x111)](){const _0x9c13=a133_0x305bec,_0x2a635b={};_0x2a635b[_0x9c13(0xee)]=_0x9c13(0x107);const _0xcb321c=_0x2a635b;try{const _0x154df2=fs[_0x9c13(0xe8)](this['stateFilePath'],_0xcb321c[_0x9c13(0xee)]);return JSON[_0x9c13(0xf1)](_0x154df2);}catch(_0x291732){return logger['error']('['+TAG+_0x9c13(0x11c)+_0x291732[_0x9c13(0xfd)]+'\x20'+_0x291732[_0x9c13(0x10e)]),null;}}async['writeState'](_0x4db633){const _0x58e5a0=a133_0x305bec,_0x3035a8={..._0x4db633,'uniqueFailedTests':Array['isArray'](_0x4db633[_0x58e5a0(0x121)])?_0x4db633[_0x58e5a0(0x121)]:Array[_0x58e5a0(0x100)](_0x4db633[_0x58e5a0(0x121)]||[])};try{fs['writeFileSync'](this[_0x58e5a0(0x110)],JSON['stringify'](_0x3035a8,null,0x2));}catch(_0x457cca){logger[_0x58e5a0(0xf7)]('['+TAG+']\x20Error\x20writing\x20state\x20file:\x20'+_0x457cca['message']+'\x20'+_0x457cca[_0x58e5a0(0x10e)]);throw _0x457cca;}}async[a133_0x305bec(0x101)](_0x306878,_0x574ea5){const _0x18ed21=a133_0x305bec,_0x2113db={};_0x2113db[_0x18ed21(0x126)]=function(_0x2e9a54,_0x2f29a9){return _0x2e9a54!==_0x2f29a9;},_0x2113db[_0x18ed21(0xfc)]=_0x18ed21(0xfe),_0x2113db[_0x18ed21(0x10a)]=function(_0x250d02,_0x24ce55){return _0x250d02===_0x24ce55;},_0x2113db[_0x18ed21(0x11d)]=_0x18ed21(0xf5);const _0x428571=_0x2113db,_0x523e07=await this[_0x18ed21(0x125)]();if(!_0x523e07)return logger[_0x18ed21(0xeb)]('['+TAG+_0x18ed21(0x102)),{'newState':this['readState']()||this[_0x18ed21(0x115)],'isNewFailure':![]};try{let _0x39b809=this['readState']();!_0x39b809&&(_0x39b809=JSON[_0x18ed21(0xf1)](JSON[_0x18ed21(0x116)](this[_0x18ed21(0x115)])));if(!_0x39b809['uniqueFailedTests']||_0x428571[_0x18ed21(0x126)](typeof _0x39b809[_0x18ed21(0x121)][Symbol[_0x18ed21(0x11e)]],_0x428571[_0x18ed21(0xfc)]))_0x39b809[_0x18ed21(0x121)]=new Set();else Array['isArray'](_0x39b809['uniqueFailedTests'])&&(_0x39b809[_0x18ed21(0x121)]=new Set(_0x39b809[_0x18ed21(0x121)]));_0x39b809['totalTests']=_0x574ea5;let _0x2ccf0a=![];_0x428571[_0x18ed21(0x10a)](_0x306878[_0x18ed21(0x113)],_0x428571['agQch'])&&(_0x39b809[_0x18ed21(0x10c)]+=0x1,!_0x39b809[_0x18ed21(0x121)][_0x18ed21(0x10d)](_0x306878[_0x18ed21(0x10b)])&&(_0x39b809[_0x18ed21(0x121)][_0x18ed21(0xfa)](_0x306878[_0x18ed21(0x10b)]),_0x2ccf0a=!![]));await this['writeState'](_0x39b809);const _0x24f287={};return _0x24f287['newState']=_0x39b809,_0x24f287[_0x18ed21(0xff)]=_0x2ccf0a,_0x24f287;}finally{await this[_0x18ed21(0x104)](_0x523e07);}}async[a133_0x305bec(0xf2)](_0x28bd32){const _0x4bed95=a133_0x305bec,_0x48adf8=await this[_0x4bed95(0x125)]();if(!_0x48adf8)return logger[_0x4bed95(0xeb)]('['+TAG+_0x4bed95(0x11a)),this[_0x4bed95(0x111)]()||this[_0x4bed95(0x115)];try{let _0xe6d711=this['readState']();return!_0xe6d711&&(_0xe6d711=JSON['parse'](JSON[_0x4bed95(0x116)](this['defaultState']))),_0xe6d711[_0x4bed95(0x119)]=_0x28bd32,await this[_0x4bed95(0xf9)](_0xe6d711),_0xe6d711;}finally{await this['releaseLock'](_0x48adf8);}}}function a133_0x38d5(_0x44656c,_0x24573c){const _0x362f3a=a133_0x362f();return a133_0x38d5=function(_0x38d5e5,_0x29bdd2){_0x38d5e5=_0x38d5e5-0xe8;let _0x3dc7f9=_0x362f3a[_0x38d5e5];return _0x3dc7f9;},a133_0x38d5(_0x44656c,_0x24573c);}function a133_0x362f(){const _0x30b971=['1|4|2|3|0','eONSn','warn','closeSync','lockFilePath','oydHn','vxIBz','2912112xiPcsM','parse','updateAPIFailedCount','failFastConfig','5xMoHMV','failed','10FBaoFw','error','4558830pLzYaL','writeState','add','FailFastFileHelper','mrjQD','message','function','isNewFailure','from','recordTestResult',']\x20Could\x20not\x20acquire\x20lock\x20to\x20record\x20test\x20result.\x20State\x20may\x20be\x20stale.','39205eqXAmR','releaseLock','1305128YIYBSi','writeFileSync','utf8','UObok','873MqymGf','Xhkic','fullName','failedTests','has','stack','exports','stateFilePath','readState','30dBscbK','status','winstonLogger','defaultState','stringify','../logger','split','lastAPIFailedCount',']\x20Could\x20not\x20acquire\x20lock\x20to\x20update\x20API\x20failed\x20count.\x20State\x20may\x20be\x20stale.','371481zBhZPg',']\x20Error\x20reading\x20state\x20file:\x20','agQch','iterator','20149812dwetWo','2564xEQgbD','uniqueFailedTests','existsSync','7FaGOah','code','acquireLock','AudtJ','cmyDU','openSync','readFileSync'];a133_0x362f=function(){return _0x30b971;};return a133_0x362f();}module[a133_0x305bec(0x10f)]=FileHelper;