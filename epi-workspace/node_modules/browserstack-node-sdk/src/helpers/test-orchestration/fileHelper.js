function a120_0x39ae(_0x1887ef,_0x30c7e0){const _0x2c437f=a120_0x2c43();return a120_0x39ae=function(_0x39ae34,_0x4ca768){_0x39ae34=_0x39ae34-0x15d;let _0x48eb01=_0x2c437f[_0x39ae34];return _0x48eb01;},a120_0x39ae(_0x1887ef,_0x30c7e0);}const a120_0x2985bf=a120_0x39ae;(function(_0x1dcfd0,_0x507a7c){const _0x42f930=a120_0x39ae,_0x55b660=_0x1dcfd0();while(!![]){try{const _0x4850c5=parseInt(_0x42f930(0x16a))/0x1*(-parseInt(_0x42f930(0x15d))/0x2)+-parseInt(_0x42f930(0x179))/0x3+parseInt(_0x42f930(0x187))/0x4+-parseInt(_0x42f930(0x172))/0x5+-parseInt(_0x42f930(0x198))/0x6*(parseInt(_0x42f930(0x16c))/0x7)+parseInt(_0x42f930(0x168))/0x8+parseInt(_0x42f930(0x19a))/0x9;if(_0x4850c5===_0x507a7c)break;else _0x55b660['push'](_0x55b660['shift']());}catch(_0xfbdb5c){_0x55b660['push'](_0x55b660['shift']());}}}(a120_0x2c43,0x8e9cb));function a120_0x2c43(){const _0x1bfe07=['50oKpGnz','error','unlinkSync','tafRW','writeState',']\x20Error\x20writing\x20state\x20file:\x20','stringify','failFastConfig','uniqueFailedTests','Xzchz','has','8216712omKPHg','status','25831CbqacD','openSync','1785140mbIbLC','stateFilePath','fFHvG','updateAPIFailedCount','xdiWJ','winstonLogger','5493620lNDsdJ','add','acquireLock','isArray','writeFileSync','EEXIST','readFileSync','2020692aoGcXL','PgcAZ','fullName','failed',']\x20Could\x20not\x20acquire\x20lock\x20to\x20record\x20test\x20result.\x20State\x20may\x20be\x20stale.','parse','piWxu','releaseLock','closeSync','utf8','code',']\x20Error\x20reading\x20state\x20file:\x20','isNewFailure','1|3|0|4|2','2716436voARPR',']\x20Error\x20releasing\x20lock:\x20','stack','from','FailFastFileHelper','warn','newState','QVgPD','iterator',']\x20Could\x20not\x20acquire\x20lock\x20to\x20update\x20API\x20failed\x20count.\x20State\x20may\x20be\x20stale.','message','defaultState','IIZel','readState',']\x20Error\x20creating\x20state\x20file:\x20','lockFilePath','ebLiz','6Tywati','exports','13959216FYjJGr'];a120_0x2c43=function(){return _0x1bfe07;};return a120_0x2c43();}const fs=require('fs'),logger=require('../logger')[a120_0x2985bf(0x171)],TAG=a120_0x2985bf(0x18b);class FileHelper{constructor(_0x112ceb,_0x5a6659,_0x45eb34,_0x3c097f){const _0x17c058=a120_0x2985bf,_0x3255c8={};_0x3255c8[_0x17c058(0x16e)]=_0x17c058(0x186),_0x3255c8['Xzchz']='utf8';const _0x113ff0=_0x3255c8,_0x26663a=_0x113ff0['fFHvG']['split']('|');let _0x1eb41f=0x0;while(!![]){switch(_0x26663a[_0x1eb41f++]){case'0':this[_0x17c058(0x196)]=_0x45eb34;continue;case'1':this[_0x17c058(0x164)]=_0x112ceb;continue;case'2':if(!fs['existsSync'](this['stateFilePath']))try{fs[_0x17c058(0x176)](this[_0x17c058(0x16d)],'{}',_0x113ff0[_0x17c058(0x166)]);}catch(_0x4265e4){logger['error']('['+TAG+_0x17c058(0x195)+_0x4265e4['message']+'\x20'+_0x4265e4[_0x17c058(0x189)]);}continue;case'3':this['stateFilePath']=_0x5a6659;continue;case'4':this[_0x17c058(0x192)]=_0x3c097f;continue;}break;}}async[a120_0x2985bf(0x174)](){const _0x5675fb=a120_0x2985bf,_0x52c2d9={};_0x52c2d9[_0x5675fb(0x193)]=function(_0x45d5cc,_0xfa1aed){return _0x45d5cc===_0xfa1aed;},_0x52c2d9['piWxu']=_0x5675fb(0x177);const _0x40489a=_0x52c2d9;let _0x5a53ab;try{return _0x5a53ab=fs[_0x5675fb(0x16b)](this[_0x5675fb(0x196)],'wx'),_0x5a53ab;}catch(_0x4241ac){if(_0x40489a['IIZel'](_0x4241ac[_0x5675fb(0x183)],_0x40489a[_0x5675fb(0x17f)]))return null;throw _0x4241ac;}}async[a120_0x2985bf(0x180)](_0x4bdbd2){const _0x3c1829=a120_0x2985bf;if(_0x4bdbd2)try{fs[_0x3c1829(0x181)](_0x4bdbd2),fs[_0x3c1829(0x15f)](this['lockFilePath']);}catch(_0x2da8f9){logger[_0x3c1829(0x15e)]('['+TAG+_0x3c1829(0x188)+_0x2da8f9[_0x3c1829(0x191)]+'\x20'+_0x2da8f9[_0x3c1829(0x189)]);}}[a120_0x2985bf(0x194)](){const _0x32a90a=a120_0x2985bf,_0x973c07={};_0x973c07[_0x32a90a(0x160)]=_0x32a90a(0x182);const _0x4db8da=_0x973c07;try{const _0x42450b=fs[_0x32a90a(0x178)](this[_0x32a90a(0x16d)],_0x4db8da['tafRW']);return JSON[_0x32a90a(0x17e)](_0x42450b);}catch(_0xd42dc9){return logger[_0x32a90a(0x15e)]('['+TAG+_0x32a90a(0x184)+_0xd42dc9[_0x32a90a(0x191)]+'\x20'+_0xd42dc9['stack']),null;}}async['writeState'](_0x543445){const _0xb85bcc=a120_0x2985bf,_0x48774e={..._0x543445,'uniqueFailedTests':Array[_0xb85bcc(0x175)](_0x543445[_0xb85bcc(0x165)])?_0x543445[_0xb85bcc(0x165)]:Array[_0xb85bcc(0x18a)](_0x543445[_0xb85bcc(0x165)]||[])};try{fs[_0xb85bcc(0x176)](this[_0xb85bcc(0x16d)],JSON['stringify'](_0x48774e,null,0x2));}catch(_0x5efa8d){logger['error']('['+TAG+_0xb85bcc(0x162)+_0x5efa8d['message']+'\x20'+_0x5efa8d[_0xb85bcc(0x189)]);throw _0x5efa8d;}}async['recordTestResult'](_0x2680b3,_0x4f2a68){const _0x2badd9=a120_0x2985bf,_0x17e637={};_0x17e637[_0x2badd9(0x18e)]=function(_0x26c2de,_0x110801){return _0x26c2de!==_0x110801;},_0x17e637[_0x2badd9(0x17a)]='function',_0x17e637['ebLiz']=function(_0x1687ae,_0x49b840){return _0x1687ae===_0x49b840;},_0x17e637[_0x2badd9(0x170)]=_0x2badd9(0x17c);const _0xef5f71=_0x17e637,_0x4f8287=await this[_0x2badd9(0x174)]();if(!_0x4f8287)return logger[_0x2badd9(0x18c)]('['+TAG+_0x2badd9(0x17d)),{'newState':this[_0x2badd9(0x194)]()||this['defaultState'],'isNewFailure':![]};try{let _0x8163bd=this['readState']();!_0x8163bd&&(_0x8163bd=JSON['parse'](JSON[_0x2badd9(0x163)](this['defaultState'])));if(!_0x8163bd[_0x2badd9(0x165)]||_0xef5f71[_0x2badd9(0x18e)](typeof _0x8163bd[_0x2badd9(0x165)][Symbol[_0x2badd9(0x18f)]],_0xef5f71[_0x2badd9(0x17a)]))_0x8163bd['uniqueFailedTests']=new Set();else Array[_0x2badd9(0x175)](_0x8163bd[_0x2badd9(0x165)])&&(_0x8163bd[_0x2badd9(0x165)]=new Set(_0x8163bd['uniqueFailedTests']));_0x8163bd['totalTests']=_0x4f2a68;let _0x3385c4=![];_0xef5f71[_0x2badd9(0x197)](_0x2680b3[_0x2badd9(0x169)],_0xef5f71[_0x2badd9(0x170)])&&(_0x8163bd['failedTests']+=0x1,!_0x8163bd[_0x2badd9(0x165)][_0x2badd9(0x167)](_0x2680b3['fullName'])&&(_0x8163bd[_0x2badd9(0x165)][_0x2badd9(0x173)](_0x2680b3[_0x2badd9(0x17b)]),_0x3385c4=!![]));await this[_0x2badd9(0x161)](_0x8163bd);const _0x5d964b={};return _0x5d964b[_0x2badd9(0x18d)]=_0x8163bd,_0x5d964b[_0x2badd9(0x185)]=_0x3385c4,_0x5d964b;}finally{await this[_0x2badd9(0x180)](_0x4f8287);}}async[a120_0x2985bf(0x16f)](_0x1a753b){const _0x146b9a=a120_0x2985bf,_0x269ef3=await this[_0x146b9a(0x174)]();if(!_0x269ef3)return logger['warn']('['+TAG+_0x146b9a(0x190)),this[_0x146b9a(0x194)]()||this['defaultState'];try{let _0x1af4e9=this[_0x146b9a(0x194)]();return!_0x1af4e9&&(_0x1af4e9=JSON[_0x146b9a(0x17e)](JSON['stringify'](this[_0x146b9a(0x192)]))),_0x1af4e9['lastAPIFailedCount']=_0x1a753b,await this[_0x146b9a(0x161)](_0x1af4e9),_0x1af4e9;}finally{await this[_0x146b9a(0x180)](_0x269ef3);}}}module[a120_0x2985bf(0x199)]=FileHelper;