const a133_0x375469=a133_0x2e33;(function(_0x2bef7e,_0x470373){const _0x13aac6=a133_0x2e33,_0x1fd391=_0x2bef7e();while(!![]){try{const _0x507ae1=-parseInt(_0x13aac6(0x1a2))/0x1+-parseInt(_0x13aac6(0x1d6))/0x2*(parseInt(_0x13aac6(0x1a1))/0x3)+parseInt(_0x13aac6(0x1d1))/0x4+-parseInt(_0x13aac6(0x1c3))/0x5+parseInt(_0x13aac6(0x1b1))/0x6+parseInt(_0x13aac6(0x1ad))/0x7*(parseInt(_0x13aac6(0x1da))/0x8)+-parseInt(_0x13aac6(0x1d2))/0x9*(-parseInt(_0x13aac6(0x1d9))/0xa);if(_0x507ae1===_0x470373)break;else _0x1fd391['push'](_0x1fd391['shift']());}catch(_0x2f86b1){_0x1fd391['push'](_0x1fd391['shift']());}}}(a133_0x5b51,0x92e3a));const fs=require('fs'),logger=require(a133_0x375469(0x1d5))[a133_0x375469(0x1b3)],TAG='FailFastFileHelper';function a133_0x2e33(_0x5cf9d1,_0x4ffa20){const _0x5b51d1=a133_0x5b51();return a133_0x2e33=function(_0x2e339e,_0x48c83e){_0x2e339e=_0x2e339e-0x1a0;let _0x2290c9=_0x5b51d1[_0x2e339e];return _0x2290c9;},a133_0x2e33(_0x5cf9d1,_0x4ffa20);}class FileHelper{constructor(_0x51db0e,_0x209c3d,_0x2147f3,_0x39182d){const _0x391f36=a133_0x375469,_0x185462={};_0x185462[_0x391f36(0x1db)]=_0x391f36(0x1d8),_0x185462[_0x391f36(0x1aa)]='utf8';const _0x1d9c81=_0x185462,_0x11d717=_0x1d9c81[_0x391f36(0x1db)][_0x391f36(0x1b2)]('|');let _0x21397c=0x0;while(!![]){switch(_0x11d717[_0x21397c++]){case'0':this[_0x391f36(0x1c6)]=_0x51db0e;continue;case'1':if(!fs['existsSync'](this[_0x391f36(0x1b5)]))try{fs[_0x391f36(0x1cb)](this[_0x391f36(0x1b5)],'{}',_0x1d9c81[_0x391f36(0x1aa)]);}catch(_0x364591){logger[_0x391f36(0x1cc)]('['+TAG+_0x391f36(0x1d7)+_0x364591[_0x391f36(0x1a9)]+'\x20'+_0x364591[_0x391f36(0x1c1)]);}continue;case'2':this[_0x391f36(0x1b5)]=_0x209c3d;continue;case'3':this['defaultState']=_0x39182d;continue;case'4':this[_0x391f36(0x1d0)]=_0x2147f3;continue;}break;}}async[a133_0x375469(0x1ac)](){const _0x49999d=a133_0x375469,_0x3c2c3d={};_0x3c2c3d[_0x49999d(0x1bf)]=function(_0x418cc8,_0x3db530){return _0x418cc8===_0x3db530;},_0x3c2c3d[_0x49999d(0x1a7)]='EEXIST';const _0x455fc0=_0x3c2c3d;let _0x1105ef;try{return _0x1105ef=fs[_0x49999d(0x1b9)](this['lockFilePath'],'wx'),_0x1105ef;}catch(_0x11479e){if(_0x455fc0[_0x49999d(0x1bf)](_0x11479e[_0x49999d(0x1b6)],_0x455fc0[_0x49999d(0x1a7)]))return null;throw _0x11479e;}}async[a133_0x375469(0x1ca)](_0x15d95e){const _0xbf0edb=a133_0x375469;if(_0x15d95e)try{fs[_0xbf0edb(0x1b4)](_0x15d95e),fs[_0xbf0edb(0x1cf)](this[_0xbf0edb(0x1d0)]);}catch(_0x2ebc0a){logger[_0xbf0edb(0x1cc)]('['+TAG+_0xbf0edb(0x1a8)+_0x2ebc0a['message']+'\x20'+_0x2ebc0a[_0xbf0edb(0x1c1)]);}}[a133_0x375469(0x1bb)](){const _0x9af527=a133_0x375469,_0x4e9284={};_0x4e9284[_0x9af527(0x1c2)]='utf8';const _0x397bf0=_0x4e9284;try{const _0x3e9cb3=fs[_0x9af527(0x1a0)](this[_0x9af527(0x1b5)],_0x397bf0[_0x9af527(0x1c2)]);return JSON[_0x9af527(0x1d4)](_0x3e9cb3);}catch(_0x57f81d){return logger[_0x9af527(0x1cc)]('['+TAG+_0x9af527(0x1af)+_0x57f81d['message']+'\x20'+_0x57f81d['stack']),null;}}async[a133_0x375469(0x1de)](_0x5d59c8){const _0x36ea87=a133_0x375469,_0x2e37a5={..._0x5d59c8,'uniqueFailedTests':Array[_0x36ea87(0x1c9)](_0x5d59c8[_0x36ea87(0x1be)])?_0x5d59c8['uniqueFailedTests']:Array[_0x36ea87(0x1b7)](_0x5d59c8['uniqueFailedTests']||[])};try{fs[_0x36ea87(0x1cb)](this['stateFilePath'],JSON[_0x36ea87(0x1a4)](_0x2e37a5,null,0x2));}catch(_0x34ae57){logger[_0x36ea87(0x1cc)]('['+TAG+_0x36ea87(0x1ce)+_0x34ae57[_0x36ea87(0x1a9)]+'\x20'+_0x34ae57[_0x36ea87(0x1c1)]);throw _0x34ae57;}}async[a133_0x375469(0x1bc)](_0x54d41e,_0x240385){const _0x27757b=a133_0x375469,_0x22cd1f={};_0x22cd1f[_0x27757b(0x1a5)]=function(_0x57cf97,_0x5b25e5){return _0x57cf97!==_0x5b25e5;},_0x22cd1f[_0x27757b(0x1c4)]=_0x27757b(0x1c5),_0x22cd1f[_0x27757b(0x1dd)]=function(_0x524d0e,_0x19dad6){return _0x524d0e===_0x19dad6;},_0x22cd1f[_0x27757b(0x1cd)]=_0x27757b(0x1a6);const _0x5f7916=_0x22cd1f,_0x3ef74e=await this['acquireLock']();if(!_0x3ef74e)return logger['warn']('['+TAG+_0x27757b(0x1ba)),{'newState':this[_0x27757b(0x1bb)]()||this[_0x27757b(0x1c0)],'isNewFailure':![]};try{let _0xff31a6=this['readState']();!_0xff31a6&&(_0xff31a6=JSON['parse'](JSON['stringify'](this[_0x27757b(0x1c0)])));if(!_0xff31a6[_0x27757b(0x1be)]||_0x5f7916[_0x27757b(0x1a5)](typeof _0xff31a6[_0x27757b(0x1be)][Symbol[_0x27757b(0x1d3)]],_0x5f7916[_0x27757b(0x1c4)]))_0xff31a6['uniqueFailedTests']=new Set();else Array['isArray'](_0xff31a6['uniqueFailedTests'])&&(_0xff31a6[_0x27757b(0x1be)]=new Set(_0xff31a6[_0x27757b(0x1be)]));_0xff31a6['totalTests']=_0x240385;let _0x47e7d4=![];_0x5f7916['HLkIQ'](_0x54d41e[_0x27757b(0x1bd)],_0x5f7916[_0x27757b(0x1cd)])&&(_0xff31a6['failedTests']+=0x1,!_0xff31a6[_0x27757b(0x1be)][_0x27757b(0x1a3)](_0x54d41e[_0x27757b(0x1c7)])&&(_0xff31a6[_0x27757b(0x1be)][_0x27757b(0x1dc)](_0x54d41e[_0x27757b(0x1c7)]),_0x47e7d4=!![]));await this['writeState'](_0xff31a6);const _0x5e8eca={};return _0x5e8eca['newState']=_0xff31a6,_0x5e8eca[_0x27757b(0x1c8)]=_0x47e7d4,_0x5e8eca;}finally{await this[_0x27757b(0x1ca)](_0x3ef74e);}}async[a133_0x375469(0x1b8)](_0x2b5ffd){const _0x1e9f3d=a133_0x375469,_0x41db65=await this[_0x1e9f3d(0x1ac)]();if(!_0x41db65)return logger[_0x1e9f3d(0x1b0)]('['+TAG+_0x1e9f3d(0x1ab)),this[_0x1e9f3d(0x1bb)]()||this['defaultState'];try{let _0x1e0aba=this[_0x1e9f3d(0x1bb)]();return!_0x1e0aba&&(_0x1e0aba=JSON[_0x1e9f3d(0x1d4)](JSON[_0x1e9f3d(0x1a4)](this[_0x1e9f3d(0x1c0)]))),_0x1e0aba[_0x1e9f3d(0x1df)]=_0x2b5ffd,await this['writeState'](_0x1e0aba),_0x1e0aba;}finally{await this['releaseLock'](_0x41db65);}}}function a133_0x5b51(){const _0x1d594b=['20220TxXOdj','1086207TGhWwI','has','stringify','kNhIP','failed','ShsOU',']\x20Error\x20releasing\x20lock:\x20','message','cNxEV',']\x20Could\x20not\x20acquire\x20lock\x20to\x20update\x20API\x20failed\x20count.\x20State\x20may\x20be\x20stale.','acquireLock','174958YgZsPW','exports',']\x20Error\x20reading\x20state\x20file:\x20','warn','71952JaeoJu','split','winstonLogger','closeSync','stateFilePath','code','from','updateAPIFailedCount','openSync',']\x20Could\x20not\x20acquire\x20lock\x20to\x20record\x20test\x20result.\x20State\x20may\x20be\x20stale.','readState','recordTestResult','status','uniqueFailedTests','NLPYN','defaultState','stack','TaSVH','944255hlQKkd','FnaJZ','function','failFastConfig','fullName','isNewFailure','isArray','releaseLock','writeFileSync','error','TGvwA',']\x20Error\x20writing\x20state\x20file:\x20','unlinkSync','lockFilePath','2344160JNZaQX','18Wedmef','iterator','parse','../logger','50RhClYt',']\x20Error\x20creating\x20state\x20file:\x20','0|2|4|3|1','7110950jZjTxt','8QlMsfI','qPUct','add','HLkIQ','writeState','lastAPIFailedCount','readFileSync'];a133_0x5b51=function(){return _0x1d594b;};return a133_0x5b51();}module[a133_0x375469(0x1ae)]=FileHelper;