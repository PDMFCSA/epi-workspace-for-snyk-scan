function a133_0x3808(){const _0xa2ee31=['EEXIST','releaseLock','existsSync','function','xJVqV','exports','4CcYEDe',']\x20Could\x20not\x20acquire\x20lock\x20to\x20record\x20test\x20result.\x20State\x20may\x20be\x20stale.','fullName','writeFileSync','defaultState','readState','code','wySdH','uniqueFailedTests','stringify','35bFaGBE','4|0|2|1|3','message','totalTests','AgAOI','328557NvsTUD','winstonLogger','XXUhu','4IDhsVD','6607530HSBmKf','Uzsfd','utf8','split',']\x20Could\x20not\x20acquire\x20lock\x20to\x20update\x20API\x20failed\x20count.\x20State\x20may\x20be\x20stale.','stack','newState','stateFilePath','564010eCsaBl','failedTests','add','lockFilePath','xHQVE','721890YBgYJC','closeSync','dYhiV',']\x20Error\x20releasing\x20lock:\x20','writeState','Gtjhv','error','iterator','recordTestResult','isArray','failed','sLLNr','from','7465864QSLXmi','isNewFailure','readFileSync','898494CVMcpa','warn','5699655bQiXzH','parse','openSync','acquireLock','FailFastFileHelper','unlinkSync','updateAPIFailedCount'];a133_0x3808=function(){return _0xa2ee31;};return a133_0x3808();}const a133_0x480810=a133_0x3777;(function(_0x177a5c,_0x310e2f){const _0x334d42=a133_0x3777,_0x118c5a=_0x177a5c();while(!![]){try{const _0x50bf7f=-parseInt(_0x334d42(0x16c))/0x1*(parseInt(_0x334d42(0x16f))/0x2)+-parseInt(_0x334d42(0x17d))/0x3*(-parseInt(_0x334d42(0x15d))/0x4)+-parseInt(_0x334d42(0x18f))/0x5+-parseInt(_0x334d42(0x18d))/0x6*(-parseInt(_0x334d42(0x167))/0x7)+parseInt(_0x334d42(0x18a))/0x8+parseInt(_0x334d42(0x170))/0x9+parseInt(_0x334d42(0x178))/0xa;if(_0x50bf7f===_0x310e2f)break;else _0x118c5a['push'](_0x118c5a['shift']());}catch(_0x131103){_0x118c5a['push'](_0x118c5a['shift']());}}}(a133_0x3808,0xdfaa6));const fs=require('fs'),logger=require('../logger')[a133_0x480810(0x16d)],TAG=a133_0x480810(0x193);function a133_0x3777(_0x2a392e,_0x21337d){const _0x380811=a133_0x3808();return a133_0x3777=function(_0x377701,_0x1a96fb){_0x377701=_0x377701-0x15d;let _0x1d5724=_0x380811[_0x377701];return _0x1d5724;},a133_0x3777(_0x2a392e,_0x21337d);}class FileHelper{constructor(_0x268e89,_0x4462e4,_0x25751e,_0x6640fd){const _0x7a5ccd=a133_0x480810,_0x5bc7cf={};_0x5bc7cf[_0x7a5ccd(0x164)]=_0x7a5ccd(0x168),_0x5bc7cf[_0x7a5ccd(0x182)]=_0x7a5ccd(0x172);const _0x4d73a7=_0x5bc7cf,_0x343b7e=_0x4d73a7[_0x7a5ccd(0x164)][_0x7a5ccd(0x173)]('|');let _0x1cb9a5=0x0;while(!![]){switch(_0x343b7e[_0x1cb9a5++]){case'0':this[_0x7a5ccd(0x177)]=_0x4462e4;continue;case'1':this[_0x7a5ccd(0x161)]=_0x6640fd;continue;case'2':this[_0x7a5ccd(0x17b)]=_0x25751e;continue;case'3':if(!fs[_0x7a5ccd(0x198)](this[_0x7a5ccd(0x177)]))try{fs['writeFileSync'](this[_0x7a5ccd(0x177)],'{}',_0x4d73a7[_0x7a5ccd(0x182)]);}catch(_0x1e716c){logger[_0x7a5ccd(0x183)]('['+TAG+']\x20Error\x20creating\x20state\x20file:\x20'+_0x1e716c['message']+'\x20'+_0x1e716c['stack']);}continue;case'4':this['failFastConfig']=_0x268e89;continue;}break;}}async['acquireLock'](){const _0x2e3cd6=a133_0x480810,_0x2d0bc9={};_0x2d0bc9[_0x2e3cd6(0x16e)]=function(_0x6ca7a6,_0x468f6f){return _0x6ca7a6===_0x468f6f;},_0x2d0bc9[_0x2e3cd6(0x188)]=_0x2e3cd6(0x196);const _0x539dbb=_0x2d0bc9;let _0x3a7093;try{return _0x3a7093=fs[_0x2e3cd6(0x191)](this['lockFilePath'],'wx'),_0x3a7093;}catch(_0x3ef194){if(_0x539dbb[_0x2e3cd6(0x16e)](_0x3ef194[_0x2e3cd6(0x163)],_0x539dbb[_0x2e3cd6(0x188)]))return null;throw _0x3ef194;}}async[a133_0x480810(0x197)](_0x54751e){const _0x65e7ac=a133_0x480810;if(_0x54751e)try{fs[_0x65e7ac(0x17e)](_0x54751e),fs[_0x65e7ac(0x194)](this[_0x65e7ac(0x17b)]);}catch(_0x4a2fc8){logger[_0x65e7ac(0x183)]('['+TAG+_0x65e7ac(0x180)+_0x4a2fc8[_0x65e7ac(0x169)]+'\x20'+_0x4a2fc8[_0x65e7ac(0x175)]);}}[a133_0x480810(0x162)](){const _0x32060b=a133_0x480810,_0x2ca4cd={};_0x2ca4cd[_0x32060b(0x16b)]=_0x32060b(0x172);const _0x14d0d4=_0x2ca4cd;try{const _0x31d304=fs[_0x32060b(0x18c)](this[_0x32060b(0x177)],_0x14d0d4['AgAOI']);return JSON[_0x32060b(0x190)](_0x31d304);}catch(_0x595572){return logger[_0x32060b(0x183)]('['+TAG+']\x20Error\x20reading\x20state\x20file:\x20'+_0x595572['message']+'\x20'+_0x595572[_0x32060b(0x175)]),null;}}async[a133_0x480810(0x181)](_0x11b8a2){const _0x2f14b5=a133_0x480810,_0x1e5edf={..._0x11b8a2,'uniqueFailedTests':Array['isArray'](_0x11b8a2[_0x2f14b5(0x165)])?_0x11b8a2[_0x2f14b5(0x165)]:Array[_0x2f14b5(0x189)](_0x11b8a2['uniqueFailedTests']||[])};try{fs[_0x2f14b5(0x160)](this[_0x2f14b5(0x177)],JSON[_0x2f14b5(0x166)](_0x1e5edf,null,0x2));}catch(_0x4d7976){logger[_0x2f14b5(0x183)]('['+TAG+']\x20Error\x20writing\x20state\x20file:\x20'+_0x4d7976[_0x2f14b5(0x169)]+'\x20'+_0x4d7976['stack']);throw _0x4d7976;}}async[a133_0x480810(0x185)](_0x61154b,_0x41932a){const _0x598fd1=a133_0x480810,_0x5c5163={};_0x5c5163[_0x598fd1(0x17f)]=function(_0x28b16d,_0x5b6bf8){return _0x28b16d!==_0x5b6bf8;},_0x5c5163[_0x598fd1(0x171)]=_0x598fd1(0x199),_0x5c5163[_0x598fd1(0x19a)]=function(_0x5dc25d,_0xb144f9){return _0x5dc25d===_0xb144f9;},_0x5c5163[_0x598fd1(0x17c)]=_0x598fd1(0x187);const _0x2ec059=_0x5c5163,_0x4cf332=await this[_0x598fd1(0x192)]();if(!_0x4cf332)return logger[_0x598fd1(0x18e)]('['+TAG+_0x598fd1(0x15e)),{'newState':this[_0x598fd1(0x162)]()||this[_0x598fd1(0x161)],'isNewFailure':![]};try{let _0x3467d1=this[_0x598fd1(0x162)]();!_0x3467d1&&(_0x3467d1=JSON[_0x598fd1(0x190)](JSON[_0x598fd1(0x166)](this[_0x598fd1(0x161)])));if(!_0x3467d1[_0x598fd1(0x165)]||_0x2ec059[_0x598fd1(0x17f)](typeof _0x3467d1[_0x598fd1(0x165)][Symbol[_0x598fd1(0x184)]],_0x2ec059['Uzsfd']))_0x3467d1[_0x598fd1(0x165)]=new Set();else Array[_0x598fd1(0x186)](_0x3467d1[_0x598fd1(0x165)])&&(_0x3467d1[_0x598fd1(0x165)]=new Set(_0x3467d1[_0x598fd1(0x165)]));_0x3467d1[_0x598fd1(0x16a)]=_0x41932a;let _0x7da1e4=![];_0x2ec059[_0x598fd1(0x19a)](_0x61154b['status'],_0x2ec059[_0x598fd1(0x17c)])&&(_0x3467d1[_0x598fd1(0x179)]+=0x1,!_0x3467d1[_0x598fd1(0x165)]['has'](_0x61154b[_0x598fd1(0x15f)])&&(_0x3467d1[_0x598fd1(0x165)][_0x598fd1(0x17a)](_0x61154b[_0x598fd1(0x15f)]),_0x7da1e4=!![]));await this['writeState'](_0x3467d1);const _0x2e55b5={};return _0x2e55b5[_0x598fd1(0x176)]=_0x3467d1,_0x2e55b5[_0x598fd1(0x18b)]=_0x7da1e4,_0x2e55b5;}finally{await this[_0x598fd1(0x197)](_0x4cf332);}}async[a133_0x480810(0x195)](_0x4f18ac){const _0x3b12e4=a133_0x480810,_0x269e89=await this['acquireLock']();if(!_0x269e89)return logger[_0x3b12e4(0x18e)]('['+TAG+_0x3b12e4(0x174)),this[_0x3b12e4(0x162)]()||this[_0x3b12e4(0x161)];try{let _0x625169=this[_0x3b12e4(0x162)]();return!_0x625169&&(_0x625169=JSON['parse'](JSON[_0x3b12e4(0x166)](this[_0x3b12e4(0x161)]))),_0x625169['lastAPIFailedCount']=_0x4f18ac,await this[_0x3b12e4(0x181)](_0x625169),_0x625169;}finally{await this['releaseLock'](_0x269e89);}}}module[a133_0x480810(0x19b)]=FileHelper;