const a120_0x26e8e8=a120_0x266d;(function(_0x4abe98,_0x5de591){const _0x1ebd7b=a120_0x266d,_0x430660=_0x4abe98();while(!![]){try{const _0xe447e6=-parseInt(_0x1ebd7b(0x127))/0x1*(-parseInt(_0x1ebd7b(0x105))/0x2)+parseInt(_0x1ebd7b(0x122))/0x3*(parseInt(_0x1ebd7b(0x115))/0x4)+-parseInt(_0x1ebd7b(0x11a))/0x5+-parseInt(_0x1ebd7b(0xfa))/0x6*(-parseInt(_0x1ebd7b(0x12b))/0x7)+parseInt(_0x1ebd7b(0x108))/0x8*(parseInt(_0x1ebd7b(0x12f))/0x9)+parseInt(_0x1ebd7b(0x111))/0xa+parseInt(_0x1ebd7b(0x110))/0xb;if(_0xe447e6===_0x5de591)break;else _0x430660['push'](_0x430660['shift']());}catch(_0x48eaa3){_0x430660['push'](_0x430660['shift']());}}}(a120_0x5a4f,0x6c871));function a120_0x266d(_0x547b23,_0x193af7){const _0x5a4fea=a120_0x5a4f();return a120_0x266d=function(_0x266d0a,_0x22a5bc){_0x266d0a=_0x266d0a-0xf7;let _0x1e46dd=_0x5a4fea[_0x266d0a];return _0x1e46dd;},a120_0x266d(_0x547b23,_0x193af7);}function a120_0x5a4f(){const _0x689419=['wdWKl','iterator','191954vwbdBb','readState','../logger','openSync','9uymUYx','add','failFastConfig',']\x20Error\x20reading\x20state\x20file:\x20','winstonLogger',']\x20Error\x20creating\x20state\x20file:\x20','RwaOF','message','from','12EUTTJK','SnLBg','iNfOi',']\x20Could\x20not\x20acquire\x20lock\x20to\x20record\x20test\x20result.\x20State\x20may\x20be\x20stale.','error','stringify','BQGbf','closeSync','parse','function','EEXIST','357244TvQiZv','isNewFailure','yStkC','3258352EARVfI','utf8','failedTests','HWDKI','releaseLock','writeFileSync','SqgSB','updateAPIFailedCount','627451yfEgzI','2022560cbaKUG','exports','bcqxE','split','132CJzRmg','acquireLock','existsSync','unlinkSync','totalTests','3019645CsOeLM','readFileSync','warn','status','defaultState','stack','fullName','lastAPIFailedCount','13491MFBztl','lockFilePath','writeState','stateFilePath','4|3|2|1|0','1NZIJKJ','uniqueFailedTests'];a120_0x5a4f=function(){return _0x689419;};return a120_0x5a4f();}const fs=require('fs'),logger=require(a120_0x26e8e8(0x12d))[a120_0x26e8e8(0x133)],TAG='FailFastFileHelper';class FileHelper{constructor(_0x44091a,_0x598e14,_0x50a954,_0x36b600){const _0x50aef1=a120_0x26e8e8,_0x27b64c={};_0x27b64c[_0x50aef1(0x129)]=_0x50aef1(0x126),_0x27b64c[_0x50aef1(0xfb)]=_0x50aef1(0x109);const _0x3fc72f=_0x27b64c,_0x5a4bf5=_0x3fc72f[_0x50aef1(0x129)][_0x50aef1(0x114)]('|');let _0x49932e=0x0;while(!![]){switch(_0x5a4bf5[_0x49932e++]){case'0':if(!fs[_0x50aef1(0x117)](this[_0x50aef1(0x125)]))try{fs[_0x50aef1(0x10d)](this[_0x50aef1(0x125)],'{}',_0x3fc72f[_0x50aef1(0xfb)]);}catch(_0x2e948f){logger[_0x50aef1(0xfe)]('['+TAG+_0x50aef1(0x134)+_0x2e948f[_0x50aef1(0xf8)]+'\x20'+_0x2e948f['stack']);}continue;case'1':this['defaultState']=_0x36b600;continue;case'2':this[_0x50aef1(0x123)]=_0x50a954;continue;case'3':this[_0x50aef1(0x125)]=_0x598e14;continue;case'4':this[_0x50aef1(0x131)]=_0x44091a;continue;}break;}}async[a120_0x26e8e8(0x116)](){const _0x3780fe=a120_0x26e8e8,_0x307727={};_0x307727['bcqxE']=function(_0x4d7320,_0x37c01c){return _0x4d7320===_0x37c01c;},_0x307727[_0x3780fe(0xf7)]=_0x3780fe(0x104);const _0x4d377a=_0x307727;let _0x514447;try{return _0x514447=fs[_0x3780fe(0x12e)](this[_0x3780fe(0x123)],'wx'),_0x514447;}catch(_0xdfbb6f){if(_0x4d377a[_0x3780fe(0x113)](_0xdfbb6f['code'],_0x4d377a['RwaOF']))return null;throw _0xdfbb6f;}}async[a120_0x26e8e8(0x10c)](_0x2b6b5a){const _0x236558=a120_0x26e8e8;if(_0x2b6b5a)try{fs[_0x236558(0x101)](_0x2b6b5a),fs[_0x236558(0x118)](this[_0x236558(0x123)]);}catch(_0x1827af){logger[_0x236558(0xfe)]('['+TAG+']\x20Error\x20releasing\x20lock:\x20'+_0x1827af[_0x236558(0xf8)]+'\x20'+_0x1827af[_0x236558(0x11f)]);}}[a120_0x26e8e8(0x12c)](){const _0x2ff14b=a120_0x26e8e8,_0x30a9fc={};_0x30a9fc['BQGbf']=_0x2ff14b(0x109);const _0x1ed732=_0x30a9fc;try{const _0x5599ae=fs[_0x2ff14b(0x11b)](this['stateFilePath'],_0x1ed732[_0x2ff14b(0x100)]);return JSON[_0x2ff14b(0x102)](_0x5599ae);}catch(_0x5adac2){return logger['error']('['+TAG+_0x2ff14b(0x132)+_0x5adac2['message']+'\x20'+_0x5adac2['stack']),null;}}async[a120_0x26e8e8(0x124)](_0x268e60){const _0x15b0f1=a120_0x26e8e8,_0x26b82b={..._0x268e60,'uniqueFailedTests':Array['isArray'](_0x268e60[_0x15b0f1(0x128)])?_0x268e60[_0x15b0f1(0x128)]:Array[_0x15b0f1(0xf9)](_0x268e60[_0x15b0f1(0x128)]||[])};try{fs[_0x15b0f1(0x10d)](this[_0x15b0f1(0x125)],JSON[_0x15b0f1(0xff)](_0x26b82b,null,0x2));}catch(_0x1489f1){logger[_0x15b0f1(0xfe)]('['+TAG+']\x20Error\x20writing\x20state\x20file:\x20'+_0x1489f1[_0x15b0f1(0xf8)]+'\x20'+_0x1489f1[_0x15b0f1(0x11f)]);throw _0x1489f1;}}async['recordTestResult'](_0x1c076a,_0xece7a4){const _0x24c067=a120_0x26e8e8,_0x1bf272={};_0x1bf272[_0x24c067(0x10e)]=function(_0xd53f9b,_0x1fcdff){return _0xd53f9b!==_0x1fcdff;},_0x1bf272['HWDKI']=_0x24c067(0x103),_0x1bf272[_0x24c067(0xfc)]=function(_0x7df5fb,_0x335196){return _0x7df5fb===_0x335196;},_0x1bf272[_0x24c067(0x107)]='failed';const _0xe94655=_0x1bf272,_0x3ff7f9=await this[_0x24c067(0x116)]();if(!_0x3ff7f9)return logger[_0x24c067(0x11c)]('['+TAG+_0x24c067(0xfd)),{'newState':this[_0x24c067(0x12c)]()||this[_0x24c067(0x11e)],'isNewFailure':![]};try{let _0x127551=this[_0x24c067(0x12c)]();!_0x127551&&(_0x127551=JSON[_0x24c067(0x102)](JSON[_0x24c067(0xff)](this[_0x24c067(0x11e)])));if(!_0x127551[_0x24c067(0x128)]||_0xe94655['SqgSB'](typeof _0x127551['uniqueFailedTests'][Symbol[_0x24c067(0x12a)]],_0xe94655[_0x24c067(0x10b)]))_0x127551[_0x24c067(0x128)]=new Set();else Array['isArray'](_0x127551['uniqueFailedTests'])&&(_0x127551['uniqueFailedTests']=new Set(_0x127551['uniqueFailedTests']));_0x127551[_0x24c067(0x119)]=_0xece7a4;let _0x1b8a16=![];_0xe94655[_0x24c067(0xfc)](_0x1c076a[_0x24c067(0x11d)],_0xe94655[_0x24c067(0x107)])&&(_0x127551[_0x24c067(0x10a)]+=0x1,!_0x127551[_0x24c067(0x128)]['has'](_0x1c076a[_0x24c067(0x120)])&&(_0x127551[_0x24c067(0x128)][_0x24c067(0x130)](_0x1c076a['fullName']),_0x1b8a16=!![]));await this[_0x24c067(0x124)](_0x127551);const _0x2696aa={};return _0x2696aa['newState']=_0x127551,_0x2696aa[_0x24c067(0x106)]=_0x1b8a16,_0x2696aa;}finally{await this[_0x24c067(0x10c)](_0x3ff7f9);}}async[a120_0x26e8e8(0x10f)](_0xbfce56){const _0x462be7=a120_0x26e8e8,_0x3d2e84=await this[_0x462be7(0x116)]();if(!_0x3d2e84)return logger[_0x462be7(0x11c)]('['+TAG+']\x20Could\x20not\x20acquire\x20lock\x20to\x20update\x20API\x20failed\x20count.\x20State\x20may\x20be\x20stale.'),this[_0x462be7(0x12c)]()||this[_0x462be7(0x11e)];try{let _0x505308=this[_0x462be7(0x12c)]();return!_0x505308&&(_0x505308=JSON['parse'](JSON[_0x462be7(0xff)](this[_0x462be7(0x11e)]))),_0x505308[_0x462be7(0x121)]=_0xbfce56,await this['writeState'](_0x505308),_0x505308;}finally{await this[_0x462be7(0x10c)](_0x3d2e84);}}}module[a120_0x26e8e8(0x112)]=FileHelper;