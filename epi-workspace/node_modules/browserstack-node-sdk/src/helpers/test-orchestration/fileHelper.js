function a120_0x11af(_0x2a42ed,_0x3f25ac){const _0x4bc3ac=a120_0x4bc3();return a120_0x11af=function(_0x11af34,_0x5f2782){_0x11af34=_0x11af34-0x8b;let _0x31a4e2=_0x4bc3ac[_0x11af34];return _0x31a4e2;},a120_0x11af(_0x2a42ed,_0x3f25ac);}const a120_0x2477f9=a120_0x11af;(function(_0x370a5e,_0xe8e7bf){const _0x5cf3ef=a120_0x11af,_0x3d4773=_0x370a5e();while(!![]){try{const _0x20d9c1=-parseInt(_0x5cf3ef(0xb6))/0x1+-parseInt(_0x5cf3ef(0xb1))/0x2*(-parseInt(_0x5cf3ef(0x9a))/0x3)+-parseInt(_0x5cf3ef(0xa1))/0x4+parseInt(_0x5cf3ef(0xaf))/0x5*(-parseInt(_0x5cf3ef(0xab))/0x6)+parseInt(_0x5cf3ef(0xbd))/0x7*(parseInt(_0x5cf3ef(0x9f))/0x8)+parseInt(_0x5cf3ef(0xc1))/0x9+parseInt(_0x5cf3ef(0x8e))/0xa;if(_0x20d9c1===_0xe8e7bf)break;else _0x3d4773['push'](_0x3d4773['shift']());}catch(_0x4e7f19){_0x3d4773['push'](_0x3d4773['shift']());}}}(a120_0x4bc3,0xa56e8));const fs=require('fs'),logger=require(a120_0x2477f9(0xa7))['winstonLogger'],TAG=a120_0x2477f9(0xbe);class FileHelper{constructor(_0x29761d,_0x1f7ea1,_0x2f2276,_0x252d42){const _0xe8aa84=a120_0x2477f9,_0xa6714b={};_0xa6714b[_0xe8aa84(0xbc)]=_0xe8aa84(0x99),_0xa6714b[_0xe8aa84(0xa5)]='utf8';const _0xa438e0=_0xa6714b,_0x296a37=_0xa438e0[_0xe8aa84(0xbc)][_0xe8aa84(0xb5)]('|');let _0x3f25b9=0x0;while(!![]){switch(_0x296a37[_0x3f25b9++]){case'0':this[_0xe8aa84(0xc3)]=_0x1f7ea1;continue;case'1':this[_0xe8aa84(0x8c)]=_0x2f2276;continue;case'2':this[_0xe8aa84(0xb4)]=_0x252d42;continue;case'3':this['failFastConfig']=_0x29761d;continue;case'4':if(!fs['existsSync'](this['stateFilePath']))try{fs[_0xe8aa84(0x97)](this[_0xe8aa84(0xc3)],'{}',_0xa438e0[_0xe8aa84(0xa5)]);}catch(_0x7cb4be){logger[_0xe8aa84(0x98)]('['+TAG+']\x20Error\x20creating\x20state\x20file:\x20'+_0x7cb4be['message']+'\x20'+_0x7cb4be[_0xe8aa84(0xc2)]);}continue;}break;}}async[a120_0x2477f9(0x95)](){const _0x481ea9=a120_0x2477f9,_0x5707e1={};_0x5707e1['CZNTk']=function(_0x480ca5,_0x32be0f){return _0x480ca5===_0x32be0f;},_0x5707e1[_0x481ea9(0xb3)]='EEXIST';const _0x7769f1=_0x5707e1;let _0x24543f;try{return _0x24543f=fs[_0x481ea9(0xb7)](this[_0x481ea9(0x8c)],'wx'),_0x24543f;}catch(_0x4188c3){if(_0x7769f1['CZNTk'](_0x4188c3[_0x481ea9(0xad)],_0x7769f1[_0x481ea9(0xb3)]))return null;throw _0x4188c3;}}async[a120_0x2477f9(0x94)](_0x387bd7){const _0x270b6e=a120_0x2477f9;if(_0x387bd7)try{fs['closeSync'](_0x387bd7),fs[_0x270b6e(0xa6)](this['lockFilePath']);}catch(_0x341d71){logger['error']('['+TAG+']\x20Error\x20releasing\x20lock:\x20'+_0x341d71[_0x270b6e(0xaa)]+'\x20'+_0x341d71['stack']);}}[a120_0x2477f9(0x8b)](){const _0x1b09f3=a120_0x2477f9,_0x1bc36e={};_0x1bc36e[_0x1b09f3(0xbb)]=_0x1b09f3(0xac);const _0x1b4f7e=_0x1bc36e;try{const _0x3c2ae4=fs[_0x1b09f3(0x91)](this[_0x1b09f3(0xc3)],_0x1b4f7e[_0x1b09f3(0xbb)]);return JSON[_0x1b09f3(0xa3)](_0x3c2ae4);}catch(_0x437a52){return logger[_0x1b09f3(0x98)]('['+TAG+']\x20Error\x20reading\x20state\x20file:\x20'+_0x437a52[_0x1b09f3(0xaa)]+'\x20'+_0x437a52[_0x1b09f3(0xc2)]),null;}}async[a120_0x2477f9(0x93)](_0x48421f){const _0x506e02=a120_0x2477f9,_0x1aac68={..._0x48421f,'uniqueFailedTests':Array[_0x506e02(0xa8)](_0x48421f['uniqueFailedTests'])?_0x48421f['uniqueFailedTests']:Array['from'](_0x48421f[_0x506e02(0xb8)]||[])};try{fs[_0x506e02(0x97)](this[_0x506e02(0xc3)],JSON[_0x506e02(0x9b)](_0x1aac68,null,0x2));}catch(_0x355f3f){logger['error']('['+TAG+_0x506e02(0xb9)+_0x355f3f[_0x506e02(0xaa)]+'\x20'+_0x355f3f[_0x506e02(0xc2)]);throw _0x355f3f;}}async[a120_0x2477f9(0x9c)](_0x332809,_0x4c14bd){const _0x2f5213=a120_0x2477f9,_0x43fe95={};_0x43fe95[_0x2f5213(0xa0)]=function(_0x5cf4e7,_0x2542a9){return _0x5cf4e7!==_0x2542a9;},_0x43fe95[_0x2f5213(0xa4)]=_0x2f5213(0xa9),_0x43fe95[_0x2f5213(0x96)]=function(_0x33647c,_0x178ffb){return _0x33647c===_0x178ffb;},_0x43fe95[_0x2f5213(0xbf)]=_0x2f5213(0x92);const _0x41fac4=_0x43fe95,_0x5c445d=await this['acquireLock']();if(!_0x5c445d)return logger[_0x2f5213(0xb0)]('['+TAG+_0x2f5213(0xa2)),{'newState':this[_0x2f5213(0x8b)]()||this[_0x2f5213(0xb4)],'isNewFailure':![]};try{let _0x3f5f8a=this['readState']();!_0x3f5f8a&&(_0x3f5f8a=JSON[_0x2f5213(0xa3)](JSON[_0x2f5213(0x9b)](this[_0x2f5213(0xb4)])));if(!_0x3f5f8a[_0x2f5213(0xb8)]||_0x41fac4[_0x2f5213(0xa0)](typeof _0x3f5f8a['uniqueFailedTests'][Symbol[_0x2f5213(0x90)]],_0x41fac4['ZJQQT']))_0x3f5f8a[_0x2f5213(0xb8)]=new Set();else Array[_0x2f5213(0xa8)](_0x3f5f8a['uniqueFailedTests'])&&(_0x3f5f8a[_0x2f5213(0xb8)]=new Set(_0x3f5f8a[_0x2f5213(0xb8)]));_0x3f5f8a[_0x2f5213(0x9d)]=_0x4c14bd;let _0x3cb987=![];_0x41fac4[_0x2f5213(0x96)](_0x332809[_0x2f5213(0xba)],_0x41fac4[_0x2f5213(0xbf)])&&(_0x3f5f8a[_0x2f5213(0xb2)]+=0x1,!_0x3f5f8a[_0x2f5213(0xb8)]['has'](_0x332809[_0x2f5213(0x8f)])&&(_0x3f5f8a[_0x2f5213(0xb8)][_0x2f5213(0xae)](_0x332809['fullName']),_0x3cb987=!![]));await this['writeState'](_0x3f5f8a);const _0x57a149={};return _0x57a149['newState']=_0x3f5f8a,_0x57a149[_0x2f5213(0x9e)]=_0x3cb987,_0x57a149;}finally{await this['releaseLock'](_0x5c445d);}}async['updateAPIFailedCount'](_0x34e0cc){const _0x4c7189=a120_0x2477f9,_0x2b07f8=await this[_0x4c7189(0x95)]();if(!_0x2b07f8)return logger[_0x4c7189(0xb0)]('['+TAG+_0x4c7189(0x8d)),this[_0x4c7189(0x8b)]()||this[_0x4c7189(0xb4)];try{let _0xb776f=this[_0x4c7189(0x8b)]();return!_0xb776f&&(_0xb776f=JSON[_0x4c7189(0xa3)](JSON[_0x4c7189(0x9b)](this[_0x4c7189(0xb4)]))),_0xb776f['lastAPIFailedCount']=_0x34e0cc,await this['writeState'](_0xb776f),_0xb776f;}finally{await this[_0x4c7189(0x94)](_0x2b07f8);}}}function a120_0x4bc3(){const _0x2c9c18=['status','wTyAx','SrBhO','7xGRWjO','FailFastFileHelper','HEiOJ','exports','1945179wSbPsS','stack','stateFilePath','readState','lockFilePath',']\x20Could\x20not\x20acquire\x20lock\x20to\x20update\x20API\x20failed\x20count.\x20State\x20may\x20be\x20stale.','15396990xeQLtJ','fullName','iterator','readFileSync','failed','writeState','releaseLock','acquireLock','fWjUC','writeFileSync','error','3|0|1|2|4','222bjFCQg','stringify','recordTestResult','totalTests','isNewFailure','3564536PODEuZ','ySNYM','5202772xaZJmv',']\x20Could\x20not\x20acquire\x20lock\x20to\x20record\x20test\x20result.\x20State\x20may\x20be\x20stale.','parse','ZJQQT','ygvFZ','unlinkSync','../logger','isArray','function','message','8166LpytPO','utf8','code','add','2005Yztqsz','warn','35398SVecUB','failedTests','GlpQH','defaultState','split','987061mjBrEP','openSync','uniqueFailedTests',']\x20Error\x20writing\x20state\x20file:\x20'];a120_0x4bc3=function(){return _0x2c9c18;};return a120_0x4bc3();}module[a120_0x2477f9(0xc0)]=FileHelper;