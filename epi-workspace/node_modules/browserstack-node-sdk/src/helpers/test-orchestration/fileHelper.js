const a133_0x32a811=a133_0x44d0;(function(_0x401ff8,_0x3bb736){const _0x4b1b98=a133_0x44d0,_0x222000=_0x401ff8();while(!![]){try{const _0x5eef90=-parseInt(_0x4b1b98(0x10c))/0x1+parseInt(_0x4b1b98(0xee))/0x2+parseInt(_0x4b1b98(0xf1))/0x3*(parseInt(_0x4b1b98(0x115))/0x4)+parseInt(_0x4b1b98(0x116))/0x5*(-parseInt(_0x4b1b98(0x10f))/0x6)+-parseInt(_0x4b1b98(0xfb))/0x7+-parseInt(_0x4b1b98(0x108))/0x8*(parseInt(_0x4b1b98(0xe2))/0x9)+parseInt(_0x4b1b98(0x119))/0xa*(parseInt(_0x4b1b98(0xe4))/0xb);if(_0x5eef90===_0x3bb736)break;else _0x222000['push'](_0x222000['shift']());}catch(_0x4e5d7a){_0x222000['push'](_0x222000['shift']());}}}(a133_0xb6ef,0x39218));const fs=require('fs'),logger=require(a133_0x32a811(0x107))[a133_0x32a811(0x102)],TAG='FailFastFileHelper';class FileHelper{constructor(_0x12b59f,_0x1add71,_0x13417b,_0x158335){const _0x9c6349=a133_0x32a811,_0x4e0e53={};_0x4e0e53['UGcVa']=_0x9c6349(0xf3),_0x4e0e53['mzvcG']=_0x9c6349(0xef);const _0x4e0376=_0x4e0e53,_0x52207b=_0x4e0376[_0x9c6349(0xfd)][_0x9c6349(0xf5)]('|');let _0x2363e9=0x0;while(!![]){switch(_0x52207b[_0x2363e9++]){case'0':if(!fs[_0x9c6349(0x10d)](this[_0x9c6349(0xf0)]))try{fs['writeFileSync'](this[_0x9c6349(0xf0)],'{}',_0x4e0376['mzvcG']);}catch(_0x4b5d35){logger[_0x9c6349(0xdc)]('['+TAG+_0x9c6349(0x109)+_0x4b5d35['message']+'\x20'+_0x4b5d35[_0x9c6349(0xf8)]);}continue;case'1':this[_0x9c6349(0xf0)]=_0x1add71;continue;case'2':this['defaultState']=_0x158335;continue;case'3':this[_0x9c6349(0xeb)]=_0x13417b;continue;case'4':this[_0x9c6349(0xe3)]=_0x12b59f;continue;}break;}}async[a133_0x32a811(0x114)](){const _0x41a0b3=a133_0x32a811,_0x200dce={};_0x200dce[_0x41a0b3(0xf2)]=function(_0x13a8ea,_0x38207){return _0x13a8ea===_0x38207;},_0x200dce[_0x41a0b3(0xf7)]=_0x41a0b3(0xf4);const _0x119718=_0x200dce;let _0xfecf17;try{return _0xfecf17=fs[_0x41a0b3(0x105)](this['lockFilePath'],'wx'),_0xfecf17;}catch(_0x55519b){if(_0x119718[_0x41a0b3(0xf2)](_0x55519b[_0x41a0b3(0xdd)],_0x119718[_0x41a0b3(0xf7)]))return null;throw _0x55519b;}}async[a133_0x32a811(0x10e)](_0x398c02){const _0x2103af=a133_0x32a811;if(_0x398c02)try{fs[_0x2103af(0x103)](_0x398c02),fs['unlinkSync'](this['lockFilePath']);}catch(_0x4eec4b){logger[_0x2103af(0xdc)]('['+TAG+_0x2103af(0xde)+_0x4eec4b[_0x2103af(0xe9)]+'\x20'+_0x4eec4b['stack']);}}[a133_0x32a811(0xfc)](){const _0x9c5758=a133_0x32a811,_0x43b6ce={};_0x43b6ce[_0x9c5758(0x110)]=_0x9c5758(0xef);const _0x477bfc=_0x43b6ce;try{const _0x398941=fs['readFileSync'](this[_0x9c5758(0xf0)],_0x477bfc['kaChb']);return JSON[_0x9c5758(0xe7)](_0x398941);}catch(_0x1e1c0c){return logger[_0x9c5758(0xdc)]('['+TAG+_0x9c5758(0xdf)+_0x1e1c0c['message']+'\x20'+_0x1e1c0c[_0x9c5758(0xf8)]),null;}}async[a133_0x32a811(0x117)](_0x4daae6){const _0x23de4f=a133_0x32a811,_0x588b99={..._0x4daae6,'uniqueFailedTests':Array[_0x23de4f(0x111)](_0x4daae6['uniqueFailedTests'])?_0x4daae6[_0x23de4f(0x10b)]:Array[_0x23de4f(0xf6)](_0x4daae6[_0x23de4f(0x10b)]||[])};try{fs[_0x23de4f(0xe6)](this[_0x23de4f(0xf0)],JSON[_0x23de4f(0xed)](_0x588b99,null,0x2));}catch(_0x201e4b){logger[_0x23de4f(0xdc)]('['+TAG+_0x23de4f(0xe8)+_0x201e4b[_0x23de4f(0xe9)]+'\x20'+_0x201e4b[_0x23de4f(0xf8)]);throw _0x201e4b;}}async[a133_0x32a811(0xfa)](_0x71a948,_0x492806){const _0x3cf4b8=a133_0x32a811,_0x1981b1={};_0x1981b1[_0x3cf4b8(0xec)]=function(_0x280073,_0x3fda05){return _0x280073!==_0x3fda05;},_0x1981b1['wzqXA']=_0x3cf4b8(0xea),_0x1981b1['GZFIg']=function(_0xe2df50,_0xa2ae){return _0xe2df50===_0xa2ae;},_0x1981b1[_0x3cf4b8(0xe1)]=_0x3cf4b8(0xe5);const _0x299f42=_0x1981b1,_0x4a1b99=await this['acquireLock']();if(!_0x4a1b99)return logger[_0x3cf4b8(0x104)]('['+TAG+_0x3cf4b8(0x100)),{'newState':this[_0x3cf4b8(0xfc)]()||this['defaultState'],'isNewFailure':![]};try{let _0x532022=this[_0x3cf4b8(0xfc)]();!_0x532022&&(_0x532022=JSON[_0x3cf4b8(0xe7)](JSON[_0x3cf4b8(0xed)](this[_0x3cf4b8(0x106)])));if(!_0x532022['uniqueFailedTests']||_0x299f42['csRLZ'](typeof _0x532022[_0x3cf4b8(0x10b)][Symbol['iterator']],_0x299f42['wzqXA']))_0x532022[_0x3cf4b8(0x10b)]=new Set();else Array['isArray'](_0x532022[_0x3cf4b8(0x10b)])&&(_0x532022[_0x3cf4b8(0x10b)]=new Set(_0x532022[_0x3cf4b8(0x10b)]));_0x532022[_0x3cf4b8(0xfe)]=_0x492806;let _0x1d4b7a=![];_0x299f42[_0x3cf4b8(0xff)](_0x71a948['status'],_0x299f42[_0x3cf4b8(0xe1)])&&(_0x532022[_0x3cf4b8(0x101)]+=0x1,!_0x532022[_0x3cf4b8(0x10b)]['has'](_0x71a948[_0x3cf4b8(0x113)])&&(_0x532022[_0x3cf4b8(0x10b)]['add'](_0x71a948[_0x3cf4b8(0x113)]),_0x1d4b7a=!![]));await this[_0x3cf4b8(0x117)](_0x532022);const _0x107a11={};return _0x107a11[_0x3cf4b8(0x10a)]=_0x532022,_0x107a11[_0x3cf4b8(0xe0)]=_0x1d4b7a,_0x107a11;}finally{await this['releaseLock'](_0x4a1b99);}}async[a133_0x32a811(0x118)](_0x458d22){const _0x50ff7a=a133_0x32a811,_0x3efe92=await this[_0x50ff7a(0x114)]();if(!_0x3efe92)return logger[_0x50ff7a(0x104)]('['+TAG+_0x50ff7a(0xf9)),this['readState']()||this[_0x50ff7a(0x106)];try{let _0x5c76e9=this['readState']();return!_0x5c76e9&&(_0x5c76e9=JSON['parse'](JSON[_0x50ff7a(0xed)](this[_0x50ff7a(0x106)]))),_0x5c76e9[_0x50ff7a(0x112)]=_0x458d22,await this['writeState'](_0x5c76e9),_0x5c76e9;}finally{await this[_0x50ff7a(0x10e)](_0x3efe92);}}}function a133_0xb6ef(){const _0x3e2429=['code',']\x20Error\x20releasing\x20lock:\x20',']\x20Error\x20reading\x20state\x20file:\x20','isNewFailure','zJRpg','38178hKhwJG','failFastConfig','282216ISOVgD','failed','writeFileSync','parse',']\x20Error\x20writing\x20state\x20file:\x20','message','function','lockFilePath','csRLZ','stringify','865554dRyNnR','utf8','stateFilePath','344334IFuBXw','IIeDa','4|1|3|2|0','EEXIST','split','from','VOUcU','stack',']\x20Could\x20not\x20acquire\x20lock\x20to\x20update\x20API\x20failed\x20count.\x20State\x20may\x20be\x20stale.','recordTestResult','1773751RJjpHk','readState','UGcVa','totalTests','GZFIg',']\x20Could\x20not\x20acquire\x20lock\x20to\x20record\x20test\x20result.\x20State\x20may\x20be\x20stale.','failedTests','winstonLogger','closeSync','warn','openSync','defaultState','../logger','776MZJCfD',']\x20Error\x20creating\x20state\x20file:\x20','newState','uniqueFailedTests','341682bpeOov','existsSync','releaseLock','460068wCOYAt','kaChb','isArray','lastAPIFailedCount','fullName','acquireLock','4SoXOhv','5TJfEVU','writeState','updateAPIFailedCount','300rQVjLn','error'];a133_0xb6ef=function(){return _0x3e2429;};return a133_0xb6ef();}function a133_0x44d0(_0x657250,_0x3ad717){const _0xb6ef5a=a133_0xb6ef();return a133_0x44d0=function(_0x44d09b,_0x3235b3){_0x44d09b=_0x44d09b-0xdc;let _0x1446bb=_0xb6ef5a[_0x44d09b];return _0x1446bb;},a133_0x44d0(_0x657250,_0x3ad717);}module['exports']=FileHelper;