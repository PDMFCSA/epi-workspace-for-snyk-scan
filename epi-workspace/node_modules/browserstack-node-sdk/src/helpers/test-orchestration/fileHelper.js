const a123_0x41a164=a123_0xfa39;(function(_0x105343,_0x2354f6){const _0x392b32=a123_0xfa39,_0x1d546f=_0x105343();while(!![]){try{const _0x428cc9=parseInt(_0x392b32(0x211))/0x1*(-parseInt(_0x392b32(0x222))/0x2)+-parseInt(_0x392b32(0x214))/0x3+parseInt(_0x392b32(0x201))/0x4*(-parseInt(_0x392b32(0x206))/0x5)+parseInt(_0x392b32(0x215))/0x6+parseInt(_0x392b32(0x1fd))/0x7*(parseInt(_0x392b32(0x209))/0x8)+parseInt(_0x392b32(0x204))/0x9+parseInt(_0x392b32(0x1f0))/0xa;if(_0x428cc9===_0x2354f6)break;else _0x1d546f['push'](_0x1d546f['shift']());}catch(_0x612957){_0x1d546f['push'](_0x1d546f['shift']());}}}(a123_0x34ba,0x5ead2));function a123_0xfa39(_0x4eb743,_0x5822ac){const _0x34ba6d=a123_0x34ba();return a123_0xfa39=function(_0xfa39cb,_0x121e7c){_0xfa39cb=_0xfa39cb-0x1ef;let _0x48de2b=_0x34ba6d[_0xfa39cb];return _0x48de2b;},a123_0xfa39(_0x4eb743,_0x5822ac);}function a123_0x34ba(){const _0x5a70e5=['newState','DVmMb','257164NZOXjS','iAhiH','from','4528413nrnbYb','add','60bXyHFf','defaultState','zRkNG','5464832smCZQp','vlgvq','updateAPIFailedCount',']\x20Could\x20not\x20acquire\x20lock\x20to\x20update\x20API\x20failed\x20count.\x20State\x20may\x20be\x20stale.','lastAPIFailedCount','writeState','fgVaT','lockFilePath','11XImVTm','unlinkSync','acquireLock','967032VYXFNF','436476crhTud','exports','FailFastFileHelper',']\x20Could\x20not\x20acquire\x20lock\x20to\x20record\x20test\x20result.\x20State\x20may\x20be\x20stale.','stateFilePath','../logger','closeSync','stringify',']\x20Error\x20releasing\x20lock:\x20',']\x20Error\x20writing\x20state\x20file:\x20',']\x20Error\x20reading\x20state\x20file:\x20','warn','error','50492IKluxj','isNewFailure','WXSeK','readState','EaHtN','winstonLogger','function','stack','message','recordTestResult','totalTests','5003290LaeYzw','has','3|4|1|2|0','failFastConfig','mdHrX','EEXIST','fullName','iterator','writeFileSync','isArray','parse','releaseLock','failed','7ycSLYA','uniqueFailedTests'];a123_0x34ba=function(){return _0x5a70e5;};return a123_0x34ba();}const fs=require('fs'),logger=require(a123_0x41a164(0x21a))[a123_0x41a164(0x227)],TAG=a123_0x41a164(0x217);class FileHelper{constructor(_0x12aff4,_0x2612e2,_0x55b14a,_0x91b7bb){const _0x5b09a5=a123_0x41a164,_0x2fbba9={};_0x2fbba9[_0x5b09a5(0x1f4)]=_0x5b09a5(0x1f2),_0x2fbba9['iAhiH']='utf8';const _0x4c3836=_0x2fbba9,_0x5b5b04=_0x4c3836[_0x5b09a5(0x1f4)]['split']('|');let _0x55cbf9=0x0;while(!![]){switch(_0x5b5b04[_0x55cbf9++]){case'0':if(!fs['existsSync'](this['stateFilePath']))try{fs[_0x5b09a5(0x1f8)](this[_0x5b09a5(0x219)],'{}',_0x4c3836[_0x5b09a5(0x202)]);}catch(_0x59e9b0){logger['error']('['+TAG+']\x20Error\x20creating\x20state\x20file:\x20'+_0x59e9b0['message']+'\x20'+_0x59e9b0['stack']);}continue;case'1':this[_0x5b09a5(0x210)]=_0x55b14a;continue;case'2':this[_0x5b09a5(0x207)]=_0x91b7bb;continue;case'3':this[_0x5b09a5(0x1f3)]=_0x12aff4;continue;case'4':this['stateFilePath']=_0x2612e2;continue;}break;}}async['acquireLock'](){const _0x487bd4=a123_0x41a164,_0x43e509={};_0x43e509[_0x487bd4(0x226)]=function(_0x47fa1e,_0x51b44e){return _0x47fa1e===_0x51b44e;},_0x43e509[_0x487bd4(0x208)]=_0x487bd4(0x1f5);const _0xd800c8=_0x43e509;let _0x334cf0;try{return _0x334cf0=fs['openSync'](this[_0x487bd4(0x210)],'wx'),_0x334cf0;}catch(_0x5c0668){if(_0xd800c8['EaHtN'](_0x5c0668['code'],_0xd800c8[_0x487bd4(0x208)]))return null;throw _0x5c0668;}}async['releaseLock'](_0x50e435){const _0xe2ab2b=a123_0x41a164;if(_0x50e435)try{fs[_0xe2ab2b(0x21b)](_0x50e435),fs[_0xe2ab2b(0x212)](this[_0xe2ab2b(0x210)]);}catch(_0x81c7c7){logger[_0xe2ab2b(0x221)]('['+TAG+_0xe2ab2b(0x21d)+_0x81c7c7[_0xe2ab2b(0x22a)]+'\x20'+_0x81c7c7[_0xe2ab2b(0x229)]);}}[a123_0x41a164(0x225)](){const _0x2f1105=a123_0x41a164,_0x2bc795={};_0x2bc795[_0x2f1105(0x20f)]='utf8';const _0xf503a=_0x2bc795;try{const _0x1fb330=fs['readFileSync'](this[_0x2f1105(0x219)],_0xf503a[_0x2f1105(0x20f)]);return JSON[_0x2f1105(0x1fa)](_0x1fb330);}catch(_0x298023){return logger[_0x2f1105(0x221)]('['+TAG+_0x2f1105(0x21f)+_0x298023['message']+'\x20'+_0x298023[_0x2f1105(0x229)]),null;}}async[a123_0x41a164(0x20e)](_0x1471f7){const _0x4e93bf=a123_0x41a164,_0x32044e={..._0x1471f7,'uniqueFailedTests':Array[_0x4e93bf(0x1f9)](_0x1471f7['uniqueFailedTests'])?_0x1471f7[_0x4e93bf(0x1fe)]:Array[_0x4e93bf(0x203)](_0x1471f7[_0x4e93bf(0x1fe)]||[])};try{fs[_0x4e93bf(0x1f8)](this[_0x4e93bf(0x219)],JSON[_0x4e93bf(0x21c)](_0x32044e,null,0x2));}catch(_0x120b26){logger['error']('['+TAG+_0x4e93bf(0x21e)+_0x120b26[_0x4e93bf(0x22a)]+'\x20'+_0x120b26['stack']);throw _0x120b26;}}async[a123_0x41a164(0x22b)](_0x2f7b7e,_0x5bf934){const _0x3cec2f=a123_0x41a164,_0x22674f={};_0x22674f['zHGEq']=function(_0x308e0f,_0x468c34){return _0x308e0f!==_0x468c34;},_0x22674f[_0x3cec2f(0x224)]=_0x3cec2f(0x228),_0x22674f[_0x3cec2f(0x20a)]=function(_0x5a84a3,_0x44bfbe){return _0x5a84a3===_0x44bfbe;},_0x22674f[_0x3cec2f(0x200)]=_0x3cec2f(0x1fc);const _0x4b7a43=_0x22674f,_0x1d2795=await this[_0x3cec2f(0x213)]();if(!_0x1d2795)return logger[_0x3cec2f(0x220)]('['+TAG+_0x3cec2f(0x218)),{'newState':this['readState']()||this['defaultState'],'isNewFailure':![]};try{let _0x36ed9d=this['readState']();!_0x36ed9d&&(_0x36ed9d=JSON[_0x3cec2f(0x1fa)](JSON[_0x3cec2f(0x21c)](this['defaultState'])));if(!_0x36ed9d[_0x3cec2f(0x1fe)]||_0x4b7a43['zHGEq'](typeof _0x36ed9d[_0x3cec2f(0x1fe)][Symbol[_0x3cec2f(0x1f7)]],_0x4b7a43[_0x3cec2f(0x224)]))_0x36ed9d[_0x3cec2f(0x1fe)]=new Set();else Array[_0x3cec2f(0x1f9)](_0x36ed9d[_0x3cec2f(0x1fe)])&&(_0x36ed9d[_0x3cec2f(0x1fe)]=new Set(_0x36ed9d[_0x3cec2f(0x1fe)]));_0x36ed9d[_0x3cec2f(0x1ef)]=_0x5bf934;let _0x58edca=![];_0x4b7a43[_0x3cec2f(0x20a)](_0x2f7b7e['status'],_0x4b7a43[_0x3cec2f(0x200)])&&(_0x36ed9d['failedTests']+=0x1,!_0x36ed9d['uniqueFailedTests'][_0x3cec2f(0x1f1)](_0x2f7b7e[_0x3cec2f(0x1f6)])&&(_0x36ed9d[_0x3cec2f(0x1fe)][_0x3cec2f(0x205)](_0x2f7b7e[_0x3cec2f(0x1f6)]),_0x58edca=!![]));await this[_0x3cec2f(0x20e)](_0x36ed9d);const _0x74b57a={};return _0x74b57a[_0x3cec2f(0x1ff)]=_0x36ed9d,_0x74b57a[_0x3cec2f(0x223)]=_0x58edca,_0x74b57a;}finally{await this['releaseLock'](_0x1d2795);}}async[a123_0x41a164(0x20b)](_0xa5924f){const _0x28f0f3=a123_0x41a164,_0x5b565a=await this[_0x28f0f3(0x213)]();if(!_0x5b565a)return logger['warn']('['+TAG+_0x28f0f3(0x20c)),this[_0x28f0f3(0x225)]()||this[_0x28f0f3(0x207)];try{let _0x54fb32=this[_0x28f0f3(0x225)]();return!_0x54fb32&&(_0x54fb32=JSON['parse'](JSON[_0x28f0f3(0x21c)](this['defaultState']))),_0x54fb32[_0x28f0f3(0x20d)]=_0xa5924f,await this['writeState'](_0x54fb32),_0x54fb32;}finally{await this[_0x28f0f3(0x1fb)](_0x5b565a);}}}module[a123_0x41a164(0x216)]=FileHelper;