const a120_0x4ad7bc=a120_0x27f4;(function(_0x17ff1d,_0xd498a9){const _0x5e525d=a120_0x27f4,_0x4e5614=_0x17ff1d();while(!![]){try{const _0x3a2fc8=parseInt(_0x5e525d(0x14d))/0x1*(parseInt(_0x5e525d(0x15e))/0x2)+parseInt(_0x5e525d(0x14f))/0x3*(-parseInt(_0x5e525d(0x148))/0x4)+parseInt(_0x5e525d(0x150))/0x5*(parseInt(_0x5e525d(0x162))/0x6)+parseInt(_0x5e525d(0x15a))/0x7+-parseInt(_0x5e525d(0x171))/0x8+parseInt(_0x5e525d(0x163))/0x9+-parseInt(_0x5e525d(0x158))/0xa;if(_0x3a2fc8===_0xd498a9)break;else _0x4e5614['push'](_0x4e5614['shift']());}catch(_0x44e759){_0x4e5614['push'](_0x4e5614['shift']());}}}(a120_0x38c2,0xbe37e));function a120_0x38c2(){const _0x105865=[']\x20Could\x20not\x20acquire\x20lock\x20to\x20record\x20test\x20result.\x20State\x20may\x20be\x20stale.','3|1|0|2|4',']\x20Error\x20reading\x20state\x20file:\x20','lastAPIFailedCount','function','status','warn','stringify','exports','../logger','rkObF','writeState','message','592wevRwi','failed','stateFilePath',']\x20Error\x20writing\x20state\x20file:\x20','defaultState','947647IobFJx','parse','22341YQnGSz','265xeYfYi','winstonLogger','failedTests','jppMB','totalTests','readState','DIwbR','pdpUp','19542680nQejgQ','stack','10412255hQLwlW','releaseLock','lockFilePath','code','2POpXdy','closeSync','sPljX','iterator','147786QTRXmI','11568798viqzMs','has',']\x20Error\x20releasing\x20lock:\x20','isArray','fullName','recordTestResult',']\x20Could\x20not\x20acquire\x20lock\x20to\x20update\x20API\x20failed\x20count.\x20State\x20may\x20be\x20stale.','error','PfPEf','split','from','openSync','gLPuy','writeFileSync','9523352EFrApZ','uniqueFailedTests','Bdczc','utf8','acquireLock'];a120_0x38c2=function(){return _0x105865;};return a120_0x38c2();}function a120_0x27f4(_0x354974,_0x57fcc1){const _0x38c20c=a120_0x38c2();return a120_0x27f4=function(_0x27f4ad,_0x247fe5){_0x27f4ad=_0x27f4ad-0x13f;let _0xd3e81c=_0x38c20c[_0x27f4ad];return _0xd3e81c;},a120_0x27f4(_0x354974,_0x57fcc1);}const fs=require('fs'),logger=require(a120_0x4ad7bc(0x144))[a120_0x4ad7bc(0x151)],TAG='FailFastFileHelper';class FileHelper{constructor(_0x366f60,_0x460ef4,_0x212e32,_0x19b32d){const _0xb2f07e=a120_0x4ad7bc,_0x57dc40={};_0x57dc40['iLrRr']=_0xb2f07e(0x177),_0x57dc40[_0xb2f07e(0x157)]=_0xb2f07e(0x174);const _0x3c2e9d=_0x57dc40,_0x252404=_0x3c2e9d['iLrRr'][_0xb2f07e(0x16c)]('|');let _0x2a00ef=0x0;while(!![]){switch(_0x252404[_0x2a00ef++]){case'0':this[_0xb2f07e(0x15c)]=_0x212e32;continue;case'1':this['stateFilePath']=_0x460ef4;continue;case'2':this[_0xb2f07e(0x14c)]=_0x19b32d;continue;case'3':this['failFastConfig']=_0x366f60;continue;case'4':if(!fs['existsSync'](this['stateFilePath']))try{fs[_0xb2f07e(0x170)](this['stateFilePath'],'{}',_0x3c2e9d[_0xb2f07e(0x157)]);}catch(_0x3c3a99){logger[_0xb2f07e(0x16a)]('['+TAG+']\x20Error\x20creating\x20state\x20file:\x20'+_0x3c3a99[_0xb2f07e(0x147)]+'\x20'+_0x3c3a99[_0xb2f07e(0x159)]);}continue;}break;}}async[a120_0x4ad7bc(0x175)](){const _0x45a1d6=a120_0x4ad7bc,_0x49399f={};_0x49399f[_0x45a1d6(0x173)]=function(_0x2ba280,_0x42d4f6){return _0x2ba280===_0x42d4f6;},_0x49399f[_0x45a1d6(0x16f)]='EEXIST';const _0x29d73d=_0x49399f;let _0x4c3e85;try{return _0x4c3e85=fs[_0x45a1d6(0x16e)](this[_0x45a1d6(0x15c)],'wx'),_0x4c3e85;}catch(_0x585399){if(_0x29d73d[_0x45a1d6(0x173)](_0x585399[_0x45a1d6(0x15d)],_0x29d73d[_0x45a1d6(0x16f)]))return null;throw _0x585399;}}async[a120_0x4ad7bc(0x15b)](_0x51f887){const _0x215f86=a120_0x4ad7bc;if(_0x51f887)try{fs[_0x215f86(0x15f)](_0x51f887),fs['unlinkSync'](this[_0x215f86(0x15c)]);}catch(_0x433a61){logger[_0x215f86(0x16a)]('['+TAG+_0x215f86(0x165)+_0x433a61['message']+'\x20'+_0x433a61[_0x215f86(0x159)]);}}[a120_0x4ad7bc(0x155)](){const _0x5f352f=a120_0x4ad7bc,_0x1db413={};_0x1db413[_0x5f352f(0x16b)]=_0x5f352f(0x174);const _0x1a1664=_0x1db413;try{const _0x1fdf88=fs['readFileSync'](this[_0x5f352f(0x14a)],_0x1a1664[_0x5f352f(0x16b)]);return JSON[_0x5f352f(0x14e)](_0x1fdf88);}catch(_0x5d2a33){return logger[_0x5f352f(0x16a)]('['+TAG+_0x5f352f(0x178)+_0x5d2a33['message']+'\x20'+_0x5d2a33['stack']),null;}}async[a120_0x4ad7bc(0x146)](_0x2cbe98){const _0x471e26=a120_0x4ad7bc,_0x3a045f={..._0x2cbe98,'uniqueFailedTests':Array[_0x471e26(0x166)](_0x2cbe98[_0x471e26(0x172)])?_0x2cbe98[_0x471e26(0x172)]:Array[_0x471e26(0x16d)](_0x2cbe98[_0x471e26(0x172)]||[])};try{fs[_0x471e26(0x170)](this['stateFilePath'],JSON[_0x471e26(0x142)](_0x3a045f,null,0x2));}catch(_0x5b353a){logger[_0x471e26(0x16a)]('['+TAG+_0x471e26(0x14b)+_0x5b353a[_0x471e26(0x147)]+'\x20'+_0x5b353a['stack']);throw _0x5b353a;}}async[a120_0x4ad7bc(0x168)](_0x5be8ab,_0x1bc6da){const _0x4326e4=a120_0x4ad7bc,_0x3981b6={};_0x3981b6[_0x4326e4(0x156)]=function(_0x4d29e6,_0x4e51c1){return _0x4d29e6!==_0x4e51c1;},_0x3981b6['sPljX']=_0x4326e4(0x13f),_0x3981b6[_0x4326e4(0x145)]=function(_0x3b952f,_0x433795){return _0x3b952f===_0x433795;},_0x3981b6[_0x4326e4(0x153)]=_0x4326e4(0x149);const _0x3f1e12=_0x3981b6,_0x2bab38=await this[_0x4326e4(0x175)]();if(!_0x2bab38)return logger['warn']('['+TAG+_0x4326e4(0x176)),{'newState':this[_0x4326e4(0x155)]()||this[_0x4326e4(0x14c)],'isNewFailure':![]};try{let _0x5cf4cc=this[_0x4326e4(0x155)]();!_0x5cf4cc&&(_0x5cf4cc=JSON['parse'](JSON['stringify'](this['defaultState'])));if(!_0x5cf4cc[_0x4326e4(0x172)]||_0x3f1e12[_0x4326e4(0x156)](typeof _0x5cf4cc[_0x4326e4(0x172)][Symbol[_0x4326e4(0x161)]],_0x3f1e12[_0x4326e4(0x160)]))_0x5cf4cc[_0x4326e4(0x172)]=new Set();else Array[_0x4326e4(0x166)](_0x5cf4cc[_0x4326e4(0x172)])&&(_0x5cf4cc[_0x4326e4(0x172)]=new Set(_0x5cf4cc[_0x4326e4(0x172)]));_0x5cf4cc[_0x4326e4(0x154)]=_0x1bc6da;let _0x2f0b23=![];_0x3f1e12[_0x4326e4(0x145)](_0x5be8ab[_0x4326e4(0x140)],_0x3f1e12['jppMB'])&&(_0x5cf4cc[_0x4326e4(0x152)]+=0x1,!_0x5cf4cc[_0x4326e4(0x172)][_0x4326e4(0x164)](_0x5be8ab[_0x4326e4(0x167)])&&(_0x5cf4cc['uniqueFailedTests']['add'](_0x5be8ab[_0x4326e4(0x167)]),_0x2f0b23=!![]));await this[_0x4326e4(0x146)](_0x5cf4cc);const _0x3d5982={};return _0x3d5982['newState']=_0x5cf4cc,_0x3d5982['isNewFailure']=_0x2f0b23,_0x3d5982;}finally{await this[_0x4326e4(0x15b)](_0x2bab38);}}async['updateAPIFailedCount'](_0x30926a){const _0x386dc8=a120_0x4ad7bc,_0x2a3ad2=await this['acquireLock']();if(!_0x2a3ad2)return logger[_0x386dc8(0x141)]('['+TAG+_0x386dc8(0x169)),this[_0x386dc8(0x155)]()||this[_0x386dc8(0x14c)];try{let _0x790c9b=this[_0x386dc8(0x155)]();return!_0x790c9b&&(_0x790c9b=JSON[_0x386dc8(0x14e)](JSON[_0x386dc8(0x142)](this[_0x386dc8(0x14c)]))),_0x790c9b[_0x386dc8(0x179)]=_0x30926a,await this[_0x386dc8(0x146)](_0x790c9b),_0x790c9b;}finally{await this[_0x386dc8(0x15b)](_0x2a3ad2);}}}module[a120_0x4ad7bc(0x143)]=FileHelper;