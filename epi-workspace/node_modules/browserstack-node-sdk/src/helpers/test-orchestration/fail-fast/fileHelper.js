const a115_0x169f19=a115_0x5b31;(function(_0x42260a,_0x5b2629){const _0x1c0000=a115_0x5b31,_0x31fbf2=_0x42260a();while(!![]){try{const _0x1b6535=parseInt(_0x1c0000(0x100))/0x1*(-parseInt(_0x1c0000(0xf3))/0x2)+-parseInt(_0x1c0000(0x10f))/0x3*(-parseInt(_0x1c0000(0x108))/0x4)+parseInt(_0x1c0000(0xea))/0x5+parseInt(_0x1c0000(0xd8))/0x6+parseInt(_0x1c0000(0xec))/0x7*(parseInt(_0x1c0000(0x107))/0x8)+parseInt(_0x1c0000(0xf1))/0x9*(parseInt(_0x1c0000(0xee))/0xa)+-parseInt(_0x1c0000(0x109))/0xb*(parseInt(_0x1c0000(0xe4))/0xc);if(_0x1b6535===_0x5b2629)break;else _0x31fbf2['push'](_0x31fbf2['shift']());}catch(_0x26c05e){_0x31fbf2['push'](_0x31fbf2['shift']());}}}(a115_0x324d,0x8f95e));const fs=require('fs'),logger=require(a115_0x169f19(0xfb))['winstonLogger'],TAG=a115_0x169f19(0xfe);class FileHelper{constructor(_0x52bf9f,_0x182cfb,_0x3f17c5,_0x220ccd){const _0x5e376b=a115_0x169f19,_0x2041ed={};_0x2041ed['xqaZe']=_0x5e376b(0xe0),_0x2041ed[_0x5e376b(0x116)]=_0x5e376b(0xed);const _0x7bc0f1=_0x2041ed,_0x44b838=_0x7bc0f1[_0x5e376b(0x101)][_0x5e376b(0xe5)]('|');let _0xf2d3c8=0x0;while(!![]){switch(_0x44b838[_0xf2d3c8++]){case'0':this['failFastConfig']=_0x52bf9f;continue;case'1':if(!fs[_0x5e376b(0xfa)](this[_0x5e376b(0xf7)]))try{fs[_0x5e376b(0xd9)](this[_0x5e376b(0xf7)],'{}',_0x7bc0f1['vbOJk']);}catch(_0x338855){logger[_0x5e376b(0xe7)]('['+TAG+_0x5e376b(0xe3)+_0x338855[_0x5e376b(0xdc)]+'\x20'+_0x338855[_0x5e376b(0xf6)]);}continue;case'2':this[_0x5e376b(0x117)]=_0x220ccd;continue;case'3':this[_0x5e376b(0x10e)]=_0x3f17c5;continue;case'4':this['stateFilePath']=_0x182cfb;continue;}break;}}async['acquireLock'](){const _0x5dae6f=a115_0x169f19,_0xdd04f3={};_0xdd04f3[_0x5dae6f(0xda)]=function(_0x2a942e,_0x25afbe){return _0x2a942e===_0x25afbe;},_0xdd04f3[_0x5dae6f(0xde)]=_0x5dae6f(0xf9);const _0x354220=_0xdd04f3;let _0x14df6b;try{return _0x14df6b=fs[_0x5dae6f(0xe9)](this[_0x5dae6f(0x10e)],'wx'),_0x14df6b;}catch(_0xb4a367){if(_0x354220['OovVQ'](_0xb4a367[_0x5dae6f(0xf8)],_0x354220[_0x5dae6f(0xde)]))return null;throw _0xb4a367;}}async['releaseLock'](_0x47b190){const _0x480207=a115_0x169f19;if(_0x47b190)try{fs[_0x480207(0x10d)](_0x47b190),fs[_0x480207(0xdd)](this[_0x480207(0x10e)]);}catch(_0x2e2385){logger[_0x480207(0xe7)]('['+TAG+']\x20Error\x20releasing\x20lock:\x20'+_0x2e2385[_0x480207(0xdc)]+'\x20'+_0x2e2385['stack']);}}['readState'](){const _0x11a37d=a115_0x169f19,_0x46867f={};_0x46867f[_0x11a37d(0x112)]=_0x11a37d(0xed);const _0x3ace76=_0x46867f;try{const _0x1ee0dd=fs[_0x11a37d(0x10a)](this['stateFilePath'],_0x3ace76[_0x11a37d(0x112)]);return JSON[_0x11a37d(0xfc)](_0x1ee0dd);}catch(_0x563b31){return logger[_0x11a37d(0xe7)]('['+TAG+']\x20Error\x20reading\x20state\x20file:\x20'+_0x563b31[_0x11a37d(0xdc)]+'\x20'+_0x563b31[_0x11a37d(0xf6)]),null;}}async['writeState'](_0xf0dd9b){const _0x1b387e=a115_0x169f19,_0x1372e3={..._0xf0dd9b,'uniqueFailedTests':Array['isArray'](_0xf0dd9b['uniqueFailedTests'])?_0xf0dd9b[_0x1b387e(0xeb)]:Array[_0x1b387e(0xe1)](_0xf0dd9b[_0x1b387e(0xeb)]||[])};try{fs[_0x1b387e(0xd9)](this[_0x1b387e(0xf7)],JSON['stringify'](_0x1372e3,null,0x2));}catch(_0x5de94f){logger['error']('['+TAG+_0x1b387e(0x105)+_0x5de94f['message']+'\x20'+_0x5de94f[_0x1b387e(0xf6)]);throw _0x5de94f;}}async[a115_0x169f19(0xef)](_0x470f24,_0x76dbdd){const _0x3cb328=a115_0x169f19,_0x200730={};_0x200730[_0x3cb328(0x103)]=function(_0x219a36,_0x14a84a){return _0x219a36!==_0x14a84a;},_0x200730[_0x3cb328(0xdb)]=_0x3cb328(0xf4),_0x200730[_0x3cb328(0x106)]=function(_0x3f957e,_0x5f5797){return _0x3f957e===_0x5f5797;},_0x200730[_0x3cb328(0xe6)]=_0x3cb328(0x10b);const _0x1f508d=_0x200730,_0xe8d376=await this[_0x3cb328(0x114)]();if(!_0xe8d376)return logger[_0x3cb328(0x110)]('['+TAG+_0x3cb328(0x115)),{'newState':this['readState']()||this[_0x3cb328(0x117)],'isNewFailure':![]};try{let _0x5e0991=this[_0x3cb328(0xe2)]();!_0x5e0991&&(_0x5e0991=JSON[_0x3cb328(0xfc)](JSON[_0x3cb328(0xf0)](this[_0x3cb328(0x117)])));if(!_0x5e0991[_0x3cb328(0xeb)]||_0x1f508d['WNTvp'](typeof _0x5e0991['uniqueFailedTests'][Symbol[_0x3cb328(0x104)]],_0x1f508d[_0x3cb328(0xdb)]))_0x5e0991[_0x3cb328(0xeb)]=new Set();else Array['isArray'](_0x5e0991[_0x3cb328(0xeb)])&&(_0x5e0991[_0x3cb328(0xeb)]=new Set(_0x5e0991['uniqueFailedTests']));_0x5e0991[_0x3cb328(0xf2)]=_0x76dbdd;let _0x516144=![];_0x1f508d[_0x3cb328(0x106)](_0x470f24['status'],_0x1f508d[_0x3cb328(0xe6)])&&(_0x5e0991[_0x3cb328(0x102)]+=0x1,!_0x5e0991[_0x3cb328(0xeb)][_0x3cb328(0x113)](_0x470f24['fullName'])&&(_0x5e0991[_0x3cb328(0xeb)][_0x3cb328(0xe8)](_0x470f24['fullName']),_0x516144=!![]));await this[_0x3cb328(0x111)](_0x5e0991);const _0x1f1f84={};return _0x1f1f84['newState']=_0x5e0991,_0x1f1f84[_0x3cb328(0xff)]=_0x516144,_0x1f1f84;}finally{await this[_0x3cb328(0xfd)](_0xe8d376);}}async['updateAPIFailedCount'](_0x2203aa){const _0x1b2fc9=a115_0x169f19,_0x267e0d=await this[_0x1b2fc9(0x114)]();if(!_0x267e0d)return logger[_0x1b2fc9(0x110)]('['+TAG+_0x1b2fc9(0x10c)),this[_0x1b2fc9(0xe2)]()||this[_0x1b2fc9(0x117)];try{let _0x3543ef=this[_0x1b2fc9(0xe2)]();return!_0x3543ef&&(_0x3543ef=JSON['parse'](JSON[_0x1b2fc9(0xf0)](this[_0x1b2fc9(0x117)]))),_0x3543ef[_0x1b2fc9(0xdf)]=_0x2203aa,await this[_0x1b2fc9(0x111)](_0x3543ef),_0x3543ef;}finally{await this['releaseLock'](_0x267e0d);}}}function a115_0x5b31(_0x12eed5,_0x2d6648){const _0x324dcc=a115_0x324d();return a115_0x5b31=function(_0x5b3186,_0x450ac0){_0x5b3186=_0x5b3186-0xd8;let _0xb469ad=_0x324dcc[_0x5b3186];return _0xb469ad;},a115_0x5b31(_0x12eed5,_0x2d6648);}function a115_0x324d(){const _0x34a0bd=['TzltU','error','add','openSync','5228010cFTDXy','uniqueFailedTests','1289687UwzIZC','utf8','10NuvIoK','recordTestResult','stringify','3550356geczCu','totalTests','295816FvrCCS','function','exports','stack','stateFilePath','code','EEXIST','existsSync','../../../helpers/logger','parse','releaseLock','FailFastFileHelper','isNewFailure','1GjHlVw','xqaZe','failedTests','WNTvp','iterator',']\x20Error\x20writing\x20state\x20file:\x20','UmUCK','40ZCdPUE','2022824cAjQQO','11wwSMDo','readFileSync','failed',']\x20Could\x20not\x20acquire\x20lock\x20to\x20update\x20API\x20failed\x20count.\x20State\x20may\x20be\x20stale.','closeSync','lockFilePath','3ouMCRX','warn','writeState','QuNNM','has','acquireLock',']\x20Could\x20not\x20acquire\x20lock\x20to\x20record\x20test\x20result.\x20State\x20may\x20be\x20stale.','vbOJk','defaultState','7027752lATujF','writeFileSync','OovVQ','QmBVj','message','unlinkSync','KjGKn','lastAPIFailedCount','0|4|3|2|1','from','readState',']\x20Error\x20creating\x20state\x20file:\x20','39627060gWADiM','split'];a115_0x324d=function(){return _0x34a0bd;};return a115_0x324d();}module[a115_0x169f19(0xf5)]=FileHelper;