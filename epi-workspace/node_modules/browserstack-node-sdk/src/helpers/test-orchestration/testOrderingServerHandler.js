const a137_0x3be070=a137_0x1b78;function a137_0x28bd(){const _0x196fcc=['[processSplitTestsResponse]\x20Processing\x20response:\x20','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20timeout\x20URL','krysg','4316851cgaXNa','291012lfYJgy','exports','getSplitFiles','3999380jENAik','[getOrderedTestFiles]\x20Response\x20from\x20result\x20URL:\x20','defaultTimeout','iqZYP','10780FzrTxS','./requestUtils','config','postSplitFiles','buildName','map','debug','timeout','timeoutInterval','lLxWR','tests','stack','body','zHYsI','[splitTests]\x20Response\x20from\x20split\x20tests\x20API:\x20','McClh','splitTestsAPICallCount','splitTests','stringify','release','206448qdaDXz','toString','QSvuK','freemem','defaultTimeoutInterval','totalmem','now','15CQTtFv','resultUrl','_getHostInfo','GxxtZ','projectName','timeoutUrl','length','env','351584QkKQWr','18ImsmdG','BROWSERSTACK_BUILD_RUN_IDENTIFIER','71118VBNxSZ','jHZmY','XrGuO','[getOrderedTestFiles]\x20Exception\x20in\x20fetching\x20ordered\x20test\x20files:\x20','arch','winstonLogger','\x20seconds.','[splitTests]\x20Exception\x20in\x20sending\x20test\x20files:\x20','processSplitTestsResponse','platform','12snkxeK','BROWSERSTACK_TOTAL_NODE_COUNT','teTYI','hostname','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL:\x20','TKyhs','5vGgYdb'];a137_0x28bd=function(){return _0x196fcc;};return a137_0x28bd();}function a137_0x1b78(_0x2f6fbf,_0x12796a){const _0x28bd9f=a137_0x28bd();return a137_0x1b78=function(_0x1b788e,_0x4286ce){_0x1b788e=_0x1b788e-0xee;let _0x48b801=_0x28bd9f[_0x1b788e];return _0x48b801;},a137_0x1b78(_0x2f6fbf,_0x12796a);}(function(_0x488a02,_0x17b757){const _0x552c4a=a137_0x1b78,_0x4cc37b=_0x488a02();while(!![]){try{const _0x4e12db=-parseInt(_0x552c4a(0x100))/0x1*(parseInt(_0x552c4a(0x10a))/0x2)+parseInt(_0x552c4a(0xf5))/0x3*(-parseInt(_0x552c4a(0xee))/0x4)+-parseInt(_0x552c4a(0x110))/0x5*(-parseInt(_0x552c4a(0x115))/0x6)+-parseInt(_0x552c4a(0x11c))/0x7+parseInt(_0x552c4a(0xfd))/0x8*(parseInt(_0x552c4a(0xfe))/0x9)+parseInt(_0x552c4a(0x118))/0xa+parseInt(_0x552c4a(0x114))/0xb;if(_0x4e12db===_0x17b757)break;else _0x4cc37b['push'](_0x4cc37b['shift']());}catch(_0xbd35aa){_0x4cc37b['push'](_0x4cc37b['shift']());}}}(a137_0x28bd,0x3b325));const logger=require('../logger')[a137_0x3be070(0x105)],RequestUtils=require(a137_0x3be070(0x11d));class TestOrderingServerHandler{constructor(_0x43db8d){const _0x459052=a137_0x3be070;this[_0x459052(0x11e)]=_0x43db8d,this[_0x459052(0x12c)]=0x0,this[_0x459052(0x11a)]=0x3c,this[_0x459052(0xf2)]=0x5;}['getSplitTestsAPICallCount'](){const _0x23ad4a=a137_0x3be070;return this[_0x23ad4a(0x12c)];}[a137_0x3be070(0x108)](_0x363dbc){const _0x19c947=a137_0x3be070,_0x5daf17={};_0x5daf17['Cfggm']='[processSplitTestsResponse]\x20Received\x20null\x20value(s)\x20for\x20some\x20attributes\x20in\x20split\x20tests\x20API\x20response';const _0x1e2821=_0x5daf17;if(!_0x363dbc)return null;const _0x1d1d67={};return _0x1d1d67[_0x19c947(0x123)]=_0x363dbc[_0x19c947(0x123)]||this['defaultTimeout'],_0x1d1d67[_0x19c947(0x124)]=_0x363dbc[_0x19c947(0x124)]||this[_0x19c947(0xf2)],_0x1d1d67[_0x19c947(0xf6)]=_0x363dbc[_0x19c947(0xf6)],_0x1d1d67[_0x19c947(0xfa)]=_0x363dbc[_0x19c947(0xfa)],logger['debug'](_0x19c947(0x111)+JSON[_0x19c947(0x12e)](_0x363dbc)),logger[_0x19c947(0x122)]('[processSplitTestsResponse]\x20timeout:\x20'+_0x363dbc[_0x19c947(0x123)]+',\x20timeoutInterval:\x20'+_0x363dbc[_0x19c947(0x124)]+',\x20resultUrl:\x20'+_0x363dbc[_0x19c947(0xf6)]+',\x20timeoutUrl:\x20'+_0x363dbc[_0x19c947(0xfa)]),(!_0x363dbc['timeout']||!_0x363dbc[_0x19c947(0x124)]||!_0x363dbc[_0x19c947(0xfa)]||!_0x363dbc[_0x19c947(0xf6)])&&logger[_0x19c947(0x122)](_0x1e2821['Cfggm']),_0x1d1d67;}async[a137_0x3be070(0x12d)](_0x2f78bf,_0x32678c){const _0x50da2e=a137_0x3be070,_0x444e81={'TKyhs':function(_0x2f81d7,_0x31ce72){return _0x2f81d7(_0x31ce72);},'krysg':function(_0x3a8966,_0x5a130a){return _0x3a8966(_0x5a130a);}};try{const _0x2fda40=_0x444e81[_0x50da2e(0x10f)](parseInt,process[_0x50da2e(0xfc)]['BROWSERSTACK_NODE_INDEX']||'0'),_0x44e9d7=_0x444e81[_0x50da2e(0x113)](parseInt,process[_0x50da2e(0xfc)][_0x50da2e(0x10b)]||'1'),_0x3f5efd=process['env'][_0x50da2e(0xff)],_0x5a9e63={'nodeIndex':_0x2fda40,'totalNodes':_0x44e9d7,'projectName':this[_0x50da2e(0x11e)][_0x50da2e(0xf9)],'buildName':this[_0x50da2e(0x11e)][_0x50da2e(0x120)],'buildRunIdentifier':_0x3f5efd,'orchestrationStrategy':_0x32678c,'hostInfo':this[_0x50da2e(0xf7)](),'tests':_0x2f78bf['map'](_0x4da6db=>({'filePath':_0x4da6db}))},_0x44ad35=await RequestUtils[_0x50da2e(0x11f)](_0x5a9e63);return logger[_0x50da2e(0x122)](_0x50da2e(0x12a)+JSON[_0x50da2e(0x12e)](_0x44ad35)),this[_0x50da2e(0x12c)]+=0x1,this[_0x50da2e(0x108)](_0x44ad35[_0x50da2e(0x128)]||{});}catch(_0x36edf2){return logger[_0x50da2e(0x122)](_0x50da2e(0x107)+(_0x36edf2[_0x50da2e(0x127)]||_0x36edf2['toString']())),null;}}async['getOrderedTestFiles'](_0x46c00a){const _0x22886c=a137_0x3be070,_0x5ecb66={};_0x5ecb66[_0x22886c(0x10c)]='[getOrderedTestFiles]\x20Fetching\x20ordered\x20test\x20files',_0x5ecb66['McClh']=function(_0x49eec8,_0x47de1c){return _0x49eec8*_0x47de1c;},_0x5ecb66['lLxWR']=function(_0x59d01c,_0x2cb974){return _0x59d01c&&_0x2cb974;},_0x5ecb66[_0x22886c(0x11b)]=function(_0x16a287,_0x25da82){return _0x16a287<_0x25da82;},_0x5ecb66[_0x22886c(0x101)]=function(_0xa98729,_0x4134e8){return _0xa98729-_0x4134e8;},_0x5ecb66[_0x22886c(0xf0)]=function(_0x420b86,_0x104632){return _0x420b86&&_0x104632;},_0x5ecb66[_0x22886c(0x102)]=_0x22886c(0x112),_0x5ecb66['zHYsI']=function(_0x3b7b90,_0x567586){return _0x3b7b90>_0x567586;};const _0x471262=_0x5ecb66;if(!_0x46c00a)return null;try{logger['debug'](_0x471262['teTYI']);const _0x47d066=_0x46c00a[_0x22886c(0x124)]||this[_0x22886c(0xf2)],_0x38f65d=_0x471262[_0x22886c(0x12b)](_0x46c00a[_0x22886c(0x123)]||this[_0x22886c(0x11a)],0x3e8),_0xdc7441=_0x46c00a[_0x22886c(0xfa)],_0x481080=_0x46c00a[_0x22886c(0xf6)];if(_0x471262[_0x22886c(0x125)](!_0x481080,!_0xdc7441))return null;let _0x5c3a92=null;const _0x3fd7a3=Date[_0x22886c(0xf4)]();while(_0x481080&&_0x471262[_0x22886c(0x11b)](_0x471262[_0x22886c(0x101)](Date[_0x22886c(0xf4)](),_0x3fd7a3),_0x38f65d)){logger[_0x22886c(0x122)](_0x22886c(0x10e)+_0x481080);const _0x405263=await RequestUtils['getSplitFiles'](_0x481080);logger[_0x22886c(0x122)](_0x22886c(0x119)+JSON[_0x22886c(0x12e)](_0x405263)),this[_0x22886c(0x12c)]+=0x1;if(_0x405263&&_0x405263[_0x22886c(0x126)]){_0x5c3a92=_0x405263['tests'];break;}await new Promise(_0x9bf606=>setTimeout(_0x9bf606,_0x47d066*0x3e8)),logger[_0x22886c(0x122)]('[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL\x20after\x20waiting\x20for\x20'+_0x47d066+_0x22886c(0x106));}if(_0x471262[_0x22886c(0xf0)](!_0x5c3a92,_0xdc7441)){logger[_0x22886c(0x122)](_0x471262['XrGuO']);const _0x32bb0a=await RequestUtils[_0x22886c(0x117)](_0xdc7441);_0x32bb0a&&_0x32bb0a[_0x22886c(0x126)]&&(_0x5c3a92=_0x32bb0a[_0x22886c(0x126)]);}if(_0x5c3a92&&_0x471262[_0x22886c(0x129)](_0x5c3a92[_0x22886c(0xfb)],0x0))return _0x5c3a92[_0x22886c(0x121)](_0x4f4dc0=>_0x4f4dc0['filePath']);return null;}catch(_0x2b6dca){return logger[_0x22886c(0x122)](_0x22886c(0x103)+(_0x2b6dca[_0x22886c(0x127)]||_0x2b6dca[_0x22886c(0xef)]())),null;}}[a137_0x3be070(0xf7)](){const _0x41e425=a137_0x3be070,_0x306a57={'GxxtZ':function(_0xc8ee61,_0xda37a9){return _0xc8ee61(_0xda37a9);}},_0xce04c7=_0x306a57[_0x41e425(0xf8)](require,'os');try{return{'hostname':_0xce04c7[_0x41e425(0x10d)](),'platform':_0xce04c7[_0x41e425(0x109)](),'release':_0xce04c7[_0x41e425(0x12f)](),'arch':_0xce04c7[_0x41e425(0x104)](),'totalmem':_0xce04c7[_0x41e425(0xf3)](),'freemem':_0xce04c7[_0x41e425(0xf1)]()};}catch(_0x19a358){return{};}}}module[a137_0x3be070(0x116)]=TestOrderingServerHandler;