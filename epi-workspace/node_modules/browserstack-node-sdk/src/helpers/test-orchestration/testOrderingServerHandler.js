const a127_0x110917=a127_0x4406;(function(_0x74150f,_0x26fdc3){const _0x4d9ce1=a127_0x4406,_0x592cf5=_0x74150f();while(!![]){try{const _0x5d0a04=-parseInt(_0x4d9ce1(0x19f))/0x1+parseInt(_0x4d9ce1(0x1c1))/0x2+parseInt(_0x4d9ce1(0x1ce))/0x3*(parseInt(_0x4d9ce1(0x1ac))/0x4)+parseInt(_0x4d9ce1(0x1aa))/0x5*(-parseInt(_0x4d9ce1(0x1b6))/0x6)+parseInt(_0x4d9ce1(0x1b5))/0x7+-parseInt(_0x4d9ce1(0x1bd))/0x8*(-parseInt(_0x4d9ce1(0x1a1))/0x9)+parseInt(_0x4d9ce1(0x1c0))/0xa;if(_0x5d0a04===_0x26fdc3)break;else _0x592cf5['push'](_0x592cf5['shift']());}catch(_0x8ebf3a){_0x592cf5['push'](_0x592cf5['shift']());}}}(a127_0x9349,0xae3f0));const logger=require('../logger')[a127_0x110917(0x1cb)],RequestUtils=require('./requestUtils');function a127_0x4406(_0x569ffd,_0x40d678){const _0x9349cb=a127_0x9349();return a127_0x4406=function(_0x44064e,_0x1da310){_0x44064e=_0x44064e-0x193;let _0x320751=_0x9349cb[_0x44064e];return _0x320751;},a127_0x4406(_0x569ffd,_0x40d678);}function a127_0x9349(){const _0x225cd3=['defaultTimeout','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20timeout\x20URL','859272ehAupA','exports','BROWSERSTACK_TOTAL_NODE_COUNT','1511620ddKZqM','331196lExehD','PnAIK','config','getSplitTestsAPICallCount','stack','splitTestsAPICallCount','gZXco','platform','release','[processSplitTestsResponse]\x20Processing\x20response:\x20','winstonLogger',',\x20timeoutInterval:\x20',',\x20resultUrl:\x20','233319oagtgh','stringify','tsLnm','timeoutInterval','xtcIt','[getOrderedTestFiles]\x20Fetching\x20ordered\x20test\x20files','totalmem','splitTests','_getHostInfo','timeoutUrl','UGJTS','Eugik','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL\x20after\x20waiting\x20for\x20','[splitTests]\x20Exception\x20in\x20sending\x20test\x20files:\x20','toString','processSplitTestsResponse','YlSjI','debug','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL:\x20','[getOrderedTestFiles]\x20Response\x20from\x20result\x20URL:\x20','[processSplitTestsResponse]\x20timeout:\x20','948876rFpaXu','timeout','81omvWfJ','[processSplitTestsResponse]\x20Received\x20null\x20value(s)\x20for\x20some\x20attributes\x20in\x20split\x20tests\x20API\x20response','defaultTimeoutInterval','getSplitFiles','\x20seconds.','resultUrl','projectName','filePath','arch','135Sxjmyc','BROWSERSTACK_BUILD_RUN_IDENTIFIER','52EpDutw','wYgBC','tests','VXdrA','map','length','env','hostname','mSEOx','2561559nAzXrn','221742BKlCHc','freemem','now','buildName','beYZZ'];a127_0x9349=function(){return _0x225cd3;};return a127_0x9349();}class TestOrderingServerHandler{constructor(_0x20fc92){const _0x3fef9b=a127_0x110917;this['config']=_0x20fc92,this[_0x3fef9b(0x1c6)]=0x0,this[_0x3fef9b(0x1bb)]=0x3c,this[_0x3fef9b(0x1a3)]=0x5;}[a127_0x110917(0x1c4)](){const _0x29090d=a127_0x110917;return this[_0x29090d(0x1c6)];}[a127_0x110917(0x199)](_0x2f1a0f){const _0x461e88=a127_0x110917,_0xb5a74={};_0xb5a74['PnAIK']=_0x461e88(0x1a2);const _0x870ad8=_0xb5a74;if(!_0x2f1a0f)return null;const _0x189ac0={};return _0x189ac0['timeout']=_0x2f1a0f[_0x461e88(0x1a0)]||this['defaultTimeout'],_0x189ac0[_0x461e88(0x1d1)]=_0x2f1a0f[_0x461e88(0x1d1)]||this[_0x461e88(0x1a3)],_0x189ac0[_0x461e88(0x1a6)]=_0x2f1a0f[_0x461e88(0x1a6)],_0x189ac0[_0x461e88(0x193)]=_0x2f1a0f[_0x461e88(0x193)],logger[_0x461e88(0x19b)](_0x461e88(0x1ca)+JSON[_0x461e88(0x1cf)](_0x2f1a0f)),logger[_0x461e88(0x19b)](_0x461e88(0x19e)+_0x2f1a0f[_0x461e88(0x1a0)]+_0x461e88(0x1cc)+_0x2f1a0f[_0x461e88(0x1d1)]+_0x461e88(0x1cd)+_0x2f1a0f[_0x461e88(0x1a6)]+',\x20timeoutUrl:\x20'+_0x2f1a0f[_0x461e88(0x193)]),(!_0x2f1a0f[_0x461e88(0x1a0)]||!_0x2f1a0f[_0x461e88(0x1d1)]||!_0x2f1a0f[_0x461e88(0x193)]||!_0x2f1a0f[_0x461e88(0x1a6)])&&logger[_0x461e88(0x19b)](_0x870ad8[_0x461e88(0x1c2)]),_0x189ac0;}async[a127_0x110917(0x1d5)](_0x219b28,_0x139d26){const _0x12b42b=a127_0x110917,_0x5943db={'tsLnm':function(_0x47fce3,_0x2228e7){return _0x47fce3(_0x2228e7);}};try{const _0x2d905d=_0x5943db[_0x12b42b(0x1d0)](parseInt,process[_0x12b42b(0x1b2)]['BROWSERSTACK_NODE_INDEX']||'0'),_0x29795e=_0x5943db[_0x12b42b(0x1d0)](parseInt,process[_0x12b42b(0x1b2)][_0x12b42b(0x1bf)]||'1'),_0x240b4b=process[_0x12b42b(0x1b2)][_0x12b42b(0x1ab)],_0x5468bb={'nodeIndex':_0x2d905d,'totalNodes':_0x29795e,'projectName':this[_0x12b42b(0x1c3)][_0x12b42b(0x1a7)],'buildName':this[_0x12b42b(0x1c3)][_0x12b42b(0x1b9)],'buildRunIdentifier':_0x240b4b,'orchestrationStrategy':_0x139d26,'hostInfo':this[_0x12b42b(0x1d6)](),'tests':_0x219b28[_0x12b42b(0x1b0)](_0x27de44=>({'filePath':_0x27de44}))},_0xb1d09=await RequestUtils['postSplitFiles'](_0x5468bb);return logger[_0x12b42b(0x19b)]('[splitTests]\x20Response\x20from\x20split\x20tests\x20API:\x20'+JSON[_0x12b42b(0x1cf)](_0xb1d09)),this[_0x12b42b(0x1c6)]+=0x1,this[_0x12b42b(0x199)](_0xb1d09['body']||{});}catch(_0x2b8b26){return logger[_0x12b42b(0x19b)](_0x12b42b(0x197)+(_0x2b8b26[_0x12b42b(0x1c5)]||_0x2b8b26['toString']())),null;}}async['getOrderedTestFiles'](_0x5d6a37){const _0x442a08=a127_0x110917,_0x1b0850={};_0x1b0850[_0x442a08(0x194)]=_0x442a08(0x1d3),_0x1b0850[_0x442a08(0x1b4)]=function(_0x1e80f2,_0x1adb91){return _0x1e80f2*_0x1adb91;},_0x1b0850[_0x442a08(0x1ad)]=function(_0x12b24a,_0x1fc795){return _0x12b24a&&_0x1fc795;},_0x1b0850[_0x442a08(0x19a)]=function(_0x579e8f,_0x48c5ea){return _0x579e8f<_0x48c5ea;},_0x1b0850[_0x442a08(0x1ba)]=function(_0x5cd728,_0x35376f){return _0x5cd728-_0x35376f;},_0x1b0850[_0x442a08(0x1af)]=function(_0x37de4e,_0x1c283c){return _0x37de4e&&_0x1c283c;},_0x1b0850[_0x442a08(0x1d2)]=_0x442a08(0x1bc),_0x1b0850['Eugik']=function(_0x129f2a,_0x460990){return _0x129f2a>_0x460990;};const _0x1068fd=_0x1b0850;if(!_0x5d6a37)return null;try{logger[_0x442a08(0x19b)](_0x1068fd['UGJTS']);const _0x12ccd8=_0x5d6a37[_0x442a08(0x1d1)]||this['defaultTimeoutInterval'],_0x456f89=_0x1068fd[_0x442a08(0x1b4)](_0x5d6a37[_0x442a08(0x1a0)]||this['defaultTimeout'],0x3e8),_0x1e4464=_0x5d6a37['timeoutUrl'],_0x15e405=_0x5d6a37['resultUrl'];if(_0x1068fd[_0x442a08(0x1ad)](!_0x15e405,!_0x1e4464))return null;let _0x8b01c9=null;const _0x29ee8b=Date['now']();while(_0x15e405&&_0x1068fd[_0x442a08(0x19a)](_0x1068fd[_0x442a08(0x1ba)](Date[_0x442a08(0x1b8)](),_0x29ee8b),_0x456f89)){logger[_0x442a08(0x19b)](_0x442a08(0x19c)+_0x15e405);const _0x1dc721=await RequestUtils[_0x442a08(0x1a4)](_0x15e405);logger[_0x442a08(0x19b)](_0x442a08(0x19d)+JSON['stringify'](_0x1dc721)),this['splitTestsAPICallCount']+=0x1;if(_0x1dc721&&_0x1dc721[_0x442a08(0x1ae)]){_0x8b01c9=_0x1dc721['tests'];break;}await new Promise(_0x2c1532=>setTimeout(_0x2c1532,_0x12ccd8*0x3e8)),logger[_0x442a08(0x19b)](_0x442a08(0x196)+_0x12ccd8+_0x442a08(0x1a5));}if(_0x1068fd[_0x442a08(0x1af)](!_0x8b01c9,_0x1e4464)){logger[_0x442a08(0x19b)](_0x1068fd['xtcIt']);const _0x33e691=await RequestUtils[_0x442a08(0x1a4)](_0x1e4464);_0x33e691&&_0x33e691['tests']&&(_0x8b01c9=_0x33e691[_0x442a08(0x1ae)]);}if(_0x8b01c9&&_0x1068fd[_0x442a08(0x195)](_0x8b01c9[_0x442a08(0x1b1)],0x0))return _0x8b01c9['map'](_0xc99316=>_0xc99316[_0x442a08(0x1a8)]);return null;}catch(_0x4956de){return logger['debug']('[getOrderedTestFiles]\x20Exception\x20in\x20fetching\x20ordered\x20test\x20files:\x20'+(_0x4956de['stack']||_0x4956de[_0x442a08(0x198)]())),null;}}[a127_0x110917(0x1d6)](){const _0x56c376=a127_0x110917,_0x58e025={'gZXco':function(_0x2f4e51,_0x322a8){return _0x2f4e51(_0x322a8);}},_0x2c0cb1=_0x58e025[_0x56c376(0x1c7)](require,'os');try{return{'hostname':_0x2c0cb1[_0x56c376(0x1b3)](),'platform':_0x2c0cb1[_0x56c376(0x1c8)](),'release':_0x2c0cb1[_0x56c376(0x1c9)](),'arch':_0x2c0cb1[_0x56c376(0x1a9)](),'totalmem':_0x2c0cb1[_0x56c376(0x1d4)](),'freemem':_0x2c0cb1[_0x56c376(0x1b7)]()};}catch(_0x2d4218){return{};}}}module[a127_0x110917(0x1be)]=TestOrderingServerHandler;