const a133_0x31450c=a133_0x43d6;function a133_0x43d6(_0x1e1026,_0x12aebe){const _0x3f9627=a133_0x3f96();return a133_0x43d6=function(_0x43d664,_0x58264d){_0x43d664=_0x43d664-0x145;let _0x1a59db=_0x3f9627[_0x43d664];return _0x1a59db;},a133_0x43d6(_0x1e1026,_0x12aebe);}(function(_0x2050a8,_0x543855){const _0x26f12b=a133_0x43d6,_0x4b7a7b=_0x2050a8();while(!![]){try{const _0x1f9122=-parseInt(_0x26f12b(0x156))/0x1+-parseInt(_0x26f12b(0x184))/0x2+parseInt(_0x26f12b(0x169))/0x3+-parseInt(_0x26f12b(0x162))/0x4+parseInt(_0x26f12b(0x177))/0x5*(-parseInt(_0x26f12b(0x170))/0x6)+-parseInt(_0x26f12b(0x16c))/0x7+parseInt(_0x26f12b(0x158))/0x8;if(_0x1f9122===_0x543855)break;else _0x4b7a7b['push'](_0x4b7a7b['shift']());}catch(_0x2e5b4c){_0x4b7a7b['push'](_0x4b7a7b['shift']());}}}(a133_0x3f96,0xaf0bc));function a133_0x3f96(){const _0x4bfebf=['2616124lWxLyF','TAClF','TMtuu','length','tests','debug','bKhfp','97854eYruLZ','exports','toString','5186251huXfgq','[processSplitTestsResponse]\x20timeout:\x20','winstonLogger','arch','1347006vUIAXn','processSplitTestsResponse','[splitTests]\x20Response\x20from\x20split\x20tests\x20API:\x20','stack','[splitTests]\x20Exception\x20in\x20sending\x20test\x20files:\x20','getSplitTestsAPICallCount','projectName','20HtaUNu','./requestUtils','defaultTimeout','[getOrderedTestFiles]\x20Response\x20from\x20result\x20URL:\x20','[getOrderedTestFiles]\x20Fetching\x20ordered\x20test\x20files','resultUrl','filePath','freemem','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL\x20after\x20waiting\x20for\x20','release','OLIGK','env','body','375454WdWOFi','[getOrderedTestFiles]\x20Exception\x20in\x20fetching\x20ordered\x20test\x20files:\x20',',\x20timeoutInterval:\x20','timeout','BROWSERSTACK_BUILD_RUN_IDENTIFIER','platform','BPsAS','getOrderedTestFiles','UxPPx','diIyv','timeoutInterval','zzaec','zIEjc','defaultTimeoutInterval','getSplitFiles','totalmem',',\x20timeoutUrl:\x20','map','wtmRr','timeoutUrl','1197302WSlVrL','splitTestsAPICallCount','34898616TKwTtk','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL:\x20','EGyZk','stringify','../logger','buildName','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20timeout\x20URL','config','BROWSERSTACK_NODE_INDEX','hostname'];a133_0x3f96=function(){return _0x4bfebf;};return a133_0x3f96();}const logger=require(a133_0x31450c(0x15c))[a133_0x31450c(0x16e)],RequestUtils=require(a133_0x31450c(0x178));class TestOrderingServerHandler{constructor(_0x27a4f1){const _0x59e3b2=a133_0x31450c;this[_0x59e3b2(0x15f)]=_0x27a4f1,this[_0x59e3b2(0x157)]=0x0,this['defaultTimeout']=0x3c,this[_0x59e3b2(0x14f)]=0x5;}[a133_0x31450c(0x175)](){const _0x4b370e=a133_0x31450c;return this[_0x4b370e(0x157)];}['processSplitTestsResponse'](_0x402dd8){const _0x56b765=a133_0x31450c,_0x199d50={};_0x199d50['EGyZk']='[processSplitTestsResponse]\x20Received\x20null\x20value(s)\x20for\x20some\x20attributes\x20in\x20split\x20tests\x20API\x20response';const _0x458430=_0x199d50;if(!_0x402dd8)return null;const _0x43a468={};return _0x43a468['timeout']=_0x402dd8[_0x56b765(0x145)]||this['defaultTimeout'],_0x43a468[_0x56b765(0x14c)]=_0x402dd8[_0x56b765(0x14c)]||this[_0x56b765(0x14f)],_0x43a468[_0x56b765(0x17c)]=_0x402dd8[_0x56b765(0x17c)],_0x43a468[_0x56b765(0x155)]=_0x402dd8[_0x56b765(0x155)],logger['debug']('[processSplitTestsResponse]\x20Processing\x20response:\x20'+JSON[_0x56b765(0x15b)](_0x402dd8)),logger['debug'](_0x56b765(0x16d)+_0x402dd8[_0x56b765(0x145)]+_0x56b765(0x186)+_0x402dd8['timeoutInterval']+',\x20resultUrl:\x20'+_0x402dd8[_0x56b765(0x17c)]+_0x56b765(0x152)+_0x402dd8[_0x56b765(0x155)]),(!_0x402dd8['timeout']||!_0x402dd8[_0x56b765(0x14c)]||!_0x402dd8[_0x56b765(0x155)]||!_0x402dd8[_0x56b765(0x17c)])&&logger['debug'](_0x458430[_0x56b765(0x15a)]),_0x43a468;}async['splitTests'](_0x367fd6,_0x4ccb61){const _0x12df2a=a133_0x31450c,_0x1deffd={'zzaec':function(_0x147047,_0x260316){return _0x147047(_0x260316);}};try{const _0x4958bc=_0x1deffd['zzaec'](parseInt,process[_0x12df2a(0x182)][_0x12df2a(0x160)]||'0'),_0x14c7b3=_0x1deffd[_0x12df2a(0x14d)](parseInt,process[_0x12df2a(0x182)]['BROWSERSTACK_TOTAL_NODE_COUNT']||'1'),_0x1f6e67=process[_0x12df2a(0x182)][_0x12df2a(0x146)],_0xdc9f56={'nodeIndex':_0x4958bc,'totalNodes':_0x14c7b3,'projectName':this[_0x12df2a(0x15f)][_0x12df2a(0x176)],'buildName':this[_0x12df2a(0x15f)][_0x12df2a(0x15d)],'buildRunIdentifier':_0x1f6e67,'orchestrationStrategy':_0x4ccb61,'hostInfo':this['_getHostInfo'](),'tests':_0x367fd6[_0x12df2a(0x153)](_0x5ba35a=>({'filePath':_0x5ba35a}))},_0x338697=await RequestUtils['postSplitFiles'](_0xdc9f56);return logger['debug'](_0x12df2a(0x172)+JSON['stringify'](_0x338697)),this[_0x12df2a(0x157)]+=0x1,this[_0x12df2a(0x171)](_0x338697[_0x12df2a(0x183)]||{});}catch(_0x270d6a){return logger[_0x12df2a(0x167)](_0x12df2a(0x174)+(_0x270d6a[_0x12df2a(0x173)]||_0x270d6a[_0x12df2a(0x16b)]())),null;}}async[a133_0x31450c(0x149)](_0xdfdc92){const _0x38229d=a133_0x31450c,_0x33652b={};_0x33652b[_0x38229d(0x14e)]=_0x38229d(0x17b),_0x33652b[_0x38229d(0x181)]=function(_0x104e46,_0x5b642b){return _0x104e46*_0x5b642b;},_0x33652b[_0x38229d(0x164)]=function(_0x155dbd,_0x2efabc){return _0x155dbd&&_0x2efabc;},_0x33652b[_0x38229d(0x168)]=function(_0x148675,_0x96b731){return _0x148675<_0x96b731;},_0x33652b['BPsAS']=function(_0x3ed3dc,_0x33359c){return _0x3ed3dc-_0x33359c;},_0x33652b[_0x38229d(0x154)]=function(_0x16cc6d,_0x204dd7){return _0x16cc6d&&_0x204dd7;},_0x33652b[_0x38229d(0x14a)]=_0x38229d(0x15e),_0x33652b[_0x38229d(0x14b)]=function(_0x12c267,_0x1c1e91){return _0x12c267>_0x1c1e91;};const _0x5aad84=_0x33652b;if(!_0xdfdc92)return null;try{logger['debug'](_0x5aad84[_0x38229d(0x14e)]);const _0x203885=_0xdfdc92['timeoutInterval']||this[_0x38229d(0x14f)],_0x467212=_0x5aad84[_0x38229d(0x181)](_0xdfdc92[_0x38229d(0x145)]||this[_0x38229d(0x179)],0x3e8),_0x5ef5a0=_0xdfdc92[_0x38229d(0x155)],_0x2b9557=_0xdfdc92[_0x38229d(0x17c)];if(_0x5aad84[_0x38229d(0x164)](!_0x2b9557,!_0x5ef5a0))return null;let _0x41a12c=null;const _0x30740e=Date['now']();while(_0x2b9557&&_0x5aad84['bKhfp'](_0x5aad84[_0x38229d(0x148)](Date['now'](),_0x30740e),_0x467212)){logger[_0x38229d(0x167)](_0x38229d(0x159)+_0x2b9557);const _0x463b21=await RequestUtils[_0x38229d(0x150)](_0x2b9557);logger['debug'](_0x38229d(0x17a)+JSON[_0x38229d(0x15b)](_0x463b21)),this[_0x38229d(0x157)]+=0x1;if(_0x463b21&&_0x463b21[_0x38229d(0x166)]){_0x41a12c=_0x463b21[_0x38229d(0x166)];break;}await new Promise(_0x31d28b=>setTimeout(_0x31d28b,_0x203885*0x3e8)),logger[_0x38229d(0x167)](_0x38229d(0x17f)+_0x203885+'\x20seconds.');}if(_0x5aad84[_0x38229d(0x154)](!_0x41a12c,_0x5ef5a0)){logger[_0x38229d(0x167)](_0x5aad84[_0x38229d(0x14a)]);const _0x197619=await RequestUtils[_0x38229d(0x150)](_0x5ef5a0);_0x197619&&_0x197619[_0x38229d(0x166)]&&(_0x41a12c=_0x197619[_0x38229d(0x166)]);}if(_0x41a12c&&_0x5aad84['diIyv'](_0x41a12c[_0x38229d(0x165)],0x0))return _0x41a12c[_0x38229d(0x153)](_0x2c8c80=>_0x2c8c80[_0x38229d(0x17d)]);return null;}catch(_0xd06d2b){return logger[_0x38229d(0x167)](_0x38229d(0x185)+(_0xd06d2b['stack']||_0xd06d2b['toString']())),null;}}['_getHostInfo'](){const _0x4774cf=a133_0x31450c,_0x536caf={'TAClF':function(_0x3eed90,_0x135639){return _0x3eed90(_0x135639);}},_0xf67dcb=_0x536caf[_0x4774cf(0x163)](require,'os');try{return{'hostname':_0xf67dcb[_0x4774cf(0x161)](),'platform':_0xf67dcb[_0x4774cf(0x147)](),'release':_0xf67dcb[_0x4774cf(0x180)](),'arch':_0xf67dcb[_0x4774cf(0x16f)](),'totalmem':_0xf67dcb[_0x4774cf(0x151)](),'freemem':_0xf67dcb[_0x4774cf(0x17e)]()};}catch(_0x2315cb){return{};}}}module[a133_0x31450c(0x16a)]=TestOrderingServerHandler;