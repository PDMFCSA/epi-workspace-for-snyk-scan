function a137_0x1bc6(_0x152720,_0x381c2c){const _0x2deaf1=a137_0x2dea();return a137_0x1bc6=function(_0x1bc6dd,_0x44cb10){_0x1bc6dd=_0x1bc6dd-0x1e0;let _0x531a6a=_0x2deaf1[_0x1bc6dd];return _0x531a6a;},a137_0x1bc6(_0x152720,_0x381c2c);}const a137_0x159afc=a137_0x1bc6;(function(_0x3d9497,_0x29d4fc){const _0x16b246=a137_0x1bc6,_0x373b3c=_0x3d9497();while(!![]){try{const _0x1e969d=parseInt(_0x16b246(0x21f))/0x1*(parseInt(_0x16b246(0x1f9))/0x2)+-parseInt(_0x16b246(0x204))/0x3+-parseInt(_0x16b246(0x20f))/0x4*(-parseInt(_0x16b246(0x218))/0x5)+parseInt(_0x16b246(0x1f8))/0x6*(-parseInt(_0x16b246(0x1ea))/0x7)+-parseInt(_0x16b246(0x214))/0x8*(-parseInt(_0x16b246(0x1ff))/0x9)+-parseInt(_0x16b246(0x216))/0xa+parseInt(_0x16b246(0x1f3))/0xb;if(_0x1e969d===_0x29d4fc)break;else _0x373b3c['push'](_0x373b3c['shift']());}catch(_0x38bd75){_0x373b3c['push'](_0x373b3c['shift']());}}}(a137_0x2dea,0x9bc58));const logger=require(a137_0x159afc(0x20e))['winstonLogger'],RequestUtils=require(a137_0x159afc(0x210));class TestOrderingServerHandler{constructor(_0x5b30f3){const _0x4604dc=a137_0x159afc;this[_0x4604dc(0x207)]=_0x5b30f3,this['splitTestsAPICallCount']=0x0,this['defaultTimeout']=0x3c,this[_0x4604dc(0x1e8)]=0x5;}[a137_0x159afc(0x1ec)](){const _0x2514c7=a137_0x159afc;return this[_0x2514c7(0x1f7)];}['processSplitTestsResponse'](_0xc54ae1){const _0x11c141=a137_0x159afc,_0x3a0d58={};_0x3a0d58['siCea']='[processSplitTestsResponse]\x20Received\x20null\x20value(s)\x20for\x20some\x20attributes\x20in\x20split\x20tests\x20API\x20response';const _0x13a25f=_0x3a0d58;if(!_0xc54ae1)return null;const _0x33bf7a={};return _0x33bf7a['timeout']=_0xc54ae1['timeout']||this[_0x11c141(0x1ef)],_0x33bf7a[_0x11c141(0x1f1)]=_0xc54ae1[_0x11c141(0x1f1)]||this[_0x11c141(0x1e8)],_0x33bf7a['resultUrl']=_0xc54ae1['resultUrl'],_0x33bf7a['timeoutUrl']=_0xc54ae1[_0x11c141(0x21b)],logger[_0x11c141(0x1fe)](_0x11c141(0x1e7)+JSON[_0x11c141(0x1e2)](_0xc54ae1)),logger['debug'](_0x11c141(0x21c)+_0xc54ae1[_0x11c141(0x1ed)]+_0x11c141(0x21a)+_0xc54ae1[_0x11c141(0x1f1)]+_0x11c141(0x1e5)+_0xc54ae1[_0x11c141(0x21d)]+_0x11c141(0x21e)+_0xc54ae1['timeoutUrl']),(!_0xc54ae1[_0x11c141(0x1ed)]||!_0xc54ae1[_0x11c141(0x1f1)]||!_0xc54ae1[_0x11c141(0x21b)]||!_0xc54ae1[_0x11c141(0x21d)])&&logger['debug'](_0x13a25f[_0x11c141(0x221)]),_0x33bf7a;}async[a137_0x159afc(0x1e4)](_0x13edad,_0x3b0892){const _0x14318a=a137_0x159afc,_0x18f2ab={'QlycU':function(_0x4036eb,_0x1f8a2b){return _0x4036eb(_0x1f8a2b);}};try{const _0x493176=_0x18f2ab[_0x14318a(0x20c)](parseInt,process[_0x14318a(0x20a)][_0x14318a(0x200)]||'0'),_0x2fb11a=_0x18f2ab[_0x14318a(0x20c)](parseInt,process[_0x14318a(0x20a)][_0x14318a(0x220)]||'1'),_0x54beb9=process['env']['BROWSERSTACK_BUILD_RUN_IDENTIFIER'],_0x5094fd={'nodeIndex':_0x493176,'totalNodes':_0x2fb11a,'projectName':this['config']['projectName'],'buildName':this[_0x14318a(0x207)][_0x14318a(0x1f5)],'buildRunIdentifier':_0x54beb9,'orchestrationStrategy':_0x3b0892,'hostInfo':this[_0x14318a(0x206)](),'tests':_0x13edad[_0x14318a(0x1e9)](_0x33dfec=>({'filePath':_0x33dfec}))},_0x35ad28=await RequestUtils[_0x14318a(0x1e0)](_0x5094fd);return logger[_0x14318a(0x1fe)](_0x14318a(0x203)+JSON['stringify'](_0x35ad28)),this['splitTestsAPICallCount']+=0x1,this['processSplitTestsResponse'](_0x35ad28[_0x14318a(0x222)]||{});}catch(_0x200627){return logger[_0x14318a(0x1fe)]('[splitTests]\x20Exception\x20in\x20sending\x20test\x20files:\x20'+(_0x200627[_0x14318a(0x1fd)]||_0x200627[_0x14318a(0x1f6)]())),null;}}async[a137_0x159afc(0x20d)](_0x48542d){const _0x39f9eb=a137_0x159afc,_0x336d91={};_0x336d91['kdXDi']=_0x39f9eb(0x208),_0x336d91[_0x39f9eb(0x1e1)]=function(_0x6520b9,_0x1b485b){return _0x6520b9*_0x1b485b;},_0x336d91[_0x39f9eb(0x213)]=function(_0x128ffe,_0x594c00){return _0x128ffe&&_0x594c00;},_0x336d91[_0x39f9eb(0x212)]=function(_0x903f4d,_0x29aed7){return _0x903f4d<_0x29aed7;},_0x336d91[_0x39f9eb(0x1e3)]=function(_0x501cf9,_0x1949b9){return _0x501cf9-_0x1949b9;},_0x336d91[_0x39f9eb(0x1ee)]=_0x39f9eb(0x205),_0x336d91[_0x39f9eb(0x1f0)]=function(_0x59a4c2,_0x51cc95){return _0x59a4c2>_0x51cc95;};const _0x57fadf=_0x336d91;if(!_0x48542d)return null;try{logger['debug'](_0x57fadf[_0x39f9eb(0x20b)]);const _0x23186d=_0x48542d[_0x39f9eb(0x1f1)]||this[_0x39f9eb(0x1e8)],_0xe16fde=_0x57fadf[_0x39f9eb(0x1e1)](_0x48542d[_0x39f9eb(0x1ed)]||this[_0x39f9eb(0x1ef)],0x3e8),_0x572401=_0x48542d[_0x39f9eb(0x21b)],_0x7342ba=_0x48542d[_0x39f9eb(0x21d)];if(_0x57fadf[_0x39f9eb(0x213)](!_0x7342ba,!_0x572401))return null;let _0x2f0cc5=null;const _0x37ee5f=Date[_0x39f9eb(0x1f4)]();while(_0x7342ba&&_0x57fadf[_0x39f9eb(0x212)](_0x57fadf[_0x39f9eb(0x1e3)](Date[_0x39f9eb(0x1f4)](),_0x37ee5f),_0xe16fde)){logger[_0x39f9eb(0x1fe)](_0x39f9eb(0x219)+_0x7342ba);const _0x3ecc62=await RequestUtils['getSplitFiles'](_0x7342ba);logger[_0x39f9eb(0x1fe)]('[getOrderedTestFiles]\x20Response\x20from\x20result\x20URL:\x20'+JSON[_0x39f9eb(0x1e2)](_0x3ecc62)),this[_0x39f9eb(0x1f7)]+=0x1;if(_0x3ecc62&&_0x3ecc62[_0x39f9eb(0x217)]){_0x2f0cc5=_0x3ecc62[_0x39f9eb(0x217)];break;}await new Promise(_0x16a926=>setTimeout(_0x16a926,_0x23186d*0x3e8)),logger['debug'](_0x39f9eb(0x1fb)+_0x23186d+_0x39f9eb(0x215));}if(_0x57fadf[_0x39f9eb(0x213)](!_0x2f0cc5,_0x572401)){logger[_0x39f9eb(0x1fe)](_0x57fadf['lLKCf']);const _0x52c00a=await RequestUtils[_0x39f9eb(0x1fa)](_0x572401);_0x52c00a&&_0x52c00a[_0x39f9eb(0x217)]&&(_0x2f0cc5=_0x52c00a[_0x39f9eb(0x217)]);}if(_0x2f0cc5&&_0x57fadf[_0x39f9eb(0x1f0)](_0x2f0cc5[_0x39f9eb(0x1f2)],0x0))return _0x2f0cc5[_0x39f9eb(0x1e9)](_0x1cf18e=>_0x1cf18e[_0x39f9eb(0x1eb)]);return null;}catch(_0x2af7ff){return logger[_0x39f9eb(0x1fe)](_0x39f9eb(0x211)+(_0x2af7ff[_0x39f9eb(0x1fd)]||_0x2af7ff[_0x39f9eb(0x1f6)]())),null;}}[a137_0x159afc(0x206)](){const _0x5b7116=a137_0x159afc,_0x516b81={'MkvDS':function(_0x26f33b,_0x29be14){return _0x26f33b(_0x29be14);}},_0x484ca4=_0x516b81[_0x5b7116(0x201)](require,'os');try{return{'hostname':_0x484ca4[_0x5b7116(0x202)](),'platform':_0x484ca4['platform'](),'release':_0x484ca4['release'](),'arch':_0x484ca4['arch'](),'totalmem':_0x484ca4[_0x5b7116(0x1fc)](),'freemem':_0x484ca4[_0x5b7116(0x1e6)]()};}catch(_0x52e9ef){return{};}}}function a137_0x2dea(){const _0x29787e=['458486KAgyhM','filePath','getSplitTestsAPICallCount','timeout','lLKCf','defaultTimeout','kjbLS','timeoutInterval','length','2795232HyeOba','now','buildName','toString','splitTestsAPICallCount','36nhHGwp','4974lwNrAJ','getSplitFiles','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL\x20after\x20waiting\x20for\x20','totalmem','stack','debug','9DiOzYd','BROWSERSTACK_NODE_INDEX','MkvDS','hostname','[splitTests]\x20Response\x20from\x20split\x20tests\x20API:\x20','917517WSGdqT','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20timeout\x20URL','_getHostInfo','config','[getOrderedTestFiles]\x20Fetching\x20ordered\x20test\x20files','exports','env','kdXDi','QlycU','getOrderedTestFiles','../logger','5336MJkpec','./requestUtils','[getOrderedTestFiles]\x20Exception\x20in\x20fetching\x20ordered\x20test\x20files:\x20','mJNPA','dGeJc','5917616HQGMSu','\x20seconds.','11311300berUJa','tests','3745zmtZWM','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL:\x20',',\x20timeoutInterval:\x20','timeoutUrl','[processSplitTestsResponse]\x20timeout:\x20','resultUrl',',\x20timeoutUrl:\x20','191sMmUzc','BROWSERSTACK_TOTAL_NODE_COUNT','siCea','body','postSplitFiles','yOBdU','stringify','gFRiG','splitTests',',\x20resultUrl:\x20','freemem','[processSplitTestsResponse]\x20Processing\x20response:\x20','defaultTimeoutInterval','map'];a137_0x2dea=function(){return _0x29787e;};return a137_0x2dea();}module[a137_0x159afc(0x209)]=TestOrderingServerHandler;