const a127_0xe7954b=a127_0x2e08;(function(_0x4a6277,_0x4926d0){const _0x1b5889=a127_0x2e08,_0x5e0ee8=_0x4a6277();while(!![]){try{const _0xad5490=-parseInt(_0x1b5889(0xdb))/0x1*(-parseInt(_0x1b5889(0xde))/0x2)+parseInt(_0x1b5889(0xf6))/0x3+parseInt(_0x1b5889(0x10a))/0x4*(-parseInt(_0x1b5889(0x110))/0x5)+parseInt(_0x1b5889(0x107))/0x6*(-parseInt(_0x1b5889(0x11b))/0x7)+parseInt(_0x1b5889(0xef))/0x8+-parseInt(_0x1b5889(0x102))/0x9*(-parseInt(_0x1b5889(0xf0))/0xa)+parseInt(_0x1b5889(0xf5))/0xb*(-parseInt(_0x1b5889(0xe8))/0xc);if(_0xad5490===_0x4926d0)break;else _0x5e0ee8['push'](_0x5e0ee8['shift']());}catch(_0x31d9b2){_0x5e0ee8['push'](_0x5e0ee8['shift']());}}}(a127_0x270b,0x94ed9));function a127_0x2e08(_0x4dc01b,_0xf2bffd){const _0x270b25=a127_0x270b();return a127_0x2e08=function(_0x2e08f3,_0x2507e7){_0x2e08f3=_0x2e08f3-0xd9;let _0x225eb2=_0x270b25[_0x2e08f3];return _0x225eb2;},a127_0x2e08(_0x4dc01b,_0xf2bffd);}const logger=require(a127_0xe7954b(0xed))[a127_0xe7954b(0xe9)],RequestUtils=require('./requestUtils');class TestOrderingServerHandler{constructor(_0x2c47ca){const _0x94708e=a127_0xe7954b;this[_0x94708e(0x11c)]=_0x2c47ca,this[_0x94708e(0xf2)]=0x0,this[_0x94708e(0x10f)]=0x3c,this['defaultTimeoutInterval']=0x5;}[a127_0xe7954b(0xf8)](){const _0x50badb=a127_0xe7954b;return this[_0x50badb(0xf2)];}[a127_0xe7954b(0xe5)](_0x41cbc3){const _0x340122=a127_0xe7954b,_0x57d403={};_0x57d403[_0x340122(0xff)]='[processSplitTestsResponse]\x20Received\x20null\x20value(s)\x20for\x20some\x20attributes\x20in\x20split\x20tests\x20API\x20response';const _0x72f9dd=_0x57d403;if(!_0x41cbc3)return null;const _0x30a942={};return _0x30a942[_0x340122(0x11d)]=_0x41cbc3[_0x340122(0x11d)]||this['defaultTimeout'],_0x30a942[_0x340122(0xea)]=_0x41cbc3['timeoutInterval']||this[_0x340122(0xe0)],_0x30a942[_0x340122(0x116)]=_0x41cbc3['resultUrl'],_0x30a942[_0x340122(0xeb)]=_0x41cbc3[_0x340122(0xeb)],logger[_0x340122(0xfe)](_0x340122(0x100)+JSON[_0x340122(0xdd)](_0x41cbc3)),logger['debug'](_0x340122(0xf9)+_0x41cbc3[_0x340122(0x11d)]+_0x340122(0x113)+_0x41cbc3['timeoutInterval']+_0x340122(0xe4)+_0x41cbc3[_0x340122(0x116)]+_0x340122(0xf4)+_0x41cbc3[_0x340122(0xeb)]),(!_0x41cbc3[_0x340122(0x11d)]||!_0x41cbc3[_0x340122(0xea)]||!_0x41cbc3[_0x340122(0xeb)]||!_0x41cbc3[_0x340122(0x116)])&&logger[_0x340122(0xfe)](_0x72f9dd[_0x340122(0xff)]),_0x30a942;}async['splitTests'](_0x384777,_0x18cf6b){const _0x40e242=a127_0xe7954b,_0x5af11e={'jfDoD':function(_0x3388d7,_0x4c3227){return _0x3388d7(_0x4c3227);},'qAxkA':function(_0x132c6a,_0x154935){return _0x132c6a(_0x154935);}};try{const _0x54b234=_0x5af11e[_0x40e242(0xdc)](parseInt,process[_0x40e242(0xfa)][_0x40e242(0xf7)]||'0'),_0x3d44da=_0x5af11e[_0x40e242(0x114)](parseInt,process[_0x40e242(0xfa)][_0x40e242(0xf3)]||'1'),_0x1ea894=process[_0x40e242(0xfa)][_0x40e242(0xee)],_0x1b675c={'nodeIndex':_0x54b234,'totalNodes':_0x3d44da,'projectName':this[_0x40e242(0x11c)]['projectName'],'buildName':this[_0x40e242(0x11c)][_0x40e242(0xf1)],'buildRunIdentifier':_0x1ea894,'orchestrationStrategy':_0x18cf6b,'hostInfo':this[_0x40e242(0xfc)](),'tests':_0x384777[_0x40e242(0x104)](_0x431b88=>({'filePath':_0x431b88}))},_0x593420=await RequestUtils['postSplitFiles'](_0x1b675c);return logger[_0x40e242(0xfe)](_0x40e242(0x106)+JSON['stringify'](_0x593420)),this[_0x40e242(0xf2)]+=0x1,this['processSplitTestsResponse'](_0x593420[_0x40e242(0x115)]||{});}catch(_0x34b26e){return logger['debug'](_0x40e242(0xdf)+(_0x34b26e[_0x40e242(0x103)]||_0x34b26e[_0x40e242(0xd9)]())),null;}}async['getOrderedTestFiles'](_0x4673a0){const _0x16730b=a127_0xe7954b,_0x12f8d5={};_0x12f8d5[_0x16730b(0xe6)]=_0x16730b(0x11a),_0x12f8d5[_0x16730b(0x118)]=function(_0x28f622,_0x23bfa7){return _0x28f622*_0x23bfa7;},_0x12f8d5[_0x16730b(0x108)]=function(_0x373a0c,_0x42244d){return _0x373a0c&&_0x42244d;},_0x12f8d5[_0x16730b(0xe1)]=function(_0xe810ae,_0x5a1c15){return _0xe810ae<_0x5a1c15;},_0x12f8d5[_0x16730b(0x10e)]=function(_0x5849fb,_0x1c2db4){return _0x5849fb-_0x1c2db4;},_0x12f8d5[_0x16730b(0x105)]=function(_0x1e7833,_0x3432b4){return _0x1e7833&&_0x3432b4;},_0x12f8d5[_0x16730b(0x10d)]='[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20timeout\x20URL',_0x12f8d5[_0x16730b(0x109)]=function(_0x1007c7,_0x5b0b4b){return _0x1007c7>_0x5b0b4b;};const _0x43abde=_0x12f8d5;if(!_0x4673a0)return null;try{logger[_0x16730b(0xfe)](_0x43abde['RySkO']);const _0x18f837=_0x4673a0[_0x16730b(0xea)]||this[_0x16730b(0xe0)],_0x4fb368=_0x43abde[_0x16730b(0x118)](_0x4673a0['timeout']||this['defaultTimeout'],0x3e8),_0x523ceb=_0x4673a0['timeoutUrl'],_0x548f3a=_0x4673a0[_0x16730b(0x116)];if(_0x43abde[_0x16730b(0x108)](!_0x548f3a,!_0x523ceb))return null;let _0x332844=null;const _0x544b0f=Date['now']();while(_0x548f3a&&_0x43abde['MksMD'](_0x43abde[_0x16730b(0x10e)](Date[_0x16730b(0x111)](),_0x544b0f),_0x4fb368)){logger[_0x16730b(0xfe)](_0x16730b(0x10b)+_0x548f3a);const _0x30c46c=await RequestUtils['getSplitFiles'](_0x548f3a);logger['debug']('[getOrderedTestFiles]\x20Response\x20from\x20result\x20URL:\x20'+JSON[_0x16730b(0xdd)](_0x30c46c)),this[_0x16730b(0xf2)]+=0x1;if(_0x30c46c&&_0x30c46c[_0x16730b(0x101)]){_0x332844=_0x30c46c['tests'];break;}await new Promise(_0x21d210=>setTimeout(_0x21d210,_0x18f837*0x3e8)),logger[_0x16730b(0xfe)](_0x16730b(0x117)+_0x18f837+'\x20seconds.');}if(_0x43abde[_0x16730b(0x105)](!_0x332844,_0x523ceb)){logger['debug'](_0x43abde[_0x16730b(0x10d)]);const _0x30ee9b=await RequestUtils[_0x16730b(0xe7)](_0x523ceb);_0x30ee9b&&_0x30ee9b[_0x16730b(0x101)]&&(_0x332844=_0x30ee9b[_0x16730b(0x101)]);}if(_0x332844&&_0x43abde[_0x16730b(0x109)](_0x332844[_0x16730b(0xfb)],0x0))return _0x332844['map'](_0x2a9438=>_0x2a9438[_0x16730b(0xda)]);return null;}catch(_0xa93e72){return logger[_0x16730b(0xfe)](_0x16730b(0xe2)+(_0xa93e72[_0x16730b(0x103)]||_0xa93e72[_0x16730b(0xd9)]())),null;}}[a127_0xe7954b(0xfc)](){const _0x27d530=a127_0xe7954b,_0xd2aaee={'JEKJj':function(_0x2db9c9,_0x1db6b8){return _0x2db9c9(_0x1db6b8);}},_0x3d8559=_0xd2aaee[_0x27d530(0x10c)](require,'os');try{return{'hostname':_0x3d8559['hostname'](),'platform':_0x3d8559[_0x27d530(0xe3)](),'release':_0x3d8559['release'](),'arch':_0x3d8559[_0x27d530(0xfd)](),'totalmem':_0x3d8559[_0x27d530(0xec)](),'freemem':_0x3d8559[_0x27d530(0x119)]()};}catch(_0x27dfe7){return{};}}}function a127_0x270b(){const _0x4a62d1=['BROWSERSTACK_NODE_INDEX','getSplitTestsAPICallCount','[processSplitTestsResponse]\x20timeout:\x20','env','length','_getHostInfo','arch','debug','vxNvv','[processSplitTestsResponse]\x20Processing\x20response:\x20','tests','36954yxwvKd','stack','map','NKhzr','[splitTests]\x20Response\x20from\x20split\x20tests\x20API:\x20','28830YrUwxU','WutGt','mboab','4192860ydwdzW','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL:\x20','JEKJj','ynrbK','jpEUC','defaultTimeout','5qYqcQZ','now','exports',',\x20timeoutInterval:\x20','qAxkA','body','resultUrl','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL\x20after\x20waiting\x20for\x20','juTra','freemem','[getOrderedTestFiles]\x20Fetching\x20ordered\x20test\x20files','336kEtbKP','config','timeout','toString','filePath','566fLbDFl','jfDoD','stringify','3530vVnrJQ','[splitTests]\x20Exception\x20in\x20sending\x20test\x20files:\x20','defaultTimeoutInterval','MksMD','[getOrderedTestFiles]\x20Exception\x20in\x20fetching\x20ordered\x20test\x20files:\x20','platform',',\x20resultUrl:\x20','processSplitTestsResponse','RySkO','getSplitFiles','35304DDiWQv','winstonLogger','timeoutInterval','timeoutUrl','totalmem','../logger','BROWSERSTACK_BUILD_RUN_IDENTIFIER','4465032ryvSyg','1600eZbgcy','buildName','splitTestsAPICallCount','BROWSERSTACK_TOTAL_NODE_COUNT',',\x20timeoutUrl:\x20','1969lmnNjI','604209ovxkDg'];a127_0x270b=function(){return _0x4a62d1;};return a127_0x270b();}module[a127_0xe7954b(0x112)]=TestOrderingServerHandler;