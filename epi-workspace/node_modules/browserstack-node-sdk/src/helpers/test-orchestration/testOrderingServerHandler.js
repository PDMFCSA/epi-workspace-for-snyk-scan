const a124_0x37eb9b=a124_0x44a7;(function(_0x58e5e1,_0x466ba9){const _0x157b41=a124_0x44a7,_0x5e3a7c=_0x58e5e1();while(!![]){try{const _0x187b26=-parseInt(_0x157b41(0x11c))/0x1*(-parseInt(_0x157b41(0x141))/0x2)+-parseInt(_0x157b41(0x136))/0x3*(parseInt(_0x157b41(0x144))/0x4)+-parseInt(_0x157b41(0x142))/0x5*(-parseInt(_0x157b41(0x13f))/0x6)+parseInt(_0x157b41(0x156))/0x7+parseInt(_0x157b41(0x13d))/0x8*(-parseInt(_0x157b41(0x15a))/0x9)+parseInt(_0x157b41(0x11f))/0xa*(-parseInt(_0x157b41(0x135))/0xb)+parseInt(_0x157b41(0x11b))/0xc;if(_0x187b26===_0x466ba9)break;else _0x5e3a7c['push'](_0x5e3a7c['shift']());}catch(_0x3a18a6){_0x5e3a7c['push'](_0x5e3a7c['shift']());}}}(a124_0x3305,0x368e5));const logger=require(a124_0x37eb9b(0x139))[a124_0x37eb9b(0x14f)],RequestUtils=require(a124_0x37eb9b(0x14d));function a124_0x3305(){const _0x2c0c34=['./requestUtils','toString','winstonLogger','timeoutUrl','BROWSERSTACK_TOTAL_NODE_COUNT','resultUrl','\x20seconds.','stack','defaultTimeoutInterval','641585cgXYzt','getSplitFiles','buildName','length','9LzJTrz','[splitTests]\x20Response\x20from\x20split\x20tests\x20API:\x20','FTwTc','processSplitTestsResponse','amtAP','_getHostInfo','BROWSERSTACK_NODE_INDEX','tKONM','tests','9835344jMRlMp','48261KAIkbQ',',\x20timeoutInterval:\x20','now','2034840PFSbHp','hostname','arch','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20timeout\x20URL','config',',\x20timeoutUrl:\x20','filePath','splitTestsAPICallCount','timeout','[splitTests]\x20Exception\x20in\x20sending\x20test\x20files:\x20',',\x20resultUrl:\x20','BROWSERSTACK_BUILD_RUN_IDENTIFIER','getOrderedTestFiles','AhrFI','getSplitTestsAPICallCount','totalmem','platform','defaultTimeout','timeoutInterval','debug','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL\x20after\x20waiting\x20for\x20','[processSplitTestsResponse]\x20timeout:\x20','22NYNcZW','245451kJRJdp','DRqDu','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL:\x20','../logger','stringify','env','URIvz','3326872NBCfTD','postSplitFiles','174MhmCIL','ofmxB','2bHSctV','29065LVWmHS','[processSplitTestsResponse]\x20Received\x20null\x20value(s)\x20for\x20some\x20attributes\x20in\x20split\x20tests\x20API\x20response','4OaDLws','map','OyPvm','xlGyZ','exports','freemem','daOdt','release','[getOrderedTestFiles]\x20Exception\x20in\x20fetching\x20ordered\x20test\x20files:\x20'];a124_0x3305=function(){return _0x2c0c34;};return a124_0x3305();}class TestOrderingServerHandler{constructor(_0x43dd72){const _0x2da78a=a124_0x37eb9b;this[_0x2da78a(0x123)]=_0x43dd72,this['splitTestsAPICallCount']=0x0,this['defaultTimeout']=0x3c,this[_0x2da78a(0x155)]=0x5;}[a124_0x37eb9b(0x12d)](){const _0x26dd20=a124_0x37eb9b;return this[_0x26dd20(0x126)];}[a124_0x37eb9b(0x15d)](_0x4c544b){const _0x55faf2=a124_0x37eb9b,_0x3339c9={};_0x3339c9[_0x55faf2(0x147)]=_0x55faf2(0x143);const _0x1fe81f=_0x3339c9;if(!_0x4c544b)return null;const _0xf84132={};return _0xf84132['timeout']=_0x4c544b['timeout']||this['defaultTimeout'],_0xf84132[_0x55faf2(0x131)]=_0x4c544b[_0x55faf2(0x131)]||this['defaultTimeoutInterval'],_0xf84132[_0x55faf2(0x152)]=_0x4c544b[_0x55faf2(0x152)],_0xf84132[_0x55faf2(0x150)]=_0x4c544b[_0x55faf2(0x150)],logger[_0x55faf2(0x132)]('[processSplitTestsResponse]\x20Processing\x20response:\x20'+JSON[_0x55faf2(0x13a)](_0x4c544b)),logger[_0x55faf2(0x132)](_0x55faf2(0x134)+_0x4c544b[_0x55faf2(0x127)]+_0x55faf2(0x11d)+_0x4c544b[_0x55faf2(0x131)]+_0x55faf2(0x129)+_0x4c544b[_0x55faf2(0x152)]+_0x55faf2(0x124)+_0x4c544b[_0x55faf2(0x150)]),(!_0x4c544b[_0x55faf2(0x127)]||!_0x4c544b[_0x55faf2(0x131)]||!_0x4c544b[_0x55faf2(0x150)]||!_0x4c544b['resultUrl'])&&logger[_0x55faf2(0x132)](_0x1fe81f[_0x55faf2(0x147)]),_0xf84132;}async['splitTests'](_0x15ae4d,_0x814093){const _0x573cab=a124_0x37eb9b,_0x15229a={'daOdt':function(_0x57df8e,_0x1a9df3){return _0x57df8e(_0x1a9df3);},'qnoGm':function(_0x15f26e,_0x531f2){return _0x15f26e(_0x531f2);}};try{const _0x2d3d97=_0x15229a[_0x573cab(0x14a)](parseInt,process['env'][_0x573cab(0x118)]||'0'),_0x3e4818=_0x15229a['qnoGm'](parseInt,process[_0x573cab(0x13b)][_0x573cab(0x151)]||'1'),_0x3438ef=process['env'][_0x573cab(0x12a)],_0x2193be={'nodeIndex':_0x2d3d97,'totalNodes':_0x3e4818,'projectName':this['config']['projectName'],'buildName':this['config'][_0x573cab(0x158)],'buildRunIdentifier':_0x3438ef,'orchestrationStrategy':_0x814093,'hostInfo':this[_0x573cab(0x117)](),'tests':_0x15ae4d['map'](_0x3acfdd=>({'filePath':_0x3acfdd}))},_0x5188d0=await RequestUtils[_0x573cab(0x13e)](_0x2193be);return logger[_0x573cab(0x132)](_0x573cab(0x15b)+JSON[_0x573cab(0x13a)](_0x5188d0)),this[_0x573cab(0x126)]+=0x1,this[_0x573cab(0x15d)](_0x5188d0['body']||{});}catch(_0x32f3c7){return logger[_0x573cab(0x132)](_0x573cab(0x128)+(_0x32f3c7[_0x573cab(0x154)]||_0x32f3c7[_0x573cab(0x14e)]())),null;}}async[a124_0x37eb9b(0x12b)](_0x4359a4){const _0x1423fa=a124_0x37eb9b,_0x494fbf={};_0x494fbf[_0x1423fa(0x140)]='[getOrderedTestFiles]\x20Fetching\x20ordered\x20test\x20files',_0x494fbf[_0x1423fa(0x12c)]=function(_0xaab750,_0x5496bc){return _0xaab750*_0x5496bc;},_0x494fbf[_0x1423fa(0x116)]=function(_0x404000,_0x31ed05){return _0x404000&&_0x31ed05;},_0x494fbf[_0x1423fa(0x15c)]=function(_0x1de000,_0x5e0c1d){return _0x1de000<_0x5e0c1d;},_0x494fbf[_0x1423fa(0x137)]=function(_0x258b04,_0xac015a){return _0x258b04-_0xac015a;},_0x494fbf[_0x1423fa(0x13c)]=_0x1423fa(0x122),_0x494fbf[_0x1423fa(0x119)]=function(_0x474787,_0x461dcb){return _0x474787>_0x461dcb;};const _0x35d242=_0x494fbf;if(!_0x4359a4)return null;try{logger[_0x1423fa(0x132)](_0x35d242[_0x1423fa(0x140)]);const _0x476f25=_0x4359a4[_0x1423fa(0x131)]||this[_0x1423fa(0x155)],_0x20afd1=_0x35d242[_0x1423fa(0x12c)](_0x4359a4[_0x1423fa(0x127)]||this[_0x1423fa(0x130)],0x3e8),_0x84c2fa=_0x4359a4[_0x1423fa(0x150)],_0x36f7dd=_0x4359a4[_0x1423fa(0x152)];if(_0x35d242[_0x1423fa(0x116)](!_0x36f7dd,!_0x84c2fa))return null;let _0x34d4c5=null;const _0x37c77c=Date[_0x1423fa(0x11e)]();while(_0x36f7dd&&_0x35d242[_0x1423fa(0x15c)](_0x35d242[_0x1423fa(0x137)](Date[_0x1423fa(0x11e)](),_0x37c77c),_0x20afd1)){logger[_0x1423fa(0x132)](_0x1423fa(0x138)+_0x36f7dd);const _0x4732f1=await RequestUtils['getSplitFiles'](_0x36f7dd);logger[_0x1423fa(0x132)]('[getOrderedTestFiles]\x20Response\x20from\x20result\x20URL:\x20'+JSON[_0x1423fa(0x13a)](_0x4732f1)),this[_0x1423fa(0x126)]+=0x1;if(_0x4732f1&&_0x4732f1[_0x1423fa(0x11a)]){_0x34d4c5=_0x4732f1[_0x1423fa(0x11a)];break;}await new Promise(_0x48f860=>setTimeout(_0x48f860,_0x476f25*0x3e8)),logger[_0x1423fa(0x132)](_0x1423fa(0x133)+_0x476f25+_0x1423fa(0x153));}if(_0x35d242[_0x1423fa(0x116)](!_0x34d4c5,_0x84c2fa)){logger[_0x1423fa(0x132)](_0x35d242[_0x1423fa(0x13c)]);const _0x346f45=await RequestUtils[_0x1423fa(0x157)](_0x84c2fa);_0x346f45&&_0x346f45['tests']&&(_0x34d4c5=_0x346f45[_0x1423fa(0x11a)]);}if(_0x34d4c5&&_0x35d242[_0x1423fa(0x119)](_0x34d4c5[_0x1423fa(0x159)],0x0))return _0x34d4c5[_0x1423fa(0x145)](_0x7deb59=>_0x7deb59[_0x1423fa(0x125)]);return null;}catch(_0x4f5758){return logger[_0x1423fa(0x132)](_0x1423fa(0x14c)+(_0x4f5758['stack']||_0x4f5758['toString']())),null;}}[a124_0x37eb9b(0x117)](){const _0x26e8da=a124_0x37eb9b,_0x13d780={'OyPvm':function(_0x58df28,_0x24fa37){return _0x58df28(_0x24fa37);}},_0x13f48b=_0x13d780[_0x26e8da(0x146)](require,'os');try{return{'hostname':_0x13f48b[_0x26e8da(0x120)](),'platform':_0x13f48b[_0x26e8da(0x12f)](),'release':_0x13f48b[_0x26e8da(0x14b)](),'arch':_0x13f48b[_0x26e8da(0x121)](),'totalmem':_0x13f48b[_0x26e8da(0x12e)](),'freemem':_0x13f48b[_0x26e8da(0x149)]()};}catch(_0x292747){return{};}}}function a124_0x44a7(_0x17a66f,_0x235ed1){const _0x33056e=a124_0x3305();return a124_0x44a7=function(_0x44a7c3,_0x32aca6){_0x44a7c3=_0x44a7c3-0x116;let _0x282981=_0x33056e[_0x44a7c3];return _0x282981;},a124_0x44a7(_0x17a66f,_0x235ed1);}module[a124_0x37eb9b(0x148)]=TestOrderingServerHandler;