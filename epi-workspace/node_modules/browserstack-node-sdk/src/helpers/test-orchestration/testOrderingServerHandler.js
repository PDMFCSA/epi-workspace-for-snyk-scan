const a134_0x428869=a134_0x25cd;(function(_0xb6fbe3,_0x358c85){const _0x17c91a=a134_0x25cd,_0x38138a=_0xb6fbe3();while(!![]){try{const _0x124863=-parseInt(_0x17c91a(0x16b))/0x1+-parseInt(_0x17c91a(0x190))/0x2+parseInt(_0x17c91a(0x17b))/0x3*(parseInt(_0x17c91a(0x1a0))/0x4)+parseInt(_0x17c91a(0x179))/0x5+-parseInt(_0x17c91a(0x199))/0x6*(-parseInt(_0x17c91a(0x17c))/0x7)+parseInt(_0x17c91a(0x173))/0x8+-parseInt(_0x17c91a(0x171))/0x9;if(_0x124863===_0x358c85)break;else _0x38138a['push'](_0x38138a['shift']());}catch(_0x4d8284){_0x38138a['push'](_0x38138a['shift']());}}}(a134_0x1562,0xe547a));const logger=require(a134_0x428869(0x19f))[a134_0x428869(0x181)],RequestUtils=require('./requestUtils');function a134_0x1562(){const _0xec20fb=['1643877szMfSj','2177PvDMyL','[processSplitTestsResponse]\x20Received\x20null\x20value(s)\x20for\x20some\x20attributes\x20in\x20split\x20tests\x20API\x20response','release','body','timeoutUrl','winstonLogger','DTAqM','[splitTests]\x20Exception\x20in\x20sending\x20test\x20files:\x20','resultUrl','config','filePath','\x20seconds.','debug','UjpiR','defaultTimeout','exports','getSplitFiles','splitTests','toString','VGeXE','1824784UdUZtS','OoBJn','getOrderedTestFiles','_getHostInfo','splitTestsAPICallCount','timeoutInterval','[processSplitTestsResponse]\x20Processing\x20response:\x20','[processSplitTestsResponse]\x20timeout:\x20','hostname','27318AnWreZ','env','BROWSERSTACK_TOTAL_NODE_COUNT','[getOrderedTestFiles]\x20Exception\x20in\x20fetching\x20ordered\x20test\x20files:\x20','stack','XIjPD','../logger','4HdXyjq','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL\x20after\x20waiting\x20for\x20','timeout','arch','defaultTimeoutInterval','stringify','map','tests','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20timeout\x20URL',',\x20resultUrl:\x20','452295icMKci','PHmLP',',\x20timeoutUrl:\x20','now','[getOrderedTestFiles]\x20Fetching\x20ordered\x20test\x20files','rMSrg','14019309RaqYcO','length','4490056sFJBLy','gmKLt','projectName','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL:\x20','totalmem','getSplitTestsAPICallCount','6681595euASyR','BROWSERSTACK_BUILD_RUN_IDENTIFIER'];a134_0x1562=function(){return _0xec20fb;};return a134_0x1562();}class TestOrderingServerHandler{constructor(_0x1215b0){const _0x4ec8bc=a134_0x428869;this[_0x4ec8bc(0x185)]=_0x1215b0,this[_0x4ec8bc(0x194)]=0x0,this[_0x4ec8bc(0x18a)]=0x3c,this[_0x4ec8bc(0x1a4)]=0x5;}[a134_0x428869(0x178)](){const _0x1d61d8=a134_0x428869;return this[_0x1d61d8(0x194)];}['processSplitTestsResponse'](_0x4694f9){const _0x23b43d=a134_0x428869,_0x3cd89f={};_0x3cd89f[_0x23b43d(0x16c)]=_0x23b43d(0x17d);const _0x5c16c1=_0x3cd89f;if(!_0x4694f9)return null;const _0x3e6fa7={};return _0x3e6fa7['timeout']=_0x4694f9[_0x23b43d(0x1a2)]||this[_0x23b43d(0x18a)],_0x3e6fa7[_0x23b43d(0x195)]=_0x4694f9[_0x23b43d(0x195)]||this['defaultTimeoutInterval'],_0x3e6fa7['resultUrl']=_0x4694f9[_0x23b43d(0x184)],_0x3e6fa7[_0x23b43d(0x180)]=_0x4694f9[_0x23b43d(0x180)],logger['debug'](_0x23b43d(0x196)+JSON[_0x23b43d(0x1a5)](_0x4694f9)),logger['debug'](_0x23b43d(0x197)+_0x4694f9[_0x23b43d(0x1a2)]+',\x20timeoutInterval:\x20'+_0x4694f9[_0x23b43d(0x195)]+_0x23b43d(0x16a)+_0x4694f9[_0x23b43d(0x184)]+_0x23b43d(0x16d)+_0x4694f9['timeoutUrl']),(!_0x4694f9[_0x23b43d(0x1a2)]||!_0x4694f9[_0x23b43d(0x195)]||!_0x4694f9[_0x23b43d(0x180)]||!_0x4694f9[_0x23b43d(0x184)])&&logger[_0x23b43d(0x188)](_0x5c16c1['PHmLP']),_0x3e6fa7;}async[a134_0x428869(0x18d)](_0x4e893f,_0xda84b2){const _0x144d23=a134_0x428869,_0x5b3a70={'EhMZq':function(_0x1ad0fb,_0x50a455){return _0x1ad0fb(_0x50a455);},'rMSrg':function(_0x5792ff,_0xeda8c0){return _0x5792ff(_0xeda8c0);}};try{const _0x56d146=_0x5b3a70['EhMZq'](parseInt,process['env']['BROWSERSTACK_NODE_INDEX']||'0'),_0x262f05=_0x5b3a70[_0x144d23(0x170)](parseInt,process[_0x144d23(0x19a)][_0x144d23(0x19b)]||'1'),_0x483829=process[_0x144d23(0x19a)][_0x144d23(0x17a)],_0x53083f={'nodeIndex':_0x56d146,'totalNodes':_0x262f05,'projectName':this['config'][_0x144d23(0x175)],'buildName':this[_0x144d23(0x185)]['buildName'],'buildRunIdentifier':_0x483829,'orchestrationStrategy':_0xda84b2,'hostInfo':this[_0x144d23(0x193)](),'tests':_0x4e893f[_0x144d23(0x1a6)](_0x28de33=>({'filePath':_0x28de33}))},_0x3f829c=await RequestUtils['postSplitFiles'](_0x53083f);return logger[_0x144d23(0x188)]('[splitTests]\x20Response\x20from\x20split\x20tests\x20API:\x20'+JSON[_0x144d23(0x1a5)](_0x3f829c)),this[_0x144d23(0x194)]+=0x1,this['processSplitTestsResponse'](_0x3f829c[_0x144d23(0x17f)]||{});}catch(_0x31c24d){return logger['debug'](_0x144d23(0x183)+(_0x31c24d[_0x144d23(0x19d)]||_0x31c24d[_0x144d23(0x18e)]())),null;}}async[a134_0x428869(0x192)](_0x3b66f8){const _0x316247=a134_0x428869,_0x21b7e5={};_0x21b7e5[_0x316247(0x19e)]=_0x316247(0x16f),_0x21b7e5[_0x316247(0x18f)]=function(_0x47d9c1,_0x379b69){return _0x47d9c1*_0x379b69;},_0x21b7e5['UjpiR']=function(_0x643ed3,_0x241626){return _0x643ed3&&_0x241626;},_0x21b7e5['SbMBP']=function(_0x1984c4,_0x1a49ac){return _0x1984c4<_0x1a49ac;},_0x21b7e5[_0x316247(0x174)]=function(_0x3fedd9,_0x7e8e77){return _0x3fedd9-_0x7e8e77;},_0x21b7e5[_0x316247(0x182)]=_0x316247(0x169),_0x21b7e5[_0x316247(0x191)]=function(_0xc551a4,_0x96ffd0){return _0xc551a4>_0x96ffd0;};const _0x134c41=_0x21b7e5;if(!_0x3b66f8)return null;try{logger[_0x316247(0x188)](_0x134c41[_0x316247(0x19e)]);const _0xd06762=_0x3b66f8['timeoutInterval']||this[_0x316247(0x1a4)],_0x52412b=_0x134c41['VGeXE'](_0x3b66f8['timeout']||this[_0x316247(0x18a)],0x3e8),_0x588e1e=_0x3b66f8[_0x316247(0x180)],_0x472097=_0x3b66f8[_0x316247(0x184)];if(_0x134c41[_0x316247(0x189)](!_0x472097,!_0x588e1e))return null;let _0x4ed51b=null;const _0x267a40=Date['now']();while(_0x472097&&_0x134c41['SbMBP'](_0x134c41[_0x316247(0x174)](Date[_0x316247(0x16e)](),_0x267a40),_0x52412b)){logger[_0x316247(0x188)](_0x316247(0x176)+_0x472097);const _0x33f8cb=await RequestUtils[_0x316247(0x18c)](_0x472097);logger['debug']('[getOrderedTestFiles]\x20Response\x20from\x20result\x20URL:\x20'+JSON[_0x316247(0x1a5)](_0x33f8cb)),this['splitTestsAPICallCount']+=0x1;if(_0x33f8cb&&_0x33f8cb[_0x316247(0x1a7)]){_0x4ed51b=_0x33f8cb[_0x316247(0x1a7)];break;}await new Promise(_0x1052df=>setTimeout(_0x1052df,_0xd06762*0x3e8)),logger['debug'](_0x316247(0x1a1)+_0xd06762+_0x316247(0x187));}if(_0x134c41[_0x316247(0x189)](!_0x4ed51b,_0x588e1e)){logger[_0x316247(0x188)](_0x134c41[_0x316247(0x182)]);const _0x28a969=await RequestUtils[_0x316247(0x18c)](_0x588e1e);_0x28a969&&_0x28a969['tests']&&(_0x4ed51b=_0x28a969['tests']);}if(_0x4ed51b&&_0x134c41[_0x316247(0x191)](_0x4ed51b[_0x316247(0x172)],0x0))return _0x4ed51b['map'](_0x24df73=>_0x24df73[_0x316247(0x186)]);return null;}catch(_0x3b6fa5){return logger[_0x316247(0x188)](_0x316247(0x19c)+(_0x3b6fa5[_0x316247(0x19d)]||_0x3b6fa5[_0x316247(0x18e)]())),null;}}[a134_0x428869(0x193)](){const _0x4e6ec8=a134_0x428869,_0x33eb1b={'HHTOP':function(_0xd10f91,_0x3c4e86){return _0xd10f91(_0x3c4e86);}},_0x4490cf=_0x33eb1b['HHTOP'](require,'os');try{return{'hostname':_0x4490cf[_0x4e6ec8(0x198)](),'platform':_0x4490cf['platform'](),'release':_0x4490cf[_0x4e6ec8(0x17e)](),'arch':_0x4490cf[_0x4e6ec8(0x1a3)](),'totalmem':_0x4490cf[_0x4e6ec8(0x177)](),'freemem':_0x4490cf['freemem']()};}catch(_0x5792bf){return{};}}}function a134_0x25cd(_0x4f66c9,_0x46511a){const _0x1562a9=a134_0x1562();return a134_0x25cd=function(_0x25cdb5,_0x50f131){_0x25cdb5=_0x25cdb5-0x169;let _0x1a4571=_0x1562a9[_0x25cdb5];return _0x1a4571;},a134_0x25cd(_0x4f66c9,_0x46511a);}module[a134_0x428869(0x18b)]=TestOrderingServerHandler;