function a137_0x55f5(_0x43943b,_0x37385a){const _0x235675=a137_0x2356();return a137_0x55f5=function(_0x55f529,_0x3a0633){_0x55f529=_0x55f529-0xb8;let _0xf775fa=_0x235675[_0x55f529];return _0xf775fa;},a137_0x55f5(_0x43943b,_0x37385a);}const a137_0x21f29e=a137_0x55f5;(function(_0x4cc31b,_0x538389){const _0xbe4cf7=a137_0x55f5,_0x55b112=_0x4cc31b();while(!![]){try{const _0x1e1b0b=-parseInt(_0xbe4cf7(0xd5))/0x1+-parseInt(_0xbe4cf7(0xdd))/0x2*(-parseInt(_0xbe4cf7(0xd8))/0x3)+-parseInt(_0xbe4cf7(0xd0))/0x4+-parseInt(_0xbe4cf7(0xf2))/0x5+-parseInt(_0xbe4cf7(0xd6))/0x6+parseInt(_0xbe4cf7(0xfa))/0x7+parseInt(_0xbe4cf7(0xed))/0x8*(parseInt(_0xbe4cf7(0xe9))/0x9);if(_0x1e1b0b===_0x538389)break;else _0x55b112['push'](_0x55b112['shift']());}catch(_0x4f9976){_0x55b112['push'](_0x55b112['shift']());}}}(a137_0x2356,0xd2245));function a137_0x2356(){const _0x14551a=['[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL:\x20','config','tests','./requestUtils','projectName','[getOrderedTestFiles]\x20Response\x20from\x20result\x20URL:\x20','timeout','[splitTests]\x20Response\x20from\x20split\x20tests\x20API:\x20','stack','Lvvoi','\x20seconds.','env','resultUrl','arch','[processSplitTestsResponse]\x20timeout:\x20','length','sLdWR','freemem','totalmem','[splitTests]\x20Exception\x20in\x20sending\x20test\x20files:\x20','2839628QcLECb','RfFwM','getOrderedTestFiles','getSplitTestsAPICallCount','postSplitFiles','961581yoOdHz','7768398wbgYpA','BROWSERSTACK_NODE_INDEX','298806WcaGTR','splitTestsAPICallCount','map','processSplitTestsResponse','XuhwE','34ppEied','MpboN','PMGDI',',\x20timeoutUrl:\x20','stringify','_getHostInfo','qYvGy','now',',\x20resultUrl:\x20','MlNER','toString',',\x20timeoutInterval:\x20','333yCmgtS','[processSplitTestsResponse]\x20Processing\x20response:\x20','hostname','defaultTimeoutInterval','337592pYywmn','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL\x20after\x20waiting\x20for\x20','[processSplitTestsResponse]\x20Received\x20null\x20value(s)\x20for\x20some\x20attributes\x20in\x20split\x20tests\x20API\x20response','debug','BROWSERSTACK_BUILD_RUN_IDENTIFIER','1841350GikrWi','exports','hOfLu','release','defaultTimeout','ekwNp','buildName','winstonLogger','6584445zwBJoH','timeoutUrl','timeoutInterval','platform','getSplitFiles'];a137_0x2356=function(){return _0x14551a;};return a137_0x2356();}const logger=require('../logger')[a137_0x21f29e(0xf9)],RequestUtils=require(a137_0x21f29e(0xbf));class TestOrderingServerHandler{constructor(_0x947bd3){const _0x353488=a137_0x21f29e;this[_0x353488(0xbd)]=_0x947bd3,this[_0x353488(0xd9)]=0x0,this['defaultTimeout']=0x3c,this[_0x353488(0xec)]=0x5;}[a137_0x21f29e(0xd3)](){const _0x5c2f46=a137_0x21f29e;return this[_0x5c2f46(0xd9)];}[a137_0x21f29e(0xdb)](_0x1074f0){const _0x200baa=a137_0x21f29e,_0x1d8f10={};_0x1d8f10[_0x200baa(0xe3)]=_0x200baa(0xef);const _0x461343=_0x1d8f10;if(!_0x1074f0)return null;const _0x3d3bbb={};return _0x3d3bbb['timeout']=_0x1074f0['timeout']||this['defaultTimeout'],_0x3d3bbb[_0x200baa(0xb9)]=_0x1074f0[_0x200baa(0xb9)]||this['defaultTimeoutInterval'],_0x3d3bbb[_0x200baa(0xc8)]=_0x1074f0[_0x200baa(0xc8)],_0x3d3bbb['timeoutUrl']=_0x1074f0[_0x200baa(0xb8)],logger[_0x200baa(0xf0)](_0x200baa(0xea)+JSON[_0x200baa(0xe1)](_0x1074f0)),logger['debug'](_0x200baa(0xca)+_0x1074f0[_0x200baa(0xc2)]+_0x200baa(0xe8)+_0x1074f0['timeoutInterval']+_0x200baa(0xe5)+_0x1074f0['resultUrl']+_0x200baa(0xe0)+_0x1074f0['timeoutUrl']),(!_0x1074f0['timeout']||!_0x1074f0[_0x200baa(0xb9)]||!_0x1074f0[_0x200baa(0xb8)]||!_0x1074f0['resultUrl'])&&logger[_0x200baa(0xf0)](_0x461343['qYvGy']),_0x3d3bbb;}async['splitTests'](_0x1f5069,_0x46bdf1){const _0x1a2f58=a137_0x21f29e,_0x486b14={'XuhwE':function(_0x157ebc,_0x145901){return _0x157ebc(_0x145901);}};try{const _0x5e84c3=_0x486b14[_0x1a2f58(0xdc)](parseInt,process[_0x1a2f58(0xc7)][_0x1a2f58(0xd7)]||'0'),_0x17f708=_0x486b14['XuhwE'](parseInt,process[_0x1a2f58(0xc7)]['BROWSERSTACK_TOTAL_NODE_COUNT']||'1'),_0x329b70=process[_0x1a2f58(0xc7)][_0x1a2f58(0xf1)],_0x5dd8e8={'nodeIndex':_0x5e84c3,'totalNodes':_0x17f708,'projectName':this[_0x1a2f58(0xbd)][_0x1a2f58(0xc0)],'buildName':this[_0x1a2f58(0xbd)][_0x1a2f58(0xf8)],'buildRunIdentifier':_0x329b70,'orchestrationStrategy':_0x46bdf1,'hostInfo':this['_getHostInfo'](),'tests':_0x1f5069[_0x1a2f58(0xda)](_0x3f8aaf=>({'filePath':_0x3f8aaf}))},_0x48cb5d=await RequestUtils[_0x1a2f58(0xd4)](_0x5dd8e8);return logger['debug'](_0x1a2f58(0xc3)+JSON['stringify'](_0x48cb5d)),this[_0x1a2f58(0xd9)]+=0x1,this[_0x1a2f58(0xdb)](_0x48cb5d['body']||{});}catch(_0x1a2de3){return logger[_0x1a2f58(0xf0)](_0x1a2f58(0xcf)+(_0x1a2de3[_0x1a2f58(0xc4)]||_0x1a2de3['toString']())),null;}}async[a137_0x21f29e(0xd2)](_0x323bc7){const _0x2f1d3a=a137_0x21f29e,_0x320bdc={};_0x320bdc[_0x2f1d3a(0xf4)]='[getOrderedTestFiles]\x20Fetching\x20ordered\x20test\x20files',_0x320bdc[_0x2f1d3a(0xe6)]=function(_0x41c1a2,_0x383dd9){return _0x41c1a2*_0x383dd9;},_0x320bdc[_0x2f1d3a(0xdf)]=function(_0x26876a,_0x191dcd){return _0x26876a&&_0x191dcd;},_0x320bdc[_0x2f1d3a(0xc5)]=function(_0x7eef03,_0x46289b){return _0x7eef03<_0x46289b;},_0x320bdc[_0x2f1d3a(0xf7)]=function(_0x1a216f,_0x2f7019){return _0x1a216f-_0x2f7019;},_0x320bdc[_0x2f1d3a(0xde)]='[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20timeout\x20URL',_0x320bdc[_0x2f1d3a(0xd1)]=function(_0x523686,_0x23d726){return _0x523686>_0x23d726;};const _0xfefcde=_0x320bdc;if(!_0x323bc7)return null;try{logger[_0x2f1d3a(0xf0)](_0xfefcde[_0x2f1d3a(0xf4)]);const _0x2d14b6=_0x323bc7['timeoutInterval']||this[_0x2f1d3a(0xec)],_0x56df4d=_0xfefcde[_0x2f1d3a(0xe6)](_0x323bc7[_0x2f1d3a(0xc2)]||this[_0x2f1d3a(0xf6)],0x3e8),_0x3569a0=_0x323bc7[_0x2f1d3a(0xb8)],_0x153817=_0x323bc7[_0x2f1d3a(0xc8)];if(_0xfefcde[_0x2f1d3a(0xdf)](!_0x153817,!_0x3569a0))return null;let _0x2df3=null;const _0x2f1947=Date[_0x2f1d3a(0xe4)]();while(_0x153817&&_0xfefcde[_0x2f1d3a(0xc5)](_0xfefcde[_0x2f1d3a(0xf7)](Date[_0x2f1d3a(0xe4)](),_0x2f1947),_0x56df4d)){logger['debug'](_0x2f1d3a(0xbc)+_0x153817);const _0x513926=await RequestUtils[_0x2f1d3a(0xbb)](_0x153817);logger[_0x2f1d3a(0xf0)](_0x2f1d3a(0xc1)+JSON[_0x2f1d3a(0xe1)](_0x513926)),this['splitTestsAPICallCount']+=0x1;if(_0x513926&&_0x513926[_0x2f1d3a(0xbe)]){_0x2df3=_0x513926[_0x2f1d3a(0xbe)];break;}await new Promise(_0x5ea1c2=>setTimeout(_0x5ea1c2,_0x2d14b6*0x3e8)),logger['debug'](_0x2f1d3a(0xee)+_0x2d14b6+_0x2f1d3a(0xc6));}if(_0xfefcde[_0x2f1d3a(0xdf)](!_0x2df3,_0x3569a0)){logger[_0x2f1d3a(0xf0)](_0xfefcde['MpboN']);const _0x3cc87c=await RequestUtils[_0x2f1d3a(0xbb)](_0x3569a0);_0x3cc87c&&_0x3cc87c[_0x2f1d3a(0xbe)]&&(_0x2df3=_0x3cc87c[_0x2f1d3a(0xbe)]);}if(_0x2df3&&_0xfefcde[_0x2f1d3a(0xd1)](_0x2df3[_0x2f1d3a(0xcb)],0x0))return _0x2df3[_0x2f1d3a(0xda)](_0x34137e=>_0x34137e['filePath']);return null;}catch(_0x566e80){return logger[_0x2f1d3a(0xf0)]('[getOrderedTestFiles]\x20Exception\x20in\x20fetching\x20ordered\x20test\x20files:\x20'+(_0x566e80['stack']||_0x566e80[_0x2f1d3a(0xe7)]())),null;}}[a137_0x21f29e(0xe2)](){const _0x4eeed6=a137_0x21f29e,_0x1f1d9f={'sLdWR':function(_0x54ce4c,_0x4ee4b3){return _0x54ce4c(_0x4ee4b3);}},_0x3b7061=_0x1f1d9f[_0x4eeed6(0xcc)](require,'os');try{return{'hostname':_0x3b7061[_0x4eeed6(0xeb)](),'platform':_0x3b7061[_0x4eeed6(0xba)](),'release':_0x3b7061[_0x4eeed6(0xf5)](),'arch':_0x3b7061[_0x4eeed6(0xc9)](),'totalmem':_0x3b7061[_0x4eeed6(0xce)](),'freemem':_0x3b7061[_0x4eeed6(0xcd)]()};}catch(_0x57d660){return{};}}}module[a137_0x21f29e(0xf3)]=TestOrderingServerHandler;