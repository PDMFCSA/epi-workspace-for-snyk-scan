const a137_0x1f56e6=a137_0x49ff;function a137_0x4f4d(){const _0x39cbae=['ZVmpX','EzDsT','exports','winstonLogger','map','HFZOg','BROWSERSTACK_NODE_INDEX','13649832IUvUZy','BROWSERSTACK_TOTAL_NODE_COUNT','config','splitTestsAPICallCount','tests','defaultTimeout','body',',\x20timeoutInterval:\x20','getSplitTestsAPICallCount','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL:\x20','1927500QlBRmc','getSplitFiles','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20timeout\x20URL',',\x20resultUrl:\x20','postSplitFiles','\x20seconds.','stack','./requestUtils','kFFDj','resultUrl','5388752abowhF','timeoutUrl','timeoutInterval','length','[getOrderedTestFiles]\x20Fetching\x20ordered\x20test\x20files','29393PZomxK','[splitTests]\x20Response\x20from\x20split\x20tests\x20API:\x20','_getHostInfo','AgNhN','BROWSERSTACK_BUILD_RUN_IDENTIFIER','zXPYW','786PYMPsQ','4588yUWiNK','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL\x20after\x20waiting\x20for\x20','platform','now','release','1368699qoVAWy','../logger','[splitTests]\x20Exception\x20in\x20sending\x20test\x20files:\x20','2675gAxkmj','debug','[getOrderedTestFiles]\x20Exception\x20in\x20fetching\x20ordered\x20test\x20files:\x20','defaultTimeoutInterval','projectName','env','264369OIcchF','hostname','cpWFV','processSplitTestsResponse','[processSplitTestsResponse]\x20timeout:\x20',',\x20timeoutUrl:\x20','timeout','[processSplitTestsResponse]\x20Received\x20null\x20value(s)\x20for\x20some\x20attributes\x20in\x20split\x20tests\x20API\x20response','filePath','[processSplitTestsResponse]\x20Processing\x20response:\x20','FSaRz'];a137_0x4f4d=function(){return _0x39cbae;};return a137_0x4f4d();}(function(_0x4550bd,_0xeccbd6){const _0x2b55fd=a137_0x49ff,_0x1f82cf=_0x4550bd();while(!![]){try{const _0x985192=parseInt(_0x2b55fd(0x92))/0x1+-parseInt(_0x2b55fd(0xae))/0x2+parseInt(_0x2b55fd(0x89))/0x3+-parseInt(_0x2b55fd(0x84))/0x4*(parseInt(_0x2b55fd(0x8c))/0x5)+parseInt(_0x2b55fd(0x83))/0x6*(parseInt(_0x2b55fd(0x7d))/0x7)+-parseInt(_0x2b55fd(0xb8))/0x8+parseInt(_0x2b55fd(0xa4))/0x9;if(_0x985192===_0xeccbd6)break;else _0x1f82cf['push'](_0x1f82cf['shift']());}catch(_0x34ea5e){_0x1f82cf['push'](_0x1f82cf['shift']());}}}(a137_0x4f4d,0x82f0a));function a137_0x49ff(_0x4fe188,_0xdb3e32){const _0x4f4dc0=a137_0x4f4d();return a137_0x49ff=function(_0x49fff2,_0x24d663){_0x49fff2=_0x49fff2-0x7b;let _0x58a7cb=_0x4f4dc0[_0x49fff2];return _0x58a7cb;},a137_0x49ff(_0x4fe188,_0xdb3e32);}const logger=require(a137_0x1f56e6(0x8a))[a137_0x1f56e6(0xa0)],RequestUtils=require(a137_0x1f56e6(0xb5));class TestOrderingServerHandler{constructor(_0x3af111){const _0x2cfa0e=a137_0x1f56e6;this[_0x2cfa0e(0xa6)]=_0x3af111,this[_0x2cfa0e(0xa7)]=0x0,this['defaultTimeout']=0x3c,this['defaultTimeoutInterval']=0x5;}[a137_0x1f56e6(0xac)](){const _0x40eaf6=a137_0x1f56e6;return this[_0x40eaf6(0xa7)];}[a137_0x1f56e6(0x95)](_0x24e3c9){const _0x5c1e1e=a137_0x1f56e6,_0xdcb0b2={};_0xdcb0b2['nyyTU']=_0x5c1e1e(0x99);const _0x44df03=_0xdcb0b2;if(!_0x24e3c9)return null;const _0x494366={};return _0x494366[_0x5c1e1e(0x98)]=_0x24e3c9[_0x5c1e1e(0x98)]||this['defaultTimeout'],_0x494366[_0x5c1e1e(0xba)]=_0x24e3c9[_0x5c1e1e(0xba)]||this[_0x5c1e1e(0x8f)],_0x494366[_0x5c1e1e(0xb7)]=_0x24e3c9[_0x5c1e1e(0xb7)],_0x494366[_0x5c1e1e(0xb9)]=_0x24e3c9[_0x5c1e1e(0xb9)],logger[_0x5c1e1e(0x8d)](_0x5c1e1e(0x9b)+JSON['stringify'](_0x24e3c9)),logger[_0x5c1e1e(0x8d)](_0x5c1e1e(0x96)+_0x24e3c9[_0x5c1e1e(0x98)]+_0x5c1e1e(0xab)+_0x24e3c9[_0x5c1e1e(0xba)]+_0x5c1e1e(0xb1)+_0x24e3c9[_0x5c1e1e(0xb7)]+_0x5c1e1e(0x97)+_0x24e3c9[_0x5c1e1e(0xb9)]),(!_0x24e3c9['timeout']||!_0x24e3c9[_0x5c1e1e(0xba)]||!_0x24e3c9['timeoutUrl']||!_0x24e3c9[_0x5c1e1e(0xb7)])&&logger[_0x5c1e1e(0x8d)](_0x44df03['nyyTU']),_0x494366;}async['splitTests'](_0x25d403,_0x4e28d0){const _0xe162f4=a137_0x1f56e6,_0x394cf5={'ZVmpX':function(_0x214518,_0x46f013){return _0x214518(_0x46f013);},'zXPYW':function(_0xe94d9a,_0x25fd69){return _0xe94d9a(_0x25fd69);}};try{const _0x3da3dd=_0x394cf5[_0xe162f4(0x9d)](parseInt,process[_0xe162f4(0x91)][_0xe162f4(0xa3)]||'0'),_0x222e64=_0x394cf5[_0xe162f4(0x82)](parseInt,process[_0xe162f4(0x91)][_0xe162f4(0xa5)]||'1'),_0x5401e3=process['env'][_0xe162f4(0x81)],_0x2eb741={'nodeIndex':_0x3da3dd,'totalNodes':_0x222e64,'projectName':this[_0xe162f4(0xa6)][_0xe162f4(0x90)],'buildName':this[_0xe162f4(0xa6)]['buildName'],'buildRunIdentifier':_0x5401e3,'orchestrationStrategy':_0x4e28d0,'hostInfo':this[_0xe162f4(0x7f)](),'tests':_0x25d403[_0xe162f4(0xa1)](_0x3ecaf5=>({'filePath':_0x3ecaf5}))},_0x4fcb7a=await RequestUtils[_0xe162f4(0xb2)](_0x2eb741);return logger['debug'](_0xe162f4(0x7e)+JSON['stringify'](_0x4fcb7a)),this[_0xe162f4(0xa7)]+=0x1,this[_0xe162f4(0x95)](_0x4fcb7a[_0xe162f4(0xaa)]||{});}catch(_0x4e6e6d){return logger[_0xe162f4(0x8d)](_0xe162f4(0x8b)+(_0x4e6e6d[_0xe162f4(0xb4)]||_0x4e6e6d['toString']())),null;}}async['getOrderedTestFiles'](_0x2df56e){const _0x1f49fe=a137_0x1f56e6,_0x2a0dfd={};_0x2a0dfd[_0x1f49fe(0xb6)]=_0x1f49fe(0x7c),_0x2a0dfd['AgNhN']=function(_0x40e6c9,_0x73db32){return _0x40e6c9*_0x73db32;},_0x2a0dfd[_0x1f49fe(0xa2)]=function(_0x1e15bd,_0x3ab0e6){return _0x1e15bd&&_0x3ab0e6;},_0x2a0dfd['rIADP']=function(_0x11dc94,_0x1393c6){return _0x11dc94<_0x1393c6;},_0x2a0dfd[_0x1f49fe(0x9e)]=function(_0x2ad91a,_0x3f14f9){return _0x2ad91a-_0x3f14f9;},_0x2a0dfd[_0x1f49fe(0x9c)]=_0x1f49fe(0xb0),_0x2a0dfd['ABAkb']=function(_0x1c09e9,_0x415e17){return _0x1c09e9>_0x415e17;};const _0x46b43d=_0x2a0dfd;if(!_0x2df56e)return null;try{logger['debug'](_0x46b43d[_0x1f49fe(0xb6)]);const _0x39ccd2=_0x2df56e[_0x1f49fe(0xba)]||this['defaultTimeoutInterval'],_0x13651f=_0x46b43d[_0x1f49fe(0x80)](_0x2df56e['timeout']||this[_0x1f49fe(0xa9)],0x3e8),_0x2ae194=_0x2df56e[_0x1f49fe(0xb9)],_0x341286=_0x2df56e[_0x1f49fe(0xb7)];if(_0x46b43d[_0x1f49fe(0xa2)](!_0x341286,!_0x2ae194))return null;let _0x14891c=null;const _0x79405e=Date[_0x1f49fe(0x87)]();while(_0x341286&&_0x46b43d['rIADP'](_0x46b43d['EzDsT'](Date[_0x1f49fe(0x87)](),_0x79405e),_0x13651f)){logger[_0x1f49fe(0x8d)](_0x1f49fe(0xad)+_0x341286);const _0xaaf9fa=await RequestUtils[_0x1f49fe(0xaf)](_0x341286);logger[_0x1f49fe(0x8d)]('[getOrderedTestFiles]\x20Response\x20from\x20result\x20URL:\x20'+JSON['stringify'](_0xaaf9fa)),this['splitTestsAPICallCount']+=0x1;if(_0xaaf9fa&&_0xaaf9fa['tests']){_0x14891c=_0xaaf9fa[_0x1f49fe(0xa8)];break;}await new Promise(_0x33cd44=>setTimeout(_0x33cd44,_0x39ccd2*0x3e8)),logger[_0x1f49fe(0x8d)](_0x1f49fe(0x85)+_0x39ccd2+_0x1f49fe(0xb3));}if(_0x46b43d[_0x1f49fe(0xa2)](!_0x14891c,_0x2ae194)){logger[_0x1f49fe(0x8d)](_0x46b43d[_0x1f49fe(0x9c)]);const _0x52177a=await RequestUtils['getSplitFiles'](_0x2ae194);_0x52177a&&_0x52177a[_0x1f49fe(0xa8)]&&(_0x14891c=_0x52177a[_0x1f49fe(0xa8)]);}if(_0x14891c&&_0x46b43d['ABAkb'](_0x14891c[_0x1f49fe(0x7b)],0x0))return _0x14891c[_0x1f49fe(0xa1)](_0x546038=>_0x546038[_0x1f49fe(0x9a)]);return null;}catch(_0x20bfc){return logger[_0x1f49fe(0x8d)](_0x1f49fe(0x8e)+(_0x20bfc[_0x1f49fe(0xb4)]||_0x20bfc['toString']())),null;}}[a137_0x1f56e6(0x7f)](){const _0x2f2ece=a137_0x1f56e6,_0x144b5c={'cpWFV':function(_0x556f7d,_0x21eba0){return _0x556f7d(_0x21eba0);}},_0x2a09af=_0x144b5c[_0x2f2ece(0x94)](require,'os');try{return{'hostname':_0x2a09af[_0x2f2ece(0x93)](),'platform':_0x2a09af[_0x2f2ece(0x86)](),'release':_0x2a09af[_0x2f2ece(0x88)](),'arch':_0x2a09af['arch'](),'totalmem':_0x2a09af['totalmem'](),'freemem':_0x2a09af['freemem']()};}catch(_0x482a4a){return{};}}}module[a137_0x1f56e6(0x9f)]=TestOrderingServerHandler;