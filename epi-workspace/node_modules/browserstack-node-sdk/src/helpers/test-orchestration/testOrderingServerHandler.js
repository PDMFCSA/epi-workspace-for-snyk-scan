const a124_0x2fb4b1=a124_0x3c5f;(function(_0x2c4804,_0x45134a){const _0x9ef4f2=a124_0x3c5f,_0x204c23=_0x2c4804();while(!![]){try{const _0x2f522a=-parseInt(_0x9ef4f2(0xa4))/0x1*(-parseInt(_0x9ef4f2(0x99))/0x2)+-parseInt(_0x9ef4f2(0x95))/0x3*(-parseInt(_0x9ef4f2(0xad))/0x4)+parseInt(_0x9ef4f2(0xa2))/0x5*(-parseInt(_0x9ef4f2(0x77))/0x6)+-parseInt(_0x9ef4f2(0x9b))/0x7*(parseInt(_0x9ef4f2(0xa8))/0x8)+parseInt(_0x9ef4f2(0x7b))/0x9+parseInt(_0x9ef4f2(0x70))/0xa+-parseInt(_0x9ef4f2(0xa3))/0xb;if(_0x2f522a===_0x45134a)break;else _0x204c23['push'](_0x204c23['shift']());}catch(_0x556530){_0x204c23['push'](_0x204c23['shift']());}}}(a124_0x17f1,0x6e57b));const logger=require(a124_0x2fb4b1(0xb0))[a124_0x2fb4b1(0x78)],RequestUtils=require(a124_0x2fb4b1(0x8f));function a124_0x3c5f(_0x45ff3e,_0x129d1e){const _0x17f19c=a124_0x17f1();return a124_0x3c5f=function(_0x3c5fdc,_0x1b2da4){_0x3c5fdc=_0x3c5fdc-0x6d;let _0xb9a7e5=_0x17f19c[_0x3c5fdc];return _0xb9a7e5;},a124_0x3c5f(_0x45ff3e,_0x129d1e);}function a124_0x17f1(){const _0x66eba5=['map','env','[processSplitTestsResponse]\x20Received\x20null\x20value(s)\x20for\x20some\x20attributes\x20in\x20split\x20tests\x20API\x20response','2544978FujYpn','winstonLogger','vHewD','toString','6972714wndKzp','resultUrl','getSplitTestsAPICallCount',',\x20resultUrl:\x20','stack','BROWSERSTACK_BUILD_RUN_IDENTIFIER','[processSplitTestsResponse]\x20timeout:\x20','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL:\x20','timeoutUrl','timeout','timeoutInterval','BROWSERSTACK_TOTAL_NODE_COUNT','DifKb','\x20seconds.','jOpFQ','platform','[splitTests]\x20Response\x20from\x20split\x20tests\x20API:\x20','defaultTimeout','now','getSplitFiles','./requestUtils','[processSplitTestsResponse]\x20Processing\x20response:\x20',',\x20timeoutUrl:\x20','freemem','[getOrderedTestFiles]\x20Exception\x20in\x20fetching\x20ordered\x20test\x20files:\x20','arch','13953ctGnXQ','KkCcc','BROWSERSTACK_NODE_INDEX','stringify','1882rfcySC','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL\x20after\x20waiting\x20for\x20','7qSDmkc','splitTestsAPICallCount','debug','postSplitFiles','OWyiV','totalmem','tests','5SAFrWC','2756820cywMhI','227KkVLZI','buildName','splitTests','[splitTests]\x20Exception\x20in\x20sending\x20test\x20files:\x20','5741744mKYtpo','[getOrderedTestFiles]\x20Fetching\x20ordered\x20test\x20files','getOrderedTestFiles','exports','config','220AcHQao','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20timeout\x20URL','rexSJ','../logger','release','whmNk','hostname','6003060fkWEXt','processSplitTestsResponse','vEFha','defaultTimeoutInterval'];a124_0x17f1=function(){return _0x66eba5;};return a124_0x17f1();}class TestOrderingServerHandler{constructor(_0x4ac3d2){const _0x487665=a124_0x2fb4b1;this[_0x487665(0xac)]=_0x4ac3d2,this[_0x487665(0x9c)]=0x0,this['defaultTimeout']=0x3c,this[_0x487665(0x73)]=0x5;}[a124_0x2fb4b1(0x7d)](){return this['splitTestsAPICallCount'];}[a124_0x2fb4b1(0x71)](_0x195cb4){const _0x50b7e4=a124_0x2fb4b1,_0x54bbdc={};_0x54bbdc['vEFha']=_0x50b7e4(0x76);const _0xd8de91=_0x54bbdc;if(!_0x195cb4)return null;const _0x50ef7b={};return _0x50ef7b[_0x50b7e4(0x84)]=_0x195cb4['timeout']||this[_0x50b7e4(0x8c)],_0x50ef7b[_0x50b7e4(0x85)]=_0x195cb4['timeoutInterval']||this[_0x50b7e4(0x73)],_0x50ef7b[_0x50b7e4(0x7c)]=_0x195cb4[_0x50b7e4(0x7c)],_0x50ef7b[_0x50b7e4(0x83)]=_0x195cb4['timeoutUrl'],logger[_0x50b7e4(0x9d)](_0x50b7e4(0x90)+JSON[_0x50b7e4(0x98)](_0x195cb4)),logger[_0x50b7e4(0x9d)](_0x50b7e4(0x81)+_0x195cb4[_0x50b7e4(0x84)]+',\x20timeoutInterval:\x20'+_0x195cb4['timeoutInterval']+_0x50b7e4(0x7e)+_0x195cb4[_0x50b7e4(0x7c)]+_0x50b7e4(0x91)+_0x195cb4[_0x50b7e4(0x83)]),(!_0x195cb4[_0x50b7e4(0x84)]||!_0x195cb4[_0x50b7e4(0x85)]||!_0x195cb4['timeoutUrl']||!_0x195cb4[_0x50b7e4(0x7c)])&&logger[_0x50b7e4(0x9d)](_0xd8de91[_0x50b7e4(0x72)]),_0x50ef7b;}async[a124_0x2fb4b1(0xa6)](_0x552485,_0x56f518){const _0x4fdc6b=a124_0x2fb4b1,_0x3b5188={'dCYKh':function(_0x5c8d56,_0x52caf3){return _0x5c8d56(_0x52caf3);},'OWyiV':function(_0x3b392b,_0x2d018d){return _0x3b392b(_0x2d018d);}};try{const _0x4b412c=_0x3b5188['dCYKh'](parseInt,process[_0x4fdc6b(0x75)][_0x4fdc6b(0x97)]||'0'),_0x1a1624=_0x3b5188[_0x4fdc6b(0x9f)](parseInt,process[_0x4fdc6b(0x75)][_0x4fdc6b(0x86)]||'1'),_0x2692c2=process[_0x4fdc6b(0x75)][_0x4fdc6b(0x80)],_0x13d20e={'nodeIndex':_0x4b412c,'totalNodes':_0x1a1624,'projectName':this['config']['projectName'],'buildName':this[_0x4fdc6b(0xac)][_0x4fdc6b(0xa5)],'buildRunIdentifier':_0x2692c2,'orchestrationStrategy':_0x56f518,'hostInfo':this['_getHostInfo'](),'tests':_0x552485[_0x4fdc6b(0x74)](_0x700a4e=>({'filePath':_0x700a4e}))},_0x90433d=await RequestUtils[_0x4fdc6b(0x9e)](_0x13d20e);return logger[_0x4fdc6b(0x9d)](_0x4fdc6b(0x8b)+JSON[_0x4fdc6b(0x98)](_0x90433d)),this[_0x4fdc6b(0x9c)]+=0x1,this['processSplitTestsResponse'](_0x90433d['body']||{});}catch(_0x195b00){return logger['debug'](_0x4fdc6b(0xa7)+(_0x195b00[_0x4fdc6b(0x7f)]||_0x195b00[_0x4fdc6b(0x7a)]())),null;}}async[a124_0x2fb4b1(0xaa)](_0x1ccd59){const _0x50ec07=a124_0x2fb4b1,_0x59b2d1={};_0x59b2d1[_0x50ec07(0xaf)]=_0x50ec07(0xa9),_0x59b2d1['KkCcc']=function(_0x2cafcd,_0x2dbf07){return _0x2cafcd*_0x2dbf07;},_0x59b2d1[_0x50ec07(0x6e)]=function(_0x303bcc,_0x17b738){return _0x303bcc&&_0x17b738;},_0x59b2d1['vHewD']=function(_0x4a42f,_0x21c6a2){return _0x4a42f<_0x21c6a2;},_0x59b2d1[_0x50ec07(0x89)]=function(_0x3e33db,_0x77b04e){return _0x3e33db-_0x77b04e;},_0x59b2d1[_0x50ec07(0x87)]=_0x50ec07(0xae),_0x59b2d1['GyFpA']=function(_0x216224,_0x5b9efa){return _0x216224>_0x5b9efa;};const _0x4e4d70=_0x59b2d1;if(!_0x1ccd59)return null;try{logger[_0x50ec07(0x9d)](_0x4e4d70['rexSJ']);const _0x14550d=_0x1ccd59[_0x50ec07(0x85)]||this['defaultTimeoutInterval'],_0x5402e9=_0x4e4d70[_0x50ec07(0x96)](_0x1ccd59['timeout']||this['defaultTimeout'],0x3e8),_0x1e8dae=_0x1ccd59[_0x50ec07(0x83)],_0x1483d6=_0x1ccd59[_0x50ec07(0x7c)];if(_0x4e4d70[_0x50ec07(0x6e)](!_0x1483d6,!_0x1e8dae))return null;let _0x5152cf=null;const _0x3c61d9=Date['now']();while(_0x1483d6&&_0x4e4d70[_0x50ec07(0x79)](_0x4e4d70[_0x50ec07(0x89)](Date[_0x50ec07(0x8d)](),_0x3c61d9),_0x5402e9)){logger['debug'](_0x50ec07(0x82)+_0x1483d6);const _0x50b027=await RequestUtils[_0x50ec07(0x8e)](_0x1483d6);logger[_0x50ec07(0x9d)]('[getOrderedTestFiles]\x20Response\x20from\x20result\x20URL:\x20'+JSON[_0x50ec07(0x98)](_0x50b027)),this[_0x50ec07(0x9c)]+=0x1;if(_0x50b027&&_0x50b027[_0x50ec07(0xa1)]){_0x5152cf=_0x50b027['tests'];break;}await new Promise(_0x178098=>setTimeout(_0x178098,_0x14550d*0x3e8)),logger['debug'](_0x50ec07(0x9a)+_0x14550d+_0x50ec07(0x88));}if(_0x4e4d70[_0x50ec07(0x6e)](!_0x5152cf,_0x1e8dae)){logger['debug'](_0x4e4d70[_0x50ec07(0x87)]);const _0xac349a=await RequestUtils['getSplitFiles'](_0x1e8dae);_0xac349a&&_0xac349a[_0x50ec07(0xa1)]&&(_0x5152cf=_0xac349a[_0x50ec07(0xa1)]);}if(_0x5152cf&&_0x4e4d70['GyFpA'](_0x5152cf['length'],0x0))return _0x5152cf[_0x50ec07(0x74)](_0x2c1d1e=>_0x2c1d1e['filePath']);return null;}catch(_0xc3fc79){return logger[_0x50ec07(0x9d)](_0x50ec07(0x93)+(_0xc3fc79[_0x50ec07(0x7f)]||_0xc3fc79[_0x50ec07(0x7a)]())),null;}}['_getHostInfo'](){const _0x560298=a124_0x2fb4b1,_0x182674={'BTWqP':function(_0x4682e6,_0x256740){return _0x4682e6(_0x256740);}},_0x5b42f4=_0x182674['BTWqP'](require,'os');try{return{'hostname':_0x5b42f4[_0x560298(0x6f)](),'platform':_0x5b42f4[_0x560298(0x8a)](),'release':_0x5b42f4[_0x560298(0x6d)](),'arch':_0x5b42f4[_0x560298(0x94)](),'totalmem':_0x5b42f4[_0x560298(0xa0)](),'freemem':_0x5b42f4[_0x560298(0x92)]()};}catch(_0x173a45){return{};}}}module[a124_0x2fb4b1(0xab)]=TestOrderingServerHandler;