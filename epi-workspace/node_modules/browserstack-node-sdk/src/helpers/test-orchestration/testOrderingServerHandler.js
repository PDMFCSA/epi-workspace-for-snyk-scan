const a124_0x25a61f=a124_0x1e45;function a124_0x1e45(_0x45f9f2,_0x2ea0a1){const _0x23a21a=a124_0x23a2();return a124_0x1e45=function(_0x1e4590,_0x5d3a92){_0x1e4590=_0x1e4590-0xfc;let _0x3aa836=_0x23a21a[_0x1e4590];return _0x3aa836;},a124_0x1e45(_0x45f9f2,_0x2ea0a1);}(function(_0x45a740,_0x4852dc){const _0x31b4c5=a124_0x1e45,_0x4fe99c=_0x45a740();while(!![]){try{const _0x15167d=parseInt(_0x31b4c5(0x102))/0x1*(parseInt(_0x31b4c5(0x10b))/0x2)+parseInt(_0x31b4c5(0xfd))/0x3+-parseInt(_0x31b4c5(0x109))/0x4*(parseInt(_0x31b4c5(0x12f))/0x5)+-parseInt(_0x31b4c5(0x113))/0x6*(-parseInt(_0x31b4c5(0x131))/0x7)+-parseInt(_0x31b4c5(0x10d))/0x8*(parseInt(_0x31b4c5(0x123))/0x9)+-parseInt(_0x31b4c5(0x132))/0xa*(parseInt(_0x31b4c5(0x116))/0xb)+-parseInt(_0x31b4c5(0x128))/0xc;if(_0x15167d===_0x4852dc)break;else _0x4fe99c['push'](_0x4fe99c['shift']());}catch(_0x3b6564){_0x4fe99c['push'](_0x4fe99c['shift']());}}}(a124_0x23a2,0x4a6c7));const logger=require(a124_0x25a61f(0x11b))['winstonLogger'],RequestUtils=require(a124_0x25a61f(0x106));function a124_0x23a2(){const _0x153e0c=['[processSplitTestsResponse]\x20timeout:\x20','NMKtT','[getOrderedTestFiles]\x20Response\x20from\x20result\x20URL:\x20','hostname','defaultTimeout','_getHostInfo','9QOuYpF','[getOrderedTestFiles]\x20Fetching\x20ordered\x20test\x20files','arch','toString','platform','1759404csRkRR','freemem','LJVil','VkIxx','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL:\x20','stack','postSplitFiles','342745ZtqJhO',',\x20timeoutUrl:\x20','939533PKvnnF','50ZTlhhz','map','processSplitTestsResponse','xSSlZ','[processSplitTestsResponse]\x20Received\x20null\x20value(s)\x20for\x20some\x20attributes\x20in\x20split\x20tests\x20API\x20response','uyXla','config','\x20seconds.',',\x20timeoutInterval:\x20','timeoutUrl','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20timeout\x20URL','EjReZ','884028QLiAiw','[getOrderedTestFiles]\x20Exception\x20in\x20fetching\x20ordered\x20test\x20files:\x20','NmSUj','timeoutInterval','stringify','593259CauZII','now',',\x20resultUrl:\x20','[splitTests]\x20Response\x20from\x20split\x20tests\x20API:\x20','./requestUtils','env','exports','24wGvTVs','BpnPL','2JyOMke','getSplitTestsAPICallCount','1198592TViwaA','release','DWWxm','tests','body','[splitTests]\x20Exception\x20in\x20sending\x20test\x20files:\x20','6lNhWaz','BROWSERSTACK_TOTAL_NODE_COUNT','BROWSERSTACK_BUILD_RUN_IDENTIFIER','21076eOVlSF','resultUrl','timeout','eeFTp','splitTestsAPICallCount','../logger','debug'];a124_0x23a2=function(){return _0x153e0c;};return a124_0x23a2();}class TestOrderingServerHandler{constructor(_0xdffa5e){const _0x2ca358=a124_0x25a61f;this[_0x2ca358(0x138)]=_0xdffa5e,this[_0x2ca358(0x11a)]=0x0,this[_0x2ca358(0x121)]=0x3c,this['defaultTimeoutInterval']=0x5;}[a124_0x25a61f(0x10c)](){const _0x39f728=a124_0x25a61f;return this[_0x39f728(0x11a)];}['processSplitTestsResponse'](_0x41abd3){const _0xddb304=a124_0x25a61f,_0x491c57={};_0x491c57[_0xddb304(0x12a)]=_0xddb304(0x136);const _0x2b520a=_0x491c57;if(!_0x41abd3)return null;const _0x1f6960={};return _0x1f6960['timeout']=_0x41abd3[_0xddb304(0x118)]||this[_0xddb304(0x121)],_0x1f6960[_0xddb304(0x100)]=_0x41abd3['timeoutInterval']||this['defaultTimeoutInterval'],_0x1f6960[_0xddb304(0x117)]=_0x41abd3[_0xddb304(0x117)],_0x1f6960[_0xddb304(0x13b)]=_0x41abd3['timeoutUrl'],logger[_0xddb304(0x11c)]('[processSplitTestsResponse]\x20Processing\x20response:\x20'+JSON['stringify'](_0x41abd3)),logger['debug'](_0xddb304(0x11d)+_0x41abd3[_0xddb304(0x118)]+_0xddb304(0x13a)+_0x41abd3[_0xddb304(0x100)]+_0xddb304(0x104)+_0x41abd3['resultUrl']+_0xddb304(0x130)+_0x41abd3[_0xddb304(0x13b)]),(!_0x41abd3[_0xddb304(0x118)]||!_0x41abd3[_0xddb304(0x100)]||!_0x41abd3[_0xddb304(0x13b)]||!_0x41abd3[_0xddb304(0x117)])&&logger[_0xddb304(0x11c)](_0x2b520a[_0xddb304(0x12a)]),_0x1f6960;}async['splitTests'](_0x4ad7f1,_0x2dbbef){const _0x83686e=a124_0x25a61f,_0x3e17f5={'NmSUj':function(_0x2f126d,_0x4e4b9a){return _0x2f126d(_0x4e4b9a);}};try{const _0x517491=_0x3e17f5[_0x83686e(0xff)](parseInt,process[_0x83686e(0x107)]['BROWSERSTACK_NODE_INDEX']||'0'),_0x267acd=_0x3e17f5['NmSUj'](parseInt,process[_0x83686e(0x107)][_0x83686e(0x114)]||'1'),_0x306593=process[_0x83686e(0x107)][_0x83686e(0x115)],_0x4ae01f={'nodeIndex':_0x517491,'totalNodes':_0x267acd,'projectName':this[_0x83686e(0x138)]['projectName'],'buildName':this[_0x83686e(0x138)]['buildName'],'buildRunIdentifier':_0x306593,'orchestrationStrategy':_0x2dbbef,'hostInfo':this[_0x83686e(0x122)](),'tests':_0x4ad7f1[_0x83686e(0x133)](_0x4a5a47=>({'filePath':_0x4a5a47}))},_0x164598=await RequestUtils[_0x83686e(0x12e)](_0x4ae01f);return logger['debug'](_0x83686e(0x105)+JSON[_0x83686e(0x101)](_0x164598)),this['splitTestsAPICallCount']+=0x1,this[_0x83686e(0x134)](_0x164598[_0x83686e(0x111)]||{});}catch(_0x3b4976){return logger[_0x83686e(0x11c)](_0x83686e(0x112)+(_0x3b4976[_0x83686e(0x12d)]||_0x3b4976[_0x83686e(0x126)]())),null;}}async['getOrderedTestFiles'](_0x167f80){const _0x51c6c2=a124_0x25a61f,_0x2fe680={};_0x2fe680['xSSlZ']=_0x51c6c2(0x124),_0x2fe680[_0x51c6c2(0x11e)]=function(_0x491040,_0x3b5649){return _0x491040*_0x3b5649;},_0x2fe680[_0x51c6c2(0x10a)]=function(_0x70b508,_0x28d123){return _0x70b508&&_0x28d123;},_0x2fe680[_0x51c6c2(0x137)]=function(_0x1a6814,_0x3adf14){return _0x1a6814<_0x3adf14;},_0x2fe680[_0x51c6c2(0x10f)]=function(_0x72606c,_0x1b7734){return _0x72606c-_0x1b7734;},_0x2fe680[_0x51c6c2(0x119)]=_0x51c6c2(0x13c),_0x2fe680[_0x51c6c2(0x12b)]=function(_0x14495f,_0x45e69a){return _0x14495f>_0x45e69a;};const _0x1801c1=_0x2fe680;if(!_0x167f80)return null;try{logger[_0x51c6c2(0x11c)](_0x1801c1[_0x51c6c2(0x135)]);const _0x2a1d53=_0x167f80[_0x51c6c2(0x100)]||this['defaultTimeoutInterval'],_0x27d9ee=_0x1801c1[_0x51c6c2(0x11e)](_0x167f80[_0x51c6c2(0x118)]||this[_0x51c6c2(0x121)],0x3e8),_0x22e86b=_0x167f80[_0x51c6c2(0x13b)],_0x4c7e25=_0x167f80[_0x51c6c2(0x117)];if(_0x1801c1[_0x51c6c2(0x10a)](!_0x4c7e25,!_0x22e86b))return null;let _0x5357fe=null;const _0x599f92=Date[_0x51c6c2(0x103)]();while(_0x4c7e25&&_0x1801c1[_0x51c6c2(0x137)](_0x1801c1[_0x51c6c2(0x10f)](Date[_0x51c6c2(0x103)](),_0x599f92),_0x27d9ee)){logger[_0x51c6c2(0x11c)](_0x51c6c2(0x12c)+_0x4c7e25);const _0x256e29=await RequestUtils['getSplitFiles'](_0x4c7e25);logger['debug'](_0x51c6c2(0x11f)+JSON[_0x51c6c2(0x101)](_0x256e29)),this['splitTestsAPICallCount']+=0x1;if(_0x256e29&&_0x256e29[_0x51c6c2(0x110)]){_0x5357fe=_0x256e29[_0x51c6c2(0x110)];break;}await new Promise(_0x1ef3a9=>setTimeout(_0x1ef3a9,_0x2a1d53*0x3e8)),logger[_0x51c6c2(0x11c)]('[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL\x20after\x20waiting\x20for\x20'+_0x2a1d53+_0x51c6c2(0x139));}if(_0x1801c1[_0x51c6c2(0x10a)](!_0x5357fe,_0x22e86b)){logger['debug'](_0x1801c1[_0x51c6c2(0x119)]);const _0x550427=await RequestUtils['getSplitFiles'](_0x22e86b);_0x550427&&_0x550427[_0x51c6c2(0x110)]&&(_0x5357fe=_0x550427['tests']);}if(_0x5357fe&&_0x1801c1[_0x51c6c2(0x12b)](_0x5357fe['length'],0x0))return _0x5357fe[_0x51c6c2(0x133)](_0x708074=>_0x708074['filePath']);return null;}catch(_0x4f7fca){return logger[_0x51c6c2(0x11c)](_0x51c6c2(0xfe)+(_0x4f7fca['stack']||_0x4f7fca[_0x51c6c2(0x126)]())),null;}}['_getHostInfo'](){const _0xb8d526=a124_0x25a61f,_0x4bb918={'EjReZ':function(_0x49ab48,_0x3c6900){return _0x49ab48(_0x3c6900);}},_0x421129=_0x4bb918[_0xb8d526(0xfc)](require,'os');try{return{'hostname':_0x421129[_0xb8d526(0x120)](),'platform':_0x421129[_0xb8d526(0x127)](),'release':_0x421129[_0xb8d526(0x10e)](),'arch':_0x421129[_0xb8d526(0x125)](),'totalmem':_0x421129['totalmem'](),'freemem':_0x421129[_0xb8d526(0x129)]()};}catch(_0x325ca4){return{};}}}module[a124_0x25a61f(0x108)]=TestOrderingServerHandler;