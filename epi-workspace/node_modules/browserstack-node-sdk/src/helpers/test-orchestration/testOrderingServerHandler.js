const a132_0x5271d7=a132_0x1449;(function(_0x1283a4,_0x525a83){const _0x53a7b7=a132_0x1449,_0x58f1ff=_0x1283a4();while(!![]){try{const _0x594407=-parseInt(_0x53a7b7(0xb7))/0x1+parseInt(_0x53a7b7(0x87))/0x2*(-parseInt(_0x53a7b7(0x81))/0x3)+-parseInt(_0x53a7b7(0x84))/0x4+parseInt(_0x53a7b7(0xb4))/0x5+parseInt(_0x53a7b7(0x91))/0x6*(-parseInt(_0x53a7b7(0x9a))/0x7)+parseInt(_0x53a7b7(0x94))/0x8+-parseInt(_0x53a7b7(0xaf))/0x9*(-parseInt(_0x53a7b7(0xbd))/0xa);if(_0x594407===_0x525a83)break;else _0x58f1ff['push'](_0x58f1ff['shift']());}catch(_0x2526df){_0x58f1ff['push'](_0x58f1ff['shift']());}}}(a132_0x27cf,0x4a75b));function a132_0x27cf(){const _0x413a93=['[processSplitTestsResponse]\x20Received\x20null\x20value(s)\x20for\x20some\x20attributes\x20in\x20split\x20tests\x20API\x20response','BROWSERSTACK_BUILD_RUN_IDENTIFIER','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL\x20after\x20waiting\x20for\x20','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL:\x20','[splitTests]\x20Exception\x20in\x20sending\x20test\x20files:\x20','now','Osrlh','body','release','stack','308331lsvWRh','oHkXB','BROWSERSTACK_TOTAL_NODE_COUNT','khdPi','toString','172490HMjWqK','BROWSERSTACK_NODE_INDEX','uqCjM','439836AGgvrm','splitTests','[getOrderedTestFiles]\x20Response\x20from\x20result\x20URL:\x20','[processSplitTestsResponse]\x20Processing\x20response:\x20','../logger',',\x20timeoutUrl:\x20','330FJsyFH','winstonLogger','exports','splitTestsAPICallCount','vCmBL','defaultTimeout','681fcFnuF','resultUrl','length','1916932NTsnME','projectName','hostname','1492PhgIYA','./requestUtils','platform','debug','xcmkn','_getHostInfo','[splitTests]\x20Response\x20from\x20split\x20tests\x20API:\x20','BziUq','getSplitTestsAPICallCount','arch','66jzfVLS','[getOrderedTestFiles]\x20Exception\x20in\x20fetching\x20ordered\x20test\x20files:\x20','timeoutInterval','2258376HBOBQS','tests','defaultTimeoutInterval','env','Sfdzm','map','34328rqSsKx','config','getSplitFiles','timeoutUrl','timeout','freemem','postSplitFiles','stringify','SStMn','processSplitTestsResponse','EOBHz'];a132_0x27cf=function(){return _0x413a93;};return a132_0x27cf();}const logger=require(a132_0x5271d7(0xbb))[a132_0x5271d7(0xbe)],RequestUtils=require(a132_0x5271d7(0x88));class TestOrderingServerHandler{constructor(_0x94e388){const _0x5d4edc=a132_0x5271d7;this[_0x5d4edc(0x9b)]=_0x94e388,this['splitTestsAPICallCount']=0x0,this[_0x5d4edc(0x80)]=0x3c,this[_0x5d4edc(0x96)]=0x5;}[a132_0x5271d7(0x8f)](){const _0x3ee718=a132_0x5271d7;return this[_0x3ee718(0x7e)];}[a132_0x5271d7(0xa3)](_0x3d07c7){const _0x520cb8=a132_0x5271d7,_0x2403b5={};_0x2403b5['uqCjM']=_0x520cb8(0xa5);const _0x29a93d=_0x2403b5;if(!_0x3d07c7)return null;const _0x2b582b={};return _0x2b582b[_0x520cb8(0x9e)]=_0x3d07c7[_0x520cb8(0x9e)]||this[_0x520cb8(0x80)],_0x2b582b[_0x520cb8(0x93)]=_0x3d07c7[_0x520cb8(0x93)]||this[_0x520cb8(0x96)],_0x2b582b[_0x520cb8(0x82)]=_0x3d07c7[_0x520cb8(0x82)],_0x2b582b['timeoutUrl']=_0x3d07c7['timeoutUrl'],logger['debug'](_0x520cb8(0xba)+JSON['stringify'](_0x3d07c7)),logger[_0x520cb8(0x8a)]('[processSplitTestsResponse]\x20timeout:\x20'+_0x3d07c7[_0x520cb8(0x9e)]+',\x20timeoutInterval:\x20'+_0x3d07c7['timeoutInterval']+',\x20resultUrl:\x20'+_0x3d07c7[_0x520cb8(0x82)]+_0x520cb8(0xbc)+_0x3d07c7[_0x520cb8(0x9d)]),(!_0x3d07c7['timeout']||!_0x3d07c7['timeoutInterval']||!_0x3d07c7[_0x520cb8(0x9d)]||!_0x3d07c7['resultUrl'])&&logger[_0x520cb8(0x8a)](_0x29a93d[_0x520cb8(0xb6)]),_0x2b582b;}async[a132_0x5271d7(0xb8)](_0x23d686,_0x530cec){const _0x4e2fd3=a132_0x5271d7,_0x257e98={'xcmkn':function(_0x1faac9,_0x117448){return _0x1faac9(_0x117448);}};try{const _0x358526=_0x257e98[_0x4e2fd3(0x8b)](parseInt,process[_0x4e2fd3(0x97)][_0x4e2fd3(0xb5)]||'0'),_0x17acc0=_0x257e98[_0x4e2fd3(0x8b)](parseInt,process[_0x4e2fd3(0x97)][_0x4e2fd3(0xb1)]||'1'),_0x2a78e9=process[_0x4e2fd3(0x97)][_0x4e2fd3(0xa6)],_0x213429={'nodeIndex':_0x358526,'totalNodes':_0x17acc0,'projectName':this['config'][_0x4e2fd3(0x85)],'buildName':this[_0x4e2fd3(0x9b)]['buildName'],'buildRunIdentifier':_0x2a78e9,'orchestrationStrategy':_0x530cec,'hostInfo':this[_0x4e2fd3(0x8c)](),'tests':_0x23d686[_0x4e2fd3(0x99)](_0x2055a1=>({'filePath':_0x2055a1}))},_0x54cbdd=await RequestUtils[_0x4e2fd3(0xa0)](_0x213429);return logger[_0x4e2fd3(0x8a)](_0x4e2fd3(0x8d)+JSON[_0x4e2fd3(0xa1)](_0x54cbdd)),this[_0x4e2fd3(0x7e)]+=0x1,this[_0x4e2fd3(0xa3)](_0x54cbdd[_0x4e2fd3(0xac)]||{});}catch(_0x1e9003){return logger['debug'](_0x4e2fd3(0xa9)+(_0x1e9003['stack']||_0x1e9003[_0x4e2fd3(0xb3)]())),null;}}async['getOrderedTestFiles'](_0x5a3d92){const _0x152f30=a132_0x5271d7,_0x16cc73={};_0x16cc73[_0x152f30(0xb2)]='[getOrderedTestFiles]\x20Fetching\x20ordered\x20test\x20files',_0x16cc73[_0x152f30(0x7f)]=function(_0x52337a,_0x56202f){return _0x52337a*_0x56202f;},_0x16cc73['SStMn']=function(_0x57d302,_0x200ab3){return _0x57d302&&_0x200ab3;},_0x16cc73['Sfdzm']=function(_0x345d9e,_0x1dce20){return _0x345d9e<_0x1dce20;},_0x16cc73[_0x152f30(0xa4)]=function(_0x49ca76,_0x27ecdb){return _0x49ca76-_0x27ecdb;},_0x16cc73[_0x152f30(0xab)]='[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20timeout\x20URL',_0x16cc73['oHkXB']=function(_0xf413e,_0xefe217){return _0xf413e>_0xefe217;};const _0x591ea2=_0x16cc73;if(!_0x5a3d92)return null;try{logger['debug'](_0x591ea2['khdPi']);const _0x380090=_0x5a3d92[_0x152f30(0x93)]||this['defaultTimeoutInterval'],_0x11eee0=_0x591ea2['vCmBL'](_0x5a3d92['timeout']||this[_0x152f30(0x80)],0x3e8),_0x13319d=_0x5a3d92[_0x152f30(0x9d)],_0x1c422a=_0x5a3d92['resultUrl'];if(_0x591ea2[_0x152f30(0xa2)](!_0x1c422a,!_0x13319d))return null;let _0x5b482e=null;const _0x4bebac=Date[_0x152f30(0xaa)]();while(_0x1c422a&&_0x591ea2[_0x152f30(0x98)](_0x591ea2[_0x152f30(0xa4)](Date['now'](),_0x4bebac),_0x11eee0)){logger[_0x152f30(0x8a)](_0x152f30(0xa8)+_0x1c422a);const _0x29b382=await RequestUtils['getSplitFiles'](_0x1c422a);logger[_0x152f30(0x8a)](_0x152f30(0xb9)+JSON[_0x152f30(0xa1)](_0x29b382)),this['splitTestsAPICallCount']+=0x1;if(_0x29b382&&_0x29b382[_0x152f30(0x95)]){_0x5b482e=_0x29b382[_0x152f30(0x95)];break;}await new Promise(_0x4a2676=>setTimeout(_0x4a2676,_0x380090*0x3e8)),logger['debug'](_0x152f30(0xa7)+_0x380090+'\x20seconds.');}if(_0x591ea2[_0x152f30(0xa2)](!_0x5b482e,_0x13319d)){logger['debug'](_0x591ea2[_0x152f30(0xab)]);const _0x248f6f=await RequestUtils[_0x152f30(0x9c)](_0x13319d);_0x248f6f&&_0x248f6f[_0x152f30(0x95)]&&(_0x5b482e=_0x248f6f[_0x152f30(0x95)]);}if(_0x5b482e&&_0x591ea2[_0x152f30(0xb0)](_0x5b482e[_0x152f30(0x83)],0x0))return _0x5b482e[_0x152f30(0x99)](_0x332813=>_0x332813['filePath']);return null;}catch(_0x5a9ac0){return logger['debug'](_0x152f30(0x92)+(_0x5a9ac0[_0x152f30(0xae)]||_0x5a9ac0[_0x152f30(0xb3)]())),null;}}[a132_0x5271d7(0x8c)](){const _0x496ae9=a132_0x5271d7,_0xffe5fa={'BziUq':function(_0x44db7c,_0x3b7614){return _0x44db7c(_0x3b7614);}},_0x205a75=_0xffe5fa[_0x496ae9(0x8e)](require,'os');try{return{'hostname':_0x205a75[_0x496ae9(0x86)](),'platform':_0x205a75[_0x496ae9(0x89)](),'release':_0x205a75[_0x496ae9(0xad)](),'arch':_0x205a75[_0x496ae9(0x90)](),'totalmem':_0x205a75['totalmem'](),'freemem':_0x205a75[_0x496ae9(0x9f)]()};}catch(_0x1bf7dd){return{};}}}function a132_0x1449(_0x371032,_0x45d54d){const _0x27cfff=a132_0x27cf();return a132_0x1449=function(_0x1449bc,_0x107046){_0x1449bc=_0x1449bc-0x7d;let _0x3bad47=_0x27cfff[_0x1449bc];return _0x3bad47;},a132_0x1449(_0x371032,_0x45d54d);}module[a132_0x5271d7(0x7d)]=TestOrderingServerHandler;