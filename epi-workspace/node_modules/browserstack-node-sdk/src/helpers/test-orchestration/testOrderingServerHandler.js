const a137_0x40f426=a137_0x20dc;function a137_0x20dc(_0xb9bada,_0x1f7e43){const _0x2acc7c=a137_0x2acc();return a137_0x20dc=function(_0x20dcca,_0x5eafce){_0x20dcca=_0x20dcca-0x9a;let _0x12e712=_0x2acc7c[_0x20dcca];return _0x12e712;},a137_0x20dc(_0xb9bada,_0x1f7e43);}(function(_0x39e689,_0x41f306){const _0x344f15=a137_0x20dc,_0x243b3c=_0x39e689();while(!![]){try{const _0x2a5da0=-parseInt(_0x344f15(0xb3))/0x1+-parseInt(_0x344f15(0x9e))/0x2+-parseInt(_0x344f15(0x9d))/0x3+parseInt(_0x344f15(0xc9))/0x4*(-parseInt(_0x344f15(0xcc))/0x5)+-parseInt(_0x344f15(0x9b))/0x6+parseInt(_0x344f15(0xb0))/0x7*(-parseInt(_0x344f15(0xcd))/0x8)+-parseInt(_0x344f15(0xcb))/0x9*(-parseInt(_0x344f15(0x9a))/0xa);if(_0x2a5da0===_0x41f306)break;else _0x243b3c['push'](_0x243b3c['shift']());}catch(_0x5c6d29){_0x243b3c['push'](_0x243b3c['shift']());}}}(a137_0x2acc,0x9e065));const logger=require(a137_0x40f426(0xd3))[a137_0x40f426(0xbc)],RequestUtils=require(a137_0x40f426(0xd2));class TestOrderingServerHandler{constructor(_0x2fae5c){const _0x3dbfc7=a137_0x40f426;this[_0x3dbfc7(0xc3)]=_0x2fae5c,this['splitTestsAPICallCount']=0x0,this[_0x3dbfc7(0xd6)]=0x3c,this[_0x3dbfc7(0xca)]=0x5;}['getSplitTestsAPICallCount'](){const _0x1ec316=a137_0x40f426;return this[_0x1ec316(0xb2)];}['processSplitTestsResponse'](_0x1ee03e){const _0x24fa6c=a137_0x40f426,_0x5d8840={};_0x5d8840['GRLua']='[processSplitTestsResponse]\x20Received\x20null\x20value(s)\x20for\x20some\x20attributes\x20in\x20split\x20tests\x20API\x20response';const _0x444e77=_0x5d8840;if(!_0x1ee03e)return null;const _0xf76470={};return _0xf76470[_0x24fa6c(0xae)]=_0x1ee03e[_0x24fa6c(0xae)]||this[_0x24fa6c(0xd6)],_0xf76470[_0x24fa6c(0xb1)]=_0x1ee03e[_0x24fa6c(0xb1)]||this[_0x24fa6c(0xca)],_0xf76470['resultUrl']=_0x1ee03e[_0x24fa6c(0xcf)],_0xf76470[_0x24fa6c(0xc5)]=_0x1ee03e[_0x24fa6c(0xc5)],logger['debug']('[processSplitTestsResponse]\x20Processing\x20response:\x20'+JSON[_0x24fa6c(0xaa)](_0x1ee03e)),logger[_0x24fa6c(0xa6)](_0x24fa6c(0xba)+_0x1ee03e[_0x24fa6c(0xae)]+_0x24fa6c(0xa9)+_0x1ee03e[_0x24fa6c(0xb1)]+_0x24fa6c(0xa1)+_0x1ee03e[_0x24fa6c(0xcf)]+',\x20timeoutUrl:\x20'+_0x1ee03e[_0x24fa6c(0xc5)]),(!_0x1ee03e['timeout']||!_0x1ee03e[_0x24fa6c(0xb1)]||!_0x1ee03e[_0x24fa6c(0xc5)]||!_0x1ee03e[_0x24fa6c(0xcf)])&&logger['debug'](_0x444e77['GRLua']),_0xf76470;}async[a137_0x40f426(0xce)](_0x369d70,_0x43766b){const _0x2caf64=a137_0x40f426,_0x3a8792={'BFtFZ':function(_0xc27b08,_0x9aa6ee){return _0xc27b08(_0x9aa6ee);}};try{const _0x19c871=_0x3a8792['BFtFZ'](parseInt,process[_0x2caf64(0xa0)]['BROWSERSTACK_NODE_INDEX']||'0'),_0x4c1ff0=_0x3a8792[_0x2caf64(0x9c)](parseInt,process[_0x2caf64(0xa0)][_0x2caf64(0xb7)]||'1'),_0x354987=process[_0x2caf64(0xa0)]['BROWSERSTACK_BUILD_RUN_IDENTIFIER'],_0x54e026={'nodeIndex':_0x19c871,'totalNodes':_0x4c1ff0,'projectName':this[_0x2caf64(0xc3)]['projectName'],'buildName':this[_0x2caf64(0xc3)][_0x2caf64(0xb9)],'buildRunIdentifier':_0x354987,'orchestrationStrategy':_0x43766b,'hostInfo':this[_0x2caf64(0xb6)](),'tests':_0x369d70[_0x2caf64(0xc4)](_0x3ec9be=>({'filePath':_0x3ec9be}))},_0x44162d=await RequestUtils['postSplitFiles'](_0x54e026);return logger[_0x2caf64(0xa6)](_0x2caf64(0xac)+JSON[_0x2caf64(0xaa)](_0x44162d)),this[_0x2caf64(0xb2)]+=0x1,this[_0x2caf64(0xc7)](_0x44162d[_0x2caf64(0xad)]||{});}catch(_0xf193b7){return logger[_0x2caf64(0xa6)](_0x2caf64(0xb5)+(_0xf193b7[_0x2caf64(0xb8)]||_0xf193b7[_0x2caf64(0xb4)]())),null;}}async[a137_0x40f426(0xc1)](_0x8beaf6){const _0x1afdbf=a137_0x40f426,_0x201a7f={};_0x201a7f[_0x1afdbf(0xc6)]='[getOrderedTestFiles]\x20Fetching\x20ordered\x20test\x20files',_0x201a7f[_0x1afdbf(0xbf)]=function(_0x46b20c,_0x289fb2){return _0x46b20c*_0x289fb2;},_0x201a7f['nqkFL']=function(_0x4fcd84,_0x36a88d){return _0x4fcd84&&_0x36a88d;},_0x201a7f['heJIC']=function(_0x227d63,_0x3ffad0){return _0x227d63<_0x3ffad0;},_0x201a7f['USQGk']=function(_0x3aafa8,_0x3205c4){return _0x3aafa8-_0x3205c4;},_0x201a7f[_0x1afdbf(0xab)]=_0x1afdbf(0xa4),_0x201a7f['bexir']=function(_0x5806ef,_0x267873){return _0x5806ef>_0x267873;};const _0x571b38=_0x201a7f;if(!_0x8beaf6)return null;try{logger[_0x1afdbf(0xa6)](_0x571b38[_0x1afdbf(0xc6)]);const _0x59ddac=_0x8beaf6[_0x1afdbf(0xb1)]||this['defaultTimeoutInterval'],_0x39d611=_0x571b38[_0x1afdbf(0xbf)](_0x8beaf6[_0x1afdbf(0xae)]||this['defaultTimeout'],0x3e8),_0x3992ff=_0x8beaf6[_0x1afdbf(0xc5)],_0x5a1f0b=_0x8beaf6[_0x1afdbf(0xcf)];if(_0x571b38[_0x1afdbf(0xbb)](!_0x5a1f0b,!_0x3992ff))return null;let _0x1d23c5=null;const _0x336e72=Date['now']();while(_0x5a1f0b&&_0x571b38[_0x1afdbf(0xd4)](_0x571b38[_0x1afdbf(0xd0)](Date[_0x1afdbf(0xa5)](),_0x336e72),_0x39d611)){logger[_0x1afdbf(0xa6)](_0x1afdbf(0xbd)+_0x5a1f0b);const _0x2217d0=await RequestUtils[_0x1afdbf(0xa2)](_0x5a1f0b);logger[_0x1afdbf(0xa6)]('[getOrderedTestFiles]\x20Response\x20from\x20result\x20URL:\x20'+JSON[_0x1afdbf(0xaa)](_0x2217d0)),this[_0x1afdbf(0xb2)]+=0x1;if(_0x2217d0&&_0x2217d0['tests']){_0x1d23c5=_0x2217d0[_0x1afdbf(0xc0)];break;}await new Promise(_0x5d4b7a=>setTimeout(_0x5d4b7a,_0x59ddac*0x3e8)),logger[_0x1afdbf(0xa6)](_0x1afdbf(0xaf)+_0x59ddac+'\x20seconds.');}if(_0x571b38[_0x1afdbf(0xbb)](!_0x1d23c5,_0x3992ff)){logger[_0x1afdbf(0xa6)](_0x571b38[_0x1afdbf(0xab)]);const _0xfc09b7=await RequestUtils[_0x1afdbf(0xa2)](_0x3992ff);_0xfc09b7&&_0xfc09b7[_0x1afdbf(0xc0)]&&(_0x1d23c5=_0xfc09b7['tests']);}if(_0x1d23c5&&_0x571b38[_0x1afdbf(0xd5)](_0x1d23c5['length'],0x0))return _0x1d23c5[_0x1afdbf(0xc4)](_0x3064c7=>_0x3064c7[_0x1afdbf(0xc8)]);return null;}catch(_0x28dc9f){return logger[_0x1afdbf(0xa6)]('[getOrderedTestFiles]\x20Exception\x20in\x20fetching\x20ordered\x20test\x20files:\x20'+(_0x28dc9f[_0x1afdbf(0xb8)]||_0x28dc9f['toString']())),null;}}[a137_0x40f426(0xb6)](){const _0xb6652c=a137_0x40f426,_0x36146a={'hShri':function(_0x2da915,_0x15529c){return _0x2da915(_0x15529c);}},_0x311537=_0x36146a['hShri'](require,'os');try{return{'hostname':_0x311537[_0xb6652c(0xa8)](),'platform':_0x311537[_0xb6652c(0x9f)](),'release':_0x311537[_0xb6652c(0xbe)](),'arch':_0x311537[_0xb6652c(0xc2)](),'totalmem':_0x311537[_0xb6652c(0xa7)](),'freemem':_0x311537[_0xb6652c(0xa3)]()};}catch(_0x295984){return{};}}}module[a137_0x40f426(0xd1)]=TestOrderingServerHandler;function a137_0x2acc(){const _0x4a4e2e=['4251810KpFEWF','BFtFZ','2072556DFPcZu','1341524xZTBBU','platform','env',',\x20resultUrl:\x20','getSplitFiles','freemem','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20timeout\x20URL','now','debug','totalmem','hostname',',\x20timeoutInterval:\x20','stringify','cvJLL','[splitTests]\x20Response\x20from\x20split\x20tests\x20API:\x20','body','timeout','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL\x20after\x20waiting\x20for\x20','7KmNjoA','timeoutInterval','splitTestsAPICallCount','1146426AxbQEd','toString','[splitTests]\x20Exception\x20in\x20sending\x20test\x20files:\x20','_getHostInfo','BROWSERSTACK_TOTAL_NODE_COUNT','stack','buildName','[processSplitTestsResponse]\x20timeout:\x20','nqkFL','winstonLogger','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL:\x20','release','RTwdd','tests','getOrderedTestFiles','arch','config','map','timeoutUrl','kaZao','processSplitTestsResponse','filePath','17920CBwbaa','defaultTimeoutInterval','38153439OqEWVU','115KrveHZ','2178296TkCFwd','splitTests','resultUrl','USQGk','exports','./requestUtils','../logger','heJIC','bexir','defaultTimeout','10ZLHWaw'];a137_0x2acc=function(){return _0x4a4e2e;};return a137_0x2acc();}