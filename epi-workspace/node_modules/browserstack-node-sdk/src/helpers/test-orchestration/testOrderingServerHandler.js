const a137_0x11b600=a137_0x4c4f;(function(_0x18ed9c,_0x2996c4){const _0x5384e9=a137_0x4c4f,_0x4760f2=_0x18ed9c();while(!![]){try{const _0x43d3c7=parseInt(_0x5384e9(0x9f))/0x1+parseInt(_0x5384e9(0xaf))/0x2+parseInt(_0x5384e9(0x98))/0x3*(parseInt(_0x5384e9(0xbd))/0x4)+parseInt(_0x5384e9(0xa7))/0x5+parseInt(_0x5384e9(0xac))/0x6+-parseInt(_0x5384e9(0xd1))/0x7*(-parseInt(_0x5384e9(0xc4))/0x8)+-parseInt(_0x5384e9(0xde))/0x9;if(_0x43d3c7===_0x2996c4)break;else _0x4760f2['push'](_0x4760f2['shift']());}catch(_0x1f9216){_0x4760f2['push'](_0x4760f2['shift']());}}}(a137_0x4e44,0xf3c4b));function a137_0x4c4f(_0x18aa62,_0x1732bf){const _0x4e4470=a137_0x4e44();return a137_0x4c4f=function(_0x4c4f06,_0x5e3cdc){_0x4c4f06=_0x4c4f06-0x98;let _0x1c5fde=_0x4e4470[_0x4c4f06];return _0x1c5fde;},a137_0x4c4f(_0x18aa62,_0x1732bf);}const logger=require(a137_0x11b600(0xc9))[a137_0x11b600(0xdc)],RequestUtils=require(a137_0x11b600(0xb2));function a137_0x4e44(){const _0x185c2c=['filePath','hostname','cwkNW','now','4343664UcpnWv','dKPbY','totalmem','[processSplitTestsResponse]\x20timeout:\x20','defaultTimeout','../logger','ETfQE','body','gvuPX','config','RpQuf','getOrderedTestFiles','stringify','14noTSHE','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL:\x20','[getOrderedTestFiles]\x20Exception\x20in\x20fetching\x20ordered\x20test\x20files:\x20','stack','[splitTests]\x20Response\x20from\x20split\x20tests\x20API:\x20','resultUrl','timeoutInterval','length','[processSplitTestsResponse]\x20Received\x20null\x20value(s)\x20for\x20some\x20attributes\x20in\x20split\x20tests\x20API\x20response','BROWSERSTACK_NODE_INDEX','release','winstonLogger','getSplitFiles','39158892Ehkome','147993zcvbGr','pMObD',',\x20timeoutUrl:\x20','NidwQ','xpdoN','_getHostInfo','platform','294197rBCimT','processSplitTestsResponse','getSplitTestsAPICallCount','freemem','map','Xhsyf','debug','aoUEo','6530350bdsIfJ','toString','env','postSplitFiles','timeout','7388946RDNcYz','splitTestsAPICallCount','\x20seconds.','989000NumJmz','tests','[getOrderedTestFiles]\x20Response\x20from\x20result\x20URL:\x20','./requestUtils','timeoutUrl','[splitTests]\x20Exception\x20in\x20sending\x20test\x20files:\x20','projectName','BROWSERSTACK_TOTAL_NODE_COUNT','[getOrderedTestFiles]\x20Fetching\x20ordered\x20test\x20files','sycZZ','arch','exports','BROWSERSTACK_BUILD_RUN_IDENTIFIER','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL\x20after\x20waiting\x20for\x20','76NSkpvW',',\x20timeoutInterval:\x20','defaultTimeoutInterval'];a137_0x4e44=function(){return _0x185c2c;};return a137_0x4e44();}class TestOrderingServerHandler{constructor(_0x278cc6){const _0x575755=a137_0x11b600;this[_0x575755(0xcd)]=_0x278cc6,this[_0x575755(0xad)]=0x0,this[_0x575755(0xc8)]=0x3c,this[_0x575755(0xbf)]=0x5;}[a137_0x11b600(0xa1)](){return this['splitTestsAPICallCount'];}[a137_0x11b600(0xa0)](_0x275ee9){const _0x230d56=a137_0x11b600,_0x2398cb={};_0x2398cb[_0x230d56(0x9b)]=_0x230d56(0xd9);const _0x42c1a8=_0x2398cb;if(!_0x275ee9)return null;const _0x5ae555={};return _0x5ae555[_0x230d56(0xab)]=_0x275ee9[_0x230d56(0xab)]||this['defaultTimeout'],_0x5ae555['timeoutInterval']=_0x275ee9['timeoutInterval']||this[_0x230d56(0xbf)],_0x5ae555[_0x230d56(0xd6)]=_0x275ee9[_0x230d56(0xd6)],_0x5ae555[_0x230d56(0xb3)]=_0x275ee9[_0x230d56(0xb3)],logger[_0x230d56(0xa5)]('[processSplitTestsResponse]\x20Processing\x20response:\x20'+JSON[_0x230d56(0xd0)](_0x275ee9)),logger['debug'](_0x230d56(0xc7)+_0x275ee9[_0x230d56(0xab)]+_0x230d56(0xbe)+_0x275ee9[_0x230d56(0xd7)]+',\x20resultUrl:\x20'+_0x275ee9[_0x230d56(0xd6)]+_0x230d56(0x9a)+_0x275ee9[_0x230d56(0xb3)]),(!_0x275ee9[_0x230d56(0xab)]||!_0x275ee9[_0x230d56(0xd7)]||!_0x275ee9[_0x230d56(0xb3)]||!_0x275ee9[_0x230d56(0xd6)])&&logger[_0x230d56(0xa5)](_0x42c1a8['NidwQ']),_0x5ae555;}async['splitTests'](_0x109b92,_0x1f259b){const _0x17498a=a137_0x11b600,_0xceb447={'cwkNW':function(_0x5ad9f,_0x27a491){return _0x5ad9f(_0x27a491);},'tiRVF':function(_0x287ac3,_0x1409fd){return _0x287ac3(_0x1409fd);}};try{const _0x593ca3=_0xceb447[_0x17498a(0xc2)](parseInt,process['env'][_0x17498a(0xda)]||'0'),_0x5aa476=_0xceb447['tiRVF'](parseInt,process[_0x17498a(0xa9)][_0x17498a(0xb6)]||'1'),_0x36fe22=process[_0x17498a(0xa9)][_0x17498a(0xbb)],_0x19e5f1={'nodeIndex':_0x593ca3,'totalNodes':_0x5aa476,'projectName':this[_0x17498a(0xcd)][_0x17498a(0xb5)],'buildName':this['config']['buildName'],'buildRunIdentifier':_0x36fe22,'orchestrationStrategy':_0x1f259b,'hostInfo':this[_0x17498a(0x9d)](),'tests':_0x109b92['map'](_0x4a65c3=>({'filePath':_0x4a65c3}))},_0x27684a=await RequestUtils[_0x17498a(0xaa)](_0x19e5f1);return logger[_0x17498a(0xa5)](_0x17498a(0xd5)+JSON['stringify'](_0x27684a)),this[_0x17498a(0xad)]+=0x1,this[_0x17498a(0xa0)](_0x27684a[_0x17498a(0xcb)]||{});}catch(_0x5f3cc1){return logger[_0x17498a(0xa5)](_0x17498a(0xb4)+(_0x5f3cc1[_0x17498a(0xd4)]||_0x5f3cc1[_0x17498a(0xa8)]())),null;}}async[a137_0x11b600(0xcf)](_0x25ec35){const _0x59cd0e=a137_0x11b600,_0x54e78f={};_0x54e78f[_0x59cd0e(0x9c)]=_0x59cd0e(0xb7),_0x54e78f[_0x59cd0e(0xce)]=function(_0x10bce3,_0x5252bd){return _0x10bce3*_0x5252bd;},_0x54e78f[_0x59cd0e(0x99)]=function(_0x151b72,_0xa9f04c){return _0x151b72&&_0xa9f04c;},_0x54e78f[_0x59cd0e(0xb8)]=function(_0x5e73d7,_0x20159f){return _0x5e73d7<_0x20159f;},_0x54e78f[_0x59cd0e(0xcc)]=function(_0x3860e0,_0x2ce125){return _0x3860e0-_0x2ce125;},_0x54e78f['ETfQE']=function(_0x58fedc,_0x524c49){return _0x58fedc&&_0x524c49;},_0x54e78f[_0x59cd0e(0xc5)]='[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20timeout\x20URL',_0x54e78f['Xhsyf']=function(_0x4bad0f,_0x4a0fa0){return _0x4bad0f>_0x4a0fa0;};const _0x122d9d=_0x54e78f;if(!_0x25ec35)return null;try{logger[_0x59cd0e(0xa5)](_0x122d9d[_0x59cd0e(0x9c)]);const _0x5b0d5a=_0x25ec35[_0x59cd0e(0xd7)]||this[_0x59cd0e(0xbf)],_0x22a229=_0x122d9d[_0x59cd0e(0xce)](_0x25ec35[_0x59cd0e(0xab)]||this[_0x59cd0e(0xc8)],0x3e8),_0x34fea9=_0x25ec35[_0x59cd0e(0xb3)],_0x481a1b=_0x25ec35['resultUrl'];if(_0x122d9d[_0x59cd0e(0x99)](!_0x481a1b,!_0x34fea9))return null;let _0x49417d=null;const _0x3f7858=Date[_0x59cd0e(0xc3)]();while(_0x481a1b&&_0x122d9d['sycZZ'](_0x122d9d['gvuPX'](Date[_0x59cd0e(0xc3)](),_0x3f7858),_0x22a229)){logger['debug'](_0x59cd0e(0xd2)+_0x481a1b);const _0x123d3a=await RequestUtils[_0x59cd0e(0xdd)](_0x481a1b);logger[_0x59cd0e(0xa5)](_0x59cd0e(0xb1)+JSON['stringify'](_0x123d3a)),this[_0x59cd0e(0xad)]+=0x1;if(_0x123d3a&&_0x123d3a[_0x59cd0e(0xb0)]){_0x49417d=_0x123d3a[_0x59cd0e(0xb0)];break;}await new Promise(_0x4c31a5=>setTimeout(_0x4c31a5,_0x5b0d5a*0x3e8)),logger[_0x59cd0e(0xa5)](_0x59cd0e(0xbc)+_0x5b0d5a+_0x59cd0e(0xae));}if(_0x122d9d[_0x59cd0e(0xca)](!_0x49417d,_0x34fea9)){logger[_0x59cd0e(0xa5)](_0x122d9d[_0x59cd0e(0xc5)]);const _0xa2daac=await RequestUtils[_0x59cd0e(0xdd)](_0x34fea9);_0xa2daac&&_0xa2daac[_0x59cd0e(0xb0)]&&(_0x49417d=_0xa2daac[_0x59cd0e(0xb0)]);}if(_0x49417d&&_0x122d9d[_0x59cd0e(0xa4)](_0x49417d[_0x59cd0e(0xd8)],0x0))return _0x49417d[_0x59cd0e(0xa3)](_0x229b1e=>_0x229b1e[_0x59cd0e(0xc0)]);return null;}catch(_0x29bf10){return logger['debug'](_0x59cd0e(0xd3)+(_0x29bf10[_0x59cd0e(0xd4)]||_0x29bf10['toString']())),null;}}[a137_0x11b600(0x9d)](){const _0x17e4b8=a137_0x11b600,_0x1cd880={'aoUEo':function(_0x1ec8c1,_0x43e110){return _0x1ec8c1(_0x43e110);}},_0x24581f=_0x1cd880[_0x17e4b8(0xa6)](require,'os');try{return{'hostname':_0x24581f[_0x17e4b8(0xc1)](),'platform':_0x24581f[_0x17e4b8(0x9e)](),'release':_0x24581f[_0x17e4b8(0xdb)](),'arch':_0x24581f[_0x17e4b8(0xb9)](),'totalmem':_0x24581f[_0x17e4b8(0xc6)](),'freemem':_0x24581f[_0x17e4b8(0xa2)]()};}catch(_0x31fe41){return{};}}}module[a137_0x11b600(0xba)]=TestOrderingServerHandler;