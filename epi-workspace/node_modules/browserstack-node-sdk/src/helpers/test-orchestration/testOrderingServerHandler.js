const a134_0x182524=a134_0x3ae5;(function(_0x5e7758,_0x43a39c){const _0x4947e1=a134_0x3ae5,_0xa72b14=_0x5e7758();while(!![]){try{const _0x2d4459=parseInt(_0x4947e1(0x103))/0x1*(parseInt(_0x4947e1(0xfb))/0x2)+parseInt(_0x4947e1(0xf4))/0x3*(parseInt(_0x4947e1(0x112))/0x4)+parseInt(_0x4947e1(0x117))/0x5+parseInt(_0x4947e1(0xfc))/0x6*(-parseInt(_0x4947e1(0x11a))/0x7)+-parseInt(_0x4947e1(0x105))/0x8*(-parseInt(_0x4947e1(0xf6))/0x9)+parseInt(_0x4947e1(0x108))/0xa+parseInt(_0x4947e1(0xf3))/0xb*(-parseInt(_0x4947e1(0x114))/0xc);if(_0x2d4459===_0x43a39c)break;else _0xa72b14['push'](_0xa72b14['shift']());}catch(_0x4aad67){_0xa72b14['push'](_0xa72b14['shift']());}}}(a134_0x562d,0x95fff));const logger=require(a134_0x182524(0xee))[a134_0x182524(0x100)],RequestUtils=require(a134_0x182524(0xf5));class TestOrderingServerHandler{constructor(_0x3bd76b){const _0x699b7f=a134_0x182524;this[_0x699b7f(0xef)]=_0x3bd76b,this[_0x699b7f(0x109)]=0x0,this['defaultTimeout']=0x3c,this['defaultTimeoutInterval']=0x5;}[a134_0x182524(0x12d)](){const _0x5df2c8=a134_0x182524;return this[_0x5df2c8(0x109)];}[a134_0x182524(0x128)](_0x4421d7){const _0x4b41ee=a134_0x182524,_0x2ed195={};_0x2ed195[_0x4b41ee(0x123)]='[processSplitTestsResponse]\x20Received\x20null\x20value(s)\x20for\x20some\x20attributes\x20in\x20split\x20tests\x20API\x20response';const _0x11f5f1=_0x2ed195;if(!_0x4421d7)return null;const _0x444e88={};return _0x444e88[_0x4b41ee(0x11e)]=_0x4421d7[_0x4b41ee(0x11e)]||this[_0x4b41ee(0x133)],_0x444e88[_0x4b41ee(0x124)]=_0x4421d7[_0x4b41ee(0x124)]||this[_0x4b41ee(0x12a)],_0x444e88['resultUrl']=_0x4421d7[_0x4b41ee(0x102)],_0x444e88[_0x4b41ee(0x11b)]=_0x4421d7[_0x4b41ee(0x11b)],logger[_0x4b41ee(0x119)](_0x4b41ee(0x10d)+JSON[_0x4b41ee(0xf1)](_0x4421d7)),logger[_0x4b41ee(0x119)]('[processSplitTestsResponse]\x20timeout:\x20'+_0x4421d7['timeout']+_0x4b41ee(0x130)+_0x4421d7[_0x4b41ee(0x124)]+_0x4b41ee(0x12f)+_0x4421d7['resultUrl']+',\x20timeoutUrl:\x20'+_0x4421d7[_0x4b41ee(0x11b)]),(!_0x4421d7[_0x4b41ee(0x11e)]||!_0x4421d7[_0x4b41ee(0x124)]||!_0x4421d7[_0x4b41ee(0x11b)]||!_0x4421d7['resultUrl'])&&logger['debug'](_0x11f5f1[_0x4b41ee(0x123)]),_0x444e88;}async[a134_0x182524(0x11f)](_0x1b0362,_0x476c6d){const _0x15faa1=a134_0x182524,_0x136561={'ZAPTR':function(_0x9e753a,_0x2ca3fb){return _0x9e753a(_0x2ca3fb);}};try{const _0x4a8224=_0x136561['ZAPTR'](parseInt,process[_0x15faa1(0xf0)][_0x15faa1(0x11c)]||'0'),_0x4a5305=_0x136561[_0x15faa1(0xfd)](parseInt,process['env'][_0x15faa1(0xff)]||'1'),_0x18f7c9=process['env'][_0x15faa1(0x134)],_0x5089ec={'nodeIndex':_0x4a8224,'totalNodes':_0x4a5305,'projectName':this[_0x15faa1(0xef)][_0x15faa1(0xf2)],'buildName':this[_0x15faa1(0xef)][_0x15faa1(0x101)],'buildRunIdentifier':_0x18f7c9,'orchestrationStrategy':_0x476c6d,'hostInfo':this[_0x15faa1(0x129)](),'tests':_0x1b0362[_0x15faa1(0x122)](_0x4f133d=>({'filePath':_0x4f133d}))},_0x11f8f8=await RequestUtils[_0x15faa1(0x12c)](_0x5089ec);return logger[_0x15faa1(0x119)](_0x15faa1(0x131)+JSON['stringify'](_0x11f8f8)),this[_0x15faa1(0x109)]+=0x1,this[_0x15faa1(0x128)](_0x11f8f8[_0x15faa1(0x107)]||{});}catch(_0x202966){return logger[_0x15faa1(0x119)]('[splitTests]\x20Exception\x20in\x20sending\x20test\x20files:\x20'+(_0x202966['stack']||_0x202966[_0x15faa1(0x118)]())),null;}}async[a134_0x182524(0x10a)](_0x2b77b6){const _0x393f11=a134_0x182524,_0x8a3cb2={};_0x8a3cb2[_0x393f11(0x12e)]=_0x393f11(0x106),_0x8a3cb2[_0x393f11(0x10e)]=function(_0x29acef,_0x4056fb){return _0x29acef*_0x4056fb;},_0x8a3cb2[_0x393f11(0xf9)]=function(_0x131d4c,_0x3d2b09){return _0x131d4c&&_0x3d2b09;},_0x8a3cb2[_0x393f11(0x125)]=function(_0x438757,_0x563d7f){return _0x438757<_0x563d7f;},_0x8a3cb2[_0x393f11(0x115)]=function(_0x575683,_0x4cfbd3){return _0x575683-_0x4cfbd3;},_0x8a3cb2[_0x393f11(0x10c)]='[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20timeout\x20URL',_0x8a3cb2[_0x393f11(0x126)]=function(_0x5ac55c,_0x393cd5){return _0x5ac55c>_0x393cd5;};const _0x3b067b=_0x8a3cb2;if(!_0x2b77b6)return null;try{logger['debug'](_0x3b067b[_0x393f11(0x12e)]);const _0x394fab=_0x2b77b6[_0x393f11(0x124)]||this[_0x393f11(0x12a)],_0x591e8b=_0x3b067b[_0x393f11(0x10e)](_0x2b77b6[_0x393f11(0x11e)]||this[_0x393f11(0x133)],0x3e8),_0x4022da=_0x2b77b6['timeoutUrl'],_0x164831=_0x2b77b6[_0x393f11(0x102)];if(_0x3b067b[_0x393f11(0xf9)](!_0x164831,!_0x4022da))return null;let _0x93ddae=null;const _0x3822df=Date[_0x393f11(0x104)]();while(_0x164831&&_0x3b067b[_0x393f11(0x125)](_0x3b067b[_0x393f11(0x115)](Date[_0x393f11(0x104)](),_0x3822df),_0x591e8b)){logger[_0x393f11(0x119)](_0x393f11(0xfe)+_0x164831);const _0x30d6d7=await RequestUtils[_0x393f11(0x116)](_0x164831);logger['debug'](_0x393f11(0x127)+JSON['stringify'](_0x30d6d7)),this[_0x393f11(0x109)]+=0x1;if(_0x30d6d7&&_0x30d6d7[_0x393f11(0x11d)]){_0x93ddae=_0x30d6d7[_0x393f11(0x11d)];break;}await new Promise(_0x7796a7=>setTimeout(_0x7796a7,_0x394fab*0x3e8)),logger[_0x393f11(0x119)](_0x393f11(0xf8)+_0x394fab+_0x393f11(0xf7));}if(_0x3b067b['JjTIR'](!_0x93ddae,_0x4022da)){logger['debug'](_0x3b067b['YQbfq']);const _0x21db36=await RequestUtils['getSplitFiles'](_0x4022da);_0x21db36&&_0x21db36[_0x393f11(0x11d)]&&(_0x93ddae=_0x21db36['tests']);}if(_0x93ddae&&_0x3b067b[_0x393f11(0x126)](_0x93ddae[_0x393f11(0x12b)],0x0))return _0x93ddae[_0x393f11(0x122)](_0x573a1c=>_0x573a1c[_0x393f11(0xfa)]);return null;}catch(_0x2eca7f){return logger[_0x393f11(0x119)]('[getOrderedTestFiles]\x20Exception\x20in\x20fetching\x20ordered\x20test\x20files:\x20'+(_0x2eca7f[_0x393f11(0x110)]||_0x2eca7f['toString']())),null;}}['_getHostInfo'](){const _0x5b7dff=a134_0x182524,_0x3df02c={'QIvtO':function(_0x418bc8,_0x13a2b9){return _0x418bc8(_0x13a2b9);}},_0x4c1222=_0x3df02c[_0x5b7dff(0x111)](require,'os');try{return{'hostname':_0x4c1222[_0x5b7dff(0x10b)](),'platform':_0x4c1222['platform'](),'release':_0x4c1222[_0x5b7dff(0x132)](),'arch':_0x4c1222[_0x5b7dff(0x113)](),'totalmem':_0x4c1222[_0x5b7dff(0x10f)](),'freemem':_0x4c1222[_0x5b7dff(0x121)]()};}catch(_0x1f3f86){return{};}}}function a134_0x3ae5(_0x905bf6,_0x41aa09){const _0x562dc4=a134_0x562d();return a134_0x3ae5=function(_0x3ae53c,_0xb817b2){_0x3ae53c=_0x3ae53c-0xee;let _0x37e360=_0x562dc4[_0x3ae53c];return _0x37e360;},a134_0x3ae5(_0x905bf6,_0x41aa09);}function a134_0x562d(){const _0x57fd03=['4284MgXEuY','\x20seconds.','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL\x20after\x20waiting\x20for\x20','JjTIR','filePath','2kWDKJq','62574VTaNtz','ZAPTR','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL:\x20','BROWSERSTACK_TOTAL_NODE_COUNT','winstonLogger','buildName','resultUrl','1040126wcnVrQ','now','18952WvUcXR','[getOrderedTestFiles]\x20Fetching\x20ordered\x20test\x20files','body','8515670ahVdaI','splitTestsAPICallCount','getOrderedTestFiles','hostname','YQbfq','[processSplitTestsResponse]\x20Processing\x20response:\x20','oMiug','totalmem','stack','QIvtO','23148ryirVx','arch','1115292XLRZtD','cQzGA','getSplitFiles','4987500LmHthI','toString','debug','112wODTOd','timeoutUrl','BROWSERSTACK_NODE_INDEX','tests','timeout','splitTests','exports','freemem','map','zrmJT','timeoutInterval','pmZvX','lmHAj','[getOrderedTestFiles]\x20Response\x20from\x20result\x20URL:\x20','processSplitTestsResponse','_getHostInfo','defaultTimeoutInterval','length','postSplitFiles','getSplitTestsAPICallCount','PtPTP',',\x20resultUrl:\x20',',\x20timeoutInterval:\x20','[splitTests]\x20Response\x20from\x20split\x20tests\x20API:\x20','release','defaultTimeout','BROWSERSTACK_BUILD_RUN_IDENTIFIER','../logger','config','env','stringify','projectName','385wUYmFb','9dUXyGE','./requestUtils'];a134_0x562d=function(){return _0x57fd03;};return a134_0x562d();}module[a134_0x182524(0x120)]=TestOrderingServerHandler;