const a136_0x35c9ce=a136_0x5ae5;(function(_0x116447,_0x481555){const _0x2bdde8=a136_0x5ae5,_0xc0bf3e=_0x116447();while(!![]){try{const _0x56bd3b=-parseInt(_0x2bdde8(0x1de))/0x1+parseInt(_0x2bdde8(0x1e0))/0x2*(-parseInt(_0x2bdde8(0x1e8))/0x3)+parseInt(_0x2bdde8(0x213))/0x4*(-parseInt(_0x2bdde8(0x1d5))/0x5)+-parseInt(_0x2bdde8(0x1ed))/0x6*(-parseInt(_0x2bdde8(0x202))/0x7)+-parseInt(_0x2bdde8(0x1ff))/0x8*(parseInt(_0x2bdde8(0x1df))/0x9)+parseInt(_0x2bdde8(0x20a))/0xa+parseInt(_0x2bdde8(0x1f2))/0xb;if(_0x56bd3b===_0x481555)break;else _0xc0bf3e['push'](_0xc0bf3e['shift']());}catch(_0x388eb1){_0xc0bf3e['push'](_0xc0bf3e['shift']());}}}(a136_0x314b,0x23462));const logger=require('../logger')[a136_0x35c9ce(0x1db)],RequestUtils=require('./requestUtils');function a136_0x5ae5(_0x37c53c,_0x3d45e9){const _0x314b3c=a136_0x314b();return a136_0x5ae5=function(_0x5ae5d6,_0x4d2d8f){_0x5ae5d6=_0x5ae5d6-0x1d5;let _0x270c15=_0x314b3c[_0x5ae5d6];return _0x270c15;},a136_0x5ae5(_0x37c53c,_0x3d45e9);}class TestOrderingServerHandler{constructor(_0x18eaa2){const _0x3ddb7f=a136_0x35c9ce;this[_0x3ddb7f(0x20b)]=_0x18eaa2,this[_0x3ddb7f(0x1dd)]=0x0,this[_0x3ddb7f(0x200)]=0x3c,this[_0x3ddb7f(0x1f5)]=0x5;}[a136_0x35c9ce(0x210)](){const _0x5977d7=a136_0x35c9ce;return this[_0x5977d7(0x1dd)];}['processSplitTestsResponse'](_0x310c89){const _0x4f635d=a136_0x35c9ce,_0x578496={};_0x578496['JOaIS']=_0x4f635d(0x206);const _0x5d0264=_0x578496;if(!_0x310c89)return null;const _0x14c7af={};return _0x14c7af[_0x4f635d(0x201)]=_0x310c89['timeout']||this[_0x4f635d(0x200)],_0x14c7af[_0x4f635d(0x1fd)]=_0x310c89[_0x4f635d(0x1fd)]||this['defaultTimeoutInterval'],_0x14c7af[_0x4f635d(0x1e9)]=_0x310c89[_0x4f635d(0x1e9)],_0x14c7af['timeoutUrl']=_0x310c89['timeoutUrl'],logger[_0x4f635d(0x209)](_0x4f635d(0x212)+JSON[_0x4f635d(0x1ef)](_0x310c89)),logger['debug'](_0x4f635d(0x205)+_0x310c89[_0x4f635d(0x201)]+_0x4f635d(0x20c)+_0x310c89[_0x4f635d(0x1fd)]+_0x4f635d(0x20d)+_0x310c89[_0x4f635d(0x1e9)]+',\x20timeoutUrl:\x20'+_0x310c89[_0x4f635d(0x1e7)]),(!_0x310c89[_0x4f635d(0x201)]||!_0x310c89[_0x4f635d(0x1fd)]||!_0x310c89[_0x4f635d(0x1e7)]||!_0x310c89[_0x4f635d(0x1e9)])&&logger['debug'](_0x5d0264['JOaIS']),_0x14c7af;}async[a136_0x35c9ce(0x211)](_0x2e3795,_0xd0ebf5){const _0x50d926=a136_0x35c9ce,_0x1d981f={'bTvsO':function(_0x450c29,_0x51ea92){return _0x450c29(_0x51ea92);},'zVQqS':function(_0x990fbf,_0x55c3ff){return _0x990fbf(_0x55c3ff);}};try{const _0x4f5500=_0x1d981f[_0x50d926(0x1ec)](parseInt,process['env'][_0x50d926(0x20e)]||'0'),_0x387890=_0x1d981f[_0x50d926(0x1fe)](parseInt,process[_0x50d926(0x203)][_0x50d926(0x214)]||'1'),_0x45e523=process[_0x50d926(0x203)]['BROWSERSTACK_BUILD_RUN_IDENTIFIER'],_0x477e03={'nodeIndex':_0x4f5500,'totalNodes':_0x387890,'projectName':this[_0x50d926(0x20b)]['projectName'],'buildName':this[_0x50d926(0x20b)]['buildName'],'buildRunIdentifier':_0x45e523,'orchestrationStrategy':_0xd0ebf5,'hostInfo':this[_0x50d926(0x1dc)](),'tests':_0x2e3795[_0x50d926(0x1fb)](_0x408f54=>({'filePath':_0x408f54}))},_0x4bea4a=await RequestUtils['postSplitFiles'](_0x477e03);return logger[_0x50d926(0x209)](_0x50d926(0x1f0)+JSON['stringify'](_0x4bea4a)),this[_0x50d926(0x1dd)]+=0x1,this['processSplitTestsResponse'](_0x4bea4a[_0x50d926(0x1f1)]||{});}catch(_0x27838d){return logger[_0x50d926(0x209)](_0x50d926(0x1d9)+(_0x27838d[_0x50d926(0x1da)]||_0x27838d[_0x50d926(0x1fa)]())),null;}}async[a136_0x35c9ce(0x20f)](_0x13110f){const _0x5d85ea=a136_0x35c9ce,_0x1d9572={};_0x1d9572[_0x5d85ea(0x1e6)]='[getOrderedTestFiles]\x20Fetching\x20ordered\x20test\x20files',_0x1d9572['bgrBH']=function(_0x410bf4,_0x323451){return _0x410bf4*_0x323451;},_0x1d9572[_0x5d85ea(0x1e1)]=function(_0x53a355,_0x111bc5){return _0x53a355&&_0x111bc5;},_0x1d9572[_0x5d85ea(0x1e2)]=function(_0x2fd40c,_0x2ca913){return _0x2fd40c<_0x2ca913;},_0x1d9572[_0x5d85ea(0x1f4)]=function(_0x3c027f,_0x35a7f8){return _0x3c027f-_0x35a7f8;},_0x1d9572[_0x5d85ea(0x204)]=function(_0x5077de,_0x9a138d){return _0x5077de&&_0x9a138d;},_0x1d9572[_0x5d85ea(0x1ea)]=_0x5d85ea(0x1e4),_0x1d9572[_0x5d85ea(0x1e5)]=function(_0x8a224,_0x5e5957){return _0x8a224>_0x5e5957;};const _0x4baff5=_0x1d9572;if(!_0x13110f)return null;try{logger[_0x5d85ea(0x209)](_0x4baff5[_0x5d85ea(0x1e6)]);const _0xcf8eb7=_0x13110f[_0x5d85ea(0x1fd)]||this[_0x5d85ea(0x1f5)],_0x806430=_0x4baff5[_0x5d85ea(0x1f7)](_0x13110f['timeout']||this[_0x5d85ea(0x200)],0x3e8),_0x2f0193=_0x13110f[_0x5d85ea(0x1e7)],_0xe602bf=_0x13110f[_0x5d85ea(0x1e9)];if(_0x4baff5[_0x5d85ea(0x1e1)](!_0xe602bf,!_0x2f0193))return null;let _0x47e452=null;const _0x29c540=Date[_0x5d85ea(0x1f3)]();while(_0xe602bf&&_0x4baff5[_0x5d85ea(0x1e2)](_0x4baff5[_0x5d85ea(0x1f4)](Date[_0x5d85ea(0x1f3)](),_0x29c540),_0x806430)){logger[_0x5d85ea(0x209)](_0x5d85ea(0x1e3)+_0xe602bf);const _0x2351d6=await RequestUtils['getSplitFiles'](_0xe602bf);logger[_0x5d85ea(0x209)](_0x5d85ea(0x1d6)+JSON[_0x5d85ea(0x1ef)](_0x2351d6)),this['splitTestsAPICallCount']+=0x1;if(_0x2351d6&&_0x2351d6['tests']){_0x47e452=_0x2351d6[_0x5d85ea(0x1f6)];break;}await new Promise(_0x387fe2=>setTimeout(_0x387fe2,_0xcf8eb7*0x3e8)),logger[_0x5d85ea(0x209)]('[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL\x20after\x20waiting\x20for\x20'+_0xcf8eb7+_0x5d85ea(0x208));}if(_0x4baff5[_0x5d85ea(0x204)](!_0x47e452,_0x2f0193)){logger[_0x5d85ea(0x209)](_0x4baff5['lWKmY']);const _0xbf3ccb=await RequestUtils['getSplitFiles'](_0x2f0193);_0xbf3ccb&&_0xbf3ccb[_0x5d85ea(0x1f6)]&&(_0x47e452=_0xbf3ccb[_0x5d85ea(0x1f6)]);}if(_0x47e452&&_0x4baff5[_0x5d85ea(0x1e5)](_0x47e452[_0x5d85ea(0x1f8)],0x0))return _0x47e452[_0x5d85ea(0x1fb)](_0x178a1d=>_0x178a1d['filePath']);return null;}catch(_0x88483f){return logger[_0x5d85ea(0x209)](_0x5d85ea(0x207)+(_0x88483f['stack']||_0x88483f[_0x5d85ea(0x1fa)]())),null;}}['_getHostInfo'](){const _0x467eda=a136_0x35c9ce,_0x392817={'nBeyj':function(_0x30855f,_0x5a273f){return _0x30855f(_0x5a273f);}},_0x11abcb=_0x392817[_0x467eda(0x1f9)](require,'os');try{return{'hostname':_0x11abcb[_0x467eda(0x1ee)](),'platform':_0x11abcb['platform'](),'release':_0x11abcb[_0x467eda(0x1eb)](),'arch':_0x11abcb['arch'](),'totalmem':_0x11abcb[_0x467eda(0x1d7)](),'freemem':_0x11abcb[_0x467eda(0x1fc)]()};}catch(_0x13a379){return{};}}}function a136_0x314b(){const _0x1348ed=['[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL:\x20','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20timeout\x20URL','Gsvuz','wxWwJ','timeoutUrl','44961nunJEK','resultUrl','lWKmY','release','bTvsO','702636DIKATy','hostname','stringify','[splitTests]\x20Response\x20from\x20split\x20tests\x20API:\x20','body','4081220QqWukw','now','KkFOH','defaultTimeoutInterval','tests','bgrBH','length','nBeyj','toString','map','freemem','timeoutInterval','zVQqS','176vVdrCb','defaultTimeout','timeout','14iimJId','env','vJPJl','[processSplitTestsResponse]\x20timeout:\x20','[processSplitTestsResponse]\x20Received\x20null\x20value(s)\x20for\x20some\x20attributes\x20in\x20split\x20tests\x20API\x20response','[getOrderedTestFiles]\x20Exception\x20in\x20fetching\x20ordered\x20test\x20files:\x20','\x20seconds.','debug','1604310UISHCx','config',',\x20timeoutInterval:\x20',',\x20resultUrl:\x20','BROWSERSTACK_NODE_INDEX','getOrderedTestFiles','getSplitTestsAPICallCount','splitTests','[processSplitTestsResponse]\x20Processing\x20response:\x20','1084cQPZRK','BROWSERSTACK_TOTAL_NODE_COUNT','3165ikewig','[getOrderedTestFiles]\x20Response\x20from\x20result\x20URL:\x20','totalmem','exports','[splitTests]\x20Exception\x20in\x20sending\x20test\x20files:\x20','stack','winstonLogger','_getHostInfo','splitTestsAPICallCount','155236gPzymb','95913CxHhSF','8useaGn','dbdcv','NCvGA'];a136_0x314b=function(){return _0x1348ed;};return a136_0x314b();}module[a136_0x35c9ce(0x1d8)]=TestOrderingServerHandler;