const a122_0x2fc206=a122_0x8d0b;function a122_0x8d0b(_0xd946ac,_0x209033){const _0x29209c=a122_0x2920();return a122_0x8d0b=function(_0x8d0b77,_0x18604b){_0x8d0b77=_0x8d0b77-0x1cb;let _0x53fd7f=_0x29209c[_0x8d0b77];return _0x53fd7f;},a122_0x8d0b(_0xd946ac,_0x209033);}(function(_0x2e8ee7,_0x4576f5){const _0x54f647=a122_0x8d0b,_0x2d2862=_0x2e8ee7();while(!![]){try{const _0x2671d9=parseInt(_0x54f647(0x1fb))/0x1*(parseInt(_0x54f647(0x1ce))/0x2)+parseInt(_0x54f647(0x1e6))/0x3+-parseInt(_0x54f647(0x1cb))/0x4+parseInt(_0x54f647(0x1e0))/0x5*(parseInt(_0x54f647(0x1f9))/0x6)+parseInt(_0x54f647(0x1f8))/0x7+-parseInt(_0x54f647(0x20d))/0x8+parseInt(_0x54f647(0x205))/0x9;if(_0x2671d9===_0x4576f5)break;else _0x2d2862['push'](_0x2d2862['shift']());}catch(_0x1f3a39){_0x2d2862['push'](_0x2d2862['shift']());}}}(a122_0x2920,0x9a4cb));const logger=require('../logger')['winstonLogger'],RequestUtils=require(a122_0x2fc206(0x1f5));class TestOrderingServerHandler{constructor(_0x12afa0){const _0x108289=a122_0x2fc206;this[_0x108289(0x1fd)]=_0x12afa0,this[_0x108289(0x1d0)]=0x0,this[_0x108289(0x204)]=0x3c,this['defaultTimeoutInterval']=0x5;}['getSplitTestsAPICallCount'](){const _0x10ed0a=a122_0x2fc206;return this[_0x10ed0a(0x1d0)];}['processSplitTestsResponse'](_0x457df8){const _0xa28012=a122_0x2fc206,_0x39db7a={};_0x39db7a[_0xa28012(0x1f7)]=_0xa28012(0x1e4);const _0xdf3da1=_0x39db7a;if(!_0x457df8)return null;const _0x5085de={};return _0x5085de[_0xa28012(0x1d1)]=_0x457df8['timeout']||this['defaultTimeout'],_0x5085de[_0xa28012(0x1d5)]=_0x457df8[_0xa28012(0x1d5)]||this[_0xa28012(0x1cd)],_0x5085de['resultUrl']=_0x457df8[_0xa28012(0x1e8)],_0x5085de['timeoutUrl']=_0x457df8['timeoutUrl'],logger['debug'](_0xa28012(0x1e1)+JSON['stringify'](_0x457df8)),logger['debug'](_0xa28012(0x209)+_0x457df8[_0xa28012(0x1d1)]+_0xa28012(0x207)+_0x457df8['timeoutInterval']+_0xa28012(0x1eb)+_0x457df8['resultUrl']+_0xa28012(0x20c)+_0x457df8[_0xa28012(0x1fe)]),(!_0x457df8['timeout']||!_0x457df8[_0xa28012(0x1d5)]||!_0x457df8[_0xa28012(0x1fe)]||!_0x457df8[_0xa28012(0x1e8)])&&logger['debug'](_0xdf3da1['LUHZf']),_0x5085de;}async[a122_0x2fc206(0x1f3)](_0x4eadda,_0xc6b9f9){const _0x18e28a=a122_0x2fc206,_0x54bbd8={'HPNQi':function(_0x474746,_0x4e874a){return _0x474746(_0x4e874a);},'kWFWt':function(_0x49a2aa,_0x3b68df){return _0x49a2aa(_0x3b68df);}};try{const _0xf54fe5=_0x54bbd8[_0x18e28a(0x1da)](parseInt,process[_0x18e28a(0x1e9)]['BROWSERSTACK_NODE_INDEX']||'0'),_0x180df6=_0x54bbd8[_0x18e28a(0x1f2)](parseInt,process[_0x18e28a(0x1e9)][_0x18e28a(0x1d2)]||'1'),_0x25e02e=process[_0x18e28a(0x1e9)][_0x18e28a(0x1db)],_0x6c7ba6={'nodeIndex':_0xf54fe5,'totalNodes':_0x180df6,'projectName':this[_0x18e28a(0x1fd)][_0x18e28a(0x1ea)],'buildName':this[_0x18e28a(0x1fd)][_0x18e28a(0x20a)],'buildRunIdentifier':_0x25e02e,'orchestrationStrategy':_0xc6b9f9,'hostInfo':this['_getHostInfo'](),'tests':_0x4eadda['map'](_0x271e50=>({'filePath':_0x271e50}))},_0x39c4cc=await RequestUtils[_0x18e28a(0x1ff)](_0x6c7ba6);return logger[_0x18e28a(0x201)](_0x18e28a(0x1f6)+JSON[_0x18e28a(0x1f1)](_0x39c4cc)),this[_0x18e28a(0x1d0)]+=0x1,this[_0x18e28a(0x1fc)](_0x39c4cc[_0x18e28a(0x1ec)]||{});}catch(_0x147ccc){return logger[_0x18e28a(0x201)]('[splitTests]\x20Exception\x20in\x20sending\x20test\x20files:\x20'+(_0x147ccc[_0x18e28a(0x200)]||_0x147ccc['toString']())),null;}}async[a122_0x2fc206(0x1cf)](_0x34cfe0){const _0x1bd755=a122_0x2fc206,_0x556e6b={};_0x556e6b[_0x1bd755(0x1e7)]='[getOrderedTestFiles]\x20Fetching\x20ordered\x20test\x20files',_0x556e6b[_0x1bd755(0x1de)]=function(_0x1cde4a,_0x30a815){return _0x1cde4a*_0x30a815;},_0x556e6b['ZavWk']=function(_0x101987,_0x419c25){return _0x101987&&_0x419c25;},_0x556e6b[_0x1bd755(0x20b)]=function(_0x1db11e,_0xa5f44){return _0x1db11e<_0xa5f44;},_0x556e6b[_0x1bd755(0x1d7)]=function(_0x4d27f5,_0x3ba20c){return _0x4d27f5-_0x3ba20c;},_0x556e6b[_0x1bd755(0x1d9)]=_0x1bd755(0x1d8),_0x556e6b['hpeGN']=function(_0x9806b7,_0x3ae561){return _0x9806b7>_0x3ae561;};const _0x451740=_0x556e6b;if(!_0x34cfe0)return null;try{logger['debug'](_0x451740[_0x1bd755(0x1e7)]);const _0x57d629=_0x34cfe0[_0x1bd755(0x1d5)]||this[_0x1bd755(0x1cd)],_0x2d6d94=_0x451740['LvJIr'](_0x34cfe0[_0x1bd755(0x1d1)]||this[_0x1bd755(0x204)],0x3e8),_0x3c46a3=_0x34cfe0[_0x1bd755(0x1fe)],_0x42d858=_0x34cfe0[_0x1bd755(0x1e8)];if(_0x451740['ZavWk'](!_0x42d858,!_0x3c46a3))return null;let _0x483d9f=null;const _0x309d1e=Date[_0x1bd755(0x202)]();while(_0x42d858&&_0x451740[_0x1bd755(0x20b)](_0x451740[_0x1bd755(0x1d7)](Date['now'](),_0x309d1e),_0x2d6d94)){logger[_0x1bd755(0x201)](_0x1bd755(0x203)+_0x42d858);const _0x29012c=await RequestUtils[_0x1bd755(0x1ef)](_0x42d858);logger[_0x1bd755(0x201)]('[getOrderedTestFiles]\x20Response\x20from\x20result\x20URL:\x20'+JSON[_0x1bd755(0x1f1)](_0x29012c)),this[_0x1bd755(0x1d0)]+=0x1;if(_0x29012c&&_0x29012c[_0x1bd755(0x1d3)]){_0x483d9f=_0x29012c[_0x1bd755(0x1d3)];break;}await new Promise(_0x32ffea=>setTimeout(_0x32ffea,_0x57d629*0x3e8)),logger[_0x1bd755(0x201)](_0x1bd755(0x206)+_0x57d629+_0x1bd755(0x1e2));}if(_0x451740[_0x1bd755(0x20e)](!_0x483d9f,_0x3c46a3)){logger['debug'](_0x451740['xpnUy']);const _0x5b845f=await RequestUtils[_0x1bd755(0x1ef)](_0x3c46a3);_0x5b845f&&_0x5b845f[_0x1bd755(0x1d3)]&&(_0x483d9f=_0x5b845f['tests']);}if(_0x483d9f&&_0x451740[_0x1bd755(0x1e3)](_0x483d9f[_0x1bd755(0x208)],0x0))return _0x483d9f[_0x1bd755(0x1fa)](_0x3ae16c=>_0x3ae16c[_0x1bd755(0x1dc)]);return null;}catch(_0x248fb6){return logger[_0x1bd755(0x201)](_0x1bd755(0x1f4)+(_0x248fb6['stack']||_0x248fb6[_0x1bd755(0x1ed)]())),null;}}[a122_0x2fc206(0x1ee)](){const _0x4b1c68=a122_0x2fc206,_0x28ada4={'sqPPD':function(_0x36c98c,_0x1758dc){return _0x36c98c(_0x1758dc);}},_0x54ae81=_0x28ada4[_0x4b1c68(0x1e5)](require,'os');try{return{'hostname':_0x54ae81[_0x4b1c68(0x1cc)](),'platform':_0x54ae81[_0x4b1c68(0x1d6)](),'release':_0x54ae81[_0x4b1c68(0x1f0)](),'arch':_0x54ae81[_0x4b1c68(0x1df)](),'totalmem':_0x54ae81['totalmem'](),'freemem':_0x54ae81[_0x4b1c68(0x1dd)]()};}catch(_0x5b2366){return{};}}}function a122_0x2920(){const _0x1ea62f=['now','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL:\x20','defaultTimeout','3348675WMAMeL','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL\x20after\x20waiting\x20for\x20',',\x20timeoutInterval:\x20','length','[processSplitTestsResponse]\x20timeout:\x20','buildName','QaxEH',',\x20timeoutUrl:\x20','3446312ahghUO','ZavWk','4409372QbIJWW','hostname','defaultTimeoutInterval','13654QiMoyD','getOrderedTestFiles','splitTestsAPICallCount','timeout','BROWSERSTACK_TOTAL_NODE_COUNT','tests','exports','timeoutInterval','platform','KlUDn','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20timeout\x20URL','xpnUy','HPNQi','BROWSERSTACK_BUILD_RUN_IDENTIFIER','filePath','freemem','LvJIr','arch','169475MptIkA','[processSplitTestsResponse]\x20Processing\x20response:\x20','\x20seconds.','hpeGN','[processSplitTestsResponse]\x20Received\x20null\x20value(s)\x20for\x20some\x20attributes\x20in\x20split\x20tests\x20API\x20response','sqPPD','2359200hnWYPM','UEJql','resultUrl','env','projectName',',\x20resultUrl:\x20','body','toString','_getHostInfo','getSplitFiles','release','stringify','kWFWt','splitTests','[getOrderedTestFiles]\x20Exception\x20in\x20fetching\x20ordered\x20test\x20files:\x20','./requestUtils','[splitTests]\x20Response\x20from\x20split\x20tests\x20API:\x20','LUHZf','557452dperFg','36GXoSyN','map','106oTEiMC','processSplitTestsResponse','config','timeoutUrl','postSplitFiles','stack','debug'];a122_0x2920=function(){return _0x1ea62f;};return a122_0x2920();}module[a122_0x2fc206(0x1d4)]=TestOrderingServerHandler;