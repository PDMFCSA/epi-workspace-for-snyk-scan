const a134_0x4c558a=a134_0x3f80;function a134_0x6e7d(){const _0x4033d1=['BROWSERSTACK_TOTAL_NODE_COUNT','resultUrl','arch','timeout','getSplitFiles','freemem','postSplitFiles','[splitTests]\x20Response\x20from\x20split\x20tests\x20API:\x20',',\x20timeoutInterval:\x20','20606wGhltb','BROWSERSTACK_NODE_INDEX','BROWSERSTACK_BUILD_RUN_IDENTIFIER','IBZGZ','defaultTimeoutInterval','body','tMuZt','QKSLE','platform','GBLuf','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20timeout\x20URL','31DjdIiP','979664epGMVp','getOrderedTestFiles','config','projectName','stack','winstonLogger','1688040AMPQHG','\x20seconds.','SbHyW','processSplitTestsResponse','3788392vvuFoD','debug','timeoutUrl','hostname','750722WADvta','toString','cbqgM','[processSplitTestsResponse]\x20timeout:\x20','env','QZWmR','576291xICGsp','timeoutInterval','map','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL:\x20','length','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL\x20after\x20waiting\x20for\x20','filePath','[processSplitTestsResponse]\x20Received\x20null\x20value(s)\x20for\x20some\x20attributes\x20in\x20split\x20tests\x20API\x20response','[getOrderedTestFiles]\x20Exception\x20in\x20fetching\x20ordered\x20test\x20files:\x20',',\x20resultUrl:\x20','defaultTimeout','EmppI',',\x20timeoutUrl:\x20','[splitTests]\x20Exception\x20in\x20sending\x20test\x20files:\x20','splitTestsAPICallCount','920112RtuPFF','splitTests','exports','tests','[getOrderedTestFiles]\x20Response\x20from\x20result\x20URL:\x20','totalmem','stringify','puBeS','now'];a134_0x6e7d=function(){return _0x4033d1;};return a134_0x6e7d();}function a134_0x3f80(_0x2e88e5,_0x2c7fc3){const _0x6e7d45=a134_0x6e7d();return a134_0x3f80=function(_0x3f80e4,_0xd8a52a){_0x3f80e4=_0x3f80e4-0x1d4;let _0x3f21d2=_0x6e7d45[_0x3f80e4];return _0x3f21d2;},a134_0x3f80(_0x2e88e5,_0x2c7fc3);}(function(_0xd7113f,_0x4481b1){const _0x5862f9=a134_0x3f80,_0x341cb4=_0xd7113f();while(!![]){try{const _0x5d171d=-parseInt(_0x5862f9(0x1f8))/0x1*(parseInt(_0x5862f9(0x1ed))/0x2)+parseInt(_0x5862f9(0x20d))/0x3+-parseInt(_0x5862f9(0x1f9))/0x4+parseInt(_0x5862f9(0x1ff))/0x5+-parseInt(_0x5862f9(0x1db))/0x6+-parseInt(_0x5862f9(0x207))/0x7+parseInt(_0x5862f9(0x203))/0x8;if(_0x5d171d===_0x4481b1)break;else _0x341cb4['push'](_0x341cb4['shift']());}catch(_0x474652){_0x341cb4['push'](_0x341cb4['shift']());}}}(a134_0x6e7d,0x2b8ab));const logger=require('../logger')[a134_0x4c558a(0x1fe)],RequestUtils=require('./requestUtils');class TestOrderingServerHandler{constructor(_0x1cf318){const _0x104e99=a134_0x4c558a;this['config']=_0x1cf318,this[_0x104e99(0x1da)]=0x0,this[_0x104e99(0x1d6)]=0x3c,this[_0x104e99(0x1f1)]=0x5;}['getSplitTestsAPICallCount'](){const _0x125225=a134_0x4c558a;return this[_0x125225(0x1da)];}[a134_0x4c558a(0x202)](_0x27ad18){const _0x4cbaf7=a134_0x4c558a,_0x2ce4f3={};_0x2ce4f3['QZWmR']=_0x4cbaf7(0x214);const _0x2bac65=_0x2ce4f3;if(!_0x27ad18)return null;const _0xabec8c={};return _0xabec8c['timeout']=_0x27ad18[_0x4cbaf7(0x1e7)]||this[_0x4cbaf7(0x1d6)],_0xabec8c[_0x4cbaf7(0x20e)]=_0x27ad18[_0x4cbaf7(0x20e)]||this[_0x4cbaf7(0x1f1)],_0xabec8c['resultUrl']=_0x27ad18[_0x4cbaf7(0x1e5)],_0xabec8c[_0x4cbaf7(0x205)]=_0x27ad18[_0x4cbaf7(0x205)],logger[_0x4cbaf7(0x204)]('[processSplitTestsResponse]\x20Processing\x20response:\x20'+JSON[_0x4cbaf7(0x1e1)](_0x27ad18)),logger[_0x4cbaf7(0x204)](_0x4cbaf7(0x20a)+_0x27ad18[_0x4cbaf7(0x1e7)]+_0x4cbaf7(0x1ec)+_0x27ad18['timeoutInterval']+_0x4cbaf7(0x1d5)+_0x27ad18[_0x4cbaf7(0x1e5)]+_0x4cbaf7(0x1d8)+_0x27ad18[_0x4cbaf7(0x205)]),(!_0x27ad18['timeout']||!_0x27ad18[_0x4cbaf7(0x20e)]||!_0x27ad18[_0x4cbaf7(0x205)]||!_0x27ad18[_0x4cbaf7(0x1e5)])&&logger['debug'](_0x2bac65[_0x4cbaf7(0x20c)]),_0xabec8c;}async[a134_0x4c558a(0x1dc)](_0x28527c,_0x258f3c){const _0x31f6bd=a134_0x4c558a,_0x2e0bd8={'guSka':function(_0x2ec49b,_0x46e957){return _0x2ec49b(_0x46e957);},'ehZqt':function(_0x38c61f,_0x14222e){return _0x38c61f(_0x14222e);}};try{const _0x446b0d=_0x2e0bd8['guSka'](parseInt,process[_0x31f6bd(0x20b)][_0x31f6bd(0x1ee)]||'0'),_0xddb95=_0x2e0bd8['ehZqt'](parseInt,process[_0x31f6bd(0x20b)][_0x31f6bd(0x1e4)]||'1'),_0x224ebd=process['env'][_0x31f6bd(0x1ef)],_0x50c7be={'nodeIndex':_0x446b0d,'totalNodes':_0xddb95,'projectName':this[_0x31f6bd(0x1fb)][_0x31f6bd(0x1fc)],'buildName':this[_0x31f6bd(0x1fb)]['buildName'],'buildRunIdentifier':_0x224ebd,'orchestrationStrategy':_0x258f3c,'hostInfo':this['_getHostInfo'](),'tests':_0x28527c[_0x31f6bd(0x20f)](_0x378317=>({'filePath':_0x378317}))},_0xfaa854=await RequestUtils[_0x31f6bd(0x1ea)](_0x50c7be);return logger[_0x31f6bd(0x204)](_0x31f6bd(0x1eb)+JSON[_0x31f6bd(0x1e1)](_0xfaa854)),this[_0x31f6bd(0x1da)]+=0x1,this['processSplitTestsResponse'](_0xfaa854[_0x31f6bd(0x1f2)]||{});}catch(_0x49a900){return logger['debug'](_0x31f6bd(0x1d9)+(_0x49a900[_0x31f6bd(0x1fd)]||_0x49a900[_0x31f6bd(0x208)]())),null;}}async[a134_0x4c558a(0x1fa)](_0x1c5337){const _0x29b291=a134_0x4c558a,_0x5bba1d={};_0x5bba1d[_0x29b291(0x1f4)]='[getOrderedTestFiles]\x20Fetching\x20ordered\x20test\x20files',_0x5bba1d[_0x29b291(0x201)]=function(_0x44bcfd,_0x377f27){return _0x44bcfd*_0x377f27;},_0x5bba1d['puBeS']=function(_0x13abbe,_0x2f5f5c){return _0x13abbe&&_0x2f5f5c;},_0x5bba1d[_0x29b291(0x1f3)]=function(_0x2f8f29,_0x2be496){return _0x2f8f29<_0x2be496;},_0x5bba1d['IBZGZ']=function(_0x404d81,_0x5c1748){return _0x404d81-_0x5c1748;},_0x5bba1d[_0x29b291(0x209)]=function(_0x45c6e4,_0x4f4459){return _0x45c6e4&&_0x4f4459;},_0x5bba1d[_0x29b291(0x1d7)]=_0x29b291(0x1f7),_0x5bba1d[_0x29b291(0x1f6)]=function(_0x36a07a,_0x510394){return _0x36a07a>_0x510394;};const _0x842a9b=_0x5bba1d;if(!_0x1c5337)return null;try{logger[_0x29b291(0x204)](_0x842a9b[_0x29b291(0x1f4)]);const _0x5570f5=_0x1c5337[_0x29b291(0x20e)]||this[_0x29b291(0x1f1)],_0x9aa396=_0x842a9b[_0x29b291(0x201)](_0x1c5337[_0x29b291(0x1e7)]||this['defaultTimeout'],0x3e8),_0xdd6cf9=_0x1c5337[_0x29b291(0x205)],_0x45d649=_0x1c5337[_0x29b291(0x1e5)];if(_0x842a9b[_0x29b291(0x1e2)](!_0x45d649,!_0xdd6cf9))return null;let _0x710306=null;const _0x55f467=Date[_0x29b291(0x1e3)]();while(_0x45d649&&_0x842a9b[_0x29b291(0x1f3)](_0x842a9b[_0x29b291(0x1f0)](Date['now'](),_0x55f467),_0x9aa396)){logger[_0x29b291(0x204)](_0x29b291(0x210)+_0x45d649);const _0x1d5167=await RequestUtils[_0x29b291(0x1e8)](_0x45d649);logger['debug'](_0x29b291(0x1df)+JSON['stringify'](_0x1d5167)),this[_0x29b291(0x1da)]+=0x1;if(_0x1d5167&&_0x1d5167[_0x29b291(0x1de)]){_0x710306=_0x1d5167[_0x29b291(0x1de)];break;}await new Promise(_0x5a34e6=>setTimeout(_0x5a34e6,_0x5570f5*0x3e8)),logger[_0x29b291(0x204)](_0x29b291(0x212)+_0x5570f5+_0x29b291(0x200));}if(_0x842a9b[_0x29b291(0x209)](!_0x710306,_0xdd6cf9)){logger['debug'](_0x842a9b[_0x29b291(0x1d7)]);const _0x203624=await RequestUtils[_0x29b291(0x1e8)](_0xdd6cf9);_0x203624&&_0x203624[_0x29b291(0x1de)]&&(_0x710306=_0x203624[_0x29b291(0x1de)]);}if(_0x710306&&_0x842a9b[_0x29b291(0x1f6)](_0x710306[_0x29b291(0x211)],0x0))return _0x710306['map'](_0x1536b1=>_0x1536b1[_0x29b291(0x213)]);return null;}catch(_0x21bca7){return logger[_0x29b291(0x204)](_0x29b291(0x1d4)+(_0x21bca7['stack']||_0x21bca7[_0x29b291(0x208)]())),null;}}['_getHostInfo'](){const _0x58cc2f=a134_0x4c558a,_0xec843f={'hCLXg':function(_0x51820e,_0x5eb5ea){return _0x51820e(_0x5eb5ea);}},_0x41e46c=_0xec843f['hCLXg'](require,'os');try{return{'hostname':_0x41e46c[_0x58cc2f(0x206)](),'platform':_0x41e46c[_0x58cc2f(0x1f5)](),'release':_0x41e46c['release'](),'arch':_0x41e46c[_0x58cc2f(0x1e6)](),'totalmem':_0x41e46c[_0x58cc2f(0x1e0)](),'freemem':_0x41e46c[_0x58cc2f(0x1e9)]()};}catch(_0x160e0c){return{};}}}module[a134_0x4c558a(0x1dd)]=TestOrderingServerHandler;