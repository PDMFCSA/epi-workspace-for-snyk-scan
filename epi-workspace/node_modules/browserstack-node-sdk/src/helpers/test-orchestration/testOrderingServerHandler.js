const a124_0x71d3=a124_0x1c33;function a124_0x1c33(_0x1d6820,_0x3272aa){const _0x5c62e8=a124_0x5c62();return a124_0x1c33=function(_0x1c336f,_0x197f89){_0x1c336f=_0x1c336f-0x68;let _0x5f4458=_0x5c62e8[_0x1c336f];return _0x5f4458;},a124_0x1c33(_0x1d6820,_0x3272aa);}function a124_0x5c62(){const _0x3a89e6=['bipIp','133NYEpGK','4361444fvIMrW','map','BROWSERSTACK_BUILD_RUN_IDENTIFIER','[splitTests]\x20Exception\x20in\x20sending\x20test\x20files:\x20',',\x20timeoutInterval:\x20','winstonLogger','JpjpJ','3542845eNuwVp','timeout','VwKqb','defaultTimeoutInterval','yWWlS','23301198EGrALg','freemem','hostname','release',',\x20resultUrl:\x20','[splitTests]\x20Response\x20from\x20split\x20tests\x20API:\x20','IjXnZ','body','94iDORDK','timeoutInterval','PPgba','toString','[processSplitTestsResponse]\x20Processing\x20response:\x20','getOrderedTestFiles','5572008fYoWEr','resultUrl','./requestUtils','XDDkP','filePath','JqdUG','defaultTimeout','[processSplitTestsResponse]\x20Received\x20null\x20value(s)\x20for\x20some\x20attributes\x20in\x20split\x20tests\x20API\x20response','config','rMpsP','tests','1759662rKfRjx',',\x20timeoutUrl:\x20','splitTestsAPICallCount','timeoutUrl','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL\x20after\x20waiting\x20for\x20','platform','517648GwRXiU','[processSplitTestsResponse]\x20timeout:\x20','env','now','\x20seconds.','totalmem','_getHostInfo','exports','[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20timeout\x20URL','projectName','stack','OyZVa','27386CAaXtB','buildName','[getOrderedTestFiles]\x20Exception\x20in\x20fetching\x20ordered\x20test\x20files:\x20','postSplitFiles','stringify','processSplitTestsResponse','xyXtV','debug','BROWSERSTACK_TOTAL_NODE_COUNT'];a124_0x5c62=function(){return _0x3a89e6;};return a124_0x5c62();}(function(_0x2c3e20,_0x32af27){const _0x1af997=a124_0x1c33,_0x2251a1=_0x2c3e20();while(!![]){try{const _0x22fe02=-parseInt(_0x1af997(0xa2))/0x1*(parseInt(_0x1af997(0x7f))/0x2)+parseInt(_0x1af997(0x90))/0x3+parseInt(_0x1af997(0x6b))/0x4+parseInt(_0x1af997(0x72))/0x5+parseInt(_0x1af997(0x85))/0x6+-parseInt(_0x1af997(0x6a))/0x7*(-parseInt(_0x1af997(0x96))/0x8)+-parseInt(_0x1af997(0x77))/0x9;if(_0x22fe02===_0x32af27)break;else _0x2251a1['push'](_0x2251a1['shift']());}catch(_0x2dc7fd){_0x2251a1['push'](_0x2251a1['shift']());}}}(a124_0x5c62,0xa2f0a));const logger=require('../logger')[a124_0x71d3(0x70)],RequestUtils=require(a124_0x71d3(0x87));class TestOrderingServerHandler{constructor(_0x508a75){const _0x3d9348=a124_0x71d3;this[_0x3d9348(0x8d)]=_0x508a75,this[_0x3d9348(0x92)]=0x0,this[_0x3d9348(0x8b)]=0x3c,this[_0x3d9348(0x75)]=0x5;}['getSplitTestsAPICallCount'](){const _0x5c3f3e=a124_0x71d3;return this[_0x5c3f3e(0x92)];}[a124_0x71d3(0xa7)](_0x62498a){const _0xc110c5=a124_0x71d3,_0x2eeab1={};_0x2eeab1[_0xc110c5(0x88)]=_0xc110c5(0x8c);const _0x806d=_0x2eeab1;if(!_0x62498a)return null;const _0x2754b9={};return _0x2754b9[_0xc110c5(0x73)]=_0x62498a[_0xc110c5(0x73)]||this['defaultTimeout'],_0x2754b9[_0xc110c5(0x80)]=_0x62498a[_0xc110c5(0x80)]||this[_0xc110c5(0x75)],_0x2754b9[_0xc110c5(0x86)]=_0x62498a[_0xc110c5(0x86)],_0x2754b9[_0xc110c5(0x93)]=_0x62498a[_0xc110c5(0x93)],logger[_0xc110c5(0xa9)](_0xc110c5(0x83)+JSON[_0xc110c5(0xa6)](_0x62498a)),logger['debug'](_0xc110c5(0x97)+_0x62498a['timeout']+_0xc110c5(0x6f)+_0x62498a[_0xc110c5(0x80)]+_0xc110c5(0x7b)+_0x62498a[_0xc110c5(0x86)]+_0xc110c5(0x91)+_0x62498a['timeoutUrl']),(!_0x62498a[_0xc110c5(0x73)]||!_0x62498a['timeoutInterval']||!_0x62498a[_0xc110c5(0x93)]||!_0x62498a['resultUrl'])&&logger[_0xc110c5(0xa9)](_0x806d[_0xc110c5(0x88)]),_0x2754b9;}async['splitTests'](_0x2ba05c,_0x5f739b){const _0xf9eb3c=a124_0x71d3,_0x440280={'OyZVa':function(_0x12dfff,_0x5c1f13){return _0x12dfff(_0x5c1f13);},'tZrhR':function(_0x57cf86,_0x11f2c0){return _0x57cf86(_0x11f2c0);}};try{const _0x13551e=_0x440280[_0xf9eb3c(0xa1)](parseInt,process[_0xf9eb3c(0x98)]['BROWSERSTACK_NODE_INDEX']||'0'),_0x51929e=_0x440280['tZrhR'](parseInt,process[_0xf9eb3c(0x98)][_0xf9eb3c(0x68)]||'1'),_0x2110b7=process[_0xf9eb3c(0x98)][_0xf9eb3c(0x6d)],_0x36fcb6={'nodeIndex':_0x13551e,'totalNodes':_0x51929e,'projectName':this[_0xf9eb3c(0x8d)][_0xf9eb3c(0x9f)],'buildName':this[_0xf9eb3c(0x8d)][_0xf9eb3c(0xa3)],'buildRunIdentifier':_0x2110b7,'orchestrationStrategy':_0x5f739b,'hostInfo':this[_0xf9eb3c(0x9c)](),'tests':_0x2ba05c[_0xf9eb3c(0x6c)](_0x514f4b=>({'filePath':_0x514f4b}))},_0x2e9dbd=await RequestUtils[_0xf9eb3c(0xa5)](_0x36fcb6);return logger[_0xf9eb3c(0xa9)](_0xf9eb3c(0x7c)+JSON[_0xf9eb3c(0xa6)](_0x2e9dbd)),this[_0xf9eb3c(0x92)]+=0x1,this[_0xf9eb3c(0xa7)](_0x2e9dbd[_0xf9eb3c(0x7e)]||{});}catch(_0x284d4d){return logger[_0xf9eb3c(0xa9)](_0xf9eb3c(0x6e)+(_0x284d4d[_0xf9eb3c(0xa0)]||_0x284d4d[_0xf9eb3c(0x82)]())),null;}}async[a124_0x71d3(0x84)](_0x8d238d){const _0x20aea2=a124_0x71d3,_0x767fcb={};_0x767fcb[_0x20aea2(0xa8)]='[getOrderedTestFiles]\x20Fetching\x20ordered\x20test\x20files',_0x767fcb[_0x20aea2(0x69)]=function(_0x5234ab,_0x47286b){return _0x5234ab*_0x47286b;},_0x767fcb[_0x20aea2(0x8e)]=function(_0x2c5e72,_0x94c11f){return _0x2c5e72&&_0x94c11f;},_0x767fcb[_0x20aea2(0x76)]=function(_0x8c99ff,_0x8fbc2a){return _0x8c99ff<_0x8fbc2a;},_0x767fcb[_0x20aea2(0x7d)]=function(_0x2415a1,_0x436bbf){return _0x2415a1-_0x436bbf;},_0x767fcb['JpjpJ']=function(_0x15b910,_0x4c6a48){return _0x15b910&&_0x4c6a48;},_0x767fcb[_0x20aea2(0x8a)]=_0x20aea2(0x9e),_0x767fcb[_0x20aea2(0x74)]=function(_0x4cf4b1,_0x59a41e){return _0x4cf4b1>_0x59a41e;};const _0x344aab=_0x767fcb;if(!_0x8d238d)return null;try{logger[_0x20aea2(0xa9)](_0x344aab[_0x20aea2(0xa8)]);const _0x2047ab=_0x8d238d[_0x20aea2(0x80)]||this[_0x20aea2(0x75)],_0x2d5541=_0x344aab['bipIp'](_0x8d238d[_0x20aea2(0x73)]||this[_0x20aea2(0x8b)],0x3e8),_0x3c4617=_0x8d238d[_0x20aea2(0x93)],_0x567816=_0x8d238d[_0x20aea2(0x86)];if(_0x344aab['rMpsP'](!_0x567816,!_0x3c4617))return null;let _0x4f4d23=null;const _0x54277c=Date[_0x20aea2(0x99)]();while(_0x567816&&_0x344aab[_0x20aea2(0x76)](_0x344aab[_0x20aea2(0x7d)](Date['now'](),_0x54277c),_0x2d5541)){logger[_0x20aea2(0xa9)]('[getOrderedTestFiles]\x20Fetching\x20ordered\x20tests\x20from\x20result\x20URL:\x20'+_0x567816);const _0x1ac67b=await RequestUtils['getSplitFiles'](_0x567816);logger[_0x20aea2(0xa9)]('[getOrderedTestFiles]\x20Response\x20from\x20result\x20URL:\x20'+JSON[_0x20aea2(0xa6)](_0x1ac67b)),this[_0x20aea2(0x92)]+=0x1;if(_0x1ac67b&&_0x1ac67b[_0x20aea2(0x8f)]){_0x4f4d23=_0x1ac67b[_0x20aea2(0x8f)];break;}await new Promise(_0x202c2a=>setTimeout(_0x202c2a,_0x2047ab*0x3e8)),logger['debug'](_0x20aea2(0x94)+_0x2047ab+_0x20aea2(0x9a));}if(_0x344aab[_0x20aea2(0x71)](!_0x4f4d23,_0x3c4617)){logger[_0x20aea2(0xa9)](_0x344aab['JqdUG']);const _0x43d604=await RequestUtils['getSplitFiles'](_0x3c4617);_0x43d604&&_0x43d604[_0x20aea2(0x8f)]&&(_0x4f4d23=_0x43d604[_0x20aea2(0x8f)]);}if(_0x4f4d23&&_0x344aab[_0x20aea2(0x74)](_0x4f4d23['length'],0x0))return _0x4f4d23[_0x20aea2(0x6c)](_0x945cc6=>_0x945cc6[_0x20aea2(0x89)]);return null;}catch(_0x10b967){return logger[_0x20aea2(0xa9)](_0x20aea2(0xa4)+(_0x10b967['stack']||_0x10b967[_0x20aea2(0x82)]())),null;}}['_getHostInfo'](){const _0x1ed92a=a124_0x71d3,_0x4f69a1={'PPgba':function(_0xbd4ddb,_0x22a23a){return _0xbd4ddb(_0x22a23a);}},_0x2eea75=_0x4f69a1[_0x1ed92a(0x81)](require,'os');try{return{'hostname':_0x2eea75[_0x1ed92a(0x79)](),'platform':_0x2eea75[_0x1ed92a(0x95)](),'release':_0x2eea75[_0x1ed92a(0x7a)](),'arch':_0x2eea75['arch'](),'totalmem':_0x2eea75[_0x1ed92a(0x9b)](),'freemem':_0x2eea75[_0x1ed92a(0x78)]()};}catch(_0x535b90){return{};}}}module[a124_0x71d3(0x9d)]=TestOrderingServerHandler;