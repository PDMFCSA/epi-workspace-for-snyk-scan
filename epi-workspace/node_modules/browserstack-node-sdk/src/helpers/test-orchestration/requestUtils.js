const a122_0x580cfc=a122_0x5c29;(function(_0x2fc8ee,_0x1bbeaa){const _0x37cb0e=a122_0x5c29,_0xafcda2=_0x2fc8ee();while(!![]){try{const _0x3d2670=-parseInt(_0x37cb0e(0xf9))/0x1+parseInt(_0x37cb0e(0xcb))/0x2*(parseInt(_0x37cb0e(0xc7))/0x3)+-parseInt(_0x37cb0e(0xe2))/0x4*(parseInt(_0x37cb0e(0xd6))/0x5)+parseInt(_0x37cb0e(0xb9))/0x6+parseInt(_0x37cb0e(0xbd))/0x7+parseInt(_0x37cb0e(0xba))/0x8+-parseInt(_0x37cb0e(0xe0))/0x9;if(_0x3d2670===_0x1bbeaa)break;else _0xafcda2['push'](_0xafcda2['shift']());}catch(_0x181ecf){_0xafcda2['push'](_0xafcda2['shift']());}}}(a122_0x54ab,0x305e8));const https=require(a122_0x580cfc(0xdd)),{URL}=require('url'),logger=require(a122_0x580cfc(0x106))[a122_0x580cfc(0xff)],{ORCHESTRATION_API_URL,FAILED_TESTS_ENDPOINT,SPLIT_TESTS_ENDPOINT}=require('./constants'),TAG=a122_0x580cfc(0xc0);function a122_0x5c29(_0x3c1c95,_0x52b3c8){const _0x54ab79=a122_0x54ab();return a122_0x5c29=function(_0x5c29a7,_0x15e8b1){_0x5c29a7=_0x5c29a7-0xb6;let _0x288b22=_0x54ab79[_0x5c29a7];return _0x288b22;},a122_0x5c29(_0x3c1c95,_0x52b3c8);}class RequestUtils{static async[a122_0x580cfc(0xb6)](_0x41d981,_0x43507c,_0x1ee19f=null){const _0x5a347d=a122_0x580cfc,_0x519395={'YhVVM':function(_0x1e2cef,_0x19aad2){return _0x1e2cef(_0x19aad2);},'PIfvS':_0x5a347d(0xd1),'iYWie':_0x5a347d(0xc3),'NyATN':function(_0x306e36,_0x41a4e8){return _0x306e36(_0x41a4e8);},'juMxn':_0x5a347d(0x101),'DbvUF':function(_0x532a35,_0x41352c){return _0x532a35===_0x41352c;},'zsjiC':_0x5a347d(0xe8),'nXTjr':_0x5a347d(0xd3),'tsVUd':_0x5a347d(0xf3),'WXWpV':function(_0x38c4ac,_0xd783ca){return _0x38c4ac+_0xd783ca;}},_0x572c94=process[_0x5a347d(0x100)][_0x5a347d(0xd7)]||'',_0x49f75d={};_0x49f75d[_0x5a347d(0xd8)]=_0x5a347d(0xc9)+_0x572c94,_0x49f75d[_0x5a347d(0xb7)]=_0x519395[_0x5a347d(0xf5)];const _0x274762=_0x49f75d,{hostname:_0x448013,pathname:_0xa58f90,search:_0x26ad91}=new URL(_0x43507c),_0x40438b={'hostname':_0x448013,'path':_0x519395[_0x5a347d(0xc6)](_0xa58f90,_0x26ad91),'method':_0x41d981,'headers':_0x274762};return logger['debug']('['+TAG+_0x5a347d(0xbf)+_0x41d981+_0x5a347d(0x104)+_0x43507c+_0x5a347d(0xd5)+JSON[_0x5a347d(0xdb)](_0x274762)+'\x20and\x20data:\x20'+JSON[_0x5a347d(0xdb)](_0x1ee19f)+_0x5a347d(0xe4)+_0x572c94),new Promise((_0x50770b,_0x586366)=>{const _0x4b138f=_0x5a347d,_0x1e4b74={'kWjVf':function(_0x2b619d,_0x3257ff){const _0x12608f=a122_0x5c29;return _0x519395[_0x12608f(0xbb)](_0x2b619d,_0x3257ff);},'dCLMB':_0x519395['PIfvS'],'vkhjd':_0x519395[_0x4b138f(0xf8)],'oNjxI':function(_0x18f726,_0x5695b4){const _0x53212e=_0x4b138f;return _0x519395[_0x53212e(0xf4)](_0x18f726,_0x5695b4);}},_0x59e24e=https[_0x4b138f(0x10a)](_0x40438b,_0x5173ad=>{const _0x10299=_0x4b138f,_0x3da4ef={'idMxa':function(_0x8245ef,_0x50f3cf){return _0x1e4b74['kWjVf'](_0x8245ef,_0x50f3cf);}};let _0x43d4bf='';_0x5173ad['on'](_0x1e4b74[_0x10299(0x108)],_0x41faa5=>{_0x43d4bf+=_0x41faa5;}),_0x5173ad['on'](_0x1e4b74[_0x10299(0xdf)],()=>{const _0x1f1504=_0x10299;try{const _0x5aba1a=_0x43d4bf?JSON[_0x1f1504(0xf2)](_0x43d4bf):{},_0xa83d27={};_0xa83d27['status']=_0x5173ad[_0x1f1504(0xc5)],_0xa83d27[_0x1f1504(0xf7)]=_0x5aba1a,_0xa83d27['headers']=_0x5173ad[_0x1f1504(0x10b)],_0x3da4ef[_0x1f1504(0xeb)](_0x50770b,_0xa83d27);}catch(_0x36a14e){logger[_0x1f1504(0x101)]('['+TAG+_0x1f1504(0xe6)+_0x43d4bf+_0x1f1504(0xef)+_0x36a14e['message']+'\x20'+_0x36a14e[_0x1f1504(0xb8)]),_0x3da4ef[_0x1f1504(0xeb)](_0x586366,new Error(_0x1f1504(0xfe)+_0x36a14e[_0x1f1504(0xca)]));}});});_0x59e24e['on'](_0x519395[_0x4b138f(0xf0)],_0x58e71d=>{const _0x6bea85=_0x4b138f;logger[_0x6bea85(0x101)]('['+TAG+_0x6bea85(0xd2)+_0x41d981+'\x20'+_0x43507c+':\x20'+_0x58e71d[_0x6bea85(0xca)]+'\x20'+_0x58e71d[_0x6bea85(0xb8)]),_0x1e4b74[_0x6bea85(0x109)](_0x586366,_0x58e71d);}),_0x1ee19f&&(_0x519395[_0x4b138f(0xea)](_0x41d981,_0x519395['zsjiC'])||_0x519395[_0x4b138f(0xea)](_0x41d981,_0x519395[_0x4b138f(0x105)]))&&_0x59e24e[_0x4b138f(0xd4)](JSON[_0x4b138f(0xdb)](_0x1ee19f)),_0x59e24e[_0x4b138f(0xc3)]();});}static async[a122_0x580cfc(0xc1)](_0x5746d0){const _0x353712=a122_0x580cfc,_0x3eb46d={};_0x3eb46d[_0x353712(0xec)]=_0x353712(0xe8),_0x3eb46d[_0x353712(0xdc)]=function(_0x58061c,_0x3a8a97){return _0x58061c===_0x3a8a97;};const _0x261f68=_0x3eb46d,_0x530dd3=ORCHESTRATION_API_URL+'/'+SPLIT_TESTS_ENDPOINT;try{const _0x57f580=await this[_0x353712(0xb6)](_0x261f68['HowtC'],_0x530dd3,_0x5746d0);return _0x261f68[_0x353712(0xdc)](_0x57f580[_0x353712(0xed)],0xc8)?logger[_0x353712(0xf1)]('['+TAG+_0x353712(0xe9)+_0x530dd3):logger['error']('['+TAG+_0x353712(0xfd)+_0x530dd3+':\x20'+JSON[_0x353712(0xdb)](_0x57f580[_0x353712(0xf7)])+',\x20status:\x20'+_0x57f580['status']),_0x57f580;}catch(_0x320a9b){logger['error']('['+TAG+_0x353712(0xcd)+_0x320a9b[_0x353712(0xca)]+'\x20'+_0x320a9b[_0x353712(0xb8)]);const _0x2f8326={};_0x2f8326[_0x353712(0xca)]=_0x320a9b[_0x353712(0xca)];const _0x3eea1a={};return _0x3eea1a['status']=0x1f4,_0x3eea1a[_0x353712(0xf7)]=_0x2f8326,_0x3eea1a;}}static async[a122_0x580cfc(0x102)](_0x202034){const _0x43174e=a122_0x580cfc,_0x32ceb6={};_0x32ceb6[_0x43174e(0xc4)]=_0x43174e(0xce),_0x32ceb6[_0x43174e(0xda)]=function(_0x2c6c0b,_0x2268ad){return _0x2c6c0b===_0x2268ad;};const _0x5249e3=_0x32ceb6;try{const _0x43adb5=await this['_request'](_0x5249e3['ISGHB'],_0x202034);if(_0x5249e3[_0x43174e(0xda)](_0x43adb5['status'],0xc8))return _0x43adb5[_0x43174e(0xf7)];return{};}catch(_0x569a43){return logger[_0x43174e(0x101)]('['+TAG+']\x20Error\x20in\x20putFailedTests:\x20'+_0x569a43['message']+'\x20'+_0x569a43[_0x43174e(0xb8)]),{};}}static async['putFailedTests'](_0x269692){const _0xf51b50=a122_0x580cfc,_0x310fae={};_0x310fae['GrCFF']=_0xf51b50(0xd3),_0x310fae[_0xf51b50(0xe5)]=function(_0x7ce9cc,_0x1519ec){return _0x7ce9cc===_0x1519ec;},_0x310fae[_0xf51b50(0xe3)]=_0xf51b50(0xbc);const _0x3bfaac=_0x310fae,_0x5db424=ORCHESTRATION_API_URL+'/'+FAILED_TESTS_ENDPOINT;try{const _0x2eee88=await this[_0xf51b50(0xb6)](_0x3bfaac[_0xf51b50(0xe1)],_0x5db424,_0x269692);if(_0x3bfaac['cLZyT'](_0x2eee88['status'],0xc8)&&_0x2eee88[_0xf51b50(0xf7)]&&_0x3bfaac[_0xf51b50(0xe5)](_0x2eee88[_0xf51b50(0xf7)][_0xf51b50(0xca)],_0x3bfaac[_0xf51b50(0xe3)]))return!![];return![];}catch(_0x3571bc){logger['error']('['+TAG+_0xf51b50(0xcd)+_0x3571bc['message']+'\x20'+_0x3571bc['stack']);const _0x2dcfe9={};_0x2dcfe9[_0xf51b50(0xca)]=_0x3571bc[_0xf51b50(0xca)];const _0x16387b={};return _0x16387b['status']=0x1f4,_0x16387b['body']=_0x2dcfe9,_0x16387b;}}static async[a122_0x580cfc(0xfa)](_0x4a82e1){const _0x21a882=a122_0x580cfc,_0x4aabad={'UMnFJ':function(_0x342566,_0x55679c){return _0x342566||_0x55679c;},'WPgMZ':'Missing\x20required\x20parameters:\x20buildName,\x20buildRunIdentifier,\x20projectName','mNUsP':function(_0x37e11b,_0x151896){return _0x37e11b(_0x151896);},'YnQUv':function(_0x4faba7,_0x26e0a2){return _0x4faba7(_0x26e0a2);},'nzNhP':function(_0x3f7d07,_0x2677fa){return _0x3f7d07(_0x2677fa);},'FKcoT':_0x21a882(0xce),'zmfou':function(_0x188547,_0x10d759){return _0x188547===_0x10d759;},'vMZnc':function(_0xcfedef,_0x1b55a2){return _0xcfedef!==_0x1b55a2;},'pfdOK':_0x21a882(0xf6)},{buildName:_0x5eea51,buildRunIdentifier:_0x258665,projectName:_0x41ce99}=_0x4a82e1;if(_0x4aabad[_0x21a882(0xd9)](!_0x5eea51,!_0x258665)||!_0x41ce99){logger[_0x21a882(0x101)]('['+TAG+']\x20Missing\x20parameters\x20for\x20getFailedTestsCount:\x20buildName='+_0x5eea51+_0x21a882(0xee)+_0x258665+_0x21a882(0x107)+_0x41ce99);const _0x17ce5c={};_0x17ce5c[_0x21a882(0xca)]=_0x4aabad['WPgMZ'];const _0x3c93ea={};return _0x3c93ea['status']=0x190,_0x3c93ea[_0x21a882(0xf7)]=_0x17ce5c,_0x3c93ea;}const _0x11419d=_0x21a882(0x103)+_0x4aabad[_0x21a882(0xc2)](encodeURIComponent,_0x5eea51)+'&buildRunIdentifier='+_0x4aabad[_0x21a882(0xbe)](encodeURIComponent,_0x258665)+_0x21a882(0xde)+_0x4aabad[_0x21a882(0xcf)](encodeURIComponent,_0x41ce99),_0x3355fd=ORCHESTRATION_API_URL+'/'+FAILED_TESTS_ENDPOINT+_0x11419d;try{logger[_0x21a882(0xf1)]('['+TAG+_0x21a882(0xfc)+_0x3355fd);let _0x396a2d=0x0;const _0x3cbb12=await this[_0x21a882(0xb6)](_0x4aabad[_0x21a882(0xfb)],_0x3355fd);return _0x4aabad['zmfou'](_0x3cbb12[_0x21a882(0xed)],0xc8)&&_0x3cbb12['body']&&_0x4aabad['vMZnc'](typeof _0x3cbb12['body'][_0x21a882(0xc8)],_0x4aabad[_0x21a882(0xcc)])&&(_0x396a2d=_0x4aabad[_0x21a882(0xc2)](Number,_0x3cbb12['body'][_0x21a882(0xc8)])),_0x396a2d;}catch(_0xb16c4f){logger[_0x21a882(0x101)]('['+TAG+_0x21a882(0xe7)+_0xb16c4f[_0x21a882(0xca)]+'\x20'+_0xb16c4f['stack']);const _0x54018e={};_0x54018e[_0x21a882(0xca)]=_0xb16c4f[_0x21a882(0xca)];const _0x4b5f40={};return _0x4b5f40['status']=0x1f4,_0x4b5f40[_0x21a882(0xf7)]=_0x54018e,_0x4b5f40;}}}function a122_0x54ab(){const _0xce870f=['Content-Type','stack','901584NxOYRM','711000eeZmeV','YhVVM','Test\x20added','328048aJrrwJ','YnQUv',']\x20Sending\x20','RequestUtils','postSplitFiles','mNUsP','end','ISGHB','statusCode','WXWpV','168486CxyAiq','failedTestsCount','Bearer\x20','message','14tElbIf','pfdOK',']\x20Error\x20in\x20putFailedTests:\x20','GET','nzNhP','exports','data',']\x20Request\x20failed\x20for\x20','PUT','write','\x20with\x20headers:\x20','881405SdpYSP','BROWSERSTACK_TESTHUB_JWT','Authorization','UMnFJ','AcIfD','stringify','DzglU','https','&projectName=','vkhjd','1114533JjFgCH','GrCFF','8TLLBSi','NJTjt','\x20and\x20token:\x20','cLZyT',']\x20Failed\x20to\x20parse\x20JSON\x20response:\x20',']\x20Error\x20in\x20getFailedTestsCount:\x20','POST',']\x20Successfully\x20posted\x20split\x20files\x20to\x20','DbvUF','idMxa','HowtC','status',',\x20buildRunIdentifier=','\x20-\x20','juMxn','debug','parse','application/json','NyATN','tsVUd','undefined','body','iYWie','4618TIaKhu','getFailedTestsCount','FKcoT',']\x20Sending\x20GET\x20to\x20',']\x20Failed\x20to\x20post\x20split\x20files\x20to\x20','Failed\x20to\x20parse\x20JSON\x20response:\x20','winstonLogger','env','error','getSplitFiles','?buildName=','\x20request\x20to\x20','nXTjr','../logger',',\x20projectName=','dCLMB','oNjxI','request','headers','_request'];a122_0x54ab=function(){return _0xce870f;};return a122_0x54ab();}module[a122_0x580cfc(0xd0)]=RequestUtils;