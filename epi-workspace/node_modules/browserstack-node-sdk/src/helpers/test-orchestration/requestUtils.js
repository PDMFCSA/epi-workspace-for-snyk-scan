const a122_0x41fbe4=a122_0x5777;function a122_0x1c4b(){const _0x121eb1=['6gyYxNu',']\x20Failed\x20to\x20post\x20split\x20files\x20to\x20','455OJxfqW','qwJPP','3tqLPBM','2090632YyNTfm','plMsq',']\x20Failed\x20to\x20parse\x20JSON\x20response:\x20','https',']\x20Error\x20in\x20getFailedTestsCount:\x20','write',']\x20Error\x20in\x20putFailedTests:\x20','1609076nXYney','umleM','KasMB','url','xndAD',',\x20buildRunIdentifier=','wRBdV','mSfBt','exports','Authorization',']\x20Sending\x20','data','SFxRU','2385801TgYddJ','Bearer\x20','_request','LeBfe',']\x20Request\x20failed\x20for\x20','1377349ipbNQI','XrDGZ','\x20-\x20','../logger',',\x20status:\x20','putFailedTests','stringify','?buildName=','USknH','application/json','failedTestsCount','POST',',\x20projectName=',']\x20Successfully\x20posted\x20split\x20files\x20to\x20','GiLob','IAWTk','1556URAqMt','stack','GET','6542277IrsjoX','\x20and\x20token:\x20','CcOVB','headers','XYLdQ','&buildRunIdentifier=','\x20request\x20to\x20',']\x20Missing\x20parameters\x20for\x20getFailedTestsCount:\x20buildName=','\x20with\x20headers:\x20','RequestUtils','kSAhh','ASRBh','6677640LWIwhJ','status','ZhxsZ','kWcuI','end','error','KFQia','CrMbS','lESzv','ZzHVF','9DgqWyC','PUT','debug','body','KNKRJ','env','egtpS','message'];a122_0x1c4b=function(){return _0x121eb1;};return a122_0x1c4b();}function a122_0x5777(_0xbb6652,_0x5bfa85){const _0x1c4b4a=a122_0x1c4b();return a122_0x5777=function(_0x57772d,_0x2c4011){_0x57772d=_0x57772d-0x10b;let _0x533837=_0x1c4b4a[_0x57772d];return _0x533837;},a122_0x5777(_0xbb6652,_0x5bfa85);}(function(_0x132e9f,_0x7244e4){const _0x200d97=a122_0x5777,_0x4d1abb=_0x132e9f();while(!![]){try{const _0x217620=parseInt(_0x200d97(0x156))/0x1+parseInt(_0x200d97(0x144))/0x2*(-parseInt(_0x200d97(0x13c))/0x3)+parseInt(_0x200d97(0x117))/0x4*(parseInt(_0x200d97(0x13a))/0x5)+parseInt(_0x200d97(0x138))/0x6*(parseInt(_0x200d97(0x11a))/0x7)+-parseInt(_0x200d97(0x13d))/0x8*(parseInt(_0x200d97(0x130))/0x9)+-parseInt(_0x200d97(0x126))/0xa+parseInt(_0x200d97(0x151))/0xb;if(_0x217620===_0x7244e4)break;else _0x4d1abb['push'](_0x4d1abb['shift']());}catch(_0x589011){_0x4d1abb['push'](_0x4d1abb['shift']());}}}(a122_0x1c4b,0xcac9b));const https=require(a122_0x41fbe4(0x140)),{URL}=require(a122_0x41fbe4(0x147)),logger=require(a122_0x41fbe4(0x159))['winstonLogger'],{ORCHESTRATION_API_URL,FAILED_TESTS_ENDPOINT,SPLIT_TESTS_ENDPOINT}=require('./constants'),TAG=a122_0x41fbe4(0x123);class RequestUtils{static async[a122_0x41fbe4(0x153)](_0x3529a2,_0x35647c,_0x1db2f9=null){const _0x144233=a122_0x41fbe4,_0x29d6b7={'VhAPU':function(_0x26f905,_0x2789ad){return _0x26f905(_0x2789ad);},'KNKRJ':_0x144233(0x14f),'SFxRU':_0x144233(0x12a),'CrMbS':_0x144233(0x12b),'LLlsj':function(_0x28f119,_0x40bb9f){return _0x28f119===_0x40bb9f;},'KFQia':_0x144233(0x112),'plMsq':function(_0x33ec06,_0x46fbcf){return _0x33ec06===_0x46fbcf;},'LeBfe':'PUT','vSlpx':_0x144233(0x110),'XYLdQ':function(_0x369524,_0xa3fc01){return _0x369524+_0xa3fc01;}},_0x35703d=process[_0x144233(0x135)]['BROWSERSTACK_TESTHUB_JWT']||'',_0x344c46={};_0x344c46[_0x144233(0x14d)]=_0x144233(0x152)+_0x35703d,_0x344c46['Content-Type']=_0x29d6b7['vSlpx'];const _0x5f0023=_0x344c46,{hostname:_0x48239e,pathname:_0x590eda,search:_0x47480d}=new URL(_0x35647c),_0x4db87f={'hostname':_0x48239e,'path':_0x29d6b7[_0x144233(0x11e)](_0x590eda,_0x47480d),'method':_0x3529a2,'headers':_0x5f0023};return logger['debug']('['+TAG+_0x144233(0x14e)+_0x3529a2+_0x144233(0x120)+_0x35647c+_0x144233(0x122)+JSON[_0x144233(0x10d)](_0x5f0023)+'\x20and\x20data:\x20'+JSON[_0x144233(0x10d)](_0x1db2f9)+_0x144233(0x11b)+_0x35703d),new Promise((_0x5ecaac,_0xa4c495)=>{const _0x14a677=_0x144233,_0x34c5d4={'egtpS':function(_0x90b10,_0x41553f){return _0x29d6b7['VhAPU'](_0x90b10,_0x41553f);}},_0x2f56d2=https['request'](_0x4db87f,_0x4034b7=>{const _0x25b3bd=a122_0x5777,_0x4ebeec={'lESzv':function(_0x541eaa,_0x5ba036){return _0x29d6b7['VhAPU'](_0x541eaa,_0x5ba036);}};let _0x1533c3='';_0x4034b7['on'](_0x29d6b7[_0x25b3bd(0x134)],_0x38ea20=>{_0x1533c3+=_0x38ea20;}),_0x4034b7['on'](_0x29d6b7[_0x25b3bd(0x150)],()=>{const _0x3f32b6=_0x25b3bd;try{const _0x6ff0da=_0x1533c3?JSON['parse'](_0x1533c3):{},_0x5bcfd0={};_0x5bcfd0['status']=_0x4034b7['statusCode'],_0x5bcfd0[_0x3f32b6(0x133)]=_0x6ff0da,_0x5bcfd0['headers']=_0x4034b7[_0x3f32b6(0x11d)],_0x4ebeec[_0x3f32b6(0x12e)](_0x5ecaac,_0x5bcfd0);}catch(_0xc6b1d0){logger['error']('['+TAG+_0x3f32b6(0x13f)+_0x1533c3+_0x3f32b6(0x158)+_0xc6b1d0[_0x3f32b6(0x137)]+'\x20'+_0xc6b1d0['stack']),_0x4ebeec[_0x3f32b6(0x12e)](_0xa4c495,new Error('Failed\x20to\x20parse\x20JSON\x20response:\x20'+_0xc6b1d0['message']));}});});_0x2f56d2['on'](_0x29d6b7[_0x14a677(0x12d)],_0x2bc828=>{const _0x3e48e9=_0x14a677;logger['error']('['+TAG+_0x3e48e9(0x155)+_0x3529a2+'\x20'+_0x35647c+':\x20'+_0x2bc828[_0x3e48e9(0x137)]+'\x20'+_0x2bc828[_0x3e48e9(0x118)]),_0x34c5d4[_0x3e48e9(0x136)](_0xa4c495,_0x2bc828);}),_0x1db2f9&&(_0x29d6b7['LLlsj'](_0x3529a2,_0x29d6b7[_0x14a677(0x12c)])||_0x29d6b7[_0x14a677(0x13e)](_0x3529a2,_0x29d6b7[_0x14a677(0x154)]))&&_0x2f56d2[_0x14a677(0x142)](JSON[_0x14a677(0x10d)](_0x1db2f9)),_0x2f56d2['end']();});}static async['postSplitFiles'](_0x495d8b){const _0x2e1c88=a122_0x41fbe4,_0x3a4bc1={};_0x3a4bc1['IAWTk']=_0x2e1c88(0x112),_0x3a4bc1[_0x2e1c88(0x157)]=function(_0x500a38,_0x330c68){return _0x500a38===_0x330c68;};const _0xae51b0=_0x3a4bc1,_0x1934d1=ORCHESTRATION_API_URL+'/'+SPLIT_TESTS_ENDPOINT;try{const _0x34e7cb=await this['_request'](_0xae51b0[_0x2e1c88(0x116)],_0x1934d1,_0x495d8b);return _0xae51b0[_0x2e1c88(0x157)](_0x34e7cb[_0x2e1c88(0x127)],0xc8)?logger['debug']('['+TAG+_0x2e1c88(0x114)+_0x1934d1):logger[_0x2e1c88(0x12b)]('['+TAG+_0x2e1c88(0x139)+_0x1934d1+':\x20'+JSON[_0x2e1c88(0x10d)](_0x34e7cb[_0x2e1c88(0x133)])+_0x2e1c88(0x10b)+_0x34e7cb[_0x2e1c88(0x127)]),_0x34e7cb;}catch(_0x5bfc0b){logger[_0x2e1c88(0x12b)]('['+TAG+']\x20Error\x20in\x20putFailedTests:\x20'+_0x5bfc0b[_0x2e1c88(0x137)]+'\x20'+_0x5bfc0b['stack']);const _0x379e50={};_0x379e50[_0x2e1c88(0x137)]=_0x5bfc0b[_0x2e1c88(0x137)];const _0xbaa97f={};return _0xbaa97f[_0x2e1c88(0x127)]=0x1f4,_0xbaa97f[_0x2e1c88(0x133)]=_0x379e50,_0xbaa97f;}}static async['getSplitFiles'](_0x4429f1){const _0x52d615=a122_0x41fbe4,_0x1c34c2={};_0x1c34c2[_0x52d615(0x128)]=_0x52d615(0x119),_0x1c34c2['CcOVB']=function(_0x3e2828,_0x5a5889){return _0x3e2828===_0x5a5889;};const _0x33f05c=_0x1c34c2;try{const _0x480625=await this['_request'](_0x33f05c[_0x52d615(0x128)],_0x4429f1);if(_0x33f05c[_0x52d615(0x11c)](_0x480625['status'],0xc8))return _0x480625[_0x52d615(0x133)];return{};}catch(_0x34c0d8){return logger[_0x52d615(0x12b)]('['+TAG+']\x20Error\x20in\x20putFailedTests:\x20'+_0x34c0d8[_0x52d615(0x137)]+'\x20'+_0x34c0d8[_0x52d615(0x118)]),{};}}static async[a122_0x41fbe4(0x10c)](_0x1e78ff){const _0xb7d96a=a122_0x41fbe4,_0xf9b13f={};_0xf9b13f[_0xb7d96a(0x14b)]=_0xb7d96a(0x131),_0xf9b13f[_0xb7d96a(0x129)]=function(_0x3ec96f,_0x5f0e6b){return _0x3ec96f===_0x5f0e6b;},_0xf9b13f[_0xb7d96a(0x148)]='Test\x20added';const _0x72f5aa=_0xf9b13f,_0x5e9eea=ORCHESTRATION_API_URL+'/'+FAILED_TESTS_ENDPOINT;try{const _0x13e663=await this[_0xb7d96a(0x153)](_0x72f5aa['mSfBt'],_0x5e9eea,_0x1e78ff);if(_0x72f5aa[_0xb7d96a(0x129)](_0x13e663['status'],0xc8)&&_0x13e663[_0xb7d96a(0x133)]&&_0x72f5aa[_0xb7d96a(0x129)](_0x13e663[_0xb7d96a(0x133)]['message'],_0x72f5aa[_0xb7d96a(0x148)]))return!![];return![];}catch(_0xa01b36){logger[_0xb7d96a(0x12b)]('['+TAG+_0xb7d96a(0x143)+_0xa01b36[_0xb7d96a(0x137)]+'\x20'+_0xa01b36[_0xb7d96a(0x118)]);const _0x3affe8={};_0x3affe8[_0xb7d96a(0x137)]=_0xa01b36['message'];const _0x1dd324={};return _0x1dd324[_0xb7d96a(0x127)]=0x1f4,_0x1dd324[_0xb7d96a(0x133)]=_0x3affe8,_0x1dd324;}}static async['getFailedTestsCount'](_0x29369c){const _0x395ffc=a122_0x41fbe4,_0x25a920={'kSAhh':function(_0x1c53f6,_0x123bb1){return _0x1c53f6||_0x123bb1;},'ZzHVF':'Missing\x20required\x20parameters:\x20buildName,\x20buildRunIdentifier,\x20projectName','GiLob':function(_0xe72042,_0x13452c){return _0xe72042(_0x13452c);},'ASRBh':function(_0x2808ed,_0x17ffe9){return _0x2808ed(_0x17ffe9);},'umleM':function(_0x3105aa,_0x60a67b){return _0x3105aa(_0x60a67b);},'KasMB':_0x395ffc(0x119),'qwJPP':function(_0x171b2e,_0x2aa9db){return _0x171b2e===_0x2aa9db;},'wRBdV':function(_0x9b8e05,_0xf9a7dc){return _0x9b8e05!==_0xf9a7dc;},'wBUjz':'undefined','USknH':function(_0x3d59d6,_0x5425fe){return _0x3d59d6(_0x5425fe);}},{buildName:_0x56e1c1,buildRunIdentifier:_0x29a330,projectName:_0x18ee8f}=_0x29369c;if(_0x25a920[_0x395ffc(0x124)](!_0x56e1c1,!_0x29a330)||!_0x18ee8f){logger[_0x395ffc(0x12b)]('['+TAG+_0x395ffc(0x121)+_0x56e1c1+_0x395ffc(0x149)+_0x29a330+_0x395ffc(0x113)+_0x18ee8f);const _0x40fa29={};_0x40fa29['message']=_0x25a920[_0x395ffc(0x12f)];const _0x39fe97={};return _0x39fe97[_0x395ffc(0x127)]=0x190,_0x39fe97[_0x395ffc(0x133)]=_0x40fa29,_0x39fe97;}const _0x3963bb=_0x395ffc(0x10e)+_0x25a920[_0x395ffc(0x115)](encodeURIComponent,_0x56e1c1)+_0x395ffc(0x11f)+_0x25a920[_0x395ffc(0x125)](encodeURIComponent,_0x29a330)+'&projectName='+_0x25a920[_0x395ffc(0x145)](encodeURIComponent,_0x18ee8f),_0x3b3999=ORCHESTRATION_API_URL+'/'+FAILED_TESTS_ENDPOINT+_0x3963bb;try{logger[_0x395ffc(0x132)]('['+TAG+']\x20Sending\x20GET\x20to\x20'+_0x3b3999);let _0xff9972=0x0;const _0x3731df=await this[_0x395ffc(0x153)](_0x25a920[_0x395ffc(0x146)],_0x3b3999);return _0x25a920[_0x395ffc(0x13b)](_0x3731df['status'],0xc8)&&_0x3731df[_0x395ffc(0x133)]&&_0x25a920[_0x395ffc(0x14a)](typeof _0x3731df[_0x395ffc(0x133)][_0x395ffc(0x111)],_0x25a920['wBUjz'])&&(_0xff9972=_0x25a920[_0x395ffc(0x10f)](Number,_0x3731df[_0x395ffc(0x133)][_0x395ffc(0x111)])),_0xff9972;}catch(_0x2ff881){logger[_0x395ffc(0x12b)]('['+TAG+_0x395ffc(0x141)+_0x2ff881[_0x395ffc(0x137)]+'\x20'+_0x2ff881[_0x395ffc(0x118)]);const _0x265a48={};_0x265a48[_0x395ffc(0x137)]=_0x2ff881[_0x395ffc(0x137)];const _0x25baf8={};return _0x25baf8['status']=0x1f4,_0x25baf8[_0x395ffc(0x133)]=_0x265a48,_0x25baf8;}}}module[a122_0x41fbe4(0x14c)]=RequestUtils;