const a122_0x2df9f3=a122_0x1027;(function(_0x41f01d,_0x471f55){const _0xa54065=a122_0x1027,_0x4bc80b=_0x41f01d();while(!![]){try{const _0x26c668=-parseInt(_0xa54065(0x1c8))/0x1+-parseInt(_0xa54065(0x1ad))/0x2+-parseInt(_0xa54065(0x1af))/0x3+parseInt(_0xa54065(0x1a6))/0x4+parseInt(_0xa54065(0x1ab))/0x5+parseInt(_0xa54065(0x1b9))/0x6+parseInt(_0xa54065(0x1b5))/0x7*(parseInt(_0xa54065(0x198))/0x8);if(_0x26c668===_0x471f55)break;else _0x4bc80b['push'](_0x4bc80b['shift']());}catch(_0x2b8378){_0x4bc80b['push'](_0x4bc80b['shift']());}}}(a122_0x88de,0xd6718));const https=require(a122_0x2df9f3(0x19f)),{URL}=require(a122_0x2df9f3(0x1d5)),logger=require(a122_0x2df9f3(0x1c3))['winstonLogger'],{ORCHESTRATION_API_URL,FAILED_TESTS_ENDPOINT,SPLIT_TESTS_ENDPOINT}=require(a122_0x2df9f3(0x1aa)),TAG='RequestUtils';class RequestUtils{static async[a122_0x2df9f3(0x1b3)](_0x9eb6c4,_0x3bcb10,_0x4b4f71=null){const _0x53af5f=a122_0x2df9f3,_0x15bab2={'Ncsgb':function(_0x2d3101,_0x59eee9){return _0x2d3101(_0x59eee9);},'cpCOw':function(_0x5eb78e,_0x5d2d72){return _0x5eb78e(_0x5d2d72);},'FeTyp':_0x53af5f(0x1bf),'thJBr':_0x53af5f(0x1a5),'LUwBY':_0x53af5f(0x19d),'tYIyQ':function(_0x5034c2,_0x3e43ef){return _0x5034c2===_0x3e43ef;},'KIKQn':_0x53af5f(0x1ca),'sEIkh':_0x53af5f(0x1cd),'tzhzl':_0x53af5f(0x19c),'epNSh':function(_0x3f1db4,_0xd484d4){return _0x3f1db4+_0xd484d4;}},_0x261d04=process['env'][_0x53af5f(0x1ae)]||'',_0x46c010={};_0x46c010[_0x53af5f(0x196)]=_0x53af5f(0x1a8)+_0x261d04,_0x46c010[_0x53af5f(0x197)]=_0x15bab2['tzhzl'];const _0x548ef2=_0x46c010,{hostname:_0x376334,pathname:_0x2eb6db,search:_0x555ab9}=new URL(_0x3bcb10),_0x18240b={'hostname':_0x376334,'path':_0x15bab2[_0x53af5f(0x1c5)](_0x2eb6db,_0x555ab9),'method':_0x9eb6c4,'headers':_0x548ef2};return logger[_0x53af5f(0x1c2)]('['+TAG+']\x20Sending\x20'+_0x9eb6c4+_0x53af5f(0x1b0)+_0x3bcb10+'\x20with\x20headers:\x20'+JSON[_0x53af5f(0x1ce)](_0x548ef2)+'\x20and\x20data:\x20'+JSON[_0x53af5f(0x1ce)](_0x4b4f71)+_0x53af5f(0x191)+_0x261d04),new Promise((_0x416e94,_0x357337)=>{const _0x261476=_0x53af5f,_0x2b3c7f={'SGOsO':function(_0x3e1f5a,_0xba11ca){const _0x44925d=a122_0x1027;return _0x15bab2[_0x44925d(0x1a4)](_0x3e1f5a,_0xba11ca);}},_0x2386af=https['request'](_0x18240b,_0x44d502=>{const _0x5628c1={'wjbVQ':function(_0x52f5a2,_0x3963ee){const _0x4682db=a122_0x1027;return _0x15bab2[_0x4682db(0x1a4)](_0x52f5a2,_0x3963ee);},'EDxbx':function(_0x1cbc95,_0x49d137){const _0x148da2=a122_0x1027;return _0x15bab2[_0x148da2(0x1b2)](_0x1cbc95,_0x49d137);}};let _0x149d2f='';_0x44d502['on'](_0x15bab2['FeTyp'],_0xed0183=>{_0x149d2f+=_0xed0183;}),_0x44d502['on'](_0x15bab2['thJBr'],()=>{const _0x523f7f=a122_0x1027;try{const _0x307b36=_0x149d2f?JSON[_0x523f7f(0x1a9)](_0x149d2f):{},_0x3cb5f4={};_0x3cb5f4[_0x523f7f(0x1c6)]=_0x44d502[_0x523f7f(0x1bd)],_0x3cb5f4[_0x523f7f(0x1b7)]=_0x307b36,_0x3cb5f4[_0x523f7f(0x1d4)]=_0x44d502[_0x523f7f(0x1d4)],_0x5628c1['wjbVQ'](_0x416e94,_0x3cb5f4);}catch(_0x120236){logger[_0x523f7f(0x19d)]('['+TAG+_0x523f7f(0x18d)+_0x149d2f+'\x20-\x20'+_0x120236[_0x523f7f(0x1a2)]+'\x20'+_0x120236[_0x523f7f(0x1ac)]),_0x5628c1['EDxbx'](_0x357337,new Error('Failed\x20to\x20parse\x20JSON\x20response:\x20'+_0x120236[_0x523f7f(0x1a2)]));}});});_0x2386af['on'](_0x15bab2['LUwBY'],_0x4a98f4=>{const _0x59ba31=a122_0x1027;logger[_0x59ba31(0x19d)]('['+TAG+_0x59ba31(0x1bb)+_0x9eb6c4+'\x20'+_0x3bcb10+':\x20'+_0x4a98f4[_0x59ba31(0x1a2)]+'\x20'+_0x4a98f4[_0x59ba31(0x1ac)]),_0x2b3c7f[_0x59ba31(0x1d3)](_0x357337,_0x4a98f4);}),_0x4b4f71&&(_0x15bab2[_0x261476(0x1c4)](_0x9eb6c4,_0x15bab2[_0x261476(0x1ba)])||_0x15bab2[_0x261476(0x1c4)](_0x9eb6c4,_0x15bab2[_0x261476(0x1a7)]))&&_0x2386af[_0x261476(0x1b1)](JSON[_0x261476(0x1ce)](_0x4b4f71)),_0x2386af[_0x261476(0x1a5)]();});}static async[a122_0x2df9f3(0x190)](_0xc6d81c){const _0x518cda=a122_0x2df9f3,_0x2a0a1c={};_0x2a0a1c[_0x518cda(0x1cc)]='POST',_0x2a0a1c['CLYxw']=function(_0x43f39f,_0x376abc){return _0x43f39f===_0x376abc;};const _0x11995a=_0x2a0a1c,_0x18b05f=ORCHESTRATION_API_URL+'/'+SPLIT_TESTS_ENDPOINT;try{const _0x263c58=await this[_0x518cda(0x1b3)](_0x11995a[_0x518cda(0x1cc)],_0x18b05f,_0xc6d81c);return _0x11995a[_0x518cda(0x19e)](_0x263c58[_0x518cda(0x1c6)],0xc8)?logger[_0x518cda(0x1c2)]('['+TAG+_0x518cda(0x192)+_0x18b05f):logger['error']('['+TAG+']\x20Failed\x20to\x20post\x20split\x20files\x20to\x20'+_0x18b05f+':\x20'+JSON['stringify'](_0x263c58[_0x518cda(0x1b7)])+',\x20status:\x20'+_0x263c58[_0x518cda(0x1c6)]),_0x263c58;}catch(_0x3131b4){logger[_0x518cda(0x19d)]('['+TAG+_0x518cda(0x18e)+_0x3131b4[_0x518cda(0x1a2)]+'\x20'+_0x3131b4[_0x518cda(0x1ac)]);const _0x5c49c9={};_0x5c49c9['message']=_0x3131b4[_0x518cda(0x1a2)];const _0x534fbc={};return _0x534fbc[_0x518cda(0x1c6)]=0x1f4,_0x534fbc['body']=_0x5c49c9,_0x534fbc;}}static async['getSplitFiles'](_0x430bf5){const _0x5bc9ea=a122_0x2df9f3,_0xe8220b={};_0xe8220b[_0x5bc9ea(0x1d7)]='GET',_0xe8220b[_0x5bc9ea(0x18f)]=function(_0x136b39,_0x4e441c){return _0x136b39===_0x4e441c;};const _0x3e108d=_0xe8220b;try{const _0x3e50f1=await this[_0x5bc9ea(0x1b3)](_0x3e108d[_0x5bc9ea(0x1d7)],_0x430bf5);if(_0x3e108d['QHsJN'](_0x3e50f1[_0x5bc9ea(0x1c6)],0xc8))return _0x3e50f1[_0x5bc9ea(0x1b7)];return{};}catch(_0x2b3460){return logger[_0x5bc9ea(0x19d)]('['+TAG+_0x5bc9ea(0x18e)+_0x2b3460[_0x5bc9ea(0x1a2)]+'\x20'+_0x2b3460[_0x5bc9ea(0x1ac)]),{};}}static async[a122_0x2df9f3(0x1c1)](_0x2a252b){const _0x5487a0=a122_0x2df9f3,_0x56ee89={};_0x56ee89[_0x5487a0(0x1bc)]=_0x5487a0(0x1cd),_0x56ee89[_0x5487a0(0x195)]=function(_0x7faf35,_0x3871e9){return _0x7faf35===_0x3871e9;},_0x56ee89['ztLRZ']=function(_0x2cd34f,_0x29922b){return _0x2cd34f===_0x29922b;},_0x56ee89['fWHAJ']='Test\x20added';const _0x459b89=_0x56ee89,_0x8589fd=ORCHESTRATION_API_URL+'/'+FAILED_TESTS_ENDPOINT;try{const _0x17cedb=await this['_request'](_0x459b89['CoxkN'],_0x8589fd,_0x2a252b);if(_0x459b89['Aczdu'](_0x17cedb['status'],0xc8)&&_0x17cedb[_0x5487a0(0x1b7)]&&_0x459b89['ztLRZ'](_0x17cedb[_0x5487a0(0x1b7)][_0x5487a0(0x1a2)],_0x459b89[_0x5487a0(0x1d6)]))return!![];return![];}catch(_0x1900ae){logger[_0x5487a0(0x19d)]('['+TAG+_0x5487a0(0x18e)+_0x1900ae[_0x5487a0(0x1a2)]+'\x20'+_0x1900ae[_0x5487a0(0x1ac)]);const _0x38555f={};_0x38555f['message']=_0x1900ae[_0x5487a0(0x1a2)];const _0x3dc8cb={};return _0x3dc8cb[_0x5487a0(0x1c6)]=0x1f4,_0x3dc8cb[_0x5487a0(0x1b7)]=_0x38555f,_0x3dc8cb;}}static async[a122_0x2df9f3(0x1b6)](_0x34dc54){const _0x1f4aae=a122_0x2df9f3,_0x4c013b={'MEjGU':function(_0x24c34c,_0x44035c){return _0x24c34c||_0x44035c;},'dvazK':_0x1f4aae(0x199),'ZPIAF':function(_0x2e9053,_0x261968){return _0x2e9053(_0x261968);},'Vqjny':function(_0x45002a,_0x1543c8){return _0x45002a(_0x1543c8);},'RQycd':function(_0x471547,_0x3d2138){return _0x471547(_0x3d2138);},'QvKvP':_0x1f4aae(0x1c9),'UjqoY':function(_0x36da29,_0x51bfc5){return _0x36da29===_0x51bfc5;},'MoSqw':function(_0x4904f4,_0x420611){return _0x4904f4!==_0x420611;},'CDhza':_0x1f4aae(0x1cb),'ISzwp':function(_0x1f15bb,_0x111d86){return _0x1f15bb(_0x111d86);}},{buildName:_0x48ab32,buildRunIdentifier:_0x505189,projectName:_0x52d176}=_0x34dc54;if(_0x4c013b[_0x1f4aae(0x1a1)](!_0x48ab32,!_0x505189)||!_0x52d176){logger['error']('['+TAG+_0x1f4aae(0x1a0)+_0x48ab32+',\x20buildRunIdentifier='+_0x505189+',\x20projectName='+_0x52d176);const _0x51af09={};_0x51af09[_0x1f4aae(0x1a2)]=_0x4c013b[_0x1f4aae(0x1d2)];const _0x3824c9={};return _0x3824c9[_0x1f4aae(0x1c6)]=0x190,_0x3824c9[_0x1f4aae(0x1b7)]=_0x51af09,_0x3824c9;}const _0x3fa538=_0x1f4aae(0x1cf)+_0x4c013b['ZPIAF'](encodeURIComponent,_0x48ab32)+_0x1f4aae(0x19b)+_0x4c013b[_0x1f4aae(0x1be)](encodeURIComponent,_0x505189)+_0x1f4aae(0x19a)+_0x4c013b['RQycd'](encodeURIComponent,_0x52d176),_0x27cfd5=ORCHESTRATION_API_URL+'/'+FAILED_TESTS_ENDPOINT+_0x3fa538;try{logger[_0x1f4aae(0x1c2)]('['+TAG+_0x1f4aae(0x1a3)+_0x27cfd5);let _0x1e97b5=0x0;const _0x262a5d=await this[_0x1f4aae(0x1b3)](_0x4c013b[_0x1f4aae(0x1b8)],_0x27cfd5);return _0x4c013b[_0x1f4aae(0x193)](_0x262a5d['status'],0xc8)&&_0x262a5d[_0x1f4aae(0x1b7)]&&_0x4c013b[_0x1f4aae(0x1c0)](typeof _0x262a5d[_0x1f4aae(0x1b7)][_0x1f4aae(0x1b4)],_0x4c013b[_0x1f4aae(0x194)])&&(_0x1e97b5=_0x4c013b[_0x1f4aae(0x1c7)](Number,_0x262a5d[_0x1f4aae(0x1b7)]['failedTestsCount'])),_0x1e97b5;}catch(_0x11e50e){logger['error']('['+TAG+_0x1f4aae(0x1d1)+_0x11e50e['message']+'\x20'+_0x11e50e[_0x1f4aae(0x1ac)]);const _0x1b513f={};_0x1b513f['message']=_0x11e50e[_0x1f4aae(0x1a2)];const _0x1a76a5={};return _0x1a76a5[_0x1f4aae(0x1c6)]=0x1f4,_0x1a76a5[_0x1f4aae(0x1b7)]=_0x1b513f,_0x1a76a5;}}}module[a122_0x2df9f3(0x1d0)]=RequestUtils;function a122_0x1027(_0x1c4e90,_0xe0a9c){const _0x88de93=a122_0x88de();return a122_0x1027=function(_0x102757,_0x36a8e0){_0x102757=_0x102757-0x18d;let _0x67bcad=_0x88de93[_0x102757];return _0x67bcad;},a122_0x1027(_0x1c4e90,_0xe0a9c);}function a122_0x88de(){const _0x590b41=['\x20and\x20token:\x20',']\x20Successfully\x20posted\x20split\x20files\x20to\x20','UjqoY','CDhza','Aczdu','Authorization','Content-Type','848536xJVpvM','Missing\x20required\x20parameters:\x20buildName,\x20buildRunIdentifier,\x20projectName','&projectName=','&buildRunIdentifier=','application/json','error','CLYxw','https',']\x20Missing\x20parameters\x20for\x20getFailedTestsCount:\x20buildName=','MEjGU','message',']\x20Sending\x20GET\x20to\x20','Ncsgb','end','6766984mTPyLG','sEIkh','Bearer\x20','parse','./constants','6789780zOjlFh','stack','2590360rzarbJ','BROWSERSTACK_TESTHUB_JWT','4880790dwzgrK','\x20request\x20to\x20','write','cpCOw','_request','failedTestsCount','35EwVRDN','getFailedTestsCount','body','QvKvP','3515682pKHkUe','KIKQn',']\x20Request\x20failed\x20for\x20','CoxkN','statusCode','Vqjny','data','MoSqw','putFailedTests','debug','../logger','tYIyQ','epNSh','status','ISzwp','365514rGzXTU','GET','POST','undefined','OiMzZ','PUT','stringify','?buildName=','exports',']\x20Error\x20in\x20getFailedTestsCount:\x20','dvazK','SGOsO','headers','url','fWHAJ','jHAvN',']\x20Failed\x20to\x20parse\x20JSON\x20response:\x20',']\x20Error\x20in\x20putFailedTests:\x20','QHsJN','postSplitFiles'];a122_0x88de=function(){return _0x590b41;};return a122_0x88de();}