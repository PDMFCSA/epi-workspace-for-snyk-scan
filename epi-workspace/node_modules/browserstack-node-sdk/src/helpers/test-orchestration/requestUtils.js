const a122_0x1d8be0=a122_0x880f;(function(_0x40ad11,_0x32fdb8){const _0x293c0a=a122_0x880f,_0x2f2af0=_0x40ad11();while(!![]){try{const _0x2fb149=-parseInt(_0x293c0a(0x81))/0x1+-parseInt(_0x293c0a(0xb4))/0x2*(parseInt(_0x293c0a(0xbd))/0x3)+parseInt(_0x293c0a(0x95))/0x4+parseInt(_0x293c0a(0xa5))/0x5+parseInt(_0x293c0a(0xc1))/0x6*(parseInt(_0x293c0a(0x7b))/0x7)+parseInt(_0x293c0a(0x78))/0x8*(-parseInt(_0x293c0a(0xa3))/0x9)+parseInt(_0x293c0a(0xc7))/0xa;if(_0x2fb149===_0x32fdb8)break;else _0x2f2af0['push'](_0x2f2af0['shift']());}catch(_0x1ba2d0){_0x2f2af0['push'](_0x2f2af0['shift']());}}}(a122_0x3e4c,0xb4050));const https=require(a122_0x1d8be0(0x7a)),{URL}=require('url'),logger=require(a122_0x1d8be0(0x9b))[a122_0x1d8be0(0x90)],{ORCHESTRATION_API_URL,FAILED_TESTS_ENDPOINT,SPLIT_TESTS_ENDPOINT}=require('./constants'),TAG=a122_0x1d8be0(0xbb);class RequestUtils{static async[a122_0x1d8be0(0xc8)](_0x5edf7b,_0x5d50e2,_0x35c085=null){const _0x3f275f=a122_0x1d8be0,_0x41901c={'vCDSX':function(_0x3a63be,_0x3f4fc1){return _0x3a63be(_0x3f4fc1);},'DILZI':'data','sCviF':_0x3f275f(0xbc),'HwMjI':'error','EFmBm':function(_0x10add1,_0x306de2){return _0x10add1===_0x306de2;},'NaKPH':'POST','fAtGy':function(_0x13321,_0x1dcfee){return _0x13321===_0x1dcfee;},'odtIn':_0x3f275f(0xb2),'agTkd':_0x3f275f(0x98),'VLXKl':function(_0x429372,_0x484dbb){return _0x429372+_0x484dbb;}},_0x3919e5=process[_0x3f275f(0x7f)]['BROWSERSTACK_TESTHUB_JWT']||'',_0x59097c={};_0x59097c['Authorization']=_0x3f275f(0xb7)+_0x3919e5,_0x59097c[_0x3f275f(0x96)]=_0x41901c[_0x3f275f(0xa7)];const _0x18cb4e=_0x59097c,{hostname:_0x20a0a2,pathname:_0x220e6c,search:_0x20b4ee}=new URL(_0x5d50e2),_0xc08188={'hostname':_0x20a0a2,'path':_0x41901c[_0x3f275f(0xa8)](_0x220e6c,_0x20b4ee),'method':_0x5edf7b,'headers':_0x18cb4e};return logger[_0x3f275f(0xc3)]('['+TAG+_0x3f275f(0x92)+_0x5edf7b+_0x3f275f(0xaf)+_0x5d50e2+_0x3f275f(0x9f)+JSON[_0x3f275f(0x77)](_0x18cb4e)+'\x20and\x20data:\x20'+JSON['stringify'](_0x35c085)+_0x3f275f(0xa6)+_0x3919e5),new Promise((_0x13a82a,_0x2b03bc)=>{const _0x41e492=_0x3f275f,_0x15db70={'PZpVj':function(_0x2a130f,_0x22a4c9){const _0x1569f5=a122_0x880f;return _0x41901c[_0x1569f5(0x8e)](_0x2a130f,_0x22a4c9);},'yWoZg':_0x41901c[_0x41e492(0x85)],'NVFfX':_0x41901c[_0x41e492(0x83)]},_0x44a89c=https[_0x41e492(0xa1)](_0xc08188,_0x3b5864=>{const _0x3a7d65=_0x41e492,_0x32f5bf={'UkQib':function(_0x3b577c,_0x51a0aa){const _0x1dded5=a122_0x880f;return _0x15db70[_0x1dded5(0x80)](_0x3b577c,_0x51a0aa);},'IpsRZ':function(_0x324e08,_0x7e8f40){const _0x41bd46=a122_0x880f;return _0x15db70[_0x41bd46(0x80)](_0x324e08,_0x7e8f40);}};let _0x32c3cf='';_0x3b5864['on'](_0x15db70[_0x3a7d65(0xb3)],_0x5eecf7=>{_0x32c3cf+=_0x5eecf7;}),_0x3b5864['on'](_0x15db70[_0x3a7d65(0x89)],()=>{const _0x3dced3=_0x3a7d65;try{const _0x246fa7=_0x32c3cf?JSON[_0x3dced3(0x8d)](_0x32c3cf):{},_0x1d986f={};_0x1d986f[_0x3dced3(0xad)]=_0x3b5864[_0x3dced3(0x7c)],_0x1d986f[_0x3dced3(0xa4)]=_0x246fa7,_0x1d986f[_0x3dced3(0xb5)]=_0x3b5864['headers'],_0x32f5bf[_0x3dced3(0xae)](_0x13a82a,_0x1d986f);}catch(_0x575a91){logger[_0x3dced3(0x8c)]('['+TAG+_0x3dced3(0x9a)+_0x32c3cf+_0x3dced3(0x8a)+_0x575a91[_0x3dced3(0xac)]+'\x20'+_0x575a91['stack']),_0x32f5bf[_0x3dced3(0x91)](_0x2b03bc,new Error('Failed\x20to\x20parse\x20JSON\x20response:\x20'+_0x575a91[_0x3dced3(0xac)]));}});});_0x44a89c['on'](_0x41901c['HwMjI'],_0x1d068a=>{const _0x18b34d=_0x41e492;logger[_0x18b34d(0x8c)]('['+TAG+_0x18b34d(0xc4)+_0x5edf7b+'\x20'+_0x5d50e2+':\x20'+_0x1d068a['message']+'\x20'+_0x1d068a['stack']),_0x15db70[_0x18b34d(0x80)](_0x2b03bc,_0x1d068a);}),_0x35c085&&(_0x41901c[_0x41e492(0xa9)](_0x5edf7b,_0x41901c['NaKPH'])||_0x41901c[_0x41e492(0xca)](_0x5edf7b,_0x41901c['odtIn']))&&_0x44a89c[_0x41e492(0xc0)](JSON[_0x41e492(0x77)](_0x35c085)),_0x44a89c[_0x41e492(0xbc)]();});}static async[a122_0x1d8be0(0x7d)](_0x18c2ff){const _0x5da93a=a122_0x1d8be0,_0x2492d3={};_0x2492d3[_0x5da93a(0x87)]='POST',_0x2492d3[_0x5da93a(0xa0)]=function(_0x5e55b2,_0xad1954){return _0x5e55b2===_0xad1954;};const _0x1935d7=_0x2492d3,_0x431fe9=ORCHESTRATION_API_URL+'/'+SPLIT_TESTS_ENDPOINT;try{const _0x49a9e3=await this[_0x5da93a(0xc8)](_0x1935d7['ctiAI'],_0x431fe9,_0x18c2ff);return _0x1935d7[_0x5da93a(0xa0)](_0x49a9e3[_0x5da93a(0xad)],0xc8)?logger[_0x5da93a(0xc3)]('['+TAG+_0x5da93a(0xb9)+_0x431fe9):logger['error']('['+TAG+_0x5da93a(0x82)+_0x431fe9+':\x20'+JSON['stringify'](_0x49a9e3[_0x5da93a(0xa4)])+',\x20status:\x20'+_0x49a9e3[_0x5da93a(0xad)]),_0x49a9e3;}catch(_0x2e0c9e){logger['error']('['+TAG+_0x5da93a(0xc2)+_0x2e0c9e[_0x5da93a(0xac)]+'\x20'+_0x2e0c9e[_0x5da93a(0xc9)]);const _0x3a9e28={};_0x3a9e28[_0x5da93a(0xac)]=_0x2e0c9e[_0x5da93a(0xac)];const _0x20e884={};return _0x20e884[_0x5da93a(0xad)]=0x1f4,_0x20e884[_0x5da93a(0xa4)]=_0x3a9e28,_0x20e884;}}static async[a122_0x1d8be0(0xaa)](_0x284499){const _0x46be1b=a122_0x1d8be0,_0x1dc296={};_0x1dc296[_0x46be1b(0x84)]='GET',_0x1dc296[_0x46be1b(0x99)]=function(_0x575e23,_0x13582a){return _0x575e23===_0x13582a;};const _0x4efbac=_0x1dc296;try{const _0x2b39ef=await this[_0x46be1b(0xc8)](_0x4efbac['JbfPE'],_0x284499);if(_0x4efbac[_0x46be1b(0x99)](_0x2b39ef[_0x46be1b(0xad)],0xc8))return _0x2b39ef[_0x46be1b(0xa4)];return{};}catch(_0x3fc56f){return logger['error']('['+TAG+_0x46be1b(0xc2)+_0x3fc56f['message']+'\x20'+_0x3fc56f[_0x46be1b(0xc9)]),{};}}static async[a122_0x1d8be0(0xc6)](_0x52ff32){const _0x1d60ad=a122_0x1d8be0,_0x33c5d9={};_0x33c5d9['Duerc']=_0x1d60ad(0xb2),_0x33c5d9[_0x1d60ad(0x7e)]=function(_0x1c65c6,_0x4de42e){return _0x1c65c6===_0x4de42e;},_0x33c5d9[_0x1d60ad(0x94)]=function(_0xc4b67f,_0x443c62){return _0xc4b67f===_0x443c62;},_0x33c5d9[_0x1d60ad(0x88)]=_0x1d60ad(0xa2);const _0x3e8ccc=_0x33c5d9,_0x33a0e8=ORCHESTRATION_API_URL+'/'+FAILED_TESTS_ENDPOINT;try{const _0x575038=await this['_request'](_0x3e8ccc['Duerc'],_0x33a0e8,_0x52ff32);if(_0x3e8ccc[_0x1d60ad(0x7e)](_0x575038[_0x1d60ad(0xad)],0xc8)&&_0x575038[_0x1d60ad(0xa4)]&&_0x3e8ccc[_0x1d60ad(0x94)](_0x575038[_0x1d60ad(0xa4)][_0x1d60ad(0xac)],_0x3e8ccc[_0x1d60ad(0x88)]))return!![];return![];}catch(_0x10c151){logger[_0x1d60ad(0x8c)]('['+TAG+_0x1d60ad(0xc2)+_0x10c151['message']+'\x20'+_0x10c151[_0x1d60ad(0xc9)]);const _0x1e665a={};_0x1e665a[_0x1d60ad(0xac)]=_0x10c151[_0x1d60ad(0xac)];const _0x3f62f1={};return _0x3f62f1[_0x1d60ad(0xad)]=0x1f4,_0x3f62f1[_0x1d60ad(0xa4)]=_0x1e665a,_0x3f62f1;}}static async[a122_0x1d8be0(0x8b)](_0x386035){const _0x327c82=a122_0x1d8be0,_0xe723dd={'szPWX':function(_0x42b8c5,_0x267598){return _0x42b8c5||_0x267598;},'wNSbU':'Missing\x20required\x20parameters:\x20buildName,\x20buildRunIdentifier,\x20projectName','oukuF':function(_0x2765e7,_0x1aeab6){return _0x2765e7(_0x1aeab6);},'eZJCy':function(_0x4b236c,_0x26b00e){return _0x4b236c(_0x26b00e);},'JSvJa':function(_0x324154,_0x587d79){return _0x324154(_0x587d79);},'ZBsaL':_0x327c82(0xb0),'ZgOxQ':function(_0x54b5f5,_0x250ab3){return _0x54b5f5===_0x250ab3;},'DUsHr':function(_0x414a6e,_0x339763){return _0x414a6e!==_0x339763;},'ueIdu':_0x327c82(0x86)},{buildName:_0x46d756,buildRunIdentifier:_0x43fa5d,projectName:_0x2c655a}=_0x386035;if(_0xe723dd[_0x327c82(0xb8)](!_0x46d756,!_0x43fa5d)||!_0x2c655a){logger[_0x327c82(0x8c)]('['+TAG+_0x327c82(0x97)+_0x46d756+_0x327c82(0xbe)+_0x43fa5d+_0x327c82(0xba)+_0x2c655a);const _0x272709={};_0x272709['message']=_0xe723dd[_0x327c82(0xb1)];const _0x48d0a2={};return _0x48d0a2[_0x327c82(0xad)]=0x190,_0x48d0a2[_0x327c82(0xa4)]=_0x272709,_0x48d0a2;}const _0x4c21c6=_0x327c82(0xc5)+_0xe723dd['oukuF'](encodeURIComponent,_0x46d756)+_0x327c82(0x9c)+_0xe723dd['eZJCy'](encodeURIComponent,_0x43fa5d)+'&projectName='+_0xe723dd['JSvJa'](encodeURIComponent,_0x2c655a),_0x42f418=ORCHESTRATION_API_URL+'/'+FAILED_TESTS_ENDPOINT+_0x4c21c6;try{logger[_0x327c82(0xc3)]('['+TAG+_0x327c82(0xab)+_0x42f418);let _0x48f307=0x0;const _0xd15b30=await this['_request'](_0xe723dd[_0x327c82(0x8f)],_0x42f418);return _0xe723dd['ZgOxQ'](_0xd15b30[_0x327c82(0xad)],0xc8)&&_0xd15b30[_0x327c82(0xa4)]&&_0xe723dd[_0x327c82(0x93)](typeof _0xd15b30[_0x327c82(0xa4)][_0x327c82(0x9e)],_0xe723dd[_0x327c82(0xb6)])&&(_0x48f307=_0xe723dd[_0x327c82(0x9d)](Number,_0xd15b30['body'][_0x327c82(0x9e)])),_0x48f307;}catch(_0xdd54a9){logger[_0x327c82(0x8c)]('['+TAG+_0x327c82(0xbf)+_0xdd54a9[_0x327c82(0xac)]+'\x20'+_0xdd54a9[_0x327c82(0xc9)]);const _0xde23c3={};_0xde23c3[_0x327c82(0xac)]=_0xdd54a9['message'];const _0x4ce89c={};return _0x4ce89c[_0x327c82(0xad)]=0x1f4,_0x4ce89c['body']=_0xde23c3,_0x4ce89c;}}}function a122_0x880f(_0x4a310b,_0x5e21cf){const _0x3e4c8b=a122_0x3e4c();return a122_0x880f=function(_0x880f73,_0x175fb9){_0x880f73=_0x880f73-0x77;let _0x569ce6=_0x3e4c8b[_0x880f73];return _0x569ce6;},a122_0x880f(_0x4a310b,_0x5e21cf);}function a122_0x3e4c(){const _0x375497=['DNnxM','NVFfX','\x20-\x20','getFailedTestsCount','error','parse','vCDSX','ZBsaL','winstonLogger','IpsRZ',']\x20Sending\x20','DUsHr','jnazT','2206380oRCjok','Content-Type',']\x20Missing\x20parameters\x20for\x20getFailedTestsCount:\x20buildName=','application/json','UVlsO',']\x20Failed\x20to\x20parse\x20JSON\x20response:\x20','../logger','&buildRunIdentifier=','oukuF','failedTestsCount','\x20with\x20headers:\x20','fzYjq','request','Test\x20added','1273491aneafy','body','6469590eeKDoQ','\x20and\x20token:\x20','agTkd','VLXKl','EFmBm','getSplitFiles',']\x20Sending\x20GET\x20to\x20','message','status','UkQib','\x20request\x20to\x20','GET','wNSbU','PUT','yWoZg','2hjcQFP','headers','ueIdu','Bearer\x20','szPWX',']\x20Successfully\x20posted\x20split\x20files\x20to\x20',',\x20projectName=','RequestUtils','end','2018913fSknwD',',\x20buildRunIdentifier=',']\x20Error\x20in\x20getFailedTestsCount:\x20','write','6gpvjly',']\x20Error\x20in\x20putFailedTests:\x20','debug',']\x20Request\x20failed\x20for\x20','?buildName=','putFailedTests','5342170TURnHP','_request','stack','fAtGy','stringify','56hnczYx','exports','https','4088875LsMedi','statusCode','postSplitFiles','uLOmh','env','PZpVj','563031Ezgpjw',']\x20Failed\x20to\x20post\x20split\x20files\x20to\x20','sCviF','JbfPE','DILZI','undefined','ctiAI'];a122_0x3e4c=function(){return _0x375497;};return a122_0x3e4c();}module[a122_0x1d8be0(0x79)]=RequestUtils;