const a135_0x158dcd=a135_0x27e7;(function(_0x5513ec,_0x395f7e){const _0x220af6=a135_0x27e7,_0x110523=_0x5513ec();while(!![]){try{const _0x53b704=-parseInt(_0x220af6(0x1bb))/0x1*(-parseInt(_0x220af6(0x1f9))/0x2)+-parseInt(_0x220af6(0x1da))/0x3*(parseInt(_0x220af6(0x1d1))/0x4)+-parseInt(_0x220af6(0x1e6))/0x5*(-parseInt(_0x220af6(0x1d6))/0x6)+parseInt(_0x220af6(0x1e4))/0x7+-parseInt(_0x220af6(0x1de))/0x8*(parseInt(_0x220af6(0x1ea))/0x9)+-parseInt(_0x220af6(0x1e8))/0xa+parseInt(_0x220af6(0x1d9))/0xb*(-parseInt(_0x220af6(0x1d3))/0xc);if(_0x53b704===_0x395f7e)break;else _0x110523['push'](_0x110523['shift']());}catch(_0x23f11f){_0x110523['push'](_0x110523['shift']());}}}(a135_0x222a,0x96e76));const https=require(a135_0x158dcd(0x1d8)),{URL}=require('url'),logger=require(a135_0x158dcd(0x1f0))['winstonLogger'],{ORCHESTRATION_API_URL,FAILED_TESTS_ENDPOINT,SPLIT_TESTS_ENDPOINT}=require('./constants'),TAG='RequestUtils';class RequestUtils{static async[a135_0x158dcd(0x207)](_0x21804b,_0x48853f,_0x45b893=null){const _0x2fe359=a135_0x158dcd,_0x1783b6={'pmLvw':function(_0x55e364,_0x3be9e9){return _0x55e364(_0x3be9e9);},'PFRVj':_0x2fe359(0x1d0),'sYSyZ':_0x2fe359(0x1bd),'nVFnq':function(_0x2b54c8,_0x43e9b1){return _0x2b54c8(_0x43e9b1);},'oskMm':_0x2fe359(0x1be),'awTBk':function(_0x4a5167,_0x530021){return _0x4a5167===_0x530021;},'HHCvE':_0x2fe359(0x1fd),'DTTPc':_0x2fe359(0x1c0),'QisHR':_0x2fe359(0x1ff),'GENRx':function(_0x516fec,_0x42667b){return _0x516fec+_0x42667b;}},_0x2a100e=process[_0x2fe359(0x1e1)][_0x2fe359(0x1e7)]||'',_0x54b3fa={};_0x54b3fa['Authorization']=_0x2fe359(0x1bf)+_0x2a100e,_0x54b3fa[_0x2fe359(0x1d5)]=_0x1783b6[_0x2fe359(0x1d7)];const _0x24c701=_0x54b3fa,{hostname:_0x4c0eb1,pathname:_0x213a37,search:_0x1d1847}=new URL(_0x48853f),_0x12cbb7={'hostname':_0x4c0eb1,'path':_0x1783b6[_0x2fe359(0x1cc)](_0x213a37,_0x1d1847),'method':_0x21804b,'headers':_0x24c701};return logger[_0x2fe359(0x1dd)]('['+TAG+_0x2fe359(0x1f6)+_0x21804b+'\x20request\x20to\x20'+_0x48853f+_0x2fe359(0x1e3)+JSON[_0x2fe359(0x1ce)](_0x24c701)+_0x2fe359(0x1cd)+JSON[_0x2fe359(0x1ce)](_0x45b893)+'\x20and\x20token:\x20'+_0x2a100e),new Promise((_0xf0f3f4,_0x21c3f4)=>{const _0x1fae4b=_0x2fe359,_0x37fcdc=https['request'](_0x12cbb7,_0x41e045=>{const _0x5ba0a6=a135_0x27e7,_0x267bde={'FwrTC':function(_0x9d9db8,_0x209bb4){const _0x85b4e8=a135_0x27e7;return _0x1783b6[_0x85b4e8(0x1fc)](_0x9d9db8,_0x209bb4);}};let _0x1da817='';_0x41e045['on'](_0x1783b6[_0x5ba0a6(0x1fb)],_0x5cff36=>{_0x1da817+=_0x5cff36;}),_0x41e045['on'](_0x1783b6['sYSyZ'],()=>{const _0x28d4aa=_0x5ba0a6;try{const _0x16b0ac=_0x1da817?JSON['parse'](_0x1da817):{},_0x3c5c42={};_0x3c5c42[_0x28d4aa(0x1c1)]=_0x41e045[_0x28d4aa(0x1db)],_0x3c5c42['body']=_0x16b0ac,_0x3c5c42[_0x28d4aa(0x202)]=_0x41e045['headers'],_0x267bde[_0x28d4aa(0x1d2)](_0xf0f3f4,_0x3c5c42);}catch(_0x2f0593){logger['error']('['+TAG+']\x20Failed\x20to\x20parse\x20JSON\x20response:\x20'+_0x1da817+_0x28d4aa(0x1cb)+_0x2f0593[_0x28d4aa(0x203)]+'\x20'+_0x2f0593[_0x28d4aa(0x1c8)]),_0x267bde[_0x28d4aa(0x1d2)](_0x21c3f4,new Error(_0x28d4aa(0x1f4)+_0x2f0593[_0x28d4aa(0x203)]));}});});_0x37fcdc['on'](_0x1783b6[_0x1fae4b(0x200)],_0x20f957=>{const _0x4aa5c7=_0x1fae4b;logger[_0x4aa5c7(0x1be)]('['+TAG+_0x4aa5c7(0x1c2)+_0x21804b+'\x20'+_0x48853f+':\x20'+_0x20f957['message']+'\x20'+_0x20f957[_0x4aa5c7(0x1c8)]),_0x1783b6[_0x4aa5c7(0x1ef)](_0x21c3f4,_0x20f957);}),_0x45b893&&(_0x1783b6[_0x1fae4b(0x1e5)](_0x21804b,_0x1783b6[_0x1fae4b(0x1f2)])||_0x1783b6[_0x1fae4b(0x1e5)](_0x21804b,_0x1783b6[_0x1fae4b(0x1b8)]))&&_0x37fcdc[_0x1fae4b(0x1ee)](JSON['stringify'](_0x45b893)),_0x37fcdc[_0x1fae4b(0x1bd)]();});}static async[a135_0x158dcd(0x1e9)](_0x864de){const _0x286026=a135_0x158dcd,_0x1c3ad3={};_0x1c3ad3[_0x286026(0x1ec)]=_0x286026(0x1fd),_0x1c3ad3[_0x286026(0x201)]=function(_0x3c4ecd,_0x25b59b){return _0x3c4ecd===_0x25b59b;};const _0x520a9e=_0x1c3ad3,_0x25ddd7=ORCHESTRATION_API_URL+'/'+SPLIT_TESTS_ENDPOINT;try{const _0x93261c=await this[_0x286026(0x207)](_0x520a9e['ZdTEz'],_0x25ddd7,_0x864de);return _0x520a9e[_0x286026(0x201)](_0x93261c[_0x286026(0x1c1)],0xc8)?logger[_0x286026(0x1dd)]('['+TAG+']\x20Successfully\x20posted\x20split\x20files\x20to\x20'+_0x25ddd7):logger[_0x286026(0x1be)]('['+TAG+_0x286026(0x1f5)+_0x25ddd7+':\x20'+JSON[_0x286026(0x1ce)](_0x93261c[_0x286026(0x1dc)])+_0x286026(0x1ed)+_0x93261c[_0x286026(0x1c1)]),_0x93261c;}catch(_0x1d90ab){logger[_0x286026(0x1be)]('['+TAG+_0x286026(0x1cf)+_0x1d90ab[_0x286026(0x203)]+'\x20'+_0x1d90ab[_0x286026(0x1c8)]);const _0x30f48d={};_0x30f48d['message']=_0x1d90ab['message'];const _0x498557={};return _0x498557[_0x286026(0x1c1)]=0x1f4,_0x498557[_0x286026(0x1dc)]=_0x30f48d,_0x498557;}}static async['getSplitFiles'](_0x56f9c0){const _0x21ee23=a135_0x158dcd,_0x2f1abf={};_0x2f1abf[_0x21ee23(0x1bc)]=_0x21ee23(0x1f8),_0x2f1abf[_0x21ee23(0x1ba)]=function(_0x47ed0c,_0x19cd17){return _0x47ed0c===_0x19cd17;};const _0x47e5b7=_0x2f1abf;try{const _0x52ecfe=await this['_request'](_0x47e5b7[_0x21ee23(0x1bc)],_0x56f9c0);if(_0x47e5b7[_0x21ee23(0x1ba)](_0x52ecfe['status'],0xc8))return _0x52ecfe[_0x21ee23(0x1dc)];return{};}catch(_0x3edf36){return logger[_0x21ee23(0x1be)]('['+TAG+_0x21ee23(0x1cf)+_0x3edf36[_0x21ee23(0x203)]+'\x20'+_0x3edf36['stack']),{};}}static async[a135_0x158dcd(0x1b7)](_0x16b69c){const _0x3bfdd2=a135_0x158dcd,_0x42e0b8={};_0x42e0b8['vzcnt']=_0x3bfdd2(0x1c0),_0x42e0b8[_0x3bfdd2(0x1c6)]=function(_0x528d9a,_0x33f2a8){return _0x528d9a===_0x33f2a8;},_0x42e0b8[_0x3bfdd2(0x206)]=_0x3bfdd2(0x1e0);const _0x3b9461=_0x42e0b8,_0x5e1f20=ORCHESTRATION_API_URL+'/'+FAILED_TESTS_ENDPOINT;try{const _0x1a6f00=await this[_0x3bfdd2(0x207)](_0x3b9461[_0x3bfdd2(0x1f3)],_0x5e1f20,_0x16b69c);if(_0x3b9461[_0x3bfdd2(0x1c6)](_0x1a6f00[_0x3bfdd2(0x1c1)],0xc8)&&_0x1a6f00['body']&&_0x3b9461['pJIPL'](_0x1a6f00[_0x3bfdd2(0x1dc)][_0x3bfdd2(0x203)],_0x3b9461['YYYxa']))return!![];return![];}catch(_0x58a1ef){logger[_0x3bfdd2(0x1be)]('['+TAG+_0x3bfdd2(0x1cf)+_0x58a1ef[_0x3bfdd2(0x203)]+'\x20'+_0x58a1ef['stack']);const _0xfed72f={};_0xfed72f[_0x3bfdd2(0x203)]=_0x58a1ef[_0x3bfdd2(0x203)];const _0x5260d1={};return _0x5260d1[_0x3bfdd2(0x1c1)]=0x1f4,_0x5260d1[_0x3bfdd2(0x1dc)]=_0xfed72f,_0x5260d1;}}static async['getFailedTestsCount'](_0x4cb261){const _0x2e0583=a135_0x158dcd,_0x1d31f6={'cjZre':function(_0x3c8c84,_0x2ffc9d){return _0x3c8c84||_0x2ffc9d;},'XemfM':_0x2e0583(0x1eb),'DExXH':function(_0x43fbe1,_0x399071){return _0x43fbe1(_0x399071);},'IqzdK':function(_0x72ff63,_0x144202){return _0x72ff63(_0x144202);},'ITpBt':_0x2e0583(0x1f8),'ZzRgG':function(_0x1f054f,_0x129ca9){return _0x1f054f===_0x129ca9;},'vhjdI':function(_0x450b5a,_0x2fb610){return _0x450b5a!==_0x2fb610;},'tFHBA':_0x2e0583(0x204)},{buildName:_0x21c8cd,buildRunIdentifier:_0x122d36,projectName:_0x3f4318}=_0x4cb261;if(_0x1d31f6['cjZre'](!_0x21c8cd,!_0x122d36)||!_0x3f4318){logger['error']('['+TAG+']\x20Missing\x20parameters\x20for\x20getFailedTestsCount:\x20buildName='+_0x21c8cd+_0x2e0583(0x205)+_0x122d36+_0x2e0583(0x1c5)+_0x3f4318);const _0x59b4af={};_0x59b4af[_0x2e0583(0x203)]=_0x1d31f6[_0x2e0583(0x1df)];const _0x199615={};return _0x199615[_0x2e0583(0x1c1)]=0x190,_0x199615[_0x2e0583(0x1dc)]=_0x59b4af,_0x199615;}const _0x5f4e23=_0x2e0583(0x208)+_0x1d31f6[_0x2e0583(0x1c3)](encodeURIComponent,_0x21c8cd)+_0x2e0583(0x1fe)+_0x1d31f6[_0x2e0583(0x1c7)](encodeURIComponent,_0x122d36)+_0x2e0583(0x1d4)+_0x1d31f6[_0x2e0583(0x1c3)](encodeURIComponent,_0x3f4318),_0x1fc634=ORCHESTRATION_API_URL+'/'+FAILED_TESTS_ENDPOINT+_0x5f4e23;try{logger['debug']('['+TAG+_0x2e0583(0x1c9)+_0x1fc634);let _0x5084f7=0x0;const _0x42ae8f=await this['_request'](_0x1d31f6[_0x2e0583(0x1fa)],_0x1fc634);return _0x1d31f6[_0x2e0583(0x1e2)](_0x42ae8f[_0x2e0583(0x1c1)],0xc8)&&_0x42ae8f[_0x2e0583(0x1dc)]&&_0x1d31f6[_0x2e0583(0x1b9)](typeof _0x42ae8f[_0x2e0583(0x1dc)][_0x2e0583(0x1c4)],_0x1d31f6[_0x2e0583(0x1ca)])&&(_0x5084f7=_0x1d31f6[_0x2e0583(0x1c3)](Number,_0x42ae8f[_0x2e0583(0x1dc)][_0x2e0583(0x1c4)])),_0x5084f7;}catch(_0x1de8cc){logger[_0x2e0583(0x1be)]('['+TAG+_0x2e0583(0x1f7)+_0x1de8cc[_0x2e0583(0x203)]+'\x20'+_0x1de8cc['stack']);const _0x254338={};_0x254338[_0x2e0583(0x203)]=_0x1de8cc['message'];const _0xe859f3={};return _0xe859f3[_0x2e0583(0x1c1)]=0x1f4,_0xe859f3[_0x2e0583(0x1dc)]=_0x254338,_0xe859f3;}}}function a135_0x27e7(_0x5cf500,_0x4ce752){const _0x222a9f=a135_0x222a();return a135_0x27e7=function(_0x27e7d7,_0x319496){_0x27e7d7=_0x27e7d7-0x1b7;let _0x345682=_0x222a9f[_0x27e7d7];return _0x345682;},a135_0x27e7(_0x5cf500,_0x4ce752);}function a135_0x222a(){const _0x46fa22=['putFailedTests','DTTPc','vhjdI','UqGDo','31454MPfjWv','wqwXg','end','error','Bearer\x20','PUT','status',']\x20Request\x20failed\x20for\x20','DExXH','failedTestsCount',',\x20projectName=','pJIPL','IqzdK','stack',']\x20Sending\x20GET\x20to\x20','tFHBA','\x20-\x20','GENRx','\x20and\x20data:\x20','stringify',']\x20Error\x20in\x20putFailedTests:\x20','data','4306284ynmzLJ','FwrTC','30024PNMGUo','&projectName=','Content-Type','8238vdCKjV','QisHR','https','77PUQRPt','3WSzAKi','statusCode','body','debug','8iuvtLJ','XemfM','Test\x20added','env','ZzRgG','\x20with\x20headers:\x20','1738576QMEclE','awTBk','3705CEtZHh','BROWSERSTACK_TESTHUB_JWT','1482730MiHjyZ','postSplitFiles','5688063QqFJfD','Missing\x20required\x20parameters:\x20buildName,\x20buildRunIdentifier,\x20projectName','ZdTEz',',\x20status:\x20','write','nVFnq','../logger','exports','HHCvE','vzcnt','Failed\x20to\x20parse\x20JSON\x20response:\x20',']\x20Failed\x20to\x20post\x20split\x20files\x20to\x20',']\x20Sending\x20',']\x20Error\x20in\x20getFailedTestsCount:\x20','GET','78XDknec','ITpBt','PFRVj','pmLvw','POST','&buildRunIdentifier=','application/json','oskMm','BWugp','headers','message','undefined',',\x20buildRunIdentifier=','YYYxa','_request','?buildName='];a135_0x222a=function(){return _0x46fa22;};return a135_0x222a();}module[a135_0x158dcd(0x1f1)]=RequestUtils;