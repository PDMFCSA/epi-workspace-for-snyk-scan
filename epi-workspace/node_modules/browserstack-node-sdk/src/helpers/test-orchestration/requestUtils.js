const a135_0x275eea=a135_0x37a0;(function(_0xd47316,_0x588f9e){const _0x2dcb11=a135_0x37a0,_0x36be2c=_0xd47316();while(!![]){try{const _0x15a2c5=-parseInt(_0x2dcb11(0xba))/0x1*(-parseInt(_0x2dcb11(0xbb))/0x2)+-parseInt(_0x2dcb11(0xc0))/0x3+parseInt(_0x2dcb11(0xe6))/0x4+parseInt(_0x2dcb11(0xe5))/0x5+-parseInt(_0x2dcb11(0xe2))/0x6*(parseInt(_0x2dcb11(0xa1))/0x7)+-parseInt(_0x2dcb11(0xe3))/0x8*(parseInt(_0x2dcb11(0xb4))/0x9)+-parseInt(_0x2dcb11(0x9f))/0xa;if(_0x15a2c5===_0x588f9e)break;else _0x36be2c['push'](_0x36be2c['shift']());}catch(_0x1a6069){_0x36be2c['push'](_0x36be2c['shift']());}}}(a135_0x588e,0x40842));function a135_0x588e(){const _0x3d4b85=[']\x20Error\x20in\x20putFailedTests:\x20','parse',']\x20Missing\x20parameters\x20for\x20getFailedTestsCount:\x20buildName=','data','rvaxu','ksUcL','Content-Type','gCgGQ','&buildRunIdentifier=','ZjjHr','https','application/json','Authorization','KVHhv','CDkwA','request','JURrL','ySJak','WMKzB','DotCG','PUT',']\x20Error\x20in\x20getFailedTestsCount:\x20','yMbWJ','url','error','gVfoc',',\x20buildRunIdentifier=','YeWKk','pQvTj','Test\x20added','7710zOyvvq','195016sxxSJH',']\x20Failed\x20to\x20parse\x20JSON\x20response:\x20','2594140Lgcaee','466024eeQlcJ','CaWKS','RequestUtils','../logger','Lqgwx','hjNYE','\x20request\x20to\x20','hhIyw','stack','gUnTP','sHfYO','594540BEMPiR','FmVqq','518ImNjHn','hbNmv','GET','headers',']\x20Request\x20failed\x20for\x20','HCkLL','failedTestsCount','debug','POST','ASmxh','write','message','stringify','&projectName=','undefined','status','AbJYo','\x20and\x20token:\x20','env','72plxumz','putFailedTests','postSplitFiles','?buildName=','\x20and\x20data:\x20','DiAWc','4moyqEH','42062TBJlaK','\x20with\x20headers:\x20','dlEaq',',\x20status:\x20','Failed\x20to\x20parse\x20JSON\x20response:\x20','316920jqaerU','statusCode','_request','body'];a135_0x588e=function(){return _0x3d4b85;};return a135_0x588e();}const https=require(a135_0x275eea(0xce)),{URL}=require(a135_0x275eea(0xdb)),logger=require(a135_0x275eea(0xe9))['winstonLogger'],{ORCHESTRATION_API_URL,FAILED_TESTS_ENDPOINT,SPLIT_TESTS_ENDPOINT}=require('./constants'),TAG=a135_0x275eea(0xe8);function a135_0x37a0(_0xd87136,_0x1325de){const _0x588e27=a135_0x588e();return a135_0x37a0=function(_0x37a088,_0x1c1e51){_0x37a088=_0x37a088-0x9c;let _0x4a5f97=_0x588e27[_0x37a088];return _0x4a5f97;},a135_0x37a0(_0xd87136,_0x1325de);}class RequestUtils{static async[a135_0x275eea(0xc2)](_0x299ca9,_0x50aa76,_0x442e67=null){const _0x4ffbeb=a135_0x275eea,_0x548161={'hbNmv':function(_0x4a56b2,_0x1464b3){return _0x4a56b2(_0x1464b3);},'vTVvC':function(_0x5e086d,_0x14a561){return _0x5e086d(_0x14a561);},'gTpMA':_0x4ffbeb(0xc7),'KVHhv':'end','JURrL':_0x4ffbeb(0xdc),'DiAWc':function(_0x304e59,_0x43da0e){return _0x304e59===_0x43da0e;},'DotCG':'POST','ySJak':function(_0x43d983,_0x4a88e6){return _0x43d983===_0x4a88e6;},'WMKzB':_0x4ffbeb(0xd8),'gCgGQ':_0x4ffbeb(0xcf),'SyBeF':function(_0x39037a,_0x2d6ba8){return _0x39037a+_0x2d6ba8;}},_0x34a9fa=process[_0x4ffbeb(0xb3)]['BROWSERSTACK_TESTHUB_JWT']||'',_0x51cb87={};_0x51cb87[_0x4ffbeb(0xd0)]='Bearer\x20'+_0x34a9fa,_0x51cb87[_0x4ffbeb(0xca)]=_0x548161[_0x4ffbeb(0xcb)];const _0x234530=_0x51cb87,{hostname:_0x1d6911,pathname:_0x5359c2,search:_0x4a9442}=new URL(_0x50aa76),_0x26d548={'hostname':_0x1d6911,'path':_0x548161['SyBeF'](_0x5359c2,_0x4a9442),'method':_0x299ca9,'headers':_0x234530};return logger[_0x4ffbeb(0xa8)]('['+TAG+']\x20Sending\x20'+_0x299ca9+_0x4ffbeb(0xec)+_0x50aa76+_0x4ffbeb(0xbc)+JSON['stringify'](_0x234530)+_0x4ffbeb(0xb8)+JSON[_0x4ffbeb(0xad)](_0x442e67)+_0x4ffbeb(0xb2)+_0x34a9fa),new Promise((_0x44694f,_0x288bec)=>{const _0x293f47=_0x4ffbeb,_0x45a4b0={'VurGv':function(_0x5e1c97,_0x10bd03){return _0x548161['vTVvC'](_0x5e1c97,_0x10bd03);},'esUJF':function(_0xc9a176,_0x1a8056){const _0x2f413a=a135_0x37a0;return _0x548161[_0x2f413a(0xa2)](_0xc9a176,_0x1a8056);},'sHfYO':_0x548161['gTpMA'],'Lqgwx':_0x548161[_0x293f47(0xd1)]},_0x1800ca=https[_0x293f47(0xd3)](_0x26d548,_0x24c880=>{const _0x3b87f3=_0x293f47;let _0x54d08c='';_0x24c880['on'](_0x45a4b0[_0x3b87f3(0x9e)],_0x21ebb6=>{_0x54d08c+=_0x21ebb6;}),_0x24c880['on'](_0x45a4b0[_0x3b87f3(0xea)],()=>{const _0x405231=_0x3b87f3;try{const _0x549c7d=_0x54d08c?JSON[_0x405231(0xc5)](_0x54d08c):{},_0x226c0d={};_0x226c0d[_0x405231(0xb0)]=_0x24c880[_0x405231(0xc1)],_0x226c0d[_0x405231(0xc3)]=_0x549c7d,_0x226c0d[_0x405231(0xa4)]=_0x24c880['headers'],_0x45a4b0['VurGv'](_0x44694f,_0x226c0d);}catch(_0x2add81){logger[_0x405231(0xdc)]('['+TAG+_0x405231(0xe4)+_0x54d08c+'\x20-\x20'+_0x2add81['message']+'\x20'+_0x2add81[_0x405231(0x9c)]),_0x45a4b0['esUJF'](_0x288bec,new Error(_0x405231(0xbf)+_0x2add81[_0x405231(0xac)]));}});});_0x1800ca['on'](_0x548161[_0x293f47(0xd4)],_0x58eb4e=>{const _0xfd47eb=_0x293f47;logger[_0xfd47eb(0xdc)]('['+TAG+_0xfd47eb(0xa5)+_0x299ca9+'\x20'+_0x50aa76+':\x20'+_0x58eb4e[_0xfd47eb(0xac)]+'\x20'+_0x58eb4e[_0xfd47eb(0x9c)]),_0x548161[_0xfd47eb(0xa2)](_0x288bec,_0x58eb4e);}),_0x442e67&&(_0x548161[_0x293f47(0xb9)](_0x299ca9,_0x548161[_0x293f47(0xd7)])||_0x548161[_0x293f47(0xd5)](_0x299ca9,_0x548161[_0x293f47(0xd6)]))&&_0x1800ca[_0x293f47(0xab)](JSON[_0x293f47(0xad)](_0x442e67)),_0x1800ca['end']();});}static async[a135_0x275eea(0xb6)](_0x5502e7){const _0x212787=a135_0x275eea,_0x4f67cc={};_0x4f67cc[_0x212787(0xa0)]=_0x212787(0xa9),_0x4f67cc[_0x212787(0xd2)]=function(_0x402cd6,_0x766d4f){return _0x402cd6===_0x766d4f;};const _0x4cff99=_0x4f67cc,_0x5e0d0e=ORCHESTRATION_API_URL+'/'+SPLIT_TESTS_ENDPOINT;try{const _0x20d449=await this[_0x212787(0xc2)](_0x4cff99[_0x212787(0xa0)],_0x5e0d0e,_0x5502e7);return _0x4cff99[_0x212787(0xd2)](_0x20d449[_0x212787(0xb0)],0xc8)?logger['debug']('['+TAG+']\x20Successfully\x20posted\x20split\x20files\x20to\x20'+_0x5e0d0e):logger[_0x212787(0xdc)]('['+TAG+']\x20Failed\x20to\x20post\x20split\x20files\x20to\x20'+_0x5e0d0e+':\x20'+JSON[_0x212787(0xad)](_0x20d449[_0x212787(0xc3)])+_0x212787(0xbe)+_0x20d449[_0x212787(0xb0)]),_0x20d449;}catch(_0x1e4bac){logger[_0x212787(0xdc)]('['+TAG+']\x20Error\x20in\x20putFailedTests:\x20'+_0x1e4bac[_0x212787(0xac)]+'\x20'+_0x1e4bac[_0x212787(0x9c)]);const _0x164c73={};_0x164c73[_0x212787(0xac)]=_0x1e4bac['message'];const _0x5f0f93={};return _0x5f0f93[_0x212787(0xb0)]=0x1f4,_0x5f0f93['body']=_0x164c73,_0x5f0f93;}}static async['getSplitFiles'](_0x11dba2){const _0x44caff=a135_0x275eea,_0x10c74b={};_0x10c74b[_0x44caff(0xaa)]=_0x44caff(0xa3),_0x10c74b[_0x44caff(0xeb)]=function(_0x4e572e,_0x522349){return _0x4e572e===_0x522349;};const _0x46984e=_0x10c74b;try{const _0x58e686=await this[_0x44caff(0xc2)](_0x46984e[_0x44caff(0xaa)],_0x11dba2);if(_0x46984e[_0x44caff(0xeb)](_0x58e686[_0x44caff(0xb0)],0xc8))return _0x58e686[_0x44caff(0xc3)];return{};}catch(_0x3c1f62){return logger['error']('['+TAG+_0x44caff(0xc4)+_0x3c1f62[_0x44caff(0xac)]+'\x20'+_0x3c1f62[_0x44caff(0x9c)]),{};}}static async[a135_0x275eea(0xb5)](_0x3866d3){const _0x1e45ee=a135_0x275eea,_0x36c505={};_0x36c505[_0x1e45ee(0xcd)]=_0x1e45ee(0xd8),_0x36c505[_0x1e45ee(0xa6)]=function(_0x204075,_0x1ac40c){return _0x204075===_0x1ac40c;},_0x36c505['hhIyw']=function(_0x2c6e36,_0x50624d){return _0x2c6e36===_0x50624d;},_0x36c505[_0x1e45ee(0xb1)]=_0x1e45ee(0xe1);const _0x306208=_0x36c505,_0x8a26a1=ORCHESTRATION_API_URL+'/'+FAILED_TESTS_ENDPOINT;try{const _0x58d33b=await this[_0x1e45ee(0xc2)](_0x306208[_0x1e45ee(0xcd)],_0x8a26a1,_0x3866d3);if(_0x306208['HCkLL'](_0x58d33b[_0x1e45ee(0xb0)],0xc8)&&_0x58d33b[_0x1e45ee(0xc3)]&&_0x306208[_0x1e45ee(0xed)](_0x58d33b[_0x1e45ee(0xc3)]['message'],_0x306208[_0x1e45ee(0xb1)]))return!![];return![];}catch(_0x1873f0){logger[_0x1e45ee(0xdc)]('['+TAG+_0x1e45ee(0xc4)+_0x1873f0['message']+'\x20'+_0x1873f0[_0x1e45ee(0x9c)]);const _0x158662={};_0x158662[_0x1e45ee(0xac)]=_0x1873f0['message'];const _0x274e3a={};return _0x274e3a[_0x1e45ee(0xb0)]=0x1f4,_0x274e3a['body']=_0x158662,_0x274e3a;}}static async['getFailedTestsCount'](_0x5d4ecb){const _0x3375c0=a135_0x275eea,_0x391688={'dlEaq':function(_0x31e80b,_0xacd0c9){return _0x31e80b||_0xacd0c9;},'pQvTj':'Missing\x20required\x20parameters:\x20buildName,\x20buildRunIdentifier,\x20projectName','CaWKS':function(_0x2b8375,_0x27beb2){return _0x2b8375(_0x27beb2);},'gVfoc':function(_0x2e4840,_0x518d38){return _0x2e4840(_0x518d38);},'yMbWJ':_0x3375c0(0xa3),'ksUcL':function(_0xb045a1,_0x490867){return _0xb045a1===_0x490867;},'gUnTP':function(_0x3bc781,_0x436490){return _0x3bc781!==_0x436490;},'YeWKk':_0x3375c0(0xaf),'rvaxu':function(_0x3a7cf7,_0x1a3273){return _0x3a7cf7(_0x1a3273);}},{buildName:_0x5310ba,buildRunIdentifier:_0x134c73,projectName:_0x55a764}=_0x5d4ecb;if(_0x391688[_0x3375c0(0xbd)](!_0x5310ba,!_0x134c73)||!_0x55a764){logger['error']('['+TAG+_0x3375c0(0xc6)+_0x5310ba+_0x3375c0(0xde)+_0x134c73+',\x20projectName='+_0x55a764);const _0x44bf05={};_0x44bf05['message']=_0x391688[_0x3375c0(0xe0)];const _0x4571ad={};return _0x4571ad['status']=0x190,_0x4571ad[_0x3375c0(0xc3)]=_0x44bf05,_0x4571ad;}const _0x3b3554=_0x3375c0(0xb7)+_0x391688[_0x3375c0(0xe7)](encodeURIComponent,_0x5310ba)+_0x3375c0(0xcc)+_0x391688[_0x3375c0(0xdd)](encodeURIComponent,_0x134c73)+_0x3375c0(0xae)+_0x391688[_0x3375c0(0xdd)](encodeURIComponent,_0x55a764),_0x2d0068=ORCHESTRATION_API_URL+'/'+FAILED_TESTS_ENDPOINT+_0x3b3554;try{logger[_0x3375c0(0xa8)]('['+TAG+']\x20Sending\x20GET\x20to\x20'+_0x2d0068);let _0x5b200b=0x0;const _0x5da053=await this['_request'](_0x391688[_0x3375c0(0xda)],_0x2d0068);return _0x391688[_0x3375c0(0xc9)](_0x5da053[_0x3375c0(0xb0)],0xc8)&&_0x5da053[_0x3375c0(0xc3)]&&_0x391688[_0x3375c0(0x9d)](typeof _0x5da053[_0x3375c0(0xc3)][_0x3375c0(0xa7)],_0x391688[_0x3375c0(0xdf)])&&(_0x5b200b=_0x391688[_0x3375c0(0xc8)](Number,_0x5da053['body'][_0x3375c0(0xa7)])),_0x5b200b;}catch(_0x8feb20){logger[_0x3375c0(0xdc)]('['+TAG+_0x3375c0(0xd9)+_0x8feb20['message']+'\x20'+_0x8feb20[_0x3375c0(0x9c)]);const _0x33bf9f={};_0x33bf9f['message']=_0x8feb20[_0x3375c0(0xac)];const _0x3c4860={};return _0x3c4860[_0x3375c0(0xb0)]=0x1f4,_0x3c4860['body']=_0x33bf9f,_0x3c4860;}}}module['exports']=RequestUtils;