const a135_0x3da2a6=a135_0x44ba;function a135_0x44ba(_0x47ec9e,_0x45b21c){const _0x36ed1f=a135_0x36ed();return a135_0x44ba=function(_0x44ba66,_0x4fc80e){_0x44ba66=_0x44ba66-0x1c0;let _0x4b7aa6=_0x36ed1f[_0x44ba66];return _0x4b7aa6;},a135_0x44ba(_0x47ec9e,_0x45b21c);}function a135_0x36ed(){const _0x51c391=['Missing\x20required\x20parameters:\x20buildName,\x20buildRunIdentifier,\x20projectName','data','WHaAv','poZlH',']\x20Sending\x20','VnGlG','2166556qEexCZ','write','Test\x20added','766232xUmiUo','Dsyao','stringify','body','Content-Type','7693472MWcKJl','LTBay','oivEz','3235jshyaZ','debug','postSplitFiles','end','fWCFq','wdviI','gZBpa','?buildName=',']\x20Error\x20in\x20getFailedTestsCount:\x20','503553ACycBV',']\x20Failed\x20to\x20parse\x20JSON\x20response:\x20','\x20-\x20','MFizp','UPkod','parse','../logger','undefined','gakJD','_request',']\x20Failed\x20to\x20post\x20split\x20files\x20to\x20','error','headers','&buildRunIdentifier=','ikYOw','RequestUtils',',\x20buildRunIdentifier=','statusCode','Zawri','ORYwR','gvlYw','\x20request\x20to\x20','message','PUT','putFailedTests','10nGDkEL',']\x20Sending\x20GET\x20to\x20','GET','request','1431306ApIyXN','oSrHU','https','xJAHE','BROWSERSTACK_TESTHUB_JWT','Authorization','aIuIK',']\x20Error\x20in\x20putFailedTests:\x20','application/json','\x20and\x20data:\x20','\x20and\x20token:\x20','ayMpy','xdlTw','status','failedTestsCount','exports','DtUMp','stack',']\x20Request\x20failed\x20for\x20','QVamg','25468aGMGuD'];a135_0x36ed=function(){return _0x51c391;};return a135_0x36ed();}(function(_0x454b99,_0x4d23a1){const _0x2b15e4=a135_0x44ba,_0x5802ac=_0x454b99();while(!![]){try{const _0x200982=parseInt(_0x2b15e4(0x1c9))/0x1*(parseInt(_0x2b15e4(0x1e1))/0x2)+-parseInt(_0x2b15e4(0x1fc))/0x3+-parseInt(_0x2b15e4(0x1eb))/0x4+-parseInt(_0x2b15e4(0x1f3))/0x5+-parseInt(_0x2b15e4(0x1cd))/0x6+-parseInt(_0x2b15e4(0x1e8))/0x7+parseInt(_0x2b15e4(0x1f0))/0x8;if(_0x200982===_0x4d23a1)break;else _0x5802ac['push'](_0x5802ac['shift']());}catch(_0x3eb976){_0x5802ac['push'](_0x5802ac['shift']());}}}(a135_0x36ed,0x2c2ad));const https=require(a135_0x3da2a6(0x1cf)),{URL}=require('url'),logger=require(a135_0x3da2a6(0x202))['winstonLogger'],{ORCHESTRATION_API_URL,FAILED_TESTS_ENDPOINT,SPLIT_TESTS_ENDPOINT}=require('./constants'),TAG=a135_0x3da2a6(0x20b);class RequestUtils{static async[a135_0x3da2a6(0x205)](_0x227582,_0x2ccc61,_0x1b7f8c=null){const _0x50a2a7=a135_0x3da2a6,_0x14a16c={'DtUMp':_0x50a2a7(0x1e3),'Dsyao':_0x50a2a7(0x1f6),'poZlH':function(_0x1ad1bf,_0x1690b0){return _0x1ad1bf(_0x1690b0);},'xdlTw':_0x50a2a7(0x207),'QVamg':function(_0x37fc04,_0x3e9b03){return _0x37fc04===_0x3e9b03;},'gZBpa':'POST','ORYwR':'PUT','fWCFq':_0x50a2a7(0x1d5),'aIuIK':function(_0x24edda,_0x27e8a1){return _0x24edda+_0x27e8a1;}},_0x3fd3d0=process['env'][_0x50a2a7(0x1d1)]||'',_0x954a7={};_0x954a7[_0x50a2a7(0x1d2)]='Bearer\x20'+_0x3fd3d0,_0x954a7[_0x50a2a7(0x1ef)]=_0x14a16c[_0x50a2a7(0x1f7)];const _0x4584e9=_0x954a7,{hostname:_0x5b775d,pathname:_0x501b5d,search:_0x56ae61}=new URL(_0x2ccc61),_0x425225={'hostname':_0x5b775d,'path':_0x14a16c[_0x50a2a7(0x1d3)](_0x501b5d,_0x56ae61),'method':_0x227582,'headers':_0x4584e9};return logger['debug']('['+TAG+_0x50a2a7(0x1e6)+_0x227582+_0x50a2a7(0x1c5)+_0x2ccc61+'\x20with\x20headers:\x20'+JSON[_0x50a2a7(0x1ed)](_0x4584e9)+_0x50a2a7(0x1d6)+JSON[_0x50a2a7(0x1ed)](_0x1b7f8c)+_0x50a2a7(0x1d7)+_0x3fd3d0),new Promise((_0x21f8dc,_0x4f9ac3)=>{const _0x1512cf=_0x50a2a7,_0x265530={'VnGlG':function(_0xe5a2ea,_0x2a0a95){const _0x43dfbb=a135_0x44ba;return _0x14a16c[_0x43dfbb(0x1e5)](_0xe5a2ea,_0x2a0a95);},'WHaAv':function(_0x2d0b1e,_0x55834e){const _0x19111e=a135_0x44ba;return _0x14a16c[_0x19111e(0x1e5)](_0x2d0b1e,_0x55834e);}},_0x4be2d7=https[_0x1512cf(0x1cc)](_0x425225,_0x777b47=>{const _0x19f089=_0x1512cf;let _0x459efc='';_0x777b47['on'](_0x14a16c[_0x19f089(0x1dd)],_0x125222=>{_0x459efc+=_0x125222;}),_0x777b47['on'](_0x14a16c[_0x19f089(0x1ec)],()=>{const _0x123b5e=_0x19f089;try{const _0x468644=_0x459efc?JSON[_0x123b5e(0x201)](_0x459efc):{},_0x2defe2={};_0x2defe2[_0x123b5e(0x1da)]=_0x777b47[_0x123b5e(0x1c1)],_0x2defe2['body']=_0x468644,_0x2defe2[_0x123b5e(0x208)]=_0x777b47[_0x123b5e(0x208)],_0x265530[_0x123b5e(0x1e7)](_0x21f8dc,_0x2defe2);}catch(_0x273070){logger[_0x123b5e(0x207)]('['+TAG+_0x123b5e(0x1fd)+_0x459efc+_0x123b5e(0x1fe)+_0x273070[_0x123b5e(0x1c6)]+'\x20'+_0x273070[_0x123b5e(0x1de)]),_0x265530[_0x123b5e(0x1e4)](_0x4f9ac3,new Error('Failed\x20to\x20parse\x20JSON\x20response:\x20'+_0x273070[_0x123b5e(0x1c6)]));}});});_0x4be2d7['on'](_0x14a16c[_0x1512cf(0x1d9)],_0x2d1391=>{const _0x11abf9=_0x1512cf;logger[_0x11abf9(0x207)]('['+TAG+_0x11abf9(0x1df)+_0x227582+'\x20'+_0x2ccc61+':\x20'+_0x2d1391[_0x11abf9(0x1c6)]+'\x20'+_0x2d1391[_0x11abf9(0x1de)]),_0x265530['VnGlG'](_0x4f9ac3,_0x2d1391);}),_0x1b7f8c&&(_0x14a16c['QVamg'](_0x227582,_0x14a16c[_0x1512cf(0x1f9)])||_0x14a16c[_0x1512cf(0x1e0)](_0x227582,_0x14a16c[_0x1512cf(0x1c3)]))&&_0x4be2d7[_0x1512cf(0x1e9)](JSON['stringify'](_0x1b7f8c)),_0x4be2d7[_0x1512cf(0x1f6)]();});}static async[a135_0x3da2a6(0x1f5)](_0x1fee5f){const _0x25cfe7=a135_0x3da2a6,_0x5cf7a0={};_0x5cf7a0['Zawri']='POST',_0x5cf7a0[_0x25cfe7(0x1ff)]=function(_0x59e9a9,_0x9394b8){return _0x59e9a9===_0x9394b8;};const _0x504834=_0x5cf7a0,_0x382ea7=ORCHESTRATION_API_URL+'/'+SPLIT_TESTS_ENDPOINT;try{const _0x19dc48=await this[_0x25cfe7(0x205)](_0x504834[_0x25cfe7(0x1c2)],_0x382ea7,_0x1fee5f);return _0x504834[_0x25cfe7(0x1ff)](_0x19dc48[_0x25cfe7(0x1da)],0xc8)?logger[_0x25cfe7(0x1f4)]('['+TAG+']\x20Successfully\x20posted\x20split\x20files\x20to\x20'+_0x382ea7):logger[_0x25cfe7(0x207)]('['+TAG+_0x25cfe7(0x206)+_0x382ea7+':\x20'+JSON[_0x25cfe7(0x1ed)](_0x19dc48[_0x25cfe7(0x1ee)])+',\x20status:\x20'+_0x19dc48[_0x25cfe7(0x1da)]),_0x19dc48;}catch(_0x518ea8){logger[_0x25cfe7(0x207)]('['+TAG+']\x20Error\x20in\x20putFailedTests:\x20'+_0x518ea8[_0x25cfe7(0x1c6)]+'\x20'+_0x518ea8[_0x25cfe7(0x1de)]);const _0x9a7b4e={};_0x9a7b4e[_0x25cfe7(0x1c6)]=_0x518ea8['message'];const _0x1e1363={};return _0x1e1363[_0x25cfe7(0x1da)]=0x1f4,_0x1e1363['body']=_0x9a7b4e,_0x1e1363;}}static async['getSplitFiles'](_0x25ec01){const _0x62c28d=a135_0x3da2a6,_0x4c6397={};_0x4c6397[_0x62c28d(0x1d8)]=_0x62c28d(0x1cb),_0x4c6397[_0x62c28d(0x1c4)]=function(_0x3f7f6e,_0x1390cb){return _0x3f7f6e===_0x1390cb;};const _0x5063fd=_0x4c6397;try{const _0x4c7913=await this[_0x62c28d(0x205)](_0x5063fd[_0x62c28d(0x1d8)],_0x25ec01);if(_0x5063fd['gvlYw'](_0x4c7913[_0x62c28d(0x1da)],0xc8))return _0x4c7913['body'];return{};}catch(_0x37c340){return logger[_0x62c28d(0x207)]('['+TAG+_0x62c28d(0x1d4)+_0x37c340['message']+'\x20'+_0x37c340[_0x62c28d(0x1de)]),{};}}static async[a135_0x3da2a6(0x1c8)](_0x18eb29){const _0x59acde=a135_0x3da2a6,_0x48ddf2={};_0x48ddf2['nyeCN']=_0x59acde(0x1c7),_0x48ddf2[_0x59acde(0x200)]=function(_0x46fbe2,_0x4841f6){return _0x46fbe2===_0x4841f6;},_0x48ddf2[_0x59acde(0x1f1)]=function(_0xe2614,_0x1aa437){return _0xe2614===_0x1aa437;},_0x48ddf2[_0x59acde(0x204)]=_0x59acde(0x1ea);const _0x5bf526=_0x48ddf2,_0x5268aa=ORCHESTRATION_API_URL+'/'+FAILED_TESTS_ENDPOINT;try{const _0x6053cc=await this[_0x59acde(0x205)](_0x5bf526['nyeCN'],_0x5268aa,_0x18eb29);if(_0x5bf526[_0x59acde(0x200)](_0x6053cc[_0x59acde(0x1da)],0xc8)&&_0x6053cc[_0x59acde(0x1ee)]&&_0x5bf526[_0x59acde(0x1f1)](_0x6053cc[_0x59acde(0x1ee)]['message'],_0x5bf526['gakJD']))return!![];return![];}catch(_0x3cc10e){logger[_0x59acde(0x207)]('['+TAG+']\x20Error\x20in\x20putFailedTests:\x20'+_0x3cc10e[_0x59acde(0x1c6)]+'\x20'+_0x3cc10e[_0x59acde(0x1de)]);const _0x144c46={};_0x144c46['message']=_0x3cc10e['message'];const _0x5e2055={};return _0x5e2055[_0x59acde(0x1da)]=0x1f4,_0x5e2055['body']=_0x144c46,_0x5e2055;}}static async['getFailedTestsCount'](_0x2a0e93){const _0x453a06=a135_0x3da2a6,_0x454b9e={'tVccp':function(_0x518049,_0x357167){return _0x518049||_0x357167;},'oivEz':_0x453a06(0x1e2),'BTWyH':function(_0x4f07e2,_0x2436e9){return _0x4f07e2(_0x2436e9);},'ikYOw':function(_0x229d82,_0xc90f15){return _0x229d82(_0xc90f15);},'wdviI':_0x453a06(0x1cb),'xJAHE':function(_0x12280b,_0x30641f){return _0x12280b===_0x30641f;},'vNiTy':function(_0x46b372,_0x450959){return _0x46b372!==_0x450959;},'oSrHU':_0x453a06(0x203),'XHnrw':function(_0xbf81c0,_0x589bf7){return _0xbf81c0(_0x589bf7);}},{buildName:_0x1e7c75,buildRunIdentifier:_0xc21b5d,projectName:_0x53a951}=_0x2a0e93;if(_0x454b9e['tVccp'](!_0x1e7c75,!_0xc21b5d)||!_0x53a951){logger[_0x453a06(0x207)]('['+TAG+']\x20Missing\x20parameters\x20for\x20getFailedTestsCount:\x20buildName='+_0x1e7c75+_0x453a06(0x1c0)+_0xc21b5d+',\x20projectName='+_0x53a951);const _0x42bbb3={};_0x42bbb3[_0x453a06(0x1c6)]=_0x454b9e[_0x453a06(0x1f2)];const _0x15fe34={};return _0x15fe34['status']=0x190,_0x15fe34[_0x453a06(0x1ee)]=_0x42bbb3,_0x15fe34;}const _0x20c247=_0x453a06(0x1fa)+_0x454b9e['BTWyH'](encodeURIComponent,_0x1e7c75)+_0x453a06(0x209)+_0x454b9e[_0x453a06(0x20a)](encodeURIComponent,_0xc21b5d)+'&projectName='+_0x454b9e[_0x453a06(0x20a)](encodeURIComponent,_0x53a951),_0x45dde1=ORCHESTRATION_API_URL+'/'+FAILED_TESTS_ENDPOINT+_0x20c247;try{logger['debug']('['+TAG+_0x453a06(0x1ca)+_0x45dde1);let _0x3fbb99=0x0;const _0x5ad90c=await this[_0x453a06(0x205)](_0x454b9e[_0x453a06(0x1f8)],_0x45dde1);return _0x454b9e[_0x453a06(0x1d0)](_0x5ad90c[_0x453a06(0x1da)],0xc8)&&_0x5ad90c['body']&&_0x454b9e['vNiTy'](typeof _0x5ad90c[_0x453a06(0x1ee)][_0x453a06(0x1db)],_0x454b9e[_0x453a06(0x1ce)])&&(_0x3fbb99=_0x454b9e['XHnrw'](Number,_0x5ad90c['body'][_0x453a06(0x1db)])),_0x3fbb99;}catch(_0x35837d){logger[_0x453a06(0x207)]('['+TAG+_0x453a06(0x1fb)+_0x35837d[_0x453a06(0x1c6)]+'\x20'+_0x35837d[_0x453a06(0x1de)]);const _0x44d3a3={};_0x44d3a3[_0x453a06(0x1c6)]=_0x35837d[_0x453a06(0x1c6)];const _0x8d766c={};return _0x8d766c[_0x453a06(0x1da)]=0x1f4,_0x8d766c[_0x453a06(0x1ee)]=_0x44d3a3,_0x8d766c;}}}module[a135_0x3da2a6(0x1dc)]=RequestUtils;