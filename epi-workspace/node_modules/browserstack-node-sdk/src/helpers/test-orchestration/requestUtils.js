const a131_0x369bbc=a131_0x1968;function a131_0x1968(_0x58b7f9,_0x4de9d3){const _0x515a9d=a131_0x515a();return a131_0x1968=function(_0x1968e3,_0x3f407e){_0x1968e3=_0x1968e3-0x170;let _0xa37671=_0x515a9d[_0x1968e3];return _0xa37671;},a131_0x1968(_0x58b7f9,_0x4de9d3);}(function(_0x4dfdb9,_0x3d37c7){const _0x37e9ff=a131_0x1968,_0x279c06=_0x4dfdb9();while(!![]){try{const _0x10c0ff=-parseInt(_0x37e9ff(0x192))/0x1+parseInt(_0x37e9ff(0x19e))/0x2*(parseInt(_0x37e9ff(0x1b1))/0x3)+-parseInt(_0x37e9ff(0x1a2))/0x4+parseInt(_0x37e9ff(0x19f))/0x5+parseInt(_0x37e9ff(0x197))/0x6+parseInt(_0x37e9ff(0x1ab))/0x7+parseInt(_0x37e9ff(0x173))/0x8;if(_0x10c0ff===_0x3d37c7)break;else _0x279c06['push'](_0x279c06['shift']());}catch(_0x303d57){_0x279c06['push'](_0x279c06['shift']());}}}(a131_0x515a,0x53ac0));const https=require(a131_0x369bbc(0x19d)),{URL}=require(a131_0x369bbc(0x1b7)),logger=require('../logger')[a131_0x369bbc(0x198)],{ORCHESTRATION_API_URL,FAILED_TESTS_ENDPOINT,SPLIT_TESTS_ENDPOINT}=require(a131_0x369bbc(0x184)),TAG=a131_0x369bbc(0x18e);class RequestUtils{static async[a131_0x369bbc(0x19b)](_0x404740,_0x26b668,_0x166d65=null){const _0x53ed62=a131_0x369bbc,_0x287c0={'mZlrL':_0x53ed62(0x19a),'qUFdG':_0x53ed62(0x18c),'rnFHq':function(_0x1b30d4,_0xbd5691){return _0x1b30d4(_0xbd5691);},'GhIVz':function(_0x43fdba,_0x5658cf){return _0x43fdba(_0x5658cf);},'ZcgmY':_0x53ed62(0x1c3),'KXjVY':function(_0x47647a,_0x5df0f2){return _0x47647a===_0x5df0f2;},'VwkUu':_0x53ed62(0x1bf),'xnhdY':function(_0x34c2dd,_0x1179e6){return _0x34c2dd===_0x1179e6;},'bitcM':'PUT','wrEwt':_0x53ed62(0x182),'zFjNi':function(_0x4f1710,_0x318dbc){return _0x4f1710+_0x318dbc;}},_0x50e8b1=process[_0x53ed62(0x17c)]['BROWSERSTACK_TESTHUB_JWT']||'',_0x21923b={};_0x21923b[_0x53ed62(0x1bc)]=_0x53ed62(0x187)+_0x50e8b1,_0x21923b[_0x53ed62(0x191)]=_0x287c0[_0x53ed62(0x18d)];const _0x18a960=_0x21923b,{hostname:_0x34f3a0,pathname:_0x44793f,search:_0x1456f8}=new URL(_0x26b668),_0x14511d={'hostname':_0x34f3a0,'path':_0x287c0['zFjNi'](_0x44793f,_0x1456f8),'method':_0x404740,'headers':_0x18a960};return logger['debug']('['+TAG+_0x53ed62(0x1b8)+_0x404740+_0x53ed62(0x1b6)+_0x26b668+_0x53ed62(0x1c0)+JSON[_0x53ed62(0x170)](_0x18a960)+_0x53ed62(0x180)+JSON[_0x53ed62(0x170)](_0x166d65)+_0x53ed62(0x177)+_0x50e8b1),new Promise((_0x279947,_0x12738b)=>{const _0xece52e=_0x53ed62,_0x3568b5={'bjGpw':function(_0x4b6df5,_0x5db940){const _0x2c56cd=a131_0x1968;return _0x287c0[_0x2c56cd(0x1ae)](_0x4b6df5,_0x5db940);},'DYqeX':function(_0x340dc3,_0x362798){return _0x287c0['GhIVz'](_0x340dc3,_0x362798);}},_0x668344=https['request'](_0x14511d,_0xb8b1f7=>{const _0x2dc844=a131_0x1968;let _0x2738cd='';_0xb8b1f7['on'](_0x287c0[_0x2dc844(0x1b9)],_0x5c7e18=>{_0x2738cd+=_0x5c7e18;}),_0xb8b1f7['on'](_0x287c0[_0x2dc844(0x17a)],()=>{const _0x4faf73=_0x2dc844;try{const _0x14a81b=_0x2738cd?JSON['parse'](_0x2738cd):{},_0x10f745={};_0x10f745[_0x4faf73(0x17f)]=_0xb8b1f7[_0x4faf73(0x185)],_0x10f745['body']=_0x14a81b,_0x10f745[_0x4faf73(0x1b4)]=_0xb8b1f7[_0x4faf73(0x1b4)],_0x3568b5[_0x4faf73(0x18b)](_0x279947,_0x10f745);}catch(_0x2d9a2d){logger['error']('['+TAG+_0x4faf73(0x194)+_0x2738cd+'\x20-\x20'+_0x2d9a2d['message']+'\x20'+_0x2d9a2d[_0x4faf73(0x175)]),_0x3568b5[_0x4faf73(0x1ac)](_0x12738b,new Error(_0x4faf73(0x1bd)+_0x2d9a2d[_0x4faf73(0x1a9)]));}});});_0x668344['on'](_0x287c0[_0xece52e(0x18a)],_0x2a4c0e=>{const _0x17aff2=_0xece52e;logger[_0x17aff2(0x1c3)]('['+TAG+']\x20Request\x20failed\x20for\x20'+_0x404740+'\x20'+_0x26b668+':\x20'+_0x2a4c0e[_0x17aff2(0x1a9)]+'\x20'+_0x2a4c0e[_0x17aff2(0x175)]),_0x287c0[_0x17aff2(0x1b0)](_0x12738b,_0x2a4c0e);}),_0x166d65&&(_0x287c0[_0xece52e(0x186)](_0x404740,_0x287c0[_0xece52e(0x195)])||_0x287c0[_0xece52e(0x188)](_0x404740,_0x287c0[_0xece52e(0x1a8)]))&&_0x668344['write'](JSON[_0xece52e(0x170)](_0x166d65)),_0x668344['end']();});}static async[a131_0x369bbc(0x18f)](_0x26e0f9){const _0x3fa7ba=a131_0x369bbc,_0x317f54={};_0x317f54[_0x3fa7ba(0x17d)]=_0x3fa7ba(0x1bf),_0x317f54[_0x3fa7ba(0x189)]=function(_0x306e28,_0x32945e){return _0x306e28===_0x32945e;};const _0x47f9bb=_0x317f54,_0x5128f5=ORCHESTRATION_API_URL+'/'+SPLIT_TESTS_ENDPOINT;try{const _0x222edd=await this[_0x3fa7ba(0x19b)](_0x47f9bb['CAXrV'],_0x5128f5,_0x26e0f9);return _0x47f9bb[_0x3fa7ba(0x189)](_0x222edd[_0x3fa7ba(0x17f)],0xc8)?logger[_0x3fa7ba(0x1b2)]('['+TAG+_0x3fa7ba(0x1a5)+_0x5128f5):logger['error']('['+TAG+_0x3fa7ba(0x1a7)+_0x5128f5+':\x20'+JSON[_0x3fa7ba(0x170)](_0x222edd['body'])+_0x3fa7ba(0x196)+_0x222edd[_0x3fa7ba(0x17f)]),_0x222edd;}catch(_0x167e97){logger[_0x3fa7ba(0x1c3)]('['+TAG+_0x3fa7ba(0x1a1)+_0x167e97[_0x3fa7ba(0x1a9)]+'\x20'+_0x167e97[_0x3fa7ba(0x175)]);const _0x151352={};_0x151352[_0x3fa7ba(0x1a9)]=_0x167e97[_0x3fa7ba(0x1a9)];const _0x3a3cee={};return _0x3a3cee[_0x3fa7ba(0x17f)]=0x1f4,_0x3a3cee['body']=_0x151352,_0x3a3cee;}}static async[a131_0x369bbc(0x178)](_0x424f7b){const _0x25c85f=a131_0x369bbc,_0x2a801b={};_0x2a801b[_0x25c85f(0x1bb)]=_0x25c85f(0x1aa),_0x2a801b[_0x25c85f(0x183)]=function(_0x45a2c7,_0x5f53f6){return _0x45a2c7===_0x5f53f6;};const _0x3c421d=_0x2a801b;try{const _0xe32abf=await this[_0x25c85f(0x19b)](_0x3c421d[_0x25c85f(0x1bb)],_0x424f7b);if(_0x3c421d[_0x25c85f(0x183)](_0xe32abf[_0x25c85f(0x17f)],0xc8))return _0xe32abf[_0x25c85f(0x1c1)];return{};}catch(_0x9a6cf4){return logger[_0x25c85f(0x1c3)]('['+TAG+_0x25c85f(0x1a1)+_0x9a6cf4['message']+'\x20'+_0x9a6cf4['stack']),{};}}static async[a131_0x369bbc(0x1a0)](_0x30815d){const _0x36bb86=a131_0x369bbc,_0x1be9d2={};_0x1be9d2[_0x36bb86(0x1ba)]=_0x36bb86(0x17e),_0x1be9d2[_0x36bb86(0x176)]=function(_0x2a4f69,_0x5cddf0){return _0x2a4f69===_0x5cddf0;},_0x1be9d2[_0x36bb86(0x1a6)]=_0x36bb86(0x1b3);const _0x40bac3=_0x1be9d2,_0x29eb2d=ORCHESTRATION_API_URL+'/'+FAILED_TESTS_ENDPOINT;try{const _0xa89741=await this[_0x36bb86(0x19b)](_0x40bac3['HxNbT'],_0x29eb2d,_0x30815d);if(_0x40bac3[_0x36bb86(0x176)](_0xa89741['status'],0xc8)&&_0xa89741[_0x36bb86(0x1c1)]&&_0x40bac3['trxnf'](_0xa89741['body'][_0x36bb86(0x1a9)],_0x40bac3[_0x36bb86(0x1a6)]))return!![];return![];}catch(_0x5827f6){logger['error']('['+TAG+_0x36bb86(0x1a1)+_0x5827f6[_0x36bb86(0x1a9)]+'\x20'+_0x5827f6[_0x36bb86(0x175)]);const _0x3dbb74={};_0x3dbb74[_0x36bb86(0x1a9)]=_0x5827f6[_0x36bb86(0x1a9)];const _0x1b3145={};return _0x1b3145[_0x36bb86(0x17f)]=0x1f4,_0x1b3145[_0x36bb86(0x1c1)]=_0x3dbb74,_0x1b3145;}}static async[a131_0x369bbc(0x19c)](_0x559a50){const _0x4b9a70=a131_0x369bbc,_0x595ad8={'uTThv':function(_0x732e5,_0x506daf){return _0x732e5||_0x506daf;},'QGDZy':_0x4b9a70(0x1b5),'nPGmg':function(_0x573b24,_0x1af80a){return _0x573b24(_0x1af80a);},'pmdCs':_0x4b9a70(0x1aa),'lsrmp':function(_0xfc8635,_0x217824){return _0xfc8635===_0x217824;},'DazSQ':function(_0x5c2aeb,_0x13d42d){return _0x5c2aeb!==_0x13d42d;},'uvZoY':_0x4b9a70(0x1af),'gZpML':function(_0x41e616,_0x199a7d){return _0x41e616(_0x199a7d);}},{buildName:_0x473043,buildRunIdentifier:_0x168094,projectName:_0x4c7d10}=_0x559a50;if(_0x595ad8[_0x4b9a70(0x179)](!_0x473043,!_0x168094)||!_0x4c7d10){logger[_0x4b9a70(0x1c3)]('['+TAG+_0x4b9a70(0x1a3)+_0x473043+_0x4b9a70(0x172)+_0x168094+_0x4b9a70(0x174)+_0x4c7d10);const _0xe16f52={};_0xe16f52[_0x4b9a70(0x1a9)]=_0x595ad8['QGDZy'];const _0x539419={};return _0x539419[_0x4b9a70(0x17f)]=0x190,_0x539419[_0x4b9a70(0x1c1)]=_0xe16f52,_0x539419;}const _0x3eba2a=_0x4b9a70(0x17b)+_0x595ad8['nPGmg'](encodeURIComponent,_0x473043)+'&buildRunIdentifier='+_0x595ad8['nPGmg'](encodeURIComponent,_0x168094)+'&projectName='+_0x595ad8[_0x4b9a70(0x1c2)](encodeURIComponent,_0x4c7d10),_0xead817=ORCHESTRATION_API_URL+'/'+FAILED_TESTS_ENDPOINT+_0x3eba2a;try{logger[_0x4b9a70(0x1b2)]('['+TAG+_0x4b9a70(0x1a4)+_0xead817);let _0x3b6055=0x0;const _0x173104=await this[_0x4b9a70(0x19b)](_0x595ad8[_0x4b9a70(0x193)],_0xead817);return _0x595ad8[_0x4b9a70(0x199)](_0x173104[_0x4b9a70(0x17f)],0xc8)&&_0x173104['body']&&_0x595ad8[_0x4b9a70(0x1ad)](typeof _0x173104[_0x4b9a70(0x1c1)][_0x4b9a70(0x181)],_0x595ad8[_0x4b9a70(0x190)])&&(_0x3b6055=_0x595ad8[_0x4b9a70(0x1be)](Number,_0x173104[_0x4b9a70(0x1c1)]['failedTestsCount'])),_0x3b6055;}catch(_0x5b4aac){logger[_0x4b9a70(0x1c3)]('['+TAG+_0x4b9a70(0x171)+_0x5b4aac['message']+'\x20'+_0x5b4aac['stack']);const _0x4a755f={};_0x4a755f[_0x4b9a70(0x1a9)]=_0x5b4aac[_0x4b9a70(0x1a9)];const _0x1e0ca9={};return _0x1e0ca9[_0x4b9a70(0x17f)]=0x1f4,_0x1e0ca9['body']=_0x4a755f,_0x1e0ca9;}}}function a131_0x515a(){const _0x11d8f4=['GhIVz','undefined','rnFHq','33yzMKTH','debug','Test\x20added','headers','Missing\x20required\x20parameters:\x20buildName,\x20buildRunIdentifier,\x20projectName','\x20request\x20to\x20','url',']\x20Sending\x20','mZlrL','HxNbT','ddarU','Authorization','Failed\x20to\x20parse\x20JSON\x20response:\x20','gZpML','POST','\x20with\x20headers:\x20','body','nPGmg','error','stringify',']\x20Error\x20in\x20getFailedTestsCount:\x20',',\x20buildRunIdentifier=','204288OTHmEC',',\x20projectName=','stack','trxnf','\x20and\x20token:\x20','getSplitFiles','uTThv','qUFdG','?buildName=','env','CAXrV','PUT','status','\x20and\x20data:\x20','failedTestsCount','application/json','SVoij','./constants','statusCode','KXjVY','Bearer\x20','xnhdY','KJQoF','ZcgmY','bjGpw','end','wrEwt','RequestUtils','postSplitFiles','uvZoY','Content-Type','415331ZnUraX','pmdCs',']\x20Failed\x20to\x20parse\x20JSON\x20response:\x20','VwkUu',',\x20status:\x20','2019618UCxtYY','winstonLogger','lsrmp','data','_request','getFailedTestsCount','https','42632GyuMHK','1487995NDSItg','putFailedTests',']\x20Error\x20in\x20putFailedTests:\x20','1060564ElRNKb',']\x20Missing\x20parameters\x20for\x20getFailedTestsCount:\x20buildName=',']\x20Sending\x20GET\x20to\x20',']\x20Successfully\x20posted\x20split\x20files\x20to\x20','IAGnN',']\x20Failed\x20to\x20post\x20split\x20files\x20to\x20','bitcM','message','GET','902846jecitB','DYqeX','DazSQ'];a131_0x515a=function(){return _0x11d8f4;};return a131_0x515a();}module['exports']=RequestUtils;