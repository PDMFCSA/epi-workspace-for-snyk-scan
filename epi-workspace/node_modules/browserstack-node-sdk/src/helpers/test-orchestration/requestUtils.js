const a135_0x52ee32=a135_0x8cb3;(function(_0x377297,_0x535d72){const _0x259289=a135_0x8cb3,_0xd08d69=_0x377297();while(!![]){try{const _0x29caaa=parseInt(_0x259289(0x20f))/0x1+parseInt(_0x259289(0x231))/0x2*(-parseInt(_0x259289(0x221))/0x3)+parseInt(_0x259289(0x1f3))/0x4*(-parseInt(_0x259289(0x1ed))/0x5)+-parseInt(_0x259289(0x218))/0x6+-parseInt(_0x259289(0x1fc))/0x7*(-parseInt(_0x259289(0x239))/0x8)+parseInt(_0x259289(0x215))/0x9*(-parseInt(_0x259289(0x20e))/0xa)+parseInt(_0x259289(0x209))/0xb;if(_0x29caaa===_0x535d72)break;else _0xd08d69['push'](_0xd08d69['shift']());}catch(_0x36dc39){_0xd08d69['push'](_0xd08d69['shift']());}}}(a135_0x5383,0xd6d5b));const https=require(a135_0x52ee32(0x21b)),{URL}=require(a135_0x52ee32(0x20d)),logger=require(a135_0x52ee32(0x238))[a135_0x52ee32(0x213)],{ORCHESTRATION_API_URL,FAILED_TESTS_ENDPOINT,SPLIT_TESTS_ENDPOINT}=require('./constants'),TAG='RequestUtils';class RequestUtils{static async[a135_0x52ee32(0x23c)](_0x5573a6,_0x254f4e,_0x4c81c2=null){const _0x49ddd6=a135_0x52ee32,_0x538469={'wVJzp':function(_0x5dc1a0,_0x532792){return _0x5dc1a0(_0x532792);},'BSnBK':_0x49ddd6(0x1f4),'FZtmg':_0x49ddd6(0x1f9),'SMOzI':_0x49ddd6(0x21a),'FSltv':function(_0x2c245a,_0xca809c){return _0x2c245a===_0xca809c;},'CHUvL':_0x49ddd6(0x214),'tsEWe':_0x49ddd6(0x1ef),'YaYWc':_0x49ddd6(0x200),'uoFAQ':function(_0x1ef13f,_0x3cf3d6){return _0x1ef13f+_0x3cf3d6;}},_0x246005=process[_0x49ddd6(0x229)]['BROWSERSTACK_TESTHUB_JWT']||'',_0x1c4ffc={};_0x1c4ffc['Authorization']=_0x49ddd6(0x225)+_0x246005,_0x1c4ffc['Content-Type']=_0x538469['YaYWc'];const _0x4990ef=_0x1c4ffc,{hostname:_0x212672,pathname:_0x5f0ac3,search:_0x474fef}=new URL(_0x254f4e),_0x4ee2fe={'hostname':_0x212672,'path':_0x538469['uoFAQ'](_0x5f0ac3,_0x474fef),'method':_0x5573a6,'headers':_0x4990ef};return logger[_0x49ddd6(0x206)]('['+TAG+_0x49ddd6(0x1fa)+_0x5573a6+_0x49ddd6(0x216)+_0x254f4e+_0x49ddd6(0x21e)+JSON[_0x49ddd6(0x233)](_0x4990ef)+_0x49ddd6(0x217)+JSON[_0x49ddd6(0x233)](_0x4c81c2)+_0x49ddd6(0x208)+_0x246005),new Promise((_0x214b86,_0xf320b3)=>{const _0x526c5d=_0x49ddd6,_0x3912d9={'BAjQB':function(_0x476d3b,_0x35b505){const _0x30067d=a135_0x8cb3;return _0x538469[_0x30067d(0x22f)](_0x476d3b,_0x35b505);},'zLLnt':_0x538469[_0x526c5d(0x1f0)],'MVLZJ':_0x538469['FZtmg']},_0x414530=https['request'](_0x4ee2fe,_0x465ef8=>{const _0x547be4=_0x526c5d,_0x5d357={'tFVGC':function(_0x27c63a,_0x349d88){const _0x5365a1=a135_0x8cb3;return _0x3912d9[_0x5365a1(0x236)](_0x27c63a,_0x349d88);}};let _0x1e81af='';_0x465ef8['on'](_0x3912d9[_0x547be4(0x204)],_0x4433b7=>{_0x1e81af+=_0x4433b7;}),_0x465ef8['on'](_0x3912d9[_0x547be4(0x22d)],()=>{const _0x3403f6=_0x547be4;try{const _0x39b779=_0x1e81af?JSON['parse'](_0x1e81af):{},_0x31add0={};_0x31add0[_0x3403f6(0x1f6)]=_0x465ef8[_0x3403f6(0x212)],_0x31add0['body']=_0x39b779,_0x31add0[_0x3403f6(0x1f5)]=_0x465ef8[_0x3403f6(0x1f5)],_0x5d357['tFVGC'](_0x214b86,_0x31add0);}catch(_0x30098a){logger[_0x3403f6(0x21a)]('['+TAG+_0x3403f6(0x1f7)+_0x1e81af+_0x3403f6(0x222)+_0x30098a['message']+'\x20'+_0x30098a[_0x3403f6(0x22b)]),_0x5d357[_0x3403f6(0x1f2)](_0xf320b3,new Error('Failed\x20to\x20parse\x20JSON\x20response:\x20'+_0x30098a['message']));}});});_0x414530['on'](_0x538469[_0x526c5d(0x227)],_0x4fb8ae=>{const _0x1dde20=_0x526c5d;logger['error']('['+TAG+_0x1dde20(0x201)+_0x5573a6+'\x20'+_0x254f4e+':\x20'+_0x4fb8ae[_0x1dde20(0x21c)]+'\x20'+_0x4fb8ae[_0x1dde20(0x22b)]),_0x538469[_0x1dde20(0x22f)](_0xf320b3,_0x4fb8ae);}),_0x4c81c2&&(_0x538469[_0x526c5d(0x202)](_0x5573a6,_0x538469[_0x526c5d(0x210)])||_0x538469[_0x526c5d(0x202)](_0x5573a6,_0x538469[_0x526c5d(0x205)]))&&_0x414530[_0x526c5d(0x232)](JSON[_0x526c5d(0x233)](_0x4c81c2)),_0x414530[_0x526c5d(0x1f9)]();});}static async[a135_0x52ee32(0x234)](_0x37aa50){const _0xf224dd=a135_0x52ee32,_0x15d59c={};_0x15d59c[_0xf224dd(0x226)]=_0xf224dd(0x214),_0x15d59c[_0xf224dd(0x211)]=function(_0x5616c9,_0x447bae){return _0x5616c9===_0x447bae;};const _0x4b2a02=_0x15d59c,_0x3f250d=ORCHESTRATION_API_URL+'/'+SPLIT_TESTS_ENDPOINT;try{const _0x4c14d0=await this[_0xf224dd(0x23c)](_0x4b2a02[_0xf224dd(0x226)],_0x3f250d,_0x37aa50);return _0x4b2a02[_0xf224dd(0x211)](_0x4c14d0[_0xf224dd(0x1f6)],0xc8)?logger[_0xf224dd(0x206)]('['+TAG+_0xf224dd(0x1ee)+_0x3f250d):logger[_0xf224dd(0x21a)]('['+TAG+_0xf224dd(0x1fb)+_0x3f250d+':\x20'+JSON[_0xf224dd(0x233)](_0x4c14d0[_0xf224dd(0x220)])+',\x20status:\x20'+_0x4c14d0['status']),_0x4c14d0;}catch(_0x2d28b4){logger[_0xf224dd(0x21a)]('['+TAG+']\x20Error\x20in\x20putFailedTests:\x20'+_0x2d28b4['message']+'\x20'+_0x2d28b4[_0xf224dd(0x22b)]);const _0x16bb67={};_0x16bb67['message']=_0x2d28b4[_0xf224dd(0x21c)];const _0xe1763b={};return _0xe1763b[_0xf224dd(0x1f6)]=0x1f4,_0xe1763b[_0xf224dd(0x220)]=_0x16bb67,_0xe1763b;}}static async[a135_0x52ee32(0x1ff)](_0x598bb4){const _0x5c3f17=a135_0x52ee32,_0x2f237c={};_0x2f237c['AQMIl']='GET',_0x2f237c[_0x5c3f17(0x21f)]=function(_0x83287a,_0x3e5303){return _0x83287a===_0x3e5303;};const _0x4428f1=_0x2f237c;try{const _0x41d47d=await this[_0x5c3f17(0x23c)](_0x4428f1[_0x5c3f17(0x1fe)],_0x598bb4);if(_0x4428f1[_0x5c3f17(0x21f)](_0x41d47d[_0x5c3f17(0x1f6)],0xc8))return _0x41d47d[_0x5c3f17(0x220)];return{};}catch(_0x5f0bed){return logger['error']('['+TAG+']\x20Error\x20in\x20putFailedTests:\x20'+_0x5f0bed[_0x5c3f17(0x21c)]+'\x20'+_0x5f0bed[_0x5c3f17(0x22b)]),{};}}static async[a135_0x52ee32(0x1fd)](_0x22755b){const _0x5b1fd8=a135_0x52ee32,_0x104f7e={};_0x104f7e[_0x5b1fd8(0x228)]=_0x5b1fd8(0x1ef),_0x104f7e[_0x5b1fd8(0x230)]=function(_0x2ccd2c,_0x4099dd){return _0x2ccd2c===_0x4099dd;},_0x104f7e[_0x5b1fd8(0x235)]=function(_0x24c6e4,_0x2bd75e){return _0x24c6e4===_0x2bd75e;},_0x104f7e[_0x5b1fd8(0x237)]=_0x5b1fd8(0x1f8);const _0x13e7bf=_0x104f7e,_0x35cfef=ORCHESTRATION_API_URL+'/'+FAILED_TESTS_ENDPOINT;try{const _0x58ef4f=await this[_0x5b1fd8(0x23c)](_0x13e7bf[_0x5b1fd8(0x228)],_0x35cfef,_0x22755b);if(_0x13e7bf[_0x5b1fd8(0x230)](_0x58ef4f['status'],0xc8)&&_0x58ef4f[_0x5b1fd8(0x220)]&&_0x13e7bf['EjWzl'](_0x58ef4f[_0x5b1fd8(0x220)][_0x5b1fd8(0x21c)],_0x13e7bf[_0x5b1fd8(0x237)]))return!![];return![];}catch(_0x27fda5){logger[_0x5b1fd8(0x21a)]('['+TAG+']\x20Error\x20in\x20putFailedTests:\x20'+_0x27fda5[_0x5b1fd8(0x21c)]+'\x20'+_0x27fda5[_0x5b1fd8(0x22b)]);const _0x3f4892={};_0x3f4892['message']=_0x27fda5[_0x5b1fd8(0x21c)];const _0x9fafdd={};return _0x9fafdd[_0x5b1fd8(0x1f6)]=0x1f4,_0x9fafdd[_0x5b1fd8(0x220)]=_0x3f4892,_0x9fafdd;}}static async['getFailedTestsCount'](_0x2d1bc0){const _0x37e753=a135_0x52ee32,_0x525313={'AOLHy':function(_0x544c3e,_0x1c8bf5){return _0x544c3e||_0x1c8bf5;},'sLlkZ':'Missing\x20required\x20parameters:\x20buildName,\x20buildRunIdentifier,\x20projectName','TLHZl':function(_0x664762,_0x2548d5){return _0x664762(_0x2548d5);},'CODIO':_0x37e753(0x23b),'ouBQN':function(_0x395321,_0x11d783){return _0x395321===_0x11d783;},'qaSRF':function(_0x2f5db8,_0x288e6d){return _0x2f5db8!==_0x288e6d;},'aGcgI':_0x37e753(0x20b),'DZLby':function(_0x41d55d,_0x400380){return _0x41d55d(_0x400380);}},{buildName:_0x1f7d56,buildRunIdentifier:_0xa844d0,projectName:_0x5db5c6}=_0x2d1bc0;if(_0x525313[_0x37e753(0x224)](!_0x1f7d56,!_0xa844d0)||!_0x5db5c6){logger['error']('['+TAG+_0x37e753(0x22c)+_0x1f7d56+_0x37e753(0x20a)+_0xa844d0+_0x37e753(0x207)+_0x5db5c6);const _0x343d9e={};_0x343d9e[_0x37e753(0x21c)]=_0x525313[_0x37e753(0x23d)];const _0xf433af={};return _0xf433af['status']=0x190,_0xf433af[_0x37e753(0x220)]=_0x343d9e,_0xf433af;}const _0x584a03=_0x37e753(0x23e)+_0x525313[_0x37e753(0x23a)](encodeURIComponent,_0x1f7d56)+'&buildRunIdentifier='+_0x525313['TLHZl'](encodeURIComponent,_0xa844d0)+_0x37e753(0x223)+_0x525313['TLHZl'](encodeURIComponent,_0x5db5c6),_0x341347=ORCHESTRATION_API_URL+'/'+FAILED_TESTS_ENDPOINT+_0x584a03;try{logger['debug']('['+TAG+_0x37e753(0x219)+_0x341347);let _0x266ecb=0x0;const _0x314a7b=await this[_0x37e753(0x23c)](_0x525313[_0x37e753(0x22e)],_0x341347);return _0x525313[_0x37e753(0x20c)](_0x314a7b[_0x37e753(0x1f6)],0xc8)&&_0x314a7b[_0x37e753(0x220)]&&_0x525313[_0x37e753(0x22a)](typeof _0x314a7b[_0x37e753(0x220)]['failedTestsCount'],_0x525313[_0x37e753(0x21d)])&&(_0x266ecb=_0x525313['DZLby'](Number,_0x314a7b[_0x37e753(0x220)][_0x37e753(0x1f1)])),_0x266ecb;}catch(_0x3c986b){logger[_0x37e753(0x21a)]('['+TAG+']\x20Error\x20in\x20getFailedTestsCount:\x20'+_0x3c986b[_0x37e753(0x21c)]+'\x20'+_0x3c986b[_0x37e753(0x22b)]);const _0x2d19e1={};_0x2d19e1[_0x37e753(0x21c)]=_0x3c986b[_0x37e753(0x21c)];const _0x1e557d={};return _0x1e557d[_0x37e753(0x1f6)]=0x1f4,_0x1e557d[_0x37e753(0x220)]=_0x2d19e1,_0x1e557d;}}}function a135_0x5383(){const _0x3c8456=['../logger','3784PeXYXs','TLHZl','GET','_request','sLlkZ','?buildName=','5vQVsPm',']\x20Successfully\x20posted\x20split\x20files\x20to\x20','PUT','BSnBK','failedTestsCount','tFVGC','6061136yqZvHS','data','headers','status',']\x20Failed\x20to\x20parse\x20JSON\x20response:\x20','Test\x20added','end',']\x20Sending\x20',']\x20Failed\x20to\x20post\x20split\x20files\x20to\x20','6006vQbFBt','putFailedTests','AQMIl','getSplitFiles','application/json',']\x20Request\x20failed\x20for\x20','FSltv','exports','zLLnt','tsEWe','debug',',\x20projectName=','\x20and\x20token:\x20','44745910gcqXEA',',\x20buildRunIdentifier=','undefined','ouBQN','url','2269430nNUbvA','1378246FqtKCb','CHUvL','TIZNl','statusCode','winstonLogger','POST','36LQrQql','\x20request\x20to\x20','\x20and\x20data:\x20','5227002ISEuMG',']\x20Sending\x20GET\x20to\x20','error','https','message','aGcgI','\x20with\x20headers:\x20','JziKh','body','5033112HDhesC','\x20-\x20','&projectName=','AOLHy','Bearer\x20','aHUdY','SMOzI','qVkjQ','env','qaSRF','stack',']\x20Missing\x20parameters\x20for\x20getFailedTestsCount:\x20buildName=','MVLZJ','CODIO','wVJzp','PLxSz','2pebXhY','write','stringify','postSplitFiles','EjWzl','BAjQB','QHtrB'];a135_0x5383=function(){return _0x3c8456;};return a135_0x5383();}function a135_0x8cb3(_0x4ad353,_0x54741e){const _0x53831c=a135_0x5383();return a135_0x8cb3=function(_0x8cb33d,_0x30a77b){_0x8cb33d=_0x8cb33d-0x1ed;let _0x600f0c=_0x53831c[_0x8cb33d];return _0x600f0c;},a135_0x8cb3(_0x4ad353,_0x54741e);}module[a135_0x52ee32(0x203)]=RequestUtils;