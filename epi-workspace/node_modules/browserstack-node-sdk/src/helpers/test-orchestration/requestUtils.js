const a135_0x492895=a135_0x2fc2;(function(_0x5ea94b,_0x15c17b){const _0x53a37e=a135_0x2fc2,_0x1f719=_0x5ea94b();while(!![]){try{const _0x5e760d=parseInt(_0x53a37e(0xbb))/0x1*(parseInt(_0x53a37e(0x95))/0x2)+-parseInt(_0x53a37e(0xa8))/0x3+-parseInt(_0x53a37e(0xac))/0x4*(parseInt(_0x53a37e(0xb5))/0x5)+parseInt(_0x53a37e(0x7a))/0x6*(parseInt(_0x53a37e(0xb7))/0x7)+-parseInt(_0x53a37e(0x90))/0x8*(parseInt(_0x53a37e(0x79))/0x9)+-parseInt(_0x53a37e(0x93))/0xa+-parseInt(_0x53a37e(0xad))/0xb*(-parseInt(_0x53a37e(0x9b))/0xc);if(_0x5e760d===_0x15c17b)break;else _0x1f719['push'](_0x1f719['shift']());}catch(_0x10f68a){_0x1f719['push'](_0x1f719['shift']());}}}(a135_0x5d9f,0xae88a));const https=require('https'),{URL}=require('url'),logger=require('../logger')['winstonLogger'],{ORCHESTRATION_API_URL,FAILED_TESTS_ENDPOINT,SPLIT_TESTS_ENDPOINT}=require(a135_0x492895(0xa3)),TAG=a135_0x492895(0x87);function a135_0x2fc2(_0x111cf4,_0x485225){const _0x5d9fbb=a135_0x5d9f();return a135_0x2fc2=function(_0x2fc22d,_0x5832c6){_0x2fc22d=_0x2fc22d-0x79;let _0x934665=_0x5d9fbb[_0x2fc22d];return _0x934665;},a135_0x2fc2(_0x111cf4,_0x485225);}function a135_0x5d9f(){const _0x50dac7=[',\x20buildRunIdentifier=','debug','xncuN','Test\x20added','NTdpC',']\x20Successfully\x20posted\x20split\x20files\x20to\x20','6832608sXsUJk','IDhPy','QoEuR','8946660mMecij','sgRto','104vDfFEg',',\x20status:\x20','OuGAW','body','end','_request','20496ToFpTC',',\x20projectName=','stringify','failedTestsCount','parse','headers','putFailedTests','application/json','./constants','undefined','write','status','Missing\x20required\x20parameters:\x20buildName,\x20buildRunIdentifier,\x20projectName','3569484NpHaCV',']\x20Error\x20in\x20putFailedTests:\x20','BRdnP','statusCode','2818212DtVkFy','11561SyzTkr','sRaXe','uKnlN','stack',']\x20Error\x20in\x20getFailedTestsCount:\x20','PUT','message','wZvyM','5sDihSq','GET','7NkdyxU','Xqglv',']\x20Sending\x20GET\x20to\x20','zzLLR','21809XgdALq','IgAFB','&buildRunIdentifier=','jJmXM','GYxQK','nMkCr','cYaBn','getSplitFiles',']\x20Failed\x20to\x20parse\x20JSON\x20response:\x20','\x20with\x20headers:\x20','BLldy','9uQLVLe','8573022cBXQTk','error','?buildName=','BROWSERSTACK_TESTHUB_JWT','\x20request\x20to\x20','oczll','\x20and\x20data:\x20','env','efGMo','phWIB',']\x20Sending\x20','getFailedTestsCount','Authorization','RequestUtils','&projectName=','POST'];a135_0x5d9f=function(){return _0x50dac7;};return a135_0x5d9f();}class RequestUtils{static async[a135_0x492895(0x9a)](_0x5779fe,_0x173a33,_0x23a223=null){const _0x19e8d6=a135_0x492895,_0x298959={'xncuN':'data','IDGTb':_0x19e8d6(0x99),'sgRto':function(_0x5a3c9b,_0x436b36){return _0x5a3c9b(_0x436b36);},'IDhPy':'error','GYxQK':function(_0x5a866c,_0x563a81){return _0x5a866c===_0x563a81;},'UlLqK':_0x19e8d6(0x89),'IgAFB':function(_0x2ea6b2,_0x1b8db0){return _0x2ea6b2===_0x1b8db0;},'jJmXM':'PUT','QoEuR':_0x19e8d6(0xa2),'cYaBn':function(_0xe23302,_0x6360c0){return _0xe23302+_0x6360c0;}},_0x2cbdfa=process[_0x19e8d6(0x81)][_0x19e8d6(0x7d)]||'',_0x46d69b={};_0x46d69b[_0x19e8d6(0x86)]='Bearer\x20'+_0x2cbdfa,_0x46d69b['Content-Type']=_0x298959[_0x19e8d6(0x92)];const _0x40eafd=_0x46d69b,{hostname:_0x31de3c,pathname:_0x66e46e,search:_0x55cf18}=new URL(_0x173a33),_0x4d9363={'hostname':_0x31de3c,'path':_0x298959[_0x19e8d6(0xc1)](_0x66e46e,_0x55cf18),'method':_0x5779fe,'headers':_0x40eafd};return logger[_0x19e8d6(0x8b)]('['+TAG+_0x19e8d6(0x84)+_0x5779fe+_0x19e8d6(0x7e)+_0x173a33+_0x19e8d6(0xc4)+JSON[_0x19e8d6(0x9d)](_0x40eafd)+_0x19e8d6(0x80)+JSON[_0x19e8d6(0x9d)](_0x23a223)+'\x20and\x20token:\x20'+_0x2cbdfa),new Promise((_0x46525e,_0x489d3c)=>{const _0x141af0=_0x19e8d6,_0x4cb377={'Xqglv':function(_0x33d944,_0x142eef){const _0x276eee=a135_0x2fc2;return _0x298959[_0x276eee(0x94)](_0x33d944,_0x142eef);}},_0x4dcd07=https['request'](_0x4d9363,_0x275066=>{const _0x59d47b=a135_0x2fc2;let _0x4a5977='';_0x275066['on'](_0x298959[_0x59d47b(0x8c)],_0x377f64=>{_0x4a5977+=_0x377f64;}),_0x275066['on'](_0x298959['IDGTb'],()=>{const _0x122ab8=_0x59d47b;try{const _0x31be0c=_0x4a5977?JSON[_0x122ab8(0x9f)](_0x4a5977):{},_0x19fe3c={};_0x19fe3c[_0x122ab8(0xa6)]=_0x275066[_0x122ab8(0xab)],_0x19fe3c[_0x122ab8(0x98)]=_0x31be0c,_0x19fe3c[_0x122ab8(0xa0)]=_0x275066['headers'],_0x4cb377[_0x122ab8(0xb8)](_0x46525e,_0x19fe3c);}catch(_0x848cdd){logger[_0x122ab8(0x7b)]('['+TAG+_0x122ab8(0xc3)+_0x4a5977+'\x20-\x20'+_0x848cdd['message']+'\x20'+_0x848cdd[_0x122ab8(0xb0)]),_0x4cb377['Xqglv'](_0x489d3c,new Error('Failed\x20to\x20parse\x20JSON\x20response:\x20'+_0x848cdd['message']));}});});_0x4dcd07['on'](_0x298959[_0x141af0(0x91)],_0x46632c=>{const _0x2748f5=_0x141af0;logger[_0x2748f5(0x7b)]('['+TAG+']\x20Request\x20failed\x20for\x20'+_0x5779fe+'\x20'+_0x173a33+':\x20'+_0x46632c[_0x2748f5(0xb3)]+'\x20'+_0x46632c[_0x2748f5(0xb0)]),_0x4cb377[_0x2748f5(0xb8)](_0x489d3c,_0x46632c);}),_0x23a223&&(_0x298959[_0x141af0(0xbf)](_0x5779fe,_0x298959['UlLqK'])||_0x298959[_0x141af0(0xbc)](_0x5779fe,_0x298959[_0x141af0(0xbe)]))&&_0x4dcd07[_0x141af0(0xa5)](JSON[_0x141af0(0x9d)](_0x23a223)),_0x4dcd07[_0x141af0(0x99)]();});}static async['postSplitFiles'](_0x362b9b){const _0x4eeba6=a135_0x492895,_0x5b69c3={};_0x5b69c3['ZLYTs']='POST',_0x5b69c3['BRdnP']=function(_0x345b7e,_0x5e1a88){return _0x345b7e===_0x5e1a88;};const _0x377425=_0x5b69c3,_0x4ceaaa=ORCHESTRATION_API_URL+'/'+SPLIT_TESTS_ENDPOINT;try{const _0x566a79=await this['_request'](_0x377425['ZLYTs'],_0x4ceaaa,_0x362b9b);return _0x377425[_0x4eeba6(0xaa)](_0x566a79[_0x4eeba6(0xa6)],0xc8)?logger['debug']('['+TAG+_0x4eeba6(0x8f)+_0x4ceaaa):logger[_0x4eeba6(0x7b)]('['+TAG+']\x20Failed\x20to\x20post\x20split\x20files\x20to\x20'+_0x4ceaaa+':\x20'+JSON[_0x4eeba6(0x9d)](_0x566a79[_0x4eeba6(0x98)])+_0x4eeba6(0x96)+_0x566a79[_0x4eeba6(0xa6)]),_0x566a79;}catch(_0x5642db){logger[_0x4eeba6(0x7b)]('['+TAG+_0x4eeba6(0xa9)+_0x5642db['message']+'\x20'+_0x5642db[_0x4eeba6(0xb0)]);const _0x279d32={};_0x279d32['message']=_0x5642db[_0x4eeba6(0xb3)];const _0x4c35ea={};return _0x4c35ea[_0x4eeba6(0xa6)]=0x1f4,_0x4c35ea[_0x4eeba6(0x98)]=_0x279d32,_0x4c35ea;}}static async[a135_0x492895(0xc2)](_0x27ea52){const _0x5ddd02=a135_0x492895,_0x37b512={};_0x37b512[_0x5ddd02(0xaf)]=_0x5ddd02(0xb6),_0x37b512[_0x5ddd02(0x82)]=function(_0x4c694b,_0x2cb67d){return _0x4c694b===_0x2cb67d;};const _0x427992=_0x37b512;try{const _0x206aa4=await this[_0x5ddd02(0x9a)](_0x427992[_0x5ddd02(0xaf)],_0x27ea52);if(_0x427992[_0x5ddd02(0x82)](_0x206aa4['status'],0xc8))return _0x206aa4[_0x5ddd02(0x98)];return{};}catch(_0x1d1c34){return logger[_0x5ddd02(0x7b)]('['+TAG+_0x5ddd02(0xa9)+_0x1d1c34['message']+'\x20'+_0x1d1c34['stack']),{};}}static async[a135_0x492895(0xa1)](_0xcab97e){const _0x5320b7=a135_0x492895,_0xe2d66f={};_0xe2d66f['phWIB']=_0x5320b7(0xb2),_0xe2d66f[_0x5320b7(0xc5)]=function(_0x25045e,_0x595ec8){return _0x25045e===_0x595ec8;},_0xe2d66f['sRaXe']=_0x5320b7(0x8d);const _0x59dd0c=_0xe2d66f,_0x2b6077=ORCHESTRATION_API_URL+'/'+FAILED_TESTS_ENDPOINT;try{const _0x103a99=await this['_request'](_0x59dd0c[_0x5320b7(0x83)],_0x2b6077,_0xcab97e);if(_0x59dd0c['BLldy'](_0x103a99[_0x5320b7(0xa6)],0xc8)&&_0x103a99[_0x5320b7(0x98)]&&_0x59dd0c[_0x5320b7(0xc5)](_0x103a99['body'][_0x5320b7(0xb3)],_0x59dd0c[_0x5320b7(0xae)]))return!![];return![];}catch(_0x5aaec1){logger[_0x5320b7(0x7b)]('['+TAG+_0x5320b7(0xa9)+_0x5aaec1[_0x5320b7(0xb3)]+'\x20'+_0x5aaec1[_0x5320b7(0xb0)]);const _0x26a640={};_0x26a640[_0x5320b7(0xb3)]=_0x5aaec1[_0x5320b7(0xb3)];const _0x1d833b={};return _0x1d833b['status']=0x1f4,_0x1d833b[_0x5320b7(0x98)]=_0x26a640,_0x1d833b;}}static async[a135_0x492895(0x85)](_0x59bd0d){const _0x33b20a=a135_0x492895,_0x496c1f={'wZvyM':function(_0x1cfd36,_0x3e0283){return _0x1cfd36||_0x3e0283;},'oczll':_0x33b20a(0xa7),'zzLLR':function(_0x33b1c0,_0x30604f){return _0x33b1c0(_0x30604f);},'OuGAW':function(_0x30260f,_0x574832){return _0x30260f(_0x574832);},'NTdpC':_0x33b20a(0xb6),'Hvmve':function(_0xcfc95e,_0x13a606){return _0xcfc95e===_0x13a606;},'soTkE':function(_0x59aecf,_0x12cecd){return _0x59aecf!==_0x12cecd;},'nMkCr':_0x33b20a(0xa4)},{buildName:_0x4907c5,buildRunIdentifier:_0x461895,projectName:_0xccbb74}=_0x59bd0d;if(_0x496c1f[_0x33b20a(0xb4)](!_0x4907c5,!_0x461895)||!_0xccbb74){logger[_0x33b20a(0x7b)]('['+TAG+']\x20Missing\x20parameters\x20for\x20getFailedTestsCount:\x20buildName='+_0x4907c5+_0x33b20a(0x8a)+_0x461895+_0x33b20a(0x9c)+_0xccbb74);const _0x5da4ba={};_0x5da4ba['message']=_0x496c1f[_0x33b20a(0x7f)];const _0x1799ef={};return _0x1799ef[_0x33b20a(0xa6)]=0x190,_0x1799ef[_0x33b20a(0x98)]=_0x5da4ba,_0x1799ef;}const _0x556f83=_0x33b20a(0x7c)+_0x496c1f[_0x33b20a(0xba)](encodeURIComponent,_0x4907c5)+_0x33b20a(0xbd)+_0x496c1f[_0x33b20a(0xba)](encodeURIComponent,_0x461895)+_0x33b20a(0x88)+_0x496c1f[_0x33b20a(0x97)](encodeURIComponent,_0xccbb74),_0x2ba95b=ORCHESTRATION_API_URL+'/'+FAILED_TESTS_ENDPOINT+_0x556f83;try{logger[_0x33b20a(0x8b)]('['+TAG+_0x33b20a(0xb9)+_0x2ba95b);let _0x54e4f3=0x0;const _0x390b0d=await this[_0x33b20a(0x9a)](_0x496c1f[_0x33b20a(0x8e)],_0x2ba95b);return _0x496c1f['Hvmve'](_0x390b0d[_0x33b20a(0xa6)],0xc8)&&_0x390b0d['body']&&_0x496c1f['soTkE'](typeof _0x390b0d[_0x33b20a(0x98)][_0x33b20a(0x9e)],_0x496c1f[_0x33b20a(0xc0)])&&(_0x54e4f3=_0x496c1f[_0x33b20a(0xba)](Number,_0x390b0d[_0x33b20a(0x98)][_0x33b20a(0x9e)])),_0x54e4f3;}catch(_0x901cfa){logger['error']('['+TAG+_0x33b20a(0xb1)+_0x901cfa['message']+'\x20'+_0x901cfa[_0x33b20a(0xb0)]);const _0x3ce82a={};_0x3ce82a[_0x33b20a(0xb3)]=_0x901cfa[_0x33b20a(0xb3)];const _0x4bb903={};return _0x4bb903[_0x33b20a(0xa6)]=0x1f4,_0x4bb903[_0x33b20a(0x98)]=_0x3ce82a,_0x4bb903;}}}module['exports']=RequestUtils;