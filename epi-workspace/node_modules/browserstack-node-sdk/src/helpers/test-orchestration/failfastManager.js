const a122_0xccf01=a122_0x445c;function a122_0x445c(_0x5f5946,_0x2f979e){const _0x44a1b2=a122_0x44a1();return a122_0x445c=function(_0x445cb0,_0x1dc9ec){_0x445cb0=_0x445cb0-0x153;let _0x550e7b=_0x44a1b2[_0x445cb0];return _0x550e7b;},a122_0x445c(_0x5f5946,_0x2f979e);}function a122_0x44a1(){const _0x1198cd=['XauQn',']\x20Polling\x20stopped.','failFast.active','BROWSERSTACK_NODE_INDEX','writeState','MZvND','_Local]\x20State\x20file\x20not\x20found,\x20initializing\x20with\x20default\x20state\x20and\x20creating\x20file.','failureThresholdCount','_CI]\x20Sending\x20failed\x20test\x20to\x20API:\x20','projectName','ipxtV','\x0aStack:\x20','rCRSj','2187997wQLbCR','mKpal','UpaSf','lockFilePath','_initializeStateFromFile','1643250ztIRnR','_CI]\x20Fail-fast\x20marker\x20file\x20exists.\x20Failing\x20fast.','zfNrp','AGsNh','_Local]\x20Error\x20reading\x20state\x20in\x20shouldFailFast:\x20','_Local]\x20State\x20initialized\x20from\x20file.','warn','stack','qQcQy','failFastActive','6LLKszQ','_Local]\x20Triggering\x20abortBuildOnFailure\x20for\x20current\x20error\x20count:\x20','debug','newState','egtyy','existsSync','env','sFhVh','buildName','_CI]\x20Error\x20during\x20polling\x20logic:\x20','add','_CI]\x20Polling\x20started\x20with\x20interval:\x20','qxGTH','YmUrG','_Local]\x20State\x20cleaned\x20up\x20and\x20saved\x20successfully.','yPkiU','sBHYt',']\x20Critical\x20error\x20during\x20async\x20initialization:\x20','onTestDone','exports','_sendFailedTestsToAPI','failFastState.json','_getDefaultState','YITsl','reportedFailuresToAPI','JoAMh','putFailedTests','OjVHS','HDSPe','state','VCJWG','PSWsq','qSjoM','_Local]\x20Recovered\x20state\x20from\x20file\x20after\x20onTestDone\x20error.','catch','1122459rAmexk','wFtIx','_Local]\x20Error\x20initializing\x20state\x20from\x20file:\x20','number','FailFastManager','115065MzPcLK','startPolling','_CI]\x20Triggering\x20abortBuildOnFailure\x20for\x20current\x20error\x20count:\x20','bUmVc','ahyUw','failFastState.lock','failedTests','_Local]\x20Error\x20during\x20cleanup\x20and\x20state\x20save:\x20','Vnqtp','\x20to\x20API:\x20','mYIOW','fFnIY','isCIMode','_CI]\x20Error\x20checking\x20for\x20fail-fast\x20marker\x20file:\x20','failed','failFastConfig','kdNWs','_pollFailedTests','stateFilePath','65uVcpfl','failFastActiveMarkerPath','pollingInterval','buildRunIdentifier','_CI]\x20Cleanup\x20for\x20CI\x20mode.\x20Polling\x20stopped.\x20Marker\x20file\x20is\x20not\x20removed\x20by\x20this\x20manager.','_CI]\x20Error\x20getting\x20failed\x20tests\x20count\x20from\x20API:\x20','\x20(was\x20','_Local]\x20Fail-fast\x20is\x20already\x20active\x20in\x20state\x20file.','workingDir','204NQWGCP','kUXtL','BROWSERSTACK_BUILD_RUN_IDENTIFIER','passed','length','iTFEj','_Local]\x20Error\x20in\x20onTestDone\x20during\x20state\x20update:\x20','cleanup','55649SYjael','writeFileSync','sqdNs','_CI]\x20Error\x20sending\x20failed\x20test\x20','_fetchAPIFailedCount','rgXRc','FPxFR','totalTests','uniqueFailedTests',']\x20No\x20valid\x20failureThresholdCount\x20configured.\x20Not\x20failing\x20fast.','8sEyOYg','error','join','_CI]\x20Fetched\x20failed\x20tests\x20count\x20from\x20API:\x20','readState','lastAPIFailedCount','fileHelper','stopPolling','./fileHelper','from',',\x20threshold:\x20','KknxF','2SANCek','16684lqEWvK','JyCja','_Local]\x20Error\x20during\x20onTestDone\x20state\x20recovery:\x20','APSby','2411649YqTigl','message','toISOString','recordTestResult','hVMCp','_CI]\x20API\x20failed\x20count\x20updated:\x20','HBfhk'];a122_0x44a1=function(){return _0x1198cd;};return a122_0x44a1();}(function(_0x5f0c2f,_0x262fae){const _0x375443=a122_0x445c,_0x4a2d66=_0x5f0c2f();while(!![]){try{const _0xf277da=-parseInt(_0x375443(0x1b5))/0x1+parseInt(_0x375443(0x165))/0x2*(parseInt(_0x375443(0x1b0))/0x3)+parseInt(_0x375443(0x166))/0x4*(-parseInt(_0x375443(0x1c8))/0x5)+-parseInt(_0x375443(0x18d))/0x6*(parseInt(_0x375443(0x17e))/0x7)+-parseInt(_0x375443(0x159))/0x8*(-parseInt(_0x375443(0x16a))/0x9)+parseInt(_0x375443(0x183))/0xa+parseInt(_0x375443(0x1d9))/0xb*(-parseInt(_0x375443(0x1d1))/0xc);if(_0xf277da===_0x262fae)break;else _0x4a2d66['push'](_0x4a2d66['shift']());}catch(_0x1e9d7b){_0x4a2d66['push'](_0x4a2d66['shift']());}}}(a122_0x44a1,0x3a3f1));const fs=require('fs'),path=require('path'),FileHelper=require(a122_0xccf01(0x161)),RequestUtils=require('./requestUtils'),logger=require('../logger')['winstonLogger'],POLLING_INTERVAL=0x2710,TAG=a122_0xccf01(0x1b4);class FailFastManager{constructor(_0x50451e,_0x511ea4,_0x28823d){const _0x490edc=a122_0xccf01,_0x4e12ad={};_0x4e12ad[_0x490edc(0x17b)]=function(_0x12ca62,_0x19b00b){return _0x12ca62+_0x19b00b;},_0x4e12ad[_0x490edc(0x1c5)]=_0x490edc(0x17c),_0x4e12ad[_0x490edc(0x1db)]=function(_0x1628e3,_0x2ca6f3){return _0x1628e3||_0x2ca6f3;},_0x4e12ad[_0x490edc(0x1b1)]=_0x490edc(0x1a2),_0x4e12ad[_0x490edc(0x180)]=_0x490edc(0x1ba),_0x4e12ad[_0x490edc(0x16e)]=_0x490edc(0x173);const _0x2cf578=_0x4e12ad;this[_0x490edc(0x1c4)]=_0x2cf578[_0x490edc(0x1db)](_0x50451e,{}),this[_0x490edc(0x195)]=_0x511ea4,this['projectName']=_0x28823d,this[_0x490edc(0x1c1)]=!!(process[_0x490edc(0x193)][_0x490edc(0x1d3)]&&process['env'][_0x490edc(0x174)]&&process[_0x490edc(0x193)]['BROWSERSTACK_TOTAL_NODE_COUNT']);const _0x1cfd18=this[_0x490edc(0x1c4)][_0x490edc(0x1d0)];this[_0x490edc(0x1c7)]=path[_0x490edc(0x15b)](_0x1cfd18,_0x2cf578[_0x490edc(0x1b1)]),this[_0x490edc(0x181)]=path['join'](_0x1cfd18,_0x2cf578[_0x490edc(0x180)]),this['failFastActiveMarkerPath']=path[_0x490edc(0x15b)](_0x1cfd18,_0x2cf578[_0x490edc(0x16e)]),this[_0x490edc(0x15f)]=new FileHelper(this[_0x490edc(0x1c4)],this[_0x490edc(0x1c7)],this[_0x490edc(0x181)],this[_0x490edc(0x1a3)]()),this[_0x490edc(0x1aa)]=this[_0x490edc(0x1a3)](),this['pollingInterval']=null,this[_0x490edc(0x1c1)]&&(this[_0x490edc(0x1a5)]=new Set()),this[_0x490edc(0x182)]()[_0x490edc(0x1af)](_0x42c793=>{const _0x8d9ca0=_0x490edc;logger[_0x8d9ca0(0x15a)]('['+TAG+_0x8d9ca0(0x19e)+_0x42c793[_0x8d9ca0(0x16b)]+(_0x42c793[_0x8d9ca0(0x18a)]?_0x2cf578[_0x8d9ca0(0x17b)](_0x2cf578[_0x8d9ca0(0x1c5)],_0x42c793[_0x8d9ca0(0x18a)]):'')),this[_0x8d9ca0(0x1aa)]=this[_0x8d9ca0(0x1a3)]();}),this[_0x490edc(0x1c1)]&&this[_0x490edc(0x1b6)](),logger[_0x490edc(0x18f)]('['+TAG+']\x20Initialized\x20abortBuildOnFailure\x20with\x20threshold:\x20'+this['failFastConfig'][_0x490edc(0x178)]+',\x20CI\x20Mode:\x20'+this[_0x490edc(0x1c1)]);}['_getDefaultState'](){const _0x588a89={'totalTests':0x0,'failedTests':0x0,'uniqueFailedTests':new Set(),'lastAPIFailedCount':0x0,'failFastActive':![]};return _0x588a89;}async[a122_0xccf01(0x182)](){const _0x512993=a122_0xccf01,_0x39da82={};_0x39da82[_0x512993(0x1bd)]=function(_0x1b2c2a,_0x372907){return _0x1b2c2a+_0x372907;},_0x39da82[_0x512993(0x170)]=_0x512993(0x17c);const _0x4856d1=_0x39da82;if(this[_0x512993(0x1c1)])try{fs[_0x512993(0x192)](this['failFastActiveMarkerPath'])&&(this[_0x512993(0x1aa)][_0x512993(0x18c)]=!![],logger[_0x512993(0x18f)]('['+TAG+'_CI]\x20Fail-fast\x20marker\x20file\x20found,\x20initializing\x20as\x20active.'));}catch(_0x31e195){logger[_0x512993(0x15a)]('['+TAG+_0x512993(0x1c2)+_0x31e195[_0x512993(0x16b)]+(_0x31e195[_0x512993(0x18a)]?_0x4856d1[_0x512993(0x1bd)](_0x4856d1['HBfhk'],_0x31e195['stack']):''));}else try{const _0x51a6d7=await this['fileHelper'][_0x512993(0x15d)]();if(_0x51a6d7)this[_0x512993(0x1aa)]={...this[_0x512993(0x1a3)](),..._0x51a6d7,'uniqueFailedTests':new Set(_0x51a6d7[_0x512993(0x157)]||[])},logger[_0x512993(0x18f)]('['+TAG+_0x512993(0x188));else{logger[_0x512993(0x18f)]('['+TAG+_0x512993(0x177));const _0x20e3bd=this[_0x512993(0x1a3)](),_0x45d7b9={..._0x20e3bd,'uniqueFailedTests':Array[_0x512993(0x162)](_0x20e3bd[_0x512993(0x157)])};await this[_0x512993(0x15f)][_0x512993(0x175)](_0x45d7b9),this[_0x512993(0x1aa)]=_0x20e3bd;}}catch(_0x1ed69c){logger[_0x512993(0x18f)]('['+TAG+_0x512993(0x1b2)+_0x1ed69c[_0x512993(0x16b)]+(_0x1ed69c[_0x512993(0x18a)]?_0x4856d1[_0x512993(0x1bd)](_0x4856d1[_0x512993(0x170)],_0x1ed69c[_0x512993(0x18a)]):'')),this[_0x512993(0x1aa)]=this[_0x512993(0x1a3)]();}}async[a122_0xccf01(0x19f)](_0x3fb288,_0x3075b0){const _0xfdc852=a122_0xccf01,_0x48f62e={};_0x48f62e[_0xfdc852(0x17f)]=function(_0x233e7b,_0x574cbd){return _0x233e7b>_0x574cbd;},_0x48f62e['KknxF']=function(_0x590d05,_0x7e74b4){return _0x590d05>_0x7e74b4;},_0x48f62e[_0xfdc852(0x185)]=_0xfdc852(0x1c3),_0x48f62e[_0xfdc852(0x1b9)]=_0xfdc852(0x1d4),_0x48f62e[_0xfdc852(0x199)]=function(_0x306365,_0x26a35f){return _0x306365+_0x26a35f;},_0x48f62e['qQcQy']='\x0aStack:\x20',_0x48f62e['YmUrG']=function(_0x1d3997,_0xaef60a){return _0x1d3997||_0xaef60a;},_0x48f62e[_0xfdc852(0x155)]=function(_0x3ef4c0,_0x6f6771){return _0x3ef4c0+_0x6f6771;};const _0x54fe80=_0x48f62e;if(this['isCIMode'])this[_0xfdc852(0x1aa)][_0xfdc852(0x156)]+=0x1,_0x3075b0&&_0x54fe80[_0xfdc852(0x17f)](_0x3075b0[_0xfdc852(0x1d5)],0x0)&&(!this[_0xfdc852(0x1a5)]['has'](_0x3fb288)&&(await this[_0xfdc852(0x1a1)](_0x3fb288),this[_0xfdc852(0x1a5)][_0xfdc852(0x197)](_0x3fb288)));else try{const _0x2e6160={'fullName':_0x3fb288,'status':_0x3075b0&&_0x54fe80[_0xfdc852(0x164)](_0x3075b0[_0xfdc852(0x1d5)],0x0)?_0x54fe80[_0xfdc852(0x185)]:_0x54fe80[_0xfdc852(0x1b9)]},_0x36bae7=await this[_0xfdc852(0x15f)][_0xfdc852(0x16d)](_0x2e6160);this[_0xfdc852(0x1aa)]={...this[_0xfdc852(0x1a3)](),..._0x36bae7[_0xfdc852(0x190)],'uniqueFailedTests':new Set(_0x36bae7[_0xfdc852(0x190)]['uniqueFailedTests']||[])};}catch(_0x3a1612){logger[_0xfdc852(0x15a)]('['+TAG+_0xfdc852(0x1d7)+_0x3a1612['message']+(_0x3a1612['stack']?_0x54fe80[_0xfdc852(0x199)](_0x54fe80[_0xfdc852(0x18b)],_0x3a1612[_0xfdc852(0x18a)]):''));try{const _0x36a0e3=await this[_0xfdc852(0x15f)][_0xfdc852(0x15d)]();this[_0xfdc852(0x1aa)]={...this[_0xfdc852(0x1a3)](),..._0x54fe80[_0xfdc852(0x19a)](_0x36a0e3,{}),'uniqueFailedTests':new Set(_0x36a0e3?_0x36a0e3[_0xfdc852(0x157)]||[]:[])},logger[_0xfdc852(0x18f)]('['+TAG+_0xfdc852(0x1ae));}catch(_0x2a4f12){logger[_0xfdc852(0x15a)]('['+TAG+_0xfdc852(0x168)+_0x2a4f12[_0xfdc852(0x16b)]+(_0x2a4f12[_0xfdc852(0x18a)]?_0x54fe80[_0xfdc852(0x155)](_0x54fe80[_0xfdc852(0x18b)],_0x2a4f12[_0xfdc852(0x18a)]):'')),this[_0xfdc852(0x1aa)]=this[_0xfdc852(0x1a3)]();}}}async[a122_0xccf01(0x1a1)](_0xd3500d){const _0x5076a9=a122_0xccf01,_0x1d60b7={};_0x1d60b7[_0x5076a9(0x1ad)]=function(_0x5e31e3,_0x51fe3e){return _0x5e31e3+_0x51fe3e;},_0x1d60b7[_0x5076a9(0x191)]='\x0aStack:\x20';const _0x475b0d=_0x1d60b7;if(!this[_0x5076a9(0x1c1)]||!_0xd3500d)return;try{logger[_0x5076a9(0x18f)]('['+TAG+_0x5076a9(0x179)+_0xd3500d);const _0x45cc55={};_0x45cc55['buildName']=this['buildName'],_0x45cc55[_0x5076a9(0x17a)]=this[_0x5076a9(0x17a)],_0x45cc55[_0x5076a9(0x1bb)]=[_0xd3500d],_0x45cc55[_0x5076a9(0x1cb)]=process[_0x5076a9(0x193)][_0x5076a9(0x1d3)],await RequestUtils[_0x5076a9(0x1a7)](_0x45cc55);}catch(_0x11a1f2){logger['error']('['+TAG+_0x5076a9(0x1dc)+_0xd3500d+_0x5076a9(0x1be)+_0x11a1f2['message']+(_0x11a1f2['stack']?_0x475b0d['qSjoM'](_0x475b0d[_0x5076a9(0x191)],_0x11a1f2[_0x5076a9(0x18a)]):''));}}async[a122_0xccf01(0x153)](){const _0x5e2e9a=a122_0xccf01,_0x333136={};_0x333136[_0x5e2e9a(0x1a4)]=function(_0x4a4e30,_0x901d5b){return _0x4a4e30===_0x901d5b;},_0x333136['yPkiU']=_0x5e2e9a(0x1b3),_0x333136[_0x5e2e9a(0x1a6)]=function(_0x5b74f1,_0x35e47e){return _0x5b74f1+_0x35e47e;},_0x333136[_0x5e2e9a(0x1c0)]='\x0aStack:\x20',_0x333136[_0x5e2e9a(0x194)]=function(_0x2ef3c3,_0x145436){return _0x2ef3c3!==_0x145436;};const _0x106ed1=_0x333136;if(!this[_0x5e2e9a(0x1c1)])return 0x0;try{const _0x549b7d={};_0x549b7d[_0x5e2e9a(0x195)]=this[_0x5e2e9a(0x195)],_0x549b7d[_0x5e2e9a(0x17a)]=this[_0x5e2e9a(0x17a)],_0x549b7d[_0x5e2e9a(0x1cb)]=process[_0x5e2e9a(0x193)]['BROWSERSTACK_BUILD_RUN_IDENTIFIER'];const _0x2f7f30=await RequestUtils['getFailedTestsCount'](_0x549b7d);return logger[_0x5e2e9a(0x18f)]('['+TAG+_0x5e2e9a(0x15c)+_0x2f7f30),_0x106ed1[_0x5e2e9a(0x1a4)](typeof _0x2f7f30,_0x106ed1[_0x5e2e9a(0x19c)])?_0x2f7f30:0x0;}catch(_0x5cc24b){return logger['error']('['+TAG+_0x5e2e9a(0x1cd)+_0x5cc24b[_0x5e2e9a(0x16b)]+(_0x5cc24b[_0x5e2e9a(0x18a)]?_0x106ed1[_0x5e2e9a(0x1a6)](_0x106ed1['fFnIY'],_0x5cc24b[_0x5e2e9a(0x18a)]):'')),_0x106ed1[_0x5e2e9a(0x194)](this[_0x5e2e9a(0x1aa)][_0x5e2e9a(0x15e)],undefined)?this['state']['lastAPIFailedCount']:0x0;}}async[a122_0xccf01(0x1c6)](){const _0x231c9b=a122_0xccf01,_0x5ba52c={};_0x5ba52c[_0x231c9b(0x169)]=function(_0x2327db,_0x3f5de0){return _0x2327db!==_0x3f5de0;},_0x5ba52c[_0x231c9b(0x186)]=function(_0x35b4d6,_0x4dde7e){return _0x35b4d6+_0x4dde7e;},_0x5ba52c[_0x231c9b(0x1a9)]=_0x231c9b(0x17c);const _0x1e21eb=_0x5ba52c;if(!this[_0x231c9b(0x1c1)])return;try{const _0x147a63=await this[_0x231c9b(0x153)]();_0x1e21eb['APSby'](_0x147a63,this[_0x231c9b(0x1aa)][_0x231c9b(0x15e)])&&(logger[_0x231c9b(0x18f)]('['+TAG+_0x231c9b(0x16f)+_0x147a63+_0x231c9b(0x1ce)+this[_0x231c9b(0x1aa)][_0x231c9b(0x15e)]+')'),this['state'][_0x231c9b(0x15e)]=_0x147a63);}catch(_0x4fea1d){logger[_0x231c9b(0x15a)]('['+TAG+_0x231c9b(0x196)+_0x4fea1d[_0x231c9b(0x16b)]+(_0x4fea1d[_0x231c9b(0x18a)]?_0x1e21eb[_0x231c9b(0x186)](_0x1e21eb[_0x231c9b(0x1a9)],_0x4fea1d[_0x231c9b(0x18a)]):''));}}async[a122_0xccf01(0x1b6)](){const _0x142fe5=a122_0xccf01,_0x99b32e={'vCOUc':function(_0x3f2b45,_0x1ce65a,_0x56f150){return _0x3f2b45(_0x1ce65a,_0x56f150);}};this[_0x142fe5(0x1ca)]&&this[_0x142fe5(0x160)](),this[_0x142fe5(0x1c1)]&&(await this[_0x142fe5(0x1c6)](),this['pollingInterval']=_0x99b32e['vCOUc'](setInterval,async()=>{const _0x22f439=_0x142fe5;await this[_0x22f439(0x1c6)]();},POLLING_INTERVAL),logger[_0x142fe5(0x18f)]('['+TAG+_0x142fe5(0x198)+POLLING_INTERVAL+'ms.'));}[a122_0xccf01(0x160)](){const _0x41b830=a122_0xccf01,_0x3c7564={'PSWsq':function(_0x3736de,_0x35c1e0){return _0x3736de(_0x35c1e0);}};this[_0x41b830(0x1ca)]&&(_0x3c7564[_0x41b830(0x1ac)](clearInterval,this[_0x41b830(0x1ca)]),this[_0x41b830(0x1ca)]=null,logger[_0x41b830(0x18f)]('['+TAG+_0x41b830(0x172)));}async['shouldFailFast'](){const _0x27ba9e=a122_0xccf01,_0x262804={};_0x262804[_0x27ba9e(0x1a8)]=function(_0x2f442d,_0x11e940){return _0x2f442d===_0x11e940;},_0x262804['rCRSj']=function(_0x1bf3e6,_0x26f4da){return _0x1bf3e6<=_0x26f4da;},_0x262804[_0x27ba9e(0x1d6)]=function(_0x4da6c3,_0x168ebe){return _0x4da6c3+_0x168ebe;},_0x262804['kUXtL']=_0x27ba9e(0x17c),_0x262804[_0x27ba9e(0x176)]=function(_0xd27798,_0x3c486e){return _0xd27798!==_0x3c486e;},_0x262804[_0x27ba9e(0x19d)]=function(_0x81b88,_0x1ec561){return _0x81b88>=_0x1ec561;},_0x262804[_0x27ba9e(0x154)]=function(_0x1da09a,_0x9a3e0){return _0x1da09a+_0x9a3e0;},_0x262804[_0x27ba9e(0x1b8)]=function(_0x17fcca,_0x38281f){return _0x17fcca+_0x38281f;},_0x262804['VCJWG']=function(_0x72a5cd,_0x1c0033){return _0x72a5cd>=_0x1c0033;},_0x262804['JyCja']=function(_0x71d2fe,_0x2f2871){return _0x71d2fe+_0x2f2871;};const _0x5f0dd7=_0x262804,{failureThresholdCount:_0x512d2e}=this[_0x27ba9e(0x1c4)];if(_0x5f0dd7['OjVHS'](_0x512d2e,null)||_0x5f0dd7[_0x27ba9e(0x1a8)](_0x512d2e,undefined)||_0x5f0dd7[_0x27ba9e(0x17d)](_0x512d2e,0x0))return logger[_0x27ba9e(0x18f)]('['+TAG+_0x27ba9e(0x158)),![];if(this['isCIMode']){try{if(fs[_0x27ba9e(0x192)](this['failFastActiveMarkerPath']))return logger[_0x27ba9e(0x18f)]('['+TAG+_0x27ba9e(0x184)),!this[_0x27ba9e(0x1aa)][_0x27ba9e(0x18c)]&&(this[_0x27ba9e(0x1aa)][_0x27ba9e(0x18c)]=!![]),this[_0x27ba9e(0x160)](),!![];}catch(_0x4b4a52){logger['error']('['+TAG+_0x27ba9e(0x1c2)+_0x4b4a52[_0x27ba9e(0x16b)]+(_0x4b4a52['stack']?_0x5f0dd7[_0x27ba9e(0x1d6)](_0x5f0dd7['kUXtL'],_0x4b4a52[_0x27ba9e(0x18a)]):''));}const _0x3da873=_0x5f0dd7[_0x27ba9e(0x176)](this[_0x27ba9e(0x1aa)]['lastAPIFailedCount'],undefined)?this[_0x27ba9e(0x1aa)][_0x27ba9e(0x15e)]:0x0;if(_0x5f0dd7['sBHYt'](_0x3da873,_0x512d2e)){logger['info']('['+TAG+_0x27ba9e(0x1b7)+_0x3da873+',\x20threshold:\x20'+_0x512d2e+'.');try{fs[_0x27ba9e(0x1da)](this[_0x27ba9e(0x1c9)],new Date()[_0x27ba9e(0x16c)]()),logger[_0x27ba9e(0x18f)]('['+TAG+'_CI]\x20Created\x20fail-fast\x20marker\x20file:\x20'+this[_0x27ba9e(0x1c9)]),this['state']['failFastActive']=!![];}catch(_0x57f68b){logger[_0x27ba9e(0x15a)]('['+TAG+'_CI]\x20Error\x20creating\x20fail-fast\x20marker\x20file:\x20'+_0x57f68b[_0x27ba9e(0x16b)]+(_0x57f68b[_0x27ba9e(0x18a)]?_0x5f0dd7[_0x27ba9e(0x154)](_0x5f0dd7[_0x27ba9e(0x1d2)],_0x57f68b[_0x27ba9e(0x18a)]):''));}return this[_0x27ba9e(0x160)](),!![];}}else{let _0x418baf;try{_0x418baf=await this[_0x27ba9e(0x15f)]['readState']();if(!_0x418baf)return logger[_0x27ba9e(0x189)]('['+TAG+'_Local]\x20State\x20file\x20not\x20found\x20in\x20shouldFailFast.\x20Not\x20failing\x20fast.'),![];}catch(_0x37c6ab){return logger[_0x27ba9e(0x15a)]('['+TAG+_0x27ba9e(0x187)+_0x37c6ab[_0x27ba9e(0x16b)]+(_0x37c6ab[_0x27ba9e(0x18a)]?_0x5f0dd7['bUmVc'](_0x5f0dd7[_0x27ba9e(0x1d2)],_0x37c6ab['stack']):'')),![];}this[_0x27ba9e(0x1aa)]={...this[_0x27ba9e(0x1a3)](),..._0x418baf,'uniqueFailedTests':new Set(_0x418baf['uniqueFailedTests']||[])};if(this['state']['failFastActive'])return logger[_0x27ba9e(0x18f)]('['+TAG+_0x27ba9e(0x1cf)),!![];const _0x3d8322=this[_0x27ba9e(0x1aa)][_0x27ba9e(0x157)],_0x21dc3d=_0x3d8322['size'];if(_0x5f0dd7[_0x27ba9e(0x1ab)](_0x21dc3d,_0x512d2e)){try{logger['info']('['+TAG+_0x27ba9e(0x18e)+_0x21dc3d+_0x27ba9e(0x163)+_0x512d2e+'.'),this['state']['failFastActive']=!![];}catch(_0x1a01cb){logger[_0x27ba9e(0x15a)]('['+TAG+'_Local]\x20Error\x20setting\x20failFastActive\x20to\x20true\x20in\x20state\x20file:\x20'+_0x1a01cb['message']+(_0x1a01cb[_0x27ba9e(0x18a)]?_0x5f0dd7[_0x27ba9e(0x167)](_0x5f0dd7[_0x27ba9e(0x1d2)],_0x1a01cb[_0x27ba9e(0x18a)]):''));}return!![];}}return![];}async[a122_0xccf01(0x1d8)](){const _0x293e76=a122_0xccf01,_0x1030a8={};_0x1030a8[_0x293e76(0x1bf)]=function(_0x40f761,_0x3c9d04){return _0x40f761+_0x3c9d04;},_0x1030a8[_0x293e76(0x171)]='\x0aStack:\x20';const _0x350977=_0x1030a8;this['stopPolling']();if(this[_0x293e76(0x1c1)])logger['debug']('['+TAG+_0x293e76(0x1cc));else try{const _0x26c7b8={...this[_0x293e76(0x1aa)],'uniqueFailedTests':Array[_0x293e76(0x162)](this['state']['uniqueFailedTests']||new Set())};await this['fileHelper'][_0x293e76(0x175)](_0x26c7b8),logger[_0x293e76(0x18f)]('['+TAG+_0x293e76(0x19b));}catch(_0x3bd833){logger[_0x293e76(0x15a)]('['+TAG+_0x293e76(0x1bc)+_0x3bd833[_0x293e76(0x16b)]+(_0x3bd833['stack']?_0x350977[_0x293e76(0x1bf)](_0x350977[_0x293e76(0x171)],_0x3bd833[_0x293e76(0x18a)]):''));}}}module[a122_0xccf01(0x1a0)]=FailFastManager;