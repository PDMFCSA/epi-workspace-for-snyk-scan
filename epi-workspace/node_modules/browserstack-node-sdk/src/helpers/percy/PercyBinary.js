function a72_0x489b(_0x4b8f79,_0x146ae0){const _0x533287=a72_0x5332();return a72_0x489b=function(_0x489be7,_0x2ea76a){_0x489be7=_0x489be7-0xd0;let _0x356253=_0x533287[_0x489be7];return _0x356253;},a72_0x489b(_0x4b8f79,_0x146ae0);}function a72_0x5332(){const _0x1501f7=['R_OK','56xuUMdr','data','readEntry','PRtJy','join','VgrBM','proxyHost','Corrupt\x20percy\x20binary,\x20retrying','lyYmg','.zip','open','homedir','DqRFh','createWriteStream','agent','prqMr','SIAzy','fnnKE','XweCe','HOME','aAWmC','SBsYy','avcIH','qDDBP','function','match','percy','UELfG','W_OK','USER','USERPROFILE','1217886REsdwh','dsFYr','Got\x20Error\x20while\x20downloading\x20percy\x20binary\x20file','wYpNR','rColm','KSNhi','/percy-linux.zip','chmod','IKRut','.browserstack','error','proxyPort','port','pcgWU','HxNsH','MiKLd','statSync','gflkG','Nmbuc','HfrjI','gwpzg','fileName','wBlgV','sDGjD','USERNAME','oSpsx','aeYkC','1857110pzzgKu','HOMEDRIVE','https-proxy-agent','darwin','follow-redirects','uXfmz','WNsZN','platform','CEIkw','LgUwy','bRNlb','/home/','BiYvn','ZYGsi','xxcjn','cwd','171246bWzvVE','--version','Talub','FcooN','mkdirSync','length','https://github.com/percy/cli/releases/latest/download','jnitg','6705272CgqpRy','HOMEPATH','pipe','JnmqW','validateBinary','uiQrp','/percy-osx.zip','mulQz','download','readFileSync','SbQFC','getBinaryPath','undefined','PPuEm','X_OK','close','qvNbq','LNAME','path','linux','fcaYk','gBplg','SVNQC','kKjBp','Error\x20trying\x20to\x20download\x20percy\x20binary','GNaAn','exports','accessSync','/Users/','env','tSiea','getuid','test','Got\x20Error\x20in\x20percy\x20binary\x20download\x20response','openReadStream','yauzl','../logger','SHQIl','2835594ilNJjy','160170tyJlSp','dSoUN','72dxDPol','child_process','useCaCertificate','KOaAo','Got\x20Error\x20in\x20percy\x20binary\x20downloading\x20request','lazyEntries','aCgMs','WpIch','999708fzmMiY','NVpDb','end','SsJhG','KAkvC','NuNuo','parse','/percy-win.zip','Whxsi'];a72_0x5332=function(){return _0x1501f7;};return a72_0x5332();}const a72_0xc5bbe2=a72_0x489b;(function(_0x1f14cd,_0x21d673){const _0x4c3561=a72_0x489b,_0x4ddd11=_0x1f14cd();while(!![]){try{const _0x2a7284=-parseInt(_0x4c3561(0x15a))/0x1+-parseInt(_0x4c3561(0x100))/0x2+-parseInt(_0x4c3561(0x12b))/0x3*(parseInt(_0x4c3561(0xe1))/0x4)+parseInt(_0x4c3561(0x11b))/0x5+-parseInt(_0x4c3561(0xd7))/0x6+-parseInt(_0x4c3561(0x133))/0x7+-parseInt(_0x4c3561(0x15c))/0x8*(-parseInt(_0x4c3561(0x159))/0x9);if(_0x2a7284===_0x21d673)break;else _0x4ddd11['push'](_0x4ddd11['shift']());}catch(_0xd29d0b){_0x4ddd11['push'](_0x4ddd11['shift']());}}}(a72_0x5332,0x7d8c1));const {https}=require(a72_0xc5bbe2(0x11f)),url=require('url'),yauzl=require(a72_0xc5bbe2(0x156)),fs=require('fs'),path=require(a72_0xc5bbe2(0x145)),os=require('os'),{spawn}=require(a72_0xc5bbe2(0xd0)),HttpsProxyAgent=require(a72_0xc5bbe2(0x11d)),logger=require(a72_0xc5bbe2(0x157))['winstonLogger'];class PercyBinary{#hostOS=process['platform'];#httpPath=null;#binaryName=a72_0xc5bbe2(0xfb);#orderedPaths=[path[a72_0xc5bbe2(0xe5)](this.#homedir(),a72_0xc5bbe2(0x109)),process[a72_0xc5bbe2(0x12a)](),os['tmpdir']()];constructor(){const _0x35dac8=a72_0xc5bbe2,_0x27696c={};_0x27696c[_0x35dac8(0xfc)]=_0x35dac8(0x131),_0x27696c['MiKLd']=function(_0x5cd7ce,_0x2fd36c){return _0x5cd7ce+_0x2fd36c;},_0x27696c[_0x35dac8(0xf5)]=_0x35dac8(0x139),_0x27696c['SVNQC']=function(_0x4140bf,_0x51961a){return _0x4140bf+_0x51961a;},_0x27696c[_0x35dac8(0xdc)]=_0x35dac8(0xde),_0x27696c['wBlgV']='percy.exe',_0x27696c[_0x35dac8(0x121)]=_0x35dac8(0x106);const _0x130b35=_0x27696c,_0x4bcb97=_0x130b35[_0x35dac8(0xfc)];if(this.#hostOS[_0x35dac8(0xfa)](/darwin|mac os/i))this.#httpPath=_0x130b35[_0x35dac8(0x10f)](_0x4bcb97,_0x130b35[_0x35dac8(0xf5)]);else this.#hostOS[_0x35dac8(0xfa)](/mswin|msys|mingw|cygwin|bccwin|wince|emc|win32/i)?(this.#httpPath=_0x130b35['SVNQC'](_0x4bcb97,_0x130b35[_0x35dac8(0xdc)]),this.#binaryName=_0x130b35[_0x35dac8(0x116)]):this.#httpPath=_0x130b35[_0x35dac8(0x149)](_0x4bcb97,_0x130b35['WNsZN']);}#getAvailableDirs(){const _0x316eb7=a72_0xc5bbe2,_0x30e3d4={};_0x30e3d4[_0x316eb7(0x124)]=function(_0x30b09b,_0x38b5e8){return _0x30b09b<_0x38b5e8;},_0x30e3d4['gshNu']=_0x316eb7(0x14b);const _0x30938d=_0x30e3d4;for(var _0x439a0a=0x0;_0x30938d[_0x316eb7(0x124)](_0x439a0a,this.#orderedPaths[_0x316eb7(0x130)]);_0x439a0a++){var _0x380d99=this.#orderedPaths[_0x439a0a];if(this.#makePath(_0x380d99))return _0x380d99;}throw new Error(_0x30938d['gshNu']);}#makePath(_0x461b35){const _0x2935b7=a72_0xc5bbe2;try{return!this.#checkPath(_0x461b35)&&fs[_0x2935b7(0x12f)](_0x461b35),!![];}catch{return![];}}#checkPath(_0x33ffb9,_0x3ae815){const _0x551abc=a72_0xc5bbe2,_0x353392={};_0x353392[_0x551abc(0x10d)]=function(_0x54ec4,_0x2451b3){return _0x54ec4|_0x2451b3;},_0x353392[_0x551abc(0xd5)]=function(_0x491317,_0x489d1e){return _0x491317!==_0x489d1e;},_0x353392['SbQFC']=_0x551abc(0x13f);const _0x390248=_0x353392;_0x3ae815=_0x3ae815||_0x390248['pcgWU'](fs[_0x551abc(0xe0)],fs[_0x551abc(0xfd)]);try{return fs[_0x551abc(0x14e)](_0x33ffb9,_0x3ae815),!![];}catch(_0x38330b){if(_0x390248[_0x551abc(0xd5)](typeof fs[_0x551abc(0x14e)],_0x390248[_0x551abc(0x13d)]))return![];try{return fs[_0x551abc(0x110)](_0x33ffb9),!![];}catch(_0xaeeb51){return![];}}}async[a72_0xc5bbe2(0x13e)](_0x543cc2){const _0x1a95e7=a72_0xc5bbe2,_0x5f2dce={};_0x5f2dce[_0x1a95e7(0x15b)]=_0x1a95e7(0xe8);const _0x12e408=_0x5f2dce;var _0xca7eff=this.#getAvailableDirs(),_0x2c0e7f=path[_0x1a95e7(0xe5)](_0xca7eff,this.#binaryName);if(this.#checkPath(_0x2c0e7f,fs[_0x1a95e7(0x141)]))return _0x2c0e7f;const _0x342c20=await this[_0x1a95e7(0x13b)](_0x543cc2,_0xca7eff),_0x225810=await this['validateBinary'](_0x342c20);if(!_0x225810)return logger[_0x1a95e7(0x10a)](_0x12e408['dSoUN']),await this['download'](_0x543cc2,_0xca7eff);return _0x342c20;}async[a72_0xc5bbe2(0x137)](_0x2f2ede){const _0x382bec=a72_0xc5bbe2,_0x4190de={'Talub':function(_0x241ad6,_0x8fdd0f){return _0x241ad6(_0x8fdd0f);},'Htbww':function(_0x5ebcad,_0x3e7e8c){return _0x5ebcad(_0x3e7e8c);},'IKRut':function(_0x2f9c98,_0x652081,_0x1f3809){return _0x2f9c98(_0x652081,_0x1f3809);},'kKjBp':_0x382bec(0x12c),'NVpDb':_0x382bec(0xe2),'Whxsi':_0x382bec(0x142)},_0x5796cb=/^.*@percy\/cli \d.\d+.\d+/;return new Promise((_0x854b47,_0x3a4008)=>{const _0x1e78f2=_0x382bec,_0x5b278a={'KDWWU':function(_0x63b0f3,_0x1c6af4){return _0x4190de['Htbww'](_0x63b0f3,_0x1c6af4);}},_0x1d8fa7=_0x4190de[_0x1e78f2(0x108)](spawn,_0x2f2ede,[_0x4190de[_0x1e78f2(0x14a)]]);_0x1d8fa7['stdout']['on'](_0x4190de[_0x1e78f2(0xd8)],_0x3dc300=>{const _0x2f4046=_0x1e78f2;_0x5796cb[_0x2f4046(0x153)](_0x3dc300)&&_0x5b278a['KDWWU'](_0x854b47,!![]);}),_0x1d8fa7['on'](_0x4190de[_0x1e78f2(0xdf)],()=>{const _0x49742c=_0x1e78f2;_0x4190de[_0x49742c(0x12d)](_0x854b47,![]);});});}[a72_0xc5bbe2(0x13b)](_0x42444d,_0x5d6bc8){const _0x261ddb=a72_0xc5bbe2,_0x2a5a3a={'akUzz':_0x261ddb(0x154),'ADALr':function(_0xe99f8c,_0x37be8e){return _0xe99f8c(_0x37be8e);},'GNaAn':_0x261ddb(0x102),'lyYmg':_0x261ddb(0x10a),'fcaYk':_0x261ddb(0x142),'qDDBP':function(_0x3b3c7f,_0x8384ee){return _0x3b3c7f(_0x8384ee);},'qvNbq':_0x261ddb(0xd9),'SBsYy':function(_0x3f8193,_0x13c5cc){return _0x3f8193===_0x13c5cc;},'FjoLL':function(_0x4c93a0,_0x365ce1){return _0x4c93a0(_0x365ce1);},'JnmqW':'0755','WpIch':'entry','IkqSf':_0x261ddb(0xd3),'PPuEm':function(_0x12e088,_0x498709){return _0x12e088(_0x498709);},'Nmbuc':function(_0x495eb1,_0x2bc50f){return _0x495eb1+_0x2bc50f;},'ZYGsi':_0x261ddb(0xea),'nlNut':'Percy\x20download\x20failed\x20to\x20read\x20cert\x20file'};!this.#checkPath(_0x5d6bc8)&&fs[_0x261ddb(0x12f)](_0x5d6bc8);const _0x4ad638=this.#binaryName,_0x5dbab0=path[_0x261ddb(0xe5)](_0x5d6bc8,_0x2a5a3a[_0x261ddb(0x112)](_0x4ad638,_0x2a5a3a[_0x261ddb(0x128)])),_0x3489e0=path[_0x261ddb(0xe5)](_0x5d6bc8,_0x4ad638),_0x4da92c=fs[_0x261ddb(0xee)](_0x5dbab0),_0x83ab27=url[_0x261ddb(0xdd)](this.#httpPath);if(_0x42444d['proxyHost']&&_0x42444d['proxyPort']){const _0x36daa9={};_0x36daa9['host']=_0x42444d[_0x261ddb(0xe7)],_0x36daa9[_0x261ddb(0x10c)]=_0x42444d[_0x261ddb(0x10b)],_0x83ab27[_0x261ddb(0xef)]=new HttpsProxyAgent(_0x36daa9);}if(_0x42444d[_0x261ddb(0xd1)])try{_0x83ab27['ca']=fs[_0x261ddb(0x13c)](_0x42444d[_0x261ddb(0xd1)]);}catch(_0x99cf9e){logger['error'](_0x2a5a3a['nlNut'],_0x99cf9e);}return new Promise((_0x2ba770,_0x330001)=>{const _0x41b59d=_0x261ddb,_0x45c17b={'XweCe':function(_0x5df3c0,_0x218992){const _0x1acbbb=a72_0x489b;return _0x2a5a3a[_0x1acbbb(0xf8)](_0x5df3c0,_0x218992);},'PRtJy':_0x2a5a3a[_0x41b59d(0x143)],'lyeFV':function(_0x5c886c,_0x57b93e){const _0x3d71d4=_0x41b59d;return _0x2a5a3a[_0x3d71d4(0xf6)](_0x5c886c,_0x57b93e);},'KSNhi':function(_0x2a1ff6,_0x42e610){return _0x2a5a3a['FjoLL'](_0x2a1ff6,_0x42e610);},'gBplg':_0x2a5a3a[_0x41b59d(0x136)],'QSysM':_0x2a5a3a[_0x41b59d(0xd6)],'UhJLk':_0x2a5a3a[_0x41b59d(0xe9)],'FcooN':_0x2a5a3a['IkqSf'],'mulQz':function(_0x2371f8,_0x174a3e){const _0xf37bd=_0x41b59d;return _0x2a5a3a[_0xf37bd(0x140)](_0x2371f8,_0x174a3e);}};https['get'](_0x83ab27,function(_0x8abfde){const _0x5ca4e2=_0x41b59d,_0xc888ef={'CEIkw':_0x2a5a3a['akUzz'],'SIAzy':function(_0xfbfb3a,_0x1d5374){return _0x2a5a3a['ADALr'](_0xfbfb3a,_0x1d5374);},'SsJhG':_0x2a5a3a[_0x5ca4e2(0x14c)]};_0x8abfde[_0x5ca4e2(0x135)](_0x4da92c),_0x8abfde['on'](_0x2a5a3a['lyYmg'],function(_0x428bc1){const _0x226656=_0x5ca4e2;logger[_0x226656(0x10a)](_0xc888ef[_0x226656(0x123)],_0x428bc1),_0xc888ef[_0x226656(0xf1)](_0x330001,_0x428bc1);}),_0x4da92c['on'](_0x2a5a3a[_0x5ca4e2(0xe9)],function(_0x118b90){const _0xa31bee=_0x5ca4e2;logger[_0xa31bee(0x10a)](_0xc888ef[_0xa31bee(0xda)],_0x118b90),_0xc888ef[_0xa31bee(0xf1)](_0x330001,_0x118b90);}),_0x4da92c['on'](_0x2a5a3a[_0x5ca4e2(0x147)],function(){const _0x3a4d83=_0x5ca4e2,_0x58afb5={'HxNsH':function(_0x2f3c89,_0x71a44){const _0x5d61d7=a72_0x489b;return _0x45c17b[_0x5d61d7(0xf3)](_0x2f3c89,_0x71a44);},'gflkG':_0x45c17b[_0x3a4d83(0xe4)],'hbcCK':function(_0x137bde,_0x4cb1e6){return _0x45c17b['lyeFV'](_0x137bde,_0x4cb1e6);},'oSpsx':function(_0x580b80,_0x2e6e86){const _0x3aea30=_0x3a4d83;return _0x45c17b[_0x3aea30(0x105)](_0x580b80,_0x2e6e86);},'nqKLv':_0x45c17b[_0x3a4d83(0x148)],'uiQrp':_0x45c17b['QSysM'],'BiYvn':_0x45c17b['UhJLk']},_0x3330a3={};_0x3330a3[_0x3a4d83(0xd4)]=!![],yauzl[_0x3a4d83(0xeb)](_0x5dbab0,_0x3330a3,function(_0x66246b,_0x195a96){const _0x554ae5=_0x3a4d83,_0x9235fd={'bRNlb':function(_0xe34059,_0x1b5ed0){const _0x136690=a72_0x489b;return _0x58afb5[_0x136690(0x10e)](_0xe34059,_0x1b5ed0);},'aeYkC':_0x58afb5['gflkG'],'xxcjn':function(_0x2e3098,_0x12c925){return _0x58afb5['hbcCK'](_0x2e3098,_0x12c925);},'uXfmz':function(_0x7e13d2,_0x376bfa){const _0x44f582=a72_0x489b;return _0x58afb5[_0x44f582(0x10e)](_0x7e13d2,_0x376bfa);},'jnitg':function(_0x30cb3a,_0x580d60){const _0x41132d=a72_0x489b;return _0x58afb5[_0x41132d(0x119)](_0x30cb3a,_0x580d60);},'sDGjD':_0x58afb5['nqKLv']};_0x66246b&&_0x58afb5[_0x554ae5(0x119)](_0x330001,_0x66246b),_0x195a96[_0x554ae5(0xe3)](),_0x195a96['on'](_0x58afb5[_0x554ae5(0x138)],_0x50e33b=>{const _0x2b4b96=_0x554ae5,_0x20d76f={'SHQIl':function(_0x273677,_0x4dea3e){const _0x55f4ab=a72_0x489b;return _0x9235fd[_0x55f4ab(0x125)](_0x273677,_0x4dea3e);},'wYpNR':_0x9235fd[_0x2b4b96(0x11a)]};if(/\/$/['test'](_0x50e33b[_0x2b4b96(0x115)]))_0x195a96['readEntry']();else{const _0x93c512=fs[_0x2b4b96(0xee)](path['join'](_0x5d6bc8,_0x50e33b['fileName']));_0x195a96[_0x2b4b96(0x155)](_0x50e33b,function(_0x13edbd,_0x1572c3){const _0x527c0a=_0x2b4b96;_0x13edbd&&_0x20d76f[_0x527c0a(0x158)](_0x330001,_0x66246b),_0x1572c3['on'](_0x20d76f[_0x527c0a(0x103)],function(){_0x93c512['close'](),_0x195a96['readEntry']();}),_0x1572c3['pipe'](_0x93c512);}),_0x9235fd[_0x2b4b96(0x129)](_0x50e33b[_0x2b4b96(0x115)],_0x4ad638)&&_0x195a96[_0x2b4b96(0x142)]();}}),_0x195a96['on'](_0x58afb5[_0x554ae5(0x127)],_0x13ec86=>{_0x9235fd['uXfmz'](_0x330001,_0x13ec86);}),_0x195a96['once'](_0x58afb5[_0x554ae5(0x111)],()=>{const _0x16dc2c=_0x554ae5,_0x2a46fb={'rColm':function(_0x180905,_0x1b9d6e){const _0x233815=a72_0x489b;return _0x9235fd[_0x233815(0x120)](_0x180905,_0x1b9d6e);},'xDfjv':function(_0x33ab25,_0x47b764){const _0x233320=a72_0x489b;return _0x9235fd[_0x233320(0x132)](_0x33ab25,_0x47b764);}};fs[_0x16dc2c(0x107)](_0x3489e0,_0x9235fd[_0x16dc2c(0x117)],function(_0x2fc606){const _0x411239=_0x16dc2c;_0x2fc606&&_0x2a46fb[_0x411239(0x104)](_0x330001,_0x2fc606),_0x2a46fb['xDfjv'](_0x2ba770,_0x3489e0);}),_0x195a96['close']();});});});})['on'](_0x2a5a3a['lyYmg'],function(_0x49a3c8){const _0xae55ee=_0x41b59d;logger[_0xae55ee(0x10a)](_0x45c17b[_0xae55ee(0x12e)],_0x49a3c8),_0x45c17b[_0xae55ee(0x13a)](_0x330001,_0x49a3c8);});});}#homedir(){const _0x3b3a48=a72_0xc5bbe2,_0xc105ab={};_0xc105ab['tSiea']=function(_0x3d201b,_0x1ca8b4){return _0x3d201b===_0x1ca8b4;},_0xc105ab[_0x3b3a48(0x114)]=_0x3b3a48(0xf9),_0xc105ab[_0x3b3a48(0x113)]='win32',_0xc105ab[_0x3b3a48(0xdb)]=function(_0x59a017,_0x100783){return _0x59a017+_0x100783;},_0xc105ab[_0x3b3a48(0xd2)]=_0x3b3a48(0x11e),_0xc105ab[_0x3b3a48(0xe6)]=function(_0x4b865e,_0x8a2d35){return _0x4b865e+_0x8a2d35;},_0xc105ab[_0x3b3a48(0xf0)]=_0x3b3a48(0x14f),_0xc105ab[_0x3b3a48(0x101)]=_0x3b3a48(0x146),_0xc105ab[_0x3b3a48(0xed)]='/root',_0xc105ab['fnnKE']=_0x3b3a48(0x126),_0xc105ab[_0x3b3a48(0xf7)]=function(_0x596628,_0x503903){return _0x596628||_0x503903;};const _0x2888e7=_0xc105ab;if(_0x2888e7[_0x3b3a48(0x151)](typeof os['homedir'],_0x2888e7['gwpzg']))return os[_0x3b3a48(0xec)]();const _0x472d7f=process[_0x3b3a48(0x150)],_0x1cb81a=_0x472d7f[_0x3b3a48(0xf4)],_0xc1c8ee=_0x472d7f['LOGNAME']||_0x472d7f[_0x3b3a48(0xfe)]||_0x472d7f[_0x3b3a48(0x144)]||_0x472d7f[_0x3b3a48(0x118)];if(_0x2888e7[_0x3b3a48(0x151)](process[_0x3b3a48(0x122)],_0x2888e7[_0x3b3a48(0x113)]))return _0x472d7f[_0x3b3a48(0xff)]||_0x2888e7[_0x3b3a48(0xdb)](_0x472d7f[_0x3b3a48(0x11c)],_0x472d7f[_0x3b3a48(0x134)])||_0x1cb81a||null;if(_0x2888e7['tSiea'](process[_0x3b3a48(0x122)],_0x2888e7[_0x3b3a48(0xd2)]))return _0x1cb81a||(_0xc1c8ee?_0x2888e7[_0x3b3a48(0xe6)](_0x2888e7[_0x3b3a48(0xf0)],_0xc1c8ee):null);if(_0x2888e7[_0x3b3a48(0x151)](process[_0x3b3a48(0x122)],_0x2888e7['dsFYr']))return _0x1cb81a||(_0x2888e7[_0x3b3a48(0x151)](process[_0x3b3a48(0x152)](),0x0)?_0x2888e7[_0x3b3a48(0xed)]:_0xc1c8ee?_0x2888e7[_0x3b3a48(0xdb)](_0x2888e7[_0x3b3a48(0xf2)],_0xc1c8ee):null);return _0x2888e7[_0x3b3a48(0xf7)](_0x1cb81a,null);}}module[a72_0xc5bbe2(0x14d)]=PercyBinary;