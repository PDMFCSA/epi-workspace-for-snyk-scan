const a72_0x5ad38a=a72_0x55ae;(function(_0x52d35c,_0x18ba15){const _0xf871de=a72_0x55ae,_0x24b34f=_0x52d35c();while(!![]){try{const _0x3a8717=parseInt(_0xf871de(0x1a1))/0x1+parseInt(_0xf871de(0x146))/0x2*(parseInt(_0xf871de(0x1ac))/0x3)+parseInt(_0xf871de(0x16b))/0x4*(parseInt(_0xf871de(0x13a))/0x5)+-parseInt(_0xf871de(0x17a))/0x6*(-parseInt(_0xf871de(0x177))/0x7)+-parseInt(_0xf871de(0x128))/0x8*(-parseInt(_0xf871de(0x149))/0x9)+parseInt(_0xf871de(0x154))/0xa*(-parseInt(_0xf871de(0x1b6))/0xb)+-parseInt(_0xf871de(0x12e))/0xc;if(_0x3a8717===_0x18ba15)break;else _0x24b34f['push'](_0x24b34f['shift']());}catch(_0x502123){_0x24b34f['push'](_0x24b34f['shift']());}}}(a72_0x36d5,0xf0fe3));const {https}=require(a72_0x5ad38a(0x12d)),url=require(a72_0x5ad38a(0x151)),yauzl=require('yauzl'),fs=require('fs'),path=require(a72_0x5ad38a(0x127)),os=require('os'),{spawn}=require(a72_0x5ad38a(0x18c)),HttpsProxyAgent=require(a72_0x5ad38a(0x14c)),logger=require(a72_0x5ad38a(0x18d))['winstonLogger'];function a72_0x36d5(){const _0x46da9c=['/percy-win.zip','WWVCh','openReadStream','qGXbL','proxyPort','/home/','307324gnTsUy','accessSync','SegQq','18918LdefHY','fAOvY','percy.exe','https-proxy-agent','percy','readFileSync','EtvNA','function','url','proxyHost','RcqUh','36410dSXxdr','yjPaQ','MrcFL','VHDIj','match','pipe','error','homedir','eRPwk','fileName','FDozA','jxaOi','undefined','rQfGR','glBfD','.zip','/root','GVQUH','XzbFH','tLmHT','IdlhQ','oGxUG','cwd','911492SnDmCe','SwrpG','Error\x20trying\x20to\x20download\x20percy\x20binary','darwin','entry','iDcQF','linux','parse','data','.browserstack','get','dPvYx','11592833eLfvWu','TkzPn','eKQwb','6OgODlJ','test','txHbx','RXBJb','sZzDT','HOMEPATH','length','mkdirSync','cmayz','txoGK','Got\x20Error\x20while\x20downloading\x20percy\x20binary\x20file','GShGG','TNzLN','Got\x20Error\x20in\x20percy\x20binary\x20downloading\x20request','fYhzS','dWxWU','W_OK','getuid','child_process','../logger','JyzSH','/Users/','join','Jmyro','port','iASLu','env','/percy-linux.zip','vsJcn','INkww','AGpQC','NPRQX','tdeTh','USERNAME','vaHzc','Percy\x20download\x20failed\x20to\x20read\x20cert\x20file','RPGoc','BOses','bZEUi','1300384XLejYn','heMni','USERPROFILE','validateBinary','chmod','0755','wHpqC','createWriteStream','host','download','mVeQe','33kpznBf','X_OK','hVqMa','once','ujITm','useCaCertificate','exports','yhhBu','LOdUN','SopzO','3927boHklH','nwcTJ','uGSys','readEntry','path','7112DWlSdP','OFqnR','statSync','fbodD','Qbwtm','follow-redirects','53476704FKSmsg','HOMEDRIVE','HuIps','/percy-osx.zip','joxnt','tMqep','platform','LIhpo','cnbCf','Corrupt\x20percy\x20binary,\x20retrying','EciuE','R_OK','5dKwdJV','end','QFMRr','open','nUWJf','close'];a72_0x36d5=function(){return _0x46da9c;};return a72_0x36d5();}class PercyBinary{#hostOS=process[a72_0x5ad38a(0x134)];#httpPath=null;#binaryName=a72_0x5ad38a(0x14d);#orderedPaths=[path[a72_0x5ad38a(0x190)](this.#homedir(),a72_0x5ad38a(0x174)),process[a72_0x5ad38a(0x16a)](),os['tmpdir']()];constructor(){const _0x4a2d4c=a72_0x5ad38a,_0x5c958d={};_0x5c958d[_0x4a2d4c(0x167)]='https://github.com/percy/cli/releases/latest/download',_0x5c958d[_0x4a2d4c(0x186)]=function(_0x472ebd,_0x3d81c4){return _0x472ebd+_0x3d81c4;},_0x5c958d['Jmyro']=_0x4a2d4c(0x131),_0x5c958d[_0x4a2d4c(0x125)]=function(_0x2d4196,_0x5d05a7){return _0x2d4196+_0x5d05a7;},_0x5c958d[_0x4a2d4c(0x182)]=_0x4a2d4c(0x140),_0x5c958d['LIhpo']=_0x4a2d4c(0x14b),_0x5c958d[_0x4a2d4c(0x156)]=_0x4a2d4c(0x195);const _0x469514=_0x5c958d,_0x54eff5=_0x469514['tLmHT'];if(this.#hostOS[_0x4a2d4c(0x158)](/darwin|mac os/i))this.#httpPath=_0x469514[_0x4a2d4c(0x186)](_0x54eff5,_0x469514[_0x4a2d4c(0x191)]);else this.#hostOS[_0x4a2d4c(0x158)](/mswin|msys|mingw|cygwin|bccwin|wince|emc|win32/i)?(this.#httpPath=_0x469514[_0x4a2d4c(0x125)](_0x54eff5,_0x469514[_0x4a2d4c(0x182)]),this.#binaryName=_0x469514[_0x4a2d4c(0x135)]):this.#httpPath=_0x469514[_0x4a2d4c(0x125)](_0x54eff5,_0x469514[_0x4a2d4c(0x156)]);}#getAvailableDirs(){const _0xe764eb=a72_0x5ad38a,_0x3d4d9f={};_0x3d4d9f['fbodD']=function(_0x150ed5,_0x27013f){return _0x150ed5<_0x27013f;},_0x3d4d9f[_0xe764eb(0x1b4)]=_0xe764eb(0x16d);const _0x36004e=_0x3d4d9f;for(var _0x48f3d1=0x0;_0x36004e[_0xe764eb(0x12b)](_0x48f3d1,this.#orderedPaths[_0xe764eb(0x180)]);_0x48f3d1++){var _0x2e2514=this.#orderedPaths[_0x48f3d1];if(this.#makePath(_0x2e2514))return _0x2e2514;}throw new Error(_0x36004e['LOdUN']);}#makePath(_0x2f39a7){const _0x2e75a3=a72_0x5ad38a;try{return!this.#checkPath(_0x2f39a7)&&fs[_0x2e75a3(0x181)](_0x2f39a7),!![];}catch{return![];}}#checkPath(_0x2b3f93,_0x348d78){const _0x3a9375=a72_0x5ad38a,_0x4d3d07={};_0x4d3d07[_0x3a9375(0x129)]=function(_0x3dd0da,_0x2eccbc){return _0x3dd0da|_0x2eccbc;},_0x4d3d07[_0x3a9375(0x193)]=function(_0x35fcb4,_0x33f6ea){return _0x35fcb4!==_0x33f6ea;},_0x4d3d07[_0x3a9375(0x14f)]=_0x3a9375(0x160);const _0x1383f6=_0x4d3d07;_0x348d78=_0x348d78||_0x1383f6[_0x3a9375(0x129)](fs[_0x3a9375(0x139)],fs[_0x3a9375(0x18a)]);try{return fs[_0x3a9375(0x147)](_0x2b3f93,_0x348d78),!![];}catch(_0x2330c5){if(_0x1383f6['iASLu'](typeof fs['accessSync'],_0x1383f6['EtvNA']))return![];try{return fs[_0x3a9375(0x12a)](_0x2b3f93),!![];}catch(_0x1e5a83){return![];}}}async['getBinaryPath'](_0x3a6f28){const _0x138ba8=a72_0x5ad38a,_0x425e6b={};_0x425e6b[_0x138ba8(0x161)]=_0x138ba8(0x137);const _0x5c0e44=_0x425e6b;var _0x261bb5=this.#getAvailableDirs(),_0x5dbf0d=path[_0x138ba8(0x190)](_0x261bb5,this.#binaryName);if(this.#checkPath(_0x5dbf0d,fs[_0x138ba8(0x1ad)]))return _0x5dbf0d;const _0x1112d0=await this['download'](_0x3a6f28,_0x261bb5),_0x5f5c3f=await this['validateBinary'](_0x1112d0);if(!_0x5f5c3f)return logger[_0x138ba8(0x15a)](_0x5c0e44[_0x138ba8(0x161)]),await this[_0x138ba8(0x1aa)](_0x3a6f28,_0x261bb5);return _0x1112d0;}async[a72_0x5ad38a(0x1a4)](_0x3b962c){const _0x11f17c=a72_0x5ad38a,_0x521bea={'vaHzc':function(_0x4f83d4,_0x31e8f5){return _0x4f83d4(_0x31e8f5);},'AGpQC':function(_0x53ea47,_0x16e530,_0x4a0541){return _0x53ea47(_0x16e530,_0x4a0541);},'aXDBg':'--version','eKQwb':_0x11f17c(0x173),'dPvYx':_0x11f17c(0x13f)},_0x28a0bf=/^.*@percy\/cli \d.\d+.\d+/;return new Promise((_0x471895,_0x25da94)=>{const _0x5086e5=_0x11f17c,_0x5e9948=_0x521bea[_0x5086e5(0x198)](spawn,_0x3b962c,[_0x521bea['aXDBg']]);_0x5e9948['stdout']['on'](_0x521bea[_0x5086e5(0x179)],_0x4e3070=>{const _0xbae906=_0x5086e5;_0x28a0bf[_0xbae906(0x17b)](_0x4e3070)&&_0x521bea[_0xbae906(0x19c)](_0x471895,!![]);}),_0x5e9948['on'](_0x521bea[_0x5086e5(0x176)],()=>{_0x521bea['vaHzc'](_0x471895,![]);});});}[a72_0x5ad38a(0x1aa)](_0x32b070,_0x5680ee){const _0x24a3f2=a72_0x5ad38a,_0xec0238={'WWVCh':_0x24a3f2(0x184),'fYhzS':function(_0x482f3f,_0x10c3b){return _0x482f3f(_0x10c3b);},'TkzPn':function(_0x544695,_0xe0f1f7){return _0x544695(_0xe0f1f7);},'IhqJx':'Got\x20Error\x20in\x20percy\x20binary\x20download\x20response','joxnt':_0x24a3f2(0x13b),'Qbwtm':function(_0x546c06,_0x420b0a){return _0x546c06===_0x420b0a;},'yhhBu':_0x24a3f2(0x1a6),'SopzO':_0x24a3f2(0x16f),'iDcQF':_0x24a3f2(0x15a),'hVqMa':_0x24a3f2(0x13f),'NPRQX':_0x24a3f2(0x187),'bZEUi':function(_0x443520,_0x192fbb){return _0x443520+_0x192fbb;},'XzbFH':_0x24a3f2(0x163),'fAOvY':_0x24a3f2(0x19d)};!this.#checkPath(_0x5680ee)&&fs[_0x24a3f2(0x181)](_0x5680ee);const _0x4a1ebc=this.#binaryName,_0x26ba58=path[_0x24a3f2(0x190)](_0x5680ee,_0xec0238[_0x24a3f2(0x1a0)](_0x4a1ebc,_0xec0238[_0x24a3f2(0x166)])),_0x390652=path['join'](_0x5680ee,_0x4a1ebc),_0x2885c4=fs[_0x24a3f2(0x1a8)](_0x26ba58),_0x15c0e3=url[_0x24a3f2(0x172)](this.#httpPath);if(_0x32b070['proxyHost']&&_0x32b070[_0x24a3f2(0x144)]){const _0x40e639={};_0x40e639[_0x24a3f2(0x1a9)]=_0x32b070[_0x24a3f2(0x152)],_0x40e639[_0x24a3f2(0x192)]=_0x32b070[_0x24a3f2(0x144)],_0x15c0e3['agent']=new HttpsProxyAgent(_0x40e639);}if(_0x32b070[_0x24a3f2(0x1b1)])try{_0x15c0e3['ca']=fs[_0x24a3f2(0x14e)](_0x32b070[_0x24a3f2(0x1b1)]);}catch(_0x1f5f7d){logger['error'](_0xec0238[_0x24a3f2(0x14a)],_0x1f5f7d);}return new Promise((_0xcf6b82,_0x34c66a)=>{const _0x37770b=_0x24a3f2,_0x1c5938={'tdeTh':_0xec0238[_0x37770b(0x141)],'mVeQe':function(_0x361ba3,_0x7179ea){const _0x57d999=_0x37770b;return _0xec0238[_0x57d999(0x188)](_0x361ba3,_0x7179ea);},'nUWJf':function(_0x5a283d,_0x24b3f7){const _0x42fa64=_0x37770b;return _0xec0238[_0x42fa64(0x178)](_0x5a283d,_0x24b3f7);},'dWxWU':_0xec0238['IhqJx'],'sZzDT':_0xec0238[_0x37770b(0x132)],'SegQq':function(_0x1379ca,_0x2bc726){const _0xbc3ea9=_0x37770b;return _0xec0238[_0xbc3ea9(0x12c)](_0x1379ca,_0x2bc726);},'cnbCf':_0xec0238[_0x37770b(0x1b3)],'IdlhQ':_0xec0238[_0x37770b(0x1b5)],'nwcTJ':_0xec0238[_0x37770b(0x170)],'EciuE':_0xec0238[_0x37770b(0x1ae)],'RPGoc':_0xec0238[_0x37770b(0x199)]};https[_0x37770b(0x175)](_0x15c0e3,function(_0x5dc970){const _0x41d677=_0x37770b,_0x7e27fc={'jxaOi':_0x1c5938[_0x41d677(0x189)],'heMni':function(_0xb0a988,_0x1961b9){return _0x1c5938['mVeQe'](_0xb0a988,_0x1961b9);},'GShGG':_0x1c5938[_0x41d677(0x17e)],'ylUQO':function(_0x45ef38,_0x4fa6a8){const _0x5a0006=_0x41d677;return _0x1c5938[_0x5a0006(0x148)](_0x45ef38,_0x4fa6a8);},'QFMRr':_0x1c5938[_0x41d677(0x136)],'tMqep':function(_0x2069e8,_0xca381e){return _0x1c5938['mVeQe'](_0x2069e8,_0xca381e);},'eRPwk':_0x1c5938[_0x41d677(0x168)],'vsJcn':_0x1c5938[_0x41d677(0x1b7)]};_0x5dc970[_0x41d677(0x159)](_0x2885c4),_0x5dc970['on'](_0x1c5938['nwcTJ'],function(_0x417e8f){const _0x1c1901=_0x41d677;logger[_0x1c1901(0x15a)](_0x7e27fc[_0x1c1901(0x15f)],_0x417e8f),_0x7e27fc[_0x1c1901(0x1a2)](_0x34c66a,_0x417e8f);}),_0x2885c4['on'](_0x1c5938[_0x41d677(0x1b7)],function(_0x551ab3){const _0x36e981=_0x41d677;logger['error'](_0x1c5938[_0x36e981(0x19a)],_0x551ab3),_0x1c5938[_0x36e981(0x1ab)](_0x34c66a,_0x551ab3);}),_0x2885c4['on'](_0x1c5938[_0x41d677(0x138)],function(){const _0x572e7f=_0x41d677,_0x45cced={'HuIps':function(_0x256faa,_0x5ba3b4){const _0x2232e2=a72_0x55ae;return _0x1c5938[_0x2232e2(0x13e)](_0x256faa,_0x5ba3b4);}},_0x6c23f6={};_0x6c23f6['lazyEntries']=!![],yauzl[_0x572e7f(0x13d)](_0x26ba58,_0x6c23f6,function(_0x258d8c,_0x2b4196){const _0x59fbb5=_0x572e7f,_0x72623={'txHbx':function(_0x5e6ee0,_0x17b761){const _0x2ac60a=a72_0x55ae;return _0x7e27fc[_0x2ac60a(0x1a2)](_0x5e6ee0,_0x17b761);},'txoGK':_0x7e27fc[_0x59fbb5(0x185)],'ujITm':function(_0x5d4808,_0x34fa94){return _0x7e27fc['ylUQO'](_0x5d4808,_0x34fa94);},'thRky':_0x7e27fc[_0x59fbb5(0x13c)]};_0x258d8c&&_0x7e27fc[_0x59fbb5(0x133)](_0x34c66a,_0x258d8c),_0x2b4196['readEntry'](),_0x2b4196['on'](_0x7e27fc[_0x59fbb5(0x15c)],_0x149598=>{const _0x4e06dc=_0x59fbb5;if(/\/$/['test'](_0x149598[_0x4e06dc(0x15d)]))_0x2b4196[_0x4e06dc(0x126)]();else{const _0x6d2fb6=fs[_0x4e06dc(0x1a8)](path[_0x4e06dc(0x190)](_0x5680ee,_0x149598[_0x4e06dc(0x15d)]));_0x2b4196[_0x4e06dc(0x142)](_0x149598,function(_0x2f6427,_0x5c85da){const _0x3cd576=_0x4e06dc;_0x2f6427&&_0x72623[_0x3cd576(0x17c)](_0x34c66a,_0x258d8c),_0x5c85da['on'](_0x72623[_0x3cd576(0x183)],function(){const _0x22864d=_0x3cd576;_0x6d2fb6[_0x22864d(0x13f)](),_0x2b4196[_0x22864d(0x126)]();}),_0x5c85da['pipe'](_0x6d2fb6);}),_0x72623[_0x4e06dc(0x1b0)](_0x149598[_0x4e06dc(0x15d)],_0x4a1ebc)&&_0x2b4196[_0x4e06dc(0x13f)]();}}),_0x2b4196['on'](_0x7e27fc[_0x59fbb5(0x196)],_0xe2bd32=>{const _0x1db354=_0x59fbb5;_0x45cced[_0x1db354(0x130)](_0x34c66a,_0xe2bd32);}),_0x2b4196[_0x59fbb5(0x1af)](_0x7e27fc[_0x59fbb5(0x185)],()=>{const _0x3c531e=_0x59fbb5,_0x29b0ee={'SwrpG':function(_0x1d1864,_0x3ec507){return _0x72623['txHbx'](_0x1d1864,_0x3ec507);}};fs[_0x3c531e(0x1a5)](_0x390652,_0x72623['thRky'],function(_0x4cd4c7){const _0x446a9d=_0x3c531e;_0x4cd4c7&&_0x29b0ee[_0x446a9d(0x16c)](_0x34c66a,_0x4cd4c7),_0x29b0ee[_0x446a9d(0x16c)](_0xcf6b82,_0x390652);}),_0x2b4196[_0x3c531e(0x13f)]();});});});})['on'](_0xec0238[_0x37770b(0x170)],function(_0x12f7e6){const _0x3152a2=_0x37770b;logger[_0x3152a2(0x15a)](_0x1c5938[_0x3152a2(0x19e)],_0x12f7e6),_0x1c5938[_0x3152a2(0x13e)](_0x34c66a,_0x12f7e6);});});}#homedir(){const _0x1734cb=a72_0x5ad38a,_0x40ca37={};_0x40ca37[_0x1734cb(0x17d)]=function(_0x53e7b2,_0x3bbce2){return _0x53e7b2===_0x3bbce2;},_0x40ca37[_0x1734cb(0x19f)]=_0x1734cb(0x150),_0x40ca37['IBdNz']='win32',_0x40ca37[_0x1734cb(0x143)]=function(_0x1bc4b0,_0x133cc4){return _0x1bc4b0+_0x133cc4;},_0x40ca37[_0x1734cb(0x153)]=function(_0x28bbee,_0xdf48e0){return _0x28bbee===_0xdf48e0;},_0x40ca37[_0x1734cb(0x15e)]=_0x1734cb(0x16e),_0x40ca37[_0x1734cb(0x197)]=_0x1734cb(0x18f),_0x40ca37[_0x1734cb(0x169)]=function(_0x5ee42c,_0x479416){return _0x5ee42c===_0x479416;},_0x40ca37[_0x1734cb(0x162)]=_0x1734cb(0x171),_0x40ca37[_0x1734cb(0x1a7)]=function(_0x4549b1,_0xd6df5c){return _0x4549b1===_0xd6df5c;},_0x40ca37[_0x1734cb(0x155)]=_0x1734cb(0x164),_0x40ca37[_0x1734cb(0x165)]=function(_0x532d92,_0x6f17ab){return _0x532d92+_0x6f17ab;},_0x40ca37['JyzSH']=_0x1734cb(0x145),_0x40ca37['VHDIj']=function(_0x5708b4,_0x2e2df2){return _0x5708b4||_0x2e2df2;};const _0x1397a9=_0x40ca37;if(_0x1397a9[_0x1734cb(0x17d)](typeof os[_0x1734cb(0x15b)],_0x1397a9[_0x1734cb(0x19f)]))return os[_0x1734cb(0x15b)]();const _0x324ab1=process[_0x1734cb(0x194)],_0x14b73a=_0x324ab1['HOME'],_0xae76e7=_0x324ab1['LOGNAME']||_0x324ab1['USER']||_0x324ab1['LNAME']||_0x324ab1[_0x1734cb(0x19b)];if(_0x1397a9[_0x1734cb(0x17d)](process[_0x1734cb(0x134)],_0x1397a9['IBdNz']))return _0x324ab1[_0x1734cb(0x1a3)]||_0x1397a9['qGXbL'](_0x324ab1[_0x1734cb(0x12f)],_0x324ab1[_0x1734cb(0x17f)])||_0x14b73a||null;if(_0x1397a9[_0x1734cb(0x153)](process['platform'],_0x1397a9[_0x1734cb(0x15e)]))return _0x14b73a||(_0xae76e7?_0x1397a9[_0x1734cb(0x143)](_0x1397a9[_0x1734cb(0x197)],_0xae76e7):null);if(_0x1397a9[_0x1734cb(0x169)](process[_0x1734cb(0x134)],_0x1397a9[_0x1734cb(0x162)]))return _0x14b73a||(_0x1397a9[_0x1734cb(0x1a7)](process[_0x1734cb(0x18b)](),0x0)?_0x1397a9[_0x1734cb(0x155)]:_0xae76e7?_0x1397a9[_0x1734cb(0x165)](_0x1397a9[_0x1734cb(0x18e)],_0xae76e7):null);return _0x1397a9[_0x1734cb(0x157)](_0x14b73a,null);}}function a72_0x55ae(_0x499ac2,_0x30110c){const _0x36d5ab=a72_0x36d5();return a72_0x55ae=function(_0x55aea6,_0x2f44a7){_0x55aea6=_0x55aea6-0x125;let _0x3b9509=_0x36d5ab[_0x55aea6];return _0x3b9509;},a72_0x55ae(_0x499ac2,_0x30110c);}module[a72_0x5ad38a(0x1b2)]=PercyBinary;