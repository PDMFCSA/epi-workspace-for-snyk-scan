const a78_0x1d5f2a=a78_0x1037;function a78_0x1037(_0xc90ce2,_0x4eb47d){const _0x160472=a78_0x1604();return a78_0x1037=function(_0x1037b4,_0x2c537e){_0x1037b4=_0x1037b4-0x151;let _0x5e03ec=_0x160472[_0x1037b4];return _0x5e03ec;},a78_0x1037(_0xc90ce2,_0x4eb47d);}(function(_0x2c7f09,_0x406b57){const _0x52f420=a78_0x1037,_0x546412=_0x2c7f09();while(!![]){try{const _0xcde493=-parseInt(_0x52f420(0x193))/0x1+parseInt(_0x52f420(0x162))/0x2+parseInt(_0x52f420(0x15f))/0x3*(parseInt(_0x52f420(0x183))/0x4)+-parseInt(_0x52f420(0x176))/0x5*(-parseInt(_0x52f420(0x18e))/0x6)+-parseInt(_0x52f420(0x192))/0x7+parseInt(_0x52f420(0x18b))/0x8*(parseInt(_0x52f420(0x16a))/0x9)+parseInt(_0x52f420(0x197))/0xa*(-parseInt(_0x52f420(0x15a))/0xb);if(_0xcde493===_0x406b57)break;else _0x546412['push'](_0x546412['shift']());}catch(_0x280151){_0x546412['push'](_0x546412['shift']());}}}(a78_0x1604,0xc535e));const Percy=require(a78_0x1d5f2a(0x191)),PercySDK=require(a78_0x1d5f2a(0x199)),PercyCaptureModes=require(a78_0x1d5f2a(0x186)),PercyCaptureMap=require(a78_0x1d5f2a(0x15c)),logger=require('../logger')[a78_0x1d5f2a(0x189)],helper=require(a78_0x1d5f2a(0x18c)),PerformanceTester=require(a78_0x1d5f2a(0x156)),{PERCY_EVENTS:PerformanceEvents}=require(a78_0x1d5f2a(0x165));exports[a78_0x1d5f2a(0x16b)]=PerformanceTester['measureWrapper'](PerformanceEvents['START'],async _0x2c0272=>{const _0x425eb4=a78_0x1d5f2a,_0x5be661={};_0x5be661[_0x425eb4(0x190)]='Starting\x20percy';const _0x46a5c8=_0x5be661;logger['debug'](_0x46a5c8[_0x425eb4(0x190)]);const _0x2d34f8=new Percy(_0x2c0272),_0x2762b1=await _0x2d34f8[_0x425eb4(0x154)]();if(_0x2762b1)return _0x2d34f8;return null;}),exports[a78_0x1d5f2a(0x17f)]=PerformanceTester[a78_0x1d5f2a(0x182)](PerformanceEvents[a78_0x1d5f2a(0x172)],async _0xbd508e=>{const _0x4cd236=a78_0x1d5f2a,_0x4f27f8={};_0x4f27f8['GhqxF']=_0x4cd236(0x155);const _0x3f5117=_0x4f27f8;return logger[_0x4cd236(0x18a)](_0x3f5117[_0x4cd236(0x15e)]),_0xbd508e['stop']();}),exports[a78_0x1d5f2a(0x153)]=_0x19d9eb=>{const _0x13d0f4=a78_0x1d5f2a,_0x10d103={};_0x10d103['Hhzym']=function(_0x41c039,_0x208219){return _0x41c039<_0x208219;};const _0x1a0b9b=_0x10d103,_0x2ac806={};_0x2ac806[_0x13d0f4(0x18d)]=0x0,_0x2ac806[_0x13d0f4(0x170)]=0x1,_0x2ac806['edge']=0x2,_0x2ac806[_0x13d0f4(0x157)]=0x3;const _0x4e23e8=_0x2ac806;return _0x19d9eb[_0x13d0f4(0x15b)]((_0x168de3,_0x30fe75,_0x490747)=>{const _0x148e0f=_0x13d0f4,_0x8b4121=_0x19d9eb[_0x168de3];if(_0x30fe75[_0x148e0f(0x179)])return _0x168de3;if(_0x8b4121['deviceName'])return _0x490747;const _0x474486=_0x30fe75['browser']?_0x30fe75['browser']:_0x30fe75[_0x148e0f(0x175)];if(_0x474486&&_0x1a0b9b[_0x148e0f(0x160)](_0x4e23e8[_0x474486[_0x148e0f(0x195)]()],_0x4e23e8[_0x474486[_0x148e0f(0x195)]()]))return _0x490747;return _0x168de3;},0x0);},exports[a78_0x1d5f2a(0x17e)]=PerformanceTester['measureWrapper'](PerformanceEvents[a78_0x1d5f2a(0x151)],async(_0x51234a,_0x4e4b68,_0x4e4549)=>{const _0x480944=a78_0x1d5f2a,_0x5aa289={};_0x5aa289[_0x480944(0x169)]=_0x480944(0x173);const _0x59402b=_0x5aa289,_0x5ed4ed=_0x51234a[_0x480944(0x17d)];if(helper['isUndefined'](_0x51234a[_0x480944(0x188)])){logger[_0x480944(0x18a)](_0x59402b[_0x480944(0x169)]);return;}const _0x1afca9=_0x5ed4ed['getName'](_0x51234a[_0x480944(0x188)],_0x4e4b68);_0x4e4549['app']?await PercySDK[_0x480944(0x16d)](_0x51234a,_0x1afca9):await PercySDK[_0x480944(0x178)](_0x51234a,_0x1afca9),_0x5ed4ed[_0x480944(0x16c)](_0x51234a['browserstackSessionName'],_0x4e4b68);}),exports['patchDriverPercy']=(_0x399b68,_0x30397f,_0x4e2dbd)=>{const _0x256df9=a78_0x1d5f2a,_0x5a60aa={};_0x5a60aa[_0x256df9(0x171)]='browserStackPercyOptions',_0x5a60aa[_0x256df9(0x184)]=_0x256df9(0x166),_0x5a60aa[_0x256df9(0x16f)]=function(_0x473e6e,_0x527abf){return _0x473e6e!==_0x527abf;},_0x5a60aa['sdMCJ']=_0x256df9(0x194);const _0x9a1d8e=_0x5a60aa;if(!helper[_0x256df9(0x17b)](_0x4e2dbd,[_0x9a1d8e[_0x256df9(0x171)],_0x9a1d8e[_0x256df9(0x184)]]))return;if(_0x4e2dbd['browserStackPercyOptions'][_0x256df9(0x166)]&&_0x4e2dbd[_0x256df9(0x159)][_0x256df9(0x167)]&&_0x9a1d8e[_0x256df9(0x16f)](_0x4e2dbd['browserStackPercyOptions']['percyCaptureMode'],_0x9a1d8e[_0x256df9(0x181)])&&!_0x399b68[_0x256df9(0x17d)]){global[_0x256df9(0x188)]&&(_0x399b68[_0x256df9(0x188)]=global[_0x256df9(0x188)]),_0x399b68[_0x256df9(0x17d)]=new PercyCaptureMap();const _0x2ea8d1=PercyCaptureModes[_0x4e2dbd['browserStackPercyOptions'][_0x256df9(0x167)]];_0x2ea8d1[_0x256df9(0x177)]&&_0x2ea8d1[_0x256df9(0x177)][_0x256df9(0x196)](_0x13dea0=>this[_0x256df9(0x161)](_0x399b68,_0x13dea0,_0x4e2dbd)),_0x2ea8d1['element']&&_0x2ea8d1[_0x256df9(0x15d)][_0x256df9(0x196)](_0x44fda8=>{const _0x38eb47=_0x256df9;if(_0x30397f[_0x38eb47(0x163)][_0x38eb47(0x180)+_0x44fda8])return;_0x30397f['prototype'][_0x38eb47(0x180)+_0x44fda8]=!![];const _0x1ed466=_0x30397f[_0x38eb47(0x163)][_0x44fda8];_0x30397f[_0x38eb47(0x163)][_0x44fda8]=async function(){const _0xd1da76=_0x38eb47;let _0xf1d6c0=_0x1ed466['apply'](this,arguments);_0xf1d6c0&&_0xf1d6c0[_0xd1da76(0x198)]&&(_0xf1d6c0=await _0xf1d6c0);try{const _0x3b5334=this[_0xd1da76(0x152)]();await exports[_0xd1da76(0x17e)](_0x3b5334,_0x44fda8,_0x4e2dbd);}catch(_0x47d208){logger[_0xd1da76(0x164)](_0xd1da76(0x187)+_0x44fda8+_0xd1da76(0x17c)+_0x47d208);}return _0xf1d6c0;};});}},exports[a78_0x1d5f2a(0x161)]=function(_0x3d811b,_0x3a2448,_0x2e77be){const _0x53f984=a78_0x1d5f2a,_0x17feac={};_0x17feac['sdwos']=function(_0x3e1107,_0x1cbc44){return _0x3e1107+_0x1cbc44;},_0x17feac['GwHUL']=_0x53f984(0x180),_0x17feac[_0x53f984(0x16e)]=_0x53f984(0x174);const _0x322cd8=_0x17feac,_0x39f3a2=_0x322cd8['sdwos'](_0x322cd8[_0x53f984(0x18f)],_0x3a2448),_0x506214=_0x322cd8['sdwos'](_0x322cd8['TjTBd'],_0x3a2448),_0x44ee33=this;if(_0x3d811b[_0x39f3a2]||!_0x3d811b[_0x3a2448])return;_0x3d811b[_0x39f3a2]=!![],_0x3d811b[_0x506214]=_0x3d811b[_0x3a2448],_0x3d811b[_0x3a2448]=async()=>{const _0xd4012b=_0x53f984;try{await _0x44ee33[_0xd4012b(0x17e)](_0x3d811b,_0x3a2448,_0x2e77be);}catch(_0x39e334){logger['error'](_0xd4012b(0x187)+_0x3a2448+_0xd4012b(0x17c)+_0x39e334);}return await _0x3d811b[_0x506214][_0xd4012b(0x185)](_0x3d811b,arguments);};},exports['getPercyOptions']=_0x3c21bd=>{const _0x5b72ce=a78_0x1d5f2a,_0x161983={};_0x161983[_0x5b72ce(0x158)]='auto';const _0x5b2d61=_0x161983,_0xe7efac={};_0xe7efac[_0x5b72ce(0x166)]=_0x3c21bd['percy'],_0xe7efac[_0x5b72ce(0x167)]=_0x3c21bd[_0x5b72ce(0x167)]||_0x5b2d61[_0x5b72ce(0x158)];const _0x4ac179=_0xe7efac;_0x3c21bd[_0x5b72ce(0x166)]&&(_0x4ac179[_0x5b72ce(0x168)]=exports[_0x5b72ce(0x153)](_0x3c21bd[_0x5b72ce(0x17a)]));;return _0x4ac179;};function a78_0x1604(){const _0x4d6014=['Error\x20patching\x20','browserstackSessionName','winstonLogger','debug','9141624qqTJHp','../helper','chrome','810330IdQnaM','GwHUL','zCXkE','./Percy','1406237WknXbR','106062MxGFqL','manual','toLowerCase','forEach','890FzXuep','then','./PercySDK','AUTO_CAPTURE','getDriver','getBestPlatformForPercySnapshot','start','Stopping\x20percy','../performance/performance-tester','safari','qKyZY','browserStackPercyOptions','193853QIymMn','reduce','./PercyCaptureMap','element','GhqxF','5271QyZBpQ','Hhzym','overrideXforPercy','57260FtKNmX','prototype','error','../performance/constants','percy','percyCaptureMode','browserstackPercyBestPlatform','UenaA','9qdjqKf','startPercy','increment','screenshotApp','TjTBd','CWdyf','firefox','OPGca','STOP','Couldn\x27t\x20capture\x20percy\x20screenshot,\x20no\x20session\x20name\x20present','init','browserName','20pAuqoX','driver','screenshot','deviceName','platforms','nestedKeyValue','\x20for\x20percy\x20','browserstackPercyMap','percyAutoCapture','stopPercy','patch','sdMCJ','measureWrapper','2212pHiHGl','QszIs','apply','./PercyCaptureModes'];a78_0x1604=function(){return _0x4d6014;};return a78_0x1604();}