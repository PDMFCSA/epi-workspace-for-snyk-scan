const a107_0x486ef4=a107_0x400f;function a107_0x2aff(){const _0x489d8e=['lvXUS','edge','init','mUBgO','start','percy','rkkWw','KDlQI','debug','309rFgEef','deviceName','13992JIWBVP','./Percy','Starting\x20percy','3190924PExlhV','./PercyCaptureModes','chrome','qQVdX','then','startPercy','browserName','7839279FmsQvA','../performance/performance-tester','cHYTJ','browserstackSessionName','screenshotApp','80397tfMEwj','overrideXforPercy','increment','Stopping\x20percy','prototype','screenshot','patch','error','stop','browserstackPercyBestPlatform','firefox','measureWrapper','192eQjFCp','reduce','auto','element','getName','toLowerCase','2503495DLLvAp','9653PLJyFK','percyAutoCapture','browserStackPercyOptions','\x20for\x20percy\x20','isUndefined','10lUkIWo','browserstackPercyMap','browser','stopPercy','vrUPS','EWhEu','Couldn\x27t\x20capture\x20percy\x20screenshot,\x20no\x20session\x20name\x20present','getBestPlatformForPercySnapshot','Error\x20patching\x20','getDriver','STOP','percyCaptureMode','../logger','tXJNG','forEach','Wjivw','nestedKeyValue','6rqwrVU','17413rOGLip','driver','qBKjb','safari','app','18286PLQokr','./PercySDK'];a107_0x2aff=function(){return _0x489d8e;};return a107_0x2aff();}(function(_0x136ecb,_0x2ae443){const _0x560bac=a107_0x400f,_0x580097=_0x136ecb();while(!![]){try{const _0x38929f=parseInt(_0x560bac(0x1fc))/0x1+-parseInt(_0x560bac(0x1e0))/0x2*(parseInt(_0x560bac(0x1eb))/0x3)+-parseInt(_0x560bac(0x1f0))/0x4+parseInt(_0x560bac(0x20e))/0x5*(-parseInt(_0x560bac(0x225))/0x6)+parseInt(_0x560bac(0x20f))/0x7*(-parseInt(_0x560bac(0x208))/0x8)+parseInt(_0x560bac(0x1f7))/0x9*(parseInt(_0x560bac(0x214))/0xa)+-parseInt(_0x560bac(0x226))/0xb*(-parseInt(_0x560bac(0x1ed))/0xc);if(_0x38929f===_0x2ae443)break;else _0x580097['push'](_0x580097['shift']());}catch(_0x8b3771){_0x580097['push'](_0x580097['shift']());}}}(a107_0x2aff,0x7feaf));function a107_0x400f(_0x4dc955,_0x389f06){const _0x2aff5e=a107_0x2aff();return a107_0x400f=function(_0x400f40,_0x5183f0){_0x400f40=_0x400f40-0x1df;let _0x4cb475=_0x2aff5e[_0x400f40];return _0x4cb475;},a107_0x400f(_0x4dc955,_0x389f06);}const Percy=require(a107_0x486ef4(0x1ee)),PercySDK=require(a107_0x486ef4(0x1e1)),PercyCaptureModes=require(a107_0x486ef4(0x1f1)),PercyCaptureMap=require('./PercyCaptureMap'),logger=require(a107_0x486ef4(0x220))['winstonLogger'],helper=require('../helper'),PerformanceTester=require(a107_0x486ef4(0x1f8)),{PERCY_EVENTS:PerformanceEvents}=require('../performance/constants');exports[a107_0x486ef4(0x1f5)]=PerformanceTester[a107_0x486ef4(0x207)](PerformanceEvents['START'],async _0x25841f=>{const _0x3a7628=a107_0x486ef4,_0x1651f3={};_0x1651f3['mUBgO']=_0x3a7628(0x1ef);const _0x56d30a=_0x1651f3;logger[_0x3a7628(0x1ea)](_0x56d30a[_0x3a7628(0x1e5)]);const _0x78047b=new Percy(_0x25841f),_0x379525=await _0x78047b[_0x3a7628(0x1e6)]();if(_0x379525)return _0x78047b;return null;}),exports[a107_0x486ef4(0x217)]=PerformanceTester['measureWrapper'](PerformanceEvents[a107_0x486ef4(0x21e)],async _0x13911f=>{const _0x2a4499=a107_0x486ef4,_0x171780={};_0x171780[_0x2a4499(0x1e9)]=_0x2a4499(0x1ff);const _0x3764c7=_0x171780;return logger[_0x2a4499(0x1ea)](_0x3764c7['KDlQI']),_0x13911f[_0x2a4499(0x204)]();}),exports[a107_0x486ef4(0x21b)]=_0x7552d5=>{const _0x277d08=a107_0x486ef4,_0x5c1a18={};_0x5c1a18[_0x277d08(0x1e2)]=function(_0x37d521,_0x1748d8){return _0x37d521<_0x1748d8;};const _0x38255f=_0x5c1a18,_0xf48a63={};_0xf48a63[_0x277d08(0x1f2)]=0x0,_0xf48a63[_0x277d08(0x206)]=0x1,_0xf48a63[_0x277d08(0x1e3)]=0x2,_0xf48a63[_0x277d08(0x229)]=0x3;const _0x2c4241=_0xf48a63;return _0x7552d5[_0x277d08(0x209)]((_0x1bfe12,_0x46c4e8,_0x5ca1b3)=>{const _0x399fb0=_0x277d08,_0x36ef35=_0x7552d5[_0x1bfe12];if(_0x46c4e8[_0x399fb0(0x1ec)])return _0x1bfe12;if(_0x36ef35['deviceName'])return _0x5ca1b3;const _0x5e52c2=_0x46c4e8[_0x399fb0(0x216)]?_0x46c4e8[_0x399fb0(0x216)]:_0x46c4e8[_0x399fb0(0x1f6)];if(_0x5e52c2&&_0x38255f['lvXUS'](_0x2c4241[_0x5e52c2[_0x399fb0(0x20d)]()],_0x2c4241[_0x5e52c2[_0x399fb0(0x20d)]()]))return _0x5ca1b3;return _0x1bfe12;},0x0);},exports[a107_0x486ef4(0x210)]=PerformanceTester[a107_0x486ef4(0x207)](PerformanceEvents['AUTO_CAPTURE'],async(_0x46b9af,_0x187857,_0x449236)=>{const _0x5d2d48=a107_0x486ef4,_0x3dee9e={};_0x3dee9e[_0x5d2d48(0x1f9)]=_0x5d2d48(0x21a);const _0x542725=_0x3dee9e,_0x483739=_0x46b9af[_0x5d2d48(0x215)];if(helper[_0x5d2d48(0x213)](_0x46b9af['browserstackSessionName'])){logger[_0x5d2d48(0x1ea)](_0x542725[_0x5d2d48(0x1f9)]);return;}const _0x185e29=_0x483739[_0x5d2d48(0x20c)](_0x46b9af[_0x5d2d48(0x1fa)],_0x187857);_0x449236[_0x5d2d48(0x1df)]?await PercySDK[_0x5d2d48(0x1fb)](_0x46b9af,_0x185e29):await PercySDK[_0x5d2d48(0x201)](_0x46b9af,_0x185e29),_0x483739[_0x5d2d48(0x1fe)](_0x46b9af['browserstackSessionName'],_0x187857);}),exports['patchDriverPercy']=(_0x10c038,_0x3da172,_0xd203ec)=>{const _0x62c4d7=a107_0x486ef4,_0x5765e4={};_0x5765e4[_0x62c4d7(0x218)]=_0x62c4d7(0x211),_0x5765e4[_0x62c4d7(0x221)]=_0x62c4d7(0x1e7),_0x5765e4[_0x62c4d7(0x1f3)]=function(_0x1caa2c,_0x467973){return _0x1caa2c!==_0x467973;},_0x5765e4['FNbJE']='manual';const _0x556c36=_0x5765e4;if(!helper[_0x62c4d7(0x224)](_0xd203ec,[_0x556c36['vrUPS'],_0x556c36['tXJNG']]))return;if(_0xd203ec['browserStackPercyOptions'][_0x62c4d7(0x1e7)]&&_0xd203ec[_0x62c4d7(0x211)][_0x62c4d7(0x21f)]&&_0x556c36[_0x62c4d7(0x1f3)](_0xd203ec[_0x62c4d7(0x211)][_0x62c4d7(0x21f)],_0x556c36['FNbJE'])&&!_0x10c038[_0x62c4d7(0x215)]){global[_0x62c4d7(0x1fa)]&&(_0x10c038[_0x62c4d7(0x1fa)]=global[_0x62c4d7(0x1fa)]),_0x10c038[_0x62c4d7(0x215)]=new PercyCaptureMap();const _0x5ab50b=PercyCaptureModes[_0xd203ec[_0x62c4d7(0x211)][_0x62c4d7(0x21f)]];_0x5ab50b[_0x62c4d7(0x227)]&&_0x5ab50b[_0x62c4d7(0x227)]['forEach'](_0x28d116=>this['overrideXforPercy'](_0x10c038,_0x28d116,_0xd203ec)),_0x5ab50b[_0x62c4d7(0x20b)]&&_0x5ab50b[_0x62c4d7(0x20b)][_0x62c4d7(0x222)](_0x43440=>{const _0x583321=_0x62c4d7;if(_0x3da172[_0x583321(0x200)][_0x583321(0x202)+_0x43440])return;_0x3da172[_0x583321(0x200)][_0x583321(0x202)+_0x43440]=!![];const _0x22e6b4=_0x3da172['prototype'][_0x43440];_0x3da172[_0x583321(0x200)][_0x43440]=async function(){const _0x59dc39=_0x583321;let _0x85c303=_0x22e6b4['apply'](this,arguments);_0x85c303&&_0x85c303[_0x59dc39(0x1f4)]&&(_0x85c303=await _0x85c303);try{const _0x1c1fad=this[_0x59dc39(0x21d)]();await exports['percyAutoCapture'](_0x1c1fad,_0x43440,_0xd203ec);}catch(_0x2a918e){logger[_0x59dc39(0x203)]('Error\x20patching\x20'+_0x43440+'\x20for\x20percy\x20'+_0x2a918e);}return _0x85c303;};});}},exports[a107_0x486ef4(0x1fd)]=function(_0x2158e8,_0x11c8e2,_0xf4db68){const _0x3b1f6d=a107_0x486ef4,_0x4a2d86={};_0x4a2d86[_0x3b1f6d(0x219)]=function(_0x379b6e,_0x4eb791){return _0x379b6e+_0x4eb791;},_0x4a2d86[_0x3b1f6d(0x228)]=_0x3b1f6d(0x202),_0x4a2d86[_0x3b1f6d(0x223)]=_0x3b1f6d(0x1e4);const _0x407696=_0x4a2d86,_0x235a15=_0x407696[_0x3b1f6d(0x219)](_0x407696[_0x3b1f6d(0x228)],_0x11c8e2),_0x42b05b=_0x407696[_0x3b1f6d(0x219)](_0x407696[_0x3b1f6d(0x223)],_0x11c8e2),_0x516921=this;if(_0x2158e8[_0x235a15]||!_0x2158e8[_0x11c8e2])return;_0x2158e8[_0x235a15]=!![],_0x2158e8[_0x42b05b]=_0x2158e8[_0x11c8e2],_0x2158e8[_0x11c8e2]=async()=>{const _0x1d08fb=_0x3b1f6d;try{await _0x516921[_0x1d08fb(0x210)](_0x2158e8,_0x11c8e2,_0xf4db68);}catch(_0x1f769d){logger[_0x1d08fb(0x203)](_0x1d08fb(0x21c)+_0x11c8e2+_0x1d08fb(0x212)+_0x1f769d);}return await _0x2158e8[_0x42b05b]['apply'](_0x2158e8,arguments);};},exports['getPercyOptions']=_0x320b87=>{const _0x2db6fe=a107_0x486ef4,_0x263dd1={};_0x263dd1['rkkWw']=_0x2db6fe(0x20a);const _0x4aabd5=_0x263dd1,_0x1a319={};_0x1a319[_0x2db6fe(0x1e7)]=_0x320b87[_0x2db6fe(0x1e7)],_0x1a319['percyCaptureMode']=_0x320b87[_0x2db6fe(0x21f)]||_0x4aabd5[_0x2db6fe(0x1e8)];const _0x9eb347=_0x1a319;_0x320b87['percy']&&(_0x9eb347[_0x2db6fe(0x205)]=exports[_0x2db6fe(0x21b)](_0x320b87['platforms']));;return _0x9eb347;};