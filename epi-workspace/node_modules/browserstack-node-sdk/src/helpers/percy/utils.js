const a107_0x141d20=a107_0x4783;function a107_0x4783(_0x59bc7c,_0x265422){const _0x3942fe=a107_0x3942();return a107_0x4783=function(_0x478372,_0x38ae19){_0x478372=_0x478372-0x1b2;let _0x342d4b=_0x3942fe[_0x478372];return _0x342d4b;},a107_0x4783(_0x59bc7c,_0x265422);}(function(_0x1de602,_0x575d20){const _0x71ab86=a107_0x4783,_0x533b95=_0x1de602();while(!![]){try{const _0x538a8f=parseInt(_0x71ab86(0x1f5))/0x1+parseInt(_0x71ab86(0x1c3))/0x2+-parseInt(_0x71ab86(0x1c6))/0x3+-parseInt(_0x71ab86(0x1cf))/0x4+parseInt(_0x71ab86(0x1dc))/0x5*(-parseInt(_0x71ab86(0x1b9))/0x6)+-parseInt(_0x71ab86(0x1db))/0x7+parseInt(_0x71ab86(0x1e3))/0x8;if(_0x538a8f===_0x575d20)break;else _0x533b95['push'](_0x533b95['shift']());}catch(_0x24e693){_0x533b95['push'](_0x533b95['shift']());}}}(a107_0x3942,0x1c8fa));function a107_0x3942(){const _0x3a0770=['browserstackSessionName','../performance/constants','145016XFkFVT','nestedKeyValue','hGgkt','132900HbaazD','./PercyCaptureMap','overrideXforPercy','manual','../logger','percyAutoCapture','./PercyCaptureModes','init','error','8988hucMfQ','\x20for\x20percy\x20','getBestPlatformForPercySnapshot','kJuEL','Error\x20patching\x20','Stopping\x20percy','nOJeU','QvFpC','percy','kkhUI','../helper','patch','1337063MWVCCO','5VmYtoO','browserStackPercyOptions','driver','getName','then','Ogwnq','toLowerCase','1278760LtJdZM','element','Starting\x20percy','screenshotApp','browserName','QfvOm','stopPercy','deviceName','auto','browser','vxJIx','screenshot','uKYNA','app','edge','forEach','YKZlD','getDriver','186913rMAmkJ','measureWrapper','./PercySDK','start','mFmKB','platforms','percyCaptureMode','patchDriverPercy','debug','startPercy','AUTO_CAPTURE','apply','uNXyg','388344iNpxCv','firefox','browserstackPercyMap','prototype','safari','STOP','getPercyOptions','isUndefined'];a107_0x3942=function(){return _0x3a0770;};return a107_0x3942();}const Percy=require('./Percy'),PercySDK=require(a107_0x141d20(0x1f7)),PercyCaptureModes=require(a107_0x141d20(0x1cc)),PercyCaptureMap=require(a107_0x141d20(0x1c7)),logger=require(a107_0x141d20(0x1ca))['winstonLogger'],helper=require(a107_0x141d20(0x1d9)),PerformanceTester=require('../performance/performance-tester'),{PERCY_EVENTS:PerformanceEvents}=require(a107_0x141d20(0x1c2));exports[a107_0x141d20(0x1b5)]=PerformanceTester[a107_0x141d20(0x1f6)](PerformanceEvents['START'],async _0x3dc4d9=>{const _0x17db17=a107_0x141d20,_0x164088={};_0x164088[_0x17db17(0x1ef)]=_0x17db17(0x1e5);const _0x4ee83e=_0x164088;logger['debug'](_0x4ee83e['uKYNA']);const _0x329a45=new Percy(_0x3dc4d9),_0x5a669e=await _0x329a45[_0x17db17(0x1f8)]();if(_0x5a669e)return _0x329a45;return null;}),exports[a107_0x141d20(0x1e9)]=PerformanceTester[a107_0x141d20(0x1f6)](PerformanceEvents[a107_0x141d20(0x1be)],async _0x305572=>{const _0x2bd1f0=a107_0x141d20,_0x3e5852={};_0x3e5852[_0x2bd1f0(0x1d5)]=_0x2bd1f0(0x1d4);const _0x171eac=_0x3e5852;return logger[_0x2bd1f0(0x1b4)](_0x171eac[_0x2bd1f0(0x1d5)]),_0x305572['stop']();}),exports[a107_0x141d20(0x1d1)]=_0x312d45=>{const _0x190698=a107_0x141d20,_0xf99191={};_0xf99191[_0x190698(0x1b8)]=function(_0x1dd2cb,_0x28fc12){return _0x1dd2cb<_0x28fc12;};const _0x1b116c=_0xf99191,_0x3823f5={};_0x3823f5['chrome']=0x0,_0x3823f5[_0x190698(0x1ba)]=0x1,_0x3823f5[_0x190698(0x1f1)]=0x2,_0x3823f5[_0x190698(0x1bd)]=0x3;const _0x4ef59e=_0x3823f5;return _0x312d45['reduce']((_0x5aba32,_0x30d7b4,_0x43e661)=>{const _0x13b15c=_0x190698,_0x46b00c=_0x312d45[_0x5aba32];if(_0x30d7b4['deviceName'])return _0x5aba32;if(_0x46b00c[_0x13b15c(0x1ea)])return _0x43e661;const _0x341e1c=_0x30d7b4[_0x13b15c(0x1ec)]?_0x30d7b4['browser']:_0x30d7b4[_0x13b15c(0x1e7)];if(_0x341e1c&&_0x1b116c[_0x13b15c(0x1b8)](_0x4ef59e[_0x341e1c[_0x13b15c(0x1e2)]()],_0x4ef59e[_0x341e1c[_0x13b15c(0x1e2)]()]))return _0x43e661;return _0x5aba32;},0x0);},exports[a107_0x141d20(0x1cb)]=PerformanceTester['measureWrapper'](PerformanceEvents[a107_0x141d20(0x1b6)],async(_0x737331,_0x1286b5,_0x20609a)=>{const _0x55d63b=a107_0x141d20,_0xa1ed22={};_0xa1ed22[_0x55d63b(0x1d8)]='Couldn\x27t\x20capture\x20percy\x20screenshot,\x20no\x20session\x20name\x20present';const _0x1b24cc=_0xa1ed22,_0x18223c=_0x737331['browserstackPercyMap'];if(helper[_0x55d63b(0x1c0)](_0x737331[_0x55d63b(0x1c1)])){logger['debug'](_0x1b24cc['kkhUI']);return;}const _0x49137b=_0x18223c[_0x55d63b(0x1df)](_0x737331[_0x55d63b(0x1c1)],_0x1286b5);_0x20609a[_0x55d63b(0x1f0)]?await PercySDK[_0x55d63b(0x1e6)](_0x737331,_0x49137b):await PercySDK[_0x55d63b(0x1ee)](_0x737331,_0x49137b),_0x18223c['increment'](_0x737331[_0x55d63b(0x1c1)],_0x1286b5);}),exports[a107_0x141d20(0x1b3)]=(_0x249ba0,_0x253884,_0x3aaa1a)=>{const _0x2306a8=a107_0x141d20,_0xd27bf4={};_0xd27bf4[_0x2306a8(0x1c5)]='browserStackPercyOptions',_0xd27bf4[_0x2306a8(0x1ed)]=_0x2306a8(0x1d7),_0xd27bf4[_0x2306a8(0x1d6)]=function(_0x47bf65,_0x869f81){return _0x47bf65!==_0x869f81;},_0xd27bf4[_0x2306a8(0x1f3)]=_0x2306a8(0x1c9);const _0x1ed6fb=_0xd27bf4;if(!helper[_0x2306a8(0x1c4)](_0x3aaa1a,[_0x1ed6fb[_0x2306a8(0x1c5)],_0x1ed6fb[_0x2306a8(0x1ed)]]))return;if(_0x3aaa1a['browserStackPercyOptions']['percy']&&_0x3aaa1a[_0x2306a8(0x1dd)][_0x2306a8(0x1b2)]&&_0x1ed6fb[_0x2306a8(0x1d6)](_0x3aaa1a[_0x2306a8(0x1dd)]['percyCaptureMode'],_0x1ed6fb[_0x2306a8(0x1f3)])&&!_0x249ba0[_0x2306a8(0x1bb)]){global[_0x2306a8(0x1c1)]&&(_0x249ba0[_0x2306a8(0x1c1)]=global[_0x2306a8(0x1c1)]),_0x249ba0[_0x2306a8(0x1bb)]=new PercyCaptureMap();const _0x3b10d4=PercyCaptureModes[_0x3aaa1a['browserStackPercyOptions']['percyCaptureMode']];_0x3b10d4[_0x2306a8(0x1de)]&&_0x3b10d4[_0x2306a8(0x1de)][_0x2306a8(0x1f2)](_0x287651=>this[_0x2306a8(0x1c8)](_0x249ba0,_0x287651,_0x3aaa1a)),_0x3b10d4[_0x2306a8(0x1e4)]&&_0x3b10d4[_0x2306a8(0x1e4)]['forEach'](_0x1aca76=>{const _0x2b12f4=_0x2306a8;if(_0x253884[_0x2b12f4(0x1bc)][_0x2b12f4(0x1da)+_0x1aca76])return;_0x253884['prototype'][_0x2b12f4(0x1da)+_0x1aca76]=!![];const _0xa10852=_0x253884[_0x2b12f4(0x1bc)][_0x1aca76];_0x253884[_0x2b12f4(0x1bc)][_0x1aca76]=async function(){const _0x4d50f1=_0x2b12f4;let _0x3be9d9=_0xa10852[_0x4d50f1(0x1b7)](this,arguments);_0x3be9d9&&_0x3be9d9[_0x4d50f1(0x1e0)]&&(_0x3be9d9=await _0x3be9d9);try{const _0x55a744=this[_0x4d50f1(0x1f4)]();await exports[_0x4d50f1(0x1cb)](_0x55a744,_0x1aca76,_0x3aaa1a);}catch(_0x3e43e3){logger['error']('Error\x20patching\x20'+_0x1aca76+_0x4d50f1(0x1d0)+_0x3e43e3);}return _0x3be9d9;};});}},exports['overrideXforPercy']=function(_0x26774c,_0x4d0e13,_0x5db3ed){const _0x22beec=a107_0x141d20,_0x387e93={};_0x387e93[_0x22beec(0x1d2)]=function(_0x15295e,_0x522447){return _0x15295e+_0x522447;},_0x387e93[_0x22beec(0x1e8)]='patch',_0x387e93[_0x22beec(0x1f9)]=_0x22beec(0x1cd);const _0x39e5a6=_0x387e93,_0xbf60d6=_0x39e5a6[_0x22beec(0x1d2)](_0x39e5a6[_0x22beec(0x1e8)],_0x4d0e13),_0x205a6c=_0x39e5a6['kJuEL'](_0x39e5a6[_0x22beec(0x1f9)],_0x4d0e13),_0x5a8334=this;if(_0x26774c[_0xbf60d6]||!_0x26774c[_0x4d0e13])return;_0x26774c[_0xbf60d6]=!![],_0x26774c[_0x205a6c]=_0x26774c[_0x4d0e13],_0x26774c[_0x4d0e13]=async()=>{const _0x246bd1=_0x22beec;try{await _0x5a8334['percyAutoCapture'](_0x26774c,_0x4d0e13,_0x5db3ed);}catch(_0x4c03ba){logger[_0x246bd1(0x1ce)](_0x246bd1(0x1d3)+_0x4d0e13+_0x246bd1(0x1d0)+_0x4c03ba);}return await _0x26774c[_0x205a6c][_0x246bd1(0x1b7)](_0x26774c,arguments);};},exports[a107_0x141d20(0x1bf)]=_0x1351d3=>{const _0x260401=a107_0x141d20,_0x25cbbe={};_0x25cbbe[_0x260401(0x1e1)]=_0x260401(0x1eb);const _0xd0a7a6=_0x25cbbe,_0x437729={};_0x437729['percy']=_0x1351d3[_0x260401(0x1d7)],_0x437729[_0x260401(0x1b2)]=_0x1351d3['percyCaptureMode']||_0xd0a7a6[_0x260401(0x1e1)];const _0x1d60b1=_0x437729;_0x1351d3[_0x260401(0x1d7)]&&(_0x1d60b1['browserstackPercyBestPlatform']=exports[_0x260401(0x1d1)](_0x1351d3[_0x260401(0x1fa)]));;return _0x1d60b1;};