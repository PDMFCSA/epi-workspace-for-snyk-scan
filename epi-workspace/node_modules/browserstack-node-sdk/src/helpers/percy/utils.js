const a116_0x31d575=a116_0x4801;(function(_0x259baa,_0x3107ab){const _0x40d2bb=a116_0x4801,_0x317304=_0x259baa();while(!![]){try{const _0x4f7931=-parseInt(_0x40d2bb(0xae))/0x1+parseInt(_0x40d2bb(0xd2))/0x2+parseInt(_0x40d2bb(0xac))/0x3*(parseInt(_0x40d2bb(0xb1))/0x4)+parseInt(_0x40d2bb(0xb6))/0x5*(-parseInt(_0x40d2bb(0xa4))/0x6)+-parseInt(_0x40d2bb(0xbd))/0x7*(-parseInt(_0x40d2bb(0x88))/0x8)+parseInt(_0x40d2bb(0xc3))/0x9+-parseInt(_0x40d2bb(0xd1))/0xa;if(_0x4f7931===_0x3107ab)break;else _0x317304['push'](_0x317304['shift']());}catch(_0x111c2c){_0x317304['push'](_0x317304['shift']());}}}(a116_0x59b1,0x610f8));const Percy=require(a116_0x31d575(0xa9)),PercySDK=require('./PercySDK'),PercyCaptureModes=require('./PercyCaptureModes'),PercyCaptureMap=require('./PercyCaptureMap'),logger=require(a116_0x31d575(0x9c))[a116_0x31d575(0xa1)],helper=require(a116_0x31d575(0xad)),PerformanceTester=require(a116_0x31d575(0x93)),{PERCY_EVENTS:PerformanceEvents}=require(a116_0x31d575(0xc2));function a116_0x4801(_0x12525f,_0x2dc4a5){const _0x59b117=a116_0x59b1();return a116_0x4801=function(_0x4801b5,_0x32597e){_0x4801b5=_0x4801b5-0x88;let _0x3f8b9a=_0x59b117[_0x4801b5];return _0x3f8b9a;},a116_0x4801(_0x12525f,_0x2dc4a5);}function a116_0x59b1(){const _0x4777cc=['startPercy','../logger','prototype','safari','toLowerCase','Stopping\x20percy','winstonLogger','gVUyB','stopPercy','145176yuJkFx','percyAutoCapture','auto','yqnLC','Couldn\x27t\x20capture\x20percy\x20screenshot,\x20no\x20session\x20name\x20present','./Percy','edge','getName','1263jhOVkj','../helper','162866HkKFvH','browser','deviceName','764QePaoJ','stop','pTleY','screenshot','error','100rcIrjc','element','debug','rAvJU','browserName','pINNC','bxMit','4338124zyacSm','Starting\x20percy','percyCaptureMode','overrideXforPercy','screenshotApp','../performance/constants','6228045ewoQcI','getDriver','then','VTnML','oIKIM','reduce','nestedKeyValue','browserstackPercyMap','AUTO_CAPTURE','app','forEach','Hxtaa','MNAbJ','firefox','6836890RZrBUX','671774puQtpt','8VJrjly','cWuso','patch','browserStackPercyOptions','browserstackSessionName','patchDriverPercy','browserstackPercyBestPlatform','\x20for\x20percy\x20','measureWrapper','start','increment','../performance/performance-tester','getBestPlatformForPercySnapshot','driver','init','START','percy','manual','iqCwp'];a116_0x59b1=function(){return _0x4777cc;};return a116_0x59b1();}exports[a116_0x31d575(0x9b)]=PerformanceTester[a116_0x31d575(0x90)](PerformanceEvents[a116_0x31d575(0x97)],async _0x588b81=>{const _0x39e7cb=a116_0x31d575,_0x1838d3={};_0x1838d3[_0x39e7cb(0x89)]=_0x39e7cb(0xbe);const _0x272196=_0x1838d3;logger[_0x39e7cb(0xb8)](_0x272196[_0x39e7cb(0x89)]);const _0x1e6386=new Percy(_0x588b81),_0x55164c=await _0x1e6386[_0x39e7cb(0x91)]();if(_0x55164c)return _0x1e6386;return null;}),exports[a116_0x31d575(0xa3)]=PerformanceTester[a116_0x31d575(0x90)](PerformanceEvents['STOP'],async _0x1ee593=>{const _0x5b78ab=a116_0x31d575,_0xf7151f={};_0xf7151f[_0x5b78ab(0xb3)]=_0x5b78ab(0xa0);const _0x1c3ec9=_0xf7151f;return logger[_0x5b78ab(0xb8)](_0x1c3ec9['pTleY']),_0x1ee593[_0x5b78ab(0xb2)]();}),exports[a116_0x31d575(0x94)]=_0xf3b4e1=>{const _0x578ccb=a116_0x31d575,_0x59b7f9={};_0x59b7f9[_0x578ccb(0xbc)]=function(_0x33f1c5,_0x3d6f68){return _0x33f1c5<_0x3d6f68;};const _0x4e74c4=_0x59b7f9,_0x1a8433={};_0x1a8433['chrome']=0x0,_0x1a8433[_0x578ccb(0xd0)]=0x1,_0x1a8433[_0x578ccb(0xaa)]=0x2,_0x1a8433[_0x578ccb(0x9e)]=0x3;const _0x51e912=_0x1a8433;return _0xf3b4e1[_0x578ccb(0xc8)]((_0x3e21d7,_0x1c30c1,_0x47e65d)=>{const _0x4d9cda=_0x578ccb,_0x2c53e5=_0xf3b4e1[_0x3e21d7];if(_0x1c30c1['deviceName'])return _0x3e21d7;if(_0x2c53e5[_0x4d9cda(0xb0)])return _0x47e65d;const _0x35277e=_0x1c30c1[_0x4d9cda(0xaf)]?_0x1c30c1[_0x4d9cda(0xaf)]:_0x1c30c1[_0x4d9cda(0xba)];if(_0x35277e&&_0x4e74c4[_0x4d9cda(0xbc)](_0x51e912[_0x35277e['toLowerCase']()],_0x51e912[_0x35277e[_0x4d9cda(0x9f)]()]))return _0x47e65d;return _0x3e21d7;},0x0);},exports['percyAutoCapture']=PerformanceTester[a116_0x31d575(0x90)](PerformanceEvents[a116_0x31d575(0xcb)],async(_0x5c4852,_0x3bdaa9,_0x42e982)=>{const _0x63f145=a116_0x31d575,_0x1e6ed8={};_0x1e6ed8[_0x63f145(0xa2)]=_0x63f145(0xa8);const _0x72c917=_0x1e6ed8,_0x80b2d7=_0x5c4852['browserstackPercyMap'];if(helper['isUndefined'](_0x5c4852[_0x63f145(0x8c)])){logger['debug'](_0x72c917['gVUyB']);return;}const _0x358e56=_0x80b2d7[_0x63f145(0xab)](_0x5c4852[_0x63f145(0x8c)],_0x3bdaa9);_0x42e982[_0x63f145(0xcc)]?await PercySDK[_0x63f145(0xc1)](_0x5c4852,_0x358e56):await PercySDK[_0x63f145(0xb4)](_0x5c4852,_0x358e56),_0x80b2d7[_0x63f145(0x92)](_0x5c4852[_0x63f145(0x8c)],_0x3bdaa9);}),exports[a116_0x31d575(0x8d)]=(_0x527b8f,_0x26236e,_0xd74a6d)=>{const _0x260e30=a116_0x31d575,_0x175094={};_0x175094[_0x260e30(0xc6)]=_0x260e30(0x8b),_0x175094['MNAbJ']=_0x260e30(0x98),_0x175094[_0x260e30(0xc7)]=function(_0x140c2f,_0x392758){return _0x140c2f!==_0x392758;},_0x175094[_0x260e30(0xb9)]=_0x260e30(0x99);const _0x197e73=_0x175094;if(!helper[_0x260e30(0xc9)](_0xd74a6d,[_0x197e73[_0x260e30(0xc6)],_0x197e73[_0x260e30(0xcf)]]))return;if(_0xd74a6d['browserStackPercyOptions'][_0x260e30(0x98)]&&_0xd74a6d[_0x260e30(0x8b)][_0x260e30(0xbf)]&&_0x197e73[_0x260e30(0xc7)](_0xd74a6d[_0x260e30(0x8b)][_0x260e30(0xbf)],_0x197e73[_0x260e30(0xb9)])&&!_0x527b8f['browserstackPercyMap']){global['browserstackSessionName']&&(_0x527b8f[_0x260e30(0x8c)]=global[_0x260e30(0x8c)]),_0x527b8f[_0x260e30(0xca)]=new PercyCaptureMap();const _0x4f0816=PercyCaptureModes[_0xd74a6d[_0x260e30(0x8b)][_0x260e30(0xbf)]];_0x4f0816[_0x260e30(0x95)]&&_0x4f0816[_0x260e30(0x95)][_0x260e30(0xcd)](_0x2a51fa=>this[_0x260e30(0xc0)](_0x527b8f,_0x2a51fa,_0xd74a6d)),_0x4f0816[_0x260e30(0xb7)]&&_0x4f0816['element']['forEach'](_0x1d1248=>{const _0x31962d=_0x260e30;if(_0x26236e[_0x31962d(0x9d)][_0x31962d(0x8a)+_0x1d1248])return;_0x26236e[_0x31962d(0x9d)]['patch'+_0x1d1248]=!![];const _0x1b79b4=_0x26236e['prototype'][_0x1d1248];_0x26236e[_0x31962d(0x9d)][_0x1d1248]=async function(){const _0x5b1610=_0x31962d;let _0xf375e5=_0x1b79b4['apply'](this,arguments);_0xf375e5&&_0xf375e5[_0x5b1610(0xc5)]&&(_0xf375e5=await _0xf375e5);try{const _0x74bca6=this[_0x5b1610(0xc4)]();await exports[_0x5b1610(0xa5)](_0x74bca6,_0x1d1248,_0xd74a6d);}catch(_0x1b5b98){logger['error']('Error\x20patching\x20'+_0x1d1248+_0x5b1610(0x8f)+_0x1b5b98);}return _0xf375e5;};});}},exports[a116_0x31d575(0xc0)]=function(_0x1e969e,_0x44b8ca,_0x534c6b){const _0x421080=a116_0x31d575,_0x4465e6={};_0x4465e6[_0x421080(0xce)]=function(_0x231437,_0x385068){return _0x231437+_0x385068;},_0x4465e6[_0x421080(0xa7)]=_0x421080(0x8a),_0x4465e6[_0x421080(0x9a)]=_0x421080(0x96);const _0x3f22ed=_0x4465e6,_0x4872c5=_0x3f22ed[_0x421080(0xce)](_0x3f22ed[_0x421080(0xa7)],_0x44b8ca),_0xea6eae=_0x3f22ed['Hxtaa'](_0x3f22ed[_0x421080(0x9a)],_0x44b8ca),_0x548ed5=this;if(_0x1e969e[_0x4872c5]||!_0x1e969e[_0x44b8ca])return;_0x1e969e[_0x4872c5]=!![],_0x1e969e[_0xea6eae]=_0x1e969e[_0x44b8ca],_0x1e969e[_0x44b8ca]=async()=>{const _0x44ed0c=_0x421080;try{await _0x548ed5['percyAutoCapture'](_0x1e969e,_0x44b8ca,_0x534c6b);}catch(_0x558df3){logger[_0x44ed0c(0xb5)]('Error\x20patching\x20'+_0x44b8ca+_0x44ed0c(0x8f)+_0x558df3);}return await _0x1e969e[_0xea6eae]['apply'](_0x1e969e,arguments);};},exports['getPercyOptions']=_0x10e3fc=>{const _0x353b98=a116_0x31d575,_0x29045d={};_0x29045d[_0x353b98(0xbb)]=_0x353b98(0xa6);const _0x48f164=_0x29045d,_0x4044be={};_0x4044be[_0x353b98(0x98)]=_0x10e3fc['percy'],_0x4044be[_0x353b98(0xbf)]=_0x10e3fc['percyCaptureMode']||_0x48f164[_0x353b98(0xbb)];const _0xa7ad3=_0x4044be;_0x10e3fc[_0x353b98(0x98)]&&(_0xa7ad3[_0x353b98(0x8e)]=exports['getBestPlatformForPercySnapshot'](_0x10e3fc['platforms']));;return _0xa7ad3;};