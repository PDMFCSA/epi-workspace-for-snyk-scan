const a78_0x59b5bc=a78_0x36ff;(function(_0x180db4,_0x5599b4){const _0x16c740=a78_0x36ff,_0x510e27=_0x180db4();while(!![]){try{const _0x2bd82e=-parseInt(_0x16c740(0x12f))/0x1+parseInt(_0x16c740(0x13e))/0x2*(-parseInt(_0x16c740(0x139))/0x3)+-parseInt(_0x16c740(0x129))/0x4+parseInt(_0x16c740(0x12b))/0x5*(-parseInt(_0x16c740(0x14e))/0x6)+parseInt(_0x16c740(0x125))/0x7+parseInt(_0x16c740(0x14d))/0x8+parseInt(_0x16c740(0x140))/0x9*(parseInt(_0x16c740(0x146))/0xa);if(_0x2bd82e===_0x5599b4)break;else _0x510e27['push'](_0x510e27['shift']());}catch(_0x332c0a){_0x510e27['push'](_0x510e27['shift']());}}}(a78_0x1c29,0xe2637));function a78_0x36ff(_0x403345,_0x1b3872){const _0x1c2919=a78_0x1c29();return a78_0x36ff=function(_0x36ff05,_0x266b24){_0x36ff05=_0x36ff05-0x10e;let _0x4457c2=_0x1c2919[_0x36ff05];return _0x4457c2;},a78_0x36ff(_0x403345,_0x1b3872);}function a78_0x1c29(){const _0x59808e=['./PercyCaptureMap','Stopping\x20percy','./Percy','browserstackPercyMap','forEach','toLowerCase','patchDriverPercy','RvUAU','831QlUzmV','\x20for\x20percy\x20','measureWrapper','winstonLogger','../logger','1338hxESwP','IKGQN','28352187qsLnmJ','app','increment','isUndefined','AUTO_CAPTURE','driver','10NCGClm','screenshot','hIlMF','init','mRsnI','getBestPlatformForPercySnapshot','auto','12985144OHjrqu','4667442VPbFOy','browserStackPercyOptions','percyCaptureMode','browser','DlWLg','../performance/performance-tester','PGpMb','apply','manual','GQVmI','YDZWe','mtSSr','startPercy','xjAed','vlQDd','start','percyAutoCapture','./PercySDK','patch','deviceName','percy','BtLmK','safari','edge','error','chrome','browserName','overrideXforPercy','browserstackSessionName','screenshotApp','element','../helper','EBumQ','1148931spLGex','Starting\x20percy','stopPercy','browserstackPercyBestPlatform','6553232FFzUPg','nestedKeyValue','5tOJzDg','getDriver','stop','prototype','1408704JnnPEv','debug'];a78_0x1c29=function(){return _0x59808e;};return a78_0x1c29();}const Percy=require(a78_0x59b5bc(0x133)),PercySDK=require(a78_0x59b5bc(0x115)),PercyCaptureModes=require('./PercyCaptureModes'),PercyCaptureMap=require(a78_0x59b5bc(0x131)),logger=require(a78_0x59b5bc(0x13d))[a78_0x59b5bc(0x13c)],helper=require(a78_0x59b5bc(0x123)),PerformanceTester=require(a78_0x59b5bc(0x153)),{PERCY_EVENTS:PerformanceEvents}=require('../performance/constants');exports[a78_0x59b5bc(0x110)]=PerformanceTester[a78_0x59b5bc(0x13b)](PerformanceEvents['START'],async _0x910d70=>{const _0x12b592=a78_0x59b5bc,_0xfd7fbd={};_0xfd7fbd[_0x12b592(0x119)]=_0x12b592(0x126);const _0x3d9609=_0xfd7fbd;logger[_0x12b592(0x130)](_0x3d9609[_0x12b592(0x119)]);const _0x29f940=new Percy(_0x910d70),_0x4573bb=await _0x29f940[_0x12b592(0x113)]();if(_0x4573bb)return _0x29f940;return null;}),exports[a78_0x59b5bc(0x127)]=PerformanceTester[a78_0x59b5bc(0x13b)](PerformanceEvents['STOP'],async _0xb81f96=>{const _0x42f245=a78_0x59b5bc,_0xe664d5={};_0xe664d5[_0x42f245(0x13f)]=_0x42f245(0x132);const _0x4d64c1=_0xe664d5;return logger[_0x42f245(0x130)](_0x4d64c1[_0x42f245(0x13f)]),_0xb81f96[_0x42f245(0x12d)]();}),exports[a78_0x59b5bc(0x14b)]=_0xadce32=>{const _0x7e0a2d=a78_0x59b5bc,_0x7cf177={};_0x7cf177[_0x7e0a2d(0x148)]=function(_0x42563e,_0x189be3){return _0x42563e<_0x189be3;};const _0x48637=_0x7cf177,_0x20fef3={};_0x20fef3[_0x7e0a2d(0x11d)]=0x0,_0x20fef3['firefox']=0x1,_0x20fef3[_0x7e0a2d(0x11b)]=0x2,_0x20fef3[_0x7e0a2d(0x11a)]=0x3;const _0x4a1358=_0x20fef3;return _0xadce32['reduce']((_0x47bfb1,_0x4cf7fd,_0x35879e)=>{const _0x37f8ad=_0x7e0a2d,_0x4ab145=_0xadce32[_0x47bfb1];if(_0x4cf7fd[_0x37f8ad(0x117)])return _0x47bfb1;if(_0x4ab145['deviceName'])return _0x35879e;const _0x18f993=_0x4cf7fd[_0x37f8ad(0x151)]?_0x4cf7fd[_0x37f8ad(0x151)]:_0x4cf7fd[_0x37f8ad(0x11e)];if(_0x18f993&&_0x48637[_0x37f8ad(0x148)](_0x4a1358[_0x18f993[_0x37f8ad(0x136)]()],_0x4a1358[_0x18f993[_0x37f8ad(0x136)]()]))return _0x35879e;return _0x47bfb1;},0x0);},exports[a78_0x59b5bc(0x114)]=PerformanceTester[a78_0x59b5bc(0x13b)](PerformanceEvents[a78_0x59b5bc(0x144)],async(_0x5c59d8,_0x22cd70,_0x20c117)=>{const _0x3975ae=a78_0x59b5bc,_0x2d1a18={};_0x2d1a18[_0x3975ae(0x10f)]='Couldn\x27t\x20capture\x20percy\x20screenshot,\x20no\x20session\x20name\x20present';const _0x5f1bf8=_0x2d1a18,_0x46aca6=_0x5c59d8[_0x3975ae(0x134)];if(helper[_0x3975ae(0x143)](_0x5c59d8[_0x3975ae(0x120)])){logger['debug'](_0x5f1bf8[_0x3975ae(0x10f)]);return;}const _0x19ba38=_0x46aca6['getName'](_0x5c59d8[_0x3975ae(0x120)],_0x22cd70);_0x20c117[_0x3975ae(0x141)]?await PercySDK[_0x3975ae(0x121)](_0x5c59d8,_0x19ba38):await PercySDK[_0x3975ae(0x147)](_0x5c59d8,_0x19ba38),_0x46aca6[_0x3975ae(0x142)](_0x5c59d8['browserstackSessionName'],_0x22cd70);}),exports[a78_0x59b5bc(0x137)]=(_0x3518ea,_0x5ebff9,_0x587a15)=>{const _0x5e4174=a78_0x59b5bc,_0x1745fe={};_0x1745fe[_0x5e4174(0x111)]=_0x5e4174(0x14f),_0x1745fe[_0x5e4174(0x157)]=_0x5e4174(0x118),_0x1745fe[_0x5e4174(0x154)]=function(_0x2e2454,_0x4c6224){return _0x2e2454!==_0x4c6224;},_0x1745fe[_0x5e4174(0x124)]=_0x5e4174(0x156);const _0x2b919d=_0x1745fe;if(!helper[_0x5e4174(0x12a)](_0x587a15,[_0x2b919d[_0x5e4174(0x111)],_0x2b919d[_0x5e4174(0x157)]]))return;if(_0x587a15[_0x5e4174(0x14f)][_0x5e4174(0x118)]&&_0x587a15[_0x5e4174(0x14f)]['percyCaptureMode']&&_0x2b919d['PGpMb'](_0x587a15[_0x5e4174(0x14f)][_0x5e4174(0x150)],_0x2b919d[_0x5e4174(0x124)])&&!_0x3518ea[_0x5e4174(0x134)]){global[_0x5e4174(0x120)]&&(_0x3518ea[_0x5e4174(0x120)]=global[_0x5e4174(0x120)]),_0x3518ea['browserstackPercyMap']=new PercyCaptureMap();const _0x2229fb=PercyCaptureModes[_0x587a15[_0x5e4174(0x14f)][_0x5e4174(0x150)]];_0x2229fb[_0x5e4174(0x145)]&&_0x2229fb[_0x5e4174(0x145)][_0x5e4174(0x135)](_0x290ccd=>this[_0x5e4174(0x11f)](_0x3518ea,_0x290ccd,_0x587a15)),_0x2229fb[_0x5e4174(0x122)]&&_0x2229fb[_0x5e4174(0x122)]['forEach'](_0x11d434=>{const _0x156ab2=_0x5e4174;if(_0x5ebff9[_0x156ab2(0x12e)][_0x156ab2(0x116)+_0x11d434])return;_0x5ebff9[_0x156ab2(0x12e)][_0x156ab2(0x116)+_0x11d434]=!![];const _0xcd2e2=_0x5ebff9[_0x156ab2(0x12e)][_0x11d434];_0x5ebff9[_0x156ab2(0x12e)][_0x11d434]=async function(){const _0x18864c=_0x156ab2;let _0x416e37=_0xcd2e2['apply'](this,arguments);_0x416e37&&_0x416e37['then']&&(_0x416e37=await _0x416e37);try{const _0x13b2d4=this[_0x18864c(0x12c)]();await exports[_0x18864c(0x114)](_0x13b2d4,_0x11d434,_0x587a15);}catch(_0x51ed56){logger[_0x18864c(0x11c)]('Error\x20patching\x20'+_0x11d434+_0x18864c(0x13a)+_0x51ed56);}return _0x416e37;};});}},exports['overrideXforPercy']=function(_0x191e41,_0x5c170b,_0x18244a){const _0x553d28=a78_0x59b5bc,_0x26e071={};_0x26e071[_0x553d28(0x10e)]=function(_0xa8e32a,_0x553cbb){return _0xa8e32a+_0x553cbb;},_0x26e071[_0x553d28(0x138)]=_0x553d28(0x116),_0x26e071[_0x553d28(0x14a)]=function(_0x56a4a1,_0x14905f){return _0x56a4a1+_0x14905f;},_0x26e071[_0x553d28(0x112)]=_0x553d28(0x149);const _0x1b8663=_0x26e071,_0x50bce2=_0x1b8663[_0x553d28(0x10e)](_0x1b8663[_0x553d28(0x138)],_0x5c170b),_0x22bb11=_0x1b8663[_0x553d28(0x14a)](_0x1b8663[_0x553d28(0x112)],_0x5c170b),_0x4fe941=this;if(_0x191e41[_0x50bce2]||!_0x191e41[_0x5c170b])return;_0x191e41[_0x50bce2]=!![],_0x191e41[_0x22bb11]=_0x191e41[_0x5c170b],_0x191e41[_0x5c170b]=async()=>{const _0x65c6d2=_0x553d28;try{await _0x4fe941[_0x65c6d2(0x114)](_0x191e41,_0x5c170b,_0x18244a);}catch(_0x183da4){logger[_0x65c6d2(0x11c)]('Error\x20patching\x20'+_0x5c170b+_0x65c6d2(0x13a)+_0x183da4);}return await _0x191e41[_0x22bb11][_0x65c6d2(0x155)](_0x191e41,arguments);};},exports['getPercyOptions']=_0xd4ae1e=>{const _0x427f28=a78_0x59b5bc,_0x4910a2={};_0x4910a2[_0x427f28(0x152)]=_0x427f28(0x14c);const _0x37806c=_0x4910a2,_0x387482={};_0x387482[_0x427f28(0x118)]=_0xd4ae1e[_0x427f28(0x118)],_0x387482['percyCaptureMode']=_0xd4ae1e[_0x427f28(0x150)]||_0x37806c[_0x427f28(0x152)];const _0x433ddc=_0x387482;_0xd4ae1e[_0x427f28(0x118)]&&(_0x433ddc[_0x427f28(0x128)]=exports[_0x427f28(0x14b)](_0xd4ae1e['platforms']));;return _0x433ddc;};