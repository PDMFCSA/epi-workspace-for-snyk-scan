const a119_0x5e7ecd=a119_0x1f1a;function a119_0x1f1a(_0x523890,_0x452f29){const _0x1ca5d6=a119_0x1ca5();return a119_0x1f1a=function(_0x1f1ae0,_0x41d89f){_0x1f1ae0=_0x1f1ae0-0x11d;let _0x22981a=_0x1ca5d6[_0x1f1ae0];return _0x22981a;},a119_0x1f1a(_0x523890,_0x452f29);}(function(_0x2f1a78,_0x356f75){const _0x5dcee5=a119_0x1f1a,_0x304b61=_0x2f1a78();while(!![]){try{const _0x232a93=parseInt(_0x5dcee5(0x137))/0x1*(-parseInt(_0x5dcee5(0x15c))/0x2)+parseInt(_0x5dcee5(0x152))/0x3*(-parseInt(_0x5dcee5(0x121))/0x4)+parseInt(_0x5dcee5(0x153))/0x5*(-parseInt(_0x5dcee5(0x13b))/0x6)+-parseInt(_0x5dcee5(0x157))/0x7*(-parseInt(_0x5dcee5(0x161))/0x8)+parseInt(_0x5dcee5(0x162))/0x9+parseInt(_0x5dcee5(0x138))/0xa*(-parseInt(_0x5dcee5(0x148))/0xb)+parseInt(_0x5dcee5(0x13f))/0xc;if(_0x232a93===_0x356f75)break;else _0x304b61['push'](_0x304b61['shift']());}catch(_0x4ce1ee){_0x304b61['push'](_0x304b61['shift']());}}}(a119_0x1ca5,0xc9bda));const Percy=require('./Percy'),PercySDK=require(a119_0x5e7ecd(0x14c)),PercyCaptureModes=require(a119_0x5e7ecd(0x123)),PercyCaptureMap=require(a119_0x5e7ecd(0x127)),logger=require(a119_0x5e7ecd(0x14e))['winstonLogger'],helper=require(a119_0x5e7ecd(0x12c)),PerformanceTester=require(a119_0x5e7ecd(0x160)),{PERCY_EVENTS:PerformanceEvents}=require(a119_0x5e7ecd(0x15b));function a119_0x1ca5(){const _0x187fe4=['../helper','getBestPlatformForPercySnapshot','mvPjQ','browserStackPercyOptions','error','driver','debug','element','start','app','browserstackPercyBestPlatform','2969ZiHbsp','7400IdkFPC','forEach','screenshotApp','6vLVyug','auto','jlDKX','stop','48140256rrvuGS','toLowerCase','RwkWG','UlqqX','Starting\x20percy','percyCaptureMode','init','percy','browserstackPercyMap','23441zvtkmj','browserName','Error\x20patching\x20','XZCpY','./PercySDK','AUTO_CAPTURE','../logger','patch','stopPercy','kTSYb','2146140dNbvzW','8082995jZOgbj','browserstackSessionName','overrideXforPercy','WPZHm','5552911jlyPmi','screenshot','Hoqxi','firefox','../performance/constants','426diqlDE','WwsHw','safari','NPoYZ','../performance/performance-tester','8jqrEmz','11502585IBYEcj','START','deviceName','percyAutoCapture','apply','OZNgE','MyzUU','8BkwfzZ','Stopping\x20percy','./PercyCaptureModes','acvmP','getName','then','./PercyCaptureMap','getPercyOptions','measureWrapper','prototype','getDriver'];a119_0x1ca5=function(){return _0x187fe4;};return a119_0x1ca5();}exports['startPercy']=PerformanceTester[a119_0x5e7ecd(0x129)](PerformanceEvents[a119_0x5e7ecd(0x163)],async _0x3078c0=>{const _0x11f07d=a119_0x5e7ecd,_0x3ee080={};_0x3ee080[_0x11f07d(0x11f)]=_0x11f07d(0x143);const _0x534335=_0x3ee080;logger[_0x11f07d(0x132)](_0x534335[_0x11f07d(0x11f)]);const _0x3c9407=new Percy(_0x3078c0),_0x5f79bb=await _0x3c9407[_0x11f07d(0x134)]();if(_0x5f79bb)return _0x3c9407;return null;}),exports[a119_0x5e7ecd(0x150)]=PerformanceTester[a119_0x5e7ecd(0x129)](PerformanceEvents['STOP'],async _0x238a9f=>{const _0x3335ae=a119_0x5e7ecd,_0x214845={};_0x214845[_0x3335ae(0x13d)]=_0x3335ae(0x122);const _0x45d4e3=_0x214845;return logger['debug'](_0x45d4e3[_0x3335ae(0x13d)]),_0x238a9f[_0x3335ae(0x13e)]();}),exports[a119_0x5e7ecd(0x12d)]=_0x54c162=>{const _0x1efd36=a119_0x5e7ecd,_0x3dcb5e={};_0x3dcb5e[_0x1efd36(0x156)]=function(_0x5d7c2d,_0x821bff){return _0x5d7c2d<_0x821bff;};const _0x47c2aa=_0x3dcb5e,_0x5d527d={};_0x5d527d['chrome']=0x0,_0x5d527d[_0x1efd36(0x15a)]=0x1,_0x5d527d['edge']=0x2,_0x5d527d[_0x1efd36(0x15e)]=0x3;const _0x14b9ad=_0x5d527d;return _0x54c162['reduce']((_0x10ff5a,_0x3afb38,_0x52fcfd)=>{const _0x5589c4=_0x1efd36,_0x4df204=_0x54c162[_0x10ff5a];if(_0x3afb38[_0x5589c4(0x164)])return _0x10ff5a;if(_0x4df204[_0x5589c4(0x164)])return _0x52fcfd;const _0x4f053a=_0x3afb38['browser']?_0x3afb38['browser']:_0x3afb38[_0x5589c4(0x149)];if(_0x4f053a&&_0x47c2aa[_0x5589c4(0x156)](_0x14b9ad[_0x4f053a[_0x5589c4(0x140)]()],_0x14b9ad[_0x4f053a[_0x5589c4(0x140)]()]))return _0x52fcfd;return _0x10ff5a;},0x0);},exports[a119_0x5e7ecd(0x11d)]=PerformanceTester[a119_0x5e7ecd(0x129)](PerformanceEvents[a119_0x5e7ecd(0x14d)],async(_0xfa40b1,_0x177077,_0x1c2ed6)=>{const _0x5305a5=a119_0x5e7ecd,_0x15263c={};_0x15263c[_0x5305a5(0x14b)]='Couldn\x27t\x20capture\x20percy\x20screenshot,\x20no\x20session\x20name\x20present';const _0x529089=_0x15263c,_0x54a3cf=_0xfa40b1[_0x5305a5(0x147)];if(helper['isUndefined'](_0xfa40b1[_0x5305a5(0x154)])){logger[_0x5305a5(0x132)](_0x529089[_0x5305a5(0x14b)]);return;}const _0x125029=_0x54a3cf[_0x5305a5(0x125)](_0xfa40b1[_0x5305a5(0x154)],_0x177077);_0x1c2ed6[_0x5305a5(0x135)]?await PercySDK[_0x5305a5(0x13a)](_0xfa40b1,_0x125029):await PercySDK[_0x5305a5(0x158)](_0xfa40b1,_0x125029),_0x54a3cf['increment'](_0xfa40b1[_0x5305a5(0x154)],_0x177077);}),exports['patchDriverPercy']=(_0x5e683f,_0x2c787d,_0x152f4b)=>{const _0x238bd4=a119_0x5e7ecd,_0x314b6f={};_0x314b6f[_0x238bd4(0x151)]=_0x238bd4(0x12f),_0x314b6f[_0x238bd4(0x159)]='percy',_0x314b6f['UlqqX']=function(_0x25bea5,_0x4004ca){return _0x25bea5!==_0x4004ca;},_0x314b6f[_0x238bd4(0x124)]='manual';const _0x1407b2=_0x314b6f;if(!helper['nestedKeyValue'](_0x152f4b,[_0x1407b2[_0x238bd4(0x151)],_0x1407b2['Hoqxi']]))return;if(_0x152f4b[_0x238bd4(0x12f)][_0x238bd4(0x146)]&&_0x152f4b[_0x238bd4(0x12f)][_0x238bd4(0x144)]&&_0x1407b2[_0x238bd4(0x142)](_0x152f4b['browserStackPercyOptions'][_0x238bd4(0x144)],_0x1407b2[_0x238bd4(0x124)])&&!_0x5e683f[_0x238bd4(0x147)]){global['browserstackSessionName']&&(_0x5e683f['browserstackSessionName']=global['browserstackSessionName']),_0x5e683f[_0x238bd4(0x147)]=new PercyCaptureMap();const _0x46b825=PercyCaptureModes[_0x152f4b[_0x238bd4(0x12f)][_0x238bd4(0x144)]];_0x46b825[_0x238bd4(0x131)]&&_0x46b825[_0x238bd4(0x131)][_0x238bd4(0x139)](_0x251b52=>this[_0x238bd4(0x155)](_0x5e683f,_0x251b52,_0x152f4b)),_0x46b825[_0x238bd4(0x133)]&&_0x46b825[_0x238bd4(0x133)][_0x238bd4(0x139)](_0x551819=>{const _0x5ef8ec=_0x238bd4;if(_0x2c787d[_0x5ef8ec(0x12a)]['patch'+_0x551819])return;_0x2c787d['prototype'][_0x5ef8ec(0x14f)+_0x551819]=!![];const _0x5a87a5=_0x2c787d[_0x5ef8ec(0x12a)][_0x551819];_0x2c787d['prototype'][_0x551819]=async function(){const _0xcf1a5d=_0x5ef8ec;let _0x26540d=_0x5a87a5[_0xcf1a5d(0x11e)](this,arguments);_0x26540d&&_0x26540d[_0xcf1a5d(0x126)]&&(_0x26540d=await _0x26540d);try{const _0x80e58e=this[_0xcf1a5d(0x12b)]();await exports[_0xcf1a5d(0x11d)](_0x80e58e,_0x551819,_0x152f4b);}catch(_0x478d03){logger[_0xcf1a5d(0x130)]('Error\x20patching\x20'+_0x551819+'\x20for\x20percy\x20'+_0x478d03);}return _0x26540d;};});}},exports[a119_0x5e7ecd(0x155)]=function(_0x422d83,_0x9607d6,_0x91db3e){const _0x376867=a119_0x5e7ecd,_0x5870cd={};_0x5870cd[_0x376867(0x120)]=function(_0x3e15d8,_0x23b8b8){return _0x3e15d8+_0x23b8b8;},_0x5870cd['NPoYZ']='patch',_0x5870cd['RwkWG']=function(_0x388447,_0x158d7f){return _0x388447+_0x158d7f;},_0x5870cd['WwsHw']=_0x376867(0x145);const _0xd0214=_0x5870cd,_0x32d367=_0xd0214[_0x376867(0x120)](_0xd0214[_0x376867(0x15f)],_0x9607d6),_0x4706cd=_0xd0214[_0x376867(0x141)](_0xd0214[_0x376867(0x15d)],_0x9607d6),_0x27f84a=this;if(_0x422d83[_0x32d367]||!_0x422d83[_0x9607d6])return;_0x422d83[_0x32d367]=!![],_0x422d83[_0x4706cd]=_0x422d83[_0x9607d6],_0x422d83[_0x9607d6]=async()=>{const _0x33b722=_0x376867;try{await _0x27f84a[_0x33b722(0x11d)](_0x422d83,_0x9607d6,_0x91db3e);}catch(_0x3f247d){logger['error'](_0x33b722(0x14a)+_0x9607d6+'\x20for\x20percy\x20'+_0x3f247d);}return await _0x422d83[_0x4706cd][_0x33b722(0x11e)](_0x422d83,arguments);};},exports[a119_0x5e7ecd(0x128)]=_0xf20884=>{const _0x37eb3d=a119_0x5e7ecd,_0x55436e={};_0x55436e[_0x37eb3d(0x12e)]=_0x37eb3d(0x13c);const _0x4ca26b=_0x55436e,_0x587b99={};_0x587b99[_0x37eb3d(0x146)]=_0xf20884['percy'],_0x587b99[_0x37eb3d(0x144)]=_0xf20884['percyCaptureMode']||_0x4ca26b[_0x37eb3d(0x12e)];const _0x3cd971=_0x587b99;_0xf20884['percy']&&(_0x3cd971[_0x37eb3d(0x136)]=exports['getBestPlatformForPercySnapshot'](_0xf20884['platforms']));;return _0x3cd971;};