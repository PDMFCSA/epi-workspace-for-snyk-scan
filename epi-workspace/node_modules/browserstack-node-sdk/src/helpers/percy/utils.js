const a78_0x272159=a78_0x54c5;function a78_0x54c5(_0x5a866e,_0x535173){const _0x12fc36=a78_0x12fc();return a78_0x54c5=function(_0x54c528,_0x227a13){_0x54c528=_0x54c528-0x129;let _0xa0331b=_0x12fc36[_0x54c528];return _0xa0331b;},a78_0x54c5(_0x5a866e,_0x535173);}(function(_0x1e1492,_0x42e696){const _0x3c7f45=a78_0x54c5,_0x32ea69=_0x1e1492();while(!![]){try{const _0x5b7e55=-parseInt(_0x3c7f45(0x129))/0x1*(-parseInt(_0x3c7f45(0x16b))/0x2)+parseInt(_0x3c7f45(0x154))/0x3+parseInt(_0x3c7f45(0x146))/0x4*(parseInt(_0x3c7f45(0x167))/0x5)+-parseInt(_0x3c7f45(0x155))/0x6*(-parseInt(_0x3c7f45(0x145))/0x7)+parseInt(_0x3c7f45(0x15b))/0x8+parseInt(_0x3c7f45(0x14d))/0x9+-parseInt(_0x3c7f45(0x169))/0xa;if(_0x5b7e55===_0x42e696)break;else _0x32ea69['push'](_0x32ea69['shift']());}catch(_0x4e357c){_0x32ea69['push'](_0x32ea69['shift']());}}}(a78_0x12fc,0x6e681));function a78_0x12fc(){const _0x1ffb3d=['start','ZyBpt','372447RvoLWX','winstonLogger','eyORD','../performance/performance-tester','browserName','auto','Stopping\x20percy','397794sUKudk','2924958DfSfye','element','app','then','./PercyCaptureMap','./PercyCaptureModes','5493360XBnmZq','nJvqu','STOP','percyAutoCapture','deviceName','WwIDM','getBestPlatformForPercySnapshot','screenshot','./Percy','percy','AeHQP','../helper','5PWtQnB','manual','16215920vAYUMH','Error\x20patching\x20','28RgKdfT','getDriver','apply','\x20for\x20percy\x20','screenshotApp','startPercy','kXIPF','38266UkMwdn','./PercySDK','browser','stopPercy','boHvl','stop','browserstackPercyBestPlatform','../performance/constants','fCuTM','KzmSv','browserstackPercyMap','driver','increment','browserstackSessionName','SpCbA','patch','mayFo','reduce','percyCaptureMode','getName','firefox','init','forEach','START','quCnx','browserStackPercyOptions','measureWrapper','safari','7SaOtfp','759796qlsIYo','BUFbf','debug','prototype','chrome'];a78_0x12fc=function(){return _0x1ffb3d;};return a78_0x12fc();}const Percy=require(a78_0x272159(0x163)),PercySDK=require(a78_0x272159(0x12a)),PercyCaptureModes=require(a78_0x272159(0x15a)),PercyCaptureMap=require(a78_0x272159(0x159)),logger=require('../logger')[a78_0x272159(0x14e)],helper=require(a78_0x272159(0x166)),PerformanceTester=require(a78_0x272159(0x150)),{PERCY_EVENTS:PerformanceEvents}=require(a78_0x272159(0x130));exports[a78_0x272159(0x170)]=PerformanceTester[a78_0x272159(0x143)](PerformanceEvents[a78_0x272159(0x140)],async _0x13fde0=>{const _0x1b6431=a78_0x272159,_0x17927a={};_0x17927a[_0x1b6431(0x15c)]='Starting\x20percy';const _0x1432f1=_0x17927a;logger['debug'](_0x1432f1[_0x1b6431(0x15c)]);const _0x41a37a=new Percy(_0x13fde0),_0x3bb0cb=await _0x41a37a[_0x1b6431(0x14b)]();if(_0x3bb0cb)return _0x41a37a;return null;}),exports[a78_0x272159(0x12c)]=PerformanceTester[a78_0x272159(0x143)](PerformanceEvents[a78_0x272159(0x15d)],async _0x5191c8=>{const _0x1c97f4=a78_0x272159,_0x190dde={};_0x190dde[_0x1c97f4(0x165)]=_0x1c97f4(0x153);const _0x67dde4=_0x190dde;return logger[_0x1c97f4(0x148)](_0x67dde4['AeHQP']),_0x5191c8[_0x1c97f4(0x12e)]();}),exports[a78_0x272159(0x161)]=_0xc99858=>{const _0x58ebf6=a78_0x272159,_0x238b44={};_0x238b44[_0x58ebf6(0x171)]=function(_0x52dbf1,_0x11e257){return _0x52dbf1<_0x11e257;};const _0x2c4dce=_0x238b44,_0x3fc03d={};_0x3fc03d[_0x58ebf6(0x14a)]=0x0,_0x3fc03d[_0x58ebf6(0x13d)]=0x1,_0x3fc03d['edge']=0x2,_0x3fc03d[_0x58ebf6(0x144)]=0x3;const _0x4b1f6b=_0x3fc03d;return _0xc99858[_0x58ebf6(0x13a)]((_0x153f3e,_0x51f062,_0x3e951c)=>{const _0x1801de=_0x58ebf6,_0x9a580f=_0xc99858[_0x153f3e];if(_0x51f062[_0x1801de(0x15f)])return _0x153f3e;if(_0x9a580f[_0x1801de(0x15f)])return _0x3e951c;const _0x3fac2d=_0x51f062[_0x1801de(0x12b)]?_0x51f062[_0x1801de(0x12b)]:_0x51f062[_0x1801de(0x151)];if(_0x3fac2d&&_0x2c4dce[_0x1801de(0x171)](_0x4b1f6b[_0x3fac2d['toLowerCase']()],_0x4b1f6b[_0x3fac2d['toLowerCase']()]))return _0x3e951c;return _0x153f3e;},0x0);},exports[a78_0x272159(0x15e)]=PerformanceTester[a78_0x272159(0x143)](PerformanceEvents['AUTO_CAPTURE'],async(_0x52580e,_0xd7de91,_0x101516)=>{const _0xb4ada8=a78_0x272159,_0x423309={};_0x423309[_0xb4ada8(0x141)]='Couldn\x27t\x20capture\x20percy\x20screenshot,\x20no\x20session\x20name\x20present';const _0x507706=_0x423309,_0x3c8f5e=_0x52580e[_0xb4ada8(0x133)];if(helper['isUndefined'](_0x52580e[_0xb4ada8(0x136)])){logger['debug'](_0x507706['quCnx']);return;}const _0x474da8=_0x3c8f5e[_0xb4ada8(0x13c)](_0x52580e[_0xb4ada8(0x136)],_0xd7de91);_0x101516[_0xb4ada8(0x157)]?await PercySDK[_0xb4ada8(0x16f)](_0x52580e,_0x474da8):await PercySDK[_0xb4ada8(0x162)](_0x52580e,_0x474da8),_0x3c8f5e[_0xb4ada8(0x135)](_0x52580e[_0xb4ada8(0x136)],_0xd7de91);}),exports['patchDriverPercy']=(_0x4ee927,_0x1b8f98,_0x4248ab)=>{const _0x1baad4=a78_0x272159,_0x3469c1={};_0x3469c1[_0x1baad4(0x14f)]='browserStackPercyOptions',_0x3469c1[_0x1baad4(0x139)]='percy',_0x3469c1['SpCbA']=function(_0x285e9b,_0x47707a){return _0x285e9b!==_0x47707a;},_0x3469c1[_0x1baad4(0x14c)]=_0x1baad4(0x168);const _0x2c3d7b=_0x3469c1;if(!helper['nestedKeyValue'](_0x4248ab,[_0x2c3d7b[_0x1baad4(0x14f)],_0x2c3d7b[_0x1baad4(0x139)]]))return;if(_0x4248ab[_0x1baad4(0x142)][_0x1baad4(0x164)]&&_0x4248ab[_0x1baad4(0x142)][_0x1baad4(0x13b)]&&_0x2c3d7b[_0x1baad4(0x137)](_0x4248ab[_0x1baad4(0x142)][_0x1baad4(0x13b)],_0x2c3d7b[_0x1baad4(0x14c)])&&!_0x4ee927['browserstackPercyMap']){global[_0x1baad4(0x136)]&&(_0x4ee927[_0x1baad4(0x136)]=global[_0x1baad4(0x136)]),_0x4ee927[_0x1baad4(0x133)]=new PercyCaptureMap();const _0x264087=PercyCaptureModes[_0x4248ab[_0x1baad4(0x142)][_0x1baad4(0x13b)]];_0x264087[_0x1baad4(0x134)]&&_0x264087['driver'][_0x1baad4(0x13f)](_0x574ec3=>this['overrideXforPercy'](_0x4ee927,_0x574ec3,_0x4248ab)),_0x264087[_0x1baad4(0x156)]&&_0x264087[_0x1baad4(0x156)][_0x1baad4(0x13f)](_0x388301=>{const _0x142842=_0x1baad4;if(_0x1b8f98[_0x142842(0x149)]['patch'+_0x388301])return;_0x1b8f98[_0x142842(0x149)][_0x142842(0x138)+_0x388301]=!![];const _0x45c416=_0x1b8f98[_0x142842(0x149)][_0x388301];_0x1b8f98[_0x142842(0x149)][_0x388301]=async function(){const _0x7b690c=_0x142842;let _0x3ad0b5=_0x45c416['apply'](this,arguments);_0x3ad0b5&&_0x3ad0b5[_0x7b690c(0x158)]&&(_0x3ad0b5=await _0x3ad0b5);try{const _0x332ec3=this[_0x7b690c(0x16c)]();await exports['percyAutoCapture'](_0x332ec3,_0x388301,_0x4248ab);}catch(_0x1ba5e3){logger['error']('Error\x20patching\x20'+_0x388301+_0x7b690c(0x16e)+_0x1ba5e3);}return _0x3ad0b5;};});}},exports['overrideXforPercy']=function(_0x200031,_0x382df8,_0x2251ce){const _0x952bf6=a78_0x272159,_0x247985={};_0x247985[_0x952bf6(0x132)]=function(_0x307448,_0x18541a){return _0x307448+_0x18541a;},_0x247985[_0x952bf6(0x131)]=_0x952bf6(0x138),_0x247985[_0x952bf6(0x160)]=function(_0x566c82,_0x8f5d64){return _0x566c82+_0x8f5d64;},_0x247985[_0x952bf6(0x147)]=_0x952bf6(0x13e);const _0x404d81=_0x247985,_0x40fcf8=_0x404d81[_0x952bf6(0x132)](_0x404d81['fCuTM'],_0x382df8),_0x1a1a5b=_0x404d81[_0x952bf6(0x160)](_0x404d81[_0x952bf6(0x147)],_0x382df8),_0x9e267c=this;if(_0x200031[_0x40fcf8]||!_0x200031[_0x382df8])return;_0x200031[_0x40fcf8]=!![],_0x200031[_0x1a1a5b]=_0x200031[_0x382df8],_0x200031[_0x382df8]=async()=>{const _0x34a539=_0x952bf6;try{await _0x9e267c[_0x34a539(0x15e)](_0x200031,_0x382df8,_0x2251ce);}catch(_0x288f93){logger['error'](_0x34a539(0x16a)+_0x382df8+'\x20for\x20percy\x20'+_0x288f93);}return await _0x200031[_0x1a1a5b][_0x34a539(0x16d)](_0x200031,arguments);};},exports['getPercyOptions']=_0x33894c=>{const _0x390ed9=a78_0x272159,_0xd45b60={};_0xd45b60['boHvl']=_0x390ed9(0x152);const _0xd10df6=_0xd45b60,_0x14a2a0={};_0x14a2a0[_0x390ed9(0x164)]=_0x33894c['percy'],_0x14a2a0['percyCaptureMode']=_0x33894c[_0x390ed9(0x13b)]||_0xd10df6[_0x390ed9(0x12d)];const _0x181169=_0x14a2a0;_0x33894c[_0x390ed9(0x164)]&&(_0x181169[_0x390ed9(0x12f)]=exports['getBestPlatformForPercySnapshot'](_0x33894c['platforms']));;return _0x181169;};