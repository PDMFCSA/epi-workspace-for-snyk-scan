const a78_0x123d48=a78_0x2769;function a78_0x2769(_0x5bfc4e,_0x5c8f05){const _0xf22a04=a78_0xf22a();return a78_0x2769=function(_0x2769bb,_0x1304f7){_0x2769bb=_0x2769bb-0x178;let _0x303e74=_0xf22a04[_0x2769bb];return _0x303e74;},a78_0x2769(_0x5bfc4e,_0x5c8f05);}(function(_0x4a4f74,_0x3e1240){const _0xc4ec87=a78_0x2769,_0x110bc2=_0x4a4f74();while(!![]){try{const _0x470213=-parseInt(_0xc4ec87(0x17a))/0x1*(-parseInt(_0xc4ec87(0x197))/0x2)+-parseInt(_0xc4ec87(0x189))/0x3*(-parseInt(_0xc4ec87(0x188))/0x4)+parseInt(_0xc4ec87(0x181))/0x5*(parseInt(_0xc4ec87(0x195))/0x6)+-parseInt(_0xc4ec87(0x196))/0x7+parseInt(_0xc4ec87(0x1a5))/0x8+-parseInt(_0xc4ec87(0x1a8))/0x9*(-parseInt(_0xc4ec87(0x1b0))/0xa)+-parseInt(_0xc4ec87(0x17d))/0xb*(parseInt(_0xc4ec87(0x198))/0xc);if(_0x470213===_0x3e1240)break;else _0x110bc2['push'](_0x110bc2['shift']());}catch(_0x23aa88){_0x110bc2['push'](_0x110bc2['shift']());}}}(a78_0xf22a,0x7c971));const Percy=require('./Percy'),PercySDK=require('./PercySDK'),PercyCaptureModes=require(a78_0x123d48(0x179)),PercyCaptureMap=require(a78_0x123d48(0x187)),logger=require(a78_0x123d48(0x1a7))[a78_0x123d48(0x19b)],helper=require(a78_0x123d48(0x17b)),PerformanceTester=require(a78_0x123d48(0x18e)),{PERCY_EVENTS:PerformanceEvents}=require(a78_0x123d48(0x1ac));function a78_0xf22a(){const _0x241dbd=['patch','browserstackPercyBestPlatform','start','JNQGG','edge','Stopping\x20percy','vaUoj','4397424xgpCPn','measureWrapper','../logger','14841RULVLd','getDriver','startPercy','Error\x20patching\x20','../performance/constants','browser','debug','Couldn\x27t\x20capture\x20percy\x20screenshot,\x20no\x20session\x20name\x20present','2910zWDLZQ','percyCaptureMode','toLowerCase','ZvoiQ','screenshot','CxidG','driver','browserStackPercyOptions','deviceName','STOP','getBestPlatformForPercySnapshot','dVhZD','browserstackSessionName','app','chrome','manual','then','./PercyCaptureModes','9gzCHRn','../helper','percyAutoCapture','121bCqQag','AUTO_CAPTURE','getPercyOptions','IySTe','5CAjujY','percy','increment','NGVbH','prototype','element','./PercyCaptureMap','24jNrlzD','350085Kqasvt','hBLkh','browserstackPercyMap','forEach','kfQfw','../performance/performance-tester','auto','EFWwe','platforms','init','vJxMv','overrideXforPercy','5068302zKSCWv','1252930LaUgbY','14068kVXrAp','2125548ocAirT','\x20for\x20percy\x20','XBEGj','winstonLogger','error','reduce'];a78_0xf22a=function(){return _0x241dbd;};return a78_0xf22a();}exports[a78_0x123d48(0x1aa)]=PerformanceTester[a78_0x123d48(0x1a6)](PerformanceEvents['START'],async _0x1c78c9=>{const _0x987f9c=a78_0x123d48,_0x1a285b={};_0x1a285b['hBLkh']='Starting\x20percy';const _0x1298b1=_0x1a285b;logger['debug'](_0x1298b1[_0x987f9c(0x18a)]);const _0x4f1f62=new Percy(_0x1c78c9),_0x1be964=await _0x4f1f62[_0x987f9c(0x1a0)]();if(_0x1be964)return _0x4f1f62;return null;}),exports['stopPercy']=PerformanceTester[a78_0x123d48(0x1a6)](PerformanceEvents[a78_0x123d48(0x1b9)],async _0xcaa525=>{const _0x2460c4=a78_0x123d48,_0x30f66b={};_0x30f66b[_0x2460c4(0x19a)]=_0x2460c4(0x1a3);const _0x15c4e1=_0x30f66b;return logger[_0x2460c4(0x1ae)](_0x15c4e1[_0x2460c4(0x19a)]),_0xcaa525['stop']();}),exports[a78_0x123d48(0x1ba)]=_0x4a1f50=>{const _0x47dddb=a78_0x123d48,_0x50db47={};_0x50db47[_0x47dddb(0x193)]=function(_0x24cb92,_0x45f37e){return _0x24cb92<_0x45f37e;};const _0x3ef3d5=_0x50db47,_0x3e9314={};_0x3e9314[_0x47dddb(0x1be)]=0x0,_0x3e9314['firefox']=0x1,_0x3e9314[_0x47dddb(0x1a2)]=0x2,_0x3e9314['safari']=0x3;const _0x14c748=_0x3e9314;return _0x4a1f50[_0x47dddb(0x19d)]((_0x83cd80,_0x2b1f92,_0x4ee8ae)=>{const _0x3964fe=_0x47dddb,_0x1e21b3=_0x4a1f50[_0x83cd80];if(_0x2b1f92[_0x3964fe(0x1b8)])return _0x83cd80;if(_0x1e21b3[_0x3964fe(0x1b8)])return _0x4ee8ae;const _0x5e8418=_0x2b1f92['browser']?_0x2b1f92[_0x3964fe(0x1ad)]:_0x2b1f92['browserName'];if(_0x5e8418&&_0x3ef3d5[_0x3964fe(0x193)](_0x14c748[_0x5e8418[_0x3964fe(0x1b2)]()],_0x14c748[_0x5e8418[_0x3964fe(0x1b2)]()]))return _0x4ee8ae;return _0x83cd80;},0x0);},exports[a78_0x123d48(0x17c)]=PerformanceTester[a78_0x123d48(0x1a6)](PerformanceEvents[a78_0x123d48(0x17e)],async(_0x35593d,_0x5044b0,_0x4ea335)=>{const _0xbac311=a78_0x123d48,_0x42ec87={};_0x42ec87[_0xbac311(0x1bb)]=_0xbac311(0x1af);const _0x29e110=_0x42ec87,_0x683872=_0x35593d[_0xbac311(0x18b)];if(helper['isUndefined'](_0x35593d[_0xbac311(0x1bc)])){logger[_0xbac311(0x1ae)](_0x29e110['dVhZD']);return;}const _0x1e32a6=_0x683872['getName'](_0x35593d[_0xbac311(0x1bc)],_0x5044b0);_0x4ea335[_0xbac311(0x1bd)]?await PercySDK['screenshotApp'](_0x35593d,_0x1e32a6):await PercySDK[_0xbac311(0x1b4)](_0x35593d,_0x1e32a6),_0x683872[_0xbac311(0x183)](_0x35593d[_0xbac311(0x1bc)],_0x5044b0);}),exports['patchDriverPercy']=(_0x3adf30,_0x53f6fd,_0x5c0c55)=>{const _0x2031b1=a78_0x123d48,_0x111f5b={};_0x111f5b[_0x2031b1(0x1b5)]='browserStackPercyOptions',_0x111f5b[_0x2031b1(0x1a1)]=_0x2031b1(0x182),_0x111f5b[_0x2031b1(0x190)]=function(_0x2ba98e,_0x264d92){return _0x2ba98e!==_0x264d92;},_0x111f5b[_0x2031b1(0x1a4)]=_0x2031b1(0x1bf);const _0x48e963=_0x111f5b;if(!helper['nestedKeyValue'](_0x5c0c55,[_0x48e963[_0x2031b1(0x1b5)],_0x48e963[_0x2031b1(0x1a1)]]))return;if(_0x5c0c55[_0x2031b1(0x1b7)][_0x2031b1(0x182)]&&_0x5c0c55[_0x2031b1(0x1b7)]['percyCaptureMode']&&_0x48e963['EFWwe'](_0x5c0c55[_0x2031b1(0x1b7)]['percyCaptureMode'],_0x48e963[_0x2031b1(0x1a4)])&&!_0x3adf30[_0x2031b1(0x18b)]){global[_0x2031b1(0x1bc)]&&(_0x3adf30[_0x2031b1(0x1bc)]=global[_0x2031b1(0x1bc)]),_0x3adf30['browserstackPercyMap']=new PercyCaptureMap();const _0x29f048=PercyCaptureModes[_0x5c0c55[_0x2031b1(0x1b7)][_0x2031b1(0x1b1)]];_0x29f048[_0x2031b1(0x1b6)]&&_0x29f048[_0x2031b1(0x1b6)]['forEach'](_0x109f48=>this[_0x2031b1(0x194)](_0x3adf30,_0x109f48,_0x5c0c55)),_0x29f048[_0x2031b1(0x186)]&&_0x29f048[_0x2031b1(0x186)][_0x2031b1(0x18c)](_0xb97ffd=>{const _0x2543ca=_0x2031b1;if(_0x53f6fd['prototype']['patch'+_0xb97ffd])return;_0x53f6fd[_0x2543ca(0x185)][_0x2543ca(0x19e)+_0xb97ffd]=!![];const _0x3fcb61=_0x53f6fd[_0x2543ca(0x185)][_0xb97ffd];_0x53f6fd[_0x2543ca(0x185)][_0xb97ffd]=async function(){const _0x19b66c=_0x2543ca;let _0x3f78ce=_0x3fcb61['apply'](this,arguments);_0x3f78ce&&_0x3f78ce[_0x19b66c(0x178)]&&(_0x3f78ce=await _0x3f78ce);try{const _0x17bf67=this[_0x19b66c(0x1a9)]();await exports['percyAutoCapture'](_0x17bf67,_0xb97ffd,_0x5c0c55);}catch(_0x388427){logger['error'](_0x19b66c(0x1ab)+_0xb97ffd+_0x19b66c(0x199)+_0x388427);}return _0x3f78ce;};});}},exports[a78_0x123d48(0x194)]=function(_0x3ceee3,_0x39f320,_0x1b0b3a){const _0x191b54=a78_0x123d48,_0x3f01d9={};_0x3f01d9['HVPpn']=function(_0x450e1f,_0x210393){return _0x450e1f+_0x210393;},_0x3f01d9[_0x191b54(0x1b3)]='patch',_0x3f01d9[_0x191b54(0x18d)]=function(_0x23901b,_0xc4bc2b){return _0x23901b+_0xc4bc2b;},_0x3f01d9[_0x191b54(0x184)]=_0x191b54(0x192);const _0xec661d=_0x3f01d9,_0x4a9cdc=_0xec661d['HVPpn'](_0xec661d[_0x191b54(0x1b3)],_0x39f320),_0x2f7f0f=_0xec661d['kfQfw'](_0xec661d[_0x191b54(0x184)],_0x39f320),_0x51e5be=this;if(_0x3ceee3[_0x4a9cdc]||!_0x3ceee3[_0x39f320])return;_0x3ceee3[_0x4a9cdc]=!![],_0x3ceee3[_0x2f7f0f]=_0x3ceee3[_0x39f320],_0x3ceee3[_0x39f320]=async()=>{const _0x24aece=_0x191b54;try{await _0x51e5be['percyAutoCapture'](_0x3ceee3,_0x39f320,_0x1b0b3a);}catch(_0x2640fa){logger[_0x24aece(0x19c)](_0x24aece(0x1ab)+_0x39f320+_0x24aece(0x199)+_0x2640fa);}return await _0x3ceee3[_0x2f7f0f]['apply'](_0x3ceee3,arguments);};},exports[a78_0x123d48(0x17f)]=_0x501f0c=>{const _0x269b9d=a78_0x123d48,_0x1189d3={};_0x1189d3[_0x269b9d(0x180)]=_0x269b9d(0x18f);const _0x1132c4=_0x1189d3,_0x151dac={};_0x151dac['percy']=_0x501f0c[_0x269b9d(0x182)],_0x151dac[_0x269b9d(0x1b1)]=_0x501f0c['percyCaptureMode']||_0x1132c4[_0x269b9d(0x180)];const _0x4f575c=_0x151dac;_0x501f0c[_0x269b9d(0x182)]&&(_0x4f575c[_0x269b9d(0x19f)]=exports[_0x269b9d(0x1ba)](_0x501f0c[_0x269b9d(0x191)]));;return _0x4f575c;};