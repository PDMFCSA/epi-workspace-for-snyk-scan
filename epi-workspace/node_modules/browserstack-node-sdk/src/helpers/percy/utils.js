const a109_0x239ed3=a109_0x1b93;function a109_0x1b93(_0x975c81,_0x25fa78){const _0x21a24e=a109_0x21a2();return a109_0x1b93=function(_0x1b9309,_0x4b165e){_0x1b9309=_0x1b9309-0x191;let _0x3cb933=_0x21a24e[_0x1b9309];return _0x3cb933;},a109_0x1b93(_0x975c81,_0x25fa78);}function a109_0x21a2(){const _0x5809ec=['percyAutoCapture','prototype','isUndefined','browserName','apply','./Percy','START','iERBu','reduce','deviceName','platforms','4IJdhrV','screenshotApp','stop','TGuOz','init','getBestPlatformForPercySnapshot','browserstackPercyBestPlatform','2727813spmgOE','ycRku','Stopping\x20percy','Error\x20patching\x20','./PercySDK','app','toLowerCase','31113jDmoWT','measureWrapper','percy','RqelD','TKpmc','4130371wotARs','browserstackSessionName','driver','screenshot','3128hTwYaX','browserstackPercyMap','bawAU','percyCaptureMode','STOP','zkrgj','browser','HomNk','stopPercy','1853414odydOs','debug','./PercyCaptureMap','13895140SrLHuq','elPiR','1nFiioS','getPercyOptions','start','getDriver','wzLlk','overrideXforPercy','element','safari','error','mznNK','firefox','iENui','../logger','increment','forEach','auto','6946350KjKaut','499914TWAJlu','then','browserStackPercyOptions','../performance/performance-tester','chrome','./PercyCaptureModes','manual','\x20for\x20percy\x20','patch','getName'];a109_0x21a2=function(){return _0x5809ec;};return a109_0x21a2();}(function(_0x232e0b,_0x2e6c66){const _0x305ca3=a109_0x1b93,_0xa95cb5=_0x232e0b();while(!![]){try{const _0x36b9b7=parseInt(_0x305ca3(0x1da))/0x1*(parseInt(_0x305ca3(0x1d5))/0x2)+-parseInt(_0x305ca3(0x1bc))/0x3*(parseInt(_0x305ca3(0x1b5))/0x4)+parseInt(_0x305ca3(0x19f))/0x5+-parseInt(_0x305ca3(0x1a0))/0x6+-parseInt(_0x305ca3(0x1c8))/0x7+-parseInt(_0x305ca3(0x1cc))/0x8*(-parseInt(_0x305ca3(0x1c3))/0x9)+-parseInt(_0x305ca3(0x1d8))/0xa;if(_0x36b9b7===_0x2e6c66)break;else _0xa95cb5['push'](_0xa95cb5['shift']());}catch(_0x1a062a){_0xa95cb5['push'](_0xa95cb5['shift']());}}}(a109_0x21a2,0xa9cd3));const Percy=require(a109_0x239ed3(0x1af)),PercySDK=require(a109_0x239ed3(0x1c0)),PercyCaptureModes=require(a109_0x239ed3(0x1a5)),PercyCaptureMap=require(a109_0x239ed3(0x1d7)),logger=require(a109_0x239ed3(0x19b))['winstonLogger'],helper=require('../helper'),PerformanceTester=require(a109_0x239ed3(0x1a3)),{PERCY_EVENTS:PerformanceEvents}=require('../performance/constants');exports['startPercy']=PerformanceTester[a109_0x239ed3(0x1c4)](PerformanceEvents[a109_0x239ed3(0x1b0)],async _0x3560b9=>{const _0x12bf60=a109_0x239ed3,_0x1ac5bc={};_0x1ac5bc[_0x12bf60(0x1c6)]='Starting\x20percy';const _0x4db88f=_0x1ac5bc;logger['debug'](_0x4db88f[_0x12bf60(0x1c6)]);const _0x2f9d90=new Percy(_0x3560b9),_0x3b2ce9=await _0x2f9d90[_0x12bf60(0x191)]();if(_0x3b2ce9)return _0x2f9d90;return null;}),exports[a109_0x239ed3(0x1d4)]=PerformanceTester['measureWrapper'](PerformanceEvents[a109_0x239ed3(0x1d0)],async _0x2df7c5=>{const _0x3061d0=a109_0x239ed3,_0x562d0={};_0x562d0[_0x3061d0(0x1d3)]=_0x3061d0(0x1be);const _0x5a1238=_0x562d0;return logger[_0x3061d0(0x1d6)](_0x5a1238['HomNk']),_0x2df7c5[_0x3061d0(0x1b7)]();}),exports[a109_0x239ed3(0x1ba)]=_0x2fd5a3=>{const _0x2f71c0=a109_0x239ed3,_0x51aecd={};_0x51aecd[_0x2f71c0(0x1d9)]=function(_0x1a81f3,_0x1607b4){return _0x1a81f3<_0x1607b4;};const _0x379205=_0x51aecd,_0x436795={};_0x436795[_0x2f71c0(0x1a4)]=0x0,_0x436795[_0x2f71c0(0x199)]=0x1,_0x436795['edge']=0x2,_0x436795[_0x2f71c0(0x196)]=0x3;const _0x4c1dc9=_0x436795;return _0x2fd5a3[_0x2f71c0(0x1b2)]((_0x489916,_0x7ec8bf,_0x14be10)=>{const _0x56591e=_0x2f71c0,_0x53e25f=_0x2fd5a3[_0x489916];if(_0x7ec8bf[_0x56591e(0x1b3)])return _0x489916;if(_0x53e25f['deviceName'])return _0x14be10;const _0x451ed2=_0x7ec8bf[_0x56591e(0x1d2)]?_0x7ec8bf[_0x56591e(0x1d2)]:_0x7ec8bf[_0x56591e(0x1ad)];if(_0x451ed2&&_0x379205[_0x56591e(0x1d9)](_0x4c1dc9[_0x451ed2[_0x56591e(0x1c2)]()],_0x4c1dc9[_0x451ed2[_0x56591e(0x1c2)]()]))return _0x14be10;return _0x489916;},0x0);},exports[a109_0x239ed3(0x1aa)]=PerformanceTester[a109_0x239ed3(0x1c4)](PerformanceEvents['AUTO_CAPTURE'],async(_0x543e0e,_0x2cf57a,_0x31bf87)=>{const _0x35546d=a109_0x239ed3,_0x54c707={};_0x54c707[_0x35546d(0x1bd)]='Couldn\x27t\x20capture\x20percy\x20screenshot,\x20no\x20session\x20name\x20present';const _0x4be4a4=_0x54c707,_0x2a1c57=_0x543e0e[_0x35546d(0x1cd)];if(helper[_0x35546d(0x1ac)](_0x543e0e[_0x35546d(0x1c9)])){logger[_0x35546d(0x1d6)](_0x4be4a4['ycRku']);return;}const _0x34376e=_0x2a1c57[_0x35546d(0x1a9)](_0x543e0e[_0x35546d(0x1c9)],_0x2cf57a);_0x31bf87[_0x35546d(0x1c1)]?await PercySDK[_0x35546d(0x1b6)](_0x543e0e,_0x34376e):await PercySDK[_0x35546d(0x1cb)](_0x543e0e,_0x34376e),_0x2a1c57[_0x35546d(0x19c)](_0x543e0e[_0x35546d(0x1c9)],_0x2cf57a);}),exports['patchDriverPercy']=(_0x2fc5ad,_0x165b06,_0x2f0154)=>{const _0x33db6a=a109_0x239ed3,_0x36f86d={};_0x36f86d['iENui']=_0x33db6a(0x1a2),_0x36f86d['TKpmc']=_0x33db6a(0x1c5),_0x36f86d['zkrgj']=function(_0x3ba952,_0x1899b9){return _0x3ba952!==_0x1899b9;},_0x36f86d['mznNK']=_0x33db6a(0x1a6);const _0x3e5d14=_0x36f86d;if(!helper['nestedKeyValue'](_0x2f0154,[_0x3e5d14[_0x33db6a(0x19a)],_0x3e5d14[_0x33db6a(0x1c7)]]))return;if(_0x2f0154[_0x33db6a(0x1a2)][_0x33db6a(0x1c5)]&&_0x2f0154[_0x33db6a(0x1a2)]['percyCaptureMode']&&_0x3e5d14[_0x33db6a(0x1d1)](_0x2f0154['browserStackPercyOptions'][_0x33db6a(0x1cf)],_0x3e5d14[_0x33db6a(0x198)])&&!_0x2fc5ad['browserstackPercyMap']){global[_0x33db6a(0x1c9)]&&(_0x2fc5ad[_0x33db6a(0x1c9)]=global['browserstackSessionName']),_0x2fc5ad[_0x33db6a(0x1cd)]=new PercyCaptureMap();const _0x23995f=PercyCaptureModes[_0x2f0154['browserStackPercyOptions'][_0x33db6a(0x1cf)]];_0x23995f['driver']&&_0x23995f[_0x33db6a(0x1ca)][_0x33db6a(0x19d)](_0x5b2279=>this[_0x33db6a(0x194)](_0x2fc5ad,_0x5b2279,_0x2f0154)),_0x23995f[_0x33db6a(0x195)]&&_0x23995f[_0x33db6a(0x195)][_0x33db6a(0x19d)](_0x220d3f=>{const _0x39e743=_0x33db6a;if(_0x165b06[_0x39e743(0x1ab)][_0x39e743(0x1a8)+_0x220d3f])return;_0x165b06[_0x39e743(0x1ab)][_0x39e743(0x1a8)+_0x220d3f]=!![];const _0x49d47a=_0x165b06[_0x39e743(0x1ab)][_0x220d3f];_0x165b06[_0x39e743(0x1ab)][_0x220d3f]=async function(){const _0x1461c5=_0x39e743;let _0x46f75b=_0x49d47a[_0x1461c5(0x1ae)](this,arguments);_0x46f75b&&_0x46f75b[_0x1461c5(0x1a1)]&&(_0x46f75b=await _0x46f75b);try{const _0xd8bd6c=this[_0x1461c5(0x192)]();await exports['percyAutoCapture'](_0xd8bd6c,_0x220d3f,_0x2f0154);}catch(_0x1a40bb){logger[_0x1461c5(0x197)](_0x1461c5(0x1bf)+_0x220d3f+_0x1461c5(0x1a7)+_0x1a40bb);}return _0x46f75b;};});}},exports[a109_0x239ed3(0x194)]=function(_0xa3409e,_0x5ca04d,_0xcf6b6c){const _0x5e0657=a109_0x239ed3,_0x5d5c4={};_0x5d5c4[_0x5e0657(0x1b8)]=function(_0x43acff,_0x4d5f35){return _0x43acff+_0x4d5f35;},_0x5d5c4[_0x5e0657(0x1b1)]=_0x5e0657(0x1a8),_0x5d5c4[_0x5e0657(0x193)]=_0x5e0657(0x1b9);const _0x37807=_0x5d5c4,_0x3043f7=_0x37807[_0x5e0657(0x1b8)](_0x37807[_0x5e0657(0x1b1)],_0x5ca04d),_0x547c0e=_0x37807['TGuOz'](_0x37807[_0x5e0657(0x193)],_0x5ca04d),_0x544d0e=this;if(_0xa3409e[_0x3043f7]||!_0xa3409e[_0x5ca04d])return;_0xa3409e[_0x3043f7]=!![],_0xa3409e[_0x547c0e]=_0xa3409e[_0x5ca04d],_0xa3409e[_0x5ca04d]=async()=>{const _0xd5c0ca=_0x5e0657;try{await _0x544d0e[_0xd5c0ca(0x1aa)](_0xa3409e,_0x5ca04d,_0xcf6b6c);}catch(_0x1fb8f8){logger[_0xd5c0ca(0x197)](_0xd5c0ca(0x1bf)+_0x5ca04d+_0xd5c0ca(0x1a7)+_0x1fb8f8);}return await _0xa3409e[_0x547c0e][_0xd5c0ca(0x1ae)](_0xa3409e,arguments);};},exports[a109_0x239ed3(0x1db)]=_0x149838=>{const _0x43bacb=a109_0x239ed3,_0x3497e8={};_0x3497e8[_0x43bacb(0x1ce)]=_0x43bacb(0x19e);const _0x126260=_0x3497e8,_0x3ff5d8={};_0x3ff5d8[_0x43bacb(0x1c5)]=_0x149838[_0x43bacb(0x1c5)],_0x3ff5d8[_0x43bacb(0x1cf)]=_0x149838[_0x43bacb(0x1cf)]||_0x126260[_0x43bacb(0x1ce)];const _0x2b25ca=_0x3ff5d8;_0x149838['percy']&&(_0x2b25ca[_0x43bacb(0x1bb)]=exports[_0x43bacb(0x1ba)](_0x149838[_0x43bacb(0x1b4)]));;return _0x2b25ca;};