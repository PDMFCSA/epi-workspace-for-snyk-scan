function a107_0x543f(_0x2e6679,_0x14b762){const _0x4c834e=a107_0x4c83();return a107_0x543f=function(_0x543f99,_0x3407ae){_0x543f99=_0x543f99-0xf4;let _0x2a7c75=_0x4c834e[_0x543f99];return _0x2a7c75;},a107_0x543f(_0x2e6679,_0x14b762);}const a107_0x355e23=a107_0x543f;(function(_0x33f4c9,_0x3079b1){const _0x28c06b=a107_0x543f,_0x3c6021=_0x33f4c9();while(!![]){try{const _0x1397a5=-parseInt(_0x28c06b(0x123))/0x1*(parseInt(_0x28c06b(0x10b))/0x2)+parseInt(_0x28c06b(0x138))/0x3+parseInt(_0x28c06b(0xf5))/0x4+-parseInt(_0x28c06b(0x118))/0x5+-parseInt(_0x28c06b(0x128))/0x6+-parseInt(_0x28c06b(0x110))/0x7*(-parseInt(_0x28c06b(0x139))/0x8)+parseInt(_0x28c06b(0x130))/0x9*(parseInt(_0x28c06b(0x105))/0xa);if(_0x1397a5===_0x3079b1)break;else _0x3c6021['push'](_0x3c6021['shift']());}catch(_0x122921){_0x3c6021['push'](_0x3c6021['shift']());}}}(a107_0x4c83,0x315c3));const Percy=require('./Percy'),PercySDK=require(a107_0x355e23(0x137)),PercyCaptureModes=require(a107_0x355e23(0xfe)),PercyCaptureMap=require('./PercyCaptureMap'),logger=require('../logger')['winstonLogger'],helper=require('../helper'),PerformanceTester=require(a107_0x355e23(0x10e)),{PERCY_EVENTS:PerformanceEvents}=require(a107_0x355e23(0xfa));function a107_0x4c83(){const _0x449e51=['browserstackPercyMap','getBestPlatformForPercySnapshot','screenshotApp','XxwKT','HLayM','564365gwXXxq','Error\x20patching\x20','edge','browserstackSessionName','apply','percyAutoCapture','chrome','deviceName','percy','toLowerCase','\x20for\x20percy\x20','82DbPFAH','VKrXe','manual','overrideXforPercy','YCKZQ','2126760ZRzyUm','AUTO_CAPTURE','patchDriverPercy','browserStackPercyOptions','jMFLa','debug','Starting\x20percy','measureWrapper','6417zQuYNr','stop','STOP','screenshot','driver','startPercy','platforms','./PercySDK','429945WJqXjU','8JnMXWW','ScLeR','START','wOJdk','1554612tvrYCq','getDriver','increment','getPercyOptions','prototype','../performance/constants','getName','auto','then','./PercyCaptureModes','LOGTr','puFog','forEach','ZhGte','element','app','2520pVZJfR','isUndefined','error','nestedKeyValue','browserName','firefox','5606OajfFY','browser','percyCaptureMode','../performance/performance-tester','Couldn\x27t\x20capture\x20percy\x20screenshot,\x20no\x20session\x20name\x20present','1313998foqfCT','foAkd','patch'];a107_0x4c83=function(){return _0x449e51;};return a107_0x4c83();}exports[a107_0x355e23(0x135)]=PerformanceTester[a107_0x355e23(0x12f)](PerformanceEvents[a107_0x355e23(0x13b)],async _0x5a3608=>{const _0x125694=a107_0x355e23,_0x4ee4c1={};_0x4ee4c1[_0x125694(0x102)]=_0x125694(0x12e);const _0x1253b2=_0x4ee4c1;logger['debug'](_0x1253b2[_0x125694(0x102)]);const _0x3f3ece=new Percy(_0x5a3608),_0x259244=await _0x3f3ece['start']();if(_0x259244)return _0x3f3ece;return null;}),exports['stopPercy']=PerformanceTester[a107_0x355e23(0x12f)](PerformanceEvents[a107_0x355e23(0x132)],async _0x196759=>{const _0x27d3ec=a107_0x355e23,_0xfae4={};_0xfae4[_0x27d3ec(0x12c)]='Stopping\x20percy';const _0x28e3ca=_0xfae4;return logger[_0x27d3ec(0x12d)](_0x28e3ca[_0x27d3ec(0x12c)]),_0x196759[_0x27d3ec(0x131)]();}),exports[a107_0x355e23(0x114)]=_0xccb9b4=>{const _0x434545=a107_0x355e23,_0x2b896c={};_0x2b896c[_0x434545(0x111)]=function(_0x2c4eae,_0x3a0d9c){return _0x2c4eae<_0x3a0d9c;};const _0x4003b9=_0x2b896c,_0x5492b3={};_0x5492b3[_0x434545(0x11e)]=0x0,_0x5492b3[_0x434545(0x10a)]=0x1,_0x5492b3[_0x434545(0x11a)]=0x2,_0x5492b3['safari']=0x3;const _0x1f9cdb=_0x5492b3;return _0xccb9b4['reduce']((_0x11c3b3,_0x172929,_0x572bce)=>{const _0x2bbc37=_0x434545,_0x4e66d5=_0xccb9b4[_0x11c3b3];if(_0x172929[_0x2bbc37(0x11f)])return _0x11c3b3;if(_0x4e66d5[_0x2bbc37(0x11f)])return _0x572bce;const _0x138b2c=_0x172929[_0x2bbc37(0x10c)]?_0x172929[_0x2bbc37(0x10c)]:_0x172929[_0x2bbc37(0x109)];if(_0x138b2c&&_0x4003b9[_0x2bbc37(0x111)](_0x1f9cdb[_0x138b2c[_0x2bbc37(0x121)]()],_0x1f9cdb[_0x138b2c[_0x2bbc37(0x121)]()]))return _0x572bce;return _0x11c3b3;},0x0);},exports[a107_0x355e23(0x11d)]=PerformanceTester[a107_0x355e23(0x12f)](PerformanceEvents[a107_0x355e23(0x129)],async(_0x58a8fe,_0x150b6c,_0x24a0ee)=>{const _0x1b9e57=a107_0x355e23,_0x58df0d={};_0x58df0d[_0x1b9e57(0x13a)]=_0x1b9e57(0x10f);const _0x5259da=_0x58df0d,_0x4a98c5=_0x58a8fe[_0x1b9e57(0x113)];if(helper[_0x1b9e57(0x106)](_0x58a8fe[_0x1b9e57(0x11b)])){logger[_0x1b9e57(0x12d)](_0x5259da[_0x1b9e57(0x13a)]);return;}const _0xe345b2=_0x4a98c5[_0x1b9e57(0xfb)](_0x58a8fe['browserstackSessionName'],_0x150b6c);_0x24a0ee[_0x1b9e57(0x104)]?await PercySDK[_0x1b9e57(0x115)](_0x58a8fe,_0xe345b2):await PercySDK[_0x1b9e57(0x133)](_0x58a8fe,_0xe345b2),_0x4a98c5[_0x1b9e57(0xf7)](_0x58a8fe['browserstackSessionName'],_0x150b6c);}),exports[a107_0x355e23(0x12a)]=(_0xb67294,_0x5c385c,_0x20b430)=>{const _0x30809f=a107_0x355e23,_0x5aed67={};_0x5aed67['wOJdk']=_0x30809f(0x12b),_0x5aed67[_0x30809f(0xff)]=_0x30809f(0x120),_0x5aed67[_0x30809f(0x116)]=function(_0x568b0c,_0x2abb9e){return _0x568b0c!==_0x2abb9e;},_0x5aed67[_0x30809f(0x127)]=_0x30809f(0x125);const _0x5ee54d=_0x5aed67;if(!helper[_0x30809f(0x108)](_0x20b430,[_0x5ee54d[_0x30809f(0xf4)],_0x5ee54d[_0x30809f(0xff)]]))return;if(_0x20b430['browserStackPercyOptions'][_0x30809f(0x120)]&&_0x20b430[_0x30809f(0x12b)][_0x30809f(0x10d)]&&_0x5ee54d[_0x30809f(0x116)](_0x20b430[_0x30809f(0x12b)]['percyCaptureMode'],_0x5ee54d[_0x30809f(0x127)])&&!_0xb67294[_0x30809f(0x113)]){global['browserstackSessionName']&&(_0xb67294[_0x30809f(0x11b)]=global[_0x30809f(0x11b)]),_0xb67294['browserstackPercyMap']=new PercyCaptureMap();const _0x53d4fd=PercyCaptureModes[_0x20b430['browserStackPercyOptions']['percyCaptureMode']];_0x53d4fd[_0x30809f(0x134)]&&_0x53d4fd[_0x30809f(0x134)][_0x30809f(0x101)](_0x2578b0=>this[_0x30809f(0x126)](_0xb67294,_0x2578b0,_0x20b430)),_0x53d4fd[_0x30809f(0x103)]&&_0x53d4fd[_0x30809f(0x103)][_0x30809f(0x101)](_0xb17abe=>{const _0x24ade0=_0x30809f;if(_0x5c385c['prototype'][_0x24ade0(0x112)+_0xb17abe])return;_0x5c385c[_0x24ade0(0xf9)][_0x24ade0(0x112)+_0xb17abe]=!![];const _0x599b7f=_0x5c385c[_0x24ade0(0xf9)][_0xb17abe];_0x5c385c[_0x24ade0(0xf9)][_0xb17abe]=async function(){const _0x53fc08=_0x24ade0;let _0x12c2ac=_0x599b7f['apply'](this,arguments);_0x12c2ac&&_0x12c2ac[_0x53fc08(0xfd)]&&(_0x12c2ac=await _0x12c2ac);try{const _0x1ef5ac=this[_0x53fc08(0xf6)]();await exports['percyAutoCapture'](_0x1ef5ac,_0xb17abe,_0x20b430);}catch(_0x4f379b){logger[_0x53fc08(0x107)](_0x53fc08(0x119)+_0xb17abe+_0x53fc08(0x122)+_0x4f379b);}return _0x12c2ac;};});}},exports['overrideXforPercy']=function(_0xdb977c,_0x2fff49,_0x5ce314){const _0x7eab66=a107_0x355e23,_0x247f03={};_0x247f03[_0x7eab66(0x117)]=function(_0x463324,_0x3e0f08){return _0x463324+_0x3e0f08;},_0x247f03['IYYlT']=_0x7eab66(0x112),_0x247f03[_0x7eab66(0x124)]='init';const _0x22a3c8=_0x247f03,_0x195b45=_0x22a3c8['HLayM'](_0x22a3c8['IYYlT'],_0x2fff49),_0x32c234=_0x22a3c8[_0x7eab66(0x117)](_0x22a3c8[_0x7eab66(0x124)],_0x2fff49),_0xd6dafd=this;if(_0xdb977c[_0x195b45]||!_0xdb977c[_0x2fff49])return;_0xdb977c[_0x195b45]=!![],_0xdb977c[_0x32c234]=_0xdb977c[_0x2fff49],_0xdb977c[_0x2fff49]=async()=>{const _0x2b3640=_0x7eab66;try{await _0xd6dafd[_0x2b3640(0x11d)](_0xdb977c,_0x2fff49,_0x5ce314);}catch(_0x976fdf){logger[_0x2b3640(0x107)](_0x2b3640(0x119)+_0x2fff49+'\x20for\x20percy\x20'+_0x976fdf);}return await _0xdb977c[_0x32c234][_0x2b3640(0x11c)](_0xdb977c,arguments);};},exports[a107_0x355e23(0xf8)]=_0x1ab8e5=>{const _0x278e3e=a107_0x355e23,_0x26e377={};_0x26e377[_0x278e3e(0x100)]=_0x278e3e(0xfc);const _0x4c2e5f=_0x26e377,_0x540c53={};_0x540c53['percy']=_0x1ab8e5['percy'],_0x540c53['percyCaptureMode']=_0x1ab8e5[_0x278e3e(0x10d)]||_0x4c2e5f['puFog'];const _0x3eb59e=_0x540c53;_0x1ab8e5['percy']&&(_0x3eb59e['browserstackPercyBestPlatform']=exports[_0x278e3e(0x114)](_0x1ab8e5[_0x278e3e(0x136)]));;return _0x3eb59e;};