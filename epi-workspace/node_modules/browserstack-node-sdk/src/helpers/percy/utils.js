const a107_0x124d71=a107_0x312b;function a107_0x312b(_0x4b945e,_0x1a8e5b){const _0x1336b5=a107_0x1336();return a107_0x312b=function(_0x312b24,_0x4d69c2){_0x312b24=_0x312b24-0x82;let _0x557ae0=_0x1336b5[_0x312b24];return _0x557ae0;},a107_0x312b(_0x4b945e,_0x1a8e5b);}(function(_0x18286f,_0xeb1556){const _0xf83e=a107_0x312b,_0x13e58d=_0x18286f();while(!![]){try{const _0x30c9ab=parseInt(_0xf83e(0xa6))/0x1*(-parseInt(_0xf83e(0xc0))/0x2)+-parseInt(_0xf83e(0x99))/0x3+-parseInt(_0xf83e(0xbe))/0x4*(-parseInt(_0xf83e(0x87))/0x5)+parseInt(_0xf83e(0xb8))/0x6*(-parseInt(_0xf83e(0xad))/0x7)+-parseInt(_0xf83e(0x8e))/0x8+-parseInt(_0xf83e(0x91))/0x9*(-parseInt(_0xf83e(0x85))/0xa)+parseInt(_0xf83e(0x86))/0xb;if(_0x30c9ab===_0xeb1556)break;else _0x13e58d['push'](_0x13e58d['shift']());}catch(_0x1a07a5){_0x13e58d['push'](_0x13e58d['shift']());}}}(a107_0x1336,0x3346e));const Percy=require(a107_0x124d71(0x96)),PercySDK=require(a107_0x124d71(0xb9)),PercyCaptureModes=require('./PercyCaptureModes'),PercyCaptureMap=require(a107_0x124d71(0xc2)),logger=require(a107_0x124d71(0xc4))['winstonLogger'],helper=require(a107_0x124d71(0xa7)),PerformanceTester=require(a107_0x124d71(0xb3)),{PERCY_EVENTS:PerformanceEvents}=require(a107_0x124d71(0x89));exports['startPercy']=PerformanceTester[a107_0x124d71(0x84)](PerformanceEvents[a107_0x124d71(0x9d)],async _0x15dbfd=>{const _0x387d86=a107_0x124d71,_0x12456c={};_0x12456c[_0x387d86(0xa8)]=_0x387d86(0xa0);const _0x1422cd=_0x12456c;logger[_0x387d86(0x82)](_0x1422cd[_0x387d86(0xa8)]);const _0x5a0278=new Percy(_0x15dbfd),_0x2c30c4=await _0x5a0278[_0x387d86(0xc8)]();if(_0x2c30c4)return _0x5a0278;return null;}),exports['stopPercy']=PerformanceTester['measureWrapper'](PerformanceEvents['STOP'],async _0x217f22=>{const _0x581854=a107_0x124d71,_0x1509b6={};_0x1509b6[_0x581854(0x8f)]=_0x581854(0x8c);const _0x332bd3=_0x1509b6;return logger[_0x581854(0x82)](_0x332bd3[_0x581854(0x8f)]),_0x217f22[_0x581854(0xbc)]();}),exports[a107_0x124d71(0x98)]=_0x2b0e7c=>{const _0x3622c0=a107_0x124d71,_0x1c547c={};_0x1c547c[_0x3622c0(0x8b)]=function(_0x4b5d7c,_0x584d29){return _0x4b5d7c<_0x584d29;};const _0x110171=_0x1c547c,_0x317a5e={};_0x317a5e['chrome']=0x0,_0x317a5e[_0x3622c0(0xb4)]=0x1,_0x317a5e[_0x3622c0(0xc6)]=0x2,_0x317a5e[_0x3622c0(0xc3)]=0x3;const _0x102933=_0x317a5e;return _0x2b0e7c[_0x3622c0(0x9a)]((_0x2d3754,_0x19ad1d,_0x490b02)=>{const _0x2c3735=_0x3622c0,_0x75d2dd=_0x2b0e7c[_0x2d3754];if(_0x19ad1d['deviceName'])return _0x2d3754;if(_0x75d2dd[_0x2c3735(0xa9)])return _0x490b02;const _0x11a9f6=_0x19ad1d[_0x2c3735(0xc7)]?_0x19ad1d[_0x2c3735(0xc7)]:_0x19ad1d[_0x2c3735(0x92)];if(_0x11a9f6&&_0x110171[_0x2c3735(0x8b)](_0x102933[_0x11a9f6[_0x2c3735(0x9c)]()],_0x102933[_0x11a9f6[_0x2c3735(0x9c)]()]))return _0x490b02;return _0x2d3754;},0x0);},exports[a107_0x124d71(0xbb)]=PerformanceTester[a107_0x124d71(0x84)](PerformanceEvents[a107_0x124d71(0x9b)],async(_0x10bcc2,_0x464214,_0x287135)=>{const _0x29b92f=a107_0x124d71,_0x3c1683={};_0x3c1683[_0x29b92f(0x8a)]=_0x29b92f(0x93);const _0x480658=_0x3c1683,_0x42a2aa=_0x10bcc2[_0x29b92f(0xae)];if(helper[_0x29b92f(0x83)](_0x10bcc2[_0x29b92f(0x90)])){logger['debug'](_0x480658[_0x29b92f(0x8a)]);return;}const _0x434ec7=_0x42a2aa[_0x29b92f(0x88)](_0x10bcc2['browserstackSessionName'],_0x464214);_0x287135[_0x29b92f(0xbf)]?await PercySDK['screenshotApp'](_0x10bcc2,_0x434ec7):await PercySDK['screenshot'](_0x10bcc2,_0x434ec7),_0x42a2aa['increment'](_0x10bcc2[_0x29b92f(0x90)],_0x464214);}),exports[a107_0x124d71(0x9f)]=(_0x4d4cb8,_0x58139f,_0x1fcbc3)=>{const _0x12f96a=a107_0x124d71,_0x3e65cd={};_0x3e65cd[_0x12f96a(0xb1)]=_0x12f96a(0xaf),_0x3e65cd[_0x12f96a(0x8d)]='percy',_0x3e65cd[_0x12f96a(0xb2)]=function(_0x1c9680,_0x18136b){return _0x1c9680!==_0x18136b;},_0x3e65cd[_0x12f96a(0xa4)]=_0x12f96a(0x9e);const _0x1dd3d0=_0x3e65cd;if(!helper[_0x12f96a(0xac)](_0x1fcbc3,[_0x1dd3d0['RxFYK'],_0x1dd3d0[_0x12f96a(0x8d)]]))return;if(_0x1fcbc3['browserStackPercyOptions'][_0x12f96a(0x97)]&&_0x1fcbc3['browserStackPercyOptions']['percyCaptureMode']&&_0x1dd3d0[_0x12f96a(0xb2)](_0x1fcbc3['browserStackPercyOptions'][_0x12f96a(0xb7)],_0x1dd3d0[_0x12f96a(0xa4)])&&!_0x4d4cb8['browserstackPercyMap']){global[_0x12f96a(0x90)]&&(_0x4d4cb8[_0x12f96a(0x90)]=global['browserstackSessionName']),_0x4d4cb8['browserstackPercyMap']=new PercyCaptureMap();const _0x2a43cf=PercyCaptureModes[_0x1fcbc3[_0x12f96a(0xaf)][_0x12f96a(0xb7)]];_0x2a43cf[_0x12f96a(0xa2)]&&_0x2a43cf[_0x12f96a(0xa2)][_0x12f96a(0xa3)](_0x4d9828=>this['overrideXforPercy'](_0x4d4cb8,_0x4d9828,_0x1fcbc3)),_0x2a43cf[_0x12f96a(0xbd)]&&_0x2a43cf['element'][_0x12f96a(0xa3)](_0x359b9a=>{const _0x5081ed=_0x12f96a;if(_0x58139f[_0x5081ed(0xb5)][_0x5081ed(0xa5)+_0x359b9a])return;_0x58139f[_0x5081ed(0xb5)]['patch'+_0x359b9a]=!![];const _0x2dfc33=_0x58139f[_0x5081ed(0xb5)][_0x359b9a];_0x58139f['prototype'][_0x359b9a]=async function(){const _0x137349=_0x5081ed;let _0xc111=_0x2dfc33[_0x137349(0xc5)](this,arguments);_0xc111&&_0xc111[_0x137349(0x94)]&&(_0xc111=await _0xc111);try{const _0x57f5c2=this['getDriver']();await exports['percyAutoCapture'](_0x57f5c2,_0x359b9a,_0x1fcbc3);}catch(_0x4e948d){logger['error']('Error\x20patching\x20'+_0x359b9a+'\x20for\x20percy\x20'+_0x4e948d);}return _0xc111;};});}},exports[a107_0x124d71(0xab)]=function(_0x50c02b,_0x4c5660,_0xe7a94){const _0x20b9e2=a107_0x124d71,_0x5d5438={};_0x5d5438[_0x20b9e2(0xb0)]=function(_0x176f68,_0x31b117){return _0x176f68+_0x31b117;},_0x5d5438['LzQuD']=_0x20b9e2(0xa5),_0x5d5438[_0x20b9e2(0xaa)]='init';const _0x33c2f8=_0x5d5438,_0x18360b=_0x33c2f8[_0x20b9e2(0xb0)](_0x33c2f8[_0x20b9e2(0x95)],_0x4c5660),_0x1ba759=_0x33c2f8[_0x20b9e2(0xb0)](_0x33c2f8[_0x20b9e2(0xaa)],_0x4c5660),_0x59fa75=this;if(_0x50c02b[_0x18360b]||!_0x50c02b[_0x4c5660])return;_0x50c02b[_0x18360b]=!![],_0x50c02b[_0x1ba759]=_0x50c02b[_0x4c5660],_0x50c02b[_0x4c5660]=async()=>{const _0xc87015=_0x20b9e2;try{await _0x59fa75['percyAutoCapture'](_0x50c02b,_0x4c5660,_0xe7a94);}catch(_0xc3f86d){logger['error'](_0xc87015(0xb6)+_0x4c5660+'\x20for\x20percy\x20'+_0xc3f86d);}return await _0x50c02b[_0x1ba759][_0xc87015(0xc5)](_0x50c02b,arguments);};},exports['getPercyOptions']=_0x543cc1=>{const _0x356eea=a107_0x124d71,_0x515d59={};_0x515d59[_0x356eea(0xba)]=_0x356eea(0xa1);const _0x1f41e7=_0x515d59,_0x546797={};_0x546797[_0x356eea(0x97)]=_0x543cc1[_0x356eea(0x97)],_0x546797[_0x356eea(0xb7)]=_0x543cc1[_0x356eea(0xb7)]||_0x1f41e7[_0x356eea(0xba)];const _0x308547=_0x546797;_0x543cc1[_0x356eea(0x97)]&&(_0x308547[_0x356eea(0xc1)]=exports[_0x356eea(0x98)](_0x543cc1['platforms']));;return _0x308547;};function a107_0x1336(){const _0x4f3f23=['app','128806mIeNbc','browserstackPercyBestPlatform','./PercyCaptureMap','safari','../logger','apply','edge','browser','start','debug','isUndefined','measureWrapper','710eNQyZB','3091220adKTkq','5MzcFrb','getName','../performance/constants','KVefy','bbyhp','Stopping\x20percy','tMcrM','808912gOjrNt','KRSRh','browserstackSessionName','44019CRZdii','browserName','Couldn\x27t\x20capture\x20percy\x20screenshot,\x20no\x20session\x20name\x20present','then','LzQuD','./Percy','percy','getBestPlatformForPercySnapshot','612096eStdwv','reduce','AUTO_CAPTURE','toLowerCase','START','manual','patchDriverPercy','Starting\x20percy','auto','driver','forEach','Pibzx','patch','1oDEMPB','../helper','sXwln','deviceName','wxqEQ','overrideXforPercy','nestedKeyValue','1822191lXovoY','browserstackPercyMap','browserStackPercyOptions','hobjn','RxFYK','qOxRb','../performance/performance-tester','firefox','prototype','Error\x20patching\x20','percyCaptureMode','6bXAXxZ','./PercySDK','lSHQY','percyAutoCapture','stop','element','846444LQcNZb'];a107_0x1336=function(){return _0x4f3f23;};return a107_0x1336();}