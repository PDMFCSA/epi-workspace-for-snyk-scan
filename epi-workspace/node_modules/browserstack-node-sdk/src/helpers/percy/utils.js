const a107_0x419f72=a107_0x4f8e;(function(_0x308c35,_0x499325){const _0x20ef1c=a107_0x4f8e,_0x22625f=_0x308c35();while(!![]){try{const _0x30fbe2=parseInt(_0x20ef1c(0xe6))/0x1+-parseInt(_0x20ef1c(0xf1))/0x2+-parseInt(_0x20ef1c(0x102))/0x3*(parseInt(_0x20ef1c(0x112))/0x4)+parseInt(_0x20ef1c(0xfd))/0x5+-parseInt(_0x20ef1c(0xe1))/0x6+parseInt(_0x20ef1c(0xfa))/0x7+parseInt(_0x20ef1c(0xe7))/0x8*(parseInt(_0x20ef1c(0x119))/0x9);if(_0x30fbe2===_0x499325)break;else _0x22625f['push'](_0x22625f['shift']());}catch(_0x6caebf){_0x22625f['push'](_0x22625f['shift']());}}}(a107_0x5493,0x3a3e8));function a107_0x4f8e(_0x211b9e,_0x5179e2){const _0x54939e=a107_0x5493();return a107_0x4f8e=function(_0x4f8ea,_0x330761){_0x4f8ea=_0x4f8ea-0xd5;let _0x32bb19=_0x54939e[_0x4f8ea];return _0x32bb19;},a107_0x4f8e(_0x211b9e,_0x5179e2);}function a107_0x5493(){const _0x1e5e03=['amfbF','auto','stopPercy','chrome','NiDLE','IuQum','1825776TMvQfN','Stopping\x20percy','start','screenshotApp','apply','429268UUigwE','3440tYTcbK','OGnAq','debug','DEmIB','prototype','stop','forEach','./PercyCaptureMap','TcFOw','firefox','950728pOFHQM','percyCaptureMode','browserName','mHRqG','patch','sXoVp','browser','overrideXforPercy','browserstackPercyMap','1929375FrfOhr','STOP','\x20for\x20percy\x20','519780tCdbik','winstonLogger','deviceName','manual','../logger','93999zzMFba','error','platforms','Starting\x20percy','Error\x20patching\x20','toLowerCase','percyAutoCapture','isUndefined','START','getDriver','edge','getName','percy','nestedKeyValue','getBestPlatformForPercySnapshot','browserStackPercyOptions','28tpUpnO','browserstackSessionName','iMlTU','screenshot','reduce','init','app','8973MqoORx','lNWdJ','../helper','pbnaB','driver','./PercyCaptureModes','measureWrapper'];a107_0x5493=function(){return _0x1e5e03;};return a107_0x5493();}const Percy=require('./Percy'),PercySDK=require('./PercySDK'),PercyCaptureModes=require(a107_0x419f72(0xd9)),PercyCaptureMap=require(a107_0x419f72(0xee)),logger=require(a107_0x419f72(0x101))[a107_0x419f72(0xfe)],helper=require(a107_0x419f72(0xd6)),PerformanceTester=require('../performance/performance-tester'),{PERCY_EVENTS:PerformanceEvents}=require('../performance/constants');exports['startPercy']=PerformanceTester[a107_0x419f72(0xda)](PerformanceEvents[a107_0x419f72(0x10a)],async _0x1b2768=>{const _0x3768ea=a107_0x419f72,_0x26c7d1={};_0x26c7d1['TcFOw']=_0x3768ea(0x105);const _0x41371c=_0x26c7d1;logger['debug'](_0x41371c[_0x3768ea(0xef)]);const _0x181ab2=new Percy(_0x1b2768),_0x3c111e=await _0x181ab2[_0x3768ea(0xe3)]();if(_0x3c111e)return _0x181ab2;return null;}),exports[a107_0x419f72(0xdd)]=PerformanceTester['measureWrapper'](PerformanceEvents[a107_0x419f72(0xfb)],async _0x58d020=>{const _0x36ff37=a107_0x419f72,_0x34e314={};_0x34e314[_0x36ff37(0xd7)]=_0x36ff37(0xe2);const _0x379c90=_0x34e314;return logger[_0x36ff37(0xe9)](_0x379c90[_0x36ff37(0xd7)]),_0x58d020[_0x36ff37(0xec)]();}),exports[a107_0x419f72(0x110)]=_0x2604fe=>{const _0x113f9b=a107_0x419f72,_0x4bfcc7={};_0x4bfcc7[_0x113f9b(0xf4)]=function(_0x2d46a2,_0x1c8725){return _0x2d46a2<_0x1c8725;};const _0x2745e3=_0x4bfcc7,_0x337760={};_0x337760[_0x113f9b(0xde)]=0x0,_0x337760[_0x113f9b(0xf0)]=0x1,_0x337760[_0x113f9b(0x10c)]=0x2,_0x337760['safari']=0x3;const _0x4a2ba1=_0x337760;return _0x2604fe[_0x113f9b(0x116)]((_0x142756,_0x4c38b0,_0x42a988)=>{const _0x2d3478=_0x113f9b,_0xb1941f=_0x2604fe[_0x142756];if(_0x4c38b0[_0x2d3478(0xff)])return _0x142756;if(_0xb1941f[_0x2d3478(0xff)])return _0x42a988;const _0x19524e=_0x4c38b0['browser']?_0x4c38b0[_0x2d3478(0xf7)]:_0x4c38b0[_0x2d3478(0xf3)];if(_0x19524e&&_0x2745e3[_0x2d3478(0xf4)](_0x4a2ba1[_0x19524e['toLowerCase']()],_0x4a2ba1[_0x19524e[_0x2d3478(0x107)]()]))return _0x42a988;return _0x142756;},0x0);},exports[a107_0x419f72(0x108)]=PerformanceTester[a107_0x419f72(0xda)](PerformanceEvents['AUTO_CAPTURE'],async(_0x5cf38b,_0x40c85d,_0x4c29f2)=>{const _0x42bd06=a107_0x419f72,_0x1b2b6e={};_0x1b2b6e[_0x42bd06(0xe8)]='Couldn\x27t\x20capture\x20percy\x20screenshot,\x20no\x20session\x20name\x20present';const _0x5d7ef4=_0x1b2b6e,_0x2e657f=_0x5cf38b['browserstackPercyMap'];if(helper[_0x42bd06(0x109)](_0x5cf38b[_0x42bd06(0x113)])){logger[_0x42bd06(0xe9)](_0x5d7ef4['OGnAq']);return;}const _0x1dd518=_0x2e657f[_0x42bd06(0x10d)](_0x5cf38b['browserstackSessionName'],_0x40c85d);_0x4c29f2[_0x42bd06(0x118)]?await PercySDK[_0x42bd06(0xe4)](_0x5cf38b,_0x1dd518):await PercySDK[_0x42bd06(0x115)](_0x5cf38b,_0x1dd518),_0x2e657f['increment'](_0x5cf38b[_0x42bd06(0x113)],_0x40c85d);}),exports['patchDriverPercy']=(_0x3ff787,_0x292efa,_0x5c4c1c)=>{const _0x56d63d=a107_0x419f72,_0x1fb7dd={};_0x1fb7dd[_0x56d63d(0xe0)]=_0x56d63d(0x111),_0x1fb7dd['NiDLE']=_0x56d63d(0x10e),_0x1fb7dd['DqOhI']=function(_0x3dd1da,_0x1b8dca){return _0x3dd1da!==_0x1b8dca;},_0x1fb7dd[_0x56d63d(0x114)]=_0x56d63d(0x100);const _0x3294ce=_0x1fb7dd;if(!helper[_0x56d63d(0x10f)](_0x5c4c1c,[_0x3294ce[_0x56d63d(0xe0)],_0x3294ce[_0x56d63d(0xdf)]]))return;if(_0x5c4c1c['browserStackPercyOptions'][_0x56d63d(0x10e)]&&_0x5c4c1c[_0x56d63d(0x111)][_0x56d63d(0xf2)]&&_0x3294ce['DqOhI'](_0x5c4c1c['browserStackPercyOptions']['percyCaptureMode'],_0x3294ce[_0x56d63d(0x114)])&&!_0x3ff787[_0x56d63d(0xf9)]){global[_0x56d63d(0x113)]&&(_0x3ff787[_0x56d63d(0x113)]=global[_0x56d63d(0x113)]),_0x3ff787[_0x56d63d(0xf9)]=new PercyCaptureMap();const _0x56736f=PercyCaptureModes[_0x5c4c1c['browserStackPercyOptions'][_0x56d63d(0xf2)]];_0x56736f[_0x56d63d(0xd8)]&&_0x56736f[_0x56d63d(0xd8)][_0x56d63d(0xed)](_0x29c81a=>this[_0x56d63d(0xf8)](_0x3ff787,_0x29c81a,_0x5c4c1c)),_0x56736f['element']&&_0x56736f['element']['forEach'](_0x440560=>{const _0x3b022d=_0x56d63d;if(_0x292efa[_0x3b022d(0xeb)][_0x3b022d(0xf5)+_0x440560])return;_0x292efa[_0x3b022d(0xeb)][_0x3b022d(0xf5)+_0x440560]=!![];const _0x3950df=_0x292efa[_0x3b022d(0xeb)][_0x440560];_0x292efa['prototype'][_0x440560]=async function(){const _0x5ac71c=_0x3b022d;let _0x3fd1d9=_0x3950df[_0x5ac71c(0xe5)](this,arguments);_0x3fd1d9&&_0x3fd1d9['then']&&(_0x3fd1d9=await _0x3fd1d9);try{const _0x3f225c=this[_0x5ac71c(0x10b)]();await exports[_0x5ac71c(0x108)](_0x3f225c,_0x440560,_0x5c4c1c);}catch(_0x2303a5){logger['error']('Error\x20patching\x20'+_0x440560+_0x5ac71c(0xfc)+_0x2303a5);}return _0x3fd1d9;};});}},exports[a107_0x419f72(0xf8)]=function(_0x5c8764,_0x3ca61c,_0x237bf0){const _0x362f8a=a107_0x419f72,_0x342c9d={};_0x342c9d[_0x362f8a(0xea)]=function(_0x511bc9,_0x390ce0){return _0x511bc9+_0x390ce0;},_0x342c9d['nGAlr']=_0x362f8a(0xf5),_0x342c9d[_0x362f8a(0xd5)]=function(_0x1c38c5,_0xe3bc9d){return _0x1c38c5+_0xe3bc9d;},_0x342c9d['amfbF']=_0x362f8a(0x117);const _0x3128cb=_0x342c9d,_0x4b1648=_0x3128cb[_0x362f8a(0xea)](_0x3128cb['nGAlr'],_0x3ca61c),_0x2a5a4f=_0x3128cb[_0x362f8a(0xd5)](_0x3128cb[_0x362f8a(0xdb)],_0x3ca61c),_0x21ed91=this;if(_0x5c8764[_0x4b1648]||!_0x5c8764[_0x3ca61c])return;_0x5c8764[_0x4b1648]=!![],_0x5c8764[_0x2a5a4f]=_0x5c8764[_0x3ca61c],_0x5c8764[_0x3ca61c]=async()=>{const _0xdfb056=_0x362f8a;try{await _0x21ed91[_0xdfb056(0x108)](_0x5c8764,_0x3ca61c,_0x237bf0);}catch(_0x35f057){logger[_0xdfb056(0x103)](_0xdfb056(0x106)+_0x3ca61c+'\x20for\x20percy\x20'+_0x35f057);}return await _0x5c8764[_0x2a5a4f]['apply'](_0x5c8764,arguments);};},exports['getPercyOptions']=_0x3498ec=>{const _0x49cd63=a107_0x419f72,_0xdc6f71={};_0xdc6f71['sXoVp']=_0x49cd63(0xdc);const _0x497551=_0xdc6f71,_0x292f80={};_0x292f80[_0x49cd63(0x10e)]=_0x3498ec[_0x49cd63(0x10e)],_0x292f80[_0x49cd63(0xf2)]=_0x3498ec['percyCaptureMode']||_0x497551[_0x49cd63(0xf6)];const _0x4d49db=_0x292f80;_0x3498ec['percy']&&(_0x4d49db['browserstackPercyBestPlatform']=exports['getBestPlatformForPercySnapshot'](_0x3498ec[_0x49cd63(0x104)]));;return _0x4d49db;};