function a104_0x4004(){const _0x3c8e2f=['winstonLogger','./PercyCaptureModes','screenshot','stop','vkICd','stopPercy','patch','GSejD','JrMjc','screenshotApp','percyCaptureMode','overrideXforPercy','browserStackPercyOptions','start','155884scXSzu','driver','browserstackSessionName','browserstackPercyBestPlatform','nxTTz','UBzye','1614882wjQMyc','nMjjl','981096ubZmpF','measureWrapper','auto','PQBIx','apply','getDriver','4089204HDwuDh','browser','xhOty','../performance/constants','getName','OynDD','kurKT','percyAutoCapture','startPercy','Stopping\x20percy','safari','640497EkuuBM','percy','app','getPercyOptions','./PercyCaptureMap','toLowerCase','getBestPlatformForPercySnapshot','prototype','debug','../helper','20LrsirO','3535QJmdCI','deviceName','pEuCd','rpgfi','browserName','Starting\x20percy','error','element','reduce','lwrJX','chrome','9480otLFly','browserstackPercyMap','\x20for\x20percy\x20','STOP','Error\x20patching\x20','15316866JScIBk','./Percy','forEach'];a104_0x4004=function(){return _0x3c8e2f;};return a104_0x4004();}function a104_0x553d(_0x280017,_0x239654){const _0x40042d=a104_0x4004();return a104_0x553d=function(_0x553ded,_0x40975f){_0x553ded=_0x553ded-0x1c9;let _0x479307=_0x40042d[_0x553ded];return _0x479307;},a104_0x553d(_0x280017,_0x239654);}const a104_0x47e292=a104_0x553d;(function(_0x32334a,_0xad70b9){const _0x1e6a5=a104_0x553d,_0x12a8b4=_0x32334a();while(!![]){try{const _0x2a7969=parseInt(_0x1e6a5(0x206))/0x1+-parseInt(_0x1e6a5(0x1ed))/0x2+-parseInt(_0x1e6a5(0x1fb))/0x3+parseInt(_0x1e6a5(0x1f5))/0x4*(-parseInt(_0x1e6a5(0x1cb))/0x5)+parseInt(_0x1e6a5(0x1f3))/0x6+-parseInt(_0x1e6a5(0x1cc))/0x7*(-parseInt(_0x1e6a5(0x1d7))/0x8)+parseInt(_0x1e6a5(0x1dc))/0x9;if(_0x2a7969===_0xad70b9)break;else _0x12a8b4['push'](_0x12a8b4['shift']());}catch(_0x39f43b){_0x12a8b4['push'](_0x12a8b4['shift']());}}}(a104_0x4004,0xc057d));const Percy=require(a104_0x47e292(0x1dd)),PercySDK=require('./PercySDK'),PercyCaptureModes=require(a104_0x47e292(0x1e0)),PercyCaptureMap=require(a104_0x47e292(0x20a)),logger=require('../logger')[a104_0x47e292(0x1df)],helper=require(a104_0x47e292(0x1ca)),PerformanceTester=require('../performance/performance-tester'),{PERCY_EVENTS:PerformanceEvents}=require(a104_0x47e292(0x1fe));exports[a104_0x47e292(0x203)]=PerformanceTester[a104_0x47e292(0x1f6)](PerformanceEvents['START'],async _0x186b85=>{const _0x477088=a104_0x47e292,_0x1ccff5={};_0x1ccff5[_0x477088(0x1f8)]=_0x477088(0x1d1);const _0x228780=_0x1ccff5;logger[_0x477088(0x1c9)](_0x228780['PQBIx']);const _0x463a00=new Percy(_0x186b85),_0x26c3ee=await _0x463a00[_0x477088(0x1ec)]();if(_0x26c3ee)return _0x463a00;return null;}),exports[a104_0x47e292(0x1e4)]=PerformanceTester['measureWrapper'](PerformanceEvents[a104_0x47e292(0x1da)],async _0x45337d=>{const _0x2cb955=a104_0x47e292,_0x1421bd={};_0x1421bd[_0x2cb955(0x1e6)]=_0x2cb955(0x204);const _0x12a940=_0x1421bd;return logger[_0x2cb955(0x1c9)](_0x12a940[_0x2cb955(0x1e6)]),_0x45337d[_0x2cb955(0x1e2)]();}),exports[a104_0x47e292(0x20c)]=_0xb247c0=>{const _0x69687c=a104_0x47e292,_0x5161fc={};_0x5161fc[_0x69687c(0x1ce)]=function(_0x43f50d,_0x530cb1){return _0x43f50d<_0x530cb1;};const _0x22960f=_0x5161fc,_0x1d1768={};_0x1d1768[_0x69687c(0x1d6)]=0x0,_0x1d1768['firefox']=0x1,_0x1d1768['edge']=0x2,_0x1d1768[_0x69687c(0x205)]=0x3;const _0x4ff4a6=_0x1d1768;return _0xb247c0[_0x69687c(0x1d4)]((_0x512968,_0x112228,_0x44edfc)=>{const _0xa8b55=_0x69687c,_0x52c65a=_0xb247c0[_0x512968];if(_0x112228[_0xa8b55(0x1cd)])return _0x512968;if(_0x52c65a[_0xa8b55(0x1cd)])return _0x44edfc;const _0x311191=_0x112228[_0xa8b55(0x1fc)]?_0x112228[_0xa8b55(0x1fc)]:_0x112228[_0xa8b55(0x1d0)];if(_0x311191&&_0x22960f[_0xa8b55(0x1ce)](_0x4ff4a6[_0x311191['toLowerCase']()],_0x4ff4a6[_0x311191[_0xa8b55(0x20b)]()]))return _0x44edfc;return _0x512968;},0x0);},exports[a104_0x47e292(0x202)]=PerformanceTester[a104_0x47e292(0x1f6)](PerformanceEvents['AUTO_CAPTURE'],async(_0x1398f4,_0x1fac2a,_0x1809ed)=>{const _0x5c6cda=a104_0x47e292,_0x3cf68b={};_0x3cf68b[_0x5c6cda(0x1fd)]='Couldn\x27t\x20capture\x20percy\x20screenshot,\x20no\x20session\x20name\x20present';const _0x1fd89a=_0x3cf68b,_0x5f2881=_0x1398f4[_0x5c6cda(0x1d8)];if(helper['isUndefined'](_0x1398f4['browserstackSessionName'])){logger[_0x5c6cda(0x1c9)](_0x1fd89a[_0x5c6cda(0x1fd)]);return;}const _0x3a85a9=_0x5f2881[_0x5c6cda(0x1ff)](_0x1398f4[_0x5c6cda(0x1ef)],_0x1fac2a);_0x1809ed[_0x5c6cda(0x208)]?await PercySDK[_0x5c6cda(0x1e8)](_0x1398f4,_0x3a85a9):await PercySDK[_0x5c6cda(0x1e1)](_0x1398f4,_0x3a85a9),_0x5f2881['increment'](_0x1398f4[_0x5c6cda(0x1ef)],_0x1fac2a);}),exports['patchDriverPercy']=(_0x4d1702,_0x46c5c8,_0x4aeea3)=>{const _0x5f57c5=a104_0x47e292,_0x2962b9={};_0x2962b9['rpgfi']=_0x5f57c5(0x1eb),_0x2962b9[_0x5f57c5(0x1f2)]=_0x5f57c5(0x207),_0x2962b9[_0x5f57c5(0x1d5)]=function(_0x259548,_0x4041fe){return _0x259548!==_0x4041fe;},_0x2962b9['vkICd']='manual';const _0x943ff6=_0x2962b9;if(!helper['nestedKeyValue'](_0x4aeea3,[_0x943ff6[_0x5f57c5(0x1cf)],_0x943ff6['UBzye']]))return;if(_0x4aeea3[_0x5f57c5(0x1eb)][_0x5f57c5(0x207)]&&_0x4aeea3[_0x5f57c5(0x1eb)][_0x5f57c5(0x1e9)]&&_0x943ff6[_0x5f57c5(0x1d5)](_0x4aeea3[_0x5f57c5(0x1eb)][_0x5f57c5(0x1e9)],_0x943ff6[_0x5f57c5(0x1e3)])&&!_0x4d1702[_0x5f57c5(0x1d8)]){global[_0x5f57c5(0x1ef)]&&(_0x4d1702[_0x5f57c5(0x1ef)]=global['browserstackSessionName']),_0x4d1702['browserstackPercyMap']=new PercyCaptureMap();const _0x492351=PercyCaptureModes[_0x4aeea3[_0x5f57c5(0x1eb)][_0x5f57c5(0x1e9)]];_0x492351[_0x5f57c5(0x1ee)]&&_0x492351[_0x5f57c5(0x1ee)][_0x5f57c5(0x1de)](_0x3c0832=>this['overrideXforPercy'](_0x4d1702,_0x3c0832,_0x4aeea3)),_0x492351[_0x5f57c5(0x1d3)]&&_0x492351[_0x5f57c5(0x1d3)][_0x5f57c5(0x1de)](_0x188b6d=>{const _0x4af5f4=_0x5f57c5;if(_0x46c5c8[_0x4af5f4(0x20d)][_0x4af5f4(0x1e5)+_0x188b6d])return;_0x46c5c8[_0x4af5f4(0x20d)][_0x4af5f4(0x1e5)+_0x188b6d]=!![];const _0x9ae770=_0x46c5c8[_0x4af5f4(0x20d)][_0x188b6d];_0x46c5c8[_0x4af5f4(0x20d)][_0x188b6d]=async function(){const _0xa8d86a=_0x4af5f4;let _0x478585=_0x9ae770['apply'](this,arguments);_0x478585&&_0x478585['then']&&(_0x478585=await _0x478585);try{const _0x293275=this[_0xa8d86a(0x1fa)]();await exports[_0xa8d86a(0x202)](_0x293275,_0x188b6d,_0x4aeea3);}catch(_0x4276ed){logger[_0xa8d86a(0x1d2)](_0xa8d86a(0x1db)+_0x188b6d+_0xa8d86a(0x1d9)+_0x4276ed);}return _0x478585;};});}},exports[a104_0x47e292(0x1ea)]=function(_0x2866a7,_0x1f4f2a,_0x225c0d){const _0x391dcc=a104_0x47e292,_0x163ed6={};_0x163ed6[_0x391dcc(0x201)]=function(_0x406b34,_0x5cad88){return _0x406b34+_0x5cad88;},_0x163ed6[_0x391dcc(0x1f4)]=_0x391dcc(0x1e5),_0x163ed6[_0x391dcc(0x200)]=function(_0x2560b4,_0x3312e4){return _0x2560b4+_0x3312e4;},_0x163ed6[_0x391dcc(0x1e7)]='init';const _0xc424d9=_0x163ed6,_0x44424e=_0xc424d9[_0x391dcc(0x201)](_0xc424d9[_0x391dcc(0x1f4)],_0x1f4f2a),_0x2dbe9f=_0xc424d9['OynDD'](_0xc424d9['JrMjc'],_0x1f4f2a),_0x2ebe88=this;if(_0x2866a7[_0x44424e]||!_0x2866a7[_0x1f4f2a])return;_0x2866a7[_0x44424e]=!![],_0x2866a7[_0x2dbe9f]=_0x2866a7[_0x1f4f2a],_0x2866a7[_0x1f4f2a]=async()=>{const _0x596449=_0x391dcc;try{await _0x2ebe88[_0x596449(0x202)](_0x2866a7,_0x1f4f2a,_0x225c0d);}catch(_0x17886f){logger['error'](_0x596449(0x1db)+_0x1f4f2a+_0x596449(0x1d9)+_0x17886f);}return await _0x2866a7[_0x2dbe9f][_0x596449(0x1f9)](_0x2866a7,arguments);};},exports[a104_0x47e292(0x209)]=_0xf92c90=>{const _0x16de8a=a104_0x47e292,_0x31c9f6={};_0x31c9f6[_0x16de8a(0x1f1)]=_0x16de8a(0x1f7);const _0x211f78=_0x31c9f6,_0x998eeb={};_0x998eeb[_0x16de8a(0x207)]=_0xf92c90['percy'],_0x998eeb[_0x16de8a(0x1e9)]=_0xf92c90['percyCaptureMode']||_0x211f78[_0x16de8a(0x1f1)];const _0x47366c=_0x998eeb;_0xf92c90[_0x16de8a(0x207)]&&(_0x47366c[_0x16de8a(0x1f0)]=exports[_0x16de8a(0x20c)](_0xf92c90['platforms']));;return _0x47366c;};