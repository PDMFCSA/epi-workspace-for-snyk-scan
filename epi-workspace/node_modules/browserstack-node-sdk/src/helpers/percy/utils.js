const a78_0x32498a=a78_0x70c4;function a78_0x229c(){const _0x4cfb26=['START','percyCaptureMode','BMoeQ','ZSXLq','xCmJc','winstonLogger','JbhFk','isUndefined','driver','overrideXforPercy','278354zoXNoT','./PercyCaptureModes','STOP','percyAutoCapture','HoWxE','3619424AbjNqw','./PercySDK','browserStackPercyOptions','Error\x20patching\x20','12drzYMN','4043740xKjXUs','percy','reduce','browserstackPercyBestPlatform','then','getDriver','measureWrapper','error','4852950VaNNnA','vbcyW','apply','chrome','stop','6maonDZ','browserstackPercyMap','toLowerCase','3985071HKFjst','browserName','4407809kbqseq','ZJYNY','prototype','../performance/performance-tester','patchDriverPercy','safari','browserstackSessionName','app','forEach','deviceName','edge','auto','../performance/constants','screenshot','4385605HfOZEl','getPercyOptions','getBestPlatformForPercySnapshot','cgaPI','18uyjjwW','element','firefox','YwjYn','browser','44hofIrr','debug','PItuL','patch','./PercyCaptureMap','platforms','../helper','Couldn\x27t\x20capture\x20percy\x20screenshot,\x20no\x20session\x20name\x20present','\x20for\x20percy\x20'];a78_0x229c=function(){return _0x4cfb26;};return a78_0x229c();}(function(_0x54bcc0,_0x304b65){const _0x390fa0=a78_0x70c4,_0x38b787=_0x54bcc0();while(!![]){try{const _0x25b069=-parseInt(_0x390fa0(0x96))/0x1*(-parseInt(_0x390fa0(0x9f))/0x2)+parseInt(_0x390fa0(0xb0))/0x3+parseInt(_0x390fa0(0xa0))/0x4+-parseInt(_0x390fa0(0xc0))/0x5*(parseInt(_0x390fa0(0xad))/0x6)+parseInt(_0x390fa0(0xb2))/0x7+parseInt(_0x390fa0(0x9b))/0x8*(-parseInt(_0x390fa0(0xc4))/0x9)+parseInt(_0x390fa0(0xa8))/0xa*(-parseInt(_0x390fa0(0x83))/0xb);if(_0x25b069===_0x304b65)break;else _0x38b787['push'](_0x38b787['shift']());}catch(_0x28e759){_0x38b787['push'](_0x38b787['shift']());}}}(a78_0x229c,0xdf9ea));function a78_0x70c4(_0x2adc54,_0x2c7910){const _0x229cc3=a78_0x229c();return a78_0x70c4=function(_0x70c4a7,_0x358ae4){_0x70c4a7=_0x70c4a7-0x7f;let _0x1c9d24=_0x229cc3[_0x70c4a7];return _0x1c9d24;},a78_0x70c4(_0x2adc54,_0x2c7910);}const Percy=require('./Percy'),PercySDK=require(a78_0x32498a(0x9c)),PercyCaptureModes=require(a78_0x32498a(0x97)),PercyCaptureMap=require(a78_0x32498a(0x87)),logger=require('../logger')[a78_0x32498a(0x91)],helper=require(a78_0x32498a(0x89)),PerformanceTester=require(a78_0x32498a(0xb5)),{PERCY_EVENTS:PerformanceEvents}=require(a78_0x32498a(0xbe));exports['startPercy']=PerformanceTester[a78_0x32498a(0xa6)](PerformanceEvents[a78_0x32498a(0x8c)],async _0x1468eb=>{const _0x3ecd00=a78_0x32498a,_0x27b8ef={};_0x27b8ef[_0x3ecd00(0xb3)]='Starting\x20percy';const _0x2febd8=_0x27b8ef;logger['debug'](_0x2febd8[_0x3ecd00(0xb3)]);const _0x596f20=new Percy(_0x1468eb),_0x16b62a=await _0x596f20['start']();if(_0x16b62a)return _0x596f20;return null;}),exports['stopPercy']=PerformanceTester[a78_0x32498a(0xa6)](PerformanceEvents[a78_0x32498a(0x98)],async _0x3e4e26=>{const _0x283d88=a78_0x32498a,_0x4c7d08={};_0x4c7d08[_0x283d88(0x90)]='Stopping\x20percy';const _0x56845b=_0x4c7d08;return logger['debug'](_0x56845b['xCmJc']),_0x3e4e26[_0x283d88(0xac)]();}),exports[a78_0x32498a(0xc2)]=_0x5182ff=>{const _0x2440d3=a78_0x32498a,_0x4db293={};_0x4db293['jUkmx']=function(_0x4e0cf8,_0x24bbe2){return _0x4e0cf8<_0x24bbe2;};const _0x5a6c40=_0x4db293,_0x94835f={};_0x94835f[_0x2440d3(0xab)]=0x0,_0x94835f[_0x2440d3(0x80)]=0x1,_0x94835f[_0x2440d3(0xbc)]=0x2,_0x94835f[_0x2440d3(0xb7)]=0x3;const _0x215ac4=_0x94835f;return _0x5182ff[_0x2440d3(0xa2)]((_0xc4e179,_0x41167b,_0x119fdc)=>{const _0x22a9c2=_0x2440d3,_0x38e5f6=_0x5182ff[_0xc4e179];if(_0x41167b[_0x22a9c2(0xbb)])return _0xc4e179;if(_0x38e5f6[_0x22a9c2(0xbb)])return _0x119fdc;const _0x3ede00=_0x41167b[_0x22a9c2(0x82)]?_0x41167b[_0x22a9c2(0x82)]:_0x41167b[_0x22a9c2(0xb1)];if(_0x3ede00&&_0x5a6c40['jUkmx'](_0x215ac4[_0x3ede00[_0x22a9c2(0xaf)]()],_0x215ac4[_0x3ede00['toLowerCase']()]))return _0x119fdc;return _0xc4e179;},0x0);},exports[a78_0x32498a(0x99)]=PerformanceTester[a78_0x32498a(0xa6)](PerformanceEvents['AUTO_CAPTURE'],async(_0x364355,_0x1766a7,_0x572f38)=>{const _0x1d826b=a78_0x32498a,_0x384142={};_0x384142['jBZup']=_0x1d826b(0x8a);const _0x33ccc5=_0x384142,_0x341c69=_0x364355[_0x1d826b(0xae)];if(helper[_0x1d826b(0x93)](_0x364355['browserstackSessionName'])){logger[_0x1d826b(0x84)](_0x33ccc5['jBZup']);return;}const _0x5cfb35=_0x341c69['getName'](_0x364355['browserstackSessionName'],_0x1766a7);_0x572f38[_0x1d826b(0xb9)]?await PercySDK['screenshotApp'](_0x364355,_0x5cfb35):await PercySDK[_0x1d826b(0xbf)](_0x364355,_0x5cfb35),_0x341c69['increment'](_0x364355['browserstackSessionName'],_0x1766a7);}),exports[a78_0x32498a(0xb6)]=(_0x4f19a0,_0x3f2a93,_0x4c0cf0)=>{const _0x17c424=a78_0x32498a,_0x25975b={};_0x25975b['JbhFk']=_0x17c424(0x9d),_0x25975b['vbcyW']=_0x17c424(0xa1),_0x25975b[_0x17c424(0x81)]=function(_0x291c5d,_0x22120b){return _0x291c5d!==_0x22120b;},_0x25975b[_0x17c424(0x85)]='manual';const _0x47c17d=_0x25975b;if(!helper['nestedKeyValue'](_0x4c0cf0,[_0x47c17d[_0x17c424(0x92)],_0x47c17d[_0x17c424(0xa9)]]))return;if(_0x4c0cf0[_0x17c424(0x9d)][_0x17c424(0xa1)]&&_0x4c0cf0[_0x17c424(0x9d)]['percyCaptureMode']&&_0x47c17d['YwjYn'](_0x4c0cf0[_0x17c424(0x9d)][_0x17c424(0x8d)],_0x47c17d[_0x17c424(0x85)])&&!_0x4f19a0[_0x17c424(0xae)]){global[_0x17c424(0xb8)]&&(_0x4f19a0[_0x17c424(0xb8)]=global[_0x17c424(0xb8)]),_0x4f19a0['browserstackPercyMap']=new PercyCaptureMap();const _0x1290c0=PercyCaptureModes[_0x4c0cf0[_0x17c424(0x9d)][_0x17c424(0x8d)]];_0x1290c0['driver']&&_0x1290c0[_0x17c424(0x94)][_0x17c424(0xba)](_0x5323dc=>this['overrideXforPercy'](_0x4f19a0,_0x5323dc,_0x4c0cf0)),_0x1290c0[_0x17c424(0x7f)]&&_0x1290c0['element'][_0x17c424(0xba)](_0x266da1=>{const _0x348dc2=_0x17c424;if(_0x3f2a93[_0x348dc2(0xb4)][_0x348dc2(0x86)+_0x266da1])return;_0x3f2a93[_0x348dc2(0xb4)]['patch'+_0x266da1]=!![];const _0xf8fa51=_0x3f2a93[_0x348dc2(0xb4)][_0x266da1];_0x3f2a93[_0x348dc2(0xb4)][_0x266da1]=async function(){const _0x5905df=_0x348dc2;let _0x3fb2d0=_0xf8fa51[_0x5905df(0xaa)](this,arguments);_0x3fb2d0&&_0x3fb2d0[_0x5905df(0xa4)]&&(_0x3fb2d0=await _0x3fb2d0);try{const _0xc057d9=this[_0x5905df(0xa5)]();await exports[_0x5905df(0x99)](_0xc057d9,_0x266da1,_0x4c0cf0);}catch(_0x16514b){logger[_0x5905df(0xa7)](_0x5905df(0x9e)+_0x266da1+_0x5905df(0x8b)+_0x16514b);}return _0x3fb2d0;};});}},exports[a78_0x32498a(0x95)]=function(_0x448252,_0x14716c,_0x59f9bf){const _0x22de39=a78_0x32498a,_0x5be1db={};_0x5be1db[_0x22de39(0x8f)]=function(_0x257d40,_0x520a69){return _0x257d40+_0x520a69;},_0x5be1db[_0x22de39(0x9a)]=_0x22de39(0x86),_0x5be1db[_0x22de39(0xc3)]=function(_0x53be97,_0xb6e1f0){return _0x53be97+_0xb6e1f0;},_0x5be1db['Esxki']='init';const _0x14f7bd=_0x5be1db,_0x1e4630=_0x14f7bd['ZSXLq'](_0x14f7bd['HoWxE'],_0x14716c),_0xa2b942=_0x14f7bd['cgaPI'](_0x14f7bd['Esxki'],_0x14716c),_0x2570ce=this;if(_0x448252[_0x1e4630]||!_0x448252[_0x14716c])return;_0x448252[_0x1e4630]=!![],_0x448252[_0xa2b942]=_0x448252[_0x14716c],_0x448252[_0x14716c]=async()=>{const _0x1be76c=_0x22de39;try{await _0x2570ce[_0x1be76c(0x99)](_0x448252,_0x14716c,_0x59f9bf);}catch(_0x3dba53){logger['error'](_0x1be76c(0x9e)+_0x14716c+_0x1be76c(0x8b)+_0x3dba53);}return await _0x448252[_0xa2b942][_0x1be76c(0xaa)](_0x448252,arguments);};},exports[a78_0x32498a(0xc1)]=_0x62c120=>{const _0x19ba97=a78_0x32498a,_0x113895={};_0x113895[_0x19ba97(0x8e)]=_0x19ba97(0xbd);const _0x31691e=_0x113895,_0x473092={};_0x473092[_0x19ba97(0xa1)]=_0x62c120[_0x19ba97(0xa1)],_0x473092['percyCaptureMode']=_0x62c120[_0x19ba97(0x8d)]||_0x31691e[_0x19ba97(0x8e)];const _0x2e689c=_0x473092;_0x62c120[_0x19ba97(0xa1)]&&(_0x2e689c[_0x19ba97(0xa3)]=exports['getBestPlatformForPercySnapshot'](_0x62c120[_0x19ba97(0x88)]));;return _0x2e689c;};