const a77_0x27bc05=a77_0x1f59;function a77_0x1f59(_0x31e6e5,_0x55af67){const _0x483617=a77_0x4836();return a77_0x1f59=function(_0x1f59e7,_0x4c00bd){_0x1f59e7=_0x1f59e7-0x67;let _0xff31bc=_0x483617[_0x1f59e7];return _0xff31bc;},a77_0x1f59(_0x31e6e5,_0x55af67);}(function(_0x24710c,_0x356e48){const _0x239aef=a77_0x1f59,_0x14b342=_0x24710c();while(!![]){try{const _0x4bc1ad=parseInt(_0x239aef(0x92))/0x1+-parseInt(_0x239aef(0x91))/0x2*(parseInt(_0x239aef(0x9f))/0x3)+-parseInt(_0x239aef(0x78))/0x4*(-parseInt(_0x239aef(0x8e))/0x5)+parseInt(_0x239aef(0xaf))/0x6+parseInt(_0x239aef(0x8b))/0x7*(parseInt(_0x239aef(0xa5))/0x8)+parseInt(_0x239aef(0x69))/0x9*(parseInt(_0x239aef(0xa0))/0xa)+-parseInt(_0x239aef(0xac))/0xb;if(_0x4bc1ad===_0x356e48)break;else _0x14b342['push'](_0x14b342['shift']());}catch(_0x3d6544){_0x14b342['push'](_0x14b342['shift']());}}}(a77_0x4836,0xed359));function a77_0x4836(){const _0x3f01d9=['btQAJ','getName','screenshot','tkWPR','bPHCf','reduce','percyCaptureMode','Xinhk','percyAutoCapture','1084kevcLk','error','getBestPlatformForPercySnapshot','element','app','patch','\x20for\x20percy\x20','startPercy','browser','auto','platforms','./PercyCaptureModes','deviceName','ThpxR','patchDriverPercy','AUTO_CAPTURE','./Percy','NeOJD','stDns','1084531MhEzmC','Starting\x20percy','getDriver','8065eDoQJM','manual','../performance/performance-tester','2iddHsP','1912639jtEwUm','browserStackPercyOptions','start','safari','Error\x20patching\x20','nestedKeyValue','increment','measureWrapper','keTWV','debug','edge','browserstackPercyMap','forEach','616119VuSaaW','50zmmZCz','overrideXforPercy','chrome','driver','rKKxM','88jDjDYx','percy','firefox','../helper','stop','browserstackSessionName','browserName','56731576zzeEam','toLowerCase','apply','10810608CjRvDb','START','AnlBT','prototype','861489ayoOYA','hUbQJ','then','STOP','./PercyCaptureMap','qbLGO'];a77_0x4836=function(){return _0x3f01d9;};return a77_0x4836();}const Percy=require(a77_0x27bc05(0x88)),PercySDK=require('./PercySDK'),PercyCaptureModes=require(a77_0x27bc05(0x83)),PercyCaptureMap=require(a77_0x27bc05(0x6d)),logger=require('../logger')['winstonLogger'],helper=require(a77_0x27bc05(0xa8)),PerformanceTester=require(a77_0x27bc05(0x90)),{PERCY_EVENTS:PerformanceEvents}=require('../performance/constants');exports[a77_0x27bc05(0x7f)]=PerformanceTester['measureWrapper'](PerformanceEvents[a77_0x27bc05(0xb0)],async _0x4c2daa=>{const _0x867a7=a77_0x27bc05,_0x234a48={};_0x234a48[_0x867a7(0x6f)]=_0x867a7(0x8c);const _0x33b3bf=_0x234a48;logger[_0x867a7(0x9b)](_0x33b3bf[_0x867a7(0x6f)]);const _0x47c6e0=new Percy(_0x4c2daa),_0x13e24d=await _0x47c6e0[_0x867a7(0x94)]();if(_0x13e24d)return _0x47c6e0;return null;}),exports['stopPercy']=PerformanceTester['measureWrapper'](PerformanceEvents[a77_0x27bc05(0x6c)],async _0x2c7468=>{const _0x4bc2f4=a77_0x27bc05,_0x53e69e={};_0x53e69e[_0x4bc2f4(0x89)]='Stopping\x20percy';const _0x14f5c7=_0x53e69e;return logger[_0x4bc2f4(0x9b)](_0x14f5c7[_0x4bc2f4(0x89)]),_0x2c7468[_0x4bc2f4(0xa9)]();}),exports[a77_0x27bc05(0x7a)]=_0x37071a=>{const _0x3c3ede=a77_0x27bc05,_0x4f6964={};_0x4f6964[_0x3c3ede(0x6e)]=function(_0x36204b,_0x51d3a4){return _0x36204b<_0x51d3a4;};const _0x236265=_0x4f6964,_0x52e747={};_0x52e747[_0x3c3ede(0xa2)]=0x0,_0x52e747[_0x3c3ede(0xa7)]=0x1,_0x52e747[_0x3c3ede(0x9c)]=0x2,_0x52e747[_0x3c3ede(0x95)]=0x3;const _0x398018=_0x52e747;return _0x37071a[_0x3c3ede(0x74)]((_0x3e764c,_0x3a09d2,_0x3e93f8)=>{const _0x30db4c=_0x3c3ede,_0x130dfa=_0x37071a[_0x3e764c];if(_0x3a09d2[_0x30db4c(0x84)])return _0x3e764c;if(_0x130dfa[_0x30db4c(0x84)])return _0x3e93f8;const _0x4e0238=_0x3a09d2[_0x30db4c(0x80)]?_0x3a09d2[_0x30db4c(0x80)]:_0x3a09d2[_0x30db4c(0xab)];if(_0x4e0238&&_0x236265['qbLGO'](_0x398018[_0x4e0238[_0x30db4c(0xad)]()],_0x398018[_0x4e0238[_0x30db4c(0xad)]()]))return _0x3e93f8;return _0x3e764c;},0x0);},exports[a77_0x27bc05(0x77)]=PerformanceTester[a77_0x27bc05(0x99)](PerformanceEvents[a77_0x27bc05(0x87)],async(_0x29fe1e,_0xa10fc9,_0x34c3e8)=>{const _0x25d9d0=a77_0x27bc05,_0x3a7d85={};_0x3a7d85[_0x25d9d0(0x6a)]='Couldn\x27t\x20capture\x20percy\x20screenshot,\x20no\x20session\x20name\x20present';const _0x26c9e9=_0x3a7d85,_0x518bd3=_0x29fe1e[_0x25d9d0(0x9d)];if(helper['isUndefined'](_0x29fe1e[_0x25d9d0(0xaa)])){logger['debug'](_0x26c9e9['hUbQJ']);return;}const _0x5c6fac=_0x518bd3[_0x25d9d0(0x70)](_0x29fe1e['browserstackSessionName'],_0xa10fc9);_0x34c3e8[_0x25d9d0(0x7c)]?await PercySDK['screenshotApp'](_0x29fe1e,_0x5c6fac):await PercySDK[_0x25d9d0(0x71)](_0x29fe1e,_0x5c6fac),_0x518bd3[_0x25d9d0(0x98)](_0x29fe1e[_0x25d9d0(0xaa)],_0xa10fc9);}),exports[a77_0x27bc05(0x86)]=(_0x426723,_0x4a4dd3,_0x490fe0)=>{const _0x19b21b=a77_0x27bc05,_0x29f961={};_0x29f961[_0x19b21b(0x76)]=_0x19b21b(0x93),_0x29f961['WZPkE']=_0x19b21b(0xa6),_0x29f961[_0x19b21b(0x8a)]=function(_0x34c9bb,_0x4cabc3){return _0x34c9bb!==_0x4cabc3;},_0x29f961[_0x19b21b(0x73)]=_0x19b21b(0x8f);const _0x123bab=_0x29f961;if(!helper[_0x19b21b(0x97)](_0x490fe0,[_0x123bab['Xinhk'],_0x123bab['WZPkE']]))return;if(_0x490fe0['browserStackPercyOptions'][_0x19b21b(0xa6)]&&_0x490fe0[_0x19b21b(0x93)][_0x19b21b(0x75)]&&_0x123bab[_0x19b21b(0x8a)](_0x490fe0[_0x19b21b(0x93)]['percyCaptureMode'],_0x123bab['bPHCf'])&&!_0x426723[_0x19b21b(0x9d)]){global[_0x19b21b(0xaa)]&&(_0x426723[_0x19b21b(0xaa)]=global[_0x19b21b(0xaa)]),_0x426723[_0x19b21b(0x9d)]=new PercyCaptureMap();const _0x3d0dc2=PercyCaptureModes[_0x490fe0[_0x19b21b(0x93)][_0x19b21b(0x75)]];_0x3d0dc2[_0x19b21b(0xa3)]&&_0x3d0dc2['driver'][_0x19b21b(0x9e)](_0x44eb26=>this[_0x19b21b(0xa1)](_0x426723,_0x44eb26,_0x490fe0)),_0x3d0dc2[_0x19b21b(0x7b)]&&_0x3d0dc2[_0x19b21b(0x7b)]['forEach'](_0x112167=>{const _0x149750=_0x19b21b;if(_0x4a4dd3['prototype'][_0x149750(0x7d)+_0x112167])return;_0x4a4dd3[_0x149750(0x68)][_0x149750(0x7d)+_0x112167]=!![];const _0x7566e8=_0x4a4dd3[_0x149750(0x68)][_0x112167];_0x4a4dd3[_0x149750(0x68)][_0x112167]=async function(){const _0x5eadb=_0x149750;let _0xf683cc=_0x7566e8[_0x5eadb(0xae)](this,arguments);_0xf683cc&&_0xf683cc[_0x5eadb(0x6b)]&&(_0xf683cc=await _0xf683cc);try{const _0x2c5565=this[_0x5eadb(0x8d)]();await exports['percyAutoCapture'](_0x2c5565,_0x112167,_0x490fe0);}catch(_0xb1b494){logger['error'](_0x5eadb(0x96)+_0x112167+'\x20for\x20percy\x20'+_0xb1b494);}return _0xf683cc;};});}},exports[a77_0x27bc05(0xa1)]=function(_0x9f8744,_0x4d0fa0,_0x12e1a9){const _0x59feed=a77_0x27bc05,_0x3a4ff1={};_0x3a4ff1[_0x59feed(0x9a)]=function(_0x2edbf7,_0x1e0cb0){return _0x2edbf7+_0x1e0cb0;},_0x3a4ff1[_0x59feed(0x72)]=_0x59feed(0x7d),_0x3a4ff1[_0x59feed(0x67)]=function(_0x128cd3,_0x2da70e){return _0x128cd3+_0x2da70e;},_0x3a4ff1['rKKxM']='init';const _0x4aacad=_0x3a4ff1,_0x303f3d=_0x4aacad['keTWV'](_0x4aacad[_0x59feed(0x72)],_0x4d0fa0),_0x5b22ba=_0x4aacad[_0x59feed(0x67)](_0x4aacad[_0x59feed(0xa4)],_0x4d0fa0),_0x19bd8b=this;if(_0x9f8744[_0x303f3d]||!_0x9f8744[_0x4d0fa0])return;_0x9f8744[_0x303f3d]=!![],_0x9f8744[_0x5b22ba]=_0x9f8744[_0x4d0fa0],_0x9f8744[_0x4d0fa0]=async()=>{const _0x1a552d=_0x59feed;try{await _0x19bd8b[_0x1a552d(0x77)](_0x9f8744,_0x4d0fa0,_0x12e1a9);}catch(_0x2a736d){logger[_0x1a552d(0x79)](_0x1a552d(0x96)+_0x4d0fa0+_0x1a552d(0x7e)+_0x2a736d);}return await _0x9f8744[_0x5b22ba][_0x1a552d(0xae)](_0x9f8744,arguments);};},exports['getPercyOptions']=_0x3fdc49=>{const _0x1d3a9f=a77_0x27bc05,_0x21b6ee={};_0x21b6ee[_0x1d3a9f(0x85)]=_0x1d3a9f(0x81);const _0x1b2040=_0x21b6ee,_0x42620e={};_0x42620e[_0x1d3a9f(0xa6)]=_0x3fdc49['percy'],_0x42620e[_0x1d3a9f(0x75)]=_0x3fdc49[_0x1d3a9f(0x75)]||_0x1b2040[_0x1d3a9f(0x85)];const _0x19028e=_0x42620e;_0x3fdc49['percy']&&(_0x19028e['browserstackPercyBestPlatform']=exports['getBestPlatformForPercySnapshot'](_0x3fdc49[_0x1d3a9f(0x82)]));;return _0x19028e;};