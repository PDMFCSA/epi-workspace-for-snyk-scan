const a109_0x122f70=a109_0x56c2;function a109_0x1043(){const _0x34e6b0=['init','getBestPlatformForPercySnapshot','Starting\x20percy','safari','91IXJwOc','apply','fNuMb','firefox','getDriver','start','measureWrapper','hVkDy','browserStackPercyOptions','../helper','634290AnZrRB','winstonLogger','driver','overrideXforPercy','RUsVO','percy','ebhpg','isUndefined','patchDriverPercy','cfLWG','screenshotApp','stop','reduce','DnWjT','browserstackPercyMap','platforms','nestedKeyValue','102714hGmGAo','FPPUD','../performance/constants','percyCaptureMode','auto','GrOKR','edge','stopPercy','prototype','75mNbCBy','MtZqm','9ZphSVr','./PercySDK','error','Stopping\x20percy','./Percy','START','../performance/performance-tester','toLowerCase','\x20for\x20percy\x20','fyxlk','197196MkGYZG','106453LerWBr','forEach','debug','2520290gylxNW','1917616dmqHnL','7116XKqTOt','browserstackPercyBestPlatform','kcNbm','browserstackSessionName','browser','percyAutoCapture','then','Error\x20patching\x20','./PercyCaptureMap','element','getName','patch'];a109_0x1043=function(){return _0x34e6b0;};return a109_0x1043();}(function(_0x17c72b,_0x23c42c){const _0xe29e1f=a109_0x56c2,_0x1cc332=_0x17c72b();while(!![]){try{const _0x2c79c2=-parseInt(_0xe29e1f(0x70))/0x1+parseInt(_0xe29e1f(0xb5))/0x2+-parseInt(_0xe29e1f(0xa9))/0x3*(-parseInt(_0xe29e1f(0x75))/0x4)+-parseInt(_0xe29e1f(0x8f))/0x5+parseInt(_0xe29e1f(0xa0))/0x6*(parseInt(_0xe29e1f(0x85))/0x7)+parseInt(_0xe29e1f(0x74))/0x8+-parseInt(_0xe29e1f(0xab))/0x9*(parseInt(_0xe29e1f(0x73))/0xa);if(_0x2c79c2===_0x23c42c)break;else _0x1cc332['push'](_0x1cc332['shift']());}catch(_0x494630){_0x1cc332['push'](_0x1cc332['shift']());}}}(a109_0x1043,0x1d4ae));const Percy=require(a109_0x122f70(0xaf)),PercySDK=require(a109_0x122f70(0xac)),PercyCaptureModes=require('./PercyCaptureModes'),PercyCaptureMap=require(a109_0x122f70(0x7d)),logger=require('../logger')[a109_0x122f70(0x90)],helper=require(a109_0x122f70(0x8e)),PerformanceTester=require(a109_0x122f70(0xb1)),{PERCY_EVENTS:PerformanceEvents}=require(a109_0x122f70(0xa2));function a109_0x56c2(_0x4e1b5e,_0x278c0e){const _0x104334=a109_0x1043();return a109_0x56c2=function(_0x56c226,_0x300ca9){_0x56c226=_0x56c226-0x70;let _0x243049=_0x104334[_0x56c226];return _0x243049;},a109_0x56c2(_0x4e1b5e,_0x278c0e);}exports['startPercy']=PerformanceTester[a109_0x122f70(0x8b)](PerformanceEvents[a109_0x122f70(0xb0)],async _0x40d354=>{const _0x3913f1=a109_0x122f70,_0x288b98={};_0x288b98['DnWjT']=_0x3913f1(0x83);const _0x5dabf6=_0x288b98;logger['debug'](_0x5dabf6[_0x3913f1(0x9c)]);const _0x38c607=new Percy(_0x40d354),_0x57c5bc=await _0x38c607[_0x3913f1(0x8a)]();if(_0x57c5bc)return _0x38c607;return null;}),exports[a109_0x122f70(0xa7)]=PerformanceTester[a109_0x122f70(0x8b)](PerformanceEvents['STOP'],async _0x23abcd=>{const _0x58b562=a109_0x122f70,_0x350605={};_0x350605[_0x58b562(0x87)]=_0x58b562(0xae);const _0x3d9d01=_0x350605;return logger[_0x58b562(0x72)](_0x3d9d01[_0x58b562(0x87)]),_0x23abcd[_0x58b562(0x9a)]();}),exports[a109_0x122f70(0x82)]=_0x5ebc31=>{const _0x498a36=a109_0x122f70,_0x4eaed7={};_0x4eaed7[_0x498a36(0xa1)]=function(_0xfaf1e0,_0x39c74a){return _0xfaf1e0<_0x39c74a;};const _0xe22b0d=_0x4eaed7,_0xc00e93={};_0xc00e93['chrome']=0x0,_0xc00e93[_0x498a36(0x88)]=0x1,_0xc00e93[_0x498a36(0xa6)]=0x2,_0xc00e93[_0x498a36(0x84)]=0x3;const _0x4161f8=_0xc00e93;return _0x5ebc31[_0x498a36(0x9b)]((_0x598819,_0x5a2eb0,_0x5b1bd3)=>{const _0x3d91b3=_0x498a36,_0xadc0d5=_0x5ebc31[_0x598819];if(_0x5a2eb0['deviceName'])return _0x598819;if(_0xadc0d5['deviceName'])return _0x5b1bd3;const _0x3d5e8a=_0x5a2eb0[_0x3d91b3(0x79)]?_0x5a2eb0[_0x3d91b3(0x79)]:_0x5a2eb0['browserName'];if(_0x3d5e8a&&_0xe22b0d['FPPUD'](_0x4161f8[_0x3d5e8a[_0x3d91b3(0xb2)]()],_0x4161f8[_0x3d5e8a[_0x3d91b3(0xb2)]()]))return _0x5b1bd3;return _0x598819;},0x0);},exports[a109_0x122f70(0x7a)]=PerformanceTester[a109_0x122f70(0x8b)](PerformanceEvents['AUTO_CAPTURE'],async(_0x5b7669,_0x56096f,_0x284136)=>{const _0x58a8d5=a109_0x122f70,_0x37f606={};_0x37f606['XaFeA']='Couldn\x27t\x20capture\x20percy\x20screenshot,\x20no\x20session\x20name\x20present';const _0x3afb90=_0x37f606,_0xed744b=_0x5b7669['browserstackPercyMap'];if(helper[_0x58a8d5(0x96)](_0x5b7669[_0x58a8d5(0x78)])){logger[_0x58a8d5(0x72)](_0x3afb90['XaFeA']);return;}const _0xd73129=_0xed744b[_0x58a8d5(0x7f)](_0x5b7669[_0x58a8d5(0x78)],_0x56096f);_0x284136['app']?await PercySDK[_0x58a8d5(0x99)](_0x5b7669,_0xd73129):await PercySDK['screenshot'](_0x5b7669,_0xd73129),_0xed744b['increment'](_0x5b7669[_0x58a8d5(0x78)],_0x56096f);}),exports[a109_0x122f70(0x97)]=(_0x32f59b,_0x5987d3,_0x3805e6)=>{const _0x4dba99=a109_0x122f70,_0x49069a={};_0x49069a[_0x4dba99(0x77)]=_0x4dba99(0x8d),_0x49069a[_0x4dba99(0xa5)]='percy',_0x49069a['ebhpg']=function(_0x42310f,_0x1c87f0){return _0x42310f!==_0x1c87f0;},_0x49069a[_0x4dba99(0x98)]='manual';const _0x11dc35=_0x49069a;if(!helper[_0x4dba99(0x9f)](_0x3805e6,[_0x11dc35[_0x4dba99(0x77)],_0x11dc35[_0x4dba99(0xa5)]]))return;if(_0x3805e6[_0x4dba99(0x8d)]['percy']&&_0x3805e6[_0x4dba99(0x8d)]['percyCaptureMode']&&_0x11dc35[_0x4dba99(0x95)](_0x3805e6['browserStackPercyOptions'][_0x4dba99(0xa3)],_0x11dc35[_0x4dba99(0x98)])&&!_0x32f59b[_0x4dba99(0x9d)]){global['browserstackSessionName']&&(_0x32f59b[_0x4dba99(0x78)]=global['browserstackSessionName']),_0x32f59b['browserstackPercyMap']=new PercyCaptureMap();const _0xc44a92=PercyCaptureModes[_0x3805e6[_0x4dba99(0x8d)][_0x4dba99(0xa3)]];_0xc44a92[_0x4dba99(0x91)]&&_0xc44a92[_0x4dba99(0x91)][_0x4dba99(0x71)](_0x36d671=>this['overrideXforPercy'](_0x32f59b,_0x36d671,_0x3805e6)),_0xc44a92['element']&&_0xc44a92[_0x4dba99(0x7e)][_0x4dba99(0x71)](_0xca63fc=>{const _0x4d6b8c=_0x4dba99;if(_0x5987d3[_0x4d6b8c(0xa8)][_0x4d6b8c(0x80)+_0xca63fc])return;_0x5987d3['prototype'][_0x4d6b8c(0x80)+_0xca63fc]=!![];const _0x2c1c4d=_0x5987d3[_0x4d6b8c(0xa8)][_0xca63fc];_0x5987d3[_0x4d6b8c(0xa8)][_0xca63fc]=async function(){const _0x3165e5=_0x4d6b8c;let _0x6b3cb2=_0x2c1c4d['apply'](this,arguments);_0x6b3cb2&&_0x6b3cb2[_0x3165e5(0x7b)]&&(_0x6b3cb2=await _0x6b3cb2);try{const _0x4539ff=this[_0x3165e5(0x89)]();await exports['percyAutoCapture'](_0x4539ff,_0xca63fc,_0x3805e6);}catch(_0x4393d9){logger[_0x3165e5(0xad)](_0x3165e5(0x7c)+_0xca63fc+_0x3165e5(0xb3)+_0x4393d9);}return _0x6b3cb2;};});}},exports[a109_0x122f70(0x92)]=function(_0x4fc1bc,_0x4527da,_0x1c956e){const _0x5a32c9=a109_0x122f70,_0x3a59be={};_0x3a59be[_0x5a32c9(0x93)]=function(_0x28ae5c,_0x4cc202){return _0x28ae5c+_0x4cc202;},_0x3a59be[_0x5a32c9(0xaa)]='patch',_0x3a59be[_0x5a32c9(0xb4)]=_0x5a32c9(0x81);const _0x5c53ab=_0x3a59be,_0x5ef700=_0x5c53ab[_0x5a32c9(0x93)](_0x5c53ab[_0x5a32c9(0xaa)],_0x4527da),_0x455c9f=_0x5c53ab[_0x5a32c9(0x93)](_0x5c53ab[_0x5a32c9(0xb4)],_0x4527da),_0x28b348=this;if(_0x4fc1bc[_0x5ef700]||!_0x4fc1bc[_0x4527da])return;_0x4fc1bc[_0x5ef700]=!![],_0x4fc1bc[_0x455c9f]=_0x4fc1bc[_0x4527da],_0x4fc1bc[_0x4527da]=async()=>{const _0x59cbe8=_0x5a32c9;try{await _0x28b348['percyAutoCapture'](_0x4fc1bc,_0x4527da,_0x1c956e);}catch(_0x2d9b41){logger['error'](_0x59cbe8(0x7c)+_0x4527da+_0x59cbe8(0xb3)+_0x2d9b41);}return await _0x4fc1bc[_0x455c9f][_0x59cbe8(0x86)](_0x4fc1bc,arguments);};},exports['getPercyOptions']=_0x575a82=>{const _0x3a9581=a109_0x122f70,_0x386c1f={};_0x386c1f['hVkDy']=_0x3a9581(0xa4);const _0x87f996=_0x386c1f,_0x36b7d0={};_0x36b7d0['percy']=_0x575a82[_0x3a9581(0x94)],_0x36b7d0[_0x3a9581(0xa3)]=_0x575a82['percyCaptureMode']||_0x87f996[_0x3a9581(0x8c)];const _0x804ad=_0x36b7d0;_0x575a82['percy']&&(_0x804ad[_0x3a9581(0x76)]=exports['getBestPlatformForPercySnapshot'](_0x575a82[_0x3a9581(0x9e)]));;return _0x804ad;};