const a78_0x286c98=a78_0x24c7;(function(_0x367c0c,_0x3942da){const _0x5d11f=a78_0x24c7,_0x6df896=_0x367c0c();while(!![]){try{const _0x3e4006=parseInt(_0x5d11f(0x100))/0x1+parseInt(_0x5d11f(0xc8))/0x2*(parseInt(_0x5d11f(0xd0))/0x3)+parseInt(_0x5d11f(0xe0))/0x4+parseInt(_0x5d11f(0xe4))/0x5+-parseInt(_0x5d11f(0xd8))/0x6*(-parseInt(_0x5d11f(0xcc))/0x7)+parseInt(_0x5d11f(0xd6))/0x8+parseInt(_0x5d11f(0xe2))/0x9*(-parseInt(_0x5d11f(0x10d))/0xa);if(_0x3e4006===_0x3942da)break;else _0x6df896['push'](_0x6df896['shift']());}catch(_0x4a4d53){_0x6df896['push'](_0x6df896['shift']());}}}(a78_0x15c2,0x9a167));function a78_0x15c2(){const _0x2807ba=['Error\x20patching\x20','FqphB','7WMBfpp','toLowerCase','isUndefined','hCDeU','267zLkByF','eGWmE','getPercyOptions','error','edge','app','6956880zFvitt','browserName','4820334rojTsQ','browserStackPercyOptions','patchDriverPercy','stop','Stopping\x20percy','reduce','chrome','screenshot','1836696WgKBeL','nestedKeyValue','459cjFWvA','./PercySDK','1556245HRXpyI','./PercyCaptureModes','patch','overrideXforPercy','screenshotApp','STOP','platforms','measureWrapper','\x20for\x20percy\x20','QxpBn','./PercyCaptureMap','percyCaptureMode','browser','percy','RxpbN','REMvN','apply','FuLEW','dEzQj','browserstackPercyBestPlatform','forEach','getDriver','qeEEA','START','browserstackSessionName','JFyKO','init','prototype','176150DgzMZt','startPercy','then','./Percy','deviceName','Qwjir','driver','mCSfB','../performance/constants','debug','safari','start','manual','457720FDOIuk','firefox','Couldn\x27t\x20capture\x20percy\x20screenshot,\x20no\x20session\x20name\x20present','increment','auto','browserstackPercyMap','7774fwVrWW','percyAutoCapture'];a78_0x15c2=function(){return _0x2807ba;};return a78_0x15c2();}const Percy=require(a78_0x286c98(0x103)),PercySDK=require(a78_0x286c98(0xe3)),PercyCaptureModes=require(a78_0x286c98(0xe5)),PercyCaptureMap=require(a78_0x286c98(0xee)),logger=require('../logger')['winstonLogger'],helper=require('../helper'),PerformanceTester=require('../performance/performance-tester'),{PERCY_EVENTS:PerformanceEvents}=require(a78_0x286c98(0x108));function a78_0x24c7(_0x53d5e1,_0x48ebc7){const _0x15c217=a78_0x15c2();return a78_0x24c7=function(_0x24c7f9,_0x377c5c){_0x24c7f9=_0x24c7f9-0xc5;let _0x4710e7=_0x15c217[_0x24c7f9];return _0x4710e7;},a78_0x24c7(_0x53d5e1,_0x48ebc7);}exports[a78_0x286c98(0x101)]=PerformanceTester[a78_0x286c98(0xeb)](PerformanceEvents[a78_0x286c98(0xfb)],async _0x1ddd53=>{const _0x1e86b6=a78_0x286c98,_0x22fa04={};_0x22fa04[_0x1e86b6(0xf2)]='Starting\x20percy';const _0x17af83=_0x22fa04;logger[_0x1e86b6(0x109)](_0x17af83[_0x1e86b6(0xf2)]);const _0x102d35=new Percy(_0x1ddd53),_0x52688c=await _0x102d35[_0x1e86b6(0x10b)]();if(_0x52688c)return _0x102d35;return null;}),exports['stopPercy']=PerformanceTester[a78_0x286c98(0xeb)](PerformanceEvents[a78_0x286c98(0xe9)],async _0x289f47=>{const _0x3cc631=a78_0x286c98,_0xadc166={};_0xadc166[_0x3cc631(0x105)]=_0x3cc631(0xdc);const _0x113526=_0xadc166;return logger[_0x3cc631(0x109)](_0x113526[_0x3cc631(0x105)]),_0x289f47[_0x3cc631(0xdb)]();}),exports['getBestPlatformForPercySnapshot']=_0x210319=>{const _0x48c5b0=a78_0x286c98,_0x1d9be8={};_0x1d9be8[_0x48c5b0(0xcf)]=function(_0x36b7b3,_0x2be9d9){return _0x36b7b3<_0x2be9d9;};const _0x3a154d=_0x1d9be8,_0x5cc2cd={};_0x5cc2cd[_0x48c5b0(0xde)]=0x0,_0x5cc2cd[_0x48c5b0(0x10e)]=0x1,_0x5cc2cd[_0x48c5b0(0xd4)]=0x2,_0x5cc2cd[_0x48c5b0(0x10a)]=0x3;const _0x20bae0=_0x5cc2cd;return _0x210319[_0x48c5b0(0xdd)]((_0x301a47,_0x1107e7,_0x31e075)=>{const _0x134209=_0x48c5b0,_0x127d5f=_0x210319[_0x301a47];if(_0x1107e7[_0x134209(0x104)])return _0x301a47;if(_0x127d5f[_0x134209(0x104)])return _0x31e075;const _0x3b7637=_0x1107e7[_0x134209(0xf0)]?_0x1107e7[_0x134209(0xf0)]:_0x1107e7[_0x134209(0xd7)];if(_0x3b7637&&_0x3a154d[_0x134209(0xcf)](_0x20bae0[_0x3b7637['toLowerCase']()],_0x20bae0[_0x3b7637[_0x134209(0xcd)]()]))return _0x31e075;return _0x301a47;},0x0);},exports[a78_0x286c98(0xc9)]=PerformanceTester[a78_0x286c98(0xeb)](PerformanceEvents['AUTO_CAPTURE'],async(_0x2bb1c3,_0x2f00f5,_0x5c029a)=>{const _0x2bc6ea=a78_0x286c98,_0x40f972={};_0x40f972['mCSfB']=_0x2bc6ea(0x10f);const _0x3fc06e=_0x40f972,_0x47d14c=_0x2bb1c3[_0x2bc6ea(0xc7)];if(helper[_0x2bc6ea(0xce)](_0x2bb1c3['browserstackSessionName'])){logger['debug'](_0x3fc06e[_0x2bc6ea(0x107)]);return;}const _0x569ac0=_0x47d14c['getName'](_0x2bb1c3['browserstackSessionName'],_0x2f00f5);_0x5c029a[_0x2bc6ea(0xd5)]?await PercySDK[_0x2bc6ea(0xe8)](_0x2bb1c3,_0x569ac0):await PercySDK[_0x2bc6ea(0xdf)](_0x2bb1c3,_0x569ac0),_0x47d14c[_0x2bc6ea(0xc5)](_0x2bb1c3['browserstackSessionName'],_0x2f00f5);}),exports[a78_0x286c98(0xda)]=(_0x55f743,_0x5c2d25,_0x176ef4)=>{const _0x4f4c60=a78_0x286c98,_0x2c4a07={};_0x2c4a07[_0x4f4c60(0xf3)]=_0x4f4c60(0xd9),_0x2c4a07[_0x4f4c60(0xf6)]='percy',_0x2c4a07[_0x4f4c60(0xed)]=function(_0x56e785,_0x4bdfe1){return _0x56e785!==_0x4bdfe1;},_0x2c4a07[_0x4f4c60(0xfd)]=_0x4f4c60(0x10c);const _0x1295a4=_0x2c4a07;if(!helper[_0x4f4c60(0xe1)](_0x176ef4,[_0x1295a4[_0x4f4c60(0xf3)],_0x1295a4['dEzQj']]))return;if(_0x176ef4['browserStackPercyOptions'][_0x4f4c60(0xf1)]&&_0x176ef4[_0x4f4c60(0xd9)][_0x4f4c60(0xef)]&&_0x1295a4[_0x4f4c60(0xed)](_0x176ef4[_0x4f4c60(0xd9)]['percyCaptureMode'],_0x1295a4[_0x4f4c60(0xfd)])&&!_0x55f743[_0x4f4c60(0xc7)]){global[_0x4f4c60(0xfc)]&&(_0x55f743[_0x4f4c60(0xfc)]=global[_0x4f4c60(0xfc)]),_0x55f743[_0x4f4c60(0xc7)]=new PercyCaptureMap();const _0x2c0d1e=PercyCaptureModes[_0x176ef4[_0x4f4c60(0xd9)][_0x4f4c60(0xef)]];_0x2c0d1e[_0x4f4c60(0x106)]&&_0x2c0d1e[_0x4f4c60(0x106)][_0x4f4c60(0xf8)](_0x176991=>this['overrideXforPercy'](_0x55f743,_0x176991,_0x176ef4)),_0x2c0d1e['element']&&_0x2c0d1e['element'][_0x4f4c60(0xf8)](_0x258017=>{const _0x60faee=_0x4f4c60;if(_0x5c2d25[_0x60faee(0xff)][_0x60faee(0xe6)+_0x258017])return;_0x5c2d25[_0x60faee(0xff)][_0x60faee(0xe6)+_0x258017]=!![];const _0x4c7b74=_0x5c2d25[_0x60faee(0xff)][_0x258017];_0x5c2d25[_0x60faee(0xff)][_0x258017]=async function(){const _0x373c0a=_0x60faee;let _0x194660=_0x4c7b74[_0x373c0a(0xf4)](this,arguments);_0x194660&&_0x194660[_0x373c0a(0x102)]&&(_0x194660=await _0x194660);try{const _0x2353be=this[_0x373c0a(0xf9)]();await exports[_0x373c0a(0xc9)](_0x2353be,_0x258017,_0x176ef4);}catch(_0x182e18){logger[_0x373c0a(0xd3)]('Error\x20patching\x20'+_0x258017+_0x373c0a(0xec)+_0x182e18);}return _0x194660;};});}},exports[a78_0x286c98(0xe7)]=function(_0x4a5ced,_0x300b98,_0x3d6af8){const _0x54d206=a78_0x286c98,_0x29280a={};_0x29280a[_0x54d206(0xfa)]=function(_0xd4a42b,_0x49aac2){return _0xd4a42b+_0x49aac2;},_0x29280a[_0x54d206(0xf5)]=_0x54d206(0xe6),_0x29280a[_0x54d206(0xcb)]=_0x54d206(0xfe);const _0x2c2861=_0x29280a,_0x26eb25=_0x2c2861[_0x54d206(0xfa)](_0x2c2861[_0x54d206(0xf5)],_0x300b98),_0x587a5b=_0x2c2861[_0x54d206(0xfa)](_0x2c2861[_0x54d206(0xcb)],_0x300b98),_0x5026b3=this;if(_0x4a5ced[_0x26eb25]||!_0x4a5ced[_0x300b98])return;_0x4a5ced[_0x26eb25]=!![],_0x4a5ced[_0x587a5b]=_0x4a5ced[_0x300b98],_0x4a5ced[_0x300b98]=async()=>{const _0x52fd61=_0x54d206;try{await _0x5026b3[_0x52fd61(0xc9)](_0x4a5ced,_0x300b98,_0x3d6af8);}catch(_0x1b3c51){logger['error'](_0x52fd61(0xca)+_0x300b98+'\x20for\x20percy\x20'+_0x1b3c51);}return await _0x4a5ced[_0x587a5b][_0x52fd61(0xf4)](_0x4a5ced,arguments);};},exports[a78_0x286c98(0xd2)]=_0x532fe4=>{const _0x4696db=a78_0x286c98,_0x446d76={};_0x446d76['eGWmE']=_0x4696db(0xc6);const _0x42ea09=_0x446d76,_0x32ca26={};_0x32ca26['percy']=_0x532fe4['percy'],_0x32ca26[_0x4696db(0xef)]=_0x532fe4[_0x4696db(0xef)]||_0x42ea09[_0x4696db(0xd1)];const _0x3ee607=_0x32ca26;_0x532fe4['percy']&&(_0x3ee607[_0x4696db(0xf7)]=exports['getBestPlatformForPercySnapshot'](_0x532fe4[_0x4696db(0xea)]));;return _0x3ee607;};