const a119_0x25a37f=a119_0x8bce;function a119_0x4380(){const _0x396f51=['./PercyCaptureMap','10711526XHTICZ','screenshotApp','luhBS','../helper','OkhuX','apply','getBestPlatformForPercySnapshot','firefox','qZlQS','3KFCISs','4354576kDNnIy','YssfI','zamfA','patchDriverPercy','getName','driver','browserstackPercyMap','6JwDISa','percy','chrome','getDriver','auto','296995NZCKHW','deviceName','startPercy','Error\x20patching\x20','debug','browserName','Stopping\x20percy','browser','prototype','AUTO_CAPTURE','percyAutoCapture','getPercyOptions','browserstackPercyBestPlatform','13059945vIJtdW','iDABq','yyOyp','manual','5613DqfAtE','patch','app','edge','3450048WnbnAe','toLowerCase','forEach','nfXwf','stop','percyCaptureMode','../performance/performance-tester','start','screenshot','Starting\x20percy','safari','15157021nJfnRD','error','browserstackSessionName','8tglVOn','jnRwY','winstonLogger','measureWrapper','element','nestedKeyValue','overrideXforPercy','10dbOrzc','browserStackPercyOptions','then','JJeQX','\x20for\x20percy\x20'];a119_0x4380=function(){return _0x396f51;};return a119_0x4380();}(function(_0x11ec7d,_0x6a3a5){const _0xd94370=a119_0x8bce,_0x272cff=_0x11ec7d();while(!![]){try{const _0x55caba=-parseInt(_0xd94370(0x120))/0x1+-parseInt(_0xd94370(0x124))/0x2+-parseInt(_0xd94370(0x102))/0x3*(-parseInt(_0xd94370(0x103))/0x4)+parseInt(_0xd94370(0x10f))/0x5*(-parseInt(_0xd94370(0x10a))/0x6)+parseInt(_0xd94370(0xf9))/0x7+parseInt(_0xd94370(0x132))/0x8*(parseInt(_0xd94370(0x11c))/0x9)+parseInt(_0xd94370(0x139))/0xa*(-parseInt(_0xd94370(0x12f))/0xb);if(_0x55caba===_0x6a3a5)break;else _0x272cff['push'](_0x272cff['shift']());}catch(_0x263716){_0x272cff['push'](_0x272cff['shift']());}}}(a119_0x4380,0xdc384));function a119_0x8bce(_0x31c935,_0x2ea7f5){const _0x438019=a119_0x4380();return a119_0x8bce=function(_0x8bce43,_0x394c38){_0x8bce43=_0x8bce43-0xf8;let _0x103098=_0x438019[_0x8bce43];return _0x103098;},a119_0x8bce(_0x31c935,_0x2ea7f5);}const Percy=require('./Percy'),PercySDK=require('./PercySDK'),PercyCaptureModes=require('./PercyCaptureModes'),PercyCaptureMap=require(a119_0x25a37f(0xf8)),logger=require('../logger')[a119_0x25a37f(0x134)],helper=require(a119_0x25a37f(0xfc)),PerformanceTester=require(a119_0x25a37f(0x12a)),{PERCY_EVENTS:PerformanceEvents}=require('../performance/constants');exports[a119_0x25a37f(0x111)]=PerformanceTester[a119_0x25a37f(0x135)](PerformanceEvents['START'],async _0x321fea=>{const _0x1428b6=a119_0x25a37f,_0x43c590={};_0x43c590[_0x1428b6(0xfb)]=_0x1428b6(0x12d);const _0x7a69cc=_0x43c590;logger[_0x1428b6(0x113)](_0x7a69cc[_0x1428b6(0xfb)]);const _0xb35e62=new Percy(_0x321fea),_0x16147d=await _0xb35e62[_0x1428b6(0x12b)]();if(_0x16147d)return _0xb35e62;return null;}),exports['stopPercy']=PerformanceTester['measureWrapper'](PerformanceEvents['STOP'],async _0x111a06=>{const _0x4844ab=a119_0x25a37f,_0x33a4f1={};_0x33a4f1[_0x4844ab(0x127)]=_0x4844ab(0x115);const _0x5aeec9=_0x33a4f1;return logger['debug'](_0x5aeec9[_0x4844ab(0x127)]),_0x111a06[_0x4844ab(0x128)]();}),exports[a119_0x25a37f(0xff)]=_0x5912f4=>{const _0x93c1c5=a119_0x25a37f,_0x11d2ea={};_0x11d2ea[_0x93c1c5(0x105)]=function(_0x1bf528,_0x433e92){return _0x1bf528<_0x433e92;};const _0x133b8c=_0x11d2ea,_0x3e865c={};_0x3e865c[_0x93c1c5(0x10c)]=0x0,_0x3e865c[_0x93c1c5(0x100)]=0x1,_0x3e865c[_0x93c1c5(0x123)]=0x2,_0x3e865c[_0x93c1c5(0x12e)]=0x3;const _0x4c2085=_0x3e865c;return _0x5912f4['reduce']((_0x1f1323,_0x417c42,_0x5464ae)=>{const _0x3b0b19=_0x93c1c5,_0x49c4bf=_0x5912f4[_0x1f1323];if(_0x417c42['deviceName'])return _0x1f1323;if(_0x49c4bf[_0x3b0b19(0x110)])return _0x5464ae;const _0x4a8689=_0x417c42[_0x3b0b19(0x116)]?_0x417c42[_0x3b0b19(0x116)]:_0x417c42[_0x3b0b19(0x114)];if(_0x4a8689&&_0x133b8c['zamfA'](_0x4c2085[_0x4a8689[_0x3b0b19(0x125)]()],_0x4c2085[_0x4a8689[_0x3b0b19(0x125)]()]))return _0x5464ae;return _0x1f1323;},0x0);},exports[a119_0x25a37f(0x119)]=PerformanceTester[a119_0x25a37f(0x135)](PerformanceEvents[a119_0x25a37f(0x118)],async(_0x1559cf,_0x4493ea,_0x11c199)=>{const _0x23edfa=a119_0x25a37f,_0x315445={};_0x315445['YssfI']='Couldn\x27t\x20capture\x20percy\x20screenshot,\x20no\x20session\x20name\x20present';const _0x366fc8=_0x315445,_0x72dc5f=_0x1559cf[_0x23edfa(0x109)];if(helper['isUndefined'](_0x1559cf[_0x23edfa(0x131)])){logger[_0x23edfa(0x113)](_0x366fc8[_0x23edfa(0x104)]);return;}const _0x2151a1=_0x72dc5f[_0x23edfa(0x107)](_0x1559cf[_0x23edfa(0x131)],_0x4493ea);_0x11c199[_0x23edfa(0x122)]?await PercySDK[_0x23edfa(0xfa)](_0x1559cf,_0x2151a1):await PercySDK[_0x23edfa(0x12c)](_0x1559cf,_0x2151a1),_0x72dc5f['increment'](_0x1559cf[_0x23edfa(0x131)],_0x4493ea);}),exports[a119_0x25a37f(0x106)]=(_0x1439d9,_0x1e52a6,_0x238d86)=>{const _0x4eeb1e=a119_0x25a37f,_0x485af4={};_0x485af4[_0x4eeb1e(0x13c)]=_0x4eeb1e(0x13a),_0x485af4[_0x4eeb1e(0x133)]=_0x4eeb1e(0x10b),_0x485af4['yHAmm']=function(_0xce380c,_0xf18bd){return _0xce380c!==_0xf18bd;},_0x485af4[_0x4eeb1e(0x11d)]=_0x4eeb1e(0x11f);const _0x1b01f9=_0x485af4;if(!helper[_0x4eeb1e(0x137)](_0x238d86,[_0x1b01f9['JJeQX'],_0x1b01f9[_0x4eeb1e(0x133)]]))return;if(_0x238d86[_0x4eeb1e(0x13a)][_0x4eeb1e(0x10b)]&&_0x238d86[_0x4eeb1e(0x13a)][_0x4eeb1e(0x129)]&&_0x1b01f9['yHAmm'](_0x238d86[_0x4eeb1e(0x13a)]['percyCaptureMode'],_0x1b01f9[_0x4eeb1e(0x11d)])&&!_0x1439d9[_0x4eeb1e(0x109)]){global[_0x4eeb1e(0x131)]&&(_0x1439d9['browserstackSessionName']=global[_0x4eeb1e(0x131)]),_0x1439d9[_0x4eeb1e(0x109)]=new PercyCaptureMap();const _0x3082ae=PercyCaptureModes[_0x238d86['browserStackPercyOptions']['percyCaptureMode']];_0x3082ae[_0x4eeb1e(0x108)]&&_0x3082ae['driver'][_0x4eeb1e(0x126)](_0xcf41dc=>this[_0x4eeb1e(0x138)](_0x1439d9,_0xcf41dc,_0x238d86)),_0x3082ae[_0x4eeb1e(0x136)]&&_0x3082ae[_0x4eeb1e(0x136)]['forEach'](_0xff28e1=>{const _0x1fbc27=_0x4eeb1e;if(_0x1e52a6[_0x1fbc27(0x117)]['patch'+_0xff28e1])return;_0x1e52a6['prototype'][_0x1fbc27(0x121)+_0xff28e1]=!![];const _0x45e24f=_0x1e52a6[_0x1fbc27(0x117)][_0xff28e1];_0x1e52a6[_0x1fbc27(0x117)][_0xff28e1]=async function(){const _0x219370=_0x1fbc27;let _0x129132=_0x45e24f['apply'](this,arguments);_0x129132&&_0x129132[_0x219370(0x13b)]&&(_0x129132=await _0x129132);try{const _0x384e40=this[_0x219370(0x10d)]();await exports['percyAutoCapture'](_0x384e40,_0xff28e1,_0x238d86);}catch(_0x541b28){logger[_0x219370(0x130)]('Error\x20patching\x20'+_0xff28e1+'\x20for\x20percy\x20'+_0x541b28);}return _0x129132;};});}},exports[a119_0x25a37f(0x138)]=function(_0x4e908e,_0x11a872,_0x2db77d){const _0x3997c3=a119_0x25a37f,_0x23d093={};_0x23d093[_0x3997c3(0x101)]=function(_0x429611,_0x482f30){return _0x429611+_0x482f30;},_0x23d093[_0x3997c3(0x11e)]='patch',_0x23d093['TqsmL']='init';const _0x154088=_0x23d093,_0x210936=_0x154088[_0x3997c3(0x101)](_0x154088['yyOyp'],_0x11a872),_0xeaa5a5=_0x154088[_0x3997c3(0x101)](_0x154088['TqsmL'],_0x11a872),_0x4cb01c=this;if(_0x4e908e[_0x210936]||!_0x4e908e[_0x11a872])return;_0x4e908e[_0x210936]=!![],_0x4e908e[_0xeaa5a5]=_0x4e908e[_0x11a872],_0x4e908e[_0x11a872]=async()=>{const _0x16a8eb=_0x3997c3;try{await _0x4cb01c['percyAutoCapture'](_0x4e908e,_0x11a872,_0x2db77d);}catch(_0x3b48e8){logger['error'](_0x16a8eb(0x112)+_0x11a872+_0x16a8eb(0x13d)+_0x3b48e8);}return await _0x4e908e[_0xeaa5a5][_0x16a8eb(0xfe)](_0x4e908e,arguments);};},exports[a119_0x25a37f(0x11a)]=_0x33724a=>{const _0x4b27ca=a119_0x25a37f,_0x5e466b={};_0x5e466b[_0x4b27ca(0xfd)]=_0x4b27ca(0x10e);const _0x195610=_0x5e466b,_0x30a1ee={};_0x30a1ee['percy']=_0x33724a[_0x4b27ca(0x10b)],_0x30a1ee[_0x4b27ca(0x129)]=_0x33724a[_0x4b27ca(0x129)]||_0x195610['OkhuX'];const _0x820cfe=_0x30a1ee;_0x33724a[_0x4b27ca(0x10b)]&&(_0x820cfe[_0x4b27ca(0x11b)]=exports['getBestPlatformForPercySnapshot'](_0x33724a['platforms']));;return _0x820cfe;};