const a118_0x4582de=a118_0x164c;function a118_0x164c(_0x4b4ebc,_0xdc97e4){const _0x42c70e=a118_0x42c7();return a118_0x164c=function(_0x164c32,_0x2fbab7){_0x164c32=_0x164c32-0x181;let _0x85ad79=_0x42c70e[_0x164c32];return _0x85ad79;},a118_0x164c(_0x4b4ebc,_0xdc97e4);}(function(_0x7a66c6,_0x534456){const _0x1b13a9=a118_0x164c,_0x31f759=_0x7a66c6();while(!![]){try{const _0xc41c7a=-parseInt(_0x1b13a9(0x1a1))/0x1*(-parseInt(_0x1b13a9(0x190))/0x2)+-parseInt(_0x1b13a9(0x198))/0x3*(-parseInt(_0x1b13a9(0x197))/0x4)+-parseInt(_0x1b13a9(0x1bb))/0x5*(-parseInt(_0x1b13a9(0x1a0))/0x6)+-parseInt(_0x1b13a9(0x1bf))/0x7+parseInt(_0x1b13a9(0x1ad))/0x8*(-parseInt(_0x1b13a9(0x192))/0x9)+-parseInt(_0x1b13a9(0x1c4))/0xa+parseInt(_0x1b13a9(0x1c0))/0xb;if(_0xc41c7a===_0x534456)break;else _0x31f759['push'](_0x31f759['shift']());}catch(_0x34cf25){_0x31f759['push'](_0x31f759['shift']());}}}(a118_0x42c7,0xebe3d));const Percy=require(a118_0x4582de(0x18c)),PercySDK=require(a118_0x4582de(0x1a5)),PercyCaptureModes=require('./PercyCaptureModes'),PercyCaptureMap=require('./PercyCaptureMap'),logger=require(a118_0x4582de(0x199))[a118_0x4582de(0x1b0)],helper=require(a118_0x4582de(0x18f)),PerformanceTester=require(a118_0x4582de(0x194)),{PERCY_EVENTS:PerformanceEvents}=require(a118_0x4582de(0x1a2));function a118_0x42c7(){const _0x7ae97=['browserstackSessionName','nestedKeyValue','startPercy','HMMwh','getPercyOptions','ETybp','getDriver','measureWrapper','init','getBestPlatformForPercySnapshot','14975DJdrmc','screenshot','StIBv','patch','9322992ZCbFCh','17676780KnAsLJ','\x20for\x20percy\x20','chrome','deviceName','6800120tAdLOx','Starting\x20percy','getName','debug','Stopping\x20percy','safari','vKZoM','browserstackPercyMap','jScMJ','percyCaptureMode','browserstackPercyBestPlatform','start','percy','CWGOv','overrideXforPercy','STOP','browser','ilLhw','./Percy','stop','qIkfg','../helper','2IRNfww','firefox','72ZtIzrQ','manual','../performance/performance-tester','START','VbnNh','1959524rajlRI','9EymScE','../logger','Error\x20patching\x20','forEach','edge','browserStackPercyOptions','toLowerCase','element','582KoiclT','1351087QfsMkV','../performance/constants','apply','increment','./PercySDK','error','bEcVf','patchDriverPercy','browserName','prototype','percyAutoCapture','JVRRi','1740152DXXcxJ','then','app','winstonLogger'];a118_0x42c7=function(){return _0x7ae97;};return a118_0x42c7();}exports[a118_0x4582de(0x1b3)]=PerformanceTester['measureWrapper'](PerformanceEvents[a118_0x4582de(0x195)],async _0xc2ae1c=>{const _0x401dcb=a118_0x4582de,_0x17b786={};_0x17b786[_0x401dcb(0x1ac)]=_0x401dcb(0x1c5);const _0x311431=_0x17b786;logger[_0x401dcb(0x1c7)](_0x311431[_0x401dcb(0x1ac)]);const _0x54fee5=new Percy(_0xc2ae1c),_0x2eac32=await _0x54fee5[_0x401dcb(0x185)]();if(_0x2eac32)return _0x54fee5;return null;}),exports['stopPercy']=PerformanceTester[a118_0x4582de(0x1b8)](PerformanceEvents[a118_0x4582de(0x189)],async _0x2fed33=>{const _0x3a25a3=a118_0x4582de,_0x912e51={};_0x912e51['TupIh']=_0x3a25a3(0x1c8);const _0x304173=_0x912e51;return logger[_0x3a25a3(0x1c7)](_0x304173['TupIh']),_0x2fed33[_0x3a25a3(0x18d)]();}),exports['getBestPlatformForPercySnapshot']=_0x2330c2=>{const _0x33aee0=a118_0x4582de,_0x4074a4={};_0x4074a4[_0x33aee0(0x196)]=function(_0x5807ed,_0x46c386){return _0x5807ed<_0x46c386;};const _0x28f89d=_0x4074a4,_0x462ec5={};_0x462ec5[_0x33aee0(0x1c2)]=0x0,_0x462ec5[_0x33aee0(0x191)]=0x1,_0x462ec5[_0x33aee0(0x19c)]=0x2,_0x462ec5[_0x33aee0(0x1c9)]=0x3;const _0x3eb55d=_0x462ec5;return _0x2330c2['reduce']((_0x25dade,_0x447007,_0x36eb23)=>{const _0x2c7e89=_0x33aee0,_0x112fb7=_0x2330c2[_0x25dade];if(_0x447007['deviceName'])return _0x25dade;if(_0x112fb7[_0x2c7e89(0x1c3)])return _0x36eb23;const _0x5f337e=_0x447007[_0x2c7e89(0x18a)]?_0x447007[_0x2c7e89(0x18a)]:_0x447007[_0x2c7e89(0x1a9)];if(_0x5f337e&&_0x28f89d[_0x2c7e89(0x196)](_0x3eb55d[_0x5f337e[_0x2c7e89(0x19e)]()],_0x3eb55d[_0x5f337e['toLowerCase']()]))return _0x36eb23;return _0x25dade;},0x0);},exports[a118_0x4582de(0x1ab)]=PerformanceTester['measureWrapper'](PerformanceEvents['AUTO_CAPTURE'],async(_0x1ccdf3,_0x34e8c2,_0x428da6)=>{const _0x1474c0=a118_0x4582de,_0x40ef63={};_0x40ef63[_0x1474c0(0x187)]='Couldn\x27t\x20capture\x20percy\x20screenshot,\x20no\x20session\x20name\x20present';const _0x3cd0da=_0x40ef63,_0x2c7c6e=_0x1ccdf3[_0x1474c0(0x181)];if(helper['isUndefined'](_0x1ccdf3[_0x1474c0(0x1b1)])){logger['debug'](_0x3cd0da[_0x1474c0(0x187)]);return;}const _0x226a68=_0x2c7c6e[_0x1474c0(0x1c6)](_0x1ccdf3['browserstackSessionName'],_0x34e8c2);_0x428da6[_0x1474c0(0x1af)]?await PercySDK['screenshotApp'](_0x1ccdf3,_0x226a68):await PercySDK[_0x1474c0(0x1bc)](_0x1ccdf3,_0x226a68),_0x2c7c6e[_0x1474c0(0x1a4)](_0x1ccdf3['browserstackSessionName'],_0x34e8c2);}),exports[a118_0x4582de(0x1a8)]=(_0x32a698,_0x57f5d3,_0x473dcf)=>{const _0x3a008b=a118_0x4582de,_0xed1814={};_0xed1814['qIkfg']='browserStackPercyOptions',_0xed1814['FVsmD']=_0x3a008b(0x186),_0xed1814[_0x3a008b(0x182)]=function(_0x2bf3ef,_0x472635){return _0x2bf3ef!==_0x472635;},_0xed1814[_0x3a008b(0x1bd)]=_0x3a008b(0x193);const _0x508f9d=_0xed1814;if(!helper[_0x3a008b(0x1b2)](_0x473dcf,[_0x508f9d[_0x3a008b(0x18e)],_0x508f9d['FVsmD']]))return;if(_0x473dcf[_0x3a008b(0x19d)][_0x3a008b(0x186)]&&_0x473dcf[_0x3a008b(0x19d)][_0x3a008b(0x183)]&&_0x508f9d[_0x3a008b(0x182)](_0x473dcf['browserStackPercyOptions'][_0x3a008b(0x183)],_0x508f9d['StIBv'])&&!_0x32a698['browserstackPercyMap']){global[_0x3a008b(0x1b1)]&&(_0x32a698[_0x3a008b(0x1b1)]=global[_0x3a008b(0x1b1)]),_0x32a698['browserstackPercyMap']=new PercyCaptureMap();const _0x11d0cd=PercyCaptureModes[_0x473dcf[_0x3a008b(0x19d)]['percyCaptureMode']];_0x11d0cd['driver']&&_0x11d0cd['driver'][_0x3a008b(0x19b)](_0x443324=>this[_0x3a008b(0x188)](_0x32a698,_0x443324,_0x473dcf)),_0x11d0cd[_0x3a008b(0x19f)]&&_0x11d0cd['element'][_0x3a008b(0x19b)](_0x75aa75=>{const _0x553d64=_0x3a008b;if(_0x57f5d3[_0x553d64(0x1aa)][_0x553d64(0x1be)+_0x75aa75])return;_0x57f5d3[_0x553d64(0x1aa)][_0x553d64(0x1be)+_0x75aa75]=!![];const _0x494008=_0x57f5d3[_0x553d64(0x1aa)][_0x75aa75];_0x57f5d3[_0x553d64(0x1aa)][_0x75aa75]=async function(){const _0x536c42=_0x553d64;let _0x464642=_0x494008[_0x536c42(0x1a3)](this,arguments);_0x464642&&_0x464642[_0x536c42(0x1ae)]&&(_0x464642=await _0x464642);try{const _0x12589b=this[_0x536c42(0x1b7)]();await exports[_0x536c42(0x1ab)](_0x12589b,_0x75aa75,_0x473dcf);}catch(_0x541832){logger[_0x536c42(0x1a6)](_0x536c42(0x19a)+_0x75aa75+'\x20for\x20percy\x20'+_0x541832);}return _0x464642;};});}},exports['overrideXforPercy']=function(_0x3df192,_0x4da997,_0x3173d3){const _0x411240=a118_0x4582de,_0x1b163e={};_0x1b163e[_0x411240(0x1b6)]=function(_0x757491,_0x5ac71b){return _0x757491+_0x5ac71b;},_0x1b163e[_0x411240(0x1b4)]=_0x411240(0x1be),_0x1b163e[_0x411240(0x18b)]=function(_0xa3a782,_0x46c6a){return _0xa3a782+_0x46c6a;},_0x1b163e[_0x411240(0x1a7)]=_0x411240(0x1b9);const _0x54607b=_0x1b163e,_0x1fc34c=_0x54607b[_0x411240(0x1b6)](_0x54607b['HMMwh'],_0x4da997),_0x12e496=_0x54607b[_0x411240(0x18b)](_0x54607b[_0x411240(0x1a7)],_0x4da997),_0x249a16=this;if(_0x3df192[_0x1fc34c]||!_0x3df192[_0x4da997])return;_0x3df192[_0x1fc34c]=!![],_0x3df192[_0x12e496]=_0x3df192[_0x4da997],_0x3df192[_0x4da997]=async()=>{const _0x4618bc=_0x411240;try{await _0x249a16[_0x4618bc(0x1ab)](_0x3df192,_0x4da997,_0x3173d3);}catch(_0x57bcb6){logger[_0x4618bc(0x1a6)](_0x4618bc(0x19a)+_0x4da997+_0x4618bc(0x1c1)+_0x57bcb6);}return await _0x3df192[_0x12e496][_0x4618bc(0x1a3)](_0x3df192,arguments);};},exports[a118_0x4582de(0x1b5)]=_0x2246e8=>{const _0x5510ce=a118_0x4582de,_0x516e3b={};_0x516e3b[_0x5510ce(0x1ca)]='auto';const _0x585cb3=_0x516e3b,_0x334036={};_0x334036['percy']=_0x2246e8[_0x5510ce(0x186)],_0x334036[_0x5510ce(0x183)]=_0x2246e8[_0x5510ce(0x183)]||_0x585cb3[_0x5510ce(0x1ca)];const _0x2bdc0e=_0x334036;_0x2246e8[_0x5510ce(0x186)]&&(_0x2bdc0e[_0x5510ce(0x184)]=exports[_0x5510ce(0x1ba)](_0x2246e8['platforms']));;return _0x2bdc0e;};