const a78_0x10b0b5=a78_0x2e91;function a78_0x37dc(){const _0x57dead=['659596inEJxl','browserstackSessionName','vGNMp','isUndefined','dYCWa','patch','getPercyOptions','144652CtNvql','error','../performance/constants','percyAutoCapture','browserStackPercyOptions','apply','AUTO_CAPTURE','STOP','lGTGg','getBestPlatformForPercySnapshot','debug','../helper','./PercyCaptureModes','xuCNv','Error\x20patching\x20','TOvqQ','prototype','TcNgS','driver','START','reduce','340588FTaktM','measureWrapper','cTHUA','KihES','forEach','getDriver','manual','25425hYQbDv','516673vMFdwG','3105CKcYwk','percy','screenshotApp','safari','jOQHE','../logger','stop','\x20for\x20percy\x20','element','then','16232muqxCZ','overrideXforPercy','platforms','winstonLogger','../performance/performance-tester','2161095tUGKUs','nestedKeyValue','percyCaptureMode','browserName','start','6rycDtR','startPercy','Starting\x20percy','chrome','deviceName','screenshot','DTchV','increment','edge','stopPercy','browserstackPercyMap','kEpQo','./PercySDK','browser','init','getName'];a78_0x37dc=function(){return _0x57dead;};return a78_0x37dc();}(function(_0x4b74b2,_0x4f27a5){const _0x2abf68=a78_0x2e91,_0x563ef7=_0x4b74b2();while(!![]){try{const _0x8c72f1=parseInt(_0x2abf68(0x119))/0x1+parseInt(_0x2abf68(0x111))/0x2+parseInt(_0x2abf68(0x118))/0x3+-parseInt(_0x2abf68(0xfc))/0x4+-parseInt(_0x2abf68(0x129))/0x5*(-parseInt(_0x2abf68(0x12e))/0x6)+-parseInt(_0x2abf68(0x13e))/0x7+-parseInt(_0x2abf68(0x124))/0x8*(parseInt(_0x2abf68(0x11a))/0x9);if(_0x8c72f1===_0x4f27a5)break;else _0x563ef7['push'](_0x563ef7['shift']());}catch(_0x4271ad){_0x563ef7['push'](_0x563ef7['shift']());}}}(a78_0x37dc,0x48931));function a78_0x2e91(_0x3b52b1,_0x29689d){const _0x37dc17=a78_0x37dc();return a78_0x2e91=function(_0x2e9141,_0x560ce0){_0x2e9141=_0x2e9141-0xf8;let _0x4072d6=_0x37dc17[_0x2e9141];return _0x4072d6;},a78_0x2e91(_0x3b52b1,_0x29689d);}const Percy=require('./Percy'),PercySDK=require(a78_0x10b0b5(0x13a)),PercyCaptureModes=require(a78_0x10b0b5(0x108)),PercyCaptureMap=require('./PercyCaptureMap'),logger=require(a78_0x10b0b5(0x11f))[a78_0x10b0b5(0x127)],helper=require(a78_0x10b0b5(0x107)),PerformanceTester=require(a78_0x10b0b5(0x128)),{PERCY_EVENTS:PerformanceEvents}=require(a78_0x10b0b5(0xfe));exports[a78_0x10b0b5(0x12f)]=PerformanceTester[a78_0x10b0b5(0x112)](PerformanceEvents[a78_0x10b0b5(0x10f)],async _0x291850=>{const _0x3cce8c=a78_0x10b0b5,_0x5c8bb6={};_0x5c8bb6['TcNgS']=_0x3cce8c(0x130);const _0x3683e3=_0x5c8bb6;logger[_0x3cce8c(0x106)](_0x3683e3[_0x3cce8c(0x10d)]);const _0xe09fea=new Percy(_0x291850),_0x2f45cc=await _0xe09fea[_0x3cce8c(0x12d)]();if(_0x2f45cc)return _0xe09fea;return null;}),exports[a78_0x10b0b5(0x137)]=PerformanceTester['measureWrapper'](PerformanceEvents[a78_0x10b0b5(0x103)],async _0x271d15=>{const _0x1e0a26=a78_0x10b0b5,_0x3aeb15={};_0x3aeb15['TOvqQ']='Stopping\x20percy';const _0x2952ca=_0x3aeb15;return logger['debug'](_0x2952ca[_0x1e0a26(0x10b)]),_0x271d15[_0x1e0a26(0x120)]();}),exports['getBestPlatformForPercySnapshot']=_0x4db36c=>{const _0x36df72=a78_0x10b0b5,_0x14ba6e={};_0x14ba6e['OJBFG']=function(_0x2d263a,_0x46d87d){return _0x2d263a<_0x46d87d;};const _0x1f8847=_0x14ba6e,_0x4d158b={};_0x4d158b[_0x36df72(0x131)]=0x0,_0x4d158b['firefox']=0x1,_0x4d158b[_0x36df72(0x136)]=0x2,_0x4d158b[_0x36df72(0x11d)]=0x3;const _0x2d6e07=_0x4d158b;return _0x4db36c[_0x36df72(0x110)]((_0xa0edb9,_0x239f11,_0x4e0195)=>{const _0x216597=_0x36df72,_0x318e31=_0x4db36c[_0xa0edb9];if(_0x239f11[_0x216597(0x132)])return _0xa0edb9;if(_0x318e31[_0x216597(0x132)])return _0x4e0195;const _0x1afe0a=_0x239f11['browser']?_0x239f11[_0x216597(0x13b)]:_0x239f11[_0x216597(0x12c)];if(_0x1afe0a&&_0x1f8847['OJBFG'](_0x2d6e07[_0x1afe0a['toLowerCase']()],_0x2d6e07[_0x1afe0a['toLowerCase']()]))return _0x4e0195;return _0xa0edb9;},0x0);},exports[a78_0x10b0b5(0xff)]=PerformanceTester[a78_0x10b0b5(0x112)](PerformanceEvents[a78_0x10b0b5(0x102)],async(_0x3f2e15,_0x461bcb,_0x27fea3)=>{const _0x1c62dc=a78_0x10b0b5,_0x386278={};_0x386278[_0x1c62dc(0x114)]='Couldn\x27t\x20capture\x20percy\x20screenshot,\x20no\x20session\x20name\x20present';const _0x40765c=_0x386278,_0x3de402=_0x3f2e15[_0x1c62dc(0x138)];if(helper[_0x1c62dc(0xf8)](_0x3f2e15[_0x1c62dc(0x13f)])){logger[_0x1c62dc(0x106)](_0x40765c['KihES']);return;}const _0x22fcd=_0x3de402[_0x1c62dc(0x13d)](_0x3f2e15[_0x1c62dc(0x13f)],_0x461bcb);_0x27fea3['app']?await PercySDK[_0x1c62dc(0x11c)](_0x3f2e15,_0x22fcd):await PercySDK[_0x1c62dc(0x133)](_0x3f2e15,_0x22fcd),_0x3de402[_0x1c62dc(0x135)](_0x3f2e15['browserstackSessionName'],_0x461bcb);}),exports['patchDriverPercy']=(_0x361c9d,_0x355cc6,_0x2ad203)=>{const _0x13123c=a78_0x10b0b5,_0x4dca9a={};_0x4dca9a['opyRo']=_0x13123c(0x100),_0x4dca9a[_0x13123c(0x104)]=_0x13123c(0x11b),_0x4dca9a['vGNMp']=function(_0x1e404a,_0x446d3a){return _0x1e404a!==_0x446d3a;},_0x4dca9a[_0x13123c(0x134)]=_0x13123c(0x117);const _0x29bc79=_0x4dca9a;if(!helper[_0x13123c(0x12a)](_0x2ad203,[_0x29bc79['opyRo'],_0x29bc79[_0x13123c(0x104)]]))return;if(_0x2ad203[_0x13123c(0x100)][_0x13123c(0x11b)]&&_0x2ad203[_0x13123c(0x100)]['percyCaptureMode']&&_0x29bc79[_0x13123c(0x140)](_0x2ad203['browserStackPercyOptions']['percyCaptureMode'],_0x29bc79['DTchV'])&&!_0x361c9d[_0x13123c(0x138)]){global[_0x13123c(0x13f)]&&(_0x361c9d[_0x13123c(0x13f)]=global[_0x13123c(0x13f)]),_0x361c9d[_0x13123c(0x138)]=new PercyCaptureMap();const _0x94752f=PercyCaptureModes[_0x2ad203['browserStackPercyOptions'][_0x13123c(0x12b)]];_0x94752f[_0x13123c(0x10e)]&&_0x94752f[_0x13123c(0x10e)]['forEach'](_0x2c94df=>this['overrideXforPercy'](_0x361c9d,_0x2c94df,_0x2ad203)),_0x94752f[_0x13123c(0x122)]&&_0x94752f[_0x13123c(0x122)][_0x13123c(0x115)](_0x4b9603=>{const _0x29eff0=_0x13123c;if(_0x355cc6['prototype'][_0x29eff0(0xfa)+_0x4b9603])return;_0x355cc6[_0x29eff0(0x10c)][_0x29eff0(0xfa)+_0x4b9603]=!![];const _0x1af461=_0x355cc6[_0x29eff0(0x10c)][_0x4b9603];_0x355cc6['prototype'][_0x4b9603]=async function(){const _0x5e7209=_0x29eff0;let _0x5af01c=_0x1af461[_0x5e7209(0x101)](this,arguments);_0x5af01c&&_0x5af01c[_0x5e7209(0x123)]&&(_0x5af01c=await _0x5af01c);try{const _0x3d2b7c=this[_0x5e7209(0x116)]();await exports['percyAutoCapture'](_0x3d2b7c,_0x4b9603,_0x2ad203);}catch(_0x16cada){logger[_0x5e7209(0xfd)](_0x5e7209(0x10a)+_0x4b9603+_0x5e7209(0x121)+_0x16cada);}return _0x5af01c;};});}},exports[a78_0x10b0b5(0x125)]=function(_0x56d080,_0x1acec0,_0x22d751){const _0x5e304d=a78_0x10b0b5,_0x5959c1={};_0x5959c1[_0x5e304d(0x109)]=function(_0x18ccf6,_0x66ffc5){return _0x18ccf6+_0x66ffc5;},_0x5959c1[_0x5e304d(0x11e)]='patch',_0x5959c1[_0x5e304d(0x139)]=function(_0x25668f,_0x37e988){return _0x25668f+_0x37e988;},_0x5959c1[_0x5e304d(0x113)]=_0x5e304d(0x13c);const _0x3c70ab=_0x5959c1,_0x55285a=_0x3c70ab[_0x5e304d(0x109)](_0x3c70ab[_0x5e304d(0x11e)],_0x1acec0),_0x109009=_0x3c70ab['kEpQo'](_0x3c70ab[_0x5e304d(0x113)],_0x1acec0),_0x3cfe42=this;if(_0x56d080[_0x55285a]||!_0x56d080[_0x1acec0])return;_0x56d080[_0x55285a]=!![],_0x56d080[_0x109009]=_0x56d080[_0x1acec0],_0x56d080[_0x1acec0]=async()=>{const _0x2723bf=_0x5e304d;try{await _0x3cfe42[_0x2723bf(0xff)](_0x56d080,_0x1acec0,_0x22d751);}catch(_0x14eefa){logger[_0x2723bf(0xfd)]('Error\x20patching\x20'+_0x1acec0+_0x2723bf(0x121)+_0x14eefa);}return await _0x56d080[_0x109009][_0x2723bf(0x101)](_0x56d080,arguments);};},exports[a78_0x10b0b5(0xfb)]=_0x286b62=>{const _0xe8f630=a78_0x10b0b5,_0x27090d={};_0x27090d[_0xe8f630(0xf9)]='auto';const _0x587e57=_0x27090d,_0x12aa70={};_0x12aa70['percy']=_0x286b62[_0xe8f630(0x11b)],_0x12aa70['percyCaptureMode']=_0x286b62[_0xe8f630(0x12b)]||_0x587e57[_0xe8f630(0xf9)];const _0x3e5e34=_0x12aa70;_0x286b62['percy']&&(_0x3e5e34['browserstackPercyBestPlatform']=exports[_0xe8f630(0x105)](_0x286b62[_0xe8f630(0x126)]));;return _0x3e5e34;};