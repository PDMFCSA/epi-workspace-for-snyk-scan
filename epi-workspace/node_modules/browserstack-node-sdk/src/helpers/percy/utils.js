const a77_0x22cefd=a77_0x1028;(function(_0x328798,_0x1c6022){const _0x11d68f=a77_0x1028,_0xd00818=_0x328798();while(!![]){try{const _0x105a5e=-parseInt(_0x11d68f(0x8b))/0x1*(-parseInt(_0x11d68f(0xa6))/0x2)+parseInt(_0x11d68f(0x84))/0x3+-parseInt(_0x11d68f(0xa4))/0x4+-parseInt(_0x11d68f(0x7a))/0x5*(-parseInt(_0x11d68f(0x75))/0x6)+parseInt(_0x11d68f(0x8f))/0x7*(parseInt(_0x11d68f(0x9c))/0x8)+parseInt(_0x11d68f(0x67))/0x9+parseInt(_0x11d68f(0xa7))/0xa*(-parseInt(_0x11d68f(0x9e))/0xb);if(_0x105a5e===_0x1c6022)break;else _0xd00818['push'](_0xd00818['shift']());}catch(_0x5040ab){_0xd00818['push'](_0xd00818['shift']());}}}(a77_0x255e,0xc34e3));function a77_0x1028(_0x4029da,_0x250181){const _0x255e33=a77_0x255e();return a77_0x1028=function(_0x1028c2,_0x565ba6){_0x1028c2=_0x1028c2-0x64;let _0x4c0f62=_0x255e33[_0x1028c2];return _0x4c0f62;},a77_0x1028(_0x4029da,_0x250181);}function a77_0x255e(){const _0xba65cd=['610SNJjYA','winstonLogger','mEbtR','percyAutoCapture','deviceName','EdQtw','5751315eoCVQv','forEach','Error\x20patching\x20','../logger','./PercyCaptureMap','driver','app','measureWrapper','overrideXforPercy','xssLW','\x20for\x20percy\x20','ECuLj','start','stopPercy','6982314UivuPa','XTZDy','browserstackPercyBestPlatform','zoDhS','chrome','5qRuxsK','element','stop','firefox','safari','error','../performance/performance-tester','startPercy','apply','browserstackSessionName','3084519NhJITb','browserstackPercyMap','browser','auto','START','getBestPlatformForPercySnapshot','JynJv','1aDLDAv','debug','./Percy','platforms','1112671SFQmnZ','edge','patch','init','SQzwg','kxFNA','browserStackPercyOptions','AUTO_CAPTURE','JouIM','toLowerCase','prototype','Starting\x20percy','hNeCW','80iFhfKl','percyCaptureMode','624448BvpqOO','../performance/constants','manual','increment','percy','zAhcp','2523028XXAgcV','then','946238hiJamR'];a77_0x255e=function(){return _0xba65cd;};return a77_0x255e();}const Percy=require(a77_0x22cefd(0x8d)),PercySDK=require('./PercySDK'),PercyCaptureModes=require('./PercyCaptureModes'),PercyCaptureMap=require(a77_0x22cefd(0x6b)),logger=require(a77_0x22cefd(0x6a))[a77_0x22cefd(0xa8)],helper=require('../helper'),PerformanceTester=require(a77_0x22cefd(0x80)),{PERCY_EVENTS:PerformanceEvents}=require(a77_0x22cefd(0x9f));exports[a77_0x22cefd(0x81)]=PerformanceTester[a77_0x22cefd(0x6e)](PerformanceEvents[a77_0x22cefd(0x88)],async _0x47d491=>{const _0x2af12b=a77_0x22cefd,_0x26bf74={};_0x26bf74[_0x2af12b(0x9b)]=_0x2af12b(0x9a);const _0x48b9db=_0x26bf74;logger[_0x2af12b(0x8c)](_0x48b9db[_0x2af12b(0x9b)]);const _0x46d8b3=new Percy(_0x47d491),_0x2e04de=await _0x46d8b3[_0x2af12b(0x73)]();if(_0x2e04de)return _0x46d8b3;return null;}),exports[a77_0x22cefd(0x74)]=PerformanceTester[a77_0x22cefd(0x6e)](PerformanceEvents['STOP'],async _0x18c410=>{const _0x366ee1=a77_0x22cefd,_0x5e177b={};_0x5e177b[_0x366ee1(0x94)]='Stopping\x20percy';const _0x133b75=_0x5e177b;return logger[_0x366ee1(0x8c)](_0x133b75[_0x366ee1(0x94)]),_0x18c410[_0x366ee1(0x7c)]();}),exports['getBestPlatformForPercySnapshot']=_0x26193b=>{const _0x139757=a77_0x22cefd,_0x4147b5={};_0x4147b5[_0x139757(0x72)]=function(_0x2f884e,_0x3023df){return _0x2f884e<_0x3023df;};const _0x3e74e0=_0x4147b5,_0x3c1478={};_0x3c1478[_0x139757(0x79)]=0x0,_0x3c1478[_0x139757(0x7d)]=0x1,_0x3c1478[_0x139757(0x90)]=0x2,_0x3c1478[_0x139757(0x7e)]=0x3;const _0x2dd2d5=_0x3c1478;return _0x26193b['reduce']((_0x195fa3,_0x1610ed,_0x3222c1)=>{const _0x166675=_0x139757,_0x28d309=_0x26193b[_0x195fa3];if(_0x1610ed[_0x166675(0x65)])return _0x195fa3;if(_0x28d309[_0x166675(0x65)])return _0x3222c1;const _0x4506cd=_0x1610ed[_0x166675(0x86)]?_0x1610ed['browser']:_0x1610ed['browserName'];if(_0x4506cd&&_0x3e74e0['ECuLj'](_0x2dd2d5[_0x4506cd[_0x166675(0x98)]()],_0x2dd2d5[_0x4506cd['toLowerCase']()]))return _0x3222c1;return _0x195fa3;},0x0);},exports[a77_0x22cefd(0x64)]=PerformanceTester[a77_0x22cefd(0x6e)](PerformanceEvents[a77_0x22cefd(0x96)],async(_0xe19609,_0x3a6818,_0x4884f8)=>{const _0x52fbda=a77_0x22cefd,_0x41be07={};_0x41be07['EdQtw']='Couldn\x27t\x20capture\x20percy\x20screenshot,\x20no\x20session\x20name\x20present';const _0x53f64f=_0x41be07,_0x3588d4=_0xe19609[_0x52fbda(0x85)];if(helper['isUndefined'](_0xe19609['browserstackSessionName'])){logger[_0x52fbda(0x8c)](_0x53f64f[_0x52fbda(0x66)]);return;}const _0xb8c6f5=_0x3588d4['getName'](_0xe19609[_0x52fbda(0x83)],_0x3a6818);_0x4884f8[_0x52fbda(0x6d)]?await PercySDK['screenshotApp'](_0xe19609,_0xb8c6f5):await PercySDK['screenshot'](_0xe19609,_0xb8c6f5),_0x3588d4[_0x52fbda(0xa1)](_0xe19609[_0x52fbda(0x83)],_0x3a6818);}),exports['patchDriverPercy']=(_0x4186c8,_0x3fee5a,_0x416b46)=>{const _0x2190aa=a77_0x22cefd,_0x520d2f={};_0x520d2f[_0x2190aa(0xa9)]='browserStackPercyOptions',_0x520d2f[_0x2190aa(0x76)]=_0x2190aa(0xa2),_0x520d2f[_0x2190aa(0x70)]=function(_0x497fe2,_0x401c64){return _0x497fe2!==_0x401c64;},_0x520d2f[_0x2190aa(0x78)]=_0x2190aa(0xa0);const _0x598480=_0x520d2f;if(!helper['nestedKeyValue'](_0x416b46,[_0x598480[_0x2190aa(0xa9)],_0x598480['XTZDy']]))return;if(_0x416b46['browserStackPercyOptions']['percy']&&_0x416b46[_0x2190aa(0x95)][_0x2190aa(0x9d)]&&_0x598480[_0x2190aa(0x70)](_0x416b46[_0x2190aa(0x95)][_0x2190aa(0x9d)],_0x598480[_0x2190aa(0x78)])&&!_0x4186c8[_0x2190aa(0x85)]){global[_0x2190aa(0x83)]&&(_0x4186c8[_0x2190aa(0x83)]=global['browserstackSessionName']),_0x4186c8[_0x2190aa(0x85)]=new PercyCaptureMap();const _0x215112=PercyCaptureModes[_0x416b46['browserStackPercyOptions'][_0x2190aa(0x9d)]];_0x215112[_0x2190aa(0x6c)]&&_0x215112['driver'][_0x2190aa(0x68)](_0x213f73=>this['overrideXforPercy'](_0x4186c8,_0x213f73,_0x416b46)),_0x215112[_0x2190aa(0x7b)]&&_0x215112[_0x2190aa(0x7b)][_0x2190aa(0x68)](_0x2a6b9d=>{const _0x55de4f=_0x2190aa;if(_0x3fee5a[_0x55de4f(0x99)][_0x55de4f(0x91)+_0x2a6b9d])return;_0x3fee5a[_0x55de4f(0x99)][_0x55de4f(0x91)+_0x2a6b9d]=!![];const _0x4a55dc=_0x3fee5a[_0x55de4f(0x99)][_0x2a6b9d];_0x3fee5a[_0x55de4f(0x99)][_0x2a6b9d]=async function(){const _0x4975eb=_0x55de4f;let _0x4afaaf=_0x4a55dc[_0x4975eb(0x82)](this,arguments);_0x4afaaf&&_0x4afaaf[_0x4975eb(0xa5)]&&(_0x4afaaf=await _0x4afaaf);try{const _0x4dd090=this['getDriver']();await exports['percyAutoCapture'](_0x4dd090,_0x2a6b9d,_0x416b46);}catch(_0x25c90d){logger[_0x4975eb(0x7f)](_0x4975eb(0x69)+_0x2a6b9d+_0x4975eb(0x71)+_0x25c90d);}return _0x4afaaf;};});}},exports[a77_0x22cefd(0x6f)]=function(_0x154184,_0x9379cb,_0x5b3c76){const _0x4e4f27=a77_0x22cefd,_0x19378e={};_0x19378e['zAhcp']=function(_0x1af5a9,_0x4b8358){return _0x1af5a9+_0x4b8358;},_0x19378e[_0x4e4f27(0x8a)]='patch',_0x19378e[_0x4e4f27(0x97)]=_0x4e4f27(0x92);const _0x227f1b=_0x19378e,_0x1d13f1=_0x227f1b[_0x4e4f27(0xa3)](_0x227f1b[_0x4e4f27(0x8a)],_0x9379cb),_0x5c6f94=_0x227f1b['zAhcp'](_0x227f1b[_0x4e4f27(0x97)],_0x9379cb),_0x55043a=this;if(_0x154184[_0x1d13f1]||!_0x154184[_0x9379cb])return;_0x154184[_0x1d13f1]=!![],_0x154184[_0x5c6f94]=_0x154184[_0x9379cb],_0x154184[_0x9379cb]=async()=>{const _0x51a267=_0x4e4f27;try{await _0x55043a[_0x51a267(0x64)](_0x154184,_0x9379cb,_0x5b3c76);}catch(_0x1ef6fd){logger[_0x51a267(0x7f)]('Error\x20patching\x20'+_0x9379cb+'\x20for\x20percy\x20'+_0x1ef6fd);}return await _0x154184[_0x5c6f94][_0x51a267(0x82)](_0x154184,arguments);};},exports['getPercyOptions']=_0xdecdc1=>{const _0x4aa775=a77_0x22cefd,_0x2229d1={};_0x2229d1[_0x4aa775(0x93)]=_0x4aa775(0x87);const _0x2ac7ad=_0x2229d1,_0x2e992b={};_0x2e992b[_0x4aa775(0xa2)]=_0xdecdc1['percy'],_0x2e992b['percyCaptureMode']=_0xdecdc1['percyCaptureMode']||_0x2ac7ad[_0x4aa775(0x93)];const _0xc228df=_0x2e992b;_0xdecdc1[_0x4aa775(0xa2)]&&(_0xc228df[_0x4aa775(0x77)]=exports[_0x4aa775(0x89)](_0xdecdc1[_0x4aa775(0x8e)]));;return _0xc228df;};