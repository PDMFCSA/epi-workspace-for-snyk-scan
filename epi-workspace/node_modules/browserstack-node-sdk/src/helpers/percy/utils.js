const a107_0x48341c=a107_0x2064;function a107_0x3caa(){const _0x58acef=['nestedKeyValue','increment','edge','LAKFY','stop','start','driver','deviceName','overrideXforPercy','app','RUPXP','browser','STOP','isUndefined','getDriver','7paIZdN','CBLbB','671700WgOSIf','EJwFX','init','safari','6hJkFgj','299233CSUOQz','48591RAXTDn','browserstackPercyBestPlatform','manual','then','EjJWO','browserName','\x20for\x20percy\x20','stopPercy','cPxdy','prototype','getPercyOptions','../performance/constants','percyAutoCapture','getName','2496066ilKiAB','screenshot','Error\x20patching\x20','Couldn\x27t\x20capture\x20percy\x20screenshot,\x20no\x20session\x20name\x20present','winstonLogger','patch','42760aaYSYy','error','getBestPlatformForPercySnapshot','OwGrl','chrome','browserStackPercyOptions','6275MNZTMK','patchDriverPercy','startPercy','IkZFX','toLowerCase','screenshotApp','Stopping\x20percy','percyCaptureMode','element','browserstackPercyMap','browserstackSessionName','AkuWV','Starting\x20percy','firefox','AUTO_CAPTURE','debug','90HMSYki','./PercyCaptureMap','reduce','measureWrapper','1544784rsXXUm','TuDpX','240QTxfLY','apply','platforms','TospE','percy','jhhOD'];a107_0x3caa=function(){return _0x58acef;};return a107_0x3caa();}(function(_0x5c0377,_0x41f088){const _0x469414=a107_0x2064,_0x57a15b=_0x5c0377();while(!![]){try{const _0x1f2e03=parseInt(_0x469414(0x1b8))/0x1*(-parseInt(_0x469414(0x1e9))/0x2)+parseInt(_0x469414(0x1e5))/0x3+-parseInt(_0x469414(0x1b2))/0x4*(parseInt(_0x469414(0x1ce))/0x5)+-parseInt(_0x469414(0x1ac))/0x6*(-parseInt(_0x469414(0x1e3))/0x7)+parseInt(_0x469414(0x1cc))/0x8+parseInt(_0x469414(0x1eb))/0x9*(-parseInt(_0x469414(0x1c8))/0xa)+parseInt(_0x469414(0x1ea))/0xb;if(_0x1f2e03===_0x41f088)break;else _0x57a15b['push'](_0x57a15b['shift']());}catch(_0x2fb710){_0x57a15b['push'](_0x57a15b['shift']());}}}(a107_0x3caa,0x4447c));const Percy=require('./Percy'),PercySDK=require('./PercySDK'),PercyCaptureModes=require('./PercyCaptureModes'),PercyCaptureMap=require(a107_0x48341c(0x1c9)),logger=require('../logger')[a107_0x48341c(0x1b0)],helper=require('../helper'),PerformanceTester=require('../performance/performance-tester'),{PERCY_EVENTS:PerformanceEvents}=require(a107_0x48341c(0x1a9));function a107_0x2064(_0xe64050,_0x5670e0){const _0x3caaef=a107_0x3caa();return a107_0x2064=function(_0x206406,_0x5b64d3){_0x206406=_0x206406-0x1a6;let _0xabc6df=_0x3caaef[_0x206406];return _0xabc6df;},a107_0x2064(_0xe64050,_0x5670e0);}exports[a107_0x48341c(0x1ba)]=PerformanceTester['measureWrapper'](PerformanceEvents['START'],async _0x53d03a=>{const _0x41ac2a=a107_0x48341c,_0x59dadf={};_0x59dadf['LAKFY']=_0x41ac2a(0x1c4);const _0x4db88d=_0x59dadf;logger[_0x41ac2a(0x1c7)](_0x4db88d[_0x41ac2a(0x1d7)]);const _0x4a905a=new Percy(_0x53d03a),_0x40dc40=await _0x4a905a[_0x41ac2a(0x1d9)]();if(_0x40dc40)return _0x4a905a;return null;}),exports[a107_0x48341c(0x1f2)]=PerformanceTester[a107_0x48341c(0x1cb)](PerformanceEvents[a107_0x48341c(0x1e0)],async _0x263cc4=>{const _0x2814b2=a107_0x48341c,_0x598f49={};_0x598f49[_0x2814b2(0x1bb)]=_0x2814b2(0x1be);const _0x1cac07=_0x598f49;return logger['debug'](_0x1cac07[_0x2814b2(0x1bb)]),_0x263cc4[_0x2814b2(0x1d8)]();}),exports[a107_0x48341c(0x1b4)]=_0xa14603=>{const _0x21d423=a107_0x48341c,_0x1e3c87={};_0x1e3c87['PHMOG']=function(_0x2f564d,_0x1020fd){return _0x2f564d<_0x1020fd;};const _0x2b1441=_0x1e3c87,_0x5b050a={};_0x5b050a[_0x21d423(0x1b6)]=0x0,_0x5b050a[_0x21d423(0x1c5)]=0x1,_0x5b050a[_0x21d423(0x1d6)]=0x2,_0x5b050a[_0x21d423(0x1e8)]=0x3;const _0x24974=_0x5b050a;return _0xa14603[_0x21d423(0x1ca)]((_0x23ee94,_0x5d4e2e,_0x1cf290)=>{const _0x4a6ec1=_0x21d423,_0x809bda=_0xa14603[_0x23ee94];if(_0x5d4e2e[_0x4a6ec1(0x1db)])return _0x23ee94;if(_0x809bda[_0x4a6ec1(0x1db)])return _0x1cf290;const _0x4e8eec=_0x5d4e2e[_0x4a6ec1(0x1df)]?_0x5d4e2e[_0x4a6ec1(0x1df)]:_0x5d4e2e[_0x4a6ec1(0x1f0)];if(_0x4e8eec&&_0x2b1441['PHMOG'](_0x24974[_0x4e8eec[_0x4a6ec1(0x1bc)]()],_0x24974[_0x4e8eec[_0x4a6ec1(0x1bc)]()]))return _0x1cf290;return _0x23ee94;},0x0);},exports[a107_0x48341c(0x1aa)]=PerformanceTester[a107_0x48341c(0x1cb)](PerformanceEvents[a107_0x48341c(0x1c6)],async(_0x339c86,_0x56bbaa,_0x543078)=>{const _0x2b0f06=a107_0x48341c,_0x12f510={};_0x12f510[_0x2b0f06(0x1d3)]=_0x2b0f06(0x1af);const _0x31830d=_0x12f510,_0x5e4aca=_0x339c86[_0x2b0f06(0x1c1)];if(helper[_0x2b0f06(0x1e1)](_0x339c86['browserstackSessionName'])){logger[_0x2b0f06(0x1c7)](_0x31830d['jhhOD']);return;}const _0x20a5ce=_0x5e4aca[_0x2b0f06(0x1ab)](_0x339c86['browserstackSessionName'],_0x56bbaa);_0x543078[_0x2b0f06(0x1dd)]?await PercySDK[_0x2b0f06(0x1bd)](_0x339c86,_0x20a5ce):await PercySDK[_0x2b0f06(0x1ad)](_0x339c86,_0x20a5ce),_0x5e4aca[_0x2b0f06(0x1d5)](_0x339c86['browserstackSessionName'],_0x56bbaa);}),exports[a107_0x48341c(0x1b9)]=(_0xbc0786,_0x471df5,_0x29c1b1)=>{const _0x2c3875=a107_0x48341c,_0x5a9f20={};_0x5a9f20[_0x2c3875(0x1ef)]=_0x2c3875(0x1b7),_0x5a9f20[_0x2c3875(0x1c3)]=_0x2c3875(0x1d2),_0x5a9f20[_0x2c3875(0x1e4)]=function(_0x2aef27,_0x26ae71){return _0x2aef27!==_0x26ae71;},_0x5a9f20[_0x2c3875(0x1b5)]=_0x2c3875(0x1ed);const _0x1abb94=_0x5a9f20;if(!helper[_0x2c3875(0x1d4)](_0x29c1b1,[_0x1abb94[_0x2c3875(0x1ef)],_0x1abb94[_0x2c3875(0x1c3)]]))return;if(_0x29c1b1[_0x2c3875(0x1b7)][_0x2c3875(0x1d2)]&&_0x29c1b1[_0x2c3875(0x1b7)][_0x2c3875(0x1bf)]&&_0x1abb94[_0x2c3875(0x1e4)](_0x29c1b1[_0x2c3875(0x1b7)][_0x2c3875(0x1bf)],_0x1abb94['OwGrl'])&&!_0xbc0786[_0x2c3875(0x1c1)]){global[_0x2c3875(0x1c2)]&&(_0xbc0786[_0x2c3875(0x1c2)]=global[_0x2c3875(0x1c2)]),_0xbc0786[_0x2c3875(0x1c1)]=new PercyCaptureMap();const _0x102ccf=PercyCaptureModes[_0x29c1b1['browserStackPercyOptions'][_0x2c3875(0x1bf)]];_0x102ccf[_0x2c3875(0x1da)]&&_0x102ccf['driver']['forEach'](_0x1a0417=>this[_0x2c3875(0x1dc)](_0xbc0786,_0x1a0417,_0x29c1b1)),_0x102ccf[_0x2c3875(0x1c0)]&&_0x102ccf['element']['forEach'](_0x3175b0=>{const _0x3fdc25=_0x2c3875;if(_0x471df5[_0x3fdc25(0x1a7)][_0x3fdc25(0x1b1)+_0x3175b0])return;_0x471df5[_0x3fdc25(0x1a7)]['patch'+_0x3175b0]=!![];const _0x5a06c3=_0x471df5[_0x3fdc25(0x1a7)][_0x3175b0];_0x471df5[_0x3fdc25(0x1a7)][_0x3175b0]=async function(){const _0x1135bc=_0x3fdc25;let _0x887a94=_0x5a06c3[_0x1135bc(0x1cf)](this,arguments);_0x887a94&&_0x887a94[_0x1135bc(0x1ee)]&&(_0x887a94=await _0x887a94);try{const _0x2d1020=this[_0x1135bc(0x1e2)]();await exports[_0x1135bc(0x1aa)](_0x2d1020,_0x3175b0,_0x29c1b1);}catch(_0x5ede89){logger[_0x1135bc(0x1b3)](_0x1135bc(0x1ae)+_0x3175b0+_0x1135bc(0x1f1)+_0x5ede89);}return _0x887a94;};});}},exports[a107_0x48341c(0x1dc)]=function(_0x534459,_0x21c13a,_0xfe2474){const _0x391984=a107_0x48341c,_0x3dc426={};_0x3dc426[_0x391984(0x1de)]=function(_0xf5ce29,_0x3cb879){return _0xf5ce29+_0x3cb879;},_0x3dc426[_0x391984(0x1a6)]='patch',_0x3dc426['TospE']=function(_0x261076,_0x5d32a6){return _0x261076+_0x5d32a6;},_0x3dc426['TuDpX']=_0x391984(0x1e7);const _0x440541=_0x3dc426,_0x1e609d=_0x440541[_0x391984(0x1de)](_0x440541[_0x391984(0x1a6)],_0x21c13a),_0x299cac=_0x440541[_0x391984(0x1d1)](_0x440541[_0x391984(0x1cd)],_0x21c13a),_0x31513c=this;if(_0x534459[_0x1e609d]||!_0x534459[_0x21c13a])return;_0x534459[_0x1e609d]=!![],_0x534459[_0x299cac]=_0x534459[_0x21c13a],_0x534459[_0x21c13a]=async()=>{const _0x12e01c=_0x391984;try{await _0x31513c[_0x12e01c(0x1aa)](_0x534459,_0x21c13a,_0xfe2474);}catch(_0x25a567){logger[_0x12e01c(0x1b3)]('Error\x20patching\x20'+_0x21c13a+_0x12e01c(0x1f1)+_0x25a567);}return await _0x534459[_0x299cac][_0x12e01c(0x1cf)](_0x534459,arguments);};},exports[a107_0x48341c(0x1a8)]=_0x4dcbda=>{const _0x12f968=a107_0x48341c,_0x11fa4a={};_0x11fa4a[_0x12f968(0x1e6)]='auto';const _0x6f78fc=_0x11fa4a,_0x534df5={};_0x534df5[_0x12f968(0x1d2)]=_0x4dcbda[_0x12f968(0x1d2)],_0x534df5[_0x12f968(0x1bf)]=_0x4dcbda[_0x12f968(0x1bf)]||_0x6f78fc[_0x12f968(0x1e6)];const _0x398761=_0x534df5;_0x4dcbda[_0x12f968(0x1d2)]&&(_0x398761[_0x12f968(0x1ec)]=exports[_0x12f968(0x1b4)](_0x4dcbda[_0x12f968(0x1d0)]));;return _0x398761;};