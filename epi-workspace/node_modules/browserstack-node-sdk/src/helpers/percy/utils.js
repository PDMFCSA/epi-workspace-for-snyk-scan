const a119_0x51c6c5=a119_0x4cbe;(function(_0x35f4e5,_0x4165c1){const _0x16d634=a119_0x4cbe,_0x5de549=_0x35f4e5();while(!![]){try{const _0x29f7b4=parseInt(_0x16d634(0x185))/0x1*(-parseInt(_0x16d634(0x1a8))/0x2)+parseInt(_0x16d634(0x188))/0x3*(-parseInt(_0x16d634(0x1a1))/0x4)+-parseInt(_0x16d634(0x1c0))/0x5*(parseInt(_0x16d634(0x199))/0x6)+parseInt(_0x16d634(0x182))/0x7*(-parseInt(_0x16d634(0x18e))/0x8)+-parseInt(_0x16d634(0x1ac))/0x9+-parseInt(_0x16d634(0x1b2))/0xa+parseInt(_0x16d634(0x19c))/0xb;if(_0x29f7b4===_0x4165c1)break;else _0x5de549['push'](_0x5de549['shift']());}catch(_0x43f008){_0x5de549['push'](_0x5de549['shift']());}}}(a119_0x1bcf,0x99167));function a119_0x1bcf(){const _0xcb12ba=['getPercyOptions','START','browserstackPercyMap','Error\x20patching\x20','./PercyCaptureMap','4154960owEzFt','manual','element','prototype','percyCaptureMode','deviceName','chrome','Couldn\x27t\x20capture\x20percy\x20screenshot,\x20no\x20session\x20name\x20present','./PercySDK','debug','jBHio','app','VlGVg','../performance/constants','7xcrXEW','toLowerCase','percy','22KanTvO','safari','reduce','9918oKMKSL','firefox','patch','AUTO_CAPTURE','screenshot','./PercyCaptureModes','5011352rCzxNe','browserStackPercyOptions','\x20for\x20percy\x20','driver','overrideXforPercy','browserName','winstonLogger','dIIZx','start','stop','forEach','6mhkByD','TgOXA','browserstackPercyBestPlatform','63487204CeQeLk','hcewb','../helper','nestedKeyValue','apply','688XPLqUZ','browserstackSessionName','ZthUP','UYqwg','getName','patchDriverPercy','jAOMT','103372WeHPUv','ZMsEL','Starting\x20percy','stopPercy','10100664UXZYuM','isUndefined','auto','error','../logger','dfyCA','8590860KmMFbA','RhJvO','percyAutoCapture','YwaKb','measureWrapper','Stopping\x20percy','init','./Percy','STOP'];a119_0x1bcf=function(){return _0xcb12ba;};return a119_0x1bcf();}function a119_0x4cbe(_0x2ac6a0,_0x2fc47c){const _0x1bcf7a=a119_0x1bcf();return a119_0x4cbe=function(_0x4cbe45,_0x176189){_0x4cbe45=_0x4cbe45-0x17c;let _0x5e581e=_0x1bcf7a[_0x4cbe45];return _0x5e581e;},a119_0x4cbe(_0x2ac6a0,_0x2fc47c);}const Percy=require(a119_0x51c6c5(0x1b9)),PercySDK=require(a119_0x51c6c5(0x17c)),PercyCaptureModes=require(a119_0x51c6c5(0x18d)),PercyCaptureMap=require(a119_0x51c6c5(0x1bf)),logger=require(a119_0x51c6c5(0x1b0))[a119_0x51c6c5(0x194)],helper=require(a119_0x51c6c5(0x19e)),PerformanceTester=require('../performance/performance-tester'),{PERCY_EVENTS:PerformanceEvents}=require(a119_0x51c6c5(0x181));exports['startPercy']=PerformanceTester[a119_0x51c6c5(0x1b6)](PerformanceEvents[a119_0x51c6c5(0x1bc)],async _0x5f0316=>{const _0x3fae02=a119_0x51c6c5,_0x5bd521={};_0x5bd521[_0x3fae02(0x1a3)]=_0x3fae02(0x1aa);const _0x4630f5=_0x5bd521;logger[_0x3fae02(0x17d)](_0x4630f5['ZthUP']);const _0x3da5c5=new Percy(_0x5f0316),_0x2a34c2=await _0x3da5c5[_0x3fae02(0x196)]();if(_0x2a34c2)return _0x3da5c5;return null;}),exports[a119_0x51c6c5(0x1ab)]=PerformanceTester['measureWrapper'](PerformanceEvents[a119_0x51c6c5(0x1ba)],async _0x2d330b=>{const _0x3109f7=a119_0x51c6c5,_0x4f93d8={};_0x4f93d8['RhJvO']=_0x3109f7(0x1b7);const _0x3e526e=_0x4f93d8;return logger[_0x3109f7(0x17d)](_0x3e526e[_0x3109f7(0x1b3)]),_0x2d330b[_0x3109f7(0x197)]();}),exports['getBestPlatformForPercySnapshot']=_0x313a7b=>{const _0xa7a388=a119_0x51c6c5,_0x2004ee={};_0x2004ee[_0xa7a388(0x1a4)]=function(_0xb669a3,_0xc65fd5){return _0xb669a3<_0xc65fd5;};const _0x14bd31=_0x2004ee,_0x45fedb={};_0x45fedb[_0xa7a388(0x1c6)]=0x0,_0x45fedb[_0xa7a388(0x189)]=0x1,_0x45fedb['edge']=0x2,_0x45fedb[_0xa7a388(0x186)]=0x3;const _0x20652b=_0x45fedb;return _0x313a7b[_0xa7a388(0x187)]((_0x350828,_0x3b00ab,_0xf73407)=>{const _0x145c8b=_0xa7a388,_0x5836b2=_0x313a7b[_0x350828];if(_0x3b00ab[_0x145c8b(0x1c5)])return _0x350828;if(_0x5836b2['deviceName'])return _0xf73407;const _0x59dc56=_0x3b00ab['browser']?_0x3b00ab['browser']:_0x3b00ab[_0x145c8b(0x193)];if(_0x59dc56&&_0x14bd31[_0x145c8b(0x1a4)](_0x20652b[_0x59dc56[_0x145c8b(0x183)]()],_0x20652b[_0x59dc56['toLowerCase']()]))return _0xf73407;return _0x350828;},0x0);},exports[a119_0x51c6c5(0x1b4)]=PerformanceTester['measureWrapper'](PerformanceEvents[a119_0x51c6c5(0x18b)],async(_0x152334,_0x15d430,_0x371336)=>{const _0x176c74=a119_0x51c6c5,_0x3c0bc1={};_0x3c0bc1[_0x176c74(0x1a7)]=_0x176c74(0x1c7);const _0x505b80=_0x3c0bc1,_0x5225b1=_0x152334[_0x176c74(0x1bd)];if(helper[_0x176c74(0x1ad)](_0x152334[_0x176c74(0x1a2)])){logger['debug'](_0x505b80[_0x176c74(0x1a7)]);return;}const _0xcf4217=_0x5225b1[_0x176c74(0x1a5)](_0x152334[_0x176c74(0x1a2)],_0x15d430);_0x371336[_0x176c74(0x17f)]?await PercySDK['screenshotApp'](_0x152334,_0xcf4217):await PercySDK[_0x176c74(0x18c)](_0x152334,_0xcf4217),_0x5225b1['increment'](_0x152334[_0x176c74(0x1a2)],_0x15d430);}),exports[a119_0x51c6c5(0x1a6)]=(_0x2b3b4d,_0x4c86d0,_0x1703b2)=>{const _0x3a31fc=a119_0x51c6c5,_0x5caae0={};_0x5caae0['ZMsEL']=_0x3a31fc(0x18f),_0x5caae0[_0x3a31fc(0x195)]='percy',_0x5caae0[_0x3a31fc(0x180)]=function(_0x1b81be,_0x3f28b1){return _0x1b81be!==_0x3f28b1;},_0x5caae0[_0x3a31fc(0x19a)]=_0x3a31fc(0x1c1);const _0x24c97a=_0x5caae0;if(!helper[_0x3a31fc(0x19f)](_0x1703b2,[_0x24c97a[_0x3a31fc(0x1a9)],_0x24c97a[_0x3a31fc(0x195)]]))return;if(_0x1703b2['browserStackPercyOptions'][_0x3a31fc(0x184)]&&_0x1703b2[_0x3a31fc(0x18f)][_0x3a31fc(0x1c4)]&&_0x24c97a[_0x3a31fc(0x180)](_0x1703b2[_0x3a31fc(0x18f)][_0x3a31fc(0x1c4)],_0x24c97a[_0x3a31fc(0x19a)])&&!_0x2b3b4d[_0x3a31fc(0x1bd)]){global[_0x3a31fc(0x1a2)]&&(_0x2b3b4d['browserstackSessionName']=global[_0x3a31fc(0x1a2)]),_0x2b3b4d[_0x3a31fc(0x1bd)]=new PercyCaptureMap();const _0xaffb73=PercyCaptureModes[_0x1703b2[_0x3a31fc(0x18f)][_0x3a31fc(0x1c4)]];_0xaffb73['driver']&&_0xaffb73[_0x3a31fc(0x191)][_0x3a31fc(0x198)](_0x5b7664=>this[_0x3a31fc(0x192)](_0x2b3b4d,_0x5b7664,_0x1703b2)),_0xaffb73[_0x3a31fc(0x1c2)]&&_0xaffb73['element'][_0x3a31fc(0x198)](_0xf40de5=>{const _0x276d3b=_0x3a31fc;if(_0x4c86d0[_0x276d3b(0x1c3)]['patch'+_0xf40de5])return;_0x4c86d0[_0x276d3b(0x1c3)][_0x276d3b(0x18a)+_0xf40de5]=!![];const _0x4e1f27=_0x4c86d0[_0x276d3b(0x1c3)][_0xf40de5];_0x4c86d0[_0x276d3b(0x1c3)][_0xf40de5]=async function(){const _0x4c1ab8=_0x276d3b;let _0x297cb1=_0x4e1f27[_0x4c1ab8(0x1a0)](this,arguments);_0x297cb1&&_0x297cb1['then']&&(_0x297cb1=await _0x297cb1);try{const _0x203ce5=this['getDriver']();await exports[_0x4c1ab8(0x1b4)](_0x203ce5,_0xf40de5,_0x1703b2);}catch(_0x230949){logger[_0x4c1ab8(0x1af)](_0x4c1ab8(0x1be)+_0xf40de5+_0x4c1ab8(0x190)+_0x230949);}return _0x297cb1;};});}},exports[a119_0x51c6c5(0x192)]=function(_0x10bc38,_0xf71639,_0x486118){const _0x4abcde=a119_0x51c6c5,_0x189b3e={};_0x189b3e[_0x4abcde(0x1b5)]=function(_0x455262,_0x401d36){return _0x455262+_0x401d36;},_0x189b3e[_0x4abcde(0x17e)]=_0x4abcde(0x18a),_0x189b3e[_0x4abcde(0x1b1)]=_0x4abcde(0x1b8);const _0x470879=_0x189b3e,_0x23bdb2=_0x470879[_0x4abcde(0x1b5)](_0x470879[_0x4abcde(0x17e)],_0xf71639),_0x4e2ced=_0x470879[_0x4abcde(0x1b5)](_0x470879[_0x4abcde(0x1b1)],_0xf71639),_0x253ef1=this;if(_0x10bc38[_0x23bdb2]||!_0x10bc38[_0xf71639])return;_0x10bc38[_0x23bdb2]=!![],_0x10bc38[_0x4e2ced]=_0x10bc38[_0xf71639],_0x10bc38[_0xf71639]=async()=>{const _0x15fdb3=_0x4abcde;try{await _0x253ef1[_0x15fdb3(0x1b4)](_0x10bc38,_0xf71639,_0x486118);}catch(_0x1f4f71){logger[_0x15fdb3(0x1af)](_0x15fdb3(0x1be)+_0xf71639+'\x20for\x20percy\x20'+_0x1f4f71);}return await _0x10bc38[_0x4e2ced][_0x15fdb3(0x1a0)](_0x10bc38,arguments);};},exports[a119_0x51c6c5(0x1bb)]=_0x5edd12=>{const _0x107452=a119_0x51c6c5,_0x14d1e4={};_0x14d1e4[_0x107452(0x19d)]=_0x107452(0x1ae);const _0x51abec=_0x14d1e4,_0x4e87d5={};_0x4e87d5[_0x107452(0x184)]=_0x5edd12['percy'],_0x4e87d5[_0x107452(0x1c4)]=_0x5edd12['percyCaptureMode']||_0x51abec[_0x107452(0x19d)];const _0xd86dee=_0x4e87d5;_0x5edd12[_0x107452(0x184)]&&(_0xd86dee[_0x107452(0x19b)]=exports['getBestPlatformForPercySnapshot'](_0x5edd12['platforms']));;return _0xd86dee;};