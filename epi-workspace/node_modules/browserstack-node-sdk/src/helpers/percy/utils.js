function a116_0x3f35(_0x3f5dcf,_0x4720ca){const _0x2cced2=a116_0x2cce();return a116_0x3f35=function(_0x3f359a,_0x2ba535){_0x3f359a=_0x3f359a-0x1d6;let _0x3a396b=_0x2cced2[_0x3f359a];return _0x3a396b;},a116_0x3f35(_0x3f5dcf,_0x4720ca);}const a116_0x514732=a116_0x3f35;(function(_0x381d02,_0x27690a){const _0x24721a=a116_0x3f35,_0x3b9b87=_0x381d02();while(!![]){try{const _0x1161b2=parseInt(_0x24721a(0x1ff))/0x1+-parseInt(_0x24721a(0x216))/0x2+parseInt(_0x24721a(0x1ea))/0x3*(-parseInt(_0x24721a(0x1ec))/0x4)+parseInt(_0x24721a(0x1f8))/0x5*(-parseInt(_0x24721a(0x21c))/0x6)+parseInt(_0x24721a(0x20a))/0x7+parseInt(_0x24721a(0x1fb))/0x8*(-parseInt(_0x24721a(0x21a))/0x9)+parseInt(_0x24721a(0x1e8))/0xa;if(_0x1161b2===_0x27690a)break;else _0x3b9b87['push'](_0x3b9b87['shift']());}catch(_0x29e0ad){_0x3b9b87['push'](_0x3b9b87['shift']());}}}(a116_0x2cce,0x52d74));function a116_0x2cce(){const _0x5b3270=['platforms','GYebI','ebJNa','nestedKeyValue','stop','screenshot','NmUCj','patch','lajWl','toLowerCase','Error\x20patching\x20','deviceName','driver','percyAutoCapture','overrideXforPercy','error','7920070TJOfBN','element','42sFtBtD','Qocnb','65888PteEVF','getName','init','IMpIU','patchDriverPercy','STOP','Stopping\x20percy','firefox','prototype','apply','getBestPlatformForPercySnapshot','GUbqZ','26305qanFwM','browser','stopPercy','2268040PNZdal','URSxp','NnGPz','./PercyCaptureMap','449410TbvbDo','browserstackSessionName','chrome','measureWrapper','startPercy','app','getDriver','screenshotApp','JQNaa','increment','forEach','1463882jNqdZG','\x20for\x20percy\x20','epnMI','winstonLogger','percy','../performance/constants','manual','START','bohEs','browserStackPercyOptions','percyCaptureMode','browserstackPercyMap','322080FFTrWV','../helper','safari','AUTO_CAPTURE','18rmWUNA','Starting\x20percy','174eKONBq','start','zEPVc'];a116_0x2cce=function(){return _0x5b3270;};return a116_0x2cce();}const Percy=require('./Percy'),PercySDK=require('./PercySDK'),PercyCaptureModes=require('./PercyCaptureModes'),PercyCaptureMap=require(a116_0x514732(0x1fe)),logger=require('../logger')[a116_0x514732(0x20d)],helper=require(a116_0x514732(0x217)),PerformanceTester=require('../performance/performance-tester'),{PERCY_EVENTS:PerformanceEvents}=require(a116_0x514732(0x20f));exports[a116_0x514732(0x203)]=PerformanceTester[a116_0x514732(0x202)](PerformanceEvents[a116_0x514732(0x211)],async _0x36210b=>{const _0xb05531=a116_0x514732,_0x53e9c9={};_0x53e9c9[_0xb05531(0x1e0)]=_0xb05531(0x21b);const _0x4a910a=_0x53e9c9;logger['debug'](_0x4a910a[_0xb05531(0x1e0)]);const _0x4ffa3a=new Percy(_0x36210b),_0x52a7c8=await _0x4ffa3a[_0xb05531(0x1d6)]();if(_0x52a7c8)return _0x4ffa3a;return null;}),exports[a116_0x514732(0x1fa)]=PerformanceTester['measureWrapper'](PerformanceEvents[a116_0x514732(0x1f1)],async _0x1c3c94=>{const _0xceb8b1=a116_0x514732,_0x4cafef={};_0x4cafef[_0xceb8b1(0x20c)]=_0xceb8b1(0x1f2);const _0x42c0b7=_0x4cafef;return logger['debug'](_0x42c0b7['epnMI']),_0x1c3c94[_0xceb8b1(0x1dc)]();}),exports[a116_0x514732(0x1f6)]=_0x3e756b=>{const _0x1b6394=a116_0x514732,_0x398b83={};_0x398b83['NnGPz']=function(_0x2ee247,_0x417d06){return _0x2ee247<_0x417d06;};const _0x4325e6=_0x398b83,_0x25d143={};_0x25d143[_0x1b6394(0x201)]=0x0,_0x25d143[_0x1b6394(0x1f3)]=0x1,_0x25d143['edge']=0x2,_0x25d143[_0x1b6394(0x218)]=0x3;const _0x4fa5d3=_0x25d143;return _0x3e756b['reduce']((_0x4f6288,_0x539c22,_0x267217)=>{const _0x4922ab=_0x1b6394,_0x382136=_0x3e756b[_0x4f6288];if(_0x539c22['deviceName'])return _0x4f6288;if(_0x382136[_0x4922ab(0x1e3)])return _0x267217;const _0x54ecae=_0x539c22[_0x4922ab(0x1f9)]?_0x539c22['browser']:_0x539c22['browserName'];if(_0x54ecae&&_0x4325e6[_0x4922ab(0x1fd)](_0x4fa5d3[_0x54ecae[_0x4922ab(0x1e1)]()],_0x4fa5d3[_0x54ecae[_0x4922ab(0x1e1)]()]))return _0x267217;return _0x4f6288;},0x0);},exports[a116_0x514732(0x1e5)]=PerformanceTester[a116_0x514732(0x202)](PerformanceEvents[a116_0x514732(0x219)],async(_0x14c817,_0x3afd6e,_0x26f3a1)=>{const _0x5ee780=a116_0x514732,_0x5a50e8={};_0x5a50e8[_0x5ee780(0x1eb)]='Couldn\x27t\x20capture\x20percy\x20screenshot,\x20no\x20session\x20name\x20present';const _0x4acbbc=_0x5a50e8,_0x11b763=_0x14c817[_0x5ee780(0x215)];if(helper['isUndefined'](_0x14c817[_0x5ee780(0x200)])){logger['debug'](_0x4acbbc[_0x5ee780(0x1eb)]);return;}const _0x4219b9=_0x11b763[_0x5ee780(0x1ed)](_0x14c817['browserstackSessionName'],_0x3afd6e);_0x26f3a1[_0x5ee780(0x204)]?await PercySDK[_0x5ee780(0x206)](_0x14c817,_0x4219b9):await PercySDK[_0x5ee780(0x1dd)](_0x14c817,_0x4219b9),_0x11b763[_0x5ee780(0x208)](_0x14c817[_0x5ee780(0x200)],_0x3afd6e);}),exports[a116_0x514732(0x1f0)]=(_0x2827b2,_0x4637c8,_0x36620a)=>{const _0x264595=a116_0x514732,_0x5480eb={};_0x5480eb[_0x264595(0x1de)]='browserStackPercyOptions',_0x5480eb[_0x264595(0x1d7)]=_0x264595(0x20e),_0x5480eb[_0x264595(0x1ef)]=function(_0x59f79a,_0x540bf3){return _0x59f79a!==_0x540bf3;},_0x5480eb[_0x264595(0x1da)]=_0x264595(0x210);const _0x5193e4=_0x5480eb;if(!helper[_0x264595(0x1db)](_0x36620a,[_0x5193e4['NmUCj'],_0x5193e4[_0x264595(0x1d7)]]))return;if(_0x36620a['browserStackPercyOptions'][_0x264595(0x20e)]&&_0x36620a['browserStackPercyOptions']['percyCaptureMode']&&_0x5193e4[_0x264595(0x1ef)](_0x36620a[_0x264595(0x213)][_0x264595(0x214)],_0x5193e4['ebJNa'])&&!_0x2827b2[_0x264595(0x215)]){global[_0x264595(0x200)]&&(_0x2827b2['browserstackSessionName']=global['browserstackSessionName']),_0x2827b2[_0x264595(0x215)]=new PercyCaptureMap();const _0x5a36df=PercyCaptureModes[_0x36620a[_0x264595(0x213)][_0x264595(0x214)]];_0x5a36df[_0x264595(0x1e4)]&&_0x5a36df[_0x264595(0x1e4)][_0x264595(0x209)](_0x36af81=>this[_0x264595(0x1e6)](_0x2827b2,_0x36af81,_0x36620a)),_0x5a36df[_0x264595(0x1e9)]&&_0x5a36df['element']['forEach'](_0x107483=>{const _0x299648=_0x264595;if(_0x4637c8[_0x299648(0x1f4)]['patch'+_0x107483])return;_0x4637c8[_0x299648(0x1f4)][_0x299648(0x1df)+_0x107483]=!![];const _0x28d94d=_0x4637c8[_0x299648(0x1f4)][_0x107483];_0x4637c8[_0x299648(0x1f4)][_0x107483]=async function(){const _0x442579=_0x299648;let _0x2fa083=_0x28d94d[_0x442579(0x1f5)](this,arguments);_0x2fa083&&_0x2fa083['then']&&(_0x2fa083=await _0x2fa083);try{const _0x10bd36=this[_0x442579(0x205)]();await exports[_0x442579(0x1e5)](_0x10bd36,_0x107483,_0x36620a);}catch(_0x5060f5){logger[_0x442579(0x1e7)](_0x442579(0x1e2)+_0x107483+'\x20for\x20percy\x20'+_0x5060f5);}return _0x2fa083;};});}},exports[a116_0x514732(0x1e6)]=function(_0x40a002,_0x51274d,_0x1cc38f){const _0x2712e7=a116_0x514732,_0x3fede5={};_0x3fede5[_0x2712e7(0x1d9)]=function(_0x2bad6f,_0x12b78e){return _0x2bad6f+_0x12b78e;},_0x3fede5[_0x2712e7(0x1f7)]=_0x2712e7(0x1df),_0x3fede5[_0x2712e7(0x212)]=function(_0x48a057,_0xaf2a02){return _0x48a057+_0xaf2a02;},_0x3fede5['JQNaa']=_0x2712e7(0x1ee);const _0x3faf7f=_0x3fede5,_0x593a88=_0x3faf7f['GYebI'](_0x3faf7f[_0x2712e7(0x1f7)],_0x51274d),_0x4657d2=_0x3faf7f[_0x2712e7(0x212)](_0x3faf7f[_0x2712e7(0x207)],_0x51274d),_0x55c2d7=this;if(_0x40a002[_0x593a88]||!_0x40a002[_0x51274d])return;_0x40a002[_0x593a88]=!![],_0x40a002[_0x4657d2]=_0x40a002[_0x51274d],_0x40a002[_0x51274d]=async()=>{const _0x544e58=_0x2712e7;try{await _0x55c2d7['percyAutoCapture'](_0x40a002,_0x51274d,_0x1cc38f);}catch(_0x13d52c){logger['error']('Error\x20patching\x20'+_0x51274d+_0x544e58(0x20b)+_0x13d52c);}return await _0x40a002[_0x4657d2][_0x544e58(0x1f5)](_0x40a002,arguments);};},exports['getPercyOptions']=_0x108c76=>{const _0x461ec7=a116_0x514732,_0x1ba2e6={};_0x1ba2e6[_0x461ec7(0x1fc)]='auto';const _0x3d6117=_0x1ba2e6,_0xfebee={};_0xfebee[_0x461ec7(0x20e)]=_0x108c76['percy'],_0xfebee['percyCaptureMode']=_0x108c76[_0x461ec7(0x214)]||_0x3d6117[_0x461ec7(0x1fc)];const _0x3588dc=_0xfebee;_0x108c76[_0x461ec7(0x20e)]&&(_0x3588dc['browserstackPercyBestPlatform']=exports['getBestPlatformForPercySnapshot'](_0x108c76[_0x461ec7(0x1d8)]));;return _0x3588dc;};