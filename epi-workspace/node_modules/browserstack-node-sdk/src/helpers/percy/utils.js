const a78_0x383de5=a78_0x7f50;function a78_0x35dc(){const _0x17644d=['browserstackSessionName','576IbdgtW','isUndefined','getPercyOptions','percyAutoCapture','driver','WkErY','256914JPOuYw','./PercyCaptureMap','browserstackPercyBestPlatform','browserstackPercyMap','YpDRS','browserName','getDriver','vCyXN','AUTO_CAPTURE','patchDriverPercy','error','percyCaptureMode','patch','150073DsaamZ','11pFVEOk','browserStackPercyOptions','getBestPlatformForPercySnapshot','browser','gjOkw','5wgfoon','284274viuXNS','deviceName','safari','startPercy','../helper','hHYBg','2775008Hezrzt','stop','LmJrO','FHfWS','apply','prototype','Stopping\x20percy','uJAVT','Error\x20patching\x20','then','ajleH','start','YczLO','STOP','percy','chrome','overrideXforPercy','reduce','KaYPz','START','129xNWsmR','SxLgB','1596854hGXXYJ','nestedKeyValue','Couldn\x27t\x20capture\x20percy\x20screenshot,\x20no\x20session\x20name\x20present','manual','forEach','JQwJN','110wjmWGQ','platforms','toLowerCase','53852vlCAkc','app','measureWrapper','25836oUxRqW','firefox','winstonLogger','./PercySDK','../performance/performance-tester','element'];a78_0x35dc=function(){return _0x17644d;};return a78_0x35dc();}(function(_0x5847f8,_0x3aa026){const _0x10aa64=a78_0x7f50,_0x3d74d0=_0x5847f8();while(!![]){try{const _0x25379c=-parseInt(_0x10aa64(0x1f5))/0x1*(-parseInt(_0x10aa64(0x1d7))/0x2)+parseInt(_0x10aa64(0x215))/0x3*(-parseInt(_0x10aa64(0x1da))/0x4)+parseInt(_0x10aa64(0x1fa))/0x5*(-parseInt(_0x10aa64(0x1fb))/0x6)+parseInt(_0x10aa64(0x217))/0x7+parseInt(_0x10aa64(0x201))/0x8+-parseInt(_0x10aa64(0x1e7))/0x9*(-parseInt(_0x10aa64(0x21d))/0xa)+parseInt(_0x10aa64(0x1f4))/0xb*(-parseInt(_0x10aa64(0x1e1))/0xc);if(_0x25379c===_0x3aa026)break;else _0x3d74d0['push'](_0x3d74d0['shift']());}catch(_0x171350){_0x3d74d0['push'](_0x3d74d0['shift']());}}}(a78_0x35dc,0x3219a));const Percy=require('./Percy'),PercySDK=require(a78_0x383de5(0x1dd)),PercyCaptureModes=require('./PercyCaptureModes'),PercyCaptureMap=require(a78_0x383de5(0x1e8)),logger=require('../logger')[a78_0x383de5(0x1dc)],helper=require(a78_0x383de5(0x1ff)),PerformanceTester=require(a78_0x383de5(0x1de)),{PERCY_EVENTS:PerformanceEvents}=require('../performance/constants');function a78_0x7f50(_0x32a3e4,_0x3187e3){const _0x35dc45=a78_0x35dc();return a78_0x7f50=function(_0x7f5021,_0x164576){_0x7f5021=_0x7f5021-0x1d6;let _0x316641=_0x35dc45[_0x7f5021];return _0x316641;},a78_0x7f50(_0x32a3e4,_0x3187e3);}exports[a78_0x383de5(0x1fe)]=PerformanceTester[a78_0x383de5(0x1d9)](PerformanceEvents[a78_0x383de5(0x214)],async _0x1808cb=>{const _0x5a2c2b=a78_0x383de5,_0x230e75={};_0x230e75[_0x5a2c2b(0x1e6)]='Starting\x20percy';const _0x4f171c=_0x230e75;logger['debug'](_0x4f171c['WkErY']);const _0x4c15d8=new Percy(_0x1808cb),_0x2c2d03=await _0x4c15d8[_0x5a2c2b(0x20c)]();if(_0x2c2d03)return _0x4c15d8;return null;}),exports['stopPercy']=PerformanceTester[a78_0x383de5(0x1d9)](PerformanceEvents[a78_0x383de5(0x20e)],async _0x9b5361=>{const _0x53a3c8=a78_0x383de5,_0x41ca65={};_0x41ca65[_0x53a3c8(0x204)]=_0x53a3c8(0x207);const _0x2c3ddb=_0x41ca65;return logger['debug'](_0x2c3ddb[_0x53a3c8(0x204)]),_0x9b5361[_0x53a3c8(0x202)]();}),exports[a78_0x383de5(0x1f7)]=_0x1bd03d=>{const _0x416fe3=a78_0x383de5,_0x2a3b76={};_0x2a3b76['SxLgB']=function(_0xb55910,_0x4458ea){return _0xb55910<_0x4458ea;};const _0x35f01b=_0x2a3b76,_0x46dea3={};_0x46dea3[_0x416fe3(0x210)]=0x0,_0x46dea3[_0x416fe3(0x1db)]=0x1,_0x46dea3['edge']=0x2,_0x46dea3[_0x416fe3(0x1fd)]=0x3;const _0xc90d0b=_0x46dea3;return _0x1bd03d[_0x416fe3(0x212)]((_0x30a1df,_0x4b4d60,_0x550cb6)=>{const _0x14df3b=_0x416fe3,_0x1cec48=_0x1bd03d[_0x30a1df];if(_0x4b4d60[_0x14df3b(0x1fc)])return _0x30a1df;if(_0x1cec48[_0x14df3b(0x1fc)])return _0x550cb6;const _0x36c59a=_0x4b4d60[_0x14df3b(0x1f8)]?_0x4b4d60[_0x14df3b(0x1f8)]:_0x4b4d60[_0x14df3b(0x1ec)];if(_0x36c59a&&_0x35f01b[_0x14df3b(0x216)](_0xc90d0b[_0x36c59a[_0x14df3b(0x1d6)]()],_0xc90d0b[_0x36c59a[_0x14df3b(0x1d6)]()]))return _0x550cb6;return _0x30a1df;},0x0);},exports['percyAutoCapture']=PerformanceTester['measureWrapper'](PerformanceEvents[a78_0x383de5(0x1ef)],async(_0x557ae7,_0x3bfcba,_0x53d7b5)=>{const _0x37db53=a78_0x383de5,_0x1dc465={};_0x1dc465[_0x37db53(0x1ee)]=_0x37db53(0x219);const _0x120645=_0x1dc465,_0x104776=_0x557ae7[_0x37db53(0x1ea)];if(helper[_0x37db53(0x1e2)](_0x557ae7[_0x37db53(0x1e0)])){logger['debug'](_0x120645[_0x37db53(0x1ee)]);return;}const _0x192283=_0x104776['getName'](_0x557ae7[_0x37db53(0x1e0)],_0x3bfcba);_0x53d7b5[_0x37db53(0x1d8)]?await PercySDK['screenshotApp'](_0x557ae7,_0x192283):await PercySDK['screenshot'](_0x557ae7,_0x192283),_0x104776['increment'](_0x557ae7['browserstackSessionName'],_0x3bfcba);}),exports[a78_0x383de5(0x1f0)]=(_0x19032,_0x56ba48,_0x22de84)=>{const _0x148627=a78_0x383de5,_0x595728={};_0x595728['YpDRS']=_0x148627(0x1f6),_0x595728[_0x148627(0x20d)]=_0x148627(0x20f),_0x595728[_0x148627(0x1f9)]=function(_0x507564,_0x157f68){return _0x507564!==_0x157f68;},_0x595728[_0x148627(0x200)]=_0x148627(0x21a);const _0xbe96f9=_0x595728;if(!helper[_0x148627(0x218)](_0x22de84,[_0xbe96f9[_0x148627(0x1eb)],_0xbe96f9['YczLO']]))return;if(_0x22de84[_0x148627(0x1f6)][_0x148627(0x20f)]&&_0x22de84[_0x148627(0x1f6)][_0x148627(0x1f2)]&&_0xbe96f9[_0x148627(0x1f9)](_0x22de84[_0x148627(0x1f6)][_0x148627(0x1f2)],_0xbe96f9[_0x148627(0x200)])&&!_0x19032[_0x148627(0x1ea)]){global[_0x148627(0x1e0)]&&(_0x19032[_0x148627(0x1e0)]=global[_0x148627(0x1e0)]),_0x19032[_0x148627(0x1ea)]=new PercyCaptureMap();const _0x1ba9ba=PercyCaptureModes[_0x22de84[_0x148627(0x1f6)][_0x148627(0x1f2)]];_0x1ba9ba[_0x148627(0x1e5)]&&_0x1ba9ba['driver'][_0x148627(0x21b)](_0x599b0c=>this[_0x148627(0x211)](_0x19032,_0x599b0c,_0x22de84)),_0x1ba9ba[_0x148627(0x1df)]&&_0x1ba9ba[_0x148627(0x1df)]['forEach'](_0x48a367=>{const _0xa2fa26=_0x148627;if(_0x56ba48[_0xa2fa26(0x206)][_0xa2fa26(0x1f3)+_0x48a367])return;_0x56ba48[_0xa2fa26(0x206)][_0xa2fa26(0x1f3)+_0x48a367]=!![];const _0x2c399e=_0x56ba48[_0xa2fa26(0x206)][_0x48a367];_0x56ba48[_0xa2fa26(0x206)][_0x48a367]=async function(){const _0x47707e=_0xa2fa26;let _0x20031a=_0x2c399e[_0x47707e(0x205)](this,arguments);_0x20031a&&_0x20031a[_0x47707e(0x20a)]&&(_0x20031a=await _0x20031a);try{const _0xe7834b=this[_0x47707e(0x1ed)]();await exports[_0x47707e(0x1e4)](_0xe7834b,_0x48a367,_0x22de84);}catch(_0x3fcdd9){logger['error'](_0x47707e(0x209)+_0x48a367+'\x20for\x20percy\x20'+_0x3fcdd9);}return _0x20031a;};});}},exports[a78_0x383de5(0x211)]=function(_0x590256,_0x47aeb9,_0x4388a1){const _0x1ff70c=a78_0x383de5,_0x406124={};_0x406124[_0x1ff70c(0x20b)]=function(_0x267d60,_0x4a02a9){return _0x267d60+_0x4a02a9;},_0x406124[_0x1ff70c(0x21c)]='patch',_0x406124['LmJrO']=function(_0x273588,_0x4080e8){return _0x273588+_0x4080e8;},_0x406124[_0x1ff70c(0x213)]='init';const _0x3193b9=_0x406124,_0x1ec266=_0x3193b9[_0x1ff70c(0x20b)](_0x3193b9['JQwJN'],_0x47aeb9),_0x556153=_0x3193b9[_0x1ff70c(0x203)](_0x3193b9['KaYPz'],_0x47aeb9),_0x181ea1=this;if(_0x590256[_0x1ec266]||!_0x590256[_0x47aeb9])return;_0x590256[_0x1ec266]=!![],_0x590256[_0x556153]=_0x590256[_0x47aeb9],_0x590256[_0x47aeb9]=async()=>{const _0x725201=_0x1ff70c;try{await _0x181ea1[_0x725201(0x1e4)](_0x590256,_0x47aeb9,_0x4388a1);}catch(_0x2caf75){logger[_0x725201(0x1f1)](_0x725201(0x209)+_0x47aeb9+'\x20for\x20percy\x20'+_0x2caf75);}return await _0x590256[_0x556153][_0x725201(0x205)](_0x590256,arguments);};},exports[a78_0x383de5(0x1e3)]=_0x3c3925=>{const _0x233d04=a78_0x383de5,_0x3d59ce={};_0x3d59ce[_0x233d04(0x208)]='auto';const _0x2ad6f3=_0x3d59ce,_0x42bc8e={};_0x42bc8e[_0x233d04(0x20f)]=_0x3c3925[_0x233d04(0x20f)],_0x42bc8e['percyCaptureMode']=_0x3c3925[_0x233d04(0x1f2)]||_0x2ad6f3[_0x233d04(0x208)];const _0x94f8a6=_0x42bc8e;_0x3c3925['percy']&&(_0x94f8a6[_0x233d04(0x1e9)]=exports[_0x233d04(0x1f7)](_0x3c3925[_0x233d04(0x21e)]));;return _0x94f8a6;};