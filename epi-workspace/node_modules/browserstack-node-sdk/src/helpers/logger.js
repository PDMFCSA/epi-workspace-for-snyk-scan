const a109_0x3012c7=a109_0x1b99;function a109_0x1b99(_0x32c84a,_0x432454){const _0x407a90=a109_0x407a();return a109_0x1b99=function(_0x1b9987,_0x218679){_0x1b9987=_0x1b9987-0x122;let _0x1670dc=_0x407a90[_0x1b9987];return _0x1670dc;},a109_0x1b99(_0x32c84a,_0x432454);}(function(_0x5e0eec,_0x4b48ca){const _0x3d039c=a109_0x1b99,_0x5588bb=_0x5e0eec();while(!![]){try{const _0x285493=-parseInt(_0x3d039c(0x127))/0x1+parseInt(_0x3d039c(0x12d))/0x2+parseInt(_0x3d039c(0x15a))/0x3*(-parseInt(_0x3d039c(0x123))/0x4)+-parseInt(_0x3d039c(0x143))/0x5+parseInt(_0x3d039c(0x168))/0x6*(-parseInt(_0x3d039c(0x136))/0x7)+parseInt(_0x3d039c(0x165))/0x8*(-parseInt(_0x3d039c(0x161))/0x9)+parseInt(_0x3d039c(0x12b))/0xa;if(_0x285493===_0x4b48ca)break;else _0x5588bb['push'](_0x5588bb['shift']());}catch(_0x478ebe){_0x5588bb['push'](_0x5588bb['shift']());}}}(a109_0x407a,0xe0e48));const winston=require(a109_0x3012c7(0x14a)),path=require(a109_0x3012c7(0x14d)),fs=require('fs'),{LOG_FILE_NAME,DEBUG_LOG_FILE_NAME}=require('../bin/utils/constants'),tempLogDir=a109_0x3012c7(0x163),logFormat=winston['format'](_0x31f754=>{const _0x10688d=a109_0x3012c7,_0x38b579={};_0x38b579['EAfbb']=function(_0x260dfd,_0x326aa1){return _0x260dfd!==_0x326aa1;},_0x38b579['QcmZb']='string',_0x38b579[_0x10688d(0x15e)]=function(_0x3ce67c,_0x4ce66b){return _0x3ce67c===_0x4ce66b;},_0x38b579[_0x10688d(0x158)]=_0x10688d(0x14c);const _0x2da942=_0x38b579;return _0x2da942[_0x10688d(0x145)](typeof _0x31f754[_0x10688d(0x155)],_0x2da942['QcmZb'])&&(_0x31f754[_0x10688d(0x155)]=JSON['stringify'](_0x31f754[_0x10688d(0x155)])),global[_0x10688d(0x138)]?.['config']?.['userName']&&_0x2da942[_0x10688d(0x15e)](typeof _0x31f754[_0x10688d(0x155)],_0x2da942[_0x10688d(0x122)])&&(_0x31f754['message']=_0x31f754[_0x10688d(0x155)][_0x10688d(0x157)](new RegExp(global[_0x10688d(0x138)][_0x10688d(0x128)][_0x10688d(0x16f)],'g'),_0x2da942['fzeKI'])),global[_0x10688d(0x138)]?.[_0x10688d(0x128)]?.[_0x10688d(0x170)]&&_0x2da942[_0x10688d(0x15e)](typeof _0x31f754[_0x10688d(0x155)],_0x2da942[_0x10688d(0x122)])&&(_0x31f754[_0x10688d(0x155)]=_0x31f754[_0x10688d(0x155)]['replace'](new RegExp(global[_0x10688d(0x138)][_0x10688d(0x128)]['accessKey'],'g'),_0x2da942[_0x10688d(0x158)])),_0x31f754;}),fetchLogDir=()=>{const _0x15f915=a109_0x3012c7;if(process[_0x15f915(0x13f)][_0x15f915(0x153)])return process['env'][_0x15f915(0x153)];else!fs[_0x15f915(0x154)](tempLogDir)&&fs[_0x15f915(0x156)](tempLogDir);return tempLogDir;},logDir=fetchLogDir(),getInitialLogLevel=()=>{const _0x310153=a109_0x3012c7,_0x5d657a={};_0x5d657a[_0x310153(0x15b)]=_0x310153(0x152);const _0x59c8e3=_0x5d657a,_0x21494c=process[_0x310153(0x13f)][_0x310153(0x15f)],_0x5c16ff=Object['keys'](winston[_0x310153(0x128)][_0x310153(0x162)][_0x310153(0x166)]);if(_0x21494c&&_0x5c16ff[_0x310153(0x147)](_0x21494c[_0x310153(0x133)]()))return _0x21494c[_0x310153(0x133)]();return _0x59c8e3[_0x310153(0x15b)];},initialLogLevel=getInitialLogLevel(),a109_0x66aec={};a109_0x66aec['name']=a109_0x3012c7(0x141),a109_0x66aec[a109_0x3012c7(0x124)]=initialLogLevel;const transports={'loggerConsole':new winston[(a109_0x3012c7(0x13d))][(a109_0x3012c7(0x137))](a109_0x66aec),'loggerFile':new winston[(a109_0x3012c7(0x13d))][(a109_0x3012c7(0x135))]({'filename':path[a109_0x3012c7(0x150)](logDir,'/usage.log'),'level':initialLogLevel}),'debugLoggerFile':new winston[(a109_0x3012c7(0x13d))]['File']({'filename':path['join'](logDir,a109_0x3012c7(0x139)),'level':a109_0x3012c7(0x15d)}),'debugCliLoggerFile':new winston[(a109_0x3012c7(0x13d))][(a109_0x3012c7(0x135))]({'filename':path['join'](logDir,a109_0x3012c7(0x16e)),'level':a109_0x3012c7(0x15d)}),'buildLinkTransport':new winston['transports'][(a109_0x3012c7(0x135))]({'filename':path[a109_0x3012c7(0x150)](logDir,a109_0x3012c7(0x132)),'level':a109_0x3012c7(0x15d)})},automationTransports={};process[a109_0x3012c7(0x13f)][a109_0x3012c7(0x14b)]===a109_0x3012c7(0x16c)&&(automationTransports[a109_0x3012c7(0x12c)]=new winston[(a109_0x3012c7(0x13d))][(a109_0x3012c7(0x135))]({'filename':path[a109_0x3012c7(0x150)](logDir,a109_0x3012c7(0x13a)),'level':a109_0x3012c7(0x15d)}));transports[a109_0x3012c7(0x16a)]['on'](a109_0x3012c7(0x12f),_0x404c53=>{const _0x492091=a109_0x3012c7,_0x12768f={};_0x12768f[_0x492091(0x140)]=function(_0xf332c3,_0x3d292b){return _0xf332c3===_0x3d292b;},_0x12768f[_0x492091(0x125)]='EPIPE',_0x12768f['drrdL']=_0x492091(0x16d);const _0x1f8d88=_0x12768f;if(_0x1f8d88[_0x492091(0x140)](_0x404c53[_0x492091(0x13e)],_0x1f8d88['FOskH'])){console[_0x492091(0x163)](_0x1f8d88[_0x492091(0x164)],_0x404c53[_0x492091(0x155)]);return;}throw _0x404c53;});const a109_0x3e3072={};a109_0x3e3072['format']=a109_0x3012c7(0x13b);const a109_0x27bcd4={};a109_0x27bcd4[a109_0x3012c7(0x124)]=!![];const winstonLoggerParams={'format':winston[a109_0x3012c7(0x14f)]['combine'](winston[a109_0x3012c7(0x14f)]['timestamp'](a109_0x3e3072),winston[a109_0x3012c7(0x14f)][a109_0x3012c7(0x131)](a109_0x27bcd4),winston[a109_0x3012c7(0x14f)]['printf'](_0x573c44=>_0x573c44[a109_0x3012c7(0x144)]+a109_0x3012c7(0x146)+_0x573c44[a109_0x3012c7(0x124)]+':\x20'+_0x573c44[a109_0x3012c7(0x155)])),'transports':[transports[a109_0x3012c7(0x16a)]]},a109_0x4ffad6={};a109_0x4ffad6[a109_0x3012c7(0x14f)]=a109_0x3012c7(0x13b);const a109_0x23169c={};a109_0x23169c[a109_0x3012c7(0x124)]=!![];const winstonFileLoggerParams={'format':winston[a109_0x3012c7(0x14f)]['combine'](winston['format']['timestamp'](a109_0x4ffad6),winston['format']['colorize'](a109_0x23169c),winston[a109_0x3012c7(0x14f)][a109_0x3012c7(0x130)](_0x593108=>_0x593108['level']+':\x20'+_0x593108[a109_0x3012c7(0x155)])),'transports':[]},a109_0x2121da={};function a109_0x407a(){const _0x45bea5=['format','join','automationLogger','info','BROWSERSTACK_INTERNAL_LOG_DIR','existsSync','message','mkdirSync','replace','fzeKI','loggerFile','68049JZAgto','ZmKBb','createLogger','silly','JmZYE','BROWSERSTACK_LOG_LEVEL','warn','54HBQlZO','npm','log','drrdL','2202272IjHboI','levels','sdaAM','6oqNhOK','debugLoggerFile','loggerConsole','uncolorize','true','EPIPE\x20error\x20occurred\x20in\x20loggerConsole:','/sdk-cli-debug.log','userName','accessKey','QcmZb','4qkpxXG','level','FOskH','add','1793035nbdnCo','config','fileLogger','buildLinkTransport','40553000dMTTVj','automationLoggerFile','813344HpJBsl','combine','error','printf','colorize','/usage.log','toLowerCase','initialize','File','63224nHjkxX','Console','session','/usage-debug.log','automation.log','YYYY-MM-DD\x20HH:mm:ss','winstonLogger','transports','code','env','MzCOP','console.info','getLogDir','321790NUJHnR','timestamp','EAfbb','\x20-\x20','includes','buildLogger','http','winston','BROWSERSTACK_AUTOMATION_LOGS','[REDACTED]','path','logDir'];a109_0x407a=function(){return _0x45bea5;};return a109_0x407a();}a109_0x2121da['format']=a109_0x3012c7(0x13b);const a109_0x571b2f={};a109_0x571b2f[a109_0x3012c7(0x124)]=!![];const a109_0x5cc342={};a109_0x5cc342[a109_0x3012c7(0x124)]=a109_0x3012c7(0x15d);const BuildLoggerParams={'format':winston[a109_0x3012c7(0x14f)][a109_0x3012c7(0x12e)](winston[a109_0x3012c7(0x14f)][a109_0x3012c7(0x144)](a109_0x2121da),winston[a109_0x3012c7(0x14f)][a109_0x3012c7(0x131)](a109_0x571b2f),winston[a109_0x3012c7(0x14f)][a109_0x3012c7(0x130)](_0x3f24d=>_0x3f24d[a109_0x3012c7(0x144)]+a109_0x3012c7(0x146)+_0x3f24d['level']+':\x20'+_0x3f24d['message'])),'transports':[transports[a109_0x3012c7(0x12a)],new winston['transports'][(a109_0x3012c7(0x137))](a109_0x5cc342)]},a109_0x4a3c0d={};a109_0x4a3c0d[a109_0x3012c7(0x149)]=()=>{},a109_0x4a3c0d['info']=()=>{},a109_0x4a3c0d[a109_0x3012c7(0x160)]=()=>{},a109_0x4a3c0d[a109_0x3012c7(0x12f)]=()=>{},a109_0x4a3c0d['debug']=()=>{},a109_0x4a3c0d[a109_0x3012c7(0x15d)]=()=>{},exports[a109_0x3012c7(0x151)]=process[a109_0x3012c7(0x13f)][a109_0x3012c7(0x14b)]==='true'?winston[a109_0x3012c7(0x15c)]({'format':winston[a109_0x3012c7(0x14f)][a109_0x3012c7(0x12e)](winston[a109_0x3012c7(0x14f)][a109_0x3012c7(0x16b)](),winston[a109_0x3012c7(0x14f)][a109_0x3012c7(0x144)](),logFormat(),winston[a109_0x3012c7(0x14f)]['printf'](_0x3a5b9a=>_0x3a5b9a[a109_0x3012c7(0x124)]+':\x20'+_0x3a5b9a[a109_0x3012c7(0x155)])),'transports':[automationTransports[a109_0x3012c7(0x12c)]]}):a109_0x4a3c0d;const initialize=()=>{const _0x11dfc6=a109_0x3012c7,_0x2b79cb={};_0x2b79cb[_0x11dfc6(0x167)]='silly';const _0x2c023b=_0x2b79cb,_0x130976=transports['loggerConsole']['level']||initialLogLevel;transports[_0x11dfc6(0x159)]=new winston[(_0x11dfc6(0x13d))][(_0x11dfc6(0x135))]({'filename':path['join'](exports[_0x11dfc6(0x14e)],LOG_FILE_NAME),'level':_0x130976}),transports[_0x11dfc6(0x169)]=new winston['transports'][(_0x11dfc6(0x135))]({'filename':path[_0x11dfc6(0x150)](exports['logDir'],DEBUG_LOG_FILE_NAME),'level':_0x2c023b[_0x11dfc6(0x167)]}),exports[_0x11dfc6(0x13c)]['add'](transports[_0x11dfc6(0x159)]),exports[_0x11dfc6(0x13c)][_0x11dfc6(0x126)](transports[_0x11dfc6(0x169)]),exports[_0x11dfc6(0x129)][_0x11dfc6(0x126)](transports[_0x11dfc6(0x159)]),exports[_0x11dfc6(0x129)][_0x11dfc6(0x126)](transports[_0x11dfc6(0x169)]);};exports[a109_0x3012c7(0x13c)]=new winston['createLogger'](winstonLoggerParams),exports['fileLogger']=new winston[(a109_0x3012c7(0x15c))](winstonFileLoggerParams),exports[a109_0x3012c7(0x148)]=new winston[(a109_0x3012c7(0x15c))](BuildLoggerParams),exports['logDir']=logDir,exports[a109_0x3012c7(0x142)]=()=>{return exports['logDir'];},exports[a109_0x3012c7(0x13d)]=transports,exports[a109_0x3012c7(0x134)]=initialize;logDir&&initialize();