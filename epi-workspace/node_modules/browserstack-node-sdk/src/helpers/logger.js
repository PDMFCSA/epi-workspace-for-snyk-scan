const a104_0x3fb590=a104_0x340a;(function(_0x369b4b,_0x207dad){const _0x1c1871=a104_0x340a,_0x5578e7=_0x369b4b();while(!![]){try{const _0x85321=-parseInt(_0x1c1871(0x1f5))/0x1*(parseInt(_0x1c1871(0x1fd))/0x2)+-parseInt(_0x1c1871(0x200))/0x3*(parseInt(_0x1c1871(0x1d2))/0x4)+-parseInt(_0x1c1871(0x1c4))/0x5*(-parseInt(_0x1c1871(0x1e9))/0x6)+-parseInt(_0x1c1871(0x1e0))/0x7+parseInt(_0x1c1871(0x1f1))/0x8+-parseInt(_0x1c1871(0x1e7))/0x9+parseInt(_0x1c1871(0x1f7))/0xa;if(_0x85321===_0x207dad)break;else _0x5578e7['push'](_0x5578e7['shift']());}catch(_0x222ea1){_0x5578e7['push'](_0x5578e7['shift']());}}}(a104_0x32c2,0xc93e6));const winston=require(a104_0x3fb590(0x1f2)),path=require(a104_0x3fb590(0x1f9)),fs=require('fs'),{LOG_FILE_NAME,DEBUG_LOG_FILE_NAME}=require(a104_0x3fb590(0x1de)),tempLogDir=a104_0x3fb590(0x1e1),logFormat=winston['format'](_0x164dd9=>{const _0xf565ba=a104_0x3fb590,_0x466f7c={};_0x466f7c['yeNPO']=function(_0x4e3e28,_0x4e3c53){return _0x4e3e28!==_0x4e3c53;},_0x466f7c[_0xf565ba(0x1c0)]='string',_0x466f7c[_0xf565ba(0x1d4)]=function(_0x1e1c90,_0x2d9711){return _0x1e1c90===_0x2d9711;},_0x466f7c[_0xf565ba(0x1fe)]='[REDACTED]',_0x466f7c['CFSvV']=function(_0x4a577d,_0x15d08e){return _0x4a577d===_0x15d08e;};const _0xd96cb9=_0x466f7c;return _0xd96cb9[_0xf565ba(0x1ce)](typeof _0x164dd9['message'],_0xd96cb9['JTtej'])&&(_0x164dd9['message']=JSON['stringify'](_0x164dd9['message'])),global['session']?.[_0xf565ba(0x1d6)]?.[_0xf565ba(0x1c3)]&&_0xd96cb9[_0xf565ba(0x1d4)](typeof _0x164dd9[_0xf565ba(0x1ea)],_0xd96cb9['JTtej'])&&(_0x164dd9['message']=_0x164dd9[_0xf565ba(0x1ea)][_0xf565ba(0x1e6)](new RegExp(global[_0xf565ba(0x1d7)][_0xf565ba(0x1d6)]['userName'],'g'),_0xd96cb9[_0xf565ba(0x1fe)])),global['session']?.['config']?.[_0xf565ba(0x1d0)]&&_0xd96cb9[_0xf565ba(0x1d8)](typeof _0x164dd9[_0xf565ba(0x1ea)],_0xd96cb9[_0xf565ba(0x1c0)])&&(_0x164dd9[_0xf565ba(0x1ea)]=_0x164dd9[_0xf565ba(0x1ea)]['replace'](new RegExp(global['session'][_0xf565ba(0x1d6)][_0xf565ba(0x1d0)],'g'),_0xd96cb9[_0xf565ba(0x1fe)])),_0x164dd9;}),fetchLogDir=()=>{const _0x44a8d9=a104_0x3fb590;if(process[_0x44a8d9(0x1c1)]['BROWSERSTACK_INTERNAL_LOG_DIR'])return process[_0x44a8d9(0x1c1)][_0x44a8d9(0x1cb)];else!fs[_0x44a8d9(0x1c8)](tempLogDir)&&fs[_0x44a8d9(0x1c5)](tempLogDir);return tempLogDir;},logDir=fetchLogDir(),a104_0x5e88e1={};a104_0x5e88e1['name']=a104_0x3fb590(0x1e2);const transports={'loggerConsole':new winston[(a104_0x3fb590(0x1da))][(a104_0x3fb590(0x1df))](a104_0x5e88e1),'loggerFile':new winston[(a104_0x3fb590(0x1da))][(a104_0x3fb590(0x1fc))]({'filename':path[a104_0x3fb590(0x1e8)](logDir,'/usage.log')}),'debugLoggerFile':new winston['transports'][(a104_0x3fb590(0x1fc))]({'filename':path[a104_0x3fb590(0x1e8)](logDir,a104_0x3fb590(0x1c2)),'level':a104_0x3fb590(0x1c9)}),'debugCliLoggerFile':new winston[(a104_0x3fb590(0x1da))][(a104_0x3fb590(0x1fc))]({'filename':path[a104_0x3fb590(0x1e8)](logDir,a104_0x3fb590(0x1eb)),'level':a104_0x3fb590(0x1c9)}),'buildLinkTransport':new winston[(a104_0x3fb590(0x1da))][(a104_0x3fb590(0x1fc))]({'filename':path['join'](logDir,'/usage.log'),'level':'silly'})},automationTransports={};process[a104_0x3fb590(0x1c1)][a104_0x3fb590(0x1d9)]===a104_0x3fb590(0x1ee)&&(automationTransports['automationLoggerFile']=new winston['transports'][(a104_0x3fb590(0x1fc))]({'filename':path[a104_0x3fb590(0x1e8)](logDir,a104_0x3fb590(0x1ec)),'level':a104_0x3fb590(0x1c9)}));transports['loggerConsole']['on'](a104_0x3fb590(0x1d5),_0x3864bf=>{const _0x547aff=a104_0x3fb590,_0xd5f2fd={};_0xd5f2fd['UPOnh']=function(_0x2a9b06,_0x31672f){return _0x2a9b06===_0x31672f;},_0xd5f2fd['ptiin']='EPIPE',_0xd5f2fd[_0x547aff(0x1c6)]=_0x547aff(0x1db);const _0x62061e=_0xd5f2fd;if(_0x62061e[_0x547aff(0x1f6)](_0x3864bf[_0x547aff(0x1ca)],_0x62061e[_0x547aff(0x1fb)])){console[_0x547aff(0x1e1)](_0x62061e['KAGpg'],_0x3864bf['message']);return;}throw _0x3864bf;});const a104_0x563580={};a104_0x563580[a104_0x3fb590(0x201)]=a104_0x3fb590(0x1d3);const a104_0x54ac20={};a104_0x54ac20[a104_0x3fb590(0x1ef)]=!![];const winstonLoggerParams={'format':winston[a104_0x3fb590(0x201)]['combine'](winston['format']['timestamp'](a104_0x563580),winston[a104_0x3fb590(0x201)][a104_0x3fb590(0x1bf)](a104_0x54ac20),winston['format']['printf'](_0x42b3c6=>_0x42b3c6['timestamp']+'\x20-\x20'+_0x42b3c6[a104_0x3fb590(0x1ef)]+':\x20'+_0x42b3c6['message'])),'transports':[transports[a104_0x3fb590(0x1f4)]]},a104_0x32c16c={};a104_0x32c16c['format']=a104_0x3fb590(0x1d3);const a104_0x4c323f={};function a104_0x32c2(){const _0x5b9116=['ptiin','File','5890kxfVXM','PoWeD','getLogDir','1329fZLzrY','format','combine','add','colorize','JTtej','env','/usage-debug.log','userName','7390AzFYiT','mkdirSync','KAGpg','printf','existsSync','silly','code','BROWSERSTACK_INTERNAL_LOG_DIR','ovzKf','fileLogger','yeNPO','split','accessKey','\x20-\x20','10924FpkbOd','YYYY-MM-DD\x20HH:mm:ss','vJQDw','error','config','session','CFSvV','BROWSERSTACK_AUTOMATION_LOGS','transports','EPIPE\x20error\x20occurred\x20in\x20loggerConsole:','automationLoggerFile','4|5|0|3|1|2','../bin/utils/constants','Console','3590034deuxmx','log','console.info','uncolorize','createLogger','hTJzD','replace','8895528ewbhuD','join','3096GrKhWK','message','/sdk-cli-debug.log','automation.log','loggerFile','true','level','winstonLogger','3210432ZdVgiJ','winston','timestamp','loggerConsole','549IoVEvn','UPOnh','39882340EhJBZw','debugLoggerFile','path','logDir'];a104_0x32c2=function(){return _0x5b9116;};return a104_0x32c2();}a104_0x4c323f[a104_0x3fb590(0x1ef)]=!![];const winstonFileLoggerParams={'format':winston[a104_0x3fb590(0x201)][a104_0x3fb590(0x202)](winston[a104_0x3fb590(0x201)][a104_0x3fb590(0x1f3)](a104_0x32c16c),winston[a104_0x3fb590(0x201)][a104_0x3fb590(0x1bf)](a104_0x4c323f),winston[a104_0x3fb590(0x201)][a104_0x3fb590(0x1c7)](_0x298765=>_0x298765['level']+':\x20'+_0x298765[a104_0x3fb590(0x1ea)])),'transports':[]},a104_0x443637={};a104_0x443637[a104_0x3fb590(0x201)]=a104_0x3fb590(0x1d3);const a104_0x475dc5={};a104_0x475dc5[a104_0x3fb590(0x1ef)]=!![];const a104_0x4a06c3={};a104_0x4a06c3[a104_0x3fb590(0x1ef)]=a104_0x3fb590(0x1c9);const BuildLoggerParams={'format':winston[a104_0x3fb590(0x201)][a104_0x3fb590(0x202)](winston['format'][a104_0x3fb590(0x1f3)](a104_0x443637),winston[a104_0x3fb590(0x201)]['colorize'](a104_0x475dc5),winston[a104_0x3fb590(0x201)][a104_0x3fb590(0x1c7)](_0x31b413=>_0x31b413[a104_0x3fb590(0x1f3)]+a104_0x3fb590(0x1d1)+_0x31b413[a104_0x3fb590(0x1ef)]+':\x20'+_0x31b413['message'])),'transports':[transports['buildLinkTransport'],new winston[(a104_0x3fb590(0x1da))][(a104_0x3fb590(0x1df))](a104_0x4a06c3)]},a104_0x4a6021={};a104_0x4a6021['http']=()=>{},a104_0x4a6021['info']=()=>{},a104_0x4a6021['warn']=()=>{},a104_0x4a6021[a104_0x3fb590(0x1d5)]=()=>{},a104_0x4a6021['debug']=()=>{},a104_0x4a6021[a104_0x3fb590(0x1c9)]=()=>{},exports['automationLogger']=process['env'][a104_0x3fb590(0x1d9)]===a104_0x3fb590(0x1ee)?winston[a104_0x3fb590(0x1e4)]({'format':winston[a104_0x3fb590(0x201)]['combine'](winston['format'][a104_0x3fb590(0x1e3)](),winston[a104_0x3fb590(0x201)][a104_0x3fb590(0x1f3)](),logFormat(),winston['format'][a104_0x3fb590(0x1c7)](_0x29d813=>_0x29d813['level']+':\x20'+_0x29d813[a104_0x3fb590(0x1ea)])),'transports':[automationTransports[a104_0x3fb590(0x1dc)]]}):a104_0x4a6021;const initialize=()=>{const _0x12efb2=a104_0x3fb590,_0x2e4a54={};_0x2e4a54[_0x12efb2(0x1e5)]=_0x12efb2(0x1dd),_0x2e4a54['ovzKf']=_0x12efb2(0x1c9);const _0x48d564=_0x2e4a54,_0x11748a=_0x48d564[_0x12efb2(0x1e5)][_0x12efb2(0x1cf)]('|');let _0x195532=0x0;while(!![]){switch(_0x11748a[_0x195532++]){case'0':exports[_0x12efb2(0x1f0)][_0x12efb2(0x203)](transports['loggerFile']);continue;case'1':exports['fileLogger'][_0x12efb2(0x203)](transports[_0x12efb2(0x1ed)]);continue;case'2':exports['fileLogger'][_0x12efb2(0x203)](transports[_0x12efb2(0x1f8)]);continue;case'3':exports[_0x12efb2(0x1f0)]['add'](transports[_0x12efb2(0x1f8)]);continue;case'4':transports[_0x12efb2(0x1ed)]=new winston['transports'][(_0x12efb2(0x1fc))]({'filename':path[_0x12efb2(0x1e8)](exports[_0x12efb2(0x1fa)],LOG_FILE_NAME)});continue;case'5':transports[_0x12efb2(0x1f8)]=new winston[(_0x12efb2(0x1da))][(_0x12efb2(0x1fc))]({'filename':path[_0x12efb2(0x1e8)](exports[_0x12efb2(0x1fa)],DEBUG_LOG_FILE_NAME),'level':_0x48d564[_0x12efb2(0x1cc)]});continue;}break;}};function a104_0x340a(_0x4a3259,_0x41c7f8){const _0x32c2e5=a104_0x32c2();return a104_0x340a=function(_0x340a76,_0x3b8ec0){_0x340a76=_0x340a76-0x1bf;let _0x9a7b70=_0x32c2e5[_0x340a76];return _0x9a7b70;},a104_0x340a(_0x4a3259,_0x41c7f8);}exports[a104_0x3fb590(0x1f0)]=new winston[(a104_0x3fb590(0x1e4))](winstonLoggerParams),exports[a104_0x3fb590(0x1cd)]=new winston[(a104_0x3fb590(0x1e4))](winstonFileLoggerParams),exports['buildLogger']=new winston[(a104_0x3fb590(0x1e4))](BuildLoggerParams),exports[a104_0x3fb590(0x1fa)]=logDir,exports[a104_0x3fb590(0x1ff)]=()=>{return exports['logDir'];},exports[a104_0x3fb590(0x1da)]=transports,exports['initialize']=initialize;logDir&&initialize();