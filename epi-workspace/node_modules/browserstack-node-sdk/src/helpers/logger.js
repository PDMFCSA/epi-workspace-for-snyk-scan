const a108_0x3209f=a108_0x56e3;(function(_0x4250dd,_0x578543){const _0x4d1514=a108_0x56e3,_0x57b819=_0x4250dd();while(!![]){try{const _0xaa4b9e=parseInt(_0x4d1514(0x1e4))/0x1*(-parseInt(_0x4d1514(0x215))/0x2)+parseInt(_0x4d1514(0x214))/0x3+-parseInt(_0x4d1514(0x200))/0x4+parseInt(_0x4d1514(0x210))/0x5*(parseInt(_0x4d1514(0x1eb))/0x6)+-parseInt(_0x4d1514(0x213))/0x7+-parseInt(_0x4d1514(0x20c))/0x8+-parseInt(_0x4d1514(0x1f5))/0x9*(-parseInt(_0x4d1514(0x21c))/0xa);if(_0xaa4b9e===_0x578543)break;else _0x57b819['push'](_0x57b819['shift']());}catch(_0x45a5ad){_0x57b819['push'](_0x57b819['shift']());}}}(a108_0x5b0c,0xeeaef));const winston=require(a108_0x3209f(0x219)),path=require(a108_0x3209f(0x1fa)),fs=require('fs'),{LOG_FILE_NAME,DEBUG_LOG_FILE_NAME}=require('../bin/utils/constants'),tempLogDir=a108_0x3209f(0x1e6),logFormat=winston[a108_0x3209f(0x1e0)](_0x368bb7=>{const _0x255a09=a108_0x3209f,_0xa159b8={};_0xa159b8[_0x255a09(0x1db)]=function(_0x3516e1,_0x1baee9){return _0x3516e1!==_0x1baee9;},_0xa159b8[_0x255a09(0x1e2)]=_0x255a09(0x21d),_0xa159b8['fxDCB']=function(_0x445ef4,_0x5d7bef){return _0x445ef4===_0x5d7bef;},_0xa159b8[_0x255a09(0x21e)]=_0x255a09(0x203),_0xa159b8[_0x255a09(0x1ea)]=function(_0x4e24d8,_0x476275){return _0x4e24d8===_0x476275;};const _0x1d0d7c=_0xa159b8;return _0x1d0d7c[_0x255a09(0x1db)](typeof _0x368bb7['message'],_0x1d0d7c['Qxyyp'])&&(_0x368bb7['message']=JSON['stringify'](_0x368bb7['message'])),global[_0x255a09(0x202)]?.[_0x255a09(0x1f2)]?.[_0x255a09(0x21b)]&&_0x1d0d7c[_0x255a09(0x1de)](typeof _0x368bb7[_0x255a09(0x1fe)],_0x1d0d7c[_0x255a09(0x1e2)])&&(_0x368bb7[_0x255a09(0x1fe)]=_0x368bb7[_0x255a09(0x1fe)][_0x255a09(0x20b)](new RegExp(global['session'][_0x255a09(0x1f2)][_0x255a09(0x21b)],'g'),_0x1d0d7c['IjqHY'])),global[_0x255a09(0x202)]?.[_0x255a09(0x1f2)]?.[_0x255a09(0x1e9)]&&_0x1d0d7c[_0x255a09(0x1ea)](typeof _0x368bb7[_0x255a09(0x1fe)],_0x1d0d7c[_0x255a09(0x1e2)])&&(_0x368bb7['message']=_0x368bb7[_0x255a09(0x1fe)][_0x255a09(0x20b)](new RegExp(global['session']['config'][_0x255a09(0x1e9)],'g'),_0x1d0d7c[_0x255a09(0x21e)])),_0x368bb7;}),fetchLogDir=()=>{const _0x4c567b=a108_0x3209f;if(process[_0x4c567b(0x1dc)][_0x4c567b(0x1f9)])return process[_0x4c567b(0x1dc)]['BROWSERSTACK_INTERNAL_LOG_DIR'];else!fs[_0x4c567b(0x204)](tempLogDir)&&fs['mkdirSync'](tempLogDir);return tempLogDir;},logDir=fetchLogDir(),a108_0x3b05f2={};a108_0x3b05f2[a108_0x3209f(0x1f4)]=a108_0x3209f(0x208);const transports={'loggerConsole':new winston[(a108_0x3209f(0x201))][(a108_0x3209f(0x20e))](a108_0x3b05f2),'loggerFile':new winston[(a108_0x3209f(0x201))][(a108_0x3209f(0x1e7))]({'filename':path['join'](logDir,a108_0x3209f(0x221))}),'debugLoggerFile':new winston[(a108_0x3209f(0x201))][(a108_0x3209f(0x1e7))]({'filename':path[a108_0x3209f(0x222)](logDir,a108_0x3209f(0x206)),'level':a108_0x3209f(0x1f1)}),'debugCliLoggerFile':new winston['transports'][(a108_0x3209f(0x1e7))]({'filename':path[a108_0x3209f(0x222)](logDir,a108_0x3209f(0x1ee)),'level':a108_0x3209f(0x1f1)}),'buildLinkTransport':new winston['transports']['File']({'filename':path[a108_0x3209f(0x222)](logDir,a108_0x3209f(0x221)),'level':a108_0x3209f(0x1f1)})},automationTransports={};process[a108_0x3209f(0x1dc)][a108_0x3209f(0x1fd)]==='true'&&(automationTransports[a108_0x3209f(0x218)]=new winston[(a108_0x3209f(0x201))][(a108_0x3209f(0x1e7))]({'filename':path[a108_0x3209f(0x222)](logDir,a108_0x3209f(0x1ff)),'level':'silly'}));transports[a108_0x3209f(0x220)]['on'](a108_0x3209f(0x1fc),_0x4d9eaa=>{const _0x3ede05=a108_0x3209f,_0x4e5867={};_0x4e5867[_0x3ede05(0x217)]=function(_0x47bce2,_0x48d61a){return _0x47bce2===_0x48d61a;},_0x4e5867[_0x3ede05(0x205)]='EPIPE',_0x4e5867['AfsOj']=_0x3ede05(0x20d);const _0x50656a=_0x4e5867;if(_0x50656a[_0x3ede05(0x217)](_0x4d9eaa[_0x3ede05(0x211)],_0x50656a[_0x3ede05(0x205)])){console[_0x3ede05(0x1e6)](_0x50656a['AfsOj'],_0x4d9eaa['message']);return;}throw _0x4d9eaa;});function a108_0x56e3(_0x343fc0,_0x1d81cc){const _0x5b0c57=a108_0x5b0c();return a108_0x56e3=function(_0x56e304,_0x1764a4){_0x56e304=_0x56e304-0x1db;let _0x52922b=_0x5b0c57[_0x56e304];return _0x52922b;},a108_0x56e3(_0x343fc0,_0x1d81cc);}const a108_0x3cf19e={};a108_0x3cf19e[a108_0x3209f(0x1e0)]='YYYY-MM-DD\x20HH:mm:ss';const a108_0x62058a={};a108_0x62058a[a108_0x3209f(0x209)]=!![];const winstonLoggerParams={'format':winston[a108_0x3209f(0x1e0)][a108_0x3209f(0x207)](winston[a108_0x3209f(0x1e0)][a108_0x3209f(0x1e1)](a108_0x3cf19e),winston['format']['colorize'](a108_0x62058a),winston[a108_0x3209f(0x1e0)][a108_0x3209f(0x20f)](_0x1b6244=>_0x1b6244[a108_0x3209f(0x1e1)]+a108_0x3209f(0x1e3)+_0x1b6244[a108_0x3209f(0x209)]+':\x20'+_0x1b6244['message'])),'transports':[transports['loggerConsole']]},a108_0x1e32bf={};a108_0x1e32bf['format']=a108_0x3209f(0x1f7);const a108_0x180a70={};function a108_0x5b0c(){const _0xab2846=['name','5274qoHpDI','winstonLogger','YYYY-MM-DD\x20HH:mm:ss','debug','BROWSERSTACK_INTERNAL_LOG_DIR','path','sBRKo','error','BROWSERSTACK_AUTOMATION_LOGS','message','automation.log','4520340rwCsDY','transports','session','[REDACTED]','existsSync','SNZPm','/usage-debug.log','combine','console.info','level','thuYY','replace','14503400qTNkGe','EPIPE\x20error\x20occurred\x20in\x20loggerConsole:','Console','printf','5NRzZtK','code','getLogDir','2030861KEClcV','892449WnCWDR','74AObfef','initialize','wOHvk','automationLoggerFile','winston','colorize','userName','64070nnWvlF','string','IjqHY','add','loggerConsole','/usage.log','join','uhHRU','env','buildLogger','fxDCB','loggerFile','format','timestamp','Qxyyp','\x20-\x20','39927xQhhfr','automationLogger','log','File','uncolorize','accessKey','jBymn','9816564AUrekn','debugLoggerFile','fileLogger','/sdk-cli-debug.log','true','logDir','silly','config','createLogger'];a108_0x5b0c=function(){return _0xab2846;};return a108_0x5b0c();}a108_0x180a70[a108_0x3209f(0x209)]=!![];const winstonFileLoggerParams={'format':winston[a108_0x3209f(0x1e0)][a108_0x3209f(0x207)](winston[a108_0x3209f(0x1e0)]['timestamp'](a108_0x1e32bf),winston[a108_0x3209f(0x1e0)]['colorize'](a108_0x180a70),winston[a108_0x3209f(0x1e0)]['printf'](_0x48bbb7=>_0x48bbb7['level']+':\x20'+_0x48bbb7['message'])),'transports':[]},a108_0x57402a={};a108_0x57402a[a108_0x3209f(0x1e0)]=a108_0x3209f(0x1f7);const a108_0x1daf3d={};a108_0x1daf3d['level']=!![];const a108_0x2614ba={};a108_0x2614ba[a108_0x3209f(0x209)]='silly';const BuildLoggerParams={'format':winston['format']['combine'](winston[a108_0x3209f(0x1e0)]['timestamp'](a108_0x57402a),winston[a108_0x3209f(0x1e0)][a108_0x3209f(0x21a)](a108_0x1daf3d),winston[a108_0x3209f(0x1e0)][a108_0x3209f(0x20f)](_0x3907ba=>_0x3907ba[a108_0x3209f(0x1e1)]+'\x20-\x20'+_0x3907ba[a108_0x3209f(0x209)]+':\x20'+_0x3907ba[a108_0x3209f(0x1fe)])),'transports':[transports['buildLinkTransport'],new winston[(a108_0x3209f(0x201))][(a108_0x3209f(0x20e))](a108_0x2614ba)]},a108_0x398748={};a108_0x398748['http']=()=>{},a108_0x398748['info']=()=>{},a108_0x398748['warn']=()=>{},a108_0x398748[a108_0x3209f(0x1fc)]=()=>{},a108_0x398748[a108_0x3209f(0x1f8)]=()=>{},a108_0x398748[a108_0x3209f(0x1f1)]=()=>{},exports[a108_0x3209f(0x1e5)]=process[a108_0x3209f(0x1dc)][a108_0x3209f(0x1fd)]===a108_0x3209f(0x1ef)?winston[a108_0x3209f(0x1f3)]({'format':winston['format'][a108_0x3209f(0x207)](winston[a108_0x3209f(0x1e0)][a108_0x3209f(0x1e8)](),winston[a108_0x3209f(0x1e0)][a108_0x3209f(0x1e1)](),logFormat(),winston['format'][a108_0x3209f(0x20f)](_0x14472e=>_0x14472e['level']+':\x20'+_0x14472e['message'])),'transports':[automationTransports[a108_0x3209f(0x218)]]}):a108_0x398748;const initialize=()=>{const _0x4b8faa=a108_0x3209f,_0x3e8cb5={};_0x3e8cb5['thuYY']='2|0|3|5|4|1',_0x3e8cb5['sBRKo']=_0x4b8faa(0x1f1);const _0x227ffd=_0x3e8cb5,_0x45deab=_0x227ffd[_0x4b8faa(0x20a)]['split']('|');let _0x1fc678=0x0;while(!![]){switch(_0x45deab[_0x1fc678++]){case'0':transports[_0x4b8faa(0x1ec)]=new winston[(_0x4b8faa(0x201))][(_0x4b8faa(0x1e7))]({'filename':path['join'](exports[_0x4b8faa(0x1f0)],DEBUG_LOG_FILE_NAME),'level':_0x227ffd[_0x4b8faa(0x1fb)]});continue;case'1':exports['fileLogger'][_0x4b8faa(0x21f)](transports[_0x4b8faa(0x1ec)]);continue;case'2':transports['loggerFile']=new winston[(_0x4b8faa(0x201))][(_0x4b8faa(0x1e7))]({'filename':path[_0x4b8faa(0x222)](exports['logDir'],LOG_FILE_NAME)});continue;case'3':exports[_0x4b8faa(0x1f6)][_0x4b8faa(0x21f)](transports['loggerFile']);continue;case'4':exports[_0x4b8faa(0x1ed)][_0x4b8faa(0x21f)](transports[_0x4b8faa(0x1df)]);continue;case'5':exports['winstonLogger']['add'](transports[_0x4b8faa(0x1ec)]);continue;}break;}};exports[a108_0x3209f(0x1f6)]=new winston[(a108_0x3209f(0x1f3))](winstonLoggerParams),exports['fileLogger']=new winston[(a108_0x3209f(0x1f3))](winstonFileLoggerParams),exports[a108_0x3209f(0x1dd)]=new winston[(a108_0x3209f(0x1f3))](BuildLoggerParams),exports[a108_0x3209f(0x1f0)]=logDir,exports[a108_0x3209f(0x212)]=()=>{return exports['logDir'];},exports[a108_0x3209f(0x201)]=transports,exports[a108_0x3209f(0x216)]=initialize;logDir&&initialize();