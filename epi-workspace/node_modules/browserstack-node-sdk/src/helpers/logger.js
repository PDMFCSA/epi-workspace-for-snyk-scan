const a108_0x39ba09=a108_0x2d93;(function(_0x2f853a,_0x456da8){const _0x1da328=a108_0x2d93,_0x44af77=_0x2f853a();while(!![]){try{const _0x2f71cf=-parseInt(_0x1da328(0x104))/0x1+parseInt(_0x1da328(0x106))/0x2+-parseInt(_0x1da328(0x112))/0x3+parseInt(_0x1da328(0x124))/0x4+-parseInt(_0x1da328(0xee))/0x5+-parseInt(_0x1da328(0x117))/0x6*(parseInt(_0x1da328(0x12a))/0x7)+parseInt(_0x1da328(0x126))/0x8;if(_0x2f71cf===_0x456da8)break;else _0x44af77['push'](_0x44af77['shift']());}catch(_0x399b0f){_0x44af77['push'](_0x44af77['shift']());}}}(a108_0x45e2,0x512a9));const winston=require(a108_0x39ba09(0x12b)),path=require('path'),fs=require('fs'),{LOG_FILE_NAME,DEBUG_LOG_FILE_NAME}=require('../bin/utils/constants'),tempLogDir='log',logFormat=winston[a108_0x39ba09(0x118)](_0x34cd00=>{const _0x45e3b0=a108_0x39ba09,_0x18c1d8={};_0x18c1d8[_0x45e3b0(0xf5)]=function(_0xc89b7,_0x396e6e){return _0xc89b7!==_0x396e6e;},_0x18c1d8[_0x45e3b0(0x110)]=_0x45e3b0(0xfd),_0x18c1d8[_0x45e3b0(0xf8)]=function(_0x3bd608,_0x36dd67){return _0x3bd608===_0x36dd67;},_0x18c1d8[_0x45e3b0(0x11b)]=_0x45e3b0(0x12f);const _0x3d5b32=_0x18c1d8;return _0x3d5b32[_0x45e3b0(0xf5)](typeof _0x34cd00[_0x45e3b0(0x113)],_0x3d5b32[_0x45e3b0(0x110)])&&(_0x34cd00[_0x45e3b0(0x113)]=JSON[_0x45e3b0(0x120)](_0x34cd00[_0x45e3b0(0x113)])),global['session']?.[_0x45e3b0(0xf4)]?.['userName']&&_0x3d5b32['OjZdf'](typeof _0x34cd00[_0x45e3b0(0x113)],_0x3d5b32[_0x45e3b0(0x110)])&&(_0x34cd00[_0x45e3b0(0x113)]=_0x34cd00['message'][_0x45e3b0(0xef)](new RegExp(global[_0x45e3b0(0x125)][_0x45e3b0(0xf4)][_0x45e3b0(0xf9)],'g'),_0x3d5b32[_0x45e3b0(0x11b)])),global[_0x45e3b0(0x125)]?.[_0x45e3b0(0xf4)]?.[_0x45e3b0(0x10c)]&&_0x3d5b32[_0x45e3b0(0xf8)](typeof _0x34cd00['message'],_0x3d5b32['QPrjF'])&&(_0x34cd00[_0x45e3b0(0x113)]=_0x34cd00[_0x45e3b0(0x113)][_0x45e3b0(0xef)](new RegExp(global[_0x45e3b0(0x125)][_0x45e3b0(0xf4)][_0x45e3b0(0x10c)],'g'),_0x3d5b32[_0x45e3b0(0x11b)])),_0x34cd00;}),fetchLogDir=()=>{const _0x1f2a40=a108_0x39ba09;if(process['env']['BROWSERSTACK_INTERNAL_LOG_DIR'])return process['env'][_0x1f2a40(0x129)];else!fs['existsSync'](tempLogDir)&&fs[_0x1f2a40(0x123)](tempLogDir);return tempLogDir;},logDir=fetchLogDir(),a108_0x48dd9c={};a108_0x48dd9c[a108_0x39ba09(0x10b)]=a108_0x39ba09(0x10d);const transports={'loggerConsole':new winston[(a108_0x39ba09(0x10e))]['Console'](a108_0x48dd9c),'loggerFile':new winston[(a108_0x39ba09(0x10e))]['File']({'filename':path[a108_0x39ba09(0x116)](logDir,'/usage.log')}),'debugLoggerFile':new winston[(a108_0x39ba09(0x10e))][(a108_0x39ba09(0xf2))]({'filename':path[a108_0x39ba09(0x116)](logDir,a108_0x39ba09(0xff)),'level':a108_0x39ba09(0x114)}),'debugCliLoggerFile':new winston[(a108_0x39ba09(0x10e))][(a108_0x39ba09(0xf2))]({'filename':path[a108_0x39ba09(0x116)](logDir,a108_0x39ba09(0xfa)),'level':'silly'}),'buildLinkTransport':new winston[(a108_0x39ba09(0x10e))][(a108_0x39ba09(0xf2))]({'filename':path[a108_0x39ba09(0x116)](logDir,'/usage.log'),'level':'silly'})},automationTransports={};process[a108_0x39ba09(0x12d)]['BROWSERSTACK_AUTOMATION_LOGS']==='true'&&(automationTransports[a108_0x39ba09(0x109)]=new winston[(a108_0x39ba09(0x10e))]['File']({'filename':path[a108_0x39ba09(0x116)](logDir,a108_0x39ba09(0x121)),'level':a108_0x39ba09(0x114)}));transports['loggerConsole']['on'](a108_0x39ba09(0x107),_0x330221=>{const _0x4dbb86=a108_0x39ba09,_0x39674e={};_0x39674e['wiLpH']=function(_0x2ce1bb,_0x1ffd91){return _0x2ce1bb===_0x1ffd91;},_0x39674e[_0x4dbb86(0xfe)]='EPIPE',_0x39674e[_0x4dbb86(0x115)]=_0x4dbb86(0xfc);const _0x57f53a=_0x39674e;if(_0x57f53a[_0x4dbb86(0xf1)](_0x330221['code'],_0x57f53a[_0x4dbb86(0xfe)])){console[_0x4dbb86(0x102)](_0x57f53a[_0x4dbb86(0x115)],_0x330221['message']);return;}throw _0x330221;});const a108_0x286b63={};function a108_0x45e2(){const _0x52a2e5=['replace','debugLoggerFile','wiLpH','File','Console','config','feVHn','info','winstonLogger','OjZdf','userName','/sdk-cli-debug.log','uncolorize','EPIPE\x20error\x20occurred\x20in\x20loggerConsole:','string','CUpic','/usage-debug.log','buildLinkTransport','combine','log','warn','416222icykUr','YYYY-MM-DD\x20HH:mm:ss','986942LEDOgq','error','loggerFile','automationLoggerFile','sFVIJ','name','accessKey','console.info','transports','split','QPrjF','colorize','758484jVyINW','message','silly','JMxPk','join','6okBHPp','format','3|0|1|2|4|5','level','CnXkR','add','true','\x20-\x20','logDir','stringify','automation.log','fileLogger','mkdirSync','1755388yGOkIw','session','9479848PPLOgl','BROWSERSTACK_AUTOMATION_LOGS','http','BROWSERSTACK_INTERNAL_LOG_DIR','3529169ZImccU','winston','jSvDY','env','initialize','[REDACTED]','printf','timestamp','createLogger','buildLogger','automationLogger','getLogDir','3058125YhjKZD'];a108_0x45e2=function(){return _0x52a2e5;};return a108_0x45e2();}a108_0x286b63['format']='YYYY-MM-DD\x20HH:mm:ss';function a108_0x2d93(_0x593f0a,_0x4a04e2){const _0x45e226=a108_0x45e2();return a108_0x2d93=function(_0x2d936c,_0x79abd2){_0x2d936c=_0x2d936c-0xee;let _0x373816=_0x45e226[_0x2d936c];return _0x373816;},a108_0x2d93(_0x593f0a,_0x4a04e2);}const a108_0x5c8232={};a108_0x5c8232['level']=!![];const winstonLoggerParams={'format':winston[a108_0x39ba09(0x118)][a108_0x39ba09(0x101)](winston[a108_0x39ba09(0x118)]['timestamp'](a108_0x286b63),winston[a108_0x39ba09(0x118)][a108_0x39ba09(0x111)](a108_0x5c8232),winston[a108_0x39ba09(0x118)][a108_0x39ba09(0x130)](_0x44fff8=>_0x44fff8[a108_0x39ba09(0x131)]+a108_0x39ba09(0x11e)+_0x44fff8['level']+':\x20'+_0x44fff8[a108_0x39ba09(0x113)])),'transports':[transports['loggerConsole']]},a108_0x545760={};a108_0x545760[a108_0x39ba09(0x118)]='YYYY-MM-DD\x20HH:mm:ss';const a108_0x4269c9={};a108_0x4269c9[a108_0x39ba09(0x11a)]=!![];const winstonFileLoggerParams={'format':winston[a108_0x39ba09(0x118)][a108_0x39ba09(0x101)](winston[a108_0x39ba09(0x118)][a108_0x39ba09(0x131)](a108_0x545760),winston[a108_0x39ba09(0x118)][a108_0x39ba09(0x111)](a108_0x4269c9),winston[a108_0x39ba09(0x118)][a108_0x39ba09(0x130)](_0x84e469=>_0x84e469[a108_0x39ba09(0x11a)]+':\x20'+_0x84e469['message'])),'transports':[]},a108_0x23349b={};a108_0x23349b[a108_0x39ba09(0x118)]=a108_0x39ba09(0x105);const a108_0x305f8f={};a108_0x305f8f['level']=!![];const a108_0x32d30e={};a108_0x32d30e['level']='silly';const BuildLoggerParams={'format':winston[a108_0x39ba09(0x118)][a108_0x39ba09(0x101)](winston[a108_0x39ba09(0x118)][a108_0x39ba09(0x131)](a108_0x23349b),winston[a108_0x39ba09(0x118)]['colorize'](a108_0x305f8f),winston[a108_0x39ba09(0x118)]['printf'](_0xb4f3ce=>_0xb4f3ce[a108_0x39ba09(0x131)]+a108_0x39ba09(0x11e)+_0xb4f3ce[a108_0x39ba09(0x11a)]+':\x20'+_0xb4f3ce[a108_0x39ba09(0x113)])),'transports':[transports[a108_0x39ba09(0x100)],new winston['transports'][(a108_0x39ba09(0xf3))](a108_0x32d30e)]},a108_0xd72335={};a108_0xd72335[a108_0x39ba09(0x128)]=()=>{},a108_0xd72335[a108_0x39ba09(0xf6)]=()=>{},a108_0xd72335[a108_0x39ba09(0x103)]=()=>{},a108_0xd72335['error']=()=>{},a108_0xd72335['debug']=()=>{},a108_0xd72335[a108_0x39ba09(0x114)]=()=>{},exports[a108_0x39ba09(0x134)]=process[a108_0x39ba09(0x12d)][a108_0x39ba09(0x127)]===a108_0x39ba09(0x11d)?winston['createLogger']({'format':winston[a108_0x39ba09(0x118)]['combine'](winston[a108_0x39ba09(0x118)][a108_0x39ba09(0xfb)](),winston['format']['timestamp'](),logFormat(),winston[a108_0x39ba09(0x118)][a108_0x39ba09(0x130)](_0x8e4d2f=>_0x8e4d2f[a108_0x39ba09(0x11a)]+':\x20'+_0x8e4d2f[a108_0x39ba09(0x113)])),'transports':[automationTransports[a108_0x39ba09(0x109)]]}):a108_0xd72335;const initialize=()=>{const _0x5745a1=a108_0x39ba09,_0x218bd2={};_0x218bd2[_0x5745a1(0x12c)]=_0x5745a1(0x119),_0x218bd2['sFVIJ']=_0x5745a1(0x114);const _0x5a7858=_0x218bd2,_0x159203=_0x5a7858[_0x5745a1(0x12c)][_0x5745a1(0x10f)]('|');let _0x4d2ff2=0x0;while(!![]){switch(_0x159203[_0x4d2ff2++]){case'0':transports[_0x5745a1(0xf0)]=new winston[(_0x5745a1(0x10e))][(_0x5745a1(0xf2))]({'filename':path[_0x5745a1(0x116)](exports[_0x5745a1(0x11f)],DEBUG_LOG_FILE_NAME),'level':_0x5a7858[_0x5745a1(0x10a)]});continue;case'1':exports[_0x5745a1(0xf7)]['add'](transports[_0x5745a1(0x108)]);continue;case'2':exports[_0x5745a1(0xf7)]['add'](transports['debugLoggerFile']);continue;case'3':transports['loggerFile']=new winston[(_0x5745a1(0x10e))]['File']({'filename':path[_0x5745a1(0x116)](exports[_0x5745a1(0x11f)],LOG_FILE_NAME)});continue;case'4':exports[_0x5745a1(0x122)]['add'](transports[_0x5745a1(0x108)]);continue;case'5':exports[_0x5745a1(0x122)][_0x5745a1(0x11c)](transports[_0x5745a1(0xf0)]);continue;}break;}};exports[a108_0x39ba09(0xf7)]=new winston[(a108_0x39ba09(0x132))](winstonLoggerParams),exports[a108_0x39ba09(0x122)]=new winston[(a108_0x39ba09(0x132))](winstonFileLoggerParams),exports[a108_0x39ba09(0x133)]=new winston[(a108_0x39ba09(0x132))](BuildLoggerParams),exports['logDir']=logDir,exports[a108_0x39ba09(0x135)]=()=>{return exports['logDir'];},exports[a108_0x39ba09(0x10e)]=transports,exports[a108_0x39ba09(0x12e)]=initialize;logDir&&initialize();