const a97_0x315d5e=a97_0x4783;(function(_0xf1f964,_0x1d8711){const _0xb865b0=a97_0x4783,_0x20b142=_0xf1f964();while(!![]){try{const _0x3a0e31=parseInt(_0xb865b0(0x12f))/0x1+-parseInt(_0xb865b0(0x144))/0x2*(-parseInt(_0xb865b0(0x134))/0x3)+parseInt(_0xb865b0(0x153))/0x4+-parseInt(_0xb865b0(0x12b))/0x5+parseInt(_0xb865b0(0x15f))/0x6+parseInt(_0xb865b0(0x15c))/0x7+parseInt(_0xb865b0(0x168))/0x8*(-parseInt(_0xb865b0(0x13a))/0x9);if(_0x3a0e31===_0x1d8711)break;else _0x20b142['push'](_0x20b142['shift']());}catch(_0x26ee34){_0x20b142['push'](_0x20b142['shift']());}}}(a97_0x3dcf,0xb0a51));const winston=require(a97_0x315d5e(0x15a)),path=require('path'),fs=require('fs'),{LOG_FILE_NAME,DEBUG_LOG_FILE_NAME}=require(a97_0x315d5e(0x145)),tempLogDir=a97_0x315d5e(0x136),logFormat=winston['format'](_0x52d4a5=>{const _0x4481e0=a97_0x315d5e,_0xc2d50b={};_0xc2d50b['dSTfb']=function(_0xa70bc6,_0x3a6096){return _0xa70bc6!==_0x3a6096;},_0xc2d50b[_0x4481e0(0x159)]='string',_0xc2d50b[_0x4481e0(0x140)]=function(_0x457fcb,_0x3dcb95){return _0x457fcb===_0x3dcb95;},_0xc2d50b[_0x4481e0(0x149)]='[REDACTED]',_0xc2d50b[_0x4481e0(0x12c)]=function(_0x266e66,_0x5e144b){return _0x266e66===_0x5e144b;};const _0x14f60e=_0xc2d50b;return _0x14f60e[_0x4481e0(0x16b)](typeof _0x52d4a5[_0x4481e0(0x148)],_0x14f60e[_0x4481e0(0x159)])&&(_0x52d4a5[_0x4481e0(0x148)]=JSON['stringify'](_0x52d4a5[_0x4481e0(0x148)])),global['session']?.[_0x4481e0(0x167)]?.[_0x4481e0(0x169)]&&_0x14f60e[_0x4481e0(0x140)](typeof _0x52d4a5[_0x4481e0(0x148)],_0x14f60e[_0x4481e0(0x159)])&&(_0x52d4a5['message']=_0x52d4a5[_0x4481e0(0x148)]['replace'](new RegExp(global[_0x4481e0(0x16d)][_0x4481e0(0x167)][_0x4481e0(0x169)],'g'),_0x14f60e['eNWzy'])),global[_0x4481e0(0x16d)]?.[_0x4481e0(0x167)]?.['accessKey']&&_0x14f60e[_0x4481e0(0x12c)](typeof _0x52d4a5[_0x4481e0(0x148)],_0x14f60e['UHkHX'])&&(_0x52d4a5['message']=_0x52d4a5[_0x4481e0(0x148)][_0x4481e0(0x158)](new RegExp(global[_0x4481e0(0x16d)][_0x4481e0(0x167)][_0x4481e0(0x133)],'g'),_0x14f60e[_0x4481e0(0x149)])),_0x52d4a5;}),fetchLogDir=()=>{const _0x141ec6=a97_0x315d5e;if(process['env'][_0x141ec6(0x14b)])return process[_0x141ec6(0x164)][_0x141ec6(0x14b)];else!fs['existsSync'](tempLogDir)&&fs[_0x141ec6(0x151)](tempLogDir);return tempLogDir;},logDir=fetchLogDir(),a97_0x385807={};a97_0x385807[a97_0x315d5e(0x16c)]=a97_0x315d5e(0x14f);const transports={'loggerConsole':new winston[(a97_0x315d5e(0x165))]['Console'](a97_0x385807),'loggerFile':new winston[(a97_0x315d5e(0x165))][(a97_0x315d5e(0x160))]({'filename':path['join'](logDir,a97_0x315d5e(0x13d))}),'debugLoggerFile':new winston[(a97_0x315d5e(0x165))][(a97_0x315d5e(0x160))]({'filename':path[a97_0x315d5e(0x135)](logDir,a97_0x315d5e(0x155)),'level':a97_0x315d5e(0x150)}),'debugCliLoggerFile':new winston[(a97_0x315d5e(0x165))][(a97_0x315d5e(0x160))]({'filename':path['join'](logDir,a97_0x315d5e(0x16a)),'level':a97_0x315d5e(0x150)})},automationTransports={};process['env']['BROWSERSTACK_AUTOMATION_LOGS']===a97_0x315d5e(0x157)&&(automationTransports[a97_0x315d5e(0x146)]=new winston[(a97_0x315d5e(0x165))][(a97_0x315d5e(0x160))]({'filename':path[a97_0x315d5e(0x135)](logDir,a97_0x315d5e(0x132)),'level':a97_0x315d5e(0x150)}));transports['loggerConsole']['on'](a97_0x315d5e(0x130),_0x15f422=>{const _0x4bee62=a97_0x315d5e,_0x365f5a={};_0x365f5a[_0x4bee62(0x12e)]=function(_0x1180d8,_0x28d8c2){return _0x1180d8===_0x28d8c2;},_0x365f5a['VjrSk']=_0x4bee62(0x15e),_0x365f5a[_0x4bee62(0x163)]=_0x4bee62(0x142);const _0x47a66a=_0x365f5a;if(_0x47a66a[_0x4bee62(0x12e)](_0x15f422[_0x4bee62(0x131)],_0x47a66a['VjrSk'])){console[_0x4bee62(0x136)](_0x47a66a['Ykkda'],_0x15f422[_0x4bee62(0x148)]);return;}throw _0x15f422;});const a97_0x1a22bc={};a97_0x1a22bc[a97_0x315d5e(0x141)]=a97_0x315d5e(0x14d);const a97_0x50cd75={};a97_0x50cd75['level']=!![];const winstonLoggerParams={'format':winston[a97_0x315d5e(0x141)]['combine'](winston[a97_0x315d5e(0x141)][a97_0x315d5e(0x137)](a97_0x1a22bc),winston[a97_0x315d5e(0x141)][a97_0x315d5e(0x14a)](a97_0x50cd75),winston[a97_0x315d5e(0x141)][a97_0x315d5e(0x161)](_0x2c8087=>_0x2c8087['timestamp']+'\x20-\x20'+_0x2c8087[a97_0x315d5e(0x12d)]+':\x20'+_0x2c8087[a97_0x315d5e(0x148)])),'transports':[transports['loggerConsole']]},a97_0x1fb5ca={};function a97_0x3dcf(){const _0x4ff88c=['EPIPE','1902774LhrWsL','File','printf','debugLoggerFile','Ykkda','env','transports','initialize','config','24029176RJYcrd','userName','/sdk-cli-debug.log','dSTfb','name','session','combine','3653865lmXBiq','MclEO','level','QSLNZ','1295763RrsPYX','error','code','automation.log','accessKey','3nzuDHe','join','log','timestamp','add','BROWSERSTACK_AUTOMATION_LOGS','9ltCXcK','http','BKeWT','/usage.log','3|2|0|1|5|4','loggerFile','zHgZa','format','EPIPE\x20error\x20occurred\x20in\x20loggerConsole:','fileLogger','2794786JZjWvy','../bin/utils/constants','automationLoggerFile','logDir','message','eNWzy','colorize','BROWSERSTACK_INTERNAL_LOG_DIR','createLogger','YYYY-MM-DD\x20HH:mm:ss','winstonLogger','console.info','silly','mkdirSync','split','4713996haYBet','debug','/usage-debug.log','warn','true','replace','UHkHX','winston','IoYkV','1884211LSPcjo','getLogDir'];a97_0x3dcf=function(){return _0x4ff88c;};return a97_0x3dcf();}a97_0x1fb5ca[a97_0x315d5e(0x141)]='YYYY-MM-DD\x20HH:mm:ss';const a97_0x416485={};function a97_0x4783(_0x3ce130,_0x150628){const _0x3dcf8a=a97_0x3dcf();return a97_0x4783=function(_0x4783c0,_0x334e3f){_0x4783c0=_0x4783c0-0x12b;let _0x52dddb=_0x3dcf8a[_0x4783c0];return _0x52dddb;},a97_0x4783(_0x3ce130,_0x150628);}a97_0x416485[a97_0x315d5e(0x12d)]=!![];const winstonFileLoggerParams={'format':winston[a97_0x315d5e(0x141)][a97_0x315d5e(0x16e)](winston[a97_0x315d5e(0x141)]['timestamp'](a97_0x1fb5ca),winston[a97_0x315d5e(0x141)][a97_0x315d5e(0x14a)](a97_0x416485),winston['format']['printf'](_0x3545cc=>_0x3545cc[a97_0x315d5e(0x12d)]+':\x20'+_0x3545cc[a97_0x315d5e(0x148)])),'transports':[]},a97_0x3e0291={};a97_0x3e0291[a97_0x315d5e(0x13b)]=()=>{},a97_0x3e0291['info']=()=>{},a97_0x3e0291[a97_0x315d5e(0x156)]=()=>{},a97_0x3e0291['error']=()=>{},a97_0x3e0291[a97_0x315d5e(0x154)]=()=>{},a97_0x3e0291[a97_0x315d5e(0x150)]=()=>{},exports['automationLogger']=process[a97_0x315d5e(0x164)][a97_0x315d5e(0x139)]===a97_0x315d5e(0x157)?winston[a97_0x315d5e(0x14c)]({'format':winston['format'][a97_0x315d5e(0x16e)](winston[a97_0x315d5e(0x141)]['uncolorize'](),winston[a97_0x315d5e(0x141)]['timestamp'](),logFormat(),winston['format']['printf'](_0x242948=>_0x242948['level']+':\x20'+_0x242948[a97_0x315d5e(0x148)])),'transports':[automationTransports['automationLoggerFile']]}):a97_0x3e0291;const initialize=()=>{const _0x213c08=a97_0x315d5e,_0x4439cb={};_0x4439cb[_0x213c08(0x13c)]=_0x213c08(0x13e),_0x4439cb[_0x213c08(0x15b)]=_0x213c08(0x150);const _0x50523d=_0x4439cb,_0x1dd7ee=_0x50523d[_0x213c08(0x13c)][_0x213c08(0x152)]('|');let _0x23866c=0x0;while(!![]){switch(_0x1dd7ee[_0x23866c++]){case'0':exports[_0x213c08(0x14e)][_0x213c08(0x138)](transports[_0x213c08(0x13f)]);continue;case'1':exports['winstonLogger'][_0x213c08(0x138)](transports[_0x213c08(0x162)]);continue;case'2':transports['debugLoggerFile']=new winston[(_0x213c08(0x165))][(_0x213c08(0x160))]({'filename':path[_0x213c08(0x135)](exports[_0x213c08(0x147)],DEBUG_LOG_FILE_NAME),'level':_0x50523d[_0x213c08(0x15b)]});continue;case'3':transports[_0x213c08(0x13f)]=new winston['transports']['File']({'filename':path['join'](exports[_0x213c08(0x147)],LOG_FILE_NAME)});continue;case'4':exports[_0x213c08(0x143)]['add'](transports[_0x213c08(0x162)]);continue;case'5':exports[_0x213c08(0x143)][_0x213c08(0x138)](transports[_0x213c08(0x13f)]);continue;}break;}};exports[a97_0x315d5e(0x14e)]=new winston[(a97_0x315d5e(0x14c))](winstonLoggerParams),exports[a97_0x315d5e(0x143)]=new winston[(a97_0x315d5e(0x14c))](winstonFileLoggerParams),exports[a97_0x315d5e(0x147)]=logDir,exports[a97_0x315d5e(0x15d)]=()=>{const _0x3e3784=a97_0x315d5e;return exports[_0x3e3784(0x147)];},exports[a97_0x315d5e(0x165)]=transports,exports[a97_0x315d5e(0x166)]=initialize;logDir&&initialize();