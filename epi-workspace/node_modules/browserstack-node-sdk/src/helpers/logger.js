const a109_0x1e4e69=a109_0x542a;(function(_0x470df2,_0x28c5b2){const _0x121cb3=a109_0x542a,_0x73c205=_0x470df2();while(!![]){try{const _0x7996f1=parseInt(_0x121cb3(0xb0))/0x1*(parseInt(_0x121cb3(0x90))/0x2)+-parseInt(_0x121cb3(0x92))/0x3+parseInt(_0x121cb3(0x9c))/0x4+-parseInt(_0x121cb3(0x9f))/0x5+parseInt(_0x121cb3(0xbe))/0x6+-parseInt(_0x121cb3(0x9e))/0x7*(-parseInt(_0x121cb3(0x7f))/0x8)+-parseInt(_0x121cb3(0x83))/0x9;if(_0x7996f1===_0x28c5b2)break;else _0x73c205['push'](_0x73c205['shift']());}catch(_0x13b268){_0x73c205['push'](_0x73c205['shift']());}}}(a109_0x5bde,0xc6834));const winston=require('winston'),path=require(a109_0x1e4e69(0x84)),fs=require('fs'),{LOG_FILE_NAME,DEBUG_LOG_FILE_NAME}=require('../bin/utils/constants'),tempLogDir='log',logFormat=winston[a109_0x1e4e69(0x8f)](_0x43c71a=>{const _0x26b8a2=a109_0x1e4e69,_0x54cc98={};_0x54cc98[_0x26b8a2(0x87)]=function(_0x5b3a6a,_0x12a9b7){return _0x5b3a6a!==_0x12a9b7;},_0x54cc98[_0x26b8a2(0x7c)]=_0x26b8a2(0x82),_0x54cc98[_0x26b8a2(0x7d)]=function(_0x3310f7,_0x24fea5){return _0x3310f7===_0x24fea5;},_0x54cc98[_0x26b8a2(0xa2)]=_0x26b8a2(0x8c);const _0x4a8de2=_0x54cc98;return _0x4a8de2[_0x26b8a2(0x87)](typeof _0x43c71a[_0x26b8a2(0x9d)],_0x4a8de2[_0x26b8a2(0x7c)])&&(_0x43c71a[_0x26b8a2(0x9d)]=JSON[_0x26b8a2(0x93)](_0x43c71a['message'])),global[_0x26b8a2(0x81)]?.['config']?.[_0x26b8a2(0xaf)]&&_0x4a8de2[_0x26b8a2(0x7d)](typeof _0x43c71a[_0x26b8a2(0x9d)],_0x4a8de2[_0x26b8a2(0x7c)])&&(_0x43c71a[_0x26b8a2(0x9d)]=_0x43c71a['message']['replace'](new RegExp(global[_0x26b8a2(0x81)]['config'][_0x26b8a2(0xaf)],'g'),_0x4a8de2[_0x26b8a2(0xa2)])),global[_0x26b8a2(0x81)]?.['config']?.['accessKey']&&_0x4a8de2['FsJKC'](typeof _0x43c71a[_0x26b8a2(0x9d)],_0x4a8de2['kPTKb'])&&(_0x43c71a[_0x26b8a2(0x9d)]=_0x43c71a[_0x26b8a2(0x9d)][_0x26b8a2(0xa4)](new RegExp(global[_0x26b8a2(0x81)]['config'][_0x26b8a2(0x8e)],'g'),_0x4a8de2[_0x26b8a2(0xa2)])),_0x43c71a;}),fetchLogDir=()=>{const _0x591033=a109_0x1e4e69;if(process[_0x591033(0xb1)][_0x591033(0xa7)])return process['env'][_0x591033(0xa7)];else!fs[_0x591033(0x95)](tempLogDir)&&fs[_0x591033(0xa0)](tempLogDir);return tempLogDir;},logDir=fetchLogDir(),getInitialLogLevel=()=>{const _0x3f5a40=a109_0x1e4e69,_0x117437={};_0x117437['DFPWR']=_0x3f5a40(0xb3);const _0x2da733=_0x117437,_0x5a5197=process[_0x3f5a40(0xb1)][_0x3f5a40(0x9a)],_0x22d5b3=Object['keys'](winston[_0x3f5a40(0xc7)][_0x3f5a40(0x80)][_0x3f5a40(0xc2)]);if(_0x5a5197&&_0x22d5b3['includes'](_0x5a5197[_0x3f5a40(0x8b)]()))return _0x5a5197[_0x3f5a40(0x8b)]();return _0x2da733[_0x3f5a40(0xb9)];},initialLogLevel=getInitialLogLevel(),a109_0x353701={};a109_0x353701[a109_0x1e4e69(0x8a)]='console.info',a109_0x353701[a109_0x1e4e69(0xa1)]=initialLogLevel;const transports={'loggerConsole':new winston[(a109_0x1e4e69(0xab))][(a109_0x1e4e69(0xbd))](a109_0x353701),'loggerFile':new winston[(a109_0x1e4e69(0xab))][(a109_0x1e4e69(0xb6))]({'filename':path[a109_0x1e4e69(0xb8)](logDir,'/usage.log'),'level':initialLogLevel}),'debugLoggerFile':new winston[(a109_0x1e4e69(0xab))][(a109_0x1e4e69(0xb6))]({'filename':path[a109_0x1e4e69(0xb8)](logDir,a109_0x1e4e69(0x99)),'level':a109_0x1e4e69(0x7e)}),'debugCliLoggerFile':new winston[(a109_0x1e4e69(0xab))][(a109_0x1e4e69(0xb6))]({'filename':path[a109_0x1e4e69(0xb8)](logDir,a109_0x1e4e69(0x96)),'level':'silly'}),'buildLinkTransport':new winston[(a109_0x1e4e69(0xab))][(a109_0x1e4e69(0xb6))]({'filename':path[a109_0x1e4e69(0xb8)](logDir,a109_0x1e4e69(0x91)),'level':a109_0x1e4e69(0x7e)})},automationTransports={};process[a109_0x1e4e69(0xb1)]['BROWSERSTACK_AUTOMATION_LOGS']==='true'&&(automationTransports[a109_0x1e4e69(0xc3)]=new winston[(a109_0x1e4e69(0xab))]['File']({'filename':path[a109_0x1e4e69(0xb8)](logDir,'automation.log'),'level':'silly'}));transports['loggerConsole']['on'](a109_0x1e4e69(0xc0),_0x3025e6=>{const _0x2e813f=a109_0x1e4e69,_0x56bac7={};_0x56bac7[_0x2e813f(0xc5)]=function(_0x30ebc7,_0x4beab8){return _0x30ebc7===_0x4beab8;},_0x56bac7[_0x2e813f(0xa6)]=_0x2e813f(0xad),_0x56bac7[_0x2e813f(0x94)]=_0x2e813f(0xbc);const _0x4d06f4=_0x56bac7;if(_0x4d06f4[_0x2e813f(0xc5)](_0x3025e6[_0x2e813f(0xba)],_0x4d06f4['cCxkq'])){console[_0x2e813f(0x8d)](_0x4d06f4[_0x2e813f(0x94)],_0x3025e6[_0x2e813f(0x9d)]);return;}throw _0x3025e6;});const a109_0x5b4859={};a109_0x5b4859[a109_0x1e4e69(0x8f)]=a109_0x1e4e69(0x9b);function a109_0x542a(_0x1da8df,_0x3d6a11){const _0x5bdeb1=a109_0x5bde();return a109_0x542a=function(_0x542a44,_0x326ac0){_0x542a44=_0x542a44-0x7c;let _0x1ff990=_0x5bdeb1[_0x542a44];return _0x1ff990;},a109_0x542a(_0x1da8df,_0x3d6a11);}const a109_0x4f3572={};a109_0x4f3572[a109_0x1e4e69(0xa1)]=!![];const winstonLoggerParams={'format':winston[a109_0x1e4e69(0x8f)][a109_0x1e4e69(0x98)](winston['format'][a109_0x1e4e69(0xb5)](a109_0x5b4859),winston['format'][a109_0x1e4e69(0xaa)](a109_0x4f3572),winston[a109_0x1e4e69(0x8f)]['printf'](_0x2c020e=>_0x2c020e[a109_0x1e4e69(0xb5)]+'\x20-\x20'+_0x2c020e[a109_0x1e4e69(0xa1)]+':\x20'+_0x2c020e[a109_0x1e4e69(0x9d)])),'transports':[transports['loggerConsole']]},a109_0x50abf5={};a109_0x50abf5[a109_0x1e4e69(0x8f)]=a109_0x1e4e69(0x9b);const a109_0x380c8a={};a109_0x380c8a['level']=!![];function a109_0x5bde(){const _0x561a0c=['error','buildLogger','levels','automationLoggerFile','http','jwQhE','add','config','kPTKb','FsJKC','silly','8cbnCsx','npm','session','string','12664026WaekDL','path','debug','loggerConsole','UucLm','true','fileLogger','name','toLowerCase','[REDACTED]','log','accessKey','format','3222254kXSQbR','/usage.log','403431YlvQnD','stringify','noBvp','existsSync','/sdk-cli-debug.log','logDir','combine','/usage-debug.log','BROWSERSTACK_LOG_LEVEL','YYYY-MM-DD\x20HH:mm:ss','2549976EVcmPP','message','1670697BMdZrX','1201350UOXNeB','mkdirSync','level','WHtok','debugLoggerFile','replace','loggerFile','cCxkq','BROWSERSTACK_INTERNAL_LOG_DIR','JKaCp','initialize','colorize','transports','buildLinkTransport','EPIPE','winstonLogger','userName','1IoHvIp','env','\x20-\x20','info','printf','timestamp','File','BROWSERSTACK_AUTOMATION_LOGS','join','DFPWR','code','uncolorize','EPIPE\x20error\x20occurred\x20in\x20loggerConsole:','Console','646062wXKbap','createLogger'];a109_0x5bde=function(){return _0x561a0c;};return a109_0x5bde();}const winstonFileLoggerParams={'format':winston[a109_0x1e4e69(0x8f)]['combine'](winston['format'][a109_0x1e4e69(0xb5)](a109_0x50abf5),winston[a109_0x1e4e69(0x8f)][a109_0x1e4e69(0xaa)](a109_0x380c8a),winston[a109_0x1e4e69(0x8f)][a109_0x1e4e69(0xb4)](_0x52042e=>_0x52042e[a109_0x1e4e69(0xa1)]+':\x20'+_0x52042e[a109_0x1e4e69(0x9d)])),'transports':[]},a109_0x2c6158={};a109_0x2c6158[a109_0x1e4e69(0x8f)]=a109_0x1e4e69(0x9b);const a109_0x15c750={};a109_0x15c750[a109_0x1e4e69(0xa1)]=!![];const a109_0x401e9c={};a109_0x401e9c[a109_0x1e4e69(0xa1)]=a109_0x1e4e69(0x7e);const BuildLoggerParams={'format':winston['format'][a109_0x1e4e69(0x98)](winston[a109_0x1e4e69(0x8f)][a109_0x1e4e69(0xb5)](a109_0x2c6158),winston[a109_0x1e4e69(0x8f)]['colorize'](a109_0x15c750),winston[a109_0x1e4e69(0x8f)][a109_0x1e4e69(0xb4)](_0x44d53d=>_0x44d53d[a109_0x1e4e69(0xb5)]+a109_0x1e4e69(0xb2)+_0x44d53d[a109_0x1e4e69(0xa1)]+':\x20'+_0x44d53d['message'])),'transports':[transports[a109_0x1e4e69(0xac)],new winston['transports'][(a109_0x1e4e69(0xbd))](a109_0x401e9c)]},a109_0xc65341={};a109_0xc65341[a109_0x1e4e69(0xc4)]=()=>{},a109_0xc65341[a109_0x1e4e69(0xb3)]=()=>{},a109_0xc65341['warn']=()=>{},a109_0xc65341['error']=()=>{},a109_0xc65341[a109_0x1e4e69(0x85)]=()=>{},a109_0xc65341[a109_0x1e4e69(0x7e)]=()=>{},exports['automationLogger']=process[a109_0x1e4e69(0xb1)][a109_0x1e4e69(0xb7)]===a109_0x1e4e69(0x88)?winston[a109_0x1e4e69(0xbf)]({'format':winston[a109_0x1e4e69(0x8f)]['combine'](winston[a109_0x1e4e69(0x8f)][a109_0x1e4e69(0xbb)](),winston[a109_0x1e4e69(0x8f)]['timestamp'](),logFormat(),winston[a109_0x1e4e69(0x8f)]['printf'](_0x227a55=>_0x227a55[a109_0x1e4e69(0xa1)]+':\x20'+_0x227a55['message'])),'transports':[automationTransports[a109_0x1e4e69(0xc3)]]}):a109_0xc65341;const initialize=()=>{const _0x2e9848=a109_0x1e4e69,_0x21c531={};_0x21c531[_0x2e9848(0xa8)]=_0x2e9848(0x7e);const _0x2411be=_0x21c531,_0x109a9d=transports[_0x2e9848(0x86)][_0x2e9848(0xa1)]||initialLogLevel;transports['loggerFile']=new winston[(_0x2e9848(0xab))][(_0x2e9848(0xb6))]({'filename':path['join'](exports['logDir'],LOG_FILE_NAME),'level':_0x109a9d}),transports[_0x2e9848(0xa3)]=new winston[(_0x2e9848(0xab))][(_0x2e9848(0xb6))]({'filename':path[_0x2e9848(0xb8)](exports[_0x2e9848(0x97)],DEBUG_LOG_FILE_NAME),'level':_0x2411be['JKaCp']}),exports['winstonLogger']['add'](transports[_0x2e9848(0xa5)]),exports['winstonLogger'][_0x2e9848(0xc6)](transports['debugLoggerFile']),exports[_0x2e9848(0x89)][_0x2e9848(0xc6)](transports['loggerFile']),exports[_0x2e9848(0x89)][_0x2e9848(0xc6)](transports[_0x2e9848(0xa3)]);};exports[a109_0x1e4e69(0xae)]=new winston[(a109_0x1e4e69(0xbf))](winstonLoggerParams),exports[a109_0x1e4e69(0x89)]=new winston[(a109_0x1e4e69(0xbf))](winstonFileLoggerParams),exports[a109_0x1e4e69(0xc1)]=new winston['createLogger'](BuildLoggerParams),exports[a109_0x1e4e69(0x97)]=logDir,exports['getLogDir']=()=>{return exports['logDir'];},exports[a109_0x1e4e69(0xab)]=transports,exports[a109_0x1e4e69(0xa9)]=initialize;logDir&&initialize();