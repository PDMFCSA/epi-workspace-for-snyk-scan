function a104_0x8a28(){const _0x2ce7e5=['string','name','Console','session','805122doKdrF','format','code','2125184NadaWZ','buildLogger','HOOnv','log','edWyV','true','automation.log','JvQeI','printf','createLogger','split','vMNkS','30WOzFkS','getLogDir','automationLogger','RkkIp','NthpR','winstonLogger','3sCXcKB','213450GirqTu','1305712FodFzD','accessKey','existsSync','silly','28lzHnIl','config','mkdirSync','userName','10072872uMLKzk','colorize','5589903AGOXiI','5137268DcnDmf','95Fpupym','replace','fileLogger','automationLoggerFile','debug','level','BROWSERSTACK_INTERNAL_LOG_DIR','winston','add','buildLinkTransport','http','EPIPE','\x20-\x20','env','2|1|3|4|0|5','File','debugLoggerFile','loggerFile','message','timestamp','join','logDir','info','QzRfK','transports','EPIPE\x20error\x20occurred\x20in\x20loggerConsole:','[REDACTED]','console.info','BROWSERSTACK_AUTOMATION_LOGS','error','hhbJI','combine','loggerConsole'];a104_0x8a28=function(){return _0x2ce7e5;};return a104_0x8a28();}const a104_0x5665f9=a104_0x3d65;(function(_0xde8f76,_0x4cac85){const _0x39e481=a104_0x3d65,_0x5a3baf=_0xde8f76();while(!![]){try{const _0x446fb9=parseInt(_0x39e481(0x167))/0x1+-parseInt(_0x39e481(0x150))/0x2*(parseInt(_0x39e481(0x165))/0x3)+parseInt(_0x39e481(0x172))/0x4+parseInt(_0x39e481(0x173))/0x5*(-parseInt(_0x39e481(0x166))/0x6)+-parseInt(_0x39e481(0x16b))/0x7*(parseInt(_0x39e481(0x153))/0x8)+-parseInt(_0x39e481(0x16f))/0x9+-parseInt(_0x39e481(0x15f))/0xa*(-parseInt(_0x39e481(0x171))/0xb);if(_0x446fb9===_0x4cac85)break;else _0x5a3baf['push'](_0x5a3baf['shift']());}catch(_0x523071){_0x5a3baf['push'](_0x5a3baf['shift']());}}}(a104_0x8a28,0xd08f6));const winston=require(a104_0x5665f9(0x17a)),path=require('path'),fs=require('fs'),{LOG_FILE_NAME,DEBUG_LOG_FILE_NAME}=require('../bin/utils/constants'),tempLogDir='log',logFormat=winston[a104_0x5665f9(0x151)](_0x254b45=>{const _0x64797f=a104_0x5665f9,_0xc1b30f={};_0xc1b30f['QzRfK']=function(_0x55142b,_0x36eb88){return _0x55142b!==_0x36eb88;},_0xc1b30f[_0x64797f(0x157)]=_0x64797f(0x14c),_0xc1b30f[_0x64797f(0x15a)]=function(_0x18ff48,_0x7c6a47){return _0x18ff48===_0x7c6a47;},_0xc1b30f['HOOnv']=_0x64797f(0x145),_0xc1b30f[_0x64797f(0x162)]=function(_0x216ba6,_0x304b5e){return _0x216ba6===_0x304b5e;};const _0x362b6b=_0xc1b30f;return _0x362b6b[_0x64797f(0x142)](typeof _0x254b45['message'],_0x362b6b['edWyV'])&&(_0x254b45[_0x64797f(0x13d)]=JSON['stringify'](_0x254b45['message'])),global['session']?.[_0x64797f(0x16c)]?.['userName']&&_0x362b6b[_0x64797f(0x15a)](typeof _0x254b45['message'],_0x362b6b[_0x64797f(0x157)])&&(_0x254b45[_0x64797f(0x13d)]=_0x254b45[_0x64797f(0x13d)][_0x64797f(0x174)](new RegExp(global['session'][_0x64797f(0x16c)][_0x64797f(0x16e)],'g'),_0x362b6b[_0x64797f(0x155)])),global[_0x64797f(0x14f)]?.[_0x64797f(0x16c)]?.[_0x64797f(0x168)]&&_0x362b6b[_0x64797f(0x162)](typeof _0x254b45[_0x64797f(0x13d)],_0x362b6b[_0x64797f(0x157)])&&(_0x254b45['message']=_0x254b45[_0x64797f(0x13d)][_0x64797f(0x174)](new RegExp(global[_0x64797f(0x14f)]['config'][_0x64797f(0x168)],'g'),_0x362b6b[_0x64797f(0x155)])),_0x254b45;}),fetchLogDir=()=>{const _0xca266b=a104_0x5665f9;if(process[_0xca266b(0x138)]['BROWSERSTACK_INTERNAL_LOG_DIR'])return process[_0xca266b(0x138)][_0xca266b(0x179)];else!fs[_0xca266b(0x169)](tempLogDir)&&fs[_0xca266b(0x16d)](tempLogDir);return tempLogDir;},logDir=fetchLogDir(),a104_0x29b6c4={};a104_0x29b6c4[a104_0x5665f9(0x14d)]=a104_0x5665f9(0x146);const transports={'loggerConsole':new winston[(a104_0x5665f9(0x143))][(a104_0x5665f9(0x14e))](a104_0x29b6c4),'loggerFile':new winston[(a104_0x5665f9(0x143))]['File']({'filename':path[a104_0x5665f9(0x13f)](logDir,'/usage.log')}),'debugLoggerFile':new winston[(a104_0x5665f9(0x143))][(a104_0x5665f9(0x13a))]({'filename':path[a104_0x5665f9(0x13f)](logDir,'/usage-debug.log'),'level':a104_0x5665f9(0x16a)}),'debugCliLoggerFile':new winston[(a104_0x5665f9(0x143))][(a104_0x5665f9(0x13a))]({'filename':path[a104_0x5665f9(0x13f)](logDir,'/sdk-cli-debug.log'),'level':a104_0x5665f9(0x16a)}),'buildLinkTransport':new winston[(a104_0x5665f9(0x143))][(a104_0x5665f9(0x13a))]({'filename':path[a104_0x5665f9(0x13f)](logDir,'/usage.log'),'level':a104_0x5665f9(0x16a)})},automationTransports={};process['env'][a104_0x5665f9(0x147)]===a104_0x5665f9(0x158)&&(automationTransports[a104_0x5665f9(0x176)]=new winston['transports']['File']({'filename':path['join'](logDir,a104_0x5665f9(0x159)),'level':a104_0x5665f9(0x16a)}));transports[a104_0x5665f9(0x14b)]['on']('error',_0x24f0eb=>{const _0xd63449=a104_0x5665f9,_0x2f8259={};_0x2f8259['vMNkS']=function(_0x1bdba0,_0x444a79){return _0x1bdba0===_0x444a79;},_0x2f8259['XomFU']=_0xd63449(0x17e),_0x2f8259['lwxYF']=_0xd63449(0x144);const _0x520c36=_0x2f8259;if(_0x520c36[_0xd63449(0x15e)](_0x24f0eb[_0xd63449(0x152)],_0x520c36['XomFU'])){console[_0xd63449(0x156)](_0x520c36['lwxYF'],_0x24f0eb[_0xd63449(0x13d)]);return;}throw _0x24f0eb;});function a104_0x3d65(_0x6bf633,_0x28ccbd){const _0x8a2848=a104_0x8a28();return a104_0x3d65=function(_0x3d65cb,_0x27639d){_0x3d65cb=_0x3d65cb-0x138;let _0x18e3d1=_0x8a2848[_0x3d65cb];return _0x18e3d1;},a104_0x3d65(_0x6bf633,_0x28ccbd);}const a104_0x3dc14d={};a104_0x3dc14d['format']='YYYY-MM-DD\x20HH:mm:ss';const a104_0x36c95a={};a104_0x36c95a[a104_0x5665f9(0x178)]=!![];const winstonLoggerParams={'format':winston['format'][a104_0x5665f9(0x14a)](winston['format'][a104_0x5665f9(0x13e)](a104_0x3dc14d),winston[a104_0x5665f9(0x151)]['colorize'](a104_0x36c95a),winston[a104_0x5665f9(0x151)][a104_0x5665f9(0x15b)](_0x425825=>_0x425825[a104_0x5665f9(0x13e)]+a104_0x5665f9(0x17f)+_0x425825['level']+':\x20'+_0x425825[a104_0x5665f9(0x13d)])),'transports':[transports[a104_0x5665f9(0x14b)]]},a104_0x55b288={};a104_0x55b288[a104_0x5665f9(0x151)]='YYYY-MM-DD\x20HH:mm:ss';const a104_0x2ce1b4={};a104_0x2ce1b4[a104_0x5665f9(0x178)]=!![];const winstonFileLoggerParams={'format':winston[a104_0x5665f9(0x151)][a104_0x5665f9(0x14a)](winston[a104_0x5665f9(0x151)][a104_0x5665f9(0x13e)](a104_0x55b288),winston[a104_0x5665f9(0x151)][a104_0x5665f9(0x170)](a104_0x2ce1b4),winston['format']['printf'](_0x25b278=>_0x25b278[a104_0x5665f9(0x178)]+':\x20'+_0x25b278[a104_0x5665f9(0x13d)])),'transports':[]},a104_0x3504f9={};a104_0x3504f9[a104_0x5665f9(0x151)]='YYYY-MM-DD\x20HH:mm:ss';const a104_0x1cd709={};a104_0x1cd709[a104_0x5665f9(0x178)]=!![];const a104_0x5f214c={};a104_0x5f214c[a104_0x5665f9(0x178)]=a104_0x5665f9(0x16a);const BuildLoggerParams={'format':winston[a104_0x5665f9(0x151)]['combine'](winston[a104_0x5665f9(0x151)][a104_0x5665f9(0x13e)](a104_0x3504f9),winston[a104_0x5665f9(0x151)][a104_0x5665f9(0x170)](a104_0x1cd709),winston[a104_0x5665f9(0x151)][a104_0x5665f9(0x15b)](_0x274538=>_0x274538['timestamp']+a104_0x5665f9(0x17f)+_0x274538[a104_0x5665f9(0x178)]+':\x20'+_0x274538[a104_0x5665f9(0x13d)])),'transports':[transports[a104_0x5665f9(0x17c)],new winston[(a104_0x5665f9(0x143))][(a104_0x5665f9(0x14e))](a104_0x5f214c)]},a104_0x5cce47={};a104_0x5cce47[a104_0x5665f9(0x17d)]=()=>{},a104_0x5cce47[a104_0x5665f9(0x141)]=()=>{},a104_0x5cce47['warn']=()=>{},a104_0x5cce47[a104_0x5665f9(0x148)]=()=>{},a104_0x5cce47[a104_0x5665f9(0x177)]=()=>{},a104_0x5cce47[a104_0x5665f9(0x16a)]=()=>{},exports[a104_0x5665f9(0x161)]=process['env']['BROWSERSTACK_AUTOMATION_LOGS']===a104_0x5665f9(0x158)?winston['createLogger']({'format':winston[a104_0x5665f9(0x151)][a104_0x5665f9(0x14a)](winston['format']['uncolorize'](),winston[a104_0x5665f9(0x151)][a104_0x5665f9(0x13e)](),logFormat(),winston[a104_0x5665f9(0x151)][a104_0x5665f9(0x15b)](_0x33270a=>_0x33270a[a104_0x5665f9(0x178)]+':\x20'+_0x33270a[a104_0x5665f9(0x13d)])),'transports':[automationTransports[a104_0x5665f9(0x176)]]}):a104_0x5cce47;const initialize=()=>{const _0x398a66=a104_0x5665f9,_0x4cf841={};_0x4cf841[_0x398a66(0x163)]=_0x398a66(0x139),_0x4cf841[_0x398a66(0x149)]=_0x398a66(0x16a);const _0x40a921=_0x4cf841,_0x432baf=_0x40a921[_0x398a66(0x163)][_0x398a66(0x15d)]('|');let _0x5e46f4=0x0;while(!![]){switch(_0x432baf[_0x5e46f4++]){case'0':exports['fileLogger'][_0x398a66(0x17b)](transports['loggerFile']);continue;case'1':transports[_0x398a66(0x13b)]=new winston['transports'][(_0x398a66(0x13a))]({'filename':path[_0x398a66(0x13f)](exports[_0x398a66(0x140)],DEBUG_LOG_FILE_NAME),'level':_0x40a921[_0x398a66(0x149)]});continue;case'2':transports[_0x398a66(0x13c)]=new winston['transports'][(_0x398a66(0x13a))]({'filename':path[_0x398a66(0x13f)](exports[_0x398a66(0x140)],LOG_FILE_NAME)});continue;case'3':exports[_0x398a66(0x164)][_0x398a66(0x17b)](transports[_0x398a66(0x13c)]);continue;case'4':exports['winstonLogger'][_0x398a66(0x17b)](transports[_0x398a66(0x13b)]);continue;case'5':exports[_0x398a66(0x175)]['add'](transports[_0x398a66(0x13b)]);continue;}break;}};exports[a104_0x5665f9(0x164)]=new winston['createLogger'](winstonLoggerParams),exports[a104_0x5665f9(0x175)]=new winston['createLogger'](winstonFileLoggerParams),exports[a104_0x5665f9(0x154)]=new winston[(a104_0x5665f9(0x15c))](BuildLoggerParams),exports[a104_0x5665f9(0x140)]=logDir,exports[a104_0x5665f9(0x160)]=()=>{const _0x286a85=a104_0x5665f9;return exports[_0x286a85(0x140)];},exports[a104_0x5665f9(0x143)]=transports,exports['initialize']=initialize;logDir&&initialize();