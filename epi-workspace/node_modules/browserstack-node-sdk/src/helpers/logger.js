const a109_0x34b2ae=a109_0x45d0;(function(_0x1871f3,_0xb37e73){const _0x154067=a109_0x45d0,_0x45df09=_0x1871f3();while(!![]){try{const _0x52ccb6=parseInt(_0x154067(0x22c))/0x1*(-parseInt(_0x154067(0x206))/0x2)+parseInt(_0x154067(0x219))/0x3*(-parseInt(_0x154067(0x20d))/0x4)+parseInt(_0x154067(0x20c))/0x5+parseInt(_0x154067(0x204))/0x6*(-parseInt(_0x154067(0x202))/0x7)+parseInt(_0x154067(0x1f5))/0x8+-parseInt(_0x154067(0x1f2))/0x9*(-parseInt(_0x154067(0x233))/0xa)+parseInt(_0x154067(0x235))/0xb*(parseInt(_0x154067(0x1fd))/0xc);if(_0x52ccb6===_0xb37e73)break;else _0x45df09['push'](_0x45df09['shift']());}catch(_0xe92c54){_0x45df09['push'](_0x45df09['shift']());}}}(a109_0x1b07,0x1cbcb));const winston=require('winston'),path=require('path'),fs=require('fs'),{LOG_FILE_NAME,DEBUG_LOG_FILE_NAME}=require('../bin/utils/constants'),tempLogDir=a109_0x34b2ae(0x21a),logFormat=winston[a109_0x34b2ae(0x22b)](_0x4aecf1=>{const _0x36c6b7=a109_0x34b2ae,_0x22c97b={};_0x22c97b[_0x36c6b7(0x22a)]=function(_0x265098,_0x3e39d0){return _0x265098!==_0x3e39d0;},_0x22c97b[_0x36c6b7(0x1f8)]=_0x36c6b7(0x226),_0x22c97b[_0x36c6b7(0x217)]=function(_0x469f48,_0xba5721){return _0x469f48===_0xba5721;},_0x22c97b['dGoUa']=_0x36c6b7(0x20a);const _0x2186d8=_0x22c97b;return _0x2186d8[_0x36c6b7(0x22a)](typeof _0x4aecf1[_0x36c6b7(0x1f0)],_0x2186d8[_0x36c6b7(0x1f8)])&&(_0x4aecf1['message']=JSON[_0x36c6b7(0x218)](_0x4aecf1[_0x36c6b7(0x1f0)])),global['session']?.['config']?.['userName']&&_0x2186d8[_0x36c6b7(0x217)](typeof _0x4aecf1[_0x36c6b7(0x1f0)],_0x2186d8[_0x36c6b7(0x1f8)])&&(_0x4aecf1[_0x36c6b7(0x1f0)]=_0x4aecf1[_0x36c6b7(0x1f0)][_0x36c6b7(0x222)](new RegExp(global['session'][_0x36c6b7(0x214)][_0x36c6b7(0x1fe)],'g'),_0x2186d8[_0x36c6b7(0x1ed)])),global[_0x36c6b7(0x223)]?.[_0x36c6b7(0x214)]?.['accessKey']&&_0x2186d8[_0x36c6b7(0x217)](typeof _0x4aecf1[_0x36c6b7(0x1f0)],_0x2186d8[_0x36c6b7(0x1f8)])&&(_0x4aecf1['message']=_0x4aecf1[_0x36c6b7(0x1f0)]['replace'](new RegExp(global[_0x36c6b7(0x223)][_0x36c6b7(0x214)][_0x36c6b7(0x1f4)],'g'),_0x2186d8[_0x36c6b7(0x1ed)])),_0x4aecf1;}),fetchLogDir=()=>{const _0x43965d=a109_0x34b2ae;if(process[_0x43965d(0x1fb)][_0x43965d(0x207)])return process[_0x43965d(0x1fb)]['BROWSERSTACK_INTERNAL_LOG_DIR'];else!fs[_0x43965d(0x201)](tempLogDir)&&fs[_0x43965d(0x205)](tempLogDir);return tempLogDir;},logDir=fetchLogDir(),getInitialLogLevel=()=>{const _0x3f12a3=a109_0x34b2ae,_0x4f84b1={};_0x4f84b1[_0x3f12a3(0x22f)]=_0x3f12a3(0x1ff);const _0x54d17c=_0x4f84b1,_0x19e55d=process[_0x3f12a3(0x1fb)][_0x3f12a3(0x1ea)],_0x20bc26=Object[_0x3f12a3(0x21d)](winston['config'][_0x3f12a3(0x237)]['levels']);if(_0x19e55d&&_0x20bc26[_0x3f12a3(0x216)](_0x19e55d[_0x3f12a3(0x209)]()))return _0x19e55d[_0x3f12a3(0x209)]();return _0x54d17c['kzkzT'];},initialLogLevel=getInitialLogLevel(),a109_0x46c53c={};a109_0x46c53c[a109_0x34b2ae(0x227)]='console.info',a109_0x46c53c[a109_0x34b2ae(0x236)]=initialLogLevel;const transports={'loggerConsole':new winston[(a109_0x34b2ae(0x1eb))][(a109_0x34b2ae(0x231))](a109_0x46c53c),'loggerFile':new winston[(a109_0x34b2ae(0x1eb))][(a109_0x34b2ae(0x224))]({'filename':path[a109_0x34b2ae(0x21c)](logDir,a109_0x34b2ae(0x200)),'level':initialLogLevel}),'debugLoggerFile':new winston[(a109_0x34b2ae(0x1eb))][(a109_0x34b2ae(0x224))]({'filename':path[a109_0x34b2ae(0x21c)](logDir,a109_0x34b2ae(0x234)),'level':a109_0x34b2ae(0x221)}),'debugCliLoggerFile':new winston[(a109_0x34b2ae(0x1eb))][(a109_0x34b2ae(0x224))]({'filename':path[a109_0x34b2ae(0x21c)](logDir,a109_0x34b2ae(0x1fa)),'level':'silly'}),'buildLinkTransport':new winston[(a109_0x34b2ae(0x1eb))][(a109_0x34b2ae(0x224))]({'filename':path[a109_0x34b2ae(0x21c)](logDir,a109_0x34b2ae(0x200)),'level':a109_0x34b2ae(0x221)})},automationTransports={};process[a109_0x34b2ae(0x1fb)]['BROWSERSTACK_AUTOMATION_LOGS']===a109_0x34b2ae(0x228)&&(automationTransports[a109_0x34b2ae(0x22d)]=new winston[(a109_0x34b2ae(0x1eb))][(a109_0x34b2ae(0x224))]({'filename':path[a109_0x34b2ae(0x21c)](logDir,a109_0x34b2ae(0x21e)),'level':a109_0x34b2ae(0x221)}));transports[a109_0x34b2ae(0x1ee)]['on'](a109_0x34b2ae(0x1ec),_0x3ef427=>{const _0xd469f2=a109_0x34b2ae,_0x31d7d9={};_0x31d7d9[_0xd469f2(0x232)]=function(_0x4b8f2a,_0x5500a0){return _0x4b8f2a===_0x5500a0;},_0x31d7d9[_0xd469f2(0x1f6)]=_0xd469f2(0x1f7),_0x31d7d9[_0xd469f2(0x220)]=_0xd469f2(0x225);const _0x53ea11=_0x31d7d9;if(_0x53ea11[_0xd469f2(0x232)](_0x3ef427[_0xd469f2(0x21f)],_0x53ea11[_0xd469f2(0x1f6)])){console[_0xd469f2(0x21a)](_0x53ea11['CoxoL'],_0x3ef427['message']);return;}throw _0x3ef427;});const a109_0x3b12bf={};a109_0x3b12bf[a109_0x34b2ae(0x22b)]=a109_0x34b2ae(0x22e);const a109_0xff5c5e={};a109_0xff5c5e[a109_0x34b2ae(0x236)]=!![];const winstonLoggerParams={'format':winston['format'][a109_0x34b2ae(0x1fc)](winston[a109_0x34b2ae(0x22b)][a109_0x34b2ae(0x1f3)](a109_0x3b12bf),winston['format']['colorize'](a109_0xff5c5e),winston[a109_0x34b2ae(0x22b)][a109_0x34b2ae(0x213)](_0x546799=>_0x546799[a109_0x34b2ae(0x1f3)]+a109_0x34b2ae(0x211)+_0x546799[a109_0x34b2ae(0x236)]+':\x20'+_0x546799[a109_0x34b2ae(0x1f0)])),'transports':[transports['loggerConsole']]},a109_0x5bc215={};function a109_0x45d0(_0x59b0ca,_0x444151){const _0x1b073d=a109_0x1b07();return a109_0x45d0=function(_0x45d0c4,_0x2dca2d){_0x45d0c4=_0x45d0c4-0x1ea;let _0x2563c9=_0x1b073d[_0x45d0c4];return _0x2563c9;},a109_0x45d0(_0x59b0ca,_0x444151);}a109_0x5bc215['format']='YYYY-MM-DD\x20HH:mm:ss';const a109_0x260cf0={};a109_0x260cf0[a109_0x34b2ae(0x236)]=!![];const winstonFileLoggerParams={'format':winston['format'][a109_0x34b2ae(0x1fc)](winston[a109_0x34b2ae(0x22b)]['timestamp'](a109_0x5bc215),winston[a109_0x34b2ae(0x22b)]['colorize'](a109_0x260cf0),winston['format'][a109_0x34b2ae(0x213)](_0x8e069a=>_0x8e069a[a109_0x34b2ae(0x236)]+':\x20'+_0x8e069a['message'])),'transports':[]},a109_0x55ffd7={};a109_0x55ffd7[a109_0x34b2ae(0x22b)]='YYYY-MM-DD\x20HH:mm:ss';const a109_0x4458f0={};a109_0x4458f0[a109_0x34b2ae(0x236)]=!![];const a109_0x4d8106={};function a109_0x1b07(){const _0x4bad43=['join','keys','automation.log','code','CoxoL','silly','replace','session','File','EPIPE\x20error\x20occurred\x20in\x20loggerConsole:','string','name','true','zsljs','mndJF','format','15PXErbX','automationLoggerFile','YYYY-MM-DD\x20HH:mm:ss','kzkzT','automationLogger','Console','lxCMP','5090DksXqn','/usage-debug.log','22gBqUJU','level','npm','http','BROWSERSTACK_LOG_LEVEL','transports','error','dGoUa','loggerConsole','add','message','loggerFile','9SrTJTO','timestamp','accessKey','1308120DELdQq','LuskA','EPIPE','HDiHn','winstonLogger','/sdk-cli-debug.log','env','combine','168804ZiFsAS','userName','info','/usage.log','existsSync','220003pinXPO','warn','6ulyqqN','mkdirSync','15244YlTufw','BROWSERSTACK_INTERNAL_LOG_DIR','createLogger','toLowerCase','[REDACTED]','initialize','876580DizEBM','8hKhEYA','debug','BROWSERSTACK_AUTOMATION_LOGS','fileLogger','\x20-\x20','uncolorize','printf','config','buildLinkTransport','includes','csLyN','stringify','156012OLMlRZ','log','logDir'];a109_0x1b07=function(){return _0x4bad43;};return a109_0x1b07();}a109_0x4d8106[a109_0x34b2ae(0x236)]=a109_0x34b2ae(0x221);const BuildLoggerParams={'format':winston[a109_0x34b2ae(0x22b)]['combine'](winston[a109_0x34b2ae(0x22b)]['timestamp'](a109_0x55ffd7),winston[a109_0x34b2ae(0x22b)]['colorize'](a109_0x4458f0),winston[a109_0x34b2ae(0x22b)][a109_0x34b2ae(0x213)](_0x42e8ca=>_0x42e8ca['timestamp']+a109_0x34b2ae(0x211)+_0x42e8ca[a109_0x34b2ae(0x236)]+':\x20'+_0x42e8ca['message'])),'transports':[transports[a109_0x34b2ae(0x215)],new winston[(a109_0x34b2ae(0x1eb))]['Console'](a109_0x4d8106)]},a109_0x5d03fc={};a109_0x5d03fc[a109_0x34b2ae(0x238)]=()=>{},a109_0x5d03fc['info']=()=>{},a109_0x5d03fc[a109_0x34b2ae(0x203)]=()=>{},a109_0x5d03fc[a109_0x34b2ae(0x1ec)]=()=>{},a109_0x5d03fc[a109_0x34b2ae(0x20e)]=()=>{},a109_0x5d03fc['silly']=()=>{},exports[a109_0x34b2ae(0x230)]=process['env'][a109_0x34b2ae(0x20f)]===a109_0x34b2ae(0x228)?winston['createLogger']({'format':winston[a109_0x34b2ae(0x22b)]['combine'](winston[a109_0x34b2ae(0x22b)][a109_0x34b2ae(0x212)](),winston['format'][a109_0x34b2ae(0x1f3)](),logFormat(),winston[a109_0x34b2ae(0x22b)][a109_0x34b2ae(0x213)](_0x290d1f=>_0x290d1f[a109_0x34b2ae(0x236)]+':\x20'+_0x290d1f[a109_0x34b2ae(0x1f0)])),'transports':[automationTransports[a109_0x34b2ae(0x22d)]]}):a109_0x5d03fc;const initialize=()=>{const _0x35c73d=a109_0x34b2ae,_0x182560={};_0x182560[_0x35c73d(0x229)]=_0x35c73d(0x221);const _0x2819b9=_0x182560,_0x585a68=transports['loggerConsole'][_0x35c73d(0x236)]||initialLogLevel;transports[_0x35c73d(0x1f1)]=new winston[(_0x35c73d(0x1eb))][(_0x35c73d(0x224))]({'filename':path[_0x35c73d(0x21c)](exports[_0x35c73d(0x21b)],LOG_FILE_NAME),'level':_0x585a68}),transports['debugLoggerFile']=new winston[(_0x35c73d(0x1eb))][(_0x35c73d(0x224))]({'filename':path[_0x35c73d(0x21c)](exports[_0x35c73d(0x21b)],DEBUG_LOG_FILE_NAME),'level':_0x2819b9[_0x35c73d(0x229)]}),exports['winstonLogger']['add'](transports[_0x35c73d(0x1f1)]),exports['winstonLogger'][_0x35c73d(0x1ef)](transports['debugLoggerFile']),exports[_0x35c73d(0x210)][_0x35c73d(0x1ef)](transports[_0x35c73d(0x1f1)]),exports['fileLogger'][_0x35c73d(0x1ef)](transports['debugLoggerFile']);};exports[a109_0x34b2ae(0x1f9)]=new winston[(a109_0x34b2ae(0x208))](winstonLoggerParams),exports['fileLogger']=new winston[(a109_0x34b2ae(0x208))](winstonFileLoggerParams),exports['buildLogger']=new winston['createLogger'](BuildLoggerParams),exports['logDir']=logDir,exports['getLogDir']=()=>{const _0x18ca84=a109_0x34b2ae;return exports[_0x18ca84(0x21b)];},exports[a109_0x34b2ae(0x1eb)]=transports,exports[a109_0x34b2ae(0x20b)]=initialize;logDir&&initialize();