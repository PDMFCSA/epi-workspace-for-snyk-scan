const a122_0x22b46c=a122_0x9abc;(function(_0x5932bb,_0x51a55e){const _0x4c4df2=a122_0x9abc,_0x13c5cb=_0x5932bb();while(!![]){try{const _0x2ddf80=parseInt(_0x4c4df2(0x9c))/0x1*(parseInt(_0x4c4df2(0xa7))/0x2)+-parseInt(_0x4c4df2(0x6f))/0x3*(-parseInt(_0x4c4df2(0xa6))/0x4)+parseInt(_0x4c4df2(0xda))/0x5+-parseInt(_0x4c4df2(0xb0))/0x6+parseInt(_0x4c4df2(0xba))/0x7+-parseInt(_0x4c4df2(0x88))/0x8*(-parseInt(_0x4c4df2(0x98))/0x9)+parseInt(_0x4c4df2(0x9a))/0xa*(-parseInt(_0x4c4df2(0x8a))/0xb);if(_0x2ddf80===_0x51a55e)break;else _0x13c5cb['push'](_0x13c5cb['shift']());}catch(_0x5c9cb9){_0x13c5cb['push'](_0x13c5cb['shift']());}}}(a122_0x4f0f,0x308d6));function a122_0x4f0f(){const _0xb7f97a=['158890LADEMp','./helper','116WIqYgc','EjRno','debug','Could\x20not\x20import\x20GrpcClient:\x20','WLDnx','__launchCaps','czrxn','message','bmbMq','No\x20modified\x20config\x20received\x20from\x20gRPC','463508LZFKez','4802zWAJKx','BROWSERSTACK_TESTHUB_UUID','workers','../bin/v2/browserstackCLI','tAeCV','jDgeR','neidQ','yZsbw','client','1564434ZSpMFC','platformCaps','config','swTZM','KjgTc','DWTVB','isPlaywrightAvailable','__platformCaps','ELXqC','length','70343YJnjnq','capabilities','../bin/utils/constants','framework','Converted\x20W3C\x20caps\x20to\x20JSONWire:\x20','__accessibilityOptions','generatePlaywrightUrl','getBrowserTypePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead','KUdGV','path','doJnK','XBwma','lGOlx','ylmrS','Error\x20getting\x20modified\x20config\x20from\x20gRPC:\x20','Requesting\x20modified\x20Playwright\x20config\x20from\x20gRPC\x20for\x20cucumberjs-pw','cucumberjs-pw','parse','aDJRl','oUrko','env','browserType.js','W3CMapping','getPlaywrightModulePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead','getInstance','Playwright\x20not\x20available:\x20','entries','GrpcClient\x20not\x20available,\x20skipping\x20modified\x20config\x20request','importFileFromPWCore','zevQa','wCgJG','Received\x20modified\x20config\x20from\x20gRPC:\x20','712880CZFkOZ','SEZzJ','Unable\x20to\x20merge\x20accessibility\x20capabilities\x20into\x20Playwright\x20URL\x20caps:\x20','browserstack.accessibilityOptions.authToken','coiSY','../bin/v2/grpcClient','3bwlalJ','setBrowserstackConfig','RzEpL','ZDSIJ','getModifiedConfigFromCLI','isArray','uePie','getPlaywrightConfig','setFrameworkDetail','winstonLogger','format','browserstack.accessibilityOptions.scannerVersion','hvStl','Error\x20getting\x20Playwright\x20BrowserType:\x20','projects','browserName','use','browserstack.testhubBuildUuid','No\x20usable\x20capabilities\x20found\x20in\x20modified\x20config\x20response','kxvGf','bootstrap','getBuildProductMap','BS_A11Y_JWT','FRAMEWORKS','../bin/v2/cliUtils','317624YmmmLa','\x20flow','88buRqvz','./w3cMapping','NDoRa','getPlaywrightUrl','TVdbd','playwrightConfigObject','dVAJT','error','./testhub/utils','lib','cliConfig','getPlaywrightBrowserType','getConfig','TcpcU','9ZyIAgh','stringify'];a122_0x4f0f=function(){return _0xb7f97a;};return a122_0x4f0f();}const path=require(a122_0x22b46c(0xc3)),util=require('util'),{importFileFromPWCore}=require(a122_0x22b46c(0x9b)),helper=require(a122_0x22b46c(0x9b)),logger=require('./logger')[a122_0x22b46c(0x78)],W3CMapping=require(a122_0x22b46c(0x8b))[a122_0x22b46c(0xd0)](),constants=require(a122_0x22b46c(0xbc)),BrowserstackCLI=require(a122_0x22b46c(0xaa)),CLIUtils=require(a122_0x22b46c(0x87));let GrpcClient;function a122_0x9abc(_0x3120ba,_0x20f39e){const _0x4f0f27=a122_0x4f0f();return a122_0x9abc=function(_0x9abc90,_0x6b3a67){_0x9abc90=_0x9abc90-0x6d;let _0x208ec5=_0x4f0f27[_0x9abc90];return _0x208ec5;},a122_0x9abc(_0x3120ba,_0x20f39e);}try{GrpcClient=require(a122_0x22b46c(0x6e));}catch(a122_0x2f4057){logger[a122_0x22b46c(0x9e)](a122_0x22b46c(0x9f)+a122_0x2f4057[a122_0x22b46c(0xa3)]),GrpcClient=null;}const convertW3CToJsonWire=_0x1e6f57=>{const _0x5e488d=a122_0x22b46c,_0x3ca928={};_0x3ca928[_0x5e488d(0x8e)]=function(_0x405ee4,_0x3625b7){return _0x405ee4||_0x3625b7;},_0x3ca928[_0x5e488d(0xb8)]=function(_0x1ce6fe,_0x37d19d){return _0x1ce6fe===_0x37d19d;},_0x3ca928[_0x5e488d(0x8c)]='bstack:options',_0x3ca928[_0x5e488d(0xa0)]=function(_0x5e80c8,_0x2ce420){return _0x5e80c8 in _0x2ce420;};const _0x3ffe7b=_0x3ca928,_0xebbb4e={};for(const [_0x52e2e5,_0x328d3e]of Object[_0x5e488d(0xd4)](_0x3ffe7b['TVdbd'](_0x1e6f57,{}))){if(_0x3ffe7b[_0x5e488d(0xb8)](_0x52e2e5,_0x3ffe7b[_0x5e488d(0x8c)]))continue;let _0x3af510=![];for(const [_0x28c4df,_0xabcbb5]of Object[_0x5e488d(0xd4)](W3CMapping)){if(_0x3ffe7b['ELXqC'](_0x52e2e5,_0xabcbb5)){_0xebbb4e[_0x28c4df]=_0x328d3e,_0x3af510=!![];break;}}!_0x3af510&&(_0xebbb4e[_0x52e2e5]=_0x328d3e);}const _0x1b72ee=_0x1e6f57[_0x3ffe7b[_0x5e488d(0x8c)]]||{};for(const [_0x46aa7d,_0x356da0]of Object['entries'](_0x1b72ee)){let _0x3b4bc5=![];for(const [_0x197f7d,_0x43b3d8]of Object[_0x5e488d(0xd4)](W3CMapping)){if(_0x3ffe7b[_0x5e488d(0xb8)](_0x46aa7d,_0x43b3d8)){_0xebbb4e[_0x197f7d]=_0x356da0,_0x3b4bc5=!![];break;}}!_0x3b4bc5&&!_0x3ffe7b[_0x5e488d(0xa0)](_0x46aa7d,_0xebbb4e)&&(_0xebbb4e[_0x46aa7d]=_0x356da0);}return logger[_0x5e488d(0x9e)](_0x5e488d(0xbe)+JSON[_0x5e488d(0x99)](_0xebbb4e)),_0xebbb4e;},getModifiedConfigFromCLI=async _0xb6d021=>{const _0x2d1c7=a122_0x22b46c,_0x789bda={};_0x789bda['yZsbw']=_0x2d1c7(0xd5),_0x789bda[_0x2d1c7(0xd8)]=_0x2d1c7(0xca),_0x789bda['SEZzJ']=_0x2d1c7(0xc9),_0x789bda[_0x2d1c7(0xcc)]=_0x2d1c7(0xa5),_0x789bda[_0x2d1c7(0x7b)]=function(_0x4985be,_0x52b553){return _0x4985be>_0x52b553;},_0x789bda['bmbMq']=function(_0x3758b1,_0x46f190){return _0x3758b1>_0x46f190;},_0x789bda[_0x2d1c7(0x97)]=_0x2d1c7(0x81);const _0x544e5e=_0x789bda;try{if(!GrpcClient)return logger[_0x2d1c7(0x9e)](_0x544e5e[_0x2d1c7(0xae)]),null;const _0x1bc4bf={};_0x1bc4bf[_0x2d1c7(0xbb)]=_0xb6d021,_0x1bc4bf[_0x2d1c7(0xbd)]=_0x544e5e['wCgJG'],_0x1bc4bf[_0x2d1c7(0xa9)]=0x1,_0x1bc4bf['projects']=[];const _0x30d11a=_0x1bc4bf;logger['debug'](_0x544e5e[_0x2d1c7(0xdb)]);const _0x5676d2={};_0x5676d2[_0x2d1c7(0x8f)]=_0x30d11a;const _0x1a6e08=await GrpcClient[_0x2d1c7(0xd2)]()[_0x2d1c7(0x76)](_0x5676d2);if(!_0x1a6e08[_0x2d1c7(0x96)]())return logger[_0x2d1c7(0x9e)](_0x544e5e[_0x2d1c7(0xcc)]),null;const _0x2cd6d7=JSON[_0x2d1c7(0xcb)](_0x1a6e08[_0x2d1c7(0x96)]());logger[_0x2d1c7(0x9e)](_0x2d1c7(0xd9)+JSON[_0x2d1c7(0x99)](_0x2cd6d7));if(_0x2cd6d7[_0x2d1c7(0xbb)]&&Array[_0x2d1c7(0x74)](_0x2cd6d7[_0x2d1c7(0xbb)])&&_0x544e5e[_0x2d1c7(0x7b)](_0x2cd6d7[_0x2d1c7(0xbb)][_0x2d1c7(0xb9)],0x0))return _0x2cd6d7[_0x2d1c7(0xbb)][0x0];else{if(_0x2cd6d7[_0x2d1c7(0x7d)]&&Array[_0x2d1c7(0x74)](_0x2cd6d7[_0x2d1c7(0x7d)])&&_0x544e5e[_0x2d1c7(0xa4)](_0x2cd6d7[_0x2d1c7(0x7d)][_0x2d1c7(0xb9)],0x0)){const _0x48790d=_0x2cd6d7[_0x2d1c7(0x7d)][0x0];if(_0x48790d[_0x2d1c7(0x7f)]&&_0x48790d[_0x2d1c7(0x7f)][_0x2d1c7(0xb1)])return _0x48790d['use']['platformCaps'];}}return logger[_0x2d1c7(0x9e)](_0x544e5e['TcpcU']),null;}catch(_0x3c9ae0){logger[_0x2d1c7(0x91)](_0x2d1c7(0xc8)+_0x3c9ae0[_0x2d1c7(0xa3)]);throw _0x3c9ae0;}},generatePlaywrightUrl=(_0x5ab61d,_0x1b8aa8)=>{const _0x3116b1=a122_0x22b46c,_0xbb8ec4={'uePie':function(_0x16d8fe,_0x2c2a20){return _0x16d8fe!==_0x2c2a20;},'ABivQ':function(_0x462401,_0x34a245){return _0x462401!==_0x34a245;},'jDgeR':function(_0x299362,_0x3359e4){return _0x299362!==_0x3359e4;},'neidQ':function(_0x25f2ee,_0x4bfd9e){return _0x25f2ee(_0x4bfd9e);},'zevQa':function(_0x17b82c,_0x1ec363){return _0x17b82c||_0x1ec363;},'dVAJT':_0x3116b1(0xdd),'bBjXp':'browserstack.accessibilityOptions.wcagVersion','oUrko':function(_0x1374d2,_0x23b9e0){return _0x1374d2(_0x23b9e0);},'tAeCV':_0x3116b1(0x7a),'QOVaU':'browserstack.accessibilityOptions.scannerProcessingTimeout','SHryN':_0x3116b1(0x80),'ylmrS':'browserstack.buildProductMap','KUdGV':function(_0x3df773,_0x28422f){return _0x3df773+_0x28422f;}},_0x21caed=helper[_0x3116b1(0x8d)](_0x5ab61d),_0x416c6c=_0xbb8ec4[_0x3116b1(0xad)](convertW3CToJsonWire,_0x1b8aa8);try{const _0x2af516=[_0xbb8ec4[_0x3116b1(0xd7)](_0x1b8aa8,{}),global[_0x3116b1(0xa1)]||{},global[_0x3116b1(0xb7)]||{},global[_0x3116b1(0xbf)]||{}],_0x14c2d0=_0x1bfda5=>{const _0x3a9c3c=_0x3116b1;if(_0xbb8ec4['uePie'](_0x416c6c[_0x1bfda5],undefined)&&_0xbb8ec4['ABivQ'](_0x416c6c[_0x1bfda5],null)&&_0xbb8ec4[_0x3a9c3c(0x75)](_0x416c6c[_0x1bfda5],''))return;for(const _0x4201b2 of _0x2af516){if(_0x4201b2&&_0xbb8ec4['jDgeR'](_0x4201b2[_0x1bfda5],undefined)&&_0xbb8ec4[_0x3a9c3c(0x75)](_0x4201b2[_0x1bfda5],null)&&_0xbb8ec4[_0x3a9c3c(0xac)](_0x4201b2[_0x1bfda5],'')){_0x416c6c[_0x1bfda5]=_0x4201b2[_0x1bfda5];return;}}};_0xbb8ec4[_0x3116b1(0xad)](_0x14c2d0,_0xbb8ec4[_0x3116b1(0x90)]),_0xbb8ec4['neidQ'](_0x14c2d0,_0xbb8ec4['bBjXp']),_0xbb8ec4[_0x3116b1(0xcd)](_0x14c2d0,_0xbb8ec4[_0x3116b1(0xab)]),_0xbb8ec4[_0x3116b1(0xad)](_0x14c2d0,_0xbb8ec4['QOVaU']),!_0x416c6c[_0xbb8ec4['dVAJT']]&&process[_0x3116b1(0xce)][_0x3116b1(0x85)]&&(_0x416c6c[_0xbb8ec4[_0x3116b1(0x90)]]=process['env'][_0x3116b1(0x85)]);}catch(_0x4ef76e){logger['debug'](_0x3116b1(0xdc)+util[_0x3116b1(0x79)](_0x4ef76e));}return _0x416c6c[_0xbb8ec4['SHryN']]=process[_0x3116b1(0xce)][_0x3116b1(0xa8)],_0x416c6c[_0xbb8ec4[_0x3116b1(0xc7)]]=helper[_0x3116b1(0x84)](),_0xbb8ec4[_0x3116b1(0xc2)](_0x21caed,_0xbb8ec4[_0x3116b1(0xcd)](encodeURIComponent,JSON[_0x3116b1(0x99)](_0x416c6c)));},getBrowserFromCaps=_0x42c9dc=>{const _0x106fbe=a122_0x22b46c,_0x5a4c21={};_0x5a4c21['EjRno']='chrome';const _0x56f4e5=_0x5a4c21;return _0x42c9dc[_0x106fbe(0x7e)]||_0x42c9dc['browser']||_0x56f4e5[_0x106fbe(0x9d)];},isPlaywrightAvailable=()=>{const _0x5f58b0=a122_0x22b46c,_0x33b712={'coiSY':'lib','kxvGf':_0x5f58b0(0xaf),'qTdFw':_0x5f58b0(0xcf),'ZDSIJ':function(_0x13a554,_0x2098d8){return _0x13a554(_0x2098d8);}};try{const _0x29fbd9=path['join'](_0x33b712[_0x5f58b0(0x6d)],_0x33b712[_0x5f58b0(0x82)],_0x33b712['qTdFw']),_0x5e32c8=_0x33b712[_0x5f58b0(0x72)](importFileFromPWCore,_0x29fbd9);return!!_0x5e32c8;}catch(_0x2f70f3){return logger[_0x5f58b0(0x9e)](_0x5f58b0(0xd3)+util[_0x5f58b0(0x79)](_0x2f70f3)),![];}},getPlaywrightBrowserType=()=>{const _0x57cfe5=a122_0x22b46c,_0xd8cbbd={'XBwma':_0x57cfe5(0x93),'czrxn':'client','lGOlx':_0x57cfe5(0xcf),'KjgTc':function(_0x514d7c,_0x5cef44){return _0x514d7c(_0x5cef44);}};try{const _0x404773=path['join'](_0xd8cbbd[_0x57cfe5(0xc5)],_0xd8cbbd[_0x57cfe5(0xa2)],_0xd8cbbd[_0x57cfe5(0xc6)]),_0x51cba4=_0xd8cbbd[_0x57cfe5(0xb4)](importFileFromPWCore,_0x404773);return _0x51cba4?_0x51cba4['BrowserType']:null;}catch(_0x4bb760){return logger[_0x57cfe5(0x9e)](_0x57cfe5(0x7c)+util['format'](_0x4bb760)),null;}},getPlaywrightModulePath=()=>{const _0xafd1e1=a122_0x22b46c,_0x478829={};_0x478829[_0xafd1e1(0xb5)]=_0xafd1e1(0xd1);const _0x6d433c=_0x478829;return logger[_0xafd1e1(0x9e)](_0x6d433c[_0xafd1e1(0xb5)]),null;},getBrowserTypePath=()=>{const _0x4cccb9=a122_0x22b46c,_0x4be3ff={};_0x4be3ff[_0x4cccb9(0xb3)]=_0x4cccb9(0xc1);const _0x5c0c2e=_0x4be3ff;return logger[_0x4cccb9(0x9e)](_0x5c0c2e[_0x4cccb9(0xb3)]),null;},checkPwandBootstrapCli=async(_0x7dcf57,_0x8494a4,_0x30a1e0)=>{const _0x4f879a=a122_0x22b46c,_0x513743={'RzEpL':function(_0x15886c,_0xfd5e3c){return _0x15886c(_0xfd5e3c);},'doJnK':_0x4f879a(0x92),'dPxXO':function(_0x58b6d4,_0x5cc9ca){return _0x58b6d4(_0x5cc9ca);}};if(_0x7dcf57){const _0x3e9e90=constants[_0x4f879a(0x86)]['PLAYWRIGHT'];logger[_0x4f879a(0x9e)]('Detected\x20Playwright\x20version\x20'+_0x7dcf57+'\x20for\x20'+_0x8494a4+_0x4f879a(0x89)),CLIUtils[_0x4f879a(0x77)](_0x8494a4,_0x3e9e90);const {getProductMap:_0x381d1d}=_0x513743[_0x4f879a(0x71)](require,_0x513743[_0x4f879a(0xc4)]);process[_0x4f879a(0xce)]['BROWSERSTACK_PRODUCT_MAP']=JSON[_0x4f879a(0x99)](_0x513743['dPxXO'](_0x381d1d,_0x30a1e0[_0x4f879a(0xb2)])),BrowserstackCLI[_0x4f879a(0xd2)]()[_0x4f879a(0x70)](_0x30a1e0[_0x4f879a(0xb2)],_0x30a1e0['configPath'],_0x30a1e0[_0x4f879a(0x94)]),await BrowserstackCLI[_0x4f879a(0xd2)]()[_0x4f879a(0x83)]();}},a122_0x40ab1a={};a122_0x40ab1a['convertW3CToJsonWire']=convertW3CToJsonWire,a122_0x40ab1a[a122_0x22b46c(0x73)]=getModifiedConfigFromCLI,a122_0x40ab1a[a122_0x22b46c(0xc0)]=generatePlaywrightUrl,a122_0x40ab1a['getBrowserFromCaps']=getBrowserFromCaps,a122_0x40ab1a[a122_0x22b46c(0xb6)]=isPlaywrightAvailable,a122_0x40ab1a[a122_0x22b46c(0x95)]=getPlaywrightBrowserType,a122_0x40ab1a['getPlaywrightModulePath']=getPlaywrightModulePath,a122_0x40ab1a['getBrowserTypePath']=getBrowserTypePath,a122_0x40ab1a[a122_0x22b46c(0xd6)]=importFileFromPWCore,a122_0x40ab1a['checkPwandBootstrapCli']=checkPwandBootstrapCli,module['exports']=a122_0x40ab1a;