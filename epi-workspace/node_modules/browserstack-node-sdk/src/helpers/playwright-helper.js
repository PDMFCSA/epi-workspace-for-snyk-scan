const a118_0x3c1e70=a118_0x3d6a;function a118_0x3d6a(_0x3ab585,_0x484646){const _0x35483b=a118_0x3548();return a118_0x3d6a=function(_0x3d6aec,_0x1a73ed){_0x3d6aec=_0x3d6aec-0x197;let _0x2187c8=_0x35483b[_0x3d6aec];return _0x2187c8;},a118_0x3d6a(_0x3ab585,_0x484646);}(function(_0x5457bc,_0x5b693c){const _0x150ef8=a118_0x3d6a,_0x54806a=_0x5457bc();while(!![]){try{const _0x360b2e=parseInt(_0x150ef8(0x20c))/0x1*(-parseInt(_0x150ef8(0x1a3))/0x2)+-parseInt(_0x150ef8(0x1a2))/0x3*(parseInt(_0x150ef8(0x197))/0x4)+parseInt(_0x150ef8(0x1d1))/0x5+parseInt(_0x150ef8(0x1bc))/0x6*(-parseInt(_0x150ef8(0x1b4))/0x7)+-parseInt(_0x150ef8(0x1fa))/0x8*(-parseInt(_0x150ef8(0x198))/0x9)+parseInt(_0x150ef8(0x203))/0xa+parseInt(_0x150ef8(0x207))/0xb*(-parseInt(_0x150ef8(0x1c4))/0xc);if(_0x360b2e===_0x5b693c)break;else _0x54806a['push'](_0x54806a['shift']());}catch(_0x315aba){_0x54806a['push'](_0x54806a['shift']());}}}(a118_0x3548,0x3a844));const path=require(a118_0x3c1e70(0x1d7)),util=require(a118_0x3c1e70(0x1f9)),{importFileFromPWCore}=require(a118_0x3c1e70(0x1ba)),helper=require(a118_0x3c1e70(0x1ba)),logger=require(a118_0x3c1e70(0x1e5))['winstonLogger'],W3CMapping=require(a118_0x3c1e70(0x1ff))[a118_0x3c1e70(0x1ae)](),constants=require('../bin/utils/constants'),BrowserstackCLI=require(a118_0x3c1e70(0x1cb)),CLIUtils=require(a118_0x3c1e70(0x20a));let GrpcClient;try{GrpcClient=require('../bin/v2/grpcClient');}catch(a118_0x3e48b4){logger[a118_0x3c1e70(0x1b1)](a118_0x3c1e70(0x1dd)+a118_0x3e48b4[a118_0x3c1e70(0x1f7)]),GrpcClient=null;}const convertW3CToJsonWire=_0x21ffe9=>{const _0x2b8ab6=a118_0x3c1e70,_0x1010a7={};_0x1010a7['ABdLk']=function(_0xece1d1,_0x555ab2){return _0xece1d1||_0x555ab2;},_0x1010a7[_0x2b8ab6(0x1c8)]=function(_0x225071,_0x4e277e){return _0x225071===_0x4e277e;},_0x1010a7[_0x2b8ab6(0x201)]=_0x2b8ab6(0x1fe),_0x1010a7[_0x2b8ab6(0x1c9)]=function(_0x2c512f,_0x180843){return _0x2c512f===_0x180843;},_0x1010a7[_0x2b8ab6(0x1eb)]=function(_0xf46a2d,_0x32395b){return _0xf46a2d===_0x32395b;},_0x1010a7['xVPth']=function(_0x2f2fd1,_0x5ac7e6){return _0x2f2fd1 in _0x5ac7e6;};const _0x780b9d=_0x1010a7,_0xadff66={};for(const [_0x2e5a13,_0x2bdbd1]of Object['entries'](_0x780b9d[_0x2b8ab6(0x1e0)](_0x21ffe9,{}))){if(_0x780b9d['jbopH'](_0x2e5a13,_0x780b9d['vlQrQ']))continue;let _0x1af848=![];for(const [_0x4ab90f,_0x25854f]of Object[_0x2b8ab6(0x1ea)](W3CMapping)){if(_0x780b9d['tnvZA'](_0x2e5a13,_0x25854f)){_0xadff66[_0x4ab90f]=_0x2bdbd1,_0x1af848=!![];break;}}!_0x1af848&&(_0xadff66[_0x2e5a13]=_0x2bdbd1);}const _0x20b701=_0x21ffe9[_0x780b9d[_0x2b8ab6(0x201)]]||{};for(const [_0x5e2610,_0x51c9c9]of Object[_0x2b8ab6(0x1ea)](_0x20b701)){let _0x5bd28b=![];for(const [_0x590cca,_0x1a9599]of Object[_0x2b8ab6(0x1ea)](W3CMapping)){if(_0x780b9d['anmEq'](_0x5e2610,_0x1a9599)){_0xadff66[_0x590cca]=_0x51c9c9,_0x5bd28b=!![];break;}}!_0x5bd28b&&!_0x780b9d[_0x2b8ab6(0x1f6)](_0x5e2610,_0xadff66)&&(_0xadff66[_0x5e2610]=_0x51c9c9);}return logger[_0x2b8ab6(0x1b1)](_0x2b8ab6(0x1ef)+JSON[_0x2b8ab6(0x1ca)](_0xadff66)),_0xadff66;},getModifiedConfigFromCLI=async _0x54eca5=>{const _0x306a48=a118_0x3c1e70,_0xe0fb4d={};_0xe0fb4d['amkEa']=_0x306a48(0x1e7),_0xe0fb4d[_0x306a48(0x1e8)]=_0x306a48(0x19f),_0xe0fb4d['UbwqV']='Requesting\x20modified\x20Playwright\x20config\x20from\x20gRPC\x20for\x20cucumberjs-pw',_0xe0fb4d[_0x306a48(0x1a5)]=_0x306a48(0x19c),_0xe0fb4d[_0x306a48(0x1d3)]=function(_0x1cb71d,_0x3eaf90){return _0x1cb71d>_0x3eaf90;},_0xe0fb4d['ctqlF']=function(_0x43792c,_0x16de74){return _0x43792c>_0x16de74;},_0xe0fb4d[_0x306a48(0x1ce)]='No\x20usable\x20capabilities\x20found\x20in\x20modified\x20config\x20response';const _0x19eff6=_0xe0fb4d;try{if(!GrpcClient)return logger[_0x306a48(0x1b1)](_0x19eff6[_0x306a48(0x1d9)]),null;const _0x470bef={};_0x470bef[_0x306a48(0x199)]=_0x54eca5,_0x470bef['framework']=_0x19eff6[_0x306a48(0x1e8)],_0x470bef[_0x306a48(0x20b)]=0x1,_0x470bef[_0x306a48(0x1dc)]=[];const _0x185b9b=_0x470bef;logger['debug'](_0x19eff6[_0x306a48(0x1f0)]);const _0x287b71={};_0x287b71[_0x306a48(0x1f2)]=_0x185b9b;const _0x1f64a2=await GrpcClient[_0x306a48(0x1d2)]()['getPlaywrightConfig'](_0x287b71);if(!_0x1f64a2[_0x306a48(0x1a0)]())return logger[_0x306a48(0x1b1)](_0x19eff6[_0x306a48(0x1a5)]),null;const _0x50bdd9=JSON[_0x306a48(0x1f3)](_0x1f64a2[_0x306a48(0x1a0)]());logger[_0x306a48(0x1b1)]('Received\x20modified\x20config\x20from\x20gRPC:\x20'+JSON[_0x306a48(0x1ca)](_0x50bdd9));if(_0x50bdd9['capabilities']&&Array[_0x306a48(0x1c2)](_0x50bdd9[_0x306a48(0x199)])&&_0x19eff6[_0x306a48(0x1d3)](_0x50bdd9['capabilities'][_0x306a48(0x1a6)],0x0))return _0x50bdd9[_0x306a48(0x199)][0x0];else{if(_0x50bdd9[_0x306a48(0x1dc)]&&Array[_0x306a48(0x1c2)](_0x50bdd9[_0x306a48(0x1dc)])&&_0x19eff6[_0x306a48(0x19e)](_0x50bdd9[_0x306a48(0x1dc)][_0x306a48(0x1a6)],0x0)){const _0x2f7504=_0x50bdd9['projects'][0x0];if(_0x2f7504[_0x306a48(0x1e1)]&&_0x2f7504[_0x306a48(0x1e1)][_0x306a48(0x1e2)])return _0x2f7504['use'][_0x306a48(0x1e2)];}}return logger[_0x306a48(0x1b1)](_0x19eff6[_0x306a48(0x1ce)]),null;}catch(_0x218e93){logger[_0x306a48(0x1e9)](_0x306a48(0x1cd)+_0x218e93[_0x306a48(0x1f7)]);throw _0x218e93;}},generatePlaywrightUrl=(_0x2d01f2,_0x4c00ed)=>{const _0x4fef72=a118_0x3c1e70,_0x2a8987={'SIohO':function(_0x375c39,_0x42e499){return _0x375c39!==_0x42e499;},'PfVbT':function(_0x5dec4a,_0xbe6c51){return _0x5dec4a!==_0xbe6c51;},'GPOtf':function(_0x5e4e02,_0x3b81ae){return _0x5e4e02!==_0x3b81ae;},'tLrsF':function(_0x3db2c8,_0x404682){return _0x3db2c8!==_0x404682;},'ttYXf':function(_0x58d7ba,_0x4fd1f8){return _0x58d7ba!==_0x4fd1f8;},'GazzD':function(_0x262acc,_0x11e505){return _0x262acc!==_0x11e505;},'TgEnH':function(_0x53fbc6,_0x75f7b8){return _0x53fbc6(_0x75f7b8);},'YzlWr':function(_0x549be5,_0x2f814e){return _0x549be5||_0x2f814e;},'yeMkj':_0x4fef72(0x20d),'vlcvF':'browserstack.accessibilityOptions.wcagVersion','CSaXI':_0x4fef72(0x1b5),'vrHBE':_0x4fef72(0x205),'goEkY':'browserstack.testhubBuildUuid','Xkaue':'browserstack.buildProductMap','xXBRr':function(_0x54124e,_0x153dcb){return _0x54124e+_0x153dcb;}},_0x5cfb34=helper[_0x4fef72(0x1c7)](_0x2d01f2),_0x349dee=_0x2a8987[_0x4fef72(0x1fc)](convertW3CToJsonWire,_0x4c00ed);try{const _0x2cd692=[_0x2a8987[_0x4fef72(0x1d5)](_0x4c00ed,{}),global[_0x4fef72(0x1b6)]||{},global['__platformCaps']||{},global['__accessibilityOptions']||{}],_0x51ec45=_0x4651b5=>{const _0x4886cd=_0x4fef72;if(_0x2a8987[_0x4886cd(0x1db)](_0x349dee[_0x4651b5],undefined)&&_0x2a8987['PfVbT'](_0x349dee[_0x4651b5],null)&&_0x2a8987[_0x4886cd(0x20e)](_0x349dee[_0x4651b5],''))return;for(const _0x56e94e of _0x2cd692){if(_0x56e94e&&_0x2a8987[_0x4886cd(0x1b3)](_0x56e94e[_0x4651b5],undefined)&&_0x2a8987['ttYXf'](_0x56e94e[_0x4651b5],null)&&_0x2a8987['GazzD'](_0x56e94e[_0x4651b5],'')){_0x349dee[_0x4651b5]=_0x56e94e[_0x4651b5];return;}}};_0x2a8987[_0x4fef72(0x1fc)](_0x51ec45,_0x2a8987[_0x4fef72(0x19d)]),_0x2a8987['TgEnH'](_0x51ec45,_0x2a8987[_0x4fef72(0x1a7)]),_0x2a8987[_0x4fef72(0x1fc)](_0x51ec45,_0x2a8987[_0x4fef72(0x202)]),_0x2a8987[_0x4fef72(0x1fc)](_0x51ec45,_0x2a8987['vrHBE']),!_0x349dee[_0x2a8987[_0x4fef72(0x19d)]]&&process[_0x4fef72(0x1b0)][_0x4fef72(0x1f1)]&&(_0x349dee[_0x2a8987['yeMkj']]=process['env'][_0x4fef72(0x1f1)]);}catch(_0x5db08d){logger['debug'](_0x4fef72(0x1b8)+util['format'](_0x5db08d));}return _0x349dee[_0x2a8987[_0x4fef72(0x1fd)]]=process['env'][_0x4fef72(0x1e4)],_0x349dee[_0x2a8987['Xkaue']]=helper[_0x4fef72(0x1d0)](),_0x2a8987[_0x4fef72(0x208)](_0x5cfb34,_0x2a8987[_0x4fef72(0x1fc)](encodeURIComponent,JSON[_0x4fef72(0x1ca)](_0x349dee)));},getBrowserFromCaps=_0x1b6725=>{const _0x265dbb=a118_0x3c1e70,_0x33144d={};_0x33144d['DxNjJ']='chrome';const _0x591c28=_0x33144d;return _0x1b6725[_0x265dbb(0x1d6)]||_0x1b6725['browser']||_0x591c28[_0x265dbb(0x1c5)];},isPlaywrightAvailable=()=>{const _0x1def7c=a118_0x3c1e70,_0x4d6e66={'PtQxU':'lib','OKAKD':_0x1def7c(0x1e3),'LOMHH':_0x1def7c(0x1bb),'QzPSl':function(_0x20877b,_0xe9bc79){return _0x20877b(_0xe9bc79);}};try{const _0x3e7b47=path[_0x1def7c(0x1d4)](_0x4d6e66[_0x1def7c(0x1c1)],_0x4d6e66[_0x1def7c(0x1ab)],_0x4d6e66[_0x1def7c(0x1c0)]),_0x45c230=_0x4d6e66[_0x1def7c(0x1d8)](importFileFromPWCore,_0x3e7b47);return!!_0x45c230;}catch(_0x160182){return logger[_0x1def7c(0x1b1)](_0x1def7c(0x1b7)+util['format'](_0x160182)),![];}},getPlaywrightBrowserType=()=>{const _0x5023f1=a118_0x3c1e70,_0x3c8c5e={'XdLvY':'lib','hvdat':_0x5023f1(0x1e3),'UNuVY':'browserType.js','ooVnh':function(_0x530ba3,_0x4fb174){return _0x530ba3(_0x4fb174);}};try{const _0x47c9fa=path[_0x5023f1(0x1d4)](_0x3c8c5e[_0x5023f1(0x1ee)],_0x3c8c5e[_0x5023f1(0x1de)],_0x3c8c5e[_0x5023f1(0x1cc)]),_0xb8bc1=_0x3c8c5e[_0x5023f1(0x1b9)](importFileFromPWCore,_0x47c9fa);return _0xb8bc1?_0xb8bc1[_0x5023f1(0x1a9)]:null;}catch(_0xef191e){return logger[_0x5023f1(0x1b1)](_0x5023f1(0x1b2)+util[_0x5023f1(0x1e6)](_0xef191e)),null;}},getPlaywrightModulePath=()=>{const _0x5bb3c1=a118_0x3c1e70,_0x20b6d3={};_0x20b6d3['LzbBD']=_0x5bb3c1(0x1bf);const _0x5a8f3e=_0x20b6d3;return logger['debug'](_0x5a8f3e[_0x5bb3c1(0x1da)]),null;},getBrowserTypePath=()=>{const _0x3ee642=a118_0x3c1e70,_0x16abf2={};_0x16abf2['CTlTS']=_0x3ee642(0x1f5);const _0x4942dc=_0x16abf2;return logger[_0x3ee642(0x1b1)](_0x4942dc[_0x3ee642(0x1c6)]),null;},checkPwandBootstrapCli=async(_0x596a93,_0x4802df,_0x27b5e3)=>{const _0x2771d8=a118_0x3c1e70,_0x27c9b6={'uMRur':function(_0x5cf4c5,_0x16f561){return _0x5cf4c5(_0x16f561);},'oHvCA':_0x2771d8(0x1ad),'LDQgz':function(_0x2bf457,_0x3c46d1){return _0x2bf457(_0x3c46d1);}};if(_0x596a93){const _0x415797=constants[_0x2771d8(0x1a4)][_0x2771d8(0x1cf)];logger[_0x2771d8(0x1b1)](_0x2771d8(0x1c3)+_0x596a93+'\x20for\x20'+_0x4802df+_0x2771d8(0x1ec)),CLIUtils[_0x2771d8(0x204)](_0x4802df,_0x415797);const {getProductMap:_0x53c829}=_0x27c9b6['uMRur'](require,_0x27c9b6[_0x2771d8(0x1fb)]);process['env'][_0x2771d8(0x1df)]=JSON[_0x2771d8(0x1ca)](_0x27c9b6[_0x2771d8(0x19a)](_0x53c829,_0x27b5e3[_0x2771d8(0x1af)])),BrowserstackCLI['getInstance']()[_0x2771d8(0x200)](_0x27b5e3[_0x2771d8(0x1af)],_0x27b5e3[_0x2771d8(0x1ed)]),await BrowserstackCLI['getInstance']()[_0x2771d8(0x206)]();}},a118_0x17b81c={};function a118_0x3548(){const _0x1a4414=['LOMHH','PtQxU','isArray','Detected\x20Playwright\x20version\x20','2115948gpuTLt','DxNjJ','CTlTS','getPlaywrightUrl','jbopH','tnvZA','stringify','../bin/v2/browserstackCLI','UNuVY','Error\x20getting\x20modified\x20config\x20from\x20gRPC:\x20','aReBC','PLAYWRIGHT','getBuildProductMap','2175125LYlxoy','getInstance','wfxIQ','join','YzlWr','browserName','path','QzPSl','amkEa','LzbBD','SIohO','projects','Could\x20not\x20import\x20GrpcClient:\x20','hvdat','BROWSERSTACK_PRODUCT_MAP','ABdLk','use','platformCaps','client','BROWSERSTACK_TESTHUB_UUID','./logger','format','GrpcClient\x20not\x20available,\x20skipping\x20modified\x20config\x20request','WOEcK','error','entries','anmEq','\x20flow','cliConfig','XdLvY','Converted\x20W3C\x20caps\x20to\x20JSONWire:\x20','UbwqV','BS_A11Y_JWT','playwrightConfigObject','parse','generatePlaywrightUrl','getBrowserTypePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead','xVPth','message','exports','util','152fgAJzu','oHvCA','TgEnH','goEkY','bstack:options','./w3cMapping','setBrowserstackConfig','vlQrQ','CSaXI','558850XFLGkw','setFrameworkDetail','browserstack.accessibilityOptions.scannerProcessingTimeout','bootstrap','11eJDgiJ','xXBRr','getPlaywrightModulePath','../bin/v2/cliUtils','workers','17378BSIUNu','browserstack.accessibilityOptions.authToken','GPOtf','450200QCtcmV','196983nnSkrT','capabilities','LDQgz','isPlaywrightAvailable','No\x20modified\x20config\x20received\x20from\x20gRPC','yeMkj','ctqlF','cucumberjs-pw','getConfig','getBrowserFromCaps','3ybaSzq','12qaejtQ','FRAMEWORKS','FCzTB','length','vlcvF','getPlaywrightBrowserType','BrowserType','getBrowserTypePath','OKAKD','getModifiedConfigFromCLI','./testhub/utils','W3CMapping','config','env','debug','Error\x20getting\x20Playwright\x20BrowserType:\x20','tLrsF','7NuJZon','browserstack.accessibilityOptions.scannerVersion','__launchCaps','Playwright\x20not\x20available:\x20','Unable\x20to\x20merge\x20accessibility\x20capabilities\x20into\x20Playwright\x20URL\x20caps:\x20','ooVnh','./helper','browserType.js','1643592KiAkYO','checkPwandBootstrapCli','importFileFromPWCore','getPlaywrightModulePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead'];a118_0x3548=function(){return _0x1a4414;};return a118_0x3548();}a118_0x17b81c['convertW3CToJsonWire']=convertW3CToJsonWire,a118_0x17b81c[a118_0x3c1e70(0x1ac)]=getModifiedConfigFromCLI,a118_0x17b81c[a118_0x3c1e70(0x1f4)]=generatePlaywrightUrl,a118_0x17b81c[a118_0x3c1e70(0x1a1)]=getBrowserFromCaps,a118_0x17b81c[a118_0x3c1e70(0x19b)]=isPlaywrightAvailable,a118_0x17b81c[a118_0x3c1e70(0x1a8)]=getPlaywrightBrowserType,a118_0x17b81c[a118_0x3c1e70(0x209)]=getPlaywrightModulePath,a118_0x17b81c[a118_0x3c1e70(0x1aa)]=getBrowserTypePath,a118_0x17b81c[a118_0x3c1e70(0x1be)]=importFileFromPWCore,a118_0x17b81c[a118_0x3c1e70(0x1bd)]=checkPwandBootstrapCli,module[a118_0x3c1e70(0x1f8)]=a118_0x17b81c;