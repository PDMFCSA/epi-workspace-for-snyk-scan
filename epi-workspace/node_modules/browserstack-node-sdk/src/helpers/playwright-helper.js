const a122_0x91ce68=a122_0x162c;(function(_0x281c3b,_0x1c0dce){const _0x16d8dd=a122_0x162c,_0x2786f5=_0x281c3b();while(!![]){try{const _0x32dd1e=-parseInt(_0x16d8dd(0x21a))/0x1+parseInt(_0x16d8dd(0x1ee))/0x2+parseInt(_0x16d8dd(0x204))/0x3+-parseInt(_0x16d8dd(0x205))/0x4+-parseInt(_0x16d8dd(0x24e))/0x5+-parseInt(_0x16d8dd(0x23c))/0x6*(-parseInt(_0x16d8dd(0x232))/0x7)+-parseInt(_0x16d8dd(0x236))/0x8*(-parseInt(_0x16d8dd(0x244))/0x9);if(_0x32dd1e===_0x1c0dce)break;else _0x2786f5['push'](_0x2786f5['shift']());}catch(_0x11b5ed){_0x2786f5['push'](_0x2786f5['shift']());}}}(a122_0x5f64,0x39993));const path=require('path'),util=require(a122_0x91ce68(0x200)),{importFileFromPWCore}=require('./helper'),helper=require(a122_0x91ce68(0x219)),logger=require(a122_0x91ce68(0x227))[a122_0x91ce68(0x212)],W3CMapping=require(a122_0x91ce68(0x221))['W3CMapping'](),constants=require(a122_0x91ce68(0x211)),BrowserstackCLI=require(a122_0x91ce68(0x218)),CLIUtils=require(a122_0x91ce68(0x1fe));function a122_0x162c(_0x29ae8d,_0x4c2db0){const _0x5f64eb=a122_0x5f64();return a122_0x162c=function(_0x162c8f,_0x473d8f){_0x162c8f=_0x162c8f-0x1eb;let _0x5222e5=_0x5f64eb[_0x162c8f];return _0x5222e5;},a122_0x162c(_0x29ae8d,_0x4c2db0);}function a122_0x5f64(){const _0x77b318=['IbfKu','setFrameworkDetail','BopQI','eSVWE','convertW3CToJsonWire','browserType.js','grwMo','getBrowserTypePath','debug','BTaxb','Detected\x20Playwright\x20version\x20','bAWbE','browserstack.accessibilityOptions.scannerVersion','capabilities','sjhvz','../bin/v2/cliUtils','GqgLT','util','UOooR','stringify','importFileFromPWCore','235452gRKulp','865364JNQcGY','rwVjq','format','env','zBXFY','BROWSERSTACK_TESTHUB_UUID','TThEK','config','zdxLI','tTmGH','__accessibilityOptions','platformCaps','../bin/utils/constants','winstonLogger','RZeNA','framework','rwEMA','checkPwandBootstrapCli','../bin/v2/grpcClient','../bin/v2/browserstackCLI','./helper','10772zbWjlS','homFT','message','dzSro','cucumberjs-pw','browserstack.testhubBuildUuid','jHrjU','./w3cMapping','sGHwk','getInstance','length','\x20for\x20','__platformCaps','./logger','entries','getConfig','SsiqV','Could\x20not\x20import\x20GrpcClient:\x20','./testhub/utils','xppsS','MwArT','browserstack.accessibilityOptions.authToken','getPlaywrightConfig','browser','5803ZoTKQh','getPlaywrightBrowserType','browserstack.accessibilityOptions.scannerProcessingTimeout','PxjZY','232PhwMvU','error','getPlaywrightUrl','BS_A11Y_JWT','projects','join','1386tJPxeh','CGzcC','FdXjh','use','__launchCaps','\x20flow','generatePlaywrightUrl','Error\x20getting\x20modified\x20config\x20from\x20gRPC:\x20','106821BaefAf','getModifiedConfigFromCLI','exports','cliConfig','hXQWO','bPTAy','NLaec','Xbazu','GtCDb','No\x20modified\x20config\x20received\x20from\x20gRPC','1512325yNtKME','playwrightConfigObject','client','Received\x20modified\x20config\x20from\x20gRPC:\x20','YJqtX','isArray','workers','wTzwT','parse','bstack:options','isPlaywrightAvailable','glTtb','setBrowserstackConfig','getPlaywrightModulePath','302634eBlBBD'];a122_0x5f64=function(){return _0x77b318;};return a122_0x5f64();}let GrpcClient;try{GrpcClient=require(a122_0x91ce68(0x217));}catch(a122_0x5e266b){logger[a122_0x91ce68(0x1f7)](a122_0x91ce68(0x22b)+a122_0x5e266b[a122_0x91ce68(0x21c)]),GrpcClient=null;}const convertW3CToJsonWire=_0x27fdf0=>{const _0x2a2f15=a122_0x91ce68,_0x765c44={};_0x765c44[_0x2a2f15(0x235)]=function(_0x4f92cc,_0x4325fc){return _0x4f92cc||_0x4325fc;},_0x765c44[_0x2a2f15(0x1f5)]=function(_0x45cecd,_0x4f5f5a){return _0x45cecd===_0x4f5f5a;},_0x765c44[_0x2a2f15(0x1fa)]=_0x2a2f15(0x257),_0x765c44[_0x2a2f15(0x24b)]=function(_0x5e0825,_0x20dfa5){return _0x5e0825===_0x20dfa5;},_0x765c44['bPTAy']=function(_0x5b9037,_0x2335bc){return _0x5b9037 in _0x2335bc;};const _0x4a823a=_0x765c44,_0x2c954f={};for(const [_0x5c744f,_0x28851d]of Object[_0x2a2f15(0x228)](_0x4a823a['PxjZY'](_0x27fdf0,{}))){if(_0x4a823a['grwMo'](_0x5c744f,_0x4a823a[_0x2a2f15(0x1fa)]))continue;let _0x316fae=![];for(const [_0x2d2d9a,_0x208732]of Object[_0x2a2f15(0x228)](W3CMapping)){if(_0x4a823a[_0x2a2f15(0x24b)](_0x5c744f,_0x208732)){_0x2c954f[_0x2d2d9a]=_0x28851d,_0x316fae=!![];break;}}!_0x316fae&&(_0x2c954f[_0x5c744f]=_0x28851d);}const _0x24b229=_0x27fdf0[_0x4a823a['bAWbE']]||{};for(const [_0xa42e6c,_0x28f22c]of Object[_0x2a2f15(0x228)](_0x24b229)){let _0x10245a=![];for(const [_0x55ca87,_0x5ebee5]of Object[_0x2a2f15(0x228)](W3CMapping)){if(_0x4a823a['Xbazu'](_0xa42e6c,_0x5ebee5)){_0x2c954f[_0x55ca87]=_0x28f22c,_0x10245a=!![];break;}}!_0x10245a&&!_0x4a823a[_0x2a2f15(0x249)](_0xa42e6c,_0x2c954f)&&(_0x2c954f[_0xa42e6c]=_0x28f22c);}return logger['debug']('Converted\x20W3C\x20caps\x20to\x20JSONWire:\x20'+JSON[_0x2a2f15(0x202)](_0x2c954f)),_0x2c954f;},getModifiedConfigFromCLI=async _0x4284c2=>{const _0x416071=a122_0x91ce68,_0x6495fe={};_0x6495fe[_0x416071(0x206)]='GrpcClient\x20not\x20available,\x20skipping\x20modified\x20config\x20request',_0x6495fe[_0x416071(0x209)]=_0x416071(0x21e),_0x6495fe['QIzVZ']='Requesting\x20modified\x20Playwright\x20config\x20from\x20gRPC\x20for\x20cucumberjs-pw',_0x6495fe[_0x416071(0x222)]=_0x416071(0x24d),_0x6495fe[_0x416071(0x23e)]=function(_0x16dcd0,_0x3b46cc){return _0x16dcd0>_0x3b46cc;},_0x6495fe[_0x416071(0x1ef)]=function(_0x298072,_0x155acc){return _0x298072>_0x155acc;},_0x6495fe['rwEMA']='No\x20usable\x20capabilities\x20found\x20in\x20modified\x20config\x20response';const _0x527954=_0x6495fe;try{if(!GrpcClient)return logger[_0x416071(0x1f7)](_0x527954[_0x416071(0x206)]),null;const _0x5e4a47={};_0x5e4a47[_0x416071(0x1fc)]=_0x4284c2,_0x5e4a47[_0x416071(0x214)]=_0x527954[_0x416071(0x209)],_0x5e4a47[_0x416071(0x254)]=0x1,_0x5e4a47[_0x416071(0x23a)]=[];const _0x186223=_0x5e4a47;logger['debug'](_0x527954['QIzVZ']);const _0x464987={};_0x464987[_0x416071(0x24f)]=_0x186223;const _0x2b02c3=await GrpcClient[_0x416071(0x223)]()[_0x416071(0x230)](_0x464987);if(!_0x2b02c3['getConfig']())return logger[_0x416071(0x1f7)](_0x527954['sGHwk']),null;const _0x4bc23e=JSON[_0x416071(0x256)](_0x2b02c3[_0x416071(0x229)]());logger[_0x416071(0x1f7)](_0x416071(0x251)+JSON[_0x416071(0x202)](_0x4bc23e));if(_0x4bc23e[_0x416071(0x1fc)]&&Array[_0x416071(0x253)](_0x4bc23e[_0x416071(0x1fc)])&&_0x527954[_0x416071(0x23e)](_0x4bc23e[_0x416071(0x1fc)][_0x416071(0x224)],0x0))return _0x4bc23e[_0x416071(0x1fc)][0x0];else{if(_0x4bc23e[_0x416071(0x23a)]&&Array[_0x416071(0x253)](_0x4bc23e[_0x416071(0x23a)])&&_0x527954[_0x416071(0x1ef)](_0x4bc23e['projects'][_0x416071(0x224)],0x0)){const _0x33e9b5=_0x4bc23e[_0x416071(0x23a)][0x0];if(_0x33e9b5['use']&&_0x33e9b5[_0x416071(0x23f)][_0x416071(0x210)])return _0x33e9b5[_0x416071(0x23f)][_0x416071(0x210)];}}return logger[_0x416071(0x1f7)](_0x527954[_0x416071(0x215)]),null;}catch(_0x36061d){logger[_0x416071(0x237)](_0x416071(0x243)+_0x36061d[_0x416071(0x21c)]);throw _0x36061d;}},generatePlaywrightUrl=(_0x132bc5,_0x515970)=>{const _0x377cfc=a122_0x91ce68,_0x4b579a={'dzSro':function(_0x1b3ab6,_0x5b1e30){return _0x1b3ab6!==_0x5b1e30;},'EDiRO':function(_0x426b96,_0x23adbc){return _0x426b96!==_0x23adbc;},'zcSDj':function(_0x522846,_0x3d28df){return _0x522846!==_0x3d28df;},'zRkBC':function(_0x414741,_0x2e44d0){return _0x414741(_0x2e44d0);},'NLaec':function(_0x1b2d56,_0x2a669b){return _0x1b2d56||_0x2a669b;},'GqgLT':function(_0x27513f,_0x38bf1b){return _0x27513f(_0x38bf1b);},'SsiqV':_0x377cfc(0x22f),'sjhvz':function(_0x2452d7,_0x45f88b){return _0x2452d7(_0x45f88b);},'BopQI':'browserstack.accessibilityOptions.wcagVersion','dpWha':_0x377cfc(0x1fb),'eSVWE':function(_0x1f6abf,_0x5aa856){return _0x1f6abf(_0x5aa856);},'TLIZU':_0x377cfc(0x234),'UOooR':_0x377cfc(0x21f),'wTzwT':'browserstack.buildProductMap','xppsS':function(_0x459968,_0xf84c5e){return _0x459968+_0xf84c5e;},'zdxLI':function(_0x56a916,_0x3ad214){return _0x56a916(_0x3ad214);}},_0x18e27d=helper[_0x377cfc(0x238)](_0x132bc5),_0x120316=_0x4b579a['zRkBC'](convertW3CToJsonWire,_0x515970);try{const _0x45fb33=[_0x4b579a[_0x377cfc(0x24a)](_0x515970,{}),global[_0x377cfc(0x240)]||{},global[_0x377cfc(0x226)]||{},global[_0x377cfc(0x20f)]||{}],_0xd42f6b=_0x537202=>{const _0x1954d6=_0x377cfc;if(_0x4b579a[_0x1954d6(0x21d)](_0x120316[_0x537202],undefined)&&_0x4b579a['dzSro'](_0x120316[_0x537202],null)&&_0x4b579a['EDiRO'](_0x120316[_0x537202],''))return;for(const _0x40550f of _0x45fb33){if(_0x40550f&&_0x4b579a['zcSDj'](_0x40550f[_0x537202],undefined)&&_0x4b579a['zcSDj'](_0x40550f[_0x537202],null)&&_0x4b579a['EDiRO'](_0x40550f[_0x537202],'')){_0x120316[_0x537202]=_0x40550f[_0x537202];return;}}};_0x4b579a[_0x377cfc(0x1ff)](_0xd42f6b,_0x4b579a[_0x377cfc(0x22a)]),_0x4b579a[_0x377cfc(0x1fd)](_0xd42f6b,_0x4b579a[_0x377cfc(0x1f1)]),_0x4b579a[_0x377cfc(0x1fd)](_0xd42f6b,_0x4b579a['dpWha']),_0x4b579a[_0x377cfc(0x1f2)](_0xd42f6b,_0x4b579a['TLIZU']),!_0x120316[_0x4b579a[_0x377cfc(0x22a)]]&&process[_0x377cfc(0x208)][_0x377cfc(0x239)]&&(_0x120316[_0x4b579a[_0x377cfc(0x22a)]]=process['env'][_0x377cfc(0x239)]);}catch(_0x1fc5b9){logger[_0x377cfc(0x1f7)]('Unable\x20to\x20merge\x20accessibility\x20capabilities\x20into\x20Playwright\x20URL\x20caps:\x20'+util[_0x377cfc(0x207)](_0x1fc5b9));}return _0x120316[_0x4b579a[_0x377cfc(0x201)]]=process[_0x377cfc(0x208)][_0x377cfc(0x20a)],_0x120316[_0x4b579a[_0x377cfc(0x255)]]=helper['getBuildProductMap'](),_0x4b579a[_0x377cfc(0x22d)](_0x18e27d,_0x4b579a[_0x377cfc(0x20d)](encodeURIComponent,JSON[_0x377cfc(0x202)](_0x120316)));},getBrowserFromCaps=_0x56cd6e=>{const _0x35e80b=a122_0x91ce68,_0x47556a={};_0x47556a[_0x35e80b(0x1eb)]='chrome';const _0x525e8c=_0x47556a;return _0x56cd6e['browserName']||_0x56cd6e[_0x35e80b(0x231)]||_0x525e8c['glTtb'];},isPlaywrightAvailable=()=>{const _0x4cdee2=a122_0x91ce68,_0x144351={'tTmGH':'lib','CGzcC':_0x4cdee2(0x250),'jHrjU':_0x4cdee2(0x1f4),'MwArT':function(_0x5b00b3,_0x2af6b8){return _0x5b00b3(_0x2af6b8);}};try{const _0x36a251=path[_0x4cdee2(0x23b)](_0x144351[_0x4cdee2(0x20e)],_0x144351[_0x4cdee2(0x23d)],_0x144351[_0x4cdee2(0x220)]),_0x478c73=_0x144351[_0x4cdee2(0x22e)](importFileFromPWCore,_0x36a251);return!!_0x478c73;}catch(_0x16c986){return logger[_0x4cdee2(0x1f7)]('Playwright\x20not\x20available:\x20'+util[_0x4cdee2(0x207)](_0x16c986)),![];}},getPlaywrightBrowserType=()=>{const _0x53a5d4=a122_0x91ce68,_0x4f0481={'ZkWbb':'lib','YJqtX':_0x53a5d4(0x250),'GtCDb':_0x53a5d4(0x1f4),'TThEK':function(_0x33cc19,_0x2edcd1){return _0x33cc19(_0x2edcd1);}};try{const _0x787873=path[_0x53a5d4(0x23b)](_0x4f0481['ZkWbb'],_0x4f0481[_0x53a5d4(0x252)],_0x4f0481[_0x53a5d4(0x24c)]),_0x40e678=_0x4f0481[_0x53a5d4(0x20b)](importFileFromPWCore,_0x787873);return _0x40e678?_0x40e678['BrowserType']:null;}catch(_0xfa4b97){return logger[_0x53a5d4(0x1f7)]('Error\x20getting\x20Playwright\x20BrowserType:\x20'+util['format'](_0xfa4b97)),null;}},getPlaywrightModulePath=()=>{const _0x2d3c70=a122_0x91ce68,_0x257e90={};_0x257e90[_0x2d3c70(0x248)]='getPlaywrightModulePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead';const _0x1ee8a7=_0x257e90;return logger[_0x2d3c70(0x1f7)](_0x1ee8a7['hXQWO']),null;},getBrowserTypePath=()=>{const _0x244374=a122_0x91ce68,_0x272962={};_0x272962[_0x244374(0x213)]='getBrowserTypePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead';const _0x14e875=_0x272962;return logger[_0x244374(0x1f7)](_0x14e875[_0x244374(0x213)]),null;},checkPwandBootstrapCli=async(_0x54f9d3,_0x57efe5,_0x392e7e)=>{const _0x528ae8=a122_0x91ce68,_0x43a2f1={'BTaxb':function(_0x36ed4a,_0xb8d7cc){return _0x36ed4a(_0xb8d7cc);},'homFT':_0x528ae8(0x22c)};if(_0x54f9d3){const _0x4076ce=constants['FRAMEWORKS']['PLAYWRIGHT'];logger[_0x528ae8(0x1f7)](_0x528ae8(0x1f9)+_0x54f9d3+_0x528ae8(0x225)+_0x57efe5+_0x528ae8(0x241)),CLIUtils[_0x528ae8(0x1f0)](_0x57efe5,_0x4076ce);const {getProductMap:_0x31ee17}=_0x43a2f1['BTaxb'](require,_0x43a2f1[_0x528ae8(0x21b)]);process[_0x528ae8(0x208)]['BROWSERSTACK_PRODUCT_MAP']=JSON['stringify'](_0x43a2f1[_0x528ae8(0x1f8)](_0x31ee17,_0x392e7e['config'])),BrowserstackCLI['getInstance']()[_0x528ae8(0x1ec)](_0x392e7e[_0x528ae8(0x20c)],_0x392e7e['configPath'],_0x392e7e[_0x528ae8(0x247)]),await BrowserstackCLI[_0x528ae8(0x223)]()['bootstrap']();}},a122_0x12473a={};a122_0x12473a[a122_0x91ce68(0x1f3)]=convertW3CToJsonWire,a122_0x12473a[a122_0x91ce68(0x245)]=getModifiedConfigFromCLI,a122_0x12473a[a122_0x91ce68(0x242)]=generatePlaywrightUrl,a122_0x12473a['getBrowserFromCaps']=getBrowserFromCaps,a122_0x12473a[a122_0x91ce68(0x258)]=isPlaywrightAvailable,a122_0x12473a[a122_0x91ce68(0x233)]=getPlaywrightBrowserType,a122_0x12473a[a122_0x91ce68(0x1ed)]=getPlaywrightModulePath,a122_0x12473a[a122_0x91ce68(0x1f6)]=getBrowserTypePath,a122_0x12473a[a122_0x91ce68(0x203)]=importFileFromPWCore,a122_0x12473a[a122_0x91ce68(0x216)]=checkPwandBootstrapCli,module[a122_0x91ce68(0x246)]=a122_0x12473a;