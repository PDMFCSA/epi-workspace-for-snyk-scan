const a122_0x709a8a=a122_0x5b88;function a122_0x27a3(){const _0x2534de=['CzMZp','getPlaywrightModulePath','convertW3CToJsonWire','351098fIvRyV','capabilities','EfCQG','browserstack.accessibilityOptions.scannerProcessingTimeout','SDBPp','checkPwandBootstrapCli','XczlL','generatePlaywrightUrl','format','browserstack.accessibilityOptions.scannerVersion','playwrightConfigObject','./helper','\x20flow','debug','3211752wlNJYz','configPath','26790HiRmFo','./w3cMapping','config','getConfig','setFrameworkDetail','DtSRJ','cliConfig','workers','BROWSERSTACK_PRODUCT_MAP','browserstack.accessibilityOptions.authToken','getPlaywrightConfig','browserstack.accessibilityOptions.wcagVersion','2007kwftpZ','Error\x20getting\x20modified\x20config\x20from\x20gRPC:\x20','BS_A11Y_JWT','getBrowserTypePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead','browserstack.testhubBuildUuid','cucumberjs-pw','BTezF','platformCaps','yhUot','PVCzF','COBBQ','gwnNB','RoJsZ','wzcfM','bootstrap','Detected\x20Playwright\x20version\x20','SxLjy','Received\x20modified\x20config\x20from\x20gRPC:\x20','35eXBlcA','iikXX','lib','getPlaywrightModulePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead','840345RTfdaP','ESXRK','zNMoC','browser','use','W3CMapping','Playwright\x20not\x20available:\x20','\x20for\x20','albDd','setBrowserstackConfig','browserName','client','getInstance','bVDIm','../bin/v2/browserstackCLI','path','KXTHS','length','join','PCoGt','ixBRF','PLAYWRIGHT','9laUhxV','2742690WXKkfX','DBydB','17008400bLjKiA','YQdXj','MpzYk','env','./logger','BROWSERSTACK_TESTHUB_UUID','projects','FNgPw','Could\x20not\x20import\x20GrpcClient:\x20','getPlaywrightBrowserType','entries','winstonLogger','18256tJmXhv','BxRcU','browserstack.buildProductMap','No\x20modified\x20config\x20received\x20from\x20gRPC','lorAf','CCNUK','stringify','message','GrpcClient\x20not\x20available,\x20skipping\x20modified\x20config\x20request','getBrowserTypePath','RNgnn','parse','No\x20usable\x20capabilities\x20found\x20in\x20modified\x20config\x20response','isPlaywrightAvailable','getPlaywrightUrl','pOExX','EHite','BrowserType','getBrowserFromCaps','WkrEf','jyNIs','../bin/utils/constants','exports','pnvMK','bstack:options','__accessibilityOptions'];a122_0x27a3=function(){return _0x2534de;};return a122_0x27a3();}(function(_0xc18e17,_0x407410){const _0x4945ce=a122_0x5b88,_0xbdf2e4=_0xc18e17();while(!![]){try{const _0x2c187f=parseInt(_0x4945ce(0x245))/0x1+-parseInt(_0x4945ce(0x213))/0x2*(parseInt(_0x4945ce(0x25b))/0x3)+parseInt(_0x4945ce(0x221))/0x4+parseInt(_0x4945ce(0x25c))/0x5+parseInt(_0x4945ce(0x223))/0x6*(-parseInt(_0x4945ce(0x241))/0x7)+-parseInt(_0x4945ce(0x1f6))/0x8*(-parseInt(_0x4945ce(0x22f))/0x9)+-parseInt(_0x4945ce(0x25e))/0xa;if(_0x2c187f===_0x407410)break;else _0xbdf2e4['push'](_0xbdf2e4['shift']());}catch(_0x2ec93b){_0xbdf2e4['push'](_0xbdf2e4['shift']());}}}(a122_0x27a3,0x6e14f));function a122_0x5b88(_0x473406,_0x401bd9){const _0x27a30e=a122_0x27a3();return a122_0x5b88=function(_0x5b8812,_0x38b8d9){_0x5b8812=_0x5b8812-0x1ef;let _0x5f360b=_0x27a30e[_0x5b8812];return _0x5f360b;},a122_0x5b88(_0x473406,_0x401bd9);}const path=require(a122_0x709a8a(0x254)),util=require('util'),{importFileFromPWCore}=require(a122_0x709a8a(0x21e)),helper=require(a122_0x709a8a(0x21e)),logger=require(a122_0x709a8a(0x262))[a122_0x709a8a(0x1f5)],W3CMapping=require(a122_0x709a8a(0x224))[a122_0x709a8a(0x24a)](),constants=require(a122_0x709a8a(0x20b)),BrowserstackCLI=require(a122_0x709a8a(0x253)),CLIUtils=require('../bin/v2/cliUtils');let GrpcClient;try{GrpcClient=require('../bin/v2/grpcClient');}catch(a122_0x5cd714){logger[a122_0x709a8a(0x220)](a122_0x709a8a(0x1f2)+a122_0x5cd714['message']),GrpcClient=null;}const convertW3CToJsonWire=_0x1a70f4=>{const _0x116311=a122_0x709a8a,_0x88e950={};_0x88e950['uGggk']=function(_0x10fe8a,_0x2a9eda){return _0x10fe8a||_0x2a9eda;},_0x88e950[_0x116311(0x23f)]=function(_0xa6a8b5,_0x464c4f){return _0xa6a8b5===_0x464c4f;},_0x88e950[_0x116311(0x1f7)]=_0x116311(0x20e),_0x88e950[_0x116311(0x255)]=function(_0x4968c1,_0x3c89ab){return _0x4968c1===_0x3c89ab;},_0x88e950[_0x116311(0x20d)]=function(_0x40a69f,_0x8483cb){return _0x40a69f in _0x8483cb;};const _0x2dc774=_0x88e950,_0x4cd416={};for(const [_0x9fa014,_0x229b7f]of Object[_0x116311(0x1f4)](_0x2dc774['uGggk'](_0x1a70f4,{}))){if(_0x2dc774[_0x116311(0x23f)](_0x9fa014,_0x2dc774[_0x116311(0x1f7)]))continue;let _0x115150=![];for(const [_0x41adfb,_0x19b7aa]of Object[_0x116311(0x1f4)](W3CMapping)){if(_0x2dc774[_0x116311(0x255)](_0x9fa014,_0x19b7aa)){_0x4cd416[_0x41adfb]=_0x229b7f,_0x115150=!![];break;}}!_0x115150&&(_0x4cd416[_0x9fa014]=_0x229b7f);}const _0x5e9606=_0x1a70f4[_0x2dc774['BxRcU']]||{};for(const [_0x5dedf1,_0x13aebd]of Object[_0x116311(0x1f4)](_0x5e9606)){let _0xcc91b7=![];for(const [_0x4962cf,_0x4703ae]of Object[_0x116311(0x1f4)](W3CMapping)){if(_0x2dc774[_0x116311(0x255)](_0x5dedf1,_0x4703ae)){_0x4cd416[_0x4962cf]=_0x13aebd,_0xcc91b7=!![];break;}}!_0xcc91b7&&!_0x2dc774[_0x116311(0x20d)](_0x5dedf1,_0x4cd416)&&(_0x4cd416[_0x5dedf1]=_0x13aebd);}return logger['debug']('Converted\x20W3C\x20caps\x20to\x20JSONWire:\x20'+JSON[_0x116311(0x1fc)](_0x4cd416)),_0x4cd416;},getModifiedConfigFromCLI=async _0x6dd9df=>{const _0x2ce7ae=a122_0x709a8a,_0x452dea={};_0x452dea['yhUot']=_0x2ce7ae(0x1fe),_0x452dea[_0x2ce7ae(0x23b)]=_0x2ce7ae(0x234),_0x452dea[_0x2ce7ae(0x206)]='Requesting\x20modified\x20Playwright\x20config\x20from\x20gRPC\x20for\x20cucumberjs-pw',_0x452dea[_0x2ce7ae(0x252)]=_0x2ce7ae(0x1f9),_0x452dea['PCoGt']=function(_0x180f24,_0x5d82ea){return _0x180f24>_0x5d82ea;},_0x452dea[_0x2ce7ae(0x200)]=_0x2ce7ae(0x202);const _0x49df6b=_0x452dea;try{if(!GrpcClient)return logger[_0x2ce7ae(0x220)](_0x49df6b[_0x2ce7ae(0x237)]),null;const _0x10da0a={};_0x10da0a['capabilities']=_0x6dd9df,_0x10da0a['framework']=_0x49df6b[_0x2ce7ae(0x23b)],_0x10da0a[_0x2ce7ae(0x22a)]=0x1,_0x10da0a['projects']=[];const _0x31230a=_0x10da0a;logger[_0x2ce7ae(0x220)](_0x49df6b[_0x2ce7ae(0x206)]);const _0x402a83={};_0x402a83[_0x2ce7ae(0x21d)]=_0x31230a;const _0x36762e=await GrpcClient[_0x2ce7ae(0x251)]()[_0x2ce7ae(0x22d)](_0x402a83);if(!_0x36762e[_0x2ce7ae(0x226)]())return logger[_0x2ce7ae(0x220)](_0x49df6b[_0x2ce7ae(0x252)]),null;const _0x2d0c34=JSON[_0x2ce7ae(0x201)](_0x36762e[_0x2ce7ae(0x226)]());logger['debug'](_0x2ce7ae(0x240)+JSON[_0x2ce7ae(0x1fc)](_0x2d0c34));if(_0x2d0c34['capabilities']&&Array['isArray'](_0x2d0c34[_0x2ce7ae(0x214)])&&_0x49df6b[_0x2ce7ae(0x258)](_0x2d0c34[_0x2ce7ae(0x214)][_0x2ce7ae(0x256)],0x0))return _0x2d0c34[_0x2ce7ae(0x214)][0x0];else{if(_0x2d0c34[_0x2ce7ae(0x1f0)]&&Array['isArray'](_0x2d0c34[_0x2ce7ae(0x1f0)])&&_0x49df6b[_0x2ce7ae(0x258)](_0x2d0c34[_0x2ce7ae(0x1f0)][_0x2ce7ae(0x256)],0x0)){const _0x11d0f6=_0x2d0c34[_0x2ce7ae(0x1f0)][0x0];if(_0x11d0f6[_0x2ce7ae(0x249)]&&_0x11d0f6['use']['platformCaps'])return _0x11d0f6[_0x2ce7ae(0x249)][_0x2ce7ae(0x236)];}}return logger[_0x2ce7ae(0x220)](_0x49df6b['RNgnn']),null;}catch(_0x2fb92d){logger['error'](_0x2ce7ae(0x230)+_0x2fb92d[_0x2ce7ae(0x1fd)]);throw _0x2fb92d;}},generatePlaywrightUrl=(_0xc77ec7,_0x384e5b)=>{const _0x2b1284=a122_0x709a8a,_0x3f7513={'lorAf':function(_0xedaa90,_0x2061d0){return _0xedaa90!==_0x2061d0;},'ixBRF':function(_0x394528,_0x245cbd){return _0x394528!==_0x245cbd;},'wzcfM':function(_0x5b260a,_0x4b3a9b){return _0x5b260a!==_0x4b3a9b;},'COBBQ':function(_0x6f063,_0x2b9d45){return _0x6f063(_0x2b9d45);},'DtSRJ':function(_0x64f45f,_0x3460b6){return _0x64f45f||_0x3460b6;},'WkrEf':_0x2b1284(0x22c),'FNgPw':_0x2b1284(0x22e),'pOExX':function(_0xbdfe2f,_0x2aa7b7){return _0xbdfe2f(_0x2aa7b7);},'iikXX':_0x2b1284(0x21c),'HWKQN':function(_0x3dc0a2,_0x539472){return _0x3dc0a2(_0x539472);},'ESXRK':_0x2b1284(0x216),'MpzYk':_0x2b1284(0x233),'BTezF':_0x2b1284(0x1f8),'BUEzI':function(_0x517a79,_0x4a8b14){return _0x517a79+_0x4a8b14;},'gwnNB':function(_0x565c5a,_0x3489d6){return _0x565c5a(_0x3489d6);}},_0x32e6b8=helper[_0x2b1284(0x204)](_0xc77ec7),_0x24860c=_0x3f7513[_0x2b1284(0x239)](convertW3CToJsonWire,_0x384e5b);try{const _0x9c1cfd=[_0x3f7513[_0x2b1284(0x228)](_0x384e5b,{}),global['__launchCaps']||{},global['__platformCaps']||{},global[_0x2b1284(0x20f)]||{}],_0x53cde2=_0x14ba20=>{const _0x4c1160=_0x2b1284;if(_0x3f7513['lorAf'](_0x24860c[_0x14ba20],undefined)&&_0x3f7513[_0x4c1160(0x259)](_0x24860c[_0x14ba20],null)&&_0x3f7513[_0x4c1160(0x1fa)](_0x24860c[_0x14ba20],''))return;for(const _0x1fa1e4 of _0x9c1cfd){if(_0x1fa1e4&&_0x3f7513[_0x4c1160(0x23c)](_0x1fa1e4[_0x14ba20],undefined)&&_0x3f7513[_0x4c1160(0x259)](_0x1fa1e4[_0x14ba20],null)&&_0x3f7513[_0x4c1160(0x23c)](_0x1fa1e4[_0x14ba20],'')){_0x24860c[_0x14ba20]=_0x1fa1e4[_0x14ba20];return;}}};_0x3f7513[_0x2b1284(0x239)](_0x53cde2,_0x3f7513[_0x2b1284(0x209)]),_0x3f7513['COBBQ'](_0x53cde2,_0x3f7513[_0x2b1284(0x1f1)]),_0x3f7513[_0x2b1284(0x205)](_0x53cde2,_0x3f7513[_0x2b1284(0x242)]),_0x3f7513['HWKQN'](_0x53cde2,_0x3f7513[_0x2b1284(0x246)]),!_0x24860c[_0x3f7513[_0x2b1284(0x209)]]&&process[_0x2b1284(0x261)][_0x2b1284(0x231)]&&(_0x24860c[_0x3f7513['WkrEf']]=process[_0x2b1284(0x261)][_0x2b1284(0x231)]);}catch(_0x40d092){logger[_0x2b1284(0x220)]('Unable\x20to\x20merge\x20accessibility\x20capabilities\x20into\x20Playwright\x20URL\x20caps:\x20'+util[_0x2b1284(0x21b)](_0x40d092));}return _0x24860c[_0x3f7513[_0x2b1284(0x260)]]=process[_0x2b1284(0x261)][_0x2b1284(0x1ef)],_0x24860c[_0x3f7513[_0x2b1284(0x235)]]=helper['getBuildProductMap'](),_0x3f7513['BUEzI'](_0x32e6b8,_0x3f7513[_0x2b1284(0x23a)](encodeURIComponent,JSON[_0x2b1284(0x1fc)](_0x24860c)));},getBrowserFromCaps=_0x40aa43=>{const _0x5f3829=a122_0x709a8a,_0x128b8a={};_0x128b8a[_0x5f3829(0x25d)]='chrome';const _0x21f239=_0x128b8a;return _0x40aa43[_0x5f3829(0x24f)]||_0x40aa43[_0x5f3829(0x248)]||_0x21f239['DBydB'];},isPlaywrightAvailable=()=>{const _0x4fd587=a122_0x709a8a,_0xfeff17={'CCNUK':_0x4fd587(0x243),'GmHjQ':'client','PVCzF':'browserType.js','EfCQG':function(_0x43ed43,_0x526fcd){return _0x43ed43(_0x526fcd);}};try{const _0x2ea1bc=path['join'](_0xfeff17[_0x4fd587(0x1fb)],_0xfeff17['GmHjQ'],_0xfeff17[_0x4fd587(0x238)]),_0x42f9e7=_0xfeff17[_0x4fd587(0x215)](importFileFromPWCore,_0x2ea1bc);return!!_0x42f9e7;}catch(_0x54c3ac){return logger[_0x4fd587(0x220)](_0x4fd587(0x24b)+util['format'](_0x54c3ac)),![];}},getPlaywrightBrowserType=()=>{const _0x13f941=a122_0x709a8a,_0x2b2fb4={'SDBPp':_0x13f941(0x243),'jyNIs':_0x13f941(0x250),'albDd':'browserType.js','DdpED':function(_0x5592e6,_0x4759e3){return _0x5592e6(_0x4759e3);}};try{const _0x1534d9=path[_0x13f941(0x257)](_0x2b2fb4[_0x13f941(0x217)],_0x2b2fb4[_0x13f941(0x20a)],_0x2b2fb4[_0x13f941(0x24d)]),_0x1ca3db=_0x2b2fb4['DdpED'](importFileFromPWCore,_0x1534d9);return _0x1ca3db?_0x1ca3db[_0x13f941(0x207)]:null;}catch(_0x49d952){return logger[_0x13f941(0x220)]('Error\x20getting\x20Playwright\x20BrowserType:\x20'+util['format'](_0x49d952)),null;}},getPlaywrightModulePath=()=>{const _0x407306=a122_0x709a8a,_0x29eb43={};_0x29eb43['sSNvt']=_0x407306(0x244);const _0x2e1d57=_0x29eb43;return logger[_0x407306(0x220)](_0x2e1d57['sSNvt']),null;},getBrowserTypePath=()=>{const _0x2c0e11=a122_0x709a8a,_0x3edcee={};_0x3edcee[_0x2c0e11(0x247)]=_0x2c0e11(0x232);const _0x2f843b=_0x3edcee;return logger[_0x2c0e11(0x220)](_0x2f843b['zNMoC']),null;},checkPwandBootstrapCli=async(_0x326404,_0x595473,_0x3a6a08)=>{const _0x50f190=a122_0x709a8a,_0x46eb7b={'XczlL':function(_0xb5cdaf,_0x4b6272){return _0xb5cdaf(_0x4b6272);},'YQdXj':'./testhub/utils','CzMZp':function(_0x1b5be1,_0x1a1183){return _0x1b5be1(_0x1a1183);}};if(_0x326404){const _0x50b902=constants['FRAMEWORKS'][_0x50f190(0x25a)];logger['debug'](_0x50f190(0x23e)+_0x326404+_0x50f190(0x24c)+_0x595473+_0x50f190(0x21f)),CLIUtils[_0x50f190(0x227)](_0x595473,_0x50b902);const {getProductMap:_0x14bb7e}=_0x46eb7b[_0x50f190(0x219)](require,_0x46eb7b[_0x50f190(0x25f)]);process[_0x50f190(0x261)][_0x50f190(0x22b)]=JSON[_0x50f190(0x1fc)](_0x46eb7b[_0x50f190(0x210)](_0x14bb7e,_0x3a6a08[_0x50f190(0x225)])),BrowserstackCLI[_0x50f190(0x251)]()[_0x50f190(0x24e)](_0x3a6a08['config'],_0x3a6a08[_0x50f190(0x222)],_0x3a6a08[_0x50f190(0x229)]),await BrowserstackCLI[_0x50f190(0x251)]()[_0x50f190(0x23d)]();}},a122_0x580e5f={};a122_0x580e5f[a122_0x709a8a(0x212)]=convertW3CToJsonWire,a122_0x580e5f['getModifiedConfigFromCLI']=getModifiedConfigFromCLI,a122_0x580e5f[a122_0x709a8a(0x21a)]=generatePlaywrightUrl,a122_0x580e5f[a122_0x709a8a(0x208)]=getBrowserFromCaps,a122_0x580e5f[a122_0x709a8a(0x203)]=isPlaywrightAvailable,a122_0x580e5f[a122_0x709a8a(0x1f3)]=getPlaywrightBrowserType,a122_0x580e5f[a122_0x709a8a(0x211)]=getPlaywrightModulePath,a122_0x580e5f[a122_0x709a8a(0x1ff)]=getBrowserTypePath,a122_0x580e5f['importFileFromPWCore']=importFileFromPWCore,a122_0x580e5f[a122_0x709a8a(0x218)]=checkPwandBootstrapCli,module[a122_0x709a8a(0x20c)]=a122_0x580e5f;