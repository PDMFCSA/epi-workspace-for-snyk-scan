const a122_0x4c93d8=a122_0x309c;(function(_0x4ffd83,_0x57ab2d){const _0x341808=a122_0x309c,_0x55fed2=_0x4ffd83();while(!![]){try{const _0x67e264=-parseInt(_0x341808(0x23a))/0x1+-parseInt(_0x341808(0x222))/0x2+parseInt(_0x341808(0x22e))/0x3+parseInt(_0x341808(0x20a))/0x4+-parseInt(_0x341808(0x242))/0x5+-parseInt(_0x341808(0x239))/0x6+-parseInt(_0x341808(0x1f1))/0x7*(-parseInt(_0x341808(0x240))/0x8);if(_0x67e264===_0x57ab2d)break;else _0x55fed2['push'](_0x55fed2['shift']());}catch(_0x24b768){_0x55fed2['push'](_0x55fed2['shift']());}}}(a122_0x5430,0xe4b99));function a122_0x309c(_0x5d54b3,_0x30c1d5){const _0x54305d=a122_0x5430();return a122_0x309c=function(_0x309cb3,_0x436443){_0x309cb3=_0x309cb3-0x1dd;let _0x5f3ffb=_0x54305d[_0x309cb3];return _0x5f3ffb;},a122_0x309c(_0x5d54b3,_0x30c1d5);}const path=require(a122_0x4c93d8(0x246)),util=require(a122_0x4c93d8(0x235)),{importFileFromPWCore}=require(a122_0x4c93d8(0x216)),helper=require('./helper'),logger=require(a122_0x4c93d8(0x211))[a122_0x4c93d8(0x219)],W3CMapping=require('./w3cMapping')['W3CMapping'](),constants=require(a122_0x4c93d8(0x231)),BrowserstackCLI=require(a122_0x4c93d8(0x1e2)),CLIUtils=require('../bin/v2/cliUtils');function a122_0x5430(){const _0x5f1c46=['isArray','UeKUt','getPlaywrightConfig','path','__accessibilityOptions','entries','Error\x20getting\x20modified\x20config\x20from\x20gRPC:\x20','getPlaywrightModulePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead','BS_A11Y_JWT','platformCaps','BROWSERSTACK_TESTHUB_UUID','convertW3CToJsonWire','hlRnK','zGhwk','../bin/v2/browserstackCLI','framework','Requesting\x20modified\x20Playwright\x20config\x20from\x20gRPC\x20for\x20cucumberjs-pw','isPlaywrightAvailable','Amekk','FRAMEWORKS','REydR','getBuildProductMap','use','Detected\x20Playwright\x20version\x20','getModifiedConfigFromCLI','length','TmUtK','sUaMS','bAOCy','26159xrYPyD','capabilities','Could\x20not\x20import\x20GrpcClient:\x20','getBrowserTypePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead','tRfcS','qfHmY','GrpcClient\x20not\x20available,\x20skipping\x20modified\x20config\x20request','workers','cQSqP','Playwright\x20not\x20available:\x20','\x20flow','browserstack.accessibilityOptions.scannerProcessingTimeout','CJtAs','format','oSeRJ','setBrowserstackConfig','SQQOp','bstack:options','generatePlaywrightUrl','browserstack.accessibilityOptions.authToken','ixvqq','\x20for\x20','mJczD','qccwW','debug','3928844bRNwAg','browserstack.testhubBuildUuid','playwrightConfigObject','bootstrap','twfbx','cwrcC','Error\x20getting\x20Playwright\x20BrowserType:\x20','./logger','./testhub/utils','error','parse','SEuxx','./helper','join','browserstack.buildProductMap','winstonLogger','getPlaywrightUrl','projects','importFileFromPWCore','client','NjHcm','config','getConfig','env','897940hXlVsG','Received\x20modified\x20config\x20from\x20gRPC:\x20','JKkZC','PFDkR','getPlaywrightModulePath','BIEGY','checkPwandBootstrapCli','getInstance','wKAMv','getBrowserFromCaps','browserstack.accessibilityOptions.wcagVersion','stringify','958206CqZJxZ','bNLto','exports','../bin/utils/constants','lib','preJh','lLXyb','util','Converted\x20W3C\x20caps\x20to\x20JSONWire:\x20','wqpjw','qSUTk','10409760SbtnJy','327456jpmvdz','configPath','PNHqS','getPlaywrightBrowserType','pBgdE','Unable\x20to\x20merge\x20accessibility\x20capabilities\x20into\x20Playwright\x20URL\x20caps:\x20','7520uyCjlU','browserType.js','6830750qKujRF'];a122_0x5430=function(){return _0x5f1c46;};return a122_0x5430();}let GrpcClient;try{GrpcClient=require('../bin/v2/grpcClient');}catch(a122_0x247fba){logger['debug'](a122_0x4c93d8(0x1f3)+a122_0x247fba['message']),GrpcClient=null;}const convertW3CToJsonWire=_0x501414=>{const _0x27973d=a122_0x4c93d8,_0x1141ee={};_0x1141ee[_0x27973d(0x1f6)]=function(_0x556af1,_0x217e78){return _0x556af1||_0x217e78;},_0x1141ee[_0x27973d(0x23c)]=function(_0x16a7ae,_0x12a933){return _0x16a7ae===_0x12a933;},_0x1141ee[_0x27973d(0x1f9)]=_0x27973d(0x202),_0x1141ee[_0x27973d(0x234)]=function(_0x3f0646,_0x2590c4){return _0x3f0646 in _0x2590c4;};const _0x23a879=_0x1141ee,_0x22da22={};for(const [_0x31a41c,_0x426c3a]of Object[_0x27973d(0x248)](_0x23a879[_0x27973d(0x1f6)](_0x501414,{}))){if(_0x23a879['PNHqS'](_0x31a41c,_0x23a879[_0x27973d(0x1f9)]))continue;let _0x4c981b=![];for(const [_0x1479cb,_0x41b396]of Object[_0x27973d(0x248)](W3CMapping)){if(_0x23a879[_0x27973d(0x23c)](_0x31a41c,_0x41b396)){_0x22da22[_0x1479cb]=_0x426c3a,_0x4c981b=!![];break;}}!_0x4c981b&&(_0x22da22[_0x31a41c]=_0x426c3a);}const _0x243cb9=_0x501414[_0x23a879['cQSqP']]||{};for(const [_0x228de,_0x3031ea]of Object[_0x27973d(0x248)](_0x243cb9)){let _0x1f4f44=![];for(const [_0x49669b,_0x4c2cbd]of Object[_0x27973d(0x248)](W3CMapping)){if(_0x23a879[_0x27973d(0x23c)](_0x228de,_0x4c2cbd)){_0x22da22[_0x49669b]=_0x3031ea,_0x1f4f44=!![];break;}}!_0x1f4f44&&!_0x23a879['lLXyb'](_0x228de,_0x22da22)&&(_0x22da22[_0x228de]=_0x3031ea);}return logger[_0x27973d(0x209)](_0x27973d(0x236)+JSON[_0x27973d(0x22d)](_0x22da22)),_0x22da22;},getModifiedConfigFromCLI=async _0x4d1c00=>{const _0x103044=a122_0x4c93d8,_0x486fb7={};_0x486fb7[_0x103044(0x215)]=_0x103044(0x1f7),_0x486fb7[_0x103044(0x20f)]='cucumberjs-pw',_0x486fb7['gxOus']=_0x103044(0x1e4),_0x486fb7[_0x103044(0x20e)]='No\x20modified\x20config\x20received\x20from\x20gRPC',_0x486fb7[_0x103044(0x224)]=function(_0x5d772b,_0x275599){return _0x5d772b>_0x275599;},_0x486fb7['sxfRw']=function(_0x5888e0,_0x302e4b){return _0x5888e0>_0x302e4b;},_0x486fb7['TmUtK']='No\x20usable\x20capabilities\x20found\x20in\x20modified\x20config\x20response';const _0xe67a29=_0x486fb7;try{if(!GrpcClient)return logger[_0x103044(0x209)](_0xe67a29[_0x103044(0x215)]),null;const _0x160bf0={};_0x160bf0['capabilities']=_0x4d1c00,_0x160bf0[_0x103044(0x1e3)]=_0xe67a29[_0x103044(0x20f)],_0x160bf0[_0x103044(0x1f8)]=0x1,_0x160bf0[_0x103044(0x21b)]=[];const _0x2bf298=_0x160bf0;logger[_0x103044(0x209)](_0xe67a29['gxOus']);const _0x3d7abc={};_0x3d7abc[_0x103044(0x20c)]=_0x2bf298;const _0x1e9ebb=await GrpcClient[_0x103044(0x229)]()[_0x103044(0x245)](_0x3d7abc);if(!_0x1e9ebb[_0x103044(0x220)]())return logger['debug'](_0xe67a29[_0x103044(0x20e)]),null;const _0x4f97d9=JSON[_0x103044(0x214)](_0x1e9ebb['getConfig']());logger['debug'](_0x103044(0x223)+JSON[_0x103044(0x22d)](_0x4f97d9));if(_0x4f97d9[_0x103044(0x1f2)]&&Array[_0x103044(0x243)](_0x4f97d9[_0x103044(0x1f2)])&&_0xe67a29[_0x103044(0x224)](_0x4f97d9[_0x103044(0x1f2)][_0x103044(0x1ed)],0x0))return _0x4f97d9[_0x103044(0x1f2)][0x0];else{if(_0x4f97d9[_0x103044(0x21b)]&&Array[_0x103044(0x243)](_0x4f97d9[_0x103044(0x21b)])&&_0xe67a29['sxfRw'](_0x4f97d9[_0x103044(0x21b)]['length'],0x0)){const _0x6196a9=_0x4f97d9[_0x103044(0x21b)][0x0];if(_0x6196a9[_0x103044(0x1ea)]&&_0x6196a9['use'][_0x103044(0x1dd)])return _0x6196a9[_0x103044(0x1ea)][_0x103044(0x1dd)];}}return logger[_0x103044(0x209)](_0xe67a29[_0x103044(0x1ee)]),null;}catch(_0x1b17f1){logger[_0x103044(0x213)](_0x103044(0x249)+_0x1b17f1['message']);throw _0x1b17f1;}},generatePlaywrightUrl=(_0x33c2c8,_0x26752b)=>{const _0x4b3f1c=a122_0x4c93d8,_0x19dc0c={'PFDkR':function(_0x253eea,_0x575b0){return _0x253eea!==_0x575b0;},'SQQOp':function(_0x1bad8b,_0x3368a7){return _0x1bad8b!==_0x3368a7;},'bAOCy':function(_0x412263,_0x26807c){return _0x412263!==_0x26807c;},'CJtAs':function(_0x32ee0e,_0x3745fd){return _0x32ee0e!==_0x3745fd;},'mJczD':function(_0x5854f7,_0x35762d){return _0x5854f7(_0x35762d);},'bNLto':function(_0x1f607e,_0x2aeab9){return _0x1f607e||_0x2aeab9;},'REydR':function(_0x4e76d7,_0x305570){return _0x4e76d7(_0x305570);},'wKAMv':_0x4b3f1c(0x204),'qSUTk':_0x4b3f1c(0x22c),'NjHcm':'browserstack.accessibilityOptions.scannerVersion','Amekk':_0x4b3f1c(0x1fc),'wqpjw':_0x4b3f1c(0x20b),'BIEGY':_0x4b3f1c(0x218),'preJh':function(_0x42fd39,_0x436481){return _0x42fd39+_0x436481;}},_0x5aeb22=helper[_0x4b3f1c(0x21a)](_0x33c2c8),_0x8e873e=_0x19dc0c[_0x4b3f1c(0x207)](convertW3CToJsonWire,_0x26752b);try{const _0x216d14=[_0x19dc0c[_0x4b3f1c(0x22f)](_0x26752b,{}),global['__launchCaps']||{},global['__platformCaps']||{},global[_0x4b3f1c(0x247)]||{}],_0x1f8cfa=_0x4a1c0f=>{const _0x138f6b=_0x4b3f1c;if(_0x19dc0c[_0x138f6b(0x225)](_0x8e873e[_0x4a1c0f],undefined)&&_0x19dc0c[_0x138f6b(0x201)](_0x8e873e[_0x4a1c0f],null)&&_0x19dc0c[_0x138f6b(0x201)](_0x8e873e[_0x4a1c0f],''))return;for(const _0xcb4e57 of _0x216d14){if(_0xcb4e57&&_0x19dc0c[_0x138f6b(0x1f0)](_0xcb4e57[_0x4a1c0f],undefined)&&_0x19dc0c[_0x138f6b(0x1fd)](_0xcb4e57[_0x4a1c0f],null)&&_0x19dc0c[_0x138f6b(0x1f0)](_0xcb4e57[_0x4a1c0f],'')){_0x8e873e[_0x4a1c0f]=_0xcb4e57[_0x4a1c0f];return;}}};_0x19dc0c['REydR'](_0x1f8cfa,_0x19dc0c[_0x4b3f1c(0x22a)]),_0x19dc0c[_0x4b3f1c(0x1e8)](_0x1f8cfa,_0x19dc0c[_0x4b3f1c(0x238)]),_0x19dc0c['REydR'](_0x1f8cfa,_0x19dc0c[_0x4b3f1c(0x21e)]),_0x19dc0c[_0x4b3f1c(0x207)](_0x1f8cfa,_0x19dc0c[_0x4b3f1c(0x1e6)]),!_0x8e873e[_0x19dc0c[_0x4b3f1c(0x22a)]]&&process['env']['BS_A11Y_JWT']&&(_0x8e873e[_0x19dc0c[_0x4b3f1c(0x22a)]]=process[_0x4b3f1c(0x221)][_0x4b3f1c(0x24b)]);}catch(_0x5be59a){logger['debug'](_0x4b3f1c(0x23f)+util[_0x4b3f1c(0x1fe)](_0x5be59a));}return _0x8e873e[_0x19dc0c[_0x4b3f1c(0x237)]]=process['env'][_0x4b3f1c(0x1de)],_0x8e873e[_0x19dc0c[_0x4b3f1c(0x227)]]=helper[_0x4b3f1c(0x1e9)](),_0x19dc0c[_0x4b3f1c(0x233)](_0x5aeb22,_0x19dc0c['mJczD'](encodeURIComponent,JSON[_0x4b3f1c(0x22d)](_0x8e873e)));},getBrowserFromCaps=_0x1bce90=>{const _0x98c8f3=a122_0x4c93d8,_0x46917a={};_0x46917a['ixvqq']='chrome';const _0x93e7fb=_0x46917a;return _0x1bce90['browserName']||_0x1bce90['browser']||_0x93e7fb[_0x98c8f3(0x205)];},isPlaywrightAvailable=()=>{const _0x30184e=a122_0x4c93d8,_0x3177bb={'wSRPI':'lib','sUaMS':_0x30184e(0x21d),'OQruJ':_0x30184e(0x241),'pBgdE':function(_0x3de2b2,_0x1a873c){return _0x3de2b2(_0x1a873c);}};try{const _0x38e1ef=path[_0x30184e(0x217)](_0x3177bb['wSRPI'],_0x3177bb[_0x30184e(0x1ef)],_0x3177bb['OQruJ']),_0x230b86=_0x3177bb[_0x30184e(0x23e)](importFileFromPWCore,_0x38e1ef);return!!_0x230b86;}catch(_0x1a481b){return logger[_0x30184e(0x209)](_0x30184e(0x1fa)+util[_0x30184e(0x1fe)](_0x1a481b)),![];}},getPlaywrightBrowserType=()=>{const _0x12a413=a122_0x4c93d8,_0x399663={'uMNfm':_0x12a413(0x232),'rIewC':_0x12a413(0x21d),'zGhwk':'browserType.js','UeKUt':function(_0x4c90c9,_0xa6ce00){return _0x4c90c9(_0xa6ce00);}};try{const _0x5aa74f=path[_0x12a413(0x217)](_0x399663['uMNfm'],_0x399663['rIewC'],_0x399663[_0x12a413(0x1e1)]),_0x55fa12=_0x399663[_0x12a413(0x244)](importFileFromPWCore,_0x5aa74f);return _0x55fa12?_0x55fa12['BrowserType']:null;}catch(_0x5d18ce){return logger[_0x12a413(0x209)](_0x12a413(0x210)+util[_0x12a413(0x1fe)](_0x5d18ce)),null;}},getPlaywrightModulePath=()=>{const _0x14646a=a122_0x4c93d8,_0x8fb0d8={};_0x8fb0d8[_0x14646a(0x208)]=_0x14646a(0x24a);const _0xed3c15=_0x8fb0d8;return logger['debug'](_0xed3c15['qccwW']),null;},getBrowserTypePath=()=>{const _0x16fa6f=a122_0x4c93d8,_0x2571d8={};_0x2571d8[_0x16fa6f(0x1e0)]=_0x16fa6f(0x1f4);const _0x4bae4d=_0x2571d8;return logger[_0x16fa6f(0x209)](_0x4bae4d[_0x16fa6f(0x1e0)]),null;},checkPwandBootstrapCli=async(_0x26370c,_0x5b8dfd,_0x472e91)=>{const _0xb87462=a122_0x4c93d8,_0x1ab983={'oSeRJ':function(_0x3b9a8b,_0x1bcf6b){return _0x3b9a8b(_0x1bcf6b);},'PWvDn':_0xb87462(0x212),'tRfcS':function(_0xe2580d,_0xd18cf3){return _0xe2580d(_0xd18cf3);}};if(_0x26370c){const _0x31a4cc=constants[_0xb87462(0x1e7)]['PLAYWRIGHT'];logger[_0xb87462(0x209)](_0xb87462(0x1eb)+_0x26370c+_0xb87462(0x206)+_0x5b8dfd+_0xb87462(0x1fb)),CLIUtils['setFrameworkDetail'](_0x5b8dfd,_0x31a4cc);const {getProductMap:_0xcb22eb}=_0x1ab983[_0xb87462(0x1ff)](require,_0x1ab983['PWvDn']);process[_0xb87462(0x221)]['BROWSERSTACK_PRODUCT_MAP']=JSON[_0xb87462(0x22d)](_0x1ab983[_0xb87462(0x1f5)](_0xcb22eb,_0x472e91['config'])),BrowserstackCLI[_0xb87462(0x229)]()[_0xb87462(0x200)](_0x472e91[_0xb87462(0x21f)],_0x472e91[_0xb87462(0x23b)],_0x472e91['cliConfig']),await BrowserstackCLI[_0xb87462(0x229)]()[_0xb87462(0x20d)]();}},a122_0x2f6f94={};a122_0x2f6f94[a122_0x4c93d8(0x1df)]=convertW3CToJsonWire,a122_0x2f6f94[a122_0x4c93d8(0x1ec)]=getModifiedConfigFromCLI,a122_0x2f6f94[a122_0x4c93d8(0x203)]=generatePlaywrightUrl,a122_0x2f6f94[a122_0x4c93d8(0x22b)]=getBrowserFromCaps,a122_0x2f6f94[a122_0x4c93d8(0x1e5)]=isPlaywrightAvailable,a122_0x2f6f94[a122_0x4c93d8(0x23d)]=getPlaywrightBrowserType,a122_0x2f6f94[a122_0x4c93d8(0x226)]=getPlaywrightModulePath,a122_0x2f6f94['getBrowserTypePath']=getBrowserTypePath,a122_0x2f6f94[a122_0x4c93d8(0x21c)]=importFileFromPWCore,a122_0x2f6f94[a122_0x4c93d8(0x228)]=checkPwandBootstrapCli,module[a122_0x4c93d8(0x230)]=a122_0x2f6f94;