const a122_0x52a21a=a122_0x4509;(function(_0x2665fe,_0x53bd09){const _0x4a8790=a122_0x4509,_0xebc741=_0x2665fe();while(!![]){try{const _0x53cccf=-parseInt(_0x4a8790(0x20f))/0x1+parseInt(_0x4a8790(0x1cb))/0x2+-parseInt(_0x4a8790(0x1fa))/0x3+parseInt(_0x4a8790(0x1ad))/0x4*(parseInt(_0x4a8790(0x1c9))/0x5)+-parseInt(_0x4a8790(0x1c4))/0x6+-parseInt(_0x4a8790(0x1e2))/0x7*(parseInt(_0x4a8790(0x1d0))/0x8)+parseInt(_0x4a8790(0x1e6))/0x9;if(_0x53cccf===_0x53bd09)break;else _0xebc741['push'](_0xebc741['shift']());}catch(_0x419136){_0xebc741['push'](_0xebc741['shift']());}}}(a122_0x536b,0x9470b));const path=require('path'),util=require('util'),{importFileFromPWCore}=require(a122_0x52a21a(0x1de)),helper=require('./helper'),logger=require(a122_0x52a21a(0x1c0))[a122_0x52a21a(0x1f7)],W3CMapping=require(a122_0x52a21a(0x1d1))['W3CMapping'](),constants=require(a122_0x52a21a(0x203)),BrowserstackCLI=require(a122_0x52a21a(0x1bc)),CLIUtils=require(a122_0x52a21a(0x20b));let GrpcClient;function a122_0x536b(){const _0x53f749=['4163178dlPGRx','getPlaywrightModulePath','gNXcv','cucumberjs-pw','projects','5296975IQuAHt','lib','1082170ogDuRP','getBrowserFromCaps','RwppU','env','CVPUs','8sYsIMN','./w3cMapping','browserstack.accessibilityOptions.scannerVersion','getInstance','FRAMEWORKS','VQQCz','Error\x20getting\x20Playwright\x20BrowserType:\x20','browserstack.accessibilityOptions.scannerProcessingTimeout','TwOwE','bstack:options','caOoq','browserstack.buildProductMap','bJsaV','join','./helper','Could\x20not\x20import\x20GrpcClient:\x20','No\x20usable\x20capabilities\x20found\x20in\x20modified\x20config\x20response','getPlaywrightModulePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead','2515324dHDoXs','debug','ouQko','BROWSERSTACK_TESTHUB_UUID','13986621VFGIAT','getPlaywrightConfig','checkPwandBootstrapCli','dmRwh','Requesting\x20modified\x20Playwright\x20config\x20from\x20gRPC\x20for\x20cucumberjs-pw','GbsCO','getModifiedConfigFromCLI','CJUxO','bootstrap','PXokq','isooD','BROWSERSTACK_PRODUCT_MAP','\x20flow','getConfig','config','getBuildProductMap','length','winstonLogger','ifgpE','playwrightConfigObject','1114032SOpOxA','QGhts','importFileFromPWCore','browser','browserstack.testhubBuildUuid','./testhub/utils','getBrowserTypePath','BS_A11Y_JWT','GWhJd','../bin/utils/constants','stringify','tyzya','UNrHe','../bin/v2/grpcClient','getPlaywrightBrowserType','QqokC','SpLVJ','../bin/v2/cliUtils','parse','configPath','fgoni','1121999tRCiJj','YCJnt','use','browserType.js','Error\x20getting\x20modified\x20config\x20from\x20gRPC:\x20','chrome','format','gfSxX','capabilities','client','IjpJt','UoLEW','generatePlaywrightUrl','Playwright\x20not\x20available:\x20','BrowserType','browserName','__platformCaps','isArray','platformCaps','message','wAwbu','exports','4nAqxCs','aJceo','Converted\x20W3C\x20caps\x20to\x20JSONWire:\x20','IGCmY','fQOpY','Detected\x20Playwright\x20version\x20','HLPvu','ZFqkP','cliConfig','__launchCaps','workers','framework','MqPkx','GrpcClient\x20not\x20available,\x20skipping\x20modified\x20config\x20request','rXSBi','../bin/v2/browserstackCLI','entries','browserstack.accessibilityOptions.authToken','hncgh','./logger','NWjHH','error','setFrameworkDetail'];a122_0x536b=function(){return _0x53f749;};return a122_0x536b();}function a122_0x4509(_0x295071,_0x1513aa){const _0x536b36=a122_0x536b();return a122_0x4509=function(_0x450990,_0x1a36a0){_0x450990=_0x450990-0x19c;let _0x12af40=_0x536b36[_0x450990];return _0x12af40;},a122_0x4509(_0x295071,_0x1513aa);}try{GrpcClient=require(a122_0x52a21a(0x207));}catch(a122_0x5873eb){logger[a122_0x52a21a(0x1e3)](a122_0x52a21a(0x1df)+a122_0x5873eb[a122_0x52a21a(0x1aa)]),GrpcClient=null;}const convertW3CToJsonWire=_0xd49822=>{const _0x281348=a122_0x52a21a,_0x3c46b2={};_0x3c46b2[_0x281348(0x1c1)]=function(_0x2b3a39,_0x3879ae){return _0x2b3a39||_0x3879ae;},_0x3c46b2['isooD']=function(_0x5c1ead,_0x77dc2d){return _0x5c1ead===_0x77dc2d;},_0x3c46b2[_0x281348(0x1d8)]=_0x281348(0x1d9),_0x3c46b2['RwppU']=function(_0x1aa6ad,_0x2e2507){return _0x1aa6ad in _0x2e2507;};const _0x1b16ce=_0x3c46b2,_0x1accf6={};for(const [_0xed01c2,_0x324e0d]of Object[_0x281348(0x1bd)](_0x1b16ce['NWjHH'](_0xd49822,{}))){if(_0x1b16ce[_0x281348(0x1f0)](_0xed01c2,_0x1b16ce[_0x281348(0x1d8)]))continue;let _0x189852=![];for(const [_0x2954b6,_0x30aff4]of Object['entries'](W3CMapping)){if(_0x1b16ce['isooD'](_0xed01c2,_0x30aff4)){_0x1accf6[_0x2954b6]=_0x324e0d,_0x189852=!![];break;}}!_0x189852&&(_0x1accf6[_0xed01c2]=_0x324e0d);}const _0x52a63f=_0xd49822[_0x1b16ce[_0x281348(0x1d8)]]||{};for(const [_0x11f926,_0x40985c]of Object['entries'](_0x52a63f)){let _0x3af697=![];for(const [_0x513a7a,_0x2b04d7]of Object[_0x281348(0x1bd)](W3CMapping)){if(_0x1b16ce[_0x281348(0x1f0)](_0x11f926,_0x2b04d7)){_0x1accf6[_0x513a7a]=_0x40985c,_0x3af697=!![];break;}}!_0x3af697&&!_0x1b16ce[_0x281348(0x1cd)](_0x11f926,_0x1accf6)&&(_0x1accf6[_0x11f926]=_0x40985c);}return logger[_0x281348(0x1e3)](_0x281348(0x1af)+JSON[_0x281348(0x204)](_0x1accf6)),_0x1accf6;},getModifiedConfigFromCLI=async _0x49263d=>{const _0x5109a1=a122_0x52a21a,_0x164cc3={};_0x164cc3['tyzya']=_0x5109a1(0x1ba),_0x164cc3['caOoq']=_0x5109a1(0x1c7),_0x164cc3[_0x5109a1(0x1b4)]=_0x5109a1(0x1ea),_0x164cc3[_0x5109a1(0x1a1)]='No\x20modified\x20config\x20received\x20from\x20gRPC',_0x164cc3['HLPvu']=function(_0x2ebde7,_0x523a13){return _0x2ebde7>_0x523a13;},_0x164cc3['gNXcv']=_0x5109a1(0x1e0);const _0x506326=_0x164cc3;try{if(!GrpcClient)return logger[_0x5109a1(0x1e3)](_0x506326[_0x5109a1(0x205)]),null;const _0xf221c3={};_0xf221c3['capabilities']=_0x49263d,_0xf221c3[_0x5109a1(0x1b8)]=_0x506326[_0x5109a1(0x1da)],_0xf221c3[_0x5109a1(0x1b7)]=0x1,_0xf221c3['projects']=[];const _0x255e16=_0xf221c3;logger[_0x5109a1(0x1e3)](_0x506326[_0x5109a1(0x1b4)]);const _0x3736db={};_0x3736db[_0x5109a1(0x1f9)]=_0x255e16;const _0x58fa79=await GrpcClient['getInstance']()[_0x5109a1(0x1e7)](_0x3736db);if(!_0x58fa79[_0x5109a1(0x1f3)]())return logger[_0x5109a1(0x1e3)](_0x506326[_0x5109a1(0x1a1)]),null;const _0x436bc8=JSON[_0x5109a1(0x20c)](_0x58fa79['getConfig']());logger[_0x5109a1(0x1e3)]('Received\x20modified\x20config\x20from\x20gRPC:\x20'+JSON['stringify'](_0x436bc8));if(_0x436bc8['capabilities']&&Array['isArray'](_0x436bc8[_0x5109a1(0x19f)])&&_0x506326[_0x5109a1(0x1b3)](_0x436bc8['capabilities'][_0x5109a1(0x1f6)],0x0))return _0x436bc8['capabilities'][0x0];else{if(_0x436bc8['projects']&&Array[_0x5109a1(0x1a8)](_0x436bc8[_0x5109a1(0x1c8)])&&_0x506326[_0x5109a1(0x1b3)](_0x436bc8['projects']['length'],0x0)){const _0x2abcb4=_0x436bc8['projects'][0x0];if(_0x2abcb4[_0x5109a1(0x211)]&&_0x2abcb4['use']['platformCaps'])return _0x2abcb4['use'][_0x5109a1(0x1a9)];}}return logger[_0x5109a1(0x1e3)](_0x506326[_0x5109a1(0x1c6)]),null;}catch(_0x1d5a9d){logger[_0x5109a1(0x1c2)](_0x5109a1(0x213)+_0x1d5a9d['message']);throw _0x1d5a9d;}},generatePlaywrightUrl=(_0x55d019,_0x3e5e62)=>{const _0x13fedc=a122_0x52a21a,_0x348b01={'YCJnt':function(_0x1df4cc,_0x344677){return _0x1df4cc!==_0x344677;},'MqPkx':function(_0x3b286f,_0x337979){return _0x3b286f!==_0x337979;},'dmRwh':function(_0x5747f4,_0xf218c1){return _0x5747f4!==_0xf218c1;},'fgoni':function(_0x12fc2d,_0x5c1b6c){return _0x12fc2d!==_0x5c1b6c;},'ifgpE':function(_0x13b10a,_0x13f520){return _0x13b10a!==_0x13f520;},'UoLEW':function(_0xc650da,_0x2cef14){return _0xc650da(_0x2cef14);},'bJsaV':function(_0x360e77,_0xd2d71f){return _0x360e77||_0xd2d71f;},'rXSBi':function(_0x4cc64a,_0x2bb273){return _0x4cc64a(_0x2bb273);},'fQOpY':_0x13fedc(0x1be),'hncgh':'browserstack.accessibilityOptions.wcagVersion','QGhts':_0x13fedc(0x1d2),'VQQCz':_0x13fedc(0x1d7),'SpLVJ':_0x13fedc(0x1fe),'ouQko':_0x13fedc(0x1db),'gfSxX':function(_0x1f01fe,_0x274ce9){return _0x1f01fe+_0x274ce9;},'UNrHe':function(_0x335229,_0x215147){return _0x335229(_0x215147);}},_0x8da116=helper['getPlaywrightUrl'](_0x55d019),_0x3791f1=_0x348b01[_0x13fedc(0x1a2)](convertW3CToJsonWire,_0x3e5e62);try{const _0x425e6c=[_0x348b01[_0x13fedc(0x1dc)](_0x3e5e62,{}),global[_0x13fedc(0x1b6)]||{},global[_0x13fedc(0x1a7)]||{},global['__accessibilityOptions']||{}],_0x481f72=_0x5616dc=>{const _0x6c1dff=_0x13fedc;if(_0x348b01['YCJnt'](_0x3791f1[_0x5616dc],undefined)&&_0x348b01[_0x6c1dff(0x1b9)](_0x3791f1[_0x5616dc],null)&&_0x348b01[_0x6c1dff(0x1e9)](_0x3791f1[_0x5616dc],''))return;for(const _0x359427 of _0x425e6c){if(_0x359427&&_0x348b01[_0x6c1dff(0x20e)](_0x359427[_0x5616dc],undefined)&&_0x348b01[_0x6c1dff(0x1f8)](_0x359427[_0x5616dc],null)&&_0x348b01[_0x6c1dff(0x210)](_0x359427[_0x5616dc],'')){_0x3791f1[_0x5616dc]=_0x359427[_0x5616dc];return;}}};_0x348b01[_0x13fedc(0x1bb)](_0x481f72,_0x348b01[_0x13fedc(0x1b1)]),_0x348b01[_0x13fedc(0x1a2)](_0x481f72,_0x348b01[_0x13fedc(0x1bf)]),_0x348b01[_0x13fedc(0x1a2)](_0x481f72,_0x348b01[_0x13fedc(0x1fb)]),_0x348b01[_0x13fedc(0x1a2)](_0x481f72,_0x348b01[_0x13fedc(0x1d5)]),!_0x3791f1[_0x348b01[_0x13fedc(0x1b1)]]&&process[_0x13fedc(0x1ce)][_0x13fedc(0x201)]&&(_0x3791f1[_0x348b01[_0x13fedc(0x1b1)]]=process[_0x13fedc(0x1ce)][_0x13fedc(0x201)]);}catch(_0x56839c){logger[_0x13fedc(0x1e3)]('Unable\x20to\x20merge\x20accessibility\x20capabilities\x20into\x20Playwright\x20URL\x20caps:\x20'+util[_0x13fedc(0x19d)](_0x56839c));}return _0x3791f1[_0x348b01[_0x13fedc(0x20a)]]=process[_0x13fedc(0x1ce)][_0x13fedc(0x1e5)],_0x3791f1[_0x348b01[_0x13fedc(0x1e4)]]=helper[_0x13fedc(0x1f5)](),_0x348b01[_0x13fedc(0x19e)](_0x8da116,_0x348b01[_0x13fedc(0x206)](encodeURIComponent,JSON[_0x13fedc(0x204)](_0x3791f1)));},getBrowserFromCaps=_0x287290=>{const _0x8009f4=a122_0x52a21a,_0x4b591e={};_0x4b591e[_0x8009f4(0x1ab)]=_0x8009f4(0x19c);const _0x353121=_0x4b591e;return _0x287290[_0x8009f4(0x1a6)]||_0x287290[_0x8009f4(0x1fd)]||_0x353121[_0x8009f4(0x1ab)];},isPlaywrightAvailable=()=>{const _0x319dc7=a122_0x52a21a,_0x3735ff={'QqokC':_0x319dc7(0x1ca),'NqVDw':_0x319dc7(0x1a0),'GbsCO':_0x319dc7(0x212),'JseIt':function(_0x2d738a,_0x1c49fb){return _0x2d738a(_0x1c49fb);}};try{const _0x8d0f15=path[_0x319dc7(0x1dd)](_0x3735ff[_0x319dc7(0x209)],_0x3735ff['NqVDw'],_0x3735ff[_0x319dc7(0x1eb)]),_0x5cd099=_0x3735ff['JseIt'](importFileFromPWCore,_0x8d0f15);return!!_0x5cd099;}catch(_0x4072b7){return logger[_0x319dc7(0x1e3)](_0x319dc7(0x1a4)+util[_0x319dc7(0x19d)](_0x4072b7)),![];}},getPlaywrightBrowserType=()=>{const _0x173d03=a122_0x52a21a,_0xf5d54e={'IGCmY':_0x173d03(0x1ca),'cxhDX':_0x173d03(0x1a0),'BncNl':_0x173d03(0x212),'CVPUs':function(_0x2f0dc8,_0x379c55){return _0x2f0dc8(_0x379c55);}};try{const _0x302c5d=path[_0x173d03(0x1dd)](_0xf5d54e[_0x173d03(0x1b0)],_0xf5d54e['cxhDX'],_0xf5d54e['BncNl']),_0x5224df=_0xf5d54e[_0x173d03(0x1cf)](importFileFromPWCore,_0x302c5d);return _0x5224df?_0x5224df[_0x173d03(0x1a5)]:null;}catch(_0x12db2c){return logger[_0x173d03(0x1e3)](_0x173d03(0x1d6)+util[_0x173d03(0x19d)](_0x12db2c)),null;}},getPlaywrightModulePath=()=>{const _0x4c06a8=a122_0x52a21a,_0x5e0feb={};_0x5e0feb[_0x4c06a8(0x1ef)]=_0x4c06a8(0x1e1);const _0xd53e89=_0x5e0feb;return logger[_0x4c06a8(0x1e3)](_0xd53e89[_0x4c06a8(0x1ef)]),null;},getBrowserTypePath=()=>{const _0x6c23c=a122_0x52a21a,_0x1a38b8={};_0x1a38b8['GWhJd']='getBrowserTypePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead';const _0x2b652e=_0x1a38b8;return logger[_0x6c23c(0x1e3)](_0x2b652e[_0x6c23c(0x202)]),null;},checkPwandBootstrapCli=async(_0x34e5c7,_0x4cc38e,_0xebb619)=>{const _0x4da2f7=a122_0x52a21a,_0x37c71d={'eocPO':function(_0x3f0674,_0x4cffa6){return _0x3f0674(_0x4cffa6);},'aJceo':_0x4da2f7(0x1ff),'CJUxO':function(_0x2ee6a2,_0x268135){return _0x2ee6a2(_0x268135);}};if(_0x34e5c7){const _0x4127e7=constants[_0x4da2f7(0x1d4)]['PLAYWRIGHT'];logger['debug'](_0x4da2f7(0x1b2)+_0x34e5c7+'\x20for\x20'+_0x4cc38e+_0x4da2f7(0x1f2)),CLIUtils[_0x4da2f7(0x1c3)](_0x4cc38e,_0x4127e7);const {getProductMap:_0x1fa684}=_0x37c71d['eocPO'](require,_0x37c71d[_0x4da2f7(0x1ae)]);process[_0x4da2f7(0x1ce)][_0x4da2f7(0x1f1)]=JSON[_0x4da2f7(0x204)](_0x37c71d[_0x4da2f7(0x1ed)](_0x1fa684,_0xebb619['config'])),BrowserstackCLI['getInstance']()['setBrowserstackConfig'](_0xebb619[_0x4da2f7(0x1f4)],_0xebb619[_0x4da2f7(0x20d)],_0xebb619[_0x4da2f7(0x1b5)]),await BrowserstackCLI[_0x4da2f7(0x1d3)]()[_0x4da2f7(0x1ee)]();}},a122_0x488825={};a122_0x488825['convertW3CToJsonWire']=convertW3CToJsonWire,a122_0x488825[a122_0x52a21a(0x1ec)]=getModifiedConfigFromCLI,a122_0x488825[a122_0x52a21a(0x1a3)]=generatePlaywrightUrl,a122_0x488825[a122_0x52a21a(0x1cc)]=getBrowserFromCaps,a122_0x488825['isPlaywrightAvailable']=isPlaywrightAvailable,a122_0x488825[a122_0x52a21a(0x208)]=getPlaywrightBrowserType,a122_0x488825[a122_0x52a21a(0x1c5)]=getPlaywrightModulePath,a122_0x488825[a122_0x52a21a(0x200)]=getBrowserTypePath,a122_0x488825[a122_0x52a21a(0x1fc)]=importFileFromPWCore,a122_0x488825[a122_0x52a21a(0x1e8)]=checkPwandBootstrapCli,module[a122_0x52a21a(0x1ac)]=a122_0x488825;