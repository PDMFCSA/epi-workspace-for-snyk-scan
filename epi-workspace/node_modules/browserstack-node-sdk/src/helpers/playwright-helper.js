const a122_0x5e91a6=a122_0x5189;(function(_0x26110f,_0x1c98c3){const _0x2a82d6=a122_0x5189,_0x50aaba=_0x26110f();while(!![]){try{const _0x126f5f=parseInt(_0x2a82d6(0x16f))/0x1+parseInt(_0x2a82d6(0x19d))/0x2*(parseInt(_0x2a82d6(0x174))/0x3)+-parseInt(_0x2a82d6(0x1d2))/0x4*(-parseInt(_0x2a82d6(0x17f))/0x5)+parseInt(_0x2a82d6(0x18c))/0x6+parseInt(_0x2a82d6(0x17a))/0x7+-parseInt(_0x2a82d6(0x1c4))/0x8*(-parseInt(_0x2a82d6(0x1a3))/0x9)+-parseInt(_0x2a82d6(0x1be))/0xa;if(_0x126f5f===_0x1c98c3)break;else _0x50aaba['push'](_0x50aaba['shift']());}catch(_0x15b121){_0x50aaba['push'](_0x50aaba['shift']());}}}(a122_0x198f,0x77de9));const path=require('path'),util=require(a122_0x5e91a6(0x19e)),{importFileFromPWCore}=require(a122_0x5e91a6(0x1ae)),helper=require(a122_0x5e91a6(0x1ae)),logger=require(a122_0x5e91a6(0x1a0))[a122_0x5e91a6(0x194)],W3CMapping=require(a122_0x5e91a6(0x185))[a122_0x5e91a6(0x1b6)](),constants=require('../bin/utils/constants'),BrowserstackCLI=require(a122_0x5e91a6(0x192)),CLIUtils=require(a122_0x5e91a6(0x1bb));let GrpcClient;try{GrpcClient=require(a122_0x5e91a6(0x19a));}catch(a122_0x118745){logger[a122_0x5e91a6(0x1c1)](a122_0x5e91a6(0x1a9)+a122_0x118745[a122_0x5e91a6(0x18d)]),GrpcClient=null;}function a122_0x5189(_0x51ce6d,_0x1b582a){const _0x198f39=a122_0x198f();return a122_0x5189=function(_0x5189a0,_0x4e99bf){_0x5189a0=_0x5189a0-0x165;let _0x3f4f88=_0x198f39[_0x5189a0];return _0x3f4f88;},a122_0x5189(_0x51ce6d,_0x1b582a);}const convertW3CToJsonWire=_0x326a91=>{const _0x56e3bb=a122_0x5e91a6,_0x38eb74={};_0x38eb74[_0x56e3bb(0x16e)]=function(_0x4f0af5,_0x556626){return _0x4f0af5||_0x556626;},_0x38eb74[_0x56e3bb(0x1c0)]=function(_0x3e736e,_0x4bb151){return _0x3e736e===_0x4bb151;},_0x38eb74[_0x56e3bb(0x193)]=_0x56e3bb(0x1a2),_0x38eb74[_0x56e3bb(0x1d9)]=function(_0x296f62,_0x41cc99){return _0x296f62===_0x41cc99;},_0x38eb74['lGxlv']=function(_0x52062a,_0xa4422b){return _0x52062a in _0xa4422b;};const _0x582aa0=_0x38eb74,_0x8448f={};for(const [_0x168a1e,_0x469794]of Object['entries'](_0x582aa0[_0x56e3bb(0x16e)](_0x326a91,{}))){if(_0x582aa0[_0x56e3bb(0x1c0)](_0x168a1e,_0x582aa0['WUQob']))continue;let _0x19348=![];for(const [_0x2fac9f,_0x280669]of Object[_0x56e3bb(0x1a6)](W3CMapping)){if(_0x582aa0[_0x56e3bb(0x1d9)](_0x168a1e,_0x280669)){_0x8448f[_0x2fac9f]=_0x469794,_0x19348=!![];break;}}!_0x19348&&(_0x8448f[_0x168a1e]=_0x469794);}const _0x48223e=_0x326a91[_0x582aa0[_0x56e3bb(0x193)]]||{};for(const [_0x596b1d,_0x7a475e]of Object[_0x56e3bb(0x1a6)](_0x48223e)){let _0x35119e=![];for(const [_0x23a7d4,_0x1cd3b8]of Object[_0x56e3bb(0x1a6)](W3CMapping)){if(_0x582aa0['pikIA'](_0x596b1d,_0x1cd3b8)){_0x8448f[_0x23a7d4]=_0x7a475e,_0x35119e=!![];break;}}!_0x35119e&&!_0x582aa0[_0x56e3bb(0x195)](_0x596b1d,_0x8448f)&&(_0x8448f[_0x596b1d]=_0x7a475e);}return logger['debug'](_0x56e3bb(0x1cd)+JSON['stringify'](_0x8448f)),_0x8448f;},getModifiedConfigFromCLI=async _0x39d610=>{const _0x580631=a122_0x5e91a6,_0x4a6598={};_0x4a6598['hckZW']=_0x580631(0x178),_0x4a6598['KoVHw']=_0x580631(0x1ca),_0x4a6598[_0x580631(0x169)]=_0x580631(0x187),_0x4a6598['cQVlr']=_0x580631(0x1bf),_0x4a6598[_0x580631(0x1ac)]=function(_0x3d70c6,_0x1d494c){return _0x3d70c6>_0x1d494c;},_0x4a6598[_0x580631(0x189)]=_0x580631(0x177);const _0x3361a=_0x4a6598;try{if(!GrpcClient)return logger[_0x580631(0x1c1)](_0x3361a[_0x580631(0x1aa)]),null;const _0x2b175a={};_0x2b175a['capabilities']=_0x39d610,_0x2b175a['framework']=_0x3361a[_0x580631(0x18a)],_0x2b175a['workers']=0x1,_0x2b175a[_0x580631(0x1b0)]=[];const _0x195c4d=_0x2b175a;logger[_0x580631(0x1c1)](_0x3361a[_0x580631(0x169)]);const _0x57b962={};_0x57b962[_0x580631(0x1d6)]=_0x195c4d;const _0x2adb5c=await GrpcClient[_0x580631(0x1c6)]()['getPlaywrightConfig'](_0x57b962);if(!_0x2adb5c[_0x580631(0x1c2)]())return logger[_0x580631(0x1c1)](_0x3361a[_0x580631(0x1c8)]),null;const _0x4e846d=JSON[_0x580631(0x1ab)](_0x2adb5c[_0x580631(0x1c2)]());logger[_0x580631(0x1c1)](_0x580631(0x1b7)+JSON[_0x580631(0x18b)](_0x4e846d));if(_0x4e846d[_0x580631(0x1da)]&&Array[_0x580631(0x165)](_0x4e846d[_0x580631(0x1da)])&&_0x3361a[_0x580631(0x1ac)](_0x4e846d[_0x580631(0x1da)][_0x580631(0x1d5)],0x0))return _0x4e846d[_0x580631(0x1da)][0x0];else{if(_0x4e846d[_0x580631(0x1b0)]&&Array[_0x580631(0x165)](_0x4e846d[_0x580631(0x1b0)])&&_0x3361a[_0x580631(0x1ac)](_0x4e846d['projects'][_0x580631(0x1d5)],0x0)){const _0x236b05=_0x4e846d['projects'][0x0];if(_0x236b05[_0x580631(0x1a8)]&&_0x236b05[_0x580631(0x1a8)][_0x580631(0x1a7)])return _0x236b05[_0x580631(0x1a8)]['platformCaps'];}}return logger[_0x580631(0x1c1)](_0x3361a[_0x580631(0x189)]),null;}catch(_0x26555e){logger[_0x580631(0x19f)]('Error\x20getting\x20modified\x20config\x20from\x20gRPC:\x20'+_0x26555e[_0x580631(0x18d)]);throw _0x26555e;}},generatePlaywrightUrl=(_0x5560d1,_0x1fb414)=>{const _0x23dcbb=a122_0x5e91a6,_0x52bbc3={'ezurL':function(_0x25908e,_0x5f3206){return _0x25908e!==_0x5f3206;},'Pfgxk':function(_0x52d890,_0x398278){return _0x52d890!==_0x398278;},'qqhor':function(_0x2f35c3,_0x33623b){return _0x2f35c3!==_0x33623b;},'oiqjI':function(_0x4c0eff,_0x45db56){return _0x4c0eff(_0x45db56);},'luEjB':function(_0x4f356f,_0x204da3){return _0x4f356f||_0x204da3;},'znTzz':_0x23dcbb(0x1a5),'QRPAt':function(_0x30d6a0,_0x50df80){return _0x30d6a0(_0x50df80);},'nWjKI':'browserstack.accessibilityOptions.wcagVersion','dDGla':function(_0x465396,_0x126f72){return _0x465396(_0x126f72);},'MQZnt':_0x23dcbb(0x1ce),'JYAYN':function(_0xb228a1,_0x18263c){return _0xb228a1(_0x18263c);},'hBcJU':'browserstack.accessibilityOptions.scannerProcessingTimeout','otmjJ':_0x23dcbb(0x171),'FLdPg':'browserstack.buildProductMap','kgTXN':function(_0x31ab5c,_0x4afc6e){return _0x31ab5c+_0x4afc6e;},'whVWc':function(_0x4251cb,_0x489f5e){return _0x4251cb(_0x489f5e);}},_0x4e4bf1=helper['getPlaywrightUrl'](_0x5560d1),_0x50bcf1=_0x52bbc3[_0x23dcbb(0x1d0)](convertW3CToJsonWire,_0x1fb414);try{const _0x567ec8=[_0x52bbc3[_0x23dcbb(0x168)](_0x1fb414,{}),global[_0x23dcbb(0x1a4)]||{},global[_0x23dcbb(0x1d8)]||{},global[_0x23dcbb(0x176)]||{}],_0x1700a0=_0x10863f=>{const _0x54e15f=_0x23dcbb;if(_0x52bbc3[_0x54e15f(0x197)](_0x50bcf1[_0x10863f],undefined)&&_0x52bbc3[_0x54e15f(0x197)](_0x50bcf1[_0x10863f],null)&&_0x52bbc3[_0x54e15f(0x197)](_0x50bcf1[_0x10863f],''))return;for(const _0xd3cbfb of _0x567ec8){if(_0xd3cbfb&&_0x52bbc3[_0x54e15f(0x17b)](_0xd3cbfb[_0x10863f],undefined)&&_0x52bbc3[_0x54e15f(0x197)](_0xd3cbfb[_0x10863f],null)&&_0x52bbc3[_0x54e15f(0x182)](_0xd3cbfb[_0x10863f],'')){_0x50bcf1[_0x10863f]=_0xd3cbfb[_0x10863f];return;}}};_0x52bbc3['oiqjI'](_0x1700a0,_0x52bbc3[_0x23dcbb(0x1a1)]),_0x52bbc3[_0x23dcbb(0x1b9)](_0x1700a0,_0x52bbc3[_0x23dcbb(0x16c)]),_0x52bbc3['dDGla'](_0x1700a0,_0x52bbc3[_0x23dcbb(0x17e)]),_0x52bbc3[_0x23dcbb(0x17c)](_0x1700a0,_0x52bbc3[_0x23dcbb(0x1b5)]),!_0x50bcf1[_0x52bbc3[_0x23dcbb(0x1a1)]]&&process[_0x23dcbb(0x19b)]['BS_A11Y_JWT']&&(_0x50bcf1[_0x52bbc3[_0x23dcbb(0x1a1)]]=process['env'][_0x23dcbb(0x172)]);}catch(_0x2b0781){logger['debug']('Unable\x20to\x20merge\x20accessibility\x20capabilities\x20into\x20Playwright\x20URL\x20caps:\x20'+util[_0x23dcbb(0x1c3)](_0x2b0781));}return _0x50bcf1[_0x52bbc3[_0x23dcbb(0x1cb)]]=process[_0x23dcbb(0x19b)][_0x23dcbb(0x1d7)],_0x50bcf1[_0x52bbc3[_0x23dcbb(0x1d4)]]=helper[_0x23dcbb(0x16a)](),_0x52bbc3['kgTXN'](_0x4e4bf1,_0x52bbc3[_0x23dcbb(0x1b3)](encodeURIComponent,JSON[_0x23dcbb(0x18b)](_0x50bcf1)));},getBrowserFromCaps=_0x52933d=>{const _0x41b86e=a122_0x5e91a6,_0x2bbdb9={};_0x2bbdb9[_0x41b86e(0x167)]=_0x41b86e(0x175);const _0x234fb8=_0x2bbdb9;return _0x52933d['browserName']||_0x52933d[_0x41b86e(0x179)]||_0x234fb8[_0x41b86e(0x167)];},isPlaywrightAvailable=()=>{const _0x3d1cb5=a122_0x5e91a6,_0x286fa9={'LXcjj':'lib','IuiGh':_0x3d1cb5(0x191),'iXRUC':'browserType.js','nuuoa':function(_0x3da399,_0xa5e43c){return _0x3da399(_0xa5e43c);}};try{const _0x488f90=path[_0x3d1cb5(0x1cc)](_0x286fa9[_0x3d1cb5(0x190)],_0x286fa9[_0x3d1cb5(0x166)],_0x286fa9['iXRUC']),_0xf8c788=_0x286fa9[_0x3d1cb5(0x1d3)](importFileFromPWCore,_0x488f90);return!!_0xf8c788;}catch(_0x311368){return logger[_0x3d1cb5(0x1c1)]('Playwright\x20not\x20available:\x20'+util[_0x3d1cb5(0x1c3)](_0x311368)),![];}},getPlaywrightBrowserType=()=>{const _0x4bbc61=a122_0x5e91a6,_0x1495b6={'zlKoD':_0x4bbc61(0x1b2),'MOECx':_0x4bbc61(0x191),'UmUUt':_0x4bbc61(0x188),'QqjYz':function(_0x25dae2,_0x13a78d){return _0x25dae2(_0x13a78d);}};try{const _0x3473a6=path[_0x4bbc61(0x1cc)](_0x1495b6['zlKoD'],_0x1495b6[_0x4bbc61(0x173)],_0x1495b6[_0x4bbc61(0x198)]),_0x15da43=_0x1495b6[_0x4bbc61(0x1d1)](importFileFromPWCore,_0x3473a6);return _0x15da43?_0x15da43['BrowserType']:null;}catch(_0x375e34){return logger['debug'](_0x4bbc61(0x1b1)+util[_0x4bbc61(0x1c3)](_0x375e34)),null;}},getPlaywrightModulePath=()=>{const _0x10389e=a122_0x5e91a6,_0x2eba13={};_0x2eba13[_0x10389e(0x1cf)]=_0x10389e(0x1bd);const _0x34941a=_0x2eba13;return logger[_0x10389e(0x1c1)](_0x34941a[_0x10389e(0x1cf)]),null;},getBrowserTypePath=()=>{const _0x54c7ad=a122_0x5e91a6,_0x5aa278={};_0x5aa278[_0x54c7ad(0x184)]='getBrowserTypePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead';const _0x1bfe72=_0x5aa278;return logger[_0x54c7ad(0x1c1)](_0x1bfe72[_0x54c7ad(0x184)]),null;},checkPwandBootstrapCli=async(_0x2fe26b,_0x1a8ffc,_0x327d4c)=>{const _0x11d8c7=a122_0x5e91a6,_0x2550be={'JZqof':function(_0x65e020,_0xfa70f1){return _0x65e020(_0xfa70f1);},'LbLEm':_0x11d8c7(0x181)};if(_0x2fe26b){const _0x101ea5=constants[_0x11d8c7(0x180)][_0x11d8c7(0x1c9)];logger[_0x11d8c7(0x1c1)](_0x11d8c7(0x1b8)+_0x2fe26b+_0x11d8c7(0x186)+_0x1a8ffc+_0x11d8c7(0x1ad)),CLIUtils[_0x11d8c7(0x16b)](_0x1a8ffc,_0x101ea5);const {getProductMap:_0x4505c2}=_0x2550be['JZqof'](require,_0x2550be[_0x11d8c7(0x16d)]);process[_0x11d8c7(0x19b)][_0x11d8c7(0x18e)]=JSON[_0x11d8c7(0x18b)](_0x2550be[_0x11d8c7(0x199)](_0x4505c2,_0x327d4c[_0x11d8c7(0x170)])),BrowserstackCLI['getInstance']()['setBrowserstackConfig'](_0x327d4c[_0x11d8c7(0x170)],_0x327d4c[_0x11d8c7(0x18f)],_0x327d4c['cliConfig']),await BrowserstackCLI[_0x11d8c7(0x1c6)]()[_0x11d8c7(0x1ba)]();}},a122_0x1ba2cc={};a122_0x1ba2cc[a122_0x5e91a6(0x1c5)]=convertW3CToJsonWire,a122_0x1ba2cc[a122_0x5e91a6(0x19c)]=getModifiedConfigFromCLI,a122_0x1ba2cc[a122_0x5e91a6(0x1c7)]=generatePlaywrightUrl,a122_0x1ba2cc[a122_0x5e91a6(0x1af)]=getBrowserFromCaps,a122_0x1ba2cc[a122_0x5e91a6(0x17d)]=isPlaywrightAvailable,a122_0x1ba2cc[a122_0x5e91a6(0x1b4)]=getPlaywrightBrowserType,a122_0x1ba2cc[a122_0x5e91a6(0x1bc)]=getPlaywrightModulePath,a122_0x1ba2cc['getBrowserTypePath']=getBrowserTypePath,a122_0x1ba2cc[a122_0x5e91a6(0x196)]=importFileFromPWCore,a122_0x1ba2cc['checkPwandBootstrapCli']=checkPwandBootstrapCli,module[a122_0x5e91a6(0x183)]=a122_0x1ba2cc;function a122_0x198f(){const _0x5c8498=['tKWCW','./w3cMapping','\x20for\x20','Requesting\x20modified\x20Playwright\x20config\x20from\x20gRPC\x20for\x20cucumberjs-pw','browserType.js','hInKk','KoVHw','stringify','5464812iLfYXV','message','BROWSERSTACK_PRODUCT_MAP','configPath','LXcjj','client','../bin/v2/browserstackCLI','WUQob','winstonLogger','lGxlv','importFileFromPWCore','ezurL','UmUUt','JZqof','../bin/v2/grpcClient','env','getModifiedConfigFromCLI','145612ELpZQg','util','error','./logger','znTzz','bstack:options','324ZjtSXM','__launchCaps','browserstack.accessibilityOptions.authToken','entries','platformCaps','use','Could\x20not\x20import\x20GrpcClient:\x20','hckZW','parse','ljhDF','\x20flow','./helper','getBrowserFromCaps','projects','Error\x20getting\x20Playwright\x20BrowserType:\x20','lib','whVWc','getPlaywrightBrowserType','hBcJU','W3CMapping','Received\x20modified\x20config\x20from\x20gRPC:\x20','Detected\x20Playwright\x20version\x20','QRPAt','bootstrap','../bin/v2/cliUtils','getPlaywrightModulePath','getPlaywrightModulePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead','28748590MZCKOm','No\x20modified\x20config\x20received\x20from\x20gRPC','pikIA','debug','getConfig','format','173688LKYPRX','convertW3CToJsonWire','getInstance','generatePlaywrightUrl','cQVlr','PLAYWRIGHT','cucumberjs-pw','otmjJ','join','Converted\x20W3C\x20caps\x20to\x20JSONWire:\x20','browserstack.accessibilityOptions.scannerVersion','vaHqb','oiqjI','QqjYz','16052pVhsQm','nuuoa','FLdPg','length','playwrightConfigObject','BROWSERSTACK_TESTHUB_UUID','__platformCaps','xOrep','capabilities','isArray','IuiGh','XNdCl','luEjB','MGGfC','getBuildProductMap','setFrameworkDetail','nWjKI','LbLEm','nFgAX','346066TOoBfV','config','browserstack.testhubBuildUuid','BS_A11Y_JWT','MOECx','6YWKeiE','chrome','__accessibilityOptions','No\x20usable\x20capabilities\x20found\x20in\x20modified\x20config\x20response','GrpcClient\x20not\x20available,\x20skipping\x20modified\x20config\x20request','browser','5379003jlKOwA','Pfgxk','JYAYN','isPlaywrightAvailable','MQZnt','515kBKRZF','FRAMEWORKS','./testhub/utils','qqhor','exports'];a122_0x198f=function(){return _0x5c8498;};return a122_0x198f();}