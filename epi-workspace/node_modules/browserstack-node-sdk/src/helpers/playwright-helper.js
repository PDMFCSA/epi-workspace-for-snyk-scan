const a122_0x3b777f=a122_0x5b93;(function(_0x335f44,_0x545b16){const _0x209cfb=a122_0x5b93,_0x58cb14=_0x335f44();while(!![]){try{const _0x3a05e4=-parseInt(_0x209cfb(0x1f8))/0x1*(-parseInt(_0x209cfb(0x21d))/0x2)+parseInt(_0x209cfb(0x1ff))/0x3*(parseInt(_0x209cfb(0x240))/0x4)+parseInt(_0x209cfb(0x247))/0x5*(parseInt(_0x209cfb(0x1f9))/0x6)+-parseInt(_0x209cfb(0x237))/0x7*(-parseInt(_0x209cfb(0x218))/0x8)+parseInt(_0x209cfb(0x23b))/0x9+-parseInt(_0x209cfb(0x1f7))/0xa*(parseInt(_0x209cfb(0x22f))/0xb)+-parseInt(_0x209cfb(0x1f1))/0xc;if(_0x3a05e4===_0x545b16)break;else _0x58cb14['push'](_0x58cb14['shift']());}catch(_0x70dd86){_0x58cb14['push'](_0x58cb14['shift']());}}}(a122_0x10f3,0x601be));function a122_0x10f3(){const _0x259c5f=['debug','error','use','KnzoQ','message','Could\x20not\x20import\x20GrpcClient:\x20','NfFQE','configPath','util','14264HNzMcr','FjaEB','Unable\x20to\x20merge\x20accessibility\x20capabilities\x20into\x20Playwright\x20URL\x20caps:\x20','browserstack.accessibilityOptions.scannerVersion','getPlaywrightUrl','3606XJLkke','../bin/utils/constants','browserType.js','kuOeX','No\x20usable\x20capabilities\x20found\x20in\x20modified\x20config\x20response','getPlaywrightBrowserType','aUaqt','workers','lib','jXIzS','join','browserstack.testhubBuildUuid','getBrowserTypePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead','GrpcClient\x20not\x20available,\x20skipping\x20modified\x20config\x20request','syzGv','config','wktPu','YXvAh','44vBkouU','exports','No\x20modified\x20config\x20received\x20from\x20gRPC','Tbwug','FbqLt','W3CMapping','Received\x20modified\x20config\x20from\x20gRPC:\x20','browserstack.accessibilityOptions.authToken','1309oXuzVj','tWiQy','__platformCaps','parse','3634155EiMKXP','Error\x20getting\x20Playwright\x20BrowserType:\x20','platformCaps','cucumberjs-pw','setFrameworkDetail','8RjLDeJ','format','convertW3CToJsonWire','framework','TzRuS','CsWoo','bstack:options','15xNtguK','bQzYV','../bin/v2/browserstackCLI','chrome','isPlaywrightAvailable','getInstance','MfUKU','stringify','isArray','wTWmD','Playwright\x20not\x20available:\x20','Error\x20getting\x20modified\x20config\x20from\x20gRPC:\x20','browserstack.accessibilityOptions.wcagVersion','bootstrap','path','PNrKs','client','xyiiA','getConfig','Requesting\x20modified\x20Playwright\x20config\x20from\x20gRPC\x20for\x20cucumberjs-pw','ZZSEX','UCsOn','VdLkJ','neUJz','getPlaywrightModulePath','./w3cMapping','../bin/v2/grpcClient','getModifiedConfigFromCLI','projects','winstonLogger','getBrowserTypePath','importFileFromPWCore','QDDON','bbmuB','capabilities','rFfbQ','PLAYWRIGHT','browserstack.buildProductMap','23242308PehzYZ','./helper','wsEXD','lWUfe','getBuildProductMap','oesDt','693040POCIVE','383jFBRUj','793488OpouyJ','../bin/v2/cliUtils','entries','checkPwandBootstrapCli','generatePlaywrightUrl','cliConfig','1174842eiwZvX','YpcgM','QqLWR','FRAMEWORKS','\x20flow','browserName','env','CfTCB','Converted\x20W3C\x20caps\x20to\x20JSONWire:\x20','BS_A11Y_JWT','__accessibilityOptions','qiACZ','getPlaywrightModulePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead','FZLlP','BROWSERSTACK_PRODUCT_MAP','VURMf'];a122_0x10f3=function(){return _0x259c5f;};return a122_0x10f3();}const path=require(a122_0x3b777f(0x255)),util=require(a122_0x3b777f(0x217)),{importFileFromPWCore}=require(a122_0x3b777f(0x1f2)),helper=require(a122_0x3b777f(0x1f2)),logger=require('./logger')[a122_0x3b777f(0x264)],W3CMapping=require(a122_0x3b777f(0x260))[a122_0x3b777f(0x234)](),constants=require(a122_0x3b777f(0x21e)),BrowserstackCLI=require(a122_0x3b777f(0x249)),CLIUtils=require(a122_0x3b777f(0x1fa));let GrpcClient;try{GrpcClient=require(a122_0x3b777f(0x261));}catch(a122_0x3deef3){logger['debug'](a122_0x3b777f(0x214)+a122_0x3deef3[a122_0x3b777f(0x213)]),GrpcClient=null;}const convertW3CToJsonWire=_0x47c183=>{const _0x3e41b5=a122_0x3b777f,_0x4a09aa={};_0x4a09aa['lytBl']=function(_0x28c074,_0x4e3ff6){return _0x28c074||_0x4e3ff6;},_0x4a09aa['VdLkJ']=function(_0x48820e,_0x321c50){return _0x48820e===_0x321c50;},_0x4a09aa[_0x3e41b5(0x223)]=_0x3e41b5(0x246),_0x4a09aa[_0x3e41b5(0x256)]=function(_0x46c63f,_0x31b203){return _0x46c63f===_0x31b203;},_0x4a09aa['YpcgM']=function(_0x49fb69,_0x329211){return _0x49fb69 in _0x329211;};const _0x1cd928=_0x4a09aa,_0x31e3ce={};for(const [_0x28ef66,_0x4fe162]of Object[_0x3e41b5(0x1fb)](_0x1cd928['lytBl'](_0x47c183,{}))){if(_0x1cd928[_0x3e41b5(0x25d)](_0x28ef66,_0x1cd928[_0x3e41b5(0x223)]))continue;let _0x151352=![];for(const [_0x421f52,_0x501a42]of Object[_0x3e41b5(0x1fb)](W3CMapping)){if(_0x1cd928[_0x3e41b5(0x256)](_0x28ef66,_0x501a42)){_0x31e3ce[_0x421f52]=_0x4fe162,_0x151352=!![];break;}}!_0x151352&&(_0x31e3ce[_0x28ef66]=_0x4fe162);}const _0x340aff=_0x47c183[_0x1cd928[_0x3e41b5(0x223)]]||{};for(const [_0x295313,_0x24b0b8]of Object[_0x3e41b5(0x1fb)](_0x340aff)){let _0x3956f9=![];for(const [_0x58835d,_0x441fbe]of Object[_0x3e41b5(0x1fb)](W3CMapping)){if(_0x1cd928[_0x3e41b5(0x256)](_0x295313,_0x441fbe)){_0x31e3ce[_0x58835d]=_0x24b0b8,_0x3956f9=!![];break;}}!_0x3956f9&&!_0x1cd928[_0x3e41b5(0x200)](_0x295313,_0x31e3ce)&&(_0x31e3ce[_0x295313]=_0x24b0b8);}return logger[_0x3e41b5(0x20f)](_0x3e41b5(0x207)+JSON[_0x3e41b5(0x24e)](_0x31e3ce)),_0x31e3ce;},getModifiedConfigFromCLI=async _0x4e82bc=>{const _0x1067f2=a122_0x3b777f,_0x52a7a5={};_0x52a7a5[_0x1067f2(0x248)]=_0x1067f2(0x22a),_0x52a7a5[_0x1067f2(0x220)]=_0x1067f2(0x23e),_0x52a7a5[_0x1067f2(0x20a)]=_0x1067f2(0x25a),_0x52a7a5[_0x1067f2(0x232)]=_0x1067f2(0x231),_0x52a7a5[_0x1067f2(0x22b)]=function(_0x33d685,_0x4f8345){return _0x33d685>_0x4f8345;},_0x52a7a5[_0x1067f2(0x26a)]=_0x1067f2(0x221);const _0x2e29d2=_0x52a7a5;try{if(!GrpcClient)return logger[_0x1067f2(0x20f)](_0x2e29d2[_0x1067f2(0x248)]),null;const _0x401ac2={};_0x401ac2['capabilities']=_0x4e82bc,_0x401ac2[_0x1067f2(0x243)]=_0x2e29d2[_0x1067f2(0x220)],_0x401ac2[_0x1067f2(0x224)]=0x1,_0x401ac2[_0x1067f2(0x263)]=[];const _0x2fcab0=_0x401ac2;logger[_0x1067f2(0x20f)](_0x2e29d2[_0x1067f2(0x20a)]);const _0x419f8c={};_0x419f8c['playwrightConfigObject']=_0x2fcab0;const _0x159f2b=await GrpcClient[_0x1067f2(0x24c)]()['getPlaywrightConfig'](_0x419f8c);if(!_0x159f2b[_0x1067f2(0x259)]())return logger[_0x1067f2(0x20f)](_0x2e29d2[_0x1067f2(0x232)]),null;const _0x48a092=JSON[_0x1067f2(0x23a)](_0x159f2b[_0x1067f2(0x259)]());logger[_0x1067f2(0x20f)](_0x1067f2(0x235)+JSON[_0x1067f2(0x24e)](_0x48a092));if(_0x48a092[_0x1067f2(0x269)]&&Array[_0x1067f2(0x24f)](_0x48a092[_0x1067f2(0x269)])&&_0x2e29d2['syzGv'](_0x48a092[_0x1067f2(0x269)]['length'],0x0))return _0x48a092['capabilities'][0x0];else{if(_0x48a092[_0x1067f2(0x263)]&&Array[_0x1067f2(0x24f)](_0x48a092['projects'])&&_0x2e29d2[_0x1067f2(0x22b)](_0x48a092[_0x1067f2(0x263)]['length'],0x0)){const _0x2f5d49=_0x48a092['projects'][0x0];if(_0x2f5d49['use']&&_0x2f5d49[_0x1067f2(0x211)][_0x1067f2(0x23d)])return _0x2f5d49[_0x1067f2(0x211)][_0x1067f2(0x23d)];}}return logger['debug'](_0x2e29d2['rFfbQ']),null;}catch(_0x40a276){logger[_0x1067f2(0x210)](_0x1067f2(0x252)+_0x40a276[_0x1067f2(0x213)]);throw _0x40a276;}},generatePlaywrightUrl=(_0x18481f,_0x5794a6)=>{const _0x384f22=a122_0x3b777f,_0x4bb3c0={'wsEXD':function(_0x589207,_0x1ac666){return _0x589207!==_0x1ac666;},'FjaEB':function(_0x493ccf,_0x4240c0){return _0x493ccf!==_0x4240c0;},'FZLlP':function(_0x40bcf5,_0x24591a){return _0x40bcf5!==_0x24591a;},'EGstz':function(_0x1a0c78,_0x4cb7a5){return _0x1a0c78(_0x4cb7a5);},'jXIzS':function(_0x7d2a52,_0x16ec2e){return _0x7d2a52||_0x16ec2e;},'bbmuB':function(_0x38b347,_0x300ac8){return _0x38b347(_0x300ac8);},'KnzoQ':_0x384f22(0x236),'CfTCB':_0x384f22(0x253),'TzRuS':_0x384f22(0x21b),'xyiiA':function(_0x106f31,_0x535c7d){return _0x106f31(_0x535c7d);},'QDDON':'browserstack.accessibilityOptions.scannerProcessingTimeout','neUJz':_0x384f22(0x228),'oesDt':_0x384f22(0x1f0),'UCsOn':function(_0x4b3ab6,_0x51a599){return _0x4b3ab6+_0x51a599;},'BegUq':function(_0x19e82d,_0x3c2886){return _0x19e82d(_0x3c2886);}},_0x1f3536=helper[_0x384f22(0x21c)](_0x18481f),_0x34868a=_0x4bb3c0['EGstz'](convertW3CToJsonWire,_0x5794a6);try{const _0x501a72=[_0x4bb3c0[_0x384f22(0x226)](_0x5794a6,{}),global['__launchCaps']||{},global[_0x384f22(0x239)]||{},global[_0x384f22(0x209)]||{}],_0x2ecb14=_0x4de7e7=>{const _0x4369eb=_0x384f22;if(_0x4bb3c0['wsEXD'](_0x34868a[_0x4de7e7],undefined)&&_0x4bb3c0[_0x4369eb(0x219)](_0x34868a[_0x4de7e7],null)&&_0x4bb3c0[_0x4369eb(0x1f3)](_0x34868a[_0x4de7e7],''))return;for(const _0x26ceca of _0x501a72){if(_0x26ceca&&_0x4bb3c0[_0x4369eb(0x1f3)](_0x26ceca[_0x4de7e7],undefined)&&_0x4bb3c0[_0x4369eb(0x219)](_0x26ceca[_0x4de7e7],null)&&_0x4bb3c0[_0x4369eb(0x20c)](_0x26ceca[_0x4de7e7],'')){_0x34868a[_0x4de7e7]=_0x26ceca[_0x4de7e7];return;}}};_0x4bb3c0[_0x384f22(0x268)](_0x2ecb14,_0x4bb3c0[_0x384f22(0x212)]),_0x4bb3c0[_0x384f22(0x268)](_0x2ecb14,_0x4bb3c0[_0x384f22(0x206)]),_0x4bb3c0[_0x384f22(0x268)](_0x2ecb14,_0x4bb3c0[_0x384f22(0x244)]),_0x4bb3c0[_0x384f22(0x258)](_0x2ecb14,_0x4bb3c0[_0x384f22(0x267)]),!_0x34868a[_0x4bb3c0[_0x384f22(0x212)]]&&process['env'][_0x384f22(0x208)]&&(_0x34868a[_0x4bb3c0[_0x384f22(0x212)]]=process['env'][_0x384f22(0x208)]);}catch(_0x2fa520){logger[_0x384f22(0x20f)](_0x384f22(0x21a)+util[_0x384f22(0x241)](_0x2fa520));}return _0x34868a[_0x4bb3c0[_0x384f22(0x25e)]]=process[_0x384f22(0x205)]['BROWSERSTACK_TESTHUB_UUID'],_0x34868a[_0x4bb3c0[_0x384f22(0x1f6)]]=helper[_0x384f22(0x1f5)](),_0x4bb3c0[_0x384f22(0x25c)](_0x1f3536,_0x4bb3c0['BegUq'](encodeURIComponent,JSON[_0x384f22(0x24e)](_0x34868a)));},getBrowserFromCaps=_0x26bd0d=>{const _0x3ff2d0=a122_0x3b777f,_0x12ecf6={};_0x12ecf6[_0x3ff2d0(0x24d)]=_0x3ff2d0(0x24a);const _0x288e11=_0x12ecf6;return _0x26bd0d[_0x3ff2d0(0x204)]||_0x26bd0d['browser']||_0x288e11[_0x3ff2d0(0x24d)];},isPlaywrightAvailable=()=>{const _0x2e72d3=a122_0x3b777f,_0x5d7bb2={'wTWmD':_0x2e72d3(0x225),'VURMf':_0x2e72d3(0x257),'FbqLt':_0x2e72d3(0x21f),'PsEQc':function(_0x3e6aa2,_0x313b22){return _0x3e6aa2(_0x313b22);}};try{const _0x1a662d=path[_0x2e72d3(0x227)](_0x5d7bb2[_0x2e72d3(0x250)],_0x5d7bb2[_0x2e72d3(0x20e)],_0x5d7bb2[_0x2e72d3(0x233)]),_0x243527=_0x5d7bb2['PsEQc'](importFileFromPWCore,_0x1a662d);return!!_0x243527;}catch(_0x3e02db){return logger[_0x2e72d3(0x20f)](_0x2e72d3(0x251)+util[_0x2e72d3(0x241)](_0x3e02db)),![];}},getPlaywrightBrowserType=()=>{const _0x34f513=a122_0x3b777f,_0x393ef4={'YXvAh':_0x34f513(0x225),'tWiQy':_0x34f513(0x257),'QqLWR':'browserType.js','ZZSEX':function(_0x41d320,_0x122245){return _0x41d320(_0x122245);}};try{const _0x5229be=path[_0x34f513(0x227)](_0x393ef4[_0x34f513(0x22e)],_0x393ef4[_0x34f513(0x238)],_0x393ef4[_0x34f513(0x201)]),_0x56a73c=_0x393ef4[_0x34f513(0x25b)](importFileFromPWCore,_0x5229be);return _0x56a73c?_0x56a73c['BrowserType']:null;}catch(_0x43a13c){return logger[_0x34f513(0x20f)](_0x34f513(0x23c)+util['format'](_0x43a13c)),null;}},getPlaywrightModulePath=()=>{const _0x41c124=a122_0x3b777f,_0x453c49={};_0x453c49[_0x41c124(0x1f4)]=_0x41c124(0x20b);const _0x8bb185=_0x453c49;return logger[_0x41c124(0x20f)](_0x8bb185[_0x41c124(0x1f4)]),null;},getBrowserTypePath=()=>{const _0x108098=a122_0x3b777f,_0x2ed5f1={};_0x2ed5f1[_0x108098(0x245)]=_0x108098(0x229);const _0x400460=_0x2ed5f1;return logger[_0x108098(0x20f)](_0x400460[_0x108098(0x245)]),null;},checkPwandBootstrapCli=async(_0x8ebaae,_0x31b413,_0x4c4f20)=>{const _0x55a5e6=a122_0x3b777f,_0x3e7456={'wktPu':function(_0x5486a8,_0x433ed7){return _0x5486a8(_0x433ed7);},'NfFQE':'./testhub/utils'};if(_0x8ebaae){const _0x4a4666=constants[_0x55a5e6(0x202)][_0x55a5e6(0x1ef)];logger['debug']('Detected\x20Playwright\x20version\x20'+_0x8ebaae+'\x20for\x20'+_0x31b413+_0x55a5e6(0x203)),CLIUtils[_0x55a5e6(0x23f)](_0x31b413,_0x4a4666);const {getProductMap:_0x303bae}=_0x3e7456[_0x55a5e6(0x22d)](require,_0x3e7456[_0x55a5e6(0x215)]);process[_0x55a5e6(0x205)][_0x55a5e6(0x20d)]=JSON[_0x55a5e6(0x24e)](_0x3e7456[_0x55a5e6(0x22d)](_0x303bae,_0x4c4f20['config'])),BrowserstackCLI[_0x55a5e6(0x24c)]()['setBrowserstackConfig'](_0x4c4f20[_0x55a5e6(0x22c)],_0x4c4f20[_0x55a5e6(0x216)],_0x4c4f20[_0x55a5e6(0x1fe)]),await BrowserstackCLI[_0x55a5e6(0x24c)]()[_0x55a5e6(0x254)]();}},a122_0x4d2519={};function a122_0x5b93(_0x1e1420,_0x212eef){const _0x10f356=a122_0x10f3();return a122_0x5b93=function(_0x5b930e,_0x3cd4f9){_0x5b930e=_0x5b930e-0x1ef;let _0x1b844f=_0x10f356[_0x5b930e];return _0x1b844f;},a122_0x5b93(_0x1e1420,_0x212eef);}a122_0x4d2519[a122_0x3b777f(0x242)]=convertW3CToJsonWire,a122_0x4d2519[a122_0x3b777f(0x262)]=getModifiedConfigFromCLI,a122_0x4d2519[a122_0x3b777f(0x1fd)]=generatePlaywrightUrl,a122_0x4d2519['getBrowserFromCaps']=getBrowserFromCaps,a122_0x4d2519[a122_0x3b777f(0x24b)]=isPlaywrightAvailable,a122_0x4d2519[a122_0x3b777f(0x222)]=getPlaywrightBrowserType,a122_0x4d2519[a122_0x3b777f(0x25f)]=getPlaywrightModulePath,a122_0x4d2519[a122_0x3b777f(0x265)]=getBrowserTypePath,a122_0x4d2519[a122_0x3b777f(0x266)]=importFileFromPWCore,a122_0x4d2519[a122_0x3b777f(0x1fc)]=checkPwandBootstrapCli,module[a122_0x3b777f(0x230)]=a122_0x4d2519;