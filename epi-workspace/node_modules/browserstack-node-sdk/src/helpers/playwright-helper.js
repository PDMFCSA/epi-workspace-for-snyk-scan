const a121_0x375d92=a121_0x1a2d;function a121_0x3de3(){const _0x2f2ee3=['Unable\x20to\x20merge\x20accessibility\x20capabilities\x20into\x20Playwright\x20URL\x20caps:\x20','Error\x20getting\x20Playwright\x20BrowserType:\x20','nyFIi','bootstrap','Mbxbt','cliConfig','cucumberjs-pw','length','browser','Converted\x20W3C\x20caps\x20to\x20JSONWire:\x20','tcSYn','__accessibilityOptions','1276152rfiacI','winstonLogger','YYnLX','browserstack.accessibilityOptions.scannerProcessingTimeout','153496cPgmLz','BSYmY','checkPwandBootstrapCli','4003904ddOAZp','isArray','Unixm','EVxht','../bin/v2/cliUtils','isPlaywrightAvailable','getPlaywrightConfig','setFrameworkDetail','importFileFromPWCore','projects','GHCUp','SjdGu','./helper','getConfig','kFjSY','getModifiedConfigFromCLI','BROWSERSTACK_PRODUCT_MAP','Could\x20not\x20import\x20GrpcClient:\x20','convertW3CToJsonWire','lZgrv','uYoay','Detected\x20Playwright\x20version\x20','csdvF','OlEVd','aFNpD','browserstack.accessibilityOptions.authToken','workers','join','qefXS','../bin/v2/browserstackCLI','QvNMP','GyAFt','debug','getPlaywrightBrowserType','error','FGWTk','4SQhYvA','Playwright\x20not\x20available:\x20','getPlaywrightModulePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead','WJtCl','JTAts','getBrowserTypePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead','jbpWh','playwrightConfigObject','path','QSwQR','format','exports','eNPCL','BrowserType','Isddf','Received\x20modified\x20config\x20from\x20gRPC:\x20','W3CMapping','\x20for\x20','browserstack.accessibilityOptions.wcagVersion','entries','2433949UwenTt','message','etKUl','browserName','browserstack.buildProductMap','browserType.js','chrome','739890mQbmQN','browserstack.accessibilityOptions.scannerVersion','lib','PLAYWRIGHT','Plpua','__platformCaps','No\x20modified\x20config\x20received\x20from\x20gRPC','./testhub/utils','pCQOh','getInstance','capabilities','xXEqf','85761RDGnnG','stringify','env','BROWSERSTACK_TESTHUB_UUID','vUgPc','framework','844374iyzaqT','getPlaywrightUrl','browserstack.testhubBuildUuid','config','use','Requesting\x20modified\x20Playwright\x20config\x20from\x20gRPC\x20for\x20cucumberjs-pw','util','GrpcClient\x20not\x20available,\x20skipping\x20modified\x20config\x20request','gbRvN','setBrowserstackConfig','./w3cMapping','pDKIA','gNzDr','client','iBrjy','tsPpY','platformCaps','eLWyx'];a121_0x3de3=function(){return _0x2f2ee3;};return a121_0x3de3();}(function(_0x516ed2,_0x3c0293){const _0x399270=a121_0x1a2d,_0x368228=_0x516ed2();while(!![]){try{const _0x3501de=parseInt(_0x399270(0x85))/0x1+parseInt(_0x399270(0xd9))/0x2+parseInt(_0x399270(0xd3))/0x3+-parseInt(_0x399270(0xac))/0x4*(-parseInt(_0x399270(0xc7))/0x5)+-parseInt(_0x399270(0x81))/0x6+parseInt(_0x399270(0xc0))/0x7+-parseInt(_0x399270(0x88))/0x8;if(_0x3501de===_0x3c0293)break;else _0x368228['push'](_0x368228['shift']());}catch(_0x53eb32){_0x368228['push'](_0x368228['shift']());}}}(a121_0x3de3,0x5e6d7));const path=require(a121_0x375d92(0xb4)),util=require(a121_0x375d92(0xdf)),{importFileFromPWCore}=require(a121_0x375d92(0x94)),helper=require(a121_0x375d92(0x94)),logger=require('./logger')[a121_0x375d92(0x82)],W3CMapping=require(a121_0x375d92(0xe3))[a121_0x375d92(0xbc)](),constants=require('../bin/utils/constants'),BrowserstackCLI=require(a121_0x375d92(0xa5)),CLIUtils=require(a121_0x375d92(0x8c));let GrpcClient;try{GrpcClient=require('../bin/v2/grpcClient');}catch(a121_0x3e7e5f){logger['debug'](a121_0x375d92(0x99)+a121_0x3e7e5f[a121_0x375d92(0xc1)]),GrpcClient=null;}const convertW3CToJsonWire=_0x13c335=>{const _0x3a1d5a=a121_0x375d92,_0x415621={};_0x415621[_0x3a1d5a(0xab)]=function(_0x2e7f02,_0x362e79){return _0x2e7f02||_0x362e79;},_0x415621[_0x3a1d5a(0xe1)]=function(_0x43969d,_0x36329c){return _0x43969d===_0x36329c;},_0x415621[_0x3a1d5a(0xa4)]='bstack:options',_0x415621['nyFIi']=function(_0xa66209,_0x12ee47){return _0xa66209===_0x12ee47;},_0x415621['jbpWh']=function(_0x54606b,_0x188d2d){return _0x54606b in _0x188d2d;};const _0x3ff1c0=_0x415621,_0x30aa16={};for(const [_0x5b9718,_0x30bdf8]of Object[_0x3a1d5a(0xbf)](_0x3ff1c0['FGWTk'](_0x13c335,{}))){if(_0x3ff1c0['gbRvN'](_0x5b9718,_0x3ff1c0[_0x3a1d5a(0xa4)]))continue;let _0x6f253c=![];for(const [_0x40353f,_0x57450c]of Object[_0x3a1d5a(0xbf)](W3CMapping)){if(_0x3ff1c0[_0x3a1d5a(0xe1)](_0x5b9718,_0x57450c)){_0x30aa16[_0x40353f]=_0x30bdf8,_0x6f253c=!![];break;}}!_0x6f253c&&(_0x30aa16[_0x5b9718]=_0x30bdf8);}const _0x3e6587=_0x13c335[_0x3ff1c0[_0x3a1d5a(0xa4)]]||{};for(const [_0x1b36ff,_0x1662af]of Object[_0x3a1d5a(0xbf)](_0x3e6587)){let _0x15c677=![];for(const [_0x55f57e,_0x37a674]of Object[_0x3a1d5a(0xbf)](W3CMapping)){if(_0x3ff1c0[_0x3a1d5a(0xed)](_0x1b36ff,_0x37a674)){_0x30aa16[_0x55f57e]=_0x1662af,_0x15c677=!![];break;}}!_0x15c677&&!_0x3ff1c0[_0x3a1d5a(0xb2)](_0x1b36ff,_0x30aa16)&&(_0x30aa16[_0x1b36ff]=_0x1662af);}return logger[_0x3a1d5a(0xa8)](_0x3a1d5a(0x7e)+JSON[_0x3a1d5a(0xd4)](_0x30aa16)),_0x30aa16;},getModifiedConfigFromCLI=async _0xf394d=>{const _0x5bf9eb=a121_0x375d92,_0x44cbd2={};_0x44cbd2['Plpua']=_0x5bf9eb(0xe0),_0x44cbd2[_0x5bf9eb(0xcf)]=_0x5bf9eb(0x7b),_0x44cbd2[_0x5bf9eb(0xaf)]=_0x5bf9eb(0xde),_0x44cbd2[_0x5bf9eb(0x96)]=_0x5bf9eb(0xcd),_0x44cbd2[_0x5bf9eb(0xc2)]=function(_0x3373e4,_0x20aef9){return _0x3373e4>_0x20aef9;},_0x44cbd2[_0x5bf9eb(0xa7)]=function(_0x188c84,_0x3a9a34){return _0x188c84>_0x3a9a34;},_0x44cbd2[_0x5bf9eb(0x9c)]='No\x20usable\x20capabilities\x20found\x20in\x20modified\x20config\x20response';const _0x536559=_0x44cbd2;try{if(!GrpcClient)return logger[_0x5bf9eb(0xa8)](_0x536559[_0x5bf9eb(0xcb)]),null;const _0x432c4a={};_0x432c4a[_0x5bf9eb(0xd1)]=_0xf394d,_0x432c4a[_0x5bf9eb(0xd8)]=_0x536559[_0x5bf9eb(0xcf)],_0x432c4a[_0x5bf9eb(0xa2)]=0x1,_0x432c4a[_0x5bf9eb(0x91)]=[];const _0x2fe962=_0x432c4a;logger['debug'](_0x536559[_0x5bf9eb(0xaf)]);const _0x19073b={};_0x19073b[_0x5bf9eb(0xb3)]=_0x2fe962;const _0x50c292=await GrpcClient[_0x5bf9eb(0xd0)]()[_0x5bf9eb(0x8e)](_0x19073b);if(!_0x50c292[_0x5bf9eb(0x95)]())return logger['debug'](_0x536559[_0x5bf9eb(0x96)]),null;const _0x2ca07e=JSON['parse'](_0x50c292['getConfig']());logger[_0x5bf9eb(0xa8)](_0x5bf9eb(0xbb)+JSON[_0x5bf9eb(0xd4)](_0x2ca07e));if(_0x2ca07e['capabilities']&&Array['isArray'](_0x2ca07e['capabilities'])&&_0x536559[_0x5bf9eb(0xc2)](_0x2ca07e[_0x5bf9eb(0xd1)][_0x5bf9eb(0x7c)],0x0))return _0x2ca07e[_0x5bf9eb(0xd1)][0x0];else{if(_0x2ca07e[_0x5bf9eb(0x91)]&&Array[_0x5bf9eb(0x89)](_0x2ca07e[_0x5bf9eb(0x91)])&&_0x536559[_0x5bf9eb(0xa7)](_0x2ca07e[_0x5bf9eb(0x91)][_0x5bf9eb(0x7c)],0x0)){const _0x391c66=_0x2ca07e[_0x5bf9eb(0x91)][0x0];if(_0x391c66[_0x5bf9eb(0xdd)]&&_0x391c66[_0x5bf9eb(0xdd)]['platformCaps'])return _0x391c66[_0x5bf9eb(0xdd)][_0x5bf9eb(0xe9)];}}return logger[_0x5bf9eb(0xa8)](_0x536559[_0x5bf9eb(0x9c)]),null;}catch(_0x1e4975){logger[_0x5bf9eb(0xaa)]('Error\x20getting\x20modified\x20config\x20from\x20gRPC:\x20'+_0x1e4975['message']);throw _0x1e4975;}},generatePlaywrightUrl=(_0x201dbf,_0x32fd4b)=>{const _0x4e7eaa=a121_0x375d92,_0x597c16={'GHCUp':function(_0xbcb360,_0xaa19cc){return _0xbcb360!==_0xaa19cc;},'tcSYn':function(_0x3d1fe5,_0x8a11ce){return _0x3d1fe5!==_0x8a11ce;},'gNzDr':function(_0x586ce2,_0x23607e){return _0x586ce2!==_0x23607e;},'QSwQR':function(_0x88e283,_0x224871){return _0x88e283(_0x224871);},'SjdGu':function(_0x3783f3,_0x43f3c0){return _0x3783f3||_0x43f3c0;},'eLWyx':function(_0x470b75,_0xfd4107){return _0x470b75(_0xfd4107);},'YYnLX':_0x4e7eaa(0xa1),'JTAts':function(_0x4e2e3a,_0x5e1aac){return _0x4e2e3a(_0x5e1aac);},'Isddf':_0x4e7eaa(0xbe),'BSYmY':_0x4e7eaa(0xc8),'dVNjb':_0x4e7eaa(0x84),'iBrjy':_0x4e7eaa(0xdb),'TfZlb':_0x4e7eaa(0xc4),'xXEqf':function(_0xed9bf0,_0x577e75){return _0xed9bf0+_0x577e75;},'EVxht':function(_0x11d4a4,_0x26e998){return _0x11d4a4(_0x26e998);}},_0x185343=helper[_0x4e7eaa(0xda)](_0x201dbf),_0x4003a7=_0x597c16[_0x4e7eaa(0xb5)](convertW3CToJsonWire,_0x32fd4b);try{const _0x4bbc25=[_0x597c16[_0x4e7eaa(0x93)](_0x32fd4b,{}),global['__launchCaps']||{},global[_0x4e7eaa(0xcc)]||{},global[_0x4e7eaa(0x80)]||{}],_0xbc247f=_0x5603c9=>{const _0x5c6088=_0x4e7eaa;if(_0x597c16[_0x5c6088(0x92)](_0x4003a7[_0x5603c9],undefined)&&_0x597c16[_0x5c6088(0x92)](_0x4003a7[_0x5603c9],null)&&_0x597c16['tcSYn'](_0x4003a7[_0x5603c9],''))return;for(const _0x3dfd2f of _0x4bbc25){if(_0x3dfd2f&&_0x597c16[_0x5c6088(0x92)](_0x3dfd2f[_0x5603c9],undefined)&&_0x597c16[_0x5c6088(0x7f)](_0x3dfd2f[_0x5603c9],null)&&_0x597c16[_0x5c6088(0xe5)](_0x3dfd2f[_0x5603c9],'')){_0x4003a7[_0x5603c9]=_0x3dfd2f[_0x5603c9];return;}}};_0x597c16[_0x4e7eaa(0xea)](_0xbc247f,_0x597c16['YYnLX']),_0x597c16[_0x4e7eaa(0xb0)](_0xbc247f,_0x597c16[_0x4e7eaa(0xba)]),_0x597c16[_0x4e7eaa(0xb0)](_0xbc247f,_0x597c16[_0x4e7eaa(0x86)]),_0x597c16[_0x4e7eaa(0xb0)](_0xbc247f,_0x597c16['dVNjb']),!_0x4003a7[_0x597c16[_0x4e7eaa(0x83)]]&&process[_0x4e7eaa(0xd5)]['BS_A11Y_JWT']&&(_0x4003a7[_0x597c16[_0x4e7eaa(0x83)]]=process[_0x4e7eaa(0xd5)]['BS_A11Y_JWT']);}catch(_0x41acc8){logger[_0x4e7eaa(0xa8)](_0x4e7eaa(0xeb)+util['format'](_0x41acc8));}return _0x4003a7[_0x597c16[_0x4e7eaa(0xe7)]]=process[_0x4e7eaa(0xd5)][_0x4e7eaa(0xd6)],_0x4003a7[_0x597c16['TfZlb']]=helper['getBuildProductMap'](),_0x597c16[_0x4e7eaa(0xd2)](_0x185343,_0x597c16[_0x4e7eaa(0x8b)](encodeURIComponent,JSON[_0x4e7eaa(0xd4)](_0x4003a7)));},getBrowserFromCaps=_0x4ed465=>{const _0x399162=a121_0x375d92,_0x319dee={};_0x319dee[_0x399162(0xb8)]=_0x399162(0xc6);const _0x1d8a50=_0x319dee;return _0x4ed465[_0x399162(0xc3)]||_0x4ed465[_0x399162(0x7d)]||_0x1d8a50[_0x399162(0xb8)];},isPlaywrightAvailable=()=>{const _0x468305=a121_0x375d92,_0x857b0d={'OlEVd':_0x468305(0xc9),'lZgrv':_0x468305(0xe6),'Unixm':'browserType.js','vDQzn':function(_0x15e3d9,_0x5c25b1){return _0x15e3d9(_0x5c25b1);}};try{const _0x126850=path[_0x468305(0xa3)](_0x857b0d[_0x468305(0x9f)],_0x857b0d[_0x468305(0x9b)],_0x857b0d[_0x468305(0x8a)]),_0x10dcee=_0x857b0d['vDQzn'](importFileFromPWCore,_0x126850);return!!_0x10dcee;}catch(_0x5e6b17){return logger[_0x468305(0xa8)](_0x468305(0xad)+util['format'](_0x5e6b17)),![];}},getPlaywrightBrowserType=()=>{const _0x3a9efc=a121_0x375d92,_0x308b01={'OKODa':_0x3a9efc(0xc9),'QvNMP':'client','pDKIA':_0x3a9efc(0xc5),'csdvF':function(_0xf5a4e7,_0x7228ed){return _0xf5a4e7(_0x7228ed);}};try{const _0x1d146f=path[_0x3a9efc(0xa3)](_0x308b01['OKODa'],_0x308b01[_0x3a9efc(0xa6)],_0x308b01[_0x3a9efc(0xe4)]),_0x175d34=_0x308b01[_0x3a9efc(0x9e)](importFileFromPWCore,_0x1d146f);return _0x175d34?_0x175d34[_0x3a9efc(0xb9)]:null;}catch(_0x3f33f0){return logger[_0x3a9efc(0xa8)](_0x3a9efc(0xec)+util[_0x3a9efc(0xb6)](_0x3f33f0)),null;}},getPlaywrightModulePath=()=>{const _0x366517=a121_0x375d92,_0x4aaf68={};_0x4aaf68[_0x366517(0xa0)]=_0x366517(0xae);const _0x32101e=_0x4aaf68;return logger[_0x366517(0xa8)](_0x32101e[_0x366517(0xa0)]),null;},getBrowserTypePath=()=>{const _0x53f022=a121_0x375d92,_0x139ca4={};_0x139ca4[_0x53f022(0xd7)]=_0x53f022(0xb1);const _0x39cf2d=_0x139ca4;return logger['debug'](_0x39cf2d['vUgPc']),null;},checkPwandBootstrapCli=async(_0x312f25,_0x2e277a,_0x54dc2c)=>{const _0xa98c17=a121_0x375d92,_0x288651={'tsPpY':function(_0x2c4ac0,_0x75d9e1){return _0x2c4ac0(_0x75d9e1);},'Mbxbt':_0xa98c17(0xce)};if(_0x312f25){const _0x5ebbe7=constants['FRAMEWORKS'][_0xa98c17(0xca)];logger[_0xa98c17(0xa8)](_0xa98c17(0x9d)+_0x312f25+_0xa98c17(0xbd)+_0x2e277a+'\x20flow'),CLIUtils[_0xa98c17(0x8f)](_0x2e277a,_0x5ebbe7);const {getProductMap:_0x234bec}=_0x288651[_0xa98c17(0xe8)](require,_0x288651[_0xa98c17(0xef)]);process['env'][_0xa98c17(0x98)]=JSON[_0xa98c17(0xd4)](_0x288651[_0xa98c17(0xe8)](_0x234bec,_0x54dc2c['config'])),BrowserstackCLI['getInstance']()[_0xa98c17(0xe2)](_0x54dc2c[_0xa98c17(0xdc)],_0x54dc2c[_0xa98c17(0xf0)]),await BrowserstackCLI[_0xa98c17(0xd0)]()[_0xa98c17(0xee)]();}},a121_0x1e02cc={};function a121_0x1a2d(_0x26d153,_0x23e76e){const _0x3de331=a121_0x3de3();return a121_0x1a2d=function(_0x1a2d81,_0x66df76){_0x1a2d81=_0x1a2d81-0x7b;let _0xf45365=_0x3de331[_0x1a2d81];return _0xf45365;},a121_0x1a2d(_0x26d153,_0x23e76e);}a121_0x1e02cc[a121_0x375d92(0x9a)]=convertW3CToJsonWire,a121_0x1e02cc[a121_0x375d92(0x97)]=getModifiedConfigFromCLI,a121_0x1e02cc['generatePlaywrightUrl']=generatePlaywrightUrl,a121_0x1e02cc['getBrowserFromCaps']=getBrowserFromCaps,a121_0x1e02cc[a121_0x375d92(0x8d)]=isPlaywrightAvailable,a121_0x1e02cc[a121_0x375d92(0xa9)]=getPlaywrightBrowserType,a121_0x1e02cc['getPlaywrightModulePath']=getPlaywrightModulePath,a121_0x1e02cc['getBrowserTypePath']=getBrowserTypePath,a121_0x1e02cc[a121_0x375d92(0x90)]=importFileFromPWCore,a121_0x1e02cc[a121_0x375d92(0x87)]=checkPwandBootstrapCli,module[a121_0x375d92(0xb7)]=a121_0x1e02cc;