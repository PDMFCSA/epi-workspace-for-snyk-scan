const a119_0x59587d=a119_0x4dfb;(function(_0x44bc5a,_0x17a8be){const _0x16b01f=a119_0x4dfb,_0x376942=_0x44bc5a();while(!![]){try{const _0x113d2f=parseInt(_0x16b01f(0x1dd))/0x1+-parseInt(_0x16b01f(0x1e8))/0x2*(-parseInt(_0x16b01f(0x222))/0x3)+-parseInt(_0x16b01f(0x1da))/0x4+parseInt(_0x16b01f(0x20c))/0x5+-parseInt(_0x16b01f(0x218))/0x6+parseInt(_0x16b01f(0x20b))/0x7+-parseInt(_0x16b01f(0x217))/0x8*(parseInt(_0x16b01f(0x215))/0x9);if(_0x113d2f===_0x17a8be)break;else _0x376942['push'](_0x376942['shift']());}catch(_0x2517ce){_0x376942['push'](_0x376942['shift']());}}}(a119_0xbb33,0x542fd));const path=require(a119_0x59587d(0x1ff)),util=require(a119_0x59587d(0x234)),{importFileFromPWCore}=require(a119_0x59587d(0x221)),helper=require(a119_0x59587d(0x221)),logger=require('./logger')['winstonLogger'],W3CMapping=require(a119_0x59587d(0x1e1))[a119_0x59587d(0x1e0)](),constants=require('../bin/utils/constants'),BrowserstackCLI=require(a119_0x59587d(0x1d9)),CLIUtils=require(a119_0x59587d(0x200));let GrpcClient;function a119_0xbb33(){const _0x386c75=['416511twseXo','setBrowserstackConfig','getBrowserTypePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead','W3CMapping','./w3cMapping','client','Error\x20getting\x20modified\x20config\x20from\x20gRPC:\x20','parse','browserName','FRAMEWORKS','browserstack.testhubBuildUuid','74aDVyHa','cucumberjs-pw','getPlaywrightModulePath','uVzIH','config','browserstack.accessibilityOptions.authToken','getBuildProductMap','No\x20usable\x20capabilities\x20found\x20in\x20modified\x20config\x20response','bstack:options','length','BNllr','GPsso','join','bootstrap','__platformCaps','BS_A11Y_JWT','../bin/v2/grpcClient','platformCaps','__accessibilityOptions','isPlaywrightAvailable','hxscd','Unable\x20to\x20merge\x20accessibility\x20capabilities\x20into\x20Playwright\x20URL\x20caps:\x20','browserstack.accessibilityOptions.wcagVersion','path','../bin/v2/cliUtils','AAeKl','NkxKr','GrpcClient\x20not\x20available,\x20skipping\x20modified\x20config\x20request','gAAdC','WGDFH','Error\x20getting\x20Playwright\x20BrowserType:\x20','browserstack.buildProductMap','format','LMMDa','generatePlaywrightUrl','3609067xLXdCk','1980985eWWqBy','error','ccPmU','browserType.js','env','Received\x20modified\x20config\x20from\x20gRPC:\x20','ehWbs','__launchCaps','XsCQc','126YLCFkO','cmtbt','227384hskTSO','2246112PssYqE','Detected\x20Playwright\x20version\x20','RLUiJ','mrPYI','browserstack.accessibilityOptions.scannerVersion','isArray','browser','chrome','mWAsI','./helper','4821sNXXUM','yZXzd','getConfig','use','workers','cQspw','framework','importFileFromPWCore','debug','No\x20modified\x20config\x20received\x20from\x20gRPC','PLAYWRIGHT','rRClK','getPlaywrightBrowserType','pGmLv','convertW3CToJsonWire','setFrameworkDetail','yVeAC','pcKsX','util','capabilities','ZDMsp','getPlaywrightConfig','entries','./testhub/utils','Playwright\x20not\x20available:\x20','Converted\x20W3C\x20caps\x20to\x20JSONWire:\x20','lib','RKHCI','getPlaywrightUrl','RJfXX','IumoI','getInstance','stringify','projects','aQMOe','\x20flow','PdqnA','../bin/v2/browserstackCLI','1082580kzjVFz','CTqdJ','BROWSERSTACK_TESTHUB_UUID'];a119_0xbb33=function(){return _0x386c75;};return a119_0xbb33();}function a119_0x4dfb(_0x342f68,_0x27417){const _0xbb33e4=a119_0xbb33();return a119_0x4dfb=function(_0x4dfbe0,_0x32fb37){_0x4dfbe0=_0x4dfbe0-0x1c8;let _0x4ec598=_0xbb33e4[_0x4dfbe0];return _0x4ec598;},a119_0x4dfb(_0x342f68,_0x27417);}try{GrpcClient=require(a119_0x59587d(0x1f8));}catch(a119_0xb58772){logger['debug']('Could\x20not\x20import\x20GrpcClient:\x20'+a119_0xb58772['message']),GrpcClient=null;}const convertW3CToJsonWire=_0x2e5e75=>{const _0x3195a7=a119_0x59587d,_0x5e143e={};_0x5e143e[_0x3195a7(0x205)]=function(_0x4b5673,_0x3ec69a){return _0x4b5673||_0x3ec69a;},_0x5e143e[_0x3195a7(0x223)]=function(_0x169304,_0x13d826){return _0x169304===_0x13d826;},_0x5e143e[_0x3195a7(0x1d6)]=_0x3195a7(0x1f0),_0x5e143e[_0x3195a7(0x1fc)]=function(_0x5226d7,_0x145d4d){return _0x5226d7===_0x145d4d;},_0x5e143e['lJzwq']=function(_0x5751d,_0x6cc246){return _0x5751d in _0x6cc246;};const _0x13c658=_0x5e143e,_0xb293cb={};for(const [_0x2ab61e,_0x579c21]of Object[_0x3195a7(0x1ca)](_0x13c658[_0x3195a7(0x205)](_0x2e5e75,{}))){if(_0x13c658[_0x3195a7(0x223)](_0x2ab61e,_0x13c658[_0x3195a7(0x1d6)]))continue;let _0x5821cc=![];for(const [_0x248f32,_0x41c1e2]of Object[_0x3195a7(0x1ca)](W3CMapping)){if(_0x13c658['yZXzd'](_0x2ab61e,_0x41c1e2)){_0xb293cb[_0x248f32]=_0x579c21,_0x5821cc=!![];break;}}!_0x5821cc&&(_0xb293cb[_0x2ab61e]=_0x579c21);}const _0x236dd6=_0x2e5e75[_0x13c658[_0x3195a7(0x1d6)]]||{};for(const [_0xe991f3,_0x4d1efc]of Object[_0x3195a7(0x1ca)](_0x236dd6)){let _0x6f80e=![];for(const [_0x2ca6e9,_0x4a1163]of Object[_0x3195a7(0x1ca)](W3CMapping)){if(_0x13c658[_0x3195a7(0x1fc)](_0xe991f3,_0x4a1163)){_0xb293cb[_0x2ca6e9]=_0x4d1efc,_0x6f80e=!![];break;}}!_0x6f80e&&!_0x13c658['lJzwq'](_0xe991f3,_0xb293cb)&&(_0xb293cb[_0xe991f3]=_0x4d1efc);}return logger[_0x3195a7(0x22a)](_0x3195a7(0x1cd)+JSON[_0x3195a7(0x1d4)](_0xb293cb)),_0xb293cb;},getModifiedConfigFromCLI=async _0x3f12fe=>{const _0x428144=a119_0x59587d,_0x2efa33={};_0x2efa33[_0x428144(0x1db)]=_0x428144(0x203),_0x2efa33['mqikE']=_0x428144(0x1e9),_0x2efa33[_0x428144(0x1cf)]='Requesting\x20modified\x20Playwright\x20config\x20from\x20gRPC\x20for\x20cucumberjs-pw',_0x2efa33[_0x428144(0x1f3)]=_0x428144(0x22b),_0x2efa33[_0x428144(0x22f)]=function(_0xd8aa1d,_0x4b89aa){return _0xd8aa1d>_0x4b89aa;},_0x2efa33[_0x428144(0x227)]=_0x428144(0x1ef);const _0x33da36=_0x2efa33;try{if(!GrpcClient)return logger['debug'](_0x33da36[_0x428144(0x1db)]),null;const _0x5a1581={};_0x5a1581[_0x428144(0x235)]=_0x3f12fe,_0x5a1581[_0x428144(0x228)]=_0x33da36['mqikE'],_0x5a1581[_0x428144(0x226)]=0x1,_0x5a1581[_0x428144(0x1d5)]=[];const _0x1e7c3b=_0x5a1581;logger['debug'](_0x33da36[_0x428144(0x1cf)]);const _0x466822={};_0x466822['playwrightConfigObject']=_0x1e7c3b;const _0xa3aef4=await GrpcClient[_0x428144(0x1d3)]()[_0x428144(0x1c9)](_0x466822);if(!_0xa3aef4[_0x428144(0x224)]())return logger[_0x428144(0x22a)](_0x33da36[_0x428144(0x1f3)]),null;const _0x517756=JSON[_0x428144(0x1e4)](_0xa3aef4['getConfig']());logger[_0x428144(0x22a)](_0x428144(0x211)+JSON[_0x428144(0x1d4)](_0x517756));if(_0x517756[_0x428144(0x235)]&&Array[_0x428144(0x21d)](_0x517756[_0x428144(0x235)])&&_0x33da36['pGmLv'](_0x517756['capabilities'][_0x428144(0x1f1)],0x0))return _0x517756[_0x428144(0x235)][0x0];else{if(_0x517756[_0x428144(0x1d5)]&&Array[_0x428144(0x21d)](_0x517756['projects'])&&_0x33da36[_0x428144(0x22f)](_0x517756['projects']['length'],0x0)){const _0x264cf3=_0x517756[_0x428144(0x1d5)][0x0];if(_0x264cf3[_0x428144(0x225)]&&_0x264cf3[_0x428144(0x225)][_0x428144(0x1f9)])return _0x264cf3[_0x428144(0x225)][_0x428144(0x1f9)];}}return logger[_0x428144(0x22a)](_0x33da36[_0x428144(0x227)]),null;}catch(_0xb0348c){logger[_0x428144(0x20d)](_0x428144(0x1e3)+_0xb0348c['message']);throw _0xb0348c;}},generatePlaywrightUrl=(_0x52902b,_0x538063)=>{const _0x3fb805=a119_0x59587d,_0x12a461={'JhKVe':function(_0x4af91f,_0x1e103c){return _0x4af91f!==_0x1e103c;},'gAAdC':function(_0x2f40c7,_0x2a321f){return _0x2f40c7!==_0x2a321f;},'BNllr':function(_0x1bc724,_0x79fa18){return _0x1bc724!==_0x79fa18;},'PdqnA':function(_0x24bc33,_0x44f123){return _0x24bc33!==_0x44f123;},'cpcKt':function(_0x19c74e,_0x186bc1){return _0x19c74e!==_0x186bc1;},'pcKsX':function(_0xc3c19c,_0x4bcc49){return _0xc3c19c(_0x4bcc49);},'XsCQc':function(_0x37d634,_0x116dd8){return _0x37d634||_0x116dd8;},'ccPmU':_0x3fb805(0x1ed),'mWAsI':_0x3fb805(0x1fe),'ZhvXB':_0x3fb805(0x21c),'yeFCj':'browserstack.accessibilityOptions.scannerProcessingTimeout','ehWbs':_0x3fb805(0x1e7),'rRClK':_0x3fb805(0x207),'LMMDa':function(_0xb8ec33,_0x32fe6f){return _0xb8ec33+_0x32fe6f;}},_0xcde051=helper[_0x3fb805(0x1d0)](_0x52902b),_0x4cd882=_0x12a461[_0x3fb805(0x233)](convertW3CToJsonWire,_0x538063);try{const _0x25fb22=[_0x12a461[_0x3fb805(0x214)](_0x538063,{}),global[_0x3fb805(0x213)]||{},global[_0x3fb805(0x1f6)]||{},global[_0x3fb805(0x1fa)]||{}],_0x1ef172=_0x1603f2=>{const _0x54322f=_0x3fb805;if(_0x12a461['JhKVe'](_0x4cd882[_0x1603f2],undefined)&&_0x12a461[_0x54322f(0x204)](_0x4cd882[_0x1603f2],null)&&_0x12a461[_0x54322f(0x1f2)](_0x4cd882[_0x1603f2],''))return;for(const _0x362083 of _0x25fb22){if(_0x362083&&_0x12a461[_0x54322f(0x1d8)](_0x362083[_0x1603f2],undefined)&&_0x12a461['PdqnA'](_0x362083[_0x1603f2],null)&&_0x12a461['cpcKt'](_0x362083[_0x1603f2],'')){_0x4cd882[_0x1603f2]=_0x362083[_0x1603f2];return;}}};_0x12a461['pcKsX'](_0x1ef172,_0x12a461[_0x3fb805(0x20e)]),_0x12a461[_0x3fb805(0x233)](_0x1ef172,_0x12a461[_0x3fb805(0x220)]),_0x12a461[_0x3fb805(0x233)](_0x1ef172,_0x12a461['ZhvXB']),_0x12a461['pcKsX'](_0x1ef172,_0x12a461['yeFCj']),!_0x4cd882[_0x12a461[_0x3fb805(0x20e)]]&&process[_0x3fb805(0x210)][_0x3fb805(0x1f7)]&&(_0x4cd882[_0x12a461[_0x3fb805(0x20e)]]=process[_0x3fb805(0x210)][_0x3fb805(0x1f7)]);}catch(_0x3ab291){logger[_0x3fb805(0x22a)](_0x3fb805(0x1fd)+util[_0x3fb805(0x208)](_0x3ab291));}return _0x4cd882[_0x12a461[_0x3fb805(0x212)]]=process[_0x3fb805(0x210)][_0x3fb805(0x1dc)],_0x4cd882[_0x12a461[_0x3fb805(0x22d)]]=helper[_0x3fb805(0x1ee)](),_0x12a461[_0x3fb805(0x209)](_0xcde051,_0x12a461[_0x3fb805(0x233)](encodeURIComponent,JSON['stringify'](_0x4cd882)));},getBrowserFromCaps=_0x2c7e14=>{const _0x101d8a=a119_0x59587d,_0x3c11a6={};_0x3c11a6[_0x101d8a(0x1eb)]=_0x101d8a(0x21f);const _0x2e72e1=_0x3c11a6;return _0x2c7e14[_0x101d8a(0x1e5)]||_0x2c7e14[_0x101d8a(0x21e)]||_0x2e72e1['uVzIH'];},isPlaywrightAvailable=()=>{const _0x2a889f=a119_0x59587d,_0x35f702={'tfsNM':_0x2a889f(0x1ce),'mrPYI':_0x2a889f(0x1e2),'ZDMsp':_0x2a889f(0x20f),'IumoI':function(_0x591d1d,_0x1a9627){return _0x591d1d(_0x1a9627);}};try{const _0x593e30=path[_0x2a889f(0x1f4)](_0x35f702['tfsNM'],_0x35f702[_0x2a889f(0x21b)],_0x35f702[_0x2a889f(0x1c8)]),_0x821272=_0x35f702[_0x2a889f(0x1d2)](importFileFromPWCore,_0x593e30);return!!_0x821272;}catch(_0x16f7f1){return logger[_0x2a889f(0x22a)](_0x2a889f(0x1cc)+util[_0x2a889f(0x208)](_0x16f7f1)),![];}},getPlaywrightBrowserType=()=>{const _0x43cf27=a119_0x59587d,_0xe61035={'Znhnr':_0x43cf27(0x1ce),'AAeKl':_0x43cf27(0x1e2),'RLUiJ':'browserType.js','NkxKr':function(_0x35522f,_0x173fb6){return _0x35522f(_0x173fb6);}};try{const _0x166091=path['join'](_0xe61035['Znhnr'],_0xe61035[_0x43cf27(0x201)],_0xe61035[_0x43cf27(0x21a)]),_0x327d4f=_0xe61035[_0x43cf27(0x202)](importFileFromPWCore,_0x166091);return _0x327d4f?_0x327d4f['BrowserType']:null;}catch(_0x36e065){return logger[_0x43cf27(0x22a)](_0x43cf27(0x206)+util['format'](_0x36e065)),null;}},getPlaywrightModulePath=()=>{const _0x5bfbff=a119_0x59587d,_0x325a31={};_0x325a31['cmtbt']='getPlaywrightModulePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead';const _0x409392=_0x325a31;return logger['debug'](_0x409392[_0x5bfbff(0x216)]),null;},getBrowserTypePath=()=>{const _0x3a0b58=a119_0x59587d,_0x2f81c5={};_0x2f81c5[_0x3a0b58(0x1d1)]=_0x3a0b58(0x1df);const _0x6ca73a=_0x2f81c5;return logger[_0x3a0b58(0x22a)](_0x6ca73a[_0x3a0b58(0x1d1)]),null;},checkPwandBootstrapCli=async(_0x59d067,_0x18739,_0x427ad0)=>{const _0x3b9cec=a119_0x59587d,_0x1570bf={'XdsZu':function(_0x57b753,_0x1f1cb8){return _0x57b753(_0x1f1cb8);},'TzOjs':_0x3b9cec(0x1cb),'yVeAC':function(_0x38b12e,_0x1433de){return _0x38b12e(_0x1433de);}};if(_0x59d067){const _0x4d74a5=constants[_0x3b9cec(0x1e6)][_0x3b9cec(0x22c)];logger[_0x3b9cec(0x22a)](_0x3b9cec(0x219)+_0x59d067+'\x20for\x20'+_0x18739+_0x3b9cec(0x1d7)),CLIUtils[_0x3b9cec(0x231)](_0x18739,_0x4d74a5);const {getProductMap:_0xe87ec}=_0x1570bf['XdsZu'](require,_0x1570bf['TzOjs']);process[_0x3b9cec(0x210)]['BROWSERSTACK_PRODUCT_MAP']=JSON[_0x3b9cec(0x1d4)](_0x1570bf[_0x3b9cec(0x232)](_0xe87ec,_0x427ad0[_0x3b9cec(0x1ec)])),BrowserstackCLI[_0x3b9cec(0x1d3)]()[_0x3b9cec(0x1de)](_0x427ad0[_0x3b9cec(0x1ec)],_0x427ad0['cliConfig']),await BrowserstackCLI['getInstance']()[_0x3b9cec(0x1f5)]();}},a119_0x1472b7={};a119_0x1472b7[a119_0x59587d(0x230)]=convertW3CToJsonWire,a119_0x1472b7['getModifiedConfigFromCLI']=getModifiedConfigFromCLI,a119_0x1472b7[a119_0x59587d(0x20a)]=generatePlaywrightUrl,a119_0x1472b7['getBrowserFromCaps']=getBrowserFromCaps,a119_0x1472b7[a119_0x59587d(0x1fb)]=isPlaywrightAvailable,a119_0x1472b7[a119_0x59587d(0x22e)]=getPlaywrightBrowserType,a119_0x1472b7[a119_0x59587d(0x1ea)]=getPlaywrightModulePath,a119_0x1472b7['getBrowserTypePath']=getBrowserTypePath,a119_0x1472b7[a119_0x59587d(0x229)]=importFileFromPWCore,a119_0x1472b7['checkPwandBootstrapCli']=checkPwandBootstrapCli,module['exports']=a119_0x1472b7;