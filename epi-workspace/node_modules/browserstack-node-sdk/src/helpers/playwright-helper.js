const a119_0x2248a3=a119_0x4ecb;(function(_0x5004f3,_0x35eec6){const _0x2884e1=a119_0x4ecb,_0xa36dec=_0x5004f3();while(!![]){try{const _0x337bac=parseInt(_0x2884e1(0x204))/0x1+parseInt(_0x2884e1(0x1c6))/0x2+parseInt(_0x2884e1(0x201))/0x3*(parseInt(_0x2884e1(0x1f3))/0x4)+parseInt(_0x2884e1(0x1b9))/0x5+-parseInt(_0x2884e1(0x1f0))/0x6+parseInt(_0x2884e1(0x20d))/0x7*(parseInt(_0x2884e1(0x20e))/0x8)+-parseInt(_0x2884e1(0x1e2))/0x9;if(_0x337bac===_0x35eec6)break;else _0xa36dec['push'](_0xa36dec['shift']());}catch(_0x3012b5){_0xa36dec['push'](_0xa36dec['shift']());}}}(a119_0x58b4,0x66e7b));function a119_0x58b4(){const _0x3d284b=['getPlaywrightModulePath','setBrowserstackConfig','4779ftTyaX','Could\x20not\x20import\x20GrpcClient:\x20','browserName','409130xMTmIh','bCQhp','Requesting\x20modified\x20Playwright\x20config\x20from\x20gRPC\x20for\x20cucumberjs-pw','browser','Qespd','entries','emEyu','No\x20modified\x20config\x20received\x20from\x20gRPC','setFrameworkDetail','42kMMtgb','181400sRpCnl','__accessibilityOptions','okwGJ','Detected\x20Playwright\x20version\x20','getPlaywrightConfig','client','mRKDb','browserstack.accessibilityOptions.wcagVersion','ubDpf','bstack:options','\x20for\x20','getConfig','Error\x20getting\x20Playwright\x20BrowserType:\x20','browserType.js','sRElp','projects','browserstack.accessibilityOptions.scannerVersion','BS_A11Y_JWT','3804430cACLny','message','../bin/utils/constants','Mdtlo','getPlaywrightBrowserType','env','exports','Received\x20modified\x20config\x20from\x20gRPC:\x20','asHSP','UQMNV','EIrKb','bootstrap','nhIEl','955898SjCsTH','format','chrome','\x20flow','browserstack.accessibilityOptions.scannerProcessingTimeout','iZXhW','framework','uKGlO','length','nwxcV','XmezS','getBrowserTypePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead','BROWSERSTACK_PRODUCT_MAP','XfLLT','Error\x20getting\x20modified\x20config\x20from\x20gRPC:\x20','sENXo','cucumberjs-pw','Dzicp','getBrowserTypePath','PVGYM','W3CMapping','xpMcx','isArray','OyBcr','GrpcClient\x20not\x20available,\x20skipping\x20modified\x20config\x20request','debug','TmdUL','platformCaps','17284608XMAqaJ','zvLcJ','Playwright\x20not\x20available:\x20','ghSZP','stringify','wcxBQ','./testhub/utils','./helper','capabilities','getInstance','__launchCaps','Unable\x20to\x20merge\x20accessibility\x20capabilities\x20into\x20Playwright\x20URL\x20caps:\x20','workers','./w3cMapping','1020030gPLqrw','browserstack.testhubBuildUuid','FeNtn','1828DOjlpd','PLAYWRIGHT','join','browserstack.accessibilityOptions.authToken','getModifiedConfigFromCLI','browserstack.buildProductMap','No\x20usable\x20capabilities\x20found\x20in\x20modified\x20config\x20response','use','getBuildProductMap','importFileFromPWCore','getPlaywrightModulePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead','config'];a119_0x58b4=function(){return _0x3d284b;};return a119_0x58b4();}const path=require('path'),util=require('util'),{importFileFromPWCore}=require('./helper'),helper=require(a119_0x2248a3(0x1e9)),logger=require('./logger')['winstonLogger'],W3CMapping=require(a119_0x2248a3(0x1ef))[a119_0x2248a3(0x1da)](),constants=require(a119_0x2248a3(0x1bb)),BrowserstackCLI=require('../bin/v2/browserstackCLI'),CLIUtils=require('../bin/v2/cliUtils');let GrpcClient;try{GrpcClient=require('../bin/v2/grpcClient');}catch(a119_0x498e71){logger[a119_0x2248a3(0x1df)](a119_0x2248a3(0x202)+a119_0x498e71[a119_0x2248a3(0x1ba)]),GrpcClient=null;}function a119_0x4ecb(_0x3350c5,_0x204250){const _0x58b4c0=a119_0x58b4();return a119_0x4ecb=function(_0x4ecb58,_0x18582c){_0x4ecb58=_0x4ecb58-0x1ac;let _0xad561b=_0x58b4c0[_0x4ecb58];return _0xad561b;},a119_0x4ecb(_0x3350c5,_0x204250);}const convertW3CToJsonWire=_0x107d4c=>{const _0x4381d2=a119_0x2248a3,_0x5013fa={};_0x5013fa[_0x4381d2(0x1dd)]=function(_0x4ffc66,_0x2d5fb1){return _0x4ffc66||_0x2d5fb1;},_0x5013fa[_0x4381d2(0x1d9)]=function(_0x35c114,_0x3dea7b){return _0x35c114===_0x3dea7b;},_0x5013fa[_0x4381d2(0x1cd)]=_0x4381d2(0x1b0),_0x5013fa[_0x4381d2(0x1db)]=function(_0x201f7b,_0x29f9f7){return _0x201f7b in _0x29f9f7;};const _0x2109f1=_0x5013fa,_0x1459f0={};for(const [_0x2f701a,_0x355e85]of Object[_0x4381d2(0x209)](_0x2109f1[_0x4381d2(0x1dd)](_0x107d4c,{}))){if(_0x2109f1[_0x4381d2(0x1d9)](_0x2f701a,_0x2109f1[_0x4381d2(0x1cd)]))continue;let _0x469132=![];for(const [_0x36d79d,_0x805130]of Object['entries'](W3CMapping)){if(_0x2109f1[_0x4381d2(0x1d9)](_0x2f701a,_0x805130)){_0x1459f0[_0x36d79d]=_0x355e85,_0x469132=!![];break;}}!_0x469132&&(_0x1459f0[_0x2f701a]=_0x355e85);}const _0x3eb7bf=_0x107d4c[_0x2109f1[_0x4381d2(0x1cd)]]||{};for(const [_0x2b0a2f,_0x46fd9e]of Object[_0x4381d2(0x209)](_0x3eb7bf)){let _0x432eb4=![];for(const [_0x42d034,_0x268bbc]of Object['entries'](W3CMapping)){if(_0x2109f1[_0x4381d2(0x1d9)](_0x2b0a2f,_0x268bbc)){_0x1459f0[_0x42d034]=_0x46fd9e,_0x432eb4=!![];break;}}!_0x432eb4&&!_0x2109f1['xpMcx'](_0x2b0a2f,_0x1459f0)&&(_0x1459f0[_0x2b0a2f]=_0x46fd9e);}return logger[_0x4381d2(0x1df)]('Converted\x20W3C\x20caps\x20to\x20JSONWire:\x20'+JSON[_0x4381d2(0x1e6)](_0x1459f0)),_0x1459f0;},getModifiedConfigFromCLI=async _0x49b483=>{const _0x30e4b7=a119_0x2248a3,_0x154628={};_0x154628[_0x30e4b7(0x1e3)]=_0x30e4b7(0x1de),_0x154628['DtOyH']=_0x30e4b7(0x1d6),_0x154628['gJOdB']=_0x30e4b7(0x206),_0x154628[_0x30e4b7(0x208)]=_0x30e4b7(0x20b),_0x154628['XfLLT']=function(_0x5013c4,_0x382590){return _0x5013c4>_0x382590;},_0x154628[_0x30e4b7(0x1c5)]=function(_0x4f00d0,_0x54e2bb){return _0x4f00d0>_0x54e2bb;},_0x154628[_0x30e4b7(0x1c1)]=_0x30e4b7(0x1f9);const _0x42a242=_0x154628;try{if(!GrpcClient)return logger[_0x30e4b7(0x1df)](_0x42a242[_0x30e4b7(0x1e3)]),null;const _0x5eb62f={};_0x5eb62f[_0x30e4b7(0x1ea)]=_0x49b483,_0x5eb62f[_0x30e4b7(0x1cc)]=_0x42a242['DtOyH'],_0x5eb62f[_0x30e4b7(0x1ee)]=0x1,_0x5eb62f['projects']=[];const _0x122083=_0x5eb62f;logger[_0x30e4b7(0x1df)](_0x42a242['gJOdB']);const _0x1b659b={};_0x1b659b['playwrightConfigObject']=_0x122083;const _0x569d69=await GrpcClient[_0x30e4b7(0x1eb)]()[_0x30e4b7(0x212)](_0x1b659b);if(!_0x569d69[_0x30e4b7(0x1b2)]())return logger[_0x30e4b7(0x1df)](_0x42a242[_0x30e4b7(0x208)]),null;const _0x111961=JSON['parse'](_0x569d69[_0x30e4b7(0x1b2)]());logger[_0x30e4b7(0x1df)](_0x30e4b7(0x1c0)+JSON['stringify'](_0x111961));if(_0x111961['capabilities']&&Array[_0x30e4b7(0x1dc)](_0x111961[_0x30e4b7(0x1ea)])&&_0x42a242[_0x30e4b7(0x1d3)](_0x111961[_0x30e4b7(0x1ea)][_0x30e4b7(0x1ce)],0x0))return _0x111961[_0x30e4b7(0x1ea)][0x0];else{if(_0x111961[_0x30e4b7(0x1b6)]&&Array[_0x30e4b7(0x1dc)](_0x111961[_0x30e4b7(0x1b6)])&&_0x42a242[_0x30e4b7(0x1c5)](_0x111961['projects'][_0x30e4b7(0x1ce)],0x0)){const _0x2301eb=_0x111961[_0x30e4b7(0x1b6)][0x0];if(_0x2301eb[_0x30e4b7(0x1fa)]&&_0x2301eb[_0x30e4b7(0x1fa)]['platformCaps'])return _0x2301eb['use'][_0x30e4b7(0x1e1)];}}return logger[_0x30e4b7(0x1df)](_0x42a242[_0x30e4b7(0x1c1)]),null;}catch(_0x54953a){logger['error'](_0x30e4b7(0x1d4)+_0x54953a['message']);throw _0x54953a;}},generatePlaywrightUrl=(_0x34fa4a,_0x38398c)=>{const _0x135eca=a119_0x2248a3,_0x591861={'Riedf':function(_0x13e417,_0x474ca8){return _0x13e417!==_0x474ca8;},'FeNtn':function(_0x23ef9c,_0x1b3469){return _0x23ef9c!==_0x1b3469;},'IxMtV':function(_0x4bb243,_0x28c918){return _0x4bb243!==_0x28c918;},'YqjCw':function(_0x11e75a,_0x163323){return _0x11e75a!==_0x163323;},'PNhNx':function(_0x269069,_0x3452aa){return _0x269069!==_0x3452aa;},'XmezS':function(_0x1efb30,_0x12547a){return _0x1efb30(_0x12547a);},'MxSud':function(_0x590205,_0x1a8105){return _0x590205||_0x1a8105;},'nwxcV':_0x135eca(0x1f6),'pwlUG':function(_0x45f593,_0x3a51d4){return _0x45f593(_0x3a51d4);},'sPwUQ':_0x135eca(0x1ae),'wcxBQ':function(_0x36dfd5,_0x26f8b8){return _0x36dfd5(_0x26f8b8);},'ghSZP':_0x135eca(0x1b7),'okwGJ':_0x135eca(0x1ca),'nngkM':_0x135eca(0x1f1),'TmdUL':_0x135eca(0x1f8),'mRKDb':function(_0x21e059,_0xb8fc43){return _0x21e059+_0xb8fc43;}},_0x5572e4=helper['getPlaywrightUrl'](_0x34fa4a),_0x113424=_0x591861[_0x135eca(0x1d0)](convertW3CToJsonWire,_0x38398c);try{const _0x468b1a=[_0x591861['MxSud'](_0x38398c,{}),global[_0x135eca(0x1ec)]||{},global['__platformCaps']||{},global[_0x135eca(0x20f)]||{}],_0x3ec3f4=_0x3b0af0=>{const _0x4491ed=_0x135eca;if(_0x591861['Riedf'](_0x113424[_0x3b0af0],undefined)&&_0x591861[_0x4491ed(0x1f2)](_0x113424[_0x3b0af0],null)&&_0x591861['IxMtV'](_0x113424[_0x3b0af0],''))return;for(const _0x150a5a of _0x468b1a){if(_0x150a5a&&_0x591861['IxMtV'](_0x150a5a[_0x3b0af0],undefined)&&_0x591861['YqjCw'](_0x150a5a[_0x3b0af0],null)&&_0x591861['PNhNx'](_0x150a5a[_0x3b0af0],'')){_0x113424[_0x3b0af0]=_0x150a5a[_0x3b0af0];return;}}};_0x591861[_0x135eca(0x1d0)](_0x3ec3f4,_0x591861['nwxcV']),_0x591861['pwlUG'](_0x3ec3f4,_0x591861['sPwUQ']),_0x591861[_0x135eca(0x1e7)](_0x3ec3f4,_0x591861[_0x135eca(0x1e5)]),_0x591861[_0x135eca(0x1d0)](_0x3ec3f4,_0x591861[_0x135eca(0x210)]),!_0x113424[_0x591861['nwxcV']]&&process[_0x135eca(0x1be)][_0x135eca(0x1b8)]&&(_0x113424[_0x591861[_0x135eca(0x1cf)]]=process[_0x135eca(0x1be)]['BS_A11Y_JWT']);}catch(_0xffaa37){logger[_0x135eca(0x1df)](_0x135eca(0x1ed)+util['format'](_0xffaa37));}return _0x113424[_0x591861['nngkM']]=process[_0x135eca(0x1be)]['BROWSERSTACK_TESTHUB_UUID'],_0x113424[_0x591861[_0x135eca(0x1e0)]]=helper[_0x135eca(0x1fb)](),_0x591861[_0x135eca(0x1ad)](_0x5572e4,_0x591861[_0x135eca(0x1d0)](encodeURIComponent,JSON['stringify'](_0x113424)));},getBrowserFromCaps=_0x2e9a60=>{const _0x36689e=a119_0x2248a3,_0x1a3be0={};_0x1a3be0[_0x36689e(0x1b5)]=_0x36689e(0x1c8);const _0x2f3210=_0x1a3be0;return _0x2e9a60[_0x36689e(0x203)]||_0x2e9a60[_0x36689e(0x207)]||_0x2f3210['sRElp'];},isPlaywrightAvailable=()=>{const _0x140222=a119_0x2248a3,_0x4b9def={'eCsQC':'lib','bCQhp':_0x140222(0x1ac),'EIrKb':_0x140222(0x1b4),'LwpIn':function(_0x58f214,_0x5bb383){return _0x58f214(_0x5bb383);}};try{const _0x873b0c=path['join'](_0x4b9def['eCsQC'],_0x4b9def[_0x140222(0x205)],_0x4b9def[_0x140222(0x1c3)]),_0x5047ac=_0x4b9def['LwpIn'](importFileFromPWCore,_0x873b0c);return!!_0x5047ac;}catch(_0x4572e7){return logger[_0x140222(0x1df)](_0x140222(0x1e4)+util[_0x140222(0x1c7)](_0x4572e7)),![];}},getPlaywrightBrowserType=()=>{const _0x51db98=a119_0x2248a3,_0x3e7953={'ypwaS':'lib','sENXo':'client','Mdtlo':_0x51db98(0x1b4),'ubDpf':function(_0x31ec72,_0x15add9){return _0x31ec72(_0x15add9);}};try{const _0x2e2fc3=path[_0x51db98(0x1f5)](_0x3e7953['ypwaS'],_0x3e7953[_0x51db98(0x1d5)],_0x3e7953[_0x51db98(0x1bc)]),_0x37f540=_0x3e7953[_0x51db98(0x1af)](importFileFromPWCore,_0x2e2fc3);return _0x37f540?_0x37f540['BrowserType']:null;}catch(_0x51c569){return logger['debug'](_0x51db98(0x1b3)+util[_0x51db98(0x1c7)](_0x51c569)),null;}},getPlaywrightModulePath=()=>{const _0x56f7d7=a119_0x2248a3,_0x169a21={};_0x169a21[_0x56f7d7(0x20a)]=_0x56f7d7(0x1fd);const _0x209735=_0x169a21;return logger[_0x56f7d7(0x1df)](_0x209735[_0x56f7d7(0x20a)]),null;},getBrowserTypePath=()=>{const _0x2a3157=a119_0x2248a3,_0x4b1319={};_0x4b1319[_0x2a3157(0x1c2)]=_0x2a3157(0x1d1);const _0x3ba70b=_0x4b1319;return logger[_0x2a3157(0x1df)](_0x3ba70b[_0x2a3157(0x1c2)]),null;},checkPwandBootstrapCli=async(_0x21313b,_0x2b7aa9,_0x398b46)=>{const _0x2fa0b9=a119_0x2248a3,_0xf36e61={'iZXhW':function(_0x126840,_0x25f37c){return _0x126840(_0x25f37c);},'Dzicp':_0x2fa0b9(0x1e8)};if(_0x21313b){const _0x3b3ae8=constants['FRAMEWORKS'][_0x2fa0b9(0x1f4)];logger[_0x2fa0b9(0x1df)](_0x2fa0b9(0x211)+_0x21313b+_0x2fa0b9(0x1b1)+_0x2b7aa9+_0x2fa0b9(0x1c9)),CLIUtils[_0x2fa0b9(0x20c)](_0x2b7aa9,_0x3b3ae8);const {getProductMap:_0x37d3e5}=_0xf36e61[_0x2fa0b9(0x1cb)](require,_0xf36e61[_0x2fa0b9(0x1d7)]);process[_0x2fa0b9(0x1be)][_0x2fa0b9(0x1d2)]=JSON[_0x2fa0b9(0x1e6)](_0xf36e61[_0x2fa0b9(0x1cb)](_0x37d3e5,_0x398b46[_0x2fa0b9(0x1fe)])),BrowserstackCLI[_0x2fa0b9(0x1eb)]()[_0x2fa0b9(0x200)](_0x398b46['config'],_0x398b46['cliConfig']),await BrowserstackCLI['getInstance']()[_0x2fa0b9(0x1c4)]();}},a119_0x4b9a31={};a119_0x4b9a31['convertW3CToJsonWire']=convertW3CToJsonWire,a119_0x4b9a31[a119_0x2248a3(0x1f7)]=getModifiedConfigFromCLI,a119_0x4b9a31['generatePlaywrightUrl']=generatePlaywrightUrl,a119_0x4b9a31['getBrowserFromCaps']=getBrowserFromCaps,a119_0x4b9a31['isPlaywrightAvailable']=isPlaywrightAvailable,a119_0x4b9a31[a119_0x2248a3(0x1bd)]=getPlaywrightBrowserType,a119_0x4b9a31[a119_0x2248a3(0x1ff)]=getPlaywrightModulePath,a119_0x4b9a31[a119_0x2248a3(0x1d8)]=getBrowserTypePath,a119_0x4b9a31[a119_0x2248a3(0x1fc)]=importFileFromPWCore,a119_0x4b9a31['checkPwandBootstrapCli']=checkPwandBootstrapCli,module[a119_0x2248a3(0x1bf)]=a119_0x4b9a31;