const a122_0x4c3923=a122_0xd316;function a122_0xd316(_0x23df31,_0x50cfa1){const _0x3bf77d=a122_0x3bf7();return a122_0xd316=function(_0xd316c5,_0x337f95){_0xd316c5=_0xd316c5-0x1bd;let _0x5c9315=_0x3bf77d[_0xd316c5];return _0x5c9315;},a122_0xd316(_0x23df31,_0x50cfa1);}(function(_0x210a19,_0x3b7351){const _0x8f09af=a122_0xd316,_0x326d1a=_0x210a19();while(!![]){try{const _0x1ae5e6=parseInt(_0x8f09af(0x1d1))/0x1*(-parseInt(_0x8f09af(0x1f0))/0x2)+-parseInt(_0x8f09af(0x1c8))/0x3*(-parseInt(_0x8f09af(0x1c4))/0x4)+-parseInt(_0x8f09af(0x1c5))/0x5*(-parseInt(_0x8f09af(0x204))/0x6)+parseInt(_0x8f09af(0x1f3))/0x7+parseInt(_0x8f09af(0x20c))/0x8*(parseInt(_0x8f09af(0x1e1))/0x9)+-parseInt(_0x8f09af(0x22d))/0xa*(parseInt(_0x8f09af(0x1f8))/0xb)+-parseInt(_0x8f09af(0x225))/0xc*(parseInt(_0x8f09af(0x211))/0xd);if(_0x1ae5e6===_0x3b7351)break;else _0x326d1a['push'](_0x326d1a['shift']());}catch(_0x364a4c){_0x326d1a['push'](_0x326d1a['shift']());}}}(a122_0x3bf7,0xadb79));const path=require(a122_0x4c3923(0x219)),util=require(a122_0x4c3923(0x22f)),{importFileFromPWCore}=require(a122_0x4c3923(0x1e3)),helper=require('./helper'),logger=require(a122_0x4c3923(0x20d))[a122_0x4c3923(0x1d7)],W3CMapping=require(a122_0x4c3923(0x21f))[a122_0x4c3923(0x1fa)](),constants=require('../bin/utils/constants'),BrowserstackCLI=require(a122_0x4c3923(0x21e)),CLIUtils=require(a122_0x4c3923(0x1d3));let GrpcClient;function a122_0x3bf7(){const _0x31310c=['winstonLogger','platformCaps','Djgkn','WVolg','length','getInstance','framework','browserstack.accessibilityOptions.authToken','use','getPlaywrightConfig','1803753qDdKGO','projects','./helper','ocULc','nAkOZ','dUbjL','vJuMx','XQEvX','./testhub/utils','EcwyL','BROWSERSTACK_PRODUCT_MAP','Received\x20modified\x20config\x20from\x20gRPC:\x20','jwRQI','chrome','generatePlaywrightUrl','178OVtDhm','zKexP','MnTbN','825083Ycgafk','xqKEo','format','setBrowserstackConfig','getBrowserTypePath','110fWkWHP','getPlaywrightUrl','W3CMapping','fmJsc','getConfig','EYaBF','env','fwffM','workers','getModifiedConfigFromCLI','Playwright\x20not\x20available:\x20','IPtir','2565738RsILQQ','exports','bnOJw','mhIda','setFrameworkDetail','FRAMEWORKS','ILdlV','BROWSERSTACK_TESTHUB_UUID','16VhmUMj','./logger','parse','eVRwK','BS_A11Y_JWT','62660HsnPEO','hiezP','capabilities','browserName','importFileFromPWCore','playwrightConfigObject','DIlMc','ZPTjE','path','getPlaywrightBrowserType','config','bootstrap','Requesting\x20modified\x20Playwright\x20config\x20from\x20gRPC\x20for\x20cucumberjs-pw','../bin/v2/browserstackCLI','./w3cMapping','client','FrjpY','Could\x20not\x20import\x20GrpcClient:\x20','IgKOY','getPlaywrightModulePath','2544XpJZxE','bstack:options','stringify','BrowserType','browserstack.testhubBuildUuid','browser','getBuildProductMap','browserstack.accessibilityOptions.scannerProcessingTimeout','705370nIAUyB','browserstack.accessibilityOptions.scannerVersion','util','getBrowserTypePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead','ZcAmM','bAKpR','debug','wDAmp','__platformCaps','entries','browserType.js','checkPwandBootstrapCli','lib','MZBgK','browserstack.buildProductMap','isArray','21824fFEMJA','10FstmEA','PFlcU','aQYNK','723HQMoWp','convertW3CToJsonWire','../bin/v2/grpcClient','mpFtO','join','mdPeB','cliConfig','No\x20modified\x20config\x20received\x20from\x20gRPC','configPath','2810SWndUS','getPlaywrightModulePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead','../bin/v2/cliUtils','Converted\x20W3C\x20caps\x20to\x20JSONWire:\x20','__accessibilityOptions','Error\x20getting\x20Playwright\x20BrowserType:\x20'];a122_0x3bf7=function(){return _0x31310c;};return a122_0x3bf7();}try{GrpcClient=require(a122_0x4c3923(0x1ca));}catch(a122_0x677645){logger[a122_0x4c3923(0x233)](a122_0x4c3923(0x222)+a122_0x677645['message']),GrpcClient=null;}const convertW3CToJsonWire=_0x1c10f5=>{const _0x47e088=a122_0x4c3923,_0x288cfd={};_0x288cfd[_0x47e088(0x1f1)]=function(_0x250440,_0xb0fac5){return _0x250440||_0xb0fac5;},_0x288cfd[_0x47e088(0x1cd)]=function(_0x2ecad1,_0x570f65){return _0x2ecad1===_0x570f65;},_0x288cfd[_0x47e088(0x232)]=_0x47e088(0x226),_0x288cfd[_0x47e088(0x234)]=function(_0x921ba1,_0x2851f7){return _0x921ba1===_0x2851f7;},_0x288cfd[_0x47e088(0x1ff)]=function(_0x550641,_0x6ab65f){return _0x550641 in _0x6ab65f;};const _0x1b6fe6=_0x288cfd,_0x2c4fe1={};for(const [_0x5895e4,_0x4bca7f]of Object[_0x47e088(0x1bd)](_0x1b6fe6[_0x47e088(0x1f1)](_0x1c10f5,{}))){if(_0x1b6fe6[_0x47e088(0x1cd)](_0x5895e4,_0x1b6fe6[_0x47e088(0x232)]))continue;let _0x4eac1f=![];for(const [_0x36895a,_0x3ac2e6]of Object[_0x47e088(0x1bd)](W3CMapping)){if(_0x1b6fe6[_0x47e088(0x1cd)](_0x5895e4,_0x3ac2e6)){_0x2c4fe1[_0x36895a]=_0x4bca7f,_0x4eac1f=!![];break;}}!_0x4eac1f&&(_0x2c4fe1[_0x5895e4]=_0x4bca7f);}const _0x3da0f3=_0x1c10f5[_0x1b6fe6['bAKpR']]||{};for(const [_0x1f26f3,_0xeb7ab3]of Object['entries'](_0x3da0f3)){let _0x35a90f=![];for(const [_0x233075,_0x4fbafd]of Object[_0x47e088(0x1bd)](W3CMapping)){if(_0x1b6fe6['wDAmp'](_0x1f26f3,_0x4fbafd)){_0x2c4fe1[_0x233075]=_0xeb7ab3,_0x35a90f=!![];break;}}!_0x35a90f&&!_0x1b6fe6[_0x47e088(0x1ff)](_0x1f26f3,_0x2c4fe1)&&(_0x2c4fe1[_0x1f26f3]=_0xeb7ab3);}return logger['debug'](_0x47e088(0x1d4)+JSON[_0x47e088(0x227)](_0x2c4fe1)),_0x2c4fe1;},getModifiedConfigFromCLI=async _0x183187=>{const _0x5cfb68=a122_0x4c3923,_0x210d77={};_0x210d77['aqnNY']='GrpcClient\x20not\x20available,\x20skipping\x20modified\x20config\x20request',_0x210d77[_0x5cfb68(0x1f2)]='cucumberjs-pw',_0x210d77[_0x5cfb68(0x217)]=_0x5cfb68(0x21d),_0x210d77['mhIda']=_0x5cfb68(0x1cf),_0x210d77[_0x5cfb68(0x1ea)]=function(_0x4dc4ae,_0x413b7c){return _0x4dc4ae>_0x413b7c;},_0x210d77[_0x5cfb68(0x1e7)]=function(_0x677a21,_0x4d6e08){return _0x677a21>_0x4d6e08;},_0x210d77[_0x5cfb68(0x223)]='No\x20usable\x20capabilities\x20found\x20in\x20modified\x20config\x20response';const _0x17f465=_0x210d77;try{if(!GrpcClient)return logger[_0x5cfb68(0x233)](_0x17f465['aqnNY']),null;const _0x4e5e4d={};_0x4e5e4d[_0x5cfb68(0x213)]=_0x183187,_0x4e5e4d[_0x5cfb68(0x1dd)]=_0x17f465[_0x5cfb68(0x1f2)],_0x4e5e4d[_0x5cfb68(0x200)]=0x1,_0x4e5e4d[_0x5cfb68(0x1e2)]=[];const _0x1d40c8=_0x4e5e4d;logger[_0x5cfb68(0x233)](_0x17f465[_0x5cfb68(0x217)]);const _0x3a230f={};_0x3a230f[_0x5cfb68(0x216)]=_0x1d40c8;const _0x2932b8=await GrpcClient['getInstance']()[_0x5cfb68(0x1e0)](_0x3a230f);if(!_0x2932b8[_0x5cfb68(0x1fc)]())return logger[_0x5cfb68(0x233)](_0x17f465[_0x5cfb68(0x207)]),null;const _0x9fff98=JSON[_0x5cfb68(0x20e)](_0x2932b8[_0x5cfb68(0x1fc)]());logger[_0x5cfb68(0x233)](_0x5cfb68(0x1ec)+JSON[_0x5cfb68(0x227)](_0x9fff98));if(_0x9fff98[_0x5cfb68(0x213)]&&Array['isArray'](_0x9fff98[_0x5cfb68(0x213)])&&_0x17f465[_0x5cfb68(0x1ea)](_0x9fff98[_0x5cfb68(0x213)][_0x5cfb68(0x1db)],0x0))return _0x9fff98[_0x5cfb68(0x213)][0x0];else{if(_0x9fff98[_0x5cfb68(0x1e2)]&&Array[_0x5cfb68(0x1c3)](_0x9fff98[_0x5cfb68(0x1e2)])&&_0x17f465[_0x5cfb68(0x1e7)](_0x9fff98[_0x5cfb68(0x1e2)]['length'],0x0)){const _0x4d20d3=_0x9fff98[_0x5cfb68(0x1e2)][0x0];if(_0x4d20d3[_0x5cfb68(0x1df)]&&_0x4d20d3[_0x5cfb68(0x1df)][_0x5cfb68(0x1d8)])return _0x4d20d3['use'][_0x5cfb68(0x1d8)];}}return logger[_0x5cfb68(0x233)](_0x17f465[_0x5cfb68(0x223)]),null;}catch(_0x417aad){logger['error']('Error\x20getting\x20modified\x20config\x20from\x20gRPC:\x20'+_0x417aad['message']);throw _0x417aad;}},generatePlaywrightUrl=(_0x5ebaa6,_0x282dfe)=>{const _0x28b35d=a122_0x4c3923,_0x9861e3={'IPtir':function(_0x485e1b,_0x5e9283){return _0x485e1b!==_0x5e9283;},'ILdlV':function(_0x1e2eea,_0x5d5d27){return _0x1e2eea!==_0x5d5d27;},'KiMcx':function(_0x4658ce,_0x1d346b){return _0x4658ce!==_0x1d346b;},'MZBgK':function(_0x21fcfb,_0x4c9a41){return _0x21fcfb(_0x4c9a41);},'fmJsc':function(_0x2beaaf,_0x487602){return _0x2beaaf||_0x487602;},'yMzpG':function(_0x13edb7,_0x33c24d){return _0x13edb7(_0x33c24d);},'dUbjL':_0x28b35d(0x1de),'ZcAmM':'browserstack.accessibilityOptions.wcagVersion','aPCCb':function(_0x4bb85a,_0x339f09){return _0x4bb85a(_0x339f09);},'aQYNK':_0x28b35d(0x22e),'PFlcU':function(_0x4ffc56,_0x2eadc2){return _0x4ffc56(_0x2eadc2);},'ZPTjE':_0x28b35d(0x22c),'mhDZx':_0x28b35d(0x229),'XQEvX':_0x28b35d(0x1c2),'hiezP':function(_0xe439ab,_0x819162){return _0xe439ab+_0x819162;}},_0x3c91ae=helper[_0x28b35d(0x1f9)](_0x5ebaa6),_0x39da93=_0x9861e3[_0x28b35d(0x1c1)](convertW3CToJsonWire,_0x282dfe);try{const _0x38600b=[_0x9861e3[_0x28b35d(0x1fb)](_0x282dfe,{}),global['__launchCaps']||{},global[_0x28b35d(0x235)]||{},global[_0x28b35d(0x1d5)]||{}],_0x335d56=_0x1282bf=>{const _0x2b6f20=_0x28b35d;if(_0x9861e3[_0x2b6f20(0x203)](_0x39da93[_0x1282bf],undefined)&&_0x9861e3[_0x2b6f20(0x203)](_0x39da93[_0x1282bf],null)&&_0x9861e3['IPtir'](_0x39da93[_0x1282bf],''))return;for(const _0x120670 of _0x38600b){if(_0x120670&&_0x9861e3[_0x2b6f20(0x20a)](_0x120670[_0x1282bf],undefined)&&_0x9861e3[_0x2b6f20(0x20a)](_0x120670[_0x1282bf],null)&&_0x9861e3['KiMcx'](_0x120670[_0x1282bf],'')){_0x39da93[_0x1282bf]=_0x120670[_0x1282bf];return;}}};_0x9861e3['yMzpG'](_0x335d56,_0x9861e3[_0x28b35d(0x1e6)]),_0x9861e3['yMzpG'](_0x335d56,_0x9861e3[_0x28b35d(0x231)]),_0x9861e3['aPCCb'](_0x335d56,_0x9861e3[_0x28b35d(0x1c7)]),_0x9861e3[_0x28b35d(0x1c6)](_0x335d56,_0x9861e3[_0x28b35d(0x218)]),!_0x39da93[_0x9861e3['dUbjL']]&&process[_0x28b35d(0x1fe)]['BS_A11Y_JWT']&&(_0x39da93[_0x9861e3['dUbjL']]=process[_0x28b35d(0x1fe)][_0x28b35d(0x210)]);}catch(_0x49e6fb){logger[_0x28b35d(0x233)]('Unable\x20to\x20merge\x20accessibility\x20capabilities\x20into\x20Playwright\x20URL\x20caps:\x20'+util[_0x28b35d(0x1f5)](_0x49e6fb));}return _0x39da93[_0x9861e3['mhDZx']]=process[_0x28b35d(0x1fe)][_0x28b35d(0x20b)],_0x39da93[_0x9861e3[_0x28b35d(0x1e8)]]=helper[_0x28b35d(0x22b)](),_0x9861e3[_0x28b35d(0x212)](_0x3c91ae,_0x9861e3[_0x28b35d(0x1c1)](encodeURIComponent,JSON[_0x28b35d(0x227)](_0x39da93)));},getBrowserFromCaps=_0xc9bffe=>{const _0x59e56a=a122_0x4c3923,_0x3561d7={};_0x3561d7['Djgkn']=_0x59e56a(0x1ee);const _0x3ebf60=_0x3561d7;return _0xc9bffe[_0x59e56a(0x214)]||_0xc9bffe[_0x59e56a(0x22a)]||_0x3ebf60[_0x59e56a(0x1d9)];},isPlaywrightAvailable=()=>{const _0x20529e=a122_0x4c3923,_0xb39f={'eVRwK':'lib','WVolg':_0x20529e(0x220),'EYaBF':_0x20529e(0x1be),'xqKEo':function(_0x367fdf,_0x50b9be){return _0x367fdf(_0x50b9be);}};try{const _0x19d6fc=path[_0x20529e(0x1cc)](_0xb39f[_0x20529e(0x20f)],_0xb39f[_0x20529e(0x1da)],_0xb39f[_0x20529e(0x1fd)]),_0x3b03b1=_0xb39f[_0x20529e(0x1f4)](importFileFromPWCore,_0x19d6fc);return!!_0x3b03b1;}catch(_0x399c20){return logger[_0x20529e(0x233)](_0x20529e(0x202)+util[_0x20529e(0x1f5)](_0x399c20)),![];}},getPlaywrightBrowserType=()=>{const _0x17a517=a122_0x4c3923,_0x5da69f={'ocULc':_0x17a517(0x1c0),'JNcEq':_0x17a517(0x220),'mpFtO':'browserType.js','bnOJw':function(_0x459b06,_0x20f809){return _0x459b06(_0x20f809);}};try{const _0x4d91ef=path[_0x17a517(0x1cc)](_0x5da69f[_0x17a517(0x1e4)],_0x5da69f['JNcEq'],_0x5da69f[_0x17a517(0x1cb)]),_0x301735=_0x5da69f[_0x17a517(0x206)](importFileFromPWCore,_0x4d91ef);return _0x301735?_0x301735[_0x17a517(0x228)]:null;}catch(_0x51b5a2){return logger[_0x17a517(0x233)](_0x17a517(0x1d6)+util[_0x17a517(0x1f5)](_0x51b5a2)),null;}},getPlaywrightModulePath=()=>{const _0x2ccde8=a122_0x4c3923,_0x3c9755={};_0x3c9755[_0x2ccde8(0x221)]=_0x2ccde8(0x1d2);const _0x1dfb7b=_0x3c9755;return logger[_0x2ccde8(0x233)](_0x1dfb7b[_0x2ccde8(0x221)]),null;},getBrowserTypePath=()=>{const _0xd7ce38=a122_0x4c3923,_0x2ccdc5={};_0x2ccdc5[_0xd7ce38(0x1e5)]=_0xd7ce38(0x230);const _0x36e227=_0x2ccdc5;return logger[_0xd7ce38(0x233)](_0x36e227[_0xd7ce38(0x1e5)]),null;},checkPwandBootstrapCli=async(_0x5b014a,_0x15117d,_0x564a9e)=>{const _0x8d8885=a122_0x4c3923,_0x5ef2a4={'jwRQI':function(_0x2fb8a9,_0x11358f){return _0x2fb8a9(_0x11358f);},'EIAGo':_0x8d8885(0x1e9)};if(_0x5b014a){const _0x19e133=constants[_0x8d8885(0x209)]['PLAYWRIGHT'];logger[_0x8d8885(0x233)]('Detected\x20Playwright\x20version\x20'+_0x5b014a+'\x20for\x20'+_0x15117d+'\x20flow'),CLIUtils[_0x8d8885(0x208)](_0x15117d,_0x19e133);const {getProductMap:_0x49e1fb}=_0x5ef2a4[_0x8d8885(0x1ed)](require,_0x5ef2a4['EIAGo']);process[_0x8d8885(0x1fe)][_0x8d8885(0x1eb)]=JSON[_0x8d8885(0x227)](_0x5ef2a4[_0x8d8885(0x1ed)](_0x49e1fb,_0x564a9e[_0x8d8885(0x21b)])),BrowserstackCLI[_0x8d8885(0x1dc)]()[_0x8d8885(0x1f6)](_0x564a9e['config'],_0x564a9e[_0x8d8885(0x1d0)],_0x564a9e[_0x8d8885(0x1ce)]),await BrowserstackCLI['getInstance']()[_0x8d8885(0x21c)]();}},a122_0x3f16e8={};a122_0x3f16e8[a122_0x4c3923(0x1c9)]=convertW3CToJsonWire,a122_0x3f16e8[a122_0x4c3923(0x201)]=getModifiedConfigFromCLI,a122_0x3f16e8[a122_0x4c3923(0x1ef)]=generatePlaywrightUrl,a122_0x3f16e8['getBrowserFromCaps']=getBrowserFromCaps,a122_0x3f16e8['isPlaywrightAvailable']=isPlaywrightAvailable,a122_0x3f16e8[a122_0x4c3923(0x21a)]=getPlaywrightBrowserType,a122_0x3f16e8[a122_0x4c3923(0x224)]=getPlaywrightModulePath,a122_0x3f16e8[a122_0x4c3923(0x1f7)]=getBrowserTypePath,a122_0x3f16e8[a122_0x4c3923(0x215)]=importFileFromPWCore,a122_0x3f16e8[a122_0x4c3923(0x1bf)]=checkPwandBootstrapCli,module[a122_0x4c3923(0x205)]=a122_0x3f16e8;