const a117_0x54940c=a117_0x258b;(function(_0x15d864,_0x24fecb){const _0x5d2f41=a117_0x258b,_0x1e969c=_0x15d864();while(!![]){try{const _0x4d50aa=parseInt(_0x5d2f41(0x102))/0x1*(parseInt(_0x5d2f41(0xb5))/0x2)+parseInt(_0x5d2f41(0xcc))/0x3*(parseInt(_0x5d2f41(0xec))/0x4)+parseInt(_0x5d2f41(0x10e))/0x5*(parseInt(_0x5d2f41(0xc8))/0x6)+-parseInt(_0x5d2f41(0xe6))/0x7+parseInt(_0x5d2f41(0x115))/0x8*(-parseInt(_0x5d2f41(0xb4))/0x9)+parseInt(_0x5d2f41(0x105))/0xa+-parseInt(_0x5d2f41(0xdd))/0xb;if(_0x4d50aa===_0x24fecb)break;else _0x1e969c['push'](_0x1e969c['shift']());}catch(_0x234ef5){_0x1e969c['push'](_0x1e969c['shift']());}}}(a117_0x21b1,0x5fcbc));const path=require(a117_0x54940c(0xbe)),util=require(a117_0x54940c(0xd2)),{importFileFromPWCore}=require(a117_0x54940c(0xb0)),helper=require('./helper'),logger=require(a117_0x54940c(0xf9))[a117_0x54940c(0xe8)],W3CMapping=require(a117_0x54940c(0xcd))['W3CMapping']();function a117_0x258b(_0x592233,_0x1a064){const _0x21b180=a117_0x21b1();return a117_0x258b=function(_0x258bd6,_0x3e7932){_0x258bd6=_0x258bd6-0xad;let _0x43ee2d=_0x21b180[_0x258bd6];return _0x43ee2d;},a117_0x258b(_0x592233,_0x1a064);}let GrpcClient;try{GrpcClient=require(a117_0x54940c(0xba));}catch(a117_0x3a69c9){logger[a117_0x54940c(0xe2)]('Could\x20not\x20import\x20GrpcClient:\x20'+a117_0x3a69c9[a117_0x54940c(0xce)]),GrpcClient=null;}const convertW3CToJsonWire=_0x256cfe=>{const _0x5853b7=a117_0x54940c,_0x58ab0c={};_0x58ab0c['KlllC']=function(_0x24c40f,_0x4b6941){return _0x24c40f||_0x4b6941;},_0x58ab0c[_0x5853b7(0xc0)]=function(_0x581ef8,_0x161268){return _0x581ef8===_0x161268;},_0x58ab0c[_0x5853b7(0x10f)]=_0x5853b7(0xd4),_0x58ab0c['ROFIo']=function(_0x89a8a6,_0x286129){return _0x89a8a6===_0x286129;},_0x58ab0c[_0x5853b7(0xb3)]=function(_0x4500df,_0x450d15){return _0x4500df===_0x450d15;},_0x58ab0c[_0x5853b7(0xd3)]=function(_0x57e1f4,_0x5b2c25){return _0x57e1f4 in _0x5b2c25;};const _0x2d8cd3=_0x58ab0c,_0x4db54a={};for(const [_0xfb6224,_0x57f928]of Object[_0x5853b7(0xfe)](_0x2d8cd3[_0x5853b7(0xc7)](_0x256cfe,{}))){if(_0x2d8cd3[_0x5853b7(0xc0)](_0xfb6224,_0x2d8cd3[_0x5853b7(0x10f)]))continue;let _0x2b0bd4=![];for(const [_0x952509,_0x2f533b]of Object[_0x5853b7(0xfe)](W3CMapping)){if(_0x2d8cd3['ROFIo'](_0xfb6224,_0x2f533b)){_0x4db54a[_0x952509]=_0x57f928,_0x2b0bd4=!![];break;}}!_0x2b0bd4&&(_0x4db54a[_0xfb6224]=_0x57f928);}const _0x1b0409=_0x256cfe[_0x2d8cd3['qJIfg']]||{};for(const [_0x34cbd8,_0x49bea8]of Object['entries'](_0x1b0409)){let _0x4316ac=![];for(const [_0x501b7c,_0x4d6e0c]of Object[_0x5853b7(0xfe)](W3CMapping)){if(_0x2d8cd3['sQvXl'](_0x34cbd8,_0x4d6e0c)){_0x4db54a[_0x501b7c]=_0x49bea8,_0x4316ac=!![];break;}}!_0x4316ac&&!_0x2d8cd3[_0x5853b7(0xd3)](_0x34cbd8,_0x4db54a)&&(_0x4db54a[_0x34cbd8]=_0x49bea8);}return logger[_0x5853b7(0xe2)](_0x5853b7(0xc2)+JSON[_0x5853b7(0xad)](_0x4db54a)),_0x4db54a;},getModifiedConfigFromCLI=async _0x4e5f37=>{const _0x5778f5=a117_0x54940c,_0xb6cf19={};_0xb6cf19['uHWOC']=_0x5778f5(0xf0),_0xb6cf19[_0x5778f5(0xcb)]=_0x5778f5(0x114),_0xb6cf19[_0x5778f5(0x112)]='Requesting\x20modified\x20Playwright\x20config\x20from\x20gRPC\x20for\x20cucumberjs-pw',_0xb6cf19['TnmbK']=_0x5778f5(0xf7),_0xb6cf19[_0x5778f5(0xdf)]=function(_0x5eac63,_0x3e3bfb){return _0x5eac63>_0x3e3bfb;},_0xb6cf19[_0x5778f5(0xb1)]=_0x5778f5(0x104);const _0x2ae250=_0xb6cf19;try{if(!GrpcClient)return logger[_0x5778f5(0xe2)](_0x2ae250[_0x5778f5(0xfa)]),null;const _0x95e3a9={};_0x95e3a9['capabilities']=_0x4e5f37,_0x95e3a9[_0x5778f5(0xed)]=_0x2ae250[_0x5778f5(0xcb)],_0x95e3a9[_0x5778f5(0xae)]=0x1,_0x95e3a9[_0x5778f5(0xe0)]=[];const _0x1ad485=_0x95e3a9;logger[_0x5778f5(0xe2)](_0x2ae250['OKAAy']);const _0x1067e6={};_0x1067e6[_0x5778f5(0xc9)]=_0x1ad485;const _0x1245a1=await GrpcClient[_0x5778f5(0x110)]()[_0x5778f5(0xe3)](_0x1067e6);if(!_0x1245a1['getConfig']())return logger['debug'](_0x2ae250[_0x5778f5(0x100)]),null;const _0x5a2c2d=JSON[_0x5778f5(0x107)](_0x1245a1['getConfig']());logger['debug'](_0x5778f5(0xd5)+JSON['stringify'](_0x5a2c2d));if(_0x5a2c2d[_0x5778f5(0xde)]&&Array[_0x5778f5(0xb8)](_0x5a2c2d['capabilities'])&&_0x2ae250[_0x5778f5(0xdf)](_0x5a2c2d['capabilities'][_0x5778f5(0xef)],0x0))return _0x5a2c2d[_0x5778f5(0xde)][0x0];else{if(_0x5a2c2d[_0x5778f5(0xe0)]&&Array[_0x5778f5(0xb8)](_0x5a2c2d[_0x5778f5(0xe0)])&&_0x2ae250['blvEP'](_0x5a2c2d[_0x5778f5(0xe0)]['length'],0x0)){const _0x57a062=_0x5a2c2d[_0x5778f5(0xe0)][0x0];if(_0x57a062[_0x5778f5(0xe1)]&&_0x57a062['use']['platformCaps'])return _0x57a062[_0x5778f5(0xe1)][_0x5778f5(0xd7)];}}return logger['debug'](_0x2ae250[_0x5778f5(0xb1)]),null;}catch(_0x5589fc){logger[_0x5778f5(0xf3)](_0x5778f5(0xd8)+_0x5589fc[_0x5778f5(0xce)]);throw _0x5589fc;}},generatePlaywrightUrl=(_0x1b490a,_0x16f49a)=>{const _0xf557b=a117_0x54940c,_0x388735={'xFBKE':function(_0x27f779,_0x255ded){return _0x27f779!==_0x255ded;},'IchZp':function(_0xf641e0,_0x5de6e2){return _0xf641e0!==_0x5de6e2;},'GiTRJ':function(_0x1b33a9,_0x5896de){return _0x1b33a9!==_0x5896de;},'XKtRb':function(_0x35e4ef,_0x4573cd){return _0x35e4ef(_0x4573cd);},'glZJf':function(_0x5c6575,_0x25be2b){return _0x5c6575||_0x25be2b;},'VZCwD':function(_0x41f12e,_0x38246a){return _0x41f12e(_0x38246a);},'fdCOa':_0xf557b(0xc5),'LiYDv':_0xf557b(0xe5),'fgTtQ':function(_0x4a47a7,_0x53c7c2){return _0x4a47a7(_0x53c7c2);},'oHLva':_0xf557b(0xd0),'sGknX':_0xf557b(0xcf),'qEmXf':_0xf557b(0xff),'hyGxS':_0xf557b(0xf6),'DkyCx':function(_0x475499,_0x377fe4){return _0x475499+_0x377fe4;}},_0x471713=helper[_0xf557b(0xfd)](_0x1b490a),_0x4c20f2=_0x388735[_0xf557b(0xc6)](convertW3CToJsonWire,_0x16f49a);try{const _0xd603e8=[_0x388735[_0xf557b(0xdb)](_0x16f49a,{}),global[_0xf557b(0xf4)]||{},global[_0xf557b(0xbd)]||{},global[_0xf557b(0xea)]||{}],_0x391e32=_0x22ab0c=>{const _0x1ca36f=_0xf557b;if(_0x388735[_0x1ca36f(0xf5)](_0x4c20f2[_0x22ab0c],undefined)&&_0x388735[_0x1ca36f(0xf5)](_0x4c20f2[_0x22ab0c],null)&&_0x388735[_0x1ca36f(0xd6)](_0x4c20f2[_0x22ab0c],''))return;for(const _0x2df5a4 of _0xd603e8){if(_0x2df5a4&&_0x388735[_0x1ca36f(0xda)](_0x2df5a4[_0x22ab0c],undefined)&&_0x388735[_0x1ca36f(0xda)](_0x2df5a4[_0x22ab0c],null)&&_0x388735[_0x1ca36f(0xda)](_0x2df5a4[_0x22ab0c],'')){_0x4c20f2[_0x22ab0c]=_0x2df5a4[_0x22ab0c];return;}}};_0x388735[_0xf557b(0x10d)](_0x391e32,_0x388735['fdCOa']),_0x388735[_0xf557b(0xc6)](_0x391e32,_0x388735['LiYDv']),_0x388735[_0xf557b(0x10c)](_0x391e32,_0x388735['oHLva']),_0x388735[_0xf557b(0xc6)](_0x391e32,_0x388735['sGknX']),!_0x4c20f2[_0x388735[_0xf557b(0x108)]]&&process[_0xf557b(0x10b)][_0xf557b(0x109)]&&(_0x4c20f2[_0x388735['fdCOa']]=process[_0xf557b(0x10b)][_0xf557b(0x109)]);}catch(_0x5f2d07){logger['debug']('Unable\x20to\x20merge\x20accessibility\x20capabilities\x20into\x20Playwright\x20URL\x20caps:\x20'+util[_0xf557b(0xbb)](_0x5f2d07));}return _0x4c20f2[_0x388735[_0xf557b(0xb9)]]=process[_0xf557b(0x10b)]['BROWSERSTACK_TESTHUB_UUID'],_0x4c20f2[_0x388735[_0xf557b(0xee)]]=helper[_0xf557b(0x10a)](),_0x388735[_0xf557b(0xb7)](_0x471713,_0x388735['XKtRb'](encodeURIComponent,JSON[_0xf557b(0xad)](_0x4c20f2)));},getBrowserFromCaps=_0xcbb25b=>{const _0x9058b6=a117_0x54940c,_0x438ac5={};_0x438ac5[_0x9058b6(0xf1)]='chrome';const _0x57a5bd=_0x438ac5;return _0xcbb25b[_0x9058b6(0xe9)]||_0xcbb25b[_0x9058b6(0xfb)]||_0x57a5bd[_0x9058b6(0xf1)];},isPlaywrightAvailable=()=>{const _0x4b5d75=a117_0x54940c,_0x44a35c={'nyjIU':_0x4b5d75(0xb6),'KrOeD':_0x4b5d75(0xf2),'sBlSZ':_0x4b5d75(0xe4),'rGKwZ':function(_0x3d8f2e,_0x1be32d){return _0x3d8f2e(_0x1be32d);}};try{const _0x30444d=path[_0x4b5d75(0xfc)](_0x44a35c[_0x4b5d75(0xdc)],_0x44a35c['KrOeD'],_0x44a35c[_0x4b5d75(0x111)]),_0xe613ad=_0x44a35c[_0x4b5d75(0xd9)](importFileFromPWCore,_0x30444d);return!!_0xe613ad;}catch(_0x5e93bd){return logger[_0x4b5d75(0xe2)](_0x4b5d75(0xd1)+util['format'](_0x5e93bd)),![];}},getPlaywrightBrowserType=()=>{const _0x4618f8=a117_0x54940c,_0xf744fc={'Ukbph':_0x4618f8(0xb6),'jDpWX':_0x4618f8(0xf2),'mYRJi':'browserType.js','zzbzW':function(_0x2d1a3d,_0x4649b6){return _0x2d1a3d(_0x4649b6);}};try{const _0x5e0c4d=path[_0x4618f8(0xfc)](_0xf744fc[_0x4618f8(0xc1)],_0xf744fc[_0x4618f8(0xbf)],_0xf744fc[_0x4618f8(0xeb)]),_0xff57c3=_0xf744fc[_0x4618f8(0xe7)](importFileFromPWCore,_0x5e0c4d);return _0xff57c3?_0xff57c3[_0x4618f8(0x113)]:null;}catch(_0x494745){return logger['debug'](_0x4618f8(0xc4)+util[_0x4618f8(0xbb)](_0x494745)),null;}},getPlaywrightModulePath=()=>{const _0x2b5951=a117_0x54940c,_0x381786={};_0x381786[_0x2b5951(0x103)]=_0x2b5951(0x116);const _0x26e66a=_0x381786;return logger[_0x2b5951(0xe2)](_0x26e66a[_0x2b5951(0x103)]),null;},getBrowserTypePath=()=>{const _0x25c038=a117_0x54940c,_0x5a0b9e={};_0x5a0b9e[_0x25c038(0x106)]='getBrowserTypePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead';const _0x1c2a85=_0x5a0b9e;return logger[_0x25c038(0xe2)](_0x1c2a85[_0x25c038(0x106)]),null;},a117_0xd114b5={};a117_0xd114b5[a117_0x54940c(0xc3)]=convertW3CToJsonWire,a117_0xd114b5[a117_0x54940c(0xca)]=getModifiedConfigFromCLI,a117_0xd114b5[a117_0x54940c(0xf8)]=generatePlaywrightUrl,a117_0xd114b5[a117_0x54940c(0xb2)]=getBrowserFromCaps,a117_0xd114b5['isPlaywrightAvailable']=isPlaywrightAvailable,a117_0xd114b5[a117_0x54940c(0xbc)]=getPlaywrightBrowserType,a117_0xd114b5['getPlaywrightModulePath']=getPlaywrightModulePath,a117_0xd114b5[a117_0x54940c(0xaf)]=getBrowserTypePath,a117_0xd114b5[a117_0x54940c(0x101)]=importFileFromPWCore,module['exports']=a117_0xd114b5;function a117_0x21b1(){const _0x17bddf=['getInstance','sBlSZ','OKAAy','BrowserType','cucumberjs-pw','71608UsZzXy','getPlaywrightModulePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead','stringify','workers','getBrowserTypePath','./helper','RzfLN','getBrowserFromCaps','sQvXl','405VQBLci','2YuQKMe','lib','DkyCx','isArray','qEmXf','../bin/v2/grpcClient','format','getPlaywrightBrowserType','__platformCaps','path','jDpWX','ZKkhd','Ukbph','Converted\x20W3C\x20caps\x20to\x20JSONWire:\x20','convertW3CToJsonWire','Error\x20getting\x20Playwright\x20BrowserType:\x20','browserstack.accessibilityOptions.authToken','XKtRb','KlllC','2202FUBuzX','playwrightConfigObject','getModifiedConfigFromCLI','XBeJR','34149FbWUTF','./w3cMapping','message','browserstack.accessibilityOptions.scannerProcessingTimeout','browserstack.accessibilityOptions.scannerVersion','Playwright\x20not\x20available:\x20','util','FPnUy','bstack:options','Received\x20modified\x20config\x20from\x20gRPC:\x20','IchZp','platformCaps','Error\x20getting\x20modified\x20config\x20from\x20gRPC:\x20','rGKwZ','GiTRJ','glZJf','nyjIU','4813479gCPCMg','capabilities','blvEP','projects','use','debug','getPlaywrightConfig','browserType.js','browserstack.accessibilityOptions.wcagVersion','1798391yMgwDw','zzbzW','winstonLogger','browserName','__accessibilityOptions','mYRJi','220UxGeHw','framework','hyGxS','length','GrpcClient\x20not\x20available,\x20skipping\x20modified\x20config\x20request','QDXvB','client','error','__launchCaps','xFBKE','browserstack.buildProductMap','No\x20modified\x20config\x20received\x20from\x20gRPC','generatePlaywrightUrl','./logger','uHWOC','browser','join','getPlaywrightUrl','entries','browserstack.testhubBuildUuid','TnmbK','importFileFromPWCore','71465yzNVhZ','mHXJB','No\x20usable\x20capabilities\x20found\x20in\x20modified\x20config\x20response','966820sfwPqw','IvWIk','parse','fdCOa','BS_A11Y_JWT','getBuildProductMap','env','fgTtQ','VZCwD','9475bDWrVC','qJIfg'];a117_0x21b1=function(){return _0x17bddf;};return a117_0x21b1();}