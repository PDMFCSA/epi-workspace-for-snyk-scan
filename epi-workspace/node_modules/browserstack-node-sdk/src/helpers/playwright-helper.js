const a122_0x31c1ea=a122_0x468f;(function(_0x53311d,_0x275072){const _0x1d571a=a122_0x468f,_0x3a3946=_0x53311d();while(!![]){try{const _0x3381dc=-parseInt(_0x1d571a(0x214))/0x1*(parseInt(_0x1d571a(0x1f2))/0x2)+parseInt(_0x1d571a(0x211))/0x3+parseInt(_0x1d571a(0x1e4))/0x4+parseInt(_0x1d571a(0x246))/0x5*(parseInt(_0x1d571a(0x242))/0x6)+parseInt(_0x1d571a(0x224))/0x7+parseInt(_0x1d571a(0x202))/0x8+parseInt(_0x1d571a(0x20f))/0x9*(-parseInt(_0x1d571a(0x204))/0xa);if(_0x3381dc===_0x275072)break;else _0x3a3946['push'](_0x3a3946['shift']());}catch(_0x3dddb1){_0x3a3946['push'](_0x3a3946['shift']());}}}(a122_0x54c4,0xb7603));const path=require(a122_0x31c1ea(0x23d)),util=require(a122_0x31c1ea(0x216)),{importFileFromPWCore}=require(a122_0x31c1ea(0x1ed)),helper=require(a122_0x31c1ea(0x1ed)),logger=require(a122_0x31c1ea(0x213))[a122_0x31c1ea(0x223)],W3CMapping=require(a122_0x31c1ea(0x231))[a122_0x31c1ea(0x1ec)](),constants=require('../bin/utils/constants'),BrowserstackCLI=require(a122_0x31c1ea(0x23b)),CLIUtils=require('../bin/v2/cliUtils');let GrpcClient;function a122_0x54c4(){const _0x3b4468=['2gPCbCj','browser','__accessibilityOptions','bjRpJ','browserType.js','message','dEdVe','yzyAW','BrowserType','getModifiedConfigFromCLI','Error\x20getting\x20modified\x20config\x20from\x20gRPC:\x20','browserstack.accessibilityOptions.scannerVersion','TLUpq','gUwba','iqJEp','browserstack.accessibilityOptions.wcagVersion','6759696oMjEpD','JrcuP','100UmdOjx','browserstack.accessibilityOptions.authToken','generatePlaywrightUrl','EzWFn','\x20for\x20','TFhmA','BS_A11Y_JWT','OJxsb','VAhvJ','__platformCaps','Received\x20modified\x20config\x20from\x20gRPC:\x20','2317050hLXpOe','FRAMEWORKS','1052334MBHMFa','getPlaywrightUrl','./logger','138955DHKizD','getBrowserFromCaps','util','Detected\x20Playwright\x20version\x20','./testhub/utils','join','convertW3CToJsonWire','MkRCP','config','projects','Requesting\x20modified\x20Playwright\x20config\x20from\x20gRPC\x20for\x20cucumberjs-pw','Error\x20getting\x20Playwright\x20BrowserType:\x20','eQiJw','Playwright\x20not\x20available:\x20','stringify','winstonLogger','4188184JxIlrx','docIV','env','nNXrY','ZjzIa','cNipV','fUGIa','cucumberjs-pw','LRSif','No\x20modified\x20config\x20received\x20from\x20gRPC','wfdFk','CIwGm','getBuildProductMap','./w3cMapping','cliConfig','bstack:options','rwMjd','bootstrap','hTDYK','capabilities','getPlaywrightConfig','Could\x20not\x20import\x20GrpcClient:\x20','browserstack.buildProductMap','../bin/v2/browserstackCLI','lib','path','use','chrome','getPlaywrightBrowserType','getInstance','6vhBMhK','EZXFG','debug','setBrowserstackConfig','999160EvPWfq','../bin/v2/grpcClient','setFrameworkDetail','getBrowserTypePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead','UgIZg','parse','getPlaywrightModulePath','SQlZH','lmYCj','configPath','vSfQB','BAKkN','5882712GghBbD','WFyMQ','entries','browserName','sekNO','checkPwandBootstrapCli','getConfig','error','W3CMapping','./helper','format','Converted\x20W3C\x20caps\x20to\x20JSONWire:\x20','exports','__launchCaps'];a122_0x54c4=function(){return _0x3b4468;};return a122_0x54c4();}try{GrpcClient=require(a122_0x31c1ea(0x1d9));}catch(a122_0x406caa){logger[a122_0x31c1ea(0x244)](a122_0x31c1ea(0x239)+a122_0x406caa[a122_0x31c1ea(0x1f7)]),GrpcClient=null;}const convertW3CToJsonWire=_0x537ba7=>{const _0x3c09e8=a122_0x31c1ea,_0x578f69={};_0x578f69['UBYuj']=function(_0x4a7a97,_0x39c3b7){return _0x4a7a97||_0x39c3b7;},_0x578f69[_0x3c09e8(0x236)]=function(_0x52525f,_0x18a9cf){return _0x52525f===_0x18a9cf;},_0x578f69['sekNO']=_0x3c09e8(0x233),_0x578f69[_0x3c09e8(0x228)]=function(_0xc898e4,_0x3eb40e){return _0xc898e4 in _0x3eb40e;};const _0x2d5255=_0x578f69,_0x7d331={};for(const [_0x1f0cda,_0x2a4c79]of Object[_0x3c09e8(0x1e6)](_0x2d5255['UBYuj'](_0x537ba7,{}))){if(_0x2d5255[_0x3c09e8(0x236)](_0x1f0cda,_0x2d5255[_0x3c09e8(0x1e8)]))continue;let _0x2b9f0d=![];for(const [_0x32bb74,_0xc8ceb4]of Object[_0x3c09e8(0x1e6)](W3CMapping)){if(_0x2d5255[_0x3c09e8(0x236)](_0x1f0cda,_0xc8ceb4)){_0x7d331[_0x32bb74]=_0x2a4c79,_0x2b9f0d=!![];break;}}!_0x2b9f0d&&(_0x7d331[_0x1f0cda]=_0x2a4c79);}const _0x21f1d0=_0x537ba7[_0x2d5255[_0x3c09e8(0x1e8)]]||{};for(const [_0x540ece,_0xd11656]of Object[_0x3c09e8(0x1e6)](_0x21f1d0)){let _0x1953dc=![];for(const [_0x4f75a2,_0xa5e479]of Object[_0x3c09e8(0x1e6)](W3CMapping)){if(_0x2d5255[_0x3c09e8(0x236)](_0x540ece,_0xa5e479)){_0x7d331[_0x4f75a2]=_0xd11656,_0x1953dc=!![];break;}}!_0x1953dc&&!_0x2d5255[_0x3c09e8(0x228)](_0x540ece,_0x7d331)&&(_0x7d331[_0x540ece]=_0xd11656);}return logger[_0x3c09e8(0x244)](_0x3c09e8(0x1ef)+JSON[_0x3c09e8(0x222)](_0x7d331)),_0x7d331;},getModifiedConfigFromCLI=async _0x3f0e63=>{const _0x2c9138=a122_0x31c1ea,_0x2585d1={};_0x2585d1['MkRCP']='GrpcClient\x20not\x20available,\x20skipping\x20modified\x20config\x20request',_0x2585d1[_0x2c9138(0x203)]=_0x2c9138(0x22b),_0x2585d1[_0x2c9138(0x1ff)]=_0x2c9138(0x21e),_0x2585d1[_0x2c9138(0x243)]=_0x2c9138(0x22d),_0x2585d1[_0x2c9138(0x1f8)]=function(_0xb11aa9,_0x5c5e6d){return _0xb11aa9>_0x5c5e6d;},_0x2585d1[_0x2c9138(0x227)]=function(_0x186dc0,_0x24a5a5){return _0x186dc0>_0x24a5a5;},_0x2585d1[_0x2c9138(0x1f5)]='No\x20usable\x20capabilities\x20found\x20in\x20modified\x20config\x20response';const _0x1c0077=_0x2585d1;try{if(!GrpcClient)return logger[_0x2c9138(0x244)](_0x1c0077[_0x2c9138(0x21b)]),null;const _0x191bfb={};_0x191bfb[_0x2c9138(0x237)]=_0x3f0e63,_0x191bfb['framework']=_0x1c0077[_0x2c9138(0x203)],_0x191bfb['workers']=0x1,_0x191bfb[_0x2c9138(0x21d)]=[];const _0x58c6dc=_0x191bfb;logger[_0x2c9138(0x244)](_0x1c0077[_0x2c9138(0x1ff)]);const _0x2bddfe={};_0x2bddfe['playwrightConfigObject']=_0x58c6dc;const _0x474118=await GrpcClient[_0x2c9138(0x241)]()[_0x2c9138(0x238)](_0x2bddfe);if(!_0x474118['getConfig']())return logger[_0x2c9138(0x244)](_0x1c0077[_0x2c9138(0x243)]),null;const _0x425b08=JSON[_0x2c9138(0x1dd)](_0x474118[_0x2c9138(0x1ea)]());logger[_0x2c9138(0x244)](_0x2c9138(0x20e)+JSON['stringify'](_0x425b08));if(_0x425b08[_0x2c9138(0x237)]&&Array['isArray'](_0x425b08[_0x2c9138(0x237)])&&_0x1c0077[_0x2c9138(0x1f8)](_0x425b08[_0x2c9138(0x237)]['length'],0x0))return _0x425b08[_0x2c9138(0x237)][0x0];else{if(_0x425b08[_0x2c9138(0x21d)]&&Array['isArray'](_0x425b08[_0x2c9138(0x21d)])&&_0x1c0077[_0x2c9138(0x227)](_0x425b08[_0x2c9138(0x21d)]['length'],0x0)){const _0x2a11c8=_0x425b08[_0x2c9138(0x21d)][0x0];if(_0x2a11c8[_0x2c9138(0x23e)]&&_0x2a11c8[_0x2c9138(0x23e)]['platformCaps'])return _0x2a11c8[_0x2c9138(0x23e)]['platformCaps'];}}return logger[_0x2c9138(0x244)](_0x1c0077[_0x2c9138(0x1f5)]),null;}catch(_0x10b3f3){logger[_0x2c9138(0x1eb)](_0x2c9138(0x1fc)+_0x10b3f3[_0x2c9138(0x1f7)]);throw _0x10b3f3;}},generatePlaywrightUrl=(_0x199989,_0x57fc98)=>{const _0x1e735d=a122_0x31c1ea,_0x26d4e8={'CIwGm':function(_0x2d7ea2,_0x4cbe11){return _0x2d7ea2!==_0x4cbe11;},'SQlZH':function(_0xf802a7,_0x2f906e){return _0xf802a7!==_0x2f906e;},'TFhmA':function(_0x17e9cb,_0x5052d9){return _0x17e9cb!==_0x5052d9;},'wfdFk':function(_0xd245a5,_0x1bda6e){return _0xd245a5!==_0x1bda6e;},'lmYCj':function(_0x17c231,_0x4ca056){return _0x17c231(_0x4ca056);},'lArIN':function(_0xcd7db7,_0x5239ba){return _0xcd7db7||_0x5239ba;},'BAKkN':_0x1e735d(0x205),'WBzAi':_0x1e735d(0x201),'docIV':_0x1e735d(0x1fd),'yzyAW':function(_0x4b1f1f,_0x4bfbb1){return _0x4b1f1f(_0x4bfbb1);},'OJxsb':'browserstack.accessibilityOptions.scannerProcessingTimeout','VGHOn':'browserstack.testhubBuildUuid','vSfQB':_0x1e735d(0x23a),'eQiJw':function(_0x371733,_0x48b5be){return _0x371733+_0x48b5be;},'cNipV':function(_0x2ba2ba,_0x502322){return _0x2ba2ba(_0x502322);}},_0x44111b=helper[_0x1e735d(0x212)](_0x199989),_0x1b6650=_0x26d4e8[_0x1e735d(0x1e0)](convertW3CToJsonWire,_0x57fc98);try{const _0xf756c=[_0x26d4e8['lArIN'](_0x57fc98,{}),global[_0x1e735d(0x1f1)]||{},global[_0x1e735d(0x20d)]||{},global[_0x1e735d(0x1f4)]||{}],_0x37d265=_0x3d88a5=>{const _0x19cf01=_0x1e735d;if(_0x26d4e8[_0x19cf01(0x22f)](_0x1b6650[_0x3d88a5],undefined)&&_0x26d4e8[_0x19cf01(0x22f)](_0x1b6650[_0x3d88a5],null)&&_0x26d4e8['SQlZH'](_0x1b6650[_0x3d88a5],''))return;for(const _0x3ab2ff of _0xf756c){if(_0x3ab2ff&&_0x26d4e8[_0x19cf01(0x1df)](_0x3ab2ff[_0x3d88a5],undefined)&&_0x26d4e8[_0x19cf01(0x209)](_0x3ab2ff[_0x3d88a5],null)&&_0x26d4e8[_0x19cf01(0x22e)](_0x3ab2ff[_0x3d88a5],'')){_0x1b6650[_0x3d88a5]=_0x3ab2ff[_0x3d88a5];return;}}};_0x26d4e8[_0x1e735d(0x1e0)](_0x37d265,_0x26d4e8[_0x1e735d(0x1e3)]),_0x26d4e8['lmYCj'](_0x37d265,_0x26d4e8['WBzAi']),_0x26d4e8[_0x1e735d(0x1e0)](_0x37d265,_0x26d4e8[_0x1e735d(0x225)]),_0x26d4e8[_0x1e735d(0x1f9)](_0x37d265,_0x26d4e8[_0x1e735d(0x20b)]),!_0x1b6650[_0x26d4e8[_0x1e735d(0x1e3)]]&&process[_0x1e735d(0x226)]['BS_A11Y_JWT']&&(_0x1b6650[_0x26d4e8['BAKkN']]=process[_0x1e735d(0x226)][_0x1e735d(0x20a)]);}catch(_0x370b45){logger['debug']('Unable\x20to\x20merge\x20accessibility\x20capabilities\x20into\x20Playwright\x20URL\x20caps:\x20'+util[_0x1e735d(0x1ee)](_0x370b45));}return _0x1b6650[_0x26d4e8['VGHOn']]=process['env']['BROWSERSTACK_TESTHUB_UUID'],_0x1b6650[_0x26d4e8[_0x1e735d(0x1e2)]]=helper[_0x1e735d(0x230)](),_0x26d4e8[_0x1e735d(0x220)](_0x44111b,_0x26d4e8[_0x1e735d(0x229)](encodeURIComponent,JSON[_0x1e735d(0x222)](_0x1b6650)));},getBrowserFromCaps=_0x23669a=>{const _0x27c258=a122_0x31c1ea,_0x48ea78={};_0x48ea78[_0x27c258(0x1e5)]=_0x27c258(0x23f);const _0x58ea19=_0x48ea78;return _0x23669a[_0x27c258(0x1e7)]||_0x23669a[_0x27c258(0x1f3)]||_0x58ea19['WFyMQ'];},isPlaywrightAvailable=()=>{const _0x5e6aef=a122_0x31c1ea,_0x54e128={'LRSif':_0x5e6aef(0x23c),'fjwMS':'client','EzWFn':'browserType.js','rwMjd':function(_0x544199,_0x10e422){return _0x544199(_0x10e422);}};try{const _0x96a64e=path[_0x5e6aef(0x219)](_0x54e128[_0x5e6aef(0x22c)],_0x54e128['fjwMS'],_0x54e128[_0x5e6aef(0x207)]),_0x1441b4=_0x54e128[_0x5e6aef(0x234)](importFileFromPWCore,_0x96a64e);return!!_0x1441b4;}catch(_0x33cc9f){return logger[_0x5e6aef(0x244)](_0x5e6aef(0x221)+util[_0x5e6aef(0x1ee)](_0x33cc9f)),![];}},getPlaywrightBrowserType=()=>{const _0x43bf7e=a122_0x31c1ea,_0x190dfc={'iqJEp':_0x43bf7e(0x23c),'fUGIa':'client','zVaVF':_0x43bf7e(0x1f6),'TLUpq':function(_0xbc0e19,_0x12b46a){return _0xbc0e19(_0x12b46a);}};try{const _0x18ada4=path[_0x43bf7e(0x219)](_0x190dfc[_0x43bf7e(0x200)],_0x190dfc[_0x43bf7e(0x22a)],_0x190dfc['zVaVF']),_0x35b2a3=_0x190dfc[_0x43bf7e(0x1fe)](importFileFromPWCore,_0x18ada4);return _0x35b2a3?_0x35b2a3[_0x43bf7e(0x1fa)]:null;}catch(_0xdcbf21){return logger['debug'](_0x43bf7e(0x21f)+util[_0x43bf7e(0x1ee)](_0xdcbf21)),null;}},getPlaywrightModulePath=()=>{const _0x140814=a122_0x31c1ea,_0x1a2585={};_0x1a2585[_0x140814(0x1dc)]='getPlaywrightModulePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead';const _0x2eaec6=_0x1a2585;return logger[_0x140814(0x244)](_0x2eaec6['UgIZg']),null;},getBrowserTypePath=()=>{const _0x4b5915=a122_0x31c1ea,_0x5e0995={};_0x5e0995['EFuOJ']=_0x4b5915(0x1db);const _0x42af42=_0x5e0995;return logger[_0x4b5915(0x244)](_0x42af42['EFuOJ']),null;},checkPwandBootstrapCli=async(_0x1e9981,_0x54ef58,_0x16ea3d)=>{const _0xa9cdf4=a122_0x31c1ea,_0x2b4099={'VAhvJ':function(_0x2e51df,_0x22fe9c){return _0x2e51df(_0x22fe9c);},'vbeef':_0xa9cdf4(0x218)};if(_0x1e9981){const _0x1350b5=constants[_0xa9cdf4(0x210)]['PLAYWRIGHT'];logger[_0xa9cdf4(0x244)](_0xa9cdf4(0x217)+_0x1e9981+_0xa9cdf4(0x208)+_0x54ef58+'\x20flow'),CLIUtils[_0xa9cdf4(0x1da)](_0x54ef58,_0x1350b5);const {getProductMap:_0x1ebd28}=_0x2b4099['VAhvJ'](require,_0x2b4099['vbeef']);process['env']['BROWSERSTACK_PRODUCT_MAP']=JSON[_0xa9cdf4(0x222)](_0x2b4099[_0xa9cdf4(0x20c)](_0x1ebd28,_0x16ea3d[_0xa9cdf4(0x21c)])),BrowserstackCLI[_0xa9cdf4(0x241)]()[_0xa9cdf4(0x245)](_0x16ea3d[_0xa9cdf4(0x21c)],_0x16ea3d[_0xa9cdf4(0x1e1)],_0x16ea3d[_0xa9cdf4(0x232)]),await BrowserstackCLI['getInstance']()[_0xa9cdf4(0x235)]();}},a122_0x3e5db1={};function a122_0x468f(_0x170f8b,_0x5baca4){const _0x54c4bd=a122_0x54c4();return a122_0x468f=function(_0x468f3e,_0x4a86ed){_0x468f3e=_0x468f3e-0x1d9;let _0x4bf0d6=_0x54c4bd[_0x468f3e];return _0x4bf0d6;},a122_0x468f(_0x170f8b,_0x5baca4);}a122_0x3e5db1[a122_0x31c1ea(0x21a)]=convertW3CToJsonWire,a122_0x3e5db1[a122_0x31c1ea(0x1fb)]=getModifiedConfigFromCLI,a122_0x3e5db1[a122_0x31c1ea(0x206)]=generatePlaywrightUrl,a122_0x3e5db1[a122_0x31c1ea(0x215)]=getBrowserFromCaps,a122_0x3e5db1['isPlaywrightAvailable']=isPlaywrightAvailable,a122_0x3e5db1[a122_0x31c1ea(0x240)]=getPlaywrightBrowserType,a122_0x3e5db1[a122_0x31c1ea(0x1de)]=getPlaywrightModulePath,a122_0x3e5db1['getBrowserTypePath']=getBrowserTypePath,a122_0x3e5db1['importFileFromPWCore']=importFileFromPWCore,a122_0x3e5db1[a122_0x31c1ea(0x1e9)]=checkPwandBootstrapCli,module[a122_0x31c1ea(0x1f0)]=a122_0x3e5db1;