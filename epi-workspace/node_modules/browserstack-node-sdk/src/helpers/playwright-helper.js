const a119_0x43b143=a119_0x4762;(function(_0x1755b3,_0x529f0d){const _0x5c220b=a119_0x4762,_0x2e3fba=_0x1755b3();while(!![]){try{const _0x24be39=-parseInt(_0x5c220b(0x10f))/0x1*(parseInt(_0x5c220b(0xde))/0x2)+-parseInt(_0x5c220b(0xa3))/0x3+parseInt(_0x5c220b(0xad))/0x4+-parseInt(_0x5c220b(0xb5))/0x5*(-parseInt(_0x5c220b(0xe5))/0x6)+-parseInt(_0x5c220b(0xd1))/0x7*(-parseInt(_0x5c220b(0xef))/0x8)+parseInt(_0x5c220b(0xc9))/0x9*(parseInt(_0x5c220b(0xe6))/0xa)+parseInt(_0x5c220b(0xf6))/0xb*(-parseInt(_0x5c220b(0xca))/0xc);if(_0x24be39===_0x529f0d)break;else _0x2e3fba['push'](_0x2e3fba['shift']());}catch(_0x5c4e9d){_0x2e3fba['push'](_0x2e3fba['shift']());}}}(a119_0x17e2,0x7f7b8));function a119_0x17e2(){const _0x255d90=['importFileFromPWCore','generatePlaywrightUrl','W3CMapping','__platformCaps','31129IiXlBg','getBrowserTypePath','exports','OAKDs','util','cliConfig','ihIzT','Playwright\x20not\x20available:\x20','Ryuns','use','browser','browserstack.accessibilityOptions.authToken','Detected\x20Playwright\x20version\x20','82LqpbnD','getConfig','qaHcG','Unable\x20to\x20merge\x20accessibility\x20capabilities\x20into\x20Playwright\x20URL\x20caps:\x20','config','No\x20usable\x20capabilities\x20found\x20in\x20modified\x20config\x20response','MrtyN','5974686dKkKDd','9608130aSXuuN','debug','YOZOz','browserstack.accessibilityOptions.scannerProcessingTimeout','NdFGa','jUrTt','chrome','browserType.js','../bin/v2/cliUtils','40TOJIVo','checkPwandBootstrapCli','browserstack.testhubBuildUuid','playwrightConfigObject','isPlaywrightAvailable','zpPGH','length','188441BDutKL','parse','lib','BROWSERSTACK_PRODUCT_MAP','KowfK','bstack:options','./helper','__accessibilityOptions','Could\x20not\x20import\x20GrpcClient:\x20','bootstrap','Requesting\x20modified\x20Playwright\x20config\x20from\x20gRPC\x20for\x20cucumberjs-pw','rbeWY','__launchCaps','GlyZG','projects','ucmdc','getBrowserFromCaps','BS_A11Y_JWT','isArray','zncYd','getPlaywrightConfig','CPJBC','qvkGc','getPlaywrightBrowserType','entries','9699jiYGQe','browserstack.accessibilityOptions.wcagVersion','ClYop','workers','capabilities','1148934veKOgV','brfiD','./w3cMapping','path','aHmXF','framework','fxijV','WEpFX','\x20for\x20','../bin/utils/constants','516532aCJzNk','hTFhg','\x20flow','qwHWB','setBrowserstackConfig','FRAMEWORKS','getBrowserTypePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead','zjLkn','5BXsHby','HuPhG','IOaQt','BROWSERSTACK_TESTHUB_UUID','./testhub/utils','getInstance','join','aFROU','lDMEL','PopJG','error','BrowserType','format','message','../bin/v2/grpcClient','env','Error\x20getting\x20Playwright\x20BrowserType:\x20','client','KkZYG','ZWtOz','9UXKcAF','564VmkYXL','stringify','fZfkQ'];a119_0x17e2=function(){return _0x255d90;};return a119_0x17e2();}const path=require(a119_0x43b143(0xa6)),util=require(a119_0x43b143(0xd5)),{importFileFromPWCore}=require(a119_0x43b143(0xfc)),helper=require('./helper'),logger=require('./logger')['winstonLogger'],W3CMapping=require(a119_0x43b143(0xa5))[a119_0x43b143(0xcf)](),constants=require(a119_0x43b143(0xac)),BrowserstackCLI=require('../bin/v2/browserstackCLI'),CLIUtils=require(a119_0x43b143(0xee));function a119_0x4762(_0x20395d,_0x582184){const _0x17e289=a119_0x17e2();return a119_0x4762=function(_0x47627f,_0x5cc38d){_0x47627f=_0x47627f-0xa3;let _0x27f5b7=_0x17e289[_0x47627f];return _0x27f5b7;},a119_0x4762(_0x20395d,_0x582184);}let GrpcClient;try{GrpcClient=require(a119_0x43b143(0xc3));}catch(a119_0x135ae5){logger[a119_0x43b143(0xe7)](a119_0x43b143(0xfe)+a119_0x135ae5[a119_0x43b143(0xc2)]),GrpcClient=null;}const convertW3CToJsonWire=_0x1bf2c7=>{const _0x1f92b6=a119_0x43b143,_0x3390ff={};_0x3390ff['eCQge']=function(_0x310d6b,_0x3556ba){return _0x310d6b||_0x3556ba;},_0x3390ff['fxijV']=function(_0x164802,_0x27320d){return _0x164802===_0x27320d;},_0x3390ff['hTFhg']=_0x1f92b6(0xfb),_0x3390ff[_0x1f92b6(0x109)]=function(_0x26bcda,_0x581040){return _0x26bcda===_0x581040;},_0x3390ff[_0x1f92b6(0xbe)]=function(_0x18616a,_0xe621f2){return _0x18616a in _0xe621f2;};const _0x5edfc8=_0x3390ff,_0x31fffe={};for(const [_0x3c1c06,_0x36c793]of Object['entries'](_0x5edfc8['eCQge'](_0x1bf2c7,{}))){if(_0x5edfc8[_0x1f92b6(0xa9)](_0x3c1c06,_0x5edfc8[_0x1f92b6(0xae)]))continue;let _0x3bdd58=![];for(const [_0x1f3be2,_0x240513]of Object[_0x1f92b6(0x10e)](W3CMapping)){if(_0x5edfc8[_0x1f92b6(0x109)](_0x3c1c06,_0x240513)){_0x31fffe[_0x1f3be2]=_0x36c793,_0x3bdd58=!![];break;}}!_0x3bdd58&&(_0x31fffe[_0x3c1c06]=_0x36c793);}const _0x399ea5=_0x1bf2c7[_0x5edfc8[_0x1f92b6(0xae)]]||{};for(const [_0x50ea2c,_0x1cd803]of Object[_0x1f92b6(0x10e)](_0x399ea5)){let _0xf6bd04=![];for(const [_0x525b13,_0x278c1f]of Object[_0x1f92b6(0x10e)](W3CMapping)){if(_0x5edfc8[_0x1f92b6(0xa9)](_0x50ea2c,_0x278c1f)){_0x31fffe[_0x525b13]=_0x1cd803,_0xf6bd04=!![];break;}}!_0xf6bd04&&!_0x5edfc8[_0x1f92b6(0xbe)](_0x50ea2c,_0x31fffe)&&(_0x31fffe[_0x50ea2c]=_0x1cd803);}return logger['debug']('Converted\x20W3C\x20caps\x20to\x20JSONWire:\x20'+JSON[_0x1f92b6(0xcb)](_0x31fffe)),_0x31fffe;},getModifiedConfigFromCLI=async _0x14339d=>{const _0x526557=a119_0x43b143,_0xcd8071={};_0xcd8071[_0x526557(0xa7)]='GrpcClient\x20not\x20available,\x20skipping\x20modified\x20config\x20request',_0xcd8071[_0x526557(0x105)]='cucumberjs-pw',_0xcd8071[_0x526557(0xfa)]=_0x526557(0x100),_0xcd8071[_0x526557(0x10c)]='No\x20modified\x20config\x20received\x20from\x20gRPC',_0xcd8071[_0x526557(0xaa)]=function(_0x206fa9,_0x26eb9b){return _0x206fa9>_0x26eb9b;},_0xcd8071[_0x526557(0x111)]=function(_0x205a14,_0x561f62){return _0x205a14>_0x561f62;},_0xcd8071[_0x526557(0xbd)]=_0x526557(0xe3);const _0x41d303=_0xcd8071;try{if(!GrpcClient)return logger[_0x526557(0xe7)](_0x41d303[_0x526557(0xa7)]),null;const _0x1cb83e={};_0x1cb83e['capabilities']=_0x14339d,_0x1cb83e[_0x526557(0xa8)]=_0x41d303[_0x526557(0x105)],_0x1cb83e[_0x526557(0x112)]=0x1,_0x1cb83e[_0x526557(0x104)]=[];const _0x3e4bb4=_0x1cb83e;logger[_0x526557(0xe7)](_0x41d303[_0x526557(0xfa)]);const _0x58a337={};_0x58a337[_0x526557(0xf2)]=_0x3e4bb4;const _0xd3b0c6=await GrpcClient['getInstance']()[_0x526557(0x10a)](_0x58a337);if(!_0xd3b0c6[_0x526557(0xdf)]())return logger[_0x526557(0xe7)](_0x41d303[_0x526557(0x10c)]),null;const _0x5e9498=JSON[_0x526557(0xf7)](_0xd3b0c6['getConfig']());logger['debug']('Received\x20modified\x20config\x20from\x20gRPC:\x20'+JSON[_0x526557(0xcb)](_0x5e9498));if(_0x5e9498['capabilities']&&Array['isArray'](_0x5e9498[_0x526557(0x113)])&&_0x41d303[_0x526557(0xaa)](_0x5e9498[_0x526557(0x113)][_0x526557(0xf5)],0x0))return _0x5e9498[_0x526557(0x113)][0x0];else{if(_0x5e9498[_0x526557(0x104)]&&Array[_0x526557(0x108)](_0x5e9498[_0x526557(0x104)])&&_0x41d303['ClYop'](_0x5e9498[_0x526557(0x104)][_0x526557(0xf5)],0x0)){const _0x3225cd=_0x5e9498[_0x526557(0x104)][0x0];if(_0x3225cd['use']&&_0x3225cd[_0x526557(0xda)]['platformCaps'])return _0x3225cd[_0x526557(0xda)]['platformCaps'];}}return logger[_0x526557(0xe7)](_0x41d303[_0x526557(0xbd)]),null;}catch(_0x1a80d6){logger[_0x526557(0xbf)]('Error\x20getting\x20modified\x20config\x20from\x20gRPC:\x20'+_0x1a80d6[_0x526557(0xc2)]);throw _0x1a80d6;}},generatePlaywrightUrl=(_0x13bf17,_0x3f2c47)=>{const _0x3122ed=a119_0x43b143,_0x24545a={'rbeWY':function(_0x4b7976,_0x28cb9f){return _0x4b7976!==_0x28cb9f;},'Ryuns':function(_0x2e2dcb,_0x5c973a){return _0x2e2dcb!==_0x5c973a;},'KkZYG':function(_0x8c387f,_0x13f793){return _0x8c387f!==_0x13f793;},'jUrTt':function(_0xa140c8,_0x52f384){return _0xa140c8(_0x52f384);},'kWFGF':function(_0x5b70ee,_0x1289f3){return _0x5b70ee||_0x1289f3;},'MrtyN':function(_0x31bb00,_0x181f81){return _0x31bb00(_0x181f81);},'GlyZG':_0x3122ed(0xdc),'XmPCO':function(_0x40e34c,_0x1fed73){return _0x40e34c(_0x1fed73);},'sjLxG':_0x3122ed(0x110),'CPJBC':'browserstack.accessibilityOptions.scannerVersion','kwGol':function(_0x29ed87,_0xddccf6){return _0x29ed87(_0xddccf6);},'zpPGH':_0x3122ed(0xe9),'dVexN':_0x3122ed(0xf1),'SPvrP':'browserstack.buildProductMap','qaHcG':function(_0x41db95,_0x33909c){return _0x41db95+_0x33909c;}},_0x435f0b=helper['getPlaywrightUrl'](_0x13bf17),_0x2fdfa4=_0x24545a[_0x3122ed(0xeb)](convertW3CToJsonWire,_0x3f2c47);try{const _0x543e77=[_0x24545a['kWFGF'](_0x3f2c47,{}),global[_0x3122ed(0x102)]||{},global[_0x3122ed(0xd0)]||{},global[_0x3122ed(0xfd)]||{}],_0x2dc779=_0x471245=>{const _0x42851e=_0x3122ed;if(_0x24545a['rbeWY'](_0x2fdfa4[_0x471245],undefined)&&_0x24545a[_0x42851e(0xd9)](_0x2fdfa4[_0x471245],null)&&_0x24545a[_0x42851e(0xc7)](_0x2fdfa4[_0x471245],''))return;for(const _0x2f5863 of _0x543e77){if(_0x2f5863&&_0x24545a['KkZYG'](_0x2f5863[_0x471245],undefined)&&_0x24545a[_0x42851e(0x101)](_0x2f5863[_0x471245],null)&&_0x24545a[_0x42851e(0xc7)](_0x2f5863[_0x471245],'')){_0x2fdfa4[_0x471245]=_0x2f5863[_0x471245];return;}}};_0x24545a['MrtyN'](_0x2dc779,_0x24545a[_0x3122ed(0x103)]),_0x24545a['XmPCO'](_0x2dc779,_0x24545a['sjLxG']),_0x24545a[_0x3122ed(0xe4)](_0x2dc779,_0x24545a[_0x3122ed(0x10b)]),_0x24545a['kwGol'](_0x2dc779,_0x24545a[_0x3122ed(0xf4)]),!_0x2fdfa4[_0x24545a[_0x3122ed(0x103)]]&&process['env'][_0x3122ed(0x107)]&&(_0x2fdfa4[_0x24545a['GlyZG']]=process[_0x3122ed(0xc4)]['BS_A11Y_JWT']);}catch(_0x36cfd6){logger[_0x3122ed(0xe7)](_0x3122ed(0xe1)+util[_0x3122ed(0xc1)](_0x36cfd6));}return _0x2fdfa4[_0x24545a['dVexN']]=process[_0x3122ed(0xc4)][_0x3122ed(0xb8)],_0x2fdfa4[_0x24545a['SPvrP']]=helper['getBuildProductMap'](),_0x24545a[_0x3122ed(0xe0)](_0x435f0b,_0x24545a['XmPCO'](encodeURIComponent,JSON['stringify'](_0x2fdfa4)));},getBrowserFromCaps=_0x258517=>{const _0x2040a7=a119_0x43b143,_0x65e84={};_0x65e84[_0x2040a7(0xd4)]=_0x2040a7(0xec);const _0xd77237=_0x65e84;return _0x258517['browserName']||_0x258517[_0x2040a7(0xdb)]||_0xd77237['OAKDs'];},isPlaywrightAvailable=()=>{const _0x144716=a119_0x43b143,_0x172218={'brfiD':_0x144716(0xf8),'HuPhG':'client','aFROU':_0x144716(0xed),'HgcLB':function(_0x5a03ed,_0x525e94){return _0x5a03ed(_0x525e94);}};try{const _0x524f0d=path[_0x144716(0xbb)](_0x172218[_0x144716(0xa4)],_0x172218[_0x144716(0xb6)],_0x172218[_0x144716(0xbc)]),_0x24529e=_0x172218['HgcLB'](importFileFromPWCore,_0x524f0d);return!!_0x24529e;}catch(_0x5a9ce9){return logger['debug'](_0x144716(0xd8)+util[_0x144716(0xc1)](_0x5a9ce9)),![];}},getPlaywrightBrowserType=()=>{const _0x54e800=a119_0x43b143,_0x5ce4fc={'YOZOz':_0x54e800(0xf8),'ihIzT':_0x54e800(0xc6),'fZfkQ':'browserType.js','qwHWB':function(_0x2a14cc,_0x3c1663){return _0x2a14cc(_0x3c1663);}};try{const _0x37715f=path[_0x54e800(0xbb)](_0x5ce4fc[_0x54e800(0xe8)],_0x5ce4fc[_0x54e800(0xd7)],_0x5ce4fc[_0x54e800(0xcc)]),_0x559803=_0x5ce4fc[_0x54e800(0xb0)](importFileFromPWCore,_0x37715f);return _0x559803?_0x559803[_0x54e800(0xc0)]:null;}catch(_0x3d768a){return logger['debug'](_0x54e800(0xc5)+util[_0x54e800(0xc1)](_0x3d768a)),null;}},getPlaywrightModulePath=()=>{const _0x106f25=a119_0x43b143,_0x38d1aa={};_0x38d1aa[_0x106f25(0xea)]='getPlaywrightModulePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead';const _0x365a02=_0x38d1aa;return logger['debug'](_0x365a02[_0x106f25(0xea)]),null;},getBrowserTypePath=()=>{const _0x4a698e=a119_0x43b143,_0x2fab32={};_0x2fab32[_0x4a698e(0xc8)]=_0x4a698e(0xb3);const _0x491e92=_0x2fab32;return logger['debug'](_0x491e92[_0x4a698e(0xc8)]),null;},checkPwandBootstrapCli=async(_0x1d1020,_0xc91e66,_0x5da3ee)=>{const _0xc17e40=a119_0x43b143,_0x48baae={'zjLkn':function(_0x161f2c,_0x10cb19){return _0x161f2c(_0x10cb19);},'IOaQt':_0xc17e40(0xb9)};if(_0x1d1020){const _0x19e2e0=constants[_0xc17e40(0xb2)]['PLAYWRIGHT'];logger[_0xc17e40(0xe7)](_0xc17e40(0xdd)+_0x1d1020+_0xc17e40(0xab)+_0xc91e66+_0xc17e40(0xaf)),CLIUtils['setFrameworkDetail'](_0xc91e66,_0x19e2e0);const {getProductMap:_0xdc5eb9}=_0x48baae[_0xc17e40(0xb4)](require,_0x48baae[_0xc17e40(0xb7)]);process['env'][_0xc17e40(0xf9)]=JSON[_0xc17e40(0xcb)](_0x48baae[_0xc17e40(0xb4)](_0xdc5eb9,_0x5da3ee['config'])),BrowserstackCLI['getInstance']()[_0xc17e40(0xb1)](_0x5da3ee[_0xc17e40(0xe2)],_0x5da3ee[_0xc17e40(0xd6)]),await BrowserstackCLI[_0xc17e40(0xba)]()[_0xc17e40(0xff)]();}},a119_0xc067f7={};a119_0xc067f7['convertW3CToJsonWire']=convertW3CToJsonWire,a119_0xc067f7['getModifiedConfigFromCLI']=getModifiedConfigFromCLI,a119_0xc067f7[a119_0x43b143(0xce)]=generatePlaywrightUrl,a119_0xc067f7[a119_0x43b143(0x106)]=getBrowserFromCaps,a119_0xc067f7[a119_0x43b143(0xf3)]=isPlaywrightAvailable,a119_0xc067f7[a119_0x43b143(0x10d)]=getPlaywrightBrowserType,a119_0xc067f7['getPlaywrightModulePath']=getPlaywrightModulePath,a119_0xc067f7[a119_0x43b143(0xd2)]=getBrowserTypePath,a119_0xc067f7[a119_0x43b143(0xcd)]=importFileFromPWCore,a119_0xc067f7[a119_0x43b143(0xf0)]=checkPwandBootstrapCli,module[a119_0x43b143(0xd3)]=a119_0xc067f7;