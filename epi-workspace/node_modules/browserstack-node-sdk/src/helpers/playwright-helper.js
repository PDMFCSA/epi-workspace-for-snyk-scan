const a122_0x356d2a=a122_0xeb4e;function a122_0xeb4e(_0x38cf6b,_0x22bd8b){const _0x484ba5=a122_0x484b();return a122_0xeb4e=function(_0xeb4e51,_0x99cd12){_0xeb4e51=_0xeb4e51-0x1b0;let _0x1c54d9=_0x484ba5[_0xeb4e51];return _0x1c54d9;},a122_0xeb4e(_0x38cf6b,_0x22bd8b);}function a122_0x484b(){const _0x155734=['Could\x20not\x20import\x20GrpcClient:\x20','BbRCx','../bin/v2/cliUtils','getBrowserTypePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead','browserstack.accessibilityOptions.scannerProcessingTimeout','\x20for\x20','__accessibilityOptions','cnbMi','XGFXb','xNjxf','750SPxjkA','gNiYF','Jupjv','Error\x20getting\x20modified\x20config\x20from\x20gRPC:\x20','fyGJV','../bin/v2/grpcClient','xQdSV','Error\x20getting\x20Playwright\x20BrowserType:\x20','configPath','Unable\x20to\x20merge\x20accessibility\x20capabilities\x20into\x20Playwright\x20URL\x20caps:\x20','YFgWk','browserType.js','getConfig','7QBPVGn','sOTSX','jUQiJ','No\x20usable\x20capabilities\x20found\x20in\x20modified\x20config\x20response','format','cucumberjs-pw','chrome','./helper','BROWSERSTACK_TESTHUB_UUID','FRAMEWORKS','\x20flow','browserstack.accessibilityOptions.authToken','util','./w3cMapping','UEcbm','EEkhy','join','stringify','projects','135963NxhXYL','getPlaywrightUrl','error','cliConfig','BS_A11Y_JWT','entries','Kavei','debug','browserName','winstonLogger','framework','workers','26074380pNxBFS','JpoJB','ILdzW','VKpVm','Converted\x20W3C\x20caps\x20to\x20JSONWire:\x20','SjiaE','getPlaywrightConfig','setFrameworkDetail','getPlaywrightBrowserType','AJkoS','GrpcClient\x20not\x20available,\x20skipping\x20modified\x20config\x20request','./logger','getPlaywrightModulePath','getModifiedConfigFromCLI','RGViD','No\x20modified\x20config\x20received\x20from\x20gRPC','aycEJ','11HgCKOc','config','platformCaps','103917jZnSUg','Rpgba','../bin/v2/browserstackCLI','length','generatePlaywrightUrl','832526zabRzO','lib','dIJpP','NmiFI','capabilities','client','use','276594YJmGeC','RXupI','getPlaywrightModulePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead','259696xnNXuh','PehwE','message','getInstance','opuVT','__launchCaps','MpPdc','getBuildProductMap','browserstack.testhubBuildUuid','NQJJN','IUoJy','parse','PLAYWRIGHT','8683480LmySJG','XOeJk','isArray','BROWSERSTACK_PRODUCT_MAP','env','40bZQcUb','bstack:options','W3CMapping','uocRK','40nhcCXo','VNeNN','browser','fgIcY','BrowserType','zofyB','qcUhc','getBrowserTypePath','isPlaywrightAvailable'];a122_0x484b=function(){return _0x155734;};return a122_0x484b();}(function(_0x1725b2,_0x392bff){const _0x2a63f2=a122_0xeb4e,_0x2b6649=_0x1725b2();while(!![]){try{const _0x16f8a7=parseInt(_0x2a63f2(0x21e))/0x1+parseInt(_0x2a63f2(0x1c6))/0x2*(-parseInt(_0x2a63f2(0x219))/0x3)+-parseInt(_0x2a63f2(0x1b0))/0x4*(-parseInt(_0x2a63f2(0x1c2))/0x5)+-parseInt(_0x2a63f2(0x225))/0x6*(parseInt(_0x2a63f2(0x1e6))/0x7)+parseInt(_0x2a63f2(0x1bd))/0x8+-parseInt(_0x2a63f2(0x1f9))/0x9*(-parseInt(_0x2a63f2(0x1d9))/0xa)+parseInt(_0x2a63f2(0x216))/0xb*(-parseInt(_0x2a63f2(0x205))/0xc);if(_0x16f8a7===_0x392bff)break;else _0x2b6649['push'](_0x2b6649['shift']());}catch(_0x3fd447){_0x2b6649['push'](_0x2b6649['shift']());}}}(a122_0x484b,0xa0cca));const path=require('path'),util=require(a122_0x356d2a(0x1f2)),{importFileFromPWCore}=require(a122_0x356d2a(0x1ed)),helper=require(a122_0x356d2a(0x1ed)),logger=require(a122_0x356d2a(0x210))[a122_0x356d2a(0x202)],W3CMapping=require(a122_0x356d2a(0x1f3))[a122_0x356d2a(0x1c4)](),constants=require('../bin/utils/constants'),BrowserstackCLI=require(a122_0x356d2a(0x21b)),CLIUtils=require(a122_0x356d2a(0x1d1));let GrpcClient;try{GrpcClient=require(a122_0x356d2a(0x1de));}catch(a122_0x56bc68){logger['debug'](a122_0x356d2a(0x1cf)+a122_0x56bc68['message']),GrpcClient=null;}const convertW3CToJsonWire=_0x19a475=>{const _0x3455ff=a122_0x356d2a,_0x5a66f7={};_0x5a66f7['WpuwK']=function(_0x405970,_0x18b98b){return _0x405970||_0x18b98b;},_0x5a66f7[_0x3455ff(0x1f4)]=function(_0x23a86c,_0x321aa1){return _0x23a86c===_0x321aa1;},_0x5a66f7[_0x3455ff(0x1d7)]=_0x3455ff(0x1c3),_0x5a66f7[_0x3455ff(0x1d0)]=function(_0x3fa83e,_0x13d4c5){return _0x3fa83e===_0x13d4c5;},_0x5a66f7[_0x3455ff(0x1e3)]=function(_0x399340,_0x1dd403){return _0x399340===_0x1dd403;},_0x5a66f7[_0x3455ff(0x208)]=function(_0x44652c,_0x2c06ae){return _0x44652c in _0x2c06ae;};const _0x45e67b=_0x5a66f7,_0x1866d1={};for(const [_0x107f2b,_0x4d6bd6]of Object[_0x3455ff(0x1fe)](_0x45e67b['WpuwK'](_0x19a475,{}))){if(_0x45e67b[_0x3455ff(0x1f4)](_0x107f2b,_0x45e67b['XGFXb']))continue;let _0x3f4341=![];for(const [_0x46e11d,_0x1f678f]of Object[_0x3455ff(0x1fe)](W3CMapping)){if(_0x45e67b[_0x3455ff(0x1d0)](_0x107f2b,_0x1f678f)){_0x1866d1[_0x46e11d]=_0x4d6bd6,_0x3f4341=!![];break;}}!_0x3f4341&&(_0x1866d1[_0x107f2b]=_0x4d6bd6);}const _0x16c47f=_0x19a475[_0x45e67b[_0x3455ff(0x1d7)]]||{};for(const [_0x2b904e,_0x2b4e5f]of Object[_0x3455ff(0x1fe)](_0x16c47f)){let _0x1e7467=![];for(const [_0x1584ac,_0x168715]of Object[_0x3455ff(0x1fe)](W3CMapping)){if(_0x45e67b['YFgWk'](_0x2b904e,_0x168715)){_0x1866d1[_0x1584ac]=_0x2b4e5f,_0x1e7467=!![];break;}}!_0x1e7467&&!_0x45e67b['VKpVm'](_0x2b904e,_0x1866d1)&&(_0x1866d1[_0x2b904e]=_0x2b4e5f);}return logger[_0x3455ff(0x200)](_0x3455ff(0x209)+JSON[_0x3455ff(0x1f7)](_0x1866d1)),_0x1866d1;},getModifiedConfigFromCLI=async _0x2c01ee=>{const _0x2ed83b=a122_0x356d2a,_0x346d8b={};_0x346d8b[_0x2ed83b(0x1da)]=_0x2ed83b(0x20f),_0x346d8b[_0x2ed83b(0x1d8)]=_0x2ed83b(0x1eb),_0x346d8b[_0x2ed83b(0x1e8)]='Requesting\x20modified\x20Playwright\x20config\x20from\x20gRPC\x20for\x20cucumberjs-pw',_0x346d8b[_0x2ed83b(0x1c9)]=_0x2ed83b(0x214),_0x346d8b[_0x2ed83b(0x226)]=function(_0x4331bd,_0x145871){return _0x4331bd>_0x145871;},_0x346d8b[_0x2ed83b(0x1db)]=function(_0x291bc8,_0x473d68){return _0x291bc8>_0x473d68;},_0x346d8b[_0x2ed83b(0x1f5)]=_0x2ed83b(0x1e9);const _0x554fb2=_0x346d8b;try{if(!GrpcClient)return logger[_0x2ed83b(0x200)](_0x554fb2['gNiYF']),null;const _0x210b83={};_0x210b83[_0x2ed83b(0x222)]=_0x2c01ee,_0x210b83[_0x2ed83b(0x203)]=_0x554fb2[_0x2ed83b(0x1d8)],_0x210b83[_0x2ed83b(0x204)]=0x1,_0x210b83[_0x2ed83b(0x1f8)]=[];const _0x172463=_0x210b83;logger[_0x2ed83b(0x200)](_0x554fb2['jUQiJ']);const _0x5b6e35={};_0x5b6e35['playwrightConfigObject']=_0x172463;const _0x339001=await GrpcClient[_0x2ed83b(0x1b3)]()[_0x2ed83b(0x20b)](_0x5b6e35);if(!_0x339001[_0x2ed83b(0x1e5)]())return logger[_0x2ed83b(0x200)](_0x554fb2['fgIcY']),null;const _0x2344fe=JSON[_0x2ed83b(0x1bb)](_0x339001[_0x2ed83b(0x1e5)]());logger['debug']('Received\x20modified\x20config\x20from\x20gRPC:\x20'+JSON[_0x2ed83b(0x1f7)](_0x2344fe));if(_0x2344fe['capabilities']&&Array[_0x2ed83b(0x1bf)](_0x2344fe[_0x2ed83b(0x222)])&&_0x554fb2[_0x2ed83b(0x226)](_0x2344fe['capabilities'][_0x2ed83b(0x21c)],0x0))return _0x2344fe[_0x2ed83b(0x222)][0x0];else{if(_0x2344fe['projects']&&Array[_0x2ed83b(0x1bf)](_0x2344fe[_0x2ed83b(0x1f8)])&&_0x554fb2[_0x2ed83b(0x1db)](_0x2344fe[_0x2ed83b(0x1f8)][_0x2ed83b(0x21c)],0x0)){const _0x4ecbb9=_0x2344fe['projects'][0x0];if(_0x4ecbb9['use']&&_0x4ecbb9[_0x2ed83b(0x224)][_0x2ed83b(0x218)])return _0x4ecbb9[_0x2ed83b(0x224)][_0x2ed83b(0x218)];}}return logger[_0x2ed83b(0x200)](_0x554fb2['EEkhy']),null;}catch(_0x39b73d){logger[_0x2ed83b(0x1fb)](_0x2ed83b(0x1dc)+_0x39b73d[_0x2ed83b(0x1b2)]);throw _0x39b73d;}},generatePlaywrightUrl=(_0x4678b3,_0x23a519)=>{const _0x3bc481=a122_0x356d2a,_0x46adf6={'sOTSX':function(_0x123013,_0x3cb25d){return _0x123013!==_0x3cb25d;},'xQdSV':function(_0x2f28d9,_0x2a8ffa){return _0x2f28d9!==_0x2a8ffa;},'fyGJV':function(_0x52a8ce,_0x2aaddb){return _0x52a8ce!==_0x2aaddb;},'cnbMi':function(_0x286601,_0xbba982){return _0x286601!==_0xbba982;},'uocRK':function(_0x81c18f,_0x14f6c0){return _0x81c18f(_0x14f6c0);},'NmiFI':function(_0x409c41,_0x4e2fb4){return _0x409c41||_0x4e2fb4;},'qcUhc':function(_0x28d8ea,_0x54dd34){return _0x28d8ea(_0x54dd34);},'opuVT':_0x3bc481(0x1f1),'CflsM':'browserstack.accessibilityOptions.wcagVersion','MpPdc':function(_0x28d157,_0xe4147f){return _0x28d157(_0xe4147f);},'RGViD':'browserstack.accessibilityOptions.scannerVersion','duTyA':_0x3bc481(0x1d3),'NQJJN':_0x3bc481(0x1b8),'IUoJy':'browserstack.buildProductMap','sEIwV':function(_0x209b20,_0x35a859){return _0x209b20+_0x35a859;},'Kavei':function(_0x33c7b9,_0x48cf1f){return _0x33c7b9(_0x48cf1f);}},_0x472bdd=helper[_0x3bc481(0x1fa)](_0x4678b3),_0x11d101=_0x46adf6['uocRK'](convertW3CToJsonWire,_0x23a519);try{const _0x1df93b=[_0x46adf6[_0x3bc481(0x221)](_0x23a519,{}),global[_0x3bc481(0x1b5)]||{},global['__platformCaps']||{},global[_0x3bc481(0x1d5)]||{}],_0x2065f3=_0x468d0b=>{const _0x290500=_0x3bc481;if(_0x46adf6[_0x290500(0x1e7)](_0x11d101[_0x468d0b],undefined)&&_0x46adf6[_0x290500(0x1df)](_0x11d101[_0x468d0b],null)&&_0x46adf6[_0x290500(0x1e7)](_0x11d101[_0x468d0b],''))return;for(const _0x15c710 of _0x1df93b){if(_0x15c710&&_0x46adf6[_0x290500(0x1dd)](_0x15c710[_0x468d0b],undefined)&&_0x46adf6['fyGJV'](_0x15c710[_0x468d0b],null)&&_0x46adf6[_0x290500(0x1d6)](_0x15c710[_0x468d0b],'')){_0x11d101[_0x468d0b]=_0x15c710[_0x468d0b];return;}}};_0x46adf6[_0x3bc481(0x1cc)](_0x2065f3,_0x46adf6[_0x3bc481(0x1b4)]),_0x46adf6[_0x3bc481(0x1cc)](_0x2065f3,_0x46adf6['CflsM']),_0x46adf6[_0x3bc481(0x1b6)](_0x2065f3,_0x46adf6[_0x3bc481(0x213)]),_0x46adf6[_0x3bc481(0x1c5)](_0x2065f3,_0x46adf6['duTyA']),!_0x11d101[_0x46adf6['opuVT']]&&process[_0x3bc481(0x1c1)][_0x3bc481(0x1fd)]&&(_0x11d101[_0x46adf6[_0x3bc481(0x1b4)]]=process[_0x3bc481(0x1c1)][_0x3bc481(0x1fd)]);}catch(_0x341d20){logger[_0x3bc481(0x200)](_0x3bc481(0x1e2)+util[_0x3bc481(0x1ea)](_0x341d20));}return _0x11d101[_0x46adf6[_0x3bc481(0x1b9)]]=process['env'][_0x3bc481(0x1ee)],_0x11d101[_0x46adf6[_0x3bc481(0x1ba)]]=helper[_0x3bc481(0x1b7)](),_0x46adf6['sEIwV'](_0x472bdd,_0x46adf6[_0x3bc481(0x1ff)](encodeURIComponent,JSON[_0x3bc481(0x1f7)](_0x11d101)));},getBrowserFromCaps=_0x2f46c8=>{const _0x481ea0=a122_0x356d2a,_0x22869d={};_0x22869d['obgGV']=_0x481ea0(0x1ec);const _0x1ee3ef=_0x22869d;return _0x2f46c8[_0x481ea0(0x201)]||_0x2f46c8[_0x481ea0(0x1c8)]||_0x1ee3ef['obgGV'];},isPlaywrightAvailable=()=>{const _0x3f0c3a=a122_0x356d2a,_0x52f80a={'ILdzW':_0x3f0c3a(0x21f),'Rpgba':_0x3f0c3a(0x223),'QWYsk':_0x3f0c3a(0x1e4),'aycEJ':function(_0x484110,_0x3dc310){return _0x484110(_0x3dc310);}};try{const _0x4f836b=path[_0x3f0c3a(0x1f6)](_0x52f80a[_0x3f0c3a(0x207)],_0x52f80a[_0x3f0c3a(0x21a)],_0x52f80a['QWYsk']),_0x4065f2=_0x52f80a[_0x3f0c3a(0x215)](importFileFromPWCore,_0x4f836b);return!!_0x4065f2;}catch(_0x5db0c8){return logger[_0x3f0c3a(0x200)]('Playwright\x20not\x20available:\x20'+util[_0x3f0c3a(0x1ea)](_0x5db0c8)),![];}},getPlaywrightBrowserType=()=>{const _0x1e4031=a122_0x356d2a,_0x3ef177={'zofyB':_0x1e4031(0x21f),'dIJpP':_0x1e4031(0x223),'SjiaE':_0x1e4031(0x1e4),'JpoJB':function(_0x43a17e,_0x374305){return _0x43a17e(_0x374305);}};try{const _0x24364a=path[_0x1e4031(0x1f6)](_0x3ef177[_0x1e4031(0x1cb)],_0x3ef177[_0x1e4031(0x220)],_0x3ef177[_0x1e4031(0x20a)]),_0x88cec0=_0x3ef177[_0x1e4031(0x206)](importFileFromPWCore,_0x24364a);return _0x88cec0?_0x88cec0[_0x1e4031(0x1ca)]:null;}catch(_0x27e565){return logger[_0x1e4031(0x200)](_0x1e4031(0x1e0)+util[_0x1e4031(0x1ea)](_0x27e565)),null;}},getPlaywrightModulePath=()=>{const _0xf85dcd=a122_0x356d2a,_0x1b5a14={};_0x1b5a14['KvufJ']=_0xf85dcd(0x227);const _0x384f2c=_0x1b5a14;return logger[_0xf85dcd(0x200)](_0x384f2c['KvufJ']),null;},getBrowserTypePath=()=>{const _0x1041f2=a122_0x356d2a,_0x338363={};_0x338363[_0x1041f2(0x1be)]=_0x1041f2(0x1d2);const _0x365052=_0x338363;return logger[_0x1041f2(0x200)](_0x365052[_0x1041f2(0x1be)]),null;},checkPwandBootstrapCli=async(_0x3b3c3d,_0x5480e3,_0x36045e)=>{const _0x36e4f9=a122_0x356d2a,_0x254c4={'VNeNN':function(_0x33ff31,_0x4b941a){return _0x33ff31(_0x4b941a);},'PehwE':'./testhub/utils','AJkoS':function(_0x5f0df4,_0x35609e){return _0x5f0df4(_0x35609e);}};if(_0x3b3c3d){const _0xeafebf=constants[_0x36e4f9(0x1ef)][_0x36e4f9(0x1bc)];logger[_0x36e4f9(0x200)]('Detected\x20Playwright\x20version\x20'+_0x3b3c3d+_0x36e4f9(0x1d4)+_0x5480e3+_0x36e4f9(0x1f0)),CLIUtils[_0x36e4f9(0x20c)](_0x5480e3,_0xeafebf);const {getProductMap:_0x93bc78}=_0x254c4[_0x36e4f9(0x1c7)](require,_0x254c4[_0x36e4f9(0x1b1)]);process[_0x36e4f9(0x1c1)][_0x36e4f9(0x1c0)]=JSON[_0x36e4f9(0x1f7)](_0x254c4[_0x36e4f9(0x20e)](_0x93bc78,_0x36045e[_0x36e4f9(0x217)])),BrowserstackCLI[_0x36e4f9(0x1b3)]()['setBrowserstackConfig'](_0x36045e[_0x36e4f9(0x217)],_0x36045e[_0x36e4f9(0x1e1)],_0x36045e[_0x36e4f9(0x1fc)]),await BrowserstackCLI[_0x36e4f9(0x1b3)]()['bootstrap']();}},a122_0x262815={};a122_0x262815['convertW3CToJsonWire']=convertW3CToJsonWire,a122_0x262815[a122_0x356d2a(0x212)]=getModifiedConfigFromCLI,a122_0x262815[a122_0x356d2a(0x21d)]=generatePlaywrightUrl,a122_0x262815['getBrowserFromCaps']=getBrowserFromCaps,a122_0x262815[a122_0x356d2a(0x1ce)]=isPlaywrightAvailable,a122_0x262815[a122_0x356d2a(0x20d)]=getPlaywrightBrowserType,a122_0x262815[a122_0x356d2a(0x211)]=getPlaywrightModulePath,a122_0x262815[a122_0x356d2a(0x1cd)]=getBrowserTypePath,a122_0x262815['importFileFromPWCore']=importFileFromPWCore,a122_0x262815['checkPwandBootstrapCli']=checkPwandBootstrapCli,module['exports']=a122_0x262815;