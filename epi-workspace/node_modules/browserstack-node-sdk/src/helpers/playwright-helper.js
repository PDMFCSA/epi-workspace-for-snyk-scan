const a122_0x72e410=a122_0x3d17;function a122_0x47ac(){const _0x36084b=['vviWL','path','yeOaO','length','../bin/v2/cliUtils','UhjCA','browserType.js','SWZYB','YRrDI','VqHSK','generatePlaywrightUrl','getPlaywrightConfig','XoHRL','Playwright\x20not\x20available:\x20','browserName','env','Omddh','./testhub/utils','lib','BqwUN','getInstance','convertW3CToJsonWire','Received\x20modified\x20config\x20from\x20gRPC:\x20','config','browserstack.accessibilityOptions.scannerVersion','bootstrap','error','format','Converted\x20W3C\x20caps\x20to\x20JSONWire:\x20','framework','getModifiedConfigFromCLI','BROWSERSTACK_TESTHUB_UUID','browserstack.buildProductMap','getBrowserTypePath','jirch','1732590ZKYTBk','jhxjO','36642NvjCUn','__accessibilityOptions','YrGyn','3815480nliIOk','fJRFm','rLEvt','808620VnuisL','getBuildProductMap','checkPwandBootstrapCli','2005381jrKBoO','../bin/utils/constants','debug','message','FRAMEWORKS','getConfig','../bin/v2/grpcClient','TgkHT','fAUQF','342892WwBJok','exports','bstack:options','isPlaywrightAvailable','browserstack.accessibilityOptions.wcagVersion','./w3cMapping','playwrightConfigObject','zCVLX','setFrameworkDetail','./logger','No\x20usable\x20capabilities\x20found\x20in\x20modified\x20config\x20response','isArray','use','BS_A11Y_JWT','projects','3qjJSIh','winstonLogger','STCbY','DQwYG','LbbRb','platformCaps','lMsHt','client','Could\x20not\x20import\x20GrpcClient:\x20','__launchCaps','dBcBr','\x20flow','qkiIs','setBrowserstackConfig','PTXiG','GrpcClient\x20not\x20available,\x20skipping\x20modified\x20config\x20request','TTPDX','getPlaywrightModulePath','TAYmd','workers','\x20for\x20','KzNSp','Error\x20getting\x20modified\x20config\x20from\x20gRPC:\x20','1241745yGfFHv','entries','oaPBA','Detected\x20Playwright\x20version\x20','stringify','ERNIT','__platformCaps','util','UCGBN','gjKqi','kIcHs','capabilities','wrbIR','browserstack.accessibilityOptions.authToken','ABonb','qmRMa','WPZls'];a122_0x47ac=function(){return _0x36084b;};return a122_0x47ac();}(function(_0x1b151d,_0x2b5d96){const _0x371fdf=a122_0x3d17,_0x145050=_0x1b151d();while(!![]){try{const _0x20ecb3=-parseInt(_0x371fdf(0xdb))/0x1*(parseInt(_0x371fdf(0xba))/0x2)+parseInt(_0x371fdf(0xc0))/0x3+parseInt(_0x371fdf(0xcc))/0x4+-parseInt(_0x371fdf(0xf2))/0x5+parseInt(_0x371fdf(0xb8))/0x6+parseInt(_0x371fdf(0xc3))/0x7+-parseInt(_0x371fdf(0xbd))/0x8;if(_0x20ecb3===_0x2b5d96)break;else _0x145050['push'](_0x145050['shift']());}catch(_0x5a1c2c){_0x145050['push'](_0x145050['shift']());}}}(a122_0x47ac,0x24af8));const path=require(a122_0x72e410(0x96)),util=require(a122_0x72e410(0xf9)),{importFileFromPWCore}=require('./helper'),helper=require('./helper'),logger=require(a122_0x72e410(0xd5))[a122_0x72e410(0xdc)],W3CMapping=require(a122_0x72e410(0xd1))['W3CMapping'](),constants=require(a122_0x72e410(0xc4)),BrowserstackCLI=require('../bin/v2/browserstackCLI'),CLIUtils=require(a122_0x72e410(0x99));let GrpcClient;function a122_0x3d17(_0x5e48cf,_0x37028e){const _0x47ac55=a122_0x47ac();return a122_0x3d17=function(_0x3d1745,_0x55b415){_0x3d1745=_0x3d1745-0x93;let _0x55f58e=_0x47ac55[_0x3d1745];return _0x55f58e;},a122_0x3d17(_0x5e48cf,_0x37028e);}try{GrpcClient=require(a122_0x72e410(0xc9));}catch(a122_0x25bc2a){logger[a122_0x72e410(0xc5)](a122_0x72e410(0xe3)+a122_0x25bc2a[a122_0x72e410(0xc6)]),GrpcClient=null;}const convertW3CToJsonWire=_0x2fb2a9=>{const _0x222a24=a122_0x72e410,_0x432766={};_0x432766['STCbY']=function(_0x17e2a6,_0x5ec50b){return _0x17e2a6||_0x5ec50b;},_0x432766[_0x222a24(0xd3)]=function(_0x4534d1,_0x327b13){return _0x4534d1===_0x327b13;},_0x432766[_0x222a24(0x100)]=_0x222a24(0xce),_0x432766[_0x222a24(0xdf)]=function(_0x400bc8,_0x56c554){return _0x400bc8===_0x56c554;},_0x432766[_0x222a24(0xfc)]=function(_0x5af5a3,_0x35c857){return _0x5af5a3 in _0x35c857;};const _0x403af4=_0x432766,_0x3d890e={};for(const [_0x3536f1,_0x5ed0a5]of Object['entries'](_0x403af4[_0x222a24(0xdd)](_0x2fb2a9,{}))){if(_0x403af4[_0x222a24(0xd3)](_0x3536f1,_0x403af4[_0x222a24(0x100)]))continue;let _0x7c736b=![];for(const [_0x5bab35,_0x394603]of Object[_0x222a24(0xf3)](W3CMapping)){if(_0x403af4['LbbRb'](_0x3536f1,_0x394603)){_0x3d890e[_0x5bab35]=_0x5ed0a5,_0x7c736b=!![];break;}}!_0x7c736b&&(_0x3d890e[_0x3536f1]=_0x5ed0a5);}const _0x3af0ea=_0x2fb2a9[_0x403af4[_0x222a24(0x100)]]||{};for(const [_0x4c8048,_0x124624]of Object['entries'](_0x3af0ea)){let _0x255c0f=![];for(const [_0x4bfdac,_0x1eebec]of Object[_0x222a24(0xf3)](W3CMapping)){if(_0x403af4[_0x222a24(0xd3)](_0x4c8048,_0x1eebec)){_0x3d890e[_0x4bfdac]=_0x124624,_0x255c0f=!![];break;}}!_0x255c0f&&!_0x403af4[_0x222a24(0xfc)](_0x4c8048,_0x3d890e)&&(_0x3d890e[_0x4c8048]=_0x124624);}return logger[_0x222a24(0xc5)](_0x222a24(0xb1)+JSON[_0x222a24(0xf6)](_0x3d890e)),_0x3d890e;},getModifiedConfigFromCLI=async _0x1d08c0=>{const _0x5123c3=a122_0x72e410,_0x89981d={};_0x89981d['oaPBA']=_0x5123c3(0xea),_0x89981d['KzNSp']='cucumberjs-pw',_0x89981d[_0x5123c3(0xb9)]='Requesting\x20modified\x20Playwright\x20config\x20from\x20gRPC\x20for\x20cucumberjs-pw',_0x89981d[_0x5123c3(0xb7)]='No\x20modified\x20config\x20received\x20from\x20gRPC',_0x89981d[_0x5123c3(0xde)]=function(_0x2527e3,_0x56b391){return _0x2527e3>_0x56b391;},_0x89981d[_0x5123c3(0xe7)]=function(_0x593d5a,_0x453dc0){return _0x593d5a>_0x453dc0;},_0x89981d[_0x5123c3(0x9e)]=_0x5123c3(0xd6);const _0xdd37ca=_0x89981d;try{if(!GrpcClient)return logger[_0x5123c3(0xc5)](_0xdd37ca[_0x5123c3(0xf4)]),null;const _0xada3a5={};_0xada3a5['capabilities']=_0x1d08c0,_0xada3a5[_0x5123c3(0xb2)]=_0xdd37ca[_0x5123c3(0xf0)],_0xada3a5[_0x5123c3(0xee)]=0x1,_0xada3a5[_0x5123c3(0xda)]=[];const _0x311283=_0xada3a5;logger[_0x5123c3(0xc5)](_0xdd37ca['jhxjO']);const _0x48c78f={};_0x48c78f[_0x5123c3(0xd2)]=_0x311283;const _0x18ce93=await GrpcClient[_0x5123c3(0xa9)]()[_0x5123c3(0xa0)](_0x48c78f);if(!_0x18ce93[_0x5123c3(0xc8)]())return logger[_0x5123c3(0xc5)](_0xdd37ca['jirch']),null;const _0x3912ed=JSON['parse'](_0x18ce93[_0x5123c3(0xc8)]());logger[_0x5123c3(0xc5)](_0x5123c3(0xab)+JSON[_0x5123c3(0xf6)](_0x3912ed));if(_0x3912ed[_0x5123c3(0xfd)]&&Array[_0x5123c3(0xd7)](_0x3912ed[_0x5123c3(0xfd)])&&_0xdd37ca['DQwYG'](_0x3912ed['capabilities'][_0x5123c3(0x98)],0x0))return _0x3912ed[_0x5123c3(0xfd)][0x0];else{if(_0x3912ed[_0x5123c3(0xda)]&&Array['isArray'](_0x3912ed[_0x5123c3(0xda)])&&_0xdd37ca[_0x5123c3(0xe7)](_0x3912ed[_0x5123c3(0xda)][_0x5123c3(0x98)],0x0)){const _0x2a224e=_0x3912ed['projects'][0x0];if(_0x2a224e['use']&&_0x2a224e[_0x5123c3(0xd8)][_0x5123c3(0xe0)])return _0x2a224e['use']['platformCaps'];}}return logger[_0x5123c3(0xc5)](_0xdd37ca[_0x5123c3(0x9e)]),null;}catch(_0x4ad81b){logger[_0x5123c3(0xaf)](_0x5123c3(0xf1)+_0x4ad81b[_0x5123c3(0xc6)]);throw _0x4ad81b;}},generatePlaywrightUrl=(_0x14c043,_0xd3f4f9)=>{const _0x4774f3=a122_0x72e410,_0xc25e2e={'TAYmd':function(_0x51743f,_0x22188b){return _0x51743f!==_0x22188b;},'YrGyn':function(_0xd83e52,_0x1076db){return _0xd83e52!==_0x1076db;},'Omddh':function(_0x2ad676,_0x32debf){return _0x2ad676!==_0x32debf;},'ERNIT':function(_0x1ee785,_0x1054ed){return _0x1ee785(_0x1054ed);},'gjKqi':function(_0x2d1b44,_0x3d65d7){return _0x2d1b44||_0x3d65d7;},'PTXiG':_0x4774f3(0xff),'nBpYA':function(_0x45ea68,_0x20a8c9){return _0x45ea68(_0x20a8c9);},'SWZYB':_0x4774f3(0xd0),'fJRFm':function(_0x366a30,_0x4cc300){return _0x366a30(_0x4cc300);},'TeSsc':_0x4774f3(0xad),'TTPDX':function(_0x36e060,_0x373c0b){return _0x36e060(_0x373c0b);},'dBcBr':'browserstack.accessibilityOptions.scannerProcessingTimeout','fAUQF':'browserstack.testhubBuildUuid','UhjCA':_0x4774f3(0xb5),'qmRMa':function(_0x1e31fa,_0x4ec803){return _0x1e31fa+_0x4ec803;}},_0x4c75ea=helper['getPlaywrightUrl'](_0x14c043),_0x1d017b=_0xc25e2e[_0x4774f3(0xf7)](convertW3CToJsonWire,_0xd3f4f9);try{const _0x2ab6aa=[_0xc25e2e[_0x4774f3(0xfb)](_0xd3f4f9,{}),global[_0x4774f3(0xe4)]||{},global[_0x4774f3(0xf8)]||{},global[_0x4774f3(0xbb)]||{}],_0x5ac700=_0x1b11c9=>{const _0x1bb52f=_0x4774f3;if(_0xc25e2e['TAYmd'](_0x1d017b[_0x1b11c9],undefined)&&_0xc25e2e[_0x1bb52f(0xed)](_0x1d017b[_0x1b11c9],null)&&_0xc25e2e[_0x1bb52f(0xbc)](_0x1d017b[_0x1b11c9],''))return;for(const _0x262a6a of _0x2ab6aa){if(_0x262a6a&&_0xc25e2e[_0x1bb52f(0xed)](_0x262a6a[_0x1b11c9],undefined)&&_0xc25e2e[_0x1bb52f(0xed)](_0x262a6a[_0x1b11c9],null)&&_0xc25e2e[_0x1bb52f(0xa5)](_0x262a6a[_0x1b11c9],'')){_0x1d017b[_0x1b11c9]=_0x262a6a[_0x1b11c9];return;}}};_0xc25e2e[_0x4774f3(0xf7)](_0x5ac700,_0xc25e2e[_0x4774f3(0xe9)]),_0xc25e2e['nBpYA'](_0x5ac700,_0xc25e2e[_0x4774f3(0x9c)]),_0xc25e2e[_0x4774f3(0xbe)](_0x5ac700,_0xc25e2e['TeSsc']),_0xc25e2e[_0x4774f3(0xeb)](_0x5ac700,_0xc25e2e[_0x4774f3(0xe5)]),!_0x1d017b[_0xc25e2e[_0x4774f3(0xe9)]]&&process[_0x4774f3(0xa4)][_0x4774f3(0xd9)]&&(_0x1d017b[_0xc25e2e['PTXiG']]=process[_0x4774f3(0xa4)][_0x4774f3(0xd9)]);}catch(_0x52583d){logger[_0x4774f3(0xc5)]('Unable\x20to\x20merge\x20accessibility\x20capabilities\x20into\x20Playwright\x20URL\x20caps:\x20'+util[_0x4774f3(0xb0)](_0x52583d));}return _0x1d017b[_0xc25e2e[_0x4774f3(0xcb)]]=process[_0x4774f3(0xa4)][_0x4774f3(0xb4)],_0x1d017b[_0xc25e2e[_0x4774f3(0x9a)]]=helper[_0x4774f3(0xc1)](),_0xc25e2e[_0x4774f3(0x93)](_0x4c75ea,_0xc25e2e['ERNIT'](encodeURIComponent,JSON[_0x4774f3(0xf6)](_0x1d017b)));},getBrowserFromCaps=_0x168d27=>{const _0x1ab7c4=a122_0x72e410,_0x27ddfa={};_0x27ddfa[_0x1ab7c4(0xca)]='chrome';const _0x302976=_0x27ddfa;return _0x168d27[_0x1ab7c4(0xa3)]||_0x168d27['browser']||_0x302976['TgkHT'];},isPlaywrightAvailable=()=>{const _0x226f9c=a122_0x72e410,_0xd41a7b={'rLEvt':_0x226f9c(0xa7),'wrbIR':_0x226f9c(0xe2),'BqwUN':'browserType.js','WPddO':function(_0x17be58,_0x27c048){return _0x17be58(_0x27c048);}};try{const _0x4bd8db=path['join'](_0xd41a7b[_0x226f9c(0xbf)],_0xd41a7b[_0x226f9c(0xfe)],_0xd41a7b[_0x226f9c(0xa8)]),_0x17714a=_0xd41a7b['WPddO'](importFileFromPWCore,_0x4bd8db);return!!_0x17714a;}catch(_0x38b2d0){return logger[_0x226f9c(0xc5)](_0x226f9c(0xa2)+util[_0x226f9c(0xb0)](_0x38b2d0)),![];}},getPlaywrightBrowserType=()=>{const _0xe7b7ed=a122_0x72e410,_0x10c211={'UCGBN':'lib','XoHRL':'client','uzKuV':_0xe7b7ed(0x9b),'YRrDI':function(_0xea14b1,_0x55dac4){return _0xea14b1(_0x55dac4);}};try{const _0x1900d5=path['join'](_0x10c211[_0xe7b7ed(0xfa)],_0x10c211[_0xe7b7ed(0xa1)],_0x10c211['uzKuV']),_0x30a225=_0x10c211[_0xe7b7ed(0x9d)](importFileFromPWCore,_0x1900d5);return _0x30a225?_0x30a225['BrowserType']:null;}catch(_0x50cdbc){return logger['debug']('Error\x20getting\x20Playwright\x20BrowserType:\x20'+util['format'](_0x50cdbc)),null;}},getPlaywrightModulePath=()=>{const _0x5945d3=a122_0x72e410,_0x50f1c9={};_0x50f1c9[_0x5945d3(0xe1)]='getPlaywrightModulePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead';const _0x31dadb=_0x50f1c9;return logger[_0x5945d3(0xc5)](_0x31dadb[_0x5945d3(0xe1)]),null;},getBrowserTypePath=()=>{const _0x1a1f41=a122_0x72e410,_0x851169={};_0x851169['CSRZZ']='getBrowserTypePath\x20is\x20deprecated,\x20use\x20importFileFromPWCore\x20instead';const _0xa3977c=_0x851169;return logger[_0x1a1f41(0xc5)](_0xa3977c['CSRZZ']),null;},checkPwandBootstrapCli=async(_0x9e22e6,_0x5691eb,_0xbfb101)=>{const _0x3aa7ec=a122_0x72e410,_0x3d58b1={'vviWL':function(_0x226d98,_0x1c1ee5){return _0x226d98(_0x1c1ee5);},'WPZls':_0x3aa7ec(0xa6),'yeOaO':function(_0x45b164,_0x5269d9){return _0x45b164(_0x5269d9);}};if(_0x9e22e6){const _0x1992ad=constants[_0x3aa7ec(0xc7)]['PLAYWRIGHT'];logger['debug'](_0x3aa7ec(0xf5)+_0x9e22e6+_0x3aa7ec(0xef)+_0x5691eb+_0x3aa7ec(0xe6)),CLIUtils[_0x3aa7ec(0xd4)](_0x5691eb,_0x1992ad);const {getProductMap:_0x55d2ce}=_0x3d58b1[_0x3aa7ec(0x95)](require,_0x3d58b1[_0x3aa7ec(0x94)]);process[_0x3aa7ec(0xa4)]['BROWSERSTACK_PRODUCT_MAP']=JSON[_0x3aa7ec(0xf6)](_0x3d58b1[_0x3aa7ec(0x97)](_0x55d2ce,_0xbfb101[_0x3aa7ec(0xac)])),BrowserstackCLI[_0x3aa7ec(0xa9)]()[_0x3aa7ec(0xe8)](_0xbfb101[_0x3aa7ec(0xac)],_0xbfb101['configPath'],_0xbfb101['cliConfig']),await BrowserstackCLI['getInstance']()[_0x3aa7ec(0xae)]();}},a122_0x27bf1c={};a122_0x27bf1c[a122_0x72e410(0xaa)]=convertW3CToJsonWire,a122_0x27bf1c[a122_0x72e410(0xb3)]=getModifiedConfigFromCLI,a122_0x27bf1c[a122_0x72e410(0x9f)]=generatePlaywrightUrl,a122_0x27bf1c['getBrowserFromCaps']=getBrowserFromCaps,a122_0x27bf1c[a122_0x72e410(0xcf)]=isPlaywrightAvailable,a122_0x27bf1c['getPlaywrightBrowserType']=getPlaywrightBrowserType,a122_0x27bf1c[a122_0x72e410(0xec)]=getPlaywrightModulePath,a122_0x27bf1c[a122_0x72e410(0xb6)]=getBrowserTypePath,a122_0x27bf1c['importFileFromPWCore']=importFileFromPWCore,a122_0x27bf1c[a122_0x72e410(0xc2)]=checkPwandBootstrapCli,module[a122_0x72e410(0xcd)]=a122_0x27bf1c;