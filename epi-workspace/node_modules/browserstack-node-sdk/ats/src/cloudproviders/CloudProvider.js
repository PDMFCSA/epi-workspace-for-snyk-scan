const a2_0x1e6a33=a2_0x59d8;function a2_0x1c50(){const _0x1be35b=['231VKplNu','ZWulm','ipdvC','atXOO','../config/logger','clusterName','init','setCachedCredsInRegistry','cloudProvider','sendEventToBackend','47688WQiska','9937921wyBymm','split','DKUif','debug','mtNyZ','info','../config/constants','cloudProviderName','rws','7727754eEFVUq','1558552hUSkUF','stringify','type','../utils/utilityMethods','72FsIQYy','5WULsIe','1|4|2|0|3','994328esHRkX','CloudProvider','webSocketUtils','writeFileSync','LOG','3272218RcRpuh','../utils/userInput','75496069PCYhRM','10LAqsAM','exports','readFileSync','NZczY'];a2_0x1c50=function(){return _0x1be35b;};return a2_0x1c50();}(function(_0xf37d9f,_0x54fdd6){const _0x4e5a46=a2_0x59d8,_0x26f77c=_0xf37d9f();while(!![]){try{const _0x556778=-parseInt(_0x4e5a46(0x178))/0x1+-parseInt(_0x4e5a46(0x184))/0x2+parseInt(_0x4e5a46(0x163))/0x3*(parseInt(_0x4e5a46(0x16d))/0x4)+parseInt(_0x4e5a46(0x17d))/0x5*(-parseInt(_0x4e5a46(0x177))/0x6)+-parseInt(_0x4e5a46(0x16e))/0x7+-parseInt(_0x4e5a46(0x17f))/0x8*(parseInt(_0x4e5a46(0x17c))/0x9)+-parseInt(_0x4e5a46(0x15f))/0xa*(-parseInt(_0x4e5a46(0x186))/0xb);if(_0x556778===_0x54fdd6)break;else _0x26f77c['push'](_0x26f77c['shift']());}catch(_0x132f7c){_0x26f77c['push'](_0x26f77c['shift']());}}}(a2_0x1c50,0xd7f8e));function a2_0x59d8(_0x59fb6f,_0xeb5325){const _0x1c5096=a2_0x1c50();return a2_0x59d8=function(_0x59d813,_0x147312){_0x59d813=_0x59d813-0x15f;let _0x5931e0=_0x1c5096[_0x59d813];return _0x5931e0;},a2_0x59d8(_0x59fb6f,_0xeb5325);}const fs=require('fs'),{getCredentialsPath,isUndefined}=require(a2_0x1e6a33(0x17b)),{logger}=require(a2_0x1e6a33(0x167)),{inputCloudProviderKeys}=require(a2_0x1e6a33(0x185)),{WS_EVENTS}=require(a2_0x1e6a33(0x174));class CloudProvider{constructor(_0x587e96,_0x34ccc5,_0x2d18e7,_0x888efb,_0x1a0dbd){const _0x3d9933=a2_0x1e6a33,_0x517ee9={};_0x517ee9[_0x3d9933(0x170)]=_0x3d9933(0x17e);const _0x1a9b58=_0x517ee9,_0x73ba22=_0x1a9b58['DKUif'][_0x3d9933(0x16f)]('|');let _0x375f6d=0x0;while(!![]){switch(_0x73ba22[_0x375f6d++]){case'0':this[_0x3d9933(0x176)]=_0x888efb;continue;case'1':this[_0x3d9933(0x175)]=_0x587e96;continue;case'2':this['gridName']=_0x2d18e7;continue;case'3':this['webSocketUtils']=_0x1a0dbd;continue;case'4':this[_0x3d9933(0x168)]=_0x34ccc5;continue;}break;}}async[a2_0x1e6a33(0x169)](){const _0x4941f7=a2_0x1e6a33,_0x48251c={'ZWulm':function(_0x546b6b){return _0x546b6b();},'NZczY':function(_0x530704,_0x1df192){return _0x530704(_0x1df192);},'dMMMq':'Unable\x20to\x20fetch\x20credentials\x20for\x20cloud\x20provider\x20locally','mtNyZ':function(_0x5d0da0,_0x4cbd85,_0x5ea069,_0x2175f4){return _0x5d0da0(_0x4cbd85,_0x5ea069,_0x2175f4);},'atXOO':function(_0x404b30){return _0x404b30();},'ipdvC':'Saving\x20credentials\x20for\x20cloud\x20provider\x20locally\x20for\x20later\x20runs','qGWYX':'Found\x20credentials\x20for\x20cloud\x20provider\x20locally.\x20Using\x20them\x20to\x20perform\x20actions'},_0x31a75d=JSON['parse'](fs[_0x4941f7(0x161)](_0x48251c[_0x4941f7(0x164)](getCredentialsPath))),_0x2dda56=_0x31a75d['cloudProvider']||{};if(_0x48251c[_0x4941f7(0x162)](isUndefined,_0x2dda56[this['cloudProviderName']])){logger[_0x4941f7(0x173)](_0x48251c['dMMMq']);_0x48251c[_0x4941f7(0x162)](isUndefined,_0x31a75d[_0x4941f7(0x16b)])&&(_0x31a75d[_0x4941f7(0x16b)]={});_0x31a75d[_0x4941f7(0x16b)][this[_0x4941f7(0x175)]]={};const _0x591f9e=await _0x48251c[_0x4941f7(0x172)](inputCloudProviderKeys,this['cloudProviderName'],_0x31a75d,this);fs[_0x4941f7(0x182)](_0x48251c[_0x4941f7(0x166)](getCredentialsPath),JSON[_0x4941f7(0x179)](_0x591f9e)),logger[_0x4941f7(0x171)](_0x48251c[_0x4941f7(0x165)]);}else{const _0x4a51c4=_0x48251c['qGWYX'],_0x52d5c0={};_0x52d5c0[_0x4941f7(0x17a)]=WS_EVENTS[_0x4941f7(0x183)],_0x52d5c0['message']=_0x4a51c4,this[_0x4941f7(0x181)][_0x4941f7(0x16c)](this['rws'],_0x52d5c0),logger[_0x4941f7(0x173)](_0x4a51c4),await this[_0x4941f7(0x16a)](_0x2dda56);}}}const a2_0x3b8451={};a2_0x3b8451[a2_0x1e6a33(0x180)]=CloudProvider,module[a2_0x1e6a33(0x160)]=a2_0x3b8451;