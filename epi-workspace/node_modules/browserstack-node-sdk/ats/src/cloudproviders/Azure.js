function a1_0x261d(){const _0x2a1e12=['mGjYR','AKqKy','igMHb','tags','vNMwH','vpcInfo','ingress','type','DLKlD','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','QoBuY','value','GINPW','IqjoY','Lifecycle','MmmVL','policy','sendAzureInfoToHST','PokrK','JxULe','rwGxv','XGhfL','clusterName','4845768txEcee','UbDNM','json','kubeconfigs','Content-Type','Authorization','list','kPfuD','oUfzB','AlCDZ','16374400tWrxji','webSocketUtils','No\x20service\x20principal\x20found','Pkvrb','gridName','TShhm','cNndR','Mknig','init','Creating\x20Azure\x20managed\x20identity','thumQ','MvqVk','cqLzs','jLIwr','path','RkWBj','ULdPw','properties','KhmBY','createFederatedAccount','IqSHA','false','resourceGroup','\x20RESOURCE\x20GROUP:\x20','instanceType','DOEZC','fRpkV','KMMNc','QoYZt','gDxXr','AVWfe','getKubeConfigData','yeYdi','../utils/gridComponents','@azure/arm-authorization','createCluster','RIdqV','Incremental','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','authClient','SOucF','Deleting\x20the\x20cluster\x20','@azure/arm-storage','Received\x20response\x20-\x20','NDaqU','HsFas','iLVKZ','userMaxNodes','yuxVY','info','clusterRegion','vpcName','HiHzH','kvlNk','Czmze','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','wJhPc','vyOXo','PDdSs','Jazbi','MbJWt','browserstack:managedBy','get','Deleted\x20the\x20cluster\x20successfully','getById','bsbMZ','tenantId','uumvi','ZBdHl','kUVoD','accessKey','URort','turboscale-managed-identity-','rRzus','https://graph.microsoft.com/.default','2|5|3|0|4|1','Cannot\x20find\x20VPC\x20','xeDzp','QhLju','subnets','deleteCluster','BQkFE','jWjbm','KsQwr','UQjRh','metadata','subscriptionId','2csTIQR','KZgbZ','GddDe','xmurX','KnsJO','log','ZLjPl','listByResourceGroup','BrowserStack','yhNcg','Action\x20permission\x20list\x20is\x20empty\x0a','resourceClient','readFileAsync','getStorageAccountName','allowed','MAiPF','RWwGl','UWJBx','stack','7SnfyPP','fbVYk','yiiIJ','storageaccount.json','securityProfile','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','turboscale-cluster-deployment','description','tDNFc','TmbHm','adIrK','join','Wwwnc','managedClusters','MmOGZ','HnwPT','../permissions/AZURE.json','tXLVw','wTTzZ','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','enabled','wpWBH','akscluster.json','ckzxe','userInstanceType','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','cloudProviderSubscriptionId','VuAwt','rujod','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','MmauK','YXdeq','ngNze','492526BLXOOL','@azure/arm-containerservice','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','createManagedIdentity','clientSecret','rWgZz','WqaNL','fAnLE','jpnzH','tNXvF','cwMcy','js-yaml','length','qAOUI','s3Bucket','data','hDACY','nTckw','azureresources','2023-01-31','YQQcN','cloudProviderTenantId','ymkyr','Ajgev','subnetName','roleAssignments','stringify','managedidentity.json','assignedTo(\x27','ULdLi','UkXAn','BBobL','string','HmJKv','kFhEO','hostname','5gzhTMi','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','XEjBr','CAicI','rjAMP','gKnTT','4|0|2|1|5|3','iXRvY','isManagedIdentityPresent','iZClS','clientId','JYTzy','kOeRV','jNtcr','hVkTp','vnetSubnetID','headers','blobTypes','utf-8','fiRFF','McgSh','gJWeP','username','ACTION','/resourceGroups/','roleDefinitions','toUpperCase','vBxaO','SXeMh','vndYm','uGebQ','maxNodes','saVlM','puGdH','CiiJD','exports','zkXpu','NEkxK','DlEXa','vzMIy','getUserInput','sTWcq','9820665xrdujc','pUabw','getToken','ReUzg','wMXXg','turboscale-federated-deployment','sendEventToBackend','mTinX','CmDNz','entries','aGnzL','agentPoolProfiles','RESOURCES','../utils/utilityMethods','nFITV','UJGHw','Creating\x20Azure\x20federated\x20identity','loadBalancer','isVPCPresent','FMZyu','nOsyt','dIKlm','uNPAn','VCkxn','bPYyW','RMlNv','5|1|4|0|2|3','storageClient','IBVmS','isBrowserstackCluster','isStorageAccountPresent','HnYYB','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','GPwbf','cloudProviderClientId','denied','clusterAutoUpgrade','vgojQ','actionPermission\x20:\x20','iucjH','blockBlob','tjKBj','permissions','NWlxA','rsXvd','true','BawRZ','cloudProviderClientSecret','storageAccounts','split','@azure/identity','yGFCg','XBimt','createFederatedAccountForHubHA','rules','TSAiL','fIoyY','xLbDn','yoqda','KGIpa','Storage\x20account\x20already\x20exists,\x20skipping','sGoeJ','resourceGroups','lyfrN','CAAaN','FNCYw','Attached\x20permissions\x20:\x20','VgLtL','jtKLT','ccziz','Enabling\x20Local\x20account\x20for\x20the\x20cluster','NBQvU','DzymN','slice','role\x20name\x20attached\x20-\x20','RleJr','EGAUh','No\x20attached\x20role\x20for\x20the\x20client\x20key','dqDRb','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','CpLut','rws','virtualNetworks','isSubnetsValid','Lfztd','jcwBC','getPrincipalIdFromClientId','LOG','principalId','kDGNn','knosH','[variables(\x27vnetSubnetID\x27)]','getClusterInfo','eRjTO','vzRwx','wCokT','toLowerCase','federatedidentityuploader.json','Creating\x20Azure\x20storage\x20account','pwRgd','mAbFq','iWMKq','disableLocalAccounts','2698242OXeQeI','zLTZI','setupHubHa','ubIEk','kcRFh','Cannot\x20find\x20subnets\x20','containerClient','EjtWt','DNDnZ','vBatm','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','listClusterAdminCredentials','pGzWn','MKlng','ztKtr','eWjqi','hXpub','hQOPO','FtgDK','yInTu','beginCreateOrUpdateAndWait','Found\x20only\x20one\x20resource\x20group:\x20','\x20TENANT\x20ID:\x20','PRsWT','HZCfX','roleDefinitionId','pMSlD','GET','wHCgC','templates','actions','../config/logger','.\x20Error:\x20','@azure/arm-resources','oEntH','3505278QsPVxM','getGridHostname','rumDt','Blob\x20delete\x20lifecycle','VlIzX','listAll','qvPHB','ddJWm','wQObk','\x20SUBSCRIPTION\x20ID:\x20','hBAoq','mhdwp','networkClient','filter','bstMM','aUDoL','aKpoH','push','exit','Cvfwz','fUzQa','hubharesources','setClients','error','dXpLL','xoTWt','nCkip','fZQHH','deployments','nznVg','GHldp','managementPolicies','message','PDVaT','getHeader','filters','DupKl','yCivN','No\x20CLI\x20tool\x20required','qYHhC','ytxTR','storageAccountName','ViUEF','getResourceClientId','\x20CLIENT\x20ID:\x20','definition','forEach','hub','AzureCloudProvider','ZOZZh','status','eySSn','ymwua','Lbvvn','ckXSP','DWCIB','cloudProvider','setCachedCredsInRegistry','gzLWq','federatedidentity','isClusterPresent','variables','RhZxs','application/json','gcZfc','cloudProviderName','includes','./CloudProvider','kmmOj','EdlhP','SHDKw','HBvXl','LbTdK','createOrUpdate','cUADI','wrAeJ','wBVIZ','resources','parameters','PRqfj','../config/constants','oidcIssuerProfile','vujQQ','OaZbA','eZcrk','mHvUA','oMaoi','TTplC','afruL','ddPKU','ukHoj','yepBY','wziNK','YlXff','updateClusterAlreadyPresent','createOtherResources','clusterInfo','issuerURL','AfxKj','baseBlob','zyeEE','wNKoD','AdUOj','cloudProviderResourceGroup','name','RWXYb','Fsbpp','debug','kXvbD','yCWMK','mWLcy','isCliToolInstalled','nlEiN','SVZhE','toString','parse','504244SUgrkP','TEKaj','UKbvR','cred','SKpEx'];a1_0x261d=function(){return _0x2a1e12;};return a1_0x261d();}const a1_0x5c2913=a1_0x2d03;(function(_0x418285,_0x53380e){const _0x2e1e8e=a1_0x2d03,_0x35f2a4=_0x418285();while(!![]){try{const _0x5c7a14=parseInt(_0x2e1e8e(0x1cd))/0x1+-parseInt(_0x2e1e8e(0x199))/0x2*(-parseInt(_0x2e1e8e(0x282))/0x3)+-parseInt(_0x2e1e8e(0x11c))/0x4+-parseInt(_0x2e1e8e(0x1f1))/0x5*(parseInt(_0x2e1e8e(0xa8))/0x6)+parseInt(_0x2e1e8e(0x1ac))/0x7*(-parseInt(_0x2e1e8e(0x138))/0x8)+-parseInt(_0x2e1e8e(0x21b))/0x9+parseInt(_0x2e1e8e(0x142))/0xa;if(_0x5c7a14===_0x53380e)break;else _0x35f2a4['push'](_0x35f2a4['shift']());}catch(_0x33bf4b){_0x35f2a4['push'](_0x35f2a4['shift']());}}}(a1_0x261d,0x97e78));function a1_0x2d03(_0x168597,_0x2fde50){const _0x261d09=a1_0x261d();return a1_0x2d03=function(_0x2d0390,_0x20eea0){_0x2d0390=_0x2d0390-0x8f;let _0x196c69=_0x261d09[_0x2d0390];return _0x196c69;},a1_0x2d03(_0x168597,_0x2fde50);}const fs=require('fs'),path=require(a1_0x5c2913(0x150)),yaml=require(a1_0x5c2913(0x1d8)),{logger}=require(a1_0x5c2913(0xa4)),{CloudProvider}=require(a1_0x5c2913(0xeb)),{deleteRoutingDeps,deleteAgent}=require(a1_0x5c2913(0x163)),{AZURE,WS_EVENTS,global_registry}=require(a1_0x5c2913(0xf8)),PERMISSIONS=require(a1_0x5c2913(0x1bc)),{ClientSecretCredential}=require(a1_0x5c2913(0x24d)),{NetworkManagementClient}=require('@azure/arm-network'),{StorageManagementClient}=require(a1_0x5c2913(0x16c)),{AuthorizationManagementClient}=require(a1_0x5c2913(0x164)),{ResourceManagementClient}=require(a1_0x5c2913(0xa6)),{ContainerServiceClient}=require(a1_0x5c2913(0x1ce)),{runCommand}=require(a1_0x5c2913(0x228));class AzureCloudProvider extends CloudProvider{constructor(_0x2f9f07,_0x5bdee7,_0x18405a,_0x24640f){const _0x1b6757=a1_0x5c2913,_0x504f53={};_0x504f53[_0x1b6757(0x1d3)]='2|7|3|0|6|4|5|1';const _0x20ba79=_0x504f53,_0x4c420a=_0x20ba79['WqaNL'][_0x1b6757(0x24c)]('|');let _0x1c2031=0x0;while(!![]){switch(_0x4c420a[_0x1c2031++]){case'0':this[_0x1b6757(0x288)]=null;continue;case'1':this[_0x1b6757(0x169)]=null;continue;case'2':super(AZURE,_0x2f9f07,_0x5bdee7,_0x18405a,_0x24640f);continue;case'3':this[_0x1b6757(0x108)]=null;continue;case'4':this['resourceClient']=null;continue;case'5':this[_0x1b6757(0xb4)]=null;continue;case'6':this[_0x1b6757(0x236)]=null;continue;case'7':this['cred']=null;continue;}break;}}async[a1_0x5c2913(0x14a)](){const _0x10d91a=a1_0x5c2913;return await super[_0x10d91a(0x14a)](),this;}['setClients'](){const _0x2898fd=a1_0x5c2913,_0x531abb=new ClientSecretCredential(global_registry[_0x2898fd(0x1e2)],global_registry[_0x2898fd(0x23d)],global_registry[_0x2898fd(0x24a)]);this[_0x2898fd(0x288)]=new ContainerServiceClient(_0x531abb,global_registry['cloudProviderSubscriptionId']),this[_0x2898fd(0x236)]=new StorageManagementClient(_0x531abb,global_registry[_0x2898fd(0x1c6)]),this[_0x2898fd(0x1a4)]=new ResourceManagementClient(_0x531abb,global_registry['cloudProviderSubscriptionId']),this[_0x2898fd(0xb4)]=new NetworkManagementClient(_0x531abb,global_registry['cloudProviderSubscriptionId']),this[_0x2898fd(0x169)]=new AuthorizationManagementClient(_0x531abb,global_registry['cloudProviderSubscriptionId']),this['cred']=_0x531abb;}[a1_0x5c2913(0x1a6)](){const _0x368cce=a1_0x5c2913,_0x3d982e={};_0x3d982e[_0x368cce(0x1f5)]=function(_0x561768,_0x3b9c0e){return _0x561768+_0x3b9c0e;},_0x3d982e[_0x368cce(0x102)]='turboscale',_0x3d982e[_0x368cce(0x160)]=function(_0x391a70,_0x44ca3f){return _0x391a70-_0x44ca3f;};const _0x262304=_0x3d982e,_0x8eaa81=global_registry[_0x368cce(0x1db)][_0x368cce(0x24c)]('-'),_0x2d1e65=_0x262304['rjAMP'](_0x262304['ukHoj'],_0x8eaa81[_0x262304[_0x368cce(0x160)](_0x8eaa81[_0x368cce(0x1d9)],0x1)])[_0x368cce(0x264)](0x0,0x18);return _0x2d1e65['toLowerCase']();}[a1_0x5c2913(0xe1)](_0x58fc1a){const _0x9cdec0=a1_0x5c2913,_0x59152e={};_0x59152e[_0x9cdec0(0xb8)]=_0x9cdec0(0x1f7);const _0x4814b0=_0x59152e,_0x3e228d=_0x4814b0[_0x9cdec0(0xb8)][_0x9cdec0(0x24c)]('|');let _0x346696=0x0;while(!![]){switch(_0x3e228d[_0x346696++]){case'0':global_registry['cloudProviderClientSecret']=_0x58fc1a[this[_0x9cdec0(0xe9)]]['clientSecret'];continue;case'1':global_registry[_0x9cdec0(0x1c6)]=_0x58fc1a[this['cloudProviderName']][_0x9cdec0(0x198)];continue;case'2':global_registry['cloudProviderTenantId']=_0x58fc1a[this[_0x9cdec0(0xe9)]][_0x9cdec0(0x184)];continue;case'3':this['setClients']();continue;case'4':global_registry[_0x9cdec0(0x23d)]=_0x58fc1a[this[_0x9cdec0(0xe9)]][_0x9cdec0(0x1fb)];continue;case'5':global_registry[_0x9cdec0(0x10f)]=_0x58fc1a[this[_0x9cdec0(0xe9)]]['resourceGroup'];continue;}break;}}async[a1_0x5c2913(0x219)](_0x53741e,_0xe270b1){const _0x3e84aa=a1_0x5c2913,_0x24e7ef={'wpWBH':function(_0x5f0631,_0x797415,_0x100f47){return _0x5f0631(_0x797415,_0x100f47);},'VgLtL':function(_0x4bc63a,_0x35bdfc){return _0x4bc63a(_0x35bdfc);},'TTplC':function(_0x556404,_0x499ba3){return _0x556404(_0x499ba3);},'vNMwH':function(_0x416467,_0x5d9d0d){return _0x416467===_0x5d9d0d;},'vzMIy':function(_0x15a5a9,_0x1e65b7){return _0x15a5a9!==_0x1e65b7;},'vndYm':_0x3e84aa(0x149),'hQOPO':'sfvvL','JPsam':function(_0x52b6fa,_0x2f9f21){return _0x52b6fa===_0x2f9f21;},'cNndR':_0x3e84aa(0x9c),'kUVoD':function(_0x1ce632,_0x4a46fe){return _0x1ce632===_0x4a46fe;},'qYHhC':function(_0x55063e,_0x41bc9f){return _0x55063e===_0x41bc9f;},'CcoMS':function(_0x1cb7af,_0x560816){return _0x1cb7af===_0x560816;},'vBxaO':'HKTdR','qvPHB':_0x3e84aa(0x1c5),'ngNze':function(_0x2374c9,_0x829505){return _0x2374c9===_0x829505;},'gcZfc':_0x3e84aa(0x10c),'PDdSs':_0x3e84aa(0x1fa),'sAUnj':function(_0x39ef1d,_0x3b2c39){return _0x39ef1d===_0x3b2c39;},'wTTzZ':_0x3e84aa(0xde),'pchXj':function(_0xcebee1,_0x20df78){return _0xcebee1<_0x20df78;},'GINPW':function(_0x4e919d,_0x4aaf9f){return _0x4e919d!==_0x4aaf9f;},'MAiPF':'KnXCb','mHvUA':function(_0x1c0984,_0x584812){return _0x1c0984+_0x584812;},'CAicI':'Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','yCivN':function(_0x12ace5,_0x2fcf7a){return _0x12ace5(_0x2fcf7a);},'iWMKq':function(_0x285729,_0x2a32bc){return _0x285729(_0x2a32bc);},'yhNcg':function(_0x1ba4fe,_0x117aa1){return _0x1ba4fe<=_0x117aa1;},'Gnlvh':function(_0x303472,_0x535816){return _0x303472>_0x535816;},'aUDoL':_0x3e84aa(0x12b),'Qrjkk':function(_0xd45339,_0x4758ae){return _0xd45339-_0x4758ae;}},_0x52d9e3=this[_0x3e84aa(0xe9)][_0x3e84aa(0x20b)](),_0x4998ed=await _0x24e7ef[_0x3e84aa(0x25e)](_0x53741e,_0x52d9e3+_0x3e84aa(0xd4)),_0x3bb734=await _0x24e7ef[_0x3e84aa(0xff)](_0x53741e,_0x52d9e3+'\x20CLIENT\x20SECRET:\x20'),_0x48a134=await _0x24e7ef[_0x3e84aa(0x25e)](_0x53741e,_0x52d9e3+_0x3e84aa(0x9b)),_0xe548c=await _0x24e7ef[_0x3e84aa(0x25e)](_0x53741e,_0x52d9e3+_0x3e84aa(0xb1));global_registry[_0x3e84aa(0x23d)]=_0x4998ed,global_registry[_0x3e84aa(0x24a)]=_0x3bb734,global_registry[_0x3e84aa(0x1e2)]=_0x48a134,global_registry[_0x3e84aa(0x1c6)]=_0xe548c,this[_0x3e84aa(0xbe)]();const _0xc870d6=await this['getResourceGroups'](),_0x35f512=_0xc870d6[_0x3e84aa(0x1d9)];let _0x539818;if(_0x24e7ef[_0x3e84aa(0x125)](_0x35f512,0x0))_0x24e7ef[_0x3e84aa(0x218)](_0x24e7ef[_0x3e84aa(0x20e)],_0x24e7ef[_0x3e84aa(0x96)])?_0x539818=await _0x24e7ef[_0x3e84aa(0xff)](_0x53741e,_0x52d9e3+_0x3e84aa(0x159)):_0xd9e934[_0x3e84aa(0xb9)](_0x1ea092);else{if(_0x24e7ef[_0x3e84aa(0x125)](_0x35f512,0x1)){if(_0x24e7ef['JPsam'](_0x24e7ef[_0x3e84aa(0x148)],_0x24e7ef['cNndR'])){const _0x20371b=await _0x24e7ef[_0x3e84aa(0xff)](_0x53741e,_0x3e84aa(0x9a)+_0xc870d6[0x0]+'\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20');(_0x24e7ef[_0x3e84aa(0x125)](_0x20371b,undefined)||_0x24e7ef[_0x3e84aa(0x187)](_0x20371b,null)||!(_0x24e7ef[_0x3e84aa(0xcf)](_0x20371b['toLowerCase'](),'y')||_0x24e7ef['CcoMS'](_0x20371b[_0x3e84aa(0x27b)](),'n')))&&(_0x24e7ef[_0x3e84aa(0x218)](_0x24e7ef[_0x3e84aa(0x20c)],_0x24e7ef[_0x3e84aa(0x20c)])?_0x4e06d7['push'](_0x415027):(console['error'](_0x24e7ef[_0x3e84aa(0xae)]),process[_0x3e84aa(0xba)](0x1))),_0x24e7ef['qYHhC'](_0x20371b['toLowerCase'](),'n')&&(_0x24e7ef[_0x3e84aa(0x1cc)](_0x24e7ef[_0x3e84aa(0xe8)],_0x24e7ef[_0x3e84aa(0x17c)])?_0x4ccae1[_0x3e84aa(0xb9)](_0x334192[_0x3e84aa(0x110)]):process[_0x3e84aa(0xba)](0x0)),_0x539818=_0xc870d6[0x0];}else return!![];}else{if(_0x24e7ef['sAUnj'](_0x24e7ef[_0x3e84aa(0x1be)],_0x24e7ef[_0x3e84aa(0x1be)])){for(let _0x2e2d51=0x0;_0x24e7ef['pchXj'](_0x2e2d51,_0xc870d6[_0x3e84aa(0x1d9)]);_0x2e2d51+=0x1){_0x24e7ef[_0x3e84aa(0x12d)](_0x24e7ef[_0x3e84aa(0x1a8)],_0x24e7ef[_0x3e84aa(0x1a8)])?_0x24e7ef[_0x3e84aa(0x1c1)](_0x45cb67,()=>_0x4382cf(),0x3e8):console[_0x3e84aa(0x19e)]('['+_0x24e7ef[_0x3e84aa(0xfd)](_0x2e2d51,0x1)+']\x20'+_0xc870d6[_0x2e2d51]);}const _0xca283e=await _0x24e7ef[_0x3e84aa(0xff)](_0x53741e,_0x24e7ef[_0x3e84aa(0x1f4)]),_0x17b6f1=_0x24e7ef[_0x3e84aa(0xcd)](Number,_0xca283e);(_0x24e7ef[_0x3e84aa(0x280)](isNaN,_0x17b6f1)||_0x24e7ef[_0x3e84aa(0x1a2)](_0x17b6f1,0x0)||_0x24e7ef['Gnlvh'](_0x17b6f1,_0x35f512))&&(_0x24e7ef[_0x3e84aa(0x125)](_0x24e7ef[_0x3e84aa(0xb7)],_0x24e7ef[_0x3e84aa(0xb7)])?(console[_0x3e84aa(0xbf)](_0x24e7ef['qvPHB']),process['exit'](0x1)):_0xbfa547=_0x2d2264['id']),_0x539818=_0xc870d6[_0x24e7ef['Qrjkk'](_0x17b6f1,0x1)];}else return;}}global_registry[_0x3e84aa(0x10f)]=_0x539818;const _0xd8ea55={};return _0xd8ea55['clientId']=_0x4998ed,_0xd8ea55[_0x3e84aa(0x1d1)]=_0x3bb734,_0xd8ea55['tenantId']=_0x48a134,_0xd8ea55['subscriptionId']=_0xe548c,_0xd8ea55['resourceGroup']=_0x539818,_0xe270b1[_0x3e84aa(0xe0)][AZURE]=_0xd8ea55,_0xe270b1;}async['getResourceGroups'](){const _0x997254=a1_0x5c2913,_0x25be7c={};_0x25be7c[_0x997254(0x1dd)]='Storage\x20account\x20already\x20exists,\x20skipping',_0x25be7c[_0x997254(0x263)]=function(_0x21beba,_0xca23cb){return _0x21beba===_0xca23cb;},_0x25be7c[_0x997254(0x16f)]=_0x997254(0x105),_0x25be7c[_0x997254(0x93)]=_0x997254(0xe6),_0x25be7c[_0x997254(0x119)]=function(_0x38e5d2,_0x10ce7b){return _0x38e5d2!==_0x10ce7b;},_0x25be7c['McgSh']=_0x997254(0x17e),_0x25be7c[_0x997254(0x19b)]=_0x997254(0x231);const _0x129fbb=_0x25be7c,_0x5c03dd=[];try{if(_0x129fbb[_0x997254(0x263)](_0x129fbb['HsFas'],_0x129fbb['ztKtr']))return _0x4f720d['error'](_0x997254(0x287)+_0x341aee+'.\x20Error:\x20'+_0x3077d0),[![],[]];else{const _0x38488c=await this[_0x997254(0x1a4)][_0x997254(0x259)][_0x997254(0x13e)]();for await(const _0x26d28d of _0x38488c){_0x129fbb[_0x997254(0x119)](_0x129fbb[_0x997254(0x205)],_0x129fbb[_0x997254(0x19b)])?_0x5c03dd[_0x997254(0xb9)](_0x26d28d[_0x997254(0x110)]):_0x4f41bb[_0x997254(0x173)](_0x129fbb[_0x997254(0x1dd)]);}}}catch(_0x3fe78b){}return _0x5c03dd;}async[a1_0x5c2913(0x277)](){const _0x54d65e=a1_0x5c2913;return this[_0x54d65e(0x108)]=await this[_0x54d65e(0x288)][_0x54d65e(0x1b9)][_0x54d65e(0x180)](global_registry['cloudProviderResourceGroup'],this[_0x54d65e(0x137)]),this[_0x54d65e(0x108)];}async[a1_0x5c2913(0x161)](){const _0x52ff2f=a1_0x5c2913,_0x1a6182=await this[_0x52ff2f(0x288)][_0x52ff2f(0x1b9)][_0x52ff2f(0x90)](global_registry[_0x52ff2f(0x10f)],this[_0x52ff2f(0x137)]),_0x273bea=_0x1a6182[_0x52ff2f(0x13b)][0x0][_0x52ff2f(0x12c)][_0x52ff2f(0x11a)]();return _0x273bea;}[a1_0x5c2913(0xa9)](_0x4e89d8){const _0x218275=a1_0x5c2913;return _0x4e89d8['status'][_0x218275(0x22c)][_0x218275(0x127)][0x0][_0x218275(0x1f0)];}async[a1_0x5c2913(0xe4)](){const _0x3bf899=a1_0x5c2913,_0x33ee02={};_0x33ee02['oEntH']=_0x3bf899(0x8f),_0x33ee02['oGrLC']=function(_0x4f1715,_0x43486a){return _0x4f1715===_0x43486a;},_0x33ee02[_0x3bf899(0x244)]=_0x3bf899(0x18b),_0x33ee02[_0x3bf899(0x25c)]=_0x3bf899(0x94),_0x33ee02['Ajgev']=function(_0x5ac6e1,_0x5127ae){return _0x5ac6e1===_0x5127ae;},_0x33ee02[_0x3bf899(0x111)]=_0x3bf899(0x122),_0x33ee02['ubIEk']=function(_0x26bb7f,_0x2b10c3){return _0x26bb7f===_0x2b10c3;},_0x33ee02['bPYyW']=function(_0x55197c,_0x282ba1){return _0x55197c!==_0x282ba1;},_0x33ee02[_0x3bf899(0x21c)]=_0x3bf899(0xb3),_0x33ee02[_0x3bf899(0xa1)]=_0x3bf899(0x1ee);const _0x510256=_0x33ee02,_0x48f157=new Array();for await(const _0x78fad3 of this[_0x3bf899(0x288)][_0x3bf899(0x1b9)]['listByResourceGroup'](global_registry[_0x3bf899(0x10f)])){if(_0x510256['oGrLC'](_0x510256['tjKBj'],_0x510256[_0x3bf899(0x25c)])){const _0x382178=new _0x55ffe9(_0x11f1bc[_0x3bf899(0x1e2)],_0x3656f9['cloudProviderClientId'],_0x141434[_0x3bf899(0x24a)]);this[_0x3bf899(0x288)]=new _0x4ace16(_0x382178,_0x1c6b5d[_0x3bf899(0x1c6)]),this[_0x3bf899(0x236)]=new _0x2f3d6f(_0x382178,_0x1a7272[_0x3bf899(0x1c6)]),this[_0x3bf899(0x1a4)]=new _0x457ecf(_0x382178,_0x719c5c[_0x3bf899(0x1c6)]),this[_0x3bf899(0xb4)]=new _0x19017c(_0x382178,_0x337526[_0x3bf899(0x1c6)]),this[_0x3bf899(0x169)]=new _0x537b69(_0x382178,_0x5046be[_0x3bf899(0x1c6)]),this['cred']=_0x382178;}else _0x48f157[_0x3bf899(0xb9)](_0x78fad3);}for await(const _0x24e0f6 of _0x48f157){if(_0x510256[_0x3bf899(0x1e4)](_0x510256['RWXYb'],_0x510256[_0x3bf899(0x111)])){if(_0x510256[_0x3bf899(0x285)](_0x24e0f6['name'],this['clusterName'])){if(_0x510256[_0x3bf899(0x233)](_0x510256[_0x3bf899(0x21c)],_0x510256['wHCgC']))return await this[_0x3bf899(0x277)](),!![];else{_0x3ac99a['info'](_0x510256[_0x3bf899(0xa7)]);const _0xcd3194={};_0xcd3194[_0x3bf899(0x128)]=_0x417ff4[_0x3bf899(0x227)],_0xcd3194[_0x3bf899(0xc8)]=_0x510256['oEntH'],this[_0x3bf899(0x143)][_0x3bf899(0x221)](this[_0x3bf899(0x26c)],_0xcd3194);const _0x13791f={};_0x13791f[_0x3bf899(0x1c0)]=!![];const _0x41239e={'workloadIdentity':_0x13791f,..._0x2b1e25[_0x3bf899(0x1b0)]};_0x129542['securityProfile']=_0x41239e;}}}else _0x588786[_0x3bf899(0xbf)]=_0x1d1911;}return![];}async['setupNewCluster'](_0x2c0d1f=null,_0x6f0c1f=null){const _0x5eb9f5=a1_0x5c2913,_0xf4a2d9={};_0xf4a2d9[_0x5eb9f5(0x136)]=_0x5eb9f5(0x235),_0xf4a2d9[_0x5eb9f5(0x260)]='Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity';const _0x28eea0=_0xf4a2d9,_0x2978d1=_0x28eea0[_0x5eb9f5(0x136)]['split']('|');let _0x2f8176=0x0;while(!![]){switch(_0x2978d1[_0x2f8176++]){case'0':await this[_0x5eb9f5(0x165)](_0x2c0d1f,_0x6f0c1f);continue;case'1':const _0x154516={};_0x154516[_0x5eb9f5(0x128)]=WS_EVENTS[_0x5eb9f5(0x272)],_0x154516[_0x5eb9f5(0xc8)]=_0x28eea0[_0x5eb9f5(0x260)],this[_0x5eb9f5(0x143)][_0x5eb9f5(0x221)](this[_0x5eb9f5(0x26c)],_0x154516);continue;case'2':await this['createOtherResources']();continue;case'3':return[_0x2c0d1f,_0x6f0c1f];case'4':logger[_0x5eb9f5(0x173)](_0x28eea0[_0x5eb9f5(0x260)]);continue;case'5':this[_0x5eb9f5(0x132)]();continue;}break;}}async[a1_0x5c2913(0x165)](_0x1d862f=null,_0x513eed=null){const _0x1feff9=a1_0x5c2913,_0x56ab68={};_0x56ab68[_0x1feff9(0x97)]=function(_0x3f4ff2,_0x4fbd31){return _0x3f4ff2===_0x4fbd31;},_0x56ab68[_0x1feff9(0x225)]=_0x1feff9(0xa2),_0x56ab68['BQkFE']=_0x1feff9(0x1df),_0x56ab68[_0x1feff9(0x140)]=_0x1feff9(0x1c2),_0x56ab68[_0x1feff9(0x254)]=_0x1feff9(0x203),_0x56ab68['CAAaN']=_0x1feff9(0x248),_0x56ab68['rNzJM']=_0x1feff9(0x157),_0x56ab68['NEkxK']=function(_0x5c7cfa,_0x5a2a07){return _0x5c7cfa!==_0x5a2a07;},_0x56ab68[_0x1feff9(0x166)]=function(_0x19ed25,_0x471f09){return _0x19ed25!==_0x471f09;},_0x56ab68[_0x1feff9(0x1fc)]=function(_0x11a4e2,_0x28421f){return _0x11a4e2===_0x28421f;},_0x56ab68[_0x1feff9(0x121)]=_0x1feff9(0x147),_0x56ab68[_0x1feff9(0x211)]=_0x1feff9(0x1ed),_0x56ab68['UKbvR']=_0x1feff9(0x1f2),_0x56ab68[_0x1feff9(0x190)]='[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]',_0x56ab68['KhmBY']=_0x1feff9(0x276),_0x56ab68[_0x1feff9(0xdd)]=_0x1feff9(0x1b2),_0x56ab68[_0x1feff9(0x270)]=_0x1feff9(0x167);const _0x2b1ab4=_0x56ab68;let _0x599ca4=await fs[_0x1feff9(0x1a5)](path['join'](__dirname,'..',_0x2b1ab4['aGnzL'],_0x2b1ab4[_0x1feff9(0x193)],_0x2b1ab4[_0x1feff9(0x140)]),_0x2b1ab4[_0x1feff9(0x254)]);_0x599ca4=JSON['parse'](_0x599ca4);const _0x1d3e28={};_0x1d3e28[_0x1feff9(0x12c)]=this[_0x1feff9(0x137)];const _0x4b4dc5={};_0x4b4dc5[_0x1feff9(0x12c)]=global_registry[_0x1feff9(0x174)];const _0x4f5436={};_0x4f5436[_0x1feff9(0x12c)]=global_registry[_0x1feff9(0x15a)];const _0x420760={};_0x420760['value']=global_registry[_0x1feff9(0x210)];const _0x151973={};_0x151973['value']=global_registry[_0x1feff9(0x23f)]?_0x2b1ab4[_0x1feff9(0x25b)]:_0x2b1ab4['rNzJM'];const _0x2cd389={};_0x2cd389[_0x1feff9(0x137)]=_0x1d3e28,_0x2cd389['location']=_0x4b4dc5,_0x2cd389[_0x1feff9(0x1c4)]=_0x4f5436,_0x2cd389[_0x1feff9(0x171)]=_0x420760,_0x2cd389['clusterAutoUpgrade']=_0x151973;let _0x2f9f89=_0x2cd389;if(_0x2b1ab4[_0x1feff9(0x216)](_0x1d862f,null)&&_0x2b1ab4['RIdqV'](_0x513eed,null)){if(_0x2b1ab4['JYTzy'](_0x2b1ab4['mGjYR'],_0x2b1ab4['mGjYR'])){const _0x57d47e={};_0x57d47e[_0x1feff9(0x128)]=_0x2b1ab4[_0x1feff9(0x211)],_0x57d47e[_0x1feff9(0x197)]={},_0x57d47e[_0x1feff9(0x197)]['description']=_0x2b1ab4[_0x1feff9(0x11e)];const _0x452f85={};_0x452f85['type']=_0x2b1ab4[_0x1feff9(0x211)],_0x452f85[_0x1feff9(0x197)]={},_0x452f85[_0x1feff9(0x197)][_0x1feff9(0x1b3)]=_0x2b1ab4[_0x1feff9(0x11e)],_0x599ca4[_0x1feff9(0xf6)]={..._0x599ca4[_0x1feff9(0xf6)],'vpcName':_0x57d47e,'subnetName':_0x452f85};const _0x3ac05b={};_0x3ac05b[_0x1feff9(0x200)]=_0x2b1ab4[_0x1feff9(0x190)],_0x599ca4['variables']=_0x3ac05b,_0x599ca4[_0x1feff9(0xf5)][0x0][_0x1feff9(0x153)][_0x1feff9(0x226)][0x0]={..._0x599ca4[_0x1feff9(0xf5)][0x0][_0x1feff9(0x153)][_0x1feff9(0x226)][0x0],'vnetSubnetID':_0x2b1ab4[_0x1feff9(0x154)]};const _0x2f6885={};_0x2f6885[_0x1feff9(0x12c)]=_0x1d862f;const _0x381c39={};_0x381c39['value']=_0x513eed[0x0],_0x2f9f89={..._0x2f9f89,'vpcName':_0x2f6885,'subnetName':_0x381c39};}else{if(_0x2b1ab4[_0x1feff9(0x97)](_0x4414b8['name'],_0x1d83da))return!![];}}await this[_0x1feff9(0x1a4)]['deployments'][_0x1feff9(0x99)](global_registry[_0x1feff9(0x10f)],_0x2b1ab4[_0x1feff9(0xdd)],{'properties':{'template':_0x599ca4,'mode':_0x2b1ab4[_0x1feff9(0x270)],'parameters':_0x2f9f89}});}async[a1_0x5c2913(0x107)](){const _0x36e83d=a1_0x5c2913,_0x3514a8={};_0x3514a8[_0x36e83d(0x247)]='Managed\x20identity\x20already\x20exists,\x20skipping',_0x3514a8[_0x36e83d(0xee)]='allowed',_0x3514a8[_0x36e83d(0x189)]='denied',_0x3514a8[_0x36e83d(0x262)]=function(_0x259455,_0x595ca4){return _0x259455!==_0x595ca4;},_0x3514a8[_0x36e83d(0x19f)]=_0x36e83d(0x145),_0x3514a8['KZgbZ']=_0x36e83d(0x27d),_0x3514a8[_0x36e83d(0x14e)]=function(_0x1bd451,_0x3b7335){return _0x1bd451!==_0x3b7335;},_0x3514a8[_0x36e83d(0xc5)]='ETaLC',_0x3514a8[_0x36e83d(0x229)]=_0x36e83d(0x257),_0x3514a8['CycZy']=function(_0x540dee,_0x3988a5){return _0x540dee===_0x3988a5;},_0x3514a8[_0x36e83d(0x1fe)]=_0x36e83d(0x14f),_0x3514a8[_0x36e83d(0x24e)]=_0x36e83d(0x1ff),_0x3514a8['UJGHw']=_0x36e83d(0x14b),_0x3514a8[_0x36e83d(0x186)]='VxVey',_0x3514a8[_0x36e83d(0x1eb)]=_0x36e83d(0xb2),_0x3514a8[_0x36e83d(0x15e)]=_0x36e83d(0x22b),_0x3514a8['AlCDZ']='Created\x20Azure\x20federated\x20identity';const _0x589eb9=_0x3514a8,_0x2b4966=await this[_0x36e83d(0x239)]();if(!_0x2b4966){if(_0x589eb9[_0x36e83d(0x262)](_0x589eb9[_0x36e83d(0x19f)],_0x589eb9[_0x36e83d(0x19f)]))_0x313a73[_0x36e83d(0x173)](_0x589eb9[_0x36e83d(0x247)]);else{const _0x5c1d0b={};_0x5c1d0b[_0x36e83d(0x128)]=WS_EVENTS[_0x36e83d(0x272)],_0x5c1d0b['message']=_0x589eb9[_0x36e83d(0x19a)],this[_0x36e83d(0x143)][_0x36e83d(0x221)](this[_0x36e83d(0x26c)],_0x5c1d0b),logger[_0x36e83d(0x173)](_0x589eb9[_0x36e83d(0x19a)]),await this['createStorageAccount']();}}else{if(_0x589eb9[_0x36e83d(0x14e)](_0x589eb9[_0x36e83d(0xc5)],_0x589eb9[_0x36e83d(0xc5)]))return _0x6df854[_0x36e83d(0xbf)]=_0x33ade4[_0x36e83d(0xbf)],_0x30fa2e;else logger['info'](_0x589eb9[_0x36e83d(0x229)]);}const _0x47cfe3=await this[_0x36e83d(0x1f9)]();if(!_0x47cfe3){if(_0x589eb9['CycZy'](_0x589eb9['jNtcr'],_0x589eb9['yGFCg']))return!![];else{const _0x1799a4={};_0x1799a4[_0x36e83d(0x128)]=WS_EVENTS[_0x36e83d(0x272)],_0x1799a4[_0x36e83d(0xc8)]=_0x589eb9[_0x36e83d(0x22a)],this[_0x36e83d(0x143)][_0x36e83d(0x221)](this[_0x36e83d(0x26c)],_0x1799a4),logger[_0x36e83d(0x173)](_0x589eb9[_0x36e83d(0x22a)]),await this[_0x36e83d(0x1d0)]();}}else{if(_0x589eb9[_0x36e83d(0x262)](_0x589eb9[_0x36e83d(0x186)],_0x589eb9[_0x36e83d(0x1eb)]))logger[_0x36e83d(0x173)](_0x589eb9['rsXvd']);else{const _0x32e856=_0x17c737[_0x36e83d(0xea)](_0x5d78fa);_0x2fcafe+='\x0a\x09'+_0x3ac6e4+':\x20'+(_0x32e856?_0x589eb9['SHDKw']:_0x589eb9[_0x36e83d(0x189)]),!_0x32e856&&(_0x45b60a[_0x36e83d(0xda)]=![]);}}logger[_0x36e83d(0x173)](_0x589eb9[_0x36e83d(0x15e)]),await this[_0x36e83d(0x155)](),logger[_0x36e83d(0x173)](_0x589eb9[_0x36e83d(0x141)]);}async['createStorageAccount'](){const _0x4aabcb=a1_0x5c2913,_0x548f41={};_0x548f41['ymkyr']='templates',_0x548f41[_0x4aabcb(0x116)]=_0x4aabcb(0x1df),_0x548f41['YXdeq']=_0x4aabcb(0x1af),_0x548f41[_0x4aabcb(0x17b)]=_0x4aabcb(0x203),_0x548f41[_0x4aabcb(0x20f)]='turboscale-storageaccount-deployment',_0x548f41[_0x4aabcb(0x130)]='Incremental',_0x548f41[_0x4aabcb(0x266)]=_0x4aabcb(0xab),_0x548f41[_0x4aabcb(0x18f)]=_0x4aabcb(0x12f),_0x548f41[_0x4aabcb(0xdf)]=_0x4aabcb(0x243),_0x548f41[_0x4aabcb(0x17a)]='default';const _0x4f78b7=_0x548f41;let _0x413c67=await fs[_0x4aabcb(0x1a5)](path[_0x4aabcb(0x1b7)](__dirname,'..',_0x4f78b7[_0x4aabcb(0x1e3)],_0x4f78b7[_0x4aabcb(0x116)],_0x4f78b7[_0x4aabcb(0x1cb)]),_0x4f78b7[_0x4aabcb(0x17b)]);_0x413c67=JSON['parse'](_0x413c67);const _0x533b39=this[_0x4aabcb(0x1a6)](),_0x18ee7d={};_0x18ee7d[_0x4aabcb(0x12c)]=_0x533b39;const _0x1755d3={};_0x1755d3[_0x4aabcb(0xd1)]=_0x18ee7d,await this['resourceClient'][_0x4aabcb(0xc4)][_0x4aabcb(0x99)](global_registry[_0x4aabcb(0x10f)],_0x4f78b7[_0x4aabcb(0x20f)],{'properties':{'template':_0x413c67,'mode':_0x4f78b7['MmmVL'],'parameters':_0x1755d3}});const _0x337b0f={};_0x337b0f['daysAfterCreationGreaterThan']=0x3c;const _0x5ed45d={};_0x5ed45d['delete']=_0x337b0f;const _0x20c18b={};_0x20c18b[_0x4aabcb(0x10b)]=_0x5ed45d;const _0x2009c5={};_0x2009c5[_0x4aabcb(0x1c0)]=!![],_0x2009c5[_0x4aabcb(0x110)]=_0x4f78b7[_0x4aabcb(0x266)],_0x2009c5['type']=_0x4f78b7['xeDzp'],_0x2009c5[_0x4aabcb(0xd5)]={},_0x2009c5[_0x4aabcb(0xd5)][_0x4aabcb(0xa3)]=_0x20c18b,_0x2009c5[_0x4aabcb(0xd5)][_0x4aabcb(0xcb)]={},_0x2009c5[_0x4aabcb(0xd5)][_0x4aabcb(0xcb)][_0x4aabcb(0x202)]=[_0x4f78b7['DWCIB']];const _0x378974={};_0x378974[_0x4aabcb(0x251)]=[_0x2009c5];const _0x14dbbf={};_0x14dbbf[_0x4aabcb(0x131)]=_0x378974;const _0x42827c=_0x14dbbf;await this[_0x4aabcb(0x236)][_0x4aabcb(0xc7)][_0x4aabcb(0xf1)](global_registry[_0x4aabcb(0x10f)],_0x533b39,_0x4f78b7[_0x4aabcb(0x17a)],_0x42827c);}async['createManagedIdentity'](){const _0x33d43d=a1_0x5c2913,_0x17ac2d={};_0x17ac2d[_0x33d43d(0x9d)]='templates',_0x17ac2d[_0x33d43d(0x1ad)]=_0x33d43d(0x1df),_0x17ac2d['WfNmy']=_0x33d43d(0x1e8),_0x17ac2d[_0x33d43d(0x1bb)]='utf-8',_0x17ac2d['tXLVw']='turboscale-identity-deployment',_0x17ac2d[_0x33d43d(0x15d)]=_0x33d43d(0x167);const _0x9479fa=_0x17ac2d;let _0x44ecbb=await fs['readFileAsync'](path[_0x33d43d(0x1b7)](__dirname,'..',_0x9479fa[_0x33d43d(0x9d)],_0x9479fa[_0x33d43d(0x1ad)],_0x9479fa['WfNmy']),_0x9479fa[_0x33d43d(0x1bb)]);_0x44ecbb=JSON[_0x33d43d(0x11b)](_0x44ecbb),await this[_0x33d43d(0x1a4)][_0x33d43d(0xc4)][_0x33d43d(0x99)](global_registry[_0x33d43d(0x10f)],_0x9479fa[_0x33d43d(0x1bd)],{'properties':{'template':_0x44ecbb,'mode':_0x9479fa[_0x33d43d(0x15d)],'parameters':{'clusterName':{'value':this[_0x33d43d(0x137)]}}}});}async[a1_0x5c2913(0x155)](){const _0x222243=a1_0x5c2913,_0x2e0ddd={};_0x2e0ddd[_0x222243(0x283)]=_0x222243(0x1c5),_0x2e0ddd[_0x222243(0x27a)]=function(_0x1779ba,_0x534ce9){return _0x1779ba!==_0x534ce9;},_0x2e0ddd[_0x222243(0x170)]=_0x222243(0xb6),_0x2e0ddd[_0x222243(0xfc)]=_0x222243(0xd7),_0x2e0ddd[_0x222243(0x1d6)]='node',_0x2e0ddd[_0x222243(0x12e)]=function(_0x1d0d2b,_0x4c396b){return _0x1d0d2b===_0x4c396b;},_0x2e0ddd[_0x222243(0x14c)]=_0x222243(0xc0),_0x2e0ddd[_0x222243(0x230)]=_0x222243(0x289),_0x2e0ddd[_0x222243(0x92)]=_0x222243(0xa2),_0x2e0ddd[_0x222243(0x275)]=_0x222243(0x1df),_0x2e0ddd['nlEiN']=_0x222243(0x203),_0x2e0ddd[_0x222243(0x1ea)]=_0x222243(0x220),_0x2e0ddd['AhoEa']=_0x222243(0x167);const _0x1a1ffe=_0x2e0ddd;!this['clusterInfo']&&(_0x1a1ffe['wCokT'](_0x1a1ffe[_0x222243(0x170)],_0x1a1ffe['iLVKZ'])?(_0x581bd8[_0x222243(0xbf)](_0x1a1ffe[_0x222243(0x283)]),_0x4aee8d[_0x222243(0xba)](0x1)):await this[_0x222243(0x277)]());const _0x2ce6c7=this[_0x222243(0x108)]?.[_0x222243(0xf9)]?.['issuerURL'],_0xaedd72=[_0x1a1ffe['eZcrk'],_0x1a1ffe[_0x222243(0x1d6)]];for await(const _0x29e45c of _0xaedd72){if(_0x1a1ffe[_0x222243(0x12e)](_0x1a1ffe[_0x222243(0x14c)],_0x1a1ffe[_0x222243(0x230)]))_0x489033[_0x222243(0xb9)](_0x3b4203);else{let _0x4f449f=await fs[_0x222243(0x1a5)](path[_0x222243(0x1b7)](__dirname,'..',_0x1a1ffe[_0x222243(0x92)],_0x1a1ffe[_0x222243(0x275)],_0x222243(0xe3)+_0x29e45c+'.json'),_0x1a1ffe[_0x222243(0x118)]);_0x4f449f=JSON[_0x222243(0x11b)](_0x4f449f);const _0x564fe9={};_0x564fe9[_0x222243(0x12c)]=_0x2ce6c7,await this[_0x222243(0x1a4)][_0x222243(0xc4)][_0x222243(0x99)](global_registry[_0x222243(0x10f)],_0x1a1ffe[_0x222243(0x1ea)],{'properties':{'template':_0x4f449f,'mode':_0x1a1ffe['AhoEa'],'parameters':{'oidcIssuer':_0x564fe9,'gridName':{'value':this[_0x222243(0x146)]},'clusterName':{'value':this['clusterName']}}}});}}}async[a1_0x5c2913(0x284)](_0x23edc1,_0x5acf25,_0x12bc2e,_0x22728d,_0xb965af){const _0x4d345b=a1_0x5c2913,_0x5ea1d5={};_0x5ea1d5[_0x4d345b(0xaa)]=_0x4d345b(0x179),_0x5ea1d5[_0x4d345b(0x240)]=_0x4d345b(0x26a);const _0x3f3c21=_0x5ea1d5,_0x55eda4={};_0x55eda4[_0x4d345b(0x128)]=WS_EVENTS[_0x4d345b(0x272)],_0x55eda4[_0x4d345b(0xc8)]=_0x3f3c21[_0x4d345b(0xaa)],this[_0x4d345b(0x143)][_0x4d345b(0x221)](this['rws'],_0x55eda4),logger[_0x4d345b(0x173)](_0x3f3c21[_0x4d345b(0xaa)]),await this['createFederatedAccountForHubHA']();const _0x3f7619={};_0x3f7619[_0x4d345b(0x128)]=WS_EVENTS[_0x4d345b(0x272)],_0x3f7619['message']=_0x3f3c21[_0x4d345b(0x240)],this[_0x4d345b(0x143)]['sendEventToBackend'](this[_0x4d345b(0x26c)],_0x3f7619);}async[a1_0x5c2913(0x250)](){const _0x29dabd=a1_0x5c2913,_0x1aad31={};_0x1aad31[_0x29dabd(0x139)]=function(_0x5cb40b,_0x2ca9e0){return _0x5cb40b===_0x2ca9e0;},_0x1aad31[_0x29dabd(0x1ba)]=_0x29dabd(0x10e),_0x1aad31['sZKKD']=_0x29dabd(0xa2),_0x1aad31['HnYYB']=_0x29dabd(0xbd),_0x1aad31[_0x29dabd(0x215)]=_0x29dabd(0x27c),_0x1aad31[_0x29dabd(0x135)]=_0x29dabd(0x203),_0x1aad31[_0x29dabd(0x196)]=_0x29dabd(0x220),_0x1aad31[_0x29dabd(0x14d)]=_0x29dabd(0x167);const _0x4b01b9=_0x1aad31;!this[_0x29dabd(0x108)]&&(_0x4b01b9[_0x29dabd(0x139)](_0x4b01b9['MmOGZ'],_0x4b01b9[_0x29dabd(0x1ba)])?await this[_0x29dabd(0x277)]():_0x303411[_0x29dabd(0xb9)](..._0x32b552[_0x29dabd(0xa3)]));const _0x292cb1=this['clusterInfo']?.[_0x29dabd(0xf9)]?.[_0x29dabd(0x109)];let _0x45baf5=await fs['readFileAsync'](path[_0x29dabd(0x1b7)](__dirname,'..',_0x4b01b9['sZKKD'],_0x4b01b9[_0x29dabd(0x23a)],_0x4b01b9[_0x29dabd(0x215)]),_0x4b01b9[_0x29dabd(0x135)]);_0x45baf5=JSON[_0x29dabd(0x11b)](_0x45baf5);const _0x7c5d7a={};_0x7c5d7a['value']=_0x292cb1,await this[_0x29dabd(0x1a4)][_0x29dabd(0xc4)][_0x29dabd(0x99)](global_registry[_0x29dabd(0x10f)],_0x4b01b9[_0x29dabd(0x196)],{'properties':{'template':_0x45baf5,'mode':_0x4b01b9['MvqVk'],'parameters':{'oidcIssuer':_0x7c5d7a,'namespace':{'value':global_registry['hubHaNameSpace']},'clusterName':{'value':this['clusterName']}}}});}async[a1_0x5c2913(0x239)](){const _0x2eb8e6=a1_0x5c2913,_0x2562d8={};_0x2562d8[_0x2eb8e6(0xed)]=_0x2eb8e6(0x1ed),_0x2562d8[_0x2eb8e6(0xd2)]=_0x2eb8e6(0x1f2),_0x2562d8[_0x2eb8e6(0x1f6)]=_0x2eb8e6(0x12a),_0x2562d8[_0x2eb8e6(0x194)]='[variables(\x27vnetSubnetID\x27)]',_0x2562d8[_0x2eb8e6(0xc9)]=function(_0x21b36c,_0x101d4c){return _0x21b36c===_0x101d4c;},_0x2562d8[_0x2eb8e6(0x1b6)]=_0x2eb8e6(0x129),_0x2562d8[_0x2eb8e6(0xf0)]=_0x2eb8e6(0x1ec),_0x2562d8[_0x2eb8e6(0xcc)]=function(_0x278297,_0x38d2ca){return _0x278297!==_0x38d2ca;},_0x2562d8[_0x2eb8e6(0x151)]=_0x2eb8e6(0xbb),_0x2562d8[_0x2eb8e6(0xd0)]='Ewufn',_0x2562d8[_0x2eb8e6(0x278)]=function(_0x1aeb82,_0x45a2f3){return _0x1aeb82===_0x45a2f3;},_0x2562d8['eySSn']=_0x2eb8e6(0x98);const _0x1b6ca5=_0x2562d8,_0x383fc0=this[_0x2eb8e6(0x1a6)](),_0x5ad14c=new Array();for await(const _0x42ad2c of this['storageClient'][_0x2eb8e6(0x24b)][_0x2eb8e6(0x1a0)](global_registry[_0x2eb8e6(0x10f)])){_0x1b6ca5['PDVaT'](_0x1b6ca5['adIrK'],_0x1b6ca5['LbTdK'])?_0x23a4c2['vpcInfo'][_0x2eb8e6(0xb9)](_0x472e7b):_0x5ad14c[_0x2eb8e6(0xb9)](_0x42ad2c);}for await(const _0x53970a of _0x5ad14c){if(_0x1b6ca5[_0x2eb8e6(0xcc)](_0x1b6ca5[_0x2eb8e6(0x151)],_0x1b6ca5[_0x2eb8e6(0xd0)])){if(_0x1b6ca5[_0x2eb8e6(0x278)](_0x53970a[_0x2eb8e6(0x110)],_0x383fc0))return _0x1b6ca5[_0x2eb8e6(0xcc)](_0x1b6ca5[_0x2eb8e6(0xdb)],_0x1b6ca5[_0x2eb8e6(0xdb)])?[!![],_0x3857fa]:!![];}else{const _0x4b3d39={};_0x4b3d39[_0x2eb8e6(0x128)]=_0x1b6ca5['EdlhP'],_0x4b3d39[_0x2eb8e6(0x197)]={},_0x4b3d39[_0x2eb8e6(0x197)][_0x2eb8e6(0x1b3)]=_0x1b6ca5[_0x2eb8e6(0xd2)];const _0x199e4d={};_0x199e4d['type']=_0x1b6ca5[_0x2eb8e6(0xed)],_0x199e4d[_0x2eb8e6(0x197)]={},_0x199e4d[_0x2eb8e6(0x197)]['description']=_0x1b6ca5[_0x2eb8e6(0xd2)];const _0x4f7cf1={..._0x24688d[_0x2eb8e6(0xf6)]};_0x4f7cf1[_0x2eb8e6(0x175)]=_0x4b3d39,_0x4f7cf1[_0x2eb8e6(0x1e5)]=_0x199e4d,_0x3bdd75['parameters']=_0x4f7cf1;const _0x16eac3={};_0x16eac3['vnetSubnetID']=_0x1b6ca5[_0x2eb8e6(0x1f6)],_0x1ca704[_0x2eb8e6(0xe5)]=_0x16eac3;const _0x39d07c={..._0x22b3ee[_0x2eb8e6(0xf5)][0x0][_0x2eb8e6(0x153)][_0x2eb8e6(0x226)][0x0]};_0x39d07c[_0x2eb8e6(0x200)]=_0x1b6ca5['jWjbm'],_0xdd2a14['resources'][0x0][_0x2eb8e6(0x153)][_0x2eb8e6(0x226)][0x0]=_0x39d07c;const _0x66c7ed={};_0x66c7ed[_0x2eb8e6(0x12c)]=_0x28c2c6;const _0x5bc951={};_0x5bc951[_0x2eb8e6(0x12c)]=_0x391f90[0x0];const _0x41765a={..._0x3e8f98};_0x41765a[_0x2eb8e6(0x175)]=_0x66c7ed,_0x41765a[_0x2eb8e6(0x1e5)]=_0x5bc951,_0x39f955=_0x41765a;}}return![];}async[a1_0x5c2913(0x1f9)](){const _0x373b10=a1_0x5c2913,_0x548777={};_0x548777['AeyEz']=_0x373b10(0x1c5),_0x548777['gcOum']=function(_0x5c026c,_0x323ade){return _0x5c026c!==_0x323ade;},_0x548777[_0x373b10(0x252)]='HyIDX',_0x548777[_0x373b10(0x91)]=_0x373b10(0x24f),_0x548777[_0x373b10(0x28a)]=function(_0x1da11f,_0x1af0f5){return _0x1da11f===_0x1af0f5;},_0x548777[_0x373b10(0x1aa)]=_0x373b10(0x114),_0x548777[_0x373b10(0x1ae)]=_0x373b10(0xd9),_0x548777[_0x373b10(0xbc)]=_0x373b10(0x123);const _0x167b00=_0x548777,_0x5a785e=new Array();for await(const _0x4c87e7 of this[_0x373b10(0x1a4)]['resources']['listByResourceGroup'](global_registry[_0x373b10(0x10f)])){if(_0x167b00['gcOum'](_0x167b00[_0x373b10(0x252)],_0x167b00[_0x373b10(0x91)]))_0x5a785e[_0x373b10(0xb9)](_0x4c87e7);else return!![];}for await(const _0x3fd0a7 of _0x5a785e){if(_0x167b00[_0x373b10(0x28a)](_0x167b00[_0x373b10(0x1aa)],_0x167b00['yiiIJ']))_0x396676[_0x373b10(0xb9)](_0x19cd81);else{if(_0x167b00[_0x373b10(0x28a)](_0x3fd0a7[_0x373b10(0x110)],_0x373b10(0x18a)+this[_0x373b10(0x137)])){if(_0x167b00[_0x373b10(0x28a)](_0x167b00[_0x373b10(0xbc)],_0x167b00[_0x373b10(0xbc)]))return!![];else _0x23f7b0[_0x373b10(0xbf)](_0x167b00['AeyEz']),_0x257d2d[_0x373b10(0xba)](0x1);}}}return![];}async[a1_0x5c2913(0xd3)](_0x456329,_0x115ab4=0x3){const _0x3ed647=a1_0x5c2913,_0x4ad75b={'ArFrE':function(_0xae5488,_0x647043){return _0xae5488===_0x647043;},'gDxXr':_0x3ed647(0x1a3),'mAbFq':_0x3ed647(0x261),'SXeMh':function(_0x40dbbf,_0x549bd1){return _0x40dbbf!==_0x549bd1;},'YQQcN':_0x3ed647(0x1ef),'GPwbf':function(_0x2e79f1,_0x1e5605,_0xc46f21){return _0x2e79f1(_0x1e5605,_0xc46f21);},'PRqfj':_0x3ed647(0x18d),'OaZbA':function(_0xf772e2,_0x2cf5b9){return _0xf772e2===_0x2cf5b9;},'BzaIv':_0x3ed647(0x213),'bZahv':_0x3ed647(0x183),'vBatm':_0x3ed647(0x1b4),'ddPKU':_0x3ed647(0x1d2),'IqSHA':function(_0x1642e8,_0x57cab0){return _0x1642e8!==_0x57cab0;},'SKpEx':'jeHkN','lyfrN':function(_0x4b47ca,_0x44f657){return _0x4b47ca===_0x44f657;},'uumvi':_0x3ed647(0xec),'jtKLT':_0x3ed647(0x1e0),'nCkip':function(_0x206c62,_0x5db459){return _0x206c62===_0x5db459;},'Lfztd':_0x3ed647(0x1d5),'hWtmO':function(_0x1e5020,_0x4bc5a9){return _0x1e5020<=_0x4bc5a9;},'MmauK':function(_0x5b4bb6,_0x238ffa){return _0x5b4bb6!==_0x238ffa;},'SOucF':_0x3ed647(0x195),'KGIpa':_0x3ed647(0x217),'puGdH':function(_0x57aaa7,_0x341580){return _0x57aaa7-_0x341580;}};try{if(_0x4ad75b[_0x3ed647(0xfb)](_0x4ad75b['BzaIv'],_0x4ad75b['bZahv']))return _0x3884f0[_0x3ed647(0xda)][_0x3ed647(0x22c)][_0x3ed647(0x127)][0x0][_0x3ed647(0x1f0)];else{const _0x450f69=new Array();for await(const _0x26b3ac of this['resourceClient']['resources']['listByResourceGroup'](global_registry[_0x3ed647(0x10f)])){_0x4ad75b[_0x3ed647(0x20d)](_0x4ad75b[_0x3ed647(0x28b)],_0x4ad75b[_0x3ed647(0x101)])?_0x450f69[_0x3ed647(0xb9)](_0x26b3ac):(_0x42b09b+=_0x4ad75b['ArFrE'](_0xc4534f[_0x3ed647(0x1d9)],0x0)?_0x4ad75b[_0x3ed647(0x15f)]:'',_0x416e4a[_0x3ed647(0x113)](_0x3ed647(0x168)+_0x15d047[_0x3ed647(0x1e7)](_0x15f8b7)));}let _0x4bf46a='';for await(const _0x4277cf of _0x450f69){if(_0x4ad75b['IqSHA'](_0x4ad75b[_0x3ed647(0x120)],_0x4ad75b['SKpEx'])){_0x4f7bbb[_0x3ed647(0x173)](_0x4ad75b[_0x3ed647(0x27f)]);const _0x1bd47f={};_0x1bd47f[_0x3ed647(0x128)]=_0x3efca0['RESOURCES'],_0x1bd47f[_0x3ed647(0xc8)]=_0x4ad75b['mAbFq'],this[_0x3ed647(0x143)]['sendEventToBackend'](this['rws'],_0x1bd47f),_0x557aad[_0x3ed647(0x281)]=![];}else _0x4ad75b[_0x3ed647(0x25a)](_0x4277cf[_0x3ed647(0x110)],_0x456329)&&(_0x4ad75b[_0x3ed647(0x156)](_0x4ad75b[_0x3ed647(0x185)],_0x4ad75b[_0x3ed647(0x185)])?_0x117dc4[_0x3ed647(0xb9)](_0x22796b):_0x4bf46a=_0x4277cf['id']);}const _0x335041=await this[_0x3ed647(0x1a4)][_0x3ed647(0xf5)]['getById'](_0x4bf46a,_0x4ad75b[_0x3ed647(0x25f)]);return _0x335041['properties'][_0x3ed647(0x1fb)];}}catch(_0x571f85){if(_0x4ad75b[_0x3ed647(0xc2)](_0x4ad75b[_0x3ed647(0x26f)],_0x4ad75b[_0x3ed647(0x26f)])){if(_0x4ad75b['hWtmO'](_0x115ab4,0x0))return _0x4ad75b[_0x3ed647(0x1ca)](_0x4ad75b[_0x3ed647(0x16a)],_0x4ad75b[_0x3ed647(0x256)])?(logger[_0x3ed647(0xbf)](_0x3ed647(0x1bf)+_0x571f85+':'+_0x571f85[_0x3ed647(0x1ab)]),{}):(_0x4adc6f[_0x3ed647(0xbf)](_0x3ed647(0x18e)+_0x154005+_0x3ed647(0x1b1)+_0x1b77be),![]);return await new Promise(_0x4d1602=>{const _0x4c5521=_0x3ed647;if(_0x4ad75b[_0x4c5521(0x20d)](_0x4ad75b[_0x4c5521(0x1e1)],_0x4ad75b[_0x4c5521(0x1e1)]))return!![];else _0x4ad75b[_0x4c5521(0x23c)](setTimeout,()=>_0x4d1602(),0x3e8);}),this[_0x3ed647(0xd3)](_0x456329,_0x4ad75b[_0x3ed647(0x212)](_0x115ab4,0x1));}else{const _0x40fdf7=_0x4ad75b[_0x3ed647(0xf7)][_0x3ed647(0x24c)]('|');let _0x1d633a=0x0;while(!![]){switch(_0x40fdf7[_0x1d633a++]){case'0':_0x49e0f1['cloudProviderSubscriptionId']=_0x35f807[this['cloudProviderName']][_0x3ed647(0x198)];continue;case'1':this[_0x3ed647(0xbe)]();continue;case'2':_0x19aad8[_0x3ed647(0x23d)]=_0x4f5c4e[this['cloudProviderName']][_0x3ed647(0x1fb)];continue;case'3':_0x20bb97[_0x3ed647(0x1e2)]=_0x671675[this['cloudProviderName']][_0x3ed647(0x184)];continue;case'4':_0xb9666b[_0x3ed647(0x10f)]=_0xa9ec2e[this[_0x3ed647(0xe9)]][_0x3ed647(0x158)];continue;case'5':_0x365c60[_0x3ed647(0x24a)]=_0x2470f2[this[_0x3ed647(0xe9)]][_0x3ed647(0x1d1)];continue;}break;}}}}async[a1_0x5c2913(0x238)](){const _0x521ad2=a1_0x5c2913,_0x245c31={};_0x245c31['oMaoi']=function(_0x552699,_0x531054){return _0x552699===_0x531054;},_0x245c31[_0x521ad2(0x21e)]=function(_0x4eba10,_0x2d82de){return _0x4eba10!==_0x2d82de;},_0x245c31[_0x521ad2(0x26b)]='MKSil',_0x245c31[_0x521ad2(0x223)]=function(_0x11266e,_0xd1c51b){return _0x11266e===_0xd1c51b;},_0x245c31[_0x521ad2(0x10a)]=_0x521ad2(0x17f),_0x245c31['VCkxn']=_0x521ad2(0x1a1),_0x245c31[_0x521ad2(0x1c7)]=function(_0x17252c,_0x223531){return _0x17252c!==_0x223531;},_0x245c31['yeYdi']=_0x521ad2(0x1c3);const _0xb71a28=_0x245c31;if(!this[_0x521ad2(0x108)]){if(_0xb71a28[_0x521ad2(0x21e)](_0xb71a28['CpLut'],_0xb71a28[_0x521ad2(0x26b)])){if(_0xb71a28[_0x521ad2(0xfe)](_0x5d6585[_0x521ad2(0x110)],_0x3b92c7))return!![];}else await this['getClusterInfo']();}const _0x2be0e9=this[_0x521ad2(0x108)]?.[_0x521ad2(0x124)]||{};if(_0x2be0e9&&_0xb71a28['CmDNz'](_0x2be0e9[_0xb71a28[_0x521ad2(0x10a)]],_0xb71a28[_0x521ad2(0x232)])){if(_0xb71a28['VuAwt'](_0xb71a28['yeYdi'],_0xb71a28[_0x521ad2(0x162)]))_0x1e7a4f['error']=_0x351150;else return!![];}return![];}async[a1_0x5c2913(0x192)](_0x3d4d52,_0x36e545){const _0x281fb7=a1_0x5c2913,_0x56281a={'xmurX':function(_0x41f1a2,_0x1c18dc){return _0x41f1a2(_0x1c18dc);},'PokrK':_0x281fb7(0x181)};await _0x56281a[_0x281fb7(0x19c)](deleteAgent,_0x3d4d52),await _0x56281a[_0x281fb7(0x19c)](deleteRoutingDeps,_0x3d4d52);const _0xa0100b=this[_0x281fb7(0x288)];logger[_0x281fb7(0x173)](_0x281fb7(0x16b)+this[_0x281fb7(0x137)]),await _0xa0100b[_0x281fb7(0x1b9)]['beginDeleteAndWait'](global_registry[_0x281fb7(0x10f)],this[_0x281fb7(0x137)]),logger[_0x281fb7(0x173)](_0x56281a[_0x281fb7(0x133)]);}async[a1_0x5c2913(0x106)](){const _0x397777=a1_0x5c2913,_0x4e97ba={};_0x4e97ba[_0x397777(0x1b8)]=function(_0x3659e4,_0x8456){return _0x3659e4===_0x8456;},_0x4e97ba['wziNK']=function(_0xdcc47a,_0x268315){return _0xdcc47a===_0x268315;},_0x4e97ba[_0x397777(0xe2)]=function(_0x297ebf,_0x3a5f12){return _0x297ebf+_0x3a5f12;},_0x4e97ba[_0x397777(0x15b)]=_0x397777(0x1cf),_0x4e97ba[_0x397777(0xf4)]=function(_0x2b0d5a,_0x49d8f4){return _0x2b0d5a!==_0x49d8f4;},_0x4e97ba[_0x397777(0x115)]=_0x397777(0x103),_0x4e97ba[_0x397777(0x1fd)]=function(_0x4cbb5c,_0x2246d6){return _0x4cbb5c&&_0x2246d6;},_0x4e97ba[_0x397777(0xdc)]=_0x397777(0x11d),_0x4e97ba['fAnLE']=function(_0x2ec437,_0x5150e4){return _0x2ec437!==_0x5150e4;},_0x4e97ba['cwMcy']=_0x397777(0x286),_0x4e97ba[_0x397777(0x269)]=_0x397777(0x1c9),_0x4e97ba[_0x397777(0x249)]='wTHGF',_0x4e97ba[_0x397777(0xc3)]='NOenr',_0x4e97ba['EGAUh']='Enabling\x20Workload\x20identity\x20for\x20the\x20cluster',_0x4e97ba[_0x397777(0x176)]=function(_0x44aea7,_0x4d88a0){return _0x44aea7===_0x4d88a0;},_0x4e97ba[_0x397777(0xc6)]=_0x397777(0x237),_0x4e97ba['rujod']=_0x397777(0x10d),_0x4e97ba[_0x397777(0x258)]='Enabling\x20Local\x20account\x20for\x20the\x20cluster';const _0x47a221=_0x4e97ba;!this['clusterInfo']&&(_0x47a221['wBVIZ'](_0x47a221[_0x397777(0x115)],_0x47a221[_0x397777(0x115)])?_0x47a221['Wwwnc'](_0x1bb8dc[_0x397777(0x110)],_0x273477)&&(_0x2721a7=_0x391d5a['id']):await this['getClusterInfo']());const _0x1e807b=this[_0x397777(0x108)],_0xb436a6=this[_0x397777(0x108)]?.[_0x397777(0xf9)]?.[_0x397777(0x1c0)]||![],_0x536a40=this['clusterInfo']?.[_0x397777(0x1b0)]?.['workloadIdentity']?.['enabled']||![],_0x1811cd=!this['clusterInfo']?.['disableLocalAccounts']||![];if(_0x47a221[_0x397777(0x1fd)](_0xb436a6,_0x536a40)&&_0x1811cd){if(_0x47a221[_0x397777(0x104)](_0x47a221[_0x397777(0xdc)],_0x47a221['ymwua']))return;else{if(_0x47a221[_0x397777(0x104)](_0x299836['name'],_0x397777(0x18a)+this['clusterName']))return!![];}}if(!_0xb436a6){if(_0x47a221[_0x397777(0x1d4)](_0x47a221[_0x397777(0x1d7)],_0x47a221['cwMcy']))return _0xad3b99['error']('[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20'+_0x5770b3+':'+_0x174402[_0x397777(0x1ab)]),{};else{logger[_0x397777(0x173)](_0x47a221[_0x397777(0x269)]);const _0x300841={};_0x300841['type']=WS_EVENTS[_0x397777(0x227)],_0x300841[_0x397777(0xc8)]=_0x47a221[_0x397777(0x269)],this['webSocketUtils'][_0x397777(0x221)](this['rws'],_0x300841),_0x1e807b[_0x397777(0xf9)][_0x397777(0x1c0)]=!![];}}if(!_0x536a40){if(_0x47a221['fAnLE'](_0x47a221[_0x397777(0x249)],_0x47a221[_0x397777(0xc3)])){logger['info'](_0x47a221[_0x397777(0x267)]);const _0x2d4837={};_0x2d4837['type']=WS_EVENTS['RESOURCES'],_0x2d4837[_0x397777(0xc8)]=_0x47a221['EGAUh'],this[_0x397777(0x143)]['sendEventToBackend'](this['rws'],_0x2d4837);const _0x83425c={};_0x83425c['enabled']=!![],_0x1e807b[_0x397777(0x1b0)]={'workloadIdentity':_0x83425c,..._0x1e807b[_0x397777(0x1b0)]};}else _0x49ae10[_0x397777(0x19e)]('['+_0x47a221[_0x397777(0xe2)](_0x393361,0x1)+']\x20'+_0x3a2717[_0x6dbda5]);}if(!_0x1811cd){if(_0x47a221[_0x397777(0x176)](_0x47a221['GHldp'],_0x47a221[_0x397777(0x1c8)]))return _0x414f3d[_0x397777(0x1dc)]=_0x47a221[_0x397777(0x15b)],_0x205690;else{logger[_0x397777(0x173)](_0x47a221[_0x397777(0x258)]);const _0x334cb0={};_0x334cb0[_0x397777(0x128)]=WS_EVENTS['RESOURCES'],_0x334cb0[_0x397777(0xc8)]=_0x47a221[_0x397777(0x258)],this[_0x397777(0x143)][_0x397777(0x221)](this[_0x397777(0x26c)],_0x334cb0),_0x1e807b['disableLocalAccounts']=![];}}await this[_0x397777(0x288)][_0x397777(0x1b9)][_0x397777(0x99)](global_registry[_0x397777(0x10f)],this[_0x397777(0x137)],_0x1e807b),await this[_0x397777(0x277)]();}async[a1_0x5c2913(0x132)](){const _0x4faed5=a1_0x5c2913,_0x34b922={};_0x34b922[_0x4faed5(0x95)]=function(_0x528f5c,_0x53d8e4){return _0x528f5c+_0x53d8e4;},_0x34b922['XEjBr']='turboscale',_0x34b922['TmbHm']=function(_0x140847,_0x2d34dc){return _0x140847-_0x2d34dc;},_0x34b922[_0x4faed5(0x177)]=function(_0x5de2b6,_0x4ab518){return _0x5de2b6!==_0x4ab518;},_0x34b922[_0x4faed5(0xfa)]=_0x4faed5(0x22e);const _0x1e68ab=_0x34b922,_0x36e84c=await this['networkClient'][_0x4faed5(0x26d)][_0x4faed5(0xad)](global_registry['cloudProviderResourceGroup']),_0x12df93={};_0x12df93[_0x4faed5(0x207)]=global_registry['bstackUsername'],_0x12df93[_0x4faed5(0x188)]=global_registry['bstackAccesskey'],_0x12df93[_0x4faed5(0xe0)]=AZURE,_0x12df93[_0x4faed5(0x126)]=[];const _0x490d47=_0x12df93;for await(const _0x518245 of _0x36e84c){if(_0x1e68ab[_0x4faed5(0x177)](_0x1e68ab[_0x4faed5(0xfa)],_0x1e68ab[_0x4faed5(0xfa)])){const _0x43ef4b=_0x265427['s3Bucket'][_0x4faed5(0x24c)]('-'),_0x2facc5=_0x1e68ab[_0x4faed5(0x95)](_0x1e68ab[_0x4faed5(0x1f3)],_0x43ef4b[_0x1e68ab[_0x4faed5(0x1b5)](_0x43ef4b[_0x4faed5(0x1d9)],0x1)])['slice'](0x0,0x18);return _0x2facc5[_0x4faed5(0x27b)]();}else _0x490d47[_0x4faed5(0x126)][_0x4faed5(0xb9)](_0x518245);}const _0x16d77f={};_0x16d77f[_0x4faed5(0x128)]=WS_EVENTS[_0x4faed5(0x227)],_0x16d77f['message']=_0x490d47,this[_0x4faed5(0x143)][_0x4faed5(0x221)](this[_0x4faed5(0x26c)],_0x16d77f);}async[a1_0x5c2913(0x22d)](_0x4da8b5){const _0x1831b8=a1_0x5c2913,_0x59dc93={};_0x59dc93[_0x1831b8(0x134)]=_0x1831b8(0x1c9),_0x59dc93[_0x1831b8(0x16e)]='No\x20attached\x20role\x20for\x20the\x20client\x20key',_0x59dc93[_0x1831b8(0x152)]=_0x1831b8(0xce),_0x59dc93[_0x1831b8(0x222)]=function(_0x4b994c,_0x1d7607){return _0x4b994c===_0x1d7607;},_0x59dc93[_0x1831b8(0x242)]=_0x1831b8(0x100),_0x59dc93[_0x1831b8(0x178)]=_0x1831b8(0x27e),_0x59dc93[_0x1831b8(0x1de)]=function(_0x3c3cc4,_0x4d31a8){return _0x3c3cc4!==_0x4d31a8;},_0x59dc93[_0x1831b8(0xc1)]=_0x1831b8(0x246),_0x59dc93[_0x1831b8(0x15c)]=_0x1831b8(0x21f),_0x59dc93[_0x1831b8(0x204)]=function(_0x759804,_0xef40f4){return _0x759804!==_0xef40f4;},_0x59dc93[_0x1831b8(0x1a9)]=_0x1831b8(0x172),_0x59dc93['kPfuD']='gtuQd',_0x59dc93[_0x1831b8(0x234)]='HkFNb';const _0x2a4dfb=_0x59dc93;try{if(_0x2a4dfb['mTinX'](_0x2a4dfb[_0x1831b8(0x242)],_0x2a4dfb[_0x1831b8(0x178)]))_0x1f0ea[_0x1831b8(0xda)]=![];else{const _0xf370d1=await this[_0x1831b8(0xb4)][_0x1831b8(0x26d)][_0x1831b8(0xad)](global_registry['cloudProviderResourceGroup']);for await(const _0x3621c6 of _0xf370d1){if(_0x2a4dfb['nTckw'](_0x2a4dfb[_0x1831b8(0xc1)],_0x2a4dfb['fRpkV'])){if(_0x2a4dfb['mTinX'](_0x3621c6[_0x1831b8(0x110)],_0x4da8b5)){if(_0x2a4dfb[_0x1831b8(0x204)](_0x2a4dfb[_0x1831b8(0x1a9)],_0x2a4dfb[_0x1831b8(0x13f)]))return!![];else{_0x1c60c3[_0x1831b8(0x173)](_0x2a4dfb['JxULe']);const _0x445544={};_0x445544[_0x1831b8(0x128)]=_0x2433f8[_0x1831b8(0x227)],_0x445544['message']=_0x2a4dfb[_0x1831b8(0x134)],this['webSocketUtils']['sendEventToBackend'](this['rws'],_0x445544),_0x316619[_0x1831b8(0xf9)][_0x1831b8(0x1c0)]=!![];}}}else return _0x2968b2[_0x1831b8(0x1dc)]=_0x2a4dfb[_0x1831b8(0x16e)],_0x4d1519;}}}catch(_0x2f632a){if(_0x2a4dfb[_0x1831b8(0x222)](_0x2a4dfb[_0x1831b8(0x234)],_0x2a4dfb[_0x1831b8(0x234)]))return logger[_0x1831b8(0xbf)](_0x1831b8(0x18e)+_0x4da8b5+_0x1831b8(0x1b1)+_0x2f632a),![];else{const _0x52e230={};_0x52e230['status']=!![],_0x52e230[_0x1831b8(0xbf)]=null,_0x52e230[_0x1831b8(0x1dc)]=_0x2a4dfb[_0x1831b8(0x152)];const _0x6fd56d=_0x52e230;return _0x6fd56d;}}return![];}async[a1_0x5c2913(0x26e)](_0x16f1b1,_0x26f836){const _0x2ca09d=a1_0x5c2913,_0x103672={};_0x103672[_0x2ca09d(0xef)]=_0x2ca09d(0x144),_0x103672[_0x2ca09d(0x21a)]=function(_0x57a68c,_0x3edcbc){return _0x57a68c===_0x3edcbc;},_0x103672[_0x2ca09d(0x274)]=_0x2ca09d(0x9f),_0x103672[_0x2ca09d(0x22f)]=function(_0x39a557,_0x4ffc30){return _0x39a557===_0x4ffc30;},_0x103672['wrAeJ']=function(_0x36c40c,_0x5dc0fa){return _0x36c40c===_0x5dc0fa;},_0x103672[_0x2ca09d(0xaf)]='kKAXO',_0x103672[_0x2ca09d(0x112)]='GXvbn';const _0x525ca9=_0x103672;try{if(_0x525ca9[_0x2ca09d(0x21a)](_0x525ca9[_0x2ca09d(0x274)],_0x525ca9[_0x2ca09d(0x274)])){const _0x59127c=await this['networkClient'][_0x2ca09d(0x191)][_0x2ca09d(0x180)](global_registry[_0x2ca09d(0x10f)],_0x26f836,_0x16f1b1[0x0]);if(_0x525ca9[_0x2ca09d(0x22f)](_0x16f1b1[0x0],_0x59127c[_0x2ca09d(0x110)])){if(_0x525ca9[_0x2ca09d(0xf3)](_0x525ca9['ddJWm'],_0x525ca9[_0x2ca09d(0x112)]))_0x28a201['exit'](0x0);else return[!![],_0x16f1b1];}}else throw new _0x4909ef(_0x525ca9[_0x2ca09d(0xef)],_0x2ca09d(0x16d)+_0x5df89d[_0x2ca09d(0x1e7)](_0x1efdb1));}catch(_0x318c79){return logger[_0x2ca09d(0xbf)]('Cannot\x20find\x20subnets\x20'+_0x16f1b1+_0x2ca09d(0xa5)+_0x318c79),[![],[]];}return[![],[]];}async[a1_0x5c2913(0x117)](){const _0x50ebf8=a1_0x5c2913,_0x19e00c={};_0x19e00c[_0x50ebf8(0x19d)]=_0x50ebf8(0xce);const _0x49dfc5=_0x19e00c,_0x2a5844={};_0x2a5844[_0x50ebf8(0xda)]=!![],_0x2a5844[_0x50ebf8(0xbf)]=null,_0x2a5844[_0x50ebf8(0x1dc)]=_0x49dfc5[_0x50ebf8(0x19d)];const _0x581402=_0x2a5844;return _0x581402;}async[a1_0x5c2913(0xca)](){const _0x1a8454=a1_0x5c2913,_0x46a148={};_0x46a148[_0x1a8454(0xac)]=_0x1a8454(0x18c),_0x46a148[_0x1a8454(0x255)]=_0x1a8454(0xa0),_0x46a148['SBGxf']=_0x1a8454(0xe7);const _0x3217d9=_0x46a148,_0x4a66f6=await this[_0x1a8454(0x11f)][_0x1a8454(0x21d)](_0x3217d9[_0x1a8454(0xac)]),_0x298e9b={};_0x298e9b['method']=_0x3217d9[_0x1a8454(0x255)],_0x298e9b[_0x1a8454(0x201)]={},_0x298e9b[_0x1a8454(0x201)][_0x1a8454(0x13d)]='Bearer\x20'+_0x4a66f6['token'],_0x298e9b[_0x1a8454(0x201)][_0x1a8454(0x13c)]=_0x3217d9['SBGxf'];const _0x1147b2=_0x298e9b;return _0x1147b2;}async[a1_0x5c2913(0x271)](_0x330e3b){const _0x3c6f50=a1_0x5c2913,_0x12aae5={'AZqVe':function(_0x108a70,_0x5d1943,_0x259f31){return _0x108a70(_0x5d1943,_0x259f31);},'SyTgB':function(_0x484c7f,_0x2adca4){return _0x484c7f===_0x2adca4;},'gJWeP':_0x3c6f50(0x144)},_0x236ba0={};_0x236ba0[_0x3c6f50(0x273)]='',_0x236ba0[_0x3c6f50(0xbf)]=null;const _0x386e9b=_0x236ba0;try{const _0x387398=_0x3c6f50(0x23b)+_0x330e3b+'\x27',_0x10cb02=await this[_0x3c6f50(0xca)](),_0x1fd918=await _0x12aae5['AZqVe'](fetch,_0x387398,_0x10cb02),_0x507dfe=await _0x1fd918[_0x3c6f50(0x13a)]();if(!_0x507dfe[_0x3c6f50(0x12c)]||_0x12aae5['SyTgB'](_0x507dfe[_0x3c6f50(0x12c)][_0x3c6f50(0x1d9)],0x0))throw new Error(_0x12aae5[_0x3c6f50(0x206)],_0x3c6f50(0x16d)+JSON[_0x3c6f50(0x1e7)](_0x507dfe));_0x386e9b[_0x3c6f50(0x273)]=_0x507dfe[_0x3c6f50(0x12c)][0x0]['id'];}catch(_0xcdffca){_0x386e9b['error']=_0xcdffca;}return _0x386e9b;}async['checkAccess'](){const _0x2d6b69=a1_0x5c2913,_0x87ab08={};_0x87ab08['cUADI']=_0x2d6b69(0x1a7),_0x87ab08[_0x2d6b69(0x253)]=_0x2d6b69(0x23e),_0x87ab08[_0x2d6b69(0xb0)]=function(_0xa25580,_0x747563){return _0xa25580!==_0x747563;},_0x87ab08[_0x2d6b69(0x1f8)]=function(_0x41bbee,_0x203608){return _0x41bbee===_0x203608;},_0x87ab08['vzRwx']=_0x2d6b69(0x268),_0x87ab08[_0x2d6b69(0x1da)]=_0x2d6b69(0x1cf),_0x87ab08[_0x2d6b69(0x17d)]=_0x2d6b69(0x1a3);const _0x4b98da=_0x87ab08,_0x234342={};_0x234342['status']=![],_0x234342[_0x2d6b69(0xbf)]=null,_0x234342['data']='';const _0x410b13=_0x234342;try{let _0x940229='';const _0x505063='subscriptions/'+global_registry[_0x2d6b69(0x1c6)]+_0x2d6b69(0x209)+global_registry[_0x2d6b69(0x10f)],_0x13dba5=await this[_0x2d6b69(0x271)](global_registry['cloudProviderClientId']);if(_0x4b98da[_0x2d6b69(0xb0)](_0x13dba5[_0x2d6b69(0xbf)],null))return _0x410b13['error']=_0x13dba5[_0x2d6b69(0xbf)],_0x410b13;const _0x225e8c=_0x2d6b69(0x1e9)+_0x13dba5[_0x2d6b69(0x273)]+'\x27)',_0x287a17={};_0x287a17[_0x2d6b69(0xb5)]=_0x225e8c;const _0x349656=await this[_0x2d6b69(0x169)][_0x2d6b69(0x1e6)]['listForScope'](_0x505063,_0x287a17),_0x49635b=[];for await(const _0x1c1316 of _0x349656){_0x49635b['push'](_0x1c1316);}if(_0x4b98da[_0x2d6b69(0x1f8)](_0x49635b[_0x2d6b69(0x1d9)],0x0))return _0x410b13[_0x2d6b69(0x1dc)]=_0x4b98da[_0x2d6b69(0x279)],_0x410b13;const _0x36bd6c=[...new Set(_0x49635b['map'](_0x3a04cd=>_0x3a04cd[_0x2d6b69(0x9e)]))];if(_0x4b98da[_0x2d6b69(0x1f8)](_0x36bd6c['length'],0x0))return _0x410b13['data']=_0x4b98da[_0x2d6b69(0x1da)],_0x410b13;const _0x4d6bfd=[],_0xc7536f=[];for(const _0x5ec14d of _0x36bd6c){const _0x1b9499=await this[_0x2d6b69(0x169)][_0x2d6b69(0x20a)][_0x2d6b69(0x182)](_0x5ec14d);logger['debug'](_0x2d6b69(0x265)+_0x1b9499['roleName']),_0x4d6bfd[_0x2d6b69(0xb9)](_0x1b9499),logger[_0x2d6b69(0x113)](_0x2d6b69(0x25d)+JSON[_0x2d6b69(0x1e7)](_0x1b9499[_0x2d6b69(0x245)])),_0x1b9499[_0x2d6b69(0x245)][_0x2d6b69(0xd6)](_0x5e3583=>{const _0x382a6e=_0x2d6b69;_0xc7536f[_0x382a6e(0xb9)](..._0x5e3583[_0x382a6e(0xa3)]);});}logger[_0x2d6b69(0x113)](_0x2d6b69(0x241)+JSON[_0x2d6b69(0x1e7)](_0xc7536f)),_0x4b98da[_0x2d6b69(0x1f8)](_0xc7536f[_0x2d6b69(0x1d9)],0x0)&&(_0x940229+=_0x4b98da[_0x2d6b69(0x1f8)](_0xc7536f['length'],0x0)?_0x4b98da[_0x2d6b69(0x17d)]:'',logger[_0x2d6b69(0x113)](_0x2d6b69(0x168)+JSON[_0x2d6b69(0x1e7)](_0x4d6bfd))),_0x410b13[_0x2d6b69(0xda)]=!![],Object[_0x2d6b69(0x224)](PERMISSIONS[_0x2d6b69(0x208)])[_0x2d6b69(0xd6)](([_0x124927,_0x2ec5c9])=>{const _0x52c1ef=_0x2d6b69,_0x48f265=_0xc7536f[_0x52c1ef(0xea)](_0x124927);_0x940229+='\x0a\x09'+_0x2ec5c9+':\x20'+(_0x48f265?_0x4b98da[_0x52c1ef(0xf2)]:_0x4b98da['fIoyY']),!_0x48f265&&(_0x410b13[_0x52c1ef(0xda)]=![]);}),_0x410b13['data']=_0x940229;}catch(_0x210682){_0x410b13['error']=_0x210682;}return _0x410b13;}}const a1_0x47658d={};a1_0x47658d[a1_0x5c2913(0xd8)]=AzureCloudProvider,module[a1_0x5c2913(0x214)]=a1_0x47658d;