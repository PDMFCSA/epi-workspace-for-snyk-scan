const a1_0x50df38=a1_0xe816;function a1_0x599f(){const _0x13d16c=['rONTf','GuVkl','definition','description','gHRvK','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','filter','loadBalancer','bstackUsername','AgAMl','cloudProviderResourceGroup','isClusterPresent','gKLdb','beginCreateOrUpdateAndWait','MQbSi','getHeader','fpubF','XNguk','zasxR','hmoJa','createManagedIdentity','8160936EULpZA','map','uRWap','avIdr','parse','GwzsM','AOAoV','init','Received\x20response\x20-\x20','vOBea','oidcIssuerProfile','LOG','LwNwe','Cannot\x20find\x20subnets\x20','updateClusterAlreadyPresent','vpcInfo','satmi','Deleting\x20the\x20cluster\x20','../config/logger','nTiVG','GTqqS','OtIpT','turboscale-federated-deployment','EaWJq','FMZmT','blobTypes','virtualNetworks','2023-01-31','setupNewCluster','sEsEH','getStorageAccountName','oXVqy','BUIif','@azure/identity','LDwGb','managedClusters','xanzY','mKnmF','slice','string','Blob\x20delete\x20lifecycle','getToken','LcXzw','fPtYw','iMHvs','actionPermission\x20:\x20','yOvmn','log','clientSecret','dFTAI','listByResourceGroup','qpscB','JwNcR','dCIes','allowed','principalId','browserstack:managedBy','WEMnC','dsUUQ','wnytp','CrhYo','stack','cOJwy','mHsBx','subscriptionId','oiyeX','MrARt','PIrQh','VJQqm','createStorageAccount','storageAccounts','bExSH','readFileAsync','sDLjE','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','hYcpz','cloudProviderTenantId','tfmAi','sendEventToBackend','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','cred','networkClient','wNShK','issuerURL','UhOLK','LYSgj','pOpuV','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','KboLg','WyZUi','No\x20attached\x20role\x20for\x20the\x20client\x20key','tenantId','HWTzQ','data','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','IeoVf','atZwP','PnJmc','tHPMM','managedidentity.json','sdPZi','ivIQP','ffAYD','length','eYpGz','yuruF','AqAdR','XaFke','createCluster','toLowerCase','XRhhK','getResourceGroups','pOntZ','KiLjO','ACTION','UPado','DNZcx','DkYUm','HicGc','AVfdP','\x20CLIENT\x20ID:\x20','containerClient','MWeKx','createFederatedAccountForHubHA','SlgXg','wYCWw','federatedidentity','isVPCPresent','Content-Type','value','roleDefinitions','zldre','setClients','sVwds','ctMez','HVvxz','getUserInput','toString','clusterRegion','listClusterAdminCredentials','Ftgub','Creating\x20Azure\x20federated\x20identity','yLEWG','clusterInfo','IpIKX','denied','.json','baseBlob','pmSRF','.\x20Error:\x20','No\x20CLI\x20tool\x20required','getKubeConfigData','SVQwG','cYIaR','WXHjf','Cannot\x20find\x20VPC\x20','WZclA','OiIGQ','managementPolicies','Managed\x20identity\x20already\x20exists,\x20skipping','DCqnA','1024fKkFsq','message','23758ChpXSc','JGQeV','WHTeO','EtldU','QOmnd','lbxXo','NCjmT','Creating\x20Azure\x20storage\x20account','oLRdc','authClient','WpovL','isManagedIdentityPresent','/resourceGroups/','ZQezs','shldL','snQNt','qqoMr','status','utf-8','gpWkk','iHvFl','jhFnQ','piSrK','error','ISiLN','ZJOBK','ltOeI','SwLCc','UHYQB','QnjLv','PhgCy','QhJrb','createOrUpdate','cloudProviderSubscriptionId','jhgKb','clientId','BTbtr','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','eueYy','Kvvos','dOjyK','15144KUbNZO','getClusterInfo','ZCxeH','wrCXI','parameters','exdFh','uSmBn','toUpperCase','gVkBE','disableLocalAccounts','list','blockBlob','rgxUG','TmoTz','HyIjS','Ekjyy','TNQbP','USrWD','AzureCloudProvider','ECdJG','8218197IMvMXI','CwoBl','idbob','rhPFX','ZIOka','xOELl','IznwT','UjSdP','NLwkE','zVGHr','debug','instanceType','rules','RTNOr','vpIFd','tYqQZ','31KeDUYs','iGvnk','aAMLF','WocEH','js-yaml','dgcBL','resources','workloadIdentity','YpLGv','getGridHostname','KqxLa','xJXcI','EiIIS','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','yUQwQ','clusterName','properties','storageAccountName','NTeDJ','type','agentPoolProfiles','wsWAI','info','TJYEm','sVJed','../utils/gridComponents','VjrVS','filters','JIywZ','vxlgr','yRAxy','\x20RESOURCE\x20GROUP:\x20','RESOURCES','fnRAI','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','zEhqc','createOtherResources','qupME','wJRMz','enabled','9312130pTEJEe','role\x20name\x20attached\x20-\x20','resourceGroups','TMPPW','etEsm','vpcName','rhexx','tpsGM','AoyXd','IogFv','cMZbj','Incremental','fRvjS','cloudProviderClientId','TZYCE','LjxkI','OrPPc','exports','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','turboscale-managed-identity-','vwQSg','baTEu','mJtYi','roleName','HOICw','resourceClient','actions','[variables(\x27vnetSubnetID\x27)]','QhVSa','KfmnZ','node','cloudProvider','includes','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','UgHUL','hubharesources','name','Storage\x20account\x20already\x20exists,\x20skipping','NCwZN','XelSP','QIjKu','Xdwqk','setupHubHa','ZGnle','SiXlo','Action\x20permission\x20list\x20is\x20empty\x0a','resourceGroup','ayOWY','cloudProviderName','LfwBz','XZWoT','MPhwO','@azure/arm-network','cloudProviderClientSecret','subnetName','ChqWk','pJryL','mPZdO','webSocketUtils','UfWaM','isStorageAccountPresent','mnjkx','FXDXM','AuDMh','BjnDG','SIEJv','lwuiW','LTQoJ','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','pZXgF','HmZVK','uvxDV','join','BgSXQ','deployments','get','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','split','getResourceClientId','etIOE','VmGpE','vqijo','tjcpU','VDmqU','Created\x20Azure\x20federated\x20identity','GwgCI','entries','Enabling\x20Local\x20account\x20for\x20the\x20cluster','subscriptions/','ddfrD','exit','../permissions/AZURE.json','userInstanceType','kubeconfigs','FgmWe','QZsqU','qPsiO','../utils/utilityMethods','https://graph.microsoft.com/.default','No\x20service\x20principal\x20found','HdfvN','mqMVu','pZSBb','BKrfD','zdCPy','delete','sendAzureInfoToHST','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','path','KwwpY','VaILn','@azure/arm-authorization','uPtBC','Wpkmv','TqPAU','ilQYZ','wTxJH','rojzn','HsICt','7161cZiZno','vnetSubnetID','ojlcC','createFederatedAccount','federatedidentityuploader.json','token','getPrincipalIdFromClientId','nGzSP','forEach','kJrUP','Deleted\x20the\x20cluster\x20successfully','push','KnvQu','clusterAutoUpgrade','metadata','lrVHS','DBQjT','fCBKC','jfEMP','LbhGB','Bearer\x20','RLMaI','ePcrm','stringify','storageClient','templates','hlKlY','setCachedCredsInRegistry','Authorization','11778pJXnPO','./CloudProvider','tZtuv','fCtdm','0|3|5|6|4|2|7|1','maxNodes','YtKNv','securityProfile','XMlkB','YKWUZ','pwiGY','hub','TCvMG','isBrowserstackCluster','\x20TENANT\x20ID:\x20','GET','location','OazRY','bjJqv','vMVYP','rixUN','soWcm','rws','eEhHp','storageaccount.json','hostname','JBnaC','getById','@azure/arm-resources','XXKFQ','kZlpA','26301160zuWYIF','wHxKn','VejFw','roleDefinitionId','policy','rYxpA','tags','3|0|4|1|5|2','s3Bucket','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','headers','azureresources','qiFJY','ywdCl','SpkbF','listAll','TYTDf','qqzVP'];a1_0x599f=function(){return _0x13d16c;};return a1_0x599f();}function a1_0xe816(_0x495703,_0xd635b1){const _0x599fa1=a1_0x599f();return a1_0xe816=function(_0xe81656,_0x5b22a7){_0xe81656=_0xe81656-0x18b;let _0x4b51a6=_0x599fa1[_0xe81656];return _0x4b51a6;},a1_0xe816(_0x495703,_0xd635b1);}(function(_0x225693,_0x2d1ec8){const _0x2beca2=a1_0xe816,_0xf2cc7d=_0x225693();while(!![]){try{const _0x40acb8=-parseInt(_0x2beca2(0x31d))/0x1*(-parseInt(_0x2beca2(0x2d0))/0x2)+parseInt(_0x2beca2(0x1e7))/0x3*(-parseInt(_0x2beca2(0x2ce))/0x4)+parseInt(_0x2beca2(0x345))/0x5+parseInt(_0x2beca2(0x22d))/0x6+-parseInt(_0x2beca2(0x1ca))/0x7*(-parseInt(_0x2beca2(0x2f9))/0x8)+-parseInt(_0x2beca2(0x30d))/0x9+-parseInt(_0x2beca2(0x206))/0xa;if(_0x40acb8===_0x2d1ec8)break;else _0xf2cc7d['push'](_0xf2cc7d['shift']());}catch(_0x176b41){_0xf2cc7d['push'](_0xf2cc7d['shift']());}}}(a1_0x599f,0xef079));const fs=require('fs'),path=require(a1_0x50df38(0x1bf)),yaml=require(a1_0x50df38(0x321)),{logger}=require(a1_0x50df38(0x23f)),{CloudProvider}=require(a1_0x50df38(0x1e8)),{deleteRoutingDeps,deleteAgent}=require(a1_0x50df38(0x336)),{AZURE,WS_EVENTS,global_registry}=require('../config/constants'),PERMISSIONS=require(a1_0x50df38(0x1ae)),{ClientSecretCredential}=require(a1_0x50df38(0x24e)),{NetworkManagementClient}=require(a1_0x50df38(0x379)),{StorageManagementClient}=require('@azure/arm-storage'),{AuthorizationManagementClient}=require(a1_0x50df38(0x1c2)),{ResourceManagementClient}=require(a1_0x50df38(0x203)),{ContainerServiceClient}=require('@azure/arm-containerservice'),{runCommand}=require(a1_0x50df38(0x1b4));class AzureCloudProvider extends CloudProvider{constructor(_0x1eb037,_0xec3ee,_0x1f1736,_0x472eb4){const _0x45fe38=a1_0x50df38,_0xd50937={};_0xd50937[_0x45fe38(0x1a5)]=_0x45fe38(0x1eb);const _0x37a1ba=_0xd50937,_0x599028=_0x37a1ba[_0x45fe38(0x1a5)][_0x45fe38(0x1a0)]('|');let _0x2312d2=0x0;while(!![]){switch(_0x599028[_0x2312d2++]){case'0':super(AZURE,_0x1eb037,_0xec3ee,_0x1f1736,_0x472eb4);continue;case'1':this[_0x45fe38(0x2d9)]=null;continue;case'2':this[_0x45fe38(0x35e)]=null;continue;case'3':this[_0x45fe38(0x27d)]=null;continue;case'4':this[_0x45fe38(0x1e2)]=null;continue;case'5':this[_0x45fe38(0x2bc)]=null;continue;case'6':this['containerClient']=null;continue;case'7':this[_0x45fe38(0x27e)]=null;continue;}break;}}async[a1_0x50df38(0x234)](){return await super['init'](),this;}[a1_0x50df38(0x2b1)](){const _0x3304a5=a1_0x50df38,_0x5af747=new ClientSecretCredential(global_registry['cloudProviderTenantId'],global_registry[_0x3304a5(0x352)],global_registry['cloudProviderClientSecret']);this[_0x3304a5(0x2a6)]=new ContainerServiceClient(_0x5af747,global_registry[_0x3304a5(0x2f1)]),this[_0x3304a5(0x1e2)]=new StorageManagementClient(_0x5af747,global_registry[_0x3304a5(0x2f1)]),this[_0x3304a5(0x35e)]=new ResourceManagementClient(_0x5af747,global_registry[_0x3304a5(0x2f1)]),this[_0x3304a5(0x27e)]=new NetworkManagementClient(_0x5af747,global_registry[_0x3304a5(0x2f1)]),this[_0x3304a5(0x2d9)]=new AuthorizationManagementClient(_0x5af747,global_registry[_0x3304a5(0x2f1)]),this[_0x3304a5(0x27d)]=_0x5af747;}[a1_0x50df38(0x24b)](){const _0x2445a6=a1_0x50df38,_0x4b90f6={};_0x4b90f6[_0x2445a6(0x2c9)]=function(_0x2a43dc,_0x570f49){return _0x2a43dc+_0x570f49;},_0x4b90f6[_0x2445a6(0x269)]='turboscale',_0x4b90f6['KnvQu']=function(_0x138806,_0x2454ad){return _0x138806-_0x2454ad;};const _0x122de8=_0x4b90f6,_0x362442=global_registry[_0x2445a6(0x20e)]['split']('-'),_0x3b764e=_0x122de8[_0x2445a6(0x2c9)](_0x122de8[_0x2445a6(0x269)],_0x362442[_0x122de8[_0x2445a6(0x1d6)](_0x362442[_0x2445a6(0x294)],0x1)])[_0x2445a6(0x253)](0x0,0x18);return _0x3b764e[_0x2445a6(0x29a)]();}[a1_0x50df38(0x1e5)](_0xace9a8){const _0x1748e1=a1_0x50df38,_0x1bf219={};_0x1bf219[_0x1748e1(0x334)]='2|4|5|0|1|3';const _0x4ebcd0=_0x1bf219,_0x5d408d=_0x4ebcd0[_0x1748e1(0x334)][_0x1748e1(0x1a0)]('|');let _0x15d06e=0x0;while(!![]){switch(_0x5d408d[_0x15d06e++]){case'0':global_registry[_0x1748e1(0x2f1)]=_0xace9a8[this[_0x1748e1(0x375)]][_0x1748e1(0x26d)];continue;case'1':global_registry[_0x1748e1(0x222)]=_0xace9a8[this[_0x1748e1(0x375)]]['resourceGroup'];continue;case'2':global_registry[_0x1748e1(0x352)]=_0xace9a8[this[_0x1748e1(0x375)]][_0x1748e1(0x2f3)];continue;case'3':this['setClients']();continue;case'4':global_registry['cloudProviderClientSecret']=_0xace9a8[this[_0x1748e1(0x375)]]['clientSecret'];continue;case'5':global_registry[_0x1748e1(0x279)]=_0xace9a8[this['cloudProviderName']]['tenantId'];continue;}break;}}async[a1_0x50df38(0x2b5)](_0x330259,_0x2507db){const _0x4084b8=a1_0x50df38,_0x416fa7={'DkYUm':_0x4084b8(0x36a),'qpscB':function(_0x218ed6,_0x3d0793){return _0x218ed6===_0x3d0793;},'OazRY':function(_0x8c308d,_0x467359){return _0x8c308d(_0x467359);},'cOJwy':function(_0x4b5268,_0xd8ba38){return _0x4b5268(_0xd8ba38);},'LTQoJ':function(_0x2dd585,_0x412cc5){return _0x2dd585(_0x412cc5);},'sDLjE':function(_0xda5ebf,_0x4a0d7b){return _0xda5ebf===_0x4a0d7b;},'rhexx':_0x4084b8(0x1c3),'satmi':'LKBDv','wEwiW':function(_0x5e85fe,_0x44c265){return _0x5e85fe(_0x44c265);},'AOAoV':function(_0x53eb1c,_0x487ea2){return _0x53eb1c===_0x487ea2;},'TYTDf':function(_0x16bbb1,_0x731f64){return _0x16bbb1!==_0x731f64;},'hYcpz':'XFJBq','tfmAi':function(_0x49e085,_0x2bcdb6){return _0x49e085(_0x2bcdb6);},'QnjLv':function(_0x12c0cd,_0x1f3c72){return _0x12c0cd===_0x1f3c72;},'ZIOka':function(_0x30f823,_0x373c3c){return _0x30f823===_0x373c3c;},'XMlkB':function(_0x4c3edc,_0x4e93de){return _0x4c3edc!==_0x4e93de;},'gKLdb':_0x4084b8(0x1da),'rONTf':'gqrle','mKnmF':'Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','Wpkmv':function(_0x55c0ab,_0x14d28b){return _0x55c0ab!==_0x14d28b;},'soWcm':'Eokbt','qqoMr':_0x4084b8(0x36b),'SVQwG':function(_0x11c55a,_0x20e4ac){return _0x11c55a!==_0x20e4ac;},'SIEJv':_0x4084b8(0x308),'SiXlo':function(_0xcacaed,_0x4099c8){return _0xcacaed<_0x4099c8;},'eYpGz':_0x4084b8(0x2bd),'vqijo':function(_0x47853d,_0x43e0a3){return _0x47853d+_0x43e0a3;},'IeoVf':_0x4084b8(0x197),'kNPgX':function(_0x4bef2a,_0x386083){return _0x4bef2a(_0x386083);},'ayOWY':function(_0x1627ea,_0x213445){return _0x1627ea<=_0x213445;},'YtKNv':function(_0x57393d,_0x302ba8){return _0x57393d>_0x302ba8;},'bEBWU':_0x4084b8(0x244),'jhgKb':_0x4084b8(0x1f1),'AgAMl':function(_0x155731,_0x18ed07){return _0x155731-_0x18ed07;}},_0x2b232d=this[_0x4084b8(0x375)][_0x4084b8(0x300)](),_0x195c7b=await _0x416fa7[_0x4084b8(0x1f8)](_0x330259,_0x2b232d+_0x4084b8(0x2a5)),_0x32d6cc=await _0x416fa7[_0x4084b8(0x26b)](_0x330259,_0x2b232d+'\x20CLIENT\x20SECRET:\x20'),_0x270126=await _0x416fa7[_0x4084b8(0x196)](_0x330259,_0x2b232d+_0x4084b8(0x1f5)),_0xac8876=await _0x416fa7[_0x4084b8(0x1f8)](_0x330259,_0x2b232d+'\x20SUBSCRIPTION\x20ID:\x20');global_registry[_0x4084b8(0x352)]=_0x195c7b,global_registry[_0x4084b8(0x37a)]=_0x32d6cc,global_registry[_0x4084b8(0x279)]=_0x270126,global_registry[_0x4084b8(0x2f1)]=_0xac8876,this[_0x4084b8(0x2b1)]();const _0x279fd5=await this[_0x4084b8(0x29c)](),_0x39d4d1=_0x279fd5[_0x4084b8(0x294)];let _0x28cba7;if(_0x416fa7[_0x4084b8(0x260)](_0x39d4d1,0x0))_0x416fa7[_0x4084b8(0x276)](_0x416fa7[_0x4084b8(0x34b)],_0x416fa7[_0x4084b8(0x23d)])?_0xb0bc5c[_0x4084b8(0x1d5)](..._0x4406fb['actions']):_0x28cba7=await _0x416fa7['wEwiW'](_0x330259,_0x2b232d+_0x4084b8(0x33c));else{if(_0x416fa7[_0x4084b8(0x233)](_0x39d4d1,0x1)){if(_0x416fa7[_0x4084b8(0x216)](_0x416fa7[_0x4084b8(0x278)],_0x416fa7[_0x4084b8(0x278)]))return!![];else{const _0x532d7a=await _0x416fa7[_0x4084b8(0x27a)](_0x330259,'Found\x20only\x20one\x20resource\x20group:\x20'+_0x279fd5[0x0]+_0x4084b8(0x21d));if(_0x416fa7['AOAoV'](_0x532d7a,undefined)||_0x416fa7[_0x4084b8(0x2ed)](_0x532d7a,null)||!(_0x416fa7[_0x4084b8(0x233)](_0x532d7a[_0x4084b8(0x29a)](),'y')||_0x416fa7[_0x4084b8(0x311)](_0x532d7a[_0x4084b8(0x29a)](),'n'))){if(_0x416fa7[_0x4084b8(0x1ef)](_0x416fa7[_0x4084b8(0x224)],_0x416fa7[_0x4084b8(0x218)]))console[_0x4084b8(0x2e7)](_0x416fa7['mKnmF']),process['exit'](0x1);else return _0x13d9d4['error'](_0x4084b8(0x20f)+_0x477c97+':'+_0x48e65c[_0x4084b8(0x26a)]),{};}_0x416fa7[_0x4084b8(0x260)](_0x532d7a[_0x4084b8(0x29a)](),'n')&&(_0x416fa7[_0x4084b8(0x1c4)](_0x416fa7[_0x4084b8(0x1fc)],_0x416fa7[_0x4084b8(0x2e0)])?process[_0x4084b8(0x1ad)](0x0):_0x5afdd5[_0x4084b8(0x1d5)](_0x346b5b)),_0x28cba7=_0x279fd5[0x0];}}else{if(_0x416fa7[_0x4084b8(0x2c5)](_0x416fa7['SIEJv'],_0x416fa7[_0x4084b8(0x194)]))_0x41a010[_0x4084b8(0x333)](_0x416fa7[_0x4084b8(0x2a2)]);else{for(let _0x116771=0x0;_0x416fa7[_0x4084b8(0x371)](_0x116771,_0x279fd5['length']);_0x116771+=0x1){_0x416fa7[_0x4084b8(0x216)](_0x416fa7[_0x4084b8(0x295)],_0x416fa7[_0x4084b8(0x295)])?_0x416fa7[_0x4084b8(0x260)](_0x4f92a1[_0x4084b8(0x369)],_0x294677)&&(_0x24759c=_0x4edad9['id']):console[_0x4084b8(0x25c)]('['+_0x416fa7[_0x4084b8(0x1a4)](_0x116771,0x1)+']\x20'+_0x279fd5[_0x116771]);}const _0x220103=await _0x416fa7['LTQoJ'](_0x330259,_0x416fa7[_0x4084b8(0x28c)]),_0x2ea91b=_0x416fa7['tfmAi'](Number,_0x220103);if(_0x416fa7['kNPgX'](isNaN,_0x2ea91b)||_0x416fa7[_0x4084b8(0x374)](_0x2ea91b,0x0)||_0x416fa7[_0x4084b8(0x1ed)](_0x2ea91b,_0x39d4d1)){if(_0x416fa7['ZIOka'](_0x416fa7['bEBWU'],_0x416fa7[_0x4084b8(0x2f2)]))return _0x5c080a[_0x4084b8(0x2e7)]=_0x11f574[_0x4084b8(0x2e7)],_0x27f381;else console['error'](_0x416fa7[_0x4084b8(0x252)]),process['exit'](0x1);}_0x28cba7=_0x279fd5[_0x416fa7[_0x4084b8(0x221)](_0x2ea91b,0x1)];}}}global_registry['cloudProviderResourceGroup']=_0x28cba7;const _0x5cac50={};return _0x5cac50[_0x4084b8(0x2f3)]=_0x195c7b,_0x5cac50[_0x4084b8(0x25d)]=_0x32d6cc,_0x5cac50[_0x4084b8(0x288)]=_0x270126,_0x5cac50[_0x4084b8(0x26d)]=_0xac8876,_0x5cac50[_0x4084b8(0x373)]=_0x28cba7,_0x2507db[_0x4084b8(0x364)][AZURE]=_0x5cac50,_0x2507db;}async['getResourceGroups'](){const _0x1f1a2b=a1_0x50df38,_0x5735c9={};_0x5735c9[_0x1f1a2b(0x285)]=function(_0x2f148c,_0x146e99){return _0x2f148c+_0x146e99;},_0x5735c9[_0x1f1a2b(0x31e)]=_0x1f1a2b(0x28b),_0x5735c9['cykeM']=function(_0x2eca21,_0x438e40){return _0x2eca21!==_0x438e40;},_0x5735c9[_0x1f1a2b(0x28d)]=_0x1f1a2b(0x31c),_0x5735c9[_0x1f1a2b(0x1df)]='SThoV',_0x5735c9[_0x1f1a2b(0x219)]=function(_0x32c9bc,_0x419a2e){return _0x32c9bc!==_0x419a2e;},_0x5735c9[_0x1f1a2b(0x34e)]=_0x1f1a2b(0x1ac),_0x5735c9[_0x1f1a2b(0x31f)]=_0x1f1a2b(0x205);const _0x2f1871=_0x5735c9,_0x2c0bd8=[];try{if(_0x2f1871['cykeM'](_0x2f1871[_0x1f1a2b(0x28d)],_0x2f1871[_0x1f1a2b(0x1df)])){const _0x458845=await this[_0x1f1a2b(0x35e)][_0x1f1a2b(0x347)][_0x1f1a2b(0x303)]();for await(const _0x3ac632 of _0x458845){_0x2f1871['GuVkl'](_0x2f1871[_0x1f1a2b(0x34e)],_0x2f1871[_0x1f1a2b(0x31f)])?_0x2c0bd8[_0x1f1a2b(0x1d5)](_0x3ac632[_0x1f1a2b(0x369)]):_0x10641d[_0x1f1a2b(0x25c)]('['+_0x2f1871[_0x1f1a2b(0x285)](_0x3794fb,0x1)+']\x20'+_0x5fad5a[_0x2caf84]);}}else _0x2b519c[_0x1f1a2b(0x2e7)](_0x2f1871[_0x1f1a2b(0x31e)]),_0x2bb829[_0x1f1a2b(0x1ad)](0x1);}catch(_0x2848e8){}return _0x2c0bd8;}async[a1_0x50df38(0x2fa)](){const _0x2c2825=a1_0x50df38;return this[_0x2c2825(0x2bc)]=await this[_0x2c2825(0x2a6)][_0x2c2825(0x250)][_0x2c2825(0x19e)](global_registry['cloudProviderResourceGroup'],this['clusterName']),this[_0x2c2825(0x2bc)];}async[a1_0x50df38(0x2c4)](){const _0x42199a=a1_0x50df38,_0x413cb9=await this['containerClient'][_0x42199a(0x250)][_0x42199a(0x2b8)](global_registry['cloudProviderResourceGroup'],this[_0x42199a(0x32c)]),_0x330cb5=_0x413cb9[_0x42199a(0x1b0)][0x0]['value'][_0x42199a(0x2b6)]();return _0x330cb5;}[a1_0x50df38(0x326)](_0x42b7ec){const _0x3f8445=a1_0x50df38;return _0x42b7ec['status'][_0x3f8445(0x21f)]['ingress'][0x0]['hostname'];}async[a1_0x50df38(0x223)](){const _0x25e393=a1_0x50df38,_0x245690={};_0x245690[_0x25e393(0x2fb)]=_0x25e393(0x19f),_0x245690[_0x25e393(0x34f)]=function(_0x4dd1c7,_0xf48ae3){return _0x4dd1c7===_0xf48ae3;},_0x245690['KwwpY']=_0x25e393(0x372),_0x245690[_0x25e393(0x31a)]=_0x25e393(0x287),_0x245690[_0x25e393(0x289)]=_0x25e393(0x2b0),_0x245690[_0x25e393(0x2da)]=function(_0x121cee,_0x16f1c9){return _0x121cee!==_0x16f1c9;},_0x245690[_0x25e393(0x339)]=_0x25e393(0x355),_0x245690[_0x25e393(0x26e)]=_0x25e393(0x1c1),_0x245690['rhPFX']=function(_0x48bb83,_0x29a662){return _0x48bb83===_0x29a662;},_0x245690['rojzn']=_0x25e393(0x2aa),_0x245690['bIoMD']='dlStE';const _0x4925f6=_0x245690,_0x5be04c=new Array();for await(const _0x421e80 of this[_0x25e393(0x2a6)][_0x25e393(0x250)]['listByResourceGroup'](global_registry['cloudProviderResourceGroup'])){if(_0x4925f6[_0x25e393(0x34f)](_0x4925f6[_0x25e393(0x289)],_0x4925f6[_0x25e393(0x289)]))_0x5be04c[_0x25e393(0x1d5)](_0x421e80);else return _0x2cbdbe[_0x25e393(0x28a)]=_0x4925f6[_0x25e393(0x2fb)],_0x5bac95;}for await(const _0x4875a6 of _0x5be04c){if(_0x4925f6[_0x25e393(0x2da)](_0x4925f6[_0x25e393(0x339)],_0x4925f6['oiyeX'])){if(_0x4925f6[_0x25e393(0x310)](_0x4875a6[_0x25e393(0x369)],this[_0x25e393(0x32c)])){if(_0x4925f6['cMZbj'](_0x4925f6[_0x25e393(0x1c8)],_0x4925f6['bIoMD']))_0x248924+=_0x4925f6[_0x25e393(0x34f)](_0xde98f5['length'],0x0)?_0x4925f6[_0x25e393(0x1c0)]:'',_0x32c284[_0x25e393(0x317)]('Role\x20definition\x20response\x20list\x20\x20:\x20\x20'+_0x36f024[_0x25e393(0x1e1)](_0x338287));else return await this[_0x25e393(0x2fa)](),!![];}}else return _0x4f6d5c[_0x25e393(0x28a)]=_0x4925f6[_0x25e393(0x31a)],_0x278704;}return![];}async[a1_0x50df38(0x249)](_0x1f5ec4=null,_0x5eb4c9=null){const _0xff4119=a1_0x50df38,_0xe26426={};_0xe26426[_0xff4119(0x2d1)]=_0xff4119(0x20d),_0xe26426['wTxJH']=_0xff4119(0x1be);const _0x5941c7=_0xe26426,_0x229c26=_0x5941c7['JGQeV'][_0xff4119(0x1a0)]('|');let _0x596c1e=0x0;while(!![]){switch(_0x229c26[_0x596c1e++]){case'0':const _0x4c3f27={};_0x4c3f27[_0xff4119(0x330)]=WS_EVENTS[_0xff4119(0x238)],_0x4c3f27[_0xff4119(0x2cf)]=_0x5941c7['wTxJH'],this['webSocketUtils'][_0xff4119(0x27b)](this[_0xff4119(0x1fd)],_0x4c3f27);continue;case'1':await this[_0xff4119(0x299)](_0x1f5ec4,_0x5eb4c9);continue;case'2':return[_0x1f5ec4,_0x5eb4c9];case'3':this[_0xff4119(0x1bd)]();continue;case'4':logger[_0xff4119(0x333)](_0x5941c7[_0xff4119(0x1c7)]);continue;case'5':await this[_0xff4119(0x341)]();continue;}break;}}async['createCluster'](_0x5e530c=null,_0x420e2d=null){const _0xfd301c=a1_0x50df38,_0xbe59c7={};_0xbe59c7['nBdBi']=_0xfd301c(0x1e3),_0xbe59c7[_0xfd301c(0x1b3)]=_0xfd301c(0x211),_0xbe59c7[_0xfd301c(0x192)]='akscluster.json',_0xbe59c7['kJrUP']='utf-8',_0xbe59c7['HyIjS']='true',_0xbe59c7[_0xfd301c(0x2d6)]='false',_0xbe59c7[_0xfd301c(0x1a2)]=function(_0x422fc0,_0x33f89b){return _0x422fc0!==_0x33f89b;},_0xbe59c7[_0xfd301c(0x33b)]=_0xfd301c(0x29e),_0xbe59c7[_0xfd301c(0x190)]=_0xfd301c(0x254),_0xbe59c7[_0xfd301c(0x251)]=_0xfd301c(0x366),_0xbe59c7[_0xfd301c(0x198)]=_0xfd301c(0x33f),_0xbe59c7[_0xfd301c(0x21c)]=_0xfd301c(0x360),_0xbe59c7['kmsyE']='turboscale-cluster-deployment',_0xbe59c7['vwQSg']=_0xfd301c(0x350);const _0x5a81f2=_0xbe59c7;let _0x544ba3=await fs[_0xfd301c(0x275)](path[_0xfd301c(0x19b)](__dirname,'..',_0x5a81f2['nBdBi'],_0x5a81f2[_0xfd301c(0x1b3)],_0x5a81f2[_0xfd301c(0x192)]),_0x5a81f2[_0xfd301c(0x1d3)]);_0x544ba3=JSON[_0xfd301c(0x231)](_0x544ba3);const _0x52110f={};_0x52110f['value']=this[_0xfd301c(0x32c)];const _0x17b523={};_0x17b523[_0xfd301c(0x2ae)]=global_registry[_0xfd301c(0x2b7)];const _0x5738d1={};_0x5738d1['value']=global_registry[_0xfd301c(0x318)];const _0x47d2ee={};_0x47d2ee[_0xfd301c(0x2ae)]=global_registry[_0xfd301c(0x1ec)];const _0x22d211={};_0x22d211['value']=global_registry[_0xfd301c(0x1d7)]?_0x5a81f2[_0xfd301c(0x307)]:_0x5a81f2[_0xfd301c(0x2d6)];const _0x3b1596={};_0x3b1596[_0xfd301c(0x32c)]=_0x52110f,_0x3b1596[_0xfd301c(0x1f7)]=_0x17b523,_0x3b1596[_0xfd301c(0x1af)]=_0x5738d1,_0x3b1596['userMaxNodes']=_0x47d2ee,_0x3b1596[_0xfd301c(0x1d7)]=_0x22d211;let _0x183d92=_0x3b1596;if(_0x5a81f2[_0xfd301c(0x1a2)](_0x5e530c,null)&&_0x5a81f2[_0xfd301c(0x1a2)](_0x420e2d,null)){if(_0x5a81f2['etIOE'](_0x5a81f2[_0xfd301c(0x33b)],_0x5a81f2[_0xfd301c(0x33b)]))_0xa4c68b[_0xfd301c(0x1d5)](_0x4d1c7d);else{const _0x24cd9b={};_0x24cd9b[_0xfd301c(0x330)]=_0x5a81f2['mnjkx'],_0x24cd9b[_0xfd301c(0x1d8)]={},_0x24cd9b[_0xfd301c(0x1d8)]['description']=_0x5a81f2[_0xfd301c(0x251)];const _0x434c78={};_0x434c78['type']=_0x5a81f2['mnjkx'],_0x434c78[_0xfd301c(0x1d8)]={},_0x434c78[_0xfd301c(0x1d8)]['description']=_0x5a81f2[_0xfd301c(0x251)],_0x544ba3['parameters']={..._0x544ba3[_0xfd301c(0x2fd)],'vpcName':_0x24cd9b,'subnetName':_0x434c78};const _0x35b3ea={};_0x35b3ea[_0xfd301c(0x1cb)]=_0x5a81f2[_0xfd301c(0x198)],_0x544ba3['variables']=_0x35b3ea,_0x544ba3['resources'][0x0][_0xfd301c(0x32d)][_0xfd301c(0x331)][0x0]={..._0x544ba3[_0xfd301c(0x323)][0x0][_0xfd301c(0x32d)][_0xfd301c(0x331)][0x0],'vnetSubnetID':_0x5a81f2[_0xfd301c(0x21c)]};const _0x2a6ea0={};_0x2a6ea0['value']=_0x5e530c;const _0x3b0335={};_0x3b0335[_0xfd301c(0x2ae)]=_0x420e2d[0x0],_0x183d92={..._0x183d92,'vpcName':_0x2a6ea0,'subnetName':_0x3b0335};}}await this['resourceClient']['deployments']['beginCreateOrUpdateAndWait'](global_registry['cloudProviderResourceGroup'],_0x5a81f2['kmsyE'],{'properties':{'template':_0x544ba3,'mode':_0x5a81f2[_0xfd301c(0x359)],'parameters':_0x183d92}});}async['createOtherResources'](){const _0x3336c2=a1_0x50df38,_0xbf9682={'VDmqU':_0x3336c2(0x28b),'PapIN':function(_0x2ba3c2,_0x4a3ec6,_0x4e41e8){return _0x2ba3c2(_0x4a3ec6,_0x4e41e8);},'fPtYw':function(_0x4c1de9,_0x53ee71){return _0x4c1de9!==_0x53ee71;},'qqzVP':_0x3336c2(0x2e4),'PnJmc':_0x3336c2(0x2d7),'sVwds':function(_0x5b7c78,_0x17a03e){return _0x5b7c78===_0x17a03e;},'KfmnZ':_0x3336c2(0x25e),'uvxDV':_0x3336c2(0x199),'fRvjS':'Storage\x20account\x20already\x20exists,\x20skipping','BUIif':_0x3336c2(0x1bb),'TNQbP':'Creating\x20Azure\x20managed\x20identity','bExSH':_0x3336c2(0x315),'MrARt':_0x3336c2(0x2cc),'ctMez':_0x3336c2(0x2ba),'JbguQ':_0x3336c2(0x1a7)},_0x4bdfb1=await this[_0x3336c2(0x18f)]();if(!_0x4bdfb1){if(_0xbf9682[_0x3336c2(0x258)](_0xbf9682[_0x3336c2(0x217)],_0xbf9682[_0x3336c2(0x217)]))_0x6d28a0[_0x3336c2(0x2e1)]=![];else{const _0x3971f5={};_0x3971f5[_0x3336c2(0x330)]=WS_EVENTS[_0x3336c2(0x238)],_0x3971f5[_0x3336c2(0x2cf)]=_0xbf9682[_0x3336c2(0x28e)],this[_0x3336c2(0x18d)]['sendEventToBackend'](this['rws'],_0x3971f5),logger[_0x3336c2(0x333)](_0xbf9682[_0x3336c2(0x28e)]),await this[_0x3336c2(0x272)]();}}else _0xbf9682['sVwds'](_0xbf9682[_0x3336c2(0x362)],_0xbf9682[_0x3336c2(0x19a)])?_0x3bbf81[_0x3336c2(0x1d5)](_0x84282c):logger['info'](_0xbf9682[_0x3336c2(0x351)]);const _0x360cc1=await this[_0x3336c2(0x2db)]();if(!_0x360cc1){if(_0xbf9682[_0x3336c2(0x2b2)](_0xbf9682[_0x3336c2(0x24d)],_0xbf9682[_0x3336c2(0x24d)])){const _0x521f4a={};_0x521f4a[_0x3336c2(0x330)]=WS_EVENTS[_0x3336c2(0x238)],_0x521f4a[_0x3336c2(0x2cf)]=_0xbf9682[_0x3336c2(0x309)],this[_0x3336c2(0x18d)][_0x3336c2(0x27b)](this[_0x3336c2(0x1fd)],_0x521f4a),logger[_0x3336c2(0x333)](_0xbf9682[_0x3336c2(0x309)]),await this['createManagedIdentity']();}else _0x55a729['error'](_0xbf9682[_0x3336c2(0x1a6)]),_0x3ab69a[_0x3336c2(0x1ad)](0x1);}else _0xbf9682[_0x3336c2(0x258)](_0xbf9682[_0x3336c2(0x274)],_0xbf9682[_0x3336c2(0x274)])?_0xbf9682['PapIN'](_0x3e7480,()=>_0x48c1e5(),0x3e8):logger[_0x3336c2(0x333)](_0xbf9682[_0x3336c2(0x26f)]);logger[_0x3336c2(0x333)](_0xbf9682[_0x3336c2(0x2b3)]),await this[_0x3336c2(0x1cd)](),logger[_0x3336c2(0x333)](_0xbf9682['JbguQ']);}async['createStorageAccount'](){const _0x25c4e2=a1_0x50df38,_0x126978={};_0x126978[_0x25c4e2(0x208)]=_0x25c4e2(0x1e3),_0x126978[_0x25c4e2(0x292)]=_0x25c4e2(0x211),_0x126978[_0x25c4e2(0x266)]=_0x25c4e2(0x1ff),_0x126978[_0x25c4e2(0x2e3)]='utf-8',_0x126978[_0x25c4e2(0x18b)]='turboscale-storageaccount-deployment',_0x126978[_0x25c4e2(0x22f)]=_0x25c4e2(0x350),_0x126978[_0x25c4e2(0x1fa)]=_0x25c4e2(0x255),_0x126978[_0x25c4e2(0x314)]='Lifecycle',_0x126978['iazpj']=_0x25c4e2(0x304),_0x126978[_0x25c4e2(0x377)]='default';const _0x2802bd=_0x126978;let _0x22d724=await fs['readFileAsync'](path[_0x25c4e2(0x19b)](__dirname,'..',_0x2802bd[_0x25c4e2(0x208)],_0x2802bd[_0x25c4e2(0x292)],_0x2802bd[_0x25c4e2(0x266)]),_0x2802bd[_0x25c4e2(0x2e3)]);_0x22d724=JSON[_0x25c4e2(0x231)](_0x22d724);const _0x525bec=this['getStorageAccountName'](),_0x3445ff={};_0x3445ff[_0x25c4e2(0x2ae)]=_0x525bec;const _0xb6aada={};_0xb6aada[_0x25c4e2(0x32e)]=_0x3445ff,await this['resourceClient']['deployments'][_0x25c4e2(0x225)](global_registry[_0x25c4e2(0x222)],_0x2802bd[_0x25c4e2(0x18b)],{'properties':{'template':_0x22d724,'mode':_0x2802bd[_0x25c4e2(0x22f)],'parameters':_0xb6aada}});const _0x329c84={};_0x329c84['daysAfterCreationGreaterThan']=0x3c;const _0x41d3c9={};_0x41d3c9[_0x25c4e2(0x1bc)]=_0x329c84;const _0x320622={};_0x320622[_0x25c4e2(0x2c0)]=_0x41d3c9;const _0x5a339f={};_0x5a339f['enabled']=!![],_0x5a339f['name']=_0x2802bd[_0x25c4e2(0x1fa)],_0x5a339f[_0x25c4e2(0x330)]=_0x2802bd[_0x25c4e2(0x314)],_0x5a339f[_0x25c4e2(0x21a)]={},_0x5a339f[_0x25c4e2(0x21a)][_0x25c4e2(0x35f)]=_0x320622,_0x5a339f[_0x25c4e2(0x21a)][_0x25c4e2(0x338)]={},_0x5a339f[_0x25c4e2(0x21a)][_0x25c4e2(0x338)][_0x25c4e2(0x246)]=[_0x2802bd['iazpj']];const _0x2d68eb={};_0x2d68eb[_0x25c4e2(0x319)]=[_0x5a339f];const _0x327ed0={};_0x327ed0[_0x25c4e2(0x20a)]=_0x2d68eb;const _0x189624=_0x327ed0;await this[_0x25c4e2(0x1e2)][_0x25c4e2(0x2cb)][_0x25c4e2(0x2f0)](global_registry['cloudProviderResourceGroup'],_0x525bec,_0x2802bd[_0x25c4e2(0x377)],_0x189624);}async[a1_0x50df38(0x22c)](){const _0xf50e98=a1_0x50df38,_0x2c4ab3={};_0x2c4ab3[_0xf50e98(0x2a9)]=_0xf50e98(0x1e3),_0x2c4ab3[_0xf50e98(0x36c)]=_0xf50e98(0x211),_0x2c4ab3[_0xf50e98(0x293)]=_0xf50e98(0x290),_0x2c4ab3[_0xf50e98(0x230)]=_0xf50e98(0x2e2),_0x2c4ab3['idbob']='turboscale-identity-deployment',_0x2c4ab3[_0xf50e98(0x2e5)]=_0xf50e98(0x350);const _0xc24b63=_0x2c4ab3;let _0xc04fd6=await fs[_0xf50e98(0x275)](path[_0xf50e98(0x19b)](__dirname,'..',_0xc24b63[_0xf50e98(0x2a9)],_0xc24b63[_0xf50e98(0x36c)],_0xc24b63[_0xf50e98(0x293)]),_0xc24b63['avIdr']);_0xc04fd6=JSON[_0xf50e98(0x231)](_0xc04fd6),await this[_0xf50e98(0x35e)][_0xf50e98(0x19d)]['beginCreateOrUpdateAndWait'](global_registry[_0xf50e98(0x222)],_0xc24b63[_0xf50e98(0x30f)],{'properties':{'template':_0xc04fd6,'mode':_0xc24b63[_0xf50e98(0x2e5)],'parameters':{'clusterName':{'value':this['clusterName']}}}});}async[a1_0x50df38(0x1cd)](){const _0x434b7f=a1_0x50df38,_0x903f05={};_0x903f05[_0x434b7f(0x267)]=function(_0x5b8ca7,_0xac9c4b){return _0x5b8ca7===_0xac9c4b;},_0x903f05[_0x434b7f(0x2d3)]='xhGos',_0x903f05['XeRGa']=_0x434b7f(0x1f2),_0x903f05['BgSXQ']=_0x434b7f(0x363),_0x903f05[_0x434b7f(0x2a4)]=function(_0xfd734f,_0x2669ed){return _0xfd734f===_0x2669ed;},_0x903f05[_0x434b7f(0x29b)]=_0x434b7f(0x1d9),_0x903f05['oXVqy']=_0x434b7f(0x1e3),_0x903f05[_0x434b7f(0x1d1)]=_0x434b7f(0x211),_0x903f05[_0x434b7f(0x343)]='utf-8',_0x903f05[_0x434b7f(0x335)]=_0x434b7f(0x243),_0x903f05['uyLEr']=_0x434b7f(0x350);const _0x265f66=_0x903f05;if(!this[_0x434b7f(0x2bc)]){if(_0x265f66['dsUUQ'](_0x265f66['EtldU'],_0x265f66[_0x434b7f(0x2d3)]))await this[_0x434b7f(0x2fa)]();else return;}const _0x2a7432=this[_0x434b7f(0x2bc)]?.[_0x434b7f(0x237)]?.[_0x434b7f(0x280)],_0x2749a0=[_0x265f66['XeRGa'],_0x265f66[_0x434b7f(0x19c)]];for await(const _0xec27a7 of _0x2749a0){if(_0x265f66['AVfdP'](_0x265f66[_0x434b7f(0x29b)],_0x265f66[_0x434b7f(0x29b)])){let _0xc167d6=await fs['readFileAsync'](path[_0x434b7f(0x19b)](__dirname,'..',_0x265f66[_0x434b7f(0x24c)],_0x265f66[_0x434b7f(0x1d1)],_0x434b7f(0x2ab)+_0xec27a7+_0x434b7f(0x2bf)),_0x265f66[_0x434b7f(0x343)]);_0xc167d6=JSON[_0x434b7f(0x231)](_0xc167d6);const _0x37d29d={};_0x37d29d['value']=_0x2a7432,await this['resourceClient'][_0x434b7f(0x19d)][_0x434b7f(0x225)](global_registry[_0x434b7f(0x222)],_0x265f66[_0x434b7f(0x335)],{'properties':{'template':_0xc167d6,'mode':_0x265f66['uyLEr'],'parameters':{'oidcIssuer':_0x37d29d,'gridName':{'value':this['gridName']},'clusterName':{'value':this[_0x434b7f(0x32c)]}}}});}else return _0x9c4b7a[_0x434b7f(0x2e1)]['loadBalancer']['ingress'][0x0][_0x434b7f(0x200)];}}async[a1_0x50df38(0x36f)](_0x374186,_0x3df828,_0x1a1c95,_0x4c63db,_0x1dbcae){const _0x5b8e61=a1_0x50df38,_0x28df5d={};_0x28df5d[_0x5b8e61(0x1f3)]=_0x5b8e61(0x277),_0x28df5d['BnKdM']='Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha';const _0x38a0a4=_0x28df5d,_0x200443={};_0x200443[_0x5b8e61(0x330)]=WS_EVENTS[_0x5b8e61(0x238)],_0x200443[_0x5b8e61(0x2cf)]=_0x38a0a4[_0x5b8e61(0x1f3)],this[_0x5b8e61(0x18d)][_0x5b8e61(0x27b)](this['rws'],_0x200443),logger[_0x5b8e61(0x333)](_0x38a0a4['TCvMG']),await this[_0x5b8e61(0x2a8)]();const _0x31f8ec={};_0x31f8ec['type']=WS_EVENTS[_0x5b8e61(0x238)],_0x31f8ec[_0x5b8e61(0x2cf)]=_0x38a0a4['BnKdM'],this[_0x5b8e61(0x18d)][_0x5b8e61(0x27b)](this[_0x5b8e61(0x1fd)],_0x31f8ec);}async[a1_0x50df38(0x2a8)](){const _0x4bedb4=a1_0x50df38,_0x34be5d={};_0x34be5d['yLEWG']=_0x4bedb4(0x254),_0x34be5d[_0x4bedb4(0x239)]=_0x4bedb4(0x366),_0x34be5d[_0x4bedb4(0x33a)]=_0x4bedb4(0x33f),_0x34be5d[_0x4bedb4(0x27f)]=_0x4bedb4(0x360),_0x34be5d['PIrQh']=function(_0x47397c,_0x457b07){return _0x47397c!==_0x457b07;},_0x34be5d['QOmnd']=_0x4bedb4(0x33e),_0x34be5d['ISiLN']=_0x4bedb4(0x204),_0x34be5d[_0x4bedb4(0x348)]=_0x4bedb4(0x1e3),_0x34be5d[_0x4bedb4(0x32b)]=_0x4bedb4(0x368),_0x34be5d[_0x4bedb4(0x361)]=_0x4bedb4(0x1ce),_0x34be5d[_0x4bedb4(0x2fc)]='utf-8',_0x34be5d[_0x4bedb4(0x2ec)]=_0x4bedb4(0x243),_0x34be5d['sZfQG']='Incremental';const _0x53f93f=_0x34be5d;if(!this[_0x4bedb4(0x2bc)]){if(_0x53f93f[_0x4bedb4(0x270)](_0x53f93f[_0x4bedb4(0x2d4)],_0x53f93f[_0x4bedb4(0x2e8)]))await this[_0x4bedb4(0x2fa)]();else{const _0x44fdfd={};_0x44fdfd[_0x4bedb4(0x330)]=_0x53f93f[_0x4bedb4(0x2bb)],_0x44fdfd['metadata']={},_0x44fdfd['metadata'][_0x4bedb4(0x21b)]=_0x53f93f[_0x4bedb4(0x239)];const _0x58791a={};_0x58791a[_0x4bedb4(0x330)]=_0x53f93f[_0x4bedb4(0x2bb)],_0x58791a[_0x4bedb4(0x1d8)]={},_0x58791a[_0x4bedb4(0x1d8)][_0x4bedb4(0x21b)]=_0x53f93f[_0x4bedb4(0x239)];const _0x3ce090={..._0x4cd5d9['parameters']};_0x3ce090['vpcName']=_0x44fdfd,_0x3ce090['subnetName']=_0x58791a,_0x298c44[_0x4bedb4(0x2fd)]=_0x3ce090;const _0x397bf5={};_0x397bf5[_0x4bedb4(0x1cb)]=_0x53f93f[_0x4bedb4(0x33a)],_0x33f2e8['variables']=_0x397bf5;const _0x372a50={..._0x125fd8['resources'][0x0]['properties'][_0x4bedb4(0x331)][0x0]};_0x372a50['vnetSubnetID']=_0x53f93f['wNShK'],_0x411be4['resources'][0x0][_0x4bedb4(0x32d)][_0x4bedb4(0x331)][0x0]=_0x372a50;const _0x3eb67f={};_0x3eb67f['value']=_0x10a59d;const _0x14d8cc={};_0x14d8cc['value']=_0xc59d93[0x0];const _0x2cb304={..._0x465920};_0x2cb304[_0x4bedb4(0x34a)]=_0x3eb67f,_0x2cb304[_0x4bedb4(0x37b)]=_0x14d8cc,_0x4cbc35=_0x2cb304;}}const _0x1410c6=this[_0x4bedb4(0x2bc)]?.['oidcIssuerProfile']?.[_0x4bedb4(0x280)];let _0x2bfda4=await fs[_0x4bedb4(0x275)](path[_0x4bedb4(0x19b)](__dirname,'..',_0x53f93f['TMPPW'],_0x53f93f[_0x4bedb4(0x32b)],_0x53f93f[_0x4bedb4(0x361)]),_0x53f93f[_0x4bedb4(0x2fc)]);_0x2bfda4=JSON['parse'](_0x2bfda4);const _0x30810a={};_0x30810a[_0x4bedb4(0x2ae)]=_0x1410c6,await this['resourceClient'][_0x4bedb4(0x19d)][_0x4bedb4(0x225)](global_registry['cloudProviderResourceGroup'],_0x53f93f['UHYQB'],{'properties':{'template':_0x2bfda4,'mode':_0x53f93f['sZfQG'],'parameters':{'oidcIssuer':_0x30810a,'namespace':{'value':global_registry['hubHaNameSpace']},'clusterName':{'value':this[_0x4bedb4(0x32c)]}}}});}async['isStorageAccountPresent'](){const _0x1df1f1=a1_0x50df38,_0x537ac1={};_0x537ac1[_0x1df1f1(0x226)]=_0x1df1f1(0x284),_0x537ac1[_0x1df1f1(0x31b)]=_0x1df1f1(0x2cc),_0x537ac1[_0x1df1f1(0x259)]=function(_0xc230b,_0x135479){return _0xc230b!==_0x135479;},_0x537ac1['TmoTz']=_0x1df1f1(0x30e),_0x537ac1[_0x1df1f1(0x281)]=function(_0x9f6714,_0x3affa8){return _0x9f6714===_0x3affa8;},_0x537ac1[_0x1df1f1(0x22a)]=_0x1df1f1(0x1dc),_0x537ac1['EiIIS']=_0x1df1f1(0x30a),_0x537ac1['YKWUZ']=function(_0x1ddcde,_0x1e7bdf){return _0x1ddcde===_0x1e7bdf;},_0x537ac1['BjnDG']=function(_0x2d71d6,_0x56dd2b){return _0x2d71d6!==_0x56dd2b;},_0x537ac1[_0x1df1f1(0x1e0)]='eJJMJ';const _0x4fde12=_0x537ac1,_0x1f1c27=this[_0x1df1f1(0x24b)](),_0x44e8dd=new Array();for await(const _0x59067f of this['storageClient'][_0x1df1f1(0x273)][_0x1df1f1(0x25f)](global_registry[_0x1df1f1(0x222)])){if(_0x4fde12['iMHvs'](_0x4fde12[_0x1df1f1(0x306)],_0x4fde12['TmoTz'])){_0x292055[_0x1df1f1(0x333)](_0x4fde12['MQbSi']);const _0x1b5d60={};_0x1b5d60[_0x1df1f1(0x330)]=_0x573db0[_0x1df1f1(0x33d)],_0x1b5d60[_0x1df1f1(0x2cf)]=_0x4fde12[_0x1df1f1(0x226)],this[_0x1df1f1(0x18d)][_0x1df1f1(0x27b)](this[_0x1df1f1(0x1fd)],_0x1b5d60),_0x187426[_0x1df1f1(0x237)]['enabled']=!![];}else _0x44e8dd['push'](_0x59067f);}for await(const _0x4890b2 of _0x44e8dd){if(_0x4fde12[_0x1df1f1(0x281)](_0x4fde12['zasxR'],_0x4fde12[_0x1df1f1(0x329)]))return!![];else{if(_0x4fde12[_0x1df1f1(0x1f0)](_0x4890b2['name'],_0x1f1c27)){if(_0x4fde12[_0x1df1f1(0x193)](_0x4fde12[_0x1df1f1(0x1e0)],_0x4fde12[_0x1df1f1(0x1e0)]))_0x826102[_0x1df1f1(0x333)](_0x4fde12[_0x1df1f1(0x31b)]);else return!![];}}}return![];}async[a1_0x50df38(0x2db)](){const _0x5c584a=a1_0x50df38,_0x58c166={};_0x58c166['ZzIep']=function(_0x3b0658,_0x5af045){return _0x3b0658===_0x5af045;},_0x58c166['XNguk']=function(_0x3e13a5,_0x1b6099){return _0x3e13a5!==_0x1b6099;},_0x58c166['GTqqS']='ZjQVq',_0x58c166[_0x5c584a(0x2ee)]='FPTEF',_0x58c166['dgcBL']=function(_0x437ab1,_0x4ed46b){return _0x437ab1===_0x4ed46b;},_0x58c166[_0x5c584a(0x2c6)]=_0x5c584a(0x1dd),_0x58c166[_0x5c584a(0x1f9)]=function(_0x458ddd,_0x4202bd){return _0x458ddd===_0x4202bd;},_0x58c166[_0x5c584a(0x2cd)]=function(_0x5d9728,_0x86b57a){return _0x5d9728===_0x86b57a;},_0x58c166[_0x5c584a(0x232)]=_0x5c584a(0x2b9),_0x58c166['KqxLa']='cACBZ';const _0xc64d5=_0x58c166,_0x442f44=new Array();for await(const _0x42cf77 of this[_0x5c584a(0x35e)][_0x5c584a(0x323)][_0x5c584a(0x25f)](global_registry[_0x5c584a(0x222)])){if(_0xc64d5[_0x5c584a(0x229)](_0xc64d5[_0x5c584a(0x241)],_0xc64d5[_0x5c584a(0x2ee)]))_0x442f44[_0x5c584a(0x1d5)](_0x42cf77);else{if(_0xc64d5['ZzIep'](_0x4d2299[_0x5c584a(0x369)],_0x5c584a(0x358)+this[_0x5c584a(0x32c)]))return!![];}}for await(const _0x3851b7 of _0x442f44){if(_0xc64d5[_0x5c584a(0x322)](_0xc64d5[_0x5c584a(0x2c6)],_0xc64d5[_0x5c584a(0x2c6)])){if(_0xc64d5[_0x5c584a(0x1f9)](_0x3851b7[_0x5c584a(0x369)],_0x5c584a(0x358)+this[_0x5c584a(0x32c)]))return _0xc64d5[_0x5c584a(0x2cd)](_0xc64d5[_0x5c584a(0x232)],_0xc64d5[_0x5c584a(0x327)])?(_0x84945e[_0x5c584a(0x2e7)](_0x5c584a(0x23a)+_0x4ac5d1+_0x5c584a(0x2c2)+_0x1a3a87),[![],[]]):!![];}else return!![];}return![];}async[a1_0x50df38(0x1a1)](_0x5626f7,_0x1803fe=0x3){const _0x3c6c2d=a1_0x50df38,_0xb41346={'LcXzw':_0x3c6c2d(0x1aa),'UPado':function(_0x47c8e1,_0x1df3f2){return _0x47c8e1===_0x1df3f2;},'UfWaM':_0x3c6c2d(0x1b6),'xnhRu':'allowed','LfwBz':_0x3c6c2d(0x2be),'HtKsi':function(_0x293606,_0x458ac2){return _0x293606===_0x458ac2;},'QKsrM':_0x3c6c2d(0x268),'rgxUG':_0x3c6c2d(0x18c),'WXHjf':function(_0x48acb9,_0x4b78ad,_0x54aec4){return _0x48acb9(_0x4b78ad,_0x54aec4);},'SpOyz':function(_0x3559dd,_0x2e09ec){return _0x3559dd!==_0x2e09ec;},'jtXlz':_0x3c6c2d(0x1e9),'YpLGv':_0x3c6c2d(0x262),'ZyVtC':_0x3c6c2d(0x1e4),'TrCbN':_0x3c6c2d(0x354),'zVGHr':_0x3c6c2d(0x2dd),'ilQYZ':_0x3c6c2d(0x2a3),'WocEH':'eDmIq','AoyXd':_0x3c6c2d(0x248),'rixUN':function(_0x495be6,_0x4931db){return _0x495be6!==_0x4931db;},'xOELl':_0x3c6c2d(0x2ca),'pmSRF':_0x3c6c2d(0x2d2),'lwuiW':function(_0x2bd767,_0x350e5d){return _0x2bd767<=_0x350e5d;},'oLRdc':function(_0x4bfd80,_0x4049a7){return _0x4bfd80===_0x4049a7;},'pOntZ':'EyKoJ','ojlcC':function(_0x39e9b8,_0x1e44f1){return _0x39e9b8-_0x1e44f1;}};try{if(_0xb41346['SpOyz'](_0xb41346['jtXlz'],_0xb41346[_0x3c6c2d(0x325)])){const _0x4be04b=new Array();for await(const _0x3ab52f of this[_0x3c6c2d(0x35e)][_0x3c6c2d(0x323)]['listByResourceGroup'](global_registry['cloudProviderResourceGroup'])){_0xb41346[_0x3c6c2d(0x2a0)](_0xb41346['ZyVtC'],_0xb41346['TrCbN'])?_0x2e6b4e[_0x3c6c2d(0x1ad)](0x0):_0x4be04b[_0x3c6c2d(0x1d5)](_0x3ab52f);}let _0x391332='';for await(const _0x251d00 of _0x4be04b){if(_0xb41346['HtKsi'](_0xb41346[_0x3c6c2d(0x316)],_0xb41346[_0x3c6c2d(0x1c6)])){_0x5bbb25['info'](_0xb41346[_0x3c6c2d(0x257)]);const _0x5bac02={};_0x5bac02[_0x3c6c2d(0x330)]=_0x5d593f[_0x3c6c2d(0x33d)],_0x5bac02[_0x3c6c2d(0x2cf)]=_0xb41346[_0x3c6c2d(0x257)],this[_0x3c6c2d(0x18d)]['sendEventToBackend'](this[_0x3c6c2d(0x1fd)],_0x5bac02),_0x8e298[_0x3c6c2d(0x302)]=![];}else{if(_0xb41346[_0x3c6c2d(0x2a0)](_0x251d00['name'],_0x5626f7)){if(_0xb41346[_0x3c6c2d(0x2a0)](_0xb41346[_0x3c6c2d(0x320)],_0xb41346['WocEH']))_0x391332=_0x251d00['id'];else{if(_0xb41346[_0x3c6c2d(0x2a0)](_0x3ac852[_0x3c6c2d(0x369)],_0x5cb5ce))return!![];}}}}const _0x1a53db=await this[_0x3c6c2d(0x35e)][_0x3c6c2d(0x323)][_0x3c6c2d(0x202)](_0x391332,_0xb41346[_0x3c6c2d(0x34d)]);return _0x1a53db[_0x3c6c2d(0x32d)][_0x3c6c2d(0x2f3)];}else throw new _0x2f00c5(_0xb41346[_0x3c6c2d(0x18e)],'Received\x20response\x20-\x20'+_0x33cffb[_0x3c6c2d(0x1e1)](_0x308ad5));}catch(_0x2937d8){if(_0xb41346[_0x3c6c2d(0x1fb)](_0xb41346[_0x3c6c2d(0x312)],_0xb41346[_0x3c6c2d(0x2c1)])){if(_0xb41346[_0x3c6c2d(0x195)](_0x1803fe,0x0)){if(_0xb41346[_0x3c6c2d(0x2d8)](_0xb41346[_0x3c6c2d(0x29d)],_0xb41346[_0x3c6c2d(0x29d)]))return logger[_0x3c6c2d(0x2e7)]('[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20'+_0x2937d8+':'+_0x2937d8['stack']),{};else{const _0x53b090=_0x3f8ed1[_0x3c6c2d(0x365)](_0x57a44d);_0xf7bc58+='\x0a\x09'+_0xc55d4e+':\x20'+(_0x53b090?_0xb41346['xnhRu']:_0xb41346[_0x3c6c2d(0x376)]),!_0x53b090&&(_0x236b48[_0x3c6c2d(0x2e1)]=![]);}}return await new Promise(_0x98a061=>{const _0x2c67f1=_0x3c6c2d;_0xb41346['HtKsi'](_0xb41346['QKsrM'],_0xb41346[_0x2c67f1(0x305)])?_0x45eadd[_0x2c67f1(0x1d5)](_0x49388e[_0x2c67f1(0x369)]):_0xb41346[_0x2c67f1(0x2c7)](setTimeout,()=>_0x98a061(),0x3e8);}),this['getResourceClientId'](_0x5626f7,_0xb41346[_0x3c6c2d(0x1cc)](_0x1803fe,0x1));}else _0x838f9e[_0x3c6c2d(0x23c)][_0x3c6c2d(0x1d5)](_0x2a03f4);}}async[a1_0x50df38(0x1f4)](){const _0x4f52df=a1_0x50df38,_0x439b8e={};_0x439b8e['wsWAI']=function(_0x21c1c8,_0x2ae8f2){return _0x21c1c8===_0x2ae8f2;},_0x439b8e[_0x4f52df(0x353)]=_0x4f52df(0x1a8),_0x439b8e[_0x4f52df(0x282)]=function(_0x4bf03b,_0xec3676){return _0x4bf03b===_0xec3676;},_0x439b8e[_0x4f52df(0x24f)]=_0x4f52df(0x265),_0x439b8e[_0x4f52df(0x271)]='BrowserStack',_0x439b8e[_0x4f52df(0x36e)]=function(_0x1c85a8,_0x15c698){return _0x1c85a8!==_0x15c698;},_0x439b8e[_0x4f52df(0x2f6)]='zBKyj';const _0x419ad9=_0x439b8e;!this[_0x4f52df(0x2bc)]&&(_0x419ad9[_0x4f52df(0x332)](_0x419ad9[_0x4f52df(0x353)],_0x419ad9[_0x4f52df(0x353)])?await this[_0x4f52df(0x2fa)]():_0x21967a[_0x4f52df(0x2e7)]=_0x2c4786);const _0x378c69=this['clusterInfo']?.[_0x4f52df(0x20c)]||{};if(_0x378c69&&_0x419ad9[_0x4f52df(0x282)](_0x378c69[_0x419ad9[_0x4f52df(0x24f)]],_0x419ad9[_0x4f52df(0x271)])){if(_0x419ad9[_0x4f52df(0x36e)](_0x419ad9[_0x4f52df(0x2f6)],_0x419ad9[_0x4f52df(0x2f6)]))_0x19fa0d[_0x4f52df(0x1d5)](_0x71c41a);else return!![];}return![];}async['deleteCluster'](_0x725f81,_0x58b6a2){const _0x9dd2e9=a1_0x50df38,_0xad6083={'hmoJa':function(_0x131590,_0x2c0c72){return _0x131590(_0x2c0c72);},'wkdfW':function(_0x276049,_0x26ed6b){return _0x276049(_0x26ed6b);},'xJXcI':_0x9dd2e9(0x1d4)};await _0xad6083[_0x9dd2e9(0x22b)](deleteAgent,_0x725f81),await _0xad6083['wkdfW'](deleteRoutingDeps,_0x725f81);const _0x42c37a=this[_0x9dd2e9(0x2a6)];logger[_0x9dd2e9(0x333)](_0x9dd2e9(0x23e)+this[_0x9dd2e9(0x32c)]),await _0x42c37a[_0x9dd2e9(0x250)]['beginDeleteAndWait'](global_registry[_0x9dd2e9(0x222)],this['clusterName']),logger[_0x9dd2e9(0x333)](_0xad6083[_0x9dd2e9(0x328)]);}async[a1_0x50df38(0x23b)](){const _0x12ea17=a1_0x50df38,_0x3423e0={};_0x3423e0[_0x12ea17(0x242)]=_0x12ea17(0x357),_0x3423e0['VmGpE']=function(_0x1bf4d2,_0x4b122e){return _0x1bf4d2+_0x4b122e;},_0x3423e0[_0x12ea17(0x2f4)]='turboscale',_0x3423e0[_0x12ea17(0x342)]=function(_0x5be3c2,_0x58ec22){return _0x5be3c2-_0x58ec22;},_0x3423e0[_0x12ea17(0x214)]=function(_0x5c619b,_0x2e17c0){return _0x5c619b===_0x2e17c0;},_0x3423e0[_0x12ea17(0x296)]=_0x12ea17(0x2f8),_0x3423e0[_0x12ea17(0x1db)]=_0x12ea17(0x2eb),_0x3423e0[_0x12ea17(0x35d)]=function(_0x3edfb7,_0x2d8395){return _0x3edfb7&&_0x2d8395;},_0x3423e0[_0x12ea17(0x1b2)]=function(_0x697611,_0xd30fbc){return _0x697611!==_0xd30fbc;},_0x3423e0[_0x12ea17(0x283)]=_0x12ea17(0x1ea),_0x3423e0[_0x12ea17(0x240)]=_0x12ea17(0x26c),_0x3423e0[_0x12ea17(0x236)]=function(_0x4f4def,_0x2cb7cd){return _0x4f4def===_0x2cb7cd;},_0x3423e0[_0x12ea17(0x261)]=_0x12ea17(0x1b7),_0x3423e0[_0x12ea17(0x2ff)]='oexRR',_0x3423e0[_0x12ea17(0x2fe)]=_0x12ea17(0x284),_0x3423e0[_0x12ea17(0x2df)]=function(_0x2703a5,_0x55d348){return _0x2703a5!==_0x55d348;},_0x3423e0[_0x12ea17(0x297)]=_0x12ea17(0x228),_0x3423e0[_0x12ea17(0x2a7)]=_0x12ea17(0x25b),_0x3423e0[_0x12ea17(0x313)]=function(_0x1eed22,_0x2f2f7c){return _0x1eed22!==_0x2f2f7c;},_0x3423e0[_0x12ea17(0x2f7)]=_0x12ea17(0x370),_0x3423e0[_0x12ea17(0x337)]=_0x12ea17(0x1aa);const _0x56f8c7=_0x3423e0;if(!this['clusterInfo']){if(_0x56f8c7['SpkbF'](_0x56f8c7['yuruF'],_0x56f8c7[_0x12ea17(0x1db)])){_0x17d231[_0x12ea17(0x333)](_0x56f8c7[_0x12ea17(0x242)]);const _0x1a0102={};_0x1a0102['type']=_0x2e0ef1[_0x12ea17(0x33d)],_0x1a0102[_0x12ea17(0x2cf)]=_0x56f8c7['OtIpT'],this[_0x12ea17(0x18d)]['sendEventToBackend'](this[_0x12ea17(0x1fd)],_0x1a0102);const _0x34e54c={};_0x34e54c['enabled']=!![];const _0x1fc61a={'workloadIdentity':_0x34e54c,..._0x3870dd[_0x12ea17(0x1ee)]};_0xe9fcfc['securityProfile']=_0x1fc61a;}else await this[_0x12ea17(0x2fa)]();}const _0x2dd451=this[_0x12ea17(0x2bc)],_0x2d58f9=this[_0x12ea17(0x2bc)]?.[_0x12ea17(0x237)]?.[_0x12ea17(0x344)]||![],_0x4eccbc=this[_0x12ea17(0x2bc)]?.[_0x12ea17(0x1ee)]?.[_0x12ea17(0x324)]?.[_0x12ea17(0x344)]||![],_0x202862=!this[_0x12ea17(0x2bc)]?.['disableLocalAccounts']||![];if(_0x56f8c7[_0x12ea17(0x35d)](_0x2d58f9,_0x4eccbc)&&_0x202862){if(_0x56f8c7['QZsqU'](_0x56f8c7[_0x12ea17(0x283)],_0x56f8c7['nTiVG']))return;else return[!![],_0x3ba0a4];}if(!_0x2d58f9){if(_0x56f8c7[_0x12ea17(0x236)](_0x56f8c7[_0x12ea17(0x261)],_0x56f8c7[_0x12ea17(0x2ff)])){const _0x22f7fb=_0x4eda08[_0x12ea17(0x20e)][_0x12ea17(0x1a0)]('-'),_0x4ee9b4=_0x56f8c7[_0x12ea17(0x1a3)](_0x56f8c7['BTbtr'],_0x22f7fb[_0x56f8c7[_0x12ea17(0x342)](_0x22f7fb[_0x12ea17(0x294)],0x1)])[_0x12ea17(0x253)](0x0,0x18);return _0x4ee9b4[_0x12ea17(0x29a)]();}else{logger[_0x12ea17(0x333)](_0x56f8c7[_0x12ea17(0x2fe)]);const _0x36b86a={};_0x36b86a['type']=WS_EVENTS[_0x12ea17(0x33d)],_0x36b86a[_0x12ea17(0x2cf)]=_0x56f8c7['exdFh'],this['webSocketUtils'][_0x12ea17(0x27b)](this[_0x12ea17(0x1fd)],_0x36b86a),_0x2dd451['oidcIssuerProfile']['enabled']=!![];}}if(!_0x4eccbc){if(_0x56f8c7[_0x12ea17(0x2df)](_0x56f8c7['AqAdR'],_0x56f8c7[_0x12ea17(0x2a7)])){logger[_0x12ea17(0x333)](_0x56f8c7[_0x12ea17(0x242)]);const _0x2e1621={};_0x2e1621['type']=WS_EVENTS['RESOURCES'],_0x2e1621[_0x12ea17(0x2cf)]=_0x56f8c7[_0x12ea17(0x242)],this['webSocketUtils'][_0x12ea17(0x27b)](this['rws'],_0x2e1621);const _0x3ea119={};_0x3ea119[_0x12ea17(0x344)]=!![],_0x2dd451[_0x12ea17(0x1ee)]={'workloadIdentity':_0x3ea119,..._0x2dd451[_0x12ea17(0x1ee)]};}else _0x1f2663[_0x12ea17(0x2e7)]=_0x5b49ad;}if(!_0x202862){if(_0x56f8c7['IznwT'](_0x56f8c7[_0x12ea17(0x2f7)],_0x56f8c7[_0x12ea17(0x2f7)]))_0x2949cd[_0x12ea17(0x1d5)](_0x42aa3e);else{logger[_0x12ea17(0x333)](_0x56f8c7[_0x12ea17(0x337)]);const _0x1a83ea={};_0x1a83ea[_0x12ea17(0x330)]=WS_EVENTS['RESOURCES'],_0x1a83ea[_0x12ea17(0x2cf)]=_0x56f8c7[_0x12ea17(0x337)],this[_0x12ea17(0x18d)][_0x12ea17(0x27b)](this[_0x12ea17(0x1fd)],_0x1a83ea),_0x2dd451[_0x12ea17(0x302)]=![];}}await this[_0x12ea17(0x2a6)]['managedClusters']['beginCreateOrUpdateAndWait'](global_registry[_0x12ea17(0x222)],this[_0x12ea17(0x32c)],_0x2dd451),await this[_0x12ea17(0x2fa)]();}async['sendAzureInfoToHST'](){const _0x23e507=a1_0x50df38,_0x57d04b={};_0x57d04b[_0x23e507(0x2de)]=function(_0x3ac12f,_0x124c09){return _0x3ac12f===_0x124c09;},_0x57d04b[_0x23e507(0x245)]='DQpBl',_0x57d04b['qbrzB']=_0x23e507(0x378);const _0x576547=_0x57d04b,_0x20d5fa=await this['networkClient'][_0x23e507(0x247)]['listAll'](global_registry[_0x23e507(0x222)]),_0x297764={};_0x297764['username']=global_registry[_0x23e507(0x220)],_0x297764['accessKey']=global_registry['bstackAccesskey'],_0x297764[_0x23e507(0x364)]=AZURE,_0x297764[_0x23e507(0x23c)]=[];const _0x192dac=_0x297764;for await(const _0x5789d1 of _0x20d5fa){if(_0x576547[_0x23e507(0x2de)](_0x576547[_0x23e507(0x245)],_0x576547['qbrzB']))return!![];else _0x192dac[_0x23e507(0x23c)][_0x23e507(0x1d5)](_0x5789d1);}const _0x1fe80a={};_0x1fe80a[_0x23e507(0x330)]=WS_EVENTS[_0x23e507(0x33d)],_0x1fe80a[_0x23e507(0x2cf)]=_0x192dac,this['webSocketUtils'][_0x23e507(0x27b)](this[_0x23e507(0x1fd)],_0x1fe80a);}async[a1_0x50df38(0x2ac)](_0x1462ca){const _0xa2dc63=a1_0x50df38,_0x58b790={};_0x58b790['piSrK']=function(_0x20aa66,_0x4233e1){return _0x20aa66===_0x4233e1;},_0x58b790['BKrfD']=function(_0x58cac6,_0x567d1b){return _0x58cac6===_0x567d1b;},_0x58b790['NTeDJ']='HJLKW',_0x58b790['eEhHp']='RZHLm',_0x58b790[_0xa2dc63(0x2a1)]=function(_0x1d696e,_0x324d44){return _0x1d696e!==_0x324d44;},_0x58b790[_0xa2dc63(0x1c5)]=_0xa2dc63(0x2b4),_0x58b790[_0xa2dc63(0x30c)]=function(_0xfd1288,_0x106435){return _0xfd1288===_0x106435;},_0x58b790['zEhqc']=_0xa2dc63(0x35b),_0x58b790[_0xa2dc63(0x1b1)]=_0xa2dc63(0x36d),_0x58b790[_0xa2dc63(0x301)]=function(_0x463bc8,_0x6f71dd){return _0x463bc8===_0x6f71dd;},_0x58b790[_0xa2dc63(0x191)]='vXSGm';const _0x16fc00=_0x58b790;try{if(_0x16fc00[_0xa2dc63(0x1ba)](_0x16fc00[_0xa2dc63(0x32f)],_0x16fc00[_0xa2dc63(0x1fe)]))_0xc137d7=_0xe0f94d['id'];else{const _0x5323fb=await this[_0xa2dc63(0x27e)]['virtualNetworks'][_0xa2dc63(0x215)](global_registry[_0xa2dc63(0x222)]);for await(const _0x5f1157 of _0x5323fb){if(_0x16fc00[_0xa2dc63(0x2a1)](_0x16fc00[_0xa2dc63(0x1c5)],_0x16fc00[_0xa2dc63(0x1c5)])){if(_0x16fc00[_0xa2dc63(0x2e6)](_0x59a0d7[_0xa2dc63(0x369)],_0x415cfc))return!![];}else{if(_0x16fc00[_0xa2dc63(0x30c)](_0x5f1157[_0xa2dc63(0x369)],_0x1462ca)){if(_0x16fc00[_0xa2dc63(0x30c)](_0x16fc00[_0xa2dc63(0x340)],_0x16fc00['FgmWe'])){const _0x310327=new _0x462242(_0x2f0e21[_0xa2dc63(0x279)],_0x487982[_0xa2dc63(0x352)],_0x4e7cb1[_0xa2dc63(0x37a)]);this[_0xa2dc63(0x2a6)]=new _0x3b474a(_0x310327,_0x2993cc[_0xa2dc63(0x2f1)]),this[_0xa2dc63(0x1e2)]=new _0x3461c4(_0x310327,_0x4ec3af[_0xa2dc63(0x2f1)]),this['resourceClient']=new _0x4833a9(_0x310327,_0x23d327[_0xa2dc63(0x2f1)]),this[_0xa2dc63(0x27e)]=new _0xb44747(_0x310327,_0x390412['cloudProviderSubscriptionId']),this[_0xa2dc63(0x2d9)]=new _0x189a94(_0x310327,_0x2eb5dd[_0xa2dc63(0x2f1)]),this[_0xa2dc63(0x27d)]=_0x310327;}else return!![];}}}}}catch(_0x1b04e4){return _0x16fc00[_0xa2dc63(0x301)](_0x16fc00[_0xa2dc63(0x191)],_0x16fc00['FXDXM'])?(logger[_0xa2dc63(0x2e7)](_0xa2dc63(0x2c8)+_0x1462ca+_0xa2dc63(0x27c)+_0x1b04e4),![]):(_0x55fc16[_0xa2dc63(0x2e7)](_0xa2dc63(0x2c8)+_0x20df8f+_0xa2dc63(0x27c)+_0x133b43),![]);}return![];}async['isSubnetsValid'](_0x3dffcd,_0x2e6fe7){const _0x4bacbf=a1_0x50df38,_0x109fe8={};_0x109fe8[_0x4bacbf(0x349)]=_0x4bacbf(0x2c3),_0x109fe8['tHPMM']='1|0|2|4|3|5',_0x109fe8['baTEu']=function(_0x4135ce,_0x41425d){return _0x4135ce===_0x41425d;},_0x109fe8[_0x4bacbf(0x367)]='bkcjJ',_0x109fe8[_0x4bacbf(0x20b)]=_0x4bacbf(0x207),_0x109fe8[_0x4bacbf(0x34c)]='zfbRW';const _0x3d641c=_0x109fe8;try{if(_0x3d641c[_0x4bacbf(0x35a)](_0x3d641c[_0x4bacbf(0x367)],_0x3d641c[_0x4bacbf(0x20b)])){const _0x3d7e88={};_0x3d7e88[_0x4bacbf(0x2e1)]=!![],_0x3d7e88[_0x4bacbf(0x2e7)]=null,_0x3d7e88[_0x4bacbf(0x28a)]=_0x3d641c[_0x4bacbf(0x349)];const _0x319e78=_0x3d7e88;return _0x319e78;}else{const _0x167143=await this[_0x4bacbf(0x27e)]['subnets'][_0x4bacbf(0x19e)](global_registry[_0x4bacbf(0x222)],_0x2e6fe7,_0x3dffcd[0x0]);if(_0x3d641c[_0x4bacbf(0x35a)](_0x3dffcd[0x0],_0x167143[_0x4bacbf(0x369)])){if(_0x3d641c[_0x4bacbf(0x35a)](_0x3d641c[_0x4bacbf(0x34c)],_0x3d641c[_0x4bacbf(0x34c)]))return[!![],_0x3dffcd];else{const _0x2be6e9=_0x3d641c[_0x4bacbf(0x28f)][_0x4bacbf(0x1a0)]('|');let _0x313ec7=0x0;while(!![]){switch(_0x2be6e9[_0x313ec7++]){case'0':_0x63503f[_0x4bacbf(0x37a)]=_0x255be3[this[_0x4bacbf(0x375)]][_0x4bacbf(0x25d)];continue;case'1':_0x2f0601[_0x4bacbf(0x352)]=_0x55f1ae[this[_0x4bacbf(0x375)]][_0x4bacbf(0x2f3)];continue;case'2':_0x54a74e[_0x4bacbf(0x279)]=_0x1ce40f[this['cloudProviderName']][_0x4bacbf(0x288)];continue;case'3':_0xc9e951[_0x4bacbf(0x222)]=_0x334e17[this[_0x4bacbf(0x375)]][_0x4bacbf(0x373)];continue;case'4':_0x154c8d[_0x4bacbf(0x2f1)]=_0x196ef8[this[_0x4bacbf(0x375)]]['subscriptionId'];continue;case'5':this[_0x4bacbf(0x2b1)]();continue;}break;}}}}}catch(_0x51a774){return logger[_0x4bacbf(0x2e7)](_0x4bacbf(0x23a)+_0x3dffcd+'.\x20Error:\x20'+_0x51a774),[![],[]];}return[![],[]];}async['isCliToolInstalled'](){const _0x3ada01=a1_0x50df38,_0x29e958={};_0x29e958[_0x3ada01(0x298)]=_0x3ada01(0x2c3);const _0x627f1f=_0x29e958,_0x5ee081={};_0x5ee081[_0x3ada01(0x2e1)]=!![],_0x5ee081[_0x3ada01(0x2e7)]=null,_0x5ee081[_0x3ada01(0x28a)]=_0x627f1f[_0x3ada01(0x298)];const _0xba1512=_0x5ee081;return _0xba1512;}async[a1_0x50df38(0x227)](){const _0x3f2604=a1_0x50df38,_0x4c9470={};_0x4c9470[_0x3f2604(0x2e9)]=_0x3f2604(0x1b5),_0x4c9470[_0x3f2604(0x1b8)]=_0x3f2604(0x1f6),_0x4c9470[_0x3f2604(0x2ef)]='application/json';const _0xc0f672=_0x4c9470,_0x5ea3dc=await this[_0x3f2604(0x27d)][_0x3f2604(0x256)](_0xc0f672['ZJOBK']),_0x376ee7={};_0x376ee7['method']=_0xc0f672[_0x3f2604(0x1b8)],_0x376ee7[_0x3f2604(0x210)]={},_0x376ee7[_0x3f2604(0x210)][_0x3f2604(0x1e6)]=_0x3f2604(0x1de)+_0x5ea3dc[_0x3f2604(0x1cf)],_0x376ee7[_0x3f2604(0x210)][_0x3f2604(0x2ad)]=_0xc0f672['QhJrb'];const _0x5b4a76=_0x376ee7;return _0x5b4a76;}async[a1_0x50df38(0x1d0)](_0x514fb0){const _0x52e04d=a1_0x50df38,_0x20ec41={'JBnaC':function(_0x2ed1d9,_0x4860c5,_0x3d864c){return _0x2ed1d9(_0x4860c5,_0x3d864c);},'pZSBb':function(_0x234e0f,_0x2ab5eb){return _0x234e0f===_0x2ab5eb;},'sdPZi':_0x52e04d(0x1b6)},_0x137b3a={};_0x137b3a['principalId']='',_0x137b3a[_0x52e04d(0x2e7)]=null;const _0x5a8a37=_0x137b3a;try{const _0x290121=_0x52e04d(0x32a)+_0x514fb0+'\x27',_0x54c536=await this[_0x52e04d(0x227)](),_0x2a5d18=await _0x20ec41[_0x52e04d(0x201)](fetch,_0x290121,_0x54c536),_0x4a5280=await _0x2a5d18['json']();if(!_0x4a5280[_0x52e04d(0x2ae)]||_0x20ec41[_0x52e04d(0x1b9)](_0x4a5280['value'][_0x52e04d(0x294)],0x0))throw new Error(_0x20ec41[_0x52e04d(0x291)],_0x52e04d(0x235)+JSON['stringify'](_0x4a5280));_0x5a8a37[_0x52e04d(0x264)]=_0x4a5280['value'][0x0]['id'];}catch(_0x163702){_0x5a8a37[_0x52e04d(0x2e7)]=_0x163702;}return _0x5a8a37;}async['checkAccess'](){const _0x4186b1=a1_0x50df38,_0x55906a={};_0x55906a['HsICt']=_0x4186b1(0x263),_0x55906a[_0x4186b1(0x2d5)]='denied',_0x55906a['wmkds']=function(_0x388876,_0x5174c3){return _0x388876!==_0x5174c3;},_0x55906a['sEsEH']=function(_0x580cf0,_0x28b53b){return _0x580cf0===_0x28b53b;},_0x55906a[_0x4186b1(0x37c)]=_0x4186b1(0x287),_0x55906a[_0x4186b1(0x212)]=function(_0x55738d,_0x413959){return _0x55738d===_0x413959;},_0x55906a[_0x4186b1(0x213)]=_0x4186b1(0x19f),_0x55906a[_0x4186b1(0x2ea)]=function(_0x2f0047,_0x101555){return _0x2f0047===_0x101555;},_0x55906a['WyZUi']=_0x4186b1(0x372);const _0x1de776=_0x55906a,_0x1f185c={};_0x1f185c['status']=![],_0x1f185c[_0x4186b1(0x2e7)]=null,_0x1f185c['data']='';const _0x2b689e=_0x1f185c;try{let _0x585b8f='';const _0x1c78e4=_0x4186b1(0x1ab)+global_registry[_0x4186b1(0x2f1)]+_0x4186b1(0x2dc)+global_registry[_0x4186b1(0x222)],_0x2fb544=await this['getPrincipalIdFromClientId'](global_registry[_0x4186b1(0x352)]);if(_0x1de776['wmkds'](_0x2fb544[_0x4186b1(0x2e7)],null))return _0x2b689e[_0x4186b1(0x2e7)]=_0x2fb544[_0x4186b1(0x2e7)],_0x2b689e;const _0x24d1e1='assignedTo(\x27'+_0x2fb544[_0x4186b1(0x264)]+'\x27)',_0x338736={};_0x338736[_0x4186b1(0x21e)]=_0x24d1e1;const _0x4f76ef=await this[_0x4186b1(0x2d9)]['roleAssignments']['listForScope'](_0x1c78e4,_0x338736),_0x4f056e=[];for await(const _0x1917b9 of _0x4f76ef){_0x4f056e[_0x4186b1(0x1d5)](_0x1917b9);}if(_0x1de776[_0x4186b1(0x24a)](_0x4f056e[_0x4186b1(0x294)],0x0))return _0x2b689e[_0x4186b1(0x28a)]=_0x1de776[_0x4186b1(0x37c)],_0x2b689e;const _0x2df724=[...new Set(_0x4f056e[_0x4186b1(0x22e)](_0x49d16b=>_0x49d16b[_0x4186b1(0x209)]))];if(_0x1de776['qiFJY'](_0x2df724[_0x4186b1(0x294)],0x0))return _0x2b689e[_0x4186b1(0x28a)]=_0x1de776[_0x4186b1(0x213)],_0x2b689e;const _0x4c5484=[],_0x4c58c2=[];for(const _0x243938 of _0x2df724){const _0x2295a2=await this[_0x4186b1(0x2d9)][_0x4186b1(0x2af)][_0x4186b1(0x202)](_0x243938);logger[_0x4186b1(0x317)](_0x4186b1(0x346)+_0x2295a2[_0x4186b1(0x35c)]),_0x4c5484[_0x4186b1(0x1d5)](_0x2295a2),logger[_0x4186b1(0x317)]('Attached\x20permissions\x20:\x20'+JSON[_0x4186b1(0x1e1)](_0x2295a2['permissions'])),_0x2295a2['permissions'][_0x4186b1(0x1d2)](_0x4b41e0=>{const _0x1631ce=_0x4186b1;_0x4c58c2['push'](..._0x4b41e0[_0x1631ce(0x35f)]);});}logger[_0x4186b1(0x317)](_0x4186b1(0x25a)+JSON['stringify'](_0x4c58c2)),_0x1de776[_0x4186b1(0x2ea)](_0x4c58c2['length'],0x0)&&(_0x585b8f+=_0x1de776[_0x4186b1(0x212)](_0x4c58c2[_0x4186b1(0x294)],0x0)?_0x1de776[_0x4186b1(0x286)]:'',logger[_0x4186b1(0x317)](_0x4186b1(0x2f5)+JSON[_0x4186b1(0x1e1)](_0x4c5484))),_0x2b689e[_0x4186b1(0x2e1)]=!![],Object[_0x4186b1(0x1a9)](PERMISSIONS[_0x4186b1(0x29f)])[_0x4186b1(0x1d2)](([_0x4bdc43,_0x34d5a5])=>{const _0x394937=_0x4186b1,_0x49270a=_0x4c58c2[_0x394937(0x365)](_0x4bdc43);_0x585b8f+='\x0a\x09'+_0x34d5a5+':\x20'+(_0x49270a?_0x1de776[_0x394937(0x1c9)]:_0x1de776[_0x394937(0x2d5)]),!_0x49270a&&(_0x2b689e[_0x394937(0x2e1)]=![]);}),_0x2b689e[_0x4186b1(0x28a)]=_0x585b8f;}catch(_0x3d7c63){_0x2b689e[_0x4186b1(0x2e7)]=_0x3d7c63;}return _0x2b689e;}}const a1_0x310b52={};a1_0x310b52[a1_0x50df38(0x30b)]=AzureCloudProvider,module[a1_0x50df38(0x356)]=a1_0x310b52;