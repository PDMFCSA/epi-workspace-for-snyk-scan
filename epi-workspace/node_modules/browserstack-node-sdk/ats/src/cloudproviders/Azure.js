function a1_0xa439(){const _0x3ff0ad=['pHeOq','JUyRd','IZmky','deployments','ingress','getHeader','YmKhw','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','fvJUq','filters','vpcName','lXPnO','WHypB','status','clientSecret','NmYfk','imjxd','exit','uShlO','authClient','type','beginCreateOrUpdateAndWait','FdKjK','XHSjP','yraLb','zjBZY','rKDEb','VMBRU','EgGdS','oqWQc','NFwAS','jxWmB','clusterRegion','uGtsO','Myjlw','YPzzj','7|4|2|3|1|6|5|0','qeTbs','hjJMe','WDBmF','uqWXm','HsAqY','tenantId','Storage\x20account\x20already\x20exists,\x20skipping','nCeiC','Blob\x20delete\x20lifecycle','turboscale','iPSKl','LbENM','createManagedIdentity','yJxVz','pTtFj','baseBlob','TxHay','ghjEa','blobTypes','metadata','LEhnA','swjGc','location','virtualNetworks','GDQDg','enabled','Ucgus','zswFf','headers','hubHaNameSpace','TwLQl','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','../config/logger','277161vonLLT','subscriptions/','XWELA','AWdIC','.json','No\x20service\x20principal\x20found','cloudProvider','cloudProviderResourceGroup','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','getGridHostname','clusterName','ZFXmW','ADdpA','Mxntr','pzXpy','OYQss','storageAccounts','YgyHO','Ytmap','NTXVC','stack','rws','OjPiB','kQQQV','includes','path','JQAFg','69GgLEnX','zYEpx','allowed','length','tags','ptTcR','nwpzD','tNwlf','ONtEE','vMbiz','isManagedIdentityPresent','ucxzz','json','s3Bucket','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','LTvha','kaLju','YYAnz','WjpYm','cloudProviderClientSecret','JMoeF','pIauC','cloudProviderName','laRpA','vjAtY','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','@azure/arm-containerservice','templates','cQxsN','wCMpE','jrYKe','HNDry','turboscale-federated-deployment','vyNzj','gfhAI','hubharesources','IPqFk','YWcmy','TCMnY','checkAccess','wLaZB','readFileAsync','denied','Content-Type','xAVvE','error','3224348XnFknS','AvWQN','Deleting\x20the\x20cluster\x20','hostname','rafCN','securityProfile','uKslL','ZVIcU','hasTf','FVmmr','join','tDrHN','@azure/identity','14tcrTAY','getUserInput','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','RWEvT','27ZKavqU','isStorageAccountPresent','IiqZC','cloudProviderClientId','message','dsGhH','IkLHg','OaEYu','managedClusters','OIbrI','tOPPG','kswqY','TDwpf','token','yvcCY','getResourceGroups','crUoe','loadBalancer','method','Ahgrh','createStorageAccount','jBbbp','Enabling\x20Local\x20account\x20for\x20the\x20cluster','FlPvf','bbVZw','webSocketUtils','QPTlR','sendEventToBackend','93396YZJJda','containerClient','VRgMg','Xgfgw','getById','sQlKf','eZMvk','debug','dtckG','log','get','onzHU','iRLAJ','hVFNc','aopLg','toUpperCase','GET','bAgQk','/resourceGroups/','storageClient','frraM','listByResourceGroup','yeDVl','NQFdF','resources','subscriptionId','auyhJ','yxTjH','cVkBj','XbvmP','properties','Found\x20only\x20one\x20resource\x20group:\x20','No\x20attached\x20role\x20for\x20the\x20client\x20key','getKubeConfigData','ywVrT','NTpGt','setupHubHa','managementPolicies','TdwlP','roleDefinitions','issuerURL','toLowerCase','JgwqX','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','apEpz','tcgLo','tjiSQ','UhTRV','DhyGy','rTmoG','assignedTo(\x27','VNPGy','./CloudProvider','Lufsa','resourceGroup','716955eTbxhf','gXcue','MZCDU','nuxKs','rCAPE','PMNJQ','VqKdw','definition','ujpaA','YNIjC','pSALZ','filter','cIxgZ','DoASA','onnCV','CoUho','iZWOG','pXPpU','NGccQ','QNbYT','xSSod','value','getStorageAccountName','wQiyo','hgnPv','gpUCO','oidcIssuerProfile','slice','tbCIW','lgmeU','qRGUw','Action\x20permission\x20list\x20is\x20empty\x0a','beginDeleteAndWait','GkaHw','createCluster','WstPS','WclKa','dBxCa','vDaFF','listForScope','rleWc','map','zqeZA','JHHVF','EmmHY','RUQZO','zHwlb','KTjUR','LOG','wTexM','IyVoL','wtlLl','eLiGK','VmmPj','nuvPK','roleDefinitionId','PEmjU','oeCQM','clientId','../utils/gridComponents','sqtlg','edkGk','federatedidentityuploader.json','createFederatedAccountForHubHA','abDqn','name','0|5|4|3|2|1','EtJud','string','clusterInfo','TclZU','init','disableLocalAccounts','data','bstackAccesskey','MgnTC','@azure/arm-authorization','setCachedCredsInRegistry','Creating\x20Azure\x20federated\x20identity','../config/constants','subnets','GfAsW','bBbMa','kFvat','@azure/arm-storage','URoUt','sendAzureInfoToHST','networkClient','jCuxO','daysAfterCreationGreaterThan','utIjm','@azure/arm-network','zYIkU','OerMS','pCFiT','syErV','stringify','KpeRY','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','createOtherResources','split','description','rules','YavZI','Hffak','agentPoolProfiles','../utils/utilityMethods','turboscale-identity-deployment','fflNc','vnetSubnetID','NHeAS','rdodY','maxNodes','awDfx','parameters','KiMiw','XHmXz','ZOLKX','cloudProviderSubscriptionId','fSqIO','actions','owjpz','getClusterInfo','mpOlf','info','Cannot\x20find\x20subnets\x20','klEeJ','oXDyI','turboscale-managed-identity-','variables','GzAuU','application/json','QerHC','ixUEd','XAefJ','nUMeN','utf-8','LHRrc','parse','CpqMJ','Icbuq','cred','SAqnR','username','KncCl','principalId','\x20RESOURCE\x20GROUP:\x20','Lifecycle','policy','YviiJ','.\x20Error:\x20','getPrincipalIdFromClientId','subnetName','workloadIdentity','SLvKz','Incremental','lVIBi','WFiva','zhZHL','tRtBa','cloudProviderTenantId','LmUrw','veLUy','HvaOJ','LelzG','[variables(\x27vnetSubnetID\x27)]','azureresources','QfFyY','CqKTw','Authorization','SSOVv','vSVNU','../permissions/AZURE.json','vpcInfo','DDYoc','resourceClient','FHIiA','aZzPI','userMaxNodes','FOGYE','YZnEC','pEuBD','624680gZmXvy','stfob','hmZvH','FouhD','Received\x20response\x20-\x20','ufPIl','forEach','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','Managed\x20identity\x20already\x20exists,\x20skipping','createFederatedAccount','blockBlob','VwemA','AzureCloudProvider','federatedidentity','YgYvs','KWVSP','toString','dgqZA','qSoZs','KYMCd','aUPfe','pshOx','DLTTF','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','\x20CLIENT\x20ID:\x20','cMnaM','822444XfQZwi','getResourceClientId','uwoaH','updateClusterAlreadyPresent','setupNewCluster','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','storageAccountName','ASIvI','gninD','setClients','MesHG','permissions','jwZYH','17449770haMiva','tMFMp','HXsHV','isClusterPresent','RESOURCES','push','fkyfZ','iQNVq','wszft','UGYfI','isCliToolInstalled','GgCuV','listClusterAdminCredentials','createOrUpdate','WWYyc','usCnh','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','HCqcp','rqeVQ','EIwuc'];a1_0xa439=function(){return _0x3ff0ad;};return a1_0xa439();}const a1_0x52b665=a1_0x4cda;(function(_0x5b1578,_0x2fce1a){const _0xe957d5=a1_0x4cda,_0x41f8b8=_0x5b1578();while(!![]){try{const _0x38d321=-parseInt(_0xe957d5(0x14c))/0x1+parseInt(_0xe957d5(0x1c2))/0x2*(-parseInt(_0xe957d5(0x167))/0x3)+parseInt(_0xe957d5(0x195))/0x4+parseInt(_0xe957d5(0x1fa))/0x5+parseInt(_0xe957d5(0xe5))/0x6*(-parseInt(_0xe957d5(0x1a2))/0x7)+parseInt(_0xe957d5(0x2b0))/0x8*(-parseInt(_0xe957d5(0x1a6))/0x9)+parseInt(_0xe957d5(0xf2))/0xa;if(_0x38d321===_0x2fce1a)break;else _0x41f8b8['push'](_0x41f8b8['shift']());}catch(_0x437847){_0x41f8b8['push'](_0x41f8b8['shift']());}}}(a1_0xa439,0xcbd15));const fs=require('fs'),path=require(a1_0x52b665(0x165)),yaml=require('js-yaml'),{logger}=require(a1_0x52b665(0x14b)),{CloudProvider}=require(a1_0x52b665(0x1f7)),{deleteRoutingDeps,deleteAgent}=require(a1_0x52b665(0x235)),{AZURE,WS_EVENTS,global_registry}=require(a1_0x52b665(0x249)),PERMISSIONS=require(a1_0x52b665(0x2a6)),{ClientSecretCredential}=require(a1_0x52b665(0x1a1)),{NetworkManagementClient}=require(a1_0x52b665(0x255)),{StorageManagementClient}=require(a1_0x52b665(0x24e)),{AuthorizationManagementClient}=require(a1_0x52b665(0x246)),{ResourceManagementClient}=require('@azure/arm-resources'),{ContainerServiceClient}=require(a1_0x52b665(0x181)),{runCommand}=require(a1_0x52b665(0x264));class AzureCloudProvider extends CloudProvider{constructor(_0x5aed67,_0x39edb3,_0x4903af,_0x3842cd){const _0x5b8bca=a1_0x52b665,_0x1743b3={};_0x1743b3[_0x5b8bca(0x1ff)]=_0x5b8bca(0x12a);const _0x123ae6=_0x1743b3,_0x471a0c=_0x123ae6[_0x5b8bca(0x1ff)][_0x5b8bca(0x25e)]('|');let _0x3c5b6e=0x0;while(!![]){switch(_0x471a0c[_0x3c5b6e++]){case'0':this['authClient']=null;continue;case'1':this[_0x5b8bca(0x1d5)]=null;continue;case'2':this['clusterInfo']=null;continue;case'3':this['containerClient']=null;continue;case'4':this[_0x5b8bca(0x287)]=null;continue;case'5':this[_0x5b8bca(0x251)]=null;continue;case'6':this[_0x5b8bca(0x2a9)]=null;continue;case'7':super(AZURE,_0x5aed67,_0x39edb3,_0x4903af,_0x3842cd);continue;}break;}}async[a1_0x52b665(0x241)](){return await super['init'](),this;}[a1_0x52b665(0xee)](){const _0x472b5c=a1_0x52b665,_0x4b6eda=new ClientSecretCredential(global_registry[_0x472b5c(0x29a)],global_registry[_0x472b5c(0x1a9)],global_registry[_0x472b5c(0x17a)]);this['containerClient']=new ContainerServiceClient(_0x4b6eda,global_registry['cloudProviderSubscriptionId']),this[_0x472b5c(0x1d5)]=new StorageManagementClient(_0x4b6eda,global_registry['cloudProviderSubscriptionId']),this['resourceClient']=new ResourceManagementClient(_0x4b6eda,global_registry[_0x472b5c(0x270)]),this['networkClient']=new NetworkManagementClient(_0x4b6eda,global_registry['cloudProviderSubscriptionId']),this['authClient']=new AuthorizationManagementClient(_0x4b6eda,global_registry[_0x472b5c(0x270)]),this['cred']=_0x4b6eda;}[a1_0x52b665(0x210)](){const _0x1c68a4=a1_0x52b665,_0x33ae1d={};_0x33ae1d[_0x1c68a4(0x11e)]=function(_0x572baa,_0x574963){return _0x572baa+_0x574963;},_0x33ae1d[_0x1c68a4(0x157)]=_0x1c68a4(0x134),_0x33ae1d[_0x1c68a4(0x143)]=function(_0x57113d,_0x5545c1){return _0x57113d-_0x5545c1;};const _0x1dd16b=_0x33ae1d,_0x2b3314=global_registry[_0x1c68a4(0x174)]['split']('-'),_0x2d7470=_0x1dd16b[_0x1c68a4(0x11e)](_0x1dd16b['ZFXmW'],_0x2b3314[_0x1dd16b[_0x1c68a4(0x143)](_0x2b3314[_0x1c68a4(0x16a)],0x1)])['slice'](0x0,0x18);return _0x2d7470[_0x1c68a4(0x1eb)]();}[a1_0x52b665(0x247)](_0x503885){const _0x77bdba=a1_0x52b665,_0x1eb6e3={};_0x1eb6e3[_0x77bdba(0x111)]=_0x77bdba(0x23c);const _0x750ac=_0x1eb6e3,_0x31dfb9=_0x750ac[_0x77bdba(0x111)]['split']('|');let _0x2661f8=0x0;while(!![]){switch(_0x31dfb9[_0x2661f8++]){case'0':global_registry[_0x77bdba(0x1a9)]=_0x503885[this[_0x77bdba(0x17d)]][_0x77bdba(0x234)];continue;case'1':this[_0x77bdba(0xee)]();continue;case'2':global_registry[_0x77bdba(0x153)]=_0x503885[this[_0x77bdba(0x17d)]]['resourceGroup'];continue;case'3':global_registry[_0x77bdba(0x270)]=_0x503885[this[_0x77bdba(0x17d)]][_0x77bdba(0x1db)];continue;case'4':global_registry[_0x77bdba(0x29a)]=_0x503885[this['cloudProviderName']][_0x77bdba(0x130)];continue;case'5':global_registry[_0x77bdba(0x17a)]=_0x503885[this[_0x77bdba(0x17d)]][_0x77bdba(0x114)];continue;}break;}}async[a1_0x52b665(0x1a3)](_0x2a64f6,_0x1b1dc3){const _0x5f31ec=a1_0x52b665,_0x1df111={'qeTbs':'Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','cMnaM':_0x5f31ec(0xd2),'uShlO':function(_0x286044,_0xddd150){return _0x286044===_0xddd150;},'IPqFk':function(_0x28625d,_0x5a4ac9){return _0x28625d(_0x5a4ac9);},'pzXpy':function(_0x11ebd3,_0x51faea){return _0x11ebd3(_0x51faea);},'WDBmF':function(_0x3175c9,_0x2d4aef){return _0x3175c9(_0x2d4aef);},'RvNVS':function(_0x6ab991,_0x1ea4b8){return _0x6ab991(_0x1ea4b8);},'Icbuq':'VLiJD','XbvmP':_0x5f31ec(0x203),'JQAFg':function(_0x13db47,_0x3c736a){return _0x13db47===_0x3c736a;},'abDqn':_0x5f31ec(0xd0),'vkNht':_0x5f31ec(0x1e8),'IkLHg':function(_0x5a02d9,_0x5e0889){return _0x5a02d9===_0x5e0889;},'rdodY':function(_0x1a9448,_0x1cabbb){return _0x1a9448===_0x1cabbb;},'Ytmap':'HztwA','LelzG':function(_0x23fd76,_0x46c21d){return _0x23fd76===_0x46c21d;},'ZSKij':function(_0x1ea1dd,_0x1b0136){return _0x1ea1dd===_0x1b0136;},'nuvPK':_0x5f31ec(0x185),'XWELA':function(_0x3d2413,_0x8cb7ee){return _0x3d2413!==_0x8cb7ee;},'EIwuc':_0x5f31ec(0x1e5),'ZVIcU':function(_0x487c31,_0x4aed5a){return _0x487c31<_0x4aed5a;},'tMFMp':function(_0x40ddf3,_0x19724e){return _0x40ddf3!==_0x19724e;},'OIbrI':'vfSVw','YgyHO':_0x5f31ec(0x225),'IyVoL':function(_0x4f4158,_0x21aaa9){return _0x4f4158+_0x21aaa9;},'CoUho':_0x5f31ec(0xe2),'VmmPj':function(_0x3b2789,_0x2bb66c){return _0x3b2789(_0x2bb66c);},'pCJui':function(_0x5b5c1e,_0x29c34e){return _0x5b5c1e<=_0x29c34e;},'CqKTw':function(_0x285e1e,_0x49f75a){return _0x285e1e>_0x49f75a;},'tWIXr':function(_0x129919,_0x2519ba){return _0x129919!==_0x2519ba;},'utIjm':_0x5f31ec(0x1b6),'KTjUR':function(_0x59d636,_0x142d6b){return _0x59d636-_0x142d6b;}},_0x276c21=this[_0x5f31ec(0x17d)][_0x5f31ec(0x1d1)](),_0x5b1664=await _0x1df111[_0x5f31ec(0x18b)](_0x2a64f6,_0x276c21+_0x5f31ec(0xe3)),_0x12e2d1=await _0x1df111[_0x5f31ec(0x15a)](_0x2a64f6,_0x276c21+'\x20CLIENT\x20SECRET:\x20'),_0x126c75=await _0x1df111['WDBmF'](_0x2a64f6,_0x276c21+'\x20TENANT\x20ID:\x20'),_0x224666=await _0x1df111['RvNVS'](_0x2a64f6,_0x276c21+'\x20SUBSCRIPTION\x20ID:\x20');global_registry[_0x5f31ec(0x1a9)]=_0x5b1664,global_registry[_0x5f31ec(0x17a)]=_0x12e2d1,global_registry[_0x5f31ec(0x29a)]=_0x126c75,global_registry['cloudProviderSubscriptionId']=_0x224666,this[_0x5f31ec(0xee)]();const _0x30d135=await this[_0x5f31ec(0x1b5)](),_0x3cebd1=_0x30d135[_0x5f31ec(0x16a)];let _0x51f7ed;if(_0x1df111[_0x5f31ec(0x118)](_0x3cebd1,0x0)){if(_0x1df111[_0x5f31ec(0x118)](_0x1df111[_0x5f31ec(0x286)],_0x1df111[_0x5f31ec(0x1df)]))return _0xbefb6d[_0x5f31ec(0x194)]('Cannot\x20find\x20VPC\x20'+_0x5360f5+'.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20'+_0x316fe7),![];else _0x51f7ed=await _0x1df111['WDBmF'](_0x2a64f6,_0x276c21+_0x5f31ec(0x28c));}else{if(_0x1df111['uShlO'](_0x3cebd1,0x1)){if(_0x1df111[_0x5f31ec(0x166)](_0x1df111[_0x5f31ec(0x23a)],_0x1df111['vkNht'])){_0x1dd83e[_0x5f31ec(0x276)](_0x1df111[_0x5f31ec(0x12b)]);const _0x24259b={};_0x24259b[_0x5f31ec(0x11a)]=_0x58a960[_0x5f31ec(0xf6)],_0x24259b[_0x5f31ec(0x1aa)]=_0x1df111[_0x5f31ec(0x12b)],this[_0x5f31ec(0x1bf)][_0x5f31ec(0x1c1)](this['rws'],_0x24259b),_0x2492cc['oidcIssuerProfile'][_0x5f31ec(0x144)]=!![];}else{const _0xed3e2=await _0x1df111[_0x5f31ec(0x12d)](_0x2a64f6,_0x5f31ec(0x1e1)+_0x30d135[0x0]+_0x5f31ec(0x10d));(_0x1df111[_0x5f31ec(0x118)](_0xed3e2,undefined)||_0x1df111[_0x5f31ec(0x1ac)](_0xed3e2,null)||!(_0x1df111[_0x5f31ec(0x269)](_0xed3e2[_0x5f31ec(0x1eb)](),'y')||_0x1df111['IkLHg'](_0xed3e2[_0x5f31ec(0x1eb)](),'n')))&&(_0x1df111[_0x5f31ec(0x269)](_0x1df111[_0x5f31ec(0x15e)],_0x1df111[_0x5f31ec(0x15e)])?(console[_0x5f31ec(0x194)](_0x1df111['cMnaM']),process[_0x5f31ec(0x117)](0x1)):(_0x17366e[_0x5f31ec(0x194)](_0x1df111[_0x5f31ec(0xe4)]),_0x156b96['exit'](0x1)));if(_0x1df111[_0x5f31ec(0x29e)](_0xed3e2[_0x5f31ec(0x1eb)](),'n')){if(_0x1df111['ZSKij'](_0x1df111[_0x5f31ec(0x230)],_0x1df111['nuvPK']))process[_0x5f31ec(0x117)](0x0);else return!![];}_0x51f7ed=_0x30d135[0x0];}}else{if(_0x1df111[_0x5f31ec(0x14e)](_0x1df111['EIwuc'],_0x1df111[_0x5f31ec(0x105)]))_0x4ccf52=_0x5dad68['id'];else{for(let _0x55213b=0x0;_0x1df111[_0x5f31ec(0x19c)](_0x55213b,_0x30d135[_0x5f31ec(0x16a)]);_0x55213b+=0x1){if(_0x1df111[_0x5f31ec(0xf3)](_0x1df111[_0x5f31ec(0x1af)],_0x1df111[_0x5f31ec(0x15d)]))console[_0x5f31ec(0x1cb)]('['+_0x1df111[_0x5f31ec(0x22c)](_0x55213b,0x1)+']\x20'+_0x30d135[_0x55213b]);else{if(_0x1df111['uShlO'](_0x24ec39['name'],_0x5f31ec(0x27a)+this[_0x5f31ec(0x156)]))return!![];}}const _0xb5c09a=await _0x1df111[_0x5f31ec(0x15a)](_0x2a64f6,_0x1df111[_0x5f31ec(0x209)]),_0x66c69b=_0x1df111[_0x5f31ec(0x22f)](Number,_0xb5c09a);if(_0x1df111[_0x5f31ec(0x22f)](isNaN,_0x66c69b)||_0x1df111['pCJui'](_0x66c69b,0x0)||_0x1df111[_0x5f31ec(0x2a2)](_0x66c69b,_0x3cebd1)){if(_0x1df111['tWIXr'](_0x1df111['utIjm'],_0x1df111[_0x5f31ec(0x254)])){const _0x42b0ac=new _0x3c49fb(_0x760ccf[_0x5f31ec(0x29a)],_0x3ad61c[_0x5f31ec(0x1a9)],_0x3234e2['cloudProviderClientSecret']);this[_0x5f31ec(0x1c3)]=new _0x2efdfb(_0x42b0ac,_0x4cfe7a[_0x5f31ec(0x270)]),this[_0x5f31ec(0x1d5)]=new _0x48b644(_0x42b0ac,_0x31789e[_0x5f31ec(0x270)]),this[_0x5f31ec(0x2a9)]=new _0xaf18dc(_0x42b0ac,_0x42753c[_0x5f31ec(0x270)]),this['networkClient']=new _0x137280(_0x42b0ac,_0x357177[_0x5f31ec(0x270)]),this[_0x5f31ec(0x119)]=new _0xee3488(_0x42b0ac,_0x3ebc13[_0x5f31ec(0x270)]),this[_0x5f31ec(0x287)]=_0x42b0ac;}else console[_0x5f31ec(0x194)](_0x1df111[_0x5f31ec(0xe4)]),process[_0x5f31ec(0x117)](0x1);}_0x51f7ed=_0x30d135[_0x1df111[_0x5f31ec(0x229)](_0x66c69b,0x1)];}}}global_registry['cloudProviderResourceGroup']=_0x51f7ed;const _0x19302e={};return _0x19302e[_0x5f31ec(0x234)]=_0x5b1664,_0x19302e[_0x5f31ec(0x114)]=_0x12e2d1,_0x19302e[_0x5f31ec(0x130)]=_0x126c75,_0x19302e[_0x5f31ec(0x1db)]=_0x224666,_0x19302e[_0x5f31ec(0x1f9)]=_0x51f7ed,_0x1b1dc3['cloudProvider'][AZURE]=_0x19302e,_0x1b1dc3;}async['getResourceGroups'](){const _0x39bc70=a1_0x52b665,_0x22207f={};_0x22207f[_0x39bc70(0x125)]=function(_0x1a9a82,_0x4c9173){return _0x1a9a82!==_0x4c9173;},_0x22207f[_0x39bc70(0x188)]='wADGL',_0x22207f[_0x39bc70(0x26d)]=function(_0x43880d,_0x5bed1a){return _0x43880d!==_0x5bed1a;},_0x22207f[_0x39bc70(0x297)]=_0x39bc70(0x145),_0x22207f[_0x39bc70(0x21b)]=_0x39bc70(0x2a5);const _0x56cdcf=_0x22207f,_0x1105a3=[];try{if(_0x56cdcf[_0x39bc70(0x125)](_0x56cdcf[_0x39bc70(0x188)],_0x56cdcf['vyNzj']))_0xba09aa[_0x39bc70(0x194)]=_0x27d0b9;else{const _0x48e38f=await this['resourceClient']['resourceGroups']['list']();for await(const _0x57eb01 of _0x48e38f){if(_0x56cdcf[_0x39bc70(0x26d)](_0x56cdcf[_0x39bc70(0x297)],_0x56cdcf[_0x39bc70(0x21b)]))_0x1105a3[_0x39bc70(0xf7)](_0x57eb01[_0x39bc70(0x23b)]);else return _0x43bc7c[_0x39bc70(0x113)][_0x39bc70(0x1b7)][_0x39bc70(0x10a)][0x0][_0x39bc70(0x198)];}}}catch(_0x5fadb6){}return _0x1105a3;}async[a1_0x52b665(0x274)](){const _0x16c9e3=a1_0x52b665;return this['clusterInfo']=await this[_0x16c9e3(0x1c3)]['managedClusters'][_0x16c9e3(0x1cc)](global_registry[_0x16c9e3(0x153)],this['clusterName']),this[_0x16c9e3(0x23f)];}async[a1_0x52b665(0x1e3)](){const _0x5e8073=a1_0x52b665,_0x326c7a=await this[_0x5e8073(0x1c3)]['managedClusters'][_0x5e8073(0xfe)](global_registry[_0x5e8073(0x153)],this[_0x5e8073(0x156)]),_0x131a14=_0x326c7a['kubeconfigs'][0x0]['value'][_0x5e8073(0xdb)]();return _0x131a14;}[a1_0x52b665(0x155)](_0x35a4ba){const _0x33947b=a1_0x52b665;return _0x35a4ba['status'][_0x33947b(0x1b7)][_0x33947b(0x10a)][0x0][_0x33947b(0x198)];}async[a1_0x52b665(0xf5)](){const _0x1410b6=a1_0x52b665,_0x256f32={};_0x256f32['hmZvH']=function(_0x493987,_0x5113c5){return _0x493987===_0x5113c5;},_0x256f32[_0x1410b6(0x189)]=function(_0x3d8434,_0xcc2a1b){return _0x3d8434===_0xcc2a1b;},_0x256f32['NJjSe']='QbeYx',_0x256f32[_0x1410b6(0x1de)]=_0x1410b6(0x1ca),_0x256f32[_0x1410b6(0xfd)]=function(_0x200335,_0x484719){return _0x200335!==_0x484719;},_0x256f32[_0x1410b6(0x108)]=_0x1410b6(0x1bd),_0x256f32['MBXNR']=_0x1410b6(0x1f3),_0x256f32[_0x1410b6(0xe7)]=_0x1410b6(0x1ce),_0x256f32[_0x1410b6(0x216)]=_0x1410b6(0xe0);const _0x48a801=_0x256f32,_0x23c774=new Array();for await(const _0x5854b8 of this['containerClient'][_0x1410b6(0x1ae)][_0x1410b6(0x1d7)](global_registry[_0x1410b6(0x153)])){_0x48a801[_0x1410b6(0x189)](_0x48a801['NJjSe'],_0x48a801[_0x1410b6(0x1de)])?_0x3345ee[_0x1410b6(0xf7)](_0x48c3e9['name']):_0x23c774[_0x1410b6(0xf7)](_0x5854b8);}for await(const _0x2d0a9c of _0x23c774){if(_0x48a801[_0x1410b6(0xfd)](_0x48a801[_0x1410b6(0x108)],_0x48a801['MBXNR'])){if(_0x48a801[_0x1410b6(0xcd)](_0x2d0a9c['name'],this[_0x1410b6(0x156)])){if(_0x48a801[_0x1410b6(0xfd)](_0x48a801[_0x1410b6(0xe7)],_0x48a801['tbCIW']))return await this[_0x1410b6(0x274)](),!![];else _0x4ce37d[_0x1410b6(0x117)](0x0);}}else{if(_0x48a801[_0x1410b6(0xcd)](_0x39f2c7['name'],_0x4b5fcd))return!![];}}return![];}async[a1_0x52b665(0xe9)](_0x52e784=null,_0x12106c=null){const _0x2443b7=a1_0x52b665,_0x25b27e={};_0x25b27e['WstPS']='2|3|4|0|5|1',_0x25b27e[_0x2443b7(0x200)]='Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity';const _0x2366a8=_0x25b27e,_0x5c07d6=_0x2366a8[_0x2443b7(0x21d)][_0x2443b7(0x25e)]('|');let _0x3b34e4=0x0;while(!![]){switch(_0x5c07d6[_0x3b34e4++]){case'0':await this[_0x2443b7(0x21c)](_0x52e784,_0x12106c);continue;case'1':return[_0x52e784,_0x12106c];case'2':this[_0x2443b7(0x250)]();continue;case'3':const _0x2d9e91={};_0x2d9e91[_0x2443b7(0x11a)]=WS_EVENTS[_0x2443b7(0x22a)],_0x2d9e91[_0x2443b7(0x1aa)]=_0x2366a8[_0x2443b7(0x200)],this[_0x2443b7(0x1bf)]['sendEventToBackend'](this[_0x2443b7(0x161)],_0x2d9e91);continue;case'4':logger[_0x2443b7(0x276)](_0x2366a8[_0x2443b7(0x200)]);continue;case'5':await this[_0x2443b7(0x25d)]();continue;}break;}}async['createCluster'](_0x1cf726=null,_0x1fd2c4=null){const _0x36dc8f=a1_0x52b665,_0x1dfb90={};_0x1dfb90[_0x36dc8f(0x237)]='No\x20service\x20principal\x20found',_0x1dfb90['MZCDU']=_0x36dc8f(0x182),_0x1dfb90['DLTTF']='azureresources',_0x1dfb90[_0x36dc8f(0xd6)]='akscluster.json',_0x1dfb90[_0x36dc8f(0x100)]=_0x36dc8f(0x282),_0x1dfb90[_0x36dc8f(0x24f)]=function(_0x26f079,_0x35f1ef){return _0x26f079!==_0x35f1ef;},_0x1dfb90[_0x36dc8f(0x1c7)]=function(_0x4027dd,_0x47775f){return _0x4027dd!==_0x47775f;},_0x1dfb90[_0x36dc8f(0x16f)]=function(_0x322c32,_0x5872e9){return _0x322c32!==_0x5872e9;},_0x1dfb90[_0x36dc8f(0x226)]=_0x36dc8f(0x228),_0x1dfb90[_0x36dc8f(0x1f8)]=_0x36dc8f(0x23e),_0x1dfb90['iQNVq']='Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.',_0x1dfb90[_0x36dc8f(0x24b)]=_0x36dc8f(0x14a),_0x1dfb90[_0x36dc8f(0x112)]=_0x36dc8f(0x29f),_0x1dfb90['GldzA']='turboscale-cluster-deployment',_0x1dfb90['nuxKs']=_0x36dc8f(0x295);const _0x4c0e14=_0x1dfb90;let _0x307ec6=await fs['readFileAsync'](path[_0x36dc8f(0x19f)](__dirname,'..',_0x4c0e14[_0x36dc8f(0x1fc)],_0x4c0e14[_0x36dc8f(0xe1)],_0x4c0e14[_0x36dc8f(0xd6)]),_0x4c0e14[_0x36dc8f(0x100)]);_0x307ec6=JSON[_0x36dc8f(0x284)](_0x307ec6);const _0xf577c1={};_0xf577c1[_0x36dc8f(0x20f)]=this[_0x36dc8f(0x156)];const _0x2924ca={};_0x2924ca['value']=global_registry[_0x36dc8f(0x126)];const _0x19a856={};_0x19a856[_0x36dc8f(0x20f)]=global_registry['instanceType'];const _0x11b9bb={};_0x11b9bb[_0x36dc8f(0x20f)]=global_registry[_0x36dc8f(0x26a)];const _0x38f1a5={};_0x38f1a5['clusterName']=_0xf577c1,_0x38f1a5[_0x36dc8f(0x141)]=_0x2924ca,_0x38f1a5['userInstanceType']=_0x19a856,_0x38f1a5[_0x36dc8f(0x2ac)]=_0x11b9bb;let _0x4fac6f=_0x38f1a5;if(_0x4c0e14[_0x36dc8f(0x24f)](_0x1cf726,null)&&_0x4c0e14[_0x36dc8f(0x1c7)](_0x1fd2c4,null)){if(_0x4c0e14[_0x36dc8f(0x16f)](_0x4c0e14['EmmHY'],_0x4c0e14['EmmHY']))throw new _0x5bb0c4(_0x4c0e14[_0x36dc8f(0x237)],_0x36dc8f(0xcf)+_0x474b08[_0x36dc8f(0x25a)](_0xdefae1));else{const _0x501df9={};_0x501df9['type']=_0x4c0e14['Lufsa'],_0x501df9[_0x36dc8f(0x13e)]={},_0x501df9[_0x36dc8f(0x13e)][_0x36dc8f(0x25f)]=_0x4c0e14['iQNVq'];const _0x57f08f={};_0x57f08f[_0x36dc8f(0x11a)]=_0x4c0e14['Lufsa'],_0x57f08f[_0x36dc8f(0x13e)]={},_0x57f08f[_0x36dc8f(0x13e)][_0x36dc8f(0x25f)]=_0x4c0e14[_0x36dc8f(0xf9)],_0x307ec6[_0x36dc8f(0x26c)]={..._0x307ec6[_0x36dc8f(0x26c)],'vpcName':_0x501df9,'subnetName':_0x57f08f};const _0x3fe307={};_0x3fe307[_0x36dc8f(0x267)]=_0x4c0e14[_0x36dc8f(0x24b)],_0x307ec6[_0x36dc8f(0x27b)]=_0x3fe307,_0x307ec6[_0x36dc8f(0x1da)][0x0][_0x36dc8f(0x1e0)][_0x36dc8f(0x263)][0x0]={..._0x307ec6[_0x36dc8f(0x1da)][0x0][_0x36dc8f(0x1e0)][_0x36dc8f(0x263)][0x0],'vnetSubnetID':_0x4c0e14['WHypB']};const _0x15665e={};_0x15665e[_0x36dc8f(0x20f)]=_0x1cf726;const _0x4fa66d={};_0x4fa66d[_0x36dc8f(0x20f)]=_0x1fd2c4[0x0],_0x4fac6f={..._0x4fac6f,'vpcName':_0x15665e,'subnetName':_0x4fa66d};}}await this[_0x36dc8f(0x2a9)][_0x36dc8f(0x109)][_0x36dc8f(0x11b)](global_registry[_0x36dc8f(0x153)],_0x4c0e14['GldzA'],{'properties':{'template':_0x307ec6,'mode':_0x4c0e14[_0x36dc8f(0x1fd)],'parameters':_0x4fac6f}});}async[a1_0x52b665(0x25d)](){const _0x439924=a1_0x52b665,_0x52fe2c={};_0x52fe2c[_0x439924(0x1cd)]=_0x439924(0x1e2),_0x52fe2c[_0x439924(0x206)]=function(_0x438a6c,_0x5a81a7){return _0x438a6c===_0x5a81a7;},_0x52fe2c[_0x439924(0x19e)]=_0x439924(0x273),_0x52fe2c[_0x439924(0x11c)]='Creating\x20Azure\x20storage\x20account',_0x52fe2c[_0x439924(0x184)]=function(_0x51811f,_0x3d1a8d){return _0x51811f!==_0x3d1a8d;},_0x52fe2c[_0x439924(0x22d)]=_0x439924(0x124),_0x52fe2c['gninD']=_0x439924(0x131),_0x52fe2c[_0x439924(0x19b)]=_0x439924(0x220),_0x52fe2c[_0x439924(0x275)]=_0x439924(0x294),_0x52fe2c['XHmXz']='Creating\x20Azure\x20managed\x20identity',_0x52fe2c[_0x439924(0xec)]=function(_0x213c44,_0x557b83){return _0x213c44!==_0x557b83;},_0x52fe2c['Mxntr']=_0x439924(0x1be),_0x52fe2c[_0x439924(0x258)]=_0x439924(0xd3),_0x52fe2c[_0x439924(0x224)]=_0x439924(0x248),_0x52fe2c[_0x439924(0x252)]='Created\x20Azure\x20federated\x20identity';const _0x392375=_0x52fe2c,_0x303ab0=await this[_0x439924(0x1a7)]();if(!_0x303ab0){if(_0x392375[_0x439924(0x206)](_0x392375[_0x439924(0x19e)],_0x392375[_0x439924(0x19e)])){const _0x2aeeeb={};_0x2aeeeb['type']=WS_EVENTS[_0x439924(0x22a)],_0x2aeeeb[_0x439924(0x1aa)]=_0x392375[_0x439924(0x11c)],this[_0x439924(0x1bf)][_0x439924(0x1c1)](this[_0x439924(0x161)],_0x2aeeeb),logger[_0x439924(0x276)](_0x392375[_0x439924(0x11c)]),await this['createStorageAccount']();}else _0x5f4303['push'](_0x1a27b0);}else _0x392375[_0x439924(0x184)](_0x392375[_0x439924(0x22d)],_0x392375[_0x439924(0x22d)])?_0x2155c3['push'](..._0x417cbd[_0x439924(0x272)]):logger['info'](_0x392375[_0x439924(0xed)]);const _0x5e9e38=await this[_0x439924(0x171)]();if(!_0x5e9e38){if(_0x392375['wCMpE'](_0x392375[_0x439924(0x19b)],_0x392375['mpOlf'])){const _0x4ef496={};_0x4ef496[_0x439924(0x11a)]=WS_EVENTS[_0x439924(0x22a)],_0x4ef496[_0x439924(0x1aa)]=_0x392375[_0x439924(0x26e)],this[_0x439924(0x1bf)]['sendEventToBackend'](this[_0x439924(0x161)],_0x4ef496),logger[_0x439924(0x276)](_0x392375[_0x439924(0x26e)]),await this[_0x439924(0x137)]();}else return!![];}else{if(_0x392375[_0x439924(0xec)](_0x392375[_0x439924(0x159)],_0x392375[_0x439924(0x159)]))return _0x12ca1c['data']=_0x392375[_0x439924(0x1cd)],_0x53a476;else logger['info'](_0x392375['pCFiT']);}logger[_0x439924(0x276)](_0x392375[_0x439924(0x224)]),await this[_0x439924(0xd4)](),logger['info'](_0x392375['jCuxO']);}async[a1_0x52b665(0x1ba)](){const _0x4a0ee8=a1_0x52b665,_0x473ea8={};_0x473ea8[_0x4a0ee8(0x1c0)]='templates',_0x473ea8[_0x4a0ee8(0x17e)]=_0x4a0ee8(0x2a0),_0x473ea8[_0x4a0ee8(0x233)]='storageaccount.json',_0x473ea8[_0x4a0ee8(0xce)]=_0x4a0ee8(0x282),_0x473ea8[_0x4a0ee8(0x1b0)]='turboscale-storageaccount-deployment',_0x473ea8[_0x4a0ee8(0x27e)]=_0x4a0ee8(0x295),_0x473ea8[_0x4a0ee8(0x2a4)]=_0x4a0ee8(0x133),_0x473ea8[_0x4a0ee8(0x296)]=_0x4a0ee8(0x28d),_0x473ea8[_0x4a0ee8(0xdc)]=_0x4a0ee8(0xd5),_0x473ea8[_0x4a0ee8(0x208)]='default';const _0x276439=_0x473ea8;let _0xead5ef=await fs[_0x4a0ee8(0x190)](path[_0x4a0ee8(0x19f)](__dirname,'..',_0x276439[_0x4a0ee8(0x1c0)],_0x276439[_0x4a0ee8(0x17e)],_0x276439[_0x4a0ee8(0x233)]),_0x276439[_0x4a0ee8(0xce)]);_0xead5ef=JSON[_0x4a0ee8(0x284)](_0xead5ef);const _0x214e50=this['getStorageAccountName'](),_0x2e0919={};_0x2e0919['value']=_0x214e50;const _0x26f23e={};_0x26f23e[_0x4a0ee8(0xeb)]=_0x2e0919,await this[_0x4a0ee8(0x2a9)][_0x4a0ee8(0x109)][_0x4a0ee8(0x11b)](global_registry[_0x4a0ee8(0x153)],_0x276439[_0x4a0ee8(0x1b0)],{'properties':{'template':_0xead5ef,'mode':_0x276439[_0x4a0ee8(0x27e)],'parameters':_0x26f23e}});const _0x23187f={};_0x23187f[_0x4a0ee8(0x253)]=0x3c;const _0x1fd83b={};_0x1fd83b['delete']=_0x23187f;const _0x9606c7={};_0x9606c7[_0x4a0ee8(0x13a)]=_0x1fd83b;const _0x43e29a={};_0x43e29a[_0x4a0ee8(0x144)]=!![],_0x43e29a[_0x4a0ee8(0x23b)]=_0x276439['SSOVv'],_0x43e29a[_0x4a0ee8(0x11a)]=_0x276439[_0x4a0ee8(0x296)],_0x43e29a[_0x4a0ee8(0x201)]={},_0x43e29a[_0x4a0ee8(0x201)][_0x4a0ee8(0x272)]=_0x9606c7,_0x43e29a[_0x4a0ee8(0x201)][_0x4a0ee8(0x10f)]={},_0x43e29a[_0x4a0ee8(0x201)][_0x4a0ee8(0x10f)][_0x4a0ee8(0x13d)]=[_0x276439['dgqZA']];const _0x527843={};_0x527843[_0x4a0ee8(0x260)]=[_0x43e29a];const _0x126844={};_0x126844[_0x4a0ee8(0x28e)]=_0x527843;const _0x43ea7a=_0x126844;await this[_0x4a0ee8(0x1d5)][_0x4a0ee8(0x1e7)][_0x4a0ee8(0xff)](global_registry[_0x4a0ee8(0x153)],_0x214e50,_0x276439[_0x4a0ee8(0x208)],_0x43ea7a);}async[a1_0x52b665(0x137)](){const _0x1bd057=a1_0x52b665,_0x460c04={};_0x460c04[_0x1bd057(0x20c)]=_0x1bd057(0x182),_0x460c04['ixUEd']=_0x1bd057(0x2a0),_0x460c04[_0x1bd057(0x20d)]='managedidentity.json',_0x460c04[_0x1bd057(0x183)]=_0x1bd057(0x282),_0x460c04[_0x1bd057(0x28f)]=_0x1bd057(0x265),_0x460c04['EgGdS']=_0x1bd057(0x295);const _0x5f31b9=_0x460c04;let _0x3e10f4=await fs[_0x1bd057(0x190)](path[_0x1bd057(0x19f)](__dirname,'..',_0x5f31b9[_0x1bd057(0x20c)],_0x5f31b9[_0x1bd057(0x27f)],_0x5f31b9[_0x1bd057(0x20d)]),_0x5f31b9[_0x1bd057(0x183)]);_0x3e10f4=JSON[_0x1bd057(0x284)](_0x3e10f4),await this[_0x1bd057(0x2a9)]['deployments'][_0x1bd057(0x11b)](global_registry[_0x1bd057(0x153)],_0x5f31b9[_0x1bd057(0x28f)],{'properties':{'template':_0x3e10f4,'mode':_0x5f31b9[_0x1bd057(0x122)],'parameters':{'clusterName':{'value':this[_0x1bd057(0x156)]}}}});}async[a1_0x52b665(0xd4)](){const _0x1503a8=a1_0x52b665,_0x3465c5={};_0x3465c5[_0x1503a8(0x136)]=function(_0x1d1d85,_0x33f623){return _0x1d1d85+_0x33f623;},_0x3465c5[_0x1503a8(0x15f)]=function(_0x38fdd9,_0x12c073){return _0x38fdd9===_0x12c073;},_0x3465c5['bBbMa']='ztGBu',_0x3465c5[_0x1503a8(0x132)]='hub',_0x3465c5[_0x1503a8(0x1fe)]='node',_0x3465c5[_0x1503a8(0x146)]=function(_0x24972a,_0x185382){return _0x24972a!==_0x185382;},_0x3465c5[_0x1503a8(0x1e4)]=_0x1503a8(0x16d),_0x3465c5[_0x1503a8(0xf1)]=_0x1503a8(0x182),_0x3465c5['yJxVz']=_0x1503a8(0x2a0),_0x3465c5[_0x1503a8(0x213)]='utf-8',_0x3465c5[_0x1503a8(0xd9)]=_0x1503a8(0x187),_0x3465c5[_0x1503a8(0x29b)]=_0x1503a8(0x295);const _0x437d2f=_0x3465c5;if(!this[_0x1503a8(0x23f)]){if(_0x437d2f[_0x1503a8(0x15f)](_0x437d2f['bBbMa'],_0x437d2f[_0x1503a8(0x24c)]))await this[_0x1503a8(0x274)]();else return _0x51c7bb[_0x1503a8(0x194)]=_0x326dec[_0x1503a8(0x194)],_0x2fd815;}const _0x5bd268=this['clusterInfo']?.[_0x1503a8(0x214)]?.[_0x1503a8(0x1ea)],_0x5ba7ca=[_0x437d2f[_0x1503a8(0x132)],_0x437d2f[_0x1503a8(0x1fe)]];for await(const _0x61e885 of _0x5ba7ca){if(_0x437d2f[_0x1503a8(0x146)](_0x437d2f[_0x1503a8(0x1e4)],_0x437d2f[_0x1503a8(0x1e4)]))_0x47d6ee['log']('['+_0x437d2f[_0x1503a8(0x136)](_0x276fbb,0x1)+']\x20'+_0x22aafb[_0x4d1868]);else{let _0x31d983=await fs[_0x1503a8(0x190)](path[_0x1503a8(0x19f)](__dirname,'..',_0x437d2f[_0x1503a8(0xf1)],_0x437d2f[_0x1503a8(0x138)],_0x1503a8(0xd8)+_0x61e885+_0x1503a8(0x150)),_0x437d2f[_0x1503a8(0x213)]);_0x31d983=JSON[_0x1503a8(0x284)](_0x31d983);const _0x33e2a9={};_0x33e2a9['value']=_0x5bd268,await this[_0x1503a8(0x2a9)][_0x1503a8(0x109)]['beginCreateOrUpdateAndWait'](global_registry['cloudProviderResourceGroup'],_0x437d2f['YgYvs'],{'properties':{'template':_0x31d983,'mode':_0x437d2f[_0x1503a8(0x29b)],'parameters':{'oidcIssuer':_0x33e2a9,'gridName':{'value':this['gridName']},'clusterName':{'value':this['clusterName']}}}});}}}async[a1_0x52b665(0x1e6)](_0x3d1a63,_0x400551,_0x2f256c,_0x4d9305,_0x181331){const _0x2159ed=a1_0x52b665,_0xd5f1e={};_0xd5f1e[_0x2159ed(0x29c)]='Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha',_0xd5f1e['aopLg']=_0x2159ed(0x1ed);const _0x68fedd=_0xd5f1e,_0x15a8da={};_0x15a8da['type']=WS_EVENTS[_0x2159ed(0x22a)],_0x15a8da[_0x2159ed(0x1aa)]=_0x68fedd['veLUy'],this[_0x2159ed(0x1bf)][_0x2159ed(0x1c1)](this[_0x2159ed(0x161)],_0x15a8da),logger['info'](_0x68fedd['veLUy']),await this[_0x2159ed(0x239)]();const _0x33f420={};_0x33f420[_0x2159ed(0x11a)]=WS_EVENTS['LOG'],_0x33f420['message']=_0x68fedd[_0x2159ed(0x1d0)],this[_0x2159ed(0x1bf)][_0x2159ed(0x1c1)](this[_0x2159ed(0x161)],_0x33f420);}async[a1_0x52b665(0x239)](){const _0x226bed=a1_0x52b665,_0x36b4b5={};_0x36b4b5['NQFdF']='allowed',_0x36b4b5['CYKfF']=_0x226bed(0x191),_0x36b4b5[_0x226bed(0x196)]=function(_0x1af8c5,_0x4b913a){return _0x1af8c5!==_0x4b913a;},_0x36b4b5['oYJAr']=_0x226bed(0x20a),_0x36b4b5[_0x226bed(0x279)]=_0x226bed(0x176),_0x36b4b5[_0x226bed(0x116)]=_0x226bed(0x182),_0x36b4b5[_0x226bed(0x1d3)]=_0x226bed(0x18a),_0x36b4b5[_0x226bed(0x2ad)]=_0x226bed(0x238),_0x36b4b5['opsEb']=_0x226bed(0x282),_0x36b4b5[_0x226bed(0xda)]='turboscale-federated-deployment',_0x36b4b5[_0x226bed(0x20e)]=_0x226bed(0x295);const _0x21de09=_0x36b4b5;if(!this['clusterInfo']){if(_0x21de09['AvWQN'](_0x21de09['oYJAr'],_0x21de09[_0x226bed(0x279)]))await this[_0x226bed(0x274)]();else{const _0x496859=_0x2385c6[_0x226bed(0x164)](_0xfbab53);_0x5c342e+='\x0a\x09'+_0x45cb9+':\x20'+(_0x496859?_0x21de09[_0x226bed(0x1d9)]:_0x21de09['CYKfF']),!_0x496859&&(_0x76bc7c[_0x226bed(0x113)]=![]);}}const _0x12cf2e=this[_0x226bed(0x23f)]?.[_0x226bed(0x214)]?.[_0x226bed(0x1ea)];let _0x5b1274=await fs['readFileAsync'](path[_0x226bed(0x19f)](__dirname,'..',_0x21de09[_0x226bed(0x116)],_0x21de09['bAgQk'],_0x21de09[_0x226bed(0x2ad)]),_0x21de09['opsEb']);_0x5b1274=JSON[_0x226bed(0x284)](_0x5b1274);const _0x5b5039={};_0x5b5039['value']=_0x12cf2e,await this[_0x226bed(0x2a9)][_0x226bed(0x109)][_0x226bed(0x11b)](global_registry[_0x226bed(0x153)],_0x21de09[_0x226bed(0xda)],{'properties':{'template':_0x5b1274,'mode':_0x21de09[_0x226bed(0x20e)],'parameters':{'oidcIssuer':_0x5b5039,'namespace':{'value':global_registry[_0x226bed(0x148)]},'clusterName':{'value':this[_0x226bed(0x156)]}}}});}async['isStorageAccountPresent'](){const _0x1e268b=a1_0x52b665,_0x189129={};_0x189129['VMBRU']=_0x1e268b(0x23e),_0x189129['KncCl']=_0x1e268b(0x175),_0x189129[_0x1e268b(0x21e)]=_0x1e268b(0x14a),_0x189129[_0x1e268b(0x1a0)]=_0x1e268b(0x29f),_0x189129['HNDry']=_0x1e268b(0xd3),_0x189129[_0x1e268b(0x218)]=function(_0x9554e3,_0x21b7e0){return _0x9554e3===_0x21b7e0;},_0x189129[_0x1e268b(0xf4)]=_0x1e268b(0x1a8),_0x189129['nUMeN']=_0x1e268b(0x204),_0x189129['WjpYm']=function(_0x4cec6b,_0x40a45c){return _0x4cec6b!==_0x40a45c;},_0x189129[_0x1e268b(0x211)]=_0x1e268b(0x177),_0x189129[_0x1e268b(0x245)]='NOiDt';const _0x9f1735=_0x189129,_0x3132a8=this[_0x1e268b(0x210)](),_0x4ba32b=new Array();for await(const _0x5ec79f of this['storageClient'][_0x1e268b(0x15c)][_0x1e268b(0x1d7)](global_registry[_0x1e268b(0x153)])){if(_0x9f1735[_0x1e268b(0x218)](_0x9f1735[_0x1e268b(0xf4)],_0x9f1735[_0x1e268b(0x281)])){const _0xc325c7={};_0xc325c7[_0x1e268b(0x11a)]=_0x9f1735[_0x1e268b(0x121)],_0xc325c7[_0x1e268b(0x13e)]={},_0xc325c7[_0x1e268b(0x13e)][_0x1e268b(0x25f)]=_0x9f1735['KncCl'];const _0x2a6882={};_0x2a6882[_0x1e268b(0x11a)]=_0x9f1735[_0x1e268b(0x121)],_0x2a6882[_0x1e268b(0x13e)]={},_0x2a6882[_0x1e268b(0x13e)][_0x1e268b(0x25f)]=_0x9f1735[_0x1e268b(0x28a)];const _0x11587f={..._0x9a8b87[_0x1e268b(0x26c)]};_0x11587f[_0x1e268b(0x110)]=_0xc325c7,_0x11587f[_0x1e268b(0x292)]=_0x2a6882,_0xb1777a[_0x1e268b(0x26c)]=_0x11587f;const _0x15d09d={};_0x15d09d[_0x1e268b(0x267)]=_0x9f1735[_0x1e268b(0x21e)],_0xd4afa7[_0x1e268b(0x27b)]=_0x15d09d;const _0x5b0560={..._0x565086['resources'][0x0]['properties'][_0x1e268b(0x263)][0x0]};_0x5b0560[_0x1e268b(0x267)]=_0x9f1735[_0x1e268b(0x1a0)],_0x461b82[_0x1e268b(0x1da)][0x0][_0x1e268b(0x1e0)][_0x1e268b(0x263)][0x0]=_0x5b0560;const _0x516ef0={};_0x516ef0[_0x1e268b(0x20f)]=_0x248445;const _0x4c2c33={};_0x4c2c33[_0x1e268b(0x20f)]=_0x5d252a[0x0];const _0x595425={..._0x283d3a};_0x595425['vpcName']=_0x516ef0,_0x595425[_0x1e268b(0x292)]=_0x4c2c33,_0x450a71=_0x595425;}else _0x4ba32b['push'](_0x5ec79f);}for await(const _0x52ad37 of _0x4ba32b){if(_0x9f1735[_0x1e268b(0x179)](_0x9f1735[_0x1e268b(0x211)],_0x9f1735[_0x1e268b(0x211)]))_0x30a493['info'](_0x9f1735[_0x1e268b(0x186)]);else{if(_0x9f1735[_0x1e268b(0x218)](_0x52ad37['name'],_0x3132a8))return _0x9f1735[_0x1e268b(0x218)](_0x9f1735[_0x1e268b(0x245)],_0x9f1735[_0x1e268b(0x245)])?!![]:!![];}}return![];}async[a1_0x52b665(0x171)](){const _0x199502=a1_0x52b665,_0x28233c={};_0x28233c[_0x199502(0x1d6)]=function(_0x11d042,_0x4a4f09){return _0x11d042===_0x4a4f09;},_0x28233c[_0x199502(0x14f)]=_0x199502(0x1a4),_0x28233c[_0x199502(0x288)]=_0x199502(0x25c),_0x28233c[_0x199502(0x1ab)]=function(_0x555555,_0x218f35){return _0x555555!==_0x218f35;},_0x28233c[_0x199502(0x266)]=_0x199502(0x1c5),_0x28233c[_0x199502(0x261)]=_0x199502(0x123),_0x28233c['ZczJj']=_0x199502(0x158),_0x28233c[_0x199502(0x259)]=function(_0x5d1cdc,_0x4375a4){return _0x5d1cdc===_0x4375a4;},_0x28233c[_0x199502(0x104)]=function(_0x2400e5,_0x2adbbd){return _0x2400e5===_0x2adbbd;},_0x28233c[_0x199502(0x1b1)]=_0x199502(0x193),_0x28233c[_0x199502(0x2ae)]='rkjjG';const _0x3e91d2=_0x28233c,_0x1756f3=new Array();for await(const _0x172f2b of this[_0x199502(0x2a9)][_0x199502(0x1da)][_0x199502(0x1d7)](global_registry[_0x199502(0x153)])){_0x3e91d2['dsGhH'](_0x3e91d2[_0x199502(0x266)],_0x3e91d2['YavZI'])?_0x1756f3['push'](_0x172f2b):_0x3e91d2[_0x199502(0x1d6)](_0x24ecda['name'],_0x13448d)&&(_0x473f93=_0x2ede97['id']);}for await(const _0x5a41bc of _0x1756f3){if(_0x3e91d2['dsGhH'](_0x3e91d2['ZczJj'],_0x3e91d2['ZczJj']))return _0x389bde['data']=_0x3e91d2[_0x199502(0x14f)],_0x1ab364;else{if(_0x3e91d2['syErV'](_0x5a41bc[_0x199502(0x23b)],_0x199502(0x27a)+this[_0x199502(0x156)])){if(_0x3e91d2[_0x199502(0x104)](_0x3e91d2[_0x199502(0x1b1)],_0x3e91d2[_0x199502(0x2ae)])){_0x2870d9[_0x199502(0x276)](_0x3e91d2['SAqnR']);const _0x1b8e24={};_0x1b8e24[_0x199502(0x11a)]=_0x3bdca7[_0x199502(0xf6)],_0x1b8e24[_0x199502(0x1aa)]=_0x3e91d2['SAqnR'],this[_0x199502(0x1bf)][_0x199502(0x1c1)](this[_0x199502(0x161)],_0x1b8e24);const _0x183055={};_0x183055['enabled']=!![];const _0x1a04fb={'workloadIdentity':_0x183055,..._0x57cf1b[_0x199502(0x19a)]};_0x1f2b2e[_0x199502(0x19a)]=_0x1a04fb;}else return!![];}}}return![];}async[a1_0x52b665(0xe6)](_0x381204,_0x2278e4=0x3){const _0x47ca48=a1_0x52b665,_0x3ecdf6={'yeDVl':function(_0x453eb6,_0x1594c2,_0x365670){return _0x453eb6(_0x1594c2,_0x365670);},'MesHG':function(_0xabe313,_0x59548f){return _0xabe313+_0x59548f;},'PEmjU':_0x47ca48(0x134),'pEuBD':function(_0x37f497,_0x44efb4){return _0x37f497-_0x44efb4;},'tjiSQ':function(_0x2086cc,_0x52868c){return _0x2086cc===_0x52868c;},'ghjEa':'yEmLo','rafCN':_0x47ca48(0x18d),'TxHay':function(_0x53b379,_0x16dbd3){return _0x53b379!==_0x16dbd3;},'lgmeU':_0x47ca48(0x15b),'gXcue':function(_0x3c1fc2,_0xd12f00){return _0x3c1fc2===_0xd12f00;},'YYAnz':_0x47ca48(0xfa),'NHeAS':function(_0x303eb7,_0x5b6eb3){return _0x303eb7===_0x5b6eb3;},'RWEvT':_0x47ca48(0x257),'wnuJD':_0x47ca48(0x27c),'Ahgrh':_0x47ca48(0x236),'TBYCq':'2023-01-31','iPSKl':_0x47ca48(0x1b2),'XaKpq':function(_0x187c8e,_0x1652d9){return _0x187c8e<=_0x1652d9;},'qSoZs':'KNQYY','wTexM':_0x47ca48(0x298)};try{if(_0x3ecdf6[_0x47ca48(0x13b)](_0x3ecdf6[_0x47ca48(0x217)],_0x3ecdf6['lgmeU']))_0x1dee34[_0x47ca48(0xf7)](_0x2b0123);else{const _0x62d393=new Array();for await(const _0x506486 of this[_0x47ca48(0x2a9)][_0x47ca48(0x1da)][_0x47ca48(0x1d7)](global_registry[_0x47ca48(0x153)])){_0x3ecdf6[_0x47ca48(0x1fb)](_0x3ecdf6[_0x47ca48(0x178)],_0x3ecdf6[_0x47ca48(0x178)])?_0x62d393[_0x47ca48(0xf7)](_0x506486):_0x3ecdf6[_0x47ca48(0x1d8)](_0x462566,()=>_0x1c8685(),0x3e8);}let _0x4dfbb5='';for await(const _0x5402c9 of _0x62d393){if(_0x3ecdf6[_0x47ca48(0x268)](_0x3ecdf6[_0x47ca48(0x1a5)],_0x3ecdf6['wnuJD'])){const _0x36eb9f=_0x129b15[_0x47ca48(0x174)][_0x47ca48(0x25e)]('-'),_0x41858f=_0x3ecdf6[_0x47ca48(0xef)](_0x3ecdf6[_0x47ca48(0x232)],_0x36eb9f[_0x3ecdf6[_0x47ca48(0x2af)](_0x36eb9f[_0x47ca48(0x16a)],0x1)])[_0x47ca48(0x215)](0x0,0x18);return _0x41858f[_0x47ca48(0x1eb)]();}else _0x3ecdf6[_0x47ca48(0x268)](_0x5402c9[_0x47ca48(0x23b)],_0x381204)&&(_0x3ecdf6[_0x47ca48(0x268)](_0x3ecdf6[_0x47ca48(0x1b9)],_0x3ecdf6[_0x47ca48(0x1b9)])?_0x4dfbb5=_0x5402c9['id']:_0x13b88d[_0x47ca48(0x113)]=![]);}const _0x5741fa=await this['resourceClient']['resources'][_0x47ca48(0x1c6)](_0x4dfbb5,_0x3ecdf6['TBYCq']);return _0x5741fa[_0x47ca48(0x1e0)][_0x47ca48(0x234)];}}catch(_0x57f292){if(_0x3ecdf6[_0x47ca48(0x13b)](_0x3ecdf6['iPSKl'],_0x3ecdf6[_0x47ca48(0x135)]))_0x1f62a6['push'](_0x4550c4);else{if(_0x3ecdf6['XaKpq'](_0x2278e4,0x0))return _0x3ecdf6['NHeAS'](_0x3ecdf6[_0x47ca48(0xdd)],_0x3ecdf6[_0x47ca48(0x22b)])?(_0x2bbc72[_0x47ca48(0x194)](_0x47ca48(0x102)+_0x7bd007+':'+_0x37f4ef['stack']),{}):(logger[_0x47ca48(0x194)]('[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20'+_0x57f292+':'+_0x57f292[_0x47ca48(0x160)]),{});return await new Promise(_0xb630c3=>{const _0x1388c0=_0x47ca48;if(_0x3ecdf6[_0x1388c0(0x1f1)](_0x3ecdf6[_0x1388c0(0x13c)],_0x3ecdf6[_0x1388c0(0x199)]))return;else _0x3ecdf6[_0x1388c0(0x1d8)](setTimeout,()=>_0xb630c3(),0x3e8);}),this['getResourceClientId'](_0x381204,_0x3ecdf6['pEuBD'](_0x2278e4,0x1));}}}async['isBrowserstackCluster'](){const _0x3df3ca=a1_0x52b665,_0x12c729={};_0x12c729[_0x3df3ca(0x212)]=function(_0x1fb875,_0x7df7c7){return _0x1fb875!==_0x7df7c7;},_0x12c729[_0x3df3ca(0x103)]=_0x3df3ca(0x2a1),_0x12c729['baboz']=function(_0x586551,_0x1acd03){return _0x586551===_0x1acd03;},_0x12c729[_0x3df3ca(0x139)]='browserstack:managedBy',_0x12c729[_0x3df3ca(0x26b)]='BrowserStack',_0x12c729[_0x3df3ca(0x128)]=_0x3df3ca(0x280);const _0x3a3262=_0x12c729;if(!this[_0x3df3ca(0x23f)]){if(_0x3a3262[_0x3df3ca(0x212)](_0x3a3262['HCqcp'],_0x3a3262['HCqcp']))return _0x4ab9fd[_0x3df3ca(0x194)](_0x3df3ca(0x277)+_0x1dd428+_0x3df3ca(0x290)+_0x156ec0),[![],[]];else await this[_0x3df3ca(0x274)]();}const _0x2a23e1=this[_0x3df3ca(0x23f)]?.[_0x3df3ca(0x16b)]||{};if(_0x2a23e1&&_0x3a3262['baboz'](_0x2a23e1[_0x3a3262[_0x3df3ca(0x139)]],_0x3a3262['awDfx'])){if(_0x3a3262[_0x3df3ca(0x212)](_0x3a3262[_0x3df3ca(0x128)],_0x3a3262['Myjlw']))_0x1836cc['push'](_0x220221);else return!![];}return![];}async['deleteCluster'](_0x1522d1,_0x39ab8f){const _0x45bec0=a1_0x52b665,_0xa66467={'CpqMJ':function(_0x265f19,_0x3f5b0f){return _0x265f19(_0x3f5b0f);},'XHSjP':'Deleted\x20the\x20cluster\x20successfully'};await _0xa66467[_0x45bec0(0x285)](deleteAgent,_0x1522d1),await _0xa66467[_0x45bec0(0x285)](deleteRoutingDeps,_0x1522d1);const _0x51d0d2=this[_0x45bec0(0x1c3)];logger[_0x45bec0(0x276)](_0x45bec0(0x197)+this['clusterName']),await _0x51d0d2[_0x45bec0(0x1ae)][_0x45bec0(0x21a)](global_registry[_0x45bec0(0x153)],this[_0x45bec0(0x156)]),logger[_0x45bec0(0x276)](_0xa66467[_0x45bec0(0x11d)]);}async[a1_0x52b665(0xe8)](){const _0x4bdefb=a1_0x52b665,_0x136381={};_0x136381[_0x4bdefb(0xf8)]='No\x20CLI\x20tool\x20required',_0x136381['hasTf']=_0x4bdefb(0x1bc),_0x136381[_0x4bdefb(0x170)]=function(_0x31dfd5,_0x39c910){return _0x31dfd5!==_0x39c910;},_0x136381[_0x4bdefb(0x1dd)]='UZAPQ',_0x136381[_0x4bdefb(0x106)]=_0x4bdefb(0x16c),_0x136381[_0x4bdefb(0x21f)]=function(_0xcc3f1f,_0x172ca6){return _0xcc3f1f&&_0x172ca6;},_0x136381['hjJMe']=function(_0x570f32,_0x11fce6){return _0x570f32!==_0x11fce6;},_0x136381[_0x4bdefb(0x115)]=_0x4bdefb(0x278),_0x136381[_0x4bdefb(0x1f2)]=_0x4bdefb(0x1ec),_0x136381['rTmoG']='SSQWn',_0x136381[_0x4bdefb(0x1c4)]=_0x4bdefb(0x154),_0x136381[_0x4bdefb(0x107)]=_0x4bdefb(0x17f),_0x136381['tRtBa']=_0x4bdefb(0x1f6),_0x136381[_0x4bdefb(0x162)]=_0x4bdefb(0x25c),_0x136381[_0x4bdefb(0x1bb)]=function(_0x1c4aad,_0xa73d50){return _0x1c4aad!==_0xa73d50;},_0x136381[_0x4bdefb(0x1b4)]=_0x4bdefb(0x17b);const _0x954922=_0x136381;if(!this['clusterInfo']){if(_0x954922[_0x4bdefb(0x170)](_0x954922[_0x4bdefb(0x1dd)],_0x954922[_0x4bdefb(0x106)]))await this[_0x4bdefb(0x274)]();else return!![];}const _0xae5d54=this[_0x4bdefb(0x23f)],_0x488e8a=this[_0x4bdefb(0x23f)]?.['oidcIssuerProfile']?.[_0x4bdefb(0x144)]||![],_0x4aa700=this['clusterInfo']?.[_0x4bdefb(0x19a)]?.[_0x4bdefb(0x293)]?.[_0x4bdefb(0x144)]||![],_0x385f8e=!this[_0x4bdefb(0x23f)]?.['disableLocalAccounts']||![];if(_0x954922['dBxCa'](_0x488e8a,_0x4aa700)&&_0x385f8e){if(_0x954922[_0x4bdefb(0x12c)](_0x954922[_0x4bdefb(0x115)],_0x954922['NmYfk'])){const _0x53990b={};_0x53990b['status']=!![],_0x53990b['error']=null,_0x53990b[_0x4bdefb(0x243)]=_0x954922[_0x4bdefb(0xf8)];const _0x3013f3=_0x53990b;return _0x3013f3;}else return;}if(!_0x488e8a){if(_0x954922[_0x4bdefb(0x170)](_0x954922[_0x4bdefb(0x1f2)],_0x954922[_0x4bdefb(0x1f4)])){logger[_0x4bdefb(0x276)](_0x954922[_0x4bdefb(0x1c4)]);const _0x4a7c9c={};_0x4a7c9c['type']=WS_EVENTS[_0x4bdefb(0xf6)],_0x4a7c9c['message']=_0x954922[_0x4bdefb(0x1c4)],this['webSocketUtils']['sendEventToBackend'](this[_0x4bdefb(0x161)],_0x4a7c9c),_0xae5d54['oidcIssuerProfile'][_0x4bdefb(0x144)]=!![];}else _0x41b857['push'](_0x32959d);}if(!_0x4aa700){if(_0x954922[_0x4bdefb(0x12c)](_0x954922[_0x4bdefb(0x107)],_0x954922[_0x4bdefb(0x299)])){logger['info'](_0x954922['OjPiB']);const _0x3b5ca9={};_0x3b5ca9['type']=WS_EVENTS[_0x4bdefb(0xf6)],_0x3b5ca9[_0x4bdefb(0x1aa)]=_0x954922[_0x4bdefb(0x162)],this[_0x4bdefb(0x1bf)][_0x4bdefb(0x1c1)](this[_0x4bdefb(0x161)],_0x3b5ca9);const _0x3ac2d6={};_0x3ac2d6[_0x4bdefb(0x144)]=!![],_0xae5d54[_0x4bdefb(0x19a)]={'workloadIdentity':_0x3ac2d6,..._0xae5d54[_0x4bdefb(0x19a)]};}else return[!![],_0x4190d0];}if(!_0x385f8e){if(_0x954922[_0x4bdefb(0x1bb)](_0x954922[_0x4bdefb(0x1b4)],_0x954922[_0x4bdefb(0x1b4)])){_0x115b05[_0x4bdefb(0x276)](_0x954922[_0x4bdefb(0x19d)]);const _0x3089ba={};_0x3089ba[_0x4bdefb(0x11a)]=_0x4504b5['RESOURCES'],_0x3089ba[_0x4bdefb(0x1aa)]=_0x954922['hasTf'],this[_0x4bdefb(0x1bf)]['sendEventToBackend'](this['rws'],_0x3089ba),_0x403380[_0x4bdefb(0x242)]=![];}else{logger[_0x4bdefb(0x276)](_0x954922['hasTf']);const _0x28cf13={};_0x28cf13[_0x4bdefb(0x11a)]=WS_EVENTS['RESOURCES'],_0x28cf13['message']=_0x954922[_0x4bdefb(0x19d)],this[_0x4bdefb(0x1bf)][_0x4bdefb(0x1c1)](this[_0x4bdefb(0x161)],_0x28cf13),_0xae5d54['disableLocalAccounts']=![];}}await this['containerClient']['managedClusters'][_0x4bdefb(0x11b)](global_registry[_0x4bdefb(0x153)],this[_0x4bdefb(0x156)],_0xae5d54),await this[_0x4bdefb(0x274)]();}async[a1_0x52b665(0x250)](){const _0x59f359=a1_0x52b665,_0x3e910c={};_0x3e910c[_0x59f359(0x18c)]=_0x59f359(0xd2),_0x3e910c[_0x59f359(0x1dc)]=function(_0x173a88,_0x7b0fae){return _0x173a88!==_0x7b0fae;},_0x3e910c[_0x59f359(0x120)]=_0x59f359(0x29d),_0x3e910c[_0x59f359(0xdf)]=_0x59f359(0x10c);const _0x4e7725=_0x3e910c,_0x46ffa5=await this['networkClient'][_0x59f359(0x142)]['listAll'](global_registry[_0x59f359(0x153)]),_0x36b5d5={};_0x36b5d5[_0x59f359(0x289)]=global_registry['bstackUsername'],_0x36b5d5['accessKey']=global_registry[_0x59f359(0x244)],_0x36b5d5[_0x59f359(0x152)]=AZURE,_0x36b5d5[_0x59f359(0x2a7)]=[];const _0x1526a0=_0x36b5d5;for await(const _0x30d489 of _0x46ffa5){_0x4e7725[_0x59f359(0x1dc)](_0x4e7725[_0x59f359(0x120)],_0x4e7725[_0x59f359(0xdf)])?_0x1526a0[_0x59f359(0x2a7)]['push'](_0x30d489):(_0x72c312[_0x59f359(0x194)](_0x4e7725[_0x59f359(0x18c)]),_0x1b5416[_0x59f359(0x117)](0x1));}const _0x29ff25={};_0x29ff25[_0x59f359(0x11a)]=WS_EVENTS[_0x59f359(0xf6)],_0x29ff25[_0x59f359(0x1aa)]=_0x1526a0,this[_0x59f359(0x1bf)][_0x59f359(0x1c1)](this[_0x59f359(0x161)],_0x29ff25);}async['isVPCPresent'](_0x4a0da5){const _0x523d3c=a1_0x52b665,_0x1f6436={};_0x1f6436[_0x523d3c(0x240)]=function(_0x1fe91b,_0x29ae52){return _0x1fe91b===_0x29ae52;},_0x1f6436['ZOLKX']=_0x523d3c(0x219),_0x1f6436[_0x523d3c(0x129)]='1|4|2|5|3|0',_0x1f6436[_0x523d3c(0x1ad)]=function(_0x16aade,_0x434a0d){return _0x16aade!==_0x434a0d;},_0x1f6436[_0x523d3c(0x25b)]=_0x523d3c(0x13f),_0x1f6436[_0x523d3c(0x101)]=_0x523d3c(0x283),_0x1f6436[_0x523d3c(0x1c8)]=function(_0x2fc580,_0x329e3e){return _0x2fc580!==_0x329e3e;},_0x1f6436[_0x523d3c(0x227)]=_0x523d3c(0x11f),_0x1f6436[_0x523d3c(0x168)]=function(_0xb1f8b5,_0x8ae9bb){return _0xb1f8b5===_0x8ae9bb;},_0x1f6436[_0x523d3c(0x1ef)]='Wqbqg',_0x1f6436[_0x523d3c(0x1cf)]=_0x523d3c(0x2ab),_0x1f6436[_0x523d3c(0x17c)]=function(_0x5a0653,_0x3424db){return _0x5a0653===_0x3424db;},_0x1f6436[_0x523d3c(0x22e)]=_0x523d3c(0xfb);const _0x32c020=_0x1f6436;try{if(_0x32c020[_0x523d3c(0x1ad)](_0x32c020['KpeRY'],_0x32c020[_0x523d3c(0x101)])){const _0x16ea8b=await this['networkClient'][_0x523d3c(0x142)]['listAll'](global_registry['cloudProviderResourceGroup']);for await(const _0x505203 of _0x16ea8b){if(_0x32c020['eZMvk'](_0x32c020[_0x523d3c(0x227)],_0x32c020['RUQZO']))_0x492fef+=_0x32c020[_0x523d3c(0x240)](_0x248568['length'],0x0)?_0x32c020[_0x523d3c(0x26f)]:'',_0x2daadd[_0x523d3c(0x1c9)](_0x523d3c(0x1ee)+_0x5328d5[_0x523d3c(0x25a)](_0x51a270));else{if(_0x32c020[_0x523d3c(0x168)](_0x505203[_0x523d3c(0x23b)],_0x4a0da5)){if(_0x32c020[_0x523d3c(0x1ad)](_0x32c020[_0x523d3c(0x1ef)],_0x32c020['hVFNc']))return!![];else{if(_0x32c020[_0x523d3c(0x240)](_0x193cef[_0x523d3c(0x23b)],_0x136286))return!![];}}}}}else{const _0x1b960e=_0x32c020[_0x523d3c(0x129)]['split']('|');let _0x59a220=0x0;while(!![]){switch(_0x1b960e[_0x59a220++]){case'0':this['setClients']();continue;case'1':_0xb2ed57[_0x523d3c(0x1a9)]=_0x2e4147[this[_0x523d3c(0x17d)]][_0x523d3c(0x234)];continue;case'2':_0x37f8f7[_0x523d3c(0x29a)]=_0x1c5b3c[this['cloudProviderName']][_0x523d3c(0x130)];continue;case'3':_0x102d3a[_0x523d3c(0x153)]=_0x4d88b5[this[_0x523d3c(0x17d)]]['resourceGroup'];continue;case'4':_0x35c578[_0x523d3c(0x17a)]=_0x34a673[this[_0x523d3c(0x17d)]][_0x523d3c(0x114)];continue;case'5':_0x52fe67[_0x523d3c(0x270)]=_0x18943a[this[_0x523d3c(0x17d)]]['subscriptionId'];continue;}break;}}}catch(_0x2d496c){if(_0x32c020['pIauC'](_0x32c020[_0x523d3c(0x22e)],_0x32c020['eLiGK']))return logger[_0x523d3c(0x194)]('Cannot\x20find\x20VPC\x20'+_0x4a0da5+_0x523d3c(0xea)+_0x2d496c),![];else _0x4550f7['error']=_0x1eb5b6;}return![];}async['isSubnetsValid'](_0x5df7f,_0x5ea822){const _0x44d1c5=a1_0x52b665,_0x1579f2={};_0x1579f2[_0x44d1c5(0x163)]=_0x44d1c5(0x131),_0x1579f2[_0x44d1c5(0xde)]=function(_0x5473d0,_0x517ed5){return _0x5473d0!==_0x517ed5;},_0x1579f2[_0x44d1c5(0x207)]=_0x44d1c5(0x2a8),_0x1579f2[_0x44d1c5(0x18f)]=function(_0x18d3bb,_0x196e3e){return _0x18d3bb===_0x196e3e;},_0x1579f2['rleWc']=_0x44d1c5(0x140),_0x1579f2[_0x44d1c5(0x1f0)]='EPdWP';const _0x156430=_0x1579f2;try{if(_0x156430[_0x44d1c5(0xde)](_0x156430[_0x44d1c5(0x207)],_0x156430['DoASA']))_0x6b300b[_0x44d1c5(0x276)](_0x156430['kQQQV']);else{const _0x55ec9f=await this[_0x44d1c5(0x251)][_0x44d1c5(0x24a)][_0x44d1c5(0x1cc)](global_registry[_0x44d1c5(0x153)],_0x5ea822,_0x5df7f[0x0]);if(_0x156430['wLaZB'](_0x5df7f[0x0],_0x55ec9f[_0x44d1c5(0x23b)])){if(_0x156430[_0x44d1c5(0x18f)](_0x156430[_0x44d1c5(0x222)],_0x156430[_0x44d1c5(0x1f0)]))_0x2220c8['vpcInfo'][_0x44d1c5(0xf7)](_0x2c213e);else return[!![],_0x5df7f];}}}catch(_0x5410d7){return logger['error'](_0x44d1c5(0x277)+_0x5df7f+_0x44d1c5(0x290)+_0x5410d7),[![],[]];}return[![],[]];}async[a1_0x52b665(0xfc)](){const _0x1f42bc=a1_0x52b665,_0x245e3c={};_0x245e3c[_0x1f42bc(0x202)]='No\x20CLI\x20tool\x20required';const _0x153efc=_0x245e3c,_0xe58b91={};_0xe58b91[_0x1f42bc(0x113)]=!![],_0xe58b91[_0x1f42bc(0x194)]=null,_0xe58b91['data']=_0x153efc[_0x1f42bc(0x202)];const _0x453ebb=_0xe58b91;return _0x453ebb;}async[a1_0x52b665(0x10b)](){const _0x58559c=a1_0x52b665,_0x48e085={};_0x48e085[_0x58559c(0x23d)]='https://graph.microsoft.com/.default',_0x48e085[_0x58559c(0x16e)]=_0x58559c(0x1d2),_0x48e085[_0x58559c(0x24d)]=_0x58559c(0x27d);const _0x3c0b94=_0x48e085,_0x413070=await this[_0x58559c(0x287)]['getToken'](_0x3c0b94[_0x58559c(0x23d)]),_0x4d3eac={};_0x4d3eac[_0x58559c(0x1b8)]=_0x3c0b94['tNwlf'],_0x4d3eac[_0x58559c(0x147)]={},_0x4d3eac[_0x58559c(0x147)][_0x58559c(0x2a3)]='Bearer\x20'+_0x413070[_0x58559c(0x1b3)],_0x4d3eac[_0x58559c(0x147)][_0x58559c(0x192)]=_0x3c0b94[_0x58559c(0x24d)];const _0x3ffaa8=_0x4d3eac;return _0x3ffaa8;}async[a1_0x52b665(0x291)](_0x389a17){const _0x5ca733=a1_0x52b665,_0x3449b7={'zYIkU':function(_0x44cf18,_0x223f8c,_0x457fd5){return _0x44cf18(_0x223f8c,_0x457fd5);},'pXPpU':function(_0x3423e2,_0x5abf7c){return _0x3423e2===_0x5abf7c;},'uqWXm':_0x5ca733(0x151)},_0x52fca7={};_0x52fca7['principalId']='',_0x52fca7[_0x5ca733(0x194)]=null;const _0x4811f2=_0x52fca7;try{const _0x1133c7=_0x5ca733(0x180)+_0x389a17+'\x27',_0x4ad345=await this['getHeader'](),_0x2f1f96=await _0x3449b7[_0x5ca733(0x256)](fetch,_0x1133c7,_0x4ad345),_0x54726b=await _0x2f1f96[_0x5ca733(0x173)]();if(!_0x54726b['value']||_0x3449b7[_0x5ca733(0x20b)](_0x54726b['value'][_0x5ca733(0x16a)],0x0))throw new Error(_0x3449b7[_0x5ca733(0x12e)],_0x5ca733(0xcf)+JSON[_0x5ca733(0x25a)](_0x54726b));_0x4811f2['principalId']=_0x54726b[_0x5ca733(0x20f)][0x0]['id'];}catch(_0x16cf9f){_0x4811f2['error']=_0x16cf9f;}return _0x4811f2;}async[a1_0x52b665(0x18e)](){const _0xe8b375=a1_0x52b665,_0x2f68d2={};_0x2f68d2[_0xe8b375(0x127)]=_0xe8b375(0x169),_0x2f68d2[_0xe8b375(0x12f)]=_0xe8b375(0x191),_0x2f68d2[_0xe8b375(0x271)]=function(_0x373736,_0x58b4e0){return _0x373736!==_0x58b4e0;},_0x2f68d2['stfob']=function(_0x7ac022,_0xd18337){return _0x7ac022===_0xd18337;},_0x2f68d2[_0xe8b375(0x2aa)]='No\x20attached\x20role\x20for\x20the\x20client\x20key',_0x2f68d2[_0xe8b375(0x149)]=_0xe8b375(0x1a4),_0x2f68d2[_0xe8b375(0x10e)]=function(_0x31aa0b,_0x5bc36c){return _0x31aa0b===_0x5bc36c;},_0x2f68d2['Hffak']=function(_0x5a1024,_0x24a708){return _0x5a1024===_0x24a708;},_0x2f68d2['ucxzz']='Action\x20permission\x20list\x20is\x20empty\x0a';const _0x5cba11=_0x2f68d2,_0x106c37={};_0x106c37[_0xe8b375(0x113)]=![],_0x106c37[_0xe8b375(0x194)]=null,_0x106c37[_0xe8b375(0x243)]='';const _0x5b8751=_0x106c37;try{let _0x4e9d57='';const _0x82a369=_0xe8b375(0x14d)+global_registry[_0xe8b375(0x270)]+_0xe8b375(0x1d4)+global_registry[_0xe8b375(0x153)],_0x538010=await this[_0xe8b375(0x291)](global_registry[_0xe8b375(0x1a9)]);if(_0x5cba11[_0xe8b375(0x271)](_0x538010[_0xe8b375(0x194)],null))return _0x5b8751[_0xe8b375(0x194)]=_0x538010['error'],_0x5b8751;const _0x4d866b=_0xe8b375(0x1f5)+_0x538010[_0xe8b375(0x28b)]+'\x27)',_0x191325={};_0x191325[_0xe8b375(0x205)]=_0x4d866b;const _0xa18200=await this[_0xe8b375(0x119)]['roleAssignments'][_0xe8b375(0x221)](_0x82a369,_0x191325),_0x4db4b4=[];for await(const _0x5099ee of _0xa18200){_0x4db4b4[_0xe8b375(0xf7)](_0x5099ee);}if(_0x5cba11[_0xe8b375(0xcc)](_0x4db4b4[_0xe8b375(0x16a)],0x0))return _0x5b8751[_0xe8b375(0x243)]=_0x5cba11[_0xe8b375(0x2aa)],_0x5b8751;const _0x4fd56d=[...new Set(_0x4db4b4[_0xe8b375(0x223)](_0x956a0b=>_0x956a0b[_0xe8b375(0x231)]))];if(_0x5cba11[_0xe8b375(0xcc)](_0x4fd56d[_0xe8b375(0x16a)],0x0))return _0x5b8751[_0xe8b375(0x243)]=_0x5cba11[_0xe8b375(0x149)],_0x5b8751;const _0x51cadb=[],_0x52fb39=[];for(const _0x7e556e of _0x4fd56d){const _0x424eff=await this['authClient'][_0xe8b375(0x1e9)][_0xe8b375(0x1c6)](_0x7e556e);logger['debug']('role\x20name\x20attached\x20-\x20'+_0x424eff['roleName']),_0x51cadb[_0xe8b375(0xf7)](_0x424eff),logger['debug']('Attached\x20permissions\x20:\x20'+JSON[_0xe8b375(0x25a)](_0x424eff[_0xe8b375(0xf0)])),_0x424eff[_0xe8b375(0xf0)][_0xe8b375(0xd1)](_0x2c1661=>{const _0x3bcf6d=_0xe8b375;_0x52fb39['push'](..._0x2c1661[_0x3bcf6d(0x272)]);});}logger[_0xe8b375(0x1c9)]('actionPermission\x20:\x20'+JSON['stringify'](_0x52fb39)),_0x5cba11['fvJUq'](_0x52fb39[_0xe8b375(0x16a)],0x0)&&(_0x4e9d57+=_0x5cba11[_0xe8b375(0x262)](_0x52fb39[_0xe8b375(0x16a)],0x0)?_0x5cba11[_0xe8b375(0x172)]:'',logger[_0xe8b375(0x1c9)](_0xe8b375(0x1ee)+JSON[_0xe8b375(0x25a)](_0x51cadb))),_0x5b8751['status']=!![],Object['entries'](PERMISSIONS['ACTION'])[_0xe8b375(0xd1)](([_0x4e03d1,_0x5b5fff])=>{const _0x1b98eb=_0xe8b375,_0x112adb=_0x52fb39[_0x1b98eb(0x164)](_0x4e03d1);_0x4e9d57+='\x0a\x09'+_0x5b5fff+':\x20'+(_0x112adb?_0x5cba11[_0x1b98eb(0x127)]:_0x5cba11['HsAqY']),!_0x112adb&&(_0x5b8751[_0x1b98eb(0x113)]=![]);}),_0x5b8751[_0xe8b375(0x243)]=_0x4e9d57;}catch(_0x1a1d64){_0x5b8751[_0xe8b375(0x194)]=_0x1a1d64;}return _0x5b8751;}}const a1_0x4d137d={};function a1_0x4cda(_0x5bfa1a,_0x1d30be){const _0xa439d1=a1_0xa439();return a1_0x4cda=function(_0x4cdac4,_0x48c877){_0x4cdac4=_0x4cdac4-0xcc;let _0x484108=_0xa439d1[_0x4cdac4];return _0x484108;},a1_0x4cda(_0x5bfa1a,_0x1d30be);}a1_0x4d137d[a1_0x52b665(0xd7)]=AzureCloudProvider,module['exports']=a1_0x4d137d;