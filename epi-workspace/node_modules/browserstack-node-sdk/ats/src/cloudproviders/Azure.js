function a1_0x143b(){const _0x415782=['cloudProviderTenantId','FBUeC','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','hqbmD','Goege','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','KoNON','push','hubHaNameSpace','XhDTO','hubharesources','HrqOn','xRELS','policy','storageClient','AnhVC','type','lHxGK','ErTMv','aPJFc','GJXOn','YtcIY','hostname','arDnc','hFidy','getClusterInfo','turboscale-storageaccount-deployment','OKXsU','cuKQL','vnetSubnetID','vpcName','managementPolicies','setupNewCluster','default','listByResourceGroup','TeDiT','createFederatedAccountForHubHA','storageAccounts','getGridHostname','GmMhG','s3Bucket','parse','cloudProviderResourceGroup','[variables(\x27vnetSubnetID\x27)]','ndPIg','2|3|0|1|4|5','Deleted\x20the\x20cluster\x20successfully','gtqln','DhVFy','quHUg','tags','createManagedIdentity','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','teHsy','Ojtai','iIsve','securityProfile','BmZxq','rKUKP','oiYAx','iPgxJ','Found\x20only\x20one\x20resource\x20group:\x20','createStorageAccount','\x20CLIENT\x20SECRET:\x20','dbxrH','rzyBx','PdSkA','exit','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','lsQGj','turboscale','dMMMi','SGteq','rwWvX','TjhQz','subnetName','4|0|5|1|2|3','join','string','RrECd','filters','dzNPn','QEoXR','NfLER','metadata','issuerURL','../config/constants','1979661xByFSW','chEqk','\x20CLIENT\x20ID:\x20','hqbMC','AzureCloudProvider','Cannot\x20find\x20VPC\x20','Storage\x20account\x20already\x20exists,\x20skipping','DWnvO','cloudProviderName','jycYq','storageaccount.json','RESOURCES','setClients','tUhib','fyfiI','ndBAj','isManagedIdentityPresent','zdQWG','GkNfb','maxNodes','sQsaf','opQyb','loadBalancer','subscriptionId','pxSWg','IAmxm','rws','pJwQU','GEDqq','3618510wySYpr','Incremental','tpetw','hub','OQthi','lpTDo','log','wpUjG','Qhyoc','instanceType','resourceGroup','jruyW','npXtY','baseBlob','UpVlo','Deleting\x20the\x20cluster\x20','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','definition','cloudProviderSubscriptionId','managedidentity.json','agentPoolProfiles','\x20RESOURCE\x20GROUP:\x20','clusterInfo','getResourceClientId','name','UuDOY','DeoAt','clusterName','uemmd','cloudProvider','Enabling\x20Local\x20account\x20for\x20the\x20cluster','@azure/arm-resources','QGVoS','2023-01-31','NNXkp','mINiV','jJwnW','workloadIdentity','zRCpB','gridName','properties','bGXmW','ikwjq','VFcFS','lbuox','IyopA','qrtyc','LOG','getResourceGroups','kRNUZ','templates','HDwGu','rJqFp','JxQiR','value','@azure/identity','getKubeConfigData','Dketf','userInstanceType','gAJmu','mGQfH','BbsaZ','cAnqU','rFPxP','blockBlob','../config/logger','variables','glfoW','status','federatedidentityuploader.json','akscluster.json','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','xInIr','BrowserStack','IOING','virtualNetworks','IyBhf','getStorageAccountName','ingress','setupHubHa','.\x20Error:\x20','createOtherResources','SAlyM','pxXzj','managedClusters','turboscale-managed-identity-','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','XZrFZ','Ujhjv','azureresources','setCachedCredsInRegistry','JknZV','toLowerCase','IPIOp','ClZqw','Phsfq','RjiFb','browserstack:managedBy','../utils/gridComponents','HSErQ','js-yaml','listAll','yIiZv','SPMkP','oidcIssuerProfile','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','IEPsy','MNcYW','createOrUpdate','networkClient','QWwNi','tzmQT','NnQXS','YaTjJ','qxqxY','node','RiMCA','FuFVy','ryDez','ofpLq','AVinT','DYqrN','list','5GOgiBZ','JuZAG','turboscale-cluster-deployment','mpyhs','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','init','muEGc','wGxzU','username','sendEventToBackend','uKdYk','subnets','feGmw','HrQup','jAOVg','readFileAsync','description','bnQQB','utf-8','hKARs','DtKIB','rules','parameters','xYMAg','AUrYc','toString','.json','iMREu','sendAzureInfoToHST','sbSat','VdzOa','enabled','cloudProviderClientId','clientId','GKmcD','info','beginCreateOrUpdateAndWait','@azure/arm-storage','eKEQl','length','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','createCluster','22TRacTM','FExNX','clusterRegion','63CXTNMX','get','qZlpi','yiOBu','TOtYW','byOKN','HNvqS','message','oxiLI','HVhjU','webSocketUtils','resourceGroups','resourceClient','NGCXb','Created\x20Azure\x20federated\x20identity','isStorageAccountPresent','clientSecret','cloudProviderClientSecret','fHePb','xNmIp','vpcInfo','sFmSF','RLNuy','6vMMcao','KYZqN','eVeVk','LMLKE','oBDLF','@azure/arm-network','xfuUq','disableLocalAccounts','Cannot\x20find\x20subnets\x20','getById','Orhqc','actions','skMaL','listClusterAdminCredentials','5450564Nqfewy','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','qAIWn','ywBbS','DGqTS','XzppT','split','YoTbr','qQkGf','aLXpv','541928YlSHFu','\x20SUBSCRIPTION\x20ID:\x20','@azure/arm-containerservice','Blob\x20delete\x20lifecycle','resources','tdmIJ','turboscale-federated-deployment','zuMfD','sPkAl','oaJla','oLrzZ','bstackUsername','qwUpX','DWvot','YhNFi','318785jxVFRj','iTTQQ','KLWnw','UmDTL','183868dogVUn','cjqup','ALezJ','XBCHx','isSubnetsValid','rQjif','tenantId','xSbxl','JlZXL','AUiNb','kubeconfigs','cvroX','turboscale-identity-deployment','gPqdj','HYYYl','638702hHQsej','nPdld','QvSFQ','nsChc','Creating\x20Azure\x20managed\x20identity','BuiWo','toUpperCase','gykuU','deployments','2|3|1|5|0|4','kNfYJ','isVPCPresent','CdBOm','CHywW','error','isBrowserstackCluster','containerClient','FBRHV','YmKhG','ZmXzH','slice','JXcvH','usVeA'];a1_0x143b=function(){return _0x415782;};return a1_0x143b();}const a1_0x33ebb1=a1_0x1c2f;(function(_0x2d7df2,_0x587649){const _0x5a82d8=a1_0x1c2f,_0x249215=_0x2d7df2();while(!![]){try{const _0x201104=parseInt(_0x5a82d8(0x21e))/0x1+parseInt(_0x5a82d8(0x231))/0x2+-parseInt(_0x5a82d8(0x11b))/0x3+parseInt(_0x5a82d8(0x222))/0x4*(parseInt(_0x5a82d8(0x1b3))/0x5)+-parseInt(_0x5a82d8(0x1f7))/0x6*(-parseInt(_0x5a82d8(0x205))/0x7)+-parseInt(_0x5a82d8(0x20f))/0x8*(-parseInt(_0x5a82d8(0x1e0))/0x9)+parseInt(_0x5a82d8(0x138))/0xa*(-parseInt(_0x5a82d8(0x1dd))/0xb);if(_0x201104===_0x587649)break;else _0x249215['push'](_0x249215['shift']());}catch(_0x900da){_0x249215['push'](_0x249215['shift']());}}}(a1_0x143b,0x87189));const fs=require('fs'),path=require('path'),yaml=require(a1_0x33ebb1(0x19c)),{logger}=require(a1_0x33ebb1(0x179)),{CloudProvider}=require('./CloudProvider'),{deleteRoutingDeps,deleteAgent}=require(a1_0x33ebb1(0x19a)),{AZURE,WS_EVENTS,global_registry}=require(a1_0x33ebb1(0x11a)),{ClientSecretCredential}=require(a1_0x33ebb1(0x16f)),{NetworkManagementClient}=require(a1_0x33ebb1(0x1fc)),{StorageManagementClient}=require(a1_0x33ebb1(0x1d8)),{ResourceManagementClient}=require(a1_0x33ebb1(0x157)),{ContainerServiceClient}=require(a1_0x33ebb1(0x211));function a1_0x1c2f(_0xbd41a4,_0x55f865){const _0x143b04=a1_0x143b();return a1_0x1c2f=function(_0x1c2f2a,_0x3761ea){_0x1c2f2a=_0x1c2f2a-0xf9;let _0x1d8efd=_0x143b04[_0x1c2f2a];return _0x1d8efd;},a1_0x1c2f(_0xbd41a4,_0x55f865);}class AzureCloudProvider extends CloudProvider{constructor(_0x15cf23,_0x2514c2,_0x39a76a,_0x598c0c){const _0x2a1a98=a1_0x33ebb1,_0x4173dd={};_0x4173dd['iTTQQ']='4|3|0|2|1|5';const _0x41c616=_0x4173dd,_0x334241=_0x41c616[_0x2a1a98(0x21f)]['split']('|');let _0x45be32=0x0;while(!![]){switch(_0x334241[_0x45be32++]){case'0':this['containerClient']=null;continue;case'1':this[_0x2a1a98(0x1ec)]=null;continue;case'2':this[_0x2a1a98(0x256)]=null;continue;case'3':this[_0x2a1a98(0x14e)]=null;continue;case'4':super(AZURE,_0x15cf23,_0x2514c2,_0x39a76a,_0x598c0c);continue;case'5':this[_0x2a1a98(0x1a5)]=null;continue;}break;}}async['init'](){const _0x56232a=a1_0x33ebb1;return await super[_0x56232a(0x1b8)](),this;}[a1_0x33ebb1(0x127)](){const _0x4104d7=a1_0x33ebb1,_0x39560d=new ClientSecretCredential(global_registry[_0x4104d7(0x248)],global_registry['cloudProviderClientId'],global_registry[_0x4104d7(0x1f1)]);this[_0x4104d7(0x241)]=new ContainerServiceClient(_0x39560d,global_registry['cloudProviderSubscriptionId']),this[_0x4104d7(0x256)]=new StorageManagementClient(_0x39560d,global_registry[_0x4104d7(0x14a)]),this[_0x4104d7(0x1ec)]=new ResourceManagementClient(_0x39560d,global_registry[_0x4104d7(0x14a)]),this[_0x4104d7(0x1a5)]=new NetworkManagementClient(_0x39560d,global_registry[_0x4104d7(0x14a)]);}[a1_0x33ebb1(0x185)](){const _0x17339=a1_0x33ebb1,_0x10962b={};_0x10962b[_0x17339(0x16d)]=function(_0x50b408,_0x4ad683){return _0x50b408+_0x4ad683;},_0x10962b[_0x17339(0x1af)]=_0x17339(0x10a),_0x10962b[_0x17339(0x10d)]=function(_0x3c3c9d,_0x11a403){return _0x3c3c9d-_0x11a403;};const _0x4eec46=_0x10962b,_0x3abe8b=global_registry['s3Bucket'][_0x17339(0x20b)]('-'),_0x25bb80=_0x4eec46[_0x17339(0x16d)](_0x4eec46[_0x17339(0x1af)],_0x3abe8b[_0x4eec46[_0x17339(0x10d)](_0x3abe8b[_0x17339(0x1da)],0x1)])['slice'](0x0,0x18);return _0x25bb80['toLowerCase']();}[a1_0x33ebb1(0x192)](_0x20b5e4){const _0x982267=a1_0x33ebb1,_0x5512dc={};_0x5512dc['XBCHx']=_0x982267(0x275);const _0x5cc681=_0x5512dc,_0x697893=_0x5cc681[_0x982267(0x225)][_0x982267(0x20b)]('|');let _0x163f80=0x0;while(!![]){switch(_0x697893[_0x163f80++]){case'0':global_registry[_0x982267(0x248)]=_0x20b5e4[this['cloudProviderName']]['tenantId'];continue;case'1':global_registry[_0x982267(0x14a)]=_0x20b5e4[this[_0x982267(0x123)]]['subscriptionId'];continue;case'2':global_registry[_0x982267(0x1d3)]=_0x20b5e4[this['cloudProviderName']]['clientId'];continue;case'3':global_registry[_0x982267(0x1f1)]=_0x20b5e4[this[_0x982267(0x123)]]['clientSecret'];continue;case'4':global_registry[_0x982267(0x272)]=_0x20b5e4[this[_0x982267(0x123)]]['resourceGroup'];continue;case'5':this[_0x982267(0x127)]();continue;}break;}}async['getUserInput'](_0x55e5d3,_0x4311a4){const _0x106796=a1_0x33ebb1,_0x1f8624={'fyfiI':_0x106796(0x24d),'GJXOn':function(_0x2cd7d4,_0xc3312e){return _0x2cd7d4(_0xc3312e);},'qAIWn':function(_0xd57edb,_0x1fbfa6){return _0xd57edb(_0x1fbfa6);},'AUiNb':function(_0x3a6d2f,_0xc8a6df){return _0x3a6d2f===_0xc8a6df;},'icxJd':function(_0x4fedb8,_0x23cfe1){return _0x4fedb8===_0x23cfe1;},'qnDSN':_0x106796(0xff),'ywBbS':_0x106796(0x1fd),'rKUKP':function(_0x48ef40,_0x6fffe6){return _0x48ef40(_0x6fffe6);},'OKXsU':function(_0x24a12a,_0x3d97f4){return _0x24a12a===_0x3d97f4;},'Orhqc':function(_0x16bf78,_0xc217d9){return _0x16bf78!==_0xc217d9;},'DYqrN':_0x106796(0x1ad),'AnhVC':function(_0x570b36,_0xd562c2){return _0x570b36(_0xd562c2);},'YhNFi':function(_0x315f34,_0x2e805b){return _0x315f34===_0x2e805b;},'JuZAG':function(_0x383181,_0x3839fb){return _0x383181===_0x3839fb;},'Goege':function(_0x52a27f,_0x302284){return _0x52a27f===_0x302284;},'eVeVk':function(_0x58e1b6,_0x5a1886){return _0x58e1b6!==_0x5a1886;},'byOKN':_0x106796(0x1cb),'jycYq':_0x106796(0x158),'usVeA':'saIIt','TsRye':'sBVee','MwOyY':_0x106796(0x162),'qxqxY':'MDYAH','TeDiT':function(_0x10e00c,_0x2dcb55){return _0x10e00c<_0x2dcb55;},'vxSQl':function(_0x4ba3fb,_0x2eaa60){return _0x4ba3fb===_0x2eaa60;},'feGmw':_0x106796(0x177),'PzQKn':_0x106796(0x1ca),'FExNX':function(_0x52646b,_0x3877fb){return _0x52646b+_0x3877fb;},'zuMfD':_0x106796(0x1a1),'PvLvn':function(_0xfdb5cf,_0x57a045){return _0xfdb5cf(_0x57a045);},'ErTMv':function(_0x4e1c76,_0x402fc7){return _0x4e1c76<=_0x402fc7;},'hSPjf':function(_0x79e2d4,_0x568a71){return _0x79e2d4>_0x568a71;},'Phsfq':_0x106796(0x230),'yEOOj':function(_0x4abfe0,_0x4518c7){return _0x4abfe0-_0x4518c7;}},_0x14ab69=this[_0x106796(0x123)][_0x106796(0x237)](),_0x49a340=await _0x1f8624[_0x106796(0x25c)](_0x55e5d3,_0x14ab69+_0x106796(0x11d)),_0x43d866=await _0x1f8624[_0x106796(0x207)](_0x55e5d3,_0x14ab69+_0x106796(0x103)),_0x549cb9=await _0x1f8624[_0x106796(0x207)](_0x55e5d3,_0x14ab69+'\x20TENANT\x20ID:\x20'),_0x168507=await _0x1f8624[_0x106796(0x25c)](_0x55e5d3,_0x14ab69+_0x106796(0x210));global_registry[_0x106796(0x1d3)]=_0x49a340,global_registry['cloudProviderClientSecret']=_0x43d866,global_registry[_0x106796(0x248)]=_0x549cb9,global_registry['cloudProviderSubscriptionId']=_0x168507,this[_0x106796(0x127)]();const _0x8dd2cc=await this[_0x106796(0x168)](),_0x4b8a98=_0x8dd2cc[_0x106796(0x1da)];let _0x4d50ce;if(_0x1f8624[_0x106796(0x22b)](_0x4b8a98,0x0)){if(_0x1f8624['icxJd'](_0x1f8624['qnDSN'],_0x1f8624[_0x106796(0x208)]))return!![];else _0x4d50ce=await _0x1f8624[_0x106796(0xfe)](_0x55e5d3,_0x14ab69+_0x106796(0x14d));}else{if(_0x1f8624[_0x106796(0x263)](_0x4b8a98,0x1)){if(_0x1f8624[_0x106796(0x201)](_0x1f8624[_0x106796(0x1b1)],_0x1f8624['DYqrN']))_0x22b1d2[_0x106796(0x23f)](_0x1f8624[_0x106796(0x129)]),_0x2f3a1d[_0x106796(0x107)](0x1);else{const _0x2eedbe=await _0x1f8624[_0x106796(0x257)](_0x55e5d3,_0x106796(0x101)+_0x8dd2cc[0x0]+_0x106796(0x1db));if(_0x1f8624[_0x106796(0x21d)](_0x2eedbe,undefined)||_0x1f8624[_0x106796(0x1b4)](_0x2eedbe,null)||!(_0x1f8624[_0x106796(0x22b)](_0x2eedbe['toLowerCase'](),'y')||_0x1f8624[_0x106796(0x24c)](_0x2eedbe[_0x106796(0x194)](),'n'))){if(_0x1f8624[_0x106796(0x1f9)](_0x1f8624[_0x106796(0x1e5)],_0x1f8624[_0x106796(0x124)]))console[_0x106796(0x23f)](_0x1f8624[_0x106796(0x129)]),process[_0x106796(0x107)](0x1);else return!![];}_0x1f8624[_0x106796(0x263)](_0x2eedbe[_0x106796(0x194)](),'n')&&(_0x1f8624['Orhqc'](_0x1f8624[_0x106796(0x247)],_0x1f8624['TsRye'])?process['exit'](0x0):_0x5ca6ed[_0x106796(0x107)](0x0)),_0x4d50ce=_0x8dd2cc[0x0];}}else{if(_0x1f8624['Orhqc'](_0x1f8624['MwOyY'],_0x1f8624[_0x106796(0x1aa)])){for(let _0x5a7b17=0x0;_0x1f8624[_0x106796(0x26b)](_0x5a7b17,_0x8dd2cc[_0x106796(0x1da)]);_0x5a7b17+=0x1){if(_0x1f8624['vxSQl'](_0x1f8624[_0x106796(0x1bf)],_0x1f8624['PzQKn']))return!![];else console[_0x106796(0x13e)]('['+_0x1f8624[_0x106796(0x1de)](_0x5a7b17,0x1)+']\x20'+_0x8dd2cc[_0x5a7b17]);}const _0x146896=await _0x1f8624['qAIWn'](_0x55e5d3,_0x1f8624[_0x106796(0x216)]),_0xb23172=_0x1f8624['PvLvn'](Number,_0x146896);if(_0x1f8624['qAIWn'](isNaN,_0xb23172)||_0x1f8624[_0x106796(0x25a)](_0xb23172,0x0)||_0x1f8624['hSPjf'](_0xb23172,_0x4b8a98)){if(_0x1f8624[_0x106796(0x1f9)](_0x1f8624[_0x106796(0x197)],_0x1f8624[_0x106796(0x197)]))return _0x370160['error'](_0x106796(0x1ff)+_0x3fa571+'.\x20Error:\x20'+_0x507c9e),[![],[]];else console[_0x106796(0x23f)](_0x1f8624[_0x106796(0x129)]),process[_0x106796(0x107)](0x1);}_0x4d50ce=_0x8dd2cc[_0x1f8624['yEOOj'](_0xb23172,0x1)];}else _0x11eb8a=_0x47936d['id'];}}global_registry[_0x106796(0x272)]=_0x4d50ce;const _0x4eef46={};return _0x4eef46[_0x106796(0x1d4)]=_0x49a340,_0x4eef46['clientSecret']=_0x43d866,_0x4eef46['tenantId']=_0x549cb9,_0x4eef46[_0x106796(0x132)]=_0x168507,_0x4eef46[_0x106796(0x142)]=_0x4d50ce,_0x4311a4[_0x106796(0x155)][AZURE]=_0x4eef46,_0x4311a4;}async['getResourceGroups'](){const _0x454402=a1_0x33ebb1,_0x10aff6={};_0x10aff6[_0x454402(0x140)]='Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster',_0x10aff6['CgZYM']=function(_0x939af6,_0x2db41d){return _0x939af6!==_0x2db41d;},_0x10aff6[_0x454402(0x217)]='sDDxY',_0x10aff6['hqbmD']=function(_0x3de172,_0x4351ce){return _0x3de172===_0x4351ce;},_0x10aff6[_0x454402(0x11e)]=_0x454402(0x1e2),_0x10aff6[_0x454402(0x24e)]='HPKMZ';const _0x5e63a1=_0x10aff6,_0x2adfc7=[];try{if(_0x5e63a1['CgZYM'](_0x5e63a1[_0x454402(0x217)],_0x5e63a1['sPkAl'])){_0x3339f4[_0x454402(0x1d6)](_0x5e63a1['Qhyoc']);const _0x166e20={};_0x166e20['type']=_0x336b6a[_0x454402(0x126)],_0x166e20[_0x454402(0x1e7)]=_0x5e63a1[_0x454402(0x140)],this[_0x454402(0x1ea)][_0x454402(0x1bc)](this['rws'],_0x166e20),_0x256565[_0x454402(0x1a0)]['enabled']=!![];}else{const _0x34153f=await this[_0x454402(0x1ec)][_0x454402(0x1eb)][_0x454402(0x1b2)]();for await(const _0x5bbe46 of _0x34153f){_0x5e63a1[_0x454402(0x24b)](_0x5e63a1[_0x454402(0x11e)],_0x5e63a1[_0x454402(0x24e)])?_0x350c81[_0x454402(0x24f)](_0x51e79c[_0x454402(0x150)]):_0x2adfc7[_0x454402(0x24f)](_0x5bbe46[_0x454402(0x150)]);}}}catch(_0x259957){}return _0x2adfc7;}async[a1_0x33ebb1(0x261)](){const _0x305350=a1_0x33ebb1;return this[_0x305350(0x14e)]=await this[_0x305350(0x241)][_0x305350(0x18c)]['get'](global_registry['cloudProviderResourceGroup'],this['clusterName']),this[_0x305350(0x14e)];}async[a1_0x33ebb1(0x170)](){const _0x498991=a1_0x33ebb1,_0x364a15=await this['containerClient'][_0x498991(0x18c)][_0x498991(0x204)](global_registry['cloudProviderResourceGroup'],this['clusterName']),_0x3064e7=_0x364a15[_0x498991(0x22c)][0x0][_0x498991(0x16e)][_0x498991(0x1cc)]();return _0x3064e7;}[a1_0x33ebb1(0x26e)](_0x521f1c){const _0x2a69ee=a1_0x33ebb1;return _0x521f1c[_0x2a69ee(0x17c)]['loadBalancer'][_0x2a69ee(0x186)][0x0][_0x2a69ee(0x25e)];}async['isClusterPresent'](){const _0x3f4fbd=a1_0x33ebb1,_0x1d2ff8={};_0x1d2ff8['GEDqq']=function(_0x5883c0,_0x1b2487){return _0x5883c0+_0x1b2487;},_0x1d2ff8[_0x3f4fbd(0x1ed)]=function(_0x52875d,_0x9d3e92){return _0x52875d===_0x9d3e92;},_0x1d2ff8[_0x3f4fbd(0x1b0)]=_0x3f4fbd(0x161),_0x1d2ff8[_0x3f4fbd(0xfa)]=function(_0x50e8fa,_0x2791a8){return _0x50e8fa!==_0x2791a8;},_0x1d2ff8[_0x3f4fbd(0x169)]=_0x3f4fbd(0x133),_0x1d2ff8[_0x3f4fbd(0x1c4)]=_0x3f4fbd(0xfb),_0x1d2ff8[_0x3f4fbd(0x1e3)]=function(_0x4cd511,_0x32c1aa){return _0x4cd511===_0x32c1aa;},_0x1d2ff8[_0x3f4fbd(0x1e6)]=function(_0x7c241d,_0x410ae2){return _0x7c241d!==_0x410ae2;},_0x1d2ff8[_0x3f4fbd(0x15a)]=_0x3f4fbd(0x1a2),_0x1d2ff8[_0x3f4fbd(0x143)]=_0x3f4fbd(0x18f);const _0x1a6312=_0x1d2ff8,_0x4f49ef=new Array();for await(const _0x4f4f4a of this['containerClient'][_0x3f4fbd(0x18c)]['listByResourceGroup'](global_registry[_0x3f4fbd(0x272)])){_0x1a6312[_0x3f4fbd(0x1ed)](_0x1a6312[_0x3f4fbd(0x1b0)],_0x1a6312['AVinT'])?_0x4f49ef[_0x3f4fbd(0x24f)](_0x4f4f4a):_0x3024c3['log']('['+_0x1a6312[_0x3f4fbd(0x137)](_0x52de9d,0x1)+']\x20'+_0x45f332[_0x49855d]);}for await(const _0x12111e of _0x4f49ef){if(_0x1a6312['Ojtai'](_0x1a6312['kRNUZ'],_0x1a6312['bnQQB'])){if(_0x1a6312['yiOBu'](_0x12111e[_0x3f4fbd(0x150)],this[_0x3f4fbd(0x153)])){if(_0x1a6312[_0x3f4fbd(0x1e6)](_0x1a6312[_0x3f4fbd(0x15a)],_0x1a6312[_0x3f4fbd(0x143)]))return await this[_0x3f4fbd(0x261)](),!![];else _0x2c0f06[_0x3f4fbd(0x1f4)][_0x3f4fbd(0x24f)](_0x250336);}}else return _0xb96e27[_0x3f4fbd(0x23f)]('Cannot\x20find\x20VPC\x20'+_0x61011d+_0x3f4fbd(0x18e)+_0x58d030),![];}return![];}async[a1_0x33ebb1(0x268)](_0x1a1bec=null,_0x56d5ba=null){const _0x213ac2=a1_0x33ebb1,_0xc6a99f={};_0xc6a99f['FXElk']=_0x213ac2(0x110),_0xc6a99f[_0x213ac2(0x1c6)]=_0x213ac2(0x148);const _0x5bcf35=_0xc6a99f,_0x70f1c7=_0x5bcf35['FXElk']['split']('|');let _0x13f771=0x0;while(!![]){switch(_0x70f1c7[_0x13f771++]){case'0':const _0x12ce56={};_0x12ce56['type']=WS_EVENTS[_0x213ac2(0x167)],_0x12ce56['message']=_0x5bcf35[_0x213ac2(0x1c6)],this[_0x213ac2(0x1ea)][_0x213ac2(0x1bc)](this['rws'],_0x12ce56);continue;case'1':await this['createCluster'](_0x1a1bec,_0x56d5ba);continue;case'2':await this[_0x213ac2(0x189)]();continue;case'3':return[_0x1a1bec,_0x56d5ba];case'4':this['sendAzureInfoToHST']();continue;case'5':logger[_0x213ac2(0x1d6)](_0x5bcf35[_0x213ac2(0x1c6)]);continue;}break;}}async[a1_0x33ebb1(0x1dc)](_0x440c92=null,_0x1a9bee=null){const _0x443d31=a1_0x33ebb1,_0x46ac8d={};_0x46ac8d[_0x443d31(0x16c)]='Enabling\x20Local\x20account\x20for\x20the\x20cluster',_0x46ac8d['glfoW']=_0x443d31(0x16a),_0x46ac8d['HDwGu']=_0x443d31(0x191),_0x46ac8d[_0x443d31(0x15c)]=_0x443d31(0x17e),_0x46ac8d['fHePb']='utf-8',_0x46ac8d['ALezJ']=function(_0x19b54f,_0x393384){return _0x19b54f!==_0x393384;},_0x46ac8d[_0x443d31(0x136)]=function(_0x354f77,_0x3720c3){return _0x354f77!==_0x3720c3;},_0x46ac8d[_0x443d31(0x20a)]=function(_0x3f9c6d,_0x2e2a86){return _0x3f9c6d===_0x2e2a86;},_0x46ac8d[_0x443d31(0x254)]='teAkm',_0x46ac8d[_0x443d31(0x1a6)]=_0x443d31(0x112),_0x46ac8d[_0x443d31(0x1d0)]=_0x443d31(0x206),_0x46ac8d['UuDOY']=_0x443d31(0x24a),_0x46ac8d[_0x443d31(0x209)]=_0x443d31(0x273),_0x46ac8d[_0x443d31(0x163)]=_0x443d31(0x1b5),_0x46ac8d[_0x443d31(0x12a)]=_0x443d31(0x139);const _0x13b604=_0x46ac8d;let _0x35c1c7=await fs[_0x443d31(0x1c2)](path[_0x443d31(0x111)](__dirname,'..',_0x13b604[_0x443d31(0x17b)],_0x13b604[_0x443d31(0x16b)],_0x13b604[_0x443d31(0x15c)]),_0x13b604[_0x443d31(0x1f2)]);_0x35c1c7=JSON[_0x443d31(0x271)](_0x35c1c7);const _0x5c2c35={};_0x5c2c35['value']=this[_0x443d31(0x153)];const _0x164947={};_0x164947[_0x443d31(0x16e)]=global_registry[_0x443d31(0x1df)];const _0x253337={};_0x253337[_0x443d31(0x16e)]=global_registry[_0x443d31(0x141)];const _0x4e5fd3={};_0x4e5fd3['value']=global_registry[_0x443d31(0x12e)];const _0x3358e6={};_0x3358e6[_0x443d31(0x153)]=_0x5c2c35,_0x3358e6['location']=_0x164947,_0x3358e6[_0x443d31(0x172)]=_0x253337,_0x3358e6['userMaxNodes']=_0x4e5fd3;let _0x1a0aa2=_0x3358e6;if(_0x13b604[_0x443d31(0x224)](_0x440c92,null)&&_0x13b604[_0x443d31(0x136)](_0x1a9bee,null)){if(_0x13b604['XzppT'](_0x13b604[_0x443d31(0x254)],_0x13b604['xRELS'])){const _0x4af1bd={};_0x4af1bd[_0x443d31(0x258)]=_0x13b604[_0x443d31(0x1a6)],_0x4af1bd['metadata']={},_0x4af1bd['metadata']['description']=_0x13b604[_0x443d31(0x1d0)];const _0x35f60c={};_0x35f60c['type']=_0x13b604[_0x443d31(0x1a6)],_0x35f60c[_0x443d31(0x118)]={},_0x35f60c[_0x443d31(0x118)]['description']=_0x13b604[_0x443d31(0x1d0)],_0x35c1c7[_0x443d31(0x1c9)]={..._0x35c1c7['parameters'],'vpcName':_0x4af1bd,'subnetName':_0x35f60c};const _0x355a75={};_0x355a75[_0x443d31(0x265)]=_0x13b604[_0x443d31(0x151)],_0x35c1c7['variables']=_0x355a75,_0x35c1c7[_0x443d31(0x213)][0x0][_0x443d31(0x160)][_0x443d31(0x14c)][0x0]={..._0x35c1c7['resources'][0x0][_0x443d31(0x160)][_0x443d31(0x14c)][0x0],'vnetSubnetID':_0x13b604[_0x443d31(0x209)]};const _0xcb9aa8={};_0xcb9aa8[_0x443d31(0x16e)]=_0x440c92;const _0xfc44bd={};_0xfc44bd['value']=_0x1a9bee[0x0],_0x1a0aa2={..._0x1a0aa2,'vpcName':_0xcb9aa8,'subnetName':_0xfc44bd};}else{_0x111d5f['info'](_0x13b604[_0x443d31(0x16c)]);const _0x48646f={};_0x48646f[_0x443d31(0x258)]=_0x53f648[_0x443d31(0x126)],_0x48646f[_0x443d31(0x1e7)]=_0x13b604[_0x443d31(0x16c)],this[_0x443d31(0x1ea)][_0x443d31(0x1bc)](this['rws'],_0x48646f),_0x2c73b0[_0x443d31(0x1fe)]=![];}}await this[_0x443d31(0x1ec)][_0x443d31(0x239)][_0x443d31(0x1d7)](global_registry[_0x443d31(0x272)],_0x13b604[_0x443d31(0x163)],{'properties':{'template':_0x35c1c7,'mode':_0x13b604['ndBAj'],'parameters':_0x1a0aa2}});}async[a1_0x33ebb1(0x189)](){const _0x20b93d=a1_0x33ebb1,_0x3ea418={};_0x3ea418[_0x20b93d(0x15e)]=_0x20b93d(0x24d),_0x3ea418[_0x20b93d(0x23b)]=_0x20b93d(0x121),_0x3ea418[_0x20b93d(0x19f)]='Managed\x20identity\x20already\x20exists,\x20skipping',_0x3ea418[_0x20b93d(0x251)]=_0x20b93d(0x112),_0x3ea418[_0x20b93d(0x22f)]=_0x20b93d(0x206),_0x3ea418[_0x20b93d(0x20c)]=_0x20b93d(0x24a),_0x3ea418[_0x20b93d(0x12f)]=_0x20b93d(0x273),_0x3ea418[_0x20b93d(0x164)]=function(_0x25fbc9,_0x27eea4){return _0x25fbc9===_0x27eea4;},_0x3ea418['WZEKh']=_0x20b93d(0x10c),_0x3ea418[_0x20b93d(0x1c7)]=_0x20b93d(0x1e8),_0x3ea418[_0x20b93d(0x244)]='Creating\x20Azure\x20storage\x20account',_0x3ea418[_0x20b93d(0x165)]=_0x20b93d(0x11c),_0x3ea418[_0x20b93d(0x174)]='emqoM',_0x3ea418['kZApY']=function(_0x22a495,_0x31e347){return _0x22a495===_0x31e347;},_0x3ea418[_0x20b93d(0x214)]=_0x20b93d(0x274),_0x3ea418[_0x20b93d(0x195)]=_0x20b93d(0x235),_0x3ea418[_0x20b93d(0x277)]=function(_0x360d85,_0x5ec706){return _0x360d85===_0x5ec706;},_0x3ea418[_0x20b93d(0x243)]=_0x20b93d(0x20d),_0x3ea418['TOtYW']='QatYq',_0x3ea418[_0x20b93d(0x19b)]='Creating\x20Azure\x20federated\x20identity',_0x3ea418['tUhib']=_0x20b93d(0x1ee);const _0x567d5f=_0x3ea418,_0x16316b=await this[_0x20b93d(0x1ef)]();if(!_0x16316b){if(_0x567d5f['lbuox'](_0x567d5f['WZEKh'],_0x567d5f[_0x20b93d(0x1c7)]))_0x39cb02['error'](_0x567d5f[_0x20b93d(0x15e)]),_0x5238fd[_0x20b93d(0x107)](0x1);else{const _0x1e1f50={};_0x1e1f50[_0x20b93d(0x258)]=WS_EVENTS[_0x20b93d(0x167)],_0x1e1f50[_0x20b93d(0x1e7)]=_0x567d5f[_0x20b93d(0x244)],this['webSocketUtils'][_0x20b93d(0x1bc)](this['rws'],_0x1e1f50),logger[_0x20b93d(0x1d6)](_0x567d5f[_0x20b93d(0x244)]),await this['createStorageAccount']();}}else _0x567d5f[_0x20b93d(0x164)](_0x567d5f[_0x20b93d(0x165)],_0x567d5f['mGQfH'])?_0x2304a1[_0x20b93d(0x1d6)](_0x567d5f[_0x20b93d(0x23b)]):logger['info'](_0x567d5f[_0x20b93d(0x23b)]);const _0x50e47b=await this[_0x20b93d(0x12b)]();if(!_0x50e47b){if(_0x567d5f['kZApY'](_0x567d5f[_0x20b93d(0x214)],_0x567d5f[_0x20b93d(0x214)])){const _0x1b7c90={};_0x1b7c90[_0x20b93d(0x258)]=WS_EVENTS[_0x20b93d(0x167)],_0x1b7c90[_0x20b93d(0x1e7)]=_0x567d5f['IPIOp'],this[_0x20b93d(0x1ea)][_0x20b93d(0x1bc)](this[_0x20b93d(0x135)],_0x1b7c90),logger['info'](_0x567d5f[_0x20b93d(0x195)]),await this[_0x20b93d(0x27b)]();}else _0x517d5c[_0x20b93d(0x1d6)](_0x567d5f[_0x20b93d(0x19f)]);}else{if(_0x567d5f[_0x20b93d(0x277)](_0x567d5f[_0x20b93d(0x243)],_0x567d5f[_0x20b93d(0x1e4)])){const _0x38cb0c={};_0x38cb0c[_0x20b93d(0x258)]=_0x567d5f[_0x20b93d(0x251)],_0x38cb0c[_0x20b93d(0x118)]={},_0x38cb0c[_0x20b93d(0x118)][_0x20b93d(0x1c3)]=_0x567d5f[_0x20b93d(0x22f)];const _0x391e97={};_0x391e97[_0x20b93d(0x258)]=_0x567d5f[_0x20b93d(0x251)],_0x391e97[_0x20b93d(0x118)]={},_0x391e97[_0x20b93d(0x118)]['description']=_0x567d5f[_0x20b93d(0x22f)];const _0x59b485={..._0xad8cf[_0x20b93d(0x1c9)]};_0x59b485[_0x20b93d(0x266)]=_0x38cb0c,_0x59b485[_0x20b93d(0x10f)]=_0x391e97,_0x196974[_0x20b93d(0x1c9)]=_0x59b485;const _0x586f15={};_0x586f15['vnetSubnetID']=_0x567d5f[_0x20b93d(0x20c)],_0x3eeacd[_0x20b93d(0x17a)]=_0x586f15;const _0x402d88={..._0x25fa70[_0x20b93d(0x213)][0x0][_0x20b93d(0x160)][_0x20b93d(0x14c)][0x0]};_0x402d88['vnetSubnetID']=_0x567d5f['sQsaf'],_0x13f59f['resources'][0x0][_0x20b93d(0x160)][_0x20b93d(0x14c)][0x0]=_0x402d88;const _0xfdf705={};_0xfdf705['value']=_0x40712c;const _0x516a1d={};_0x516a1d[_0x20b93d(0x16e)]=_0x3d0b18[0x0];const _0x25e368={..._0x1209c0};_0x25e368['vpcName']=_0xfdf705,_0x25e368[_0x20b93d(0x10f)]=_0x516a1d,_0x538b5f=_0x25e368;}else logger[_0x20b93d(0x1d6)](_0x567d5f[_0x20b93d(0x19f)]);}logger[_0x20b93d(0x1d6)](_0x567d5f[_0x20b93d(0x19b)]),await this['createFederatedAccount'](),logger[_0x20b93d(0x1d6)](_0x567d5f[_0x20b93d(0x128)]);}async[a1_0x33ebb1(0x102)](){const _0x4dc7a8=a1_0x33ebb1,_0x162e74={};_0x162e74['DhVFy']=_0x4dc7a8(0x16a),_0x162e74['yIiZv']=_0x4dc7a8(0x191),_0x162e74[_0x4dc7a8(0x182)]=_0x4dc7a8(0x125),_0x162e74[_0x4dc7a8(0x1fb)]=_0x4dc7a8(0x1c5),_0x162e74[_0x4dc7a8(0x1fa)]=_0x4dc7a8(0x262),_0x162e74['QvSFQ']=_0x4dc7a8(0x139),_0x162e74[_0x4dc7a8(0x171)]=_0x4dc7a8(0x212),_0x162e74[_0x4dc7a8(0x220)]='Lifecycle',_0x162e74[_0x4dc7a8(0x1d5)]=_0x4dc7a8(0x178),_0x162e74[_0x4dc7a8(0x113)]=_0x4dc7a8(0x269);const _0x3fbd08=_0x162e74;let _0x528690=await fs[_0x4dc7a8(0x1c2)](path['join'](__dirname,'..',_0x3fbd08[_0x4dc7a8(0x278)],_0x3fbd08[_0x4dc7a8(0x19e)],_0x3fbd08[_0x4dc7a8(0x182)]),_0x3fbd08[_0x4dc7a8(0x1fb)]);_0x528690=JSON[_0x4dc7a8(0x271)](_0x528690);const _0x2aa2c2=this[_0x4dc7a8(0x185)](),_0x423fc1={};_0x423fc1[_0x4dc7a8(0x16e)]=_0x2aa2c2;const _0x5bd064={};_0x5bd064['storageAccountName']=_0x423fc1,await this[_0x4dc7a8(0x1ec)][_0x4dc7a8(0x239)][_0x4dc7a8(0x1d7)](global_registry[_0x4dc7a8(0x272)],_0x3fbd08[_0x4dc7a8(0x1fa)],{'properties':{'template':_0x528690,'mode':_0x3fbd08[_0x4dc7a8(0x233)],'parameters':_0x5bd064}});const _0x431c1a={};_0x431c1a['daysAfterCreationGreaterThan']=0x3c;const _0x35dbf0={};_0x35dbf0['delete']=_0x431c1a;const _0x2e90b1={};_0x2e90b1[_0x4dc7a8(0x145)]=_0x35dbf0;const _0x1184cf={};_0x1184cf[_0x4dc7a8(0x1d2)]=!![],_0x1184cf[_0x4dc7a8(0x150)]=_0x3fbd08[_0x4dc7a8(0x171)],_0x1184cf[_0x4dc7a8(0x258)]=_0x3fbd08[_0x4dc7a8(0x220)],_0x1184cf[_0x4dc7a8(0x149)]={},_0x1184cf[_0x4dc7a8(0x149)][_0x4dc7a8(0x202)]=_0x2e90b1,_0x1184cf[_0x4dc7a8(0x149)][_0x4dc7a8(0x114)]={},_0x1184cf[_0x4dc7a8(0x149)][_0x4dc7a8(0x114)]['blobTypes']=[_0x3fbd08[_0x4dc7a8(0x1d5)]];const _0x125218={};_0x125218[_0x4dc7a8(0x1c8)]=[_0x1184cf];const _0x5709d1={};_0x5709d1[_0x4dc7a8(0x255)]=_0x125218;const _0x58d820=_0x5709d1;await this[_0x4dc7a8(0x256)][_0x4dc7a8(0x267)][_0x4dc7a8(0x1a4)](global_registry['cloudProviderResourceGroup'],_0x2aa2c2,_0x3fbd08['RrECd'],_0x58d820);}async[a1_0x33ebb1(0x27b)](){const _0x23df49=a1_0x33ebb1,_0x2a02be={};_0x2a02be[_0x23df49(0x12c)]='templates',_0x2a02be[_0x23df49(0x1f8)]=_0x23df49(0x191),_0x2a02be[_0x23df49(0x180)]=_0x23df49(0x14b),_0x2a02be[_0x23df49(0x18a)]=_0x23df49(0x1c5),_0x2a02be['ayPhn']=_0x23df49(0x22e),_0x2a02be[_0x23df49(0x22a)]=_0x23df49(0x139);const _0x31a19a=_0x2a02be;let _0x4efd71=await fs[_0x23df49(0x1c2)](path['join'](__dirname,'..',_0x31a19a[_0x23df49(0x12c)],_0x31a19a['KYZqN'],_0x31a19a[_0x23df49(0x180)]),_0x31a19a['SAlyM']);_0x4efd71=JSON[_0x23df49(0x271)](_0x4efd71),await this[_0x23df49(0x1ec)][_0x23df49(0x239)][_0x23df49(0x1d7)](global_registry[_0x23df49(0x272)],_0x31a19a['ayPhn'],{'properties':{'template':_0x4efd71,'mode':_0x31a19a[_0x23df49(0x22a)],'parameters':{'clusterName':{'value':this[_0x23df49(0x153)]}}}});}async['createFederatedAccount'](){const _0x36a64a=a1_0x33ebb1,_0x371831={};_0x371831[_0x36a64a(0x246)]='Enabling\x20Workload\x20identity\x20for\x20the\x20cluster',_0x371831['HrQup']=function(_0x4cd811,_0x2bc453){return _0x4cd811===_0x2bc453;},_0x371831[_0x36a64a(0x15b)]='IhTct',_0x371831['Inrku']=_0x36a64a(0x104),_0x371831['bXeOv']=_0x36a64a(0x13b),_0x371831[_0x36a64a(0x223)]=_0x36a64a(0x1ab),_0x371831['NfLER']=function(_0x414308,_0x4a86fc){return _0x414308!==_0x4a86fc;},_0x371831[_0x36a64a(0x166)]='EnOxa',_0x371831['OQthi']=_0x36a64a(0x16a),_0x371831[_0x36a64a(0x100)]=_0x36a64a(0x191),_0x371831[_0x36a64a(0x23e)]=_0x36a64a(0x1c5),_0x371831[_0x36a64a(0x190)]=_0x36a64a(0x215),_0x371831[_0x36a64a(0x13f)]='Incremental';const _0x100ee5=_0x371831;if(!this['clusterInfo']){if(_0x100ee5[_0x36a64a(0x1c0)](_0x100ee5[_0x36a64a(0x15b)],_0x100ee5['Inrku'])){_0x189734['info'](_0x100ee5['JXcvH']);const _0x5d4b15={};_0x5d4b15[_0x36a64a(0x258)]=_0x2c3b18['RESOURCES'],_0x5d4b15[_0x36a64a(0x1e7)]=_0x100ee5['JXcvH'],this[_0x36a64a(0x1ea)][_0x36a64a(0x1bc)](this[_0x36a64a(0x135)],_0x5d4b15);const _0x1a25bb={};_0x1a25bb[_0x36a64a(0x1d2)]=!![];const _0x13a0f0={'workloadIdentity':_0x1a25bb,..._0x1cead5['securityProfile']};_0x54af3b[_0x36a64a(0xfc)]=_0x13a0f0;}else await this[_0x36a64a(0x261)]();}const _0x4125c5=this[_0x36a64a(0x14e)]?.[_0x36a64a(0x1a0)]?.[_0x36a64a(0x119)],_0x212602=[_0x100ee5['bXeOv'],_0x100ee5[_0x36a64a(0x223)]];for await(const _0x1f90f6 of _0x212602){if(_0x100ee5[_0x36a64a(0x117)](_0x100ee5[_0x36a64a(0x166)],_0x100ee5[_0x36a64a(0x166)]))_0xba5e37[_0x36a64a(0x24f)](_0x4c160d);else{let _0x467728=await fs['readFileAsync'](path[_0x36a64a(0x111)](__dirname,'..',_0x100ee5[_0x36a64a(0x13c)],_0x100ee5[_0x36a64a(0x100)],'federatedidentity'+_0x1f90f6+_0x36a64a(0x1cd)),_0x100ee5[_0x36a64a(0x23e)]);_0x467728=JSON[_0x36a64a(0x271)](_0x467728);const _0xfd6701={};_0xfd6701[_0x36a64a(0x16e)]=_0x4125c5,await this[_0x36a64a(0x1ec)][_0x36a64a(0x239)][_0x36a64a(0x1d7)](global_registry[_0x36a64a(0x272)],_0x100ee5[_0x36a64a(0x190)],{'properties':{'template':_0x467728,'mode':_0x100ee5[_0x36a64a(0x13f)],'parameters':{'oidcIssuer':_0xfd6701,'gridName':{'value':this[_0x36a64a(0x15f)]},'clusterName':{'value':this[_0x36a64a(0x153)]}}}});}}}async[a1_0x33ebb1(0x187)](_0x451bf8,_0x350034,_0x6f2cab,_0x4be88c,_0x265d4d){const _0x3edaec=a1_0x33ebb1,_0x33f838={};_0x33f838[_0x3edaec(0x279)]=_0x3edaec(0x17f),_0x33f838[_0x3edaec(0x253)]=_0x3edaec(0x108);const _0x532e9c=_0x33f838,_0x5cb224={};_0x5cb224['type']=WS_EVENTS['LOG'],_0x5cb224['message']=_0x532e9c[_0x3edaec(0x279)],this[_0x3edaec(0x1ea)][_0x3edaec(0x1bc)](this[_0x3edaec(0x135)],_0x5cb224),logger['info'](_0x532e9c[_0x3edaec(0x279)]),await this[_0x3edaec(0x26c)]();const _0x3edfc2={};_0x3edfc2['type']=WS_EVENTS['LOG'],_0x3edfc2[_0x3edaec(0x1e7)]=_0x532e9c[_0x3edaec(0x253)],this[_0x3edaec(0x1ea)]['sendEventToBackend'](this[_0x3edaec(0x135)],_0x3edfc2);}async[a1_0x33ebb1(0x26c)](){const _0x5b95d3=a1_0x33ebb1,_0x45ef0a={};_0x45ef0a[_0x5b95d3(0x175)]=function(_0x38cd6c,_0x58a2bb){return _0x38cd6c===_0x58a2bb;},_0x45ef0a[_0x5b95d3(0x1a8)]=function(_0x514997,_0x436caf){return _0x514997!==_0x436caf;},_0x45ef0a[_0x5b95d3(0x144)]='JiYNS',_0x45ef0a[_0x5b95d3(0x1bd)]=_0x5b95d3(0x16a),_0x45ef0a[_0x5b95d3(0x238)]=_0x5b95d3(0x252),_0x45ef0a[_0x5b95d3(0x196)]=_0x5b95d3(0x17d),_0x45ef0a[_0x5b95d3(0x1f6)]='utf-8',_0x45ef0a[_0x5b95d3(0x130)]=_0x5b95d3(0x215),_0x45ef0a[_0x5b95d3(0x227)]=_0x5b95d3(0x139);const _0x595bf6=_0x45ef0a;if(!this['clusterInfo']){if(_0x595bf6[_0x5b95d3(0x1a8)](_0x595bf6['npXtY'],_0x595bf6[_0x5b95d3(0x144)])){if(_0x595bf6['BbsaZ'](_0x5b3eba[_0x5b95d3(0x150)],_0x222a12))return!![];}else await this['getClusterInfo']();}const _0x427b7a=this[_0x5b95d3(0x14e)]?.['oidcIssuerProfile']?.['issuerURL'];let _0x59e76f=await fs['readFileAsync'](path[_0x5b95d3(0x111)](__dirname,'..',_0x595bf6[_0x5b95d3(0x1bd)],_0x595bf6[_0x5b95d3(0x238)],_0x595bf6[_0x5b95d3(0x196)]),_0x595bf6[_0x5b95d3(0x1f6)]);_0x59e76f=JSON['parse'](_0x59e76f);const _0x1b6954={};_0x1b6954[_0x5b95d3(0x16e)]=_0x427b7a,await this[_0x5b95d3(0x1ec)][_0x5b95d3(0x239)]['beginCreateOrUpdateAndWait'](global_registry[_0x5b95d3(0x272)],_0x595bf6['opQyb'],{'properties':{'template':_0x59e76f,'mode':_0x595bf6[_0x5b95d3(0x227)],'parameters':{'oidcIssuer':_0x1b6954,'namespace':{'value':global_registry[_0x5b95d3(0x250)]},'clusterName':{'value':this['clusterName']}}}});}async[a1_0x33ebb1(0x1ef)](){const _0x5678bd=a1_0x33ebb1,_0x404b51={};_0x404b51['iMREu']=function(_0x5b4923,_0x347fb0){return _0x5b4923+_0x347fb0;},_0x404b51[_0x5678bd(0x1f3)]='turboscale',_0x404b51[_0x5678bd(0x1c1)]=function(_0x424b1c,_0x545ec8){return _0x424b1c-_0x545ec8;},_0x404b51[_0x5678bd(0xfd)]=function(_0x2d885d,_0x5af140){return _0x2d885d===_0x5af140;},_0x404b51[_0x5678bd(0x1b9)]=_0x5678bd(0x1a3),_0x404b51['BuiWo']=_0x5678bd(0x154),_0x404b51[_0x5678bd(0x116)]=function(_0x5cb6f7,_0x7812bb){return _0x5cb6f7!==_0x7812bb;},_0x404b51[_0x5678bd(0x1d9)]=_0x5678bd(0x1d1),_0x404b51['YtcIY']=function(_0x4f0e0a,_0x53c3c6){return _0x4f0e0a===_0x53c3c6;},_0x404b51[_0x5678bd(0x25f)]=function(_0x4b4f4a,_0x418493){return _0x4b4f4a!==_0x418493;},_0x404b51[_0x5678bd(0x203)]=_0x5678bd(0x184);const _0x337667=_0x404b51,_0x59b444=this['getStorageAccountName'](),_0x12b2c9=new Array();for await(const _0x44620f of this[_0x5678bd(0x256)][_0x5678bd(0x26d)]['listByResourceGroup'](global_registry['cloudProviderResourceGroup'])){if(_0x337667[_0x5678bd(0xfd)](_0x337667[_0x5678bd(0x1b9)],_0x337667[_0x5678bd(0x236)])){const _0x7232cc=new _0x280f06(_0x38d5fa[_0x5678bd(0x248)],_0xa767f9[_0x5678bd(0x1d3)],_0x52b1e6[_0x5678bd(0x1f1)]);this[_0x5678bd(0x241)]=new _0x15cf2f(_0x7232cc,_0x13b25f[_0x5678bd(0x14a)]),this[_0x5678bd(0x256)]=new _0x546563(_0x7232cc,_0x5db1b8[_0x5678bd(0x14a)]),this[_0x5678bd(0x1ec)]=new _0x4e7928(_0x7232cc,_0x123715[_0x5678bd(0x14a)]),this[_0x5678bd(0x1a5)]=new _0x3832da(_0x7232cc,_0xe6a8da[_0x5678bd(0x14a)]);}else _0x12b2c9[_0x5678bd(0x24f)](_0x44620f);}for await(const _0xdb15cc of _0x12b2c9){if(_0x337667['QEoXR'](_0x337667[_0x5678bd(0x1d9)],_0x337667[_0x5678bd(0x1d9)]))return;else{if(_0x337667[_0x5678bd(0x25d)](_0xdb15cc[_0x5678bd(0x150)],_0x59b444)){if(_0x337667[_0x5678bd(0x25f)](_0x337667[_0x5678bd(0x203)],_0x337667['skMaL'])){const _0x115541=_0xa9a373[_0x5678bd(0x270)]['split']('-'),_0x1eb87c=_0x337667[_0x5678bd(0x1ce)](_0x337667[_0x5678bd(0x1f3)],_0x115541[_0x337667[_0x5678bd(0x1c1)](_0x115541[_0x5678bd(0x1da)],0x1)])[_0x5678bd(0x245)](0x0,0x18);return _0x1eb87c[_0x5678bd(0x194)]();}else return!![];}}}return![];}async[a1_0x33ebb1(0x12b)](){const _0xcf90ff=a1_0x33ebb1,_0xd149e7={};_0xd149e7[_0xcf90ff(0x21c)]=function(_0x3aa93f,_0x56f54c){return _0x3aa93f===_0x56f54c;},_0xd149e7[_0xcf90ff(0x1e9)]=_0xcf90ff(0x23a),_0xd149e7[_0xcf90ff(0x13d)]=function(_0x4f9400,_0x2f3baa){return _0x4f9400!==_0x2f3baa;},_0xd149e7['DeoAt']=_0xcf90ff(0x260),_0xd149e7[_0xcf90ff(0x10e)]=_0xcf90ff(0x193),_0xd149e7[_0xcf90ff(0x242)]=function(_0x1996ba,_0x15e6cb){return _0x1996ba===_0x15e6cb;},_0xd149e7[_0xcf90ff(0x219)]=function(_0x1ac586,_0x3ef7b3){return _0x1ac586!==_0x3ef7b3;},_0xd149e7[_0xcf90ff(0x106)]=_0xcf90ff(0x1b6),_0xd149e7['qwUpX']=_0xcf90ff(0x12d);const _0x3e6e5b=_0xd149e7,_0x17f27b=new Array();for await(const _0x5f24c2 of this[_0xcf90ff(0x1ec)][_0xcf90ff(0x213)][_0xcf90ff(0x26a)](global_registry[_0xcf90ff(0x272)])){if(_0x3e6e5b[_0xcf90ff(0x13d)](_0x3e6e5b[_0xcf90ff(0x152)],_0x3e6e5b['DeoAt'])){if(_0x3e6e5b[_0xcf90ff(0x21c)](_0x7f99d4[_0xcf90ff(0x150)],_0xcf90ff(0x18d)+this['clusterName']))return!![];}else _0x17f27b['push'](_0x5f24c2);}for await(const _0x4cee1c of _0x17f27b){if(_0x3e6e5b[_0xcf90ff(0x13d)](_0x3e6e5b[_0xcf90ff(0x10e)],_0x3e6e5b['TjhQz'])){const _0x3802cd=_0x3e6e5b[_0xcf90ff(0x1e9)][_0xcf90ff(0x20b)]('|');let _0x43954b=0x0;while(!![]){switch(_0x3802cd[_0x43954b++]){case'0':_0x7b5f44[_0xcf90ff(0x272)]=_0x4f1623[this[_0xcf90ff(0x123)]][_0xcf90ff(0x142)];continue;case'1':_0x2cf488[_0xcf90ff(0x248)]=_0x5f1114[this[_0xcf90ff(0x123)]][_0xcf90ff(0x228)];continue;case'2':_0x251c61[_0xcf90ff(0x1d3)]=_0xff6056[this[_0xcf90ff(0x123)]][_0xcf90ff(0x1d4)];continue;case'3':_0x23c84f[_0xcf90ff(0x1f1)]=_0x378011[this[_0xcf90ff(0x123)]][_0xcf90ff(0x1f0)];continue;case'4':this['setClients']();continue;case'5':_0x2fee37[_0xcf90ff(0x14a)]=_0x2fd7b9[this[_0xcf90ff(0x123)]][_0xcf90ff(0x132)];continue;}break;}}else{if(_0x3e6e5b['FBRHV'](_0x4cee1c['name'],_0xcf90ff(0x18d)+this[_0xcf90ff(0x153)]))return _0x3e6e5b[_0xcf90ff(0x219)](_0x3e6e5b[_0xcf90ff(0x106)],_0x3e6e5b[_0xcf90ff(0x21b)])?!![]:[!![],_0x2bcfad];}}return![];}async[a1_0x33ebb1(0x14f)](_0x4a6495){const _0x3e0742=a1_0x33ebb1,_0xe168c4={};_0xe168c4[_0x3e0742(0x1ae)]=function(_0x554bd0,_0x2c931a){return _0x554bd0===_0x2c931a;},_0xe168c4[_0x3e0742(0x26f)]='YFTGN',_0xe168c4[_0x3e0742(0x10b)]=function(_0x5553a9,_0x1d923c){return _0x5553a9!==_0x1d923c;},_0xe168c4[_0x3e0742(0x232)]='uttKR',_0xe168c4[_0x3e0742(0x1f5)]='OJgCt',_0xe168c4[_0x3e0742(0x20e)]=function(_0x3fe050,_0x4f09ff){return _0x3fe050===_0x4f09ff;},_0xe168c4[_0x3e0742(0x25b)]='JNMPY',_0xe168c4[_0x3e0742(0x1ac)]='amtRb',_0xe168c4[_0x3e0742(0x22d)]=_0x3e0742(0x159);const _0x2c4795=_0xe168c4,_0x114646=new Array();for await(const _0x14d778 of this[_0x3e0742(0x1ec)]['resources'][_0x3e0742(0x26a)](global_registry[_0x3e0742(0x272)])){_0x2c4795['ryDez'](_0x2c4795['GmMhG'],_0x2c4795['GmMhG'])?_0x114646[_0x3e0742(0x24f)](_0x14d778):_0x529b82[_0x3e0742(0x24f)](_0x4d66f1);}let _0x40a801='';for await(const _0x2abfb9 of _0x114646){if(_0x2c4795[_0x3e0742(0x10b)](_0x2c4795['nPdld'],_0x2c4795[_0x3e0742(0x1f5)]))_0x2c4795[_0x3e0742(0x20e)](_0x2abfb9[_0x3e0742(0x150)],_0x4a6495)&&(_0x2c4795[_0x3e0742(0x10b)](_0x2c4795[_0x3e0742(0x25b)],_0x2c4795[_0x3e0742(0x1ac)])?_0x40a801=_0x2abfb9['id']:_0x2c4795['ryDez'](_0x28b4ce[_0x3e0742(0x150)],_0x407680)&&(_0x1e346e=_0x292370['id']));else return!![];}const _0x18561e=await this['resourceClient']['resources'][_0x3e0742(0x200)](_0x40a801,_0x2c4795[_0x3e0742(0x22d)]);return _0x18561e['properties'][_0x3e0742(0x1d4)];}async[a1_0x33ebb1(0x240)](){const _0x530bdd=a1_0x33ebb1,_0x1d5830={};_0x1d5830[_0x530bdd(0x229)]=function(_0x1b4a5c,_0x377fd2){return _0x1b4a5c===_0x377fd2;},_0x1d5830[_0x530bdd(0x1a9)]=_0x530bdd(0x173),_0x1d5830[_0x530bdd(0x13a)]=function(_0x2964f2,_0x1c0c43){return _0x2964f2===_0x1c0c43;},_0x1d5830[_0x530bdd(0x221)]=_0x530bdd(0x199),_0x1d5830['MQaZG']=_0x530bdd(0x181),_0x1d5830[_0x530bdd(0x109)]='raKkV',_0x1d5830[_0x530bdd(0x23d)]='YoJnn';const _0x2cdb1e=_0x1d5830;if(!this[_0x530bdd(0x14e)]){if(_0x2cdb1e[_0x530bdd(0x229)](_0x2cdb1e[_0x530bdd(0x1a9)],_0x2cdb1e[_0x530bdd(0x1a9)]))await this['getClusterInfo']();else return _0x2efc10[_0x530bdd(0x17c)][_0x530bdd(0x131)]['ingress'][0x0][_0x530bdd(0x25e)];}const _0x3eb393=this[_0x530bdd(0x14e)]?.[_0x530bdd(0x27a)]||{};if(_0x3eb393&&_0x2cdb1e[_0x530bdd(0x13a)](_0x3eb393[_0x2cdb1e[_0x530bdd(0x221)]],_0x2cdb1e['MQaZG'])){if(_0x2cdb1e['xSbxl'](_0x2cdb1e['lsQGj'],_0x2cdb1e[_0x530bdd(0x23d)]))_0x2df0fa[_0x530bdd(0x24f)](_0xfeff12);else return!![];}return![];}async['deleteCluster'](_0x550164,_0x43c58e){const _0x377be2=a1_0x33ebb1,_0x45515a={'pxXzj':function(_0x546914,_0x3f78b6){return _0x546914(_0x3f78b6);},'vFAmt':_0x377be2(0x276)};await _0x45515a[_0x377be2(0x18b)](deleteAgent,_0x550164),await _0x45515a[_0x377be2(0x18b)](deleteRoutingDeps,_0x550164);const _0x2c9a72=this[_0x377be2(0x241)];logger[_0x377be2(0x1d6)](_0x377be2(0x147)+this[_0x377be2(0x153)]),await _0x2c9a72[_0x377be2(0x18c)]['beginDeleteAndWait'](global_registry['cloudProviderResourceGroup'],this[_0x377be2(0x153)]),logger['info'](_0x45515a['vFAmt']);}async['updateClusterAlreadyPresent'](){const _0x941cc8=a1_0x33ebb1,_0x4092cf={};_0x4092cf[_0x941cc8(0x218)]=function(_0x470f3b,_0x389200){return _0x470f3b===_0x389200;},_0x4092cf[_0x941cc8(0x264)]=function(_0x10a95a,_0x9c5f8c){return _0x10a95a!==_0x9c5f8c;},_0x4092cf[_0x941cc8(0x198)]='THVvE',_0x4092cf[_0x941cc8(0x146)]=_0x941cc8(0x1a7),_0x4092cf[_0x941cc8(0x105)]=function(_0x127c24,_0x2db75f){return _0x127c24&&_0x2db75f;},_0x4092cf[_0x941cc8(0x234)]=_0x941cc8(0x134),_0x4092cf['DWnvO']=_0x941cc8(0x176),_0x4092cf['FBUeC']=_0x941cc8(0x1b7),_0x4092cf['teHsy']=_0x941cc8(0x27c),_0x4092cf[_0x941cc8(0x115)]=_0x941cc8(0x156);const _0x518177=_0x4092cf;if(!this[_0x941cc8(0x14e)]){if(_0x518177['cuKQL'](_0x518177['RjiFb'],_0x518177[_0x941cc8(0x146)]))await this[_0x941cc8(0x261)]();else{if(_0x518177[_0x941cc8(0x218)](_0x528519[_0x941cc8(0x150)],_0x27165a))return!![];}}const _0x20eaad=this[_0x941cc8(0x14e)],_0x75b9a8=this[_0x941cc8(0x14e)]?.[_0x941cc8(0x1a0)]?.[_0x941cc8(0x1d2)]||![],_0x187693=this[_0x941cc8(0x14e)]?.[_0x941cc8(0xfc)]?.[_0x941cc8(0x15d)]?.[_0x941cc8(0x1d2)]||![],_0x5fff1b=!this[_0x941cc8(0x14e)]?.[_0x941cc8(0x1fe)]||![];if(_0x518177[_0x941cc8(0x105)](_0x75b9a8,_0x187693)&&_0x5fff1b){if(_0x518177[_0x941cc8(0x264)](_0x518177['nsChc'],_0x518177[_0x941cc8(0x122)]))return;else _0x13ea09[_0x941cc8(0x24f)](_0x13151a);}if(!_0x75b9a8){logger['info'](_0x518177[_0x941cc8(0x249)]);const _0x448b20={};_0x448b20[_0x941cc8(0x258)]=WS_EVENTS[_0x941cc8(0x126)],_0x448b20[_0x941cc8(0x1e7)]=_0x518177['FBUeC'],this['webSocketUtils'][_0x941cc8(0x1bc)](this['rws'],_0x448b20),_0x20eaad[_0x941cc8(0x1a0)][_0x941cc8(0x1d2)]=!![];}if(!_0x187693){logger['info'](_0x518177[_0x941cc8(0xf9)]);const _0x36b0d3={};_0x36b0d3[_0x941cc8(0x258)]=WS_EVENTS[_0x941cc8(0x126)],_0x36b0d3[_0x941cc8(0x1e7)]=_0x518177[_0x941cc8(0xf9)],this[_0x941cc8(0x1ea)][_0x941cc8(0x1bc)](this['rws'],_0x36b0d3);const _0x53f743={};_0x53f743[_0x941cc8(0x1d2)]=!![],_0x20eaad[_0x941cc8(0xfc)]={'workloadIdentity':_0x53f743,..._0x20eaad['securityProfile']};}if(!_0x5fff1b){logger[_0x941cc8(0x1d6)](_0x518177[_0x941cc8(0x115)]);const _0x27c252={};_0x27c252[_0x941cc8(0x258)]=WS_EVENTS[_0x941cc8(0x126)],_0x27c252['message']=_0x518177[_0x941cc8(0x115)],this[_0x941cc8(0x1ea)][_0x941cc8(0x1bc)](this['rws'],_0x27c252),_0x20eaad['disableLocalAccounts']=![];}await this['containerClient'][_0x941cc8(0x18c)][_0x941cc8(0x1d7)](global_registry[_0x941cc8(0x272)],this[_0x941cc8(0x153)],_0x20eaad),await this[_0x941cc8(0x261)]();}async[a1_0x33ebb1(0x1cf)](){const _0x37a2ca=a1_0x33ebb1,_0x440d57=await this[_0x37a2ca(0x1a5)][_0x37a2ca(0x183)][_0x37a2ca(0x19d)](global_registry['cloudProviderResourceGroup']),_0x5f1bf4={};_0x5f1bf4[_0x37a2ca(0x1bb)]=global_registry[_0x37a2ca(0x21a)],_0x5f1bf4['accessKey']=global_registry['bstackAccesskey'],_0x5f1bf4[_0x37a2ca(0x155)]=AZURE,_0x5f1bf4[_0x37a2ca(0x1f4)]=[];const _0x598724=_0x5f1bf4;for await(const _0x3f5fed of _0x440d57){_0x598724['vpcInfo'][_0x37a2ca(0x24f)](_0x3f5fed);}const _0x319515={};_0x319515[_0x37a2ca(0x258)]=WS_EVENTS['RESOURCES'],_0x319515['message']=_0x598724,this[_0x37a2ca(0x1ea)]['sendEventToBackend'](this[_0x37a2ca(0x135)],_0x319515);}async[a1_0x33ebb1(0x23c)](_0xff39a5){const _0x33e82a=a1_0x33ebb1,_0x3cc6a2={};_0x3cc6a2['wGxzU']=function(_0x1d19bb,_0x4d9f63){return _0x1d19bb===_0x4d9f63;};const _0x33bcae=_0x3cc6a2;try{const _0x157493=await this[_0x33e82a(0x1a5)]['virtualNetworks'][_0x33e82a(0x19d)](global_registry['cloudProviderResourceGroup']);for await(const _0x4861dc of _0x157493){if(_0x33bcae[_0x33e82a(0x1ba)](_0x4861dc[_0x33e82a(0x150)],_0xff39a5))return!![];}}catch(_0x109a13){return logger['error'](_0x33e82a(0x120)+_0xff39a5+_0x33e82a(0x18e)+_0x109a13),![];}return![];}async[a1_0x33ebb1(0x226)](_0x448c71,_0x192e69){const _0x318526=a1_0x33ebb1,_0x590c23={};_0x590c23[_0x318526(0x259)]=function(_0x4e433f,_0x31801e){return _0x4e433f===_0x31801e;};const _0x24c7ad=_0x590c23;try{const _0x45d077=await this['networkClient'][_0x318526(0x1be)][_0x318526(0x1e1)](global_registry[_0x318526(0x272)],_0x192e69,_0x448c71[0x0]);if(_0x24c7ad[_0x318526(0x259)](_0x448c71[0x0],_0x45d077['name']))return[!![],_0x448c71];}catch(_0x248789){return logger[_0x318526(0x23f)](_0x318526(0x1ff)+_0x448c71+_0x318526(0x188)+_0x248789),[![],[]];}return[![],[]];}}const a1_0x12dc0e={};a1_0x12dc0e[a1_0x33ebb1(0x11f)]=AzureCloudProvider,module['exports']=a1_0x12dc0e;