function a1_0x3315(_0x2ce097,_0x385a5e){const _0x39d3eb=a1_0x39d3();return a1_0x3315=function(_0x3315c9,_0x4a41c4){_0x3315c9=_0x3315c9-0x1ee;let _0xceafc0=_0x39d3eb[_0x3315c9];return _0xceafc0;},a1_0x3315(_0x2ce097,_0x385a5e);}const a1_0x22ad91=a1_0x3315;(function(_0x311f3a,_0x58c1e4){const _0x577be2=a1_0x3315,_0x5032ee=_0x311f3a();while(!![]){try{const _0x55a89a=parseInt(_0x577be2(0x3a7))/0x1+parseInt(_0x577be2(0x373))/0x2*(-parseInt(_0x577be2(0x3cf))/0x3)+parseInt(_0x577be2(0x365))/0x4+parseInt(_0x577be2(0x33c))/0x5+parseInt(_0x577be2(0x39d))/0x6+-parseInt(_0x577be2(0x34b))/0x7*(parseInt(_0x577be2(0x2fe))/0x8)+parseInt(_0x577be2(0x2c6))/0x9*(-parseInt(_0x577be2(0x1f7))/0xa);if(_0x55a89a===_0x58c1e4)break;else _0x5032ee['push'](_0x5032ee['shift']());}catch(_0x128014){_0x5032ee['push'](_0x5032ee['shift']());}}}(a1_0x39d3,0xc8d49));function a1_0x39d3(){const _0x137abe=['kIHJy','blobTypes','bstackUsername','Storage\x20account\x20already\x20exists,\x20skipping','VWsoO','cloudProvider','msnES','CJjAH','nlJDL','application/json','uhOwn','turboscale-identity-deployment','usfpi','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','WYuyc','ijseu','BVtyJ','nRrKH','No\x20attached\x20role\x20for\x20the\x20client\x20key','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','ZpQiF','rules','jgAQw','FqhxR','rws','NYMVQ','hub','9EmaBQW','cUTXp','WkTCm','includes','krNwU','default','Created\x20Azure\x20federated\x20identity','Xyydh','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','Content-Type','clientId','tYviW','QXmVq','Authorization','Incremental','hrESg','FJQnd','iggGa','managementPolicies','listByResourceGroup','HhurA','vpuld','WnYJG','UaGDP','uhLja','oIEjF','message','AgHIV','webSocketUtils','dtQsr','pJqDd','No\x20CLI\x20tool\x20required','TyEva','GNmAG','eOrcu','ingress','TjXoK','IesPp','pBSLu','SNmIm','../config/constants','PryjV','UAqoQ','MPOBt','createManagedIdentity','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','federatedidentityuploader.json','zQyfu','RESOURCES','entries','yeMCr','getKubeConfigData','data','AzureCloudProvider','LKcJT','QOVjY','120TIfpUO','ovRGd','string','HFifL','ITrrC','mkbml','okKyw','toUpperCase','Srqat','authClient','KDXFo','LLUyb','ewrhf','PfSTT','subscriptionId','push','wVLHV','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','aGgji','getClusterInfo','okVjq','enxei','bYAmz','virtualNetworks','oidcIssuerProfile','principalId','userInstanceType','subnetName','cHxnD','js-yaml','QqcOp','rUqPf','yGDFK','uMGhs','isCliToolInstalled','ARXmq','deleteCluster','clusterName','securityProfile','epsYB','browserstack:managedBy','delete','actions','yRoZt','workloadIdentity','iYOXH','aKWiw','WrsLA','CJTyB','log','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','cred','wXnTV','sbCtu','msSty','bWlSj','2023-01-31','true','tenantId','roleAssignments','MwSrs','agentPoolProfiles','6681875xIjLxW','Creating\x20Azure\x20storage\x20account','../permissions/AZURE.json','isVPCPresent','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','createFederatedAccountForHubHA','apFMV','Vskzq','FeVYW','headers','slice','createStorageAccount','storageaccount.json','OHVzl','vMwim','456953XJeNzf','cloudProviderSubscriptionId','beginCreateOrUpdateAndWait','KvLYV','GET','xtJzu','filters','xMqLX','VdqoJ','nVCQr','bMuvr','tags','Deleted\x20the\x20cluster\x20successfully','iDCIA','roleDefinitionId','Bearer\x20','xImRG','kXERf','luWlS','fHFub','ucgid','isStorageAccountPresent','sendAzureInfoToHST','ajHYX','NcbMD','wVaGC','2748540gOxwxu','OVXpr','roleDefinitions','clientSecret','PWdaH','wQldB','Creating\x20Azure\x20managed\x20identity','vwUeG','daysAfterCreationGreaterThan','iUtOh','exit','roleName','containerClient','VgWlT','1348862HBubCp','ICVqQ','issuerURL','vGzSr','fNgno','nmkFP','join','actionPermission\x20:\x20','gnnWW','BrowserStack','getStorageAccountName','ziEbI','getUserInput','location','YIMaM','hubHaNameSpace','debug','EaaxZ','networkClient','RTlkn','@azure/arm-containerservice','SxzVd','KtMnM','tUSLq','storageAccountName','KZvNS','lQHns','qUpLc','Ptbjj','getResourceGroups','fBOLB','FPRBY','HuuQw','GsVGd','baseBlob','\x20TENANT\x20ID:\x20','gJfrg','hcPSd','variables','AyaEQ','INvqn','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','8497506HFzoDx','tLDIX','gridName','DVnFJ','status','JKjqX','Creating\x20Azure\x20federated\x20identity','utYmL','yGbCv','SIrXh','947247jBOvCP','dLPHT','JZDSP','RWBeM','UWfTl','mVeYT','lVCUz','list','kXVEo','SQvqy','aXYao','s3Bucket','2|6|4|7|1|0|5|3','0|1|2|5|4|3','GDqyG','toLowerCase','properties','cloudProviderClientSecret','MpISB','ObJwy','Received\x20response\x20-\x20','node','eOYkZ','@azure/arm-storage','aIAvI','EwDXj','oocZY','vKKYa','kqJVF','clusterInfo','https://graph.microsoft.com/.default','xezjj','value','sqMGb','RjpaV','.\x20Error:\x20','FCHLV','HyMkH','Action\x20permission\x20list\x20is\x20empty\x0a','wJbab','3JGYabF','gQVXi','YjYxk','tFooH','GpkOp','../utils/utilityMethods','managedClusters','YnxuY','AxRAw','subnets','CkyZH','FutaW','GBcYq','yLmUd','ggVno','ZUaAp','KcmVv','setClients','disableLocalAccounts','ixIYQ','Found\x20only\x20one\x20resource\x20group:\x20','\x20CLIENT\x20ID:\x20','yDUzn','map','UNmxo','setupNewCluster','BNycJ','tjlLj','esftN','pCkbH','description','SgkQG','COOsv','instanceType','setCachedCredsInRegistry','KXeLM','FUKbt','ivcxU','FUcKQ','tKvpp','error','stack','createCluster','GoFvm','uSQXv','MXocd','MBwVP','definition','19107910zPEDcz','vpcInfo','turboscale-cluster-deployment','createOtherResources','tKCys','jDZFi','turboscale-storageaccount-deployment','dPcUf','LOG','false','Bsasc','FTYvo','turboscale-federated-deployment','tIdcZ','yzBOt','userMaxNodes','ifQTw','hXeHM','NvucQ','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','templates','turboscale-managed-identity-','type','turboscale','loadBalancer','Cannot\x20find\x20subnets\x20','stringify','enabled','Bbdsg','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','info','parameters','pOQUj','sMZNC','ugCCu','/resourceGroups/','RHwhh','pMcqx','pVmya','Cannot\x20find\x20VPC\x20','OaTQA','lQeKK','Oqwxv','akscluster.json','xSzJv','sendEventToBackend','snzXv','hJTOt','DxQlJ','xORTw','isClusterPresent','wkKUG','DrvXp','split','forEach','name','vSucy','TsQQj','rNHaX','ymjsd','parse','nhBdN','cloudProviderClientId','TUXnf','hostname','getGridHostname','HrmMI','ZEraw','updateClusterAlreadyPresent','xdCIh','Blob\x20delete\x20lifecycle','azWZn','XwDZs','clusterRegion','blockBlob','ivgVc','clusterAutoUpgrade','eobYi','JatXz','tdTlT','getHeader','readFileAsync','maxNodes','managedidentity.json','ACTION','getPrincipalIdFromClientId','init','iiDFt','WzSVw','auRgf','WNrWR','vpcName','PKpXB','fEuwJ','kubeconfigs','length','TCNQQ','sLmKz','eftsK','denied','getToken','TXYdk','tfceF','KIsPf','resourceClient','ihtze','VtLoz','BcicX','resourceGroup','TeoGe','LqpUH','STBKq','azureresources','eFfPY','uFghv','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','gnghZ','@azure/arm-resources','policy','[variables(\x27vnetSubnetID\x27)]','setupHubHa','SfPqk','YHCrm','resources','Managed\x20identity\x20already\x20exists,\x20skipping','allowed','uftLy','listAll','bqWnP','wcvEW','./CloudProvider','GaHod','token','vnetSubnetID','KrDzM','filter','XaIxa','JPAIv','EotmH','permissions','isManagedIdentityPresent','mKbFZ','wsLdC','SIojI','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','GPWYo','uwPVu','itnrA','HAxcH','utf-8','mKoHu','toString','deployments','TDCaQ','\x20CLIENT\x20SECRET:\x20','jdrYQ','gFEMr','RKCJC','cloudProviderName','\x20SUBSCRIPTION\x20ID:\x20','Attached\x20permissions\x20:\x20','hubharesources','bsWQt','cloudProviderTenantId','fceIP','createFederatedAccount','storageClient','No\x20service\x20principal\x20found','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','YyXBE','metadata','cloudProviderResourceGroup','dOGoO','get','UcfHC','aIgHf','XBguH','gUzPF','BYSqN','dSBWT'];a1_0x39d3=function(){return _0x137abe;};return a1_0x39d3();}const fs=require('fs'),path=require('path'),yaml=require(a1_0x22ad91(0x31b)),{logger}=require('../config/logger'),{CloudProvider}=require(a1_0x22ad91(0x279)),{deleteRoutingDeps,deleteAgent}=require('../utils/gridComponents'),{AZURE,WS_EVENTS,global_registry}=require(a1_0x22ad91(0x2ee)),PERMISSIONS=require(a1_0x22ad91(0x33e)),{ClientSecretCredential}=require('@azure/identity'),{NetworkManagementClient}=require('@azure/arm-network'),{StorageManagementClient}=require(a1_0x22ad91(0x3be)),{AuthorizationManagementClient}=require('@azure/arm-authorization'),{ResourceManagementClient}=require(a1_0x22ad91(0x26c)),{ContainerServiceClient}=require(a1_0x22ad91(0x387)),{runCommand}=require(a1_0x22ad91(0x3d4));class AzureCloudProvider extends CloudProvider{constructor(_0x1836c5,_0x44e8b4,_0x4d1894,_0x559352){const _0x13d5bb=a1_0x22ad91,_0x496b71={};_0x496b71[_0x13d5bb(0x288)]=_0x13d5bb(0x3b3);const _0x9d493d=_0x496b71,_0x404e13=_0x9d493d[_0x13d5bb(0x288)][_0x13d5bb(0x22c)]('|');let _0x420dd0=0x0;while(!![]){switch(_0x404e13[_0x420dd0++]){case'0':this[_0x13d5bb(0x25f)]=null;continue;case'1':this[_0x13d5bb(0x29d)]=null;continue;case'2':super(AZURE,_0x1836c5,_0x44e8b4,_0x4d1894,_0x559352);continue;case'3':this[_0x13d5bb(0x307)]=null;continue;case'4':this[_0x13d5bb(0x3c4)]=null;continue;case'5':this[_0x13d5bb(0x385)]=null;continue;case'6':this[_0x13d5bb(0x331)]=null;continue;case'7':this[_0x13d5bb(0x371)]=null;continue;}break;}}async[a1_0x22ad91(0x24d)](){const _0x41bbfe=a1_0x22ad91;return await super[_0x41bbfe(0x24d)](),this;}[a1_0x22ad91(0x3e0)](){const _0x543c60=a1_0x22ad91,_0x5ddb3c=new ClientSecretCredential(global_registry['cloudProviderTenantId'],global_registry[_0x543c60(0x235)],global_registry[_0x543c60(0x3b8)]);this[_0x543c60(0x371)]=new ContainerServiceClient(_0x5ddb3c,global_registry[_0x543c60(0x34c)]),this[_0x543c60(0x29d)]=new StorageManagementClient(_0x5ddb3c,global_registry[_0x543c60(0x34c)]),this[_0x543c60(0x25f)]=new ResourceManagementClient(_0x5ddb3c,global_registry['cloudProviderSubscriptionId']),this[_0x543c60(0x385)]=new NetworkManagementClient(_0x5ddb3c,global_registry['cloudProviderSubscriptionId']),this[_0x543c60(0x307)]=new AuthorizationManagementClient(_0x5ddb3c,global_registry[_0x543c60(0x34c)]),this[_0x543c60(0x331)]=_0x5ddb3c;}[a1_0x22ad91(0x37d)](){const _0x33b53f=a1_0x22ad91,_0x46fa72={};_0x46fa72[_0x33b53f(0x234)]=function(_0x48f97c,_0x5bb07c){return _0x48f97c+_0x5bb07c;},_0x46fa72[_0x33b53f(0x23c)]=_0x33b53f(0x20e),_0x46fa72[_0x33b53f(0x3b5)]=function(_0x77b0be,_0x1e2216){return _0x77b0be-_0x1e2216;};const _0x1710d3=_0x46fa72,_0xe83c73=global_registry[_0x33b53f(0x3b2)]['split']('-'),_0x362bcc=_0x1710d3[_0x33b53f(0x234)](_0x1710d3['xdCIh'],_0xe83c73[_0x1710d3['GDqyG'](_0xe83c73[_0x33b53f(0x256)],0x1)])[_0x33b53f(0x346)](0x0,0x18);return _0x362bcc['toLowerCase']();}[a1_0x22ad91(0x3f1)](_0x2cfec5){const _0x183a61=a1_0x22ad91,_0x251030={};_0x251030[_0x183a61(0x384)]='3|1|2|5|0|4';const _0x417664=_0x251030,_0x3e133a=_0x417664[_0x183a61(0x384)]['split']('|');let _0x2273dc=0x0;while(!![]){switch(_0x3e133a[_0x2273dc++]){case'0':global_registry[_0x183a61(0x2a2)]=_0x2cfec5[this[_0x183a61(0x295)]][_0x183a61(0x263)];continue;case'1':global_registry[_0x183a61(0x3b8)]=_0x2cfec5[this['cloudProviderName']]['clientSecret'];continue;case'2':global_registry['cloudProviderTenantId']=_0x2cfec5[this[_0x183a61(0x295)]][_0x183a61(0x338)];continue;case'3':global_registry[_0x183a61(0x235)]=_0x2cfec5[this['cloudProviderName']]['clientId'];continue;case'4':this[_0x183a61(0x3e0)]();continue;case'5':global_registry[_0x183a61(0x34c)]=_0x2cfec5[this[_0x183a61(0x295)]][_0x183a61(0x30c)];continue;}break;}}async[a1_0x22ad91(0x37f)](_0x147f76,_0x28bde0){const _0x99a481=a1_0x22ad91,_0x5c0968={'XwDZs':function(_0x40a25e,_0x3efdcd){return _0x40a25e===_0x3efdcd;},'ivgVc':'0|2|3|5|4|1','wRbuO':function(_0x2d0f59,_0x52ff95,_0x281436){return _0x2d0f59(_0x52ff95,_0x281436);},'ixIYQ':function(_0x428528,_0x108863){return _0x428528(_0x108863);},'vGzSr':function(_0x5992f7,_0x5c822d){return _0x5992f7(_0x5c822d);},'nRrKH':function(_0x3ddb6c,_0x27e40b){return _0x3ddb6c(_0x27e40b);},'xezjj':function(_0x1c9cb3,_0xc67379){return _0x1c9cb3(_0xc67379);},'fceIP':function(_0x2aa29e,_0x54c19f){return _0x2aa29e===_0x54c19f;},'epsYB':_0x99a481(0x378),'FutaW':_0x99a481(0x220),'HrmMI':function(_0x2418b2,_0x194a0a){return _0x2418b2===_0x194a0a;},'gnnWW':function(_0x435c62,_0x410010){return _0x435c62!==_0x410010;},'BcicX':_0x99a481(0x244),'cUTXp':function(_0x23b82e,_0x2792fa){return _0x23b82e===_0x2792fa;},'ifQTw':function(_0x1917d7,_0x199f49){return _0x1917d7===_0x199f49;},'FglmF':'wxUED','dLPHT':_0x99a481(0x2ab),'uhLja':_0x99a481(0x39c),'FUcKQ':'SWuso','QavdX':_0x99a481(0x223),'GpkOp':_0x99a481(0x333),'qfLSF':function(_0x48f008,_0x3323c9){return _0x48f008<_0x3323c9;},'SQvqy':_0x99a481(0x369),'WrsLA':_0x99a481(0x294),'uftLy':function(_0x3d6061,_0xa2ab31){return _0x3d6061+_0xa2ab31;},'dtQsr':_0x99a481(0x20a),'kTMAW':function(_0x53071a,_0x31b497){return _0x53071a(_0x31b497);},'HpaOC':function(_0x6f6b4f,_0x35fbb4){return _0x6f6b4f<=_0x35fbb4;},'jdrYQ':function(_0x1100a4,_0x3354c7){return _0x1100a4>_0x3354c7;},'tKAQd':function(_0x2d0a61,_0x18c271){return _0x2d0a61!==_0x18c271;},'ruOGN':_0x99a481(0x363),'wkKUG':_0x99a481(0x2ef),'PTrJu':function(_0x1232dd,_0x5aa577){return _0x1232dd-_0x5aa577;}},_0x5e3782=this[_0x99a481(0x295)][_0x99a481(0x305)](),_0xe381fb=await _0x5c0968[_0x99a481(0x3e2)](_0x147f76,_0x5e3782+_0x99a481(0x3e4)),_0x19cdbb=await _0x5c0968['vGzSr'](_0x147f76,_0x5e3782+_0x99a481(0x291)),_0x15844c=await _0x5c0968[_0x99a481(0x2bc)](_0x147f76,_0x5e3782+_0x99a481(0x396)),_0x1ce2dc=await _0x5c0968[_0x99a481(0x3c6)](_0x147f76,_0x5e3782+_0x99a481(0x296));global_registry[_0x99a481(0x235)]=_0xe381fb,global_registry[_0x99a481(0x3b8)]=_0x19cdbb,global_registry[_0x99a481(0x29a)]=_0x15844c,global_registry[_0x99a481(0x34c)]=_0x1ce2dc,this[_0x99a481(0x3e0)]();const _0xa76d4a=await this[_0x99a481(0x390)](),_0x118e28=_0xa76d4a[_0x99a481(0x256)];let _0x1d7f3b;if(_0x5c0968[_0x99a481(0x23f)](_0x118e28,0x0)){if(_0x5c0968[_0x99a481(0x29b)](_0x5c0968[_0x99a481(0x325)],_0x5c0968[_0x99a481(0x3da)]))return!![];else _0x1d7f3b=await _0x5c0968[_0x99a481(0x2bc)](_0x147f76,_0x5e3782+'\x20RESOURCE\x20GROUP:\x20');}else{if(_0x5c0968[_0x99a481(0x239)](_0x118e28,0x1)){if(_0x5c0968[_0x99a481(0x37b)](_0x5c0968[_0x99a481(0x262)],_0x5c0968[_0x99a481(0x262)])){if(_0x5c0968[_0x99a481(0x23f)](_0x4bdaa9[_0x99a481(0x22e)],_0x215fac))return!![];}else{const _0x580d70=await _0x5c0968[_0x99a481(0x3c6)](_0x147f76,_0x99a481(0x3e3)+_0xa76d4a[0x0]+_0x99a481(0x29f));(_0x5c0968[_0x99a481(0x2c7)](_0x580d70,undefined)||_0x5c0968[_0x99a481(0x207)](_0x580d70,null)||!(_0x5c0968[_0x99a481(0x29b)](_0x580d70[_0x99a481(0x3b6)](),'y')||_0x5c0968[_0x99a481(0x2c7)](_0x580d70[_0x99a481(0x3b6)](),'n')))&&(_0x5c0968[_0x99a481(0x37b)](_0x5c0968['FglmF'],_0x5c0968[_0x99a481(0x3a8)])?(console[_0x99a481(0x1ef)](_0x5c0968[_0x99a481(0x2de)]),process['exit'](0x1)):_0x1dc790['exit'](0x0)),_0x5c0968[_0x99a481(0x239)](_0x580d70[_0x99a481(0x3b6)](),'n')&&(_0x5c0968[_0x99a481(0x37b)](_0x5c0968[_0x99a481(0x3f5)],_0x5c0968[_0x99a481(0x3f5)])?_0x5a98bd[_0x99a481(0x1ef)]=_0x27dea3:process[_0x99a481(0x36f)](0x0)),_0x1d7f3b=_0xa76d4a[0x0];}}else{if(_0x5c0968[_0x99a481(0x37b)](_0x5c0968['QavdX'],_0x5c0968[_0x99a481(0x3d3)])){for(let _0x16eebd=0x0;_0x5c0968['qfLSF'](_0x16eebd,_0xa76d4a['length']);_0x16eebd+=0x1){if(_0x5c0968['XwDZs'](_0x5c0968[_0x99a481(0x3b0)],_0x5c0968[_0x99a481(0x32d)])){const _0x5df6dd=_0x5c0968[_0x99a481(0x242)]['split']('|');let _0xf283a8=0x0;while(!![]){switch(_0x5df6dd[_0xf283a8++]){case'0':_0x321145[_0x99a481(0x235)]=_0x305e1e[this['cloudProviderName']][_0x99a481(0x2d0)];continue;case'1':this[_0x99a481(0x3e0)]();continue;case'2':_0x209e71['cloudProviderClientSecret']=_0x44cbc8[this[_0x99a481(0x295)]][_0x99a481(0x368)];continue;case'3':_0x29ca83[_0x99a481(0x29a)]=_0x24025e[this[_0x99a481(0x295)]][_0x99a481(0x338)];continue;case'4':_0x12d087[_0x99a481(0x2a2)]=_0x48b955[this['cloudProviderName']]['resourceGroup'];continue;case'5':_0x1071e6[_0x99a481(0x34c)]=_0x3b80b2[this[_0x99a481(0x295)]][_0x99a481(0x30c)];continue;}break;}}else console[_0x99a481(0x32f)]('['+_0x5c0968[_0x99a481(0x275)](_0x16eebd,0x1)+']\x20'+_0xa76d4a[_0x16eebd]);}const _0x4efbad=await _0x5c0968[_0x99a481(0x3c6)](_0x147f76,_0x5c0968[_0x99a481(0x2e3)]),_0x87c9d9=_0x5c0968['kTMAW'](Number,_0x4efbad);(_0x5c0968[_0x99a481(0x376)](isNaN,_0x87c9d9)||_0x5c0968['HpaOC'](_0x87c9d9,0x0)||_0x5c0968[_0x99a481(0x292)](_0x87c9d9,_0x118e28))&&(_0x5c0968['tKAQd'](_0x5c0968['ruOGN'],_0x5c0968[_0x99a481(0x22a)])?(console[_0x99a481(0x1ef)](_0x5c0968[_0x99a481(0x2de)]),process[_0x99a481(0x36f)](0x1)):_0x5c0968['wRbuO'](_0x4b44d8,()=>_0x44e3cb(),0x3e8)),_0x1d7f3b=_0xa76d4a[_0x5c0968['PTrJu'](_0x87c9d9,0x1)];}else _0x4bfdfc['push'](_0x55cbb3);}}global_registry[_0x99a481(0x2a2)]=_0x1d7f3b;const _0x5dd13c={};return _0x5dd13c[_0x99a481(0x2d0)]=_0xe381fb,_0x5dd13c[_0x99a481(0x368)]=_0x19cdbb,_0x5dd13c[_0x99a481(0x338)]=_0x15844c,_0x5dd13c[_0x99a481(0x30c)]=_0x1ce2dc,_0x5dd13c[_0x99a481(0x263)]=_0x1d7f3b,_0x28bde0[_0x99a481(0x2b0)][AZURE]=_0x5dd13c,_0x28bde0;}async[a1_0x22ad91(0x390)](){const _0x4351dd=a1_0x22ad91,_0x3bfcaf={};_0x3bfcaf[_0x4351dd(0x3f2)]=function(_0xa20f3e,_0x5cc5f4){return _0xa20f3e!==_0x5cc5f4;},_0x3bfcaf[_0x4351dd(0x1fc)]=_0x4351dd(0x3d1),_0x3bfcaf['tYviW']=_0x4351dd(0x306),_0x3bfcaf[_0x4351dd(0x308)]=function(_0x547be0,_0x330f34){return _0x547be0!==_0x330f34;},_0x3bfcaf[_0x4351dd(0x343)]=_0x4351dd(0x2a6),_0x3bfcaf[_0x4351dd(0x2ff)]=_0x4351dd(0x21b);const _0x1800f0=_0x3bfcaf,_0x5c0164=[];try{if(_0x1800f0[_0x4351dd(0x3f2)](_0x1800f0[_0x4351dd(0x1fc)],_0x1800f0[_0x4351dd(0x2d1)])){const _0x369764=await this[_0x4351dd(0x25f)]['resourceGroups'][_0x4351dd(0x3ae)]();for await(const _0x362ec1 of _0x369764){_0x1800f0[_0x4351dd(0x308)](_0x1800f0['Vskzq'],_0x1800f0[_0x4351dd(0x2ff)])?_0x5c0164['push'](_0x362ec1[_0x4351dd(0x22e)]):_0x207748['push'](_0x345de6);}}else _0x498bce[_0x4351dd(0x30d)](..._0x2e446a['actions']);}catch(_0x4b14c5){}return _0x5c0164;}async[a1_0x22ad91(0x311)](){const _0x5527d0=a1_0x22ad91;return this[_0x5527d0(0x3c4)]=await this[_0x5527d0(0x371)]['managedClusters'][_0x5527d0(0x2a4)](global_registry['cloudProviderResourceGroup'],this[_0x5527d0(0x323)]),this[_0x5527d0(0x3c4)];}async[a1_0x22ad91(0x2f9)](){const _0x569376=a1_0x22ad91,_0x4902f3=await this[_0x569376(0x371)][_0x569376(0x3d5)]['listClusterAdminCredentials'](global_registry[_0x569376(0x2a2)],this[_0x569376(0x323)]),_0xd5a591=_0x4902f3[_0x569376(0x255)][0x0][_0x569376(0x3c7)][_0x569376(0x28e)]();return _0xd5a591;}[a1_0x22ad91(0x238)](_0x5c4890){const _0x817fd0=a1_0x22ad91;return _0x5c4890[_0x817fd0(0x3a1)][_0x817fd0(0x20f)][_0x817fd0(0x2e9)][0x0][_0x817fd0(0x237)];}async[a1_0x22ad91(0x229)](){const _0x92012=a1_0x22ad91,_0x4bc346={};_0x4bc346[_0x92012(0x394)]=function(_0x41d57f,_0x485d35){return _0x41d57f!==_0x485d35;},_0x4bc346[_0x92012(0x268)]=_0x92012(0x205),_0x4bc346[_0x92012(0x30b)]=_0x92012(0x250),_0x4bc346[_0x92012(0x23a)]=function(_0x203e60,_0x1cfb85){return _0x203e60===_0x1cfb85;},_0x4bc346[_0x92012(0x3ce)]=_0x92012(0x398),_0x4bc346[_0x92012(0x355)]=_0x92012(0x392),_0x4bc346[_0x92012(0x217)]='ZIYwu';const _0x23f6af=_0x4bc346,_0x373705=new Array();for await(const _0x25d912 of this['containerClient'][_0x92012(0x3d5)][_0x92012(0x2d9)](global_registry[_0x92012(0x2a2)])){_0x23f6af[_0x92012(0x394)](_0x23f6af[_0x92012(0x268)],_0x23f6af[_0x92012(0x30b)])?_0x373705['push'](_0x25d912):_0x790d9c['push'](_0x4f133b);}for await(const _0x43d945 of _0x373705){if(_0x23f6af[_0x92012(0x23a)](_0x23f6af[_0x92012(0x3ce)],_0x23f6af[_0x92012(0x355)]))return _0x2949b2['error'](_0x92012(0x2ce)+_0x31c115+':'+_0x2effa7[_0x92012(0x1f0)]),{};else{if(_0x23f6af['ZEraw'](_0x43d945['name'],this[_0x92012(0x323)]))return _0x23f6af[_0x92012(0x394)](_0x23f6af[_0x92012(0x217)],_0x23f6af['pOQUj'])?!![]:(await this[_0x92012(0x311)](),!![]);}}return![];}async[a1_0x22ad91(0x3e8)](_0x390dde=null,_0x3e530a=null){const _0x1f67b2=a1_0x22ad91,_0x265717={};_0x265717[_0x1f67b2(0x260)]=_0x1f67b2(0x3b4),_0x265717[_0x1f67b2(0x313)]=_0x1f67b2(0x2be);const _0x1a6851=_0x265717,_0x40c494=_0x1a6851[_0x1f67b2(0x260)][_0x1f67b2(0x22c)]('|');let _0x5cbd76=0x0;while(!![]){switch(_0x40c494[_0x5cbd76++]){case'0':this['sendAzureInfoToHST']();continue;case'1':const _0x1c7e5b={};_0x1c7e5b[_0x1f67b2(0x20d)]=WS_EVENTS[_0x1f67b2(0x1ff)],_0x1c7e5b[_0x1f67b2(0x2e0)]=_0x1a6851[_0x1f67b2(0x313)],this[_0x1f67b2(0x2e2)][_0x1f67b2(0x224)](this['rws'],_0x1c7e5b);continue;case'2':logger[_0x1f67b2(0x215)](_0x1a6851[_0x1f67b2(0x313)]);continue;case'3':return[_0x390dde,_0x3e530a];case'4':await this[_0x1f67b2(0x1fa)]();continue;case'5':await this['createCluster'](_0x390dde,_0x3e530a);continue;}break;}}async[a1_0x22ad91(0x1f1)](_0x39bc79=null,_0x5ac486=null){const _0x412454=a1_0x22ad91,_0xbca891={};_0xbca891[_0x412454(0x2ec)]=_0x412454(0x20b),_0xbca891[_0x412454(0x3c2)]=_0x412454(0x267),_0xbca891[_0x412454(0x293)]=_0x412454(0x222),_0xbca891[_0x412454(0x218)]=_0x412454(0x28c),_0xbca891[_0x412454(0x3e5)]=_0x412454(0x337),_0xbca891[_0x412454(0x302)]=_0x412454(0x200),_0xbca891[_0x412454(0x301)]=function(_0x27f7d,_0x608831){return _0x27f7d!==_0x608831;},_0xbca891[_0x412454(0x2b9)]=function(_0x36190e,_0xd4aa1f){return _0x36190e!==_0xd4aa1f;},_0xbca891[_0x412454(0x32b)]=_0x412454(0x2dd),_0xbca891['EotmH']=_0x412454(0x300),_0xbca891[_0x412454(0x28a)]='Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.',_0xbca891[_0x412454(0x309)]=_0x412454(0x30f),_0xbca891[_0x412454(0x2aa)]=_0x412454(0x26e),_0xbca891['eWWhs']=_0x412454(0x1f9),_0xbca891[_0x412454(0x232)]=_0x412454(0x2d4);const _0x33ff33=_0xbca891;let _0x234e4b=await fs[_0x412454(0x248)](path['join'](__dirname,'..',_0x33ff33[_0x412454(0x2ec)],_0x33ff33[_0x412454(0x3c2)],_0x33ff33[_0x412454(0x293)]),_0x33ff33['sMZNC']);_0x234e4b=JSON[_0x412454(0x233)](_0x234e4b);const _0x5a6936={};_0x5a6936[_0x412454(0x3c7)]=this['clusterName'];const _0x1138a4={};_0x1138a4[_0x412454(0x3c7)]=global_registry[_0x412454(0x240)];const _0x41398d={};_0x41398d['value']=global_registry[_0x412454(0x3f0)];const _0x4d0057={};_0x4d0057[_0x412454(0x3c7)]=global_registry[_0x412454(0x249)];const _0x356d95={};_0x356d95[_0x412454(0x3c7)]=global_registry[_0x412454(0x243)]?_0x33ff33[_0x412454(0x3e5)]:_0x33ff33[_0x412454(0x302)];const _0x153de6={};_0x153de6[_0x412454(0x323)]=_0x5a6936,_0x153de6[_0x412454(0x380)]=_0x1138a4,_0x153de6[_0x412454(0x318)]=_0x41398d,_0x153de6[_0x412454(0x206)]=_0x4d0057,_0x153de6[_0x412454(0x243)]=_0x356d95;let _0x4bcbe7=_0x153de6;if(_0x33ff33['HFifL'](_0x39bc79,null)&&_0x33ff33[_0x412454(0x301)](_0x5ac486,null)){if(_0x33ff33[_0x412454(0x2b9)](_0x33ff33[_0x412454(0x32b)],_0x33ff33[_0x412454(0x32b)]))_0x2cf6f2[_0x412454(0x30d)](_0x871689);else{const _0x27303c={};_0x27303c['type']=_0x33ff33[_0x412454(0x281)],_0x27303c[_0x412454(0x2a1)]={},_0x27303c[_0x412454(0x2a1)][_0x412454(0x3ed)]=_0x33ff33[_0x412454(0x28a)];const _0x209be0={};_0x209be0['type']=_0x33ff33[_0x412454(0x281)],_0x209be0[_0x412454(0x2a1)]={},_0x209be0[_0x412454(0x2a1)][_0x412454(0x3ed)]=_0x33ff33['itnrA'],_0x234e4b[_0x412454(0x216)]={..._0x234e4b[_0x412454(0x216)],'vpcName':_0x27303c,'subnetName':_0x209be0};const _0x361b08={};_0x361b08['vnetSubnetID']=_0x33ff33[_0x412454(0x309)],_0x234e4b['variables']=_0x361b08,_0x234e4b[_0x412454(0x272)][0x0][_0x412454(0x3b7)][_0x412454(0x33b)][0x0]={..._0x234e4b[_0x412454(0x272)][0x0][_0x412454(0x3b7)]['agentPoolProfiles'][0x0],'vnetSubnetID':_0x33ff33[_0x412454(0x2aa)]};const _0x42fc2a={};_0x42fc2a['value']=_0x39bc79;const _0x139b8b={};_0x139b8b['value']=_0x5ac486[0x0],_0x4bcbe7={..._0x4bcbe7,'vpcName':_0x42fc2a,'subnetName':_0x139b8b};}}await this[_0x412454(0x25f)][_0x412454(0x28f)][_0x412454(0x34d)](global_registry[_0x412454(0x2a2)],_0x33ff33['eWWhs'],{'properties':{'template':_0x234e4b,'mode':_0x33ff33[_0x412454(0x232)],'parameters':_0x4bcbe7}});}async[a1_0x22ad91(0x1fa)](){const _0x5375a1=a1_0x22ad91,_0x2d1b0c={};_0x2d1b0c[_0x5375a1(0x2ba)]=_0x5375a1(0x26a),_0x2d1b0c[_0x5375a1(0x1f5)]=function(_0x57412c,_0x3f1a29){return _0x57412c!==_0x3f1a29;},_0x2d1b0c[_0x5375a1(0x1f2)]=_0x5375a1(0x3dd),_0x2d1b0c[_0x5375a1(0x349)]=_0x5375a1(0x33d),_0x2d1b0c[_0x5375a1(0x264)]=function(_0x461b10,_0x240549){return _0x461b10===_0x240549;},_0x2d1b0c[_0x5375a1(0x3d9)]=_0x5375a1(0x389),_0x2d1b0c['LcdWH']='oidHO',_0x2d1b0c[_0x5375a1(0x397)]=_0x5375a1(0x2ae),_0x2d1b0c[_0x5375a1(0x204)]='UkfsK',_0x2d1b0c['wsLdC']=_0x5375a1(0x36b),_0x2d1b0c[_0x5375a1(0x228)]=function(_0x5b44ff,_0x37d517){return _0x5b44ff!==_0x37d517;},_0x2d1b0c[_0x5375a1(0x1f4)]=_0x5375a1(0x3e7),_0x2d1b0c[_0x5375a1(0x2a5)]='mkOVT',_0x2d1b0c[_0x5375a1(0x3ac)]=_0x5375a1(0x273),_0x2d1b0c['ObJwy']=_0x5375a1(0x3a3),_0x2d1b0c[_0x5375a1(0x2b1)]=_0x5375a1(0x2cc);const _0x2031c5=_0x2d1b0c,_0x22cea4=await this[_0x5375a1(0x360)]();if(!_0x22cea4){if(_0x2031c5[_0x5375a1(0x1f5)](_0x2031c5[_0x5375a1(0x1f2)],_0x2031c5[_0x5375a1(0x1f2)]))return!![];else{const _0x1334cf={};_0x1334cf['type']=WS_EVENTS[_0x5375a1(0x1ff)],_0x1334cf[_0x5375a1(0x2e0)]=_0x2031c5[_0x5375a1(0x349)],this[_0x5375a1(0x2e2)]['sendEventToBackend'](this[_0x5375a1(0x2c3)],_0x1334cf),logger[_0x5375a1(0x215)](_0x2031c5['OHVzl']),await this['createStorageAccount']();}}else _0x2031c5['TeoGe'](_0x2031c5[_0x5375a1(0x3d9)],_0x2031c5['LcdWH'])?_0x458e98[_0x5375a1(0x30d)](_0x139d99):logger[_0x5375a1(0x215)](_0x2031c5[_0x5375a1(0x397)]);const _0x457b52=await this[_0x5375a1(0x283)]();if(!_0x457b52){if(_0x2031c5[_0x5375a1(0x1f5)](_0x2031c5[_0x5375a1(0x204)],_0x2031c5[_0x5375a1(0x204)]))_0x48a68d[_0x5375a1(0x3a1)]=![];else{const _0x227cd5={};_0x227cd5['type']=WS_EVENTS['LOG'],_0x227cd5[_0x5375a1(0x2e0)]=_0x2031c5['wsLdC'],this[_0x5375a1(0x2e2)]['sendEventToBackend'](this[_0x5375a1(0x2c3)],_0x227cd5),logger[_0x5375a1(0x215)](_0x2031c5[_0x5375a1(0x285)]),await this[_0x5375a1(0x2f2)]();}}else{if(_0x2031c5[_0x5375a1(0x228)](_0x2031c5[_0x5375a1(0x1f4)],_0x2031c5[_0x5375a1(0x2a5)]))logger[_0x5375a1(0x215)](_0x2031c5[_0x5375a1(0x3ac)]);else return _0x14541e['data']=_0x2031c5[_0x5375a1(0x2ba)],_0x47049b;}logger['info'](_0x2031c5[_0x5375a1(0x3ba)]),await this[_0x5375a1(0x29c)](),logger[_0x5375a1(0x215)](_0x2031c5[_0x5375a1(0x2b1)]);}async[a1_0x22ad91(0x347)](){const _0x147f65=a1_0x22ad91,_0x27486a={};_0x27486a['WnYJG']='templates',_0x27486a[_0x147f65(0x28d)]=_0x147f65(0x267),_0x27486a['GNmAG']=_0x147f65(0x348),_0x27486a[_0x147f65(0x3d0)]=_0x147f65(0x28c),_0x27486a[_0x147f65(0x3a9)]=_0x147f65(0x1fd),_0x27486a[_0x147f65(0x350)]=_0x147f65(0x2d4),_0x27486a[_0x147f65(0x280)]=_0x147f65(0x23d),_0x27486a[_0x147f65(0x354)]='Lifecycle',_0x27486a[_0x147f65(0x352)]=_0x147f65(0x241),_0x27486a['eftsK']=_0x147f65(0x2cb);const _0x4207fe=_0x27486a;let _0x500107=await fs[_0x147f65(0x248)](path[_0x147f65(0x379)](__dirname,'..',_0x4207fe[_0x147f65(0x2dc)],_0x4207fe['mKoHu'],_0x4207fe[_0x147f65(0x2e7)]),_0x4207fe['gQVXi']);_0x500107=JSON[_0x147f65(0x233)](_0x500107);const _0x1c8906=this[_0x147f65(0x37d)](),_0x43d53c={};_0x43d53c[_0x147f65(0x3c7)]=_0x1c8906;const _0x2eb7e3={};_0x2eb7e3[_0x147f65(0x38b)]=_0x43d53c,await this[_0x147f65(0x25f)][_0x147f65(0x28f)]['beginCreateOrUpdateAndWait'](global_registry[_0x147f65(0x2a2)],_0x4207fe[_0x147f65(0x3a9)],{'properties':{'template':_0x500107,'mode':_0x4207fe[_0x147f65(0x350)],'parameters':_0x2eb7e3}});const _0x509272={};_0x509272[_0x147f65(0x36d)]=0x3c;const _0x2ceebe={};_0x2ceebe[_0x147f65(0x327)]=_0x509272;const _0x2ff093={};_0x2ff093[_0x147f65(0x395)]=_0x2ceebe;const _0x50b0df={};_0x50b0df['enabled']=!![],_0x50b0df[_0x147f65(0x22e)]=_0x4207fe['JPAIv'],_0x50b0df[_0x147f65(0x20d)]=_0x4207fe[_0x147f65(0x354)],_0x50b0df[_0x147f65(0x1f6)]={},_0x50b0df[_0x147f65(0x1f6)][_0x147f65(0x328)]=_0x2ff093,_0x50b0df[_0x147f65(0x1f6)][_0x147f65(0x351)]={},_0x50b0df[_0x147f65(0x1f6)][_0x147f65(0x351)][_0x147f65(0x2ac)]=[_0x4207fe[_0x147f65(0x352)]];const _0x1e9888={};_0x1e9888[_0x147f65(0x2c0)]=[_0x50b0df];const _0x218610={};_0x218610[_0x147f65(0x26d)]=_0x1e9888;const _0xe1d8bd=_0x218610;await this[_0x147f65(0x29d)][_0x147f65(0x2d8)]['createOrUpdate'](global_registry[_0x147f65(0x2a2)],_0x1c8906,_0x4207fe[_0x147f65(0x259)],_0xe1d8bd);}async['createManagedIdentity'](){const _0x5c5d4a=a1_0x22ad91,_0x108823={};_0x108823[_0x5c5d4a(0x391)]=_0x5c5d4a(0x20b),_0x108823[_0x5c5d4a(0x261)]='azureresources',_0x108823['tYvHs']=_0x5c5d4a(0x24a),_0x108823[_0x5c5d4a(0x28b)]=_0x5c5d4a(0x28c),_0x108823['bqWnP']=_0x5c5d4a(0x2b6),_0x108823['tKCys']=_0x5c5d4a(0x2d4);const _0x43f6fd=_0x108823;let _0x152e64=await fs[_0x5c5d4a(0x248)](path['join'](__dirname,'..',_0x43f6fd[_0x5c5d4a(0x391)],_0x43f6fd[_0x5c5d4a(0x261)],_0x43f6fd['tYvHs']),_0x43f6fd[_0x5c5d4a(0x28b)]);_0x152e64=JSON[_0x5c5d4a(0x233)](_0x152e64),await this['resourceClient']['deployments']['beginCreateOrUpdateAndWait'](global_registry[_0x5c5d4a(0x2a2)],_0x43f6fd[_0x5c5d4a(0x277)],{'properties':{'template':_0x152e64,'mode':_0x43f6fd[_0x5c5d4a(0x1fb)],'parameters':{'clusterName':{'value':this['clusterName']}}}});}async[a1_0x22ad91(0x29c)](){const _0x599ffb=a1_0x22ad91,_0x47d6c5={};_0x47d6c5[_0x599ffb(0x265)]=_0x599ffb(0x300),_0x47d6c5[_0x599ffb(0x21f)]='Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.',_0x47d6c5[_0x599ffb(0x2b5)]=_0x599ffb(0x30f),_0x47d6c5[_0x599ffb(0x39e)]=_0x599ffb(0x26e),_0x47d6c5[_0x599ffb(0x2f0)]=function(_0x56432a,_0x2cc44e){return _0x56432a+_0x2cc44e;},_0x47d6c5[_0x599ffb(0x334)]=function(_0x4f02e0,_0x17d36a){return _0x4f02e0===_0x17d36a;},_0x47d6c5[_0x599ffb(0x321)]=_0x599ffb(0x314),_0x47d6c5[_0x599ffb(0x38c)]=_0x599ffb(0x258),_0x47d6c5[_0x599ffb(0x2bf)]=_0x599ffb(0x2c5),_0x47d6c5[_0x599ffb(0x231)]=_0x599ffb(0x3bc),_0x47d6c5[_0x599ffb(0x2fc)]=function(_0x111dce,_0x404698){return _0x111dce!==_0x404698;},_0x47d6c5['RWBeM']=_0x599ffb(0x201),_0x47d6c5[_0x599ffb(0x246)]=_0x599ffb(0x2c4),_0x47d6c5[_0x599ffb(0x3a6)]='templates',_0x47d6c5[_0x599ffb(0x2a8)]='azureresources',_0x47d6c5[_0x599ffb(0x286)]=_0x599ffb(0x28c),_0x47d6c5[_0x599ffb(0x3d7)]=_0x599ffb(0x203),_0x47d6c5[_0x599ffb(0x221)]=_0x599ffb(0x2d4);const _0x1427aa=_0x47d6c5;if(!this['clusterInfo']){if(_0x1427aa[_0x599ffb(0x334)](_0x1427aa[_0x599ffb(0x321)],_0x1427aa[_0x599ffb(0x38c)])){const _0x8d513f={};_0x8d513f[_0x599ffb(0x20d)]=_0x1427aa['LqpUH'],_0x8d513f[_0x599ffb(0x2a1)]={},_0x8d513f[_0x599ffb(0x2a1)][_0x599ffb(0x3ed)]=_0x1427aa['OaTQA'];const _0x4f51e0={};_0x4f51e0[_0x599ffb(0x20d)]=_0x1427aa[_0x599ffb(0x265)],_0x4f51e0[_0x599ffb(0x2a1)]={},_0x4f51e0[_0x599ffb(0x2a1)][_0x599ffb(0x3ed)]=_0x1427aa['OaTQA'];const _0x6c9054={..._0x359736['parameters']};_0x6c9054[_0x599ffb(0x252)]=_0x8d513f,_0x6c9054['subnetName']=_0x4f51e0,_0x7ab8f2['parameters']=_0x6c9054;const _0xce3c4a={};_0xce3c4a[_0x599ffb(0x27c)]=_0x1427aa[_0x599ffb(0x2b5)],_0x2cb451[_0x599ffb(0x399)]=_0xce3c4a;const _0x2e049c={..._0x429ed6[_0x599ffb(0x272)][0x0][_0x599ffb(0x3b7)]['agentPoolProfiles'][0x0]};_0x2e049c['vnetSubnetID']=_0x1427aa[_0x599ffb(0x39e)],_0x5a1490[_0x599ffb(0x272)][0x0][_0x599ffb(0x3b7)][_0x599ffb(0x33b)][0x0]=_0x2e049c;const _0x18a2ac={};_0x18a2ac['value']=_0x4f4793;const _0x5023c4={};_0x5023c4[_0x599ffb(0x3c7)]=_0x2370f5[0x0];const _0x547b78={..._0x3b5ae2};_0x547b78['vpcName']=_0x18a2ac,_0x547b78[_0x599ffb(0x319)]=_0x5023c4,_0xfa6cb1=_0x547b78;}else await this[_0x599ffb(0x311)]();}const _0x472f6a=this[_0x599ffb(0x3c4)]?.['oidcIssuerProfile']?.[_0x599ffb(0x375)],_0x539145=[_0x1427aa[_0x599ffb(0x2bf)],_0x1427aa[_0x599ffb(0x231)]];for await(const _0x47bced of _0x539145){if(_0x1427aa[_0x599ffb(0x2fc)](_0x1427aa[_0x599ffb(0x3aa)],_0x1427aa['tdTlT'])){let _0x3f0855=await fs['readFileAsync'](path[_0x599ffb(0x379)](__dirname,'..',_0x1427aa[_0x599ffb(0x3a6)],_0x1427aa['gUzPF'],'federatedidentity'+_0x47bced+'.json'),_0x1427aa[_0x599ffb(0x286)]);_0x3f0855=JSON[_0x599ffb(0x233)](_0x3f0855);const _0x3949c3={};_0x3949c3['value']=_0x472f6a,await this[_0x599ffb(0x25f)][_0x599ffb(0x28f)]['beginCreateOrUpdateAndWait'](global_registry[_0x599ffb(0x2a2)],_0x1427aa[_0x599ffb(0x3d7)],{'properties':{'template':_0x3f0855,'mode':_0x1427aa[_0x599ffb(0x221)],'parameters':{'oidcIssuer':_0x3949c3,'gridName':{'value':this[_0x599ffb(0x39f)]},'clusterName':{'value':this[_0x599ffb(0x323)]}}}});}else _0x5564c9[_0x599ffb(0x32f)]('['+_0x1427aa[_0x599ffb(0x2f0)](_0x279af1,0x1)+']\x20'+_0x2efdc0[_0x5cd644]);}}async[a1_0x22ad91(0x26f)](_0xab8872,_0x1af55c,_0x39813f,_0xa3c5dc,_0x3f3c29){const _0x16a63e=a1_0x22ad91,_0x2664a0={};_0x2664a0[_0x16a63e(0x3d6)]=_0x16a63e(0x2b8),_0x2664a0['mkbml']='Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha';const _0x562691=_0x2664a0,_0x3272dc={};_0x3272dc[_0x16a63e(0x20d)]=WS_EVENTS[_0x16a63e(0x1ff)],_0x3272dc[_0x16a63e(0x2e0)]=_0x562691[_0x16a63e(0x3d6)],this[_0x16a63e(0x2e2)][_0x16a63e(0x224)](this[_0x16a63e(0x2c3)],_0x3272dc),logger[_0x16a63e(0x215)](_0x562691[_0x16a63e(0x3d6)]),await this[_0x16a63e(0x341)]();const _0x131413={};_0x131413['type']=WS_EVENTS[_0x16a63e(0x1ff)],_0x131413[_0x16a63e(0x2e0)]=_0x562691[_0x16a63e(0x303)],this['webSocketUtils']['sendEventToBackend'](this['rws'],_0x131413);}async[a1_0x22ad91(0x341)](){const _0xc2826b=a1_0x22ad91,_0x3cc2ce={};_0x3cc2ce['TUXnf']=_0xc2826b(0x39c),_0x3cc2ce[_0xc2826b(0x227)]=function(_0x472960,_0x13bf43){return _0x472960===_0x13bf43;},_0x3cc2ce['VWsoO']=_0xc2826b(0x386),_0x3cc2ce[_0xc2826b(0x2d7)]=_0xc2826b(0x30a),_0x3cc2ce[_0xc2826b(0x32e)]=_0xc2826b(0x20b),_0x3cc2ce[_0xc2826b(0x2b3)]=_0xc2826b(0x298),_0x3cc2ce[_0xc2826b(0x3cc)]=_0xc2826b(0x2f4),_0x3cc2ce[_0xc2826b(0x3df)]='utf-8',_0x3cc2ce['ucgid']=_0xc2826b(0x203),_0x3cc2ce[_0xc2826b(0x213)]=_0xc2826b(0x2d4);const _0x4aacc5=_0x3cc2ce;!this[_0xc2826b(0x3c4)]&&(_0x4aacc5[_0xc2826b(0x227)](_0x4aacc5[_0xc2826b(0x2af)],_0x4aacc5[_0xc2826b(0x2d7)])?(_0x60d5e8['error'](_0x4aacc5[_0xc2826b(0x236)]),_0x3308c2[_0xc2826b(0x36f)](0x1)):await this[_0xc2826b(0x311)]());const _0xf042bc=this[_0xc2826b(0x3c4)]?.[_0xc2826b(0x316)]?.[_0xc2826b(0x375)];let _0x1105ef=await fs[_0xc2826b(0x248)](path['join'](__dirname,'..',_0x4aacc5['CJTyB'],_0x4aacc5[_0xc2826b(0x2b3)],_0x4aacc5['HyMkH']),_0x4aacc5['KcmVv']);_0x1105ef=JSON[_0xc2826b(0x233)](_0x1105ef);const _0x247a97={};_0x247a97[_0xc2826b(0x3c7)]=_0xf042bc,await this[_0xc2826b(0x25f)][_0xc2826b(0x28f)][_0xc2826b(0x34d)](global_registry['cloudProviderResourceGroup'],_0x4aacc5[_0xc2826b(0x35f)],{'properties':{'template':_0x1105ef,'mode':_0x4aacc5['Bbdsg'],'parameters':{'oidcIssuer':_0x247a97,'namespace':{'value':global_registry[_0xc2826b(0x382)]},'clusterName':{'value':this[_0xc2826b(0x323)]}}}});}async['isStorageAccountPresent'](){const _0x486b54=a1_0x22ad91,_0x58fc6d={};_0x58fc6d[_0x486b54(0x284)]=function(_0x479bb1,_0x396f39){return _0x479bb1===_0x396f39;},_0x58fc6d['aGgji']=_0x486b54(0x39c),_0x58fc6d[_0x486b54(0x38a)]=function(_0x10b005,_0x115a86){return _0x10b005===_0x115a86;},_0x58fc6d[_0x486b54(0x1fe)]=_0x486b54(0x381),_0x58fc6d[_0x486b54(0x332)]=_0x486b54(0x3dc),_0x58fc6d[_0x486b54(0x36a)]=function(_0x56f466,_0x34d812){return _0x56f466!==_0x34d812;},_0x58fc6d[_0x486b54(0x35c)]=_0x486b54(0x34e),_0x58fc6d['kXVEo']=_0x486b54(0x3b1),_0x58fc6d[_0x486b54(0x3e9)]=_0x486b54(0x3bf),_0x58fc6d[_0x486b54(0x3c8)]=_0x486b54(0x2da);const _0x4c9cb7=_0x58fc6d,_0x30e2ca=this[_0x486b54(0x37d)](),_0x322ccb=new Array();for await(const _0x315516 of this[_0x486b54(0x29d)]['storageAccounts']['listByResourceGroup'](global_registry[_0x486b54(0x2a2)])){if(_0x4c9cb7[_0x486b54(0x38a)](_0x4c9cb7[_0x486b54(0x1fe)],_0x4c9cb7[_0x486b54(0x332)]))return!![];else _0x322ccb[_0x486b54(0x30d)](_0x315516);}for await(const _0x6ff742 of _0x322ccb){if(_0x4c9cb7[_0x486b54(0x36a)](_0x4c9cb7[_0x486b54(0x35c)],_0x4c9cb7[_0x486b54(0x3af)])){if(_0x4c9cb7[_0x486b54(0x284)](_0x6ff742[_0x486b54(0x22e)],_0x30e2ca)){if(_0x4c9cb7['wQldB'](_0x4c9cb7[_0x486b54(0x3e9)],_0x4c9cb7[_0x486b54(0x3c8)]))return!![];else{if(_0x4c9cb7[_0x486b54(0x284)](_0x4d8798[_0x486b54(0x22e)],_0x486b54(0x20c)+this[_0x486b54(0x323)]))return!![];}}}else _0x35d1a9['error'](_0x4c9cb7[_0x486b54(0x310)]),_0x330149[_0x486b54(0x36f)](0x1);}return![];}async[a1_0x22ad91(0x283)](){const _0xbb65d7=a1_0x22ad91,_0x3c2ca5={};_0x3c2ca5['ICVqQ']=function(_0x35dd3e,_0x533d5e){return _0x35dd3e===_0x533d5e;},_0x3c2ca5[_0xbb65d7(0x299)]='Enabling\x20Local\x20account\x20for\x20the\x20cluster',_0x3c2ca5['VdqoJ']=_0xbb65d7(0x304),_0x3c2ca5['vwUeG']=function(_0x129af7,_0x47b17d){return _0x129af7===_0x47b17d;},_0x3c2ca5[_0xbb65d7(0x2f1)]='ehwCt',_0x3c2ca5[_0xbb65d7(0x39a)]=function(_0x2d0516,_0x2a3c23){return _0x2d0516!==_0x2a3c23;},_0x3c2ca5['uFghv']=_0xbb65d7(0x358);const _0x18e132=_0x3c2ca5,_0x408004=new Array();for await(const _0x32d529 of this[_0xbb65d7(0x25f)][_0xbb65d7(0x272)][_0xbb65d7(0x2d9)](global_registry['cloudProviderResourceGroup'])){_0x18e132['ICVqQ'](_0x18e132[_0xbb65d7(0x353)],_0x18e132[_0xbb65d7(0x353)])?_0x408004[_0xbb65d7(0x30d)](_0x32d529):_0x18e132[_0xbb65d7(0x374)](_0x5e9665[_0xbb65d7(0x22e)],_0x313df9)&&(_0x3a1d7e=_0x16465e['id']);}for await(const _0x2793aa of _0x408004){if(_0x18e132[_0xbb65d7(0x36c)](_0x18e132[_0xbb65d7(0x2f1)],_0x18e132[_0xbb65d7(0x2f1)])){if(_0x18e132[_0xbb65d7(0x36c)](_0x2793aa[_0xbb65d7(0x22e)],_0xbb65d7(0x20c)+this[_0xbb65d7(0x323)])){if(_0x18e132[_0xbb65d7(0x39a)](_0x18e132[_0xbb65d7(0x269)],_0x18e132[_0xbb65d7(0x269)]))_0xcf70f2[_0xbb65d7(0x30d)](_0x5eaf1e['name']);else return!![];}}else{_0x45ec54[_0xbb65d7(0x215)](_0x18e132[_0xbb65d7(0x299)]);const _0x386189={};_0x386189['type']=_0x4d21e0[_0xbb65d7(0x2f6)],_0x386189[_0xbb65d7(0x2e0)]=_0x18e132['bsWQt'],this[_0xbb65d7(0x2e2)][_0xbb65d7(0x224)](this[_0xbb65d7(0x2c3)],_0x386189),_0x2c551e[_0xbb65d7(0x3e1)]=![];}}return![];}async['getResourceClientId'](_0x487820,_0x5b783e=0x3){const _0x90cb90=a1_0x22ad91,_0x33eff4={'eOYkZ':_0x90cb90(0x29e),'yeMCr':_0x90cb90(0x2f3),'TXYdk':_0x90cb90(0x274),'vMwim':'denied','BVtyJ':_0x90cb90(0x214),'tfceF':function(_0x3a77b9,_0x47f41d){return _0x3a77b9===_0x47f41d;},'ziEbI':_0x90cb90(0x2ae),'SNmIm':function(_0x2b4963,_0x537a4d){return _0x2b4963!==_0x537a4d;},'MwSrs':'VMBQx','luWlS':_0x90cb90(0x3c3),'fNgno':function(_0x1b2c67,_0x5d2eaf,_0xf5f75f){return _0x1b2c67(_0x5d2eaf,_0xf5f75f);},'AgHIV':function(_0x48f422,_0x3e24d0){return _0x48f422!==_0x3e24d0;},'JKjqX':'YhBqL','uwPVu':'orcLe','FCHLV':_0x90cb90(0x27a),'RZaQp':'wfvks','Ptbjj':_0x90cb90(0x2e6),'pVmya':_0x90cb90(0x3ad),'CJjAH':_0x90cb90(0x372),'UWfTl':_0x90cb90(0x336),'MpISB':_0x90cb90(0x3ee),'EWVaj':function(_0x2d04d4,_0x5c66fa){return _0x2d04d4<=_0x5c66fa;},'OrlTc':function(_0x4db176,_0x5428ba){return _0x4db176===_0x5428ba;},'iKcyJ':_0x90cb90(0x3ea),'QqcOp':_0x90cb90(0x3a5),'cHxnD':function(_0x1816e2,_0x5f3c7f){return _0x1816e2-_0x5f3c7f;}};try{if(_0x33eff4[_0x90cb90(0x2e1)](_0x33eff4[_0x90cb90(0x3a2)],_0x33eff4[_0x90cb90(0x289)])){const _0x2f6f9f=new Array();for await(const _0x1f9e6a of this[_0x90cb90(0x25f)][_0x90cb90(0x272)][_0x90cb90(0x2d9)](global_registry[_0x90cb90(0x2a2)])){if(_0x33eff4['tfceF'](_0x33eff4[_0x90cb90(0x3cb)],_0x33eff4['RZaQp']))throw new _0x36b94c(_0x33eff4[_0x90cb90(0x3bd)],_0x90cb90(0x3bb)+_0x3f06de[_0x90cb90(0x211)](_0x2b1e62));else _0x2f6f9f[_0x90cb90(0x30d)](_0x1f9e6a);}let _0x3bb8c5='';for await(const _0x468f8b of _0x2f6f9f){if(_0x33eff4[_0x90cb90(0x25d)](_0x33eff4[_0x90cb90(0x38f)],_0x33eff4[_0x90cb90(0x21d)])){_0x2200ab[_0x90cb90(0x215)](_0x33eff4['yeMCr']);const _0x105edf={};_0x105edf[_0x90cb90(0x20d)]=_0x10f838[_0x90cb90(0x2f6)],_0x105edf[_0x90cb90(0x2e0)]=_0x33eff4[_0x90cb90(0x2f8)],this[_0x90cb90(0x2e2)]['sendEventToBackend'](this['rws'],_0x105edf);const _0x1bc335={};_0x1bc335['enabled']=!![];const _0x1d313e={'workloadIdentity':_0x1bc335,..._0x3b57bc[_0x90cb90(0x324)]};_0x5a1d31[_0x90cb90(0x324)]=_0x1d313e;}else{if(_0x33eff4[_0x90cb90(0x25d)](_0x468f8b[_0x90cb90(0x22e)],_0x487820)){if(_0x33eff4[_0x90cb90(0x2ed)](_0x33eff4['CJjAH'],_0x33eff4[_0x90cb90(0x2b2)])){const _0x2a53bb=_0x5949dd[_0x90cb90(0x2c9)](_0x494777);_0x34492a+='\x0a\x09'+_0x58ed91+':\x20'+(_0x2a53bb?_0x33eff4[_0x90cb90(0x25c)]:_0x33eff4[_0x90cb90(0x34a)]),!_0x2a53bb&&(_0x501477[_0x90cb90(0x3a1)]=![]);}else _0x3bb8c5=_0x468f8b['id'];}}}const _0x483988=await this[_0x90cb90(0x25f)][_0x90cb90(0x272)]['getById'](_0x3bb8c5,_0x33eff4[_0x90cb90(0x3ab)]);return _0x483988[_0x90cb90(0x3b7)][_0x90cb90(0x2d0)];}else _0x527da1[_0x90cb90(0x1f8)][_0x90cb90(0x30d)](_0x7e4297);}catch(_0x486eac){if(_0x33eff4['AgHIV'](_0x33eff4[_0x90cb90(0x3b9)],_0x33eff4[_0x90cb90(0x3b9)])){_0x2be594[_0x90cb90(0x215)](_0x33eff4[_0x90cb90(0x2bb)]);const _0x33c9bb={};_0x33c9bb['type']=_0x180752[_0x90cb90(0x2f6)],_0x33c9bb[_0x90cb90(0x2e0)]=_0x33eff4[_0x90cb90(0x2bb)],this[_0x90cb90(0x2e2)][_0x90cb90(0x224)](this[_0x90cb90(0x2c3)],_0x33c9bb),_0x571cd5[_0x90cb90(0x316)][_0x90cb90(0x212)]=!![];}else{if(_0x33eff4['EWVaj'](_0x5b783e,0x0)){if(_0x33eff4['OrlTc'](_0x33eff4['iKcyJ'],_0x33eff4[_0x90cb90(0x31c)])){if(_0x33eff4[_0x90cb90(0x25d)](_0x2f1a94['name'],_0x5cea72))return!![];}else return logger[_0x90cb90(0x1ef)](_0x90cb90(0x2ce)+_0x486eac+':'+_0x486eac[_0x90cb90(0x1f0)]),{};}return await new Promise(_0x40b5ac=>{const _0x1e5e3d=_0x90cb90,_0x28417e={};_0x28417e[_0x1e5e3d(0x35b)]=_0x33eff4[_0x1e5e3d(0x37e)];const _0x286a95=_0x28417e;_0x33eff4[_0x1e5e3d(0x2ed)](_0x33eff4[_0x1e5e3d(0x33a)],_0x33eff4[_0x1e5e3d(0x35d)])?_0x33eff4[_0x1e5e3d(0x377)](setTimeout,()=>_0x40b5ac(),0x3e8):_0xd7bbf5['info'](_0x286a95['xImRG']);}),this['getResourceClientId'](_0x487820,_0x33eff4[_0x90cb90(0x31a)](_0x5b783e,0x1));}}}async['isBrowserstackCluster'](){const _0x2f454f=a1_0x22ad91,_0x331ccf={};_0x331ccf['ZMLTT']='No\x20CLI\x20tool\x20required',_0x331ccf[_0x2f454f(0x2ea)]=function(_0x21f922,_0xff1d0){return _0x21f922!==_0xff1d0;},_0x331ccf[_0x2f454f(0x257)]=_0x2f454f(0x2c8),_0x331ccf['uSQXv']=function(_0x2783de,_0x6430d1){return _0x2783de===_0x6430d1;},_0x331ccf[_0x2f454f(0x3a0)]=_0x2f454f(0x326),_0x331ccf[_0x2f454f(0x27f)]=_0x2f454f(0x37c),_0x331ccf[_0x2f454f(0x24f)]=function(_0x2d31de,_0x2f1d87){return _0x2d31de===_0x2f1d87;},_0x331ccf['ugCCu']=_0x2f454f(0x3ef),_0x331ccf[_0x2f454f(0x254)]=_0x2f454f(0x344);const _0x4982dd=_0x331ccf;if(!this[_0x2f454f(0x3c4)]){if(_0x4982dd[_0x2f454f(0x2ea)](_0x4982dd[_0x2f454f(0x257)],_0x4982dd[_0x2f454f(0x257)]))return _0x12ccf0[_0x2f454f(0x1ef)]=_0x419fbb['error'],_0x35d8bd;else await this[_0x2f454f(0x311)]();}const _0x2fbb03=this[_0x2f454f(0x3c4)]?.[_0x2f454f(0x356)]||{};if(_0x2fbb03&&_0x4982dd[_0x2f454f(0x1f3)](_0x2fbb03[_0x4982dd[_0x2f454f(0x3a0)]],_0x4982dd[_0x2f454f(0x27f)])){if(_0x4982dd[_0x2f454f(0x24f)](_0x4982dd[_0x2f454f(0x219)],_0x4982dd[_0x2f454f(0x254)])){const _0x58cbbb={};_0x58cbbb[_0x2f454f(0x3a1)]=!![],_0x58cbbb['error']=null,_0x58cbbb['data']=_0x4982dd['ZMLTT'];const _0x171c73=_0x58cbbb;return _0x171c73;}else return!![];}return![];}async[a1_0x22ad91(0x322)](_0x535cc4,_0x416958){const _0x45e28c=a1_0x22ad91,_0x5c7ba8={'hJTOt':function(_0x10a6c5,_0x17cff8){return _0x10a6c5(_0x17cff8);},'ivcxU':_0x45e28c(0x357)};await _0x5c7ba8[_0x45e28c(0x226)](deleteAgent,_0x535cc4),await _0x5c7ba8[_0x45e28c(0x226)](deleteRoutingDeps,_0x535cc4);const _0x10e7bf=this['containerClient'];logger[_0x45e28c(0x215)]('Deleting\x20the\x20cluster\x20'+this['clusterName']),await _0x10e7bf[_0x45e28c(0x3d5)]['beginDeleteAndWait'](global_registry[_0x45e28c(0x2a2)],this['clusterName']),logger[_0x45e28c(0x215)](_0x5c7ba8[_0x45e28c(0x3f4)]);}async[a1_0x22ad91(0x23b)](){const _0x2a8e51=a1_0x22ad91,_0x447c68={};_0x447c68[_0x2a8e51(0x38d)]=function(_0x418490,_0x3acdda){return _0x418490===_0x3acdda;},_0x447c68[_0x2a8e51(0x35e)]=_0x2a8e51(0x31e),_0x447c68[_0x2a8e51(0x22b)]=function(_0x254729,_0x345f9d){return _0x254729&&_0x345f9d;},_0x447c68[_0x2a8e51(0x24e)]=function(_0x17a41e,_0x50f8d7){return _0x17a41e!==_0x50f8d7;},_0x447c68['FUKbt']=_0x2a8e51(0x245),_0x447c68[_0x2a8e51(0x2d2)]=_0x2a8e51(0x21c),_0x447c68[_0x2a8e51(0x278)]=_0x2a8e51(0x214),_0x447c68[_0x2a8e51(0x362)]=function(_0x6ccad8,_0x5a6f0b){return _0x6ccad8!==_0x5a6f0b;},_0x447c68[_0x2a8e51(0x2e4)]=_0x2a8e51(0x36e),_0x447c68[_0x2a8e51(0x266)]=_0x2a8e51(0x22f),_0x447c68[_0x2a8e51(0x3c0)]='Enabling\x20Workload\x20identity\x20for\x20the\x20cluster',_0x447c68[_0x2a8e51(0x27d)]=function(_0x4bb466,_0x3f9ef5){return _0x4bb466===_0x3f9ef5;},_0x447c68[_0x2a8e51(0x329)]=_0x2a8e51(0x23e),_0x447c68['krNwU']='Enabling\x20Local\x20account\x20for\x20the\x20cluster';const _0x45bfb9=_0x447c68;if(!this[_0x2a8e51(0x3c4)]){if(_0x45bfb9[_0x2a8e51(0x38d)](_0x45bfb9['fHFub'],_0x45bfb9['fHFub']))await this[_0x2a8e51(0x311)]();else return;}const _0x3948e3=this['clusterInfo'],_0x373446=this[_0x2a8e51(0x3c4)]?.['oidcIssuerProfile']?.[_0x2a8e51(0x212)]||![],_0x5a9c3d=this['clusterInfo']?.[_0x2a8e51(0x324)]?.[_0x2a8e51(0x32a)]?.[_0x2a8e51(0x212)]||![],_0x44d407=!this[_0x2a8e51(0x3c4)]?.['disableLocalAccounts']||![];if(_0x45bfb9[_0x2a8e51(0x22b)](_0x373446,_0x5a9c3d)&&_0x44d407){if(_0x45bfb9['iiDFt'](_0x45bfb9[_0x2a8e51(0x3f3)],_0x45bfb9[_0x2a8e51(0x3f3)]))_0x449e6b[_0x2a8e51(0x1ef)]=_0xd22d24;else return;}if(!_0x373446){if(_0x45bfb9[_0x2a8e51(0x24e)](_0x45bfb9[_0x2a8e51(0x2d2)],_0x45bfb9['QXmVq']))_0x507db8=_0x59ab7f['id'];else{logger[_0x2a8e51(0x215)](_0x45bfb9[_0x2a8e51(0x278)]);const _0x1a47ac={};_0x1a47ac['type']=WS_EVENTS[_0x2a8e51(0x2f6)],_0x1a47ac[_0x2a8e51(0x2e0)]=_0x45bfb9[_0x2a8e51(0x278)],this[_0x2a8e51(0x2e2)][_0x2a8e51(0x224)](this['rws'],_0x1a47ac),_0x3948e3[_0x2a8e51(0x316)]['enabled']=!![];}}if(!_0x5a9c3d){if(_0x45bfb9[_0x2a8e51(0x362)](_0x45bfb9[_0x2a8e51(0x2e4)],_0x45bfb9[_0x2a8e51(0x266)])){logger[_0x2a8e51(0x215)](_0x45bfb9[_0x2a8e51(0x3c0)]);const _0x31deb9={};_0x31deb9[_0x2a8e51(0x20d)]=WS_EVENTS[_0x2a8e51(0x2f6)],_0x31deb9[_0x2a8e51(0x2e0)]=_0x45bfb9[_0x2a8e51(0x3c0)],this[_0x2a8e51(0x2e2)][_0x2a8e51(0x224)](this['rws'],_0x31deb9);const _0x76f1b1={};_0x76f1b1[_0x2a8e51(0x212)]=!![],_0x3948e3['securityProfile']={'workloadIdentity':_0x76f1b1,..._0x3948e3['securityProfile']};}else return _0x15b309[_0x2a8e51(0x1ef)](_0x2a8e51(0x210)+_0x9f61f5+_0x2a8e51(0x3ca)+_0xcd937f),[![],[]];}if(!_0x44d407){if(_0x45bfb9[_0x2a8e51(0x27d)](_0x45bfb9['yRoZt'],_0x45bfb9[_0x2a8e51(0x329)])){logger[_0x2a8e51(0x215)](_0x45bfb9['krNwU']);const _0x4cd267={};_0x4cd267[_0x2a8e51(0x20d)]=WS_EVENTS[_0x2a8e51(0x2f6)],_0x4cd267['message']=_0x45bfb9[_0x2a8e51(0x2ca)],this[_0x2a8e51(0x2e2)][_0x2a8e51(0x224)](this[_0x2a8e51(0x2c3)],_0x4cd267),_0x3948e3['disableLocalAccounts']=![];}else return _0x3aa345[_0x2a8e51(0x3a1)][_0x2a8e51(0x20f)][_0x2a8e51(0x2e9)][0x0][_0x2a8e51(0x237)];}await this[_0x2a8e51(0x371)][_0x2a8e51(0x3d5)]['beginCreateOrUpdateAndWait'](global_registry[_0x2a8e51(0x2a2)],this['clusterName'],_0x3948e3),await this[_0x2a8e51(0x311)]();}async[a1_0x22ad91(0x361)](){const _0x15d2a3=a1_0x22ad91,_0x26a9f3={};_0x26a9f3[_0x15d2a3(0x364)]=function(_0x188376,_0x164a79){return _0x188376!==_0x164a79;},_0x26a9f3[_0x15d2a3(0x230)]=_0x15d2a3(0x31d);const _0x231d98=_0x26a9f3,_0x47faf8=await this['networkClient']['virtualNetworks'][_0x15d2a3(0x276)](global_registry[_0x15d2a3(0x2a2)]),_0xfbb5f8={};_0xfbb5f8['username']=global_registry[_0x15d2a3(0x2ad)],_0xfbb5f8['accessKey']=global_registry['bstackAccesskey'],_0xfbb5f8[_0x15d2a3(0x2b0)]=AZURE,_0xfbb5f8[_0x15d2a3(0x1f8)]=[];const _0x575899=_0xfbb5f8;for await(const _0x5c8eca of _0x47faf8){if(_0x231d98[_0x15d2a3(0x364)](_0x231d98[_0x15d2a3(0x230)],_0x231d98[_0x15d2a3(0x230)])){const _0x4c1b35=new _0x37fc50(_0x4489d3[_0x15d2a3(0x29a)],_0x1667d8[_0x15d2a3(0x235)],_0x806ba2['cloudProviderClientSecret']);this[_0x15d2a3(0x371)]=new _0xbee669(_0x4c1b35,_0x41c92c[_0x15d2a3(0x34c)]),this[_0x15d2a3(0x29d)]=new _0x39da37(_0x4c1b35,_0x184416[_0x15d2a3(0x34c)]),this[_0x15d2a3(0x25f)]=new _0x16b266(_0x4c1b35,_0x3b149c[_0x15d2a3(0x34c)]),this[_0x15d2a3(0x385)]=new _0x3749b0(_0x4c1b35,_0x4402c2[_0x15d2a3(0x34c)]),this[_0x15d2a3(0x307)]=new _0x280cdc(_0x4c1b35,_0x3e0e01[_0x15d2a3(0x34c)]),this[_0x15d2a3(0x331)]=_0x4c1b35;}else _0x575899[_0x15d2a3(0x1f8)][_0x15d2a3(0x30d)](_0x5c8eca);}const _0x4ca8cc={};_0x4ca8cc[_0x15d2a3(0x20d)]=WS_EVENTS['RESOURCES'],_0x4ca8cc['message']=_0x575899,this[_0x15d2a3(0x2e2)]['sendEventToBackend'](this[_0x15d2a3(0x2c3)],_0x4ca8cc);}async[a1_0x22ad91(0x33f)](_0x4517c8){const _0x2819e6=a1_0x22ad91,_0x1006ff={};_0x1006ff[_0x2819e6(0x2db)]=_0x2819e6(0x2bd),_0x1006ff[_0x2819e6(0x290)]=function(_0x24c339,_0x545270){return _0x24c339+_0x545270;},_0x1006ff['FJQnd']='turboscale',_0x1006ff[_0x2819e6(0x39b)]=function(_0x4478e1,_0x3eb60a){return _0x4478e1-_0x3eb60a;},_0x1006ff[_0x2819e6(0x208)]=function(_0x252cc7,_0x3315f9){return _0x252cc7===_0x3315f9;},_0x1006ff[_0x2819e6(0x270)]=_0x2819e6(0x3cd),_0x1006ff[_0x2819e6(0x2a7)]=function(_0x271855,_0x3ed9f8){return _0x271855!==_0x3ed9f8;},_0x1006ff['Xyydh']=_0x2819e6(0x225),_0x1006ff['WNrWR']=_0x2819e6(0x3a4),_0x1006ff['wVLHV']=function(_0x2e4e62,_0x47c96d){return _0x2e4e62===_0x47c96d;},_0x1006ff['GBcYq']='oQybX',_0x1006ff[_0x2819e6(0x32c)]=_0x2819e6(0x335),_0x1006ff[_0x2819e6(0x388)]=function(_0x32bebf,_0x3c419e){return _0x32bebf===_0x3c419e;},_0x1006ff[_0x2819e6(0x25e)]=function(_0x468e48,_0x1f3e6d){return _0x468e48===_0x1f3e6d;},_0x1006ff[_0x2819e6(0x2df)]='gTGaL',_0x1006ff['okVjq']=function(_0x2dc6bc,_0x38c32d){return _0x2dc6bc!==_0x38c32d;},_0x1006ff[_0x2819e6(0x2f5)]=_0x2819e6(0x202),_0x1006ff[_0x2819e6(0x3c9)]='naqSy';const _0x4d93bd=_0x1006ff;try{if(_0x4d93bd['XBguH'](_0x4d93bd[_0x2819e6(0x2cd)],_0x4d93bd[_0x2819e6(0x251)])){const _0x2943e4=await this['networkClient'][_0x2819e6(0x315)][_0x2819e6(0x276)](global_registry[_0x2819e6(0x2a2)]);for await(const _0x34fdf5 of _0x2943e4){if(_0x4d93bd[_0x2819e6(0x30e)](_0x4d93bd[_0x2819e6(0x3db)],_0x4d93bd[_0x2819e6(0x32c)]))return[!![],_0x273fda];else{if(_0x4d93bd['SxzVd'](_0x34fdf5[_0x2819e6(0x22e)],_0x4517c8))return _0x4d93bd[_0x2819e6(0x25e)](_0x4d93bd[_0x2819e6(0x2df)],_0x4d93bd['oIEjF'])?!![]:(_0x1bb7d3[_0x2819e6(0x2fa)]=_0x4d93bd[_0x2819e6(0x2db)],_0x20a959);}}}else{const _0x3fec95=_0x54f2f7[_0x2819e6(0x3b2)][_0x2819e6(0x22c)]('-'),_0x1a16ee=_0x4d93bd[_0x2819e6(0x290)](_0x4d93bd[_0x2819e6(0x2d6)],_0x3fec95[_0x4d93bd['INvqn'](_0x3fec95[_0x2819e6(0x256)],0x1)])[_0x2819e6(0x346)](0x0,0x18);return _0x1a16ee[_0x2819e6(0x3b6)]();}}catch(_0x2adf20){if(_0x4d93bd[_0x2819e6(0x312)](_0x4d93bd[_0x2819e6(0x2f5)],_0x4d93bd[_0x2819e6(0x3c9)]))return logger[_0x2819e6(0x1ef)](_0x2819e6(0x21e)+_0x4517c8+_0x2819e6(0x287)+_0x2adf20),![];else _0xc3da2b+=_0x4d93bd['hXeHM'](_0x2ef0f2[_0x2819e6(0x256)],0x0)?_0x4d93bd[_0x2819e6(0x270)]:'',_0x21b4a0['debug']('Role\x20definition\x20response\x20list\x20\x20:\x20\x20'+_0x398273['stringify'](_0x389e10));}return![];}async['isSubnetsValid'](_0x40deef,_0x206dbd){const _0x40606b=a1_0x22ad91,_0x1732e3={};_0x1732e3[_0x40606b(0x366)]='Managed\x20identity\x20already\x20exists,\x20skipping',_0x1732e3[_0x40606b(0x3d2)]=function(_0x13f6c9,_0x383e98){return _0x13f6c9===_0x383e98;},_0x1732e3[_0x40606b(0x342)]=_0x40606b(0x2e8),_0x1732e3['HuuQw']=_0x40606b(0x3ec),_0x1732e3[_0x40606b(0x2eb)]=function(_0x16edd4,_0x3101){return _0x16edd4!==_0x3101;},_0x1732e3[_0x40606b(0x253)]=_0x40606b(0x3c1),_0x1732e3[_0x40606b(0x1ee)]=_0x40606b(0x2fd);const _0x13b0c1=_0x1732e3;try{if(_0x13b0c1[_0x40606b(0x3d2)](_0x13b0c1[_0x40606b(0x342)],_0x13b0c1[_0x40606b(0x393)]))_0x587b58[_0x40606b(0x215)](_0x13b0c1[_0x40606b(0x366)]);else{const _0xe314e8=await this[_0x40606b(0x385)][_0x40606b(0x3d8)][_0x40606b(0x2a4)](global_registry[_0x40606b(0x2a2)],_0x206dbd,_0x40deef[0x0]);if(_0x13b0c1[_0x40606b(0x3d2)](_0x40deef[0x0],_0xe314e8[_0x40606b(0x22e)]))return _0x13b0c1[_0x40606b(0x2eb)](_0x13b0c1['PKpXB'],_0x13b0c1[_0x40606b(0x1ee)])?[!![],_0x40deef]:(_0x2f7f4e[_0x40606b(0x1ef)](_0x40606b(0x21e)+_0x13cee5+_0x40606b(0x287)+_0x5ab667),![]);}}catch(_0x243626){return logger[_0x40606b(0x1ef)](_0x40606b(0x210)+_0x40deef+_0x40606b(0x3ca)+_0x243626),[![],[]];}return[![],[]];}async[a1_0x22ad91(0x320)](){const _0x243aed=a1_0x22ad91,_0x5937a7={};_0x5937a7[_0x243aed(0x209)]=_0x243aed(0x2e5);const _0x3acf5d=_0x5937a7,_0x3a088b={};_0x3a088b[_0x243aed(0x3a1)]=!![],_0x3a088b[_0x243aed(0x1ef)]=null,_0x3a088b[_0x243aed(0x2fa)]=_0x3acf5d[_0x243aed(0x209)];const _0x194ca5=_0x3a088b;return _0x194ca5;}async[a1_0x22ad91(0x247)](){const _0x5d350b=a1_0x22ad91,_0x286e2b={};_0x286e2b['zrKcI']=_0x5d350b(0x3c5),_0x286e2b[_0x5d350b(0x31f)]=_0x5d350b(0x34f),_0x286e2b['YyXBE']=_0x5d350b(0x2b4);const _0x18197d=_0x286e2b,_0x5c1ad0=await this[_0x5d350b(0x331)][_0x5d350b(0x25b)](_0x18197d['zrKcI']),_0x5b5cd1={};_0x5b5cd1['method']=_0x18197d['uMGhs'],_0x5b5cd1[_0x5d350b(0x345)]={},_0x5b5cd1[_0x5d350b(0x345)][_0x5d350b(0x2d3)]=_0x5d350b(0x35a)+_0x5c1ad0[_0x5d350b(0x27b)],_0x5b5cd1[_0x5d350b(0x345)][_0x5d350b(0x2cf)]=_0x18197d[_0x5d350b(0x2a0)];const _0x350997=_0x5b5cd1;return _0x350997;}async[a1_0x22ad91(0x24c)](_0x44a64e){const _0x3d4f15=a1_0x22ad91,_0x4d1eda={'ZUaAp':function(_0x56ec81,_0x1f5213,_0x11f11e){return _0x56ec81(_0x1f5213,_0x11f11e);},'dOGoO':function(_0x3d9f64,_0x51872c){return _0x3d9f64===_0x51872c;},'dBMTU':_0x3d4f15(0x29e)},_0x22aca8={};_0x22aca8[_0x3d4f15(0x317)]='',_0x22aca8['error']=null;const _0x483414=_0x22aca8;try{const _0x7a3890=_0x3d4f15(0x330)+_0x44a64e+'\x27',_0x1826cd=await this[_0x3d4f15(0x247)](),_0x4450aa=await _0x4d1eda[_0x3d4f15(0x3de)](fetch,_0x7a3890,_0x1826cd),_0x48d48d=await _0x4450aa['json']();if(!_0x48d48d['value']||_0x4d1eda[_0x3d4f15(0x2a3)](_0x48d48d[_0x3d4f15(0x3c7)][_0x3d4f15(0x256)],0x0))throw new Error(_0x4d1eda['dBMTU'],_0x3d4f15(0x3bb)+JSON[_0x3d4f15(0x211)](_0x48d48d));_0x483414[_0x3d4f15(0x317)]=_0x48d48d['value'][0x0]['id'];}catch(_0xae5a24){_0x483414[_0x3d4f15(0x1ef)]=_0xae5a24;}return _0x483414;}async['checkAccess'](){const _0x327b4a=a1_0x22ad91,_0x30495e={};_0x30495e['FqhxR']=_0x327b4a(0x274),_0x30495e[_0x327b4a(0x2b7)]=_0x327b4a(0x25a),_0x30495e['BYSqN']=function(_0x227d41,_0x369aa2){return _0x227d41!==_0x369aa2;},_0x30495e[_0x327b4a(0x2d5)]=function(_0x4fb9ae,_0x2a3834){return _0x4fb9ae===_0x2a3834;},_0x30495e['YHCrm']=_0x327b4a(0x2bd),_0x30495e[_0x327b4a(0x3eb)]=function(_0x2fae87,_0x23e65a){return _0x2fae87===_0x23e65a;},_0x30495e[_0x327b4a(0x2c1)]='No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles',_0x30495e[_0x327b4a(0x26b)]=function(_0x2275a2,_0x1f88ba){return _0x2275a2===_0x1f88ba;},_0x30495e[_0x327b4a(0x38e)]=_0x327b4a(0x3cd);const _0x584c89=_0x30495e,_0x7a3b19={};_0x7a3b19[_0x327b4a(0x3a1)]=![],_0x7a3b19[_0x327b4a(0x1ef)]=null,_0x7a3b19['data']='';const _0x5d0eac=_0x7a3b19;try{let _0x18b67c='';const _0x5e2778='subscriptions/'+global_registry[_0x327b4a(0x34c)]+_0x327b4a(0x21a)+global_registry[_0x327b4a(0x2a2)],_0x224bc1=await this[_0x327b4a(0x24c)](global_registry[_0x327b4a(0x235)]);if(_0x584c89[_0x327b4a(0x2a9)](_0x224bc1[_0x327b4a(0x1ef)],null))return _0x5d0eac[_0x327b4a(0x1ef)]=_0x224bc1['error'],_0x5d0eac;const _0x1b97e1='assignedTo(\x27'+_0x224bc1[_0x327b4a(0x317)]+'\x27)',_0x567383={};_0x567383[_0x327b4a(0x27e)]=_0x1b97e1;const _0xe1cf39=await this[_0x327b4a(0x307)][_0x327b4a(0x339)]['listForScope'](_0x5e2778,_0x567383),_0x36d73a=[];for await(const _0x357cfd of _0xe1cf39){_0x36d73a[_0x327b4a(0x30d)](_0x357cfd);}if(_0x584c89[_0x327b4a(0x2d5)](_0x36d73a['length'],0x0))return _0x5d0eac[_0x327b4a(0x2fa)]=_0x584c89[_0x327b4a(0x271)],_0x5d0eac;const _0x37c8ac=[...new Set(_0x36d73a[_0x327b4a(0x3e6)](_0x14e511=>_0x14e511[_0x327b4a(0x359)]))];if(_0x584c89[_0x327b4a(0x3eb)](_0x37c8ac[_0x327b4a(0x256)],0x0))return _0x5d0eac['data']=_0x584c89[_0x327b4a(0x2c1)],_0x5d0eac;const _0x451b92=[],_0x70315f=[];for(const _0xde7a0b of _0x37c8ac){const _0x4d07b5=await this['authClient'][_0x327b4a(0x367)]['getById'](_0xde7a0b);logger['debug']('role\x20name\x20attached\x20-\x20'+_0x4d07b5[_0x327b4a(0x370)]),_0x451b92[_0x327b4a(0x30d)](_0x4d07b5),logger[_0x327b4a(0x383)](_0x327b4a(0x297)+JSON[_0x327b4a(0x211)](_0x4d07b5[_0x327b4a(0x282)])),_0x4d07b5[_0x327b4a(0x282)]['forEach'](_0xf7257c=>{const _0x4e8120=_0x327b4a;_0x70315f[_0x4e8120(0x30d)](..._0xf7257c[_0x4e8120(0x328)]);});}logger[_0x327b4a(0x383)](_0x327b4a(0x37a)+JSON[_0x327b4a(0x211)](_0x70315f)),_0x584c89[_0x327b4a(0x26b)](_0x70315f[_0x327b4a(0x256)],0x0)&&(_0x18b67c+=_0x584c89[_0x327b4a(0x26b)](_0x70315f[_0x327b4a(0x256)],0x0)?_0x584c89[_0x327b4a(0x38e)]:'',logger[_0x327b4a(0x383)](_0x327b4a(0x340)+JSON[_0x327b4a(0x211)](_0x451b92))),_0x5d0eac[_0x327b4a(0x3a1)]=!![],Object[_0x327b4a(0x2f7)](PERMISSIONS[_0x327b4a(0x24b)])[_0x327b4a(0x22d)](([_0x3dbe1f,_0x22184b])=>{const _0x1746d3=_0x327b4a,_0x442634=_0x70315f[_0x1746d3(0x2c9)](_0x3dbe1f);_0x18b67c+='\x0a\x09'+_0x22184b+':\x20'+(_0x442634?_0x584c89[_0x1746d3(0x2c2)]:_0x584c89[_0x1746d3(0x2b7)]),!_0x442634&&(_0x5d0eac[_0x1746d3(0x3a1)]=![]);}),_0x5d0eac[_0x327b4a(0x2fa)]=_0x18b67c;}catch(_0x224bc0){_0x5d0eac['error']=_0x224bc0;}return _0x5d0eac;}}const a1_0x440e15={};a1_0x440e15[a1_0x22ad91(0x2fb)]=AzureCloudProvider,module['exports']=a1_0x440e15;