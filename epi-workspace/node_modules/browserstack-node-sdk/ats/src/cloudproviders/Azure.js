function a1_0x58cc(){const _0x29fffe=['Found\x20only\x20one\x20resource\x20group:\x20','AMsvQ','filter','2|4|5|3|0|1','managedClusters','resources','No\x20attached\x20role\x20for\x20the\x20client\x20key','clientSecret','headers','ytGgf','kjcXx','getHeader','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','hGAGX','HUsPm','vsAXt','TscpL','algLS','storageAccounts','vMdsq','join','bstackAccesskey','message','dmgay','createManagedIdentity','saVMk','gsWcu','getClusterInfo','name','QZGtL','grIOK','rws','init','hXDpN','ccWPD','xvevT','QPZWM','kfMMJ','XXaDT','uPANe','ZmGSL','LOG','kubeconfigs','cloudProviderClientSecret','variables','grsKd','gORlj','clusterInfo','uUBvd','YlLLj','DKAtE','wYKgg','readFileAsync','QkCNF','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','qAXOB','QILAf','utf-8','EQqSY','UuWuZ','YRHLh','wECSo','qqZYZ','WVElr','exit','hZLKE','XVqYK','2023-01-31','browserstack:managedBy','length','xnfYL','nFVlY','BnNcx','AzureCloudProvider','Creating\x20Azure\x20storage\x20account','azureresources','info','511018ZosmOq','WcfFz','setClients','baseBlob','EFgqd','ovnhm','ftpPp','QNxZf','UhONq','cloudProviderName','networkClient','xKmPi','mwDFn','KSyPG','1FRnVAB','Action\x20permission\x20list\x20is\x20empty\x0a','1610015AUgxPm','EfgjX','XEDPn','permissions','BrowserStack','zkoJf','policy','ixVsw','OdkJj','gdeBJ','setupNewCluster','Uudak','NZmQq','properties','eeSMG','getResourceGroups','location','s3Bucket','OWzwf','Creating\x20Azure\x20federated\x20identity','KsyMw','status','zZcGq','listForScope','debug','turboscale','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','list','hYCge','storageClient','vmCMd','\x20CLIENT\x20ID:\x20','hubharesources','HqdGe','tenantId','eqypF','Enabling\x20Local\x20account\x20for\x20the\x20cluster','SkAmA','BMDBD','fPgMA','wMSGs','isCliToolInstalled','string','containerClient','rmYZY','IwLDR','FNkTa','description','deleteCluster','includes','templates','push','clientId','oidcIssuerProfile','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','Blob\x20delete\x20lifecycle','Ueleh','bnhRL','listClusterAdminCredentials','cloudProviderSubscriptionId','instanceType','\x20RESOURCE\x20GROUP:\x20','wyZsq','MDsNX','setupHubHa','gQJQI','GGiQD','RCbrp','nwAtm','[variables(\x27vnetSubnetID\x27)]','zyXTY','filters','role\x20name\x20attached\x20-\x20','Content-Type','sWrbF','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','jYdVS','tVqDu','SSLBQ','GjvFt','forEach','bICPT','SVsys','Deleting\x20the\x20cluster\x20','iongf','allowed','nKskA','qnGuv','vnetSubnetID','subnetName','CvzDr','gTILw','resourceGroups','MpTNa','@azure/arm-containerservice','qQxOs','nzpnX','akscluster.json','\x20CLIENT\x20SECRET:\x20','No\x20CLI\x20tool\x20required','No\x20service\x20principal\x20found','twiWh','federatedidentity','data','rpQyr','XUyCc','kUPZz','isStorageAccountPresent','165bsGRCt','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','dloRv','kvFIA','12448000fcSAvc','iecsW','cloudProviderResourceGroup','clusterAutoUpgrade','NChLE','HFNqE','MbHjn','nAfEW','ubuvS','mcJfh','oYsTZ','RIAeP','BmSVz','createStorageAccount','listAll','165879XTWZjz','LKWhK','wqBTD','metadata','securityProfile','iwrCF','resourceClient','GgSQL','KYitL','Storage\x20account\x20already\x20exists,\x20skipping','fcXuW','yvBnA','node','method','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','hub','true','LWibh','efEwA','uDwZi','sZIvB','uFSoy','toString','WZhPV','sSZSQ','obqbH','HINDq','isBrowserstackCluster','tOtjn','application/json','Received\x20response\x20-\x20','QeDee','token','BYtEC','createOtherResources','actionPermission\x20:\x20','vBJFX','@azure/arm-storage','fpxGs','toUpperCase','maxNodes','evKVM','XtuEN','agentPoolProfiles','hostname','eThIg','FISHo','vkdAD','mdLss','dbhtd','5937304OzNdwr','beginCreateOrUpdateAndWait','bstackUsername','iIkza','zRXGT','getStorageAccountName','listByResourceGroup','checkAccess','sendEventToBackend','tcHle','get','xsFmH','default','iwGKS','resourceGroup','hTWJk','Attached\x20permissions\x20:\x20','NSVWu','sendAzureInfoToHST','/resourceGroups/','../utils/gridComponents','fJInu','upGxL','roleDefinitions','252UhXRDG','beLpm','OrqxB','accessKey','xooeV','yXzxq','Cannot\x20find\x20subnets\x20','cloudProviderTenantId','145308TiKfWw','createFederatedAccountForHubHA','userInstanceType','EYjJO','AAEOA','xsbFZ','VvQrw','bURZM','ZGkba','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','QDmsb','pwSGA','getKubeConfigData','SOIcr','gridName','wJUyV','disableLocalAccounts','split','OeMof','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','KCUNS','ukZyR','ZxMMz','flcUL','dwCrv','isVPCPresent','cloudProviderClientId','zryhj','QPdrY','hmaWq','JMKab','NfNRk','GAkcK','RESOURCES','luuCM','zYjWq','../config/logger','HGrvE','daysAfterCreationGreaterThan','stringify','exports','@azure/arm-network','xdBkq','FWDkb','ABPWw','iqBsW','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','\x20TENANT\x20ID:\x20','EsxDk','map','KDdby','js-yaml','getById','ddDfJ','HmdNF','wbGVN','ngeLU','parse','storageaccount.json','cloudProvider','GWaCa','xAFml','log','cred','YzPGR','turboscale-identity-deployment','issuerURL','xtQua','getToken','3|1|4|5|0|2','rules','nMBiI','cNZyl','awoEs','Creating\x20Azure\x20managed\x20identity','actions','MwOvs','OxEwd','Managed\x20identity\x20already\x20exists,\x20skipping','EREdb','eEieo','json','principalId','type','denied','euzme','roleName','nnkuR','ArTIq','setCachedCredsInRegistry','GTytk','DYkPs','isManagedIdentityPresent','WdUgb','dmZbf','WAabt','LJfqH','gJBOV','blobTypes','hvxJE','1619892GtwIyw','7|3|6|4|1|5|0|2','eNWyf','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','FTOXX','toLowerCase','ltRLy','definition','username','wNSKI','../permissions/AZURE.json','bsAQB','yReTn','vpcName','sHGqG','HycCj','TjrHF','BEPjq','ZeFAC','vRDlL','subscriptionId','MpdjF','sIbra','dqqgq','xJfRy','CJsCh','parameters','OCEDc','nAHHD','Fkiws','ingress','entries','Incremental','error','nGrQs','LvRtj','storageAccountName','4|2|1|5|3|0','uyoEi','GNAtQ','OchAv','stack','VUnsy','Cannot\x20find\x20VPC\x20','aawSu','KrsRc','RXmxt','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','VxEcB','turboscale-cluster-deployment','xwCOM','vpcInfo','webSocketUtils','NglkJ','SfBNg','hhVcw','TMtkR','deployments','zBnlb','PyVRs','enabled','asHUY','YGdgG','value','caBMT','createFederatedAccount','GTvwU','virtualNetworks','WjNKa','9ZFtRBP','turboscale-managed-identity-','false','loadBalancer','DoRAT','MkzsZ','39fahxkD','@azure/arm-resources','GET','authClient','clusterName','ZuvUn','ILSYO','slice','roleDefinitionId','getResourceClientId'];a1_0x58cc=function(){return _0x29fffe;};return a1_0x58cc();}function a1_0x49dd(_0x2c8608,_0x5b876b){const _0x58cc59=a1_0x58cc();return a1_0x49dd=function(_0x49ddae,_0xfd692d){_0x49ddae=_0x49ddae-0x1cf;let _0x449930=_0x58cc59[_0x49ddae];return _0x449930;},a1_0x49dd(_0x2c8608,_0x5b876b);}const a1_0x24b629=a1_0x49dd;(function(_0x55a8f6,_0x1dac0c){const _0x108be3=a1_0x49dd,_0x2ff3fe=_0x55a8f6();while(!![]){try{const _0x3410e9=parseInt(_0x108be3(0x29f))/0x1*(parseInt(_0x108be3(0x291))/0x2)+parseInt(_0x108be3(0x239))/0x3*(-parseInt(_0x108be3(0x372))/0x4)+parseInt(_0x108be3(0x2a1))/0x5+parseInt(_0x108be3(0x36a))/0x6*(-parseInt(_0x108be3(0x320))/0x7)+parseInt(_0x108be3(0x352))/0x8*(parseInt(_0x108be3(0x233))/0x9)+-parseInt(_0x108be3(0x311))/0xa+parseInt(_0x108be3(0x30d))/0xb*(parseInt(_0x108be3(0x1ee))/0xc);if(_0x3410e9===_0x1dac0c)break;else _0x2ff3fe['push'](_0x2ff3fe['shift']());}catch(_0x1b04d6){_0x2ff3fe['push'](_0x2ff3fe['shift']());}}}(a1_0x58cc,0x9a597));const fs=require('fs'),path=require('path'),yaml=require(a1_0x24b629(0x3a5)),{logger}=require(a1_0x24b629(0x396)),{CloudProvider}=require('./CloudProvider'),{deleteRoutingDeps,deleteAgent}=require(a1_0x24b629(0x366)),{AZURE,WS_EVENTS,global_registry}=require('../config/constants'),PERMISSIONS=require(a1_0x24b629(0x1f8)),{ClientSecretCredential}=require('@azure/identity'),{NetworkManagementClient}=require(a1_0x24b629(0x39b)),{StorageManagementClient}=require(a1_0x24b629(0x345)),{AuthorizationManagementClient}=require('@azure/arm-authorization'),{ResourceManagementClient}=require(a1_0x24b629(0x23a)),{ContainerServiceClient}=require(a1_0x24b629(0x2ff)),{runCommand}=require('../utils/utilityMethods');class AzureCloudProvider extends CloudProvider{constructor(_0x366d0e,_0x585360,_0xea2cee,_0x129d53){const _0x541da8=a1_0x24b629,_0x4d8994={};_0x4d8994[_0x541da8(0x215)]=_0x541da8(0x1ef);const _0xb318e4=_0x4d8994,_0x2f8b84=_0xb318e4[_0x541da8(0x215)][_0x541da8(0x383)]('|');let _0x50ad0c=0x0;while(!![]){switch(_0x2f8b84[_0x50ad0c++]){case'0':this['networkClient']=null;continue;case'1':this['storageClient']=null;continue;case'2':this[_0x541da8(0x23c)]=null;continue;case'3':this[_0x541da8(0x3b1)]=null;continue;case'4':this[_0x541da8(0x2cc)]=null;continue;case'5':this[_0x541da8(0x326)]=null;continue;case'6':this['clusterInfo']=null;continue;case'7':super(AZURE,_0x366d0e,_0x585360,_0xea2cee,_0x129d53);continue;}break;}}async[a1_0x24b629(0x264)](){const _0x275c83=a1_0x24b629;return await super[_0x275c83(0x264)](),this;}['setClients'](){const _0xd7f99e=a1_0x24b629,_0x145315=new ClientSecretCredential(global_registry['cloudProviderTenantId'],global_registry['cloudProviderClientId'],global_registry['cloudProviderClientSecret']);this[_0xd7f99e(0x2cc)]=new ContainerServiceClient(_0x145315,global_registry['cloudProviderSubscriptionId']),this[_0xd7f99e(0x2be)]=new StorageManagementClient(_0x145315,global_registry[_0xd7f99e(0x2dc)]),this['resourceClient']=new ResourceManagementClient(_0x145315,global_registry[_0xd7f99e(0x2dc)]),this[_0xd7f99e(0x29b)]=new NetworkManagementClient(_0x145315,global_registry[_0xd7f99e(0x2dc)]),this['authClient']=new AuthorizationManagementClient(_0x145315,global_registry['cloudProviderSubscriptionId']),this[_0xd7f99e(0x3b1)]=_0x145315;}[a1_0x24b629(0x357)](){const _0x2487eb=a1_0x24b629,_0x240252={};_0x240252[_0x2487eb(0x1e4)]=function(_0x37fe4b,_0x51201d){return _0x37fe4b+_0x51201d;},_0x240252[_0x2487eb(0x1e8)]=_0x2487eb(0x2ba),_0x240252[_0x2487eb(0x386)]=function(_0x1d0242,_0x32248f){return _0x1d0242-_0x32248f;};const _0x4d56b5=_0x240252,_0x374194=global_registry[_0x2487eb(0x2b2)]['split']('-'),_0x17d413=_0x4d56b5[_0x2487eb(0x1e4)](_0x4d56b5[_0x2487eb(0x1e8)],_0x374194[_0x4d56b5[_0x2487eb(0x386)](_0x374194[_0x2487eb(0x289)],0x1)])[_0x2487eb(0x240)](0x0,0x18);return _0x17d413['toLowerCase']();}[a1_0x24b629(0x1e3)](_0x5ef76b){const _0x54d845=a1_0x24b629,_0xf2aeb1={};_0xf2aeb1[_0x54d845(0x269)]=_0x54d845(0x1cf);const _0x38d185=_0xf2aeb1,_0x2e6bb9=_0x38d185[_0x54d845(0x269)][_0x54d845(0x383)]('|');let _0x3f9c33=0x0;while(!![]){switch(_0x2e6bb9[_0x3f9c33++]){case'0':global_registry['cloudProviderResourceGroup']=_0x5ef76b[this[_0x54d845(0x29a)]][_0x54d845(0x360)];continue;case'1':global_registry[_0x54d845(0x26f)]=_0x5ef76b[this[_0x54d845(0x29a)]][_0x54d845(0x24a)];continue;case'2':this[_0x54d845(0x293)]();continue;case'3':global_registry[_0x54d845(0x38c)]=_0x5ef76b[this[_0x54d845(0x29a)]][_0x54d845(0x2d5)];continue;case'4':global_registry[_0x54d845(0x371)]=_0x5ef76b[this[_0x54d845(0x29a)]][_0x54d845(0x2c3)];continue;case'5':global_registry[_0x54d845(0x2dc)]=_0x5ef76b[this[_0x54d845(0x29a)]]['subscriptionId'];continue;}break;}}async['getUserInput'](_0x404dc5,_0x205dfd){const _0x578717=a1_0x24b629,_0x440187={'vRDlL':_0x578717(0x2ec),'TscpL':_0x578717(0x246),'nKskA':_0x578717(0x2d7),'nGrQs':function(_0x51f7e7,_0x58e937){return _0x51f7e7===_0x58e937;},'uPANe':_0x578717(0x2a0),'luuCM':function(_0x43c11,_0xeb13a0){return _0x43c11(_0xeb13a0);},'gJvLm':function(_0x1ac49a,_0x5da645){return _0x1ac49a(_0x5da645);},'iwrCF':function(_0x2fa342,_0x2ad764){return _0x2fa342(_0x2ad764);},'GjvFt':function(_0x499b74,_0x66b8aa){return _0x499b74===_0x66b8aa;},'mwDFn':_0x578717(0x214),'xooeV':function(_0x35e70b,_0x367e94){return _0x35e70b!==_0x367e94;},'vMdsq':'Adzra','hGAGX':function(_0x4749e9,_0x4e85b2){return _0x4749e9(_0x4e85b2);},'grIOK':function(_0x398996,_0x4ceb56){return _0x398996===_0x4ceb56;},'SVsys':function(_0xc2e691,_0x53c035){return _0xc2e691!==_0x53c035;},'BtHCf':_0x578717(0x2af),'VUnsy':'Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','NglkJ':_0x578717(0x34a),'gTILw':function(_0x4f0916,_0x2744bb){return _0x4f0916!==_0x2744bb;},'ArTIq':_0x578717(0x2da),'BmSVz':function(_0xee5b8c,_0x5572a8){return _0xee5b8c<_0x5572a8;},'OeMof':function(_0x14e45b,_0x131af9){return _0x14e45b!==_0x131af9;},'JMKab':_0x578717(0x220),'yXzxq':function(_0x34ca36,_0x27ea20){return _0x34ca36+_0x27ea20;},'YRHLh':function(_0x594f9e,_0x134ac1){return _0x594f9e(_0x134ac1);},'zryhj':'Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','tVqDu':function(_0x46c7a3,_0x580901){return _0x46c7a3<=_0x580901;},'gIKhn':function(_0x21f349,_0x46c47c){return _0x21f349>_0x46c47c;},'dnhLp':function(_0x3a91ad,_0x9b4213){return _0x3a91ad===_0x9b4213;},'EYjJO':_0x578717(0x2b5),'zRXGT':function(_0x521fde,_0x17eb94){return _0x521fde-_0x17eb94;}},_0x1822ee=this['cloudProviderName'][_0x578717(0x347)](),_0x458ff=await _0x440187[_0x578717(0x394)](_0x404dc5,_0x1822ee+_0x578717(0x2c0)),_0x35d471=await _0x440187[_0x578717(0x394)](_0x404dc5,_0x1822ee+_0x578717(0x303)),_0x2abd93=await _0x440187['gJvLm'](_0x404dc5,_0x1822ee+_0x578717(0x3a1)),_0x4b68aa=await _0x440187[_0x578717(0x325)](_0x404dc5,_0x1822ee+'\x20SUBSCRIPTION\x20ID:\x20');global_registry[_0x578717(0x38c)]=_0x458ff,global_registry[_0x578717(0x26f)]=_0x35d471,global_registry[_0x578717(0x371)]=_0x2abd93,global_registry['cloudProviderSubscriptionId']=_0x4b68aa,this['setClients']();const _0x9f112e=await this[_0x578717(0x2b0)](),_0x1326fc=_0x9f112e[_0x578717(0x289)];let _0x31a556;if(_0x440187[_0x578717(0x2f0)](_0x1326fc,0x0)){if(_0x440187[_0x578717(0x210)](_0x440187['mwDFn'],_0x440187[_0x578717(0x29d)]))_0x31a556=await _0x440187['iwrCF'](_0x404dc5,_0x1822ee+_0x578717(0x2de));else return _0x188ae3[_0x578717(0x308)]=_0x440187[_0x578717(0x201)],_0x4318c9;}else{if(_0x440187[_0x578717(0x2f0)](_0x1326fc,0x1)){if(_0x440187[_0x578717(0x36e)](_0x440187[_0x578717(0x257)],_0x440187['vMdsq']))return[!![],_0x1d9404];else{const _0x271ce6=await _0x440187[_0x578717(0x251)](_0x404dc5,_0x578717(0x243)+_0x9f112e[0x0]+_0x578717(0x385));if(_0x440187['grIOK'](_0x271ce6,undefined)||_0x440187['nGrQs'](_0x271ce6,null)||!(_0x440187[_0x578717(0x2f0)](_0x271ce6[_0x578717(0x1f3)](),'y')||_0x440187[_0x578717(0x262)](_0x271ce6['toLowerCase'](),'n'))){if(_0x440187[_0x578717(0x2f3)](_0x440187['BtHCf'],_0x440187['BtHCf'])){const _0x142f9a=_0x440187[_0x578717(0x254)][_0x578717(0x383)]('|');let _0x2e3d2d=0x0;while(!![]){switch(_0x142f9a[_0x2e3d2d++]){case'0':_0x6f98ab[_0x578717(0x313)]=_0x44bad1[this['cloudProviderName']][_0x578717(0x360)];continue;case'1':this[_0x578717(0x293)]();continue;case'2':_0x3ade31['cloudProviderClientId']=_0x3158f1[this['cloudProviderName']][_0x578717(0x2d5)];continue;case'3':_0x330b0c[_0x578717(0x2dc)]=_0x233f31[this[_0x578717(0x29a)]][_0x578717(0x202)];continue;case'4':_0x2666c4[_0x578717(0x26f)]=_0x5a4858[this[_0x578717(0x29a)]][_0x578717(0x24a)];continue;case'5':_0x57880c[_0x578717(0x371)]=_0x494b90[this[_0x578717(0x29a)]][_0x578717(0x2c3)];continue;}break;}}else console[_0x578717(0x20f)](_0x440187[_0x578717(0x218)]),process[_0x578717(0x284)](0x1);}if(_0x440187[_0x578717(0x2f0)](_0x271ce6[_0x578717(0x1f3)](),'n')){if(_0x440187[_0x578717(0x2f0)](_0x440187[_0x578717(0x223)],_0x440187[_0x578717(0x223)]))process[_0x578717(0x284)](0x0);else{_0x335f7f['info'](_0x440187[_0x578717(0x2f7)]);const _0x1df476={};_0x1df476[_0x578717(0x1dd)]=_0x11f7a5[_0x578717(0x393)],_0x1df476[_0x578717(0x25a)]=_0x440187[_0x578717(0x2f7)],this[_0x578717(0x222)]['sendEventToBackend'](this['rws'],_0x1df476),_0x290717[_0x578717(0x2d6)][_0x578717(0x22a)]=!![];}}_0x31a556=_0x9f112e[0x0];}}else{if(_0x440187[_0x578717(0x2fc)](_0x440187[_0x578717(0x1e2)],_0x440187[_0x578717(0x1e2)]))return _0x2a8d68[_0x578717(0x20f)]=_0x5e35b0[_0x578717(0x20f)],_0x2ccfdf;else{for(let _0x41ed0f=0x0;_0x440187[_0x578717(0x31d)](_0x41ed0f,_0x9f112e[_0x578717(0x289)]);_0x41ed0f+=0x1){_0x440187[_0x578717(0x384)](_0x440187[_0x578717(0x390)],_0x440187[_0x578717(0x390)])?(_0x52632c+=_0x440187['nGrQs'](_0x3690a7[_0x578717(0x289)],0x0)?_0x440187[_0x578717(0x26b)]:'',_0x552ce5[_0x578717(0x2b9)](_0x578717(0x1f1)+_0x600263[_0x578717(0x399)](_0x4e0e2a))):console['log']('['+_0x440187[_0x578717(0x36f)](_0x41ed0f,0x1)+']\x20'+_0x9f112e[_0x41ed0f]);}const _0x43f089=await _0x440187[_0x578717(0x280)](_0x404dc5,_0x440187[_0x578717(0x38d)]),_0x4ba72b=_0x440187[_0x578717(0x251)](Number,_0x43f089);(_0x440187[_0x578717(0x394)](isNaN,_0x4ba72b)||_0x440187[_0x578717(0x2ee)](_0x4ba72b,0x0)||_0x440187['gIKhn'](_0x4ba72b,_0x1326fc))&&(_0x440187['dnhLp'](_0x440187['EYjJO'],_0x440187[_0x578717(0x375)])?(console['error'](_0x440187['VUnsy']),process[_0x578717(0x284)](0x1)):_0x518db9['push'](..._0x1addd0['actions'])),_0x31a556=_0x9f112e[_0x440187[_0x578717(0x356)](_0x4ba72b,0x1)];}}}global_registry[_0x578717(0x313)]=_0x31a556;const _0x366e78={};return _0x366e78[_0x578717(0x2d5)]=_0x458ff,_0x366e78[_0x578717(0x24a)]=_0x35d471,_0x366e78[_0x578717(0x2c3)]=_0x2abd93,_0x366e78[_0x578717(0x202)]=_0x4b68aa,_0x366e78[_0x578717(0x360)]=_0x31a556,_0x205dfd['cloudProvider'][AZURE]=_0x366e78,_0x205dfd;}async[a1_0x24b629(0x2b0)](){const _0x1b8eb8=a1_0x24b629,_0x58b1b4={};_0x58b1b4['gQJQI']=function(_0x38d11d,_0x42e479){return _0x38d11d+_0x42e479;},_0x58b1b4['vBJFX']=function(_0x45e8af,_0x596178){return _0x45e8af===_0x596178;},_0x58b1b4[_0x1b8eb8(0x32a)]=_0x1b8eb8(0x274),_0x58b1b4[_0x1b8eb8(0x282)]=_0x1b8eb8(0x346),_0x58b1b4[_0x1b8eb8(0x2e7)]=function(_0x116897,_0x44a4d3){return _0x116897===_0x44a4d3;},_0x58b1b4[_0x1b8eb8(0x381)]=_0x1b8eb8(0x327);const _0x3d13db=_0x58b1b4,_0x2c275e=[];try{if(_0x3d13db[_0x1b8eb8(0x344)](_0x3d13db['fcXuW'],_0x3d13db[_0x1b8eb8(0x282)]))_0x4629ed[_0x1b8eb8(0x3b0)]('['+_0x3d13db[_0x1b8eb8(0x2e2)](_0x508572,0x1)+']\x20'+_0x10fcc0[_0x1f11aa]);else{const _0x28b182=await this[_0x1b8eb8(0x326)][_0x1b8eb8(0x2fd)][_0x1b8eb8(0x2bc)]();for await(const _0x1206b8 of _0x28b182){_0x3d13db['zyXTY'](_0x3d13db[_0x1b8eb8(0x381)],_0x3d13db[_0x1b8eb8(0x381)])?_0x2c275e[_0x1b8eb8(0x2d4)](_0x1206b8['name']):_0x5486de[_0x1b8eb8(0x2d4)](_0x5c2c6e);}}}catch(_0x580cfb){}return _0x2c275e;}async[a1_0x24b629(0x25f)](){const _0x523b03=a1_0x24b629;return this[_0x523b03(0x273)]=await this['containerClient'][_0x523b03(0x247)][_0x523b03(0x35c)](global_registry[_0x523b03(0x313)],this[_0x523b03(0x23d)]),this[_0x523b03(0x273)];}async[a1_0x24b629(0x37e)](){const _0x4736d9=a1_0x24b629,_0x1c64e0=await this['containerClient'][_0x4736d9(0x247)][_0x4736d9(0x2db)](global_registry[_0x4736d9(0x313)],this['clusterName']),_0x26f09b=_0x1c64e0[_0x4736d9(0x26e)][0x0][_0x4736d9(0x22d)][_0x4736d9(0x336)]();return _0x26f09b;}['getGridHostname'](_0x1f59e8){const _0x2c74a0=a1_0x24b629;return _0x1f59e8['status'][_0x2c74a0(0x236)]['ingress'][0x0][_0x2c74a0(0x34c)];}async['isClusterPresent'](){const _0x21c189=a1_0x24b629,_0x1d3416={};_0x1d3416[_0x21c189(0x2c7)]=function(_0x158d16,_0x40ff1a){return _0x158d16===_0x40ff1a;},_0x1d3416[_0x21c189(0x21a)]=_0x21c189(0x255),_0x1d3416[_0x21c189(0x27e)]=_0x21c189(0x1d2),_0x1d3416[_0x21c189(0x377)]=function(_0x7635b4,_0x22687a){return _0x7635b4!==_0x22687a;},_0x1d3416[_0x21c189(0x334)]=_0x21c189(0x37f),_0x1d3416[_0x21c189(0x2e4)]=_0x21c189(0x29e),_0x1d3416[_0x21c189(0x3a7)]=function(_0x4ab059,_0x263d32){return _0x4ab059===_0x263d32;},_0x1d3416[_0x21c189(0x34f)]=function(_0x58b85e,_0x2db716){return _0x58b85e===_0x2db716;},_0x1d3416[_0x21c189(0x2f8)]=_0x21c189(0x229);const _0x477366=_0x1d3416,_0x39eb8c=new Array();for await(const _0x3e4df0 of this[_0x21c189(0x2cc)][_0x21c189(0x247)]['listByResourceGroup'](global_registry[_0x21c189(0x313)])){if(_0x477366[_0x21c189(0x2c7)](_0x477366[_0x21c189(0x21a)],_0x477366[_0x21c189(0x27e)]))return;else _0x39eb8c[_0x21c189(0x2d4)](_0x3e4df0);}for await(const _0x3e6b4e of _0x39eb8c){if(_0x477366['xsbFZ'](_0x477366[_0x21c189(0x334)],_0x477366[_0x21c189(0x2e4)])){if(_0x477366['ddDfJ'](_0x3e6b4e['name'],this[_0x21c189(0x23d)])){if(_0x477366[_0x21c189(0x34f)](_0x477366[_0x21c189(0x2f8)],_0x477366[_0x21c189(0x2f8)]))return await this[_0x21c189(0x25f)](),!![];else _0x2c121a[_0x21c189(0x20f)]=_0x1cf10c;}}else _0x19b0b5[_0x21c189(0x2d4)](_0x8d3ecd);}return![];}async[a1_0x24b629(0x2ab)](_0x2e7391=null,_0x2baff6=null){const _0x52df66=a1_0x24b629,_0x11568c={};_0x11568c[_0x52df66(0x1fa)]=_0x52df66(0x213),_0x11568c[_0x52df66(0x285)]=_0x52df66(0x250);const _0x178915=_0x11568c,_0x2c3dce=_0x178915[_0x52df66(0x1fa)][_0x52df66(0x383)]('|');let _0x2f98af=0x0;while(!![]){switch(_0x2c3dce[_0x2f98af++]){case'0':return[_0x2e7391,_0x2baff6];case'1':logger['info'](_0x178915[_0x52df66(0x285)]);continue;case'2':const _0x3beb5c={};_0x3beb5c['type']=WS_EVENTS[_0x52df66(0x26d)],_0x3beb5c['message']=_0x178915[_0x52df66(0x285)],this[_0x52df66(0x222)][_0x52df66(0x35a)](this[_0x52df66(0x263)],_0x3beb5c);continue;case'3':await this[_0x52df66(0x342)]();continue;case'4':this[_0x52df66(0x364)]();continue;case'5':await this['createCluster'](_0x2e7391,_0x2baff6);continue;}break;}}async['createCluster'](_0x1c4401=null,_0x24c1c8=null){const _0x49661e=a1_0x24b629,_0x3fae8a={};_0x3fae8a['QZGtL']=_0x49661e(0x2d3),_0x3fae8a[_0x49661e(0x1fd)]=_0x49661e(0x28f),_0x3fae8a[_0x49661e(0x2e5)]=_0x49661e(0x302),_0x3fae8a[_0x49661e(0x1da)]=_0x49661e(0x27d),_0x3fae8a[_0x49661e(0x299)]=_0x49661e(0x330),_0x3fae8a['nAHHD']=_0x49661e(0x235),_0x3fae8a[_0x49661e(0x23e)]=function(_0x3bf06d,_0x40802c){return _0x3bf06d!==_0x40802c;},_0x3fae8a['xvevT']='twrgd',_0x3fae8a[_0x49661e(0x22e)]=_0x49661e(0x2cb),_0x3fae8a['eThIg']='Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.',_0x3fae8a[_0x49661e(0x1d7)]=_0x49661e(0x3a0),_0x3fae8a[_0x49661e(0x35f)]=_0x49661e(0x2e6),_0x3fae8a[_0x49661e(0x309)]=_0x49661e(0x21f),_0x3fae8a['QDmsb']=_0x49661e(0x20e);const _0x29a712=_0x3fae8a;let _0x24cc8d=await fs['readFileAsync'](path['join'](__dirname,'..',_0x29a712[_0x49661e(0x261)],_0x29a712[_0x49661e(0x1fd)],_0x29a712[_0x49661e(0x2e5)]),_0x29a712['eEieo']);_0x24cc8d=JSON[_0x49661e(0x3ab)](_0x24cc8d);const _0x344c2b={};_0x344c2b[_0x49661e(0x22d)]=this[_0x49661e(0x23d)];const _0x267e83={};_0x267e83['value']=global_registry['clusterRegion'];const _0x1cd66a={};_0x1cd66a['value']=global_registry[_0x49661e(0x2dd)];const _0x982096={};_0x982096[_0x49661e(0x22d)]=global_registry[_0x49661e(0x348)];const _0x418843={};_0x418843[_0x49661e(0x22d)]=global_registry[_0x49661e(0x314)]?_0x29a712[_0x49661e(0x299)]:_0x29a712[_0x49661e(0x20a)];const _0x3417d2={};_0x3417d2[_0x49661e(0x23d)]=_0x344c2b,_0x3417d2[_0x49661e(0x2b1)]=_0x267e83,_0x3417d2[_0x49661e(0x374)]=_0x1cd66a,_0x3417d2['userMaxNodes']=_0x982096,_0x3417d2[_0x49661e(0x314)]=_0x418843;let _0xc68ddc=_0x3417d2;if(_0x29a712[_0x49661e(0x23e)](_0x1c4401,null)&&_0x29a712['ZuvUn'](_0x24c1c8,null)){if(_0x29a712[_0x49661e(0x23e)](_0x29a712['xvevT'],_0x29a712[_0x49661e(0x267)]))return _0x194a65['error'](_0x49661e(0x27a)+_0x1e69d8+':'+_0x10841e[_0x49661e(0x217)]),{};else{const _0x344597={};_0x344597[_0x49661e(0x1dd)]=_0x29a712[_0x49661e(0x22e)],_0x344597[_0x49661e(0x323)]={},_0x344597[_0x49661e(0x323)][_0x49661e(0x2d0)]=_0x29a712[_0x49661e(0x34d)];const _0x1beb52={};_0x1beb52[_0x49661e(0x1dd)]=_0x29a712[_0x49661e(0x22e)],_0x1beb52[_0x49661e(0x323)]={},_0x1beb52[_0x49661e(0x323)]['description']=_0x29a712['eThIg'],_0x24cc8d[_0x49661e(0x208)]={..._0x24cc8d[_0x49661e(0x208)],'vpcName':_0x344597,'subnetName':_0x1beb52};const _0x4adbf7={};_0x4adbf7['vnetSubnetID']=_0x29a712[_0x49661e(0x1d7)],_0x24cc8d[_0x49661e(0x270)]=_0x4adbf7,_0x24cc8d[_0x49661e(0x248)][0x0][_0x49661e(0x2ae)]['agentPoolProfiles'][0x0]={..._0x24cc8d['resources'][0x0][_0x49661e(0x2ae)][_0x49661e(0x34b)][0x0],'vnetSubnetID':_0x29a712[_0x49661e(0x35f)]};const _0x20826e={};_0x20826e[_0x49661e(0x22d)]=_0x1c4401;const _0x338a8c={};_0x338a8c[_0x49661e(0x22d)]=_0x24c1c8[0x0],_0xc68ddc={..._0xc68ddc,'vpcName':_0x20826e,'subnetName':_0x338a8c};}}await this['resourceClient'][_0x49661e(0x227)][_0x49661e(0x353)](global_registry[_0x49661e(0x313)],_0x29a712[_0x49661e(0x309)],{'properties':{'template':_0x24cc8d,'mode':_0x29a712[_0x49661e(0x37c)],'parameters':_0xc68ddc}});}async[a1_0x24b629(0x342)](){const _0x5582cd=a1_0x24b629,_0x4d60c9={};_0x4d60c9[_0x5582cd(0x281)]=function(_0x17773c,_0x58af02){return _0x17773c===_0x58af02;},_0x4d60c9[_0x5582cd(0x295)]='ZXXIS',_0x4d60c9[_0x5582cd(0x226)]=_0x5582cd(0x28e),_0x4d60c9[_0x5582cd(0x1df)]='AgPPK',_0x4d60c9['sSZSQ']='Storage\x20account\x20already\x20exists,\x20skipping',_0x4d60c9[_0x5582cd(0x2bf)]=function(_0x2b15c0,_0x13502b){return _0x2b15c0!==_0x13502b;},_0x4d60c9[_0x5582cd(0x2a6)]=_0x5582cd(0x367),_0x4d60c9['dloRv']=_0x5582cd(0x1d4),_0x4d60c9[_0x5582cd(0x31c)]=function(_0x3c7473,_0x4a0f5a){return _0x3c7473!==_0x4a0f5a;},_0x4d60c9[_0x5582cd(0x1d6)]=_0x5582cd(0x207),_0x4d60c9[_0x5582cd(0x1fc)]=_0x5582cd(0x1d8),_0x4d60c9[_0x5582cd(0x355)]=_0x5582cd(0x2b4),_0x4d60c9[_0x5582cd(0x322)]='Created\x20Azure\x20federated\x20identity';const _0x270894=_0x4d60c9,_0x8f85a3=await this[_0x5582cd(0x30c)]();if(!_0x8f85a3){if(_0x270894[_0x5582cd(0x281)](_0x270894[_0x5582cd(0x295)],_0x270894[_0x5582cd(0x295)])){const _0x5183ab={};_0x5183ab[_0x5582cd(0x1dd)]=WS_EVENTS[_0x5582cd(0x26d)],_0x5183ab[_0x5582cd(0x25a)]=_0x270894[_0x5582cd(0x226)],this['webSocketUtils'][_0x5582cd(0x35a)](this['rws'],_0x5183ab),logger[_0x5582cd(0x290)](_0x270894[_0x5582cd(0x226)]),await this[_0x5582cd(0x31e)]();}else _0x10a421[_0x5582cd(0x2d4)](_0x3c537b);}else{if(_0x270894[_0x5582cd(0x281)](_0x270894[_0x5582cd(0x1df)],_0x270894[_0x5582cd(0x1df)]))logger[_0x5582cd(0x290)](_0x270894[_0x5582cd(0x338)]);else return _0x4f34bf[_0x5582cd(0x2b6)][_0x5582cd(0x236)][_0x5582cd(0x20c)][0x0]['hostname'];}const _0x900d83=await this['isManagedIdentityPresent']();if(!_0x900d83){if(_0x270894[_0x5582cd(0x2bf)](_0x270894[_0x5582cd(0x2a6)],_0x270894['zkoJf']))_0x270894['wECSo'](_0x1e9c8[_0x5582cd(0x260)],_0x5e73ac)&&(_0x1150c8=_0x1bcd36['id']);else{const _0x5f5d42={};_0x5f5d42['type']=WS_EVENTS['LOG'],_0x5f5d42['message']=_0x270894['dloRv'],this[_0x5582cd(0x222)][_0x5582cd(0x35a)](this[_0x5582cd(0x263)],_0x5f5d42),logger[_0x5582cd(0x290)](_0x270894[_0x5582cd(0x30f)]),await this[_0x5582cd(0x25c)]();}}else{if(_0x270894[_0x5582cd(0x31c)](_0x270894['MwOvs'],_0x270894[_0x5582cd(0x1d6)]))return!![];else logger[_0x5582cd(0x290)](_0x270894['sHGqG']);}logger['info'](_0x270894[_0x5582cd(0x355)]),await this[_0x5582cd(0x22f)](),logger[_0x5582cd(0x290)](_0x270894['wqBTD']);}async[a1_0x24b629(0x31e)](){const _0x1b78c5=a1_0x24b629,_0x4a60a9={};_0x4a60a9[_0x1b78c5(0x1d1)]=_0x1b78c5(0x2d3),_0x4a60a9[_0x1b78c5(0x3af)]='azureresources',_0x4a60a9[_0x1b78c5(0x31a)]=_0x1b78c5(0x3ac),_0x4a60a9['EREdb']='utf-8',_0x4a60a9[_0x1b78c5(0x292)]='turboscale-storageaccount-deployment',_0x4a60a9[_0x1b78c5(0x306)]=_0x1b78c5(0x20e),_0x4a60a9[_0x1b78c5(0x328)]=_0x1b78c5(0x2d8),_0x4a60a9['SfBNg']='Lifecycle',_0x4a60a9[_0x1b78c5(0x1e9)]='blockBlob',_0x4a60a9['hTWJk']=_0x1b78c5(0x35e);const _0x312dc2=_0x4a60a9;let _0xc20bf4=await fs[_0x1b78c5(0x278)](path[_0x1b78c5(0x258)](__dirname,'..',_0x312dc2[_0x1b78c5(0x1d1)],_0x312dc2[_0x1b78c5(0x3af)],_0x312dc2[_0x1b78c5(0x31a)]),_0x312dc2[_0x1b78c5(0x1d9)]);_0xc20bf4=JSON[_0x1b78c5(0x3ab)](_0xc20bf4);const _0x54e449=this['getStorageAccountName'](),_0x41d264={};_0x41d264[_0x1b78c5(0x22d)]=_0x54e449;const _0x6c6413={};_0x6c6413[_0x1b78c5(0x212)]=_0x41d264,await this[_0x1b78c5(0x326)]['deployments'][_0x1b78c5(0x353)](global_registry['cloudProviderResourceGroup'],_0x312dc2[_0x1b78c5(0x292)],{'properties':{'template':_0xc20bf4,'mode':_0x312dc2[_0x1b78c5(0x306)],'parameters':_0x6c6413}});const _0x2c63a2={};_0x2c63a2[_0x1b78c5(0x398)]=0x3c;const _0x162c77={};_0x162c77['delete']=_0x2c63a2;const _0x2fcb63={};_0x2fcb63[_0x1b78c5(0x294)]=_0x162c77;const _0x2df52c={};_0x2df52c[_0x1b78c5(0x22a)]=!![],_0x2df52c['name']=_0x312dc2[_0x1b78c5(0x328)],_0x2df52c[_0x1b78c5(0x1dd)]=_0x312dc2[_0x1b78c5(0x224)],_0x2df52c[_0x1b78c5(0x1f5)]={},_0x2df52c[_0x1b78c5(0x1f5)][_0x1b78c5(0x1d5)]=_0x2fcb63,_0x2df52c[_0x1b78c5(0x1f5)][_0x1b78c5(0x2e8)]={},_0x2df52c[_0x1b78c5(0x1f5)][_0x1b78c5(0x2e8)][_0x1b78c5(0x1ec)]=[_0x312dc2[_0x1b78c5(0x1e9)]];const _0x59916c={};_0x59916c[_0x1b78c5(0x1d0)]=[_0x2df52c];const _0x3b2301={};_0x3b2301[_0x1b78c5(0x2a7)]=_0x59916c;const _0x3c00ce=_0x3b2301;await this[_0x1b78c5(0x2be)]['managementPolicies']['createOrUpdate'](global_registry['cloudProviderResourceGroup'],_0x54e449,_0x312dc2[_0x1b78c5(0x361)],_0x3c00ce);}async['createManagedIdentity'](){const _0x53ef04=a1_0x24b629,_0x91a8f4={};_0x91a8f4[_0x53ef04(0x2cd)]=_0x53ef04(0x2d3),_0x91a8f4[_0x53ef04(0x3a2)]=_0x53ef04(0x28f),_0x91a8f4['vsAXt']='managedidentity.json',_0x91a8f4[_0x53ef04(0x25e)]=_0x53ef04(0x27d),_0x91a8f4['tcHle']=_0x53ef04(0x3b3),_0x91a8f4[_0x53ef04(0x1f7)]=_0x53ef04(0x20e);const _0x51638f=_0x91a8f4;let _0x9e59a9=await fs[_0x53ef04(0x278)](path[_0x53ef04(0x258)](__dirname,'..',_0x51638f[_0x53ef04(0x2cd)],_0x51638f[_0x53ef04(0x3a2)],_0x51638f[_0x53ef04(0x253)]),_0x51638f[_0x53ef04(0x25e)]);_0x9e59a9=JSON[_0x53ef04(0x3ab)](_0x9e59a9),await this[_0x53ef04(0x326)][_0x53ef04(0x227)][_0x53ef04(0x353)](global_registry[_0x53ef04(0x313)],_0x51638f[_0x53ef04(0x35b)],{'properties':{'template':_0x9e59a9,'mode':_0x51638f['wNSKI'],'parameters':{'clusterName':{'value':this['clusterName']}}}});}async[a1_0x24b629(0x22f)](){const _0x25d5b7=a1_0x24b629,_0x418bd7={};_0x418bd7[_0x25d5b7(0x376)]=function(_0x4577f0,_0x1a68a4){return _0x4577f0+_0x1a68a4;},_0x418bd7['IwLDR']=_0x25d5b7(0x2ba),_0x418bd7[_0x25d5b7(0x331)]=function(_0x449cac,_0x538cbc){return _0x449cac-_0x538cbc;},_0x418bd7['dmgay']=function(_0x478e16,_0x11dbaf){return _0x478e16!==_0x11dbaf;},_0x418bd7[_0x25d5b7(0x391)]=_0x25d5b7(0x321),_0x418bd7['qQxOs']=_0x25d5b7(0x32f),_0x418bd7[_0x25d5b7(0x24d)]=_0x25d5b7(0x32c),_0x418bd7[_0x25d5b7(0x203)]=function(_0x28fef1,_0x3e6e38){return _0x28fef1===_0x3e6e38;},_0x418bd7['QeDee']=_0x25d5b7(0x265),_0x418bd7[_0x25d5b7(0x1e7)]=_0x25d5b7(0x3a9),_0x418bd7[_0x25d5b7(0x228)]=_0x25d5b7(0x2d3),_0x418bd7[_0x25d5b7(0x252)]=_0x25d5b7(0x28f),_0x418bd7[_0x25d5b7(0x238)]='utf-8',_0x418bd7[_0x25d5b7(0x39f)]='turboscale-federated-deployment',_0x418bd7[_0x25d5b7(0x33a)]=_0x25d5b7(0x20e);const _0x19dbb2=_0x418bd7;!this[_0x25d5b7(0x273)]&&(_0x19dbb2[_0x25d5b7(0x25b)](_0x19dbb2['NfNRk'],_0x19dbb2[_0x25d5b7(0x391)])?_0x58dcce['push'](_0x5a833b):await this[_0x25d5b7(0x25f)]());const _0x46a81a=this[_0x25d5b7(0x273)]?.[_0x25d5b7(0x2d6)]?.[_0x25d5b7(0x3b4)],_0x4ccfac=[_0x19dbb2[_0x25d5b7(0x300)],_0x19dbb2[_0x25d5b7(0x24d)]];for await(const _0x5a3e87 of _0x4ccfac){if(_0x19dbb2['MpdjF'](_0x19dbb2[_0x25d5b7(0x33f)],_0x19dbb2[_0x25d5b7(0x1e7)])){const _0x5c84e9=_0x4c847c[_0x25d5b7(0x2b2)][_0x25d5b7(0x383)]('-'),_0x514555=_0x19dbb2['AAEOA'](_0x19dbb2[_0x25d5b7(0x2ce)],_0x5c84e9[_0x19dbb2[_0x25d5b7(0x331)](_0x5c84e9[_0x25d5b7(0x289)],0x1)])[_0x25d5b7(0x240)](0x0,0x18);return _0x514555[_0x25d5b7(0x1f3)]();}else{let _0x4040cd=await fs['readFileAsync'](path[_0x25d5b7(0x258)](__dirname,'..',_0x19dbb2[_0x25d5b7(0x228)],_0x19dbb2[_0x25d5b7(0x252)],_0x25d5b7(0x307)+_0x5a3e87+'.json'),_0x19dbb2[_0x25d5b7(0x238)]);_0x4040cd=JSON[_0x25d5b7(0x3ab)](_0x4040cd);const _0x5c3807={};_0x5c3807[_0x25d5b7(0x22d)]=_0x46a81a,await this[_0x25d5b7(0x326)][_0x25d5b7(0x227)][_0x25d5b7(0x353)](global_registry[_0x25d5b7(0x313)],_0x19dbb2[_0x25d5b7(0x39f)],{'properties':{'template':_0x4040cd,'mode':_0x19dbb2['HINDq'],'parameters':{'oidcIssuer':_0x5c3807,'gridName':{'value':this[_0x25d5b7(0x380)]},'clusterName':{'value':this[_0x25d5b7(0x23d)]}}}});}}}async[a1_0x24b629(0x2e1)](_0x2417b2,_0x35fd23,_0x39d053,_0x2e7653,_0x1131af){const _0x2b9ee4=a1_0x24b629,_0x45e81d={};_0x45e81d[_0x2b9ee4(0x21b)]=_0x2b9ee4(0x21d),_0x45e81d[_0x2b9ee4(0x1ed)]=_0x2b9ee4(0x24f);const _0x2254e4=_0x45e81d,_0x53ea58={};_0x53ea58['type']=WS_EVENTS[_0x2b9ee4(0x26d)],_0x53ea58[_0x2b9ee4(0x25a)]=_0x2254e4[_0x2b9ee4(0x21b)],this[_0x2b9ee4(0x222)][_0x2b9ee4(0x35a)](this[_0x2b9ee4(0x263)],_0x53ea58),logger['info'](_0x2254e4['KrsRc']),await this[_0x2b9ee4(0x373)]();const _0x1f8c58={};_0x1f8c58[_0x2b9ee4(0x1dd)]=WS_EVENTS[_0x2b9ee4(0x26d)],_0x1f8c58[_0x2b9ee4(0x25a)]=_0x2254e4['hvxJE'],this[_0x2b9ee4(0x222)]['sendEventToBackend'](this[_0x2b9ee4(0x263)],_0x1f8c58);}async[a1_0x24b629(0x373)](){const _0x292e3b=a1_0x24b629,_0x398ead={};_0x398ead['TSPol']=function(_0x864148,_0x206be8){return _0x864148===_0x206be8;},_0x398ead[_0x292e3b(0x2df)]=_0x292e3b(0x2f5),_0x398ead[_0x292e3b(0x2ef)]=_0x292e3b(0x2cf),_0x398ead['hhVcw']=_0x292e3b(0x2d3),_0x398ead['XGRKJ']=_0x292e3b(0x2c1),_0x398ead[_0x292e3b(0x1eb)]='federatedidentityuploader.json',_0x398ead[_0x292e3b(0x28a)]=_0x292e3b(0x27d),_0x398ead[_0x292e3b(0x2bd)]='turboscale-federated-deployment',_0x398ead[_0x292e3b(0x315)]=_0x292e3b(0x20e);const _0x5c29e3=_0x398ead;!this[_0x292e3b(0x273)]&&(_0x5c29e3['TSPol'](_0x5c29e3[_0x292e3b(0x2df)],_0x5c29e3[_0x292e3b(0x2ef)])?_0x11551f=_0x318f61['id']:await this[_0x292e3b(0x25f)]());const _0x3c1715=this[_0x292e3b(0x273)]?.[_0x292e3b(0x2d6)]?.[_0x292e3b(0x3b4)];let _0x2cea5d=await fs['readFileAsync'](path['join'](__dirname,'..',_0x5c29e3[_0x292e3b(0x225)],_0x5c29e3['XGRKJ'],_0x5c29e3['gJBOV']),_0x5c29e3['xnfYL']);_0x2cea5d=JSON[_0x292e3b(0x3ab)](_0x2cea5d);const _0x48455d={};_0x48455d['value']=_0x3c1715,await this[_0x292e3b(0x326)][_0x292e3b(0x227)][_0x292e3b(0x353)](global_registry[_0x292e3b(0x313)],_0x5c29e3[_0x292e3b(0x2bd)],{'properties':{'template':_0x2cea5d,'mode':_0x5c29e3[_0x292e3b(0x315)],'parameters':{'oidcIssuer':_0x48455d,'namespace':{'value':global_registry['hubHaNameSpace']},'clusterName':{'value':this[_0x292e3b(0x23d)]}}}});}async[a1_0x24b629(0x30c)](){const _0xee0ec4=a1_0x24b629,_0x1313db={};_0x1313db[_0xee0ec4(0x332)]='Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.',_0x1313db[_0xee0ec4(0x2c6)]=function(_0x1e1459,_0x3b3d12){return _0x1e1459===_0x3b3d12;},_0x1313db[_0xee0ec4(0x36b)]=_0xee0ec4(0x1d3),_0x1313db['sIbra']=function(_0x432c23,_0x221300){return _0x432c23!==_0x221300;},_0x1313db[_0xee0ec4(0x27b)]=_0xee0ec4(0x277),_0x1313db[_0xee0ec4(0x22b)]=function(_0x772c37,_0x3b3cc1){return _0x772c37===_0x3b3cc1;},_0x1313db[_0xee0ec4(0x350)]=_0xee0ec4(0x2a3);const _0x7f890a=_0x1313db,_0x26d84c=this['getStorageAccountName'](),_0x5a1392=new Array();for await(const _0x431090 of this[_0xee0ec4(0x2be)][_0xee0ec4(0x256)][_0xee0ec4(0x358)](global_registry[_0xee0ec4(0x313)])){_0x7f890a[_0xee0ec4(0x2c6)](_0x7f890a[_0xee0ec4(0x36b)],_0x7f890a[_0xee0ec4(0x36b)])?_0x5a1392['push'](_0x431090):(_0x40df02['error'](_0x7f890a['efEwA']),_0x302b30['exit'](0x1));}for await(const _0x4e7001 of _0x5a1392){if(_0x7f890a[_0xee0ec4(0x204)](_0x7f890a[_0xee0ec4(0x27b)],_0x7f890a[_0xee0ec4(0x27b)]))_0x18ca70[_0xee0ec4(0x221)][_0xee0ec4(0x2d4)](_0x7865bf);else{if(_0x7f890a[_0xee0ec4(0x22b)](_0x4e7001[_0xee0ec4(0x260)],_0x26d84c))return _0x7f890a['SkAmA'](_0x7f890a[_0xee0ec4(0x350)],_0x7f890a[_0xee0ec4(0x350)])?!![]:(_0x269ed4['error']('Cannot\x20find\x20subnets\x20'+_0x5560bd+'.\x20Error:\x20'+_0xa5082b),[![],[]]);}}return![];}async[a1_0x24b629(0x1e6)](){const _0xdf785b=a1_0x24b629,_0x1c6b40={};_0x1c6b40[_0xdf785b(0x205)]=_0xdf785b(0x249),_0x1c6b40['DqpiC']=function(_0x40b942,_0x1548f0){return _0x40b942!==_0x1548f0;},_0x1c6b40[_0xdf785b(0x298)]=_0xdf785b(0x21e),_0x1c6b40[_0xdf785b(0x318)]=function(_0x144f97,_0x3ff92c){return _0x144f97===_0x3ff92c;},_0x1c6b40['iecsW']=_0xdf785b(0x2fe),_0x1c6b40['EPHnu']=_0xdf785b(0x2d9),_0x1c6b40[_0xdf785b(0x333)]=function(_0x3e60ba,_0x465954){return _0x3e60ba===_0x465954;},_0x1c6b40[_0xdf785b(0x268)]=function(_0x4ae490,_0x4d8dcf){return _0x4ae490!==_0x4d8dcf;},_0x1c6b40[_0xdf785b(0x1f2)]=_0xdf785b(0x2fb);const _0x53cd39=_0x1c6b40,_0x1bbbd7=new Array();for await(const _0x25e4a7 of this['resourceClient'][_0xdf785b(0x248)][_0xdf785b(0x358)](global_registry['cloudProviderResourceGroup'])){if(_0x53cd39['DqpiC'](_0x53cd39['QNxZf'],_0x53cd39[_0xdf785b(0x298)]))return!![];else _0x1bbbd7['push'](_0x25e4a7);}for await(const _0x393442 of _0x1bbbd7){if(_0x53cd39[_0xdf785b(0x318)](_0x53cd39[_0xdf785b(0x312)],_0x53cd39['EPHnu'])){const _0x35c080=new _0x53cf59(_0x2f5d7d[_0xdf785b(0x371)],_0x3e1a80[_0xdf785b(0x38c)],_0x4fea25['cloudProviderClientSecret']);this[_0xdf785b(0x2cc)]=new _0x56663a(_0x35c080,_0x1363d6[_0xdf785b(0x2dc)]),this[_0xdf785b(0x2be)]=new _0x39d12f(_0x35c080,_0x2ba72a[_0xdf785b(0x2dc)]),this[_0xdf785b(0x326)]=new _0x5c463a(_0x35c080,_0x5c2138[_0xdf785b(0x2dc)]),this[_0xdf785b(0x29b)]=new _0x3010f0(_0x35c080,_0x3c9d00[_0xdf785b(0x2dc)]),this[_0xdf785b(0x23c)]=new _0x48e97b(_0x35c080,_0x90049b[_0xdf785b(0x2dc)]),this['cred']=_0x35c080;}else{if(_0x53cd39['uDwZi'](_0x393442['name'],_0xdf785b(0x234)+this[_0xdf785b(0x23d)]))return _0x53cd39['QPZWM'](_0x53cd39[_0xdf785b(0x1f2)],_0x53cd39['FTOXX'])?(_0x1d576e[_0xdf785b(0x308)]=_0x53cd39[_0xdf785b(0x205)],_0x2e26aa):!![];}}return![];}async[a1_0x24b629(0x242)](_0x57ebb0,_0x164a01=0x3){const _0x2bc52d=a1_0x24b629,_0xfad410={'IWPan':'string','OchAv':'Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','EwfdQ':_0x2bc52d(0x3a0),'dwCrv':_0x2bc52d(0x2e6),'HmdNF':_0x2bc52d(0x329),'BEPjq':_0x2bc52d(0x2bb),'ytGgf':function(_0x1f3531,_0x2d0c0d){return _0x1f3531===_0x2d0c0d;},'WjNKa':function(_0x3e2147,_0x36a395){return _0x3e2147!==_0x36a395;},'RBBvT':_0x2bc52d(0x25d),'GAkcK':function(_0x3733b8,_0xbcf681,_0x5e503a){return _0x3733b8(_0xbcf681,_0x5e503a);},'kgGZX':'allowed','gORlj':_0x2bc52d(0x1de),'ppmog':_0x2bc52d(0x3aa),'obqbH':'RpYLo','MdhDV':_0x2bc52d(0x39d),'YzPGR':'fEZDE','BnNcx':_0x2bc52d(0x38e),'eNWyf':_0x2bc52d(0x297),'QqexN':_0x2bc52d(0x395),'HGrvE':_0x2bc52d(0x287),'VvQrw':_0x2bc52d(0x209),'GGiQD':_0x2bc52d(0x271),'MbHjn':function(_0xffe382,_0x2628d9){return _0xffe382<=_0x2628d9;},'fPgMA':function(_0x162ed2,_0xca985){return _0x162ed2!==_0xca985;},'EfgjX':_0x2bc52d(0x389),'LAOlz':function(_0x8ca80b,_0x1c408d){return _0x8ca80b-_0x1c408d;}};try{if(_0xfad410[_0x2bc52d(0x232)](_0xfad410['ppmog'],_0xfad410['ppmog']))return!![];else{const _0x1eb266=new Array();for await(const _0x1dbbc0 of this['resourceClient']['resources']['listByResourceGroup'](global_registry['cloudProviderResourceGroup'])){if(_0xfad410['ytGgf'](_0xfad410[_0x2bc52d(0x339)],_0xfad410['MdhDV']))return _0x4b2b3d[_0x2bc52d(0x20f)](_0x2bc52d(0x219)+_0x250d4a+_0x2bc52d(0x37b)+_0x305af2),![];else _0x1eb266['push'](_0x1dbbc0);}let _0x2cfe94='';for await(const _0x1a9beb of _0x1eb266){if(_0xfad410[_0x2bc52d(0x232)](_0xfad410[_0x2bc52d(0x3b2)],_0xfad410[_0x2bc52d(0x28c)])){if(_0xfad410['ytGgf'](_0x1a9beb[_0x2bc52d(0x260)],_0x57ebb0)){if(_0xfad410[_0x2bc52d(0x24c)](_0xfad410[_0x2bc52d(0x1f0)],_0xfad410['QqexN'])){const _0x3b8016={};_0x3b8016['type']=_0xfad410['IWPan'],_0x3b8016[_0x2bc52d(0x323)]={},_0x3b8016[_0x2bc52d(0x323)]['description']=_0xfad410[_0x2bc52d(0x216)];const _0x166712={};_0x166712[_0x2bc52d(0x1dd)]=_0xfad410['IWPan'],_0x166712[_0x2bc52d(0x323)]={},_0x166712[_0x2bc52d(0x323)]['description']=_0xfad410[_0x2bc52d(0x216)];const _0x2f6de7={..._0x14f40b[_0x2bc52d(0x208)]};_0x2f6de7[_0x2bc52d(0x1fb)]=_0x3b8016,_0x2f6de7[_0x2bc52d(0x2fa)]=_0x166712,_0x38f665[_0x2bc52d(0x208)]=_0x2f6de7;const _0x4be647={};_0x4be647[_0x2bc52d(0x2f9)]=_0xfad410['EwfdQ'],_0x5efe69['variables']=_0x4be647;const _0x5c65e1={..._0x2eaf98[_0x2bc52d(0x248)][0x0][_0x2bc52d(0x2ae)][_0x2bc52d(0x34b)][0x0]};_0x5c65e1['vnetSubnetID']=_0xfad410[_0x2bc52d(0x38a)],_0x2f1762[_0x2bc52d(0x248)][0x0][_0x2bc52d(0x2ae)][_0x2bc52d(0x34b)][0x0]=_0x5c65e1;const _0x12255f={};_0x12255f[_0x2bc52d(0x22d)]=_0x41dcc8;const _0x1ee1ed={};_0x1ee1ed[_0x2bc52d(0x22d)]=_0x450842[0x0];const _0x655244={..._0x4f61e6};_0x655244[_0x2bc52d(0x1fb)]=_0x12255f,_0x655244[_0x2bc52d(0x2fa)]=_0x1ee1ed,_0x568690=_0x655244;}else _0x2cfe94=_0x1a9beb['id'];}}else _0x3c1c86[_0x2bc52d(0x290)](_0xfad410[_0x2bc52d(0x3a8)]);}const _0x2fc8d4=await this[_0x2bc52d(0x326)][_0x2bc52d(0x248)][_0x2bc52d(0x3a6)](_0x2cfe94,_0xfad410[_0x2bc52d(0x397)]);return _0x2fc8d4['properties']['clientId'];}}catch(_0x149d94){if(_0xfad410['WjNKa'](_0xfad410[_0x2bc52d(0x378)],_0xfad410[_0x2bc52d(0x2e3)])){if(_0xfad410[_0x2bc52d(0x317)](_0x164a01,0x0)){if(_0xfad410[_0x2bc52d(0x2c8)](_0xfad410[_0x2bc52d(0x2a2)],_0xfad410[_0x2bc52d(0x2a2)])){_0x4e2f19[_0x2bc52d(0x290)](_0xfad410[_0x2bc52d(0x1ff)]);const _0x5017c6={};_0x5017c6[_0x2bc52d(0x1dd)]=_0x3371eb[_0x2bc52d(0x393)],_0x5017c6[_0x2bc52d(0x25a)]=_0xfad410['BEPjq'],this['webSocketUtils']['sendEventToBackend'](this[_0x2bc52d(0x263)],_0x5017c6);const _0xf7ede0={};_0xf7ede0['enabled']=!![];const _0x2bd5af={'workloadIdentity':_0xf7ede0,..._0x493b3e[_0x2bc52d(0x324)]};_0x4ccc8f[_0x2bc52d(0x324)]=_0x2bd5af;}else return logger['error'](_0x2bc52d(0x27a)+_0x149d94+':'+_0x149d94[_0x2bc52d(0x217)]),{};}return await new Promise(_0x361171=>{const _0x26ef5c=_0x2bc52d;if(_0xfad410[_0x26ef5c(0x232)](_0xfad410['RBBvT'],_0xfad410['RBBvT'])){if(_0xfad410['ytGgf'](_0x4d081d[_0x26ef5c(0x260)],_0x43151f))return!![];}else _0xfad410[_0x26ef5c(0x392)](setTimeout,()=>_0x361171(),0x3e8);}),this[_0x2bc52d(0x242)](_0x57ebb0,_0xfad410['LAOlz'](_0x164a01,0x1));}else{const _0x1864de=_0x45d864['includes'](_0xa3021e);_0x1a2156+='\x0a\x09'+_0x5a4824+':\x20'+(_0x1864de?_0xfad410['kgGZX']:_0xfad410[_0x2bc52d(0x272)]),!_0x1864de&&(_0x129179['status']=![]);}}}async[a1_0x24b629(0x33b)](){const _0x284625=a1_0x24b629,_0x57a55d={};_0x57a55d[_0x284625(0x206)]=function(_0x361bd2,_0x3902aa){return _0x361bd2!==_0x3902aa;},_0x57a55d[_0x284625(0x266)]=_0x284625(0x363),_0x57a55d[_0x284625(0x21c)]=_0x284625(0x368),_0x57a55d['ZGkba']=function(_0x477518,_0x2384d6){return _0x477518===_0x2384d6;},_0x57a55d[_0x284625(0x27c)]=_0x284625(0x288),_0x57a55d[_0x284625(0x2b7)]=_0x284625(0x2a5),_0x57a55d['DKAtE']=_0x284625(0x2c9),_0x57a55d[_0x284625(0x1f9)]=_0x284625(0x2eb);const _0x530d20=_0x57a55d;if(!this['clusterInfo']){if(_0x530d20['xJfRy'](_0x530d20[_0x284625(0x266)],_0x530d20['RXmxt']))await this[_0x284625(0x25f)]();else return!![];}const _0x5854e6=this['clusterInfo']?.['tags']||{};if(_0x5854e6&&_0x530d20[_0x284625(0x37a)](_0x5854e6[_0x530d20[_0x284625(0x27c)]],_0x530d20[_0x284625(0x2b7)])){if(_0x530d20[_0x284625(0x37a)](_0x530d20[_0x284625(0x276)],_0x530d20['bsAQB']))_0x4b647d['push'](_0xbc0ebd);else return!![];}return![];}async[a1_0x24b629(0x2d1)](_0x277854,_0x2fc683){const _0x5dc3ef=a1_0x24b629,_0x55875c={'ZeFAC':function(_0x137fc0,_0x52e0db){return _0x137fc0(_0x52e0db);},'eekje':'Deleted\x20the\x20cluster\x20successfully'};await _0x55875c['ZeFAC'](deleteAgent,_0x277854),await _0x55875c[_0x5dc3ef(0x200)](deleteRoutingDeps,_0x277854);const _0x513a33=this[_0x5dc3ef(0x2cc)];logger[_0x5dc3ef(0x290)](_0x5dc3ef(0x2f4)+this['clusterName']),await _0x513a33[_0x5dc3ef(0x247)]['beginDeleteAndWait'](global_registry[_0x5dc3ef(0x313)],this[_0x5dc3ef(0x23d)]),logger[_0x5dc3ef(0x290)](_0x55875c['eekje']);}async['updateClusterAlreadyPresent'](){const _0x3d1341=a1_0x24b629,_0x4ae23e={};_0x4ae23e[_0x3d1341(0x3b5)]=_0x3d1341(0x32e),_0x4ae23e[_0x3d1341(0x27f)]='Managed\x20identity\x20already\x20exists,\x20skipping',_0x4ae23e[_0x3d1341(0x31b)]=function(_0xe6e692,_0x4102cf){return _0xe6e692!==_0x4102cf;},_0x4ae23e[_0x3d1341(0x2c4)]=_0x3d1341(0x351),_0x4ae23e[_0x3d1341(0x237)]=function(_0x198be4,_0x226be6){return _0x198be4&&_0x226be6;},_0x4ae23e[_0x3d1341(0x1e5)]=_0x3d1341(0x275),_0x4ae23e[_0x3d1341(0x2e0)]='yAvuB',_0x4ae23e['nnkuR']=function(_0x4338b8,_0x5f3206){return _0x4338b8===_0x5f3206;},_0x4ae23e[_0x3d1341(0x1fe)]=_0x3d1341(0x33c),_0x4ae23e['uFSoy']=_0x3d1341(0x2d7),_0x4ae23e[_0x3d1341(0x283)]='Btwby',_0x4ae23e['BHfuh']='qvBPw',_0x4ae23e['OrqxB']='Enabling\x20Workload\x20identity\x20for\x20the\x20cluster',_0x4ae23e[_0x3d1341(0x35d)]=function(_0x328716,_0x48a205){return _0x328716===_0x48a205;},_0x4ae23e['ZmGSL']='oYQqw',_0x4ae23e[_0x3d1341(0x310)]='FmCeJ',_0x4ae23e[_0x3d1341(0x2ac)]=_0x3d1341(0x2c5);const _0x2c75cc=_0x4ae23e;!this[_0x3d1341(0x273)]&&(_0x2c75cc[_0x3d1341(0x31b)](_0x2c75cc[_0x3d1341(0x2c4)],_0x2c75cc[_0x3d1341(0x2c4)])?_0x28c15b[_0x3d1341(0x2d4)](_0x3687e5['name']):await this[_0x3d1341(0x25f)]());const _0x4df798=this['clusterInfo'],_0x3202b3=this[_0x3d1341(0x273)]?.[_0x3d1341(0x2d6)]?.[_0x3d1341(0x22a)]||![],_0x319029=this[_0x3d1341(0x273)]?.[_0x3d1341(0x324)]?.['workloadIdentity']?.[_0x3d1341(0x22a)]||![],_0x1ede67=!this[_0x3d1341(0x273)]?.[_0x3d1341(0x382)]||![];if(_0x2c75cc[_0x3d1341(0x237)](_0x3202b3,_0x319029)&&_0x1ede67){if(_0x2c75cc[_0x3d1341(0x31b)](_0x2c75cc['DYkPs'],_0x2c75cc['MDsNX']))return;else _0x304a07[_0x3d1341(0x284)](0x0);}if(!_0x3202b3){if(_0x2c75cc[_0x3d1341(0x1e1)](_0x2c75cc[_0x3d1341(0x1fe)],_0x2c75cc['TjrHF'])){logger[_0x3d1341(0x290)](_0x2c75cc['uFSoy']);const _0x2f4975={};_0x2f4975[_0x3d1341(0x1dd)]=WS_EVENTS[_0x3d1341(0x393)],_0x2f4975['message']=_0x2c75cc[_0x3d1341(0x335)],this['webSocketUtils'][_0x3d1341(0x35a)](this[_0x3d1341(0x263)],_0x2f4975),_0x4df798['oidcIssuerProfile'][_0x3d1341(0x22a)]=!![];}else _0x3b2540[_0x3d1341(0x20f)](_0x2c75cc['xtQua']),_0x4627b2[_0x3d1341(0x284)](0x1);}if(!_0x319029){if(_0x2c75cc['oYsTZ'](_0x2c75cc[_0x3d1341(0x283)],_0x2c75cc['BHfuh'])){logger['info'](_0x2c75cc[_0x3d1341(0x36c)]);const _0x10f2de={};_0x10f2de['type']=WS_EVENTS[_0x3d1341(0x393)],_0x10f2de[_0x3d1341(0x25a)]=_0x2c75cc[_0x3d1341(0x36c)],this['webSocketUtils'][_0x3d1341(0x35a)](this[_0x3d1341(0x263)],_0x10f2de);const _0x1def69={};_0x1def69[_0x3d1341(0x22a)]=!![],_0x4df798[_0x3d1341(0x324)]={'workloadIdentity':_0x1def69,..._0x4df798[_0x3d1341(0x324)]};}else _0x1e6013[_0x3d1341(0x290)](_0x2c75cc[_0x3d1341(0x27f)]);}if(!_0x1ede67){if(_0x2c75cc['xsFmH'](_0x2c75cc[_0x3d1341(0x26c)],_0x2c75cc[_0x3d1341(0x310)]))_0x4fabb1[_0x3d1341(0x20f)]=_0x3adf00;else{logger[_0x3d1341(0x290)](_0x2c75cc['Uudak']);const _0x511898={};_0x511898[_0x3d1341(0x1dd)]=WS_EVENTS[_0x3d1341(0x393)],_0x511898[_0x3d1341(0x25a)]=_0x2c75cc[_0x3d1341(0x2ac)],this[_0x3d1341(0x222)][_0x3d1341(0x35a)](this[_0x3d1341(0x263)],_0x511898),_0x4df798['disableLocalAccounts']=![];}}await this['containerClient'][_0x3d1341(0x247)][_0x3d1341(0x353)](global_registry[_0x3d1341(0x313)],this[_0x3d1341(0x23d)],_0x4df798),await this[_0x3d1341(0x25f)]();}async[a1_0x24b629(0x364)](){const _0x23eb8a=a1_0x24b629,_0x52bb4c={};_0x52bb4c[_0x23eb8a(0x2a8)]='Enabling\x20Local\x20account\x20for\x20the\x20cluster',_0x52bb4c[_0x23eb8a(0x296)]=function(_0xe69c07,_0x36d6a1){return _0xe69c07!==_0x36d6a1;},_0x52bb4c[_0x23eb8a(0x349)]=_0x23eb8a(0x286),_0x52bb4c[_0x23eb8a(0x1ea)]='ONSrw';const _0x54903e=_0x52bb4c,_0x52b9af=await this[_0x23eb8a(0x29b)][_0x23eb8a(0x231)][_0x23eb8a(0x31f)](global_registry['cloudProviderResourceGroup']),_0x1d9c65={};_0x1d9c65[_0x23eb8a(0x1f6)]=global_registry[_0x23eb8a(0x354)],_0x1d9c65[_0x23eb8a(0x36d)]=global_registry[_0x23eb8a(0x259)],_0x1d9c65[_0x23eb8a(0x3ad)]=AZURE,_0x1d9c65[_0x23eb8a(0x221)]=[];const _0x473f5d=_0x1d9c65;for await(const _0x3b1e5b of _0x52b9af){if(_0x54903e['ovnhm'](_0x54903e['evKVM'],_0x54903e['LJfqH']))_0x473f5d[_0x23eb8a(0x221)]['push'](_0x3b1e5b);else{_0x1494e8[_0x23eb8a(0x290)](_0x54903e[_0x23eb8a(0x2a8)]);const _0x167335={};_0x167335[_0x23eb8a(0x1dd)]=_0x256405[_0x23eb8a(0x393)],_0x167335[_0x23eb8a(0x25a)]=_0x54903e[_0x23eb8a(0x2a8)],this[_0x23eb8a(0x222)][_0x23eb8a(0x35a)](this[_0x23eb8a(0x263)],_0x167335),_0x3431d6['disableLocalAccounts']=![];}}const _0x51e809={};_0x51e809[_0x23eb8a(0x1dd)]=WS_EVENTS['RESOURCES'],_0x51e809['message']=_0x473f5d,this[_0x23eb8a(0x222)]['sendEventToBackend'](this[_0x23eb8a(0x263)],_0x51e809);}async[a1_0x24b629(0x38b)](_0x1fdc23){const _0x4ef499=a1_0x24b629,_0x487149={'bbmVr':_0x4ef499(0x304),'nFVlY':function(_0x498c10,_0x123894,_0x527554){return _0x498c10(_0x123894,_0x527554);},'GWaCa':_0x4ef499(0x305),'yvBnA':function(_0x3ecb21,_0x8002ff){return _0x3ecb21===_0x8002ff;},'xKmPi':_0x4ef499(0x22c),'QkCNF':_0x4ef499(0x39c),'fvNSR':_0x4ef499(0x388),'AMsvQ':_0x4ef499(0x2ad),'ABPWw':function(_0x60de94,_0x141975){return _0x60de94!==_0x141975;},'OWzwf':_0x4ef499(0x30b),'ubuvS':_0x4ef499(0x37d)};try{if(_0x487149['yvBnA'](_0x487149[_0x4ef499(0x29c)],_0x487149[_0x4ef499(0x29c)])){const _0x51f25d=await this[_0x4ef499(0x29b)][_0x4ef499(0x231)]['listAll'](global_registry[_0x4ef499(0x313)]);for await(const _0x5cd7d8 of _0x51f25d){if(_0x487149[_0x4ef499(0x32b)](_0x487149[_0x4ef499(0x279)],_0x487149[_0x4ef499(0x279)])){if(_0x487149[_0x4ef499(0x32b)](_0x5cd7d8[_0x4ef499(0x260)],_0x1fdc23)){if(_0x487149[_0x4ef499(0x32b)](_0x487149['fvNSR'],_0x487149[_0x4ef499(0x244)])){const _0x208598={};_0x208598[_0x4ef499(0x2b6)]=!![],_0x208598[_0x4ef499(0x20f)]=null,_0x208598[_0x4ef499(0x308)]=_0x487149['bbmVr'];const _0x21d7fc=_0x208598;return _0x21d7fc;}else return!![];}}else _0x487149[_0x4ef499(0x28b)](_0x1289c5,()=>_0x3de5ad(),0x3e8);}}else _0x2710a9[_0x4ef499(0x2b6)]=![];}catch(_0x463b2f){if(_0x487149[_0x4ef499(0x39e)](_0x487149[_0x4ef499(0x2b3)],_0x487149[_0x4ef499(0x319)]))return logger[_0x4ef499(0x20f)](_0x4ef499(0x219)+_0x1fdc23+'.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20'+_0x463b2f),![];else throw new _0x289ea6(_0x487149[_0x4ef499(0x3ae)],_0x4ef499(0x33e)+_0x43ebad[_0x4ef499(0x399)](_0x2ec4e4));}return![];}async['isSubnetsValid'](_0x3c0d84,_0x4dc1d2){const _0x3a17ae=a1_0x24b629,_0x92b56e={};_0x92b56e['BYtEC']=function(_0x1a0342,_0x5e3514){return _0x1a0342===_0x5e3514;},_0x92b56e[_0x3a17ae(0x1f4)]=_0x3a17ae(0x316),_0x92b56e[_0x3a17ae(0x301)]=_0x3a17ae(0x34e),_0x92b56e['ILSYO']=_0x3a17ae(0x230);const _0x5b072a=_0x92b56e;try{if(_0x5b072a[_0x3a17ae(0x341)](_0x5b072a[_0x3a17ae(0x1f4)],_0x5b072a[_0x3a17ae(0x301)])){if(_0x5b072a[_0x3a17ae(0x341)](_0x3109a8[_0x3a17ae(0x260)],_0x3c9d89))return!![];}else{const _0x61101c=await this[_0x3a17ae(0x29b)]['subnets'][_0x3a17ae(0x35c)](global_registry[_0x3a17ae(0x313)],_0x4dc1d2,_0x3c0d84[0x0]);if(_0x5b072a['BYtEC'](_0x3c0d84[0x0],_0x61101c['name'])){if(_0x5b072a[_0x3a17ae(0x341)](_0x5b072a[_0x3a17ae(0x23f)],_0x5b072a[_0x3a17ae(0x23f)]))return[!![],_0x3c0d84];else{if(_0x5b072a[_0x3a17ae(0x341)](_0x39ea52[_0x3a17ae(0x260)],'turboscale-managed-identity-'+this[_0x3a17ae(0x23d)]))return!![];}}}}catch(_0x426b64){return logger['error'](_0x3a17ae(0x370)+_0x3c0d84+'.\x20Error:\x20'+_0x426b64),[![],[]];}return[![],[]];}async[a1_0x24b629(0x2ca)](){const _0x3b3266=a1_0x24b629,_0x44cca={};_0x44cca[_0x3b3266(0x337)]=_0x3b3266(0x304);const _0x5d961c=_0x44cca,_0x5dbbc6={};_0x5dbbc6[_0x3b3266(0x2b6)]=!![],_0x5dbbc6[_0x3b3266(0x20f)]=null,_0x5dbbc6[_0x3b3266(0x308)]=_0x5d961c[_0x3b3266(0x337)];const _0x1e0ea7=_0x5dbbc6;return _0x1e0ea7;}async[a1_0x24b629(0x24e)](){const _0x52f721=a1_0x24b629,_0xe4b334={};_0xe4b334[_0x52f721(0x2aa)]='https://graph.microsoft.com/.default',_0xe4b334[_0x52f721(0x2c2)]=_0x52f721(0x23b),_0xe4b334[_0x52f721(0x387)]=_0x52f721(0x33d);const _0x3744d7=_0xe4b334,_0x3d5869=await this[_0x52f721(0x3b1)][_0x52f721(0x3b6)](_0x3744d7[_0x52f721(0x2aa)]),_0x374d1d={};_0x374d1d[_0x52f721(0x32d)]=_0x3744d7['HqdGe'],_0x374d1d[_0x52f721(0x24b)]={},_0x374d1d[_0x52f721(0x24b)]['Authorization']='Bearer\x20'+_0x3d5869[_0x52f721(0x340)],_0x374d1d[_0x52f721(0x24b)][_0x52f721(0x2ea)]=_0x3744d7[_0x52f721(0x387)];const _0x293e67=_0x374d1d;return _0x293e67;}async['getPrincipalIdFromClientId'](_0x700a8f){const _0x313c13=a1_0x24b629,_0x5bad93={'OdkJj':function(_0x1b1be7,_0x263d39,_0x352c44){return _0x1b1be7(_0x263d39,_0x352c44);},'XUyCc':function(_0x11c88a,_0x56cccf){return _0x11c88a===_0x56cccf;},'lXEgs':'No\x20service\x20principal\x20found'},_0x68fff1={};_0x68fff1['principalId']='',_0x68fff1[_0x313c13(0x20f)]=null;const _0x59e485=_0x68fff1;try{const _0x52f1be=_0x313c13(0x30e)+_0x700a8f+'\x27',_0xa4a38a=await this[_0x313c13(0x24e)](),_0x4eb8af=await _0x5bad93[_0x313c13(0x2a9)](fetch,_0x52f1be,_0xa4a38a),_0x5bc79b=await _0x4eb8af[_0x313c13(0x1db)]();if(!_0x5bc79b[_0x313c13(0x22d)]||_0x5bad93[_0x313c13(0x30a)](_0x5bc79b[_0x313c13(0x22d)][_0x313c13(0x289)],0x0))throw new Error(_0x5bad93['lXEgs'],_0x313c13(0x33e)+JSON[_0x313c13(0x399)](_0x5bc79b));_0x59e485['principalId']=_0x5bc79b['value'][0x0]['id'];}catch(_0x3a47e3){_0x59e485[_0x313c13(0x20f)]=_0x3a47e3;}return _0x59e485;}async[a1_0x24b629(0x359)](){const _0x5ecf88=a1_0x24b629,_0x42b988={};_0x42b988[_0x5ecf88(0x38f)]=_0x5ecf88(0x2f6),_0x42b988[_0x5ecf88(0x2ed)]=_0x5ecf88(0x1de),_0x42b988[_0x5ecf88(0x379)]=function(_0x188f50,_0x2c99b1){return _0x188f50!==_0x2c99b1;},_0x42b988['LvRtj']=function(_0x2ddb8a,_0x3eb70e){return _0x2ddb8a===_0x3eb70e;},_0x42b988['Fkiws']=_0x5ecf88(0x249),_0x42b988[_0x5ecf88(0x3a4)]=_0x5ecf88(0x2ec),_0x42b988[_0x5ecf88(0x26a)]=function(_0xa8f495,_0x3d8fa6){return _0xa8f495===_0x3d8fa6;},_0x42b988[_0x5ecf88(0x2f2)]=_0x5ecf88(0x2a0);const _0xe55b8=_0x42b988,_0x284bfe={};_0x284bfe[_0x5ecf88(0x2b6)]=![],_0x284bfe[_0x5ecf88(0x20f)]=null,_0x284bfe[_0x5ecf88(0x308)]='';const _0x465bbb=_0x284bfe;try{let _0x1af409='';const _0x927e37='subscriptions/'+global_registry[_0x5ecf88(0x2dc)]+_0x5ecf88(0x365)+global_registry['cloudProviderResourceGroup'],_0x1a6170=await this['getPrincipalIdFromClientId'](global_registry[_0x5ecf88(0x38c)]);if(_0xe55b8['bURZM'](_0x1a6170[_0x5ecf88(0x20f)],null))return _0x465bbb[_0x5ecf88(0x20f)]=_0x1a6170[_0x5ecf88(0x20f)],_0x465bbb;const _0x223274='assignedTo(\x27'+_0x1a6170[_0x5ecf88(0x1dc)]+'\x27)',_0x4cd35c={};_0x4cd35c[_0x5ecf88(0x245)]=_0x223274;const _0x2c1c0c=await this[_0x5ecf88(0x23c)]['roleAssignments'][_0x5ecf88(0x2b8)](_0x927e37,_0x4cd35c),_0x34284f=[];for await(const _0x45ed98 of _0x2c1c0c){_0x34284f[_0x5ecf88(0x2d4)](_0x45ed98);}if(_0xe55b8[_0x5ecf88(0x211)](_0x34284f['length'],0x0))return _0x465bbb[_0x5ecf88(0x308)]=_0xe55b8[_0x5ecf88(0x20b)],_0x465bbb;const _0x3df9e9=[...new Set(_0x34284f[_0x5ecf88(0x3a3)](_0x277444=>_0x277444[_0x5ecf88(0x241)]))];if(_0xe55b8[_0x5ecf88(0x211)](_0x3df9e9[_0x5ecf88(0x289)],0x0))return _0x465bbb['data']=_0xe55b8[_0x5ecf88(0x3a4)],_0x465bbb;const _0x39d518=[],_0x2dc7a9=[];for(const _0x374182 of _0x3df9e9){const _0x5c8bb1=await this[_0x5ecf88(0x23c)][_0x5ecf88(0x369)][_0x5ecf88(0x3a6)](_0x374182);logger[_0x5ecf88(0x2b9)](_0x5ecf88(0x2e9)+_0x5c8bb1[_0x5ecf88(0x1e0)]),_0x39d518['push'](_0x5c8bb1),logger['debug'](_0x5ecf88(0x362)+JSON[_0x5ecf88(0x399)](_0x5c8bb1[_0x5ecf88(0x2a4)])),_0x5c8bb1[_0x5ecf88(0x2a4)][_0x5ecf88(0x2f1)](_0x5b4f86=>{const _0x2068b8=_0x5ecf88;_0x2dc7a9[_0x2068b8(0x2d4)](..._0x5b4f86[_0x2068b8(0x1d5)]);});}logger[_0x5ecf88(0x2b9)](_0x5ecf88(0x343)+JSON[_0x5ecf88(0x399)](_0x2dc7a9)),_0xe55b8[_0x5ecf88(0x211)](_0x2dc7a9['length'],0x0)&&(_0x1af409+=_0xe55b8[_0x5ecf88(0x26a)](_0x2dc7a9[_0x5ecf88(0x289)],0x0)?_0xe55b8[_0x5ecf88(0x2f2)]:'',logger['debug'](_0x5ecf88(0x1f1)+JSON['stringify'](_0x39d518))),_0x465bbb[_0x5ecf88(0x2b6)]=!![],Object[_0x5ecf88(0x20d)](PERMISSIONS['ACTION'])[_0x5ecf88(0x2f1)](([_0x40aa88,_0x57c386])=>{const _0x28c5a5=_0x5ecf88,_0x30a519=_0x2dc7a9[_0x28c5a5(0x2d2)](_0x40aa88);_0x1af409+='\x0a\x09'+_0x57c386+':\x20'+(_0x30a519?_0xe55b8['hmaWq']:_0xe55b8[_0x28c5a5(0x2ed)]),!_0x30a519&&(_0x465bbb[_0x28c5a5(0x2b6)]=![]);}),_0x465bbb['data']=_0x1af409;}catch(_0xedae2e){_0x465bbb[_0x5ecf88(0x20f)]=_0xedae2e;}return _0x465bbb;}}const a1_0x4250ce={};a1_0x4250ce[a1_0x24b629(0x28d)]=AzureCloudProvider,module[a1_0x24b629(0x39a)]=a1_0x4250ce;