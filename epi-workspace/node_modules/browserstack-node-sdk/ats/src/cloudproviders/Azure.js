const a1_0x3b9b6a=a1_0x5e13;(function(_0x436eaf,_0x2f0885){const _0x4facdc=a1_0x5e13,_0x4f4e4b=_0x436eaf();while(!![]){try{const _0x220201=parseInt(_0x4facdc(0x10e))/0x1+-parseInt(_0x4facdc(0x250))/0x2+parseInt(_0x4facdc(0x19d))/0x3*(parseInt(_0x4facdc(0xe4))/0x4)+parseInt(_0x4facdc(0xac))/0x5*(-parseInt(_0x4facdc(0x13b))/0x6)+parseInt(_0x4facdc(0x146))/0x7+-parseInt(_0x4facdc(0x15d))/0x8+parseInt(_0x4facdc(0x259))/0x9*(parseInt(_0x4facdc(0x21e))/0xa);if(_0x220201===_0x2f0885)break;else _0x4f4e4b['push'](_0x4f4e4b['shift']());}catch(_0x5b5aed){_0x4f4e4b['push'](_0x4f4e4b['shift']());}}}(a1_0x4270,0xbe47a));function a1_0x4270(){const _0x3136e7=['.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','FdDjG','VjuXq','OErfa','getToken','ClZad','Bearer\x20','lBUUa','createFederatedAccountForHubHA','PkOJo','nmSlG','KAEQG','../utils/utilityMethods','Deleting\x20the\x20cluster\x20','1355VsCRxo','@azure/arm-storage','swEoX','QPCAB','BplJN','/resourceGroups/','UnnoQ','gridName','TotOE','kTcrI','PYdVB','EFcZw','Xqhtf','QcKOq','sqwlX','Content-Type','exports','./CloudProvider','TDxOf','sNnLi','Creating\x20Azure\x20managed\x20identity','OQvLE','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','cnmPL','AeNnn','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','ZUBZx','kubeconfigs','tMzQi','OsLAj','vUFGl','cUfwE','deployments','LlpDW','.json','turboscale-managed-identity-','WvoYE','../config/logger','username','beginDeleteAndWait','principalId','bAjtR','storageAccountName','\x20RESOURCE\x20GROUP:\x20','zZTCL','gVeZL','cloudProvider','workloadIdentity','rxByg','cloudProviderName','get','AJWah','tags','@azure/arm-authorization','grlir','push','156YiNOAn','json','@azure/arm-containerservice','TERln','isBrowserstackCluster','NLPjD','NaWeE','variables','roleName','sendEventToBackend','clientId','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','\x20SUBSCRIPTION\x20ID:\x20','roleDefinitionId','ingress','STeRq','iilvr','GHrYL','createOrUpdate','EPSNA','rws','headers','wPruj','GWRnf','CQPVM','mQpfE','location','JUjTP','cloudProviderTenantId','Attached\x20permissions\x20:\x20','getUserInput','njuYb','NBPIs','info','webSocketUtils','@azure/arm-resources','denied','filters','ObqmN','toLowerCase','cMUBy','cNBVp','896057KoPmZp','AuCgy','Received\x20response\x20-\x20','join','kUnBV','Managed\x20identity\x20already\x20exists,\x20skipping','Uyxzp','QZnRE','gHOVp','roleAssignments','entries','delete','assignedTo(\x27','nwZRo','ADQcZ','qxsTx','eCiCu','3|4|5|2|1|0','zUMXv','DDBtH','updateClusterAlreadyPresent','aARDP','templates','UDsaN','XoalQ','string','akscluster.json','iOxjC','lAMmo','NIQtc','NvpZT','5|2|6|4|7|0|1|3','sEAHY','tenantId','mIWHT','RBIro','createFederatedAccount','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','KFnAd','ZFgQP','qVdom','ZLRMv','https://graph.microsoft.com/.default','setClients','TwPgt','32892TZCgrY','GET','JpCzq','Otzfr','name','isVPCPresent','turboscale-federated-deployment','mcIrs','cred','wpkYD','gjREb','5379423BNDvWX','paOEV','KBRgU','listClusterAdminCredentials','Storage\x20account\x20already\x20exists,\x20skipping','bstackUsername','YjWQf','method','ZEOOJ','cloudProviderClientSecret','containerClient','actionPermission\x20:\x20','qgROY','dAaWQ','description','hAMVP','slice','smUTT','issuerURL','odmdG','kOuom','Wcfhc','getResourceClientId','5072656IFJAqh','KIakd','value','pTOSW','parameters','Cbpdj','lRcpc','gupQz','rHfqG','metadata','stack','jPOLM','STGzg','browserstack:managedBy','exohS','dRlih','jvPED','resourceGroup','list','uODZi','forEach','FeqKH','deleteCluster','VLagu','MHcEH','SMdYf','buFRG','Incremental','Chgzh','BmtFH','Ibtcu','virtualNetworks','zrQAw','hUFOu','subscriptionId','HdrNF','zpAzP','getKubeConfigData','NQdEO','ZdcsW','cWQLe','clusterInfo','aPfBj','wteee','filter','thKbg','AzureCloudProvider','subnetName','oidcIssuerProfile','LOG','JVaCj','KRMOI','accessKey','Enabling\x20Local\x20account\x20for\x20the\x20cluster','split','WetAY','disableLocalAccounts','RESOURCES','getResourceGroups','definition','gFzpQ','message','FEDEA','error','66606yzlAfY','exit','hKLwx','JdaKv','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','vGnrO','zybLN','zyJLa','qktpL','rxAVF','xcqoi','getGridHostname','No\x20CLI\x20tool\x20required','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','beginCreateOrUpdateAndWait','userInstanceType','fbjyS','aPLUV','WUIlC','pQevQ','FiyAx','[variables(\x27vnetSubnetID\x27)]','js-yaml','managementPolicies','TvTsz','readFileAsync','SWqCp','kWmzv','hCHUv','qKMze','mpGhY','txcoi','BTckl','storageaccount.json','resources','getPrincipalIdFromClientId','doyZf','jStzd','enabled','DboCi','bXHSc','HLEop','WqcTf','../config/constants','s3Bucket','length','pnEao','turboscale','init','xsssQ','vCfgc','TVFAG','OifHG','TKFXr','UllNi','No\x20service\x20principal\x20found','Cannot\x20find\x20subnets\x20','cjgCY','type','oHvAo','createStorageAccount','../utils/gridComponents','Nejik','PInNj','PSgah','ZmBmh','ACTION','OXCUD','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','eXgtm','debug','networkClient','@azure/identity','createCluster','UYGfV','clusterName','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','setupHubHa','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','UQetc','EFfaB','stringify','pksos','3|5|2|1|4|0','azureresources','zrqXv','utf-8','pPDNV','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','KKdbE','qtbKo','wooKz','yEbwp','log','spRGf','wUhYp','rLEaS','includes','storageAccounts','QNBsK','isClusterPresent','FxPKj','loadBalancer','ZaENS','AcBQq','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','.\x20Error:\x20','listByResourceGroup','UwVpv','bDFbZ','gRnhl','createOtherResources','ZxCYv','Blob\x20delete\x20lifecycle','ozSVE','SZVxC','sendAzureInfoToHST','Creating\x20Azure\x20federated\x20identity','ilBzS','ZclyW','glnFp','HuFUB','YgsIk','Authorization','listForScope','kIqAK','Deleted\x20the\x20cluster\x20successfully','resourceGroups','getClusterInfo','231320NXLdYK','fFTAU','cloudProviderResourceGroup','dlntb','hFCdA','xyhuL','storageClient','baseBlob','maxNodes','setCachedCredsInRegistry','tlUxL','CrvvA','jMEHc','nriyw','TaXyF','getById','agentPoolProfiles','isCliToolInstalled','properties','lSUFq','lbjSP','clientSecret','cqZyg','data','federatedidentity','vnetSubnetID','2|0|1|4|3|5','cloudProviderClientId','resourceClient','oLHpJ','managedidentity.json','application/json','vWjqB','hostname','checkAccess','No\x20attached\x20role\x20for\x20the\x20client\x20key','isStorageAccountPresent','EEwdV','JOtsP','OYfPJ','YelRk','default','turboscale-cluster-deployment','nWtYv','dGwzD','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','nLqzq','cloudProviderSubscriptionId','oaGVH','parse','1945980XgdxCd','XssXC','OOGCU','Found\x20only\x20one\x20resource\x20group:\x20','vpcInfo','permissions','ypGJZ','wMlFd','blobTypes','522omriVr','2023-01-31','listAll','getHeader','FGFRb','vpcName','rkcOo','MXiCY','iOfRI','actions','BrowserStack','VjbmM','Cannot\x20find\x20VPC\x20','dkSQA','TAVhL','NTSuT','inijs','toString','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','nIAsO','dCvCf','authClient','uaCgW','hubHaNameSpace','setupNewCluster','managedClusters','bOcUe','KNbHp','AWcse','GYzmu','allowed','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','Ztefs','UsKtw','CLlgm','upxgh','getStorageAccountName','rFwnt','yaXzI','status','securityProfile','../permissions/AZURE.json','kwSzr','SzcrY'];a1_0x4270=function(){return _0x3136e7;};return a1_0x4270();}const fs=require('fs'),path=require('path'),yaml=require(a1_0x3b9b6a(0x1b3)),{logger}=require(a1_0x3b9b6a(0xd1)),{CloudProvider}=require(a1_0x3b9b6a(0xbd)),{deleteRoutingDeps,deleteAgent}=require(a1_0x3b9b6a(0x1da)),{AZURE,WS_EVENTS,global_registry}=require(a1_0x3b9b6a(0x1c8)),PERMISSIONS=require(a1_0x3b9b6a(0x9b)),{ClientSecretCredential}=require(a1_0x3b9b6a(0x1e5)),{NetworkManagementClient}=require('@azure/arm-network'),{StorageManagementClient}=require(a1_0x3b9b6a(0xad)),{AuthorizationManagementClient}=require(a1_0x3b9b6a(0xe1)),{ResourceManagementClient}=require(a1_0x3b9b6a(0x107)),{ContainerServiceClient}=require(a1_0x3b9b6a(0xe6)),{runCommand}=require(a1_0x3b9b6a(0xaa));function a1_0x5e13(_0x44b959,_0x23ef8d){const _0x4270de=a1_0x4270();return a1_0x5e13=function(_0x5e1314,_0x7dd68){_0x5e1314=_0x5e1314-0x9a;let _0x347be3=_0x4270de[_0x5e1314];return _0x347be3;},a1_0x5e13(_0x44b959,_0x23ef8d);}class AzureCloudProvider extends CloudProvider{constructor(_0x32b6cf,_0x2b604a,_0x11a86c,_0x5e3ccc){const _0x2a3b49=a1_0x3b9b6a,_0x107816={};_0x107816['FdDjG']=_0x2a3b49(0x12d);const _0x7be7e5=_0x107816,_0x344e02=_0x7be7e5[_0x2a3b49(0x9f)][_0x2a3b49(0x193)]('|');let _0x429896=0x0;while(!![]){switch(_0x344e02[_0x429896++]){case'0':this[_0x2a3b49(0x23a)]=null;continue;case'1':this['networkClient']=null;continue;case'2':this[_0x2a3b49(0x143)]=null;continue;case'3':this['authClient']=null;continue;case'4':this[_0x2a3b49(0x150)]=null;continue;case'5':super(AZURE,_0x32b6cf,_0x2b604a,_0x11a86c,_0x5e3ccc);continue;case'6':this['clusterInfo']=null;continue;case'7':this['storageClient']=null;continue;}break;}}async[a1_0x3b9b6a(0x1cd)](){const _0x47d7ad=a1_0x3b9b6a;return await super[_0x47d7ad(0x1cd)](),this;}[a1_0x3b9b6a(0x139)](){const _0x26f449=a1_0x3b9b6a,_0x22befe=new ClientSecretCredential(global_registry['cloudProviderTenantId'],global_registry['cloudProviderClientId'],global_registry[_0x26f449(0x14f)]);this['containerClient']=new ContainerServiceClient(_0x22befe,global_registry['cloudProviderSubscriptionId']),this['storageClient']=new StorageManagementClient(_0x22befe,global_registry[_0x26f449(0x24d)]),this[_0x26f449(0x23a)]=new ResourceManagementClient(_0x22befe,global_registry['cloudProviderSubscriptionId']),this[_0x26f449(0x1e4)]=new NetworkManagementClient(_0x22befe,global_registry['cloudProviderSubscriptionId']),this[_0x26f449(0x26e)]=new AuthorizationManagementClient(_0x22befe,global_registry[_0x26f449(0x24d)]),this['cred']=_0x22befe;}[a1_0x3b9b6a(0x27d)](){const _0x2f6216=a1_0x3b9b6a,_0x4b3b10={};_0x4b3b10[_0x2f6216(0x229)]=function(_0x40e28c,_0xfc161e){return _0x40e28c+_0xfc161e;},_0x4b3b10[_0x2f6216(0x26f)]='turboscale',_0x4b3b10[_0x2f6216(0x125)]=function(_0x22712d,_0x2cd221){return _0x22712d-_0x2cd221;};const _0x162709=_0x4b3b10,_0x428c62=global_registry[_0x2f6216(0x1c9)][_0x2f6216(0x193)]('-'),_0x31c7ec=_0x162709['CrvvA'](_0x162709[_0x2f6216(0x26f)],_0x428c62[_0x162709[_0x2f6216(0x125)](_0x428c62['length'],0x1)])[_0x2f6216(0x156)](0x0,0x18);return _0x31c7ec[_0x2f6216(0x10b)]();}[a1_0x3b9b6a(0x227)](_0x175993){const _0x5eb027=a1_0x3b9b6a,_0x2ab2aa={};_0x2ab2aa['KNbHp']=_0x5eb027(0x1f0);const _0x46bba7=_0x2ab2aa,_0x1c3601=_0x46bba7[_0x5eb027(0x274)][_0x5eb027(0x193)]('|');let _0x57b5af=0x0;while(!![]){switch(_0x1c3601[_0x57b5af++]){case'0':this[_0x5eb027(0x139)]();continue;case'1':global_registry[_0x5eb027(0x24d)]=_0x175993[this[_0x5eb027(0xdd)]][_0x5eb027(0x17f)];continue;case'2':global_registry[_0x5eb027(0x100)]=_0x175993[this['cloudProviderName']][_0x5eb027(0x12f)];continue;case'3':global_registry['cloudProviderClientId']=_0x175993[this[_0x5eb027(0xdd)]][_0x5eb027(0xee)];continue;case'4':global_registry[_0x5eb027(0x220)]=_0x175993[this[_0x5eb027(0xdd)]][_0x5eb027(0x16e)];continue;case'5':global_registry[_0x5eb027(0x14f)]=_0x175993[this[_0x5eb027(0xdd)]][_0x5eb027(0x233)];continue;}break;}}async[a1_0x3b9b6a(0x102)](_0x3a5128,_0x262071){const _0x1da10b=a1_0x3b9b6a,_0x380053={'RBIro':function(_0x57a45e,_0x3745cf){return _0x57a45e===_0x3745cf;},'GHrYL':function(_0x2011e5,_0x2bae4b){return _0x2011e5(_0x2bae4b);},'swEoX':function(_0x444d26,_0x27bd59){return _0x444d26(_0x27bd59);},'qktpL':function(_0x16f148,_0x36b0fc){return _0x16f148!==_0x36b0fc;},'oaGVH':_0x1da10b(0x10a),'ipMjx':function(_0x280b13,_0x33938b){return _0x280b13===_0x33938b;},'rHfqG':_0x1da10b(0xf3),'nwZRo':_0x1da10b(0x1e0),'OQvLE':function(_0x46c9ee,_0x41d45a){return _0x46c9ee===_0x41d45a;},'AeNnn':function(_0x593c7d,_0x144e5f){return _0x593c7d===_0x144e5f;},'WUIlC':function(_0x28d75e,_0x506a9d){return _0x28d75e===_0x506a9d;},'zyJLa':function(_0x10a4d8,_0x4a671d){return _0x10a4d8===_0x4a671d;},'hAMVP':_0x1da10b(0x190),'Wcfhc':'sCASd','OYfPJ':_0x1da10b(0xc5),'cnmPL':'FwFvV','kIqAK':_0x1da10b(0x163),'dlntb':_0x1da10b(0x1f6),'ToXhF':_0x1da10b(0x1a7),'iOxjC':function(_0x44211c,_0x2ca750){return _0x44211c<_0x2ca750;},'dCvCf':'DDbfk','fCOrB':function(_0x19ec6e,_0x268b2b){return _0x19ec6e+_0x268b2b;},'ZtkXc':function(_0x4b944d,_0x4b855e){return _0x4b944d(_0x4b855e);},'BmtFH':_0x1da10b(0xef),'nLqzq':function(_0x466bd1,_0x3d5823){return _0x466bd1(_0x3d5823);},'Chgzh':function(_0x5a01df,_0xfad921){return _0x5a01df<=_0xfad921;},'UnnoQ':function(_0x2850c0,_0x32f21d){return _0x2850c0>_0x32f21d;},'kOuom':_0x1da10b(0x1d3),'bAjtR':function(_0x36619a,_0x46c841){return _0x36619a-_0x46c841;}},_0x3b8737=this[_0x1da10b(0xdd)]['toUpperCase'](),_0x16f7d4=await _0x380053['GHrYL'](_0x3a5128,_0x3b8737+'\x20CLIENT\x20ID:\x20'),_0x1055a2=await _0x380053[_0x1da10b(0xae)](_0x3a5128,_0x3b8737+'\x20CLIENT\x20SECRET:\x20'),_0x38d2ae=await _0x380053[_0x1da10b(0xf5)](_0x3a5128,_0x3b8737+'\x20TENANT\x20ID:\x20'),_0x487618=await _0x380053[_0x1da10b(0xf5)](_0x3a5128,_0x3b8737+_0x1da10b(0xf0));global_registry[_0x1da10b(0x239)]=_0x16f7d4,global_registry[_0x1da10b(0x14f)]=_0x1055a2,global_registry[_0x1da10b(0x100)]=_0x38d2ae,global_registry[_0x1da10b(0x24d)]=_0x487618,this[_0x1da10b(0x139)]();const _0x49b50=await this[_0x1da10b(0x197)](),_0x2d2928=_0x49b50[_0x1da10b(0x1ca)];let _0x4547d2;if(_0x380053['RBIro'](_0x2d2928,0x0))_0x380053[_0x1da10b(0x1a5)](_0x380053[_0x1da10b(0x24e)],_0x380053[_0x1da10b(0x24e)])?_0x5604e0[_0x1da10b(0xe3)](_0xce013d):_0x4547d2=await _0x380053[_0x1da10b(0xae)](_0x3a5128,_0x3b8737+_0x1da10b(0xd7));else{if(_0x380053['ipMjx'](_0x2d2928,0x1)){if(_0x380053['qktpL'](_0x380053[_0x1da10b(0x165)],_0x380053[_0x1da10b(0x11b)])){const _0xd40d32=await _0x380053[_0x1da10b(0xf5)](_0x3a5128,_0x1da10b(0x253)+_0x49b50[0x0]+_0x1da10b(0x206));(_0x380053[_0x1da10b(0xc1)](_0xd40d32,undefined)||_0x380053['AeNnn'](_0xd40d32,null)||!(_0x380053[_0x1da10b(0xc1)](_0xd40d32['toLowerCase'](),'y')||_0x380053[_0x1da10b(0x1af)](_0xd40d32[_0x1da10b(0x10b)](),'n')))&&(_0x380053[_0x1da10b(0x1a4)](_0x380053[_0x1da10b(0x155)],_0x380053[_0x1da10b(0x15b)])?_0xb9012d[_0x1da10b(0xe3)](_0x3ad003[_0x1da10b(0x13f)]):(console[_0x1da10b(0x19c)](_0x380053[_0x1da10b(0x245)]),process[_0x1da10b(0x19e)](0x1)));if(_0x380053[_0x1da10b(0x1af)](_0xd40d32[_0x1da10b(0x10b)](),'n')){if(_0x380053[_0x1da10b(0xc4)](_0x380053[_0x1da10b(0xc3)],_0x380053[_0x1da10b(0x21a)]))return!![];else process[_0x1da10b(0x19e)](0x0);}_0x4547d2=_0x49b50[0x0];}else{const _0x4c7ae0=new _0x17fba5(_0xafd6e9[_0x1da10b(0x100)],_0x2cfb5f['cloudProviderClientId'],_0x4961c9[_0x1da10b(0x14f)]);this['containerClient']=new _0x381635(_0x4c7ae0,_0x4e6420['cloudProviderSubscriptionId']),this['storageClient']=new _0x5ed807(_0x4c7ae0,_0x26e26b[_0x1da10b(0x24d)]),this[_0x1da10b(0x23a)]=new _0x358d64(_0x4c7ae0,_0x83effe[_0x1da10b(0x24d)]),this[_0x1da10b(0x1e4)]=new _0x348092(_0x4c7ae0,_0x5a0790[_0x1da10b(0x24d)]),this['authClient']=new _0x38bbb2(_0x4c7ae0,_0x28573c[_0x1da10b(0x24d)]),this['cred']=_0x4c7ae0;}}else{if(_0x380053[_0x1da10b(0xc4)](_0x380053[_0x1da10b(0x221)],_0x380053['ToXhF'])){if(_0x380053[_0x1da10b(0x131)](_0x12bdc8['name'],_0x1da10b(0xcf)+this[_0x1da10b(0x1e8)]))return!![];}else{for(let _0x3cb8ad=0x0;_0x380053[_0x1da10b(0x129)](_0x3cb8ad,_0x49b50['length']);_0x3cb8ad+=0x1){_0x380053['OQvLE'](_0x380053[_0x1da10b(0x26d)],_0x380053[_0x1da10b(0x26d)])?console[_0x1da10b(0x1fa)]('['+_0x380053['fCOrB'](_0x3cb8ad,0x1)+']\x20'+_0x49b50[_0x3cb8ad]):_0x277477['error']=_0x209a8b;}const _0x40171c=await _0x380053['ZtkXc'](_0x3a5128,_0x380053[_0x1da10b(0x17a)]),_0x27c13b=_0x380053[_0x1da10b(0x24c)](Number,_0x40171c);if(_0x380053[_0x1da10b(0x24c)](isNaN,_0x27c13b)||_0x380053[_0x1da10b(0x179)](_0x27c13b,0x0)||_0x380053[_0x1da10b(0xb2)](_0x27c13b,_0x2d2928)){if(_0x380053[_0x1da10b(0x1af)](_0x380053['kOuom'],_0x380053[_0x1da10b(0x15a)]))console[_0x1da10b(0x19c)](_0x380053[_0x1da10b(0x245)]),process[_0x1da10b(0x19e)](0x1);else return!![];}_0x4547d2=_0x49b50[_0x380053[_0x1da10b(0xd5)](_0x27c13b,0x1)];}}}global_registry[_0x1da10b(0x220)]=_0x4547d2;const _0x1405fd={};return _0x1405fd[_0x1da10b(0xee)]=_0x16f7d4,_0x1405fd[_0x1da10b(0x233)]=_0x1055a2,_0x1405fd[_0x1da10b(0x12f)]=_0x38d2ae,_0x1405fd[_0x1da10b(0x17f)]=_0x487618,_0x1405fd[_0x1da10b(0x16e)]=_0x4547d2,_0x262071['cloudProvider'][AZURE]=_0x1405fd,_0x262071;}async[a1_0x3b9b6a(0x197)](){const _0x164881=a1_0x3b9b6a,_0x258ed9={'cMUBy':function(_0x18de19,_0x4156ee,_0x1c4c84){return _0x18de19(_0x4156ee,_0x1c4c84);},'KFnAd':function(_0x30c7cf,_0x2e5105){return _0x30c7cf+_0x2e5105;},'kTcrI':function(_0x579c5e,_0x513324){return _0x579c5e===_0x513324;},'ZUBZx':_0x164881(0x1fd),'Uyxzp':_0x164881(0x1f9)},_0x12539a=[];try{if(_0x258ed9[_0x164881(0xb5)](_0x258ed9[_0x164881(0xc6)],_0x258ed9[_0x164881(0xc6)])){const _0x507d07=await this['resourceClient'][_0x164881(0x21c)][_0x164881(0x16f)]();for await(const _0x1a97f8 of _0x507d07){_0x258ed9[_0x164881(0xb5)](_0x258ed9[_0x164881(0x114)],_0x258ed9[_0x164881(0x114)])?_0x12539a[_0x164881(0xe3)](_0x1a97f8['name']):_0x258ed9[_0x164881(0x10c)](_0x39ca02,()=>_0x499d69(),0x3e8);}}else _0x4229f1[_0x164881(0x1fa)]('['+_0x258ed9[_0x164881(0x134)](_0x4e68d3,0x1)+']\x20'+_0x56bc35[_0x11ca01]);}catch(_0x58c36b){}return _0x12539a;}async[a1_0x3b9b6a(0x21d)](){const _0x55dbd7=a1_0x3b9b6a;return this[_0x55dbd7(0x186)]=await this[_0x55dbd7(0x150)][_0x55dbd7(0x272)][_0x55dbd7(0xde)](global_registry[_0x55dbd7(0x220)],this[_0x55dbd7(0x1e8)]),this[_0x55dbd7(0x186)];}async[a1_0x3b9b6a(0x182)](){const _0x261c0d=a1_0x3b9b6a,_0x16b741=await this[_0x261c0d(0x150)][_0x261c0d(0x272)][_0x261c0d(0x149)](global_registry['cloudProviderResourceGroup'],this[_0x261c0d(0x1e8)]),_0x32ed83=_0x16b741[_0x261c0d(0xc7)][0x0][_0x261c0d(0x15f)][_0x261c0d(0x26a)]();return _0x32ed83;}[a1_0x3b9b6a(0x1a8)](_0x256a25){const _0x40e172=a1_0x3b9b6a;return _0x256a25['status'][_0x40e172(0x203)][_0x40e172(0xf2)][0x0]['hostname'];}async[a1_0x3b9b6a(0x201)](){const _0xcb3006=a1_0x3b9b6a,_0x157ec6={};_0x157ec6[_0xcb3006(0x199)]='No\x20service\x20principal\x20found',_0x157ec6[_0xcb3006(0x1dd)]=function(_0x4d4671,_0xc79611){return _0x4d4671===_0xc79611;},_0x157ec6['xsssQ']='NpEnA',_0x157ec6[_0xcb3006(0x1d1)]='MmhhM',_0x157ec6['gVeZL']=function(_0x3e13ff,_0x6d3ac1){return _0x3e13ff!==_0x6d3ac1;},_0x157ec6[_0xcb3006(0x243)]=_0xcb3006(0x1bc),_0x157ec6['qtbKo']='kHaTj';const _0x2d0973=_0x157ec6,_0x37b9af=new Array();for await(const _0x1c7301 of this[_0xcb3006(0x150)][_0xcb3006(0x272)][_0xcb3006(0x208)](global_registry[_0xcb3006(0x220)])){if(_0x2d0973[_0xcb3006(0x1dd)](_0x2d0973[_0xcb3006(0x1ce)],_0x2d0973['OifHG']))throw new _0x5c28fb(_0x2d0973['gFzpQ'],_0xcb3006(0x110)+_0x3fc0a9[_0xcb3006(0x1ee)](_0x4c15aa));else _0x37b9af['push'](_0x1c7301);}for await(const _0x59b391 of _0x37b9af){if(_0x2d0973[_0xcb3006(0xd9)](_0x2d0973['EEwdV'],_0x2d0973[_0xcb3006(0x243)]))return!![];else{if(_0x2d0973[_0xcb3006(0x1dd)](_0x59b391[_0xcb3006(0x13f)],this[_0xcb3006(0x1e8)])){if(_0x2d0973[_0xcb3006(0xd9)](_0x2d0973[_0xcb3006(0x1f7)],_0x2d0973[_0xcb3006(0x1f7)]))_0x14e653[_0xcb3006(0xe3)](_0x599569);else return await this[_0xcb3006(0x21d)](),!![];}}}return![];}async[a1_0x3b9b6a(0x271)](_0x599d4b=null,_0x3d431a=null){const _0x38954f=a1_0x3b9b6a,_0x25e778={};_0x25e778[_0x38954f(0x20a)]=_0x38954f(0x11f),_0x25e778['EFfaB']=_0x38954f(0x1a1);const _0x6f9fa9=_0x25e778,_0x4089e6=_0x6f9fa9[_0x38954f(0x20a)][_0x38954f(0x193)]('|');let _0x3ce22f=0x0;while(!![]){switch(_0x4089e6[_0x3ce22f++]){case'0':return[_0x599d4b,_0x3d431a];case'1':await this[_0x38954f(0x20c)]();continue;case'2':await this[_0x38954f(0x1e6)](_0x599d4b,_0x3d431a);continue;case'3':this[_0x38954f(0x211)]();continue;case'4':const _0xb3e3f={};_0xb3e3f[_0x38954f(0x1d7)]=WS_EVENTS['LOG'],_0xb3e3f[_0x38954f(0x19a)]=_0x6f9fa9[_0x38954f(0x1ed)],this['webSocketUtils'][_0x38954f(0xed)](this['rws'],_0xb3e3f);continue;case'5':logger[_0x38954f(0x105)](_0x6f9fa9[_0x38954f(0x1ed)]);continue;}break;}}async[a1_0x3b9b6a(0x1e6)](_0xee3751=null,_0x340886=null){const _0x36d852=a1_0x3b9b6a,_0x32a18d={};_0x32a18d[_0x36d852(0x15e)]=_0x36d852(0x124),_0x32a18d['odVEa']=_0x36d852(0x1f1),_0x32a18d['dQPrD']=_0x36d852(0x128),_0x32a18d[_0x36d852(0x11e)]=_0x36d852(0x1f3),_0x32a18d[_0x36d852(0x1dc)]=function(_0x46549b,_0x12ec00){return _0x46549b!==_0x12ec00;},_0x32a18d['hUFOu']=function(_0x1ae65f,_0x2f2c02){return _0x1ae65f!==_0x2f2c02;},_0x32a18d[_0x36d852(0x1c5)]=function(_0x4f6b84,_0x4881bf){return _0x4f6b84===_0x4881bf;},_0x32a18d['mcIrs']=_0x36d852(0x213),_0x32a18d['mIWHT']=_0x36d852(0x127),_0x32a18d[_0x36d852(0x176)]=_0x36d852(0x1eb),_0x32a18d[_0x36d852(0x1fc)]='[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]',_0x32a18d[_0x36d852(0x231)]=_0x36d852(0x1b2),_0x32a18d[_0x36d852(0x147)]=_0x36d852(0x248),_0x32a18d[_0x36d852(0x1d8)]='Incremental';const _0x2bb50d=_0x32a18d;let _0x16e83d=await fs['readFileAsync'](path[_0x36d852(0x111)](__dirname,'..',_0x2bb50d[_0x36d852(0x15e)],_0x2bb50d['odVEa'],_0x2bb50d['dQPrD']),_0x2bb50d['eCiCu']);_0x16e83d=JSON[_0x36d852(0x24f)](_0x16e83d);const _0x489d82={};_0x489d82['value']=this[_0x36d852(0x1e8)];const _0x464f56={};_0x464f56[_0x36d852(0x15f)]=global_registry['clusterRegion'];const _0x1db527={};_0x1db527[_0x36d852(0x15f)]=global_registry['instanceType'];const _0x4de4c5={};_0x4de4c5[_0x36d852(0x15f)]=global_registry[_0x36d852(0x226)];const _0x2b5898={};_0x2b5898[_0x36d852(0x1e8)]=_0x489d82,_0x2b5898[_0x36d852(0xfe)]=_0x464f56,_0x2b5898[_0x36d852(0x1ac)]=_0x1db527,_0x2b5898['userMaxNodes']=_0x4de4c5;let _0x464d10=_0x2b5898;if(_0x2bb50d[_0x36d852(0x1dc)](_0xee3751,null)&&_0x2bb50d[_0x36d852(0x17e)](_0x340886,null)){if(_0x2bb50d['bXHSc'](_0x2bb50d[_0x36d852(0x142)],_0x2bb50d[_0x36d852(0x142)])){const _0x148805={};_0x148805['type']=_0x2bb50d[_0x36d852(0x130)],_0x148805[_0x36d852(0x166)]={},_0x148805[_0x36d852(0x166)][_0x36d852(0x154)]=_0x2bb50d[_0x36d852(0x176)];const _0x359d50={};_0x359d50[_0x36d852(0x1d7)]=_0x2bb50d['mIWHT'],_0x359d50[_0x36d852(0x166)]={},_0x359d50[_0x36d852(0x166)][_0x36d852(0x154)]=_0x2bb50d[_0x36d852(0x176)],_0x16e83d[_0x36d852(0x161)]={..._0x16e83d[_0x36d852(0x161)],'vpcName':_0x148805,'subnetName':_0x359d50};const _0x5e3c75={};_0x5e3c75['vnetSubnetID']=_0x2bb50d[_0x36d852(0x1fc)],_0x16e83d[_0x36d852(0xeb)]=_0x5e3c75,_0x16e83d[_0x36d852(0x1bf)][0x0]['properties'][_0x36d852(0x22e)][0x0]={..._0x16e83d[_0x36d852(0x1bf)][0x0][_0x36d852(0x230)][_0x36d852(0x22e)][0x0],'vnetSubnetID':_0x2bb50d[_0x36d852(0x231)]};const _0x43cdf9={};_0x43cdf9[_0x36d852(0x15f)]=_0xee3751;const _0x1a65d5={};_0x1a65d5[_0x36d852(0x15f)]=_0x340886[0x0],_0x464d10={..._0x464d10,'vpcName':_0x43cdf9,'subnetName':_0x1a65d5};}else return[!![],_0x38539f];}await this[_0x36d852(0x23a)][_0x36d852(0xcc)][_0x36d852(0x1ab)](global_registry[_0x36d852(0x220)],_0x2bb50d[_0x36d852(0x147)],{'properties':{'template':_0x16e83d,'mode':_0x2bb50d[_0x36d852(0x1d8)],'parameters':_0x464d10}});}async['createOtherResources'](){const _0x472459=a1_0x3b9b6a,_0x5b28af={};_0x5b28af[_0x472459(0xdc)]=_0x472459(0x241),_0x5b28af[_0x472459(0xa1)]=function(_0x4a139f,_0x2f40d8){return _0x4a139f===_0x2f40d8;},_0x5b28af['xyhuL']='jmUDq',_0x5b28af[_0x472459(0xd8)]='Creating\x20Azure\x20storage\x20account',_0x5b28af[_0x472459(0x174)]=function(_0x5949da,_0x47de95){return _0x5949da===_0x47de95;},_0x5b28af[_0x472459(0x27f)]=_0x472459(0x1d0),_0x5b28af[_0x472459(0x183)]=_0x472459(0x14a),_0x5b28af[_0x472459(0x1bd)]=function(_0x1a4090,_0x18227b){return _0x1a4090!==_0x18227b;},_0x5b28af[_0x472459(0xa3)]=_0x472459(0x1f4),_0x5b28af[_0x472459(0x152)]=_0x472459(0xc0),_0x5b28af[_0x472459(0x1d6)]=function(_0x55351f,_0x5afc83){return _0x55351f===_0x5afc83;},_0x5b28af[_0x472459(0x20d)]='FVtKS',_0x5b28af[_0x472459(0x135)]=_0x472459(0x202),_0x5b28af['zNHTD']=_0x472459(0x113),_0x5b28af[_0x472459(0x177)]=_0x472459(0x212),_0x5b28af[_0x472459(0x1c6)]='Created\x20Azure\x20federated\x20identity';const _0x4352c2=_0x5b28af,_0x2e0e63=await this[_0x472459(0x242)]();if(!_0x2e0e63){if(_0x4352c2[_0x472459(0xa1)](_0x4352c2[_0x472459(0x223)],_0x4352c2[_0x472459(0x223)])){const _0x572345={};_0x572345[_0x472459(0x1d7)]=WS_EVENTS[_0x472459(0x18e)],_0x572345[_0x472459(0x19a)]=_0x4352c2[_0x472459(0xd8)],this[_0x472459(0x106)][_0x472459(0xed)](this[_0x472459(0xf8)],_0x572345),logger['info'](_0x4352c2['zZTCL']),await this['createStorageAccount']();}else return _0x282a37[_0x472459(0x19c)](_0x472459(0x26b)+_0x4c57e8+':'+_0x415b7b[_0x472459(0x167)]),{};}else{if(_0x4352c2[_0x472459(0x174)](_0x4352c2[_0x472459(0x27f)],_0x4352c2[_0x472459(0x27f)]))logger[_0x472459(0x105)](_0x4352c2[_0x472459(0x183)]);else return _0x26e3a6[_0x472459(0x235)]=_0x4352c2[_0x472459(0xdc)],_0xe21cfb;}const _0x2dc68a=await this['isManagedIdentityPresent']();if(!_0x2dc68a){if(_0x4352c2[_0x472459(0x1bd)](_0x4352c2['ClZad'],_0x4352c2[_0x472459(0xa3)]))_0x4352c2['OErfa'](_0x2c6ad2[_0x472459(0x13f)],_0x362f22)&&(_0x594059=_0xd5ceee['id']);else{const _0x12e87d={};_0x12e87d[_0x472459(0x1d7)]=WS_EVENTS[_0x472459(0x18e)],_0x12e87d[_0x472459(0x19a)]=_0x4352c2[_0x472459(0x152)],this[_0x472459(0x106)]['sendEventToBackend'](this[_0x472459(0xf8)],_0x12e87d),logger[_0x472459(0x105)](_0x4352c2['qgROY']),await this['createManagedIdentity']();}}else _0x4352c2[_0x472459(0x1d6)](_0x4352c2['ZxCYv'],_0x4352c2[_0x472459(0x135)])?_0x5400d6[_0x472459(0xe3)](_0x3afae1):logger['info'](_0x4352c2['zNHTD']);logger[_0x472459(0x105)](_0x4352c2[_0x472459(0x177)]),await this[_0x472459(0x132)](),logger[_0x472459(0x105)](_0x4352c2[_0x472459(0x1c6)]);}async[a1_0x3b9b6a(0x1d9)](){const _0x53f92e=a1_0x3b9b6a,_0x29a37c={};_0x29a37c[_0x53f92e(0x164)]='templates',_0x29a37c[_0x53f92e(0x1a0)]=_0x53f92e(0x1f1),_0x29a37c[_0x53f92e(0x1c7)]=_0x53f92e(0x1be),_0x29a37c[_0x53f92e(0xa7)]=_0x53f92e(0x1f3),_0x29a37c[_0x53f92e(0x222)]='turboscale-storageaccount-deployment',_0x29a37c['hKLwx']=_0x53f92e(0x178),_0x29a37c['SGWbz']=_0x53f92e(0x20e),_0x29a37c[_0x53f92e(0x123)]='Lifecycle',_0x29a37c[_0x53f92e(0x23e)]='blockBlob',_0x29a37c[_0x53f92e(0x234)]=_0x53f92e(0x247);const _0xa8d109=_0x29a37c;let _0x5e2e49=await fs[_0x53f92e(0x1b6)](path['join'](__dirname,'..',_0xa8d109[_0x53f92e(0x164)],_0xa8d109[_0x53f92e(0x1a0)],_0xa8d109[_0x53f92e(0x1c7)]),_0xa8d109['PkOJo']);_0x5e2e49=JSON[_0x53f92e(0x24f)](_0x5e2e49);const _0x38d0e2=this['getStorageAccountName'](),_0x5420b9={};_0x5420b9[_0x53f92e(0x15f)]=_0x38d0e2;const _0x2ecccc={};_0x2ecccc[_0x53f92e(0xd6)]=_0x5420b9,await this[_0x53f92e(0x23a)][_0x53f92e(0xcc)][_0x53f92e(0x1ab)](global_registry[_0x53f92e(0x220)],_0xa8d109['hFCdA'],{'properties':{'template':_0x5e2e49,'mode':_0xa8d109[_0x53f92e(0x19f)],'parameters':_0x2ecccc}});const _0x4cd64e={};_0x4cd64e['daysAfterCreationGreaterThan']=0x3c;const _0x4134f3={};_0x4134f3[_0x53f92e(0x119)]=_0x4cd64e;const _0x14b538={};_0x14b538[_0x53f92e(0x225)]=_0x4134f3;const _0x1fc621={};_0x1fc621[_0x53f92e(0x1c3)]=!![],_0x1fc621[_0x53f92e(0x13f)]=_0xa8d109['SGWbz'],_0x1fc621[_0x53f92e(0x1d7)]=_0xa8d109[_0x53f92e(0x123)],_0x1fc621[_0x53f92e(0x198)]={},_0x1fc621[_0x53f92e(0x198)]['actions']=_0x14b538,_0x1fc621[_0x53f92e(0x198)][_0x53f92e(0x109)]={},_0x1fc621[_0x53f92e(0x198)][_0x53f92e(0x109)][_0x53f92e(0x258)]=[_0xa8d109['vWjqB']];const _0x5a3556={};_0x5a3556['rules']=[_0x1fc621];const _0x2fe0bc={};_0x2fe0bc['policy']=_0x5a3556;const _0x18886e=_0x2fe0bc;await this[_0x53f92e(0x224)][_0x53f92e(0x1b4)][_0x53f92e(0xf6)](global_registry[_0x53f92e(0x220)],_0x38d0e2,_0xa8d109[_0x53f92e(0x234)],_0x18886e);}async['createManagedIdentity'](){const _0x37809b=a1_0x3b9b6a,_0x3cc9d0={};_0x3cc9d0[_0x37809b(0x14c)]=_0x37809b(0x124),_0x3cc9d0['TAVhL']=_0x37809b(0x1f1),_0x3cc9d0['AcBQq']=_0x37809b(0x23c),_0x3cc9d0[_0x37809b(0x204)]=_0x37809b(0x1f3),_0x3cc9d0[_0x37809b(0x145)]='turboscale-identity-deployment',_0x3cc9d0[_0x37809b(0xcb)]=_0x37809b(0x178);const _0xa25cc4=_0x3cc9d0;let _0x2d5415=await fs[_0x37809b(0x1b6)](path[_0x37809b(0x111)](__dirname,'..',_0xa25cc4[_0x37809b(0x14c)],_0xa25cc4[_0x37809b(0x267)],_0xa25cc4[_0x37809b(0x205)]),_0xa25cc4[_0x37809b(0x204)]);_0x2d5415=JSON[_0x37809b(0x24f)](_0x2d5415),await this[_0x37809b(0x23a)][_0x37809b(0xcc)][_0x37809b(0x1ab)](global_registry['cloudProviderResourceGroup'],_0xa25cc4[_0x37809b(0x145)],{'properties':{'template':_0x2d5415,'mode':_0xa25cc4['cUfwE'],'parameters':{'clusterName':{'value':this[_0x37809b(0x1e8)]}}}});}async['createFederatedAccount'](){const _0xfd4087=a1_0x3b9b6a,_0xf94d12={};_0xf94d12[_0xfd4087(0xe7)]=function(_0x5fdb37,_0x16d951){return _0x5fdb37===_0x16d951;},_0xf94d12[_0xfd4087(0x137)]=_0xfd4087(0x18f),_0xf94d12['exohS']=_0xfd4087(0x252),_0xf94d12[_0xfd4087(0x13d)]='hub',_0xf94d12['AJWah']='node',_0xf94d12[_0xfd4087(0xbe)]=function(_0x2935e9,_0x542c61){return _0x2935e9===_0x542c61;},_0xf94d12[_0xfd4087(0x1b7)]=_0xfd4087(0x170),_0xf94d12[_0xfd4087(0x18a)]=_0xfd4087(0xb0),_0xf94d12[_0xfd4087(0x148)]=_0xfd4087(0x124),_0xf94d12['igHqc']=_0xfd4087(0x1f1),_0xf94d12[_0xfd4087(0x261)]=_0xfd4087(0x1f3),_0xf94d12[_0xfd4087(0x1ad)]=_0xfd4087(0x141),_0xf94d12[_0xfd4087(0x162)]=_0xfd4087(0x178);const _0x1f8468=_0xf94d12;!this[_0xfd4087(0x186)]&&(_0x1f8468['TERln'](_0x1f8468[_0xfd4087(0x137)],_0x1f8468[_0xfd4087(0x16b)])?_0x336e0c[_0xfd4087(0xe3)](..._0x4d5db9[_0xfd4087(0x262)]):await this['getClusterInfo']());const _0x484475=this[_0xfd4087(0x186)]?.['oidcIssuerProfile']?.[_0xfd4087(0x158)],_0x828dd5=[_0x1f8468['JpCzq'],_0x1f8468[_0xfd4087(0xdf)]];for await(const _0x1fa8b6 of _0x828dd5){if(_0x1f8468[_0xfd4087(0xbe)](_0x1f8468['SWqCp'],_0x1f8468[_0xfd4087(0x18a)]))return _0x375911['error']=_0x1131b3['error'],_0x1fb932;else{let _0x269c37=await fs[_0xfd4087(0x1b6)](path['join'](__dirname,'..',_0x1f8468['KBRgU'],_0x1f8468['igHqc'],_0xfd4087(0x236)+_0x1fa8b6+_0xfd4087(0xce)),_0x1f8468[_0xfd4087(0x261)]);_0x269c37=JSON[_0xfd4087(0x24f)](_0x269c37);const _0x93d584={};_0x93d584[_0xfd4087(0x15f)]=_0x484475,await this[_0xfd4087(0x23a)][_0xfd4087(0xcc)][_0xfd4087(0x1ab)](global_registry[_0xfd4087(0x220)],_0x1f8468['fbjyS'],{'properties':{'template':_0x269c37,'mode':_0x1f8468[_0xfd4087(0x162)],'parameters':{'oidcIssuer':_0x93d584,'gridName':{'value':this[_0xfd4087(0xb3)]},'clusterName':{'value':this['clusterName']}}}});}}}async[a1_0x3b9b6a(0x1ea)](_0x43f17c,_0x41d8c0,_0x5577b1,_0xb82a71,_0x5264cf){const _0x1310dd=a1_0x3b9b6a,_0xba4837={};_0xba4837[_0x1310dd(0x194)]=_0x1310dd(0x133),_0xba4837[_0x1310dd(0x169)]=_0x1310dd(0x1aa);const _0x5386a7=_0xba4837,_0x32f887={};_0x32f887['type']=WS_EVENTS['LOG'],_0x32f887[_0x1310dd(0x19a)]=_0x5386a7[_0x1310dd(0x194)],this[_0x1310dd(0x106)][_0x1310dd(0xed)](this[_0x1310dd(0xf8)],_0x32f887),logger['info'](_0x5386a7[_0x1310dd(0x194)]),await this[_0x1310dd(0xa6)]();const _0x339182={};_0x339182[_0x1310dd(0x1d7)]=WS_EVENTS['LOG'],_0x339182[_0x1310dd(0x19a)]=_0x5386a7[_0x1310dd(0x169)],this[_0x1310dd(0x106)][_0x1310dd(0xed)](this['rws'],_0x339182);}async[a1_0x3b9b6a(0xa6)](){const _0xae4ff6=a1_0x3b9b6a,_0x5e01d8={};_0x5e01d8[_0xae4ff6(0x1c1)]=_0xae4ff6(0x1a9),_0x5e01d8[_0xae4ff6(0xe9)]=function(_0x358045,_0x3d3143){return _0x358045===_0x3d3143;},_0x5e01d8[_0xae4ff6(0x273)]='lRVXl',_0x5e01d8['HuFUB']=_0xae4ff6(0x124),_0x5e01d8[_0xae4ff6(0x12c)]='hubharesources',_0x5e01d8[_0xae4ff6(0x210)]='federatedidentityuploader.json',_0x5e01d8[_0xae4ff6(0x1ef)]=_0xae4ff6(0x1f3),_0x5e01d8[_0xae4ff6(0xfa)]=_0xae4ff6(0x141),_0x5e01d8[_0xae4ff6(0x200)]=_0xae4ff6(0x178);const _0xcd5ce3=_0x5e01d8;if(!this[_0xae4ff6(0x186)]){if(_0xcd5ce3[_0xae4ff6(0xe9)](_0xcd5ce3[_0xae4ff6(0x273)],_0xcd5ce3[_0xae4ff6(0x273)]))await this[_0xae4ff6(0x21d)]();else{const _0x53500a={};_0x53500a[_0xae4ff6(0x280)]=!![],_0x53500a['error']=null,_0x53500a[_0xae4ff6(0x235)]=_0xcd5ce3[_0xae4ff6(0x1c1)];const _0xb3ae43=_0x53500a;return _0xb3ae43;}}const _0x500fbb=this[_0xae4ff6(0x186)]?.[_0xae4ff6(0x18d)]?.[_0xae4ff6(0x158)];let _0x497ed3=await fs[_0xae4ff6(0x1b6)](path[_0xae4ff6(0x111)](__dirname,'..',_0xcd5ce3[_0xae4ff6(0x216)],_0xcd5ce3[_0xae4ff6(0x12c)],_0xcd5ce3[_0xae4ff6(0x210)]),_0xcd5ce3[_0xae4ff6(0x1ef)]);_0x497ed3=JSON[_0xae4ff6(0x24f)](_0x497ed3);const _0x222c1d={};_0x222c1d[_0xae4ff6(0x15f)]=_0x500fbb,await this['resourceClient'][_0xae4ff6(0xcc)][_0xae4ff6(0x1ab)](global_registry[_0xae4ff6(0x220)],_0xcd5ce3['wPruj'],{'properties':{'template':_0x497ed3,'mode':_0xcd5ce3[_0xae4ff6(0x200)],'parameters':{'oidcIssuer':_0x222c1d,'namespace':{'value':global_registry[_0xae4ff6(0x270)]},'clusterName':{'value':this[_0xae4ff6(0x1e8)]}}}});}async[a1_0x3b9b6a(0x242)](){const _0x6cf3e6=a1_0x3b9b6a,_0x52042e={};_0x52042e['jYIBQ']=_0x6cf3e6(0x238),_0x52042e[_0x6cf3e6(0x157)]='Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.',_0x52042e[_0x6cf3e6(0x172)]=function(_0x3303c5,_0x5609c0){return _0x3303c5===_0x5609c0;},_0x52042e['njuYb']=_0x6cf3e6(0x168),_0x52042e[_0x6cf3e6(0x1ec)]=_0x6cf3e6(0x116),_0x52042e[_0x6cf3e6(0x112)]=function(_0x10572c,_0x2a15f1){return _0x10572c!==_0x2a15f1;},_0x52042e[_0x6cf3e6(0x1a2)]='fFlGD',_0x52042e[_0x6cf3e6(0x185)]=_0x6cf3e6(0x11c);const _0xe4bffc=_0x52042e,_0x1ced91=this['getStorageAccountName'](),_0x524cbc=new Array();for await(const _0x5b91fd of this[_0x6cf3e6(0x224)][_0x6cf3e6(0x1ff)]['listByResourceGroup'](global_registry[_0x6cf3e6(0x220)])){if(_0xe4bffc[_0x6cf3e6(0x172)](_0xe4bffc[_0x6cf3e6(0x103)],_0xe4bffc[_0x6cf3e6(0x1ec)])){const _0x7c8d59=_0xe4bffc['jYIBQ'][_0x6cf3e6(0x193)]('|');let _0x1b9c93=0x0;while(!![]){switch(_0x7c8d59[_0x1b9c93++]){case'0':_0xec3571[_0x6cf3e6(0x14f)]=_0x4176c1[this[_0x6cf3e6(0xdd)]][_0x6cf3e6(0x233)];continue;case'1':_0x6d7498[_0x6cf3e6(0x100)]=_0x451e22[this[_0x6cf3e6(0xdd)]][_0x6cf3e6(0x12f)];continue;case'2':_0x1d61e4['cloudProviderClientId']=_0xb9c8f4[this[_0x6cf3e6(0xdd)]][_0x6cf3e6(0xee)];continue;case'3':_0x1fce3e[_0x6cf3e6(0x220)]=_0x35e359[this[_0x6cf3e6(0xdd)]][_0x6cf3e6(0x16e)];continue;case'4':_0x2f46fe[_0x6cf3e6(0x24d)]=_0x46b959[this[_0x6cf3e6(0xdd)]][_0x6cf3e6(0x17f)];continue;case'5':this[_0x6cf3e6(0x139)]();continue;}break;}}else _0x524cbc['push'](_0x5b91fd);}for await(const _0x28704a of _0x524cbc){if(_0xe4bffc['kUnBV'](_0xe4bffc[_0x6cf3e6(0x1a2)],_0xe4bffc[_0x6cf3e6(0x1a2)]))_0x369ba8[_0x6cf3e6(0x19c)](_0xe4bffc[_0x6cf3e6(0x157)]),_0xea5b03[_0x6cf3e6(0x19e)](0x1);else{if(_0xe4bffc[_0x6cf3e6(0x172)](_0x28704a[_0x6cf3e6(0x13f)],_0x1ced91))return _0xe4bffc[_0x6cf3e6(0x172)](_0xe4bffc[_0x6cf3e6(0x185)],_0xe4bffc[_0x6cf3e6(0x185)])?!![]:(_0x15cb6b['error'](_0x6cf3e6(0x265)+_0x3a90b0+_0x6cf3e6(0x9e)+_0x18767d),![]);}}return![];}async['isManagedIdentityPresent'](){const _0x21849c=a1_0x3b9b6a,_0x288d16={};_0x288d16[_0x21849c(0x1b8)]=_0x21849c(0x24b),_0x288d16[_0x21849c(0x12e)]=function(_0x5436e2,_0x368d28){return _0x5436e2===_0x368d28;},_0x288d16[_0x21849c(0x188)]=_0x21849c(0x13a),_0x288d16[_0x21849c(0x232)]='ukGtz',_0x288d16[_0x21849c(0x22c)]=_0x21849c(0x144),_0x288d16['NTSuT']='ptaCm',_0x288d16[_0x21849c(0x1e2)]=_0x21849c(0x104);const _0x1fec28=_0x288d16,_0x10aa28=new Array();for await(const _0x2b0733 of this[_0x21849c(0x23a)][_0x21849c(0x1bf)][_0x21849c(0x208)](global_registry[_0x21849c(0x220)])){if(_0x1fec28[_0x21849c(0x12e)](_0x1fec28[_0x21849c(0x188)],_0x1fec28[_0x21849c(0x232)]))return!![];else _0x10aa28[_0x21849c(0xe3)](_0x2b0733);}for await(const _0x53170a of _0x10aa28){if(_0x1fec28['sEAHY'](_0x1fec28[_0x21849c(0x22c)],_0x1fec28[_0x21849c(0x268)]))return _0x5cc573['error']('Cannot\x20find\x20subnets\x20'+_0x8cdd20+_0x21849c(0x207)+_0x343183),[![],[]];else{if(_0x1fec28[_0x21849c(0x12e)](_0x53170a['name'],'turboscale-managed-identity-'+this[_0x21849c(0x1e8)]))return _0x1fec28[_0x21849c(0x12e)](_0x1fec28[_0x21849c(0x1e2)],_0x1fec28[_0x21849c(0x1e2)])?!![]:(_0x28c907[_0x21849c(0x235)]=_0x1fec28[_0x21849c(0x1b8)],_0x478a49);}}return![];}async['getResourceClientId'](_0xcb5a15,_0x9fb5d6=0x3){const _0x4df87a=a1_0x3b9b6a,_0x343c68={'MHcEH':_0x4df87a(0x1f5),'HdrNF':_0x4df87a(0x277),'glnFp':_0x4df87a(0x108),'dAaWQ':function(_0x51d78b,_0x2b0e74){return _0x51d78b===_0x2b0e74;},'jStzd':_0x4df87a(0x127),'zrQAw':_0x4df87a(0x1eb),'nWtYv':_0x4df87a(0x1e1),'oLHpJ':_0x4df87a(0x1b2),'hdizG':function(_0x31a5a5,_0x4cfd2e){return _0x31a5a5+_0x4cfd2e;},'EJFgU':_0x4df87a(0x1cc),'MXiCY':function(_0x5d45b2,_0x2173ee){return _0x5d45b2-_0x2173ee;},'upxgh':function(_0x2ed98f,_0x1e49e5){return _0x2ed98f===_0x1e49e5;},'VjuXq':_0x4df87a(0x1a3),'XIuDX':function(_0x3bd52a,_0x3adcc0,_0x3789fe){return _0x3bd52a(_0x3adcc0,_0x3789fe);},'JwBQk':function(_0x773590,_0x1e9e10){return _0x773590!==_0x1e9e10;},'nXzQr':_0x4df87a(0x11d),'ZclyW':_0x4df87a(0x1c4),'tMzQi':'zCMKr','sNnLi':function(_0x158d1e,_0x479b4c){return _0x158d1e===_0x479b4c;},'JyQkv':'geDjQ','jMEHc':_0x4df87a(0x1cf),'CLlgm':function(_0x12f9fa,_0x448a2b){return _0x12f9fa===_0x448a2b;},'UwVpv':function(_0x49ecb3,_0x22d3f7){return _0x49ecb3!==_0x22d3f7;},'Ibtcu':_0x4df87a(0xb7),'UYGfV':_0x4df87a(0x25a),'rkcOo':'MxYbg','nriyw':_0x4df87a(0x1b1),'Nejik':function(_0x4a100c,_0x2162fb){return _0x4a100c<=_0x2162fb;},'hCHUv':function(_0x277dc8,_0x215042){return _0x277dc8===_0x215042;},'QcKOq':'gsBFU'};try{if(_0x343c68['JwBQk'](_0x343c68['nXzQr'],_0x343c68[_0x4df87a(0x214)])){const _0x4d1acb=new Array();for await(const _0x4fd76b of this[_0x4df87a(0x23a)][_0x4df87a(0x1bf)][_0x4df87a(0x208)](global_registry['cloudProviderResourceGroup'])){if(_0x343c68[_0x4df87a(0x27c)](_0x343c68[_0x4df87a(0xc8)],_0x343c68[_0x4df87a(0xc8)]))_0x4d1acb[_0x4df87a(0xe3)](_0x4fd76b);else{_0x3ba01f[_0x4df87a(0x105)](_0x343c68['MHcEH']);const _0x1a10b3={};_0x1a10b3[_0x4df87a(0x1d7)]=_0x1c31bd[_0x4df87a(0x196)],_0x1a10b3[_0x4df87a(0x19a)]=_0x343c68[_0x4df87a(0x175)],this[_0x4df87a(0x106)][_0x4df87a(0xed)](this[_0x4df87a(0xf8)],_0x1a10b3);const _0x36e5d4={};_0x36e5d4[_0x4df87a(0x1c3)]=!![];const _0x171e0a={'workloadIdentity':_0x36e5d4,..._0x1b10f7[_0x4df87a(0x9a)]};_0x5bf256[_0x4df87a(0x9a)]=_0x171e0a;}}let _0x1e49bb='';for await(const _0x4301af of _0x4d1acb){if(_0x343c68[_0x4df87a(0xbf)](_0x343c68['JyQkv'],_0x343c68[_0x4df87a(0x22a)])){const _0xa984c9=_0x247bef[_0x4df87a(0x1fe)](_0x2dc211);_0x1710cb+='\x0a\x09'+_0x37ddd5+':\x20'+(_0xa984c9?_0x343c68[_0x4df87a(0x180)]:_0x343c68[_0x4df87a(0x215)]),!_0xa984c9&&(_0x565ed6[_0x4df87a(0x280)]=![]);}else{if(_0x343c68[_0x4df87a(0x27b)](_0x4301af['name'],_0xcb5a15)){if(_0x343c68[_0x4df87a(0x209)](_0x343c68[_0x4df87a(0x17b)],_0x343c68[_0x4df87a(0x17b)])){if(_0x343c68[_0x4df87a(0x153)](_0x516ab3[_0x4df87a(0x13f)],_0x2b3705))return!![];}else _0x1e49bb=_0x4301af['id'];}}}const _0x31c1a8=await this[_0x4df87a(0x23a)][_0x4df87a(0x1bf)][_0x4df87a(0x22d)](_0x1e49bb,_0x343c68[_0x4df87a(0x1e7)]);return _0x31c1a8[_0x4df87a(0x230)][_0x4df87a(0xee)];}else{const _0x36adff={};_0x36adff[_0x4df87a(0x1d7)]=_0x343c68[_0x4df87a(0x1c2)],_0x36adff[_0x4df87a(0x166)]={},_0x36adff[_0x4df87a(0x166)][_0x4df87a(0x154)]=_0x343c68[_0x4df87a(0x17d)];const _0x546ef2={};_0x546ef2[_0x4df87a(0x1d7)]=_0x343c68['jStzd'],_0x546ef2[_0x4df87a(0x166)]={},_0x546ef2[_0x4df87a(0x166)][_0x4df87a(0x154)]=_0x343c68[_0x4df87a(0x17d)];const _0x3aa3d7={..._0x54dcf6[_0x4df87a(0x161)]};_0x3aa3d7[_0x4df87a(0x25e)]=_0x36adff,_0x3aa3d7[_0x4df87a(0x18c)]=_0x546ef2,_0x34de83[_0x4df87a(0x161)]=_0x3aa3d7;const _0x1b2831={};_0x1b2831[_0x4df87a(0x237)]=_0x343c68[_0x4df87a(0x249)],_0x2f2083[_0x4df87a(0xeb)]=_0x1b2831;const _0xfa9149={..._0x3bece6[_0x4df87a(0x1bf)][0x0]['properties']['agentPoolProfiles'][0x0]};_0xfa9149[_0x4df87a(0x237)]=_0x343c68[_0x4df87a(0x23b)],_0x13414f[_0x4df87a(0x1bf)][0x0]['properties'][_0x4df87a(0x22e)][0x0]=_0xfa9149;const _0x404183={};_0x404183[_0x4df87a(0x15f)]=_0x55df5a;const _0x5ebfa2={};_0x5ebfa2[_0x4df87a(0x15f)]=_0x52fa52[0x0];const _0x2ff7aa={..._0x5af22e};_0x2ff7aa[_0x4df87a(0x25e)]=_0x404183,_0x2ff7aa[_0x4df87a(0x18c)]=_0x5ebfa2,_0x5ef997=_0x2ff7aa;}}catch(_0x20ed69){if(_0x343c68[_0x4df87a(0x209)](_0x343c68[_0x4df87a(0x25f)],_0x343c68[_0x4df87a(0x22b)])){if(_0x343c68[_0x4df87a(0x1db)](_0x9fb5d6,0x0)){if(_0x343c68[_0x4df87a(0x1b9)](_0x343c68[_0x4df87a(0xb9)],_0x343c68[_0x4df87a(0xb9)]))return logger[_0x4df87a(0x19c)](_0x4df87a(0x26b)+_0x20ed69+':'+_0x20ed69[_0x4df87a(0x167)]),{};else{const _0x510278=_0x28f098[_0x4df87a(0x1c9)]['split']('-'),_0x2c224b=_0x343c68['hdizG'](_0x343c68['EJFgU'],_0x510278[_0x343c68['MXiCY'](_0x510278[_0x4df87a(0x1ca)],0x1)])[_0x4df87a(0x156)](0x0,0x18);return _0x2c224b[_0x4df87a(0x10b)]();}}return await new Promise(_0x42f5ac=>{const _0x4d0bbc=_0x4df87a;if(_0x343c68['upxgh'](_0x343c68[_0x4d0bbc(0xa0)],_0x343c68['VjuXq']))_0x343c68['XIuDX'](setTimeout,()=>_0x42f5ac(),0x3e8);else return;}),this[_0x4df87a(0x15c)](_0xcb5a15,_0x343c68[_0x4df87a(0x260)](_0x9fb5d6,0x1));}else _0x26b8bc[_0x4df87a(0xe3)](_0x5b114d);}}async[a1_0x3b9b6a(0xe8)](){const _0x5f063f=a1_0x3b9b6a,_0x403ac8={};_0x403ac8[_0x5f063f(0x126)]=_0x5f063f(0xc5),_0x403ac8['pQevQ']=function(_0x35aca4,_0x2add29){return _0x35aca4===_0x2add29;},_0x403ac8[_0x5f063f(0x266)]='Action\x20permission\x20list\x20is\x20empty\x0a',_0x403ac8['grlir']=function(_0x3d3354,_0x49c0c6){return _0x3d3354!==_0x49c0c6;},_0x403ac8['QZnRE']='mmDMy',_0x403ac8['lBUUa']='NpnFr',_0x403ac8[_0x5f063f(0x257)]=function(_0x296737,_0x649091){return _0x296737===_0x649091;},_0x403ac8['NIQtc']=_0x5f063f(0x16a),_0x403ac8[_0x5f063f(0x120)]=_0x5f063f(0x263),_0x403ac8[_0x5f063f(0xa9)]=_0x5f063f(0x136);const _0x1f1a79=_0x403ac8;!this[_0x5f063f(0x186)]&&(_0x1f1a79[_0x5f063f(0xe2)](_0x1f1a79[_0x5f063f(0x115)],_0x1f1a79[_0x5f063f(0xa5)])?await this[_0x5f063f(0x21d)]():(_0x32cf74[_0x5f063f(0x19c)](_0x1f1a79[_0x5f063f(0x126)]),_0x3005b9[_0x5f063f(0x19e)](0x1)));const _0x2a35f7=this[_0x5f063f(0x186)]?.[_0x5f063f(0xe0)]||{};if(_0x2a35f7&&_0x1f1a79['wMlFd'](_0x2a35f7[_0x1f1a79[_0x5f063f(0x12b)]],_0x1f1a79[_0x5f063f(0x120)])){if(_0x1f1a79['wMlFd'](_0x1f1a79[_0x5f063f(0xa9)],_0x1f1a79[_0x5f063f(0xa9)]))return!![];else _0x3b56d9+=_0x1f1a79[_0x5f063f(0x1b0)](_0x265454[_0x5f063f(0x1ca)],0x0)?_0x1f1a79[_0x5f063f(0x266)]:'',_0x414a04['debug']('Role\x20definition\x20response\x20list\x20\x20:\x20\x20'+_0x5cf981[_0x5f063f(0x1ee)](_0x20d627));}return![];}async[a1_0x3b9b6a(0x173)](_0x37ff36,_0x4e7404){const _0x30a012=a1_0x3b9b6a,_0x21be4c={'Otzfr':function(_0x3ae43e,_0x29f697){return _0x3ae43e(_0x29f697);},'gRnhl':function(_0x208b21,_0x2a30c6){return _0x208b21(_0x2a30c6);},'NaWeE':_0x30a012(0x21b)};await _0x21be4c[_0x30a012(0x13e)](deleteAgent,_0x37ff36),await _0x21be4c[_0x30a012(0x20b)](deleteRoutingDeps,_0x37ff36);const _0x1b1942=this[_0x30a012(0x150)];logger[_0x30a012(0x105)](_0x30a012(0xab)+this[_0x30a012(0x1e8)]),await _0x1b1942[_0x30a012(0x272)][_0x30a012(0xd3)](global_registry[_0x30a012(0x220)],this['clusterName']),logger[_0x30a012(0x105)](_0x21be4c[_0x30a012(0xea)]);}async[a1_0x3b9b6a(0x122)](){const _0x3db6c2=a1_0x3b9b6a,_0x260e4f={};_0x260e4f[_0x3db6c2(0xb4)]=_0x3db6c2(0xc2),_0x260e4f[_0x3db6c2(0x16d)]=function(_0x449343,_0x6a6d2){return _0x449343!==_0x6a6d2;},_0x260e4f[_0x3db6c2(0x9d)]=_0x3db6c2(0x1d2),_0x260e4f[_0x3db6c2(0x244)]=function(_0x1246de,_0x44abda){return _0x1246de&&_0x44abda;},_0x260e4f[_0x3db6c2(0x228)]=function(_0x50b29c,_0x16acc5){return _0x50b29c===_0x16acc5;},_0x260e4f[_0x3db6c2(0x19b)]=_0x3db6c2(0x160),_0x260e4f[_0x3db6c2(0xb8)]=_0x3db6c2(0x20f),_0x260e4f[_0x3db6c2(0xaf)]=_0x3db6c2(0x1b5),_0x260e4f[_0x3db6c2(0x159)]=_0x3db6c2(0x1ae),_0x260e4f[_0x3db6c2(0x1de)]='UFWHM',_0x260e4f[_0x3db6c2(0xfd)]='DTHff',_0x260e4f['aPfBj']=_0x3db6c2(0x1f5),_0x260e4f[_0x3db6c2(0xcd)]=function(_0x3d2f0c,_0x28a9fd){return _0x3d2f0c!==_0x28a9fd;},_0x260e4f[_0x3db6c2(0x12a)]=_0x3db6c2(0x264),_0x260e4f[_0x3db6c2(0x10f)]='BRhHs',_0x260e4f['dGwzD']=_0x3db6c2(0x192);const _0x172179=_0x260e4f;if(!this[_0x3db6c2(0x186)]){if(_0x172179['jvPED'](_0x172179[_0x3db6c2(0x9d)],_0x172179[_0x3db6c2(0x9d)]))return _0x6d9e1f['status']['loadBalancer']['ingress'][0x0][_0x3db6c2(0x23f)];else await this[_0x3db6c2(0x21d)]();}const _0x14255d=this['clusterInfo'],_0x5d8645=this['clusterInfo']?.['oidcIssuerProfile']?.[_0x3db6c2(0x1c3)]||![],_0x2a61ca=this[_0x3db6c2(0x186)]?.[_0x3db6c2(0x9a)]?.[_0x3db6c2(0xdb)]?.[_0x3db6c2(0x1c3)]||![],_0x30f2a0=!this[_0x3db6c2(0x186)]?.['disableLocalAccounts']||![];if(_0x172179['JOtsP'](_0x5d8645,_0x2a61ca)&&_0x30f2a0){if(_0x172179['tlUxL'](_0x172179['FEDEA'],_0x172179['Xqhtf']))_0x4fa79c[_0x3db6c2(0x254)][_0x3db6c2(0xe3)](_0x209cb7);else return;}if(!_0x5d8645){if(_0x172179[_0x3db6c2(0x16d)](_0x172179[_0x3db6c2(0xaf)],_0x172179[_0x3db6c2(0x159)])){logger[_0x3db6c2(0x105)](_0x172179['TotOE']);const _0x140d67={};_0x140d67['type']=WS_EVENTS[_0x3db6c2(0x196)],_0x140d67[_0x3db6c2(0x19a)]=_0x172179[_0x3db6c2(0xb4)],this['webSocketUtils'][_0x3db6c2(0xed)](this[_0x3db6c2(0xf8)],_0x140d67),_0x14255d[_0x3db6c2(0x18d)]['enabled']=!![];}else{_0xdb482d[_0x3db6c2(0x105)](_0x172179['TotOE']);const _0x15727c={};_0x15727c[_0x3db6c2(0x1d7)]=_0x53eab2[_0x3db6c2(0x196)],_0x15727c[_0x3db6c2(0x19a)]=_0x172179['TotOE'],this[_0x3db6c2(0x106)][_0x3db6c2(0xed)](this['rws'],_0x15727c),_0x4ff5e1[_0x3db6c2(0x18d)][_0x3db6c2(0x1c3)]=!![];}}if(!_0x2a61ca){if(_0x172179[_0x3db6c2(0x16d)](_0x172179[_0x3db6c2(0x1de)],_0x172179[_0x3db6c2(0xfd)])){logger[_0x3db6c2(0x105)](_0x172179[_0x3db6c2(0x187)]);const _0xa9f784={};_0xa9f784[_0x3db6c2(0x1d7)]=WS_EVENTS[_0x3db6c2(0x196)],_0xa9f784[_0x3db6c2(0x19a)]=_0x172179[_0x3db6c2(0x187)],this[_0x3db6c2(0x106)][_0x3db6c2(0xed)](this['rws'],_0xa9f784);const _0xc12c4b={};_0xc12c4b['enabled']=!![],_0x14255d[_0x3db6c2(0x9a)]={'workloadIdentity':_0xc12c4b,..._0x14255d['securityProfile']};}else _0x13b41f[_0x3db6c2(0xe3)](_0x2fc902);}if(!_0x30f2a0){if(_0x172179['LlpDW'](_0x172179[_0x3db6c2(0x12a)],_0x172179['AuCgy'])){logger[_0x3db6c2(0x105)](_0x172179[_0x3db6c2(0x24a)]);const _0x39efc8={};_0x39efc8[_0x3db6c2(0x1d7)]=WS_EVENTS['RESOURCES'],_0x39efc8['message']=_0x172179[_0x3db6c2(0x24a)],this[_0x3db6c2(0x106)]['sendEventToBackend'](this['rws'],_0x39efc8),_0x14255d[_0x3db6c2(0x195)]=![];}else _0x4af957=_0x2537e8['id'];}await this[_0x3db6c2(0x150)]['managedClusters']['beginCreateOrUpdateAndWait'](global_registry[_0x3db6c2(0x220)],this[_0x3db6c2(0x1e8)],_0x14255d),await this[_0x3db6c2(0x21d)]();}async['sendAzureInfoToHST'](){const _0x599d3b=a1_0x3b9b6a,_0x39a7a0={};_0x39a7a0[_0x599d3b(0xf7)]='Storage\x20account\x20already\x20exists,\x20skipping',_0x39a7a0[_0x599d3b(0xba)]=function(_0x688b45,_0x530e70){return _0x688b45===_0x530e70;},_0x39a7a0[_0x599d3b(0xfc)]=_0x599d3b(0x9c);const _0x409e9b=_0x39a7a0,_0x47718c=await this['networkClient'][_0x599d3b(0x17c)][_0x599d3b(0x25b)](global_registry['cloudProviderResourceGroup']),_0x2ab0f0={};_0x2ab0f0[_0x599d3b(0xd2)]=global_registry[_0x599d3b(0x14b)],_0x2ab0f0[_0x599d3b(0x191)]=global_registry['bstackAccesskey'],_0x2ab0f0[_0x599d3b(0xda)]=AZURE,_0x2ab0f0[_0x599d3b(0x254)]=[];const _0x21d086=_0x2ab0f0;for await(const _0x3fff75 of _0x47718c){_0x409e9b[_0x599d3b(0xba)](_0x409e9b[_0x599d3b(0xfc)],_0x409e9b['CQPVM'])?_0x21d086[_0x599d3b(0x254)][_0x599d3b(0xe3)](_0x3fff75):_0x231e61[_0x599d3b(0x105)](_0x409e9b['EPSNA']);}const _0x3b1cc5={};_0x3b1cc5[_0x599d3b(0x1d7)]=WS_EVENTS[_0x599d3b(0x196)],_0x3b1cc5[_0x599d3b(0x19a)]=_0x21d086,this[_0x599d3b(0x106)][_0x599d3b(0xed)](this[_0x599d3b(0xf8)],_0x3b1cc5);}async[a1_0x3b9b6a(0x140)](_0xde51da){const _0x3820bc=a1_0x3b9b6a,_0x1a6a3a={};_0x1a6a3a[_0x3820bc(0x21f)]=function(_0x4b082a,_0x1463f1){return _0x4b082a===_0x1463f1;},_0x1a6a3a[_0x3820bc(0x1ba)]='Managed\x20identity\x20already\x20exists,\x20skipping',_0x1a6a3a[_0x3820bc(0xff)]=_0x3820bc(0x192),_0x1a6a3a['pnEao']=_0x3820bc(0x275),_0x1a6a3a['rFwnt']='xRhFT',_0x1a6a3a[_0x3820bc(0x25d)]=function(_0x4b8a23,_0x366c82){return _0x4b8a23!==_0x366c82;},_0x1a6a3a[_0x3820bc(0x1fb)]=_0x3820bc(0x279),_0x1a6a3a[_0x3820bc(0x269)]=_0x3820bc(0xca),_0x1a6a3a[_0x3820bc(0xa8)]=_0x3820bc(0x217);const _0x4d82fc=_0x1a6a3a;try{if(_0x4d82fc[_0x3820bc(0x21f)](_0x4d82fc[_0x3820bc(0x1cb)],_0x4d82fc[_0x3820bc(0x27e)])){if(_0x4d82fc['fFTAU'](_0x3aee68[_0x3820bc(0x13f)],_0x35c171))return!![];}else{const _0x4bc105=await this[_0x3820bc(0x1e4)]['virtualNetworks'][_0x3820bc(0x25b)](global_registry['cloudProviderResourceGroup']);for await(const _0xac41a8 of _0x4bc105){if(_0x4d82fc[_0x3820bc(0x25d)](_0x4d82fc[_0x3820bc(0x1fb)],_0x4d82fc[_0x3820bc(0x1fb)]))_0x2faa6b[_0x3820bc(0x105)](_0x4d82fc[_0x3820bc(0x1ba)]);else{if(_0x4d82fc[_0x3820bc(0x21f)](_0xac41a8['name'],_0xde51da)){if(_0x4d82fc[_0x3820bc(0x25d)](_0x4d82fc[_0x3820bc(0x269)],_0x4d82fc[_0x3820bc(0x269)]))_0x2cb61a[_0x3820bc(0x19c)]=_0x226d41;else return!![];}}}}}catch(_0x42e2fd){if(_0x4d82fc[_0x3820bc(0x21f)](_0x4d82fc[_0x3820bc(0xa8)],_0x4d82fc['nmSlG']))return logger[_0x3820bc(0x19c)](_0x3820bc(0x265)+_0xde51da+_0x3820bc(0x9e)+_0x42e2fd),![];else{_0x3be09c[_0x3820bc(0x105)](_0x4d82fc[_0x3820bc(0xff)]);const _0x13cb74={};_0x13cb74['type']=_0x53ddc5['RESOURCES'],_0x13cb74[_0x3820bc(0x19a)]=_0x4d82fc[_0x3820bc(0xff)],this[_0x3820bc(0x106)][_0x3820bc(0xed)](this['rws'],_0x13cb74),_0x4cac4b[_0x3820bc(0x195)]=![];}}return![];}async['isSubnetsValid'](_0x1cb92e,_0x2482e8){const _0x34d27a=a1_0x3b9b6a,_0x40be97={};_0x40be97['nIAsO']=function(_0x3d869c,_0x5a960b){return _0x3d869c===_0x5a960b;},_0x40be97[_0x34d27a(0x16c)]=_0x34d27a(0x256),_0x40be97[_0x34d27a(0x181)]=function(_0x35119e,_0x458c5e){return _0x35119e===_0x458c5e;},_0x40be97['GYzmu']=function(_0x4f9df6,_0x2b520b){return _0x4f9df6!==_0x2b520b;},_0x40be97['zrqXv']='oLnwc',_0x40be97[_0x34d27a(0x1bb)]=_0x34d27a(0xb6);const _0x2f37d5=_0x40be97;try{if(_0x2f37d5[_0x34d27a(0x26c)](_0x2f37d5[_0x34d27a(0x16c)],_0x2f37d5['dRlih'])){const _0xf32e18=await this[_0x34d27a(0x1e4)]['subnets'][_0x34d27a(0xde)](global_registry[_0x34d27a(0x220)],_0x2482e8,_0x1cb92e[0x0]);if(_0x2f37d5['zpAzP'](_0x1cb92e[0x0],_0xf32e18['name'])){if(_0x2f37d5[_0x34d27a(0x276)](_0x2f37d5[_0x34d27a(0x1f2)],_0x2f37d5[_0x34d27a(0x1bb)]))return[!![],_0x1cb92e];else _0x1b738a['status']=![];}}else _0x41fd14['exit'](0x0);}catch(_0x48d346){return logger[_0x34d27a(0x19c)](_0x34d27a(0x1d5)+_0x1cb92e+_0x34d27a(0x207)+_0x48d346),[![],[]];}return[![],[]];}async[a1_0x3b9b6a(0x22f)](){const _0x453cad=a1_0x3b9b6a,_0x64fca6={};_0x64fca6[_0x453cad(0xfb)]=_0x453cad(0x1a9);const _0x309867=_0x64fca6,_0x56a36e={};_0x56a36e[_0x453cad(0x280)]=!![],_0x56a36e[_0x453cad(0x19c)]=null,_0x56a36e['data']=_0x309867[_0x453cad(0xfb)];const _0x480b95=_0x56a36e;return _0x480b95;}async[a1_0x3b9b6a(0x25c)](){const _0xe41882=a1_0x3b9b6a,_0x218ead={};_0x218ead[_0xe41882(0x246)]=_0xe41882(0x138),_0x218ead[_0xe41882(0x1a6)]=_0xe41882(0x13c),_0x218ead[_0xe41882(0x14e)]=_0xe41882(0x23d);const _0x525752=_0x218ead,_0x1093c7=await this['cred'][_0xe41882(0xa2)](_0x525752[_0xe41882(0x246)]),_0x5a69e8={};_0x5a69e8[_0xe41882(0x14d)]=_0x525752['rxAVF'],_0x5a69e8[_0xe41882(0xf9)]={},_0x5a69e8[_0xe41882(0xf9)][_0xe41882(0x218)]=_0xe41882(0xa4)+_0x1093c7['token'],_0x5a69e8[_0xe41882(0xf9)][_0xe41882(0xbb)]=_0x525752['ZEOOJ'];const _0x24b82b=_0x5a69e8;return _0x24b82b;}async[a1_0x3b9b6a(0x1c0)](_0xa2c3){const _0x1f64d5=a1_0x3b9b6a,_0x516104={'wooKz':function(_0x2603b5,_0x1eca59,_0x180a7d){return _0x2603b5(_0x1eca59,_0x180a7d);},'BBogh':function(_0x2a4a01,_0x443f01){return _0x2a4a01===_0x443f01;},'tvTjr':_0x1f64d5(0x1d4)},_0x4b99c3={};_0x4b99c3[_0x1f64d5(0xd4)]='',_0x4b99c3[_0x1f64d5(0x19c)]=null;const _0x3903dc=_0x4b99c3;try{const _0x752e7d=_0x1f64d5(0x278)+_0xa2c3+'\x27',_0x19ee14=await this['getHeader'](),_0x306f61=await _0x516104[_0x1f64d5(0x1f8)](fetch,_0x752e7d,_0x19ee14),_0x466066=await _0x306f61[_0x1f64d5(0xe5)]();if(!_0x466066['value']||_0x516104['BBogh'](_0x466066['value']['length'],0x0))throw new Error(_0x516104['tvTjr'],_0x1f64d5(0x110)+JSON['stringify'](_0x466066));_0x3903dc['principalId']=_0x466066[_0x1f64d5(0x15f)][0x0]['id'];}catch(_0x55b6fb){_0x3903dc[_0x1f64d5(0x19c)]=_0x55b6fb;}return _0x3903dc;}async[a1_0x3b9b6a(0x240)](){const _0x1af74b=a1_0x3b9b6a,_0x3be570={};_0x3be570['WvoYE']=_0x1af74b(0x277),_0x3be570['UsKtw']=_0x1af74b(0x108),_0x3be570[_0x1af74b(0x10d)]=function(_0x40d01c,_0x54609f){return _0x40d01c!==_0x54609f;},_0x3be570['DDBtH']=function(_0x4da97d,_0x33d03c){return _0x4da97d===_0x33d03c;},_0x3be570[_0x1af74b(0xc9)]=_0x1af74b(0x241),_0x3be570[_0x1af74b(0xf4)]=function(_0xd862e4,_0x44d090){return _0xd862e4===_0x44d090;},_0x3be570['UbKyn']='No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles',_0x3be570[_0x1af74b(0x184)]=function(_0x359ed3,_0xb99c16){return _0x359ed3===_0xb99c16;},_0x3be570[_0x1af74b(0x251)]='Action\x20permission\x20list\x20is\x20empty\x0a';const _0x2f27d3=_0x3be570,_0x173e40={};_0x173e40[_0x1af74b(0x280)]=![],_0x173e40['error']=null,_0x173e40[_0x1af74b(0x235)]='';const _0x7dc96=_0x173e40;try{let _0x34a2a7='';const _0x2cba94='subscriptions/'+global_registry['cloudProviderSubscriptionId']+_0x1af74b(0xb1)+global_registry[_0x1af74b(0x220)],_0x3ff129=await this[_0x1af74b(0x1c0)](global_registry[_0x1af74b(0x239)]);if(_0x2f27d3['cNBVp'](_0x3ff129[_0x1af74b(0x19c)],null))return _0x7dc96[_0x1af74b(0x19c)]=_0x3ff129['error'],_0x7dc96;const _0x4e9362=_0x1af74b(0x11a)+_0x3ff129[_0x1af74b(0xd4)]+'\x27)',_0x39a7a9={};_0x39a7a9[_0x1af74b(0x189)]=_0x4e9362;const _0x55d874=await this[_0x1af74b(0x26e)][_0x1af74b(0x117)][_0x1af74b(0x219)](_0x2cba94,_0x39a7a9),_0x42561a=[];for await(const _0x25162c of _0x55d874){_0x42561a['push'](_0x25162c);}if(_0x2f27d3[_0x1af74b(0x121)](_0x42561a[_0x1af74b(0x1ca)],0x0))return _0x7dc96['data']=_0x2f27d3[_0x1af74b(0xc9)],_0x7dc96;const _0x4e7fc0=[...new Set(_0x42561a['map'](_0x557345=>_0x557345[_0x1af74b(0xf1)]))];if(_0x2f27d3[_0x1af74b(0xf4)](_0x4e7fc0[_0x1af74b(0x1ca)],0x0))return _0x7dc96[_0x1af74b(0x235)]=_0x2f27d3['UbKyn'],_0x7dc96;const _0x3bf61e=[],_0x293167=[];for(const _0xa361a2 of _0x4e7fc0){const _0x2816c0=await this[_0x1af74b(0x26e)]['roleDefinitions']['getById'](_0xa361a2);logger['debug']('role\x20name\x20attached\x20-\x20'+_0x2816c0[_0x1af74b(0xec)]),_0x3bf61e[_0x1af74b(0xe3)](_0x2816c0),logger[_0x1af74b(0x1e3)](_0x1af74b(0x101)+JSON[_0x1af74b(0x1ee)](_0x2816c0[_0x1af74b(0x255)])),_0x2816c0[_0x1af74b(0x255)]['forEach'](_0x1a7bae=>{const _0x1ef377=_0x1af74b;_0x293167[_0x1ef377(0xe3)](..._0x1a7bae[_0x1ef377(0x262)]);});}logger['debug'](_0x1af74b(0x151)+JSON['stringify'](_0x293167)),_0x2f27d3[_0x1af74b(0xf4)](_0x293167[_0x1af74b(0x1ca)],0x0)&&(_0x34a2a7+=_0x2f27d3[_0x1af74b(0x184)](_0x293167[_0x1af74b(0x1ca)],0x0)?_0x2f27d3[_0x1af74b(0x251)]:'',logger[_0x1af74b(0x1e3)](_0x1af74b(0x1e9)+JSON[_0x1af74b(0x1ee)](_0x3bf61e))),_0x7dc96['status']=!![],Object[_0x1af74b(0x118)](PERMISSIONS[_0x1af74b(0x1df)])[_0x1af74b(0x171)](([_0xa1e333,_0x29d925])=>{const _0x37bcbb=_0x1af74b,_0x4857a8=_0x293167[_0x37bcbb(0x1fe)](_0xa1e333);_0x34a2a7+='\x0a\x09'+_0x29d925+':\x20'+(_0x4857a8?_0x2f27d3[_0x37bcbb(0xd0)]:_0x2f27d3[_0x37bcbb(0x27a)]),!_0x4857a8&&(_0x7dc96[_0x37bcbb(0x280)]=![]);}),_0x7dc96[_0x1af74b(0x235)]=_0x34a2a7;}catch(_0x1b283b){_0x7dc96[_0x1af74b(0x19c)]=_0x1b283b;}return _0x7dc96;}}const a1_0x2f2826={};a1_0x2f2826[a1_0x3b9b6a(0x18b)]=AzureCloudProvider,module[a1_0x3b9b6a(0xbc)]=a1_0x2f2826;