const a1_0x4a83f8=a1_0x443f;(function(_0x2d92cf,_0x43c7a9){const _0x526db6=a1_0x443f,_0x1ce346=_0x2d92cf();while(!![]){try{const _0x316823=parseInt(_0x526db6(0x201))/0x1+-parseInt(_0x526db6(0xbb))/0x2+-parseInt(_0x526db6(0x130))/0x3*(parseInt(_0x526db6(0x146))/0x4)+-parseInt(_0x526db6(0x249))/0x5*(-parseInt(_0x526db6(0x1bd))/0x6)+parseInt(_0x526db6(0x1c0))/0x7*(parseInt(_0x526db6(0x240))/0x8)+-parseInt(_0x526db6(0x1e0))/0x9*(-parseInt(_0x526db6(0xc8))/0xa)+-parseInt(_0x526db6(0x13b))/0xb;if(_0x316823===_0x43c7a9)break;else _0x1ce346['push'](_0x1ce346['shift']());}catch(_0x5b9861){_0x1ce346['push'](_0x1ce346['shift']());}}}(a1_0x5974,0xacb96));function a1_0x5974(){const _0x2254b3=['No\x20attached\x20role\x20for\x20the\x20client\x20key','storageClient','\x20SUBSCRIPTION\x20ID:\x20','fzjcc','createStorageAccount','\x20CLIENT\x20SECRET:\x20','aFPsR','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','Jnpvm','OjlVx','allowed','VWuyA','FlRwO','bPHLT','HgPkH','AqJjC','loRyO','brEKq','pNtAT','jTwfV','Authorization','0|5|2|1|4|3','QTsGD','gAXEl','jLLNj','hsGfb','headers','RAXMd','CfMeX','filter','xWlHZ','cdFIU','value','XRjSQ','3556860nZOitt','zsSUO','hzzjn','zKsin','No\x20service\x20principal\x20found','MdmSi','AjPMc','NVLeb','ZDpZj','GZDDO','mwqZq','11762938VCJRgp','list','createOtherResources','description','Wqwdt','QqpYN','tAnCB','soQTu','mCDrl','KmEtP','isStorageAccountPresent','4LleobH','turboscale-identity-deployment','managedClusters','hDEOH','variables','Lifecycle','uInMU','bICUQ','MpYFn','KhvCX','LfZbl','MypMn','blobTypes','../utils/utilityMethods','clusterName','SsQSB','Jrfbk','mZBXq','swEbL','aUjCm','principalId','storageAccounts','NKIps','getStorageAccountName','blockBlob','WAxJs','SFmvb','split','GiMHk','zbaYS','psKRq','dBEdh','xGBAX','2|4|3|1|5|0','lIGGR','parse','BrowserStack','mQmiZ','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','MgNfQ','aMKCX','cloudProviderResourceGroup','accessKey','listByResourceGroup','apbPp','clusterInfo','turboscale-storageaccount-deployment','WTyWr','forEach','username','exports','agentPoolProfiles','getPrincipalIdFromClientId','DrKOc','Deleting\x20the\x20cluster\x20','[variables(\x27vnetSubnetID\x27)]','authClient','NnnTW','resourceGroups','vpcName','OXzsz','Received\x20response\x20-\x20','disableLocalAccounts','Enabling\x20Local\x20account\x20for\x20the\x20cluster','fwlsq','bttIc','properties','jHtQi','RrSFP','turboscale-managed-identity-','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','ESnfU','iLXjq','enabled','WeJfM','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','cloudProviderClientSecret','containerClient','yhXQK','imBKw','EQNlX','EiDWv','setClients','Fpoqq','cujOJ','xIIeK','GdyNR','\x20RESOURCE\x20GROUP:\x20','dnFhA','IZMoN','cnLgg','setupNewCluster','cloudProviderClientId','issuerURL','JveIr','delete','DhXcV','../config/logger','isSubnetsValid','RfZFM','DkmxC','deleteCluster','oidcIssuerProfile','slice','YElWO','rws','isCliToolInstalled','.\x20Error:\x20','wrmTw','WXkln','MzlBS','CyqUO','gridName','aLPeq','token','pMoGL','GcFjZ','exit','zyijb','5142MzbyHJ','ehnTw','yojKi','7OVSbTR','Creating\x20Azure\x20storage\x20account','pUHAw','KAaYf','PlkFE','permissions','QNiRB','get','VYOAF','.json','includes','KTqek','resources','Attached\x20permissions\x20:\x20','createManagedIdentity','SizXl','dbOiA','rEmEe','type','join','info','HHpnB','WjUKk','KPIzu','xCHML','setupHubHa','node','hostname','waPFB','ebtAc','PNqRc','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','153531SYWUaY','ytkCK','assignedTo(\x27','sytLl','FxoiQ','ukdji','oLNXp','federatedidentity','nsRQi','tenantId','subscriptionId','EmkNC','role\x20name\x20attached\x20-\x20','rules','Hpqko','hubHaNameSpace','turboscale','WTHPR','dOzFo','pYwgm','zmLiz','oAkTq','HDTFk','policy','bstackAccesskey','data','vUHfS','sendAzureInfoToHST','hjnhi','OpXda','yhNKl','VhkMA','xalha','946740OmXNdF','definition','CwKGr','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','akscluster.json','beginCreateOrUpdateAndWait','RLzCW','federatedidentityuploader.json','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','FoXMp','eNjhC','kYCUZ','UYphX','Creating\x20Azure\x20federated\x20identity','push','Kskte','uGUwQ','CCJCq','NTEdY','RKAer','QdsHd','cloudProviderSubscriptionId','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','Kckgk','kNGLh','sXOFU','roleName','rZsNa','userInstanceType','dOSSO','/resourceGroups/','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','js-yaml','path','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','murFj','jujuI','https://graph.microsoft.com/.default','Cannot\x20find\x20VPC\x20','WnoxF','BGzyo','hub','entries','isClusterPresent','LRuDP','\x20TENANT\x20ID:\x20','cloudProvider','GshKo','RFhkZ','actionPermission\x20:\x20','zMexQ','RCHoQ','SqyPr','tags','deployments','CSjMC','@azure/arm-network','VUKNN','filters','BLuqD','networkClient','bvBDt','Vnwkx','6507080wdUfYM','ymekQ','virtualNetworks','LnSpC','vTUBJ','mTpOU','getClusterInfo','ujlwy','sendEventToBackend','3115eZGJOL','securityProfile','zkIiM','turboscale-federated-deployment','lbsoC','createCluster','clientId','Gxbgx','YAuGK','WukNx','stringify','NWBkF','string','RALUm','CsmgR','ZEKQa','getResourceGroups','eZQZO','getHeader','TlEMv','ingress','azureresources','getGridHostname','IVlLh','cWlpa','init','GeJSn','roleAssignments','cJwBT','DgWBl','eOLfQ','vdcbG','2023-01-31','kubeconfigs','TiHqJ','name','listAll','cloudProviderTenantId','ZvgwP','SJyxO','default','../config/constants','sOmrU','CWEsC','PBFlh','oltjk','\x20CLIENT\x20ID:\x20','TlEOO','ddiGV','s3Bucket','dPFvV','subnetName','resourceClient','DchlD','AeHBc','XNgap','rEbKc','KMmEF','message','../utils/gridComponents','debug','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','cKmyr','status','yqhXO','YtdsV','length','jCIaS','Managed\x20identity\x20already\x20exists,\x20skipping','hubharesources','KLfYr','Cannot\x20find\x20subnets\x20','DqCrt','vpcInfo','KnbJh','managementPolicies','updateClusterAlreadyPresent','createFederatedAccountForHubHA','getResourceClientId','XkPoT','OuSza','aRWrX','CTsos','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','vTlFi','Created\x20Azure\x20federated\x20identity','llHCr','Action\x20permission\x20list\x20is\x20empty\x0a','jPtBU','KCjDJ','checkAccess','resourceGroup','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','listForScope','ttsEF','1324364NQiQej','BzSqj','map','clientSecret','No\x20CLI\x20tool\x20required','kJXeG','KNpbD','InUcu','isBrowserstackCluster','uKhOE','ZhfUW','AzureCloudProvider','RjnTE','780DQtmTB','YYvJW','tpNYO','eykft','jVLki','setCachedCredsInRegistry','isManagedIdentityPresent','rQIfX','@azure/arm-containerservice','BFiHP','ygOqD','JyNDQ','MbFvZ','RESOURCES','wWCNw','DGQeF','loadBalancer','Storage\x20account\x20already\x20exists,\x20skipping','ItFok','TTJvg','denied','Pdqbu','Wxpak','cred','readFileAsync','uUTnE','azhCX','parameters','nsEak','cloudProviderName','metadata','jUHhf','LOG','toLowerCase','pXaXI','qUDWl','./CloudProvider','log','yDUuD','JbBSq','managedidentity.json','mzIim','rcLMt','location','utf-8','icpoJ','LggJE','WyOOI','listClusterAdminCredentials','nifFK','webSocketUtils','VdaMt','browserstack:managedBy','TKedP','templates','TVkaR','Incremental','error','toString','subnets','oftbG','zYhBP','vnetSubnetID','UshnP','bRbsG','dQcSm','LOVcN','isVPCPresent','actions','MPgxh'];a1_0x5974=function(){return _0x2254b3;};return a1_0x5974();}const fs=require('fs'),path=require(a1_0x4a83f8(0x222)),yaml=require(a1_0x4a83f8(0x221)),{logger}=require(a1_0x4a83f8(0x1a7)),{CloudProvider}=require(a1_0x4a83f8(0xec)),{deleteRoutingDeps,deleteAgent}=require(a1_0x4a83f8(0x97)),{AZURE,WS_EVENTS,global_registry}=require(a1_0x4a83f8(0x85)),PERMISSIONS=require('../permissions/AZURE.json'),{ClientSecretCredential}=require('@azure/identity'),{NetworkManagementClient}=require(a1_0x4a83f8(0x239)),{StorageManagementClient}=require('@azure/arm-storage'),{AuthorizationManagementClient}=require('@azure/arm-authorization'),{ResourceManagementClient}=require('@azure/arm-resources'),{ContainerServiceClient}=require(a1_0x4a83f8(0xd0)),{runCommand}=require(a1_0x4a83f8(0x153));class AzureCloudProvider extends CloudProvider{constructor(_0x818927,_0x524c53,_0x398ca2,_0x1d0b13){const _0x4e98f3=a1_0x4a83f8,_0x2ca326={};_0x2ca326[_0x4e98f3(0x15c)]='0|2|3|1|7|4|5|6';const _0x497c38=_0x2ca326,_0x2befd9=_0x497c38[_0x4e98f3(0x15c)]['split']('|');let _0x5d2c8f=0x0;while(!![]){switch(_0x2befd9[_0x5d2c8f++]){case'0':super(AZURE,_0x818927,_0x524c53,_0x398ca2,_0x1d0b13);continue;case'1':this[_0x4e98f3(0x193)]=null;continue;case'2':this[_0x4e98f3(0xdf)]=null;continue;case'3':this[_0x4e98f3(0x173)]=null;continue;case'4':this[_0x4e98f3(0x90)]=null;continue;case'5':this[_0x4e98f3(0x23d)]=null;continue;case'6':this[_0x4e98f3(0x17e)]=null;continue;case'7':this['storageClient']=null;continue;}break;}}async[a1_0x4a83f8(0x75)](){const _0x1de528=a1_0x4a83f8;return await super[_0x1de528(0x75)](),this;}[a1_0x4a83f8(0x198)](){const _0x105a12=a1_0x4a83f8,_0x4a8b33=new ClientSecretCredential(global_registry[_0x105a12(0x81)],global_registry[_0x105a12(0x1a2)],global_registry['cloudProviderClientSecret']);this[_0x105a12(0x193)]=new ContainerServiceClient(_0x4a8b33,global_registry[_0x105a12(0x216)]),this[_0x105a12(0x10f)]=new StorageManagementClient(_0x4a8b33,global_registry[_0x105a12(0x216)]),this['resourceClient']=new ResourceManagementClient(_0x4a8b33,global_registry[_0x105a12(0x216)]),this[_0x105a12(0x23d)]=new NetworkManagementClient(_0x4a8b33,global_registry[_0x105a12(0x216)]),this[_0x105a12(0x17e)]=new AuthorizationManagementClient(_0x4a8b33,global_registry['cloudProviderSubscriptionId']),this[_0x105a12(0xdf)]=_0x4a8b33;}[a1_0x4a83f8(0x15d)](){const _0x28bb6e=a1_0x4a83f8,_0x299759={};_0x299759[_0x28bb6e(0x1a4)]=function(_0x2e1705,_0x3c37fb){return _0x2e1705+_0x3c37fb;},_0x299759['loRyO']=_0x28bb6e(0x1f0),_0x299759[_0x28bb6e(0x256)]=function(_0x566391,_0x350133){return _0x566391-_0x350133;};const _0x5cc5ad=_0x299759,_0x12d049=global_registry[_0x28bb6e(0x8d)][_0x28bb6e(0x161)]('-'),_0x1afce0=_0x5cc5ad['JveIr'](_0x5cc5ad[_0x28bb6e(0x11e)],_0x12d049[_0x5cc5ad[_0x28bb6e(0x256)](_0x12d049[_0x28bb6e(0x9e)],0x1)])['slice'](0x0,0x18);return _0x1afce0[_0x28bb6e(0xe9)]();}[a1_0x4a83f8(0xcd)](_0x1802ec){const _0x5cbfc1=a1_0x4a83f8,_0x3db15d={};_0x3db15d[_0x5cbfc1(0x10a)]=_0x5cbfc1(0x167);const _0xb884ba=_0x3db15d,_0x1f4719=_0xb884ba[_0x5cbfc1(0x10a)][_0x5cbfc1(0x161)]('|');let _0x262f69=0x0;while(!![]){switch(_0x1f4719[_0x262f69++]){case'0':this['setClients']();continue;case'1':global_registry[_0x5cbfc1(0x216)]=_0x1802ec[this[_0x5cbfc1(0xe5)]][_0x5cbfc1(0x1ea)];continue;case'2':global_registry[_0x5cbfc1(0x1a2)]=_0x1802ec[this['cloudProviderName']][_0x5cbfc1(0x24f)];continue;case'3':global_registry[_0x5cbfc1(0x81)]=_0x1802ec[this[_0x5cbfc1(0xe5)]]['tenantId'];continue;case'4':global_registry[_0x5cbfc1(0x192)]=_0x1802ec[this[_0x5cbfc1(0xe5)]][_0x5cbfc1(0xbe)];continue;case'5':global_registry[_0x5cbfc1(0x16f)]=_0x1802ec[this[_0x5cbfc1(0xe5)]][_0x5cbfc1(0xb7)];continue;}break;}}async['getUserInput'](_0x52745c,_0x4f4e0e){const _0x37391a=a1_0x4a83f8,_0x212c0c={'GcFjZ':_0x37391a(0x123),'ymekQ':_0x37391a(0x18c),'Wqwdt':'Enabling\x20Local\x20account\x20for\x20the\x20cluster','mzIim':_0x37391a(0x115),'MPgxh':function(_0x44276b,_0x4ba4f1){return _0x44276b===_0x4ba4f1;},'BLuqD':function(_0x5eabd0,_0x4b56af){return _0x5eabd0(_0x4b56af);},'xCHML':function(_0x24295c,_0x4998bd){return _0x24295c(_0x4998bd);},'JyNDQ':function(_0x611a9c,_0xf6cf12){return _0x611a9c(_0xf6cf12);},'bvBDt':function(_0x1babf6,_0x442f02){return _0x1babf6===_0x442f02;},'WAxJs':function(_0x19ef98,_0x3a9161){return _0x19ef98!==_0x3a9161;},'ZhfUW':_0x37391a(0x21e),'VUKNN':_0x37391a(0x189),'TTJvg':function(_0x49ba17,_0x360af4){return _0x49ba17(_0x360af4);},'kJXeG':function(_0x4cc7e3,_0x254f05){return _0x4cc7e3===_0x254f05;},'rEbKc':_0x37391a(0x140),'EiDWv':function(_0x592eb8,_0x1d5d3a){return _0x592eb8===_0x1d5d3a;},'MbFvZ':function(_0x4992c9,_0x39f0da){return _0x4992c9===_0x39f0da;},'RrSFP':function(_0x15300f,_0x46e35e){return _0x15300f===_0x46e35e;},'eykft':function(_0x267420,_0x7fe677){return _0x267420===_0x7fe677;},'Wxpak':'ilVTH','CfMeX':function(_0xbd3b49,_0x1cd13d){return _0xbd3b49===_0x1cd13d;},'jZdlo':function(_0x28c728,_0x163caa){return _0x28c728===_0x163caa;},'CyqUO':_0x37391a(0xba),'Fpoqq':function(_0x55daa7,_0x386212){return _0x55daa7===_0x386212;},'lbsoC':'tGQok','MzlBS':function(_0x3b3bc8,_0x24ad3f){return _0x3b3bc8<_0x24ad3f;},'Hpqko':function(_0x3cc719,_0x3b4319){return _0x3cc719!==_0x3b4319;},'dbOiA':_0x37391a(0x8e),'EgLRt':function(_0x53d09e,_0x2a1071){return _0x53d09e+_0x2a1071;},'bIocH':_0x37391a(0x209),'BstDZ':function(_0x439d09,_0x1c1de0){return _0x439d09(_0x1c1de0);},'GdyNR':function(_0x3a1c19,_0x2c7ec9){return _0x3a1c19<=_0x2c7ec9;},'KNpbD':function(_0x5eef47,_0x3b928b){return _0x5eef47>_0x3b928b;},'ItFok':function(_0x585818,_0x131129){return _0x585818!==_0x131129;},'Kckgk':'HAZRw','dOzFo':'XBUFA','yhXQK':function(_0x14349e,_0x5633d9){return _0x14349e-_0x5633d9;}},_0x57a208=this['cloudProviderName']['toUpperCase'](),_0x5cf136=await _0x212c0c[_0x37391a(0x23c)](_0x52745c,_0x57a208+_0x37391a(0x8a)),_0x26f382=await _0x212c0c[_0x37391a(0x1d8)](_0x52745c,_0x57a208+_0x37391a(0x113)),_0xf4361a=await _0x212c0c['xCHML'](_0x52745c,_0x57a208+_0x37391a(0x22e)),_0xffa6f2=await _0x212c0c[_0x37391a(0xd3)](_0x52745c,_0x57a208+_0x37391a(0x110));global_registry[_0x37391a(0x1a2)]=_0x5cf136,global_registry[_0x37391a(0x192)]=_0x26f382,global_registry[_0x37391a(0x81)]=_0xf4361a,global_registry[_0x37391a(0x216)]=_0xffa6f2,this['setClients']();const _0x2c798e=await this['getResourceGroups'](),_0x4b33af=_0x2c798e[_0x37391a(0x9e)];let _0x4f77fb;if(_0x212c0c[_0x37391a(0x23e)](_0x4b33af,0x0)){if(_0x212c0c[_0x37391a(0x15f)](_0x212c0c[_0x37391a(0xc5)],_0x212c0c[_0x37391a(0x23a)]))_0x4f77fb=await _0x212c0c['TTJvg'](_0x52745c,_0x57a208+_0x37391a(0x19d));else{const _0x208a9e=_0x212c0c[_0x37391a(0x1ba)][_0x37391a(0x161)]('|');let _0x4820ca=0x0;while(!![]){switch(_0x208a9e[_0x4820ca++]){case'0':_0x5c2136[_0x37391a(0x1a2)]=_0x59c7ab[this[_0x37391a(0xe5)]][_0x37391a(0x24f)];continue;case'1':_0x1a4590[_0x37391a(0x216)]=_0x55bea5[this[_0x37391a(0xe5)]]['subscriptionId'];continue;case'2':_0x5bbbc6[_0x37391a(0x81)]=_0x586657[this[_0x37391a(0xe5)]][_0x37391a(0x1e9)];continue;case'3':this[_0x37391a(0x198)]();continue;case'4':_0x474545['cloudProviderResourceGroup']=_0x32534b[this[_0x37391a(0xe5)]]['resourceGroup'];continue;case'5':_0x20189a[_0x37391a(0x192)]=_0x45b55f[this[_0x37391a(0xe5)]][_0x37391a(0xbe)];continue;}break;}}}else{if(_0x212c0c[_0x37391a(0x23e)](_0x4b33af,0x1)){if(_0x212c0c[_0x37391a(0xc0)](_0x212c0c[_0x37391a(0x94)],_0x212c0c[_0x37391a(0x94)])){const _0x2d9109=await _0x212c0c[_0x37391a(0xdb)](_0x52745c,'Found\x20only\x20one\x20resource\x20group:\x20'+_0x2c798e[0x0]+_0x37391a(0x217));if(_0x212c0c[_0x37391a(0x197)](_0x2d9109,undefined)||_0x212c0c[_0x37391a(0x197)](_0x2d9109,null)||!(_0x212c0c[_0x37391a(0xd4)](_0x2d9109['toLowerCase'](),'y')||_0x212c0c[_0x37391a(0x18a)](_0x2d9109[_0x37391a(0xe9)](),'n'))){if(_0x212c0c[_0x37391a(0xcb)](_0x212c0c[_0x37391a(0xde)],_0x212c0c[_0x37391a(0xde)]))console[_0x37391a(0x101)](_0x212c0c[_0x37391a(0xf1)]),process['exit'](0x1);else{_0x482c9e['info'](_0x212c0c[_0x37391a(0x241)]);const _0x56af25={};_0x56af25[_0x37391a(0x1d2)]=_0x45bd58[_0x37391a(0xd5)],_0x56af25[_0x37391a(0x96)]=_0x212c0c[_0x37391a(0x241)],this[_0x37391a(0xfa)][_0x37391a(0x248)](this[_0x37391a(0x1af)],_0x56af25),_0x4aec2d[_0x37391a(0x1ac)][_0x37391a(0x18f)]=!![];}}if(_0x212c0c[_0x37391a(0x12a)](_0x2d9109[_0x37391a(0xe9)](),'n')){if(_0x212c0c['jZdlo'](_0x212c0c[_0x37391a(0x1b5)],_0x212c0c[_0x37391a(0x1b5)]))process[_0x37391a(0x1bb)](0x0);else{_0x2b2af1[_0x37391a(0x1d4)](_0x212c0c[_0x37391a(0x13f)]);const _0x3a2e2a={};_0x3a2e2a[_0x37391a(0x1d2)]=_0x121c24[_0x37391a(0xd5)],_0x3a2e2a[_0x37391a(0x96)]=_0x212c0c['Wqwdt'],this[_0x37391a(0xfa)][_0x37391a(0x248)](this['rws'],_0x3a2e2a),_0x18fe9e[_0x37391a(0x184)]=![];}}_0x4f77fb=_0x2c798e[0x0];}else _0x38e654['vpcInfo'][_0x37391a(0x20f)](_0x257afb);}else{if(_0x212c0c[_0x37391a(0x199)](_0x212c0c[_0x37391a(0x24d)],_0x212c0c[_0x37391a(0x24d)])){for(let _0x524c2f=0x0;_0x212c0c[_0x37391a(0x1b4)](_0x524c2f,_0x2c798e['length']);_0x524c2f+=0x1){if(_0x212c0c[_0x37391a(0x1ee)](_0x212c0c[_0x37391a(0x1d0)],_0x212c0c[_0x37391a(0x1d0)]))return _0x5e2546[_0x37391a(0x101)](_0x37391a(0xa3)+_0x58888b+_0x37391a(0x1b1)+_0x123474),[![],[]];else console[_0x37391a(0xed)]('['+_0x212c0c['EgLRt'](_0x524c2f,0x1)+']\x20'+_0x2c798e[_0x524c2f]);}const _0x29d752=await _0x212c0c['TTJvg'](_0x52745c,_0x212c0c['bIocH']),_0x194d83=_0x212c0c['BstDZ'](Number,_0x29d752);(_0x212c0c[_0x37391a(0xd3)](isNaN,_0x194d83)||_0x212c0c[_0x37391a(0x19c)](_0x194d83,0x0)||_0x212c0c[_0x37391a(0xc1)](_0x194d83,_0x4b33af))&&(_0x212c0c[_0x37391a(0xda)](_0x212c0c[_0x37391a(0x218)],_0x212c0c[_0x37391a(0x1f2)])?(console[_0x37391a(0x101)](_0x212c0c[_0x37391a(0xf1)]),process['exit'](0x1)):(_0x143af8['error'](_0x212c0c[_0x37391a(0xf1)]),_0x158c6a['exit'](0x1))),_0x4f77fb=_0x2c798e[_0x212c0c[_0x37391a(0x194)](_0x194d83,0x1)];}else{if(_0x212c0c[_0x37391a(0x10d)](_0x472fcd['name'],_0x555696))return!![];}}}global_registry[_0x37391a(0x16f)]=_0x4f77fb;const _0x4ba19e={};return _0x4ba19e[_0x37391a(0x24f)]=_0x5cf136,_0x4ba19e['clientSecret']=_0x26f382,_0x4ba19e[_0x37391a(0x1e9)]=_0xf4361a,_0x4ba19e[_0x37391a(0x1ea)]=_0xffa6f2,_0x4ba19e[_0x37391a(0xb7)]=_0x4f77fb,_0x4f4e0e[_0x37391a(0x22f)][AZURE]=_0x4ba19e,_0x4f4e0e;}async[a1_0x4a83f8(0x259)](){const _0x584b88=a1_0x4a83f8,_0x3859c5={};_0x3859c5[_0x584b88(0x21a)]=_0x584b88(0x255),_0x3859c5[_0x584b88(0x129)]='Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.',_0x3859c5[_0x584b88(0x9a)]=_0x584b88(0x223),_0x3859c5[_0x584b88(0x1dc)]=_0x584b88(0x17d),_0x3859c5[_0x584b88(0x78)]=function(_0x331425,_0x1b418e){return _0x331425===_0x1b418e;},_0x3859c5['CSjMC']=_0x584b88(0x89),_0x3859c5[_0x584b88(0xf7)]=function(_0x8912c8,_0x1b2dad){return _0x8912c8!==_0x1b2dad;},_0x3859c5[_0x584b88(0x9c)]=_0x584b88(0xc9),_0x3859c5[_0x584b88(0x1e5)]='dJYRy';const _0x3439d9=_0x3859c5,_0x1ba978=[];try{if(_0x3439d9[_0x584b88(0x78)](_0x3439d9[_0x584b88(0x238)],_0x3439d9[_0x584b88(0x238)])){const _0x2f5fc1=await this[_0x584b88(0x90)][_0x584b88(0x180)][_0x584b88(0x13c)]();for await(const _0x2d5c10 of _0x2f5fc1){if(_0x3439d9['WyOOI'](_0x3439d9[_0x584b88(0x9c)],_0x3439d9['ukdji']))_0x1ba978[_0x584b88(0x20f)](_0x2d5c10[_0x584b88(0x7f)]);else{const _0xcd17e3={};_0xcd17e3[_0x584b88(0x1d2)]=_0x3439d9[_0x584b88(0x21a)],_0xcd17e3[_0x584b88(0xe6)]={},_0xcd17e3[_0x584b88(0xe6)][_0x584b88(0x13e)]=_0x3439d9[_0x584b88(0x129)];const _0x31abba={};_0x31abba[_0x584b88(0x1d2)]=_0x3439d9[_0x584b88(0x21a)],_0x31abba[_0x584b88(0xe6)]={},_0x31abba[_0x584b88(0xe6)][_0x584b88(0x13e)]=_0x3439d9[_0x584b88(0x129)];const _0x42333a={..._0x426ddd['parameters']};_0x42333a[_0x584b88(0x181)]=_0xcd17e3,_0x42333a['subnetName']=_0x31abba,_0x351403[_0x584b88(0xe3)]=_0x42333a;const _0x292cdd={};_0x292cdd[_0x584b88(0x106)]=_0x3439d9['cKmyr'],_0x5723ee[_0x584b88(0x14a)]=_0x292cdd;const _0x3d729b={..._0x13b408['resources'][0x0][_0x584b88(0x188)]['agentPoolProfiles'][0x0]};_0x3d729b[_0x584b88(0x106)]=_0x3439d9[_0x584b88(0x1dc)],_0x406590[_0x584b88(0x1cc)][0x0]['properties']['agentPoolProfiles'][0x0]=_0x3d729b;const _0x4e3da6={};_0x4e3da6[_0x584b88(0x12e)]=_0x37d7af;const _0x3eef3b={};_0x3eef3b[_0x584b88(0x12e)]=_0x1f167c[0x0];const _0x233360={..._0x3f27dd};_0x233360[_0x584b88(0x181)]=_0x4e3da6,_0x233360[_0x584b88(0x8f)]=_0x3eef3b,_0x513db1=_0x233360;}}}else _0x3369d9[_0x584b88(0x20f)](_0x1d02f3);}catch(_0x435065){}return _0x1ba978;}async[a1_0x4a83f8(0x246)](){const _0x4e93b9=a1_0x4a83f8;return this[_0x4e93b9(0x173)]=await this[_0x4e93b9(0x193)]['managedClusters'][_0x4e93b9(0x1c7)](global_registry[_0x4e93b9(0x16f)],this['clusterName']),this[_0x4e93b9(0x173)];}async['getKubeConfigData'](){const _0x38bdf0=a1_0x4a83f8,_0x491520=await this[_0x38bdf0(0x193)]['managedClusters'][_0x38bdf0(0xf8)](global_registry[_0x38bdf0(0x16f)],this[_0x38bdf0(0x154)]),_0x4ac332=_0x491520[_0x38bdf0(0x7d)][0x0]['value'][_0x38bdf0(0x102)]();return _0x4ac332;}[a1_0x4a83f8(0x72)](_0x25f92c){const _0x10012f=a1_0x4a83f8;return _0x25f92c[_0x10012f(0x9b)][_0x10012f(0xd8)][_0x10012f(0x25d)][0x0][_0x10012f(0x1db)];}async[a1_0x4a83f8(0x22c)](){const _0x59068d=a1_0x4a83f8,_0x3b549b={'QGofA':function(_0x33d7af,_0x557c9d){return _0x33d7af+_0x557c9d;},'bttIc':function(_0xd24908,_0x284c7e,_0x4f138e){return _0xd24908(_0x284c7e,_0x4f138e);},'rZsNa':_0x59068d(0x118),'rEmEe':_0x59068d(0xdc),'PlkFE':function(_0x1a4a2a,_0xad015b){return _0x1a4a2a===_0xad015b;},'SmBVJ':_0x59068d(0xc4),'bRbsG':_0x59068d(0x229),'LnSpC':function(_0x3ea72b,_0x46bcc6){return _0x3ea72b===_0x46bcc6;},'KnbJh':_0x59068d(0x233),'FlRwO':_0x59068d(0x1bc),'dnFhA':function(_0x5dcb51,_0x53197c){return _0x5dcb51!==_0x53197c;},'NVLeb':_0x59068d(0xf2),'XRjSQ':'hyFPd'},_0x536659=new Array();for await(const _0x57c8c2 of this['containerClient'][_0x59068d(0x148)]['listByResourceGroup'](global_registry[_0x59068d(0x16f)])){_0x3b549b['PlkFE'](_0x3b549b['SmBVJ'],_0x3b549b[_0x59068d(0x108)])?_0x4f9719[_0x59068d(0xed)]('['+_0x3b549b['QGofA'](_0x8b5cd2,0x1)+']\x20'+_0x520a7c[_0x32e68d]):_0x536659['push'](_0x57c8c2);}for await(const _0x28966a of _0x536659){if(_0x3b549b[_0x59068d(0x243)](_0x3b549b[_0x59068d(0xa6)],_0x3b549b[_0x59068d(0x11a)]))_0x3b549b[_0x59068d(0x187)](_0x3bac86,()=>_0x166d72(),0x3e8);else{if(_0x3b549b[_0x59068d(0x1c4)](_0x28966a[_0x59068d(0x7f)],this['clusterName'])){if(_0x3b549b[_0x59068d(0x19e)](_0x3b549b[_0x59068d(0x137)],_0x3b549b[_0x59068d(0x12f)]))return await this[_0x59068d(0x246)](),!![];else{const _0x1e27d4=_0x4184a2['includes'](_0x2f64ad);_0x28a171+='\x0a\x09'+_0x20aa67+':\x20'+(_0x1e27d4?_0x3b549b[_0x59068d(0x21c)]:_0x3b549b[_0x59068d(0x1d1)]),!_0x1e27d4&&(_0x5c1e94[_0x59068d(0x9b)]=![]);}}}}return![];}async[a1_0x4a83f8(0x1a1)](_0x15e43f=null,_0x36ee6e=null){const _0x5a7044=a1_0x4a83f8,_0x4b681a={};_0x4b681a[_0x5a7044(0xae)]='1|2|0|3|5|4',_0x4b681a[_0x5a7044(0x126)]=_0x5a7044(0x204);const _0xcb11a3=_0x4b681a,_0x5385c2=_0xcb11a3['CTsos'][_0x5a7044(0x161)]('|');let _0x1044c6=0x0;while(!![]){switch(_0x5385c2[_0x1044c6++]){case'0':logger[_0x5a7044(0x1d4)](_0xcb11a3[_0x5a7044(0x126)]);continue;case'1':this[_0x5a7044(0x1fb)]();continue;case'2':const _0x517ba6={};_0x517ba6[_0x5a7044(0x1d2)]=WS_EVENTS[_0x5a7044(0xe8)],_0x517ba6['message']=_0xcb11a3[_0x5a7044(0x126)],this['webSocketUtils'][_0x5a7044(0x248)](this['rws'],_0x517ba6);continue;case'3':await this[_0x5a7044(0x24e)](_0x15e43f,_0x36ee6e);continue;case'4':return[_0x15e43f,_0x36ee6e];case'5':await this[_0x5a7044(0x13d)]();continue;}break;}}async[a1_0x4a83f8(0x24e)](_0x4db2a1=null,_0x3f42ac=null){const _0x55e1c3=a1_0x4a83f8,_0x3b8dd5={};_0x3b8dd5[_0x55e1c3(0x14e)]=_0x55e1c3(0xfe),_0x3b8dd5[_0x55e1c3(0xb4)]=_0x55e1c3(0x25e),_0x3b8dd5[_0x55e1c3(0x235)]=_0x55e1c3(0x205),_0x3b8dd5['cnLgg']=_0x55e1c3(0xf4),_0x3b8dd5[_0x55e1c3(0x258)]=function(_0x8f2131,_0x5eb99c){return _0x8f2131!==_0x5eb99c;},_0x3b8dd5[_0x55e1c3(0x165)]=function(_0x522d52,_0x5b78ff){return _0x522d52!==_0x5b78ff;},_0x3b8dd5[_0x55e1c3(0x159)]=_0x55e1c3(0x16e),_0x3b8dd5[_0x55e1c3(0x156)]=_0x55e1c3(0x19b),_0x3b8dd5[_0x55e1c3(0x11c)]=_0x55e1c3(0x255),_0x3b8dd5[_0x55e1c3(0x95)]=_0x55e1c3(0x16c),_0x3b8dd5[_0x55e1c3(0x162)]=_0x55e1c3(0x223),_0x3b8dd5[_0x55e1c3(0x111)]=_0x55e1c3(0x17d),_0x3b8dd5[_0x55e1c3(0x16d)]='turboscale-cluster-deployment',_0x3b8dd5[_0x55e1c3(0x257)]=_0x55e1c3(0x100);const _0x292629=_0x3b8dd5;let _0x53bd00=await fs[_0x55e1c3(0xe0)](path[_0x55e1c3(0x1d3)](__dirname,'..',_0x292629['MpYFn'],_0x292629['jPtBU'],_0x292629[_0x55e1c3(0x235)]),_0x292629[_0x55e1c3(0x1a0)]);_0x53bd00=JSON[_0x55e1c3(0x169)](_0x53bd00);const _0x346997={};_0x346997[_0x55e1c3(0x12e)]=this[_0x55e1c3(0x154)];const _0x5e44a6={};_0x5e44a6[_0x55e1c3(0x12e)]=global_registry['clusterRegion'];const _0xb16132={};_0xb16132[_0x55e1c3(0x12e)]=global_registry['instanceType'];const _0x16e9f4={};_0x16e9f4[_0x55e1c3(0x12e)]=global_registry['maxNodes'];const _0xb3ffa8={};_0xb3ffa8['clusterName']=_0x346997,_0xb3ffa8[_0x55e1c3(0xf3)]=_0x5e44a6,_0xb3ffa8[_0x55e1c3(0x21d)]=_0xb16132,_0xb3ffa8['userMaxNodes']=_0x16e9f4;let _0x558f40=_0xb3ffa8;if(_0x292629[_0x55e1c3(0x258)](_0x4db2a1,null)&&_0x292629[_0x55e1c3(0x165)](_0x3f42ac,null)){if(_0x292629['ZEKQa'](_0x292629[_0x55e1c3(0x159)],_0x292629[_0x55e1c3(0x156)])){const _0x3c55fd={};_0x3c55fd[_0x55e1c3(0x1d2)]=_0x292629[_0x55e1c3(0x11c)],_0x3c55fd[_0x55e1c3(0xe6)]={},_0x3c55fd[_0x55e1c3(0xe6)][_0x55e1c3(0x13e)]=_0x292629[_0x55e1c3(0x95)];const _0x372da7={};_0x372da7['type']=_0x292629[_0x55e1c3(0x11c)],_0x372da7[_0x55e1c3(0xe6)]={},_0x372da7[_0x55e1c3(0xe6)][_0x55e1c3(0x13e)]=_0x292629[_0x55e1c3(0x95)],_0x53bd00['parameters']={..._0x53bd00['parameters'],'vpcName':_0x3c55fd,'subnetName':_0x372da7};const _0x247d8f={};_0x247d8f[_0x55e1c3(0x106)]=_0x292629[_0x55e1c3(0x162)],_0x53bd00[_0x55e1c3(0x14a)]=_0x247d8f,_0x53bd00[_0x55e1c3(0x1cc)][0x0][_0x55e1c3(0x188)][_0x55e1c3(0x179)][0x0]={..._0x53bd00[_0x55e1c3(0x1cc)][0x0][_0x55e1c3(0x188)][_0x55e1c3(0x179)][0x0],'vnetSubnetID':_0x292629[_0x55e1c3(0x111)]};const _0x130c48={};_0x130c48[_0x55e1c3(0x12e)]=_0x4db2a1;const _0x801bfb={};_0x801bfb[_0x55e1c3(0x12e)]=_0x3f42ac[0x0],_0x558f40={..._0x558f40,'vpcName':_0x130c48,'subnetName':_0x801bfb};}else _0x63e891[_0x55e1c3(0x101)]=_0xc7a1a5;}await this[_0x55e1c3(0x90)][_0x55e1c3(0x237)][_0x55e1c3(0x206)](global_registry[_0x55e1c3(0x16f)],_0x292629[_0x55e1c3(0x16d)],{'properties':{'template':_0x53bd00,'mode':_0x292629[_0x55e1c3(0x257)],'parameters':_0x558f40}});}async[a1_0x4a83f8(0x13d)](){const _0x208648=a1_0x4a83f8,_0x24a9cf={};_0x24a9cf[_0x208648(0x25c)]=_0x208648(0xd9),_0x24a9cf[_0x208648(0x1dd)]=_0x208648(0xa0),_0x24a9cf['dUzfM']=function(_0x1cbe0a,_0x2a30a8){return _0x1cbe0a!==_0x2a30a8;},_0x24a9cf[_0x208648(0x215)]=_0x208648(0x127),_0x24a9cf[_0x208648(0x234)]=_0x208648(0x13a),_0x24a9cf['EmkNC']=_0x208648(0x1c1),_0x24a9cf['vTUBJ']=_0x208648(0x158),_0x24a9cf[_0x208648(0x1c3)]=_0x208648(0x1d6),_0x24a9cf[_0x208648(0x214)]=function(_0x1677e4,_0xa71d02){return _0x1677e4===_0xa71d02;},_0x24a9cf[_0x208648(0x73)]=_0x208648(0xd6),_0x24a9cf['WnoxF']='Creating\x20Azure\x20managed\x20identity',_0x24a9cf[_0x208648(0x138)]=function(_0x25374f,_0x464346){return _0x25374f!==_0x464346;},_0x24a9cf['WXkln']=_0x208648(0x25a),_0x24a9cf[_0x208648(0x1cb)]=_0x208648(0x20e),_0x24a9cf[_0x208648(0x83)]=_0x208648(0xb1);const _0x1f50ca=_0x24a9cf,_0x5e8bc9=await this[_0x208648(0x145)]();if(!_0x5e8bc9){if(_0x1f50ca['dUzfM'](_0x1f50ca[_0x208648(0x215)],_0x1f50ca['RCHoQ'])){const _0x5266eb={};_0x5266eb[_0x208648(0x1d2)]=WS_EVENTS[_0x208648(0xe8)],_0x5266eb['message']=_0x1f50ca[_0x208648(0x1eb)],this[_0x208648(0xfa)]['sendEventToBackend'](this[_0x208648(0x1af)],_0x5266eb),logger[_0x208648(0x1d4)](_0x1f50ca[_0x208648(0x1eb)]),await this[_0x208648(0x112)]();}else return!![];}else _0x1f50ca['dUzfM'](_0x1f50ca[_0x208648(0x244)],_0x1f50ca['KAaYf'])?logger['info'](_0x1f50ca[_0x208648(0x25c)]):_0x371ba2['push'](_0x32fc68);const _0x2a034f=await this[_0x208648(0xce)]();if(!_0x2a034f){if(_0x1f50ca[_0x208648(0x214)](_0x1f50ca[_0x208648(0x73)],_0x1f50ca[_0x208648(0x73)])){const _0x3eb6e3={};_0x3eb6e3['type']=WS_EVENTS[_0x208648(0xe8)],_0x3eb6e3[_0x208648(0x96)]=_0x1f50ca[_0x208648(0x228)],this[_0x208648(0xfa)]['sendEventToBackend'](this[_0x208648(0x1af)],_0x3eb6e3),logger[_0x208648(0x1d4)](_0x1f50ca['WnoxF']),await this[_0x208648(0x1ce)]();}else _0x430ad2[_0x208648(0x1d4)](_0x1f50ca[_0x208648(0x25c)]);}else _0x1f50ca['ZDpZj'](_0x1f50ca[_0x208648(0x1b3)],_0x1f50ca[_0x208648(0x1b3)])?_0x4c08b3[_0x208648(0x1d4)](_0x1f50ca['ebtAc']):logger[_0x208648(0x1d4)](_0x1f50ca[_0x208648(0x1dd)]);logger[_0x208648(0x1d4)](_0x1f50ca['KTqek']),await this['createFederatedAccount'](),logger[_0x208648(0x1d4)](_0x1f50ca[_0x208648(0x83)]);}async['createStorageAccount'](){const _0x516fc8=a1_0x4a83f8,_0x46693a={};_0x46693a[_0x516fc8(0x1e3)]='templates',_0x46693a[_0x516fc8(0x157)]=_0x516fc8(0x25e),_0x46693a[_0x516fc8(0x251)]='storageaccount.json',_0x46693a[_0x516fc8(0x11b)]='utf-8',_0x46693a[_0x516fc8(0xac)]=_0x516fc8(0x174),_0x46693a['eOLfQ']='Incremental',_0x46693a['jUHhf']='Blob\x20delete\x20lifecycle',_0x46693a[_0x516fc8(0x172)]=_0x516fc8(0x14b),_0x46693a[_0x516fc8(0xb5)]=_0x516fc8(0x15e),_0x46693a[_0x516fc8(0x254)]=_0x516fc8(0x84);const _0x369a2f=_0x46693a;let _0x2b55e4=await fs['readFileAsync'](path[_0x516fc8(0x1d3)](__dirname,'..',_0x369a2f[_0x516fc8(0x1e3)],_0x369a2f['mZBXq'],_0x369a2f[_0x516fc8(0x251)]),_0x369a2f[_0x516fc8(0x11b)]);_0x2b55e4=JSON[_0x516fc8(0x169)](_0x2b55e4);const _0x3b1a50=this[_0x516fc8(0x15d)](),_0x46a60d={};_0x46a60d[_0x516fc8(0x12e)]=_0x3b1a50;const _0x1393ea={};_0x1393ea['storageAccountName']=_0x46a60d,await this[_0x516fc8(0x90)][_0x516fc8(0x237)][_0x516fc8(0x206)](global_registry['cloudProviderResourceGroup'],_0x369a2f[_0x516fc8(0xac)],{'properties':{'template':_0x2b55e4,'mode':_0x369a2f[_0x516fc8(0x7a)],'parameters':_0x1393ea}});const _0x23acd8={};_0x23acd8['daysAfterCreationGreaterThan']=0x3c;const _0x1793ce={};_0x1793ce[_0x516fc8(0x1a5)]=_0x23acd8;const _0x114ad7={};_0x114ad7['baseBlob']=_0x1793ce;const _0x4f203e={};_0x4f203e[_0x516fc8(0x18f)]=!![],_0x4f203e[_0x516fc8(0x7f)]=_0x369a2f[_0x516fc8(0xe7)],_0x4f203e[_0x516fc8(0x1d2)]=_0x369a2f['apbPp'],_0x4f203e[_0x516fc8(0x202)]={},_0x4f203e[_0x516fc8(0x202)]['actions']=_0x114ad7,_0x4f203e[_0x516fc8(0x202)][_0x516fc8(0x23b)]={},_0x4f203e[_0x516fc8(0x202)][_0x516fc8(0x23b)][_0x516fc8(0x152)]=[_0x369a2f[_0x516fc8(0xb5)]];const _0x485a2e={};_0x485a2e[_0x516fc8(0x1ed)]=[_0x4f203e];const _0x3c1256={};_0x3c1256[_0x516fc8(0x1f7)]=_0x485a2e;const _0x363014=_0x3c1256;await this[_0x516fc8(0x10f)][_0x516fc8(0xa7)]['createOrUpdate'](global_registry['cloudProviderResourceGroup'],_0x3b1a50,_0x369a2f[_0x516fc8(0x254)],_0x363014);}async[a1_0x4a83f8(0x1ce)](){const _0xadf6a1=a1_0x4a83f8,_0x48cbb3={};_0x48cbb3[_0xadf6a1(0x1f3)]=_0xadf6a1(0xfe),_0x48cbb3[_0xadf6a1(0x131)]=_0xadf6a1(0x25e),_0x48cbb3[_0xadf6a1(0xe1)]=_0xadf6a1(0xf0),_0x48cbb3['UYphX']='utf-8',_0x48cbb3[_0xadf6a1(0x1aa)]=_0xadf6a1(0x147),_0x48cbb3[_0xadf6a1(0xff)]=_0xadf6a1(0x100);const _0x35a3a9=_0x48cbb3;let _0x119460=await fs[_0xadf6a1(0xe0)](path[_0xadf6a1(0x1d3)](__dirname,'..',_0x35a3a9[_0xadf6a1(0x1f3)],_0x35a3a9[_0xadf6a1(0x131)],_0x35a3a9['uUTnE']),_0x35a3a9[_0xadf6a1(0x20d)]);_0x119460=JSON[_0xadf6a1(0x169)](_0x119460),await this[_0xadf6a1(0x90)][_0xadf6a1(0x237)]['beginCreateOrUpdateAndWait'](global_registry[_0xadf6a1(0x16f)],_0x35a3a9[_0xadf6a1(0x1aa)],{'properties':{'template':_0x119460,'mode':_0x35a3a9[_0xadf6a1(0xff)],'parameters':{'clusterName':{'value':this[_0xadf6a1(0x154)]}}}});}async['createFederatedAccount'](){const _0x3a12e8=a1_0x4a83f8,_0x38e3f3={};_0x38e3f3[_0x3a12e8(0x247)]='No\x20CLI\x20tool\x20required',_0x38e3f3[_0x3a12e8(0x149)]=function(_0x380efa,_0x3ac186){return _0x380efa===_0x3ac186;},_0x38e3f3[_0x3a12e8(0x1e4)]=_0x3a12e8(0xca),_0x38e3f3[_0x3a12e8(0x1fc)]=_0x3a12e8(0x22a),_0x38e3f3['eNjhC']=_0x3a12e8(0x1da),_0x38e3f3['dzfIN']=_0x3a12e8(0x23f),_0x38e3f3[_0x3a12e8(0x1f6)]='templates',_0x38e3f3[_0x3a12e8(0x1e8)]=_0x3a12e8(0x25e),_0x38e3f3['cHHCQ']=_0x3a12e8(0xf4),_0x38e3f3[_0x3a12e8(0x22d)]=_0x3a12e8(0x24c),_0x38e3f3[_0x3a12e8(0xab)]=_0x3a12e8(0x100);const _0x21bcce=_0x38e3f3;if(!this[_0x3a12e8(0x173)]){if(_0x21bcce['hDEOH'](_0x21bcce['FxoiQ'],_0x21bcce[_0x3a12e8(0x1e4)]))await this[_0x3a12e8(0x246)]();else return;}const _0x3b71dd=this[_0x3a12e8(0x173)]?.[_0x3a12e8(0x1ac)]?.[_0x3a12e8(0x1a3)],_0x33e6d3=[_0x21bcce['hjnhi'],_0x21bcce[_0x3a12e8(0x20b)]];for await(const _0x15811a of _0x33e6d3){if(_0x21bcce[_0x3a12e8(0x149)](_0x21bcce['dzfIN'],_0x21bcce['dzfIN'])){let _0x1d9c56=await fs['readFileAsync'](path[_0x3a12e8(0x1d3)](__dirname,'..',_0x21bcce['HDTFk'],_0x21bcce[_0x3a12e8(0x1e8)],_0x3a12e8(0x1e7)+_0x15811a+_0x3a12e8(0x1c9)),_0x21bcce['cHHCQ']);_0x1d9c56=JSON[_0x3a12e8(0x169)](_0x1d9c56);const _0x430761={};_0x430761[_0x3a12e8(0x12e)]=_0x3b71dd,await this[_0x3a12e8(0x90)][_0x3a12e8(0x237)][_0x3a12e8(0x206)](global_registry[_0x3a12e8(0x16f)],_0x21bcce[_0x3a12e8(0x22d)],{'properties':{'template':_0x1d9c56,'mode':_0x21bcce[_0x3a12e8(0xab)],'parameters':{'oidcIssuer':_0x430761,'gridName':{'value':this[_0x3a12e8(0x1b6)]},'clusterName':{'value':this[_0x3a12e8(0x154)]}}}});}else{const _0xf1047f={};_0xf1047f[_0x3a12e8(0x9b)]=!![],_0xf1047f[_0x3a12e8(0x101)]=null,_0xf1047f[_0x3a12e8(0x1f9)]=_0x21bcce[_0x3a12e8(0x247)];const _0x39432d=_0xf1047f;return _0x39432d;}}}async[a1_0x4a83f8(0x1d9)](_0x55437d,_0x499826,_0x4deb2c,_0x4b741d,_0x17bf80){const _0x3240b7=a1_0x4a83f8,_0x416894={};_0x416894[_0x3240b7(0xdd)]=_0x3240b7(0xb8),_0x416894[_0x3240b7(0x125)]=_0x3240b7(0x99);const _0x23470b=_0x416894,_0x71207c={};_0x71207c[_0x3240b7(0x1d2)]=WS_EVENTS['LOG'],_0x71207c[_0x3240b7(0x96)]=_0x23470b[_0x3240b7(0xdd)],this[_0x3240b7(0xfa)][_0x3240b7(0x248)](this[_0x3240b7(0x1af)],_0x71207c),logger['info'](_0x23470b[_0x3240b7(0xdd)]),await this['createFederatedAccountForHubHA']();const _0x33c45c={};_0x33c45c['type']=WS_EVENTS[_0x3240b7(0xe8)],_0x33c45c[_0x3240b7(0x96)]=_0x23470b[_0x3240b7(0x125)],this['webSocketUtils'][_0x3240b7(0x248)](this['rws'],_0x33c45c);}async[a1_0x4a83f8(0xa9)](){const _0x1a0ead=a1_0x4a83f8,_0x2a69bb={};_0x2a69bb['TlEOO']=function(_0x3091a9,_0x4bc64e){return _0x3091a9===_0x4bc64e;},_0x2a69bb['Jnpvm']=function(_0x5d7bf5,_0x2bea6c){return _0x5d7bf5!==_0x2bea6c;},_0x2a69bb[_0x1a0ead(0x19f)]='GhBxK',_0x2a69bb['cKmTB']=_0x1a0ead(0xfe),_0x2a69bb[_0x1a0ead(0x141)]=_0x1a0ead(0xa1),_0x2a69bb[_0x1a0ead(0x11d)]=_0x1a0ead(0x208),_0x2a69bb[_0x1a0ead(0x1d7)]=_0x1a0ead(0xf4),_0x2a69bb[_0x1a0ead(0x195)]=_0x1a0ead(0x24c),_0x2a69bb[_0x1a0ead(0x245)]=_0x1a0ead(0x100);const _0x48dd7a=_0x2a69bb;if(!this[_0x1a0ead(0x173)]){if(_0x48dd7a[_0x1a0ead(0x116)](_0x48dd7a[_0x1a0ead(0x19f)],_0x48dd7a[_0x1a0ead(0x19f)])){if(_0x48dd7a[_0x1a0ead(0x8b)](_0x40418d['name'],_0x42e425))return!![];}else await this[_0x1a0ead(0x246)]();}const _0x3b2f70=this[_0x1a0ead(0x173)]?.[_0x1a0ead(0x1ac)]?.[_0x1a0ead(0x1a3)];let _0x53ccad=await fs[_0x1a0ead(0xe0)](path[_0x1a0ead(0x1d3)](__dirname,'..',_0x48dd7a['cKmTB'],_0x48dd7a[_0x1a0ead(0x141)],_0x48dd7a[_0x1a0ead(0x11d)]),_0x48dd7a['KPIzu']);_0x53ccad=JSON[_0x1a0ead(0x169)](_0x53ccad);const _0x38c0a8={};_0x38c0a8[_0x1a0ead(0x12e)]=_0x3b2f70,await this[_0x1a0ead(0x90)]['deployments'][_0x1a0ead(0x206)](global_registry[_0x1a0ead(0x16f)],_0x48dd7a['imBKw'],{'properties':{'template':_0x53ccad,'mode':_0x48dd7a[_0x1a0ead(0x245)],'parameters':{'oidcIssuer':_0x38c0a8,'namespace':{'value':global_registry[_0x1a0ead(0x1ef)]},'clusterName':{'value':this[_0x1a0ead(0x154)]}}}});}async['isStorageAccountPresent'](){const _0x52e1ba=a1_0x4a83f8,_0x4eeec4={};_0x4eeec4[_0x52e1ba(0x231)]=function(_0x4b651e,_0x513c84){return _0x4b651e!==_0x513c84;},_0x4eeec4[_0x52e1ba(0x164)]='feOxN',_0x4eeec4['OpXda']=function(_0x168c06,_0x166f7a){return _0x168c06!==_0x166f7a;},_0x4eeec4[_0x52e1ba(0x139)]=_0x52e1ba(0xc2),_0x4eeec4[_0x52e1ba(0x86)]=function(_0x324d57,_0xfe7e6){return _0x324d57===_0xfe7e6;},_0x4eeec4[_0x52e1ba(0xc7)]=_0x52e1ba(0x105);const _0x2c948a=_0x4eeec4,_0x26ddf4=this[_0x52e1ba(0x15d)](),_0x283232=new Array();for await(const _0x53290d of this[_0x52e1ba(0x10f)][_0x52e1ba(0x15b)][_0x52e1ba(0x171)](global_registry[_0x52e1ba(0x16f)])){if(_0x2c948a[_0x52e1ba(0x231)](_0x2c948a[_0x52e1ba(0x164)],_0x2c948a[_0x52e1ba(0x164)]))return _0x134adc['error']('[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20'+_0x191bc3+':'+_0x4fd3fc['stack']),{};else _0x283232[_0x52e1ba(0x20f)](_0x53290d);}for await(const _0x39ecd2 of _0x283232){if(_0x2c948a[_0x52e1ba(0x1fd)](_0x2c948a[_0x52e1ba(0x139)],_0x2c948a[_0x52e1ba(0x139)]))return!![];else{if(_0x2c948a[_0x52e1ba(0x86)](_0x39ecd2[_0x52e1ba(0x7f)],_0x26ddf4)){if(_0x2c948a[_0x52e1ba(0x1fd)](_0x2c948a[_0x52e1ba(0xc7)],_0x2c948a[_0x52e1ba(0xc7)]))_0x4191e0[_0x52e1ba(0x9b)]=![];else return!![];}}}return![];}async[a1_0x4a83f8(0xce)](){const _0x2699ca=a1_0x4a83f8,_0x127fb7={};_0x127fb7[_0x2699ca(0x9f)]=function(_0x1253eb,_0x70478b){return _0x1253eb===_0x70478b;},_0x127fb7[_0x2699ca(0x142)]=_0x2699ca(0xb3),_0x127fb7[_0x2699ca(0x11f)]=function(_0x4623a2,_0x321892){return _0x4623a2!==_0x321892;},_0x127fb7[_0x2699ca(0x1e6)]=_0x2699ca(0xfd),_0x127fb7[_0x2699ca(0x212)]=_0x2699ca(0x155),_0x127fb7['bICUQ']=function(_0x47e8db,_0x5df3b7){return _0x47e8db!==_0x5df3b7;},_0x127fb7['KLfYr']=_0x2699ca(0x133),_0x127fb7[_0x2699ca(0x1fe)]=function(_0x28044a,_0x112489){return _0x28044a===_0x112489;},_0x127fb7[_0x2699ca(0x1ae)]=function(_0x5a420c,_0xd515d2){return _0x5a420c===_0xd515d2;},_0x127fb7[_0x2699ca(0x121)]=_0x2699ca(0xa4),_0x127fb7[_0x2699ca(0x114)]='aJlKA';const _0x29b62=_0x127fb7,_0x5f4861=new Array();for await(const _0x1e3c7c of this['resourceClient'][_0x2699ca(0x1cc)][_0x2699ca(0x171)](global_registry[_0x2699ca(0x16f)])){_0x29b62[_0x2699ca(0x11f)](_0x29b62[_0x2699ca(0x1e6)],_0x29b62[_0x2699ca(0x212)])?_0x5f4861['push'](_0x1e3c7c):(_0x5f59fd+=_0x29b62[_0x2699ca(0x9f)](_0x526406[_0x2699ca(0x9e)],0x0)?_0x29b62[_0x2699ca(0x142)]:'',_0x706e93[_0x2699ca(0x98)]('Role\x20definition\x20response\x20list\x20\x20:\x20\x20'+_0x2b6a97[_0x2699ca(0x253)](_0x2733af)));}for await(const _0x3af81f of _0x5f4861){if(_0x29b62[_0x2699ca(0x14d)](_0x29b62[_0x2699ca(0xa2)],_0x29b62[_0x2699ca(0xa2)]))return!![];else{if(_0x29b62[_0x2699ca(0x1fe)](_0x3af81f[_0x2699ca(0x7f)],_0x2699ca(0x18b)+this['clusterName'])){if(_0x29b62[_0x2699ca(0x1ae)](_0x29b62['jTwfV'],_0x29b62[_0x2699ca(0x114)])){const _0x4f7b8a=new _0x34b5fb(_0x409b7b[_0x2699ca(0x81)],_0x2ddd55[_0x2699ca(0x1a2)],_0x2ae30c[_0x2699ca(0x192)]);this['containerClient']=new _0xcd8a91(_0x4f7b8a,_0x668993[_0x2699ca(0x216)]),this['storageClient']=new _0x2c3e82(_0x4f7b8a,_0x59a8cb[_0x2699ca(0x216)]),this[_0x2699ca(0x90)]=new _0x21ed3b(_0x4f7b8a,_0x8197c[_0x2699ca(0x216)]),this[_0x2699ca(0x23d)]=new _0x45ad6f(_0x4f7b8a,_0x5148fb[_0x2699ca(0x216)]),this[_0x2699ca(0x17e)]=new _0x5692a3(_0x4f7b8a,_0x459ce6[_0x2699ca(0x216)]),this['cred']=_0x4f7b8a;}else return!![];}}}return![];}async[a1_0x4a83f8(0xaa)](_0x55ffa8,_0x46018d=0x3){const _0x702331=a1_0x4a83f8,_0x4a8638={'TiHqJ':function(_0x5e97bb,_0x23ea20){return _0x5e97bb+_0x23ea20;},'WTHPR':_0x702331(0x1f0),'nsEak':function(_0x4bae86,_0x110978){return _0x4bae86-_0x110978;},'LfZbl':'Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','VhkMA':function(_0xed7c0a,_0x26220b){return _0xed7c0a===_0x26220b;},'RZArt':_0x702331(0x82),'EQNlX':_0x702331(0x14c),'ygOqD':function(_0x565e51,_0x34a44f,_0x372e4d){return _0x565e51(_0x34a44f,_0x372e4d);},'CWEsC':'No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','SizXl':function(_0x5df2ec,_0x1413df){return _0x5df2ec!==_0x1413df;},'NnnTW':_0x702331(0x8c),'azhCX':'zrMLp','VdaMt':_0x702331(0x168),'YtdsV':_0x702331(0x19a),'vTlFi':_0x702331(0x20a),'XNgap':_0x702331(0x7c),'aAloe':'rlayj','JKYFh':function(_0x4c44b7,_0x11c984){return _0x4c44b7<=_0x11c984;},'GshKo':function(_0x37b360,_0x3209da){return _0x37b360===_0x3209da;},'MdmSi':_0x702331(0x1e1)};try{if(_0x4a8638[_0x702331(0x1cf)](_0x4a8638[_0x702331(0x17f)],_0x4a8638[_0x702331(0x17f)]))return[!![],_0x1e1988];else{const _0x1f1329=new Array();for await(const _0x10a96a of this[_0x702331(0x90)][_0x702331(0x1cc)][_0x702331(0x171)](global_registry[_0x702331(0x16f)])){_0x4a8638[_0x702331(0x1cf)](_0x4a8638[_0x702331(0xe2)],_0x4a8638[_0x702331(0xe2)])?_0x6cd4de[_0x702331(0x20f)](_0x5d86a4):_0x1f1329[_0x702331(0x20f)](_0x10a96a);}let _0x4f644c='';for await(const _0x3ba9d4 of _0x1f1329){if(_0x4a8638[_0x702331(0x1ff)](_0x4a8638[_0x702331(0xfb)],_0x4a8638[_0x702331(0x9d)]))return _0x52b960[_0x702331(0x101)](_0x702331(0x227)+_0x4d7bf3+_0x702331(0xaf)+_0x3d5b07),![];else _0x4a8638[_0x702331(0x1ff)](_0x3ba9d4[_0x702331(0x7f)],_0x55ffa8)&&(_0x4a8638['VhkMA'](_0x4a8638['vTlFi'],_0x4a8638[_0x702331(0xb0)])?_0x4f644c=_0x3ba9d4['id']:_0x42a5e2['exit'](0x0));}const _0x669e8c=await this[_0x702331(0x90)][_0x702331(0x1cc)]['getById'](_0x4f644c,_0x4a8638[_0x702331(0x93)]);return _0x669e8c['properties'][_0x702331(0x24f)];}}catch(_0x190fc3){if(_0x4a8638[_0x702331(0x1ff)](_0x4a8638['aAloe'],_0x4a8638['aAloe'])){if(_0x4a8638['JKYFh'](_0x46018d,0x0)){if(_0x4a8638[_0x702331(0x230)](_0x4a8638[_0x702331(0x135)],_0x4a8638['MdmSi']))return logger[_0x702331(0x101)]('[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20'+_0x190fc3+':'+_0x190fc3['stack']),{};else{const _0x42ae2f=_0x3315a4['s3Bucket']['split']('-'),_0x56baf5=_0x4a8638[_0x702331(0x7e)](_0x4a8638[_0x702331(0x1f1)],_0x42ae2f[_0x4a8638[_0x702331(0xe4)](_0x42ae2f[_0x702331(0x9e)],0x1)])[_0x702331(0x1ad)](0x0,0x18);return _0x56baf5[_0x702331(0xe9)]();}}return await new Promise(_0x375e33=>{const _0x5c15dd=_0x702331;if(_0x4a8638[_0x5c15dd(0x1ff)](_0x4a8638['RZArt'],_0x4a8638[_0x5c15dd(0x196)])){_0x645374[_0x5c15dd(0x1d4)](_0x4a8638[_0x5c15dd(0x150)]);const _0x40cc92={};_0x40cc92['type']=_0x309881[_0x5c15dd(0xd5)],_0x40cc92[_0x5c15dd(0x96)]=_0x4a8638[_0x5c15dd(0x150)],this[_0x5c15dd(0xfa)][_0x5c15dd(0x248)](this['rws'],_0x40cc92);const _0x5b3ce7={};_0x5b3ce7[_0x5c15dd(0x18f)]=!![];const _0x51d133={'workloadIdentity':_0x5b3ce7,..._0x760fc4[_0x5c15dd(0x24a)]};_0x2adf0a[_0x5c15dd(0x24a)]=_0x51d133;}else _0x4a8638[_0x5c15dd(0xd2)](setTimeout,()=>_0x375e33(),0x3e8);}),this['getResourceClientId'](_0x55ffa8,_0x4a8638[_0x702331(0xe4)](_0x46018d,0x1));}else return _0x1f0344['data']=_0x4a8638[_0x702331(0x87)],_0x49febd;}}async[a1_0x4a83f8(0xc3)](){const _0x25246b=a1_0x4a83f8,_0x207d1d={};_0x207d1d[_0x25246b(0xb2)]=function(_0xbfd79,_0x24ca56){return _0xbfd79!==_0x24ca56;},_0x207d1d[_0x25246b(0x104)]=_0x25246b(0xcc),_0x207d1d[_0x25246b(0x1de)]=function(_0x43c530,_0xed92e7){return _0x43c530===_0xed92e7;},_0x207d1d['QTsGD']=_0x25246b(0xfc),_0x207d1d[_0x25246b(0x207)]=_0x25246b(0x16a),_0x207d1d[_0x25246b(0x200)]=_0x25246b(0x1f5);const _0x38c0bf=_0x207d1d;!this['clusterInfo']&&(_0x38c0bf[_0x25246b(0xb2)](_0x38c0bf[_0x25246b(0x104)],_0x38c0bf[_0x25246b(0x104)])?_0x545104=_0x4bc268['id']:await this[_0x25246b(0x246)]());const _0xdda46e=this['clusterInfo']?.[_0x25246b(0x236)]||{};if(_0xdda46e&&_0x38c0bf[_0x25246b(0x1de)](_0xdda46e[_0x38c0bf[_0x25246b(0x124)]],_0x38c0bf[_0x25246b(0x207)]))return _0x38c0bf[_0x25246b(0xb2)](_0x38c0bf[_0x25246b(0x200)],_0x38c0bf[_0x25246b(0x200)])?_0x323368['status'][_0x25246b(0xd8)][_0x25246b(0x25d)][0x0][_0x25246b(0x1db)]:!![];return![];}async[a1_0x4a83f8(0x1ab)](_0x12044f,_0x3680f2){const _0x932a71=a1_0x4a83f8,_0x53ebaa={'qUDWl':function(_0x557a5c,_0x2bc595){return _0x557a5c(_0x2bc595);},'SFmvb':function(_0x52bd0f,_0x40f1cf){return _0x52bd0f(_0x40f1cf);},'AeHBc':'Deleted\x20the\x20cluster\x20successfully'};await _0x53ebaa[_0x932a71(0xeb)](deleteAgent,_0x12044f),await _0x53ebaa[_0x932a71(0x160)](deleteRoutingDeps,_0x12044f);const _0x117829=this[_0x932a71(0x193)];logger[_0x932a71(0x1d4)](_0x932a71(0x17c)+this[_0x932a71(0x154)]),await _0x117829[_0x932a71(0x148)]['beginDeleteAndWait'](global_registry['cloudProviderResourceGroup'],this[_0x932a71(0x154)]),logger[_0x932a71(0x1d4)](_0x53ebaa[_0x932a71(0x92)]);}async[a1_0x4a83f8(0xa8)](){const _0x17391a=a1_0x4a83f8,_0x56b6b1={};_0x56b6b1['WTyWr']=function(_0x2aa5cc,_0x113b5e){return _0x2aa5cc===_0x113b5e;},_0x56b6b1[_0x17391a(0x132)]=function(_0x506b5b,_0x5d85b7){return _0x506b5b===_0x5d85b7;},_0x56b6b1['PBFlh']=_0x17391a(0x117),_0x56b6b1[_0x17391a(0x79)]=_0x17391a(0x1c6),_0x56b6b1[_0x17391a(0x1b2)]=function(_0x1ff63e,_0x3e976d){return _0x1ff63e&&_0x3e976d;},_0x56b6b1['Kskte']=function(_0x449341,_0x14fa04){return _0x449341===_0x14fa04;},_0x56b6b1[_0x17391a(0x1a9)]=_0x17391a(0xad),_0x56b6b1['icpoJ']=_0x17391a(0x1d5),_0x56b6b1[_0x17391a(0x16b)]=function(_0x1b8273,_0x1febb7){return _0x1b8273!==_0x1febb7;},_0x56b6b1[_0x17391a(0x219)]='hmdkW',_0x56b6b1[_0x17391a(0x1b9)]=_0x17391a(0x18e),_0x56b6b1['xGBAX']=_0x17391a(0x18c),_0x56b6b1['nifFK']=function(_0xcb5abd,_0x387298){return _0xcb5abd!==_0x387298;},_0x56b6b1['NTEdY']='wPBch',_0x56b6b1[_0x17391a(0x144)]=_0x17391a(0x220),_0x56b6b1[_0x17391a(0x182)]=_0x17391a(0x14f),_0x56b6b1[_0x17391a(0x20c)]=_0x17391a(0x185);const _0x1ed32f=_0x56b6b1;!this[_0x17391a(0x173)]&&(_0x1ed32f[_0x17391a(0x132)](_0x1ed32f[_0x17391a(0x88)],_0x1ed32f[_0x17391a(0x79)])?_0x1ed32f['WTyWr'](_0x4fb3ca['name'],_0x16dbb0)&&(_0x2ed22e=_0x4cd83b['id']):await this[_0x17391a(0x246)]());const _0x3cbe68=this[_0x17391a(0x173)],_0x575e76=this[_0x17391a(0x173)]?.[_0x17391a(0x1ac)]?.['enabled']||![],_0x49f1ab=this[_0x17391a(0x173)]?.['securityProfile']?.['workloadIdentity']?.[_0x17391a(0x18f)]||![],_0x3f5a0a=!this['clusterInfo']?.[_0x17391a(0x184)]||![];if(_0x1ed32f[_0x17391a(0x1b2)](_0x575e76,_0x49f1ab)&&_0x3f5a0a){if(_0x1ed32f[_0x17391a(0x210)](_0x1ed32f[_0x17391a(0x1a9)],_0x1ed32f[_0x17391a(0xf5)]))return!![];else return;}if(!_0x575e76){if(_0x1ed32f[_0x17391a(0x16b)](_0x1ed32f[_0x17391a(0x219)],_0x1ed32f[_0x17391a(0x1b9)])){logger[_0x17391a(0x1d4)](_0x1ed32f[_0x17391a(0x166)]);const _0x2e25de={};_0x2e25de[_0x17391a(0x1d2)]=WS_EVENTS[_0x17391a(0xd5)],_0x2e25de[_0x17391a(0x96)]=_0x1ed32f[_0x17391a(0x166)],this[_0x17391a(0xfa)][_0x17391a(0x248)](this[_0x17391a(0x1af)],_0x2e25de),_0x3cbe68['oidcIssuerProfile'][_0x17391a(0x18f)]=!![];}else _0x5294d8[_0x17391a(0x20f)](_0x3c3033);}if(!_0x49f1ab){if(_0x1ed32f[_0x17391a(0xf9)](_0x1ed32f[_0x17391a(0x213)],_0x1ed32f[_0x17391a(0x213)])){if(_0x1ed32f[_0x17391a(0x175)](_0x4dc040[_0x17391a(0x7f)],_0x17391a(0x18b)+this[_0x17391a(0x154)]))return!![];}else{logger[_0x17391a(0x1d4)](_0x1ed32f[_0x17391a(0x144)]);const _0x547afc={};_0x547afc[_0x17391a(0x1d2)]=WS_EVENTS[_0x17391a(0xd5)],_0x547afc[_0x17391a(0x96)]=_0x1ed32f[_0x17391a(0x144)],this[_0x17391a(0xfa)]['sendEventToBackend'](this[_0x17391a(0x1af)],_0x547afc);const _0x1ebb2e={};_0x1ebb2e['enabled']=!![],_0x3cbe68[_0x17391a(0x24a)]={'workloadIdentity':_0x1ebb2e,..._0x3cbe68[_0x17391a(0x24a)]};}}if(!_0x3f5a0a){if(_0x1ed32f[_0x17391a(0x16b)](_0x1ed32f['OXzsz'],_0x1ed32f[_0x17391a(0x182)]))_0x176f01['push'](_0x8d5db5[_0x17391a(0x7f)]);else{logger[_0x17391a(0x1d4)](_0x1ed32f[_0x17391a(0x20c)]);const _0x5abbf2={};_0x5abbf2[_0x17391a(0x1d2)]=WS_EVENTS[_0x17391a(0xd5)],_0x5abbf2[_0x17391a(0x96)]=_0x1ed32f['kYCUZ'],this['webSocketUtils'][_0x17391a(0x248)](this[_0x17391a(0x1af)],_0x5abbf2),_0x3cbe68[_0x17391a(0x184)]=![];}}await this[_0x17391a(0x193)][_0x17391a(0x148)]['beginCreateOrUpdateAndWait'](global_registry[_0x17391a(0x16f)],this[_0x17391a(0x154)],_0x3cbe68),await this[_0x17391a(0x246)]();}async[a1_0x4a83f8(0x1fb)](){const _0x415451=a1_0x4a83f8,_0x100fb4={};_0x100fb4['UPPPv']=_0x415451(0x10e),_0x100fb4[_0x415451(0x109)]=function(_0x4a84a6,_0x3db2fe){return _0x4a84a6===_0x3db2fe;},_0x100fb4[_0x415451(0x12d)]=_0x415451(0x91),_0x100fb4[_0x415451(0x74)]='JEUld';const _0x35ebf3=_0x100fb4,_0x5cad95=await this[_0x415451(0x23d)][_0x415451(0x242)][_0x415451(0x80)](global_registry[_0x415451(0x16f)]),_0x138544={};_0x138544[_0x415451(0x177)]=global_registry['bstackUsername'],_0x138544[_0x415451(0x170)]=global_registry[_0x415451(0x1f8)],_0x138544[_0x415451(0x22f)]=AZURE,_0x138544[_0x415451(0xa5)]=[];const _0xf88adf=_0x138544;for await(const _0x286a04 of _0x5cad95){if(_0x35ebf3[_0x415451(0x109)](_0x35ebf3[_0x415451(0x12d)],_0x35ebf3[_0x415451(0x74)]))return _0x18247b[_0x415451(0x1f9)]=_0x35ebf3['UPPPv'],_0x2cc1e5;else _0xf88adf[_0x415451(0xa5)]['push'](_0x286a04);}const _0x54925e={};_0x54925e[_0x415451(0x1d2)]=WS_EVENTS['RESOURCES'],_0x54925e[_0x415451(0x96)]=_0xf88adf,this['webSocketUtils']['sendEventToBackend'](this[_0x415451(0x1af)],_0x54925e);}async[a1_0x4a83f8(0x10b)](_0xd058b0){const _0x10613b=a1_0x4a83f8,_0x56b605={};_0x56b605[_0x10613b(0x163)]=_0x10613b(0x134),_0x56b605[_0x10613b(0x107)]=function(_0x7b254b,_0x490739){return _0x7b254b!==_0x490739;},_0x56b605['aLPeq']=_0x10613b(0xee),_0x56b605[_0x10613b(0x225)]=_0x10613b(0x1be),_0x56b605[_0x10613b(0x1bf)]=function(_0x1d1f9a,_0x5749a0){return _0x1d1f9a===_0x5749a0;},_0x56b605['mCDrl']=_0x10613b(0xd7),_0x56b605[_0x10613b(0x120)]=function(_0x536dc2,_0x1c4dcc){return _0x536dc2===_0x1c4dcc;},_0x56b605[_0x10613b(0x24b)]=_0x10613b(0xbc),_0x56b605[_0x10613b(0x18d)]=function(_0x3f98ed,_0xd5612e){return _0x3f98ed===_0xd5612e;},_0x56b605[_0x10613b(0x250)]=_0x10613b(0xcf),_0x56b605[_0x10613b(0x7b)]=_0x10613b(0x1c2);const _0x51eb5e=_0x56b605;try{if(_0x51eb5e[_0x10613b(0x107)](_0x51eb5e[_0x10613b(0x1b7)],_0x51eb5e[_0x10613b(0x225)])){const _0x48cdb1=await this[_0x10613b(0x23d)][_0x10613b(0x242)][_0x10613b(0x80)](global_registry['cloudProviderResourceGroup']);for await(const _0x303c75 of _0x48cdb1){if(_0x51eb5e[_0x10613b(0x1bf)](_0x51eb5e[_0x10613b(0x143)],_0x51eb5e[_0x10613b(0x143)])){if(_0x51eb5e[_0x10613b(0x120)](_0x303c75[_0x10613b(0x7f)],_0xd058b0))return _0x51eb5e['UshnP'](_0x51eb5e[_0x10613b(0x24b)],_0x51eb5e['zkIiM'])?(_0x3334c5['error']=_0x112f6b[_0x10613b(0x101)],_0xc27d46):!![];}else throw new _0x70458(_0x51eb5e[_0x10613b(0x163)],_0x10613b(0x183)+_0x55c206['stringify'](_0x5298b8));}}else _0x1a15a4[_0x10613b(0x101)]=_0x932e43;}catch(_0x492e6e){if(_0x51eb5e['ESnfU'](_0x51eb5e[_0x10613b(0x250)],_0x51eb5e[_0x10613b(0x7b)]))_0xb05fa2[_0x10613b(0x20f)](_0x353734);else return logger[_0x10613b(0x101)]('Cannot\x20find\x20VPC\x20'+_0xd058b0+'.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20'+_0x492e6e),![];}return![];}async[a1_0x4a83f8(0x1a8)](_0x1a7b18,_0xf2ecc9){const _0x1d810c=a1_0x4a83f8,_0x2a9a94={};_0x2a9a94[_0x1d810c(0x211)]=_0x1d810c(0x115),_0x2a9a94[_0x1d810c(0x151)]=function(_0x32d4d8,_0x85a39c){return _0x32d4d8!==_0x85a39c;},_0x2a9a94['JbBSq']='KADgV',_0x2a9a94[_0x1d810c(0x1a6)]=function(_0x14e617,_0x399eec){return _0x14e617===_0x399eec;},_0x2a9a94[_0x1d810c(0xf6)]=_0x1d810c(0x224);const _0x101f00=_0x2a9a94;try{if(_0x101f00[_0x1d810c(0x151)](_0x101f00['JbBSq'],_0x101f00[_0x1d810c(0xef)]))_0x329dfc[_0x1d810c(0x20f)](..._0x321ea7[_0x1d810c(0x10c)]);else{const _0x439111=await this[_0x1d810c(0x23d)][_0x1d810c(0x103)][_0x1d810c(0x1c7)](global_registry[_0x1d810c(0x16f)],_0xf2ecc9,_0x1a7b18[0x0]);if(_0x101f00[_0x1d810c(0x1a6)](_0x1a7b18[0x0],_0x439111[_0x1d810c(0x7f)])){if(_0x101f00[_0x1d810c(0x1a6)](_0x101f00[_0x1d810c(0xf6)],_0x101f00[_0x1d810c(0xf6)]))return[!![],_0x1a7b18];else _0x142f1d[_0x1d810c(0x101)](_0x101f00[_0x1d810c(0x211)]),_0x345c9a[_0x1d810c(0x1bb)](0x1);}}}catch(_0x3ba764){return logger[_0x1d810c(0x101)]('Cannot\x20find\x20subnets\x20'+_0x1a7b18+'.\x20Error:\x20'+_0x3ba764),[![],[]];}return[![],[]];}async[a1_0x4a83f8(0x1b0)](){const _0x504e75=a1_0x4a83f8,_0x4209f0={};_0x4209f0[_0x504e75(0x119)]=_0x504e75(0xbf);const _0x33a832=_0x4209f0,_0x4f09d0={};_0x4f09d0['status']=!![],_0x4f09d0[_0x504e75(0x101)]=null,_0x4f09d0['data']=_0x33a832[_0x504e75(0x119)];const _0x4061db=_0x4f09d0;return _0x4061db;}async[a1_0x4a83f8(0x25b)](){const _0x51402b=a1_0x4a83f8,_0x5059dc={};_0x5059dc[_0x51402b(0x252)]=_0x51402b(0x226),_0x5059dc['DrKOc']='GET',_0x5059dc[_0x51402b(0x186)]='application/json';const _0x30c296=_0x5059dc,_0x4f0329=await this[_0x51402b(0xdf)]['getToken'](_0x30c296[_0x51402b(0x252)]),_0xd5ee4={};_0xd5ee4['method']=_0x30c296[_0x51402b(0x17b)],_0xd5ee4[_0x51402b(0x128)]={},_0xd5ee4[_0x51402b(0x128)][_0x51402b(0x122)]='Bearer\x20'+_0x4f0329[_0x51402b(0x1b8)],_0xd5ee4[_0x51402b(0x128)]['Content-Type']=_0x30c296[_0x51402b(0x186)];const _0x482b49=_0xd5ee4;return _0x482b49;}async[a1_0x4a83f8(0x17a)](_0x2bc198){const _0x41a2f7=a1_0x4a83f8,_0x490b79={'BFiHP':function(_0x2c48b8,_0x56c109,_0x42ad49){return _0x2c48b8(_0x56c109,_0x42ad49);},'pXaXI':function(_0x488edd,_0x5cf365){return _0x488edd===_0x5cf365;},'WeJfM':_0x41a2f7(0x134)},_0x17f050={};_0x17f050[_0x41a2f7(0x15a)]='',_0x17f050[_0x41a2f7(0x101)]=null;const _0x5b843e=_0x17f050;try{const _0x3dae11=_0x41a2f7(0x191)+_0x2bc198+'\x27',_0x3661ed=await this[_0x41a2f7(0x25b)](),_0x109946=await _0x490b79[_0x41a2f7(0xd1)](fetch,_0x3dae11,_0x3661ed),_0x91074f=await _0x109946['json']();if(!_0x91074f[_0x41a2f7(0x12e)]||_0x490b79[_0x41a2f7(0xea)](_0x91074f[_0x41a2f7(0x12e)][_0x41a2f7(0x9e)],0x0))throw new Error(_0x490b79[_0x41a2f7(0x190)],'Received\x20response\x20-\x20'+JSON[_0x41a2f7(0x253)](_0x91074f));_0x5b843e[_0x41a2f7(0x15a)]=_0x91074f['value'][0x0]['id'];}catch(_0x5e02aa){_0x5b843e[_0x41a2f7(0x101)]=_0x5e02aa;}return _0x5b843e;}async[a1_0x4a83f8(0xb6)](){const _0x4cf6fd=a1_0x4a83f8,_0x3ca666={};_0x3ca666[_0x4cf6fd(0x203)]=_0x4cf6fd(0x118),_0x3ca666[_0x4cf6fd(0x1f4)]=_0x4cf6fd(0xdc),_0x3ca666[_0x4cf6fd(0x12c)]=function(_0x15ab6a,_0x5ead49){return _0x15ab6a!==_0x5ead49;},_0x3ca666['vUHfS']=function(_0x156f1e,_0x3121c9){return _0x156f1e===_0x3121c9;},_0x3ca666['AjPMc']=_0x4cf6fd(0x10e),_0x3ca666[_0x4cf6fd(0x1c8)]=_0x4cf6fd(0x1df),_0x3ca666[_0x4cf6fd(0x76)]=_0x4cf6fd(0xb3);const _0x262eb0=_0x3ca666,_0x51ce52={};_0x51ce52['status']=![],_0x51ce52[_0x4cf6fd(0x101)]=null,_0x51ce52['data']='';const _0x596760=_0x51ce52;try{let _0x3e449a='';const _0x1b1016='subscriptions/'+global_registry[_0x4cf6fd(0x216)]+_0x4cf6fd(0x21f)+global_registry[_0x4cf6fd(0x16f)],_0x591748=await this[_0x4cf6fd(0x17a)](global_registry[_0x4cf6fd(0x1a2)]);if(_0x262eb0['xWlHZ'](_0x591748['error'],null))return _0x596760['error']=_0x591748['error'],_0x596760;const _0x33e818=_0x4cf6fd(0x1e2)+_0x591748[_0x4cf6fd(0x15a)]+'\x27)',_0x5c9823={};_0x5c9823[_0x4cf6fd(0x12b)]=_0x33e818;const _0x1ea91b=await this['authClient'][_0x4cf6fd(0x77)][_0x4cf6fd(0xb9)](_0x1b1016,_0x5c9823),_0x39fe0d=[];for await(const _0x4efe31 of _0x1ea91b){_0x39fe0d[_0x4cf6fd(0x20f)](_0x4efe31);}if(_0x262eb0[_0x4cf6fd(0x1fa)](_0x39fe0d[_0x4cf6fd(0x9e)],0x0))return _0x596760[_0x4cf6fd(0x1f9)]=_0x262eb0[_0x4cf6fd(0x136)],_0x596760;const _0x48656c=[...new Set(_0x39fe0d[_0x4cf6fd(0xbd)](_0x80138f=>_0x80138f['roleDefinitionId']))];if(_0x262eb0[_0x4cf6fd(0x1fa)](_0x48656c['length'],0x0))return _0x596760[_0x4cf6fd(0x1f9)]=_0x262eb0[_0x4cf6fd(0x1c8)],_0x596760;const _0x2e9b05=[],_0x4d00c2=[];for(const _0x1bd336 of _0x48656c){const _0x55e8b6=await this['authClient']['roleDefinitions']['getById'](_0x1bd336);logger[_0x4cf6fd(0x98)](_0x4cf6fd(0x1ec)+_0x55e8b6[_0x4cf6fd(0x21b)]),_0x2e9b05[_0x4cf6fd(0x20f)](_0x55e8b6),logger[_0x4cf6fd(0x98)](_0x4cf6fd(0x1cd)+JSON[_0x4cf6fd(0x253)](_0x55e8b6['permissions'])),_0x55e8b6[_0x4cf6fd(0x1c5)][_0x4cf6fd(0x176)](_0x17a791=>{const _0x12d5a5=_0x4cf6fd;_0x4d00c2[_0x12d5a5(0x20f)](..._0x17a791[_0x12d5a5(0x10c)]);});}logger[_0x4cf6fd(0x98)](_0x4cf6fd(0x232)+JSON[_0x4cf6fd(0x253)](_0x4d00c2)),_0x262eb0[_0x4cf6fd(0x1fa)](_0x4d00c2[_0x4cf6fd(0x9e)],0x0)&&(_0x3e449a+=_0x262eb0[_0x4cf6fd(0x1fa)](_0x4d00c2[_0x4cf6fd(0x9e)],0x0)?_0x262eb0['GeJSn']:'',logger[_0x4cf6fd(0x98)]('Role\x20definition\x20response\x20list\x20\x20:\x20\x20'+JSON[_0x4cf6fd(0x253)](_0x2e9b05))),_0x596760[_0x4cf6fd(0x9b)]=!![],Object[_0x4cf6fd(0x22b)](PERMISSIONS['ACTION'])[_0x4cf6fd(0x176)](([_0x3199c9,_0x276287])=>{const _0x2fcfd3=_0x4cf6fd,_0x48d0fd=_0x4d00c2[_0x2fcfd3(0x1ca)](_0x3199c9);_0x3e449a+='\x0a\x09'+_0x276287+':\x20'+(_0x48d0fd?_0x262eb0['CwKGr']:_0x262eb0[_0x2fcfd3(0x1f4)]),!_0x48d0fd&&(_0x596760['status']=![]);}),_0x596760[_0x4cf6fd(0x1f9)]=_0x3e449a;}catch(_0x245cc3){_0x596760[_0x4cf6fd(0x101)]=_0x245cc3;}return _0x596760;}}const a1_0x242f17={};function a1_0x443f(_0x476c6c,_0x530b0e){const _0x5974a5=a1_0x5974();return a1_0x443f=function(_0x443f1d,_0x1a2978){_0x443f1d=_0x443f1d-0x72;let _0x17af22=_0x5974a5[_0x443f1d];return _0x17af22;},a1_0x443f(_0x476c6c,_0x530b0e);}a1_0x242f17[a1_0x4a83f8(0xc6)]=AzureCloudProvider,module[a1_0x4a83f8(0x178)]=a1_0x242f17;