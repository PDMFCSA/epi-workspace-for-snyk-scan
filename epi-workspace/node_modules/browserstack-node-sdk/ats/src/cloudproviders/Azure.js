const a1_0x223019=a1_0x135a;function a1_0x135a(_0x21401f,_0x3171a1){const _0x1b1503=a1_0x1b15();return a1_0x135a=function(_0x135a3f,_0x35a685){_0x135a3f=_0x135a3f-0xcd;let _0xf3a7b3=_0x1b1503[_0x135a3f];return _0xf3a7b3;},a1_0x135a(_0x21401f,_0x3171a1);}(function(_0x5da87a,_0x624062){const _0x13f77d=a1_0x135a,_0x1b9ea8=_0x5da87a();while(!![]){try{const _0x36e441=-parseInt(_0x13f77d(0x13a))/0x1*(-parseInt(_0x13f77d(0x240))/0x2)+parseInt(_0x13f77d(0x103))/0x3+-parseInt(_0x13f77d(0x1de))/0x4+-parseInt(_0x13f77d(0x19c))/0x5+parseInt(_0x13f77d(0x20c))/0x6*(parseInt(_0x13f77d(0x201))/0x7)+-parseInt(_0x13f77d(0x224))/0x8+-parseInt(_0x13f77d(0x1b4))/0x9*(parseInt(_0x13f77d(0x28b))/0xa);if(_0x36e441===_0x624062)break;else _0x1b9ea8['push'](_0x1b9ea8['shift']());}catch(_0x2cdb52){_0x1b9ea8['push'](_0x1b9ea8['shift']());}}}(a1_0x1b15,0xd745b));const fs=require('fs'),path=require(a1_0x223019(0x26d)),yaml=require(a1_0x223019(0x2b6)),{logger}=require(a1_0x223019(0x1c6)),{CloudProvider}=require(a1_0x223019(0xe3)),{deleteRoutingDeps,deleteAgent}=require(a1_0x223019(0x161)),{AZURE,WS_EVENTS,global_registry}=require(a1_0x223019(0x11f)),PERMISSIONS=require(a1_0x223019(0x148)),{ClientSecretCredential}=require(a1_0x223019(0x10e)),{NetworkManagementClient}=require(a1_0x223019(0x198)),{StorageManagementClient}=require(a1_0x223019(0x110)),{AuthorizationManagementClient}=require(a1_0x223019(0x210)),{ResourceManagementClient}=require('@azure/arm-resources'),{ContainerServiceClient}=require(a1_0x223019(0x142)),{runCommand}=require('../utils/utilityMethods');class AzureCloudProvider extends CloudProvider{constructor(_0x39b277,_0x299b2f,_0xad14ac,_0x4a9f1f){const _0x1ec717=a1_0x223019,_0x511d36={};_0x511d36[_0x1ec717(0x24c)]=_0x1ec717(0x164);const _0x11846c=_0x511d36,_0x4ef3a5=_0x11846c['RrukW'][_0x1ec717(0xe2)]('|');let _0x3690fb=0x0;while(!![]){switch(_0x4ef3a5[_0x3690fb++]){case'0':this[_0x1ec717(0x1ae)]=null;continue;case'1':this[_0x1ec717(0x242)]=null;continue;case'2':this[_0x1ec717(0x2aa)]=null;continue;case'3':this[_0x1ec717(0x22a)]=null;continue;case'4':this[_0x1ec717(0x298)]=null;continue;case'5':super(AZURE,_0x39b277,_0x299b2f,_0xad14ac,_0x4a9f1f);continue;case'6':this[_0x1ec717(0x227)]=null;continue;case'7':this[_0x1ec717(0xf5)]=null;continue;}break;}}async[a1_0x223019(0x16e)](){const _0x573f51=a1_0x223019;return await super[_0x573f51(0x16e)](),this;}['setClients'](){const _0x49746a=a1_0x223019,_0x28b2fd=new ClientSecretCredential(global_registry[_0x49746a(0x1bd)],global_registry[_0x49746a(0x1d9)],global_registry['cloudProviderClientSecret']);this['containerClient']=new ContainerServiceClient(_0x28b2fd,global_registry[_0x49746a(0x149)]),this[_0x49746a(0x22a)]=new StorageManagementClient(_0x28b2fd,global_registry[_0x49746a(0x149)]),this[_0x49746a(0x298)]=new ResourceManagementClient(_0x28b2fd,global_registry[_0x49746a(0x149)]),this[_0x49746a(0x1ae)]=new NetworkManagementClient(_0x28b2fd,global_registry[_0x49746a(0x149)]),this[_0x49746a(0x242)]=new AuthorizationManagementClient(_0x28b2fd,global_registry[_0x49746a(0x149)]),this[_0x49746a(0x227)]=_0x28b2fd;}[a1_0x223019(0x1c5)](){const _0x2c7af7=a1_0x223019,_0x129e43={};_0x129e43[_0x2c7af7(0x118)]=function(_0x356cfb,_0xd76733){return _0x356cfb+_0xd76733;},_0x129e43['NnJey']=_0x2c7af7(0x127),_0x129e43[_0x2c7af7(0x2a3)]=function(_0x1aa656,_0x152afb){return _0x1aa656-_0x152afb;};const _0x1b891e=_0x129e43,_0x44cce8=global_registry['s3Bucket'][_0x2c7af7(0xe2)]('-'),_0x10d3df=_0x1b891e[_0x2c7af7(0x118)](_0x1b891e[_0x2c7af7(0x253)],_0x44cce8[_0x1b891e[_0x2c7af7(0x2a3)](_0x44cce8[_0x2c7af7(0x247)],0x1)])['slice'](0x0,0x18);return _0x10d3df[_0x2c7af7(0x23c)]();}[a1_0x223019(0x2ad)](_0x2fe167){const _0x2c90cc=a1_0x223019,_0x3dce60={};_0x3dce60[_0x2c90cc(0x1d3)]=_0x2c90cc(0x101);const _0x116d46=_0x3dce60,_0x2c983a=_0x116d46[_0x2c90cc(0x1d3)]['split']('|');let _0x574b5b=0x0;while(!![]){switch(_0x2c983a[_0x574b5b++]){case'0':global_registry[_0x2c90cc(0x149)]=_0x2fe167[this[_0x2c90cc(0x1da)]][_0x2c90cc(0x24f)];continue;case'1':global_registry[_0x2c90cc(0x1bd)]=_0x2fe167[this[_0x2c90cc(0x1da)]]['tenantId'];continue;case'2':this[_0x2c90cc(0x202)]();continue;case'3':global_registry[_0x2c90cc(0x1d9)]=_0x2fe167[this[_0x2c90cc(0x1da)]][_0x2c90cc(0x15a)];continue;case'4':global_registry[_0x2c90cc(0xeb)]=_0x2fe167[this[_0x2c90cc(0x1da)]][_0x2c90cc(0x2ae)];continue;case'5':global_registry[_0x2c90cc(0x260)]=_0x2fe167[this[_0x2c90cc(0x1da)]]['resourceGroup'];continue;}break;}}async[a1_0x223019(0xe8)](_0x333866,_0x23956f){const _0x5aa461=a1_0x223019,_0x2adfc8={'ROwqQ':_0x5aa461(0x194),'VoJnH':_0x5aa461(0x281),'YZqvS':_0x5aa461(0x2b0),'cYakK':_0x5aa461(0x184),'ySjwL':function(_0x493a1,_0x3920cd){return _0x493a1===_0x3920cd;},'wrWBw':function(_0x5a9864,_0xc91a62){return _0x5a9864(_0xc91a62);},'pnzpd':function(_0x4b1cc3,_0x3334dc){return _0x4b1cc3===_0x3334dc;},'IHfXW':_0x5aa461(0x163),'nBxfJ':function(_0x49d3d3,_0x44f1d5){return _0x49d3d3(_0x44f1d5);},'Yvaei':function(_0x3721e0,_0x4fdb56){return _0x3721e0!==_0x4fdb56;},'pTbII':_0x5aa461(0x14d),'kKABv':_0x5aa461(0x235),'frfDw':function(_0x1f8163,_0x3c35a1){return _0x1f8163(_0x3c35a1);},'MkDMM':function(_0x2afbed,_0x27c618){return _0x2afbed===_0x27c618;},'wAahE':function(_0x504905,_0x4f20fb){return _0x504905===_0x4f20fb;},'tlvCc':function(_0x3a749f,_0x244f22){return _0x3a749f===_0x244f22;},'KSxBj':'tibpa','bYJYP':_0x5aa461(0x1a8),'mVoTw':function(_0x5a6c1b,_0x525993){return _0x5a6c1b===_0x525993;},'cSDkQ':_0x5aa461(0x291),'NCtFt':_0x5aa461(0x277),'nTDqA':function(_0x2a5cf2,_0x1b1dd3){return _0x2a5cf2===_0x1b1dd3;},'UxaYJ':_0x5aa461(0x185),'DCSte':function(_0x28dd2e,_0xad912b){return _0x28dd2e<_0xad912b;},'iKOHG':function(_0x2b6964,_0x15f9e6){return _0x2b6964!==_0x15f9e6;},'sBCuQ':_0x5aa461(0x1fb),'TGqwl':'yxtyn','ONWGX':function(_0x18eebd,_0x4b98ef){return _0x18eebd+_0x4b98ef;},'tCbsp':_0x5aa461(0x273),'QKXRz':function(_0x180c5b,_0x16ce2e){return _0x180c5b(_0x16ce2e);},'aRbsz':function(_0xf39549,_0x1f2b96){return _0xf39549<=_0x1f2b96;},'fZpYU':function(_0x585f20,_0x3cd309){return _0x585f20>_0x3cd309;},'fpUBb':_0x5aa461(0x236),'tlGEQ':'zqrte','TJbLe':function(_0x4772a7,_0x22d550){return _0x4772a7-_0x22d550;}},_0x2f99a6=this['cloudProviderName'][_0x5aa461(0x2bc)](),_0x2a798a=await _0x2adfc8[_0x5aa461(0x145)](_0x333866,_0x2f99a6+_0x5aa461(0x136)),_0x113d6e=await _0x2adfc8[_0x5aa461(0x145)](_0x333866,_0x2f99a6+_0x5aa461(0xec)),_0x500909=await _0x2adfc8['wrWBw'](_0x333866,_0x2f99a6+'\x20TENANT\x20ID:\x20'),_0x192ae0=await _0x2adfc8[_0x5aa461(0x145)](_0x333866,_0x2f99a6+'\x20SUBSCRIPTION\x20ID:\x20');global_registry[_0x5aa461(0x1d9)]=_0x2a798a,global_registry[_0x5aa461(0xeb)]=_0x113d6e,global_registry['cloudProviderTenantId']=_0x500909,global_registry[_0x5aa461(0x149)]=_0x192ae0,this['setClients']();const _0x51be8a=await this[_0x5aa461(0x25d)](),_0xe9f686=_0x51be8a[_0x5aa461(0x247)];let _0x28f661;if(_0x2adfc8[_0x5aa461(0x2b2)](_0xe9f686,0x0))_0x2adfc8[_0x5aa461(0x297)](_0x2adfc8[_0x5aa461(0x109)],_0x2adfc8['IHfXW'])?_0x28f661=await _0x2adfc8['nBxfJ'](_0x333866,_0x2f99a6+_0x5aa461(0x102)):_0x3d861c['info'](_0x2adfc8[_0x5aa461(0xd9)]);else{if(_0x2adfc8[_0x5aa461(0x297)](_0xe9f686,0x1)){if(_0x2adfc8['Yvaei'](_0x2adfc8[_0x5aa461(0x1f7)],_0x2adfc8[_0x5aa461(0x13c)])){const _0x7fb86d=await _0x2adfc8[_0x5aa461(0x17e)](_0x333866,_0x5aa461(0x28e)+_0x51be8a[0x0]+_0x5aa461(0x225));if(_0x2adfc8[_0x5aa461(0x204)](_0x7fb86d,undefined)||_0x2adfc8['wAahE'](_0x7fb86d,null)||!(_0x2adfc8[_0x5aa461(0x2b2)](_0x7fb86d[_0x5aa461(0x23c)](),'y')||_0x2adfc8[_0x5aa461(0x25b)](_0x7fb86d[_0x5aa461(0x23c)](),'n'))){if(_0x2adfc8[_0x5aa461(0xf8)](_0x2adfc8[_0x5aa461(0x27a)],_0x2adfc8[_0x5aa461(0x1b0)]))console[_0x5aa461(0x2a7)](_0x2adfc8[_0x5aa461(0x2b5)]),process['exit'](0x1);else return!![];}if(_0x2adfc8[_0x5aa461(0x15d)](_0x7fb86d['toLowerCase'](),'n')){if(_0x2adfc8['Yvaei'](_0x2adfc8[_0x5aa461(0x10a)],_0x2adfc8[_0x5aa461(0x10d)]))process[_0x5aa461(0x243)](0x0);else{const _0x7cc6de=_0x40263b[_0x5aa461(0x18d)](_0x2a6b29);_0x5b35b2+='\x0a\x09'+_0x15cd6a+':\x20'+(_0x7cc6de?_0x2adfc8[_0x5aa461(0x1fa)]:_0x2adfc8[_0x5aa461(0x19f)]),!_0x7cc6de&&(_0x6e45e0[_0x5aa461(0x23e)]=![]);}}_0x28f661=_0x51be8a[0x0];}else _0x2d0219['error'](_0x2adfc8[_0x5aa461(0x2b5)]),_0x224cd8['exit'](0x1);}else{if(_0x2adfc8['nTDqA'](_0x2adfc8[_0x5aa461(0x276)],_0x2adfc8[_0x5aa461(0x276)])){for(let _0x2f3718=0x0;_0x2adfc8[_0x5aa461(0x2af)](_0x2f3718,_0x51be8a[_0x5aa461(0x247)]);_0x2f3718+=0x1){if(_0x2adfc8['iKOHG'](_0x2adfc8[_0x5aa461(0x1e9)],_0x2adfc8[_0x5aa461(0x28f)]))console[_0x5aa461(0x295)]('['+_0x2adfc8[_0x5aa461(0x217)](_0x2f3718,0x1)+']\x20'+_0x51be8a[_0x2f3718]);else return _0xb6b12a[_0x5aa461(0x2a7)](_0x5aa461(0x26e)+_0x141971+':'+_0x5505b3[_0x5aa461(0x270)]),{};}const _0x17ba46=await _0x2adfc8[_0x5aa461(0x145)](_0x333866,_0x2adfc8['tCbsp']),_0x15b21d=_0x2adfc8[_0x5aa461(0x2a9)](Number,_0x17ba46);if(_0x2adfc8[_0x5aa461(0x145)](isNaN,_0x15b21d)||_0x2adfc8['aRbsz'](_0x15b21d,0x0)||_0x2adfc8['fZpYU'](_0x15b21d,_0xe9f686)){if(_0x2adfc8[_0x5aa461(0x25b)](_0x2adfc8[_0x5aa461(0x280)],_0x2adfc8[_0x5aa461(0x25a)])){if(_0x2adfc8[_0x5aa461(0x2b2)](_0x1a29c5[_0x5aa461(0xd7)],_0x5ed5ee))return!![];}else console['error'](_0x2adfc8[_0x5aa461(0x2b5)]),process[_0x5aa461(0x243)](0x1);}_0x28f661=_0x51be8a[_0x2adfc8[_0x5aa461(0x208)](_0x15b21d,0x1)];}else _0x43faef[_0x5aa461(0x121)](_0x390137);}}global_registry['cloudProviderResourceGroup']=_0x28f661;const _0x5f348a={};return _0x5f348a['clientId']=_0x2a798a,_0x5f348a[_0x5aa461(0x2ae)]=_0x113d6e,_0x5f348a[_0x5aa461(0x21f)]=_0x500909,_0x5f348a[_0x5aa461(0x24f)]=_0x192ae0,_0x5f348a[_0x5aa461(0x20f)]=_0x28f661,_0x23956f[_0x5aa461(0x239)][AZURE]=_0x5f348a,_0x23956f;}async['getResourceGroups'](){const _0x25018c=a1_0x223019,_0x2cec63={};_0x2cec63[_0x25018c(0x1e0)]=function(_0x25923d,_0x367b67){return _0x25923d+_0x367b67;},_0x2cec63[_0x25018c(0x1a3)]='turboscale',_0x2cec63['ktxxy']=function(_0x4b1e1d,_0x2203c2){return _0x4b1e1d-_0x2203c2;},_0x2cec63[_0x25018c(0x153)]=function(_0x15080b,_0xd18553){return _0x15080b!==_0xd18553;},_0x2cec63[_0x25018c(0x287)]=_0x25018c(0xce),_0x2cec63['gzUtF']=_0x25018c(0x200),_0x2cec63['bHWVp']='jhmQa';const _0x559b98=_0x2cec63,_0x29f8a4=[];try{if(_0x559b98[_0x25018c(0x153)](_0x559b98[_0x25018c(0x287)],_0x559b98[_0x25018c(0x287)]))_0x589c09[_0x25018c(0x121)](_0x313e86);else{const _0x43b1a7=await this[_0x25018c(0x298)][_0x25018c(0x219)][_0x25018c(0x209)]();for await(const _0x44a537 of _0x43b1a7){if(_0x559b98[_0x25018c(0x153)](_0x559b98[_0x25018c(0x1d4)],_0x559b98[_0x25018c(0xfa)]))_0x29f8a4[_0x25018c(0x121)](_0x44a537[_0x25018c(0xd7)]);else{const _0x3e6a8c=_0xc8e239[_0x25018c(0x1b6)][_0x25018c(0xe2)]('-'),_0x183f2e=_0x559b98[_0x25018c(0x1e0)](_0x559b98[_0x25018c(0x1a3)],_0x3e6a8c[_0x559b98[_0x25018c(0xd2)](_0x3e6a8c[_0x25018c(0x247)],0x1)])[_0x25018c(0x1ee)](0x0,0x18);return _0x183f2e[_0x25018c(0x23c)]();}}}}catch(_0x441223){}return _0x29f8a4;}async['getClusterInfo'](){const _0x4c5b64=a1_0x223019;return this[_0x4c5b64(0xf5)]=await this[_0x4c5b64(0x2aa)][_0x4c5b64(0x1f0)][_0x4c5b64(0x17a)](global_registry['cloudProviderResourceGroup'],this[_0x4c5b64(0x15c)]),this[_0x4c5b64(0xf5)];}async[a1_0x223019(0x229)](){const _0x3129f7=a1_0x223019,_0x4d6ce2=await this['containerClient'][_0x3129f7(0x1f0)][_0x3129f7(0x29a)](global_registry[_0x3129f7(0x260)],this[_0x3129f7(0x15c)]),_0x34404a=_0x4d6ce2[_0x3129f7(0x172)][0x0][_0x3129f7(0xed)][_0x3129f7(0x23b)]();return _0x34404a;}[a1_0x223019(0x246)](_0x1cc0bc){const _0x56f0bd=a1_0x223019;return _0x1cc0bc[_0x56f0bd(0x23e)]['loadBalancer']['ingress'][0x0][_0x56f0bd(0xf4)];}async['isClusterPresent'](){const _0x43b82c=a1_0x223019,_0x3c7d2c={};_0x3c7d2c['fAsME']=function(_0x1edfe1,_0xdebecb){return _0x1edfe1===_0xdebecb;},_0x3c7d2c['uyILY']=_0x43b82c(0x129),_0x3c7d2c['YLAbP']=function(_0x4a0902,_0x201b41){return _0x4a0902===_0x201b41;},_0x3c7d2c[_0x43b82c(0x132)]=_0x43b82c(0x1f1),_0x3c7d2c[_0x43b82c(0x1d7)]='YKqWY',_0x3c7d2c[_0x43b82c(0x179)]=_0x43b82c(0x143),_0x3c7d2c[_0x43b82c(0x29d)]=function(_0x24fe36,_0x4ac17d){return _0x24fe36===_0x4ac17d;},_0x3c7d2c['rRdbj']=function(_0x2d8d30,_0x25b580){return _0x2d8d30===_0x25b580;},_0x3c7d2c[_0x43b82c(0x117)]=_0x43b82c(0x1bf),_0x3c7d2c[_0x43b82c(0x134)]=_0x43b82c(0x1a6);const _0x303850=_0x3c7d2c,_0x16cda5=new Array();for await(const _0x1cee7a of this[_0x43b82c(0x2aa)]['managedClusters'][_0x43b82c(0x1f9)](global_registry['cloudProviderResourceGroup'])){_0x303850[_0x43b82c(0x292)](_0x303850['fDSjI'],_0x303850[_0x43b82c(0x132)])?_0x16cda5[_0x43b82c(0x121)](_0x1cee7a):_0x2fe4de=_0x37a4f5['id'];}for await(const _0x466321 of _0x16cda5){if(_0x303850[_0x43b82c(0x292)](_0x303850[_0x43b82c(0x1d7)],_0x303850['srGRA'])){if(_0x303850[_0x43b82c(0x25c)](_0x19a008[_0x43b82c(0xd7)],_0x43b82c(0x21a)+this[_0x43b82c(0x15c)]))return!![];}else{if(_0x303850[_0x43b82c(0x29d)](_0x466321[_0x43b82c(0xd7)],this['clusterName'])){if(_0x303850[_0x43b82c(0x1ec)](_0x303850[_0x43b82c(0x117)],_0x303850[_0x43b82c(0x134)]))throw new _0x2c7d01(_0x303850[_0x43b82c(0x2a1)],_0x43b82c(0xd5)+_0x4f9d53[_0x43b82c(0x13b)](_0x1c4e4d));else return await this[_0x43b82c(0xd4)](),!![];}}}return![];}async[a1_0x223019(0x206)](_0x3c3efb=null,_0x1cc617=null){const _0x3d2e0d=a1_0x223019,_0x1019c8={};_0x1019c8[_0x3d2e0d(0x1f5)]=_0x3d2e0d(0x168),_0x1019c8[_0x3d2e0d(0x167)]=_0x3d2e0d(0x119);const _0x3e68d4=_0x1019c8,_0x6925ea=_0x3e68d4['cavRe'][_0x3d2e0d(0xe2)]('|');let _0x1ef495=0x0;while(!![]){switch(_0x6925ea[_0x1ef495++]){case'0':await this[_0x3d2e0d(0x1a9)]();continue;case'1':logger[_0x3d2e0d(0x1a0)](_0x3e68d4[_0x3d2e0d(0x167)]);continue;case'2':return[_0x3c3efb,_0x1cc617];case'3':this[_0x3d2e0d(0x1c0)]();continue;case'4':await this['createCluster'](_0x3c3efb,_0x1cc617);continue;case'5':const _0x529c1b={};_0x529c1b[_0x3d2e0d(0x1c2)]=WS_EVENTS[_0x3d2e0d(0x1df)],_0x529c1b[_0x3d2e0d(0x1dc)]=_0x3e68d4[_0x3d2e0d(0x167)],this[_0x3d2e0d(0x162)]['sendEventToBackend'](this['rws'],_0x529c1b);continue;}break;}}async['createCluster'](_0x3c02b6=null,_0x2422a6=null){const _0x33286d=a1_0x223019,_0x371162={};_0x371162[_0x33286d(0x1ef)]=_0x33286d(0x113),_0x371162[_0x33286d(0x278)]=_0x33286d(0x1ac),_0x371162[_0x33286d(0x29c)]=_0x33286d(0x27c),_0x371162[_0x33286d(0x131)]=_0x33286d(0x22e),_0x371162[_0x33286d(0x250)]='true',_0x371162[_0x33286d(0xd8)]=_0x33286d(0x1c4),_0x371162[_0x33286d(0x16a)]=function(_0x1acfef,_0x3d88b6){return _0x1acfef!==_0x3d88b6;},_0x371162[_0x33286d(0x115)]=function(_0x453974,_0x21a5c8){return _0x453974!==_0x21a5c8;},_0x371162['RPrvG']='wMdLd',_0x371162[_0x33286d(0xdc)]=_0x33286d(0x249),_0x371162[_0x33286d(0x12c)]='Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.',_0x371162['tZUnO']=_0x33286d(0x256),_0x371162['jqghm']='[variables(\x27vnetSubnetID\x27)]',_0x371162[_0x33286d(0x14a)]=_0x33286d(0x14f),_0x371162[_0x33286d(0x106)]=_0x33286d(0x124);const _0x3a424d=_0x371162;let _0x4ef804=await fs[_0x33286d(0x296)](path[_0x33286d(0x158)](__dirname,'..',_0x3a424d[_0x33286d(0x1ef)],_0x3a424d[_0x33286d(0x278)],_0x3a424d['tRAoh']),_0x3a424d[_0x33286d(0x131)]);_0x4ef804=JSON[_0x33286d(0x1cb)](_0x4ef804);const _0x499415={};_0x499415[_0x33286d(0xed)]=this[_0x33286d(0x15c)];const _0x5294c9={};_0x5294c9[_0x33286d(0xed)]=global_registry['clusterRegion'];const _0x1d7168={};_0x1d7168[_0x33286d(0xed)]=global_registry[_0x33286d(0x1b8)];const _0x463eb6={};_0x463eb6[_0x33286d(0xed)]=global_registry[_0x33286d(0x178)];const _0x477c1c={};_0x477c1c[_0x33286d(0xed)]=global_registry[_0x33286d(0x1a1)]?_0x3a424d[_0x33286d(0x250)]:_0x3a424d[_0x33286d(0xd8)];const _0x415ea3={};_0x415ea3[_0x33286d(0x15c)]=_0x499415,_0x415ea3['location']=_0x5294c9,_0x415ea3[_0x33286d(0x177)]=_0x1d7168,_0x415ea3[_0x33286d(0x2a6)]=_0x463eb6,_0x415ea3[_0x33286d(0x1a1)]=_0x477c1c;let _0x4175e3=_0x415ea3;if(_0x3a424d[_0x33286d(0x16a)](_0x3c02b6,null)&&_0x3a424d[_0x33286d(0x16a)](_0x2422a6,null)){if(_0x3a424d['lNUNx'](_0x3a424d[_0x33286d(0x195)],_0x3a424d['RPrvG']))_0x19d17d[_0x33286d(0x121)](_0x390e3e);else{const _0xa3768f={};_0xa3768f[_0x33286d(0x1c2)]=_0x3a424d[_0x33286d(0xdc)],_0xa3768f[_0x33286d(0x28d)]={},_0xa3768f[_0x33286d(0x28d)]['description']=_0x3a424d[_0x33286d(0x12c)];const _0x502f76={};_0x502f76[_0x33286d(0x1c2)]=_0x3a424d[_0x33286d(0xdc)],_0x502f76[_0x33286d(0x28d)]={},_0x502f76[_0x33286d(0x28d)][_0x33286d(0x2b8)]=_0x3a424d[_0x33286d(0x12c)],_0x4ef804[_0x33286d(0xdd)]={..._0x4ef804[_0x33286d(0xdd)],'vpcName':_0xa3768f,'subnetName':_0x502f76};const _0xe612e2={};_0xe612e2[_0x33286d(0x1b5)]=_0x3a424d['tZUnO'],_0x4ef804[_0x33286d(0x17d)]=_0xe612e2,_0x4ef804[_0x33286d(0x22b)][0x0][_0x33286d(0xcd)]['agentPoolProfiles'][0x0]={..._0x4ef804[_0x33286d(0x22b)][0x0][_0x33286d(0xcd)][_0x33286d(0x123)][0x0],'vnetSubnetID':_0x3a424d[_0x33286d(0x180)]};const _0x23c6b3={};_0x23c6b3[_0x33286d(0xed)]=_0x3c02b6;const _0x2a0735={};_0x2a0735[_0x33286d(0xed)]=_0x2422a6[0x0],_0x4175e3={..._0x4175e3,'vpcName':_0x23c6b3,'subnetName':_0x2a0735};}}await this[_0x33286d(0x298)]['deployments']['beginCreateOrUpdateAndWait'](global_registry[_0x33286d(0x260)],_0x3a424d[_0x33286d(0x14a)],{'properties':{'template':_0x4ef804,'mode':_0x3a424d[_0x33286d(0x106)],'parameters':_0x4175e3}});}async[a1_0x223019(0x1a9)](){const _0x30f8c0=a1_0x223019,_0x1eef35={};_0x1eef35[_0x30f8c0(0x150)]=_0x30f8c0(0x25f),_0x1eef35[_0x30f8c0(0x1e2)]=function(_0x5a2df5,_0xd2b4bb){return _0x5a2df5===_0xd2b4bb;},_0x1eef35['WcFkL']='cZuoB',_0x1eef35[_0x30f8c0(0xdb)]=_0x30f8c0(0x146),_0x1eef35['tKRAx']=_0x30f8c0(0xcf),_0x1eef35[_0x30f8c0(0x108)]=_0x30f8c0(0x20d),_0x1eef35[_0x30f8c0(0x1ad)]=function(_0x5ccfe9,_0x13bbec){return _0x5ccfe9===_0x13bbec;},_0x1eef35[_0x30f8c0(0x1bc)]=_0x30f8c0(0x1db),_0x1eef35['xoxCW']=_0x30f8c0(0x10c),_0x1eef35[_0x30f8c0(0x2a4)]='Creating\x20Azure\x20managed\x20identity',_0x1eef35[_0x30f8c0(0xfc)]=function(_0x1a04fc,_0x4e58dc){return _0x1a04fc===_0x4e58dc;},_0x1eef35[_0x30f8c0(0x12e)]=_0x30f8c0(0x1c1),_0x1eef35[_0x30f8c0(0x126)]=_0x30f8c0(0x105),_0x1eef35[_0x30f8c0(0x283)]=_0x30f8c0(0x194),_0x1eef35[_0x30f8c0(0xfb)]=_0x30f8c0(0xdf),_0x1eef35[_0x30f8c0(0x264)]=_0x30f8c0(0x13e);const _0x518787=_0x1eef35,_0x3d377d=await this[_0x30f8c0(0x190)]();if(!_0x3d377d){if(_0x518787[_0x30f8c0(0x1e2)](_0x518787[_0x30f8c0(0xe6)],_0x518787[_0x30f8c0(0xe6)])){const _0x267b15={};_0x267b15[_0x30f8c0(0x1c2)]=WS_EVENTS['LOG'],_0x267b15[_0x30f8c0(0x1dc)]=_0x518787[_0x30f8c0(0xdb)],this[_0x30f8c0(0x162)][_0x30f8c0(0x193)](this[_0x30f8c0(0x147)],_0x267b15),logger[_0x30f8c0(0x1a0)](_0x518787[_0x30f8c0(0xdb)]),await this[_0x30f8c0(0x218)]();}else return[!![],_0x1a8af4];}else{if(_0x518787[_0x30f8c0(0x1e2)](_0x518787[_0x30f8c0(0x1af)],_0x518787[_0x30f8c0(0x1af)]))logger[_0x30f8c0(0x1a0)](_0x518787[_0x30f8c0(0x108)]);else return _0x421584[_0x30f8c0(0x2a7)]=_0x3e1f7b['error'],_0x20209d;}const _0x129ddc=await this[_0x30f8c0(0xff)]();if(!_0x129ddc){if(_0x518787['rupOO'](_0x518787[_0x30f8c0(0x1bc)],_0x518787['xoxCW']))return _0x391a2a[_0x30f8c0(0x231)]=_0x518787[_0x30f8c0(0x150)],_0x2db375;else{const _0x2166fb={};_0x2166fb['type']=WS_EVENTS[_0x30f8c0(0x1df)],_0x2166fb[_0x30f8c0(0x1dc)]=_0x518787[_0x30f8c0(0x2a4)],this[_0x30f8c0(0x162)][_0x30f8c0(0x193)](this[_0x30f8c0(0x147)],_0x2166fb),logger['info'](_0x518787['HZSQo']),await this[_0x30f8c0(0xee)]();}}else _0x518787[_0x30f8c0(0xfc)](_0x518787[_0x30f8c0(0x12e)],_0x518787['SckqL'])?_0x45e54f['error']=_0x60779f:logger['info'](_0x518787['ibLzr']);logger[_0x30f8c0(0x1a0)](_0x518787[_0x30f8c0(0xfb)]),await this['createFederatedAccount'](),logger[_0x30f8c0(0x1a0)](_0x518787[_0x30f8c0(0x264)]);}async[a1_0x223019(0x218)](){const _0x401f03=a1_0x223019,_0x33ded7={};_0x33ded7[_0x401f03(0x19b)]=_0x401f03(0x113),_0x33ded7[_0x401f03(0x1a2)]=_0x401f03(0x1ac),_0x33ded7[_0x401f03(0x137)]='storageaccount.json',_0x33ded7['Tkjih']=_0x401f03(0x22e),_0x33ded7[_0x401f03(0x290)]=_0x401f03(0x1ff),_0x33ded7[_0x401f03(0x1b2)]=_0x401f03(0x124),_0x33ded7['ZproA']=_0x401f03(0x238),_0x33ded7[_0x401f03(0x261)]=_0x401f03(0x234),_0x33ded7[_0x401f03(0x1e1)]=_0x401f03(0x138),_0x33ded7[_0x401f03(0x1b9)]=_0x401f03(0x1e4);const _0x383d25=_0x33ded7;let _0x5be96d=await fs[_0x401f03(0x296)](path['join'](__dirname,'..',_0x383d25['RQVpw'],_0x383d25[_0x401f03(0x1a2)],_0x383d25[_0x401f03(0x137)]),_0x383d25['Tkjih']);_0x5be96d=JSON[_0x401f03(0x1cb)](_0x5be96d);const _0x166606=this[_0x401f03(0x1c5)](),_0x24a1ad={};_0x24a1ad['value']=_0x166606;const _0x525fcd={};_0x525fcd[_0x401f03(0x265)]=_0x24a1ad,await this[_0x401f03(0x298)]['deployments']['beginCreateOrUpdateAndWait'](global_registry[_0x401f03(0x260)],_0x383d25[_0x401f03(0x290)],{'properties':{'template':_0x5be96d,'mode':_0x383d25[_0x401f03(0x1b2)],'parameters':_0x525fcd}});const _0x222885={};_0x222885[_0x401f03(0x1d8)]=0x3c;const _0x1a88da={};_0x1a88da['delete']=_0x222885;const _0x12e9db={};_0x12e9db['baseBlob']=_0x1a88da;const _0x408468={};_0x408468[_0x401f03(0x1f8)]=!![],_0x408468['name']=_0x383d25[_0x401f03(0x1b1)],_0x408468[_0x401f03(0x1c2)]=_0x383d25[_0x401f03(0x261)],_0x408468[_0x401f03(0x1ab)]={},_0x408468[_0x401f03(0x1ab)][_0x401f03(0x286)]=_0x12e9db,_0x408468[_0x401f03(0x1ab)][_0x401f03(0x18e)]={},_0x408468[_0x401f03(0x1ab)][_0x401f03(0x18e)][_0x401f03(0x151)]=[_0x383d25[_0x401f03(0x1e1)]];const _0x2e2bd3={};_0x2e2bd3[_0x401f03(0x288)]=[_0x408468];const _0x2f1a11={};_0x2f1a11[_0x401f03(0x25e)]=_0x2e2bd3;const _0x1d3e18=_0x2f1a11;await this[_0x401f03(0x22a)][_0x401f03(0x1ed)]['createOrUpdate'](global_registry[_0x401f03(0x260)],_0x166606,_0x383d25['KmCMR'],_0x1d3e18);}async[a1_0x223019(0xee)](){const _0x630e1f=a1_0x223019,_0x5f4485={};_0x5f4485[_0x630e1f(0x27f)]=_0x630e1f(0x113),_0x5f4485[_0x630e1f(0x233)]=_0x630e1f(0x1ac),_0x5f4485[_0x630e1f(0x12d)]='managedidentity.json',_0x5f4485[_0x630e1f(0x15b)]='utf-8',_0x5f4485['INrnQ']=_0x630e1f(0x15e),_0x5f4485[_0x630e1f(0x294)]=_0x630e1f(0x124);const _0x322c89=_0x5f4485;let _0x2562bd=await fs[_0x630e1f(0x296)](path[_0x630e1f(0x158)](__dirname,'..',_0x322c89[_0x630e1f(0x27f)],_0x322c89['GrJtr'],_0x322c89[_0x630e1f(0x12d)]),_0x322c89[_0x630e1f(0x15b)]);_0x2562bd=JSON[_0x630e1f(0x1cb)](_0x2562bd),await this[_0x630e1f(0x298)][_0x630e1f(0x1ce)][_0x630e1f(0x2b4)](global_registry['cloudProviderResourceGroup'],_0x322c89[_0x630e1f(0x1fe)],{'properties':{'template':_0x2562bd,'mode':_0x322c89[_0x630e1f(0x294)],'parameters':{'clusterName':{'value':this[_0x630e1f(0x15c)]}}}});}async[a1_0x223019(0xf9)](){const _0x18a2ba=a1_0x223019,_0x222f9a={};_0x222f9a[_0x18a2ba(0x17b)]=_0x18a2ba(0x249),_0x222f9a['ztxFw']=_0x18a2ba(0xda),_0x222f9a['fMZlF']=_0x18a2ba(0x256),_0x222f9a[_0x18a2ba(0x205)]=_0x18a2ba(0x1b3),_0x222f9a['YGqQM']=function(_0xa01395,_0x1e54e5){return _0xa01395===_0x1e54e5;},_0x222f9a['laheU']=_0x18a2ba(0x19e),_0x222f9a[_0x18a2ba(0x1a5)]=_0x18a2ba(0xde),_0x222f9a['HoUZy']=_0x18a2ba(0x259),_0x222f9a[_0x18a2ba(0x11e)]=function(_0x5a327f,_0x20319a){return _0x5a327f!==_0x20319a;},_0x222f9a['lCRGo']=_0x18a2ba(0xe0),_0x222f9a['KugSM']=_0x18a2ba(0x113),_0x222f9a['IJcRk']='azureresources',_0x222f9a['LGcdn']=_0x18a2ba(0x22e),_0x222f9a[_0x18a2ba(0x120)]=_0x18a2ba(0x11a),_0x222f9a[_0x18a2ba(0x22c)]='Incremental';const _0x3a5abb=_0x222f9a;if(!this[_0x18a2ba(0xf5)]){if(_0x3a5abb[_0x18a2ba(0x285)](_0x3a5abb[_0x18a2ba(0x16b)],_0x3a5abb[_0x18a2ba(0x16b)]))await this[_0x18a2ba(0xd4)]();else return!![];}const _0x6e27f4=this['clusterInfo']?.[_0x18a2ba(0x122)]?.[_0x18a2ba(0x130)],_0x272b44=[_0x3a5abb[_0x18a2ba(0x1a5)],_0x3a5abb['HoUZy']];for await(const _0x247379 of _0x272b44){if(_0x3a5abb[_0x18a2ba(0x11e)](_0x3a5abb[_0x18a2ba(0x223)],_0x3a5abb['lCRGo'])){const _0x1f45eb={};_0x1f45eb[_0x18a2ba(0x1c2)]=_0x3a5abb['qqGQB'],_0x1f45eb['metadata']={},_0x1f45eb['metadata']['description']=_0x3a5abb[_0x18a2ba(0x289)];const _0x10d775={};_0x10d775[_0x18a2ba(0x1c2)]=_0x3a5abb['qqGQB'],_0x10d775[_0x18a2ba(0x28d)]={},_0x10d775[_0x18a2ba(0x28d)][_0x18a2ba(0x2b8)]=_0x3a5abb['ztxFw'];const _0x52c9b9={..._0x20b51a[_0x18a2ba(0xdd)]};_0x52c9b9['vpcName']=_0x1f45eb,_0x52c9b9[_0x18a2ba(0x13f)]=_0x10d775,_0x11088d[_0x18a2ba(0xdd)]=_0x52c9b9;const _0x17b719={};_0x17b719[_0x18a2ba(0x1b5)]=_0x3a5abb[_0x18a2ba(0x221)],_0x14cf9e[_0x18a2ba(0x17d)]=_0x17b719;const _0x36d31b={..._0x25cae4['resources'][0x0][_0x18a2ba(0xcd)][_0x18a2ba(0x123)][0x0]};_0x36d31b['vnetSubnetID']=_0x3a5abb['tOfdB'],_0x46244c[_0x18a2ba(0x22b)][0x0][_0x18a2ba(0xcd)][_0x18a2ba(0x123)][0x0]=_0x36d31b;const _0x15c74f={};_0x15c74f[_0x18a2ba(0xed)]=_0x33c55a;const _0x5864d1={};_0x5864d1[_0x18a2ba(0xed)]=_0x4cb4d2[0x0];const _0x3b7ff3={..._0x41a850};_0x3b7ff3['vpcName']=_0x15c74f,_0x3b7ff3[_0x18a2ba(0x13f)]=_0x5864d1,_0x3766c7=_0x3b7ff3;}else{let _0x55094c=await fs['readFileAsync'](path[_0x18a2ba(0x158)](__dirname,'..',_0x3a5abb[_0x18a2ba(0x1cc)],_0x3a5abb[_0x18a2ba(0x133)],_0x18a2ba(0xef)+_0x247379+_0x18a2ba(0x228)),_0x3a5abb[_0x18a2ba(0x170)]);_0x55094c=JSON[_0x18a2ba(0x1cb)](_0x55094c);const _0x437b19={};_0x437b19['value']=_0x6e27f4,await this[_0x18a2ba(0x298)][_0x18a2ba(0x1ce)][_0x18a2ba(0x2b4)](global_registry['cloudProviderResourceGroup'],_0x3a5abb[_0x18a2ba(0x120)],{'properties':{'template':_0x55094c,'mode':_0x3a5abb[_0x18a2ba(0x22c)],'parameters':{'oidcIssuer':_0x437b19,'gridName':{'value':this[_0x18a2ba(0x186)]},'clusterName':{'value':this[_0x18a2ba(0x15c)]}}}});}}}async['setupHubHa'](_0xad95d6,_0x46906e,_0x5bd1e9,_0x340de1,_0x527431){const _0x53f5b4=a1_0x223019,_0x5ba777={};_0x5ba777[_0x53f5b4(0x16d)]=_0x53f5b4(0x191),_0x5ba777[_0x53f5b4(0x100)]='Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha';const _0x508ed3=_0x5ba777,_0x4532ec={};_0x4532ec['type']=WS_EVENTS[_0x53f5b4(0x1df)],_0x4532ec[_0x53f5b4(0x1dc)]=_0x508ed3[_0x53f5b4(0x16d)],this[_0x53f5b4(0x162)][_0x53f5b4(0x193)](this[_0x53f5b4(0x147)],_0x4532ec),logger[_0x53f5b4(0x1a0)](_0x508ed3[_0x53f5b4(0x16d)]),await this['createFederatedAccountForHubHA']();const _0x270721={};_0x270721[_0x53f5b4(0x1c2)]=WS_EVENTS[_0x53f5b4(0x1df)],_0x270721[_0x53f5b4(0x1dc)]=_0x508ed3['AyaZS'],this[_0x53f5b4(0x162)][_0x53f5b4(0x193)](this[_0x53f5b4(0x147)],_0x270721);}async[a1_0x223019(0x1d1)](){const _0x1aebcf=a1_0x223019,_0x35ac81={};_0x35ac81[_0x1aebcf(0x27e)]=_0x1aebcf(0x20d),_0x35ac81[_0x1aebcf(0x160)]=function(_0x595642,_0x3585de){return _0x595642!==_0x3585de;},_0x35ac81[_0x1aebcf(0x18f)]=_0x1aebcf(0x171),_0x35ac81[_0x1aebcf(0x165)]=_0x1aebcf(0x113),_0x35ac81[_0x1aebcf(0x12a)]='hubharesources',_0x35ac81[_0x1aebcf(0x222)]=_0x1aebcf(0x26c),_0x35ac81[_0x1aebcf(0x216)]=_0x1aebcf(0x22e),_0x35ac81[_0x1aebcf(0x245)]=_0x1aebcf(0x11a),_0x35ac81[_0x1aebcf(0x21e)]=_0x1aebcf(0x124);const _0x585d25=_0x35ac81;!this[_0x1aebcf(0xf5)]&&(_0x585d25[_0x1aebcf(0x160)](_0x585d25['zzBVZ'],_0x585d25[_0x1aebcf(0x18f)])?_0x48b148['info'](_0x585d25['qEZtb']):await this['getClusterInfo']());const _0x4e495f=this['clusterInfo']?.['oidcIssuerProfile']?.[_0x1aebcf(0x130)];let _0x48de38=await fs[_0x1aebcf(0x296)](path['join'](__dirname,'..',_0x585d25['DDKey'],_0x585d25[_0x1aebcf(0x12a)],_0x585d25[_0x1aebcf(0x222)]),_0x585d25[_0x1aebcf(0x216)]);_0x48de38=JSON['parse'](_0x48de38);const _0x334ac8={};_0x334ac8[_0x1aebcf(0xed)]=_0x4e495f,await this['resourceClient']['deployments'][_0x1aebcf(0x2b4)](global_registry[_0x1aebcf(0x260)],_0x585d25[_0x1aebcf(0x245)],{'properties':{'template':_0x48de38,'mode':_0x585d25[_0x1aebcf(0x21e)],'parameters':{'oidcIssuer':_0x334ac8,'namespace':{'value':global_registry[_0x1aebcf(0x156)]},'clusterName':{'value':this[_0x1aebcf(0x15c)]}}}});}async[a1_0x223019(0x190)](){const _0x26a0a3=a1_0x223019,_0x28e3ef={'XPTAZ':_0x26a0a3(0x213),'JsFCk':function(_0x5ecf64,_0x1173fb,_0x513c67){return _0x5ecf64(_0x1173fb,_0x513c67);},'GNrYf':function(_0x37aa30,_0x1613e0){return _0x37aa30===_0x1613e0;},'qjBaP':_0x26a0a3(0xd1),'lVdyS':_0x26a0a3(0x272),'kfOtj':function(_0x39186d,_0x13df82){return _0x39186d===_0x13df82;},'lnNLP':'DRshB','GXbuJ':_0x26a0a3(0xe5),'ldfmR':function(_0x4d8de0,_0x37c262){return _0x4d8de0!==_0x37c262;},'JtHzw':_0x26a0a3(0x1ea)},_0x32954d=this['getStorageAccountName'](),_0x270239=new Array();for await(const _0xdad49e of this[_0x26a0a3(0x22a)][_0x26a0a3(0x199)][_0x26a0a3(0x1f9)](global_registry[_0x26a0a3(0x260)])){if(_0x28e3ef[_0x26a0a3(0x251)](_0x28e3ef[_0x26a0a3(0x237)],_0x28e3ef['lVdyS'])){_0x3831d2[_0x26a0a3(0x1a0)](_0x28e3ef[_0x26a0a3(0x135)]);const _0x35a934={};_0x35a934['type']=_0x1c31c8['RESOURCES'],_0x35a934[_0x26a0a3(0x1dc)]=_0x28e3ef[_0x26a0a3(0x135)],this[_0x26a0a3(0x162)]['sendEventToBackend'](this[_0x26a0a3(0x147)],_0x35a934),_0x70b599[_0x26a0a3(0x122)][_0x26a0a3(0x1f8)]=!![];}else _0x270239['push'](_0xdad49e);}for await(const _0x198033 of _0x270239){if(_0x28e3ef[_0x26a0a3(0x183)](_0x28e3ef['lnNLP'],_0x28e3ef[_0x26a0a3(0x140)]))_0x28e3ef[_0x26a0a3(0x1d5)](_0x45e431,()=>_0x232858(),0x3e8);else{if(_0x28e3ef[_0x26a0a3(0x251)](_0x198033[_0x26a0a3(0xd7)],_0x32954d)){if(_0x28e3ef['ldfmR'](_0x28e3ef[_0x26a0a3(0x1f3)],_0x28e3ef[_0x26a0a3(0x1f3)]))_0x45a826[_0x26a0a3(0x121)](_0x9f123d);else return!![];}}}return![];}async[a1_0x223019(0xff)](){const _0x3d9af7=a1_0x223019,_0x2b55bc={};_0x2b55bc[_0x3d9af7(0x2b7)]=function(_0x101252,_0x17144c){return _0x101252+_0x17144c;},_0x2b55bc[_0x3d9af7(0xf3)]=_0x3d9af7(0x197),_0x2b55bc[_0x3d9af7(0x18c)]=function(_0x1760da,_0x1b6bef){return _0x1760da!==_0x1b6bef;},_0x2b55bc[_0x3d9af7(0x207)]=_0x3d9af7(0x21c),_0x2b55bc['BAqny']=function(_0x231a25,_0x38d405){return _0x231a25===_0x38d405;},_0x2b55bc[_0x3d9af7(0x104)]=_0x3d9af7(0x19a),_0x2b55bc[_0x3d9af7(0x2b9)]=_0x3d9af7(0x263),_0x2b55bc[_0x3d9af7(0x252)]=function(_0x25d6be,_0x3d67ca){return _0x25d6be===_0x3d67ca;},_0x2b55bc[_0x3d9af7(0x157)]=_0x3d9af7(0x23a);const _0x17750a=_0x2b55bc,_0x1d7d78=new Array();for await(const _0x215c0a of this['resourceClient'][_0x3d9af7(0x22b)][_0x3d9af7(0x1f9)](global_registry[_0x3d9af7(0x260)])){if(_0x17750a[_0x3d9af7(0x18c)](_0x17750a[_0x3d9af7(0x207)],_0x17750a[_0x3d9af7(0x207)]))return _0xeb27dc[_0x3d9af7(0x2a7)]('Cannot\x20find\x20subnets\x20'+_0xf6c2b4+_0x3d9af7(0x14e)+_0x4ea030),[![],[]];else _0x1d7d78['push'](_0x215c0a);}for await(const _0x2d943e of _0x1d7d78){if(_0x17750a[_0x3d9af7(0x24a)](_0x17750a[_0x3d9af7(0x104)],_0x17750a['aoLku']))_0x36dfd7[_0x3d9af7(0x295)]('['+_0x17750a['lQTDm'](_0x5b921e,0x1)+']\x20'+_0x3821aa[_0x3b9d9d]);else{if(_0x17750a[_0x3d9af7(0x252)](_0x2d943e[_0x3d9af7(0xd7)],_0x3d9af7(0x21a)+this['clusterName'])){if(_0x17750a[_0x3d9af7(0x252)](_0x17750a[_0x3d9af7(0x157)],_0x17750a['tXAvq']))return!![];else{const _0x48ea4d={};_0x48ea4d[_0x3d9af7(0x23e)]=!![],_0x48ea4d[_0x3d9af7(0x2a7)]=null,_0x48ea4d[_0x3d9af7(0x231)]=_0x17750a[_0x3d9af7(0xf3)];const _0x2d3b34=_0x48ea4d;return _0x2d3b34;}}}}return![];}async[a1_0x223019(0x220)](_0x45ea10,_0x12b229=0x3){const _0x128b55=a1_0x223019,_0xf8d752={'zxmzu':_0x128b55(0x1c8),'LbAoS':function(_0x57747c,_0x5fc1ab){return _0x57747c===_0x5fc1ab;},'PDvuW':function(_0x573387,_0x4f2bf2){return _0x573387===_0x4f2bf2;},'qOLyP':_0x128b55(0x1dd),'bNSLp':_0x128b55(0x29e),'FyXPL':function(_0x4b2650,_0x4ce576,_0x23da92){return _0x4b2650(_0x4ce576,_0x23da92);},'SivvY':_0x128b55(0x2b3),'oPPsp':'tnEaS','IXYBC':function(_0x23cfef,_0x3126c8){return _0x23cfef===_0x3126c8;},'ukYCn':_0x128b55(0x232),'lXVcK':function(_0x97a609,_0xfcc92){return _0x97a609===_0xfcc92;},'CyZia':_0x128b55(0x114),'KLVUs':function(_0x2ef66e,_0x46e925){return _0x2ef66e!==_0x46e925;},'scqHi':_0x128b55(0x1e5),'Fofzh':_0x128b55(0x2a2),'vDSxl':_0x128b55(0x116),'lQgDE':function(_0x245077,_0x2d7110){return _0x245077===_0x2d7110;},'xSpWu':_0x128b55(0x29f),'lMWfu':function(_0x32c053,_0x9f44b9){return _0x32c053<=_0x9f44b9;},'tdTfY':_0x128b55(0x125),'pzvuz':function(_0x2b0cd6,_0x27573d){return _0x2b0cd6-_0x27573d;}};try{if(_0xf8d752[_0x128b55(0x1bb)](_0xf8d752[_0x128b55(0xf2)],_0xf8d752['oPPsp'])){const _0x29868e=_0xf8d752[_0x128b55(0x262)][_0x128b55(0xe2)]('|');let _0x3735ed=0x0;while(!![]){switch(_0x29868e[_0x3735ed++]){case'0':_0x118642[_0x128b55(0xeb)]=_0x142935[this[_0x128b55(0x1da)]]['clientSecret'];continue;case'1':_0x51320f[_0x128b55(0x149)]=_0x4efea8[this[_0x128b55(0x1da)]][_0x128b55(0x24f)];continue;case'2':_0x5567b0[_0x128b55(0x1d9)]=_0x42f127[this['cloudProviderName']][_0x128b55(0x15a)];continue;case'3':this[_0x128b55(0x202)]();continue;case'4':_0x384af3['cloudProviderTenantId']=_0x3f7ca9[this[_0x128b55(0x1da)]]['tenantId'];continue;case'5':_0x35465d[_0x128b55(0x260)]=_0x55a47a[this[_0x128b55(0x1da)]][_0x128b55(0x20f)];continue;}break;}}else{const _0x39b8bd=new Array();for await(const _0x215fad of this[_0x128b55(0x298)][_0x128b55(0x22b)][_0x128b55(0x1f9)](global_registry['cloudProviderResourceGroup'])){_0xf8d752[_0x128b55(0x1c3)](_0xf8d752[_0x128b55(0x299)],_0xf8d752['ukYCn'])?_0x39b8bd[_0x128b55(0x121)](_0x215fad):_0x492b2[_0x128b55(0x121)](_0x191853[_0x128b55(0xd7)]);}let _0x5686ca='';for await(const _0x36e90b of _0x39b8bd){_0xf8d752[_0x128b55(0x244)](_0xf8d752['CyZia'],_0xf8d752[_0x128b55(0x22f)])?_0xf8d752[_0x128b55(0x17f)](_0x36e90b['name'],_0x45ea10)&&(_0xf8d752[_0x128b55(0x28c)](_0xf8d752[_0x128b55(0x214)],_0xf8d752['Fofzh'])?_0x5686ca=_0x36e90b['id']:_0x28e11b[_0x128b55(0x121)](_0x17445b)):_0xf8d752[_0x128b55(0x1bb)](_0x4dff2e['name'],_0xd6cbdd)&&(_0x1fe734=_0x5f3a9f['id']);}const _0x4a49ea=await this[_0x128b55(0x298)][_0x128b55(0x22b)]['getById'](_0x5686ca,_0xf8d752[_0x128b55(0xf1)]);return _0x4a49ea[_0x128b55(0xcd)]['clientId'];}}catch(_0x4af691){if(_0xf8d752['lQgDE'](_0xf8d752[_0x128b55(0x266)],_0xf8d752[_0x128b55(0x266)])){if(_0xf8d752['lMWfu'](_0x12b229,0x0)){if(_0xf8d752[_0x128b55(0x28c)](_0xf8d752['tdTfY'],_0xf8d752[_0x128b55(0x254)])){const _0x51db5d=new _0x46c3e1(_0x271b46['cloudProviderTenantId'],_0x226577[_0x128b55(0x1d9)],_0x5ae09a[_0x128b55(0xeb)]);this[_0x128b55(0x2aa)]=new _0x1b3a8d(_0x51db5d,_0x45d308[_0x128b55(0x149)]),this[_0x128b55(0x22a)]=new _0x2a78d8(_0x51db5d,_0x151a1a['cloudProviderSubscriptionId']),this[_0x128b55(0x298)]=new _0x5cba6f(_0x51db5d,_0x11bd4b[_0x128b55(0x149)]),this[_0x128b55(0x1ae)]=new _0x1343a5(_0x51db5d,_0x3df04a[_0x128b55(0x149)]),this['authClient']=new _0xcd14d0(_0x51db5d,_0x1cc377[_0x128b55(0x149)]),this[_0x128b55(0x227)]=_0x51db5d;}else return logger[_0x128b55(0x2a7)](_0x128b55(0x26e)+_0x4af691+':'+_0x4af691['stack']),{};}return await new Promise(_0x2db872=>{const _0xe75855=_0x128b55;if(_0xf8d752['PDvuW'](_0xf8d752[_0xe75855(0xe4)],_0xf8d752['bNSLp']))return!![];else _0xf8d752['FyXPL'](setTimeout,()=>_0x2db872(),0x3e8);}),this[_0x128b55(0x220)](_0x45ea10,_0xf8d752['pzvuz'](_0x12b229,0x1));}else _0x863edb[_0x128b55(0x2a7)]=_0x26e6dc;}}async[a1_0x223019(0xe7)](){const _0x4294ea=a1_0x223019,_0x3050d3={};_0x3050d3['JLCKq']=function(_0xca179f,_0xc0da7a){return _0xca179f!==_0xc0da7a;},_0x3050d3[_0x4294ea(0x155)]='heUqZ',_0x3050d3['AIEkU']=function(_0x36626d,_0x162afb){return _0x36626d===_0x162afb;},_0x3050d3[_0x4294ea(0x169)]=_0x4294ea(0x1e3),_0x3050d3[_0x4294ea(0xea)]='BrowserStack',_0x3050d3[_0x4294ea(0x24e)]='FJyKX',_0x3050d3[_0x4294ea(0x1a7)]=_0x4294ea(0x1d2);const _0x3bbf56=_0x3050d3;!this[_0x4294ea(0xf5)]&&(_0x3bbf56['JLCKq'](_0x3bbf56['QaJFy'],_0x3bbf56[_0x4294ea(0x155)])?_0x56d59c[_0x4294ea(0x121)](..._0xe7bd[_0x4294ea(0x286)]):await this['getClusterInfo']());const _0x22d445=this['clusterInfo']?.[_0x4294ea(0x21b)]||{};if(_0x22d445&&_0x3bbf56['AIEkU'](_0x22d445[_0x3bbf56[_0x4294ea(0x169)]],_0x3bbf56[_0x4294ea(0xea)]))return _0x3bbf56[_0x4294ea(0x271)](_0x3bbf56[_0x4294ea(0x24e)],_0x3bbf56['CiaBY'])?!![]:_0x134925[_0x4294ea(0x23e)][_0x4294ea(0x182)]['ingress'][0x0]['hostname'];return![];}async[a1_0x223019(0x269)](_0x169b57,_0x2a706e){const _0x3eb10d=a1_0x223019,_0x1fae19={'ASGEj':function(_0x591f63,_0x1cb3d4){return _0x591f63(_0x1cb3d4);},'ECUCa':_0x3eb10d(0x1be)};await _0x1fae19[_0x3eb10d(0x268)](deleteAgent,_0x169b57),await _0x1fae19['ASGEj'](deleteRoutingDeps,_0x169b57);const _0x334613=this[_0x3eb10d(0x2aa)];logger['info']('Deleting\x20the\x20cluster\x20'+this['clusterName']),await _0x334613[_0x3eb10d(0x1f0)][_0x3eb10d(0x211)](global_registry[_0x3eb10d(0x260)],this['clusterName']),logger[_0x3eb10d(0x1a0)](_0x1fae19[_0x3eb10d(0x1aa)]);}async[a1_0x223019(0x16f)](){const _0xc41c07=a1_0x223019,_0x3f09a4={};_0x3f09a4[_0xc41c07(0x152)]=_0xc41c07(0x1e8),_0x3f09a4['SykDd']=function(_0x73851c,_0x4f241b){return _0x73851c===_0x4f241b;},_0x3f09a4[_0xc41c07(0xd3)]=_0xc41c07(0x1c9),_0x3f09a4['VtnIM']=function(_0x3b5a49,_0x2b40c0){return _0x3b5a49!==_0x2b40c0;},_0x3f09a4[_0xc41c07(0x248)]=_0xc41c07(0x24b),_0x3f09a4['mIVdu']=_0xc41c07(0x1f2),_0x3f09a4['sDoSQ']=function(_0x2a83a7,_0x12273d){return _0x2a83a7&&_0x12273d;},_0x3f09a4[_0xc41c07(0x2bb)]=_0xc41c07(0x257),_0x3f09a4[_0xc41c07(0x1fc)]=_0xc41c07(0x11c),_0x3f09a4[_0xc41c07(0x267)]=_0xc41c07(0x144),_0x3f09a4['RlaWr']=_0xc41c07(0x154),_0x3f09a4[_0xc41c07(0x2ac)]=_0xc41c07(0x213),_0x3f09a4[_0xc41c07(0x173)]=function(_0x265c05,_0x470bc1){return _0x265c05===_0x470bc1;},_0x3f09a4[_0xc41c07(0x282)]='ZVuvD',_0x3f09a4[_0xc41c07(0x2ab)]=_0xc41c07(0x189),_0x3f09a4['IwSpk']=_0xc41c07(0x23f);const _0x5f2407=_0x3f09a4;if(!this[_0xc41c07(0xf5)]){if(_0x5f2407[_0xc41c07(0x14c)](_0x5f2407[_0xc41c07(0x248)],_0x5f2407[_0xc41c07(0x159)]))await this['getClusterInfo']();else{_0x37d715[_0xc41c07(0x1a0)](_0x5f2407[_0xc41c07(0x152)]);const _0x3a5639={};_0x3a5639[_0xc41c07(0x1c2)]=_0x4b1403[_0xc41c07(0x181)],_0x3a5639[_0xc41c07(0x1dc)]=_0x5f2407[_0xc41c07(0x152)],this[_0xc41c07(0x162)][_0xc41c07(0x193)](this[_0xc41c07(0x147)],_0x3a5639);const _0x3b9bbc={};_0x3b9bbc[_0xc41c07(0x1f8)]=!![];const _0x42f2c8={'workloadIdentity':_0x3b9bbc,..._0x1725b2[_0xc41c07(0xe1)]};_0x5da0f3[_0xc41c07(0xe1)]=_0x42f2c8;}}const _0x330310=this[_0xc41c07(0xf5)],_0x236216=this[_0xc41c07(0xf5)]?.[_0xc41c07(0x122)]?.['enabled']||![],_0x355d00=this['clusterInfo']?.[_0xc41c07(0xe1)]?.[_0xc41c07(0x176)]?.[_0xc41c07(0x1f8)]||![],_0x58c5ca=!this['clusterInfo']?.[_0xc41c07(0x23d)]||![];if(_0x5f2407['sDoSQ'](_0x236216,_0x355d00)&&_0x58c5ca){if(_0x5f2407['VtnIM'](_0x5f2407[_0xc41c07(0x2bb)],_0x5f2407[_0xc41c07(0x1fc)]))return;else return!![];}if(!_0x236216){if(_0x5f2407[_0xc41c07(0x14c)](_0x5f2407['avdGg'],_0x5f2407['RlaWr'])){logger['info'](_0x5f2407[_0xc41c07(0x2ac)]);const _0x2f3605={};_0x2f3605[_0xc41c07(0x1c2)]=WS_EVENTS['RESOURCES'],_0x2f3605[_0xc41c07(0x1dc)]=_0x5f2407[_0xc41c07(0x2ac)],this[_0xc41c07(0x162)][_0xc41c07(0x193)](this[_0xc41c07(0x147)],_0x2f3605),_0x330310[_0xc41c07(0x122)]['enabled']=!![];}else return;}if(!_0x355d00){if(_0x5f2407[_0xc41c07(0x173)](_0x5f2407['tXLQI'],_0x5f2407['tXLQI'])){logger[_0xc41c07(0x1a0)](_0x5f2407[_0xc41c07(0x152)]);const _0x2376bf={};_0x2376bf['type']=WS_EVENTS[_0xc41c07(0x181)],_0x2376bf['message']=_0x5f2407[_0xc41c07(0x152)],this['webSocketUtils'][_0xc41c07(0x193)](this['rws'],_0x2376bf);const _0x27b207={};_0x27b207[_0xc41c07(0x1f8)]=!![],_0x330310[_0xc41c07(0xe1)]={'workloadIdentity':_0x27b207,..._0x330310[_0xc41c07(0xe1)]};}else _0x2ba600+=_0x5f2407['SykDd'](_0x16cc88[_0xc41c07(0x247)],0x0)?_0x5f2407[_0xc41c07(0xd3)]:'',_0x4aa579[_0xc41c07(0x274)](_0xc41c07(0x111)+_0x315921[_0xc41c07(0x13b)](_0x37a044));}if(!_0x58c5ca){if(_0x5f2407['VtnIM'](_0x5f2407['RGBnz'],_0x5f2407[_0xc41c07(0x2ab)]))return _0x46baf2[_0xc41c07(0x2a7)](_0xc41c07(0x1b7)+_0x15a605+'.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20'+_0x440825),![];else{logger['info'](_0x5f2407[_0xc41c07(0x1ba)]);const _0x23cb12={};_0x23cb12['type']=WS_EVENTS[_0xc41c07(0x181)],_0x23cb12[_0xc41c07(0x1dc)]=_0x5f2407[_0xc41c07(0x1ba)],this['webSocketUtils'][_0xc41c07(0x193)](this[_0xc41c07(0x147)],_0x23cb12),_0x330310['disableLocalAccounts']=![];}}await this[_0xc41c07(0x2aa)][_0xc41c07(0x1f0)]['beginCreateOrUpdateAndWait'](global_registry[_0xc41c07(0x260)],this[_0xc41c07(0x15c)],_0x330310),await this['getClusterInfo']();}async['sendAzureInfoToHST'](){const _0x2f7d10=a1_0x223019,_0x23ad4b={};_0x23ad4b[_0x2f7d10(0x11d)]=_0x2f7d10(0x184),_0x23ad4b[_0x2f7d10(0x226)]=function(_0x648132,_0x4bd310){return _0x648132!==_0x4bd310;},_0x23ad4b[_0x2f7d10(0x241)]=_0x2f7d10(0x11b),_0x23ad4b[_0x2f7d10(0x18b)]='uwTZE';const _0x27822e=_0x23ad4b,_0x223395=await this['networkClient'][_0x2f7d10(0x12f)]['listAll'](global_registry['cloudProviderResourceGroup']),_0x447d02={};_0x447d02['username']=global_registry[_0x2f7d10(0x212)],_0x447d02['accessKey']=global_registry[_0x2f7d10(0x27b)],_0x447d02[_0x2f7d10(0x239)]=AZURE,_0x447d02[_0x2f7d10(0x26b)]=[];const _0x267e15=_0x447d02;for await(const _0x10a7bf of _0x223395){_0x27822e[_0x2f7d10(0x226)](_0x27822e[_0x2f7d10(0x241)],_0x27822e[_0x2f7d10(0x18b)])?_0x267e15[_0x2f7d10(0x26b)][_0x2f7d10(0x121)](_0x10a7bf):(_0x5b05fb[_0x2f7d10(0x2a7)](_0x27822e[_0x2f7d10(0x11d)]),_0x48f9ca[_0x2f7d10(0x243)](0x1));}const _0x4b8eb8={};_0x4b8eb8[_0x2f7d10(0x1c2)]=WS_EVENTS['RESOURCES'],_0x4b8eb8['message']=_0x267e15,this[_0x2f7d10(0x162)][_0x2f7d10(0x193)](this['rws'],_0x4b8eb8);}async['isVPCPresent'](_0x5448c1){const _0x186979=a1_0x223019,_0x1a12c5={};_0x1a12c5[_0x186979(0xf0)]=_0x186979(0x20a),_0x1a12c5[_0x186979(0x20b)]='Enabling\x20Local\x20account\x20for\x20the\x20cluster',_0x1a12c5[_0x186979(0x24d)]=function(_0x56730e,_0x102c34){return _0x56730e===_0x102c34;},_0x1a12c5[_0x186979(0x293)]='UyqpZ',_0x1a12c5[_0x186979(0xfe)]=_0x186979(0x2a0),_0x1a12c5[_0x186979(0xd0)]=_0x186979(0x1d6),_0x1a12c5[_0x186979(0x188)]=function(_0x3351e5,_0x1c6c9b){return _0x3351e5===_0x1c6c9b;},_0x1a12c5[_0x186979(0x12b)]=function(_0x1981ba,_0x5c54e8){return _0x1981ba===_0x5c54e8;},_0x1a12c5[_0x186979(0x20e)]='USAcG',_0x1a12c5[_0x186979(0x22d)]='dFFkh',_0x1a12c5[_0x186979(0x21d)]=function(_0xae6781,_0x284fee){return _0xae6781===_0x284fee;},_0x1a12c5[_0x186979(0xf6)]='NhHsq';const _0x6ee897=_0x1a12c5;try{if(_0x6ee897[_0x186979(0x24d)](_0x6ee897[_0x186979(0x293)],_0x6ee897[_0x186979(0xfe)]))_0x140422[_0x186979(0x26b)][_0x186979(0x121)](_0xabf482);else{const _0x2157d7=await this[_0x186979(0x1ae)][_0x186979(0x12f)][_0x186979(0x15f)](global_registry[_0x186979(0x260)]);for await(const _0x22eebc of _0x2157d7){if(_0x6ee897[_0x186979(0x24d)](_0x6ee897['wDCVX'],_0x6ee897['wDCVX'])){if(_0x6ee897[_0x186979(0x188)](_0x22eebc[_0x186979(0xd7)],_0x5448c1))return _0x6ee897[_0x186979(0x12b)](_0x6ee897[_0x186979(0x20e)],_0x6ee897[_0x186979(0x22d)])?(_0x298a45['data']=_0x6ee897[_0x186979(0xf0)],_0x5aa9b5):!![];}else{_0x4b53e2[_0x186979(0x1a0)](_0x6ee897['paraw']);const _0x377a57={};_0x377a57[_0x186979(0x1c2)]=_0x2e9e65[_0x186979(0x181)],_0x377a57[_0x186979(0x1dc)]=_0x6ee897[_0x186979(0x20b)],this[_0x186979(0x162)]['sendEventToBackend'](this[_0x186979(0x147)],_0x377a57),_0x2cd62a[_0x186979(0x23d)]=![];}}}}catch(_0x47aad3){if(_0x6ee897[_0x186979(0x21d)](_0x6ee897['JfmqB'],_0x6ee897[_0x186979(0xf6)]))return logger['error'](_0x186979(0x1b7)+_0x5448c1+_0x186979(0x203)+_0x47aad3),![];else _0x215d75[_0x186979(0x23e)]=![];}return![];}async[a1_0x223019(0x16c)](_0x4cfac1,_0x55a8d4){const _0x503ecc=a1_0x223019,_0x47884b={};_0x47884b[_0x503ecc(0x166)]=function(_0x456e72,_0x3db932){return _0x456e72===_0x3db932;},_0x47884b[_0x503ecc(0x1f4)]=function(_0x33c464,_0x4ffe1a){return _0x33c464!==_0x4ffe1a;},_0x47884b[_0x503ecc(0x29b)]=_0x503ecc(0x27d),_0x47884b[_0x503ecc(0x10b)]=function(_0x115e71,_0x8705e4){return _0x115e71===_0x8705e4;},_0x47884b['vVndr']='VdxqJ';const _0x51e513=_0x47884b;try{if(_0x51e513[_0x503ecc(0x1f4)](_0x51e513[_0x503ecc(0x29b)],_0x51e513[_0x503ecc(0x29b)]))_0x2756e5[_0x503ecc(0x243)](0x0);else{const _0x2ec0ac=await this['networkClient'][_0x503ecc(0x230)][_0x503ecc(0x17a)](global_registry[_0x503ecc(0x260)],_0x55a8d4,_0x4cfac1[0x0]);if(_0x51e513[_0x503ecc(0x10b)](_0x4cfac1[0x0],_0x2ec0ac[_0x503ecc(0xd7)])){if(_0x51e513[_0x503ecc(0x10b)](_0x51e513[_0x503ecc(0x13d)],_0x51e513[_0x503ecc(0x13d)]))return[!![],_0x4cfac1];else{if(_0x51e513[_0x503ecc(0x166)](_0x4e25f3[_0x503ecc(0xd7)],_0x257d66))return!![];}}}}catch(_0x322d16){return logger['error'](_0x503ecc(0x17c)+_0x4cfac1+_0x503ecc(0x14e)+_0x322d16),[![],[]];}return[![],[]];}async[a1_0x223019(0x19d)](){const _0x2042a3=a1_0x223019,_0x5e9163={};_0x5e9163[_0x2042a3(0xf7)]=_0x2042a3(0x197);const _0x5ec671=_0x5e9163,_0xb68471={};_0xb68471[_0x2042a3(0x23e)]=!![],_0xb68471[_0x2042a3(0x2a7)]=null,_0xb68471['data']=_0x5ec671[_0x2042a3(0xf7)];const _0x5192a5=_0xb68471;return _0x5192a5;}async[a1_0x223019(0x215)](){const _0x28b8a7=a1_0x223019,_0x1c490b={};_0x1c490b[_0x28b8a7(0x26a)]='https://graph.microsoft.com/.default',_0x1c490b[_0x28b8a7(0x275)]='GET',_0x1c490b['tqBUH']=_0x28b8a7(0x196);const _0x1197fd=_0x1c490b,_0x51a8e9=await this['cred'][_0x28b8a7(0x128)](_0x1197fd[_0x28b8a7(0x26a)]),_0x2feb4e={};_0x2feb4e[_0x28b8a7(0xd6)]=_0x1197fd[_0x28b8a7(0x275)],_0x2feb4e[_0x28b8a7(0x18a)]={},_0x2feb4e[_0x28b8a7(0x18a)]['Authorization']=_0x28b8a7(0x174)+_0x51a8e9['token'],_0x2feb4e[_0x28b8a7(0x18a)][_0x28b8a7(0x28a)]=_0x1197fd['tqBUH'];const _0xbdd37=_0x2feb4e;return _0xbdd37;}async[a1_0x223019(0x2a8)](_0x8e3baf){const _0x1fe26c=a1_0x223019,_0x1fd6b9={'UZnIw':function(_0x475a71,_0x5b2b38,_0x4d6980){return _0x475a71(_0x5b2b38,_0x4d6980);},'gvUyB':function(_0x3290ea,_0x1a3d0a){return _0x3290ea===_0x1a3d0a;},'ZlbcU':_0x1fe26c(0x129)},_0x451464={};_0x451464[_0x1fe26c(0x1ca)]='',_0x451464[_0x1fe26c(0x2a7)]=null;const _0x517a07=_0x451464;try{const _0x55a58c=_0x1fe26c(0x1c7)+_0x8e3baf+'\x27',_0x3a9e0f=await this[_0x1fe26c(0x215)](),_0x29c1c4=await _0x1fd6b9[_0x1fe26c(0xfd)](fetch,_0x55a58c,_0x3a9e0f),_0x457902=await _0x29c1c4[_0x1fe26c(0x10f)]();if(!_0x457902[_0x1fe26c(0xed)]||_0x1fd6b9['gvUyB'](_0x457902[_0x1fe26c(0xed)][_0x1fe26c(0x247)],0x0))throw new Error(_0x1fd6b9['ZlbcU'],_0x1fe26c(0xd5)+JSON['stringify'](_0x457902));_0x517a07[_0x1fe26c(0x1ca)]=_0x457902[_0x1fe26c(0xed)][0x0]['id'];}catch(_0x285e83){_0x517a07['error']=_0x285e83;}return _0x517a07;}async[a1_0x223019(0x1fd)](){const _0x211e98=a1_0x223019,_0x53f14f={};_0x53f14f[_0x211e98(0x1e7)]=_0x211e98(0x281),_0x53f14f[_0x211e98(0x1d0)]=_0x211e98(0x2b0),_0x53f14f[_0x211e98(0x2ba)]=function(_0xa644a1,_0xacc9cc){return _0xa644a1!==_0xacc9cc;},_0x53f14f['WzGDK']=function(_0x12e017,_0x5414ce){return _0x12e017===_0x5414ce;},_0x53f14f[_0x211e98(0x26f)]='No\x20attached\x20role\x20for\x20the\x20client\x20key',_0x53f14f[_0x211e98(0x2a5)]=function(_0x3656c3,_0x2d32f2){return _0x3656c3===_0x2d32f2;},_0x53f14f['eUJSh']=_0x211e98(0x20a),_0x53f14f[_0x211e98(0x1e6)]=function(_0x50c42a,_0x5c198c){return _0x50c42a===_0x5c198c;},_0x53f14f['Koavn']=_0x211e98(0x1c9);const _0x3f3802=_0x53f14f,_0x2cf16e={};_0x2cf16e[_0x211e98(0x23e)]=![],_0x2cf16e[_0x211e98(0x2a7)]=null,_0x2cf16e[_0x211e98(0x231)]='';const _0x2391a1=_0x2cf16e;try{let _0x3cfffa='';const _0x376334=_0x211e98(0x258)+global_registry[_0x211e98(0x149)]+_0x211e98(0x1eb)+global_registry[_0x211e98(0x260)],_0x26d317=await this[_0x211e98(0x2a8)](global_registry[_0x211e98(0x1d9)]);if(_0x3f3802['ifoFZ'](_0x26d317['error'],null))return _0x2391a1[_0x211e98(0x2a7)]=_0x26d317['error'],_0x2391a1;const _0x9f7201=_0x211e98(0x279)+_0x26d317['principalId']+'\x27)',_0x3c1194={};_0x3c1194['filter']=_0x9f7201;const _0x12a5c2=await this[_0x211e98(0x242)]['roleAssignments'][_0x211e98(0x1a4)](_0x376334,_0x3c1194),_0x3170ff=[];for await(const _0x4a6626 of _0x12a5c2){_0x3170ff[_0x211e98(0x121)](_0x4a6626);}if(_0x3f3802[_0x211e98(0x112)](_0x3170ff[_0x211e98(0x247)],0x0))return _0x2391a1[_0x211e98(0x231)]=_0x3f3802[_0x211e98(0x26f)],_0x2391a1;const _0x13f196=[...new Set(_0x3170ff[_0x211e98(0x284)](_0x2aa900=>_0x2aa900[_0x211e98(0x2b1)]))];if(_0x3f3802[_0x211e98(0x2a5)](_0x13f196[_0x211e98(0x247)],0x0))return _0x2391a1['data']=_0x3f3802[_0x211e98(0x141)],_0x2391a1;const _0x22c3c2=[],_0x1ec3a9=[];for(const _0x4be305 of _0x13f196){const _0x333816=await this['authClient'][_0x211e98(0x1cf)][_0x211e98(0xe9)](_0x4be305);logger[_0x211e98(0x274)](_0x211e98(0x175)+_0x333816[_0x211e98(0x187)]),_0x22c3c2[_0x211e98(0x121)](_0x333816),logger['debug'](_0x211e98(0x192)+JSON[_0x211e98(0x13b)](_0x333816[_0x211e98(0x14b)])),_0x333816['permissions'][_0x211e98(0x255)](_0x249a44=>{const _0x574737=_0x211e98;_0x1ec3a9[_0x574737(0x121)](..._0x249a44[_0x574737(0x286)]);});}logger[_0x211e98(0x274)]('actionPermission\x20:\x20'+JSON[_0x211e98(0x13b)](_0x1ec3a9)),_0x3f3802['kIGyq'](_0x1ec3a9['length'],0x0)&&(_0x3cfffa+=_0x3f3802[_0x211e98(0x112)](_0x1ec3a9[_0x211e98(0x247)],0x0)?_0x3f3802[_0x211e98(0x1cd)]:'',logger[_0x211e98(0x274)]('Role\x20definition\x20response\x20list\x20\x20:\x20\x20'+JSON[_0x211e98(0x13b)](_0x22c3c2))),_0x2391a1[_0x211e98(0x23e)]=!![],Object[_0x211e98(0x107)](PERMISSIONS['ACTION'])[_0x211e98(0x255)](([_0x125c0b,_0x4ee286])=>{const _0x5e58a5=_0x211e98,_0x99195c=_0x1ec3a9[_0x5e58a5(0x18d)](_0x125c0b);_0x3cfffa+='\x0a\x09'+_0x4ee286+':\x20'+(_0x99195c?_0x3f3802[_0x5e58a5(0x1e7)]:_0x3f3802[_0x5e58a5(0x1d0)]),!_0x99195c&&(_0x2391a1[_0x5e58a5(0x23e)]=![]);}),_0x2391a1[_0x211e98(0x231)]=_0x3cfffa;}catch(_0x1330de){_0x2391a1[_0x211e98(0x2a7)]=_0x1330de;}return _0x2391a1;}}const a1_0x70d709={};function a1_0x1b15(){const _0x303a45=['lXVcK','FuQSs','getGridHostname','length','XkpuN','string','BAqny','vIarH','RrukW','DPbVq','toSZp','subscriptionId','uqSgZ','GNrYf','EWdfh','NnJey','tdTfY','forEach','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','QprOf','subscriptions/','node','tlGEQ','tlvCc','fAsME','getResourceGroups','policy','No\x20attached\x20role\x20for\x20the\x20client\x20key','cloudProviderResourceGroup','OUwLJ','zxmzu','BrkeP','TDAIX','storageAccountName','xSpWu','avdGg','ASGEj','deleteCluster','sNKpp','vpcInfo','federatedidentityuploader.json','path','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','IlqYd','stack','JLCKq','AmgXo','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','debug','QYZGj','UxaYJ','xHYHW','gNjzo','assignedTo(\x27','KSxBj','bstackAccesskey','akscluster.json','tZnMR','qEZtb','gdxla','fpUBb','allowed','tXLQI','ibLzr','map','YGqQM','actions','yicWh','rules','ztxFw','Content-Type','20eetnps','KLVUs','metadata','Found\x20only\x20one\x20resource\x20group:\x20','TGqwl','QNjfz','GmppZ','YLAbP','eSnOq','mFEcQ','log','readFileAsync','pnzpd','resourceClient','ukYCn','listClusterAdminCredentials','dfNTz','tRAoh','clrLb','GdRNh','xXXgj','QULlF','uyILY','lzXgR','Jlkxh','HZSQo','UFLjf','userMaxNodes','error','getPrincipalIdFromClientId','QKXRz','containerClient','RGBnz','eIMBe','setCachedCredsInRegistry','clientSecret','DCSte','denied','roleDefinitionId','ySjwL','tajFb','beginCreateOrUpdateAndWait','cYakK','js-yaml','lQTDm','description','aoLku','ifoFZ','hUGBh','toUpperCase','properties','gAaiq','MncRC','wDCVX','zvKna','ktxxy','jajCG','getClusterInfo','Received\x20response\x20-\x20','method','name','ObGxK','ROwqQ','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','muqap','XLXEw','parameters','hub','Creating\x20Azure\x20federated\x20identity','WboIh','securityProfile','split','./CloudProvider','qOLyP','pztFA','WcFkL','isBrowserstackCluster','getUserInput','getById','ePMew','cloudProviderClientSecret','\x20CLIENT\x20SECRET:\x20','value','createManagedIdentity','federatedidentity','jMnbm','vDSxl','SivvY','dFukL','hostname','clusterInfo','JfmqB','HQUgZ','Yvaei','createFederatedAccount','bHWVp','LsWES','YbHTG','UZnIw','JNFIy','isManagedIdentityPresent','AyaZS','3|4|1|0|5|2','\x20RESOURCE\x20GROUP:\x20','3347907hWUYZh','roJJj','oSaWE','bhAsO','entries','YPeFL','IHfXW','cSDkQ','ZzBLQ','mfzjM','NCtFt','@azure/identity','json','@azure/arm-storage','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','WzGDK','templates','TqcKq','lNUNx','2023-01-31','siVeK','TreUO','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','turboscale-federated-deployment','MqbwH','QlKbe','uDtVd','KAalz','../config/constants','ldejG','push','oidcIssuerProfile','agentPoolProfiles','Incremental','jDyGG','SckqL','turboscale','getToken','No\x20service\x20principal\x20found','vPhJO','TWSnS','vpoxm','FxXWb','DiAqj','virtualNetworks','issuerURL','ZQTGb','fDSjI','IJcRk','RizeA','XPTAZ','\x20CLIENT\x20ID:\x20','BaRTc','blockBlob','AzureCloudProvider','543867vSzBpQ','stringify','kKABv','vVndr','Created\x20Azure\x20federated\x20identity','subnetName','GXbuJ','eUJSh','@azure/arm-containerservice','rgQjW','SLAbI','wrWBw','Creating\x20Azure\x20storage\x20account','rws','../permissions/AZURE.json','cloudProviderSubscriptionId','VUtGB','permissions','VtnIM','oWoYx','.\x20Error:\x20','turboscale-cluster-deployment','egNQQ','blobTypes','uMEZn','Hwoag','UUlPw','QaJFy','hubHaNameSpace','tXAvq','join','mIVdu','clientId','ASXdo','clusterName','mVoTw','turboscale-identity-deployment','listAll','EqBDW','../utils/gridComponents','webSocketUtils','vukCa','5|6|7|2|3|4|0|1','DDKey','vZwgy','nTNNl','3|5|1|4|0|2','NaLWU','AwplT','laheU','isSubnetsValid','dViKN','init','updateClusterAlreadyPresent','LGcdn','XlCcW','kubeconfigs','AsNBa','Bearer\x20','role\x20name\x20attached\x20-\x20','workloadIdentity','userInstanceType','maxNodes','srGRA','get','qqGQB','Cannot\x20find\x20subnets\x20','variables','frfDw','PDvuW','jqghm','RESOURCES','loadBalancer','kfOtj','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','VQfJs','gridName','roleName','Jvsvr','ZZmyJ','headers','DZfMJ','EwFVR','includes','filters','zzBVZ','isStorageAccountPresent','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','Attached\x20permissions\x20:\x20','sendEventToBackend','Managed\x20identity\x20already\x20exists,\x20skipping','RPrvG','application/json','No\x20CLI\x20tool\x20required','@azure/arm-network','storageAccounts','GSWTg','RQVpw','5457580yrtPdo','isCliToolInstalled','lhpcV','YZqvS','info','clusterAutoUpgrade','OxpNa','DbYbH','listForScope','rgTgz','QULbU','CiaBY','PhtJa','createOtherResources','ECUCa','definition','azureresources','rupOO','networkClient','tKRAx','bYJYP','ZproA','SZEif','[variables(\x27vnetSubnetID\x27)]','5054463TYmLAf','vnetSubnetID','s3Bucket','Cannot\x20find\x20VPC\x20','instanceType','KmCMR','IwSpk','LbAoS','WytbD','cloudProviderTenantId','Deleted\x20the\x20cluster\x20successfully','hrXXN','sendAzureInfoToHST','kzVyF','type','IXYBC','false','getStorageAccountName','../config/logger','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','2|0|4|1|5|3','Action\x20permission\x20list\x20is\x20empty\x0a','principalId','parse','KugSM','Koavn','deployments','roleDefinitions','jDwhO','createFederatedAccountForHubHA','TgXVT','FJYxo','gzUtF','JsFCk','zZtbw','rZxTO','daysAfterCreationGreaterThan','cloudProviderClientId','cloudProviderName','uNpor','message','gvQZV','3827900GrxFfe','LOG','bnztp','BSliS','CMyLk','browserstack:managedBy','default','EHjwD','kIGyq','LAhIF','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','sBCuQ','SZPqS','/resourceGroups/','rRdbj','managementPolicies','slice','YQmvO','managedClusters','tJtdR','qVbCS','JtHzw','FDXSq','cavRe','exports','pTbII','enabled','listByResourceGroup','VoJnH','QPzcz','tdxqW','checkAccess','INrnQ','turboscale-storageaccount-deployment','EUcHk','196NpNHdW','setClients','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','MkDMM','tOfdB','setupNewCluster','zroip','TJbLe','list','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','paraw','297384BERqUG','Storage\x20account\x20already\x20exists,\x20skipping','gyJWF','resourceGroup','@azure/arm-authorization','beginDeleteAndWait','bstackUsername','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','scqHi','getHeader','uOaZF','ONWGX','createStorageAccount','resourceGroups','turboscale-managed-identity-','tags','uqZgn','ppwhx','Mevqy','tenantId','getResourceClientId','fMZlF','XNknm','lCRGo','655216CXmWXx','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','KFFwX','cred','.json','getKubeConfigData','storageClient','resources','yzTNX','jfPxI','utf-8','CyZia','subnets','data','CKLUS','GrJtr','Lifecycle','OtDwF','GdOLw','qjBaP','Blob\x20delete\x20lifecycle','cloudProvider','eVwEk','toString','toLowerCase','disableLocalAccounts','status','Enabling\x20Local\x20account\x20for\x20the\x20cluster','6KdRhYA','xsfIB','authClient','exit'];a1_0x1b15=function(){return _0x303a45;};return a1_0x1b15();}a1_0x70d709[a1_0x223019(0x139)]=AzureCloudProvider,module[a1_0x223019(0x1f6)]=a1_0x70d709;