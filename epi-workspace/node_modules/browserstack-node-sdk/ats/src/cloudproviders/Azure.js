function a1_0x54f5(){const _0x5da595=['toLowerCase','565323qINcvM','jcqyJ','slice','akscluster.json','Creating\x20Azure\x20storage\x20account','principalId','vnetSubnetID','pVImY','TjeZZ','KWwcv','qpvBr','DqZBx','zSDnW','KnrTA','baseBlob','EAdUS','roleDefinitions','isStorageAccountPresent','../utils/gridComponents','fMLjg','ixpTZ','wLEwy','cred','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','iudJx','dxEuX','\x20TENANT\x20ID:\x20','name','managementPolicies','\x20CLIENT\x20ID:\x20','xwLRO','resourceGroup','MtxWF','HbGdU','eAqgR','getById','isCliToolInstalled','NwSBm','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','accessKey','Blob\x20delete\x20lifecycle','turboscale','metadata','0|5|1|3|4|2','getStorageAccountName','node','vYdPy','entries','hZPkM','@azure/identity','785fxJemg','method','rws','ukQwQ','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','vxSiv','LrDIW','storageClient','\x20SUBSCRIPTION\x20ID:\x20','jKcwq','OeFIf','FzrNB','ZZiRP','BdIXo','js-yaml','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','turboscale-managed-identity-','VOqqB','variables','Cannot\x20find\x20VPC\x20','status','tXqBT','HWGFo','1|2|0|3|5|4','No\x20attached\x20role\x20for\x20the\x20client\x20key','SmskF','Cannot\x20find\x20subnets\x20','WksOa','klbfk','srSQb','hubHaNameSpace','ingress','setClients','tGqlv','CWeXj','vpcName','acfmR','./CloudProvider','aHiAu','turboscale-federated-deployment','lhxxh','eXpoy','hTGzM','nDVCy','vSXPc','1703964QJUVPL','OxQeU','Action\x20permission\x20list\x20is\x20empty\x0a','uGIPi','Found\x20only\x20one\x20resource\x20group:\x20','oyGwg','getClusterInfo','aKMYC','browserstack:managedBy','AeLiq','bstackUsername','clientSecret','NOUes','EPofU','qMFrQ','caDjg','MlrJA','hEuHt','checkAccess','azureresources','policy','2718cOuEqh','.\x20Error:\x20','VYSZS','KOCEb','roleAssignments','LKcMY','workloadIdentity','@azure/arm-storage','denied','fEDmn','ddwjf','daysAfterCreationGreaterThan','get','VIdkD','QAZoE','spCFS','lVDtZ','uOooT','No\x20CLI\x20tool\x20required','tAIAk','HuOLP','owDpp','subnetName','APJVK','jnlVX','securityProfile','oidcIssuerProfile','isVPCPresent','xemjv','mPrbN','3|2|7|1|5|4|6|0','assignedTo(\x27','createFederatedAccount','qmGsw','BdtiW','2|3|5|0|1|4','IexAO','ADCeX','templates','vrVyb','jDNlN','vrApE','Attached\x20permissions\x20:\x20','NOfKJ','message','HWCtm','rZcFM','ceYjd','fDAso','parameters','RESOURCES','TNstM','lWjlG','GnhmS','gObwt','error','zZKoa','mYjCn','SCxEw','wojus','role\x20name\x20attached\x20-\x20','debug','uTYwV','oAyoq','permissions','xTohW','cIQUW','xvmNN','103779ZkoPxL','dUVCd','authClient','agentPoolProfiles','FXQei','Content-Type','Creating\x20Azure\x20managed\x20identity','rrvzk','stringify','isClusterPresent','cloudProviderClientSecret','username','ZTTXA','cloudProviderSubscriptionId','KKdbi','default','zcgHp','WHnJT','cloudProviderName','yPMri','VlTiM','storageaccount.json','hostname','deleteCluster','rbVGy','cQqTZ','qttuc','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','rzROy','Creating\x20Azure\x20federated\x20identity','join','\x20RESOURCE\x20GROUP:\x20','buAYR','DkdTK','bstackAccesskey','jxbIX','FeHIr','tags','IsJnU','LOG','XaDof','Incremental','DYXzm','LgoYP','definition','forEach','gYnLW','listByResourceGroup','LlXHx','SfVKt','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','headers','@azure/arm-authorization','dxpBY','LPdmO','AlQNo','RzmJp','yrbXH','HADML','description','Kxuiq','luhmh','Lifecycle','icRbS','string','createOtherResources','[variables(\x27vnetSubnetID\x27)]','yZJAi','QBdnf','sxtIe','ZudmX','getResourceGroups','TsZcu','listClusterAdminCredentials','LmKbm','GfRgW','clusterInfo','Htigz','cloudProviderResourceGroup','qLSGL','info','actions','NvzBb','@azure/arm-network','SLXbe','getHeader','hbsMq','YgjuC','AOLgW','allowed','DCWGK','ehyxk','push','JZhyJ','YpLkV','delete','ALTnF','haSCc','jWSjC','EQRVL','cloudProviderClientId','LobLa','data','WeJQm','userMaxNodes','BFeLa','../permissions/AZURE.json','createStorageAccount','2JNXMrP','beginDeleteAndWait','sGpAZ','BlIAR','tenantId','crFSH','wvNzR','createManagedIdentity','cYlgb','sKCWH','nRuUC','pqetl','bpjTw','token','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','jVpkq','sendEventToBackend','fkNCP','MZVpJ','bJfTI','283828jMLFsI','resources','beginCreateOrUpdateAndWait','lPdgR','NTzSs','HqtYa','YkBcs','mJfMz','resourceGroups','fEfLs','ZXYMA','TcQoP','includes','XCEJR','ZbCYa','lzexS','path','bIQNM','readFileAsync','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','filter','subscriptions/','utf-8','Received\x20response\x20-\x20','FwTgU','siHRD','listAll','JlkTr','cloudProvider','init','value','vbvPg','getGridHostname','AzureCloudProvider','gDzYt','dEdVd','mIBJF','sbRrg','JWaId','length','deployments','DMbFq','enabled','https://graph.microsoft.com/.default','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','webSocketUtils','location','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','fJMvu','roleName','isSubnetsValid','rnEEB','GSxAO','UWFtH','OpJaR','OZbja','BrowserStack','EdJrB','managedidentity.json','CGxlg','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','Authorization','XEgba','gridName','setCachedCredsInRegistry','exit','HVOUU','nbHhH','KYNWZ','turboscale-identity-deployment','SzXQW','stack','pMRRt','roleDefinitionId','KfEQC','managedClusters','isBrowserstackCluster','loadBalancer','oxVjB','getPrincipalIdFromClientId','properties','lncXK','clusterRegion','DvmRA','wjuyG','IHnmP','nPYSd','vkmim','CkgxN','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','issuerURL','Storage\x20account\x20already\x20exists,\x20skipping','PzvMs','uUkMb','GSCcV','VYoGc','EUBoJ','DVmGG','Deleting\x20the\x20cluster\x20','aHuVc','HlAlG','@azure/arm-containerservice','ttPwL','Yoxdp','cVeAq','326555ordkaQ','filters','createCluster','instanceType','8589TtXtNE','getUserInput','containerClient','384HEPPSd','GKrkL','CVdrl','yGNTt','DhWFG','fEzSj','rEvre','UQGzF','networkClient','s3Bucket','UvDIA','apEfU','GET','2023-01-31','MVIqC','blobTypes','HIWlF','vOQTH','zKNyR','cloudProviderTenantId','QODWj','EaOid','YjwUr','wgQJC','RkSYl','jEOte','clientId','xCrWj','Enabling\x20Local\x20account\x20for\x20the\x20cluster','mqgkj','efTdi','split','actionPermission\x20:\x20','Ulixl','bYOro','pbqBh','AAssI','owPOV','subnets','vpcInfo','LGRak','Managed\x20identity\x20already\x20exists,\x20skipping','Created\x20Azure\x20federated\x20identity','isManagedIdentityPresent','wfDEy','setupNewCluster','hWkwT','/resourceGroups/','80LKgcpd','wvaqg','createFederatedAccountForHubHA','dnJGf','tndLI','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','virtualNetworks','LqApm','jXfkA','parse','TWGnE','fcDva','JsekM','gbHZp','lJGmR','resourceClient','eUlIY','MgmAB','yfvAL','PkWEh','listForScope','ryKCE','XRAjO','EmvOF','QKHaa','fLZBh','kubeconfigs','JjEgh','UmTsM','OXbDa','RkEvy','type','cTHzi','log','clusterName'];a1_0x54f5=function(){return _0x5da595;};return a1_0x54f5();}const a1_0x398552=a1_0x41e0;(function(_0x2ceac8,_0x282b01){const _0x4f5491=a1_0x41e0,_0x273754=_0x2ceac8();while(!![]){try{const _0x88fafd=-parseInt(_0x4f5491(0x1c7))/0x1*(-parseInt(_0x4f5491(0x14a))/0x2)+parseInt(_0x4f5491(0x281))/0x3+-parseInt(_0x4f5491(0x15e))/0x4+parseInt(_0x4f5491(0x254))/0x5*(-parseInt(_0x4f5491(0x296))/0x6)+-parseInt(_0x4f5491(0x1cb))/0x7*(parseInt(_0x4f5491(0x1ce))/0x8)+parseInt(_0x4f5491(0xde))/0x9+parseInt(_0x4f5491(0x1fe))/0xa*(-parseInt(_0x4f5491(0x222))/0xb);if(_0x88fafd===_0x282b01)break;else _0x273754['push'](_0x273754['shift']());}catch(_0x12d45d){_0x273754['push'](_0x273754['shift']());}}}(a1_0x54f5,0x47c44));function a1_0x41e0(_0x3a9e91,_0x536c56){const _0x54f5e3=a1_0x54f5();return a1_0x41e0=function(_0x41e01a,_0x3be377){_0x41e01a=_0x41e01a-0xde;let _0x2d5a6b=_0x54f5e3[_0x41e01a];return _0x2d5a6b;},a1_0x41e0(_0x3a9e91,_0x536c56);}const fs=require('fs'),path=require(a1_0x398552(0x16e)),yaml=require(a1_0x398552(0x262)),{logger}=require('../config/logger'),{CloudProvider}=require(a1_0x398552(0x279)),{deleteRoutingDeps,deleteAgent}=require(a1_0x398552(0x234)),{AZURE,WS_EVENTS,global_registry}=require('../config/constants'),PERMISSIONS=require(a1_0x398552(0x148)),{ClientSecretCredential}=require(a1_0x398552(0x253)),{NetworkManagementClient}=require(a1_0x398552(0x131)),{StorageManagementClient}=require(a1_0x398552(0x29d)),{AuthorizationManagementClient}=require(a1_0x398552(0x112)),{ResourceManagementClient}=require('@azure/arm-resources'),{ContainerServiceClient}=require(a1_0x398552(0x1c3)),{runCommand}=require('../utils/utilityMethods');class AzureCloudProvider extends CloudProvider{constructor(_0x1e3b78,_0x28beef,_0x3c1530,_0x319291){const _0x3b1c96=a1_0x398552,_0x39f27c={};_0x39f27c[_0x3b1c96(0x116)]=_0x3b1c96(0x2b4);const _0x3f63ff=_0x39f27c,_0xbc1837=_0x3f63ff['RzmJp'][_0x3b1c96(0x1ed)]('|');let _0x2bcc7e=0x0;while(!![]){switch(_0xbc1837[_0x2bcc7e++]){case'0':this['authClient']=null;continue;case'1':this[_0x3b1c96(0x1cd)]=null;continue;case'2':this[_0x3b1c96(0x238)]=null;continue;case'3':super(AZURE,_0x1e3b78,_0x28beef,_0x3c1530,_0x319291);continue;case'4':this[_0x3b1c96(0x20d)]=null;continue;case'5':this[_0x3b1c96(0x25b)]=null;continue;case'6':this[_0x3b1c96(0x1d6)]=null;continue;case'7':this[_0x3b1c96(0x12a)]=null;continue;}break;}}async[a1_0x398552(0x17b)](){const _0x14b0fc=a1_0x398552;return await super[_0x14b0fc(0x17b)](),this;}[a1_0x398552(0x274)](){const _0x58ec75=a1_0x398552,_0x2d2e30=new ClientSecretCredential(global_registry[_0x58ec75(0x1e1)],global_registry[_0x58ec75(0x142)],global_registry[_0x58ec75(0xe8)]);this[_0x58ec75(0x1cd)]=new ContainerServiceClient(_0x2d2e30,global_registry[_0x58ec75(0xeb)]),this[_0x58ec75(0x25b)]=new StorageManagementClient(_0x2d2e30,global_registry['cloudProviderSubscriptionId']),this[_0x58ec75(0x20d)]=new ResourceManagementClient(_0x2d2e30,global_registry[_0x58ec75(0xeb)]),this[_0x58ec75(0x1d6)]=new NetworkManagementClient(_0x2d2e30,global_registry[_0x58ec75(0xeb)]),this[_0x58ec75(0xe0)]=new AuthorizationManagementClient(_0x2d2e30,global_registry[_0x58ec75(0xeb)]),this[_0x58ec75(0x238)]=_0x2d2e30;}['getStorageAccountName'](){const _0xdd6f4a=a1_0x398552,_0x3a1cee={};_0x3a1cee[_0xdd6f4a(0x139)]=function(_0x4d67aa,_0x1a9610){return _0x4d67aa+_0x1a9610;},_0x3a1cee['SCxEw']='turboscale',_0x3a1cee[_0xdd6f4a(0x202)]=function(_0x9da775,_0x184d21){return _0x9da775-_0x184d21;};const _0x5a5319=_0x3a1cee,_0x1c1795=global_registry[_0xdd6f4a(0x1d7)][_0xdd6f4a(0x1ed)]('-'),_0x510693=_0x5a5319[_0xdd6f4a(0x139)](_0x5a5319[_0xdd6f4a(0x2d0)],_0x1c1795[_0x5a5319[_0xdd6f4a(0x202)](_0x1c1795[_0xdd6f4a(0x185)],0x1)])['slice'](0x0,0x18);return _0x510693[_0xdd6f4a(0x221)]();}[a1_0x398552(0x19e)](_0x495eed){const _0x2b8248=a1_0x398552,_0x539ac8={};_0x539ac8[_0x2b8248(0x209)]=_0x2b8248(0x26b);const _0x131544=_0x539ac8,_0x384945=_0x131544[_0x2b8248(0x209)][_0x2b8248(0x1ed)]('|');let _0x2dd3d4=0x0;while(!![]){switch(_0x384945[_0x2dd3d4++]){case'0':global_registry[_0x2b8248(0x1e1)]=_0x495eed[this[_0x2b8248(0xf0)]][_0x2b8248(0x14e)];continue;case'1':global_registry[_0x2b8248(0x142)]=_0x495eed[this[_0x2b8248(0xf0)]][_0x2b8248(0x1e8)];continue;case'2':global_registry[_0x2b8248(0xe8)]=_0x495eed[this[_0x2b8248(0xf0)]][_0x2b8248(0x28c)];continue;case'3':global_registry[_0x2b8248(0xeb)]=_0x495eed[this[_0x2b8248(0xf0)]]['subscriptionId'];continue;case'4':this['setClients']();continue;case'5':global_registry['cloudProviderResourceGroup']=_0x495eed[this[_0x2b8248(0xf0)]][_0x2b8248(0x241)];continue;}break;}}async[a1_0x398552(0x1cc)](_0x9c1d8e,_0x487c62){const _0x174641=a1_0x398552,_0x2d523e={'rrvzk':'No\x20service\x20principal\x20found','OxQeU':function(_0xeebea6,_0x408bbf){return _0xeebea6===_0x408bbf;},'sbRrg':_0x174641(0x283),'fJMvu':function(_0x2cc4c2,_0x47259c){return _0x2cc4c2+_0x47259c;},'KWwcv':_0x174641(0x24b),'fLZBh':function(_0x241ee,_0x48230f){return _0x241ee-_0x48230f;},'JlkTr':function(_0x447173,_0x2bc214){return _0x447173(_0x2bc214);},'yfvAL':function(_0x1c03d8,_0x3f662d){return _0x1c03d8(_0x3f662d);},'qMFrQ':function(_0x2ad98c,_0x182e0c){return _0x2ad98c(_0x182e0c);},'jWSjC':function(_0x198329,_0x3aca94){return _0x198329!==_0x3aca94;},'YjwUr':'lUGRI','HlAlG':_0x174641(0x15c),'EAdUS':function(_0x36f60b,_0x241e3c){return _0x36f60b===_0x241e3c;},'mIBJF':function(_0x542b77,_0x176424){return _0x542b77===_0x176424;},'haSCc':_0x174641(0x291),'hWkwT':function(_0x13a14f,_0x3d11d6){return _0x13a14f(_0x3d11d6);},'qYFDA':function(_0x49c554,_0x1e5da6){return _0x49c554===_0x1e5da6;},'WFuCP':_0x174641(0x20f),'LqApm':'ZUDRX','IsJnU':_0x174641(0x158),'DhWFG':function(_0x3004ce,_0x31bfd2){return _0x3004ce===_0x31bfd2;},'VIdkD':_0x174641(0x2c3),'NOUes':_0x174641(0x1bc),'cTHzi':_0x174641(0x109),'hbsMq':_0x174641(0x286),'oxVjB':function(_0x306cfd,_0x37faa8){return _0x306cfd<_0x37faa8;},'jxbIX':function(_0x25dd5,_0x2ad166){return _0x25dd5!==_0x2ad166;},'YgjuC':_0x174641(0x150),'tXqBT':function(_0x509b31,_0x5e462a){return _0x509b31+_0x5e462a;},'gbHZp':function(_0x1fc430,_0x3acb95){return _0x1fc430(_0x3acb95);},'XCEJR':_0x174641(0xf9),'LmKbm':function(_0x215002,_0x44aa6a){return _0x215002<=_0x44aa6a;},'AMPoN':function(_0x198476,_0x4a9681){return _0x198476>_0x4a9681;},'MtxWF':function(_0x278208,_0x469d2d){return _0x278208!==_0x469d2d;},'owDpp':'FceYu','jnlVX':_0x174641(0x1b1),'zNYRT':function(_0x3fb02b,_0x11ac94){return _0x3fb02b-_0x11ac94;}},_0x3e83ec=this[_0x174641(0xf0)]['toUpperCase'](),_0x1454c3=await _0x2d523e[_0x174641(0x179)](_0x9c1d8e,_0x3e83ec+_0x174641(0x23f)),_0xf3e263=await _0x2d523e[_0x174641(0x210)](_0x9c1d8e,_0x3e83ec+'\x20CLIENT\x20SECRET:\x20'),_0x38cb51=await _0x2d523e[_0x174641(0x179)](_0x9c1d8e,_0x3e83ec+_0x174641(0x23c)),_0x5e1aaf=await _0x2d523e[_0x174641(0x28f)](_0x9c1d8e,_0x3e83ec+_0x174641(0x25c));global_registry[_0x174641(0x142)]=_0x1454c3,global_registry[_0x174641(0xe8)]=_0xf3e263,global_registry[_0x174641(0x1e1)]=_0x38cb51,global_registry[_0x174641(0xeb)]=_0x5e1aaf,this['setClients']();const _0x5dfd47=await this[_0x174641(0x125)](),_0x178689=_0x5dfd47['length'];let _0x27134e;if(_0x2d523e[_0x174641(0x282)](_0x178689,0x0))_0x2d523e['jWSjC'](_0x2d523e[_0x174641(0x1e4)],_0x2d523e[_0x174641(0x1c2)])?_0x27134e=await _0x2d523e[_0x174641(0x179)](_0x9c1d8e,_0x3e83ec+_0x174641(0xfd)):_0x45730f[_0x174641(0x268)]=![];else{if(_0x2d523e['EAdUS'](_0x178689,0x1)){if(_0x2d523e['mIBJF'](_0x2d523e[_0x174641(0x13f)],_0x2d523e[_0x174641(0x13f)])){const _0x20add7=await _0x2d523e[_0x174641(0x1fc)](_0x9c1d8e,_0x174641(0x285)+_0x5dfd47[0x0]+_0x174641(0x239));if(_0x2d523e[_0x174641(0x231)](_0x20add7,undefined)||_0x2d523e['qYFDA'](_0x20add7,null)||!(_0x2d523e['mIBJF'](_0x20add7[_0x174641(0x221)](),'y')||_0x2d523e[_0x174641(0x182)](_0x20add7[_0x174641(0x221)](),'n'))){if(_0x2d523e[_0x174641(0x282)](_0x2d523e['WFuCP'],_0x2d523e[_0x174641(0x205)]))return!![];else console[_0x174641(0x2cd)](_0x2d523e[_0x174641(0x104)]),process[_0x174641(0x19f)](0x1);}if(_0x2d523e[_0x174641(0x1d2)](_0x20add7[_0x174641(0x221)](),'n')){if(_0x2d523e[_0x174641(0x140)](_0x2d523e[_0x174641(0x2a3)],_0x2d523e[_0x174641(0x28d)]))process['exit'](0x0);else throw new _0x4d01b4(_0x2d523e[_0x174641(0xe5)],'Received\x20response\x20-\x20'+_0x6b6212[_0x174641(0xe6)](_0x398c84));}_0x27134e=_0x5dfd47[0x0];}else _0x238960+=_0x2d523e[_0x174641(0x282)](_0x207267[_0x174641(0x185)],0x0)?_0x2d523e[_0x174641(0x183)]:'',_0x2a5a21[_0x174641(0x2d3)]('Role\x20definition\x20response\x20list\x20\x20:\x20\x20'+_0x1ae17e[_0x174641(0xe6)](_0x3b63d5));}else{if(_0x2d523e[_0x174641(0x182)](_0x2d523e[_0x174641(0x21e)],_0x2d523e[_0x174641(0x134)]))return _0xe2c81e['status'][_0x174641(0x1ab)][_0x174641(0x273)][0x0][_0x174641(0xf4)];else{for(let _0x5bec86=0x0;_0x2d523e[_0x174641(0x1ac)](_0x5bec86,_0x5dfd47[_0x174641(0x185)]);_0x5bec86+=0x1){_0x2d523e[_0x174641(0x101)](_0x2d523e['YgjuC'],_0x2d523e[_0x174641(0x135)])?_0x3e656d=_0x15d7be['id']:console[_0x174641(0x21f)]('['+_0x2d523e[_0x174641(0x269)](_0x5bec86,0x1)+']\x20'+_0x5dfd47[_0x5bec86]);}const _0x5b4fc6=await _0x2d523e[_0x174641(0x20b)](_0x9c1d8e,_0x2d523e[_0x174641(0x16b)]),_0x158225=_0x2d523e[_0x174641(0x28f)](Number,_0x5b4fc6);if(_0x2d523e['gbHZp'](isNaN,_0x158225)||_0x2d523e[_0x174641(0x128)](_0x158225,0x0)||_0x2d523e['AMPoN'](_0x158225,_0x178689)){if(_0x2d523e[_0x174641(0x242)](_0x2d523e[_0x174641(0x2ab)],_0x2d523e[_0x174641(0x2ae)]))console['error'](_0x2d523e['IsJnU']),process['exit'](0x1);else{const _0x3fe948=_0x350c90[_0x174641(0x1d7)]['split']('-'),_0x5abc39=_0x2d523e[_0x174641(0x18e)](_0x2d523e[_0x174641(0x22b)],_0x3fe948[_0x2d523e[_0x174641(0x217)](_0x3fe948[_0x174641(0x185)],0x1)])[_0x174641(0x224)](0x0,0x18);return _0x5abc39[_0x174641(0x221)]();}}_0x27134e=_0x5dfd47[_0x2d523e['zNYRT'](_0x158225,0x1)];}}}global_registry[_0x174641(0x12c)]=_0x27134e;const _0x597710={};return _0x597710['clientId']=_0x1454c3,_0x597710[_0x174641(0x28c)]=_0xf3e263,_0x597710[_0x174641(0x14e)]=_0x38cb51,_0x597710['subscriptionId']=_0x5e1aaf,_0x597710[_0x174641(0x241)]=_0x27134e,_0x487c62[_0x174641(0x17a)][AZURE]=_0x597710,_0x487c62;}async[a1_0x398552(0x125)](){const _0x992114=a1_0x398552,_0x86a69d={};_0x86a69d[_0x992114(0x187)]=_0x992114(0x26c),_0x86a69d['acfmR']=_0x992114(0x19a),_0x86a69d['KfHdi']=function(_0x482ad3,_0x166968){return _0x482ad3===_0x166968;},_0x86a69d['tAIAk']=_0x992114(0x2d7),_0x86a69d['YpLkV']=function(_0x57d999,_0x3da017){return _0x57d999===_0x3da017;},_0x86a69d[_0x992114(0x2c4)]=_0x992114(0xe2);const _0x3cc203=_0x86a69d,_0x50faa2=[];try{if(_0x3cc203['KfHdi'](_0x3cc203[_0x992114(0x2a9)],_0x3cc203[_0x992114(0x2a9)])){const _0x2c4c19=await this[_0x992114(0x20d)][_0x992114(0x166)]['list']();for await(const _0x77e250 of _0x2c4c19){if(_0x3cc203[_0x992114(0x13c)](_0x3cc203[_0x992114(0x2c4)],_0x3cc203[_0x992114(0x2c4)]))_0x50faa2[_0x992114(0x13a)](_0x77e250['name']);else return _0x64c5f[_0x992114(0x144)]=_0x3cc203[_0x992114(0x187)],_0x3bbb75;}}else{_0x3a93c7[_0x992114(0x12e)](_0x3cc203[_0x992114(0x278)]);const _0x5d66b={};_0x5d66b[_0x992114(0x21d)]=_0x3d2d96[_0x992114(0x2c8)],_0x5d66b[_0x992114(0x2c2)]=_0x3cc203[_0x992114(0x278)],this['webSocketUtils'][_0x992114(0x15a)](this[_0x992114(0x256)],_0x5d66b),_0x48cb9d[_0x992114(0x2b0)][_0x992114(0x188)]=!![];}}catch(_0x5c6baf){}return _0x50faa2;}async['getClusterInfo'](){const _0x1d7359=a1_0x398552;return this[_0x1d7359(0x12a)]=await this[_0x1d7359(0x1cd)][_0x1d7359(0x1a9)][_0x1d7359(0x2a2)](global_registry[_0x1d7359(0x12c)],this[_0x1d7359(0x220)]),this[_0x1d7359(0x12a)];}async['getKubeConfigData'](){const _0x34f166=a1_0x398552,_0x46eceb=await this[_0x34f166(0x1cd)][_0x34f166(0x1a9)][_0x34f166(0x127)](global_registry[_0x34f166(0x12c)],this[_0x34f166(0x220)]),_0x1379b0=_0x46eceb[_0x34f166(0x218)][0x0]['value']['toString']();return _0x1379b0;}[a1_0x398552(0x17e)](_0x57beed){const _0xf62c7a=a1_0x398552;return _0x57beed[_0xf62c7a(0x268)][_0xf62c7a(0x1ab)]['ingress'][0x0]['hostname'];}async[a1_0x398552(0xe7)](){const _0x17ee0e=a1_0x398552,_0x272a6f={};_0x272a6f[_0x17ee0e(0x163)]=function(_0x1045af,_0x3c61fc){return _0x1045af===_0x3c61fc;},_0x272a6f[_0x17ee0e(0x10e)]=_0x17ee0e(0x158),_0x272a6f[_0x17ee0e(0x236)]=function(_0x660d9,_0x20984a){return _0x660d9!==_0x20984a;},_0x272a6f[_0x17ee0e(0x1a0)]='LInwT',_0x272a6f[_0x17ee0e(0x28e)]=_0x17ee0e(0x229),_0x272a6f['SLXbe']=function(_0x1350fb,_0x41c3a4){return _0x1350fb===_0x41c3a4;},_0x272a6f['MVIqC']=_0x17ee0e(0x129),_0x272a6f[_0x17ee0e(0x1f0)]=_0x17ee0e(0xfe);const _0x27fbd6=_0x272a6f,_0x2f1f8f=new Array();for await(const _0x360916 of this[_0x17ee0e(0x1cd)][_0x17ee0e(0x1a9)][_0x17ee0e(0x10d)](global_registry[_0x17ee0e(0x12c)])){if(_0x27fbd6['ixpTZ'](_0x27fbd6[_0x17ee0e(0x1a0)],_0x27fbd6['HVOUU'])){if(_0x27fbd6[_0x17ee0e(0x163)](_0x5d53a4[_0x17ee0e(0x23d)],_0x1d6f86))return!![];}else _0x2f1f8f[_0x17ee0e(0x13a)](_0x360916);}for await(const _0x155a89 of _0x2f1f8f){if(_0x27fbd6[_0x17ee0e(0x236)](_0x27fbd6['EPofU'],_0x27fbd6['EPofU']))_0xef684b[_0x17ee0e(0x2cd)](_0x27fbd6[_0x17ee0e(0x10e)]),_0x11975f[_0x17ee0e(0x19f)](0x1);else{if(_0x27fbd6[_0x17ee0e(0x163)](_0x155a89[_0x17ee0e(0x23d)],this[_0x17ee0e(0x220)])){if(_0x27fbd6[_0x17ee0e(0x132)](_0x27fbd6[_0x17ee0e(0x1dc)],_0x27fbd6['bYOro']))_0x440200[_0x17ee0e(0x1f5)][_0x17ee0e(0x13a)](_0x24a4fd);else return await this['getClusterInfo'](),!![];}}}return![];}async[a1_0x398552(0x1fb)](_0x335d38=null,_0x3aea7b=null){const _0x2e0be6=a1_0x398552,_0x335efe={};_0x335efe[_0x2e0be6(0x1d8)]=_0x2e0be6(0x24d),_0x335efe['dxpBY']=_0x2e0be6(0x248);const _0x3a3edb=_0x335efe,_0x2e8539=_0x3a3edb[_0x2e0be6(0x1d8)][_0x2e0be6(0x1ed)]('|');let _0x27a50f=0x0;while(!![]){switch(_0x2e8539[_0x27a50f++]){case'0':this['sendAzureInfoToHST']();continue;case'1':logger['info'](_0x3a3edb[_0x2e0be6(0x113)]);continue;case'2':return[_0x335d38,_0x3aea7b];case'3':await this[_0x2e0be6(0x1c9)](_0x335d38,_0x3aea7b);continue;case'4':await this[_0x2e0be6(0x11f)]();continue;case'5':const _0x57346a={};_0x57346a['type']=WS_EVENTS[_0x2e0be6(0x105)],_0x57346a[_0x2e0be6(0x2c2)]=_0x3a3edb[_0x2e0be6(0x113)],this[_0x2e0be6(0x18b)][_0x2e0be6(0x15a)](this[_0x2e0be6(0x256)],_0x57346a);continue;}break;}}async[a1_0x398552(0x1c9)](_0x2677fc=null,_0x26871c=null){const _0x28000c=a1_0x398552,_0x5c4ea3={};_0x5c4ea3['zSDnW']=_0x28000c(0x2bc),_0x5c4ea3['TWGnE']=_0x28000c(0x294),_0x5c4ea3['vOQTH']=_0x28000c(0x225),_0x5c4ea3['DUJms']=_0x28000c(0x174),_0x5c4ea3['QKHaa']=function(_0x149d78,_0x507689){return _0x149d78!==_0x507689;},_0x5c4ea3[_0x28000c(0x16c)]=function(_0x55a134,_0x773ffc){return _0x55a134!==_0x773ffc;},_0x5c4ea3[_0x28000c(0xdf)]=_0x28000c(0x2bd),_0x5c4ea3[_0x28000c(0x219)]=_0x28000c(0x1ec),_0x5c4ea3['lhxxh']=_0x28000c(0x11e),_0x5c4ea3[_0x28000c(0x25f)]=_0x28000c(0x171),_0x5c4ea3['qmGsw']=_0x28000c(0x18d),_0x5c4ea3[_0x28000c(0x1bd)]='[variables(\x27vnetSubnetID\x27)]',_0x5c4ea3[_0x28000c(0x2d4)]='turboscale-cluster-deployment',_0x5c4ea3['LobLa']='Incremental';const _0x3f202d=_0x5c4ea3;let _0x4265ab=await fs[_0x28000c(0x170)](path[_0x28000c(0xfc)](__dirname,'..',_0x3f202d[_0x28000c(0x22e)],_0x3f202d[_0x28000c(0x208)],_0x3f202d[_0x28000c(0x1df)]),_0x3f202d['DUJms']);_0x4265ab=JSON['parse'](_0x4265ab);const _0x55b24f={};_0x55b24f[_0x28000c(0x17c)]=this[_0x28000c(0x220)];const _0x389e4f={};_0x389e4f['value']=global_registry[_0x28000c(0x1b0)];const _0x3d6c77={};_0x3d6c77['value']=global_registry[_0x28000c(0x1ca)];const _0x2a02b4={};_0x2a02b4['value']=global_registry['maxNodes'];const _0x2f23da={};_0x2f23da[_0x28000c(0x220)]=_0x55b24f,_0x2f23da[_0x28000c(0x18c)]=_0x389e4f,_0x2f23da['userInstanceType']=_0x3d6c77,_0x2f23da[_0x28000c(0x146)]=_0x2a02b4;let _0x5f0e22=_0x2f23da;if(_0x3f202d[_0x28000c(0x216)](_0x2677fc,null)&&_0x3f202d['ZbCYa'](_0x26871c,null)){if(_0x3f202d[_0x28000c(0x16c)](_0x3f202d[_0x28000c(0xdf)],_0x3f202d[_0x28000c(0x219)])){const _0x38dae2={};_0x38dae2[_0x28000c(0x21d)]=_0x3f202d[_0x28000c(0x27c)],_0x38dae2[_0x28000c(0x24c)]={},_0x38dae2[_0x28000c(0x24c)]['description']=_0x3f202d[_0x28000c(0x25f)];const _0x1a690d={};_0x1a690d[_0x28000c(0x21d)]=_0x3f202d['lhxxh'],_0x1a690d[_0x28000c(0x24c)]={},_0x1a690d[_0x28000c(0x24c)][_0x28000c(0x119)]=_0x3f202d[_0x28000c(0x25f)],_0x4265ab['parameters']={..._0x4265ab[_0x28000c(0x2c7)],'vpcName':_0x38dae2,'subnetName':_0x1a690d};const _0x49edbd={};_0x49edbd[_0x28000c(0x228)]=_0x3f202d[_0x28000c(0x2b7)],_0x4265ab['variables']=_0x49edbd,_0x4265ab[_0x28000c(0x15f)][0x0][_0x28000c(0x1ae)]['agentPoolProfiles'][0x0]={..._0x4265ab[_0x28000c(0x15f)][0x0]['properties'][_0x28000c(0xe1)][0x0],'vnetSubnetID':_0x3f202d[_0x28000c(0x1bd)]};const _0x2077f2={};_0x2077f2[_0x28000c(0x17c)]=_0x2677fc;const _0x28b1a6={};_0x28b1a6[_0x28000c(0x17c)]=_0x26871c[0x0],_0x5f0e22={..._0x5f0e22,'vpcName':_0x2077f2,'subnetName':_0x28b1a6};}else _0x6ba825[_0x28000c(0x13a)](_0x53be12[_0x28000c(0x23d)]);}await this['resourceClient']['deployments'][_0x28000c(0x160)](global_registry[_0x28000c(0x12c)],_0x3f202d[_0x28000c(0x2d4)],{'properties':{'template':_0x4265ab,'mode':_0x3f202d[_0x28000c(0x143)],'parameters':_0x5f0e22}});}async[a1_0x398552(0x11f)](){const _0x189ac4=a1_0x398552,_0x352d38={};_0x352d38[_0x189ac4(0x292)]=_0x189ac4(0x263),_0x352d38[_0x189ac4(0x1b2)]=function(_0x53a8a0,_0x45b45f){return _0x53a8a0===_0x45b45f;},_0x352d38['jDNlN']='atqSp',_0x352d38[_0x189ac4(0x1ef)]=_0x189ac4(0x226),_0x352d38['IexAO']=function(_0x90e94f,_0x24b5e8){return _0x90e94f!==_0x24b5e8;},_0x352d38[_0x189ac4(0x106)]=_0x189ac4(0x1a8),_0x352d38[_0x189ac4(0x177)]=_0x189ac4(0x1b9),_0x352d38[_0x189ac4(0x2b2)]=function(_0xf4427a,_0x3bcac8){return _0xf4427a===_0x3bcac8;},_0x352d38[_0x189ac4(0x10f)]=_0x189ac4(0x180),_0x352d38[_0x189ac4(0x1be)]=_0x189ac4(0x12b),_0x352d38[_0x189ac4(0x1f3)]=_0x189ac4(0xe4),_0x352d38['HIWlF']=function(_0x28db32,_0x7baf29){return _0x28db32===_0x7baf29;},_0x352d38[_0x189ac4(0x15d)]=_0x189ac4(0x2d8),_0x352d38[_0x189ac4(0x25e)]=_0x189ac4(0x26a),_0x352d38['sKCWH']=_0x189ac4(0x1f7),_0x352d38[_0x189ac4(0x115)]=_0x189ac4(0xfb),_0x352d38['EQYcY']=_0x189ac4(0x1f8);const _0x36e0ed=_0x352d38,_0xf427e8=await this[_0x189ac4(0x233)]();if(!_0xf427e8){if(_0x36e0ed[_0x189ac4(0x1b2)](_0x36e0ed[_0x189ac4(0x2be)],_0x36e0ed[_0x189ac4(0x2be)])){const _0x121919={};_0x121919[_0x189ac4(0x21d)]=WS_EVENTS[_0x189ac4(0x105)],_0x121919['message']=_0x36e0ed[_0x189ac4(0x1ef)],this[_0x189ac4(0x18b)][_0x189ac4(0x15a)](this[_0x189ac4(0x256)],_0x121919),logger[_0x189ac4(0x12e)](_0x36e0ed[_0x189ac4(0x1ef)]),await this[_0x189ac4(0x149)]();}else{const _0x3ca536=new _0x37fa3c(_0xd236d4[_0x189ac4(0x1e1)],_0x5088c9[_0x189ac4(0x142)],_0x81c028['cloudProviderClientSecret']);this[_0x189ac4(0x1cd)]=new _0x15184e(_0x3ca536,_0x7dd5ad[_0x189ac4(0xeb)]),this[_0x189ac4(0x25b)]=new _0x7052f6(_0x3ca536,_0x23ecf8[_0x189ac4(0xeb)]),this[_0x189ac4(0x20d)]=new _0x3d87af(_0x3ca536,_0x31ff2c['cloudProviderSubscriptionId']),this[_0x189ac4(0x1d6)]=new _0x1fb039(_0x3ca536,_0x4458b7[_0x189ac4(0xeb)]),this[_0x189ac4(0xe0)]=new _0x47294e(_0x3ca536,_0xe349a1[_0x189ac4(0xeb)]),this[_0x189ac4(0x238)]=_0x3ca536;}}else _0x36e0ed[_0x189ac4(0x2ba)](_0x36e0ed[_0x189ac4(0x106)],_0x36e0ed[_0x189ac4(0x106)])?_0x10c568['push'](_0x5e84a8):logger[_0x189ac4(0x12e)](_0x36e0ed[_0x189ac4(0x177)]);const _0x1cef2f=await this[_0x189ac4(0x1f9)]();if(!_0x1cef2f){if(_0x36e0ed[_0x189ac4(0x2b2)](_0x36e0ed[_0x189ac4(0x10f)],_0x36e0ed[_0x189ac4(0x1be)]))return _0x3fc082['error'](_0x189ac4(0x203)+_0x14300f+':'+_0x394d51['stack']),{};else{const _0x9aed0b={};_0x9aed0b['type']=WS_EVENTS['LOG'],_0x9aed0b[_0x189ac4(0x2c2)]=_0x36e0ed[_0x189ac4(0x1f3)],this[_0x189ac4(0x18b)][_0x189ac4(0x15a)](this[_0x189ac4(0x256)],_0x9aed0b),logger[_0x189ac4(0x12e)](_0x36e0ed['owPOV']),await this[_0x189ac4(0x151)]();}}else{if(_0x36e0ed[_0x189ac4(0x1de)](_0x36e0ed[_0x189ac4(0x15d)],_0x36e0ed['OeFIf']))return _0x1b87ff[_0x189ac4(0x144)]=_0x36e0ed[_0x189ac4(0x292)],_0x17e6ed;else logger[_0x189ac4(0x12e)](_0x36e0ed[_0x189ac4(0x153)]);}logger[_0x189ac4(0x12e)](_0x36e0ed['AlQNo']),await this[_0x189ac4(0x2b6)](),logger[_0x189ac4(0x12e)](_0x36e0ed['EQYcY']);}async['createStorageAccount'](){const _0x45586c=a1_0x398552,_0x3609e7={};_0x3609e7[_0x45586c(0x19c)]=_0x45586c(0x2bc),_0x3609e7[_0x45586c(0x1e7)]=_0x45586c(0x294),_0x3609e7[_0x45586c(0xfa)]=_0x45586c(0xf3),_0x3609e7[_0x45586c(0x1c1)]=_0x45586c(0x174),_0x3609e7[_0x45586c(0x13b)]='turboscale-storageaccount-deployment',_0x3609e7[_0x45586c(0x27d)]='Incremental',_0x3609e7['zZKoa']=_0x45586c(0x24a),_0x3609e7[_0x45586c(0x14c)]=_0x45586c(0x11c),_0x3609e7[_0x45586c(0x162)]='blockBlob',_0x3609e7[_0x45586c(0x2b3)]=_0x45586c(0xed);const _0x317614=_0x3609e7;let _0x249cab=await fs[_0x45586c(0x170)](path[_0x45586c(0xfc)](__dirname,'..',_0x317614[_0x45586c(0x19c)],_0x317614[_0x45586c(0x1e7)],_0x317614['rzROy']),_0x317614[_0x45586c(0x1c1)]);_0x249cab=JSON[_0x45586c(0x207)](_0x249cab);const _0x572c6a=this[_0x45586c(0x24e)](),_0x210bb3={};_0x210bb3[_0x45586c(0x17c)]=_0x572c6a;const _0x498aff={};_0x498aff['storageAccountName']=_0x210bb3,await this['resourceClient'][_0x45586c(0x186)][_0x45586c(0x160)](global_registry[_0x45586c(0x12c)],_0x317614[_0x45586c(0x13b)],{'properties':{'template':_0x249cab,'mode':_0x317614[_0x45586c(0x27d)],'parameters':_0x498aff}});const _0x539d68={};_0x539d68[_0x45586c(0x2a1)]=0x3c;const _0x125f5c={};_0x125f5c[_0x45586c(0x13d)]=_0x539d68;const _0x11bb60={};_0x11bb60[_0x45586c(0x230)]=_0x125f5c;const _0x4d70e7={};_0x4d70e7[_0x45586c(0x188)]=!![],_0x4d70e7['name']=_0x317614[_0x45586c(0x2ce)],_0x4d70e7[_0x45586c(0x21d)]=_0x317614[_0x45586c(0x14c)],_0x4d70e7[_0x45586c(0x10a)]={},_0x4d70e7[_0x45586c(0x10a)][_0x45586c(0x12f)]=_0x11bb60,_0x4d70e7[_0x45586c(0x10a)][_0x45586c(0x1c8)]={},_0x4d70e7[_0x45586c(0x10a)][_0x45586c(0x1c8)][_0x45586c(0x1dd)]=[_0x317614[_0x45586c(0x162)]];const _0x53609e={};_0x53609e['rules']=[_0x4d70e7];const _0x348b30={};_0x348b30[_0x45586c(0x295)]=_0x53609e;const _0x4c4d68=_0x348b30;await this[_0x45586c(0x25b)][_0x45586c(0x23e)]['createOrUpdate'](global_registry['cloudProviderResourceGroup'],_0x572c6a,_0x317614[_0x45586c(0x2b3)],_0x4c4d68);}async[a1_0x398552(0x151)](){const _0x29f98d=a1_0x398552,_0x21abd6={};_0x21abd6[_0x29f98d(0x237)]=_0x29f98d(0x2bc),_0x21abd6[_0x29f98d(0x1eb)]=_0x29f98d(0x294),_0x21abd6[_0x29f98d(0x259)]=_0x29f98d(0x198),_0x21abd6[_0x29f98d(0x1bf)]=_0x29f98d(0x174),_0x21abd6['icRbS']=_0x29f98d(0x1a3),_0x21abd6[_0x29f98d(0x1a1)]=_0x29f98d(0x107);const _0x2cfdc0=_0x21abd6;let _0x158340=await fs[_0x29f98d(0x170)](path['join'](__dirname,'..',_0x2cfdc0[_0x29f98d(0x237)],_0x2cfdc0[_0x29f98d(0x1eb)],_0x2cfdc0['vxSiv']),_0x2cfdc0[_0x29f98d(0x1bf)]);_0x158340=JSON['parse'](_0x158340),await this['resourceClient'][_0x29f98d(0x186)][_0x29f98d(0x160)](global_registry[_0x29f98d(0x12c)],_0x2cfdc0[_0x29f98d(0x11d)],{'properties':{'template':_0x158340,'mode':_0x2cfdc0[_0x29f98d(0x1a1)],'parameters':{'clusterName':{'value':this[_0x29f98d(0x220)]}}}});}async[a1_0x398552(0x2b6)](){const _0x2d83d1=a1_0x398552,_0x3735c6={};_0x3735c6[_0x2d83d1(0x168)]=_0x2d83d1(0x1f7),_0x3735c6['dxEuX']=function(_0x21f60a,_0x5b6301){return _0x21f60a!==_0x5b6301;},_0x3735c6[_0x2d83d1(0x123)]=_0x2d83d1(0x102),_0x3735c6[_0x2d83d1(0x176)]=_0x2d83d1(0x290),_0x3735c6[_0x2d83d1(0x1af)]='hub',_0x3735c6[_0x2d83d1(0x214)]=_0x2d83d1(0x24f),_0x3735c6[_0x2d83d1(0x299)]=function(_0x1237fe,_0x47c4f2){return _0x1237fe===_0x47c4f2;},_0x3735c6[_0x2d83d1(0x298)]=_0x2d83d1(0x1e5),_0x3735c6[_0x2d83d1(0x26f)]=_0x2d83d1(0x181),_0x3735c6[_0x2d83d1(0x164)]=_0x2d83d1(0x2bc),_0x3735c6[_0x2d83d1(0x1a2)]=_0x2d83d1(0x294),_0x3735c6[_0x2d83d1(0x2c1)]=_0x2d83d1(0x174),_0x3735c6[_0x2d83d1(0x23a)]=_0x2d83d1(0x27b),_0x3735c6[_0x2d83d1(0x275)]=_0x2d83d1(0x107);const _0x1d75e5=_0x3735c6;!this['clusterInfo']&&(_0x1d75e5[_0x2d83d1(0x23b)](_0x1d75e5[_0x2d83d1(0x123)],_0x1d75e5[_0x2d83d1(0x176)])?await this['getClusterInfo']():_0x34a613[_0x2d83d1(0x12e)](_0x1d75e5[_0x2d83d1(0x168)]));const _0xb18cdc=this['clusterInfo']?.[_0x2d83d1(0x2b0)]?.['issuerURL'],_0x17f8fa=[_0x1d75e5[_0x2d83d1(0x1af)],_0x1d75e5[_0x2d83d1(0x214)]];for await(const _0xd79278 of _0x17f8fa){if(_0x1d75e5['KOCEb'](_0x1d75e5['VYSZS'],_0x1d75e5['WksOa']))_0x5d4d42['push'](_0x103d3e);else{let _0x1f6706=await fs[_0x2d83d1(0x170)](path[_0x2d83d1(0xfc)](__dirname,'..',_0x1d75e5[_0x2d83d1(0x164)],_0x1d75e5[_0x2d83d1(0x1a2)],'federatedidentity'+_0xd79278+'.json'),_0x1d75e5[_0x2d83d1(0x2c1)]);_0x1f6706=JSON[_0x2d83d1(0x207)](_0x1f6706);const _0x4bfc56={};_0x4bfc56[_0x2d83d1(0x17c)]=_0xb18cdc,await this['resourceClient'][_0x2d83d1(0x186)][_0x2d83d1(0x160)](global_registry[_0x2d83d1(0x12c)],_0x1d75e5[_0x2d83d1(0x23a)],{'properties':{'template':_0x1f6706,'mode':_0x1d75e5['tGqlv'],'parameters':{'oidcIssuer':_0x4bfc56,'gridName':{'value':this[_0x2d83d1(0x19d)]},'clusterName':{'value':this[_0x2d83d1(0x220)]}}}});}}}async['setupHubHa'](_0x200d49,_0x5acb00,_0x523ab2,_0x8b28e1,_0x56e09b){const _0x20ddb6=a1_0x398552,_0x50d2b9={};_0x50d2b9['qttuc']=_0x20ddb6(0x1b7),_0x50d2b9[_0x20ddb6(0x191)]='Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha';const _0x1ae273=_0x50d2b9,_0x67e36a={};_0x67e36a['type']=WS_EVENTS[_0x20ddb6(0x105)],_0x67e36a[_0x20ddb6(0x2c2)]=_0x1ae273[_0x20ddb6(0xf8)],this['webSocketUtils'][_0x20ddb6(0x15a)](this[_0x20ddb6(0x256)],_0x67e36a),logger[_0x20ddb6(0x12e)](_0x1ae273[_0x20ddb6(0xf8)]),await this[_0x20ddb6(0x200)]();const _0x5e2423={};_0x5e2423[_0x20ddb6(0x21d)]=WS_EVENTS[_0x20ddb6(0x105)],_0x5e2423['message']=_0x1ae273[_0x20ddb6(0x191)],this[_0x20ddb6(0x18b)]['sendEventToBackend'](this['rws'],_0x5e2423);}async[a1_0x398552(0x200)](){const _0x1f6103=a1_0x398552,_0x230661={};_0x230661[_0x1f6103(0x22a)]=function(_0x5f1168,_0x2847e7){return _0x5f1168===_0x2847e7;},_0x230661['BFeLa']='GkRTu',_0x230661[_0x1f6103(0x2a5)]=_0x1f6103(0x2bc),_0x230661[_0x1f6103(0x1fa)]='hubharesources',_0x230661[_0x1f6103(0x130)]='federatedidentityuploader.json',_0x230661['Kxuiq']=_0x1f6103(0x174),_0x230661[_0x1f6103(0x20c)]=_0x1f6103(0x27b),_0x230661['yZJAi']=_0x1f6103(0x107);const _0x2b4e47=_0x230661;!this['clusterInfo']&&(_0x2b4e47[_0x1f6103(0x22a)](_0x2b4e47[_0x1f6103(0x147)],_0x2b4e47[_0x1f6103(0x147)])?await this[_0x1f6103(0x287)]():_0x2d8011[_0x1f6103(0x13a)](..._0x2dc522[_0x1f6103(0x12f)]));const _0x580a1c=this[_0x1f6103(0x12a)]?.['oidcIssuerProfile']?.[_0x1f6103(0x1b8)];let _0xf3dc86=await fs['readFileAsync'](path[_0x1f6103(0xfc)](__dirname,'..',_0x2b4e47[_0x1f6103(0x2a5)],_0x2b4e47[_0x1f6103(0x1fa)],_0x2b4e47[_0x1f6103(0x130)]),_0x2b4e47[_0x1f6103(0x11a)]);_0xf3dc86=JSON[_0x1f6103(0x207)](_0xf3dc86);const _0x597985={};_0x597985[_0x1f6103(0x17c)]=_0x580a1c,await this[_0x1f6103(0x20d)][_0x1f6103(0x186)][_0x1f6103(0x160)](global_registry[_0x1f6103(0x12c)],_0x2b4e47['lJGmR'],{'properties':{'template':_0xf3dc86,'mode':_0x2b4e47[_0x1f6103(0x121)],'parameters':{'oidcIssuer':_0x597985,'namespace':{'value':global_registry[_0x1f6103(0x272)]},'clusterName':{'value':this[_0x1f6103(0x220)]}}}});}async[a1_0x398552(0x233)](){const _0x5c0106=a1_0x398552,_0x48f3d8={};_0x48f3d8[_0x5c0106(0x154)]=function(_0x2c70e5,_0x1dd5fc){return _0x2c70e5!==_0x1dd5fc;},_0x48f3d8['DRhKq']=_0x5c0106(0x2a6),_0x48f3d8[_0x5c0106(0x250)]=_0x5c0106(0x271),_0x48f3d8[_0x5c0106(0x199)]=function(_0x379c24,_0x243e17){return _0x379c24===_0x243e17;},_0x48f3d8['QAZoE']='svJKG',_0x48f3d8[_0x5c0106(0x161)]=function(_0x1eb1c0,_0x2506c8){return _0x1eb1c0!==_0x2506c8;},_0x48f3d8[_0x5c0106(0x257)]=_0x5c0106(0xee),_0x48f3d8['Reljo']=_0x5c0106(0x13e);const _0x1abf0e=_0x48f3d8,_0x341ecf=this[_0x5c0106(0x24e)](),_0x2139dd=new Array();for await(const _0x23f2cc of this['storageClient']['storageAccounts'][_0x5c0106(0x10d)](global_registry[_0x5c0106(0x12c)])){_0x1abf0e[_0x5c0106(0x154)](_0x1abf0e['DRhKq'],_0x1abf0e[_0x5c0106(0x250)])?_0x2139dd[_0x5c0106(0x13a)](_0x23f2cc):_0x5c3934[_0x5c0106(0x13a)](_0x3f758d);}for await(const _0x4ec28f of _0x2139dd){if(_0x1abf0e[_0x5c0106(0x199)](_0x1abf0e[_0x5c0106(0x2a4)],_0x1abf0e[_0x5c0106(0x2a4)])){if(_0x1abf0e[_0x5c0106(0x199)](_0x4ec28f[_0x5c0106(0x23d)],_0x341ecf)){if(_0x1abf0e[_0x5c0106(0x161)](_0x1abf0e[_0x5c0106(0x257)],_0x1abf0e['Reljo']))return!![];else return;}}else return!![];}return![];}async['isManagedIdentityPresent'](){const _0x27ff71=a1_0x398552,_0x2c004e={};_0x2c004e[_0x27ff71(0x2a7)]=function(_0x286eeb,_0x39945f){return _0x286eeb===_0x39945f;},_0x2c004e[_0x27ff71(0x1a4)]='rEPYd',_0x2c004e[_0x27ff71(0x194)]=function(_0x405b14,_0x34fb3e){return _0x405b14!==_0x34fb3e;},_0x2c004e[_0x27ff71(0x270)]='gkaPc',_0x2c004e[_0x27ff71(0x1d3)]=_0x27ff71(0x124),_0x2c004e['LKcMY']=function(_0x1989c7,_0x3e2c53){return _0x1989c7!==_0x3e2c53;},_0x2c004e[_0x27ff71(0x195)]=_0x27ff71(0x136),_0x2c004e['ryKCE']=_0x27ff71(0x14d);const _0x1b2fce=_0x2c004e,_0x572e2d=new Array();for await(const _0xcfdf81 of this[_0x27ff71(0x20d)][_0x27ff71(0x15f)][_0x27ff71(0x10d)](global_registry[_0x27ff71(0x12c)])){if(_0x1b2fce[_0x27ff71(0x2a7)](_0x1b2fce[_0x27ff71(0x1a4)],_0x1b2fce[_0x27ff71(0x1a4)]))_0x572e2d[_0x27ff71(0x13a)](_0xcfdf81);else return[!![],_0x2f2de8];}for await(const _0x4239fc of _0x572e2d){if(_0x1b2fce[_0x27ff71(0x194)](_0x1b2fce[_0x27ff71(0x270)],_0x1b2fce[_0x27ff71(0x1d3)])){if(_0x1b2fce[_0x27ff71(0x2a7)](_0x4239fc[_0x27ff71(0x23d)],_0x27ff71(0x264)+this[_0x27ff71(0x220)])){if(_0x1b2fce[_0x27ff71(0x29b)](_0x1b2fce['OZbja'],_0x1b2fce[_0x27ff71(0x213)]))return!![];else _0x69fa20['push'](_0x3767eb);}}else _0x2ba20b[_0x27ff71(0x2cd)]=_0x199ff6;}return![];}async['getResourceClientId'](_0x186508,_0x4075ea=0x3){const _0x183f84=a1_0x398552,_0x16177e={'KKdbi':function(_0x342d05,_0x2012fe){return _0x342d05===_0x2012fe;},'mJfMz':'Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','fEDmn':_0x183f84(0x11e),'EQRVL':_0x183f84(0x171),'eUlIY':'[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','vbvPg':_0x183f84(0x120),'EmvOF':function(_0x19a875,_0x3cfd99){return _0x19a875+_0x3cfd99;},'dnJGf':function(_0x51a4f3,_0x212545){return _0x51a4f3===_0x212545;},'gObwt':_0x183f84(0x126),'mYjCn':function(_0x23cc03,_0x324857,_0x3c9b6b){return _0x23cc03(_0x324857,_0x3c9b6b);},'gPinH':'xahKP','ADCeX':'tFciZ','niRwE':_0x183f84(0x243),'VlTiM':_0x183f84(0x2ad),'yPMri':_0x183f84(0x20a),'CWeXj':_0x183f84(0x1d9),'jVpkq':_0x183f84(0x16d),'pMRRt':_0x183f84(0x1db),'LGRak':function(_0x87665e,_0x21db04){return _0x87665e===_0x21db04;},'UQGzF':_0x183f84(0xff),'rEvre':_0x183f84(0x21a),'fEfLs':function(_0x28d523,_0x57d1fb){return _0x28d523<=_0x57d1fb;},'lWjlG':_0x183f84(0x2c6),'cYlgb':function(_0xe33f8,_0x254984){return _0xe33f8-_0x254984;}};try{if(_0x16177e[_0x183f84(0x201)](_0x16177e['gPinH'],_0x16177e[_0x183f84(0x2bb)])){if(_0x16177e[_0x183f84(0xec)](_0x551872['name'],_0x183f84(0x264)+this['clusterName']))return!![];}else{const _0x14a849=new Array();for await(const _0x4edd06 of this[_0x183f84(0x20d)]['resources']['listByResourceGroup'](global_registry[_0x183f84(0x12c)])){if(_0x16177e['dnJGf'](_0x16177e['niRwE'],_0x16177e['niRwE']))_0x14a849[_0x183f84(0x13a)](_0x4edd06);else{_0x3f25b3[_0x183f84(0x12e)](_0x16177e[_0x183f84(0x165)]);const _0x2b105d={};_0x2b105d[_0x183f84(0x21d)]=_0x10e416[_0x183f84(0x2c8)],_0x2b105d[_0x183f84(0x2c2)]=_0x16177e['mJfMz'],this[_0x183f84(0x18b)][_0x183f84(0x15a)](this['rws'],_0x2b105d);const _0x3b089d={};_0x3b089d[_0x183f84(0x188)]=!![];const _0x4d827d={'workloadIdentity':_0x3b089d,..._0x26ddf1[_0x183f84(0x2af)]};_0x370dea[_0x183f84(0x2af)]=_0x4d827d;}}let _0x26ee95='';for await(const _0x49a87f of _0x14a849){if(_0x16177e['KKdbi'](_0x16177e[_0x183f84(0xf2)],_0x16177e[_0x183f84(0xf1)]))return _0x23fe58[_0x183f84(0x2cd)]=_0x4cdc5c[_0x183f84(0x2cd)],_0x4b2025;else _0x16177e[_0x183f84(0xec)](_0x49a87f['name'],_0x186508)&&(_0x16177e[_0x183f84(0x201)](_0x16177e[_0x183f84(0x276)],_0x16177e[_0x183f84(0x159)])?_0x16177e[_0x183f84(0xec)](_0x35ce72[_0x183f84(0x23d)],_0x4a81e0)&&(_0x347802=_0x2466a7['id']):_0x26ee95=_0x49a87f['id']);}const _0x1731f5=await this[_0x183f84(0x20d)][_0x183f84(0x15f)][_0x183f84(0x245)](_0x26ee95,_0x16177e[_0x183f84(0x1a6)]);return _0x1731f5[_0x183f84(0x1ae)][_0x183f84(0x1e8)];}}catch(_0x3cf15c){if(_0x16177e[_0x183f84(0x1f6)](_0x16177e[_0x183f84(0x1d5)],_0x16177e[_0x183f84(0x1d4)])){const _0x79c96e={};_0x79c96e[_0x183f84(0x21d)]=_0x16177e[_0x183f84(0x29f)],_0x79c96e[_0x183f84(0x24c)]={},_0x79c96e[_0x183f84(0x24c)][_0x183f84(0x119)]=_0x16177e[_0x183f84(0x141)];const _0x4fbc7d={};_0x4fbc7d['type']=_0x16177e[_0x183f84(0x29f)],_0x4fbc7d[_0x183f84(0x24c)]={},_0x4fbc7d[_0x183f84(0x24c)][_0x183f84(0x119)]=_0x16177e[_0x183f84(0x141)];const _0xd28571={..._0x36af52[_0x183f84(0x2c7)]};_0xd28571['vpcName']=_0x79c96e,_0xd28571[_0x183f84(0x2ac)]=_0x4fbc7d,_0x3875ab[_0x183f84(0x2c7)]=_0xd28571;const _0x154dd9={};_0x154dd9['vnetSubnetID']=_0x16177e[_0x183f84(0x20e)],_0x469aa4[_0x183f84(0x266)]=_0x154dd9;const _0x32d736={..._0x2dae71[_0x183f84(0x15f)][0x0]['properties'][_0x183f84(0xe1)][0x0]};_0x32d736['vnetSubnetID']=_0x16177e[_0x183f84(0x17d)],_0x3946a3['resources'][0x0][_0x183f84(0x1ae)][_0x183f84(0xe1)][0x0]=_0x32d736;const _0x850b59={};_0x850b59[_0x183f84(0x17c)]=_0x2d7845;const _0x338dc2={};_0x338dc2[_0x183f84(0x17c)]=_0x1f87af[0x0];const _0x1c2f55={..._0x245e35};_0x1c2f55[_0x183f84(0x277)]=_0x850b59,_0x1c2f55[_0x183f84(0x2ac)]=_0x338dc2,_0xa3bb43=_0x1c2f55;}else{if(_0x16177e[_0x183f84(0x167)](_0x4075ea,0x0))return _0x16177e[_0x183f84(0x1f6)](_0x16177e[_0x183f84(0x2ca)],_0x16177e[_0x183f84(0x2ca)])?(logger[_0x183f84(0x2cd)](_0x183f84(0x203)+_0x3cf15c+':'+_0x3cf15c[_0x183f84(0x1a5)]),{}):(_0x51d044[_0x183f84(0x2cd)](_0x183f84(0x26e)+_0x47befd+'.\x20Error:\x20'+_0x275f40),[![],[]]);return await new Promise(_0x4ca642=>{const _0x38a625=_0x183f84,_0x1e54a4={'NwSBm':function(_0x4676f3,_0x120a7c){const _0x5cc160=a1_0x41e0;return _0x16177e[_0x5cc160(0x215)](_0x4676f3,_0x120a7c);}};_0x16177e['dnJGf'](_0x16177e[_0x38a625(0x2cc)],_0x16177e[_0x38a625(0x2cc)])?_0x16177e[_0x38a625(0x2cf)](setTimeout,()=>_0x4ca642(),0x3e8):_0x4bbaf8[_0x38a625(0x21f)]('['+_0x1e54a4[_0x38a625(0x247)](_0x41847c,0x1)+']\x20'+_0x1240db[_0x377091]);}),this['getResourceClientId'](_0x186508,_0x16177e[_0x183f84(0x152)](_0x4075ea,0x1));}}}async[a1_0x398552(0x1aa)](){const _0x38b446=a1_0x398552,_0x591ca2={'IHnmP':function(_0x3ca001,_0x50a354,_0x511665){return _0x3ca001(_0x50a354,_0x511665);},'luhmh':function(_0x307a90,_0x4a2898){return _0x307a90!==_0x4a2898;},'eAqgR':'uOicN','EdJrB':'ByxTq','hZPkM':function(_0x90fa63,_0x1a64e4){return _0x90fa63===_0x1a64e4;},'Vhdmt':_0x38b446(0x289),'crFSH':_0x38b446(0x196),'GnhmS':_0x38b446(0x26d),'BdIXo':_0x38b446(0x10c)};if(!this[_0x38b446(0x12a)]){if(_0x591ca2[_0x38b446(0x11b)](_0x591ca2[_0x38b446(0x244)],_0x591ca2[_0x38b446(0x197)]))await this[_0x38b446(0x287)]();else return _0x211bfd[_0x38b446(0x2cd)](_0x38b446(0x267)+_0x15095a+_0x38b446(0x18a)+_0x46273f),![];}const _0x232d34=this[_0x38b446(0x12a)]?.[_0x38b446(0x103)]||{};if(_0x232d34&&_0x591ca2[_0x38b446(0x252)](_0x232d34[_0x591ca2['Vhdmt']],_0x591ca2[_0x38b446(0x14f)])){if(_0x591ca2[_0x38b446(0x252)](_0x591ca2[_0x38b446(0x2cb)],_0x591ca2[_0x38b446(0x261)]))_0x591ca2[_0x38b446(0x1b3)](_0x4ce892,()=>_0x7c4cde(),0x3e8);else return!![];}return![];}async[a1_0x398552(0xf5)](_0x5a102b,_0x5254fd){const _0x23985e=a1_0x398552,_0x4e5fbb={'ZTTXA':function(_0x3e8b1a,_0x535086){return _0x3e8b1a(_0x535086);},'dyNXk':'Deleted\x20the\x20cluster\x20successfully'};await _0x4e5fbb[_0x23985e(0xea)](deleteAgent,_0x5a102b),await _0x4e5fbb['ZTTXA'](deleteRoutingDeps,_0x5a102b);const _0x349d80=this['containerClient'];logger[_0x23985e(0x12e)](_0x23985e(0x1c0)+this[_0x23985e(0x220)]),await _0x349d80[_0x23985e(0x1a9)][_0x23985e(0x14b)](global_registry['cloudProviderResourceGroup'],this[_0x23985e(0x220)]),logger['info'](_0x4e5fbb['dyNXk']);}async['updateClusterAlreadyPresent'](){const _0xffa1ce=a1_0x398552,_0x46857d={};_0x46857d[_0xffa1ce(0x193)]=_0xffa1ce(0x2a8),_0x46857d[_0xffa1ce(0x169)]=function(_0x11be13,_0x25f070){return _0x11be13===_0x25f070;},_0x46857d[_0xffa1ce(0x240)]=_0xffa1ce(0x158),_0x46857d['aKMYC']='IQdZH',_0x46857d[_0xffa1ce(0x1b4)]=function(_0x45a183,_0x15d4e0){return _0x45a183&&_0x15d4e0;},_0x46857d[_0xffa1ce(0x2d5)]=_0xffa1ce(0x1c6),_0x46857d['MeoPh']=_0xffa1ce(0x155),_0x46857d[_0xffa1ce(0x12d)]=function(_0x4b632c,_0x49286f){return _0x4b632c!==_0x49286f;},_0x46857d[_0xffa1ce(0x25a)]=_0xffa1ce(0x2aa),_0x46857d[_0xffa1ce(0x1bb)]='bCCkl',_0x46857d[_0xffa1ce(0x2c9)]='Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster',_0x46857d[_0xffa1ce(0x265)]=function(_0x200f0b,_0x5b1d44){return _0x200f0b===_0x5b1d44;},_0x46857d[_0xffa1ce(0x1b5)]=_0xffa1ce(0x28a),_0x46857d[_0xffa1ce(0x122)]='Enabling\x20Workload\x20identity\x20for\x20the\x20cluster',_0x46857d[_0xffa1ce(0x2bf)]=function(_0x3852da,_0x2702a4){return _0x3852da!==_0x2702a4;},_0x46857d[_0xffa1ce(0x1d1)]='uMElO',_0x46857d['DYXzm']=_0xffa1ce(0x1ea);const _0x3bfca9=_0x46857d;if(!this[_0xffa1ce(0x12a)]){if(_0x3bfca9[_0xffa1ce(0x169)](_0x3bfca9[_0xffa1ce(0x288)],_0x3bfca9[_0xffa1ce(0x288)]))await this[_0xffa1ce(0x287)]();else{const _0x142052={};_0x142052['status']=!![],_0x142052[_0xffa1ce(0x2cd)]=null,_0x142052[_0xffa1ce(0x144)]=_0x3bfca9['UWFtH'];const _0x2a62aa=_0x142052;return _0x2a62aa;}}const _0x52acbc=this[_0xffa1ce(0x12a)],_0x45bc71=this[_0xffa1ce(0x12a)]?.['oidcIssuerProfile']?.[_0xffa1ce(0x188)]||![],_0x267331=this[_0xffa1ce(0x12a)]?.[_0xffa1ce(0x2af)]?.[_0xffa1ce(0x29c)]?.[_0xffa1ce(0x188)]||![],_0x50ad96=!this['clusterInfo']?.['disableLocalAccounts']||![];if(_0x3bfca9['nPYSd'](_0x45bc71,_0x267331)&&_0x50ad96){if(_0x3bfca9[_0xffa1ce(0x169)](_0x3bfca9[_0xffa1ce(0x2d5)],_0x3bfca9['MeoPh'])){if(_0x3bfca9[_0xffa1ce(0x169)](_0x1eb641[_0xffa1ce(0x23d)],_0x46ee81))return!![];}else return;}if(!_0x45bc71){if(_0x3bfca9['qLSGL'](_0x3bfca9[_0xffa1ce(0x25a)],_0x3bfca9[_0xffa1ce(0x1bb)])){logger['info'](_0x3bfca9[_0xffa1ce(0x2c9)]);const _0x291b64={};_0x291b64[_0xffa1ce(0x21d)]=WS_EVENTS[_0xffa1ce(0x2c8)],_0x291b64[_0xffa1ce(0x2c2)]=_0x3bfca9[_0xffa1ce(0x2c9)],this['webSocketUtils']['sendEventToBackend'](this[_0xffa1ce(0x256)],_0x291b64),_0x52acbc['oidcIssuerProfile'][_0xffa1ce(0x188)]=!![];}else _0x91df54[_0xffa1ce(0x2cd)]=_0x1ef7c3;}if(!_0x267331){if(_0x3bfca9['VOqqB'](_0x3bfca9[_0xffa1ce(0x1b5)],_0x3bfca9['vkmim'])){logger[_0xffa1ce(0x12e)](_0x3bfca9[_0xffa1ce(0x122)]);const _0x37fed0={};_0x37fed0[_0xffa1ce(0x21d)]=WS_EVENTS[_0xffa1ce(0x2c8)],_0x37fed0[_0xffa1ce(0x2c2)]=_0x3bfca9[_0xffa1ce(0x122)],this[_0xffa1ce(0x18b)]['sendEventToBackend'](this[_0xffa1ce(0x256)],_0x37fed0);const _0x37e9bc={};_0x37e9bc[_0xffa1ce(0x188)]=!![],_0x52acbc[_0xffa1ce(0x2af)]={'workloadIdentity':_0x37e9bc,..._0x52acbc[_0xffa1ce(0x2af)]};}else return!![];}if(!_0x50ad96){if(_0x3bfca9[_0xffa1ce(0x2bf)](_0x3bfca9[_0xffa1ce(0x1d1)],_0x3bfca9[_0xffa1ce(0x1d1)]))_0x1c0fba['error'](_0x3bfca9[_0xffa1ce(0x240)]),_0x32a545[_0xffa1ce(0x19f)](0x1);else{logger['info'](_0x3bfca9[_0xffa1ce(0x108)]);const _0x2f49a9={};_0x2f49a9['type']=WS_EVENTS[_0xffa1ce(0x2c8)],_0x2f49a9['message']=_0x3bfca9[_0xffa1ce(0x108)],this[_0xffa1ce(0x18b)][_0xffa1ce(0x15a)](this[_0xffa1ce(0x256)],_0x2f49a9),_0x52acbc['disableLocalAccounts']=![];}}await this[_0xffa1ce(0x1cd)][_0xffa1ce(0x1a9)][_0xffa1ce(0x160)](global_registry['cloudProviderResourceGroup'],this[_0xffa1ce(0x220)],_0x52acbc),await this['getClusterInfo']();}async['sendAzureInfoToHST'](){const _0x1e8d2e=a1_0x398552,_0x229285={};_0x229285[_0x1e8d2e(0x22d)]='Enabling\x20Local\x20account\x20for\x20the\x20cluster',_0x229285['QzjDQ']=function(_0x192a83,_0x269334){return _0x192a83===_0x269334;},_0x229285[_0x1e8d2e(0xf7)]=_0x1e8d2e(0x211),_0x229285[_0x1e8d2e(0x16f)]=_0x1e8d2e(0x25d);const _0x3e17bb=_0x229285,_0x3cea74=await this[_0x1e8d2e(0x1d6)][_0x1e8d2e(0x204)][_0x1e8d2e(0x178)](global_registry[_0x1e8d2e(0x12c)]),_0x3c70f7={};_0x3c70f7[_0x1e8d2e(0xe9)]=global_registry[_0x1e8d2e(0x28b)],_0x3c70f7[_0x1e8d2e(0x249)]=global_registry[_0x1e8d2e(0x100)],_0x3c70f7['cloudProvider']=AZURE,_0x3c70f7[_0x1e8d2e(0x1f5)]=[];const _0x5ecef7=_0x3c70f7;for await(const _0x4099c6 of _0x3cea74){if(_0x3e17bb['QzjDQ'](_0x3e17bb[_0x1e8d2e(0xf7)],_0x3e17bb[_0x1e8d2e(0x16f)])){_0x16156f[_0x1e8d2e(0x12e)](_0x3e17bb[_0x1e8d2e(0x22d)]);const _0x555ee7={};_0x555ee7['type']=_0x7264cc[_0x1e8d2e(0x2c8)],_0x555ee7[_0x1e8d2e(0x2c2)]=_0x3e17bb['DqZBx'],this[_0x1e8d2e(0x18b)][_0x1e8d2e(0x15a)](this[_0x1e8d2e(0x256)],_0x555ee7),_0x68e2f0['disableLocalAccounts']=![];}else _0x5ecef7[_0x1e8d2e(0x1f5)][_0x1e8d2e(0x13a)](_0x4099c6);}const _0x56e7e6={};_0x56e7e6[_0x1e8d2e(0x21d)]=WS_EVENTS[_0x1e8d2e(0x2c8)],_0x56e7e6[_0x1e8d2e(0x2c2)]=_0x5ecef7,this[_0x1e8d2e(0x18b)][_0x1e8d2e(0x15a)](this[_0x1e8d2e(0x256)],_0x56e7e6);}async[a1_0x398552(0x2b1)](_0x3592a0){const _0x38d7f1=a1_0x398552,_0x556b2c={};_0x556b2c[_0x38d7f1(0x1f1)]=_0x38d7f1(0x137),_0x556b2c[_0x38d7f1(0x1f2)]=_0x38d7f1(0x29e),_0x556b2c['FtLKQ']=_0x38d7f1(0x2b9),_0x556b2c[_0x38d7f1(0x1c5)]=_0x38d7f1(0x1b9),_0x556b2c[_0x38d7f1(0x206)]=function(_0x593101,_0x204e4f){return _0x593101!==_0x204e4f;},_0x556b2c[_0x38d7f1(0x284)]=_0x38d7f1(0x21c),_0x556b2c['ceYjd']=function(_0x12f3bb,_0x563a5a){return _0x12f3bb===_0x563a5a;},_0x556b2c[_0x38d7f1(0x27a)]=_0x38d7f1(0x1e9),_0x556b2c[_0x38d7f1(0x192)]=_0x38d7f1(0xef),_0x556b2c['xvmNN']=function(_0x4b486f,_0x2ac4af){return _0x4b486f===_0x2ac4af;},_0x556b2c[_0x38d7f1(0x235)]=_0x38d7f1(0x260),_0x556b2c[_0x38d7f1(0x1e6)]=_0x38d7f1(0x223),_0x556b2c[_0x38d7f1(0x118)]=function(_0x3841be,_0x179e25){return _0x3841be!==_0x179e25;},_0x556b2c['CkgxN']=_0x38d7f1(0x1e3);const _0x237852=_0x556b2c;try{if(_0x237852[_0x38d7f1(0x206)](_0x237852[_0x38d7f1(0x284)],_0x237852[_0x38d7f1(0x284)])){const _0x2add63=_0x34c7e5[_0x38d7f1(0x16a)](_0x3de4ec);_0x499000+='\x0a\x09'+_0x310664+':\x20'+(_0x2add63?_0x237852[_0x38d7f1(0x1f1)]:_0x237852[_0x38d7f1(0x1f2)]),!_0x2add63&&(_0x811863[_0x38d7f1(0x268)]=![]);}else{const _0x11dfd9=await this[_0x38d7f1(0x1d6)][_0x38d7f1(0x204)][_0x38d7f1(0x178)](global_registry[_0x38d7f1(0x12c)]);for await(const _0xaa0b3 of _0x11dfd9){if(_0x237852['ceYjd'](_0x237852[_0x38d7f1(0x27a)],_0x237852[_0x38d7f1(0x192)])){const _0x2b7e4c=_0x237852['FtLKQ'][_0x38d7f1(0x1ed)]('|');let _0x367adc=0x0;while(!![]){switch(_0x2b7e4c[_0x367adc++]){case'0':_0x3417dd[_0x38d7f1(0xeb)]=_0x1c991a[this[_0x38d7f1(0xf0)]]['subscriptionId'];continue;case'1':_0x503723[_0x38d7f1(0x12c)]=_0x551b6a[this['cloudProviderName']][_0x38d7f1(0x241)];continue;case'2':_0x388e3b[_0x38d7f1(0x142)]=_0x51c011[this[_0x38d7f1(0xf0)]][_0x38d7f1(0x1e8)];continue;case'3':_0x3e4326[_0x38d7f1(0xe8)]=_0x51313e[this[_0x38d7f1(0xf0)]][_0x38d7f1(0x28c)];continue;case'4':this[_0x38d7f1(0x274)]();continue;case'5':_0x56b6a1['cloudProviderTenantId']=_0xcea99b[this[_0x38d7f1(0xf0)]][_0x38d7f1(0x14e)];continue;}break;}}else{if(_0x237852[_0x38d7f1(0x2d9)](_0xaa0b3[_0x38d7f1(0x23d)],_0x3592a0))return _0x237852[_0x38d7f1(0x2c5)](_0x237852[_0x38d7f1(0x235)],_0x237852[_0x38d7f1(0x1e6)])?!![]:!![];}}}}catch(_0x3bcc6c){if(_0x237852[_0x38d7f1(0x118)](_0x237852[_0x38d7f1(0x1b6)],_0x237852['CkgxN']))_0x5e3b13['info'](_0x237852[_0x38d7f1(0x1c5)]);else return logger[_0x38d7f1(0x2cd)](_0x38d7f1(0x267)+_0x3592a0+_0x38d7f1(0x18a)+_0x3bcc6c),![];}return![];}async[a1_0x398552(0x190)](_0x4c814d,_0x13599e){const _0xdb2502=a1_0x398552,_0x51a9c2={};_0x51a9c2[_0xdb2502(0xf6)]=function(_0x40a798,_0x2da6fb){return _0x40a798!==_0x2da6fb;},_0x51a9c2[_0xdb2502(0x27e)]=_0xdb2502(0x138),_0x51a9c2[_0xdb2502(0x1ff)]=_0xdb2502(0x184),_0x51a9c2['yrbXH']=function(_0x1740cb,_0x5b9380){return _0x1740cb===_0x5b9380;},_0x51a9c2[_0xdb2502(0x1e2)]=_0xdb2502(0x1ba);const _0x38505e=_0x51a9c2;try{if(_0x38505e['rbVGy'](_0x38505e[_0xdb2502(0x27e)],_0x38505e[_0xdb2502(0x1ff)])){const _0x4ef367=await this[_0xdb2502(0x1d6)][_0xdb2502(0x1f4)][_0xdb2502(0x2a2)](global_registry[_0xdb2502(0x12c)],_0x13599e,_0x4c814d[0x0]);if(_0x38505e[_0xdb2502(0x117)](_0x4c814d[0x0],_0x4ef367[_0xdb2502(0x23d)])){if(_0x38505e['rbVGy'](_0x38505e[_0xdb2502(0x1e2)],_0x38505e[_0xdb2502(0x1e2)]))_0x541d35[_0xdb2502(0x19f)](0x0);else return[!![],_0x4c814d];}}else _0x3c21a6[_0xdb2502(0x13a)](_0x367c4c);}catch(_0x42b33f){return logger[_0xdb2502(0x2cd)](_0xdb2502(0x26e)+_0x4c814d+_0xdb2502(0x297)+_0x42b33f),[![],[]];}return[![],[]];}async[a1_0x398552(0x246)](){const _0x2a0c82=a1_0x398552,_0x27f847={};_0x27f847[_0x2a0c82(0x1cf)]='No\x20CLI\x20tool\x20required';const _0x547010=_0x27f847,_0x51d30e={};_0x51d30e[_0x2a0c82(0x268)]=!![],_0x51d30e[_0x2a0c82(0x2cd)]=null,_0x51d30e['data']=_0x547010[_0x2a0c82(0x1cf)];const _0x386fb4=_0x51d30e;return _0x386fb4;}async[a1_0x398552(0x133)](){const _0x2285ac=a1_0x398552,_0x57599f={};_0x57599f[_0x2285ac(0x145)]=_0x2285ac(0x189),_0x57599f[_0x2285ac(0x27f)]=_0x2285ac(0x1da),_0x57599f[_0x2285ac(0x280)]='application/json';const _0x3d4b0c=_0x57599f,_0x666d3f=await this[_0x2285ac(0x238)]['getToken'](_0x3d4b0c[_0x2285ac(0x145)]),_0xab3a12={};_0xab3a12[_0x2285ac(0x255)]=_0x3d4b0c[_0x2285ac(0x27f)],_0xab3a12[_0x2285ac(0x111)]={},_0xab3a12[_0x2285ac(0x111)][_0x2285ac(0x19b)]='Bearer\x20'+_0x666d3f[_0x2285ac(0x157)],_0xab3a12[_0x2285ac(0x111)][_0x2285ac(0xe3)]=_0x3d4b0c[_0x2285ac(0x280)];const _0x3475d5=_0xab3a12;return _0x3475d5;}async[a1_0x398552(0x1ad)](_0x1c4017){const _0x4b7371=a1_0x398552,_0x4beba3={'KnrTA':function(_0x1e1cdd,_0x1ff22a,_0x276f56){return _0x1e1cdd(_0x1ff22a,_0x276f56);},'OXbDa':function(_0x4fd66a,_0x47fe00){return _0x4fd66a===_0x47fe00;},'LPdmO':'No\x20service\x20principal\x20found'},_0x4d9c09={};_0x4d9c09[_0x4b7371(0x227)]='',_0x4d9c09[_0x4b7371(0x2cd)]=null;const _0x5f6cbd=_0x4d9c09;try{const _0x58f5f5=_0x4b7371(0x258)+_0x1c4017+'\x27',_0x5c3e1e=await this[_0x4b7371(0x133)](),_0x59e34e=await _0x4beba3[_0x4b7371(0x22f)](fetch,_0x58f5f5,_0x5c3e1e),_0x1faa59=await _0x59e34e['json']();if(!_0x1faa59[_0x4b7371(0x17c)]||_0x4beba3[_0x4b7371(0x21b)](_0x1faa59[_0x4b7371(0x17c)]['length'],0x0))throw new Error(_0x4beba3[_0x4b7371(0x114)],_0x4b7371(0x175)+JSON[_0x4b7371(0xe6)](_0x1faa59));_0x5f6cbd['principalId']=_0x1faa59[_0x4b7371(0x17c)][0x0]['id'];}catch(_0x1c620a){_0x5f6cbd[_0x4b7371(0x2cd)]=_0x1c620a;}return _0x5f6cbd;}async[a1_0x398552(0x293)](){const _0x1d87c9=a1_0x398552,_0x55fa2a={};_0x55fa2a[_0x1d87c9(0x2d1)]=_0x1d87c9(0x137),_0x55fa2a[_0x1d87c9(0x1c4)]=_0x1d87c9(0x29e),_0x55fa2a[_0x1d87c9(0x2a0)]=function(_0x4bb96a,_0x51e785){return _0x4bb96a!==_0x51e785;},_0x55fa2a[_0x1d87c9(0x1e0)]=function(_0x838e47,_0x562a7c){return _0x838e47===_0x562a7c;},_0x55fa2a['BdtiW']=_0x1d87c9(0x26c),_0x55fa2a[_0x1d87c9(0x1d0)]=function(_0x26f562,_0x3ddc81){return _0x26f562===_0x3ddc81;},_0x55fa2a[_0x1d87c9(0x15b)]='No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles',_0x55fa2a[_0x1d87c9(0x156)]=function(_0x239adc,_0x556bf1){return _0x239adc===_0x556bf1;},_0x55fa2a[_0x1d87c9(0x22c)]=_0x1d87c9(0x283);const _0x1a33bd=_0x55fa2a,_0x1d84cf={};_0x1d84cf[_0x1d87c9(0x268)]=![],_0x1d84cf[_0x1d87c9(0x2cd)]=null,_0x1d84cf[_0x1d87c9(0x144)]='';const _0x20db60=_0x1d84cf;try{let _0x573c69='';const _0x57fa39=_0x1d87c9(0x173)+global_registry['cloudProviderSubscriptionId']+_0x1d87c9(0x1fd)+global_registry[_0x1d87c9(0x12c)],_0x46fce1=await this[_0x1d87c9(0x1ad)](global_registry[_0x1d87c9(0x142)]);if(_0x1a33bd[_0x1d87c9(0x2a0)](_0x46fce1[_0x1d87c9(0x2cd)],null))return _0x20db60[_0x1d87c9(0x2cd)]=_0x46fce1[_0x1d87c9(0x2cd)],_0x20db60;const _0x18d20a=_0x1d87c9(0x2b5)+_0x46fce1[_0x1d87c9(0x227)]+'\x27)',_0x412c37={};_0x412c37[_0x1d87c9(0x172)]=_0x18d20a;const _0x3567f0=await this[_0x1d87c9(0xe0)][_0x1d87c9(0x29a)][_0x1d87c9(0x212)](_0x57fa39,_0x412c37),_0x2bdad9=[];for await(const _0x4d7c30 of _0x3567f0){_0x2bdad9[_0x1d87c9(0x13a)](_0x4d7c30);}if(_0x1a33bd[_0x1d87c9(0x1e0)](_0x2bdad9[_0x1d87c9(0x185)],0x0))return _0x20db60[_0x1d87c9(0x144)]=_0x1a33bd[_0x1d87c9(0x2b8)],_0x20db60;const _0x158ca1=[...new Set(_0x2bdad9['map'](_0x3a2539=>_0x3a2539[_0x1d87c9(0x1a7)]))];if(_0x1a33bd[_0x1d87c9(0x1d0)](_0x158ca1[_0x1d87c9(0x185)],0x0))return _0x20db60[_0x1d87c9(0x144)]=_0x1a33bd['fkNCP'],_0x20db60;const _0x1697d1=[],_0xf1d79c=[];for(const _0x32432e of _0x158ca1){const _0x3deec8=await this['authClient'][_0x1d87c9(0x232)]['getById'](_0x32432e);logger[_0x1d87c9(0x2d3)](_0x1d87c9(0x2d2)+_0x3deec8[_0x1d87c9(0x18f)]),_0x1697d1[_0x1d87c9(0x13a)](_0x3deec8),logger['debug'](_0x1d87c9(0x2c0)+JSON[_0x1d87c9(0xe6)](_0x3deec8[_0x1d87c9(0x2d6)])),_0x3deec8[_0x1d87c9(0x2d6)][_0x1d87c9(0x10b)](_0x2a965f=>{const _0x4dcf35=_0x1d87c9;_0xf1d79c[_0x4dcf35(0x13a)](..._0x2a965f[_0x4dcf35(0x12f)]);});}logger[_0x1d87c9(0x2d3)](_0x1d87c9(0x1ee)+JSON[_0x1d87c9(0xe6)](_0xf1d79c)),_0x1a33bd[_0x1d87c9(0x156)](_0xf1d79c[_0x1d87c9(0x185)],0x0)&&(_0x573c69+=_0x1a33bd['bpjTw'](_0xf1d79c[_0x1d87c9(0x185)],0x0)?_0x1a33bd[_0x1d87c9(0x22c)]:'',logger[_0x1d87c9(0x2d3)](_0x1d87c9(0x110)+JSON[_0x1d87c9(0xe6)](_0x1697d1))),_0x20db60[_0x1d87c9(0x268)]=!![],Object[_0x1d87c9(0x251)](PERMISSIONS['ACTION'])['forEach'](([_0x3ac1ea,_0x1d98e2])=>{const _0x2d91de=_0x1d87c9,_0x351673=_0xf1d79c[_0x2d91de(0x16a)](_0x3ac1ea);_0x573c69+='\x0a\x09'+_0x1d98e2+':\x20'+(_0x351673?_0x1a33bd[_0x2d91de(0x2d1)]:_0x1a33bd['ttPwL']),!_0x351673&&(_0x20db60[_0x2d91de(0x268)]=![]);}),_0x20db60[_0x1d87c9(0x144)]=_0x573c69;}catch(_0xd9d1b9){_0x20db60[_0x1d87c9(0x2cd)]=_0xd9d1b9;}return _0x20db60;}}const a1_0x2e9460={};a1_0x2e9460[a1_0x398552(0x17f)]=AzureCloudProvider,module['exports']=a1_0x2e9460;