const a1_0x28e0b1=a1_0x2ddd;(function(_0x57f990,_0x25b3b4){const _0x34c99f=a1_0x2ddd,_0x5e79f4=_0x57f990();while(!![]){try{const _0x4eba4f=-parseInt(_0x34c99f(0x20c))/0x1+parseInt(_0x34c99f(0xf0))/0x2*(-parseInt(_0x34c99f(0x100))/0x3)+-parseInt(_0x34c99f(0x2c4))/0x4*(parseInt(_0x34c99f(0x1c2))/0x5)+-parseInt(_0x34c99f(0x236))/0x6+-parseInt(_0x34c99f(0x21e))/0x7*(parseInt(_0x34c99f(0x264))/0x8)+-parseInt(_0x34c99f(0x11f))/0x9*(parseInt(_0x34c99f(0xf9))/0xa)+parseInt(_0x34c99f(0x2b7))/0xb*(parseInt(_0x34c99f(0x111))/0xc);if(_0x4eba4f===_0x25b3b4)break;else _0x5e79f4['push'](_0x5e79f4['shift']());}catch(_0x3dc715){_0x5e79f4['push'](_0x5e79f4['shift']());}}}(a1_0x15fa,0xe0201));const fs=require('fs'),path=require(a1_0x28e0b1(0x1ea)),yaml=require(a1_0x28e0b1(0x22a)),{logger}=require('../config/logger'),{CloudProvider}=require(a1_0x28e0b1(0xf2)),{deleteRoutingDeps,deleteAgent}=require(a1_0x28e0b1(0x1b0)),{AZURE,WS_EVENTS,global_registry}=require(a1_0x28e0b1(0x156)),PERMISSIONS=require(a1_0x28e0b1(0x2b0)),{ClientSecretCredential}=require(a1_0x28e0b1(0x1c4)),{NetworkManagementClient}=require('@azure/arm-network'),{StorageManagementClient}=require(a1_0x28e0b1(0x109)),{AuthorizationManagementClient}=require(a1_0x28e0b1(0x256)),{ResourceManagementClient}=require(a1_0x28e0b1(0x166)),{ContainerServiceClient}=require('@azure/arm-containerservice'),{runCommand}=require(a1_0x28e0b1(0x136));function a1_0x2ddd(_0x4d16fc,_0x32a040){const _0x15fa66=a1_0x15fa();return a1_0x2ddd=function(_0x2ddd08,_0xd5f613){_0x2ddd08=_0x2ddd08-0xed;let _0x38d2f1=_0x15fa66[_0x2ddd08];return _0x38d2f1;},a1_0x2ddd(_0x4d16fc,_0x32a040);}function a1_0x15fa(){const _0xc3fbd2=['turboscale-storageaccount-deployment','AcdlI','sxRsR','parse','roleDefinitionId','36mLeWjG','rules','storageaccount.json','vtUMM','Deleted\x20the\x20cluster\x20successfully','checkAccess','variables','LeKTM','Bearer\x20','setupHubHa','cnUpg','debug','RywWq','sendEventToBackend','acLOv','BUbOd','federatedidentity','Dfzrm','koBSJ','isSubnetsValid','\x20TENANT\x20ID:\x20','Incremental','LUKMr','../utils/utilityMethods','gelzI','beginDeleteAndWait','qmFtm','.json','ToqZu','storageAccounts','baseBlob','aQWTy','node','application/json','fKEzu','log','BEbgj','NTjFV','ydgOs','EtwcZ','Lboac','mPeec','pWijA','JRgGD','jgXFT','\x20SUBSCRIPTION\x20ID:\x20','lcbYz','IfBGO','zKnPC','SUGKV','authClient','join','CrwxB','oPhyh','hostname','../config/constants','jkiBF','isBrowserstackCluster','maxNodes','REGdv','daysAfterCreationGreaterThan','aLyBv','ZRdIX','includes','XZKOP','nHXiF','PHbQw','wjLRe','BZDGy','status','Deleting\x20the\x20cluster\x20','@azure/arm-resources','aqTey','managedidentity.json','utf-8','fIJqX','GSrux','tenantId','UOktq','dNAJB','cloudProviderName','userInstanceType','UdnWY','setupNewCluster','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','bLjBq','isWQX','uVjPr','qoosr','listForScope','isVPCPresent','gSrCU','qqbRP','XPiXQ','clientSecret','xQOly','cloudProviderTenantId','sQpQw','mqBkV','.\x20Error:\x20','pMKJK','cgQSB','hmYps','QuVxD','cloudProviderSubscriptionId','qXMRu','cloudProviderResourceGroup','Nzbas','LSIMZ','dWlub','MuVlc','Creating\x20Azure\x20managed\x20identity','CJQQb','MhXik','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','gbdOk','Cannot\x20find\x20VPC\x20','getHeader','zLQoM','info','eDhOT','turboscale-identity-deployment','exports','uLZHI','FxmMw','gadco','vVZyK','role\x20name\x20attached\x20-\x20','TOaZB','deployments','AgRcE','tqbSu','createCluster','HLfVZ','ppnSg','gLCDO','actionPermission\x20:\x20','FRHXF','toLowerCase','value','jQlTH','oYNtE','fuWcO','Blob\x20delete\x20lifecycle','ONqpC','../utils/gridComponents','roleName','sVqDo','nOtRk','map','fsFzY','qMviI','hQEja','vnetSubnetID','UDOgV','resources','storageAccountName','HdULs','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','xGcdY','FdrnN','KdyoL','disableLocalAccounts','24385ULSbPS','DWxtZ','@azure/identity','rzXCW','turboscale-cluster-deployment','KlgEF','YXfXS','string','init','createOrUpdate','location','ingress','actions','clusterName','NcwEO','createStorageAccount','false','FxMlj','Attached\x20permissions\x20:\x20','getResourceClientId','cloudProviderClientId','JYFXz','BhtkG','vaUif','OciCG','idPIg','enabled','CsnTS','qTGnP','2023-01-31','ZCzez','No\x20attached\x20role\x20for\x20the\x20client\x20key','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','endYe','csdwf','Ubada','default','NCRbS','isClusterPresent','FwxSl','path','etUNC','allowed','bGXAd','QZJNk','LCnsV','Mnfaa','securityProfile','list','YViAD','setClients','Creating\x20Azure\x20storage\x20account','s3Bucket','IatxI','PAFua','push','virtualNetworks','lsSbV','aLgcx','principalId','bOeHJ','createOtherResources','qJvXs','definition','LOG','aEVMl','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','atTQQ','NOcrw','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','IUQBD','Ggcko','lEppu','loadBalancer','856300aPOOkZ','UFMis','subscriptions/','isStorageAccountPresent','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','xPpSQ','ffBhk','yZBzf','YdvPO','kFLqG','RESOURCES','MnvIL','NfaGh','KJtOS','RaSal','forEach','XkPJK','token','10997pJvGmB','policy','1|3|2|5|0|4','containerClient','PVBqS','CBLPA','vnNyo','SdqDz','JkDoO','Created\x20Azure\x20federated\x20identity','FSCZC','stack','js-yaml','rxUkM','CDSQJ','\x20CLIENT\x20ID:\x20','gOnDt','ynhLB','bbbjW','xOdGa','aMuOu','IyjkB','iIyoM','vpcName','7366986gGnEai','parameters','slice','jzZoh','xAuuO','subscriptionId','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','LGRqg','BEpDu','OtIwn','metadata','TQQFh','hpggO','ijfLT','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','filters','permissions','Received\x20response\x20-\x20','headers','jQHfi','npkUZ','KLurg','NWWlr','dNBtM','toString','filter','THIgW','xBymW','description','LzAbF','properties','FBeLY','@azure/arm-authorization','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','type','looCN','zlaGi','subnetName','readFileAsync','rqWFk','message','bstackAccesskey','turboscale','blobTypes','listByResourceGroup','turboscale-federated-deployment','6856Nfneoj','JFskW','Enmut','tOIRj','zybtV','aQncv','getPrincipalIdFromClientId','lCPQo','issuerURL','clusterInfo','FcMAE','/resourceGroups/','2|1|5|3|4|0','hLWPO','KGxgW','QNcnn','uQOos','NReCV','getUserInput','\x20CLIENT\x20SECRET:\x20','exit','kpaqe','cred','get','vonRc','sdEuz','Mmusv','yPBqa','ZlNDo','webSocketUtils','name','Cannot\x20find\x20subnets\x20','imagQ','Enabling\x20Local\x20account\x20for\x20the\x20cluster','uKesX','rws','clusterAutoUpgrade','userMaxNodes','iskrt','XQYOF','ZpkBN','cloudProvider','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','json','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','storageClient','VyxvL','msVeL','sendAzureInfoToHST','Authorization','MtdGW','Managed\x20identity\x20already\x20exists,\x20skipping','wzmVy','LPwyY','denied','createFederatedAccountForHubHA','accessKey','Content-Type','createManagedIdentity','azureresources','qOmyt','toUpperCase','data','pFkUs','LJxrF','DeuQk','FPheo','true','UlbPV','jSFMn','resourceGroup','EcKGt','GxxBC','aBcLj','managementPolicies','ZZGih','../permissions/AZURE.json','hwxHT','clientId','fqEST','templates','dehAB','listAll','8569451emOOpu','bstackUsername','beginCreateOrUpdateAndWait','qGsTT','DUgdc','uhcJl','NDAbU','lcPkN','myGPA','UfGmv','BOsZC','Creating\x20Azure\x20federated\x20identity','yyAmw','164AIxPGi','turboscale-managed-identity-','roleAssignments','XSoKr','browserstack:managedBy','split','ZYcBv','instanceType','ACTION','listClusterAdminCredentials','RIwKr','federatedidentityuploader.json','QSGSh','workloadIdentity','QVNFY','HwOkK','stringify','luEMG','uIMAs','zUrqs','wmjMJ','xNByQ','JvGkw','2bIAkWX','PqClP','./CloudProvider','wduRo','Hiziy','dnvXr','length','oidcIssuerProfile','agentPoolProfiles','1958540IXNHWQ','No\x20service\x20principal\x20found','error','managedClusters','hLinU','xnDid','wQxcm','5038503yAqkXh','No\x20CLI\x20tool\x20required','getResourceGroups','kubeconfigs','cloudProviderClientSecret','bYmzh','WRysG','isManagedIdentityPresent','ZNQyN','@azure/arm-storage','Action\x20permission\x20list\x20is\x20empty\x0a','getStorageAccountName','ETHPK','getClusterInfo','updateClusterAlreadyPresent','jEwck','Goild','108NcRtYh','networkClient','resourceClient','Found\x20only\x20one\x20resource\x20group:\x20','KJfhk','vpcInfo','vSMBZ','zJdEC','PICZq'];a1_0x15fa=function(){return _0xc3fbd2;};return a1_0x15fa();}class AzureCloudProvider extends CloudProvider{constructor(_0x374c42,_0x258e43,_0x2e7ca9,_0x53bdcd){const _0x3b8fad=a1_0x28e0b1,_0x4c94b8={};_0x4c94b8[_0x3b8fad(0x1e0)]='1|0|4|3|7|5|6|2';const _0x25177a=_0x4c94b8,_0x37b7c8=_0x25177a[_0x3b8fad(0x1e0)][_0x3b8fad(0x2c9)]('|');let _0x28166c=0x0;while(!![]){switch(_0x37b7c8[_0x28166c++]){case'0':this[_0x3b8fad(0x27a)]=null;continue;case'1':super(AZURE,_0x374c42,_0x258e43,_0x2e7ca9,_0x53bdcd);continue;case'2':this[_0x3b8fad(0x151)]=null;continue;case'3':this['containerClient']=null;continue;case'4':this['clusterInfo']=null;continue;case'5':this[_0x3b8fad(0x113)]=null;continue;case'6':this['networkClient']=null;continue;case'7':this['storageClient']=null;continue;}break;}}async[a1_0x28e0b1(0x1ca)](){return await super['init'](),this;}['setClients'](){const _0x41b0fa=a1_0x28e0b1,_0x5bd395=new ClientSecretCredential(global_registry[_0x41b0fa(0x17f)],global_registry['cloudProviderClientId'],global_registry[_0x41b0fa(0x104)]);this[_0x41b0fa(0x221)]=new ContainerServiceClient(_0x5bd395,global_registry[_0x41b0fa(0x187)]),this[_0x41b0fa(0x291)]=new StorageManagementClient(_0x5bd395,global_registry[_0x41b0fa(0x187)]),this['resourceClient']=new ResourceManagementClient(_0x5bd395,global_registry['cloudProviderSubscriptionId']),this[_0x41b0fa(0x112)]=new NetworkManagementClient(_0x5bd395,global_registry[_0x41b0fa(0x187)]),this[_0x41b0fa(0x151)]=new AuthorizationManagementClient(_0x5bd395,global_registry[_0x41b0fa(0x187)]),this[_0x41b0fa(0x27a)]=_0x5bd395;}['getStorageAccountName'](){const _0x23c261=a1_0x28e0b1,_0x5016dc={};_0x5016dc['JRgGD']=function(_0xf27dff,_0x133604){return _0xf27dff+_0x133604;},_0x5016dc[_0x23c261(0x1e3)]=_0x23c261(0x260),_0x5016dc[_0x23c261(0x241)]=function(_0x5ad465,_0x5e1176){return _0x5ad465-_0x5e1176;};const _0x33bb10=_0x5016dc,_0x1ced51=global_registry[_0x23c261(0x1f6)][_0x23c261(0x2c9)]('-'),_0x346dee=_0x33bb10[_0x23c261(0x14a)](_0x33bb10['endYe'],_0x1ced51[_0x33bb10[_0x23c261(0x241)](_0x1ced51[_0x23c261(0xf6)],0x1)])[_0x23c261(0x238)](0x0,0x18);return _0x346dee[_0x23c261(0x1a9)]();}['setCachedCredsInRegistry'](_0x49a510){const _0x2c1862=a1_0x28e0b1,_0x83bc1b={};_0x83bc1b[_0x2c1862(0x17a)]='0|2|5|4|1|3';const _0x565dad=_0x83bc1b,_0x4c4d4a=_0x565dad[_0x2c1862(0x17a)][_0x2c1862(0x2c9)]('|');let _0x41885f=0x0;while(!![]){switch(_0x4c4d4a[_0x41885f++]){case'0':global_registry[_0x2c1862(0x1d6)]=_0x49a510[this[_0x2c1862(0x16f)]]['clientId'];continue;case'1':global_registry['cloudProviderResourceGroup']=_0x49a510[this[_0x2c1862(0x16f)]][_0x2c1862(0x2aa)];continue;case'2':global_registry[_0x2c1862(0x104)]=_0x49a510[this[_0x2c1862(0x16f)]][_0x2c1862(0x17d)];continue;case'3':this['setClients']();continue;case'4':global_registry[_0x2c1862(0x187)]=_0x49a510[this[_0x2c1862(0x16f)]][_0x2c1862(0x23b)];continue;case'5':global_registry[_0x2c1862(0x17f)]=_0x49a510[this[_0x2c1862(0x16f)]][_0x2c1862(0x16c)];continue;}break;}}async[a1_0x28e0b1(0x276)](_0x24eb24,_0x219395){const _0x45c5fa=a1_0x28e0b1,_0x49b173={'uKesX':function(_0x304f84,_0x36b660){return _0x304f84===_0x36b660;},'ZZGih':_0x45c5fa(0x173),'BEpDu':function(_0x2407fb,_0x4bd51e){return _0x2407fb+_0x4bd51e;},'xnDid':function(_0x40e0ef,_0x4e7901){return _0x40e0ef(_0x4e7901);},'HLfVZ':function(_0x4a5a96,_0x2a0aad){return _0x4a5a96(_0x2a0aad);},'KJtOS':function(_0x56434c,_0x35d924){return _0x56434c!==_0x35d924;},'qXMRu':_0x45c5fa(0x26b),'WqUxy':function(_0x597a9e,_0x13bc70){return _0x597a9e(_0x13bc70);},'KlgEF':_0x45c5fa(0x160),'NOcrw':function(_0x263ed9,_0x2b6444){return _0x263ed9(_0x2b6444);},'mqBkV':function(_0x493b89,_0x1ed0a9){return _0x493b89===_0x1ed0a9;},'FSCZC':function(_0x4dd744,_0x4e88d1){return _0x4dd744===_0x4e88d1;},'XZKOP':_0x45c5fa(0x2d7),'BhtkG':_0x45c5fa(0x290),'jEwck':'LCFVl','uLZHI':function(_0x452e48,_0x35a1ac){return _0x452e48!==_0x35a1ac;},'kpaqe':_0x45c5fa(0x2d2),'NcwEO':_0x45c5fa(0x1a5),'LjgXm':function(_0x2e5954,_0x53b7b9){return _0x2e5954<_0x53b7b9;},'Aeyyg':function(_0x209b8f,_0x5cd57a){return _0x209b8f===_0x5cd57a;},'qmFtm':_0x45c5fa(0x1c8),'PAFua':'Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','ktZfI':function(_0x5ad414,_0x1b84f5){return _0x5ad414(_0x1b84f5);},'NWWlr':function(_0x47f555,_0x2fe35e){return _0x47f555(_0x2fe35e);},'Nzbas':function(_0x5279b9,_0x293bb2){return _0x5279b9<=_0x293bb2;},'UdnWY':function(_0x114427,_0x2b7933){return _0x114427>_0x2b7933;},'NDAbU':_0x45c5fa(0x268),'bbbjW':function(_0x2593d8,_0x2d21e8){return _0x2593d8-_0x2d21e8;}},_0x1e6c10=this[_0x45c5fa(0x16f)][_0x45c5fa(0x2a1)](),_0xefffc2=await _0x49b173['xnDid'](_0x24eb24,_0x1e6c10+_0x45c5fa(0x22d)),_0x5e0817=await _0x49b173[_0x45c5fa(0xfe)](_0x24eb24,_0x1e6c10+_0x45c5fa(0x277)),_0x686c7c=await _0x49b173[_0x45c5fa(0xfe)](_0x24eb24,_0x1e6c10+_0x45c5fa(0x133)),_0x5f3221=await _0x49b173[_0x45c5fa(0x1a4)](_0x24eb24,_0x1e6c10+_0x45c5fa(0x14c));global_registry[_0x45c5fa(0x1d6)]=_0xefffc2,global_registry[_0x45c5fa(0x104)]=_0x5e0817,global_registry[_0x45c5fa(0x17f)]=_0x686c7c,global_registry[_0x45c5fa(0x187)]=_0x5f3221,this['setClients']();const _0x9ae2e3=await this[_0x45c5fa(0x102)](),_0x1a7bd6=_0x9ae2e3[_0x45c5fa(0xf6)];let _0x399df0;if(_0x49b173[_0x45c5fa(0x286)](_0x1a7bd6,0x0)){if(_0x49b173[_0x45c5fa(0x219)](_0x49b173[_0x45c5fa(0x188)],_0x49b173['qXMRu'])){const _0x3f7283=new _0x2de749(_0x1166a7['cloudProviderTenantId'],_0x3555ec[_0x45c5fa(0x1d6)],_0x276e8a['cloudProviderClientSecret']);this['containerClient']=new _0x146acc(_0x3f7283,_0x38fa06[_0x45c5fa(0x187)]),this[_0x45c5fa(0x291)]=new _0x1c2e8d(_0x3f7283,_0xf1be32[_0x45c5fa(0x187)]),this[_0x45c5fa(0x113)]=new _0x369a17(_0x3f7283,_0x526798[_0x45c5fa(0x187)]),this[_0x45c5fa(0x112)]=new _0x1f08aa(_0x3f7283,_0x2cc867[_0x45c5fa(0x187)]),this['authClient']=new _0x4e8107(_0x3f7283,_0x472861[_0x45c5fa(0x187)]),this[_0x45c5fa(0x27a)]=_0x3f7283;}else _0x399df0=await _0x49b173['WqUxy'](_0x24eb24,_0x1e6c10+'\x20RESOURCE\x20GROUP:\x20');}else{if(_0x49b173[_0x45c5fa(0x286)](_0x1a7bd6,0x1)){if(_0x49b173[_0x45c5fa(0x219)](_0x49b173[_0x45c5fa(0x1c7)],_0x49b173['KlgEF']))_0x49b173[_0x45c5fa(0x286)](_0xb75158['name'],_0x479fda)&&(_0x59a60c=_0x1a0ecc['id']);else{const _0x42dfd1=await _0x49b173[_0x45c5fa(0x206)](_0x24eb24,_0x45c5fa(0x114)+_0x9ae2e3[0x0]+_0x45c5fa(0x28e));(_0x49b173[_0x45c5fa(0x181)](_0x42dfd1,undefined)||_0x49b173[_0x45c5fa(0x181)](_0x42dfd1,null)||!(_0x49b173[_0x45c5fa(0x286)](_0x42dfd1['toLowerCase'](),'y')||_0x49b173[_0x45c5fa(0x228)](_0x42dfd1[_0x45c5fa(0x1a9)](),'n')))&&(_0x49b173[_0x45c5fa(0x219)](_0x49b173[_0x45c5fa(0x15f)],_0x49b173[_0x45c5fa(0x15f)])?_0x33b58e['push'](_0x1f0fa6):(console[_0x45c5fa(0xfb)](_0x49b173[_0x45c5fa(0x1d8)]),process[_0x45c5fa(0x278)](0x1)));if(_0x49b173['FSCZC'](_0x42dfd1[_0x45c5fa(0x1a9)](),'n')){if(_0x49b173['KJtOS'](_0x49b173[_0x45c5fa(0x10f)],_0x49b173[_0x45c5fa(0x10f)])){if(_0x49b173[_0x45c5fa(0x286)](_0x25ffd8[_0x45c5fa(0x282)],_0x45c5fa(0x2c5)+this[_0x45c5fa(0x1cf)]))return!![];}else process['exit'](0x0);}_0x399df0=_0x9ae2e3[0x0];}}else{if(_0x49b173[_0x45c5fa(0x19a)](_0x49b173[_0x45c5fa(0x279)],_0x49b173[_0x45c5fa(0x1d0)])){for(let _0xbb13a5=0x0;_0x49b173['LjgXm'](_0xbb13a5,_0x9ae2e3[_0x45c5fa(0xf6)]);_0xbb13a5+=0x1){if(_0x49b173['Aeyyg'](_0x49b173[_0x45c5fa(0x139)],_0x49b173[_0x45c5fa(0x139)]))console[_0x45c5fa(0x142)]('['+_0x49b173[_0x45c5fa(0x23e)](_0xbb13a5,0x1)+']\x20'+_0x9ae2e3[_0xbb13a5]);else return _0xbf4db4['data']=_0x49b173[_0x45c5fa(0x2af)],_0x478a09;}const _0x532e42=await _0x49b173[_0x45c5fa(0x1a4)](_0x24eb24,_0x49b173[_0x45c5fa(0x1f8)]),_0x3547af=_0x49b173['ktZfI'](Number,_0x532e42);(_0x49b173[_0x45c5fa(0x24c)](isNaN,_0x3547af)||_0x49b173[_0x45c5fa(0x18a)](_0x3547af,0x0)||_0x49b173[_0x45c5fa(0x171)](_0x3547af,_0x1a7bd6))&&(_0x49b173[_0x45c5fa(0x19a)](_0x49b173[_0x45c5fa(0x2bd)],_0x49b173[_0x45c5fa(0x2bd)])?_0x591707[_0x45c5fa(0x142)]('['+_0x49b173[_0x45c5fa(0x23e)](_0x4beef9,0x1)+']\x20'+_0xfd767c[_0x5cd7b3]):(console[_0x45c5fa(0xfb)](_0x49b173[_0x45c5fa(0x1d8)]),process[_0x45c5fa(0x278)](0x1))),_0x399df0=_0x9ae2e3[_0x49b173[_0x45c5fa(0x230)](_0x3547af,0x1)];}else{if(_0x49b173[_0x45c5fa(0x286)](_0x53a3f4[_0x45c5fa(0x282)],_0x3ef36d))return!![];}}}global_registry[_0x45c5fa(0x189)]=_0x399df0;const _0x56a628={};return _0x56a628[_0x45c5fa(0x2b2)]=_0xefffc2,_0x56a628[_0x45c5fa(0x17d)]=_0x5e0817,_0x56a628[_0x45c5fa(0x16c)]=_0x686c7c,_0x56a628['subscriptionId']=_0x5f3221,_0x56a628[_0x45c5fa(0x2aa)]=_0x399df0,_0x219395[_0x45c5fa(0x28d)][AZURE]=_0x56a628,_0x219395;}async[a1_0x28e0b1(0x102)](){const _0x5ac8cb=a1_0x28e0b1,_0x5bd30c={};_0x5bd30c[_0x5ac8cb(0x15d)]=_0x5ac8cb(0x210),_0x5bd30c[_0x5ac8cb(0x1fb)]=function(_0x1535bd,_0x2e5d05){return _0x1535bd!==_0x2e5d05;},_0x5bd30c[_0x5ac8cb(0xed)]=_0x5ac8cb(0x269),_0x5bd30c['sdEuz']=function(_0xc66165,_0x4d6420){return _0xc66165===_0x4d6420;},_0x5bd30c[_0x5ac8cb(0x195)]=_0x5ac8cb(0xef),_0x5bd30c[_0x5ac8cb(0x2a9)]='Kuwlm';const _0x4add47=_0x5bd30c,_0x3dc7be=[];try{if(_0x4add47['lsSbV'](_0x4add47[_0x5ac8cb(0xed)],_0x4add47[_0x5ac8cb(0xed)])){_0x5f3014[_0x5ac8cb(0x196)](_0x4add47[_0x5ac8cb(0x15d)]);const _0x296cb4={};_0x296cb4[_0x5ac8cb(0x258)]=_0x86c7fe[_0x5ac8cb(0x216)],_0x296cb4[_0x5ac8cb(0x25e)]=_0x4add47[_0x5ac8cb(0x15d)],this[_0x5ac8cb(0x281)]['sendEventToBackend'](this[_0x5ac8cb(0x287)],_0x296cb4),_0x2d3fd0[_0x5ac8cb(0xf7)][_0x5ac8cb(0x1dc)]=!![];}else{const _0x588b3=await this[_0x5ac8cb(0x113)]['resourceGroups'][_0x5ac8cb(0x1f2)]();for await(const _0x58c33d of _0x588b3){if(_0x4add47[_0x5ac8cb(0x27d)](_0x4add47[_0x5ac8cb(0x195)],_0x4add47['jSFMn']))return;else _0x3dc7be[_0x5ac8cb(0x1f9)](_0x58c33d[_0x5ac8cb(0x282)]);}}}catch(_0x54d202){}return _0x3dc7be;}async[a1_0x28e0b1(0x10d)](){const _0xeeab4a=a1_0x28e0b1;return this[_0xeeab4a(0x26d)]=await this['containerClient'][_0xeeab4a(0xfc)]['get'](global_registry[_0xeeab4a(0x189)],this[_0xeeab4a(0x1cf)]),this[_0xeeab4a(0x26d)];}async['getKubeConfigData'](){const _0x7d0ad=a1_0x28e0b1,_0x3b7fc1=await this[_0x7d0ad(0x221)][_0x7d0ad(0xfc)][_0x7d0ad(0x2cd)](global_registry[_0x7d0ad(0x189)],this[_0x7d0ad(0x1cf)]),_0x4a107d=_0x3b7fc1[_0x7d0ad(0x103)][0x0][_0x7d0ad(0x1aa)][_0x7d0ad(0x24e)]();return _0x4a107d;}['getGridHostname'](_0x99485a){const _0x1048ec=a1_0x28e0b1;return _0x99485a[_0x1048ec(0x164)][_0x1048ec(0x20b)][_0x1048ec(0x1cd)][0x0][_0x1048ec(0x155)];}async[a1_0x28e0b1(0x1e8)](){const _0x57707e=a1_0x28e0b1,_0x1a144b={};_0x1a144b['ETHPK']=function(_0x29cb5c,_0x58b165){return _0x29cb5c!==_0x58b165;},_0x1a144b['WmPhB']=_0x57707e(0xff),_0x1a144b[_0x57707e(0x1bc)]=_0x57707e(0xf3),_0x1a144b[_0x57707e(0x22b)]=_0x57707e(0x20d),_0x1a144b['XSoKr']='oBcWo',_0x1a144b['aBcLj']=function(_0x3f9015,_0x4ca437){return _0x3f9015===_0x4ca437;},_0x1a144b['yBCge']=function(_0x4f23f3,_0x4517a2){return _0x4f23f3===_0x4517a2;},_0x1a144b[_0x57707e(0x126)]=_0x57707e(0x108);const _0x469724=_0x1a144b,_0x58a1b5=new Array();for await(const _0x484f73 of this[_0x57707e(0x221)][_0x57707e(0xfc)][_0x57707e(0x262)](global_registry[_0x57707e(0x189)])){if(_0x469724[_0x57707e(0x10c)](_0x469724['WmPhB'],_0x469724[_0x57707e(0x1bc)]))_0x58a1b5[_0x57707e(0x1f9)](_0x484f73);else return _0x1acc44[_0x57707e(0x164)]['loadBalancer'][_0x57707e(0x1cd)][0x0][_0x57707e(0x155)];}for await(const _0x4fa904 of _0x58a1b5){if(_0x469724[_0x57707e(0x10c)](_0x469724[_0x57707e(0x22b)],_0x469724[_0x57707e(0x2c7)])){if(_0x469724[_0x57707e(0x2ad)](_0x4fa904['name'],this['clusterName']))return _0x469724['yBCge'](_0x469724['LeKTM'],_0x469724[_0x57707e(0x126)])?(await this['getClusterInfo'](),!![]):!![];}else _0x381519[_0x57707e(0x278)](0x0);}return![];}async[a1_0x28e0b1(0x172)](_0x530bc1=null,_0x1ec457=null){const _0x3a5f16=a1_0x28e0b1,_0x162264={};_0x162264[_0x3a5f16(0x1fe)]=_0x3a5f16(0x270),_0x162264[_0x3a5f16(0x2d5)]='Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity';const _0x39ea34=_0x162264,_0x120fb6=_0x39ea34['bOeHJ'][_0x3a5f16(0x2c9)]('|');let _0x348370=0x0;while(!![]){switch(_0x120fb6[_0x348370++]){case'0':return[_0x530bc1,_0x1ec457];case'1':const _0x406099={};_0x406099[_0x3a5f16(0x258)]=WS_EVENTS[_0x3a5f16(0x202)],_0x406099[_0x3a5f16(0x25e)]=_0x39ea34[_0x3a5f16(0x2d5)],this[_0x3a5f16(0x281)][_0x3a5f16(0x12c)](this['rws'],_0x406099);continue;case'2':this['sendAzureInfoToHST']();continue;case'3':await this[_0x3a5f16(0x1a3)](_0x530bc1,_0x1ec457);continue;case'4':await this['createOtherResources']();continue;case'5':logger[_0x3a5f16(0x196)](_0x39ea34[_0x3a5f16(0x2d5)]);continue;}break;}}async[a1_0x28e0b1(0x1a3)](_0x423208=null,_0x1df6e0=null){const _0x4d081a=a1_0x28e0b1,_0x447a30={};_0x447a30[_0x4d081a(0x16e)]='templates',_0x447a30[_0x4d081a(0x185)]=_0x4d081a(0x29f),_0x447a30[_0x4d081a(0x2bb)]='akscluster.json',_0x447a30[_0x4d081a(0x275)]=_0x4d081a(0x169),_0x447a30[_0x4d081a(0x1d9)]=_0x4d081a(0x2a7),_0x447a30[_0x4d081a(0x190)]=_0x4d081a(0x1d2),_0x447a30[_0x4d081a(0x2d6)]=function(_0x1c91b2,_0x5d7770){return _0x1c91b2!==_0x5d7770;},_0x447a30[_0x4d081a(0x148)]=function(_0x3230b7,_0x3d5ad1){return _0x3230b7!==_0x3d5ad1;},_0x447a30['atTQQ']=function(_0x2f9f64,_0x485b24){return _0x2f9f64===_0x485b24;},_0x447a30[_0x4d081a(0x239)]=_0x4d081a(0x180),_0x447a30[_0x4d081a(0x24a)]=_0x4d081a(0x117),_0x447a30[_0x4d081a(0x2a5)]=_0x4d081a(0x1c9),_0x447a30[_0x4d081a(0x11b)]=_0x4d081a(0x204),_0x447a30[_0x4d081a(0x1e9)]=_0x4d081a(0x191),_0x447a30['fIJqX']='[variables(\x27vnetSubnetID\x27)]',_0x447a30[_0x4d081a(0x2c1)]=_0x4d081a(0x1c6),_0x447a30[_0x4d081a(0x16b)]=_0x4d081a(0x134);const _0x607bf5=_0x447a30;let _0x430e7c=await fs[_0x4d081a(0x25c)](path[_0x4d081a(0x152)](__dirname,'..',_0x607bf5[_0x4d081a(0x16e)],_0x607bf5[_0x4d081a(0x185)],_0x607bf5[_0x4d081a(0x2bb)]),_0x607bf5[_0x4d081a(0x275)]);_0x430e7c=JSON[_0x4d081a(0x11d)](_0x430e7c);const _0x324205={};_0x324205[_0x4d081a(0x1aa)]=this[_0x4d081a(0x1cf)];const _0x1676b6={};_0x1676b6['value']=global_registry['clusterRegion'];const _0x30546a={};_0x30546a[_0x4d081a(0x1aa)]=global_registry[_0x4d081a(0x2cb)];const _0x3d492a={};_0x3d492a[_0x4d081a(0x1aa)]=global_registry[_0x4d081a(0x159)];const _0x3fab76={};_0x3fab76[_0x4d081a(0x1aa)]=global_registry[_0x4d081a(0x288)]?_0x607bf5[_0x4d081a(0x1d9)]:_0x607bf5['MhXik'];const _0x56c35c={};_0x56c35c[_0x4d081a(0x1cf)]=_0x324205,_0x56c35c[_0x4d081a(0x1cc)]=_0x1676b6,_0x56c35c[_0x4d081a(0x170)]=_0x30546a,_0x56c35c[_0x4d081a(0x289)]=_0x3d492a,_0x56c35c[_0x4d081a(0x288)]=_0x3fab76;let _0x4424c9=_0x56c35c;if(_0x607bf5[_0x4d081a(0x2d6)](_0x423208,null)&&_0x607bf5['mPeec'](_0x1df6e0,null)){if(_0x607bf5[_0x4d081a(0x205)](_0x607bf5[_0x4d081a(0x239)],_0x607bf5[_0x4d081a(0x24a)]))return!![];else{const _0xbf497b={};_0xbf497b['type']=_0x607bf5[_0x4d081a(0x2a5)],_0xbf497b['metadata']={},_0xbf497b['metadata']['description']=_0x607bf5[_0x4d081a(0x11b)];const _0x5ac74e={};_0x5ac74e[_0x4d081a(0x258)]=_0x607bf5['DeuQk'],_0x5ac74e[_0x4d081a(0x240)]={},_0x5ac74e[_0x4d081a(0x240)]['description']=_0x607bf5[_0x4d081a(0x11b)],_0x430e7c[_0x4d081a(0x237)]={..._0x430e7c[_0x4d081a(0x237)],'vpcName':_0xbf497b,'subnetName':_0x5ac74e};const _0x52576b={};_0x52576b[_0x4d081a(0x1b8)]=_0x607bf5[_0x4d081a(0x1e9)],_0x430e7c['variables']=_0x52576b,_0x430e7c[_0x4d081a(0x1ba)][0x0][_0x4d081a(0x254)][_0x4d081a(0xf8)][0x0]={..._0x430e7c[_0x4d081a(0x1ba)][0x0][_0x4d081a(0x254)][_0x4d081a(0xf8)][0x0],'vnetSubnetID':_0x607bf5[_0x4d081a(0x16a)]};const _0x3d4ad1={};_0x3d4ad1[_0x4d081a(0x1aa)]=_0x423208;const _0x18f297={};_0x18f297[_0x4d081a(0x1aa)]=_0x1df6e0[0x0],_0x4424c9={..._0x4424c9,'vpcName':_0x3d4ad1,'subnetName':_0x18f297};}}await this['resourceClient'][_0x4d081a(0x1a0)]['beginCreateOrUpdateAndWait'](global_registry['cloudProviderResourceGroup'],_0x607bf5[_0x4d081a(0x2c1)],{'properties':{'template':_0x430e7c,'mode':_0x607bf5[_0x4d081a(0x16b)],'parameters':_0x4424c9}});}async[a1_0x28e0b1(0x1ff)](){const _0x17257e=a1_0x28e0b1,_0x356311={};_0x356311[_0x17257e(0x23f)]='allowed',_0x356311['uNXtb']=_0x17257e(0x29a),_0x356311[_0x17257e(0x146)]=_0x17257e(0xfa),_0x356311[_0x17257e(0x2a8)]=function(_0x52c6ba,_0x2373ec){return _0x52c6ba===_0x2373ec;},_0x356311['uhcJl']='splAx',_0x356311['RywWq']=_0x17257e(0x1a2),_0x356311[_0x17257e(0x1bf)]=_0x17257e(0x1f5),_0x356311[_0x17257e(0x15a)]=function(_0x63ebfc,_0x26833c){return _0x63ebfc!==_0x26833c;},_0x356311['NCRbS']=_0x17257e(0x11c),_0x356311[_0x17257e(0x2c3)]='Storage\x20account\x20already\x20exists,\x20skipping',_0x356311[_0x17257e(0x19b)]=function(_0x362995,_0x56f1fb){return _0x362995!==_0x56f1fb;},_0x356311['bYmzh']=_0x17257e(0x17e),_0x356311['dWlub']=_0x17257e(0x157),_0x356311[_0x17257e(0x1af)]=_0x17257e(0x18e),_0x356311[_0x17257e(0x2c0)]=function(_0x38de99,_0x3ef993){return _0x38de99!==_0x3ef993;},_0x356311[_0x17257e(0x271)]='IwMVz',_0x356311[_0x17257e(0x131)]=_0x17257e(0x297),_0x356311[_0x17257e(0x2a3)]=_0x17257e(0x2c2),_0x356311[_0x17257e(0x253)]=_0x17257e(0x227);const _0x174379=_0x356311,_0x13c8c0=await this[_0x17257e(0x20f)]();if(!_0x13c8c0){if(_0x174379[_0x17257e(0x2a8)](_0x174379[_0x17257e(0x2bc)],_0x174379[_0x17257e(0x12b)]))return!![];else{const _0x456135={};_0x456135[_0x17257e(0x258)]=WS_EVENTS['LOG'],_0x456135['message']=_0x174379[_0x17257e(0x1bf)],this[_0x17257e(0x281)][_0x17257e(0x12c)](this[_0x17257e(0x287)],_0x456135),logger['info'](_0x174379['FdrnN']),await this[_0x17257e(0x1d1)]();}}else{if(_0x174379[_0x17257e(0x15a)](_0x174379[_0x17257e(0x1e7)],_0x174379[_0x17257e(0x1e7)])){const _0x292749=_0x70bfd7['includes'](_0x1e5c5f);_0x2dc745+='\x0a\x09'+_0x556189+':\x20'+(_0x292749?_0x174379[_0x17257e(0x23f)]:_0x174379['uNXtb']),!_0x292749&&(_0x331ac6[_0x17257e(0x164)]=![]);}else logger[_0x17257e(0x196)](_0x174379[_0x17257e(0x2c3)]);}const _0x3dddbd=await this[_0x17257e(0x107)]();if(!_0x3dddbd){if(_0x174379[_0x17257e(0x19b)](_0x174379[_0x17257e(0x105)],_0x174379[_0x17257e(0x18c)])){const _0x41c067={};_0x41c067[_0x17257e(0x258)]=WS_EVENTS[_0x17257e(0x202)],_0x41c067[_0x17257e(0x25e)]=_0x174379['ONqpC'],this[_0x17257e(0x281)][_0x17257e(0x12c)](this['rws'],_0x41c067),logger[_0x17257e(0x196)](_0x174379[_0x17257e(0x1af)]),await this['createManagedIdentity']();}else _0x51df5c[_0x17257e(0x116)][_0x17257e(0x1f9)](_0x55ac3c);}else{if(_0x174379[_0x17257e(0x2c0)](_0x174379[_0x17257e(0x271)],_0x174379['hLWPO']))throw new _0x55dbc8(_0x174379[_0x17257e(0x146)],_0x17257e(0x247)+_0x354d71[_0x17257e(0x2d4)](_0x4e925f));else logger['info'](_0x174379[_0x17257e(0x131)]);}logger['info'](_0x174379[_0x17257e(0x2a3)]),await this['createFederatedAccount'](),logger[_0x17257e(0x196)](_0x174379['LzAbF']);}async[a1_0x28e0b1(0x1d1)](){const _0x1761d7=a1_0x28e0b1,_0x195d63={};_0x195d63['PVBqS']=_0x1761d7(0x2b4),_0x195d63[_0x1761d7(0x154)]=_0x1761d7(0x29f),_0x195d63['pWijA']=_0x1761d7(0x121),_0x195d63[_0x1761d7(0x12e)]='utf-8',_0x195d63[_0x1761d7(0xf4)]=_0x1761d7(0x11a),_0x195d63['looCN']='Incremental',_0x195d63[_0x1761d7(0x250)]=_0x1761d7(0x1ae),_0x195d63[_0x1761d7(0x13b)]='Lifecycle',_0x195d63[_0x1761d7(0x184)]='blockBlob',_0x195d63['EcKGt']=_0x1761d7(0x1e6);const _0x39807c=_0x195d63;let _0x41c478=await fs[_0x1761d7(0x25c)](path[_0x1761d7(0x152)](__dirname,'..',_0x39807c[_0x1761d7(0x222)],_0x39807c['oPhyh'],_0x39807c[_0x1761d7(0x149)]),_0x39807c[_0x1761d7(0x12e)]);_0x41c478=JSON[_0x1761d7(0x11d)](_0x41c478);const _0x38a71e=this['getStorageAccountName'](),_0x2ff3a1={};_0x2ff3a1[_0x1761d7(0x1aa)]=_0x38a71e;const _0x25735f={};_0x25735f[_0x1761d7(0x1bb)]=_0x2ff3a1,await this[_0x1761d7(0x113)][_0x1761d7(0x1a0)][_0x1761d7(0x2b9)](global_registry[_0x1761d7(0x189)],_0x39807c[_0x1761d7(0xf4)],{'properties':{'template':_0x41c478,'mode':_0x39807c[_0x1761d7(0x259)],'parameters':_0x25735f}});const _0x1d469c={};_0x1d469c[_0x1761d7(0x15b)]=0x3c;const _0x2a51a6={};_0x2a51a6['delete']=_0x1d469c;const _0x34f9f3={};_0x34f9f3[_0x1761d7(0x13d)]=_0x2a51a6;const _0xca715={};_0xca715[_0x1761d7(0x1dc)]=!![],_0xca715['name']=_0x39807c['THIgW'],_0xca715[_0x1761d7(0x258)]=_0x39807c[_0x1761d7(0x13b)],_0xca715[_0x1761d7(0x201)]={},_0xca715[_0x1761d7(0x201)][_0x1761d7(0x1ce)]=_0x34f9f3,_0xca715[_0x1761d7(0x201)][_0x1761d7(0x245)]={},_0xca715[_0x1761d7(0x201)][_0x1761d7(0x245)][_0x1761d7(0x261)]=[_0x39807c['cgQSB']];const _0x2db718={};_0x2db718[_0x1761d7(0x120)]=[_0xca715];const _0x42887a={};_0x42887a[_0x1761d7(0x21f)]=_0x2db718;const _0x4baebc=_0x42887a;await this[_0x1761d7(0x291)][_0x1761d7(0x2ae)][_0x1761d7(0x1cb)](global_registry[_0x1761d7(0x189)],_0x38a71e,_0x39807c[_0x1761d7(0x2ab)],_0x4baebc);}async[a1_0x28e0b1(0x29e)](){const _0x10faa2=a1_0x28e0b1,_0x5f3f44={};_0x5f3f44[_0x10faa2(0x280)]=_0x10faa2(0x2b4),_0x5f3f44[_0x10faa2(0x1a1)]='azureresources',_0x5f3f44[_0x10faa2(0x1ed)]=_0x10faa2(0x168),_0x5f3f44[_0x10faa2(0x1db)]=_0x10faa2(0x169),_0x5f3f44['aMuOu']=_0x10faa2(0x198),_0x5f3f44[_0x10faa2(0x1be)]=_0x10faa2(0x134);const _0x1e535b=_0x5f3f44;let _0x544e23=await fs[_0x10faa2(0x25c)](path[_0x10faa2(0x152)](__dirname,'..',_0x1e535b[_0x10faa2(0x280)],_0x1e535b[_0x10faa2(0x1a1)],_0x1e535b[_0x10faa2(0x1ed)]),_0x1e535b['idPIg']);_0x544e23=JSON['parse'](_0x544e23),await this[_0x10faa2(0x113)][_0x10faa2(0x1a0)]['beginCreateOrUpdateAndWait'](global_registry['cloudProviderResourceGroup'],_0x1e535b[_0x10faa2(0x232)],{'properties':{'template':_0x544e23,'mode':_0x1e535b['xGcdY'],'parameters':{'clusterName':{'value':this[_0x10faa2(0x1cf)]}}}});}async['createFederatedAccount'](){const _0x1f37df=a1_0x28e0b1,_0x1e4ac6={};_0x1e4ac6[_0x1f37df(0x12d)]='Managed\x20identity\x20already\x20exists,\x20skipping',_0x1e4ac6[_0x1f37df(0x1fc)]=function(_0x92aa6a,_0x438dc3){return _0x92aa6a===_0x438dc3;},_0x1e4ac6['lcbYz']=_0x1f37df(0x17c),_0x1e4ac6['BEbgj']='hub',_0x1e4ac6['laCcv']=_0x1f37df(0x13f),_0x1e4ac6[_0x1f37df(0x137)]=_0x1f37df(0x2a4),_0x1e4ac6[_0x1f37df(0x1b6)]=_0x1f37df(0x14f),_0x1e4ac6['FRHXF']=_0x1f37df(0x2b4),_0x1e4ac6[_0x1f37df(0x2ca)]=_0x1f37df(0x29f),_0x1e4ac6[_0x1f37df(0x234)]='utf-8',_0x1e4ac6[_0x1f37df(0x167)]='turboscale-federated-deployment',_0x1e4ac6[_0x1f37df(0x130)]=_0x1f37df(0x134);const _0x3f4736=_0x1e4ac6;!this[_0x1f37df(0x26d)]&&(_0x3f4736[_0x1f37df(0x1fc)](_0x3f4736[_0x1f37df(0x14d)],_0x3f4736['lcbYz'])?await this[_0x1f37df(0x10d)]():_0x185be7=_0x5156b8['id']);const _0xb6f15e=this[_0x1f37df(0x26d)]?.[_0x1f37df(0xf7)]?.['issuerURL'],_0x4ac790=[_0x3f4736[_0x1f37df(0x143)],_0x3f4736['laCcv']];for await(const _0x49dbf1 of _0x4ac790){if(_0x3f4736[_0x1f37df(0x1fc)](_0x3f4736[_0x1f37df(0x137)],_0x3f4736[_0x1f37df(0x1b6)]))_0x450706[_0x1f37df(0x196)](_0x3f4736[_0x1f37df(0x12d)]);else{let _0x20e627=await fs['readFileAsync'](path[_0x1f37df(0x152)](__dirname,'..',_0x3f4736[_0x1f37df(0x1a8)],_0x3f4736[_0x1f37df(0x2ca)],_0x1f37df(0x12f)+_0x49dbf1+_0x1f37df(0x13a)),_0x3f4736[_0x1f37df(0x234)]);_0x20e627=JSON[_0x1f37df(0x11d)](_0x20e627);const _0x4332a8={};_0x4332a8['value']=_0xb6f15e,await this[_0x1f37df(0x113)]['deployments'][_0x1f37df(0x2b9)](global_registry['cloudProviderResourceGroup'],_0x3f4736[_0x1f37df(0x167)],{'properties':{'template':_0x20e627,'mode':_0x3f4736[_0x1f37df(0x130)],'parameters':{'oidcIssuer':_0x4332a8,'gridName':{'value':this['gridName']},'clusterName':{'value':this['clusterName']}}}});}}}async[a1_0x28e0b1(0x128)](_0x11e780,_0x613e8c,_0x282579,_0x33a7f8,_0x5c2d47){const _0x2a9b4d=a1_0x28e0b1,_0x54a51c={};_0x54a51c[_0x2a9b4d(0x27c)]='Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha',_0x54a51c[_0x2a9b4d(0x2be)]=_0x2a9b4d(0x23c);const _0x1e873f=_0x54a51c,_0x1c789b={};_0x1c789b[_0x2a9b4d(0x258)]=WS_EVENTS[_0x2a9b4d(0x202)],_0x1c789b['message']=_0x1e873f['vonRc'],this[_0x2a9b4d(0x281)][_0x2a9b4d(0x12c)](this[_0x2a9b4d(0x287)],_0x1c789b),logger['info'](_0x1e873f[_0x2a9b4d(0x27c)]),await this[_0x2a9b4d(0x29b)]();const _0x39f061={};_0x39f061[_0x2a9b4d(0x258)]=WS_EVENTS[_0x2a9b4d(0x202)],_0x39f061['message']=_0x1e873f[_0x2a9b4d(0x2be)],this['webSocketUtils'][_0x2a9b4d(0x12c)](this[_0x2a9b4d(0x287)],_0x39f061);}async[a1_0x28e0b1(0x29b)](){const _0x4791a9=a1_0x28e0b1,_0xcdf270={};_0xcdf270[_0x4791a9(0x122)]=function(_0xf7889c,_0x453625){return _0xf7889c!==_0x453625;},_0xcdf270['IatxI']=_0x4791a9(0x14b),_0xcdf270['pMKJK']=_0x4791a9(0x23a),_0xcdf270[_0x4791a9(0xee)]=_0x4791a9(0x2b4),_0xcdf270[_0x4791a9(0x2bf)]='hubharesources',_0xcdf270[_0x4791a9(0x19f)]=_0x4791a9(0x2cf),_0xcdf270[_0x4791a9(0x14e)]=_0x4791a9(0x169),_0xcdf270[_0x4791a9(0x129)]=_0x4791a9(0x263),_0xcdf270[_0x4791a9(0x1ab)]=_0x4791a9(0x134);const _0x436629=_0xcdf270;!this[_0x4791a9(0x26d)]&&(_0x436629[_0x4791a9(0x122)](_0x436629[_0x4791a9(0x1f7)],_0x436629[_0x4791a9(0x183)])?await this['getClusterInfo']():_0x4eb26d['push'](_0x104868));const _0xef4732=this[_0x4791a9(0x26d)]?.[_0x4791a9(0xf7)]?.[_0x4791a9(0x26c)];let _0x12b034=await fs[_0x4791a9(0x25c)](path['join'](__dirname,'..',_0x436629[_0x4791a9(0xee)],_0x436629[_0x4791a9(0x2bf)],_0x436629[_0x4791a9(0x19f)]),_0x436629[_0x4791a9(0x14e)]);_0x12b034=JSON[_0x4791a9(0x11d)](_0x12b034);const _0x24c5bb={};_0x24c5bb[_0x4791a9(0x1aa)]=_0xef4732,await this[_0x4791a9(0x113)][_0x4791a9(0x1a0)][_0x4791a9(0x2b9)](global_registry[_0x4791a9(0x189)],_0x436629[_0x4791a9(0x129)],{'properties':{'template':_0x12b034,'mode':_0x436629['jQlTH'],'parameters':{'oidcIssuer':_0x24c5bb,'namespace':{'value':global_registry['hubHaNameSpace']},'clusterName':{'value':this[_0x4791a9(0x1cf)]}}}});}async[a1_0x28e0b1(0x20f)](){const _0x17e721=a1_0x28e0b1,_0x31b902={'zJdEC':function(_0x81410c,_0x5261c2,_0x2f045c){return _0x81410c(_0x5261c2,_0x2f045c);},'qqbRP':function(_0x4a99b3,_0x3d86a5){return _0x4a99b3!==_0x3d86a5;},'ijfLT':'CGpWy','YdvPO':function(_0x488208,_0x2ad9b0){return _0x488208===_0x2ad9b0;},'hlSYZ':_0x17e721(0x226),'NfaGh':function(_0x2f3701,_0x29f05c){return _0x2f3701===_0x29f05c;},'msVeL':_0x17e721(0x1ad)},_0x52f276=this[_0x17e721(0x10b)](),_0x38c472=new Array();for await(const _0x40428c of this['storageClient'][_0x17e721(0x13c)][_0x17e721(0x262)](global_registry['cloudProviderResourceGroup'])){_0x31b902[_0x17e721(0x17b)](_0x31b902['ijfLT'],_0x31b902[_0x17e721(0x243)])?_0x70b8c9[_0x17e721(0x1f9)](_0x44941a):_0x38c472['push'](_0x40428c);}for await(const _0x2d26a8 of _0x38c472){if(_0x31b902[_0x17e721(0x214)](_0x31b902['hlSYZ'],_0x31b902['hlSYZ'])){if(_0x31b902[_0x17e721(0x218)](_0x2d26a8['name'],_0x52f276))return _0x31b902['NfaGh'](_0x31b902[_0x17e721(0x293)],_0x31b902[_0x17e721(0x293)])?!![]:(_0x353131['error'](_0x17e721(0x283)+_0x3bf0dc+'.\x20Error:\x20'+_0x1dc4d2),[![],[]]);}else _0x31b902[_0x17e721(0x118)](_0x305975,()=>_0x535c21(),0x3e8);}return![];}async['isManagedIdentityPresent'](){const _0x1cc789=a1_0x28e0b1,_0x459eec={};_0x459eec[_0x1cc789(0x22e)]=function(_0x133ccd,_0x3e27b9){return _0x133ccd!==_0x3e27b9;},_0x459eec[_0x1cc789(0x1e4)]=_0x1cc789(0x208),_0x459eec['PqClP']=function(_0x2300da,_0x58ee85){return _0x2300da===_0x58ee85;},_0x459eec[_0x1cc789(0xf5)]=_0x1cc789(0x115),_0x459eec[_0x1cc789(0x144)]=_0x1cc789(0x1f0),_0x459eec[_0x1cc789(0x141)]=function(_0x4c5f66,_0x2b5363){return _0x4c5f66===_0x2b5363;},_0x459eec[_0x1cc789(0x28b)]='icNgb';const _0x32005c=_0x459eec,_0x4922f5=new Array();for await(const _0x4c3f9e of this[_0x1cc789(0x113)]['resources'][_0x1cc789(0x262)](global_registry['cloudProviderResourceGroup'])){_0x32005c[_0x1cc789(0x22e)](_0x32005c['csdwf'],_0x32005c['csdwf'])?_0x261efe[_0x1cc789(0xfb)]=_0x4a738a:_0x4922f5[_0x1cc789(0x1f9)](_0x4c3f9e);}for await(const _0x244ff0 of _0x4922f5){if(_0x32005c[_0x1cc789(0xf1)](_0x32005c[_0x1cc789(0xf5)],_0x32005c[_0x1cc789(0x144)]))return!![];else{if(_0x32005c[_0x1cc789(0x141)](_0x244ff0['name'],_0x1cc789(0x2c5)+this[_0x1cc789(0x1cf)]))return _0x32005c[_0x1cc789(0x22e)](_0x32005c['XQYOF'],_0x32005c[_0x1cc789(0x28b)])?(_0x516ec7[_0x1cc789(0xfb)]=_0x5e7cc3[_0x1cc789(0xfb)],_0x5f30e4):!![];}}return![];}async[a1_0x28e0b1(0x1d5)](_0x5477d5,_0x3bffb1=0x3){const _0x154e5d=a1_0x28e0b1,_0x8f0be4={'LSIMZ':_0x154e5d(0x290),'gadco':'Storage\x20account\x20already\x20exists,\x20skipping','uVjPr':'string','jQHfi':_0x154e5d(0x204),'RaSal':_0x154e5d(0x191),'lEppu':'[variables(\x27vnetSubnetID\x27)]','yZBzf':'No\x20CLI\x20tool\x20required','FBeLY':function(_0x3f7d6c,_0x5a19f4){return _0x3f7d6c+_0x5a19f4;},'hLinU':_0x154e5d(0x260),'KLurg':function(_0x1c99fb,_0x545ef8){return _0x1c99fb-_0x545ef8;},'wjLRe':function(_0x201cb4,_0x4ffb47){return _0x201cb4===_0x4ffb47;},'hwxHT':'dvMfV','Goild':function(_0x1adcc0,_0x3006a2,_0x219d1e){return _0x1adcc0(_0x3006a2,_0x219d1e);},'KdyoL':function(_0x548ddc,_0x2196ba){return _0x548ddc!==_0x2196ba;},'qJvXs':'biCja','xBymW':_0x154e5d(0x13e),'xOdGa':_0x154e5d(0x2a6),'fsFzY':function(_0x37c4b9,_0x38e8fb){return _0x37c4b9===_0x38e8fb;},'JYFXz':_0x154e5d(0x163),'qMNox':_0x154e5d(0x1df),'tOIRj':_0x154e5d(0x2b3),'sVqDo':function(_0x425fc1,_0x3e88f1){return _0x425fc1<=_0x3e88f1;},'uQOos':function(_0x59bf5f,_0x5a54df){return _0x59bf5f!==_0x5a54df;},'MuVlc':_0x154e5d(0x298),'gPhFP':function(_0x402f3d,_0x9c4a2e){return _0x402f3d-_0x9c4a2e;}};try{if(_0x8f0be4[_0x154e5d(0x1c0)](_0x8f0be4[_0x154e5d(0x200)],_0x8f0be4['qJvXs']))_0xf6f364[_0x154e5d(0xfb)](_0x8f0be4[_0x154e5d(0x18b)]),_0x5d0421[_0x154e5d(0x278)](0x1);else{const _0x346f27=new Array();for await(const _0x25e9ab of this[_0x154e5d(0x113)][_0x154e5d(0x1ba)]['listByResourceGroup'](global_registry[_0x154e5d(0x189)])){_0x8f0be4['KdyoL'](_0x8f0be4[_0x154e5d(0x251)],_0x8f0be4[_0x154e5d(0x251)])?_0x32af7e['info'](_0x8f0be4[_0x154e5d(0x19c)]):_0x346f27[_0x154e5d(0x1f9)](_0x25e9ab);}let _0x5494b0='';for await(const _0x3de471 of _0x346f27){if(_0x8f0be4['KdyoL'](_0x8f0be4[_0x154e5d(0x231)],_0x8f0be4[_0x154e5d(0x231)]))_0x598ac6['error'](_0x8f0be4[_0x154e5d(0x18b)]),_0x4c3dd3[_0x154e5d(0x278)](0x1);else{if(_0x8f0be4['fsFzY'](_0x3de471[_0x154e5d(0x282)],_0x5477d5)){if(_0x8f0be4[_0x154e5d(0x1b5)](_0x8f0be4[_0x154e5d(0x1d7)],_0x8f0be4[_0x154e5d(0x1d7)]))_0x5494b0=_0x3de471['id'];else{const _0x3ebbef={};_0x3ebbef[_0x154e5d(0x258)]=_0x8f0be4[_0x154e5d(0x176)],_0x3ebbef[_0x154e5d(0x240)]={},_0x3ebbef[_0x154e5d(0x240)][_0x154e5d(0x252)]=_0x8f0be4[_0x154e5d(0x249)];const _0x19b47f={};_0x19b47f['type']=_0x8f0be4[_0x154e5d(0x176)],_0x19b47f[_0x154e5d(0x240)]={},_0x19b47f[_0x154e5d(0x240)][_0x154e5d(0x252)]=_0x8f0be4[_0x154e5d(0x249)];const _0x3cb2b3={..._0x94c685['parameters']};_0x3cb2b3[_0x154e5d(0x235)]=_0x3ebbef,_0x3cb2b3[_0x154e5d(0x25b)]=_0x19b47f,_0x3f14ff[_0x154e5d(0x237)]=_0x3cb2b3;const _0x34cd6e={};_0x34cd6e[_0x154e5d(0x1b8)]=_0x8f0be4[_0x154e5d(0x21a)],_0x9e294b[_0x154e5d(0x125)]=_0x34cd6e;const _0x3582e0={..._0x11ddc5[_0x154e5d(0x1ba)][0x0][_0x154e5d(0x254)][_0x154e5d(0xf8)][0x0]};_0x3582e0['vnetSubnetID']=_0x8f0be4[_0x154e5d(0x20a)],_0x15406e[_0x154e5d(0x1ba)][0x0][_0x154e5d(0x254)][_0x154e5d(0xf8)][0x0]=_0x3582e0;const _0x43eaaa={};_0x43eaaa[_0x154e5d(0x1aa)]=_0x375c9a;const _0x5b606c={};_0x5b606c[_0x154e5d(0x1aa)]=_0x35358b[0x0];const _0xf2b961={..._0x276265};_0xf2b961['vpcName']=_0x43eaaa,_0xf2b961[_0x154e5d(0x25b)]=_0x5b606c,_0x123fdc=_0xf2b961;}}}}const _0x34a998=await this[_0x154e5d(0x113)][_0x154e5d(0x1ba)]['getById'](_0x5494b0,_0x8f0be4['qMNox']);return _0x34a998[_0x154e5d(0x254)][_0x154e5d(0x2b2)];}}catch(_0x290117){if(_0x8f0be4[_0x154e5d(0x1c0)](_0x8f0be4[_0x154e5d(0x267)],_0x8f0be4['tOIRj']))return[!![],_0x271542];else{if(_0x8f0be4[_0x154e5d(0x1b2)](_0x3bffb1,0x0)){if(_0x8f0be4[_0x154e5d(0x274)](_0x8f0be4[_0x154e5d(0x18d)],_0x8f0be4[_0x154e5d(0x18d)])){const _0x47350c={};_0x47350c['status']=!![],_0x47350c['error']=null,_0x47350c['data']=_0x8f0be4[_0x154e5d(0x213)];const _0x12eba2=_0x47350c;return _0x12eba2;}else return logger[_0x154e5d(0xfb)](_0x154e5d(0x244)+_0x290117+':'+_0x290117[_0x154e5d(0x229)]),{};}return await new Promise(_0x9896e7=>{const _0x59a3ed=_0x154e5d,_0x32f911={'Ggcko':function(_0xa96740,_0xab6dbc){const _0x1c53de=a1_0x2ddd;return _0x8f0be4[_0x1c53de(0x255)](_0xa96740,_0xab6dbc);},'Ubada':_0x8f0be4[_0x59a3ed(0xfd)],'oYNtE':function(_0x1786b9,_0x1b725a){const _0x2b4499=_0x59a3ed;return _0x8f0be4[_0x2b4499(0x24b)](_0x1786b9,_0x1b725a);}};if(_0x8f0be4[_0x59a3ed(0x162)](_0x8f0be4['hwxHT'],_0x8f0be4[_0x59a3ed(0x2b1)]))_0x8f0be4[_0x59a3ed(0x110)](setTimeout,()=>_0x9896e7(),0x3e8);else{const _0x1d9452=_0x2ec360[_0x59a3ed(0x1f6)]['split']('-'),_0x488794=_0x32f911[_0x59a3ed(0x209)](_0x32f911[_0x59a3ed(0x1e5)],_0x1d9452[_0x32f911[_0x59a3ed(0x1ac)](_0x1d9452[_0x59a3ed(0xf6)],0x1)])[_0x59a3ed(0x238)](0x0,0x18);return _0x488794['toLowerCase']();}}),this[_0x154e5d(0x1d5)](_0x5477d5,_0x8f0be4['gPhFP'](_0x3bffb1,0x1));}}}async[a1_0x28e0b1(0x158)](){const _0x3674af=a1_0x28e0b1,_0x58e55b={};_0x58e55b[_0x3674af(0x273)]=function(_0xf1dae0,_0x5672eb){return _0xf1dae0===_0x5672eb;},_0x58e55b[_0x3674af(0x177)]='Cvvcw',_0x58e55b['FcMAE']=function(_0x249e63,_0x276e7d){return _0x249e63===_0x276e7d;},_0x58e55b[_0x3674af(0x2ce)]=_0x3674af(0x2c8),_0x58e55b[_0x3674af(0x106)]='BrowserStack',_0x58e55b[_0x3674af(0x23d)]=_0x3674af(0x1d3);const _0x2c17ae=_0x58e55b;if(!this[_0x3674af(0x26d)]){if(_0x2c17ae['QNcnn'](_0x2c17ae[_0x3674af(0x177)],_0x2c17ae[_0x3674af(0x177)]))await this[_0x3674af(0x10d)]();else return _0xde6068[_0x3674af(0xfb)](_0x3674af(0x244)+_0x2a0393+':'+_0x58be01[_0x3674af(0x229)]),{};}const _0x4c908c=this[_0x3674af(0x26d)]?.['tags']||{};if(_0x4c908c&&_0x2c17ae[_0x3674af(0x26e)](_0x4c908c[_0x2c17ae[_0x3674af(0x2ce)]],_0x2c17ae[_0x3674af(0x106)])){if(_0x2c17ae[_0x3674af(0x26e)](_0x2c17ae[_0x3674af(0x23d)],_0x2c17ae[_0x3674af(0x23d)]))return!![];else _0x53a205[_0x3674af(0xfb)]=_0x415c58;}return![];}async['deleteCluster'](_0x426eec,_0x53f397){const _0x5e4a5f=a1_0x28e0b1,_0x194e19={'qGsTT':function(_0xce4d3c,_0x49c953){return _0xce4d3c(_0x49c953);},'XkPJK':_0x5e4a5f(0x123)};await _0x194e19[_0x5e4a5f(0x2ba)](deleteAgent,_0x426eec),await _0x194e19[_0x5e4a5f(0x2ba)](deleteRoutingDeps,_0x426eec);const _0x2754a5=this[_0x5e4a5f(0x221)];logger[_0x5e4a5f(0x196)](_0x5e4a5f(0x165)+this[_0x5e4a5f(0x1cf)]),await _0x2754a5[_0x5e4a5f(0xfc)][_0x5e4a5f(0x138)](global_registry[_0x5e4a5f(0x189)],this[_0x5e4a5f(0x1cf)]),logger[_0x5e4a5f(0x196)](_0x194e19[_0x5e4a5f(0x21c)]);}async[a1_0x28e0b1(0x10e)](){const _0x244be6=a1_0x28e0b1,_0x48653a={};_0x48653a['SdqDz']=_0x244be6(0x1e1),_0x48653a[_0x244be6(0x24d)]=_0x244be6(0x220),_0x48653a[_0x244be6(0x19d)]=function(_0x29bf6f,_0x355202){return _0x29bf6f===_0x355202;},_0x48653a[_0x244be6(0x233)]=_0x244be6(0x1dd),_0x48653a[_0x244be6(0x284)]=_0x244be6(0x22c),_0x48653a['KGxgW']=function(_0x3dac7b,_0xfa75d7){return _0x3dac7b&&_0xfa75d7;},_0x48653a[_0x244be6(0x2d3)]=_0x244be6(0x150),_0x48653a['uKnBm']=_0x244be6(0x1ee),_0x48653a[_0x244be6(0x197)]=_0x244be6(0x28a),_0x48653a[_0x244be6(0x1da)]='Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster',_0x48653a['xPpSQ']=function(_0x2547bb,_0x17eb18){return _0x2547bb!==_0x17eb18;},_0x48653a[_0x244be6(0x2a0)]='JjQao',_0x48653a[_0x244be6(0x1b3)]=_0x244be6(0x1eb),_0x48653a[_0x244be6(0x147)]=_0x244be6(0x257),_0x48653a[_0x244be6(0x224)]=function(_0x4b2d07,_0x1a80c9){return _0x4b2d07!==_0x1a80c9;},_0x48653a[_0x244be6(0x186)]=_0x244be6(0x2ac),_0x48653a[_0x244be6(0x15c)]=_0x244be6(0x285);const _0x4ad5f6=_0x48653a;if(!this[_0x244be6(0x26d)]){if(_0x4ad5f6[_0x244be6(0x19d)](_0x4ad5f6[_0x244be6(0x233)],_0x4ad5f6[_0x244be6(0x284)]))return _0x59a548[_0x244be6(0x2a2)]=_0x4ad5f6[_0x244be6(0x225)],_0x156d30;else await this[_0x244be6(0x10d)]();}const _0x48bdfb=this['clusterInfo'],_0x346c2e=this[_0x244be6(0x26d)]?.[_0x244be6(0xf7)]?.['enabled']||![],_0x1e9ba6=this[_0x244be6(0x26d)]?.['securityProfile']?.[_0x244be6(0x2d1)]?.[_0x244be6(0x1dc)]||![],_0x20f2ad=!this[_0x244be6(0x26d)]?.['disableLocalAccounts']||![];if(_0x4ad5f6[_0x244be6(0x272)](_0x346c2e,_0x1e9ba6)&&_0x20f2ad){if(_0x4ad5f6['vVZyK'](_0x4ad5f6[_0x244be6(0x2d3)],_0x4ad5f6['uKnBm']))return _0x4ad3e8['error']('Cannot\x20find\x20VPC\x20'+_0x52969f+_0x244be6(0x1e2)+_0x5b5bd1),![];else return;}if(!_0x346c2e){if(_0x4ad5f6[_0x244be6(0x19d)](_0x4ad5f6[_0x244be6(0x197)],_0x4ad5f6['eDhOT'])){logger[_0x244be6(0x196)](_0x4ad5f6['OciCG']);const _0x205c9c={};_0x205c9c[_0x244be6(0x258)]=WS_EVENTS[_0x244be6(0x216)],_0x205c9c['message']=_0x4ad5f6[_0x244be6(0x1da)],this['webSocketUtils'][_0x244be6(0x12c)](this[_0x244be6(0x287)],_0x205c9c),_0x48bdfb[_0x244be6(0xf7)][_0x244be6(0x1dc)]=!![];}else _0x4c3702['push'](_0x2c3df1);}if(!_0x1e9ba6){if(_0x4ad5f6[_0x244be6(0x211)](_0x4ad5f6['qOmyt'],_0x4ad5f6[_0x244be6(0x1b3)])){logger['info'](_0x4ad5f6[_0x244be6(0x147)]);const _0x43bd7f={};_0x43bd7f[_0x244be6(0x258)]=WS_EVENTS[_0x244be6(0x216)],_0x43bd7f['message']=_0x4ad5f6[_0x244be6(0x147)],this[_0x244be6(0x281)][_0x244be6(0x12c)](this[_0x244be6(0x287)],_0x43bd7f);const _0x41bf74={};_0x41bf74[_0x244be6(0x1dc)]=!![],_0x48bdfb['securityProfile']={'workloadIdentity':_0x41bf74,..._0x48bdfb['securityProfile']};}else{const _0xc938d2=_0x4ad5f6[_0x244be6(0x24d)]['split']('|');let _0x22ba0e=0x0;while(!![]){switch(_0xc938d2[_0x22ba0e++]){case'0':_0x5ed49e[_0x244be6(0x189)]=_0x32335d[this[_0x244be6(0x16f)]][_0x244be6(0x2aa)];continue;case'1':_0x39b422[_0x244be6(0x1d6)]=_0x15c627[this[_0x244be6(0x16f)]][_0x244be6(0x2b2)];continue;case'2':_0x34a757[_0x244be6(0x17f)]=_0x4ce34b[this[_0x244be6(0x16f)]][_0x244be6(0x16c)];continue;case'3':_0x240a3a['cloudProviderClientSecret']=_0x41f185[this[_0x244be6(0x16f)]][_0x244be6(0x17d)];continue;case'4':this[_0x244be6(0x1f4)]();continue;case'5':_0xab688d[_0x244be6(0x187)]=_0x4b3725[this['cloudProviderName']][_0x244be6(0x23b)];continue;}break;}}}if(!_0x20f2ad){if(_0x4ad5f6[_0x244be6(0x224)](_0x4ad5f6[_0x244be6(0x186)],_0x4ad5f6[_0x244be6(0x186)]))_0x5c26b8[_0x244be6(0x1f9)](..._0x4cc27c['actions']);else{logger[_0x244be6(0x196)](_0x4ad5f6[_0x244be6(0x15c)]);const _0x4f7b35={};_0x4f7b35['type']=WS_EVENTS['RESOURCES'],_0x4f7b35[_0x244be6(0x25e)]=_0x4ad5f6[_0x244be6(0x15c)],this[_0x244be6(0x281)][_0x244be6(0x12c)](this[_0x244be6(0x287)],_0x4f7b35),_0x48bdfb[_0x244be6(0x1c1)]=![];}}await this['containerClient'][_0x244be6(0xfc)]['beginCreateOrUpdateAndWait'](global_registry[_0x244be6(0x189)],this[_0x244be6(0x1cf)],_0x48bdfb),await this[_0x244be6(0x10d)]();}async[a1_0x28e0b1(0x294)](){const _0x5e365d=a1_0x28e0b1,_0x2a1968={};_0x2a1968[_0x5e365d(0x1c3)]=_0x5e365d(0x257),_0x2a1968[_0x5e365d(0x174)]=function(_0x2a37e5,_0x418e4d){return _0x2a37e5===_0x418e4d;},_0x2a1968['UDOgV']=_0x5e365d(0x217);const _0x5b8d9c=_0x2a1968,_0x2bd747=await this[_0x5e365d(0x112)]['virtualNetworks'][_0x5e365d(0x2b6)](global_registry[_0x5e365d(0x189)]),_0x162019={};_0x162019['username']=global_registry[_0x5e365d(0x2b8)],_0x162019[_0x5e365d(0x29c)]=global_registry[_0x5e365d(0x25f)],_0x162019[_0x5e365d(0x28d)]=AZURE,_0x162019[_0x5e365d(0x116)]=[];const _0x2a83cf=_0x162019;for await(const _0x388547 of _0x2bd747){if(_0x5b8d9c[_0x5e365d(0x174)](_0x5b8d9c['UDOgV'],_0x5b8d9c[_0x5e365d(0x1b9)]))_0x2a83cf[_0x5e365d(0x116)][_0x5e365d(0x1f9)](_0x388547);else{_0x3be1ce[_0x5e365d(0x196)](_0x5b8d9c[_0x5e365d(0x1c3)]);const _0x72202c={};_0x72202c[_0x5e365d(0x258)]=_0x2d3f28[_0x5e365d(0x216)],_0x72202c['message']=_0x5b8d9c[_0x5e365d(0x1c3)],this[_0x5e365d(0x281)][_0x5e365d(0x12c)](this[_0x5e365d(0x287)],_0x72202c);const _0x1e4d3e={};_0x1e4d3e[_0x5e365d(0x1dc)]=!![];const _0x1f9dac={'workloadIdentity':_0x1e4d3e,..._0xaad22b['securityProfile']};_0x5c233d[_0x5e365d(0x1f1)]=_0x1f9dac;}}const _0x3d74de={};_0x3d74de[_0x5e365d(0x258)]=WS_EVENTS['RESOURCES'],_0x3d74de[_0x5e365d(0x25e)]=_0x2a83cf,this[_0x5e365d(0x281)][_0x5e365d(0x12c)](this[_0x5e365d(0x287)],_0x3d74de);}async[a1_0x28e0b1(0x179)](_0x10ca7e){const _0x54e7b2=a1_0x28e0b1,_0x2e357b={};_0x2e357b[_0x54e7b2(0x27f)]=function(_0x20a4c1,_0xfb32ce){return _0x20a4c1===_0xfb32ce;},_0x2e357b['JFskW']='Action\x20permission\x20list\x20is\x20empty\x0a',_0x2e357b[_0x54e7b2(0x1f3)]=function(_0x19f11b,_0x3742d2){return _0x19f11b!==_0x3742d2;},_0x2e357b[_0x54e7b2(0x242)]=_0x54e7b2(0x16d),_0x2e357b[_0x54e7b2(0x215)]='qpqSh',_0x2e357b[_0x54e7b2(0x192)]=function(_0x245c36,_0x29b197){return _0x245c36===_0x29b197;},_0x2e357b[_0x54e7b2(0x1c5)]='lqhgV',_0x2e357b[_0x54e7b2(0x25a)]=_0x54e7b2(0x27e),_0x2e357b['cYWtE']='nNgxq',_0x2e357b[_0x54e7b2(0x175)]=_0x54e7b2(0x1a6);const _0x35a9c0=_0x2e357b;try{if(_0x35a9c0[_0x54e7b2(0x1f3)](_0x35a9c0['hpggO'],_0x35a9c0[_0x54e7b2(0x242)])){if(_0x35a9c0[_0x54e7b2(0x27f)](_0x3f524a[_0x54e7b2(0x282)],_0x16fa64))return!![];}else{const _0x30f39d=await this[_0x54e7b2(0x112)][_0x54e7b2(0x1fa)][_0x54e7b2(0x2b6)](global_registry['cloudProviderResourceGroup']);for await(const _0x24e359 of _0x30f39d){if(_0x35a9c0[_0x54e7b2(0x27f)](_0x35a9c0[_0x54e7b2(0x215)],_0x35a9c0['kFLqG'])){if(_0x35a9c0[_0x54e7b2(0x192)](_0x24e359[_0x54e7b2(0x282)],_0x10ca7e)){if(_0x35a9c0[_0x54e7b2(0x27f)](_0x35a9c0['rzXCW'],_0x35a9c0[_0x54e7b2(0x25a)]))_0x4d3f39+=_0x35a9c0['yPBqa'](_0x483146['length'],0x0)?_0x35a9c0[_0x54e7b2(0x265)]:'',_0x5e0888['debug'](_0x54e7b2(0x207)+_0x2f9cbb[_0x54e7b2(0x2d4)](_0x24d45d));else return!![];}}else _0x37174e[_0x54e7b2(0x164)]=![];}}}catch(_0x5ee2a3){if(_0x35a9c0['gbdOk'](_0x35a9c0['cYWtE'],_0x35a9c0['isWQX']))_0x13d8f4[_0x54e7b2(0x1f9)](_0x2ab271[_0x54e7b2(0x282)]);else return logger[_0x54e7b2(0xfb)](_0x54e7b2(0x193)+_0x10ca7e+_0x54e7b2(0x1e2)+_0x5ee2a3),![];}return![];}async[a1_0x28e0b1(0x132)](_0x511a15,_0x3027a0){const _0x25ad74=a1_0x28e0b1,_0xed6044={};_0xed6044['dehAB']=_0x25ad74(0x285),_0xed6044['NzMvm']=function(_0x361d9f,_0x5bb208){return _0x361d9f!==_0x5bb208;},_0xed6044[_0x25ad74(0x292)]=_0x25ad74(0x145),_0xed6044[_0x25ad74(0x161)]=function(_0x1021d7,_0x4af3a0){return _0x1021d7===_0x4af3a0;},_0xed6044[_0x25ad74(0x1b7)]=_0x25ad74(0x299);const _0x49dd90=_0xed6044;try{if(_0x49dd90['NzMvm'](_0x49dd90[_0x25ad74(0x292)],_0x49dd90[_0x25ad74(0x292)])){_0x523b30['info'](_0x49dd90[_0x25ad74(0x2b5)]);const _0xf42eac={};_0xf42eac['type']=_0x5a65b9[_0x25ad74(0x216)],_0xf42eac['message']=_0x49dd90[_0x25ad74(0x2b5)],this[_0x25ad74(0x281)][_0x25ad74(0x12c)](this[_0x25ad74(0x287)],_0xf42eac),_0x5c901e['disableLocalAccounts']=![];}else{const _0x12b8af=await this['networkClient']['subnets'][_0x25ad74(0x27b)](global_registry['cloudProviderResourceGroup'],_0x3027a0,_0x511a15[0x0]);if(_0x49dd90[_0x25ad74(0x161)](_0x511a15[0x0],_0x12b8af[_0x25ad74(0x282)])){if(_0x49dd90[_0x25ad74(0x161)](_0x49dd90[_0x25ad74(0x1b7)],_0x49dd90[_0x25ad74(0x1b7)]))return[!![],_0x511a15];else _0x518220['push'](_0x5dd8ef);}}}catch(_0x41ba02){return logger[_0x25ad74(0xfb)](_0x25ad74(0x283)+_0x511a15+_0x25ad74(0x182)+_0x41ba02),[![],[]];}return[![],[]];}async['isCliToolInstalled'](){const _0x51967a=a1_0x28e0b1,_0xc04f38={};_0xc04f38['gOJjc']=_0x51967a(0x101);const _0x2b5adc=_0xc04f38,_0x30f4e8={};_0x30f4e8[_0x51967a(0x164)]=!![],_0x30f4e8['error']=null,_0x30f4e8[_0x51967a(0x2a2)]=_0x2b5adc['gOJjc'];const _0x4cbfa9=_0x30f4e8;return _0x4cbfa9;}async[a1_0x28e0b1(0x194)](){const _0x5eb845=a1_0x28e0b1,_0x3a4b98={};_0x3a4b98[_0x5eb845(0x119)]='https://graph.microsoft.com/.default',_0x3a4b98[_0x5eb845(0x296)]='GET',_0x3a4b98[_0x5eb845(0x1de)]=_0x5eb845(0x140);const _0x14b4f1=_0x3a4b98,_0x55acfd=await this['cred']['getToken'](_0x14b4f1['PICZq']),_0x39a1c6={};_0x39a1c6['method']=_0x14b4f1[_0x5eb845(0x296)],_0x39a1c6[_0x5eb845(0x248)]={},_0x39a1c6[_0x5eb845(0x248)][_0x5eb845(0x295)]=_0x5eb845(0x127)+_0x55acfd[_0x5eb845(0x21d)],_0x39a1c6[_0x5eb845(0x248)][_0x5eb845(0x29d)]=_0x14b4f1[_0x5eb845(0x1de)];const _0x4380b8=_0x39a1c6;return _0x4380b8;}async[a1_0x28e0b1(0x26a)](_0x587671){const _0x311d6b=a1_0x28e0b1,_0x1109e6={'aEVMl':function(_0xefd53f,_0x3d60ec,_0x330ff6){return _0xefd53f(_0x3d60ec,_0x330ff6);},'CBLPA':function(_0x51e4c1,_0x216458){return _0x51e4c1===_0x216458;},'ZpkBN':_0x311d6b(0xfa)},_0x4b59b0={};_0x4b59b0[_0x311d6b(0x1fd)]='',_0x4b59b0['error']=null;const _0x3d8a29=_0x4b59b0;try{const _0x142ba6=_0x311d6b(0x1bd)+_0x587671+'\x27',_0x4ca70a=await this['getHeader'](),_0x160aaf=await _0x1109e6[_0x311d6b(0x203)](fetch,_0x142ba6,_0x4ca70a),_0x46f567=await _0x160aaf[_0x311d6b(0x28f)]();if(!_0x46f567[_0x311d6b(0x1aa)]||_0x1109e6[_0x311d6b(0x223)](_0x46f567['value']['length'],0x0))throw new Error(_0x1109e6[_0x311d6b(0x28c)],_0x311d6b(0x247)+JSON[_0x311d6b(0x2d4)](_0x46f567));_0x3d8a29['principalId']=_0x46f567[_0x311d6b(0x1aa)][0x0]['id'];}catch(_0x450459){_0x3d8a29[_0x311d6b(0xfb)]=_0x450459;}return _0x3d8a29;}async[a1_0x28e0b1(0x124)](){const _0x21696c=a1_0x28e0b1,_0x3c2511={};_0x3c2511[_0x21696c(0x153)]=_0x21696c(0x1ec),_0x3c2511['LUKMr']=_0x21696c(0x29a),_0x3c2511[_0x21696c(0x1ef)]=function(_0x2269c2,_0x2f4e8b){return _0x2269c2!==_0x2f4e8b;},_0x3c2511[_0x21696c(0x266)]=function(_0x448597,_0x47ee57){return _0x448597===_0x47ee57;},_0x3c2511[_0x21696c(0x25d)]='No\x20attached\x20role\x20for\x20the\x20client\x20key',_0x3c2511[_0x21696c(0x18f)]=function(_0x14e541,_0x4f3cf6){return _0x14e541===_0x4f3cf6;},_0x3c2511['QSGSh']=_0x21696c(0x173),_0x3c2511['ffBhk']=function(_0x3e33b1,_0x1ccd90){return _0x3e33b1===_0x1ccd90;},_0x3c2511[_0x21696c(0x22f)]=_0x21696c(0x10a);const _0x12744e=_0x3c2511,_0xe1c295={};_0xe1c295[_0x21696c(0x164)]=![],_0xe1c295[_0x21696c(0xfb)]=null,_0xe1c295[_0x21696c(0x2a2)]='';const _0x2fb9c7=_0xe1c295;try{let _0x43a3be='';const _0x15315a=_0x21696c(0x20e)+global_registry[_0x21696c(0x187)]+_0x21696c(0x26f)+global_registry[_0x21696c(0x189)],_0x3b5d0e=await this[_0x21696c(0x26a)](global_registry[_0x21696c(0x1d6)]);if(_0x12744e[_0x21696c(0x1ef)](_0x3b5d0e['error'],null))return _0x2fb9c7[_0x21696c(0xfb)]=_0x3b5d0e['error'],_0x2fb9c7;const _0x1dd54f='assignedTo(\x27'+_0x3b5d0e[_0x21696c(0x1fd)]+'\x27)',_0x2513ae={};_0x2513ae[_0x21696c(0x24f)]=_0x1dd54f;const _0x1985dc=await this[_0x21696c(0x151)][_0x21696c(0x2c6)][_0x21696c(0x178)](_0x15315a,_0x2513ae),_0x45a0e6=[];for await(const _0x223b92 of _0x1985dc){_0x45a0e6['push'](_0x223b92);}if(_0x12744e[_0x21696c(0x266)](_0x45a0e6[_0x21696c(0xf6)],0x0))return _0x2fb9c7[_0x21696c(0x2a2)]=_0x12744e[_0x21696c(0x25d)],_0x2fb9c7;const _0x24a6d2=[...new Set(_0x45a0e6[_0x21696c(0x1b4)](_0x190588=>_0x190588[_0x21696c(0x11e)]))];if(_0x12744e[_0x21696c(0x18f)](_0x24a6d2[_0x21696c(0xf6)],0x0))return _0x2fb9c7[_0x21696c(0x2a2)]=_0x12744e[_0x21696c(0x2d0)],_0x2fb9c7;const _0x2bf291=[],_0x11a8e1=[];for(const _0x261b9d of _0x24a6d2){const _0x240d55=await this[_0x21696c(0x151)]['roleDefinitions']['getById'](_0x261b9d);logger[_0x21696c(0x12a)](_0x21696c(0x19e)+_0x240d55[_0x21696c(0x1b1)]),_0x2bf291[_0x21696c(0x1f9)](_0x240d55),logger[_0x21696c(0x12a)](_0x21696c(0x1d4)+JSON[_0x21696c(0x2d4)](_0x240d55[_0x21696c(0x246)])),_0x240d55[_0x21696c(0x246)][_0x21696c(0x21b)](_0x41c58e=>{const _0x100fb4=_0x21696c;_0x11a8e1[_0x100fb4(0x1f9)](..._0x41c58e['actions']);});}logger[_0x21696c(0x12a)](_0x21696c(0x1a7)+JSON[_0x21696c(0x2d4)](_0x11a8e1)),_0x12744e[_0x21696c(0x18f)](_0x11a8e1[_0x21696c(0xf6)],0x0)&&(_0x43a3be+=_0x12744e[_0x21696c(0x212)](_0x11a8e1['length'],0x0)?_0x12744e[_0x21696c(0x22f)]:'',logger[_0x21696c(0x12a)](_0x21696c(0x207)+JSON[_0x21696c(0x2d4)](_0x2bf291))),_0x2fb9c7[_0x21696c(0x164)]=!![],Object['entries'](PERMISSIONS[_0x21696c(0x2cc)])[_0x21696c(0x21b)](([_0xf1103d,_0x1b6836])=>{const _0x2b2839=_0x21696c,_0x5e59f1=_0x11a8e1[_0x2b2839(0x15e)](_0xf1103d);_0x43a3be+='\x0a\x09'+_0x1b6836+':\x20'+(_0x5e59f1?_0x12744e[_0x2b2839(0x153)]:_0x12744e[_0x2b2839(0x135)]),!_0x5e59f1&&(_0x2fb9c7[_0x2b2839(0x164)]=![]);}),_0x2fb9c7[_0x21696c(0x2a2)]=_0x43a3be;}catch(_0x3f3e56){_0x2fb9c7[_0x21696c(0xfb)]=_0x3f3e56;}return _0x2fb9c7;}}const a1_0x549a6b={};a1_0x549a6b['AzureCloudProvider']=AzureCloudProvider,module[a1_0x28e0b1(0x199)]=a1_0x549a6b;