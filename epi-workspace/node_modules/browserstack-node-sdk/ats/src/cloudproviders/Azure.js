const a1_0x3da842=a1_0x2b9c;function a1_0x6c4b(){const _0x4cf4c9=['networkClient','BQekx','YhEls','deployments','split','turboscale-storageaccount-deployment','GQRcg','HwmgD','VPvWE','ubRKT','FOhHY','OADVj','4490202lfxqvl','Lifecycle','akscluster.json','toLowerCase','Blob\x20delete\x20lifecycle','exit','VmTev','EXNqn','3|2|5|1|0|4','yHCqO','pExeZ','subnets','@azure/arm-resources','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','resources','method','cloudProvider','list','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','data','Bearer\x20','FHReb','azureresources','gpnCv','Bxgpw','toUpperCase','oidcIssuerProfile','bVSiZ','instanceType','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','description','naWRd','securityProfile','4300938vTyJMl','brjuN','No\x20CLI\x20tool\x20required','zatNc','AIBjn','node','getPrincipalIdFromClientId','hoQvn','setClients','lYMby','setupHubHa','INFGX','3798564aIBMeE','isManagedIdentityPresent','qKwNe','QfjcN','29508BCoQFp','storageAccountName','BkXjl','managedidentity.json','\x20CLIENT\x20SECRET:\x20','disableLocalAccounts','xdLBE','jkxKW','BpjzW','rYjei','yjQyI','ritBE','cloudProviderClientId','ERWuz','AZCxV','tenantId','sLEsX','QnpiK','beginDeleteAndWait','rkQsY','turboscale-cluster-deployment','AxXzJ','2522NvoMyy','cloudProviderSubscriptionId','ykTOB','../utils/gridComponents','IAviR','OCCOD','entries','saFPd','vjRME','OGCsj','QpWkc','vpcName','fTxIE','lVYea','accessKey','@azure/identity','vQhPF','turboscale-federated-deployment','wXxMR','resourceClient','OayXX','FHmnV','isVPCPresent','QclqY','beginCreateOrUpdateAndWait','ZaZHE','gjNoj','zzMJI','yAtag','json','containerClient','cloudProviderTenantId','RCOLV','createOtherResources','bvbep','storageAccounts','XNnvz','isBrowserstackCluster','fuvgO','3815976SStUuN','createStorageAccount','cloudProviderClientSecret','OzhOb','metadata','IyPGv','YDuII','LOG','GOrtA','Falpb','BgFzA','QykEu','path','ggQJH','slice','userMaxNodes','resourceGroup','5|4|6|0|7|2|3|1','GCFGg','BcCIg','UaRqk','hdnVr','js-yaml','sendAzureInfoToHST','SRiqd','hub','GmIJb','wuNMB','uohks','vTXMJ','deleteCluster','CAWXP','kgHbC','getById','VMgSl','cloudProviderName','mNtSA','location','dzojw','BqQep','templates','subscriptionId','XNuGC','IOTmi','nKBFu','ingress','125YXwDDM','rLCRm','loadBalancer','tIcQt','UNYuz','WRHhu','vMUaV','tags','ukldz','zTkNE','PwwuF','jNqwX','IWcOD','qMoSi','KIOFO','UlXsf','federatedidentity','MtnbO','stack','kEuZB','Content-Type','s3Bucket','daysAfterCreationGreaterThan','aZJzR','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','isCliToolInstalled','vIzYB','name','.\x20Error:\x20','EZaBl','mqPPQ','Received\x20response\x20-\x20','includes','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','status','virtualNetworks','vYBdo','Created\x20Azure\x20federated\x20identity','roleDefinitionId','Storage\x20account\x20already\x20exists,\x20skipping','IObjY','ZTfQA','get','fWLnr','./CloudProvider','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','ubkGx','MPZDr','jbPWv','sJBgU','LHzkp','XCBfA','MeCNg','cloudProviderResourceGroup','hostname','turboscale-managed-identity-','DBePm','sATPN','federatedidentityuploader.json','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','IcSTX','AcCeM','dyoxD','browserstack:managedBy','sAAah','QGgdu','nbtac','clusterRegion','allowed','No\x20attached\x20role\x20for\x20the\x20client\x20key','Action\x20permission\x20list\x20is\x20empty\x0a','etBBH','token','cypZx','WnYdb','RzQYX','getResourceGroups','ZoPMu','tZvYl','byrGt','Creating\x20Azure\x20federated\x20identity','SYFAj','getToken','lpWbZ','BrowserStack','HVmMz','wdYJe','DZhcD','kBtDN','Cannot\x20find\x20VPC\x20','bstackAccesskey','RAYwi','EnbDj','XtkKm','push','fRYWs','variables','pvMjU','createFederatedAccount','createFederatedAccountForHubHA','rILuE','dJoty','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','message','FvudG','cJffW','turboscale','../utils/utilityMethods','Cltns','listAll','TQIWy','AzureCloudProvider','\x20SUBSCRIPTION\x20ID:\x20','getGridHostname','../config/logger','OoewF','map','value','turboscale-identity-deployment','getResourceClientId','ImtFv','wEjzO','jqGPL','stringify','DTAXP','FbYMn','tCFCL','join','ZreYd','ZvPcL','checkAccess','tfazx','../config/constants','wazZi','kNBvf','hyUvs','clusterName','nuIsN','bgNFv','dwAPA','clusterInfo','728849EIYjxI','XXMDS','nNEny','hRLpx','Pxpmc','foFBm','dyiXv','nTvUl','dqqxa','icPEa','.json','fuKEn','Creating\x20Azure\x20managed\x20identity','okHjh','kSSpt','createCluster','policy','daFjI','cred','bstackUsername','nTbxx','rws','Enabling\x20Local\x20account\x20for\x20the\x20cluster','gVzQy','IPkaj','hsZKK','DLKvN','0|3|1|2|5|4','FFdJl','blockBlob','getClusterInfo','ayKyI','isClusterPresent','roleName','VZDuT','XZJso','IiNWj','lcLXF','ekhFY','InsAf','OeMeQ','SVNgW','AghjR','\x20TENANT\x20ID:\x20','setCachedCredsInRegistry','listForScope','zKTuy','GRDlj','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','RBNgq','type','FcKND','tFvtj','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','wlgIP','SRVWl','rxIaY','fgVID','roleAssignments','Incremental','WHEUd','MtUMm','managedClusters','parse','2023-01-31','JFjgQ','forEach','kEYzO','Managed\x20identity\x20already\x20exists,\x20skipping','TzZgW','exzuX','workloadIdentity','kcGNw','xMbYo','listClusterAdminCredentials','username','utf-8','Deleting\x20the\x20cluster\x20','createOrUpdate','lpSvM','Cannot\x20find\x20subnets\x20','storageClient','filter','toString','bcCxp','listByResourceGroup','getStorageAccountName','Creating\x20Azure\x20storage\x20account','mtiDm','MpRyj','zAnkD','Deleted\x20the\x20cluster\x20successfully','hubharesources','LRpvR','OpZwL','CrelU','enabled','jlwGx','webSocketUtils','string','zqBls','RESOURCES','zkeNS','NdJoO','getKubeConfigData','RuvOx','readFileAsync','sendEventToBackend','pKQGv','vpcInfo','rules','https://graph.microsoft.com/.default','LasAN','xpNRJ','vnetSubnetID','error','kubeconfigs','uXFFx','rnjVJ','getHeader','XoRJt','qCxUG','MOhyQ','WioCZ','gridName','hauEo','fiUlI','Attached\x20permissions\x20:\x20','subnetName','WvpOL','\x20RESOURCE\x20GROUP:\x20','No\x20service\x20principal\x20found','length','pueWg','XAprC','aveQH','createManagedIdentity','sdLWW','fYUGq','@azure/arm-storage','agentPoolProfiles','1803rPfrph','whnzW','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','pGcJt','OACjd','WTHuC','authClient','hPYYf','okIyw','AuGsz','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','iLJGp','xmIfq','quAYf','Qytce','TdkAd','pTvaY','log','LGAPB','IZuzP','Gwdyf','subscriptions/','properties','clientId','tfyen','[variables(\x27vnetSubnetID\x27)]','HReQY','RfUbY','wnCZr','principalId','qazfF','dkowy','debug','Yrnzk','zjejP','info','storageaccount.json','RKThS','jPIOq','BtUEt','Nmaba','definition','headers','EppLo','parameters','SmyAU','aaYei','exports','edvyR','rJUUF','nOCfT','wUmip','AnETy','JhwEw','filters','actions','HrJgM','resourceGroups','MzylV','ErDUG','maxNodes','kSAPS'];a1_0x6c4b=function(){return _0x4cf4c9;};return a1_0x6c4b();}(function(_0x4f5d7b,_0xd308ce){const _0x219173=a1_0x2b9c,_0x4299a2=_0x4f5d7b();while(!![]){try{const _0x45092=parseInt(_0x219173(0x218))/0x1+parseInt(_0x219173(0x336))/0x2*(parseInt(_0x219173(0x2a5))/0x3)+parseInt(_0x219173(0x320))/0x4*(parseInt(_0x219173(0x18a))/0x5)+-parseInt(_0x219173(0x2ef))/0x6+-parseInt(_0x219173(0x31c))/0x7+parseInt(_0x219173(0x35d))/0x8+-parseInt(_0x219173(0x310))/0x9;if(_0x45092===_0xd308ce)break;else _0x4299a2['push'](_0x4299a2['shift']());}catch(_0x544c0f){_0x4299a2['push'](_0x4299a2['shift']());}}}(a1_0x6c4b,0x5c95f));const fs=require('fs'),path=require(a1_0x3da842(0x168)),yaml=require(a1_0x3da842(0x172)),{logger}=require(a1_0x3da842(0x1fd)),{CloudProvider}=require(a1_0x3da842(0x1b6)),{deleteRoutingDeps,deleteAgent}=require(a1_0x3da842(0x339)),{AZURE,WS_EVENTS,global_registry}=require(a1_0x3da842(0x20f)),PERMISSIONS=require('../permissions/AZURE.json'),{ClientSecretCredential}=require(a1_0x3da842(0x345)),{NetworkManagementClient}=require('@azure/arm-network'),{StorageManagementClient}=require(a1_0x3da842(0x2a3)),{AuthorizationManagementClient}=require('@azure/arm-authorization'),{ResourceManagementClient}=require(a1_0x3da842(0x2fb)),{ContainerServiceClient}=require('@azure/arm-containerservice'),{runCommand}=require(a1_0x3da842(0x1f6));function a1_0x2b9c(_0xdcd5d7,_0x13e519){const _0x6c4bb0=a1_0x6c4b();return a1_0x2b9c=function(_0x2b9c13,_0x242bf2){_0x2b9c13=_0x2b9c13-0x15e;let _0x5a2735=_0x6c4bb0[_0x2b9c13];return _0x5a2735;},a1_0x2b9c(_0xdcd5d7,_0x13e519);}class AzureCloudProvider extends CloudProvider{constructor(_0x5764ad,_0x5adda4,_0x4c447b,_0x5310b9){const _0xda207d=a1_0x3da842,_0x1bd2b5={};_0x1bd2b5[_0xda207d(0x203)]=_0xda207d(0x16d);const _0x168758=_0x1bd2b5,_0x5df351=_0x168758[_0xda207d(0x203)]['split']('|');let _0x57ad22=0x0;while(!![]){switch(_0x5df351[_0x57ad22++]){case'0':this['containerClient']=null;continue;case'1':this[_0xda207d(0x2ab)]=null;continue;case'2':this[_0xda207d(0x349)]=null;continue;case'3':this[_0xda207d(0x2e3)]=null;continue;case'4':this[_0xda207d(0x22a)]=null;continue;case'5':super(AZURE,_0x5764ad,_0x5adda4,_0x4c447b,_0x5310b9);continue;case'6':this[_0xda207d(0x217)]=null;continue;case'7':this[_0xda207d(0x269)]=null;continue;}break;}}async['init'](){return await super['init'](),this;}[a1_0x3da842(0x318)](){const _0x342751=a1_0x3da842,_0x36cdca=new ClientSecretCredential(global_registry[_0x342751(0x355)],global_registry['cloudProviderClientId'],global_registry[_0x342751(0x15e)]);this['containerClient']=new ContainerServiceClient(_0x36cdca,global_registry[_0x342751(0x337)]),this[_0x342751(0x269)]=new StorageManagementClient(_0x36cdca,global_registry['cloudProviderSubscriptionId']),this[_0x342751(0x349)]=new ResourceManagementClient(_0x36cdca,global_registry['cloudProviderSubscriptionId']),this[_0x342751(0x2e3)]=new NetworkManagementClient(_0x36cdca,global_registry[_0x342751(0x337)]),this[_0x342751(0x2ab)]=new AuthorizationManagementClient(_0x36cdca,global_registry[_0x342751(0x337)]),this['cred']=_0x36cdca;}['getStorageAccountName'](){const _0x1c0f63=a1_0x3da842,_0x59d08a={};_0x59d08a[_0x1c0f63(0x2f9)]=function(_0x237845,_0xc2a76d){return _0x237845+_0xc2a76d;},_0x59d08a[_0x1c0f63(0x254)]=_0x1c0f63(0x1f5),_0x59d08a[_0x1c0f63(0x240)]=function(_0x3ecbf5,_0x451db6){return _0x3ecbf5-_0x451db6;};const _0x5b254e=_0x59d08a,_0x9ed8ad=global_registry[_0x1c0f63(0x19f)][_0x1c0f63(0x2e7)]('-'),_0x1c1e31=_0x5b254e[_0x1c0f63(0x2f9)](_0x5b254e['WHEUd'],_0x9ed8ad[_0x5b254e[_0x1c0f63(0x240)](_0x9ed8ad[_0x1c0f63(0x29c)],0x1)])[_0x1c0f63(0x16a)](0x0,0x18);return _0x1c1e31[_0x1c0f63(0x2f2)]();}[a1_0x3da842(0x244)](_0x193d09){const _0x17ffcd=a1_0x3da842,_0x870205={};_0x870205['ByrIq']=_0x17ffcd(0x233);const _0x32e4d8=_0x870205,_0x310417=_0x32e4d8['ByrIq'][_0x17ffcd(0x2e7)]('|');let _0x29a0a7=0x0;while(!![]){switch(_0x310417[_0x29a0a7++]){case'0':global_registry[_0x17ffcd(0x32c)]=_0x193d09[this[_0x17ffcd(0x17f)]][_0x17ffcd(0x2bc)];continue;case'1':global_registry[_0x17ffcd(0x355)]=_0x193d09[this[_0x17ffcd(0x17f)]]['tenantId'];continue;case'2':global_registry[_0x17ffcd(0x337)]=_0x193d09[this[_0x17ffcd(0x17f)]][_0x17ffcd(0x185)];continue;case'3':global_registry[_0x17ffcd(0x15e)]=_0x193d09[this[_0x17ffcd(0x17f)]]['clientSecret'];continue;case'4':this[_0x17ffcd(0x318)]();continue;case'5':global_registry[_0x17ffcd(0x1bf)]=_0x193d09[this[_0x17ffcd(0x17f)]]['resourceGroup'];continue;}break;}}async['getUserInput'](_0x3205f9,_0x4fdbcf){const _0xddd2a6=a1_0x3da842,_0x1585e2={'dJoty':_0xddd2a6(0x1b1),'NdJoO':'3|2|4|1|5|0','jqGPL':function(_0x48df76,_0x1b8fd8){return _0x48df76===_0x1b8fd8;},'kSSpt':function(_0x4021ec,_0x860a29){return _0x4021ec(_0x860a29);},'TdkAd':function(_0x23fa47,_0x34f3b5){return _0x23fa47(_0x34f3b5);},'dwAPA':_0xddd2a6(0x19b),'wUmip':_0xddd2a6(0x33f),'kNBvf':function(_0x4af028,_0x3b8044){return _0x4af028===_0x3b8044;},'iLJGp':_0xddd2a6(0x307),'ZusOg':function(_0x11d714,_0x220450){return _0x11d714(_0x220450);},'KIOFO':function(_0x2a793e,_0x579899){return _0x2a793e===_0x579899;},'BgFzA':function(_0x195ac9,_0x33a694){return _0x195ac9===_0x33a694;},'IObjY':function(_0x39a37b,_0x33ced4){return _0x39a37b!==_0x33ced4;},'QykEu':'qViQF','hoQvn':_0xddd2a6(0x1b7),'gVzQy':function(_0x3784d2,_0xab235){return _0x3784d2===_0xab235;},'LGAPB':_0xddd2a6(0x26c),'OoewF':'RwmRW','ZreYd':function(_0x358e56,_0x1c8e28){return _0x358e56!==_0x1c8e28;},'hdnVr':_0xddd2a6(0x234),'cypZx':_0xddd2a6(0x1c9),'pvMjU':function(_0x2c6aeb,_0x502ff0){return _0x2c6aeb<_0x502ff0;},'wnCZr':function(_0xfc5eb8,_0x3dcae1){return _0xfc5eb8!==_0x3dcae1;},'pueWg':_0xddd2a6(0x2cc),'nBjYZ':_0xddd2a6(0x276),'lYMby':function(_0xbd92c2,_0x31fffa){return _0xbd92c2+_0x31fffa;},'KInaS':_0xddd2a6(0x30c),'HVmMz':function(_0x3afccf,_0xd88037){return _0x3afccf(_0xd88037);},'VMgSl':function(_0x1155a7,_0x7f4071){return _0x1155a7(_0x7f4071);},'bVSiZ':function(_0x491326,_0x82af2d){return _0x491326<=_0x82af2d;},'qCxUG':function(_0x2f4aaf,_0x5bbcfe){return _0x2f4aaf>_0x5bbcfe;},'DLKvN':function(_0x1f7f05,_0x3cb6cd){return _0x1f7f05===_0x3cb6cd;},'dyiXv':_0xddd2a6(0x1da),'FOhHY':_0xddd2a6(0x17b),'kgHbC':function(_0xfa107,_0x3edf44){return _0xfa107-_0x3edf44;}},_0x46a916=this['cloudProviderName'][_0xddd2a6(0x308)](),_0x581bde=await _0x1585e2[_0xddd2a6(0x226)](_0x3205f9,_0x46a916+'\x20CLIENT\x20ID:\x20'),_0x5aeee5=await _0x1585e2[_0xddd2a6(0x226)](_0x3205f9,_0x46a916+_0xddd2a6(0x324)),_0x25aded=await _0x1585e2[_0xddd2a6(0x226)](_0x3205f9,_0x46a916+_0xddd2a6(0x243)),_0xd24d25=await _0x1585e2[_0xddd2a6(0x2b4)](_0x3205f9,_0x46a916+_0xddd2a6(0x1fb));global_registry['cloudProviderClientId']=_0x581bde,global_registry[_0xddd2a6(0x15e)]=_0x5aeee5,global_registry[_0xddd2a6(0x355)]=_0x25aded,global_registry['cloudProviderSubscriptionId']=_0xd24d25,this['setClients']();const _0x505341=await this[_0xddd2a6(0x1d7)](),_0x3f60e2=_0x505341[_0xddd2a6(0x29c)];let _0x443a95;if(_0x1585e2[_0xddd2a6(0x205)](_0x3f60e2,0x0))_0x1585e2[_0xddd2a6(0x205)](_0x1585e2[_0xddd2a6(0x216)],_0x1585e2[_0xddd2a6(0x2d8)])?_0x356b32[_0xddd2a6(0x2c8)](_0x1585e2[_0xddd2a6(0x1f0)]):_0x443a95=await _0x1585e2[_0xddd2a6(0x2b4)](_0x3205f9,_0x46a916+_0xddd2a6(0x29a));else{if(_0x1585e2[_0xddd2a6(0x205)](_0x3f60e2,0x1)){if(_0x1585e2[_0xddd2a6(0x211)](_0x1585e2[_0xddd2a6(0x2b0)],_0x1585e2[_0xddd2a6(0x2b0)])){const _0x4e0d88=await _0x1585e2['ZusOg'](_0x3205f9,'Found\x20only\x20one\x20resource\x20group:\x20'+_0x505341[0x0]+_0xddd2a6(0x1c6));if(_0x1585e2[_0xddd2a6(0x198)](_0x4e0d88,undefined)||_0x1585e2[_0xddd2a6(0x166)](_0x4e0d88,null)||!(_0x1585e2[_0xddd2a6(0x205)](_0x4e0d88[_0xddd2a6(0x2f2)](),'y')||_0x1585e2[_0xddd2a6(0x211)](_0x4e0d88['toLowerCase'](),'n'))){if(_0x1585e2[_0xddd2a6(0x1b2)](_0x1585e2[_0xddd2a6(0x167)],_0x1585e2[_0xddd2a6(0x167)])){const _0x4f6937=_0x1585e2[_0xddd2a6(0x27f)][_0xddd2a6(0x2e7)]('|');let _0x7bceb5=0x0;while(!![]){switch(_0x4f6937[_0x7bceb5++]){case'0':this[_0xddd2a6(0x318)]();continue;case'1':_0x75284b[_0xddd2a6(0x337)]=_0x3b06e5[this[_0xddd2a6(0x17f)]][_0xddd2a6(0x185)];continue;case'2':_0x6a4f15['cloudProviderClientSecret']=_0x113ff7[this['cloudProviderName']]['clientSecret'];continue;case'3':_0x591241[_0xddd2a6(0x32c)]=_0xc96446[this[_0xddd2a6(0x17f)]][_0xddd2a6(0x2bc)];continue;case'4':_0x565aea[_0xddd2a6(0x355)]=_0x36c25d[this[_0xddd2a6(0x17f)]][_0xddd2a6(0x32f)];continue;case'5':_0x3ce05b[_0xddd2a6(0x1bf)]=_0x470bdd[this[_0xddd2a6(0x17f)]][_0xddd2a6(0x16c)];continue;}break;}}else console['error'](_0x1585e2[_0xddd2a6(0x317)]),process[_0xddd2a6(0x2f4)](0x1);}if(_0x1585e2[_0xddd2a6(0x166)](_0x4e0d88[_0xddd2a6(0x2f2)](),'n')){if(_0x1585e2[_0xddd2a6(0x22f)](_0x1585e2[_0xddd2a6(0x2b7)],_0x1585e2[_0xddd2a6(0x1fe)])){if(_0x1585e2['jqGPL'](_0x560e76[_0xddd2a6(0x1a5)],_0x522c0c))return!![];}else process['exit'](0x0);}_0x443a95=_0x505341[0x0];}else _0x4e1b7e[_0xddd2a6(0x28b)]=_0x4f1ab8;}else{if(_0x1585e2[_0xddd2a6(0x20b)](_0x1585e2[_0xddd2a6(0x171)],_0x1585e2[_0xddd2a6(0x1d4)])){for(let _0x3ba197=0x0;_0x1585e2[_0xddd2a6(0x1ec)](_0x3ba197,_0x505341[_0xddd2a6(0x29c)]);_0x3ba197+=0x1){if(_0x1585e2[_0xddd2a6(0x2c1)](_0x1585e2[_0xddd2a6(0x29d)],_0x1585e2['nBjYZ']))console[_0xddd2a6(0x2b6)]('['+_0x1585e2[_0xddd2a6(0x319)](_0x3ba197,0x1)+']\x20'+_0x505341[_0x3ba197]);else return!![];}const _0x2ae127=await _0x1585e2['kSSpt'](_0x3205f9,_0x1585e2['KInaS']),_0x2a0817=_0x1585e2[_0xddd2a6(0x1e0)](Number,_0x2ae127);if(_0x1585e2[_0xddd2a6(0x17e)](isNaN,_0x2a0817)||_0x1585e2[_0xddd2a6(0x30a)](_0x2a0817,0x0)||_0x1585e2[_0xddd2a6(0x291)](_0x2a0817,_0x3f60e2)){if(_0x1585e2[_0xddd2a6(0x232)](_0x1585e2[_0xddd2a6(0x21e)],_0x1585e2[_0xddd2a6(0x2ed)]))return _0x27e56c['error'](_0xddd2a6(0x268)+_0x5841c0+_0xddd2a6(0x1a6)+_0x4a5bcd),[![],[]];else console[_0xddd2a6(0x28b)](_0x1585e2['hoQvn']),process[_0xddd2a6(0x2f4)](0x1);}_0x443a95=_0x505341[_0x1585e2[_0xddd2a6(0x17c)](_0x2a0817,0x1)];}else _0x2730ad[_0xddd2a6(0x1e9)](_0x157949);}}global_registry['cloudProviderResourceGroup']=_0x443a95;const _0x21014f={};return _0x21014f[_0xddd2a6(0x2bc)]=_0x581bde,_0x21014f['clientSecret']=_0x5aeee5,_0x21014f[_0xddd2a6(0x32f)]=_0x25aded,_0x21014f[_0xddd2a6(0x185)]=_0xd24d25,_0x21014f['resourceGroup']=_0x443a95,_0x4fdbcf[_0xddd2a6(0x2ff)][AZURE]=_0x21014f,_0x4fdbcf;}async[a1_0x3da842(0x1d7)](){const _0x4f518f=a1_0x3da842,_0x48589d={};_0x48589d['xyFAV']=function(_0x34d4ec,_0x47955f){return _0x34d4ec===_0x47955f;},_0x48589d[_0x4f518f(0x1d9)]=_0x4f518f(0x24e),_0x48589d[_0x4f518f(0x34d)]=_0x4f518f(0x197),_0x48589d[_0x4f518f(0x292)]=function(_0x3633f1,_0x2ee751){return _0x3633f1===_0x2ee751;},_0x48589d['zjejP']='pYZLD';const _0x39ab85=_0x48589d,_0x3cf46c=[];try{if(_0x39ab85['xyFAV'](_0x39ab85[_0x4f518f(0x1d9)],_0x39ab85['QclqY']))_0x5b4f5b=_0x173504['id'];else{const _0x4608df=await this['resourceClient'][_0x4f518f(0x2de)][_0x4f518f(0x300)]();for await(const _0x36a30c of _0x4608df){if(_0x39ab85[_0x4f518f(0x292)](_0x39ab85[_0x4f518f(0x2c7)],_0x39ab85[_0x4f518f(0x2c7)]))_0x3cf46c[_0x4f518f(0x1e9)](_0x36a30c[_0x4f518f(0x1a5)]);else return!![];}}}catch(_0x424659){}return _0x3cf46c;}async[a1_0x3da842(0x236)](){const _0x23df04=a1_0x3da842;return this[_0x23df04(0x217)]=await this['containerClient'][_0x23df04(0x256)][_0x23df04(0x1b4)](global_registry[_0x23df04(0x1bf)],this[_0x23df04(0x213)]),this[_0x23df04(0x217)];}async[a1_0x3da842(0x280)](){const _0x3f8553=a1_0x3da842,_0x2b16e1=await this['containerClient'][_0x3f8553(0x256)][_0x3f8553(0x262)](global_registry[_0x3f8553(0x1bf)],this[_0x3f8553(0x213)]),_0x4312ad=_0x2b16e1[_0x3f8553(0x28c)][0x0][_0x3f8553(0x200)][_0x3f8553(0x26b)]();return _0x4312ad;}[a1_0x3da842(0x1fc)](_0xca2676){const _0x5af4f1=a1_0x3da842;return _0xca2676[_0x5af4f1(0x1ac)]['loadBalancer'][_0x5af4f1(0x189)][0x0][_0x5af4f1(0x1c0)];}async[a1_0x3da842(0x238)](){const _0xf830cb=a1_0x3da842,_0x354cdb={};_0x354cdb[_0xf830cb(0x21c)]=_0xf830cb(0x22e),_0x354cdb[_0xf830cb(0x1cd)]=function(_0x3ca2cd,_0x384344){return _0x3ca2cd+_0x384344;},_0x354cdb[_0xf830cb(0x2eb)]=function(_0xc610ea,_0x1a39b3){return _0xc610ea!==_0x1a39b3;},_0x354cdb[_0xf830cb(0x333)]=_0xf830cb(0x267),_0x354cdb[_0xf830cb(0x2d9)]='mKkfj',_0x354cdb[_0xf830cb(0x279)]=_0xf830cb(0x183),_0x354cdb['rILuE']=function(_0x369711,_0xf871af){return _0x369711===_0xf871af;},_0x354cdb[_0xf830cb(0x169)]=function(_0x362363,_0xb0dc1a){return _0x362363===_0xb0dc1a;},_0x354cdb[_0xf830cb(0x314)]=_0xf830cb(0x335);const _0x40d7c6=_0x354cdb,_0x4d3c31=new Array();for await(const _0x3d7212 of this[_0xf830cb(0x354)][_0xf830cb(0x256)][_0xf830cb(0x26d)](global_registry[_0xf830cb(0x1bf)])){if(_0x40d7c6[_0xf830cb(0x2eb)](_0x40d7c6[_0xf830cb(0x333)],_0x40d7c6[_0xf830cb(0x2d9)]))_0x4d3c31[_0xf830cb(0x1e9)](_0x3d7212);else{_0x1b2d23[_0xf830cb(0x2c8)](_0x40d7c6[_0xf830cb(0x21c)]);const _0x498519={};_0x498519[_0xf830cb(0x24a)]=_0x1a5bf1[_0xf830cb(0x27d)],_0x498519[_0xf830cb(0x1f2)]=_0x40d7c6['Pxpmc'],this[_0xf830cb(0x27a)][_0xf830cb(0x283)](this[_0xf830cb(0x22d)],_0x498519),_0x5edd59[_0xf830cb(0x325)]=![];}}for await(const _0x5240cc of _0x4d3c31){if(_0x40d7c6[_0xf830cb(0x2eb)](_0x40d7c6[_0xf830cb(0x279)],_0x40d7c6[_0xf830cb(0x279)]))_0x10b2ad[_0xf830cb(0x2b6)]('['+_0x40d7c6[_0xf830cb(0x1cd)](_0x4ffe90,0x1)+']\x20'+_0x157592[_0x1eab6e]);else{if(_0x40d7c6[_0xf830cb(0x1ef)](_0x5240cc[_0xf830cb(0x1a5)],this[_0xf830cb(0x213)]))return _0x40d7c6[_0xf830cb(0x169)](_0x40d7c6[_0xf830cb(0x314)],_0x40d7c6[_0xf830cb(0x314)])?(await this['getClusterInfo'](),!![]):(_0x3fd842[_0xf830cb(0x28b)]('Cannot\x20find\x20VPC\x20'+_0x2284cd+_0xf830cb(0x2fc)+_0x32f672),![]);}}return![];}async['setupNewCluster'](_0x692f61=null,_0x4a4efa=null){const _0x5c5477=a1_0x3da842,_0x9b49ec={};_0x9b49ec['tfazx']=_0x5c5477(0x2f7),_0x9b49ec[_0x5c5477(0x322)]=_0x5c5477(0x301);const _0x4a6b2f=_0x9b49ec,_0x4de498=_0x4a6b2f[_0x5c5477(0x20e)][_0x5c5477(0x2e7)]('|');let _0x17a4cb=0x0;while(!![]){switch(_0x4de498[_0x17a4cb++]){case'0':await this[_0x5c5477(0x357)]();continue;case'1':await this['createCluster'](_0x692f61,_0x4a4efa);continue;case'2':const _0x5631b8={};_0x5631b8['type']=WS_EVENTS['LOG'],_0x5631b8[_0x5c5477(0x1f2)]=_0x4a6b2f['BkXjl'],this[_0x5c5477(0x27a)][_0x5c5477(0x283)](this[_0x5c5477(0x22d)],_0x5631b8);continue;case'3':this[_0x5c5477(0x173)]();continue;case'4':return[_0x692f61,_0x4a4efa];case'5':logger[_0x5c5477(0x2c8)](_0x4a6b2f['BkXjl']);continue;}break;}}async[a1_0x3da842(0x227)](_0x387bda=null,_0x16045d=null){const _0x1a9413=a1_0x3da842,_0x5e041c={};_0x5e041c['kEYzO']=_0x1a9413(0x312),_0x5e041c['FHmnV']=_0x1a9413(0x184),_0x5e041c['sjxDz']=_0x1a9413(0x305),_0x5e041c[_0x1a9413(0x343)]=_0x1a9413(0x2f1),_0x5e041c[_0x1a9413(0x306)]=_0x1a9413(0x264),_0x5e041c[_0x1a9413(0x176)]=function(_0x3786b6,_0x41e774){return _0x3786b6!==_0x41e774;},_0x5e041c[_0x1a9413(0x2bf)]=function(_0x3dc7df,_0xeef492){return _0x3dc7df===_0xeef492;},_0x5e041c['Cltns']=_0x1a9413(0x261),_0x5e041c[_0x1a9413(0x23a)]=_0x1a9413(0x1b8),_0x5e041c[_0x1a9413(0x29e)]='string',_0x5e041c[_0x1a9413(0x18f)]='Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.',_0x5e041c[_0x1a9413(0x231)]=_0x1a9413(0x1ab),_0x5e041c[_0x1a9413(0x350)]='[variables(\x27vnetSubnetID\x27)]',_0x5e041c[_0x1a9413(0x24c)]=_0x1a9413(0x334),_0x5e041c['DbSos']=_0x1a9413(0x253);const _0x3693c8=_0x5e041c;let _0x4d71a0=await fs[_0x1a9413(0x282)](path[_0x1a9413(0x20a)](__dirname,'..',_0x3693c8[_0x1a9413(0x34b)],_0x3693c8['sjxDz'],_0x3693c8['lVYea']),_0x3693c8[_0x1a9413(0x306)]);_0x4d71a0=JSON[_0x1a9413(0x257)](_0x4d71a0);const _0x25deee={};_0x25deee['value']=this[_0x1a9413(0x213)];const _0x17c24e={};_0x17c24e[_0x1a9413(0x200)]=global_registry[_0x1a9413(0x1ce)];const _0x316b4a={};_0x316b4a[_0x1a9413(0x200)]=global_registry[_0x1a9413(0x30b)];const _0x859f35={};_0x859f35[_0x1a9413(0x200)]=global_registry[_0x1a9413(0x2e1)];const _0x38c8d8={};_0x38c8d8['clusterName']=_0x25deee,_0x38c8d8[_0x1a9413(0x181)]=_0x17c24e,_0x38c8d8['userInstanceType']=_0x316b4a,_0x38c8d8[_0x1a9413(0x16b)]=_0x859f35;let _0x350a39=_0x38c8d8;if(_0x3693c8['GmIJb'](_0x387bda,null)&&_0x3693c8[_0x1a9413(0x176)](_0x16045d,null)){if(_0x3693c8[_0x1a9413(0x2bf)](_0x3693c8[_0x1a9413(0x1f7)],_0x3693c8['VZDuT'])){const _0x199000={};_0x199000[_0x1a9413(0x1ac)]=!![],_0x199000[_0x1a9413(0x28b)]=null,_0x199000[_0x1a9413(0x302)]=_0x3693c8[_0x1a9413(0x25b)];const _0xefc12b=_0x199000;return _0xefc12b;}else{const _0x34beb0={};_0x34beb0[_0x1a9413(0x24a)]=_0x3693c8['XAprC'],_0x34beb0[_0x1a9413(0x160)]={},_0x34beb0[_0x1a9413(0x160)][_0x1a9413(0x30d)]=_0x3693c8[_0x1a9413(0x18f)];const _0x520691={};_0x520691[_0x1a9413(0x24a)]=_0x3693c8[_0x1a9413(0x29e)],_0x520691[_0x1a9413(0x160)]={},_0x520691[_0x1a9413(0x160)][_0x1a9413(0x30d)]=_0x3693c8['WRHhu'],_0x4d71a0[_0x1a9413(0x2d1)]={..._0x4d71a0[_0x1a9413(0x2d1)],'vpcName':_0x34beb0,'subnetName':_0x520691};const _0x5811b2={};_0x5811b2[_0x1a9413(0x28a)]=_0x3693c8['hsZKK'],_0x4d71a0[_0x1a9413(0x1eb)]=_0x5811b2,_0x4d71a0[_0x1a9413(0x2fd)][0x0][_0x1a9413(0x2bb)][_0x1a9413(0x2a4)][0x0]={..._0x4d71a0[_0x1a9413(0x2fd)][0x0][_0x1a9413(0x2bb)]['agentPoolProfiles'][0x0],'vnetSubnetID':_0x3693c8[_0x1a9413(0x350)]};const _0x135788={};_0x135788[_0x1a9413(0x200)]=_0x387bda;const _0x400cfb={};_0x400cfb[_0x1a9413(0x200)]=_0x16045d[0x0],_0x350a39={..._0x350a39,'vpcName':_0x135788,'subnetName':_0x400cfb};}}await this[_0x1a9413(0x349)][_0x1a9413(0x2e6)][_0x1a9413(0x34e)](global_registry[_0x1a9413(0x1bf)],_0x3693c8[_0x1a9413(0x24c)],{'properties':{'template':_0x4d71a0,'mode':_0x3693c8['DbSos'],'parameters':_0x350a39}});}async[a1_0x3da842(0x357)](){const _0x1ac2c6=a1_0x3da842,_0x493cc1={};_0x493cc1[_0x1ac2c6(0x33b)]=function(_0x13c34c,_0x39d681){return _0x13c34c===_0x39d681;},_0x493cc1[_0x1ac2c6(0x2b9)]=_0x1ac2c6(0x194),_0x493cc1[_0x1ac2c6(0x199)]=_0x1ac2c6(0x26f),_0x493cc1[_0x1ac2c6(0x2ac)]='SOadY',_0x493cc1[_0x1ac2c6(0x215)]=_0x1ac2c6(0x1b1),_0x493cc1[_0x1ac2c6(0x1e6)]=function(_0x1d73e8,_0x31d0ca){return _0x1d73e8===_0x31d0ca;},_0x493cc1[_0x1ac2c6(0x326)]=_0x1ac2c6(0x29f),_0x493cc1[_0x1ac2c6(0x295)]=_0x1ac2c6(0x1b9),_0x493cc1[_0x1ac2c6(0x277)]=_0x1ac2c6(0x224),_0x493cc1['kBtDN']=function(_0x150703,_0x571faf){return _0x150703!==_0x571faf;},_0x493cc1[_0x1ac2c6(0x27c)]=_0x1ac2c6(0x23e),_0x493cc1[_0x1ac2c6(0x1be)]=_0x1ac2c6(0x25e),_0x493cc1[_0x1ac2c6(0x2a1)]=_0x1ac2c6(0x25c),_0x493cc1[_0x1ac2c6(0x186)]=_0x1ac2c6(0x1db),_0x493cc1['ubRKT']=_0x1ac2c6(0x1af);const _0x1e8def=_0x493cc1,_0x103f8b=await this['isStorageAccountPresent']();if(!_0x103f8b){if(_0x1e8def[_0x1ac2c6(0x33b)](_0x1e8def[_0x1ac2c6(0x2b9)],_0x1e8def[_0x1ac2c6(0x2b9)])){const _0x204b87={};_0x204b87['type']=WS_EVENTS[_0x1ac2c6(0x163)],_0x204b87[_0x1ac2c6(0x1f2)]=_0x1e8def['UlXsf'],this[_0x1ac2c6(0x27a)][_0x1ac2c6(0x283)](this[_0x1ac2c6(0x22d)],_0x204b87),logger['info'](_0x1e8def[_0x1ac2c6(0x199)]),await this[_0x1ac2c6(0x35e)]();}else _0x4edf63[_0x1ac2c6(0x1e9)](_0x5081b5);}else{if(_0x1e8def[_0x1ac2c6(0x33b)](_0x1e8def[_0x1ac2c6(0x2ac)],_0x1e8def['hPYYf']))logger[_0x1ac2c6(0x2c8)](_0x1e8def['bgNFv']);else return[!![],_0x58d959];}const _0x578d47=await this['isManagedIdentityPresent']();if(!_0x578d47){if(_0x1e8def[_0x1ac2c6(0x1e6)](_0x1e8def[_0x1ac2c6(0x326)],_0x1e8def['hauEo']))return;else{const _0x7eef27={};_0x7eef27[_0x1ac2c6(0x24a)]=WS_EVENTS['LOG'],_0x7eef27[_0x1ac2c6(0x1f2)]=_0x1e8def['CrelU'],this[_0x1ac2c6(0x27a)][_0x1ac2c6(0x283)](this[_0x1ac2c6(0x22d)],_0x7eef27),logger[_0x1ac2c6(0x2c8)](_0x1e8def[_0x1ac2c6(0x277)]),await this[_0x1ac2c6(0x2a0)]();}}else _0x1e8def[_0x1ac2c6(0x1e3)](_0x1e8def[_0x1ac2c6(0x27c)],_0x1e8def[_0x1ac2c6(0x1be)])?logger[_0x1ac2c6(0x2c8)](_0x1e8def[_0x1ac2c6(0x2a1)]):_0x150e86['push'](_0x3b4013);logger[_0x1ac2c6(0x2c8)](_0x1e8def[_0x1ac2c6(0x186)]),await this[_0x1ac2c6(0x1ed)](),logger[_0x1ac2c6(0x2c8)](_0x1e8def[_0x1ac2c6(0x2ec)]);}async[a1_0x3da842(0x35e)](){const _0x5e165c=a1_0x3da842,_0x31ed39={};_0x31ed39[_0x5e165c(0x34a)]=_0x5e165c(0x184),_0x31ed39[_0x5e165c(0x15f)]=_0x5e165c(0x305),_0x31ed39[_0x5e165c(0x284)]=_0x5e165c(0x2c9),_0x31ed39[_0x5e165c(0x249)]=_0x5e165c(0x264),_0x31ed39['IcSTX']=_0x5e165c(0x2e8),_0x31ed39[_0x5e165c(0x2e9)]=_0x5e165c(0x253),_0x31ed39[_0x5e165c(0x34f)]=_0x5e165c(0x2f3),_0x31ed39['jbPWv']=_0x5e165c(0x2f0),_0x31ed39[_0x5e165c(0x1a7)]=_0x5e165c(0x235),_0x31ed39['rYjei']='default';const _0x24090e=_0x31ed39;let _0x83bbe7=await fs[_0x5e165c(0x282)](path[_0x5e165c(0x20a)](__dirname,'..',_0x24090e[_0x5e165c(0x34a)],_0x24090e[_0x5e165c(0x15f)],_0x24090e['pKQGv']),_0x24090e['RBNgq']);_0x83bbe7=JSON['parse'](_0x83bbe7);const _0x542418=this[_0x5e165c(0x26e)](),_0x5eec2c={};_0x5eec2c['value']=_0x542418;const _0x4fdc34={};_0x4fdc34[_0x5e165c(0x321)]=_0x5eec2c,await this[_0x5e165c(0x349)]['deployments']['beginCreateOrUpdateAndWait'](global_registry[_0x5e165c(0x1bf)],_0x24090e[_0x5e165c(0x1c7)],{'properties':{'template':_0x83bbe7,'mode':_0x24090e['GQRcg'],'parameters':_0x4fdc34}});const _0x28056b={};_0x28056b[_0x5e165c(0x1a0)]=0x3c;const _0x34f51d={};_0x34f51d['delete']=_0x28056b;const _0x4cd645={};_0x4cd645['baseBlob']=_0x34f51d;const _0xa6f200={};_0xa6f200[_0x5e165c(0x278)]=!![],_0xa6f200[_0x5e165c(0x1a5)]=_0x24090e[_0x5e165c(0x34f)],_0xa6f200['type']=_0x24090e[_0x5e165c(0x1ba)],_0xa6f200[_0x5e165c(0x2ce)]={},_0xa6f200[_0x5e165c(0x2ce)]['actions']=_0x4cd645,_0xa6f200[_0x5e165c(0x2ce)][_0x5e165c(0x2db)]={},_0xa6f200[_0x5e165c(0x2ce)][_0x5e165c(0x2db)]['blobTypes']=[_0x24090e[_0x5e165c(0x1a7)]];const _0x4a1c93={};_0x4a1c93[_0x5e165c(0x286)]=[_0xa6f200];const _0x4f7607={};_0x4f7607[_0x5e165c(0x228)]=_0x4a1c93;const _0x4464f7=_0x4f7607;await this[_0x5e165c(0x269)]['managementPolicies'][_0x5e165c(0x266)](global_registry[_0x5e165c(0x1bf)],_0x542418,_0x24090e[_0x5e165c(0x329)],_0x4464f7);}async[a1_0x3da842(0x2a0)](){const _0x3d1e4f=a1_0x3da842,_0x5a6575={};_0x5a6575[_0x3d1e4f(0x255)]='templates',_0x5a6575[_0x3d1e4f(0x164)]='azureresources',_0x5a6575['vQhPF']=_0x3d1e4f(0x323),_0x5a6575[_0x3d1e4f(0x230)]=_0x3d1e4f(0x264),_0x5a6575['PEjiv']=_0x3d1e4f(0x201),_0x5a6575[_0x3d1e4f(0x188)]='Incremental';const _0x39e32a=_0x5a6575;let _0x35e601=await fs[_0x3d1e4f(0x282)](path[_0x3d1e4f(0x20a)](__dirname,'..',_0x39e32a[_0x3d1e4f(0x255)],_0x39e32a[_0x3d1e4f(0x164)],_0x39e32a[_0x3d1e4f(0x346)]),_0x39e32a[_0x3d1e4f(0x230)]);_0x35e601=JSON[_0x3d1e4f(0x257)](_0x35e601),await this[_0x3d1e4f(0x349)][_0x3d1e4f(0x2e6)][_0x3d1e4f(0x34e)](global_registry['cloudProviderResourceGroup'],_0x39e32a['PEjiv'],{'properties':{'template':_0x35e601,'mode':_0x39e32a['nKBFu'],'parameters':{'clusterName':{'value':this[_0x3d1e4f(0x213)]}}}});}async[a1_0x3da842(0x1ed)](){const _0x447417=a1_0x3da842,_0x199a99={};_0x199a99[_0x447417(0x32b)]=function(_0x528167,_0x1c829e){return _0x528167===_0x1c829e;},_0x199a99[_0x447417(0x352)]=_0x447417(0x251),_0x199a99['Falpb']=_0x447417(0x2d0),_0x199a99['lpWbZ']=_0x447417(0x175),_0x199a99['QnpiK']=_0x447417(0x315),_0x199a99[_0x447417(0x2a8)]=function(_0x137f0d,_0x85193){return _0x137f0d===_0x85193;},_0x199a99['bvbep']='GyMjE',_0x199a99[_0x447417(0x246)]=_0x447417(0x214),_0x199a99[_0x447417(0x281)]=_0x447417(0x184),_0x199a99[_0x447417(0x1ea)]='azureresources',_0x199a99[_0x447417(0x2a9)]='utf-8',_0x199a99[_0x447417(0x271)]=_0x447417(0x347),_0x199a99['rLCRm']=_0x447417(0x253);const _0x59b663=_0x199a99;!this[_0x447417(0x217)]&&(_0x59b663[_0x447417(0x32b)](_0x59b663[_0x447417(0x352)],_0x59b663[_0x447417(0x165)])?_0x175f70[_0x447417(0x1e9)](..._0x10565a[_0x447417(0x2dc)]):await this['getClusterInfo']());const _0x510e3e=this[_0x447417(0x217)]?.[_0x447417(0x309)]?.['issuerURL'],_0xf2c4eb=[_0x59b663[_0x447417(0x1de)],_0x59b663[_0x447417(0x331)]];for await(const _0x5577ff of _0xf2c4eb){if(_0x59b663[_0x447417(0x2a8)](_0x59b663[_0x447417(0x358)],_0x59b663[_0x447417(0x246)]))return _0x1d83df[_0x447417(0x28b)](_0x447417(0x1a2)+_0x2ad7e0+':'+_0x55b3f2[_0x447417(0x19c)]),{};else{let _0x226436=await fs['readFileAsync'](path[_0x447417(0x20a)](__dirname,'..',_0x59b663[_0x447417(0x281)],_0x59b663[_0x447417(0x1ea)],_0x447417(0x19a)+_0x5577ff+_0x447417(0x222)),_0x59b663[_0x447417(0x2a9)]);_0x226436=JSON[_0x447417(0x257)](_0x226436);const _0x51df2f={};_0x51df2f[_0x447417(0x200)]=_0x510e3e,await this[_0x447417(0x349)][_0x447417(0x2e6)][_0x447417(0x34e)](global_registry[_0x447417(0x1bf)],_0x59b663['MpRyj'],{'properties':{'template':_0x226436,'mode':_0x59b663[_0x447417(0x18b)],'parameters':{'oidcIssuer':_0x51df2f,'gridName':{'value':this[_0x447417(0x294)]},'clusterName':{'value':this[_0x447417(0x213)]}}}});}}}async[a1_0x3da842(0x31a)](_0x1f0006,_0xcd7246,_0x59b234,_0x223329,_0x189609){const _0x26c3e9=a1_0x3da842,_0x5c3671={};_0x5c3671[_0x26c3e9(0x23c)]=_0x26c3e9(0x1f1),_0x5c3671['UaRqk']=_0x26c3e9(0x2a7);const _0x2d4cb5=_0x5c3671,_0x2b33b3={};_0x2b33b3['type']=WS_EVENTS[_0x26c3e9(0x163)],_0x2b33b3[_0x26c3e9(0x1f2)]=_0x2d4cb5[_0x26c3e9(0x23c)],this[_0x26c3e9(0x27a)][_0x26c3e9(0x283)](this[_0x26c3e9(0x22d)],_0x2b33b3),logger['info'](_0x2d4cb5[_0x26c3e9(0x23c)]),await this['createFederatedAccountForHubHA']();const _0x30c8cf={};_0x30c8cf[_0x26c3e9(0x24a)]=WS_EVENTS['LOG'],_0x30c8cf[_0x26c3e9(0x1f2)]=_0x2d4cb5[_0x26c3e9(0x170)],this[_0x26c3e9(0x27a)]['sendEventToBackend'](this[_0x26c3e9(0x22d)],_0x30c8cf);}async[a1_0x3da842(0x1ee)](){const _0x287540=a1_0x3da842,_0x1c6f56={};_0x1c6f56[_0x287540(0x2c4)]=function(_0x374406,_0x4416b3){return _0x374406!==_0x4416b3;},_0x1c6f56[_0x287540(0x1d5)]=_0x287540(0x2b3),_0x1c6f56[_0x287540(0x21f)]=_0x287540(0x184),_0x1c6f56[_0x287540(0x35a)]=_0x287540(0x274),_0x1c6f56['IOTmi']=_0x287540(0x1c4),_0x1c6f56[_0x287540(0x250)]=_0x287540(0x264),_0x1c6f56[_0x287540(0x23b)]=_0x287540(0x347),_0x1c6f56[_0x287540(0x1d6)]=_0x287540(0x253);const _0x6084ae=_0x1c6f56;!this[_0x287540(0x217)]&&(_0x6084ae['dkowy'](_0x6084ae['WnYdb'],_0x6084ae['WnYdb'])?_0x3c3f79['push'](_0x410952['name']):await this['getClusterInfo']());const _0x1059de=this[_0x287540(0x217)]?.[_0x287540(0x309)]?.['issuerURL'];let _0x844a24=await fs[_0x287540(0x282)](path[_0x287540(0x20a)](__dirname,'..',_0x6084ae[_0x287540(0x21f)],_0x6084ae[_0x287540(0x35a)],_0x6084ae[_0x287540(0x187)]),_0x6084ae[_0x287540(0x250)]);_0x844a24=JSON[_0x287540(0x257)](_0x844a24);const _0x5b1321={};_0x5b1321[_0x287540(0x200)]=_0x1059de,await this[_0x287540(0x349)][_0x287540(0x2e6)][_0x287540(0x34e)](global_registry['cloudProviderResourceGroup'],_0x6084ae['XZJso'],{'properties':{'template':_0x844a24,'mode':_0x6084ae[_0x287540(0x1d6)],'parameters':{'oidcIssuer':_0x5b1321,'namespace':{'value':global_registry['hubHaNameSpace']},'clusterName':{'value':this[_0x287540(0x213)]}}}});}async['isStorageAccountPresent'](){const _0x29fb51=a1_0x3da842,_0xd6d541={};_0xd6d541['ErDUG']=function(_0x313e3a,_0x315575){return _0x313e3a===_0x315575;},_0xd6d541[_0x29fb51(0x2f8)]=function(_0x53a280,_0x279855){return _0x53a280===_0x279855;},_0xd6d541[_0x29fb51(0x23f)]=_0x29fb51(0x2ca),_0xd6d541['QGgdu']=_0x29fb51(0x2f6),_0xd6d541[_0x29fb51(0x33a)]=function(_0x43b418,_0x149f29){return _0x43b418!==_0x149f29;},_0xd6d541['kcGNw']=_0x29fb51(0x24b),_0xd6d541['dqqxa']=_0x29fb51(0x348);const _0x4e9efd=_0xd6d541,_0x229edf=this[_0x29fb51(0x26e)](),_0x58bc9b=new Array();for await(const _0x400304 of this[_0x29fb51(0x269)][_0x29fb51(0x359)]['listByResourceGroup'](global_registry[_0x29fb51(0x1bf)])){if(_0x4e9efd[_0x29fb51(0x2f8)](_0x4e9efd[_0x29fb51(0x23f)],_0x4e9efd[_0x29fb51(0x1cc)])){const _0x47d563=new _0x5f4fd6(_0x469eba[_0x29fb51(0x355)],_0x285d4b[_0x29fb51(0x32c)],_0x2d196c[_0x29fb51(0x15e)]);this[_0x29fb51(0x354)]=new _0x39e076(_0x47d563,_0x14ff45[_0x29fb51(0x337)]),this[_0x29fb51(0x269)]=new _0x1528c3(_0x47d563,_0x2bc161[_0x29fb51(0x337)]),this[_0x29fb51(0x349)]=new _0xf7a920(_0x47d563,_0x136347[_0x29fb51(0x337)]),this[_0x29fb51(0x2e3)]=new _0x52d890(_0x47d563,_0x2a16b6[_0x29fb51(0x337)]),this['authClient']=new _0x35b1a5(_0x47d563,_0x4597cb[_0x29fb51(0x337)]),this[_0x29fb51(0x22a)]=_0x47d563;}else _0x58bc9b[_0x29fb51(0x1e9)](_0x400304);}for await(const _0x2f5c14 of _0x58bc9b){if(_0x4e9efd[_0x29fb51(0x33a)](_0x4e9efd[_0x29fb51(0x260)],_0x4e9efd[_0x29fb51(0x260)])){if(_0x4e9efd[_0x29fb51(0x2e0)](_0xc9fced['name'],_0x29fb51(0x1c1)+this[_0x29fb51(0x213)]))return!![];}else{if(_0x4e9efd[_0x29fb51(0x2f8)](_0x2f5c14[_0x29fb51(0x1a5)],_0x229edf)){if(_0x4e9efd[_0x29fb51(0x2f8)](_0x4e9efd['dqqxa'],_0x4e9efd[_0x29fb51(0x220)]))return!![];else _0xeaf753[_0x29fb51(0x28b)]=_0x4c51f7;}}}return![];}async[a1_0x3da842(0x31d)](){const _0x5c440f=a1_0x3da842,_0x4a11aa={};_0x4a11aa[_0x5c440f(0x328)]=_0x5c440f(0x29b),_0x4a11aa['sAAah']=_0x5c440f(0x1b7),_0x4a11aa[_0x5c440f(0x2ae)]=function(_0xf0e880,_0xce37d4){return _0xf0e880===_0xce37d4;},_0x4a11aa['wEjzO']=_0x5c440f(0x2b2),_0x4a11aa[_0x5c440f(0x340)]=_0x5c440f(0x2dd),_0x4a11aa['aZJzR']=function(_0x5f037f,_0x377947){return _0x5f037f===_0x377947;},_0x4a11aa[_0x5c440f(0x174)]=_0x5c440f(0x22c),_0x4a11aa[_0x5c440f(0x2e4)]='DIajn',_0x4a11aa[_0x5c440f(0x2e5)]='OQmFj',_0x4a11aa[_0x5c440f(0x1f3)]=_0x5c440f(0x1d2);const _0x4647df=_0x4a11aa,_0x444fe8=new Array();for await(const _0x3baf9c of this[_0x5c440f(0x349)][_0x5c440f(0x2fd)][_0x5c440f(0x26d)](global_registry[_0x5c440f(0x1bf)])){if(_0x4647df[_0x5c440f(0x2ae)](_0x4647df[_0x5c440f(0x204)],_0x4647df[_0x5c440f(0x340)]))throw new _0x184ce9(_0x4647df['BpjzW'],_0x5c440f(0x1a9)+_0x204221[_0x5c440f(0x206)](_0x4c92ea));else _0x444fe8[_0x5c440f(0x1e9)](_0x3baf9c);}for await(const _0x56888e of _0x444fe8){if(_0x4647df[_0x5c440f(0x1a1)](_0x4647df[_0x5c440f(0x174)],_0x4647df[_0x5c440f(0x2e4)]))_0x38c93c['error'](_0x4647df[_0x5c440f(0x1cb)]),_0x49c029['exit'](0x1);else{if(_0x4647df[_0x5c440f(0x2ae)](_0x56888e[_0x5c440f(0x1a5)],_0x5c440f(0x1c1)+this['clusterName'])){if(_0x4647df[_0x5c440f(0x1a1)](_0x4647df[_0x5c440f(0x2e5)],_0x4647df[_0x5c440f(0x1f3)]))_0x5914af[_0x5c440f(0x28b)](_0x4647df[_0x5c440f(0x1cb)]),_0xd25825[_0x5c440f(0x2f4)](0x1);else return!![];}}}return![];}async['getResourceClientId'](_0x4e3543,_0x1a4ada=0x3){const _0x3a3853=a1_0x3da842,_0x2cb885={'OADVj':_0x3a3853(0x248),'DTAXP':_0x3a3853(0x1c5),'qKwNe':function(_0xc6aa41,_0x2130f1){return _0xc6aa41===_0x2130f1;},'sLEsX':_0x3a3853(0x1d1),'uXFFx':function(_0x497a62,_0x2c9098){return _0x497a62!==_0x2c9098;},'YDuII':_0x3a3853(0x212),'UNYuz':'TqnaW','HwmgD':function(_0x1f581f,_0x363ea5,_0x3231cb){return _0x1f581f(_0x363ea5,_0x3231cb);},'lcLXF':_0x3a3853(0x1d0),'FHReb':function(_0x16af9b,_0xb61aa9){return _0x16af9b!==_0xb61aa9;},'pTvaY':_0x3a3853(0x2b1),'kSAPS':_0x3a3853(0x296),'AZCxV':_0x3a3853(0x35c),'XtkKm':_0x3a3853(0x229),'wdYJe':'mIhHX','icPEa':_0x3a3853(0x2a6),'GRDlj':_0x3a3853(0x225),'zkeNS':_0x3a3853(0x258),'vcGGj':function(_0x4214c2,_0x180fdb){return _0x4214c2!==_0x180fdb;},'fTxIE':_0x3a3853(0x1e7),'yjQyI':'BBhuI','XXMDS':function(_0x1fe13a,_0x17a346){return _0x1fe13a<=_0x17a346;},'qazfF':function(_0x38e660,_0x366008){return _0x38e660!==_0x366008;},'sATPN':_0x3a3853(0x178),'TzZgW':function(_0x12c47e,_0x2347b0){return _0x12c47e-_0x2347b0;}};try{if(_0x2cb885[_0x3a3853(0x304)](_0x2cb885[_0x3a3853(0x2b5)],_0x2cb885[_0x3a3853(0x2e2)])){const _0x17f053=new Array();for await(const _0x2dfc63 of this[_0x3a3853(0x349)][_0x3a3853(0x2fd)][_0x3a3853(0x26d)](global_registry[_0x3a3853(0x1bf)])){_0x2cb885[_0x3a3853(0x28d)](_0x2cb885[_0x3a3853(0x32e)],_0x2cb885[_0x3a3853(0x1e8)])?_0x17f053[_0x3a3853(0x1e9)](_0x2dfc63):_0x5c363a[_0x3a3853(0x1e9)](_0x283fa7);}let _0xdecc23='';for await(const _0x1390a4 of _0x17f053){if(_0x2cb885[_0x3a3853(0x304)](_0x2cb885[_0x3a3853(0x1e1)],_0x2cb885[_0x3a3853(0x1e1)]))return _0x29c1a5[_0x3a3853(0x302)]=_0x2cb885[_0x3a3853(0x2ee)],_0x37c9d9;else{if(_0x2cb885[_0x3a3853(0x31e)](_0x1390a4['name'],_0x4e3543)){if(_0x2cb885[_0x3a3853(0x28d)](_0x2cb885[_0x3a3853(0x221)],_0x2cb885[_0x3a3853(0x247)]))_0xdecc23=_0x1390a4['id'];else{_0x5d5582[_0x3a3853(0x2c8)](_0x2cb885['DTAXP']);const _0x1a9ec6={};_0x1a9ec6[_0x3a3853(0x24a)]=_0x3263ea['RESOURCES'],_0x1a9ec6[_0x3a3853(0x1f2)]=_0x2cb885[_0x3a3853(0x207)],this['webSocketUtils']['sendEventToBackend'](this[_0x3a3853(0x22d)],_0x1a9ec6);const _0x2f61fe={};_0x2f61fe['enabled']=!![];const _0x463ae2={'workloadIdentity':_0x2f61fe,..._0x4a9799[_0x3a3853(0x30f)]};_0x38897c[_0x3a3853(0x30f)]=_0x463ae2;}}}}const _0x3b6a9c=await this[_0x3a3853(0x349)][_0x3a3853(0x2fd)][_0x3a3853(0x17d)](_0xdecc23,_0x2cb885[_0x3a3853(0x27e)]);return _0x3b6a9c['properties']['clientId'];}else _0x1ff5fb+=_0x2cb885[_0x3a3853(0x31e)](_0x5d8db9[_0x3a3853(0x29c)],0x0)?_0x2cb885[_0x3a3853(0x330)]:'',_0x4087c4[_0x3a3853(0x2c5)](_0x3a3853(0x2af)+_0x4f5a42[_0x3a3853(0x206)](_0x3e900b));}catch(_0x1cd2d1){if(_0x2cb885['vcGGj'](_0x2cb885[_0x3a3853(0x342)],_0x2cb885[_0x3a3853(0x32a)])){if(_0x2cb885[_0x3a3853(0x219)](_0x1a4ada,0x0))return _0x2cb885[_0x3a3853(0x2c3)](_0x2cb885['sATPN'],_0x2cb885[_0x3a3853(0x1c3)])?_0x5ac223[_0x3a3853(0x1ac)][_0x3a3853(0x18c)][_0x3a3853(0x189)][0x0][_0x3a3853(0x1c0)]:(logger['error'](_0x3a3853(0x1a2)+_0x1cd2d1+':'+_0x1cd2d1['stack']),{});return await new Promise(_0x2c708b=>{const _0xfb4a8=_0x3a3853,_0x33c868={'zzMJI':function(_0x2b6623,_0x5167a5){const _0x3ae3ee=a1_0x2b9c;return _0x2cb885[_0x3ae3ee(0x31e)](_0x2b6623,_0x5167a5);}};_0x2cb885[_0xfb4a8(0x28d)](_0x2cb885[_0xfb4a8(0x162)],_0x2cb885[_0xfb4a8(0x18e)])?_0x2cb885[_0xfb4a8(0x2ea)](setTimeout,()=>_0x2c708b(),0x3e8):_0x33c868[_0xfb4a8(0x351)](_0x585a09[_0xfb4a8(0x1a5)],_0x484a0c)&&(_0x2b2faf=_0x2ac67f['id']);}),this[_0x3a3853(0x202)](_0x4e3543,_0x2cb885[_0x3a3853(0x25d)](_0x1a4ada,0x1));}else return _0xd703a5[_0x3a3853(0x302)]=_0x2cb885[_0x3a3853(0x23d)],_0x283b89;}}async[a1_0x3da842(0x35b)](){const _0x5b7e3f=a1_0x3da842,_0x467148={};_0x467148[_0x5b7e3f(0x16e)]=_0x5b7e3f(0x25c),_0x467148[_0x5b7e3f(0x1a8)]=function(_0x565b27,_0xdbf55b){return _0x565b27===_0xdbf55b;},_0x467148[_0x5b7e3f(0x1dc)]=function(_0x11dc04,_0x59d222){return _0x11dc04!==_0x59d222;},_0x467148[_0x5b7e3f(0x2d2)]=_0x5b7e3f(0x19d),_0x467148['DBePm']=_0x5b7e3f(0x1ca),_0x467148[_0x5b7e3f(0x311)]=_0x5b7e3f(0x1df),_0x467148[_0x5b7e3f(0x193)]=_0x5b7e3f(0x30e);const _0x3eec87=_0x467148;!this[_0x5b7e3f(0x217)]&&(_0x3eec87[_0x5b7e3f(0x1dc)](_0x3eec87[_0x5b7e3f(0x2d2)],_0x3eec87[_0x5b7e3f(0x2d2)])?_0x2b0813[_0x5b7e3f(0x2c8)](_0x3eec87[_0x5b7e3f(0x16e)]):await this[_0x5b7e3f(0x236)]());const _0x402163=this[_0x5b7e3f(0x217)]?.[_0x5b7e3f(0x191)]||{};if(_0x402163&&_0x3eec87[_0x5b7e3f(0x1a8)](_0x402163[_0x3eec87[_0x5b7e3f(0x1c2)]],_0x3eec87[_0x5b7e3f(0x311)])){if(_0x3eec87[_0x5b7e3f(0x1dc)](_0x3eec87[_0x5b7e3f(0x193)],_0x3eec87[_0x5b7e3f(0x193)])){if(_0x3eec87['mqPPQ'](_0xc8cd0c[_0x5b7e3f(0x1a5)],_0x306a57))return!![];}else return!![];}return![];}async[a1_0x3da842(0x17a)](_0x479777,_0x5bb061){const _0x3d4b37=a1_0x3da842,_0x4638fb={'ZoPMu':function(_0x3a999f,_0x495db6){return _0x3a999f(_0x495db6);},'SRVWl':_0x3d4b37(0x273)};await _0x4638fb[_0x3d4b37(0x1d8)](deleteAgent,_0x479777),await _0x4638fb[_0x3d4b37(0x1d8)](deleteRoutingDeps,_0x479777);const _0x51cb15=this['containerClient'];logger[_0x3d4b37(0x2c8)](_0x3d4b37(0x265)+this['clusterName']),await _0x51cb15['managedClusters'][_0x3d4b37(0x332)](global_registry['cloudProviderResourceGroup'],this[_0x3d4b37(0x213)]),logger['info'](_0x4638fb[_0x3d4b37(0x24f)]);}async['updateClusterAlreadyPresent'](){const _0x50d348=a1_0x3da842,_0x4b09b5={'LHzkp':function(_0x3b31b9,_0x2001b6,_0x244529){return _0x3b31b9(_0x2001b6,_0x244529);},'VmTev':function(_0x1ee5c9,_0x4bc9b5){return _0x1ee5c9+_0x4bc9b5;},'edvyR':_0x50d348(0x1f5),'PgljJ':function(_0x5e6d73,_0x23bc8a){return _0x5e6d73-_0x23bc8a;},'RCOLV':function(_0x3ee908,_0x14cd0e){return _0x3ee908!==_0x14cd0e;},'jPIOq':_0x50d348(0x1e2),'ZTfQA':_0x50d348(0x2b8),'mNtSA':function(_0x4fe320,_0x28fea1){return _0x4fe320&&_0x28fea1;},'nOCfT':function(_0x95f9c0,_0x27b75a){return _0x95f9c0===_0x27b75a;},'Yrnzk':_0x50d348(0x1f4),'WioCZ':function(_0x3427e5,_0x5f0f47){return _0x3427e5!==_0x5f0f47;},'KKvsM':'EKOSW','JFjgQ':_0x50d348(0x208),'okIyw':_0x50d348(0x24d),'tIcQt':_0x50d348(0x223),'AcCeM':'GCjEs','hRLpx':_0x50d348(0x1c5),'RXKpd':'auhlQ','tCFCL':_0x50d348(0x20c),'ayKyI':'Enabling\x20Local\x20account\x20for\x20the\x20cluster'};!this[_0x50d348(0x217)]&&(_0x4b09b5[_0x50d348(0x356)](_0x4b09b5[_0x50d348(0x2cb)],_0x4b09b5[_0x50d348(0x1b3)])?await this[_0x50d348(0x236)]():_0x1ce835[_0x50d348(0x1ac)]=![]);const _0x549426=this[_0x50d348(0x217)],_0x519700=this['clusterInfo']?.[_0x50d348(0x309)]?.['enabled']||![],_0x300992=this[_0x50d348(0x217)]?.['securityProfile']?.[_0x50d348(0x25f)]?.[_0x50d348(0x278)]||![],_0x413f4b=!this[_0x50d348(0x217)]?.['disableLocalAccounts']||![];if(_0x4b09b5[_0x50d348(0x180)](_0x519700,_0x300992)&&_0x413f4b){if(_0x4b09b5[_0x50d348(0x2d7)](_0x4b09b5[_0x50d348(0x2c6)],_0x4b09b5[_0x50d348(0x2c6)]))return;else _0x159a82[_0x50d348(0x285)][_0x50d348(0x1e9)](_0x36c9ef);}if(!_0x519700){if(_0x4b09b5[_0x50d348(0x293)](_0x4b09b5['KKvsM'],_0x4b09b5[_0x50d348(0x259)])){logger[_0x50d348(0x2c8)](_0x4b09b5['okIyw']);const _0x7cea42={};_0x7cea42[_0x50d348(0x24a)]=WS_EVENTS[_0x50d348(0x27d)],_0x7cea42[_0x50d348(0x1f2)]=_0x4b09b5[_0x50d348(0x2ad)],this[_0x50d348(0x27a)][_0x50d348(0x283)](this['rws'],_0x7cea42),_0x549426[_0x50d348(0x309)]['enabled']=!![];}else _0x4b09b5[_0x50d348(0x1bc)](_0x4cf10c,()=>_0x1a5e88(),0x3e8);}if(!_0x300992){if(_0x4b09b5[_0x50d348(0x2d7)](_0x4b09b5[_0x50d348(0x18d)],_0x4b09b5[_0x50d348(0x1c8)]))return!![];else{logger['info'](_0x4b09b5[_0x50d348(0x21b)]);const _0x20919a={};_0x20919a[_0x50d348(0x24a)]=WS_EVENTS[_0x50d348(0x27d)],_0x20919a['message']=_0x4b09b5[_0x50d348(0x21b)],this[_0x50d348(0x27a)][_0x50d348(0x283)](this[_0x50d348(0x22d)],_0x20919a);const _0x3da07d={};_0x3da07d[_0x50d348(0x278)]=!![],_0x549426['securityProfile']={'workloadIdentity':_0x3da07d,..._0x549426['securityProfile']};}}if(!_0x413f4b){if(_0x4b09b5['RCOLV'](_0x4b09b5['RXKpd'],_0x4b09b5[_0x50d348(0x209)])){logger[_0x50d348(0x2c8)](_0x4b09b5[_0x50d348(0x237)]);const _0x19d725={};_0x19d725['type']=WS_EVENTS[_0x50d348(0x27d)],_0x19d725[_0x50d348(0x1f2)]=_0x4b09b5[_0x50d348(0x237)],this[_0x50d348(0x27a)][_0x50d348(0x283)](this['rws'],_0x19d725),_0x549426[_0x50d348(0x325)]=![];}else{const _0x4c7b9c=_0x283ed4['s3Bucket'][_0x50d348(0x2e7)]('-'),_0x2dd76c=_0x4b09b5[_0x50d348(0x2f5)](_0x4b09b5[_0x50d348(0x2d5)],_0x4c7b9c[_0x4b09b5['PgljJ'](_0x4c7b9c[_0x50d348(0x29c)],0x1)])[_0x50d348(0x16a)](0x0,0x18);return _0x2dd76c[_0x50d348(0x2f2)]();}}await this[_0x50d348(0x354)][_0x50d348(0x256)][_0x50d348(0x34e)](global_registry['cloudProviderResourceGroup'],this['clusterName'],_0x549426),await this[_0x50d348(0x236)]();}async[a1_0x3da842(0x173)](){const _0x44167c=a1_0x3da842,_0x8f919a={};_0x8f919a[_0x44167c(0x1b5)]=_0x44167c(0x1cf),_0x8f919a['XoRJt']='denied',_0x8f919a[_0x44167c(0x1bb)]=function(_0x5595f4,_0x1b6031){return _0x5595f4!==_0x1b6031;},_0x8f919a[_0x44167c(0x288)]=_0x44167c(0x2aa),_0x8f919a[_0x44167c(0x33d)]=_0x44167c(0x2a2);const _0x2c139f=_0x8f919a,_0x397c00=await this[_0x44167c(0x2e3)]['virtualNetworks'][_0x44167c(0x1f8)](global_registry[_0x44167c(0x1bf)]),_0x2b663b={};_0x2b663b[_0x44167c(0x263)]=global_registry[_0x44167c(0x22b)],_0x2b663b[_0x44167c(0x344)]=global_registry[_0x44167c(0x1e5)],_0x2b663b[_0x44167c(0x2ff)]=AZURE,_0x2b663b[_0x44167c(0x285)]=[];const _0x15b1d5=_0x2b663b;for await(const _0x26eb19 of _0x397c00){if(_0x2c139f[_0x44167c(0x1bb)](_0x2c139f[_0x44167c(0x288)],_0x2c139f[_0x44167c(0x33d)]))_0x15b1d5[_0x44167c(0x285)][_0x44167c(0x1e9)](_0x26eb19);else{const _0x3f7903=_0x25de4a[_0x44167c(0x1aa)](_0x3d02a4);_0x1bf058+='\x0a\x09'+_0x5d5221+':\x20'+(_0x3f7903?_0x2c139f[_0x44167c(0x1b5)]:_0x2c139f[_0x44167c(0x290)]),!_0x3f7903&&(_0x54d483[_0x44167c(0x1ac)]=![]);}}const _0x4145e7={};_0x4145e7[_0x44167c(0x24a)]=WS_EVENTS[_0x44167c(0x27d)],_0x4145e7[_0x44167c(0x1f2)]=_0x15b1d5,this[_0x44167c(0x27a)][_0x44167c(0x283)](this[_0x44167c(0x22d)],_0x4145e7);}async[a1_0x3da842(0x34c)](_0x4f4291){const _0x258bc3=a1_0x3da842,_0x3ff682={};_0x3ff682[_0x258bc3(0x241)]=_0x258bc3(0x27b),_0x3ff682[_0x258bc3(0x2da)]='Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.',_0x3ff682[_0x258bc3(0x2cd)]=_0x258bc3(0x1ab),_0x3ff682[_0x258bc3(0x1ae)]=_0x258bc3(0x2be),_0x3ff682[_0x258bc3(0x210)]=function(_0xbc123f,_0x25a780){return _0xbc123f===_0x25a780;},_0x3ff682['tfyen']=_0x258bc3(0x32d),_0x3ff682[_0x258bc3(0x177)]=function(_0x35271b,_0x2e6e33){return _0x35271b!==_0x2e6e33;},_0x3ff682[_0x258bc3(0x1a4)]=_0x258bc3(0x272),_0x3ff682['INFGX']='nmIUS',_0x3ff682[_0x258bc3(0x242)]=_0x258bc3(0x21d),_0x3ff682[_0x258bc3(0x190)]=_0x258bc3(0x179);const _0x3b43b3=_0x3ff682;try{if(_0x3b43b3['wazZi'](_0x3b43b3['tfyen'],_0x3b43b3[_0x258bc3(0x2bd)])){const _0x31e316=await this['networkClient'][_0x258bc3(0x1ad)][_0x258bc3(0x1f8)](global_registry['cloudProviderResourceGroup']);for await(const _0x591231 of _0x31e316){if(_0x3b43b3[_0x258bc3(0x177)](_0x3b43b3[_0x258bc3(0x1a4)],_0x3b43b3[_0x258bc3(0x1a4)])){const _0x39ca33={};_0x39ca33['type']=_0x3b43b3[_0x258bc3(0x241)],_0x39ca33[_0x258bc3(0x160)]={},_0x39ca33[_0x258bc3(0x160)][_0x258bc3(0x30d)]=_0x3b43b3[_0x258bc3(0x2da)];const _0x1c30bc={};_0x1c30bc[_0x258bc3(0x24a)]=_0x3b43b3[_0x258bc3(0x241)],_0x1c30bc[_0x258bc3(0x160)]={},_0x1c30bc[_0x258bc3(0x160)][_0x258bc3(0x30d)]=_0x3b43b3['JhwEw'];const _0x2bc427={..._0x46cbdc['parameters']};_0x2bc427[_0x258bc3(0x341)]=_0x39ca33,_0x2bc427[_0x258bc3(0x298)]=_0x1c30bc,_0x5194fd[_0x258bc3(0x2d1)]=_0x2bc427;const _0x2f6a14={};_0x2f6a14[_0x258bc3(0x28a)]=_0x3b43b3[_0x258bc3(0x2cd)],_0x48aca3[_0x258bc3(0x1eb)]=_0x2f6a14;const _0x51f203={..._0x43e27d[_0x258bc3(0x2fd)][0x0][_0x258bc3(0x2bb)][_0x258bc3(0x2a4)][0x0]};_0x51f203['vnetSubnetID']=_0x3b43b3[_0x258bc3(0x1ae)],_0x5218b4[_0x258bc3(0x2fd)][0x0]['properties'][_0x258bc3(0x2a4)][0x0]=_0x51f203;const _0x884069={};_0x884069['value']=_0x389fea;const _0x5732cc={};_0x5732cc['value']=_0x1ad0c4[0x0];const _0x12fd60={..._0x31572a};_0x12fd60['vpcName']=_0x884069,_0x12fd60[_0x258bc3(0x298)]=_0x5732cc,_0xc06e87=_0x12fd60;}else{if(_0x3b43b3[_0x258bc3(0x210)](_0x591231['name'],_0x4f4291)){if(_0x3b43b3[_0x258bc3(0x177)](_0x3b43b3[_0x258bc3(0x31b)],_0x3b43b3['INFGX']))_0x34fb8d[_0x258bc3(0x2f4)](0x0);else return!![];}}}}else return _0x49d30f[_0x258bc3(0x28b)]=_0x4c3ee7[_0x258bc3(0x28b)],_0x3af916;}catch(_0x34a98e){return _0x3b43b3['wazZi'](_0x3b43b3[_0x258bc3(0x242)],_0x3b43b3['vMUaV'])?!![]:(logger[_0x258bc3(0x28b)](_0x258bc3(0x1e4)+_0x4f4291+_0x258bc3(0x2fc)+_0x34a98e),![]);}return![];}async['isSubnetsValid'](_0x363802,_0x20208c){const _0x22c78d=a1_0x3da842,_0x8dc92f={};_0x8dc92f[_0x22c78d(0x1f9)]=_0x22c78d(0x24d),_0x8dc92f[_0x22c78d(0x195)]=function(_0x146218,_0x204394){return _0x146218!==_0x204394;},_0x8dc92f['zatNc']=_0x22c78d(0x16f),_0x8dc92f[_0x22c78d(0x33e)]=_0x22c78d(0x2d3),_0x8dc92f['ykTOB']=function(_0x5e6077,_0x1bbda0){return _0x5e6077===_0x1bbda0;},_0x8dc92f[_0x22c78d(0x31f)]=_0x22c78d(0x2c0),_0x8dc92f['IWcOD']='ajvEm';const _0x3bf54a=_0x8dc92f;try{if(_0x3bf54a[_0x22c78d(0x195)](_0x3bf54a[_0x22c78d(0x313)],_0x3bf54a[_0x22c78d(0x33e)])){const _0x2c6186=await this[_0x22c78d(0x2e3)][_0x22c78d(0x2fa)]['get'](global_registry['cloudProviderResourceGroup'],_0x20208c,_0x363802[0x0]);if(_0x3bf54a['ykTOB'](_0x363802[0x0],_0x2c6186[_0x22c78d(0x1a5)])){if(_0x3bf54a[_0x22c78d(0x338)](_0x3bf54a[_0x22c78d(0x31f)],_0x3bf54a[_0x22c78d(0x196)]))_0x4e8f2a['push'](_0x1e4413);else return[!![],_0x363802];}}else{_0x3339df[_0x22c78d(0x2c8)](_0x3bf54a[_0x22c78d(0x1f9)]);const _0x8b54a3={};_0x8b54a3['type']=_0x3e42a8[_0x22c78d(0x27d)],_0x8b54a3['message']=_0x3bf54a[_0x22c78d(0x1f9)],this[_0x22c78d(0x27a)][_0x22c78d(0x283)](this[_0x22c78d(0x22d)],_0x8b54a3),_0x3cdef4[_0x22c78d(0x309)][_0x22c78d(0x278)]=!![];}}catch(_0x185c49){return logger[_0x22c78d(0x28b)]('Cannot\x20find\x20subnets\x20'+_0x363802+_0x22c78d(0x1a6)+_0x185c49),[![],[]];}return[![],[]];}async[a1_0x3da842(0x1a3)](){const _0x434321=a1_0x3da842,_0x43dff0={};_0x43dff0[_0x434321(0x2df)]=_0x434321(0x312);const _0x168ce9=_0x43dff0,_0x45c911={};_0x45c911[_0x434321(0x1ac)]=!![],_0x45c911[_0x434321(0x28b)]=null,_0x45c911[_0x434321(0x302)]=_0x168ce9[_0x434321(0x2df)];const _0x63efd9=_0x45c911;return _0x63efd9;}async[a1_0x3da842(0x28f)](){const _0x53b9ed=a1_0x3da842,_0x2adf8a={};_0x2adf8a[_0x53b9ed(0x182)]=_0x53b9ed(0x287),_0x2adf8a[_0x53b9ed(0x192)]='GET',_0x2adf8a['xpNRJ']='application/json';const _0x3618f4=_0x2adf8a,_0xe8a07f=await this[_0x53b9ed(0x22a)][_0x53b9ed(0x1dd)](_0x3618f4[_0x53b9ed(0x182)]),_0x406b25={};_0x406b25[_0x53b9ed(0x2fe)]=_0x3618f4[_0x53b9ed(0x192)],_0x406b25[_0x53b9ed(0x2cf)]={},_0x406b25[_0x53b9ed(0x2cf)]['Authorization']=_0x53b9ed(0x303)+_0xe8a07f[_0x53b9ed(0x1d3)],_0x406b25[_0x53b9ed(0x2cf)][_0x53b9ed(0x19e)]=_0x3618f4[_0x53b9ed(0x289)];const _0xcc528c=_0x406b25;return _0xcc528c;}async[a1_0x3da842(0x316)](_0x4c55ac){const _0x1efea9=a1_0x3da842,_0x595147={'XCBfA':function(_0x5006bc,_0x2add89,_0x42f88f){return _0x5006bc(_0x2add89,_0x42f88f);},'mtiDm':function(_0x29a324,_0x45e1ef){return _0x29a324===_0x45e1ef;},'VPetb':_0x1efea9(0x29b)},_0x21fac9={};_0x21fac9[_0x1efea9(0x2c2)]='',_0x21fac9['error']=null;const _0x40ac1b=_0x21fac9;try{const _0x383b91='https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27'+_0x4c55ac+'\x27',_0x61ea8d=await this[_0x1efea9(0x28f)](),_0x30850e=await _0x595147[_0x1efea9(0x1bd)](fetch,_0x383b91,_0x61ea8d),_0x7b8d12=await _0x30850e[_0x1efea9(0x353)]();if(!_0x7b8d12['value']||_0x595147[_0x1efea9(0x270)](_0x7b8d12[_0x1efea9(0x200)][_0x1efea9(0x29c)],0x0))throw new Error(_0x595147['VPetb'],_0x1efea9(0x1a9)+JSON[_0x1efea9(0x206)](_0x7b8d12));_0x40ac1b[_0x1efea9(0x2c2)]=_0x7b8d12[_0x1efea9(0x200)][0x0]['id'];}catch(_0x432d57){_0x40ac1b[_0x1efea9(0x28b)]=_0x432d57;}return _0x40ac1b;}async[a1_0x3da842(0x20d)](){const _0x19a669=a1_0x3da842,_0x40f351={};_0x40f351[_0x19a669(0x327)]='allowed',_0x40f351[_0x19a669(0x161)]='denied',_0x40f351['nrZoz']=function(_0x552aae,_0x53b7a2){return _0x552aae!==_0x53b7a2;},_0x40f351['rnjVJ']=function(_0x21b2b8,_0x226c7a){return _0x21b2b8===_0x226c7a;},_0x40f351['WvpOL']=_0x19a669(0x1d0),_0x40f351['LRpvR']=function(_0x1fa5d6,_0x23a0db){return _0x1fa5d6===_0x23a0db;},_0x40f351[_0x19a669(0x21a)]=_0x19a669(0x248),_0x40f351[_0x19a669(0x2d6)]='Action\x20permission\x20list\x20is\x20empty\x0a';const _0x26eec7=_0x40f351,_0x8094ba={};_0x8094ba[_0x19a669(0x1ac)]=![],_0x8094ba[_0x19a669(0x28b)]=null,_0x8094ba['data']='';const _0x1754cb=_0x8094ba;try{let _0xd6f57e='';const _0x46b4b9=_0x19a669(0x2ba)+global_registry[_0x19a669(0x337)]+'/resourceGroups/'+global_registry[_0x19a669(0x1bf)],_0x308d25=await this[_0x19a669(0x316)](global_registry['cloudProviderClientId']);if(_0x26eec7['nrZoz'](_0x308d25[_0x19a669(0x28b)],null))return _0x1754cb[_0x19a669(0x28b)]=_0x308d25[_0x19a669(0x28b)],_0x1754cb;const _0x171881='assignedTo(\x27'+_0x308d25[_0x19a669(0x2c2)]+'\x27)',_0x430d21={};_0x430d21[_0x19a669(0x26a)]=_0x171881;const _0x1269b2=await this[_0x19a669(0x2ab)][_0x19a669(0x252)][_0x19a669(0x245)](_0x46b4b9,_0x430d21),_0x28c371=[];for await(const _0x5ad5f2 of _0x1269b2){_0x28c371[_0x19a669(0x1e9)](_0x5ad5f2);}if(_0x26eec7[_0x19a669(0x28e)](_0x28c371[_0x19a669(0x29c)],0x0))return _0x1754cb[_0x19a669(0x302)]=_0x26eec7[_0x19a669(0x299)],_0x1754cb;const _0x20b107=[...new Set(_0x28c371[_0x19a669(0x1ff)](_0x5df3f0=>_0x5df3f0[_0x19a669(0x1b0)]))];if(_0x26eec7[_0x19a669(0x275)](_0x20b107[_0x19a669(0x29c)],0x0))return _0x1754cb[_0x19a669(0x302)]=_0x26eec7['nNEny'],_0x1754cb;const _0x4682f7=[],_0x431664=[];for(const _0x506c3c of _0x20b107){const _0x4909b0=await this[_0x19a669(0x2ab)]['roleDefinitions']['getById'](_0x506c3c);logger[_0x19a669(0x2c5)]('role\x20name\x20attached\x20-\x20'+_0x4909b0[_0x19a669(0x239)]),_0x4682f7[_0x19a669(0x1e9)](_0x4909b0),logger[_0x19a669(0x2c5)](_0x19a669(0x297)+JSON[_0x19a669(0x206)](_0x4909b0['permissions'])),_0x4909b0['permissions'][_0x19a669(0x25a)](_0x56fbe8=>{const _0x443564=_0x19a669;_0x431664[_0x443564(0x1e9)](..._0x56fbe8['actions']);});}logger[_0x19a669(0x2c5)]('actionPermission\x20:\x20'+JSON['stringify'](_0x431664)),_0x26eec7[_0x19a669(0x275)](_0x431664[_0x19a669(0x29c)],0x0)&&(_0xd6f57e+=_0x26eec7['rnjVJ'](_0x431664['length'],0x0)?_0x26eec7[_0x19a669(0x2d6)]:'',logger['debug'](_0x19a669(0x2af)+JSON[_0x19a669(0x206)](_0x4682f7))),_0x1754cb[_0x19a669(0x1ac)]=!![],Object[_0x19a669(0x33c)](PERMISSIONS['ACTION'])['forEach'](([_0x180858,_0x39dd5d])=>{const _0x40fd9c=_0x19a669,_0x55af8c=_0x431664[_0x40fd9c(0x1aa)](_0x180858);_0xd6f57e+='\x0a\x09'+_0x39dd5d+':\x20'+(_0x55af8c?_0x26eec7[_0x40fd9c(0x327)]:_0x26eec7[_0x40fd9c(0x161)]),!_0x55af8c&&(_0x1754cb[_0x40fd9c(0x1ac)]=![]);}),_0x1754cb[_0x19a669(0x302)]=_0xd6f57e;}catch(_0x2c948d){_0x1754cb[_0x19a669(0x28b)]=_0x2c948d;}return _0x1754cb;}}const a1_0x544983={};a1_0x544983[a1_0x3da842(0x1fa)]=AzureCloudProvider,module[a1_0x3da842(0x2d4)]=a1_0x544983;