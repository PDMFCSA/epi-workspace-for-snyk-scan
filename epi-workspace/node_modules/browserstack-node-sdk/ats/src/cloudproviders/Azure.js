const a1_0x32a0a0=a1_0x49f6;(function(_0x2708c9,_0x20c3e7){const _0x360c17=a1_0x49f6,_0x3da813=_0x2708c9();while(!![]){try{const _0x5a05bc=parseInt(_0x360c17(0x2b4))/0x1*(parseInt(_0x360c17(0x25d))/0x2)+parseInt(_0x360c17(0x3b9))/0x3+-parseInt(_0x360c17(0x3d2))/0x4*(-parseInt(_0x360c17(0x372))/0x5)+-parseInt(_0x360c17(0x268))/0x6+-parseInt(_0x360c17(0x237))/0x7+-parseInt(_0x360c17(0x307))/0x8+parseInt(_0x360c17(0x267))/0x9;if(_0x5a05bc===_0x20c3e7)break;else _0x3da813['push'](_0x3da813['shift']());}catch(_0x4efb94){_0x3da813['push'](_0x3da813['shift']());}}}(a1_0x546c,0x4e0bf));const fs=require('fs'),path=require(a1_0x32a0a0(0x34e)),yaml=require(a1_0x32a0a0(0x20f)),{logger}=require(a1_0x32a0a0(0x241)),{CloudProvider}=require(a1_0x32a0a0(0x37a)),{deleteRoutingDeps,deleteAgent}=require('../utils/gridComponents'),{AZURE,WS_EVENTS,global_registry}=require(a1_0x32a0a0(0x2ba)),PERMISSIONS=require('../permissions/AZURE.json'),{ClientSecretCredential}=require(a1_0x32a0a0(0x2b2)),{NetworkManagementClient}=require(a1_0x32a0a0(0x260)),{StorageManagementClient}=require(a1_0x32a0a0(0x381)),{AuthorizationManagementClient}=require(a1_0x32a0a0(0x2a7)),{ResourceManagementClient}=require(a1_0x32a0a0(0x282)),{ContainerServiceClient}=require(a1_0x32a0a0(0x1f8)),{runCommand}=require('../utils/utilityMethods');class AzureCloudProvider extends CloudProvider{constructor(_0x3e15f0,_0x24db2e,_0x3252a0,_0x58f243){const _0x1f4a16=a1_0x32a0a0,_0x12a83b={};_0x12a83b[_0x1f4a16(0x27c)]='7|2|5|6|4|1|3|0';const _0x17fe8e=_0x12a83b,_0x1a3e73=_0x17fe8e[_0x1f4a16(0x27c)][_0x1f4a16(0x3d9)]('|');let _0x700769=0x0;while(!![]){switch(_0x1a3e73[_0x700769++]){case'0':this[_0x1f4a16(0x2bc)]=null;continue;case'1':this[_0x1f4a16(0x1f2)]=null;continue;case'2':this[_0x1f4a16(0x30b)]=null;continue;case'3':this['networkClient']=null;continue;case'4':this[_0x1f4a16(0x379)]=null;continue;case'5':this[_0x1f4a16(0x384)]=null;continue;case'6':this[_0x1f4a16(0x2b0)]=null;continue;case'7':super(AZURE,_0x3e15f0,_0x24db2e,_0x3252a0,_0x58f243);continue;}break;}}async[a1_0x32a0a0(0x3cf)](){const _0x4fe6df=a1_0x32a0a0;return await super[_0x4fe6df(0x3cf)](),this;}[a1_0x32a0a0(0x345)](){const _0x91648e=a1_0x32a0a0,_0x50f079=new ClientSecretCredential(global_registry[_0x91648e(0x3b8)],global_registry[_0x91648e(0x2c5)],global_registry['cloudProviderClientSecret']);this['containerClient']=new ContainerServiceClient(_0x50f079,global_registry[_0x91648e(0x344)]),this[_0x91648e(0x379)]=new StorageManagementClient(_0x50f079,global_registry[_0x91648e(0x344)]),this[_0x91648e(0x1f2)]=new ResourceManagementClient(_0x50f079,global_registry[_0x91648e(0x344)]),this[_0x91648e(0x23d)]=new NetworkManagementClient(_0x50f079,global_registry[_0x91648e(0x344)]),this[_0x91648e(0x2bc)]=new AuthorizationManagementClient(_0x50f079,global_registry[_0x91648e(0x344)]),this[_0x91648e(0x30b)]=_0x50f079;}[a1_0x32a0a0(0x36f)](){const _0xf9baf3=a1_0x32a0a0,_0x42864c={};_0x42864c['FcirV']=function(_0x423e80,_0x598507){return _0x423e80+_0x598507;},_0x42864c[_0xf9baf3(0x3bf)]=_0xf9baf3(0x2af),_0x42864c['WgevX']=function(_0x2aa6d6,_0x1b7f31){return _0x2aa6d6-_0x1b7f31;};const _0x18455f=_0x42864c,_0x53748a=global_registry[_0xf9baf3(0x285)]['split']('-'),_0x288e6a=_0x18455f['FcirV'](_0x18455f['feRIt'],_0x53748a[_0x18455f['WgevX'](_0x53748a[_0xf9baf3(0x233)],0x1)])[_0xf9baf3(0x257)](0x0,0x18);return _0x288e6a[_0xf9baf3(0x2d1)]();}[a1_0x32a0a0(0x22c)](_0x61bf10){const _0x2c8ccb=a1_0x32a0a0,_0x122d01={};_0x122d01[_0x2c8ccb(0x3be)]=_0x2c8ccb(0x33b);const _0x1389f3=_0x122d01,_0x358f1a=_0x1389f3[_0x2c8ccb(0x3be)][_0x2c8ccb(0x3d9)]('|');let _0x23f571=0x0;while(!![]){switch(_0x358f1a[_0x23f571++]){case'0':this[_0x2c8ccb(0x345)]();continue;case'1':global_registry[_0x2c8ccb(0x2a3)]=_0x61bf10[this[_0x2c8ccb(0x310)]][_0x2c8ccb(0x208)];continue;case'2':global_registry[_0x2c8ccb(0x2c5)]=_0x61bf10[this[_0x2c8ccb(0x310)]]['clientId'];continue;case'3':global_registry[_0x2c8ccb(0x344)]=_0x61bf10[this[_0x2c8ccb(0x310)]][_0x2c8ccb(0x25e)];continue;case'4':global_registry['cloudProviderClientSecret']=_0x61bf10[this[_0x2c8ccb(0x310)]][_0x2c8ccb(0x220)];continue;case'5':global_registry[_0x2c8ccb(0x3b8)]=_0x61bf10[this[_0x2c8ccb(0x310)]][_0x2c8ccb(0x24f)];continue;}break;}}async[a1_0x32a0a0(0x35d)](_0x26ede6,_0x4e7ab8){const _0x23c4c1=a1_0x32a0a0,_0x3f9756={'nmOgQ':_0x23c4c1(0x3b5),'UYHvU':'Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','CcoVF':function(_0x230d82,_0x80628d){return _0x230d82+_0x80628d;},'yTWYT':'turboscale','YAsWH':function(_0x5d0f54,_0x4f6cd4){return _0x5d0f54-_0x4f6cd4;},'AWWqG':function(_0x2ee775,_0x4b5701){return _0x2ee775(_0x4b5701);},'dhuha':function(_0xc303a7,_0xc50121){return _0xc303a7===_0xc50121;},'yITEf':function(_0x5a902c,_0x48c8da){return _0x5a902c!==_0x48c8da;},'svSeB':_0x23c4c1(0x2ed),'vvVqu':_0x23c4c1(0x394),'JUSen':function(_0x1f69b9,_0x52ef4f){return _0x1f69b9(_0x52ef4f);},'MljoO':function(_0x30c0c5,_0x24a6f1){return _0x30c0c5===_0x24a6f1;},'hOSPT':function(_0x34652e,_0x49b938){return _0x34652e===_0x49b938;},'wtXqJ':'znVUY','JYeJB':function(_0x1c650e,_0x373c14){return _0x1c650e===_0x373c14;},'CVtQv':function(_0x26068d,_0xfe291e){return _0x26068d===_0xfe291e;},'fiEMp':function(_0x20812d,_0x42ac0f){return _0x20812d===_0x42ac0f;},'DCTHZ':function(_0x44fe18,_0xd54e8f){return _0x44fe18===_0xd54e8f;},'wMQtD':_0x23c4c1(0x3db),'HHvNR':function(_0x103d42,_0x357b75){return _0x103d42!==_0x357b75;},'oVyAo':_0x23c4c1(0x20a),'sRjuv':'NyUjR','srmaN':function(_0x552f58,_0x47ba25){return _0x552f58<_0x47ba25;},'WfTkH':_0x23c4c1(0x223),'ghedK':function(_0x51a7f9,_0x3a1b56){return _0x51a7f9(_0x3a1b56);},'EDFQS':_0x23c4c1(0x298),'DvlOy':function(_0x42bcf2,_0x39e452){return _0x42bcf2(_0x39e452);},'leZXn':function(_0x2c2693,_0x53668a){return _0x2c2693(_0x53668a);},'CVxUh':function(_0x2eed2c,_0x3b2ecd){return _0x2eed2c<=_0x3b2ecd;},'kgIwb':function(_0x231f9b,_0x570af9){return _0x231f9b>_0x570af9;},'AYjnN':_0x23c4c1(0x3c6)},_0x5244c0=this[_0x23c4c1(0x310)][_0x23c4c1(0x369)](),_0x58331a=await _0x3f9756[_0x23c4c1(0x3ac)](_0x26ede6,_0x5244c0+_0x23c4c1(0x318)),_0x61db1a=await _0x3f9756[_0x23c4c1(0x3ac)](_0x26ede6,_0x5244c0+_0x23c4c1(0x276)),_0x2876aa=await _0x3f9756[_0x23c4c1(0x3ac)](_0x26ede6,_0x5244c0+_0x23c4c1(0x2ec)),_0x240e79=await _0x3f9756[_0x23c4c1(0x3ac)](_0x26ede6,_0x5244c0+_0x23c4c1(0x253));global_registry['cloudProviderClientId']=_0x58331a,global_registry['cloudProviderClientSecret']=_0x61db1a,global_registry['cloudProviderTenantId']=_0x2876aa,global_registry[_0x23c4c1(0x344)]=_0x240e79,this[_0x23c4c1(0x345)]();const _0x1c8bb4=await this[_0x23c4c1(0x365)](),_0x4f707a=_0x1c8bb4[_0x23c4c1(0x233)];let _0x27f920;if(_0x3f9756[_0x23c4c1(0x2c0)](_0x4f707a,0x0))_0x3f9756[_0x23c4c1(0x301)](_0x3f9756[_0x23c4c1(0x2a5)],_0x3f9756[_0x23c4c1(0x2e7)])?_0x27f920=await _0x3f9756[_0x23c4c1(0x2cf)](_0x26ede6,_0x5244c0+_0x23c4c1(0x33c)):(_0x1a1398['error'](_0x3f9756['nmOgQ']),_0x153480[_0x23c4c1(0x28f)](0x1));else{if(_0x3f9756[_0x23c4c1(0x283)](_0x4f707a,0x1)){if(_0x3f9756['hOSPT'](_0x3f9756[_0x23c4c1(0x2e0)],_0x3f9756[_0x23c4c1(0x2e0)])){const _0x338b83=await _0x3f9756[_0x23c4c1(0x2cf)](_0x26ede6,_0x23c4c1(0x331)+_0x1c8bb4[0x0]+'\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20');if(_0x3f9756[_0x23c4c1(0x323)](_0x338b83,undefined)||_0x3f9756[_0x23c4c1(0x2e3)](_0x338b83,null)||!(_0x3f9756['fiEMp'](_0x338b83[_0x23c4c1(0x2d1)](),'y')||_0x3f9756[_0x23c4c1(0x34b)](_0x338b83[_0x23c4c1(0x2d1)](),'n'))){if(_0x3f9756['dhuha'](_0x3f9756[_0x23c4c1(0x269)],_0x3f9756[_0x23c4c1(0x269)]))console[_0x23c4c1(0x264)](_0x3f9756[_0x23c4c1(0x36a)]),process[_0x23c4c1(0x28f)](0x1);else{_0x342e9d[_0x23c4c1(0x3a5)](_0x3f9756['UYHvU']);const _0x302951={};_0x302951[_0x23c4c1(0x391)]=_0xa55fdd[_0x23c4c1(0x3c5)],_0x302951[_0x23c4c1(0x3bb)]=_0x3f9756['UYHvU'],this[_0x23c4c1(0x244)][_0x23c4c1(0x1fa)](this[_0x23c4c1(0x3b4)],_0x302951),_0x470655[_0x23c4c1(0x252)][_0x23c4c1(0x341)]=!![];}}_0x3f9756[_0x23c4c1(0x283)](_0x338b83[_0x23c4c1(0x2d1)](),'n')&&(_0x3f9756[_0x23c4c1(0x2ce)](_0x3f9756['oVyAo'],_0x3f9756['oVyAo'])?_0x4d1af7['exit'](0x0):process[_0x23c4c1(0x28f)](0x0)),_0x27f920=_0x1c8bb4[0x0];}else _0x51b0c3['status']=![];}else{if(_0x3f9756[_0x23c4c1(0x301)](_0x3f9756[_0x23c4c1(0x361)],_0x3f9756[_0x23c4c1(0x361)]))_0x2a110f[_0x23c4c1(0x279)](_0x59f7e1['name']);else{for(let _0x1a3707=0x0;_0x3f9756[_0x23c4c1(0x338)](_0x1a3707,_0x1c8bb4[_0x23c4c1(0x233)]);_0x1a3707+=0x1){if(_0x3f9756[_0x23c4c1(0x301)](_0x3f9756[_0x23c4c1(0x29d)],_0x3f9756['WfTkH'])){const _0x59aa8a=_0x3d9b05[_0x23c4c1(0x285)][_0x23c4c1(0x3d9)]('-'),_0x297637=_0x3f9756[_0x23c4c1(0x255)](_0x3f9756['yTWYT'],_0x59aa8a[_0x3f9756[_0x23c4c1(0x2b5)](_0x59aa8a[_0x23c4c1(0x233)],0x1)])[_0x23c4c1(0x257)](0x0,0x18);return _0x297637[_0x23c4c1(0x2d1)]();}else console['log']('['+_0x3f9756[_0x23c4c1(0x255)](_0x1a3707,0x1)+']\x20'+_0x1c8bb4[_0x1a3707]);}const _0x14be45=await _0x3f9756['ghedK'](_0x26ede6,_0x3f9756[_0x23c4c1(0x2a9)]),_0x1c6b1b=_0x3f9756[_0x23c4c1(0x2f4)](Number,_0x14be45);(_0x3f9756[_0x23c4c1(0x201)](isNaN,_0x1c6b1b)||_0x3f9756[_0x23c4c1(0x356)](_0x1c6b1b,0x0)||_0x3f9756[_0x23c4c1(0x271)](_0x1c6b1b,_0x4f707a))&&(_0x3f9756['yITEf'](_0x3f9756[_0x23c4c1(0x2d2)],_0x3f9756[_0x23c4c1(0x2d2)])?(_0x5016f6[_0x23c4c1(0x264)](_0x3f9756['nmOgQ']),_0x4b9a51[_0x23c4c1(0x28f)](0x1)):(console[_0x23c4c1(0x264)](_0x3f9756[_0x23c4c1(0x36a)]),process['exit'](0x1))),_0x27f920=_0x1c8bb4[_0x3f9756['YAsWH'](_0x1c6b1b,0x1)];}}}global_registry[_0x23c4c1(0x2a3)]=_0x27f920;const _0x49b81a={};return _0x49b81a[_0x23c4c1(0x2da)]=_0x58331a,_0x49b81a[_0x23c4c1(0x220)]=_0x61db1a,_0x49b81a[_0x23c4c1(0x24f)]=_0x2876aa,_0x49b81a[_0x23c4c1(0x25e)]=_0x240e79,_0x49b81a[_0x23c4c1(0x208)]=_0x27f920,_0x4e7ab8[_0x23c4c1(0x31c)][AZURE]=_0x49b81a,_0x4e7ab8;}async['getResourceGroups'](){const _0x4205e7=a1_0x32a0a0,_0x2a77c4={'KPLeP':function(_0x3c01b3,_0x560704,_0x38f374){return _0x3c01b3(_0x560704,_0x38f374);},'aVyyC':function(_0x1e93cc,_0x140b91){return _0x1e93cc!==_0x140b91;},'SPhLA':_0x4205e7(0x22d),'jzPXB':function(_0x20beab,_0x1cdc7e){return _0x20beab!==_0x1cdc7e;},'SBHYP':_0x4205e7(0x27d),'AHbRZ':'ZWNzo'},_0x5f124a=[];try{if(_0x2a77c4[_0x4205e7(0x346)](_0x2a77c4[_0x4205e7(0x397)],_0x2a77c4[_0x4205e7(0x397)]))return _0x1c06ba[_0x4205e7(0x264)]=_0x5f04b0['error'],_0x693813;else{const _0x54919c=await this['resourceClient'][_0x4205e7(0x324)]['list']();for await(const _0x66ef2d of _0x54919c){_0x2a77c4[_0x4205e7(0x2d9)](_0x2a77c4[_0x4205e7(0x2f0)],_0x2a77c4[_0x4205e7(0x24c)])?_0x5f124a[_0x4205e7(0x279)](_0x66ef2d[_0x4205e7(0x2aa)]):_0x2a77c4[_0x4205e7(0x3a2)](_0x4f8e3f,()=>_0x4b2054(),0x3e8);}}}catch(_0x537215){}return _0x5f124a;}async[a1_0x32a0a0(0x215)](){const _0x1ddfca=a1_0x32a0a0;return this[_0x1ddfca(0x384)]=await this['containerClient'][_0x1ddfca(0x2b1)][_0x1ddfca(0x23e)](global_registry[_0x1ddfca(0x2a3)],this[_0x1ddfca(0x33e)]),this[_0x1ddfca(0x384)];}async['getKubeConfigData'](){const _0x5a1ac6=a1_0x32a0a0,_0x3d0159=await this[_0x5a1ac6(0x2b0)][_0x5a1ac6(0x2b1)][_0x5a1ac6(0x262)](global_registry[_0x5a1ac6(0x2a3)],this[_0x5a1ac6(0x33e)]),_0xdd82b3=_0x3d0159[_0x5a1ac6(0x239)][0x0]['value'][_0x5a1ac6(0x34c)]();return _0xdd82b3;}[a1_0x32a0a0(0x368)](_0xe6ed16){const _0x5531ab=a1_0x32a0a0;return _0xe6ed16[_0x5531ab(0x2df)][_0x5531ab(0x3ce)][_0x5531ab(0x2f2)][0x0][_0x5531ab(0x32a)];}async[a1_0x32a0a0(0x3a7)](){const _0x2de949=a1_0x32a0a0,_0x22e44b={};_0x22e44b['JAcQS']=function(_0xde0a44,_0x397f29){return _0xde0a44===_0x397f29;},_0x22e44b['eoHQT']=function(_0x222f1d,_0x3f3c7f){return _0x222f1d===_0x3f3c7f;},_0x22e44b[_0x2de949(0x280)]='WfTJg',_0x22e44b[_0x2de949(0x396)]=_0x2de949(0x37c),_0x22e44b[_0x2de949(0x387)]=function(_0x49696e,_0x326a5f){return _0x49696e===_0x326a5f;},_0x22e44b[_0x2de949(0x378)]='kFsGT',_0x22e44b[_0x2de949(0x28b)]=_0x2de949(0x373),_0x22e44b[_0x2de949(0x366)]=function(_0x7b1141,_0x11a409){return _0x7b1141===_0x11a409;},_0x22e44b[_0x2de949(0x2e1)]=function(_0x3ccf1f,_0xbf0714){return _0x3ccf1f!==_0xbf0714;},_0x22e44b[_0x2de949(0x1fd)]=_0x2de949(0x31f),_0x22e44b['gzoca']=_0x2de949(0x231);const _0x4a4a3d=_0x22e44b,_0x2dea86=new Array();for await(const _0x30dfc6 of this[_0x2de949(0x2b0)][_0x2de949(0x2b1)]['listByResourceGroup'](global_registry[_0x2de949(0x2a3)])){_0x4a4a3d[_0x2de949(0x35b)](_0x4a4a3d[_0x2de949(0x280)],_0x4a4a3d[_0x2de949(0x396)])?_0x427bdd[_0x2de949(0x279)](_0x4c5888):_0x2dea86['push'](_0x30dfc6);}for await(const _0x1d5134 of _0x2dea86){if(_0x4a4a3d[_0x2de949(0x387)](_0x4a4a3d[_0x2de949(0x378)],_0x4a4a3d[_0x2de949(0x28b)]))return!![];else{if(_0x4a4a3d[_0x2de949(0x366)](_0x1d5134[_0x2de949(0x2aa)],this[_0x2de949(0x33e)])){if(_0x4a4a3d[_0x2de949(0x2e1)](_0x4a4a3d[_0x2de949(0x1fd)],_0x4a4a3d['gzoca']))return await this[_0x2de949(0x215)](),!![];else{if(_0x4a4a3d[_0x2de949(0x26d)](_0x65de95[_0x2de949(0x2aa)],_0x7fc748))return!![];}}}}return![];}async['setupNewCluster'](_0x350d=null,_0x343dfd=null){const _0x351921=a1_0x32a0a0,_0x300793={};_0x300793['bwwgV']=_0x351921(0x306),_0x300793[_0x351921(0x3c1)]=_0x351921(0x242);const _0x340b93=_0x300793,_0x508214=_0x340b93['bwwgV'][_0x351921(0x3d9)]('|');let _0x2cfccd=0x0;while(!![]){switch(_0x508214[_0x2cfccd++]){case'0':return[_0x350d,_0x343dfd];case'1':await this[_0x351921(0x31b)](_0x350d,_0x343dfd);continue;case'2':await this['createOtherResources']();continue;case'3':const _0x16ece8={};_0x16ece8[_0x351921(0x391)]=WS_EVENTS[_0x351921(0x209)],_0x16ece8[_0x351921(0x3bb)]=_0x340b93[_0x351921(0x3c1)],this['webSocketUtils'][_0x351921(0x1fa)](this[_0x351921(0x3b4)],_0x16ece8);continue;case'4':this[_0x351921(0x249)]();continue;case'5':logger[_0x351921(0x3a5)](_0x340b93[_0x351921(0x3c1)]);continue;}break;}}async[a1_0x32a0a0(0x31b)](_0x520268=null,_0x41fea3=null){const _0x1c1c3a=a1_0x32a0a0,_0xdd483c={};_0xdd483c[_0x1c1c3a(0x21d)]='templates',_0xdd483c[_0x1c1c3a(0x2bd)]='azureresources',_0xdd483c[_0x1c1c3a(0x1f1)]='akscluster.json',_0xdd483c[_0x1c1c3a(0x1fc)]=_0x1c1c3a(0x2f6),_0xdd483c['KlJVe']=_0x1c1c3a(0x3ba),_0xdd483c[_0x1c1c3a(0x1ed)]=_0x1c1c3a(0x3df),_0xdd483c['WxDeD']=function(_0x17ac2e,_0x238a99){return _0x17ac2e!==_0x238a99;},_0xdd483c['mBwIr']=function(_0x508a38,_0x2ba0e7){return _0x508a38!==_0x2ba0e7;},_0xdd483c[_0x1c1c3a(0x259)]=_0x1c1c3a(0x2bb),_0xdd483c[_0x1c1c3a(0x3ca)]=_0x1c1c3a(0x2eb),_0xdd483c[_0x1c1c3a(0x295)]=_0x1c1c3a(0x2fe),_0xdd483c['fSZpy']=_0x1c1c3a(0x386),_0xdd483c[_0x1c1c3a(0x326)]='[variables(\x27vnetSubnetID\x27)]',_0xdd483c[_0x1c1c3a(0x39f)]=_0x1c1c3a(0x311),_0xdd483c[_0x1c1c3a(0x286)]='Incremental';const _0x38b3fa=_0xdd483c;let _0x12e069=await fs[_0x1c1c3a(0x210)](path['join'](__dirname,'..',_0x38b3fa[_0x1c1c3a(0x21d)],_0x38b3fa[_0x1c1c3a(0x2bd)],_0x38b3fa[_0x1c1c3a(0x1f1)]),_0x38b3fa[_0x1c1c3a(0x1fc)]);_0x12e069=JSON[_0x1c1c3a(0x27a)](_0x12e069);const _0x1e6f59={};_0x1e6f59[_0x1c1c3a(0x21a)]=this[_0x1c1c3a(0x33e)];const _0x495b35={};_0x495b35['value']=global_registry['clusterRegion'];const _0x12a1dc={};_0x12a1dc[_0x1c1c3a(0x21a)]=global_registry[_0x1c1c3a(0x36d)];const _0xd61f53={};_0xd61f53[_0x1c1c3a(0x21a)]=global_registry[_0x1c1c3a(0x339)];const _0x2cf02d={};_0x2cf02d['value']=global_registry[_0x1c1c3a(0x362)]?_0x38b3fa[_0x1c1c3a(0x2c1)]:_0x38b3fa[_0x1c1c3a(0x1ed)];const _0x2752d3={};_0x2752d3[_0x1c1c3a(0x33e)]=_0x1e6f59,_0x2752d3[_0x1c1c3a(0x3d7)]=_0x495b35,_0x2752d3[_0x1c1c3a(0x225)]=_0x12a1dc,_0x2752d3['userMaxNodes']=_0xd61f53,_0x2752d3[_0x1c1c3a(0x362)]=_0x2cf02d;let _0x40ca08=_0x2752d3;if(_0x38b3fa[_0x1c1c3a(0x3d3)](_0x520268,null)&&_0x38b3fa[_0x1c1c3a(0x3d3)](_0x41fea3,null)){if(_0x38b3fa[_0x1c1c3a(0x36b)](_0x38b3fa[_0x1c1c3a(0x259)],_0x38b3fa[_0x1c1c3a(0x259)]))return[!![],_0x3fe8e0];else{const _0x38ca67={};_0x38ca67[_0x1c1c3a(0x391)]=_0x38b3fa[_0x1c1c3a(0x3ca)],_0x38ca67[_0x1c1c3a(0x2b3)]={},_0x38ca67[_0x1c1c3a(0x2b3)]['description']=_0x38b3fa[_0x1c1c3a(0x295)];const _0xa048c9={};_0xa048c9[_0x1c1c3a(0x391)]=_0x38b3fa[_0x1c1c3a(0x3ca)],_0xa048c9[_0x1c1c3a(0x2b3)]={},_0xa048c9[_0x1c1c3a(0x2b3)]['description']=_0x38b3fa[_0x1c1c3a(0x295)],_0x12e069[_0x1c1c3a(0x256)]={..._0x12e069[_0x1c1c3a(0x256)],'vpcName':_0x38ca67,'subnetName':_0xa048c9};const _0x5836a5={};_0x5836a5[_0x1c1c3a(0x2c4)]=_0x38b3fa[_0x1c1c3a(0x243)],_0x12e069[_0x1c1c3a(0x3d4)]=_0x5836a5,_0x12e069[_0x1c1c3a(0x359)][0x0]['properties'][_0x1c1c3a(0x2b8)][0x0]={..._0x12e069['resources'][0x0][_0x1c1c3a(0x395)][_0x1c1c3a(0x2b8)][0x0],'vnetSubnetID':_0x38b3fa[_0x1c1c3a(0x326)]};const _0x5e7c2e={};_0x5e7c2e[_0x1c1c3a(0x21a)]=_0x520268;const _0x983947={};_0x983947[_0x1c1c3a(0x21a)]=_0x41fea3[0x0],_0x40ca08={..._0x40ca08,'vpcName':_0x5e7c2e,'subnetName':_0x983947};}}await this[_0x1c1c3a(0x1f2)][_0x1c1c3a(0x355)]['beginCreateOrUpdateAndWait'](global_registry[_0x1c1c3a(0x2a3)],_0x38b3fa[_0x1c1c3a(0x39f)],{'properties':{'template':_0x12e069,'mode':_0x38b3fa['AXAWe'],'parameters':_0x40ca08}});}async[a1_0x32a0a0(0x34a)](){const _0x4e330b=a1_0x32a0a0,_0x3930c6={};_0x3930c6[_0x4e330b(0x3cb)]=function(_0x58c1bc,_0x4fa40f){return _0x58c1bc===_0x4fa40f;},_0x3930c6[_0x4e330b(0x2d0)]=_0x4e330b(0x2a4),_0x3930c6[_0x4e330b(0x30a)]='Enabling\x20Workload\x20identity\x20for\x20the\x20cluster',_0x3930c6[_0x4e330b(0x2d4)]=_0x4e330b(0x332),_0x3930c6[_0x4e330b(0x258)]='Creating\x20Azure\x20storage\x20account',_0x3930c6['KqCYW']=function(_0x49aeb1,_0x5c86d7){return _0x49aeb1!==_0x5c86d7;},_0x3930c6[_0x4e330b(0x2cd)]=_0x4e330b(0x2ca),_0x3930c6[_0x4e330b(0x3c2)]='KRZkG',_0x3930c6[_0x4e330b(0x240)]=_0x4e330b(0x22a),_0x3930c6['Ytvyq']=function(_0x89ca99,_0x408336){return _0x89ca99===_0x408336;},_0x3930c6['mryJy']=_0x4e330b(0x389),_0x3930c6[_0x4e330b(0x27b)]=_0x4e330b(0x1ee),_0x3930c6[_0x4e330b(0x3b7)]=function(_0x461ccc,_0x5f073c){return _0x461ccc===_0x5f073c;},_0x3930c6[_0x4e330b(0x300)]=_0x4e330b(0x3aa),_0x3930c6[_0x4e330b(0x2f7)]=_0x4e330b(0x2c9),_0x3930c6['pzdzD']=_0x4e330b(0x35a),_0x3930c6[_0x4e330b(0x277)]=_0x4e330b(0x1f3);const _0x4ece89=_0x3930c6,_0x46f450=await this['isStorageAccountPresent']();if(!_0x46f450){if(_0x4ece89['qtwcQ'](_0x4ece89[_0x4e330b(0x2d4)],_0x4ece89[_0x4e330b(0x2d4)])){const _0x17579f={};_0x17579f[_0x4e330b(0x391)]=WS_EVENTS[_0x4e330b(0x209)],_0x17579f[_0x4e330b(0x3bb)]=_0x4ece89[_0x4e330b(0x258)],this[_0x4e330b(0x244)][_0x4e330b(0x1fa)](this[_0x4e330b(0x3b4)],_0x17579f),logger['info'](_0x4ece89[_0x4e330b(0x258)]),await this['createStorageAccount']();}else _0x1b7ac5['push'](..._0x24a84b[_0x4e330b(0x350)]);}else _0x4ece89['KqCYW'](_0x4ece89['hfEIv'],_0x4ece89[_0x4e330b(0x3c2)])?logger[_0x4e330b(0x3a5)](_0x4ece89[_0x4e330b(0x240)]):(_0x31d7a7+=_0x4ece89[_0x4e330b(0x3cb)](_0x16e142[_0x4e330b(0x233)],0x0)?_0x4ece89['dpzaQ']:'',_0x20c7e9[_0x4e330b(0x23b)]('Role\x20definition\x20response\x20list\x20\x20:\x20\x20'+_0x21fedc[_0x4e330b(0x3d0)](_0x4f1063)));const _0x15007d=await this[_0x4e330b(0x21f)]();if(!_0x15007d){if(_0x4ece89['Ytvyq'](_0x4ece89[_0x4e330b(0x226)],_0x4ece89[_0x4e330b(0x226)])){const _0x54bf00={};_0x54bf00[_0x4e330b(0x391)]=WS_EVENTS['LOG'],_0x54bf00['message']=_0x4ece89['lWZsn'],this['webSocketUtils'][_0x4e330b(0x1fa)](this[_0x4e330b(0x3b4)],_0x54bf00),logger[_0x4e330b(0x3a5)](_0x4ece89[_0x4e330b(0x27b)]),await this[_0x4e330b(0x3d5)]();}else{_0x3298aa['info'](_0x4ece89['QsVRY']);const _0x24eee3={};_0x24eee3[_0x4e330b(0x391)]=_0x38b536[_0x4e330b(0x3c5)],_0x24eee3['message']=_0x4ece89['QsVRY'],this['webSocketUtils']['sendEventToBackend'](this[_0x4e330b(0x3b4)],_0x24eee3);const _0x5f3f59={};_0x5f3f59[_0x4e330b(0x341)]=!![];const _0xc36770={'workloadIdentity':_0x5f3f59,..._0x21faa4[_0x4e330b(0x351)]};_0x5b1f8d[_0x4e330b(0x351)]=_0xc36770;}}else{if(_0x4ece89[_0x4e330b(0x3b7)](_0x4ece89[_0x4e330b(0x300)],_0x4ece89[_0x4e330b(0x300)]))logger[_0x4e330b(0x3a5)](_0x4ece89[_0x4e330b(0x2f7)]);else return _0x4ab60b[_0x4e330b(0x264)](_0x4e330b(0x340)+_0x1e4201+_0x4e330b(0x2f9)+_0x4b73ee),[![],[]];}logger[_0x4e330b(0x3a5)](_0x4ece89['pzdzD']),await this[_0x4e330b(0x39a)](),logger[_0x4e330b(0x3a5)](_0x4ece89[_0x4e330b(0x277)]);}async[a1_0x32a0a0(0x251)](){const _0x12245f=a1_0x32a0a0,_0x281beb={};_0x281beb[_0x12245f(0x335)]=_0x12245f(0x261),_0x281beb[_0x12245f(0x25a)]=_0x12245f(0x3ad),_0x281beb[_0x12245f(0x270)]='storageaccount.json',_0x281beb[_0x12245f(0x3d8)]=_0x12245f(0x2f6),_0x281beb[_0x12245f(0x1fe)]=_0x12245f(0x3a8),_0x281beb['Ngssz']=_0x12245f(0x2f3),_0x281beb[_0x12245f(0x284)]=_0x12245f(0x383),_0x281beb[_0x12245f(0x2ef)]=_0x12245f(0x290),_0x281beb[_0x12245f(0x329)]='blockBlob',_0x281beb[_0x12245f(0x2f1)]=_0x12245f(0x2d3);const _0x4e3b04=_0x281beb;let _0x50ff52=await fs[_0x12245f(0x210)](path[_0x12245f(0x371)](__dirname,'..',_0x4e3b04['ouRUI'],_0x4e3b04['faCTI'],_0x4e3b04[_0x12245f(0x270)]),_0x4e3b04[_0x12245f(0x3d8)]);_0x50ff52=JSON[_0x12245f(0x27a)](_0x50ff52);const _0x5c090f=this[_0x12245f(0x36f)](),_0x363b5b={};_0x363b5b[_0x12245f(0x21a)]=_0x5c090f;const _0x2b8264={};_0x2b8264['storageAccountName']=_0x363b5b,await this['resourceClient'][_0x12245f(0x355)]['beginCreateOrUpdateAndWait'](global_registry[_0x12245f(0x2a3)],_0x4e3b04[_0x12245f(0x1fe)],{'properties':{'template':_0x50ff52,'mode':_0x4e3b04[_0x12245f(0x2be)],'parameters':_0x2b8264}});const _0x2235ce={};_0x2235ce[_0x12245f(0x38a)]=0x3c;const _0x1c300f={};_0x1c300f[_0x12245f(0x205)]=_0x2235ce;const _0x1a78f7={};_0x1a78f7[_0x12245f(0x24a)]=_0x1c300f;const _0x40284a={};_0x40284a['enabled']=!![],_0x40284a[_0x12245f(0x2aa)]=_0x4e3b04[_0x12245f(0x284)],_0x40284a[_0x12245f(0x391)]=_0x4e3b04[_0x12245f(0x2ef)],_0x40284a[_0x12245f(0x24e)]={},_0x40284a[_0x12245f(0x24e)][_0x12245f(0x350)]=_0x1a78f7,_0x40284a[_0x12245f(0x24e)][_0x12245f(0x3a0)]={},_0x40284a[_0x12245f(0x24e)][_0x12245f(0x3a0)][_0x12245f(0x292)]=[_0x4e3b04['rTdhK']];const _0xbb99fe={};_0xbb99fe[_0x12245f(0x3b3)]=[_0x40284a];const _0x2388a0={};_0x2388a0['policy']=_0xbb99fe;const _0x381501=_0x2388a0;await this[_0x12245f(0x379)][_0x12245f(0x34d)][_0x12245f(0x23a)](global_registry[_0x12245f(0x2a3)],_0x5c090f,_0x4e3b04[_0x12245f(0x2f1)],_0x381501);}async[a1_0x32a0a0(0x3d5)](){const _0x451d81=a1_0x32a0a0,_0x5be54c={};_0x5be54c[_0x451d81(0x247)]=_0x451d81(0x261),_0x5be54c[_0x451d81(0x347)]=_0x451d81(0x3ad),_0x5be54c['qIxpb']=_0x451d81(0x28e),_0x5be54c[_0x451d81(0x2b9)]=_0x451d81(0x2f6),_0x5be54c[_0x451d81(0x3a4)]=_0x451d81(0x1fb),_0x5be54c[_0x451d81(0x232)]=_0x451d81(0x2f3);const _0x27fa99=_0x5be54c;let _0x2d256e=await fs['readFileAsync'](path[_0x451d81(0x371)](__dirname,'..',_0x27fa99[_0x451d81(0x247)],_0x27fa99[_0x451d81(0x347)],_0x27fa99['qIxpb']),_0x27fa99[_0x451d81(0x2b9)]);_0x2d256e=JSON['parse'](_0x2d256e),await this[_0x451d81(0x1f2)]['deployments'][_0x451d81(0x2fa)](global_registry[_0x451d81(0x2a3)],_0x27fa99[_0x451d81(0x3a4)],{'properties':{'template':_0x2d256e,'mode':_0x27fa99[_0x451d81(0x232)],'parameters':{'clusterName':{'value':this[_0x451d81(0x33e)]}}}});}async[a1_0x32a0a0(0x39a)](){const _0x6e620b=a1_0x32a0a0,_0x367a7b={};_0x367a7b[_0x6e620b(0x309)]=function(_0x4c4f51,_0x827fd1){return _0x4c4f51===_0x827fd1;},_0x367a7b[_0x6e620b(0x235)]=_0x6e620b(0x2e9),_0x367a7b[_0x6e620b(0x278)]=_0x6e620b(0x333),_0x367a7b['dBlNT']=_0x6e620b(0x287),_0x367a7b[_0x6e620b(0x245)]=function(_0x4b391d,_0x1879b1){return _0x4b391d===_0x1879b1;},_0x367a7b[_0x6e620b(0x20b)]='pTWNu',_0x367a7b[_0x6e620b(0x33f)]=_0x6e620b(0x315),_0x367a7b[_0x6e620b(0x214)]=_0x6e620b(0x261),_0x367a7b[_0x6e620b(0x25c)]=_0x6e620b(0x3ad),_0x367a7b['CTTpr']='utf-8',_0x367a7b[_0x6e620b(0x21b)]=_0x6e620b(0x382),_0x367a7b['JTZkg']=_0x6e620b(0x2f3);const _0x377781=_0x367a7b;if(!this[_0x6e620b(0x384)]){if(_0x377781[_0x6e620b(0x309)](_0x377781[_0x6e620b(0x235)],_0x377781[_0x6e620b(0x235)]))await this[_0x6e620b(0x215)]();else return _0x14cab8[_0x6e620b(0x264)](_0x6e620b(0x377)+_0xc5e007+':'+_0x146925[_0x6e620b(0x297)]),{};}const _0x58abca=this[_0x6e620b(0x384)]?.[_0x6e620b(0x252)]?.[_0x6e620b(0x273)],_0x25fa9a=[_0x377781[_0x6e620b(0x278)],_0x377781[_0x6e620b(0x212)]];for await(const _0x498551 of _0x25fa9a){if(_0x377781[_0x6e620b(0x245)](_0x377781['ukYcc'],_0x377781[_0x6e620b(0x33f)]))return;else{let _0x292cbc=await fs[_0x6e620b(0x210)](path['join'](__dirname,'..',_0x377781[_0x6e620b(0x214)],_0x377781[_0x6e620b(0x25c)],_0x6e620b(0x2f5)+_0x498551+_0x6e620b(0x302)),_0x377781[_0x6e620b(0x3b1)]);_0x292cbc=JSON[_0x6e620b(0x27a)](_0x292cbc);const _0x4f6a0e={};_0x4f6a0e[_0x6e620b(0x21a)]=_0x58abca,await this[_0x6e620b(0x1f2)]['deployments'][_0x6e620b(0x2fa)](global_registry[_0x6e620b(0x2a3)],_0x377781[_0x6e620b(0x21b)],{'properties':{'template':_0x292cbc,'mode':_0x377781[_0x6e620b(0x3b6)],'parameters':{'oidcIssuer':_0x4f6a0e,'gridName':{'value':this['gridName']},'clusterName':{'value':this['clusterName']}}}});}}}async[a1_0x32a0a0(0x2ea)](_0x2a2336,_0xf26060,_0x33e99f,_0x4fe278,_0xdeaf56){const _0x4cf2d7=a1_0x32a0a0,_0x568c60={};_0x568c60['Ouseo']=_0x4cf2d7(0x305),_0x568c60[_0x4cf2d7(0x281)]=_0x4cf2d7(0x2c6);const _0x4598dc=_0x568c60,_0x4f3ac1={};_0x4f3ac1[_0x4cf2d7(0x391)]=WS_EVENTS[_0x4cf2d7(0x209)],_0x4f3ac1[_0x4cf2d7(0x3bb)]=_0x4598dc['Ouseo'],this[_0x4cf2d7(0x244)][_0x4cf2d7(0x1fa)](this[_0x4cf2d7(0x3b4)],_0x4f3ac1),logger[_0x4cf2d7(0x3a5)](_0x4598dc[_0x4cf2d7(0x217)]),await this[_0x4cf2d7(0x27f)]();const _0x4cfa57={};_0x4cfa57['type']=WS_EVENTS[_0x4cf2d7(0x209)],_0x4cfa57['message']=_0x4598dc[_0x4cf2d7(0x281)],this['webSocketUtils'][_0x4cf2d7(0x1fa)](this[_0x4cf2d7(0x3b4)],_0x4cfa57);}async[a1_0x32a0a0(0x27f)](){const _0x3d4187=a1_0x32a0a0,_0x48a12a={};_0x48a12a['RVXxS']=function(_0x4deeb9,_0x128bd6){return _0x4deeb9!==_0x128bd6;},_0x48a12a[_0x3d4187(0x1ef)]=_0x3d4187(0x294),_0x48a12a[_0x3d4187(0x2e8)]='templates',_0x48a12a[_0x3d4187(0x2fc)]=_0x3d4187(0x2e5),_0x48a12a[_0x3d4187(0x363)]=_0x3d4187(0x2de),_0x48a12a[_0x3d4187(0x37e)]=_0x3d4187(0x2f6),_0x48a12a[_0x3d4187(0x1f9)]=_0x3d4187(0x382),_0x48a12a['PVHpH']='Incremental';const _0x13b938=_0x48a12a;!this[_0x3d4187(0x384)]&&(_0x13b938[_0x3d4187(0x312)](_0x13b938[_0x3d4187(0x1ef)],_0x13b938['DILyS'])?_0xc4aa5d[_0x3d4187(0x279)](_0xab103c):await this['getClusterInfo']());const _0x5019b4=this['clusterInfo']?.[_0x3d4187(0x252)]?.[_0x3d4187(0x273)];let _0x127518=await fs['readFileAsync'](path[_0x3d4187(0x371)](__dirname,'..',_0x13b938[_0x3d4187(0x2e8)],_0x13b938[_0x3d4187(0x2fc)],_0x13b938['UDYXE']),_0x13b938['EWvws']);_0x127518=JSON['parse'](_0x127518);const _0x48a06a={};_0x48a06a[_0x3d4187(0x21a)]=_0x5019b4,await this[_0x3d4187(0x1f2)][_0x3d4187(0x355)][_0x3d4187(0x2fa)](global_registry['cloudProviderResourceGroup'],_0x13b938[_0x3d4187(0x1f9)],{'properties':{'template':_0x127518,'mode':_0x13b938[_0x3d4187(0x2dc)],'parameters':{'oidcIssuer':_0x48a06a,'namespace':{'value':global_registry[_0x3d4187(0x20d)]},'clusterName':{'value':this[_0x3d4187(0x33e)]}}}});}async[a1_0x32a0a0(0x2e2)](){const _0x5e519b=a1_0x32a0a0,_0x515914={};_0x515914['PekQX']=_0x5e519b(0x22f),_0x515914[_0x5e519b(0x39d)]=function(_0x42d9ae,_0x3063e6){return _0x42d9ae===_0x3063e6;},_0x515914[_0x5e519b(0x26b)]=_0x5e519b(0x2cc),_0x515914[_0x5e519b(0x1f6)]=function(_0x524dc6,_0x52bb69){return _0x524dc6!==_0x52bb69;},_0x515914[_0x5e519b(0x314)]=_0x5e519b(0x2a2),_0x515914[_0x5e519b(0x263)]=function(_0x1f922c,_0x6d45f){return _0x1f922c===_0x6d45f;},_0x515914[_0x5e519b(0x375)]=function(_0x4d6c15,_0x173a7e){return _0x4d6c15===_0x173a7e;},_0x515914[_0x5e519b(0x38d)]=_0x5e519b(0x2ee),_0x515914[_0x5e519b(0x203)]=_0x5e519b(0x303);const _0x4be517=_0x515914,_0x1e9ad4=this[_0x5e519b(0x36f)](),_0x38403a=new Array();for await(const _0x4d4f66 of this['storageClient'][_0x5e519b(0x2c3)][_0x5e519b(0x28d)](global_registry[_0x5e519b(0x2a3)])){if(_0x4be517[_0x5e519b(0x39d)](_0x4be517[_0x5e519b(0x26b)],_0x4be517[_0x5e519b(0x26b)]))_0x38403a[_0x5e519b(0x279)](_0x4d4f66);else return _0x9bc2c3[_0x5e519b(0x2df)]['loadBalancer'][_0x5e519b(0x2f2)][0x0][_0x5e519b(0x32a)];}for await(const _0x22342b of _0x38403a){if(_0x4be517[_0x5e519b(0x1f6)](_0x4be517[_0x5e519b(0x314)],_0x4be517[_0x5e519b(0x314)])){_0x5da62e[_0x5e519b(0x3a5)](_0x4be517['PekQX']);const _0x334da9={};_0x334da9[_0x5e519b(0x391)]=_0x357c85[_0x5e519b(0x3c5)],_0x334da9[_0x5e519b(0x3bb)]=_0x4be517[_0x5e519b(0x20e)],this[_0x5e519b(0x244)]['sendEventToBackend'](this[_0x5e519b(0x3b4)],_0x334da9),_0x591c20[_0x5e519b(0x304)]=![];}else{if(_0x4be517[_0x5e519b(0x263)](_0x22342b[_0x5e519b(0x2aa)],_0x1e9ad4)){if(_0x4be517[_0x5e519b(0x375)](_0x4be517['Sjyel'],_0x4be517[_0x5e519b(0x203)]))_0x59aeca[_0x5e519b(0x3c4)][_0x5e519b(0x279)](_0x5df460);else return!![];}}}return![];}async[a1_0x32a0a0(0x21f)](){const _0x3e0567=a1_0x32a0a0,_0x3ab53a={};_0x3ab53a[_0x3e0567(0x22b)]=_0x3e0567(0x2eb),_0x3ab53a['yDtHd']=_0x3e0567(0x2fe),_0x3ab53a[_0x3e0567(0x3dc)]=_0x3e0567(0x386),_0x3ab53a[_0x3e0567(0x22e)]=_0x3e0567(0x26c),_0x3ab53a[_0x3e0567(0x31e)]='No\x20CLI\x20tool\x20required',_0x3ab53a['CAhwX']=function(_0x36c51a,_0x2e6e6f){return _0x36c51a+_0x2e6e6f;},_0x3ab53a[_0x3e0567(0x236)]=function(_0x4ea2a3,_0x79b26d){return _0x4ea2a3===_0x79b26d;},_0x3ab53a['tyzuV']=_0x3e0567(0x32f),_0x3ab53a['ikjQY']=function(_0x223a0e,_0xd5891e){return _0x223a0e!==_0xd5891e;},_0x3ab53a[_0x3e0567(0x2a0)]=_0x3e0567(0x398),_0x3ab53a[_0x3e0567(0x254)]=_0x3e0567(0x207),_0x3ab53a[_0x3e0567(0x230)]=function(_0x249e0e,_0x4a48fe){return _0x249e0e===_0x4a48fe;},_0x3ab53a[_0x3e0567(0x1f5)]='rFCtr',_0x3ab53a[_0x3e0567(0x2a8)]=_0x3e0567(0x370);const _0x1bff4d=_0x3ab53a,_0x2fedf5=new Array();for await(const _0x17400b of this[_0x3e0567(0x1f2)]['resources'][_0x3e0567(0x28d)](global_registry[_0x3e0567(0x2a3)])){if(_0x1bff4d[_0x3e0567(0x236)](_0x1bff4d[_0x3e0567(0x337)],_0x1bff4d['tyzuV']))_0x2fedf5['push'](_0x17400b);else{const _0x4457f7={};_0x4457f7[_0x3e0567(0x391)]=_0x1bff4d[_0x3e0567(0x22b)],_0x4457f7[_0x3e0567(0x2b3)]={},_0x4457f7[_0x3e0567(0x2b3)][_0x3e0567(0x3b2)]=_0x1bff4d['yDtHd'];const _0x1d7805={};_0x1d7805[_0x3e0567(0x391)]=_0x1bff4d[_0x3e0567(0x22b)],_0x1d7805[_0x3e0567(0x2b3)]={},_0x1d7805[_0x3e0567(0x2b3)][_0x3e0567(0x3b2)]=_0x1bff4d[_0x3e0567(0x37f)];const _0x4791e1={..._0x5348f2['parameters']};_0x4791e1[_0x3e0567(0x3a9)]=_0x4457f7,_0x4791e1[_0x3e0567(0x289)]=_0x1d7805,_0x52f77c[_0x3e0567(0x256)]=_0x4791e1;const _0x2c4dc0={};_0x2c4dc0[_0x3e0567(0x2c4)]=_0x1bff4d[_0x3e0567(0x3dc)],_0x5f0a42[_0x3e0567(0x3d4)]=_0x2c4dc0;const _0x28d72b={..._0x2fab94['resources'][0x0][_0x3e0567(0x395)]['agentPoolProfiles'][0x0]};_0x28d72b[_0x3e0567(0x2c4)]=_0x1bff4d[_0x3e0567(0x22e)],_0x18cdc6[_0x3e0567(0x359)][0x0]['properties'][_0x3e0567(0x2b8)][0x0]=_0x28d72b;const _0x50fdf2={};_0x50fdf2[_0x3e0567(0x21a)]=_0x594263;const _0x54aa3c={};_0x54aa3c['value']=_0x55dba3[0x0];const _0x8fd737={..._0x410c73};_0x8fd737[_0x3e0567(0x3a9)]=_0x50fdf2,_0x8fd737[_0x3e0567(0x289)]=_0x54aa3c,_0x33d7be=_0x8fd737;}}for await(const _0x9acec6 of _0x2fedf5){if(_0x1bff4d['ikjQY'](_0x1bff4d['DJeWD'],_0x1bff4d[_0x3e0567(0x254)])){if(_0x1bff4d['EzXHG'](_0x9acec6['name'],'turboscale-managed-identity-'+this['clusterName'])){if(_0x1bff4d[_0x3e0567(0x236)](_0x1bff4d[_0x3e0567(0x1f5)],_0x1bff4d[_0x3e0567(0x2a8)])){const _0x26b2a1={};_0x26b2a1[_0x3e0567(0x2df)]=!![],_0x26b2a1[_0x3e0567(0x264)]=null,_0x26b2a1[_0x3e0567(0x234)]=_0x1bff4d['PEGcf'];const _0x5011d8=_0x26b2a1;return _0x5011d8;}else return!![];}}else _0x41b469['log']('['+_0x1bff4d['CAhwX'](_0x13107b,0x1)+']\x20'+_0x73b9a9[_0x768444]);}return![];}async[a1_0x32a0a0(0x293)](_0x67ab58,_0x3cdb06=0x3){const _0x6a69ed=a1_0x32a0a0,_0x3c2114={'QlstQ':function(_0x5653a5,_0x3b0ca9){return _0x5653a5===_0x3b0ca9;},'jcxQZ':_0x6a69ed(0x352),'vBapM':'allowed','CuCKN':'denied','NQiBu':_0x6a69ed(0x319),'tOvHs':function(_0x437e0d,_0x1d912f){return _0x437e0d!==_0x1d912f;},'PyJmT':_0x6a69ed(0x38c),'ptRBd':function(_0x1c86cf,_0x3cb226,_0x49dc41){return _0x1c86cf(_0x3cb226,_0x49dc41);},'IenUl':function(_0x4240c7,_0x273454){return _0x4240c7!==_0x273454;},'urhoD':_0x6a69ed(0x35e),'xbVJH':'KUjrT','qMDWf':'dFbYr','BiSzd':function(_0x2fd32c,_0x5db274){return _0x2fd32c!==_0x5db274;},'ZGYfq':_0x6a69ed(0x3cd),'DCXua':function(_0x528741,_0xc99f38){return _0x528741!==_0xc99f38;},'kArQy':'Dwzzv','XMNUy':_0x6a69ed(0x29c),'wLKqF':'2023-01-31','QDCpR':_0x6a69ed(0x222),'oTVWd':'dNWxj','kXtXI':function(_0xc1a787,_0x596db2){return _0xc1a787<=_0x596db2;},'hpoWO':function(_0x41feea,_0x7091e){return _0x41feea!==_0x7091e;},'VDBlC':_0x6a69ed(0x348),'ncYDs':function(_0x253769,_0x52527b){return _0x253769-_0x52527b;}};try{if(_0x3c2114[_0x6a69ed(0x26a)](_0x3c2114['urhoD'],_0x3c2114[_0x6a69ed(0x2d5)])){const _0xa44f7d=new Array();for await(const _0x281065 of this[_0x6a69ed(0x1f2)]['resources']['listByResourceGroup'](global_registry[_0x6a69ed(0x2a3)])){_0x3c2114['tOvHs'](_0x3c2114[_0x6a69ed(0x248)],_0x3c2114[_0x6a69ed(0x248)])?_0x3c2114[_0x6a69ed(0x1f7)](_0x2a1a2f['name'],_0x26146a)&&(_0x5c030a=_0x53b6f0['id']):_0xa44f7d[_0x6a69ed(0x279)](_0x281065);}let _0x586c3a='';for await(const _0x5bd435 of _0xa44f7d){_0x3c2114[_0x6a69ed(0x3d6)](_0x3c2114['ZGYfq'],_0x3c2114['ZGYfq'])?_0x3e8510[_0x6a69ed(0x264)]=_0x261b2c:_0x3c2114[_0x6a69ed(0x1f7)](_0x5bd435[_0x6a69ed(0x2aa)],_0x67ab58)&&(_0x3c2114[_0x6a69ed(0x392)](_0x3c2114['kArQy'],_0x3c2114['XMNUy'])?_0x586c3a=_0x5bd435['id']:_0x3777ac[_0x6a69ed(0x279)](_0x391b37));}const _0x23fc32=await this[_0x6a69ed(0x1f2)][_0x6a69ed(0x359)][_0x6a69ed(0x364)](_0x586c3a,_0x3c2114[_0x6a69ed(0x385)]);return _0x23fc32['properties'][_0x6a69ed(0x2da)];}else throw new _0x61b982(_0x3c2114[_0x6a69ed(0x325)],'Received\x20response\x20-\x20'+_0x5b8c57[_0x6a69ed(0x3d0)](_0x389bde));}catch(_0x5ed499){if(_0x3c2114[_0x6a69ed(0x1f7)](_0x3c2114[_0x6a69ed(0x38b)],_0x3c2114[_0x6a69ed(0x34f)])){const _0x131f23=_0x380fbc['includes'](_0x4f3bd1);_0x3a34b6+='\x0a\x09'+_0x2b87b9+':\x20'+(_0x131f23?_0x3c2114[_0x6a69ed(0x246)]:_0x3c2114[_0x6a69ed(0x211)]),!_0x131f23&&(_0x420192['status']=![]);}else{if(_0x3c2114[_0x6a69ed(0x1ec)](_0x3cdb06,0x0))return _0x3c2114[_0x6a69ed(0x31d)](_0x3c2114[_0x6a69ed(0x24b)],_0x3c2114[_0x6a69ed(0x24b)])?(_0xe7da52[_0x6a69ed(0x234)]=_0x3c2114[_0x6a69ed(0x3af)],_0x3ad9c9):(logger['error'](_0x6a69ed(0x377)+_0x5ed499+':'+_0x5ed499[_0x6a69ed(0x297)]),{});return await new Promise(_0x586d10=>{const _0x1e39b0=_0x6a69ed;_0x3c2114[_0x1e39b0(0x357)](_0x3c2114[_0x1e39b0(0x250)],_0x3c2114['PyJmT'])?_0x517247[_0x1e39b0(0x264)]=_0xac2ed8:_0x3c2114[_0x1e39b0(0x349)](setTimeout,()=>_0x586d10(),0x3e8);}),this[_0x6a69ed(0x293)](_0x67ab58,_0x3c2114[_0x6a69ed(0x2e4)](_0x3cdb06,0x1));}}}async[a1_0x32a0a0(0x313)](){const _0x3c491f=a1_0x32a0a0,_0x29880a={};_0x29880a['iKDsb']=_0x3c491f(0x22a),_0x29880a[_0x3c491f(0x393)]=function(_0x500f6d,_0x67e7a2){return _0x500f6d===_0x67e7a2;},_0x29880a[_0x3c491f(0x2db)]='noVBZ',_0x29880a[_0x3c491f(0x2a6)]=_0x3c491f(0x2ff),_0x29880a[_0x3c491f(0x39c)]='browserstack:managedBy',_0x29880a['fezfv']=_0x3c491f(0x3c9),_0x29880a['XTxhs']='hHkNQ',_0x29880a[_0x3c491f(0x296)]=_0x3c491f(0x2b6);const _0x250eaa=_0x29880a;!this[_0x3c491f(0x384)]&&(_0x250eaa[_0x3c491f(0x393)](_0x250eaa[_0x3c491f(0x2db)],_0x250eaa['XkAAI'])?_0x211951[_0x3c491f(0x3a5)](_0x250eaa['iKDsb']):await this[_0x3c491f(0x215)]());const _0xebb6c5=this[_0x3c491f(0x384)]?.[_0x3c491f(0x35f)]||{};if(_0xebb6c5&&_0x250eaa[_0x3c491f(0x393)](_0xebb6c5[_0x250eaa['eupjY']],_0x250eaa[_0x3c491f(0x2d7)]))return _0x250eaa[_0x3c491f(0x393)](_0x250eaa['XTxhs'],_0x250eaa[_0x3c491f(0x296)])?!![]:!![];return![];}async[a1_0x32a0a0(0x330)](_0x2196e4,_0x3689a3){const _0x51b219=a1_0x32a0a0,_0x49e701={'MZVYH':function(_0x44c75c,_0x354be8){return _0x44c75c(_0x354be8);},'SOCAX':function(_0x3bda3d,_0x237e30){return _0x3bda3d(_0x237e30);},'BnOqN':_0x51b219(0x299)};await _0x49e701[_0x51b219(0x2d8)](deleteAgent,_0x2196e4),await _0x49e701['SOCAX'](deleteRoutingDeps,_0x2196e4);const _0x1cff34=this['containerClient'];logger[_0x51b219(0x3a5)](_0x51b219(0x274)+this['clusterName']),await _0x1cff34[_0x51b219(0x2b1)][_0x51b219(0x2bf)](global_registry['cloudProviderResourceGroup'],this[_0x51b219(0x33e)]),logger[_0x51b219(0x3a5)](_0x49e701['BnOqN']);}async['updateClusterAlreadyPresent'](){const _0x46d486=a1_0x32a0a0,_0x1b1467={};_0x1b1467['uyIoI']=_0x46d486(0x1ff),_0x1b1467['qLTAy']=function(_0x24050c,_0x41c51c){return _0x24050c===_0x41c51c;},_0x1b1467[_0x46d486(0x238)]=_0x46d486(0x2ab),_0x1b1467[_0x46d486(0x229)]=_0x46d486(0x32e),_0x1b1467[_0x46d486(0x320)]=function(_0x44993c,_0xe3fbc9){return _0x44993c&&_0xe3fbc9;},_0x1b1467['zieLv']=function(_0x1ad10d,_0xd74ef2){return _0x1ad10d!==_0xd74ef2;},_0x1b1467['JLjUF']=_0x46d486(0x227),_0x1b1467[_0x46d486(0x2f8)]=function(_0x17127e,_0x216a5f){return _0x17127e===_0x216a5f;},_0x1b1467[_0x46d486(0x327)]=_0x46d486(0x206),_0x1b1467[_0x46d486(0x3b0)]=_0x46d486(0x36e),_0x1b1467[_0x46d486(0x29e)]=_0x46d486(0x39b),_0x1b1467['klLKV']=_0x46d486(0x26e),_0x1b1467[_0x46d486(0x1f4)]=_0x46d486(0x26f),_0x1b1467['ARqGT']=_0x46d486(0x22f);const _0x5b26d0=_0x1b1467;!this[_0x46d486(0x384)]&&(_0x5b26d0['qLTAy'](_0x5b26d0[_0x46d486(0x238)],_0x5b26d0[_0x46d486(0x229)])?_0x5a14eb=_0x48b26e['id']:await this[_0x46d486(0x215)]());const _0x541bd7=this[_0x46d486(0x384)],_0x26ce30=this[_0x46d486(0x384)]?.[_0x46d486(0x252)]?.[_0x46d486(0x341)]||![],_0xfef6dc=this[_0x46d486(0x384)]?.[_0x46d486(0x351)]?.[_0x46d486(0x376)]?.['enabled']||![],_0x10292d=!this[_0x46d486(0x384)]?.[_0x46d486(0x304)]||![];if(_0x5b26d0['uCgPa'](_0x26ce30,_0xfef6dc)&&_0x10292d){if(_0x5b26d0[_0x46d486(0x21c)](_0x5b26d0[_0x46d486(0x20c)],_0x5b26d0[_0x46d486(0x20c)]))return _0x5844c5['data']=_0x5b26d0['uyIoI'],_0x146435;else return;}if(!_0x26ce30){if(_0x5b26d0[_0x46d486(0x2f8)](_0x5b26d0['tjgOL'],_0x5b26d0['tjgOL'])){logger[_0x46d486(0x3a5)](_0x5b26d0[_0x46d486(0x3b0)]);const _0x10a5fc={};_0x10a5fc[_0x46d486(0x391)]=WS_EVENTS[_0x46d486(0x3c5)],_0x10a5fc['message']=_0x5b26d0[_0x46d486(0x3b0)],this[_0x46d486(0x244)]['sendEventToBackend'](this[_0x46d486(0x3b4)],_0x10a5fc),_0x541bd7[_0x46d486(0x252)][_0x46d486(0x341)]=!![];}else return _0x198fe8[_0x46d486(0x264)](_0x46d486(0x213)+_0x1a9a3b+_0x46d486(0x336)+_0x80dbb9),![];}if(!_0xfef6dc){if(_0x5b26d0[_0x46d486(0x2f8)](_0x5b26d0[_0x46d486(0x29e)],_0x5b26d0[_0x46d486(0x29e)])){logger[_0x46d486(0x3a5)](_0x5b26d0['klLKV']);const _0x4f5567={};_0x4f5567['type']=WS_EVENTS['RESOURCES'],_0x4f5567[_0x46d486(0x3bb)]=_0x5b26d0[_0x46d486(0x2cb)],this[_0x46d486(0x244)][_0x46d486(0x1fa)](this[_0x46d486(0x3b4)],_0x4f5567);const _0x4b7b41={};_0x4b7b41[_0x46d486(0x341)]=!![],_0x541bd7[_0x46d486(0x351)]={'workloadIdentity':_0x4b7b41,..._0x541bd7[_0x46d486(0x351)]};}else return!![];}if(!_0x10292d){if(_0x5b26d0[_0x46d486(0x2f8)](_0x5b26d0[_0x46d486(0x1f4)],_0x5b26d0[_0x46d486(0x1f4)])){logger[_0x46d486(0x3a5)](_0x5b26d0[_0x46d486(0x221)]);const _0x31b7c9={};_0x31b7c9[_0x46d486(0x391)]=WS_EVENTS[_0x46d486(0x3c5)],_0x31b7c9[_0x46d486(0x3bb)]=_0x5b26d0[_0x46d486(0x221)],this[_0x46d486(0x244)]['sendEventToBackend'](this[_0x46d486(0x3b4)],_0x31b7c9),_0x541bd7[_0x46d486(0x304)]=![];}else _0x33d8c1[_0x46d486(0x279)](_0x409f30);}await this[_0x46d486(0x2b0)][_0x46d486(0x2b1)]['beginCreateOrUpdateAndWait'](global_registry[_0x46d486(0x2a3)],this[_0x46d486(0x33e)],_0x541bd7),await this['getClusterInfo']();}async[a1_0x32a0a0(0x249)](){const _0x3eaa97=a1_0x32a0a0,_0x3843c6={};_0x3843c6['rOlHF']=function(_0x132e80,_0x4d151c){return _0x132e80===_0x4d151c;},_0x3843c6[_0x3eaa97(0x219)]=_0x3eaa97(0x3a1),_0x3843c6[_0x3eaa97(0x3c7)]=_0x3eaa97(0x2ad);const _0x365a41=_0x3843c6,_0x213cef=await this[_0x3eaa97(0x23d)][_0x3eaa97(0x216)]['listAll'](global_registry[_0x3eaa97(0x2a3)]),_0x36c968={};_0x36c968[_0x3eaa97(0x3d1)]=global_registry[_0x3eaa97(0x380)],_0x36c968[_0x3eaa97(0x204)]=global_registry[_0x3eaa97(0x2c2)],_0x36c968[_0x3eaa97(0x31c)]=AZURE,_0x36c968[_0x3eaa97(0x3c4)]=[];const _0x32a719=_0x36c968;for await(const _0x145f82 of _0x213cef){if(_0x365a41['rOlHF'](_0x365a41[_0x3eaa97(0x219)],_0x365a41[_0x3eaa97(0x3c7)])){const _0x4110d3=new _0x208dc6(_0x8ca067[_0x3eaa97(0x3b8)],_0x2a1b94['cloudProviderClientId'],_0x583bdf[_0x3eaa97(0x2fd)]);this[_0x3eaa97(0x2b0)]=new _0x3efc6a(_0x4110d3,_0x2c1f72[_0x3eaa97(0x344)]),this[_0x3eaa97(0x379)]=new _0x172320(_0x4110d3,_0x255dcc[_0x3eaa97(0x344)]),this[_0x3eaa97(0x1f2)]=new _0xfe32b3(_0x4110d3,_0x6eb79[_0x3eaa97(0x344)]),this[_0x3eaa97(0x23d)]=new _0x3e317f(_0x4110d3,_0x2c9eb8[_0x3eaa97(0x344)]),this[_0x3eaa97(0x2bc)]=new _0x383072(_0x4110d3,_0x15ce9e[_0x3eaa97(0x344)]),this[_0x3eaa97(0x30b)]=_0x4110d3;}else _0x32a719[_0x3eaa97(0x3c4)][_0x3eaa97(0x279)](_0x145f82);}const _0x3f049a={};_0x3f049a['type']=WS_EVENTS['RESOURCES'],_0x3f049a[_0x3eaa97(0x3bb)]=_0x32a719,this[_0x3eaa97(0x244)][_0x3eaa97(0x1fa)](this[_0x3eaa97(0x3b4)],_0x3f049a);}async['isVPCPresent'](_0xc8a158){const _0x3640f0=a1_0x32a0a0,_0x44a0c5={};_0x44a0c5['kbito']=_0x3640f0(0x39e),_0x44a0c5['sWLlF']=function(_0x48648e,_0x452107){return _0x48648e===_0x452107;},_0x44a0c5[_0x3640f0(0x38e)]=function(_0x1aeabc,_0x1acd43){return _0x1aeabc===_0x1acd43;},_0x44a0c5[_0x3640f0(0x202)]=_0x3640f0(0x265),_0x44a0c5[_0x3640f0(0x272)]=_0x3640f0(0x29a),_0x44a0c5['CnRLR']=_0x3640f0(0x374),_0x44a0c5[_0x3640f0(0x2d6)]=_0x3640f0(0x24d),_0x44a0c5['Gxoca']=function(_0x5a1230,_0x195f59){return _0x5a1230!==_0x195f59;},_0x44a0c5[_0x3640f0(0x2c7)]=_0x3640f0(0x30e),_0x44a0c5[_0x3640f0(0x38f)]=function(_0x24ca92,_0x486df3){return _0x24ca92===_0x486df3;},_0x44a0c5['edhtr']=_0x3640f0(0x3a6),_0x44a0c5[_0x3640f0(0x21e)]='TCkSR';const _0x3bc12c=_0x44a0c5;try{if(_0x3bc12c[_0x3640f0(0x38e)](_0x3bc12c[_0x3640f0(0x202)],_0x3bc12c[_0x3640f0(0x272)])){const _0x1b8301=_0x3bc12c[_0x3640f0(0x3a3)][_0x3640f0(0x3d9)]('|');let _0x4ea38e=0x0;while(!![]){switch(_0x1b8301[_0x4ea38e++]){case'0':_0x141a83['cloudProviderSubscriptionId']=_0x4f3b55[this['cloudProviderName']][_0x3640f0(0x25e)];continue;case'1':_0x370884[_0x3640f0(0x2fd)]=_0x154d9e[this[_0x3640f0(0x310)]]['clientSecret'];continue;case'2':_0x2a4e9c['cloudProviderResourceGroup']=_0x55f0f3[this[_0x3640f0(0x310)]][_0x3640f0(0x208)];continue;case'3':_0x4d727c[_0x3640f0(0x3b8)]=_0x566409[this['cloudProviderName']]['tenantId'];continue;case'4':this[_0x3640f0(0x345)]();continue;case'5':_0xae860d[_0x3640f0(0x2c5)]=_0x19697d[this['cloudProviderName']][_0x3640f0(0x2da)];continue;}break;}}else{const _0x466bba=await this[_0x3640f0(0x23d)][_0x3640f0(0x216)][_0x3640f0(0x228)](global_registry[_0x3640f0(0x2a3)]);for await(const _0xa3d3cf of _0x466bba){if(_0x3bc12c[_0x3640f0(0x38e)](_0x3bc12c[_0x3640f0(0x3ae)],_0x3bc12c[_0x3640f0(0x2d6)]))_0x1f86fb['push'](_0x1106dc);else{if(_0x3bc12c[_0x3640f0(0x30c)](_0xa3d3cf['name'],_0xc8a158)){if(_0x3bc12c[_0x3640f0(0x29b)](_0x3bc12c[_0x3640f0(0x2c7)],_0x3bc12c['NxSNR'])){if(_0x3bc12c[_0x3640f0(0x30c)](_0x89d153['name'],_0x181785))return!![];}else return!![];}}}}}catch(_0x11b623){if(_0x3bc12c[_0x3640f0(0x38f)](_0x3bc12c['edhtr'],_0x3bc12c['mYRMO'])){if(_0x3bc12c[_0x3640f0(0x30c)](_0x10ef7a['name'],_0x3640f0(0x358)+this['clusterName']))return!![];}else return logger[_0x3640f0(0x264)]('Cannot\x20find\x20VPC\x20'+_0xc8a158+_0x3640f0(0x336)+_0x11b623),![];}return![];}async[a1_0x32a0a0(0x3c8)](_0xbfd388,_0x2f88ff){const _0x3d0c9d=a1_0x32a0a0,_0x17da2b={};_0x17da2b[_0x3d0c9d(0x1f0)]=_0x3d0c9d(0x2c9),_0x17da2b[_0x3d0c9d(0x30d)]=function(_0x29c8d5,_0x424df1){return _0x29c8d5!==_0x424df1;},_0x17da2b[_0x3d0c9d(0x23f)]=_0x3d0c9d(0x33a),_0x17da2b[_0x3d0c9d(0x353)]='MYAuf',_0x17da2b[_0x3d0c9d(0x342)]=function(_0x3ea921,_0xce11a2){return _0x3ea921===_0xce11a2;},_0x17da2b['sKmjk']=function(_0x28e294,_0x17b505){return _0x28e294===_0x17b505;},_0x17da2b[_0x3d0c9d(0x2ae)]=_0x3d0c9d(0x388),_0x17da2b['geWDC']=_0x3d0c9d(0x2e6);const _0x2d30ac=_0x17da2b;try{if(_0x2d30ac['corQj'](_0x2d30ac[_0x3d0c9d(0x23f)],_0x2d30ac[_0x3d0c9d(0x353)])){const _0x370964=await this[_0x3d0c9d(0x23d)][_0x3d0c9d(0x317)][_0x3d0c9d(0x23e)](global_registry[_0x3d0c9d(0x2a3)],_0x2f88ff,_0xbfd388[0x0]);if(_0x2d30ac[_0x3d0c9d(0x342)](_0xbfd388[0x0],_0x370964[_0x3d0c9d(0x2aa)])){if(_0x2d30ac[_0x3d0c9d(0x275)](_0x2d30ac[_0x3d0c9d(0x2ae)],_0x2d30ac[_0x3d0c9d(0x399)]))_0x229ced[_0x3d0c9d(0x3a5)](_0x2d30ac[_0x3d0c9d(0x1f0)]);else return[!![],_0xbfd388];}}else return!![];}catch(_0x2bd1dd){return logger[_0x3d0c9d(0x264)](_0x3d0c9d(0x340)+_0xbfd388+_0x3d0c9d(0x2f9)+_0x2bd1dd),[![],[]];}return[![],[]];}async[a1_0x32a0a0(0x2c8)](){const _0x31b057=a1_0x32a0a0,_0x3812db={};_0x3812db[_0x31b057(0x343)]=_0x31b057(0x3dd);const _0x41de35=_0x3812db,_0x5841ba={};_0x5841ba[_0x31b057(0x2df)]=!![],_0x5841ba[_0x31b057(0x264)]=null,_0x5841ba[_0x31b057(0x234)]=_0x41de35[_0x31b057(0x343)];const _0x55ef2c=_0x5841ba;return _0x55ef2c;}async[a1_0x32a0a0(0x2b7)](){const _0x3fbdf5=a1_0x32a0a0,_0x561dc3={};_0x561dc3[_0x3fbdf5(0x334)]=_0x3fbdf5(0x291),_0x561dc3[_0x3fbdf5(0x29f)]=_0x3fbdf5(0x3c0),_0x561dc3[_0x3fbdf5(0x308)]=_0x3fbdf5(0x2dd);const _0x526820=_0x561dc3,_0x3cc3cf=await this[_0x3fbdf5(0x30b)][_0x3fbdf5(0x200)](_0x526820[_0x3fbdf5(0x334)]),_0x57f6ab={};_0x57f6ab[_0x3fbdf5(0x32b)]=_0x526820[_0x3fbdf5(0x29f)],_0x57f6ab[_0x3fbdf5(0x3c3)]={},_0x57f6ab[_0x3fbdf5(0x3c3)][_0x3fbdf5(0x32c)]=_0x3fbdf5(0x3bc)+_0x3cc3cf[_0x3fbdf5(0x30f)],_0x57f6ab[_0x3fbdf5(0x3c3)][_0x3fbdf5(0x3da)]=_0x526820[_0x3fbdf5(0x308)];const _0x5793dc=_0x57f6ab;return _0x5793dc;}async[a1_0x32a0a0(0x25b)](_0x2edd37){const _0x141ba3=a1_0x32a0a0,_0x401f7f={'ksyON':function(_0xa03d55,_0x4ec125,_0x5229b6){return _0xa03d55(_0x4ec125,_0x5229b6);},'JkmRE':function(_0x46d3a6,_0x1ca92f){return _0x46d3a6===_0x1ca92f;},'dAqkE':'No\x20service\x20principal\x20found'},_0xd3f49e={};_0xd3f49e[_0x141ba3(0x3e0)]='',_0xd3f49e[_0x141ba3(0x264)]=null;const _0x46a584=_0xd3f49e;try{const _0xfbf8b='https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27'+_0x2edd37+'\x27',_0x5a901a=await this['getHeader'](),_0x11f8ee=await _0x401f7f[_0x141ba3(0x25f)](fetch,_0xfbf8b,_0x5a901a),_0x42a3b0=await _0x11f8ee[_0x141ba3(0x354)]();if(!_0x42a3b0[_0x141ba3(0x21a)]||_0x401f7f[_0x141ba3(0x28a)](_0x42a3b0[_0x141ba3(0x21a)][_0x141ba3(0x233)],0x0))throw new Error(_0x401f7f[_0x141ba3(0x33d)],_0x141ba3(0x3de)+JSON['stringify'](_0x42a3b0));_0x46a584[_0x141ba3(0x3e0)]=_0x42a3b0['value'][0x0]['id'];}catch(_0x2e96b0){_0x46a584[_0x141ba3(0x264)]=_0x2e96b0;}return _0x46a584;}async[a1_0x32a0a0(0x367)](){const _0x2666e0=a1_0x32a0a0,_0x2d0c25={};_0x2d0c25['yMaHV']=_0x2666e0(0x360),_0x2d0c25[_0x2666e0(0x23c)]=_0x2666e0(0x37b),_0x2d0c25[_0x2666e0(0x328)]=function(_0x22bad6,_0x78c196){return _0x22bad6!==_0x78c196;},_0x2d0c25[_0x2666e0(0x27e)]=function(_0x224e6a,_0x3df672){return _0x224e6a===_0x3df672;},_0x2d0c25['vmMMW']=_0x2666e0(0x1ff),_0x2d0c25[_0x2666e0(0x36c)]=_0x2666e0(0x319),_0x2d0c25[_0x2666e0(0x3bd)]=function(_0x3b355a,_0x11a984){return _0x3b355a===_0x11a984;},_0x2d0c25['BYgOM']=_0x2666e0(0x2a4);const _0x2e83ba=_0x2d0c25,_0x326f81={};_0x326f81[_0x2666e0(0x2df)]=![],_0x326f81[_0x2666e0(0x264)]=null,_0x326f81[_0x2666e0(0x234)]='';const _0x41ce73=_0x326f81;try{let _0x4f8133='';const _0x461878=_0x2666e0(0x224)+global_registry[_0x2666e0(0x344)]+_0x2666e0(0x28c)+global_registry[_0x2666e0(0x2a3)],_0x330619=await this[_0x2666e0(0x25b)](global_registry[_0x2666e0(0x2c5)]);if(_0x2e83ba['SrHMT'](_0x330619[_0x2666e0(0x264)],null))return _0x41ce73[_0x2666e0(0x264)]=_0x330619[_0x2666e0(0x264)],_0x41ce73;const _0xb636d3=_0x2666e0(0x3cc)+_0x330619[_0x2666e0(0x3e0)]+'\x27)',_0x17737a={};_0x17737a['filter']=_0xb636d3;const _0x1ab1ec=await this[_0x2666e0(0x2bc)][_0x2666e0(0x321)][_0x2666e0(0x2fb)](_0x461878,_0x17737a),_0x2ec600=[];for await(const _0x2e106c of _0x1ab1ec){_0x2ec600[_0x2666e0(0x279)](_0x2e106c);}if(_0x2e83ba[_0x2666e0(0x27e)](_0x2ec600[_0x2666e0(0x233)],0x0))return _0x41ce73[_0x2666e0(0x234)]=_0x2e83ba['vmMMW'],_0x41ce73;const _0x2a94e2=[...new Set(_0x2ec600[_0x2666e0(0x32d)](_0x385641=>_0x385641[_0x2666e0(0x218)]))];if(_0x2e83ba[_0x2666e0(0x27e)](_0x2a94e2[_0x2666e0(0x233)],0x0))return _0x41ce73[_0x2666e0(0x234)]=_0x2e83ba[_0x2666e0(0x36c)],_0x41ce73;const _0x1a7f1f=[],_0x58091b=[];for(const _0x3788ec of _0x2a94e2){const _0x283356=await this[_0x2666e0(0x2bc)][_0x2666e0(0x2ac)][_0x2666e0(0x364)](_0x3788ec);logger['debug']('role\x20name\x20attached\x20-\x20'+_0x283356['roleName']),_0x1a7f1f['push'](_0x283356),logger[_0x2666e0(0x23b)](_0x2666e0(0x316)+JSON[_0x2666e0(0x3d0)](_0x283356['permissions'])),_0x283356[_0x2666e0(0x266)][_0x2666e0(0x37d)](_0x55cdc7=>{const _0x12a1b9=_0x2666e0;_0x58091b[_0x12a1b9(0x279)](..._0x55cdc7[_0x12a1b9(0x350)]);});}logger[_0x2666e0(0x23b)](_0x2666e0(0x35c)+JSON['stringify'](_0x58091b)),_0x2e83ba['LEHDM'](_0x58091b['length'],0x0)&&(_0x4f8133+=_0x2e83ba[_0x2666e0(0x3bd)](_0x58091b[_0x2666e0(0x233)],0x0)?_0x2e83ba[_0x2666e0(0x3ab)]:'',logger[_0x2666e0(0x23b)](_0x2666e0(0x390)+JSON[_0x2666e0(0x3d0)](_0x1a7f1f))),_0x41ce73[_0x2666e0(0x2df)]=!![],Object['entries'](PERMISSIONS[_0x2666e0(0x31a)])[_0x2666e0(0x37d)](([_0x5a0cb7,_0x2b712f])=>{const _0xb17d27=_0x2666e0,_0x8a0d92=_0x58091b[_0xb17d27(0x2a1)](_0x5a0cb7);_0x4f8133+='\x0a\x09'+_0x2b712f+':\x20'+(_0x8a0d92?_0x2e83ba[_0xb17d27(0x322)]:_0x2e83ba[_0xb17d27(0x23c)]),!_0x8a0d92&&(_0x41ce73['status']=![]);}),_0x41ce73[_0x2666e0(0x234)]=_0x4f8133;}catch(_0x5df29c){_0x41ce73['error']=_0x5df29c;}return _0x41ce73;}}function a1_0x546c(){const _0x3cc14e=['pNSsh','.\x20Error:\x20','beginCreateOrUpdateAndWait','listForScope','oZhCS','cloudProviderClientSecret','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','ndqfN','SDAdD','yITEf','.json','gWeEq','disableLocalAccounts','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','4|3|5|1|2|0','5069232RYcKAh','EBxmZ','kpZCp','QsVRY','cred','sWLlF','corQj','puqSf','token','cloudProviderName','turboscale-cluster-deployment','RVXxS','isBrowserstackCluster','DeRkA','IpTOU','Attached\x20permissions\x20:\x20','subnets','\x20CLIENT\x20ID:\x20','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','ACTION','createCluster','cloudProvider','hpoWO','PEGcf','HBFwU','uCgPa','roleAssignments','yMaHV','JYeJB','resourceGroups','jcxQZ','hKQGM','tjgOL','SrHMT','rTdhK','hostname','method','Authorization','map','LIjYP','PTuFh','deleteCluster','Found\x20only\x20one\x20resource\x20group:\x20','HhUiR','hub','qHkbT','ouRUI','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','tyzuV','srmaN','maxNodes','RfcEk','2|4|5|3|1|0','\x20RESOURCE\x20GROUP:\x20','dAqkE','clusterName','YHGMM','Cannot\x20find\x20subnets\x20','enabled','pdIMo','fEXGx','cloudProviderSubscriptionId','setClients','aVyyC','fDOga','yMTMA','ptRBd','createOtherResources','DCTHZ','toString','managementPolicies','path','oTVWd','actions','securityProfile','No\x20service\x20principal\x20found','EecPr','json','deployments','CVxUh','tOvHs','turboscale-managed-identity-','resources','Creating\x20Azure\x20federated\x20identity','eoHQT','actionPermission\x20:\x20','getUserInput','IqvRQ','tags','allowed','sRjuv','clusterAutoUpgrade','UDYXE','getById','getResourceGroups','mDjGa','checkAccess','getGridHostname','toUpperCase','nmOgQ','mBwIr','jfGVI','instanceType','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','getStorageAccountName','YXsQi','join','15EhVXTD','ApvxX','DaIST','eCjDm','workloadIdentity','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','ldyhA','storageClient','./CloudProvider','denied','AgIbM','forEach','EWvws','yDtHd','bstackUsername','@azure/arm-storage','turboscale-federated-deployment','Blob\x20delete\x20lifecycle','clusterInfo','wLKqF','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','sjXsO','zULBb','izIPb','daysAfterCreationGreaterThan','QDCpR','UuJrO','Sjyel','XVnvZ','rpoRT','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','type','DCXua','WDUpb','BomfH','properties','xCwqr','SPhLA','LFZXH','geWDC','createFederatedAccount','ScOyv','eupjY','rvsxs','5|1|3|0|2|4','QLTmx','filters','Ypycl','KPLeP','kbito','iFZEK','info','PUMpJ','isClusterPresent','turboscale-storageaccount-deployment','vpcName','UdBQq','BYgOM','AWWqG','azureresources','CnRLR','NQiBu','NoMtI','CTTpr','description','rules','rws','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','JTZkg','SeWOC','cloudProviderTenantId','1116801bXKqzv','true','message','Bearer\x20','VNtYw','WRCyV','feRIt','GET','amclm','THksq','headers','vpcInfo','RESOURCES','vxpxQ','NoIno','isSubnetsValid','BrowserStack','BtEhm','qtwcQ','assignedTo(\x27','qIPxe','loadBalancer','init','stringify','username','65896DjNyrS','WxDeD','variables','createManagedIdentity','BiSzd','location','AJthT','split','Content-Type','dUGer','HkrLc','No\x20CLI\x20tool\x20required','Received\x20response\x20-\x20','false','principalId','kXtXI','epeRL','Creating\x20Azure\x20managed\x20identity','DILyS','KfGHk','wlnzS','resourceClient','Created\x20Azure\x20federated\x20identity','CKbeB','joPXL','qlRRb','QlstQ','@azure/arm-containerservice','qXrNj','sendEventToBackend','turboscale-identity-deployment','jYcfZ','ghzxU','GIHkn','No\x20attached\x20role\x20for\x20the\x20client\x20key','getToken','leZXn','qaDxM','THQBi','accessKey','delete','KfaOQ','nTVqQ','resourceGroup','LOG','REfEw','ukYcc','JLjUF','hubHaNameSpace','PekQX','js-yaml','readFileAsync','CuCKN','dBlNT','Cannot\x20find\x20VPC\x20','LxYFv','getClusterInfo','virtualNetworks','Ouseo','roleDefinitionId','QebxQ','value','aPFcP','zieLv','EctWn','mYRMO','isManagedIdentityPresent','clientSecret','ARqGT','qEyrx','apdLd','subscriptions/','userInstanceType','mryJy','VZwAH','listAll','FKYvb','Storage\x20account\x20already\x20exists,\x20skipping','Dhtjj','setCachedCredsInRegistry','hpHsC','Fibyz','Enabling\x20Local\x20account\x20for\x20the\x20cluster','EzXHG','ZxOFY','PbFAH','length','data','oDEeu','KrvUC','1636292sKgccb','OYIUs','kubeconfigs','createOrUpdate','debug','smZKG','networkClient','get','pPOfa','OjreT','../config/logger','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','fSZpy','webSocketUtils','vGjnZ','vBapM','pefum','qMDWf','sendAzureInfoToHST','baseBlob','VDBlC','AHbRZ','pWxQh','definition','tenantId','PyJmT','createStorageAccount','oidcIssuerProfile','\x20SUBSCRIPTION\x20ID:\x20','vLqsK','CcoVF','parameters','slice','dqnMH','DoQeF','faCTI','getPrincipalIdFromClientId','islwj','7996hIMSBO','subscriptionId','ksyON','@azure/arm-network','templates','listClusterAdminCredentials','JFsZX','error','SftWp','permissions','10669761uhksJY','3792138ETqtUA','wMQtD','IenUl','fvspQ','[variables(\x27vnetSubnetID\x27)]','JAcQS','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','aEcMx','qzxqH','kgIwb','HlXnf','issuerURL','Deleting\x20the\x20cluster\x20','sKmjk','\x20CLIENT\x20SECRET:\x20','FOLbl','IjEbA','push','parse','lWZsn','UmCgw','oCKJe','LEHDM','createFederatedAccountForHubHA','jwsqt','LgAZh','@azure/arm-resources','MljoO','QIJIi','s3Bucket','AXAWe','node','AzureCloudProvider','subnetName','JkmRE','sreFX','/resourceGroups/','listByResourceGroup','managedidentity.json','exit','Lifecycle','https://graph.microsoft.com/.default','blobTypes','getResourceClientId','mkXMq','CuxaQ','CmGiT','stack','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','Deleted\x20the\x20cluster\x20successfully','CnXQI','Gxoca','zWmOB','WfTkH','ktWHj','EzNGg','DJeWD','includes','VsbDT','cloudProviderResourceGroup','Action\x20permission\x20list\x20is\x20empty\x0a','svSeB','XkAAI','@azure/arm-authorization','FUGZz','EDFQS','name','MAtQj','roleDefinitions','PUhaz','ETwWi','turboscale','containerClient','managedClusters','@azure/identity','metadata','53VnRdSI','YAsWH','gKHdr','getHeader','agentPoolProfiles','admeJ','../config/constants','xLWrl','authClient','ZaMuB','Ngssz','beginDeleteAndWait','dhuha','KlJVe','bstackAccesskey','storageAccounts','vnetSubnetID','cloudProviderClientId','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','NxSNR','isCliToolInstalled','Managed\x20identity\x20already\x20exists,\x20skipping','wuBzo','klLKV','rvfYl','hfEIv','HHvNR','JUSen','dpzaQ','toLowerCase','AYjnN','default','kAHGf','xbVJH','ltWUx','fezfv','MZVYH','jzPXB','clientId','Orpdh','PVHpH','application/json','federatedidentityuploader.json','status','wtXqJ','Orqqs','isStorageAccountPresent','CVtQv','ncYDs','hubharesources','Edpqe','vvVqu','AzyNi','PLyIl','setupHubHa','string','\x20TENANT\x20ID:\x20','jcbNs','yGhIK','ZbnwK','SBHYP','tihbO','ingress','Incremental','DvlOy','federatedidentity','utf-8','vUoQr'];a1_0x546c=function(){return _0x3cc14e;};return a1_0x546c();}const a1_0x13bbe4={};function a1_0x49f6(_0x191d96,_0x4f5fcb){const _0x546c42=a1_0x546c();return a1_0x49f6=function(_0x49f6a5,_0xb6f0b4){_0x49f6a5=_0x49f6a5-0x1ec;let _0x58f5ed=_0x546c42[_0x49f6a5];return _0x58f5ed;},a1_0x49f6(_0x191d96,_0x4f5fcb);}a1_0x13bbe4[a1_0x32a0a0(0x288)]=AzureCloudProvider,module['exports']=a1_0x13bbe4;