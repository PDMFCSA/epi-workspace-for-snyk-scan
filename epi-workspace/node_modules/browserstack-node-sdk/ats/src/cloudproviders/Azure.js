function a1_0x48e1(_0xfb1380,_0x483117){const _0x130f06=a1_0x130f();return a1_0x48e1=function(_0x48e1d7,_0x11993f){_0x48e1d7=_0x48e1d7-0x7e;let _0x5a1874=_0x130f06[_0x48e1d7];return _0x5a1874;},a1_0x48e1(_0xfb1380,_0x483117);}function a1_0x130f(){const _0x46f6d4=['../utils/gridComponents','updateClusterAlreadyPresent','HzypT','rvSVe','Cannot\x20find\x20subnets\x20','type','exit','map','bkjhs','rJhMV','iJqCk','FFofD','name','denied','SRWGA','actionPermission\x20:\x20','@azure/arm-network','createOtherResources','getToken','hLtTZ','cUrXp','debug','MHaqK','MeHgY','role\x20name\x20attached\x20-\x20','message','../config/logger','log','rkOBo','kywvn','gridName','checkAccess','zIHMX','isStorageAccountPresent','toString','11232NrWrlz','GfqZn','akscluster.json','\x20RESOURCE\x20GROUP:\x20','RESOURCES','PpTiM','isClusterPresent','LMKpw','createFederatedAccount','RTKQw','getResourceClientId','BrowserStack','pfoBa','govDD','oidcIssuerProfile','FiVAz','BFLMn','fKJwe','get','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','YiAYW','getClusterInfo','VcrxW','Creating\x20Azure\x20federated\x20identity','Creating\x20Azure\x20storage\x20account','rws','Deleting\x20the\x20cluster\x20','BKLBA','cedRp','NDRry','fvqXb','OeFwC','hostname','jTsaB','cloudProviderClientSecret','join','XvqbL','exports','GlfdV','cJQMQ','ExwoI','managedClusters','YHgXg','TiOtq','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','gtDzw','permissions','SLgcb','listByResourceGroup','createFederatedAccountForHubHA','eIkUe','phMeF','ECOjj','properties','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','cAKon','XitBK','LOG','ANVKw','DtNMx','parse','browserstack:managedBy','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','610729hgxDJo','roleDefinitionId','kDorn','cxvvV','TtztA','KGsBb','PBslZ','allowed','getUserInput','neaBx','aDKCu','NNPEz','cPfFY','KIhpi','managementPolicies','gFdDl','ACTION','eXhDR','CGkbr','vXLvU','userMaxNodes','pHuSt','location','fpjhW','sIzdv','UopUZ','s3Bucket','Received\x20response\x20-\x20','dGgeL','ObMFz','value','cloudProviderTenantId','token','Jhpad','hHEpH','definition','forEach','taOuk','rUvsG','AthVJ','dSXeX','jznAc','stack','sZytP','js-yaml','gElJO','managedidentity.json','slice','afZcF','zAvHJ','@azure/arm-storage','yAaED','Created\x20Azure\x20federated\x20identity','clientId','cloudProviderResourceGroup','196uCocCq','entries','KRjqh','disableLocalAccounts','IxcEO','getGridHostname','parameters','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','scYNQ','qrheD','.\x20Error:\x20','webSocketUtils','authClient','beginDeleteAndWait','length','listClusterAdminCredentials','info','zTYOM','gKFNL','tOPXj','JCPoL','filter','DZprK','loadBalancer','FJTzA','actions','ZWuES','resources','KuLda','kiGcg','includes','\x20CLIENT\x20SECRET:\x20','aWWWf','storageAccountName','uMkzr','list','agentPoolProfiles','UCOWT','true','GIipq','sKsej','qOiZd','wSsAn','securityProfile','IVyIa','instanceType','CdBoQ','status','CEHpo','No\x20service\x20principal\x20found','RReqG','OVzIC','WIJZA','XAzlt','AgmHm','turboscale-federated-deployment','cloudProviderClientId','Spjik','Authorization','vnetSubnetID','mTRqr','oRVAx','qDlWe','uEhqL','NNQfs','ztNFl','moctW','QNjFK','Cvcbd','roleName','3628779vBaVyF','AsTYj','tsiKR','virtualNetworks','2|5|3|4|1|0','tPmzL','pcJzl','rYxto','NNjhU','BQKqc','XBmgT','issuerURL','hybcL','cred','@azure/arm-authorization','hYDXD','deployments','3333480mFJZoZ','zkxQj','frKkZ','ozVkt','federatedidentityuploader.json','NLVPv','../utils/utilityMethods','\x20TENANT\x20ID:\x20','hub','trInb','networkClient','uxbWR','Managed\x20identity\x20already\x20exists,\x20skipping','stringify','createOrUpdate','244iGIonR','CuqlM','jdrNN','vpcInfo','llOfh','storageClient','koMQh','OSOIj','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','LiWFV','getPrincipalIdFromClientId','mOLRZ','turboscale-managed-identity-','CxNxm','Lrvtu','HMJYn','RIXSw','6|3|5|7|0|4|2|1','../permissions/AZURE.json','variables','Attached\x20permissions\x20:\x20','VetpV','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','cloudProvider','path','BkwIR','error','containerClient','OJtcH','clientSecret','oiKfb','utf-8','JvqtR','bstackAccesskey','Blob\x20delete\x20lifecycle','subscriptionId','dpISF','No\x20attached\x20role\x20for\x20the\x20client\x20key','wipGb','maxNodes','jqunB','getStorageAccountName','deleteCluster','rKzHT','metadata','turboscale-cluster-deployment','DSaRY','IinOs','WYxKO','sendEventToBackend','IqdOt','kErrs','createStorageAccount','data','KATIz','SgHZL','14360qncEIo','EzZAV','kMwNb','uCXoD','nZcXm','accessKey','lVCVn','resourceGroup','GMptp','description','vCMrC','OwbkS','ArjtF','node','setClients','No\x20CLI\x20tool\x20required','jskHN','wloCK','QBTEq','iOLPH','push','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','isBrowserstackCluster','CVObp','wKXPd','zVbsI','ElLau','createCluster','LxXqg','xlaeb','tklCW','Incremental','qDYWf','YVYzs','RInCF','setCachedCredsInRegistry','turboscale-identity-deployment','vfPTM','hSaNl','Hpaon','false','BwfjL','Content-Type','readFileAsync','roleDefinitions','nLjPN','templates','sJdSC','createManagedIdentity','EQNJu','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','aGDuL','HcKlf','vpcName','6iNzohl','/resourceGroups/','nnxox','IbuFz','split','PYcEx','YueCo','459vbUoHL','VnGNX','enabled','getHeader','setupHubHa','355546djXMsW','1908nvyzNs','szPEg','\x20SUBSCRIPTION\x20ID:\x20','blobTypes','LTbok','WgWut','TKeGE','storageaccount.json','ULHhD','pKWnr','dwUav','kQykk','ZjVKZ','[variables(\x27vnetSubnetID\x27)]','wmyoo','YUrud','@azure/arm-resources','azureresources','resourceClient','XPAsq','init','clusterRegion','WVLFw','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','tyjGj','headers','xVvXn','uZELd','QBpBm','principalId','BWlbZ','qsMgZ','pSEoD','ZxCdV','Storage\x20account\x20already\x20exists,\x20skipping','clusterName','frzwp','GET','BxJEv','workloadIdentity','2023-01-31','yoRZH','LePUQ','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','qRClX','setupNewCluster','daysAfterCreationGreaterThan','yYQGY','AnfnN','FCkxl','ehibU','hHykZ','XGNkj','oYgJd','NMMvm','listAll','tKfmw','beginCreateOrUpdateAndWait','taoed','.json','Bearer\x20','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','uDSYu','clusterInfo','OKHWY','method','5|4|1|0|2|3','cloudProviderSubscriptionId','RfJPC','yASXG','MPTEW','../config/constants','VSNme','application/json','aBnMn','isSubnetsValid','gtKcA','AQvNt','XtkAi','VCxIu','Deleted\x20the\x20cluster\x20successfully','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','hQKWq','UWLsU','lNFjM','ehBdT','apPNo','getResourceGroups','Cannot\x20find\x20VPC\x20','ZGPyv','hubharesources','CarHF','WYNsm','mabQz','hubHaNameSpace','LAJnb','YtRfO','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','RBBhS','clusterAutoUpgrade','tenantId','string','userInstanceType','uRITv','kubeconfigs','qpMMn','@azure/identity','XSprX','KpriQ','filters','Action\x20permission\x20list\x20is\x20empty\x0a','getById','qwsge','turboscale','isManagedIdentityPresent','cloudProviderName','toLowerCase','NXWhv','AEMql'];a1_0x130f=function(){return _0x46f6d4;};return a1_0x130f();}const a1_0x5b69c3=a1_0x48e1;(function(_0x36d1b2,_0x18a234){const _0x16325f=a1_0x48e1,_0x54294b=_0x36d1b2();while(!![]){try{const _0x20421c=-parseInt(_0x16325f(0x236))/0x1+-parseInt(_0x16325f(0x1bc))/0x2*(-parseInt(_0x16325f(0x231))/0x3)+parseInt(_0x16325f(0x156))/0x4*(parseInt(_0x16325f(0x1f4))/0x5)+-parseInt(_0x16325f(0x22a))/0x6*(-parseInt(_0x16325f(0x11f))/0x7)+parseInt(_0x16325f(0xe0))/0x8*(parseInt(_0x16325f(0x237))/0x9)+parseInt(_0x16325f(0x1ad))/0xa+-parseInt(_0x16325f(0x19c))/0xb;if(_0x20421c===_0x18a234)break;else _0x54294b['push'](_0x54294b['shift']());}catch(_0x183639){_0x54294b['push'](_0x54294b['shift']());}}}(a1_0x130f,0x2eeca));const fs=require('fs'),path=require(a1_0x5b69c3(0x1d4)),yaml=require(a1_0x5b69c3(0x14b)),{logger}=require(a1_0x5b69c3(0xd7)),{CloudProvider}=require('./CloudProvider'),{deleteRoutingDeps,deleteAgent}=require(a1_0x5b69c3(0xbd)),{AZURE,WS_EVENTS,global_registry}=require(a1_0x5b69c3(0x8d)),PERMISSIONS=require(a1_0x5b69c3(0x1ce)),{ClientSecretCredential}=require(a1_0x5b69c3(0xb0)),{NetworkManagementClient}=require(a1_0x5b69c3(0xcd)),{StorageManagementClient}=require(a1_0x5b69c3(0x151)),{AuthorizationManagementClient}=require(a1_0x5b69c3(0x1aa)),{ResourceManagementClient}=require(a1_0x5b69c3(0x247)),{ContainerServiceClient}=require('@azure/arm-containerservice'),{runCommand}=require(a1_0x5b69c3(0x1b3));class AzureCloudProvider extends CloudProvider{constructor(_0xb1d528,_0xe663c3,_0x27b13a,_0x3851cb){const _0x4a5820=a1_0x5b69c3,_0x142611={};_0x142611[_0x4a5820(0xe9)]=_0x4a5820(0x1cd);const _0x55b205=_0x142611,_0x207212=_0x55b205['RTKQw'][_0x4a5820(0x22e)]('|');let _0x569509=0x0;while(!![]){switch(_0x207212[_0x569509++]){case'0':this[_0x4a5820(0x1c1)]=null;continue;case'1':this['authClient']=null;continue;case'2':this[_0x4a5820(0x1b7)]=null;continue;case'3':this[_0x4a5820(0x1a9)]=null;continue;case'4':this[_0x4a5820(0x249)]=null;continue;case'5':this[_0x4a5820(0x85)]=null;continue;case'6':super(AZURE,_0xb1d528,_0xe663c3,_0x27b13a,_0x3851cb);continue;case'7':this[_0x4a5820(0x1d7)]=null;continue;}break;}}async[a1_0x5b69c3(0x24b)](){const _0x13ab71=a1_0x5b69c3;return await super[_0x13ab71(0x24b)](),this;}[a1_0x5b69c3(0x202)](){const _0xde1c76=a1_0x5b69c3,_0xf57839=new ClientSecretCredential(global_registry['cloudProviderTenantId'],global_registry['cloudProviderClientId'],global_registry[_0xde1c76(0x102)]);this[_0xde1c76(0x1d7)]=new ContainerServiceClient(_0xf57839,global_registry[_0xde1c76(0x89)]),this['storageClient']=new StorageManagementClient(_0xf57839,global_registry[_0xde1c76(0x89)]),this['resourceClient']=new ResourceManagementClient(_0xf57839,global_registry[_0xde1c76(0x89)]),this['networkClient']=new NetworkManagementClient(_0xf57839,global_registry['cloudProviderSubscriptionId']),this[_0xde1c76(0x162)]=new AuthorizationManagementClient(_0xf57839,global_registry[_0xde1c76(0x89)]),this[_0xde1c76(0x1a9)]=_0xf57839;}['getStorageAccountName'](){const _0x2d9be6=a1_0x5b69c3,_0x3fcf5b={};_0x3fcf5b[_0x2d9be6(0x245)]=function(_0x1b0761,_0x5cd8fd){return _0x1b0761+_0x5cd8fd;},_0x3fcf5b[_0x2d9be6(0x8e)]=_0x2d9be6(0xb7),_0x3fcf5b['hybcL']=function(_0x33f6b5,_0x26794d){return _0x33f6b5-_0x26794d;};const _0x436f6e=_0x3fcf5b,_0x23d78d=global_registry[_0x2d9be6(0x139)]['split']('-'),_0x44f6bb=_0x436f6e['wmyoo'](_0x436f6e[_0x2d9be6(0x8e)],_0x23d78d[_0x436f6e[_0x2d9be6(0x1a8)](_0x23d78d['length'],0x1)])[_0x2d9be6(0x14e)](0x0,0x18);return _0x44f6bb[_0x2d9be6(0xba)]();}[a1_0x5b69c3(0x217)](_0xd3c409){const _0x430410=a1_0x5b69c3,_0x3f37a5={};_0x3f37a5['kErrs']='0|4|5|2|3|1';const _0x50e45a=_0x3f37a5,_0x375aff=_0x50e45a[_0x430410(0x1ef)][_0x430410(0x22e)]('|');let _0x3c1a07=0x0;while(!![]){switch(_0x375aff[_0x3c1a07++]){case'0':global_registry[_0x430410(0x18e)]=_0xd3c409[this[_0x430410(0xb9)]][_0x430410(0x154)];continue;case'1':this[_0x430410(0x202)]();continue;case'2':global_registry[_0x430410(0x89)]=_0xd3c409[this['cloudProviderName']][_0x430410(0x1df)];continue;case'3':global_registry[_0x430410(0x155)]=_0xd3c409[this[_0x430410(0xb9)]]['resourceGroup'];continue;case'4':global_registry[_0x430410(0x102)]=_0xd3c409[this[_0x430410(0xb9)]][_0x430410(0x1d9)];continue;case'5':global_registry[_0x430410(0x13e)]=_0xd3c409[this[_0x430410(0xb9)]][_0x430410(0xaa)];continue;}break;}}async[a1_0x5b69c3(0x127)](_0x2d35d3,_0x670571){const _0x2015fe=a1_0x5b69c3,_0xc7bf91={'XGNkj':_0x2015fe(0x259),'JEILK':_0x2015fe(0x1b9),'bkjhs':function(_0x5bf8ad,_0x184df4){return _0x5bf8ad===_0x184df4;},'MeHgY':_0x2015fe(0x88),'sIzdv':function(_0x412107,_0x5ba11d){return _0x412107===_0x5ba11d;},'nZcXm':'Action\x20permission\x20list\x20is\x20empty\x0a','KIhpi':function(_0x5665a6,_0x47d168){return _0x5665a6(_0x47d168);},'uRITv':function(_0x2bc8ba,_0x414b8d){return _0x2bc8ba(_0x414b8d);},'ULHhD':function(_0x393acc,_0xa24860){return _0x393acc(_0xa24860);},'szPEg':function(_0x37cce8,_0x5afc23){return _0x37cce8!==_0x5afc23;},'cUrXp':_0x2015fe(0x194),'jTsaB':function(_0xbcf204,_0x21f024){return _0xbcf204===_0x21f024;},'mTRqr':_0x2015fe(0xb6),'ZICBj':function(_0x2a1a36,_0x9efbed){return _0x2a1a36(_0x9efbed);},'ztNFl':function(_0x1b23a3,_0x35e621){return _0x1b23a3===_0x35e621;},'gKFNL':function(_0x1a45b7,_0x22cde8){return _0x1a45b7===_0x22cde8;},'BFLMn':'dZYxz','EzZAV':_0x2015fe(0x97),'neaBx':_0x2015fe(0x1b8),'GlfdV':_0x2015fe(0x1ea),'NXWhv':function(_0x158eb3,_0x4e0c8c){return _0x158eb3<_0x4e0c8c;},'XtkAi':_0x2015fe(0x26c),'NTowP':_0x2015fe(0x251),'iOLPH':function(_0x477d7a,_0x19e6a0){return _0x477d7a+_0x19e6a0;},'CTcbe':_0x2015fe(0x116),'UCOWT':function(_0x187d02,_0x5a5272){return _0x187d02(_0x5a5272);},'pHuSt':function(_0xc13a12,_0x5eafa0){return _0xc13a12<=_0x5eafa0;},'wKXPd':function(_0x139ea9,_0x2e8145){return _0x139ea9>_0x2e8145;},'ObMFz':_0x2015fe(0x122),'KRjqh':function(_0x5c8f9e,_0x3cc964){return _0x5c8f9e-_0x3cc964;}},_0x22eb6c=this[_0x2015fe(0xb9)]['toUpperCase'](),_0x17262f=await _0xc7bf91[_0x2015fe(0x12c)](_0x2d35d3,_0x22eb6c+'\x20CLIENT\x20ID:\x20'),_0x4a37ed=await _0xc7bf91[_0x2015fe(0xad)](_0x2d35d3,_0x22eb6c+_0x2015fe(0x175)),_0x2d6ebd=await _0xc7bf91[_0x2015fe(0x23f)](_0x2d35d3,_0x22eb6c+_0x2015fe(0x1b4)),_0x57c7f9=await _0xc7bf91[_0x2015fe(0x23f)](_0x2d35d3,_0x22eb6c+_0x2015fe(0x239));global_registry['cloudProviderClientId']=_0x17262f,global_registry[_0x2015fe(0x102)]=_0x4a37ed,global_registry[_0x2015fe(0x13e)]=_0x2d6ebd,global_registry['cloudProviderSubscriptionId']=_0x57c7f9,this[_0x2015fe(0x202)]();const _0x5e0fff=await this['getResourceGroups'](),_0x4e3e36=_0x5e0fff[_0x2015fe(0x164)];let _0x349536;if(_0xc7bf91[_0x2015fe(0xc5)](_0x4e3e36,0x0))_0xc7bf91['szPEg'](_0xc7bf91['cUrXp'],_0xc7bf91[_0x2015fe(0xd1)])?_0x93af52[_0x2015fe(0x166)](_0xc7bf91[_0x2015fe(0x26b)]):_0x349536=await _0xc7bf91[_0x2015fe(0xad)](_0x2d35d3,_0x22eb6c+_0x2015fe(0xe3));else{if(_0xc7bf91[_0x2015fe(0x101)](_0x4e3e36,0x1)){if(_0xc7bf91[_0x2015fe(0xc5)](_0xc7bf91[_0x2015fe(0x192)],_0xc7bf91[_0x2015fe(0x192)])){const _0x27bdeb=await _0xc7bf91['ZICBj'](_0x2d35d3,'Found\x20only\x20one\x20resource\x20group:\x20'+_0x5e0fff[0x0]+_0x2015fe(0x1d2));(_0xc7bf91[_0x2015fe(0x197)](_0x27bdeb,undefined)||_0xc7bf91[_0x2015fe(0x137)](_0x27bdeb,null)||!(_0xc7bf91[_0x2015fe(0xc5)](_0x27bdeb[_0x2015fe(0xba)](),'y')||_0xc7bf91[_0x2015fe(0x168)](_0x27bdeb[_0x2015fe(0xba)](),'n')))&&(_0xc7bf91[_0x2015fe(0x238)](_0xc7bf91[_0x2015fe(0xf0)],_0xc7bf91[_0x2015fe(0xf0)])?_0x313440[_0x2015fe(0x166)](_0xc7bf91['JEILK']):(console[_0x2015fe(0x1d6)](_0xc7bf91[_0x2015fe(0x1f5)]),process['exit'](0x1)));if(_0xc7bf91['sIzdv'](_0x27bdeb['toLowerCase'](),'n')){if(_0xc7bf91[_0x2015fe(0x197)](_0xc7bf91[_0x2015fe(0x128)],_0xc7bf91[_0x2015fe(0x128)]))process[_0x2015fe(0xc3)](0x0);else{if(_0xc7bf91[_0x2015fe(0xc5)](_0x2d9110[_0x2015fe(0xc9)],'turboscale-managed-identity-'+this[_0x2015fe(0x25a)]))return!![];}}_0x349536=_0x5e0fff[0x0];}else return _0x3b6e49[_0x2015fe(0x185)]['loadBalancer']['ingress'][0x0][_0x2015fe(0x100)];}else{if(_0xc7bf91[_0x2015fe(0x238)](_0xc7bf91[_0x2015fe(0x106)],_0xc7bf91[_0x2015fe(0x106)]))return!![];else{for(let _0x3625d2=0x0;_0xc7bf91[_0x2015fe(0xbb)](_0x3625d2,_0x5e0fff[_0x2015fe(0x164)]);_0x3625d2+=0x1){if(_0xc7bf91[_0x2015fe(0xc5)](_0xc7bf91[_0x2015fe(0x94)],_0xc7bf91['NTowP'])){const _0x2ab1cd=_0xc7bf91[_0x2015fe(0xd4)]['split']('|');let _0x57f87a=0x0;while(!![]){switch(_0x2ab1cd[_0x57f87a++]){case'0':_0x59ab88[_0x2015fe(0x89)]=_0x1d196d[this[_0x2015fe(0xb9)]][_0x2015fe(0x1df)];continue;case'1':_0x5b64a0['cloudProviderTenantId']=_0x290d73[this[_0x2015fe(0xb9)]]['tenantId'];continue;case'2':_0x2878f3[_0x2015fe(0x155)]=_0x5a007c[this[_0x2015fe(0xb9)]][_0x2015fe(0x1fb)];continue;case'3':this[_0x2015fe(0x202)]();continue;case'4':_0x31ffa3['cloudProviderClientSecret']=_0x1defb3[this['cloudProviderName']][_0x2015fe(0x1d9)];continue;case'5':_0x2c935d[_0x2015fe(0x18e)]=_0x1b29c0[this['cloudProviderName']][_0x2015fe(0x154)];continue;}break;}}else console['log']('['+_0xc7bf91[_0x2015fe(0x207)](_0x3625d2,0x1)+']\x20'+_0x5e0fff[_0x3625d2]);}const _0x5cc902=await _0xc7bf91[_0x2015fe(0x23f)](_0x2d35d3,_0xc7bf91['CTcbe']),_0x57202b=_0xc7bf91[_0x2015fe(0x17b)](Number,_0x5cc902);(_0xc7bf91[_0x2015fe(0x12c)](isNaN,_0x57202b)||_0xc7bf91[_0x2015fe(0x134)](_0x57202b,0x0)||_0xc7bf91[_0x2015fe(0x20c)](_0x57202b,_0x4e3e36))&&(_0xc7bf91[_0x2015fe(0x238)](_0xc7bf91['ObMFz'],_0xc7bf91[_0x2015fe(0x13c)])?(_0xff1cfa+=_0xc7bf91[_0x2015fe(0x137)](_0x3906e3['length'],0x0)?_0xc7bf91[_0x2015fe(0x1f8)]:'',_0x28bdd7[_0x2015fe(0xd2)]('Role\x20definition\x20response\x20list\x20\x20:\x20\x20'+_0x405032['stringify'](_0x45d4e9))):(console['error'](_0xc7bf91['EzZAV']),process[_0x2015fe(0xc3)](0x1))),_0x349536=_0x5e0fff[_0xc7bf91[_0x2015fe(0x158)](_0x57202b,0x1)];}}}global_registry[_0x2015fe(0x155)]=_0x349536;const _0x17aacd={};return _0x17aacd[_0x2015fe(0x154)]=_0x17262f,_0x17aacd[_0x2015fe(0x1d9)]=_0x4a37ed,_0x17aacd[_0x2015fe(0xaa)]=_0x2d6ebd,_0x17aacd['subscriptionId']=_0x57c7f9,_0x17aacd[_0x2015fe(0x1fb)]=_0x349536,_0x670571['cloudProvider'][AZURE]=_0x17aacd,_0x670571;}async[a1_0x5b69c3(0x9d)](){const _0x5f2a5b=a1_0x5b69c3,_0x40ce58={};_0x40ce58[_0x5f2a5b(0x1ca)]=function(_0x4bd6a2,_0x16c46e){return _0x4bd6a2!==_0x16c46e;},_0x40ce58['KuLda']=_0x5f2a5b(0x1e7),_0x40ce58[_0x5f2a5b(0x241)]=_0x5f2a5b(0x129);const _0x5e21f1=_0x40ce58,_0x2ac8c4=[];try{if(_0x5e21f1[_0x5f2a5b(0x1ca)](_0x5e21f1[_0x5f2a5b(0x172)],_0x5e21f1[_0x5f2a5b(0x172)]))_0x58d22c['push'](..._0x5bebea['actions']);else{const _0x3610a2=await this[_0x5f2a5b(0x249)]['resourceGroups'][_0x5f2a5b(0x179)]();for await(const _0x927796 of _0x3610a2){_0x5e21f1['Lrvtu'](_0x5e21f1[_0x5f2a5b(0x241)],_0x5e21f1['dwUav'])?_0x3c3fa2[_0x5f2a5b(0x208)](_0x5528b4[_0x5f2a5b(0xc9)]):_0x2ac8c4[_0x5f2a5b(0x208)](_0x927796[_0x5f2a5b(0xc9)]);}}}catch(_0xda2da8){}return _0x2ac8c4;}async[a1_0x5b69c3(0xf5)](){const _0x362705=a1_0x5b69c3;return this['clusterInfo']=await this[_0x362705(0x1d7)]['managedClusters'][_0x362705(0xf2)](global_registry[_0x362705(0x155)],this[_0x362705(0x25a)]),this[_0x362705(0x85)];}async['getKubeConfigData'](){const _0x284360=a1_0x5b69c3,_0x279423=await this[_0x284360(0x1d7)][_0x284360(0x109)][_0x284360(0x165)](global_registry[_0x284360(0x155)],this[_0x284360(0x25a)]),_0x8442fc=_0x279423[_0x284360(0xae)][0x0][_0x284360(0x13d)][_0x284360(0xdf)]();return _0x8442fc;}[a1_0x5b69c3(0x15b)](_0x24a5b7){const _0x13ef0f=a1_0x5b69c3;return _0x24a5b7['status'][_0x13ef0f(0x16d)]['ingress'][0x0][_0x13ef0f(0x100)];}async[a1_0x5b69c3(0xe6)](){const _0x5b5851=a1_0x5b69c3,_0xbcfb0e={};_0xbcfb0e[_0x5b5851(0x118)]=_0x5b5851(0x83),_0xbcfb0e[_0x5b5851(0xaf)]=function(_0x239415,_0x31c748){return _0x239415===_0x31c748;},_0xbcfb0e[_0x5b5851(0x186)]=function(_0x26f094,_0xcf2811){return _0x26f094===_0xcf2811;},_0xbcfb0e[_0x5b5851(0x212)]=_0x5b5851(0xda),_0xbcfb0e[_0x5b5851(0xc0)]=_0x5b5851(0x20d),_0xbcfb0e[_0x5b5851(0x1c5)]=_0x5b5851(0x256),_0xbcfb0e['RBBhS']=_0x5b5851(0x225),_0xbcfb0e[_0x5b5851(0x138)]=function(_0x4fad0e,_0x5ef669){return _0x4fad0e===_0x5ef669;},_0xbcfb0e[_0x5b5851(0x152)]=_0x5b5851(0xb1),_0xbcfb0e['WgWut']=_0x5b5851(0x117);const _0x157375=_0xbcfb0e,_0x820a35=new Array();for await(const _0x5f5ce9 of this[_0x5b5851(0x1d7)][_0x5b5851(0x109)][_0x5b5851(0x110)](global_registry[_0x5b5851(0x155)])){if(_0x157375['CEHpo'](_0x157375[_0x5b5851(0x212)],_0x157375['rvSVe']))return _0x443007[_0x5b5851(0x1f1)]=_0x157375[_0x5b5851(0x118)],_0x11d760;else _0x820a35['push'](_0x5f5ce9);}for await(const _0x40caa9 of _0x820a35){if(_0x157375[_0x5b5851(0xaf)](_0x157375[_0x5b5851(0x1c5)],_0x157375[_0x5b5851(0xa8)]))_0x157375[_0x5b5851(0xaf)](_0x509f2a[_0x5b5851(0xc9)],_0x43fe9)&&(_0x4e7ea3=_0x4f1e9b['id']);else{if(_0x157375['UopUZ'](_0x40caa9[_0x5b5851(0xc9)],this[_0x5b5851(0x25a)]))return _0x157375[_0x5b5851(0x138)](_0x157375[_0x5b5851(0x152)],_0x157375[_0x5b5851(0x23c)])?(_0x3ebca6['error']=_0x9519e6[_0x5b5851(0x1d6)],_0x41b161):(await this['getClusterInfo'](),!![]);}}return![];}async[a1_0x5b69c3(0x264)](_0x1a01c1=null,_0x1f30b1=null){const _0x30d7f6=a1_0x5b69c3,_0x3b618e={};_0x3b618e[_0x30d7f6(0x246)]=_0x30d7f6(0x1a0),_0x3b618e[_0x30d7f6(0x216)]=_0x30d7f6(0x11e);const _0x37fba6=_0x3b618e,_0x2e1ca6=_0x37fba6[_0x30d7f6(0x246)][_0x30d7f6(0x22e)]('|');let _0x1b7aff=0x0;while(!![]){switch(_0x2e1ca6[_0x1b7aff++]){case'0':return[_0x1a01c1,_0x1f30b1];case'1':await this[_0x30d7f6(0xce)]();continue;case'2':this['sendAzureInfoToHST']();continue;case'3':logger['info'](_0x37fba6[_0x30d7f6(0x216)]);continue;case'4':await this[_0x30d7f6(0x20f)](_0x1a01c1,_0x1f30b1);continue;case'5':const _0x29e0c5={};_0x29e0c5[_0x30d7f6(0xc2)]=WS_EVENTS['LOG'],_0x29e0c5[_0x30d7f6(0xd6)]=_0x37fba6[_0x30d7f6(0x216)],this[_0x30d7f6(0x161)][_0x30d7f6(0x1ed)](this[_0x30d7f6(0xf9)],_0x29e0c5);continue;}break;}}async['createCluster'](_0xea3ffb=null,_0x584ec3=null){const _0x92d7c9=a1_0x5b69c3,_0x34aadf={};_0x34aadf[_0x92d7c9(0x14a)]=_0x92d7c9(0x222),_0x34aadf[_0x92d7c9(0x86)]='azureresources',_0x34aadf[_0x92d7c9(0x23d)]=_0x92d7c9(0xe2),_0x34aadf[_0x92d7c9(0x21b)]=_0x92d7c9(0x1db),_0x34aadf[_0x92d7c9(0x1a6)]=_0x92d7c9(0x17c),_0x34aadf['tCWGa']=_0x92d7c9(0x21c),_0x34aadf[_0x92d7c9(0x1ab)]=function(_0x1f5f9e,_0xb241d){return _0x1f5f9e!==_0xb241d;},_0x34aadf['koMQh']=function(_0x38c2bb,_0x1f24ac){return _0x38c2bb!==_0x1f24ac;},_0x34aadf['lNFjM']=_0x92d7c9(0xbf),_0x34aadf[_0x92d7c9(0xf6)]=_0x92d7c9(0xab),_0x34aadf[_0x92d7c9(0x1eb)]=_0x92d7c9(0x209),_0x34aadf[_0x92d7c9(0x221)]=_0x92d7c9(0xf3),_0x34aadf[_0x92d7c9(0xa1)]='[variables(\x27vnetSubnetID\x27)]',_0x34aadf[_0x92d7c9(0x196)]=_0x92d7c9(0x1e9),_0x34aadf[_0x92d7c9(0x25d)]=_0x92d7c9(0x213);const _0x2face5=_0x34aadf;let _0x2bb416=await fs[_0x92d7c9(0x21f)](path[_0x92d7c9(0x103)](__dirname,'..',_0x2face5[_0x92d7c9(0x14a)],_0x2face5[_0x92d7c9(0x86)],_0x2face5[_0x92d7c9(0x23d)]),_0x2face5[_0x92d7c9(0x21b)]);_0x2bb416=JSON[_0x92d7c9(0x11c)](_0x2bb416);const _0x577228={};_0x577228[_0x92d7c9(0x13d)]=this[_0x92d7c9(0x25a)];const _0x39f9cb={};_0x39f9cb[_0x92d7c9(0x13d)]=global_registry[_0x92d7c9(0x24c)];const _0x1b5e31={};_0x1b5e31['value']=global_registry[_0x92d7c9(0x183)];const _0x4d4afe={};_0x4d4afe[_0x92d7c9(0x13d)]=global_registry[_0x92d7c9(0x1e3)];const _0x463589={};_0x463589[_0x92d7c9(0x13d)]=global_registry['clusterAutoUpgrade']?_0x2face5[_0x92d7c9(0x1a6)]:_0x2face5['tCWGa'];const _0x590c2b={};_0x590c2b['clusterName']=_0x577228,_0x590c2b[_0x92d7c9(0x135)]=_0x39f9cb,_0x590c2b[_0x92d7c9(0xac)]=_0x1b5e31,_0x590c2b[_0x92d7c9(0x133)]=_0x4d4afe,_0x590c2b[_0x92d7c9(0xa9)]=_0x463589;let _0x9f51b0=_0x590c2b;if(_0x2face5[_0x92d7c9(0x1ab)](_0xea3ffb,null)&&_0x2face5[_0x92d7c9(0x1ab)](_0x584ec3,null)){if(_0x2face5[_0x92d7c9(0x1c2)](_0x2face5[_0x92d7c9(0x9a)],_0x2face5['lNFjM']))return;else{const _0x4b746f={};_0x4b746f[_0x92d7c9(0xc2)]=_0x2face5[_0x92d7c9(0xf6)],_0x4b746f[_0x92d7c9(0x1e8)]={},_0x4b746f[_0x92d7c9(0x1e8)][_0x92d7c9(0x1fd)]=_0x2face5[_0x92d7c9(0x1eb)];const _0x4a782a={};_0x4a782a[_0x92d7c9(0xc2)]=_0x2face5[_0x92d7c9(0xf6)],_0x4a782a[_0x92d7c9(0x1e8)]={},_0x4a782a[_0x92d7c9(0x1e8)]['description']=_0x2face5['IinOs'],_0x2bb416[_0x92d7c9(0x15c)]={..._0x2bb416[_0x92d7c9(0x15c)],'vpcName':_0x4b746f,'subnetName':_0x4a782a};const _0x391f89={};_0x391f89[_0x92d7c9(0x191)]=_0x2face5[_0x92d7c9(0x221)],_0x2bb416[_0x92d7c9(0x1cf)]=_0x391f89,_0x2bb416[_0x92d7c9(0x171)][0x0]['properties'][_0x92d7c9(0x17a)][0x0]={..._0x2bb416[_0x92d7c9(0x171)][0x0]['properties'][_0x92d7c9(0x17a)][0x0],'vnetSubnetID':_0x2face5[_0x92d7c9(0xa1)]};const _0x2691ae={};_0x2691ae[_0x92d7c9(0x13d)]=_0xea3ffb;const _0xd7ea4a={};_0xd7ea4a[_0x92d7c9(0x13d)]=_0x584ec3[0x0],_0x9f51b0={..._0x9f51b0,'vpcName':_0x2691ae,'subnetName':_0xd7ea4a};}}await this[_0x92d7c9(0x249)][_0x92d7c9(0x1ac)][_0x92d7c9(0x7f)](global_registry['cloudProviderResourceGroup'],_0x2face5[_0x92d7c9(0x196)],{'properties':{'template':_0x2bb416,'mode':_0x2face5['BxJEv'],'parameters':_0x9f51b0}});}async['createOtherResources'](){const _0x255cfc=a1_0x5b69c3,_0x4a6420={'iToFA':function(_0x9d73dd,_0x3bb277){return _0x9d73dd===_0x3bb277;},'apPNo':_0x255cfc(0xa7),'HMJYn':function(_0x1f9449,_0x1a09df,_0x3692e7){return _0x1f9449(_0x1a09df,_0x3692e7);},'ZxCdV':function(_0x8e278e,_0x3e615c){return _0x8e278e===_0x3e615c;},'qDYWf':_0x255cfc(0x176),'UWLsU':_0x255cfc(0xf8),'OJtcH':function(_0x107fd5,_0x4cc364){return _0x107fd5!==_0x4cc364;},'pcJzl':_0x255cfc(0x167),'LTbok':'Storage\x20account\x20already\x20exists,\x20skipping','AnfnN':_0x255cfc(0x198),'SgHZL':'Creating\x20Azure\x20managed\x20identity','CxNxm':function(_0x305a48,_0x48b212){return _0x305a48!==_0x48b212;},'gElJO':_0x255cfc(0x93),'pmGKH':_0x255cfc(0x1b9),'tOPXj':_0x255cfc(0xf7),'rJhMV':_0x255cfc(0x153)},_0x3cb665=await this['isStorageAccountPresent']();if(!_0x3cb665){if(_0x4a6420[_0x255cfc(0x258)](_0x4a6420[_0x255cfc(0x214)],_0x4a6420[_0x255cfc(0x214)])){const _0x13488c={};_0x13488c[_0x255cfc(0xc2)]=WS_EVENTS['LOG'],_0x13488c[_0x255cfc(0xd6)]=_0x4a6420[_0x255cfc(0x99)],this['webSocketUtils'][_0x255cfc(0x1ed)](this['rws'],_0x13488c),logger[_0x255cfc(0x166)](_0x4a6420[_0x255cfc(0x99)]),await this[_0x255cfc(0x1f0)]();}else _0x691aa4[_0x255cfc(0x1bf)][_0x255cfc(0x208)](_0x2263d6);}else{if(_0x4a6420[_0x255cfc(0x1d8)](_0x4a6420[_0x255cfc(0x1a2)],_0x4a6420['pcJzl'])){if(_0x4a6420['iToFA'](_0x451ccc[_0x255cfc(0xc9)],_0x29a200))return!![];}else logger[_0x255cfc(0x166)](_0x4a6420[_0x255cfc(0x23b)]);}const _0x4b1a0c=await this['isManagedIdentityPresent']();if(!_0x4b1a0c){if(_0x4a6420['OJtcH'](_0x4a6420[_0x255cfc(0x267)],_0x4a6420[_0x255cfc(0x267)])){_0x3d40aa[_0x255cfc(0x166)](_0x4a6420[_0x255cfc(0x9c)]);const _0x3a03ed={};_0x3a03ed['type']=_0x15ed63[_0x255cfc(0xe4)],_0x3a03ed[_0x255cfc(0xd6)]=_0x4a6420[_0x255cfc(0x9c)],this[_0x255cfc(0x161)]['sendEventToBackend'](this['rws'],_0x3a03ed);const _0xbc86d={};_0xbc86d['enabled']=!![];const _0x330486={'workloadIdentity':_0xbc86d,..._0x3fb252[_0x255cfc(0x181)]};_0x107f3d[_0x255cfc(0x181)]=_0x330486;}else{const _0x1556be={};_0x1556be['type']=WS_EVENTS[_0x255cfc(0x119)],_0x1556be['message']=_0x4a6420[_0x255cfc(0x1f3)],this[_0x255cfc(0x161)][_0x255cfc(0x1ed)](this[_0x255cfc(0xf9)],_0x1556be),logger[_0x255cfc(0x166)](_0x4a6420[_0x255cfc(0x1f3)]),await this[_0x255cfc(0x224)]();}}else _0x4a6420[_0x255cfc(0x1c9)](_0x4a6420[_0x255cfc(0x14c)],_0x4a6420[_0x255cfc(0x14c)])?_0x4a6420[_0x255cfc(0x1cb)](_0x15481f,()=>_0x55a5c1(),0x3e8):logger[_0x255cfc(0x166)](_0x4a6420['pmGKH']);logger[_0x255cfc(0x166)](_0x4a6420[_0x255cfc(0x169)]),await this[_0x255cfc(0xe8)](),logger[_0x255cfc(0x166)](_0x4a6420[_0x255cfc(0xc6)]);}async[a1_0x5b69c3(0x1f0)](){const _0xb4fb55=a1_0x5b69c3,_0x5a28bb={};_0x5a28bb[_0xb4fb55(0x1f2)]='templates',_0x5a28bb['IqdOt']='azureresources',_0x5a28bb[_0xb4fb55(0x195)]=_0xb4fb55(0x23e),_0x5a28bb[_0xb4fb55(0x1dc)]=_0xb4fb55(0x1db),_0x5a28bb[_0xb4fb55(0x121)]='turboscale-storageaccount-deployment',_0x5a28bb[_0xb4fb55(0x252)]=_0xb4fb55(0x213),_0x5a28bb['YtRfO']=_0xb4fb55(0x1de),_0x5a28bb[_0xb4fb55(0x113)]='Lifecycle',_0x5a28bb[_0xb4fb55(0x20e)]='blockBlob',_0x5a28bb['ArjtF']='default';const _0x1b3126=_0x5a28bb;let _0xb049b4=await fs['readFileAsync'](path[_0xb4fb55(0x103)](__dirname,'..',_0x1b3126['KATIz'],_0x1b3126[_0xb4fb55(0x1ee)],_0x1b3126[_0xb4fb55(0x195)]),_0x1b3126[_0xb4fb55(0x1dc)]);_0xb049b4=JSON[_0xb4fb55(0x11c)](_0xb049b4);const _0x5a9e45=this[_0xb4fb55(0x1e5)](),_0xdab533={};_0xdab533[_0xb4fb55(0x13d)]=_0x5a9e45;const _0x4c83b9={};_0x4c83b9[_0xb4fb55(0x177)]=_0xdab533,await this[_0xb4fb55(0x249)][_0xb4fb55(0x1ac)][_0xb4fb55(0x7f)](global_registry[_0xb4fb55(0x155)],_0x1b3126[_0xb4fb55(0x121)],{'properties':{'template':_0xb049b4,'mode':_0x1b3126[_0xb4fb55(0x252)],'parameters':_0x4c83b9}});const _0x11802f={};_0x11802f[_0xb4fb55(0x265)]=0x3c;const _0x35a06c={};_0x35a06c['delete']=_0x11802f;const _0x1dd50d={};_0x1dd50d['baseBlob']=_0x35a06c;const _0x58d86e={};_0x58d86e[_0xb4fb55(0x233)]=!![],_0x58d86e['name']=_0x1b3126[_0xb4fb55(0xa6)],_0x58d86e[_0xb4fb55(0xc2)]=_0x1b3126[_0xb4fb55(0x113)],_0x58d86e[_0xb4fb55(0x142)]={},_0x58d86e[_0xb4fb55(0x142)][_0xb4fb55(0x16f)]=_0x1dd50d,_0x58d86e[_0xb4fb55(0x142)][_0xb4fb55(0xb3)]={},_0x58d86e[_0xb4fb55(0x142)][_0xb4fb55(0xb3)][_0xb4fb55(0x23a)]=[_0x1b3126[_0xb4fb55(0x20e)]];const _0x3779e3={};_0x3779e3['rules']=[_0x58d86e];const _0x47274b={};_0x47274b['policy']=_0x3779e3;const _0x449076=_0x47274b;await this[_0xb4fb55(0x1c1)][_0xb4fb55(0x12d)][_0xb4fb55(0x1bb)](global_registry[_0xb4fb55(0x155)],_0x5a9e45,_0x1b3126[_0xb4fb55(0x200)],_0x449076);}async[a1_0x5b69c3(0x224)](){const _0x50379e=a1_0x5b69c3,_0x389213={};_0x389213[_0x50379e(0x10d)]='templates',_0x389213[_0x50379e(0x257)]=_0x50379e(0x248),_0x389213[_0x50379e(0x180)]=_0x50379e(0x14d),_0x389213[_0x50379e(0xb2)]=_0x50379e(0x1db),_0x389213['zXcXV']=_0x50379e(0x218),_0x389213[_0x50379e(0x210)]=_0x50379e(0x213);const _0x58cfa8=_0x389213;let _0x31ac97=await fs[_0x50379e(0x21f)](path['join'](__dirname,'..',_0x58cfa8[_0x50379e(0x10d)],_0x58cfa8[_0x50379e(0x257)],_0x58cfa8[_0x50379e(0x180)]),_0x58cfa8['KpriQ']);_0x31ac97=JSON['parse'](_0x31ac97),await this[_0x50379e(0x249)]['deployments'][_0x50379e(0x7f)](global_registry[_0x50379e(0x155)],_0x58cfa8['zXcXV'],{'properties':{'template':_0x31ac97,'mode':_0x58cfa8[_0x50379e(0x210)],'parameters':{'clusterName':{'value':this[_0x50379e(0x25a)]}}}});}async[a1_0x5b69c3(0xe8)](){const _0x569a0e=a1_0x5b69c3,_0xaccad7={};_0xaccad7['mabQz']=_0x569a0e(0x262),_0xaccad7[_0x569a0e(0x12b)]=function(_0xafa5f7,_0x27425e){return _0xafa5f7!==_0x27425e;},_0xaccad7[_0x569a0e(0x268)]=_0x569a0e(0xf4),_0xaccad7[_0x569a0e(0x16a)]=_0x569a0e(0x228),_0xaccad7[_0x569a0e(0x227)]=_0x569a0e(0x1b5),_0xaccad7[_0x569a0e(0x255)]=_0x569a0e(0x201),_0xaccad7[_0x569a0e(0x123)]=function(_0x342821,_0x4f77f9){return _0x342821!==_0x4f77f9;},_0xaccad7[_0x569a0e(0x240)]=_0x569a0e(0x24f),_0xaccad7[_0x569a0e(0x10b)]=_0x569a0e(0x1d5),_0xaccad7[_0x569a0e(0xa2)]=_0x569a0e(0x222),_0xaccad7[_0x569a0e(0x1ec)]=_0x569a0e(0x248),_0xaccad7[_0x569a0e(0x21a)]=_0x569a0e(0x1db),_0xaccad7[_0x569a0e(0x1b2)]=_0x569a0e(0x18d),_0xaccad7[_0x569a0e(0x144)]=_0x569a0e(0x213);const _0x5cfef8=_0xaccad7;!this[_0x569a0e(0x85)]&&(_0x5cfef8['cPfFY'](_0x5cfef8[_0x569a0e(0x268)],_0x5cfef8[_0x569a0e(0x16a)])?await this['getClusterInfo']():_0x21cd5c=_0xa2e9ab['id']);const _0x4e0928=this[_0x569a0e(0x85)]?.[_0x569a0e(0xee)]?.['issuerURL'],_0x372101=[_0x5cfef8[_0x569a0e(0x227)],_0x5cfef8['BWlbZ']];for await(const _0x64b9ca of _0x372101){if(_0x5cfef8[_0x569a0e(0x123)](_0x5cfef8['pKWnr'],_0x5cfef8['TiOtq'])){let _0x19835c=await fs['readFileAsync'](path['join'](__dirname,'..',_0x5cfef8[_0x569a0e(0xa2)],_0x5cfef8['WYxKO'],'federatedidentity'+_0x64b9ca+_0x569a0e(0x81)),_0x5cfef8[_0x569a0e(0x21a)]);_0x19835c=JSON['parse'](_0x19835c);const _0x4e473a={};_0x4e473a[_0x569a0e(0x13d)]=_0x4e0928,await this[_0x569a0e(0x249)][_0x569a0e(0x1ac)][_0x569a0e(0x7f)](global_registry[_0x569a0e(0x155)],_0x5cfef8[_0x569a0e(0x1b2)],{'properties':{'template':_0x19835c,'mode':_0x5cfef8[_0x569a0e(0x144)],'parameters':{'oidcIssuer':_0x4e473a,'gridName':{'value':this[_0x569a0e(0xdb)]},'clusterName':{'value':this[_0x569a0e(0x25a)]}}}});}else{_0x4d6028[_0x569a0e(0x166)](_0x5cfef8['mabQz']);const _0x1e86ae={};_0x1e86ae['type']=_0x12aaee[_0x569a0e(0xe4)],_0x1e86ae['message']=_0x5cfef8[_0x569a0e(0xa3)],this[_0x569a0e(0x161)][_0x569a0e(0x1ed)](this[_0x569a0e(0xf9)],_0x1e86ae),_0xb331b5[_0x569a0e(0xee)][_0x569a0e(0x233)]=!![];}}}async[a1_0x5b69c3(0x235)](_0x18d867,_0x1044fd,_0x1bd443,_0x492b47,_0x29e058){const _0x14982a=a1_0x5b69c3,_0x5ed0ef={};_0x5ed0ef[_0x14982a(0x95)]=_0x14982a(0x226),_0x5ed0ef[_0x14982a(0x10f)]=_0x14982a(0x10c);const _0x252f78=_0x5ed0ef,_0x44d59b={};_0x44d59b[_0x14982a(0xc2)]=WS_EVENTS[_0x14982a(0x119)],_0x44d59b[_0x14982a(0xd6)]=_0x252f78['VCxIu'],this[_0x14982a(0x161)][_0x14982a(0x1ed)](this[_0x14982a(0xf9)],_0x44d59b),logger['info'](_0x252f78['VCxIu']),await this[_0x14982a(0x111)]();const _0x5a93af={};_0x5a93af[_0x14982a(0xc2)]=WS_EVENTS[_0x14982a(0x119)],_0x5a93af[_0x14982a(0xd6)]=_0x252f78[_0x14982a(0x10f)],this[_0x14982a(0x161)]['sendEventToBackend'](this[_0x14982a(0xf9)],_0x5a93af);}async[a1_0x5b69c3(0x111)](){const _0x1666fc=a1_0x5b69c3,_0x4429cd={};_0x4429cd[_0x1666fc(0x1be)]=_0x1666fc(0x203),_0x4429cd[_0x1666fc(0xfb)]=function(_0x1409d4,_0x5bb2cf){return _0x1409d4===_0x5bb2cf;},_0x4429cd[_0x1666fc(0x131)]='jZXAL',_0x4429cd[_0x1666fc(0x114)]=_0x1666fc(0x222),_0x4429cd[_0x1666fc(0x22f)]=_0x1666fc(0xa0),_0x4429cd[_0x1666fc(0x189)]=_0x1666fc(0x1b1),_0x4429cd[_0x1666fc(0x9b)]=_0x1666fc(0x1db),_0x4429cd[_0x1666fc(0x21d)]=_0x1666fc(0x18d),_0x4429cd['DUmJC']=_0x1666fc(0x213);const _0x4e3006=_0x4429cd;if(!this['clusterInfo']){if(_0x4e3006[_0x1666fc(0xfb)](_0x4e3006[_0x1666fc(0x131)],_0x4e3006[_0x1666fc(0x131)]))await this['getClusterInfo']();else{const _0x38c42d={};_0x38c42d[_0x1666fc(0x185)]=!![],_0x38c42d[_0x1666fc(0x1d6)]=null,_0x38c42d[_0x1666fc(0x1f1)]=_0x4e3006[_0x1666fc(0x1be)];const _0x4cc093=_0x38c42d;return _0x4cc093;}}const _0x54a66f=this[_0x1666fc(0x85)]?.[_0x1666fc(0xee)]?.[_0x1666fc(0x1a7)];let _0x179938=await fs[_0x1666fc(0x21f)](path[_0x1666fc(0x103)](__dirname,'..',_0x4e3006['ECOjj'],_0x4e3006[_0x1666fc(0x22f)],_0x4e3006[_0x1666fc(0x189)]),_0x4e3006[_0x1666fc(0x9b)]);_0x179938=JSON[_0x1666fc(0x11c)](_0x179938);const _0x375cf5={};_0x375cf5['value']=_0x54a66f,await this[_0x1666fc(0x249)][_0x1666fc(0x1ac)][_0x1666fc(0x7f)](global_registry[_0x1666fc(0x155)],_0x4e3006['BwfjL'],{'properties':{'template':_0x179938,'mode':_0x4e3006['DUmJC'],'parameters':{'oidcIssuer':_0x375cf5,'namespace':{'value':global_registry[_0x1666fc(0xa4)]},'clusterName':{'value':this[_0x1666fc(0x25a)]}}}});}async[a1_0x5b69c3(0xde)](){const _0x2ac48d=a1_0x5b69c3,_0x2d53c2={};_0x2d53c2[_0x2ac48d(0xef)]='Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.',_0x2d53c2['CVObp']='string',_0x2d53c2[_0x2ac48d(0x16e)]=_0x2ac48d(0x209),_0x2d53c2[_0x2ac48d(0xfd)]=_0x2ac48d(0xf3),_0x2d53c2[_0x2ac48d(0x1da)]=_0x2ac48d(0x244),_0x2d53c2[_0x2ac48d(0xfe)]=function(_0x53173d,_0x3228b4){return _0x53173d!==_0x3228b4;},_0x2d53c2[_0x2ac48d(0x26d)]=_0x2ac48d(0x184),_0x2d53c2[_0x2ac48d(0x205)]=function(_0x56660f,_0x32dbe2){return _0x56660f===_0x32dbe2;},_0x2d53c2[_0x2ac48d(0x1c0)]=_0x2ac48d(0x24a),_0x2d53c2[_0x2ac48d(0x90)]=_0x2ac48d(0x22d),_0x2d53c2[_0x2ac48d(0x1ae)]=function(_0x4f0c3a,_0x167e37){return _0x4f0c3a===_0x167e37;},_0x2d53c2['WVLFw']=function(_0xcfb3bf,_0x44cff9){return _0xcfb3bf!==_0x44cff9;},_0x2d53c2[_0x2ac48d(0x25b)]='jccqL',_0x2d53c2[_0x2ac48d(0x145)]='IHUjR';const _0x4dd85f=_0x2d53c2,_0x54cb46=this[_0x2ac48d(0x1e5)](),_0x2a7069=new Array();for await(const _0x471422 of this[_0x2ac48d(0x1c1)]['storageAccounts']['listByResourceGroup'](global_registry[_0x2ac48d(0x155)])){_0x4dd85f[_0x2ac48d(0xfe)](_0x4dd85f['NMMvm'],_0x4dd85f[_0x2ac48d(0x26d)])?(_0x58e2da['error'](_0x4dd85f[_0x2ac48d(0xef)]),_0xfacb6b[_0x2ac48d(0xc3)](0x1)):_0x2a7069[_0x2ac48d(0x208)](_0x471422);}for await(const _0x8f0d17 of _0x2a7069){if(_0x4dd85f[_0x2ac48d(0x205)](_0x4dd85f[_0x2ac48d(0x1c0)],_0x4dd85f[_0x2ac48d(0x90)])){const _0xf1497b={};_0xf1497b[_0x2ac48d(0xc2)]=_0x4dd85f['CVObp'],_0xf1497b[_0x2ac48d(0x1e8)]={},_0xf1497b[_0x2ac48d(0x1e8)][_0x2ac48d(0x1fd)]=_0x4dd85f[_0x2ac48d(0x16e)];const _0x4f8143={};_0x4f8143[_0x2ac48d(0xc2)]=_0x4dd85f[_0x2ac48d(0x20b)],_0x4f8143[_0x2ac48d(0x1e8)]={},_0x4f8143[_0x2ac48d(0x1e8)][_0x2ac48d(0x1fd)]=_0x4dd85f[_0x2ac48d(0x16e)];const _0x4135ef={..._0x14caa1[_0x2ac48d(0x15c)]};_0x4135ef[_0x2ac48d(0x229)]=_0xf1497b,_0x4135ef['subnetName']=_0x4f8143,_0x221618[_0x2ac48d(0x15c)]=_0x4135ef;const _0x399491={};_0x399491[_0x2ac48d(0x191)]=_0x4dd85f[_0x2ac48d(0xfd)],_0x57fda0[_0x2ac48d(0x1cf)]=_0x399491;const _0x48da35={..._0x4dbba4['resources'][0x0]['properties'][_0x2ac48d(0x17a)][0x0]};_0x48da35[_0x2ac48d(0x191)]=_0x4dd85f[_0x2ac48d(0x1da)],_0x581fc6['resources'][0x0][_0x2ac48d(0x115)][_0x2ac48d(0x17a)][0x0]=_0x48da35;const _0x58ba5d={};_0x58ba5d[_0x2ac48d(0x13d)]=_0x361870;const _0x5c46e8={};_0x5c46e8[_0x2ac48d(0x13d)]=_0x10ca21[0x0];const _0x160860={..._0x2ae38d};_0x160860[_0x2ac48d(0x229)]=_0x58ba5d,_0x160860['subnetName']=_0x5c46e8,_0x5e18b7=_0x160860;}else{if(_0x4dd85f[_0x2ac48d(0x1ae)](_0x8f0d17[_0x2ac48d(0xc9)],_0x54cb46)){if(_0x4dd85f[_0x2ac48d(0x24d)](_0x4dd85f[_0x2ac48d(0x25b)],_0x4dd85f['rUvsG']))return!![];else _0x522899['push'](_0x5b433f);}}}return![];}async[a1_0x5b69c3(0xb8)](){const _0x5dd498=a1_0x5b69c3,_0xe5c541={};_0xe5c541[_0x5dd498(0x19a)]='allowed',_0xe5c541[_0x5dd498(0x1e0)]=_0x5dd498(0xca),_0xe5c541[_0x5dd498(0xc8)]=function(_0x2ce1a1,_0x32bf3c){return _0x2ce1a1===_0x32bf3c;},_0xe5c541['iJqCk']=function(_0x15cf38,_0x404248){return _0x15cf38!==_0x404248;},_0xe5c541['jqunB']='JVNkO',_0xe5c541[_0x5dd498(0x12e)]=function(_0x2702aa,_0x1eb9a0){return _0x2702aa===_0x1eb9a0;},_0xe5c541[_0x5dd498(0x1a1)]='QzmQY',_0xe5c541[_0x5dd498(0x92)]=function(_0x84ec57,_0x306c06){return _0x84ec57===_0x306c06;},_0xe5c541[_0x5dd498(0x188)]='vWCvT',_0xe5c541[_0x5dd498(0x10a)]=_0x5dd498(0x141);const _0x56049c=_0xe5c541,_0x289544=new Array();for await(const _0x3cf821 of this['resourceClient']['resources'][_0x5dd498(0x110)](global_registry[_0x5dd498(0x155)])){if(_0x56049c[_0x5dd498(0xc7)](_0x56049c[_0x5dd498(0x1e4)],_0x56049c[_0x5dd498(0x1e4)]))return!![];else _0x289544['push'](_0x3cf821);}for await(const _0x1eff17 of _0x289544){if(_0x56049c[_0x5dd498(0x12e)](_0x56049c['tPmzL'],_0x56049c[_0x5dd498(0x1a1)])){if(_0x56049c['gtKcA'](_0x1eff17[_0x5dd498(0xc9)],_0x5dd498(0x1c8)+this[_0x5dd498(0x25a)])){if(_0x56049c[_0x5dd498(0xc7)](_0x56049c[_0x5dd498(0x188)],_0x56049c['YHgXg']))return!![];else{const _0x4b7581=_0x28f79f['includes'](_0x233af4);_0x4ad3be+='\x0a\x09'+_0x4180ec+':\x20'+(_0x4b7581?_0x56049c[_0x5dd498(0x19a)]:_0x56049c['dpISF']),!_0x4b7581&&(_0x40c8d3['status']=![]);}}}else{if(_0x56049c[_0x5dd498(0xc8)](_0x506cae[_0x5dd498(0xc9)],_0x1cd341))return!![];}}return![];}async[a1_0x5b69c3(0xea)](_0xbf2894,_0x54a83e=0x3){const _0x48ef49=a1_0x5b69c3,_0x41b903={'wipGb':_0x48ef49(0x1e1),'AsTYj':function(_0x6bf5e1,_0x3f6da4){return _0x6bf5e1+_0x3f6da4;},'sKsej':'Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','Spjik':'Enabling\x20Local\x20account\x20for\x20the\x20cluster','taoed':function(_0x4a2ef2,_0x149720){return _0x4a2ef2===_0x149720;},'ozVYY':_0x48ef49(0x1a4),'IVyIa':function(_0x3e0e78,_0x34f0c4,_0x566503){return _0x3e0e78(_0x34f0c4,_0x566503);},'dSXeX':function(_0xe03079,_0x4b1755){return _0xe03079!==_0x4b1755;},'SRWGA':_0x48ef49(0x13b),'eRDxC':_0x48ef49(0x15f),'GMptp':function(_0x4b784a,_0x2fef18){return _0x4b784a===_0x2fef18;},'cJQMQ':_0x48ef49(0x16c),'trInb':_0x48ef49(0x14f),'AgmHm':function(_0x244c92,_0x416a0f){return _0x244c92!==_0x416a0f;},'ZGPyv':_0x48ef49(0x18a),'pfoBa':_0x48ef49(0x215),'rkOBo':_0x48ef49(0xfc),'SrkGB':_0x48ef49(0x25f),'rYxto':_0x48ef49(0x104),'jskHN':_0x48ef49(0x178),'yASXG':function(_0x428873,_0x49e108){return _0x428873<=_0x49e108;},'ANVKw':function(_0xe51e6c,_0x52a491){return _0xe51e6c!==_0x52a491;},'AthVJ':'byIaD','qRClX':function(_0x12a89c,_0x38c043){return _0x12a89c-_0x38c043;}};try{if(_0x41b903[_0x48ef49(0x147)](_0x41b903[_0x48ef49(0xcb)],_0x41b903['eRDxC'])){const _0x1c73dd=new Array();for await(const _0x44ccf4 of this[_0x48ef49(0x249)]['resources'][_0x48ef49(0x110)](global_registry[_0x48ef49(0x155)])){_0x41b903[_0x48ef49(0x1fc)](_0x41b903[_0x48ef49(0x107)],_0x41b903[_0x48ef49(0x1b6)])?_0x49d29e[_0x48ef49(0x208)](_0x208b8e):_0x1c73dd[_0x48ef49(0x208)](_0x44ccf4);}let _0x2cc43d='';for await(const _0x54eaa9 of _0x1c73dd){if(_0x41b903[_0x48ef49(0x18c)](_0x41b903[_0x48ef49(0x9f)],_0x41b903[_0x48ef49(0xec)])){if(_0x41b903['taoed'](_0x54eaa9['name'],_0xbf2894)){if(_0x41b903[_0x48ef49(0x147)](_0x41b903[_0x48ef49(0xd9)],_0x41b903[_0x48ef49(0xd9)]))return _0x3373b5[_0x48ef49(0x1f1)]=_0x41b903[_0x48ef49(0x1e2)],_0x308d1b;else _0x2cc43d=_0x54eaa9['id'];}}else _0x3e34c3[_0x48ef49(0xd8)]('['+_0x41b903[_0x48ef49(0x19d)](_0x21d9cd,0x1)+']\x20'+_0x1229f5[_0x1a2b3a]);}const _0x2e24dd=await this[_0x48ef49(0x249)][_0x48ef49(0x171)][_0x48ef49(0xb5)](_0x2cc43d,_0x41b903['SrkGB']);return _0x2e24dd['properties'][_0x48ef49(0x154)];}else _0x3a0374[_0x48ef49(0x1d6)](_0x41b903[_0x48ef49(0x17e)]),_0x39f441[_0x48ef49(0xc3)](0x1);}catch(_0x444f71){if(_0x41b903['AgmHm'](_0x41b903[_0x48ef49(0x1a3)],_0x41b903[_0x48ef49(0x204)])){if(_0x41b903[_0x48ef49(0x8b)](_0x54a83e,0x0)){if(_0x41b903[_0x48ef49(0x11a)](_0x41b903[_0x48ef49(0x146)],_0x41b903['AthVJ'])){_0x8bcd11['info'](_0x41b903[_0x48ef49(0x18f)]);const _0x1e1fa7={};_0x1e1fa7[_0x48ef49(0xc2)]=_0x58f4c9[_0x48ef49(0xe4)],_0x1e1fa7[_0x48ef49(0xd6)]=_0x41b903[_0x48ef49(0x18f)],this[_0x48ef49(0x161)][_0x48ef49(0x1ed)](this[_0x48ef49(0xf9)],_0x1e1fa7),_0x26a013[_0x48ef49(0x159)]=![];}else return logger[_0x48ef49(0x1d6)](_0x48ef49(0x15d)+_0x444f71+':'+_0x444f71['stack']),{};}return await new Promise(_0x81d7f1=>{const _0x28dc05=_0x48ef49;_0x41b903[_0x28dc05(0x80)](_0x41b903['ozVYY'],_0x41b903['ozVYY'])?_0x41b903[_0x28dc05(0x182)](setTimeout,()=>_0x81d7f1(),0x3e8):_0x4be6b1[_0x28dc05(0x1d6)]=_0x4da317;}),this[_0x48ef49(0xea)](_0xbf2894,_0x41b903[_0x48ef49(0x263)](_0x54a83e,0x1));}else return[!![],_0x1811a5];}}async[a1_0x5b69c3(0x20a)](){const _0x536d40=a1_0x5b69c3,_0x5e312c={};_0x5e312c[_0x536d40(0xdd)]=function(_0x3a9feb,_0x1539ac){return _0x3a9feb!==_0x1539ac;},_0x5e312c[_0x536d40(0x8a)]='emirS',_0x5e312c[_0x536d40(0x266)]=function(_0x218c3d,_0x38c3f9){return _0x218c3d===_0x38c3f9;},_0x5e312c['Jhpad']=_0x536d40(0x11d),_0x5e312c[_0x536d40(0x125)]=_0x536d40(0xeb),_0x5e312c[_0x536d40(0x150)]=function(_0x52142d,_0x47e669){return _0x52142d===_0x47e669;},_0x5e312c[_0x536d40(0x261)]=_0x536d40(0x1c7),_0x5e312c[_0x536d40(0x108)]=_0x536d40(0x7e);const _0x75420e=_0x5e312c;if(!this[_0x536d40(0x85)]){if(_0x75420e[_0x536d40(0xdd)](_0x75420e[_0x536d40(0x8a)],_0x75420e[_0x536d40(0x8a)]))return _0x3575ac[_0x536d40(0x1d6)](_0x536d40(0x9e)+_0xd71bf+_0x536d40(0x24e)+_0x52b925),![];else await this[_0x536d40(0xf5)]();}const _0xd5f0e2=this[_0x536d40(0x85)]?.['tags']||{};if(_0xd5f0e2&&_0x75420e[_0x536d40(0x266)](_0xd5f0e2[_0x75420e[_0x536d40(0x140)]],_0x75420e[_0x536d40(0x125)]))return _0x75420e[_0x536d40(0x150)](_0x75420e[_0x536d40(0x261)],_0x75420e[_0x536d40(0x108)])?(_0x2bb412['error'](_0x536d40(0x15d)+_0x104ca0+':'+_0x522e3f[_0x536d40(0x149)]),{}):!![];return![];}async[a1_0x5b69c3(0x1e6)](_0x235507,_0x1cfe14){const _0x6962e0=a1_0x5b69c3,_0x5578f0={'LMKpw':function(_0x8fd7ac,_0x256dae){return _0x8fd7ac(_0x256dae);},'vfPTM':_0x6962e0(0x96)};await _0x5578f0['LMKpw'](deleteAgent,_0x235507),await _0x5578f0[_0x6962e0(0xe7)](deleteRoutingDeps,_0x235507);const _0x73c17d=this['containerClient'];logger[_0x6962e0(0x166)](_0x6962e0(0xfa)+this[_0x6962e0(0x25a)]),await _0x73c17d[_0x6962e0(0x109)][_0x6962e0(0x163)](global_registry[_0x6962e0(0x155)],this[_0x6962e0(0x25a)]),logger[_0x6962e0(0x166)](_0x5578f0[_0x6962e0(0x219)]);}async[a1_0x5b69c3(0xbe)](){const _0x47ffdf=a1_0x5b69c3,_0x4d2215={};_0x4d2215[_0x47ffdf(0x1b0)]=_0x47ffdf(0x187),_0x4d2215[_0x47ffdf(0xed)]=function(_0x45b564,_0x1595ac){return _0x45b564!==_0x1595ac;},_0x4d2215[_0x47ffdf(0x199)]='VmcHE',_0x4d2215[_0x47ffdf(0x11b)]='iQFxT',_0x4d2215['Xkzjq']=function(_0x17f842,_0x4ebbe2){return _0x17f842&&_0x4ebbe2;},_0x4d2215[_0x47ffdf(0x1fe)]=_0x47ffdf(0xa5),_0x4d2215[_0x47ffdf(0xbc)]=function(_0x481e78,_0xb682b3){return _0x481e78!==_0xb682b3;},_0x4d2215[_0x47ffdf(0x130)]=_0x47ffdf(0x260),_0x4d2215[_0x47ffdf(0x1f7)]='PdUZh',_0x4d2215[_0x47ffdf(0x26a)]=_0x47ffdf(0x262),_0x4d2215[_0x47ffdf(0x242)]=function(_0x3b54cf,_0x2734e0){return _0x3b54cf===_0x2734e0;},_0x4d2215[_0x47ffdf(0x15e)]='suJVy',_0x4d2215['CpfbQ']=_0x47ffdf(0xa7),_0x4d2215['ZWuES']=_0x47ffdf(0xf1),_0x4d2215[_0x47ffdf(0x230)]='Enabling\x20Local\x20account\x20for\x20the\x20cluster';const _0x25262c=_0x4d2215;!this['clusterInfo']&&(_0x25262c[_0x47ffdf(0xed)](_0x25262c['QNjFK'],_0x25262c[_0x47ffdf(0x11b)])?await this['getClusterInfo']():_0x45bcec[_0x47ffdf(0x208)](_0x45541b));const _0x2d588f=this[_0x47ffdf(0x85)],_0x3334d=this['clusterInfo']?.['oidcIssuerProfile']?.['enabled']||![],_0xf7f981=this[_0x47ffdf(0x85)]?.[_0x47ffdf(0x181)]?.[_0x47ffdf(0x25e)]?.['enabled']||![],_0x1f957c=!this[_0x47ffdf(0x85)]?.['disableLocalAccounts']||![];if(_0x25262c['Xkzjq'](_0x3334d,_0xf7f981)&&_0x1f957c){if(_0x25262c['govDD'](_0x25262c[_0x47ffdf(0x1fe)],_0x25262c[_0x47ffdf(0x1fe)])){const _0x490bed=new _0x14655b(_0x10ed0c[_0x47ffdf(0x13e)],_0x2020ec[_0x47ffdf(0x18e)],_0x414138['cloudProviderClientSecret']);this[_0x47ffdf(0x1d7)]=new _0x54053e(_0x490bed,_0x495abe[_0x47ffdf(0x89)]),this[_0x47ffdf(0x1c1)]=new _0x4612bd(_0x490bed,_0x89b92['cloudProviderSubscriptionId']),this[_0x47ffdf(0x249)]=new _0x4acbe9(_0x490bed,_0x43891a['cloudProviderSubscriptionId']),this['networkClient']=new _0x2abeaf(_0x490bed,_0x297670[_0x47ffdf(0x89)]),this[_0x47ffdf(0x162)]=new _0x4055c2(_0x490bed,_0x276f1a['cloudProviderSubscriptionId']),this[_0x47ffdf(0x1a9)]=_0x490bed;}else return;}if(!_0x3334d){if(_0x25262c[_0x47ffdf(0xbc)](_0x25262c[_0x47ffdf(0x130)],_0x25262c['uCXoD'])){logger[_0x47ffdf(0x166)](_0x25262c['hHykZ']);const _0x5ec652={};_0x5ec652[_0x47ffdf(0xc2)]=WS_EVENTS[_0x47ffdf(0xe4)],_0x5ec652[_0x47ffdf(0xd6)]=_0x25262c[_0x47ffdf(0x26a)],this[_0x47ffdf(0x161)][_0x47ffdf(0x1ed)](this[_0x47ffdf(0xf9)],_0x5ec652),_0x2d588f[_0x47ffdf(0xee)][_0x47ffdf(0x233)]=!![];}else _0x138474[_0x47ffdf(0x208)](_0x3a5209);}if(!_0xf7f981){if(_0x25262c[_0x47ffdf(0x242)](_0x25262c['scYNQ'],_0x25262c[_0x47ffdf(0x15e)])){logger[_0x47ffdf(0x166)](_0x25262c['CpfbQ']);const _0xe5e8ab={};_0xe5e8ab['type']=WS_EVENTS[_0x47ffdf(0xe4)],_0xe5e8ab[_0x47ffdf(0xd6)]=_0x25262c['CpfbQ'],this['webSocketUtils'][_0x47ffdf(0x1ed)](this['rws'],_0xe5e8ab);const _0x6a08b4={};_0x6a08b4[_0x47ffdf(0x233)]=!![],_0x2d588f[_0x47ffdf(0x181)]={'workloadIdentity':_0x6a08b4,..._0x2d588f['securityProfile']};}else throw new _0xdc56f(_0x25262c['ozVkt'],'Received\x20response\x20-\x20'+_0x1b7b2e['stringify'](_0x4b39d8));}if(!_0x1f957c){if(_0x25262c[_0x47ffdf(0xed)](_0x25262c[_0x47ffdf(0x170)],_0x25262c[_0x47ffdf(0x170)]))return!![];else{logger['info'](_0x25262c[_0x47ffdf(0x230)]);const _0x57440b={};_0x57440b['type']=WS_EVENTS[_0x47ffdf(0xe4)],_0x57440b[_0x47ffdf(0xd6)]=_0x25262c[_0x47ffdf(0x230)],this[_0x47ffdf(0x161)]['sendEventToBackend'](this[_0x47ffdf(0xf9)],_0x57440b),_0x2d588f['disableLocalAccounts']=![];}}await this[_0x47ffdf(0x1d7)][_0x47ffdf(0x109)][_0x47ffdf(0x7f)](global_registry[_0x47ffdf(0x155)],this[_0x47ffdf(0x25a)],_0x2d588f),await this['getClusterInfo']();}async['sendAzureInfoToHST'](){const _0x2c574b=a1_0x5b69c3,_0x427d30={};_0x427d30[_0x2c574b(0xd0)]=function(_0x3ee1de,_0x518619){return _0x3ee1de===_0x518619;},_0x427d30[_0x2c574b(0x232)]='UXgKp';const _0x53b9e7=_0x427d30,_0x571a5a=await this[_0x2c574b(0x1b7)][_0x2c574b(0x19f)][_0x2c574b(0x26e)](global_registry[_0x2c574b(0x155)]),_0x441154={};_0x441154['username']=global_registry['bstackUsername'],_0x441154[_0x2c574b(0x1f9)]=global_registry[_0x2c574b(0x1dd)],_0x441154[_0x2c574b(0x1d3)]=AZURE,_0x441154[_0x2c574b(0x1bf)]=[];const _0x3fdf8a=_0x441154;for await(const _0x3a8045 of _0x571a5a){if(_0x53b9e7['hLtTZ'](_0x53b9e7['VnGNX'],_0x53b9e7['VnGNX']))_0x3fdf8a[_0x2c574b(0x1bf)][_0x2c574b(0x208)](_0x3a8045);else return _0x1696fb['error']('Cannot\x20find\x20subnets\x20'+_0x426dbb+_0x2c574b(0x160)+_0x354cab),[![],[]];}const _0x2c787c={};_0x2c787c[_0x2c574b(0xc2)]=WS_EVENTS['RESOURCES'],_0x2c787c['message']=_0x3fdf8a,this[_0x2c574b(0x161)][_0x2c574b(0x1ed)](this[_0x2c574b(0xf9)],_0x2c787c);}async['isVPCPresent'](_0x35fce6){const _0x3828aa=a1_0x5b69c3,_0x2cf169={};_0x2cf169['uDSYu']=function(_0x28a902,_0x1d55d5){return _0x28a902===_0x1d55d5;},_0x2cf169[_0x3828aa(0x1fa)]='cepLo',_0x2cf169[_0x3828aa(0x1d1)]=function(_0x45be09,_0x135aec){return _0x45be09!==_0x135aec;},_0x2cf169['nnxox']='EgGYw',_0x2cf169[_0x3828aa(0xff)]=_0x3828aa(0x15a),_0x2cf169[_0x3828aa(0xe5)]=function(_0x233013,_0x4a27a3){return _0x233013!==_0x4a27a3;},_0x2cf169[_0x3828aa(0x19e)]=_0x3828aa(0x269),_0x2cf169['jznAc']=_0x3828aa(0x112);const _0x3d5539=_0x2cf169;try{if(_0x3d5539[_0x3828aa(0x84)](_0x3d5539[_0x3828aa(0x1fa)],_0x3d5539[_0x3828aa(0x1fa)])){const _0x5dadb6=await this[_0x3828aa(0x1b7)][_0x3828aa(0x19f)][_0x3828aa(0x26e)](global_registry[_0x3828aa(0x155)]);for await(const _0x3168c5 of _0x5dadb6){if(_0x3d5539['VetpV'](_0x3d5539[_0x3828aa(0x22c)],_0x3d5539['nnxox']))_0x2d2c3f['exit'](0x0);else{if(_0x3d5539[_0x3828aa(0x84)](_0x3168c5['name'],_0x35fce6)){if(_0x3d5539[_0x3828aa(0x1d1)](_0x3d5539[_0x3828aa(0xff)],_0x3d5539[_0x3828aa(0xff)]))_0x262bfc[_0x3828aa(0x208)](_0x2ae1dc);else return!![];}}}}else return!![];}catch(_0x3d0b69){if(_0x3d5539[_0x3828aa(0xe5)](_0x3d5539[_0x3828aa(0x19e)],_0x3d5539[_0x3828aa(0x148)]))return logger[_0x3828aa(0x1d6)](_0x3828aa(0x9e)+_0x35fce6+_0x3828aa(0x24e)+_0x3d0b69),![];else _0x2cce87['error']=_0x1e7892;}return![];}async[a1_0x5b69c3(0x91)](_0x4f74b6,_0x519fe2){const _0x346d87=a1_0x5b69c3,_0x3d634f={};_0x3d634f['ZjVKZ']=function(_0x227976,_0x1aabea){return _0x227976+_0x1aabea;},_0x3d634f['OSOIj']='turboscale',_0x3d634f[_0x346d87(0x17f)]=function(_0x1d0393,_0x55f770){return _0x1d0393-_0x55f770;},_0x3d634f[_0x346d87(0xe1)]=function(_0x302e97,_0x149ec3){return _0x302e97===_0x149ec3;},_0x3d634f['vXLvU']=_0x346d87(0x98),_0x3d634f['OwbkS']=function(_0x14762c,_0x5da0bf){return _0x14762c===_0x5da0bf;},_0x3d634f[_0x346d87(0xd3)]=function(_0x5c7b8a,_0x1b2411){return _0x5c7b8a!==_0x1b2411;},_0x3d634f['KGsBb']=_0x346d87(0x1af),_0x3d634f[_0x346d87(0x193)]='cugWG';const _0x5231de=_0x3d634f;try{if(_0x5231de['GfqZn'](_0x5231de[_0x346d87(0x132)],_0x5231de[_0x346d87(0x132)])){const _0x450df3=await this['networkClient']['subnets'][_0x346d87(0xf2)](global_registry['cloudProviderResourceGroup'],_0x519fe2,_0x4f74b6[0x0]);if(_0x5231de[_0x346d87(0x1ff)](_0x4f74b6[0x0],_0x450df3[_0x346d87(0xc9)])){if(_0x5231de[_0x346d87(0xd3)](_0x5231de[_0x346d87(0x124)],_0x5231de['oRVAx']))return[!![],_0x4f74b6];else _0x33c32e[_0x346d87(0x185)]=![];}}else{const _0x4544ed=_0x5c54ca[_0x346d87(0x139)][_0x346d87(0x22e)]('-'),_0x4c3bb0=_0x5231de[_0x346d87(0x243)](_0x5231de[_0x346d87(0x1c3)],_0x4544ed[_0x5231de[_0x346d87(0x17f)](_0x4544ed['length'],0x1)])[_0x346d87(0x14e)](0x0,0x18);return _0x4c3bb0[_0x346d87(0xba)]();}}catch(_0x4fcb82){return logger['error'](_0x346d87(0xc1)+_0x4f74b6+_0x346d87(0x160)+_0x4fcb82),[![],[]];}return[![],[]];}async['isCliToolInstalled'](){const _0x1b88a0=a1_0x5b69c3,_0x3075fd={};_0x3075fd['GIipq']=_0x1b88a0(0x203);const _0x57fece=_0x3075fd,_0x434be5={};_0x434be5[_0x1b88a0(0x185)]=!![],_0x434be5[_0x1b88a0(0x1d6)]=null,_0x434be5[_0x1b88a0(0x1f1)]=_0x57fece[_0x1b88a0(0x17d)];const _0x4432cf=_0x434be5;return _0x4432cf;}async[a1_0x5b69c3(0x234)](){const _0x10f79a=a1_0x5b69c3,_0x102c7a={};_0x102c7a[_0x10f79a(0x1f6)]='https://graph.microsoft.com/.default',_0x102c7a[_0x10f79a(0x136)]=_0x10f79a(0x25c),_0x102c7a['kiGcg']=_0x10f79a(0x8f);const _0x23fbb3=_0x102c7a,_0x3f249f=await this['cred'][_0x10f79a(0xcf)](_0x23fbb3[_0x10f79a(0x1f6)]),_0x5ebc0d={};_0x5ebc0d[_0x10f79a(0x87)]=_0x23fbb3[_0x10f79a(0x136)],_0x5ebc0d[_0x10f79a(0x250)]={},_0x5ebc0d[_0x10f79a(0x250)][_0x10f79a(0x190)]=_0x10f79a(0x82)+_0x3f249f[_0x10f79a(0x13f)],_0x5ebc0d[_0x10f79a(0x250)][_0x10f79a(0x21e)]=_0x23fbb3[_0x10f79a(0x173)];const _0x21e17f=_0x5ebc0d;return _0x21e17f;}async[a1_0x5b69c3(0x1c6)](_0x9c8fb1){const _0xec42e7=a1_0x5b69c3,_0x2de1e7={'sJdSC':function(_0xb04b1e,_0x363cde,_0x2e9498){return _0xb04b1e(_0x363cde,_0x2e9498);},'RIXSw':function(_0x2aef02,_0x294f01){return _0x2aef02===_0x294f01;},'QBpBm':_0xec42e7(0x187)},_0x3c8427={};_0x3c8427[_0xec42e7(0x254)]='',_0x3c8427[_0xec42e7(0x1d6)]=null;const _0x12f6e0=_0x3c8427;try{const _0xcdeee3='https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27'+_0x9c8fb1+'\x27',_0x298b09=await this[_0xec42e7(0x234)](),_0x753437=await _0x2de1e7[_0xec42e7(0x223)](fetch,_0xcdeee3,_0x298b09),_0x3d8252=await _0x753437['json']();if(!_0x3d8252[_0xec42e7(0x13d)]||_0x2de1e7[_0xec42e7(0x1cc)](_0x3d8252[_0xec42e7(0x13d)][_0xec42e7(0x164)],0x0))throw new Error(_0x2de1e7[_0xec42e7(0x253)],_0xec42e7(0x13a)+JSON[_0xec42e7(0x1ba)](_0x3d8252));_0x12f6e0[_0xec42e7(0x254)]=_0x3d8252['value'][0x0]['id'];}catch(_0x5cdeb6){_0x12f6e0['error']=_0x5cdeb6;}return _0x12f6e0;}async[a1_0x5b69c3(0xdc)](){const _0x20b8c3=a1_0x5b69c3,_0x3c6a09={};_0x3c6a09[_0x20b8c3(0x206)]=_0x20b8c3(0x126),_0x3c6a09[_0x20b8c3(0x211)]=_0x20b8c3(0xca),_0x3c6a09[_0x20b8c3(0x8c)]=function(_0x50f9fe,_0xeda78b){return _0x50f9fe!==_0xeda78b;},_0x3c6a09[_0x20b8c3(0x12a)]=function(_0x1429a4,_0x2fd829){return _0x1429a4===_0x2fd829;},_0x3c6a09[_0x20b8c3(0x18b)]=_0x20b8c3(0x1e1),_0x3c6a09[_0x20b8c3(0x1bd)]=_0x20b8c3(0x83),_0x3c6a09[_0x20b8c3(0x1a5)]=_0x20b8c3(0xb4);const _0x1f97a6=_0x3c6a09,_0x57d8bd={};_0x57d8bd[_0x20b8c3(0x185)]=![],_0x57d8bd[_0x20b8c3(0x1d6)]=null,_0x57d8bd[_0x20b8c3(0x1f1)]='';const _0x534f64=_0x57d8bd;try{let _0x1b8881='';const _0x14d713='subscriptions/'+global_registry['cloudProviderSubscriptionId']+_0x20b8c3(0x22b)+global_registry[_0x20b8c3(0x155)],_0x2672b7=await this['getPrincipalIdFromClientId'](global_registry[_0x20b8c3(0x18e)]);if(_0x1f97a6[_0x20b8c3(0x8c)](_0x2672b7[_0x20b8c3(0x1d6)],null))return _0x534f64[_0x20b8c3(0x1d6)]=_0x2672b7[_0x20b8c3(0x1d6)],_0x534f64;const _0x3d7c8a='assignedTo(\x27'+_0x2672b7[_0x20b8c3(0x254)]+'\x27)',_0x481072={};_0x481072[_0x20b8c3(0x16b)]=_0x3d7c8a;const _0x2d2993=await this[_0x20b8c3(0x162)]['roleAssignments']['listForScope'](_0x14d713,_0x481072),_0x3c9d06=[];for await(const _0x28ebde of _0x2d2993){_0x3c9d06[_0x20b8c3(0x208)](_0x28ebde);}if(_0x1f97a6['NNPEz'](_0x3c9d06[_0x20b8c3(0x164)],0x0))return _0x534f64['data']=_0x1f97a6[_0x20b8c3(0x18b)],_0x534f64;const _0x220476=[...new Set(_0x3c9d06[_0x20b8c3(0xc4)](_0x2b124b=>_0x2b124b[_0x20b8c3(0x120)]))];if(_0x1f97a6['NNPEz'](_0x220476[_0x20b8c3(0x164)],0x0))return _0x534f64['data']=_0x1f97a6[_0x20b8c3(0x1bd)],_0x534f64;const _0x1b0fb0=[],_0x5d9ff7=[];for(const _0x328dfa of _0x220476){const _0x25dc61=await this[_0x20b8c3(0x162)][_0x20b8c3(0x220)][_0x20b8c3(0xb5)](_0x328dfa);logger[_0x20b8c3(0xd2)](_0x20b8c3(0xd5)+_0x25dc61[_0x20b8c3(0x19b)]),_0x1b0fb0[_0x20b8c3(0x208)](_0x25dc61),logger[_0x20b8c3(0xd2)](_0x20b8c3(0x1d0)+JSON[_0x20b8c3(0x1ba)](_0x25dc61[_0x20b8c3(0x10e)])),_0x25dc61['permissions'][_0x20b8c3(0x143)](_0x454ab9=>{const _0x418aec=_0x20b8c3;_0x5d9ff7[_0x418aec(0x208)](..._0x454ab9[_0x418aec(0x16f)]);});}logger[_0x20b8c3(0xd2)](_0x20b8c3(0xcc)+JSON[_0x20b8c3(0x1ba)](_0x5d9ff7)),_0x1f97a6['NNPEz'](_0x5d9ff7[_0x20b8c3(0x164)],0x0)&&(_0x1b8881+=_0x1f97a6[_0x20b8c3(0x12a)](_0x5d9ff7['length'],0x0)?_0x1f97a6[_0x20b8c3(0x1a5)]:'',logger['debug'](_0x20b8c3(0x1c4)+JSON[_0x20b8c3(0x1ba)](_0x1b0fb0))),_0x534f64[_0x20b8c3(0x185)]=!![],Object[_0x20b8c3(0x157)](PERMISSIONS[_0x20b8c3(0x12f)])['forEach'](([_0xcbba,_0x3f2aa1])=>{const _0x3cb85a=_0x20b8c3,_0x5b8304=_0x5d9ff7[_0x3cb85a(0x174)](_0xcbba);_0x1b8881+='\x0a\x09'+_0x3f2aa1+':\x20'+(_0x5b8304?_0x1f97a6[_0x3cb85a(0x206)]:_0x1f97a6['xlaeb']),!_0x5b8304&&(_0x534f64['status']=![]);}),_0x534f64['data']=_0x1b8881;}catch(_0x487897){_0x534f64[_0x20b8c3(0x1d6)]=_0x487897;}return _0x534f64;}}const a1_0x36f621={};a1_0x36f621['AzureCloudProvider']=AzureCloudProvider,module[a1_0x5b69c3(0x105)]=a1_0x36f621;