const a1_0x446ae7=a1_0x3f3d;(function(_0x31f7fe,_0x18cdf2){const _0x35be68=a1_0x3f3d,_0x1fb248=_0x31f7fe();while(!![]){try{const _0x4cf516=parseInt(_0x35be68(0x1aa))/0x1*(parseInt(_0x35be68(0x35a))/0x2)+parseInt(_0x35be68(0x16f))/0x3*(-parseInt(_0x35be68(0x2b1))/0x4)+-parseInt(_0x35be68(0x28c))/0x5*(parseInt(_0x35be68(0x2c7))/0x6)+-parseInt(_0x35be68(0x226))/0x7*(-parseInt(_0x35be68(0x20e))/0x8)+parseInt(_0x35be68(0x1f4))/0x9+-parseInt(_0x35be68(0x339))/0xa*(-parseInt(_0x35be68(0x237))/0xb)+-parseInt(_0x35be68(0x252))/0xc;if(_0x4cf516===_0x18cdf2)break;else _0x1fb248['push'](_0x1fb248['shift']());}catch(_0x49c43d){_0x1fb248['push'](_0x1fb248['shift']());}}}(a1_0x9065,0xa82cd));const fs=require('fs'),path=require(a1_0x446ae7(0x277)),yaml=require(a1_0x446ae7(0x1ab)),{logger}=require(a1_0x446ae7(0x1ee)),{CloudProvider}=require(a1_0x446ae7(0x1f8)),{deleteRoutingDeps,deleteAgent}=require(a1_0x446ae7(0x360)),{AZURE,WS_EVENTS,global_registry}=require(a1_0x446ae7(0x243)),PERMISSIONS=require('../permissions/AZURE.json'),{ClientSecretCredential}=require(a1_0x446ae7(0x2a6)),{NetworkManagementClient}=require(a1_0x446ae7(0x1df)),{StorageManagementClient}=require(a1_0x446ae7(0x1a3)),{AuthorizationManagementClient}=require(a1_0x446ae7(0x1eb)),{ResourceManagementClient}=require(a1_0x446ae7(0x250)),{ContainerServiceClient}=require(a1_0x446ae7(0x261)),{runCommand}=require(a1_0x446ae7(0x312));function a1_0x9065(){const _0x1d7bde=['Maraq','resourceClient','zzMsR','slice','CuVeb','managementPolicies','32564PacQbY','yxBIZ','STVcj','debug','push','getGridHostname','hostname','XfNam','WzhKW','skLsr','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','akscluster.json','AfmBZ','createStorageAccount','rGmWT','MCFFG','rhKxS','FKyDw','RpVFP','AugMs','twokf','entries','36LCcHOw','MmzrG','dDDNa','gpHKl','MJCtM','turboscale-identity-deployment','oidcIssuerProfile','JHgVf','mQfVv','ONyCe','Deleting\x20the\x20cluster\x20','vDkVW','UUcif','qwglM','HhVes','FfcHm','string','loadBalancer','BrowserStack','vhmnp','VycCc','init','hMGJM','issuerURL','oWjCN','jaqdN','uaNsL','KgfMI','managedClusters','HPOjW','BqnSk','setupNewCluster','setupHubHa','oCVVm','RESOURCES','cloudProviderResourceGroup','nwGyy','description','PUftJ','bOOrg','beginCreateOrUpdateAndWait','wopKa','isManagedIdentityPresent','qpzKr','getStorageAccountName','turboscale-federated-deployment','OzOOK','Hulch','getClusterInfo','HZpiD','federatedidentityuploader.json','sOTPh','delete','DORAl','Nzrgg','securityProfile','JdOcQ','4|0|1|2|5|3','rbHwq','vpcName','createManagedIdentity','DptzQ','clusterInfo','EWjLg','qrDFZ','Creating\x20Azure\x20federated\x20identity','setClients','OKeGM','templates','WARIt','epxmX','tkBcd','Creating\x20Azure\x20storage\x20account','.\x20Error:\x20','azureresources','../utils/utilityMethods','yMkTh','agentPoolProfiles','rNUHF','resourceGroup','LydfI','bsLCV','PpgGV','FmpGS','cloudProviderClientId','MxUtx','CnQZK','sendEventToBackend','kDXyc','xFIrY','ESRrV','\x20RESOURCE\x20GROUP:\x20','storageAccountName','QIXAX','OVzDA','getPrincipalIdFromClientId','LCJJb','pmJEk','list','managedidentity.json','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','headers','XsgEe','createOtherResources','kDhlC','CGDzR','mLbTX','Lifecycle','LoGgL','Blob\x20delete\x20lifecycle','COtje','AbCzW','pKJKF','FoLHO','2580AXoOhl','workloadIdentity','json','IwdSi','kKMYe','QHfGL','voeow','isSubnetsValid','hcgxN','uYCFn','jPTMH','Storage\x20account\x20already\x20exists,\x20skipping','vpcInfo','cloudProviderTenantId','OGAmX','turboscale','iuPAJ','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','PPifq','ajkQn','hmgHv','\x20TENANT\x20ID:\x20','dekFv','BgGlX','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','getToken','uyZvQ','niWBj','Cdeko','kpiBY','XunLY','getResourceGroups','VvYRJ','358388KLwSmP','vObet','jTMxt','UsUnZ','Mtdhm','Cannot\x20find\x20subnets\x20','../utils/gridComponents','cred','QbKxi','MbPbc','dgtfG','umzXj','\x20CLIENT\x20ID:\x20','sjSZN','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','containerClient','application/json','jnXAY','https://graph.microsoft.com/.default','165oApCDJ','MuzLL','eYGQa','huJxP','qcEry','forEach','wwVsg','MNvFe','SiTlo','false','subnets','MkWMg','listAll','cloudProviderClientSecret','pegqB','LOG','setCachedCredsInRegistry','mTMnl','ciZwE','LcCuk','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','clusterAutoUpgrade','ivssA','parameters','rws','TveqX','ATQqZ','sZvLy','s3Bucket','QaNLJ','token','uFVaA','updateClusterAlreadyPresent','UPnlV','Cannot\x20find\x20VPC\x20','Igoau','VdZLa','jKdAj','ingress','cloudProvider','storageAccounts','Deleted\x20the\x20cluster\x20successfully','Tefqj','Creating\x20Azure\x20managed\x20identity','RhXVq','euLUn','qQumO','wEbHS','Jndrx','policy','[variables(\x27vnetSubnetID\x27)]','LfkXN','@azure/arm-storage','toLowerCase','getById','enabled','OVaDw','hub','hUbUl','4CIdFBl','js-yaml','xGjQB','oCsRl','turboscale-storageaccount-deployment','qLhha','maxNodes','XGTXY','CvQVD','node','listClusterAdminCredentials','SiSxS','createCluster','UFJVP','TCXCn','variables','cSSaf','location','WPcZF','uQUwn','isStorageAccountPresent','cloudProviderSubscriptionId','yQKJg','npRzh','parse','Found\x20only\x20one\x20resource\x20group:\x20','HbHyT','createOrUpdate','error','No\x20attached\x20role\x20for\x20the\x20client\x20key','IwUft','qJQOC','XsVyP','wefHk','rNJav','ZeEXX','networkClient','turboscale-cluster-deployment','BOoeR','ypRzc','wQiFX','clientSecret','xYuDc','NcJAt','status','ZHVCx','pmxHI','vlmDU','ACkVD','isClusterPresent','length','PVFOG','metadata','@azure/arm-network','1|5|2|4|0|3','createFederatedAccount','userInstanceType','rOmIw','\x20CLIENT\x20SECRET:\x20','webSocketUtils','roleName','rules','stringify','wutlv','YXgFO','@azure/arm-authorization','kSDyO','actionPermission\x20:\x20','../config/logger','dJCYT','eEvUX','Action\x20permission\x20list\x20is\x20empty\x0a','xWZqX','odSSy','9950814hTBHWF','QNkvo','GET','join','./CloudProvider','mgkMt','unSqJ','HcdkG','getHeader','xRLkV','fBEnH','gSgHd','vnetSubnetID','QMMoX','FYpTG','dcCKe','aCibr','gQnsa','ByKbx','hxtdZ','gJnGP','uQLfs','definition','hUbJS','No\x20service\x20principal\x20found','LUzsQ','1046352ZuHuRu','scATz','vcBNi','Content-Type','filters','clientId','wTAaC','roleDefinitionId','Incremental','LlgBf','gEvMO','BDiIn','BwjDk','daysAfterCreationGreaterThan','DYUek','bstackAccesskey','allowed','value','kubeconfigs','TYSgH','YZcfb','xFBtn','tZtWk','readFileAsync','63YZMuvw','SVdav','subscriptions/','ahhcS','isBrowserstackCluster','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','Authorization','denied','listByResourceGroup','sendAzureInfoToHST','message','FAvZm','authClient','MCEju','DxTBT','cTHzf','fQRdM','6226NubulW','getKubeConfigData','kiUiq','daHWr','xmYVx','getResourceClientId','toUpperCase','bYlrZ','RvtaD','createFederatedAccountForHubHA','clusterName','RjNKF','../config/constants','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','permissions','bstackUsername','YRpVA','principalId','DXEoR','rsBkB','SUOuK','MqdrA','YptIc','true','subscriptionId','@azure/arm-resources','\x20SUBSCRIPTION\x20ID:\x20','23835648IkiLSN','LPJan','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','exports','sCfGD','WNsfA','TMFus','KpujI','HrQMr','cloudProviderName','veZsb','2023-01-31','EBDyy','GFsPK','eLJlt','@azure/arm-containerservice','UFaKp','KosrN','type','isCliToolInstalled','LRLNm','ZVdyV','resources','XLRvb','No\x20CLI\x20tool\x20required','subnetName','properties','CaNLa','resourceGroups','MrFdU','yRQEe','Enabling\x20Local\x20account\x20for\x20the\x20cluster','info','includes','log','mhJYL','turboscale-managed-identity-','path','DXUKC','FAxjw','name','deployments','gridName','utf-8','getUserInput','lMexX','YqatV','actions','Attached\x20permissions\x20:\x20','jRmdm','PnffP','kpPje','.json','split','RXaug','DNoXK','QTwQU','Qsspg','18910jPGDtV','checkAccess','IOFMD','jwUKx','Created\x20Azure\x20federated\x20identity','exit','eFWAB','listForScope','CxYmf','disableLocalAccounts','browserstack:managedBy','ngDdC','odwrT','ymWsz','pgfgV','rsDXN','userMaxNodes','ifnbM','IAWnl','bcUDn','uijrD','FvqXk','stack','data','get','storageClient','@azure/identity','virtualNetworks','Received\x20response\x20-\x20','AzureCloudProvider','vqsmn'];a1_0x9065=function(){return _0x1d7bde;};return a1_0x9065();}class AzureCloudProvider extends CloudProvider{constructor(_0x1e42ef,_0xd84b37,_0x25067f,_0x5e2ad1){const _0x420652=a1_0x446ae7,_0x37f614={};_0x37f614[_0x420652(0x29a)]='5|2|4|1|7|6|3|0';const _0x4bf986=_0x37f614,_0x18c83e=_0x4bf986[_0x420652(0x29a)][_0x420652(0x287)]('|');let _0x42499c=0x0;while(!![]){switch(_0x18c83e[_0x42499c++]){case'0':this[_0x420652(0x232)]=null;continue;case'1':this[_0x420652(0x16b)]=null;continue;case'2':this['cred']=null;continue;case'3':this[_0x420652(0x1ce)]=null;continue;case'4':this['clusterInfo']=null;continue;case'5':super(AZURE,_0x1e42ef,_0xd84b37,_0x25067f,_0x5e2ad1);continue;case'6':this[_0x420652(0x2ac)]=null;continue;case'7':this['storageClient']=null;continue;}break;}}async[a1_0x446ae7(0x2dc)](){const _0x6ddf2a=a1_0x446ae7;return await super[_0x6ddf2a(0x2dc)](),this;}[a1_0x446ae7(0x309)](){const _0x13a33d=a1_0x446ae7,_0xb0d490=new ClientSecretCredential(global_registry[_0x13a33d(0x346)],global_registry[_0x13a33d(0x31b)],global_registry[_0x13a33d(0x17c)]);this[_0x13a33d(0x16b)]=new ContainerServiceClient(_0xb0d490,global_registry[_0x13a33d(0x1bf)]),this['storageClient']=new StorageManagementClient(_0xb0d490,global_registry['cloudProviderSubscriptionId']),this[_0x13a33d(0x2ac)]=new ResourceManagementClient(_0xb0d490,global_registry[_0x13a33d(0x1bf)]),this[_0x13a33d(0x1ce)]=new NetworkManagementClient(_0xb0d490,global_registry['cloudProviderSubscriptionId']),this[_0x13a33d(0x232)]=new AuthorizationManagementClient(_0xb0d490,global_registry[_0x13a33d(0x1bf)]),this[_0x13a33d(0x361)]=_0xb0d490;}[a1_0x446ae7(0x2f3)](){const _0x57db7a=a1_0x446ae7,_0x1a0450={};_0x1a0450[_0x57db7a(0x31f)]=function(_0xa75efa,_0x58f92d){return _0xa75efa+_0x58f92d;},_0x1a0450[_0x57db7a(0x181)]=_0x57db7a(0x348),_0x1a0450[_0x57db7a(0x34d)]=function(_0x48cc8c,_0x1bc0aa){return _0x48cc8c-_0x1bc0aa;};const _0x1318f2=_0x1a0450,_0x380f35=global_registry[_0x57db7a(0x18b)][_0x57db7a(0x287)]('-'),_0x511c45=_0x1318f2[_0x57db7a(0x31f)](_0x1318f2[_0x57db7a(0x181)],_0x380f35[_0x1318f2['hmgHv'](_0x380f35[_0x57db7a(0x1dc)],0x1)])[_0x57db7a(0x2ae)](0x0,0x18);return _0x511c45[_0x57db7a(0x1a4)]();}[a1_0x446ae7(0x17f)](_0x300e01){const _0x3308a1=a1_0x446ae7,_0xdb5b6b={};_0xdb5b6b['WNluS']='0|5|4|1|2|3';const _0x20fb58=_0xdb5b6b,_0x10d131=_0x20fb58['WNluS'][_0x3308a1(0x287)]('|');let _0x3aeac1=0x0;while(!![]){switch(_0x10d131[_0x3aeac1++]){case'0':global_registry[_0x3308a1(0x31b)]=_0x300e01[this[_0x3308a1(0x25b)]]['clientId'];continue;case'1':global_registry[_0x3308a1(0x1bf)]=_0x300e01[this[_0x3308a1(0x25b)]]['subscriptionId'];continue;case'2':global_registry[_0x3308a1(0x2ea)]=_0x300e01[this[_0x3308a1(0x25b)]]['resourceGroup'];continue;case'3':this[_0x3308a1(0x309)]();continue;case'4':global_registry[_0x3308a1(0x346)]=_0x300e01[this[_0x3308a1(0x25b)]]['tenantId'];continue;case'5':global_registry[_0x3308a1(0x17c)]=_0x300e01[this[_0x3308a1(0x25b)]][_0x3308a1(0x1d3)];continue;}break;}}async[a1_0x446ae7(0x27e)](_0x2c956e,_0x48b81d){const _0x4191fd=a1_0x446ae7,_0x251aee={'eLJlt':function(_0x758bde,_0x44ead1){return _0x758bde===_0x44ead1;},'rOmIw':function(_0x22abda,_0xf71e38){return _0x22abda===_0xf71e38;},'dgtfG':_0x4191fd(0x34a),'oCsRl':function(_0x4db60b,_0x33453f){return _0x4db60b(_0x33453f);},'CuVeb':function(_0xef0275,_0x412606){return _0xef0275(_0x412606);},'HPOjW':function(_0x2e87a7,_0x1ccede){return _0x2e87a7(_0x1ccede);},'Cdeko':function(_0x2dd95b,_0x6df328){return _0x2dd95b(_0x6df328);},'IOFMD':function(_0x198fc7,_0x2647ee){return _0x198fc7===_0x2647ee;},'hcgxN':function(_0x3b95d1,_0x2e1e9e){return _0x3b95d1===_0x2e1e9e;},'MCFFG':_0x4191fd(0x21a),'wefHk':_0x4191fd(0x1d4),'hxtdZ':function(_0x3f3a92,_0x463e1d){return _0x3f3a92(_0x463e1d);},'rNJav':function(_0x2650d0,_0x3cade7){return _0x2650d0===_0x3cade7;},'xmYVx':_0x4191fd(0x262),'gEvMO':function(_0x58f983,_0x2202e8){return _0x58f983(_0x2202e8);},'wQiFX':function(_0x5a2f5b,_0x3f5d69){return _0x5a2f5b===_0x3f5d69;},'mhJYL':function(_0x28c51c,_0x2095d9){return _0x28c51c===_0x2095d9;},'UUjSp':function(_0x11dde0,_0x5242a7){return _0x11dde0===_0x5242a7;},'VrcdB':_0x4191fd(0x2c4),'kKMYe':_0x4191fd(0x1cd),'MqdrA':function(_0x256991,_0x3b8c23){return _0x256991===_0x3b8c23;},'QMMoX':'fBsDZ','JdOcQ':_0x4191fd(0x2ed),'evlub':function(_0x1a3282,_0x36220e){return _0x1a3282!==_0x36220e;},'CvQVD':_0x4191fd(0x294),'MJCtM':function(_0x16487d,_0x25c920){return _0x16487d<_0x25c920;},'uyZvQ':function(_0x527de7,_0x3eff78){return _0x527de7!==_0x3eff78;},'gpHKl':'rKtYH','mQfVv':_0x4191fd(0x325),'HhVes':function(_0x558a58,_0x5b4cf8){return _0x558a58+_0x5b4cf8;},'pmJEk':'Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','LCJJb':function(_0x3c50de,_0x5b2a3f){return _0x3c50de(_0x5b2a3f);},'BOoeR':function(_0x2c8aa9,_0x502c17){return _0x2c8aa9(_0x502c17);},'dcCKe':function(_0x14f251,_0x437906){return _0x14f251<=_0x437906;},'UjsdG':function(_0x5cc9b7,_0x5f491a){return _0x5cc9b7>_0x5f491a;},'ojIPd':function(_0x4f8af9,_0x17c62f){return _0x4f8af9!==_0x17c62f;},'kpiBY':_0x4191fd(0x28b),'uYCFn':_0x4191fd(0x19c),'SiSxS':function(_0x3415dc,_0x1f4c38){return _0x3415dc-_0x1f4c38;}},_0x24748f=this['cloudProviderName'][_0x4191fd(0x23d)](),_0x128fbf=await _0x251aee[_0x4191fd(0x1ad)](_0x2c956e,_0x24748f+_0x4191fd(0x168)),_0x2549aa=await _0x251aee[_0x4191fd(0x2af)](_0x2c956e,_0x24748f+_0x4191fd(0x1e4)),_0xbe26e4=await _0x251aee[_0x4191fd(0x2e4)](_0x2c956e,_0x24748f+_0x4191fd(0x34e)),_0x5ba9c3=await _0x251aee[_0x4191fd(0x355)](_0x2c956e,_0x24748f+_0x4191fd(0x251));global_registry[_0x4191fd(0x31b)]=_0x128fbf,global_registry[_0x4191fd(0x17c)]=_0x2549aa,global_registry[_0x4191fd(0x346)]=_0xbe26e4,global_registry[_0x4191fd(0x1bf)]=_0x5ba9c3,this[_0x4191fd(0x309)]();const _0x9fd85b=await this['getResourceGroups'](),_0x5ec8d7=_0x9fd85b[_0x4191fd(0x1dc)];let _0x8f0c38;if(_0x251aee[_0x4191fd(0x28e)](_0x5ec8d7,0x0)){if(_0x251aee[_0x4191fd(0x341)](_0x251aee[_0x4191fd(0x2c0)],_0x251aee[_0x4191fd(0x1cb)])){if(_0x251aee[_0x4191fd(0x260)](_0x3f1895[_0x4191fd(0x27a)],_0x316a73))return!![];}else _0x8f0c38=await _0x251aee[_0x4191fd(0x207)](_0x2c956e,_0x24748f+_0x4191fd(0x322));}else{if(_0x251aee[_0x4191fd(0x28e)](_0x5ec8d7,0x1)){if(_0x251aee[_0x4191fd(0x1cc)](_0x251aee[_0x4191fd(0x23b)],_0x251aee[_0x4191fd(0x23b)])){const _0x37f79a=await _0x251aee[_0x4191fd(0x218)](_0x2c956e,_0x4191fd(0x1c3)+_0x9fd85b[0x0]+'\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20');(_0x251aee[_0x4191fd(0x28e)](_0x37f79a,undefined)||_0x251aee['wQiFX'](_0x37f79a,null)||!(_0x251aee[_0x4191fd(0x1d2)](_0x37f79a[_0x4191fd(0x1a4)](),'y')||_0x251aee[_0x4191fd(0x275)](_0x37f79a['toLowerCase'](),'n')))&&(_0x251aee['UUjSp'](_0x251aee['VrcdB'],_0x251aee[_0x4191fd(0x33d)])?_0x251aee[_0x4191fd(0x1e3)](_0x4ee040['name'],_0x21b2ef)&&(_0x784547=_0x38b1e8['id']):(console[_0x4191fd(0x1c6)](_0x251aee[_0x4191fd(0x166)]),process[_0x4191fd(0x291)](0x1)));if(_0x251aee[_0x4191fd(0x24c)](_0x37f79a[_0x4191fd(0x1a4)](),'n')){if(_0x251aee[_0x4191fd(0x28e)](_0x251aee[_0x4191fd(0x201)],_0x251aee[_0x4191fd(0x2ff)]))return!![];else process[_0x4191fd(0x291)](0x0);}_0x8f0c38=_0x9fd85b[0x0];}else _0x85bfc5[_0x4191fd(0x345)][_0x4191fd(0x2b5)](_0x25797a);}else{if(_0x251aee['evlub'](_0x251aee[_0x4191fd(0x1b2)],_0x251aee[_0x4191fd(0x1b2)]))return _0x264beb[_0x4191fd(0x1c6)](_0x4191fd(0x244)+_0x25cb07+':'+_0x2662f6[_0x4191fd(0x2a2)]),{};else{for(let _0x5cc03f=0x0;_0x251aee[_0x4191fd(0x2cb)](_0x5cc03f,_0x9fd85b[_0x4191fd(0x1dc)]);_0x5cc03f+=0x1){_0x251aee[_0x4191fd(0x353)](_0x251aee[_0x4191fd(0x2ca)],_0x251aee[_0x4191fd(0x2cf)])?console[_0x4191fd(0x274)]('['+_0x251aee[_0x4191fd(0x2d5)](_0x5cc03f,0x1)+']\x20'+_0x9fd85b[_0x5cc03f]):(_0x2f587c[_0x4191fd(0x1c6)](_0x251aee[_0x4191fd(0x166)]),_0x13b73c[_0x4191fd(0x291)](0x1));}const _0x2b5556=await _0x251aee[_0x4191fd(0x355)](_0x2c956e,_0x251aee[_0x4191fd(0x328)]),_0x4e9c58=_0x251aee[_0x4191fd(0x327)](Number,_0x2b5556);if(_0x251aee[_0x4191fd(0x1d0)](isNaN,_0x4e9c58)||_0x251aee[_0x4191fd(0x203)](_0x4e9c58,0x0)||_0x251aee['UjsdG'](_0x4e9c58,_0x5ec8d7)){if(_0x251aee['ojIPd'](_0x251aee[_0x4191fd(0x356)],_0x251aee[_0x4191fd(0x342)]))console[_0x4191fd(0x1c6)](_0x251aee['dgtfG']),process['exit'](0x1);else{const _0x5676d5=new _0x23d575(_0x14b14a['cloudProviderTenantId'],_0x31396c[_0x4191fd(0x31b)],_0x1db006['cloudProviderClientSecret']);this[_0x4191fd(0x16b)]=new _0x3fba5c(_0x5676d5,_0x4128ed[_0x4191fd(0x1bf)]),this[_0x4191fd(0x2a5)]=new _0x505bbd(_0x5676d5,_0x5cfa53[_0x4191fd(0x1bf)]),this[_0x4191fd(0x2ac)]=new _0x767597(_0x5676d5,_0x33a9f2[_0x4191fd(0x1bf)]),this[_0x4191fd(0x1ce)]=new _0x5a793d(_0x5676d5,_0x12838d['cloudProviderSubscriptionId']),this[_0x4191fd(0x232)]=new _0xf0e006(_0x5676d5,_0x564613[_0x4191fd(0x1bf)]),this[_0x4191fd(0x361)]=_0x5676d5;}}_0x8f0c38=_0x9fd85b[_0x251aee[_0x4191fd(0x1b5)](_0x4e9c58,0x1)];}}}global_registry[_0x4191fd(0x2ea)]=_0x8f0c38;const _0x280d89={};return _0x280d89[_0x4191fd(0x213)]=_0x128fbf,_0x280d89[_0x4191fd(0x1d3)]=_0x2549aa,_0x280d89['tenantId']=_0xbe26e4,_0x280d89['subscriptionId']=_0x5ba9c3,_0x280d89[_0x4191fd(0x316)]=_0x8f0c38,_0x48b81d[_0x4191fd(0x196)][AZURE]=_0x280d89,_0x48b81d;}async[a1_0x446ae7(0x358)](){const _0x4fec84=a1_0x446ae7,_0x16207c={};_0x16207c[_0x4fec84(0x1da)]=function(_0x33dd8d,_0x2ce37a){return _0x33dd8d+_0x2ce37a;},_0x16207c[_0x4fec84(0x32f)]=function(_0x2bbfac,_0x137ed4){return _0x2bbfac===_0x137ed4;},_0x16207c[_0x4fec84(0x209)]=_0x4fec84(0x279),_0x16207c[_0x4fec84(0x206)]='sZHyy',_0x16207c[_0x4fec84(0x231)]=function(_0x3325eb,_0x480f2c){return _0x3325eb!==_0x480f2c;},_0x16207c[_0x4fec84(0x2f2)]=_0x4fec84(0x20f),_0x16207c[_0x4fec84(0x26d)]=_0x4fec84(0x247);const _0x386f18=_0x16207c,_0xf73b85=[];try{if(_0x386f18['kDhlC'](_0x386f18[_0x4fec84(0x209)],_0x386f18[_0x4fec84(0x206)]))_0x1b8790[_0x4fec84(0x274)]('['+_0x386f18[_0x4fec84(0x1da)](_0x404722,0x1)+']\x20'+_0x3c1206[_0xa9161c]);else{const _0x247e26=await this[_0x4fec84(0x2ac)][_0x4fec84(0x26e)][_0x4fec84(0x329)]();for await(const _0x223441 of _0x247e26){_0x386f18[_0x4fec84(0x231)](_0x386f18[_0x4fec84(0x2f2)],_0x386f18[_0x4fec84(0x26d)])?_0xf73b85[_0x4fec84(0x2b5)](_0x223441[_0x4fec84(0x27a)]):_0x327a51[_0x4fec84(0x1d6)]=![];}}}catch(_0x5d960c){}return _0xf73b85;}async[a1_0x446ae7(0x2f7)](){const _0x48de82=a1_0x446ae7;return this[_0x48de82(0x305)]=await this[_0x48de82(0x16b)][_0x48de82(0x2e3)][_0x48de82(0x2a4)](global_registry['cloudProviderResourceGroup'],this[_0x48de82(0x241)]),this[_0x48de82(0x305)];}async[a1_0x446ae7(0x238)](){const _0x24ebb1=a1_0x446ae7,_0x153a2b=await this[_0x24ebb1(0x16b)][_0x24ebb1(0x2e3)][_0x24ebb1(0x1b4)](global_registry[_0x24ebb1(0x2ea)],this['clusterName']),_0x2d30ab=_0x153a2b[_0x24ebb1(0x220)][0x0][_0x24ebb1(0x21f)]['toString']();return _0x2d30ab;}[a1_0x446ae7(0x2b6)](_0x79ea4d){const _0x502e2f=a1_0x446ae7;return _0x79ea4d[_0x502e2f(0x1d6)][_0x502e2f(0x2d8)][_0x502e2f(0x195)][0x0]['hostname'];}async[a1_0x446ae7(0x1db)](){const _0x5aef15=a1_0x446ae7,_0x144cd3={};_0x144cd3[_0x5aef15(0x185)]=_0x5aef15(0x351),_0x144cd3[_0x5aef15(0x30a)]=_0x5aef15(0x21e),_0x144cd3[_0x5aef15(0x221)]=_0x5aef15(0x22d),_0x144cd3[_0x5aef15(0x2ab)]=function(_0x3585de,_0x22e092){return _0x3585de===_0x22e092;},_0x144cd3[_0x5aef15(0x1f2)]=_0x5aef15(0x319),_0x144cd3[_0x5aef15(0x173)]='gGLXp',_0x144cd3[_0x5aef15(0x1ff)]=function(_0x41ba1b,_0x2b503b){return _0x41ba1b!==_0x2b503b;},_0x144cd3[_0x5aef15(0x31a)]=_0x5aef15(0x33e),_0x144cd3[_0x5aef15(0x1b8)]='pvDFn',_0x144cd3[_0x5aef15(0x1fe)]=_0x5aef15(0x257);const _0x13e1e5=_0x144cd3,_0x12a72b=new Array();for await(const _0x319699 of this[_0x5aef15(0x16b)][_0x5aef15(0x2e3)][_0x5aef15(0x22e)](global_registry[_0x5aef15(0x2ea)])){_0x13e1e5[_0x5aef15(0x2ab)](_0x13e1e5[_0x5aef15(0x1f2)],_0x13e1e5[_0x5aef15(0x173)])?_0x5c4902[_0x5aef15(0x2b5)](_0x1c1794):_0x12a72b[_0x5aef15(0x2b5)](_0x319699);}for await(const _0x295326 of _0x12a72b){if(_0x13e1e5[_0x5aef15(0x1ff)](_0x13e1e5[_0x5aef15(0x31a)],_0x13e1e5[_0x5aef15(0x1b8)])){if(_0x13e1e5[_0x5aef15(0x2ab)](_0x295326[_0x5aef15(0x27a)],this[_0x5aef15(0x241)])){if(_0x13e1e5['Maraq'](_0x13e1e5[_0x5aef15(0x1fe)],_0x13e1e5[_0x5aef15(0x1fe)]))return await this[_0x5aef15(0x2f7)](),!![];else{_0x1387c4[_0x5aef15(0x272)](_0x13e1e5[_0x5aef15(0x185)]);const _0x3f9aad={};_0x3f9aad['type']=_0x2c9c82['RESOURCES'],_0x3f9aad['message']=_0x13e1e5['ivssA'],this[_0x5aef15(0x1e5)][_0x5aef15(0x31e)](this[_0x5aef15(0x187)],_0x3f9aad);const _0x583133={};_0x583133[_0x5aef15(0x1a6)]=!![];const _0x1f757c={'workloadIdentity':_0x583133,..._0x193031[_0x5aef15(0x2fe)]};_0x173b16[_0x5aef15(0x2fe)]=_0x1f757c;}}}else{const _0x520940=_0x32d846['includes'](_0x325ff9);_0x10b57e+='\x0a\x09'+_0x249aaa+':\x20'+(_0x520940?_0x13e1e5['OKeGM']:_0x13e1e5['TYSgH']),!_0x520940&&(_0x12a7b1['status']=![]);}}return![];}async[a1_0x446ae7(0x2e6)](_0x1022d9=null,_0x10cb2b=null){const _0xd20ea7=a1_0x446ae7,_0x3bfa51={};_0x3bfa51[_0xd20ea7(0x33c)]=_0xd20ea7(0x300),_0x3bfa51[_0xd20ea7(0x1f3)]='Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity';const _0x1bd5d3=_0x3bfa51,_0x1383ba=_0x1bd5d3[_0xd20ea7(0x33c)][_0xd20ea7(0x287)]('|');let _0x2ccac7=0x0;while(!![]){switch(_0x1383ba[_0x2ccac7++]){case'0':const _0x2de8f5={};_0x2de8f5[_0xd20ea7(0x264)]=WS_EVENTS[_0xd20ea7(0x17e)],_0x2de8f5[_0xd20ea7(0x230)]=_0x1bd5d3[_0xd20ea7(0x1f3)],this[_0xd20ea7(0x1e5)][_0xd20ea7(0x31e)](this[_0xd20ea7(0x187)],_0x2de8f5);continue;case'1':logger['info'](_0x1bd5d3['odSSy']);continue;case'2':await this[_0xd20ea7(0x1b6)](_0x1022d9,_0x10cb2b);continue;case'3':return[_0x1022d9,_0x10cb2b];case'4':this[_0xd20ea7(0x22f)]();continue;case'5':await this['createOtherResources']();continue;}break;}}async[a1_0x446ae7(0x1b6)](_0x428a36=null,_0x32ecae=null){const _0x1023ae=a1_0x446ae7,_0x2d269e={};_0x2d269e[_0x1023ae(0x343)]=_0x1023ae(0x1e0),_0x2d269e['kpPje']=_0x1023ae(0x30b),_0x2d269e[_0x1023ae(0x2b9)]='azureresources',_0x2d269e['yMkTh']=_0x1023ae(0x2bc),_0x2d269e[_0x1023ae(0x19d)]='utf-8',_0x2d269e['aCibr']=_0x1023ae(0x24e),_0x2d269e[_0x1023ae(0x2d0)]=_0x1023ae(0x178),_0x2d269e[_0x1023ae(0x189)]=function(_0x29cba6,_0x1c088e){return _0x29cba6!==_0x1c088e;},_0x2d269e['bsLCV']=function(_0x14405f,_0x2b4d0e){return _0x14405f!==_0x2b4d0e;},_0x2d269e['QbKxi']=function(_0x4eca63,_0x4b59b6){return _0x4eca63===_0x4b59b6;},_0x2d269e[_0x1023ae(0x1c4)]=_0x1023ae(0x280),_0x2d269e[_0x1023ae(0x180)]='string',_0x2d269e['MCEju']='Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.',_0x2d269e['jothC']=_0x1023ae(0x183),_0x2d269e[_0x1023ae(0x18c)]=_0x1023ae(0x1a1),_0x2d269e[_0x1023ae(0x229)]=_0x1023ae(0x1cf),_0x2d269e[_0x1023ae(0x1b1)]=_0x1023ae(0x216);const _0x40c85e=_0x2d269e;let _0x42710f=await fs[_0x1023ae(0x225)](path[_0x1023ae(0x1f7)](__dirname,'..',_0x40c85e[_0x1023ae(0x285)],_0x40c85e['WzhKW'],_0x40c85e[_0x1023ae(0x313)]),_0x40c85e[_0x1023ae(0x19d)]);_0x42710f=JSON[_0x1023ae(0x1c2)](_0x42710f);const _0x39d423={};_0x39d423['value']=this[_0x1023ae(0x241)];const _0x25932a={};_0x25932a[_0x1023ae(0x21f)]=global_registry['clusterRegion'];const _0xe125a6={};_0xe125a6['value']=global_registry['instanceType'];const _0x165dd9={};_0x165dd9[_0x1023ae(0x21f)]=global_registry[_0x1023ae(0x1b0)];const _0x322b41={};_0x322b41[_0x1023ae(0x21f)]=global_registry['clusterAutoUpgrade']?_0x40c85e[_0x1023ae(0x204)]:_0x40c85e[_0x1023ae(0x2d0)];const _0x1a4f59={};_0x1a4f59[_0x1023ae(0x241)]=_0x39d423,_0x1a4f59[_0x1023ae(0x1bb)]=_0x25932a,_0x1a4f59[_0x1023ae(0x1e2)]=_0xe125a6,_0x1a4f59[_0x1023ae(0x29c)]=_0x165dd9,_0x1a4f59[_0x1023ae(0x184)]=_0x322b41;let _0xe816e6=_0x1a4f59;if(_0x40c85e[_0x1023ae(0x189)](_0x428a36,null)&&_0x40c85e[_0x1023ae(0x318)](_0x32ecae,null)){if(_0x40c85e[_0x1023ae(0x164)](_0x40c85e[_0x1023ae(0x1c4)],_0x40c85e[_0x1023ae(0x1c4)])){const _0x2d849a={};_0x2d849a['type']=_0x40c85e['mTMnl'],_0x2d849a[_0x1023ae(0x1de)]={},_0x2d849a[_0x1023ae(0x1de)][_0x1023ae(0x2ec)]=_0x40c85e[_0x1023ae(0x233)];const _0x919274={};_0x919274[_0x1023ae(0x264)]=_0x40c85e[_0x1023ae(0x180)],_0x919274[_0x1023ae(0x1de)]={},_0x919274[_0x1023ae(0x1de)][_0x1023ae(0x2ec)]=_0x40c85e[_0x1023ae(0x233)],_0x42710f[_0x1023ae(0x186)]={..._0x42710f[_0x1023ae(0x186)],'vpcName':_0x2d849a,'subnetName':_0x919274};const _0x3eac98={};_0x3eac98['vnetSubnetID']=_0x40c85e['jothC'],_0x42710f[_0x1023ae(0x1b9)]=_0x3eac98,_0x42710f['resources'][0x0][_0x1023ae(0x26c)][_0x1023ae(0x314)][0x0]={..._0x42710f[_0x1023ae(0x268)][0x0][_0x1023ae(0x26c)][_0x1023ae(0x314)][0x0],'vnetSubnetID':_0x40c85e['QaNLJ']};const _0x40e471={};_0x40e471[_0x1023ae(0x21f)]=_0x428a36;const _0x66a3c9={};_0x66a3c9[_0x1023ae(0x21f)]=_0x32ecae[0x0],_0xe816e6={..._0xe816e6,'vpcName':_0x40e471,'subnetName':_0x66a3c9};}else{const _0x129aa3=_0x40c85e['jPTMH']['split']('|');let _0x4c8fa3=0x0;while(!![]){switch(_0x129aa3[_0x4c8fa3++]){case'0':_0x530982['cloudProviderResourceGroup']=_0x321433[this['cloudProviderName']][_0x1023ae(0x316)];continue;case'1':_0x220fe6[_0x1023ae(0x31b)]=_0x30372c[this[_0x1023ae(0x25b)]][_0x1023ae(0x213)];continue;case'2':_0x325b5c[_0x1023ae(0x346)]=_0x5d51ed[this[_0x1023ae(0x25b)]]['tenantId'];continue;case'3':this[_0x1023ae(0x309)]();continue;case'4':_0x2c79f1[_0x1023ae(0x1bf)]=_0x2d08da[this[_0x1023ae(0x25b)]][_0x1023ae(0x24f)];continue;case'5':_0xea8289[_0x1023ae(0x17c)]=_0x3df2bd[this['cloudProviderName']][_0x1023ae(0x1d3)];continue;}break;}}}await this[_0x1023ae(0x2ac)][_0x1023ae(0x27b)][_0x1023ae(0x2ef)](global_registry[_0x1023ae(0x2ea)],_0x40c85e[_0x1023ae(0x229)],{'properties':{'template':_0x42710f,'mode':_0x40c85e[_0x1023ae(0x1b1)],'parameters':_0xe816e6}});}async[a1_0x446ae7(0x32e)](){const _0x158772=a1_0x446ae7,_0x47681d={};_0x47681d[_0x158772(0x2ce)]=function(_0x4c6570,_0x3265af){return _0x4c6570===_0x3265af;},_0x47681d['RpVFP']=_0x158772(0x271),_0x47681d['Nzrgg']=function(_0x3520fe,_0x3edbfb){return _0x3520fe!==_0x3edbfb;},_0x47681d[_0x158772(0x2b2)]='NJqtA',_0x47681d[_0x158772(0x27f)]=_0x158772(0x30f),_0x47681d['JSQSp']=_0x158772(0x29b),_0x47681d[_0x158772(0x2d3)]=_0x158772(0x307),_0x47681d[_0x158772(0x336)]='Storage\x20account\x20already\x20exists,\x20skipping',_0x47681d[_0x158772(0x1c8)]=function(_0x4b6d76,_0x2ef10d){return _0x4b6d76!==_0x2ef10d;},_0x47681d[_0x158772(0x2ee)]=_0x158772(0x2ba),_0x47681d[_0x158772(0x297)]=_0x158772(0x170),_0x47681d['XfNam']=_0x158772(0x19a),_0x47681d[_0x158772(0x1ca)]=_0x158772(0x176),_0x47681d[_0x158772(0x19b)]='Managed\x20identity\x20already\x20exists,\x20skipping',_0x47681d[_0x158772(0x18e)]=_0x158772(0x308),_0x47681d[_0x158772(0x2aa)]=_0x158772(0x290);const _0x2c97c8=_0x47681d,_0x2675b8=await this['isStorageAccountPresent']();if(!_0x2675b8){if(_0x2c97c8[_0x158772(0x2fd)](_0x2c97c8['yxBIZ'],_0x2c97c8[_0x158772(0x2b2)])){if(_0x2c97c8[_0x158772(0x2ce)](_0xc63056[_0x158772(0x27a)],_0x158772(0x276)+this[_0x158772(0x241)]))return!![];}else{const _0x45d3df={};_0x45d3df[_0x158772(0x264)]=WS_EVENTS[_0x158772(0x17e)],_0x45d3df[_0x158772(0x230)]=_0x2c97c8['lMexX'],this[_0x158772(0x1e5)][_0x158772(0x31e)](this[_0x158772(0x187)],_0x45d3df),logger[_0x158772(0x272)](_0x2c97c8[_0x158772(0x27f)]),await this[_0x158772(0x2be)]();}}else{if(_0x2c97c8['Nzrgg'](_0x2c97c8['JSQSp'],_0x2c97c8['UUcif']))logger['info'](_0x2c97c8[_0x158772(0x336)]);else{_0x5315bd[_0x158772(0x272)](_0x2c97c8['RpVFP']);const _0x52a113={};_0x52a113[_0x158772(0x264)]=_0x2f70fb[_0x158772(0x2e9)],_0x52a113[_0x158772(0x230)]=_0x2c97c8[_0x158772(0x2c3)],this[_0x158772(0x1e5)][_0x158772(0x31e)](this[_0x158772(0x187)],_0x52a113),_0x2bab5b[_0x158772(0x295)]=![];}}const _0x341e5a=await this[_0x158772(0x2f1)]();if(!_0x341e5a){if(_0x2c97c8[_0x158772(0x1c8)](_0x2c97c8['bOOrg'],_0x2c97c8[_0x158772(0x297)])){const _0x3621ce={};_0x3621ce[_0x158772(0x264)]=WS_EVENTS[_0x158772(0x17e)],_0x3621ce[_0x158772(0x230)]=_0x2c97c8[_0x158772(0x2b8)],this[_0x158772(0x1e5)]['sendEventToBackend'](this[_0x158772(0x187)],_0x3621ce),logger['info'](_0x2c97c8[_0x158772(0x2b8)]),await this[_0x158772(0x303)]();}else return _0x4cca4d[_0x158772(0x1c6)]=_0x13eebb['error'],_0x4460dc;}else _0x2c97c8[_0x158772(0x2fd)](_0x2c97c8[_0x158772(0x1ca)],_0x2c97c8[_0x158772(0x1ca)])?_0x3702dc=_0x4ee954['id']:logger[_0x158772(0x272)](_0x2c97c8[_0x158772(0x19b)]);logger['info'](_0x2c97c8[_0x158772(0x18e)]),await this['createFederatedAccount'](),logger[_0x158772(0x272)](_0x2c97c8[_0x158772(0x2aa)]);}async[a1_0x446ae7(0x2be)](){const _0x229f5d=a1_0x446ae7,_0x31e152={};_0x31e152[_0x229f5d(0x1d9)]=_0x229f5d(0x30b),_0x31e152[_0x229f5d(0x16d)]=_0x229f5d(0x311),_0x31e152[_0x229f5d(0x2c2)]='storageaccount.json',_0x31e152[_0x229f5d(0x242)]=_0x229f5d(0x27d),_0x31e152[_0x229f5d(0x1fa)]=_0x229f5d(0x1ae),_0x31e152[_0x229f5d(0x1ac)]='Incremental',_0x31e152[_0x229f5d(0x21c)]=_0x229f5d(0x334),_0x31e152['CTFVe']=_0x229f5d(0x332),_0x31e152['vcBNi']='blockBlob',_0x31e152[_0x229f5d(0x20b)]='default';const _0x3aa90e=_0x31e152;let _0x4abf3e=await fs['readFileAsync'](path[_0x229f5d(0x1f7)](__dirname,'..',_0x3aa90e[_0x229f5d(0x1d9)],_0x3aa90e[_0x229f5d(0x16d)],_0x3aa90e[_0x229f5d(0x2c2)]),_0x3aa90e[_0x229f5d(0x242)]);_0x4abf3e=JSON[_0x229f5d(0x1c2)](_0x4abf3e);const _0xf72753=this['getStorageAccountName'](),_0x5d00c3={};_0x5d00c3['value']=_0xf72753;const _0x5d05af={};_0x5d05af[_0x229f5d(0x323)]=_0x5d00c3,await this[_0x229f5d(0x2ac)]['deployments'][_0x229f5d(0x2ef)](global_registry[_0x229f5d(0x2ea)],_0x3aa90e[_0x229f5d(0x1fa)],{'properties':{'template':_0x4abf3e,'mode':_0x3aa90e[_0x229f5d(0x1ac)],'parameters':_0x5d05af}});const _0x264d17={};_0x264d17[_0x229f5d(0x21b)]=0x3c;const _0x312782={};_0x312782[_0x229f5d(0x2fb)]=_0x264d17;const _0xf54457={};_0xf54457['baseBlob']=_0x312782;const _0x1d984d={};_0x1d984d[_0x229f5d(0x1a6)]=!![],_0x1d984d[_0x229f5d(0x27a)]=_0x3aa90e[_0x229f5d(0x21c)],_0x1d984d['type']=_0x3aa90e['CTFVe'],_0x1d984d[_0x229f5d(0x20a)]={},_0x1d984d[_0x229f5d(0x20a)][_0x229f5d(0x281)]=_0xf54457,_0x1d984d[_0x229f5d(0x20a)][_0x229f5d(0x212)]={},_0x1d984d[_0x229f5d(0x20a)][_0x229f5d(0x212)]['blobTypes']=[_0x3aa90e[_0x229f5d(0x210)]];const _0x4bac17={};_0x4bac17[_0x229f5d(0x1e7)]=[_0x1d984d];const _0x19d2d8={};_0x19d2d8[_0x229f5d(0x1a0)]=_0x4bac17;const _0x5b109a=_0x19d2d8;await this[_0x229f5d(0x2a5)][_0x229f5d(0x2b0)][_0x229f5d(0x1c5)](global_registry[_0x229f5d(0x2ea)],_0xf72753,_0x3aa90e[_0x229f5d(0x20b)],_0x5b109a);}async[a1_0x446ae7(0x303)](){const _0x3a8d90=a1_0x446ae7,_0x190893={};_0x190893[_0x3a8d90(0x24b)]=_0x3a8d90(0x30b),_0x190893[_0x3a8d90(0x267)]=_0x3a8d90(0x311),_0x190893[_0x3a8d90(0x259)]=_0x3a8d90(0x32a),_0x190893[_0x3a8d90(0x177)]=_0x3a8d90(0x27d),_0x190893[_0x3a8d90(0x359)]=_0x3a8d90(0x2cc),_0x190893[_0x3a8d90(0x30c)]=_0x3a8d90(0x216);const _0x8c7d23=_0x190893;let _0x3659f2=await fs[_0x3a8d90(0x225)](path[_0x3a8d90(0x1f7)](__dirname,'..',_0x8c7d23['SUOuK'],_0x8c7d23[_0x3a8d90(0x267)],_0x8c7d23['KpujI']),_0x8c7d23[_0x3a8d90(0x177)]);_0x3659f2=JSON[_0x3a8d90(0x1c2)](_0x3659f2),await this[_0x3a8d90(0x2ac)][_0x3a8d90(0x27b)][_0x3a8d90(0x2ef)](global_registry['cloudProviderResourceGroup'],_0x8c7d23[_0x3a8d90(0x359)],{'properties':{'template':_0x3659f2,'mode':_0x8c7d23[_0x3a8d90(0x30c)],'parameters':{'clusterName':{'value':this[_0x3a8d90(0x241)]}}}});}async[a1_0x446ae7(0x1e1)](){const _0x26144d=a1_0x446ae7,_0x30a04d={'LoGgL':function(_0x40930a,_0x306ede,_0x265f08){return _0x40930a(_0x306ede,_0x265f08);},'PqsKK':function(_0x1dee83,_0x352646){return _0x1dee83===_0x352646;},'hUbUl':_0x26144d(0x1f1),'yLprX':function(_0x4f68ef,_0x2fe856){return _0x4f68ef!==_0x2fe856;},'QrqAS':'iCXYV','dJCYT':_0x26144d(0x1af),'uQUwn':_0x26144d(0x1a8),'QTwQU':_0x26144d(0x1b3),'PnffP':function(_0x1eac15,_0x23ad1c){return _0x1eac15===_0x23ad1c;},'jwUKx':_0x26144d(0x227),'UxTzy':_0x26144d(0x30b),'KosrN':_0x26144d(0x311),'YXgFO':_0x26144d(0x27d),'TMFus':_0x26144d(0x2f4),'Tantu':_0x26144d(0x216)};!this['clusterInfo']&&(_0x30a04d['yLprX'](_0x30a04d['QrqAS'],_0x30a04d[_0x26144d(0x1ef)])?await this[_0x26144d(0x2f7)]():_0x30a04d[_0x26144d(0x333)](_0xad2308,()=>_0x206978(),0x3e8));const _0x2e9f14=this['clusterInfo']?.[_0x26144d(0x2cd)]?.[_0x26144d(0x2de)],_0x1f3da9=[_0x30a04d[_0x26144d(0x1bd)],_0x30a04d[_0x26144d(0x28a)]];for await(const _0x1aaf66 of _0x1f3da9){if(_0x30a04d[_0x26144d(0x284)](_0x30a04d[_0x26144d(0x28f)],_0x30a04d[_0x26144d(0x28f)])){let _0x20fccd=await fs[_0x26144d(0x225)](path['join'](__dirname,'..',_0x30a04d['UxTzy'],_0x30a04d[_0x26144d(0x263)],'federatedidentity'+_0x1aaf66+_0x26144d(0x286)),_0x30a04d[_0x26144d(0x1ea)]);_0x20fccd=JSON['parse'](_0x20fccd);const _0x1881ca={};_0x1881ca[_0x26144d(0x21f)]=_0x2e9f14,await this[_0x26144d(0x2ac)][_0x26144d(0x27b)]['beginCreateOrUpdateAndWait'](global_registry[_0x26144d(0x2ea)],_0x30a04d[_0x26144d(0x258)],{'properties':{'template':_0x20fccd,'mode':_0x30a04d['Tantu'],'parameters':{'oidcIssuer':_0x1881ca,'gridName':{'value':this[_0x26144d(0x27c)]},'clusterName':{'value':this[_0x26144d(0x241)]}}}});}else _0x20b9ad+=_0x30a04d['PqsKK'](_0x4b7565[_0x26144d(0x1dc)],0x0)?_0x30a04d[_0x26144d(0x1a9)]:'',_0x27144f['debug'](_0x26144d(0x254)+_0x5c4459[_0x26144d(0x1e8)](_0x36e2f4));}}async[a1_0x446ae7(0x2e7)](_0x1ff348,_0x1ed7f9,_0x268aac,_0x1026e1,_0xd05102){const _0xf7d912=a1_0x446ae7,_0x58e37c={};_0x58e37c[_0xf7d912(0x23f)]=_0xf7d912(0x32b),_0x58e37c[_0xf7d912(0x298)]='Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha';const _0x48521d=_0x58e37c,_0x20a8b8={};_0x20a8b8[_0xf7d912(0x264)]=WS_EVENTS[_0xf7d912(0x17e)],_0x20a8b8['message']=_0x48521d[_0xf7d912(0x23f)],this[_0xf7d912(0x1e5)][_0xf7d912(0x31e)](this[_0xf7d912(0x187)],_0x20a8b8),logger[_0xf7d912(0x272)](_0x48521d[_0xf7d912(0x23f)]),await this[_0xf7d912(0x240)]();const _0x217948={};_0x217948['type']=WS_EVENTS['LOG'],_0x217948['message']=_0x48521d[_0xf7d912(0x298)],this[_0xf7d912(0x1e5)][_0xf7d912(0x31e)](this[_0xf7d912(0x187)],_0x217948);}async[a1_0x446ae7(0x240)](){const _0x33fde4=a1_0x446ae7,_0x5e8224={};_0x5e8224['MmzrG']=function(_0x19efe1,_0xfea50b){return _0x19efe1!==_0xfea50b;},_0x5e8224[_0x33fde4(0x17d)]=_0x33fde4(0x34c),_0x5e8224[_0x33fde4(0x167)]=_0x33fde4(0x30b),_0x5e8224[_0x33fde4(0x292)]='hubharesources',_0x5e8224['oSkzI']=_0x33fde4(0x2f9),_0x5e8224['daHWr']='utf-8',_0x5e8224[_0x33fde4(0x35c)]=_0x33fde4(0x2f4),_0x5e8224[_0x33fde4(0x1fb)]='Incremental';const _0x4d0af5=_0x5e8224;if(!this['clusterInfo']){if(_0x4d0af5[_0x33fde4(0x2c8)](_0x4d0af5[_0x33fde4(0x17d)],_0x4d0af5[_0x33fde4(0x17d)]))return;else await this[_0x33fde4(0x2f7)]();}const _0xa72dc7=this[_0x33fde4(0x305)]?.[_0x33fde4(0x2cd)]?.[_0x33fde4(0x2de)];let _0x13a628=await fs[_0x33fde4(0x225)](path['join'](__dirname,'..',_0x4d0af5[_0x33fde4(0x167)],_0x4d0af5[_0x33fde4(0x292)],_0x4d0af5['oSkzI']),_0x4d0af5[_0x33fde4(0x23a)]);_0x13a628=JSON[_0x33fde4(0x1c2)](_0x13a628);const _0x4abfd5={};_0x4abfd5[_0x33fde4(0x21f)]=_0xa72dc7,await this[_0x33fde4(0x2ac)][_0x33fde4(0x27b)][_0x33fde4(0x2ef)](global_registry[_0x33fde4(0x2ea)],_0x4d0af5['jTMxt'],{'properties':{'template':_0x13a628,'mode':_0x4d0af5[_0x33fde4(0x1fb)],'parameters':{'oidcIssuer':_0x4abfd5,'namespace':{'value':global_registry['hubHaNameSpace']},'clusterName':{'value':this[_0x33fde4(0x241)]}}}});}async[a1_0x446ae7(0x1be)](){const _0x487863=a1_0x446ae7,_0x50548c={};_0x50548c['yRQEe']=function(_0x3114f1,_0x5c3fd0){return _0x3114f1+_0x5c3fd0;},_0x50548c['OGAmX']=_0x487863(0x348),_0x50548c['TveqX']=function(_0x168622,_0x365142){return _0x168622-_0x365142;},_0x50548c[_0x487863(0x2e0)]=function(_0x1e7305,_0x306931){return _0x1e7305!==_0x306931;},_0x50548c[_0x487863(0x1c0)]=_0x487863(0x194),_0x50548c[_0x487863(0x34f)]=function(_0x28502a,_0x5d4ebd){return _0x28502a===_0x5d4ebd;},_0x50548c['Tefqj']=_0x487863(0x2e2),_0x50548c['iuPAJ']=function(_0xe1bf44,_0x3c14c7){return _0xe1bf44===_0x3c14c7;},_0x50548c[_0x487863(0x234)]=function(_0x3d0fb2,_0x4074d9){return _0x3d0fb2===_0x4074d9;},_0x50548c[_0x487863(0x337)]=_0x487863(0x2da);const _0x14f2e4=_0x50548c,_0xd6052=this['getStorageAccountName'](),_0x13d69c=new Array();for await(const _0x431097 of this[_0x487863(0x2a5)][_0x487863(0x197)][_0x487863(0x22e)](global_registry['cloudProviderResourceGroup'])){_0x14f2e4[_0x487863(0x2e0)](_0x14f2e4[_0x487863(0x1c0)],_0x14f2e4['yQKJg'])?_0x467ac4[_0x487863(0x1c6)]=_0x30a3ab:_0x13d69c[_0x487863(0x2b5)](_0x431097);}for await(const _0x23aeff of _0x13d69c){if(_0x14f2e4[_0x487863(0x34f)](_0x14f2e4[_0x487863(0x199)],_0x14f2e4['Tefqj'])){if(_0x14f2e4[_0x487863(0x349)](_0x23aeff[_0x487863(0x27a)],_0xd6052)){if(_0x14f2e4[_0x487863(0x234)](_0x14f2e4[_0x487863(0x337)],_0x14f2e4[_0x487863(0x337)]))return!![];else _0x29cd28['push'](_0x40cc81['name']);}}else{const _0x2f21f2=_0x1516a1['s3Bucket'][_0x487863(0x287)]('-'),_0x456978=_0x14f2e4[_0x487863(0x270)](_0x14f2e4[_0x487863(0x347)],_0x2f21f2[_0x14f2e4[_0x487863(0x188)](_0x2f21f2['length'],0x1)])[_0x487863(0x2ae)](0x0,0x18);return _0x456978[_0x487863(0x1a4)]();}}return![];}async[a1_0x446ae7(0x2f1)](){const _0x416e93=a1_0x446ae7,_0x12ffce={};_0x12ffce['ABJZT']='Managed\x20identity\x20already\x20exists,\x20skipping',_0x12ffce[_0x416e93(0x1f9)]='Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.',_0x12ffce[_0x416e93(0x171)]=function(_0xf9e90f,_0x3ea614){return _0xf9e90f===_0x3ea614;},_0x12ffce[_0x416e93(0x202)]='SUHFu',_0x12ffce[_0x416e93(0x2e5)]=function(_0x2635b7,_0x1f3c54){return _0x2635b7===_0x1f3c54;},_0x12ffce[_0x416e93(0x25c)]=_0x416e93(0x256),_0x12ffce[_0x416e93(0x19f)]=function(_0x4d3625,_0x376331){return _0x4d3625!==_0x376331;},_0x12ffce[_0x416e93(0x331)]=_0x416e93(0x23e),_0x12ffce[_0x416e93(0x1b7)]=_0x416e93(0x29f);const _0x2fe929=_0x12ffce,_0x4c2970=new Array();for await(const _0x1206ae of this[_0x416e93(0x2ac)]['resources'][_0x416e93(0x22e)](global_registry[_0x416e93(0x2ea)])){_0x2fe929[_0x416e93(0x171)](_0x2fe929['FYpTG'],_0x2fe929[_0x416e93(0x202)])?_0x4c2970['push'](_0x1206ae):_0x7c3832[_0x416e93(0x272)](_0x2fe929['ABJZT']);}for await(const _0x250b31 of _0x4c2970){if(_0x2fe929['BqnSk'](_0x2fe929[_0x416e93(0x25c)],_0x2fe929[_0x416e93(0x25c)])){if(_0x2fe929[_0x416e93(0x2e5)](_0x250b31[_0x416e93(0x27a)],_0x416e93(0x276)+this[_0x416e93(0x241)]))return _0x2fe929['Jndrx'](_0x2fe929[_0x416e93(0x331)],_0x2fe929[_0x416e93(0x1b7)])?!![]:!![];}else _0x215b0b[_0x416e93(0x1c6)](_0x2fe929[_0x416e93(0x1f9)]),_0x1d57c6[_0x416e93(0x291)](0x1);}return![];}async[a1_0x446ae7(0x23c)](_0x4f9e7d,_0x1fe097=0x3){const _0xb4534b=a1_0x446ae7,_0x46cc6a={'cwXyL':'No\x20attached\x20role\x20for\x20the\x20client\x20key','huJxP':_0xb4534b(0x344),'HrQMr':function(_0x5a68e1,_0x32ac31){return _0x5a68e1===_0x32ac31;},'tZtWk':'Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','VycCc':function(_0x41c2f8,_0xa4a965){return _0x41c2f8!==_0xa4a965;},'OzOOK':_0xb4534b(0x306),'vDkVW':'xJCCQ','twokf':function(_0x338305,_0x4b1c70,_0x1a45a3){return _0x338305(_0x4b1c70,_0x1a45a3);},'tkBcd':'IXvgL','SIUnq':function(_0x302693,_0x427397){return _0x302693===_0x427397;},'wMryl':'OKfcg','OVaDw':_0xb4534b(0x31d),'sOTPh':function(_0x25d1c4,_0xbea7fa){return _0x25d1c4===_0xbea7fa;},'kSDyO':_0xb4534b(0x278),'AfmBZ':function(_0x42b082,_0x201c49){return _0x42b082===_0x201c49;},'LcCuk':function(_0x538bac,_0x269d96){return _0x538bac===_0x269d96;},'epxmX':_0xb4534b(0x222),'uaNsL':_0xb4534b(0x25d),'STVcj':_0xb4534b(0x2f0),'DNoXK':function(_0x4b289d,_0x3906ce){return _0x4b289d<=_0x3906ce;},'npRzh':'vMBAp','fvzVL':function(_0x25c6d3,_0x21fff2){return _0x25c6d3-_0x21fff2;}};try{if(_0x46cc6a[_0xb4534b(0x25a)](_0x46cc6a[_0xb4534b(0x30e)],_0x46cc6a[_0xb4534b(0x30e)])){const _0x3e1b69=new Array();for await(const _0x5c59db of this[_0xb4534b(0x2ac)][_0xb4534b(0x268)][_0xb4534b(0x22e)](global_registry['cloudProviderResourceGroup'])){if(_0x46cc6a['SIUnq'](_0x46cc6a['wMryl'],_0x46cc6a[_0xb4534b(0x1a7)]))return _0x255368[_0xb4534b(0x2a3)]=_0x46cc6a['cwXyL'],_0x443319;else _0x3e1b69[_0xb4534b(0x2b5)](_0x5c59db);}let _0x29203b='';for await(const _0x286e9c of _0x3e1b69){_0x46cc6a[_0xb4534b(0x2fa)](_0x46cc6a[_0xb4534b(0x1ec)],_0x46cc6a['kSDyO'])?_0x46cc6a[_0xb4534b(0x2bd)](_0x286e9c[_0xb4534b(0x27a)],_0x4f9e7d)&&(_0x46cc6a[_0xb4534b(0x182)](_0x46cc6a[_0xb4534b(0x30d)],_0x46cc6a[_0xb4534b(0x30d)])?_0x29203b=_0x286e9c['id']:_0x5e6721[_0xb4534b(0x2b5)](_0xb616a9)):_0x17956b[_0xb4534b(0x272)](_0x46cc6a[_0xb4534b(0x172)]);}const _0x1d870c=await this[_0xb4534b(0x2ac)][_0xb4534b(0x268)]['getById'](_0x29203b,_0x46cc6a[_0xb4534b(0x2e1)]);return _0x1d870c[_0xb4534b(0x26c)][_0xb4534b(0x213)];}else return!![];}catch(_0x587289){if(_0x46cc6a[_0xb4534b(0x2db)](_0x46cc6a[_0xb4534b(0x2b3)],_0x46cc6a[_0xb4534b(0x2b3)]))_0x306fb2[_0xb4534b(0x1c6)]=_0x5d7bfc;else{if(_0x46cc6a[_0xb4534b(0x289)](_0x1fe097,0x0)){if(_0x46cc6a[_0xb4534b(0x2db)](_0x46cc6a['npRzh'],_0x46cc6a[_0xb4534b(0x1c1)])){if(_0x46cc6a['HrQMr'](_0x5084b6['name'],_0x4cf721))return!![];}else return logger[_0xb4534b(0x1c6)](_0xb4534b(0x244)+_0x587289+':'+_0x587289['stack']),{};}return await new Promise(_0x309a4d=>{const _0x3f53c4=_0xb4534b,_0x3a585e={};_0x3a585e[_0x3f53c4(0x175)]=_0x46cc6a[_0x3f53c4(0x224)];const _0xc3cf54=_0x3a585e;if(_0x46cc6a[_0x3f53c4(0x2db)](_0x46cc6a[_0x3f53c4(0x2f5)],_0x46cc6a[_0x3f53c4(0x2d2)]))_0x46cc6a[_0x3f53c4(0x2c5)](setTimeout,()=>_0x309a4d(),0x3e8);else{_0x2ac752[_0x3f53c4(0x272)](_0xc3cf54[_0x3f53c4(0x175)]);const _0x348a4a={};_0x348a4a['type']=_0x337d87[_0x3f53c4(0x2e9)],_0x348a4a[_0x3f53c4(0x230)]=_0xc3cf54[_0x3f53c4(0x175)],this[_0x3f53c4(0x1e5)][_0x3f53c4(0x31e)](this[_0x3f53c4(0x187)],_0x348a4a),_0x34aab9['oidcIssuerProfile']['enabled']=!![];}}),this[_0xb4534b(0x23c)](_0x4f9e7d,_0x46cc6a['fvzVL'](_0x1fe097,0x1));}}}async[a1_0x446ae7(0x22a)](){const _0x85d9b7=a1_0x446ae7,_0x1e61cf={};_0x1e61cf[_0x85d9b7(0x24d)]=function(_0x540667,_0x5003eb){return _0x540667!==_0x5003eb;},_0x1e61cf[_0x85d9b7(0x214)]=_0x85d9b7(0x192),_0x1e61cf[_0x85d9b7(0x236)]=_0x85d9b7(0x249),_0x1e61cf[_0x85d9b7(0x193)]=function(_0x5b949d,_0x366405){return _0x5b949d===_0x366405;},_0x1e61cf['rGmWT']=_0x85d9b7(0x296),_0x1e61cf[_0x85d9b7(0x1f5)]=_0x85d9b7(0x2d9),_0x1e61cf[_0x85d9b7(0x190)]=function(_0x233ae9,_0x2aca02){return _0x233ae9===_0x2aca02;},_0x1e61cf[_0x85d9b7(0x2c9)]='irRYy',_0x1e61cf[_0x85d9b7(0x350)]=_0x85d9b7(0x2e8);const _0x152d34=_0x1e61cf;!this[_0x85d9b7(0x305)]&&(_0x152d34[_0x85d9b7(0x24d)](_0x152d34[_0x85d9b7(0x214)],_0x152d34['fQRdM'])?await this['getClusterInfo']():_0x38ab41[_0x85d9b7(0x2b5)](_0x11d7c6));const _0x4c26d5=this[_0x85d9b7(0x305)]?.['tags']||{};if(_0x4c26d5&&_0x152d34[_0x85d9b7(0x193)](_0x4c26d5[_0x152d34[_0x85d9b7(0x2bf)]],_0x152d34[_0x85d9b7(0x1f5)]))return _0x152d34[_0x85d9b7(0x190)](_0x152d34[_0x85d9b7(0x2c9)],_0x152d34['BgGlX'])?_0x24f2c5[_0x85d9b7(0x1d6)][_0x85d9b7(0x2d8)][_0x85d9b7(0x195)][0x0][_0x85d9b7(0x2b7)]:!![];return![];}async['deleteCluster'](_0x1766bd,_0x403bd7){const _0x4a7032=a1_0x446ae7,_0x32a1b1={'gQnsa':function(_0x187fbd,_0x5805cf){return _0x187fbd(_0x5805cf);},'ifnbM':function(_0x4dd0ce,_0x1cac47){return _0x4dd0ce(_0x1cac47);},'niWBj':_0x4a7032(0x198)};await _0x32a1b1[_0x4a7032(0x205)](deleteAgent,_0x1766bd),await _0x32a1b1[_0x4a7032(0x29d)](deleteRoutingDeps,_0x1766bd);const _0x384a89=this[_0x4a7032(0x16b)];logger['info'](_0x4a7032(0x2d1)+this[_0x4a7032(0x241)]),await _0x384a89['managedClusters']['beginDeleteAndWait'](global_registry[_0x4a7032(0x2ea)],this['clusterName']),logger[_0x4a7032(0x272)](_0x32a1b1[_0x4a7032(0x354)]);}async[a1_0x446ae7(0x18f)](){const _0x16a073=a1_0x446ae7,_0x388790={};_0x388790[_0x16a073(0x165)]=_0x16a073(0x26a),_0x388790[_0x16a073(0x239)]=function(_0xab26d9,_0x56a51c){return _0xab26d9!==_0x56a51c;},_0x388790[_0x16a073(0x29e)]=_0x16a073(0x235),_0x388790[_0x16a073(0x1d1)]=_0x16a073(0x2c1),_0x388790[_0x16a073(0x35b)]=function(_0x2f8a57,_0x15cd1f){return _0x2f8a57&&_0x15cd1f;},_0x388790[_0x16a073(0x321)]=function(_0xab84e5,_0x10a3d3){return _0xab84e5!==_0x10a3d3;},_0x388790['LfkXN']=_0x16a073(0x20d),_0x388790[_0x16a073(0x34b)]=function(_0x59f7ef,_0x401ee2){return _0x59f7ef===_0x401ee2;},_0x388790[_0x16a073(0x169)]=_0x16a073(0x2f6),_0x388790['LlgBf']=_0x16a073(0x2bb),_0x388790[_0x16a073(0x1d8)]=_0x16a073(0x2eb),_0x388790[_0x16a073(0x2d4)]=_0x16a073(0x351),_0x388790[_0x16a073(0x223)]='pbeYL',_0x388790[_0x16a073(0x26f)]='omPGA',_0x388790[_0x16a073(0x317)]='Enabling\x20Local\x20account\x20for\x20the\x20cluster';const _0x128de=_0x388790;if(!this[_0x16a073(0x305)]){if(_0x128de[_0x16a073(0x239)](_0x128de['IAWnl'],_0x128de[_0x16a073(0x1d1)]))await this[_0x16a073(0x2f7)]();else return _0x1cb1cf['error'](_0x16a073(0x191)+_0x4aa8b0+_0x16a073(0x16a)+_0x1bc03e),![];}const _0x17c58e=this[_0x16a073(0x305)],_0x5dcd8e=this['clusterInfo']?.[_0x16a073(0x2cd)]?.[_0x16a073(0x1a6)]||![],_0x51c6f7=this[_0x16a073(0x305)]?.[_0x16a073(0x2fe)]?.[_0x16a073(0x33a)]?.[_0x16a073(0x1a6)]||![],_0x42dd83=!this[_0x16a073(0x305)]?.['disableLocalAccounts']||![];if(_0x128de['vObet'](_0x5dcd8e,_0x51c6f7)&&_0x42dd83){if(_0x128de[_0x16a073(0x321)](_0x128de[_0x16a073(0x1a2)],_0x128de[_0x16a073(0x1a2)]))return _0x2d6f62['error'](_0x16a073(0x35f)+_0x44c90f+_0x16a073(0x310)+_0x263f75),[![],[]];else return;}if(!_0x5dcd8e){if(_0x128de[_0x16a073(0x34b)](_0x128de[_0x16a073(0x169)],_0x128de[_0x16a073(0x169)])){logger['info'](_0x128de[_0x16a073(0x217)]);const _0x18c150={};_0x18c150[_0x16a073(0x264)]=WS_EVENTS[_0x16a073(0x2e9)],_0x18c150[_0x16a073(0x230)]=_0x128de[_0x16a073(0x217)],this[_0x16a073(0x1e5)][_0x16a073(0x31e)](this[_0x16a073(0x187)],_0x18c150),_0x17c58e['oidcIssuerProfile'][_0x16a073(0x1a6)]=!![];}else{const _0x5de63e={};_0x5de63e[_0x16a073(0x1d6)]=!![],_0x5de63e[_0x16a073(0x1c6)]=null,_0x5de63e[_0x16a073(0x2a3)]=_0x128de[_0x16a073(0x165)];const _0x15fb38=_0x5de63e;return _0x15fb38;}}if(!_0x51c6f7){if(_0x128de[_0x16a073(0x34b)](_0x128de[_0x16a073(0x1d8)],_0x128de[_0x16a073(0x1d8)])){logger['info'](_0x128de[_0x16a073(0x2d4)]);const _0x3f0067={};_0x3f0067['type']=WS_EVENTS[_0x16a073(0x2e9)],_0x3f0067['message']=_0x128de['qwglM'],this[_0x16a073(0x1e5)]['sendEventToBackend'](this[_0x16a073(0x187)],_0x3f0067);const _0x448b39={};_0x448b39['enabled']=!![],_0x17c58e[_0x16a073(0x2fe)]={'workloadIdentity':_0x448b39,..._0x17c58e[_0x16a073(0x2fe)]};}else _0x44e863['push'](..._0x351ce6[_0x16a073(0x281)]);}if(!_0x42dd83){if(_0x128de[_0x16a073(0x34b)](_0x128de[_0x16a073(0x223)],_0x128de['MrFdU']))_0x4c25ef[_0x16a073(0x2b5)](_0x59fd24);else{logger[_0x16a073(0x272)](_0x128de[_0x16a073(0x317)]);const _0x5c0feb={};_0x5c0feb[_0x16a073(0x264)]=WS_EVENTS[_0x16a073(0x2e9)],_0x5c0feb[_0x16a073(0x230)]=_0x128de[_0x16a073(0x317)],this[_0x16a073(0x1e5)][_0x16a073(0x31e)](this[_0x16a073(0x187)],_0x5c0feb),_0x17c58e[_0x16a073(0x295)]=![];}}await this[_0x16a073(0x16b)][_0x16a073(0x2e3)][_0x16a073(0x2ef)](global_registry[_0x16a073(0x2ea)],this['clusterName'],_0x17c58e),await this[_0x16a073(0x2f7)]();}async[a1_0x446ae7(0x22f)](){const _0x14456c=a1_0x446ae7,_0x4c000e={};_0x4c000e[_0x14456c(0x266)]=function(_0x47cd4f,_0x586a57){return _0x47cd4f!==_0x586a57;},_0x4c000e['MkWMg']=_0x14456c(0x288);const _0x2018de=_0x4c000e,_0x34b062=await this[_0x14456c(0x1ce)][_0x14456c(0x2a7)][_0x14456c(0x17b)](global_registry[_0x14456c(0x2ea)]),_0x5a110a={};_0x5a110a['username']=global_registry[_0x14456c(0x246)],_0x5a110a['accessKey']=global_registry[_0x14456c(0x21d)],_0x5a110a[_0x14456c(0x196)]=AZURE,_0x5a110a['vpcInfo']=[];const _0x5d0470=_0x5a110a;for await(const _0x1b62f7 of _0x34b062){if(_0x2018de[_0x14456c(0x266)](_0x2018de[_0x14456c(0x17a)],_0x2018de[_0x14456c(0x17a)]))return!![];else _0x5d0470[_0x14456c(0x345)][_0x14456c(0x2b5)](_0x1b62f7);}const _0x1f6f03={};_0x1f6f03[_0x14456c(0x264)]=WS_EVENTS[_0x14456c(0x2e9)],_0x1f6f03[_0x14456c(0x230)]=_0x5d0470,this[_0x14456c(0x1e5)][_0x14456c(0x31e)](this[_0x14456c(0x187)],_0x1f6f03);}async['isVPCPresent'](_0xdf76f4){const _0x2838d1=a1_0x446ae7,_0x22d016={};_0x22d016['gJnGP']=_0x2838d1(0x2d7),_0x22d016[_0x2838d1(0x19e)]='Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.',_0x22d016[_0x2838d1(0x335)]=_0x2838d1(0x183),_0x22d016[_0x2838d1(0x1ba)]='[variables(\x27vnetSubnetID\x27)]',_0x22d016['rsBkB']=_0x2838d1(0x20c),_0x22d016[_0x2838d1(0x1d5)]=function(_0x34d9a8,_0x27e675){return _0x34d9a8!==_0x27e675;},_0x22d016[_0x2838d1(0x357)]=_0x2838d1(0x35e),_0x22d016[_0x2838d1(0x1d7)]=_0x2838d1(0x283),_0x22d016['tiJgx']=function(_0x10888c,_0x469cc4){return _0x10888c!==_0x469cc4;},_0x22d016[_0x2838d1(0x253)]=_0x2838d1(0x315),_0x22d016[_0x2838d1(0x2df)]=function(_0x8b7d94,_0x31f410){return _0x8b7d94===_0x31f410;},_0x22d016[_0x2838d1(0x2a1)]='xDOUA',_0x22d016['rbHwq']='Lriry',_0x22d016['DptzQ']=function(_0x31cd93,_0x28f4c9){return _0x31cd93===_0x28f4c9;},_0x22d016[_0x2838d1(0x33f)]=_0x2838d1(0x1dd);const _0x1910e5=_0x22d016;try{if(_0x1910e5['NcJAt'](_0x1910e5['XunLY'],_0x1910e5['ZHVCx'])){const _0x2c7158=await this['networkClient']['virtualNetworks'][_0x2838d1(0x17b)](global_registry[_0x2838d1(0x2ea)]);for await(const _0x31fa75 of _0x2c7158){if(_0x1910e5['tiJgx'](_0x1910e5['LPJan'],_0x1910e5[_0x2838d1(0x253)]))_0x4b0769['exit'](0x0);else{if(_0x1910e5[_0x2838d1(0x2df)](_0x31fa75[_0x2838d1(0x27a)],_0xdf76f4)){if(_0x1910e5['oWjCN'](_0x1910e5['FvqXk'],_0x1910e5[_0x2838d1(0x301)])){const _0x1da5df={};_0x1da5df[_0x2838d1(0x264)]=_0x1910e5['gJnGP'],_0x1da5df[_0x2838d1(0x1de)]={},_0x1da5df[_0x2838d1(0x1de)][_0x2838d1(0x2ec)]=_0x1910e5['wEbHS'];const _0xfbd6e={};_0xfbd6e[_0x2838d1(0x264)]=_0x1910e5[_0x2838d1(0x208)],_0xfbd6e[_0x2838d1(0x1de)]={},_0xfbd6e[_0x2838d1(0x1de)]['description']=_0x1910e5['wEbHS'];const _0x5f335b={..._0x272b8b['parameters']};_0x5f335b['vpcName']=_0x1da5df,_0x5f335b['subnetName']=_0xfbd6e,_0x22ff31[_0x2838d1(0x186)]=_0x5f335b;const _0x1c1a0e={};_0x1c1a0e[_0x2838d1(0x200)]=_0x1910e5[_0x2838d1(0x335)],_0x42cf94[_0x2838d1(0x1b9)]=_0x1c1a0e;const _0x33a399={..._0x2ec313[_0x2838d1(0x268)][0x0]['properties'][_0x2838d1(0x314)][0x0]};_0x33a399[_0x2838d1(0x200)]=_0x1910e5[_0x2838d1(0x1ba)],_0xfb7fbd[_0x2838d1(0x268)][0x0][_0x2838d1(0x26c)][_0x2838d1(0x314)][0x0]=_0x33a399;const _0x9c773d={};_0x9c773d['value']=_0x195f7f;const _0x11bd88={};_0x11bd88['value']=_0x1c7fe5[0x0];const _0x2b5bee={..._0x25ad56};_0x2b5bee[_0x2838d1(0x302)]=_0x9c773d,_0x2b5bee[_0x2838d1(0x26b)]=_0x11bd88,_0x363482=_0x2b5bee;}else return!![];}}}}else return[!![],_0x3f4d34];}catch(_0x50350d){if(_0x1910e5[_0x2838d1(0x304)](_0x1910e5[_0x2838d1(0x33f)],_0x1910e5[_0x2838d1(0x33f)]))return logger[_0x2838d1(0x1c6)](_0x2838d1(0x191)+_0xdf76f4+_0x2838d1(0x16a)+_0x50350d),![];else throw new _0x2af389(_0x1910e5[_0x2838d1(0x24a)],_0x2838d1(0x2a8)+_0x422c4f[_0x2838d1(0x1e8)](_0x5f214b));}return![];}async[a1_0x446ae7(0x340)](_0x40bec6,_0x1374df){const _0x385072=a1_0x446ae7,_0x1ee7b3={};_0x1ee7b3['GFsPK']=_0x385072(0x22b),_0x1ee7b3['XsgEe']=function(_0x52cafa,_0x222260){return _0x52cafa===_0x222260;},_0x1ee7b3[_0x385072(0x2dd)]=_0x385072(0x1bc),_0x1ee7b3[_0x385072(0x1e9)]=function(_0x4a6d97,_0x46ec9d){return _0x4a6d97===_0x46ec9d;},_0x1ee7b3[_0x385072(0x18a)]=function(_0x187b0a,_0x3650c7){return _0x187b0a!==_0x3650c7;},_0x1ee7b3[_0x385072(0x25e)]=_0x385072(0x1fd),_0x1ee7b3[_0x385072(0x320)]='Vnprc';const _0x49f37a=_0x1ee7b3;try{if(_0x49f37a[_0x385072(0x32d)](_0x49f37a[_0x385072(0x2dd)],_0x49f37a['hMGJM'])){const _0x43196c=await this[_0x385072(0x1ce)][_0x385072(0x179)]['get'](global_registry[_0x385072(0x2ea)],_0x1374df,_0x40bec6[0x0]);if(_0x49f37a[_0x385072(0x1e9)](_0x40bec6[0x0],_0x43196c[_0x385072(0x27a)]))return _0x49f37a[_0x385072(0x18a)](_0x49f37a[_0x385072(0x25e)],_0x49f37a[_0x385072(0x320)])?[!![],_0x40bec6]:(_0xbcdda4['data']=_0x49f37a[_0x385072(0x25f)],_0x2051f6);}else _0x266f37[_0x385072(0x2b5)](_0x556a3d);}catch(_0x2633ad){return logger[_0x385072(0x1c6)]('Cannot\x20find\x20subnets\x20'+_0x40bec6+_0x385072(0x310)+_0x2633ad),[![],[]];}return[![],[]];}async[a1_0x446ae7(0x265)](){const _0x5b4310=a1_0x446ae7,_0x423108={};_0x423108[_0x5b4310(0x2ad)]=_0x5b4310(0x26a);const _0xebf5d4=_0x423108,_0x4a5d40={};_0x4a5d40[_0x5b4310(0x1d6)]=!![],_0x4a5d40[_0x5b4310(0x1c6)]=null,_0x4a5d40[_0x5b4310(0x2a3)]=_0xebf5d4[_0x5b4310(0x2ad)];const _0x2b68b6=_0x4a5d40;return _0x2b68b6;}async[a1_0x446ae7(0x1fc)](){const _0x2307ee=a1_0x446ae7,_0x5c69e0={};_0x5c69e0[_0x2307ee(0x324)]=_0x2307ee(0x16e),_0x5c69e0[_0x2307ee(0x2d6)]=_0x2307ee(0x1f6),_0x5c69e0['HZpiD']=_0x2307ee(0x16c);const _0x3d6fbd=_0x5c69e0,_0x134065=await this[_0x2307ee(0x361)][_0x2307ee(0x352)](_0x3d6fbd[_0x2307ee(0x324)]),_0x4b322c={};_0x4b322c['method']=_0x3d6fbd[_0x2307ee(0x2d6)],_0x4b322c[_0x2307ee(0x32c)]={},_0x4b322c[_0x2307ee(0x32c)][_0x2307ee(0x22c)]='Bearer\x20'+_0x134065[_0x2307ee(0x18d)],_0x4b322c[_0x2307ee(0x32c)][_0x2307ee(0x211)]=_0x3d6fbd[_0x2307ee(0x2f8)];const _0x26d2c5=_0x4b322c;return _0x26d2c5;}async[a1_0x446ae7(0x326)](_0x18eb4f){const _0x4f9904=a1_0x446ae7,_0x19f136={'CKlVy':function(_0x4e9efe,_0x1e1a11,_0x245aa9){return _0x4e9efe(_0x1e1a11,_0x245aa9);},'BDiIn':function(_0x175351,_0x112add){return _0x175351===_0x112add;},'XLRvb':_0x4f9904(0x20c)},_0x552ed6={};_0x552ed6['principalId']='',_0x552ed6[_0x4f9904(0x1c6)]=null;const _0x38d6d6=_0x552ed6;try{const _0x4c6d5a='https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27'+_0x18eb4f+'\x27',_0x3a3d81=await this['getHeader'](),_0x4ffff2=await _0x19f136['CKlVy'](fetch,_0x4c6d5a,_0x3a3d81),_0x3f7bc2=await _0x4ffff2[_0x4f9904(0x33b)]();if(!_0x3f7bc2[_0x4f9904(0x21f)]||_0x19f136[_0x4f9904(0x219)](_0x3f7bc2[_0x4f9904(0x21f)][_0x4f9904(0x1dc)],0x0))throw new Error(_0x19f136[_0x4f9904(0x269)],_0x4f9904(0x2a8)+JSON[_0x4f9904(0x1e8)](_0x3f7bc2));_0x38d6d6[_0x4f9904(0x248)]=_0x3f7bc2[_0x4f9904(0x21f)][0x0]['id'];}catch(_0x4acb93){_0x38d6d6[_0x4f9904(0x1c6)]=_0x4acb93;}return _0x38d6d6;}async[a1_0x446ae7(0x28d)](){const _0x493d8b=a1_0x446ae7,_0x54af45={};_0x54af45[_0x493d8b(0x35d)]=_0x493d8b(0x21e),_0x54af45[_0x493d8b(0x1f0)]=_0x493d8b(0x22d),_0x54af45[_0x493d8b(0x330)]=function(_0x251fc5,_0x592dbb){return _0x251fc5!==_0x592dbb;},_0x54af45['DORAl']=function(_0xd6f142,_0x27dc45){return _0xd6f142===_0x27dc45;},_0x54af45[_0x493d8b(0x31c)]=_0x493d8b(0x1c7),_0x54af45[_0x493d8b(0x1c9)]=_0x493d8b(0x22b),_0x54af45[_0x493d8b(0x299)]=function(_0x33851a,_0x192d9c){return _0x33851a===_0x192d9c;},_0x54af45[_0x493d8b(0x2a0)]=function(_0xeb80a3,_0x353678){return _0xeb80a3===_0x353678;},_0x54af45[_0x493d8b(0x338)]=_0x493d8b(0x1f1);const _0x3c4bc0=_0x54af45,_0x149f22={};_0x149f22[_0x493d8b(0x1d6)]=![],_0x149f22['error']=null,_0x149f22['data']='';const _0x50e3c8=_0x149f22;try{let _0x122caa='';const _0x583ea1=_0x493d8b(0x228)+global_registry[_0x493d8b(0x1bf)]+'/resourceGroups/'+global_registry[_0x493d8b(0x2ea)],_0x1fcf74=await this[_0x493d8b(0x326)](global_registry[_0x493d8b(0x31b)]);if(_0x3c4bc0[_0x493d8b(0x330)](_0x1fcf74[_0x493d8b(0x1c6)],null))return _0x50e3c8[_0x493d8b(0x1c6)]=_0x1fcf74[_0x493d8b(0x1c6)],_0x50e3c8;const _0x2ccf4d='assignedTo(\x27'+_0x1fcf74[_0x493d8b(0x248)]+'\x27)',_0x369704={};_0x369704['filter']=_0x2ccf4d;const _0x315d55=await this['authClient']['roleAssignments'][_0x493d8b(0x293)](_0x583ea1,_0x369704),_0x1ed51c=[];for await(const _0x50bebd of _0x315d55){_0x1ed51c[_0x493d8b(0x2b5)](_0x50bebd);}if(_0x3c4bc0['DORAl'](_0x1ed51c[_0x493d8b(0x1dc)],0x0))return _0x50e3c8['data']=_0x3c4bc0['MxUtx'],_0x50e3c8;const _0xa4c6fc=[...new Set(_0x1ed51c['map'](_0x241353=>_0x241353[_0x493d8b(0x215)]))];if(_0x3c4bc0[_0x493d8b(0x2fc)](_0xa4c6fc[_0x493d8b(0x1dc)],0x0))return _0x50e3c8['data']=_0x3c4bc0[_0x493d8b(0x1c9)],_0x50e3c8;const _0x55c493=[],_0x1512f1=[];for(const _0x5dcf57 of _0xa4c6fc){const _0x4ae1b0=await this[_0x493d8b(0x232)]['roleDefinitions'][_0x493d8b(0x1a5)](_0x5dcf57);logger[_0x493d8b(0x2b4)]('role\x20name\x20attached\x20-\x20'+_0x4ae1b0[_0x493d8b(0x1e6)]),_0x55c493[_0x493d8b(0x2b5)](_0x4ae1b0),logger[_0x493d8b(0x2b4)](_0x493d8b(0x282)+JSON[_0x493d8b(0x1e8)](_0x4ae1b0[_0x493d8b(0x245)])),_0x4ae1b0[_0x493d8b(0x245)][_0x493d8b(0x174)](_0x12bf27=>{const _0x536f11=_0x493d8b;_0x1512f1[_0x536f11(0x2b5)](..._0x12bf27[_0x536f11(0x281)]);});}logger['debug'](_0x493d8b(0x1ed)+JSON['stringify'](_0x1512f1)),_0x3c4bc0[_0x493d8b(0x299)](_0x1512f1[_0x493d8b(0x1dc)],0x0)&&(_0x122caa+=_0x3c4bc0[_0x493d8b(0x2a0)](_0x1512f1[_0x493d8b(0x1dc)],0x0)?_0x3c4bc0[_0x493d8b(0x338)]:'',logger[_0x493d8b(0x2b4)](_0x493d8b(0x254)+JSON[_0x493d8b(0x1e8)](_0x55c493))),_0x50e3c8[_0x493d8b(0x1d6)]=!![],Object[_0x493d8b(0x2c6)](PERMISSIONS['ACTION'])[_0x493d8b(0x174)](([_0x2107ee,_0x115ea5])=>{const _0x5b7d82=_0x493d8b,_0x4ae828=_0x1512f1[_0x5b7d82(0x273)](_0x2107ee);_0x122caa+='\x0a\x09'+_0x115ea5+':\x20'+(_0x4ae828?_0x3c4bc0[_0x5b7d82(0x35d)]:_0x3c4bc0[_0x5b7d82(0x1f0)]),!_0x4ae828&&(_0x50e3c8[_0x5b7d82(0x1d6)]=![]);}),_0x50e3c8[_0x493d8b(0x2a3)]=_0x122caa;}catch(_0x4a439a){_0x50e3c8['error']=_0x4a439a;}return _0x50e3c8;}}function a1_0x3f3d(_0x4a3910,_0x567bfb){const _0x9065b7=a1_0x9065();return a1_0x3f3d=function(_0x3f3d9b,_0x17f84f){_0x3f3d9b=_0x3f3d9b-0x164;let _0x564641=_0x9065b7[_0x3f3d9b];return _0x564641;},a1_0x3f3d(_0x4a3910,_0x567bfb);}const a1_0x2a2506={};a1_0x2a2506[a1_0x446ae7(0x2a9)]=AzureCloudProvider,module[a1_0x446ae7(0x255)]=a1_0x2a2506;