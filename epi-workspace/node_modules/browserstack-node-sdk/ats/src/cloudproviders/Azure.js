function a1_0x26b4(){const _0x59b619=['setupHubHa','resources','metadata','getStorageAccountName','FBmmD','\x20TENANT\x20ID:\x20','dyQCc','.\x20Error:\x20','ZVtyZ','ruLNC','oAxKP','HKtIF','description','KOuSq','js-yaml','actions','yrHur','tags','WGKwG','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','bTLsB','lrepG','ZbSWH','hDbjA','log','token','length','WOOgz','isCliToolInstalled','role\x20name\x20attached\x20-\x20','sendAzureInfoToHST','storageAccounts','hVrEF','QuhXj','userMaxNodes','message','iAVsL','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','lPqjf','UJdHS','.json','MuUxA','IbEzR','PSCrU','includes','cgZPX','BLVKk','@azure/arm-network','readFileAsync','akscluster.json','JvREd','bGAho','sEUpu','permissions','MMPoG','kKwdS','listByResourceGroup','roleDefinitions','AHeFq','split','principalId','isClusterPresent','UqIFE','qbkwW','OBsZI','jJmrE','beginCreateOrUpdateAndWait','NzIOK','Qthhe','dVNKo','rules','EdVGn','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','getResourceClientId','739624qYVkte','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','beginDeleteAndWait','FKLJW','pjNsv','sQMOL','mLvPB','networkClient','getById','clientId','bgupN','hznXr','wSPfl','TPHRQ','kEYHv','Uakkr','isSubnetsValid','MmpcD','40ubKvTv','./CloudProvider','../config/constants','ITQYF','xjFWU','BrowserStack','Incremental','createStorageAccount','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','JEcHw','2023-01-31','1874916UveDxj','IiqMa','info','pZFMi','VXhKd','NiwUm','CmLfD','subnetName','getUserInput','clusterName','gridName','eQKhz','toUpperCase','uMeZm','Lifecycle','listForScope','enabled','sDgiJ','FOYom','managementPolicies','subscriptions/','LSxam','jRXrH','LOG','hubHaNameSpace','xBNOs','EsBxq','containerClient','koncJ','forEach','stringify','gdBqz','default','federatedidentity','qusTX','disableLocalAccounts','ucrMI','deployments','updateClusterAlreadyPresent','elKGE','UusDd','ihyMA','cloudProviderTenantId','Blob\x20delete\x20lifecycle','tsEuh','ksiqL','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','issuerURL','IWtjn','getClusterInfo','No\x20attached\x20role\x20for\x20the\x20client\x20key','kdKAG','FOVOc','cRRrd','CSUer','AtfSs','FWJAj','clusterAutoUpgrade','ExRbl','wUBCj','policy','wzzed','variables','mozKM','WdUMm','aYvsd','erJmP','YcwRj','GET','cloudProviderResourceGroup','QEaTd','actionPermission\x20:\x20','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','rNWHn','amBCX','AzureCloudProvider','mJcKh','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','nSVzn','HDqbP','Yxrxm','Bearer\x20','cloudProvider','ZEysZ','2135QfAsxg','qmLxL','uckht','filter','ZktVa','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','uqytk','ACTION','UuOZG','UYAox','getKubeConfigData','PhejV','grDPc','ZRolK','UcRmy','xjhBF','aWzXa','@azure/arm-resources','GjLMQ','WvgBI','cloudProviderName','../config/logger','entries','adtKF','Authorization','allowed','toLowerCase','eagxf','sendEventToBackend','path','getToken','listAll','tmPcC','vUILk','bIvvL','denied','KGryH','KKYXG','isBrowserstackCluster','ToiOA','VdJTW','turboscale-cluster-deployment','Creating\x20Azure\x20federated\x20identity','TvoOr','method','bYztl','JEQxo','agentPoolProfiles','FkjTj','parse','daysAfterCreationGreaterThan','accessKey','deleteCluster','phKke','xDuVr','rws','wxozo','BubSh','vpUSi','ingress','debug','rZbrY','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','291024meSUSj','lEMZA','bEmLx','https://graph.microsoft.com/.default','vpcInfo','QaJtJ','FHpyb','createOtherResources','afKJS','parameters','false','push','cred','No\x20CLI\x20tool\x20required','createManagedIdentity','DdgdZ','teVLL','headers','turboscale-federated-deployment','WkFUP','error','utf-8','turboscale-managed-identity-','Deleting\x20the\x20cluster\x20','type','Cannot\x20find\x20subnets\x20','xyuCU','UZdnB','properties','OresA','PSkTD','gXgjh','hNYhD','cloudProviderSubscriptionId','roleName','YRDqM','myIzd','idUbM','isManagedIdentityPresent','jLxEp','\x20CLIENT\x20ID:\x20','321220VKezZJ','kubeconfigs','xzgGI','Creating\x20Azure\x20storage\x20account','exit','Found\x20only\x20one\x20resource\x20group:\x20','hub','OSCgY','managedClusters','turboscale','UMwPW','EONOE','sHvcS','application/json','fRJQN','QoiQb','storageAccountName','obsMe','storageClient','managedidentity.json','stack','MTXoP','UkZZZ','VwJML','listClusterAdminCredentials','join','Received\x20response\x20-\x20','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','assignedTo(\x27','vCGOt','EkcRl','QqRTH','filters','8136IHTujl','blockBlob','fZPop','zfSDN','node','LnODT','@azure/arm-authorization','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','oJNbb','vnetSubnetID','eBuxk','maxNodes','MaVnX','definition','exports','LqUDe','nuHoq','VsXRX','IfNTN','Created\x20Azure\x20federated\x20identity','kIJPA','webSocketUtils','No\x20service\x20principal\x20found','clusterInfo','Managed\x20identity\x20already\x20exists,\x20skipping','\x20CLIENT\x20SECRET:\x20','IgNzq','KXlrl','hubharesources','10014SYIAFc','resourceClient','lkJUV','toMRr','JwORg','DVeLJ','RsbkA','getResourceGroups','BntWO','qOKhV','BRvgR','sCWKl','status','hYYWe','isStorageAccountPresent','ncjNH','XAyDF','QPCyd','ozjMC','rZJti','YRrtx','WZTkD','bVsab','opFJo','userInstanceType','clientSecret','UtWji','uZuML','bdkEz','WGIfQ','GJgUJ','kldYK','ergix','JaUSu','bnaQB','virtualNetworks','kIUup','IdPZY','khyDB','WIGPZ','Crbav','QmAzp','uXABs','Nngiy','authClient','Creating\x20Azure\x20managed\x20identity','YujyX','vipwm','getHeader','vpcName','value','RsLSX','XFCSp','594432ZGZSIK','APHKM','BFawa','rKPYn','zySPg','\x20RESOURCE\x20GROUP:\x20','WweXl','1|5|3|0|4|2','resourceGroup','get','setClients','securityProfile','/resourceGroups/','cloudProviderClientId','Cannot\x20find\x20VPC\x20','hostname','XoHng','aYUlc','OUwfG','getGridHostname','cNsEj','NpfId','oidcIssuerProfile','IZOVx','resourceGroups','sitIa','ZYbXc','VCzJx','delete','string','vTTDk','wRLsP','[variables(\x27vnetSubnetID\x27)]','PpnRT','setCachedCredsInRegistry','qVEYq','federatedidentityuploader.json','zZTPM','eOBTf','baseBlob','name','getPrincipalIdFromClientId','location','Moylp','instanceType','data','clKgs','ejxsr','Enabling\x20Local\x20account\x20for\x20the\x20cluster','@azure/arm-containerservice','cxKet','gCOLE','JnJvF','lxyiQ','../utils/gridComponents','DfldX','RESOURCES','CHoRQ','gstso','setupNewCluster','krovr','cdkXr','oqEVo','Prtvk','cQdVi','templates','kwNYm','s3Bucket','nYjGR','lKCqw','createCluster','vaJyI','6041BqRdJm','YrtyJ','createFederatedAccount','fkdJK','azureresources','xtlZj','wjqQa','alaVS','cloudProviderClientSecret','nMOLm','@azure/arm-storage','list','KrSPV','Slmfm','mYtLz','init','0|5|2|3|1|4','json','BoBWs','turboscale-identity-deployment'];a1_0x26b4=function(){return _0x59b619;};return a1_0x26b4();}const a1_0x3e260f=a1_0x21e7;(function(_0x7f39dd,_0x3d2f50){const _0xbe7795=a1_0x21e7,_0x284afb=_0x7f39dd();while(!![]){try{const _0x3a6bc7=-parseInt(_0xbe7795(0x14b))/0x1+parseInt(_0xbe7795(0x224))/0x2+-parseInt(_0xbe7795(0x1fb))/0x3+parseInt(_0xbe7795(0xa5))/0x4+-parseInt(_0xbe7795(0x1bc))/0x5*(parseInt(_0xbe7795(0x262))/0x6)+parseInt(_0xbe7795(0xed))/0x7*(parseInt(_0xbe7795(0x245))/0x8)+-parseInt(_0xbe7795(0x168))/0x9*(-parseInt(_0xbe7795(0x15d))/0xa);if(_0x3a6bc7===_0x3d2f50)break;else _0x284afb['push'](_0x284afb['shift']());}catch(_0x47d25c){_0x284afb['push'](_0x284afb['shift']());}}}(a1_0x26b4,0x72f6a));const fs=require('fs'),path=require(a1_0x3e260f(0x1d9)),yaml=require(a1_0x3e260f(0x10f)),{logger}=require(a1_0x3e260f(0x1d1)),{CloudProvider}=require(a1_0x3e260f(0x15e)),{deleteRoutingDeps,deleteAgent}=require(a1_0x3e260f(0xdb)),{AZURE,WS_EVENTS,global_registry}=require(a1_0x3e260f(0x15f)),PERMISSIONS=require('../permissions/AZURE.json'),{ClientSecretCredential}=require('@azure/identity'),{NetworkManagementClient}=require(a1_0x3e260f(0x130)),{StorageManagementClient}=require(a1_0x3e260f(0xf7)),{AuthorizationManagementClient}=require(a1_0x3e260f(0x24b)),{ResourceManagementClient}=require(a1_0x3e260f(0x1cd)),{ContainerServiceClient}=require(a1_0x3e260f(0xd6)),{runCommand}=require('../utils/utilityMethods');function a1_0x21e7(_0x18e9b1,_0xf6c057){const _0x26b48a=a1_0x26b4();return a1_0x21e7=function(_0x21e7b0,_0x54286d){_0x21e7b0=_0x21e7b0-0x80;let _0x32a358=_0x26b48a[_0x21e7b0];return _0x32a358;},a1_0x21e7(_0x18e9b1,_0xf6c057);}class AzureCloudProvider extends CloudProvider{constructor(_0x54753c,_0xda61fa,_0x220f27,_0x1944a0){const _0x3c08fa=a1_0x3e260f,_0x294305={};_0x294305['VsXRX']='1|6|5|4|7|0|3|2';const _0x3229af=_0x294305,_0xf97aee=_0x3229af[_0x3c08fa(0x256)][_0x3c08fa(0x13c)]('|');let _0x3de14a=0x0;while(!![]){switch(_0xf97aee[_0x3de14a++]){case'0':this['resourceClient']=null;continue;case'1':super(AZURE,_0x54753c,_0xda61fa,_0x220f27,_0x1944a0);continue;case'2':this['authClient']=null;continue;case'3':this['networkClient']=null;continue;case'4':this[_0x3c08fa(0x183)]=null;continue;case'5':this[_0x3c08fa(0x25c)]=null;continue;case'6':this[_0x3c08fa(0x207)]=null;continue;case'7':this[_0x3c08fa(0x236)]=null;continue;}break;}}async[a1_0x3e260f(0xfc)](){const _0x52478e=a1_0x3e260f;return await super[_0x52478e(0xfc)](),this;}[a1_0x3e260f(0xaf)](){const _0x5e6659=a1_0x3e260f,_0x46b8a8=new ClientSecretCredential(global_registry[_0x5e6659(0x192)],global_registry[_0x5e6659(0xb2)],global_registry[_0x5e6659(0xf5)]);this['containerClient']=new ContainerServiceClient(_0x46b8a8,global_registry[_0x5e6659(0x21c)]),this[_0x5e6659(0x236)]=new StorageManagementClient(_0x46b8a8,global_registry[_0x5e6659(0x21c)]),this['resourceClient']=new ResourceManagementClient(_0x46b8a8,global_registry['cloudProviderSubscriptionId']),this['networkClient']=new NetworkManagementClient(_0x46b8a8,global_registry[_0x5e6659(0x21c)]),this[_0x5e6659(0x9c)]=new AuthorizationManagementClient(_0x46b8a8,global_registry['cloudProviderSubscriptionId']),this[_0x5e6659(0x207)]=_0x46b8a8;}['getStorageAccountName'](){const _0x3dd7b6=a1_0x3e260f,_0x2bb962={};_0x2bb962[_0x3dd7b6(0x235)]=function(_0x1276d2,_0x3d00d4){return _0x1276d2+_0x3d00d4;},_0x2bb962[_0x3dd7b6(0x20b)]=_0x3dd7b6(0x22d),_0x2bb962[_0x3dd7b6(0x26f)]=function(_0x13dd3c,_0x282e29){return _0x13dd3c-_0x282e29;};const _0x1b6251=_0x2bb962,_0x153772=global_registry[_0x3dd7b6(0xe8)][_0x3dd7b6(0x13c)]('-'),_0xb9a92e=_0x1b6251['obsMe'](_0x1b6251[_0x3dd7b6(0x20b)],_0x153772[_0x1b6251[_0x3dd7b6(0x26f)](_0x153772[_0x3dd7b6(0x11b)],0x1)])['slice'](0x0,0x18);return _0xb9a92e['toLowerCase']();}[a1_0x3e260f(0xc7)](_0x1f4b13){const _0x574211=a1_0x3e260f,_0x150fcc={};_0x150fcc['fZPop']=_0x574211(0xac);const _0xc071a6=_0x150fcc,_0x4ff570=_0xc071a6[_0x574211(0x247)]['split']('|');let _0x21258e=0x0;while(!![]){switch(_0x4ff570[_0x21258e++]){case'0':global_registry[_0x574211(0x21c)]=_0x1f4b13[this[_0x574211(0x1d0)]]['subscriptionId'];continue;case'1':global_registry[_0x574211(0xb2)]=_0x1f4b13[this[_0x574211(0x1d0)]][_0x574211(0x154)];continue;case'2':this['setClients']();continue;case'3':global_registry[_0x574211(0x192)]=_0x1f4b13[this['cloudProviderName']]['tenantId'];continue;case'4':global_registry[_0x574211(0x1ad)]=_0x1f4b13[this[_0x574211(0x1d0)]][_0x574211(0xad)];continue;case'5':global_registry[_0x574211(0xf5)]=_0x1f4b13[this[_0x574211(0x1d0)]]['clientSecret'];continue;}break;}}async[a1_0x3e260f(0x170)](_0x1b4322,_0x4958c9){const _0x52d9a1=a1_0x3e260f,_0x578167={'afKJS':_0x52d9a1(0xd5),'zRwNI':_0x52d9a1(0x14c),'mDScG':_0x52d9a1(0x1d5),'GjLMQ':_0x52d9a1(0x1df),'dyQCc':function(_0x296445,_0x52bd5d){return _0x296445(_0x52bd5d);},'zfSDN':function(_0x333077,_0x1836d3){return _0x333077(_0x1836d3);},'bEmLx':function(_0xa95678,_0xc3df73){return _0xa95678===_0xc3df73;},'PSkTD':function(_0x2ef324,_0xc439b9){return _0x2ef324!==_0xc439b9;},'nlWDa':_0x52d9a1(0x1f5),'QmAzp':function(_0x8edd8a,_0x1fde29){return _0x8edd8a(_0x1fde29);},'RsLSX':function(_0x3a8ec0,_0x37c16a){return _0x3a8ec0===_0x37c16a;},'YaPjR':'xyZcS','FKLJW':_0x52d9a1(0x179),'VAiOm':function(_0xd8dd58,_0x25e20b){return _0xd8dd58(_0x25e20b);},'wUBCj':function(_0x3dc3ce,_0x3dd782){return _0x3dc3ce===_0x3dd782;},'xMSYn':function(_0x210430,_0x13c0fe){return _0x210430===_0x13c0fe;},'bGAho':function(_0x382fd5,_0x4f7c80){return _0x382fd5===_0x4f7c80;},'IWtjn':_0x52d9a1(0x200),'KGryH':_0x52d9a1(0x1f6),'ZYbXc':_0x52d9a1(0x114),'jBibe':_0x52d9a1(0x1d3),'DVeLJ':_0x52d9a1(0x220),'FeQHo':_0x52d9a1(0x87),'cdkXr':_0x52d9a1(0xc6),'JjGVa':function(_0x1062f0,_0x10fd32){return _0x1062f0<_0x10fd32;},'laxEP':function(_0x10ee29,_0x4d5768){return _0x10ee29===_0x4d5768;},'uZuML':_0x52d9a1(0x21b),'WAVCe':_0x52d9a1(0xc3),'DfldX':function(_0x4f7a4,_0xaefe5d){return _0x4f7a4+_0xaefe5d;},'WkFUP':_0x52d9a1(0x1b0),'dYtHP':function(_0xb30003,_0x12d0de){return _0xb30003(_0x12d0de);},'IuUlZ':function(_0xb5fb5e,_0x3a2647){return _0xb5fb5e(_0x3a2647);},'cNWtp':function(_0x1231ab,_0x49a4cd){return _0x1231ab<=_0x49a4cd;},'HKtIF':function(_0x1e38ea,_0x244610){return _0x1e38ea>_0x244610;},'QPCyd':function(_0x2bdc75,_0x2d076b){return _0x2bdc75===_0x2d076b;},'cNsEj':'yRqZj','wAjFQ':_0x52d9a1(0x1a7),'MuUxA':function(_0x561067,_0x3f5802){return _0x561067-_0x3f5802;}},_0x31a26c=this[_0x52d9a1(0x1d0)][_0x52d9a1(0x174)](),_0x34549c=await _0x578167[_0x52d9a1(0x107)](_0x1b4322,_0x31a26c+_0x52d9a1(0x223)),_0x2674bb=await _0x578167[_0x52d9a1(0x107)](_0x1b4322,_0x31a26c+_0x52d9a1(0x25e)),_0x58c8d0=await _0x578167['dyQCc'](_0x1b4322,_0x31a26c+_0x52d9a1(0x106)),_0x5c9aa9=await _0x578167[_0x52d9a1(0x248)](_0x1b4322,_0x31a26c+'\x20SUBSCRIPTION\x20ID:\x20');global_registry['cloudProviderClientId']=_0x34549c,global_registry[_0x52d9a1(0xf5)]=_0x2674bb,global_registry[_0x52d9a1(0x192)]=_0x58c8d0,global_registry[_0x52d9a1(0x21c)]=_0x5c9aa9,this[_0x52d9a1(0xaf)]();const _0x1a2b9e=await this[_0x52d9a1(0x269)](),_0x5a6e96=_0x1a2b9e[_0x52d9a1(0x11b)];let _0x1d1e7d;if(_0x578167[_0x52d9a1(0x1fd)](_0x5a6e96,0x0))_0x578167[_0x52d9a1(0x219)](_0x578167['nlWDa'],_0x578167['nlWDa'])?_0xcd84e5['push'](_0x5045b8):_0x1d1e7d=await _0x578167[_0x52d9a1(0x99)](_0x1b4322,_0x31a26c+_0x52d9a1(0xaa));else{if(_0x578167[_0x52d9a1(0x1fd)](_0x5a6e96,0x1)){if(_0x578167[_0x52d9a1(0xa3)](_0x578167['YaPjR'],_0x578167[_0x52d9a1(0x14e)]))_0x3f6b41[_0x52d9a1(0x206)](_0x1a6c5e[_0x52d9a1(0xcd)]);else{const _0x1b4c9d=await _0x578167['VAiOm'](_0x1b4322,_0x52d9a1(0x229)+_0x1a2b9e[0x0]+_0x52d9a1(0x23f));if(_0x578167[_0x52d9a1(0x1a3)](_0x1b4c9d,undefined)||_0x578167[_0x52d9a1(0xa3)](_0x1b4c9d,null)||!(_0x578167['xMSYn'](_0x1b4c9d['toLowerCase'](),'y')||_0x578167[_0x52d9a1(0xa3)](_0x1b4c9d[_0x52d9a1(0x1d6)](),'n'))){if(_0x578167[_0x52d9a1(0x134)](_0x578167[_0x52d9a1(0x198)],_0x578167[_0x52d9a1(0x1e0)])){_0x3fa639[_0x52d9a1(0x16a)](_0x578167[_0x52d9a1(0x203)]);const _0x216d87={};_0x216d87[_0x52d9a1(0x213)]=_0x1c4867['RESOURCES'],_0x216d87[_0x52d9a1(0x124)]=_0x578167['afKJS'],this[_0x52d9a1(0x25a)][_0x52d9a1(0x1d8)](this[_0x52d9a1(0x1f3)],_0x216d87),_0x11cfd6[_0x52d9a1(0x18b)]=![];}else console[_0x52d9a1(0x20f)](_0x578167[_0x52d9a1(0xbf)]),process['exit'](0x1);}if(_0x578167[_0x52d9a1(0x1a3)](_0x1b4c9d['toLowerCase'](),'n')){if(_0x578167[_0x52d9a1(0xa3)](_0x578167['jBibe'],_0x578167[_0x52d9a1(0x267)]))return _0x26db5e[_0x52d9a1(0xd2)]=_0x578167['zRwNI'],_0x11ca35;else process[_0x52d9a1(0x228)](0x0);}_0x1d1e7d=_0x1a2b9e[0x0];}}else{if(_0x578167[_0x52d9a1(0x219)](_0x578167['FeQHo'],_0x578167[_0x52d9a1(0xe2)])){for(let _0x54936a=0x0;_0x578167['JjGVa'](_0x54936a,_0x1a2b9e['length']);_0x54936a+=0x1){if(_0x578167['laxEP'](_0x578167[_0x52d9a1(0x8b)],_0x578167['WAVCe'])){const _0x50df05=_0x280433[_0x52d9a1(0x12d)](_0x107358);_0x2c49ea+='\x0a\x09'+_0x42e5ca+':\x20'+(_0x50df05?_0x578167['mDScG']:_0x578167[_0x52d9a1(0x1ce)]),!_0x50df05&&(_0x3157b9['status']=![]);}else console[_0x52d9a1(0x119)]('['+_0x578167[_0x52d9a1(0xdc)](_0x54936a,0x1)+']\x20'+_0x1a2b9e[_0x54936a]);}const _0x48c121=await _0x578167['VAiOm'](_0x1b4322,_0x578167[_0x52d9a1(0x20e)]),_0x46da35=_0x578167['dYtHP'](Number,_0x48c121);(_0x578167['IuUlZ'](isNaN,_0x46da35)||_0x578167['cNWtp'](_0x46da35,0x0)||_0x578167[_0x52d9a1(0x10c)](_0x46da35,_0x5a6e96))&&(_0x578167[_0x52d9a1(0x81)](_0x578167[_0x52d9a1(0xb9)],_0x578167['wAjFQ'])?_0x1dad03[_0x52d9a1(0x26e)]=![]:(console['error'](_0x578167[_0x52d9a1(0xbf)]),process['exit'](0x1))),_0x1d1e7d=_0x1a2b9e[_0x578167[_0x52d9a1(0x12a)](_0x46da35,0x1)];}else _0x5e4219[_0x52d9a1(0x228)](0x0);}}global_registry['cloudProviderResourceGroup']=_0x1d1e7d;const _0x204539={};return _0x204539['clientId']=_0x34549c,_0x204539[_0x52d9a1(0x89)]=_0x2674bb,_0x204539['tenantId']=_0x58c8d0,_0x204539['subscriptionId']=_0x5c9aa9,_0x204539[_0x52d9a1(0xad)]=_0x1d1e7d,_0x4958c9['cloudProvider'][AZURE]=_0x204539,_0x4958c9;}async[a1_0x3e260f(0x269)](){const _0x494a85=a1_0x3e260f,_0x5bae0c={};_0x5bae0c['jovGG']=_0x494a85(0xfd),_0x5bae0c[_0x494a85(0x255)]=function(_0x5902ed,_0x4d9a27){return _0x5902ed===_0x4d9a27;},_0x5bae0c[_0x494a85(0xff)]=function(_0x333522,_0x17b779){return _0x333522!==_0x17b779;},_0x5bae0c['UqIFE']='lBqlt',_0x5bae0c[_0x494a85(0x254)]=_0x494a85(0x190),_0x5bae0c[_0x494a85(0x17d)]=function(_0x290328,_0x47b2ca){return _0x290328!==_0x47b2ca;},_0x5bae0c[_0x494a85(0x137)]='kZbDs';const _0x3136f1=_0x5bae0c,_0x179fe4=[];try{if(_0x3136f1[_0x494a85(0xff)](_0x3136f1[_0x494a85(0x13f)],_0x3136f1[_0x494a85(0x254)])){const _0x281d7b=await this[_0x494a85(0x263)][_0x494a85(0xbd)][_0x494a85(0xf8)]();for await(const _0x6ef7d1 of _0x281d7b){if(_0x3136f1[_0x494a85(0x17d)](_0x3136f1[_0x494a85(0x137)],_0x3136f1[_0x494a85(0x137)])){const _0x1405f8=_0x3136f1['jovGG']['split']('|');let _0x67f3e6=0x0;while(!![]){switch(_0x1405f8[_0x67f3e6++]){case'0':_0x4e70cc[_0x494a85(0xb2)]=_0x1aee7a[this['cloudProviderName']][_0x494a85(0x154)];continue;case'1':_0x31be87[_0x494a85(0x1ad)]=_0x21fdab[this[_0x494a85(0x1d0)]][_0x494a85(0xad)];continue;case'2':_0x4bf2ca[_0x494a85(0x192)]=_0x5cc25c[this['cloudProviderName']]['tenantId'];continue;case'3':_0x52d34e[_0x494a85(0x21c)]=_0x234194[this[_0x494a85(0x1d0)]]['subscriptionId'];continue;case'4':this[_0x494a85(0xaf)]();continue;case'5':_0x5bc0b0[_0x494a85(0xf5)]=_0x2c2641[this[_0x494a85(0x1d0)]][_0x494a85(0x89)];continue;}break;}}else _0x179fe4[_0x494a85(0x206)](_0x6ef7d1['name']);}}else{if(_0x3136f1[_0x494a85(0x255)](_0x459717[_0x494a85(0xcd)],_0x494a85(0x211)+this['clusterName']))return!![];}}catch(_0x499674){}return _0x179fe4;}async['getClusterInfo'](){const _0x3ff195=a1_0x3e260f;return this[_0x3ff195(0x25c)]=await this[_0x3ff195(0x183)][_0x3ff195(0x22c)][_0x3ff195(0xae)](global_registry[_0x3ff195(0x1ad)],this['clusterName']),this['clusterInfo'];}async[a1_0x3e260f(0x1c6)](){const _0x2b6756=a1_0x3e260f,_0x329d7e=await this['containerClient'][_0x2b6756(0x22c)][_0x2b6756(0x23c)](global_registry[_0x2b6756(0x1ad)],this[_0x2b6756(0x171)]),_0x249834=_0x329d7e[_0x2b6756(0x225)][0x0][_0x2b6756(0xa2)]['toString']();return _0x249834;}[a1_0x3e260f(0xb8)](_0xf17638){const _0x4d3986=a1_0x3e260f;return _0xf17638[_0x4d3986(0x26e)]['loadBalancer'][_0x4d3986(0x1f7)][0x0]['hostname'];}async[a1_0x3e260f(0x13e)](){const _0x4836e5=a1_0x3e260f,_0x160ba8={};_0x160ba8[_0x4836e5(0x10a)]=function(_0x535dde,_0x24c162){return _0x535dde!==_0x24c162;},_0x160ba8[_0x4836e5(0x8f)]=_0x4836e5(0x1b6),_0x160ba8[_0x4836e5(0x23a)]='vpdov',_0x160ba8[_0x4836e5(0x271)]=function(_0x5708c6,_0x78363f){return _0x5708c6===_0x78363f;},_0x160ba8[_0x4836e5(0xe1)]=_0x4836e5(0x21f),_0x160ba8['Slmfm']=_0x4836e5(0x257);const _0x4ab17e=_0x160ba8,_0x624d3e=new Array();for await(const _0x3b099d of this[_0x4836e5(0x183)][_0x4836e5(0x22c)]['listByResourceGroup'](global_registry[_0x4836e5(0x1ad)])){_0x4ab17e['ruLNC'](_0x4ab17e[_0x4836e5(0x8f)],_0x4ab17e['kldYK'])?_0x421e4a[_0x4836e5(0x1ff)]['push'](_0x4dba00):_0x624d3e[_0x4836e5(0x206)](_0x3b099d);}for await(const _0x57fbf9 of _0x624d3e){if(_0x4ab17e['ruLNC'](_0x4ab17e[_0x4836e5(0x23a)],_0x4ab17e[_0x4836e5(0x23a)]))return _0x2bcfc7[_0x4836e5(0x20f)]=_0x38b9d7[_0x4836e5(0x20f)],_0x5770a0;else{if(_0x4ab17e[_0x4836e5(0x271)](_0x57fbf9[_0x4836e5(0xcd)],this[_0x4836e5(0x171)])){if(_0x4ab17e[_0x4836e5(0x10a)](_0x4ab17e[_0x4836e5(0xe1)],_0x4ab17e[_0x4836e5(0xfa)]))return await this[_0x4836e5(0x199)](),!![];else _0x43e400=_0x254ecf['id'];}}}return![];}async[a1_0x3e260f(0xe0)](_0x2abccb=null,_0x195f91=null){const _0x3c8109=a1_0x3e260f,_0x511b95={};_0x511b95['MTXoP']='3|2|5|0|4|1',_0x511b95[_0x3c8109(0x218)]='Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity';const _0xd6e35b=_0x511b95,_0x1454a1=_0xd6e35b[_0x3c8109(0x239)][_0x3c8109(0x13c)]('|');let _0x5e3cb8=0x0;while(!![]){switch(_0x1454a1[_0x5e3cb8++]){case'0':await this[_0x3c8109(0xeb)](_0x2abccb,_0x195f91);continue;case'1':return[_0x2abccb,_0x195f91];case'2':const _0x1573db={};_0x1573db[_0x3c8109(0x213)]=WS_EVENTS[_0x3c8109(0x17f)],_0x1573db[_0x3c8109(0x124)]=_0xd6e35b[_0x3c8109(0x218)],this[_0x3c8109(0x25a)]['sendEventToBackend'](this[_0x3c8109(0x1f3)],_0x1573db);continue;case'3':this['sendAzureInfoToHST']();continue;case'4':await this[_0x3c8109(0x202)]();continue;case'5':logger[_0x3c8109(0x16a)](_0xd6e35b[_0x3c8109(0x218)]);continue;}break;}}async[a1_0x3e260f(0xeb)](_0x116758=null,_0x6363bb=null){const _0x3b155f=a1_0x3e260f,_0x164c7d={};_0x164c7d[_0x3b155f(0xda)]=_0x3b155f(0x149),_0x164c7d[_0x3b155f(0x230)]='templates',_0x164c7d['xjFWU']='azureresources',_0x164c7d['VXhKd']=_0x3b155f(0x132),_0x164c7d[_0x3b155f(0x1ab)]='utf-8',_0x164c7d[_0x3b155f(0x138)]='true',_0x164c7d[_0x3b155f(0x151)]=_0x3b155f(0x205),_0x164c7d[_0x3b155f(0x16e)]=function(_0x4bba8a,_0x53d86f){return _0x4bba8a!==_0x53d86f;},_0x164c7d[_0x3b155f(0x26b)]=function(_0x24afc8,_0x50d51b){return _0x24afc8===_0x50d51b;},_0x164c7d[_0x3b155f(0x19f)]=_0x3b155f(0x125),_0x164c7d[_0x3b155f(0x1c8)]=_0x3b155f(0x1e9),_0x164c7d[_0x3b155f(0xfb)]=_0x3b155f(0xc2),_0x164c7d[_0x3b155f(0x8e)]=_0x3b155f(0x24c),_0x164c7d[_0x3b155f(0x155)]=_0x3b155f(0x1c1),_0x164c7d['nYjGR']=_0x3b155f(0xc5),_0x164c7d[_0x3b155f(0x226)]=_0x3b155f(0x1e5),_0x164c7d['FkjTj']=_0x3b155f(0x163);const _0x5ae7b3=_0x164c7d;let _0x20a537=await fs['readFileAsync'](path['join'](__dirname,'..',_0x5ae7b3[_0x3b155f(0x230)],_0x5ae7b3[_0x3b155f(0x161)],_0x5ae7b3[_0x3b155f(0x16c)]),_0x5ae7b3[_0x3b155f(0x1ab)]);_0x20a537=JSON[_0x3b155f(0x1ed)](_0x20a537);const _0x82cf2c={};_0x82cf2c[_0x3b155f(0xa2)]=this[_0x3b155f(0x171)];const _0x588020={};_0x588020['value']=global_registry['clusterRegion'];const _0x39f860={};_0x39f860[_0x3b155f(0xa2)]=global_registry[_0x3b155f(0xd1)];const _0x3d7118={};_0x3d7118[_0x3b155f(0xa2)]=global_registry[_0x3b155f(0x250)];const _0x2d2240={};_0x2d2240[_0x3b155f(0xa2)]=global_registry[_0x3b155f(0x1a1)]?_0x5ae7b3[_0x3b155f(0x138)]:_0x5ae7b3[_0x3b155f(0x151)];const _0x21c91a={};_0x21c91a[_0x3b155f(0x171)]=_0x82cf2c,_0x21c91a[_0x3b155f(0xcf)]=_0x588020,_0x21c91a[_0x3b155f(0x88)]=_0x39f860,_0x21c91a[_0x3b155f(0x123)]=_0x3d7118,_0x21c91a[_0x3b155f(0x1a1)]=_0x2d2240;let _0x2104a7=_0x21c91a;if(_0x5ae7b3[_0x3b155f(0x16e)](_0x116758,null)&&_0x5ae7b3['CmLfD'](_0x6363bb,null)){if(_0x5ae7b3['qOKhV'](_0x5ae7b3[_0x3b155f(0x19f)],_0x5ae7b3['grDPc'])){_0x34fda9[_0x3b155f(0x16a)](_0x5ae7b3[_0x3b155f(0xda)]);const _0x5dd3cc={};_0x5dd3cc[_0x3b155f(0x213)]=_0x4f6bb5[_0x3b155f(0xdd)],_0x5dd3cc[_0x3b155f(0x124)]=_0x5ae7b3[_0x3b155f(0xda)],this[_0x3b155f(0x25a)][_0x3b155f(0x1d8)](this['rws'],_0x5dd3cc),_0xfe34ee[_0x3b155f(0xbb)][_0x3b155f(0x178)]=!![];}else{const _0x5dd9b3={};_0x5dd9b3[_0x3b155f(0x213)]=_0x5ae7b3['mYtLz'],_0x5dd9b3[_0x3b155f(0x103)]={},_0x5dd9b3[_0x3b155f(0x103)][_0x3b155f(0x10d)]=_0x5ae7b3[_0x3b155f(0x8e)];const _0x4b25a1={};_0x4b25a1['type']=_0x5ae7b3['mYtLz'],_0x4b25a1['metadata']={},_0x4b25a1['metadata'][_0x3b155f(0x10d)]=_0x5ae7b3['GJgUJ'],_0x20a537['parameters']={..._0x20a537[_0x3b155f(0x204)],'vpcName':_0x5dd9b3,'subnetName':_0x4b25a1};const _0x433c5c={};_0x433c5c['vnetSubnetID']=_0x5ae7b3['bgupN'],_0x20a537[_0x3b155f(0x1a6)]=_0x433c5c,_0x20a537[_0x3b155f(0x102)][0x0]['properties']['agentPoolProfiles'][0x0]={..._0x20a537['resources'][0x0][_0x3b155f(0x217)][_0x3b155f(0x1eb)][0x0],'vnetSubnetID':_0x5ae7b3[_0x3b155f(0xe9)]};const _0xb45e5e={};_0xb45e5e['value']=_0x116758;const _0x5939fe={};_0x5939fe[_0x3b155f(0xa2)]=_0x6363bb[0x0],_0x2104a7={..._0x2104a7,'vpcName':_0xb45e5e,'subnetName':_0x5939fe};}}await this['resourceClient'][_0x3b155f(0x18d)][_0x3b155f(0x143)](global_registry[_0x3b155f(0x1ad)],_0x5ae7b3['xzgGI'],{'properties':{'template':_0x20a537,'mode':_0x5ae7b3[_0x3b155f(0x1ec)],'parameters':_0x2104a7}});}async[a1_0x3e260f(0x202)](){const _0x59ab8e=a1_0x3e260f,_0x1e4735={};_0x1e4735[_0x59ab8e(0xc4)]=function(_0x572ee6,_0x58e099){return _0x572ee6===_0x58e099;},_0x1e4735[_0x59ab8e(0x1ae)]=_0x59ab8e(0x25b),_0x1e4735['ExRbl']=function(_0x517440,_0x4ac847){return _0x517440===_0x4ac847;},_0x1e4735[_0x59ab8e(0x260)]=_0x59ab8e(0x21e),_0x1e4735[_0x59ab8e(0x122)]=_0x59ab8e(0x227),_0x1e4735[_0x59ab8e(0x166)]=function(_0x554e9e,_0x976803){return _0x554e9e===_0x976803;},_0x1e4735[_0x59ab8e(0x1a9)]=_0x59ab8e(0xab),_0x1e4735['XFCSp']='Storage\x20account\x20already\x20exists,\x20skipping',_0x1e4735['CSUer']=function(_0x6353ae,_0x1fa9f2){return _0x6353ae!==_0x1fa9f2;},_0x1e4735[_0x59ab8e(0x86)]=_0x59ab8e(0x184),_0x1e4735[_0x59ab8e(0x13b)]='lbBBg',_0x1e4735[_0x59ab8e(0xa9)]=_0x59ab8e(0x9d),_0x1e4735[_0x59ab8e(0x268)]=function(_0x346aaa,_0x4de485){return _0x346aaa!==_0x4de485;},_0x1e4735[_0x59ab8e(0x121)]=_0x59ab8e(0x1dd),_0x1e4735['jtzuC']=_0x59ab8e(0x25d),_0x1e4735['YrtyJ']=_0x59ab8e(0x1e6),_0x1e4735[_0x59ab8e(0x22f)]=_0x59ab8e(0x258);const _0x3d8ec3=_0x1e4735,_0xa16045=await this[_0x59ab8e(0x270)]();if(!_0xa16045){if(_0x3d8ec3[_0x59ab8e(0x1a2)](_0x3d8ec3['KXlrl'],_0x3d8ec3[_0x59ab8e(0x260)])){const _0x2c60b5={};_0x2c60b5['type']=WS_EVENTS[_0x59ab8e(0x17f)],_0x2c60b5['message']=_0x3d8ec3['QuhXj'],this[_0x59ab8e(0x25a)][_0x59ab8e(0x1d8)](this[_0x59ab8e(0x1f3)],_0x2c60b5),logger[_0x59ab8e(0x16a)](_0x3d8ec3[_0x59ab8e(0x122)]),await this[_0x59ab8e(0x164)]();}else{if(_0x3d8ec3[_0x59ab8e(0xc4)](_0x167dfb[_0x59ab8e(0xcd)],_0x47b24b))return!![];}}else _0x3d8ec3[_0x59ab8e(0x166)](_0x3d8ec3[_0x59ab8e(0x1a9)],_0x3d8ec3['aYvsd'])?logger[_0x59ab8e(0x16a)](_0x3d8ec3[_0x59ab8e(0xa4)]):_0x391bc9[_0x59ab8e(0x206)](_0x3ff190);const _0x5c6f69=await this[_0x59ab8e(0x221)]();if(!_0x5c6f69){if(_0x3d8ec3[_0x59ab8e(0x19e)](_0x3d8ec3[_0x59ab8e(0x86)],_0x3d8ec3[_0x59ab8e(0x13b)])){const _0x4f66d8={};_0x4f66d8[_0x59ab8e(0x213)]=WS_EVENTS[_0x59ab8e(0x17f)],_0x4f66d8['message']=_0x3d8ec3['zySPg'],this[_0x59ab8e(0x25a)][_0x59ab8e(0x1d8)](this['rws'],_0x4f66d8),logger[_0x59ab8e(0x16a)](_0x3d8ec3[_0x59ab8e(0xa9)]),await this[_0x59ab8e(0x209)]();}else throw new _0xbc2990(_0x3d8ec3[_0x59ab8e(0x1ae)],_0x59ab8e(0x23e)+_0x1c366f['stringify'](_0x3042b9));}else{if(_0x3d8ec3['RsbkA'](_0x3d8ec3[_0x59ab8e(0x121)],_0x3d8ec3['hVrEF']))return _0x2ba0e3[_0x59ab8e(0x26e)]['loadBalancer'][_0x59ab8e(0x1f7)][0x0][_0x59ab8e(0xb4)];else logger[_0x59ab8e(0x16a)](_0x3d8ec3['jtzuC']);}logger[_0x59ab8e(0x16a)](_0x3d8ec3[_0x59ab8e(0xee)]),await this[_0x59ab8e(0xef)](),logger['info'](_0x3d8ec3[_0x59ab8e(0x22f)]);}async[a1_0x3e260f(0x164)](){const _0x474b62=a1_0x3e260f,_0x2e4e89={};_0x2e4e89[_0x474b62(0xcb)]=_0x474b62(0xe6),_0x2e4e89[_0x474b62(0xd8)]=_0x474b62(0xf1),_0x2e4e89[_0x474b62(0x1e3)]='storageaccount.json',_0x2e4e89[_0x474b62(0x115)]=_0x474b62(0x210),_0x2e4e89['BFawa']='turboscale-storageaccount-deployment',_0x2e4e89[_0x474b62(0x1b7)]=_0x474b62(0x163),_0x2e4e89['ZRolK']=_0x474b62(0x193),_0x2e4e89[_0x474b62(0x8a)]=_0x474b62(0x176),_0x2e4e89['UJdHS']=_0x474b62(0x246),_0x2e4e89['XuJzW']=_0x474b62(0x188);const _0xba867c=_0x2e4e89;let _0x4ba739=await fs[_0x474b62(0x131)](path[_0x474b62(0x23d)](__dirname,'..',_0xba867c[_0x474b62(0xcb)],_0xba867c[_0x474b62(0xd8)],_0xba867c[_0x474b62(0x1e3)]),_0xba867c[_0x474b62(0x115)]);_0x4ba739=JSON[_0x474b62(0x1ed)](_0x4ba739);const _0x29f574=this[_0x474b62(0x104)](),_0x3adf5a={};_0x3adf5a['value']=_0x29f574;const _0x952ba={};_0x952ba[_0x474b62(0x234)]=_0x3adf5a,await this[_0x474b62(0x263)][_0x474b62(0x18d)][_0x474b62(0x143)](global_registry[_0x474b62(0x1ad)],_0xba867c[_0x474b62(0xa7)],{'properties':{'template':_0x4ba739,'mode':_0xba867c[_0x474b62(0x1b7)],'parameters':_0x952ba}});const _0x410111={};_0x410111[_0x474b62(0x1ee)]=0x3c;const _0xbf403f={};_0xbf403f[_0x474b62(0xc1)]=_0x410111;const _0x23e86e={};_0x23e86e[_0x474b62(0xcc)]=_0xbf403f;const _0x527d39={};_0x527d39[_0x474b62(0x178)]=!![],_0x527d39[_0x474b62(0xcd)]=_0xba867c[_0x474b62(0x1c9)],_0x527d39[_0x474b62(0x213)]=_0xba867c[_0x474b62(0x8a)],_0x527d39[_0x474b62(0x252)]={},_0x527d39[_0x474b62(0x252)][_0x474b62(0x110)]=_0x23e86e,_0x527d39[_0x474b62(0x252)][_0x474b62(0x244)]={},_0x527d39[_0x474b62(0x252)][_0x474b62(0x244)]['blobTypes']=[_0xba867c[_0x474b62(0x128)]];const _0x3afc5f={};_0x3afc5f[_0x474b62(0x147)]=[_0x527d39];const _0x37aef1={};_0x37aef1[_0x474b62(0x1a4)]=_0x3afc5f;const _0x48b2b6=_0x37aef1;await this['storageClient'][_0x474b62(0x17b)]['createOrUpdate'](global_registry['cloudProviderResourceGroup'],_0x29f574,_0xba867c['XuJzW'],_0x48b2b6);}async[a1_0x3e260f(0x209)](){const _0x370e61=a1_0x3e260f,_0x12f1a5={};_0x12f1a5[_0x370e61(0x85)]=_0x370e61(0xe6),_0x12f1a5[_0x370e61(0x1dc)]=_0x370e61(0xf1),_0x12f1a5[_0x370e61(0x1a5)]=_0x370e61(0x237),_0x12f1a5[_0x370e61(0x96)]=_0x370e61(0x210),_0x12f1a5[_0x370e61(0xb7)]=_0x370e61(0x100),_0x12f1a5[_0x370e61(0x233)]=_0x370e61(0x163);const _0x45f4e3=_0x12f1a5;let _0x3fb205=await fs[_0x370e61(0x131)](path[_0x370e61(0x23d)](__dirname,'..',_0x45f4e3[_0x370e61(0x85)],_0x45f4e3[_0x370e61(0x1dc)],_0x45f4e3['wzzed']),_0x45f4e3[_0x370e61(0x96)]);_0x3fb205=JSON[_0x370e61(0x1ed)](_0x3fb205),await this[_0x370e61(0x263)][_0x370e61(0x18d)]['beginCreateOrUpdateAndWait'](global_registry[_0x370e61(0x1ad)],_0x45f4e3[_0x370e61(0xb7)],{'properties':{'template':_0x3fb205,'mode':_0x45f4e3[_0x370e61(0x233)],'parameters':{'clusterName':{'value':this['clusterName']}}}});}async[a1_0x3e260f(0xef)](){const _0x1d38ea=a1_0x3e260f,_0x180556={};_0x180556[_0x1d38ea(0x241)]=function(_0x3bbb7a,_0x4d9b21){return _0x3bbb7a===_0x4d9b21;},_0x180556[_0x1d38ea(0x191)]='TycSv',_0x180556['WuJuA']=_0x1d38ea(0x22a),_0x180556[_0x1d38ea(0x80)]=_0x1d38ea(0x249),_0x180556[_0x1d38ea(0xb5)]=function(_0x37815b,_0x3464f3){return _0x37815b===_0x3464f3;},_0x180556[_0x1d38ea(0x156)]=_0x1d38ea(0x18f),_0x180556[_0x1d38ea(0xd3)]=_0x1d38ea(0x146),_0x180556[_0x1d38ea(0x1ca)]=_0x1d38ea(0xe6),_0x180556[_0x1d38ea(0x1bd)]='azureresources',_0x180556[_0x1d38ea(0x8c)]=_0x1d38ea(0x210),_0x180556[_0x1d38ea(0x215)]=_0x1d38ea(0x20d),_0x180556[_0x1d38ea(0x1de)]=_0x1d38ea(0x163);const _0x555d11=_0x180556;!this[_0x1d38ea(0x25c)]&&(_0x555d11[_0x1d38ea(0x241)](_0x555d11['ihyMA'],_0x555d11[_0x1d38ea(0x191)])?await this['getClusterInfo']():_0x319548[_0x1d38ea(0x20f)]=_0xf0d13d);const _0xc2e6de=this[_0x1d38ea(0x25c)]?.[_0x1d38ea(0xbb)]?.[_0x1d38ea(0x197)],_0x33d818=[_0x555d11['WuJuA'],_0x555d11[_0x1d38ea(0x80)]];for await(const _0x55d490 of _0x33d818){if(_0x555d11[_0x1d38ea(0xb5)](_0x555d11[_0x1d38ea(0x156)],_0x555d11[_0x1d38ea(0xd3)]))return!![];else{let _0x51b5ff=await fs[_0x1d38ea(0x131)](path[_0x1d38ea(0x23d)](__dirname,'..',_0x555d11['UcRmy'],_0x555d11[_0x1d38ea(0x1bd)],_0x1d38ea(0x189)+_0x55d490+_0x1d38ea(0x129)),_0x555d11[_0x1d38ea(0x8c)]);_0x51b5ff=JSON['parse'](_0x51b5ff);const _0x54df44={};_0x54df44[_0x1d38ea(0xa2)]=_0xc2e6de,await this[_0x1d38ea(0x263)][_0x1d38ea(0x18d)][_0x1d38ea(0x143)](global_registry[_0x1d38ea(0x1ad)],_0x555d11['xyuCU'],{'properties':{'template':_0x51b5ff,'mode':_0x555d11[_0x1d38ea(0x1de)],'parameters':{'oidcIssuer':_0x54df44,'gridName':{'value':this[_0x1d38ea(0x172)]},'clusterName':{'value':this[_0x1d38ea(0x171)]}}}});}}}async[a1_0x3e260f(0x101)](_0x4a85f2,_0x3de58a,_0x439704,_0x1a2820,_0x1a3de6){const _0x3749d6=a1_0x3e260f,_0x39a7cc={};_0x39a7cc[_0x3749d6(0x251)]=_0x3749d6(0x165),_0x39a7cc['bnaQB']=_0x3749d6(0x1b5);const _0x1f81f4=_0x39a7cc,_0x26e006={};_0x26e006['type']=WS_EVENTS['LOG'],_0x26e006[_0x3749d6(0x124)]=_0x1f81f4[_0x3749d6(0x251)],this[_0x3749d6(0x25a)][_0x3749d6(0x1d8)](this['rws'],_0x26e006),logger['info'](_0x1f81f4[_0x3749d6(0x251)]),await this['createFederatedAccountForHubHA']();const _0x3807b0={};_0x3807b0[_0x3749d6(0x213)]=WS_EVENTS['LOG'],_0x3807b0[_0x3749d6(0x124)]=_0x1f81f4[_0x3749d6(0x92)],this[_0x3749d6(0x25a)][_0x3749d6(0x1d8)](this[_0x3749d6(0x1f3)],_0x3807b0);}async['createFederatedAccountForHubHA'](){const _0x24faff=a1_0x3e260f,_0x1447c8={};_0x1447c8[_0x24faff(0xe4)]=function(_0x3be9b8,_0x2ba4bd){return _0x3be9b8!==_0x2ba4bd;},_0x1447c8[_0x24faff(0x23b)]=_0x24faff(0xe5),_0x1447c8[_0x24faff(0xc8)]=_0x24faff(0xe6),_0x1447c8['APHKM']=_0x24faff(0x261),_0x1447c8[_0x24faff(0x1c7)]=_0x24faff(0xc9),_0x1447c8[_0x24faff(0x12f)]=_0x24faff(0x210),_0x1447c8[_0x24faff(0x160)]=_0x24faff(0x20d),_0x1447c8[_0x24faff(0xdf)]=_0x24faff(0x163);const _0xe377df=_0x1447c8;if(!this['clusterInfo']){if(_0xe377df[_0x24faff(0xe4)](_0xe377df[_0x24faff(0x23b)],_0xe377df[_0x24faff(0x23b)]))return _0x12f389['error'](_0x24faff(0x126)+_0x515644+':'+_0x108de9[_0x24faff(0x238)]),{};else await this[_0x24faff(0x199)]();}const _0x13f5d1=this[_0x24faff(0x25c)]?.[_0x24faff(0xbb)]?.[_0x24faff(0x197)];let _0x45a070=await fs[_0x24faff(0x131)](path[_0x24faff(0x23d)](__dirname,'..',_0xe377df['qVEYq'],_0xe377df[_0x24faff(0xa6)],_0xe377df[_0x24faff(0x1c7)]),_0xe377df[_0x24faff(0x12f)]);_0x45a070=JSON[_0x24faff(0x1ed)](_0x45a070);const _0x45b467={};_0x45b467[_0x24faff(0xa2)]=_0x13f5d1,await this[_0x24faff(0x263)][_0x24faff(0x18d)][_0x24faff(0x143)](global_registry[_0x24faff(0x1ad)],_0xe377df[_0x24faff(0x160)],{'properties':{'template':_0x45a070,'mode':_0xe377df['gstso'],'parameters':{'oidcIssuer':_0x45b467,'namespace':{'value':global_registry[_0x24faff(0x180)]},'clusterName':{'value':this[_0x24faff(0x171)]}}}});}async[a1_0x3e260f(0x270)](){const _0x7a932d=a1_0x3e260f,_0x8dae10={};_0x8dae10[_0x7a932d(0x1ea)]=function(_0xb1487b,_0x3fb0df){return _0xb1487b+_0x3fb0df;},_0x8dae10['Qthhe']=_0x7a932d(0x22d),_0x8dae10['EkcRl']=function(_0x30efe8,_0x132fe3){return _0x30efe8-_0x132fe3;},_0x8dae10[_0x7a932d(0x148)]=_0x7a932d(0x114),_0x8dae10[_0x7a932d(0x157)]=_0x7a932d(0x19a),_0x8dae10[_0x7a932d(0x1b8)]=function(_0x456098,_0x521222){return _0x456098===_0x521222;},_0x8dae10[_0x7a932d(0x1c0)]=_0x7a932d(0xf9),_0x8dae10[_0x7a932d(0x181)]=_0x7a932d(0x1f2),_0x8dae10[_0x7a932d(0x26a)]=function(_0x4c068e,_0x34021d){return _0x4c068e===_0x34021d;},_0x8dae10[_0x7a932d(0x182)]=function(_0x41d0c6,_0x58c379){return _0x41d0c6!==_0x58c379;},_0x8dae10['FBmmD']=_0x7a932d(0xde),_0x8dae10['YujyX']=_0x7a932d(0x17e);const _0x5bd9d9=_0x8dae10,_0x3ace5a=this[_0x7a932d(0x104)](),_0x3afe30=new Array();for await(const _0x504207 of this[_0x7a932d(0x236)][_0x7a932d(0x120)]['listByResourceGroup'](global_registry[_0x7a932d(0x1ad)])){if(_0x5bd9d9[_0x7a932d(0x1b8)](_0x5bd9d9[_0x7a932d(0x1c0)],_0x5bd9d9[_0x7a932d(0x1c0)]))_0x3afe30[_0x7a932d(0x206)](_0x504207);else{const _0x3fdd26=_0x1ae177[_0x7a932d(0xe8)][_0x7a932d(0x13c)]('-'),_0x44110c=_0x5bd9d9[_0x7a932d(0x1ea)](_0x5bd9d9[_0x7a932d(0x145)],_0x3fdd26[_0x5bd9d9[_0x7a932d(0x242)](_0x3fdd26[_0x7a932d(0x11b)],0x1)])['slice'](0x0,0x18);return _0x44110c[_0x7a932d(0x1d6)]();}}for await(const _0x4d4c86 of _0x3afe30){if(_0x5bd9d9[_0x7a932d(0x1b8)](_0x5bd9d9[_0x7a932d(0x181)],_0x5bd9d9[_0x7a932d(0x181)])){if(_0x5bd9d9['BntWO'](_0x4d4c86['name'],_0x3ace5a)){if(_0x5bd9d9[_0x7a932d(0x182)](_0x5bd9d9[_0x7a932d(0x105)],_0x5bd9d9[_0x7a932d(0x9e)]))return!![];else _0x11412e['error'](_0x5bd9d9[_0x7a932d(0x148)]),_0x1b6ea9[_0x7a932d(0x228)](0x1);}}else return _0x5b844b[_0x7a932d(0xd2)]=_0x5bd9d9[_0x7a932d(0x157)],_0x6ec5ad;}return![];}async[a1_0x3e260f(0x221)](){const _0x3b4422=a1_0x3e260f,_0x34b123={'flZxo':function(_0x48c20d,_0x46d838){return _0x48c20d===_0x46d838;},'FOVOc':function(_0x11e102,_0x2b150b,_0x284d67){return _0x11e102(_0x2b150b,_0x284d67);},'amBCX':'VjAyP','MmpcD':_0x3b4422(0x83),'toMRr':function(_0x59ed11,_0x3394b2){return _0x59ed11!==_0x3394b2;},'TPHRQ':_0x3b4422(0xf3),'WIGPZ':function(_0x1cc568,_0x53453d){return _0x1cc568===_0x53453d;},'pjNsv':function(_0x486128,_0x5a7d30){return _0x486128!==_0x5a7d30;},'OSCgY':_0x3b4422(0x19d)},_0x32b4ab=new Array();for await(const _0x69e597 of this['resourceClient'][_0x3b4422(0x102)][_0x3b4422(0x139)](global_registry['cloudProviderResourceGroup'])){if(_0x34b123['flZxo'](_0x34b123[_0x3b4422(0x1b2)],_0x34b123[_0x3b4422(0x15c)])){if(_0x34b123['flZxo'](_0x171f0e[_0x3b4422(0xcd)],_0x18aaa7))return!![];}else _0x32b4ab['push'](_0x69e597);}for await(const _0x161d8b of _0x32b4ab){if(_0x34b123[_0x3b4422(0x265)](_0x34b123[_0x3b4422(0x158)],_0x34b123['TPHRQ']))_0x34b123[_0x3b4422(0x19c)](_0x2aa779,()=>_0x5399e0(),0x3e8);else{if(_0x34b123[_0x3b4422(0x97)](_0x161d8b['name'],'turboscale-managed-identity-'+this['clusterName'])){if(_0x34b123[_0x3b4422(0x14f)](_0x34b123[_0x3b4422(0x22b)],_0x34b123['OSCgY']))_0x53935b[_0x3b4422(0x206)](_0x4d3cba);else return!![];}}}return![];}async[a1_0x3e260f(0x14a)](_0x385dc8,_0x4b5b05=0x3){const _0x2778e3=a1_0x3e260f,_0x30952f={'UuOZG':function(_0x399cba,_0x9c2969){return _0x399cba===_0x9c2969;},'eQKhz':'Action\x20permission\x20list\x20is\x20empty\x0a','yrHur':'Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','NpfId':_0x2778e3(0x114),'IZOVx':_0x2778e3(0xc2),'lEMZA':_0x2778e3(0x24c),'wXTiU':_0x2778e3(0x1c1),'BRvgR':_0x2778e3(0xc5),'qTrOq':'No\x20CLI\x20tool\x20required','FHpyb':_0x2778e3(0xea),'jLxEp':_0x2778e3(0x18c),'fRJQN':function(_0x122d64,_0x12ab7e,_0x43a739){return _0x122d64(_0x12ab7e,_0x43a739);},'ZVtyZ':'ymiOn','JnJvF':function(_0x217769,_0x4af4e0){return _0x217769===_0x4af4e0;},'ejxsr':_0x2778e3(0x187),'UYAox':'paXyk','kEYHv':_0x2778e3(0xca),'gUVbm':function(_0x2098ea,_0x7d608c){return _0x2098ea!==_0x7d608c;},'Moylp':_0x2778e3(0x24d),'wLvqU':_0x2778e3(0x167),'gOesh':function(_0x5ba18b,_0x59ba0e){return _0x5ba18b===_0x59ba0e;},'oAxKP':_0x2778e3(0xd7),'VCzJx':_0x2778e3(0x133),'sitIa':function(_0x2ab55e,_0x3e8207){return _0x2ab55e<=_0x3e8207;},'kdKAG':_0x2778e3(0x150),'Crbav':_0x2778e3(0x264),'yTOER':function(_0x2e2413,_0x2ad19e){return _0x2e2413-_0x2ad19e;}};try{if(_0x30952f['UuOZG'](_0x30952f['ZVtyZ'],_0x30952f[_0x2778e3(0x109)])){const _0x7c270b=new Array();for await(const _0xb165a9 of this[_0x2778e3(0x263)]['resources'][_0x2778e3(0x139)](global_registry[_0x2778e3(0x1ad)])){_0x30952f[_0x2778e3(0xd9)](_0x30952f[_0x2778e3(0xd4)],_0x30952f[_0x2778e3(0x1c5)])?(_0x4db380+=_0x30952f[_0x2778e3(0x1c4)](_0x41fb1a[_0x2778e3(0x11b)],0x0)?_0x30952f[_0x2778e3(0x173)]:'',_0x4a6ff[_0x2778e3(0x1f8)]('Role\x20definition\x20response\x20list\x20\x20:\x20\x20'+_0x27e91f[_0x2778e3(0x186)](_0x363746))):_0x7c270b[_0x2778e3(0x206)](_0xb165a9);}let _0x475af9='';for await(const _0x44fca6 of _0x7c270b){if(_0x30952f[_0x2778e3(0x1c4)](_0x30952f[_0x2778e3(0x159)],_0x30952f[_0x2778e3(0x159)]))_0x30952f['UuOZG'](_0x44fca6[_0x2778e3(0xcd)],_0x385dc8)&&(_0x30952f['gUVbm'](_0x30952f['Moylp'],_0x30952f[_0x2778e3(0xd0)])?_0x50883a[_0x2778e3(0x20f)]=_0x223ecd:_0x475af9=_0x44fca6['id']);else{_0xaccc57[_0x2778e3(0x16a)](_0x30952f[_0x2778e3(0x111)]);const _0x211056={};_0x211056[_0x2778e3(0x213)]=_0x16e5ca[_0x2778e3(0xdd)],_0x211056[_0x2778e3(0x124)]=_0x30952f['yrHur'],this[_0x2778e3(0x25a)][_0x2778e3(0x1d8)](this[_0x2778e3(0x1f3)],_0x211056);const _0x3cfc6b={};_0x3cfc6b[_0x2778e3(0x178)]=!![];const _0xd869f2={'workloadIdentity':_0x3cfc6b,..._0x37b4b6[_0x2778e3(0xb0)]};_0x356410[_0x2778e3(0xb0)]=_0xd869f2;}}const _0x430918=await this['resourceClient'][_0x2778e3(0x102)][_0x2778e3(0x153)](_0x475af9,_0x30952f['wLvqU']);return _0x430918[_0x2778e3(0x217)][_0x2778e3(0x154)];}else _0x49d3a5[_0x2778e3(0x20f)](_0x30952f[_0x2778e3(0xba)]),_0x406440[_0x2778e3(0x228)](0x1);}catch(_0x49006b){if(_0x30952f['gOesh'](_0x30952f[_0x2778e3(0x10b)],_0x30952f[_0x2778e3(0xc0)])){const _0x47aa45={};_0x47aa45[_0x2778e3(0x213)]=_0x30952f[_0x2778e3(0xbc)],_0x47aa45[_0x2778e3(0x103)]={},_0x47aa45[_0x2778e3(0x103)][_0x2778e3(0x10d)]=_0x30952f[_0x2778e3(0x1fc)];const _0x3907fd={};_0x3907fd[_0x2778e3(0x213)]=_0x30952f[_0x2778e3(0xbc)],_0x3907fd['metadata']={},_0x3907fd['metadata'][_0x2778e3(0x10d)]=_0x30952f[_0x2778e3(0x1fc)];const _0x260432={..._0x413ba6[_0x2778e3(0x204)]};_0x260432['vpcName']=_0x47aa45,_0x260432[_0x2778e3(0x16f)]=_0x3907fd,_0x44b1bf['parameters']=_0x260432;const _0x5d9269={};_0x5d9269['vnetSubnetID']=_0x30952f['wXTiU'],_0x3ba3fa[_0x2778e3(0x1a6)]=_0x5d9269;const _0x10c122={..._0x2ef123[_0x2778e3(0x102)][0x0][_0x2778e3(0x217)]['agentPoolProfiles'][0x0]};_0x10c122[_0x2778e3(0x24e)]=_0x30952f[_0x2778e3(0x26c)],_0x4fb17c[_0x2778e3(0x102)][0x0][_0x2778e3(0x217)][_0x2778e3(0x1eb)][0x0]=_0x10c122;const _0xa221a2={};_0xa221a2['value']=_0x8ae0b5;const _0x46be25={};_0x46be25[_0x2778e3(0xa2)]=_0x1cf720[0x0];const _0x519c7b={..._0x4d89d0};_0x519c7b[_0x2778e3(0xa1)]=_0xa221a2,_0x519c7b[_0x2778e3(0x16f)]=_0x46be25,_0x20b28d=_0x519c7b;}else{if(_0x30952f[_0x2778e3(0xbe)](_0x4b5b05,0x0)){if(_0x30952f['gUVbm'](_0x30952f[_0x2778e3(0x19b)],_0x30952f[_0x2778e3(0x98)]))return logger[_0x2778e3(0x20f)](_0x2778e3(0x126)+_0x49006b+':'+_0x49006b[_0x2778e3(0x238)]),{};else _0x3cef7f['push'](..._0x3e9ec8['actions']);}return await new Promise(_0x26d45c=>{const _0x44d95a=_0x2778e3;if(_0x30952f['UuOZG'](_0x30952f[_0x44d95a(0x201)],_0x30952f[_0x44d95a(0x222)])){const _0x14d0a3={};_0x14d0a3[_0x44d95a(0x26e)]=!![],_0x14d0a3['error']=null,_0x14d0a3['data']=_0x30952f['qTrOq'];const _0x78051f=_0x14d0a3;return _0x78051f;}else _0x30952f[_0x44d95a(0x232)](setTimeout,()=>_0x26d45c(),0x3e8);}),this[_0x2778e3(0x14a)](_0x385dc8,_0x30952f['yTOER'](_0x4b5b05,0x1));}}}async[a1_0x3e260f(0x1e2)](){const _0x341981=a1_0x3e260f,_0x16cf0b={};_0x16cf0b[_0x341981(0xf2)]=function(_0x1053cc,_0x2a60e2){return _0x1053cc===_0x2a60e2;},_0x16cf0b[_0x341981(0x116)]=function(_0x5d82a7,_0x2f5fc0){return _0x5d82a7===_0x2f5fc0;},_0x16cf0b[_0x341981(0x17a)]=_0x341981(0x127),_0x16cf0b[_0x341981(0x12e)]=function(_0x18d10d,_0x2a4b4e){return _0x18d10d===_0x2a4b4e;},_0x16cf0b[_0x341981(0x12b)]='browserstack:managedBy',_0x16cf0b[_0x341981(0x1a8)]=_0x341981(0x162),_0x16cf0b['RyIRg']=function(_0x3523e3,_0x52608d){return _0x3523e3!==_0x52608d;},_0x16cf0b[_0x341981(0xe7)]=_0x341981(0x142);const _0x375599=_0x16cf0b;!this[_0x341981(0x25c)]&&(_0x375599[_0x341981(0x116)](_0x375599['FOYom'],_0x375599[_0x341981(0x17a)])?await this['getClusterInfo']():_0x375599[_0x341981(0xf2)](_0x3e7750['name'],_0x475524)&&(_0x12b1fc=_0x21de2b['id']));const _0xdfd95e=this[_0x341981(0x25c)]?.[_0x341981(0x112)]||{};if(_0xdfd95e&&_0x375599[_0x341981(0x12e)](_0xdfd95e[_0x375599[_0x341981(0x12b)]],_0x375599[_0x341981(0x1a8)]))return _0x375599['RyIRg'](_0x375599[_0x341981(0xe7)],_0x375599['kwNYm'])?(_0x47fe95[_0x341981(0x20f)](_0x341981(0x214)+_0x5b889f+_0x341981(0x108)+_0x168c68),[![],[]]):!![];return![];}async[a1_0x3e260f(0x1f0)](_0x663c2a,_0x3b1c58){const _0x579864=a1_0x3e260f,_0x4f5bda={'rKPYn':function(_0x25b6a2,_0x212817){return _0x25b6a2(_0x212817);},'TvoOr':'Deleted\x20the\x20cluster\x20successfully'};await _0x4f5bda[_0x579864(0xa8)](deleteAgent,_0x663c2a),await _0x4f5bda[_0x579864(0xa8)](deleteRoutingDeps,_0x663c2a);const _0x224495=this[_0x579864(0x183)];logger[_0x579864(0x16a)](_0x579864(0x212)+this[_0x579864(0x171)]),await _0x224495['managedClusters'][_0x579864(0x14d)](global_registry['cloudProviderResourceGroup'],this[_0x579864(0x171)]),logger[_0x579864(0x16a)](_0x4f5bda[_0x579864(0x1e7)]);}async[a1_0x3e260f(0x18e)](){const _0x39496d=a1_0x3e260f,_0x22ccb0={};_0x22ccb0['losoF']='Managed\x20identity\x20already\x20exists,\x20skipping',_0x22ccb0[_0x39496d(0x82)]=function(_0x54e23b,_0x4a2e8c){return _0x54e23b!==_0x4a2e8c;},_0x22ccb0[_0x39496d(0x113)]=_0x39496d(0x141),_0x22ccb0[_0x39496d(0x22e)]='PJaVj',_0x22ccb0[_0x39496d(0x175)]=function(_0x567bff,_0x46c112){return _0x567bff&&_0x46c112;},_0x22ccb0[_0x39496d(0x1d7)]=_0x39496d(0x1bb),_0x22ccb0['oAsCS']='ioKiO',_0x22ccb0['QufOs']=function(_0x44f283,_0x3d6244){return _0x44f283===_0x3d6244;},_0x22ccb0[_0x39496d(0x144)]=_0x39496d(0x1e4),_0x22ccb0[_0x39496d(0x169)]=_0x39496d(0x149),_0x22ccb0[_0x39496d(0x15a)]=function(_0x51a252,_0x24306b){return _0x51a252===_0x24306b;},_0x22ccb0[_0x39496d(0x95)]=_0x39496d(0xf0),_0x22ccb0[_0x39496d(0x90)]=_0x39496d(0x1f4),_0x22ccb0[_0x39496d(0x9a)]=_0x39496d(0x196),_0x22ccb0[_0x39496d(0x1c2)]=function(_0x50ce49,_0x581902){return _0x50ce49===_0x581902;},_0x22ccb0[_0x39496d(0x1cb)]=_0x39496d(0x195),_0x22ccb0['eBuxk']=_0x39496d(0x1b4),_0x22ccb0[_0x39496d(0xec)]=_0x39496d(0xd5);const _0x3c6970=_0x22ccb0;if(!this[_0x39496d(0x25c)]){if(_0x3c6970['ozjMC'](_0x3c6970[_0x39496d(0x113)],_0x3c6970['UMwPW']))await this[_0x39496d(0x199)]();else return!![];}const _0x2ff23a=this[_0x39496d(0x25c)],_0x120ee0=this[_0x39496d(0x25c)]?.[_0x39496d(0xbb)]?.['enabled']||![],_0x15ea4e=this[_0x39496d(0x25c)]?.[_0x39496d(0xb0)]?.['workloadIdentity']?.[_0x39496d(0x178)]||![],_0x24353c=!this[_0x39496d(0x25c)]?.[_0x39496d(0x18b)]||![];if(_0x3c6970[_0x39496d(0x175)](_0x120ee0,_0x15ea4e)&&_0x24353c){if(_0x3c6970[_0x39496d(0x82)](_0x3c6970[_0x39496d(0x1d7)],_0x3c6970['oAsCS']))return;else return[!![],_0x3ae34b];}if(!_0x120ee0){if(_0x3c6970['QufOs'](_0x3c6970[_0x39496d(0x144)],_0x3c6970['NzIOK'])){logger[_0x39496d(0x16a)](_0x3c6970['IiqMa']);const _0x1d6b90={};_0x1d6b90[_0x39496d(0x213)]=WS_EVENTS[_0x39496d(0xdd)],_0x1d6b90[_0x39496d(0x124)]=_0x3c6970['IiqMa'],this['webSocketUtils'][_0x39496d(0x1d8)](this[_0x39496d(0x1f3)],_0x1d6b90),_0x2ff23a['oidcIssuerProfile']['enabled']=!![];}else return _0x1b20cd[_0x39496d(0x20f)](_0x39496d(0xb3)+_0x3fab9a+_0x39496d(0x1fa)+_0xf77163),![];}if(!_0x15ea4e){if(_0x3c6970[_0x39496d(0x15a)](_0x3c6970[_0x39496d(0x95)],_0x3c6970[_0x39496d(0x90)]))return;else{logger[_0x39496d(0x16a)](_0x3c6970['uXABs']);const _0x32270b={};_0x32270b[_0x39496d(0x213)]=WS_EVENTS[_0x39496d(0xdd)],_0x32270b[_0x39496d(0x124)]=_0x3c6970['uXABs'],this[_0x39496d(0x25a)]['sendEventToBackend'](this[_0x39496d(0x1f3)],_0x32270b);const _0x216a76={};_0x216a76[_0x39496d(0x178)]=!![],_0x2ff23a['securityProfile']={'workloadIdentity':_0x216a76,..._0x2ff23a[_0x39496d(0xb0)]};}}if(!_0x24353c){if(_0x3c6970[_0x39496d(0x1c2)](_0x3c6970[_0x39496d(0x1cb)],_0x3c6970[_0x39496d(0x24f)]))_0x6c511f[_0x39496d(0x16a)](_0x3c6970['losoF']);else{logger['info'](_0x3c6970[_0x39496d(0xec)]);const _0xf9fc7b={};_0xf9fc7b[_0x39496d(0x213)]=WS_EVENTS[_0x39496d(0xdd)],_0xf9fc7b[_0x39496d(0x124)]=_0x3c6970[_0x39496d(0xec)],this[_0x39496d(0x25a)][_0x39496d(0x1d8)](this[_0x39496d(0x1f3)],_0xf9fc7b),_0x2ff23a[_0x39496d(0x18b)]=![];}}await this[_0x39496d(0x183)][_0x39496d(0x22c)][_0x39496d(0x143)](global_registry['cloudProviderResourceGroup'],this['clusterName'],_0x2ff23a),await this[_0x39496d(0x199)]();}async[a1_0x3e260f(0x11f)](){const _0x45da00=a1_0x3e260f,_0x418649={};_0x418649[_0x45da00(0xb6)]=function(_0x468fd5,_0x3e8750){return _0x468fd5!==_0x3e8750;},_0x418649[_0x45da00(0x91)]=_0x45da00(0x9f);const _0x3e1c0b=_0x418649,_0x39a684=await this[_0x45da00(0x152)][_0x45da00(0x93)][_0x45da00(0x1db)](global_registry[_0x45da00(0x1ad)]),_0xb17902={};_0xb17902['username']=global_registry['bstackUsername'],_0xb17902[_0x45da00(0x1ef)]=global_registry['bstackAccesskey'],_0xb17902[_0x45da00(0x1ba)]=AZURE,_0xb17902['vpcInfo']=[];const _0x45285c=_0xb17902;for await(const _0x4eb965 of _0x39a684){_0x3e1c0b[_0x45da00(0xb6)](_0x3e1c0b['JaUSu'],_0x3e1c0b[_0x45da00(0x91)])?_0x161c7f[_0x45da00(0x206)](_0xd31f83):_0x45285c[_0x45da00(0x1ff)][_0x45da00(0x206)](_0x4eb965);}const _0x4e1f4a={};_0x4e1f4a[_0x45da00(0x213)]=WS_EVENTS[_0x45da00(0xdd)],_0x4e1f4a[_0x45da00(0x124)]=_0x45285c,this['webSocketUtils'][_0x45da00(0x1d8)](this[_0x45da00(0x1f3)],_0x4e1f4a);}async['isVPCPresent'](_0x1d990c){const _0x47010b=a1_0x3e260f,_0x4e0ec8={};_0x4e0ec8[_0x47010b(0x8d)]='Storage\x20account\x20already\x20exists,\x20skipping',_0x4e0ec8[_0x47010b(0x216)]=function(_0x2fddd8,_0x5b52ed){return _0x2fddd8+_0x5b52ed;},_0x4e0ec8[_0x47010b(0xf6)]=function(_0x49ae88,_0x479ef9){return _0x49ae88===_0x479ef9;},_0x4e0ec8[_0x47010b(0x1cf)]=_0x47010b(0x94),_0x4e0ec8[_0x47010b(0x25f)]=function(_0x1ebb50,_0x25b692){return _0x1ebb50!==_0x25b692;},_0x4e0ec8[_0x47010b(0x16b)]=_0x47010b(0x1cc),_0x4e0ec8['Nngiy']=_0x47010b(0x26d),_0x4e0ec8[_0x47010b(0x1b1)]=function(_0x4ada34,_0x3ed742){return _0x4ada34===_0x3ed742;},_0x4e0ec8['erJmP']=function(_0x3179f3,_0x19e1d5){return _0x3179f3===_0x19e1d5;},_0x4e0ec8[_0x47010b(0x10e)]=_0x47010b(0x117),_0x4e0ec8[_0x47010b(0x12c)]=function(_0x42b4d1,_0x47fea0){return _0x42b4d1!==_0x47fea0;},_0x4e0ec8['JwORg']='DEjfE';const _0x23248a=_0x4e0ec8;try{if(_0x23248a[_0x47010b(0xf6)](_0x23248a['WvgBI'],_0x23248a[_0x47010b(0x1cf)])){const _0x276a00=await this[_0x47010b(0x152)][_0x47010b(0x93)][_0x47010b(0x1db)](global_registry[_0x47010b(0x1ad)]);for await(const _0x423c67 of _0x276a00){if(_0x23248a[_0x47010b(0x25f)](_0x23248a[_0x47010b(0x16b)],_0x23248a[_0x47010b(0x9b)])){if(_0x23248a[_0x47010b(0x1b1)](_0x423c67[_0x47010b(0xcd)],_0x1d990c)){if(_0x23248a[_0x47010b(0x1aa)](_0x23248a[_0x47010b(0x10e)],_0x23248a['KOuSq']))return!![];else _0x557cf4['push'](_0x146b11);}}else return!![];}}else _0x359c64['info'](_0x23248a[_0x47010b(0x8d)]);}catch(_0x349476){if(_0x23248a[_0x47010b(0x12c)](_0x23248a[_0x47010b(0x266)],_0x23248a[_0x47010b(0x266)]))_0x2f216c['log']('['+_0x23248a[_0x47010b(0x216)](_0x151046,0x1)+']\x20'+_0x4471be[_0x4681c2]);else return logger[_0x47010b(0x20f)]('Cannot\x20find\x20VPC\x20'+_0x1d990c+_0x47010b(0x1fa)+_0x349476),![];}return![];}async[a1_0x3e260f(0x15b)](_0x1375d1,_0x44f0a5){const _0x4cfa48=a1_0x3e260f,_0x36fa94={};_0x36fa94[_0x4cfa48(0x16d)]=function(_0x5271c1,_0x1b7404){return _0x5271c1!==_0x1b7404;},_0x36fa94['KKYXG']=_0x4cfa48(0x140),_0x36fa94[_0x4cfa48(0x194)]='hZcxS',_0x36fa94['WOOgz']=function(_0x52bb37,_0x573c4e){return _0x52bb37===_0x573c4e;},_0x36fa94[_0x4cfa48(0x21a)]=_0x4cfa48(0xe3);const _0x2f6e9f=_0x36fa94;try{if(_0x2f6e9f['NiwUm'](_0x2f6e9f[_0x4cfa48(0x1e1)],_0x2f6e9f['tsEuh'])){const _0x47af77=await this[_0x4cfa48(0x152)]['subnets'][_0x4cfa48(0xae)](global_registry[_0x4cfa48(0x1ad)],_0x44f0a5,_0x1375d1[0x0]);if(_0x2f6e9f[_0x4cfa48(0x11c)](_0x1375d1[0x0],_0x47af77['name']))return _0x2f6e9f[_0x4cfa48(0x11c)](_0x2f6e9f['gXgjh'],_0x2f6e9f[_0x4cfa48(0x21a)])?[!![],_0x1375d1]:!![];}else{const _0x553f52=new _0xee0bb8(_0x2e823e['cloudProviderTenantId'],_0xd0f81e[_0x4cfa48(0xb2)],_0x3131bf[_0x4cfa48(0xf5)]);this[_0x4cfa48(0x183)]=new _0x1c32cc(_0x553f52,_0x825265[_0x4cfa48(0x21c)]),this['storageClient']=new _0x58214b(_0x553f52,_0x28e9d8[_0x4cfa48(0x21c)]),this[_0x4cfa48(0x263)]=new _0x578524(_0x553f52,_0x3ccbc4[_0x4cfa48(0x21c)]),this[_0x4cfa48(0x152)]=new _0x373722(_0x553f52,_0x404e0e[_0x4cfa48(0x21c)]),this[_0x4cfa48(0x9c)]=new _0x4db480(_0x553f52,_0x231bfb[_0x4cfa48(0x21c)]),this[_0x4cfa48(0x207)]=_0x553f52;}}catch(_0x24bc6a){return logger[_0x4cfa48(0x20f)](_0x4cfa48(0x214)+_0x1375d1+_0x4cfa48(0x108)+_0x24bc6a),[![],[]];}return[![],[]];}async[a1_0x3e260f(0x11d)](){const _0x450bc9=a1_0x3e260f,_0x1051ab={};_0x1051ab[_0x450bc9(0x1a0)]=_0x450bc9(0x208);const _0x5c1e55=_0x1051ab,_0x434167={};_0x434167[_0x450bc9(0x26e)]=!![],_0x434167[_0x450bc9(0x20f)]=null,_0x434167[_0x450bc9(0xd2)]=_0x5c1e55[_0x450bc9(0x1a0)];const _0x4c4378=_0x434167;return _0x4c4378;}async['getHeader'](){const _0x59f6a1=a1_0x3e260f,_0x3a1851={};_0x3a1851[_0x59f6a1(0x1f9)]=_0x59f6a1(0x1fe),_0x3a1851[_0x59f6a1(0x84)]=_0x59f6a1(0x1ac),_0x3a1851[_0x59f6a1(0x1f1)]=_0x59f6a1(0x231);const _0x34b0d0=_0x3a1851,_0x253d08=await this[_0x59f6a1(0x207)][_0x59f6a1(0x1da)](_0x34b0d0[_0x59f6a1(0x1f9)]),_0x433121={};_0x433121[_0x59f6a1(0x1e8)]=_0x34b0d0[_0x59f6a1(0x84)],_0x433121[_0x59f6a1(0x20c)]={},_0x433121[_0x59f6a1(0x20c)][_0x59f6a1(0x1d4)]=_0x59f6a1(0x1b9)+_0x253d08[_0x59f6a1(0x11a)],_0x433121[_0x59f6a1(0x20c)]['Content-Type']=_0x34b0d0[_0x59f6a1(0x1f1)];const _0x19ad76=_0x433121;return _0x19ad76;}async[a1_0x3e260f(0xce)](_0x460a95){const _0x431a26=a1_0x3e260f,_0x388d67={'fDcoM':function(_0x2012f5,_0xf26d74,_0x4f093f){return _0x2012f5(_0xf26d74,_0x4f093f);},'LnODT':function(_0x308af5,_0x312e1c){return _0x308af5===_0x312e1c;},'Osfgs':_0x431a26(0x25b)},_0x2df8a4={};_0x2df8a4[_0x431a26(0x13d)]='',_0x2df8a4[_0x431a26(0x20f)]=null;const _0x5a1794=_0x2df8a4;try{const _0x5274cb='https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27'+_0x460a95+'\x27',_0x31543b=await this[_0x431a26(0xa0)](),_0x227862=await _0x388d67['fDcoM'](fetch,_0x5274cb,_0x31543b),_0x5ea131=await _0x227862[_0x431a26(0xfe)]();if(!_0x5ea131[_0x431a26(0xa2)]||_0x388d67[_0x431a26(0x24a)](_0x5ea131[_0x431a26(0xa2)][_0x431a26(0x11b)],0x0))throw new Error(_0x388d67['Osfgs'],'Received\x20response\x20-\x20'+JSON[_0x431a26(0x186)](_0x5ea131));_0x5a1794[_0x431a26(0x13d)]=_0x5ea131['value'][0x0]['id'];}catch(_0x778b31){_0x5a1794['error']=_0x778b31;}return _0x5a1794;}async['checkAccess'](){const _0x3e09c9=a1_0x3e260f,_0x27e55d={};_0x27e55d['kIJPA']=_0x3e09c9(0x1d5),_0x27e55d[_0x3e09c9(0x118)]=_0x3e09c9(0x1df),_0x27e55d[_0x3e09c9(0x18a)]=function(_0x188b59,_0x1a618e){return _0x188b59!==_0x1a618e;},_0x27e55d['QqRTH']=function(_0x6d1368,_0x444b55){return _0x6d1368===_0x444b55;},_0x27e55d[_0x3e09c9(0x1be)]=_0x3e09c9(0x19a),_0x27e55d[_0x3e09c9(0xf4)]=function(_0x422886,_0x44a260){return _0x422886===_0x44a260;},_0x27e55d[_0x3e09c9(0x20a)]='No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles',_0x27e55d[_0x3e09c9(0x135)]='Action\x20permission\x20list\x20is\x20empty\x0a';const _0x25a8f3=_0x27e55d,_0x5605f5={};_0x5605f5[_0x3e09c9(0x26e)]=![],_0x5605f5[_0x3e09c9(0x20f)]=null,_0x5605f5['data']='';const _0x200506=_0x5605f5;try{let _0xff4e04='';const _0x5f5c39=_0x3e09c9(0x17c)+global_registry[_0x3e09c9(0x21c)]+_0x3e09c9(0xb1)+global_registry[_0x3e09c9(0x1ad)],_0x55c8ce=await this[_0x3e09c9(0xce)](global_registry[_0x3e09c9(0xb2)]);if(_0x25a8f3[_0x3e09c9(0x18a)](_0x55c8ce[_0x3e09c9(0x20f)],null))return _0x200506[_0x3e09c9(0x20f)]=_0x55c8ce[_0x3e09c9(0x20f)],_0x200506;const _0x5363a8=_0x3e09c9(0x240)+_0x55c8ce[_0x3e09c9(0x13d)]+'\x27)',_0x272d48={};_0x272d48[_0x3e09c9(0x1bf)]=_0x5363a8;const _0x28610e=await this[_0x3e09c9(0x9c)]['roleAssignments'][_0x3e09c9(0x177)](_0x5f5c39,_0x272d48),_0x4c0f6b=[];for await(const _0x7af0a5 of _0x28610e){_0x4c0f6b[_0x3e09c9(0x206)](_0x7af0a5);}if(_0x25a8f3[_0x3e09c9(0x243)](_0x4c0f6b[_0x3e09c9(0x11b)],0x0))return _0x200506[_0x3e09c9(0xd2)]=_0x25a8f3[_0x3e09c9(0x1be)],_0x200506;const _0xb74c00=[...new Set(_0x4c0f6b['map'](_0x228196=>_0x228196['roleDefinitionId']))];if(_0x25a8f3[_0x3e09c9(0xf4)](_0xb74c00[_0x3e09c9(0x11b)],0x0))return _0x200506[_0x3e09c9(0xd2)]=_0x25a8f3['DdgdZ'],_0x200506;const _0x936d13=[],_0x2596b6=[];for(const _0x47a984 of _0xb74c00){const _0x2e5a92=await this[_0x3e09c9(0x9c)][_0x3e09c9(0x13a)][_0x3e09c9(0x153)](_0x47a984);logger[_0x3e09c9(0x1f8)](_0x3e09c9(0x11e)+_0x2e5a92[_0x3e09c9(0x21d)]),_0x936d13[_0x3e09c9(0x206)](_0x2e5a92),logger[_0x3e09c9(0x1f8)]('Attached\x20permissions\x20:\x20'+JSON[_0x3e09c9(0x186)](_0x2e5a92[_0x3e09c9(0x136)])),_0x2e5a92[_0x3e09c9(0x136)][_0x3e09c9(0x185)](_0xe8326f=>{const _0x2f86c7=_0x3e09c9;_0x2596b6[_0x2f86c7(0x206)](..._0xe8326f[_0x2f86c7(0x110)]);});}logger[_0x3e09c9(0x1f8)](_0x3e09c9(0x1af)+JSON['stringify'](_0x2596b6)),_0x25a8f3[_0x3e09c9(0x243)](_0x2596b6[_0x3e09c9(0x11b)],0x0)&&(_0xff4e04+=_0x25a8f3['alaVS'](_0x2596b6[_0x3e09c9(0x11b)],0x0)?_0x25a8f3['sEUpu']:'',logger[_0x3e09c9(0x1f8)]('Role\x20definition\x20response\x20list\x20\x20:\x20\x20'+JSON['stringify'](_0x936d13))),_0x200506['status']=!![],Object[_0x3e09c9(0x1d2)](PERMISSIONS[_0x3e09c9(0x1c3)])[_0x3e09c9(0x185)](([_0x260fda,_0x26f884])=>{const _0x440185=_0x3e09c9,_0x23e19f=_0x2596b6['includes'](_0x260fda);_0xff4e04+='\x0a\x09'+_0x26f884+':\x20'+(_0x23e19f?_0x25a8f3[_0x440185(0x259)]:_0x25a8f3[_0x440185(0x118)]),!_0x23e19f&&(_0x200506[_0x440185(0x26e)]=![]);}),_0x200506[_0x3e09c9(0xd2)]=_0xff4e04;}catch(_0x207bcb){_0x200506['error']=_0x207bcb;}return _0x200506;}}const a1_0x50af47={};a1_0x50af47[a1_0x3e260f(0x1b3)]=AzureCloudProvider,module[a1_0x3e260f(0x253)]=a1_0x50af47;