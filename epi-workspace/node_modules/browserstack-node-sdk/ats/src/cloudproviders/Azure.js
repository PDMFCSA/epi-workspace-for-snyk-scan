const a1_0x47db6f=a1_0x20c2;(function(_0x1fd859,_0x4b2c8f){const _0x138ddc=a1_0x20c2,_0x1bb021=_0x1fd859();while(!![]){try{const _0x520b9b=-parseInt(_0x138ddc(0x275))/0x1*(-parseInt(_0x138ddc(0x1c6))/0x2)+parseInt(_0x138ddc(0x360))/0x3+-parseInt(_0x138ddc(0x1af))/0x4+parseInt(_0x138ddc(0x2c2))/0x5+-parseInt(_0x138ddc(0x266))/0x6*(parseInt(_0x138ddc(0x26d))/0x7)+parseInt(_0x138ddc(0x1d6))/0x8+parseInt(_0x138ddc(0x1e2))/0x9*(-parseInt(_0x138ddc(0x2e0))/0xa);if(_0x520b9b===_0x4b2c8f)break;else _0x1bb021['push'](_0x1bb021['shift']());}catch(_0x1d68cb){_0x1bb021['push'](_0x1bb021['shift']());}}}(a1_0x78d6,0x5d02e));const fs=require('fs'),path=require(a1_0x47db6f(0x30c)),yaml=require('js-yaml'),{logger}=require(a1_0x47db6f(0x326)),{CloudProvider}=require(a1_0x47db6f(0x1cf)),{deleteRoutingDeps,deleteAgent}=require('../utils/gridComponents'),{AZURE,WS_EVENTS,global_registry}=require(a1_0x47db6f(0x223)),PERMISSIONS=require(a1_0x47db6f(0x312)),{ClientSecretCredential}=require(a1_0x47db6f(0x19f)),{NetworkManagementClient}=require(a1_0x47db6f(0x1ef)),{StorageManagementClient}=require(a1_0x47db6f(0x1b4)),{AuthorizationManagementClient}=require(a1_0x47db6f(0x297)),{ResourceManagementClient}=require(a1_0x47db6f(0x33c)),{ContainerServiceClient}=require('@azure/arm-containerservice'),{runCommand}=require(a1_0x47db6f(0x2d1));class AzureCloudProvider extends CloudProvider{constructor(_0x59ca74,_0x5af03f,_0x2b614b,_0x5d0fbf){const _0x58b425=a1_0x47db6f,_0x83381a={};_0x83381a[_0x58b425(0x35c)]=_0x58b425(0x21d);const _0x1d6d8e=_0x83381a,_0x28296e=_0x1d6d8e[_0x58b425(0x35c)][_0x58b425(0x196)]('|');let _0x4da8fb=0x0;while(!![]){switch(_0x28296e[_0x4da8fb++]){case'0':this[_0x58b425(0x1c5)]=null;continue;case'1':this['clusterInfo']=null;continue;case'2':super(AZURE,_0x59ca74,_0x5af03f,_0x2b614b,_0x5d0fbf);continue;case'3':this[_0x58b425(0x1f9)]=null;continue;case'4':this[_0x58b425(0x270)]=null;continue;case'5':this[_0x58b425(0x30b)]=null;continue;case'6':this[_0x58b425(0x344)]=null;continue;case'7':this[_0x58b425(0x2ea)]=null;continue;}break;}}async[a1_0x47db6f(0x366)](){const _0x5e7ed1=a1_0x47db6f;return await super[_0x5e7ed1(0x366)](),this;}['setClients'](){const _0x2f5957=a1_0x47db6f,_0x36bdb3=new ClientSecretCredential(global_registry[_0x2f5957(0x1e0)],global_registry['cloudProviderClientId'],global_registry[_0x2f5957(0x2fa)]);this['containerClient']=new ContainerServiceClient(_0x36bdb3,global_registry['cloudProviderSubscriptionId']),this[_0x2f5957(0x30b)]=new StorageManagementClient(_0x36bdb3,global_registry[_0x2f5957(0x215)]),this['resourceClient']=new ResourceManagementClient(_0x36bdb3,global_registry[_0x2f5957(0x215)]),this[_0x2f5957(0x344)]=new NetworkManagementClient(_0x36bdb3,global_registry[_0x2f5957(0x215)]),this[_0x2f5957(0x2ea)]=new AuthorizationManagementClient(_0x36bdb3,global_registry[_0x2f5957(0x215)]),this[_0x2f5957(0x270)]=_0x36bdb3;}[a1_0x47db6f(0x1ed)](){const _0x434e2d=a1_0x47db6f,_0x43243d={};_0x43243d[_0x434e2d(0x2d5)]=function(_0xbdaf44,_0x440b72){return _0xbdaf44+_0x440b72;},_0x43243d[_0x434e2d(0x259)]=_0x434e2d(0x2e7),_0x43243d[_0x434e2d(0x27f)]=function(_0x30fe8f,_0x2e4607){return _0x30fe8f-_0x2e4607;};const _0x178937=_0x43243d,_0x56e035=global_registry['s3Bucket'][_0x434e2d(0x196)]('-'),_0x4538e0=_0x178937[_0x434e2d(0x2d5)](_0x178937[_0x434e2d(0x259)],_0x56e035[_0x178937[_0x434e2d(0x27f)](_0x56e035['length'],0x1)])[_0x434e2d(0x28c)](0x0,0x18);return _0x4538e0[_0x434e2d(0x1dd)]();}['setCachedCredsInRegistry'](_0x3c881f){const _0x36ffc4=a1_0x47db6f,_0x5758ff={};_0x5758ff['kYVKG']='0|1|3|5|2|4';const _0x51119e=_0x5758ff,_0x2f35da=_0x51119e[_0x36ffc4(0x28d)][_0x36ffc4(0x196)]('|');let _0x1f2e4b=0x0;while(!![]){switch(_0x2f35da[_0x1f2e4b++]){case'0':global_registry[_0x36ffc4(0x230)]=_0x3c881f[this[_0x36ffc4(0x24b)]][_0x36ffc4(0x240)];continue;case'1':global_registry[_0x36ffc4(0x2fa)]=_0x3c881f[this[_0x36ffc4(0x24b)]][_0x36ffc4(0x232)];continue;case'2':global_registry['cloudProviderResourceGroup']=_0x3c881f[this[_0x36ffc4(0x24b)]][_0x36ffc4(0x2bf)];continue;case'3':global_registry['cloudProviderTenantId']=_0x3c881f[this[_0x36ffc4(0x24b)]][_0x36ffc4(0x325)];continue;case'4':this['setClients']();continue;case'5':global_registry[_0x36ffc4(0x215)]=_0x3c881f[this[_0x36ffc4(0x24b)]][_0x36ffc4(0x29d)];continue;}break;}}async[a1_0x47db6f(0x343)](_0x5a4cf8,_0x9ea6f){const _0xeb0f7f=a1_0x47db6f,_0x345792={'Dbrrm':_0xeb0f7f(0x2fd),'PEvxL':_0xeb0f7f(0x236),'PhVnM':function(_0x5233c5,_0x52fe11){return _0x5233c5+_0x52fe11;},'sjdJC':_0xeb0f7f(0x2e7),'PyKoB':function(_0x3555a9,_0x55e170){return _0x3555a9-_0x55e170;},'Cqwfn':function(_0x3aeca8,_0x49cf10){return _0x3aeca8(_0x49cf10);},'cQIDZ':function(_0x40243e,_0x11312e){return _0x40243e===_0x11312e;},'soGSm':_0xeb0f7f(0x21e),'wgQty':_0xeb0f7f(0x23f),'pcAAa':function(_0xf6b4af,_0x5b2c81){return _0xf6b4af(_0x5b2c81);},'ZcWFs':function(_0x30b27b,_0x113685){return _0x30b27b!==_0x113685;},'tYffy':_0xeb0f7f(0x373),'SDGnB':function(_0x28acb3,_0x49fb24){return _0x28acb3(_0x49fb24);},'AFMQH':_0xeb0f7f(0x195),'mTQxJ':'dnusx','MWpmI':'Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','TMjsM':function(_0x22c17e,_0x413928){return _0x22c17e===_0x413928;},'PIfNv':function(_0x1bcc0b,_0x134f89){return _0x1bcc0b===_0x134f89;},'MFEim':_0xeb0f7f(0x2eb),'kDbRM':_0xeb0f7f(0x2a2),'TvLlm':_0xeb0f7f(0x340),'oFPbv':_0xeb0f7f(0x36a),'oRzzT':function(_0x19d6f0,_0xf3d59e){return _0x19d6f0<_0xf3d59e;},'TRptl':_0xeb0f7f(0x2ee),'Jvodr':function(_0x18d04d,_0xdc427e){return _0x18d04d(_0xdc427e);},'XKumJ':_0xeb0f7f(0x1c1),'vKXvw':function(_0x5820f5,_0x1857ae){return _0x5820f5(_0x1857ae);},'GmVhU':function(_0x2aa978,_0x1da211){return _0x2aa978<=_0x1da211;},'qIuSc':function(_0x4ea0e4,_0x4de7c3){return _0x4ea0e4>_0x4de7c3;},'flYuA':function(_0x36f6dc,_0x17757f){return _0x36f6dc!==_0x17757f;},'waUGh':_0xeb0f7f(0x318)},_0x58213d=this[_0xeb0f7f(0x24b)][_0xeb0f7f(0x2f8)](),_0x3e28f0=await _0x345792[_0xeb0f7f(0x2cd)](_0x5a4cf8,_0x58213d+'\x20CLIENT\x20ID:\x20'),_0x4c067b=await _0x345792[_0xeb0f7f(0x2cd)](_0x5a4cf8,_0x58213d+'\x20CLIENT\x20SECRET:\x20'),_0x3d6547=await _0x345792[_0xeb0f7f(0x2cd)](_0x5a4cf8,_0x58213d+_0xeb0f7f(0x29e)),_0x4d0a56=await _0x345792[_0xeb0f7f(0x2cd)](_0x5a4cf8,_0x58213d+_0xeb0f7f(0x293));global_registry[_0xeb0f7f(0x230)]=_0x3e28f0,global_registry[_0xeb0f7f(0x2fa)]=_0x4c067b,global_registry[_0xeb0f7f(0x1e0)]=_0x3d6547,global_registry[_0xeb0f7f(0x215)]=_0x4d0a56,this[_0xeb0f7f(0x268)]();const _0x35fdab=await this['getResourceGroups'](),_0x3c06aa=_0x35fdab['length'];let _0x8aa8f0;if(_0x345792[_0xeb0f7f(0x34e)](_0x3c06aa,0x0)){if(_0x345792['cQIDZ'](_0x345792[_0xeb0f7f(0x20c)],_0x345792[_0xeb0f7f(0x246)])){const _0x3f803f=_0x3bfc47['includes'](_0x2a2e3a);_0x1d8c98+='\x0a\x09'+_0x302e6a+':\x20'+(_0x3f803f?_0x345792[_0xeb0f7f(0x357)]:_0x345792[_0xeb0f7f(0x2b9)]),!_0x3f803f&&(_0xc4562d[_0xeb0f7f(0x1f4)]=![]);}else _0x8aa8f0=await _0x345792['pcAAa'](_0x5a4cf8,_0x58213d+_0xeb0f7f(0x314));}else{if(_0x345792[_0xeb0f7f(0x34e)](_0x3c06aa,0x1)){if(_0x345792[_0xeb0f7f(0x361)](_0x345792['tYffy'],_0x345792[_0xeb0f7f(0x1a6)])){const _0x164fe8=_0x292d90[_0xeb0f7f(0x35e)][_0xeb0f7f(0x196)]('-'),_0xdf3a7c=_0x345792[_0xeb0f7f(0x191)](_0x345792[_0xeb0f7f(0x2ba)],_0x164fe8[_0x345792[_0xeb0f7f(0x244)](_0x164fe8[_0xeb0f7f(0x1a4)],0x1)])['slice'](0x0,0x18);return _0xdf3a7c[_0xeb0f7f(0x1dd)]();}else{const _0x134f1=await _0x345792[_0xeb0f7f(0x1e5)](_0x5a4cf8,_0xeb0f7f(0x26f)+_0x35fdab[0x0]+_0xeb0f7f(0x1f6));(_0x345792[_0xeb0f7f(0x34e)](_0x134f1,undefined)||_0x345792[_0xeb0f7f(0x34e)](_0x134f1,null)||!(_0x345792[_0xeb0f7f(0x34e)](_0x134f1[_0xeb0f7f(0x1dd)](),'y')||_0x345792[_0xeb0f7f(0x34e)](_0x134f1['toLowerCase'](),'n')))&&(_0x345792['ZcWFs'](_0x345792[_0xeb0f7f(0x31c)],_0x345792[_0xeb0f7f(0x2bb)])?(console[_0xeb0f7f(0x2ff)](_0x345792[_0xeb0f7f(0x376)]),process[_0xeb0f7f(0x350)](0x1)):_0x46116d[_0xeb0f7f(0x2c5)][_0xeb0f7f(0x1b0)](_0x35109e)),_0x345792[_0xeb0f7f(0x18b)](_0x134f1[_0xeb0f7f(0x1dd)](),'n')&&(_0x345792[_0xeb0f7f(0x291)](_0x345792['MFEim'],_0x345792[_0xeb0f7f(0x306)])?_0x2fc902=_0x17e1b3['id']:process[_0xeb0f7f(0x350)](0x0)),_0x8aa8f0=_0x35fdab[0x0];}}else{if(_0x345792[_0xeb0f7f(0x291)](_0x345792[_0xeb0f7f(0x212)],_0x345792[_0xeb0f7f(0x2a0)]))return _0x5ccd10[_0xeb0f7f(0x2ff)]=_0x203f64[_0xeb0f7f(0x2ff)],_0x55368b;else{for(let _0x4d4fe3=0x0;_0x345792[_0xeb0f7f(0x253)](_0x4d4fe3,_0x35fdab[_0xeb0f7f(0x1a4)]);_0x4d4fe3+=0x1){_0x345792['ZcWFs'](_0x345792[_0xeb0f7f(0x2d6)],_0x345792[_0xeb0f7f(0x2d6)])?_0x2afccc['error']=_0x58dbe:console[_0xeb0f7f(0x27a)]('['+_0x345792['PhVnM'](_0x4d4fe3,0x1)+']\x20'+_0x35fdab[_0x4d4fe3]);}const _0x3bef66=await _0x345792[_0xeb0f7f(0x347)](_0x5a4cf8,_0x345792[_0xeb0f7f(0x1fc)]),_0x4f360a=_0x345792[_0xeb0f7f(0x2cd)](Number,_0x3bef66);if(_0x345792[_0xeb0f7f(0x2ab)](isNaN,_0x4f360a)||_0x345792['GmVhU'](_0x4f360a,0x0)||_0x345792['qIuSc'](_0x4f360a,_0x3c06aa)){if(_0x345792['flYuA'](_0x345792[_0xeb0f7f(0x245)],_0x345792['waUGh']))return!![];else console[_0xeb0f7f(0x2ff)](_0x345792[_0xeb0f7f(0x376)]),process[_0xeb0f7f(0x350)](0x1);}_0x8aa8f0=_0x35fdab[_0x345792[_0xeb0f7f(0x244)](_0x4f360a,0x1)];}}}global_registry[_0xeb0f7f(0x296)]=_0x8aa8f0;const _0x2918af={};return _0x2918af['clientId']=_0x3e28f0,_0x2918af[_0xeb0f7f(0x232)]=_0x4c067b,_0x2918af['tenantId']=_0x3d6547,_0x2918af[_0xeb0f7f(0x29d)]=_0x4d0a56,_0x2918af[_0xeb0f7f(0x2bf)]=_0x8aa8f0,_0x9ea6f['cloudProvider'][AZURE]=_0x2918af,_0x9ea6f;}async['getResourceGroups'](){const _0x8b657c=a1_0x47db6f,_0xfa712f={};_0xfa712f[_0x8b657c(0x2b4)]=function(_0x2c2e4e,_0x3b815f){return _0x2c2e4e!==_0x3b815f;},_0xfa712f[_0x8b657c(0x320)]=_0x8b657c(0x283),_0xfa712f[_0x8b657c(0x1ec)]=_0x8b657c(0x2a6),_0xfa712f['xKMKQ']=function(_0x462c44,_0x2d5d23){return _0x462c44===_0x2d5d23;},_0xfa712f[_0x8b657c(0x2cf)]=_0x8b657c(0x369),_0xfa712f['YFEuB']=_0x8b657c(0x2ca);const _0x2b21ae=_0xfa712f,_0x26c8d9=[];try{if(_0x2b21ae['OIwex'](_0x2b21ae['XzTnH'],_0x2b21ae[_0x8b657c(0x1ec)])){const _0x245a34=await this[_0x8b657c(0x1c5)][_0x8b657c(0x254)][_0x8b657c(0x289)]();for await(const _0x3baae2 of _0x245a34){if(_0x2b21ae['xKMKQ'](_0x2b21ae[_0x8b657c(0x2cf)],_0x2b21ae[_0x8b657c(0x358)]))return!![];else _0x26c8d9[_0x8b657c(0x1b0)](_0x3baae2['name']);}}else _0x50217b[_0x8b657c(0x1b0)](..._0x1e4726[_0x8b657c(0x2a7)]);}catch(_0x3b62bf){}return _0x26c8d9;}async[a1_0x47db6f(0x1a2)](){const _0x189e7b=a1_0x47db6f;return this[_0x189e7b(0x2dc)]=await this[_0x189e7b(0x1f9)]['managedClusters'][_0x189e7b(0x271)](global_registry[_0x189e7b(0x296)],this['clusterName']),this[_0x189e7b(0x2dc)];}async[a1_0x47db6f(0x1b3)](){const _0x45336b=a1_0x47db6f,_0x16804c=await this[_0x45336b(0x1f9)][_0x45336b(0x235)][_0x45336b(0x1ae)](global_registry[_0x45336b(0x296)],this[_0x45336b(0x25d)]),_0x24a53f=_0x16804c[_0x45336b(0x321)][0x0]['value']['toString']();return _0x24a53f;}[a1_0x47db6f(0x282)](_0x22e507){const _0x12a5c8=a1_0x47db6f;return _0x22e507[_0x12a5c8(0x1f4)][_0x12a5c8(0x2af)][_0x12a5c8(0x2bc)][0x0][_0x12a5c8(0x1de)];}async['isClusterPresent'](){const _0x3470c8=a1_0x47db6f,_0x4faaeb={};_0x4faaeb[_0x3470c8(0x1ad)]=_0x3470c8(0x272),_0x4faaeb[_0x3470c8(0x203)]=_0x3470c8(0x295),_0x4faaeb[_0x3470c8(0x2b6)]=function(_0x5d17b1,_0x3448cd){return _0x5d17b1===_0x3448cd;},_0x4faaeb[_0x3470c8(0x32b)]=_0x3470c8(0x367),_0x4faaeb['PtTJf']=_0x3470c8(0x1d2),_0x4faaeb['gtTwK']='xpzaN',_0x4faaeb[_0x3470c8(0x31d)]=_0x3470c8(0x28f),_0x4faaeb[_0x3470c8(0x210)]=function(_0x38ac79,_0x289949){return _0x38ac79===_0x289949;},_0x4faaeb['IJkmv']=_0x3470c8(0x363);const _0x353dfa=_0x4faaeb,_0x34cc86=new Array();for await(const _0x32dc77 of this['containerClient'][_0x3470c8(0x235)][_0x3470c8(0x1bd)](global_registry['cloudProviderResourceGroup'])){_0x353dfa['CMxvV'](_0x353dfa[_0x3470c8(0x32b)],_0x353dfa['PtTJf'])?_0x5f537a['info'](_0x353dfa[_0x3470c8(0x1ad)]):_0x34cc86[_0x3470c8(0x1b0)](_0x32dc77);}for await(const _0x2f3955 of _0x34cc86){if(_0x353dfa[_0x3470c8(0x2b6)](_0x353dfa[_0x3470c8(0x334)],_0x353dfa[_0x3470c8(0x31d)]))return _0x36c4ca[_0x3470c8(0x2ff)](_0x3470c8(0x273)+_0x2770ad+':'+_0x8a0aad[_0x3470c8(0x2c0)]),{};else{if(_0x353dfa['rFjuO'](_0x2f3955[_0x3470c8(0x25f)],this[_0x3470c8(0x25d)])){if(_0x353dfa[_0x3470c8(0x210)](_0x353dfa['IJkmv'],_0x353dfa['IJkmv']))return await this['getClusterInfo'](),!![];else{_0x332030[_0x3470c8(0x22a)](_0x353dfa['IeWxx']);const _0x2e0bd7={};_0x2e0bd7['type']=_0x310302[_0x3470c8(0x1b9)],_0x2e0bd7[_0x3470c8(0x2c7)]=_0x353dfa['IeWxx'],this[_0x3470c8(0x335)]['sendEventToBackend'](this[_0x3470c8(0x351)],_0x2e0bd7);const _0x2500bd={};_0x2500bd[_0x3470c8(0x1f3)]=!![];const _0x164d02={'workloadIdentity':_0x2500bd,..._0x47aca9[_0x3470c8(0x36e)]};_0x195627[_0x3470c8(0x36e)]=_0x164d02;}}}}return![];}async[a1_0x47db6f(0x280)](_0x115773=null,_0x4241f7=null){const _0x3b0087=a1_0x47db6f,_0x22b89e={};_0x22b89e['dUPje']=_0x3b0087(0x315),_0x22b89e[_0x3b0087(0x1f2)]='Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity';const _0x51ff85=_0x22b89e,_0x47e2eb=_0x51ff85['dUPje'][_0x3b0087(0x196)]('|');let _0x8c6321=0x0;while(!![]){switch(_0x47e2eb[_0x8c6321++]){case'0':return[_0x115773,_0x4241f7];case'1':this[_0x3b0087(0x35f)]();continue;case'2':const _0x356aa6={};_0x356aa6[_0x3b0087(0x2ac)]=WS_EVENTS[_0x3b0087(0x30a)],_0x356aa6[_0x3b0087(0x2c7)]=_0x51ff85['ZBUqn'],this[_0x3b0087(0x335)][_0x3b0087(0x333)](this['rws'],_0x356aa6);continue;case'3':logger[_0x3b0087(0x22a)](_0x51ff85[_0x3b0087(0x1f2)]);continue;case'4':await this['createCluster'](_0x115773,_0x4241f7);continue;case'5':await this[_0x3b0087(0x21f)]();continue;}break;}}async[a1_0x47db6f(0x239)](_0x2641c8=null,_0xd85d39=null){const _0x35a110=a1_0x47db6f,_0x1329da={};_0x1329da[_0x35a110(0x2de)]=_0x35a110(0x285),_0x1329da['EPTZW']=_0x35a110(0x368),_0x1329da[_0x35a110(0x24a)]='akscluster.json',_0x1329da['kRtvJ']='utf-8',_0x1329da[_0x35a110(0x313)]=_0x35a110(0x309),_0x1329da[_0x35a110(0x21a)]=_0x35a110(0x2e9),_0x1329da['DGDzj']=function(_0x5b2f32,_0x186307){return _0x5b2f32!==_0x186307;},_0x1329da[_0x35a110(0x22d)]=function(_0x1e219f,_0x231df9){return _0x1e219f!==_0x231df9;},_0x1329da[_0x35a110(0x2ae)]=function(_0xea2131,_0x14f403){return _0xea2131===_0x14f403;},_0x1329da[_0x35a110(0x1b7)]='qwyBU',_0x1329da[_0x35a110(0x1c2)]=_0x35a110(0x20a),_0x1329da[_0x35a110(0x29f)]=_0x35a110(0x2f4),_0x1329da[_0x35a110(0x264)]='Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.',_0x1329da['RmEWc']=_0x35a110(0x30e),_0x1329da[_0x35a110(0x2f1)]=_0x35a110(0x231),_0x1329da['fixTr']=_0x35a110(0x27c),_0x1329da[_0x35a110(0x18f)]='Incremental';const _0x5c8c2e=_0x1329da;let _0x80f243=await fs[_0x35a110(0x31a)](path[_0x35a110(0x1d9)](__dirname,'..',_0x5c8c2e[_0x35a110(0x2de)],_0x5c8c2e['EPTZW'],_0x5c8c2e[_0x35a110(0x24a)]),_0x5c8c2e[_0x35a110(0x33f)]);_0x80f243=JSON[_0x35a110(0x2e5)](_0x80f243);const _0x3183d6={};_0x3183d6['value']=this[_0x35a110(0x25d)];const _0x5b8a12={};_0x5b8a12['value']=global_registry[_0x35a110(0x36f)];const _0x42f399={};_0x42f399[_0x35a110(0x269)]=global_registry['instanceType'];const _0x10b92d={};_0x10b92d['value']=global_registry[_0x35a110(0x292)];const _0x353d74={};_0x353d74['value']=global_registry[_0x35a110(0x2b2)]?_0x5c8c2e['eLhNc']:_0x5c8c2e[_0x35a110(0x21a)];const _0x158b2d={};_0x158b2d[_0x35a110(0x25d)]=_0x3183d6,_0x158b2d['location']=_0x5b8a12,_0x158b2d[_0x35a110(0x224)]=_0x42f399,_0x158b2d[_0x35a110(0x1a5)]=_0x10b92d,_0x158b2d['clusterAutoUpgrade']=_0x353d74;let _0x2d1017=_0x158b2d;if(_0x5c8c2e[_0x35a110(0x2e6)](_0x2641c8,null)&&_0x5c8c2e[_0x35a110(0x22d)](_0xd85d39,null)){if(_0x5c8c2e[_0x35a110(0x2ae)](_0x5c8c2e[_0x35a110(0x1b7)],_0x5c8c2e[_0x35a110(0x1c2)]))return;else{const _0x3f0edb={};_0x3f0edb[_0x35a110(0x2ac)]=_0x5c8c2e[_0x35a110(0x29f)],_0x3f0edb[_0x35a110(0x2cc)]={},_0x3f0edb[_0x35a110(0x2cc)]['description']=_0x5c8c2e[_0x35a110(0x264)];const _0x32d5bd={};_0x32d5bd[_0x35a110(0x2ac)]=_0x5c8c2e[_0x35a110(0x29f)],_0x32d5bd[_0x35a110(0x2cc)]={},_0x32d5bd[_0x35a110(0x2cc)][_0x35a110(0x2b0)]=_0x5c8c2e['ENPKF'],_0x80f243[_0x35a110(0x34d)]={..._0x80f243[_0x35a110(0x34d)],'vpcName':_0x3f0edb,'subnetName':_0x32d5bd};const _0x51d8d9={};_0x51d8d9[_0x35a110(0x1a0)]=_0x5c8c2e[_0x35a110(0x1fa)],_0x80f243[_0x35a110(0x194)]=_0x51d8d9,_0x80f243[_0x35a110(0x20d)][0x0]['properties'][_0x35a110(0x19d)][0x0]={..._0x80f243['resources'][0x0]['properties'][_0x35a110(0x19d)][0x0],'vnetSubnetID':_0x5c8c2e['bDzal']};const _0x16d66b={};_0x16d66b[_0x35a110(0x269)]=_0x2641c8;const _0x2ed02f={};_0x2ed02f[_0x35a110(0x269)]=_0xd85d39[0x0],_0x2d1017={..._0x2d1017,'vpcName':_0x16d66b,'subnetName':_0x2ed02f};}}await this[_0x35a110(0x1c5)][_0x35a110(0x311)][_0x35a110(0x277)](global_registry[_0x35a110(0x296)],_0x5c8c2e[_0x35a110(0x319)],{'properties':{'template':_0x80f243,'mode':_0x5c8c2e[_0x35a110(0x18f)],'parameters':_0x2d1017}});}async[a1_0x47db6f(0x21f)](){const _0x2edfc8=a1_0x47db6f,_0xf16909={};_0xf16909[_0x2edfc8(0x2f9)]=_0x2edfc8(0x2d3),_0xf16909['IgVpc']=_0x2edfc8(0x25b),_0xf16909[_0x2edfc8(0x29a)]=function(_0x33d5d4,_0x2abacf){return _0x33d5d4!==_0x2abacf;},_0xf16909[_0x2edfc8(0x2d9)]=_0x2edfc8(0x28a),_0xf16909['otExM']=_0x2edfc8(0x214),_0xf16909[_0x2edfc8(0x33b)]=_0x2edfc8(0x213),_0xf16909[_0x2edfc8(0x23e)]=function(_0x5043e9,_0x35a2cf){return _0x5043e9!==_0x35a2cf;},_0xf16909[_0x2edfc8(0x249)]=_0x2edfc8(0x1ca),_0xf16909[_0x2edfc8(0x31f)]=function(_0x51d351,_0x1408c9){return _0x51d351===_0x1408c9;},_0xf16909[_0x2edfc8(0x287)]='RHWtC',_0xf16909[_0x2edfc8(0x1a8)]=_0x2edfc8(0x20b),_0xf16909[_0x2edfc8(0x304)]=function(_0x4145e9,_0x456d68){return _0x4145e9===_0x456d68;},_0xf16909[_0x2edfc8(0x2d8)]=_0x2edfc8(0x26a),_0xf16909[_0x2edfc8(0x21c)]=_0x2edfc8(0x272),_0xf16909[_0x2edfc8(0x294)]=_0x2edfc8(0x2be),_0xf16909[_0x2edfc8(0x288)]=_0x2edfc8(0x1c3);const _0x69c5ac=_0xf16909,_0x1dcf9e=await this[_0x2edfc8(0x22e)]();if(!_0x1dcf9e){if(_0x69c5ac[_0x2edfc8(0x29a)](_0x69c5ac['dmxZt'],_0x69c5ac['otExM'])){const _0x3b5bf6={};_0x3b5bf6[_0x2edfc8(0x2ac)]=WS_EVENTS['LOG'],_0x3b5bf6[_0x2edfc8(0x2c7)]=_0x69c5ac[_0x2edfc8(0x33b)],this['webSocketUtils'][_0x2edfc8(0x333)](this[_0x2edfc8(0x351)],_0x3b5bf6),logger[_0x2edfc8(0x22a)](_0x69c5ac[_0x2edfc8(0x33b)]),await this[_0x2edfc8(0x228)]();}else _0x53ffe5[_0x2edfc8(0x2ff)]=_0xc66684;}else{if(_0x69c5ac['bjTnW'](_0x69c5ac['CzcQY'],_0x69c5ac[_0x2edfc8(0x249)]))return _0x5ae6d3[_0x2edfc8(0x2c9)]=_0x69c5ac[_0x2edfc8(0x2f9)],_0x3b1ff4;else logger[_0x2edfc8(0x22a)](_0x69c5ac[_0x2edfc8(0x1f8)]);}const _0x554687=await this[_0x2edfc8(0x19b)]();if(!_0x554687){if(_0x69c5ac[_0x2edfc8(0x31f)](_0x69c5ac[_0x2edfc8(0x287)],_0x69c5ac[_0x2edfc8(0x287)])){const _0x37b47f={};_0x37b47f[_0x2edfc8(0x2ac)]=WS_EVENTS[_0x2edfc8(0x30a)],_0x37b47f['message']=_0x69c5ac[_0x2edfc8(0x1a8)],this['webSocketUtils'][_0x2edfc8(0x333)](this[_0x2edfc8(0x351)],_0x37b47f),logger[_0x2edfc8(0x22a)](_0x69c5ac[_0x2edfc8(0x1a8)]),await this[_0x2edfc8(0x2cb)]();}else return _0x1194be[_0x2edfc8(0x2ff)]('Cannot\x20find\x20subnets\x20'+_0x2d4c4b+'.\x20Error:\x20'+_0x36f623),[![],[]];}else _0x69c5ac[_0x2edfc8(0x304)](_0x69c5ac[_0x2edfc8(0x2d8)],_0x69c5ac[_0x2edfc8(0x2d8)])?logger[_0x2edfc8(0x22a)](_0x69c5ac[_0x2edfc8(0x21c)]):_0x1f7dfa['info'](_0x69c5ac[_0x2edfc8(0x1f8)]);logger[_0x2edfc8(0x22a)](_0x69c5ac['PoUAf']),await this[_0x2edfc8(0x2f0)](),logger[_0x2edfc8(0x22a)](_0x69c5ac[_0x2edfc8(0x288)]);}async[a1_0x47db6f(0x228)](){const _0x381c31=a1_0x47db6f,_0xcf9684={};_0xcf9684['AcvDC']=_0x381c31(0x285),_0xcf9684[_0x381c31(0x327)]=_0x381c31(0x368),_0xcf9684[_0x381c31(0x200)]='storageaccount.json',_0xcf9684[_0x381c31(0x218)]='utf-8',_0xcf9684[_0x381c31(0x1b8)]=_0x381c31(0x1ac),_0xcf9684[_0x381c31(0x35a)]='Incremental',_0xcf9684[_0x381c31(0x226)]=_0x381c31(0x1c9),_0xcf9684[_0x381c31(0x2c6)]=_0x381c31(0x2e2),_0xcf9684['NARzo']=_0x381c31(0x237),_0xcf9684[_0x381c31(0x342)]=_0x381c31(0x193);const _0x247434=_0xcf9684;let _0x2ac969=await fs[_0x381c31(0x31a)](path[_0x381c31(0x1d9)](__dirname,'..',_0x247434[_0x381c31(0x1cb)],_0x247434[_0x381c31(0x327)],_0x247434[_0x381c31(0x200)]),_0x247434[_0x381c31(0x218)]);_0x2ac969=JSON[_0x381c31(0x2e5)](_0x2ac969);const _0x4dcf08=this[_0x381c31(0x1ed)](),_0x4af181={};_0x4af181['value']=_0x4dcf08;const _0x568d6c={};_0x568d6c[_0x381c31(0x2a9)]=_0x4af181,await this[_0x381c31(0x1c5)][_0x381c31(0x311)][_0x381c31(0x277)](global_registry[_0x381c31(0x296)],_0x247434['tiBft'],{'properties':{'template':_0x2ac969,'mode':_0x247434[_0x381c31(0x35a)],'parameters':_0x568d6c}});const _0x41c7d1={};_0x41c7d1['daysAfterCreationGreaterThan']=0x3c;const _0x2dd289={};_0x2dd289[_0x381c31(0x1e1)]=_0x41c7d1;const _0x524cb6={};_0x524cb6[_0x381c31(0x36b)]=_0x2dd289;const _0x2e105c={};_0x2e105c[_0x381c31(0x1f3)]=!![],_0x2e105c[_0x381c31(0x25f)]=_0x247434[_0x381c31(0x226)],_0x2e105c['type']=_0x247434[_0x381c31(0x2c6)],_0x2e105c[_0x381c31(0x234)]={},_0x2e105c[_0x381c31(0x234)][_0x381c31(0x2a7)]=_0x524cb6,_0x2e105c[_0x381c31(0x234)][_0x381c31(0x359)]={},_0x2e105c[_0x381c31(0x234)][_0x381c31(0x359)]['blobTypes']=[_0x247434[_0x381c31(0x1ba)]];const _0x4e803e={};_0x4e803e[_0x381c31(0x345)]=[_0x2e105c];const _0x5897df={};_0x5897df['policy']=_0x4e803e;const _0x1194b8=_0x5897df;await this['storageClient']['managementPolicies'][_0x381c31(0x205)](global_registry[_0x381c31(0x296)],_0x4dcf08,_0x247434['RjOwT'],_0x1194b8);}async['createManagedIdentity'](){const _0x59a0d4=a1_0x47db6f,_0x419664={};_0x419664['JfBhQ']=_0x59a0d4(0x285),_0x419664[_0x59a0d4(0x36d)]='azureresources',_0x419664[_0x59a0d4(0x307)]=_0x59a0d4(0x221),_0x419664[_0x59a0d4(0x1b1)]=_0x59a0d4(0x217),_0x419664[_0x59a0d4(0x2ec)]='turboscale-identity-deployment',_0x419664[_0x59a0d4(0x32f)]='Incremental';const _0x37eef3=_0x419664;let _0x5a6a49=await fs[_0x59a0d4(0x31a)](path['join'](__dirname,'..',_0x37eef3[_0x59a0d4(0x31b)],_0x37eef3['CPjjJ'],_0x37eef3['LmJcG']),_0x37eef3[_0x59a0d4(0x1b1)]);_0x5a6a49=JSON[_0x59a0d4(0x2e5)](_0x5a6a49),await this[_0x59a0d4(0x1c5)][_0x59a0d4(0x311)][_0x59a0d4(0x277)](global_registry[_0x59a0d4(0x296)],_0x37eef3['HCJiW'],{'properties':{'template':_0x5a6a49,'mode':_0x37eef3[_0x59a0d4(0x32f)],'parameters':{'clusterName':{'value':this[_0x59a0d4(0x25d)]}}}});}async[a1_0x47db6f(0x2f0)](){const _0x37e306=a1_0x47db6f,_0x4581ff={};_0x4581ff[_0x37e306(0x2d4)]=function(_0x2fcfb8,_0x1b9a7b){return _0x2fcfb8!==_0x1b9a7b;},_0x4581ff['veZxH']=_0x37e306(0x2c8),_0x4581ff[_0x37e306(0x353)]='jsikY',_0x4581ff['NSrCS']='hub',_0x4581ff[_0x37e306(0x198)]='node',_0x4581ff[_0x37e306(0x207)]=function(_0x91ba8a,_0x294b3a){return _0x91ba8a!==_0x294b3a;},_0x4581ff[_0x37e306(0x265)]=_0x37e306(0x24d),_0x4581ff['hCNWN']=_0x37e306(0x317),_0x4581ff['vHnvc']=_0x37e306(0x285),_0x4581ff[_0x37e306(0x229)]=_0x37e306(0x368),_0x4581ff[_0x37e306(0x22c)]=_0x37e306(0x217),_0x4581ff[_0x37e306(0x2aa)]='turboscale-federated-deployment',_0x4581ff[_0x37e306(0x1da)]=_0x37e306(0x303);const _0x2a5977=_0x4581ff;!this[_0x37e306(0x2dc)]&&(_0x2a5977[_0x37e306(0x2d4)](_0x2a5977[_0x37e306(0x211)],_0x2a5977[_0x37e306(0x353)])?await this['getClusterInfo']():_0x198558[_0x37e306(0x1b0)](_0x41bfe1));const _0x2c65c6=this[_0x37e306(0x2dc)]?.[_0x37e306(0x2bd)]?.[_0x37e306(0x1fb)],_0x17e35a=[_0x2a5977['NSrCS'],_0x2a5977[_0x37e306(0x198)]];for await(const _0x5bfac5 of _0x17e35a){if(_0x2a5977['nhLrk'](_0x2a5977['NtMXk'],_0x2a5977[_0x37e306(0x1a3)])){let _0x170bc2=await fs[_0x37e306(0x31a)](path['join'](__dirname,'..',_0x2a5977[_0x37e306(0x33e)],_0x2a5977['NRRWk'],_0x37e306(0x27b)+_0x5bfac5+_0x37e306(0x1ee)),_0x2a5977[_0x37e306(0x22c)]);_0x170bc2=JSON['parse'](_0x170bc2);const _0x29cdcd={};_0x29cdcd[_0x37e306(0x269)]=_0x2c65c6,await this['resourceClient'][_0x37e306(0x311)][_0x37e306(0x277)](global_registry[_0x37e306(0x296)],_0x2a5977[_0x37e306(0x2aa)],{'properties':{'template':_0x170bc2,'mode':_0x2a5977[_0x37e306(0x1da)],'parameters':{'oidcIssuer':_0x29cdcd,'gridName':{'value':this[_0x37e306(0x21b)]},'clusterName':{'value':this[_0x37e306(0x25d)]}}}});}else _0x2a96cb[_0x37e306(0x1b0)](_0x9f3fa2);}}async[a1_0x47db6f(0x197)](_0x10e83f,_0x2ff209,_0x557a1b,_0x533376,_0x396c48){const _0x4dc2ec=a1_0x47db6f,_0x174a81={};_0x174a81['LJYus']='Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha',_0x174a81['iUOny']='Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha';const _0x15293c=_0x174a81,_0x22010d={};_0x22010d[_0x4dc2ec(0x2ac)]=WS_EVENTS[_0x4dc2ec(0x30a)],_0x22010d[_0x4dc2ec(0x2c7)]=_0x15293c[_0x4dc2ec(0x279)],this[_0x4dc2ec(0x335)][_0x4dc2ec(0x333)](this['rws'],_0x22010d),logger['info'](_0x15293c['LJYus']),await this[_0x4dc2ec(0x23b)]();const _0x44d8b9={};_0x44d8b9[_0x4dc2ec(0x2ac)]=WS_EVENTS[_0x4dc2ec(0x30a)],_0x44d8b9[_0x4dc2ec(0x2c7)]=_0x15293c['iUOny'],this[_0x4dc2ec(0x335)][_0x4dc2ec(0x333)](this[_0x4dc2ec(0x351)],_0x44d8b9);}async[a1_0x47db6f(0x23b)](){const _0x37b674=a1_0x47db6f,_0x3566a2={};_0x3566a2['MHhLE']=function(_0x3aeeda,_0x192b9e){return _0x3aeeda===_0x192b9e;},_0x3566a2[_0x37b674(0x276)]=_0x37b674(0x2fb),_0x3566a2[_0x37b674(0x190)]=_0x37b674(0x257),_0x3566a2[_0x37b674(0x1c0)]=_0x37b674(0x285),_0x3566a2[_0x37b674(0x1e9)]='hubharesources',_0x3566a2[_0x37b674(0x2fc)]=_0x37b674(0x260),_0x3566a2[_0x37b674(0x2f3)]=_0x37b674(0x217),_0x3566a2[_0x37b674(0x219)]='turboscale-federated-deployment',_0x3566a2['GvRPp']=_0x37b674(0x303);const _0xcbc2b8=_0x3566a2;!this[_0x37b674(0x2dc)]&&(_0xcbc2b8[_0x37b674(0x301)](_0xcbc2b8['Eidzo'],_0xcbc2b8['Bozpz'])?_0x4d010e[_0x37b674(0x1f4)]=![]:await this[_0x37b674(0x1a2)]());const _0x12269d=this['clusterInfo']?.[_0x37b674(0x2bd)]?.[_0x37b674(0x1fb)];let _0x467355=await fs['readFileAsync'](path['join'](__dirname,'..',_0xcbc2b8[_0x37b674(0x1c0)],_0xcbc2b8[_0x37b674(0x1e9)],_0xcbc2b8[_0x37b674(0x2fc)]),_0xcbc2b8[_0x37b674(0x2f3)]);_0x467355=JSON[_0x37b674(0x2e5)](_0x467355);const _0xe56094={};_0xe56094[_0x37b674(0x269)]=_0x12269d,await this['resourceClient'][_0x37b674(0x311)][_0x37b674(0x277)](global_registry['cloudProviderResourceGroup'],_0xcbc2b8[_0x37b674(0x219)],{'properties':{'template':_0x467355,'mode':_0xcbc2b8[_0x37b674(0x35d)],'parameters':{'oidcIssuer':_0xe56094,'namespace':{'value':global_registry[_0x37b674(0x201)]},'clusterName':{'value':this[_0x37b674(0x25d)]}}}});}async[a1_0x47db6f(0x22e)](){const _0xd57830=a1_0x47db6f,_0x3ff582={};_0x3ff582['SWqQp']=function(_0x26c4a2,_0x9a0afc){return _0x26c4a2===_0x9a0afc;},_0x3ff582['EJfJe']=_0xd57830(0x332),_0x3ff582[_0xd57830(0x204)]=function(_0x4b8bd0,_0x57fdc4){return _0x4b8bd0!==_0x57fdc4;},_0x3ff582[_0xd57830(0x2f7)]=_0xd57830(0x1a7),_0x3ff582[_0xd57830(0x281)]=function(_0x49cac4,_0xc855aa){return _0x49cac4!==_0xc855aa;},_0x3ff582['CoSEa']='vvvuH',_0x3ff582[_0xd57830(0x19e)]=_0xd57830(0x202),_0x3ff582[_0xd57830(0x1ff)]=function(_0x23e775,_0x22778f){return _0x23e775!==_0x22778f;},_0x3ff582[_0xd57830(0x27d)]=_0xd57830(0x1bf),_0x3ff582[_0xd57830(0x31e)]='aSpSr';const _0x5bfac9=_0x3ff582,_0x5222fe=this[_0xd57830(0x1ed)](),_0x491825=new Array();for await(const _0x2918a2 of this[_0xd57830(0x30b)]['storageAccounts'][_0xd57830(0x1bd)](global_registry[_0xd57830(0x296)])){_0x5bfac9['tiBiK'](_0x5bfac9[_0xd57830(0x2f7)],_0x5bfac9[_0xd57830(0x2f7)])?_0x5bfac9[_0xd57830(0x2b5)](_0x308f69[_0xd57830(0x25f)],_0x3940ad)&&(_0x2e242d=_0x2de19f['id']):_0x491825['push'](_0x2918a2);}for await(const _0xe34bd0 of _0x491825){if(_0x5bfac9[_0xd57830(0x281)](_0x5bfac9[_0xd57830(0x338)],_0x5bfac9[_0xd57830(0x19e)])){if(_0x5bfac9[_0xd57830(0x2b5)](_0xe34bd0[_0xd57830(0x25f)],_0x5222fe)){if(_0x5bfac9[_0xd57830(0x1ff)](_0x5bfac9[_0xd57830(0x27d)],_0x5bfac9['HkHMF']))return!![];else _0x494de3[_0xd57830(0x1b0)](_0x4071e2[_0xd57830(0x25f)]);}}else throw new _0x1d433e(_0x5bfac9[_0xd57830(0x1db)],'Received\x20response\x20-\x20'+_0x4b66a8['stringify'](_0x21317b));}return![];}async[a1_0x47db6f(0x19b)](){const _0x25d257=a1_0x47db6f,_0x143eb3={};_0x143eb3[_0x25d257(0x2ce)]=function(_0x2c5768,_0x35a338){return _0x2c5768===_0x35a338;},_0x143eb3['vjNis']=_0x25d257(0x1f1),_0x143eb3[_0x25d257(0x298)]=function(_0x51d85d,_0x41a680){return _0x51d85d!==_0x41a680;},_0x143eb3['HWLzk']='VzPmi',_0x143eb3[_0x25d257(0x19c)]='QmCpW',_0x143eb3[_0x25d257(0x26b)]=_0x25d257(0x2e8),_0x143eb3[_0x25d257(0x2ef)]=function(_0x886684,_0x7a0e99){return _0x886684===_0x7a0e99;},_0x143eb3[_0x25d257(0x341)]=_0x25d257(0x22f),_0x143eb3[_0x25d257(0x32a)]=_0x25d257(0x330);const _0x577423=_0x143eb3,_0x2b207b=new Array();for await(const _0x16a127 of this['resourceClient'][_0x25d257(0x20d)][_0x25d257(0x1bd)](global_registry['cloudProviderResourceGroup'])){_0x577423[_0x25d257(0x298)](_0x577423[_0x25d257(0x248)],_0x577423['SxxrN'])?_0x2b207b['push'](_0x16a127):_0x15334b[_0x25d257(0x1b0)](_0x21a9ea);}for await(const _0x7a8f7d of _0x2b207b){if(_0x577423[_0x25d257(0x2ce)](_0x577423[_0x25d257(0x26b)],_0x577423[_0x25d257(0x26b)])){if(_0x577423[_0x25d257(0x2ce)](_0x7a8f7d[_0x25d257(0x25f)],_0x25d257(0x25c)+this[_0x25d257(0x25d)])){if(_0x577423['CGRET'](_0x577423['XOMFx'],_0x577423[_0x25d257(0x32a)]))_0x28a36b+=_0x577423['ypHGw'](_0xefe23e[_0x25d257(0x1a4)],0x0)?_0x577423[_0x25d257(0x2e4)]:'',_0x512d14[_0x25d257(0x2b8)](_0x25d257(0x2d7)+_0x1f2c0a[_0x25d257(0x2b3)](_0x42dde8));else return!![];}}else return[!![],_0x287be7];}return![];}async[a1_0x47db6f(0x30d)](_0x3bec9f,_0x4e13b5=0x3){const _0x4b83da=a1_0x47db6f,_0x5e5f1e={'XfLBc':_0x4b83da(0x2df),'XmjWm':_0x4b83da(0x192),'uHOUN':_0x4b83da(0x2f4),'clntU':'Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','RvJii':_0x4b83da(0x30e),'ovcuA':_0x4b83da(0x231),'blmzk':function(_0x28f776,_0x1c2005){return _0x28f776===_0x1c2005;},'jrbUc':'xKpTI','tMPeY':_0x4b83da(0x375),'jjNjG':function(_0x361470,_0x437c83,_0x42f263){return _0x361470(_0x437c83,_0x42f263);},'MHKhA':_0x4b83da(0x274),'BBuwT':_0x4b83da(0x238),'rPFYV':function(_0x4fadba,_0x464e83){return _0x4fadba!==_0x464e83;},'hzUNa':_0x4b83da(0x324),'wLqoG':_0x4b83da(0x371),'rEzRs':function(_0xe588b5,_0x504aa4){return _0xe588b5===_0x504aa4;},'KrRnd':'jXdgH','ndhlv':'DgMJG','hHyLY':_0x4b83da(0x29b),'wkIFm':'2023-01-31','QHQTQ':_0x4b83da(0x24c),'vmtZX':function(_0x57d89e,_0x4dd62f){return _0x57d89e<=_0x4dd62f;},'giBqW':function(_0x488a13,_0x2fa3fa){return _0x488a13!==_0x2fa3fa;},'NNhvg':_0x4b83da(0x2ed),'mCivX':'ErSnG','GCOdf':function(_0x504cd7,_0x522d9b){return _0x504cd7-_0x522d9b;}};try{if(_0x5e5f1e[_0x4b83da(0x2e1)](_0x5e5f1e[_0x4b83da(0x1fe)],_0x5e5f1e[_0x4b83da(0x1b2)])){const _0x1721c8={};_0x1721c8[_0x4b83da(0x1f4)]=!![],_0x1721c8[_0x4b83da(0x2ff)]=null,_0x1721c8[_0x4b83da(0x2c9)]=_0x5e5f1e[_0x4b83da(0x2a4)];const _0x288437=_0x1721c8;return _0x288437;}else{const _0x4ec3c5=new Array();for await(const _0x2f48e1 of this[_0x4b83da(0x1c5)][_0x4b83da(0x20d)][_0x4b83da(0x1bd)](global_registry[_0x4b83da(0x296)])){_0x5e5f1e[_0x4b83da(0x354)](_0x5e5f1e[_0x4b83da(0x1e3)],_0x5e5f1e[_0x4b83da(0x2e3)])?_0x4ec3c5[_0x4b83da(0x1b0)](_0x2f48e1):_0x4f22e4['push'](_0x3bfd41);}let _0x3d45e4='';for await(const _0x133b52 of _0x4ec3c5){if(_0x5e5f1e['rEzRs'](_0x5e5f1e['KrRnd'],_0x5e5f1e[_0x4b83da(0x1d7)])){if(_0x5e5f1e[_0x4b83da(0x2e1)](_0x133b52[_0x4b83da(0x25f)],_0x3bec9f)){if(_0x5e5f1e[_0x4b83da(0x354)](_0x5e5f1e[_0x4b83da(0x316)],_0x5e5f1e['hHyLY']))_0x3d45e4=_0x133b52['id'];else return _0x247f51[_0x4b83da(0x2c9)]=_0x5e5f1e[_0x4b83da(0x199)],_0x46aafc;}}else return!![];}const _0x2a4b96=await this[_0x4b83da(0x1c5)]['resources'][_0x4b83da(0x262)](_0x3d45e4,_0x5e5f1e['wkIFm']);return _0x2a4b96['properties'][_0x4b83da(0x240)];}}catch(_0x3f8196){if(_0x5e5f1e['rPFYV'](_0x5e5f1e[_0x4b83da(0x251)],_0x5e5f1e['QHQTQ']))_0x29561a['exit'](0x0);else{if(_0x5e5f1e['vmtZX'](_0x4e13b5,0x0))return _0x5e5f1e[_0x4b83da(0x278)](_0x5e5f1e[_0x4b83da(0x32e)],_0x5e5f1e[_0x4b83da(0x1df)])?(logger['error'](_0x4b83da(0x273)+_0x3f8196+':'+_0x3f8196[_0x4b83da(0x2c0)]),{}):_0x4e04b3['status']['loadBalancer']['ingress'][0x0]['hostname'];return await new Promise(_0x28c07a=>{const _0x45b92d=_0x4b83da,_0x309ffa={};_0x309ffa['VEQYE']=_0x5e5f1e[_0x45b92d(0x22b)],_0x309ffa[_0x45b92d(0x2a5)]=_0x5e5f1e[_0x45b92d(0x310)],_0x309ffa[_0x45b92d(0x25a)]=_0x5e5f1e['RvJii'],_0x309ffa[_0x45b92d(0x34c)]=_0x5e5f1e[_0x45b92d(0x352)];const _0x26d8f0=_0x309ffa;if(_0x5e5f1e[_0x45b92d(0x2e1)](_0x5e5f1e[_0x45b92d(0x299)],_0x5e5f1e[_0x45b92d(0x336)])){const _0x778978={};_0x778978[_0x45b92d(0x2ac)]=_0x26d8f0[_0x45b92d(0x2d2)],_0x778978[_0x45b92d(0x2cc)]={},_0x778978[_0x45b92d(0x2cc)][_0x45b92d(0x2b0)]=_0x26d8f0['PlcGB'];const _0x4052da={};_0x4052da[_0x45b92d(0x2ac)]=_0x26d8f0['VEQYE'],_0x4052da[_0x45b92d(0x2cc)]={},_0x4052da[_0x45b92d(0x2cc)]['description']=_0x26d8f0['PlcGB'];const _0x78973b={..._0xd8daee[_0x45b92d(0x34d)]};_0x78973b['vpcName']=_0x778978,_0x78973b['subnetName']=_0x4052da,_0x43fbc0[_0x45b92d(0x34d)]=_0x78973b;const _0x17743f={};_0x17743f[_0x45b92d(0x1a0)]=_0x26d8f0['YbDIU'],_0xd9411d['variables']=_0x17743f;const _0x472929={..._0x2a7d80[_0x45b92d(0x20d)][0x0][_0x45b92d(0x1e6)][_0x45b92d(0x19d)][0x0]};_0x472929[_0x45b92d(0x1a0)]=_0x26d8f0[_0x45b92d(0x34c)],_0x20d49c[_0x45b92d(0x20d)][0x0][_0x45b92d(0x1e6)]['agentPoolProfiles'][0x0]=_0x472929;const _0x59c634={};_0x59c634[_0x45b92d(0x269)]=_0x718b66;const _0x21adc4={};_0x21adc4[_0x45b92d(0x269)]=_0x3602d0[0x0];const _0x1e8dee={..._0x170e9f};_0x1e8dee[_0x45b92d(0x32c)]=_0x59c634,_0x1e8dee[_0x45b92d(0x1d3)]=_0x21adc4,_0x16c04e=_0x1e8dee;}else _0x5e5f1e['jjNjG'](setTimeout,()=>_0x28c07a(),0x3e8);}),this['getResourceClientId'](_0x3bec9f,_0x5e5f1e[_0x4b83da(0x241)](_0x4e13b5,0x1));}}}async[a1_0x47db6f(0x1dc)](){const _0x74e800=a1_0x47db6f,_0x29d00c={};_0x29d00c[_0x74e800(0x331)]=function(_0x1387b5,_0x5b9341){return _0x1387b5===_0x5b9341;},_0x29d00c['eyNAk']=function(_0x34d843,_0x3836b3){return _0x34d843===_0x3836b3;},_0x29d00c[_0x74e800(0x261)]='eqoUc',_0x29d00c[_0x74e800(0x30f)]='pSaNq',_0x29d00c['HpdOv']=_0x74e800(0x322),_0x29d00c[_0x74e800(0x1d8)]=_0x74e800(0x328),_0x29d00c['XBHCd']=function(_0x1a9f5c,_0x541557){return _0x1a9f5c===_0x541557;},_0x29d00c[_0x74e800(0x25e)]='PIDzo';const _0x18a886=_0x29d00c;if(!this[_0x74e800(0x2dc)]){if(_0x18a886[_0x74e800(0x2a3)](_0x18a886['bodpd'],_0x18a886['rftKw'])){if(_0x18a886[_0x74e800(0x331)](_0x2e20ff[_0x74e800(0x25f)],_0x74e800(0x25c)+this[_0x74e800(0x25d)]))return!![];}else await this['getClusterInfo']();}const _0x36b80d=this[_0x74e800(0x2dc)]?.['tags']||{};if(_0x36b80d&&_0x18a886[_0x74e800(0x331)](_0x36b80d[_0x18a886[_0x74e800(0x18e)]],_0x18a886['NMjmb']))return _0x18a886[_0x74e800(0x300)](_0x18a886['CZkyg'],_0x18a886[_0x74e800(0x25e)])?!![]:!![];return![];}async[a1_0x47db6f(0x242)](_0x56a56f,_0x3759ce){const _0x19a67c=a1_0x47db6f,_0x373ffc={'voouL':function(_0x1feaf2,_0x3cb5b3){return _0x1feaf2(_0x3cb5b3);},'zFdNw':function(_0x5a228e,_0xb340b6){return _0x5a228e(_0xb340b6);},'pfLZC':'Deleted\x20the\x20cluster\x20successfully'};await _0x373ffc[_0x19a67c(0x19a)](deleteAgent,_0x56a56f),await _0x373ffc['zFdNw'](deleteRoutingDeps,_0x56a56f);const _0x34157f=this[_0x19a67c(0x1f9)];logger[_0x19a67c(0x22a)]('Deleting\x20the\x20cluster\x20'+this[_0x19a67c(0x25d)]),await _0x34157f[_0x19a67c(0x235)][_0x19a67c(0x362)](global_registry[_0x19a67c(0x296)],this['clusterName']),logger[_0x19a67c(0x22a)](_0x373ffc[_0x19a67c(0x23c)]);}async[a1_0x47db6f(0x339)](){const _0x33ab49=a1_0x47db6f,_0x37120f={};_0x37120f['NExAD']=_0x33ab49(0x34b),_0x37120f[_0x33ab49(0x1ab)]=function(_0x31d778,_0xd7d10){return _0x31d778===_0xd7d10;},_0x37120f[_0x33ab49(0x1bc)]=_0x33ab49(0x256),_0x37120f['JKMrV']=_0x33ab49(0x34a),_0x37120f[_0x33ab49(0x302)]=_0x33ab49(0x1c4),_0x37120f[_0x33ab49(0x348)]=function(_0x13495d,_0x18be0b){return _0x13495d&&_0x18be0b;},_0x37120f[_0x33ab49(0x2b7)]=function(_0x66a0f2,_0xac8b2c){return _0x66a0f2!==_0xac8b2c;},_0x37120f[_0x33ab49(0x243)]=_0x33ab49(0x2f5),_0x37120f[_0x33ab49(0x365)]=function(_0x583160,_0x4bef5d){return _0x583160===_0x4bef5d;},_0x37120f[_0x33ab49(0x250)]='gHehP',_0x37120f[_0x33ab49(0x329)]='KOQaL',_0x37120f[_0x33ab49(0x28b)]=function(_0x7756f5,_0x3d3757){return _0x7756f5!==_0x3d3757;},_0x37120f[_0x33ab49(0x355)]='KIPff',_0x37120f[_0x33ab49(0x2a1)]=_0x33ab49(0x1e4),_0x37120f[_0x33ab49(0x374)]=_0x33ab49(0x295),_0x37120f[_0x33ab49(0x32d)]=_0x33ab49(0x1eb);const _0x193390=_0x37120f;if(!this[_0x33ab49(0x2dc)]){if(_0x193390[_0x33ab49(0x1ab)](_0x193390[_0x33ab49(0x247)],_0x193390[_0x33ab49(0x302)]))return _0x384427[_0x33ab49(0x2ff)](_0x33ab49(0x1b6)+_0x57bcc7+'.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20'+_0xc80818),![];else await this[_0x33ab49(0x1a2)]();}const _0x66ca23=this['clusterInfo'],_0x24c2c6=this['clusterInfo']?.[_0x33ab49(0x2bd)]?.['enabled']||![],_0x5964ca=this[_0x33ab49(0x2dc)]?.[_0x33ab49(0x36e)]?.[_0x33ab49(0x356)]?.[_0x33ab49(0x1f3)]||![],_0x55de8b=!this[_0x33ab49(0x2dc)]?.[_0x33ab49(0x370)]||![];if(_0x193390['trTHs'](_0x24c2c6,_0x5964ca)&&_0x55de8b){if(_0x193390[_0x33ab49(0x2b7)](_0x193390[_0x33ab49(0x243)],_0x193390[_0x33ab49(0x243)])){_0x45d99f['info'](_0x193390['NExAD']);const _0x2934df={};_0x2934df[_0x33ab49(0x2ac)]=_0xf092f0['RESOURCES'],_0x2934df[_0x33ab49(0x2c7)]=_0x193390['NExAD'],this[_0x33ab49(0x335)][_0x33ab49(0x333)](this['rws'],_0x2934df),_0x4b3968['disableLocalAccounts']=![];}else return;}if(!_0x24c2c6){if(_0x193390[_0x33ab49(0x365)](_0x193390[_0x33ab49(0x250)],_0x193390[_0x33ab49(0x329)])){if(_0x193390[_0x33ab49(0x1ab)](_0xd1fdce[_0x33ab49(0x25f)],_0x1ceb18))return!![];}else{logger['info'](_0x193390[_0x33ab49(0x1bc)]);const _0x1b0646={};_0x1b0646[_0x33ab49(0x2ac)]=WS_EVENTS[_0x33ab49(0x1b9)],_0x1b0646['message']=_0x193390[_0x33ab49(0x1bc)],this['webSocketUtils'][_0x33ab49(0x333)](this[_0x33ab49(0x351)],_0x1b0646),_0x66ca23[_0x33ab49(0x2bd)]['enabled']=!![];}}if(!_0x5964ca){if(_0x193390[_0x33ab49(0x28b)](_0x193390[_0x33ab49(0x355)],_0x193390[_0x33ab49(0x2a1)])){logger[_0x33ab49(0x22a)](_0x193390[_0x33ab49(0x374)]);const _0x57acf8={};_0x57acf8[_0x33ab49(0x2ac)]=WS_EVENTS[_0x33ab49(0x1b9)],_0x57acf8['message']=_0x193390[_0x33ab49(0x374)],this['webSocketUtils'][_0x33ab49(0x333)](this[_0x33ab49(0x351)],_0x57acf8);const _0x5b1416={};_0x5b1416[_0x33ab49(0x1f3)]=!![],_0x66ca23['securityProfile']={'workloadIdentity':_0x5b1416,..._0x66ca23[_0x33ab49(0x36e)]};}else{_0x561d8b['info'](_0x193390[_0x33ab49(0x1bc)]);const _0x70101a={};_0x70101a['type']=_0x2e5d47['RESOURCES'],_0x70101a[_0x33ab49(0x2c7)]=_0x193390[_0x33ab49(0x1bc)],this[_0x33ab49(0x335)][_0x33ab49(0x333)](this[_0x33ab49(0x351)],_0x70101a),_0x5d0479[_0x33ab49(0x2bd)][_0x33ab49(0x1f3)]=!![];}}if(!_0x55de8b){if(_0x193390[_0x33ab49(0x2b7)](_0x193390['mhnzF'],_0x193390['mhnzF'])){const _0x5c6f2b=new _0x3c8f28(_0x46c01e[_0x33ab49(0x1e0)],_0x2f722e['cloudProviderClientId'],_0x194cbc['cloudProviderClientSecret']);this[_0x33ab49(0x1f9)]=new _0x31d16c(_0x5c6f2b,_0x3c8b0d[_0x33ab49(0x215)]),this[_0x33ab49(0x30b)]=new _0x50a31d(_0x5c6f2b,_0x1cac97['cloudProviderSubscriptionId']),this[_0x33ab49(0x1c5)]=new _0x2349d2(_0x5c6f2b,_0x3bdd85[_0x33ab49(0x215)]),this[_0x33ab49(0x344)]=new _0x4afff2(_0x5c6f2b,_0x508f29['cloudProviderSubscriptionId']),this[_0x33ab49(0x2ea)]=new _0x57ce3c(_0x5c6f2b,_0x4b6dd0[_0x33ab49(0x215)]),this['cred']=_0x5c6f2b;}else{logger[_0x33ab49(0x22a)](_0x193390[_0x33ab49(0x1cc)]);const _0x49b697={};_0x49b697[_0x33ab49(0x2ac)]=WS_EVENTS[_0x33ab49(0x1b9)],_0x49b697[_0x33ab49(0x2c7)]=_0x193390['NExAD'],this[_0x33ab49(0x335)][_0x33ab49(0x333)](this[_0x33ab49(0x351)],_0x49b697),_0x66ca23['disableLocalAccounts']=![];}}await this['containerClient']['managedClusters']['beginCreateOrUpdateAndWait'](global_registry[_0x33ab49(0x296)],this[_0x33ab49(0x25d)],_0x66ca23),await this['getClusterInfo']();}async[a1_0x47db6f(0x35f)](){const _0x275fda=a1_0x47db6f,_0x3f38af={};_0x3f38af[_0x275fda(0x1b5)]=function(_0x559b95,_0xb9b5){return _0x559b95!==_0xb9b5;},_0x3f38af[_0x275fda(0x233)]=_0x275fda(0x2b1);const _0x1b667f=_0x3f38af,_0x366c1a=await this[_0x275fda(0x344)][_0x275fda(0x286)][_0x275fda(0x1fd)](global_registry[_0x275fda(0x296)]),_0x270f88={};_0x270f88[_0x275fda(0x267)]=global_registry[_0x275fda(0x258)],_0x270f88[_0x275fda(0x1d1)]=global_registry[_0x275fda(0x1c7)],_0x270f88[_0x275fda(0x1d5)]=AZURE,_0x270f88[_0x275fda(0x2c5)]=[];const _0x425dbb=_0x270f88;for await(const _0x4a7005 of _0x366c1a){_0x1b667f['uZucB'](_0x1b667f[_0x275fda(0x233)],_0x1b667f['SUlyh'])?_0x351e9d[_0x275fda(0x1b0)](_0x215121):_0x425dbb['vpcInfo'][_0x275fda(0x1b0)](_0x4a7005);}const _0x22291f={};_0x22291f[_0x275fda(0x2ac)]=WS_EVENTS[_0x275fda(0x1b9)],_0x22291f['message']=_0x425dbb,this[_0x275fda(0x335)][_0x275fda(0x333)](this[_0x275fda(0x351)],_0x22291f);}async['isVPCPresent'](_0x23c413){const _0x33fb5c=a1_0x47db6f,_0xac01d4={'FHjBY':_0x33fb5c(0x364),'GeRcM':'1|3|0|4|2|5','QPCew':function(_0x220d62,_0x395b46,_0x2b70f2){return _0x220d62(_0x395b46,_0x2b70f2);},'kaxLJ':function(_0x378cf4,_0x47c455){return _0x378cf4===_0x47c455;},'rlDha':function(_0x4a6806,_0x3f412b){return _0x4a6806!==_0x3f412b;},'VmKgR':'npfMM','pKLnK':function(_0x5903fc,_0x1359b4){return _0x5903fc===_0x1359b4;},'PCcAS':_0x33fb5c(0x20e),'KoCWG':function(_0x1dd9b2,_0x4c0da8){return _0x1dd9b2!==_0x4c0da8;},'bKXHP':_0x33fb5c(0x35b),'UrkTF':'GyBUC','kmeMg':'rbuls'};try{if(_0xac01d4['rlDha'](_0xac01d4[_0x33fb5c(0x284)],_0xac01d4['VmKgR']))_0x24b202[_0x33fb5c(0x2ff)](_0xac01d4[_0x33fb5c(0x2dd)]),_0x1c9d2e[_0x33fb5c(0x350)](0x1);else{const _0x5b2b8c=await this['networkClient'][_0x33fb5c(0x286)][_0x33fb5c(0x1fd)](global_registry[_0x33fb5c(0x296)]);for await(const _0x586509 of _0x5b2b8c){if(_0xac01d4[_0x33fb5c(0x27e)](_0xac01d4[_0x33fb5c(0x1aa)],_0xac01d4['PCcAS'])){if(_0xac01d4[_0x33fb5c(0x1f5)](_0x586509['name'],_0x23c413)){if(_0xac01d4[_0x33fb5c(0x346)](_0xac01d4['bKXHP'],_0xac01d4[_0x33fb5c(0x36c)]))return!![];else{const _0x2f803b=_0xac01d4['GeRcM'][_0x33fb5c(0x196)]('|');let _0x26c579=0x0;while(!![]){switch(_0x2f803b[_0x26c579++]){case'0':_0x4f4de6[_0x33fb5c(0x1e0)]=_0x154398[this['cloudProviderName']][_0x33fb5c(0x325)];continue;case'1':_0x12b798[_0x33fb5c(0x230)]=_0x4e7660[this[_0x33fb5c(0x24b)]][_0x33fb5c(0x240)];continue;case'2':_0x2a4855['cloudProviderResourceGroup']=_0x3acd4c[this[_0x33fb5c(0x24b)]][_0x33fb5c(0x2bf)];continue;case'3':_0x46b22b[_0x33fb5c(0x2fa)]=_0x4e8173[this[_0x33fb5c(0x24b)]][_0x33fb5c(0x232)];continue;case'4':_0x12058e[_0x33fb5c(0x215)]=_0xce1829[this[_0x33fb5c(0x24b)]][_0x33fb5c(0x29d)];continue;case'5':this[_0x33fb5c(0x268)]();continue;}break;}}}}else _0xac01d4[_0x33fb5c(0x349)](_0x215fd7,()=>_0xb3d3a9(),0x3e8);}}}catch(_0x27913d){if(_0xac01d4[_0x33fb5c(0x346)](_0xac01d4[_0x33fb5c(0x1ea)],_0xac01d4[_0x33fb5c(0x1ea)])){if(_0xac01d4[_0x33fb5c(0x1f5)](_0x4eb9ec[_0x33fb5c(0x25f)],_0x27d9d9))return!![];}else return logger[_0x33fb5c(0x2ff)]('Cannot\x20find\x20VPC\x20'+_0x23c413+_0x33fb5c(0x227)+_0x27913d),![];}return![];}async['isSubnetsValid'](_0xdd683d,_0x3fef88){const _0x101a00=a1_0x47db6f,_0x10c18f={};_0x10c18f[_0x101a00(0x24f)]=_0x101a00(0x364),_0x10c18f[_0x101a00(0x33d)]=function(_0x4382f1,_0x1e71c4){return _0x4382f1+_0x1e71c4;},_0x10c18f[_0x101a00(0x2c3)]=function(_0x243cb1,_0x297204){return _0x243cb1===_0x297204;},_0x10c18f[_0x101a00(0x225)]=_0x101a00(0x2c1),_0x10c18f[_0x101a00(0x1a9)]=_0x101a00(0x372),_0x10c18f['xzzVn']=_0x101a00(0x24e);const _0x9206c3=_0x10c18f;try{if(_0x9206c3[_0x101a00(0x2c3)](_0x9206c3[_0x101a00(0x225)],_0x9206c3[_0x101a00(0x1a9)]))_0x28e84c['error'](_0x9206c3['UJvdx']),_0x104bf4[_0x101a00(0x350)](0x1);else{const _0xa7cf8d=await this[_0x101a00(0x344)]['subnets'][_0x101a00(0x271)](global_registry['cloudProviderResourceGroup'],_0x3fef88,_0xdd683d[0x0]);if(_0x9206c3[_0x101a00(0x2c3)](_0xdd683d[0x0],_0xa7cf8d[_0x101a00(0x25f)])){if(_0x9206c3['ZVvlZ'](_0x9206c3['xzzVn'],_0x9206c3[_0x101a00(0x2d0)]))return[!![],_0xdd683d];else _0x14cd85[_0x101a00(0x27a)]('['+_0x9206c3[_0x101a00(0x33d)](_0x28054e,0x1)+']\x20'+_0x1608f4[_0x2349d6]);}}}catch(_0xf02997){return logger[_0x101a00(0x2ff)]('Cannot\x20find\x20subnets\x20'+_0xdd683d+_0x101a00(0x1d0)+_0xf02997),[![],[]];}return[![],[]];}async[a1_0x47db6f(0x2da)](){const _0x1fd0ad=a1_0x47db6f,_0x55cec3={};_0x55cec3[_0x1fd0ad(0x1a1)]='No\x20CLI\x20tool\x20required';const _0x98488f=_0x55cec3,_0xc0d6d6={};_0xc0d6d6[_0x1fd0ad(0x1f4)]=!![],_0xc0d6d6[_0x1fd0ad(0x2ff)]=null,_0xc0d6d6[_0x1fd0ad(0x2c9)]=_0x98488f[_0x1fd0ad(0x1a1)];const _0x1bed13=_0xc0d6d6;return _0x1bed13;}async[a1_0x47db6f(0x1e8)](){const _0x392287=a1_0x47db6f,_0x2cb506={};_0x2cb506[_0x392287(0x216)]=_0x392287(0x2f6),_0x2cb506[_0x392287(0x2a8)]=_0x392287(0x33a),_0x2cb506[_0x392287(0x20f)]=_0x392287(0x1cd);const _0x3c2024=_0x2cb506,_0x3abcfa=await this[_0x392287(0x270)][_0x392287(0x28e)](_0x3c2024[_0x392287(0x216)]),_0x5d071b={};_0x5d071b[_0x392287(0x26c)]=_0x3c2024['puUxU'],_0x5d071b[_0x392287(0x2c4)]={},_0x5d071b[_0x392287(0x2c4)]['Authorization']=_0x392287(0x2fe)+_0x3abcfa[_0x392287(0x2f2)],_0x5d071b[_0x392287(0x2c4)]['Content-Type']=_0x3c2024['UKGog'];const _0x237f73=_0x5d071b;return _0x237f73;}async['getPrincipalIdFromClientId'](_0x312a75){const _0x4bbdd4=a1_0x47db6f,_0x3661c6={'zFbMC':function(_0xb7a562,_0x1e4c3d,_0x3a3974){return _0xb7a562(_0x1e4c3d,_0x3a3974);},'nnmiY':function(_0x4b8a1b,_0x222d10){return _0x4b8a1b===_0x222d10;},'wlXVe':_0x4bbdd4(0x332)},_0x173e65={};_0x173e65['principalId']='',_0x173e65['error']=null;const _0x41cbff=_0x173e65;try{const _0x3b561d=_0x4bbdd4(0x2db)+_0x312a75+'\x27',_0x1dda80=await this[_0x4bbdd4(0x1e8)](),_0x12ed86=await _0x3661c6[_0x4bbdd4(0x252)](fetch,_0x3b561d,_0x1dda80),_0x498d3d=await _0x12ed86['json']();if(!_0x498d3d[_0x4bbdd4(0x269)]||_0x3661c6[_0x4bbdd4(0x18d)](_0x498d3d['value'][_0x4bbdd4(0x1a4)],0x0))throw new Error(_0x3661c6[_0x4bbdd4(0x34f)],'Received\x20response\x20-\x20'+JSON[_0x4bbdd4(0x2b3)](_0x498d3d));_0x41cbff[_0x4bbdd4(0x305)]=_0x498d3d[_0x4bbdd4(0x269)][0x0]['id'];}catch(_0x533a54){_0x41cbff[_0x4bbdd4(0x2ff)]=_0x533a54;}return _0x41cbff;}async[a1_0x47db6f(0x1e7)](){const _0x9f6c77=a1_0x47db6f,_0x4de679={};_0x4de679[_0x9f6c77(0x208)]=_0x9f6c77(0x2fd),_0x4de679[_0x9f6c77(0x222)]='denied',_0x4de679[_0x9f6c77(0x1be)]=function(_0x371594,_0x3082bd){return _0x371594!==_0x3082bd;},_0x4de679[_0x9f6c77(0x18c)]=function(_0x503f7d,_0x401c9a){return _0x503f7d===_0x401c9a;},_0x4de679[_0x9f6c77(0x1f0)]=_0x9f6c77(0x192),_0x4de679[_0x9f6c77(0x1d4)]=_0x9f6c77(0x2d3),_0x4de679[_0x9f6c77(0x206)]=function(_0x470c16,_0xe0d972){return _0x470c16===_0xe0d972;},_0x4de679[_0x9f6c77(0x263)]=_0x9f6c77(0x1f1);const _0x32bde7=_0x4de679,_0x56ba28={};_0x56ba28['status']=![],_0x56ba28['error']=null,_0x56ba28[_0x9f6c77(0x2c9)]='';const _0x19973b=_0x56ba28;try{let _0x55aacc='';const _0x1c2167=_0x9f6c77(0x337)+global_registry[_0x9f6c77(0x215)]+_0x9f6c77(0x1ce)+global_registry[_0x9f6c77(0x296)],_0xf238a0=await this[_0x9f6c77(0x2ad)](global_registry['cloudProviderClientId']);if(_0x32bde7[_0x9f6c77(0x1be)](_0xf238a0[_0x9f6c77(0x2ff)],null))return _0x19973b['error']=_0xf238a0[_0x9f6c77(0x2ff)],_0x19973b;const _0x1711e8='assignedTo(\x27'+_0xf238a0[_0x9f6c77(0x305)]+'\x27)',_0x1dfdd7={};_0x1dfdd7[_0x9f6c77(0x308)]=_0x1711e8;const _0x15d913=await this[_0x9f6c77(0x2ea)]['roleAssignments'][_0x9f6c77(0x1bb)](_0x1c2167,_0x1dfdd7),_0x910934=[];for await(const _0x19a663 of _0x15d913){_0x910934[_0x9f6c77(0x1b0)](_0x19a663);}if(_0x32bde7[_0x9f6c77(0x18c)](_0x910934[_0x9f6c77(0x1a4)],0x0))return _0x19973b[_0x9f6c77(0x2c9)]=_0x32bde7['fyQav'],_0x19973b;const _0x31871a=[...new Set(_0x910934[_0x9f6c77(0x26e)](_0x6bc09d=>_0x6bc09d[_0x9f6c77(0x29c)]))];if(_0x32bde7[_0x9f6c77(0x18c)](_0x31871a[_0x9f6c77(0x1a4)],0x0))return _0x19973b['data']=_0x32bde7[_0x9f6c77(0x1d4)],_0x19973b;const _0x5084de=[],_0x4a83f3=[];for(const _0x3c1674 of _0x31871a){const _0x5e7f9e=await this[_0x9f6c77(0x2ea)][_0x9f6c77(0x23d)][_0x9f6c77(0x262)](_0x3c1674);logger[_0x9f6c77(0x2b8)](_0x9f6c77(0x220)+_0x5e7f9e[_0x9f6c77(0x255)]),_0x5084de[_0x9f6c77(0x1b0)](_0x5e7f9e),logger[_0x9f6c77(0x2b8)](_0x9f6c77(0x323)+JSON[_0x9f6c77(0x2b3)](_0x5e7f9e['permissions'])),_0x5e7f9e[_0x9f6c77(0x290)]['forEach'](_0x9d79b5=>{const _0x4941c1=_0x9f6c77;_0x4a83f3['push'](..._0x9d79b5[_0x4941c1(0x2a7)]);});}logger[_0x9f6c77(0x2b8)](_0x9f6c77(0x23a)+JSON[_0x9f6c77(0x2b3)](_0x4a83f3)),_0x32bde7[_0x9f6c77(0x206)](_0x4a83f3[_0x9f6c77(0x1a4)],0x0)&&(_0x55aacc+=_0x32bde7[_0x9f6c77(0x18c)](_0x4a83f3[_0x9f6c77(0x1a4)],0x0)?_0x32bde7[_0x9f6c77(0x263)]:'',logger[_0x9f6c77(0x2b8)](_0x9f6c77(0x2d7)+JSON[_0x9f6c77(0x2b3)](_0x5084de))),_0x19973b[_0x9f6c77(0x1f4)]=!![],Object['entries'](PERMISSIONS['ACTION'])[_0x9f6c77(0x1f7)](([_0x236fa5,_0x1254aa])=>{const _0xa35e2a=_0x9f6c77,_0x1b9120=_0x4a83f3[_0xa35e2a(0x1c8)](_0x236fa5);_0x55aacc+='\x0a\x09'+_0x1254aa+':\x20'+(_0x1b9120?_0x32bde7[_0xa35e2a(0x208)]:_0x32bde7[_0xa35e2a(0x222)]),!_0x1b9120&&(_0x19973b[_0xa35e2a(0x1f4)]=![]);}),_0x19973b[_0x9f6c77(0x2c9)]=_0x55aacc;}catch(_0x8c9f4c){_0x19973b[_0x9f6c77(0x2ff)]=_0x8c9f4c;}return _0x19973b;}}function a1_0x20c2(_0x59cb69,_0x56536f){const _0x78d68e=a1_0x78d6();return a1_0x20c2=function(_0x20c27b,_0x26c581){_0x20c27b=_0x20c27b-0x18b;let _0x51483e=_0x78d68e[_0x20c27b];return _0x51483e;},a1_0x20c2(_0x59cb69,_0x56536f);}const a1_0x562fef={};a1_0x562fef[a1_0x47db6f(0x209)]=AzureCloudProvider,module['exports']=a1_0x562fef;function a1_0x78d6(){const _0x43b50d=['AzureCloudProvider','iTVRJ','Creating\x20Azure\x20managed\x20identity','soGSm','resources','gwJLJ','UKGog','rFjuO','veZxH','TvLlm','Creating\x20Azure\x20storage\x20account','ftSTH','cloudProviderSubscriptionId','xtPtk','utf-8','csCVx','UJHJC','utLSF','gridName','XcjAP','2|4|1|3|5|0|6|7','wnKoo','createOtherResources','role\x20name\x20attached\x20-\x20','managedidentity.json','uGZqT','../config/constants','userInstanceType','bMZhN','wynLJ','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','createStorageAccount','NRRWk','info','uHOUN','xvFwq','YqyvV','isStorageAccountPresent','RyMyo','cloudProviderClientId','[variables(\x27vnetSubnetID\x27)]','clientSecret','SUlyh','definition','managedClusters','denied','blockBlob','AxXZB','createCluster','actionPermission\x20:\x20','createFederatedAccountForHubHA','pfLZC','roleDefinitions','bjTnW','hHOlH','clientId','GCOdf','deleteCluster','AuooV','PyKoB','waUGh','wgQty','JKMrV','HWLzk','CzcQY','QZrlH','cloudProviderName','IwvAe','qRtAy','fRqRj','UJvdx','BmukG','QHQTQ','zFbMC','oRzzT','resourceGroups','roleName','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','dyrgC','bstackUsername','GNaNl','YbDIU','Storage\x20account\x20already\x20exists,\x20skipping','turboscale-managed-identity-','clusterName','CZkyg','name','federatedidentityuploader.json','bodpd','getById','IGFYH','ENPKF','NtMXk','10308SpZquT','username','setClients','value','Ulvmd','YTDtP','method','2527WSLICg','map','Found\x20only\x20one\x20resource\x20group:\x20','cred','get','Managed\x20identity\x20already\x20exists,\x20skipping','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','lvDiB','1gyWbgg','Eidzo','beginCreateOrUpdateAndWait','giBqW','LJYus','log','federatedidentity','turboscale-cluster-deployment','mtJdJ','pKLnK','pmIWg','setupNewCluster','eWpjt','getGridHostname','fYphV','VmKgR','templates','virtualNetworks','KgQMw','JhBxQ','list','DrOov','NvylY','slice','kYVKG','getToken','AjZsH','permissions','PIfNv','maxNodes','\x20SUBSCRIPTION\x20ID:\x20','PoUAf','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','cloudProviderResourceGroup','@azure/arm-authorization','iZqKD','jrbUc','BrBoq','ZEapW','roleDefinitionId','subscriptionId','\x20TENANT\x20ID:\x20','LKKcX','oFPbv','dBWNf','towmN','eyNAk','XfLBc','PlcGB','mtSGJ','actions','puUxU','storageAccountName','jjeIu','vKXvw','type','getPrincipalIdFromClientId','QJPPv','loadBalancer','description','IsGlH','clusterAutoUpgrade','stringify','OIwex','SWqQp','CMxvV','FQouC','debug','PEvxL','sjdJC','mTQxJ','ingress','oidcIssuerProfile','Creating\x20Azure\x20federated\x20identity','resourceGroup','stack','ooqLk','2961905fPswka','ZVvlZ','headers','vpcInfo','wIyYD','message','bOMHx','data','nXIMd','createManagedIdentity','metadata','Cqwfn','ypHGw','nGUDO','xzzVn','../utils/utilityMethods','VEQYE','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','MDrMJ','BtOkk','TRptl','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','ZONHS','dmxZt','isCliToolInstalled','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','clusterInfo','FHjBY','KyRIc','No\x20CLI\x20tool\x20required','6306090aLTIsA','blmzk','Lifecycle','wLqoG','vjNis','parse','DGDzj','turboscale','kwnJP','false','authClient','KwaWU','HCJiW','rlOts','namjR','CGRET','createFederatedAccount','bDzal','token','ktBON','string','HOWZr','https://graph.microsoft.com/.default','tIDht','toUpperCase','ESDVz','cloudProviderClientSecret','snQgy','FblHj','allowed','Bearer\x20','error','XBHCd','MHhLE','qiDQp','Incremental','cxDSt','principalId','kDbRM','LmJcG','filter','true','LOG','storageClient','path','getResourceClientId','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','rftKw','clntU','deployments','../permissions/AZURE.json','eLhNc','\x20RESOURCE\x20GROUP:\x20','1|2|3|4|5|0','ndhlv','JKFMO','USpxc','fixTr','readFileAsync','JfBhQ','AFMQH','EBSRh','HkHMF','ohsZF','XzTnH','kubeconfigs','browserstack:managedBy','Attached\x20permissions\x20:\x20','FGINQ','tenantId','../config/logger','rHTIO','BrowserStack','yPFME','nwZpO','WUgJF','vpcName','mhnzF','NNhvg','MdGbi','nMCzu','xvtMY','No\x20service\x20principal\x20found','sendEventToBackend','gtTwK','webSocketUtils','tMPeY','subscriptions/','CoSEa','updateClusterAlreadyPresent','GET','CJEkq','@azure/arm-resources','siUib','vHnvc','kRtvJ','ywajd','XOMFx','RjOwT','getUserInput','networkClient','rules','KoCWG','Jvodr','trTHs','QPCew','YZrjv','Enabling\x20Local\x20account\x20for\x20the\x20cluster','yLExJ','parameters','cQIDZ','wlXVe','exit','rws','ovcuA','jtLSH','rPFYV','jotah','workloadIdentity','Dbrrm','YFEuB','filters','LhDUu','iiXuA','UItaB','GvRPp','s3Bucket','sendAzureInfoToHST','640260Iwcgol','ZcWFs','beginDeleteAndWait','XCyFR','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','crIAn','init','LjKjT','azureresources','mbtdB','QaPNG','baseBlob','UrkTF','CPjjJ','securityProfile','clusterRegion','disableLocalAccounts','pVeHD','EVrrJ','jtPle','pAvyw','wZDjd','MWpmI','TMjsM','BQyRb','nnmiY','HpdOv','FfXyX','Bozpz','PhVnM','No\x20attached\x20role\x20for\x20the\x20client\x20key','default','variables','edgqN','split','setupHubHa','WWbGv','XmjWm','voouL','isManagedIdentityPresent','SxxrN','agentPoolProfiles','YiJuT','@azure/identity','vnetSubnetID','tiKBW','getClusterInfo','hCNWN','length','userMaxNodes','tYffy','ESKGN','iyhMk','ABQCZ','PCcAS','kOkuy','turboscale-storageaccount-deployment','qgEYi','listClusterAdminCredentials','521536QjnimU','push','wvsMC','BBuwT','getKubeConfigData','@azure/arm-storage','uZucB','Cannot\x20find\x20VPC\x20','PXtfw','tiBft','RESOURCES','NARzo','listForScope','RqYNa','listByResourceGroup','fvXKx','tNRtG','vCuwr','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','lDjyk','Created\x20Azure\x20federated\x20identity','rCrev','resourceClient','607660tyNlAp','bstackAccesskey','includes','Blob\x20delete\x20lifecycle','moRLd','AcvDC','NExAD','application/json','/resourceGroups/','./CloudProvider','.\x20Error:\x20','accessKey','KowIx','subnetName','lDRsE','cloudProvider','5220272OzuySK','KrRnd','NMjmb','join','cgloe','EJfJe','isBrowserstackCluster','toLowerCase','hostname','mCivX','cloudProviderTenantId','delete','9MGaCWC','hzUNa','oVoIg','SDGnB','properties','checkAccess','getHeader','hFFzQ','kmeMg','lOnKi','guvFK','getStorageAccountName','.json','@azure/arm-network','fyQav','Action\x20permission\x20list\x20is\x20empty\x0a','ZBUqn','enabled','status','kaxLJ','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','forEach','IgVpc','containerClient','RmEWc','issuerURL','XKumJ','listAll','MHKhA','XGQEu','uwele','hubHaNameSpace','wrjKx','IeWxx','tiBiK','createOrUpdate','InLdA','nhLrk','SKMxL'];a1_0x78d6=function(){return _0x43b50d;};return a1_0x78d6();}