const a1_0x47a37c=a1_0x51cc;function a1_0x1137(){const _0x5154bd=['IPoZU','subscriptions/','No\x20service\x20principal\x20found','zeGIE','split','azureresources','GNeVk','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','KCAWL','EruDu','dUXBb','data','rpQHx','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','Lifecycle','map','resources','SuahQ','zrLcn','bKZOC','OxilW','Received\x20response\x20-\x20','getToken','hub','WWryJ','Sbbor','FYULU','atXLe','JcvMq','WbOkk','templates','getHeader','DGHHY','HfTtS','tfGGt','mZQly','enabled','\x20SUBSCRIPTION\x20ID:\x20','getResourceGroups','federatedidentity','slice','description','gridName','dIZOg','application/json','isSubnetsValid','DsTZB','UUDeb','default','turboscale-storageaccount-deployment','ingress','VChRm','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','GrSOy','hubHaNameSpace','klMqI','beginDeleteAndWait','ypGiK','Deleted\x20the\x20cluster\x20successfully','get','createManagedIdentity','Vsrrk','permissions','EudJV','WwpyT','roleDefinitionId','gudlG','mzDfK','issuerURL','WeneJ','HmahL','Managed\x20identity\x20already\x20exists,\x20skipping','PESEn','amUbZ','vpcInfo','OkyLu','ROnXr','JOIqZ','allowed','managedClusters','IzYHJ','12455tdOZLp','akscluster.json','gclUZ','userInstanceType','wTOUt','omnig','No\x20attached\x20role\x20for\x20the\x20client\x20key','turboscale-cluster-deployment','variables','No\x20CLI\x20tool\x20required','yOkXM','createStorageAccount','PEsDD','SyQEo','1267560QGmeqK','utf-8','workloadIdentity','toUpperCase','wgSdr','\x20CLIENT\x20SECRET:\x20','getStorageAccountName','Attached\x20permissions\x20:\x20','includes','QaSzM','Creating\x20Azure\x20managed\x20identity','sJtWj','denied','metadata','idUae','dsTeu','carEh','sUAKr','aQYMo','eASJZ','Creating\x20Azure\x20federated\x20identity','listByResourceGroup','rws','LPlNi','push','subnets','readFileAsync','GivDR','ZXikv','../config/constants','UlzaJ','kqaQX','JcGam','jLfrq','value','iizXa','cloudProviderName','vzaKQ','resourceGroups','listClusterAdminCredentials','loadBalancer','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','entries','status','MuiFE','zLweN','hZraw','beginCreateOrUpdateAndWait','VgmUP','NlvIB','delete','deployments','QFnFU','securityProfile','createOrUpdate','VZnMg','Nrvkv','18lqLiCw','headers','@azure/identity','clusterInfo','properties','epvxn','SFSil','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','\x20TENANT\x20ID:\x20','isManagedIdentityPresent','GPnET','browserstack:managedBy','listForScope','nUvhl','336320gzVwUb','AoFjm','listAll','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','PEynY','yRUNC','gmSnu','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','bmwUr','kgTYe','YoaxA','sDAzu','principalId','eMjUM','zYtGf','wiJen','kYnYj','hTrVK','PnvxS','dKTsN','aaWhD','QlQHw','fwseV','1|2|3|4|5|0','authClient','vOvAa','LVOSS','exit','CjeMK','Creating\x20Azure\x20storage\x20account','accessKey','sISBx','turboscale','dIokT','cloudProviderClientId','subscriptionId','euAOL','jiyRA','message','EPejD','MTwXj','3455680kMywBy','subnetName','SlBAf','sWzyh','XRzoW','kEfTE','TYtEc','gqyai','FhsDo','turboscale-identity-deployment','nPLut','kDHec','EGiJV','LiLtq','isVPCPresent','qbzlY','getClusterInfo','MBWNS','./CloudProvider','error','definition','BrowserStack','RLPaP','clusterRegion','createOtherResources','BFVPA','https://graph.microsoft.com/.default','5|1|3|0|4|2','TcrLf','Tdpxo','getPrincipalIdFromClientId','cloudProviderSubscriptionId','cEyli','info','containerClient','clusterName','ITchd','storageClient','\x20RESOURCE\x20GROUP:\x20','blobTypes','YYGkN','filter','Bearer\x20','akudF','KgJWT','WYfmu','js-yaml','cloudProviderResourceGroup','BRVYC','jpwnr','toLowerCase','hySlO','checkAccess','ObcHj','CejVQ','../utils/utilityMethods','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','uoXmm','createFederatedAccount','owJDn','getKubeConfigData','EprTi','actionPermission\x20:\x20','QpPer','PzlAh','join','dQLam','sendEventToBackend','disableLocalAccounts','NIBDZ','vNxsS','init','jMFBM','QabkQ','blockBlob','string','heOdr','kcGiT','oiRzq','OVrAq','KFArg','lDBYX','yVfGv','xmoVs','DJtAP','type','isStorageAccountPresent','15708iWzkja','bWEJA','jvzuc','tags','KtsWL','vVHtS','Aclxg','vpcName','uGjiF','policy','lkNvf','Content-Type','BsMef','ltEwy','Storage\x20account\x20already\x20exists,\x20skipping','CYpgP','tqQXb','wslqm','managementPolicies','GcWCL','rbOwE','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','1229220HCkbIR','LXJtq','getById','Brnxz','zjevN','ZULsF','getUserInput','Ogiky','turboscale-federated-deployment','length','armur','setClients','list','managedidentity.json','name','NgqbF','NtJVi','GuFRA','dQTvw','maxNodes','wyTWp','MVpiS','virtualNetworks','TUeLa','username','gfHrw','oOJnA','@azure/arm-containerservice','NzWQS','mKgOt','debug','cloudProvider','s3Bucket','createFederatedAccountForHubHA','ovJjp','stack','dvguu','RESOURCES','lJjNw','Authorization','Enabling\x20Local\x20account\x20for\x20the\x20cluster','SyuUH','LaNWZ','isCliToolInstalled','sendAzureInfoToHST','false','Cannot\x20find\x20VPC\x20','clientSecret','.\x20Error:\x20','log','@azure/arm-network','/resourceGroups/','PHNyl','networkClient','storageAccountName','Created\x20Azure\x20federated\x20identity','nFyrg','208WYAnHt','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','rUzGJ','14EwtXTF','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','Blob\x20delete\x20lifecycle','IpbRT','XhPob','UQwiE','XRNso','Bjtlb','vnetSubnetID','isClusterPresent','dHyzE','hostname','UJBYJ','KLgAB','dRsIb','jKCEJ','@azure/arm-storage','isBrowserstackCluster','Wmceb','daysAfterCreationGreaterThan','paFzv','PTYWH','1321464RGOkHN','baseBlob','toString','xBYzW','TiYXw','ArYSj','resourceClient','wiVGr','gJBme','VEFLC','parameters','GKnXd','assignedTo(\x27','ACTION','LOG','YrVUp','osTdf','@azure/arm-resources','hubharesources','GOyJu','webSocketUtils','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','zSWKz','JZyoW','method','qxwkN','ZKgum','cloudProviderClientSecret','IzfJF','../config/logger','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','AJchO','PeIoa','tHWgV','cloudProviderTenantId','bLmzU','bMOyx','Pwkkt','dYQyS','role\x20name\x20attached\x20-\x20','forEach','CRBhc','11cAJaNu','SoCGX','tXxpw','oSUUm','GET','iQKHu','cfYUX','kuixH','xnAHK','vsjqu','createCluster','VfImI','HdGNs','hxtvH','[variables(\x27vnetSubnetID\x27)]','rinEH','NeIkS','cXFma','YrEkT','RVigi','Incremental','2023-01-31','Deleting\x20the\x20cluster\x20','clusterAutoUpgrade','QPeFI','parse','oOvjZ','VgfDq','MpFEE','Hjciu','deleteCluster','Found\x20only\x20one\x20resource\x20group:\x20','FpVTO','RqoKY','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','Llwye','ohbwU','gsuDq','stringify','rules','soYMv','clientId','federatedidentityuploader.json','actions','.json','cred','GrCFJ','DLVoy','../utils/gridComponents','instanceType','KKest','SKxRY','EBUHt','JlZJJ','tenantId','getResourceClientId','ETRif','ZwSzv','MYLlQ','SmXcw','resourceGroup','setCachedCredsInRegistry','kPNkr','PWEkQ','OCpml','oidcIssuerProfile','Vvpmd','FCoWl','kubeconfigs','Action\x20permission\x20list\x20is\x20empty\x0a','JGpRq','agentPoolProfiles','3|5|4|1|2|0'];a1_0x1137=function(){return _0x5154bd;};return a1_0x1137();}(function(_0x7a41bb,_0x46a0b6){const _0x119366=a1_0x51cc,_0x2cf640=_0x7a41bb();while(!![]){try{const _0x4b642b=-parseInt(_0x119366(0x253))/0x1+-parseInt(_0x119366(0x245))/0x2*(parseInt(_0x119366(0xd2))/0x3)+parseInt(_0x119366(0x121))/0x4*(parseInt(_0x119366(0x1fe))/0x5)+-parseInt(_0x119366(0x13a))/0x6*(-parseInt(_0x119366(0x124))/0x7)+-parseInt(_0x119366(0x20c))/0x8+-parseInt(_0x119366(0xe8))/0x9+parseInt(_0x119366(0x27c))/0xa*(parseInt(_0x119366(0x164))/0xb);if(_0x4b642b===_0x46a0b6)break;else _0x2cf640['push'](_0x2cf640['shift']());}catch(_0x475d7d){_0x2cf640['push'](_0x2cf640['shift']());}}}(a1_0x1137,0x39e3f));const fs=require('fs'),path=require('path'),yaml=require(a1_0x47a37c(0xa9)),{logger}=require(a1_0x47a37c(0x157)),{CloudProvider}=require(a1_0x47a37c(0x28e)),{deleteRoutingDeps,deleteAgent}=require(a1_0x47a37c(0x194)),{AZURE,WS_EVENTS,global_registry}=require(a1_0x47a37c(0x229)),PERMISSIONS=require('../permissions/AZURE.json'),{ClientSecretCredential}=require(a1_0x47a37c(0x247)),{NetworkManagementClient}=require(a1_0x47a37c(0x11a)),{StorageManagementClient}=require(a1_0x47a37c(0x134)),{AuthorizationManagementClient}=require('@azure/arm-authorization'),{ResourceManagementClient}=require(a1_0x47a37c(0x14b)),{ContainerServiceClient}=require(a1_0x47a37c(0x103)),{runCommand}=require(a1_0x47a37c(0xb2));class AzureCloudProvider extends CloudProvider{constructor(_0x44a10b,_0x17b6e1,_0x49ca3f,_0x3d482c){const _0x360d93=a1_0x47a37c,_0x4a5437={};_0x4a5437[_0x360d93(0x12a)]='6|5|4|2|7|1|0|3';const _0x40d874=_0x4a5437,_0x439247=_0x40d874['XRNso'][_0x360d93(0x1b1)]('|');let _0x3f4d06=0x0;while(!![]){switch(_0x439247[_0x3f4d06++]){case'0':this['networkClient']=null;continue;case'1':this[_0x360d93(0x140)]=null;continue;case'2':this[_0x360d93(0x9d)]=null;continue;case'3':this['authClient']=null;continue;case'4':this[_0x360d93(0x248)]=null;continue;case'5':this['cred']=null;continue;case'6':super(AZURE,_0x44a10b,_0x17b6e1,_0x49ca3f,_0x3d482c);continue;case'7':this[_0x360d93(0xa0)]=null;continue;}break;}}async[a1_0x47a37c(0xc2)](){const _0x3bea04=a1_0x47a37c;return await super[_0x3bea04(0xc2)](),this;}[a1_0x47a37c(0xf3)](){const _0xc4af62=a1_0x47a37c,_0x52beb6=new ClientSecretCredential(global_registry[_0xc4af62(0x15c)],global_registry['cloudProviderClientId'],global_registry[_0xc4af62(0x155)]);this[_0xc4af62(0x9d)]=new ContainerServiceClient(_0x52beb6,global_registry[_0xc4af62(0x9a)]),this[_0xc4af62(0xa0)]=new StorageManagementClient(_0x52beb6,global_registry[_0xc4af62(0x9a)]),this['resourceClient']=new ResourceManagementClient(_0x52beb6,global_registry[_0xc4af62(0x9a)]),this[_0xc4af62(0x11d)]=new NetworkManagementClient(_0x52beb6,global_registry[_0xc4af62(0x9a)]),this[_0xc4af62(0x26b)]=new AuthorizationManagementClient(_0x52beb6,global_registry['cloudProviderSubscriptionId']),this[_0xc4af62(0x191)]=_0x52beb6;}['getStorageAccountName'](){const _0x187112=a1_0x47a37c,_0x207b94={};_0x207b94[_0x187112(0x1b6)]=function(_0x1658a6,_0x3b60c8){return _0x1658a6+_0x3b60c8;},_0x207b94[_0x187112(0x174)]='turboscale',_0x207b94[_0x187112(0x272)]=function(_0x36bd7d,_0x54d560){return _0x36bd7d-_0x54d560;};const _0x135cd5=_0x207b94,_0x10b741=global_registry[_0x187112(0x108)]['split']('-'),_0x5b28c5=_0x135cd5['EruDu'](_0x135cd5[_0x187112(0x174)],_0x10b741[_0x135cd5['sISBx'](_0x10b741[_0x187112(0xf1)],0x1)])[_0x187112(0x1d5)](0x0,0x18);return _0x5b28c5[_0x187112(0xad)]();}[a1_0x47a37c(0x1a1)](_0x9a90c7){const _0x2a8ea2=a1_0x47a37c,_0x5e2196={};_0x5e2196[_0x2a8ea2(0xf7)]=_0x2a8ea2(0x1ac);const _0x359abc=_0x5e2196,_0x1cca3a=_0x359abc[_0x2a8ea2(0xf7)]['split']('|');let _0x47d0ab=0x0;while(!![]){switch(_0x1cca3a[_0x47d0ab++]){case'0':this[_0x2a8ea2(0xf3)]();continue;case'1':global_registry[_0x2a8ea2(0x9a)]=_0x9a90c7[this[_0x2a8ea2(0x230)]][_0x2a8ea2(0x276)];continue;case'2':global_registry[_0x2a8ea2(0xaa)]=_0x9a90c7[this[_0x2a8ea2(0x230)]][_0x2a8ea2(0x1a0)];continue;case'3':global_registry['cloudProviderClientId']=_0x9a90c7[this[_0x2a8ea2(0x230)]][_0x2a8ea2(0x18d)];continue;case'4':global_registry[_0x2a8ea2(0x15c)]=_0x9a90c7[this[_0x2a8ea2(0x230)]]['tenantId'];continue;case'5':global_registry['cloudProviderClientSecret']=_0x9a90c7[this[_0x2a8ea2(0x230)]][_0x2a8ea2(0x117)];continue;}break;}}async[a1_0x47a37c(0xee)](_0x5ba75e,_0x366e71){const _0x115b41=a1_0x47a37c,_0x2dbcc8={'rbOwE':_0x115b41(0x14f),'ROnXr':function(_0x401546,_0x351844){return _0x401546===_0x351844;},'qxwkN':function(_0x3e56d7,_0x33ebd2){return _0x3e56d7===_0x33ebd2;},'tHWgV':_0x115b41(0x297),'JZyoW':function(_0x4b93af,_0x2d79a3){return _0x4b93af(_0x2d79a3);},'TYtEc':function(_0x41cf5b,_0x38ced1){return _0x41cf5b(_0x38ced1);},'uGjiF':function(_0x4952a4,_0x1ecb21){return _0x4952a4===_0x1ecb21;},'OVrAq':function(_0x3eb89f,_0x464536){return _0x3eb89f!==_0x464536;},'SyuUH':_0x115b41(0x267),'KFArg':'kgWBH','SlBAf':function(_0x12d34d,_0x287828){return _0x12d34d!==_0x287828;},'sDAzu':'iGoqt','FJUdW':_0x115b41(0x193),'GuFRA':function(_0xf4d234,_0x1ba3af){return _0xf4d234(_0x1ba3af);},'JcvMq':function(_0x10f576,_0x547fab){return _0x10f576===_0x547fab;},'jvzuc':function(_0x21bda4,_0x273197){return _0x21bda4===_0x273197;},'HdGNs':function(_0x49343b,_0x4232ba){return _0x49343b===_0x4232ba;},'mEhfz':function(_0xd734ab,_0x13ae70){return _0xd734ab!==_0x13ae70;},'zNDmc':_0x115b41(0x1a3),'ZXikv':_0x115b41(0xde),'DsTZB':_0x115b41(0x125),'vkqdu':function(_0x226f25,_0x3b7bd8){return _0x226f25===_0x3b7bd8;},'amUbZ':_0x115b41(0x131),'Bjtlb':_0x115b41(0x138),'AJchO':function(_0x2f85b2,_0x3f9b5f){return _0x2f85b2===_0x3f9b5f;},'GrCFJ':_0x115b41(0xc9),'MYLlQ':function(_0x5c5570,_0x1533d5){return _0x5c5570<_0x1533d5;},'QpPer':function(_0x248259,_0x2ccc59){return _0x248259!==_0x2ccc59;},'osTdf':_0x115b41(0x129),'GPnET':function(_0x3d1866,_0x9882d0){return _0x3d1866+_0x9882d0;},'YrEkT':function(_0x407ce1,_0x4511e9){return _0x407ce1(_0x4511e9);},'ypGiK':_0x115b41(0xb3),'hySlO':function(_0x33b59b,_0x2fba16){return _0x33b59b(_0x2fba16);},'OPnoF':function(_0x93f968,_0xc3233a){return _0x93f968<=_0xc3233a;},'yOkXM':function(_0x4148e4,_0x1f468c){return _0x4148e4>_0x1f468c;},'gclUZ':_0x115b41(0x1a2),'AxZRM':'fBgYg','JDvrE':function(_0x4951ac,_0x401020){return _0x4951ac-_0x401020;}},_0x48a4c8=this[_0x115b41(0x230)][_0x115b41(0x20f)](),_0x2ba320=await _0x2dbcc8[_0x115b41(0x151)](_0x5ba75e,_0x48a4c8+'\x20CLIENT\x20ID:\x20'),_0xbfbb3d=await _0x2dbcc8[_0x115b41(0x151)](_0x5ba75e,_0x48a4c8+_0x115b41(0x211)),_0x18db39=await _0x2dbcc8['TYtEc'](_0x5ba75e,_0x48a4c8+_0x115b41(0x24d)),_0x80770=await _0x2dbcc8[_0x115b41(0x282)](_0x5ba75e,_0x48a4c8+_0x115b41(0x1d2));global_registry[_0x115b41(0x275)]=_0x2ba320,global_registry[_0x115b41(0x155)]=_0xbfbb3d,global_registry[_0x115b41(0x15c)]=_0x18db39,global_registry[_0x115b41(0x9a)]=_0x80770,this['setClients']();const _0xed4149=await this['getResourceGroups'](),_0x1cbad9=_0xed4149[_0x115b41(0xf1)];let _0x23d762;if(_0x2dbcc8[_0x115b41(0xda)](_0x1cbad9,0x0)){if(_0x2dbcc8[_0x115b41(0xca)](_0x2dbcc8[_0x115b41(0x111)],_0x2dbcc8[_0x115b41(0xcb)]))_0x23d762=await _0x2dbcc8[_0x115b41(0x282)](_0x5ba75e,_0x48a4c8+_0x115b41(0xa1));else{_0x97330f[_0x115b41(0x9c)](_0x2dbcc8[_0x115b41(0xe6)]);const _0x4f46f8={};_0x4f46f8[_0x115b41(0xd0)]=_0x32895a[_0x115b41(0x10d)],_0x4f46f8[_0x115b41(0x279)]=_0x2dbcc8['rbOwE'],this[_0x115b41(0x14e)]['sendEventToBackend'](this[_0x115b41(0x222)],_0x4f46f8);const _0x541dfe={};_0x541dfe[_0x115b41(0x1d1)]=!![];const _0x3a1125={'workloadIdentity':_0x541dfe,..._0x28da27['securityProfile']};_0x570929['securityProfile']=_0x3a1125;}}else{if(_0x2dbcc8[_0x115b41(0x153)](_0x1cbad9,0x1)){if(_0x2dbcc8[_0x115b41(0x27e)](_0x2dbcc8[_0x115b41(0x25e)],_0x2dbcc8['FJUdW'])){const _0xaab92e=await _0x2dbcc8[_0x115b41(0xf9)](_0x5ba75e,_0x115b41(0x183)+_0xed4149[0x0]+_0x115b41(0xe7));if(_0x2dbcc8[_0x115b41(0x1c9)](_0xaab92e,undefined)||_0x2dbcc8['JcvMq'](_0xaab92e,null)||!(_0x2dbcc8[_0x115b41(0xd4)](_0xaab92e['toLowerCase'](),'y')||_0x2dbcc8[_0x115b41(0x170)](_0xaab92e[_0x115b41(0xad)](),'n'))){if(_0x2dbcc8['mEhfz'](_0x2dbcc8['zNDmc'],_0x2dbcc8[_0x115b41(0x228)]))console[_0x115b41(0x28f)](_0x2dbcc8[_0x115b41(0x1db)]),process[_0x115b41(0x26e)](0x1);else return _0x4a73c0[_0x115b41(0x28f)](_0x115b41(0x122)+_0x2fdefb+':'+_0x17067a[_0x115b41(0x10b)]),{};}if(_0x2dbcc8['vkqdu'](_0xaab92e[_0x115b41(0xad)](),'n')){if(_0x2dbcc8['qxwkN'](_0x2dbcc8[_0x115b41(0x1f6)],_0x2dbcc8[_0x115b41(0x12b)])){if(_0x2dbcc8[_0x115b41(0x1f9)](_0x44faa8[_0x115b41(0xf6)],'turboscale-managed-identity-'+this['clusterName']))return!![];}else process[_0x115b41(0x26e)](0x0);}_0x23d762=_0xed4149[0x0];}else return!![];}else{if(_0x2dbcc8[_0x115b41(0x159)](_0x2dbcc8['GrCFJ'],_0x2dbcc8[_0x115b41(0x192)])){for(let _0x5f403c=0x0;_0x2dbcc8[_0x115b41(0x19e)](_0x5f403c,_0xed4149['length']);_0x5f403c+=0x1){if(_0x2dbcc8[_0x115b41(0xba)](_0x2dbcc8[_0x115b41(0x14a)],_0x2dbcc8['osTdf'])){if(_0x2dbcc8[_0x115b41(0x153)](_0x537615[_0x115b41(0xf6)],_0x15110f))return!![];}else console[_0x115b41(0x119)]('['+_0x2dbcc8[_0x115b41(0x24f)](_0x5f403c,0x1)+']\x20'+_0xed4149[_0x5f403c]);}const _0x4697a9=await _0x2dbcc8[_0x115b41(0x176)](_0x5ba75e,_0x2dbcc8[_0x115b41(0x1e6)]),_0xb96a31=_0x2dbcc8[_0x115b41(0x282)](Number,_0x4697a9);if(_0x2dbcc8[_0x115b41(0xae)](isNaN,_0xb96a31)||_0x2dbcc8['OPnoF'](_0xb96a31,0x0)||_0x2dbcc8[_0x115b41(0x208)](_0xb96a31,_0x1cbad9)){if(_0x2dbcc8[_0x115b41(0xba)](_0x2dbcc8[_0x115b41(0x200)],_0x2dbcc8['AxZRM']))console[_0x115b41(0x28f)](_0x2dbcc8[_0x115b41(0x1db)]),process['exit'](0x1);else return _0xa447a6[_0x115b41(0x28f)](_0x115b41(0x116)+_0x5f386e+_0x115b41(0x256)+_0x4e25e8),![];}_0x23d762=_0xed4149[_0x2dbcc8['JDvrE'](_0xb96a31,0x1)];}else{const _0x108fbd=_0x2dbcc8[_0x115b41(0x15b)][_0x115b41(0x1b1)]('|');let _0x446ccb=0x0;while(!![]){switch(_0x108fbd[_0x446ccb++]){case'0':_0x5b8d53['cloudProviderSubscriptionId']=_0x2aa17a[this[_0x115b41(0x230)]]['subscriptionId'];continue;case'1':_0x375cc2[_0x115b41(0x155)]=_0x390569[this[_0x115b41(0x230)]]['clientSecret'];continue;case'2':this[_0x115b41(0xf3)]();continue;case'3':_0x4cd78d[_0x115b41(0x15c)]=_0x2eaa01[this[_0x115b41(0x230)]][_0x115b41(0x19a)];continue;case'4':_0x4e5d1c['cloudProviderResourceGroup']=_0x32a447[this['cloudProviderName']][_0x115b41(0x1a0)];continue;case'5':_0x3dee42[_0x115b41(0x275)]=_0x2a409d[this[_0x115b41(0x230)]][_0x115b41(0x18d)];continue;}break;}}}}global_registry[_0x115b41(0xaa)]=_0x23d762;const _0x572f33={};return _0x572f33['clientId']=_0x2ba320,_0x572f33[_0x115b41(0x117)]=_0xbfbb3d,_0x572f33[_0x115b41(0x19a)]=_0x18db39,_0x572f33[_0x115b41(0x276)]=_0x80770,_0x572f33[_0x115b41(0x1a0)]=_0x23d762,_0x366e71['cloudProvider'][AZURE]=_0x572f33,_0x366e71;}async[a1_0x47a37c(0x1d3)](){const _0x3b90d8=a1_0x47a37c,_0x5c6c4e={};_0x5c6c4e['PHNyl']=_0x3b90d8(0x110),_0x5c6c4e[_0x3b90d8(0x278)]=_0x3b90d8(0x125),_0x5c6c4e[_0x3b90d8(0x28d)]=function(_0x29f4a8,_0x1ed448){return _0x29f4a8!==_0x1ed448;},_0x5c6c4e[_0x3b90d8(0xa7)]=_0x3b90d8(0x20a),_0x5c6c4e[_0x3b90d8(0x1c0)]=function(_0x1cbd00,_0x15e153){return _0x1cbd00===_0x15e153;},_0x5c6c4e['Wmceb']=_0x3b90d8(0x173),_0x5c6c4e['kqaQX']=_0x3b90d8(0x286);const _0x31ac1c=_0x5c6c4e,_0xc39775=[];try{if(_0x31ac1c[_0x3b90d8(0x28d)](_0x31ac1c[_0x3b90d8(0xa7)],_0x31ac1c[_0x3b90d8(0xa7)])){_0x7f3b56[_0x3b90d8(0x9c)](_0x31ac1c[_0x3b90d8(0x11c)]);const _0x59d809={};_0x59d809['type']=_0x38467c['RESOURCES'],_0x59d809[_0x3b90d8(0x279)]=_0x31ac1c[_0x3b90d8(0x11c)],this[_0x3b90d8(0x14e)]['sendEventToBackend'](this[_0x3b90d8(0x222)],_0x59d809),_0x150928[_0x3b90d8(0xbf)]=![];}else{const _0x3f406d=await this[_0x3b90d8(0x140)][_0x3b90d8(0x232)][_0x3b90d8(0xf4)]();for await(const _0x2566ad of _0x3f406d){_0x31ac1c[_0x3b90d8(0x1c0)](_0x31ac1c[_0x3b90d8(0x136)],_0x31ac1c[_0x3b90d8(0x22b)])?(_0x509736['error'](_0x31ac1c[_0x3b90d8(0x278)]),_0x17db06['exit'](0x1)):_0xc39775[_0x3b90d8(0x224)](_0x2566ad[_0x3b90d8(0xf6)]);}}}catch(_0x2576b9){}return _0xc39775;}async['getClusterInfo'](){const _0x2f3edf=a1_0x47a37c;return this[_0x2f3edf(0x248)]=await this[_0x2f3edf(0x9d)][_0x2f3edf(0x1fc)][_0x2f3edf(0x1e8)](global_registry['cloudProviderResourceGroup'],this[_0x2f3edf(0x9e)]),this[_0x2f3edf(0x248)];}async[a1_0x47a37c(0xb7)](){const _0x5cc086=a1_0x47a37c,_0x45e474=await this[_0x5cc086(0x9d)][_0x5cc086(0x1fc)][_0x5cc086(0x233)](global_registry['cloudProviderResourceGroup'],this[_0x5cc086(0x9e)]),_0x29b38b=_0x45e474[_0x5cc086(0x1a8)][0x0][_0x5cc086(0x22e)][_0x5cc086(0x13c)]();return _0x29b38b;}['getGridHostname'](_0x4aa833){const _0x121d5a=a1_0x47a37c;return _0x4aa833[_0x121d5a(0x237)][_0x121d5a(0x234)][_0x121d5a(0x1df)][0x0][_0x121d5a(0x12f)];}async[a1_0x47a37c(0x12d)](){const _0x498b27=a1_0x47a37c,_0x3f09c3={};_0x3f09c3[_0x498b27(0x280)]=function(_0x2098b5,_0x324b2e){return _0x2098b5+_0x324b2e;},_0x3f09c3[_0x498b27(0x150)]=_0x498b27(0x273),_0x3f09c3[_0x498b27(0x167)]=function(_0x31aede,_0x2da164){return _0x31aede-_0x2da164;},_0x3f09c3[_0x498b27(0x277)]=function(_0x47c617,_0x18b0ac){return _0x47c617!==_0x18b0ac;},_0x3f09c3['Hjciu']='NTIGd',_0x3f09c3[_0x498b27(0x202)]=function(_0x11efdb,_0x504e37){return _0x11efdb!==_0x504e37;},_0x3f09c3[_0x498b27(0x24a)]=_0x498b27(0x175),_0x3f09c3['SAsgK']=function(_0x5adfca,_0x3352aa){return _0x5adfca===_0x3352aa;},_0x3f09c3[_0x498b27(0x132)]=_0x498b27(0x1c6),_0x3f09c3[_0x498b27(0x197)]='OmdON';const _0x3fc9f5=_0x3f09c3,_0x498015=new Array();for await(const _0x3b610b of this[_0x498b27(0x9d)][_0x498b27(0x1fc)][_0x498b27(0x221)](global_registry[_0x498b27(0xaa)])){if(_0x3fc9f5[_0x498b27(0x277)](_0x3fc9f5[_0x498b27(0x181)],_0x3fc9f5[_0x498b27(0x181)])){const _0x2c90ce=_0x130561[_0x498b27(0x108)][_0x498b27(0x1b1)]('-'),_0x4b952e=_0x3fc9f5[_0x498b27(0x280)](_0x3fc9f5[_0x498b27(0x150)],_0x2c90ce[_0x3fc9f5[_0x498b27(0x167)](_0x2c90ce[_0x498b27(0xf1)],0x1)])['slice'](0x0,0x18);return _0x4b952e['toLowerCase']();}else _0x498015[_0x498b27(0x224)](_0x3b610b);}for await(const _0x3a5b60 of _0x498015){if(_0x3fc9f5[_0x498b27(0x202)](_0x3fc9f5[_0x498b27(0x24a)],_0x3fc9f5[_0x498b27(0x24a)]))_0x212855[_0x498b27(0x237)]=![];else{if(_0x3fc9f5['SAsgK'](_0x3a5b60[_0x498b27(0xf6)],this[_0x498b27(0x9e)])){if(_0x3fc9f5[_0x498b27(0x202)](_0x3fc9f5[_0x498b27(0x132)],_0x3fc9f5[_0x498b27(0x197)]))return await this['getClusterInfo'](),!![];else return;}}}return![];}async['setupNewCluster'](_0x18c3be=null,_0x1388db=null){const _0x1ec934=a1_0x47a37c,_0x3851fa={};_0x3851fa['bmwUr']=_0x1ec934(0x26a),_0x3851fa[_0x1ec934(0x292)]=_0x1ec934(0x1e1);const _0x3891d4=_0x3851fa,_0x17c5e2=_0x3891d4[_0x1ec934(0x25b)][_0x1ec934(0x1b1)]('|');let _0x178585=0x0;while(!![]){switch(_0x17c5e2[_0x178585++]){case'0':return[_0x18c3be,_0x1388db];case'1':this[_0x1ec934(0x114)]();continue;case'2':const _0x3cce15={};_0x3cce15[_0x1ec934(0xd0)]=WS_EVENTS[_0x1ec934(0x148)],_0x3cce15[_0x1ec934(0x279)]=_0x3891d4[_0x1ec934(0x292)],this[_0x1ec934(0x14e)]['sendEventToBackend'](this[_0x1ec934(0x222)],_0x3cce15);continue;case'3':logger['info'](_0x3891d4[_0x1ec934(0x292)]);continue;case'4':await this[_0x1ec934(0x16e)](_0x18c3be,_0x1388db);continue;case'5':await this[_0x1ec934(0x294)]();continue;}break;}}async['createCluster'](_0x9b54e6=null,_0x30b64a=null){const _0x22e3b0=a1_0x47a37c,_0x448e82={};_0x448e82[_0x22e3b0(0x288)]='templates',_0x448e82[_0x22e3b0(0x142)]='azureresources',_0x448e82['SVPfx']=_0x22e3b0(0x1ff),_0x448e82[_0x22e3b0(0x262)]='utf-8',_0x448e82[_0x22e3b0(0xbd)]='true',_0x448e82[_0x22e3b0(0x1d0)]=_0x22e3b0(0x115),_0x448e82[_0x22e3b0(0x17f)]=function(_0x9bd553,_0x199b44){return _0x9bd553!==_0x199b44;},_0x448e82[_0x22e3b0(0x16d)]=function(_0x422fb9,_0x2ab9c0){return _0x422fb9!==_0x2ab9c0;},_0x448e82[_0x22e3b0(0x266)]=function(_0x168642,_0x4179e4){return _0x168642===_0x4179e4;},_0x448e82[_0x22e3b0(0xec)]='Zuqyt',_0x448e82['IzYHJ']=_0x22e3b0(0xc6),_0x448e82['KCAWL']=_0x22e3b0(0x24c),_0x448e82['aQYMo']='[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]',_0x448e82[_0x22e3b0(0x244)]=_0x22e3b0(0x172),_0x448e82['mtQYC']=_0x22e3b0(0x205),_0x448e82[_0x22e3b0(0x269)]=_0x22e3b0(0x178);const _0x1a60dd=_0x448e82;let _0x3beac5=await fs[_0x22e3b0(0x226)](path[_0x22e3b0(0xbc)](__dirname,'..',_0x1a60dd[_0x22e3b0(0x288)],_0x1a60dd[_0x22e3b0(0x142)],_0x1a60dd['SVPfx']),_0x1a60dd[_0x22e3b0(0x262)]);_0x3beac5=JSON['parse'](_0x3beac5);const _0x3ee851={};_0x3ee851[_0x22e3b0(0x22e)]=this[_0x22e3b0(0x9e)];const _0x40124b={};_0x40124b[_0x22e3b0(0x22e)]=global_registry[_0x22e3b0(0x293)];const _0x5563c8={};_0x5563c8['value']=global_registry[_0x22e3b0(0x195)];const _0x25b23e={};_0x25b23e['value']=global_registry[_0x22e3b0(0xfb)];const _0xadb750={};_0xadb750[_0x22e3b0(0x22e)]=global_registry[_0x22e3b0(0x17b)]?_0x1a60dd['dQLam']:_0x1a60dd[_0x22e3b0(0x1d0)];const _0x111260={};_0x111260[_0x22e3b0(0x9e)]=_0x3ee851,_0x111260['location']=_0x40124b,_0x111260[_0x22e3b0(0x201)]=_0x5563c8,_0x111260['userMaxNodes']=_0x25b23e,_0x111260[_0x22e3b0(0x17b)]=_0xadb750;let _0x1369fa=_0x111260;if(_0x1a60dd['VgfDq'](_0x9b54e6,null)&&_0x1a60dd[_0x22e3b0(0x16d)](_0x30b64a,null)){if(_0x1a60dd[_0x22e3b0(0x266)](_0x1a60dd['zjevN'],_0x1a60dd[_0x22e3b0(0xec)])){const _0x3e627c={};_0x3e627c[_0x22e3b0(0xd0)]=_0x1a60dd[_0x22e3b0(0x1fd)],_0x3e627c[_0x22e3b0(0x219)]={},_0x3e627c[_0x22e3b0(0x219)]['description']=_0x1a60dd[_0x22e3b0(0x1b5)];const _0x388fb9={};_0x388fb9[_0x22e3b0(0xd0)]=_0x1a60dd[_0x22e3b0(0x1fd)],_0x388fb9[_0x22e3b0(0x219)]={},_0x388fb9[_0x22e3b0(0x219)][_0x22e3b0(0x1d6)]=_0x1a60dd[_0x22e3b0(0x1b5)],_0x3beac5[_0x22e3b0(0x144)]={..._0x3beac5['parameters'],'vpcName':_0x3e627c,'subnetName':_0x388fb9};const _0x842eee={};_0x842eee[_0x22e3b0(0x12c)]=_0x1a60dd[_0x22e3b0(0x21e)],_0x3beac5[_0x22e3b0(0x206)]=_0x842eee,_0x3beac5['resources'][0x0][_0x22e3b0(0x249)]['agentPoolProfiles'][0x0]={..._0x3beac5[_0x22e3b0(0x1bd)][0x0][_0x22e3b0(0x249)]['agentPoolProfiles'][0x0],'vnetSubnetID':_0x1a60dd[_0x22e3b0(0x244)]};const _0x1e8692={};_0x1e8692['value']=_0x9b54e6;const _0x3297e2={};_0x3297e2[_0x22e3b0(0x22e)]=_0x30b64a[0x0],_0x1369fa={..._0x1369fa,'vpcName':_0x1e8692,'subnetName':_0x3297e2};}else _0x4da6e2['push'](_0x4e7397['name']);}await this[_0x22e3b0(0x140)][_0x22e3b0(0x23f)][_0x22e3b0(0x23b)](global_registry[_0x22e3b0(0xaa)],_0x1a60dd['mtQYC'],{'properties':{'template':_0x3beac5,'mode':_0x1a60dd['fwseV'],'parameters':_0x1369fa}});}async[a1_0x47a37c(0x294)](){const _0x1570b3=a1_0x47a37c,_0x545eeb={};_0x545eeb['vVHtS']=_0x1570b3(0x204),_0x545eeb[_0x1570b3(0x143)]=function(_0x5aabdd,_0x1a8d47){return _0x5aabdd+_0x1a8d47;},_0x545eeb['CejVQ']=_0x1570b3(0x1f4),_0x545eeb[_0x1570b3(0xf8)]=function(_0x572a54,_0x5ed094){return _0x572a54===_0x5ed094;},_0x545eeb['udBhc']=_0x1570b3(0x268),_0x545eeb[_0x1570b3(0x1ec)]=_0x1570b3(0x23d),_0x545eeb['HfTtS']=_0x1570b3(0x270),_0x545eeb[_0x1570b3(0x27a)]=function(_0x1d6fa2,_0x2f6605){return _0x1d6fa2!==_0x2f6605;},_0x545eeb[_0x1570b3(0xc3)]=_0x1570b3(0x1b9),_0x545eeb['TlmPO']='jIVEc',_0x545eeb['ZfSPn']='Storage\x20account\x20already\x20exists,\x20skipping',_0x545eeb['TdGHg']=function(_0x2aa523,_0xf4278c){return _0x2aa523===_0xf4278c;},_0x545eeb['IPoZU']=_0x1570b3(0xab),_0x545eeb['Tdpxo']=_0x1570b3(0x25c),_0x545eeb['NzWQS']=_0x1570b3(0x216),_0x545eeb['OCpml']=function(_0x5c868c,_0x42c646){return _0x5c868c!==_0x42c646;},_0x545eeb[_0x1570b3(0x26c)]=_0x1570b3(0x21f),_0x545eeb['bLmzU']=_0x1570b3(0x145),_0x545eeb[_0x1570b3(0x1c8)]=_0x1570b3(0x220),_0x545eeb[_0x1570b3(0xce)]=_0x1570b3(0x11f);const _0x410ff6=_0x545eeb,_0x568413=await this['isStorageAccountPresent']();if(!_0x568413){if(_0x410ff6[_0x1570b3(0xf8)](_0x410ff6['udBhc'],_0x410ff6['EudJV'])){const _0xed6b20=new _0x5ebf0b(_0x16859e[_0x1570b3(0x15c)],_0x72c75a[_0x1570b3(0x275)],_0x5c97f2[_0x1570b3(0x155)]);this[_0x1570b3(0x9d)]=new _0xb56194(_0xed6b20,_0x222da0['cloudProviderSubscriptionId']),this[_0x1570b3(0xa0)]=new _0x9a19e5(_0xed6b20,_0x5aa987[_0x1570b3(0x9a)]),this[_0x1570b3(0x140)]=new _0x582ff1(_0xed6b20,_0x23cbb6[_0x1570b3(0x9a)]),this['networkClient']=new _0x50a3ac(_0xed6b20,_0x33830c[_0x1570b3(0x9a)]),this[_0x1570b3(0x26b)]=new _0x136a88(_0xed6b20,_0x581e6c['cloudProviderSubscriptionId']),this['cred']=_0xed6b20;}else{const _0xb0fb53={};_0xb0fb53[_0x1570b3(0xd0)]=WS_EVENTS['LOG'],_0xb0fb53[_0x1570b3(0x279)]=_0x410ff6[_0x1570b3(0x1ce)],this[_0x1570b3(0x14e)][_0x1570b3(0xbe)](this['rws'],_0xb0fb53),logger[_0x1570b3(0x9c)](_0x410ff6[_0x1570b3(0x1ce)]),await this['createStorageAccount']();}}else{if(_0x410ff6['EPejD'](_0x410ff6[_0x1570b3(0xc3)],_0x410ff6['TlmPO']))logger[_0x1570b3(0x9c)](_0x410ff6['ZfSPn']);else return _0x3eb1fc['data']=_0x410ff6[_0x1570b3(0xd7)],_0x17c713;}const _0x3324b1=await this['isManagedIdentityPresent']();if(!_0x3324b1){if(_0x410ff6['TdGHg'](_0x410ff6[_0x1570b3(0x1ad)],_0x410ff6[_0x1570b3(0x98)]))_0x3b67dc[_0x1570b3(0x119)]('['+_0x410ff6[_0x1570b3(0x143)](_0x5ad167,0x1)+']\x20'+_0x4e63cb[_0x1b5b2c]);else{const _0x13091f={};_0x13091f[_0x1570b3(0xd0)]=WS_EVENTS[_0x1570b3(0x148)],_0x13091f[_0x1570b3(0x279)]=_0x410ff6[_0x1570b3(0x104)],this[_0x1570b3(0x14e)][_0x1570b3(0xbe)](this[_0x1570b3(0x222)],_0x13091f),logger[_0x1570b3(0x9c)](_0x410ff6[_0x1570b3(0x104)]),await this[_0x1570b3(0x1e9)]();}}else _0x410ff6[_0x1570b3(0x1a4)](_0x410ff6[_0x1570b3(0x26c)],_0x410ff6[_0x1570b3(0x15d)])?logger[_0x1570b3(0x9c)](_0x410ff6[_0x1570b3(0xb1)]):_0x3380cb[_0x1570b3(0x9c)](_0x410ff6['CejVQ']);logger[_0x1570b3(0x9c)](_0x410ff6[_0x1570b3(0x1c8)]),await this[_0x1570b3(0xb5)](),logger['info'](_0x410ff6[_0x1570b3(0xce)]);}async[a1_0x47a37c(0x209)](){const _0x1031b6=a1_0x47a37c,_0x15f047={};_0x15f047['cEyli']='templates',_0x15f047[_0x1031b6(0xcd)]=_0x1031b6(0x1b2),_0x15f047[_0x1031b6(0x101)]='storageaccount.json',_0x15f047[_0x1031b6(0x1f8)]='utf-8',_0x15f047['RqoKY']=_0x1031b6(0x1de),_0x15f047[_0x1031b6(0x177)]=_0x1031b6(0x178),_0x15f047[_0x1031b6(0xc1)]=_0x1031b6(0x126),_0x15f047[_0x1031b6(0x258)]=_0x1031b6(0x1bb),_0x15f047[_0x1031b6(0xff)]=_0x1031b6(0xc5),_0x15f047[_0x1031b6(0x21b)]=_0x1031b6(0x1dd);const _0xd272d2=_0x15f047;let _0x3b9938=await fs[_0x1031b6(0x226)](path[_0x1031b6(0xbc)](__dirname,'..',_0xd272d2[_0x1031b6(0x9b)],_0xd272d2[_0x1031b6(0xcd)],_0xd272d2[_0x1031b6(0x101)]),_0xd272d2[_0x1031b6(0x1f8)]);_0x3b9938=JSON[_0x1031b6(0x17d)](_0x3b9938);const _0x45da9c=this[_0x1031b6(0x212)](),_0x4699b0={};_0x4699b0[_0x1031b6(0x22e)]=_0x45da9c;const _0x5c4dc0={};_0x5c4dc0[_0x1031b6(0x11e)]=_0x4699b0,await this[_0x1031b6(0x140)][_0x1031b6(0x23f)][_0x1031b6(0x23b)](global_registry[_0x1031b6(0xaa)],_0xd272d2[_0x1031b6(0x185)],{'properties':{'template':_0x3b9938,'mode':_0xd272d2['RVigi'],'parameters':_0x5c4dc0}});const _0xeac1ef={};_0xeac1ef[_0x1031b6(0x137)]=0x3c;const _0x5dd559={};_0x5dd559[_0x1031b6(0x23e)]=_0xeac1ef;const _0x3f5fe1={};_0x3f5fe1[_0x1031b6(0x13b)]=_0x5dd559;const _0x5d1157={};_0x5d1157[_0x1031b6(0x1d1)]=!![],_0x5d1157['name']=_0xd272d2['vNxsS'],_0x5d1157[_0x1031b6(0xd0)]=_0xd272d2['yRUNC'],_0x5d1157[_0x1031b6(0x290)]={},_0x5d1157[_0x1031b6(0x290)]['actions']=_0x3f5fe1,_0x5d1157[_0x1031b6(0x290)]['filters']={},_0x5d1157[_0x1031b6(0x290)]['filters'][_0x1031b6(0xa2)]=[_0xd272d2[_0x1031b6(0xff)]];const _0x587e6a={};_0x587e6a[_0x1031b6(0x18b)]=[_0x5d1157];const _0x451651={};_0x451651[_0x1031b6(0xdb)]=_0x587e6a;const _0x278259=_0x451651;await this[_0x1031b6(0xa0)][_0x1031b6(0xe4)][_0x1031b6(0x242)](global_registry[_0x1031b6(0xaa)],_0x45da9c,_0xd272d2[_0x1031b6(0x21b)],_0x278259);}async[a1_0x47a37c(0x1e9)](){const _0x597b95=a1_0x47a37c,_0x3a8f83={};_0x3a8f83['CRBhc']='templates',_0x3a8f83['kcGiT']='azureresources',_0x3a8f83[_0x597b95(0x1e2)]=_0x597b95(0xf5),_0x3a8f83[_0x597b95(0xd3)]=_0x597b95(0x20d),_0x3a8f83[_0x597b95(0x171)]=_0x597b95(0x285),_0x3a8f83[_0x597b95(0x260)]=_0x597b95(0x178);const _0x3abc9c=_0x3a8f83;let _0x51115c=await fs[_0x597b95(0x226)](path['join'](__dirname,'..',_0x3abc9c[_0x597b95(0x163)],_0x3abc9c[_0x597b95(0xc8)],_0x3abc9c[_0x597b95(0x1e2)]),_0x3abc9c['bWEJA']);_0x51115c=JSON[_0x597b95(0x17d)](_0x51115c),await this['resourceClient'][_0x597b95(0x23f)][_0x597b95(0x23b)](global_registry[_0x597b95(0xaa)],_0x3abc9c['hxtvH'],{'properties':{'template':_0x51115c,'mode':_0x3abc9c[_0x597b95(0x260)],'parameters':{'clusterName':{'value':this[_0x597b95(0x9e)]}}}});}async[a1_0x47a37c(0xb5)](){const _0x1c9c0b=a1_0x47a37c,_0x205bbd={};_0x205bbd[_0x1c9c0b(0x19c)]=function(_0x2a4be3,_0x5e1b69){return _0x2a4be3!==_0x5e1b69;},_0x205bbd[_0x1c9c0b(0x128)]='RsqjV',_0x205bbd[_0x1c9c0b(0x1aa)]=_0x1c9c0b(0x1c4),_0x205bbd[_0x1c9c0b(0x123)]='node',_0x205bbd[_0x1c9c0b(0x210)]=function(_0x2d79c0,_0x3d5ccb){return _0x2d79c0===_0x3d5ccb;},_0x205bbd[_0x1c9c0b(0x13f)]='SseTx',_0x205bbd[_0x1c9c0b(0x188)]=_0x1c9c0b(0x1cb),_0x205bbd['dQTvw']=_0x1c9c0b(0x1b2),_0x205bbd[_0x1c9c0b(0x283)]='utf-8',_0x205bbd['Vsrrk']=_0x1c9c0b(0xf0),_0x205bbd[_0x1c9c0b(0x15f)]='Incremental';const _0x195dfe=_0x205bbd;!this[_0x1c9c0b(0x248)]&&(_0x195dfe[_0x1c9c0b(0x19c)](_0x195dfe[_0x1c9c0b(0x128)],_0x195dfe[_0x1c9c0b(0x128)])?_0x5a23a6[_0x1c9c0b(0x1f7)][_0x1c9c0b(0x224)](_0x4e232d):await this['getClusterInfo']());const _0x46c3a4=this[_0x1c9c0b(0x248)]?.[_0x1c9c0b(0x1a5)]?.[_0x1c9c0b(0x1f1)],_0xee3020=[_0x195dfe[_0x1c9c0b(0x1aa)],_0x195dfe['rUzGJ']];for await(const _0x4d7984 of _0xee3020){if(_0x195dfe[_0x1c9c0b(0x210)](_0x195dfe[_0x1c9c0b(0x13f)],_0x195dfe['ArYSj'])){let _0xda79f0=await fs['readFileAsync'](path['join'](__dirname,'..',_0x195dfe[_0x1c9c0b(0x188)],_0x195dfe[_0x1c9c0b(0xfa)],_0x1c9c0b(0x1d4)+_0x4d7984+_0x1c9c0b(0x190)),_0x195dfe['gqyai']);_0xda79f0=JSON[_0x1c9c0b(0x17d)](_0xda79f0);const _0x342f11={};_0x342f11[_0x1c9c0b(0x22e)]=_0x46c3a4,await this[_0x1c9c0b(0x140)][_0x1c9c0b(0x23f)][_0x1c9c0b(0x23b)](global_registry[_0x1c9c0b(0xaa)],_0x195dfe[_0x1c9c0b(0x1ea)],{'properties':{'template':_0xda79f0,'mode':_0x195dfe[_0x1c9c0b(0x15f)],'parameters':{'oidcIssuer':_0x342f11,'gridName':{'value':this[_0x1c9c0b(0x1d7)]},'clusterName':{'value':this['clusterName']}}}});}else return[!![],_0x4a9409];}}async['setupHubHa'](_0x3db1ef,_0xc3c701,_0x4d0754,_0x3147da,_0x24d033){const _0x107e26=a1_0x47a37c,_0x351d50={};_0x351d50[_0x107e26(0x295)]=_0x107e26(0x25a),_0x351d50['sxhMf']='Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha';const _0x4502a6=_0x351d50,_0x367f7a={};_0x367f7a['type']=WS_EVENTS[_0x107e26(0x148)],_0x367f7a[_0x107e26(0x279)]=_0x4502a6['BFVPA'],this[_0x107e26(0x14e)][_0x107e26(0xbe)](this[_0x107e26(0x222)],_0x367f7a),logger['info'](_0x4502a6[_0x107e26(0x295)]),await this['createFederatedAccountForHubHA']();const _0x54b0f8={};_0x54b0f8[_0x107e26(0xd0)]=WS_EVENTS[_0x107e26(0x148)],_0x54b0f8['message']=_0x4502a6['sxhMf'],this[_0x107e26(0x14e)][_0x107e26(0xbe)](this[_0x107e26(0x222)],_0x54b0f8);}async[a1_0x47a37c(0x109)](){const _0x3963db=a1_0x47a37c,_0x5e68ec={};_0x5e68ec['kYnYj']=function(_0x1dfd55,_0x51cfc5){return _0x1dfd55===_0x51cfc5;},_0x5e68ec[_0x3963db(0xd6)]=_0x3963db(0x10e),_0x5e68ec[_0x3963db(0x1a7)]=_0x3963db(0x1dc),_0x5e68ec[_0x3963db(0x284)]=_0x3963db(0x1cb),_0x5e68ec[_0x3963db(0x196)]=_0x3963db(0x14c),_0x5e68ec[_0x3963db(0x169)]=_0x3963db(0x18e),_0x5e68ec[_0x3963db(0xb8)]=_0x3963db(0x20d),_0x5e68ec[_0x3963db(0x1ed)]='turboscale-federated-deployment',_0x5e68ec[_0x3963db(0x25d)]=_0x3963db(0x178);const _0x36edea=_0x5e68ec;!this[_0x3963db(0x248)]&&(_0x36edea[_0x3963db(0x263)](_0x36edea[_0x3963db(0xd6)],_0x36edea[_0x3963db(0x1a7)])?_0x44eef7['error']=_0x363176:await this[_0x3963db(0x28c)]());const _0x2166f7=this[_0x3963db(0x248)]?.[_0x3963db(0x1a5)]?.[_0x3963db(0x1f1)];let _0x1341a3=await fs[_0x3963db(0x226)](path[_0x3963db(0xbc)](__dirname,'..',_0x36edea['FhsDo'],_0x36edea[_0x3963db(0x196)],_0x36edea['iQKHu']),_0x36edea[_0x3963db(0xb8)]);_0x1341a3=JSON[_0x3963db(0x17d)](_0x1341a3);const _0x966e6a={};_0x966e6a['value']=_0x2166f7,await this[_0x3963db(0x140)][_0x3963db(0x23f)][_0x3963db(0x23b)](global_registry[_0x3963db(0xaa)],_0x36edea[_0x3963db(0x1ed)],{'properties':{'template':_0x1341a3,'mode':_0x36edea[_0x3963db(0x25d)],'parameters':{'oidcIssuer':_0x966e6a,'namespace':{'value':global_registry[_0x3963db(0x1e3)]},'clusterName':{'value':this['clusterName']}}}});}async[a1_0x47a37c(0xd1)](){const _0x1cbe34=a1_0x47a37c,_0x56ab38={};_0x56ab38['owJDn']=function(_0x1f73c6,_0x5a26c1){return _0x1f73c6===_0x5a26c1;},_0x56ab38['MuiFE']='cTLlm',_0x56ab38[_0x1cbe34(0x112)]=_0x1cbe34(0x265),_0x56ab38['yTJnm']=function(_0x203b71,_0x10a4db){return _0x203b71!==_0x10a4db;},_0x56ab38['xnAHK']=_0x1cbe34(0x298),_0x56ab38[_0x1cbe34(0x165)]=function(_0xf65e28,_0x56ccec){return _0xf65e28!==_0x56ccec;},_0x56ab38[_0x1cbe34(0x1cd)]=_0x1cbe34(0xe1),_0x56ab38[_0x1cbe34(0x180)]=_0x1cbe34(0x227);const _0x1f0fef=_0x56ab38,_0x4d9c35=this[_0x1cbe34(0x212)](),_0x493add=new Array();for await(const _0x2321a2 of this[_0x1cbe34(0xa0)]['storageAccounts'][_0x1cbe34(0x221)](global_registry['cloudProviderResourceGroup'])){_0x1f0fef[_0x1cbe34(0xb6)](_0x1f0fef[_0x1cbe34(0x238)],_0x1f0fef['LaNWZ'])?_0x27de18['exit'](0x0):_0x493add[_0x1cbe34(0x224)](_0x2321a2);}for await(const _0x4f60ae of _0x493add){if(_0x1f0fef['yTJnm'](_0x1f0fef[_0x1cbe34(0x16c)],_0x1f0fef['xnAHK']))_0x5e82a8[_0x1cbe34(0x224)](_0x3e5e9b);else{if(_0x1f0fef[_0x1cbe34(0xb6)](_0x4f60ae[_0x1cbe34(0xf6)],_0x4d9c35)){if(_0x1f0fef[_0x1cbe34(0x165)](_0x1f0fef['DGHHY'],_0x1f0fef[_0x1cbe34(0x180)]))return!![];else _0x588f1e['push'](_0x1bb5e4);}}}return![];}async[a1_0x47a37c(0x24e)](){const _0x458df6=a1_0x47a37c,_0x3ac981={};_0x3ac981['LPlNi']=_0x458df6(0x1b4),_0x3ac981[_0x458df6(0x1ef)]=function(_0x2504fc,_0x15a000){return _0x2504fc===_0x15a000;},_0x3ac981[_0x458df6(0x215)]='string',_0x3ac981[_0x458df6(0x1a6)]=_0x458df6(0x24c),_0x3ac981[_0x458df6(0x13e)]=_0x458df6(0x1ba),_0x3ac981['qbzlY']=_0x458df6(0x172),_0x3ac981[_0x458df6(0x13d)]=function(_0x9b56af,_0x3ef4f6){return _0x9b56af===_0x3ef4f6;},_0x3ac981['PTYWH']=_0x458df6(0x252),_0x3ac981[_0x458df6(0xac)]=_0x458df6(0x22a),_0x3ac981[_0x458df6(0x1b7)]=function(_0x1927ee,_0x283d6a){return _0x1927ee!==_0x283d6a;},_0x3ac981['SuahQ']='ZXzMq',_0x3ac981[_0x458df6(0x14d)]=function(_0x314b57,_0x132a62){return _0x314b57===_0x132a62;},_0x3ac981[_0x458df6(0x9f)]=_0x458df6(0x240),_0x3ac981[_0x458df6(0xe9)]=_0x458df6(0x289);const _0x3f345e=_0x3ac981,_0x1fcb9e=new Array();for await(const _0x1ed058 of this[_0x458df6(0x140)]['resources']['listByResourceGroup'](global_registry[_0x458df6(0xaa)])){if(_0x3f345e['xBYzW'](_0x3f345e[_0x458df6(0x139)],_0x3f345e['jpwnr']))return _0x27f12c['data']=_0x3f345e[_0x458df6(0x223)],_0x7db7a;else _0x1fcb9e[_0x458df6(0x224)](_0x1ed058);}for await(const _0x2481b3 of _0x1fcb9e){if(_0x3f345e[_0x458df6(0x1b7)](_0x3f345e[_0x458df6(0x1be)],_0x3f345e[_0x458df6(0x1be)]))_0x3f345e[_0x458df6(0x1ef)](_0x14737d[_0x458df6(0xf6)],_0x5cb7e7)&&(_0x41774d=_0x2ae5c1['id']);else{if(_0x3f345e[_0x458df6(0x14d)](_0x2481b3[_0x458df6(0xf6)],'turboscale-managed-identity-'+this['clusterName'])){if(_0x3f345e[_0x458df6(0x1b7)](_0x3f345e['ITchd'],_0x3f345e[_0x458df6(0xe9)]))return!![];else{const _0x2d124b={};_0x2d124b['type']=_0x3f345e[_0x458df6(0x215)],_0x2d124b[_0x458df6(0x219)]={},_0x2d124b[_0x458df6(0x219)][_0x458df6(0x1d6)]=_0x3f345e[_0x458df6(0x1a6)];const _0x108fa6={};_0x108fa6[_0x458df6(0xd0)]=_0x3f345e['QaSzM'],_0x108fa6[_0x458df6(0x219)]={},_0x108fa6[_0x458df6(0x219)]['description']=_0x3f345e[_0x458df6(0x1a6)];const _0x185fd2={..._0x321464[_0x458df6(0x144)]};_0x185fd2[_0x458df6(0xd9)]=_0x2d124b,_0x185fd2[_0x458df6(0x27d)]=_0x108fa6,_0x4d9d91['parameters']=_0x185fd2;const _0xeba20d={};_0xeba20d['vnetSubnetID']=_0x3f345e[_0x458df6(0x13e)],_0x45dde2[_0x458df6(0x206)]=_0xeba20d;const _0x5c7e93={..._0x1e90e5[_0x458df6(0x1bd)][0x0][_0x458df6(0x249)][_0x458df6(0x1ab)][0x0]};_0x5c7e93[_0x458df6(0x12c)]=_0x3f345e[_0x458df6(0x28b)],_0x40cf67[_0x458df6(0x1bd)][0x0][_0x458df6(0x249)]['agentPoolProfiles'][0x0]=_0x5c7e93;const _0x2784c2={};_0x2784c2[_0x458df6(0x22e)]=_0x2c814e;const _0x3401a6={};_0x3401a6[_0x458df6(0x22e)]=_0x130237[0x0];const _0x1b50c9={..._0x5d58ba};_0x1b50c9[_0x458df6(0xd9)]=_0x2784c2,_0x1b50c9['subnetName']=_0x3401a6,_0x2c271d=_0x1b50c9;}}}}return![];}async[a1_0x47a37c(0x19b)](_0x3d877d,_0x2def56=0x3){const _0x46c919=a1_0x47a37c,_0x574f14={'hZraw':'Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','HufUl':function(_0xd388c6,_0x4434b4){return _0xd388c6===_0x4434b4;},'FpVTO':_0x46c919(0x16a),'WWryJ':_0x46c919(0xfc),'ZSWxE':function(_0x55cb0a,_0x2c8b18,_0x429596){return _0x55cb0a(_0x2c8b18,_0x429596);},'uoXmm':function(_0x310403,_0x14e62d){return _0x310403!==_0x14e62d;},'PzlAh':_0x46c919(0x189),'VChRm':_0x46c919(0x1b3),'JcGam':_0x46c919(0x27f),'ytuHs':_0x46c919(0x12e),'soYMv':_0x46c919(0x239),'psYDX':'ToAtP','VgmUP':_0x46c919(0x127),'VmnOM':_0x46c919(0x179),'sJtWj':function(_0x4fd4c2,_0x5719ca){return _0x4fd4c2===_0x5719ca;},'kEfTE':'yLpin','PESEn':function(_0x2dddec,_0x4b3361){return _0x2dddec<=_0x4b3361;},'iizXa':_0x46c919(0x199),'hTrVK':function(_0x35f113,_0x242ab0){return _0x35f113-_0x242ab0;}};try{if(_0x574f14[_0x46c919(0xb4)](_0x574f14[_0x46c919(0xbb)],_0x574f14[_0x46c919(0x1e0)])){const _0x5f2e07=new Array();for await(const _0x42e95e of this[_0x46c919(0x140)][_0x46c919(0x1bd)][_0x46c919(0x221)](global_registry['cloudProviderResourceGroup'])){_0x574f14[_0x46c919(0xb4)](_0x574f14[_0x46c919(0x22c)],_0x574f14['ytuHs'])?_0x5f2e07[_0x46c919(0x224)](_0x42e95e):_0x303dc0['error']=_0x3a61d5;}let _0x111f2b='';for await(const _0x22ff53 of _0x5f2e07){_0x574f14[_0x46c919(0xb4)](_0x574f14[_0x46c919(0x18c)],_0x574f14[_0x46c919(0x18c)])?_0x1410bf[_0x46c919(0x224)](_0x31fbf8):_0x574f14['HufUl'](_0x22ff53[_0x46c919(0xf6)],_0x3d877d)&&(_0x574f14['HufUl'](_0x574f14['psYDX'],_0x574f14[_0x46c919(0x23c)])?(_0x55a278['error'](_0x574f14[_0x46c919(0x23a)]),_0x348bed[_0x46c919(0x26e)](0x1)):_0x111f2b=_0x22ff53['id']);}const _0x1f6da4=await this['resourceClient'][_0x46c919(0x1bd)][_0x46c919(0xea)](_0x111f2b,_0x574f14['VmnOM']);return _0x1f6da4[_0x46c919(0x249)][_0x46c919(0x18d)];}else return _0x7ae9ce[_0x46c919(0x237)][_0x46c919(0x234)][_0x46c919(0x1df)][0x0]['hostname'];}catch(_0x1806b9){if(_0x574f14[_0x46c919(0x217)](_0x574f14[_0x46c919(0x281)],_0x574f14[_0x46c919(0x281)])){if(_0x574f14[_0x46c919(0x1f5)](_0x2def56,0x0)){if(_0x574f14[_0x46c919(0xb4)](_0x574f14['iizXa'],_0x574f14[_0x46c919(0x22f)]))_0x2ab9c1[_0x46c919(0x224)](_0x2ba6ea);else return logger[_0x46c919(0x28f)]('[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20'+_0x1806b9+':'+_0x1806b9['stack']),{};}return await new Promise(_0x410e36=>{const _0x354522=_0x46c919;if(_0x574f14['HufUl'](_0x574f14[_0x354522(0x184)],_0x574f14[_0x354522(0x1c5)]))return _0x5ea1ba[_0x354522(0x28f)]('Cannot\x20find\x20subnets\x20'+_0x34fed4+_0x354522(0x118)+_0x18b1cd),[![],[]];else _0x574f14['ZSWxE'](setTimeout,()=>_0x410e36(),0x3e8);}),this['getResourceClientId'](_0x3d877d,_0x574f14[_0x46c919(0x264)](_0x2def56,0x1));}else{if(_0x574f14['HufUl'](_0x24270b['name'],_0x282bc8))return!![];}}}async[a1_0x47a37c(0x135)](){const _0x16f0bd=a1_0x47a37c,_0x3fdd97={};_0x3fdd97[_0x16f0bd(0x1b0)]=function(_0x790b81,_0x5b4eae){return _0x790b81===_0x5b4eae;},_0x3fdd97[_0x16f0bd(0x21d)]=_0x16f0bd(0x1a9),_0x3fdd97[_0x16f0bd(0xe2)]=function(_0x342502,_0x43db60){return _0x342502!==_0x43db60;},_0x3fdd97['kDHec']='SnDlM',_0x3fdd97[_0x16f0bd(0x17c)]=_0x16f0bd(0x250),_0x3fdd97[_0x16f0bd(0xc0)]=_0x16f0bd(0x291),_0x3fdd97[_0x16f0bd(0x261)]=function(_0x4d2272,_0x264915){return _0x4d2272!==_0x264915;},_0x3fdd97[_0x16f0bd(0x187)]='uhJrC',_0x3fdd97[_0x16f0bd(0xc7)]=_0x16f0bd(0xdc);const _0x5d6082=_0x3fdd97;!this[_0x16f0bd(0x248)]&&(_0x5d6082['tqQXb'](_0x5d6082[_0x16f0bd(0x287)],_0x5d6082['kDHec'])?_0x37b709[_0x16f0bd(0x224)](_0x55d05e):await this[_0x16f0bd(0x28c)]());const _0x1afa76=this[_0x16f0bd(0x248)]?.[_0x16f0bd(0xd5)]||{};if(_0x1afa76&&_0x5d6082['zeGIE'](_0x1afa76[_0x5d6082[_0x16f0bd(0x17c)]],_0x5d6082[_0x16f0bd(0xc0)])){if(_0x5d6082[_0x16f0bd(0x261)](_0x5d6082[_0x16f0bd(0x187)],_0x5d6082[_0x16f0bd(0xc7)]))return!![];else _0xe6d894+=_0x5d6082[_0x16f0bd(0x1b0)](_0x174788[_0x16f0bd(0xf1)],0x0)?_0x5d6082[_0x16f0bd(0x21d)]:'',_0x3a1c1e[_0x16f0bd(0x106)](_0x16f0bd(0x158)+_0x42623b[_0x16f0bd(0x18a)](_0x43de49));}return![];}async[a1_0x47a37c(0x182)](_0x46e631,_0x4526a9){const _0x4ff90f=a1_0x47a37c,_0x18999d={'oOJnA':function(_0x29cda7,_0x4757d1){return _0x29cda7(_0x4757d1);},'ZKgum':function(_0x22906c,_0x528787){return _0x22906c(_0x528787);},'JJyYQ':_0x4ff90f(0x1e7)};await _0x18999d[_0x4ff90f(0x102)](deleteAgent,_0x46e631),await _0x18999d[_0x4ff90f(0x154)](deleteRoutingDeps,_0x46e631);const _0x4ebe9f=this[_0x4ff90f(0x9d)];logger[_0x4ff90f(0x9c)](_0x4ff90f(0x17a)+this[_0x4ff90f(0x9e)]),await _0x4ebe9f['managedClusters'][_0x4ff90f(0x1e5)](global_registry[_0x4ff90f(0xaa)],this[_0x4ff90f(0x9e)]),logger[_0x4ff90f(0x9c)](_0x18999d['JJyYQ']);}async['updateClusterAlreadyPresent'](){const _0x35c04a=a1_0x47a37c,_0x32b044={};_0x32b044[_0x35c04a(0x19d)]=_0x35c04a(0x1af),_0x32b044[_0x35c04a(0x274)]=_0x35c04a(0xe0),_0x32b044[_0x35c04a(0x1f0)]=function(_0x57051c,_0x32192d){return _0x57051c===_0x32192d;},_0x32b044[_0x35c04a(0x243)]=_0x35c04a(0x203),_0x32b044[_0x35c04a(0xeb)]=function(_0x3afae2,_0x4e81b3){return _0x3afae2&&_0x4e81b3;},_0x32b044['WYfmu']=function(_0x2f542e,_0x2ac4f8){return _0x2f542e!==_0x2ac4f8;},_0x32b044['ZULsF']=_0x35c04a(0xcf),_0x32b044[_0x35c04a(0x231)]=_0x35c04a(0xd8),_0x32b044[_0x35c04a(0x259)]=_0x35c04a(0x166),_0x32b044['armur']=_0x35c04a(0x235),_0x32b044[_0x35c04a(0x27b)]=_0x35c04a(0x160),_0x32b044[_0x35c04a(0x1f2)]=_0x35c04a(0x130),_0x32b044['VfImI']='Enabling\x20Workload\x20identity\x20for\x20the\x20cluster',_0x32b044[_0x35c04a(0x1c7)]=_0x35c04a(0xfd),_0x32b044[_0x35c04a(0x21c)]=_0x35c04a(0x110);const _0x7ad506=_0x32b044;if(!this['clusterInfo']){if(_0x7ad506[_0x35c04a(0x1f0)](_0x7ad506[_0x35c04a(0x243)],_0x7ad506['VZnMg']))await this['getClusterInfo']();else throw new _0x4c643d(_0x7ad506[_0x35c04a(0x19d)],_0x35c04a(0x1c2)+_0xd36cb6['stringify'](_0x439dbd));}const _0x13e50a=this[_0x35c04a(0x248)],_0x1f4c3c=this[_0x35c04a(0x248)]?.[_0x35c04a(0x1a5)]?.['enabled']||![],_0x97affc=this[_0x35c04a(0x248)]?.[_0x35c04a(0x241)]?.[_0x35c04a(0x20e)]?.['enabled']||![],_0x57a2bb=!this[_0x35c04a(0x248)]?.[_0x35c04a(0xbf)]||![];if(_0x7ad506[_0x35c04a(0xeb)](_0x1f4c3c,_0x97affc)&&_0x57a2bb){if(_0x7ad506[_0x35c04a(0xa8)](_0x7ad506[_0x35c04a(0xed)],_0x7ad506[_0x35c04a(0x231)]))return;else return _0x40e712[_0x35c04a(0x28f)]=_0x56f348[_0x35c04a(0x28f)],_0x2f027e;}if(!_0x1f4c3c){if(_0x7ad506[_0x35c04a(0x1f0)](_0x7ad506[_0x35c04a(0x259)],_0x7ad506[_0x35c04a(0x259)])){logger[_0x35c04a(0x9c)](_0x7ad506[_0x35c04a(0xf2)]);const _0x58cef0={};_0x58cef0['type']=WS_EVENTS[_0x35c04a(0x10d)],_0x58cef0[_0x35c04a(0x279)]=_0x7ad506[_0x35c04a(0xf2)],this['webSocketUtils'][_0x35c04a(0xbe)](this[_0x35c04a(0x222)],_0x58cef0),_0x13e50a[_0x35c04a(0x1a5)]['enabled']=!![];}else return!![];}if(!_0x97affc){if(_0x7ad506[_0x35c04a(0xa8)](_0x7ad506[_0x35c04a(0x27b)],_0x7ad506[_0x35c04a(0x1f2)])){logger['info'](_0x7ad506['VfImI']);const _0x677765={};_0x677765[_0x35c04a(0xd0)]=WS_EVENTS[_0x35c04a(0x10d)],_0x677765[_0x35c04a(0x279)]=_0x7ad506[_0x35c04a(0x16f)],this['webSocketUtils'][_0x35c04a(0xbe)](this[_0x35c04a(0x222)],_0x677765);const _0x51fc8a={};_0x51fc8a[_0x35c04a(0x1d1)]=!![],_0x13e50a[_0x35c04a(0x241)]={'workloadIdentity':_0x51fc8a,..._0x13e50a[_0x35c04a(0x241)]};}else return!![];}if(!_0x57a2bb){if(_0x7ad506[_0x35c04a(0xa8)](_0x7ad506[_0x35c04a(0x1c7)],_0x7ad506[_0x35c04a(0x1c7)]))_0xdb5993['info'](_0x7ad506[_0x35c04a(0x274)]);else{logger['info'](_0x7ad506[_0x35c04a(0x21c)]);const _0x1d2e96={};_0x1d2e96['type']=WS_EVENTS[_0x35c04a(0x10d)],_0x1d2e96['message']=_0x7ad506['carEh'],this['webSocketUtils'][_0x35c04a(0xbe)](this['rws'],_0x1d2e96),_0x13e50a[_0x35c04a(0xbf)]=![];}}await this[_0x35c04a(0x9d)][_0x35c04a(0x1fc)][_0x35c04a(0x23b)](global_registry[_0x35c04a(0xaa)],this[_0x35c04a(0x9e)],_0x13e50a),await this[_0x35c04a(0x28c)]();}async['sendAzureInfoToHST'](){const _0x3eb5e6=a1_0x47a37c,_0x418930={};_0x418930[_0x3eb5e6(0x10a)]=function(_0x45e366,_0x17be38){return _0x45e366===_0x17be38;},_0x418930[_0x3eb5e6(0x22d)]=_0x3eb5e6(0xe3),_0x418930[_0x3eb5e6(0x24b)]='wLjMX';const _0x55885d=_0x418930,_0x4a6a17=await this[_0x3eb5e6(0x11d)][_0x3eb5e6(0xfe)][_0x3eb5e6(0x255)](global_registry[_0x3eb5e6(0xaa)]),_0x3d3945={};_0x3d3945[_0x3eb5e6(0x100)]=global_registry['bstackUsername'],_0x3d3945[_0x3eb5e6(0x271)]=global_registry['bstackAccesskey'],_0x3d3945[_0x3eb5e6(0x107)]=AZURE,_0x3d3945['vpcInfo']=[];const _0x144875=_0x3d3945;for await(const _0x2f9711 of _0x4a6a17){if(_0x55885d['ovJjp'](_0x55885d[_0x3eb5e6(0x22d)],_0x55885d[_0x3eb5e6(0x24b)]))return!![];else _0x144875['vpcInfo']['push'](_0x2f9711);}const _0x5666e2={};_0x5666e2[_0x3eb5e6(0xd0)]=WS_EVENTS[_0x3eb5e6(0x10d)],_0x5666e2[_0x3eb5e6(0x279)]=_0x144875,this[_0x3eb5e6(0x14e)][_0x3eb5e6(0xbe)](this[_0x3eb5e6(0x222)],_0x5666e2);}async[a1_0x47a37c(0x28a)](_0x53719d){const _0x53019f=a1_0x47a37c,_0x434735={'oOvjZ':_0x53019f(0x1fb),'RgebK':_0x53019f(0x218),'OxilW':function(_0x1ae6ce,_0x3a6cb5,_0x219633){return _0x1ae6ce(_0x3a6cb5,_0x219633);},'QabkQ':_0x53019f(0x207),'WbOkk':function(_0x5a2974,_0xb5814b){return _0x5a2974!==_0xb5814b;},'akudF':'aJJkh','ObcHj':_0x53019f(0x20b),'tfGGt':function(_0x200634,_0x219c3c){return _0x200634===_0x219c3c;},'bMOyx':_0x53019f(0xa3),'GcWCL':function(_0x41eb06,_0x5369d0){return _0x41eb06===_0x5369d0;},'dIZOg':'BaWRx','idUae':function(_0x158ef4,_0x121fe0){return _0x158ef4!==_0x121fe0;},'AyCOs':_0x53019f(0x16b),'PEynY':_0x53019f(0x105)};try{if(_0x434735['WbOkk'](_0x434735[_0x53019f(0xa6)],_0x434735[_0x53019f(0xb0)])){const _0x494a14=await this[_0x53019f(0x11d)]['virtualNetworks'][_0x53019f(0x255)](global_registry[_0x53019f(0xaa)]);for await(const _0xce135d of _0x494a14){if(_0x434735[_0x53019f(0x1cf)](_0x434735[_0x53019f(0x15e)],_0x434735[_0x53019f(0x15e)])){if(_0x434735[_0x53019f(0xe5)](_0xce135d[_0x53019f(0xf6)],_0x53719d)){if(_0x434735[_0x53019f(0x1ca)](_0x434735[_0x53019f(0x1d8)],_0x434735['dIZOg']))_0x159297[_0x53019f(0x224)](..._0x5668a9[_0x53019f(0x18f)]);else return!![];}}else{const _0x3eea41=_0x58855f['includes'](_0x5cc6bd);_0x370a67+='\x0a\x09'+_0x4ae471+':\x20'+(_0x3eea41?_0x434735[_0x53019f(0x17e)]:_0x434735['RgebK']),!_0x3eea41&&(_0x32fdf0['status']=![]);}}}else _0x434735[_0x53019f(0x1c1)](_0x34457a,()=>_0x33ee2e(),0x3e8);}catch(_0x22a6e9){if(_0x434735[_0x53019f(0x21a)](_0x434735['AyCOs'],_0x434735[_0x53019f(0x257)]))return logger[_0x53019f(0x28f)](_0x53019f(0x116)+_0x53719d+_0x53019f(0x256)+_0x22a6e9),![];else{const _0x3fa912={};_0x3fa912[_0x53019f(0x237)]=!![],_0x3fa912[_0x53019f(0x28f)]=null,_0x3fa912[_0x53019f(0x1b8)]=_0x434735[_0x53019f(0xc4)];const _0x1e6f38=_0x3fa912;return _0x1e6f38;}}return![];}async[a1_0x47a37c(0x1da)](_0x1475a5,_0x2f472e){const _0x4d881f=a1_0x47a37c,_0x58a9c4={};_0x58a9c4['jKCEJ']=_0x4d881f(0x235),_0x58a9c4['JdSeu']=function(_0x15a164,_0xf3326b){return _0x15a164!==_0xf3326b;},_0x58a9c4[_0x4d881f(0xdf)]='sdKQP',_0x58a9c4[_0x4d881f(0x149)]=function(_0x34423d,_0x5813da){return _0x34423d===_0x5813da;},_0x58a9c4[_0x4d881f(0x141)]=_0x4d881f(0xcc),_0x58a9c4['JOIqZ']=_0x4d881f(0x198);const _0xedaddf=_0x58a9c4;try{if(_0xedaddf['JdSeu'](_0xedaddf['ltEwy'],_0xedaddf[_0x4d881f(0xdf)]))_0x705d47=_0x157003['id'];else{const _0xdd72bb=await this[_0x4d881f(0x11d)][_0x4d881f(0x225)]['get'](global_registry[_0x4d881f(0xaa)],_0x2f472e,_0x1475a5[0x0]);if(_0xedaddf[_0x4d881f(0x149)](_0x1475a5[0x0],_0xdd72bb[_0x4d881f(0xf6)])){if(_0xedaddf[_0x4d881f(0x149)](_0xedaddf['wiVGr'],_0xedaddf[_0x4d881f(0x1fa)])){_0x59b403[_0x4d881f(0x9c)](_0xedaddf[_0x4d881f(0x133)]);const _0x298886={};_0x298886[_0x4d881f(0xd0)]=_0x355bab['RESOURCES'],_0x298886[_0x4d881f(0x279)]=_0xedaddf['jKCEJ'],this[_0x4d881f(0x14e)][_0x4d881f(0xbe)](this[_0x4d881f(0x222)],_0x298886),_0x1592b8[_0x4d881f(0x1a5)][_0x4d881f(0x1d1)]=!![];}else return[!![],_0x1475a5];}}}catch(_0x4d061b){return logger[_0x4d881f(0x28f)]('Cannot\x20find\x20subnets\x20'+_0x1475a5+_0x4d881f(0x118)+_0x4d061b),[![],[]];}return[![],[]];}async[a1_0x47a37c(0x113)](){const _0x1f220c=a1_0x47a37c,_0x12eca6={};_0x12eca6[_0x1f220c(0x120)]=_0x1f220c(0x207);const _0x583d0d=_0x12eca6,_0x4024b7={};_0x4024b7[_0x1f220c(0x237)]=!![],_0x4024b7[_0x1f220c(0x28f)]=null,_0x4024b7[_0x1f220c(0x1b8)]=_0x583d0d['nFyrg'];const _0x5de441=_0x4024b7;return _0x5de441;}async[a1_0x47a37c(0x1cc)](){const _0x5b6ea6=a1_0x47a37c,_0xba6c72={};_0xba6c72['LVOSS']=_0x5b6ea6(0x296),_0xba6c72['wjdwg']=_0x5b6ea6(0x168),_0xba6c72[_0x5b6ea6(0x1e4)]=_0x5b6ea6(0x1d9);const _0xeb9d00=_0xba6c72,_0x465d4e=await this['cred'][_0x5b6ea6(0x1c3)](_0xeb9d00[_0x5b6ea6(0x26d)]),_0x21663d={};_0x21663d[_0x5b6ea6(0x152)]=_0xeb9d00['wjdwg'],_0x21663d[_0x5b6ea6(0x246)]={},_0x21663d[_0x5b6ea6(0x246)][_0x5b6ea6(0x10f)]=_0x5b6ea6(0xa5)+_0x465d4e['token'],_0x21663d[_0x5b6ea6(0x246)][_0x5b6ea6(0xdd)]=_0xeb9d00[_0x5b6ea6(0x1e4)];const _0x5903c9=_0x21663d;return _0x5903c9;}async[a1_0x47a37c(0x99)](_0x25b1da){const _0x842db=a1_0x47a37c,_0x58d3c2={'SmXcw':function(_0x377037,_0x1fc7b4,_0x5340c8){return _0x377037(_0x1fc7b4,_0x5340c8);},'CjeMK':function(_0x988080,_0xcc4447){return _0x988080===_0xcc4447;},'oGZFC':_0x842db(0x1af)},_0x386fa6={};_0x386fa6[_0x842db(0x25f)]='',_0x386fa6[_0x842db(0x28f)]=null;const _0x2be440=_0x386fa6;try{const _0x5213dd=_0x842db(0x186)+_0x25b1da+'\x27',_0x2c866c=await this[_0x842db(0x1cc)](),_0x30f399=await _0x58d3c2[_0x842db(0x19f)](fetch,_0x5213dd,_0x2c866c),_0x2bb4c6=await _0x30f399['json']();if(!_0x2bb4c6['value']||_0x58d3c2[_0x842db(0x26f)](_0x2bb4c6[_0x842db(0x22e)]['length'],0x0))throw new Error(_0x58d3c2['oGZFC'],_0x842db(0x1c2)+JSON['stringify'](_0x2bb4c6));_0x2be440[_0x842db(0x25f)]=_0x2bb4c6[_0x842db(0x22e)][0x0]['id'];}catch(_0x253767){_0x2be440['error']=_0x253767;}return _0x2be440;}async[a1_0x47a37c(0xaf)](){const _0x1c3b80=a1_0x47a37c,_0x491546={};_0x491546[_0x1c3b80(0x10c)]=_0x1c3b80(0x1fb),_0x491546['Ogiky']=_0x1c3b80(0x218),_0x491546[_0x1c3b80(0x1f3)]=function(_0x530f5b,_0x2fddf9){return _0x530f5b!==_0x2fddf9;},_0x491546['PeIoa']=function(_0xb0790e,_0xa361a){return _0xb0790e===_0xa361a;},_0x491546['zrLcn']=_0x1c3b80(0x204),_0x491546['AoFjm']=_0x1c3b80(0x1b4),_0x491546['IzfJF']='Action\x20permission\x20list\x20is\x20empty\x0a';const _0x413a7f=_0x491546,_0x1e5f3b={};_0x1e5f3b[_0x1c3b80(0x237)]=![],_0x1e5f3b[_0x1c3b80(0x28f)]=null,_0x1e5f3b[_0x1c3b80(0x1b8)]='';const _0x15a04a=_0x1e5f3b;try{let _0x4fce1c='';const _0xe55fd6=_0x1c3b80(0x1ae)+global_registry[_0x1c3b80(0x9a)]+_0x1c3b80(0x11b)+global_registry[_0x1c3b80(0xaa)],_0x94bdc7=await this[_0x1c3b80(0x99)](global_registry[_0x1c3b80(0x275)]);if(_0x413a7f[_0x1c3b80(0x1f3)](_0x94bdc7[_0x1c3b80(0x28f)],null))return _0x15a04a['error']=_0x94bdc7[_0x1c3b80(0x28f)],_0x15a04a;const _0x5208eb=_0x1c3b80(0x146)+_0x94bdc7['principalId']+'\x27)',_0x241f49={};_0x241f49[_0x1c3b80(0xa4)]=_0x5208eb;const _0x43ccb1=await this[_0x1c3b80(0x26b)]['roleAssignments'][_0x1c3b80(0x251)](_0xe55fd6,_0x241f49),_0x552fd6=[];for await(const _0x27c31c of _0x43ccb1){_0x552fd6[_0x1c3b80(0x224)](_0x27c31c);}if(_0x413a7f['PeIoa'](_0x552fd6['length'],0x0))return _0x15a04a[_0x1c3b80(0x1b8)]=_0x413a7f[_0x1c3b80(0x1bf)],_0x15a04a;const _0x230a73=[...new Set(_0x552fd6[_0x1c3b80(0x1bc)](_0x2770df=>_0x2770df[_0x1c3b80(0x1ee)]))];if(_0x413a7f[_0x1c3b80(0x15a)](_0x230a73[_0x1c3b80(0xf1)],0x0))return _0x15a04a['data']=_0x413a7f[_0x1c3b80(0x254)],_0x15a04a;const _0x431c0a=[],_0x5e7715=[];for(const _0x41e23b of _0x230a73){const _0x3f69bb=await this[_0x1c3b80(0x26b)]['roleDefinitions'][_0x1c3b80(0xea)](_0x41e23b);logger[_0x1c3b80(0x106)](_0x1c3b80(0x161)+_0x3f69bb['roleName']),_0x431c0a[_0x1c3b80(0x224)](_0x3f69bb),logger['debug'](_0x1c3b80(0x213)+JSON[_0x1c3b80(0x18a)](_0x3f69bb['permissions'])),_0x3f69bb[_0x1c3b80(0x1eb)]['forEach'](_0x30e299=>{const _0x4ef994=_0x1c3b80;_0x5e7715[_0x4ef994(0x224)](..._0x30e299[_0x4ef994(0x18f)]);});}logger[_0x1c3b80(0x106)](_0x1c3b80(0xb9)+JSON[_0x1c3b80(0x18a)](_0x5e7715)),_0x413a7f[_0x1c3b80(0x15a)](_0x5e7715[_0x1c3b80(0xf1)],0x0)&&(_0x4fce1c+=_0x413a7f[_0x1c3b80(0x15a)](_0x5e7715[_0x1c3b80(0xf1)],0x0)?_0x413a7f[_0x1c3b80(0x156)]:'',logger[_0x1c3b80(0x106)](_0x1c3b80(0x158)+JSON['stringify'](_0x431c0a))),_0x15a04a[_0x1c3b80(0x237)]=!![],Object[_0x1c3b80(0x236)](PERMISSIONS[_0x1c3b80(0x147)])[_0x1c3b80(0x162)](([_0x3dd657,_0x328cfc])=>{const _0x2f7677=_0x1c3b80,_0x157b3d=_0x5e7715[_0x2f7677(0x214)](_0x3dd657);_0x4fce1c+='\x0a\x09'+_0x328cfc+':\x20'+(_0x157b3d?_0x413a7f[_0x2f7677(0x10c)]:_0x413a7f[_0x2f7677(0xef)]),!_0x157b3d&&(_0x15a04a[_0x2f7677(0x237)]=![]);}),_0x15a04a[_0x1c3b80(0x1b8)]=_0x4fce1c;}catch(_0x24982c){_0x15a04a[_0x1c3b80(0x28f)]=_0x24982c;}return _0x15a04a;}}function a1_0x51cc(_0x3c3e2e,_0x1a076d){const _0x1137ba=a1_0x1137();return a1_0x51cc=function(_0x51cc7c,_0x2af606){_0x51cc7c=_0x51cc7c-0x98;let _0x22804b=_0x1137ba[_0x51cc7c];return _0x22804b;},a1_0x51cc(_0x3c3e2e,_0x1a076d);}const a1_0x5f2ab={};a1_0x5f2ab['AzureCloudProvider']=AzureCloudProvider,module['exports']=a1_0x5f2ab;