const a1_0x2dd8e8=a1_0x4776;(function(_0x4387af,_0x5be522){const _0x42cc53=a1_0x4776,_0x557d38=_0x4387af();while(!![]){try{const _0x2915ce=-parseInt(_0x42cc53(0x1e4))/0x1*(parseInt(_0x42cc53(0xb8))/0x2)+parseInt(_0x42cc53(0x219))/0x3+-parseInt(_0x42cc53(0xb0))/0x4+-parseInt(_0x42cc53(0x173))/0x5+parseInt(_0x42cc53(0x139))/0x6*(parseInt(_0x42cc53(0x95))/0x7)+parseInt(_0x42cc53(0x7e))/0x8+-parseInt(_0x42cc53(0x94))/0x9*(-parseInt(_0x42cc53(0xd2))/0xa);if(_0x2915ce===_0x5be522)break;else _0x557d38['push'](_0x557d38['shift']());}catch(_0x1ce6e3){_0x557d38['push'](_0x557d38['shift']());}}}(a1_0x4450,0x22579));function a1_0x4450(){const _0x5c2d51=['readFileAsync','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','jRanB','607930sxibmF','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','jnNxC','createFederatedAccountForHubHA','KIvDc','bModE','clientId','fAuCI','includes','subscriptionId','SbQiT','deployments','role\x20name\x20attached\x20-\x20','yRmjo','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','QSuqj','tazMZ','qqzWJ','subnetName','isSubnetsValid','VRXGa','ItFOm','[variables(\x27vnetSubnetID\x27)]','iaPRU','default','QZNWp','federatedidentityuploader.json','YSOYP','clusterName','Deleting\x20the\x20cluster\x20','RxUdN','isVPCPresent','YdiJt','AgqFw','VNmgt','RkjvA','sSdHa','YlnTd','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','utf-8','wnczS','ZBUoF','lIByX','message','YJyof','resourceClient','XVFsC','pNqYs','ORkWb','kWEkL','clusterRegion','UgJTN','JJrlW','lwJgS','IkinY','IxiBu','permissions','sendEventToBackend','SBkmy','uZFOe','Lifecycle','ovuex','setClients','https://graph.microsoft.com/.default','CYVka','usDZW','GMYKx','@azure/arm-resources','dBmLJ','hgXPp','Attached\x20permissions\x20:\x20','VfHuN','\x20CLIENT\x20SECRET:\x20','string','ksKOY','workloadIdentity','zuOtd','rules','yjCsB','disableLocalAccounts','OdvBX','application/json','networkClient','ErqXv','fxNmb','principalId','managedClusters','beginCreateOrUpdateAndWait','createOrUpdate','userMaxNodes','ingress','true','init','SSCNx','vOewz','cloudProviderClientId','resourceGroup','UdEYq','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','qEDwh','XJBWV','subnets','247794PKooio','userInstanceType','listByResourceGroup','jnrbs','path','storageAccountName','jjMHR','AFMBv','filters','getById','XeWDW','idLgx','NPUqj','loadBalancer','method','blobTypes','Creating\x20Azure\x20storage\x20account','list','kySdR','grRiB','NIejf','stack','RESOURCES','tdnUG','LsYdM','BrowserStack','bstackUsername','Cannot\x20find\x20VPC\x20','jdyfG','gurYD','kQRcD','rjNkT','beginDeleteAndWait','isStorageAccountPresent','NvlQV','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','\x20RESOURCE\x20GROUP:\x20','FoBZV','AQtht','getKubeConfigData','RJmBU','error','templates','../permissions/AZURE.json','uNkbh','QxrYt','status','mIvAk','seBtU','log','join','AhDCP','wBtuo','eiqTS','uvBxQ','SHIyM','KYBkF','EezjF','1338635HenhvX','s3Bucket','\x20CLIENT\x20ID:\x20','XMLvk','enabled','value','hub','evWXt','fzaUK','FVaQH','./CloudProvider','description','VwBFF','Uitsl','FCOIK','JqXNg','isCliToolInstalled','Incremental','SBbfk','turboscale-identity-deployment','fwuCR','ESGKA','CYClx','No\x20CLI\x20tool\x20required','onzmB','uivsx','FHGdj','rjOlP','jWPLS','roleAssignments','.json','push','hPlUp','vpcInfo','debug','rws','maxNodes','swNEK','cred','ZTYIp','jHQZh','XkvQj','fowaB','HnWkv','iMIJz','InXpp','azureresources','cloudProviderResourceGroup','cloudProviderSubscriptionId','MmMJA','vHgwL','oVIcn','No\x20service\x20principal\x20found','policy','dmUcL','containerClient','hVeSw','aJdUk','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','jqtRH','VgkEf','tags','trKyT','turboscale-cluster-deployment','@azure/identity','XnKzV','dVkLt','browserstack:managedBy','exports','Storage\x20account\x20already\x20exists,\x20skipping','dYoWk','ReaaM','metadata','HsfEC','KCcdm','bEymx','UkioH','authClient','getToken','OEGCE','vpDoD','RSnLn','quaqQ','Cannot\x20find\x20subnets\x20','.\x20Error:\x20','XwBIl','JGINB','ifEES','createFederatedAccount','NfiPn','resources','webSocketUtils','qtQGl','TRNGg','allowed','3|4|1|0|2|5','HfczQ','HcIcM','uSOqQ','vpcName','yLQPF','deleteCluster','EFtPp','ujFlG','zuhjR','getPrincipalIdFromClientId','AKJXv','turboscale','JEuVx','info','zxWOR','turboscale-federated-deployment','hUeQa','829okyjHq','wdhPO','createManagedIdentity','denied','cloudProvider','@azure/arm-network','dCJrP','cloudProviderTenantId','AklYv','hubHaNameSpace','jgRcK','AKNhp','vnetSubnetID','mlQAs','QwDTg','DDIzE','LjmOn','toString','CpZiU','NkXaO','ooKvB','QUKRU','YOsWb','listClusterAdminCredentials','FCsHF','rFywJ','parse','../config/constants','oidcIssuerProfile','jclBp','VeSnt','GGxdW','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','toLowerCase','RFyoD','sKQKM','tenantId','qvBfY','dhwZD','filter','GlHqL','ksYXA','wryWl','mPfKJ','cloudProviderName','headers','Authorization','ULSfU','createCluster','pMKyj','length','vdNAJ','ZddeB','114354zqISOe','FjxKG','rYxFp','virtualNetworks','entries','ZvSbB','EDyrS','fferA','nfwps','WZwNb','setupHubHa','DBuTq','sIAGq','Yvkgl','HleQf','zClmQ','hvEkJ','Deleted\x20the\x20cluster\x20successfully','\x20TENANT\x20ID:\x20','hqPem','tYdWh','oKOyr','XnegL','VYcpz','data','Found\x20only\x20one\x20resource\x20group:\x20','name','Blob\x20delete\x20lifecycle','dgxtP','hostname','ATbbS','\x20SUBSCRIPTION\x20ID:\x20','bstackAccesskey','../utils/gridComponents','vJIin','createStorageAccount','getResourceClientId','cloudProviderClientSecret','clientSecret','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','get','BhOYP','YZRDW','WoLpy','KvAKl','RKLii','storageAccounts','assignedTo(\x27','xQPzT','gNTNn','Cpkcq','map','forEach','node','RgcNS','VTDLc','CCAgC','baseBlob','oHRgq','variables','rTTef','turboscale-storageaccount-deployment','LtpTr','type','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','token','pqicw','dMJsr','YBgQj','1838168qsKCFk','hWIkR','definition','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','yQccV','EkDYi','Pkgug','split','No\x20attached\x20role\x20for\x20the\x20client\x20key','eoSLD','eGTIo','gridName','sGCDR','0|1|4|5|3|2','icTcb','Content-Type','agentPoolProfiles','isManagedIdentityPresent','UVVQA','UEAgi','deTLk','instanceType','27IfHkiL','35kBOZil','stringify','FmPtP','byYVL','parameters','getResourceGroups','hwKkz','Enabling\x20Local\x20account\x20for\x20the\x20cluster','actions','kubeconfigs','turboscale-managed-identity-','osdFd','HzsLm','listForScope','createOtherResources','clusterAutoUpgrade','exit','eNVkK','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','vazqM','LOG','TniHm','getClusterInfo','KyMDt','clusterInfo','username','Creating\x20Azure\x20managed\x20identity','366760vDnqVS','properties','ptulq','Bearer\x20','dYGHz','RygsV','2023-01-31','getHeader','378kyKHNO','storageClient','IszTZ','../config/logger','isClusterPresent','oQcGR','getStorageAccountName','OSIUC','RyuiL','HJQbU','slice','ODXKx','DFGgu','jLdmj','delete','FeycE','aLrMF','issuerURL','rCvTV','qckEk','NVQhs','securityProfile','@azure/arm-authorization'];a1_0x4450=function(){return _0x5c2d51;};return a1_0x4450();}const fs=require('fs'),path=require(a1_0x2dd8e8(0x13d)),yaml=require('js-yaml'),{logger}=require(a1_0x2dd8e8(0xbb)),{CloudProvider}=require(a1_0x2dd8e8(0x17d)),{deleteRoutingDeps,deleteAgent}=require(a1_0x2dd8e8(0x23a)),{AZURE,WS_EVENTS,global_registry}=require(a1_0x2dd8e8(0x1ff)),PERMISSIONS=require(a1_0x2dd8e8(0x164)),{ClientSecretCredential}=require(a1_0x2dd8e8(0x1b3)),{NetworkManagementClient}=require(a1_0x2dd8e8(0x1e9)),{StorageManagementClient}=require('@azure/arm-storage'),{AuthorizationManagementClient}=require(a1_0x2dd8e8(0xce)),{ResourceManagementClient}=require(a1_0x2dd8e8(0x116)),{ContainerServiceClient}=require('@azure/arm-containerservice'),{runCommand}=require('../utils/utilityMethods');function a1_0x4776(_0x54f846,_0x484d71){const _0x4450f6=a1_0x4450();return a1_0x4776=function(_0x477688,_0x83817f){_0x477688=_0x477688-0x79;let _0x4bad7c=_0x4450f6[_0x477688];return _0x4bad7c;},a1_0x4776(_0x54f846,_0x484d71);}class AzureCloudProvider extends CloudProvider{constructor(_0x3cd416,_0x35aa50,_0x2b2907,_0x239455){const _0x33f7ff=a1_0x2dd8e8,_0x1e8488={};_0x1e8488['ujFlG']='2|3|0|7|5|4|1|6';const _0x33865c=_0x1e8488,_0x526b10=_0x33865c[_0x33f7ff(0x1da)]['split']('|');let _0x1869f6=0x0;while(!![]){switch(_0x526b10[_0x1869f6++]){case'0':this[_0x33f7ff(0xad)]=null;continue;case'1':this['networkClient']=null;continue;case'2':super(AZURE,_0x3cd416,_0x35aa50,_0x2b2907,_0x239455);continue;case'3':this['cred']=null;continue;case'4':this[_0x33f7ff(0x100)]=null;continue;case'5':this['storageClient']=null;continue;case'6':this['authClient']=null;continue;case'7':this[_0x33f7ff(0x1aa)]=null;continue;}break;}}async['init'](){const _0x2992e0=a1_0x2dd8e8;return await super[_0x2992e0(0x12f)](),this;}[a1_0x2dd8e8(0x111)](){const _0x57caf3=a1_0x2dd8e8,_0x5ac053=new ClientSecretCredential(global_registry[_0x57caf3(0x1eb)],global_registry[_0x57caf3(0x132)],global_registry[_0x57caf3(0x23e)]);this['containerClient']=new ContainerServiceClient(_0x5ac053,global_registry[_0x57caf3(0x1a3)]),this['storageClient']=new StorageManagementClient(_0x5ac053,global_registry[_0x57caf3(0x1a3)]),this['resourceClient']=new ResourceManagementClient(_0x5ac053,global_registry[_0x57caf3(0x1a3)]),this[_0x57caf3(0x125)]=new NetworkManagementClient(_0x5ac053,global_registry[_0x57caf3(0x1a3)]),this[_0x57caf3(0x1c0)]=new AuthorizationManagementClient(_0x5ac053,global_registry[_0x57caf3(0x1a3)]),this[_0x57caf3(0x199)]=_0x5ac053;}['getStorageAccountName'](){const _0x1fc169=a1_0x2dd8e8,_0x2804cf={};_0x2804cf[_0x1fc169(0xf1)]=function(_0x481fa5,_0x33cf55){return _0x481fa5+_0x33cf55;},_0x2804cf[_0x1fc169(0x108)]=_0x1fc169(0x1de),_0x2804cf['UgJTN']=function(_0x45c458,_0x14340b){return _0x45c458-_0x14340b;};const _0x2ef1ad=_0x2804cf,_0x68a015=global_registry[_0x1fc169(0x174)][_0x1fc169(0x85)]('-'),_0x1e23ea=_0x2ef1ad['RxUdN'](_0x2ef1ad[_0x1fc169(0x108)],_0x68a015[_0x2ef1ad[_0x1fc169(0x106)](_0x68a015[_0x1fc169(0x216)],0x1)])[_0x1fc169(0xc2)](0x0,0x18);return _0x1e23ea[_0x1fc169(0x205)]();}['setCachedCredsInRegistry'](_0x393ff3){const _0xdf44fb=a1_0x2dd8e8,_0x11cd7a={};_0x11cd7a[_0xdf44fb(0x1fc)]=_0xdf44fb(0x1d2);const _0x1eaab0=_0x11cd7a,_0x39e716=_0x1eaab0[_0xdf44fb(0x1fc)][_0xdf44fb(0x85)]('|');let _0x5881ec=0x0;while(!![]){switch(_0x39e716[_0x5881ec++]){case'0':global_registry[_0xdf44fb(0x1a3)]=_0x393ff3[this[_0xdf44fb(0x210)]][_0xdf44fb(0xdc)];continue;case'1':global_registry[_0xdf44fb(0x1eb)]=_0x393ff3[this[_0xdf44fb(0x210)]][_0xdf44fb(0x208)];continue;case'2':global_registry[_0xdf44fb(0x1a2)]=_0x393ff3[this[_0xdf44fb(0x210)]][_0xdf44fb(0x133)];continue;case'3':global_registry['cloudProviderClientId']=_0x393ff3[this[_0xdf44fb(0x210)]]['clientId'];continue;case'4':global_registry[_0xdf44fb(0x23e)]=_0x393ff3[this[_0xdf44fb(0x210)]][_0xdf44fb(0x23f)];continue;case'5':this[_0xdf44fb(0x111)]();continue;}break;}}async['getUserInput'](_0x29f612,_0x129c0c){const _0x4ddfdf=a1_0x2dd8e8,_0x447f35={'ULSfU':function(_0x40f164,_0x118ad2){return _0x40f164===_0x118ad2;},'TihED':'Action\x20permission\x20list\x20is\x20empty\x0a','qqzWJ':function(_0x2e0fbc,_0x5cdda6){return _0x2e0fbc===_0x5cdda6;},'aIXEV':_0x4ddfdf(0x18a),'HleQf':function(_0x3a182d,_0x24796e){return _0x3a182d(_0x24796e);},'dCJrP':function(_0x2a671d,_0x15c238){return _0x2a671d(_0x15c238);},'uivsx':function(_0x4dd572,_0x1b6b78){return _0x4dd572!==_0x1b6b78;},'UVVQA':_0x4ddfdf(0x107),'VTDLc':function(_0x5ed302,_0x156cec){return _0x5ed302===_0x156cec;},'zClmQ':'XlLcU','YZRDW':function(_0x1c8239,_0x52ac0c){return _0x1c8239===_0x52ac0c;},'jdmLa':_0x4ddfdf(0x14c),'rjNkT':_0x4ddfdf(0x104),'hwKkz':_0x4ddfdf(0xd3),'hvEkJ':function(_0x399190,_0x71e6cf){return _0x399190===_0x71e6cf;},'YOsWb':_0x4ddfdf(0x1f9),'Hdcea':_0x4ddfdf(0x202),'Yvkgl':_0x4ddfdf(0x224),'FeycE':function(_0x4460e5,_0x2bea72){return _0x4460e5<_0x2bea72;},'MZwss':function(_0x50ecdf,_0x25a6ac){return _0x50ecdf!==_0x25a6ac;},'KIvDc':_0x4ddfdf(0x18d),'ifEES':_0x4ddfdf(0x1b5),'jnNxC':function(_0x4f5160,_0x3c2427){return _0x4f5160+_0x3c2427;},'VNmgt':function(_0x1b11d9,_0x1bcc8a){return _0x1b11d9(_0x1bcc8a);},'nYHtb':_0x4ddfdf(0xa7),'IZIfp':function(_0x59047c,_0x5ce867){return _0x59047c(_0x5ce867);},'sKQKM':function(_0x5ab25e,_0x2c01d0){return _0x5ab25e(_0x2c01d0);},'qEDwh':function(_0x2d35ab,_0x37e279){return _0x2d35ab<=_0x37e279;},'FoBZV':function(_0xf9c1b0,_0x42f7b5){return _0xf9c1b0>_0x42f7b5;},'mlQAs':_0x4ddfdf(0x11f),'CYClx':function(_0x207131,_0x504e73){return _0x207131-_0x504e73;}},_0x1ed342=this['cloudProviderName']['toUpperCase'](),_0x2679ea=await _0x447f35[_0x4ddfdf(0x227)](_0x29f612,_0x1ed342+_0x4ddfdf(0x175)),_0x2078b3=await _0x447f35['HleQf'](_0x29f612,_0x1ed342+_0x4ddfdf(0x11b)),_0x5136fc=await _0x447f35[_0x4ddfdf(0x1ea)](_0x29f612,_0x1ed342+_0x4ddfdf(0x22b)),_0x220ae2=await _0x447f35[_0x4ddfdf(0x1ea)](_0x29f612,_0x1ed342+_0x4ddfdf(0x238));global_registry[_0x4ddfdf(0x132)]=_0x2679ea,global_registry['cloudProviderClientSecret']=_0x2078b3,global_registry['cloudProviderTenantId']=_0x5136fc,global_registry[_0x4ddfdf(0x1a3)]=_0x220ae2,this[_0x4ddfdf(0x111)]();const _0x4983f1=await this['getResourceGroups'](),_0x577db8=_0x4983f1[_0x4ddfdf(0x216)];let _0x439240;if(_0x447f35[_0x4ddfdf(0xe4)](_0x577db8,0x0))_0x447f35[_0x4ddfdf(0x18c)](_0x447f35['UVVQA'],_0x447f35[_0x4ddfdf(0x90)])?(_0x27c014+=_0x447f35['ULSfU'](_0x867597['length'],0x0)?_0x447f35['TihED']:'',_0x4645c1['debug'](_0x4ddfdf(0xe1)+_0x262c0f[_0x4ddfdf(0x96)](_0x3604ca))):_0x439240=await _0x447f35[_0x4ddfdf(0x1ea)](_0x29f612,_0x1ed342+_0x4ddfdf(0x15d));else{if(_0x447f35[_0x4ddfdf(0xe4)](_0x577db8,0x1)){if(_0x447f35[_0x4ddfdf(0x250)](_0x447f35[_0x4ddfdf(0x228)],_0x447f35[_0x4ddfdf(0x228)])){const _0x65454a=await _0x447f35[_0x4ddfdf(0x1ea)](_0x29f612,_0x4ddfdf(0x232)+_0x4983f1[0x0]+_0x4ddfdf(0xd4));(_0x447f35[_0x4ddfdf(0x213)](_0x65454a,undefined)||_0x447f35[_0x4ddfdf(0xe4)](_0x65454a,null)||!(_0x447f35[_0x4ddfdf(0x243)](_0x65454a[_0x4ddfdf(0x205)](),'y')||_0x447f35['ULSfU'](_0x65454a['toLowerCase'](),'n')))&&(_0x447f35[_0x4ddfdf(0x243)](_0x447f35['jdmLa'],_0x447f35[_0x4ddfdf(0x158)])?_0x447f35['qqzWJ'](_0x2c1ba7['name'],_0x29a712)&&(_0x50d222=_0x19dae0['id']):(console['error'](_0x447f35['hwKkz']),process['exit'](0x1)));if(_0x447f35['hvEkJ'](_0x65454a[_0x4ddfdf(0x205)](),'n')){if(_0x447f35[_0x4ddfdf(0x229)](_0x447f35[_0x4ddfdf(0x1fa)],_0x447f35['Hdcea'])){const _0x1874fa={};_0x1874fa[_0x4ddfdf(0x167)]=!![],_0x1874fa['error']=null,_0x1874fa[_0x4ddfdf(0x231)]=_0x447f35['aIXEV'];const _0x1fa12a=_0x1874fa;return _0x1fa12a;}else process[_0x4ddfdf(0xa5)](0x0);}_0x439240=_0x4983f1[0x0];}else _0x49f022=_0x300ca3['id'];}else{if(_0x447f35[_0x4ddfdf(0x18c)](_0x447f35['Yvkgl'],_0x447f35[_0x4ddfdf(0x226)]))return!![];else{for(let _0x422408=0x0;_0x447f35[_0x4ddfdf(0xc7)](_0x422408,_0x4983f1['length']);_0x422408+=0x1){if(_0x447f35['MZwss'](_0x447f35[_0x4ddfdf(0xd7)],_0x447f35[_0x4ddfdf(0x1ca)]))console[_0x4ddfdf(0x16a)]('['+_0x447f35[_0x4ddfdf(0xd5)](_0x422408,0x1)+']\x20'+_0x4983f1[_0x422408]);else return;}const _0x21ead7=await _0x447f35[_0x4ddfdf(0xf5)](_0x29f612,_0x447f35['nYHtb']),_0x2ff2d0=_0x447f35['IZIfp'](Number,_0x21ead7);(_0x447f35[_0x4ddfdf(0x207)](isNaN,_0x2ff2d0)||_0x447f35[_0x4ddfdf(0x136)](_0x2ff2d0,0x0)||_0x447f35[_0x4ddfdf(0x15e)](_0x2ff2d0,_0x577db8))&&(_0x447f35[_0x4ddfdf(0x213)](_0x447f35[_0x4ddfdf(0x1f1)],_0x447f35[_0x4ddfdf(0x1f1)])?(console['error'](_0x447f35[_0x4ddfdf(0x9b)]),process['exit'](0x1)):_0x104fd1['push'](_0x465231)),_0x439240=_0x4983f1[_0x447f35[_0x4ddfdf(0x189)](_0x2ff2d0,0x1)];}}}global_registry[_0x4ddfdf(0x1a2)]=_0x439240;const _0x3ea733={};return _0x3ea733[_0x4ddfdf(0xd9)]=_0x2679ea,_0x3ea733[_0x4ddfdf(0x23f)]=_0x2078b3,_0x3ea733[_0x4ddfdf(0x208)]=_0x5136fc,_0x3ea733[_0x4ddfdf(0xdc)]=_0x220ae2,_0x3ea733[_0x4ddfdf(0x133)]=_0x439240,_0x129c0c[_0x4ddfdf(0x1e8)][AZURE]=_0x3ea733,_0x129c0c;}async[a1_0x2dd8e8(0x9a)](){const _0x339dce=a1_0x2dd8e8,_0x42029b={};_0x42029b[_0x339dce(0x97)]=_0x339dce(0x11c),_0x42029b[_0x339dce(0x23b)]=_0x339dce(0x135),_0x42029b[_0x339dce(0x1d9)]=_0x339dce(0xf9),_0x42029b[_0x339dce(0xaa)]=_0x339dce(0xe9),_0x42029b[_0x339dce(0x1bd)]=function(_0x5b5e5f,_0x2f2bc1){return _0x5b5e5f+_0x2f2bc1;},_0x42029b[_0x339dce(0x244)]=_0x339dce(0x1de),_0x42029b[_0x339dce(0xcc)]=function(_0x33904d,_0xa48c8f){return _0x33904d-_0xa48c8f;},_0x42029b['SBbfk']=function(_0x306ae6,_0x482926){return _0x306ae6===_0x482926;},_0x42029b[_0x339dce(0xf3)]=_0x339dce(0x172),_0x42029b[_0x339dce(0x182)]='KOPNV',_0x42029b[_0x339dce(0xc5)]=function(_0x3e1e52,_0x1c5668){return _0x3e1e52!==_0x1c5668;},_0x42029b[_0x339dce(0x21e)]=_0x339dce(0x22e);const _0xcdcc12=_0x42029b,_0x19e74f=[];try{if(_0xcdcc12[_0x339dce(0x185)](_0xcdcc12[_0x339dce(0xf3)],_0xcdcc12[_0x339dce(0x182)])){const _0x104ea7={};_0x104ea7[_0x339dce(0x258)]=_0xcdcc12[_0x339dce(0x97)],_0x104ea7[_0x339dce(0x1bb)]={},_0x104ea7[_0x339dce(0x1bb)][_0x339dce(0x17e)]=_0xcdcc12[_0x339dce(0x23b)];const _0x4c1e93={};_0x4c1e93['type']=_0xcdcc12[_0x339dce(0x97)],_0x4c1e93[_0x339dce(0x1bb)]={},_0x4c1e93[_0x339dce(0x1bb)]['description']=_0xcdcc12['vJIin'];const _0x5a6442={..._0x5eb1c7[_0x339dce(0x99)]};_0x5a6442[_0x339dce(0x1d6)]=_0x104ea7,_0x5a6442[_0x339dce(0xe5)]=_0x4c1e93,_0x533560['parameters']=_0x5a6442;const _0x14cd9c={};_0x14cd9c[_0x339dce(0x1f0)]=_0xcdcc12[_0x339dce(0x1d9)],_0x2c6fe7[_0x339dce(0x254)]=_0x14cd9c;const _0x2d8790={..._0x1b6a0b[_0x339dce(0x1cd)][0x0][_0x339dce(0xb1)][_0x339dce(0x8e)][0x0]};_0x2d8790[_0x339dce(0x1f0)]=_0xcdcc12['TniHm'],_0x16b2ec[_0x339dce(0x1cd)][0x0][_0x339dce(0xb1)][_0x339dce(0x8e)][0x0]=_0x2d8790;const _0x1b319b={};_0x1b319b[_0x339dce(0x178)]=_0x421f7e;const _0x114e4a={};_0x114e4a['value']=_0x16286b[0x0];const _0x3b4636={..._0x39329b};_0x3b4636['vpcName']=_0x1b319b,_0x3b4636[_0x339dce(0xe5)]=_0x114e4a,_0x2eebc1=_0x3b4636;}else{const _0x4831cf=await this[_0x339dce(0x100)]['resourceGroups'][_0x339dce(0x14a)]();for await(const _0x4e7e9a of _0x4831cf){if(_0xcdcc12[_0x339dce(0xc5)](_0xcdcc12[_0x339dce(0x21e)],_0xcdcc12[_0x339dce(0x21e)])){const _0x187002=_0x4129c2[_0x339dce(0x174)]['split']('-'),_0x13f3c2=_0xcdcc12['KCcdm'](_0xcdcc12[_0x339dce(0x244)],_0x187002[_0xcdcc12[_0x339dce(0xcc)](_0x187002['length'],0x1)])[_0x339dce(0xc2)](0x0,0x18);return _0x13f3c2[_0x339dce(0x205)]();}else _0x19e74f[_0x339dce(0x192)](_0x4e7e9a[_0x339dce(0x233)]);}}}catch(_0x170c13){}return _0x19e74f;}async[a1_0x2dd8e8(0xab)](){const _0x21b25f=a1_0x2dd8e8;return this[_0x21b25f(0xad)]=await this['containerClient'][_0x21b25f(0x129)][_0x21b25f(0x241)](global_registry['cloudProviderResourceGroup'],this[_0x21b25f(0xef)]),this[_0x21b25f(0xad)];}async[a1_0x2dd8e8(0x160)](){const _0x719221=a1_0x2dd8e8,_0x173cf6=await this[_0x719221(0x1aa)][_0x719221(0x129)][_0x719221(0x1fb)](global_registry['cloudProviderResourceGroup'],this[_0x719221(0xef)]),_0x10873f=_0x173cf6[_0x719221(0x9e)][0x0]['value'][_0x719221(0x1f5)]();return _0x10873f;}['getGridHostname'](_0x38a0f3){const _0x3f601d=a1_0x2dd8e8;return _0x38a0f3[_0x3f601d(0x167)][_0x3f601d(0x146)]['ingress'][0x0][_0x3f601d(0x236)];}async[a1_0x2dd8e8(0xbc)](){const _0x48e7a6=a1_0x2dd8e8,_0x2bdfa0={};_0x2bdfa0[_0x48e7a6(0x168)]=function(_0x42094f,_0xbd9a5){return _0x42094f!==_0xbd9a5;},_0x2bdfa0['rFywJ']='ymFDF',_0x2bdfa0[_0x48e7a6(0x126)]=function(_0x13d023,_0x506e69){return _0x13d023===_0x506e69;},_0x2bdfa0['hUeQa']='mnCuZ',_0x2bdfa0['quaqQ']=function(_0xdd68d4,_0x32dd1d){return _0xdd68d4!==_0x32dd1d;},_0x2bdfa0[_0x48e7a6(0x10d)]=_0x48e7a6(0x1f3);const _0x589fa2=_0x2bdfa0,_0x16cbd7=new Array();for await(const _0x713dc4 of this[_0x48e7a6(0x1aa)][_0x48e7a6(0x129)]['listByResourceGroup'](global_registry[_0x48e7a6(0x1a2)])){_0x589fa2[_0x48e7a6(0x168)](_0x589fa2[_0x48e7a6(0x1fd)],_0x589fa2[_0x48e7a6(0x1fd)])?_0x2d8b0b['push'](_0x526ee4):_0x16cbd7['push'](_0x713dc4);}for await(const _0x33ad27 of _0x16cbd7){if(_0x589fa2[_0x48e7a6(0x126)](_0x589fa2[_0x48e7a6(0x1e3)],_0x589fa2['hUeQa'])){if(_0x589fa2[_0x48e7a6(0x126)](_0x33ad27['name'],this[_0x48e7a6(0xef)]))return _0x589fa2[_0x48e7a6(0x1c5)](_0x589fa2['SBkmy'],_0x589fa2[_0x48e7a6(0x10d)])?!![]:(await this[_0x48e7a6(0xab)](),!![]);}else return _0x33bccb[_0x48e7a6(0x162)](_0x48e7a6(0x154)+_0x1ac62f+_0x48e7a6(0x240)+_0x3bcc5d),![];}return![];}async['setupNewCluster'](_0x4abeeb=null,_0x5824cc=null){const _0xa9bfc3=a1_0x2dd8e8,_0x4d32c7={};_0x4d32c7['ItFOm']='4|1|0|2|3|5',_0x4d32c7[_0xa9bfc3(0x221)]=_0xa9bfc3(0x1ad);const _0xe19f99=_0x4d32c7,_0x41f924=_0xe19f99[_0xa9bfc3(0xe8)][_0xa9bfc3(0x85)]('|');let _0x1da7b7=0x0;while(!![]){switch(_0x41f924[_0x1da7b7++]){case'0':logger[_0xa9bfc3(0x1e0)](_0xe19f99[_0xa9bfc3(0x221)]);continue;case'1':const _0x348067={};_0x348067['type']=WS_EVENTS[_0xa9bfc3(0xa9)],_0x348067[_0xa9bfc3(0xfe)]=_0xe19f99[_0xa9bfc3(0x221)],this['webSocketUtils'][_0xa9bfc3(0x10c)](this['rws'],_0x348067);continue;case'2':await this['createCluster'](_0x4abeeb,_0x5824cc);continue;case'3':await this[_0xa9bfc3(0xa3)]();continue;case'4':this['sendAzureInfoToHST']();continue;case'5':return[_0x4abeeb,_0x5824cc];}break;}}async[a1_0x2dd8e8(0x214)](_0x29907d=null,_0x34bcb3=null){const _0x156cc7=a1_0x2dd8e8,_0x38eca6={};_0x38eca6[_0x156cc7(0x145)]='templates',_0x38eca6[_0x156cc7(0x1c9)]=_0x156cc7(0x1a1),_0x38eca6[_0x156cc7(0x1a4)]='akscluster.json',_0x38eca6[_0x156cc7(0x1b9)]='utf-8',_0x38eca6[_0x156cc7(0x17a)]=_0x156cc7(0x12e),_0x38eca6[_0x156cc7(0x180)]='false',_0x38eca6[_0x156cc7(0x19d)]=function(_0x30c940,_0x270125){return _0x30c940!==_0x270125;},_0x38eca6['XnKzV']=function(_0x1f3e02,_0x9ea5b5){return _0x1f3e02===_0x9ea5b5;},_0x38eca6[_0x156cc7(0x8a)]='yHGyc',_0x38eca6[_0x156cc7(0x209)]=_0x156cc7(0x11c),_0x38eca6['aLrMF']='Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.',_0x38eca6[_0x156cc7(0x114)]=_0x156cc7(0xf9),_0x38eca6[_0x156cc7(0x1d0)]=_0x156cc7(0xe9),_0x38eca6[_0x156cc7(0x83)]=_0x156cc7(0x1b2),_0x38eca6[_0x156cc7(0xba)]='Incremental';const _0x1fd3ac=_0x38eca6;let _0x459ddb=await fs[_0x156cc7(0xcf)](path[_0x156cc7(0x16b)](__dirname,'..',_0x1fd3ac['NPUqj'],_0x1fd3ac[_0x156cc7(0x1c9)],_0x1fd3ac[_0x156cc7(0x1a4)]),_0x1fd3ac[_0x156cc7(0x1b9)]);_0x459ddb=JSON['parse'](_0x459ddb);const _0x2a1445={};_0x2a1445['value']=this[_0x156cc7(0xef)];const _0x3b82a8={};_0x3b82a8[_0x156cc7(0x178)]=global_registry[_0x156cc7(0x105)];const _0x1d2ebe={};_0x1d2ebe['value']=global_registry[_0x156cc7(0x93)];const _0x47a28e={};_0x47a28e[_0x156cc7(0x178)]=global_registry[_0x156cc7(0x197)];const _0x51f860={};_0x51f860[_0x156cc7(0x178)]=global_registry[_0x156cc7(0xa4)]?_0x1fd3ac[_0x156cc7(0x17a)]:_0x1fd3ac[_0x156cc7(0x180)];const _0x3c8ed3={};_0x3c8ed3[_0x156cc7(0xef)]=_0x2a1445,_0x3c8ed3['location']=_0x3b82a8,_0x3c8ed3[_0x156cc7(0x13a)]=_0x1d2ebe,_0x3c8ed3[_0x156cc7(0x12c)]=_0x47a28e,_0x3c8ed3[_0x156cc7(0xa4)]=_0x51f860;let _0x4ee257=_0x3c8ed3;if(_0x1fd3ac[_0x156cc7(0x19d)](_0x29907d,null)&&_0x1fd3ac['fowaB'](_0x34bcb3,null)){if(_0x1fd3ac[_0x156cc7(0x1b4)](_0x1fd3ac[_0x156cc7(0x8a)],_0x1fd3ac['sGCDR'])){const _0x5cd2a0={};_0x5cd2a0[_0x156cc7(0x258)]=_0x1fd3ac['qvBfY'],_0x5cd2a0[_0x156cc7(0x1bb)]={},_0x5cd2a0[_0x156cc7(0x1bb)][_0x156cc7(0x17e)]=_0x1fd3ac['aLrMF'];const _0x30c277={};_0x30c277[_0x156cc7(0x258)]=_0x1fd3ac['qvBfY'],_0x30c277[_0x156cc7(0x1bb)]={},_0x30c277[_0x156cc7(0x1bb)][_0x156cc7(0x17e)]=_0x1fd3ac[_0x156cc7(0xc8)],_0x459ddb[_0x156cc7(0x99)]={..._0x459ddb['parameters'],'vpcName':_0x5cd2a0,'subnetName':_0x30c277};const _0x22b81e={};_0x22b81e['vnetSubnetID']=_0x1fd3ac[_0x156cc7(0x114)],_0x459ddb[_0x156cc7(0x254)]=_0x22b81e,_0x459ddb['resources'][0x0][_0x156cc7(0xb1)][_0x156cc7(0x8e)][0x0]={..._0x459ddb[_0x156cc7(0x1cd)][0x0][_0x156cc7(0xb1)][_0x156cc7(0x8e)][0x0],'vnetSubnetID':_0x1fd3ac[_0x156cc7(0x1d0)]};const _0x581e91={};_0x581e91[_0x156cc7(0x178)]=_0x29907d;const _0x20fa86={};_0x20fa86[_0x156cc7(0x178)]=_0x34bcb3[0x0],_0x4ee257={..._0x4ee257,'vpcName':_0x581e91,'subnetName':_0x20fa86};}else return _0xbb40b0['error']('Cannot\x20find\x20subnets\x20'+_0x20ae64+_0x156cc7(0x1c7)+_0x4ecc5e),[![],[]];}await this[_0x156cc7(0x100)][_0x156cc7(0xde)][_0x156cc7(0x12a)](global_registry[_0x156cc7(0x1a2)],_0x1fd3ac[_0x156cc7(0x83)],{'properties':{'template':_0x459ddb,'mode':_0x1fd3ac['IszTZ'],'parameters':_0x4ee257}});}async[a1_0x2dd8e8(0xa3)](){const _0x2803d3=a1_0x2dd8e8,_0x501175={};_0x501175['onzmB']=_0x2803d3(0x204),_0x501175[_0x2803d3(0x1d7)]='Managed\x20identity\x20already\x20exists,\x20skipping',_0x501175[_0x2803d3(0x155)]=_0x2803d3(0x9c),_0x501175[_0x2803d3(0x1f8)]=function(_0x527f2d,_0x3aba23){return _0x527f2d!==_0x3aba23;},_0x501175[_0x2803d3(0x176)]='vHqub',_0x501175['idLgx']=_0x2803d3(0x149),_0x501175[_0x2803d3(0x17f)]=function(_0x38285b,_0x2edbc1){return _0x38285b!==_0x2edbc1;},_0x501175['KLJuD']=_0x2803d3(0x118),_0x501175[_0x2803d3(0xbd)]='YZtPk',_0x501175[_0x2803d3(0x1af)]=_0x2803d3(0x1b8),_0x501175[_0x2803d3(0xa6)]=function(_0x1dabb2,_0x50194d){return _0x1dabb2!==_0x50194d;},_0x501175[_0x2803d3(0x1ef)]='sQMDU',_0x501175[_0x2803d3(0x140)]=_0x2803d3(0xaf),_0x501175[_0x2803d3(0x187)]=function(_0x1e1ccc,_0x29ae11){return _0x1e1ccc!==_0x29ae11;},_0x501175[_0x2803d3(0x170)]=_0x2803d3(0x137),_0x501175['VYcpz']='Creating\x20Azure\x20federated\x20identity',_0x501175[_0x2803d3(0x11a)]='Created\x20Azure\x20federated\x20identity';const _0x288ddd=_0x501175,_0x3328f5=await this[_0x2803d3(0x15a)]();if(!_0x3328f5){if(_0x288ddd[_0x2803d3(0x1f8)](_0x288ddd['XMLvk'],_0x288ddd[_0x2803d3(0x176)])){_0x6d871e[_0x2803d3(0x1e0)](_0x288ddd['onzmB']);const _0x4edbcd={};_0x4edbcd['type']=_0x3c048e[_0x2803d3(0x14f)],_0x4edbcd['message']=_0x288ddd[_0x2803d3(0x18b)],this[_0x2803d3(0x1ce)][_0x2803d3(0x10c)](this[_0x2803d3(0x196)],_0x4edbcd),_0x2ca031[_0x2803d3(0x200)]['enabled']=!![];}else{const _0x1eeef8={};_0x1eeef8[_0x2803d3(0x258)]=WS_EVENTS[_0x2803d3(0xa9)],_0x1eeef8[_0x2803d3(0xfe)]=_0x288ddd[_0x2803d3(0x144)],this[_0x2803d3(0x1ce)][_0x2803d3(0x10c)](this['rws'],_0x1eeef8),logger[_0x2803d3(0x1e0)](_0x288ddd['idLgx']),await this[_0x2803d3(0x23c)]();}}else _0x288ddd[_0x2803d3(0x17f)](_0x288ddd['KLJuD'],_0x288ddd['oQcGR'])?logger[_0x2803d3(0x1e0)](_0x288ddd[_0x2803d3(0x1af)]):_0x2bba41[_0x2803d3(0x1e0)](_0x288ddd[_0x2803d3(0x1d7)]);const _0x444664=await this['isManagedIdentityPresent']();if(!_0x444664){if(_0x288ddd[_0x2803d3(0xa6)](_0x288ddd['AKNhp'],_0x288ddd['AKNhp'])){_0x97d608['info'](_0x288ddd[_0x2803d3(0x155)]);const _0x5a6e3e={};_0x5a6e3e[_0x2803d3(0x258)]=_0x3d5101[_0x2803d3(0x14f)],_0x5a6e3e[_0x2803d3(0xfe)]=_0x288ddd['jdyfG'],this[_0x2803d3(0x1ce)][_0x2803d3(0x10c)](this[_0x2803d3(0x196)],_0x5a6e3e),_0x1afbd9['disableLocalAccounts']=![];}else{const _0x5c90d6={};_0x5c90d6['type']=WS_EVENTS[_0x2803d3(0xa9)],_0x5c90d6['message']=_0x288ddd['AFMBv'],this[_0x2803d3(0x1ce)][_0x2803d3(0x10c)](this[_0x2803d3(0x196)],_0x5c90d6),logger['info'](_0x288ddd[_0x2803d3(0x140)]),await this[_0x2803d3(0x1e6)]();}}else _0x288ddd[_0x2803d3(0x187)](_0x288ddd[_0x2803d3(0x170)],_0x288ddd[_0x2803d3(0x170)])?_0x4df2d9[_0x2803d3(0x192)](..._0x1920c6['actions']):logger[_0x2803d3(0x1e0)](_0x288ddd[_0x2803d3(0x1d7)]);logger['info'](_0x288ddd[_0x2803d3(0x230)]),await this[_0x2803d3(0x1cb)](),logger['info'](_0x288ddd['VfHuN']);}async[a1_0x2dd8e8(0x23c)](){const _0x1e28bb=a1_0x2dd8e8,_0x2f8048={};_0x2f8048[_0x1e28bb(0x169)]=_0x1e28bb(0x163),_0x2f8048[_0x1e28bb(0x1c2)]=_0x1e28bb(0x1a1),_0x2f8048[_0x1e28bb(0x1a6)]='storageaccount.json',_0x2f8048[_0x1e28bb(0x121)]=_0x1e28bb(0xfa),_0x2f8048['UEAgi']=_0x1e28bb(0x256),_0x2f8048['XTaCT']=_0x1e28bb(0x184),_0x2f8048[_0x1e28bb(0x16d)]=_0x1e28bb(0x234),_0x2f8048[_0x1e28bb(0x20a)]=_0x1e28bb(0x10f),_0x2f8048[_0x1e28bb(0x253)]='blockBlob',_0x2f8048[_0x1e28bb(0xf4)]=_0x1e28bb(0xeb);const _0x18ed45=_0x2f8048;let _0x4df051=await fs[_0x1e28bb(0xcf)](path[_0x1e28bb(0x16b)](__dirname,'..',_0x18ed45[_0x1e28bb(0x169)],_0x18ed45[_0x1e28bb(0x1c2)],_0x18ed45[_0x1e28bb(0x1a6)]),_0x18ed45[_0x1e28bb(0x121)]);_0x4df051=JSON['parse'](_0x4df051);const _0x45648b=this[_0x1e28bb(0xbe)](),_0x571647={};_0x571647[_0x1e28bb(0x178)]=_0x45648b;const _0x2bf7d7={};_0x2bf7d7[_0x1e28bb(0x13e)]=_0x571647,await this[_0x1e28bb(0x100)][_0x1e28bb(0xde)][_0x1e28bb(0x12a)](global_registry[_0x1e28bb(0x1a2)],_0x18ed45[_0x1e28bb(0x91)],{'properties':{'template':_0x4df051,'mode':_0x18ed45['XTaCT'],'parameters':_0x2bf7d7}});const _0x3d0ed0={};_0x3d0ed0['daysAfterCreationGreaterThan']=0x3c;const _0x433659={};_0x433659[_0x1e28bb(0xc6)]=_0x3d0ed0;const _0x29afab={};_0x29afab[_0x1e28bb(0x252)]=_0x433659;const _0x59fbd9={};_0x59fbd9[_0x1e28bb(0x177)]=!![],_0x59fbd9['name']=_0x18ed45[_0x1e28bb(0x16d)],_0x59fbd9['type']=_0x18ed45['dhwZD'],_0x59fbd9[_0x1e28bb(0x80)]={},_0x59fbd9[_0x1e28bb(0x80)][_0x1e28bb(0x9d)]=_0x29afab,_0x59fbd9[_0x1e28bb(0x80)][_0x1e28bb(0x141)]={},_0x59fbd9[_0x1e28bb(0x80)][_0x1e28bb(0x141)][_0x1e28bb(0x148)]=[_0x18ed45[_0x1e28bb(0x253)]];const _0x473b87={};_0x473b87[_0x1e28bb(0x120)]=[_0x59fbd9];const _0x42462d={};_0x42462d[_0x1e28bb(0x1a8)]=_0x473b87;const _0x31b6a8=_0x42462d;await this[_0x1e28bb(0xb9)]['managementPolicies'][_0x1e28bb(0x12b)](global_registry[_0x1e28bb(0x1a2)],_0x45648b,_0x18ed45[_0x1e28bb(0xf4)],_0x31b6a8);}async['createManagedIdentity'](){const _0x268daa=a1_0x2dd8e8,_0x2b354c={};_0x2b354c['LqSJu']=_0x268daa(0x163),_0x2b354c[_0x268daa(0x246)]=_0x268daa(0x1a1),_0x2b354c[_0x268daa(0xfd)]='managedidentity.json',_0x2b354c[_0x268daa(0x10e)]=_0x268daa(0xfa),_0x2b354c['wnczS']=_0x268daa(0x186),_0x2b354c[_0x268daa(0x251)]=_0x268daa(0x184);const _0x5edea6=_0x2b354c;let _0x7e3762=await fs[_0x268daa(0xcf)](path[_0x268daa(0x16b)](__dirname,'..',_0x5edea6['LqSJu'],_0x5edea6[_0x268daa(0x246)],_0x5edea6[_0x268daa(0xfd)]),_0x5edea6[_0x268daa(0x10e)]);_0x7e3762=JSON[_0x268daa(0x1fe)](_0x7e3762),await this[_0x268daa(0x100)][_0x268daa(0xde)]['beginCreateOrUpdateAndWait'](global_registry[_0x268daa(0x1a2)],_0x5edea6[_0x268daa(0xfb)],{'properties':{'template':_0x7e3762,'mode':_0x5edea6['CCAgC'],'parameters':{'clusterName':{'value':this[_0x268daa(0xef)]}}}});}async[a1_0x2dd8e8(0x1cb)](){const _0x76171=a1_0x2dd8e8,_0x54f9f3={};_0x54f9f3[_0x76171(0x181)]=_0x76171(0x15c),_0x54f9f3[_0x76171(0x8c)]=function(_0x558b06,_0x3ae9da){return _0x558b06!==_0x3ae9da;},_0x54f9f3[_0x76171(0x1a0)]=_0x76171(0xbf),_0x54f9f3[_0x76171(0x166)]=_0x76171(0x179),_0x54f9f3[_0x76171(0x7d)]=_0x76171(0x24e),_0x54f9f3['AKJXv']=function(_0x933e0,_0x284fb4){return _0x933e0===_0x284fb4;},_0x54f9f3['HsfEC']=_0x76171(0x1be),_0x54f9f3['txPOD']='templates',_0x54f9f3[_0x76171(0xc0)]=_0x76171(0x1a1),_0x54f9f3[_0x76171(0x220)]='utf-8',_0x54f9f3['XeWDW']=_0x76171(0x1e2),_0x54f9f3[_0x76171(0x21b)]=_0x76171(0x184);const _0x38c511=_0x54f9f3;if(!this['clusterInfo']){if(_0x38c511[_0x76171(0x8c)](_0x38c511['InXpp'],_0x38c511[_0x76171(0x1a0)])){_0x236eef[_0x76171(0x1e0)](_0x38c511['FCOIK']);const _0x43f9f8={};_0x43f9f8['type']=_0x1da599[_0x76171(0x14f)],_0x43f9f8[_0x76171(0xfe)]=_0x38c511[_0x76171(0x181)],this[_0x76171(0x1ce)][_0x76171(0x10c)](this[_0x76171(0x196)],_0x43f9f8);const _0x8c2276={};_0x8c2276[_0x76171(0x177)]=!![];const _0x35acac={'workloadIdentity':_0x8c2276,..._0x89627e[_0x76171(0xcd)]};_0x4d03ab['securityProfile']=_0x35acac;}else await this[_0x76171(0xab)]();}const _0x2fa8b4=this['clusterInfo']?.[_0x76171(0x200)]?.['issuerURL'],_0x5b60ef=[_0x38c511['QxrYt'],_0x38c511['YBgQj']];for await(const _0x261d63 of _0x5b60ef){if(_0x38c511[_0x76171(0x1dd)](_0x38c511[_0x76171(0x1bc)],_0x38c511[_0x76171(0x1bc)])){let _0x528f4d=await fs['readFileAsync'](path[_0x76171(0x16b)](__dirname,'..',_0x38c511['txPOD'],_0x38c511[_0x76171(0xc0)],'federatedidentity'+_0x261d63+_0x76171(0x191)),_0x38c511['fferA']);_0x528f4d=JSON[_0x76171(0x1fe)](_0x528f4d);const _0x296bea={};_0x296bea[_0x76171(0x178)]=_0x2fa8b4,await this['resourceClient']['deployments'][_0x76171(0x12a)](global_registry[_0x76171(0x1a2)],_0x38c511[_0x76171(0x143)],{'properties':{'template':_0x528f4d,'mode':_0x38c511[_0x76171(0x21b)],'parameters':{'oidcIssuer':_0x296bea,'gridName':{'value':this[_0x76171(0x89)]},'clusterName':{'value':this[_0x76171(0xef)]}}}});}else _0x46a6f3['error']=_0x47d990;}}async[a1_0x2dd8e8(0x223)](_0x76f917,_0x590cae,_0x46edec,_0x3b8e5e,_0x899d43){const _0x26c736=a1_0x2dd8e8,_0x3e50f9={};_0x3e50f9[_0x26c736(0x130)]='Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha',_0x3e50f9['xTEai']='Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha';const _0x32f02a=_0x3e50f9,_0x10efdd={};_0x10efdd[_0x26c736(0x258)]=WS_EVENTS[_0x26c736(0xa9)],_0x10efdd['message']=_0x32f02a[_0x26c736(0x130)],this[_0x26c736(0x1ce)][_0x26c736(0x10c)](this[_0x26c736(0x196)],_0x10efdd),logger[_0x26c736(0x1e0)](_0x32f02a[_0x26c736(0x130)]),await this[_0x26c736(0xd6)]();const _0x59a1f3={};_0x59a1f3[_0x26c736(0x258)]=WS_EVENTS[_0x26c736(0xa9)],_0x59a1f3[_0x26c736(0xfe)]=_0x32f02a['xTEai'],this[_0x26c736(0x1ce)][_0x26c736(0x10c)](this[_0x26c736(0x196)],_0x59a1f3);}async['createFederatedAccountForHubHA'](){const _0x8e8b0e=a1_0x2dd8e8,_0x11db65={};_0x11db65[_0x8e8b0e(0x88)]=function(_0x410b4f,_0x1eab82){return _0x410b4f!==_0x1eab82;},_0x11db65['KyMDt']=_0x8e8b0e(0x171),_0x11db65[_0x8e8b0e(0x215)]=_0x8e8b0e(0x163),_0x11db65[_0x8e8b0e(0x235)]='hubharesources',_0x11db65[_0x8e8b0e(0x17b)]=_0x8e8b0e(0xed),_0x11db65[_0x8e8b0e(0x19c)]=_0x8e8b0e(0xfa),_0x11db65[_0x8e8b0e(0x21f)]=_0x8e8b0e(0x1e2),_0x11db65[_0x8e8b0e(0x22f)]=_0x8e8b0e(0x184);const _0x5177a3=_0x11db65;!this[_0x8e8b0e(0xad)]&&(_0x5177a3[_0x8e8b0e(0x88)](_0x5177a3['KyMDt'],_0x5177a3[_0x8e8b0e(0xac)])?_0x4a358f[_0x8e8b0e(0xa5)](0x0):await this[_0x8e8b0e(0xab)]());const _0x373b3f=this[_0x8e8b0e(0xad)]?.[_0x8e8b0e(0x200)]?.[_0x8e8b0e(0xc9)];let _0x44127f=await fs[_0x8e8b0e(0xcf)](path['join'](__dirname,'..',_0x5177a3[_0x8e8b0e(0x215)],_0x5177a3[_0x8e8b0e(0x235)],_0x5177a3[_0x8e8b0e(0x17b)]),_0x5177a3[_0x8e8b0e(0x19c)]);_0x44127f=JSON[_0x8e8b0e(0x1fe)](_0x44127f);const _0x1cb592={};_0x1cb592[_0x8e8b0e(0x178)]=_0x373b3f,await this[_0x8e8b0e(0x100)][_0x8e8b0e(0xde)][_0x8e8b0e(0x12a)](global_registry[_0x8e8b0e(0x1a2)],_0x5177a3[_0x8e8b0e(0x21f)],{'properties':{'template':_0x44127f,'mode':_0x5177a3[_0x8e8b0e(0x22f)],'parameters':{'oidcIssuer':_0x1cb592,'namespace':{'value':global_registry[_0x8e8b0e(0x1ed)]},'clusterName':{'value':this[_0x8e8b0e(0xef)]}}}});}async[a1_0x2dd8e8(0x15a)](){const _0x3d22e5=a1_0x2dd8e8,_0x22b47e={};_0x22b47e[_0x3d22e5(0x1ee)]=function(_0x4c6623,_0x3ed32e){return _0x4c6623===_0x3ed32e;},_0x22b47e[_0x3d22e5(0xa8)]=_0x3d22e5(0x103),_0x22b47e[_0x3d22e5(0x257)]=_0x3d22e5(0x82),_0x22b47e[_0x3d22e5(0x22d)]=function(_0x3c01ba,_0x4f2b0a){return _0x3c01ba!==_0x4f2b0a;},_0x22b47e[_0x3d22e5(0xdd)]='NDeTo',_0x22b47e[_0x3d22e5(0x87)]=_0x3d22e5(0x101),_0x22b47e[_0x3d22e5(0x17c)]=function(_0x189565,_0x4d2234){return _0x189565===_0x4d2234;},_0x22b47e['jHQZh']='uaqfq';const _0x3f4d26=_0x22b47e,_0x5c294d=this[_0x3d22e5(0xbe)](),_0x5a20c2=new Array();for await(const _0x1ec6b6 of this[_0x3d22e5(0xb9)][_0x3d22e5(0x247)][_0x3d22e5(0x13b)](global_registry[_0x3d22e5(0x1a2)])){_0x3f4d26[_0x3d22e5(0x1ee)](_0x3f4d26['vazqM'],_0x3f4d26[_0x3d22e5(0x257)])?_0x5e08ca[_0x3d22e5(0x162)]=_0x23b90f:_0x5a20c2['push'](_0x1ec6b6);}for await(const _0x2b46c4 of _0x5a20c2){if(_0x3f4d26[_0x3d22e5(0x22d)](_0x3f4d26[_0x3d22e5(0xdd)],_0x3f4d26[_0x3d22e5(0x87)])){if(_0x3f4d26['jgRcK'](_0x2b46c4[_0x3d22e5(0x233)],_0x5c294d))return _0x3f4d26[_0x3d22e5(0x17c)](_0x3f4d26[_0x3d22e5(0x19b)],_0x3f4d26[_0x3d22e5(0x19b)])?!![]:(_0x2013b0[_0x3d22e5(0x162)](_0x3d22e5(0x81)+_0x28856c+':'+_0x540e04['stack']),{});}else return[!![],_0xe5d40a];}return![];}async[a1_0x2dd8e8(0x8f)](){const _0x30fb70=a1_0x2dd8e8,_0x14218a={};_0x14218a['vOewz']=function(_0x3bf813,_0x172813){return _0x3bf813===_0x172813;},_0x14218a[_0x30fb70(0x198)]=function(_0x388ee2,_0x461686){return _0x388ee2===_0x461686;},_0x14218a[_0x30fb70(0x16e)]='eWHzN',_0x14218a[_0x30fb70(0x19f)]=_0x30fb70(0xf8),_0x14218a['UkioH']=_0x30fb70(0x7b),_0x14218a['HzsLm']=function(_0x220e00,_0x31260f){return _0x220e00===_0x31260f;},_0x14218a[_0x30fb70(0x1db)]=_0x30fb70(0x110),_0x14218a[_0x30fb70(0x84)]='jAbvS';const _0x19d415=_0x14218a,_0x51d130=new Array();for await(const _0x50acca of this['resourceClient'][_0x30fb70(0x1cd)][_0x30fb70(0x13b)](global_registry[_0x30fb70(0x1a2)])){if(_0x19d415['swNEK'](_0x19d415['eiqTS'],_0x19d415[_0x30fb70(0x19f)]))return _0x12323b[_0x30fb70(0x167)][_0x30fb70(0x146)][_0x30fb70(0x12d)][0x0][_0x30fb70(0x236)];else _0x51d130[_0x30fb70(0x192)](_0x50acca);}for await(const _0x57a796 of _0x51d130){if(_0x19d415[_0x30fb70(0x131)](_0x19d415[_0x30fb70(0x1bf)],_0x19d415[_0x30fb70(0x1bf)])){if(_0x19d415[_0x30fb70(0xa1)](_0x57a796[_0x30fb70(0x233)],_0x30fb70(0x9f)+this['clusterName'])){if(_0x19d415[_0x30fb70(0x131)](_0x19d415['zuhjR'],_0x19d415[_0x30fb70(0x84)])){if(_0x19d415[_0x30fb70(0x131)](_0x2a39a7['name'],_0x110c30))return!![];}else return!![];}}else{if(_0x19d415[_0x30fb70(0x131)](_0x390a44[_0x30fb70(0x233)],_0x56e1d9))return!![];}}return![];}async['getResourceClientId'](_0x25482f,_0x557987=0x3){const _0x156242=a1_0x2dd8e8,_0x90261b={'VRXGa':_0x156242(0x8b),'ZzGes':_0x156242(0x86),'smVuS':function(_0x337067,_0x44a6a7){return _0x337067+_0x44a6a7;},'UdEYq':function(_0x58d17a,_0x3453e7){return _0x58d17a!==_0x3453e7;},'gurYD':'RqYiK','hZjam':function(_0x4a981f,_0x186f02,_0x3441bc){return _0x4a981f(_0x186f02,_0x3441bc);},'RFyoD':_0x156242(0x20e),'icwwy':_0x156242(0xe3),'dBmLJ':function(_0x26d8f2,_0x4fff2f){return _0x26d8f2===_0x4fff2f;},'rCvTV':_0x156242(0x1e1),'HfczQ':'fjPIF','lltHr':_0x156242(0x92),'RgcNS':function(_0x24d287,_0x5e7250){return _0x24d287===_0x5e7250;},'AklYv':function(_0x21f2fa,_0x25c9db){return _0x21f2fa!==_0x25c9db;},'uNkbh':_0x156242(0xe0),'OROAo':_0x156242(0xb6),'byYVL':_0x156242(0x1b1),'OdvBX':_0x156242(0x7c),'kySdR':function(_0xe7659,_0x2e6b18){return _0xe7659<=_0x2e6b18;},'lFVnr':function(_0x555587,_0x1962a7){return _0x555587===_0x1962a7;},'jWPLS':_0x156242(0x1f2),'LsYdM':_0x156242(0x188),'ubbgi':function(_0x37330e,_0x5c6add){return _0x37330e-_0x5c6add;}};try{if(_0x90261b[_0x156242(0x134)](_0x90261b[_0x156242(0x206)],_0x90261b['icwwy'])){const _0x1c538f=new Array();for await(const _0x570a69 of this[_0x156242(0x100)][_0x156242(0x1cd)][_0x156242(0x13b)](global_registry['cloudProviderResourceGroup'])){if(_0x90261b[_0x156242(0x117)](_0x90261b[_0x156242(0xca)],_0x90261b[_0x156242(0xca)]))_0x1c538f['push'](_0x570a69);else{const _0x3bb78c=_0x90261b[_0x156242(0xe7)]['split']('|');let _0x31d0da=0x0;while(!![]){switch(_0x3bb78c[_0x31d0da++]){case'0':_0x4c79da[_0x156242(0x132)]=_0x48c3bc[this[_0x156242(0x210)]]['clientId'];continue;case'1':_0x30eb4d[_0x156242(0x23e)]=_0x49ac78[this[_0x156242(0x210)]][_0x156242(0x23f)];continue;case'2':this['setClients']();continue;case'3':_0x8dcbca[_0x156242(0x1a2)]=_0xcc2f32[this[_0x156242(0x210)]][_0x156242(0x133)];continue;case'4':_0x516b21[_0x156242(0x1eb)]=_0x40f863[this[_0x156242(0x210)]][_0x156242(0x208)];continue;case'5':_0x24f548[_0x156242(0x1a3)]=_0x1b6c43[this[_0x156242(0x210)]][_0x156242(0xdc)];continue;}break;}}}let _0x155afc='';for await(const _0x17b209 of _0x1c538f){if(_0x90261b['UdEYq'](_0x90261b[_0x156242(0x1d3)],_0x90261b['lltHr'])){if(_0x90261b[_0x156242(0x24f)](_0x17b209[_0x156242(0x233)],_0x25482f)){if(_0x90261b[_0x156242(0x1ec)](_0x90261b[_0x156242(0x165)],_0x90261b[_0x156242(0x165)]))return _0x5e0b91[_0x156242(0x231)]=_0x90261b['ZzGes'],_0x55d953;else _0x155afc=_0x17b209['id'];}}else _0x15235c[_0x156242(0x192)](_0x1879d8);}const _0x156e88=await this['resourceClient'][_0x156242(0x1cd)]['getById'](_0x155afc,_0x90261b['OROAo']);return _0x156e88[_0x156242(0xb1)]['clientId'];}else _0xe4b514[_0x156242(0x16a)]('['+_0x90261b['smVuS'](_0x332063,0x1)+']\x20'+_0x4db3f4[_0x4de871]);}catch(_0xf0ab1b){if(_0x90261b[_0x156242(0x1ec)](_0x90261b[_0x156242(0x98)],_0x90261b[_0x156242(0x123)])){if(_0x90261b[_0x156242(0x14b)](_0x557987,0x0)){if(_0x90261b['lFVnr'](_0x90261b[_0x156242(0x18f)],_0x90261b[_0x156242(0x151)]))_0x4764a0[_0x156242(0x194)][_0x156242(0x192)](_0x116a89);else return logger[_0x156242(0x162)](_0x156242(0x81)+_0xf0ab1b+':'+_0xf0ab1b[_0x156242(0x14e)]),{};}return await new Promise(_0x223ada=>{const _0xf14489=_0x156242;if(_0x90261b[_0xf14489(0x134)](_0x90261b[_0xf14489(0x156)],_0x90261b[_0xf14489(0x156)])){const _0x55ec8a=new _0x2dab85(_0xfda142[_0xf14489(0x1eb)],_0x28ee45['cloudProviderClientId'],_0x166e95[_0xf14489(0x23e)]);this[_0xf14489(0x1aa)]=new _0x38c6bb(_0x55ec8a,_0x2998b5[_0xf14489(0x1a3)]),this['storageClient']=new _0x119b94(_0x55ec8a,_0x3fa1d7[_0xf14489(0x1a3)]),this['resourceClient']=new _0x5bf15e(_0x55ec8a,_0x49a601['cloudProviderSubscriptionId']),this[_0xf14489(0x125)]=new _0x1672ee(_0x55ec8a,_0x351fe9[_0xf14489(0x1a3)]),this[_0xf14489(0x1c0)]=new _0x3f3776(_0x55ec8a,_0x234be6[_0xf14489(0x1a3)]),this[_0xf14489(0x199)]=_0x55ec8a;}else _0x90261b['hZjam'](setTimeout,()=>_0x223ada(),0x3e8);}),this[_0x156242(0x23d)](_0x25482f,_0x90261b['ubbgi'](_0x557987,0x1));}else return!![];}}async['isBrowserstackCluster'](){const _0x14552d=a1_0x2dd8e8,_0x2bdbf8={};_0x2bdbf8['HJQbU']=function(_0x1bef8d,_0x29a444){return _0x1bef8d===_0x29a444;},_0x2bdbf8['NIejf']=_0x14552d(0xd8),_0x2bdbf8[_0x14552d(0xa0)]=_0x14552d(0x1b6),_0x2bdbf8['qNWvN']=_0x14552d(0x152),_0x2bdbf8[_0x14552d(0x1c3)]=_0x14552d(0xb2);const _0x1612c6=_0x2bdbf8;!this[_0x14552d(0xad)]&&(_0x1612c6[_0x14552d(0xc1)](_0x1612c6['NIejf'],_0x1612c6[_0x14552d(0x14d)])?await this[_0x14552d(0xab)]():_0x9f60c5[_0x14552d(0x167)]=![]);const _0xb79c88=this['clusterInfo']?.[_0x14552d(0x1b0)]||{};if(_0xb79c88&&_0x1612c6[_0x14552d(0xc1)](_0xb79c88[_0x1612c6[_0x14552d(0xa0)]],_0x1612c6['qNWvN']))return _0x1612c6[_0x14552d(0xc1)](_0x1612c6[_0x14552d(0x1c3)],_0x1612c6[_0x14552d(0x1c3)])?!![]:(_0xd53b89[_0x14552d(0x162)]=_0x2090f5[_0x14552d(0x162)],_0x428f98);return![];}async[a1_0x2dd8e8(0x1d8)](_0x6dc574,_0xa41e53){const _0x733702=a1_0x2dd8e8,_0xcd8656={'jRanB':function(_0x5bcfc8,_0x1c3083){return _0x5bcfc8(_0x1c3083);},'IVFUR':_0x733702(0x22a)};await _0xcd8656[_0x733702(0xd1)](deleteAgent,_0x6dc574),await _0xcd8656[_0x733702(0xd1)](deleteRoutingDeps,_0x6dc574);const _0x318c2f=this[_0x733702(0x1aa)];logger[_0x733702(0x1e0)](_0x733702(0xf0)+this[_0x733702(0xef)]),await _0x318c2f[_0x733702(0x129)][_0x733702(0x159)](global_registry[_0x733702(0x1a2)],this[_0x733702(0xef)]),logger[_0x733702(0x1e0)](_0xcd8656['IVFUR']);}async['updateClusterAlreadyPresent'](){const _0x38a7c6=a1_0x2dd8e8,_0x422003={};_0x422003['DFGgu']=_0x38a7c6(0x1d1),_0x422003[_0x38a7c6(0x255)]=_0x38a7c6(0x1e7),_0x422003[_0x38a7c6(0x1c4)]=_0x38a7c6(0x79),_0x422003['jnrbs']=_0x38a7c6(0xd3),_0x422003[_0x38a7c6(0xc3)]=function(_0x1016d0,_0x409000){return _0x1016d0===_0x409000;},_0x422003[_0x38a7c6(0x113)]=_0x38a7c6(0x1df),_0x422003['QZNWp']='WJRqe',_0x422003[_0x38a7c6(0x21a)]=function(_0x4df194,_0x3f11ab){return _0x4df194&&_0x3f11ab;},_0x422003[_0x38a7c6(0x1ac)]=function(_0x2f5ea9,_0x4cb8c7){return _0x2f5ea9!==_0x4cb8c7;},_0x422003[_0x38a7c6(0xff)]='TswCp',_0x422003[_0x38a7c6(0x1ba)]=_0x38a7c6(0x1c8),_0x422003[_0x38a7c6(0xea)]=_0x38a7c6(0x11d),_0x422003[_0x38a7c6(0x1f4)]='tpTVO',_0x422003['jjMHR']=_0x38a7c6(0x204),_0x422003[_0x38a7c6(0xcb)]=function(_0x3861ed,_0x2ecf26){return _0x3861ed===_0x2ecf26;},_0x422003['GMYKx']='RLCAO',_0x422003[_0x38a7c6(0x1ae)]=_0x38a7c6(0x1d4),_0x422003[_0x38a7c6(0xfc)]=_0x38a7c6(0x15c),_0x422003[_0x38a7c6(0x1f7)]=_0x38a7c6(0x1cf),_0x422003[_0x38a7c6(0x20c)]='WCOZI',_0x422003[_0x38a7c6(0x237)]=_0x38a7c6(0x9c);const _0x5a6c25=_0x422003;if(!this['clusterInfo']){if(_0x5a6c25[_0x38a7c6(0xc3)](_0x5a6c25[_0x38a7c6(0x113)],_0x5a6c25[_0x38a7c6(0xec)])){const _0x1c4177=_0x1614cc[_0x38a7c6(0xdb)](_0x121611);_0x2a266e+='\x0a\x09'+_0x31ed8a+':\x20'+(_0x1c4177?_0x5a6c25[_0x38a7c6(0xc4)]:_0x5a6c25['rTTef']),!_0x1c4177&&(_0x301c7b[_0x38a7c6(0x167)]=![]);}else await this[_0x38a7c6(0xab)]();}const _0x35cd2c=this[_0x38a7c6(0xad)],_0x20db62=this[_0x38a7c6(0xad)]?.[_0x38a7c6(0x200)]?.[_0x38a7c6(0x177)]||![],_0x5aa675=this['clusterInfo']?.[_0x38a7c6(0xcd)]?.[_0x38a7c6(0x11e)]?.[_0x38a7c6(0x177)]||![],_0x38cb0b=!this['clusterInfo']?.[_0x38a7c6(0x122)]||![];if(_0x5a6c25[_0x38a7c6(0x21a)](_0x20db62,_0x5aa675)&&_0x38cb0b){if(_0x5a6c25['aJdUk'](_0x5a6c25['YJyof'],_0x5a6c25['ReaaM']))return;else _0x332362['push'](_0x47b0e6);}if(!_0x20db62){if(_0x5a6c25[_0x38a7c6(0x1ac)](_0x5a6c25[_0x38a7c6(0xea)],_0x5a6c25[_0x38a7c6(0x1f4)])){logger[_0x38a7c6(0x1e0)](_0x5a6c25[_0x38a7c6(0x13f)]);const _0xa726e8={};_0xa726e8['type']=WS_EVENTS[_0x38a7c6(0x14f)],_0xa726e8[_0x38a7c6(0xfe)]=_0x5a6c25[_0x38a7c6(0x13f)],this[_0x38a7c6(0x1ce)][_0x38a7c6(0x10c)](this['rws'],_0xa726e8),_0x35cd2c[_0x38a7c6(0x200)][_0x38a7c6(0x177)]=!![];}else return _0x5d5c6b[_0x38a7c6(0x231)]=_0x5a6c25[_0x38a7c6(0x1c4)],_0x4eb291;}if(!_0x5aa675){if(_0x5a6c25[_0x38a7c6(0xcb)](_0x5a6c25[_0x38a7c6(0x115)],_0x5a6c25[_0x38a7c6(0x1ae)]))_0x4bad7d[_0x38a7c6(0x192)](_0x41ff6c[_0x38a7c6(0x233)]);else{logger[_0x38a7c6(0x1e0)](_0x5a6c25[_0x38a7c6(0xfc)]);const _0x588214={};_0x588214['type']=WS_EVENTS[_0x38a7c6(0x14f)],_0x588214[_0x38a7c6(0xfe)]=_0x5a6c25['ZBUoF'],this[_0x38a7c6(0x1ce)][_0x38a7c6(0x10c)](this[_0x38a7c6(0x196)],_0x588214);const _0x423ce0={};_0x423ce0['enabled']=!![],_0x35cd2c[_0x38a7c6(0xcd)]={'workloadIdentity':_0x423ce0,..._0x35cd2c[_0x38a7c6(0xcd)]};}}if(!_0x38cb0b){if(_0x5a6c25[_0x38a7c6(0xcb)](_0x5a6c25[_0x38a7c6(0x1f7)],_0x5a6c25[_0x38a7c6(0x20c)]))_0x4469c4[_0x38a7c6(0x162)](_0x5a6c25[_0x38a7c6(0x13c)]),_0x2985cd[_0x38a7c6(0xa5)](0x1);else{logger['info'](_0x5a6c25[_0x38a7c6(0x237)]);const _0x5ede92={};_0x5ede92[_0x38a7c6(0x258)]=WS_EVENTS[_0x38a7c6(0x14f)],_0x5ede92[_0x38a7c6(0xfe)]=_0x5a6c25[_0x38a7c6(0x237)],this[_0x38a7c6(0x1ce)]['sendEventToBackend'](this['rws'],_0x5ede92),_0x35cd2c[_0x38a7c6(0x122)]=![];}}await this['containerClient']['managedClusters']['beginCreateOrUpdateAndWait'](global_registry[_0x38a7c6(0x1a2)],this[_0x38a7c6(0xef)],_0x35cd2c),await this[_0x38a7c6(0xab)]();}async['sendAzureInfoToHST'](){const _0x2257ff=a1_0x2dd8e8,_0x5a79d7={'sIAGq':function(_0x24e6a3,_0x3d566c,_0x85a4e9){return _0x24e6a3(_0x3d566c,_0x85a4e9);},'GGxdW':function(_0x32e17f,_0x2275f0){return _0x32e17f===_0x2275f0;},'AQtht':_0x2257ff(0x242),'hPJwM':_0x2257ff(0x19e)},_0x48bcdd=await this['networkClient'][_0x2257ff(0x21c)]['listAll'](global_registry[_0x2257ff(0x1a2)]),_0x4f6c0a={};_0x4f6c0a[_0x2257ff(0xae)]=global_registry[_0x2257ff(0x153)],_0x4f6c0a['accessKey']=global_registry[_0x2257ff(0x239)],_0x4f6c0a[_0x2257ff(0x1e8)]=AZURE,_0x4f6c0a[_0x2257ff(0x194)]=[];const _0x76de67=_0x4f6c0a;for await(const _0x3ace84 of _0x48bcdd){_0x5a79d7[_0x2257ff(0x203)](_0x5a79d7[_0x2257ff(0x15f)],_0x5a79d7['hPJwM'])?_0x5a79d7[_0x2257ff(0x225)](_0x2e61b6,()=>_0x49eaff(),0x3e8):_0x76de67[_0x2257ff(0x194)][_0x2257ff(0x192)](_0x3ace84);}const _0x158c16={};_0x158c16[_0x2257ff(0x258)]=WS_EVENTS[_0x2257ff(0x14f)],_0x158c16['message']=_0x76de67,this[_0x2257ff(0x1ce)][_0x2257ff(0x10c)](this[_0x2257ff(0x196)],_0x158c16);}async[a1_0x2dd8e8(0xf2)](_0x560e76){const _0x11552b=a1_0x2dd8e8,_0x1b91f9={};_0x1b91f9['NvlQV']='No\x20service\x20principal\x20found',_0x1b91f9[_0x11552b(0xee)]=function(_0x4f2661,_0x5b1537){return _0x4f2661===_0x5b1537;},_0x1b91f9['Rveww']=_0x11552b(0xd3),_0x1b91f9['CpZiU']=function(_0x26cfd7,_0x1225b1){return _0x26cfd7!==_0x1225b1;},_0x1b91f9[_0x11552b(0xb5)]=_0x11552b(0x109),_0x1b91f9[_0x11552b(0x249)]=function(_0x7a7287,_0x1db18a){return _0x7a7287!==_0x1db18a;},_0x1b91f9['jclBp']=_0x11552b(0x20d),_0x1b91f9[_0x11552b(0xda)]=_0x11552b(0x150),_0x1b91f9[_0x11552b(0x10a)]=function(_0x3879d4,_0x2a9dfa){return _0x3879d4===_0x2a9dfa;},_0x1b91f9[_0x11552b(0x193)]=_0x11552b(0x1ab),_0x1b91f9[_0x11552b(0x24a)]='cjVno',_0x1b91f9[_0x11552b(0x16c)]='OAXJe';const _0x393b7a=_0x1b91f9;try{if(_0x393b7a[_0x11552b(0x1f6)](_0x393b7a[_0x11552b(0xb5)],_0x393b7a[_0x11552b(0xb5)]))throw new _0x4108d7(_0x393b7a[_0x11552b(0x15b)],'Received\x20response\x20-\x20'+_0x1a576['stringify'](_0x4e1a68));else{const _0x1ef4ba=await this['networkClient']['virtualNetworks']['listAll'](global_registry['cloudProviderResourceGroup']);for await(const _0x37d9ad of _0x1ef4ba){if(_0x393b7a[_0x11552b(0x249)](_0x393b7a[_0x11552b(0x201)],_0x393b7a[_0x11552b(0xda)])){if(_0x393b7a['IxiBu'](_0x37d9ad[_0x11552b(0x233)],_0x560e76))return _0x393b7a['xQPzT'](_0x393b7a['hPlUp'],_0x393b7a[_0x11552b(0x24a)])?!![]:!![];}else{if(_0x393b7a['YSOYP'](_0x332723[_0x11552b(0x233)],_0x11552b(0x9f)+this[_0x11552b(0xef)]))return!![];}}}}catch(_0x2fb4cd){if(_0x393b7a['YSOYP'](_0x393b7a[_0x11552b(0x16c)],_0x393b7a[_0x11552b(0x16c)]))return logger[_0x11552b(0x162)](_0x11552b(0x154)+_0x560e76+_0x11552b(0x240)+_0x2fb4cd),![];else _0x4672ca['error'](_0x393b7a['Rveww']),_0x574622[_0x11552b(0xa5)](0x1);}return![];}async[a1_0x2dd8e8(0xe6)](_0x4d741d,_0x455901){const _0x1868df=a1_0x2dd8e8,_0x515884={};_0x515884[_0x1868df(0x127)]=_0x1868df(0x1b8),_0x515884[_0x1868df(0x218)]=function(_0x401f87,_0x460070){return _0x401f87===_0x460070;},_0x515884['WZwNb']=_0x1868df(0x22c),_0x515884[_0x1868df(0x157)]=function(_0x5885ca,_0x4ae6b2){return _0x5885ca===_0x4ae6b2;},_0x515884[_0x1868df(0x245)]=function(_0x3e3bd5,_0x697ddf){return _0x3e3bd5===_0x697ddf;},_0x515884[_0x1868df(0xe2)]=_0x1868df(0xb4);const _0x4777b5=_0x515884;try{if(_0x4777b5[_0x1868df(0x218)](_0x4777b5[_0x1868df(0x222)],_0x4777b5['WZwNb'])){const _0x100c12=await this[_0x1868df(0x125)][_0x1868df(0x138)][_0x1868df(0x241)](global_registry[_0x1868df(0x1a2)],_0x455901,_0x4d741d[0x0]);if(_0x4777b5['kQRcD'](_0x4d741d[0x0],_0x100c12['name'])){if(_0x4777b5['KvAKl'](_0x4777b5[_0x1868df(0xe2)],_0x4777b5[_0x1868df(0xe2)]))return[!![],_0x4d741d];else _0x12709c['push'](_0x49e62b);}}else _0x24b6c3['info'](_0x4777b5[_0x1868df(0x127)]);}catch(_0x5109a9){return logger[_0x1868df(0x162)](_0x1868df(0x1c6)+_0x4d741d+_0x1868df(0x1c7)+_0x5109a9),[![],[]];}return[![],[]];}async[a1_0x2dd8e8(0x183)](){const _0x5218c4=a1_0x2dd8e8,_0x4c3042={};_0x4c3042[_0x5218c4(0x102)]=_0x5218c4(0x18a);const _0xe4ec9a=_0x4c3042,_0x25ab33={};_0x25ab33[_0x5218c4(0x167)]=!![],_0x25ab33[_0x5218c4(0x162)]=null,_0x25ab33['data']=_0xe4ec9a[_0x5218c4(0x102)];const _0x5a890e=_0x25ab33;return _0x5a890e;}async[a1_0x2dd8e8(0xb7)](){const _0x4b5a8d=a1_0x2dd8e8,_0x110140={};_0x110140[_0x4b5a8d(0x161)]=_0x4b5a8d(0x112),_0x110140['mPfKJ']='GET',_0x110140[_0x4b5a8d(0x18e)]=_0x4b5a8d(0x124);const _0x16d18b=_0x110140,_0x32c505=await this[_0x4b5a8d(0x199)][_0x4b5a8d(0x1c1)](_0x16d18b[_0x4b5a8d(0x161)]),_0x4a96a0={};_0x4a96a0[_0x4b5a8d(0x147)]=_0x16d18b[_0x4b5a8d(0x20f)],_0x4a96a0[_0x4b5a8d(0x211)]={},_0x4a96a0[_0x4b5a8d(0x211)][_0x4b5a8d(0x212)]=_0x4b5a8d(0xb3)+_0x32c505[_0x4b5a8d(0x7a)],_0x4a96a0[_0x4b5a8d(0x211)][_0x4b5a8d(0x8d)]=_0x16d18b[_0x4b5a8d(0x18e)];const _0x256810=_0x4a96a0;return _0x256810;}async['getPrincipalIdFromClientId'](_0x40fd07){const _0x1f7013=a1_0x2dd8e8,_0x115245={'vdNAJ':function(_0x5caa69,_0x516c26,_0x47e1b2){return _0x5caa69(_0x516c26,_0x47e1b2);},'Cpkcq':function(_0x4e0546,_0x310ecd){return _0x4e0546===_0x310ecd;},'ZTYIp':_0x1f7013(0x1a7)},_0x1d4271={};_0x1d4271['principalId']='',_0x1d4271[_0x1f7013(0x162)]=null;const _0x381c06=_0x1d4271;try{const _0x36bf75=_0x1f7013(0xd0)+_0x40fd07+'\x27',_0x294ec6=await this['getHeader'](),_0x5e100e=await _0x115245[_0x1f7013(0x217)](fetch,_0x36bf75,_0x294ec6),_0x201b13=await _0x5e100e['json']();if(!_0x201b13[_0x1f7013(0x178)]||_0x115245[_0x1f7013(0x24b)](_0x201b13['value']['length'],0x0))throw new Error(_0x115245[_0x1f7013(0x19a)],'Received\x20response\x20-\x20'+JSON[_0x1f7013(0x96)](_0x201b13));_0x381c06[_0x1f7013(0x128)]=_0x201b13[_0x1f7013(0x178)][0x0]['id'];}catch(_0x3ed9d5){_0x381c06[_0x1f7013(0x162)]=_0x3ed9d5;}return _0x381c06;}async['checkAccess'](){const _0x30702e=a1_0x2dd8e8,_0x1b8ee4={};_0x1b8ee4['RkjvA']=_0x30702e(0x1d1),_0x1b8ee4[_0x30702e(0xf7)]=_0x30702e(0x1e7),_0x1b8ee4['dmUcL']=function(_0x266e2b,_0x16a58a){return _0x266e2b!==_0x16a58a;},_0x1b8ee4[_0x30702e(0x16f)]=function(_0x1859c5,_0x4e6405){return _0x1859c5===_0x4e6405;},_0x1b8ee4[_0x30702e(0x1cc)]=_0x30702e(0x86),_0x1b8ee4['hWIkR']=_0x30702e(0x79),_0x1b8ee4[_0x30702e(0x1e5)]=function(_0x3023d2,_0x594ff9){return _0x3023d2===_0x594ff9;},_0x1b8ee4[_0x30702e(0x1a5)]=function(_0x5cbb85,_0x256484){return _0x5cbb85===_0x256484;},_0x1b8ee4[_0x30702e(0x1d5)]='Action\x20permission\x20list\x20is\x20empty\x0a';const _0x5e30bf=_0x1b8ee4,_0x573e5b={};_0x573e5b[_0x30702e(0x167)]=![],_0x573e5b['error']=null,_0x573e5b[_0x30702e(0x231)]='';const _0x442432=_0x573e5b;try{let _0x5d1905='';const _0x395dd9='subscriptions/'+global_registry[_0x30702e(0x1a3)]+'/resourceGroups/'+global_registry['cloudProviderResourceGroup'],_0x4f696f=await this[_0x30702e(0x1dc)](global_registry['cloudProviderClientId']);if(_0x5e30bf[_0x30702e(0x1a9)](_0x4f696f[_0x30702e(0x162)],null))return _0x442432[_0x30702e(0x162)]=_0x4f696f['error'],_0x442432;const _0x376cf4=_0x30702e(0x248)+_0x4f696f[_0x30702e(0x128)]+'\x27)',_0x12165f={};_0x12165f[_0x30702e(0x20b)]=_0x376cf4;const _0xf9144c=await this['authClient'][_0x30702e(0x190)][_0x30702e(0xa2)](_0x395dd9,_0x12165f),_0x3ca12c=[];for await(const _0x18659a of _0xf9144c){_0x3ca12c['push'](_0x18659a);}if(_0x5e30bf[_0x30702e(0x16f)](_0x3ca12c['length'],0x0))return _0x442432[_0x30702e(0x231)]=_0x5e30bf[_0x30702e(0x1cc)],_0x442432;const _0x475b7a=[...new Set(_0x3ca12c[_0x30702e(0x24c)](_0x22ed88=>_0x22ed88['roleDefinitionId']))];if(_0x5e30bf[_0x30702e(0x16f)](_0x475b7a[_0x30702e(0x216)],0x0))return _0x442432['data']=_0x5e30bf[_0x30702e(0x7f)],_0x442432;const _0x1271be=[],_0xc3c4b4=[];for(const _0x458345 of _0x475b7a){const _0x4a5f5b=await this[_0x30702e(0x1c0)]['roleDefinitions'][_0x30702e(0x142)](_0x458345);logger[_0x30702e(0x195)](_0x30702e(0xdf)+_0x4a5f5b['roleName']),_0x1271be[_0x30702e(0x192)](_0x4a5f5b),logger[_0x30702e(0x195)](_0x30702e(0x119)+JSON[_0x30702e(0x96)](_0x4a5f5b[_0x30702e(0x10b)])),_0x4a5f5b[_0x30702e(0x10b)]['forEach'](_0x5bde3f=>{const _0x4e5e0e=_0x30702e;_0xc3c4b4[_0x4e5e0e(0x192)](..._0x5bde3f[_0x4e5e0e(0x9d)]);});}logger[_0x30702e(0x195)]('actionPermission\x20:\x20'+JSON[_0x30702e(0x96)](_0xc3c4b4)),_0x5e30bf[_0x30702e(0x1e5)](_0xc3c4b4[_0x30702e(0x216)],0x0)&&(_0x5d1905+=_0x5e30bf['vHgwL'](_0xc3c4b4[_0x30702e(0x216)],0x0)?_0x5e30bf[_0x30702e(0x1d5)]:'',logger[_0x30702e(0x195)](_0x30702e(0xe1)+JSON[_0x30702e(0x96)](_0x1271be))),_0x442432[_0x30702e(0x167)]=!![],Object[_0x30702e(0x21d)](PERMISSIONS['ACTION'])[_0x30702e(0x24d)](([_0x41a18d,_0x518e0a])=>{const _0x3f518c=_0x30702e,_0x11aea7=_0xc3c4b4['includes'](_0x41a18d);_0x5d1905+='\x0a\x09'+_0x518e0a+':\x20'+(_0x11aea7?_0x5e30bf[_0x3f518c(0xf6)]:_0x5e30bf[_0x3f518c(0xf7)]),!_0x11aea7&&(_0x442432[_0x3f518c(0x167)]=![]);}),_0x442432[_0x30702e(0x231)]=_0x5d1905;}catch(_0x39e1ac){_0x442432[_0x30702e(0x162)]=_0x39e1ac;}return _0x442432;}}const a1_0x59f3ca={};a1_0x59f3ca['AzureCloudProvider']=AzureCloudProvider,module[a1_0x2dd8e8(0x1b7)]=a1_0x59f3ca;