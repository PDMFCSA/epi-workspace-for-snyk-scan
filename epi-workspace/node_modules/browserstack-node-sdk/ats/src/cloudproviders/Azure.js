const a1_0x31958a=a1_0x1b1f;(function(_0x290d96,_0x35f490){const _0x8050a6=a1_0x1b1f,_0x2117cf=_0x290d96();while(!![]){try{const _0x22f3a2=parseInt(_0x8050a6(0x2df))/0x1*(-parseInt(_0x8050a6(0x324))/0x2)+parseInt(_0x8050a6(0x389))/0x3*(-parseInt(_0x8050a6(0x3a1))/0x4)+-parseInt(_0x8050a6(0x251))/0x5+parseInt(_0x8050a6(0x2b7))/0x6*(-parseInt(_0x8050a6(0x30e))/0x7)+-parseInt(_0x8050a6(0x1ec))/0x8+parseInt(_0x8050a6(0x395))/0x9+-parseInt(_0x8050a6(0x2bd))/0xa*(-parseInt(_0x8050a6(0x1fb))/0xb);if(_0x22f3a2===_0x35f490)break;else _0x2117cf['push'](_0x2117cf['shift']());}catch(_0x353055){_0x2117cf['push'](_0x2117cf['shift']());}}}(a1_0x544b,0xb058f));const fs=require('fs'),path=require(a1_0x31958a(0x31f)),yaml=require(a1_0x31958a(0x2bc)),{logger}=require(a1_0x31958a(0x32f)),{CloudProvider}=require(a1_0x31958a(0x2a8)),{deleteRoutingDeps,deleteAgent}=require(a1_0x31958a(0x388)),{AZURE,WS_EVENTS,global_registry}=require(a1_0x31958a(0x34a)),PERMISSIONS=require(a1_0x31958a(0x352)),{ClientSecretCredential}=require(a1_0x31958a(0x1e2)),{NetworkManagementClient}=require('@azure/arm-network'),{StorageManagementClient}=require(a1_0x31958a(0x238)),{AuthorizationManagementClient}=require(a1_0x31958a(0x1dc)),{ResourceManagementClient}=require(a1_0x31958a(0x2ab)),{ContainerServiceClient}=require(a1_0x31958a(0x376)),{runCommand}=require('../utils/utilityMethods');function a1_0x1b1f(_0x11bc5e,_0x2de1e1){const _0x544bce=a1_0x544b();return a1_0x1b1f=function(_0x1b1ff7,_0x382587){_0x1b1ff7=_0x1b1ff7-0x1ce;let _0x4880fe=_0x544bce[_0x1b1ff7];return _0x4880fe;},a1_0x1b1f(_0x11bc5e,_0x2de1e1);}class AzureCloudProvider extends CloudProvider{constructor(_0x595cab,_0x2ef933,_0x2fb994,_0x33808f){const _0x1a752c=a1_0x31958a,_0x4c84d2={};_0x4c84d2[_0x1a752c(0x360)]=_0x1a752c(0x27f);const _0x18504e=_0x4c84d2,_0x21cf37=_0x18504e[_0x1a752c(0x360)][_0x1a752c(0x2e0)]('|');let _0x40ce36=0x0;while(!![]){switch(_0x21cf37[_0x40ce36++]){case'0':this[_0x1a752c(0x36d)]=null;continue;case'1':this['containerClient']=null;continue;case'2':this[_0x1a752c(0x1da)]=null;continue;case'3':this[_0x1a752c(0x2be)]=null;continue;case'4':this['authClient']=null;continue;case'5':this[_0x1a752c(0x372)]=null;continue;case'6':this[_0x1a752c(0x303)]=null;continue;case'7':super(AZURE,_0x595cab,_0x2ef933,_0x2fb994,_0x33808f);continue;}break;}}async['init'](){const _0x1914c6=a1_0x31958a;return await super[_0x1914c6(0x245)](),this;}[a1_0x31958a(0x34b)](){const _0x19fca=a1_0x31958a,_0x2c2adb=new ClientSecretCredential(global_registry[_0x19fca(0x273)],global_registry[_0x19fca(0x31a)],global_registry[_0x19fca(0x1f8)]);this['containerClient']=new ContainerServiceClient(_0x2c2adb,global_registry[_0x19fca(0x383)]),this['storageClient']=new StorageManagementClient(_0x2c2adb,global_registry[_0x19fca(0x383)]),this[_0x19fca(0x36d)]=new ResourceManagementClient(_0x2c2adb,global_registry[_0x19fca(0x383)]),this['networkClient']=new NetworkManagementClient(_0x2c2adb,global_registry[_0x19fca(0x383)]),this[_0x19fca(0x293)]=new AuthorizationManagementClient(_0x2c2adb,global_registry['cloudProviderSubscriptionId']),this[_0x19fca(0x372)]=_0x2c2adb;}[a1_0x31958a(0x30f)](){const _0x353e4f=a1_0x31958a,_0x18ab90={};_0x18ab90[_0x353e4f(0x1f1)]=function(_0x1f2b68,_0x4bc4db){return _0x1f2b68+_0x4bc4db;},_0x18ab90[_0x353e4f(0x307)]='turboscale',_0x18ab90['lYBXC']=function(_0x2de4fb,_0x4c7350){return _0x2de4fb-_0x4c7350;};const _0x26760a=_0x18ab90,_0x59457d=global_registry[_0x353e4f(0x348)][_0x353e4f(0x2e0)]('-'),_0x208da6=_0x26760a['zGnMP'](_0x26760a[_0x353e4f(0x307)],_0x59457d[_0x26760a[_0x353e4f(0x2ac)](_0x59457d['length'],0x1)])[_0x353e4f(0x392)](0x0,0x18);return _0x208da6[_0x353e4f(0x366)]();}[a1_0x31958a(0x1d3)](_0x5306ee){const _0xda5dbc=a1_0x31958a,_0x2146cc={};_0x2146cc[_0xda5dbc(0x2dc)]='2|3|4|5|0|1';const _0x1d1a3c=_0x2146cc,_0x4d0c04=_0x1d1a3c['ArmOC'][_0xda5dbc(0x2e0)]('|');let _0x18e491=0x0;while(!![]){switch(_0x4d0c04[_0x18e491++]){case'0':global_registry[_0xda5dbc(0x2e2)]=_0x5306ee[this[_0xda5dbc(0x397)]]['resourceGroup'];continue;case'1':this['setClients']();continue;case'2':global_registry['cloudProviderClientId']=_0x5306ee[this[_0xda5dbc(0x397)]][_0xda5dbc(0x365)];continue;case'3':global_registry[_0xda5dbc(0x1f8)]=_0x5306ee[this[_0xda5dbc(0x397)]][_0xda5dbc(0x3b3)];continue;case'4':global_registry[_0xda5dbc(0x273)]=_0x5306ee[this['cloudProviderName']][_0xda5dbc(0x290)];continue;case'5':global_registry[_0xda5dbc(0x383)]=_0x5306ee[this['cloudProviderName']][_0xda5dbc(0x302)];continue;}break;}}async[a1_0x31958a(0x24f)](_0x3af9f8,_0x3702ea){const _0x3ef095=a1_0x31958a,_0x354e78={'NRIMd':function(_0x281301,_0x32fde8,_0x13e0eb){return _0x281301(_0x32fde8,_0x13e0eb);},'ApVJi':'No\x20attached\x20role\x20for\x20the\x20client\x20key','zxGqb':'No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','pfBDn':function(_0x3d6e00,_0x4b594a){return _0x3d6e00(_0x4b594a);},'bNnxq':function(_0x28d118,_0x3d6097){return _0x28d118(_0x3d6097);},'YhANX':function(_0x355ab1,_0x1cc24e){return _0x355ab1===_0x1cc24e;},'mXuEq':_0x3ef095(0x285),'nDpeB':_0x3ef095(0x216),'tiFgB':function(_0x487662,_0x2dce8e){return _0x487662===_0x2dce8e;},'KHiQU':function(_0x1bfe89,_0x3961cd){return _0x1bfe89!==_0x3961cd;},'yvWgU':_0x3ef095(0x2ea),'XjESw':function(_0x2b1688,_0x1d7fbc){return _0x2b1688===_0x1d7fbc;},'wpCeW':function(_0xdb08e1,_0x1aec98){return _0xdb08e1===_0x1aec98;},'cAtpP':function(_0x41cccc,_0x7c2a25){return _0x41cccc!==_0x7c2a25;},'VGQQT':_0x3ef095(0x257),'LBvUA':'KDTPN','VIBoK':_0x3ef095(0x242),'SqUXc':_0x3ef095(0x2eb),'fETMM':function(_0x1c2f17,_0x5a744d){return _0x1c2f17!==_0x5a744d;},'mKNzd':'gfOPa','tiTDg':function(_0x2110d7,_0x23cef6){return _0x2110d7<_0x23cef6;},'dLfIH':function(_0x5d9421,_0x47c2aa){return _0x5d9421===_0x47c2aa;},'NmHId':'PjXwe','wlNsc':_0x3ef095(0x3b9),'GWQqY':function(_0x1d678c,_0xa3c135){return _0x1d678c+_0xa3c135;},'cjuvi':function(_0x1b0d8f,_0x4f73aa){return _0x1b0d8f(_0x4f73aa);},'lCjyO':_0x3ef095(0x295),'NIYxQ':function(_0x284791,_0x333e12){return _0x284791(_0x333e12);},'AlPgf':function(_0x3b2325,_0x2261bb){return _0x3b2325(_0x2261bb);},'SAzHC':function(_0x32cc1f,_0x5455fc){return _0x32cc1f<=_0x5455fc;},'GqwlB':function(_0x4544f0,_0x572fdf){return _0x4544f0>_0x572fdf;},'goglc':_0x3ef095(0x2b6),'oMkJz':_0x3ef095(0x2f8),'QmYdc':function(_0x1d3d47,_0x2e4a88){return _0x1d3d47-_0x2e4a88;}},_0x35a869=this['cloudProviderName'][_0x3ef095(0x3c3)](),_0xa2f978=await _0x354e78['pfBDn'](_0x3af9f8,_0x35a869+_0x3ef095(0x375)),_0x5e65ae=await _0x354e78[_0x3ef095(0x3c5)](_0x3af9f8,_0x35a869+_0x3ef095(0x37d)),_0xbcfb39=await _0x354e78[_0x3ef095(0x3c5)](_0x3af9f8,_0x35a869+'\x20TENANT\x20ID:\x20'),_0x589a35=await _0x354e78[_0x3ef095(0x39a)](_0x3af9f8,_0x35a869+_0x3ef095(0x325));global_registry['cloudProviderClientId']=_0xa2f978,global_registry[_0x3ef095(0x1f8)]=_0x5e65ae,global_registry[_0x3ef095(0x273)]=_0xbcfb39,global_registry[_0x3ef095(0x383)]=_0x589a35,this[_0x3ef095(0x34b)]();const _0x4f4942=await this[_0x3ef095(0x337)](),_0x4bc641=_0x4f4942[_0x3ef095(0x3a9)];let _0xf67302;if(_0x354e78[_0x3ef095(0x319)](_0x4bc641,0x0)){if(_0x354e78[_0x3ef095(0x319)](_0x354e78['mXuEq'],_0x354e78[_0x3ef095(0x3a2)]))return _0x40f8e4[_0x3ef095(0x217)]('Cannot\x20find\x20subnets\x20'+_0x1ec03c+_0x3ef095(0x308)+_0x1a8c6c),[![],[]];else _0xf67302=await _0x354e78[_0x3ef095(0x3c5)](_0x3af9f8,_0x35a869+'\x20RESOURCE\x20GROUP:\x20');}else{if(_0x354e78[_0x3ef095(0x3af)](_0x4bc641,0x1)){if(_0x354e78[_0x3ef095(0x2d3)](_0x354e78[_0x3ef095(0x2cc)],_0x354e78[_0x3ef095(0x2cc)]))_0x354e78[_0x3ef095(0x355)](_0x3a0b42,()=>_0x142971(),0x3e8);else{const _0xd28197=await _0x354e78['pfBDn'](_0x3af9f8,_0x3ef095(0x1ed)+_0x4f4942[0x0]+'\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20');if(_0x354e78[_0x3ef095(0x2cf)](_0xd28197,undefined)||_0x354e78[_0x3ef095(0x2cf)](_0xd28197,null)||!(_0x354e78[_0x3ef095(0x3af)](_0xd28197[_0x3ef095(0x366)](),'y')||_0x354e78[_0x3ef095(0x384)](_0xd28197['toLowerCase'](),'n'))){if(_0x354e78[_0x3ef095(0x207)](_0x354e78['VGQQT'],_0x354e78[_0x3ef095(0x2aa)]))console[_0x3ef095(0x217)](_0x354e78['VIBoK']),process[_0x3ef095(0x240)](0x1);else{const _0x3db7b8=new _0x3fc21f(_0x2ddd4b[_0x3ef095(0x273)],_0xe9ad96[_0x3ef095(0x31a)],_0x11fc93[_0x3ef095(0x1f8)]);this[_0x3ef095(0x26b)]=new _0x5cd09d(_0x3db7b8,_0x15362b[_0x3ef095(0x383)]),this['storageClient']=new _0x2607f6(_0x3db7b8,_0x306be6[_0x3ef095(0x383)]),this[_0x3ef095(0x36d)]=new _0x2f2050(_0x3db7b8,_0x3498e1[_0x3ef095(0x383)]),this[_0x3ef095(0x1da)]=new _0x3bd817(_0x3db7b8,_0x606795[_0x3ef095(0x383)]),this[_0x3ef095(0x293)]=new _0x3a02d7(_0x3db7b8,_0x1cc4f8[_0x3ef095(0x383)]),this[_0x3ef095(0x372)]=_0x3db7b8;}}_0x354e78[_0x3ef095(0x3af)](_0xd28197[_0x3ef095(0x366)](),'n')&&(_0x354e78[_0x3ef095(0x3af)](_0x354e78[_0x3ef095(0x320)],_0x354e78['SqUXc'])?process['exit'](0x0):_0x324bef[_0x3ef095(0x335)](_0x5990ab)),_0xf67302=_0x4f4942[0x0];}}else{if(_0x354e78[_0x3ef095(0x364)](_0x354e78[_0x3ef095(0x3a8)],_0x354e78[_0x3ef095(0x3a8)]))return _0x10497a[_0x3ef095(0x218)]=_0x354e78[_0x3ef095(0x278)],_0x490a70;else{for(let _0x5936c8=0x0;_0x354e78[_0x3ef095(0x339)](_0x5936c8,_0x4f4942['length']);_0x5936c8+=0x1){if(_0x354e78[_0x3ef095(0x261)](_0x354e78[_0x3ef095(0x2b1)],_0x354e78[_0x3ef095(0x21b)]))return _0x54f6b3[_0x3ef095(0x218)]=_0x354e78[_0x3ef095(0x2ed)],_0x416b35;else console[_0x3ef095(0x32e)]('['+_0x354e78[_0x3ef095(0x21f)](_0x5936c8,0x1)+']\x20'+_0x4f4942[_0x5936c8]);}const _0x62ce01=await _0x354e78[_0x3ef095(0x24c)](_0x3af9f8,_0x354e78['lCjyO']),_0x11ccbb=_0x354e78[_0x3ef095(0x2ad)](Number,_0x62ce01);(_0x354e78[_0x3ef095(0x340)](isNaN,_0x11ccbb)||_0x354e78[_0x3ef095(0x361)](_0x11ccbb,0x0)||_0x354e78[_0x3ef095(0x202)](_0x11ccbb,_0x4bc641))&&(_0x354e78[_0x3ef095(0x364)](_0x354e78[_0x3ef095(0x3c0)],_0x354e78['oMkJz'])?(console[_0x3ef095(0x217)](_0x354e78[_0x3ef095(0x232)]),process[_0x3ef095(0x240)](0x1)):_0x4ead1c[_0x3ef095(0x27e)][_0x3ef095(0x335)](_0x5a6b0e)),_0xf67302=_0x4f4942[_0x354e78[_0x3ef095(0x333)](_0x11ccbb,0x1)];}}}global_registry['cloudProviderResourceGroup']=_0xf67302;const _0x1e07ac={};return _0x1e07ac['clientId']=_0xa2f978,_0x1e07ac[_0x3ef095(0x3b3)]=_0x5e65ae,_0x1e07ac['tenantId']=_0xbcfb39,_0x1e07ac[_0x3ef095(0x302)]=_0x589a35,_0x1e07ac[_0x3ef095(0x2ba)]=_0xf67302,_0x3702ea[_0x3ef095(0x33d)][AZURE]=_0x1e07ac,_0x3702ea;}async[a1_0x31958a(0x337)](){const _0x3fb3e5=a1_0x31958a,_0x32dd81={};_0x32dd81[_0x3fb3e5(0x272)]=function(_0xdb723f,_0x3a8df0){return _0xdb723f===_0x3a8df0;},_0x32dd81['ubuUo']=_0x3fb3e5(0x268),_0x32dd81['sRluh']=_0x3fb3e5(0x381),_0x32dd81[_0x3fb3e5(0x2f9)]=function(_0x583d1b,_0x5aff7e){return _0x583d1b===_0x5aff7e;},_0x32dd81['haAws']=_0x3fb3e5(0x220),_0x32dd81['plxCW']=_0x3fb3e5(0x27b);const _0x291b3b=_0x32dd81,_0x4355a4=[];try{if(_0x291b3b[_0x3fb3e5(0x272)](_0x291b3b[_0x3fb3e5(0x209)],_0x291b3b[_0x3fb3e5(0x287)]))return!![];else{const _0x1c88ae=await this['resourceClient']['resourceGroups'][_0x3fb3e5(0x288)]();for await(const _0x303e6e of _0x1c88ae){if(_0x291b3b[_0x3fb3e5(0x2f9)](_0x291b3b['haAws'],_0x291b3b[_0x3fb3e5(0x227)]))return _0xb1d3b4[_0x3fb3e5(0x217)]=_0x4c5682[_0x3fb3e5(0x217)],_0x1cbf5c;else _0x4355a4[_0x3fb3e5(0x335)](_0x303e6e['name']);}}}catch(_0xef7f25){}return _0x4355a4;}async[a1_0x31958a(0x20c)](){const _0x2d104c=a1_0x31958a;return this[_0x2d104c(0x303)]=await this[_0x2d104c(0x26b)][_0x2d104c(0x211)][_0x2d104c(0x26c)](global_registry[_0x2d104c(0x2e2)],this[_0x2d104c(0x2f4)]),this[_0x2d104c(0x303)];}async[a1_0x31958a(0x2d4)](){const _0x2f6263=a1_0x31958a,_0x2dc927=await this['containerClient']['managedClusters'][_0x2f6263(0x21a)](global_registry[_0x2f6263(0x2e2)],this[_0x2f6263(0x2f4)]),_0x17ef9d=_0x2dc927[_0x2f6263(0x2dd)][0x0][_0x2f6263(0x34f)][_0x2f6263(0x1eb)]();return _0x17ef9d;}[a1_0x31958a(0x33b)](_0x295d7a){const _0x423a9a=a1_0x31958a;return _0x295d7a['status']['loadBalancer']['ingress'][0x0][_0x423a9a(0x334)];}async[a1_0x31958a(0x2f2)](){const _0xfbac4b=a1_0x31958a,_0x1e1c1d={};_0x1e1c1d[_0xfbac4b(0x380)]=function(_0x137428,_0x22cd0e){return _0x137428!==_0x22cd0e;},_0x1e1c1d[_0xfbac4b(0x33e)]=_0xfbac4b(0x235),_0x1e1c1d['Mmuwh']=function(_0x1efe88,_0x35aacb){return _0x1efe88===_0x35aacb;},_0x1e1c1d[_0xfbac4b(0x37e)]=_0xfbac4b(0x27a),_0x1e1c1d['NxSZl']=_0xfbac4b(0x351),_0x1e1c1d[_0xfbac4b(0x330)]=function(_0x773f4,_0x3f1c8a){return _0x773f4===_0x3f1c8a;},_0x1e1c1d['FlJWN']=_0xfbac4b(0x2c2),_0x1e1c1d[_0xfbac4b(0x279)]=_0xfbac4b(0x2b5);const _0x5e8a56=_0x1e1c1d,_0x424840=new Array();for await(const _0x3460bc of this[_0xfbac4b(0x26b)][_0xfbac4b(0x211)][_0xfbac4b(0x28d)](global_registry['cloudProviderResourceGroup'])){_0x5e8a56[_0xfbac4b(0x380)](_0x5e8a56[_0xfbac4b(0x33e)],_0x5e8a56[_0xfbac4b(0x33e)])?_0x4729bd['push'](_0x479c86['name']):_0x424840[_0xfbac4b(0x335)](_0x3460bc);}for await(const _0x5c1005 of _0x424840){if(_0x5e8a56[_0xfbac4b(0x35a)](_0x5e8a56[_0xfbac4b(0x37e)],_0x5e8a56[_0xfbac4b(0x33c)]))return;else{if(_0x5e8a56[_0xfbac4b(0x330)](_0x5c1005[_0xfbac4b(0x313)],this['clusterName'])){if(_0x5e8a56['WCvsu'](_0x5e8a56[_0xfbac4b(0x2a9)],_0x5e8a56[_0xfbac4b(0x279)]))return await this[_0xfbac4b(0x20c)](),!![];else _0x1e9155[_0xfbac4b(0x217)]=_0x54dbd3;}}}return![];}async['setupNewCluster'](_0x591599=null,_0x5444be=null){const _0x4c069e=a1_0x31958a,_0x5a4e03={};_0x5a4e03['goPcx']=_0x4c069e(0x250),_0x5a4e03['gEiMn']=_0x4c069e(0x2e6);const _0x414f12=_0x5a4e03,_0x30d170=_0x414f12[_0x4c069e(0x1ef)][_0x4c069e(0x2e0)]('|');let _0x39416b=0x0;while(!![]){switch(_0x30d170[_0x39416b++]){case'0':const _0x2dd02e={};_0x2dd02e['type']=WS_EVENTS['LOG'],_0x2dd02e[_0x4c069e(0x3b4)]=_0x414f12[_0x4c069e(0x243)],this[_0x4c069e(0x3c1)][_0x4c069e(0x393)](this['rws'],_0x2dd02e);continue;case'1':this['sendAzureInfoToHST']();continue;case'2':await this['createCluster'](_0x591599,_0x5444be);continue;case'3':logger[_0x4c069e(0x368)](_0x414f12[_0x4c069e(0x243)]);continue;case'4':await this[_0x4c069e(0x2b8)]();continue;case'5':return[_0x591599,_0x5444be];}break;}}async[a1_0x31958a(0x394)](_0x2a2289=null,_0x563001=null){const _0x3854ff=a1_0x31958a,_0xa5f525={};_0xa5f525[_0x3854ff(0x24a)]='Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster',_0xa5f525[_0x3854ff(0x1f4)]='templates',_0xa5f525[_0x3854ff(0x25d)]=_0x3854ff(0x23a),_0xa5f525[_0x3854ff(0x3a7)]=_0x3854ff(0x385),_0xa5f525['qVOau']=_0x3854ff(0x21c),_0xa5f525[_0x3854ff(0x29d)]=_0x3854ff(0x345),_0xa5f525['fKIrv']=_0x3854ff(0x1d8),_0xa5f525[_0x3854ff(0x248)]=function(_0x5372a9,_0x4a4a88){return _0x5372a9!==_0x4a4a88;},_0xa5f525[_0x3854ff(0x1fa)]=function(_0x3eca41,_0x2dd0d3){return _0x3eca41!==_0x2dd0d3;},_0xa5f525[_0x3854ff(0x34c)]=_0x3854ff(0x2c3),_0xa5f525[_0x3854ff(0x341)]=_0x3854ff(0x2ee),_0xa5f525[_0x3854ff(0x289)]='Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.',_0xa5f525['QEQrA']='[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]',_0xa5f525[_0x3854ff(0x299)]=_0x3854ff(0x356),_0xa5f525[_0x3854ff(0x2f3)]='turboscale-cluster-deployment',_0xa5f525[_0x3854ff(0x26a)]=_0x3854ff(0x34d);const _0x145cdf=_0xa5f525;let _0x3d2796=await fs['readFileAsync'](path['join'](__dirname,'..',_0x145cdf['rioeb'],_0x145cdf[_0x3854ff(0x25d)],_0x145cdf[_0x3854ff(0x3a7)]),_0x145cdf[_0x3854ff(0x3a5)]);_0x3d2796=JSON[_0x3854ff(0x3a6)](_0x3d2796);const _0x7f8559={};_0x7f8559[_0x3854ff(0x34f)]=this[_0x3854ff(0x2f4)];const _0x242bc3={};_0x242bc3[_0x3854ff(0x34f)]=global_registry[_0x3854ff(0x1fd)];const _0x5d741={};_0x5d741[_0x3854ff(0x34f)]=global_registry[_0x3854ff(0x35b)];const _0x13ef26={};_0x13ef26['value']=global_registry[_0x3854ff(0x378)];const _0x2e442c={};_0x2e442c[_0x3854ff(0x34f)]=global_registry[_0x3854ff(0x32b)]?_0x145cdf[_0x3854ff(0x29d)]:_0x145cdf[_0x3854ff(0x326)];const _0x53ca1a={};_0x53ca1a['clusterName']=_0x7f8559,_0x53ca1a[_0x3854ff(0x2ca)]=_0x242bc3,_0x53ca1a[_0x3854ff(0x20b)]=_0x5d741,_0x53ca1a[_0x3854ff(0x2b2)]=_0x13ef26,_0x53ca1a[_0x3854ff(0x32b)]=_0x2e442c;let _0xb8531d=_0x53ca1a;if(_0x145cdf[_0x3854ff(0x248)](_0x2a2289,null)&&_0x145cdf[_0x3854ff(0x1fa)](_0x563001,null)){if(_0x145cdf['cYqKy'](_0x145cdf[_0x3854ff(0x34c)],_0x145cdf['LxyiQ'])){_0x4876b3[_0x3854ff(0x368)](_0x145cdf[_0x3854ff(0x24a)]);const _0x5e8143={};_0x5e8143[_0x3854ff(0x297)]=_0x5cbe0b[_0x3854ff(0x3b6)],_0x5e8143['message']=_0x145cdf[_0x3854ff(0x24a)],this[_0x3854ff(0x3c1)][_0x3854ff(0x393)](this[_0x3854ff(0x2e9)],_0x5e8143),_0x3d5c65[_0x3854ff(0x3ac)][_0x3854ff(0x382)]=!![];}else{const _0x54e34c={};_0x54e34c[_0x3854ff(0x297)]=_0x145cdf[_0x3854ff(0x341)],_0x54e34c[_0x3854ff(0x3bc)]={},_0x54e34c[_0x3854ff(0x3bc)]['description']=_0x145cdf[_0x3854ff(0x289)];const _0x3a472c={};_0x3a472c[_0x3854ff(0x297)]=_0x145cdf[_0x3854ff(0x341)],_0x3a472c[_0x3854ff(0x3bc)]={},_0x3a472c[_0x3854ff(0x3bc)][_0x3854ff(0x283)]=_0x145cdf['LMpDU'],_0x3d2796[_0x3854ff(0x277)]={..._0x3d2796[_0x3854ff(0x277)],'vpcName':_0x54e34c,'subnetName':_0x3a472c};const _0xf548b4={};_0xf548b4[_0x3854ff(0x35c)]=_0x145cdf['QEQrA'],_0x3d2796[_0x3854ff(0x225)]=_0xf548b4,_0x3d2796[_0x3854ff(0x317)][0x0]['properties'][_0x3854ff(0x350)][0x0]={..._0x3d2796[_0x3854ff(0x317)][0x0]['properties']['agentPoolProfiles'][0x0],'vnetSubnetID':_0x145cdf[_0x3854ff(0x299)]};const _0x28677d={};_0x28677d[_0x3854ff(0x34f)]=_0x2a2289;const _0x255b4={};_0x255b4[_0x3854ff(0x34f)]=_0x563001[0x0],_0xb8531d={..._0xb8531d,'vpcName':_0x28677d,'subnetName':_0x255b4};}}await this['resourceClient'][_0x3854ff(0x1db)][_0x3854ff(0x20a)](global_registry[_0x3854ff(0x2e2)],_0x145cdf[_0x3854ff(0x2f3)],{'properties':{'template':_0x3d2796,'mode':_0x145cdf[_0x3854ff(0x26a)],'parameters':_0xb8531d}});}async[a1_0x31958a(0x2b8)](){const _0x446da3=a1_0x31958a,_0x107f06={};_0x107f06['rvATH']=function(_0x575911,_0x52a712){return _0x575911===_0x52a712;},_0x107f06[_0x446da3(0x322)]=_0x446da3(0x374),_0x107f06[_0x446da3(0x3b1)]=function(_0xb2ab6f,_0x4c6369){return _0xb2ab6f===_0x4c6369;},_0x107f06['IsruT']=_0x446da3(0x22b),_0x107f06[_0x446da3(0x200)]=_0x446da3(0x223),_0x107f06[_0x446da3(0x246)]=function(_0x20cb98,_0x29d6cf){return _0x20cb98===_0x29d6cf;},_0x107f06['hvzQO']=_0x446da3(0x3c7),_0x107f06[_0x446da3(0x210)]=_0x446da3(0x30c),_0x107f06['xuoNP']=function(_0x13a7ec,_0x4c3059){return _0x13a7ec!==_0x4c3059;},_0x107f06[_0x446da3(0x2a4)]=_0x446da3(0x3ad),_0x107f06['trprw']=_0x446da3(0x2a6),_0x107f06[_0x446da3(0x1e3)]=function(_0x472894,_0x3666bf){return _0x472894!==_0x3666bf;},_0x107f06[_0x446da3(0x2fe)]='dLthN',_0x107f06[_0x446da3(0x228)]='vnmvs',_0x107f06[_0x446da3(0x2b9)]=_0x446da3(0x270),_0x107f06[_0x446da3(0x234)]=_0x446da3(0x29e),_0x107f06[_0x446da3(0x25b)]=_0x446da3(0x239);const _0x53387a=_0x107f06,_0x5384c0=await this[_0x446da3(0x23e)]();if(!_0x5384c0){if(_0x53387a['PPeWH'](_0x53387a[_0x446da3(0x1fe)],_0x53387a[_0x446da3(0x1fe)])){const _0x2efa3b={};_0x2efa3b[_0x446da3(0x297)]=WS_EVENTS[_0x446da3(0x359)],_0x2efa3b[_0x446da3(0x3b4)]=_0x53387a[_0x446da3(0x200)],this[_0x446da3(0x3c1)][_0x446da3(0x393)](this[_0x446da3(0x2e9)],_0x2efa3b),logger[_0x446da3(0x368)](_0x53387a[_0x446da3(0x200)]),await this[_0x446da3(0x203)]();}else _0x125820[_0x446da3(0x335)](_0x2707fd);}else{if(_0x53387a[_0x446da3(0x246)](_0x53387a[_0x446da3(0x2ae)],_0x53387a[_0x446da3(0x2ae)]))logger[_0x446da3(0x368)](_0x53387a['vpjeD']);else return!![];}const _0x1f4cdf=await this[_0x446da3(0x37f)]();if(!_0x1f4cdf){if(_0x53387a['xuoNP'](_0x53387a[_0x446da3(0x2a4)],_0x53387a[_0x446da3(0x2a4)])){if(_0x53387a[_0x446da3(0x2f5)](_0x11773b[_0x446da3(0x313)],_0x446da3(0x2e3)+this['clusterName']))return!![];}else{const _0x9043c2={};_0x9043c2[_0x446da3(0x297)]=WS_EVENTS[_0x446da3(0x359)],_0x9043c2['message']=_0x53387a[_0x446da3(0x224)],this[_0x446da3(0x3c1)][_0x446da3(0x393)](this[_0x446da3(0x2e9)],_0x9043c2),logger[_0x446da3(0x368)](_0x53387a[_0x446da3(0x224)]),await this[_0x446da3(0x323)]();}}else{if(_0x53387a[_0x446da3(0x1e3)](_0x53387a['nybQT'],_0x53387a[_0x446da3(0x228)]))logger[_0x446da3(0x368)](_0x53387a[_0x446da3(0x2b9)]);else{_0x332e84[_0x446da3(0x368)](_0x53387a[_0x446da3(0x322)]);const _0x545c3c={};_0x545c3c[_0x446da3(0x297)]=_0xf8e260[_0x446da3(0x3b6)],_0x545c3c[_0x446da3(0x3b4)]=_0x53387a['gkcUd'],this[_0x446da3(0x3c1)][_0x446da3(0x393)](this[_0x446da3(0x2e9)],_0x545c3c);const _0x594b6f={};_0x594b6f[_0x446da3(0x382)]=!![];const _0x4a9fc2={'workloadIdentity':_0x594b6f,..._0x476077[_0x446da3(0x26e)]};_0x3cc9cc[_0x446da3(0x26e)]=_0x4a9fc2;}}logger[_0x446da3(0x368)](_0x53387a['gPdIZ']),await this[_0x446da3(0x2ff)](),logger[_0x446da3(0x368)](_0x53387a[_0x446da3(0x25b)]);}async[a1_0x31958a(0x203)](){const _0xb57eb3=a1_0x31958a,_0x5d32b7={};_0x5d32b7['KyqNZ']=_0xb57eb3(0x36c),_0x5d32b7['RTESr']=_0xb57eb3(0x23a),_0x5d32b7['vJICu']='storageaccount.json',_0x5d32b7['CbKEZ']=_0xb57eb3(0x21c),_0x5d32b7[_0xb57eb3(0x39d)]=_0xb57eb3(0x314),_0x5d32b7[_0xb57eb3(0x3c4)]='Incremental',_0x5d32b7[_0xb57eb3(0x2f6)]=_0xb57eb3(0x27d),_0x5d32b7[_0xb57eb3(0x1f5)]=_0xb57eb3(0x298),_0x5d32b7[_0xb57eb3(0x2ef)]=_0xb57eb3(0x327),_0x5d32b7[_0xb57eb3(0x21d)]=_0xb57eb3(0x22c);const _0x322494=_0x5d32b7;let _0x5096bc=await fs[_0xb57eb3(0x3ba)](path[_0xb57eb3(0x3ab)](__dirname,'..',_0x322494[_0xb57eb3(0x342)],_0x322494[_0xb57eb3(0x1f2)],_0x322494[_0xb57eb3(0x354)]),_0x322494['CbKEZ']);_0x5096bc=JSON[_0xb57eb3(0x3a6)](_0x5096bc);const _0x845e=this[_0xb57eb3(0x30f)](),_0x2c52df={};_0x2c52df[_0xb57eb3(0x34f)]=_0x845e;const _0x5ee223={};_0x5ee223[_0xb57eb3(0x24e)]=_0x2c52df,await this[_0xb57eb3(0x36d)]['deployments']['beginCreateOrUpdateAndWait'](global_registry[_0xb57eb3(0x2e2)],_0x322494[_0xb57eb3(0x39d)],{'properties':{'template':_0x5096bc,'mode':_0x322494[_0xb57eb3(0x3c4)],'parameters':_0x5ee223}});const _0x30c10c={};_0x30c10c[_0xb57eb3(0x241)]=0x3c;const _0xb573df={};_0xb573df['delete']=_0x30c10c;const _0x164510={};_0x164510[_0xb57eb3(0x33a)]=_0xb573df;const _0x259bc5={};_0x259bc5['enabled']=!![],_0x259bc5[_0xb57eb3(0x313)]=_0x322494[_0xb57eb3(0x2f6)],_0x259bc5[_0xb57eb3(0x297)]=_0x322494[_0xb57eb3(0x1f5)],_0x259bc5[_0xb57eb3(0x347)]={},_0x259bc5[_0xb57eb3(0x347)]['actions']=_0x164510,_0x259bc5[_0xb57eb3(0x347)][_0xb57eb3(0x1ee)]={},_0x259bc5[_0xb57eb3(0x347)][_0xb57eb3(0x1ee)][_0xb57eb3(0x2a5)]=[_0x322494[_0xb57eb3(0x2ef)]];const _0x5b1ac0={};_0x5b1ac0[_0xb57eb3(0x309)]=[_0x259bc5];const _0x4f07d7={};_0x4f07d7[_0xb57eb3(0x265)]=_0x5b1ac0;const _0x587fe7=_0x4f07d7;await this['storageClient'][_0xb57eb3(0x252)][_0xb57eb3(0x36b)](global_registry[_0xb57eb3(0x2e2)],_0x845e,_0x322494['JrExN'],_0x587fe7);}async['createManagedIdentity'](){const _0xc601ac=a1_0x31958a,_0x5a97ad={};_0x5a97ad[_0xc601ac(0x2c4)]=_0xc601ac(0x36c),_0x5a97ad[_0xc601ac(0x276)]=_0xc601ac(0x23a),_0x5a97ad[_0xc601ac(0x35f)]='managedidentity.json',_0x5a97ad[_0xc601ac(0x1e0)]=_0xc601ac(0x21c),_0x5a97ad[_0xc601ac(0x2cb)]=_0xc601ac(0x2e1),_0x5a97ad[_0xc601ac(0x274)]=_0xc601ac(0x34d);const _0x7df672=_0x5a97ad;let _0xbeab24=await fs[_0xc601ac(0x3ba)](path['join'](__dirname,'..',_0x7df672['JUpIl'],_0x7df672['vghBO'],_0x7df672['LLWcR']),_0x7df672[_0xc601ac(0x1e0)]);_0xbeab24=JSON[_0xc601ac(0x3a6)](_0xbeab24),await this[_0xc601ac(0x36d)][_0xc601ac(0x1db)][_0xc601ac(0x20a)](global_registry[_0xc601ac(0x2e2)],_0x7df672[_0xc601ac(0x2cb)],{'properties':{'template':_0xbeab24,'mode':_0x7df672[_0xc601ac(0x274)],'parameters':{'clusterName':{'value':this[_0xc601ac(0x2f4)]}}}});}async[a1_0x31958a(0x2ff)](){const _0x414091=a1_0x31958a,_0x3825fa={};_0x3825fa[_0x414091(0x344)]='Managed\x20identity\x20already\x20exists,\x20skipping',_0x3825fa[_0x414091(0x31c)]=_0x414091(0x2c9),_0x3825fa[_0x414091(0x2c1)]=function(_0x2838c4,_0xd8016){return _0x2838c4!==_0xd8016;},_0x3825fa['KPLAX']='YZvzT',_0x3825fa[_0x414091(0x1e7)]=_0x414091(0x205),_0x3825fa[_0x414091(0x2d9)]=_0x414091(0x2d2),_0x3825fa['ZMUlL']=_0x414091(0x329),_0x3825fa[_0x414091(0x222)]=_0x414091(0x29f),_0x3825fa[_0x414091(0x2e5)]='templates',_0x3825fa[_0x414091(0x20d)]=_0x414091(0x23a),_0x3825fa[_0x414091(0x2a0)]=_0x414091(0x21c),_0x3825fa[_0x414091(0x22a)]=_0x414091(0x1cf),_0x3825fa[_0x414091(0x267)]=_0x414091(0x34d);const _0x4404d2=_0x3825fa;!this[_0x414091(0x303)]&&(_0x4404d2[_0x414091(0x2c1)](_0x4404d2[_0x414091(0x346)],_0x4404d2[_0x414091(0x346)])?_0xc00aeb[_0x414091(0x368)](_0x4404d2[_0x414091(0x344)]):await this[_0x414091(0x20c)]());const _0x4e5411=this[_0x414091(0x303)]?.['oidcIssuerProfile']?.[_0x414091(0x39e)],_0x2836e0=[_0x4404d2['zfMmi'],_0x4404d2['IYeiX']];for await(const _0x11e29e of _0x2836e0){if(_0x4404d2[_0x414091(0x2c1)](_0x4404d2[_0x414091(0x398)],_0x4404d2[_0x414091(0x222)])){let _0x17f17f=await fs[_0x414091(0x3ba)](path[_0x414091(0x3ab)](__dirname,'..',_0x4404d2['sIsHP'],_0x4404d2[_0x414091(0x20d)],'federatedidentity'+_0x11e29e+_0x414091(0x30d)),_0x4404d2['lJkxs']);_0x17f17f=JSON[_0x414091(0x3a6)](_0x17f17f);const _0x380fe1={};_0x380fe1[_0x414091(0x34f)]=_0x4e5411,await this[_0x414091(0x36d)][_0x414091(0x1db)][_0x414091(0x20a)](global_registry[_0x414091(0x2e2)],_0x4404d2['GAZyJ'],{'properties':{'template':_0x17f17f,'mode':_0x4404d2['NmbXX'],'parameters':{'oidcIssuer':_0x380fe1,'gridName':{'value':this['gridName']},'clusterName':{'value':this['clusterName']}}}});}else throw new _0x261dde(_0x4404d2[_0x414091(0x31c)],_0x414091(0x28e)+_0x783140[_0x414091(0x2fc)](_0x27cfca));}}async['setupHubHa'](_0x50bc68,_0x1e1921,_0x26c0c8,_0x348bc7,_0x4dd8ee){const _0x47e7bd=a1_0x31958a,_0x3ddee1={};_0x3ddee1[_0x47e7bd(0x3a4)]=_0x47e7bd(0x37a),_0x3ddee1[_0x47e7bd(0x2bb)]='Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha';const _0xc297c5=_0x3ddee1,_0x1578d6={};_0x1578d6[_0x47e7bd(0x297)]=WS_EVENTS['LOG'],_0x1578d6[_0x47e7bd(0x3b4)]=_0xc297c5[_0x47e7bd(0x3a4)],this['webSocketUtils'][_0x47e7bd(0x393)](this[_0x47e7bd(0x2e9)],_0x1578d6),logger[_0x47e7bd(0x368)](_0xc297c5[_0x47e7bd(0x3a4)]),await this[_0x47e7bd(0x3c6)]();const _0xfdabd1={};_0xfdabd1['type']=WS_EVENTS[_0x47e7bd(0x359)],_0xfdabd1[_0x47e7bd(0x3b4)]=_0xc297c5['fECxs'],this[_0x47e7bd(0x3c1)]['sendEventToBackend'](this[_0x47e7bd(0x2e9)],_0xfdabd1);}async[a1_0x31958a(0x3c6)](){const _0x4d152e=a1_0x31958a,_0x5e20ea={};_0x5e20ea[_0x4d152e(0x2d1)]=function(_0x5d9d2f,_0x2a7c4e){return _0x5d9d2f===_0x2a7c4e;},_0x5e20ea[_0x4d152e(0x32c)]=_0x4d152e(0x33f),_0x5e20ea[_0x4d152e(0x215)]='templates',_0x5e20ea[_0x4d152e(0x336)]=_0x4d152e(0x1d6),_0x5e20ea['AFZjy']=_0x4d152e(0x396),_0x5e20ea['mcmFU']='utf-8',_0x5e20ea[_0x4d152e(0x379)]=_0x4d152e(0x1cf),_0x5e20ea[_0x4d152e(0x258)]=_0x4d152e(0x34d);const _0x4f15fd=_0x5e20ea;if(!this['clusterInfo']){if(_0x4f15fd[_0x4d152e(0x2d1)](_0x4f15fd[_0x4d152e(0x32c)],_0x4f15fd[_0x4d152e(0x32c)]))await this[_0x4d152e(0x20c)]();else return!![];}const _0x3a235c=this[_0x4d152e(0x303)]?.['oidcIssuerProfile']?.[_0x4d152e(0x39e)];let _0x5929b3=await fs[_0x4d152e(0x3ba)](path[_0x4d152e(0x3ab)](__dirname,'..',_0x4f15fd[_0x4d152e(0x215)],_0x4f15fd[_0x4d152e(0x336)],_0x4f15fd[_0x4d152e(0x2a1)]),_0x4f15fd[_0x4d152e(0x2a3)]);_0x5929b3=JSON['parse'](_0x5929b3);const _0x37ebe7={};_0x37ebe7[_0x4d152e(0x34f)]=_0x3a235c,await this[_0x4d152e(0x36d)][_0x4d152e(0x1db)][_0x4d152e(0x20a)](global_registry[_0x4d152e(0x2e2)],_0x4f15fd[_0x4d152e(0x379)],{'properties':{'template':_0x5929b3,'mode':_0x4f15fd['hizgs'],'parameters':{'oidcIssuer':_0x37ebe7,'namespace':{'value':global_registry['hubHaNameSpace']},'clusterName':{'value':this['clusterName']}}}});}async[a1_0x31958a(0x23e)](){const _0x448aa5=a1_0x31958a,_0x5aa8a0={};_0x5aa8a0[_0x448aa5(0x1e9)]=_0x448aa5(0x26f),_0x5aa8a0[_0x448aa5(0x2cd)]=_0x448aa5(0x38c),_0x5aa8a0[_0x448aa5(0x3aa)]=function(_0x5a87fa,_0x28ad4a){return _0x5a87fa===_0x28ad4a;},_0x5aa8a0[_0x448aa5(0x304)]=function(_0x7ce2bc,_0x449c44){return _0x7ce2bc!==_0x449c44;},_0x5aa8a0[_0x448aa5(0x1e4)]=_0x448aa5(0x39f),_0x5aa8a0[_0x448aa5(0x3be)]=_0x448aa5(0x1f9),_0x5aa8a0[_0x448aa5(0x370)]=function(_0x15651d,_0x509eb5){return _0x15651d!==_0x509eb5;},_0x5aa8a0[_0x448aa5(0x28c)]='nDVuC',_0x5aa8a0[_0x448aa5(0x2f0)]=_0x448aa5(0x292),_0x5aa8a0[_0x448aa5(0x226)]=function(_0x4a5fb6,_0xf84141){return _0x4a5fb6===_0xf84141;},_0x5aa8a0[_0x448aa5(0x2fd)]=function(_0x249d66,_0x27a7eb){return _0x249d66===_0x27a7eb;},_0x5aa8a0[_0x448aa5(0x2ce)]='gWEkt',_0x5aa8a0[_0x448aa5(0x321)]=_0x448aa5(0x1d7);const _0x431dd6=_0x5aa8a0,_0x363332=this[_0x448aa5(0x30f)](),_0x13bf28=new Array();for await(const _0x5b40ab of this[_0x448aa5(0x2be)][_0x448aa5(0x294)][_0x448aa5(0x28d)](global_registry['cloudProviderResourceGroup'])){if(_0x431dd6['JNYmm'](_0x431dd6[_0x448aa5(0x1e4)],_0x431dd6[_0x448aa5(0x3be)]))_0x13bf28[_0x448aa5(0x335)](_0x5b40ab);else return _0x4a2668[_0x448aa5(0x217)](_0x448aa5(0x23c)+_0x56733+_0x448aa5(0x305)+_0x426b39),![];}for await(const _0x50e0b5 of _0x13bf28){if(_0x431dd6[_0x448aa5(0x370)](_0x431dd6['FIttM'],_0x431dd6[_0x448aa5(0x2f0)])){if(_0x431dd6[_0x448aa5(0x226)](_0x50e0b5['name'],_0x363332)){if(_0x431dd6[_0x448aa5(0x2fd)](_0x431dd6[_0x448aa5(0x2ce)],_0x431dd6[_0x448aa5(0x321)])){const _0x2159e3=_0x4df9c1[_0x448aa5(0x2da)](_0x26fc49);_0x501532+='\x0a\x09'+_0x42fe1c+':\x20'+(_0x2159e3?_0x431dd6[_0x448aa5(0x1e9)]:_0x431dd6['UolVV']),!_0x2159e3&&(_0x3f9cc7[_0x448aa5(0x213)]=![]);}else return!![];}}else _0x431dd6[_0x448aa5(0x3aa)](_0x1168cc[_0x448aa5(0x313)],_0x5ebba6)&&(_0x32aa66=_0xd8753b['id']);}return![];}async['isManagedIdentityPresent'](){const _0x37fb6c=a1_0x31958a,_0x3550dd={};_0x3550dd[_0x37fb6c(0x2f7)]=function(_0x166ff2,_0x5ec897){return _0x166ff2===_0x5ec897;},_0x3550dd['IiTsb']=function(_0x924dca,_0x14c905){return _0x924dca!==_0x14c905;},_0x3550dd[_0x37fb6c(0x387)]='xddJF',_0x3550dd[_0x37fb6c(0x28a)]=_0x37fb6c(0x373),_0x3550dd['Uujys']=_0x37fb6c(0x29c),_0x3550dd[_0x37fb6c(0x1ea)]=_0x37fb6c(0x1d4),_0x3550dd[_0x37fb6c(0x208)]=function(_0x2b6283,_0x444da1){return _0x2b6283===_0x444da1;},_0x3550dd[_0x37fb6c(0x2ec)]=_0x37fb6c(0x256);const _0x3fa8d0=_0x3550dd,_0x3d962e=new Array();for await(const _0xf21962 of this[_0x37fb6c(0x36d)]['resources'][_0x37fb6c(0x28d)](global_registry[_0x37fb6c(0x2e2)])){_0x3fa8d0['IiTsb'](_0x3fa8d0['cCrGt'],_0x3fa8d0[_0x37fb6c(0x28a)])?_0x3d962e[_0x37fb6c(0x335)](_0xf21962):_0x18fdd3[_0x37fb6c(0x335)](..._0xbdcb23[_0x37fb6c(0x32a)]);}for await(const _0x67f68 of _0x3d962e){if(_0x3fa8d0[_0x37fb6c(0x1ce)](_0x3fa8d0[_0x37fb6c(0x2e4)],_0x3fa8d0['eyvCH'])){if(_0x3fa8d0[_0x37fb6c(0x208)](_0x67f68[_0x37fb6c(0x313)],'turboscale-managed-identity-'+this[_0x37fb6c(0x2f4)])){if(_0x3fa8d0[_0x37fb6c(0x1ce)](_0x3fa8d0[_0x37fb6c(0x2ec)],_0x3fa8d0[_0x37fb6c(0x2ec)]))_0x27d323[_0x37fb6c(0x335)](_0x54d57b);else return!![];}}else{if(_0x3fa8d0[_0x37fb6c(0x2f7)](_0x3509f9['name'],_0x7b4a1e))return!![];}}return![];}async['getResourceClientId'](_0x5a1649,_0x1c8f11=0x3){const _0x113203=a1_0x31958a,_0x2ef022={'EoDNl':_0x113203(0x2ee),'oYCHi':_0x113203(0x22f),'rwbEH':_0x113203(0x39b),'poAMj':_0x113203(0x356),'vwhGz':function(_0x4e1cbf,_0x3fe972){return _0x4e1cbf+_0x3fe972;},'sNRpo':function(_0x4f2e1e,_0x226225){return _0x4f2e1e===_0x226225;},'kXkjh':_0x113203(0x357),'DFmcg':function(_0x50d8c1,_0x2976c0){return _0x50d8c1===_0x2976c0;},'GKvEV':'wdRmi','khgWk':function(_0x3a1012,_0x1c9cda,_0x3f9da2){return _0x3a1012(_0x1c9cda,_0x3f9da2);},'pyZVH':function(_0x1a1d88,_0x18c415){return _0x1a1d88===_0x18c415;},'WeAju':_0x113203(0x2a2),'Adcep':function(_0x175a85,_0x32ba35){return _0x175a85!==_0x32ba35;},'YQCvF':_0x113203(0x271),'GKLVo':function(_0x5f0e37,_0x2ed326){return _0x5f0e37===_0x2ed326;},'CHmRk':'ueelB','vbKzH':_0x113203(0x367),'yuktl':function(_0x12c9cb,_0x39364d){return _0x12c9cb===_0x39364d;},'ZplPo':_0x113203(0x2c7),'WKXax':_0x113203(0x259),'MYHfI':_0x113203(0x391),'lxRhV':function(_0x354576,_0xcfa90b){return _0x354576===_0xcfa90b;},'hggLR':_0x113203(0x231),'bBlXm':_0x113203(0x38d),'uOEBT':function(_0x925701,_0x201e30){return _0x925701<=_0x201e30;},'rMfgt':_0x113203(0x32d),'yKqXq':function(_0x1ad16c,_0x335d36){return _0x1ad16c-_0x335d36;}};try{if(_0x2ef022[_0x113203(0x1e8)](_0x2ef022[_0x113203(0x377)],_0x2ef022[_0x113203(0x377)])){const _0x4c124a=new Array();for await(const _0x3041c1 of this['resourceClient'][_0x113203(0x317)]['listByResourceGroup'](global_registry[_0x113203(0x2e2)])){if(_0x2ef022[_0x113203(0x2d8)](_0x2ef022[_0x113203(0x28f)],_0x2ef022['YQCvF'])){const _0x204bb8={};_0x204bb8[_0x113203(0x297)]=_0x2ef022['EoDNl'],_0x204bb8[_0x113203(0x3bc)]={},_0x204bb8[_0x113203(0x3bc)][_0x113203(0x283)]=_0x2ef022[_0x113203(0x291)];const _0x2b51ad={};_0x2b51ad['type']=_0x2ef022[_0x113203(0x390)],_0x2b51ad[_0x113203(0x3bc)]={},_0x2b51ad[_0x113203(0x3bc)]['description']=_0x2ef022[_0x113203(0x291)];const _0x3a24cb={..._0x40b2f0[_0x113203(0x277)]};_0x3a24cb[_0x113203(0x2c6)]=_0x204bb8,_0x3a24cb[_0x113203(0x255)]=_0x2b51ad,_0x4585f4[_0x113203(0x277)]=_0x3a24cb;const _0x3d03eb={};_0x3d03eb[_0x113203(0x35c)]=_0x2ef022['rwbEH'],_0x563ae9[_0x113203(0x225)]=_0x3d03eb;const _0x4e4df8={..._0x334636[_0x113203(0x317)][0x0][_0x113203(0x306)][_0x113203(0x350)][0x0]};_0x4e4df8[_0x113203(0x35c)]=_0x2ef022[_0x113203(0x2d6)],_0x57872a[_0x113203(0x317)][0x0][_0x113203(0x306)]['agentPoolProfiles'][0x0]=_0x4e4df8;const _0x97ab6f={};_0x97ab6f[_0x113203(0x34f)]=_0x1b5fc7;const _0x451984={};_0x451984[_0x113203(0x34f)]=_0x5f1896[0x0];const _0x10a64c={..._0x5b54a0};_0x10a64c[_0x113203(0x2c6)]=_0x97ab6f,_0x10a64c[_0x113203(0x255)]=_0x451984,_0x3ffba0=_0x10a64c;}else _0x4c124a[_0x113203(0x335)](_0x3041c1);}let _0x138ce2='';for await(const _0x86ae23 of _0x4c124a){_0x2ef022[_0x113203(0x332)](_0x2ef022['CHmRk'],_0x2ef022['vbKzH'])?_0x49be6f[_0x113203(0x32e)]('['+_0x2ef022['vwhGz'](_0x371dca,0x1)+']\x20'+_0x450a01[_0x4899f1]):_0x2ef022[_0x113203(0x214)](_0x86ae23[_0x113203(0x313)],_0x5a1649)&&(_0x2ef022[_0x113203(0x2d8)](_0x2ef022[_0x113203(0x3bd)],_0x2ef022[_0x113203(0x2c0)])?_0x138ce2=_0x86ae23['id']:_0x4f74cb=_0x26a5a5['id']);}const _0x29c8c8=await this[_0x113203(0x36d)]['resources'][_0x113203(0x2e8)](_0x138ce2,_0x2ef022['MYHfI']);return _0x29c8c8['properties'][_0x113203(0x365)];}else _0x4adf19['error']=_0x20b2ab;}catch(_0x50d30a){if(_0x2ef022[_0x113203(0x25e)](_0x2ef022[_0x113203(0x2c5)],_0x2ef022[_0x113203(0x2f1)]))_0x5ccf93[_0x113203(0x335)](_0x3d8a74);else{if(_0x2ef022[_0x113203(0x3ae)](_0x1c8f11,0x0)){if(_0x2ef022[_0x113203(0x2d8)](_0x2ef022['rMfgt'],_0x2ef022[_0x113203(0x3b5)]))_0x1ceb73+=_0x2ef022['sNRpo'](_0x408c04[_0x113203(0x3a9)],0x0)?_0x2ef022[_0x113203(0x36a)]:'',_0x5ba511[_0x113203(0x369)](_0x113203(0x29a)+_0x179e03[_0x113203(0x2fc)](_0x22efab));else return logger['error']('[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20'+_0x50d30a+':'+_0x50d30a[_0x113203(0x230)]),{};}return await new Promise(_0x2d0d78=>{const _0x5ef881=_0x113203;if(_0x2ef022[_0x5ef881(0x2b3)](_0x2ef022['GKvEV'],_0x2ef022[_0x5ef881(0x282)]))_0x2ef022['khgWk'](setTimeout,()=>_0x2d0d78(),0x3e8);else return _0x2fa33e['error'](_0x5ef881(0x219)+_0x4e1d32+':'+_0x19c781['stack']),{};}),this[_0x113203(0x36f)](_0x5a1649,_0x2ef022['yKqXq'](_0x1c8f11,0x1));}}}async[a1_0x31958a(0x269)](){const _0x5e9861=a1_0x31958a,_0x2bb806={};_0x2bb806[_0x5e9861(0x3b0)]='Storage\x20account\x20already\x20exists,\x20skipping',_0x2bb806[_0x5e9861(0x24b)]=function(_0x4462c5,_0x6c88b){return _0x4462c5!==_0x6c88b;},_0x2bb806[_0x5e9861(0x30a)]=_0x5e9861(0x281),_0x2bb806[_0x5e9861(0x201)]=_0x5e9861(0x318),_0x2bb806[_0x5e9861(0x1df)]=function(_0x47a04f,_0x23b9ed){return _0x47a04f===_0x23b9ed;},_0x2bb806[_0x5e9861(0x38e)]=_0x5e9861(0x2a7),_0x2bb806['rJynF']=_0x5e9861(0x2d0),_0x2bb806[_0x5e9861(0x343)]='zfbjN';const _0x3c4f5c=_0x2bb806;!this[_0x5e9861(0x303)]&&(_0x3c4f5c[_0x5e9861(0x24b)](_0x3c4f5c[_0x5e9861(0x30a)],_0x3c4f5c[_0x5e9861(0x201)])?await this[_0x5e9861(0x20c)]():_0x2de13d[_0x5e9861(0x368)](_0x3c4f5c[_0x5e9861(0x3b0)]));const _0x35c123=this[_0x5e9861(0x303)]?.[_0x5e9861(0x316)]||{};if(_0x35c123&&_0x3c4f5c[_0x5e9861(0x1df)](_0x35c123[_0x3c4f5c['HlqpO']],_0x3c4f5c[_0x5e9861(0x21e)]))return _0x3c4f5c[_0x5e9861(0x24b)](_0x3c4f5c[_0x5e9861(0x343)],_0x3c4f5c[_0x5e9861(0x343)])?!![]:!![];return![];}async['deleteCluster'](_0x42deff,_0x2cf8a8){const _0x152939=a1_0x31958a,_0x11738e={'ivENy':function(_0xb26d94,_0x398601){return _0xb26d94(_0x398601);},'HFTEA':'Deleted\x20the\x20cluster\x20successfully'};await _0x11738e[_0x152939(0x284)](deleteAgent,_0x42deff),await _0x11738e[_0x152939(0x284)](deleteRoutingDeps,_0x42deff);const _0x5d4714=this[_0x152939(0x26b)];logger['info'](_0x152939(0x2b0)+this[_0x152939(0x2f4)]),await _0x5d4714[_0x152939(0x211)]['beginDeleteAndWait'](global_registry[_0x152939(0x2e2)],this[_0x152939(0x2f4)]),logger[_0x152939(0x368)](_0x11738e[_0x152939(0x1d2)]);}async[a1_0x31958a(0x2bf)](){const _0x180677=a1_0x31958a,_0x4dbf37={};_0x4dbf37[_0x180677(0x1de)]='Enabling\x20Local\x20account\x20for\x20the\x20cluster',_0x4dbf37['Ptbmf']=_0x180677(0x25a),_0x4dbf37[_0x180677(0x264)]=function(_0x19c4c1,_0x432bb1){return _0x19c4c1===_0x432bb1;},_0x4dbf37[_0x180677(0x221)]=function(_0x2fb13d,_0x589e2b){return _0x2fb13d===_0x589e2b;},_0x4dbf37[_0x180677(0x300)]='lEXNU',_0x4dbf37[_0x180677(0x2c8)]=function(_0x2c5be6,_0x238e21){return _0x2c5be6&&_0x238e21;},_0x4dbf37[_0x180677(0x31e)]='SUJVh',_0x4dbf37['nyScd']=_0x180677(0x37b),_0x4dbf37[_0x180677(0x362)]=_0x180677(0x254),_0x4dbf37[_0x180677(0x3bf)]=_0x180677(0x38f),_0x4dbf37[_0x180677(0x3a0)]=function(_0x436a6e,_0x8b3762){return _0x436a6e===_0x8b3762;},_0x4dbf37[_0x180677(0x2de)]='hBEZj',_0x4dbf37[_0x180677(0x25f)]=_0x180677(0x374),_0x4dbf37[_0x180677(0x296)]=_0x180677(0x349);const _0x546a92=_0x4dbf37;if(!this[_0x180677(0x303)]){if(_0x546a92[_0x180677(0x221)](_0x546a92[_0x180677(0x300)],_0x546a92[_0x180677(0x300)]))await this[_0x180677(0x20c)]();else{_0x2a46d4[_0x180677(0x368)](_0x546a92[_0x180677(0x1de)]);const _0x19fd83={};_0x19fd83['type']=_0x208013[_0x180677(0x3b6)],_0x19fd83['message']=_0x546a92[_0x180677(0x1de)],this[_0x180677(0x3c1)][_0x180677(0x393)](this[_0x180677(0x2e9)],_0x19fd83),_0xe037ac[_0x180677(0x236)]=![];}}const _0x510983=this[_0x180677(0x303)],_0x5f5526=this[_0x180677(0x303)]?.[_0x180677(0x3ac)]?.[_0x180677(0x382)]||![],_0x3feadf=this[_0x180677(0x303)]?.[_0x180677(0x26e)]?.[_0x180677(0x280)]?.[_0x180677(0x382)]||![],_0xf9bab0=!this[_0x180677(0x303)]?.[_0x180677(0x236)]||![];if(_0x546a92[_0x180677(0x2c8)](_0x5f5526,_0x3feadf)&&_0xf9bab0){if(_0x546a92[_0x180677(0x264)](_0x546a92[_0x180677(0x31e)],_0x546a92['bIoXO']))return;else{const _0x58708e={};_0x58708e[_0x180677(0x213)]=!![],_0x58708e[_0x180677(0x217)]=null,_0x58708e['data']=_0x546a92[_0x180677(0x275)];const _0x5dfed4=_0x58708e;return _0x5dfed4;}}if(!_0x5f5526){if(_0x546a92[_0x180677(0x264)](_0x546a92[_0x180677(0x1d1)],_0x546a92['JGltF']))_0x1b239b[_0x180677(0x240)](0x0);else{logger['info'](_0x546a92['yVxNM']);const _0xc93844={};_0xc93844[_0x180677(0x297)]=WS_EVENTS[_0x180677(0x3b6)],_0xc93844[_0x180677(0x3b4)]=_0x546a92[_0x180677(0x3bf)],this[_0x180677(0x3c1)]['sendEventToBackend'](this[_0x180677(0x2e9)],_0xc93844),_0x510983[_0x180677(0x3ac)][_0x180677(0x382)]=!![];}}if(!_0x3feadf){if(_0x546a92[_0x180677(0x3a0)](_0x546a92['BNdDo'],_0x546a92['BNdDo'])){logger[_0x180677(0x368)](_0x546a92[_0x180677(0x25f)]);const _0x2b3373={};_0x2b3373['type']=WS_EVENTS[_0x180677(0x3b6)],_0x2b3373[_0x180677(0x3b4)]=_0x546a92['Qkneq'],this[_0x180677(0x3c1)][_0x180677(0x393)](this[_0x180677(0x2e9)],_0x2b3373);const _0xc72f9={};_0xc72f9[_0x180677(0x382)]=!![],_0x510983[_0x180677(0x26e)]={'workloadIdentity':_0xc72f9,..._0x510983[_0x180677(0x26e)]};}else{if(_0x546a92[_0x180677(0x264)](_0xa5cb80[_0x180677(0x313)],_0x586640))return!![];}}if(!_0xf9bab0){if(_0x546a92[_0x180677(0x264)](_0x546a92['TzKJX'],_0x546a92[_0x180677(0x296)])){logger['info'](_0x546a92[_0x180677(0x1de)]);const _0x3fc026={};_0x3fc026[_0x180677(0x297)]=WS_EVENTS[_0x180677(0x3b6)],_0x3fc026[_0x180677(0x3b4)]=_0x546a92[_0x180677(0x1de)],this[_0x180677(0x3c1)][_0x180677(0x393)](this[_0x180677(0x2e9)],_0x3fc026),_0x510983['disableLocalAccounts']=![];}else _0x11cd07[_0x180677(0x213)]=![];}await this[_0x180677(0x26b)][_0x180677(0x211)]['beginCreateOrUpdateAndWait'](global_registry['cloudProviderResourceGroup'],this[_0x180677(0x2f4)],_0x510983),await this['getClusterInfo']();}async['sendAzureInfoToHST'](){const _0x2a4445=a1_0x31958a,_0x5d1563={};_0x5d1563[_0x2a4445(0x31b)]=function(_0x5e2aa4,_0x60200b){return _0x5e2aa4+_0x60200b;},_0x5d1563['xQxiY']='turboscale',_0x5d1563[_0x2a4445(0x1f6)]=function(_0x281701,_0x14ce2f){return _0x281701-_0x14ce2f;},_0x5d1563[_0x2a4445(0x310)]=function(_0x55c996,_0x417b01){return _0x55c996!==_0x417b01;},_0x5d1563['SUJQU']='VwkCw',_0x5d1563[_0x2a4445(0x301)]=_0x2a4445(0x371);const _0x466414=_0x5d1563,_0x5e36c5=await this['networkClient'][_0x2a4445(0x386)]['listAll'](global_registry[_0x2a4445(0x2e2)]),_0x649297={};_0x649297[_0x2a4445(0x358)]=global_registry[_0x2a4445(0x39c)],_0x649297[_0x2a4445(0x1d9)]=global_registry['bstackAccesskey'],_0x649297[_0x2a4445(0x33d)]=AZURE,_0x649297[_0x2a4445(0x27e)]=[];const _0x471410=_0x649297;for await(const _0x52958b of _0x5e36c5){if(_0x466414[_0x2a4445(0x310)](_0x466414[_0x2a4445(0x312)],_0x466414[_0x2a4445(0x301)]))_0x471410['vpcInfo']['push'](_0x52958b);else{const _0x425df4=_0x2e70b9['s3Bucket']['split']('-'),_0x2efd80=_0x466414['MozGA'](_0x466414[_0x2a4445(0x20f)],_0x425df4[_0x466414[_0x2a4445(0x1f6)](_0x425df4[_0x2a4445(0x3a9)],0x1)])[_0x2a4445(0x392)](0x0,0x18);return _0x2efd80['toLowerCase']();}}const _0x99cb5f={};_0x99cb5f['type']=WS_EVENTS[_0x2a4445(0x3b6)],_0x99cb5f[_0x2a4445(0x3b4)]=_0x471410,this[_0x2a4445(0x3c1)]['sendEventToBackend'](this[_0x2a4445(0x2e9)],_0x99cb5f);}async[a1_0x31958a(0x244)](_0x5272a0){const _0xdc12b=a1_0x31958a,_0x56dfa6={};_0x56dfa6[_0xdc12b(0x233)]=_0xdc12b(0x242),_0x56dfa6[_0xdc12b(0x3b8)]=function(_0x310c92,_0x40878f){return _0x310c92!==_0x40878f;},_0x56dfa6[_0xdc12b(0x1fc)]='FKlUL',_0x56dfa6[_0xdc12b(0x20e)]=function(_0x49259d,_0xaf82c5){return _0x49259d===_0xaf82c5;},_0x56dfa6['RWfwY']=_0xdc12b(0x2fa),_0x56dfa6[_0xdc12b(0x35e)]=_0xdc12b(0x34e),_0x56dfa6[_0xdc12b(0x1f0)]=function(_0x2cb9c6,_0x39d161){return _0x2cb9c6!==_0x39d161;},_0x56dfa6['frSQr']=_0xdc12b(0x204),_0x56dfa6['mPopC']=_0xdc12b(0x1e5);const _0x2915f8=_0x56dfa6;try{if(_0x2915f8[_0xdc12b(0x3b8)](_0x2915f8['yUBVS'],_0x2915f8[_0xdc12b(0x1fc)]))_0x1feb3a[_0xdc12b(0x335)](_0x397b38);else{const _0x2bc713=await this[_0xdc12b(0x1da)][_0xdc12b(0x386)]['listAll'](global_registry[_0xdc12b(0x2e2)]);for await(const _0x468687 of _0x2bc713){if(_0x2915f8[_0xdc12b(0x20e)](_0x2915f8[_0xdc12b(0x363)],_0x2915f8['TFWrh']))return _0x4c430f[_0xdc12b(0x213)][_0xdc12b(0x31d)][_0xdc12b(0x315)][0x0][_0xdc12b(0x334)];else{if(_0x2915f8[_0xdc12b(0x20e)](_0x468687[_0xdc12b(0x313)],_0x5272a0))return _0x2915f8[_0xdc12b(0x1f0)](_0x2915f8['frSQr'],_0x2915f8[_0xdc12b(0x1ff)])?[!![],_0x586a94]:!![];}}}}catch(_0x5340eb){if(_0x2915f8[_0xdc12b(0x20e)](_0x2915f8[_0xdc12b(0x26d)],_0x2915f8['mPopC']))return logger[_0xdc12b(0x217)](_0xdc12b(0x23c)+_0x5272a0+_0xdc12b(0x305)+_0x5340eb),![];else _0x4f5744[_0xdc12b(0x217)](_0x2915f8[_0xdc12b(0x233)]),_0x1b6b1c[_0xdc12b(0x240)](0x1);}return![];}async[a1_0x31958a(0x35d)](_0x12e9f5,_0x924f8){const _0x54621a=a1_0x31958a,_0x5598e9={};_0x5598e9[_0x54621a(0x3b2)]=_0x54621a(0x242),_0x5598e9['ulCwS']=_0x54621a(0x229),_0x5598e9[_0x54621a(0x331)]=function(_0x2a1e6c,_0x456e86){return _0x2a1e6c===_0x456e86;},_0x5598e9[_0x54621a(0x399)]=_0x54621a(0x260),_0x5598e9[_0x54621a(0x2db)]=function(_0xf3bd9b,_0x425cbb){return _0xf3bd9b===_0x425cbb;},_0x5598e9[_0x54621a(0x24d)]='cSjnQ',_0x5598e9[_0x54621a(0x237)]=_0x54621a(0x28b);const _0x3ad15c=_0x5598e9;try{if(_0x3ad15c[_0x54621a(0x331)](_0x3ad15c[_0x54621a(0x399)],_0x3ad15c[_0x54621a(0x399)])){const _0x47597f=await this['networkClient']['subnets'][_0x54621a(0x26c)](global_registry[_0x54621a(0x2e2)],_0x924f8,_0x12e9f5[0x0]);if(_0x3ad15c[_0x54621a(0x2db)](_0x12e9f5[0x0],_0x47597f[_0x54621a(0x313)])){if(_0x3ad15c[_0x54621a(0x2db)](_0x3ad15c['aQado'],_0x3ad15c[_0x54621a(0x237)]))_0x24a219[_0x54621a(0x217)](_0x3ad15c['zaiib']),_0x542ba7['exit'](0x1);else return[!![],_0x12e9f5];}}else{const _0x108713=_0x3ad15c[_0x54621a(0x1d5)]['split']('|');let _0x2c0537=0x0;while(!![]){switch(_0x108713[_0x2c0537++]){case'0':_0x4f2c2a['cloudProviderClientId']=_0x511940[this[_0x54621a(0x397)]]['clientId'];continue;case'1':_0x4bbe6d['cloudProviderResourceGroup']=_0x23d788[this['cloudProviderName']][_0x54621a(0x2ba)];continue;case'2':_0x5608ab[_0x54621a(0x273)]=_0x4270e4[this[_0x54621a(0x397)]][_0x54621a(0x290)];continue;case'3':_0x2bf22c['cloudProviderClientSecret']=_0x1ae241[this['cloudProviderName']][_0x54621a(0x3b3)];continue;case'4':this[_0x54621a(0x34b)]();continue;case'5':_0x545962[_0x54621a(0x383)]=_0x5a936f[this[_0x54621a(0x397)]]['subscriptionId'];continue;}break;}}}catch(_0x1a9d84){return logger[_0x54621a(0x217)]('Cannot\x20find\x20subnets\x20'+_0x12e9f5+'.\x20Error:\x20'+_0x1a9d84),[![],[]];}return[![],[]];}async['isCliToolInstalled'](){const _0x392638=a1_0x31958a,_0x4f1229={};_0x4f1229[_0x392638(0x29b)]=_0x392638(0x25a);const _0x1804b2=_0x4f1229,_0x55a8e0={};_0x55a8e0['status']=!![],_0x55a8e0[_0x392638(0x217)]=null,_0x55a8e0[_0x392638(0x218)]=_0x1804b2['Myiyj'];const _0x1d8b83=_0x55a8e0;return _0x1d8b83;}async[a1_0x31958a(0x253)](){const _0x554597=a1_0x31958a,_0x564f3b={};_0x564f3b[_0x554597(0x286)]=_0x554597(0x22e),_0x564f3b[_0x554597(0x3b7)]=_0x554597(0x27c),_0x564f3b['VWsvg']=_0x554597(0x1e6);const _0x324d87=_0x564f3b,_0x417989=await this[_0x554597(0x372)][_0x554597(0x23b)](_0x324d87[_0x554597(0x286)]),_0x56446e={};_0x56446e[_0x554597(0x2b4)]=_0x324d87[_0x554597(0x3b7)],_0x56446e[_0x554597(0x1dd)]={},_0x56446e[_0x554597(0x1dd)]['Authorization']='Bearer\x20'+_0x417989[_0x554597(0x3a3)],_0x56446e[_0x554597(0x1dd)][_0x554597(0x23d)]=_0x324d87[_0x554597(0x22d)];const _0xdb2fd=_0x56446e;return _0xdb2fd;}async[a1_0x31958a(0x36e)](_0x4523d4){const _0x1d6963=a1_0x31958a,_0x4e8260={'QoCNk':function(_0x35af72,_0x2f4e52,_0x584ec5){return _0x35af72(_0x2f4e52,_0x584ec5);},'oOIgC':function(_0xe73614,_0xb7bf49){return _0xe73614===_0xb7bf49;},'sWFHz':_0x1d6963(0x2c9)},_0x5811d8={};_0x5811d8[_0x1d6963(0x206)]='',_0x5811d8[_0x1d6963(0x217)]=null;const _0x24d8df=_0x5811d8;try{const _0x574f66=_0x1d6963(0x1d0)+_0x4523d4+'\x27',_0x192673=await this[_0x1d6963(0x253)](),_0xc5fe32=await _0x4e8260[_0x1d6963(0x23f)](fetch,_0x574f66,_0x192673),_0x6fe8e=await _0xc5fe32[_0x1d6963(0x2d7)]();if(!_0x6fe8e[_0x1d6963(0x34f)]||_0x4e8260[_0x1d6963(0x2e7)](_0x6fe8e[_0x1d6963(0x34f)][_0x1d6963(0x3a9)],0x0))throw new Error(_0x4e8260[_0x1d6963(0x2d5)],'Received\x20response\x20-\x20'+JSON[_0x1d6963(0x2fc)](_0x6fe8e));_0x24d8df[_0x1d6963(0x206)]=_0x6fe8e[_0x1d6963(0x34f)][0x0]['id'];}catch(_0x5a15b0){_0x24d8df[_0x1d6963(0x217)]=_0x5a15b0;}return _0x24d8df;}async['checkAccess'](){const _0x21464b=a1_0x31958a,_0x506133={};_0x506133[_0x21464b(0x2af)]=_0x21464b(0x26f),_0x506133[_0x21464b(0x247)]=_0x21464b(0x38c),_0x506133[_0x21464b(0x25c)]=function(_0x21eaa4,_0x34f17d){return _0x21eaa4!==_0x34f17d;},_0x506133['txhHe']=function(_0x52dda6,_0x47fd80){return _0x52dda6===_0x47fd80;},_0x506133['aqugU']=_0x21464b(0x38b),_0x506133[_0x21464b(0x353)]=function(_0x135b71,_0x3f53b5){return _0x135b71===_0x3f53b5;},_0x506133[_0x21464b(0x338)]='No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles',_0x506133[_0x21464b(0x38a)]=function(_0xf47e2a,_0x265711){return _0xf47e2a===_0x265711;},_0x506133[_0x21464b(0x263)]='Action\x20permission\x20list\x20is\x20empty\x0a';const _0x347570=_0x506133,_0x91888e={};_0x91888e[_0x21464b(0x213)]=![],_0x91888e['error']=null,_0x91888e[_0x21464b(0x218)]='';const _0x213dab=_0x91888e;try{let _0xfe4b49='';const _0x15440a=_0x21464b(0x1f7)+global_registry['cloudProviderSubscriptionId']+_0x21464b(0x311)+global_registry['cloudProviderResourceGroup'],_0x3afd10=await this[_0x21464b(0x36e)](global_registry[_0x21464b(0x31a)]);if(_0x347570[_0x21464b(0x25c)](_0x3afd10[_0x21464b(0x217)],null))return _0x213dab[_0x21464b(0x217)]=_0x3afd10[_0x21464b(0x217)],_0x213dab;const _0x38d53='assignedTo(\x27'+_0x3afd10[_0x21464b(0x206)]+'\x27)',_0xa62218={};_0xa62218[_0x21464b(0x2fb)]=_0x38d53;const _0x4832ca=await this[_0x21464b(0x293)][_0x21464b(0x328)]['listForScope'](_0x15440a,_0xa62218),_0x5e0476=[];for await(const _0x153d2e of _0x4832ca){_0x5e0476[_0x21464b(0x335)](_0x153d2e);}if(_0x347570[_0x21464b(0x1e1)](_0x5e0476[_0x21464b(0x3a9)],0x0))return _0x213dab[_0x21464b(0x218)]=_0x347570['aqugU'],_0x213dab;const _0x3e3d7f=[...new Set(_0x5e0476[_0x21464b(0x1f3)](_0x474769=>_0x474769[_0x21464b(0x249)]))];if(_0x347570[_0x21464b(0x353)](_0x3e3d7f[_0x21464b(0x3a9)],0x0))return _0x213dab[_0x21464b(0x218)]=_0x347570[_0x21464b(0x338)],_0x213dab;const _0x18b3ef=[],_0x2d8c02=[];for(const _0x5745bb of _0x3e3d7f){const _0xf7eb82=await this['authClient']['roleDefinitions'][_0x21464b(0x2e8)](_0x5745bb);logger[_0x21464b(0x369)](_0x21464b(0x3bb)+_0xf7eb82[_0x21464b(0x212)]),_0x18b3ef['push'](_0xf7eb82),logger[_0x21464b(0x369)](_0x21464b(0x37c)+JSON['stringify'](_0xf7eb82[_0x21464b(0x3c2)])),_0xf7eb82[_0x21464b(0x3c2)]['forEach'](_0xc1fc10=>{const _0x5d375c=_0x21464b;_0x2d8c02[_0x5d375c(0x335)](..._0xc1fc10[_0x5d375c(0x32a)]);});}logger[_0x21464b(0x369)]('actionPermission\x20:\x20'+JSON[_0x21464b(0x2fc)](_0x2d8c02)),_0x347570[_0x21464b(0x1e1)](_0x2d8c02[_0x21464b(0x3a9)],0x0)&&(_0xfe4b49+=_0x347570['XgIPk'](_0x2d8c02[_0x21464b(0x3a9)],0x0)?_0x347570['MFxRo']:'',logger[_0x21464b(0x369)](_0x21464b(0x29a)+JSON[_0x21464b(0x2fc)](_0x18b3ef))),_0x213dab[_0x21464b(0x213)]=!![],Object[_0x21464b(0x30b)](PERMISSIONS[_0x21464b(0x262)])['forEach'](([_0x3fa4b4,_0x103a58])=>{const _0xf01301=_0x21464b,_0x21b9b1=_0x2d8c02['includes'](_0x3fa4b4);_0xfe4b49+='\x0a\x09'+_0x103a58+':\x20'+(_0x21b9b1?_0x347570[_0xf01301(0x2af)]:_0x347570[_0xf01301(0x247)]),!_0x21b9b1&&(_0x213dab[_0xf01301(0x213)]=![]);}),_0x213dab[_0x21464b(0x218)]=_0xfe4b49;}catch(_0x30b0d9){_0x213dab[_0x21464b(0x217)]=_0x30b0d9;}return _0x213dab;}}const a1_0x5bac58={};a1_0x5bac58[a1_0x31958a(0x266)]=AzureCloudProvider,module['exports']=a1_0x5bac58;function a1_0x544b(){const _0x3b9e6d=['ZzIWm','VFspJ','cjuvi','aQado','storageAccountName','getUserInput','1|0|3|2|4|5','1306815lpbLDU','managementPolicies','getHeader','AYXEu','subnetName','CcxGr','dBtiH','hizgs','cfkRF','No\x20CLI\x20tool\x20required','rWnnS','BxqXc','YRiXi','lxRhV','Qkneq','jHMaB','dLfIH','ACTION','MFxRo','liboj','policy','AzureCloudProvider','NmbXX','szeIj','isBrowserstackCluster','LZbOF','containerClient','get','mPopC','securityProfile','allowed','Managed\x20identity\x20already\x20exists,\x20skipping','qHUlx','KTQcp','cloudProviderTenantId','cgJdY','Ptbmf','vghBO','parameters','ApVJi','ljTyv','UBsdd','fExJf','GET','Blob\x20delete\x20lifecycle','vpcInfo','7|5|6|1|3|0|2|4','workloadIdentity','NWlfG','GKvEV','description','ivENy','JDDVQ','kHLJy','sRluh','list','LMpDU','pmYKI','vZSfV','FIttM','listByResourceGroup','Received\x20response\x20-\x20','YQCvF','tenantId','oYCHi','zdenk','authClient','storageAccounts','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','TzKJX','type','Lifecycle','Fuvui','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','Myiyj','LUrll','fByUQ','Creating\x20Azure\x20federated\x20identity','xsDbO','lJkxs','AFZjy','OIIQS','mcmFU','UHDjp','blobTypes','Creating\x20Azure\x20managed\x20identity','browserstack:managedBy','./CloudProvider','FlJWN','LBvUA','@azure/arm-resources','lYBXC','NIYxQ','hvzQO','wADRc','Deleting\x20the\x20cluster\x20','NmHId','userMaxNodes','DFmcg','method','yYZrN','sHYyh','30zMzVUT','createOtherResources','PeNaT','resourceGroup','fECxs','js-yaml','127810AgYunP','storageClient','updateClusterAlreadyPresent','WKXax','BuwRl','zsPXd','OVkpE','JUpIl','hggLR','vpcName','fGoQf','jRkYl','No\x20service\x20principal\x20found','location','cKYFB','yvWgU','UolVV','ZULAq','XjESw','BrowserStack','Vcefm','node','KHiQU','getKubeConfigData','sWFHz','poAMj','json','Adcep','IYeiX','includes','LRWgE','ArmOC','kubeconfigs','BNdDo','5557kevqeS','split','turboscale-identity-deployment','cloudProviderResourceGroup','turboscale-managed-identity-','Uujys','sIsHP','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','oOIgC','getById','rws','YYkIg','vkhHY','nxzcZ','zxGqb','string','jyBOZ','ZCyaV','bBlXm','isClusterPresent','fLGAZ','clusterName','rvATH','yltYr','EGCSt','baqVw','FwpEW','UElXX','filter','stringify','ytQVX','nybQT','createFederatedAccount','bsldw','BeDVm','subscriptionId','clusterInfo','JNYmm','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','properties','wFQpo','.\x20Error:\x20','rules','bLqlH','entries','Storage\x20account\x20already\x20exists,\x20skipping','.json','46459mXszMy','getStorageAccountName','HbJqC','/resourceGroups/','SUJQU','name','turboscale-storageaccount-deployment','ingress','tags','resources','jcgkd','YhANX','cloudProviderClientId','MozGA','lksLZ','loadBalancer','bIoXO','path','SqUXc','WcoSS','gkcUd','createManagedIdentity','194lceVxn','\x20SUBSCRIPTION\x20ID:\x20','fKIrv','blockBlob','roleAssignments','RadZq','actions','clusterAutoUpgrade','ylpOh','AeZps','log','../config/logger','TVneE','QZlPP','GKLVo','QmYdc','hostname','push','ucyxJ','getResourceGroups','sVGel','tiTDg','baseBlob','getGridHostname','NxSZl','cloudProvider','KoFIu','fFfGc','AlPgf','mKVtR','KyqNZ','dYXWb','lDQHD','true','KPLAX','definition','s3Bucket','lAAPf','../config/constants','setClients','LxyiQ','Incremental','nDwdO','value','agentPoolProfiles','USOWG','../permissions/AZURE.json','AKyvx','vJICu','NRIMd','[variables(\x27vnetSubnetID\x27)]','Action\x20permission\x20list\x20is\x20empty\x0a','username','LOG','Mmuwh','instanceType','vnetSubnetID','isSubnetsValid','TFWrh','LLWcR','QmVNs','SAzHC','JGltF','RWfwY','fETMM','clientId','toLowerCase','JsJQQ','info','debug','kXkjh','createOrUpdate','templates','resourceClient','getPrincipalIdFromClientId','getResourceClientId','FRstU','IoDor','cred','kAKMp','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','\x20CLIENT\x20ID:\x20','@azure/arm-containerservice','WeAju','maxNodes','fngHK','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','tDgPz','Attached\x20permissions\x20:\x20','\x20CLIENT\x20SECRET:\x20','rMFzk','isManagedIdentityPresent','WCvsu','aCWUA','enabled','cloudProviderSubscriptionId','wpCeW','akscluster.json','virtualNetworks','cCrGt','../utils/gridComponents','30771RHIExC','XgIPk','No\x20attached\x20role\x20for\x20the\x20client\x20key','denied','IoRip','HlqpO','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','EoDNl','2023-01-31','slice','sendEventToBackend','createCluster','2101284RtQuPE','federatedidentityuploader.json','cloudProviderName','ZMUlL','XKJjO','bNnxq','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','bstackUsername','XLjIb','issuerURL','teyYp','lWfXu','92QgqTKf','nDpeB','token','HhZoR','qVOau','parse','VyrBh','mKNzd','length','WTbBN','join','oidcIssuerProfile','oQxJl','uOEBT','tiFgB','eYZCw','PPeWH','zaiib','clientSecret','message','rMfgt','RESOURCES','hgLHv','YUnoA','Zlyjx','readFileAsync','role\x20name\x20attached\x20-\x20','metadata','ZplPo','THRWz','yVxNM','goglc','webSocketUtils','permissions','toUpperCase','mCgWz','pfBDn','createFederatedAccountForHubHA','SaoVh','IiTsb','turboscale-federated-deployment','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','nyScd','HFTEA','setCachedCredsInRegistry','BeNLg','ulCwS','hubharesources','CBIaY','false','accessKey','networkClient','deployments','@azure/arm-authorization','headers','iAYbx','WcJwR','dnLKP','txhHe','@azure/identity','fTerR','Fhscg','WWdCG','application/json','zfMmi','pyZVH','IpPgh','eyvCH','toString','7267216IenQvH','Found\x20only\x20one\x20resource\x20group:\x20','filters','goPcx','IHpIh','zGnMP','RTESr','map','rioeb','Candl','UCDiA','subscriptions/','cloudProviderClientSecret','uFmYS','cYqKy','2123hJgVbt','yUBVS','clusterRegion','IsruT','frSQr','KOlcU','fwvkV','GqwlB','createStorageAccount','HnvWj','hub','principalId','cAtpP','MUwhN','ubuUo','beginCreateOrUpdateAndWait','userInstanceType','getClusterInfo','CyfIm','wDVok','xQxiY','vpjeD','managedClusters','roleName','status','yuktl','dEBQj','RRDDo','error','data','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','listClusterAdminCredentials','wlNsc','utf-8','JrExN','rJynF','GWQqY','lzmhS','OEZGW','pXjwk','Creating\x20Azure\x20storage\x20account','trprw','variables','Xkref','plxCW','GpmNH','0|3|2|5|1|4','GAZyJ','nomPe','default','VWsvg','https://graph.microsoft.com/.default','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','stack','ufLRq','VIBoK','exywU','gPdIZ','zQgjk','disableLocalAccounts','qqHtV','@azure/arm-storage','Created\x20Azure\x20federated\x20identity','azureresources','getToken','Cannot\x20find\x20VPC\x20','Content-Type','isStorageAccountPresent','QoCNk','exit','daysAfterCreationGreaterThan','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','gEiMn','isVPCPresent','init','ZKTgv','kHBHJ','frHvv','roleDefinitionId'];a1_0x544b=function(){return _0x3b9e6d;};return a1_0x544b();}