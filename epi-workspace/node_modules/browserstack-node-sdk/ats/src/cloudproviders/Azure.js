const a1_0x2c6f9f=a1_0x5195;(function(_0x371e91,_0x430f3c){const _0x7e2be4=a1_0x5195,_0x5b96da=_0x371e91();while(!![]){try{const _0x36d7f0=parseInt(_0x7e2be4(0x27a))/0x1*(-parseInt(_0x7e2be4(0x2ac))/0x2)+-parseInt(_0x7e2be4(0x1bf))/0x3*(parseInt(_0x7e2be4(0x177))/0x4)+parseInt(_0x7e2be4(0x174))/0x5*(parseInt(_0x7e2be4(0x2a1))/0x6)+-parseInt(_0x7e2be4(0x2ff))/0x7+parseInt(_0x7e2be4(0x15a))/0x8*(-parseInt(_0x7e2be4(0x1b9))/0x9)+parseInt(_0x7e2be4(0x2d0))/0xa+parseInt(_0x7e2be4(0x314))/0xb;if(_0x36d7f0===_0x430f3c)break;else _0x5b96da['push'](_0x5b96da['shift']());}catch(_0x4c7df7){_0x5b96da['push'](_0x5b96da['shift']());}}}(a1_0x53f0,0x366a4));function a1_0x53f0(){const _0x7955a0=['getStorageAccountName','string','toUpperCase','cloudProviderName','vmcbD','Blob\x20delete\x20lifecycle','XYxDC','qzXON','split','WGEbm','EhjGD','AKwgL','subscriptions/','roleAssignments','slice','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','GeGBo','No\x20attached\x20role\x20for\x20the\x20client\x20key','ECcFC','mjDhr','properties','PRyke','2|0|1|4|3|5','GBNcJ','includes','status','vwCTo','PWZEk','createStorageAccount','zCOlR','jzCsJ','VWfCi','SpWvh','lCanK','GGIuT','deleteCluster','Received\x20response\x20-\x20','isSubnetsValid','isStorageAccountPresent','dFWVd','sendAzureInfoToHST','iMklq','UXLim','rules','KkNSh','38776eLigIg','LkyAQ','join','@azure/identity','OBzWH','clientId','instanceType','getClusterInfo','HgVJc','psIlJ','gvgqc','cloudProviderTenantId','ingress','js-yaml','filters','isCliToolInstalled','yrbyP','fBihB','@azure/arm-authorization','kjdzm','DtBGe','aAwdk','ubNjn','DCMOL','FZNCk','xlQjS','qfHSS','setupNewCluster','OTdDV','NxYQK','JDKew','NqtFq','log','QjSqN','turboscale-federated-deployment','rPDNL','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','avxwW','WLxZz','6ufiAgN','cloudProviderClientSecret','uQjOS','turboscale-identity-deployment','createFederatedAccountForHubHA','pzcUq','beginCreateOrUpdateAndWait','BDCar','isClusterPresent','NzFhN','qHHEF','6uABUcI','@azure/arm-resources','JlpmG','oSrsi','whLFB','init','Jlctx','listByResourceGroup','QoLxx','VbGen','mmUsO','cred','createOtherResources','cloudProviderSubscriptionId','utf-8','push','QmdUF','stringify','map','akscluster.json','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','forEach','QLsRV','VSlcC','xcBIF','parameters','qtNbu','tTaLb','EDvcT','UQaZV','storageaccount.json','JUSbj','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','description','gclXj','debug','1065450olDHhQ','hCIHp','tXNOe','cfucB','qFlWM','kRUHD','denied','cloudProviderClientId','jSNEJ','xcVWr','networkClient','fwpzR','message','eofTW','metadata','info','createManagedIdentity','loadBalancer','getToken','ZuLHo','AzureCloudProvider','Found\x20only\x20one\x20resource\x20group:\x20','qimqx','blobTypes','EmQgT','RhGvM','CaGUY','turboscale','managedClusters','data','jgsSn','EAyCL','YhflO','NKwba','pjnOd','isVPCPresent','kEBMN','QoQvs','qQfzu','No\x20service\x20principal\x20found','bpnbE','cloudProviderResourceGroup','stack','createOrUpdate','Bearer\x20','ZgDdc','./CloudProvider','489839mYevMK','kkGVZ','oZDUm','uulFi','UgDOs','GlLIE','error','vpcName','Authorization','tfIfK','etglH','resourceGroups','clusterRegion','aWrrY','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','qqWBk','juCyn','BnBDf','ExgCb','enabled','blockBlob','3397790xYzmSZ','sxQiT','hEEIH','KaegA','jqPyS','templates','OSaqo','clusterInfo','MGFVm','lDMgQ','../config/logger','lsCTv','maxNodes','true','Attached\x20permissions\x20:\x20','CUjGu','subnetName','hub','idEFd','mWqRh','userMaxNodes','GYESo','roleName','UCbty','hostname','HBWzC','toLowerCase','EcoCt','CWzoi','ZETEc','XCwEY','agentPoolProfiles','LOG','bPNog','application/json','@azure/arm-network','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','getResourceGroups','entries','dZXoP','TeagJ','grgpd','uxYvR','TtFPe','NNnin','pPcNp','FkPYr','fsDCi','fNVjV','location','opbVG','[variables(\x27vnetSubnetID\x27)]','COssC','Incremental','tenantId','getResourceClientId','ivXiT','type','4|5|2|3|1|0','federatedidentity','KzIlX','vpcInfo','path','HCBiv','72HPhnZZ','fSJDX','federatedidentityuploader.json','fUYWI','TSnzG','clusterName','oWPcb','isManagedIdentityPresent','PXOIN','InjJc','VKmGK','UCTkF','bqzXa','XnhSv','oJmnX','Yvesz','exit','No\x20CLI\x20tool\x20required','tegsC','gridName','role\x20name\x20attached\x20-\x20','EneSe','WJyan','vQEHI','bstackUsername','token','2125890ZfRjuL','PYjqL','BrowserStack','180588GLDOSY','cNicz','viOHr','storageClient','sendEventToBackend','CMLoL','Cfgjz','DrTYJ','@azure/arm-containerservice','DrKnD','getHeader','securityProfile','vkbXx','roleDefinitionId','IezoY','DvvEI','Creating\x20Azure\x20federated\x20identity','SBdbA','turboscale-cluster-deployment','Szbus','hubharesources','OkCvT','tzHpy','TyoCd','WteJn','mxxbU','xgeRY','clientSecret','EzlyC','qnVZh','../permissions/AZURE.json','Action\x20permission\x20list\x20is\x20empty\x0a','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','policy','getById','definition','RqeKC','GgjFl','pfzBV','GET','filter','readFileAsync','getKubeConfigData','uCUNg','rRroX','jTKNv','toString','KzPyC','dyUvu','get','https://graph.microsoft.com/.default','RESOURCES','cROLf','oidcIssuerProfile','dygOd','subscriptionId','IbgOb','createCluster','keAqG','list','checkAccess','zlyPz','vnetSubnetID','nVzEF','method','Storage\x20account\x20already\x20exists,\x20skipping','25101vZsWSQ','VYiKn','actions','fhthA','daysAfterCreationGreaterThan','2023-01-31','27Yzllan','ELzxq','RKroT','headers','delete','virtualNetworks','ACTION','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','\x20TENANT\x20ID:\x20','ZMMJE','zUhFw','TFawL','setClients','RLMlC','JBbto','createFederatedAccount','FsZTx','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','node','ccysi','bstackAccesskey','dcCRa','isBrowserstackCluster','getGridHostname','mWLLU','riXUf','azureresources','Rfoxp','GUMcN','dbiar','ltECX','length','name','browserstack:managedBy','IsPRF','cqMEB','username','nuTNF','authClient','storageAccountName','parse','MotnF','NiHRz','value','hBYig','\x20SUBSCRIPTION\x20ID:\x20','disableLocalAccounts','xxbrd','Deleted\x20the\x20cluster\x20successfully','resourceGroup','listForScope','AeLNx','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','\x20RESOURCE\x20GROUP:\x20','veECH','turboscale-storageaccount-deployment','gEOli','DKgQc','SWSdi','lxkaZ','WPuxt','RjwRg','zxAxq','IjFmC','aiClX','rws','idRyG','iiHIQ','fAiaG','setupHubHa','resources','Enabling\x20Local\x20account\x20for\x20the\x20cluster','wJYNy','JjGJv','fhRjx','json','mfutQ','PTbam','permissions','../config/constants','dwAZO','rjiKQ','LuHgs','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','Acjrz','uqETh','containerClient','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','SkbUo','HElUj','turboscale-managed-identity-','apejW','SSRJb','s3Bucket','sKQBy','Creating\x20Azure\x20storage\x20account','Qhuog','tqlGe','webSocketUtils','rHRIi','HWkzh','storageAccounts','WlIyZ','setCachedCredsInRegistry','ARAKX','tKtzN','XtclB','UkWET','dIFNZ','bRAhO','sgZwr','principalId','uKWtI','qWYHW','BhZwo','variables','zsWAu','krCBs','rKBVt','roleDefinitions','assignedTo(\x27','hhOcN','HuApC','exports','Lifecycle','fbbPh','listAll','allowed','tags','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','Created\x20Azure\x20federated\x20identity','vndZD','ubdyH','dkVCg','resourceClient','dHKgG','deployments','getPrincipalIdFromClientId','updateClusterAlreadyPresent','workloadIdentity','UoREt','jHxra'];a1_0x53f0=function(){return _0x7955a0;};return a1_0x53f0();}const fs=require('fs'),path=require(a1_0x2c6f9f(0x158)),yaml=require(a1_0x2c6f9f(0x287)),{logger}=require(a1_0x2c6f9f(0x31e)),{CloudProvider}=require(a1_0x2c6f9f(0x2fe)),{deleteRoutingDeps,deleteAgent}=require('../utils/gridComponents'),{AZURE,WS_EVENTS,global_registry}=require(a1_0x2c6f9f(0x20e)),PERMISSIONS=require(a1_0x2c6f9f(0x195)),{ClientSecretCredential}=require(a1_0x2c6f9f(0x27d)),{NetworkManagementClient}=require(a1_0x2c6f9f(0x337)),{StorageManagementClient}=require('@azure/arm-storage'),{AuthorizationManagementClient}=require(a1_0x2c6f9f(0x28c)),{ResourceManagementClient}=require(a1_0x2c6f9f(0x2ad)),{ContainerServiceClient}=require(a1_0x2c6f9f(0x17f)),{runCommand}=require('../utils/utilityMethods');class AzureCloudProvider extends CloudProvider{constructor(_0x3fdca5,_0x303360,_0x3262c4,_0x358747){const _0x4d1492=a1_0x2c6f9f,_0x2862d0={};_0x2862d0['tfIfK']='0|7|5|4|2|6|1|3';const _0xf704d=_0x2862d0,_0x1e8f6c=_0xf704d[_0x4d1492(0x308)][_0x4d1492(0x255)]('|');let _0x512ec6=0x0;while(!![]){switch(_0x1e8f6c[_0x512ec6++]){case'0':super(AZURE,_0x3fdca5,_0x303360,_0x3262c4,_0x358747);continue;case'1':this[_0x4d1492(0x2da)]=null;continue;case'2':this[_0x4d1492(0x17a)]=null;continue;case'3':this['authClient']=null;continue;case'4':this['containerClient']=null;continue;case'5':this['clusterInfo']=null;continue;case'6':this[_0x4d1492(0x245)]=null;continue;case'7':this[_0x4d1492(0x2b7)]=null;continue;}break;}}async[a1_0x2c6f9f(0x2b1)](){const _0x1ea164=a1_0x2c6f9f;return await super[_0x1ea164(0x2b1)](),this;}[a1_0x2c6f9f(0x1cb)](){const _0x1f691b=a1_0x2c6f9f,_0x463888=new ClientSecretCredential(global_registry[_0x1f691b(0x285)],global_registry['cloudProviderClientId'],global_registry['cloudProviderClientSecret']);this[_0x1f691b(0x215)]=new ContainerServiceClient(_0x463888,global_registry[_0x1f691b(0x2b9)]),this['storageClient']=new StorageManagementClient(_0x463888,global_registry[_0x1f691b(0x2b9)]),this[_0x1f691b(0x245)]=new ResourceManagementClient(_0x463888,global_registry[_0x1f691b(0x2b9)]),this[_0x1f691b(0x2da)]=new NetworkManagementClient(_0x463888,global_registry[_0x1f691b(0x2b9)]),this[_0x1f691b(0x1e5)]=new AuthorizationManagementClient(_0x463888,global_registry[_0x1f691b(0x2b9)]),this[_0x1f691b(0x2b7)]=_0x463888;}['getStorageAccountName'](){const _0x3d5c42=a1_0x2c6f9f,_0x1fcbb6={};_0x1fcbb6['fkgjl']=function(_0x31f6f1,_0x5b4cd0){return _0x31f6f1+_0x5b4cd0;},_0x1fcbb6[_0x3d5c42(0x294)]=_0x3d5c42(0x2eb),_0x1fcbb6[_0x3d5c42(0x1a7)]=function(_0x5e6d94,_0x2cda83){return _0x5e6d94-_0x2cda83;};const _0x4a73a3=_0x1fcbb6,_0x529c82=global_registry[_0x3d5c42(0x21c)][_0x3d5c42(0x255)]('-'),_0x3bffba=_0x4a73a3['fkgjl'](_0x4a73a3[_0x3d5c42(0x294)],_0x529c82[_0x4a73a3[_0x3d5c42(0x1a7)](_0x529c82[_0x3d5c42(0x1de)],0x1)])[_0x3d5c42(0x25b)](0x0,0x18);return _0x3bffba['toLowerCase']();}[a1_0x2c6f9f(0x226)](_0x32219d){const _0x15b15b=a1_0x2c6f9f,_0x375585={};_0x375585['bPNog']='1|0|2|5|3|4';const _0x1d1ff5=_0x375585,_0x3e184b=_0x1d1ff5[_0x15b15b(0x335)][_0x15b15b(0x255)]('|');let _0x231b8d=0x0;while(!![]){switch(_0x3e184b[_0x231b8d++]){case'0':global_registry['cloudProviderClientSecret']=_0x32219d[this[_0x15b15b(0x250)]]['clientSecret'];continue;case'1':global_registry[_0x15b15b(0x2d7)]=_0x32219d[this['cloudProviderName']][_0x15b15b(0x27f)];continue;case'2':global_registry[_0x15b15b(0x285)]=_0x32219d[this[_0x15b15b(0x250)]][_0x15b15b(0x150)];continue;case'3':global_registry[_0x15b15b(0x2f9)]=_0x32219d[this[_0x15b15b(0x250)]]['resourceGroup'];continue;case'4':this['setClients']();continue;case'5':global_registry[_0x15b15b(0x2b9)]=_0x32219d[this[_0x15b15b(0x250)]][_0x15b15b(0x1ae)];continue;}break;}}async['getUserInput'](_0x44d99d,_0x1cf74d){const _0x24ab6d=a1_0x2c6f9f,_0x588a65={'QDWwk':_0x24ab6d(0x338),'tqlGe':_0x24ab6d(0x206),'FsZTx':'Managed\x20identity\x20already\x20exists,\x20skipping','RLMlC':'string','apejW':'Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','DrKnD':_0x24ab6d(0x1f3),'VSlcC':_0x24ab6d(0x347),'SWSdi':_0x24ab6d(0x197),'psIlJ':function(_0x680991,_0x42523f){return _0x680991===_0x42523f;},'DQjzm':_0x24ab6d(0x196),'hhOcN':function(_0x51fdc3,_0x5e9443){return _0x51fdc3(_0x5e9443);},'iMklq':function(_0x48772f,_0x26ade7){return _0x48772f(_0x26ade7);},'qJuoB':function(_0x3107ac,_0xabfc57){return _0x3107ac===_0xabfc57;},'fBihB':function(_0x184b89,_0x599c56){return _0x184b89===_0x599c56;},'JjGJv':'Fqwsx','PtVcZ':function(_0x1e86d2,_0x28911f){return _0x1e86d2!==_0x28911f;},'dbiar':_0x24ab6d(0x160),'lCanK':function(_0x198aab,_0x46d915){return _0x198aab(_0x46d915);},'gvgqc':function(_0x4fd9e7,_0x255428){return _0x4fd9e7===_0x255428;},'DCMOL':function(_0x1d5189,_0x152b9f){return _0x1d5189===_0x152b9f;},'HTIQY':function(_0x5837e4,_0x11ad48){return _0x5837e4===_0x11ad48;},'xxbrd':_0x24ab6d(0x330),'tegsC':'Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','Qhuog':function(_0x4483ae,_0x5cd8d5){return _0x4483ae===_0x5cd8d5;},'keAqG':function(_0x1f0a4a,_0x136c53){return _0x1f0a4a===_0x136c53;},'hCIHp':_0x24ab6d(0x2ae),'dHUZy':_0x24ab6d(0x213),'HWkzh':function(_0x1f6c4f,_0x27949a){return _0x1f6c4f===_0x27949a;},'oSrsi':_0x24ab6d(0x2d8),'iuulG':function(_0x412ba7,_0x17706a){return _0x412ba7<_0x17706a;},'MotnF':function(_0x3e31b4,_0x7dd1aa){return _0x3e31b4!==_0x7dd1aa;},'tTaLb':_0x24ab6d(0x168),'zUhFw':_0x24ab6d(0x1da),'mWLLU':function(_0x16a507,_0xfbead4){return _0x16a507+_0xfbead4;},'gEOli':'Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','UgDOs':function(_0x2b618a,_0x132728){return _0x2b618a<=_0x132728;},'fsDCi':function(_0x4fef57,_0x8b262e){return _0x4fef57>_0x8b262e;},'dFWVd':function(_0x2a3a15,_0x2f247c){return _0x2a3a15!==_0x2f247c;},'JRAZs':_0x24ab6d(0x318),'DtBGe':function(_0x455284,_0x5507a6){return _0x455284-_0x5507a6;}},_0x37c2c3=this['cloudProviderName'][_0x24ab6d(0x24f)](),_0x403421=await _0x588a65[_0x24ab6d(0x238)](_0x44d99d,_0x37c2c3+'\x20CLIENT\x20ID:\x20'),_0x3305f8=await _0x588a65[_0x24ab6d(0x276)](_0x44d99d,_0x37c2c3+'\x20CLIENT\x20SECRET:\x20'),_0x4d19c1=await _0x588a65[_0x24ab6d(0x238)](_0x44d99d,_0x37c2c3+_0x24ab6d(0x1c7)),_0x405fbe=await _0x588a65[_0x24ab6d(0x238)](_0x44d99d,_0x37c2c3+_0x24ab6d(0x1ec));global_registry[_0x24ab6d(0x2d7)]=_0x403421,global_registry['cloudProviderClientSecret']=_0x3305f8,global_registry['cloudProviderTenantId']=_0x4d19c1,global_registry[_0x24ab6d(0x2b9)]=_0x405fbe,this[_0x24ab6d(0x1cb)]();const _0x1873a3=await this[_0x24ab6d(0x339)](),_0x1b29af=_0x1873a3['length'];let _0x3eff26;if(_0x588a65['qJuoB'](_0x1b29af,0x0)){if(_0x588a65[_0x24ab6d(0x28b)](_0x588a65[_0x24ab6d(0x208)],_0x588a65[_0x24ab6d(0x208)]))_0x3eff26=await _0x588a65[_0x24ab6d(0x276)](_0x44d99d,_0x37c2c3+_0x24ab6d(0x1f4));else{_0x355875['info'](_0x588a65['QDWwk']);const _0x48aa7e={};_0x48aa7e[_0x24ab6d(0x153)]=_0x553cee[_0x24ab6d(0x1aa)],_0x48aa7e[_0x24ab6d(0x2dc)]=_0x588a65['QDWwk'],this['webSocketUtils'][_0x24ab6d(0x17b)](this[_0x24ab6d(0x200)],_0x48aa7e),_0x267f4e[_0x24ab6d(0x1ac)][_0x24ab6d(0x312)]=!![];}}else{if(_0x588a65[_0x24ab6d(0x283)](_0x1b29af,0x1)){if(_0x588a65['PtVcZ'](_0x588a65[_0x24ab6d(0x1dc)],_0x588a65['dbiar'])){_0x2e24ba['info'](_0x588a65[_0x24ab6d(0x220)]);const _0x58fe2d={};_0x58fe2d['type']=_0x98b447[_0x24ab6d(0x1aa)],_0x58fe2d[_0x24ab6d(0x2dc)]=_0x588a65['tqlGe'],this[_0x24ab6d(0x221)][_0x24ab6d(0x17b)](this['rws'],_0x58fe2d),_0x327e43[_0x24ab6d(0x1ed)]=![];}else{const _0x1f3dbe=await _0x588a65[_0x24ab6d(0x26e)](_0x44d99d,_0x24ab6d(0x2e5)+_0x1873a3[0x0]+'\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20');(_0x588a65['psIlJ'](_0x1f3dbe,undefined)||_0x588a65[_0x24ab6d(0x284)](_0x1f3dbe,null)||!(_0x588a65[_0x24ab6d(0x284)](_0x1f3dbe[_0x24ab6d(0x32e)](),'y')||_0x588a65[_0x24ab6d(0x291)](_0x1f3dbe[_0x24ab6d(0x32e)](),'n')))&&(_0x588a65['HTIQY'](_0x588a65['xxbrd'],_0x588a65[_0x24ab6d(0x1ee)])?(console[_0x24ab6d(0x305)](_0x588a65[_0x24ab6d(0x16c)]),process[_0x24ab6d(0x16a)](0x1)):_0x9cc3c2[_0x24ab6d(0x2df)](_0x588a65[_0x24ab6d(0x1cf)]));if(_0x588a65[_0x24ab6d(0x21f)](_0x1f3dbe[_0x24ab6d(0x32e)](),'n')){if(_0x588a65[_0x24ab6d(0x1b1)](_0x588a65[_0x24ab6d(0x2d1)],_0x588a65['dHUZy']))return!![];else process[_0x24ab6d(0x16a)](0x0);}_0x3eff26=_0x1873a3[0x0];}}else{if(_0x588a65[_0x24ab6d(0x223)](_0x588a65[_0x24ab6d(0x2af)],_0x588a65[_0x24ab6d(0x2af)])){for(let _0x4f0b10=0x0;_0x588a65['iuulG'](_0x4f0b10,_0x1873a3[_0x24ab6d(0x1de)]);_0x4f0b10+=0x1){if(_0x588a65[_0x24ab6d(0x1e8)](_0x588a65[_0x24ab6d(0x2c7)],_0x588a65[_0x24ab6d(0x1c9)]))console['log']('['+_0x588a65[_0x24ab6d(0x1d7)](_0x4f0b10,0x1)+']\x20'+_0x1873a3[_0x4f0b10]);else{const _0x895b0c={};_0x895b0c[_0x24ab6d(0x153)]=_0x588a65[_0x24ab6d(0x1cc)],_0x895b0c[_0x24ab6d(0x2de)]={},_0x895b0c[_0x24ab6d(0x2de)][_0x24ab6d(0x2cd)]=_0x588a65['apejW'];const _0x11bb72={};_0x11bb72[_0x24ab6d(0x153)]=_0x588a65[_0x24ab6d(0x1cc)],_0x11bb72[_0x24ab6d(0x2de)]={},_0x11bb72[_0x24ab6d(0x2de)][_0x24ab6d(0x2cd)]=_0x588a65[_0x24ab6d(0x21a)];const _0x3e3464={..._0x3e68bc[_0x24ab6d(0x2c5)]};_0x3e3464['vpcName']=_0x895b0c,_0x3e3464[_0x24ab6d(0x324)]=_0x11bb72,_0x351afd[_0x24ab6d(0x2c5)]=_0x3e3464;const _0x3a0c29={};_0x3a0c29['vnetSubnetID']=_0x588a65[_0x24ab6d(0x180)],_0x45042f[_0x24ab6d(0x232)]=_0x3a0c29;const _0x296e4e={..._0x4839eb[_0x24ab6d(0x205)][0x0][_0x24ab6d(0x261)][_0x24ab6d(0x333)][0x0]};_0x296e4e[_0x24ab6d(0x1b5)]=_0x588a65[_0x24ab6d(0x2c3)],_0x225b3a['resources'][0x0][_0x24ab6d(0x261)][_0x24ab6d(0x333)][0x0]=_0x296e4e;const _0x3084e4={};_0x3084e4[_0x24ab6d(0x1ea)]=_0x2d64b6;const _0x19f9e8={};_0x19f9e8[_0x24ab6d(0x1ea)]=_0xd6ab1a[0x0];const _0x44cde6={..._0x37c7c0};_0x44cde6[_0x24ab6d(0x306)]=_0x3084e4,_0x44cde6[_0x24ab6d(0x324)]=_0x19f9e8,_0x2a6ede=_0x44cde6;}}const _0x4e0529=await _0x588a65[_0x24ab6d(0x26e)](_0x44d99d,_0x588a65[_0x24ab6d(0x1f7)]),_0x22bc2b=_0x588a65[_0x24ab6d(0x26e)](Number,_0x4e0529);if(_0x588a65['iMklq'](isNaN,_0x22bc2b)||_0x588a65[_0x24ab6d(0x303)](_0x22bc2b,0x0)||_0x588a65[_0x24ab6d(0x343)](_0x22bc2b,_0x1b29af)){if(_0x588a65[_0x24ab6d(0x274)](_0x588a65['JRAZs'],_0x588a65['JRAZs']))return _0x3eff04[_0x24ab6d(0x2ed)]=_0x588a65[_0x24ab6d(0x1f9)],_0x2fda35;else console[_0x24ab6d(0x305)](_0x588a65[_0x24ab6d(0x16c)]),process[_0x24ab6d(0x16a)](0x1);}_0x3eff26=_0x1873a3[_0x588a65[_0x24ab6d(0x28e)](_0x22bc2b,0x1)];}else _0x194ee2+=_0x588a65[_0x24ab6d(0x283)](_0x1c3bdf[_0x24ab6d(0x1de)],0x0)?_0x588a65['DQjzm']:'',_0x2920cf['debug']('Role\x20definition\x20response\x20list\x20\x20:\x20\x20'+_0x2d7219['stringify'](_0x1717e6));}}global_registry[_0x24ab6d(0x2f9)]=_0x3eff26;const _0x240f83={};return _0x240f83[_0x24ab6d(0x27f)]=_0x403421,_0x240f83[_0x24ab6d(0x192)]=_0x3305f8,_0x240f83['tenantId']=_0x4d19c1,_0x240f83[_0x24ab6d(0x1ae)]=_0x405fbe,_0x240f83[_0x24ab6d(0x1f0)]=_0x3eff26,_0x1cf74d['cloudProvider'][AZURE]=_0x240f83,_0x1cf74d;}async[a1_0x2c6f9f(0x339)](){const _0x5069ce=a1_0x2c6f9f,_0x686aca={};_0x686aca[_0x5069ce(0x300)]=function(_0x1f42ed,_0x109850){return _0x1f42ed!==_0x109850;},_0x686aca[_0x5069ce(0x1ca)]=_0x5069ce(0x175),_0x686aca[_0x5069ce(0x2b5)]=_0x5069ce(0x22a),_0x686aca[_0x5069ce(0x165)]=function(_0x3e3886,_0xf2fb51){return _0x3e3886===_0xf2fb51;},_0x686aca[_0x5069ce(0x162)]='GHCcn';const _0x289f68=_0x686aca,_0x25945f=[];try{if(_0x289f68[_0x5069ce(0x300)](_0x289f68[_0x5069ce(0x1ca)],_0x289f68[_0x5069ce(0x2b5)])){const _0x3a123=await this[_0x5069ce(0x245)][_0x5069ce(0x30a)][_0x5069ce(0x1b2)]();for await(const _0x5a1f67 of _0x3a123){_0x289f68['UCTkF'](_0x289f68[_0x5069ce(0x162)],_0x289f68[_0x5069ce(0x162)])?_0x25945f[_0x5069ce(0x2bb)](_0x5a1f67[_0x5069ce(0x1df)]):_0xa9832d[_0x5069ce(0x305)]=_0x1462c4;}}else return[!![],_0xc83b4f];}catch(_0x389f8a){}return _0x25945f;}async[a1_0x2c6f9f(0x281)](){const _0x3bd99c=a1_0x2c6f9f;return this['clusterInfo']=await this[_0x3bd99c(0x215)][_0x3bd99c(0x2ec)][_0x3bd99c(0x1a8)](global_registry[_0x3bd99c(0x2f9)],this[_0x3bd99c(0x15f)]),this[_0x3bd99c(0x31b)];}async[a1_0x2c6f9f(0x1a1)](){const _0x474c92=a1_0x2c6f9f,_0x5645c7=await this['containerClient'][_0x474c92(0x2ec)]['listClusterAdminCredentials'](global_registry[_0x474c92(0x2f9)],this[_0x474c92(0x15f)]),_0x5ed87b=_0x5645c7['kubeconfigs'][0x0][_0x474c92(0x1ea)][_0x474c92(0x1a5)]();return _0x5ed87b;}[a1_0x2c6f9f(0x1d6)](_0x40cb4f){const _0x343896=a1_0x2c6f9f;return _0x40cb4f[_0x343896(0x266)][_0x343896(0x2e1)][_0x343896(0x286)][0x0][_0x343896(0x32c)];}async[a1_0x2c6f9f(0x2a9)](){const _0x44f0d4=a1_0x2c6f9f,_0x321bc0={};_0x321bc0['CUjGu']=function(_0x550f46,_0x407f96){return _0x550f46===_0x407f96;},_0x321bc0['mWqRh']=_0x44f0d4(0x31c),_0x321bc0[_0x44f0d4(0x20c)]='gjlHr',_0x321bc0['TSnzG']=function(_0x383848,_0x26daff){return _0x383848!==_0x26daff;},_0x321bc0['QoLxx']=_0x44f0d4(0x298),_0x321bc0[_0x44f0d4(0x186)]=_0x44f0d4(0x1c0),_0x321bc0[_0x44f0d4(0x188)]=function(_0x5d0434,_0x38425a){return _0x5d0434===_0x38425a;},_0x321bc0[_0x44f0d4(0x159)]='hAhbu';const _0x488b61=_0x321bc0,_0x4ddf6c=new Array();for await(const _0x270370 of this[_0x44f0d4(0x215)]['managedClusters']['listByResourceGroup'](global_registry[_0x44f0d4(0x2f9)])){_0x488b61[_0x44f0d4(0x323)](_0x488b61[_0x44f0d4(0x327)],_0x488b61[_0x44f0d4(0x20c)])?_0x488b61['CUjGu'](_0x538eec[_0x44f0d4(0x1df)],_0x26eb08)&&(_0x3a53af=_0x3ad4ca['id']):_0x4ddf6c[_0x44f0d4(0x2bb)](_0x270370);}for await(const _0x218ac0 of _0x4ddf6c){if(_0x488b61['TSnzG'](_0x488b61[_0x44f0d4(0x2b4)],_0x488b61[_0x44f0d4(0x186)])){if(_0x488b61[_0x44f0d4(0x188)](_0x218ac0[_0x44f0d4(0x1df)],this[_0x44f0d4(0x15f)]))return _0x488b61[_0x44f0d4(0x15e)](_0x488b61[_0x44f0d4(0x159)],_0x488b61['HCBiv'])?(_0x44eb18['error'](_0x44f0d4(0x1c6)+_0x3ba166+':'+_0x305e8a[_0x44f0d4(0x2fa)]),{}):(await this['getClusterInfo'](),!![]);}else _0x198991[_0x44f0d4(0x2bb)](_0x22d6c9);}return![];}async[a1_0x2c6f9f(0x295)](_0x2747a1=null,_0x396328=null){const _0x2b950d=a1_0x2c6f9f,_0x287009={};_0x287009[_0x2b950d(0x2e9)]=_0x2b950d(0x154),_0x287009[_0x2b950d(0x326)]=_0x2b950d(0x2c0);const _0x4acb08=_0x287009,_0x5b6db4=_0x4acb08[_0x2b950d(0x2e9)][_0x2b950d(0x255)]('|');let _0x2666a0=0x0;while(!![]){switch(_0x5b6db4[_0x2666a0++]){case'0':return[_0x2747a1,_0x396328];case'1':await this['createOtherResources']();continue;case'2':logger[_0x2b950d(0x2df)](_0x4acb08['idEFd']);continue;case'3':await this[_0x2b950d(0x1b0)](_0x2747a1,_0x396328);continue;case'4':this['sendAzureInfoToHST']();continue;case'5':const _0x30840b={};_0x30840b[_0x2b950d(0x153)]=WS_EVENTS['LOG'],_0x30840b[_0x2b950d(0x2dc)]=_0x4acb08[_0x2b950d(0x326)],this[_0x2b950d(0x221)][_0x2b950d(0x17b)](this['rws'],_0x30840b);continue;}break;}}async[a1_0x2c6f9f(0x1b0)](_0x15c529=null,_0x3aa183=null){const _0x1f884c=a1_0x2c6f9f,_0x44eaf5={};_0x44eaf5[_0x1f884c(0x222)]=_0x1f884c(0x319),_0x44eaf5[_0x1f884c(0x296)]=_0x1f884c(0x1d9),_0x44eaf5['EcoCt']=_0x1f884c(0x2bf),_0x44eaf5[_0x1f884c(0x18f)]=_0x1f884c(0x2ba),_0x44eaf5[_0x1f884c(0x235)]=_0x1f884c(0x321),_0x44eaf5[_0x1f884c(0x2e6)]='false',_0x44eaf5[_0x1f884c(0x1f8)]=function(_0x4c25d2,_0xd25626){return _0x4c25d2!==_0xd25626;},_0x44eaf5[_0x1f884c(0x329)]=function(_0x50d868,_0x967db6){return _0x50d868!==_0x967db6;},_0x44eaf5[_0x1f884c(0x342)]=function(_0x258b0e,_0x31905a){return _0x258b0e===_0x31905a;},_0x44eaf5[_0x1f884c(0x268)]='RxbxG',_0x44eaf5['PRyke']=_0x1f884c(0x191),_0x44eaf5['HYQYm']=_0x1f884c(0x24e),_0x44eaf5['gclXj']=_0x1f884c(0x1d0),_0x44eaf5[_0x1f884c(0x1a3)]=_0x1f884c(0x1f3),_0x44eaf5[_0x1f884c(0x2f5)]=_0x1f884c(0x347),_0x44eaf5[_0x1f884c(0x22b)]=_0x1f884c(0x189),_0x44eaf5['XCwEY']=_0x1f884c(0x349);const _0x3d6ec7=_0x44eaf5;let _0x5ceec7=await fs['readFileAsync'](path['join'](__dirname,'..',_0x3d6ec7['rHRIi'],_0x3d6ec7['OTdDV'],_0x3d6ec7[_0x1f884c(0x32f)]),_0x3d6ec7[_0x1f884c(0x18f)]);_0x5ceec7=JSON[_0x1f884c(0x1e7)](_0x5ceec7);const _0x3ce605={};_0x3ce605['value']=this[_0x1f884c(0x15f)];const _0x40db60={};_0x40db60[_0x1f884c(0x1ea)]=global_registry[_0x1f884c(0x30b)];const _0x1bd50b={};_0x1bd50b[_0x1f884c(0x1ea)]=global_registry[_0x1f884c(0x280)];const _0x344f4a={};_0x344f4a['value']=global_registry[_0x1f884c(0x320)];const _0x28a6fb={};_0x28a6fb[_0x1f884c(0x1ea)]=global_registry['clusterAutoUpgrade']?_0x3d6ec7[_0x1f884c(0x235)]:_0x3d6ec7[_0x1f884c(0x2e6)];const _0x1cac8b={};_0x1cac8b[_0x1f884c(0x15f)]=_0x3ce605,_0x1cac8b[_0x1f884c(0x345)]=_0x40db60,_0x1cac8b['userInstanceType']=_0x1bd50b,_0x1cac8b[_0x1f884c(0x328)]=_0x344f4a,_0x1cac8b['clusterAutoUpgrade']=_0x28a6fb;let _0x423dbc=_0x1cac8b;if(_0x3d6ec7[_0x1f884c(0x1f8)](_0x15c529,null)&&_0x3d6ec7[_0x1f884c(0x329)](_0x3aa183,null)){if(_0x3d6ec7[_0x1f884c(0x342)](_0x3d6ec7[_0x1f884c(0x268)],_0x3d6ec7[_0x1f884c(0x262)]))return _0x360094[_0x1f884c(0x305)]=_0x327114['error'],_0x1c3821;else{const _0x3d7def={};_0x3d7def[_0x1f884c(0x153)]=_0x3d6ec7['HYQYm'],_0x3d7def[_0x1f884c(0x2de)]={},_0x3d7def[_0x1f884c(0x2de)]['description']=_0x3d6ec7['gclXj'];const _0x3d70f6={};_0x3d70f6[_0x1f884c(0x153)]=_0x3d6ec7['HYQYm'],_0x3d70f6[_0x1f884c(0x2de)]={},_0x3d70f6[_0x1f884c(0x2de)][_0x1f884c(0x2cd)]=_0x3d6ec7[_0x1f884c(0x2ce)],_0x5ceec7[_0x1f884c(0x2c5)]={..._0x5ceec7[_0x1f884c(0x2c5)],'vpcName':_0x3d7def,'subnetName':_0x3d70f6};const _0x509848={};_0x509848[_0x1f884c(0x1b5)]=_0x3d6ec7[_0x1f884c(0x1a3)],_0x5ceec7['variables']=_0x509848,_0x5ceec7[_0x1f884c(0x205)][0x0][_0x1f884c(0x261)][_0x1f884c(0x333)][0x0]={..._0x5ceec7[_0x1f884c(0x205)][0x0][_0x1f884c(0x261)][_0x1f884c(0x333)][0x0],'vnetSubnetID':_0x3d6ec7[_0x1f884c(0x2f5)]};const _0x4c8437={};_0x4c8437[_0x1f884c(0x1ea)]=_0x15c529;const _0x5da7ff={};_0x5da7ff[_0x1f884c(0x1ea)]=_0x3aa183[0x0],_0x423dbc={..._0x423dbc,'vpcName':_0x4c8437,'subnetName':_0x5da7ff};}}await this[_0x1f884c(0x245)][_0x1f884c(0x247)]['beginCreateOrUpdateAndWait'](global_registry[_0x1f884c(0x2f9)],_0x3d6ec7[_0x1f884c(0x22b)],{'properties':{'template':_0x5ceec7,'mode':_0x3d6ec7[_0x1f884c(0x332)],'parameters':_0x423dbc}});}async[a1_0x2c6f9f(0x2b8)](){const _0x4e3793=a1_0x2c6f9f,_0x5b782f={};_0x5b782f[_0x4e3793(0x16f)]=_0x4e3793(0x25e),_0x5b782f['VfpLP']=function(_0x3848d2,_0xed1a9b){return _0x3848d2+_0xed1a9b;},_0x5b782f[_0x4e3793(0x194)]=function(_0x191325,_0x557a99){return _0x191325===_0x557a99;},_0x5b782f[_0x4e3793(0x297)]=_0x4e3793(0x264),_0x5b782f[_0x4e3793(0x2cb)]='TCxvp',_0x5b782f[_0x4e3793(0x202)]=_0x4e3793(0x21e),_0x5b782f['KkNSh']=function(_0xfa6bc,_0x3dd8a8){return _0xfa6bc!==_0x3dd8a8;},_0x5b782f[_0x4e3793(0x256)]=_0x4e3793(0x2f4),_0x5b782f[_0x4e3793(0x22c)]=_0x4e3793(0x183),_0x5b782f[_0x4e3793(0x251)]=_0x4e3793(0x1b8),_0x5b782f['CDfJF']=function(_0x61d178,_0x1fde8e){return _0x61d178===_0x1fde8e;},_0x5b782f['InjJc']='gzeFN',_0x5b782f[_0x4e3793(0x217)]='Creating\x20Azure\x20managed\x20identity',_0x5b782f[_0x4e3793(0x19c)]=_0x4e3793(0x2c9),_0x5b782f[_0x4e3793(0x20b)]=_0x4e3793(0x2db),_0x5b782f[_0x4e3793(0x18c)]='Managed\x20identity\x20already\x20exists,\x20skipping',_0x5b782f[_0x4e3793(0x190)]=_0x4e3793(0x187),_0x5b782f[_0x4e3793(0x304)]=_0x4e3793(0x241);const _0x4d5584=_0x5b782f,_0x4c71fe=await this[_0x4e3793(0x273)]();if(!_0x4c71fe){if(_0x4d5584[_0x4e3793(0x194)](_0x4d5584[_0x4e3793(0x297)],_0x4d5584[_0x4e3793(0x2cb)])){const _0x58355c=new _0x3f2bb5(_0x30f8d3[_0x4e3793(0x285)],_0x5a6323[_0x4e3793(0x2d7)],_0x5982bf[_0x4e3793(0x2a2)]);this['containerClient']=new _0x2e5154(_0x58355c,_0x41b7c1['cloudProviderSubscriptionId']),this[_0x4e3793(0x17a)]=new _0x53b016(_0x58355c,_0x37d348[_0x4e3793(0x2b9)]),this['resourceClient']=new _0x5c7949(_0x58355c,_0x59f255[_0x4e3793(0x2b9)]),this[_0x4e3793(0x2da)]=new _0x5ab1d8(_0x58355c,_0x28509e[_0x4e3793(0x2b9)]),this[_0x4e3793(0x1e5)]=new _0xb1624f(_0x58355c,_0x4b9974['cloudProviderSubscriptionId']),this['cred']=_0x58355c;}else{const _0x3c57fc={};_0x3c57fc[_0x4e3793(0x153)]=WS_EVENTS[_0x4e3793(0x334)],_0x3c57fc[_0x4e3793(0x2dc)]=_0x4d5584[_0x4e3793(0x202)],this[_0x4e3793(0x221)][_0x4e3793(0x17b)](this['rws'],_0x3c57fc),logger[_0x4e3793(0x2df)](_0x4d5584['iiHIQ']),await this[_0x4e3793(0x269)]();}}else{if(_0x4d5584[_0x4e3793(0x279)](_0x4d5584['WGEbm'],_0x4d5584[_0x4e3793(0x22c)]))logger[_0x4e3793(0x2df)](_0x4d5584[_0x4e3793(0x251)]);else return _0x371672[_0x4e3793(0x2ed)]=_0x4d5584[_0x4e3793(0x16f)],_0x29f120;}const _0x17e4e9=await this[_0x4e3793(0x161)]();if(!_0x17e4e9){if(_0x4d5584['CDfJF'](_0x4d5584[_0x4e3793(0x163)],_0x4d5584[_0x4e3793(0x163)])){const _0x50c5b0={};_0x50c5b0['type']=WS_EVENTS[_0x4e3793(0x334)],_0x50c5b0['message']=_0x4d5584[_0x4e3793(0x217)],this['webSocketUtils']['sendEventToBackend'](this['rws'],_0x50c5b0),logger[_0x4e3793(0x2df)](_0x4d5584['SkbUo']),await this[_0x4e3793(0x2e0)]();}else _0x3a47fb[_0x4e3793(0x29a)]('['+_0x4d5584['VfpLP'](_0x5e0f16,0x1)+']\x20'+_0x413773[_0x7ce02b]);}else _0x4d5584['KkNSh'](_0x4d5584[_0x4e3793(0x19c)],_0x4d5584[_0x4e3793(0x20b)])?logger[_0x4e3793(0x2df)](_0x4d5584[_0x4e3793(0x18c)]):_0x352e33=_0xd5647c['id'];logger[_0x4e3793(0x2df)](_0x4d5584[_0x4e3793(0x190)]),await this[_0x4e3793(0x1ce)](),logger[_0x4e3793(0x2df)](_0x4d5584[_0x4e3793(0x304)]);}async['createStorageAccount'](){const _0x52cd7a=a1_0x2c6f9f,_0xd09772={};_0xd09772[_0x52cd7a(0x2bc)]='templates',_0xd09772[_0x52cd7a(0x2b2)]=_0x52cd7a(0x1d9),_0xd09772[_0x52cd7a(0x1ab)]=_0x52cd7a(0x2ca),_0xd09772['uWMXC']='utf-8',_0xd09772[_0x52cd7a(0x1fb)]=_0x52cd7a(0x1f6),_0xd09772[_0x52cd7a(0x19b)]='Incremental',_0xd09772[_0x52cd7a(0x1d4)]=_0x52cd7a(0x252),_0xd09772[_0x52cd7a(0x2f6)]=_0x52cd7a(0x23b),_0xd09772[_0x52cd7a(0x244)]=_0x52cd7a(0x313),_0xd09772['zlyPz']='default';const _0x35072b=_0xd09772;let _0x37fc5c=await fs[_0x52cd7a(0x1a0)](path[_0x52cd7a(0x27c)](__dirname,'..',_0x35072b[_0x52cd7a(0x2bc)],_0x35072b[_0x52cd7a(0x2b2)],_0x35072b['cROLf']),_0x35072b['uWMXC']);_0x37fc5c=JSON[_0x52cd7a(0x1e7)](_0x37fc5c);const _0xb754ce=this[_0x52cd7a(0x24d)](),_0x44874f={};_0x44874f[_0x52cd7a(0x1ea)]=_0xb754ce;const _0x515997={};_0x515997[_0x52cd7a(0x1e6)]=_0x44874f,await this[_0x52cd7a(0x245)]['deployments'][_0x52cd7a(0x2a7)](global_registry['cloudProviderResourceGroup'],_0x35072b[_0x52cd7a(0x1fb)],{'properties':{'template':_0x37fc5c,'mode':_0x35072b[_0x52cd7a(0x19b)],'parameters':_0x515997}});const _0x3d6fec={};_0x3d6fec[_0x52cd7a(0x1bd)]=0x3c;const _0x2a6b0d={};_0x2a6b0d[_0x52cd7a(0x1c3)]=_0x3d6fec;const _0x38275d={};_0x38275d['baseBlob']=_0x2a6b0d;const _0xe270b4={};_0xe270b4[_0x52cd7a(0x312)]=!![],_0xe270b4[_0x52cd7a(0x1df)]=_0x35072b['dcCRa'],_0xe270b4['type']=_0x35072b[_0x52cd7a(0x2f6)],_0xe270b4[_0x52cd7a(0x19a)]={},_0xe270b4[_0x52cd7a(0x19a)][_0x52cd7a(0x1bb)]=_0x38275d,_0xe270b4[_0x52cd7a(0x19a)][_0x52cd7a(0x288)]={},_0xe270b4[_0x52cd7a(0x19a)][_0x52cd7a(0x288)][_0x52cd7a(0x2e7)]=[_0x35072b[_0x52cd7a(0x244)]];const _0x56858a={};_0x56858a[_0x52cd7a(0x278)]=[_0xe270b4];const _0xcaeba0={};_0xcaeba0[_0x52cd7a(0x198)]=_0x56858a;const _0x42b17a=_0xcaeba0;await this['storageClient']['managementPolicies'][_0x52cd7a(0x2fb)](global_registry[_0x52cd7a(0x2f9)],_0xb754ce,_0x35072b[_0x52cd7a(0x1b4)],_0x42b17a);}async[a1_0x2c6f9f(0x2e0)](){const _0x493fc1=a1_0x2c6f9f,_0x1f8b20={};_0x1f8b20[_0x493fc1(0x33d)]=_0x493fc1(0x319),_0x1f8b20['IezoY']=_0x493fc1(0x1d9),_0x1f8b20[_0x493fc1(0x302)]='managedidentity.json',_0x1f8b20['NLwzH']=_0x493fc1(0x2ba),_0x1f8b20[_0x493fc1(0x26d)]=_0x493fc1(0x2a4),_0x1f8b20[_0x493fc1(0x2f1)]='Incremental';const _0x476e9b=_0x1f8b20;let _0x315bb2=await fs[_0x493fc1(0x1a0)](path[_0x493fc1(0x27c)](__dirname,'..',_0x476e9b[_0x493fc1(0x33d)],_0x476e9b[_0x493fc1(0x185)],_0x476e9b[_0x493fc1(0x302)]),_0x476e9b['NLwzH']);_0x315bb2=JSON[_0x493fc1(0x1e7)](_0x315bb2),await this[_0x493fc1(0x245)]['deployments'][_0x493fc1(0x2a7)](global_registry[_0x493fc1(0x2f9)],_0x476e9b['SpWvh'],{'properties':{'template':_0x315bb2,'mode':_0x476e9b[_0x493fc1(0x2f1)],'parameters':{'clusterName':{'value':this[_0x493fc1(0x15f)]}}}});}async[a1_0x2c6f9f(0x1ce)](){const _0x520e7d=a1_0x2c6f9f,_0x4b7834={};_0x4b7834[_0x520e7d(0x2a8)]=function(_0x148a89,_0x1c84c9){return _0x148a89!==_0x1c84c9;},_0x4b7834[_0x520e7d(0x18d)]=_0x520e7d(0x229),_0x4b7834['YBpwm']='rDVXA',_0x4b7834[_0x520e7d(0x214)]=_0x520e7d(0x325),_0x4b7834[_0x520e7d(0x15d)]=_0x520e7d(0x1d1),_0x4b7834[_0x520e7d(0x348)]=function(_0x4b1add,_0xec1a93){return _0x4b1add===_0xec1a93;},_0x4b7834[_0x520e7d(0x18e)]=_0x520e7d(0x231),_0x4b7834[_0x520e7d(0x17d)]=_0x520e7d(0x167),_0x4b7834[_0x520e7d(0x257)]=_0x520e7d(0x319),_0x4b7834[_0x520e7d(0x1e1)]='azureresources',_0x4b7834[_0x520e7d(0x210)]=_0x520e7d(0x2ba),_0x4b7834[_0x520e7d(0x23c)]=_0x520e7d(0x29c),_0x4b7834['idRyG']='Incremental';const _0x2bdf72=_0x4b7834;!this[_0x520e7d(0x31b)]&&(_0x2bdf72[_0x520e7d(0x2a8)](_0x2bdf72[_0x520e7d(0x18d)],_0x2bdf72['YBpwm'])?await this[_0x520e7d(0x281)]():_0x38aed5['push'](_0x3061ee));const _0x52a95a=this['clusterInfo']?.[_0x520e7d(0x1ac)]?.['issuerURL'],_0x56884a=[_0x2bdf72[_0x520e7d(0x214)],_0x2bdf72['fUYWI']];for await(const _0x57a20f of _0x56884a){if(_0x2bdf72['COssC'](_0x2bdf72[_0x520e7d(0x18e)],_0x2bdf72[_0x520e7d(0x17d)]))return _0x572ea0[_0x520e7d(0x305)]('Cannot\x20find\x20subnets\x20'+_0x58fd9b+'.\x20Error:\x20'+_0x494597),[![],[]];else{let _0x2df78c=await fs[_0x520e7d(0x1a0)](path[_0x520e7d(0x27c)](__dirname,'..',_0x2bdf72[_0x520e7d(0x257)],_0x2bdf72[_0x520e7d(0x1e1)],_0x520e7d(0x155)+_0x57a20f+'.json'),_0x2bdf72[_0x520e7d(0x210)]);_0x2df78c=JSON[_0x520e7d(0x1e7)](_0x2df78c);const _0xd3e7d0={};_0xd3e7d0[_0x520e7d(0x1ea)]=_0x52a95a,await this[_0x520e7d(0x245)][_0x520e7d(0x247)][_0x520e7d(0x2a7)](global_registry[_0x520e7d(0x2f9)],_0x2bdf72['fbbPh'],{'properties':{'template':_0x2df78c,'mode':_0x2bdf72[_0x520e7d(0x201)],'parameters':{'oidcIssuer':_0xd3e7d0,'gridName':{'value':this[_0x520e7d(0x16d)]},'clusterName':{'value':this['clusterName']}}}});}}}async[a1_0x2c6f9f(0x204)](_0x13c9e0,_0x3628e4,_0x209191,_0x23105b,_0x5b260c){const _0x48445e=a1_0x2c6f9f,_0x2bdeaf={};_0x2bdeaf[_0x48445e(0x242)]=_0x48445e(0x29e),_0x2bdeaf[_0x48445e(0x1b6)]=_0x48445e(0x216);const _0x70a5f3=_0x2bdeaf,_0x12f807={};_0x12f807[_0x48445e(0x153)]=WS_EVENTS[_0x48445e(0x334)],_0x12f807[_0x48445e(0x2dc)]=_0x70a5f3[_0x48445e(0x242)],this[_0x48445e(0x221)][_0x48445e(0x17b)](this['rws'],_0x12f807),logger[_0x48445e(0x2df)](_0x70a5f3[_0x48445e(0x242)]),await this[_0x48445e(0x2a5)]();const _0x442d51={};_0x442d51['type']=WS_EVENTS[_0x48445e(0x334)],_0x442d51[_0x48445e(0x2dc)]=_0x70a5f3[_0x48445e(0x1b6)],this[_0x48445e(0x221)][_0x48445e(0x17b)](this[_0x48445e(0x200)],_0x442d51);}async[a1_0x2c6f9f(0x2a5)](){const _0x55ea63=a1_0x2c6f9f,_0xd8053c={};_0xd8053c[_0x55ea63(0x340)]=_0x55ea63(0x2cc),_0xd8053c[_0x55ea63(0x19d)]=function(_0x18df13,_0x2dd5f2){return _0x18df13===_0x2dd5f2;},_0xd8053c[_0x55ea63(0x2e8)]=_0x55ea63(0x1dd),_0xd8053c[_0x55ea63(0x1d2)]=_0x55ea63(0x254),_0xd8053c[_0x55ea63(0x1fc)]=_0x55ea63(0x319),_0xd8053c['DNree']=_0x55ea63(0x18b),_0xd8053c[_0x55ea63(0x1fa)]=_0x55ea63(0x15c),_0xd8053c[_0x55ea63(0x1a2)]=_0x55ea63(0x2ba),_0xd8053c[_0x55ea63(0x211)]='turboscale-federated-deployment',_0xd8053c[_0x55ea63(0x166)]='Incremental';const _0x39f871=_0xd8053c;!this[_0x55ea63(0x31b)]&&(_0x39f871[_0x55ea63(0x19d)](_0x39f871[_0x55ea63(0x2e8)],_0x39f871['ccysi'])?(_0x1500d9[_0x55ea63(0x305)](_0x39f871[_0x55ea63(0x340)]),_0x583c09[_0x55ea63(0x16a)](0x1)):await this[_0x55ea63(0x281)]());const _0x5b592d=this['clusterInfo']?.[_0x55ea63(0x1ac)]?.['issuerURL'];let _0x20df89=await fs[_0x55ea63(0x1a0)](path[_0x55ea63(0x27c)](__dirname,'..',_0x39f871[_0x55ea63(0x1fc)],_0x39f871['DNree'],_0x39f871['lxkaZ']),_0x39f871[_0x55ea63(0x1a2)]);_0x20df89=JSON[_0x55ea63(0x1e7)](_0x20df89);const _0x5cc9b7={};_0x5cc9b7['value']=_0x5b592d,await this['resourceClient']['deployments']['beginCreateOrUpdateAndWait'](global_registry[_0x55ea63(0x2f9)],_0x39f871[_0x55ea63(0x211)],{'properties':{'template':_0x20df89,'mode':_0x39f871[_0x55ea63(0x166)],'parameters':{'oidcIssuer':_0x5cc9b7,'namespace':{'value':global_registry['hubHaNameSpace']},'clusterName':{'value':this['clusterName']}}}});}async[a1_0x2c6f9f(0x273)](){const _0x22ae50=a1_0x2c6f9f,_0x2f8599={'OBzWH':function(_0x5393e6,_0x5a0069,_0x3da605){return _0x5393e6(_0x5a0069,_0x3da605);},'zCOlR':_0x22ae50(0x16b),'FZNCk':function(_0xa99c5,_0x14e52f){return _0xa99c5!==_0x14e52f;},'mkWtt':_0x22ae50(0x2d2),'iRNam':_0x22ae50(0x1d8),'ubNjn':'KCMvz','sKQBy':function(_0x5ab43d,_0x38651d){return _0x5ab43d===_0x38651d;},'OSaqo':'PnFCq','zVQXD':'OrbjE'},_0x307e9c=this[_0x22ae50(0x24d)](),_0xda696e=new Array();for await(const _0x48d023 of this[_0x22ae50(0x17a)][_0x22ae50(0x224)][_0x22ae50(0x2b3)](global_registry[_0x22ae50(0x2f9)])){_0x2f8599[_0x22ae50(0x292)](_0x2f8599['mkWtt'],_0x2f8599['mkWtt'])?_0x2f8599[_0x22ae50(0x27e)](_0x1c30bb,()=>_0x484d98(),0x3e8):_0xda696e[_0x22ae50(0x2bb)](_0x48d023);}for await(const _0x3059ca of _0xda696e){if(_0x2f8599['FZNCk'](_0x2f8599['iRNam'],_0x2f8599[_0x22ae50(0x290)])){if(_0x2f8599[_0x22ae50(0x21d)](_0x3059ca[_0x22ae50(0x1df)],_0x307e9c)){if(_0x2f8599['sKQBy'](_0x2f8599[_0x22ae50(0x31a)],_0x2f8599['zVQXD'])){const _0x3110e7={};_0x3110e7[_0x22ae50(0x266)]=!![],_0x3110e7[_0x22ae50(0x305)]=null,_0x3110e7[_0x22ae50(0x2ed)]=_0x2f8599[_0x22ae50(0x26a)];const _0x238948=_0x3110e7;return _0x238948;}else return!![];}}else _0x4deedb[_0x22ae50(0x2bb)](_0x5a6e9b);}return![];}async['isManagedIdentityPresent'](){const _0x2b2e4f=a1_0x2c6f9f,_0x298c1c={};_0x298c1c[_0x2b2e4f(0x341)]='No\x20service\x20principal\x20found',_0x298c1c[_0x2b2e4f(0x203)]=_0x2b2e4f(0x263),_0x298c1c[_0x2b2e4f(0x32d)]=function(_0xd8f67,_0x50d24c){return _0xd8f67===_0x50d24c;},_0x298c1c[_0x2b2e4f(0x18a)]=_0x2b2e4f(0x2fd),_0x298c1c[_0x2b2e4f(0x31d)]=_0x2b2e4f(0x2dd),_0x298c1c[_0x2b2e4f(0x28a)]=function(_0x5e3d4b,_0x423c16){return _0x5e3d4b!==_0x423c16;},_0x298c1c[_0x2b2e4f(0x239)]='RWoul',_0x298c1c['juCyn']=function(_0xcfbe2c,_0xd1e60c){return _0xcfbe2c===_0xd1e60c;},_0x298c1c[_0x2b2e4f(0x22d)]=_0x2b2e4f(0x228);const _0x1ce9c0=_0x298c1c,_0x566063=new Array();for await(const _0x4c8bdf of this[_0x2b2e4f(0x245)][_0x2b2e4f(0x205)]['listByResourceGroup'](global_registry[_0x2b2e4f(0x2f9)])){_0x1ce9c0[_0x2b2e4f(0x32d)](_0x1ce9c0['Szbus'],_0x1ce9c0['lDMgQ'])?_0xf1f5e0[_0x2b2e4f(0x2bb)](_0x266dab):_0x566063[_0x2b2e4f(0x2bb)](_0x4c8bdf);}for await(const _0x570e86 of _0x566063){if(_0x1ce9c0[_0x2b2e4f(0x28a)](_0x1ce9c0['HuApC'],_0x1ce9c0['HuApC']))throw new _0x46fe44(_0x1ce9c0[_0x2b2e4f(0x341)],_0x2b2e4f(0x271)+_0x261d50[_0x2b2e4f(0x2bd)](_0x5290af));else{if(_0x1ce9c0[_0x2b2e4f(0x30f)](_0x570e86[_0x2b2e4f(0x1df)],'turboscale-managed-identity-'+this[_0x2b2e4f(0x15f)])){if(_0x1ce9c0[_0x2b2e4f(0x28a)](_0x1ce9c0[_0x2b2e4f(0x22d)],_0x1ce9c0[_0x2b2e4f(0x22d)])){const _0x4b433b=_0x1ce9c0['fAiaG'][_0x2b2e4f(0x255)]('|');let _0x49da47=0x0;while(!![]){switch(_0x4b433b[_0x49da47++]){case'0':_0x5c6b27[_0x2b2e4f(0x2a2)]=_0x2b80c1[this['cloudProviderName']][_0x2b2e4f(0x192)];continue;case'1':_0x1df5a7['cloudProviderTenantId']=_0x10fe88[this[_0x2b2e4f(0x250)]]['tenantId'];continue;case'2':_0x37c14e[_0x2b2e4f(0x2d7)]=_0x5e21e6[this['cloudProviderName']][_0x2b2e4f(0x27f)];continue;case'3':_0xe0c44[_0x2b2e4f(0x2f9)]=_0x286d17[this['cloudProviderName']][_0x2b2e4f(0x1f0)];continue;case'4':_0x5b6356[_0x2b2e4f(0x2b9)]=_0x41f019[this[_0x2b2e4f(0x250)]][_0x2b2e4f(0x1ae)];continue;case'5':this[_0x2b2e4f(0x1cb)]();continue;}break;}}else return!![];}}}return![];}async[a1_0x2c6f9f(0x151)](_0x3abcfb,_0x55bb9f=0x3){const _0x1bdcd6=a1_0x2c6f9f,_0x4abdb8={'rpmgm':function(_0x2fbfce,_0x32e9c5){return _0x2fbfce===_0x32e9c5;},'jTKNv':function(_0x19f07b,_0x50f6ae){return _0x19f07b!==_0x50f6ae;},'uQjOS':'EukJN','TtFPe':_0x1bdcd6(0x1f2),'yHCXc':function(_0x32240a,_0xb22b36,_0x1dfef1){return _0x32240a(_0xb22b36,_0x1dfef1);},'kRUHD':function(_0x465801,_0x49ff5f){return _0x465801!==_0x49ff5f;},'ZETEc':_0x1bdcd6(0x28d),'TeagJ':function(_0x5f3fe6,_0x56f710){return _0x5f3fe6===_0x56f710;},'qWYHW':_0x1bdcd6(0x1eb),'ofRtk':_0x1bdcd6(0x299),'mjDhr':_0x1bdcd6(0x156),'cNicz':function(_0x3f00c7,_0x38a1a6){return _0x3f00c7===_0x38a1a6;},'UXLim':function(_0x3c8ad0,_0x4df5c1){return _0x3c8ad0!==_0x4df5c1;},'viOHr':'SudRp','caNBb':_0x1bdcd6(0x1be),'lsCTv':function(_0x5bd2d6,_0x4c45f5){return _0x5bd2d6===_0x4c45f5;},'fNVjV':'czEbF','wJYNy':function(_0x3afe3a,_0x1a3a63){return _0x3afe3a<=_0x1a3a63;},'FPkuX':function(_0x134179,_0x2c16de){return _0x134179!==_0x2c16de;},'dZXoP':_0x1bdcd6(0x310),'fSJDX':function(_0x3ad751,_0x18ee95){return _0x3ad751-_0x18ee95;}};try{if(_0x4abdb8[_0x1bdcd6(0x2d5)](_0x4abdb8[_0x1bdcd6(0x331)],_0x4abdb8[_0x1bdcd6(0x331)]))return!![];else{const _0x1125b8=new Array();for await(const _0x4202fc of this[_0x1bdcd6(0x245)]['resources'][_0x1bdcd6(0x2b3)](global_registry['cloudProviderResourceGroup'])){if(_0x4abdb8[_0x1bdcd6(0x33c)](_0x4abdb8[_0x1bdcd6(0x230)],_0x4abdb8[_0x1bdcd6(0x230)]))_0x1125b8[_0x1bdcd6(0x2bb)](_0x4202fc);else return _0x4c0757['status']['loadBalancer'][_0x1bdcd6(0x286)][0x0][_0x1bdcd6(0x32c)];}let _0x1a80b5='';for await(const _0x3aea7d of _0x1125b8){if(_0x4abdb8[_0x1bdcd6(0x33c)](_0x4abdb8['ofRtk'],_0x4abdb8[_0x1bdcd6(0x260)])){if(_0x4abdb8['rpmgm'](_0xcbef1f[_0x1bdcd6(0x1df)],_0x351bd5))return!![];}else _0x4abdb8[_0x1bdcd6(0x178)](_0x3aea7d[_0x1bdcd6(0x1df)],_0x3abcfb)&&(_0x4abdb8[_0x1bdcd6(0x277)](_0x4abdb8[_0x1bdcd6(0x179)],_0x4abdb8['viOHr'])?_0x1374d5[_0x1bdcd6(0x305)]=_0x4ff94d:_0x1a80b5=_0x3aea7d['id']);}const _0x1732c4=await this['resourceClient'][_0x1bdcd6(0x205)][_0x1bdcd6(0x199)](_0x1a80b5,_0x4abdb8['caNBb']);return _0x1732c4['properties']['clientId'];}}catch(_0x4690a2){if(_0x4abdb8[_0x1bdcd6(0x31f)](_0x4abdb8[_0x1bdcd6(0x344)],_0x4abdb8[_0x1bdcd6(0x344)])){if(_0x4abdb8[_0x1bdcd6(0x207)](_0x55bb9f,0x0)){if(_0x4abdb8['FPkuX'](_0x4abdb8[_0x1bdcd6(0x33b)],_0x4abdb8[_0x1bdcd6(0x33b)]))_0x1cf267[_0x1bdcd6(0x266)]=![];else return logger[_0x1bdcd6(0x305)]('[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20'+_0x4690a2+':'+_0x4690a2[_0x1bdcd6(0x2fa)]),{};}return await new Promise(_0x73bdbd=>{const _0x23eddd=_0x1bdcd6;_0x4abdb8[_0x23eddd(0x1a4)](_0x4abdb8[_0x23eddd(0x2a3)],_0x4abdb8[_0x23eddd(0x33f)])?_0x4abdb8['yHCXc'](setTimeout,()=>_0x73bdbd(),0x3e8):_0x837404[_0x23eddd(0x2bb)](_0x329a7b);}),this[_0x1bdcd6(0x151)](_0x3abcfb,_0x4abdb8[_0x1bdcd6(0x15b)](_0x55bb9f,0x1));}else return!![];}}async[a1_0x2c6f9f(0x1d5)](){const _0x5a72ec=a1_0x2c6f9f,_0x2903da={};_0x2903da[_0x5a72ec(0x2d3)]=_0x5a72ec(0x1b8),_0x2903da[_0x5a72ec(0x170)]=function(_0x1a6111,_0x2cba1f){return _0x1a6111===_0x2cba1f;},_0x2903da['fhRjx']=_0x5a72ec(0x233),_0x2903da[_0x5a72ec(0x22f)]=_0x5a72ec(0x164),_0x2903da[_0x5a72ec(0x29b)]=function(_0x347d11,_0x59f1c8){return _0x347d11===_0x59f1c8;},_0x2903da['uxYvR']=_0x5a72ec(0x1e0),_0x2903da[_0x5a72ec(0x346)]=_0x5a72ec(0x176),_0x2903da[_0x5a72ec(0x25d)]=function(_0x4bf6db,_0xb91b5){return _0x4bf6db===_0xb91b5;},_0x2903da['vwCTo']='huivL',_0x2903da[_0x5a72ec(0x2ef)]=_0x5a72ec(0x171);const _0x2c2101=_0x2903da;!this[_0x5a72ec(0x31b)]&&(_0x2c2101['WJyan'](_0x2c2101[_0x5a72ec(0x209)],_0x2c2101[_0x5a72ec(0x22f)])?_0x4b6521[_0x5a72ec(0x2df)](_0x2c2101[_0x5a72ec(0x2d3)]):await this[_0x5a72ec(0x281)]());const _0x2185f9=this[_0x5a72ec(0x31b)]?.[_0x5a72ec(0x23f)]||{};if(_0x2185f9&&_0x2c2101[_0x5a72ec(0x29b)](_0x2185f9[_0x2c2101[_0x5a72ec(0x33e)]],_0x2c2101[_0x5a72ec(0x346)])){if(_0x2c2101[_0x5a72ec(0x25d)](_0x2c2101[_0x5a72ec(0x267)],_0x2c2101['EAyCL']))return;else return!![];}return![];}async[a1_0x2c6f9f(0x270)](_0x230bdf,_0x43550c){const _0x405632=a1_0x2c6f9f,_0x916794={'pURth':function(_0x462b47,_0x1339ea){return _0x462b47(_0x1339ea);},'pKCzk':function(_0x523ea6,_0x1474c2){return _0x523ea6(_0x1474c2);},'avxwW':_0x405632(0x1ef)};await _0x916794['pURth'](deleteAgent,_0x230bdf),await _0x916794['pKCzk'](deleteRoutingDeps,_0x230bdf);const _0x4f3f08=this[_0x405632(0x215)];logger['info']('Deleting\x20the\x20cluster\x20'+this[_0x405632(0x15f)]),await _0x4f3f08[_0x405632(0x2ec)]['beginDeleteAndWait'](global_registry[_0x405632(0x2f9)],this[_0x405632(0x15f)]),logger['info'](_0x916794[_0x405632(0x29f)]);}async[a1_0x2c6f9f(0x249)](){const _0x536d90=a1_0x2c6f9f,_0x2d1889={};_0x2d1889[_0x536d90(0x1fd)]=function(_0x1bf148,_0x3d2416){return _0x1bf148===_0x3d2416;},_0x2d1889[_0x536d90(0x293)]=function(_0x2fd0ef,_0x3d78e4){return _0x2fd0ef===_0x3d78e4;},_0x2d1889[_0x536d90(0x1c8)]=function(_0x7b7a4f,_0x37a73e){return _0x7b7a4f!==_0x37a73e;},_0x2d1889[_0x536d90(0x1ba)]='Bdctk',_0x2d1889[_0x536d90(0x20f)]=_0x536d90(0x30c),_0x2d1889[_0x536d90(0x2b6)]=function(_0x537ec5,_0x2fc2aa){return _0x537ec5&&_0x2fc2aa;},_0x2d1889[_0x536d90(0x253)]=function(_0x174862,_0x4db0a4){return _0x174862===_0x4db0a4;},_0x2d1889['LYfXz']='aVlaB',_0x2d1889['ivXiT']=_0x536d90(0x1a6),_0x2d1889[_0x536d90(0x25f)]=function(_0x20bc34,_0xd12a58){return _0x20bc34!==_0xd12a58;},_0x2d1889[_0x536d90(0x1e4)]='DmRFW',_0x2d1889['RKroT']=_0x536d90(0x1db),_0x2d1889['qtNbu']=_0x536d90(0x338),_0x2d1889[_0x536d90(0x2a6)]=_0x536d90(0x29d),_0x2d1889['RDnuc']=_0x536d90(0x24c),_0x2d1889[_0x536d90(0x317)]=_0x536d90(0x212),_0x2d1889['bkEfM']=_0x536d90(0x2f0),_0x2d1889[_0x536d90(0x193)]=_0x536d90(0x30e),_0x2d1889[_0x536d90(0x17e)]='Enabling\x20Local\x20account\x20for\x20the\x20cluster';const _0x2a23da=_0x2d1889;if(!this[_0x536d90(0x31b)]){if(_0x2a23da[_0x536d90(0x1c8)](_0x2a23da['VYiKn'],_0x2a23da[_0x536d90(0x20f)]))await this[_0x536d90(0x281)]();else return!![];}const _0x474eee=this[_0x536d90(0x31b)],_0x21bb77=this[_0x536d90(0x31b)]?.[_0x536d90(0x1ac)]?.[_0x536d90(0x312)]||![],_0x133a3c=this[_0x536d90(0x31b)]?.[_0x536d90(0x182)]?.[_0x536d90(0x24a)]?.[_0x536d90(0x312)]||![],_0x1d8eae=!this['clusterInfo']?.['disableLocalAccounts']||![];if(_0x2a23da[_0x536d90(0x2b6)](_0x21bb77,_0x133a3c)&&_0x1d8eae){if(_0x2a23da[_0x536d90(0x253)](_0x2a23da['LYfXz'],_0x2a23da[_0x536d90(0x152)]))_0x5bc399[_0x536d90(0x16a)](0x0);else return;}if(!_0x21bb77){if(_0x2a23da[_0x536d90(0x25f)](_0x2a23da['nuTNF'],_0x2a23da[_0x536d90(0x1c1)])){logger[_0x536d90(0x2df)](_0x2a23da[_0x536d90(0x2c6)]);const _0x278b7e={};_0x278b7e['type']=WS_EVENTS[_0x536d90(0x1aa)],_0x278b7e[_0x536d90(0x2dc)]=_0x2a23da[_0x536d90(0x2c6)],this[_0x536d90(0x221)]['sendEventToBackend'](this['rws'],_0x278b7e),_0x474eee[_0x536d90(0x1ac)][_0x536d90(0x312)]=!![];}else{if(_0x2a23da[_0x536d90(0x1fd)](_0x2bb98a['name'],_0x536d90(0x219)+this['clusterName']))return!![];}}if(!_0x133a3c){if(_0x2a23da[_0x536d90(0x293)](_0x2a23da[_0x536d90(0x2a6)],_0x2a23da['RDnuc'])){if(_0x2a23da[_0x536d90(0x293)](_0x52a285[_0x536d90(0x1df)],_0x375667))return!![];}else{logger['info'](_0x2a23da['KaegA']);const _0x264f33={};_0x264f33[_0x536d90(0x153)]=WS_EVENTS['RESOURCES'],_0x264f33[_0x536d90(0x2dc)]=_0x2a23da['KaegA'],this[_0x536d90(0x221)][_0x536d90(0x17b)](this['rws'],_0x264f33);const _0xefe01e={};_0xefe01e[_0x536d90(0x312)]=!![],_0x474eee[_0x536d90(0x182)]={'workloadIdentity':_0xefe01e,..._0x474eee[_0x536d90(0x182)]};}}if(!_0x1d8eae){if(_0x2a23da[_0x536d90(0x1c8)](_0x2a23da['bkEfM'],_0x2a23da['EzlyC'])){logger[_0x536d90(0x2df)](_0x2a23da[_0x536d90(0x17e)]);const _0xe5a2df={};_0xe5a2df[_0x536d90(0x153)]=WS_EVENTS['RESOURCES'],_0xe5a2df['message']=_0x2a23da[_0x536d90(0x17e)],this[_0x536d90(0x221)]['sendEventToBackend'](this[_0x536d90(0x200)],_0xe5a2df),_0x474eee[_0x536d90(0x1ed)]=![];}else return _0x2c2124[_0x536d90(0x305)]('Cannot\x20find\x20VPC\x20'+_0x4a51d8+_0x536d90(0x240)+_0x3e1a4f),![];}await this[_0x536d90(0x215)][_0x536d90(0x2ec)][_0x536d90(0x2a7)](global_registry[_0x536d90(0x2f9)],this[_0x536d90(0x15f)],_0x474eee),await this[_0x536d90(0x281)]();}async[a1_0x2c6f9f(0x275)](){const _0x10178f=a1_0x2c6f9f,_0x544110={};_0x544110[_0x10178f(0x234)]='Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.',_0x544110[_0x10178f(0x2c2)]=function(_0x51432a,_0x1e2f6e){return _0x51432a===_0x1e2f6e;},_0x544110['WLxZz']=_0x10178f(0x301),_0x544110[_0x10178f(0x282)]=_0x10178f(0x1bc);const _0x1ee2bc=_0x544110,_0x42ec64=await this[_0x10178f(0x2da)][_0x10178f(0x1c4)][_0x10178f(0x23d)](global_registry[_0x10178f(0x2f9)]),_0x235968={};_0x235968[_0x10178f(0x1e3)]=global_registry[_0x10178f(0x172)],_0x235968['accessKey']=global_registry[_0x10178f(0x1d3)],_0x235968['cloudProvider']=AZURE,_0x235968[_0x10178f(0x157)]=[];const _0x42091e=_0x235968;for await(const _0x1d073f of _0x42ec64){_0x1ee2bc[_0x10178f(0x2c2)](_0x1ee2bc[_0x10178f(0x2a0)],_0x1ee2bc[_0x10178f(0x282)])?(_0x4de3da[_0x10178f(0x305)](_0x1ee2bc['krCBs']),_0x27f474['exit'](0x1)):_0x42091e['vpcInfo'][_0x10178f(0x2bb)](_0x1d073f);}const _0x21808b={};_0x21808b['type']=WS_EVENTS[_0x10178f(0x1aa)],_0x21808b[_0x10178f(0x2dc)]=_0x42091e,this['webSocketUtils']['sendEventToBackend'](this[_0x10178f(0x200)],_0x21808b);}async[a1_0x2c6f9f(0x2f3)](_0x53ee5f){const _0x232531=a1_0x2c6f9f,_0x4a5d66={};_0x4a5d66[_0x232531(0x2c8)]='allowed',_0x4a5d66[_0x232531(0x2aa)]='denied',_0x4a5d66['CMLoL']=_0x232531(0x212),_0x4a5d66[_0x232531(0x27b)]=function(_0x380816,_0x927a34){return _0x380816===_0x927a34;},_0x4a5d66[_0x232531(0x21b)]=_0x232531(0x243),_0x4a5d66[_0x232531(0x225)]=_0x232531(0x28f),_0x4a5d66[_0x232531(0x1cd)]=_0x232531(0x2ea),_0x4a5d66[_0x232531(0x1f5)]=function(_0x21ab3a,_0x517fb2){return _0x21ab3a===_0x517fb2;},_0x4a5d66[_0x232531(0x2c4)]=function(_0x4a8785,_0x14834d){return _0x4a8785!==_0x14834d;},_0x4a5d66[_0x232531(0x315)]=_0x232531(0x2ee),_0x4a5d66[_0x232531(0x26f)]=function(_0x39c84d,_0x1e8c1f){return _0x39c84d!==_0x1e8c1f;},_0x4a5d66[_0x232531(0x1fe)]=_0x232531(0x218);const _0x74988b=_0x4a5d66;try{if(_0x74988b[_0x232531(0x27b)](_0x74988b[_0x232531(0x21b)],_0x74988b[_0x232531(0x21b)])){const _0x1d6c24=await this[_0x232531(0x2da)][_0x232531(0x1c4)]['listAll'](global_registry[_0x232531(0x2f9)]);for await(const _0x31f424 of _0x1d6c24){if(_0x74988b['LkyAQ'](_0x74988b[_0x232531(0x225)],_0x74988b[_0x232531(0x1cd)]))_0x4894be['push'](..._0x26aca6[_0x232531(0x1bb)]);else{if(_0x74988b[_0x232531(0x1f5)](_0x31f424[_0x232531(0x1df)],_0x53ee5f)){if(_0x74988b[_0x232531(0x2c4)](_0x74988b[_0x232531(0x315)],_0x74988b['sxQiT'])){const _0x30f3bb=_0x1e059c['includes'](_0x56d470);_0x1740d3+='\x0a\x09'+_0x4636a4+':\x20'+(_0x30f3bb?_0x74988b[_0x232531(0x2c8)]:_0x74988b[_0x232531(0x2aa)]),!_0x30f3bb&&(_0x5ab17b['status']=![]);}else return!![];}}}}else{_0x24305f[_0x232531(0x2df)](_0x74988b[_0x232531(0x17c)]);const _0x43b68f={};_0x43b68f['type']=_0x847967[_0x232531(0x1aa)],_0x43b68f[_0x232531(0x2dc)]=_0x74988b[_0x232531(0x17c)],this[_0x232531(0x221)][_0x232531(0x17b)](this['rws'],_0x43b68f);const _0x19e0fc={};_0x19e0fc[_0x232531(0x312)]=!![];const _0x2654f0={'workloadIdentity':_0x19e0fc,..._0x11b77e['securityProfile']};_0x4098b3[_0x232531(0x182)]=_0x2654f0;}}catch(_0x7851d6){if(_0x74988b[_0x232531(0x26f)](_0x74988b['IjFmC'],_0x74988b[_0x232531(0x1fe)]))_0x621eaf[_0x232531(0x157)][_0x232531(0x2bb)](_0x40fac8);else return logger[_0x232531(0x305)]('Cannot\x20find\x20VPC\x20'+_0x53ee5f+_0x232531(0x240)+_0x7851d6),![];}return![];}async[a1_0x2c6f9f(0x272)](_0x38eeb3,_0x3b4c05){const _0x558af5=a1_0x2c6f9f,_0x4e4ffc={};_0x4e4ffc['Yvesz']=function(_0x949fa1,_0x52ecbc){return _0x949fa1+_0x52ecbc;},_0x4e4ffc[_0x558af5(0x24b)]=_0x558af5(0x2eb),_0x4e4ffc[_0x558af5(0x2e3)]=function(_0x32b291,_0x2fb010){return _0x32b291-_0x2fb010;},_0x4e4ffc[_0x558af5(0x2d4)]=function(_0xde2666,_0x2d880b){return _0xde2666!==_0x2d880b;},_0x4e4ffc[_0x558af5(0x2b0)]=_0x558af5(0x2ab),_0x4e4ffc[_0x558af5(0x2f2)]=function(_0x1cda1b,_0x4beb46){return _0x1cda1b===_0x4beb46;},_0x4e4ffc[_0x558af5(0x316)]=_0x558af5(0x311);const _0x1c997e=_0x4e4ffc;try{if(_0x1c997e[_0x558af5(0x2d4)](_0x1c997e[_0x558af5(0x2b0)],_0x1c997e[_0x558af5(0x2b0)])){const _0x278c2d=_0x2a14f6[_0x558af5(0x21c)][_0x558af5(0x255)]('-'),_0x1d5cbe=_0x1c997e[_0x558af5(0x169)](_0x1c997e[_0x558af5(0x24b)],_0x278c2d[_0x1c997e[_0x558af5(0x2e3)](_0x278c2d[_0x558af5(0x1de)],0x1)])[_0x558af5(0x25b)](0x0,0x18);return _0x1d5cbe[_0x558af5(0x32e)]();}else{const _0x2d4d80=await this['networkClient']['subnets'][_0x558af5(0x1a8)](global_registry[_0x558af5(0x2f9)],_0x3b4c05,_0x38eeb3[0x0]);if(_0x1c997e['pjnOd'](_0x38eeb3[0x0],_0x2d4d80[_0x558af5(0x1df)])){if(_0x1c997e[_0x558af5(0x2f2)](_0x1c997e['hEEIH'],_0x1c997e['hEEIH']))return[!![],_0x38eeb3];else _0x3a27e5[_0x558af5(0x2bb)](_0x5c1a5a[_0x558af5(0x1df)]);}}}catch(_0x818513){return logger[_0x558af5(0x305)]('Cannot\x20find\x20subnets\x20'+_0x38eeb3+'.\x20Error:\x20'+_0x818513),[![],[]];}return[![],[]];}async[a1_0x2c6f9f(0x289)](){const _0x3f3997=a1_0x2c6f9f,_0x2bcf2b={};_0x2bcf2b[_0x3f3997(0x1ad)]=_0x3f3997(0x16b);const _0x272071=_0x2bcf2b,_0x4d3e3e={};_0x4d3e3e[_0x3f3997(0x266)]=!![],_0x4d3e3e[_0x3f3997(0x305)]=null,_0x4d3e3e[_0x3f3997(0x2ed)]=_0x272071[_0x3f3997(0x1ad)];const _0x4c36b2=_0x4d3e3e;return _0x4c36b2;}async['getHeader'](){const _0x2092b1=a1_0x2c6f9f,_0xb79995={};_0xb79995[_0x2092b1(0x309)]=_0x2092b1(0x1a9),_0xb79995[_0x2092b1(0x246)]=_0x2092b1(0x19e),_0xb79995['nOQyN']=_0x2092b1(0x336);const _0x2868c7=_0xb79995,_0x138e3a=await this[_0x2092b1(0x2b7)][_0x2092b1(0x2e2)](_0x2868c7[_0x2092b1(0x309)]),_0x32cd92={};_0x32cd92[_0x2092b1(0x1b7)]=_0x2868c7[_0x2092b1(0x246)],_0x32cd92[_0x2092b1(0x1c2)]={},_0x32cd92[_0x2092b1(0x1c2)][_0x2092b1(0x307)]=_0x2092b1(0x2fc)+_0x138e3a[_0x2092b1(0x173)],_0x32cd92[_0x2092b1(0x1c2)]['Content-Type']=_0x2868c7['nOQyN'];const _0xf24b2f=_0x32cd92;return _0xf24b2f;}async[a1_0x2c6f9f(0x248)](_0x54ee5){const _0x2fe2b2=a1_0x2c6f9f,_0x123263={'ARAKX':function(_0xf26dfc,_0x49b86b,_0x16a7bc){return _0xf26dfc(_0x49b86b,_0x16a7bc);},'jzCsJ':function(_0x5cecba,_0x187cc5){return _0x5cecba===_0x187cc5;},'IbgOb':_0x2fe2b2(0x2f7)},_0x238094={};_0x238094[_0x2fe2b2(0x22e)]='',_0x238094['error']=null;const _0x18c17d=_0x238094;try{const _0x117da7=_0x2fe2b2(0x30d)+_0x54ee5+'\x27',_0x1fe221=await this[_0x2fe2b2(0x181)](),_0x38652d=await _0x123263[_0x2fe2b2(0x227)](fetch,_0x117da7,_0x1fe221),_0x426695=await _0x38652d[_0x2fe2b2(0x20a)]();if(!_0x426695[_0x2fe2b2(0x1ea)]||_0x123263[_0x2fe2b2(0x26b)](_0x426695[_0x2fe2b2(0x1ea)][_0x2fe2b2(0x1de)],0x0))throw new Error(_0x123263[_0x2fe2b2(0x1af)],_0x2fe2b2(0x271)+JSON[_0x2fe2b2(0x2bd)](_0x426695));_0x18c17d[_0x2fe2b2(0x22e)]=_0x426695[_0x2fe2b2(0x1ea)][0x0]['id'];}catch(_0x104dd5){_0x18c17d[_0x2fe2b2(0x305)]=_0x104dd5;}return _0x18c17d;}async[a1_0x2c6f9f(0x1b3)](){const _0x101b5b=a1_0x2c6f9f,_0x29b970={};_0x29b970[_0x101b5b(0x1e2)]=_0x101b5b(0x23e),_0x29b970[_0x101b5b(0x1e9)]=_0x101b5b(0x2d6),_0x29b970[_0x101b5b(0x32b)]=function(_0x1e2f46,_0x5b1f08){return _0x1e2f46!==_0x5b1f08;},_0x29b970['VWfCi']=function(_0x4ca23c,_0x50d1ac){return _0x4ca23c===_0x50d1ac;},_0x29b970['tvmIj']=_0x101b5b(0x25e),_0x29b970['xcVWr']=_0x101b5b(0x197),_0x29b970[_0x101b5b(0x2f8)]=function(_0x16fdf3,_0x5749d3){return _0x16fdf3===_0x5749d3;},_0x29b970[_0x101b5b(0x258)]=function(_0x2ac172,_0x581373){return _0x2ac172===_0x581373;},_0x29b970[_0x101b5b(0x1ff)]=_0x101b5b(0x196);const _0x189bb3=_0x29b970,_0x3eff06={};_0x3eff06[_0x101b5b(0x266)]=![],_0x3eff06[_0x101b5b(0x305)]=null,_0x3eff06[_0x101b5b(0x2ed)]='';const _0x47e18b=_0x3eff06;try{let _0x3a14cc='';const _0xca312c=_0x101b5b(0x259)+global_registry[_0x101b5b(0x2b9)]+'/resourceGroups/'+global_registry['cloudProviderResourceGroup'],_0x16426b=await this['getPrincipalIdFromClientId'](global_registry[_0x101b5b(0x2d7)]);if(_0x189bb3[_0x101b5b(0x32b)](_0x16426b[_0x101b5b(0x305)],null))return _0x47e18b[_0x101b5b(0x305)]=_0x16426b[_0x101b5b(0x305)],_0x47e18b;const _0x592aeb=_0x101b5b(0x237)+_0x16426b[_0x101b5b(0x22e)]+'\x27)',_0x456476={};_0x456476[_0x101b5b(0x19f)]=_0x592aeb;const _0x12e3fd=await this[_0x101b5b(0x1e5)][_0x101b5b(0x25a)][_0x101b5b(0x1f1)](_0xca312c,_0x456476),_0x540f58=[];for await(const _0x1f1e85 of _0x12e3fd){_0x540f58[_0x101b5b(0x2bb)](_0x1f1e85);}if(_0x189bb3[_0x101b5b(0x26c)](_0x540f58[_0x101b5b(0x1de)],0x0))return _0x47e18b['data']=_0x189bb3['tvmIj'],_0x47e18b;const _0x3ad52c=[...new Set(_0x540f58[_0x101b5b(0x2be)](_0x4212a9=>_0x4212a9[_0x101b5b(0x184)]))];if(_0x189bb3[_0x101b5b(0x26c)](_0x3ad52c[_0x101b5b(0x1de)],0x0))return _0x47e18b['data']=_0x189bb3[_0x101b5b(0x2d9)],_0x47e18b;const _0x113c53=[],_0x4a8055=[];for(const _0x43cc5e of _0x3ad52c){const _0x4f5c7b=await this[_0x101b5b(0x1e5)][_0x101b5b(0x236)]['getById'](_0x43cc5e);logger[_0x101b5b(0x2cf)](_0x101b5b(0x16e)+_0x4f5c7b[_0x101b5b(0x32a)]),_0x113c53['push'](_0x4f5c7b),logger[_0x101b5b(0x2cf)](_0x101b5b(0x322)+JSON[_0x101b5b(0x2bd)](_0x4f5c7b[_0x101b5b(0x20d)])),_0x4f5c7b[_0x101b5b(0x20d)]['forEach'](_0x289616=>{const _0x220436=_0x101b5b;_0x4a8055[_0x220436(0x2bb)](..._0x289616['actions']);});}logger[_0x101b5b(0x2cf)]('actionPermission\x20:\x20'+JSON[_0x101b5b(0x2bd)](_0x4a8055)),_0x189bb3['bpnbE'](_0x4a8055[_0x101b5b(0x1de)],0x0)&&(_0x3a14cc+=_0x189bb3[_0x101b5b(0x258)](_0x4a8055[_0x101b5b(0x1de)],0x0)?_0x189bb3[_0x101b5b(0x1ff)]:'',logger[_0x101b5b(0x2cf)](_0x101b5b(0x25c)+JSON[_0x101b5b(0x2bd)](_0x113c53))),_0x47e18b[_0x101b5b(0x266)]=!![],Object[_0x101b5b(0x33a)](PERMISSIONS[_0x101b5b(0x1c5)])[_0x101b5b(0x2c1)](([_0x9e5dbf,_0x378f42])=>{const _0x41e787=_0x101b5b,_0x47db23=_0x4a8055[_0x41e787(0x265)](_0x9e5dbf);_0x3a14cc+='\x0a\x09'+_0x378f42+':\x20'+(_0x47db23?_0x189bb3[_0x41e787(0x1e2)]:_0x189bb3[_0x41e787(0x1e9)]),!_0x47db23&&(_0x47e18b[_0x41e787(0x266)]=![]);}),_0x47e18b[_0x101b5b(0x2ed)]=_0x3a14cc;}catch(_0x49254b){_0x47e18b['error']=_0x49254b;}return _0x47e18b;}}const a1_0x203dc5={};function a1_0x5195(_0x4e0122,_0x2fa549){const _0x53f004=a1_0x53f0();return a1_0x5195=function(_0x5195d1,_0x5d2c9f){_0x5195d1=_0x5195d1-0x150;let _0x12dc10=_0x53f004[_0x5195d1];return _0x12dc10;},a1_0x5195(_0x4e0122,_0x2fa549);}a1_0x203dc5[a1_0x2c6f9f(0x2e4)]=AzureCloudProvider,module[a1_0x2c6f9f(0x23a)]=a1_0x203dc5;