function a1_0x4b69(){const _0x10070f=['unqey','ovpRs','tyBRR','uGqPR','filters','workloadIdentity','error','checkAccess','hwimc','JVALi','node','XOUDS','BbqhS','filter','14wUkgRy','true','message','Bearer\x20','WOcPA','vpcInfo','WOJAt','fufwJ','PcXfv','clusterInfo','isVPCPresent','iaLyz','KzCBk','uCBAB','containerClient','getGridHostname','join','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','toString','Incremental','disableLocalAccounts','principalId','xASSg','token','kovNG','assignedTo(\x27','bKwwW','PqOPr','string','LOG','nJtEo','split','HQbnV','cloudProviderClientSecret','agentPoolProfiles','4|5|0|3|2|1','authClient','NRFij','qVIEE','2278840DrtmlE','OoswF','vpcName','turboscale','GpIXT','FlsWB','rnszL','STvYc','updateClusterAlreadyPresent','fcNmh','mdXew','loadBalancer','DPNUh','qTGAj','NigqN','clientId','YOXVJ','OAqFy','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','LHwdW','templates','uUEFv','hubHaNameSpace','FSDwW','../permissions/AZURE.json','eiaCX','No\x20attached\x20role\x20for\x20the\x20client\x20key','IlQUa','IYCuE','debug','clusterName','KiwvB','Yrnhg','TdwNM','cKxwq','Enabling\x20Local\x20account\x20for\x20the\x20cluster','turboscale-identity-deployment','Vctlv','faDLK','sendEventToBackend','toLowerCase','LbUiJ','IvYCh','XIwZB','xdriz','cred','log','aqwhK','JHBkU','MimTw','RMZvN','\x20SUBSCRIPTION\x20ID:\x20','maxNodes','accessKey','nboFB','qVrtz','QtkSE','dacmz','CIPMw','mmxec','\x20CLIENT\x20ID:\x20','zoTPc','IWkBt','clusterAutoUpgrade','JURHX','fMPin','sollM','nLpHS','No\x20CLI\x20tool\x20required','NnHZi','RehvT','HBECL','hHIYA','nvNuk','createStorageAccount','role\x20name\x20attached\x20-\x20','awkzF','../config/logger','afrLR','ingress','subscriptions/','issuerURL','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','NFtoU','MtBEJ','Deleted\x20the\x20cluster\x20successfully','uNpLD','akscluster.json','iYOPC','UllIj','exports','RESOURCES','GqSXR','storageaccount.json','clientSecret','biaTH','forEach','jDvYw','gZDEy','pmmoj','QrXnU','EsFcX','ZZfaN','beginCreateOrUpdateAndWait','UpHrX','definition','turboscale-storageaccount-deployment','LLKNV','uQkHR','zqjji','utf-8','readFileAsync','bMjZU','5|1|4|2|0|3','Thbxy','yFAVo','FUUWP','EgcBw','zCHzg','rdnpa','subnetName','CbBzA','qRwaO','setClients','xOHnL','yTEtE','tUXoF','bBOvw','HqSFe','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','LtYPK','baseBlob','Afvjy','.json','slice','ItsKh','createManagedIdentity','RHvQm','stack','ezjiB','vnetSubnetID','aWLzL','4610586IBoAwg','PxRPY','properties','\x20RESOURCE\x20GROUP:\x20','hostname','WRxzc','rOpvr','rsZMc','pxSMy','managedidentity.json','/resourceGroups/','roleAssignments','xBRgE','push','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','data','No\x20service\x20principal\x20found','dFaPx','hbCpc','actionPermission\x20:\x20','createFederatedAccountForHubHA','jfCzx','sJNfn','pdtxD','resourceClient','turboscale-federated-deployment','jSlOn','.\x20Error:\x20','bSGMU','Attached\x20permissions\x20:\x20','cloudProvider','managedClusters','xFApi','value','QfpsU','rXSIv','listAll','bstackUsername','guEls','bwlRV','variables','GlIyF','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','storageAccountName','getById','arqyy','stringify','espuz','FXvDQ','dXyJq','wyILV','lkkKm','cloudProviderSubscriptionId','Cfwqe','createOrUpdate','metadata','method','init','pxSzk','createFederatedAccount','wYqNd','XHfUm','json','126711fuPqjf','lBMUH','251408RCbDrM','YsxBI','NslJC','TDBSs','SxAUa','@azure/arm-resources','userInstanceType','deleteCluster','delete','fjesM','Wjqls','description','xHnZW','Blob\x20delete\x20lifecycle','azureresources','type','instanceType','networkClient','rlcIj','QInZo','gNVfk','fJBbA','RLTbs','rbzwG','Uyuzw','https://graph.microsoft.com/.default','JZxom','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','@azure/identity','application/json','getStorageAccountName','rws','enabled','2|4|0|5|1|3','../utils/utilityMethods','701745uozEdR','gLxqr','name','ADhxM','DhsEu','hKWeL','oCtoy','parse','oyqls','PZBQW','getClusterInfo','webSocketUtils','AuvER','Weqjo','getPrincipalIdFromClientId','WAiTJ','dsVBF','PWlGm','yQdzT','nQxoS','HqFZw','ALTid','QYeAZ','cloudProviderClientId','dXjLA','wxPVh','WqHtx','@azure/arm-authorization','username','5xsPBhl','Action\x20permission\x20list\x20is\x20empty\x0a','AzureCloudProvider','qWHxR','listByResourceGroup','list','actions','FdVNm','cQvxO','getResourceGroups','HFCyh','dEiDP','aFabp','[variables(\x27vnetSubnetID\x27)]','subnets','jLVrq','OKtiE','UETGm','TmFDI','policy','wkaTp','VEqJd','1|5|3|6|4|0|7|2','GpTku','959672bLMtDJ','Lifecycle','subscriptionId','CJJnb','mCirJ','headers','hzufb','gjxIo','Content-Type','allowed','FacMK','Created\x20Azure\x20federated\x20identity','2023-01-31','BJHAy','setupHubHa','ZjKJv','Cannot\x20find\x20VPC\x20','QrGBR','dApPy','Creating\x20Azure\x20managed\x20identity','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','xAASt','XIMBH','getHeader','RRKOi','resources','RknJL','oqpYv','tnTua','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','Authorization','Creating\x20Azure\x20federated\x20identity','ybeYX','createCluster','bQKoI','ebFog','Storage\x20account\x20already\x20exists,\x20skipping','xrUxY','virtualNetworks','includes','SgRAj','entries','storageAccounts','isManagedIdentityPresent','securityProfile','KFaDP','isWmR','xBRwn','leQJn','iAovw','s3Bucket','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','ZsbNb','fCJsY','blockBlob','KqDsp','oidcIssuerProfile','KaudZ','OJlcX','false','sQzyY','TsuDL','RYizB','Nfpva','FebEq','isClusterPresent','OSLMz','parameters','icFVG','Managed\x20identity\x20already\x20exists,\x20skipping','Creating\x20Azure\x20storage\x20account','SUsKP','iQkSU','NyfEW','ujxfM','getKubeConfigData','federatedidentity','ICEwZ','Found\x20only\x20one\x20resource\x20group:\x20','DVaao','clusterRegion','SnrRL','oaxAP','turboscale-managed-identity-','storageClient','vZNrx','cloudProviderName','FzaEG','map','KQjxi','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','length','mBHbv','exit','hubharesources','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','Yptts','ONTTg','IGYtv','kVJHk','jLPRo','status','Received\x20response\x20-\x20','isBrowserstackCluster','cloudProviderResourceGroup','../utils/gridComponents','xupoP','roleDefinitionId','WqUtm','nzhMG','FkCQv','\x20CLIENT\x20SECRET:\x20','kDVuZ','gWsQG','browserstack:managedBy','flZVC','zZjTq','vueDZ','NhUzz','QmtZU','GBEuj','@azure/arm-storage','resourceGroup','BLZKD','vkEvE','STtTY','xiLzs','SPpgf','@azure/arm-containerservice','turboscale-cluster-deployment','KmjFF','cloudProviderTenantId','AYSkU','resourceGroups','info','oyETf','QMKvb','gridName','permissions','azoeb','JoZBU','153392bnSiXC','daysAfterCreationGreaterThan','sImrW','OCykd','fmcur','federatedidentityuploader.json','QYRos','tenantId','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','getResourceClientId','sendAzureInfoToHST','denied','Cannot\x20find\x20subnets\x20'];a1_0x4b69=function(){return _0x10070f;};return a1_0x4b69();}const a1_0x136a18=a1_0x2035;(function(_0x299b78,_0x458116){const _0x4169eb=a1_0x2035,_0x5ae155=_0x299b78();while(!![]){try{const _0x379093=parseInt(_0x4169eb(0x295))/0x1+parseInt(_0x4169eb(0x12c))/0x2+-parseInt(_0x4169eb(0x260))/0x3+-parseInt(_0x4169eb(0x23d))/0x4+parseInt(_0x4169eb(0x27d))/0x5*(-parseInt(_0x4169eb(0x1fc))/0x6)+-parseInt(_0x4169eb(0x147))/0x7*(-parseInt(_0x4169eb(0x16e))/0x8)+parseInt(_0x4169eb(0x23b))/0x9;if(_0x379093===_0x458116)break;else _0x5ae155['push'](_0x5ae155['shift']());}catch(_0x220c63){_0x5ae155['push'](_0x5ae155['shift']());}}}(a1_0x4b69,0x877cf));const fs=require('fs'),path=require('path'),yaml=require('js-yaml'),{logger}=require(a1_0x136a18(0x1bb)),{CloudProvider}=require('./CloudProvider'),{deleteRoutingDeps,deleteAgent}=require(a1_0x136a18(0x108)),{AZURE,WS_EVENTS,global_registry}=require('../config/constants'),PERMISSIONS=require(a1_0x136a18(0x186)),{ClientSecretCredential}=require(a1_0x136a18(0x259)),{NetworkManagementClient}=require('@azure/arm-network'),{StorageManagementClient}=require(a1_0x136a18(0x118)),{AuthorizationManagementClient}=require(a1_0x136a18(0x27b)),{ResourceManagementClient}=require(a1_0x136a18(0x242)),{ContainerServiceClient}=require(a1_0x136a18(0x11f)),{runCommand}=require(a1_0x136a18(0x25f));class AzureCloudProvider extends CloudProvider{constructor(_0x2f0d54,_0xde64a0,_0x355ea3,_0xce15fd){const _0x5265a5=a1_0x136a18,_0x4ce40a={};_0x4ce40a['guEls']=_0x5265a5(0x293);const _0x13d329=_0x4ce40a,_0x16213f=_0x13d329[_0x5265a5(0x222)][_0x5265a5(0x166)]('|');let _0x206e06=0x0;while(!![]){switch(_0x16213f[_0x206e06++]){case'0':this['resourceClient']=null;continue;case'1':super(AZURE,_0x2f0d54,_0xde64a0,_0x355ea3,_0xce15fd);continue;case'2':this[_0x5265a5(0x16b)]=null;continue;case'3':this[_0x5265a5(0x150)]=null;continue;case'4':this[_0x5265a5(0xf3)]=null;continue;case'5':this[_0x5265a5(0x19b)]=null;continue;case'6':this[_0x5265a5(0x155)]=null;continue;case'7':this[_0x5265a5(0x24e)]=null;continue;}break;}}async[a1_0x136a18(0x235)](){const _0x5413ff=a1_0x136a18;return await super[_0x5413ff(0x235)](),this;}[a1_0x136a18(0x1e9)](){const _0x2b8292=a1_0x136a18,_0x4767b7=new ClientSecretCredential(global_registry[_0x2b8292(0x122)],global_registry[_0x2b8292(0x277)],global_registry[_0x2b8292(0x168)]);this[_0x2b8292(0x155)]=new ContainerServiceClient(_0x4767b7,global_registry[_0x2b8292(0x230)]),this[_0x2b8292(0xf3)]=new StorageManagementClient(_0x4767b7,global_registry['cloudProviderSubscriptionId']),this[_0x2b8292(0x214)]=new ResourceManagementClient(_0x4767b7,global_registry['cloudProviderSubscriptionId']),this[_0x2b8292(0x24e)]=new NetworkManagementClient(_0x4767b7,global_registry['cloudProviderSubscriptionId']),this[_0x2b8292(0x16b)]=new AuthorizationManagementClient(_0x4767b7,global_registry['cloudProviderSubscriptionId']),this[_0x2b8292(0x19b)]=_0x4767b7;}[a1_0x136a18(0x25b)](){const _0x1aa34e=a1_0x136a18,_0x1c2c54={};_0x1c2c54[_0x1aa34e(0xe1)]=function(_0x3443b9,_0x2e5ca2){return _0x3443b9+_0x2e5ca2;},_0x1c2c54['woJme']='turboscale',_0x1c2c54[_0x1aa34e(0x100)]=function(_0x25e6d6,_0x4d752a){return _0x25e6d6-_0x4d752a;};const _0x431dc0=_0x1c2c54,_0xf5aa5=global_registry['s3Bucket'][_0x1aa34e(0x166)]('-'),_0x1ef627=_0x431dc0[_0x1aa34e(0xe1)](_0x431dc0['woJme'],_0xf5aa5[_0x431dc0[_0x1aa34e(0x100)](_0xf5aa5[_0x1aa34e(0xfa)],0x1)])[_0x1aa34e(0x1f4)](0x0,0x18);return _0x1ef627[_0x1aa34e(0x196)]();}['setCachedCredsInRegistry'](_0x28285c){const _0x443721=a1_0x136a18,_0x28c41b={};_0x28c41b[_0x443721(0x1ae)]=_0x443721(0x16a);const _0x48dca0=_0x28c41b,_0x40734f=_0x48dca0['JURHX']['split']('|');let _0x281db7=0x0;while(!![]){switch(_0x40734f[_0x281db7++]){case'0':global_registry[_0x443721(0x122)]=_0x28285c[this[_0x443721(0xf5)]][_0x443721(0x133)];continue;case'1':this[_0x443721(0x1e9)]();continue;case'2':global_registry[_0x443721(0x107)]=_0x28285c[this[_0x443721(0xf5)]][_0x443721(0x119)];continue;case'3':global_registry[_0x443721(0x230)]=_0x28285c[this['cloudProviderName']][_0x443721(0x297)];continue;case'4':global_registry[_0x443721(0x277)]=_0x28285c[this[_0x443721(0xf5)]]['clientId'];continue;case'5':global_registry[_0x443721(0x168)]=_0x28285c[this[_0x443721(0xf5)]][_0x443721(0x1cc)];continue;}break;}}async['getUserInput'](_0x1e9cdb,_0xe55a63){const _0x301af6=a1_0x136a18,_0x20016e={'jDvYw':function(_0x5f4c88,_0x112b4f){return _0x5f4c88===_0x112b4f;},'pdtxD':'No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','clvbA':_0x301af6(0x191),'vueDZ':function(_0x34e0af,_0x16007c){return _0x34e0af(_0x16007c);},'unqey':function(_0x16aacc,_0x29c520){return _0x16aacc(_0x29c520);},'zZjTq':function(_0x1ec96d,_0x4a3231){return _0x1ec96d(_0x4a3231);},'aFabp':function(_0x2d366b,_0x162bfe){return _0x2d366b===_0x162bfe;},'hwimc':function(_0x25ddc7,_0xddeba7){return _0x25ddc7===_0xddeba7;},'SPpgf':_0x301af6(0x23c),'sQzyY':function(_0x1a1be8,_0x4ea16d){return _0x1a1be8(_0x4ea16d);},'uUEFv':_0x301af6(0x1fb),'LbUiJ':function(_0x377add,_0x1faf60){return _0x377add===_0x1faf60;},'isWmR':function(_0x4ff62a,_0x3e9424){return _0x4ff62a===_0x3e9424;},'WqUtm':_0x301af6(0x123),'IYCuE':_0x301af6(0x1e0),'FXvDQ':_0x301af6(0x1c0),'fjesM':function(_0x1d5d49,_0x52a4a3){return _0x1d5d49===_0x52a4a3;},'PwmBz':function(_0x285cfa,_0x527308){return _0x285cfa===_0x527308;},'NRFij':_0x301af6(0x204),'wyILV':_0x301af6(0x2ab),'bQKoI':'cyxwy','dFaPx':function(_0x1c353b,_0xda9c2d){return _0x1c353b<_0xda9c2d;},'zCHzg':function(_0x4a2d7b,_0x3609dc){return _0x4a2d7b!==_0x3609dc;},'iQkSU':'sNYQA','rCttj':_0x301af6(0x291),'rnszL':function(_0x576b2d,_0x3a6ae0){return _0x576b2d+_0x3a6ae0;},'YBLrY':_0x301af6(0xfe),'VtVKy':function(_0x17c7a6,_0x2afc8d){return _0x17c7a6<=_0x2afc8d;},'ZiYUX':function(_0x22411d,_0x51c1a9){return _0x22411d>_0x51c1a9;},'UllIj':function(_0x328467,_0x1b1afd){return _0x328467!==_0x1b1afd;},'yFAVo':_0x301af6(0xdf),'dnybi':_0x301af6(0x201),'yfRer':function(_0x359abd,_0x348416){return _0x359abd-_0x348416;}},_0x5a8dab=this[_0x301af6(0xf5)]['toUpperCase'](),_0x37cb84=await _0x20016e[_0x301af6(0x114)](_0x1e9cdb,_0x5a8dab+_0x301af6(0x1aa)),_0x5f2458=await _0x20016e[_0x301af6(0x139)](_0x1e9cdb,_0x5a8dab+_0x301af6(0x10e)),_0x19eda5=await _0x20016e[_0x301af6(0x114)](_0x1e9cdb,_0x5a8dab+'\x20TENANT\x20ID:\x20'),_0x2cf6e0=await _0x20016e[_0x301af6(0x113)](_0x1e9cdb,_0x5a8dab+_0x301af6(0x1a1));global_registry[_0x301af6(0x277)]=_0x37cb84,global_registry['cloudProviderClientSecret']=_0x5f2458,global_registry[_0x301af6(0x122)]=_0x19eda5,global_registry[_0x301af6(0x230)]=_0x2cf6e0,this[_0x301af6(0x1e9)]();const _0x39947c=await this[_0x301af6(0x286)](),_0x241e86=_0x39947c['length'];let _0x38bfc3;if(_0x20016e['aFabp'](_0x241e86,0x0)){if(_0x20016e[_0x301af6(0x141)](_0x20016e['SPpgf'],_0x20016e[_0x301af6(0x11e)]))_0x38bfc3=await _0x20016e[_0x301af6(0xdb)](_0x1e9cdb,_0x5a8dab+_0x301af6(0x1ff));else{if(_0x20016e[_0x301af6(0x1cf)](_0x3777fa['name'],_0x4a93b7))return!![];}}else{if(_0x20016e[_0x301af6(0x289)](_0x241e86,0x1)){if(_0x20016e[_0x301af6(0x141)](_0x20016e[_0x301af6(0x183)],_0x20016e[_0x301af6(0x183)])){const _0x455207=await _0x20016e[_0x301af6(0x114)](_0x1e9cdb,_0x301af6(0xed)+_0x39947c[0x0]+_0x301af6(0x258));(_0x20016e[_0x301af6(0x141)](_0x455207,undefined)||_0x20016e[_0x301af6(0x197)](_0x455207,null)||!(_0x20016e[_0x301af6(0xcd)](_0x455207[_0x301af6(0x196)](),'y')||_0x20016e[_0x301af6(0x197)](_0x455207[_0x301af6(0x196)](),'n')))&&(_0x20016e[_0x301af6(0xcd)](_0x20016e[_0x301af6(0x10b)],_0x20016e[_0x301af6(0x18a)])?_0x20016e[_0x301af6(0x1cf)](_0xf5b6e[_0x301af6(0x262)],_0xa80415)&&(_0x5a3b2f=_0x3f6eec['id']):(console['error'](_0x20016e[_0x301af6(0x22c)]),process[_0x301af6(0xfc)](0x1)));if(_0x20016e[_0x301af6(0x246)](_0x455207[_0x301af6(0x196)](),'n')){if(_0x20016e['PwmBz'](_0x20016e[_0x301af6(0x16c)],_0x20016e[_0x301af6(0x16c)]))process[_0x301af6(0xfc)](0x0);else return _0x1e3c02[_0x301af6(0x20b)]=_0x20016e[_0x301af6(0x213)],_0x139d72;}_0x38bfc3=_0x39947c[0x0];}else{_0xeb7b0f[_0x301af6(0x125)](_0x20016e['clvbA']);const _0x72e81f={};_0x72e81f[_0x301af6(0x24c)]=_0x5359ae[_0x301af6(0x1c9)],_0x72e81f[_0x301af6(0x149)]=_0x20016e['clvbA'],this['webSocketUtils'][_0x301af6(0x195)](this[_0x301af6(0x25c)],_0x72e81f),_0x470f09[_0x301af6(0x15b)]=![];}}else{if(_0x20016e['hwimc'](_0x20016e[_0x301af6(0x22e)],_0x20016e[_0x301af6(0x2b7)]))_0x5a671f[_0x301af6(0x13f)]=_0x321f78;else{for(let _0x11dde2=0x0;_0x20016e[_0x301af6(0x20d)](_0x11dde2,_0x39947c[_0x301af6(0xfa)]);_0x11dde2+=0x1){_0x20016e[_0x301af6(0x1e4)](_0x20016e[_0x301af6(0xe7)],_0x20016e['rCttj'])?console[_0x301af6(0x19c)]('['+_0x20016e[_0x301af6(0x174)](_0x11dde2,0x1)+']\x20'+_0x39947c[_0x11dde2]):_0x2c305f[_0x301af6(0xfc)](0x0);}const _0x2a6b54=await _0x20016e[_0x301af6(0x113)](_0x1e9cdb,_0x20016e['YBLrY']),_0x19eff9=_0x20016e['sQzyY'](Number,_0x2a6b54);if(_0x20016e[_0x301af6(0xdb)](isNaN,_0x19eff9)||_0x20016e['VtVKy'](_0x19eff9,0x0)||_0x20016e['ZiYUX'](_0x19eff9,_0x241e86)){if(_0x20016e[_0x301af6(0x1c7)](_0x20016e[_0x301af6(0x1e1)],_0x20016e['dnybi']))console[_0x301af6(0x13f)](_0x20016e[_0x301af6(0x22c)]),process[_0x301af6(0xfc)](0x1);else return;}_0x38bfc3=_0x39947c[_0x20016e['yfRer'](_0x19eff9,0x1)];}}}global_registry[_0x301af6(0x107)]=_0x38bfc3;const _0x3079b2={};return _0x3079b2[_0x301af6(0x17d)]=_0x37cb84,_0x3079b2[_0x301af6(0x1cc)]=_0x5f2458,_0x3079b2[_0x301af6(0x133)]=_0x19eda5,_0x3079b2['subscriptionId']=_0x2cf6e0,_0x3079b2[_0x301af6(0x119)]=_0x38bfc3,_0xe55a63[_0x301af6(0x21a)][AZURE]=_0x3079b2,_0xe55a63;}async['getResourceGroups'](){const _0x54aabc=a1_0x136a18,_0x4f6abc={};_0x4f6abc[_0x54aabc(0x167)]=function(_0x7e34ac,_0x395beb){return _0x7e34ac+_0x395beb;},_0x4f6abc[_0x54aabc(0x1ec)]=function(_0x422a83,_0x5032fd){return _0x422a83===_0x5032fd;},_0x4f6abc[_0x54aabc(0x1d1)]=_0x54aabc(0x27e),_0x4f6abc[_0x54aabc(0x16f)]=function(_0x562ba6,_0x521991){return _0x562ba6===_0x521991;},_0x4f6abc[_0x54aabc(0x10f)]=_0x54aabc(0x276),_0x4f6abc[_0x54aabc(0x279)]=_0x54aabc(0x2b0);const _0x6189ee=_0x4f6abc,_0xad3b3=[];try{if(_0x6189ee[_0x54aabc(0x16f)](_0x6189ee[_0x54aabc(0x10f)],_0x6189ee[_0x54aabc(0x10f)])){const _0x1ee9f9=await this[_0x54aabc(0x214)][_0x54aabc(0x124)][_0x54aabc(0x282)]();for await(const _0x25681e of _0x1ee9f9){_0x6189ee[_0x54aabc(0x1ec)](_0x6189ee[_0x54aabc(0x279)],_0x6189ee[_0x54aabc(0x279)])?_0xad3b3[_0x54aabc(0x209)](_0x25681e[_0x54aabc(0x262)]):_0x1c70c8['log']('['+_0x6189ee[_0x54aabc(0x167)](_0x16d1ee,0x1)+']\x20'+_0x44e0d9[_0x31ade4]);}}else _0x235e4+=_0x6189ee[_0x54aabc(0x1ec)](_0x595ece[_0x54aabc(0xfa)],0x0)?_0x6189ee['pmmoj']:'',_0x4e4b1e[_0x54aabc(0x18b)]('Role\x20definition\x20response\x20list\x20\x20:\x20\x20'+_0x576831['stringify'](_0x15953f));}catch(_0x3b9382){}return _0xad3b3;}async[a1_0x136a18(0x26a)](){const _0x50fd7b=a1_0x136a18;return this[_0x50fd7b(0x150)]=await this[_0x50fd7b(0x155)][_0x50fd7b(0x21b)]['get'](global_registry[_0x50fd7b(0x107)],this[_0x50fd7b(0x18c)]),this[_0x50fd7b(0x150)];}async[a1_0x136a18(0xea)](){const _0x3549ae=a1_0x136a18,_0x494aab=await this[_0x3549ae(0x155)]['managedClusters']['listClusterAdminCredentials'](global_registry[_0x3549ae(0x107)],this[_0x3549ae(0x18c)]),_0xe6ec9a=_0x494aab['kubeconfigs'][0x0][_0x3549ae(0x21d)][_0x3549ae(0x159)]();return _0xe6ec9a;}[a1_0x136a18(0x156)](_0x59630d){const _0x27cf98=a1_0x136a18;return _0x59630d['status'][_0x27cf98(0x179)][_0x27cf98(0x1bd)][0x0]['hostname'];}async[a1_0x136a18(0xe0)](){const _0x124079=a1_0x136a18,_0x270469={};_0x270469[_0x124079(0x13c)]=function(_0x17fece,_0x37c087){return _0x17fece===_0x37c087;},_0x270469[_0x124079(0xee)]=_0x124079(0x252),_0x270469['rdnpa']=function(_0x594c7d,_0x2900a4){return _0x594c7d!==_0x2900a4;},_0x270469[_0x124079(0x270)]=_0x124079(0x294),_0x270469[_0x124079(0x266)]=_0x124079(0x198),_0x270469[_0x124079(0xcc)]=function(_0x52caf3,_0x4037f9){return _0x52caf3===_0x4037f9;},_0x270469['EsFcX']=function(_0x3ea3cc,_0x2fa08a){return _0x3ea3cc===_0x2fa08a;},_0x270469[_0x124079(0x1cd)]='cGtEf';const _0x51ea90=_0x270469,_0x1fc12f=new Array();for await(const _0x4ba5a6 of this[_0x124079(0x155)]['managedClusters'][_0x124079(0x281)](global_registry[_0x124079(0x107)])){if(_0x51ea90['uGqPR'](_0x51ea90[_0x124079(0xee)],_0x51ea90[_0x124079(0xee)]))_0x1fc12f[_0x124079(0x209)](_0x4ba5a6);else return _0x502fc1[_0x124079(0x13f)](_0x124079(0x1ef)+_0x3d3c97+':'+_0x12184a['stack']),{};}for await(const _0x996340 of _0x1fc12f){if(_0x51ea90[_0x124079(0x1e5)](_0x51ea90[_0x124079(0x270)],_0x51ea90[_0x124079(0x266)])){if(_0x51ea90[_0x124079(0xcc)](_0x996340[_0x124079(0x262)],this[_0x124079(0x18c)]))return _0x51ea90[_0x124079(0x1d3)](_0x51ea90['biaTH'],_0x51ea90[_0x124079(0x1cd)])?(await this[_0x124079(0x26a)](),!![]):_0x24756a[_0x124079(0x104)][_0x124079(0x179)]['ingress'][0x0][_0x124079(0x200)];}else return!![];}return![];}async['setupNewCluster'](_0x5d24c5=null,_0x1ba4c8=null){const _0x816992=a1_0x136a18,_0x254547={};_0x254547[_0x816992(0x278)]=_0x816992(0x25e),_0x254547[_0x816992(0x193)]=_0x816992(0x20a);const _0x4b3ecc=_0x254547,_0x1d192d=_0x4b3ecc[_0x816992(0x278)]['split']('|');let _0x5a2eca=0x0;while(!![]){switch(_0x1d192d[_0x5a2eca++]){case'0':logger[_0x816992(0x125)](_0x4b3ecc[_0x816992(0x193)]);continue;case'1':await this['createOtherResources']();continue;case'2':this['sendAzureInfoToHST']();continue;case'3':return[_0x5d24c5,_0x1ba4c8];case'4':const _0x2ab35d={};_0x2ab35d[_0x816992(0x24c)]=WS_EVENTS[_0x816992(0x164)],_0x2ab35d['message']=_0x4b3ecc['Vctlv'],this[_0x816992(0x26b)][_0x816992(0x195)](this[_0x816992(0x25c)],_0x2ab35d);continue;case'5':await this['createCluster'](_0x5d24c5,_0x1ba4c8);continue;}break;}}async[a1_0x136a18(0x2b6)](_0x3c50ef=null,_0x4976af=null){const _0x259a5b=a1_0x136a18,_0x5857cc={};_0x5857cc[_0x259a5b(0x172)]='templates',_0x5857cc[_0x259a5b(0x12a)]=_0x259a5b(0x24b),_0x5857cc['PZBQW']=_0x259a5b(0x1c5),_0x5857cc['Dhvmi']='utf-8',_0x5857cc[_0x259a5b(0x109)]=_0x259a5b(0x148),_0x5857cc[_0x259a5b(0x212)]=_0x259a5b(0xda),_0x5857cc['UTqpl']=function(_0x16e000,_0x1444be){return _0x16e000!==_0x1444be;},_0x5857cc[_0x259a5b(0xc7)]=function(_0x3e4fbb,_0x561fd8){return _0x3e4fbb!==_0x561fd8;},_0x5857cc['ZjKJv']=function(_0x22d274,_0xdae08d){return _0x22d274===_0xdae08d;},_0x5857cc['ALTid']='OUOTy',_0x5857cc[_0x259a5b(0x2a6)]=_0x259a5b(0x163),_0x5857cc[_0x259a5b(0x1d2)]=_0x259a5b(0x226),_0x5857cc[_0x259a5b(0x10d)]=_0x259a5b(0xf9),_0x5857cc[_0x259a5b(0x216)]=_0x259a5b(0x28a),_0x5857cc['gjxIo']=_0x259a5b(0x120),_0x5857cc['hWvcM']=_0x259a5b(0x15a);const _0x56370d=_0x5857cc;let _0x271fc1=await fs[_0x259a5b(0x1dd)](path[_0x259a5b(0x157)](__dirname,'..',_0x56370d[_0x259a5b(0x172)],_0x56370d['azoeb'],_0x56370d[_0x259a5b(0x269)]),_0x56370d['Dhvmi']);_0x271fc1=JSON['parse'](_0x271fc1);const _0x4f27a9={};_0x4f27a9['value']=this[_0x259a5b(0x18c)];const _0x4765d6={};_0x4765d6[_0x259a5b(0x21d)]=global_registry[_0x259a5b(0xef)];const _0x515af3={};_0x515af3['value']=global_registry[_0x259a5b(0x24d)];const _0x42d8d0={};_0x42d8d0[_0x259a5b(0x21d)]=global_registry[_0x259a5b(0x1a2)];const _0x4cb3d8={};_0x4cb3d8[_0x259a5b(0x21d)]=global_registry[_0x259a5b(0x1ad)]?_0x56370d[_0x259a5b(0x109)]:_0x56370d[_0x259a5b(0x212)];const _0x2be1d3={};_0x2be1d3[_0x259a5b(0x18c)]=_0x4f27a9,_0x2be1d3['location']=_0x4765d6,_0x2be1d3[_0x259a5b(0x243)]=_0x515af3,_0x2be1d3['userMaxNodes']=_0x42d8d0,_0x2be1d3[_0x259a5b(0x1ad)]=_0x4cb3d8;let _0x476866=_0x2be1d3;if(_0x56370d['UTqpl'](_0x3c50ef,null)&&_0x56370d[_0x259a5b(0xc7)](_0x4976af,null)){if(_0x56370d[_0x259a5b(0x2a4)](_0x56370d[_0x259a5b(0x275)],_0x56370d[_0x259a5b(0x275)])){const _0x2deece={};_0x2deece['type']=_0x56370d[_0x259a5b(0x2a6)],_0x2deece[_0x259a5b(0x233)]={},_0x2deece[_0x259a5b(0x233)][_0x259a5b(0x248)]=_0x56370d[_0x259a5b(0x1d2)];const _0x3ce2ea={};_0x3ce2ea[_0x259a5b(0x24c)]=_0x56370d['QrGBR'],_0x3ce2ea[_0x259a5b(0x233)]={},_0x3ce2ea[_0x259a5b(0x233)][_0x259a5b(0x248)]=_0x56370d['QrXnU'],_0x271fc1[_0x259a5b(0xe2)]={..._0x271fc1[_0x259a5b(0xe2)],'vpcName':_0x2deece,'subnetName':_0x3ce2ea};const _0x350e86={};_0x350e86['vnetSubnetID']=_0x56370d[_0x259a5b(0x10d)],_0x271fc1[_0x259a5b(0x224)]=_0x350e86,_0x271fc1[_0x259a5b(0x2ae)][0x0]['properties'][_0x259a5b(0x169)][0x0]={..._0x271fc1['resources'][0x0]['properties'][_0x259a5b(0x169)][0x0],'vnetSubnetID':_0x56370d[_0x259a5b(0x216)]};const _0x1645f3={};_0x1645f3[_0x259a5b(0x21d)]=_0x3c50ef;const _0x3b8cef={};_0x3b8cef[_0x259a5b(0x21d)]=_0x4976af[0x0],_0x476866={..._0x476866,'vpcName':_0x1645f3,'subnetName':_0x3b8cef};}else _0x5b9306[_0x259a5b(0x104)]=![];}await this['resourceClient']['deployments'][_0x259a5b(0x1d5)](global_registry[_0x259a5b(0x107)],_0x56370d[_0x259a5b(0x29c)],{'properties':{'template':_0x271fc1,'mode':_0x56370d['hWvcM'],'parameters':_0x476866}});}async['createOtherResources'](){const _0x2ea34c=a1_0x136a18,_0x3c4479={};_0x3c4479['rOpvr']='No\x20attached\x20role\x20for\x20the\x20client\x20key',_0x3c4479[_0x2ea34c(0xec)]=_0x2ea34c(0x1b2),_0x3c4479[_0x2ea34c(0x1a9)]=function(_0x2d9f54,_0xcd1eb1){return _0x2d9f54===_0xcd1eb1;},_0x3c4479[_0x2ea34c(0xc4)]='szdXp',_0x3c4479['jFJso']=_0x2ea34c(0x1b7),_0x3c4479[_0x2ea34c(0x250)]=_0x2ea34c(0xe5),_0x3c4479[_0x2ea34c(0x173)]=function(_0x14e0a3,_0x3e0fe3){return _0x14e0a3!==_0x3e0fe3;},_0x3c4479['ysljf']=_0x2ea34c(0x1c1),_0x3c4479[_0x2ea34c(0x162)]=_0x2ea34c(0x1af),_0x3c4479[_0x2ea34c(0x1e3)]=_0x2ea34c(0xc3),_0x3c4479['xOHnL']=function(_0x14ff70,_0x179400){return _0x14ff70!==_0x179400;},_0x3c4479['IGYtv']=_0x2ea34c(0x2aa),_0x3c4479[_0x2ea34c(0x223)]=_0x2ea34c(0xfb),_0x3c4479[_0x2ea34c(0x28c)]=_0x2ea34c(0x2a8),_0x3c4479['FacMK']=function(_0x4bad97,_0x30ac7f){return _0x4bad97===_0x30ac7f;},_0x3c4479[_0x2ea34c(0x247)]='wASHE',_0x3c4479[_0x2ea34c(0xcf)]=_0x2ea34c(0x1a8),_0x3c4479['rbzwG']='Managed\x20identity\x20already\x20exists,\x20skipping',_0x3c4479['oyETf']=_0x2ea34c(0x2b4),_0x3c4479[_0x2ea34c(0x12e)]=_0x2ea34c(0x2a0);const _0x4722a7=_0x3c4479,_0x1d5f4d=await this['isStorageAccountPresent']();if(!_0x1d5f4d){if(_0x4722a7[_0x2ea34c(0x1a9)](_0x4722a7[_0x2ea34c(0xc4)],_0x4722a7['jFJso']))_0x299f8d=_0x1c2331['id'];else{const _0x41b8f2={};_0x41b8f2[_0x2ea34c(0x24c)]=WS_EVENTS['LOG'],_0x41b8f2[_0x2ea34c(0x149)]=_0x4722a7[_0x2ea34c(0x250)],this[_0x2ea34c(0x26b)][_0x2ea34c(0x195)](this[_0x2ea34c(0x25c)],_0x41b8f2),logger[_0x2ea34c(0x125)](_0x4722a7[_0x2ea34c(0x250)]),await this[_0x2ea34c(0x1b8)]();}}else{if(_0x4722a7['FlsWB'](_0x4722a7['ysljf'],_0x4722a7[_0x2ea34c(0x162)]))logger[_0x2ea34c(0x125)](_0x4722a7[_0x2ea34c(0x1e3)]);else return _0x3200ba['data']=_0x4722a7[_0x2ea34c(0x202)],_0x2eddfe;}const _0x3b751d=await this[_0x2ea34c(0xca)]();if(!_0x3b751d){if(_0x4722a7[_0x2ea34c(0x1ea)](_0x4722a7[_0x2ea34c(0x101)],_0x4722a7[_0x2ea34c(0x223)])){const _0x348198={};_0x348198[_0x2ea34c(0x24c)]=WS_EVENTS[_0x2ea34c(0x164)],_0x348198[_0x2ea34c(0x149)]=_0x4722a7[_0x2ea34c(0x28c)],this[_0x2ea34c(0x26b)][_0x2ea34c(0x195)](this['rws'],_0x348198),logger[_0x2ea34c(0x125)](_0x4722a7[_0x2ea34c(0x28c)]),await this[_0x2ea34c(0x1f6)]();}else{const _0x348aa5={};_0x348aa5[_0x2ea34c(0x104)]=!![],_0x348aa5['error']=null,_0x348aa5[_0x2ea34c(0x20b)]=_0x4722a7[_0x2ea34c(0xec)];const _0x53d2a6=_0x348aa5;return _0x53d2a6;}}else{if(_0x4722a7[_0x2ea34c(0x29f)](_0x4722a7[_0x2ea34c(0x247)],_0x4722a7[_0x2ea34c(0xcf)]))return _0x53ac03[_0x2ea34c(0x13f)](_0x2ea34c(0x2a5)+_0x510b48+_0x2ea34c(0x134)+_0x56b501),![];else logger[_0x2ea34c(0x125)](_0x4722a7[_0x2ea34c(0x254)]);}logger[_0x2ea34c(0x125)](_0x4722a7[_0x2ea34c(0x126)]),await this[_0x2ea34c(0x237)](),logger['info'](_0x4722a7[_0x2ea34c(0x12e)]);}async[a1_0x136a18(0x1b8)](){const _0x2c688c=a1_0x136a18,_0x549958={};_0x549958[_0x2c688c(0x1e7)]=_0x2c688c(0x182),_0x549958[_0x2c688c(0x194)]=_0x2c688c(0x24b),_0x549958[_0x2c688c(0xd8)]=_0x2c688c(0x1cb),_0x549958['ITQHy']='utf-8',_0x549958[_0x2c688c(0x1bc)]=_0x2c688c(0x1d8),_0x549958[_0x2c688c(0x239)]=_0x2c688c(0x15a),_0x549958['NyfEW']=_0x2c688c(0x24a),_0x549958[_0x2c688c(0xd0)]=_0x2c688c(0x296),_0x549958[_0x2c688c(0x17b)]=_0x2c688c(0xd5),_0x549958[_0x2c688c(0xe3)]='default';const _0x29ed80=_0x549958;let _0x36e560=await fs['readFileAsync'](path[_0x2c688c(0x157)](__dirname,'..',_0x29ed80[_0x2c688c(0x1e7)],_0x29ed80[_0x2c688c(0x194)],_0x29ed80[_0x2c688c(0xd8)]),_0x29ed80['ITQHy']);_0x36e560=JSON['parse'](_0x36e560);const _0x5666b6=this['getStorageAccountName'](),_0x52a92a={};_0x52a92a['value']=_0x5666b6;const _0xbc975d={};_0xbc975d[_0x2c688c(0x227)]=_0x52a92a,await this['resourceClient']['deployments'][_0x2c688c(0x1d5)](global_registry[_0x2c688c(0x107)],_0x29ed80[_0x2c688c(0x1bc)],{'properties':{'template':_0x36e560,'mode':_0x29ed80[_0x2c688c(0x239)],'parameters':_0xbc975d}});const _0x49b954={};_0x49b954[_0x2c688c(0x12d)]=0x3c;const _0x5be914={};_0x5be914[_0x2c688c(0x245)]=_0x49b954;const _0x4a69e4={};_0x4a69e4[_0x2c688c(0x1f1)]=_0x5be914;const _0x51cff9={};_0x51cff9[_0x2c688c(0x25d)]=!![],_0x51cff9[_0x2c688c(0x262)]=_0x29ed80[_0x2c688c(0xe8)],_0x51cff9[_0x2c688c(0x24c)]=_0x29ed80[_0x2c688c(0xd0)],_0x51cff9[_0x2c688c(0x1d7)]={},_0x51cff9[_0x2c688c(0x1d7)][_0x2c688c(0x283)]=_0x4a69e4,_0x51cff9[_0x2c688c(0x1d7)][_0x2c688c(0x13d)]={},_0x51cff9[_0x2c688c(0x1d7)][_0x2c688c(0x13d)]['blobTypes']=[_0x29ed80[_0x2c688c(0x17b)]];const _0x467dcd={};_0x467dcd['rules']=[_0x51cff9];const _0x57ee01={};_0x57ee01[_0x2c688c(0x290)]=_0x467dcd;const _0x1c7e01=_0x57ee01;await this['storageClient']['managementPolicies'][_0x2c688c(0x232)](global_registry[_0x2c688c(0x107)],_0x5666b6,_0x29ed80[_0x2c688c(0xe3)],_0x1c7e01);}async['createManagedIdentity'](){const _0x224bb6=a1_0x136a18,_0x1d2254={};_0x1d2254['oyqls']='templates',_0x1d2254[_0x224bb6(0x1ab)]=_0x224bb6(0x24b),_0x1d2254['RRKOi']=_0x224bb6(0x205),_0x1d2254['UkeNt']=_0x224bb6(0x1dc),_0x1d2254['wyGYg']=_0x224bb6(0x192),_0x1d2254[_0x224bb6(0x185)]='Incremental';const _0x11bf72=_0x1d2254;let _0x5ecdf7=await fs[_0x224bb6(0x1dd)](path[_0x224bb6(0x157)](__dirname,'..',_0x11bf72[_0x224bb6(0x268)],_0x11bf72[_0x224bb6(0x1ab)],_0x11bf72[_0x224bb6(0x2ad)]),_0x11bf72['UkeNt']);_0x5ecdf7=JSON['parse'](_0x5ecdf7),await this[_0x224bb6(0x214)]['deployments'][_0x224bb6(0x1d5)](global_registry[_0x224bb6(0x107)],_0x11bf72['wyGYg'],{'properties':{'template':_0x5ecdf7,'mode':_0x11bf72[_0x224bb6(0x185)],'parameters':{'clusterName':{'value':this[_0x224bb6(0x18c)]}}}});}async[a1_0x136a18(0x237)](){const _0x506fdf=a1_0x136a18,_0x41fc71={};_0x41fc71[_0x506fdf(0x17a)]=function(_0x58e4de,_0x1b8fb4){return _0x58e4de!==_0x1b8fb4;},_0x41fc71['sNgmU']=_0x506fdf(0x249),_0x41fc71[_0x506fdf(0xd4)]=_0x506fdf(0x23e),_0x41fc71['FUUWP']='hub',_0x41fc71[_0x506fdf(0x1b6)]=_0x506fdf(0x143),_0x41fc71[_0x506fdf(0x271)]=function(_0x3cbbe3,_0x25f881){return _0x3cbbe3===_0x25f881;},_0x41fc71[_0x506fdf(0x14b)]=_0x506fdf(0x2af),_0x41fc71[_0x506fdf(0xf6)]=_0x506fdf(0xf1),_0x41fc71[_0x506fdf(0xc2)]=_0x506fdf(0x182),_0x41fc71['XIwZB']=_0x506fdf(0x24b),_0x41fc71[_0x506fdf(0x203)]='utf-8',_0x41fc71[_0x506fdf(0x261)]=_0x506fdf(0x215),_0x41fc71[_0x506fdf(0x17c)]=_0x506fdf(0x15a);const _0x53497f=_0x41fc71;!this[_0x506fdf(0x150)]&&(_0x53497f[_0x506fdf(0x17a)](_0x53497f['sNgmU'],_0x53497f[_0x506fdf(0xd4)])?await this[_0x506fdf(0x26a)]():_0x356175['push'](_0x3b0a69));const _0x16afc4=this[_0x506fdf(0x150)]?.[_0x506fdf(0xd7)]?.['issuerURL'],_0xf290ba=[_0x53497f[_0x506fdf(0x1e2)],_0x53497f[_0x506fdf(0x1b6)]];for await(const _0x4e0772 of _0xf290ba){if(_0x53497f[_0x506fdf(0x271)](_0x53497f[_0x506fdf(0x14b)],_0x53497f[_0x506fdf(0xf6)]))return!![];else{let _0x145bd6=await fs[_0x506fdf(0x1dd)](path[_0x506fdf(0x157)](__dirname,'..',_0x53497f[_0x506fdf(0xc2)],_0x53497f[_0x506fdf(0x199)],_0x506fdf(0xeb)+_0x4e0772+_0x506fdf(0x1f3)),_0x53497f[_0x506fdf(0x203)]);_0x145bd6=JSON[_0x506fdf(0x267)](_0x145bd6);const _0x166a3b={};_0x166a3b[_0x506fdf(0x21d)]=_0x16afc4,await this[_0x506fdf(0x214)]['deployments']['beginCreateOrUpdateAndWait'](global_registry[_0x506fdf(0x107)],_0x53497f[_0x506fdf(0x261)],{'properties':{'template':_0x145bd6,'mode':_0x53497f['NigqN'],'parameters':{'oidcIssuer':_0x166a3b,'gridName':{'value':this[_0x506fdf(0x128)]},'clusterName':{'value':this[_0x506fdf(0x18c)]}}}});}}}async[a1_0x136a18(0x2a3)](_0x200517,_0x15dc05,_0x1797be,_0x2f7a3c,_0x129c64){const _0x10e985=a1_0x136a18,_0x203d8c={};_0x203d8c[_0x10e985(0x1c4)]='Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha',_0x203d8c[_0x10e985(0x1c2)]=_0x10e985(0x180);const _0x4b50e6=_0x203d8c,_0x370b05={};_0x370b05[_0x10e985(0x24c)]=WS_EVENTS[_0x10e985(0x164)],_0x370b05[_0x10e985(0x149)]=_0x4b50e6[_0x10e985(0x1c4)],this[_0x10e985(0x26b)][_0x10e985(0x195)](this['rws'],_0x370b05),logger[_0x10e985(0x125)](_0x4b50e6[_0x10e985(0x1c4)]),await this['createFederatedAccountForHubHA']();const _0x348f48={};_0x348f48[_0x10e985(0x24c)]=WS_EVENTS[_0x10e985(0x164)],_0x348f48[_0x10e985(0x149)]=_0x4b50e6[_0x10e985(0x1c2)],this[_0x10e985(0x26b)][_0x10e985(0x195)](this['rws'],_0x348f48);}async[a1_0x136a18(0x210)](){const _0x5f3e1b=a1_0x136a18,_0x3d4991={};_0x3d4991[_0x5f3e1b(0x11b)]=function(_0xb785a8,_0x208527){return _0xb785a8===_0x208527;},_0x3d4991[_0x5f3e1b(0xe9)]=_0x5f3e1b(0x154),_0x3d4991[_0x5f3e1b(0x1a4)]=_0x5f3e1b(0x272),_0x3d4991[_0x5f3e1b(0x17e)]=_0x5f3e1b(0x182),_0x3d4991[_0x5f3e1b(0x161)]=_0x5f3e1b(0xfd),_0x3d4991[_0x5f3e1b(0x2b5)]=_0x5f3e1b(0x131),_0x3d4991['RHvQm']=_0x5f3e1b(0x1dc),_0x3d4991['GqSXR']=_0x5f3e1b(0x215),_0x3d4991['KiwvB']=_0x5f3e1b(0x15a);const _0x506239=_0x3d4991;!this[_0x5f3e1b(0x150)]&&(_0x506239[_0x5f3e1b(0x11b)](_0x506239[_0x5f3e1b(0xe9)],_0x506239[_0x5f3e1b(0x1a4)])?_0x5de75f[_0x5f3e1b(0x209)](..._0x1b346e[_0x5f3e1b(0x283)]):await this[_0x5f3e1b(0x26a)]());const _0x456901=this[_0x5f3e1b(0x150)]?.[_0x5f3e1b(0xd7)]?.[_0x5f3e1b(0x1bf)];let _0x1ee959=await fs[_0x5f3e1b(0x1dd)](path['join'](__dirname,'..',_0x506239[_0x5f3e1b(0x17e)],_0x506239[_0x5f3e1b(0x161)],_0x506239[_0x5f3e1b(0x2b5)]),_0x506239[_0x5f3e1b(0x1f7)]);_0x1ee959=JSON[_0x5f3e1b(0x267)](_0x1ee959);const _0xab570b={};_0xab570b[_0x5f3e1b(0x21d)]=_0x456901,await this['resourceClient']['deployments'][_0x5f3e1b(0x1d5)](global_registry[_0x5f3e1b(0x107)],_0x506239[_0x5f3e1b(0x1ca)],{'properties':{'template':_0x1ee959,'mode':_0x506239[_0x5f3e1b(0x18d)],'parameters':{'oidcIssuer':_0xab570b,'namespace':{'value':global_registry[_0x5f3e1b(0x184)]},'clusterName':{'value':this[_0x5f3e1b(0x18c)]}}}});}async['isStorageAccountPresent'](){const _0x21d780=a1_0x136a18,_0x28d4ee={};_0x28d4ee[_0x21d780(0x23f)]=function(_0x5ab91f,_0x2dc3e2){return _0x5ab91f===_0x2dc3e2;},_0x28d4ee[_0x21d780(0x1ba)]=function(_0x3e2ffb,_0x33ab94){return _0x3e2ffb===_0x33ab94;},_0x28d4ee[_0x21d780(0x26d)]='yKcWn',_0x28d4ee[_0x21d780(0x21e)]=function(_0x2a77f1,_0x2fb4e9){return _0x2a77f1===_0x2fb4e9;},_0x28d4ee[_0x21d780(0x288)]=_0x21d780(0x11c),_0x28d4ee[_0x21d780(0x2b1)]=_0x21d780(0x20e),_0x28d4ee[_0x21d780(0xd9)]='FsvcL';const _0x507ffe=_0x28d4ee,_0x27b4fe=this[_0x21d780(0x25b)](),_0x396cbc=new Array();for await(const _0x1ea038 of this[_0x21d780(0xf3)][_0x21d780(0xc9)][_0x21d780(0x281)](global_registry['cloudProviderResourceGroup'])){_0x507ffe[_0x21d780(0x1ba)](_0x507ffe[_0x21d780(0x26d)],_0x507ffe[_0x21d780(0x26d)])?_0x396cbc['push'](_0x1ea038):_0xcdfe7f[_0x21d780(0x14c)][_0x21d780(0x209)](_0x598bb4);}for await(const _0x569607 of _0x396cbc){if(_0x507ffe[_0x21d780(0x21e)](_0x507ffe[_0x21d780(0x288)],_0x507ffe[_0x21d780(0x288)])){if(_0x507ffe['awkzF'](_0x569607['name'],_0x27b4fe))return _0x507ffe[_0x21d780(0x23f)](_0x507ffe[_0x21d780(0x2b1)],_0x507ffe[_0x21d780(0xd9)])?[!![],_0x1d61c8]:!![];}else{if(_0x507ffe[_0x21d780(0x23f)](_0x562915[_0x21d780(0x262)],_0x592e63))return!![];}}return![];}async[a1_0x136a18(0xca)](){const _0xa52c0=a1_0x136a18,_0x53cf17={};_0x53cf17[_0xa52c0(0x1d9)]=_0xa52c0(0x29e),_0x53cf17[_0xa52c0(0x29b)]=_0xa52c0(0x137),_0x53cf17['bSGMU']=function(_0x4ff7e1,_0x46d2db){return _0x4ff7e1===_0x46d2db;},_0x53cf17[_0xa52c0(0xdc)]=function(_0x3f2c0d,_0x4c8412){return _0x3f2c0d!==_0x4c8412;},_0x53cf17['QtkSE']='ZUSHY',_0x53cf17[_0xa52c0(0x1e8)]=_0xa52c0(0xde),_0x53cf17['yTEtE']=function(_0x2dec6f,_0x412792){return _0x2dec6f===_0x412792;},_0x53cf17[_0xa52c0(0x1ee)]=function(_0x1917d1,_0x2a89d0){return _0x1917d1!==_0x2a89d0;},_0x53cf17[_0xa52c0(0x13a)]=_0xa52c0(0x187);const _0x5a8fcd=_0x53cf17,_0x464a83=new Array();for await(const _0x53957a of this[_0xa52c0(0x214)][_0xa52c0(0x2ae)][_0xa52c0(0x281)](global_registry['cloudProviderResourceGroup'])){if(_0x5a8fcd[_0xa52c0(0xdc)](_0x5a8fcd[_0xa52c0(0x1a6)],_0x5a8fcd[_0xa52c0(0x1a6)]))return _0x2df90f['error']=_0x2a49ab[_0xa52c0(0x13f)],_0x2ace13;else _0x464a83[_0xa52c0(0x209)](_0x53957a);}for await(const _0xaf7e29 of _0x464a83){if(_0x5a8fcd[_0xa52c0(0x218)](_0x5a8fcd[_0xa52c0(0x1e8)],_0x5a8fcd[_0xa52c0(0x1e8)])){if(_0x5a8fcd[_0xa52c0(0x1eb)](_0xaf7e29[_0xa52c0(0x262)],'turboscale-managed-identity-'+this[_0xa52c0(0x18c)])){if(_0x5a8fcd[_0xa52c0(0x1ee)](_0x5a8fcd[_0xa52c0(0x13a)],_0x5a8fcd['ovpRs'])){const _0x2434cd=_0x1504ea[_0xa52c0(0xc6)](_0x320d1e);_0x2c0b93+='\x0a\x09'+_0x4f4344+':\x20'+(_0x2434cd?_0x5a8fcd[_0xa52c0(0x1d9)]:_0x5a8fcd[_0xa52c0(0x29b)]),!_0x2434cd&&(_0x2b1005['status']=![]);}else return!![];}}else{if(_0x5a8fcd[_0xa52c0(0x218)](_0x47448b['name'],_0xa52c0(0xf2)+this['clusterName']))return!![];}}return![];}async['getResourceClientId'](_0xfa7c81,_0x590959=0x3){const _0x2440e4=a1_0x136a18,_0x204228={'nLpHS':_0x2440e4(0x1c0),'RYizB':_0x2440e4(0x2a9),'NhUzz':_0x2440e4(0x20c),'mdXew':function(_0x1eb547,_0x33fdec){return _0x1eb547===_0x33fdec;},'bMjZU':_0x2440e4(0x292),'HqFZw':'aTwrO','xiLzs':function(_0x1c9ea0,_0x177f21,_0x16489c){return _0x1c9ea0(_0x177f21,_0x16489c);},'SnrRL':_0x2440e4(0xe6),'lwGdK':function(_0x571600,_0x2085da){return _0x571600===_0x2085da;},'HFCyh':'voPPF','mCirJ':function(_0x467a6d,_0x19cf85){return _0x467a6d===_0x19cf85;},'NYMVj':_0x2440e4(0x1d0),'Afvjy':_0x2440e4(0xce),'nQxoS':function(_0x1c9d09,_0xb7894d){return _0x1c9d09===_0xb7894d;},'JNqeI':function(_0x50e548,_0x45b22e){return _0x50e548!==_0x45b22e;},'RehvT':'kXcMh','UETGm':_0x2440e4(0x2a1),'nvEBR':_0x2440e4(0x1db),'PcXfv':'WAcCb','KQjxi':function(_0x7c04e9,_0x1dd7aa){return _0x7c04e9<=_0x1dd7aa;},'fufwJ':function(_0x35fb92,_0xded36f){return _0x35fb92===_0xded36f;},'WAiTJ':_0x2440e4(0x1d4),'cQvxO':'BgxiK','flZVC':function(_0x262650,_0x4ec3ac){return _0x262650-_0x4ec3ac;}};try{if(_0x204228[_0x2440e4(0x178)](_0x204228[_0x2440e4(0xf0)],_0x204228[_0x2440e4(0xf0)])){const _0x33c30a=new Array();for await(const _0x25d000 of this[_0x2440e4(0x214)][_0x2440e4(0x2ae)]['listByResourceGroup'](global_registry[_0x2440e4(0x107)])){_0x204228['lwGdK'](_0x204228[_0x2440e4(0x287)],_0x204228['HFCyh'])?_0x33c30a[_0x2440e4(0x209)](_0x25d000):_0x253e18[_0x2440e4(0x13f)]=_0x33a5e4;}let _0x3a6381='';for await(const _0xcc0bad of _0x33c30a){if(_0x204228[_0x2440e4(0x299)](_0x204228['NYMVj'],_0x204228[_0x2440e4(0x1f2)]))_0x377b3a[_0x2440e4(0x13f)](_0x204228[_0x2440e4(0x1b1)]),_0x2c5dd8['exit'](0x1);else{if(_0x204228[_0x2440e4(0x273)](_0xcc0bad[_0x2440e4(0x262)],_0xfa7c81)){if(_0x204228['JNqeI'](_0x204228[_0x2440e4(0x1b4)],_0x204228[_0x2440e4(0x1b4)]))return _0x4be4d1[_0x2440e4(0x13f)](_0x2440e4(0x138)+_0x401501+_0x2440e4(0x217)+_0x44c783),[![],[]];else _0x3a6381=_0xcc0bad['id'];}}}const _0x416de5=await this[_0x2440e4(0x214)]['resources'][_0x2440e4(0x228)](_0x3a6381,_0x204228[_0x2440e4(0x28e)]);return _0x416de5[_0x2440e4(0x1fe)]['clientId'];}else{_0x5c9ba3[_0x2440e4(0x125)](_0x204228[_0x2440e4(0xdd)]);const _0x4a3354={};_0x4a3354[_0x2440e4(0x24c)]=_0x501600[_0x2440e4(0x1c9)],_0x4a3354[_0x2440e4(0x149)]=_0x204228['RYizB'],this[_0x2440e4(0x26b)][_0x2440e4(0x195)](this[_0x2440e4(0x25c)],_0x4a3354),_0x2c9633[_0x2440e4(0xd7)][_0x2440e4(0x25d)]=!![];}}catch(_0xef84bd){if(_0x204228[_0x2440e4(0x273)](_0x204228['nvEBR'],_0x204228[_0x2440e4(0x14f)]))_0x44b39e[_0x2440e4(0x13f)](_0x204228[_0x2440e4(0x1b1)]),_0x251bc7[_0x2440e4(0xfc)](0x1);else{if(_0x204228[_0x2440e4(0xf8)](_0x590959,0x0)){if(_0x204228[_0x2440e4(0x14e)](_0x204228[_0x2440e4(0x26f)],_0x204228[_0x2440e4(0x285)]))throw new _0x1e590e(_0x204228[_0x2440e4(0x115)],_0x2440e4(0x105)+_0x1d638e[_0x2440e4(0x22a)](_0x4fc514));else return logger['error'](_0x2440e4(0x1ef)+_0xef84bd+':'+_0xef84bd[_0x2440e4(0x1f8)]),{};}return await new Promise(_0x2240f3=>{const _0x15a3b3=_0x2440e4;_0x204228[_0x15a3b3(0x178)](_0x204228[_0x15a3b3(0x1de)],_0x204228[_0x15a3b3(0x274)])?_0x5e9043[_0x15a3b3(0x209)](_0xeed95a):_0x204228[_0x15a3b3(0x11d)](setTimeout,()=>_0x2240f3(),0x3e8);}),this[_0x2440e4(0x135)](_0xfa7c81,_0x204228[_0x2440e4(0x112)](_0x590959,0x1));}}}async[a1_0x136a18(0x106)](){const _0x5ea3ae=a1_0x136a18,_0x505fc3={'ezjiB':function(_0x589476,_0x29b68f,_0x4bff09){return _0x589476(_0x29b68f,_0x4bff09);},'qWHxR':function(_0x474fbb,_0x3838c6){return _0x474fbb!==_0x3838c6;},'xBRgE':_0x5ea3ae(0x264),'hKWeL':function(_0x5c9a68,_0x248f29){return _0x5c9a68===_0x248f29;},'tyBRR':_0x5ea3ae(0x111),'iaLyz':'BrowserStack','nzhMG':_0x5ea3ae(0x2a2),'ZsbNb':_0x5ea3ae(0x121)};!this['clusterInfo']&&(_0x505fc3[_0x5ea3ae(0x280)](_0x505fc3[_0x5ea3ae(0x208)],_0x505fc3[_0x5ea3ae(0x208)])?_0x505fc3[_0x5ea3ae(0x1f9)](_0xbc353a,()=>_0x3ede07(),0x3e8):await this['getClusterInfo']());const _0x6692db=this[_0x5ea3ae(0x150)]?.['tags']||{};if(_0x6692db&&_0x505fc3[_0x5ea3ae(0x265)](_0x6692db[_0x505fc3[_0x5ea3ae(0x13b)]],_0x505fc3[_0x5ea3ae(0x152)])){if(_0x505fc3[_0x5ea3ae(0x280)](_0x505fc3[_0x5ea3ae(0x10c)],_0x505fc3[_0x5ea3ae(0xd3)]))return!![];else _0x2322ea[_0x5ea3ae(0x209)](_0x5a33a4);}return![];}async[a1_0x136a18(0x244)](_0x30b0f0,_0x147da4){const _0x1128bb=a1_0x136a18,_0x5576bb={'Yptts':function(_0x381712,_0x37f860){return _0x381712(_0x37f860);},'bBOvw':function(_0x20baa0,_0x47f7ac){return _0x20baa0(_0x47f7ac);},'ZZNsx':_0x1128bb(0x1c3)};await _0x5576bb[_0x1128bb(0xff)](deleteAgent,_0x30b0f0),await _0x5576bb[_0x1128bb(0x1ed)](deleteRoutingDeps,_0x30b0f0);const _0x483aae=this[_0x1128bb(0x155)];logger[_0x1128bb(0x125)]('Deleting\x20the\x20cluster\x20'+this[_0x1128bb(0x18c)]),await _0x483aae[_0x1128bb(0x21b)]['beginDeleteAndWait'](global_registry[_0x1128bb(0x107)],this[_0x1128bb(0x18c)]),logger[_0x1128bb(0x125)](_0x5576bb['ZZNsx']);}async[a1_0x136a18(0x176)](){const _0x3ec9bc=a1_0x136a18,_0x5e7f8c={};_0x5e7f8c['AmYQL']='Storage\x20account\x20already\x20exists,\x20skipping',_0x5e7f8c[_0x3ec9bc(0x21f)]=function(_0x5d2c51,_0x3372b1){return _0x5d2c51+_0x3372b1;},_0x5e7f8c[_0x3ec9bc(0x1da)]=_0x3ec9bc(0x171),_0x5e7f8c['BLZKD']=function(_0x107425,_0x410f94){return _0x107425-_0x410f94;},_0x5e7f8c[_0x3ec9bc(0x12f)]=function(_0x4bc0fe,_0xffd5d1){return _0x4bc0fe===_0xffd5d1;},_0x5e7f8c[_0x3ec9bc(0x2a7)]='vkKba',_0x5e7f8c['Yrnhg']=_0x3ec9bc(0x1b3),_0x5e7f8c[_0x3ec9bc(0x116)]=function(_0x1bc891,_0x5ab772){return _0x1bc891&&_0x5ab772;},_0x5e7f8c[_0x3ec9bc(0x1fd)]=function(_0x225ada,_0x672970){return _0x225ada!==_0x672970;},_0x5e7f8c[_0x3ec9bc(0x19a)]=_0x3ec9bc(0x190),_0x5e7f8c[_0x3ec9bc(0x15d)]=function(_0x336ed5,_0x58c67a){return _0x336ed5===_0x58c67a;},_0x5e7f8c[_0x3ec9bc(0x103)]=_0x3ec9bc(0x263),_0x5e7f8c[_0x3ec9bc(0x1b0)]=_0x3ec9bc(0x1a0),_0x5e7f8c[_0x3ec9bc(0x225)]=_0x3ec9bc(0x2a9),_0x5e7f8c[_0x3ec9bc(0x1a5)]=_0x3ec9bc(0x251),_0x5e7f8c['WOJAt']=_0x3ec9bc(0x158),_0x5e7f8c['GBEuj']=_0x3ec9bc(0x236),_0x5e7f8c[_0x3ec9bc(0x165)]='JAotc',_0x5e7f8c[_0x3ec9bc(0x19e)]=_0x3ec9bc(0x191);const _0x59f813=_0x5e7f8c;!this[_0x3ec9bc(0x150)]&&(_0x59f813[_0x3ec9bc(0x12f)](_0x59f813[_0x3ec9bc(0x2a7)],_0x59f813[_0x3ec9bc(0x18e)])?_0x3fdfed['push'](_0x373ce8['name']):await this[_0x3ec9bc(0x26a)]());const _0x1483d0=this[_0x3ec9bc(0x150)],_0x1c4c8b=this['clusterInfo']?.[_0x3ec9bc(0xd7)]?.[_0x3ec9bc(0x25d)]||![],_0x1a79ff=this[_0x3ec9bc(0x150)]?.[_0x3ec9bc(0xcb)]?.[_0x3ec9bc(0x13e)]?.['enabled']||![],_0x522c48=!this[_0x3ec9bc(0x150)]?.[_0x3ec9bc(0x15b)]||![];if(_0x59f813[_0x3ec9bc(0x116)](_0x1c4c8b,_0x1a79ff)&&_0x522c48){if(_0x59f813[_0x3ec9bc(0x1fd)](_0x59f813[_0x3ec9bc(0x19a)],_0x59f813['xdriz']))_0xfd35bc[_0x3ec9bc(0x125)](_0x59f813['AmYQL']);else return;}if(!_0x1c4c8b){if(_0x59f813[_0x3ec9bc(0x15d)](_0x59f813[_0x3ec9bc(0x103)],_0x59f813[_0x3ec9bc(0x1b0)])){const _0x520cce=_0x30d901[_0x3ec9bc(0xd1)][_0x3ec9bc(0x166)]('-'),_0x398663=_0x59f813[_0x3ec9bc(0x21f)](_0x59f813[_0x3ec9bc(0x1da)],_0x520cce[_0x59f813[_0x3ec9bc(0x11a)](_0x520cce['length'],0x1)])[_0x3ec9bc(0x1f4)](0x0,0x18);return _0x398663[_0x3ec9bc(0x196)]();}else{logger[_0x3ec9bc(0x125)](_0x59f813[_0x3ec9bc(0x225)]);const _0x5d229b={};_0x5d229b['type']=WS_EVENTS['RESOURCES'],_0x5d229b[_0x3ec9bc(0x149)]=_0x59f813[_0x3ec9bc(0x225)],this[_0x3ec9bc(0x26b)][_0x3ec9bc(0x195)](this['rws'],_0x5d229b),_0x1483d0['oidcIssuerProfile']['enabled']=!![];}}if(!_0x1a79ff){if(_0x59f813['OCykd'](_0x59f813[_0x3ec9bc(0x1a5)],_0x59f813['qVrtz'])){logger[_0x3ec9bc(0x125)](_0x59f813[_0x3ec9bc(0x14d)]);const _0x359d57={};_0x359d57[_0x3ec9bc(0x24c)]=WS_EVENTS[_0x3ec9bc(0x1c9)],_0x359d57[_0x3ec9bc(0x149)]=_0x59f813[_0x3ec9bc(0x14d)],this[_0x3ec9bc(0x26b)][_0x3ec9bc(0x195)](this[_0x3ec9bc(0x25c)],_0x359d57);const _0x185d64={};_0x185d64['enabled']=!![],_0x1483d0['securityProfile']={'workloadIdentity':_0x185d64,..._0x1483d0[_0x3ec9bc(0xcb)]};}else _0x2b5578['push'](_0x472481);}if(!_0x522c48){if(_0x59f813['xASSg'](_0x59f813[_0x3ec9bc(0x117)],_0x59f813[_0x3ec9bc(0x165)]))return!![];else{logger['info'](_0x59f813[_0x3ec9bc(0x19e)]);const _0x41e187={};_0x41e187[_0x3ec9bc(0x24c)]=WS_EVENTS[_0x3ec9bc(0x1c9)],_0x41e187['message']=_0x59f813['JHBkU'],this[_0x3ec9bc(0x26b)][_0x3ec9bc(0x195)](this['rws'],_0x41e187),_0x1483d0['disableLocalAccounts']=![];}}await this[_0x3ec9bc(0x155)][_0x3ec9bc(0x21b)]['beginCreateOrUpdateAndWait'](global_registry[_0x3ec9bc(0x107)],this['clusterName'],_0x1483d0),await this[_0x3ec9bc(0x26a)]();}async[a1_0x136a18(0x136)](){const _0x57a14b=a1_0x136a18,_0x3fe206={};_0x3fe206[_0x57a14b(0x255)]=function(_0x220d3a,_0x32f3f8){return _0x220d3a===_0x32f3f8;},_0x3fe206[_0x57a14b(0x1f0)]=_0x57a14b(0x19d),_0x3fe206[_0x57a14b(0x1f5)]=_0x57a14b(0x257);const _0x2632bb=_0x3fe206,_0x59d388=await this['networkClient'][_0x57a14b(0xc5)][_0x57a14b(0x220)](global_registry[_0x57a14b(0x107)]),_0x2e17f7={};_0x2e17f7[_0x57a14b(0x27c)]=global_registry[_0x57a14b(0x221)],_0x2e17f7[_0x57a14b(0x1a3)]=global_registry['bstackAccesskey'],_0x2e17f7[_0x57a14b(0x21a)]=AZURE,_0x2e17f7[_0x57a14b(0x14c)]=[];const _0x339afe=_0x2e17f7;for await(const _0x51c05f of _0x59d388){_0x2632bb[_0x57a14b(0x255)](_0x2632bb[_0x57a14b(0x1f0)],_0x2632bb['ItsKh'])?_0x39d1cd[_0x57a14b(0x209)](_0x818d45):_0x339afe[_0x57a14b(0x14c)][_0x57a14b(0x209)](_0x51c05f);}const _0xa27dde={};_0xa27dde[_0x57a14b(0x24c)]=WS_EVENTS[_0x57a14b(0x1c9)],_0xa27dde[_0x57a14b(0x149)]=_0x339afe,this[_0x57a14b(0x26b)][_0x57a14b(0x195)](this[_0x57a14b(0x25c)],_0xa27dde);}async[a1_0x136a18(0x151)](_0x236793){const _0x3a8d11=a1_0x136a18,_0x3e5f9a={};_0x3e5f9a[_0x3a8d11(0x17f)]=_0x3a8d11(0xe4),_0x3e5f9a[_0x3a8d11(0x144)]=_0x3a8d11(0x158),_0x3e5f9a['TmFDI']=_0x3a8d11(0x163),_0x3e5f9a[_0x3a8d11(0x26c)]=_0x3a8d11(0x226),_0x3e5f9a['rlcIj']=_0x3a8d11(0xf9),_0x3e5f9a[_0x3a8d11(0x253)]=_0x3a8d11(0x28a),_0x3e5f9a[_0x3a8d11(0x1b5)]=function(_0x40bb10,_0x21d2a2){return _0x40bb10!==_0x21d2a2;},_0x3e5f9a[_0x3a8d11(0x102)]='aiYxV',_0x3e5f9a[_0x3a8d11(0xd6)]=_0x3a8d11(0x22b),_0x3e5f9a['FdVNm']=function(_0x57d226,_0x110326){return _0x57d226===_0x110326;},_0x3e5f9a[_0x3a8d11(0x1c6)]=_0x3a8d11(0x110),_0x3e5f9a[_0x3a8d11(0x16d)]=_0x3a8d11(0x15f),_0x3e5f9a[_0x3a8d11(0x22f)]=_0x3a8d11(0x22d);const _0xe24c67=_0x3e5f9a;try{if(_0xe24c67[_0x3a8d11(0x1b5)](_0xe24c67['kVJHk'],_0xe24c67[_0x3a8d11(0x102)]))_0x14dc07[_0x3a8d11(0x125)](_0xe24c67[_0x3a8d11(0x17f)]);else{const _0x17abc2=await this['networkClient'][_0x3a8d11(0xc5)][_0x3a8d11(0x220)](global_registry['cloudProviderResourceGroup']);for await(const _0x450ed7 of _0x17abc2){if(_0xe24c67['HBECL'](_0xe24c67[_0x3a8d11(0xd6)],_0xe24c67[_0x3a8d11(0xd6)])){_0x3c7dba[_0x3a8d11(0x125)](_0xe24c67[_0x3a8d11(0x144)]);const _0x50ecd7={};_0x50ecd7[_0x3a8d11(0x24c)]=_0x521d9f[_0x3a8d11(0x1c9)],_0x50ecd7['message']=_0xe24c67[_0x3a8d11(0x144)],this[_0x3a8d11(0x26b)]['sendEventToBackend'](this[_0x3a8d11(0x25c)],_0x50ecd7);const _0x213313={};_0x213313['enabled']=!![];const _0x1b7ebf={'workloadIdentity':_0x213313,..._0x2a593c[_0x3a8d11(0xcb)]};_0x154486[_0x3a8d11(0xcb)]=_0x1b7ebf;}else{if(_0xe24c67[_0x3a8d11(0x284)](_0x450ed7[_0x3a8d11(0x262)],_0x236793)){if(_0xe24c67['HBECL'](_0xe24c67[_0x3a8d11(0x1c6)],_0xe24c67[_0x3a8d11(0x1c6)])){const _0x38a97d={};_0x38a97d['type']=_0xe24c67[_0x3a8d11(0x28f)],_0x38a97d[_0x3a8d11(0x233)]={},_0x38a97d[_0x3a8d11(0x233)]['description']=_0xe24c67[_0x3a8d11(0x26c)];const _0x1e78d9={};_0x1e78d9[_0x3a8d11(0x24c)]=_0xe24c67['TmFDI'],_0x1e78d9[_0x3a8d11(0x233)]={},_0x1e78d9[_0x3a8d11(0x233)][_0x3a8d11(0x248)]=_0xe24c67['AuvER'];const _0x5e3d66={..._0xe7f00b[_0x3a8d11(0xe2)]};_0x5e3d66[_0x3a8d11(0x170)]=_0x38a97d,_0x5e3d66[_0x3a8d11(0x1e6)]=_0x1e78d9,_0x233a5c[_0x3a8d11(0xe2)]=_0x5e3d66;const _0x12ede4={};_0x12ede4[_0x3a8d11(0x1fa)]=_0xe24c67[_0x3a8d11(0x24f)],_0x349ae7['variables']=_0x12ede4;const _0x512921={..._0x419e5d[_0x3a8d11(0x2ae)][0x0][_0x3a8d11(0x1fe)][_0x3a8d11(0x169)][0x0]};_0x512921[_0x3a8d11(0x1fa)]=_0xe24c67['RLTbs'],_0x8d84d4[_0x3a8d11(0x2ae)][0x0][_0x3a8d11(0x1fe)]['agentPoolProfiles'][0x0]=_0x512921;const _0x694a96={};_0x694a96[_0x3a8d11(0x21d)]=_0x1a7b5c;const _0x21e57d={};_0x21e57d[_0x3a8d11(0x21d)]=_0x4ba83c[0x0];const _0x781e72={..._0xf05f03};_0x781e72[_0x3a8d11(0x170)]=_0x694a96,_0x781e72[_0x3a8d11(0x1e6)]=_0x21e57d,_0x2971d6=_0x781e72;}else return!![];}}}}}catch(_0xc6332c){if(_0xe24c67['FdVNm'](_0xe24c67[_0x3a8d11(0x16d)],_0xe24c67['lkkKm'])){const _0x180f60=new _0x1f87cc(_0x89798e[_0x3a8d11(0x122)],_0x332114[_0x3a8d11(0x277)],_0x3586fc[_0x3a8d11(0x168)]);this['containerClient']=new _0x4013e9(_0x180f60,_0x100955[_0x3a8d11(0x230)]),this[_0x3a8d11(0xf3)]=new _0x3f51e2(_0x180f60,_0x24d22f[_0x3a8d11(0x230)]),this[_0x3a8d11(0x214)]=new _0x5510a9(_0x180f60,_0x533068[_0x3a8d11(0x230)]),this['networkClient']=new _0x55c4ad(_0x180f60,_0x1360c4[_0x3a8d11(0x230)]),this[_0x3a8d11(0x16b)]=new _0x2b65bc(_0x180f60,_0x4df516['cloudProviderSubscriptionId']),this[_0x3a8d11(0x19b)]=_0x180f60;}else return logger[_0x3a8d11(0x13f)](_0x3a8d11(0x2a5)+_0x236793+_0x3a8d11(0x134)+_0xc6332c),![];}return![];}async['isSubnetsValid'](_0x291273,_0x2484a6){const _0x34f736=a1_0x136a18,_0x38a309={};_0x38a309[_0x34f736(0x142)]=_0x34f736(0x1df),_0x38a309[_0x34f736(0x127)]=function(_0x140143,_0x3f9006){return _0x140143===_0x3f9006;},_0x38a309[_0x34f736(0xf4)]=_0x34f736(0x231),_0x38a309[_0x34f736(0x145)]=_0x34f736(0x28d),_0x38a309[_0x34f736(0x1a7)]=function(_0x1b2cc8,_0x472a82){return _0x1b2cc8===_0x472a82;},_0x38a309[_0x34f736(0x27a)]=_0x34f736(0x238),_0x38a309[_0x34f736(0x1ac)]=_0x34f736(0x241);const _0x2750de=_0x38a309;try{if(_0x2750de[_0x34f736(0x127)](_0x2750de['vZNrx'],_0x2750de[_0x34f736(0x145)]))return!![];else{const _0x46d72a=await this[_0x34f736(0x24e)][_0x34f736(0x28b)]['get'](global_registry[_0x34f736(0x107)],_0x2484a6,_0x291273[0x0]);if(_0x2750de[_0x34f736(0x1a7)](_0x291273[0x0],_0x46d72a['name'])){if(_0x2750de[_0x34f736(0x1a7)](_0x2750de[_0x34f736(0x27a)],_0x2750de[_0x34f736(0x1ac)])){const _0x5b59f7=_0x2750de[_0x34f736(0x142)]['split']('|');let _0x400817=0x0;while(!![]){switch(_0x5b59f7[_0x400817++]){case'0':_0x5849b2[_0x34f736(0x107)]=_0x53c93c[this['cloudProviderName']][_0x34f736(0x119)];continue;case'1':_0x588c5e['cloudProviderClientSecret']=_0x440d5b[this['cloudProviderName']][_0x34f736(0x1cc)];continue;case'2':_0x2c243a[_0x34f736(0x230)]=_0xf1d548[this[_0x34f736(0xf5)]][_0x34f736(0x297)];continue;case'3':this[_0x34f736(0x1e9)]();continue;case'4':_0x316a3c[_0x34f736(0x122)]=_0x2de652[this[_0x34f736(0xf5)]][_0x34f736(0x133)];continue;case'5':_0x2e9f7e['cloudProviderClientId']=_0x3587be[this[_0x34f736(0xf5)]]['clientId'];continue;}break;}}else return[!![],_0x291273];}}}catch(_0x1e0a63){return logger[_0x34f736(0x13f)](_0x34f736(0x138)+_0x291273+_0x34f736(0x217)+_0x1e0a63),[![],[]];}return[![],[]];}async['isCliToolInstalled'](){const _0x1d4761=a1_0x136a18,_0x1faef3={};_0x1faef3[_0x1d4761(0x21c)]=_0x1d4761(0x1b2);const _0x223356=_0x1faef3,_0x3f2a33={};_0x3f2a33[_0x1d4761(0x104)]=!![],_0x3f2a33[_0x1d4761(0x13f)]=null,_0x3f2a33['data']=_0x223356[_0x1d4761(0x21c)];const _0x582069=_0x3f2a33;return _0x582069;}async[a1_0x136a18(0x2ac)](){const _0x500caa=a1_0x136a18,_0x19f67b={};_0x19f67b[_0x500caa(0x211)]=_0x500caa(0x256),_0x19f67b[_0x500caa(0x1d6)]='GET',_0x19f67b['TDBSs']=_0x500caa(0x25a);const _0x461bee=_0x19f67b,_0x1e04bf=await this[_0x500caa(0x19b)]['getToken'](_0x461bee[_0x500caa(0x211)]),_0x42cb28={};_0x42cb28[_0x500caa(0x234)]=_0x461bee[_0x500caa(0x1d6)],_0x42cb28[_0x500caa(0x29a)]={},_0x42cb28[_0x500caa(0x29a)][_0x500caa(0x2b3)]=_0x500caa(0x14a)+_0x1e04bf[_0x500caa(0x15e)],_0x42cb28[_0x500caa(0x29a)][_0x500caa(0x29d)]=_0x461bee[_0x500caa(0x240)];const _0x497438=_0x42cb28;return _0x497438;}async[a1_0x136a18(0x26e)](_0x11b69b){const _0x4b88ee=a1_0x136a18,_0xb6bbbf={'LHwdW':function(_0x59e6c3,_0x585c2e,_0x28b844){return _0x59e6c3(_0x585c2e,_0x28b844);},'CJJnb':function(_0x2d0e3f,_0x2fcf71){return _0x2d0e3f===_0x2fcf71;},'fcNmh':'No\x20service\x20principal\x20found'},_0x3c4762={};_0x3c4762[_0x4b88ee(0x15c)]='',_0x3c4762[_0x4b88ee(0x13f)]=null;const _0x1c2802=_0x3c4762;try{const _0x27bb72='https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27'+_0x11b69b+'\x27',_0x4189c9=await this['getHeader'](),_0x1fcb56=await _0xb6bbbf[_0x4b88ee(0x181)](fetch,_0x27bb72,_0x4189c9),_0x298950=await _0x1fcb56[_0x4b88ee(0x23a)]();if(!_0x298950[_0x4b88ee(0x21d)]||_0xb6bbbf[_0x4b88ee(0x298)](_0x298950[_0x4b88ee(0x21d)][_0x4b88ee(0xfa)],0x0))throw new Error(_0xb6bbbf[_0x4b88ee(0x177)],_0x4b88ee(0x105)+JSON['stringify'](_0x298950));_0x1c2802['principalId']=_0x298950[_0x4b88ee(0x21d)][0x0]['id'];}catch(_0x37f693){_0x1c2802[_0x4b88ee(0x13f)]=_0x37f693;}return _0x1c2802;}async[a1_0x136a18(0x140)](){const _0x296015=a1_0x136a18,_0x538320={};_0x538320[_0x296015(0x189)]='allowed',_0x538320[_0x296015(0x12b)]=_0x296015(0x137),_0x538320['arqyy']=function(_0x3953f7,_0x1a25c0){return _0x3953f7!==_0x1a25c0;},_0x538320[_0x296015(0x175)]=function(_0xae9ad6,_0x180007){return _0xae9ad6===_0x180007;},_0x538320[_0x296015(0x153)]=_0x296015(0x188),_0x538320[_0x296015(0x18f)]=function(_0x1c5d33,_0x184a0e){return _0x1c5d33===_0x184a0e;},_0x538320[_0x296015(0x130)]=_0x296015(0x2b2),_0x538320[_0x296015(0x19f)]=function(_0x1ceb7b,_0x1ed8ef){return _0x1ceb7b===_0x1ed8ef;},_0x538320[_0x296015(0x132)]=_0x296015(0x27e);const _0x2fc3c4=_0x538320,_0x2ed067={};_0x2ed067[_0x296015(0x104)]=![],_0x2ed067[_0x296015(0x13f)]=null,_0x2ed067[_0x296015(0x20b)]='';const _0x531294=_0x2ed067;try{let _0x17ecdb='';const _0x5a6402=_0x296015(0x1be)+global_registry['cloudProviderSubscriptionId']+_0x296015(0x206)+global_registry[_0x296015(0x107)],_0x215dbb=await this[_0x296015(0x26e)](global_registry[_0x296015(0x277)]);if(_0x2fc3c4[_0x296015(0x229)](_0x215dbb[_0x296015(0x13f)],null))return _0x531294[_0x296015(0x13f)]=_0x215dbb[_0x296015(0x13f)],_0x531294;const _0x141ecd=_0x296015(0x160)+_0x215dbb[_0x296015(0x15c)]+'\x27)',_0x23b61b={};_0x23b61b[_0x296015(0x146)]=_0x141ecd;const _0x52f73b=await this[_0x296015(0x16b)][_0x296015(0x207)]['listForScope'](_0x5a6402,_0x23b61b),_0x13cb74=[];for await(const _0x5a3fe4 of _0x52f73b){_0x13cb74['push'](_0x5a3fe4);}if(_0x2fc3c4[_0x296015(0x175)](_0x13cb74['length'],0x0))return _0x531294[_0x296015(0x20b)]=_0x2fc3c4[_0x296015(0x153)],_0x531294;const _0x2bf9f5=[...new Set(_0x13cb74[_0x296015(0xf7)](_0x3dd94c=>_0x3dd94c[_0x296015(0x10a)]))];if(_0x2fc3c4[_0x296015(0x18f)](_0x2bf9f5[_0x296015(0xfa)],0x0))return _0x531294['data']=_0x2fc3c4[_0x296015(0x130)],_0x531294;const _0x45cf9c=[],_0x5b9504=[];for(const _0x225eef of _0x2bf9f5){const _0x8d4c78=await this['authClient']['roleDefinitions'][_0x296015(0x228)](_0x225eef);logger[_0x296015(0x18b)](_0x296015(0x1b9)+_0x8d4c78['roleName']),_0x45cf9c[_0x296015(0x209)](_0x8d4c78),logger[_0x296015(0x18b)](_0x296015(0x219)+JSON[_0x296015(0x22a)](_0x8d4c78[_0x296015(0x129)])),_0x8d4c78[_0x296015(0x129)][_0x296015(0x1ce)](_0x109990=>{const _0x1b98ee=_0x296015;_0x5b9504[_0x1b98ee(0x209)](..._0x109990['actions']);});}logger[_0x296015(0x18b)](_0x296015(0x20f)+JSON[_0x296015(0x22a)](_0x5b9504)),_0x2fc3c4[_0x296015(0x19f)](_0x5b9504[_0x296015(0xfa)],0x0)&&(_0x17ecdb+=_0x2fc3c4[_0x296015(0x175)](_0x5b9504[_0x296015(0xfa)],0x0)?_0x2fc3c4['QYRos']:'',logger[_0x296015(0x18b)](_0x296015(0xd2)+JSON[_0x296015(0x22a)](_0x45cf9c))),_0x531294[_0x296015(0x104)]=!![],Object[_0x296015(0xc8)](PERMISSIONS['ACTION'])['forEach'](([_0x120aa8,_0x49d0a6])=>{const _0x1d7379=_0x296015,_0x15f9dd=_0x5b9504['includes'](_0x120aa8);_0x17ecdb+='\x0a\x09'+_0x49d0a6+':\x20'+(_0x15f9dd?_0x2fc3c4[_0x1d7379(0x189)]:_0x2fc3c4['JoZBU']),!_0x15f9dd&&(_0x531294[_0x1d7379(0x104)]=![]);}),_0x531294[_0x296015(0x20b)]=_0x17ecdb;}catch(_0x40946d){_0x531294[_0x296015(0x13f)]=_0x40946d;}return _0x531294;}}const a1_0x25277d={};function a1_0x2035(_0x399352,_0xf7e569){const _0x4b697e=a1_0x4b69();return a1_0x2035=function(_0x203559,_0x4ad43e){_0x203559=_0x203559-0xc2;let _0x3d3a53=_0x4b697e[_0x203559];return _0x3d3a53;},a1_0x2035(_0x399352,_0xf7e569);}a1_0x25277d[a1_0x136a18(0x27f)]=AzureCloudProvider,module[a1_0x136a18(0x1c8)]=a1_0x25277d;