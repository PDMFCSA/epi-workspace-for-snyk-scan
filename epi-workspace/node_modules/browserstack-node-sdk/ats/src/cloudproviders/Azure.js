const a1_0x33b712=a1_0x42e4;(function(_0x9fc1ed,_0x247285){const _0x292de9=a1_0x42e4,_0x248168=_0x9fc1ed();while(!![]){try{const _0x548f27=parseInt(_0x292de9(0x368))/0x1*(parseInt(_0x292de9(0x391))/0x2)+parseInt(_0x292de9(0x34f))/0x3+-parseInt(_0x292de9(0x26f))/0x4+parseInt(_0x292de9(0x2f4))/0x5*(-parseInt(_0x292de9(0x21c))/0x6)+parseInt(_0x292de9(0x28e))/0x7+parseInt(_0x292de9(0x294))/0x8*(parseInt(_0x292de9(0x262))/0x9)+-parseInt(_0x292de9(0x1bc))/0xa*(parseInt(_0x292de9(0x260))/0xb);if(_0x548f27===_0x247285)break;else _0x248168['push'](_0x248168['shift']());}catch(_0xfca829){_0x248168['push'](_0x248168['shift']());}}}(a1_0x5bc9,0x5a1d8));const fs=require('fs'),path=require(a1_0x33b712(0x392)),yaml=require(a1_0x33b712(0x2a7)),{logger}=require(a1_0x33b712(0x225)),{CloudProvider}=require(a1_0x33b712(0x35e)),{deleteRoutingDeps,deleteAgent}=require('../utils/gridComponents'),{AZURE,WS_EVENTS,global_registry}=require(a1_0x33b712(0x292)),PERMISSIONS=require(a1_0x33b712(0x24a)),{ClientSecretCredential}=require(a1_0x33b712(0x1e9)),{NetworkManagementClient}=require(a1_0x33b712(0x1cc)),{StorageManagementClient}=require(a1_0x33b712(0x252)),{AuthorizationManagementClient}=require(a1_0x33b712(0x22c)),{ResourceManagementClient}=require('@azure/arm-resources'),{ContainerServiceClient}=require(a1_0x33b712(0x2c6)),{runCommand}=require(a1_0x33b712(0x2e6));function a1_0x5bc9(){const _0x5f5be3=['mxPDj','createFederatedAccount','vZIzu','turboscale','issuerURL','aqxYG','xgxKk','SdWAc','kjsSl','BDuoq','hOSYz','87505wHNdUt','FFmVU','27YSbsfO','rqpWV','pVaYq','error','yISxh','wiGhY','resourceClient','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','policy','blobTypes','clusterInfo','uvQhj','templates','2262756jmVdIc','iCmoZ','Blob\x20delete\x20lifecycle','evxfi','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','isClusterPresent','HKahu','map','pdWTc','htwvl','cloudProviderName','status','phpyW','HZcvU','SPPSs','HNZWU','zOqtR','jOymx','qeJfc','gtDYM','oQKrG','json','log','NjqyV','iLMhx','zIGCf','vpcInfo','qDeYc','roleDefinitionId','isSubnetsValid','value','1198120kSPwXO','TCiHu','blockBlob','type','../config/constants','maxNodes','985144RSlOBP','uARcz','beginCreateOrUpdateAndWait','AbImP','EeGYv','0|4|1|2|5|3','shArJ','clientSecret','Deleted\x20the\x20cluster\x20successfully','bstackUsername','kUaPR','storageAccountName','2023-01-31','BizuV','jrqJk','dkeGr','EvUFL','false','AsenM','js-yaml','metadata','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','wBoRo','tenantId','wLCfY','ezdBM','toString','isManagedIdentityPresent','createOrUpdate','Attached\x20permissions\x20:\x20','SssUL','getHeader','variables','turboscale-storageaccount-deployment','headers','FPESu','Incremental','nQHSL','lHFsE','isCliToolInstalled','Vwcsw','vnetSubnetID','description','ArdGf','.\x20Error:\x20','tags','\x20SUBSCRIPTION\x20ID:\x20','mMCJB','LridF','properties','@azure/arm-containerservice','ZQZJt','deployments','ocovX','Enabling\x20Local\x20account\x20for\x20the\x20cluster','dMeQg','jVUIl','createOtherResources','YNKCd','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','storageAccounts','includes','JjLst','fYafw','dYZhv','cnYLV','pEVWr','readFileAsync','turboscale-managed-identity-','sfcJy','jNFSu','uFfvK','BXFGu','MpfYD','zDQvT','list','DPudl','kZipn','gkeiz','listAll','buibj','method','../utils/utilityMethods','setupHubHa','sUpzK','hNujX','SdyIZ','lAlWp','zExMr','getStorageAccountName','WukwU','YmGBm','listByResourceGroup','wWNFs','BrowserStack','WpQev','586565UKPRft','LHLBg','length','managedidentity.json','bgQbn','gridName','info','epHXn','FJxtC','Authorization','workloadIdentity','LDAdo','CeLtk','AbFfR','Received\x20response\x20-\x20','agentPoolProfiles','cdPvW','ACTION','clusterRegion','FsKMT','iCTpk','gxiCO','DcdJQ','ZsGNI','wJUUo','UOuef','aZjIR','managementPolicies','updateClusterAlreadyPresent','NkQfl','xcWdr','IyhUA','OHCPN','THgdv','nyVLb','akscluster.json','QvEbm','eJqRh','No\x20service\x20principal\x20found','xlmmr','parse','LOG','createManagedIdentity','xkUJk','azureresources','roleName','toLowerCase','exit','principalId','cloudProviderClientId','actionPermission\x20:\x20','NMHDK','AEzbR','CWZrR','pkSuM','beginDeleteAndWait','No\x20attached\x20role\x20for\x20the\x20client\x20key','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','xbyfY','zyAjV','PLeIe','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','get','MQkZf','TuWYx','uJtOE','WdWoO','getResourceGroups','clientId','jvvUV','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','inZCR','Cannot\x20find\x20subnets\x20','kwAKE','cloudProvider','getGridHostname','rnBfs','parameters','FkxCN','listForScope','RYWgB','roleAssignments','stack','eKkNv','pcSiz','Cannot\x20find\x20VPC\x20','JLRHZ','tlBJD','dFCPS','node','atdRM','457230qInPIa','LZdjN','managedClusters','denied','sYUlP','MQdiR','rws','voiUm','RwGeN','XRhqF','definition','KwldP','.json','hkBfP','DzZiq','./CloudProvider','wmbFA','dqNfO','sendEventToBackend','zfRCo','bztkd','CTuCt','sPXqF','storageClient','qBvfq','610lrclor','jKNLp','clusterAutoUpgrade','vLOea','name','fVnid','message','rjbOE','OnjAp','token','ouBkJ','containerClient','string','HRsvJ','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','SGmFU','WAszA','hkbbu','lvIXA','permissions','accessKey','rJYwh','PgTwV','virtualNetworks','OjZkm','cloudProviderSubscriptionId','roleDefinitions','turboscale-federated-deployment','slice','utf-8','yEaIi','getById','LqwaN','ekqax','uDkjI','setupNewCluster','YKBYW','JltiI','QdDxK','imqQr','YDQZa','1360hfKUJt','path','cloudProviderTenantId','2|4|5|0|3|1','enabled','DuTPo','qsHFG','allowed','GrQvy','BlnLD','toUpperCase','ahPmg','s3Bucket','XuivS','Lifecycle','\x20RESOURCE\x20GROUP:\x20','rQLae','networkClient','stringify','pAhqY','70iRCtdG','webSocketUtils','getClusterInfo','true','ZzKFB','hNIHa','nPkgU','subscriptionId','clusterName','getResourceClientId','rsOvp','entries','esiuZ','jecoz','RXoko','filter','@azure/arm-network','isBrowserstackCluster','cloudProviderResourceGroup','subnets','WYAFH','debug','ThjmB','MBGEW','createStorageAccount','KErks','resources','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','vRxIS','vPYKZ','WOQgo','xIWhS','vZZre','baseBlob','LjjJS','XDxIR','Storage\x20account\x20already\x20exists,\x20skipping','XcLsv','resourceGroup','sexKT','efuda','aXdot','YrJsh','tzJHK','cloudProviderClientSecret','@azure/identity','federatedidentity','securityProfile','push','cxTJy','WRYyc','ZMdZU','nUCzt','role\x20name\x20attached\x20-\x20','userInstanceType','Managed\x20identity\x20already\x20exists,\x20skipping','authClient','loadBalancer','[variables(\x27vnetSubnetID\x27)]','cUXrg','bdYVE','NmlJj','actions','deleteCluster','GwyTw','GoEBl','init','createFederatedAccountForHubHA','hzkXU','svkuT','cred','data','NpxAs','rWfNE','eInxf','iyzSG','asqqJ','hub','VFtRt','iLgaQ','OOiOQ','KQIoz','grcul','Found\x20only\x20one\x20resource\x20group:\x20','MOUGX','setClients','AzureCloudProvider','BzaDx','pfNeL','LqgBz','https://graph.microsoft.com/.default','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','cZSPC','lzRdR','PBmVw','gwGrV','6tMHVzq','sllTf','Content-Type','jTObO','sJImw','MJEOE','hicKN','LOTVi','CHjTG','../config/logger','HSaFk','split','dvvcj','No\x20CLI\x20tool\x20required','delete','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','@azure/arm-authorization','vFzCh','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','Deleting\x20the\x20cluster\x20','EuBKy','oidcIssuerProfile','WCYkU','exports','browserstack:managedBy','\x20TENANT\x20ID:\x20','createCluster','UJUwn','idCTT','yauol','daysAfterCreationGreaterThan','atsjh','fyDHe','gtFbr','join','SidKm','YzLhh','RTMgE','rXcKZ','IGqOA','piAXG','pNSYQ','Action\x20permission\x20list\x20is\x20empty\x0a','application/json','zmrjM','isVPCPresent','../permissions/AZURE.json','PbOxV','DSmBP','cTpwF','subscriptions/','FIXwm','RESOURCES','disableLocalAccounts','@azure/arm-storage','assignedTo(\x27','instanceType'];a1_0x5bc9=function(){return _0x5f5be3;};return a1_0x5bc9();}class AzureCloudProvider extends CloudProvider{constructor(_0x594494,_0x1352f5,_0x1ec641,_0x15e3fa){const _0x478b3d=a1_0x33b712,_0x2786a2={};_0x2786a2['iyFOt']='5|6|3|7|2|4|0|1';const _0x2a47aa=_0x2786a2,_0x576fa6=_0x2a47aa['iyFOt'][_0x478b3d(0x227)]('|');let _0x341e78=0x0;while(!![]){switch(_0x576fa6[_0x341e78++]){case'0':this[_0x478b3d(0x1b9)]=null;continue;case'1':this[_0x478b3d(0x1f4)]=null;continue;case'2':this[_0x478b3d(0x366)]=null;continue;case'3':this[_0x478b3d(0x26c)]=null;continue;case'4':this[_0x478b3d(0x268)]=null;continue;case'5':super(AZURE,_0x594494,_0x1352f5,_0x1ec641,_0x15e3fa);continue;case'6':this['cred']=null;continue;case'7':this[_0x478b3d(0x373)]=null;continue;}break;}}async['init'](){const _0x3e996a=a1_0x33b712;return await super[_0x3e996a(0x1fe)](),this;}[a1_0x33b712(0x211)](){const _0x5ce73f=a1_0x33b712,_0x11d2df=new ClientSecretCredential(global_registry[_0x5ce73f(0x393)],global_registry[_0x5ce73f(0x325)],global_registry['cloudProviderClientSecret']);this[_0x5ce73f(0x373)]=new ContainerServiceClient(_0x11d2df,global_registry[_0x5ce73f(0x381)]),this[_0x5ce73f(0x366)]=new StorageManagementClient(_0x11d2df,global_registry[_0x5ce73f(0x381)]),this[_0x5ce73f(0x268)]=new ResourceManagementClient(_0x11d2df,global_registry[_0x5ce73f(0x381)]),this[_0x5ce73f(0x1b9)]=new NetworkManagementClient(_0x11d2df,global_registry[_0x5ce73f(0x381)]),this[_0x5ce73f(0x1f4)]=new AuthorizationManagementClient(_0x11d2df,global_registry[_0x5ce73f(0x381)]),this['cred']=_0x11d2df;}[a1_0x33b712(0x2ed)](){const _0x5e1d7f=a1_0x33b712,_0x5ef1d0={};_0x5ef1d0[_0x5e1d7f(0x25e)]=function(_0x59de99,_0x146798){return _0x59de99+_0x146798;},_0x5ef1d0['Vwcsw']=_0x5e1d7f(0x258),_0x5ef1d0['iLMhx']=function(_0x383bbf,_0x1ba728){return _0x383bbf-_0x1ba728;};const _0x5785cc=_0x5ef1d0,_0x47a38a=global_registry[_0x5e1d7f(0x39d)][_0x5e1d7f(0x227)]('-'),_0x249e1c=_0x5785cc[_0x5e1d7f(0x25e)](_0x5785cc[_0x5e1d7f(0x2bc)],_0x47a38a[_0x5785cc[_0x5e1d7f(0x287)](_0x47a38a[_0x5e1d7f(0x2f6)],0x1)])[_0x5e1d7f(0x384)](0x0,0x18);return _0x249e1c[_0x5e1d7f(0x322)]();}['setCachedCredsInRegistry'](_0x353816){const _0x214af8=a1_0x33b712,_0x3979b0={};_0x3979b0[_0x214af8(0x362)]=_0x214af8(0x394);const _0xcceec6=_0x3979b0,_0x1e111c=_0xcceec6[_0x214af8(0x362)][_0x214af8(0x227)]('|');let _0x3debfc=0x0;while(!![]){switch(_0x1e111c[_0x3debfc++]){case'0':global_registry[_0x214af8(0x381)]=_0x353816[this[_0x214af8(0x279)]][_0x214af8(0x1c3)];continue;case'1':this[_0x214af8(0x211)]();continue;case'2':global_registry[_0x214af8(0x325)]=_0x353816[this[_0x214af8(0x279)]][_0x214af8(0x338)];continue;case'3':global_registry['cloudProviderResourceGroup']=_0x353816[this[_0x214af8(0x279)]]['resourceGroup'];continue;case'4':global_registry[_0x214af8(0x1e8)]=_0x353816[this[_0x214af8(0x279)]]['clientSecret'];continue;case'5':global_registry[_0x214af8(0x393)]=_0x353816[this[_0x214af8(0x279)]][_0x214af8(0x2ab)];continue;}break;}}async['getUserInput'](_0x4858d3,_0x53a0fc){const _0x477fce=a1_0x33b712,_0x47dde7={'SPPSs':function(_0x3633f6,_0x2afd17){return _0x3633f6===_0x2afd17;},'THgdv':_0x477fce(0x1f3),'pNSYQ':_0x477fce(0x229),'jOymx':function(_0x48c74e,_0x4799d3){return _0x48c74e(_0x4799d3);},'DSmBP':function(_0x108b9d,_0xec093a){return _0x108b9d(_0xec093a);},'DzZiq':function(_0x55ea1c,_0x14b4ad){return _0x55ea1c!==_0x14b4ad;},'eKkNv':_0x477fce(0x2fc),'VFtRt':function(_0x2d3243,_0x4e609c){return _0x2d3243(_0x4e609c);},'IGqOA':function(_0x32ac35,_0x1e716f){return _0x32ac35===_0x1e716f;},'NpxAs':_0x477fce(0x396),'nUCzt':function(_0x4ff779,_0x481ded){return _0x4ff779===_0x481ded;},'hNIHa':function(_0x20b631,_0x5104bb){return _0x20b631===_0x5104bb;},'sllTf':function(_0x543cab,_0x18340e){return _0x543cab===_0x18340e;},'tlBJD':function(_0x22b9b9,_0x1c6330){return _0x22b9b9===_0x1c6330;},'NkQfl':_0x477fce(0x357),'IIeub':'Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','zExMr':function(_0x1ad161,_0x2bbb6b){return _0x1ad161===_0x2bbb6b;},'KgMkH':function(_0x2e6abb,_0x16434f){return _0x2e6abb===_0x16434f;},'YNKCd':_0x477fce(0x35f),'svkuT':_0x477fce(0x242),'mMCJB':_0x477fce(0x1fd),'qXOIL':_0x477fce(0x297),'nyVLb':function(_0x5dcd76,_0x3a23ca){return _0x5dcd76<_0x3a23ca;},'uARcz':'TZhAT','cQZCz':_0x477fce(0x222),'qsHFG':function(_0x590a69,_0x5d88dd){return _0x590a69+_0x5d88dd;},'vLOea':function(_0x4b1e71,_0x23c29a){return _0x4b1e71(_0x23c29a);},'MBGEW':_0x477fce(0x22b),'rsOvp':function(_0x437ef5,_0x300e29){return _0x437ef5(_0x300e29);},'gxiCO':function(_0xb80d98,_0x54dcef){return _0xb80d98<=_0x54dcef;},'kVYyR':function(_0x1d5a6b,_0x24b8da){return _0x1d5a6b>_0x24b8da;},'ouBkJ':_0x477fce(0x215),'kUaPR':_0x477fce(0x390),'eInxf':function(_0x293bab,_0x94cedc){return _0x293bab-_0x94cedc;}},_0x1d850d=this[_0x477fce(0x279)][_0x477fce(0x39b)](),_0x294551=await _0x47dde7[_0x477fce(0x280)](_0x4858d3,_0x1d850d+'\x20CLIENT\x20ID:\x20'),_0x133cdf=await _0x47dde7[_0x477fce(0x24c)](_0x4858d3,_0x1d850d+'\x20CLIENT\x20SECRET:\x20'),_0x140227=await _0x47dde7[_0x477fce(0x280)](_0x4858d3,_0x1d850d+_0x477fce(0x235)),_0x35037a=await _0x47dde7[_0x477fce(0x24c)](_0x4858d3,_0x1d850d+_0x477fce(0x2c2));global_registry['cloudProviderClientId']=_0x294551,global_registry['cloudProviderClientSecret']=_0x133cdf,global_registry['cloudProviderTenantId']=_0x140227,global_registry[_0x477fce(0x381)]=_0x35037a,this[_0x477fce(0x211)]();const _0x51e2d1=await this[_0x477fce(0x337)](),_0x24632f=_0x51e2d1['length'];let _0x1dcf08;if(_0x47dde7[_0x477fce(0x27d)](_0x24632f,0x0)){if(_0x47dde7['DzZiq'](_0x47dde7[_0x477fce(0x347)],_0x47dde7[_0x477fce(0x347)]))return!![];else _0x1dcf08=await _0x47dde7['VFtRt'](_0x4858d3,_0x1d850d+_0x477fce(0x1b7));}else{if(_0x47dde7[_0x477fce(0x243)](_0x24632f,0x1)){if(_0x47dde7[_0x477fce(0x35d)](_0x47dde7[_0x477fce(0x204)],_0x47dde7[_0x477fce(0x204)]))_0x4d2fa5[_0x477fce(0x265)]=_0x23c287;else{const _0x5a5582=await _0x47dde7[_0x477fce(0x20a)](_0x4858d3,_0x477fce(0x20f)+_0x51e2d1[0x0]+_0x477fce(0x1d7));if(_0x47dde7[_0x477fce(0x1f0)](_0x5a5582,undefined)||_0x47dde7[_0x477fce(0x1c1)](_0x5a5582,null)||!(_0x47dde7[_0x477fce(0x21d)](_0x5a5582['toLowerCase'](),'y')||_0x47dde7[_0x477fce(0x34b)](_0x5a5582['toLowerCase'](),'n'))){if(_0x47dde7['DzZiq'](_0x47dde7[_0x477fce(0x311)],_0x47dde7[_0x477fce(0x311)])){if(_0x47dde7[_0x477fce(0x27d)](_0x304d14['name'],_0x512d0c))return!![];}else console['error'](_0x47dde7['IIeub']),process[_0x477fce(0x323)](0x1);}_0x47dde7[_0x477fce(0x2ec)](_0x5a5582[_0x477fce(0x322)](),'n')&&(_0x47dde7['KgMkH'](_0x47dde7[_0x477fce(0x2ce)],_0x47dde7[_0x477fce(0x201)])?_0x357f4d['info'](_0x47dde7[_0x477fce(0x315)]):process[_0x477fce(0x323)](0x0)),_0x1dcf08=_0x51e2d1[0x0];}}else{if(_0x47dde7['DzZiq'](_0x47dde7[_0x477fce(0x2c3)],_0x47dde7['qXOIL'])){for(let _0x28de35=0x0;_0x47dde7[_0x477fce(0x316)](_0x28de35,_0x51e2d1[_0x477fce(0x2f6)]);_0x28de35+=0x1){_0x47dde7[_0x477fce(0x35d)](_0x47dde7[_0x477fce(0x295)],_0x47dde7['cQZCz'])?console[_0x477fce(0x285)]('['+_0x47dde7[_0x477fce(0x397)](_0x28de35,0x1)+']\x20'+_0x51e2d1[_0x28de35]):_0x203240[_0x477fce(0x1ec)](..._0x315cb5[_0x477fce(0x1fa)]);}const _0x2e3dd5=await _0x47dde7[_0x477fce(0x36b)](_0x4858d3,_0x47dde7[_0x477fce(0x1d3)]),_0x59b260=_0x47dde7[_0x477fce(0x1c6)](Number,_0x2e3dd5);(_0x47dde7[_0x477fce(0x24c)](isNaN,_0x59b260)||_0x47dde7[_0x477fce(0x309)](_0x59b260,0x0)||_0x47dde7['kVYyR'](_0x59b260,_0x24632f))&&(_0x47dde7[_0x477fce(0x1c1)](_0x47dde7[_0x477fce(0x372)],_0x47dde7[_0x477fce(0x29e)])?_0x3fbd26=_0x2e1b44['id']:(console[_0x477fce(0x265)](_0x47dde7['IIeub']),process[_0x477fce(0x323)](0x1))),_0x1dcf08=_0x51e2d1[_0x47dde7[_0x477fce(0x206)](_0x59b260,0x1)];}else{const _0x534498={};_0x534498[_0x477fce(0x27a)]=!![],_0x534498[_0x477fce(0x265)]=null,_0x534498[_0x477fce(0x203)]=_0x47dde7[_0x477fce(0x245)];const _0x10303f=_0x534498;return _0x10303f;}}}global_registry[_0x477fce(0x1ce)]=_0x1dcf08;const _0x42bc47={};return _0x42bc47['clientId']=_0x294551,_0x42bc47[_0x477fce(0x29b)]=_0x133cdf,_0x42bc47[_0x477fce(0x2ab)]=_0x140227,_0x42bc47[_0x477fce(0x1c3)]=_0x35037a,_0x42bc47[_0x477fce(0x1e2)]=_0x1dcf08,_0x53a0fc[_0x477fce(0x33e)][AZURE]=_0x42bc47,_0x53a0fc;}async[a1_0x33b712(0x337)](){const _0x399c71=a1_0x33b712,_0x1de801={};_0x1de801[_0x399c71(0x377)]=function(_0x3a16bf,_0x2c2101){return _0x3a16bf+_0x2c2101;},_0x1de801[_0x399c71(0x232)]=function(_0x585a97,_0x276c89){return _0x585a97!==_0x276c89;},_0x1de801[_0x399c71(0x2da)]=_0x399c71(0x25c),_0x1de801['hzkXU']=function(_0x59516c,_0x4f9bc6){return _0x59516c===_0x4f9bc6;},_0x1de801[_0x399c71(0x277)]=_0x399c71(0x228),_0x1de801[_0x399c71(0x263)]=_0x399c71(0x27b);const _0x58e4f4=_0x1de801,_0x45b961=[];try{if(_0x58e4f4[_0x399c71(0x232)](_0x58e4f4[_0x399c71(0x2da)],_0x58e4f4['jNFSu']))_0x5f35c2[_0x399c71(0x1ec)](_0x52be78['name']);else{const _0x31ba14=await this[_0x399c71(0x268)]['resourceGroups'][_0x399c71(0x2df)]();for await(const _0x24ba0a of _0x31ba14){_0x58e4f4[_0x399c71(0x200)](_0x58e4f4[_0x399c71(0x277)],_0x58e4f4[_0x399c71(0x263)])?_0x31620d[_0x399c71(0x285)]('['+_0x58e4f4[_0x399c71(0x377)](_0xe56e88,0x1)+']\x20'+_0x193084[_0x2714b9]):_0x45b961['push'](_0x24ba0a[_0x399c71(0x36c)]);}}}catch(_0x44d542){}return _0x45b961;}async[a1_0x33b712(0x1be)](){const _0xfa7f91=a1_0x33b712;return this['clusterInfo']=await this[_0xfa7f91(0x373)][_0xfa7f91(0x351)][_0xfa7f91(0x332)](global_registry['cloudProviderResourceGroup'],this[_0xfa7f91(0x1c4)]),this['clusterInfo'];}async['getKubeConfigData'](){const _0x1442ea=a1_0x33b712,_0x36e411=await this[_0x1442ea(0x373)][_0x1442ea(0x351)]['listClusterAdminCredentials'](global_registry[_0x1442ea(0x1ce)],this[_0x1442ea(0x1c4)]),_0x172899=_0x36e411['kubeconfigs'][0x0][_0x1442ea(0x28d)][_0x1442ea(0x2ae)]();return _0x172899;}[a1_0x33b712(0x33f)](_0x126ace){const _0x14f4f2=a1_0x33b712;return _0x126ace[_0x14f4f2(0x27a)][_0x14f4f2(0x1f5)]['ingress'][0x0]['hostname'];}async[a1_0x33b712(0x274)](){const _0x26f3bc=a1_0x33b712,_0x3561ae={};_0x3561ae[_0x26f3bc(0x2ea)]=_0x26f3bc(0x217),_0x3561ae[_0x26f3bc(0x282)]=function(_0x57acff,_0x5f48c1){return _0x57acff!==_0x5f48c1;},_0x3561ae[_0x26f3bc(0x37d)]=_0x26f3bc(0x2c4),_0x3561ae[_0x26f3bc(0x36d)]='UlDjh',_0x3561ae[_0x26f3bc(0x23b)]='bUuYj',_0x3561ae[_0x26f3bc(0x2a3)]=function(_0x480ac8,_0x32ee4f){return _0x480ac8===_0x32ee4f;},_0x3561ae['MOUGX']=_0x26f3bc(0x35a);const _0x204364=_0x3561ae,_0x59826c=new Array();for await(const _0x465b14 of this[_0x26f3bc(0x373)][_0x26f3bc(0x351)][_0x26f3bc(0x2f0)](global_registry[_0x26f3bc(0x1ce)])){if(_0x204364[_0x26f3bc(0x282)](_0x204364[_0x26f3bc(0x37d)],_0x204364[_0x26f3bc(0x37d)])){const _0x11d596=new _0x44d645(_0x2ba015['cloudProviderTenantId'],_0x54e016[_0x26f3bc(0x325)],_0x47ee03[_0x26f3bc(0x1e8)]);this[_0x26f3bc(0x373)]=new _0x4e85f3(_0x11d596,_0x2e297c[_0x26f3bc(0x381)]),this[_0x26f3bc(0x366)]=new _0x510a57(_0x11d596,_0x5c0381[_0x26f3bc(0x381)]),this[_0x26f3bc(0x268)]=new _0x5eee4c(_0x11d596,_0x584d29['cloudProviderSubscriptionId']),this['networkClient']=new _0x1dc686(_0x11d596,_0x4d8105[_0x26f3bc(0x381)]),this['authClient']=new _0x68f693(_0x11d596,_0x305a0e[_0x26f3bc(0x381)]),this[_0x26f3bc(0x202)]=_0x11d596;}else _0x59826c[_0x26f3bc(0x1ec)](_0x465b14);}for await(const _0x588133 of _0x59826c){if(_0x204364['gtDYM'](_0x204364[_0x26f3bc(0x36d)],_0x204364[_0x26f3bc(0x23b)])){if(_0x204364['dkeGr'](_0x588133[_0x26f3bc(0x36c)],this['clusterName']))return _0x204364['gtDYM'](_0x204364[_0x26f3bc(0x210)],_0x204364[_0x26f3bc(0x210)])?_0x2f5460[_0x26f3bc(0x27a)][_0x26f3bc(0x1f5)]['ingress'][0x0]['hostname']:(await this[_0x26f3bc(0x1be)](),!![]);}else _0x44949c['error'](_0x204364[_0x26f3bc(0x2ea)]),_0x1248a6[_0x26f3bc(0x323)](0x1);}return![];}async[a1_0x33b712(0x38b)](_0x5b2728=null,_0x1f3897=null){const _0x43c7da=a1_0x33b712,_0x5eb668={};_0x5eb668[_0x43c7da(0x356)]='4|0|5|1|3|2',_0x5eb668[_0x43c7da(0x350)]='Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity';const _0x184ff=_0x5eb668,_0x4d65bd=_0x184ff['voiUm'][_0x43c7da(0x227)]('|');let _0x37e1da=0x0;while(!![]){switch(_0x4d65bd[_0x37e1da++]){case'0':const _0x22d71a={};_0x22d71a[_0x43c7da(0x291)]=WS_EVENTS[_0x43c7da(0x31d)],_0x22d71a[_0x43c7da(0x36e)]=_0x184ff[_0x43c7da(0x350)],this[_0x43c7da(0x1bd)][_0x43c7da(0x361)](this['rws'],_0x22d71a);continue;case'1':await this['createCluster'](_0x5b2728,_0x1f3897);continue;case'2':return[_0x5b2728,_0x1f3897];case'3':await this[_0x43c7da(0x2cd)]();continue;case'4':this['sendAzureInfoToHST']();continue;case'5':logger[_0x43c7da(0x2fa)](_0x184ff['LZdjN']);continue;}break;}}async[a1_0x33b712(0x236)](_0x4feb31=null,_0x2b4232=null){const _0x1505ad=a1_0x33b712,_0x3e8e03={};_0x3e8e03['YKBYW']=_0x1505ad(0x26e),_0x3e8e03[_0x1505ad(0x27f)]=_0x1505ad(0x320),_0x3e8e03['jecoz']=_0x1505ad(0x317),_0x3e8e03[_0x1505ad(0x25d)]=_0x1505ad(0x385),_0x3e8e03['DPudl']=_0x1505ad(0x1bf),_0x3e8e03[_0x1505ad(0x29a)]=_0x1505ad(0x2a5),_0x3e8e03[_0x1505ad(0x31b)]=function(_0x1f558c,_0x2141a8){return _0x1f558c!==_0x2141a8;},_0x3e8e03[_0x1505ad(0x208)]=function(_0x6c680c,_0x4446e7){return _0x6c680c===_0x4446e7;},_0x3e8e03[_0x1505ad(0x238)]='BnPnk',_0x3e8e03[_0x1505ad(0x36f)]=_0x1505ad(0x1ee),_0x3e8e03[_0x1505ad(0x24f)]=_0x1505ad(0x374),_0x3e8e03[_0x1505ad(0x1f7)]=_0x1505ad(0x331),_0x3e8e03[_0x1505ad(0x286)]=_0x1505ad(0x2a9),_0x3e8e03[_0x1505ad(0x30e)]=_0x1505ad(0x1f6),_0x3e8e03['pfNeL']='turboscale-cluster-deployment',_0x3e8e03[_0x1505ad(0x1f8)]=_0x1505ad(0x2b8);const _0x3e7f7d=_0x3e8e03;let _0x7c0b57=await fs['readFileAsync'](path[_0x1505ad(0x23e)](__dirname,'..',_0x3e7f7d[_0x1505ad(0x38c)],_0x3e7f7d[_0x1505ad(0x27f)],_0x3e7f7d[_0x1505ad(0x1c9)]),_0x3e7f7d[_0x1505ad(0x25d)]);_0x7c0b57=JSON[_0x1505ad(0x31c)](_0x7c0b57);const _0x33edaf={};_0x33edaf[_0x1505ad(0x28d)]=this['clusterName'];const _0x2d23e0={};_0x2d23e0[_0x1505ad(0x28d)]=global_registry[_0x1505ad(0x306)];const _0xc01b81={};_0xc01b81[_0x1505ad(0x28d)]=global_registry[_0x1505ad(0x254)];const _0x49bd13={};_0x49bd13[_0x1505ad(0x28d)]=global_registry[_0x1505ad(0x293)];const _0x286595={};_0x286595[_0x1505ad(0x28d)]=global_registry[_0x1505ad(0x36a)]?_0x3e7f7d[_0x1505ad(0x2e0)]:_0x3e7f7d[_0x1505ad(0x29a)];const _0x4689ef={};_0x4689ef[_0x1505ad(0x1c4)]=_0x33edaf,_0x4689ef['location']=_0x2d23e0,_0x4689ef[_0x1505ad(0x1f2)]=_0xc01b81,_0x4689ef['userMaxNodes']=_0x49bd13,_0x4689ef[_0x1505ad(0x36a)]=_0x286595;let _0x40845d=_0x4689ef;if(_0x3e7f7d[_0x1505ad(0x31b)](_0x4feb31,null)&&_0x3e7f7d['xlmmr'](_0x2b4232,null)){if(_0x3e7f7d[_0x1505ad(0x208)](_0x3e7f7d[_0x1505ad(0x238)],_0x3e7f7d[_0x1505ad(0x36f)]))_0x39211f[_0x1505ad(0x1ec)](_0xd5bd65);else{const _0x2064ce={};_0x2064ce[_0x1505ad(0x291)]=_0x3e7f7d[_0x1505ad(0x24f)],_0x2064ce[_0x1505ad(0x2a8)]={},_0x2064ce[_0x1505ad(0x2a8)][_0x1505ad(0x2be)]=_0x3e7f7d[_0x1505ad(0x1f7)];const _0x1765db={};_0x1765db[_0x1505ad(0x291)]=_0x3e7f7d['FIXwm'],_0x1765db[_0x1505ad(0x2a8)]={},_0x1765db[_0x1505ad(0x2a8)][_0x1505ad(0x2be)]=_0x3e7f7d['cUXrg'],_0x7c0b57[_0x1505ad(0x341)]={..._0x7c0b57[_0x1505ad(0x341)],'vpcName':_0x2064ce,'subnetName':_0x1765db};const _0x148558={};_0x148558['vnetSubnetID']=_0x3e7f7d['NjqyV'],_0x7c0b57['variables']=_0x148558,_0x7c0b57[_0x1505ad(0x1d6)][0x0][_0x1505ad(0x2c5)][_0x1505ad(0x303)][0x0]={..._0x7c0b57[_0x1505ad(0x1d6)][0x0][_0x1505ad(0x2c5)][_0x1505ad(0x303)][0x0],'vnetSubnetID':_0x3e7f7d[_0x1505ad(0x30e)]};const _0x2ec9da={};_0x2ec9da[_0x1505ad(0x28d)]=_0x4feb31;const _0x3f2fb5={};_0x3f2fb5[_0x1505ad(0x28d)]=_0x2b4232[0x0],_0x40845d={..._0x40845d,'vpcName':_0x2ec9da,'subnetName':_0x3f2fb5};}}await this['resourceClient'][_0x1505ad(0x2c8)][_0x1505ad(0x296)](global_registry[_0x1505ad(0x1ce)],_0x3e7f7d[_0x1505ad(0x214)],{'properties':{'template':_0x7c0b57,'mode':_0x3e7f7d[_0x1505ad(0x1f8)],'parameters':_0x40845d}});}async[a1_0x33b712(0x2cd)](){const _0x58b482=a1_0x33b712,_0x22b02e={};_0x22b02e[_0x58b482(0x38a)]='Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster',_0x22b02e[_0x58b482(0x344)]=function(_0xb9238,_0x4a2e92){return _0xb9238===_0x4a2e92;},_0x22b02e[_0x58b482(0x2cb)]=_0x58b482(0x1e0),_0x22b02e[_0x58b482(0x1e1)]=_0x58b482(0x353),_0x22b02e['DcdJQ']='Creating\x20Azure\x20storage\x20account',_0x22b02e[_0x58b482(0x28f)]=_0x58b482(0x261),_0x22b02e[_0x58b482(0x2f5)]=function(_0x45fd2f,_0x587c86){return _0x45fd2f!==_0x587c86;},_0x22b02e[_0x58b482(0x2b7)]='nALuN',_0x22b02e[_0x58b482(0x1da)]=_0x58b482(0x2e8),_0x22b02e['jVUIl']='Creating\x20Azure\x20managed\x20identity',_0x22b02e['uvQhj']=_0x58b482(0x2dd),_0x22b02e[_0x58b482(0x226)]=_0x58b482(0x2a4),_0x22b02e['cZSPC']=_0x58b482(0x1f3),_0x22b02e[_0x58b482(0x248)]='Creating\x20Azure\x20federated\x20identity',_0x22b02e['FsKMT']='Created\x20Azure\x20federated\x20identity';const _0x5932a2=_0x22b02e,_0x1d4d44=await this['isStorageAccountPresent']();if(!_0x1d4d44){if(_0x5932a2['RYWgB'](_0x5932a2[_0x58b482(0x1e1)],_0x5932a2[_0x58b482(0x1e1)])){const _0x518765={};_0x518765[_0x58b482(0x291)]=WS_EVENTS[_0x58b482(0x31d)],_0x518765[_0x58b482(0x36e)]=_0x5932a2[_0x58b482(0x30a)],this[_0x58b482(0x1bd)]['sendEventToBackend'](this[_0x58b482(0x355)],_0x518765),logger[_0x58b482(0x2fa)](_0x5932a2[_0x58b482(0x30a)]),await this[_0x58b482(0x1d4)]();}else{_0x2994a7['info'](_0x5932a2['uDkjI']);const _0x5bc018={};_0x5bc018[_0x58b482(0x291)]=_0x41dbf3[_0x58b482(0x250)],_0x5bc018['message']=_0x5932a2['uDkjI'],this[_0x58b482(0x1bd)][_0x58b482(0x361)](this[_0x58b482(0x355)],_0x5bc018),_0x27c5c6[_0x58b482(0x231)]['enabled']=!![];}}else{if(_0x5932a2[_0x58b482(0x344)](_0x5932a2[_0x58b482(0x28f)],_0x5932a2[_0x58b482(0x28f)]))logger['info'](_0x5932a2['dMeQg']);else return;}const _0x317e9b=await this[_0x58b482(0x2af)]();if(!_0x317e9b){if(_0x5932a2[_0x58b482(0x2f5)](_0x5932a2[_0x58b482(0x2b7)],_0x5932a2[_0x58b482(0x1da)])){const _0x28556b={};_0x28556b[_0x58b482(0x291)]=WS_EVENTS[_0x58b482(0x31d)],_0x28556b[_0x58b482(0x36e)]=_0x5932a2[_0x58b482(0x2cc)],this[_0x58b482(0x1bd)][_0x58b482(0x361)](this[_0x58b482(0x355)],_0x28556b),logger['info'](_0x5932a2[_0x58b482(0x2cc)]),await this['createManagedIdentity']();}else _0x5932a2['RYWgB'](_0x77b154[_0x58b482(0x36c)],_0x167226)&&(_0x3a81b6=_0x4faa18['id']);}else _0x5932a2[_0x58b482(0x2f5)](_0x5932a2[_0x58b482(0x26d)],_0x5932a2[_0x58b482(0x226)])?logger['info'](_0x5932a2[_0x58b482(0x218)]):_0x2183e0['info'](_0x5932a2[_0x58b482(0x2cb)]);logger['info'](_0x5932a2[_0x58b482(0x248)]),await this['createFederatedAccount'](),logger[_0x58b482(0x2fa)](_0x5932a2[_0x58b482(0x307)]);}async[a1_0x33b712(0x1d4)](){const _0x2269cd=a1_0x33b712,_0x549b91={};_0x549b91[_0x2269cd(0x1c0)]=_0x2269cd(0x26e),_0x549b91[_0x2269cd(0x244)]='azureresources',_0x549b91[_0x2269cd(0x255)]='storageaccount.json',_0x549b91[_0x2269cd(0x33b)]=_0x2269cd(0x385),_0x549b91['KQIoz']=_0x2269cd(0x2b5),_0x549b91[_0x2269cd(0x2e4)]='Incremental',_0x549b91['OXjIo']=_0x2269cd(0x271),_0x549b91[_0x2269cd(0x363)]=_0x2269cd(0x1b6),_0x549b91[_0x2269cd(0x30b)]=_0x2269cd(0x290),_0x549b91[_0x2269cd(0x327)]='default';const _0x3cedf4=_0x549b91;let _0x4eefd5=await fs['readFileAsync'](path[_0x2269cd(0x23e)](__dirname,'..',_0x3cedf4[_0x2269cd(0x1c0)],_0x3cedf4[_0x2269cd(0x244)],_0x3cedf4[_0x2269cd(0x255)]),_0x3cedf4[_0x2269cd(0x33b)]);_0x4eefd5=JSON[_0x2269cd(0x31c)](_0x4eefd5);const _0x22075e=this[_0x2269cd(0x2ed)](),_0x400c5b={};_0x400c5b['value']=_0x22075e;const _0x3a5bdf={};_0x3a5bdf[_0x2269cd(0x29f)]=_0x400c5b,await this['resourceClient'][_0x2269cd(0x2c8)]['beginCreateOrUpdateAndWait'](global_registry[_0x2269cd(0x1ce)],_0x3cedf4[_0x2269cd(0x20d)],{'properties':{'template':_0x4eefd5,'mode':_0x3cedf4['buibj'],'parameters':_0x3a5bdf}});const _0x591730={};_0x591730[_0x2269cd(0x23a)]=0x3c;const _0x1dca55={};_0x1dca55[_0x2269cd(0x22a)]=_0x591730;const _0x310589={};_0x310589[_0x2269cd(0x1dd)]=_0x1dca55;const _0x1ad614={};_0x1ad614['enabled']=!![],_0x1ad614[_0x2269cd(0x36c)]=_0x3cedf4['OXjIo'],_0x1ad614[_0x2269cd(0x291)]=_0x3cedf4[_0x2269cd(0x363)],_0x1ad614[_0x2269cd(0x359)]={},_0x1ad614[_0x2269cd(0x359)][_0x2269cd(0x1fa)]=_0x310589,_0x1ad614[_0x2269cd(0x359)]['filters']={},_0x1ad614[_0x2269cd(0x359)]['filters'][_0x2269cd(0x26b)]=[_0x3cedf4[_0x2269cd(0x30b)]];const _0x2d8d3d={};_0x2d8d3d['rules']=[_0x1ad614];const _0x367ab9={};_0x367ab9[_0x2269cd(0x26a)]=_0x2d8d3d;const _0x321f88=_0x367ab9;await this[_0x2269cd(0x366)][_0x2269cd(0x30f)][_0x2269cd(0x2b0)](global_registry[_0x2269cd(0x1ce)],_0x22075e,_0x3cedf4[_0x2269cd(0x327)],_0x321f88);}async[a1_0x33b712(0x31e)](){const _0x2ffe67=a1_0x33b712,_0x8c5ab6={};_0x8c5ab6[_0x2ffe67(0x32a)]='templates',_0x8c5ab6[_0x2ffe67(0x340)]=_0x2ffe67(0x320),_0x8c5ab6[_0x2ffe67(0x23c)]=_0x2ffe67(0x2f7),_0x8c5ab6[_0x2ffe67(0x1e3)]=_0x2ffe67(0x385),_0x8c5ab6[_0x2ffe67(0x220)]='turboscale-identity-deployment',_0x8c5ab6[_0x2ffe67(0x240)]='Incremental';const _0x1ab2de=_0x8c5ab6;let _0x38703a=await fs['readFileAsync'](path[_0x2ffe67(0x23e)](__dirname,'..',_0x1ab2de[_0x2ffe67(0x32a)],_0x1ab2de['rnBfs'],_0x1ab2de[_0x2ffe67(0x23c)]),_0x1ab2de[_0x2ffe67(0x1e3)]);_0x38703a=JSON['parse'](_0x38703a),await this[_0x2ffe67(0x268)][_0x2ffe67(0x2c8)][_0x2ffe67(0x296)](global_registry[_0x2ffe67(0x1ce)],_0x1ab2de[_0x2ffe67(0x220)],{'properties':{'template':_0x38703a,'mode':_0x1ab2de['YzLhh'],'parameters':{'clusterName':{'value':this[_0x2ffe67(0x1c4)]}}}});}async[a1_0x33b712(0x256)](){const _0x2e8cef=a1_0x33b712,_0x4a2541={'jvvUV':function(_0x298b81,_0x20e380,_0x3d66b1){return _0x298b81(_0x20e380,_0x3d66b1);},'hkBfP':function(_0x3107cb,_0x2bb063){return _0x3107cb!==_0x2bb063;},'lHFsE':_0x2e8cef(0x27e),'RTMgE':_0x2e8cef(0x209),'CeLtk':_0x2e8cef(0x34d),'aqxYG':function(_0x42abd2,_0x3362a1){return _0x42abd2===_0x3362a1;},'OnjAp':'Hjkkc','epHXn':'SPKmo','pVaYq':_0x2e8cef(0x26e),'CHjTG':_0x2e8cef(0x320),'JLRHZ':_0x2e8cef(0x385),'WYAFH':_0x2e8cef(0x383),'SidKm':'Incremental'};!this[_0x2e8cef(0x26c)]&&(_0x4a2541[_0x2e8cef(0x35c)](_0x4a2541[_0x2e8cef(0x2ba)],_0x4a2541[_0x2e8cef(0x2ba)])?_0x4a2541[_0x2e8cef(0x339)](_0x5ad003,()=>_0x5545dd(),0x3e8):await this['getClusterInfo']());const _0x488fc0=this[_0x2e8cef(0x26c)]?.[_0x2e8cef(0x231)]?.[_0x2e8cef(0x259)],_0x39f048=[_0x4a2541[_0x2e8cef(0x241)],_0x4a2541[_0x2e8cef(0x300)]];for await(const _0x210f79 of _0x39f048){if(_0x4a2541[_0x2e8cef(0x25a)](_0x4a2541[_0x2e8cef(0x370)],_0x4a2541[_0x2e8cef(0x2fb)]))return!![];else{let _0x5b39e9=await fs[_0x2e8cef(0x2d7)](path[_0x2e8cef(0x23e)](__dirname,'..',_0x4a2541[_0x2e8cef(0x264)],_0x4a2541[_0x2e8cef(0x224)],_0x2e8cef(0x1ea)+_0x210f79+_0x2e8cef(0x35b)),_0x4a2541[_0x2e8cef(0x34a)]);_0x5b39e9=JSON[_0x2e8cef(0x31c)](_0x5b39e9);const _0x4dc88f={};_0x4dc88f[_0x2e8cef(0x28d)]=_0x488fc0,await this[_0x2e8cef(0x268)][_0x2e8cef(0x2c8)]['beginCreateOrUpdateAndWait'](global_registry['cloudProviderResourceGroup'],_0x4a2541[_0x2e8cef(0x1d0)],{'properties':{'template':_0x5b39e9,'mode':_0x4a2541[_0x2e8cef(0x23f)],'parameters':{'oidcIssuer':_0x4dc88f,'gridName':{'value':this[_0x2e8cef(0x2f9)]},'clusterName':{'value':this[_0x2e8cef(0x1c4)]}}}});}}}async[a1_0x33b712(0x2e7)](_0x20119f,_0x1211cf,_0x24de7b,_0x86e740,_0x8a0b6f){const _0x2c3eee=a1_0x33b712,_0x3819bf={};_0x3819bf[_0x2c3eee(0x318)]=_0x2c3eee(0x376),_0x3819bf[_0x2c3eee(0x24d)]=_0x2c3eee(0x33a);const _0x468966=_0x3819bf,_0x2bd90b={};_0x2bd90b[_0x2c3eee(0x291)]=WS_EVENTS[_0x2c3eee(0x31d)],_0x2bd90b['message']=_0x468966['QvEbm'],this[_0x2c3eee(0x1bd)][_0x2c3eee(0x361)](this[_0x2c3eee(0x355)],_0x2bd90b),logger[_0x2c3eee(0x2fa)](_0x468966[_0x2c3eee(0x318)]),await this['createFederatedAccountForHubHA']();const _0x48bbaa={};_0x48bbaa[_0x2c3eee(0x291)]=WS_EVENTS[_0x2c3eee(0x31d)],_0x48bbaa[_0x2c3eee(0x36e)]=_0x468966[_0x2c3eee(0x24d)],this[_0x2c3eee(0x1bd)][_0x2c3eee(0x361)](this[_0x2c3eee(0x355)],_0x48bbaa);}async[a1_0x33b712(0x1ff)](){const _0xccb9cc=a1_0x33b712,_0x52d4c1={};_0x52d4c1[_0xccb9cc(0x2b9)]=_0xccb9cc(0x269),_0x52d4c1['UJUwn']=function(_0x349e0e,_0x350939){return _0x349e0e===_0x350939;},_0x52d4c1['vPYKZ']=_0xccb9cc(0x1b5),_0x52d4c1[_0xccb9cc(0x378)]=_0xccb9cc(0x369),_0x52d4c1['NmlJj']=_0xccb9cc(0x26e),_0x52d4c1[_0xccb9cc(0x360)]='hubharesources',_0x52d4c1[_0xccb9cc(0x367)]='federatedidentityuploader.json',_0x52d4c1[_0xccb9cc(0x1b8)]=_0xccb9cc(0x385),_0x52d4c1[_0xccb9cc(0x379)]=_0xccb9cc(0x383),_0x52d4c1[_0xccb9cc(0x266)]=_0xccb9cc(0x2b8);const _0x29ca15=_0x52d4c1;if(!this[_0xccb9cc(0x26c)]){if(_0x29ca15[_0xccb9cc(0x237)](_0x29ca15[_0xccb9cc(0x1d9)],_0x29ca15[_0xccb9cc(0x378)]))return _0x4316d7['data']=_0x29ca15[_0xccb9cc(0x2b9)],_0x31f1fb;else await this['getClusterInfo']();}const _0x56e5aa=this['clusterInfo']?.[_0xccb9cc(0x231)]?.['issuerURL'];let _0x2b4f9d=await fs[_0xccb9cc(0x2d7)](path[_0xccb9cc(0x23e)](__dirname,'..',_0x29ca15[_0xccb9cc(0x1f9)],_0x29ca15[_0xccb9cc(0x360)],_0x29ca15[_0xccb9cc(0x367)]),_0x29ca15[_0xccb9cc(0x1b8)]);_0x2b4f9d=JSON[_0xccb9cc(0x31c)](_0x2b4f9d);const _0x43a513={};_0x43a513[_0xccb9cc(0x28d)]=_0x56e5aa,await this[_0xccb9cc(0x268)]['deployments'][_0xccb9cc(0x296)](global_registry[_0xccb9cc(0x1ce)],_0x29ca15[_0xccb9cc(0x379)],{'properties':{'template':_0x2b4f9d,'mode':_0x29ca15[_0xccb9cc(0x266)],'parameters':{'oidcIssuer':_0x43a513,'namespace':{'value':global_registry['hubHaNameSpace']},'clusterName':{'value':this[_0xccb9cc(0x1c4)]}}}});}async['isStorageAccountPresent'](){const _0x152606=a1_0x33b712,_0x4df5bd={};_0x4df5bd[_0x152606(0x20e)]=_0x152606(0x217),_0x4df5bd[_0x152606(0x39c)]='Enabling\x20Workload\x20identity\x20for\x20the\x20cluster',_0x4df5bd['GwyTw']=function(_0x2fec8b,_0x572b94){return _0x2fec8b===_0x572b94;},_0x4df5bd[_0x152606(0x2a6)]='RjGcq',_0x4df5bd['ezdBM']=_0x152606(0x32f),_0x4df5bd['hLGhC']=function(_0x4e3607,_0x453939){return _0x4e3607===_0x453939;},_0x4df5bd[_0x152606(0x38d)]=_0x152606(0x1d5),_0x4df5bd['pcSiz']='kFZLW';const _0x2ce530=_0x4df5bd,_0x1d2688=this[_0x152606(0x2ed)](),_0x103b24=new Array();for await(const _0x12b0fc of this[_0x152606(0x366)][_0x152606(0x2d0)]['listByResourceGroup'](global_registry[_0x152606(0x1ce)])){_0x2ce530['GwyTw'](_0x2ce530['AsenM'],_0x2ce530['AsenM'])?_0x103b24[_0x152606(0x1ec)](_0x12b0fc):(_0x1a1568[_0x152606(0x265)](_0x2ce530[_0x152606(0x20e)]),_0x49b8ea[_0x152606(0x323)](0x1));}for await(const _0x1036f8 of _0x103b24){if(_0x2ce530['GwyTw'](_0x2ce530[_0x152606(0x2ad)],_0x2ce530[_0x152606(0x2ad)])){if(_0x2ce530[_0x152606(0x1fc)](_0x1036f8['name'],_0x1d2688)){if(_0x2ce530['hLGhC'](_0x2ce530[_0x152606(0x38d)],_0x2ce530[_0x152606(0x348)]))_0xbe2150[_0x152606(0x27a)]=![];else return!![];}}else{_0x43b4d4['info'](_0x2ce530[_0x152606(0x39c)]);const _0x32204b={};_0x32204b[_0x152606(0x291)]=_0x53481e[_0x152606(0x250)],_0x32204b[_0x152606(0x36e)]=_0x2ce530['ahPmg'],this[_0x152606(0x1bd)][_0x152606(0x361)](this['rws'],_0x32204b);const _0x1faa4d={};_0x1faa4d[_0x152606(0x395)]=!![];const _0x4de2cf={'workloadIdentity':_0x1faa4d,..._0x46f740[_0x152606(0x1eb)]};_0x12d75d[_0x152606(0x1eb)]=_0x4de2cf;}}return![];}async['isManagedIdentityPresent'](){const _0x52f8ea=a1_0x33b712,_0x565e90={};_0x565e90[_0x52f8ea(0x288)]=function(_0x554a42,_0x5855c6){return _0x554a42===_0x5855c6;},_0x565e90[_0x52f8ea(0x308)]=_0x52f8ea(0x1db),_0x565e90[_0x52f8ea(0x31f)]=_0x52f8ea(0x1d8),_0x565e90['WRmNh']=function(_0x37702c,_0x2c3b30){return _0x37702c===_0x2c3b30;},_0x565e90[_0x52f8ea(0x2e1)]=_0x52f8ea(0x21b),_0x565e90[_0x52f8ea(0x39a)]=_0x52f8ea(0x230);const _0x568231=_0x565e90,_0x2c937a=new Array();for await(const _0x42bb77 of this[_0x52f8ea(0x268)][_0x52f8ea(0x1d6)][_0x52f8ea(0x2f0)](global_registry['cloudProviderResourceGroup'])){if(_0x568231[_0x52f8ea(0x288)](_0x568231[_0x52f8ea(0x308)],_0x568231[_0x52f8ea(0x308)]))_0x2c937a[_0x52f8ea(0x1ec)](_0x42bb77);else{if(_0x568231[_0x52f8ea(0x288)](_0x11d03b['name'],_0x2899da))return!![];}}for await(const _0x583404 of _0x2c937a){if(_0x568231[_0x52f8ea(0x288)](_0x568231[_0x52f8ea(0x31f)],_0x568231[_0x52f8ea(0x31f)])){if(_0x568231['WRmNh'](_0x583404[_0x52f8ea(0x36c)],_0x52f8ea(0x2d8)+this[_0x52f8ea(0x1c4)]))return _0x568231['WRmNh'](_0x568231['kZipn'],_0x568231['BlnLD'])?(_0x255189[_0x52f8ea(0x265)]('Cannot\x20find\x20subnets\x20'+_0x2b9cb1+'.\x20Error:\x20'+_0x3c4905),[![],[]]):!![];}else return!![];}return![];}async['getResourceClientId'](_0x735917,_0x5c792f=0x3){const _0x1c86da=a1_0x33b712,_0x3311d0={'oQKrG':_0x1c86da(0x374),'vZZre':'Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','IyhUA':'[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','YrJsh':_0x1c86da(0x1f6),'cnYLV':_0x1c86da(0x299),'vFzCh':function(_0x2c7fc8,_0x34c6b0){return _0x2c7fc8===_0x34c6b0;},'LDAdo':_0x1c86da(0x2e9),'uJtOE':function(_0x5d8a88,_0x3c921c,_0x5bf72f){return _0x5d8a88(_0x3c921c,_0x5bf72f);},'jrqJk':_0x1c86da(0x31a),'HKahu':function(_0x2d0519,_0x59ece4){return _0x2d0519!==_0x59ece4;},'FkxCN':_0x1c86da(0x312),'RSkkL':_0x1c86da(0x207),'HRsvJ':'KZwYJ','xbyfY':'ujIva','evxfi':_0x1c86da(0x1bb),'AEzbR':function(_0x646d52,_0x28a5cb){return _0x646d52===_0x28a5cb;},'QeXFr':_0x1c86da(0x30d),'hOSYz':_0x1c86da(0x2a0),'OjZkm':function(_0x1c7a32,_0x1fae4c){return _0x1c7a32!==_0x1fae4c;},'HVuVh':_0x1c86da(0x267),'BXFGu':'kdOue','dYZhv':function(_0x320ead,_0x12a079){return _0x320ead<=_0x12a079;},'cTzUE':function(_0x33eb63,_0x2a2aec){return _0x33eb63!==_0x2a2aec;},'lAlWp':_0x1c86da(0x354),'nGDaG':_0x1c86da(0x2c9),'efuda':function(_0x54b691,_0x1dba23){return _0x54b691-_0x1dba23;}};try{if(_0x3311d0[_0x1c86da(0x275)](_0x3311d0[_0x1c86da(0x342)],_0x3311d0['RSkkL'])){const _0x40c4af=new Array();for await(const _0x5acc5b of this[_0x1c86da(0x268)]['resources'][_0x1c86da(0x2f0)](global_registry['cloudProviderResourceGroup'])){if(_0x3311d0[_0x1c86da(0x275)](_0x3311d0[_0x1c86da(0x375)],_0x3311d0['HRsvJ'])){const _0x3a1383={};_0x3a1383[_0x1c86da(0x291)]=_0x3311d0['oQKrG'],_0x3a1383[_0x1c86da(0x2a8)]={},_0x3a1383[_0x1c86da(0x2a8)][_0x1c86da(0x2be)]=_0x3311d0[_0x1c86da(0x1dc)];const _0x223a98={};_0x223a98[_0x1c86da(0x291)]=_0x3311d0[_0x1c86da(0x283)],_0x223a98[_0x1c86da(0x2a8)]={},_0x223a98[_0x1c86da(0x2a8)][_0x1c86da(0x2be)]=_0x3311d0[_0x1c86da(0x1dc)];const _0x5b0b7a={..._0x188e3f[_0x1c86da(0x341)]};_0x5b0b7a['vpcName']=_0x3a1383,_0x5b0b7a['subnetName']=_0x223a98,_0x55aff0[_0x1c86da(0x341)]=_0x5b0b7a;const _0x5a409b={};_0x5a409b[_0x1c86da(0x2bd)]=_0x3311d0[_0x1c86da(0x313)],_0x32b81d[_0x1c86da(0x2b4)]=_0x5a409b;const _0x29ecd6={..._0x579134[_0x1c86da(0x1d6)][0x0][_0x1c86da(0x2c5)][_0x1c86da(0x303)][0x0]};_0x29ecd6[_0x1c86da(0x2bd)]=_0x3311d0[_0x1c86da(0x1e6)],_0x19cb0d[_0x1c86da(0x1d6)][0x0]['properties'][_0x1c86da(0x303)][0x0]=_0x29ecd6;const _0x3eb1c1={};_0x3eb1c1[_0x1c86da(0x28d)]=_0x17c398;const _0x1f5ee0={};_0x1f5ee0[_0x1c86da(0x28d)]=_0x4bcffe[0x0];const _0x1c45e2={..._0x43ef70};_0x1c45e2['vpcName']=_0x3eb1c1,_0x1c45e2['subnetName']=_0x1f5ee0,_0xff0c03=_0x1c45e2;}else _0x40c4af[_0x1c86da(0x1ec)](_0x5acc5b);}let _0x27d1b3='';for await(const _0x40cca6 of _0x40c4af){if(_0x3311d0['vFzCh'](_0x3311d0[_0x1c86da(0x32e)],_0x3311d0[_0x1c86da(0x272)]))return!![];else _0x3311d0[_0x1c86da(0x328)](_0x40cca6[_0x1c86da(0x36c)],_0x735917)&&(_0x3311d0[_0x1c86da(0x22d)](_0x3311d0['QeXFr'],_0x3311d0['QeXFr'])?_0x27d1b3=_0x40cca6['id']:_0x40a038[_0x1c86da(0x1ec)](_0x11f18f));}const _0x5030ab=await this[_0x1c86da(0x268)]['resources'][_0x1c86da(0x387)](_0x27d1b3,_0x3311d0[_0x1c86da(0x25f)]);return _0x5030ab['properties']['clientId'];}else{const _0xdb3eae=_0x3311d0[_0x1c86da(0x2d5)][_0x1c86da(0x227)]('|');let _0x4bd6d8=0x0;while(!![]){switch(_0xdb3eae[_0x4bd6d8++]){case'0':_0x356dde[_0x1c86da(0x325)]=_0x18243c[this[_0x1c86da(0x279)]][_0x1c86da(0x338)];continue;case'1':_0x49739d[_0x1c86da(0x393)]=_0x47029c[this[_0x1c86da(0x279)]][_0x1c86da(0x2ab)];continue;case'2':_0x2633b8[_0x1c86da(0x381)]=_0x583be7[this[_0x1c86da(0x279)]]['subscriptionId'];continue;case'3':this['setClients']();continue;case'4':_0x485b17[_0x1c86da(0x1e8)]=_0x201467[this[_0x1c86da(0x279)]][_0x1c86da(0x29b)];continue;case'5':_0x1892f6[_0x1c86da(0x1ce)]=_0x14ef0e[this['cloudProviderName']][_0x1c86da(0x1e2)];continue;}break;}}}catch(_0x910c28){if(_0x3311d0[_0x1c86da(0x380)](_0x3311d0['HVuVh'],_0x3311d0[_0x1c86da(0x2dc)])){if(_0x3311d0[_0x1c86da(0x2d4)](_0x5c792f,0x0))return _0x3311d0['cTzUE'](_0x3311d0[_0x1c86da(0x2eb)],_0x3311d0['nGDaG'])?(logger['error']('[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20'+_0x910c28+':'+_0x910c28[_0x1c86da(0x346)]),{}):(_0x33948a[_0x1c86da(0x265)]=_0x4c4b67[_0x1c86da(0x265)],_0x277b95);return await new Promise(_0x5dd8bc=>{const _0x18f5db=_0x1c86da;_0x3311d0[_0x18f5db(0x22d)](_0x3311d0[_0x18f5db(0x2ff)],_0x3311d0[_0x18f5db(0x2ff)])?_0x3311d0[_0x18f5db(0x335)](setTimeout,()=>_0x5dd8bc(),0x3e8):_0x222b05['error']=_0x4c4c83;}),this[_0x1c86da(0x1c5)](_0x735917,_0x3311d0[_0x1c86da(0x1e4)](_0x5c792f,0x1));}else throw new _0x509bd4(_0x3311d0[_0x1c86da(0x2a2)],'Received\x20response\x20-\x20'+_0x44fa1a['stringify'](_0x4b6ac2));}}async[a1_0x33b712(0x1cd)](){const _0x235ee4=a1_0x33b712,_0x49e3f5={};_0x49e3f5[_0x235ee4(0x2ef)]=function(_0x2d4b9b,_0x5c9c02){return _0x2d4b9b===_0x5c9c02;},_0x49e3f5[_0x235ee4(0x37a)]=_0x235ee4(0x246),_0x49e3f5['xgxKk']=function(_0x862b2a,_0x1328b8){return _0x862b2a!==_0x1328b8;},_0x49e3f5['aXdot']=_0x235ee4(0x388),_0x49e3f5[_0x235ee4(0x2c7)]=_0x235ee4(0x234),_0x49e3f5['sPXqF']=_0x235ee4(0x2f2),_0x49e3f5[_0x235ee4(0x213)]=function(_0x36a31e,_0x174990){return _0x36a31e===_0x174990;},_0x49e3f5[_0x235ee4(0x38f)]='DsvoM',_0x49e3f5[_0x235ee4(0x1ef)]=_0x235ee4(0x30c);const _0x18d05c=_0x49e3f5;!this[_0x235ee4(0x26c)]&&(_0x18d05c[_0x235ee4(0x25b)](_0x18d05c[_0x235ee4(0x1e5)],_0x18d05c[_0x235ee4(0x1e5)])?(_0x4b212f+=_0x18d05c[_0x235ee4(0x2ef)](_0x479f72['length'],0x0)?_0x18d05c['lvIXA']:'',_0x8da1d5['debug'](_0x235ee4(0x273)+_0x474406['stringify'](_0x45f737))):await this[_0x235ee4(0x1be)]());const _0x5aa340=this[_0x235ee4(0x26c)]?.[_0x235ee4(0x2c1)]||{};if(_0x5aa340&&_0x18d05c[_0x235ee4(0x2ef)](_0x5aa340[_0x18d05c[_0x235ee4(0x2c7)]],_0x18d05c[_0x235ee4(0x365)])){if(_0x18d05c[_0x235ee4(0x213)](_0x18d05c[_0x235ee4(0x38f)],_0x18d05c[_0x235ee4(0x1ef)]))_0x49e542[_0x235ee4(0x323)](0x0);else return!![];}return![];}async[a1_0x33b712(0x1fb)](_0xca4b43,_0x502e0d){const _0x4442c9=a1_0x33b712,_0x5d5245={'pQYhm':function(_0x1b6b2a,_0x56c83b){return _0x1b6b2a(_0x56c83b);},'dFCPS':function(_0x3274f3,_0x1fe4b1){return _0x3274f3(_0x1fe4b1);},'LOTVi':_0x4442c9(0x29c)};await _0x5d5245['pQYhm'](deleteAgent,_0xca4b43),await _0x5d5245[_0x4442c9(0x34c)](deleteRoutingDeps,_0xca4b43);const _0xbf3c0a=this[_0x4442c9(0x373)];logger[_0x4442c9(0x2fa)](_0x4442c9(0x22f)+this[_0x4442c9(0x1c4)]),await _0xbf3c0a['managedClusters'][_0x4442c9(0x32b)](global_registry[_0x4442c9(0x1ce)],this['clusterName']),logger['info'](_0x5d5245[_0x4442c9(0x223)]);}async[a1_0x33b712(0x310)](){const _0x296429=a1_0x33b712,_0x39bd27={};_0x39bd27[_0x296429(0x34e)]=_0x296429(0x32c),_0x39bd27['xZkUQ']=function(_0x2b0703,_0x41e53a){return _0x2b0703+_0x41e53a;},_0x39bd27[_0x296429(0x205)]=_0x296429(0x258),_0x39bd27['trCsF']=function(_0x45c19f,_0x5bf58e){return _0x45c19f-_0x5bf58e;},_0x39bd27[_0x296429(0x21f)]=function(_0x2898cb,_0x4571fc){return _0x2898cb!==_0x4571fc;},_0x39bd27[_0x296429(0x2de)]=_0x296429(0x1c8),_0x39bd27[_0x296429(0x2f1)]='TJPqa',_0x39bd27[_0x296429(0x21a)]=function(_0x26f317,_0x27aa9c){return _0x26f317&&_0x27aa9c;},_0x39bd27['GrQvy']=_0x296429(0x319),_0x39bd27[_0x296429(0x329)]=_0x296429(0x2ee),_0x39bd27[_0x296429(0x334)]=function(_0x616d95,_0x455fa0){return _0x616d95===_0x455fa0;},_0x39bd27[_0x296429(0x330)]=_0x296429(0x221),_0x39bd27['iLgaQ']=_0x296429(0x32d),_0x39bd27['pEVWr']=_0x296429(0x2f8),_0x39bd27[_0x296429(0x1ca)]='Enabling\x20Workload\x20identity\x20for\x20the\x20cluster',_0x39bd27[_0x296429(0x314)]=_0x296429(0x333),_0x39bd27['PkpAW']=_0x296429(0x2ca);const _0x150d33=_0x39bd27;if(!this[_0x296429(0x26c)]){if(_0x150d33[_0x296429(0x21f)](_0x150d33[_0x296429(0x2de)],_0x150d33['wWNFs']))await this[_0x296429(0x1be)]();else return _0x5a70c3[_0x296429(0x265)](_0x296429(0x22e)+_0x3b441b+':'+_0x3c5441[_0x296429(0x346)]),{};}const _0x389099=this[_0x296429(0x26c)],_0x10b886=this[_0x296429(0x26c)]?.[_0x296429(0x231)]?.[_0x296429(0x395)]||![],_0x4c568e=this['clusterInfo']?.[_0x296429(0x1eb)]?.[_0x296429(0x2fe)]?.[_0x296429(0x395)]||![],_0x5f0996=!this[_0x296429(0x26c)]?.[_0x296429(0x251)]||![];if(_0x150d33['PBmVw'](_0x10b886,_0x4c568e)&&_0x5f0996){if(_0x150d33[_0x296429(0x21f)](_0x150d33[_0x296429(0x399)],_0x150d33[_0x296429(0x329)]))return;else _0x116eb6[_0x296429(0x1ec)](_0x1c7cb2);}if(!_0x10b886){if(_0x150d33['TuWYx'](_0x150d33['PLeIe'],_0x150d33['PLeIe'])){logger[_0x296429(0x2fa)](_0x150d33[_0x296429(0x20b)]);const _0x137f30={};_0x137f30['type']=WS_EVENTS[_0x296429(0x250)],_0x137f30[_0x296429(0x36e)]=_0x150d33[_0x296429(0x20b)],this[_0x296429(0x1bd)][_0x296429(0x361)](this[_0x296429(0x355)],_0x137f30),_0x389099[_0x296429(0x231)][_0x296429(0x395)]=!![];}else _0x186d5e[_0x296429(0x1ec)](_0x5c7971);}if(!_0x4c568e){if(_0x150d33['TuWYx'](_0x150d33[_0x296429(0x2d6)],_0x150d33[_0x296429(0x2d6)])){logger[_0x296429(0x2fa)](_0x150d33[_0x296429(0x1ca)]);const _0x2ee039={};_0x2ee039[_0x296429(0x291)]=WS_EVENTS[_0x296429(0x250)],_0x2ee039[_0x296429(0x36e)]=_0x150d33[_0x296429(0x1ca)],this[_0x296429(0x1bd)][_0x296429(0x361)](this[_0x296429(0x355)],_0x2ee039);const _0x51a094={};_0x51a094[_0x296429(0x395)]=!![],_0x389099['securityProfile']={'workloadIdentity':_0x51a094,..._0x389099[_0x296429(0x1eb)]};}else return _0x1d3a9d[_0x296429(0x203)]=_0x150d33[_0x296429(0x34e)],_0x3a42ca;}if(!_0x5f0996){if(_0x150d33[_0x296429(0x21f)](_0x150d33[_0x296429(0x314)],_0x150d33[_0x296429(0x314)])){const _0x3d7008=_0x4c225a[_0x296429(0x39d)][_0x296429(0x227)]('-'),_0x2b6826=_0x150d33['xZkUQ'](_0x150d33[_0x296429(0x205)],_0x3d7008[_0x150d33['trCsF'](_0x3d7008[_0x296429(0x2f6)],0x1)])[_0x296429(0x384)](0x0,0x18);return _0x2b6826[_0x296429(0x322)]();}else{logger[_0x296429(0x2fa)](_0x150d33['PkpAW']);const _0x3236e4={};_0x3236e4[_0x296429(0x291)]=WS_EVENTS[_0x296429(0x250)],_0x3236e4['message']=_0x150d33['PkpAW'],this[_0x296429(0x1bd)]['sendEventToBackend'](this['rws'],_0x3236e4),_0x389099[_0x296429(0x251)]=![];}}await this['containerClient'][_0x296429(0x351)][_0x296429(0x296)](global_registry['cloudProviderResourceGroup'],this['clusterName'],_0x389099),await this[_0x296429(0x1be)]();}async['sendAzureInfoToHST'](){const _0x5d52bc=a1_0x33b712,_0x355919={};_0x355919['lzRdR']=_0x5d52bc(0x398),_0x355919[_0x5d52bc(0x298)]=_0x5d52bc(0x352),_0x355919['XDxIR']=function(_0x42062a,_0x707029){return _0x42062a!==_0x707029;},_0x355919[_0x5d52bc(0x1de)]='YhixW';const _0x1cc9fe=_0x355919,_0x2c3646=await this['networkClient'][_0x5d52bc(0x37f)][_0x5d52bc(0x2e3)](global_registry[_0x5d52bc(0x1ce)]),_0x30a9e3={};_0x30a9e3['username']=global_registry[_0x5d52bc(0x29d)],_0x30a9e3[_0x5d52bc(0x37c)]=global_registry['bstackAccesskey'],_0x30a9e3[_0x5d52bc(0x33e)]=AZURE,_0x30a9e3[_0x5d52bc(0x289)]=[];const _0x39a73a=_0x30a9e3;for await(const _0x7a79ba of _0x2c3646){if(_0x1cc9fe[_0x5d52bc(0x1df)](_0x1cc9fe[_0x5d52bc(0x1de)],_0x1cc9fe[_0x5d52bc(0x1de)])){const _0x45a7b2=_0x3cc50f[_0x5d52bc(0x2d1)](_0x191ff2);_0x57bfa8+='\x0a\x09'+_0x331d55+':\x20'+(_0x45a7b2?_0x1cc9fe[_0x5d52bc(0x219)]:_0x1cc9fe[_0x5d52bc(0x298)]),!_0x45a7b2&&(_0x268c70[_0x5d52bc(0x27a)]=![]);}else _0x39a73a[_0x5d52bc(0x289)][_0x5d52bc(0x1ec)](_0x7a79ba);}const _0x112767={};_0x112767[_0x5d52bc(0x291)]=WS_EVENTS[_0x5d52bc(0x250)],_0x112767['message']=_0x39a73a,this['webSocketUtils'][_0x5d52bc(0x361)](this[_0x5d52bc(0x355)],_0x112767);}async[a1_0x33b712(0x249)](_0x481f85){const _0x3da0cc=a1_0x33b712,_0x4cfaa4={};_0x4cfaa4[_0x3da0cc(0x358)]=_0x3da0cc(0x2ca),_0x4cfaa4['htwvl']=function(_0x3409c9,_0xdc8ec0){return _0x3409c9===_0xdc8ec0;},_0x4cfaa4[_0x3da0cc(0x389)]=function(_0x18f322,_0xaf306e){return _0x18f322!==_0xaf306e;},_0x4cfaa4['AbFfR']=_0x3da0cc(0x1e7),_0x4cfaa4[_0x3da0cc(0x304)]=_0x3da0cc(0x239),_0x4cfaa4['wBoRo']='XIGaJ',_0x4cfaa4[_0x3da0cc(0x2bf)]=_0x3da0cc(0x2b2),_0x4cfaa4[_0x3da0cc(0x2d2)]=function(_0x5e04ee,_0x2685d1){return _0x5e04ee!==_0x2685d1;},_0x4cfaa4[_0x3da0cc(0x386)]='JRtxp',_0x4cfaa4[_0x3da0cc(0x336)]=function(_0xce983f,_0x442324){return _0xce983f===_0x442324;},_0x4cfaa4['gkeiz']=_0x3da0cc(0x1d2);const _0xdb0a61=_0x4cfaa4;try{if(_0xdb0a61[_0x3da0cc(0x389)](_0xdb0a61[_0x3da0cc(0x301)],_0xdb0a61[_0x3da0cc(0x304)])){const _0x4a0001=await this[_0x3da0cc(0x1b9)][_0x3da0cc(0x37f)][_0x3da0cc(0x2e3)](global_registry['cloudProviderResourceGroup']);for await(const _0x495a15 of _0x4a0001){if(_0xdb0a61[_0x3da0cc(0x278)](_0xdb0a61[_0x3da0cc(0x2aa)],_0xdb0a61[_0x3da0cc(0x2bf)])){_0x4867a4[_0x3da0cc(0x2fa)](_0xdb0a61['XRhqF']);const _0x3a2901={};_0x3a2901[_0x3da0cc(0x291)]=_0x157b4c[_0x3da0cc(0x250)],_0x3a2901[_0x3da0cc(0x36e)]=_0xdb0a61[_0x3da0cc(0x358)],this['webSocketUtils']['sendEventToBackend'](this[_0x3da0cc(0x355)],_0x3a2901),_0x57c482[_0x3da0cc(0x251)]=![];}else{if(_0xdb0a61['htwvl'](_0x495a15[_0x3da0cc(0x36c)],_0x481f85)){if(_0xdb0a61[_0x3da0cc(0x2d2)](_0xdb0a61[_0x3da0cc(0x386)],_0xdb0a61[_0x3da0cc(0x386)]))_0x26a12b['vpcInfo'][_0x3da0cc(0x1ec)](_0x2c3248);else return!![];}}}}else return[!![],_0x5cf01a];}catch(_0x12a35c){if(_0xdb0a61[_0x3da0cc(0x336)](_0xdb0a61[_0x3da0cc(0x2e2)],_0xdb0a61['gkeiz']))return logger[_0x3da0cc(0x265)](_0x3da0cc(0x349)+_0x481f85+_0x3da0cc(0x2cf)+_0x12a35c),![];else{if(_0xdb0a61[_0x3da0cc(0x278)](_0x5d1e38[_0x3da0cc(0x36c)],_0x3da0cc(0x2d8)+this[_0x3da0cc(0x1c4)]))return!![];}}return![];}async[a1_0x33b712(0x28c)](_0x5e8993,_0x1ff2a6){const _0x5a6b11=a1_0x33b712,_0x529c29={};_0x529c29[_0x5a6b11(0x1ed)]=function(_0x13d21d,_0x16b4b3){return _0x13d21d!==_0x16b4b3;},_0x529c29[_0x5a6b11(0x20c)]=_0x5a6b11(0x2f3),_0x529c29['qeJfc']=function(_0x20c8c8,_0x550088){return _0x20c8c8===_0x550088;},_0x529c29['qDeYc']=function(_0x306a86,_0x394db1){return _0x306a86!==_0x394db1;},_0x529c29[_0x5a6b11(0x1c2)]=_0x5a6b11(0x24b);const _0x88d99=_0x529c29;try{if(_0x88d99['cxTJy'](_0x88d99[_0x5a6b11(0x20c)],_0x88d99[_0x5a6b11(0x20c)]))return _0x1151c0[_0x5a6b11(0x265)](_0x5a6b11(0x349)+_0x139372+'.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20'+_0x10541d),![];else{const _0x583932=await this['networkClient'][_0x5a6b11(0x1cf)][_0x5a6b11(0x332)](global_registry[_0x5a6b11(0x1ce)],_0x1ff2a6,_0x5e8993[0x0]);if(_0x88d99[_0x5a6b11(0x281)](_0x5e8993[0x0],_0x583932[_0x5a6b11(0x36c)])){if(_0x88d99[_0x5a6b11(0x28a)](_0x88d99[_0x5a6b11(0x1c2)],_0x88d99['nPkgU']))_0x4e01fc[_0x5a6b11(0x1ec)](_0x4881da);else return[!![],_0x5e8993];}}}catch(_0xb922dc){return logger[_0x5a6b11(0x265)](_0x5a6b11(0x33c)+_0x5e8993+_0x5a6b11(0x2c0)+_0xb922dc),[![],[]];}return[![],[]];}async[a1_0x33b712(0x2bb)](){const _0x2e3745=a1_0x33b712,_0x57d2d9={};_0x57d2d9['sfcJy']='No\x20CLI\x20tool\x20required';const _0x1aa4e7=_0x57d2d9,_0x13144a={};_0x13144a[_0x2e3745(0x27a)]=!![],_0x13144a[_0x2e3745(0x265)]=null,_0x13144a[_0x2e3745(0x203)]=_0x1aa4e7[_0x2e3745(0x2d9)];const _0x10292e=_0x13144a;return _0x10292e;}async['getHeader'](){const _0x47d17c=a1_0x33b712,_0x285c70={};_0x285c70[_0x47d17c(0x27c)]=_0x47d17c(0x216),_0x285c70[_0x47d17c(0x23d)]='GET',_0x285c70[_0x47d17c(0x2d3)]=_0x47d17c(0x247);const _0x11c1e7=_0x285c70,_0x22a508=await this['cred']['getToken'](_0x11c1e7[_0x47d17c(0x27c)]),_0x462134={};_0x462134[_0x47d17c(0x2e5)]=_0x11c1e7[_0x47d17c(0x23d)],_0x462134[_0x47d17c(0x2b6)]={},_0x462134[_0x47d17c(0x2b6)][_0x47d17c(0x2fd)]='Bearer\x20'+_0x22a508[_0x47d17c(0x371)],_0x462134[_0x47d17c(0x2b6)][_0x47d17c(0x21e)]=_0x11c1e7[_0x47d17c(0x2d3)];const _0xf0293f=_0x462134;return _0xf0293f;}async['getPrincipalIdFromClientId'](_0xfee958){const _0x5b7b0c=a1_0x33b712,_0x4f89e8={'HEYjE':function(_0x3548ea,_0x957614,_0x236fa9){return _0x3548ea(_0x957614,_0x236fa9);},'BfLOM':function(_0x330354,_0x1a8099){return _0x330354===_0x1a8099;},'kwAKE':_0x5b7b0c(0x31a)},_0x2158a4={};_0x2158a4['principalId']='',_0x2158a4[_0x5b7b0c(0x265)]=null;const _0x563be3=_0x2158a4;try{const _0xcaf362='https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27'+_0xfee958+'\x27',_0x18d711=await this[_0x5b7b0c(0x2b3)](),_0x28f26e=await _0x4f89e8['HEYjE'](fetch,_0xcaf362,_0x18d711),_0x484db5=await _0x28f26e[_0x5b7b0c(0x284)]();if(!_0x484db5['value']||_0x4f89e8['BfLOM'](_0x484db5['value'][_0x5b7b0c(0x2f6)],0x0))throw new Error(_0x4f89e8[_0x5b7b0c(0x33d)],_0x5b7b0c(0x302)+JSON[_0x5b7b0c(0x1ba)](_0x484db5));_0x563be3[_0x5b7b0c(0x324)]=_0x484db5[_0x5b7b0c(0x28d)][0x0]['id'];}catch(_0x230d11){_0x563be3[_0x5b7b0c(0x265)]=_0x230d11;}return _0x563be3;}async['checkAccess'](){const _0x58e583=a1_0x33b712,_0x286fee={};_0x286fee['iCmoZ']='allowed',_0x286fee[_0x58e583(0x38e)]=_0x58e583(0x352),_0x286fee[_0x58e583(0x2a1)]=function(_0x92ad4c,_0xd63ea7){return _0x92ad4c!==_0xd63ea7;},_0x286fee[_0x58e583(0x37e)]=function(_0x3a0586,_0x14443d){return _0x3a0586===_0x14443d;},_0x286fee[_0x58e583(0x2ac)]=_0x58e583(0x32c),_0x286fee[_0x58e583(0x257)]=function(_0x288e40,_0x4d6102){return _0x288e40===_0x4d6102;},_0x286fee[_0x58e583(0x364)]=_0x58e583(0x269),_0x286fee[_0x58e583(0x2db)]=_0x58e583(0x246);const _0x5355ed=_0x286fee,_0x35887a={};_0x35887a[_0x58e583(0x27a)]=![],_0x35887a[_0x58e583(0x265)]=null,_0x35887a[_0x58e583(0x203)]='';const _0x57d450=_0x35887a;try{let _0x4b618b='';const _0x23d070=_0x58e583(0x24e)+global_registry[_0x58e583(0x381)]+'/resourceGroups/'+global_registry[_0x58e583(0x1ce)],_0x23856b=await this['getPrincipalIdFromClientId'](global_registry[_0x58e583(0x325)]);if(_0x5355ed[_0x58e583(0x2a1)](_0x23856b[_0x58e583(0x265)],null))return _0x57d450[_0x58e583(0x265)]=_0x23856b[_0x58e583(0x265)],_0x57d450;const _0x139fc0=_0x58e583(0x253)+_0x23856b[_0x58e583(0x324)]+'\x27)',_0x580b54={};_0x580b54[_0x58e583(0x1cb)]=_0x139fc0;const _0x547f37=await this[_0x58e583(0x1f4)][_0x58e583(0x345)][_0x58e583(0x343)](_0x23d070,_0x580b54),_0x1b3ebc=[];for await(const _0x5b172d of _0x547f37){_0x1b3ebc[_0x58e583(0x1ec)](_0x5b172d);}if(_0x5355ed[_0x58e583(0x37e)](_0x1b3ebc[_0x58e583(0x2f6)],0x0))return _0x57d450[_0x58e583(0x203)]=_0x5355ed['wLCfY'],_0x57d450;const _0x1ac0e7=[...new Set(_0x1b3ebc[_0x58e583(0x276)](_0x24b360=>_0x24b360[_0x58e583(0x28b)]))];if(_0x5355ed[_0x58e583(0x257)](_0x1ac0e7[_0x58e583(0x2f6)],0x0))return _0x57d450[_0x58e583(0x203)]=_0x5355ed['CTuCt'],_0x57d450;const _0x4dc2c2=[],_0x18a690=[];for(const _0x274bf4 of _0x1ac0e7){const _0x3f715d=await this[_0x58e583(0x1f4)][_0x58e583(0x382)][_0x58e583(0x387)](_0x274bf4);logger[_0x58e583(0x1d1)](_0x58e583(0x1f1)+_0x3f715d[_0x58e583(0x321)]),_0x4dc2c2[_0x58e583(0x1ec)](_0x3f715d),logger[_0x58e583(0x1d1)](_0x58e583(0x2b1)+JSON['stringify'](_0x3f715d[_0x58e583(0x37b)])),_0x3f715d[_0x58e583(0x37b)]['forEach'](_0x34badf=>{const _0x223281=_0x58e583;_0x18a690[_0x223281(0x1ec)](..._0x34badf[_0x223281(0x1fa)]);});}logger['debug'](_0x58e583(0x326)+JSON['stringify'](_0x18a690)),_0x5355ed['PgTwV'](_0x18a690[_0x58e583(0x2f6)],0x0)&&(_0x4b618b+=_0x5355ed['PgTwV'](_0x18a690[_0x58e583(0x2f6)],0x0)?_0x5355ed[_0x58e583(0x2db)]:'',logger[_0x58e583(0x1d1)](_0x58e583(0x273)+JSON[_0x58e583(0x1ba)](_0x4dc2c2))),_0x57d450[_0x58e583(0x27a)]=!![],Object[_0x58e583(0x1c7)](PERMISSIONS[_0x58e583(0x305)])['forEach'](([_0x2d9016,_0x2063b7])=>{const _0x45c2e7=_0x58e583,_0x469772=_0x18a690[_0x45c2e7(0x2d1)](_0x2d9016);_0x4b618b+='\x0a\x09'+_0x2063b7+':\x20'+(_0x469772?_0x5355ed[_0x45c2e7(0x270)]:_0x5355ed[_0x45c2e7(0x38e)]),!_0x469772&&(_0x57d450[_0x45c2e7(0x27a)]=![]);}),_0x57d450[_0x58e583(0x203)]=_0x4b618b;}catch(_0x42e56f){_0x57d450['error']=_0x42e56f;}return _0x57d450;}}function a1_0x42e4(_0x35716c,_0x800f87){const _0x5bc96d=a1_0x5bc9();return a1_0x42e4=function(_0x42e421,_0x2f7e53){_0x42e421=_0x42e421-0x1b5;let _0xa14563=_0x5bc96d[_0x42e421];return _0xa14563;},a1_0x42e4(_0x35716c,_0x800f87);}const a1_0x2c467f={};a1_0x2c467f[a1_0x33b712(0x212)]=AzureCloudProvider,module[a1_0x33b712(0x233)]=a1_0x2c467f;