const a1_0x3fcf45=a1_0xc3e3;(function(_0x47a4c9,_0x5581e2){const _0x2d0514=a1_0xc3e3,_0x59c114=_0x47a4c9();while(!![]){try{const _0x222954=parseInt(_0x2d0514(0x201))/0x1+parseInt(_0x2d0514(0x2b1))/0x2*(parseInt(_0x2d0514(0x18d))/0x3)+-parseInt(_0x2d0514(0x251))/0x4+-parseInt(_0x2d0514(0x2b4))/0x5+parseInt(_0x2d0514(0x306))/0x6+parseInt(_0x2d0514(0x2ea))/0x7*(parseInt(_0x2d0514(0x218))/0x8)+-parseInt(_0x2d0514(0x2ae))/0x9;if(_0x222954===_0x5581e2)break;else _0x59c114['push'](_0x59c114['shift']());}catch(_0x16c148){_0x59c114['push'](_0x59c114['shift']());}}}(a1_0x8251,0x3e6b5));function a1_0x8251(){const _0x2bd408=['sendAzureInfoToHST','Lifecycle','JuHNf','SKSKf','Created\x20Azure\x20federated\x20identity','\x20SUBSCRIPTION\x20ID:\x20','cloudProviderClientSecret','kOeEg','authClient','default','MoHaf','data','No\x20service\x20principal\x20found','status','BZeBh','RdhYd','dlMxh','MBViD','KYGHR','AKLzr','method','piBaS','assignedTo(\x27','role\x20name\x20attached\x20-\x20','Action\x20permission\x20list\x20is\x20empty\x0a','isVPCPresent','WuajP','getKubeConfigData','listByResourceGroup','turboscale-cluster-deployment','gfZFs','rIGtQ','yLGjI','uLlsP','TYKLd','forEach','dSyZW','gagOa','nLZOT','BkMxI','qQClQ','HECNA','Tfkdl','.json','securityProfile','nQClq','Deleting\x20the\x20cluster\x20','zzhsR','accessKey','oiVxr','cloudProviderClientId','EYCdF','YngCd','Xkdev','450820hvEqsy','ElcFg','oidcIssuerProfile','Cannot\x20find\x20subnets\x20','4|3|7|6|2|1|0|5','AewfW','turboscale-federated-deployment','ukyHJ','Pyowq','ndotb','PEpcx','filters','XujDn','mOpvc','delete','Ipgcw','fLOrs','NMcth','parse','RErQK','loadBalancer','metadata','storageAccountName','toString','akscluster.json','feTXn','dtsUF','managedClusters','VLben','kANtp','[variables(\x27vnetSubnetID\x27)]','parameters','toLowerCase','cAJFB','UcLlz','enabled','cloudProviderSubscriptionId','pyqUM','YmIKI','cloudProviderTenantId','clusterInfo','oPwxV','rnfuG','Creating\x20Azure\x20federated\x20identity','isManagedIdentityPresent','NEFqe','setupNewCluster','kTYxA','BrowserStack','createOrUpdate','reRbm','jVkRM','erCBx','lyAOg','AbMNr','message','cMCfF','zkPpk','Gryke','rvZYX','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','Nxtst','getResourceGroups','turboscale-identity-deployment','hKhsE','createCluster','toilq','BsfdJ','templates','No\x20attached\x20role\x20for\x20the\x20client\x20key','tags','zaabt','CajOx','uJVdh','QcLgL','isSubnetsValid','allowed','setCachedCredsInRegistry','map','kSAmb','vMuDh','kIBPD','turboscale-storageaccount-deployment','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','jSvKL','listForScope','getById','../permissions/AZURE.json','clusterName','SPTkz','MgeWW','dqQVC','3401001bHxEYv','instanceType','pEoqI','36CyHSXh','Bewho','uyjNH','1163920QxdsiB','hubharesources','workloadIdentity','eoDGt','KDZjA','BCqJq','beginCreateOrUpdateAndWait','./CloudProvider','resourceGroups','zKpZz','kubeconfigs','policy','blobTypes','GNkel','subscriptions/','HzcmW','zstwq','LZCyX','CCHal','rrjIr','rWNBi','RWKac','lDIwB','storageClient','yHJGT','info','UqhXq','log','UbNTr','nBrgh','description','/resourceGroups/','Qlccu','push','aZrUN','yMhBm','getPrincipalIdFromClientId','ssrgx','subnetName','DbuBY','AloAM','XJRal','exports','zNZaV','Enabling\x20Local\x20account\x20for\x20the\x20cluster','roleDefinitions','@azure/identity','aNXHO','s3Bucket','xNDwC','isStorageAccountPresent','lkaMm','taQNL','permissions','1136884pSLGpS','listAll','vHfwD','LgqTF','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','JnNUu','BIyHi','createStorageAccount','juPOs','PaHUk','VloGh','FHClj','https://graph.microsoft.com/.default','RjJsi','../utils/utilityMethods','uLVzT','nWXJM','clientSecret','variables','headers','beginDeleteAndWait','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','checkAccess','2023-01-31','managementPolicies','principalId','vpcName','getGridHostname','2342904LLnaNC','IIcVZ','maxNodes','hEHoS','zMtsi','list','vglMc','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','No\x20CLI\x20tool\x20required','networkClient','Authorization','lmghc','hoVbg','rws','username','Creating\x20Azure\x20managed\x20identity','LJRUU','MHfWR','Incremental','uDqJq','ToDbF','clusterAutoUpgrade','RYqjU','Received\x20response\x20-\x20','jMyzi','aVmAs','CyrOP','TyvXb','qeFSw','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','JfUQD','KpYGG','sxptN','vHTUQ','\x20TENANT\x20ID:\x20','wrfzg','YJBOD','includes','createManagedIdentity','RESOURCES','xBHCt','isBrowserstackCluster','properties','\x20RESOURCE\x20GROUP:\x20','Deleted\x20the\x20cluster\x20successfully','rules','oIjRO','KJnmV','rGdZD','MlzHY','value','cloudProvider','cloudProviderName','bstackUsername','IqTIr','jUYRl','json','UFiXV','HuPri','hostname','get','userMaxNodes','mvymi','okxFH','pCrfK','uowkM','JFPxI','kLdNx','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','../config/logger','baCIE','split','setClients','length','TxCQt','createOtherResources','yTrGZ','eAPIT','lBNpf','HYulr','kCRoB','FGXVU','mdOcC','SVacG','zhTVx','createFederatedAccount','SGjhN','hub','cred','turboscale-managed-identity-','skQGN','LOG','issuerURL','prdWN','GSexE','GEZUH','type','YFkFM','FjCod','toUpperCase','Blob\x20delete\x20lifecycle','GvfwY','WOZce','eSKNZ','vnetSubnetID','CzWxh','JnLoJ','Found\x20only\x20one\x20resource\x20group:\x20','JnObH','aiiVx','gQEON','join','GDeqQ','storageaccount.json','AzureCloudProvider','roleName','Wnmbn','PYAiG','HIIei','ccArf','xOoLP','KUMie','gHMZJ','pfqWz','utf-8','blockBlob','Creating\x20Azure\x20storage\x20account','Managed\x20identity\x20already\x20exists,\x20skipping','hHdBB','qdJIV','string','fWmEm','resourceClient','kFBIn','location','VQpMR','36819deJKEm','init','tenantId','hubHaNameSpace','FgzBD','OFzEN','qaBaf','@azure/arm-containerservice','rJdkK','stack','clientId','deployments','kVmLh','storageAccounts','@azure/arm-storage','sendEventToBackend','gVlOH','VDdrd','OIbuh','disableLocalAccounts','slice','Content-Type','AlzeG','nIAPN','resourceGroup','MolIe','../config/constants','../utils/gridComponents','ingress','qSKeg','debug','bstackAccesskey','Bearer\x20','frnnJ','node','amaFn','updateClusterAlreadyPresent','azureresources','iaRyf','QeYee','denied','actionPermission\x20:\x20','exit','isCliToolInstalled','llBGN','EDtmV','subscriptionId','VOAnM','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','MaapM','OjAZA','jfIBn','xibfM','cloudProviderResourceGroup','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','lorEi','yPweO','gtaZK','error','oRenD','HLBPq','baseBlob','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','TvwXC','name','PkUfc','NuiVu','WYhSp','xydBu','daysAfterCreationGreaterThan','managedidentity.json','actions','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','skBFs','wXOwz','KncuJ','readFileAsync','getStorageAccountName','hciCY','isClusterPresent','definition','true','AEtGg','getResourceClientId','wTLxt','federatedidentity','ENqaO','agentPoolProfiles','tLIiP','federatedidentityuploader.json','FJzZL','ThWmg','ShUHI','HzqNi','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','TCRbU','getClusterInfo','NwQFh','ptNAp','Cannot\x20find\x20VPC\x20','xFkpp','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','.\x20Error:\x20','Kvmjw','stringify','ysXiH','pIliz','GET','webSocketUtils','SlZCJ','KrZxA','filter','DYUPG','Attached\x20permissions\x20:\x20','false','JIMEc','205237VULGHs','subnets','Jpxqd','HpRgm','VyJMD','QWhYT','FeEZj','vpcInfo','VSFCs','turboscale','NuFDj','Pazck','TgvmG','virtualNetworks','resources','nNMIx','HsjVx','EKNpA','DMLLC','XyGWi','ldjMJ','containerClient','eYUmb','8lZrhzi','OZsCe','Oyctw'];a1_0x8251=function(){return _0x2bd408;};return a1_0x8251();}const fs=require('fs'),path=require('path'),yaml=require('js-yaml'),{logger}=require(a1_0x3fcf45(0x14a)),{CloudProvider}=require(a1_0x3fcf45(0x2bb)),{deleteRoutingDeps,deleteAgent}=require(a1_0x3fcf45(0x1a8)),{AZURE,WS_EVENTS,global_registry}=require(a1_0x3fcf45(0x1a7)),PERMISSIONS=require(a1_0x3fcf45(0x2a9)),{ClientSecretCredential}=require(a1_0x3fcf45(0x2e2)),{NetworkManagementClient}=require('@azure/arm-network'),{StorageManagementClient}=require(a1_0x3fcf45(0x19b)),{AuthorizationManagementClient}=require('@azure/arm-authorization'),{ResourceManagementClient}=require('@azure/arm-resources'),{ContainerServiceClient}=require(a1_0x3fcf45(0x194)),{runCommand}=require(a1_0x3fcf45(0x2f8));function a1_0xc3e3(_0x493eee,_0x16d731){const _0x8251b3=a1_0x8251();return a1_0xc3e3=function(_0xc3e3f,_0x341091){_0xc3e3f=_0xc3e3f-0x119;let _0x15ab8c=_0x8251b3[_0xc3e3f];return _0x15ab8c;},a1_0xc3e3(_0x493eee,_0x16d731);}class AzureCloudProvider extends CloudProvider{constructor(_0x5765af,_0x29323f,_0x3d1162,_0x10cb2c){const _0x50b7a8=a1_0x3fcf45,_0x18baf1={};_0x18baf1[_0x50b7a8(0x1ec)]=_0x50b7a8(0x255);const _0x5c9f2c=_0x18baf1,_0x4b1b89=_0x5c9f2c[_0x50b7a8(0x1ec)][_0x50b7a8(0x14c)]('|');let _0x2e35c4=0x0;while(!![]){switch(_0x4b1b89[_0x2e35c4++]){case'0':this[_0x50b7a8(0x30f)]=null;continue;case'1':this['resourceClient']=null;continue;case'2':this[_0x50b7a8(0x2cb)]=null;continue;case'3':this[_0x50b7a8(0x15d)]=null;continue;case'4':super(AZURE,_0x5765af,_0x29323f,_0x3d1162,_0x10cb2c);continue;case'5':this['authClient']=null;continue;case'6':this[_0x50b7a8(0x216)]=null;continue;case'7':this[_0x50b7a8(0x279)]=null;continue;}break;}}async[a1_0x3fcf45(0x18e)](){const _0x3ebe20=a1_0x3fcf45;return await super[_0x3ebe20(0x18e)](),this;}[a1_0x3fcf45(0x14d)](){const _0x933330=a1_0x3fcf45,_0x68244a=new ClientSecretCredential(global_registry['cloudProviderTenantId'],global_registry[_0x933330(0x24d)],global_registry[_0x933330(0x221)]);this[_0x933330(0x216)]=new ContainerServiceClient(_0x68244a,global_registry[_0x933330(0x275)]),this[_0x933330(0x2cb)]=new StorageManagementClient(_0x68244a,global_registry[_0x933330(0x275)]),this['resourceClient']=new ResourceManagementClient(_0x68244a,global_registry[_0x933330(0x275)]),this[_0x933330(0x30f)]=new NetworkManagementClient(_0x68244a,global_registry[_0x933330(0x275)]),this[_0x933330(0x223)]=new AuthorizationManagementClient(_0x68244a,global_registry[_0x933330(0x275)]),this[_0x933330(0x15d)]=_0x68244a;}[a1_0x3fcf45(0x1da)](){const _0x35f73f=a1_0x3fcf45,_0x52f824={};_0x52f824[_0x35f73f(0x207)]=function(_0x1b18fe,_0x320fab){return _0x1b18fe+_0x320fab;},_0x52f824[_0x35f73f(0x1bf)]=_0x35f73f(0x20a),_0x52f824['bgGpQ']=function(_0x256f5d,_0x59fe28){return _0x256f5d-_0x59fe28;};const _0x154f54=_0x52f824,_0x5502af=global_registry[_0x35f73f(0x2e4)][_0x35f73f(0x14c)]('-'),_0x92fb5f=_0x154f54[_0x35f73f(0x207)](_0x154f54[_0x35f73f(0x1bf)],_0x5502af[_0x154f54['bgGpQ'](_0x5502af['length'],0x1)])[_0x35f73f(0x1a1)](0x0,0x18);return _0x92fb5f['toLowerCase']();}[a1_0x3fcf45(0x29e)](_0x195472){const _0x32df49=a1_0x3fcf45,_0x57f422={};_0x57f422[_0x32df49(0x191)]='3|0|2|5|1|4';const _0xe0e772=_0x57f422,_0x3c2409=_0xe0e772[_0x32df49(0x191)][_0x32df49(0x14c)]('|');let _0x5dd321=0x0;while(!![]){switch(_0x3c2409[_0x5dd321++]){case'0':global_registry[_0x32df49(0x221)]=_0x195472[this[_0x32df49(0x139)]]['clientSecret'];continue;case'1':global_registry[_0x32df49(0x1c2)]=_0x195472[this['cloudProviderName']][_0x32df49(0x1a5)];continue;case'2':global_registry[_0x32df49(0x278)]=_0x195472[this[_0x32df49(0x139)]][_0x32df49(0x18f)];continue;case'3':global_registry['cloudProviderClientId']=_0x195472[this['cloudProviderName']][_0x32df49(0x197)];continue;case'4':this[_0x32df49(0x14d)]();continue;case'5':global_registry[_0x32df49(0x275)]=_0x195472[this['cloudProviderName']][_0x32df49(0x1bb)];continue;}break;}}async['getUserInput'](_0x1b7d59,_0x14b2f1){const _0x5dfcd1=a1_0x3fcf45,_0x2793a3={'Bewho':function(_0x36f225,_0x5436ca,_0x229963){return _0x36f225(_0x5436ca,_0x229963);},'WuajP':function(_0x5d1f9f,_0x4c10f2){return _0x5d1f9f===_0x4c10f2;},'VDdrd':function(_0x30a025,_0x205bdf){return _0x30a025(_0x205bdf);},'piBaS':function(_0x2249dd,_0x10c962){return _0x2249dd(_0x10c962);},'Jpxqd':function(_0x3c7e68,_0x10fc66){return _0x3c7e68(_0x10fc66);},'KJnmV':function(_0x23e20a,_0x263f20){return _0x23e20a!==_0x263f20;},'OIbuh':_0x5dfcd1(0x1a6),'PEpcx':function(_0xe4e188,_0x504ee6){return _0xe4e188(_0x504ee6);},'BIyHi':function(_0x451fc0,_0x406d7f){return _0x451fc0===_0x406d7f;},'Qlccu':_0x5dfcd1(0x317),'JkByg':_0x5dfcd1(0x133),'jfIBn':function(_0x24b25f,_0x326e3e){return _0x24b25f===_0x326e3e;},'Tfkdl':function(_0xf5ef89,_0x13d98b){return _0xf5ef89===_0x13d98b;},'ToDbF':_0x5dfcd1(0x1a3),'MlzHY':_0x5dfcd1(0x166),'CzWxh':'Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','LgqTF':function(_0x3db9b6,_0x289fa6){return _0x3db9b6===_0x289fa6;},'ukyHJ':'gGzCl','nkRFk':function(_0x1b60b3,_0x59bccb){return _0x1b60b3===_0x59bccb;},'BsfdJ':_0x5dfcd1(0x2f4),'mvymi':_0x5dfcd1(0x1c9),'UFiXV':function(_0x1be705,_0x3c3076){return _0x1be705<_0x3c3076;},'ldjMJ':function(_0x26f1ab,_0x28a533){return _0x26f1ab===_0x28a533;},'VQpMR':'hXWij','iaRyf':_0x5dfcd1(0x285),'wTLxt':function(_0x5d0343,_0x1d4a57){return _0x5d0343+_0x1d4a57;},'qdWna':_0x5dfcd1(0x2ff),'hHdBB':function(_0x4d5d20,_0xd09e6){return _0x4d5d20(_0xd09e6);},'Iasik':function(_0x17aad9,_0x31157b){return _0x17aad9<=_0x31157b;},'pEoqI':function(_0x5b5489,_0x576b74){return _0x5b5489>_0x576b74;},'pCrfK':'PqCQE','Ipgcw':_0x5dfcd1(0x186),'HIIei':function(_0x22e95d,_0x31bb20){return _0x22e95d-_0x31bb20;}},_0x1130d7=this[_0x5dfcd1(0x139)][_0x5dfcd1(0x168)](),_0x26e50e=await _0x2793a3[_0x5dfcd1(0x19e)](_0x1b7d59,_0x1130d7+'\x20CLIENT\x20ID:\x20'),_0x1d5fc3=await _0x2793a3[_0x5dfcd1(0x19e)](_0x1b7d59,_0x1130d7+'\x20CLIENT\x20SECRET:\x20'),_0x6fe406=await _0x2793a3[_0x5dfcd1(0x230)](_0x1b7d59,_0x1130d7+_0x5dfcd1(0x127)),_0x49a3c9=await _0x2793a3['Jpxqd'](_0x1b7d59,_0x1130d7+_0x5dfcd1(0x220));global_registry[_0x5dfcd1(0x24d)]=_0x26e50e,global_registry[_0x5dfcd1(0x221)]=_0x1d5fc3,global_registry[_0x5dfcd1(0x278)]=_0x6fe406,global_registry[_0x5dfcd1(0x275)]=_0x49a3c9,this[_0x5dfcd1(0x14d)]();const _0x4d1393=await this[_0x5dfcd1(0x28f)](),_0x4b6502=_0x4d1393[_0x5dfcd1(0x14e)];let _0x124a0b;if(_0x2793a3['WuajP'](_0x4b6502,0x0))_0x2793a3[_0x5dfcd1(0x134)](_0x2793a3[_0x5dfcd1(0x19f)],_0x2793a3[_0x5dfcd1(0x19f)])?_0x2793a3[_0x5dfcd1(0x2b2)](_0x14e904,()=>_0x5b1bf1(),0x3e8):_0x124a0b=await _0x2793a3[_0x5dfcd1(0x25b)](_0x1b7d59,_0x1130d7+_0x5dfcd1(0x130));else{if(_0x2793a3[_0x5dfcd1(0x2f0)](_0x4b6502,0x1)){if(_0x2793a3['KJnmV'](_0x2793a3[_0x5dfcd1(0x2d4)],_0x2793a3['JkByg'])){const _0x4e0c5a=await _0x2793a3[_0x5dfcd1(0x203)](_0x1b7d59,_0x5dfcd1(0x170)+_0x4d1393[0x0]+_0x5dfcd1(0x1bd));(_0x2793a3[_0x5dfcd1(0x2f0)](_0x4e0c5a,undefined)||_0x2793a3[_0x5dfcd1(0x235)](_0x4e0c5a,null)||!(_0x2793a3[_0x5dfcd1(0x1c0)](_0x4e0c5a[_0x5dfcd1(0x271)](),'y')||_0x2793a3[_0x5dfcd1(0x235)](_0x4e0c5a[_0x5dfcd1(0x271)](),'n')))&&(_0x2793a3[_0x5dfcd1(0x245)](_0x2793a3[_0x5dfcd1(0x119)],_0x2793a3[_0x5dfcd1(0x136)])?_0x737c72[_0x5dfcd1(0x228)]=![]:(console[_0x5dfcd1(0x1c7)](_0x2793a3[_0x5dfcd1(0x16e)]),process['exit'](0x1)));if(_0x2793a3[_0x5dfcd1(0x2ed)](_0x4e0c5a['toLowerCase'](),'n')){if(_0x2793a3[_0x5dfcd1(0x2ed)](_0x2793a3[_0x5dfcd1(0x258)],_0x2793a3['ukyHJ']))process[_0x5dfcd1(0x1b7)](0x0);else{const _0xa9940f=new _0x122326(_0x218ca0[_0x5dfcd1(0x278)],_0xe4b51a[_0x5dfcd1(0x24d)],_0x2656c1[_0x5dfcd1(0x221)]);this[_0x5dfcd1(0x216)]=new _0x133bb8(_0xa9940f,_0x4f221d[_0x5dfcd1(0x275)]),this[_0x5dfcd1(0x2cb)]=new _0x16afb2(_0xa9940f,_0x3210e2[_0x5dfcd1(0x275)]),this['resourceClient']=new _0x4e70fa(_0xa9940f,_0x1c6faf[_0x5dfcd1(0x275)]),this[_0x5dfcd1(0x30f)]=new _0x3b3a53(_0xa9940f,_0x4add09[_0x5dfcd1(0x275)]),this[_0x5dfcd1(0x223)]=new _0x597b09(_0xa9940f,_0x5614d2['cloudProviderSubscriptionId']),this[_0x5dfcd1(0x15d)]=_0xa9940f;}}_0x124a0b=_0x4d1393[0x0];}else return!![];}else{if(_0x2793a3['nkRFk'](_0x2793a3[_0x5dfcd1(0x294)],_0x2793a3[_0x5dfcd1(0x143)]))_0x224a78[_0x5dfcd1(0x2d5)](..._0x22528d[_0x5dfcd1(0x1d4)]);else{for(let _0x3ac5c2=0x0;_0x2793a3[_0x5dfcd1(0x13e)](_0x3ac5c2,_0x4d1393[_0x5dfcd1(0x14e)]);_0x3ac5c2+=0x1){if(_0x2793a3[_0x5dfcd1(0x215)](_0x2793a3[_0x5dfcd1(0x18c)],_0x2793a3[_0x5dfcd1(0x1b3)])){if(_0x2793a3[_0x5dfcd1(0x235)](_0x2d4b0a[_0x5dfcd1(0x1cd)],_0x5dfcd1(0x15e)+this[_0x5dfcd1(0x2aa)]))return!![];}else console[_0x5dfcd1(0x2cf)]('['+_0x2793a3[_0x5dfcd1(0x1e1)](_0x3ac5c2,0x1)+']\x20'+_0x4d1393[_0x3ac5c2]);}const _0x151043=await _0x2793a3[_0x5dfcd1(0x230)](_0x1b7d59,_0x2793a3['qdWna']),_0x553b2d=_0x2793a3[_0x5dfcd1(0x185)](Number,_0x151043);if(_0x2793a3['VDdrd'](isNaN,_0x553b2d)||_0x2793a3['Iasik'](_0x553b2d,0x0)||_0x2793a3[_0x5dfcd1(0x2b0)](_0x553b2d,_0x4b6502)){if(_0x2793a3[_0x5dfcd1(0x134)](_0x2793a3[_0x5dfcd1(0x145)],_0x2793a3[_0x5dfcd1(0x260)]))console[_0x5dfcd1(0x1c7)](_0x2793a3[_0x5dfcd1(0x16e)]),process[_0x5dfcd1(0x1b7)](0x1);else return!![];}_0x124a0b=_0x4d1393[_0x2793a3[_0x5dfcd1(0x17b)](_0x553b2d,0x1)];}}}global_registry[_0x5dfcd1(0x1c2)]=_0x124a0b;const _0x3266a6={};return _0x3266a6[_0x5dfcd1(0x197)]=_0x26e50e,_0x3266a6[_0x5dfcd1(0x2fb)]=_0x1d5fc3,_0x3266a6[_0x5dfcd1(0x18f)]=_0x6fe406,_0x3266a6[_0x5dfcd1(0x1bb)]=_0x49a3c9,_0x3266a6['resourceGroup']=_0x124a0b,_0x14b2f1[_0x5dfcd1(0x138)][AZURE]=_0x3266a6,_0x14b2f1;}async['getResourceGroups'](){const _0x2face0=a1_0x3fcf45,_0x1cfec0={};_0x1cfec0['qaBaf']=function(_0xf83ba4,_0x5ce546){return _0xf83ba4===_0x5ce546;},_0x1cfec0[_0x2face0(0x1b9)]=_0x2face0(0x13c),_0x1cfec0[_0x2face0(0x312)]=_0x2face0(0x256);const _0x389f1e=_0x1cfec0,_0x1edf9c=[];try{if(_0x389f1e[_0x2face0(0x193)](_0x389f1e[_0x2face0(0x1b9)],_0x389f1e[_0x2face0(0x1b9)])){const _0xddaabe=await this[_0x2face0(0x189)][_0x2face0(0x2bc)][_0x2face0(0x30b)]();for await(const _0x5293c3 of _0xddaabe){_0x389f1e[_0x2face0(0x193)](_0x389f1e[_0x2face0(0x312)],_0x389f1e[_0x2face0(0x312)])?_0x1edf9c['push'](_0x5293c3[_0x2face0(0x1cd)]):_0x4a06f0['push'](_0x4546f2);}}else _0x178c9e=_0x267b56['id'];}catch(_0x25a4b0){}return _0x1edf9c;}async[a1_0x3fcf45(0x1ed)](){const _0x25c5b5=a1_0x3fcf45;return this[_0x25c5b5(0x279)]=await this[_0x25c5b5(0x216)][_0x25c5b5(0x26c)][_0x25c5b5(0x141)](global_registry[_0x25c5b5(0x1c2)],this[_0x25c5b5(0x2aa)]),this[_0x25c5b5(0x279)];}async[a1_0x3fcf45(0x236)](){const _0x558a36=a1_0x3fcf45,_0x3745e6=await this['containerClient']['managedClusters']['listClusterAdminCredentials'](global_registry['cloudProviderResourceGroup'],this['clusterName']),_0x4011e9=_0x3745e6[_0x558a36(0x2be)][0x0][_0x558a36(0x137)][_0x558a36(0x268)]();return _0x4011e9;}[a1_0x3fcf45(0x305)](_0x3b71b2){const _0x257280=a1_0x3fcf45;return _0x3b71b2[_0x257280(0x228)][_0x257280(0x265)]['ingress'][0x0][_0x257280(0x140)];}async[a1_0x3fcf45(0x1dc)](){const _0x1d7edf=a1_0x3fcf45,_0xb5af6={};_0xb5af6[_0x1d7edf(0x129)]=_0x1d7edf(0x296),_0xb5af6[_0x1d7edf(0x30c)]=function(_0x1f97d3,_0x2eb670){return _0x1f97d3===_0x2eb670;},_0xb5af6['gQEON']=_0x1d7edf(0x264),_0xb5af6[_0x1d7edf(0x157)]=_0x1d7edf(0x1a4),_0xb5af6[_0x1d7edf(0x20d)]=_0x1d7edf(0x1fa),_0xb5af6['nBrgh']=_0x1d7edf(0x151);const _0x12f481=_0xb5af6,_0x5a2443=new Array();for await(const _0x4cb0a9 of this[_0x1d7edf(0x216)][_0x1d7edf(0x26c)][_0x1d7edf(0x237)](global_registry[_0x1d7edf(0x1c2)])){if(_0x12f481['vglMc'](_0x12f481[_0x1d7edf(0x173)],_0x12f481[_0x1d7edf(0x173)]))_0x5a2443[_0x1d7edf(0x2d5)](_0x4cb0a9);else return!![];}for await(const _0xd41218 of _0x5a2443){if(_0x12f481[_0x1d7edf(0x30c)](_0x12f481['mdOcC'],_0x12f481[_0x1d7edf(0x157)])){if(_0x12f481[_0x1d7edf(0x30c)](_0xd41218[_0x1d7edf(0x1cd)],this[_0x1d7edf(0x2aa)]))return _0x12f481['vglMc'](_0x12f481[_0x1d7edf(0x20d)],_0x12f481[_0x1d7edf(0x2d1)])?(_0x47ce05[_0x1d7edf(0x226)]=_0x12f481[_0x1d7edf(0x129)],_0x418e69):(await this[_0x1d7edf(0x1ed)](),!![]);}else _0x12f481['vglMc'](_0x3e82c1[_0x1d7edf(0x1cd)],_0x3a2fb5)&&(_0x1af8d1=_0x3a1ba6['id']);}return![];}async[a1_0x3fcf45(0x27f)](_0x10ae9d=null,_0x3e010c=null){const _0x2b83c4=a1_0x3fcf45,_0x1a3d11={};_0x1a3d11['ysXiH']='3|0|1|5|4|2',_0x1a3d11[_0x2b83c4(0x2d7)]=_0x2b83c4(0x2a5);const _0x5107a4=_0x1a3d11,_0x46cba3=_0x5107a4[_0x2b83c4(0x1f6)][_0x2b83c4(0x14c)]('|');let _0x1a7b51=0x0;while(!![]){switch(_0x46cba3[_0x1a7b51++]){case'0':const _0x58cb70={};_0x58cb70[_0x2b83c4(0x165)]=WS_EVENTS['LOG'],_0x58cb70[_0x2b83c4(0x288)]=_0x5107a4[_0x2b83c4(0x2d7)],this[_0x2b83c4(0x1f9)][_0x2b83c4(0x19c)](this[_0x2b83c4(0x313)],_0x58cb70);continue;case'1':logger['info'](_0x5107a4[_0x2b83c4(0x2d7)]);continue;case'2':return[_0x10ae9d,_0x3e010c];case'3':this[_0x2b83c4(0x21b)]();continue;case'4':await this[_0x2b83c4(0x150)]();continue;case'5':await this[_0x2b83c4(0x292)](_0x10ae9d,_0x3e010c);continue;}break;}}async[a1_0x3fcf45(0x292)](_0x1c1c14=null,_0x643787=null){const _0x382d68=a1_0x3fcf45,_0x4272d1={};_0x4272d1[_0x382d68(0x2c9)]=_0x382d68(0x30e),_0x4272d1[_0x382d68(0x1e5)]=_0x382d68(0x295),_0x4272d1[_0x382d68(0x241)]=_0x382d68(0x1b2),_0x4272d1['kFBIn']=_0x382d68(0x269),_0x4272d1[_0x382d68(0x210)]='utf-8',_0x4272d1['lorEi']=_0x382d68(0x1de),_0x4272d1['aZrUN']=_0x382d68(0x1ff),_0x4272d1[_0x382d68(0x21d)]=function(_0xe36016,_0x4a47b1){return _0xe36016!==_0x4a47b1;},_0x4272d1['XyGWi']=function(_0x35ab7c,_0x15623b){return _0x35ab7c!==_0x15623b;},_0x4272d1[_0x382d68(0x2c6)]=function(_0x258279,_0x599ef3){return _0x258279===_0x599ef3;},_0x4272d1['rIGtQ']='EDcAo',_0x4272d1[_0x382d68(0x286)]=_0x382d68(0x187),_0x4272d1[_0x382d68(0x209)]=_0x382d68(0x2a4),_0x4272d1[_0x382d68(0x126)]=_0x382d68(0x1c3),_0x4272d1[_0x382d68(0x13f)]=_0x382d68(0x26f),_0x4272d1['jSvKL']=_0x382d68(0x238),_0x4272d1['frnnJ']=_0x382d68(0x318);const _0x279e14=_0x4272d1;let _0x3a4495=await fs['readFileAsync'](path['join'](__dirname,'..',_0x279e14[_0x382d68(0x1e5)],_0x279e14[_0x382d68(0x241)],_0x279e14[_0x382d68(0x18a)]),_0x279e14[_0x382d68(0x210)]);_0x3a4495=JSON[_0x382d68(0x263)](_0x3a4495);const _0x147b01={};_0x147b01[_0x382d68(0x137)]=this[_0x382d68(0x2aa)];const _0x25598f={};_0x25598f[_0x382d68(0x137)]=global_registry['clusterRegion'];const _0xc4b1e9={};_0xc4b1e9[_0x382d68(0x137)]=global_registry[_0x382d68(0x2af)];const _0x5e64b8={};_0x5e64b8[_0x382d68(0x137)]=global_registry[_0x382d68(0x308)];const _0x353e36={};_0x353e36['value']=global_registry[_0x382d68(0x11a)]?_0x279e14[_0x382d68(0x1c4)]:_0x279e14[_0x382d68(0x2d6)];const _0x49b1ae={};_0x49b1ae[_0x382d68(0x2aa)]=_0x147b01,_0x49b1ae[_0x382d68(0x18b)]=_0x25598f,_0x49b1ae['userInstanceType']=_0xc4b1e9,_0x49b1ae[_0x382d68(0x142)]=_0x5e64b8,_0x49b1ae[_0x382d68(0x11a)]=_0x353e36;let _0x30b942=_0x49b1ae;if(_0x279e14[_0x382d68(0x21d)](_0x1c1c14,null)&&_0x279e14[_0x382d68(0x214)](_0x643787,null)){if(_0x279e14[_0x382d68(0x2c6)](_0x279e14[_0x382d68(0x23a)],_0x279e14[_0x382d68(0x23a)])){const _0x49d5b3={};_0x49d5b3[_0x382d68(0x165)]=_0x279e14[_0x382d68(0x286)],_0x49d5b3[_0x382d68(0x266)]={},_0x49d5b3[_0x382d68(0x266)][_0x382d68(0x2d2)]=_0x279e14['VSFCs'];const _0x1da685={};_0x1da685['type']=_0x279e14[_0x382d68(0x286)],_0x1da685[_0x382d68(0x266)]={},_0x1da685[_0x382d68(0x266)][_0x382d68(0x2d2)]=_0x279e14[_0x382d68(0x209)],_0x3a4495[_0x382d68(0x270)]={..._0x3a4495[_0x382d68(0x270)],'vpcName':_0x49d5b3,'subnetName':_0x1da685};const _0x2391e5={};_0x2391e5[_0x382d68(0x16d)]=_0x279e14[_0x382d68(0x126)],_0x3a4495[_0x382d68(0x2fc)]=_0x2391e5,_0x3a4495['resources'][0x0][_0x382d68(0x12f)][_0x382d68(0x1e4)][0x0]={..._0x3a4495[_0x382d68(0x20f)][0x0][_0x382d68(0x12f)]['agentPoolProfiles'][0x0],'vnetSubnetID':_0x279e14[_0x382d68(0x13f)]};const _0x28b371={};_0x28b371['value']=_0x1c1c14;const _0x43044e={};_0x43044e['value']=_0x643787[0x0],_0x30b942={..._0x30b942,'vpcName':_0x28b371,'subnetName':_0x43044e};}else{const _0x53740d={};_0x53740d[_0x382d68(0x228)]=!![],_0x53740d[_0x382d68(0x1c7)]=null,_0x53740d[_0x382d68(0x226)]=_0x279e14[_0x382d68(0x2c9)];const _0xa56ca6=_0x53740d;return _0xa56ca6;}}await this[_0x382d68(0x189)][_0x382d68(0x198)][_0x382d68(0x2ba)](global_registry[_0x382d68(0x1c2)],_0x279e14[_0x382d68(0x2a6)],{'properties':{'template':_0x3a4495,'mode':_0x279e14[_0x382d68(0x1ae)],'parameters':_0x30b942}});}async['createOtherResources'](){const _0x13a4eb=a1_0x3fcf45,_0x5ae1a4={};_0x5ae1a4[_0x13a4eb(0x199)]=function(_0x2270c4,_0x3b5683){return _0x2270c4===_0x3b5683;},_0x5ae1a4[_0x13a4eb(0x24a)]=_0x13a4eb(0x233),_0x5ae1a4[_0x13a4eb(0x1df)]=_0x13a4eb(0x187),_0x5ae1a4[_0x13a4eb(0x11d)]=_0x13a4eb(0x2a4),_0x5ae1a4[_0x13a4eb(0x277)]=_0x13a4eb(0x1c3),_0x5ae1a4[_0x13a4eb(0x309)]='[variables(\x27vnetSubnetID\x27)]',_0x5ae1a4['ShUHI']=function(_0x4b9ed3,_0x680d2d){return _0x4b9ed3!==_0x680d2d;},_0x5ae1a4[_0x13a4eb(0x291)]=_0x13a4eb(0x26a),_0x5ae1a4[_0x13a4eb(0x23c)]=_0x13a4eb(0x206),_0x5ae1a4[_0x13a4eb(0x242)]=_0x13a4eb(0x183),_0x5ae1a4[_0x13a4eb(0x1d0)]=_0x13a4eb(0x28e),_0x5ae1a4[_0x13a4eb(0x156)]='Storage\x20account\x20already\x20exists,\x20skipping',_0x5ae1a4[_0x13a4eb(0x272)]=function(_0x4756b2,_0x55bf65){return _0x4756b2===_0x55bf65;},_0x5ae1a4[_0x13a4eb(0x188)]=_0x13a4eb(0x20c),_0x5ae1a4[_0x13a4eb(0x27b)]=_0x13a4eb(0x315),_0x5ae1a4[_0x13a4eb(0x287)]=_0x13a4eb(0x28b),_0x5ae1a4['DMLLC']='Managed\x20identity\x20already\x20exists,\x20skipping',_0x5ae1a4[_0x13a4eb(0x2e7)]=_0x13a4eb(0x27c),_0x5ae1a4[_0x13a4eb(0x1fd)]=_0x13a4eb(0x21f);const _0x481e27=_0x5ae1a4,_0x4361bc=await this[_0x13a4eb(0x2e6)]();if(!_0x4361bc){if(_0x481e27[_0x13a4eb(0x1e9)](_0x481e27[_0x13a4eb(0x291)],_0x481e27[_0x13a4eb(0x23c)])){const _0x4c252a={};_0x4c252a[_0x13a4eb(0x165)]=WS_EVENTS[_0x13a4eb(0x160)],_0x4c252a[_0x13a4eb(0x288)]=_0x481e27['BkMxI'],this[_0x13a4eb(0x1f9)][_0x13a4eb(0x19c)](this['rws'],_0x4c252a),logger[_0x13a4eb(0x2cd)](_0x481e27[_0x13a4eb(0x242)]),await this[_0x13a4eb(0x2f1)]();}else return _0x534860[_0x13a4eb(0x228)][_0x13a4eb(0x265)][_0x13a4eb(0x1a9)][0x0][_0x13a4eb(0x140)];}else _0x481e27['kVmLh'](_0x481e27[_0x13a4eb(0x1d0)],_0x481e27[_0x13a4eb(0x1d0)])?logger[_0x13a4eb(0x2cd)](_0x481e27[_0x13a4eb(0x156)]):(_0x211801+=_0x481e27[_0x13a4eb(0x199)](_0x5d8d57['length'],0x0)?_0x481e27[_0x13a4eb(0x24a)]:'',_0x663c84[_0x13a4eb(0x1ab)](_0x13a4eb(0x1eb)+_0x5ef82d[_0x13a4eb(0x1f5)](_0x25e1f4)));const _0x30451d=await this[_0x13a4eb(0x27d)]();if(!_0x30451d){if(_0x481e27[_0x13a4eb(0x272)](_0x481e27['fWmEm'],_0x481e27[_0x13a4eb(0x188)])){const _0x2a61dd={};_0x2a61dd[_0x13a4eb(0x165)]=WS_EVENTS[_0x13a4eb(0x160)],_0x2a61dd[_0x13a4eb(0x288)]=_0x481e27['rnfuG'],this[_0x13a4eb(0x1f9)][_0x13a4eb(0x19c)](this[_0x13a4eb(0x313)],_0x2a61dd),logger[_0x13a4eb(0x2cd)](_0x481e27[_0x13a4eb(0x27b)]),await this['createManagedIdentity']();}else _0x553c76[_0x13a4eb(0x1c7)]=_0x33ffa3;}else{if(_0x481e27[_0x13a4eb(0x199)](_0x481e27['AbMNr'],_0x481e27[_0x13a4eb(0x287)]))logger[_0x13a4eb(0x2cd)](_0x481e27[_0x13a4eb(0x213)]);else{const _0x12507={};_0x12507['type']=_0x481e27['AEtGg'],_0x12507[_0x13a4eb(0x266)]={},_0x12507[_0x13a4eb(0x266)]['description']=_0x481e27[_0x13a4eb(0x11d)];const _0x334f9f={};_0x334f9f[_0x13a4eb(0x165)]=_0x481e27[_0x13a4eb(0x1df)],_0x334f9f['metadata']={},_0x334f9f['metadata'][_0x13a4eb(0x2d2)]=_0x481e27['jMyzi'];const _0x48fe10={..._0x161e4c['parameters']};_0x48fe10[_0x13a4eb(0x304)]=_0x12507,_0x48fe10[_0x13a4eb(0x2da)]=_0x334f9f,_0x539915['parameters']=_0x48fe10;const _0xc576ff={};_0xc576ff[_0x13a4eb(0x16d)]=_0x481e27['YmIKI'],_0x5ebf84[_0x13a4eb(0x2fc)]=_0xc576ff;const _0x5d45a6={..._0x6b035a['resources'][0x0][_0x13a4eb(0x12f)][_0x13a4eb(0x1e4)][0x0]};_0x5d45a6['vnetSubnetID']=_0x481e27[_0x13a4eb(0x309)],_0x341e6b[_0x13a4eb(0x20f)][0x0]['properties'][_0x13a4eb(0x1e4)][0x0]=_0x5d45a6;const _0x4d4b1b={};_0x4d4b1b[_0x13a4eb(0x137)]=_0x402636;const _0x244618={};_0x244618[_0x13a4eb(0x137)]=_0x41347d[0x0];const _0xf71162={..._0x5ea653};_0xf71162[_0x13a4eb(0x304)]=_0x4d4b1b,_0xf71162[_0x13a4eb(0x2da)]=_0x244618,_0x1ca13a=_0xf71162;}}logger[_0x13a4eb(0x2cd)](_0x481e27[_0x13a4eb(0x2e7)]),await this['createFederatedAccount'](),logger[_0x13a4eb(0x2cd)](_0x481e27[_0x13a4eb(0x1fd)]);}async[a1_0x3fcf45(0x2f1)](){const _0x4bcf0c=a1_0x3fcf45,_0x27ad03={};_0x27ad03['taQNL']=_0x4bcf0c(0x295),_0x27ad03[_0x4bcf0c(0x14b)]=_0x4bcf0c(0x1b2),_0x27ad03[_0x4bcf0c(0x293)]=_0x4bcf0c(0x176),_0x27ad03[_0x4bcf0c(0x2ac)]=_0x4bcf0c(0x181),_0x27ad03[_0x4bcf0c(0x283)]=_0x4bcf0c(0x2a3),_0x27ad03[_0x4bcf0c(0x239)]='Incremental',_0x27ad03[_0x4bcf0c(0x147)]=_0x4bcf0c(0x169),_0x27ad03['RdhYd']=_0x4bcf0c(0x21c),_0x27ad03[_0x4bcf0c(0x2a2)]=_0x4bcf0c(0x182),_0x27ad03[_0x4bcf0c(0x2d9)]=_0x4bcf0c(0x224);const _0x41e86c=_0x27ad03;let _0x1833a5=await fs[_0x4bcf0c(0x1d9)](path[_0x4bcf0c(0x174)](__dirname,'..',_0x41e86c[_0x4bcf0c(0x2e8)],_0x41e86c['baCIE'],_0x41e86c[_0x4bcf0c(0x293)]),_0x41e86c[_0x4bcf0c(0x2ac)]);_0x1833a5=JSON[_0x4bcf0c(0x263)](_0x1833a5);const _0x5e077b=this['getStorageAccountName'](),_0x32aca9={};_0x32aca9[_0x4bcf0c(0x137)]=_0x5e077b;const _0x5bd9f5={};_0x5bd9f5[_0x4bcf0c(0x267)]=_0x32aca9,await this[_0x4bcf0c(0x189)][_0x4bcf0c(0x198)][_0x4bcf0c(0x2ba)](global_registry[_0x4bcf0c(0x1c2)],_0x41e86c[_0x4bcf0c(0x283)],{'properties':{'template':_0x1833a5,'mode':_0x41e86c[_0x4bcf0c(0x239)],'parameters':_0x5bd9f5}});const _0x593f1d={};_0x593f1d[_0x4bcf0c(0x1d2)]=0x3c;const _0x4eebe6={};_0x4eebe6[_0x4bcf0c(0x25f)]=_0x593f1d;const _0x19838c={};_0x19838c[_0x4bcf0c(0x1ca)]=_0x4eebe6;const _0x49a1ce={};_0x49a1ce[_0x4bcf0c(0x274)]=!![],_0x49a1ce[_0x4bcf0c(0x1cd)]=_0x41e86c[_0x4bcf0c(0x147)],_0x49a1ce[_0x4bcf0c(0x165)]=_0x41e86c[_0x4bcf0c(0x22a)],_0x49a1ce[_0x4bcf0c(0x1dd)]={},_0x49a1ce[_0x4bcf0c(0x1dd)]['actions']=_0x19838c,_0x49a1ce[_0x4bcf0c(0x1dd)][_0x4bcf0c(0x25c)]={},_0x49a1ce[_0x4bcf0c(0x1dd)][_0x4bcf0c(0x25c)][_0x4bcf0c(0x2c0)]=[_0x41e86c[_0x4bcf0c(0x2a2)]];const _0x316290={};_0x316290[_0x4bcf0c(0x132)]=[_0x49a1ce];const _0x5db5d7={};_0x5db5d7[_0x4bcf0c(0x2bf)]=_0x316290;const _0x3e064f=_0x5db5d7;await this[_0x4bcf0c(0x2cb)][_0x4bcf0c(0x302)][_0x4bcf0c(0x282)](global_registry[_0x4bcf0c(0x1c2)],_0x5e077b,_0x41e86c[_0x4bcf0c(0x2d9)],_0x3e064f);}async[a1_0x3fcf45(0x12b)](){const _0x193ed9=a1_0x3fcf45,_0x5b40a2={};_0x5b40a2[_0x193ed9(0x298)]=_0x193ed9(0x295),_0x5b40a2[_0x193ed9(0x2f2)]=_0x193ed9(0x1b2),_0x5b40a2[_0x193ed9(0x14f)]=_0x193ed9(0x1d3),_0x5b40a2[_0x193ed9(0x171)]='utf-8',_0x5b40a2[_0x193ed9(0x172)]=_0x193ed9(0x290),_0x5b40a2[_0x193ed9(0x259)]='Incremental';const _0x349198=_0x5b40a2;let _0x431a2b=await fs[_0x193ed9(0x1d9)](path[_0x193ed9(0x174)](__dirname,'..',_0x349198['zaabt'],_0x349198['juPOs'],_0x349198[_0x193ed9(0x14f)]),_0x349198['JnObH']);_0x431a2b=JSON[_0x193ed9(0x263)](_0x431a2b),await this[_0x193ed9(0x189)][_0x193ed9(0x198)][_0x193ed9(0x2ba)](global_registry[_0x193ed9(0x1c2)],_0x349198['aiiVx'],{'properties':{'template':_0x431a2b,'mode':_0x349198[_0x193ed9(0x259)],'parameters':{'clusterName':{'value':this[_0x193ed9(0x2aa)]}}}});}async[a1_0x3fcf45(0x15a)](){const _0x4f56a3=a1_0x3fcf45,_0x266bc8={};_0x266bc8['kSAmb']='Storage\x20account\x20already\x20exists,\x20skipping',_0x266bc8[_0x4f56a3(0x250)]='0|1|3|4|5|2',_0x266bc8['dqQVC']=function(_0x3f8923,_0x4c1224){return _0x3f8923===_0x4c1224;},_0x266bc8[_0x4f56a3(0x180)]='hLxJh',_0x266bc8[_0x4f56a3(0x2c3)]=_0x4f56a3(0x15c),_0x266bc8[_0x4f56a3(0x243)]=_0x4f56a3(0x1af),_0x266bc8['UcLlz']=function(_0x4fcea,_0x19cd80){return _0x4fcea!==_0x19cd80;},_0x266bc8[_0x4f56a3(0x299)]=_0x4f56a3(0x124),_0x266bc8[_0x4f56a3(0x1ce)]=_0x4f56a3(0x295),_0x266bc8[_0x4f56a3(0x2f5)]=_0x4f56a3(0x1b2),_0x266bc8[_0x4f56a3(0x2e5)]=_0x4f56a3(0x181),_0x266bc8['KrZxA']=_0x4f56a3(0x257),_0x266bc8[_0x4f56a3(0x2b7)]=_0x4f56a3(0x318);const _0x2dfa57=_0x266bc8;!this[_0x4f56a3(0x279)]&&(_0x2dfa57[_0x4f56a3(0x2ad)](_0x2dfa57['pfqWz'],_0x2dfa57[_0x4f56a3(0x180)])?await this['getClusterInfo']():_0x4fc8df[_0x4f56a3(0x2cd)](_0x2dfa57[_0x4f56a3(0x2a0)]));const _0x17ff20=this[_0x4f56a3(0x279)]?.[_0x4f56a3(0x253)]?.[_0x4f56a3(0x161)],_0x3a136b=[_0x2dfa57['HzcmW'],_0x2dfa57[_0x4f56a3(0x243)]];for await(const _0x5e036f of _0x3a136b){if(_0x2dfa57[_0x4f56a3(0x273)](_0x2dfa57[_0x4f56a3(0x299)],_0x2dfa57[_0x4f56a3(0x299)])){const _0x133993=_0x2dfa57[_0x4f56a3(0x250)][_0x4f56a3(0x14c)]('|');let _0x19a74a=0x0;while(!![]){switch(_0x133993[_0x19a74a++]){case'0':_0x1f2c5e[_0x4f56a3(0x24d)]=_0x33751c[this[_0x4f56a3(0x139)]][_0x4f56a3(0x197)];continue;case'1':_0x2b12e2[_0x4f56a3(0x221)]=_0x54dafa[this[_0x4f56a3(0x139)]][_0x4f56a3(0x2fb)];continue;case'2':this[_0x4f56a3(0x14d)]();continue;case'3':_0x28e29a[_0x4f56a3(0x278)]=_0x2d1a86[this[_0x4f56a3(0x139)]]['tenantId'];continue;case'4':_0x337dd4[_0x4f56a3(0x275)]=_0x5a6a30[this[_0x4f56a3(0x139)]][_0x4f56a3(0x1bb)];continue;case'5':_0x42f711['cloudProviderResourceGroup']=_0x238b6b[this[_0x4f56a3(0x139)]][_0x4f56a3(0x1a5)];continue;}break;}}else{let _0x3ac6c0=await fs[_0x4f56a3(0x1d9)](path[_0x4f56a3(0x174)](__dirname,'..',_0x2dfa57['PkUfc'],_0x2dfa57[_0x4f56a3(0x2f5)],_0x4f56a3(0x1e2)+_0x5e036f+_0x4f56a3(0x246)),_0x2dfa57[_0x4f56a3(0x2e5)]);_0x3ac6c0=JSON[_0x4f56a3(0x263)](_0x3ac6c0);const _0x37f708={};_0x37f708[_0x4f56a3(0x137)]=_0x17ff20,await this[_0x4f56a3(0x189)][_0x4f56a3(0x198)][_0x4f56a3(0x2ba)](global_registry[_0x4f56a3(0x1c2)],_0x2dfa57[_0x4f56a3(0x1fb)],{'properties':{'template':_0x3ac6c0,'mode':_0x2dfa57['eoDGt'],'parameters':{'oidcIssuer':_0x37f708,'gridName':{'value':this['gridName']},'clusterName':{'value':this[_0x4f56a3(0x2aa)]}}}});}}}async['setupHubHa'](_0x13e7ff,_0x53f07d,_0x1e51a8,_0x5d047e,_0x4dca69){const _0x5097db=a1_0x3fcf45,_0xe8d3f={};_0xe8d3f[_0x5097db(0x2c5)]=_0x5097db(0x28d),_0xe8d3f[_0x5097db(0x1bc)]='Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha';const _0x1026a2=_0xe8d3f,_0x22fabb={};_0x22fabb[_0x5097db(0x165)]=WS_EVENTS[_0x5097db(0x160)],_0x22fabb[_0x5097db(0x288)]=_0x1026a2[_0x5097db(0x2c5)],this[_0x5097db(0x1f9)][_0x5097db(0x19c)](this[_0x5097db(0x313)],_0x22fabb),logger[_0x5097db(0x2cd)](_0x1026a2[_0x5097db(0x2c5)]),await this['createFederatedAccountForHubHA']();const _0x58615d={};_0x58615d['type']=WS_EVENTS['LOG'],_0x58615d[_0x5097db(0x288)]=_0x1026a2[_0x5097db(0x1bc)],this[_0x5097db(0x1f9)][_0x5097db(0x19c)](this[_0x5097db(0x313)],_0x58615d);}async['createFederatedAccountForHubHA'](){const _0x3ff3ad=a1_0x3fcf45,_0x15addd={};_0x15addd[_0x3ff3ad(0x204)]=function(_0x4207a6,_0x9c6c36){return _0x4207a6!==_0x9c6c36;},_0x15addd['amaFn']='uRXey',_0x15addd['uJVdh']='templates',_0x15addd['oRenD']=_0x3ff3ad(0x2b5),_0x15addd[_0x3ff3ad(0x121)]=_0x3ff3ad(0x1e6),_0x15addd[_0x3ff3ad(0x158)]=_0x3ff3ad(0x181),_0x15addd['xOoLP']=_0x3ff3ad(0x257),_0x15addd['Oyctw']=_0x3ff3ad(0x318);const _0x4c560d=_0x15addd;!this['clusterInfo']&&(_0x4c560d[_0x3ff3ad(0x204)](_0x4c560d[_0x3ff3ad(0x1b0)],_0x4c560d['amaFn'])?_0x4c8837[_0x3ff3ad(0x1c7)]=_0x10fc3d:await this[_0x3ff3ad(0x1ed)]());const _0x34f38f=this[_0x3ff3ad(0x279)]?.[_0x3ff3ad(0x253)]?.[_0x3ff3ad(0x161)];let _0x1f0270=await fs['readFileAsync'](path['join'](__dirname,'..',_0x4c560d[_0x3ff3ad(0x29a)],_0x4c560d[_0x3ff3ad(0x1c8)],_0x4c560d[_0x3ff3ad(0x121)]),_0x4c560d[_0x3ff3ad(0x158)]);_0x1f0270=JSON[_0x3ff3ad(0x263)](_0x1f0270);const _0x15f526={};_0x15f526['value']=_0x34f38f,await this[_0x3ff3ad(0x189)][_0x3ff3ad(0x198)]['beginCreateOrUpdateAndWait'](global_registry[_0x3ff3ad(0x1c2)],_0x4c560d[_0x3ff3ad(0x17d)],{'properties':{'template':_0x1f0270,'mode':_0x4c560d[_0x3ff3ad(0x21a)],'parameters':{'oidcIssuer':_0x15f526,'namespace':{'value':global_registry[_0x3ff3ad(0x190)]},'clusterName':{'value':this[_0x3ff3ad(0x2aa)]}}}});}async[a1_0x3fcf45(0x2e6)](){const _0x19d279=a1_0x3fcf45,_0x4ff0e1={};_0x4ff0e1[_0x19d279(0x1cf)]=_0x19d279(0x1f2),_0x4ff0e1[_0x19d279(0x1f1)]=function(_0x4866c9,_0x308c00){return _0x4866c9+_0x308c00;},_0x4ff0e1['kANtp']=_0x19d279(0x20a),_0x4ff0e1['VLben']=function(_0x5952b2,_0x5e0b4a){return _0x5952b2-_0x5e0b4a;},_0x4ff0e1[_0x19d279(0x2ec)]=function(_0x1a0585,_0x46c1b1){return _0x1a0585!==_0x46c1b1;},_0x4ff0e1[_0x19d279(0x23d)]='dkMpk',_0x4ff0e1[_0x19d279(0x26b)]=_0x19d279(0x25d),_0x4ff0e1[_0x19d279(0x155)]=function(_0x4b9ae6,_0x53de8c){return _0x4b9ae6!==_0x53de8c;},_0x4ff0e1['UbNTr']=_0x19d279(0x22b),_0x4ff0e1[_0x19d279(0x15b)]=function(_0x593edd,_0x3e0593){return _0x593edd===_0x3e0593;},_0x4ff0e1[_0x19d279(0x248)]=_0x19d279(0x212);const _0x1f942a=_0x4ff0e1,_0x16556a=this[_0x19d279(0x1da)](),_0x50d17a=new Array();for await(const _0x37a23a of this[_0x19d279(0x2cb)][_0x19d279(0x19a)][_0x19d279(0x237)](global_registry[_0x19d279(0x1c2)])){_0x1f942a[_0x19d279(0x2ec)](_0x1f942a['TYKLd'],_0x1f942a[_0x19d279(0x26b)])?_0x50d17a[_0x19d279(0x2d5)](_0x37a23a):_0x26d216['push'](_0x419d0b);}for await(const _0x1f0820 of _0x50d17a){if(_0x1f942a['kCRoB'](_0x1f942a['UbNTr'],_0x1f942a[_0x19d279(0x2d0)])){_0x3e0b88[_0x19d279(0x2cd)](_0x1f942a[_0x19d279(0x1cf)]);const _0x233721={};_0x233721[_0x19d279(0x165)]=_0x31f511[_0x19d279(0x12c)],_0x233721[_0x19d279(0x288)]=_0x1f942a[_0x19d279(0x1cf)],this[_0x19d279(0x1f9)][_0x19d279(0x19c)](this[_0x19d279(0x313)],_0x233721),_0x240cd6[_0x19d279(0x253)][_0x19d279(0x274)]=!![];}else{if(_0x1f942a[_0x19d279(0x15b)](_0x1f0820[_0x19d279(0x1cd)],_0x16556a)){if(_0x1f942a['vHfwD'](_0x1f942a['nQClq'],_0x1f942a['nQClq'])){const _0x23156d=_0x492d6[_0x19d279(0x2e4)][_0x19d279(0x14c)]('-'),_0x559698=_0x1f942a[_0x19d279(0x1f1)](_0x1f942a[_0x19d279(0x26e)],_0x23156d[_0x1f942a[_0x19d279(0x26d)](_0x23156d[_0x19d279(0x14e)],0x1)])[_0x19d279(0x1a1)](0x0,0x18);return _0x559698[_0x19d279(0x271)]();}else return!![];}}}return![];}async['isManagedIdentityPresent'](){const _0x122600=a1_0x3fcf45,_0x1afd86={};_0x1afd86['swQIC']=function(_0x281136,_0x52c794){return _0x281136===_0x52c794;},_0x1afd86[_0x122600(0x2f7)]=_0x122600(0x162),_0x1afd86['TWAsT']=function(_0x1ab8ff,_0x50feec){return _0x1ab8ff!==_0x50feec;},_0x1afd86[_0x122600(0x1d8)]=_0x122600(0x262),_0x1afd86[_0x122600(0x2fa)]=_0x122600(0x16b),_0x1afd86[_0x122600(0x280)]=function(_0x56b0bb,_0x49ff05){return _0x56b0bb!==_0x49ff05;},_0x1afd86[_0x122600(0x284)]=_0x122600(0x1ba);const _0x3e1f75=_0x1afd86,_0x14721e=new Array();for await(const _0x3735c0 of this[_0x122600(0x189)]['resources']['listByResourceGroup'](global_registry[_0x122600(0x1c2)])){if(_0x3e1f75['swQIC'](_0x3e1f75[_0x122600(0x2f7)],_0x3e1f75['RjJsi']))_0x14721e[_0x122600(0x2d5)](_0x3735c0);else return _0x470aff[_0x122600(0x1c7)](_0x122600(0x1d5)+_0x4eff2c+':'+_0x201f91[_0x122600(0x196)]),{};}for await(const _0x4510b5 of _0x14721e){if(_0x3e1f75['TWAsT'](_0x3e1f75[_0x122600(0x1d8)],_0x3e1f75['nWXJM'])){if(_0x3e1f75['swQIC'](_0x4510b5[_0x122600(0x1cd)],_0x122600(0x15e)+this[_0x122600(0x2aa)])){if(_0x3e1f75[_0x122600(0x280)](_0x3e1f75['jVkRM'],_0x3e1f75[_0x122600(0x284)])){if(_0x3e1f75['swQIC'](_0x157126[_0x122600(0x1cd)],_0x1ee680))return!![];}else return!![];}}else return _0x31b057[_0x122600(0x1c7)](_0x122600(0x1f0)+_0x4e87cc+_0x122600(0x2ee)+_0x49843a),![];}return![];}async[a1_0x3fcf45(0x1e0)](_0x34f117,_0x3b7aea=0x3){const _0x1446f5=a1_0x3fcf45,_0x593602={'MoHaf':_0x1446f5(0x122),'xBHCt':_0x1446f5(0x227),'zhTVx':_0x1446f5(0x29d),'gVlOH':_0x1446f5(0x1b5),'OFzEN':_0x1446f5(0x2e0),'gagOa':function(_0xe93513,_0x231c98){return _0xe93513===_0x231c98;},'eSKNZ':_0x1446f5(0x13b),'HzqNi':function(_0x10cd8b,_0xe35eca,_0x42d8d4){return _0x10cd8b(_0xe35eca,_0x42d8d4);},'XJRal':function(_0x8e7814,_0x4ff553){return _0x8e7814!==_0x4ff553;},'kOeEg':_0x1446f5(0x16a),'ccArf':_0x1446f5(0x2f9),'NwQFh':_0x1446f5(0x2b3),'wXOwz':function(_0x7afb61,_0x2b2bf6){return _0x7afb61===_0x2b2bf6;},'xibfM':_0x1446f5(0x125),'SKSKf':function(_0x114e57,_0x26abf2){return _0x114e57!==_0x26abf2;},'KYGHR':_0x1446f5(0x1d1),'ThWmg':'NNtkd','Wnmbn':_0x1446f5(0x301),'cMCfF':_0x1446f5(0x22e),'GEZUH':function(_0x154881,_0xc8d49c){return _0x154881<=_0xc8d49c;},'iCtWe':function(_0x34bb6d,_0x56d78e){return _0x34bb6d===_0x56d78e;},'AloAM':'cypvv','ESeTb':function(_0x547ea3,_0x465bc0){return _0x547ea3-_0x465bc0;}};try{if(_0x593602['XJRal'](_0x593602[_0x1446f5(0x222)],_0x593602[_0x1446f5(0x17c)])){const _0x36f2fb=new Array();for await(const _0xa0a14b of this['resourceClient'][_0x1446f5(0x20f)][_0x1446f5(0x237)](global_registry[_0x1446f5(0x1c2)])){_0x593602[_0x1446f5(0x2dd)](_0x593602[_0x1446f5(0x1ee)],_0x593602['NwQFh'])?(_0x326400[_0x1446f5(0x1c7)](_0x593602[_0x1446f5(0x225)]),_0x32cbe7[_0x1446f5(0x1b7)](0x1)):_0x36f2fb[_0x1446f5(0x2d5)](_0xa0a14b);}let _0x421c23='';for await(const _0x4225f1 of _0x36f2fb){if(_0x593602[_0x1446f5(0x1d7)](_0x593602[_0x1446f5(0x1c1)],_0x593602[_0x1446f5(0x1c1)]))_0x593602[_0x1446f5(0x1d7)](_0x4225f1['name'],_0x34f117)&&(_0x593602[_0x1446f5(0x21e)](_0x593602[_0x1446f5(0x22d)],_0x593602[_0x1446f5(0x1e8)])?_0x421c23=_0x4225f1['id']:_0xe0feae[_0x1446f5(0x2d5)](_0x20b546));else throw new _0x2c0efd(_0x593602[_0x1446f5(0x12d)],_0x1446f5(0x11c)+_0x5d3895['stringify'](_0x2e9079));}const _0x32b3eb=await this[_0x1446f5(0x189)]['resources'][_0x1446f5(0x2a8)](_0x421c23,_0x593602[_0x1446f5(0x179)]);return _0x32b3eb[_0x1446f5(0x12f)]['clientId'];}else{const _0x4d11b9=_0x1263b4[_0x1446f5(0x12a)](_0x3e3771);_0x5ef5d9+='\x0a\x09'+_0x8d63e9+':\x20'+(_0x4d11b9?_0x593602[_0x1446f5(0x159)]:_0x593602[_0x1446f5(0x19d)]),!_0x4d11b9&&(_0x27f49a[_0x1446f5(0x228)]=![]);}}catch(_0x41bf76){if(_0x593602[_0x1446f5(0x21e)](_0x593602[_0x1446f5(0x289)],_0x593602[_0x1446f5(0x289)])){_0x17f148['info'](_0x593602[_0x1446f5(0x192)]);const _0x2f62a5={};_0x2f62a5['type']=_0x2709fa['RESOURCES'],_0x2f62a5['message']=_0x593602[_0x1446f5(0x192)],this[_0x1446f5(0x1f9)]['sendEventToBackend'](this['rws'],_0x2f62a5),_0x230042[_0x1446f5(0x1a0)]=![];}else{if(_0x593602[_0x1446f5(0x164)](_0x3b7aea,0x0))return _0x593602['iCtWe'](_0x593602[_0x1446f5(0x2dc)],_0x593602[_0x1446f5(0x2dc)])?(logger[_0x1446f5(0x1c7)]('[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20'+_0x41bf76+':'+_0x41bf76[_0x1446f5(0x196)]),{}):!![];return await new Promise(_0x17b930=>{const _0x484f27=_0x1446f5;if(_0x593602[_0x484f27(0x240)](_0x593602[_0x484f27(0x16c)],_0x593602[_0x484f27(0x16c)]))_0x593602[_0x484f27(0x1ea)](setTimeout,()=>_0x17b930(),0x3e8);else return _0x34437e[_0x484f27(0x1c7)](_0x484f27(0x254)+_0x5eec67+_0x484f27(0x1f3)+_0x11a3e3),[![],[]];}),this['getResourceClientId'](_0x34f117,_0x593602['ESeTb'](_0x3b7aea,0x1));}}}async[a1_0x3fcf45(0x12e)](){const _0x1d1208=a1_0x3fcf45,_0x24b0e3={};_0x24b0e3[_0x1d1208(0x2b9)]=function(_0x20cc68,_0x3486d9){return _0x20cc68!==_0x3486d9;},_0x24b0e3[_0x1d1208(0x1aa)]=_0x1d1208(0x200),_0x24b0e3['RYqjU']=_0x1d1208(0x319),_0x24b0e3[_0x1d1208(0x1e7)]=function(_0x21f8d2,_0x3ce6e4){return _0x21f8d2===_0x3ce6e4;},_0x24b0e3['tIHWc']='browserstack:managedBy',_0x24b0e3['TvwXC']=_0x1d1208(0x281),_0x24b0e3[_0x1d1208(0x261)]=function(_0x2569e5,_0x2bf861){return _0x2569e5===_0x2bf861;},_0x24b0e3[_0x1d1208(0x148)]=_0x1d1208(0x28c),_0x24b0e3[_0x1d1208(0x252)]=_0x1d1208(0x163);const _0x1e1a7d=_0x24b0e3;!this[_0x1d1208(0x279)]&&(_0x1e1a7d['BCqJq'](_0x1e1a7d[_0x1d1208(0x1aa)],_0x1e1a7d[_0x1d1208(0x11b)])?await this[_0x1d1208(0x1ed)]():_0x475e76[_0x1d1208(0x1b7)](0x0));const _0x52f9ad=this['clusterInfo']?.[_0x1d1208(0x297)]||{};if(_0x52f9ad&&_0x1e1a7d[_0x1d1208(0x1e7)](_0x52f9ad[_0x1e1a7d['tIHWc']],_0x1e1a7d[_0x1d1208(0x1cc)]))return _0x1e1a7d[_0x1d1208(0x261)](_0x1e1a7d[_0x1d1208(0x148)],_0x1e1a7d['ElcFg'])?(_0x29a8e5[_0x1d1208(0x1c7)]=_0x4bd748['error'],_0x1ba9a5):!![];return![];}async['deleteCluster'](_0x2e15ef,_0x15a6ee){const _0x543fa8=a1_0x3fcf45,_0x2c04f8={'zkPpk':function(_0x3dec34,_0x360c83){return _0x3dec34(_0x360c83);},'YbIWR':function(_0x8630d0,_0x35472f){return _0x8630d0(_0x35472f);},'aVmAs':_0x543fa8(0x131)};await _0x2c04f8[_0x543fa8(0x28a)](deleteAgent,_0x2e15ef),await _0x2c04f8['YbIWR'](deleteRoutingDeps,_0x2e15ef);const _0x37b1c4=this['containerClient'];logger['info'](_0x543fa8(0x249)+this['clusterName']),await _0x37b1c4[_0x543fa8(0x26c)][_0x543fa8(0x2fe)](global_registry[_0x543fa8(0x1c2)],this[_0x543fa8(0x2aa)]),logger[_0x543fa8(0x2cd)](_0x2c04f8[_0x543fa8(0x11e)]);}async[a1_0x3fcf45(0x1b1)](){const _0x2c40e2=a1_0x3fcf45,_0x53daad={};_0x53daad['ptNAp']=_0x2c40e2(0x1cb),_0x53daad[_0x2c40e2(0x146)]=_0x2c40e2(0x184),_0x53daad[_0x2c40e2(0x153)]=function(_0x18ef7e,_0x2ce7a7){return _0x18ef7e===_0x2ce7a7;},_0x53daad[_0x2c40e2(0x24c)]=function(_0xf48442,_0x43aef9){return _0xf48442!==_0x43aef9;},_0x53daad['wrfzg']=_0x2c40e2(0x17a),_0x53daad[_0x2c40e2(0x2df)]=_0x2c40e2(0x30a),_0x53daad['gHMZJ']=function(_0x48cdc8,_0x25b4d6){return _0x48cdc8&&_0x25b4d6;},_0x53daad[_0x2c40e2(0x205)]=_0x2c40e2(0x1d6),_0x53daad[_0x2c40e2(0x2ef)]=_0x2c40e2(0x2ce),_0x53daad['rGdZD']=function(_0x128923,_0x86f865){return _0x128923===_0x86f865;},_0x53daad[_0x2c40e2(0x1c6)]=_0x2c40e2(0x1b4),_0x53daad[_0x2c40e2(0x154)]=_0x2c40e2(0x1f2),_0x53daad[_0x2c40e2(0x2c7)]='uSJJT',_0x53daad[_0x2c40e2(0x1be)]=_0x2c40e2(0x2a1),_0x53daad['zstwq']=function(_0x2ca42d,_0x56279d){return _0x2ca42d!==_0x56279d;},_0x53daad['aNXHO']=_0x2c40e2(0x1db),_0x53daad[_0x2c40e2(0x120)]=_0x2c40e2(0x167),_0x53daad[_0x2c40e2(0x11f)]=_0x2c40e2(0x2e0);const _0x3e1088=_0x53daad;if(!this[_0x2c40e2(0x279)]){if(_0x3e1088['oiVxr'](_0x3e1088[_0x2c40e2(0x128)],_0x3e1088[_0x2c40e2(0x2df)]))await this['getClusterInfo']();else return[!![],_0x36aa76];}const _0x54e8bc=this[_0x2c40e2(0x279)],_0xf6b07e=this[_0x2c40e2(0x279)]?.['oidcIssuerProfile']?.[_0x2c40e2(0x274)]||![],_0x159cf6=this['clusterInfo']?.[_0x2c40e2(0x247)]?.[_0x2c40e2(0x2b6)]?.['enabled']||![],_0x1d39ca=!this['clusterInfo']?.[_0x2c40e2(0x1a0)]||![];if(_0x3e1088[_0x2c40e2(0x17f)](_0xf6b07e,_0x159cf6)&&_0x1d39ca){if(_0x3e1088[_0x2c40e2(0x153)](_0x3e1088[_0x2c40e2(0x205)],_0x3e1088['JnNUu']))return;else return;}if(!_0xf6b07e){if(_0x3e1088[_0x2c40e2(0x135)](_0x3e1088['gtaZK'],_0x3e1088['gtaZK'])){logger['info'](_0x3e1088[_0x2c40e2(0x154)]);const _0x24ce08={};_0x24ce08['type']=WS_EVENTS['RESOURCES'],_0x24ce08[_0x2c40e2(0x288)]=_0x3e1088[_0x2c40e2(0x154)],this['webSocketUtils'][_0x2c40e2(0x19c)](this[_0x2c40e2(0x313)],_0x24ce08),_0x54e8bc[_0x2c40e2(0x253)][_0x2c40e2(0x274)]=!![];}else{_0x3108f2[_0x2c40e2(0x2cd)](_0x3e1088[_0x2c40e2(0x1ef)]);const _0x13a512={};_0x13a512[_0x2c40e2(0x165)]=_0x3de7d9['RESOURCES'],_0x13a512[_0x2c40e2(0x288)]=_0x3e1088['ptNAp'],this[_0x2c40e2(0x1f9)][_0x2c40e2(0x19c)](this['rws'],_0x13a512);const _0x23aecc={};_0x23aecc[_0x2c40e2(0x274)]=!![];const _0x4547cc={'workloadIdentity':_0x23aecc,..._0x4258bf[_0x2c40e2(0x247)]};_0x296362['securityProfile']=_0x4547cc;}}if(!_0x159cf6){if(_0x3e1088[_0x2c40e2(0x24c)](_0x3e1088[_0x2c40e2(0x2c7)],_0x3e1088[_0x2c40e2(0x1be)])){logger[_0x2c40e2(0x2cd)](_0x3e1088[_0x2c40e2(0x1ef)]);const _0x5af880={};_0x5af880[_0x2c40e2(0x165)]=WS_EVENTS[_0x2c40e2(0x12c)],_0x5af880[_0x2c40e2(0x288)]=_0x3e1088[_0x2c40e2(0x1ef)],this[_0x2c40e2(0x1f9)]['sendEventToBackend'](this[_0x2c40e2(0x313)],_0x5af880);const _0x46ecc5={};_0x46ecc5[_0x2c40e2(0x274)]=!![],_0x54e8bc[_0x2c40e2(0x247)]={'workloadIdentity':_0x46ecc5,..._0x54e8bc[_0x2c40e2(0x247)]};}else _0x52431e['info'](_0x3e1088[_0x2c40e2(0x146)]);}if(!_0x1d39ca){if(_0x3e1088[_0x2c40e2(0x2c4)](_0x3e1088[_0x2c40e2(0x2e3)],_0x3e1088[_0x2c40e2(0x120)])){logger[_0x2c40e2(0x2cd)](_0x3e1088[_0x2c40e2(0x11f)]);const _0x2777dd={};_0x2777dd['type']=WS_EVENTS[_0x2c40e2(0x12c)],_0x2777dd[_0x2c40e2(0x288)]=_0x3e1088[_0x2c40e2(0x11f)],this[_0x2c40e2(0x1f9)][_0x2c40e2(0x19c)](this[_0x2c40e2(0x313)],_0x2777dd),_0x54e8bc[_0x2c40e2(0x1a0)]=![];}else{if(_0x3e1088[_0x2c40e2(0x153)](_0x355e25[_0x2c40e2(0x1cd)],_0x4d7155))return!![];}}await this[_0x2c40e2(0x216)][_0x2c40e2(0x26c)][_0x2c40e2(0x2ba)](global_registry[_0x2c40e2(0x1c2)],this[_0x2c40e2(0x2aa)],_0x54e8bc),await this[_0x2c40e2(0x1ed)]();}async[a1_0x3fcf45(0x21b)](){const _0x5a0384=a1_0x3fcf45,_0x11bc79={};_0x11bc79[_0x5a0384(0x25a)]=function(_0x431a24,_0x5e2e4f){return _0x431a24+_0x5e2e4f;},_0x11bc79[_0x5a0384(0x2ca)]=function(_0x5d1f3e,_0x530eea){return _0x5d1f3e===_0x530eea;},_0x11bc79[_0x5a0384(0x152)]='Oaoxy';const _0x51ed0b=_0x11bc79,_0x305892=await this[_0x5a0384(0x30f)][_0x5a0384(0x20e)][_0x5a0384(0x2eb)](global_registry[_0x5a0384(0x1c2)]),_0x5990c0={};_0x5990c0[_0x5a0384(0x314)]=global_registry[_0x5a0384(0x13a)],_0x5990c0[_0x5a0384(0x24b)]=global_registry[_0x5a0384(0x1ac)],_0x5990c0['cloudProvider']=AZURE,_0x5990c0['vpcInfo']=[];const _0x1e8eaf=_0x5990c0;for await(const _0x4482e1 of _0x305892){_0x51ed0b[_0x5a0384(0x2ca)](_0x51ed0b[_0x5a0384(0x152)],_0x51ed0b[_0x5a0384(0x152)])?_0x1e8eaf[_0x5a0384(0x208)][_0x5a0384(0x2d5)](_0x4482e1):_0x546747[_0x5a0384(0x2cf)]('['+_0x51ed0b[_0x5a0384(0x25a)](_0x1a5d2c,0x1)+']\x20'+_0x1ec819[_0x223658]);}const _0x57a28f={};_0x57a28f['type']=WS_EVENTS[_0x5a0384(0x12c)],_0x57a28f['message']=_0x1e8eaf,this[_0x5a0384(0x1f9)][_0x5a0384(0x19c)](this[_0x5a0384(0x313)],_0x57a28f);}async[a1_0x3fcf45(0x234)](_0x170751){const _0x33c9ad=a1_0x3fcf45,_0x47b9e3={};_0x47b9e3[_0x33c9ad(0x2c8)]=_0x33c9ad(0x122),_0x47b9e3[_0x33c9ad(0x219)]=function(_0x14e09b,_0x357069){return _0x14e09b!==_0x357069;},_0x47b9e3['yLGjI']=_0x33c9ad(0x2db),_0x47b9e3[_0x33c9ad(0x1c5)]=function(_0xf85fff,_0x147fca){return _0xf85fff===_0x147fca;},_0x47b9e3['GDeqQ']='AEyzK',_0x47b9e3[_0x33c9ad(0x16f)]='UKZXA',_0x47b9e3[_0x33c9ad(0x229)]=function(_0x192b9a,_0x545e95){return _0x192b9a!==_0x545e95;},_0x47b9e3['rJdkK']=_0x33c9ad(0x123),_0x47b9e3['oPwxV']=_0x33c9ad(0x24e),_0x47b9e3[_0x33c9ad(0x22c)]=function(_0x4c62f3,_0x1147d3){return _0x4c62f3===_0x1147d3;},_0x47b9e3[_0x33c9ad(0x1f4)]=_0x33c9ad(0x276);const _0x27bb5f=_0x47b9e3;try{if(_0x27bb5f[_0x33c9ad(0x219)](_0x27bb5f[_0x33c9ad(0x23b)],_0x27bb5f[_0x33c9ad(0x23b)]))_0x436fc0[_0x33c9ad(0x1c7)](_0x27bb5f[_0x33c9ad(0x2c8)]),_0x5f2ca2[_0x33c9ad(0x1b7)](0x1);else{const _0x15091e=await this[_0x33c9ad(0x30f)][_0x33c9ad(0x20e)][_0x33c9ad(0x2eb)](global_registry[_0x33c9ad(0x1c2)]);for await(const _0x192aed of _0x15091e){if(_0x27bb5f['yPweO'](_0x27bb5f[_0x33c9ad(0x175)],_0x27bb5f['JnLoJ']))_0x31bbae['vpcInfo'][_0x33c9ad(0x2d5)](_0x5503d5);else{if(_0x27bb5f['yPweO'](_0x192aed[_0x33c9ad(0x1cd)],_0x170751)){if(_0x27bb5f['BZeBh'](_0x27bb5f[_0x33c9ad(0x195)],_0x27bb5f[_0x33c9ad(0x27a)]))return!![];else _0x227e22[_0x33c9ad(0x2d5)](_0x49a8b1);}}}}}catch(_0x42aed9){if(_0x27bb5f[_0x33c9ad(0x22c)](_0x27bb5f[_0x33c9ad(0x1f4)],_0x27bb5f[_0x33c9ad(0x1f4)]))return logger[_0x33c9ad(0x1c7)](_0x33c9ad(0x1f0)+_0x170751+_0x33c9ad(0x2ee)+_0x42aed9),![];else _0x5a716f[_0x33c9ad(0x2d5)](_0x22d2a8);}return![];}async[a1_0x3fcf45(0x29c)](_0x199661,_0x2cb4d1){const _0x523a09=a1_0x3fcf45,_0x222892={};_0x222892['mwZpp']='No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles',_0x222892[_0x523a09(0x1e3)]=function(_0x3dfb52,_0x4d7c15){return _0x3dfb52!==_0x4d7c15;},_0x222892[_0x523a09(0x24f)]=_0x523a09(0x1f7),_0x222892[_0x523a09(0x2cc)]=function(_0x8fe6e9,_0x3eff35){return _0x8fe6e9===_0x3eff35;},_0x222892[_0x523a09(0x244)]=function(_0x16a404,_0x512c91){return _0x16a404!==_0x512c91;},_0x222892[_0x523a09(0x20b)]=_0x523a09(0x144),_0x222892[_0x523a09(0x311)]=_0x523a09(0x217);const _0x330125=_0x222892;try{if(_0x330125[_0x523a09(0x1e3)](_0x330125['YngCd'],_0x330125['YngCd']))return _0xf8454b[_0x523a09(0x226)]=_0x330125['mwZpp'],_0xb294d1;else{const _0x5672a5=await this[_0x523a09(0x30f)][_0x523a09(0x202)][_0x523a09(0x141)](global_registry[_0x523a09(0x1c2)],_0x2cb4d1,_0x199661[0x0]);if(_0x330125['yHJGT'](_0x199661[0x0],_0x5672a5[_0x523a09(0x1cd)])){if(_0x330125[_0x523a09(0x244)](_0x330125[_0x523a09(0x20b)],_0x330125['lmghc']))return[!![],_0x199661];else _0x275150['push'](_0x250eb3['name']);}}}catch(_0x271964){return logger[_0x523a09(0x1c7)](_0x523a09(0x254)+_0x199661+_0x523a09(0x1f3)+_0x271964),[![],[]];}return[![],[]];}async[a1_0x3fcf45(0x1b8)](){const _0x2f40e7=a1_0x3fcf45,_0x17f448={};_0x17f448['PhZAl']='No\x20CLI\x20tool\x20required';const _0x4e5340=_0x17f448,_0x3e0501={};_0x3e0501[_0x2f40e7(0x228)]=!![],_0x3e0501[_0x2f40e7(0x1c7)]=null,_0x3e0501[_0x2f40e7(0x226)]=_0x4e5340['PhZAl'];const _0x48d02a=_0x3e0501;return _0x48d02a;}async['getHeader'](){const _0x48696c=a1_0x3fcf45,_0x5bcb27={};_0x5bcb27[_0x48696c(0x23f)]=_0x48696c(0x2f6),_0x5bcb27[_0x48696c(0x316)]=_0x48696c(0x1f8),_0x5bcb27[_0x48696c(0x211)]='application/json';const _0xf354f3=_0x5bcb27,_0xeb802=await this[_0x48696c(0x15d)]['getToken'](_0xf354f3[_0x48696c(0x23f)]),_0x16ae15={};_0x16ae15[_0x48696c(0x22f)]=_0xf354f3['LJRUU'],_0x16ae15[_0x48696c(0x2fd)]={},_0x16ae15[_0x48696c(0x2fd)][_0x48696c(0x310)]=_0x48696c(0x1ad)+_0xeb802['token'],_0x16ae15[_0x48696c(0x2fd)][_0x48696c(0x1a2)]=_0xf354f3[_0x48696c(0x211)];const _0x5c3267=_0x16ae15;return _0x5c3267;}async[a1_0x3fcf45(0x2d8)](_0x2f9898){const _0x4d5cc3=a1_0x3fcf45,_0x3d45f0={'bcIov':function(_0x4116de,_0x52500f,_0x5edc20){return _0x4116de(_0x52500f,_0x5edc20);},'DLHNW':function(_0x402a87,_0x5078c2){return _0x402a87===_0x5078c2;},'zKpZz':_0x4d5cc3(0x227)},_0x4d5117={};_0x4d5117[_0x4d5cc3(0x303)]='',_0x4d5117['error']=null;const _0x3b1c36=_0x4d5117;try{const _0x5c1ceb=_0x4d5cc3(0x149)+_0x2f9898+'\x27',_0x24bf87=await this['getHeader'](),_0xed669b=await _0x3d45f0['bcIov'](fetch,_0x5c1ceb,_0x24bf87),_0x3e291a=await _0xed669b[_0x4d5cc3(0x13d)]();if(!_0x3e291a['value']||_0x3d45f0['DLHNW'](_0x3e291a['value'][_0x4d5cc3(0x14e)],0x0))throw new Error(_0x3d45f0[_0x4d5cc3(0x2bd)],_0x4d5cc3(0x11c)+JSON[_0x4d5cc3(0x1f5)](_0x3e291a));_0x3b1c36[_0x4d5cc3(0x303)]=_0x3e291a['value'][0x0]['id'];}catch(_0x481ee1){_0x3b1c36['error']=_0x481ee1;}return _0x3b1c36;}async[a1_0x3fcf45(0x300)](){const _0x1a6fff=a1_0x3fcf45,_0x46619d={};_0x46619d[_0x1a6fff(0x17e)]=_0x1a6fff(0x29d),_0x46619d[_0x1a6fff(0x27e)]=_0x1a6fff(0x1b5),_0x46619d[_0x1a6fff(0x29b)]=function(_0x3387e4,_0x414ddf){return _0x3387e4!==_0x414ddf;},_0x46619d[_0x1a6fff(0x2ab)]=function(_0x9e8637,_0x3db33c){return _0x9e8637===_0x3db33c;},_0x46619d[_0x1a6fff(0x15f)]='No\x20attached\x20role\x20for\x20the\x20client\x20key',_0x46619d[_0x1a6fff(0x2f3)]=function(_0x131271,_0x3c4ba1){return _0x131271===_0x3c4ba1;},_0x46619d[_0x1a6fff(0x2c1)]=_0x1a6fff(0x30d),_0x46619d[_0x1a6fff(0x307)]=function(_0x438e55,_0xe21dbb){return _0x438e55===_0xe21dbb;},_0x46619d[_0x1a6fff(0x25e)]=function(_0x8527a9,_0x15e840){return _0x8527a9===_0x15e840;},_0x46619d[_0x1a6fff(0x2b8)]=_0x1a6fff(0x233);const _0x3c6a8d=_0x46619d,_0x563ee7={};_0x563ee7[_0x1a6fff(0x228)]=![],_0x563ee7['error']=null,_0x563ee7['data']='';const _0x425fe0=_0x563ee7;try{let _0x566844='';const _0x1b04ac=_0x1a6fff(0x2c2)+global_registry['cloudProviderSubscriptionId']+_0x1a6fff(0x2d3)+global_registry[_0x1a6fff(0x1c2)],_0x2064f8=await this[_0x1a6fff(0x2d8)](global_registry['cloudProviderClientId']);if(_0x3c6a8d[_0x1a6fff(0x29b)](_0x2064f8['error'],null))return _0x425fe0[_0x1a6fff(0x1c7)]=_0x2064f8[_0x1a6fff(0x1c7)],_0x425fe0;const _0x30eb75=_0x1a6fff(0x231)+_0x2064f8['principalId']+'\x27)',_0x430d92={};_0x430d92[_0x1a6fff(0x1fc)]=_0x30eb75;const _0x29cca3=await this[_0x1a6fff(0x223)]['roleAssignments'][_0x1a6fff(0x2a7)](_0x1b04ac,_0x430d92),_0x534e53=[];for await(const _0x53b3ef of _0x29cca3){_0x534e53[_0x1a6fff(0x2d5)](_0x53b3ef);}if(_0x3c6a8d[_0x1a6fff(0x2ab)](_0x534e53[_0x1a6fff(0x14e)],0x0))return _0x425fe0[_0x1a6fff(0x226)]=_0x3c6a8d[_0x1a6fff(0x15f)],_0x425fe0;const _0x18c07a=[...new Set(_0x534e53[_0x1a6fff(0x29f)](_0x10c233=>_0x10c233['roleDefinitionId']))];if(_0x3c6a8d['PaHUk'](_0x18c07a['length'],0x0))return _0x425fe0[_0x1a6fff(0x226)]=_0x3c6a8d['GNkel'],_0x425fe0;const _0x55a719=[],_0x497a91=[];for(const _0x3c6d89 of _0x18c07a){const _0x425aee=await this[_0x1a6fff(0x223)][_0x1a6fff(0x2e1)][_0x1a6fff(0x2a8)](_0x3c6d89);logger[_0x1a6fff(0x1ab)](_0x1a6fff(0x232)+_0x425aee[_0x1a6fff(0x178)]),_0x55a719['push'](_0x425aee),logger['debug'](_0x1a6fff(0x1fe)+JSON[_0x1a6fff(0x1f5)](_0x425aee[_0x1a6fff(0x2e9)])),_0x425aee[_0x1a6fff(0x2e9)][_0x1a6fff(0x23e)](_0x3ac3aa=>{const _0x6ee83f=_0x1a6fff;_0x497a91['push'](..._0x3ac3aa[_0x6ee83f(0x1d4)]);});}logger[_0x1a6fff(0x1ab)](_0x1a6fff(0x1b6)+JSON[_0x1a6fff(0x1f5)](_0x497a91)),_0x3c6a8d[_0x1a6fff(0x307)](_0x497a91[_0x1a6fff(0x14e)],0x0)&&(_0x566844+=_0x3c6a8d[_0x1a6fff(0x25e)](_0x497a91[_0x1a6fff(0x14e)],0x0)?_0x3c6a8d[_0x1a6fff(0x2b8)]:'',logger[_0x1a6fff(0x1ab)](_0x1a6fff(0x1eb)+JSON[_0x1a6fff(0x1f5)](_0x55a719))),_0x425fe0[_0x1a6fff(0x228)]=!![],Object['entries'](PERMISSIONS['ACTION'])['forEach'](([_0x221704,_0x2810a5])=>{const _0x423144=_0x1a6fff,_0x2335f0=_0x497a91[_0x423144(0x12a)](_0x221704);_0x566844+='\x0a\x09'+_0x2810a5+':\x20'+(_0x2335f0?_0x3c6a8d[_0x423144(0x17e)]:_0x3c6a8d[_0x423144(0x27e)]),!_0x2335f0&&(_0x425fe0[_0x423144(0x228)]=![]);}),_0x425fe0[_0x1a6fff(0x226)]=_0x566844;}catch(_0x10caf6){_0x425fe0['error']=_0x10caf6;}return _0x425fe0;}}const a1_0x5561a3={};a1_0x5561a3[a1_0x3fcf45(0x177)]=AzureCloudProvider,module[a1_0x3fcf45(0x2de)]=a1_0x5561a3;