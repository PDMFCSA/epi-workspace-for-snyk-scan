const a1_0x950270=a1_0x252e;(function(_0x6fd4c5,_0x37c2ef){const _0xe9d842=a1_0x252e,_0x39174d=_0x6fd4c5();while(!![]){try{const _0x10cf65=parseInt(_0xe9d842(0x32c))/0x1*(-parseInt(_0xe9d842(0x280))/0x2)+-parseInt(_0xe9d842(0x2da))/0x3+parseInt(_0xe9d842(0x338))/0x4+-parseInt(_0xe9d842(0x30d))/0x5+parseInt(_0xe9d842(0x34a))/0x6+parseInt(_0xe9d842(0x27b))/0x7*(-parseInt(_0xe9d842(0x233))/0x8)+-parseInt(_0xe9d842(0x249))/0x9*(-parseInt(_0xe9d842(0x230))/0xa);if(_0x10cf65===_0x37c2ef)break;else _0x39174d['push'](_0x39174d['shift']());}catch(_0x14e8a7){_0x39174d['push'](_0x39174d['shift']());}}}(a1_0x4d98,0x63e58));const fs=require('fs'),path=require('path'),yaml=require('js-yaml'),{logger}=require(a1_0x950270(0x22a)),{CloudProvider}=require(a1_0x950270(0x2ac)),{deleteRoutingDeps,deleteAgent}=require(a1_0x950270(0x244)),{AZURE,WS_EVENTS,global_registry}=require(a1_0x950270(0x325)),{ClientSecretCredential}=require(a1_0x950270(0x36f)),{NetworkManagementClient}=require('@azure/arm-network'),{StorageManagementClient}=require(a1_0x950270(0x302)),{ResourceManagementClient}=require(a1_0x950270(0x2c2)),{ContainerServiceClient}=require(a1_0x950270(0x2bd));class AzureCloudProvider extends CloudProvider{constructor(_0x513593,_0x466c3f,_0x7872b4,_0x5ad70e){const _0x5cd3ec=a1_0x950270,_0x369c8f={};_0x369c8f[_0x5cd3ec(0x213)]=_0x5cd3ec(0x200);const _0x5e00c0=_0x369c8f,_0x592d6a=_0x5e00c0[_0x5cd3ec(0x213)][_0x5cd3ec(0x2d5)]('|');let _0x221277=0x0;while(!![]){switch(_0x592d6a[_0x221277++]){case'0':this[_0x5cd3ec(0x228)]=null;continue;case'1':this[_0x5cd3ec(0x236)]=null;continue;case'2':this[_0x5cd3ec(0x220)]=null;continue;case'3':super(AZURE,_0x513593,_0x466c3f,_0x7872b4,_0x5ad70e);continue;case'4':this[_0x5cd3ec(0x308)]=null;continue;case'5':this['resourceClient']=null;continue;}break;}}async['init'](){const _0x4b990e=a1_0x950270;return await super[_0x4b990e(0x28a)](),this;}[a1_0x950270(0x32d)](){const _0x501d4d=a1_0x950270,_0x20e363=new ClientSecretCredential(global_registry['cloudProviderTenantId'],global_registry[_0x501d4d(0x312)],global_registry[_0x501d4d(0x2c6)]);this[_0x501d4d(0x228)]=new ContainerServiceClient(_0x20e363,global_registry[_0x501d4d(0x35e)]),this[_0x501d4d(0x220)]=new StorageManagementClient(_0x20e363,global_registry[_0x501d4d(0x35e)]),this[_0x501d4d(0x255)]=new ResourceManagementClient(_0x20e363,global_registry['cloudProviderSubscriptionId']),this['networkClient']=new NetworkManagementClient(_0x20e363,global_registry[_0x501d4d(0x35e)]);}['getStorageAccountName'](){const _0x254289=a1_0x950270,_0x566595={};_0x566595['SJTCB']=function(_0x242fb2,_0x253444){return _0x242fb2+_0x253444;},_0x566595[_0x254289(0x29e)]=_0x254289(0x2cc),_0x566595['Sxlej']=function(_0x5da6ba,_0x968ae7){return _0x5da6ba-_0x968ae7;};const _0x4b8bcc=_0x566595,_0x7bec7e=global_registry[_0x254289(0x21f)][_0x254289(0x2d5)]('-'),_0x564f66=_0x4b8bcc['SJTCB'](_0x4b8bcc[_0x254289(0x29e)],_0x7bec7e[_0x4b8bcc[_0x254289(0x253)](_0x7bec7e[_0x254289(0x271)],0x1)])[_0x254289(0x241)](0x0,0x18);return _0x564f66[_0x254289(0x378)]();}[a1_0x950270(0x375)](_0x5e6a11){const _0x5b1a13=a1_0x950270,_0x20c0ea={};_0x20c0ea[_0x5b1a13(0x288)]=_0x5b1a13(0x203);const _0x389784=_0x20c0ea,_0x4c4f5d=_0x389784[_0x5b1a13(0x288)][_0x5b1a13(0x2d5)]('|');let _0x417559=0x0;while(!![]){switch(_0x4c4f5d[_0x417559++]){case'0':global_registry[_0x5b1a13(0x262)]=_0x5e6a11[this['cloudProviderName']][_0x5b1a13(0x36d)];continue;case'1':global_registry[_0x5b1a13(0x312)]=_0x5e6a11[this[_0x5b1a13(0x25c)]][_0x5b1a13(0x2a6)];continue;case'2':global_registry[_0x5b1a13(0x35e)]=_0x5e6a11[this[_0x5b1a13(0x25c)]][_0x5b1a13(0x304)];continue;case'3':this[_0x5b1a13(0x32d)]();continue;case'4':global_registry['cloudProviderClientSecret']=_0x5e6a11[this['cloudProviderName']]['clientSecret'];continue;case'5':global_registry['cloudProviderResourceGroup']=_0x5e6a11[this[_0x5b1a13(0x25c)]]['resourceGroup'];continue;}break;}}async[a1_0x950270(0x2a4)](_0x1aa3e3,_0x5e4d28){const _0x311f3f=a1_0x950270,_0x32c15d={'ljbFM':_0x311f3f(0x34f),'LrZAf':function(_0x1ef2c2,_0xe7785d){return _0x1ef2c2+_0xe7785d;},'cqojI':function(_0x181b5b,_0x13cdc3){return _0x181b5b(_0x13cdc3);},'nIWXi':function(_0x1a5f16,_0x2f996a){return _0x1a5f16(_0x2f996a);},'vbtnT':function(_0x38f670,_0x5d3971){return _0x38f670(_0x5d3971);},'tPiVJ':function(_0x5f19a9,_0x2ab722){return _0x5f19a9===_0x2ab722;},'Hkzrb':_0x311f3f(0x2ca),'LOgYh':'vLDSb','xLtIc':function(_0x67b0d7,_0xdd56ea){return _0x67b0d7===_0xdd56ea;},'yqCEJ':function(_0x1bcc7b,_0x4618f2){return _0x1bcc7b===_0x4618f2;},'DAhyg':'jyywj','RjOQF':function(_0x423f0a,_0x2ef838){return _0x423f0a(_0x2ef838);},'qbWEK':function(_0x307475,_0x3fb4f6){return _0x307475===_0x3fb4f6;},'eELIZ':function(_0x5f3d4b,_0x3d26bf){return _0x5f3d4b===_0x3d26bf;},'GwWNk':function(_0xf501f3,_0x4c33c3){return _0xf501f3===_0x4c33c3;},'caeyw':function(_0x254f0a,_0x5970c0){return _0x254f0a===_0x5970c0;},'cpdMA':_0x311f3f(0x2ef),'AcFVi':_0x311f3f(0x2c9),'vUjzO':_0x311f3f(0x23e),'IsyRd':function(_0x47a37d,_0x4a7d94){return _0x47a37d===_0x4a7d94;},'mJiCD':'yJRjU','oRTip':function(_0x4c8230,_0x29fcc5){return _0x4c8230===_0x29fcc5;},'CxXYn':_0x311f3f(0x37b),'kTLMI':_0x311f3f(0x31c),'xOPFe':function(_0x7393c,_0x2c7e46){return _0x7393c<_0x2c7e46;},'JZmbH':function(_0x1bb243,_0x55dee6){return _0x1bb243!==_0x55dee6;},'jzcRL':_0x311f3f(0x316),'NlYYw':_0x311f3f(0x2f4),'LAhAg':function(_0x3e5e04,_0x3a2951){return _0x3e5e04(_0x3a2951);},'XcSDg':'Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','WKFwk':function(_0x173f13,_0x134157){return _0x173f13<=_0x134157;},'ERfFr':function(_0x162b40,_0x459549){return _0x162b40>_0x459549;},'neNtM':function(_0x5b2b27,_0x1a03a0){return _0x5b2b27!==_0x1a03a0;},'PGuJz':'RgyCn','PUtPO':_0x311f3f(0x227),'sBbXr':function(_0x24acd7,_0x17ca2e){return _0x24acd7-_0x17ca2e;}},_0x5920e7=this[_0x311f3f(0x25c)][_0x311f3f(0x242)](),_0x3589c0=await _0x32c15d['cqojI'](_0x1aa3e3,_0x5920e7+_0x311f3f(0x301)),_0x16c664=await _0x32c15d[_0x311f3f(0x2f9)](_0x1aa3e3,_0x5920e7+_0x311f3f(0x214)),_0x192d0e=await _0x32c15d[_0x311f3f(0x2f9)](_0x1aa3e3,_0x5920e7+'\x20TENANT\x20ID:\x20'),_0x555368=await _0x32c15d[_0x311f3f(0x300)](_0x1aa3e3,_0x5920e7+_0x311f3f(0x22e));global_registry[_0x311f3f(0x312)]=_0x3589c0,global_registry[_0x311f3f(0x2c6)]=_0x16c664,global_registry['cloudProviderTenantId']=_0x192d0e,global_registry[_0x311f3f(0x35e)]=_0x555368,this[_0x311f3f(0x32d)]();const _0x2a0be6=await this['getResourceGroups'](),_0x3ad416=_0x2a0be6[_0x311f3f(0x271)];let _0x3f356e;if(_0x32c15d[_0x311f3f(0x340)](_0x3ad416,0x0))_0x32c15d[_0x311f3f(0x340)](_0x32c15d[_0x311f3f(0x28f)],_0x32c15d[_0x311f3f(0x2a7)])?_0x360df8[_0x311f3f(0x329)](0x0):_0x3f356e=await _0x32c15d[_0x311f3f(0x2ab)](_0x1aa3e3,_0x5920e7+_0x311f3f(0x22f));else{if(_0x32c15d[_0x311f3f(0x217)](_0x3ad416,0x1)){if(_0x32c15d[_0x311f3f(0x350)](_0x32c15d['DAhyg'],_0x32c15d['DAhyg'])){const _0x4fe44d=await _0x32c15d[_0x311f3f(0x313)](_0x1aa3e3,_0x311f3f(0x370)+_0x2a0be6[0x0]+_0x311f3f(0x25d));(_0x32c15d[_0x311f3f(0x1fa)](_0x4fe44d,undefined)||_0x32c15d['eELIZ'](_0x4fe44d,null)||!(_0x32c15d[_0x311f3f(0x237)](_0x4fe44d[_0x311f3f(0x378)](),'y')||_0x32c15d[_0x311f3f(0x1fa)](_0x4fe44d['toLowerCase'](),'n')))&&(_0x32c15d[_0x311f3f(0x206)](_0x32c15d['cpdMA'],_0x32c15d[_0x311f3f(0x2b3)])?_0x4a5e5f[_0x311f3f(0x256)](_0x44cba1):(console[_0x311f3f(0x2b6)](_0x32c15d[_0x311f3f(0x224)]),process[_0x311f3f(0x329)](0x1)));if(_0x32c15d[_0x311f3f(0x2fd)](_0x4fe44d['toLowerCase'](),'n')){if(_0x32c15d['xLtIc'](_0x32c15d['mJiCD'],_0x32c15d['mJiCD']))process[_0x311f3f(0x329)](0x0);else return!![];}_0x3f356e=_0x2a0be6[0x0];}else return[!![],_0x3a35ba];}else{if(_0x32c15d['oRTip'](_0x32c15d[_0x311f3f(0x35a)],_0x32c15d[_0x311f3f(0x20f)]))_0x5c12a0['info'](_0x32c15d[_0x311f3f(0x2e2)]);else{for(let _0x27f7bc=0x0;_0x32c15d[_0x311f3f(0x2ce)](_0x27f7bc,_0x2a0be6[_0x311f3f(0x271)]);_0x27f7bc+=0x1){_0x32c15d[_0x311f3f(0x23f)](_0x32c15d['jzcRL'],_0x32c15d['NlYYw'])?console['log']('['+_0x32c15d[_0x311f3f(0x2d3)](_0x27f7bc,0x1)+']\x20'+_0x2a0be6[_0x27f7bc]):_0x2d7697[_0x311f3f(0x269)]('['+_0x32c15d[_0x311f3f(0x2d3)](_0x269297,0x1)+']\x20'+_0x23bb87[_0x32fd0f]);}const _0x171e81=await _0x32c15d[_0x311f3f(0x1f5)](_0x1aa3e3,_0x32c15d[_0x311f3f(0x234)]),_0x5c39a7=_0x32c15d['cqojI'](Number,_0x171e81);(_0x32c15d[_0x311f3f(0x300)](isNaN,_0x5c39a7)||_0x32c15d[_0x311f3f(0x326)](_0x5c39a7,0x0)||_0x32c15d[_0x311f3f(0x2c0)](_0x5c39a7,_0x3ad416))&&(_0x32c15d[_0x311f3f(0x2b8)](_0x32c15d[_0x311f3f(0x2a2)],_0x32c15d[_0x311f3f(0x33b)])?(console[_0x311f3f(0x2b6)](_0x32c15d[_0x311f3f(0x224)]),process[_0x311f3f(0x329)](0x1)):_0x10ac61[_0x311f3f(0x2e6)]['push'](_0x2787ef)),_0x3f356e=_0x2a0be6[_0x32c15d[_0x311f3f(0x1ec)](_0x5c39a7,0x1)];}}}global_registry[_0x311f3f(0x2ee)]=_0x3f356e;const _0x18dd79={};return _0x18dd79[_0x311f3f(0x2a6)]=_0x3589c0,_0x18dd79[_0x311f3f(0x1ff)]=_0x16c664,_0x18dd79[_0x311f3f(0x36d)]=_0x192d0e,_0x18dd79['subscriptionId']=_0x555368,_0x18dd79[_0x311f3f(0x229)]=_0x3f356e,_0x5e4d28[_0x311f3f(0x291)][AZURE]=_0x18dd79,_0x5e4d28;}async[a1_0x950270(0x25f)](){const _0x492d05=a1_0x950270,_0x12e97f={};_0x12e97f[_0x492d05(0x28c)]=function(_0x554503,_0x596e46){return _0x554503===_0x596e46;},_0x12e97f[_0x492d05(0x361)]=_0x492d05(0x219),_0x12e97f[_0x492d05(0x2af)]=_0x492d05(0x2d4),_0x12e97f[_0x492d05(0x2c8)]=function(_0x24e1c2,_0x45a7e1){return _0x24e1c2!==_0x45a7e1;},_0x12e97f[_0x492d05(0x20b)]=_0x492d05(0x2f0),_0x12e97f[_0x492d05(0x2e4)]=_0x492d05(0x322);const _0x2073fb=_0x12e97f,_0x494f1d=[];try{if(_0x2073fb[_0x492d05(0x28c)](_0x2073fb[_0x492d05(0x361)],_0x2073fb[_0x492d05(0x2af)]))return;else{const _0x568a14=await this[_0x492d05(0x255)][_0x492d05(0x2ba)][_0x492d05(0x332)]();for await(const _0x1833a1 of _0x568a14){if(_0x2073fb[_0x492d05(0x2c8)](_0x2073fb[_0x492d05(0x20b)],_0x2073fb[_0x492d05(0x2e4)]))_0x494f1d[_0x492d05(0x256)](_0x1833a1['name']);else return!![];}}}catch(_0x1a4ae5){}return _0x494f1d;}async[a1_0x950270(0x23a)](){const _0x501d35=a1_0x950270;return this[_0x501d35(0x236)]=await this['containerClient'][_0x501d35(0x245)]['get'](global_registry[_0x501d35(0x2ee)],this['clusterName']),this[_0x501d35(0x236)];}async[a1_0x950270(0x31e)](){const _0x48e8f=a1_0x950270,_0x12eeec=await this[_0x48e8f(0x228)][_0x48e8f(0x245)]['listClusterAdminCredentials'](global_registry[_0x48e8f(0x2ee)],this[_0x48e8f(0x297)]),_0x262407=_0x12eeec['kubeconfigs'][0x0]['value'][_0x48e8f(0x21b)]();return _0x262407;}[a1_0x950270(0x334)](_0x52b094){const _0x556b1b=a1_0x950270;return _0x52b094[_0x556b1b(0x296)][_0x556b1b(0x2c4)][_0x556b1b(0x298)][0x0][_0x556b1b(0x26e)];}async[a1_0x950270(0x35d)](){const _0x5953d5=a1_0x950270,_0x4ccd54={};_0x4ccd54[_0x5953d5(0x307)]=function(_0x593d7c,_0x2bed4d){return _0x593d7c===_0x2bed4d;},_0x4ccd54[_0x5953d5(0x2b1)]=_0x5953d5(0x2d7),_0x4ccd54[_0x5953d5(0x24c)]=function(_0x592ed2,_0x5eb634){return _0x592ed2!==_0x5eb634;},_0x4ccd54[_0x5953d5(0x24d)]=_0x5953d5(0x2f2),_0x4ccd54[_0x5953d5(0x20d)]='bBxsC',_0x4ccd54[_0x5953d5(0x36b)]=function(_0x1817a6,_0x1e61ad){return _0x1817a6!==_0x1e61ad;},_0x4ccd54[_0x5953d5(0x33e)]=_0x5953d5(0x247);const _0x1eba51=_0x4ccd54,_0x47b7ce=new Array();for await(const _0x4fbc56 of this['containerClient'][_0x5953d5(0x245)][_0x5953d5(0x282)](global_registry[_0x5953d5(0x2ee)])){if(_0x1eba51[_0x5953d5(0x307)](_0x1eba51[_0x5953d5(0x2b1)],_0x1eba51['aNIZu']))_0x47b7ce[_0x5953d5(0x256)](_0x4fbc56);else return _0xef433a['status']['loadBalancer']['ingress'][0x0][_0x5953d5(0x26e)];}for await(const _0x20800c of _0x47b7ce){if(_0x1eba51[_0x5953d5(0x24c)](_0x1eba51['TZrHK'],_0x1eba51[_0x5953d5(0x20d)])){if(_0x1eba51[_0x5953d5(0x307)](_0x20800c[_0x5953d5(0x368)],this['clusterName'])){if(_0x1eba51[_0x5953d5(0x36b)](_0x1eba51['IlPga'],_0x1eba51['IlPga'])){const _0x4cc42c=new _0x5ea99d(_0x4658c1[_0x5953d5(0x262)],_0x210140['cloudProviderClientId'],_0x36ced7[_0x5953d5(0x2c6)]);this[_0x5953d5(0x228)]=new _0xc62efb(_0x4cc42c,_0x60043d[_0x5953d5(0x35e)]),this[_0x5953d5(0x220)]=new _0x1e905c(_0x4cc42c,_0x5928a4[_0x5953d5(0x35e)]),this['resourceClient']=new _0x18e9b9(_0x4cc42c,_0x44f0a2[_0x5953d5(0x35e)]),this[_0x5953d5(0x308)]=new _0x1dbe0a(_0x4cc42c,_0xabd111[_0x5953d5(0x35e)]);}else return await this[_0x5953d5(0x23a)](),!![];}}else _0x42cfd9[_0x5953d5(0x256)](_0x31322d);}return![];}async[a1_0x950270(0x306)](_0x4efd8a=null,_0x34b9ee=null){const _0x2185ed=a1_0x950270,_0x104e4f={};_0x104e4f[_0x2185ed(0x2b9)]=_0x2185ed(0x315),_0x104e4f[_0x2185ed(0x25a)]='Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity';const _0x210f3f=_0x104e4f,_0x433616=_0x210f3f[_0x2185ed(0x2b9)]['split']('|');let _0x223e8b=0x0;while(!![]){switch(_0x433616[_0x223e8b++]){case'0':const _0x5505c8={};_0x5505c8[_0x2185ed(0x258)]=WS_EVENTS['LOG'],_0x5505c8[_0x2185ed(0x226)]=_0x210f3f[_0x2185ed(0x25a)],this[_0x2185ed(0x30a)][_0x2185ed(0x305)](this[_0x2185ed(0x355)],_0x5505c8);continue;case'1':this[_0x2185ed(0x319)]();continue;case'2':await this['createCluster'](_0x4efd8a,_0x34b9ee);continue;case'3':return[_0x4efd8a,_0x34b9ee];case'4':logger[_0x2185ed(0x352)](_0x210f3f['aYCfn']);continue;case'5':await this[_0x2185ed(0x29c)]();continue;}break;}}async[a1_0x950270(0x29d)](_0xb09c2e=null,_0x4607ed=null){const _0x447efd=a1_0x950270,_0x2970fc={};_0x2970fc[_0x447efd(0x1e9)]='templates',_0x2970fc[_0x447efd(0x2f5)]=_0x447efd(0x31a),_0x2970fc[_0x447efd(0x2a8)]=_0x447efd(0x1ef),_0x2970fc[_0x447efd(0x362)]=_0x447efd(0x22c),_0x2970fc[_0x447efd(0x2c3)]=function(_0x2a2f72,_0xde60bb){return _0x2a2f72!==_0xde60bb;},_0x2970fc['gZThN']=function(_0x31cdba,_0x4daf12){return _0x31cdba!==_0x4daf12;},_0x2970fc['ATiYG']=function(_0x25c8cf,_0x50704f){return _0x25c8cf===_0x50704f;},_0x2970fc['KKQww']=_0x447efd(0x344),_0x2970fc[_0x447efd(0x328)]=_0x447efd(0x2ae),_0x2970fc[_0x447efd(0x274)]='Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.',_0x2970fc[_0x447efd(0x248)]=_0x447efd(0x318),_0x2970fc['Vcdcr']=_0x447efd(0x252),_0x2970fc[_0x447efd(0x2ec)]=_0x447efd(0x277),_0x2970fc[_0x447efd(0x2cf)]=_0x447efd(0x208);const _0x535d63=_0x2970fc;let _0x4790fa=await fs['readFileAsync'](path[_0x447efd(0x343)](__dirname,'..',_0x535d63[_0x447efd(0x1e9)],_0x535d63['buEEJ'],_0x535d63[_0x447efd(0x2a8)]),_0x535d63[_0x447efd(0x362)]);_0x4790fa=JSON[_0x447efd(0x2bf)](_0x4790fa);const _0x10b9e2={};_0x10b9e2[_0x447efd(0x261)]=this['clusterName'];const _0x5782c5={};_0x5782c5[_0x447efd(0x261)]=global_registry[_0x447efd(0x35b)];const _0x465166={};_0x465166[_0x447efd(0x261)]=global_registry[_0x447efd(0x2ff)];const _0x2d77c2={};_0x2d77c2[_0x447efd(0x261)]=global_registry[_0x447efd(0x246)];const _0x5b180a={};_0x5b180a[_0x447efd(0x297)]=_0x10b9e2,_0x5b180a['location']=_0x5782c5,_0x5b180a[_0x447efd(0x22d)]=_0x465166,_0x5b180a[_0x447efd(0x2ed)]=_0x2d77c2;let _0x1bee81=_0x5b180a;if(_0x535d63['IYqxO'](_0xb09c2e,null)&&_0x535d63[_0x447efd(0x30c)](_0x4607ed,null)){if(_0x535d63['ATiYG'](_0x535d63[_0x447efd(0x37e)],_0x535d63[_0x447efd(0x37e)])){const _0x21c944={};_0x21c944['type']=_0x535d63[_0x447efd(0x328)],_0x21c944[_0x447efd(0x24e)]={},_0x21c944[_0x447efd(0x24e)][_0x447efd(0x26d)]=_0x535d63[_0x447efd(0x274)];const _0x3c3e51={};_0x3c3e51[_0x447efd(0x258)]=_0x535d63['tkigr'],_0x3c3e51['metadata']={},_0x3c3e51['metadata'][_0x447efd(0x26d)]=_0x535d63['kXKAS'],_0x4790fa['parameters']={..._0x4790fa[_0x447efd(0x335)],'vpcName':_0x21c944,'subnetName':_0x3c3e51};const _0x4ed6dc={};_0x4ed6dc['vnetSubnetID']=_0x535d63['FNAyz'],_0x4790fa[_0x447efd(0x209)]=_0x4ed6dc,_0x4790fa[_0x447efd(0x299)][0x0][_0x447efd(0x20e)][_0x447efd(0x25e)][0x0]={..._0x4790fa[_0x447efd(0x299)][0x0][_0x447efd(0x20e)]['agentPoolProfiles'][0x0],'vnetSubnetID':_0x535d63[_0x447efd(0x1f3)]};const _0x1008b3={};_0x1008b3['value']=_0xb09c2e;const _0x6f70ec={};_0x6f70ec[_0x447efd(0x261)]=_0x4607ed[0x0],_0x1bee81={..._0x1bee81,'vpcName':_0x1008b3,'subnetName':_0x6f70ec};}else _0x5af2d5[_0x447efd(0x256)](_0x49557d[_0x447efd(0x368)]);}await this[_0x447efd(0x255)]['deployments'][_0x447efd(0x337)](global_registry['cloudProviderResourceGroup'],_0x535d63[_0x447efd(0x2ec)],{'properties':{'template':_0x4790fa,'mode':_0x535d63[_0x447efd(0x2cf)],'parameters':_0x1bee81}});}async[a1_0x950270(0x29c)](){const _0x31ac3d=a1_0x950270,_0x5cc7c7={};_0x5cc7c7[_0x31ac3d(0x2dd)]='Enabling\x20Workload\x20identity\x20for\x20the\x20cluster',_0x5cc7c7[_0x31ac3d(0x364)]=function(_0x10d5b1,_0x30bfee){return _0x10d5b1===_0x30bfee;},_0x5cc7c7['FOKwZ']='Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.',_0x5cc7c7[_0x31ac3d(0x21d)]=function(_0x3ae56d,_0x371b3b){return _0x3ae56d!==_0x371b3b;},_0x5cc7c7[_0x31ac3d(0x292)]=_0x31ac3d(0x29a),_0x5cc7c7[_0x31ac3d(0x37d)]=_0x31ac3d(0x376),_0x5cc7c7[_0x31ac3d(0x28e)]=_0x31ac3d(0x35c),_0x5cc7c7[_0x31ac3d(0x257)]=_0x31ac3d(0x265),_0x5cc7c7[_0x31ac3d(0x2fb)]=_0x31ac3d(0x31f),_0x5cc7c7[_0x31ac3d(0x2d9)]='Storage\x20account\x20already\x20exists,\x20skipping',_0x5cc7c7[_0x31ac3d(0x2b5)]=_0x31ac3d(0x259),_0x5cc7c7[_0x31ac3d(0x34b)]='Creating\x20Azure\x20managed\x20identity',_0x5cc7c7[_0x31ac3d(0x32f)]=_0x31ac3d(0x264),_0x5cc7c7[_0x31ac3d(0x276)]=_0x31ac3d(0x372),_0x5cc7c7[_0x31ac3d(0x22b)]=_0x31ac3d(0x358),_0x5cc7c7[_0x31ac3d(0x31d)]=_0x31ac3d(0x357),_0x5cc7c7[_0x31ac3d(0x2f7)]='Created\x20Azure\x20federated\x20identity';const _0x1dbde6=_0x5cc7c7,_0x393c0c=await this[_0x31ac3d(0x2e7)]();if(!_0x393c0c){if(_0x1dbde6[_0x31ac3d(0x21d)](_0x1dbde6[_0x31ac3d(0x292)],_0x1dbde6[_0x31ac3d(0x37d)])){const _0x24129b={};_0x24129b[_0x31ac3d(0x258)]=WS_EVENTS[_0x31ac3d(0x27e)],_0x24129b[_0x31ac3d(0x226)]=_0x1dbde6[_0x31ac3d(0x28e)],this[_0x31ac3d(0x30a)][_0x31ac3d(0x305)](this[_0x31ac3d(0x355)],_0x24129b),logger['info'](_0x1dbde6[_0x31ac3d(0x28e)]),await this[_0x31ac3d(0x290)]();}else{_0x34a771[_0x31ac3d(0x352)](_0x1dbde6[_0x31ac3d(0x2dd)]);const _0x525245={};_0x525245['type']=_0x375916[_0x31ac3d(0x2a1)],_0x525245['message']=_0x1dbde6[_0x31ac3d(0x2dd)],this[_0x31ac3d(0x30a)][_0x31ac3d(0x305)](this['rws'],_0x525245);const _0x5a3ed6={};_0x5a3ed6[_0x31ac3d(0x20c)]=!![];const _0x35432d={'workloadIdentity':_0x5a3ed6,..._0x22a022[_0x31ac3d(0x356)]};_0x5d5bea['securityProfile']=_0x35432d;}}else{if(_0x1dbde6[_0x31ac3d(0x364)](_0x1dbde6[_0x31ac3d(0x257)],_0x1dbde6[_0x31ac3d(0x2fb)])){if(_0x1dbde6[_0x31ac3d(0x364)](_0x470867[_0x31ac3d(0x368)],_0x31ac3d(0x26f)+this['clusterName']))return!![];}else logger[_0x31ac3d(0x352)](_0x1dbde6[_0x31ac3d(0x2d9)]);}const _0x332f97=await this[_0x31ac3d(0x232)]();if(!_0x332f97){if(_0x1dbde6[_0x31ac3d(0x364)](_0x1dbde6[_0x31ac3d(0x2b5)],_0x1dbde6[_0x31ac3d(0x2b5)])){const _0x178a91={};_0x178a91[_0x31ac3d(0x258)]=WS_EVENTS[_0x31ac3d(0x27e)],_0x178a91[_0x31ac3d(0x226)]=_0x1dbde6['QmUcs'],this[_0x31ac3d(0x30a)][_0x31ac3d(0x305)](this[_0x31ac3d(0x355)],_0x178a91),logger['info'](_0x1dbde6[_0x31ac3d(0x34b)]),await this[_0x31ac3d(0x346)]();}else _0x59a32a['error'](_0x1dbde6[_0x31ac3d(0x2dc)]),_0x4762a5['exit'](0x1);}else _0x1dbde6[_0x31ac3d(0x21d)](_0x1dbde6[_0x31ac3d(0x32f)],_0x1dbde6['gdJuw'])?logger[_0x31ac3d(0x352)](_0x1dbde6[_0x31ac3d(0x22b)]):_0x2f305e=_0x550b1b['id'];logger[_0x31ac3d(0x352)](_0x1dbde6[_0x31ac3d(0x31d)]),await this[_0x31ac3d(0x21a)](),logger[_0x31ac3d(0x352)](_0x1dbde6[_0x31ac3d(0x2f7)]);}async['createStorageAccount'](){const _0x34a247=a1_0x950270,_0x28dbf5={};_0x28dbf5[_0x34a247(0x2f8)]=_0x34a247(0x1ea),_0x28dbf5[_0x34a247(0x215)]=_0x34a247(0x31a),_0x28dbf5[_0x34a247(0x211)]=_0x34a247(0x379),_0x28dbf5[_0x34a247(0x32a)]=_0x34a247(0x22c),_0x28dbf5[_0x34a247(0x2d1)]=_0x34a247(0x285),_0x28dbf5[_0x34a247(0x1eb)]=_0x34a247(0x208),_0x28dbf5[_0x34a247(0x2ad)]='Blob\x20delete\x20lifecycle',_0x28dbf5[_0x34a247(0x353)]=_0x34a247(0x2fe),_0x28dbf5[_0x34a247(0x2f1)]=_0x34a247(0x351),_0x28dbf5[_0x34a247(0x331)]=_0x34a247(0x34c);const _0x4798a9=_0x28dbf5;let _0x251798=await fs[_0x34a247(0x28b)](path[_0x34a247(0x343)](__dirname,'..',_0x4798a9['GOWHp'],_0x4798a9[_0x34a247(0x215)],_0x4798a9[_0x34a247(0x211)]),_0x4798a9['CyCtm']);_0x251798=JSON[_0x34a247(0x2bf)](_0x251798);const _0xeec7f4=this['getStorageAccountName'](),_0xf87bf7={};_0xf87bf7[_0x34a247(0x261)]=_0xeec7f4;const _0x36e3da={};_0x36e3da[_0x34a247(0x294)]=_0xf87bf7,await this[_0x34a247(0x255)][_0x34a247(0x221)][_0x34a247(0x337)](global_registry[_0x34a247(0x2ee)],_0x4798a9[_0x34a247(0x2d1)],{'properties':{'template':_0x251798,'mode':_0x4798a9['ekVAA'],'parameters':_0x36e3da}});const _0x44f0f3={};_0x44f0f3[_0x34a247(0x287)]=0x3c;const _0x5ef325={};_0x5ef325[_0x34a247(0x2e5)]=_0x44f0f3;const _0x504eee={};_0x504eee[_0x34a247(0x23d)]=_0x5ef325;const _0x49d269={};_0x49d269[_0x34a247(0x20c)]=!![],_0x49d269['name']=_0x4798a9[_0x34a247(0x2ad)],_0x49d269[_0x34a247(0x258)]=_0x4798a9[_0x34a247(0x353)],_0x49d269[_0x34a247(0x34d)]={},_0x49d269[_0x34a247(0x34d)][_0x34a247(0x272)]=_0x504eee,_0x49d269[_0x34a247(0x34d)][_0x34a247(0x367)]={},_0x49d269[_0x34a247(0x34d)][_0x34a247(0x367)][_0x34a247(0x2a9)]=[_0x4798a9[_0x34a247(0x2f1)]];const _0x574eaf={};_0x574eaf[_0x34a247(0x2bc)]=[_0x49d269];const _0x59292c={};_0x59292c[_0x34a247(0x263)]=_0x574eaf;const _0x27f9cf=_0x59292c;await this[_0x34a247(0x220)]['managementPolicies'][_0x34a247(0x1f4)](global_registry[_0x34a247(0x2ee)],_0xeec7f4,_0x4798a9['QjRQq'],_0x27f9cf);}async[a1_0x950270(0x346)](){const _0x520d6f=a1_0x950270,_0x4ea911={};_0x4ea911['GPnDs']=_0x520d6f(0x1ea),_0x4ea911[_0x520d6f(0x1f7)]='azureresources',_0x4ea911[_0x520d6f(0x354)]=_0x520d6f(0x317),_0x4ea911[_0x520d6f(0x380)]=_0x520d6f(0x22c),_0x4ea911[_0x520d6f(0x324)]=_0x520d6f(0x273),_0x4ea911[_0x520d6f(0x26c)]=_0x520d6f(0x208);const _0x19bad7=_0x4ea911;let _0x2b13d7=await fs[_0x520d6f(0x28b)](path['join'](__dirname,'..',_0x19bad7[_0x520d6f(0x231)],_0x19bad7[_0x520d6f(0x1f7)],_0x19bad7[_0x520d6f(0x354)]),_0x19bad7[_0x520d6f(0x380)]);_0x2b13d7=JSON[_0x520d6f(0x2bf)](_0x2b13d7),await this[_0x520d6f(0x255)][_0x520d6f(0x221)]['beginCreateOrUpdateAndWait'](global_registry[_0x520d6f(0x2ee)],_0x19bad7[_0x520d6f(0x324)],{'properties':{'template':_0x2b13d7,'mode':_0x19bad7[_0x520d6f(0x26c)],'parameters':{'clusterName':{'value':this[_0x520d6f(0x297)]}}}});}async[a1_0x950270(0x21a)](){const _0x1f096d=a1_0x950270,_0x272f63={};_0x272f63[_0x1f096d(0x339)]=function(_0x2bce9f,_0x396797){return _0x2bce9f===_0x396797;},_0x272f63[_0x1f096d(0x24b)]=_0x1f096d(0x281),_0x272f63[_0x1f096d(0x28d)]=function(_0x10d057,_0x4b6694){return _0x10d057!==_0x4b6694;},_0x272f63[_0x1f096d(0x2a0)]=_0x1f096d(0x348),_0x272f63[_0x1f096d(0x36e)]=_0x1f096d(0x363),_0x272f63[_0x1f096d(0x1fc)]=_0x1f096d(0x23c),_0x272f63[_0x1f096d(0x360)]='node',_0x272f63[_0x1f096d(0x1fd)]=function(_0x2b705f,_0x2daff0){return _0x2b705f===_0x2daff0;},_0x272f63[_0x1f096d(0x201)]=_0x1f096d(0x24a),_0x272f63['yVKYf']=_0x1f096d(0x267),_0x272f63[_0x1f096d(0x1fe)]=_0x1f096d(0x1ea),_0x272f63[_0x1f096d(0x254)]=_0x1f096d(0x31a),_0x272f63[_0x1f096d(0x2e1)]='utf-8',_0x272f63[_0x1f096d(0x1f0)]='turboscale-federated-deployment',_0x272f63[_0x1f096d(0x2aa)]='Incremental';const _0x328b16=_0x272f63;if(!this[_0x1f096d(0x236)]){if(_0x328b16['qioIb'](_0x328b16['zOVil'],_0x328b16[_0x1f096d(0x36e)]))await this[_0x1f096d(0x23a)]();else{if(_0x328b16[_0x1f096d(0x339)](_0xc71c41[_0x1f096d(0x368)],_0x4b2554))return!![];}}const _0x2cec0a=this[_0x1f096d(0x236)]?.['oidcIssuerProfile']?.['issuerURL'],_0x376c9f=[_0x328b16[_0x1f096d(0x1fc)],_0x328b16[_0x1f096d(0x360)]];for await(const _0x3a59ea of _0x376c9f){if(_0x328b16[_0x1f096d(0x1fd)](_0x328b16[_0x1f096d(0x201)],_0x328b16[_0x1f096d(0x1ed)])){_0x6e619a[_0x1f096d(0x352)](_0x328b16[_0x1f096d(0x24b)]);const _0x2f81d6={};_0x2f81d6[_0x1f096d(0x258)]=_0x25f6c2[_0x1f096d(0x2a1)],_0x2f81d6['message']=_0x328b16[_0x1f096d(0x24b)],this[_0x1f096d(0x30a)][_0x1f096d(0x305)](this[_0x1f096d(0x355)],_0x2f81d6),_0x31866f[_0x1f096d(0x365)]=![];}else{let _0x5e5911=await fs['readFileAsync'](path[_0x1f096d(0x343)](__dirname,'..',_0x328b16[_0x1f096d(0x1fe)],_0x328b16[_0x1f096d(0x254)],_0x1f096d(0x21c)+_0x3a59ea+'.json'),_0x328b16[_0x1f096d(0x2e1)]);_0x5e5911=JSON[_0x1f096d(0x2bf)](_0x5e5911);const _0x874910={};_0x874910['value']=_0x2cec0a,await this[_0x1f096d(0x255)]['deployments'][_0x1f096d(0x337)](global_registry[_0x1f096d(0x2ee)],_0x328b16[_0x1f096d(0x1f0)],{'properties':{'template':_0x5e5911,'mode':_0x328b16['KeUKw'],'parameters':{'oidcIssuer':_0x874910,'gridName':{'value':this[_0x1f096d(0x310)]},'clusterName':{'value':this[_0x1f096d(0x297)]}}}});}}}async[a1_0x950270(0x2b7)](_0x1bf393,_0x404712,_0x19b814,_0x1459de,_0x1ad4e8){const _0x221619=a1_0x950270,_0x276ad3={};_0x276ad3[_0x221619(0x243)]=_0x221619(0x321),_0x276ad3['MXYkA']=_0x221619(0x2d8);const _0x31eccb=_0x276ad3,_0x36d52d={};_0x36d52d[_0x221619(0x258)]=WS_EVENTS['LOG'],_0x36d52d['message']=_0x31eccb['Atuyh'],this['webSocketUtils'][_0x221619(0x305)](this[_0x221619(0x355)],_0x36d52d),logger['info'](_0x31eccb[_0x221619(0x243)]),await this[_0x221619(0x314)]();const _0x357393={};_0x357393['type']=WS_EVENTS['LOG'],_0x357393['message']=_0x31eccb[_0x221619(0x2b0)],this['webSocketUtils'][_0x221619(0x305)](this[_0x221619(0x355)],_0x357393);}async['createFederatedAccountForHubHA'](){const _0x2da048=a1_0x950270,_0x2a0627={};_0x2a0627[_0x2da048(0x210)]=_0x2da048(0x358),_0x2a0627['WgGgA']=function(_0x89f1e8,_0x48fbf7){return _0x89f1e8!==_0x48fbf7;},_0x2a0627[_0x2da048(0x30b)]=_0x2da048(0x2be),_0x2a0627[_0x2da048(0x2fc)]=_0x2da048(0x270),_0x2a0627['YNEEq']=_0x2da048(0x1ea),_0x2a0627['UqMzn']=_0x2da048(0x374),_0x2a0627[_0x2da048(0x222)]='federatedidentityuploader.json',_0x2a0627[_0x2da048(0x2fa)]='utf-8',_0x2a0627[_0x2da048(0x2b2)]=_0x2da048(0x284),_0x2a0627[_0x2da048(0x37c)]=_0x2da048(0x208);const _0xac95bc=_0x2a0627;!this[_0x2da048(0x236)]&&(_0xac95bc[_0x2da048(0x373)](_0xac95bc[_0x2da048(0x30b)],_0xac95bc[_0x2da048(0x2fc)])?await this[_0x2da048(0x23a)]():_0x4e850c[_0x2da048(0x352)](_0xac95bc[_0x2da048(0x210)]));const _0x1af32b=this[_0x2da048(0x236)]?.[_0x2da048(0x2d0)]?.[_0x2da048(0x341)];let _0x13de72=await fs[_0x2da048(0x28b)](path['join'](__dirname,'..',_0xac95bc['YNEEq'],_0xac95bc[_0x2da048(0x2e3)],_0xac95bc[_0x2da048(0x222)]),_0xac95bc['lcCWf']);_0x13de72=JSON[_0x2da048(0x2bf)](_0x13de72);const _0x2371ef={};_0x2371ef[_0x2da048(0x261)]=_0x1af32b,await this['resourceClient'][_0x2da048(0x221)][_0x2da048(0x337)](global_registry[_0x2da048(0x2ee)],_0xac95bc[_0x2da048(0x2b2)],{'properties':{'template':_0x13de72,'mode':_0xac95bc[_0x2da048(0x37c)],'parameters':{'oidcIssuer':_0x2371ef,'namespace':{'value':global_registry['hubHaNameSpace']},'clusterName':{'value':this[_0x2da048(0x297)]}}}});}async[a1_0x950270(0x2e7)](){const _0x44cadf=a1_0x950270,_0xe3d7da={};_0xe3d7da[_0x44cadf(0x2f6)]=_0x44cadf(0x2bb),_0xe3d7da[_0x44cadf(0x293)]=function(_0x32cdf1,_0x101c92){return _0x32cdf1===_0x101c92;},_0xe3d7da[_0x44cadf(0x36a)]=function(_0xe088e1,_0x2b3dd0){return _0xe088e1!==_0x2b3dd0;},_0xe3d7da[_0x44cadf(0x342)]=_0x44cadf(0x2cd),_0xe3d7da[_0x44cadf(0x27a)]=function(_0x5e3b9f,_0x93b79d){return _0x5e3b9f===_0x93b79d;},_0xe3d7da[_0x44cadf(0x216)]=_0x44cadf(0x330),_0xe3d7da[_0x44cadf(0x289)]=_0x44cadf(0x2c7),_0xe3d7da['woRJL']=function(_0x54c97b,_0xd1c3bd){return _0x54c97b===_0xd1c3bd;},_0xe3d7da[_0x44cadf(0x311)]=_0x44cadf(0x349),_0xe3d7da[_0x44cadf(0x23b)]=_0x44cadf(0x260);const _0x19f4ef=_0xe3d7da,_0x1b3764=this[_0x44cadf(0x35f)](),_0x5eda38=new Array();for await(const _0x17afe1 of this[_0x44cadf(0x220)]['storageAccounts'][_0x44cadf(0x282)](global_registry[_0x44cadf(0x2ee)])){if(_0x19f4ef[_0x44cadf(0x36a)](_0x19f4ef[_0x44cadf(0x342)],_0x19f4ef['CkiNq'])){const _0x51cdb1=_0x19f4ef['BmkAz'][_0x44cadf(0x2d5)]('|');let _0x4b3b96=0x0;while(!![]){switch(_0x51cdb1[_0x4b3b96++]){case'0':_0xcfa8df[_0x44cadf(0x312)]=_0x2c58f2[this[_0x44cadf(0x25c)]][_0x44cadf(0x2a6)];continue;case'1':_0x27a63a[_0x44cadf(0x2ee)]=_0x56e3f9[this['cloudProviderName']][_0x44cadf(0x229)];continue;case'2':_0x264961[_0x44cadf(0x35e)]=_0x4fd700[this[_0x44cadf(0x25c)]][_0x44cadf(0x304)];continue;case'3':_0x5e004a[_0x44cadf(0x2c6)]=_0x5991cb[this[_0x44cadf(0x25c)]][_0x44cadf(0x1ff)];continue;case'4':_0x3c9e24[_0x44cadf(0x262)]=_0x511805[this[_0x44cadf(0x25c)]][_0x44cadf(0x36d)];continue;case'5':this[_0x44cadf(0x32d)]();continue;}break;}}else _0x5eda38['push'](_0x17afe1);}for await(const _0x1cd0df of _0x5eda38){if(_0x19f4ef['uxnsa'](_0x19f4ef[_0x44cadf(0x216)],_0x19f4ef['bpZXy'])){if(_0x19f4ef[_0x44cadf(0x293)](_0x50bfe0['name'],_0x54d467))return!![];}else{if(_0x19f4ef[_0x44cadf(0x2a5)](_0x1cd0df[_0x44cadf(0x368)],_0x1b3764))return _0x19f4ef[_0x44cadf(0x2a5)](_0x19f4ef[_0x44cadf(0x311)],_0x19f4ef[_0x44cadf(0x23b)])?(_0x1891ab[_0x44cadf(0x2b6)](_0x44cadf(0x268)+_0x434295+_0x44cadf(0x36c)+_0x4944a5),![]):!![];}}return![];}async[a1_0x950270(0x232)](){const _0x8fa852=a1_0x950270,_0x314911={};_0x314911['PEOgm']=function(_0x2de37d,_0x4f7619){return _0x2de37d===_0x4f7619;},_0x314911[_0x8fa852(0x333)]='tPjZz',_0x314911['OFUMU']=function(_0x3c1ff8,_0x4f4a13){return _0x3c1ff8!==_0x4f4a13;},_0x314911[_0x8fa852(0x309)]=_0x8fa852(0x207),_0x314911[_0x8fa852(0x295)]='CVFwq',_0x314911['urySk']=function(_0xe56849,_0x12d2cd){return _0xe56849!==_0x12d2cd;},_0x314911[_0x8fa852(0x238)]=_0x8fa852(0x212),_0x314911[_0x8fa852(0x1ee)]=_0x8fa852(0x32e);const _0x39ab5f=_0x314911,_0x3ed921=new Array();for await(const _0x5b49c1 of this[_0x8fa852(0x255)][_0x8fa852(0x299)][_0x8fa852(0x282)](global_registry['cloudProviderResourceGroup'])){if(_0x39ab5f[_0x8fa852(0x2f3)](_0x39ab5f[_0x8fa852(0x333)],_0x39ab5f[_0x8fa852(0x333)]))_0x3ed921['push'](_0x5b49c1);else return _0x4fb266[_0x8fa852(0x2b6)]('Cannot\x20find\x20subnets\x20'+_0x1f1204+_0x8fa852(0x27c)+_0x47668a),[![],[]];}for await(const _0x17d03a of _0x3ed921){if(_0x39ab5f['OFUMU'](_0x39ab5f[_0x8fa852(0x309)],_0x39ab5f[_0x8fa852(0x295)])){if(_0x39ab5f['PEOgm'](_0x17d03a[_0x8fa852(0x368)],_0x8fa852(0x26f)+this[_0x8fa852(0x297)])){if(_0x39ab5f[_0x8fa852(0x202)](_0x39ab5f[_0x8fa852(0x238)],_0x39ab5f[_0x8fa852(0x1ee)]))return!![];else _0x4a2df1[_0x8fa852(0x256)](_0x2c785d);}}else return!![];}return![];}async[a1_0x950270(0x204)](_0x3acd27){const _0x5c828d=a1_0x950270,_0x2b60f3={};_0x2b60f3[_0x5c828d(0x2d2)]=_0x5c828d(0x23e),_0x2b60f3[_0x5c828d(0x25b)]=_0x5c828d(0x2ae),_0x2b60f3[_0x5c828d(0x27f)]=_0x5c828d(0x31b),_0x2b60f3['QVqAY']=_0x5c828d(0x318),_0x2b60f3[_0x5c828d(0x2c5)]=_0x5c828d(0x252),_0x2b60f3['WBayB']=function(_0xa58de9,_0x4f9890){return _0xa58de9+_0x4f9890;},_0x2b60f3[_0x5c828d(0x30e)]='turboscale',_0x2b60f3[_0x5c828d(0x250)]=function(_0x613a7e,_0x134d7a){return _0x613a7e-_0x134d7a;},_0x2b60f3[_0x5c828d(0x2eb)]=function(_0x2c9405,_0x2eac8c){return _0x2c9405===_0x2eac8c;},_0x2b60f3[_0x5c828d(0x251)]='DBzei',_0x2b60f3['GTpet']=function(_0x340d1e,_0x56bc1c){return _0x340d1e===_0x56bc1c;},_0x2b60f3[_0x5c828d(0x286)]='Hvpwl',_0x2b60f3['pJyvU']=function(_0x1d80e4,_0x4ce163){return _0x1d80e4===_0x4ce163;},_0x2b60f3['KPYql']=function(_0x36d11b,_0x390214){return _0x36d11b!==_0x390214;},_0x2b60f3[_0x5c828d(0x2b4)]=_0x5c828d(0x27d),_0x2b60f3[_0x5c828d(0x37f)]='2023-01-31';const _0x33c954=_0x2b60f3,_0xb1aa58=new Array();for await(const _0x310bfe of this[_0x5c828d(0x255)]['resources']['listByResourceGroup'](global_registry['cloudProviderResourceGroup'])){_0x33c954[_0x5c828d(0x2eb)](_0x33c954[_0x5c828d(0x251)],_0x33c954[_0x5c828d(0x251)])?_0xb1aa58[_0x5c828d(0x256)](_0x310bfe):(_0x5e8544[_0x5c828d(0x2b6)](_0x33c954['HTGgv']),_0x37dd15[_0x5c828d(0x329)](0x1));}let _0x5c2e70='';for await(const _0x32fb77 of _0xb1aa58){if(_0x33c954[_0x5c828d(0x275)](_0x33c954[_0x5c828d(0x286)],_0x33c954['DUJlD'])){if(_0x33c954['pJyvU'](_0x32fb77[_0x5c828d(0x368)],_0x3acd27)){if(_0x33c954['KPYql'](_0x33c954[_0x5c828d(0x2b4)],_0x33c954[_0x5c828d(0x2b4)])){const _0x2ca9a8={};_0x2ca9a8[_0x5c828d(0x258)]=_0x33c954[_0x5c828d(0x25b)],_0x2ca9a8[_0x5c828d(0x24e)]={},_0x2ca9a8[_0x5c828d(0x24e)][_0x5c828d(0x26d)]=_0x33c954[_0x5c828d(0x27f)];const _0x568d43={};_0x568d43['type']=_0x33c954['vfknf'],_0x568d43[_0x5c828d(0x24e)]={},_0x568d43[_0x5c828d(0x24e)][_0x5c828d(0x26d)]=_0x33c954[_0x5c828d(0x27f)];const _0x10e26e={..._0x497398[_0x5c828d(0x335)]};_0x10e26e[_0x5c828d(0x24f)]=_0x2ca9a8,_0x10e26e['subnetName']=_0x568d43,_0xad057c[_0x5c828d(0x335)]=_0x10e26e;const _0x33460f={};_0x33460f['vnetSubnetID']=_0x33c954['QVqAY'],_0xb58de4[_0x5c828d(0x209)]=_0x33460f;const _0xa97864={..._0x145122['resources'][0x0]['properties']['agentPoolProfiles'][0x0]};_0xa97864[_0x5c828d(0x33c)]=_0x33c954[_0x5c828d(0x2c5)],_0xc4207[_0x5c828d(0x299)][0x0]['properties'][_0x5c828d(0x25e)][0x0]=_0xa97864;const _0x483f1c={};_0x483f1c['value']=_0xd4b891;const _0x440a17={};_0x440a17[_0x5c828d(0x261)]=_0x48c1ba[0x0];const _0x30dda1={..._0x5ce82b};_0x30dda1[_0x5c828d(0x24f)]=_0x483f1c,_0x30dda1[_0x5c828d(0x37a)]=_0x440a17,_0x2237e6=_0x30dda1;}else _0x5c2e70=_0x32fb77['id'];}}else{const _0x5b03fe=_0xf7bcb6[_0x5c828d(0x21f)][_0x5c828d(0x2d5)]('-'),_0x59ef7e=_0x33c954[_0x5c828d(0x223)](_0x33c954[_0x5c828d(0x30e)],_0x5b03fe[_0x33c954[_0x5c828d(0x250)](_0x5b03fe['length'],0x1)])[_0x5c828d(0x241)](0x0,0x18);return _0x59ef7e[_0x5c828d(0x378)]();}}const _0x24a9ba=await this[_0x5c828d(0x255)][_0x5c828d(0x299)][_0x5c828d(0x26a)](_0x5c2e70,_0x33c954['Xscqf']);return _0x24a9ba[_0x5c828d(0x20e)][_0x5c828d(0x2a6)];}async[a1_0x950270(0x323)](){const _0x4644ba=a1_0x950270,_0x36500e={};_0x36500e[_0x4644ba(0x2e8)]='Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster',_0x36500e[_0x4644ba(0x369)]=function(_0x8ed17d,_0x26b909){return _0x8ed17d===_0x26b909;},_0x36500e['yGJAC']=function(_0x512f25,_0x361a95){return _0x512f25===_0x361a95;},_0x36500e[_0x4644ba(0x1f8)]=_0x4644ba(0x2e0),_0x36500e[_0x4644ba(0x278)]=_0x4644ba(0x240),_0x36500e[_0x4644ba(0x2de)]=function(_0x333e0d,_0x5e9ff2){return _0x333e0d===_0x5e9ff2;},_0x36500e[_0x4644ba(0x266)]=_0x4644ba(0x33a),_0x36500e[_0x4644ba(0x34e)]=_0x4644ba(0x359),_0x36500e[_0x4644ba(0x303)]=function(_0x3646c5,_0x993259){return _0x3646c5!==_0x993259;},_0x36500e[_0x4644ba(0x33d)]='CPoBl';const _0x39c734=_0x36500e;if(!this[_0x4644ba(0x236)]){if(_0x39c734[_0x4644ba(0x2db)](_0x39c734[_0x4644ba(0x1f8)],_0x39c734[_0x4644ba(0x278)])){_0x29af9e['info'](_0x39c734['BCHPj']);const _0xdb2327={};_0xdb2327[_0x4644ba(0x258)]=_0x44a31c['RESOURCES'],_0xdb2327[_0x4644ba(0x226)]=_0x39c734[_0x4644ba(0x2e8)],this[_0x4644ba(0x30a)][_0x4644ba(0x305)](this[_0x4644ba(0x355)],_0xdb2327),_0xd21b3f[_0x4644ba(0x2d0)][_0x4644ba(0x20c)]=!![];}else await this[_0x4644ba(0x23a)]();}const _0x8ba33d=this[_0x4644ba(0x236)]?.[_0x4644ba(0x1f2)]||{};if(_0x8ba33d&&_0x39c734['aBXNg'](_0x8ba33d[_0x39c734[_0x4644ba(0x266)]],_0x39c734['RhJtk'])){if(_0x39c734[_0x4644ba(0x303)](_0x39c734[_0x4644ba(0x33d)],_0x39c734[_0x4644ba(0x33d)]))_0x39c734[_0x4644ba(0x369)](_0x539a8d['name'],_0x6c1bb)&&(_0x4a8f23=_0xd8ca97['id']);else return!![];}return![];}async[a1_0x950270(0x1f6)](_0x105c85,_0x4cb749){const _0xcbed6c=a1_0x950270,_0x36ceb2={'zhMue':function(_0x2589e0,_0x2bcaaa){return _0x2589e0(_0x2bcaaa);},'rkahf':function(_0xcb8f10,_0x2482d6){return _0xcb8f10(_0x2482d6);},'HJXns':_0xcbed6c(0x2df)};await _0x36ceb2[_0xcbed6c(0x29f)](deleteAgent,_0x105c85),await _0x36ceb2[_0xcbed6c(0x33f)](deleteRoutingDeps,_0x105c85);const _0x2bf879=this[_0xcbed6c(0x228)];logger[_0xcbed6c(0x352)](_0xcbed6c(0x320)+this[_0xcbed6c(0x297)]),await _0x2bf879['managedClusters'][_0xcbed6c(0x1f1)](global_registry[_0xcbed6c(0x2ee)],this[_0xcbed6c(0x297)]),logger[_0xcbed6c(0x352)](_0x36ceb2[_0xcbed6c(0x2d6)]);}async['updateClusterAlreadyPresent'](){const _0x51e698=a1_0x950270,_0x264c50={};_0x264c50[_0x51e698(0x336)]=function(_0x119cf5,_0x324af4){return _0x119cf5===_0x324af4;},_0x264c50[_0x51e698(0x30f)]=_0x51e698(0x2a3),_0x264c50[_0x51e698(0x283)]=_0x51e698(0x327),_0x264c50['ocjtj']=function(_0x119944,_0x3bb631){return _0x119944&&_0x3bb631;},_0x264c50[_0x51e698(0x32b)]=function(_0x2e3f8d,_0x4e4a5f){return _0x2e3f8d===_0x4e4a5f;},_0x264c50['FsENn']=_0x51e698(0x366),_0x264c50[_0x51e698(0x2ea)]=_0x51e698(0x2cb),_0x264c50['kJEHv']=_0x51e698(0x345),_0x264c50['USdtD']='Enabling\x20Workload\x20identity\x20for\x20the\x20cluster',_0x264c50['ajbCc']='Enabling\x20Local\x20account\x20for\x20the\x20cluster';const _0x19257c=_0x264c50;if(!this[_0x51e698(0x236)]){if(_0x19257c[_0x51e698(0x336)](_0x19257c['kbVBU'],_0x19257c[_0x51e698(0x283)]))return!![];else await this[_0x51e698(0x23a)]();}const _0x400442=this[_0x51e698(0x236)],_0x16e0ac=this[_0x51e698(0x236)]?.[_0x51e698(0x2d0)]?.[_0x51e698(0x20c)]||![],_0x5aca1f=this[_0x51e698(0x236)]?.[_0x51e698(0x356)]?.[_0x51e698(0x20a)]?.[_0x51e698(0x20c)]||![],_0x38e3e5=!this[_0x51e698(0x236)]?.[_0x51e698(0x365)]||![];if(_0x19257c[_0x51e698(0x2c1)](_0x16e0ac,_0x5aca1f)&&_0x38e3e5){if(_0x19257c[_0x51e698(0x32b)](_0x19257c[_0x51e698(0x21e)],_0x19257c[_0x51e698(0x2ea)]))_0x498379[_0x51e698(0x256)](_0x741211);else return;}if(!_0x16e0ac){logger[_0x51e698(0x352)](_0x19257c[_0x51e698(0x26b)]);const _0x45a2fb={};_0x45a2fb[_0x51e698(0x258)]=WS_EVENTS[_0x51e698(0x2a1)],_0x45a2fb[_0x51e698(0x226)]=_0x19257c[_0x51e698(0x26b)],this[_0x51e698(0x30a)]['sendEventToBackend'](this[_0x51e698(0x355)],_0x45a2fb),_0x400442[_0x51e698(0x2d0)][_0x51e698(0x20c)]=!![];}if(!_0x5aca1f){logger[_0x51e698(0x352)](_0x19257c[_0x51e698(0x225)]);const _0xc0ef04={};_0xc0ef04[_0x51e698(0x258)]=WS_EVENTS['RESOURCES'],_0xc0ef04[_0x51e698(0x226)]=_0x19257c[_0x51e698(0x225)],this[_0x51e698(0x30a)][_0x51e698(0x305)](this['rws'],_0xc0ef04);const _0x1a2935={};_0x1a2935[_0x51e698(0x20c)]=!![],_0x400442[_0x51e698(0x356)]={'workloadIdentity':_0x1a2935,..._0x400442['securityProfile']};}if(!_0x38e3e5){logger[_0x51e698(0x352)](_0x19257c[_0x51e698(0x205)]);const _0x3d8264={};_0x3d8264[_0x51e698(0x258)]=WS_EVENTS['RESOURCES'],_0x3d8264[_0x51e698(0x226)]=_0x19257c[_0x51e698(0x205)],this['webSocketUtils']['sendEventToBackend'](this[_0x51e698(0x355)],_0x3d8264),_0x400442[_0x51e698(0x365)]=![];}await this[_0x51e698(0x228)][_0x51e698(0x245)][_0x51e698(0x337)](global_registry[_0x51e698(0x2ee)],this[_0x51e698(0x297)],_0x400442),await this[_0x51e698(0x23a)]();}async['sendAzureInfoToHST'](){const _0x5bc858=a1_0x950270,_0x160723=await this[_0x5bc858(0x308)][_0x5bc858(0x2e9)][_0x5bc858(0x371)](global_registry['cloudProviderResourceGroup']),_0x43045e={};_0x43045e[_0x5bc858(0x218)]=global_registry[_0x5bc858(0x239)],_0x43045e[_0x5bc858(0x377)]=global_registry['bstackAccesskey'],_0x43045e[_0x5bc858(0x291)]=AZURE,_0x43045e['vpcInfo']=[];const _0x4e4a73=_0x43045e;for await(const _0x52c301 of _0x160723){_0x4e4a73[_0x5bc858(0x2e6)]['push'](_0x52c301);}const _0x3599eb={};_0x3599eb[_0x5bc858(0x258)]=WS_EVENTS[_0x5bc858(0x2a1)],_0x3599eb[_0x5bc858(0x226)]=_0x4e4a73,this[_0x5bc858(0x30a)][_0x5bc858(0x305)](this[_0x5bc858(0x355)],_0x3599eb);}async[a1_0x950270(0x1f9)](_0x546f21){const _0x263251=a1_0x950270,_0x2029f8={};_0x2029f8[_0x263251(0x1fb)]=function(_0x37b144,_0x2df6a0){return _0x37b144===_0x2df6a0;};const _0x5d180b=_0x2029f8;try{const _0x5acace=await this[_0x263251(0x308)][_0x263251(0x2e9)][_0x263251(0x371)](global_registry[_0x263251(0x2ee)]);for await(const _0x1bbbc1 of _0x5acace){if(_0x5d180b[_0x263251(0x1fb)](_0x1bbbc1[_0x263251(0x368)],_0x546f21))return!![];}}catch(_0x47460f){return logger[_0x263251(0x2b6)](_0x263251(0x268)+_0x546f21+_0x263251(0x36c)+_0x47460f),![];}return![];}async['isSubnetsValid'](_0x448a23,_0x5576f8){const _0x26c23e=a1_0x950270,_0x39ee0f={};_0x39ee0f[_0x26c23e(0x29b)]=function(_0x569299,_0x389f1a){return _0x569299===_0x389f1a;};const _0x276772=_0x39ee0f;try{const _0x2fed28=await this['networkClient'][_0x26c23e(0x235)][_0x26c23e(0x347)](global_registry[_0x26c23e(0x2ee)],_0x5576f8,_0x448a23[0x0]);if(_0x276772[_0x26c23e(0x29b)](_0x448a23[0x0],_0x2fed28[_0x26c23e(0x368)]))return[!![],_0x448a23];}catch(_0x2fbe12){return logger[_0x26c23e(0x2b6)]('Cannot\x20find\x20subnets\x20'+_0x448a23+_0x26c23e(0x27c)+_0x2fbe12),[![],[]];}return[![],[]];}}function a1_0x4d98(){const _0xd22b30=['tags','Vcdcr','createOrUpdate','LAhAg','deleteCluster','SrpfH','IsImw','isVPCPresent','qbWEK','FHGco','TptVm','Bzggj','KcWRp','clientSecret','3|1|0|2|5|4','jQPYh','urySk','1|4|0|2|5|3','getResourceClientId','ajbCc','caeyw','TdOJH','Incremental','variables','workloadIdentity','qTgaQ','enabled','bacov','properties','kTLMI','frHaO','uvnMm','jMsce','KvGFL','\x20CLIENT\x20SECRET:\x20','BSYYr','bxxrm','xLtIc','username','WVNdW','createFederatedAccount','toString','federatedidentity','FOkZh','FsENn','s3Bucket','storageClient','deployments','PgTZQ','WBayB','vUjzO','USdtD','message','syMDS','containerClient','resourceGroup','../config/logger','eVgDw','utf-8','userInstanceType','\x20SUBSCRIPTION\x20ID:\x20','\x20RESOURCE\x20GROUP:\x20','1180XpVmaR','GPnDs','isManagedIdentityPresent','187888IwYGiL','XcSDg','subnets','clusterInfo','GwWNk','Thmdu','bstackUsername','getClusterInfo','HkcwS','hub','baseBlob','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','JZmbH','JUCxo','slice','toUpperCase','Atuyh','../utils/gridComponents','managedClusters','maxNodes','KzoZx','FNAyz','108855AqnEon','OOqUV','ANthz','FTqEF','TZrHK','metadata','vpcName','KNIFW','JMFIr','[variables(\x27vnetSubnetID\x27)]','Sxlej','xKOTY','resourceClient','push','ECtZy','type','FIihR','aYCfn','vfknf','cloudProviderName','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','agentPoolProfiles','getResourceGroups','rXvzu','value','cloudProviderTenantId','policy','fJlkH','suXkF','WtQXW','cYrHh','Cannot\x20find\x20VPC\x20','log','getById','kJEHv','CEYQw','description','hostname','turboscale-managed-identity-','awZrB','length','actions','turboscale-identity-deployment','kXKAS','GTpet','gdJuw','turboscale-cluster-deployment','ZBajG','exports','uxnsa','77rdiZLT','.\x20Error:\x20','fthGE','LOG','VrqGS','116JmYDub','Enabling\x20Local\x20account\x20for\x20the\x20cluster','listByResourceGroup','QFQGi','turboscale-federated-deployment','turboscale-storageaccount-deployment','DUJlD','daysAfterCreationGreaterThan','yBepz','bpZXy','init','readFileAsync','IBLxk','qioIb','NzChv','Hkzrb','createStorageAccount','cloudProvider','TvKjR','wdesD','storageAccountName','GbuPT','status','clusterName','ingress','resources','EdzaK','qMIlA','createOtherResources','createCluster','MMSpA','zhMue','zOVil','RESOURCES','PGuJz','GExTv','getUserInput','woRJL','clientId','LOgYh','wQHXo','blobTypes','KeUKw','cqojI','./CloudProvider','AubkY','string','QHdXW','MXYkA','aNIZu','DKfHv','AcFVi','IkvcF','vexrp','error','setupHubHa','neNtM','hfkaR','resourceGroups','0|3|4|2|1|5','rules','@azure/arm-containerservice','PHEiN','parse','ERfFr','ocjtj','@azure/arm-resources','IYqxO','loadBalancer','MtiUq','cloudProviderClientSecret','WkAQA','jMRHY','pSbEk','iFyeo','wUpGb','turboscale','KJThF','xOPFe','PJqMR','oidcIssuerProfile','vHWiV','HTGgv','LrZAf','QnxPO','split','HJXns','jkPNZ','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','tmPBo','2146098WSizSA','yGJAC','FOKwZ','RWeai','aBXNg','Deleted\x20the\x20cluster\x20successfully','RLMIZ','DyUDO','ljbFM','UqMzn','dvykY','delete','vpcInfo','isStorageAccountPresent','BCHPj','virtualNetworks','COOOf','yrnsR','sSzkf','userMaxNodes','cloudProviderResourceGroup','hNMhh','KFzjo','UQIfy','KbdJO','PEOgm','fjYLp','buEEJ','BmkAz','rwcJn','GOWHp','nIWXi','lcCWf','ozzLf','xwFxR','IsyRd','Lifecycle','instanceType','vbtnT','\x20CLIENT\x20ID:\x20','@azure/arm-storage','zBihp','subscriptionId','sendEventToBackend','setupNewCluster','vbEdN','networkClient','ohtBm','webSocketUtils','fnMHj','gZThN','1402675TbEXIy','sSFHZ','kbVBU','gridName','rRTZc','cloudProviderClientId','RjOQF','createFederatedAccountForHubHA','1|0|4|2|5|3','pBCOb','managedidentity.json','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','sendAzureInfoToHST','azureresources','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','EJlHR','VSSiI','getKubeConfigData','qsbaB','Deleting\x20the\x20cluster\x20','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','kpZKU','isBrowserstackCluster','HbMXp','../config/constants','WKFwk','tqXia','tkigr','exit','CyCtm','pfEwL','2211BXLwQA','setClients','kmCpa','aLzry','kYPTw','QjRQq','list','PpgYs','getGridHostname','parameters','hjZKB','beginCreateOrUpdateAndWait','1104368bINPVm','KWWNd','browserstack:managedBy','PUtPO','vnetSubnetID','yLtoH','IlPga','rkahf','tPiVJ','issuerURL','CkiNq','join','wfCTT','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','createManagedIdentity','get','OqGvo','ZtOix','530154scTWHM','QmUcs','default','definition','RhJtk','Storage\x20account\x20already\x20exists,\x20skipping','yqCEJ','blockBlob','info','REvNO','wjbvt','rws','securityProfile','Creating\x20Azure\x20federated\x20identity','Managed\x20identity\x20already\x20exists,\x20skipping','BrowserStack','CxXYn','clusterRegion','Creating\x20Azure\x20storage\x20account','isClusterPresent','cloudProviderSubscriptionId','getStorageAccountName','IFGjv','KgOAM','wEGPM','edSJi','qpLIw','disableLocalAccounts','KaWwJ','filters','name','BDImG','NIRgj','btxVq','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','tenantId','saGTq','@azure/identity','Found\x20only\x20one\x20resource\x20group:\x20','listAll','VSOnG','WgGgA','hubharesources','setCachedCredsInRegistry','LsurF','accessKey','toLowerCase','storageaccount.json','subnetName','hIHbQ','aPLVR','nNHFA','KKQww','Xscqf','Dzokf','wzalQ','templates','ekVAA','sBbXr','yVKYf','iBXUd','akscluster.json','mMEyk','beginDeleteAndWait'];a1_0x4d98=function(){return _0xd22b30;};return a1_0x4d98();}const a1_0x225208={};function a1_0x252e(_0x49f34f,_0x3a88a6){const _0x4d983a=a1_0x4d98();return a1_0x252e=function(_0x252e90,_0x15960f){_0x252e90=_0x252e90-0x1e9;let _0x34ee66=_0x4d983a[_0x252e90];return _0x34ee66;},a1_0x252e(_0x49f34f,_0x3a88a6);}a1_0x225208['AzureCloudProvider']=AzureCloudProvider,module[a1_0x950270(0x279)]=a1_0x225208;