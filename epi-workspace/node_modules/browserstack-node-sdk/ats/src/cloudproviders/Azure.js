function a1_0x524c(_0x152a2d,_0x3a7f0e){const _0xada6df=a1_0xada6();return a1_0x524c=function(_0x524c1d,_0x545517){_0x524c1d=_0x524c1d-0x69;let _0x48bc89=_0xada6df[_0x524c1d];return _0x48bc89;},a1_0x524c(_0x152a2d,_0x3a7f0e);}const a1_0x30ce4f=a1_0x524c;function a1_0xada6(){const _0x1bfe89=['fMJwx','setClients','false','turboscale','turboscale-cluster-deployment','Lifecycle','uckXG','Blob\x20delete\x20lifecycle','bEguz','setupHubHa','roleAssignments','mYgKR','tqqAI','cloudProviderName','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','principalId','Sqied','userInstanceType','storageClient','resourceClient','AjcEi','yOZIW','policy','getPrincipalIdFromClientId','qJHKz','cred','\x20CLIENT\x20ID:\x20','dBXda','webSocketUtils','networkClient','WUEus','SDbnr','AyZDp','vpcName','wijVs','TzqNV','hubharesources','yfUsI','wYZKy','oTaxR','AhiMX','qAsJh','slice','Managed\x20identity\x20already\x20exists,\x20skipping','bIzpU','UWZIA','pIouk','rkTVk','kubeconfigs','dgKrh','js-yaml','djPFC','kmQTc','cdQMH','zESkh','type','subnets','getGridHostname','ULuJO','enabled','akscluster.json','application/json','HUzzw','FIwya','gridName','\x20TENANT\x20ID:\x20','UGOpJ','clusterInfo','nzCQa','getResourceClientId','tkCKs','ZvisJ','GET','listClusterAdminCredentials','getToken','roleName','bqUSM','dSobs','tlgKn','Aorkz','ZqgYx','storageAccounts','qQYPi','loadBalancer','VZwGR','kIiXv','createStorageAccount','pIFQx','rzPzJ','createCluster','KRCBj','toUpperCase','lbXDX','ZOiYC','Creating\x20Azure\x20managed\x20identity','VuylN','rws','XlFcc','managedidentity.json','sendAzureInfoToHST','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','Avtqx','hDGGO','isBrowserstackCluster','@azure/arm-containerservice','beginCreateOrUpdateAndWait','vJbSh','cjwqn','PUzeL','RFCop','WgZfF','dwrsy','push','1368498xhwiGZ','headers','SuhfU','eOacQ','hgeGb','Storage\x20account\x20already\x20exists,\x20skipping','VmrYc','info','yNMHx','JQmQt','AzureCloudProvider','zCGvf','12rjnUpL','OfHCL','IxnwQ','xWYcq','RwYDC','subscriptionId','ExXLj','OJTHW','VXjDE','getStorageAccountName','tRYRG','Bovdg','kWadb','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','vwwNB','string','createFederatedAccount','JsyhA','kGReE','gVJYl','Content-Type','UAlme','YKFKB','4|5|3|0|1|2','lvpoV','cloudProviderSubscriptionId','PXTux','DxuaQ','setCachedCredsInRegistry','WLaPw','XDWHH','fiypa','name','hub','hEpQE','cloudProviderTenantId','ByHZt','denied','Cannot\x20find\x20VPC\x20','YuDNP','AQhpx','qVbwo','issuerURL','UFhoP','Hswgc','pSpxA','status','blobTypes','error','clientId','node','oVLDl','ESEpB','raTUK','QMzAh','baseBlob','../utils/utilityMethods','filters','neTSg','sNaKU','stack','NTCge','variables','log','hostname','oBylN','zlgYh','zhkkT','WYqUs','@azure/arm-resources','vqaHr','nOHOh','fjzPM','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','default','browserstack:managedBy','WRQim','../config/constants','vnetSubnetID','FozkO','getById','getResourceGroups','UAhLS','6XiGMRJ','deleteCluster','Enabling\x20Local\x20account\x20for\x20the\x20cluster','begDq','clusterAutoUpgrade','6583512pRJotk','Attached\x20permissions\x20:\x20','description','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','MbgKe','uuhqf','ejpoQ','8616oNDZeD','https://graph.microsoft.com/.default','isVPCPresent','TqSnI','rules','exit','s3Bucket','YyBdN','true','LOG','UHBth','vXvmO','vPfDI','hubHaNameSpace','mjdLw','properties','mnghC','actions','bAHzr','FCjLV','./CloudProvider','VdNNH','HlutX','ACTION','turboscale-federated-deployment','lOnyw','json','bUbkK','securityProfile','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','listByResourceGroup','cloudProviderResourceGroup','roleDefinitions','lyzmA','3223BXmaQO','authClient','FyGCx','NAwOB','IMrJf','jfSmw','vrFmU','method','clusterRegion','aLADY','Received\x20response\x20-\x20','dEABp','54445IaOKXR','createManagedIdentity','Authorization','NBuQr','FELEy','EYDYf','ZqALm','delete','jGiaz','DHzvV','cloudProviderClientSecret','QYRPN','virtualNetworks','sFtOW','HHjAc','allowed','bQamL','JynxH','NnPOL','REZMq','sendEventToBackend','split','getUserInput','ingress','clusterName','resourceGroups','metadata','VwwMv','toString','blockBlob','cloudProviderClientId','instanceType','HHZKv','gjAYe','mbnRI','cdfPb','OntKi','mfavq','Creating\x20Azure\x20storage\x20account','4DQaeuX','tAWUg','isSubnetsValid','FTagz','aEDEQ','vLJcy','username','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','toLowerCase','role\x20name\x20attached\x20-\x20','gXwJA','UMaBU','QgMEQ','zaibW','@azure/identity','CoKfr','No\x20service\x20principal\x20found','bpWMh','zCYlg','dWiIB','enoDQ','createFederatedAccountForHubHA','disableLocalAccounts','hSWPu','irDqT','CfSdr','cqiIi','managementPolicies','XHzGN','value','McJPn','EJDTo','includes','jnncl','nKThF','tcDka','qoBSS','ajaLw','vUwjI','dFyUd','ehZSf','TuDCn','Mhjmd','Action\x20permission\x20list\x20is\x20empty\x0a','userMaxNodes','createOtherResources','assignedTo(\x27','isStorageAccountPresent','uSpcR','elBpX','utf-8','beginDeleteAndWait','getKubeConfigData','QXEDH','resourceGroup','Cannot\x20find\x20subnets\x20','accessKey','agentPoolProfiles','VMNkN','parameters','isManagedIdentityPresent','vndUC','cNOag','parse','14020piwBAi','templates','wlyDi','CcXJS','gWecb','oSZLQ','RJuTJ','TCWKD','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','DKwzZ','readFileAsync','tenantId','\x20CLIENT\x20SECRET:\x20','cloudProvider','SKSzV','VuFzH','shbGn','exports','OLbXa','kMDdi','mUtcM','oidcIssuerProfile','wwVEY','turboscale-storageaccount-deployment','OFZUr','@azure/arm-network','WxoyN','listForScope','wtbcR','zAJrU','No\x20CLI\x20tool\x20required','VnecM','QERRS','definition','GxdCa','NBWLX','Created\x20Azure\x20federated\x20identity','OjrNG','daysAfterCreationGreaterThan','../permissions/AZURE.json','JKlhn','\x20RESOURCE\x20GROUP:\x20','KazxP','deployments','HYOyZ','[variables(\x27vnetSubnetID\x27)]','kmWkB','AuffN','init','Pijzd','tags','JmwPc','No\x20attached\x20role\x20for\x20the\x20client\x20key','wzXbv','PZNwg','QHaes','RESOURCES','path','AXWei','BGUwL','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','createOrUpdate','aehAr','ymyJx','iOyto','kVDRg','2|5|3|1|4|0','ynvQX','32hBrYfk','stringify','xdhnL','join','turboscale-managed-identity-','actionPermission\x20:\x20','storageAccountName','Deleting\x20the\x20cluster\x20','Incremental','azureresources','workloadIdentity','rIIsa','OJLsL','\x20SUBSCRIPTION\x20ID:\x20','caDdg','kyDbF','wXnId','CuFPS','@azure/arm-storage','fYFTu','zarpa','yTcUw','containerClient','xBrAm','federatedidentityuploader.json','HZmJS','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','vpcInfo','FMlsY','uuLGh','data','../utils/gridComponents','hTFTx','dZiTD','ittuW','KnIjz','tPMwh','wGRLx','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','resources','sqhDv','getHeader','rBhtW','getClusterInfo','permissions','MaKPI','listAll','../config/logger','aVRIn','debug','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','.json','jSmIR','/resourceGroups/','bGify','FJeHH','TPQiE','.\x20Error:\x20','clientSecret','GNDCB','message','jSrIv','aTlWW','223101oRuHwE','get','NIJqE','xdsKu','MAlks','meVFK','lcrHS','NuRaP','579593rcyZKI','length','5|4|2|3|0|1','OaETa','fvnvk','PjbSP','managedClusters','ZqtIn','2023-01-31','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles'];a1_0xada6=function(){return _0x1bfe89;};return a1_0xada6();}(function(_0x1173bc,_0x51255f){const _0x52c502=a1_0x524c,_0x7ee3ba=_0x1173bc();while(!![]){try{const _0x1b6509=parseInt(_0x52c502(0x1b2))/0x1*(-parseInt(_0x52c502(0x211))/0x2)+-parseInt(_0x52c502(0x1a6))/0x3*(parseInt(_0x52c502(0x266))/0x4)+parseInt(_0x52c502(0x23f))/0x5*(parseInt(_0x52c502(0x205))/0x6)+-parseInt(_0x52c502(0x12b))/0x7+parseInt(_0x52c502(0xe4))/0x8*(-parseInt(_0x52c502(0x123))/0x9)+parseInt(_0x52c502(0xa0))/0xa*(parseInt(_0x52c502(0x233))/0xb)+parseInt(_0x52c502(0x20a))/0xc;if(_0x1b6509===_0x51255f)break;else _0x7ee3ba['push'](_0x7ee3ba['shift']());}catch(_0x463d24){_0x7ee3ba['push'](_0x7ee3ba['shift']());}}}(a1_0xada6,0x447a4));const fs=require('fs'),path=require(a1_0x30ce4f(0xd9)),yaml=require(a1_0x30ce4f(0x167)),{logger}=require(a1_0x30ce4f(0x113)),{CloudProvider}=require(a1_0x30ce4f(0x225)),{deleteRoutingDeps,deleteAgent}=require(a1_0x30ce4f(0x103)),{AZURE,WS_EVENTS,global_registry}=require(a1_0x30ce4f(0x1ff)),PERMISSIONS=require(a1_0x30ce4f(0xc7)),{ClientSecretCredential}=require(a1_0x30ce4f(0x6e)),{NetworkManagementClient}=require(a1_0x30ce4f(0xb9)),{StorageManagementClient}=require(a1_0x30ce4f(0xf6)),{AuthorizationManagementClient}=require('@azure/arm-authorization'),{ResourceManagementClient}=require(a1_0x30ce4f(0x1f7)),{ContainerServiceClient}=require(a1_0x30ce4f(0x19d)),{runCommand}=require(a1_0x30ce4f(0x1ea));class AzureCloudProvider extends CloudProvider{constructor(_0x4272cd,_0x4227ec,_0x222a82,_0x43008e){const _0x259114=a1_0x30ce4f,_0x146d8f={};_0x146d8f['SKSzV']='5|1|2|6|7|4|0|3';const _0x1c0d75=_0x146d8f,_0x4a08a1=_0x1c0d75[_0x259114(0xae)]['split']('|');let _0x1fe61d=0x0;while(!![]){switch(_0x4a08a1[_0x1fe61d++]){case'0':this[_0x259114(0x152)]=null;continue;case'1':this[_0x259114(0x14e)]=null;continue;case'2':this[_0x259114(0x178)]=null;continue;case'3':this[_0x259114(0x234)]=null;continue;case'4':this['resourceClient']=null;continue;case'5':super(AZURE,_0x4272cd,_0x4227ec,_0x222a82,_0x43008e);continue;case'6':this['containerClient']=null;continue;case'7':this[_0x259114(0x147)]=null;continue;}break;}}async['init'](){const _0x555d48=a1_0x30ce4f;return await super[_0x555d48(0xd0)](),this;}['setClients'](){const _0x187ae2=a1_0x30ce4f,_0x5a0d52=new ClientSecretCredential(global_registry['cloudProviderTenantId'],global_registry['cloudProviderClientId'],global_registry['cloudProviderClientSecret']);this['containerClient']=new ContainerServiceClient(_0x5a0d52,global_registry[_0x187ae2(0x1cb)]),this[_0x187ae2(0x147)]=new StorageManagementClient(_0x5a0d52,global_registry[_0x187ae2(0x1cb)]),this[_0x187ae2(0x148)]=new ResourceManagementClient(_0x5a0d52,global_registry[_0x187ae2(0x1cb)]),this['networkClient']=new NetworkManagementClient(_0x5a0d52,global_registry[_0x187ae2(0x1cb)]),this[_0x187ae2(0x234)]=new AuthorizationManagementClient(_0x5a0d52,global_registry[_0x187ae2(0x1cb)]),this[_0x187ae2(0x14e)]=_0x5a0d52;}[a1_0x30ce4f(0x1bb)](){const _0x540f80=a1_0x30ce4f,_0x383279={};_0x383279[_0x540f80(0x9e)]=function(_0xb16387,_0xce7dd4){return _0xb16387+_0xce7dd4;},_0x383279['pIWkG']=_0x540f80(0x138),_0x383279[_0x540f80(0x1b1)]=function(_0x5c29ac,_0x1035f9){return _0x5c29ac-_0x1035f9;};const _0x5c8423=_0x383279,_0x567e5b=global_registry['s3Bucket'][_0x540f80(0x254)]('-'),_0x1ffe43=_0x5c8423[_0x540f80(0x9e)](_0x5c8423['pIWkG'],_0x567e5b[_0x5c8423['zCGvf'](_0x567e5b[_0x540f80(0x12c)],0x1)])[_0x540f80(0x15f)](0x0,0x18);return _0x1ffe43[_0x540f80(0x26e)]();}[a1_0x30ce4f(0x1ce)](_0xd04371){const _0x44ff0d=a1_0x30ce4f,_0xf6fa09={};_0xf6fa09[_0x44ff0d(0x1d4)]=_0x44ff0d(0x12d);const _0x35ae17=_0xf6fa09,_0x3083f1=_0x35ae17[_0x44ff0d(0x1d4)][_0x44ff0d(0x254)]('|');let _0x4c42e6=0x0;while(!![]){switch(_0x3083f1[_0x4c42e6++]){case'0':global_registry[_0x44ff0d(0x230)]=_0xd04371[this['cloudProviderName']]['resourceGroup'];continue;case'1':this[_0x44ff0d(0x136)]();continue;case'2':global_registry['cloudProviderTenantId']=_0xd04371[this[_0x44ff0d(0x142)]][_0x44ff0d(0xab)];continue;case'3':global_registry['cloudProviderSubscriptionId']=_0xd04371[this[_0x44ff0d(0x142)]]['subscriptionId'];continue;case'4':global_registry['cloudProviderClientSecret']=_0xd04371[this[_0x44ff0d(0x142)]][_0x44ff0d(0x11e)];continue;case'5':global_registry['cloudProviderClientId']=_0xd04371[this['cloudProviderName']][_0x44ff0d(0x1e3)];continue;}break;}}async[a1_0x30ce4f(0x255)](_0x206266,_0x23a55a){const _0x5acf04=a1_0x30ce4f,_0x357dd9={'PUzeL':function(_0x5acfb1,_0x434f1e){return _0x5acfb1===_0x434f1e;},'DKwzZ':_0x5acf04(0x207),'zaibW':'Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','tcDka':function(_0xa7a295,_0x3b2491){return _0xa7a295(_0x3b2491);},'VnecM':function(_0x5d8991,_0x284397){return _0x5d8991(_0x284397);},'bQamL':function(_0x179ade,_0x59c06e){return _0x179ade===_0x59c06e;},'mfavq':'gwYgf','YuDNP':_0x5acf04(0x21f),'WUEus':function(_0x4a73b3,_0x1d3967){return _0x4a73b3===_0x1d3967;},'NTCge':function(_0x5511b8,_0x5c14ea){return _0x5511b8!==_0x5c14ea;},'Mhjmd':_0x5acf04(0x72),'irDqT':_0x5acf04(0x1ba),'enoDQ':function(_0x57e489,_0x4e136a){return _0x57e489===_0x4e136a;},'gWecb':function(_0x1c18dc,_0x1a0712){return _0x1c18dc===_0x1a0712;},'UMaBU':function(_0x1eee7f,_0x3056a1){return _0x1eee7f===_0x3056a1;},'YWJbt':function(_0x4749a8,_0xc28517){return _0x4749a8!==_0xc28517;},'TSyCI':_0x5acf04(0x108),'UGOpJ':_0x5acf04(0xef),'xBrAm':function(_0x432b62,_0x56aa21){return _0x432b62===_0x56aa21;},'oBylN':_0x5acf04(0x169),'bqUSM':_0x5acf04(0xca),'zBjCr':function(_0x4a8c02,_0x28e33c){return _0x4a8c02<_0x28e33c;},'NIJqE':function(_0x4c2b48,_0x1c62de){return _0x4c2b48!==_0x1c62de;},'WRQim':'aeoje','SzApZ':function(_0x4de5bc,_0x2ef2f3){return _0x4de5bc+_0x2ef2f3;},'lbXDX':_0x5acf04(0x199),'wYZKy':function(_0x348381,_0x24e1c9){return _0x348381(_0x24e1c9);},'sFtOW':function(_0x393f93,_0x15ec69){return _0x393f93<=_0x15ec69;},'tAWUg':function(_0x3fd887,_0x43f006){return _0x3fd887>_0x43f006;},'hvHZN':function(_0xccb7ef,_0x484bc7){return _0xccb7ef===_0x484bc7;},'nKThF':_0x5acf04(0x1e5),'kGUdD':function(_0x59d463,_0x52f925){return _0x59d463-_0x52f925;}},_0x27b1cd=this[_0x5acf04(0x142)][_0x5acf04(0x190)](),_0x4c02c9=await _0x357dd9[_0x5acf04(0x83)](_0x206266,_0x27b1cd+_0x5acf04(0x14f)),_0x8c8fd9=await _0x357dd9[_0x5acf04(0xbf)](_0x206266,_0x27b1cd+_0x5acf04(0xac)),_0x4ce0d3=await _0x357dd9['tcDka'](_0x206266,_0x27b1cd+_0x5acf04(0x176)),_0x3fdf8b=await _0x357dd9[_0x5acf04(0xbf)](_0x206266,_0x27b1cd+_0x5acf04(0xf1));global_registry['cloudProviderClientId']=_0x4c02c9,global_registry['cloudProviderClientSecret']=_0x8c8fd9,global_registry['cloudProviderTenantId']=_0x4ce0d3,global_registry[_0x5acf04(0x1cb)]=_0x3fdf8b,this[_0x5acf04(0x136)]();const _0x525fcf=await this['getResourceGroups'](),_0x57c937=_0x525fcf[_0x5acf04(0x12c)];let _0x3b8468;if(_0x357dd9[_0x5acf04(0x1a1)](_0x57c937,0x0))_0x357dd9[_0x5acf04(0x24f)](_0x357dd9[_0x5acf04(0x264)],_0x357dd9[_0x5acf04(0x1d9)])?_0x495687[_0x5acf04(0x1e0)]=![]:_0x3b8468=await _0x357dd9[_0x5acf04(0xbf)](_0x206266,_0x27b1cd+_0x5acf04(0xc9));else{if(_0x357dd9[_0x5acf04(0x153)](_0x57c937,0x1)){if(_0x357dd9[_0x5acf04(0x1ef)](_0x357dd9[_0x5acf04(0x8a)],_0x357dd9[_0x5acf04(0x78)])){const _0x1af0f1=await _0x357dd9[_0x5acf04(0x83)](_0x206266,'Found\x20only\x20one\x20resource\x20group:\x20'+_0x525fcf[0x0]+_0x5acf04(0xdc));if(_0x357dd9[_0x5acf04(0x74)](_0x1af0f1,undefined)||_0x357dd9[_0x5acf04(0x24f)](_0x1af0f1,null)||!(_0x357dd9[_0x5acf04(0xa4)](_0x1af0f1[_0x5acf04(0x26e)](),'y')||_0x357dd9[_0x5acf04(0x6b)](_0x1af0f1[_0x5acf04(0x26e)](),'n'))){if(_0x357dd9['YWJbt'](_0x357dd9['TSyCI'],_0x357dd9[_0x5acf04(0x177)]))console[_0x5acf04(0x1e2)](_0x357dd9[_0x5acf04(0x6d)]),process[_0x5acf04(0x216)](0x1);else{if(_0x357dd9[_0x5acf04(0x1a1)](_0x4c7f5f[_0x5acf04(0x1d2)],_0x2fa937))return!![];}}if(_0x357dd9[_0x5acf04(0x1a1)](_0x1af0f1[_0x5acf04(0x26e)](),'n')){if(_0x357dd9[_0x5acf04(0xfb)](_0x357dd9[_0x5acf04(0x1f3)],_0x357dd9[_0x5acf04(0x1f3)]))process[_0x5acf04(0x216)](0x0);else{_0x19ee9a[_0x5acf04(0x1ad)](_0x357dd9[_0x5acf04(0xa9)]);const _0x1b119b={};_0x1b119b[_0x5acf04(0x16c)]=_0x53a56a[_0x5acf04(0xd8)],_0x1b119b['message']=_0x357dd9[_0x5acf04(0xa9)],this[_0x5acf04(0x151)][_0x5acf04(0x253)](this[_0x5acf04(0x195)],_0x1b119b),_0x532337[_0x5acf04(0x76)]=![];}}_0x3b8468=_0x525fcf[0x0];}else _0x4a51ba[_0x5acf04(0x1a5)](_0x21de29);}else{if(_0x357dd9[_0x5acf04(0x1ef)](_0x357dd9[_0x5acf04(0x181)],_0x357dd9['bqUSM']))_0x3c8915[_0x5acf04(0x1e2)](_0x357dd9[_0x5acf04(0x6d)]),_0x345375[_0x5acf04(0x216)](0x1);else{for(let _0x478bcb=0x0;_0x357dd9['zBjCr'](_0x478bcb,_0x525fcf[_0x5acf04(0x12c)]);_0x478bcb+=0x1){_0x357dd9[_0x5acf04(0x125)](_0x357dd9[_0x5acf04(0x1fe)],_0x357dd9[_0x5acf04(0x1fe)])?_0xa344b5['push'](_0x31eaff):console[_0x5acf04(0x1f1)]('['+_0x357dd9['SzApZ'](_0x478bcb,0x1)+']\x20'+_0x525fcf[_0x478bcb]);}const _0x353bd4=await _0x357dd9[_0x5acf04(0x83)](_0x206266,_0x357dd9[_0x5acf04(0x191)]),_0x3dd781=_0x357dd9['wYZKy'](Number,_0x353bd4);(_0x357dd9[_0x5acf04(0x15b)](isNaN,_0x3dd781)||_0x357dd9[_0x5acf04(0x24c)](_0x3dd781,0x0)||_0x357dd9[_0x5acf04(0x267)](_0x3dd781,_0x57c937))&&(_0x357dd9['hvHZN'](_0x357dd9[_0x5acf04(0x82)],_0x357dd9['nKThF'])?(console[_0x5acf04(0x1e2)](_0x357dd9[_0x5acf04(0x6d)]),process[_0x5acf04(0x216)](0x1)):_0x35b3c6['exit'](0x0)),_0x3b8468=_0x525fcf[_0x357dd9['kGUdD'](_0x3dd781,0x1)];}}}global_registry[_0x5acf04(0x230)]=_0x3b8468;const _0x3e7822={};return _0x3e7822[_0x5acf04(0x1e3)]=_0x4c02c9,_0x3e7822[_0x5acf04(0x11e)]=_0x8c8fd9,_0x3e7822[_0x5acf04(0xab)]=_0x4ce0d3,_0x3e7822['subscriptionId']=_0x3fdf8b,_0x3e7822['resourceGroup']=_0x3b8468,_0x23a55a[_0x5acf04(0xad)][AZURE]=_0x3e7822,_0x23a55a;}async[a1_0x30ce4f(0x203)](){const _0x4deacd=a1_0x30ce4f,_0x1cefc8={};_0x1cefc8[_0x4deacd(0x150)]=_0x4deacd(0xbe),_0x1cefc8[_0x4deacd(0x91)]=function(_0x5be7c5,_0x2fffc1){return _0x5be7c5===_0x2fffc1;},_0x1cefc8[_0x4deacd(0xb6)]=_0x4deacd(0x104),_0x1cefc8[_0x4deacd(0x7e)]='fyXFE',_0x1cefc8[_0x4deacd(0x81)]='unxoO',_0x1cefc8[_0x4deacd(0x239)]='bclJl';const _0x429687=_0x1cefc8,_0x1a8b04=[];try{if(_0x429687[_0x4deacd(0x91)](_0x429687['wwVEY'],_0x429687['McJPn']))return[!![],_0xb66eaa];else{const _0x153778=await this[_0x4deacd(0x148)][_0x4deacd(0x258)]['list']();for await(const _0x13bdc2 of _0x153778){if(_0x429687[_0x4deacd(0x91)](_0x429687[_0x4deacd(0x81)],_0x429687['vrFmU'])){const _0x217a5c={};_0x217a5c[_0x4deacd(0x1e0)]=!![],_0x217a5c[_0x4deacd(0x1e2)]=null,_0x217a5c[_0x4deacd(0x102)]=_0x429687[_0x4deacd(0x150)];const _0x494fa1=_0x217a5c;return _0x494fa1;}else _0x1a8b04[_0x4deacd(0x1a5)](_0x13bdc2[_0x4deacd(0x1d2)]);}}}catch(_0xb0051c){}return _0x1a8b04;}async[a1_0x30ce4f(0x10f)](){const _0x472079=a1_0x30ce4f;return this['clusterInfo']=await this[_0x472079(0xfa)][_0x472079(0x131)]['get'](global_registry[_0x472079(0x230)],this[_0x472079(0x257)]),this[_0x472079(0x178)];}async[a1_0x30ce4f(0x94)](){const _0x40092b=a1_0x30ce4f,_0x2a0ebe=await this[_0x40092b(0xfa)][_0x40092b(0x131)][_0x40092b(0x17e)](global_registry[_0x40092b(0x230)],this['clusterName']),_0x444978=_0x2a0ebe[_0x40092b(0x165)][0x0][_0x40092b(0x7d)][_0x40092b(0x25b)]();return _0x444978;}[a1_0x30ce4f(0x16e)](_0x4c88a2){const _0x37740d=a1_0x30ce4f;return _0x4c88a2[_0x37740d(0x1e0)][_0x37740d(0x188)][_0x37740d(0x256)][0x0][_0x37740d(0x1f2)];}async['isClusterPresent'](){const _0xd38875=a1_0x30ce4f,_0x41b205={};_0x41b205['AjcEi']=function(_0x349223,_0x68103e){return _0x349223===_0x68103e;},_0x41b205[_0xd38875(0x1df)]='Action\x20permission\x20list\x20is\x20empty\x0a',_0x41b205[_0xd38875(0x18f)]=function(_0x28f0a9,_0x5410cc){return _0x28f0a9===_0x5410cc;},_0x41b205['dWiIB']='KKpLY',_0x41b205['tkCKs']=_0xd38875(0x101),_0x41b205[_0xd38875(0x107)]=function(_0xd869e4,_0x5a0e61){return _0xd869e4!==_0x5a0e61;},_0x41b205[_0xd38875(0xa3)]=_0xd38875(0x21c),_0x41b205[_0xd38875(0x173)]=function(_0x425bf6,_0x756454){return _0x425bf6!==_0x756454;},_0x41b205[_0xd38875(0x87)]=_0xd38875(0x1ec),_0x41b205[_0xd38875(0x243)]=_0xd38875(0xd3);const _0x5bd5a1=_0x41b205,_0x3eae3d=new Array();for await(const _0x263014 of this['containerClient']['managedClusters'][_0xd38875(0x22f)](global_registry['cloudProviderResourceGroup'])){_0x5bd5a1[_0xd38875(0x18f)](_0x5bd5a1[_0xd38875(0x73)],_0x5bd5a1[_0xd38875(0x17b)])?(_0x4b61de+=_0x5bd5a1[_0xd38875(0x149)](_0x35f303[_0xd38875(0x12c)],0x0)?_0x5bd5a1[_0xd38875(0x1df)]:'',_0x39191f[_0xd38875(0x115)](_0xd38875(0xfe)+_0x49f2a4[_0xd38875(0xe5)](_0x7512b6))):_0x3eae3d['push'](_0x263014);}for await(const _0x2f9852 of _0x3eae3d){if(_0x5bd5a1[_0xd38875(0x107)](_0x5bd5a1[_0xd38875(0xa3)],_0x5bd5a1[_0xd38875(0xa3)]))_0x9c7728[_0xd38875(0x1a5)](_0x5d8d6c);else{if(_0x5bd5a1[_0xd38875(0x149)](_0x2f9852['name'],this[_0xd38875(0x257)]))return _0x5bd5a1['HUzzw'](_0x5bd5a1['dFyUd'],_0x5bd5a1[_0xd38875(0x243)])?(await this[_0xd38875(0x10f)](),!![]):(_0x43801a[_0xd38875(0x1e2)](_0xd38875(0x97)+_0x2148ad+_0xd38875(0x11d)+_0x6f93ac),[![],[]]);}}return![];}async['setupNewCluster'](_0x18f7f8=null,_0x18ebfd=null){const _0x5e1f23=a1_0x30ce4f,_0x148fc3={};_0x148fc3['tRrAU']=_0x5e1f23(0xe2),_0x148fc3['REZMq']='Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity';const _0x3ddfce=_0x148fc3,_0x417946=_0x3ddfce['tRrAU'][_0x5e1f23(0x254)]('|');let _0x4cfeed=0x0;while(!![]){switch(_0x417946[_0x4cfeed++]){case'0':return[_0x18f7f8,_0x18ebfd];case'1':await this[_0x5e1f23(0x18e)](_0x18f7f8,_0x18ebfd);continue;case'2':this[_0x5e1f23(0x198)]();continue;case'3':logger[_0x5e1f23(0x1ad)](_0x3ddfce[_0x5e1f23(0x252)]);continue;case'4':await this[_0x5e1f23(0x8d)]();continue;case'5':const _0x291d64={};_0x291d64[_0x5e1f23(0x16c)]=WS_EVENTS[_0x5e1f23(0x21a)],_0x291d64[_0x5e1f23(0x120)]=_0x3ddfce[_0x5e1f23(0x252)],this[_0x5e1f23(0x151)][_0x5e1f23(0x253)](this[_0x5e1f23(0x195)],_0x291d64);continue;}break;}}async[a1_0x30ce4f(0x18e)](_0x43640c=null,_0x397174=null){const _0x199d6c=a1_0x30ce4f,_0x8b961b={};_0x8b961b['ynvQX']=_0x199d6c(0x24e),_0x8b961b[_0x199d6c(0x1f8)]=_0x199d6c(0x1d7),_0x8b961b['UAhLS']=_0x199d6c(0xa1),_0x8b961b['lJjCw']='azureresources',_0x8b961b[_0x199d6c(0x15d)]=_0x199d6c(0x171),_0x8b961b[_0x199d6c(0x12f)]='utf-8',_0x8b961b['AXWei']=_0x199d6c(0x219),_0x8b961b[_0x199d6c(0x23e)]=_0x199d6c(0x137),_0x8b961b['AgPON']=function(_0x57d7bf,_0x28bd14){return _0x57d7bf!==_0x28bd14;},_0x8b961b['hSWPu']=function(_0xda35a6,_0x2a5221){return _0xda35a6!==_0x2a5221;},_0x8b961b['Hswgc']=function(_0xa7fa1f,_0x20579f){return _0xa7fa1f!==_0x20579f;},_0x8b961b[_0x199d6c(0x106)]='mNUMD',_0x8b961b[_0x199d6c(0x1fa)]=_0x199d6c(0x1c1),_0x8b961b[_0x199d6c(0x16f)]='Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.',_0x8b961b[_0x199d6c(0x250)]='[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]',_0x8b961b[_0x199d6c(0x1be)]=_0x199d6c(0xcd),_0x8b961b[_0x199d6c(0x1ae)]=_0x199d6c(0x139),_0x8b961b['dZiTD']=_0x199d6c(0xec);const _0x411c51=_0x8b961b;let _0x5d8240=await fs[_0x199d6c(0xaa)](path[_0x199d6c(0xe7)](__dirname,'..',_0x411c51[_0x199d6c(0x204)],_0x411c51['lJjCw'],_0x411c51['AhiMX']),_0x411c51[_0x199d6c(0x12f)]);_0x5d8240=JSON[_0x199d6c(0x9f)](_0x5d8240);const _0x1d1e72={};_0x1d1e72[_0x199d6c(0x7d)]=this[_0x199d6c(0x257)];const _0x2b99f4={};_0x2b99f4['value']=global_registry[_0x199d6c(0x23b)];const _0x1370e3={};_0x1370e3['value']=global_registry[_0x199d6c(0x25e)];const _0x2b2ec7={};_0x2b2ec7[_0x199d6c(0x7d)]=global_registry['maxNodes'];const _0x43e157={};_0x43e157['value']=global_registry[_0x199d6c(0x209)]?_0x411c51[_0x199d6c(0xda)]:_0x411c51[_0x199d6c(0x23e)];const _0x44d8ee={};_0x44d8ee[_0x199d6c(0x257)]=_0x1d1e72,_0x44d8ee['location']=_0x2b99f4,_0x44d8ee[_0x199d6c(0x146)]=_0x1370e3,_0x44d8ee[_0x199d6c(0x8c)]=_0x2b2ec7,_0x44d8ee[_0x199d6c(0x209)]=_0x43e157;let _0x3bfd97=_0x44d8ee;if(_0x411c51['AgPON'](_0x43640c,null)&&_0x411c51[_0x199d6c(0x77)](_0x397174,null)){if(_0x411c51[_0x199d6c(0x1de)](_0x411c51[_0x199d6c(0x106)],_0x411c51[_0x199d6c(0x106)])){const _0x4a120c=_0x466fb9[_0x199d6c(0x80)](_0x3073bf);_0xb173e3+='\x0a\x09'+_0x681efd+':\x20'+(_0x4a120c?_0x411c51[_0x199d6c(0xe3)]:_0x411c51[_0x199d6c(0x1f8)]),!_0x4a120c&&(_0x5999f4[_0x199d6c(0x1e0)]=![]);}else{const _0x3517b5={};_0x3517b5[_0x199d6c(0x16c)]=_0x411c51[_0x199d6c(0x1fa)],_0x3517b5[_0x199d6c(0x259)]={},_0x3517b5[_0x199d6c(0x259)][_0x199d6c(0x20c)]=_0x411c51['ULuJO'];const _0x29a409={};_0x29a409[_0x199d6c(0x16c)]=_0x411c51['fjzPM'],_0x29a409[_0x199d6c(0x259)]={},_0x29a409[_0x199d6c(0x259)][_0x199d6c(0x20c)]=_0x411c51[_0x199d6c(0x16f)],_0x5d8240[_0x199d6c(0x9b)]={..._0x5d8240[_0x199d6c(0x9b)],'vpcName':_0x3517b5,'subnetName':_0x29a409};const _0xf4bee6={};_0xf4bee6[_0x199d6c(0x200)]=_0x411c51[_0x199d6c(0x250)],_0x5d8240[_0x199d6c(0x1f0)]=_0xf4bee6,_0x5d8240[_0x199d6c(0x10b)][0x0]['properties'][_0x199d6c(0x99)][0x0]={..._0x5d8240['resources'][0x0][_0x199d6c(0x220)][_0x199d6c(0x99)][0x0],'vnetSubnetID':_0x411c51[_0x199d6c(0x1be)]};const _0x1a13c6={};_0x1a13c6[_0x199d6c(0x7d)]=_0x43640c;const _0x4b7be0={};_0x4b7be0[_0x199d6c(0x7d)]=_0x397174[0x0],_0x3bfd97={..._0x3bfd97,'vpcName':_0x1a13c6,'subnetName':_0x4b7be0};}}await this[_0x199d6c(0x148)][_0x199d6c(0xcb)][_0x199d6c(0x19e)](global_registry[_0x199d6c(0x230)],_0x411c51[_0x199d6c(0x1ae)],{'properties':{'template':_0x5d8240,'mode':_0x411c51[_0x199d6c(0x105)],'parameters':_0x3bfd97}});}async[a1_0x30ce4f(0x8d)](){const _0xb4907c=a1_0x30ce4f,_0x4ee962={'zhkkT':function(_0x257584,_0x48cb6c){return _0x257584+_0x48cb6c;},'bAHzr':function(_0x30db7d,_0x425b69,_0x271363){return _0x30db7d(_0x425b69,_0x271363);},'pIouk':function(_0x587ab0,_0x30afb0){return _0x587ab0===_0x30afb0;},'shbGn':_0xb4907c(0xa6),'tlgKn':_0xb4907c(0x265),'qQYPi':function(_0x4e9ad9,_0x3c71b1){return _0x4e9ad9!==_0x3c71b1;},'vPfDI':_0xb4907c(0x236),'ZqgYx':_0xb4907c(0x1ab),'PZNwg':_0xb4907c(0x7f),'JsyhA':_0xb4907c(0x193),'bpWMh':function(_0x47ec36,_0x759f82){return _0x47ec36!==_0x759f82;},'rpKLV':_0xb4907c(0x111),'OLbXa':_0xb4907c(0xcc),'YyBdN':_0xb4907c(0x160),'Phlmr':'Creating\x20Azure\x20federated\x20identity','meVFK':_0xb4907c(0xc4)},_0xd014b5=await this[_0xb4907c(0x8f)]();if(!_0xd014b5){if(_0x4ee962['pIouk'](_0x4ee962[_0xb4907c(0xb0)],_0x4ee962[_0xb4907c(0xb0)])){const _0x54ea96={};_0x54ea96[_0xb4907c(0x16c)]=WS_EVENTS[_0xb4907c(0x21a)],_0x54ea96['message']=_0x4ee962[_0xb4907c(0x183)],this[_0xb4907c(0x151)][_0xb4907c(0x253)](this[_0xb4907c(0x195)],_0x54ea96),logger[_0xb4907c(0x1ad)](_0x4ee962[_0xb4907c(0x183)]),await this[_0xb4907c(0x18b)]();}else _0x46b858[_0xb4907c(0x1f1)]('['+_0x4ee962[_0xb4907c(0x1f5)](_0x4ad108,0x1)+']\x20'+_0x56db15[_0x1c4246]);}else _0x4ee962[_0xb4907c(0x187)](_0x4ee962[_0xb4907c(0x21d)],_0x4ee962['vPfDI'])?_0x4ee962[_0xb4907c(0x223)](_0x439cf1,()=>_0x4aa150(),0x3e8):logger[_0xb4907c(0x1ad)](_0x4ee962[_0xb4907c(0x185)]);const _0x3f0063=await this[_0xb4907c(0x9c)]();if(!_0x3f0063){if(_0x4ee962[_0xb4907c(0x163)](_0x4ee962[_0xb4907c(0xd6)],_0x4ee962[_0xb4907c(0xd6)])){const _0xf5602={};_0xf5602['type']=WS_EVENTS[_0xb4907c(0x21a)],_0xf5602['message']=_0x4ee962[_0xb4907c(0x1c3)],this[_0xb4907c(0x151)][_0xb4907c(0x253)](this['rws'],_0xf5602),logger[_0xb4907c(0x1ad)](_0x4ee962[_0xb4907c(0x1c3)]),await this['createManagedIdentity']();}else return!![];}else _0x4ee962[_0xb4907c(0x71)](_0x4ee962['rpKLV'],_0x4ee962[_0xb4907c(0xb2)])?logger[_0xb4907c(0x1ad)](_0x4ee962[_0xb4907c(0x218)]):_0x1259da['push'](_0x6307e3[_0xb4907c(0x1d2)]);logger[_0xb4907c(0x1ad)](_0x4ee962['Phlmr']),await this[_0xb4907c(0x1c2)](),logger[_0xb4907c(0x1ad)](_0x4ee962[_0xb4907c(0x128)]);}async[a1_0x30ce4f(0x18b)](){const _0x21323c=a1_0x30ce4f,_0x15481c={};_0x15481c[_0x21323c(0x260)]='templates',_0x15481c[_0x21323c(0x23c)]='azureresources',_0x15481c[_0x21323c(0x184)]='storageaccount.json',_0x15481c[_0x21323c(0x1db)]='utf-8',_0x15481c[_0x21323c(0x79)]=_0x21323c(0xb7),_0x15481c[_0x21323c(0x19b)]='Incremental',_0x15481c[_0x21323c(0x182)]=_0x21323c(0x13c),_0x15481c[_0x21323c(0xbc)]=_0x21323c(0x13a),_0x15481c[_0x21323c(0x232)]=_0x21323c(0x25c),_0x15481c['GxdCa']=_0x21323c(0x1fc);const _0x315cf1=_0x15481c;let _0x308d6b=await fs['readFileAsync'](path['join'](__dirname,'..',_0x315cf1[_0x21323c(0x260)],_0x315cf1[_0x21323c(0x23c)],_0x315cf1[_0x21323c(0x184)]),_0x315cf1[_0x21323c(0x1db)]);_0x308d6b=JSON['parse'](_0x308d6b);const _0x45a765=this[_0x21323c(0x1bb)](),_0x3cc248={};_0x3cc248[_0x21323c(0x7d)]=_0x45a765;const _0x3baffe={};_0x3baffe[_0x21323c(0xea)]=_0x3cc248,await this[_0x21323c(0x148)][_0x21323c(0xcb)]['beginCreateOrUpdateAndWait'](global_registry[_0x21323c(0x230)],_0x315cf1['CfSdr'],{'properties':{'template':_0x308d6b,'mode':_0x315cf1[_0x21323c(0x19b)],'parameters':_0x3baffe}});const _0x5d8916={};_0x5d8916[_0x21323c(0xc6)]=0x3c;const _0x32dfc5={};_0x32dfc5[_0x21323c(0x246)]=_0x5d8916;const _0x554578={};_0x554578[_0x21323c(0x1e9)]=_0x32dfc5;const _0x209631={};_0x209631['enabled']=!![],_0x209631[_0x21323c(0x1d2)]=_0x315cf1[_0x21323c(0x182)],_0x209631['type']=_0x315cf1[_0x21323c(0xbc)],_0x209631[_0x21323c(0xc1)]={},_0x209631[_0x21323c(0xc1)][_0x21323c(0x222)]=_0x554578,_0x209631[_0x21323c(0xc1)][_0x21323c(0x1eb)]={},_0x209631[_0x21323c(0xc1)][_0x21323c(0x1eb)][_0x21323c(0x1e1)]=[_0x315cf1['lyzmA']];const _0x785e55={};_0x785e55[_0x21323c(0x215)]=[_0x209631];const _0x1cc6f5={};_0x1cc6f5[_0x21323c(0x14b)]=_0x785e55;const _0x208d0a=_0x1cc6f5;await this[_0x21323c(0x147)][_0x21323c(0x7b)][_0x21323c(0xdd)](global_registry[_0x21323c(0x230)],_0x45a765,_0x315cf1[_0x21323c(0xc2)],_0x208d0a);}async[a1_0x30ce4f(0x240)](){const _0xf9f1a2=a1_0x30ce4f,_0xe1cb7b={};_0xe1cb7b['deMpi']=_0xf9f1a2(0xa1),_0xe1cb7b[_0xf9f1a2(0x95)]=_0xf9f1a2(0xed),_0xe1cb7b[_0xf9f1a2(0xaf)]=_0xf9f1a2(0x197),_0xe1cb7b[_0xf9f1a2(0x19a)]=_0xf9f1a2(0x92),_0xe1cb7b['jSrIv']='turboscale-identity-deployment',_0xe1cb7b['nzCQa']=_0xf9f1a2(0xec);const _0x3de160=_0xe1cb7b;let _0x4fb4af=await fs[_0xf9f1a2(0xaa)](path[_0xf9f1a2(0xe7)](__dirname,'..',_0x3de160['deMpi'],_0x3de160[_0xf9f1a2(0x95)],_0x3de160[_0xf9f1a2(0xaf)]),_0x3de160[_0xf9f1a2(0x19a)]);_0x4fb4af=JSON[_0xf9f1a2(0x9f)](_0x4fb4af),await this[_0xf9f1a2(0x148)]['deployments'][_0xf9f1a2(0x19e)](global_registry[_0xf9f1a2(0x230)],_0x3de160[_0xf9f1a2(0x121)],{'properties':{'template':_0x4fb4af,'mode':_0x3de160[_0xf9f1a2(0x179)],'parameters':{'clusterName':{'value':this[_0xf9f1a2(0x257)]}}}});}async[a1_0x30ce4f(0x1c2)](){const _0x74571d=a1_0x30ce4f,_0x2c98f4={};_0x2c98f4['WYqUs']=function(_0x5ea58c,_0x495d56){return _0x5ea58c===_0x495d56;},_0x2c98f4[_0x74571d(0x114)]=function(_0x3c5e34,_0x4e3b75){return _0x3c5e34===_0x4e3b75;},_0x2c98f4['xdhnL']=_0x74571d(0x1f4),_0x2c98f4[_0x74571d(0x196)]=_0x74571d(0x1d3),_0x2c98f4[_0x74571d(0xa5)]=_0x74571d(0x1e4),_0x2c98f4[_0x74571d(0xf0)]=_0x74571d(0x1e6),_0x2c98f4['dwrsy']=_0x74571d(0x1b3),_0x2c98f4[_0x74571d(0x26a)]=_0x74571d(0xa1),_0x2c98f4[_0x74571d(0x1ac)]=_0x74571d(0xed),_0x2c98f4['jfSmw']=_0x74571d(0x92),_0x2c98f4[_0x74571d(0x1a0)]=_0x74571d(0x229),_0x2c98f4[_0x74571d(0x22c)]=_0x74571d(0xec);const _0x301d9c=_0x2c98f4;if(!this[_0x74571d(0x178)]){if(_0x301d9c[_0x74571d(0x114)](_0x301d9c[_0x74571d(0xe6)],_0x301d9c[_0x74571d(0xe6)]))await this['getClusterInfo']();else return _0x21fbce[_0x74571d(0x1e2)]=_0x29851f[_0x74571d(0x1e2)],_0xdd0ae3;}const _0x375e48=this['clusterInfo']?.[_0x74571d(0xb5)]?.['issuerURL'],_0xfc6b00=[_0x301d9c[_0x74571d(0x196)],_0x301d9c[_0x74571d(0xa5)]];for await(const _0x158e7d of _0xfc6b00){if(_0x301d9c['aVRIn'](_0x301d9c[_0x74571d(0xf0)],_0x301d9c[_0x74571d(0x1a4)])){if(_0x301d9c[_0x74571d(0x1f6)](_0x2d3ead[_0x74571d(0x1d2)],_0x537844))return!![];}else{let _0x244438=await fs[_0x74571d(0xaa)](path[_0x74571d(0xe7)](__dirname,'..',_0x301d9c[_0x74571d(0x26a)],_0x301d9c[_0x74571d(0x1ac)],'federatedidentity'+_0x158e7d+_0x74571d(0x117)),_0x301d9c[_0x74571d(0x238)]);_0x244438=JSON[_0x74571d(0x9f)](_0x244438);const _0x7e6925={};_0x7e6925['value']=_0x375e48,await this['resourceClient'][_0x74571d(0xcb)][_0x74571d(0x19e)](global_registry[_0x74571d(0x230)],_0x301d9c[_0x74571d(0x1a0)],{'properties':{'template':_0x244438,'mode':_0x301d9c[_0x74571d(0x22c)],'parameters':{'oidcIssuer':_0x7e6925,'gridName':{'value':this[_0x74571d(0x175)]},'clusterName':{'value':this[_0x74571d(0x257)]}}}});}}}async[a1_0x30ce4f(0x13e)](_0x46f212,_0x5257c5,_0x5e68a8,_0x4fa4d2,_0x3c00f2){const _0x1bfc69=a1_0x30ce4f,_0x586a37={};_0x586a37[_0x1bfc69(0x192)]='Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha',_0x586a37[_0x1bfc69(0x140)]=_0x1bfc69(0xa8);const _0x10d858=_0x586a37,_0x1b11d9={};_0x1b11d9[_0x1bfc69(0x16c)]=WS_EVENTS[_0x1bfc69(0x21a)],_0x1b11d9['message']=_0x10d858[_0x1bfc69(0x192)],this[_0x1bfc69(0x151)]['sendEventToBackend'](this[_0x1bfc69(0x195)],_0x1b11d9),logger[_0x1bfc69(0x1ad)](_0x10d858['ZOiYC']),await this[_0x1bfc69(0x75)]();const _0xfd22a4={};_0xfd22a4[_0x1bfc69(0x16c)]=WS_EVENTS[_0x1bfc69(0x21a)],_0xfd22a4[_0x1bfc69(0x120)]=_0x10d858[_0x1bfc69(0x140)],this[_0x1bfc69(0x151)]['sendEventToBackend'](this[_0x1bfc69(0x195)],_0xfd22a4);}async[a1_0x30ce4f(0x75)](){const _0x2108c1=a1_0x30ce4f,_0x3bd660={};_0x3bd660[_0x2108c1(0xc5)]=_0x2108c1(0x10a),_0x3bd660['oRalQ']=function(_0x4a1600,_0x14d167){return _0x4a1600!==_0x14d167;},_0x3bd660[_0x2108c1(0xce)]=_0x2108c1(0x10c),_0x3bd660[_0x2108c1(0x14d)]=_0x2108c1(0x1c5),_0x3bd660[_0x2108c1(0xd7)]=_0x2108c1(0xa1),_0x3bd660[_0x2108c1(0x157)]=_0x2108c1(0x159),_0x3bd660[_0x2108c1(0x247)]=_0x2108c1(0xfc),_0x3bd660['VMNkN']=_0x2108c1(0x92),_0x3bd660[_0x2108c1(0x248)]=_0x2108c1(0x229),_0x3bd660['kGReE']=_0x2108c1(0xec);const _0x29931e=_0x3bd660;if(!this[_0x2108c1(0x178)]){if(_0x29931e['oRalQ'](_0x29931e['kmWkB'],_0x29931e[_0x2108c1(0x14d)]))await this[_0x2108c1(0x10f)]();else{_0x5cb3a4[_0x2108c1(0x1ad)](_0x29931e[_0x2108c1(0xc5)]);const _0x1299f2={};_0x1299f2[_0x2108c1(0x16c)]=_0x3ea303[_0x2108c1(0xd8)],_0x1299f2[_0x2108c1(0x120)]=_0x29931e[_0x2108c1(0xc5)],this[_0x2108c1(0x151)][_0x2108c1(0x253)](this[_0x2108c1(0x195)],_0x1299f2),_0x2a259a[_0x2108c1(0xb5)]['enabled']=!![];}}const _0x595e82=this['clusterInfo']?.[_0x2108c1(0xb5)]?.[_0x2108c1(0x1dc)];let _0x49443c=await fs[_0x2108c1(0xaa)](path[_0x2108c1(0xe7)](__dirname,'..',_0x29931e[_0x2108c1(0xd7)],_0x29931e[_0x2108c1(0x157)],_0x29931e[_0x2108c1(0x247)]),_0x29931e[_0x2108c1(0x9a)]);_0x49443c=JSON[_0x2108c1(0x9f)](_0x49443c);const _0x1b311c={};_0x1b311c[_0x2108c1(0x7d)]=_0x595e82,await this['resourceClient'][_0x2108c1(0xcb)][_0x2108c1(0x19e)](global_registry[_0x2108c1(0x230)],_0x29931e['DHzvV'],{'properties':{'template':_0x49443c,'mode':_0x29931e[_0x2108c1(0x1c4)],'parameters':{'oidcIssuer':_0x1b311c,'namespace':{'value':global_registry[_0x2108c1(0x21e)]},'clusterName':{'value':this[_0x2108c1(0x257)]}}}});}async[a1_0x30ce4f(0x8f)](){const _0x1ddab5=a1_0x30ce4f,_0x46b644={};_0x46b644[_0x1ddab5(0xd1)]=_0x1ddab5(0x70),_0x46b644['gXwJA']=function(_0x2b45e8,_0x1f65ed){return _0x2b45e8!==_0x1f65ed;},_0x46b644[_0x1ddab5(0x1b4)]=_0x1ddab5(0xf2),_0x46b644[_0x1ddab5(0x7c)]=function(_0x4ac663,_0x276e1b){return _0x4ac663===_0x276e1b;},_0x46b644['wzXbv']=_0x1ddab5(0x201),_0x46b644['TCWKD']=function(_0x48038e,_0x571c80){return _0x48038e===_0x571c80;},_0x46b644[_0x1ddab5(0x227)]=function(_0x2a7758,_0x7af8d1){return _0x2a7758!==_0x7af8d1;},_0x46b644[_0x1ddab5(0x1a3)]=_0x1ddab5(0x1aa),_0x46b644['QMzAh']=_0x1ddab5(0x9d);const _0x4393fb=_0x46b644,_0x3706a1=this['getStorageAccountName'](),_0x29078d=new Array();for await(const _0x4b70e7 of this[_0x1ddab5(0x147)][_0x1ddab5(0x186)]['listByResourceGroup'](global_registry['cloudProviderResourceGroup'])){if(_0x4393fb[_0x1ddab5(0x6a)](_0x4393fb[_0x1ddab5(0x1b4)],_0x4393fb[_0x1ddab5(0x1b4)]))return _0x59bf05[_0x1ddab5(0x1e0)][_0x1ddab5(0x188)]['ingress'][0x0]['hostname'];else _0x29078d[_0x1ddab5(0x1a5)](_0x4b70e7);}for await(const _0xff9d2 of _0x29078d){if(_0x4393fb[_0x1ddab5(0x7c)](_0x4393fb[_0x1ddab5(0xd5)],_0x4393fb[_0x1ddab5(0xd5)])){if(_0x4393fb[_0x1ddab5(0xa7)](_0xff9d2['name'],_0x3706a1)){if(_0x4393fb[_0x1ddab5(0x227)](_0x4393fb[_0x1ddab5(0x1a3)],_0x4393fb[_0x1ddab5(0x1e8)]))return!![];else _0x53100b['push'](..._0x308e85[_0x1ddab5(0x222)]);}}else throw new _0x383029(_0x4393fb['Pijzd'],_0x1ddab5(0x23d)+_0x62d4bb['stringify'](_0xed84a3));}return![];}async[a1_0x30ce4f(0x9c)](){const _0x74559b=a1_0x30ce4f,_0x546076={};_0x546076[_0x74559b(0x168)]=_0x74559b(0x1ab),_0x546076[_0x74559b(0x18c)]='Managed\x20identity\x20already\x20exists,\x20skipping',_0x546076['xdsKu']=function(_0x562f60,_0x321390){return _0x562f60!==_0x321390;},_0x546076[_0x74559b(0x1b5)]=_0x74559b(0x26b),_0x546076['OJTHW']='ALBMr',_0x546076[_0x74559b(0x24d)]=function(_0x51df47,_0x5b0dbf){return _0x51df47!==_0x5b0dbf;},_0x546076[_0x74559b(0xe0)]=_0x74559b(0xdb),_0x546076[_0x74559b(0x251)]=function(_0x2043ce,_0x4e6883){return _0x2043ce===_0x4e6883;},_0x546076['mbnRI']=_0x74559b(0x237);const _0x41a137=_0x546076,_0x478e30=new Array();for await(const _0x153a22 of this['resourceClient']['resources'][_0x74559b(0x22f)](global_registry['cloudProviderResourceGroup'])){_0x41a137[_0x74559b(0x126)](_0x41a137[_0x74559b(0x1b5)],_0x41a137[_0x74559b(0x1b9)])?_0x478e30[_0x74559b(0x1a5)](_0x153a22):_0x129aa0[_0x74559b(0x1ad)](_0x41a137[_0x74559b(0x168)]);}for await(const _0x33ef11 of _0x478e30){if(_0x41a137[_0x74559b(0x24d)](_0x41a137[_0x74559b(0xe0)],_0x41a137['iOyto']))_0x6fd09c['info'](_0x41a137['pIFQx']);else{if(_0x41a137[_0x74559b(0x251)](_0x33ef11['name'],_0x74559b(0xe8)+this['clusterName'])){if(_0x41a137[_0x74559b(0x251)](_0x41a137['mbnRI'],_0x41a137[_0x74559b(0x261)]))return!![];else return;}}}return![];}async[a1_0x30ce4f(0x17a)](_0x128cb6,_0x40d8ca=0x3){const _0x3fc076=a1_0x30ce4f,_0x148d5c={'aehAr':function(_0x38329f,_0x52565e){return _0x38329f+_0x52565e;},'AyZDp':_0x3fc076(0x138),'YKFKB':function(_0x1659e9,_0xb1c1b){return _0x1659e9-_0xb1c1b;},'SDbnr':_0x3fc076(0x1bf),'FMlsY':function(_0x1fef58,_0x3bfee9){return _0x1fef58===_0x3bfee9;},'qoBSS':_0x3fc076(0x1a2),'PjbSP':_0x3fc076(0xfd),'fMJwx':function(_0x4158ed,_0x365862,_0x7d2aa4){return _0x4158ed(_0x365862,_0x7d2aa4);},'bEguz':_0x3fc076(0xa2),'lvpoV':'JAVSb','FJeHH':_0x3fc076(0x15c),'CaUhz':'UjFnA','fVXGx':function(_0x147f7c,_0x4225f6){return _0x147f7c!==_0x4225f6;},'OaETa':_0x3fc076(0x18d),'OntKi':function(_0x29ba2f,_0x40eeb0){return _0x29ba2f!==_0x40eeb0;},'PJHnR':_0x3fc076(0x174),'FyGCx':_0x3fc076(0x1d6),'cFNCb':_0x3fc076(0x133),'uckXG':function(_0x15cede,_0x755c90){return _0x15cede!==_0x755c90;},'NBWLX':_0x3fc076(0x90),'LqWwA':_0x3fc076(0x11f),'xLUOW':function(_0x1870f3,_0xbda980){return _0x1870f3<=_0xbda980;},'VwwMv':function(_0x34c0b8,_0x14acc9){return _0x34c0b8!==_0x14acc9;},'jSmIR':_0x3fc076(0xf4),'sNaKU':'utkZZ','ehZSf':function(_0x1dde42,_0x3553b9){return _0x1dde42-_0x3553b9;}};try{if(_0x148d5c[_0x3fc076(0x100)](_0x148d5c[_0x3fc076(0x13d)],_0x148d5c[_0x3fc076(0x1ca)]))return!![];else{const _0x186e30=new Array();for await(const _0x5d5d68 of this[_0x3fc076(0x148)][_0x3fc076(0x10b)][_0x3fc076(0x22f)](global_registry[_0x3fc076(0x230)])){_0x148d5c[_0x3fc076(0x100)](_0x148d5c[_0x3fc076(0x11b)],_0x148d5c['CaUhz'])?_0x310485[_0x3fc076(0x1a5)](_0x46c688):_0x186e30[_0x3fc076(0x1a5)](_0x5d5d68);}let _0x5c6281='';for await(const _0x4e017b of _0x186e30){_0x148d5c['fVXGx'](_0x148d5c[_0x3fc076(0x12e)],_0x148d5c[_0x3fc076(0x12e)])?_0x212896['error']=_0x5a1732:_0x148d5c[_0x3fc076(0x100)](_0x4e017b[_0x3fc076(0x1d2)],_0x128cb6)&&(_0x148d5c[_0x3fc076(0x263)](_0x148d5c['PJHnR'],_0x148d5c[_0x3fc076(0x235)])?_0x5c6281=_0x4e017b['id']:_0x23f0a3[_0x3fc076(0x1a5)](_0x547287));}const _0x6b0940=await this[_0x3fc076(0x148)][_0x3fc076(0x10b)][_0x3fc076(0x202)](_0x5c6281,_0x148d5c['cFNCb']);return _0x6b0940[_0x3fc076(0x220)][_0x3fc076(0x1e3)];}}catch(_0x295556){if(_0x148d5c[_0x3fc076(0x13b)](_0x148d5c[_0x3fc076(0xc3)],_0x148d5c['LqWwA'])){if(_0x148d5c['xLUOW'](_0x40d8ca,0x0)){if(_0x148d5c[_0x3fc076(0x25a)](_0x148d5c[_0x3fc076(0x118)],_0x148d5c[_0x3fc076(0x1ed)]))return logger[_0x3fc076(0x1e2)](_0x3fc076(0x116)+_0x295556+':'+_0x295556['stack']),{};else{const _0x3f9eb8=_0x524938[_0x3fc076(0x217)][_0x3fc076(0x254)]('-'),_0x3f8d46=_0x148d5c[_0x3fc076(0xde)](_0x148d5c[_0x3fc076(0x155)],_0x3f9eb8[_0x148d5c[_0x3fc076(0x1c8)](_0x3f9eb8[_0x3fc076(0x12c)],0x1)])['slice'](0x0,0x18);return _0x3f8d46[_0x3fc076(0x26e)]();}}return await new Promise(_0x58260=>{const _0x1b98c2=_0x3fc076,_0x2f6430={};_0x2f6430[_0x1b98c2(0x1af)]=_0x148d5c[_0x1b98c2(0x154)];const _0x16467d=_0x2f6430;if(_0x148d5c[_0x1b98c2(0x100)](_0x148d5c[_0x1b98c2(0x84)],_0x148d5c[_0x1b98c2(0x130)])){_0x3b3c2b[_0x1b98c2(0x1ad)](_0x16467d[_0x1b98c2(0x1af)]);const _0x1d2b86={};_0x1d2b86[_0x1b98c2(0x16c)]=_0x325dc4[_0x1b98c2(0xd8)],_0x1d2b86['message']=_0x16467d[_0x1b98c2(0x1af)],this['webSocketUtils'][_0x1b98c2(0x253)](this[_0x1b98c2(0x195)],_0x1d2b86);const _0x519271={};_0x519271['enabled']=!![];const _0x5a605b={'workloadIdentity':_0x519271,..._0xfaa3e[_0x1b98c2(0x22d)]};_0x54b243[_0x1b98c2(0x22d)]=_0x5a605b;}else _0x148d5c[_0x1b98c2(0x135)](setTimeout,()=>_0x58260(),0x3e8);}),this[_0x3fc076(0x17a)](_0x128cb6,_0x148d5c[_0x3fc076(0x88)](_0x40d8ca,0x1));}else _0x303f02[_0x3fc076(0x1e2)]=_0x18b65b;}}async[a1_0x30ce4f(0x19c)](){const _0x4a28a9=a1_0x30ce4f,_0xc85608={};_0xc85608[_0x4a28a9(0x1b8)]=_0x4a28a9(0x134),_0xc85608[_0x4a28a9(0xb8)]=function(_0x8b02af,_0x45e68a){return _0x8b02af!==_0x45e68a;},_0xc85608[_0x4a28a9(0xf3)]=_0x4a28a9(0xf9),_0xc85608[_0x4a28a9(0x161)]=_0x4a28a9(0x20f),_0xc85608[_0x4a28a9(0xf5)]=function(_0x368486,_0x3da0f4){return _0x368486===_0x3da0f4;},_0xc85608[_0x4a28a9(0x164)]=_0x4a28a9(0x1fd),_0xc85608[_0x4a28a9(0x189)]='BrowserStack',_0xc85608[_0x4a28a9(0xba)]=function(_0x4e4713,_0x4d9a73){return _0x4e4713!==_0x4d9a73;},_0xc85608[_0x4a28a9(0x15a)]=_0x4a28a9(0x89),_0xc85608[_0x4a28a9(0x11a)]='oxFAF';const _0xb85740=_0xc85608;if(!this[_0x4a28a9(0x178)]){if(_0xb85740[_0x4a28a9(0xb8)](_0xb85740[_0x4a28a9(0xf3)],_0xb85740[_0x4a28a9(0x161)]))await this['getClusterInfo']();else return _0x12be2b[_0x4a28a9(0x1e2)]('Cannot\x20find\x20VPC\x20'+_0x2a00ad+'.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20'+_0x5e15d4),![];}const _0x215338=this[_0x4a28a9(0x178)]?.[_0x4a28a9(0xd2)]||{};if(_0x215338&&_0xb85740[_0x4a28a9(0xf5)](_0x215338[_0xb85740[_0x4a28a9(0x164)]],_0xb85740[_0x4a28a9(0x189)]))return _0xb85740[_0x4a28a9(0xba)](_0xb85740[_0x4a28a9(0x15a)],_0xb85740['bGify'])?!![]:(_0x14669b[_0x4a28a9(0x102)]=_0xb85740[_0x4a28a9(0x1b8)],_0x3483f6);return![];}async[a1_0x30ce4f(0x206)](_0x115835,_0x43eca2){const _0x5d30b9=a1_0x30ce4f,_0x260af7={'UWZIA':function(_0x2c4186,_0x184916){return _0x2c4186(_0x184916);},'FTwCm':function(_0x147e99,_0x1cdda1){return _0x147e99(_0x1cdda1);},'QgMEQ':'Deleted\x20the\x20cluster\x20successfully'};await _0x260af7[_0x5d30b9(0x162)](deleteAgent,_0x115835),await _0x260af7['FTwCm'](deleteRoutingDeps,_0x115835);const _0x456720=this[_0x5d30b9(0xfa)];logger[_0x5d30b9(0x1ad)](_0x5d30b9(0xeb)+this[_0x5d30b9(0x257)]),await _0x456720[_0x5d30b9(0x131)][_0x5d30b9(0x93)](global_registry[_0x5d30b9(0x230)],this[_0x5d30b9(0x257)]),logger[_0x5d30b9(0x1ad)](_0x260af7[_0x5d30b9(0x6c)]);}async['updateClusterAlreadyPresent'](){const _0x3244c9=a1_0x30ce4f,_0x228a0d={};_0x228a0d[_0x3244c9(0x12a)]=_0x3244c9(0x20d),_0x228a0d[_0x3244c9(0xc0)]=_0x3244c9(0x1c9),_0x228a0d[_0x3244c9(0x20e)]=function(_0x264e82,_0x2a008a){return _0x264e82===_0x2a008a;},_0x228a0d[_0x3244c9(0xc8)]='stmhn',_0x228a0d[_0x3244c9(0x85)]=function(_0x1d6f9b,_0x5ed3a2){return _0x1d6f9b&&_0x5ed3a2;},_0x228a0d[_0x3244c9(0x1cd)]=function(_0xc324e8,_0x315ef5){return _0xc324e8!==_0x315ef5;},_0x228a0d[_0x3244c9(0x132)]=_0x3244c9(0x1a9),_0x228a0d[_0x3244c9(0x15e)]=_0x3244c9(0x17c),_0x228a0d[_0x3244c9(0x226)]=function(_0x2ceee0,_0x3309cb){return _0x2ceee0===_0x3309cb;},_0x228a0d['ejpoQ']=_0x3244c9(0x214),_0x228a0d[_0x3244c9(0xcf)]='Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster',_0x228a0d[_0x3244c9(0x22a)]=_0x3244c9(0x1c7),_0x228a0d[_0x3244c9(0x1d0)]=_0x3244c9(0x1bf),_0x228a0d[_0x3244c9(0x127)]=_0x3244c9(0xe1),_0x228a0d[_0x3244c9(0xbd)]='Enabling\x20Local\x20account\x20for\x20the\x20cluster';const _0x42d827=_0x228a0d;!this[_0x3244c9(0x178)]&&(_0x42d827[_0x3244c9(0x20e)](_0x42d827[_0x3244c9(0xc8)],_0x42d827['JKlhn'])?await this['getClusterInfo']():(_0x446096[_0x3244c9(0x1e2)](_0x42d827['NuRaP']),_0x2c92f7['exit'](0x1)));const _0x3bfba2=this[_0x3244c9(0x178)],_0x2a9695=this[_0x3244c9(0x178)]?.[_0x3244c9(0xb5)]?.['enabled']||![],_0x5a4721=this['clusterInfo']?.[_0x3244c9(0x22d)]?.[_0x3244c9(0xee)]?.[_0x3244c9(0x170)]||![],_0x5e587b=!this['clusterInfo']?.[_0x3244c9(0x76)]||![];if(_0x42d827[_0x3244c9(0x85)](_0x2a9695,_0x5a4721)&&_0x5e587b){if(_0x42d827[_0x3244c9(0x1cd)](_0x42d827[_0x3244c9(0x132)],_0x42d827['qAsJh']))return;else{const _0xd12954=_0x42d827[_0x3244c9(0xc0)]['split']('|');let _0x581fcf=0x0;while(!![]){switch(_0xd12954[_0x581fcf++]){case'0':_0x1438db['cloudProviderSubscriptionId']=_0x535dee[this['cloudProviderName']][_0x3244c9(0x1b7)];continue;case'1':_0x1d306c['cloudProviderResourceGroup']=_0x2af8f0[this['cloudProviderName']][_0x3244c9(0x96)];continue;case'2':this['setClients']();continue;case'3':_0x3411bd[_0x3244c9(0x1d5)]=_0x477013[this[_0x3244c9(0x142)]]['tenantId'];continue;case'4':_0x1bc87c[_0x3244c9(0x25d)]=_0x3ab2ba[this[_0x3244c9(0x142)]]['clientId'];continue;case'5':_0x186965[_0x3244c9(0x249)]=_0x1abee5[this[_0x3244c9(0x142)]][_0x3244c9(0x11e)];continue;}break;}}}if(!_0x2a9695){if(_0x42d827[_0x3244c9(0x226)](_0x42d827[_0x3244c9(0x210)],_0x42d827[_0x3244c9(0x210)])){logger[_0x3244c9(0x1ad)](_0x42d827[_0x3244c9(0xcf)]);const _0xcd4730={};_0xcd4730['type']=WS_EVENTS[_0x3244c9(0xd8)],_0xcd4730[_0x3244c9(0x120)]=_0x42d827['AuffN'],this['webSocketUtils'][_0x3244c9(0x253)](this[_0x3244c9(0x195)],_0xcd4730),_0x3bfba2[_0x3244c9(0xb5)][_0x3244c9(0x170)]=!![];}else _0x42d827[_0x3244c9(0x20e)](_0x362cd7[_0x3244c9(0x1d2)],_0x38a88e)&&(_0x42d3b7=_0x232ca7['id']);}if(!_0x5a4721){if(_0x42d827['DxuaQ'](_0x42d827[_0x3244c9(0x22a)],_0x42d827[_0x3244c9(0x22a)]))_0x4e39d9=_0x2e64a4['id'];else{logger[_0x3244c9(0x1ad)](_0x42d827[_0x3244c9(0x1d0)]);const _0x4ae3fc={};_0x4ae3fc['type']=WS_EVENTS[_0x3244c9(0xd8)],_0x4ae3fc[_0x3244c9(0x120)]=_0x42d827[_0x3244c9(0x1d0)],this['webSocketUtils'][_0x3244c9(0x253)](this['rws'],_0x4ae3fc);const _0x395931={};_0x395931[_0x3244c9(0x170)]=!![],_0x3bfba2[_0x3244c9(0x22d)]={'workloadIdentity':_0x395931,..._0x3bfba2[_0x3244c9(0x22d)]};}}if(!_0x5e587b){if(_0x42d827[_0x3244c9(0x1cd)](_0x42d827['MAlks'],_0x42d827[_0x3244c9(0x127)])){const _0x2e9318=new _0x58372b(_0x1994c4[_0x3244c9(0x1d5)],_0x956b4b[_0x3244c9(0x25d)],_0xf66551[_0x3244c9(0x249)]);this[_0x3244c9(0xfa)]=new _0x5d250e(_0x2e9318,_0x7ebec7[_0x3244c9(0x1cb)]),this[_0x3244c9(0x147)]=new _0x4aafb3(_0x2e9318,_0x4cde66[_0x3244c9(0x1cb)]),this[_0x3244c9(0x148)]=new _0x43db31(_0x2e9318,_0x1b356f[_0x3244c9(0x1cb)]),this[_0x3244c9(0x152)]=new _0x2a1ef5(_0x2e9318,_0xf61ca3[_0x3244c9(0x1cb)]),this[_0x3244c9(0x234)]=new _0x16e5dc(_0x2e9318,_0x2280c6[_0x3244c9(0x1cb)]),this[_0x3244c9(0x14e)]=_0x2e9318;}else{logger[_0x3244c9(0x1ad)](_0x42d827[_0x3244c9(0xbd)]);const _0xbfaaef={};_0xbfaaef['type']=WS_EVENTS[_0x3244c9(0xd8)],_0xbfaaef[_0x3244c9(0x120)]=_0x42d827['zAJrU'],this[_0x3244c9(0x151)][_0x3244c9(0x253)](this[_0x3244c9(0x195)],_0xbfaaef),_0x3bfba2[_0x3244c9(0x76)]=![];}}await this[_0x3244c9(0xfa)][_0x3244c9(0x131)]['beginCreateOrUpdateAndWait'](global_registry[_0x3244c9(0x230)],this['clusterName'],_0x3bfba2),await this[_0x3244c9(0x10f)]();}async[a1_0x30ce4f(0x198)](){const _0x3e13fc=a1_0x30ce4f,_0x1d148e={};_0x1d148e[_0x3e13fc(0x86)]=function(_0x426f6b,_0x11b270){return _0x426f6b!==_0x11b270;},_0x1d148e['fiypa']=_0x3e13fc(0x194),_0x1d148e[_0x3e13fc(0x21b)]=_0x3e13fc(0x244);const _0x456baf=_0x1d148e,_0x18fa4a=await this[_0x3e13fc(0x152)][_0x3e13fc(0x24b)][_0x3e13fc(0x112)](global_registry['cloudProviderResourceGroup']),_0x2002ac={};_0x2002ac[_0x3e13fc(0x26c)]=global_registry['bstackUsername'],_0x2002ac[_0x3e13fc(0x98)]=global_registry['bstackAccesskey'],_0x2002ac[_0x3e13fc(0xad)]=AZURE,_0x2002ac[_0x3e13fc(0xff)]=[];const _0x1f4019=_0x2002ac;for await(const _0x405cea of _0x18fa4a){if(_0x456baf[_0x3e13fc(0x86)](_0x456baf[_0x3e13fc(0x1d1)],_0x456baf['UHBth']))_0x1f4019[_0x3e13fc(0xff)]['push'](_0x405cea);else return _0x467e4f['error']('[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20'+_0x323d08+':'+_0x47dc3c[_0x3e13fc(0x1ee)]),{};}const _0x119561={};_0x119561[_0x3e13fc(0x16c)]=WS_EVENTS[_0x3e13fc(0xd8)],_0x119561[_0x3e13fc(0x120)]=_0x1f4019,this['webSocketUtils']['sendEventToBackend'](this['rws'],_0x119561);}async[a1_0x30ce4f(0x213)](_0xb0dee8){const _0x4176a3=a1_0x30ce4f,_0x22cfb5={};_0x22cfb5['nOHOh']=function(_0xe8d2c5,_0x2f8f03){return _0xe8d2c5===_0x2f8f03;},_0x22cfb5[_0x4176a3(0x262)]=_0x4176a3(0x1c1),_0x22cfb5['cdQMH']=_0x4176a3(0x1fb),_0x22cfb5[_0x4176a3(0x25f)]=_0x4176a3(0x143),_0x22cfb5['tqqAI']='[variables(\x27vnetSubnetID\x27)]',_0x22cfb5[_0x4176a3(0x7a)]=function(_0xee44ca,_0x52a5e7){return _0xee44ca===_0x52a5e7;},_0x22cfb5['WLaPw']=_0x4176a3(0x6f),_0x22cfb5[_0x4176a3(0x1c0)]='mYFgY',_0x22cfb5[_0x4176a3(0x242)]=_0x4176a3(0x1dd),_0x22cfb5['yOZIW']=function(_0x146847,_0x7608e1){return _0x146847===_0x7608e1;},_0x22cfb5[_0x4176a3(0x224)]=function(_0x1c3abf,_0x5b2533){return _0x1c3abf!==_0x5b2533;},_0x22cfb5[_0x4176a3(0x1bd)]=_0x4176a3(0xdf),_0x22cfb5[_0x4176a3(0x245)]=_0x4176a3(0x122),_0x22cfb5['mUtcM']=_0x4176a3(0xb3);const _0x59c748=_0x22cfb5;try{if(_0x59c748[_0x4176a3(0x7a)](_0x59c748['WLaPw'],_0x59c748[_0x4176a3(0x1cf)])){const _0x1b95df=await this[_0x4176a3(0x152)][_0x4176a3(0x24b)][_0x4176a3(0x112)](global_registry[_0x4176a3(0x230)]);for await(const _0x5527a of _0x1b95df){if(_0x59c748[_0x4176a3(0x1f9)](_0x59c748[_0x4176a3(0x1c0)],_0x59c748[_0x4176a3(0x242)])){if(_0x59c748[_0x4176a3(0x1f9)](_0x5d98ef['name'],'turboscale-managed-identity-'+this[_0x4176a3(0x257)]))return!![];}else{if(_0x59c748[_0x4176a3(0x14a)](_0x5527a[_0x4176a3(0x1d2)],_0xb0dee8))return _0x59c748['FCjLV'](_0x59c748[_0x4176a3(0x1bd)],_0x59c748[_0x4176a3(0x245)])?!![]:!![];}}}else return!![];}catch(_0x106888){if(_0x59c748['FCjLV'](_0x59c748[_0x4176a3(0xb4)],_0x59c748[_0x4176a3(0xb4)])){const _0x4b2ae7={};_0x4b2ae7[_0x4176a3(0x16c)]=_0x59c748[_0x4176a3(0x262)],_0x4b2ae7[_0x4176a3(0x259)]={},_0x4b2ae7[_0x4176a3(0x259)][_0x4176a3(0x20c)]=_0x59c748[_0x4176a3(0x16a)];const _0x52076d={};_0x52076d['type']=_0x59c748[_0x4176a3(0x262)],_0x52076d[_0x4176a3(0x259)]={},_0x52076d[_0x4176a3(0x259)][_0x4176a3(0x20c)]=_0x59c748[_0x4176a3(0x16a)];const _0x20497b={..._0x5ebb99[_0x4176a3(0x9b)]};_0x20497b['vpcName']=_0x4b2ae7,_0x20497b['subnetName']=_0x52076d,_0x16d656[_0x4176a3(0x9b)]=_0x20497b;const _0x71aeaa={};_0x71aeaa[_0x4176a3(0x200)]=_0x59c748[_0x4176a3(0x25f)],_0x5294db[_0x4176a3(0x1f0)]=_0x71aeaa;const _0x59bfad={..._0x442cc6[_0x4176a3(0x10b)][0x0]['properties'][_0x4176a3(0x99)][0x0]};_0x59bfad[_0x4176a3(0x200)]=_0x59c748[_0x4176a3(0x141)],_0x1ae149[_0x4176a3(0x10b)][0x0][_0x4176a3(0x220)]['agentPoolProfiles'][0x0]=_0x59bfad;const _0x2fe141={};_0x2fe141[_0x4176a3(0x7d)]=_0x347ce6;const _0x3ea02c={};_0x3ea02c[_0x4176a3(0x7d)]=_0x5017c3[0x0];const _0xdc5c7d={..._0x1a3b1c};_0xdc5c7d[_0x4176a3(0x156)]=_0x2fe141,_0xdc5c7d['subnetName']=_0x3ea02c,_0x1df1dd=_0xdc5c7d;}else return logger[_0x4176a3(0x1e2)](_0x4176a3(0x1d8)+_0xb0dee8+_0x4176a3(0x22e)+_0x106888),![];}return![];}async[a1_0x30ce4f(0x268)](_0x4095e8,_0x3e1556){const _0xbafe53=a1_0x30ce4f,_0x2bf1a3={};_0x2bf1a3['RwYDC']=_0xbafe53(0xd4),_0x2bf1a3[_0xbafe53(0x129)]=function(_0x399633,_0x1c5e85){return _0x399633!==_0x1c5e85;},_0x2bf1a3['wGRLx']='OuTEC',_0x2bf1a3[_0xbafe53(0x145)]=_0xbafe53(0x221),_0x2bf1a3[_0xbafe53(0xf7)]=function(_0xb5bc09,_0x4447d5){return _0xb5bc09===_0x4447d5;},_0x2bf1a3[_0xbafe53(0x18a)]=_0xbafe53(0x1bc);const _0x3e788e=_0x2bf1a3;try{if(_0x3e788e['lcrHS'](_0x3e788e[_0xbafe53(0x109)],_0x3e788e['Sqied'])){const _0x1aed5a=await this[_0xbafe53(0x152)][_0xbafe53(0x16d)][_0xbafe53(0x124)](global_registry[_0xbafe53(0x230)],_0x3e1556,_0x4095e8[0x0]);if(_0x3e788e[_0xbafe53(0xf7)](_0x4095e8[0x0],_0x1aed5a[_0xbafe53(0x1d2)])){if(_0x3e788e[_0xbafe53(0xf7)](_0x3e788e[_0xbafe53(0x18a)],_0x3e788e[_0xbafe53(0x18a)]))return[!![],_0x4095e8];else _0x551e18['vpcInfo'][_0xbafe53(0x1a5)](_0x5dbfd4);}}else return _0x24ae9d['data']=_0x3e788e[_0xbafe53(0x1b6)],_0x48fe79;}catch(_0x4bafff){return logger[_0xbafe53(0x1e2)](_0xbafe53(0x97)+_0x4095e8+'.\x20Error:\x20'+_0x4bafff),[![],[]];}return[![],[]];}async['isCliToolInstalled'](){const _0x22bd3e=a1_0x30ce4f,_0x50495a={};_0x50495a[_0x22bd3e(0x1cc)]='No\x20CLI\x20tool\x20required';const _0x12b8f7=_0x50495a,_0xa1ce00={};_0xa1ce00[_0x22bd3e(0x1e0)]=!![],_0xa1ce00[_0x22bd3e(0x1e2)]=null,_0xa1ce00['data']=_0x12b8f7[_0x22bd3e(0x1cc)];const _0x2af4d4=_0xa1ce00;return _0x2af4d4;}async[a1_0x30ce4f(0x10d)](){const _0x541b50=a1_0x30ce4f,_0x418f9d={};_0x418f9d['rBhtW']=_0x541b50(0x212),_0x418f9d[_0x541b50(0xf8)]=_0x541b50(0x17d),_0x418f9d[_0x541b50(0x166)]=_0x541b50(0x172);const _0x3e5e5c=_0x418f9d,_0x72eee=await this[_0x541b50(0x14e)][_0x541b50(0x17f)](_0x3e5e5c[_0x541b50(0x10e)]),_0x29885a={};_0x29885a[_0x541b50(0x23a)]=_0x3e5e5c[_0x541b50(0xf8)],_0x29885a[_0x541b50(0x1a7)]={},_0x29885a[_0x541b50(0x1a7)][_0x541b50(0x241)]='Bearer\x20'+_0x72eee['token'],_0x29885a[_0x541b50(0x1a7)][_0x541b50(0x1c6)]=_0x3e5e5c['dgKrh'];const _0x4f64f1=_0x29885a;return _0x4f64f1;}async[a1_0x30ce4f(0x14c)](_0x4886ba){const _0x171aad=a1_0x30ce4f,_0x30e77b={'jNUlq':function(_0x16d674,_0x474596,_0x5f2259){return _0x16d674(_0x474596,_0x5f2259);},'raTUK':function(_0x113fc5,_0x1617d4){return _0x113fc5===_0x1617d4;},'begDq':_0x171aad(0x70)},_0x1b0bfc={};_0x1b0bfc[_0x171aad(0x144)]='',_0x1b0bfc['error']=null;const _0x25b470=_0x1b0bfc;try{const _0x2b972c=_0x171aad(0x26d)+_0x4886ba+'\x27',_0x11fa76=await this['getHeader'](),_0x16bf85=await _0x30e77b['jNUlq'](fetch,_0x2b972c,_0x11fa76),_0x358b27=await _0x16bf85[_0x171aad(0x22b)]();if(!_0x358b27['value']||_0x30e77b[_0x171aad(0x1e7)](_0x358b27[_0x171aad(0x7d)]['length'],0x0))throw new Error(_0x30e77b[_0x171aad(0x208)],_0x171aad(0x23d)+JSON[_0x171aad(0xe5)](_0x358b27));_0x25b470[_0x171aad(0x144)]=_0x358b27['value'][0x0]['id'];}catch(_0x421c97){_0x25b470[_0x171aad(0x1e2)]=_0x421c97;}return _0x25b470;}async['checkAccess'](){const _0x7b2a62=a1_0x30ce4f,_0x5dc0b1={};_0x5dc0b1[_0x7b2a62(0x19f)]=_0x7b2a62(0x24e),_0x5dc0b1['SuhfU']=_0x7b2a62(0x1d7),_0x5dc0b1['FTagz']=function(_0x2b3d6e,_0x28567e){return _0x2b3d6e!==_0x28567e;},_0x5dc0b1[_0x7b2a62(0x11c)]=function(_0x2f8280,_0x19de56){return _0x2f8280===_0x19de56;},_0x5dc0b1['TzqNV']=_0x7b2a62(0xd4),_0x5dc0b1['AQhpx']=function(_0x981b,_0x48ea2b){return _0x981b===_0x48ea2b;},_0x5dc0b1[_0x7b2a62(0x24a)]='No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles',_0x5dc0b1[_0x7b2a62(0x16b)]=_0x7b2a62(0x8b);const _0x33eaff=_0x5dc0b1,_0x2f89ee={};_0x2f89ee['status']=![],_0x2f89ee[_0x7b2a62(0x1e2)]=null,_0x2f89ee[_0x7b2a62(0x102)]='';const _0x5b3c05=_0x2f89ee;try{let _0x16cf99='';const _0x5ca781='subscriptions/'+global_registry[_0x7b2a62(0x1cb)]+_0x7b2a62(0x119)+global_registry[_0x7b2a62(0x230)],_0x4ed8c0=await this[_0x7b2a62(0x14c)](global_registry['cloudProviderClientId']);if(_0x33eaff[_0x7b2a62(0x269)](_0x4ed8c0[_0x7b2a62(0x1e2)],null))return _0x5b3c05[_0x7b2a62(0x1e2)]=_0x4ed8c0['error'],_0x5b3c05;const _0x50f549=_0x7b2a62(0x8e)+_0x4ed8c0[_0x7b2a62(0x144)]+'\x27)',_0x1aaae3={};_0x1aaae3['filter']=_0x50f549;const _0x5b2d5d=await this[_0x7b2a62(0x234)][_0x7b2a62(0x13f)][_0x7b2a62(0xbb)](_0x5ca781,_0x1aaae3),_0x1a8b0e=[];for await(const _0x290a69 of _0x5b2d5d){_0x1a8b0e[_0x7b2a62(0x1a5)](_0x290a69);}if(_0x33eaff[_0x7b2a62(0x11c)](_0x1a8b0e[_0x7b2a62(0x12c)],0x0))return _0x5b3c05['data']=_0x33eaff[_0x7b2a62(0x158)],_0x5b3c05;const _0x253420=[...new Set(_0x1a8b0e['map'](_0x227a92=>_0x227a92['roleDefinitionId']))];if(_0x33eaff[_0x7b2a62(0x1da)](_0x253420['length'],0x0))return _0x5b3c05[_0x7b2a62(0x102)]=_0x33eaff[_0x7b2a62(0x24a)],_0x5b3c05;const _0x32646b=[],_0xf08562=[];for(const _0x33d933 of _0x253420){const _0x2a9f7d=await this[_0x7b2a62(0x234)][_0x7b2a62(0x231)]['getById'](_0x33d933);logger[_0x7b2a62(0x115)](_0x7b2a62(0x69)+_0x2a9f7d[_0x7b2a62(0x180)]),_0x32646b['push'](_0x2a9f7d),logger['debug'](_0x7b2a62(0x20b)+JSON[_0x7b2a62(0xe5)](_0x2a9f7d[_0x7b2a62(0x110)])),_0x2a9f7d[_0x7b2a62(0x110)]['forEach'](_0x4c6b5c=>{const _0xe2b3b8=_0x7b2a62;_0xf08562[_0xe2b3b8(0x1a5)](..._0x4c6b5c[_0xe2b3b8(0x222)]);});}logger['debug'](_0x7b2a62(0xe9)+JSON['stringify'](_0xf08562)),_0x33eaff[_0x7b2a62(0x11c)](_0xf08562[_0x7b2a62(0x12c)],0x0)&&(_0x16cf99+=_0x33eaff[_0x7b2a62(0x11c)](_0xf08562[_0x7b2a62(0x12c)],0x0)?_0x33eaff[_0x7b2a62(0x16b)]:'',logger[_0x7b2a62(0x115)]('Role\x20definition\x20response\x20list\x20\x20:\x20\x20'+JSON[_0x7b2a62(0xe5)](_0x32646b))),_0x5b3c05['status']=!![],Object['entries'](PERMISSIONS[_0x7b2a62(0x228)])['forEach'](([_0x5edce0,_0xe209c7])=>{const _0x5a00d7=_0x7b2a62,_0x1b173f=_0xf08562['includes'](_0x5edce0);_0x16cf99+='\x0a\x09'+_0xe209c7+':\x20'+(_0x1b173f?_0x33eaff[_0x5a00d7(0x19f)]:_0x33eaff[_0x5a00d7(0x1a8)]),!_0x1b173f&&(_0x5b3c05[_0x5a00d7(0x1e0)]=![]);}),_0x5b3c05[_0x7b2a62(0x102)]=_0x16cf99;}catch(_0x95379c){_0x5b3c05['error']=_0x95379c;}return _0x5b3c05;}}const a1_0x1279dc={};a1_0x1279dc[a1_0x30ce4f(0x1b0)]=AzureCloudProvider,module[a1_0x30ce4f(0xb1)]=a1_0x1279dc;