const a1_0x9ec1e4=a1_0x2368;(function(_0x5a07ea,_0x8f0361){const _0x252184=a1_0x2368,_0x4571ea=_0x5a07ea();while(!![]){try{const _0xdbe3ef=parseInt(_0x252184(0x2a8))/0x1+parseInt(_0x252184(0x2c5))/0x2+-parseInt(_0x252184(0x281))/0x3*(-parseInt(_0x252184(0x2e1))/0x4)+-parseInt(_0x252184(0x2da))/0x5*(parseInt(_0x252184(0x285))/0x6)+parseInt(_0x252184(0x280))/0x7*(parseInt(_0x252184(0x1a7))/0x8)+parseInt(_0x252184(0x300))/0x9+-parseInt(_0x252184(0x240))/0xa;if(_0xdbe3ef===_0x8f0361)break;else _0x4571ea['push'](_0x4571ea['shift']());}catch(_0x13e8d7){_0x4571ea['push'](_0x4571ea['shift']());}}}(a1_0x4a42,0xe5514));const fs=require('fs'),path=require(a1_0x9ec1e4(0x146)),yaml=require(a1_0x9ec1e4(0x196)),{logger}=require(a1_0x9ec1e4(0x307)),{CloudProvider}=require('./CloudProvider'),{deleteRoutingDeps,deleteAgent}=require(a1_0x9ec1e4(0x189)),{AZURE,WS_EVENTS,global_registry}=require(a1_0x9ec1e4(0x21e)),PERMISSIONS=require(a1_0x9ec1e4(0x287)),{ClientSecretCredential}=require(a1_0x9ec1e4(0x273)),{NetworkManagementClient}=require(a1_0x9ec1e4(0x218)),{StorageManagementClient}=require(a1_0x9ec1e4(0x308)),{AuthorizationManagementClient}=require(a1_0x9ec1e4(0x27b)),{ResourceManagementClient}=require(a1_0x9ec1e4(0x202)),{ContainerServiceClient}=require('@azure/arm-containerservice'),{runCommand}=require(a1_0x9ec1e4(0x25e));function a1_0x4a42(){const _0x4f4e24=['231049tjcyVI','2916477MFSdiI','ETUKA','cred','OCnAO','384faughr','beAhp','../permissions/AZURE.json','dGPWZ','setClients','actions','templates','zyLBG','cGsET','LmITS','meHSY','createOrUpdate','iuSYC','XOIsR','jeWCE','cbMGh','dWaKU','\x20SUBSCRIPTION\x20ID:\x20','Gfzws','Niere','lZTFZ','storageAccounts','Attached\x20permissions\x20:\x20','BOKGg','qfPJB','vpcInfo','oiRaM','No\x20attached\x20role\x20for\x20the\x20client\x20key','FcRgj','DobvI','createFederatedAccount','daysAfterCreationGreaterThan','cGslY','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','mvHCj','1108180TzfoaH','ToLCT','aeveU','GUJij','roleDefinitionId','exit','ziHbA','JpGNg','ElDfg','filters','storageaccount.json','Created\x20Azure\x20federated\x20identity','node','error','ASlfi','JdEUs','value','abHVp','instanceType','oRfkY','MFzBY','khhNC','filter','GaWNc','ADqHv','HXHvG','aFBJN','dubkc','\x20RESOURCE\x20GROUP:\x20','389008RtiNut','oAYca','blobTypes','blockBlob','CvIma','FYYcC','Hghiz','stack','cloudProviderResourceGroup','clientId','isStorageAccountPresent','authClient','bstackUsername','[variables(\x27vnetSubnetID\x27)]','createManagedIdentity','.\x20Error:\x20','HNrMN','storageAccountName','createStorageAccount','owlAR','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','24155WCNCIV','WzXlw','roleDefinitions','resourceClient','qWIkn','rTSLw','mykjp','4pDJzuh','cSxue','fTBeB','kubeconfigs','isBrowserstackCluster','ZbsEK','OPtus','FCKjI','nzSlV','kNqeO','createFederatedAccountForHubHA','getToken','getResourceClientId','clusterInfo','goxjf','\x20CLIENT\x20SECRET:\x20','spfVa','log','getClusterInfo','ghUoY','NxDEQ','cloudProviderTenantId','dhWgG','updateClusterAlreadyPresent','qlEyX','jsRzn','tenantId','4|2|1|5|3|0','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','mJLkU','WjVeH','13720689gGaYmM','uvbyb','Authorization','name','Yuste','vSbby','listByResourceGroup','../config/logger','@azure/arm-storage','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','managementPolicies','Bearer\x20','debug','role\x20name\x20attached\x20-\x20','ZmpHY','CXIHf','policy','networkClient','EjuXv','Azxlm','.json','turboscale-cluster-deployment','cloudProviderName','JEfKp','Incremental','vyfRK','msRSz','XeAeM','Vimjd','DnIbC','length','gRZHj','mfjTS','ZoWLm','CcxvT','allowed','securityProfile','ntnPV','disableLocalAccounts','wqtVF','LEIeE','containerClient','qVvMr','vEZbG','Found\x20only\x20one\x20resource\x20group:\x20','turboscale','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','username','roleAssignments','ezPgs','RESOURCES','KPMUT','path','Wfhqe','ARrsh','vPxpD','subscriptions/','turboscale-managed-identity-','KzFOg','AFmLi','vPHPl','CmmPf','pkyGA','bqsZi','TnlxK','hLkKK','lyHqH','SjotT','IXawf','RVLHZ','LzlWZ','ECRpV','getKubeConfigData','fhvFU','split','listForScope','iaCGr','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','gKcLr','uzWvg','iBQwz','getStorageAccountName','WhoSS','HkEsL','subscriptionId','OrbBo','ZzuqS','DOEZV','nLYTC','location','uTrus','WmuzG','cOkiS','Lifecycle','map','jCOlX','baseBlob','wpOCR','SXwdS','gEUfv','rVaYO','UAZPB','YYbok','TFziQ','kOdfB','pRuwm','HWTIS','userMaxNodes','info','5|0|3|2|1|4','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','tNbse','LDonL','entries','MSpbV','nlKcT','FgIXe','OnfgJ','TNmxu','../utils/gridComponents','toLowerCase','sendAzureInfoToHST','VQrco','vdLOP','getPrincipalIdFromClientId','resourceGroup','mWalp','message','push','ncxej','toString','cloudProviderClientSecret','js-yaml','join','iHsxy','subnets','Blfqu','Cannot\x20find\x20subnets\x20','listClusterAdminCredentials','GET','EuZoO','QwKex','Received\x20response\x20-\x20','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','hubHaNameSpace','awqXW','SeyDA','XwIVN','3|4|0|1|5|2','48WJgACR','zqjRy','dgKwu','hostname','hugJy','No\x20service\x20principal\x20found','rws','2023-01-31','turboscale-storageaccount-deployment','storageClient','BrowserStack','parameters','YHwoY','properties','cloudProviderClientId','isClusterPresent','FKKZq','wihFO','DXoNt','qAtMp','jmscx','assignedTo(\x27','isManagedIdentityPresent','YBvpU','tCuGT','WZxEc','ingress','zIpid','zoiPI','xmuYC','JLbqO','EVBrz','data','KJZnO','https://graph.microsoft.com/.default','Creating\x20Azure\x20storage\x20account','USbBh','getHeader','gPrMU','XdRwn','azureresources','isVPCPresent','pSZAp','fBeTV','GvIdF','TzcTl','turboscale-identity-deployment','Content-Type','Managed\x20identity\x20already\x20exists,\x20skipping','principalId','exports','iZpAL','tSANB','init','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','get','IFzZY','description','WVQKE','list','SFSjr','\x20TENANT\x20ID:\x20','status','VEnzD','QsZOm','type','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','aqXxu','gqKqX','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','forEach','Lqkso','MCQBZ','MNEbo','vEdCr','parse','ZgTcR','uoomF','userInstanceType','subnetName','DrwzK','isCliToolInstalled','cloudProviderSubscriptionId','bstackAccesskey','oFUvZ','includes','nemCw','cFnUo','ImYSN','IuATs','UTGyb','@azure/arm-resources','agentPoolProfiles','eWSGq','resources','WhsuB','kiBnY','IQluK','tsDbI','BCoDf','tDNvo','federatedidentityuploader.json','virtualNetworks','rzWwM','RUyjo','LOG','VDwGM','uUdYd','pnLki','turboscale-federated-deployment','SQaCm','createCluster','oidcIssuerProfile','@azure/arm-network','vnetSubnetID','json','Cannot\x20find\x20VPC\x20','UDMRt','wMDdE','../config/constants','deployments','LcCVP','utf-8','managedClusters','Xxgge','issuerURL','createOtherResources','tags','stringify','HzqIL','headers','rivIe','string','beaBs','Deleting\x20the\x20cluster\x20','getById','RSomW','delete','listAll','metadata','clusterName','denied','aEIIC','Action\x20permission\x20list\x20is\x20empty\x0a','definition','Aeslh','HiBFD','uZUah','permissions','beginCreateOrUpdateAndWait','yqWDw','wUsAi','kmXEK','27489380VvudWs','Jinfs','default','TuvnX','gkROT','dSJMW','variables','bxutE','nahSk','hub','rmMMy','sendEventToBackend','getGridHostname','getResourceGroups','vpcName','token','nzEzP','enabled','roleName','\x20CLIENT\x20ID:\x20','Storage\x20account\x20already\x20exists,\x20skipping','SYieq','AGQHv','mHsPe','jurnu','CCTuY','nCdjV','Blob\x20delete\x20lifecycle','PkJbG','bIxMh','../utils/utilityMethods','ofijY','UfBDW','fjCCL','jnKix','maxNodes','webSocketUtils','slice','PcKRo','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','SPLZw','cNEqz','krVGr','XdYrG','Creating\x20Azure\x20federated\x20identity','ylmUs','clientSecret','oXRMS','VFVec','managedidentity.json','PovVl','@azure/identity','readFileAsync','HcmIN','checkAccess','setupNewCluster','akscluster.json','TfaBQ','/resourceGroups/','@azure/arm-authorization','ohZul','workloadIdentity','oVUtJ','SJUvW'];a1_0x4a42=function(){return _0x4f4e24;};return a1_0x4a42();}class AzureCloudProvider extends CloudProvider{constructor(_0x60895f,_0x587a14,_0x202315,_0x531467){const _0x15a1e6=a1_0x9ec1e4,_0x4a36f4={};_0x4a36f4[_0x15a1e6(0x156)]='0|2|3|1|4|7|6|5';const _0x421c0e=_0x4a36f4,_0x93da7e=_0x421c0e['IXawf']['split']('|');let _0x57c89c=0x0;while(!![]){switch(_0x93da7e[_0x57c89c++]){case'0':super(AZURE,_0x60895f,_0x587a14,_0x202315,_0x531467);continue;case'1':this[_0x15a1e6(0x13b)]=null;continue;case'2':this[_0x15a1e6(0x283)]=null;continue;case'3':this['clusterInfo']=null;continue;case'4':this[_0x15a1e6(0x1b0)]=null;continue;case'5':this[_0x15a1e6(0x2d0)]=null;continue;case'6':this[_0x15a1e6(0x311)]=null;continue;case'7':this[_0x15a1e6(0x2dd)]=null;continue;}break;}}async[a1_0x9ec1e4(0x1dc)](){return await super['init'](),this;}['setClients'](){const _0x53724e=a1_0x9ec1e4,_0x4803f8=new ClientSecretCredential(global_registry[_0x53724e(0x2f6)],global_registry[_0x53724e(0x1b5)],global_registry[_0x53724e(0x195)]);this[_0x53724e(0x13b)]=new ContainerServiceClient(_0x4803f8,global_registry[_0x53724e(0x1f9)]),this[_0x53724e(0x1b0)]=new StorageManagementClient(_0x4803f8,global_registry[_0x53724e(0x1f9)]),this[_0x53724e(0x2dd)]=new ResourceManagementClient(_0x4803f8,global_registry[_0x53724e(0x1f9)]),this[_0x53724e(0x311)]=new NetworkManagementClient(_0x4803f8,global_registry['cloudProviderSubscriptionId']),this[_0x53724e(0x2d0)]=new AuthorizationManagementClient(_0x4803f8,global_registry['cloudProviderSubscriptionId']),this[_0x53724e(0x283)]=_0x4803f8;}[a1_0x9ec1e4(0x163)](){const _0x3c3729=a1_0x9ec1e4,_0x10f5d1={};_0x10f5d1[_0x3c3729(0x2e2)]=function(_0xebdfc7,_0x5e0f9f){return _0xebdfc7+_0x5e0f9f;},_0x10f5d1[_0x3c3729(0x244)]=_0x3c3729(0x13f),_0x10f5d1[_0x3c3729(0x2c1)]=function(_0x4f5597,_0x55915a){return _0x4f5597-_0x55915a;};const _0x13563a=_0x10f5d1,_0x56ba47=global_registry['s3Bucket'][_0x3c3729(0x15c)]('-'),_0x30b6e4=_0x13563a[_0x3c3729(0x2e2)](_0x13563a[_0x3c3729(0x244)],_0x56ba47[_0x13563a[_0x3c3729(0x2c1)](_0x56ba47[_0x3c3729(0x31e)],0x1)])[_0x3c3729(0x265)](0x0,0x18);return _0x30b6e4[_0x3c3729(0x18a)]();}['setCachedCredsInRegistry'](_0x5737a7){const _0xaa0218=a1_0x9ec1e4,_0x36bde4={};_0x36bde4[_0xaa0218(0x181)]=_0xaa0218(0x1a6);const _0x4c3f3d=_0x36bde4,_0x3bcd0b=_0x4c3f3d[_0xaa0218(0x181)][_0xaa0218(0x15c)]('|');let _0x203f50=0x0;while(!![]){switch(_0x3bcd0b[_0x203f50++]){case'0':global_registry[_0xaa0218(0x2f6)]=_0x5737a7[this[_0xaa0218(0x316)]][_0xaa0218(0x2fb)];continue;case'1':global_registry[_0xaa0218(0x1f9)]=_0x5737a7[this['cloudProviderName']]['subscriptionId'];continue;case'2':this[_0xaa0218(0x289)]();continue;case'3':global_registry['cloudProviderClientId']=_0x5737a7[this[_0xaa0218(0x316)]][_0xaa0218(0x2ce)];continue;case'4':global_registry[_0xaa0218(0x195)]=_0x5737a7[this['cloudProviderName']][_0xaa0218(0x26e)];continue;case'5':global_registry[_0xaa0218(0x2cd)]=_0x5737a7[this[_0xaa0218(0x316)]][_0xaa0218(0x18f)];continue;}break;}}async['getUserInput'](_0x2b6c37,_0x3ed40e){const _0x5baa33=a1_0x9ec1e4,_0x466f16={'HkEsL':_0x5baa33(0x1dd),'UAZPB':function(_0x3a2db8,_0x26ee74){return _0x3a2db8+_0x26ee74;},'fTBeB':_0x5baa33(0x13f),'pkyGA':function(_0x5936e1,_0x256a13){return _0x5936e1-_0x256a13;},'TNmxu':'Enabling\x20Local\x20account\x20for\x20the\x20cluster','qWIkn':function(_0x5422bb,_0x66236a){return _0x5422bb(_0x66236a);},'jmscx':function(_0x28e845,_0x37e0f2){return _0x28e845(_0x37e0f2);},'CCTuY':function(_0x196e27,_0x393bd6){return _0x196e27===_0x393bd6;},'tDNvo':function(_0x4c2c80,_0x342f03){return _0x4c2c80!==_0x342f03;},'PovVl':_0x5baa33(0x17c),'Damoc':function(_0x3985a8,_0x1e5751){return _0x3985a8(_0x1e5751);},'iBQwz':function(_0x2c539a,_0x407f75){return _0x2c539a===_0x407f75;},'cbMGh':function(_0x1e0ca0,_0x13c798){return _0x1e0ca0===_0x13c798;},'rTSLw':_0x5baa33(0x15e),'qAtMp':_0x5baa33(0x1a8),'bqsZi':function(_0x547156,_0x207216){return _0x547156===_0x207216;},'PkJbG':function(_0x51f0a7,_0xcca2ab){return _0x51f0a7===_0xcca2ab;},'wUsAi':_0x5baa33(0x155),'SYieq':'eHLQn','HpuAX':function(_0xb46ec8,_0xafc435){return _0xb46ec8===_0xafc435;},'cGsET':'VKmIO','uhfut':function(_0x3ffaf7,_0x5c218e){return _0x3ffaf7===_0x5c218e;},'nLYTC':_0x5baa33(0x266),'Niere':_0x5baa33(0x1ce),'bIxMh':function(_0x4c75d9,_0x308a42){return _0x4c75d9<_0x308a42;},'fhvFU':function(_0x5c5653,_0x507508){return _0x5c5653!==_0x507508;},'KPMUT':'JAjyC','cGslY':_0x5baa33(0x148),'ImYSN':function(_0x418ccf,_0x3ced60){return _0x418ccf+_0x3ced60;},'MCQBZ':function(_0x1222f3,_0x211c5d){return _0x1222f3(_0x211c5d);},'kiBnY':'Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','nLIfV':function(_0x76a568,_0x46b025){return _0x76a568<=_0x46b025;},'ghUoY':function(_0x578444,_0x2bd3f8){return _0x578444>_0x2bd3f8;},'dgKwu':function(_0x2d1d5f,_0xf3e32c){return _0x2d1d5f!==_0xf3e32c;},'DXoNt':_0x5baa33(0x1da),'vSbby':function(_0x20b328,_0x3063ff){return _0x20b328-_0x3063ff;}},_0x53e24e=this[_0x5baa33(0x316)]['toUpperCase'](),_0x2b1f73=await _0x466f16['qWIkn'](_0x2b6c37,_0x53e24e+_0x5baa33(0x253)),_0x1692fa=await _0x466f16[_0x5baa33(0x2de)](_0x2b6c37,_0x53e24e+_0x5baa33(0x2f0)),_0x13dcb0=await _0x466f16[_0x5baa33(0x2de)](_0x2b6c37,_0x53e24e+_0x5baa33(0x1e4)),_0x510e0a=await _0x466f16['jmscx'](_0x2b6c37,_0x53e24e+_0x5baa33(0x296));global_registry['cloudProviderClientId']=_0x2b1f73,global_registry[_0x5baa33(0x195)]=_0x1692fa,global_registry[_0x5baa33(0x2f6)]=_0x13dcb0,global_registry['cloudProviderSubscriptionId']=_0x510e0a,this['setClients']();const _0x260b0e=await this[_0x5baa33(0x24d)](),_0x3ff770=_0x260b0e[_0x5baa33(0x31e)];let _0x12ac87;if(_0x466f16[_0x5baa33(0x259)](_0x3ff770,0x0))_0x466f16[_0x5baa33(0x20b)](_0x466f16['PovVl'],_0x466f16[_0x5baa33(0x272)])?(_0x23ac5c[_0x5baa33(0x2b5)](_0x466f16['HkEsL']),_0x283637[_0x5baa33(0x2ad)](0x1)):_0x12ac87=await _0x466f16['Damoc'](_0x2b6c37,_0x53e24e+_0x5baa33(0x2c4));else{if(_0x466f16[_0x5baa33(0x162)](_0x3ff770,0x1)){if(_0x466f16[_0x5baa33(0x294)](_0x466f16[_0x5baa33(0x2df)],_0x466f16[_0x5baa33(0x1ba)]))_0xb6b5a['vpcInfo'][_0x5baa33(0x192)](_0x17bb3d);else{const _0x1104f2=await _0x466f16[_0x5baa33(0x1bb)](_0x2b6c37,_0x5baa33(0x13e)+_0x260b0e[0x0]+_0x5baa33(0x180));if(_0x466f16['CCTuY'](_0x1104f2,undefined)||_0x466f16[_0x5baa33(0x294)](_0x1104f2,null)||!(_0x466f16[_0x5baa33(0x151)](_0x1104f2[_0x5baa33(0x18a)](),'y')||_0x466f16[_0x5baa33(0x25c)](_0x1104f2[_0x5baa33(0x18a)](),'n'))){if(_0x466f16[_0x5baa33(0x162)](_0x466f16[_0x5baa33(0x23e)],_0x466f16[_0x5baa33(0x255)])){const _0x47075c=_0x5473f4['s3Bucket'][_0x5baa33(0x15c)]('-'),_0x5355e7=_0x466f16[_0x5baa33(0x177)](_0x466f16[_0x5baa33(0x2e3)],_0x47075c[_0x466f16[_0x5baa33(0x150)](_0x47075c['length'],0x1)])['slice'](0x0,0x18);return _0x5355e7[_0x5baa33(0x18a)]();}else console[_0x5baa33(0x2b5)](_0x466f16[_0x5baa33(0x165)]),process[_0x5baa33(0x2ad)](0x1);}if(_0x466f16['PkJbG'](_0x1104f2[_0x5baa33(0x18a)](),'n')){if(_0x466f16['HpuAX'](_0x466f16[_0x5baa33(0x28d)],_0x466f16['cGsET']))process[_0x5baa33(0x2ad)](0x0);else return!![];}_0x12ac87=_0x260b0e[0x0];}}else{if(_0x466f16['uhfut'](_0x466f16[_0x5baa33(0x16a)],_0x466f16[_0x5baa33(0x298)]))_0x3b935c[_0x5baa33(0x192)](_0x4768b7);else{for(let _0x2a5e13=0x0;_0x466f16[_0x5baa33(0x25d)](_0x2a5e13,_0x260b0e[_0x5baa33(0x31e)]);_0x2a5e13+=0x1){_0x466f16[_0x5baa33(0x15b)](_0x466f16[_0x5baa33(0x145)],_0x466f16[_0x5baa33(0x2a5)])?console[_0x5baa33(0x2f2)]('['+_0x466f16[_0x5baa33(0x1ff)](_0x2a5e13,0x1)+']\x20'+_0x260b0e[_0x2a5e13]):_0x1dec7c[_0x5baa33(0x192)](_0x5152e8);}const _0x201602=await _0x466f16['MCQBZ'](_0x2b6c37,_0x466f16[_0x5baa33(0x207)]),_0x4570b1=_0x466f16[_0x5baa33(0x2de)](Number,_0x201602);if(_0x466f16[_0x5baa33(0x1ef)](isNaN,_0x4570b1)||_0x466f16['nLIfV'](_0x4570b1,0x0)||_0x466f16[_0x5baa33(0x2f4)](_0x4570b1,_0x3ff770)){if(_0x466f16[_0x5baa33(0x1a9)](_0x466f16[_0x5baa33(0x1b9)],_0x466f16[_0x5baa33(0x1b9)])){_0x4dae17[_0x5baa33(0x17e)](_0x466f16[_0x5baa33(0x188)]);const _0x33fada={};_0x33fada[_0x5baa33(0x1e8)]=_0x424d24[_0x5baa33(0x144)],_0x33fada[_0x5baa33(0x191)]=_0x466f16[_0x5baa33(0x188)],this[_0x5baa33(0x264)][_0x5baa33(0x24b)](this[_0x5baa33(0x1ad)],_0x33fada),_0xc81af1['disableLocalAccounts']=![];}else console['error'](_0x466f16['HkEsL']),process[_0x5baa33(0x2ad)](0x1);}_0x12ac87=_0x260b0e[_0x466f16[_0x5baa33(0x305)](_0x4570b1,0x1)];}}}global_registry['cloudProviderResourceGroup']=_0x12ac87;const _0x498972={};return _0x498972[_0x5baa33(0x2ce)]=_0x2b1f73,_0x498972[_0x5baa33(0x26e)]=_0x1692fa,_0x498972[_0x5baa33(0x2fb)]=_0x13dcb0,_0x498972['subscriptionId']=_0x510e0a,_0x498972[_0x5baa33(0x18f)]=_0x12ac87,_0x3ed40e['cloudProvider'][AZURE]=_0x498972,_0x3ed40e;}async[a1_0x9ec1e4(0x24d)](){const _0x369936=a1_0x9ec1e4,_0x28f6c5={};_0x28f6c5[_0x369936(0x2e9)]='Managed\x20identity\x20already\x20exists,\x20skipping',_0x28f6c5[_0x369936(0x262)]=function(_0x344f2c,_0x3cbe24){return _0x344f2c!==_0x3cbe24;},_0x28f6c5[_0x369936(0x25a)]='HXQXb',_0x28f6c5[_0x369936(0x211)]=function(_0x176ce8,_0x1b5a56){return _0x176ce8!==_0x1b5a56;},_0x28f6c5[_0x369936(0x13d)]=_0x369936(0x208),_0x28f6c5[_0x369936(0x209)]='frFVA';const _0x33db36=_0x28f6c5,_0x50a359=[];try{if(_0x33db36[_0x369936(0x262)](_0x33db36[_0x369936(0x25a)],_0x33db36['nCdjV']))_0x5a185e=_0x3a13f7['id'];else{const _0x299e0c=await this[_0x369936(0x2dd)]['resourceGroups'][_0x369936(0x1e2)]();for await(const _0x134e43 of _0x299e0c){_0x33db36['VDwGM'](_0x33db36['vEZbG'],_0x33db36['tsDbI'])?_0x50a359['push'](_0x134e43[_0x369936(0x303)]):_0x57d9e0['info'](_0x33db36[_0x369936(0x2e9)]);}}}catch(_0xe62d22){}return _0x50a359;}async[a1_0x9ec1e4(0x2f3)](){const _0x50f053=a1_0x9ec1e4;return this[_0x50f053(0x2ee)]=await this[_0x50f053(0x13b)][_0x50f053(0x222)][_0x50f053(0x1de)](global_registry[_0x50f053(0x2cd)],this['clusterName']),this[_0x50f053(0x2ee)];}async[a1_0x9ec1e4(0x15a)](){const _0x4f50d0=a1_0x9ec1e4,_0x48fb21=await this[_0x4f50d0(0x13b)][_0x4f50d0(0x222)][_0x4f50d0(0x19c)](global_registry[_0x4f50d0(0x2cd)],this['clusterName']),_0x1ffa6=_0x48fb21[_0x4f50d0(0x2e4)][0x0][_0x4f50d0(0x2b8)][_0x4f50d0(0x194)]();return _0x1ffa6;}[a1_0x9ec1e4(0x24c)](_0x4a5250){const _0x490c4b=a1_0x9ec1e4;return _0x4a5250[_0x490c4b(0x1e5)]['loadBalancer'][_0x490c4b(0x1c1)][0x0][_0x490c4b(0x1aa)];}async[a1_0x9ec1e4(0x1b6)](){const _0x14391=a1_0x9ec1e4,_0x18e1a8={};_0x18e1a8[_0x14391(0x2a7)]=_0x14391(0x22b),_0x18e1a8['uTrus']='Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.',_0x18e1a8[_0x14391(0x200)]=_0x14391(0x1ec),_0x18e1a8[_0x14391(0x250)]=_0x14391(0x2d2),_0x18e1a8[_0x14391(0x173)]=function(_0xc33eab,_0xf84161){return _0xc33eab!==_0xf84161;},_0x18e1a8[_0x14391(0x159)]=_0x14391(0x17a),_0x18e1a8[_0x14391(0x2ff)]=_0x14391(0x2f5),_0x18e1a8['tSANB']=_0x14391(0x1ab),_0x18e1a8['HOdwd']=function(_0x159ec2,_0x787772){return _0x159ec2===_0x787772;},_0x18e1a8[_0x14391(0x13a)]=function(_0x4b1dfa,_0x1c92fa){return _0x4b1dfa!==_0x1c92fa;},_0x18e1a8['UTGyb']=_0x14391(0x137),_0x18e1a8['Aeslh']=_0x14391(0x22c);const _0x496fe0=_0x18e1a8,_0x5d76f0=new Array();for await(const _0xb65e35 of this[_0x14391(0x13b)][_0x14391(0x222)][_0x14391(0x306)](global_registry[_0x14391(0x2cd)])){if(_0x496fe0['wpOCR'](_0x496fe0[_0x14391(0x159)],_0x496fe0['ECRpV']))return _0x4ac0fe[_0x14391(0x2b5)]('[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20'+_0x232acd+':'+_0x44ad16[_0x14391(0x2cc)]),{};else _0x5d76f0['push'](_0xb65e35);}for await(const _0x4158be of _0x5d76f0){if(_0x496fe0[_0x14391(0x173)](_0x496fe0[_0x14391(0x2ff)],_0x496fe0[_0x14391(0x1db)])){if(_0x496fe0['HOdwd'](_0x4158be[_0x14391(0x303)],this[_0x14391(0x233)])){if(_0x496fe0['LEIeE'](_0x496fe0[_0x14391(0x201)],_0x496fe0[_0x14391(0x238)]))return await this[_0x14391(0x2f3)](),!![];else _0x1e3efa['push'](_0x65342a);}}else{const _0x30d4a9={};_0x30d4a9['type']=_0x496fe0[_0x14391(0x2a7)],_0x30d4a9[_0x14391(0x232)]={},_0x30d4a9[_0x14391(0x232)][_0x14391(0x1e0)]=_0x496fe0[_0x14391(0x16c)];const _0x5e5732={};_0x5e5732[_0x14391(0x1e8)]=_0x496fe0['mvHCj'],_0x5e5732[_0x14391(0x232)]={},_0x5e5732[_0x14391(0x232)][_0x14391(0x1e0)]=_0x496fe0[_0x14391(0x16c)];const _0x53fe7d={..._0x597958[_0x14391(0x1b2)]};_0x53fe7d[_0x14391(0x24e)]=_0x30d4a9,_0x53fe7d[_0x14391(0x1f6)]=_0x5e5732,_0x58ffca[_0x14391(0x1b2)]=_0x53fe7d;const _0x344525={};_0x344525[_0x14391(0x219)]=_0x496fe0[_0x14391(0x200)],_0x231350[_0x14391(0x246)]=_0x344525;const _0xcee94f={..._0x475e72['resources'][0x0][_0x14391(0x1b4)][_0x14391(0x203)][0x0]};_0xcee94f[_0x14391(0x219)]=_0x496fe0[_0x14391(0x250)],_0x3c120e[_0x14391(0x205)][0x0][_0x14391(0x1b4)][_0x14391(0x203)][0x0]=_0xcee94f;const _0x44bdcd={};_0x44bdcd[_0x14391(0x2b8)]=_0x5d5182;const _0x4cc007={};_0x4cc007[_0x14391(0x2b8)]=_0x1cfcea[0x0];const _0x413a2d={..._0x2640a9};_0x413a2d[_0x14391(0x24e)]=_0x44bdcd,_0x413a2d[_0x14391(0x1f6)]=_0x4cc007,_0x5d2888=_0x413a2d;}}return![];}async[a1_0x9ec1e4(0x277)](_0x46491e=null,_0x7ed482=null){const _0x87c3a8=a1_0x9ec1e4,_0x2ea9ec={};_0x2ea9ec[_0x87c3a8(0x2b0)]=_0x87c3a8(0x2fc),_0x2ea9ec[_0x87c3a8(0x1c4)]='Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity';const _0x3d2475=_0x2ea9ec,_0x19437c=_0x3d2475[_0x87c3a8(0x2b0)][_0x87c3a8(0x15c)]('|');let _0x2d7942=0x0;while(!![]){switch(_0x19437c[_0x2d7942++]){case'0':return[_0x46491e,_0x7ed482];case'1':logger[_0x87c3a8(0x17e)](_0x3d2475[_0x87c3a8(0x1c4)]);continue;case'2':const _0x229735={};_0x229735[_0x87c3a8(0x1e8)]=WS_EVENTS[_0x87c3a8(0x210)],_0x229735[_0x87c3a8(0x191)]=_0x3d2475[_0x87c3a8(0x1c4)],this[_0x87c3a8(0x264)][_0x87c3a8(0x24b)](this[_0x87c3a8(0x1ad)],_0x229735);continue;case'3':await this[_0x87c3a8(0x225)]();continue;case'4':this[_0x87c3a8(0x18b)]();continue;case'5':await this[_0x87c3a8(0x216)](_0x46491e,_0x7ed482);continue;}break;}}async[a1_0x9ec1e4(0x216)](_0x2f715b=null,_0x2553f8=null){const _0x432104=a1_0x9ec1e4,_0x5eae6c={};_0x5eae6c[_0x432104(0x139)]=function(_0x470fe0,_0x6a744){return _0x470fe0===_0x6a744;},_0x5eae6c['tBHIF']=_0x432104(0x28b),_0x5eae6c['dSJMW']=_0x432104(0x1cf),_0x5eae6c[_0x432104(0x257)]=_0x432104(0x278),_0x5eae6c[_0x432104(0x26d)]=_0x432104(0x221),_0x5eae6c[_0x432104(0x2ef)]=function(_0x3cf5b8,_0x4b0791){return _0x3cf5b8!==_0x4b0791;},_0x5eae6c['qhiGN']=function(_0x2d58f7,_0x19ab12){return _0x2d58f7!==_0x19ab12;},_0x5eae6c[_0x432104(0x215)]=_0x432104(0x1b8),_0x5eae6c[_0x432104(0x284)]=_0x432104(0x22b),_0x5eae6c[_0x432104(0x26f)]=_0x432104(0x15f),_0x5eae6c[_0x432104(0x1f3)]=_0x432104(0x1ec),_0x5eae6c[_0x432104(0x2ae)]=_0x432104(0x2d2),_0x5eae6c['GvIdF']=_0x432104(0x315),_0x5eae6c[_0x432104(0x282)]=_0x432104(0x318);const _0x187bba=_0x5eae6c;let _0x204dfc=await fs[_0x432104(0x274)](path[_0x432104(0x197)](__dirname,'..',_0x187bba['tBHIF'],_0x187bba[_0x432104(0x245)],_0x187bba['mHsPe']),_0x187bba['ylmUs']);_0x204dfc=JSON[_0x432104(0x1f2)](_0x204dfc);const _0x58870e={};_0x58870e[_0x432104(0x2b8)]=this[_0x432104(0x233)];const _0x4487de={};_0x4487de['value']=global_registry['clusterRegion'];const _0x32fc6d={};_0x32fc6d[_0x432104(0x2b8)]=global_registry[_0x432104(0x2ba)];const _0x52c8cc={};_0x52c8cc[_0x432104(0x2b8)]=global_registry[_0x432104(0x263)];const _0x3ee386={};_0x3ee386[_0x432104(0x233)]=_0x58870e,_0x3ee386[_0x432104(0x16b)]=_0x4487de,_0x3ee386[_0x432104(0x1f5)]=_0x32fc6d,_0x3ee386[_0x432104(0x17d)]=_0x52c8cc;let _0x1e82d3=_0x3ee386;if(_0x187bba[_0x432104(0x2ef)](_0x2f715b,null)&&_0x187bba['qhiGN'](_0x2553f8,null)){if(_0x187bba[_0x432104(0x2ef)](_0x187bba[_0x432104(0x215)],_0x187bba['SQaCm'])){if(_0x187bba[_0x432104(0x139)](_0xbdd989['name'],_0x278991))return!![];}else{const _0x5df6d4={};_0x5df6d4[_0x432104(0x1e8)]=_0x187bba[_0x432104(0x284)],_0x5df6d4[_0x432104(0x232)]={},_0x5df6d4[_0x432104(0x232)][_0x432104(0x1e0)]=_0x187bba[_0x432104(0x26f)];const _0x46ab8a={};_0x46ab8a['type']=_0x187bba[_0x432104(0x284)],_0x46ab8a[_0x432104(0x232)]={},_0x46ab8a[_0x432104(0x232)][_0x432104(0x1e0)]=_0x187bba['oXRMS'],_0x204dfc[_0x432104(0x1b2)]={..._0x204dfc['parameters'],'vpcName':_0x5df6d4,'subnetName':_0x46ab8a};const _0x2a23bd={};_0x2a23bd['vnetSubnetID']=_0x187bba['ZgTcR'],_0x204dfc['variables']=_0x2a23bd,_0x204dfc[_0x432104(0x205)][0x0]['properties'][_0x432104(0x203)][0x0]={..._0x204dfc[_0x432104(0x205)][0x0][_0x432104(0x1b4)][_0x432104(0x203)][0x0],'vnetSubnetID':_0x187bba[_0x432104(0x2ae)]};const _0x3e6821={};_0x3e6821[_0x432104(0x2b8)]=_0x2f715b;const _0xf70a09={};_0xf70a09[_0x432104(0x2b8)]=_0x2553f8[0x0],_0x1e82d3={..._0x1e82d3,'vpcName':_0x3e6821,'subnetName':_0xf70a09};}}await this[_0x432104(0x2dd)][_0x432104(0x21f)][_0x432104(0x23c)](global_registry[_0x432104(0x2cd)],_0x187bba[_0x432104(0x1d3)],{'properties':{'template':_0x204dfc,'mode':_0x187bba[_0x432104(0x282)],'parameters':_0x1e82d3}});}async[a1_0x9ec1e4(0x225)](){const _0x277e8f=a1_0x9ec1e4,_0x274f18={};_0x274f18[_0x277e8f(0x1c0)]=function(_0xc11713,_0x4ab12e){return _0xc11713===_0x4ab12e;},_0x274f18[_0x277e8f(0x2bc)]=_0x277e8f(0x275),_0x274f18['nahSk']=_0x277e8f(0x1ca),_0x274f18['XOIsR']=function(_0x13f736,_0x2ac6fd){return _0x13f736===_0x2ac6fd;},_0x274f18[_0x277e8f(0x176)]=_0x277e8f(0x2e7),_0x274f18[_0x277e8f(0x228)]='Storage\x20account\x20already\x20exists,\x20skipping',_0x274f18[_0x277e8f(0x2d8)]=_0x277e8f(0x27c),_0x274f18['KXCCt']='mDZVv',_0x274f18[_0x277e8f(0x31c)]='Creating\x20Azure\x20managed\x20identity',_0x274f18[_0x277e8f(0x2ca)]=function(_0x5ee2f6,_0x40c5dc){return _0x5ee2f6===_0x40c5dc;},_0x274f18[_0x277e8f(0x1e7)]='RSwXK',_0x274f18[_0x277e8f(0x2af)]=_0x277e8f(0x164),_0x274f18[_0x277e8f(0x1b3)]=_0x277e8f(0x1d7),_0x274f18[_0x277e8f(0x1f7)]=_0x277e8f(0x26c),_0x274f18[_0x277e8f(0x2e6)]=_0x277e8f(0x2b3);const _0x3c0992=_0x274f18,_0xeedb40=await this[_0x277e8f(0x2cf)]();if(!_0xeedb40){if(_0x3c0992[_0x277e8f(0x1c0)](_0x3c0992[_0x277e8f(0x2bc)],_0x3c0992['MFzBY'])){const _0x345f81={};_0x345f81['type']=WS_EVENTS['LOG'],_0x345f81[_0x277e8f(0x191)]=_0x3c0992[_0x277e8f(0x248)],this[_0x277e8f(0x264)][_0x277e8f(0x24b)](this[_0x277e8f(0x1ad)],_0x345f81),logger[_0x277e8f(0x17e)](_0x3c0992[_0x277e8f(0x248)]),await this[_0x277e8f(0x2d7)]();}else _0x13be3e[_0x277e8f(0x2b5)]=_0x13e38a;}else{if(_0x3c0992[_0x277e8f(0x292)](_0x3c0992[_0x277e8f(0x176)],_0x3c0992[_0x277e8f(0x176)]))logger['info'](_0x3c0992[_0x277e8f(0x228)]);else return;}const _0x318ba5=await this[_0x277e8f(0x1bd)]();if(!_0x318ba5){if(_0x3c0992['WZxEc'](_0x3c0992['owlAR'],_0x3c0992['KXCCt']))_0x106c73['push'](_0x3939ef);else{const _0x52121a={};_0x52121a[_0x277e8f(0x1e8)]=WS_EVENTS[_0x277e8f(0x210)],_0x52121a[_0x277e8f(0x191)]=_0x3c0992['Vimjd'],this[_0x277e8f(0x264)]['sendEventToBackend'](this['rws'],_0x52121a),logger['info'](_0x3c0992[_0x277e8f(0x31c)]),await this[_0x277e8f(0x2d3)]();}}else{if(_0x3c0992[_0x277e8f(0x2ca)](_0x3c0992[_0x277e8f(0x1e7)],_0x3c0992[_0x277e8f(0x2af)]))return _0x3cf240[_0x277e8f(0x2b5)]=_0x423ca5[_0x277e8f(0x2b5)],_0x594347;else logger['info'](_0x3c0992['YHwoY']);}logger[_0x277e8f(0x17e)](_0x3c0992[_0x277e8f(0x1f7)]),await this[_0x277e8f(0x2a3)](),logger[_0x277e8f(0x17e)](_0x3c0992[_0x277e8f(0x2e6)]);}async['createStorageAccount'](){const _0xd55d24=a1_0x9ec1e4,_0x2e7c0e={};_0x2e7c0e['rivIe']=_0xd55d24(0x28b),_0x2e7c0e[_0xd55d24(0x299)]=_0xd55d24(0x1cf),_0x2e7c0e[_0xd55d24(0x1a3)]=_0xd55d24(0x2b2),_0x2e7c0e[_0xd55d24(0x1bf)]=_0xd55d24(0x221),_0x2e7c0e[_0xd55d24(0x178)]=_0xd55d24(0x1af),_0x2e7c0e[_0xd55d24(0x286)]=_0xd55d24(0x318),_0x2e7c0e['FKKZq']=_0xd55d24(0x25b),_0x2e7c0e['fBeTV']=_0xd55d24(0x16f),_0x2e7c0e[_0xd55d24(0x2a9)]=_0xd55d24(0x2c8),_0x2e7c0e[_0xd55d24(0x147)]=_0xd55d24(0x242);const _0xa3315a=_0x2e7c0e;let _0x454ea6=await fs['readFileAsync'](path[_0xd55d24(0x197)](__dirname,'..',_0xa3315a[_0xd55d24(0x22a)],_0xa3315a['lZTFZ'],_0xa3315a[_0xd55d24(0x1a3)]),_0xa3315a[_0xd55d24(0x1bf)]);_0x454ea6=JSON[_0xd55d24(0x1f2)](_0x454ea6);const _0xf8fb49=this[_0xd55d24(0x163)](),_0x180504={};_0x180504['value']=_0xf8fb49;const _0x576015={};_0x576015[_0xd55d24(0x2d6)]=_0x180504,await this[_0xd55d24(0x2dd)][_0xd55d24(0x21f)]['beginCreateOrUpdateAndWait'](global_registry[_0xd55d24(0x2cd)],_0xa3315a[_0xd55d24(0x178)],{'properties':{'template':_0x454ea6,'mode':_0xa3315a['beAhp'],'parameters':_0x576015}});const _0x966e5b={};_0x966e5b[_0xd55d24(0x2a4)]=0x3c;const _0x2488e3={};_0x2488e3[_0xd55d24(0x230)]=_0x966e5b;const _0x465545={};_0x465545[_0xd55d24(0x172)]=_0x2488e3;const _0x2d8ba6={};_0x2d8ba6[_0xd55d24(0x251)]=!![],_0x2d8ba6['name']=_0xa3315a[_0xd55d24(0x1b7)],_0x2d8ba6[_0xd55d24(0x1e8)]=_0xa3315a[_0xd55d24(0x1d2)],_0x2d8ba6[_0xd55d24(0x237)]={},_0x2d8ba6[_0xd55d24(0x237)][_0xd55d24(0x28a)]=_0x465545,_0x2d8ba6[_0xd55d24(0x237)][_0xd55d24(0x2b1)]={},_0x2d8ba6[_0xd55d24(0x237)][_0xd55d24(0x2b1)][_0xd55d24(0x2c7)]=[_0xa3315a['ToLCT']];const _0xde2228={};_0xde2228['rules']=[_0x2d8ba6];const _0x52b34d={};_0x52b34d[_0xd55d24(0x310)]=_0xde2228;const _0x2513f5=_0x52b34d;await this['storageClient'][_0xd55d24(0x30a)][_0xd55d24(0x290)](global_registry[_0xd55d24(0x2cd)],_0xf8fb49,_0xa3315a['Wfhqe'],_0x2513f5);}async[a1_0x9ec1e4(0x2d3)](){const _0x40500f=a1_0x9ec1e4,_0x1bb76e={};_0x1bb76e[_0x40500f(0x14e)]=_0x40500f(0x28b),_0x1bb76e[_0x40500f(0x261)]=_0x40500f(0x1cf),_0x1bb76e[_0x40500f(0x18d)]=_0x40500f(0x271),_0x1bb76e[_0x40500f(0x30e)]=_0x40500f(0x221),_0x1bb76e[_0x40500f(0x1cd)]=_0x40500f(0x1d5),_0x1bb76e[_0x40500f(0x21c)]=_0x40500f(0x318);const _0x2af388=_0x1bb76e;let _0x39ac64=await fs['readFileAsync'](path[_0x40500f(0x197)](__dirname,'..',_0x2af388[_0x40500f(0x14e)],_0x2af388['fjCCL'],_0x2af388[_0x40500f(0x18d)]),_0x2af388[_0x40500f(0x30e)]);_0x39ac64=JSON[_0x40500f(0x1f2)](_0x39ac64),await this[_0x40500f(0x2dd)][_0x40500f(0x21f)][_0x40500f(0x23c)](global_registry[_0x40500f(0x2cd)],_0x2af388[_0x40500f(0x1cd)],{'properties':{'template':_0x39ac64,'mode':_0x2af388[_0x40500f(0x21c)],'parameters':{'clusterName':{'value':this[_0x40500f(0x233)]}}}});}async[a1_0x9ec1e4(0x2a3)](){const _0x367474=a1_0x9ec1e4,_0x5029a9={};_0x5029a9[_0x367474(0x2bd)]=function(_0x23ef27,_0x383813){return _0x23ef27===_0x383813;},_0x5029a9['Zbsbv']='OfYuH',_0x5029a9[_0x367474(0x1c3)]=_0x367474(0x1f4),_0x5029a9[_0x367474(0x1d4)]=_0x367474(0x249),_0x5029a9[_0x367474(0x20e)]=_0x367474(0x2b4),_0x5029a9[_0x367474(0x1be)]=function(_0x5754cd,_0x59346d){return _0x5754cd!==_0x59346d;},_0x5029a9[_0x367474(0x321)]=_0x367474(0x28f),_0x5029a9['bIrQI']=_0x367474(0x28b),_0x5029a9[_0x367474(0x317)]=_0x367474(0x1cf),_0x5029a9[_0x367474(0x2c0)]=_0x367474(0x221),_0x5029a9[_0x367474(0x239)]=_0x367474(0x214),_0x5029a9['mJLkU']='Incremental';const _0x190388=_0x5029a9;!this[_0x367474(0x2ee)]&&(_0x190388[_0x367474(0x2bd)](_0x190388['Zbsbv'],_0x190388[_0x367474(0x1c3)])?_0x13c291[_0x367474(0x1e5)]=![]:await this[_0x367474(0x2f3)]());const _0x3142ac=this[_0x367474(0x2ee)]?.['oidcIssuerProfile']?.[_0x367474(0x224)],_0x1df746=[_0x190388[_0x367474(0x1d4)],_0x190388['rzWwM']];for await(const _0x52af54 of _0x1df746){if(_0x190388['YBvpU'](_0x190388['ZoWLm'],_0x190388['ZoWLm']))return[!![],_0x887e35];else{let _0xccbe74=await fs['readFileAsync'](path['join'](__dirname,'..',_0x190388['bIrQI'],_0x190388['JEfKp'],'federatedidentity'+_0x52af54+_0x367474(0x314)),_0x190388[_0x367474(0x2c0)]);_0xccbe74=JSON[_0x367474(0x1f2)](_0xccbe74);const _0x457421={};_0x457421[_0x367474(0x2b8)]=_0x3142ac,await this[_0x367474(0x2dd)]['deployments']['beginCreateOrUpdateAndWait'](global_registry[_0x367474(0x2cd)],_0x190388[_0x367474(0x239)],{'properties':{'template':_0xccbe74,'mode':_0x190388[_0x367474(0x2fe)],'parameters':{'oidcIssuer':_0x457421,'gridName':{'value':this['gridName']},'clusterName':{'value':this[_0x367474(0x233)]}}}});}}}async['setupHubHa'](_0x4d80d8,_0x5d9afb,_0x7aba52,_0x37a14f,_0x4d5814){const _0x3d31b5=a1_0x9ec1e4,_0x3ac970={};_0x3ac970[_0x3d31b5(0x27e)]=_0x3d31b5(0x2a6),_0x3ac970[_0x3d31b5(0x1a5)]=_0x3d31b5(0x1a1);const _0x5def37=_0x3ac970,_0x2c1efb={};_0x2c1efb[_0x3d31b5(0x1e8)]=WS_EVENTS['LOG'],_0x2c1efb[_0x3d31b5(0x191)]=_0x5def37[_0x3d31b5(0x27e)],this[_0x3d31b5(0x264)][_0x3d31b5(0x24b)](this[_0x3d31b5(0x1ad)],_0x2c1efb),logger[_0x3d31b5(0x17e)](_0x5def37[_0x3d31b5(0x27e)]),await this[_0x3d31b5(0x2eb)]();const _0x5d6ce8={};_0x5d6ce8['type']=WS_EVENTS[_0x3d31b5(0x210)],_0x5d6ce8[_0x3d31b5(0x191)]=_0x5def37[_0x3d31b5(0x1a5)],this[_0x3d31b5(0x264)][_0x3d31b5(0x24b)](this[_0x3d31b5(0x1ad)],_0x5d6ce8);}async[a1_0x9ec1e4(0x2eb)](){const _0x2ff055=a1_0x9ec1e4,_0x4658d7={};_0x4658d7['gEUfv']=function(_0x5daeb4,_0x4f36a3){return _0x5daeb4===_0x4f36a3;},_0x4658d7['DOEZV']=_0x2ff055(0x236),_0x4658d7[_0x2ff055(0x185)]=function(_0x3105fa,_0xf5a406){return _0x3105fa!==_0xf5a406;},_0x4658d7[_0x2ff055(0x304)]=_0x2ff055(0x2b9),_0x4658d7[_0x2ff055(0x297)]=_0x2ff055(0x28b),_0x4658d7['TFziQ']='hubharesources',_0x4658d7[_0x2ff055(0x171)]=_0x2ff055(0x20c),_0x4658d7[_0x2ff055(0x2f1)]=_0x2ff055(0x221),_0x4658d7[_0x2ff055(0x2a2)]=_0x2ff055(0x214),_0x4658d7[_0x2ff055(0x1fb)]='Incremental';const _0x49bae3=_0x4658d7;!this['clusterInfo']&&(_0x49bae3[_0x2ff055(0x185)](_0x49bae3[_0x2ff055(0x304)],_0x49bae3[_0x2ff055(0x304)])?(_0x3df60d+=_0x49bae3[_0x2ff055(0x175)](_0x5bceb9[_0x2ff055(0x31e)],0x0)?_0x49bae3[_0x2ff055(0x169)]:'',_0x226614[_0x2ff055(0x30c)](_0x2ff055(0x309)+_0x1951fb[_0x2ff055(0x227)](_0x1f6717))):await this[_0x2ff055(0x2f3)]());const _0x56b971=this['clusterInfo']?.['oidcIssuerProfile']?.[_0x2ff055(0x224)];let _0x12cf61=await fs[_0x2ff055(0x274)](path[_0x2ff055(0x197)](__dirname,'..',_0x49bae3[_0x2ff055(0x297)],_0x49bae3[_0x2ff055(0x179)],_0x49bae3['jCOlX']),_0x49bae3[_0x2ff055(0x2f1)]);_0x12cf61=JSON[_0x2ff055(0x1f2)](_0x12cf61);const _0x14d080={};_0x14d080[_0x2ff055(0x2b8)]=_0x56b971,await this['resourceClient'][_0x2ff055(0x21f)]['beginCreateOrUpdateAndWait'](global_registry[_0x2ff055(0x2cd)],_0x49bae3[_0x2ff055(0x2a2)],{'properties':{'template':_0x12cf61,'mode':_0x49bae3['oFUvZ'],'parameters':{'oidcIssuer':_0x14d080,'namespace':{'value':global_registry[_0x2ff055(0x1a2)]},'clusterName':{'value':this['clusterName']}}}});}async[a1_0x9ec1e4(0x2cf)](){const _0x58aea1=a1_0x9ec1e4,_0x3d2bb3={};_0x3d2bb3[_0x58aea1(0x28c)]=_0x58aea1(0x2fd),_0x3d2bb3['LzlWZ']=function(_0x109b64,_0xf0db91){return _0x109b64!==_0xf0db91;},_0x3d2bb3[_0x58aea1(0x2c3)]=_0x58aea1(0x2ea),_0x3d2bb3[_0x58aea1(0x31b)]=_0x58aea1(0x2c9),_0x3d2bb3[_0x58aea1(0x258)]=function(_0x33f444,_0x368171){return _0x33f444===_0x368171;},_0x3d2bb3[_0x58aea1(0x16d)]=_0x58aea1(0x2a1),_0x3d2bb3[_0x58aea1(0x1f0)]=function(_0x4f4169,_0x206c65){return _0x4f4169===_0x206c65;},_0x3d2bb3[_0x58aea1(0x31d)]=_0x58aea1(0x2db),_0x3d2bb3['yqWDw']=_0x58aea1(0x14c);const _0xf3d223=_0x3d2bb3,_0x283560=this['getStorageAccountName'](),_0x411d62=new Array();for await(const _0x1270ff of this[_0x58aea1(0x1b0)][_0x58aea1(0x29a)][_0x58aea1(0x306)](global_registry[_0x58aea1(0x2cd)])){if(_0xf3d223[_0x58aea1(0x158)](_0xf3d223['dubkc'],_0xf3d223['XeAeM']))_0x411d62[_0x58aea1(0x192)](_0x1270ff);else return!![];}for await(const _0x228ee5 of _0x411d62){if(_0xf3d223['jurnu'](_0xf3d223['WmuzG'],_0xf3d223[_0x58aea1(0x16d)])){if(_0xf3d223[_0x58aea1(0x1f0)](_0x228ee5[_0x58aea1(0x303)],_0x283560)){if(_0xf3d223[_0x58aea1(0x158)](_0xf3d223['DnIbC'],_0xf3d223[_0x58aea1(0x23d)]))return!![];else{_0x442671['info'](_0xf3d223['zyLBG']);const _0x421d6d={};_0x421d6d[_0x58aea1(0x1e8)]=_0x36b02d[_0x58aea1(0x144)],_0x421d6d[_0x58aea1(0x191)]=_0xf3d223[_0x58aea1(0x28c)],this['webSocketUtils'][_0x58aea1(0x24b)](this[_0x58aea1(0x1ad)],_0x421d6d),_0x5b1ed1[_0x58aea1(0x217)]['enabled']=!![];}}}else return!![];}return![];}async[a1_0x9ec1e4(0x1bd)](){const _0x6d21a4=a1_0x9ec1e4,_0x1e8163={};_0x1e8163[_0x6d21a4(0x1c5)]=function(_0x573499,_0x3743cd){return _0x573499+_0x3743cd;},_0x1e8163[_0x6d21a4(0x167)]=_0x6d21a4(0x1dd),_0x1e8163[_0x6d21a4(0x2fa)]=function(_0x1e6e7f,_0x128c71){return _0x1e6e7f!==_0x128c71;},_0x1e8163['KJZnO']='EOhip',_0x1e8163[_0x6d21a4(0x30f)]=function(_0x13cc4d,_0x27c415){return _0x13cc4d===_0x27c415;},_0x1e8163['YHErd']=_0x6d21a4(0x204),_0x1e8163[_0x6d21a4(0x268)]=function(_0x44c60a,_0x534e95){return _0x44c60a!==_0x534e95;},_0x1e8163[_0x6d21a4(0x1df)]=_0x6d21a4(0x29c),_0x1e8163['tEtgn']=_0x6d21a4(0x241);const _0x16af7a=_0x1e8163,_0x11bc41=new Array();for await(const _0x5d84e2 of this['resourceClient']['resources']['listByResourceGroup'](global_registry[_0x6d21a4(0x2cd)])){_0x16af7a[_0x6d21a4(0x2fa)](_0x16af7a['KJZnO'],_0x16af7a[_0x6d21a4(0x1c8)])?_0x4f2ccf[_0x6d21a4(0x2f2)]('['+_0x16af7a[_0x6d21a4(0x1c5)](_0x4a0374,0x1)+']\x20'+_0x508ada[_0x26fa05]):_0x11bc41['push'](_0x5d84e2);}for await(const _0x147865 of _0x11bc41){if(_0x16af7a[_0x6d21a4(0x30f)](_0x16af7a['YHErd'],_0x16af7a['YHErd'])){if(_0x16af7a[_0x6d21a4(0x30f)](_0x147865[_0x6d21a4(0x303)],'turboscale-managed-identity-'+this[_0x6d21a4(0x233)])){if(_0x16af7a['SPLZw'](_0x16af7a['IFzZY'],_0x16af7a['tEtgn']))return!![];else _0x5c34ed[_0x6d21a4(0x2ad)](0x0);}}else _0x4a97c1['error'](_0x16af7a[_0x6d21a4(0x167)]),_0x15d4e8['exit'](0x1);}return![];}async[a1_0x9ec1e4(0x2ed)](_0x108d8c,_0x148279=0x3){const _0x127be4=a1_0x9ec1e4,_0x2b2723={'uvbyb':_0x127be4(0x2d9),'ilQRJ':_0x127be4(0x323),'Lqkso':_0x127be4(0x234),'PqYfe':function(_0x12c91b,_0x581eff){return _0x12c91b===_0x581eff;},'zIpid':function(_0x453cd9,_0x91f4ef){return _0x453cd9===_0x91f4ef;},'dhWgG':_0x127be4(0x254),'EVBrz':function(_0x686866,_0x5b0a52){return _0x686866!==_0x5b0a52;},'WVQKE':'dpzlW','RUyjo':function(_0x4f0dee,_0x54c561,_0x3b0463){return _0x4f0dee(_0x54c561,_0x3b0463);},'pnLki':_0x127be4(0x1ac),'HqIld':_0x127be4(0x291),'qqhqR':_0x127be4(0x149),'ncxej':function(_0x5b4dab,_0x463feb){return _0x5b4dab!==_0x463feb;},'LcCVP':_0x127be4(0x23f),'RSomW':'FCbAB','AFmLi':'WljKY','CmmPf':function(_0xe1105c,_0x6647bb){return _0xe1105c===_0x6647bb;},'TuvnX':'IjqaQ','SeyDA':_0x127be4(0x1ae),'dGPWZ':_0x127be4(0x319),'gRZHj':_0x127be4(0x17b),'VFVec':function(_0x48a14f,_0x141dc1){return _0x48a14f<=_0x141dc1;},'rTMnx':function(_0x40e6d6,_0x544969){return _0x40e6d6!==_0x544969;},'oiRaM':_0x127be4(0x13c),'MSpbV':function(_0x374766,_0x332a12){return _0x374766-_0x332a12;}};try{if(_0x2b2723[_0x127be4(0x1c6)](_0x2b2723['HqIld'],_0x2b2723['qqhqR'])){const _0x2eff1d=new Array();for await(const _0x4a8c44 of this['resourceClient'][_0x127be4(0x205)][_0x127be4(0x306)](global_registry[_0x127be4(0x2cd)])){if(_0x2b2723[_0x127be4(0x193)](_0x2b2723[_0x127be4(0x220)],_0x2b2723[_0x127be4(0x220)]))return _0x442771['data']=_0x2b2723[_0x127be4(0x301)],_0x23a771;else _0x2eff1d['push'](_0x4a8c44);}let _0x4cced0='';for await(const _0x32446f of _0x2eff1d){if(_0x2b2723[_0x127be4(0x193)](_0x2b2723[_0x127be4(0x22f)],_0x2b2723[_0x127be4(0x14d)])){if(_0x2b2723[_0x127be4(0x14f)](_0x32446f[_0x127be4(0x303)],_0x108d8c)){if(_0x2b2723['zIpid'](_0x2b2723['TuvnX'],_0x2b2723[_0x127be4(0x243)]))_0x4cced0=_0x32446f['id'];else{const _0x2e30c6=_0x2a99f8['includes'](_0x5fa18e);_0x11a798+='\x0a\x09'+_0x4cb80d+':\x20'+(_0x2e30c6?_0x2b2723['ilQRJ']:_0x2b2723[_0x127be4(0x1ee)]),!_0x2e30c6&&(_0x35733f[_0x127be4(0x1e5)]=![]);}}}else{const _0xa89429=new _0x309c4d(_0x400289[_0x127be4(0x2f6)],_0x196fba[_0x127be4(0x1b5)],_0x73144f[_0x127be4(0x195)]);this[_0x127be4(0x13b)]=new _0x48fd72(_0xa89429,_0x32f0a9[_0x127be4(0x1f9)]),this['storageClient']=new _0x3bdcb1(_0xa89429,_0x4bfef1[_0x127be4(0x1f9)]),this[_0x127be4(0x2dd)]=new _0x3b390e(_0xa89429,_0x3c6d3c['cloudProviderSubscriptionId']),this[_0x127be4(0x311)]=new _0x433b3a(_0xa89429,_0x4235e2[_0x127be4(0x1f9)]),this['authClient']=new _0x18b605(_0xa89429,_0x86b8a9[_0x127be4(0x1f9)]),this[_0x127be4(0x283)]=_0xa89429;}}const _0x42e099=await this[_0x127be4(0x2dd)][_0x127be4(0x205)][_0x127be4(0x22e)](_0x4cced0,_0x2b2723[_0x127be4(0x1a4)]);return _0x42e099[_0x127be4(0x1b4)][_0x127be4(0x2ce)];}else{if(_0x2b2723['PqYfe'](_0x4b21d2['name'],_0x4aad3e))return!![];}}catch(_0x14ab6c){if(_0x2b2723[_0x127be4(0x193)](_0x2b2723[_0x127be4(0x288)],_0x2b2723[_0x127be4(0x31f)])){if(_0x2b2723[_0x127be4(0x270)](_0x148279,0x0)){if(_0x2b2723['rTMnx'](_0x2b2723[_0x127be4(0x29f)],_0x2b2723['oiRaM']))_0x2b2723[_0x127be4(0x1c2)](_0x3752d8[_0x127be4(0x303)],_0x57eb06)&&(_0x2b6b5a=_0x327591['id']);else return logger[_0x127be4(0x2b5)](_0x127be4(0x140)+_0x14ab6c+':'+_0x14ab6c[_0x127be4(0x2cc)]),{};}return await new Promise(_0x1828f3=>{const _0x1711fb=_0x127be4,_0x2f70cf={};_0x2f70cf[_0x1711fb(0x24a)]=_0x2b2723[_0x1711fb(0x2f7)];const _0x348391=_0x2f70cf;_0x2b2723[_0x1711fb(0x1c6)](_0x2b2723[_0x1711fb(0x1e1)],_0x2b2723[_0x1711fb(0x1e1)])?_0x1db548[_0x1711fb(0x17e)](_0x348391[_0x1711fb(0x24a)]):_0x2b2723[_0x1711fb(0x20f)](setTimeout,()=>_0x1828f3(),0x3e8);}),this[_0x127be4(0x2ed)](_0x108d8c,_0x2b2723[_0x127be4(0x184)](_0x148279,0x1));}else throw new _0x12d225(_0x2b2723[_0x127be4(0x213)],_0x127be4(0x1a0)+_0x5afa77[_0x127be4(0x227)](_0x238502));}}async[a1_0x9ec1e4(0x2e5)](){const _0x2bddfe=a1_0x9ec1e4,_0x1b7bab={};_0x1b7bab[_0x2bddfe(0x2c6)]=function(_0x432aef,_0x54670f){return _0x432aef===_0x54670f;},_0x1b7bab['YajjL']=function(_0x301d6d,_0x132bb1){return _0x301d6d===_0x132bb1;},_0x1b7bab[_0x2bddfe(0x260)]='pLcTU',_0x1b7bab['zpFMC']=function(_0x494f0c,_0x2fcd09){return _0x494f0c===_0x2fcd09;},_0x1b7bab[_0x2bddfe(0x212)]='browserstack:managedBy',_0x1b7bab[_0x2bddfe(0x2d5)]=_0x2bddfe(0x1b1),_0x1b7bab[_0x2bddfe(0x1eb)]=function(_0x737786,_0x49b4dc){return _0x737786!==_0x49b4dc;},_0x1b7bab[_0x2bddfe(0x235)]=_0x2bddfe(0x1cb);const _0x299d59=_0x1b7bab;if(!this[_0x2bddfe(0x2ee)]){if(_0x299d59['YajjL'](_0x299d59[_0x2bddfe(0x260)],_0x299d59[_0x2bddfe(0x260)]))await this[_0x2bddfe(0x2f3)]();else{if(_0x299d59[_0x2bddfe(0x2c6)](_0x2991dc[_0x2bddfe(0x303)],_0x2bddfe(0x14b)+this[_0x2bddfe(0x233)]))return!![];}}const _0x45aa4e=this[_0x2bddfe(0x2ee)]?.[_0x2bddfe(0x226)]||{};if(_0x45aa4e&&_0x299d59['zpFMC'](_0x45aa4e[_0x299d59[_0x2bddfe(0x212)]],_0x299d59['HNrMN'])){if(_0x299d59['gqKqX'](_0x299d59[_0x2bddfe(0x235)],_0x299d59[_0x2bddfe(0x235)]))_0x2f97ef[_0x2bddfe(0x2b5)]=_0x2be35d;else return!![];}return![];}async['deleteCluster'](_0x2a2a3b,_0x332e92){const _0x4bf50a=a1_0x9ec1e4,_0x3b54c1={'EuZoO':function(_0x2c5450,_0x257241){return _0x2c5450(_0x257241);},'XdYrG':'Deleted\x20the\x20cluster\x20successfully'};await _0x3b54c1[_0x4bf50a(0x19e)](deleteAgent,_0x2a2a3b),await _0x3b54c1[_0x4bf50a(0x19e)](deleteRoutingDeps,_0x2a2a3b);const _0x4739c4=this[_0x4bf50a(0x13b)];logger[_0x4bf50a(0x17e)](_0x4bf50a(0x22d)+this[_0x4bf50a(0x233)]),await _0x4739c4[_0x4bf50a(0x222)]['beginDeleteAndWait'](global_registry['cloudProviderResourceGroup'],this['clusterName']),logger[_0x4bf50a(0x17e)](_0x3b54c1[_0x4bf50a(0x26b)]);}async[a1_0x9ec1e4(0x2f8)](){const _0x4bb43d=a1_0x9ec1e4,_0x48e021={};_0x48e021['vEdCr']=_0x4bb43d(0x1e9),_0x48e021[_0x4bb43d(0x29d)]=function(_0x421f43,_0x55eede){return _0x421f43===_0x55eede;},_0x48e021[_0x4bb43d(0x1fd)]=_0x4bb43d(0x19a),_0x48e021[_0x4bb43d(0x23a)]=function(_0x26df32,_0x312bcc){return _0x26df32&&_0x312bcc;},_0x48e021[_0x4bb43d(0x20a)]=function(_0x52b5c9,_0x3d2975){return _0x52b5c9!==_0x3d2975;},_0x48e021['SJUvW']=_0x4bb43d(0x143),_0x48e021[_0x4bb43d(0x1e6)]=_0x4bb43d(0x2bf),_0x48e021[_0x4bb43d(0x295)]=_0x4bb43d(0x2fd),_0x48e021['WhsuB']=function(_0x3d3ce4,_0x460f8d){return _0x3d3ce4===_0x460f8d;},_0x48e021[_0x4bb43d(0x26a)]=_0x4bb43d(0x1e3),_0x48e021['aeveU']=_0x4bb43d(0x154),_0x48e021['QwKex']='Enabling\x20Local\x20account\x20for\x20the\x20cluster';const _0x82e5=_0x48e021;if(!this[_0x4bb43d(0x2ee)]){if(_0x82e5[_0x4bb43d(0x29d)](_0x82e5[_0x4bb43d(0x1fd)],_0x82e5[_0x4bb43d(0x1fd)]))await this[_0x4bb43d(0x2f3)]();else{_0x50035a[_0x4bb43d(0x17e)](_0x82e5[_0x4bb43d(0x1f1)]);const _0x2fd872={};_0x2fd872[_0x4bb43d(0x1e8)]=_0x3fc723[_0x4bb43d(0x144)],_0x2fd872[_0x4bb43d(0x191)]=_0x82e5[_0x4bb43d(0x1f1)],this[_0x4bb43d(0x264)]['sendEventToBackend'](this[_0x4bb43d(0x1ad)],_0x2fd872);const _0x5d7837={};_0x5d7837[_0x4bb43d(0x251)]=!![];const _0xb7aaae={'workloadIdentity':_0x5d7837,..._0x409524[_0x4bb43d(0x136)]};_0x1d502c['securityProfile']=_0xb7aaae;}}const _0x2acd1e=this[_0x4bb43d(0x2ee)],_0xddc6fd=this[_0x4bb43d(0x2ee)]?.['oidcIssuerProfile']?.[_0x4bb43d(0x251)]||![],_0x31690f=this[_0x4bb43d(0x2ee)]?.['securityProfile']?.[_0x4bb43d(0x27d)]?.[_0x4bb43d(0x251)]||![],_0x52ce66=!this['clusterInfo']?.[_0x4bb43d(0x138)]||![];if(_0x82e5['uZUah'](_0xddc6fd,_0x31690f)&&_0x52ce66){if(_0x82e5['BCoDf'](_0x82e5[_0x4bb43d(0x27f)],_0x82e5[_0x4bb43d(0x27f)]))return _0x5a24fd[_0x4bb43d(0x2b5)](_0x4bb43d(0x21b)+_0x3ed0ba+'.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20'+_0x1d55bf),![];else return;}if(!_0xddc6fd){if(_0x82e5[_0x4bb43d(0x29d)](_0x82e5[_0x4bb43d(0x1e6)],_0x82e5[_0x4bb43d(0x1e6)])){logger['info'](_0x82e5[_0x4bb43d(0x295)]);const _0x32b2b0={};_0x32b2b0[_0x4bb43d(0x1e8)]=WS_EVENTS[_0x4bb43d(0x144)],_0x32b2b0[_0x4bb43d(0x191)]=_0x82e5[_0x4bb43d(0x295)],this['webSocketUtils'][_0x4bb43d(0x24b)](this[_0x4bb43d(0x1ad)],_0x32b2b0),_0x2acd1e[_0x4bb43d(0x217)]['enabled']=!![];}else _0x4ca968[_0x4bb43d(0x192)](..._0xec044b[_0x4bb43d(0x28a)]);}if(!_0x31690f){if(_0x82e5[_0x4bb43d(0x206)](_0x82e5[_0x4bb43d(0x26a)],_0x82e5['krVGr'])){logger['info'](_0x82e5['vEdCr']);const _0x16f020={};_0x16f020[_0x4bb43d(0x1e8)]=WS_EVENTS[_0x4bb43d(0x144)],_0x16f020[_0x4bb43d(0x191)]=_0x82e5[_0x4bb43d(0x1f1)],this[_0x4bb43d(0x264)][_0x4bb43d(0x24b)](this['rws'],_0x16f020);const _0x23a0dd={};_0x23a0dd[_0x4bb43d(0x251)]=!![],_0x2acd1e['securityProfile']={'workloadIdentity':_0x23a0dd,..._0x2acd1e['securityProfile']};}else _0x345566[_0x4bb43d(0x192)](_0x570a5d['name']);}if(!_0x52ce66){if(_0x82e5[_0x4bb43d(0x20a)](_0x82e5[_0x4bb43d(0x2aa)],_0x82e5['aeveU']))return _0x1f724a['error'](_0x4bb43d(0x19b)+_0x676b86+_0x4bb43d(0x2d4)+_0x30a01a),[![],[]];else{logger[_0x4bb43d(0x17e)](_0x82e5[_0x4bb43d(0x19f)]);const _0x4e3f32={};_0x4e3f32[_0x4bb43d(0x1e8)]=WS_EVENTS[_0x4bb43d(0x144)],_0x4e3f32[_0x4bb43d(0x191)]=_0x82e5[_0x4bb43d(0x19f)],this['webSocketUtils'][_0x4bb43d(0x24b)](this[_0x4bb43d(0x1ad)],_0x4e3f32),_0x2acd1e[_0x4bb43d(0x138)]=![];}}await this[_0x4bb43d(0x13b)][_0x4bb43d(0x222)][_0x4bb43d(0x23c)](global_registry['cloudProviderResourceGroup'],this['clusterName'],_0x2acd1e),await this[_0x4bb43d(0x2f3)]();}async['sendAzureInfoToHST'](){const _0x196cc3=a1_0x9ec1e4,_0x4c0f1b={'FCKjI':function(_0x51ed16,_0xeb9e16,_0x5a39e4){return _0x51ed16(_0xeb9e16,_0x5a39e4);},'uzWvg':function(_0x1c6085,_0x56a81b){return _0x1c6085===_0x56a81b;},'yoMeu':'hwYGy'},_0x4b51a6=await this['networkClient'][_0x196cc3(0x20d)][_0x196cc3(0x231)](global_registry['cloudProviderResourceGroup']),_0x24ce49={};_0x24ce49[_0x196cc3(0x141)]=global_registry[_0x196cc3(0x2d1)],_0x24ce49['accessKey']=global_registry[_0x196cc3(0x1fa)],_0x24ce49['cloudProvider']=AZURE,_0x24ce49['vpcInfo']=[];const _0x130ad1=_0x24ce49;for await(const _0x18f49a of _0x4b51a6){_0x4c0f1b[_0x196cc3(0x161)](_0x4c0f1b['yoMeu'],_0x4c0f1b['yoMeu'])?_0x130ad1[_0x196cc3(0x29e)][_0x196cc3(0x192)](_0x18f49a):_0x4c0f1b[_0x196cc3(0x2e8)](_0x500cd8,()=>_0x2e4ea7(),0x3e8);}const _0x53a3b1={};_0x53a3b1[_0x196cc3(0x1e8)]=WS_EVENTS[_0x196cc3(0x144)],_0x53a3b1[_0x196cc3(0x191)]=_0x130ad1,this[_0x196cc3(0x264)][_0x196cc3(0x24b)](this[_0x196cc3(0x1ad)],_0x53a3b1);}async[a1_0x9ec1e4(0x1d0)](_0x90e5a4){const _0x4313da=a1_0x9ec1e4,_0x44b8b7={};_0x44b8b7['zRCpd']=_0x4313da(0x17f),_0x44b8b7[_0x4313da(0x2c2)]='No\x20attached\x20role\x20for\x20the\x20client\x20key',_0x44b8b7[_0x4313da(0x190)]=function(_0x5587c6,_0x4f2782){return _0x5587c6!==_0x4f2782;},_0x44b8b7[_0x4313da(0x160)]='LhPiO',_0x44b8b7[_0x4313da(0x256)]=_0x4313da(0x187),_0x44b8b7['Azxlm']=_0x4313da(0x1ea),_0x44b8b7[_0x4313da(0x2b7)]=function(_0xf46b8b,_0x318b11){return _0xf46b8b===_0x318b11;},_0x44b8b7[_0x4313da(0x293)]=function(_0x4245fe,_0x430a49){return _0x4245fe===_0x430a49;},_0x44b8b7['msRSz']=_0x4313da(0x28e),_0x44b8b7[_0x4313da(0x2e0)]='bCmAG',_0x44b8b7['mqLJz']='PQjWZ';const _0x272fc1=_0x44b8b7;try{if(_0x272fc1['mWalp'](_0x272fc1['gKcLr'],_0x272fc1[_0x4313da(0x256)])){const _0x1c305a=await this[_0x4313da(0x311)][_0x4313da(0x20d)][_0x4313da(0x231)](global_registry[_0x4313da(0x2cd)]);for await(const _0x35dd5c of _0x1c305a){if(_0x272fc1[_0x4313da(0x190)](_0x272fc1[_0x4313da(0x313)],_0x272fc1[_0x4313da(0x313)])){const _0x1ffd37=_0x272fc1['zRCpd']['split']('|');let _0x5270f3=0x0;while(!![]){switch(_0x1ffd37[_0x5270f3++]){case'0':_0x325c18['cloudProviderClientSecret']=_0x30c017[this[_0x4313da(0x316)]][_0x4313da(0x26e)];continue;case'1':_0x19bac5['cloudProviderResourceGroup']=_0x932723[this[_0x4313da(0x316)]][_0x4313da(0x18f)];continue;case'2':_0x3d83ab['cloudProviderSubscriptionId']=_0xef0bc6[this[_0x4313da(0x316)]][_0x4313da(0x166)];continue;case'3':_0x6c4665[_0x4313da(0x2f6)]=_0x1b3f3f[this['cloudProviderName']][_0x4313da(0x2fb)];continue;case'4':this['setClients']();continue;case'5':_0x4bdef3[_0x4313da(0x1b5)]=_0x35c2b5[this[_0x4313da(0x316)]][_0x4313da(0x2ce)];continue;}break;}}else{if(_0x272fc1['JdEUs'](_0x35dd5c['name'],_0x90e5a4))return _0x272fc1['jeWCE'](_0x272fc1['msRSz'],_0x272fc1[_0x4313da(0x31a)])?!![]:(_0x3361c8[_0x4313da(0x1c7)]=_0x272fc1[_0x4313da(0x2c2)],_0x8b80bd);}}}else return _0x10d085[_0x4313da(0x1e5)]['loadBalancer'][_0x4313da(0x1c1)][0x0][_0x4313da(0x1aa)];}catch(_0x1d3245){if(_0x272fc1[_0x4313da(0x293)](_0x272fc1['mykjp'],_0x272fc1['mqLJz']))_0x1b7132['push'](_0x1113bb);else return logger[_0x4313da(0x2b5)](_0x4313da(0x21b)+_0x90e5a4+_0x4313da(0x267)+_0x1d3245),![];}return![];}async['isSubnetsValid'](_0x42dffa,_0x3cad3d){const _0x54029c=a1_0x9ec1e4,_0x197c50={};_0x197c50['EjuXv']='No\x20CLI\x20tool\x20required',_0x197c50[_0x54029c(0x1fe)]=function(_0x358362,_0x2e8096){return _0x358362!==_0x2e8096;},_0x197c50[_0x54029c(0x18c)]=_0x54029c(0x198),_0x197c50[_0x54029c(0x1d1)]=function(_0xcc8426,_0x5ffccc){return _0xcc8426===_0x5ffccc;},_0x197c50['RVLHZ']=_0x54029c(0x186),_0x197c50['ofijY']=_0x54029c(0x2cb);const _0x1dd72c=_0x197c50;try{if(_0x1dd72c['cFnUo'](_0x1dd72c[_0x54029c(0x18c)],_0x1dd72c['VQrco'])){const _0x37b375={};_0x37b375[_0x54029c(0x1e5)]=!![],_0x37b375[_0x54029c(0x2b5)]=null,_0x37b375[_0x54029c(0x1c7)]=_0x1dd72c[_0x54029c(0x312)];const _0x595e6d=_0x37b375;return _0x595e6d;}else{const _0x642a3f=await this['networkClient'][_0x54029c(0x199)]['get'](global_registry[_0x54029c(0x2cd)],_0x3cad3d,_0x42dffa[0x0]);if(_0x1dd72c[_0x54029c(0x1d1)](_0x42dffa[0x0],_0x642a3f[_0x54029c(0x303)]))return _0x1dd72c['pSZAp'](_0x1dd72c[_0x54029c(0x157)],_0x1dd72c[_0x54029c(0x25f)])?!![]:[!![],_0x42dffa];}}catch(_0x174d08){return logger[_0x54029c(0x2b5)](_0x54029c(0x19b)+_0x42dffa+'.\x20Error:\x20'+_0x174d08),[![],[]];}return[![],[]];}async[a1_0x9ec1e4(0x1f8)](){const _0x881a3a=a1_0x9ec1e4,_0x587693={};_0x587693[_0x881a3a(0x153)]='No\x20CLI\x20tool\x20required';const _0x598d40=_0x587693,_0x3d9af0={};_0x3d9af0[_0x881a3a(0x1e5)]=!![],_0x3d9af0[_0x881a3a(0x2b5)]=null,_0x3d9af0[_0x881a3a(0x1c7)]=_0x598d40['hLkKK'];const _0x5895c7=_0x3d9af0;return _0x5895c7;}async[a1_0x9ec1e4(0x1cc)](){const _0x509092=a1_0x9ec1e4,_0x577d2e={};_0x577d2e['LDonL']=_0x509092(0x1c9),_0x577d2e[_0x509092(0x152)]=_0x509092(0x19d),_0x577d2e['cNEqz']='application/json';const _0x17b8a5=_0x577d2e,_0x512da5=await this[_0x509092(0x283)][_0x509092(0x2ec)](_0x17b8a5[_0x509092(0x182)]),_0x4e098a={};_0x4e098a['method']=_0x17b8a5['TnlxK'],_0x4e098a[_0x509092(0x229)]={},_0x4e098a[_0x509092(0x229)][_0x509092(0x302)]=_0x509092(0x30b)+_0x512da5[_0x509092(0x24f)],_0x4e098a[_0x509092(0x229)][_0x509092(0x1d6)]=_0x17b8a5[_0x509092(0x269)];const _0x32700e=_0x4e098a;return _0x32700e;}async[a1_0x9ec1e4(0x18e)](_0x5d7a4a){const _0x517d39=a1_0x9ec1e4,_0x3b653b={'ASlfi':function(_0x50293f,_0x164e91,_0x277b22){return _0x50293f(_0x164e91,_0x277b22);},'cOkiS':function(_0x284f8d,_0x5204cd){return _0x284f8d===_0x5204cd;},'wMDdE':_0x517d39(0x1ac)},_0x45cb46={};_0x45cb46[_0x517d39(0x1d8)]='',_0x45cb46['error']=null;const _0x45461e=_0x45cb46;try{const _0x4efadb='https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27'+_0x5d7a4a+'\x27',_0x4a15c4=await this[_0x517d39(0x1cc)](),_0x2bf2a5=await _0x3b653b[_0x517d39(0x2b6)](fetch,_0x4efadb,_0x4a15c4),_0x2e9788=await _0x2bf2a5[_0x517d39(0x21a)]();if(!_0x2e9788[_0x517d39(0x2b8)]||_0x3b653b[_0x517d39(0x16e)](_0x2e9788[_0x517d39(0x2b8)]['length'],0x0))throw new Error(_0x3b653b[_0x517d39(0x21d)],_0x517d39(0x1a0)+JSON[_0x517d39(0x227)](_0x2e9788));_0x45461e[_0x517d39(0x1d8)]=_0x2e9788[_0x517d39(0x2b8)][0x0]['id'];}catch(_0x5014d4){_0x45461e[_0x517d39(0x2b5)]=_0x5014d4;}return _0x45461e;}async[a1_0x9ec1e4(0x276)](){const _0x4a7675=a1_0x9ec1e4,_0x2fc1af={};_0x2fc1af[_0x4a7675(0x279)]=_0x4a7675(0x323),_0x2fc1af[_0x4a7675(0x168)]='denied',_0x2fc1af[_0x4a7675(0x320)]=function(_0x328637,_0x291bfd){return _0x328637!==_0x291bfd;},_0x2fc1af[_0x4a7675(0x2ab)]=function(_0x1b4faa,_0x42c9a1){return _0x1b4faa===_0x42c9a1;},_0x2fc1af[_0x4a7675(0x174)]=_0x4a7675(0x2a0),_0x2fc1af['Xxgge']=function(_0x2ec033,_0xbe540d){return _0x2ec033===_0xbe540d;},_0x2fc1af['qlEyX']=_0x4a7675(0x2d9),_0x2fc1af[_0x4a7675(0x247)]=function(_0x16786f,_0x420585){return _0x16786f===_0x420585;},_0x2fc1af[_0x4a7675(0x2bb)]=function(_0x45b69b,_0xdaad39){return _0x45b69b===_0xdaad39;},_0x2fc1af[_0x4a7675(0x322)]=_0x4a7675(0x236);const _0x5c80cf=_0x2fc1af,_0x107772={};_0x107772[_0x4a7675(0x1e5)]=![],_0x107772[_0x4a7675(0x2b5)]=null,_0x107772[_0x4a7675(0x1c7)]='';const _0x12c238=_0x107772;try{let _0x1f123c='';const _0x4642a1=_0x4a7675(0x14a)+global_registry[_0x4a7675(0x1f9)]+_0x4a7675(0x27a)+global_registry[_0x4a7675(0x2cd)],_0x521f12=await this['getPrincipalIdFromClientId'](global_registry[_0x4a7675(0x1b5)]);if(_0x5c80cf[_0x4a7675(0x320)](_0x521f12[_0x4a7675(0x2b5)],null))return _0x12c238[_0x4a7675(0x2b5)]=_0x521f12[_0x4a7675(0x2b5)],_0x12c238;const _0x241427=_0x4a7675(0x1bc)+_0x521f12['principalId']+'\x27)',_0x3bf87b={};_0x3bf87b[_0x4a7675(0x2be)]=_0x241427;const _0x546386=await this['authClient'][_0x4a7675(0x142)][_0x4a7675(0x15d)](_0x4642a1,_0x3bf87b),_0x30f69f=[];for await(const _0xdec0cb of _0x546386){_0x30f69f[_0x4a7675(0x192)](_0xdec0cb);}if(_0x5c80cf['GUJij'](_0x30f69f[_0x4a7675(0x31e)],0x0))return _0x12c238['data']=_0x5c80cf[_0x4a7675(0x174)],_0x12c238;const _0x1c859b=[...new Set(_0x30f69f[_0x4a7675(0x170)](_0x2bab94=>_0x2bab94[_0x4a7675(0x2ac)]))];if(_0x5c80cf[_0x4a7675(0x223)](_0x1c859b[_0x4a7675(0x31e)],0x0))return _0x12c238[_0x4a7675(0x1c7)]=_0x5c80cf[_0x4a7675(0x2f9)],_0x12c238;const _0x48ef78=[],_0x704465=[];for(const _0x451dda of _0x1c859b){const _0x27c5d4=await this[_0x4a7675(0x2d0)][_0x4a7675(0x2dc)]['getById'](_0x451dda);logger[_0x4a7675(0x30c)](_0x4a7675(0x30d)+_0x27c5d4[_0x4a7675(0x252)]),_0x48ef78['push'](_0x27c5d4),logger[_0x4a7675(0x30c)](_0x4a7675(0x29b)+JSON[_0x4a7675(0x227)](_0x27c5d4[_0x4a7675(0x23b)])),_0x27c5d4[_0x4a7675(0x23b)][_0x4a7675(0x1ed)](_0x3fdab9=>{const _0x413ed6=_0x4a7675;_0x704465[_0x413ed6(0x192)](..._0x3fdab9['actions']);});}logger[_0x4a7675(0x30c)]('actionPermission\x20:\x20'+JSON[_0x4a7675(0x227)](_0x704465)),_0x5c80cf['bxutE'](_0x704465[_0x4a7675(0x31e)],0x0)&&(_0x1f123c+=_0x5c80cf['oRfkY'](_0x704465[_0x4a7675(0x31e)],0x0)?_0x5c80cf[_0x4a7675(0x322)]:'',logger[_0x4a7675(0x30c)](_0x4a7675(0x309)+JSON['stringify'](_0x48ef78))),_0x12c238[_0x4a7675(0x1e5)]=!![],Object[_0x4a7675(0x183)](PERMISSIONS['ACTION'])[_0x4a7675(0x1ed)](([_0x343a5e,_0x1b2568])=>{const _0x10fca1=_0x4a7675,_0x67d423=_0x704465[_0x10fca1(0x1fc)](_0x343a5e);_0x1f123c+='\x0a\x09'+_0x1b2568+':\x20'+(_0x67d423?_0x5c80cf['TfaBQ']:_0x5c80cf[_0x10fca1(0x168)]),!_0x67d423&&(_0x12c238[_0x10fca1(0x1e5)]=![]);}),_0x12c238[_0x4a7675(0x1c7)]=_0x1f123c;}catch(_0x3482a0){_0x12c238[_0x4a7675(0x2b5)]=_0x3482a0;}return _0x12c238;}}const a1_0x36b467={};function a1_0x2368(_0x6d2109,_0x219ca8){const _0x4a4215=a1_0x4a42();return a1_0x2368=function(_0x23681a,_0x42d032){_0x23681a=_0x23681a-0x136;let _0x48c6c7=_0x4a4215[_0x23681a];return _0x48c6c7;},a1_0x2368(_0x6d2109,_0x219ca8);}a1_0x36b467['AzureCloudProvider']=AzureCloudProvider,module[a1_0x9ec1e4(0x1d9)]=a1_0x36b467;