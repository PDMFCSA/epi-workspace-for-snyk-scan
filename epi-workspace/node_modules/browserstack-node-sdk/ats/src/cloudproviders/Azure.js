function a1_0x2853(_0x3923f1,_0x3d4ae4){const _0x39c32b=a1_0x39c3();return a1_0x2853=function(_0x285356,_0x116f66){_0x285356=_0x285356-0x1f2;let _0x152c28=_0x39c32b[_0x285356];return _0x152c28;},a1_0x2853(_0x3923f1,_0x3d4ae4);}const a1_0x4d1e76=a1_0x2853;function a1_0x39c3(){const _0x1ac476=['ZBBQG','cred','REsRE','ghhzc','WOkao','IPBdi','false','FHmee','rIJtt','filter','roleDefinitionId','clusterInfo','209400ykdKNg','pHJMd','lBrxY','fAYTI','eaWnD','oTxNV','ikTkR','IQQYl','ybqqa','samhO','securityProfile','@azure/identity','message','EktBT','isClusterPresent','createCluster','disableLocalAccounts','GaAfT','deleteCluster','[variables(\x27vnetSubnetID\x27)]','qxWZs','bOTwc','turboscale-federated-deployment','789924ajWOIC','pxKOm','MIBwf','UQjee','wVWUZ','IiupI','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','jIypU','jsvYT','subscriptions/','PIxVS','clientId','getPrincipalIdFromClientId','MTRUm','storageClient','\x20TENANT\x20ID:\x20','goQGo','pCcHx','cloudProviderClientSecret','TrHfr','iPVui','workloadIdentity','Created\x20Azure\x20federated\x20identity','cloudProviderTenantId','bVbZv','AIBtD','EVnOp','MZKcL','Authorization','VYLiN','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','JlXja','xJQMd','resourceGroups','Incremental','loadBalancer','xNKNh','KPVFx','WjPaz','getUserInput','cloudProviderSubscriptionId','federatedidentityuploader.json','FMPmB','gAcQE','bzBaq','cyMeT','CIBIC','lQemX','Adtpm','.json','xaOcd','Found\x20only\x20one\x20resource\x20group:\x20','OgIvL','Managed\x20identity\x20already\x20exists,\x20skipping','vQPAd','LRoth','BueWL','FCzZg','YemxD','Action\x20permission\x20list\x20is\x20empty\x0a','sendEventToBackend','subscriptionId','jucaz','turboscale-storageaccount-deployment','cjbrD','sYtLs','byrhj','FPhoC','accessKey','roleDefinitions','xEdZG','tNyey','readFileAsync','xPIrg','subnetName','tenantId','LmeBp','turboscale','TajJK','hostname','eDzxJ','zhfpl','clusterName','RESOURCES','token','error','properties','Gdiiq','UNhaR','RyeWG','RtzDr','oOWOG','No\x20service\x20principal\x20found','dlaSZ','DgHuk','toLowerCase','svYqM','154341vYxBHD','dAljp','exports','get','getResourceClientId','push','351436UwqmlK','vEBZh','GqZmk','username','cTUZs','nNwTL','createFederatedAccountForHubHA','Deleting\x20the\x20cluster\x20','instanceType','YVuPh','actions','parse','RbSmp','urXzy','\x20RESOURCE\x20GROUP:\x20','turboscale-identity-deployment','BUmiE','zBjmp','Content-Type','dBLRp','WIwBi','LOG','RzgSY','wuLdB','hubHaNameSpace','hsOiX','entries','tSMMr','../utils/utilityMethods','SEVfs','HScJZ','vCcLb','MrgIq','method','clientSecret','VAzWC','isStorageAccountPresent','value','blobTypes','wDqXe','BrNNH','YNeLR','CkEyk','LFhCY','actionPermission\x20:\x20','yirvJ','roleAssignments','RVbRG','TdYkd','maxNodes','pCMPK','azureresources','MebxG','TrLWt','2318141dYOsth','sBIbV','rZQJV','3|2|1|0|5|4','oBlzv','js-yaml','deployments','definition','AnLqe','resources','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','Wetuo','OmmwR','74SJdnYb','elyzq','LIHbU','Vjhcj','ZlzIG','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','listForScope','DfIEh','uLjUU','../config/constants','beginCreateOrUpdateAndWait','fLsqB','../utils/gridComponents','amWmK','Creating\x20Azure\x20managed\x20identity','rws','JIVDf','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','xfFiq','nawBT','2023-01-31','wpbiB','turboscale-cluster-deployment','EFzGD','aSaCA','aRSeT','cfqOT','wWFyd','ydejx','BnfWv','jwUZo','join','slice','RzoKG','DuDQa','permissions','VsCcU','../config/logger','efBqL','jJnxT','CbibJ','FnNKq','./CloudProvider','RgabO','blockBlob','Creating\x20Azure\x20storage\x20account','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','PkDFq','description','\x20CLIENT\x20SECRET:\x20','forEach','s3Bucket','uhjyo','containerClient','string','pGmeR','setupHubHa','NSVty','vpcInfo','vhTtG','listByResourceGroup','LNLfA','resourceGroup','RefjQ','parameters','iIqhJ','CyHiE','clusterRegion','eprOf','ErwDz','agentPoolProfiles','FzYJT','fUkhh','PuAJu','rSmAQ','createOrUpdate','Bearer\x20','WWACv','kubeconfigs','role\x20name\x20attached\x20-\x20','variables','name','ruGjX','DXYbd','LxEOq','RmOiM','PSkhr','oiFDm','8488NJPOiK','virtualNetworks','UBmFO','GET','beginDeleteAndWait','5tpdcKR','networkClient','toUpperCase','Storage\x20account\x20already\x20exists,\x20skipping','QmSxM','HoWhH','HVSDU','wXYBX','bDGge','byidK','zFDIZ','length','YPzXg','DyLYE','qrpQw','zcwHy','debug','roleName','status','OzeTp','JzJLt','vpcName','data','@azure/arm-storage','Blob\x20delete\x20lifecycle','exlui','ZamHy','pjiFK','NYYCq','caZnK','authClient','managedClusters','listAll','WFIBb','kgLYy','enabled','isVPCPresent','includes','sendAzureInfoToHST','AqUnq','EMhCe','Qcair','No\x20CLI\x20tool\x20required','getResourceGroups','OGLZC','YhyJC','CZYRu','turboscale-managed-identity-','ZfFYa','TaJcI','oidcIssuerProfile','jGWLW','delete','storageAccounts','UmTvY','type','iaRDZ','vYPjr','ingress','JwJIG','FNArT','xsjCd','managedidentity.json','BlESY','KuUcy','WimMD','lMHTJ','cloudProvider','VqUZY','xpVam','jFSUF','kHMvg','getHeader','clusterAutoUpgrade','mCbux','getToken','MUJzw','WqxYZ','filters','HsXjU','createFederatedAccount','yCNtB','czSMe','hIzYc','userMaxNodes','6901202oyKeqw','lCAwc','32CpWyas','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','bugmt','/resourceGroups/','WxyTI','YiNeL','webSocketUtils','rkuzr','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','isManagedIdentityPresent','IsYrA','aqqHz','getClusterInfo','valNJ','ngFJl','BnZqB','VVCwJ','qoTLj','eQNGe','toString','node','mLZJj','isBrowserstackCluster','isCliToolInstalled','PjxaV','Fixnm','ZIZcV','ptigK','exjVX','cueCJ','DjJCS','CyMEO','managementPolicies','FmJbJ','cloudProviderResourceGroup','eDzha','JLwns','list','Ioomg','checkAccess','EsbYB','JxIgS','json','allowed','tags','federatedidentity','GndPo','resourceClient','6qTZVsm','QHUQX','xLSuX','cloudProviderClientId','bUbnq','Mamfb','issuerURL','XmWuw','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','VgnjO','https://graph.microsoft.com/.default','wQAwS','xidsv','IzWdE','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','CSIOw','IXmaO','aliPP','EIJKn','vnetSubnetID','storageaccount.json','Enabling\x20Local\x20account\x20for\x20the\x20cluster','gyimm','templates','createOtherResources','ZapYe','ORgIN','eCuLq','mQaEQ','denied','ACTION','sAJiE','0|5|4|1|3|2','.\x20Error:\x20','subnets','gridName','ixKgd','rZrND','oyfss','@azure/arm-network','log','CclvN','CmsGp','utf-8','soUKr','headers','qBuAx','cloudProviderName','ljfzr','exit','CCKvw','ohyzr','aPmEY','lmhsi','info','split','init','stringify','TvnDy','JtBPL','rules','YwNTP','VvdGX','setClients','JQMhS','No\x20attached\x20role\x20for\x20the\x20client\x20key','updateClusterAlreadyPresent','principalId','yDTjS','jbcav','isSubnetsValid','userInstanceType','metadata','bstackAccesskey','daysAfterCreationGreaterThan','UicWG','mXolq'];a1_0x39c3=function(){return _0x1ac476;};return a1_0x39c3();}(function(_0x30148a,_0xb387b7){const _0x56f3fd=a1_0x2853,_0x56c2bc=_0x30148a();while(!![]){try{const _0x451abd=parseInt(_0x56f3fd(0x227))/0x1*(-parseInt(_0x56f3fd(0x27f))/0x2)+-parseInt(_0x56f3fd(0x37b))/0x3+-parseInt(_0x56f3fd(0x3e2))/0x4*(parseInt(_0x56f3fd(0x284))/0x5)+parseInt(_0x56f3fd(0x30b))/0x6*(parseInt(_0x56f3fd(0x21a))/0x7)+-parseInt(_0x56f3fd(0x2db))/0x8*(parseInt(_0x56f3fd(0x3dc))/0x9)+-parseInt(_0x56f3fd(0x364))/0xa+parseInt(_0x56f3fd(0x2d9))/0xb;if(_0x451abd===_0xb387b7)break;else _0x56c2bc['push'](_0x56c2bc['shift']());}catch(_0x4d5196){_0x56c2bc['push'](_0x56c2bc['shift']());}}}(a1_0x39c3,0x31c0a));const fs=require('fs'),path=require('path'),yaml=require(a1_0x4d1e76(0x21f)),{logger}=require(a1_0x4d1e76(0x24c)),{CloudProvider}=require(a1_0x4d1e76(0x251)),{deleteRoutingDeps,deleteAgent}=require(a1_0x4d1e76(0x233)),{AZURE,WS_EVENTS,global_registry}=require(a1_0x4d1e76(0x230)),PERMISSIONS=require('../permissions/AZURE.json'),{ClientSecretCredential}=require(a1_0x4d1e76(0x36f)),{NetworkManagementClient}=require(a1_0x4d1e76(0x332)),{StorageManagementClient}=require(a1_0x4d1e76(0x29b)),{AuthorizationManagementClient}=require('@azure/arm-authorization'),{ResourceManagementClient}=require('@azure/arm-resources'),{ContainerServiceClient}=require('@azure/arm-containerservice'),{runCommand}=require(a1_0x4d1e76(0x200));class AzureCloudProvider extends CloudProvider{constructor(_0x24aecd,_0x3aa470,_0xc1ad5c,_0x20f4a6){const _0x77ab6a=a1_0x4d1e76,_0x24549f={};_0x24549f[_0x77ab6a(0x218)]='1|7|5|6|4|0|2|3';const _0xe51973=_0x24549f,_0x24eaab=_0xe51973[_0x77ab6a(0x218)]['split']('|');let _0x4ef008=0x0;while(!![]){switch(_0x24eaab[_0x4ef008++]){case'0':this[_0x77ab6a(0x30a)]=null;continue;case'1':super(AZURE,_0x24aecd,_0x3aa470,_0xc1ad5c,_0x20f4a6);continue;case'2':this['networkClient']=null;continue;case'3':this[_0x77ab6a(0x2a2)]=null;continue;case'4':this[_0x77ab6a(0x389)]=null;continue;case'5':this[_0x77ab6a(0x363)]=null;continue;case'6':this[_0x77ab6a(0x25c)]=null;continue;case'7':this[_0x77ab6a(0x359)]=null;continue;}break;}}async[a1_0x4d1e76(0x343)](){const _0x2c3792=a1_0x4d1e76;return await super[_0x2c3792(0x343)](),this;}['setClients'](){const _0x5c19d2=a1_0x4d1e76,_0x7b1871=new ClientSecretCredential(global_registry[_0x5c19d2(0x392)],global_registry[_0x5c19d2(0x30e)],global_registry[_0x5c19d2(0x38d)]);this[_0x5c19d2(0x25c)]=new ContainerServiceClient(_0x7b1871,global_registry[_0x5c19d2(0x3a3)]),this[_0x5c19d2(0x389)]=new StorageManagementClient(_0x7b1871,global_registry[_0x5c19d2(0x3a3)]),this['resourceClient']=new ResourceManagementClient(_0x7b1871,global_registry[_0x5c19d2(0x3a3)]),this[_0x5c19d2(0x285)]=new NetworkManagementClient(_0x7b1871,global_registry['cloudProviderSubscriptionId']),this['authClient']=new AuthorizationManagementClient(_0x7b1871,global_registry[_0x5c19d2(0x3a3)]),this[_0x5c19d2(0x359)]=_0x7b1871;}['getStorageAccountName'](){const _0x245b64=a1_0x4d1e76,_0x358d85={};_0x358d85[_0x245b64(0x37f)]=function(_0x4665da,_0x3c6983){return _0x4665da+_0x3c6983;},_0x358d85['kHMvg']=_0x245b64(0x3c8),_0x358d85[_0x245b64(0x2b5)]=function(_0x313d5a,_0x51def6){return _0x313d5a-_0x51def6;};const _0x3ac5ae=_0x358d85,_0x9d6e7f=global_registry[_0x245b64(0x25a)][_0x245b64(0x342)]('-'),_0xbf8e4a=_0x3ac5ae[_0x245b64(0x37f)](_0x3ac5ae[_0x245b64(0x2cb)],_0x9d6e7f[_0x3ac5ae[_0x245b64(0x2b5)](_0x9d6e7f[_0x245b64(0x28f)],0x1)])['slice'](0x0,0x18);return _0xbf8e4a[_0x245b64(0x3da)]();}['setCachedCredsInRegistry'](_0x1c06e3){const _0x4a7072=a1_0x4d1e76,_0x1c3694={};_0x1c3694[_0x4a7072(0x3d9)]=_0x4a7072(0x21d);const _0x2bebfb=_0x1c3694,_0x56a13f=_0x2bebfb['DgHuk'][_0x4a7072(0x342)]('|');let _0x331241=0x0;while(!![]){switch(_0x56a13f[_0x331241++]){case'0':global_registry['cloudProviderSubscriptionId']=_0x1c06e3[this[_0x4a7072(0x33a)]][_0x4a7072(0x3b8)];continue;case'1':global_registry[_0x4a7072(0x392)]=_0x1c06e3[this[_0x4a7072(0x33a)]][_0x4a7072(0x3c6)];continue;case'2':global_registry[_0x4a7072(0x38d)]=_0x1c06e3[this[_0x4a7072(0x33a)]][_0x4a7072(0x206)];continue;case'3':global_registry[_0x4a7072(0x30e)]=_0x1c06e3[this[_0x4a7072(0x33a)]][_0x4a7072(0x386)];continue;case'4':this[_0x4a7072(0x34a)]();continue;case'5':global_registry[_0x4a7072(0x2fd)]=_0x1c06e3[this[_0x4a7072(0x33a)]][_0x4a7072(0x265)];continue;}break;}}async[a1_0x4d1e76(0x3a2)](_0x434ddb,_0x52ab0f){const _0x1708be=a1_0x4d1e76,_0x89b0dd={'AqUnq':_0x1708be(0x2ae),'YwNTP':'No\x20service\x20principal\x20found','RefjQ':_0x1708be(0x2dc),'TrLWt':function(_0x41aceb,_0x2eb345){return _0x41aceb(_0x2eb345);},'bzBaq':function(_0x3e55d2,_0x5f24e7){return _0x3e55d2===_0x5f24e7;},'CclvN':function(_0x1fab1d,_0x18a293){return _0x1fab1d===_0x18a293;},'VAzWC':_0x1708be(0x225),'XoDWP':'KBeJT','JtBPL':_0x1708be(0x2f9),'wQAwS':function(_0xcd1ac7,_0x1aeef5){return _0xcd1ac7===_0x1aeef5;},'CyHiE':function(_0x568cdf,_0x110226){return _0x568cdf===_0x110226;},'fUkhh':function(_0x536450,_0x224e61){return _0x536450!==_0x224e61;},'NdSOV':_0x1708be(0x3a8),'WimMD':_0x1708be(0x211),'CbitJ':_0x1708be(0x281),'BlESY':_0x1708be(0x2a6),'RzgSY':function(_0x4f84aa,_0x1ea05f){return _0x4f84aa===_0x1ea05f;},'YuCaB':'IZEqE','uDvCP':'ZPYmE','EsbYB':function(_0x1a950a,_0x3bccf2){return _0x1a950a<_0x3bccf2;},'aqqHz':'gaTBE','ptigK':'ySlDS','byidK':function(_0x19e13c,_0x2c9635){return _0x19e13c+_0x2c9635;},'WIwBi':'Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','EMhCe':function(_0x5ef5d4,_0x29d7b2){return _0x5ef5d4(_0x29d7b2);},'KPVFx':function(_0xbf3635,_0x19fe25){return _0xbf3635<=_0x19fe25;},'vYPjr':function(_0x22aacd,_0x4e2009){return _0x22aacd>_0x4e2009;},'UCSzp':_0x1708be(0x3d4),'uhjyo':_0x1708be(0x3b9),'eaWnD':function(_0x35bb0d,_0x11936d){return _0x35bb0d-_0x11936d;}},_0x40d49b=this['cloudProviderName'][_0x1708be(0x286)](),_0xfebe66=await _0x89b0dd[_0x1708be(0x219)](_0x434ddb,_0x40d49b+'\x20CLIENT\x20ID:\x20'),_0x368ec7=await _0x89b0dd[_0x1708be(0x219)](_0x434ddb,_0x40d49b+_0x1708be(0x258)),_0x292f49=await _0x89b0dd[_0x1708be(0x219)](_0x434ddb,_0x40d49b+_0x1708be(0x38a)),_0x2c0d3e=await _0x89b0dd[_0x1708be(0x219)](_0x434ddb,_0x40d49b+'\x20SUBSCRIPTION\x20ID:\x20');global_registry['cloudProviderClientId']=_0xfebe66,global_registry[_0x1708be(0x38d)]=_0x368ec7,global_registry['cloudProviderTenantId']=_0x292f49,global_registry[_0x1708be(0x3a3)]=_0x2c0d3e,this['setClients']();const _0x550512=await this[_0x1708be(0x2af)](),_0x127690=_0x550512[_0x1708be(0x28f)];let _0x2585e7;if(_0x89b0dd[_0x1708be(0x3a7)](_0x127690,0x0))_0x89b0dd[_0x1708be(0x334)](_0x89b0dd[_0x1708be(0x207)],_0x89b0dd['VAzWC'])?_0x2585e7=await _0x89b0dd[_0x1708be(0x219)](_0x434ddb,_0x40d49b+_0x1708be(0x1f2)):_0x50fced[_0x1708be(0x3e1)](_0x464ee2[_0x1708be(0x278)]);else{if(_0x89b0dd[_0x1708be(0x334)](_0x127690,0x1)){if(_0x89b0dd['bzBaq'](_0x89b0dd['XoDWP'],_0x89b0dd[_0x1708be(0x346)])){const _0x46a356={};_0x46a356[_0x1708be(0x296)]=!![],_0x46a356[_0x1708be(0x3d0)]=null,_0x46a356[_0x1708be(0x29a)]=_0x89b0dd[_0x1708be(0x2ab)];const _0x10d099=_0x46a356;return _0x10d099;}else{const _0x47c8d5=await _0x89b0dd['TrLWt'](_0x434ddb,_0x1708be(0x3ae)+_0x550512[0x0]+'\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20');if(_0x89b0dd[_0x1708be(0x316)](_0x47c8d5,undefined)||_0x89b0dd[_0x1708be(0x269)](_0x47c8d5,null)||!(_0x89b0dd[_0x1708be(0x3a7)](_0x47c8d5[_0x1708be(0x3da)](),'y')||_0x89b0dd[_0x1708be(0x316)](_0x47c8d5['toLowerCase'](),'n'))){if(_0x89b0dd[_0x1708be(0x26f)](_0x89b0dd['NdSOV'],_0x89b0dd[_0x1708be(0x2c5)]))console['error'](_0x89b0dd[_0x1708be(0x266)]),process[_0x1708be(0x33c)](0x1);else return!![];}if(_0x89b0dd[_0x1708be(0x316)](_0x47c8d5[_0x1708be(0x3da)](),'n')){if(_0x89b0dd['fUkhh'](_0x89b0dd['CbitJ'],_0x89b0dd[_0x1708be(0x2c3)]))process[_0x1708be(0x33c)](0x0);else throw new _0x240c75(_0x89b0dd[_0x1708be(0x348)],'Received\x20response\x20-\x20'+_0x40e518[_0x1708be(0x344)](_0x3dd2ce));}_0x2585e7=_0x550512[0x0];}}else{if(_0x89b0dd[_0x1708be(0x1fa)](_0x89b0dd['YuCaB'],_0x89b0dd['uDvCP']))return!![];else{for(let _0x2e922b=0x0;_0x89b0dd[_0x1708be(0x303)](_0x2e922b,_0x550512[_0x1708be(0x28f)]);_0x2e922b+=0x1){_0x89b0dd[_0x1708be(0x26f)](_0x89b0dd[_0x1708be(0x2e6)],_0x89b0dd[_0x1708be(0x2f6)])?console[_0x1708be(0x333)]('['+_0x89b0dd[_0x1708be(0x28d)](_0x2e922b,0x1)+']\x20'+_0x550512[_0x2e922b]):_0x299004['push'](..._0x50505d[_0x1708be(0x3ec)]);}const _0x543a0d=await _0x89b0dd[_0x1708be(0x219)](_0x434ddb,_0x89b0dd[_0x1708be(0x1f8)]),_0x90cdc8=_0x89b0dd[_0x1708be(0x2ac)](Number,_0x543a0d);(_0x89b0dd[_0x1708be(0x2ac)](isNaN,_0x90cdc8)||_0x89b0dd[_0x1708be(0x3a0)](_0x90cdc8,0x0)||_0x89b0dd[_0x1708be(0x2bd)](_0x90cdc8,_0x127690))&&(_0x89b0dd[_0x1708be(0x1fa)](_0x89b0dd['UCSzp'],_0x89b0dd[_0x1708be(0x25b)])?(_0x5402d5['error'](_0x89b0dd[_0x1708be(0x266)]),_0x145c4b[_0x1708be(0x33c)](0x1)):(console[_0x1708be(0x3d0)](_0x89b0dd[_0x1708be(0x266)]),process[_0x1708be(0x33c)](0x1))),_0x2585e7=_0x550512[_0x89b0dd[_0x1708be(0x368)](_0x90cdc8,0x1)];}}}global_registry[_0x1708be(0x2fd)]=_0x2585e7;const _0x534692={};return _0x534692['clientId']=_0xfebe66,_0x534692['clientSecret']=_0x368ec7,_0x534692[_0x1708be(0x3c6)]=_0x292f49,_0x534692['subscriptionId']=_0x2c0d3e,_0x534692['resourceGroup']=_0x2585e7,_0x52ab0f[_0x1708be(0x2c7)][AZURE]=_0x534692,_0x52ab0f;}async[a1_0x4d1e76(0x2af)](){const _0x1f31ec=a1_0x4d1e76,_0x368532={};_0x368532['MIBwf']=function(_0x1f36a9,_0x2533fb){return _0x1f36a9===_0x2533fb;},_0x368532['DmgKb']=function(_0x451351,_0x1f4cdc){return _0x451351!==_0x1f4cdc;},_0x368532[_0x1f31ec(0x25e)]=_0x1f31ec(0x358),_0x368532[_0x1f31ec(0x375)]=_0x1f31ec(0x292),_0x368532[_0x1f31ec(0x330)]=_0x1f31ec(0x27b);const _0x514bea=_0x368532,_0x5742f7=[];try{if(_0x514bea['DmgKb'](_0x514bea[_0x1f31ec(0x25e)],_0x514bea[_0x1f31ec(0x25e)]))_0x5d3bca['exit'](0x0);else{const _0x57c6da=await this[_0x1f31ec(0x30a)][_0x1f31ec(0x39c)][_0x1f31ec(0x300)]();for await(const _0x57ebc7 of _0x57c6da){_0x514bea[_0x1f31ec(0x37d)](_0x514bea['GaAfT'],_0x514bea['rZrND'])?_0x514bea['MIBwf'](_0x3b8002[_0x1f31ec(0x278)],_0x4ab455)&&(_0x46f706=_0x1441c0['id']):_0x5742f7[_0x1f31ec(0x3e1)](_0x57ebc7[_0x1f31ec(0x278)]);}}}catch(_0x5deb14){}return _0x5742f7;}async['getClusterInfo'](){const _0xe6617=a1_0x4d1e76;return this[_0xe6617(0x363)]=await this['containerClient'][_0xe6617(0x2a3)][_0xe6617(0x3df)](global_registry[_0xe6617(0x2fd)],this[_0xe6617(0x3cd)]),this['clusterInfo'];}async['getKubeConfigData'](){const _0x221a3b=a1_0x4d1e76,_0x36aac5=await this[_0x221a3b(0x25c)][_0x221a3b(0x2a3)]['listClusterAdminCredentials'](global_registry['cloudProviderResourceGroup'],this[_0x221a3b(0x3cd)]),_0x19b5ad=_0x36aac5[_0x221a3b(0x275)][0x0]['value'][_0x221a3b(0x2ee)]();return _0x19b5ad;}['getGridHostname'](_0x5f2f29){const _0x4f160b=a1_0x4d1e76;return _0x5f2f29['status'][_0x4f160b(0x39e)][_0x4f160b(0x2be)][0x0][_0x4f160b(0x3ca)];}async[a1_0x4d1e76(0x372)](){const _0x4c0d93=a1_0x4d1e76,_0x312089={};_0x312089[_0x4c0d93(0x20d)]=_0x4c0d93(0x34c),_0x312089['iaRDZ']=function(_0x388b78,_0x2f44a5){return _0x388b78===_0x2f44a5;},_0x312089[_0x4c0d93(0x396)]=_0x4c0d93(0x23f),_0x312089[_0x4c0d93(0x383)]=function(_0x793c4e,_0x5aca3a){return _0x793c4e!==_0x5aca3a;},_0x312089[_0x4c0d93(0x38f)]=_0x4c0d93(0x331),_0x312089[_0x4c0d93(0x398)]=_0x4c0d93(0x35c),_0x312089[_0x4c0d93(0x3d8)]=_0x4c0d93(0x3db);const _0x578a01=_0x312089,_0x581b2f=new Array();for await(const _0x49ddf6 of this[_0x4c0d93(0x25c)]['managedClusters'][_0x4c0d93(0x263)](global_registry[_0x4c0d93(0x2fd)])){_0x578a01['iaRDZ'](_0x578a01[_0x4c0d93(0x396)],_0x578a01['MZKcL'])?_0x581b2f[_0x4c0d93(0x3e1)](_0x49ddf6):_0x1ed201['error']=_0x492b92;}for await(const _0x50a65e of _0x581b2f){if(_0x578a01['jsvYT'](_0x578a01[_0x4c0d93(0x38f)],_0x578a01['VYLiN'])){if(_0x578a01[_0x4c0d93(0x2bc)](_0x50a65e['name'],this[_0x4c0d93(0x3cd)])){if(_0x578a01[_0x4c0d93(0x2bc)](_0x578a01['dlaSZ'],_0x578a01[_0x4c0d93(0x3d8)]))return await this['getClusterInfo'](),!![];else _0x4fd95d[_0x4c0d93(0x296)]=![];}}else return _0x317447['data']=_0x578a01[_0x4c0d93(0x20d)],_0x56b3f5;}return![];}async['setupNewCluster'](_0x42c17f=null,_0x2bcdb4=null){const _0x5bb046=a1_0x4d1e76,_0x364e70={};_0x364e70[_0x5bb046(0x245)]=_0x5bb046(0x32b),_0x364e70['JlXja']='Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity';const _0x426f9c=_0x364e70,_0x2f56ab=_0x426f9c[_0x5bb046(0x245)][_0x5bb046(0x342)]('|');let _0x5a457f=0x0;while(!![]){switch(_0x2f56ab[_0x5a457f++]){case'0':this[_0x5bb046(0x2aa)]();continue;case'1':await this[_0x5bb046(0x373)](_0x42c17f,_0x2bcdb4);continue;case'2':return[_0x42c17f,_0x2bcdb4];case'3':await this[_0x5bb046(0x323)]();continue;case'4':logger[_0x5bb046(0x341)](_0x426f9c[_0x5bb046(0x39a)]);continue;case'5':const _0x3dc6b8={};_0x3dc6b8[_0x5bb046(0x2bb)]=WS_EVENTS[_0x5bb046(0x1f9)],_0x3dc6b8['message']=_0x426f9c['JlXja'],this[_0x5bb046(0x2e1)]['sendEventToBackend'](this['rws'],_0x3dc6b8);continue;}break;}}async['createCluster'](_0x593315=null,_0x345387=null){const _0x5c3040=a1_0x4d1e76,_0x357939={};_0x357939[_0x5c3040(0x2bf)]=_0x5c3040(0x2dc),_0x357939['bugmt']=_0x5c3040(0x322),_0x357939[_0x5c3040(0x262)]=_0x5c3040(0x217),_0x357939[_0x5c3040(0x23a)]='akscluster.json',_0x357939[_0x5c3040(0x248)]=_0x5c3040(0x336),_0x357939[_0x5c3040(0x26b)]='true',_0x357939[_0x5c3040(0x33d)]=_0x5c3040(0x35e),_0x357939[_0x5c3040(0x20c)]=function(_0x5e174a,_0x3ce972){return _0x5e174a!==_0x3ce972;},_0x357939[_0x5c3040(0x2c6)]=function(_0x282d64,_0x181695){return _0x282d64!==_0x181695;},_0x357939[_0x5c3040(0x2eb)]=function(_0x3d3010,_0x2f69b2){return _0x3d3010===_0x2f69b2;},_0x357939[_0x5c3040(0x3a9)]=_0x5c3040(0x3d2),_0x357939[_0x5c3040(0x318)]='QNjtD',_0x357939[_0x5c3040(0x340)]=_0x5c3040(0x25d),_0x357939['JJLOd']='Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.',_0x357939[_0x5c3040(0x268)]=_0x5c3040(0x238),_0x357939[_0x5c3040(0x270)]=_0x5c3040(0x377),_0x357939[_0x5c3040(0x244)]=_0x5c3040(0x23d),_0x357939['EVnOp']='Incremental';const _0x13f5c7=_0x357939;let _0x5023c7=await fs[_0x5c3040(0x3c3)](path[_0x5c3040(0x246)](__dirname,'..',_0x13f5c7[_0x5c3040(0x2dd)],_0x13f5c7['vhTtG'],_0x13f5c7[_0x5c3040(0x23a)]),_0x13f5c7[_0x5c3040(0x248)]);_0x5023c7=JSON[_0x5c3040(0x3ed)](_0x5023c7);const _0x3fee39={};_0x3fee39[_0x5c3040(0x209)]=this[_0x5c3040(0x3cd)];const _0x2a47bf={};_0x2a47bf[_0x5c3040(0x209)]=global_registry[_0x5c3040(0x26a)];const _0x55917f={};_0x55917f[_0x5c3040(0x209)]=global_registry[_0x5c3040(0x3ea)];const _0x1a87d1={};_0x1a87d1[_0x5c3040(0x209)]=global_registry[_0x5c3040(0x215)];const _0x4c6053={};_0x4c6053['value']=global_registry[_0x5c3040(0x2cd)]?_0x13f5c7[_0x5c3040(0x26b)]:_0x13f5c7[_0x5c3040(0x33d)];const _0x421e80={};_0x421e80['clusterName']=_0x3fee39,_0x421e80['location']=_0x2a47bf,_0x421e80[_0x5c3040(0x352)]=_0x55917f,_0x421e80[_0x5c3040(0x2d8)]=_0x1a87d1,_0x421e80[_0x5c3040(0x2cd)]=_0x4c6053;let _0x1e532d=_0x421e80;if(_0x13f5c7[_0x5c3040(0x20c)](_0x593315,null)&&_0x13f5c7[_0x5c3040(0x2c6)](_0x345387,null)){if(_0x13f5c7[_0x5c3040(0x2eb)](_0x13f5c7['CIBIC'],_0x13f5c7['IzWdE']))_0x1a8763[_0x5c3040(0x3d0)](_0x13f5c7[_0x5c3040(0x2bf)]),_0x2e601d[_0x5c3040(0x33c)](0x1);else{const _0x1e46c5={};_0x1e46c5[_0x5c3040(0x2bb)]=_0x13f5c7[_0x5c3040(0x340)],_0x1e46c5[_0x5c3040(0x353)]={},_0x1e46c5[_0x5c3040(0x353)][_0x5c3040(0x257)]=_0x13f5c7['JJLOd'];const _0x49beb5={};_0x49beb5[_0x5c3040(0x2bb)]=_0x13f5c7[_0x5c3040(0x340)],_0x49beb5[_0x5c3040(0x353)]={},_0x49beb5[_0x5c3040(0x353)][_0x5c3040(0x257)]=_0x13f5c7['JJLOd'],_0x5023c7[_0x5c3040(0x267)]={..._0x5023c7[_0x5c3040(0x267)],'vpcName':_0x1e46c5,'subnetName':_0x49beb5};const _0x55cb2e={};_0x55cb2e['vnetSubnetID']=_0x13f5c7['iIqhJ'],_0x5023c7[_0x5c3040(0x277)]=_0x55cb2e,_0x5023c7['resources'][0x0][_0x5c3040(0x3d1)][_0x5c3040(0x26d)][0x0]={..._0x5023c7[_0x5c3040(0x223)][0x0][_0x5c3040(0x3d1)][_0x5c3040(0x26d)][0x0],'vnetSubnetID':_0x13f5c7['PuAJu']};const _0x4653aa={};_0x4653aa[_0x5c3040(0x209)]=_0x593315;const _0x4f1717={};_0x4f1717[_0x5c3040(0x209)]=_0x345387[0x0],_0x1e532d={..._0x1e532d,'vpcName':_0x4653aa,'subnetName':_0x4f1717};}}await this['resourceClient']['deployments'][_0x5c3040(0x231)](global_registry['cloudProviderResourceGroup'],_0x13f5c7[_0x5c3040(0x244)],{'properties':{'template':_0x5023c7,'mode':_0x13f5c7[_0x5c3040(0x395)],'parameters':_0x1e532d}});}async['createOtherResources'](){const _0x54adbd=a1_0x4d1e76,_0x5f402c={};_0x5f402c[_0x54adbd(0x38c)]=_0x54adbd(0x287),_0x5f402c[_0x54adbd(0x2e5)]=function(_0x1116ac,_0x2cd9ed){return _0x1116ac===_0x2cd9ed;},_0x5f402c[_0x54adbd(0x1ff)]=function(_0x1904e0,_0x4d2ba0){return _0x1904e0!==_0x4d2ba0;},_0x5f402c[_0x54adbd(0x335)]=_0x54adbd(0x2f8),_0x5f402c['ydejx']=_0x54adbd(0x2a0),_0x5f402c[_0x54adbd(0x3e4)]=_0x54adbd(0x254),_0x5f402c[_0x54adbd(0x20b)]=function(_0x525ac8,_0x249656){return _0x525ac8===_0x249656;},_0x5f402c['CLqXL']=_0x54adbd(0x1fb),_0x5f402c[_0x54adbd(0x3ab)]=_0x54adbd(0x2ed),_0x5f402c[_0x54adbd(0x237)]=function(_0x59d3bc,_0xa98746){return _0x59d3bc===_0xa98746;},_0x5f402c[_0x54adbd(0x379)]=_0x54adbd(0x290),_0x5f402c[_0x54adbd(0x2c9)]=_0x54adbd(0x27a),_0x5f402c[_0x54adbd(0x382)]=_0x54adbd(0x235),_0x5f402c[_0x54adbd(0x3ee)]=function(_0x3d69eb,_0x8d9587){return _0x3d69eb===_0x8d9587;},_0x5f402c[_0x54adbd(0x3b2)]='sEany',_0x5f402c[_0x54adbd(0x31d)]=_0x54adbd(0x2c8),_0x5f402c[_0x54adbd(0x239)]='Managed\x20identity\x20already\x20exists,\x20skipping',_0x5f402c[_0x54adbd(0x3a1)]='Creating\x20Azure\x20federated\x20identity',_0x5f402c['FCzZg']=_0x54adbd(0x391);const _0x24bf9e=_0x5f402c,_0xed9e14=await this['isStorageAccountPresent']();if(!_0xed9e14){if(_0x24bf9e[_0x54adbd(0x1ff)](_0x24bf9e[_0x54adbd(0x335)],_0x24bf9e[_0x54adbd(0x243)])){const _0x51d099={};_0x51d099[_0x54adbd(0x2bb)]=WS_EVENTS[_0x54adbd(0x1f9)],_0x51d099[_0x54adbd(0x370)]=_0x24bf9e[_0x54adbd(0x3e4)],this[_0x54adbd(0x2e1)][_0x54adbd(0x3b7)](this[_0x54adbd(0x236)],_0x51d099),logger[_0x54adbd(0x341)](_0x24bf9e[_0x54adbd(0x3e4)]),await this['createStorageAccount']();}else _0x222556['info'](_0x24bf9e[_0x54adbd(0x38c)]);}else{if(_0x24bf9e[_0x54adbd(0x20b)](_0x24bf9e['CLqXL'],_0x24bf9e['Adtpm'])){if(_0x24bf9e['IsYrA'](_0x3fd166['name'],_0x1b4642))return!![];}else logger[_0x54adbd(0x341)](_0x24bf9e[_0x54adbd(0x38c)]);}const _0x33b83b=await this[_0x54adbd(0x2e4)]();if(!_0x33b83b){if(_0x24bf9e[_0x54adbd(0x237)](_0x24bf9e[_0x54adbd(0x379)],_0x24bf9e['xpVam'])){const _0xe9bf45=new _0x50e59b(_0x331400[_0x54adbd(0x392)],_0xf01b1a[_0x54adbd(0x30e)],_0x291b1a[_0x54adbd(0x38d)]);this['containerClient']=new _0x15ec11(_0xe9bf45,_0x4a993f['cloudProviderSubscriptionId']),this[_0x54adbd(0x389)]=new _0x5d599f(_0xe9bf45,_0x2737fc[_0x54adbd(0x3a3)]),this[_0x54adbd(0x30a)]=new _0x1fb5d5(_0xe9bf45,_0x543e24[_0x54adbd(0x3a3)]),this[_0x54adbd(0x285)]=new _0x157f02(_0xe9bf45,_0x4ddba8['cloudProviderSubscriptionId']),this['authClient']=new _0x33bb74(_0xe9bf45,_0x1e3d60[_0x54adbd(0x3a3)]),this[_0x54adbd(0x359)]=_0xe9bf45;}else{const _0x16d791={};_0x16d791['type']=WS_EVENTS['LOG'],_0x16d791['message']=_0x24bf9e['jIypU'],this[_0x54adbd(0x2e1)]['sendEventToBackend'](this[_0x54adbd(0x236)],_0x16d791),logger[_0x54adbd(0x341)](_0x24bf9e[_0x54adbd(0x382)]),await this['createManagedIdentity']();}}else{if(_0x24bf9e['RbSmp'](_0x24bf9e[_0x54adbd(0x3b2)],_0x24bf9e['EIJKn']))return _0x2e8e38['error']('Cannot\x20find\x20subnets\x20'+_0x64e33a+_0x54adbd(0x32c)+_0x4f2c4a),[![],[]];else logger[_0x54adbd(0x341)](_0x24bf9e[_0x54adbd(0x239)]);}logger[_0x54adbd(0x341)](_0x24bf9e[_0x54adbd(0x3a1)]),await this[_0x54adbd(0x2d4)](),logger[_0x54adbd(0x341)](_0x24bf9e[_0x54adbd(0x3b4)]);}async['createStorageAccount'](){const _0x1312ac=a1_0x4d1e76,_0xe70bb0={};_0xe70bb0[_0x1312ac(0x369)]='templates',_0xe70bb0['wXYBX']='azureresources',_0xe70bb0[_0x1312ac(0x356)]=_0x1312ac(0x31f),_0xe70bb0['Fixnm']=_0x1312ac(0x336),_0xe70bb0[_0x1312ac(0x1fd)]=_0x1312ac(0x3ba),_0xe70bb0[_0x1312ac(0x34f)]=_0x1312ac(0x39d),_0xe70bb0['xLSuX']=_0x1312ac(0x29c),_0xe70bb0[_0x1312ac(0x317)]='Lifecycle',_0xe70bb0['jbcav']=_0x1312ac(0x253),_0xe70bb0[_0x1312ac(0x2fe)]='default';const _0x427a3d=_0xe70bb0;let _0x288301=await fs['readFileAsync'](path[_0x1312ac(0x246)](__dirname,'..',_0x427a3d[_0x1312ac(0x369)],_0x427a3d[_0x1312ac(0x28b)],_0x427a3d[_0x1312ac(0x356)]),_0x427a3d[_0x1312ac(0x2f4)]);_0x288301=JSON[_0x1312ac(0x3ed)](_0x288301);const _0x2febc8=this['getStorageAccountName'](),_0x351739={};_0x351739[_0x1312ac(0x209)]=_0x2febc8;const _0x188a7b={};_0x188a7b['storageAccountName']=_0x351739,await this[_0x1312ac(0x30a)]['deployments'][_0x1312ac(0x231)](global_registry[_0x1312ac(0x2fd)],_0x427a3d['hsOiX'],{'properties':{'template':_0x288301,'mode':_0x427a3d[_0x1312ac(0x34f)],'parameters':_0x188a7b}});const _0x596d2d={};_0x596d2d[_0x1312ac(0x355)]=0x3c;const _0x12a976={};_0x12a976[_0x1312ac(0x2b8)]=_0x596d2d;const _0x1f3e1d={};_0x1f3e1d['baseBlob']=_0x12a976;const _0x77b2da={};_0x77b2da[_0x1312ac(0x2a7)]=!![],_0x77b2da['name']=_0x427a3d[_0x1312ac(0x30d)],_0x77b2da[_0x1312ac(0x2bb)]=_0x427a3d[_0x1312ac(0x317)],_0x77b2da[_0x1312ac(0x221)]={},_0x77b2da[_0x1312ac(0x221)]['actions']=_0x1f3e1d,_0x77b2da[_0x1312ac(0x221)][_0x1312ac(0x2d2)]={},_0x77b2da[_0x1312ac(0x221)][_0x1312ac(0x2d2)][_0x1312ac(0x20a)]=[_0x427a3d[_0x1312ac(0x350)]];const _0x369f4c={};_0x369f4c[_0x1312ac(0x347)]=[_0x77b2da];const _0x41ff56={};_0x41ff56['policy']=_0x369f4c;const _0x77852=_0x41ff56;await this[_0x1312ac(0x389)][_0x1312ac(0x2fb)][_0x1312ac(0x272)](global_registry[_0x1312ac(0x2fd)],_0x2febc8,_0x427a3d[_0x1312ac(0x2fe)],_0x77852);}async['createManagedIdentity'](){const _0x4b4870=a1_0x4d1e76,_0x32fb38={};_0x32fb38[_0x4b4870(0x214)]=_0x4b4870(0x322),_0x32fb38[_0x4b4870(0x37e)]=_0x4b4870(0x217),_0x32fb38[_0x4b4870(0x345)]=_0x4b4870(0x2c2),_0x32fb38[_0x4b4870(0x297)]=_0x4b4870(0x336),_0x32fb38[_0x4b4870(0x2a1)]=_0x4b4870(0x1f3),_0x32fb38[_0x4b4870(0x2c0)]=_0x4b4870(0x39d);const _0x11e73d=_0x32fb38;let _0x242f41=await fs[_0x4b4870(0x3c3)](path['join'](__dirname,'..',_0x11e73d[_0x4b4870(0x214)],_0x11e73d['UQjee'],_0x11e73d[_0x4b4870(0x345)]),_0x11e73d[_0x4b4870(0x297)]);_0x242f41=JSON[_0x4b4870(0x3ed)](_0x242f41),await this[_0x4b4870(0x30a)][_0x4b4870(0x220)][_0x4b4870(0x231)](global_registry[_0x4b4870(0x2fd)],_0x11e73d['caZnK'],{'properties':{'template':_0x242f41,'mode':_0x11e73d[_0x4b4870(0x2c0)],'parameters':{'clusterName':{'value':this['clusterName']}}}});}async[a1_0x4d1e76(0x2d4)](){const _0x231ef9=a1_0x4d1e76,_0x2e4554={};_0x2e4554[_0x231ef9(0x326)]='No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles',_0x2e4554['rZQJV']=function(_0x573956,_0x234d5d){return _0x573956!==_0x234d5d;},_0x2e4554[_0x231ef9(0x367)]=_0x231ef9(0x2f5),_0x2e4554[_0x231ef9(0x242)]=_0x231ef9(0x229),_0x2e4554[_0x231ef9(0x3ad)]='hub',_0x2e4554[_0x231ef9(0x240)]=_0x231ef9(0x2ef),_0x2e4554[_0x231ef9(0x250)]=function(_0x2da948,_0x58d14d){return _0x2da948===_0x58d14d;},_0x2e4554[_0x231ef9(0x3bd)]='FABrq',_0x2e4554[_0x231ef9(0x3aa)]='NZLPB',_0x2e4554[_0x231ef9(0x23e)]=_0x231ef9(0x322),_0x2e4554[_0x231ef9(0x39f)]='azureresources',_0x2e4554[_0x231ef9(0x2d3)]=_0x231ef9(0x336),_0x2e4554['SLONp']=_0x231ef9(0x37a),_0x2e4554['RmOiM']='Incremental';const _0x428704=_0x2e4554;if(!this[_0x231ef9(0x363)]){if(_0x428704[_0x231ef9(0x21c)](_0x428704[_0x231ef9(0x367)],_0x428704[_0x231ef9(0x242)]))await this[_0x231ef9(0x2e7)]();else return _0x48b52a[_0x231ef9(0x29a)]=_0x428704[_0x231ef9(0x326)],_0x15b918;}const _0x27169e=this[_0x231ef9(0x363)]?.[_0x231ef9(0x2b6)]?.['issuerURL'],_0x3e6cd2=[_0x428704[_0x231ef9(0x3ad)],_0x428704[_0x231ef9(0x240)]];for await(const _0x5979a8 of _0x3e6cd2){if(_0x428704['FnNKq'](_0x428704[_0x231ef9(0x3bd)],_0x428704[_0x231ef9(0x3aa)]))return;else{let _0x2a34cf=await fs[_0x231ef9(0x3c3)](path['join'](__dirname,'..',_0x428704[_0x231ef9(0x23e)],_0x428704[_0x231ef9(0x39f)],_0x231ef9(0x308)+_0x5979a8+_0x231ef9(0x3ac)),_0x428704[_0x231ef9(0x2d3)]);_0x2a34cf=JSON[_0x231ef9(0x3ed)](_0x2a34cf);const _0x1393a7={};_0x1393a7[_0x231ef9(0x209)]=_0x27169e,await this['resourceClient'][_0x231ef9(0x220)]['beginCreateOrUpdateAndWait'](global_registry[_0x231ef9(0x2fd)],_0x428704['SLONp'],{'properties':{'template':_0x2a34cf,'mode':_0x428704[_0x231ef9(0x27c)],'parameters':{'oidcIssuer':_0x1393a7,'gridName':{'value':this[_0x231ef9(0x32e)]},'clusterName':{'value':this[_0x231ef9(0x3cd)]}}}});}}}async[a1_0x4d1e76(0x25f)](_0x320e10,_0x3b5a07,_0x3df92f,_0x55560d,_0x9dc1c2){const _0x24921b=a1_0x4d1e76,_0x2cf7dd={};_0x2cf7dd[_0x24921b(0x3ef)]=_0x24921b(0x2e3),_0x2cf7dd[_0x24921b(0x24b)]=_0x24921b(0x399);const _0x46227d=_0x2cf7dd,_0x3cefc4={};_0x3cefc4[_0x24921b(0x2bb)]=WS_EVENTS[_0x24921b(0x1f9)],_0x3cefc4[_0x24921b(0x370)]=_0x46227d['urXzy'],this[_0x24921b(0x2e1)]['sendEventToBackend'](this[_0x24921b(0x236)],_0x3cefc4),logger['info'](_0x46227d[_0x24921b(0x3ef)]),await this[_0x24921b(0x3e8)]();const _0x32adc8={};_0x32adc8[_0x24921b(0x2bb)]=WS_EVENTS['LOG'],_0x32adc8['message']=_0x46227d[_0x24921b(0x24b)],this['webSocketUtils'][_0x24921b(0x3b7)](this[_0x24921b(0x236)],_0x32adc8);}async[a1_0x4d1e76(0x3e8)](){const _0x4f2948=a1_0x4d1e76,_0xc7fd8d={};_0xc7fd8d[_0x4f2948(0x321)]=function(_0x1d21a2,_0x2dcbce){return _0x1d21a2!==_0x2dcbce;},_0xc7fd8d[_0x4f2948(0x3c4)]=_0x4f2948(0x35b),_0xc7fd8d[_0x4f2948(0x202)]='templates',_0xc7fd8d[_0x4f2948(0x2b4)]='hubharesources',_0xc7fd8d[_0x4f2948(0x2ea)]=_0x4f2948(0x3a4),_0xc7fd8d['aPmEY']='utf-8',_0xc7fd8d[_0x4f2948(0x204)]=_0x4f2948(0x37a),_0xc7fd8d[_0x4f2948(0x2b1)]=_0x4f2948(0x39d);const _0x37fcc3=_0xc7fd8d;if(!this[_0x4f2948(0x363)]){if(_0x37fcc3['gyimm'](_0x37fcc3['xPIrg'],_0x37fcc3[_0x4f2948(0x3c4)]))return!![];else await this[_0x4f2948(0x2e7)]();}const _0x3f55ec=this[_0x4f2948(0x363)]?.[_0x4f2948(0x2b6)]?.[_0x4f2948(0x311)];let _0x4b3c1e=await fs[_0x4f2948(0x3c3)](path[_0x4f2948(0x246)](__dirname,'..',_0x37fcc3[_0x4f2948(0x202)],_0x37fcc3[_0x4f2948(0x2b4)],_0x37fcc3[_0x4f2948(0x2ea)]),_0x37fcc3[_0x4f2948(0x33f)]);_0x4b3c1e=JSON[_0x4f2948(0x3ed)](_0x4b3c1e);const _0x481c5d={};_0x481c5d['value']=_0x3f55ec,await this['resourceClient'][_0x4f2948(0x220)][_0x4f2948(0x231)](global_registry[_0x4f2948(0x2fd)],_0x37fcc3[_0x4f2948(0x204)],{'properties':{'template':_0x4b3c1e,'mode':_0x37fcc3['YhyJC'],'parameters':{'oidcIssuer':_0x481c5d,'namespace':{'value':global_registry[_0x4f2948(0x1fc)]},'clusterName':{'value':this['clusterName']}}}});}async[a1_0x4d1e76(0x208)](){const _0x462dac=a1_0x4d1e76,_0x3a758d={};_0x3a758d[_0x462dac(0x2b7)]=function(_0x2a3646,_0x392f97){return _0x2a3646+_0x392f97;},_0x3a758d[_0x462dac(0x3e7)]=_0x462dac(0x3c8),_0x3a758d[_0x462dac(0x3d3)]=function(_0x1a6a86,_0x1a20e5){return _0x1a6a86-_0x1a20e5;},_0x3a758d[_0x462dac(0x327)]=function(_0xb6d852,_0x3a066d){return _0xb6d852!==_0x3a066d;},_0x3a758d[_0x462dac(0x3a6)]=_0x462dac(0x3b3),_0x3a758d[_0x462dac(0x20e)]=_0x462dac(0x337),_0x3a758d[_0x462dac(0x27d)]=function(_0xd0bc3f,_0x45a73a){return _0xd0bc3f!==_0x45a73a;},_0x3a758d['KuUcy']=_0x462dac(0x1f4),_0x3a758d[_0x462dac(0x32a)]=_0x462dac(0x2f3),_0x3a758d[_0x462dac(0x279)]=function(_0xe4978,_0x2bcca4){return _0xe4978===_0x2bcca4;},_0x3a758d[_0x462dac(0x3e6)]=function(_0xebcf3f,_0x59f3bf){return _0xebcf3f===_0x59f3bf;},_0x3a758d['Ioomg']='nkNeb';const _0x591017=_0x3a758d,_0xa965a9=this['getStorageAccountName'](),_0x9d5db9=new Array();for await(const _0x3ba910 of this[_0x462dac(0x389)][_0x462dac(0x2b9)]['listByResourceGroup'](global_registry[_0x462dac(0x2fd)])){if(_0x591017[_0x462dac(0x327)](_0x591017[_0x462dac(0x3a6)],_0x591017[_0x462dac(0x20e)]))_0x9d5db9[_0x462dac(0x3e1)](_0x3ba910);else{const _0x184780=_0x52a6d7[_0x462dac(0x25a)]['split']('-'),_0x55acdf=_0x591017[_0x462dac(0x2b7)](_0x591017[_0x462dac(0x3e7)],_0x184780[_0x591017[_0x462dac(0x3d3)](_0x184780['length'],0x1)])[_0x462dac(0x247)](0x0,0x18);return _0x55acdf[_0x462dac(0x3da)]();}}for await(const _0x344ff8 of _0x9d5db9){if(_0x591017['PSkhr'](_0x591017[_0x462dac(0x2c4)],_0x591017[_0x462dac(0x32a)])){if(_0x591017[_0x462dac(0x279)](_0x344ff8[_0x462dac(0x278)],_0xa965a9)){if(_0x591017[_0x462dac(0x3e6)](_0x591017[_0x462dac(0x301)],_0x591017[_0x462dac(0x301)]))return!![];else _0x7a6584['push'](_0x29c8df);}}else return _0x4691a3[_0x462dac(0x3d0)]=_0x1526ad['error'],_0xee649d;}return![];}async['isManagedIdentityPresent'](){const _0x3e4df3=a1_0x4d1e76,_0x102d66={};_0x102d66['ohyzr']=_0x3e4df3(0x255),_0x102d66[_0x3e4df3(0x3eb)]=function(_0x1fd51f,_0x25c181){return _0x1fd51f===_0x25c181;},_0x102d66[_0x3e4df3(0x39b)]=_0x3e4df3(0x293),_0x102d66['ErwDz']=function(_0x2124b8,_0x5843a3){return _0x2124b8===_0x5843a3;},_0x102d66[_0x3e4df3(0x310)]='FDCYE',_0x102d66['RtzDr']=_0x3e4df3(0x213),_0x102d66[_0x3e4df3(0x3c9)]=function(_0x4737ec,_0x177da0){return _0x4737ec===_0x177da0;},_0x102d66[_0x3e4df3(0x38b)]=_0x3e4df3(0x24e),_0x102d66[_0x3e4df3(0x216)]=_0x3e4df3(0x29d);const _0x4919f4=_0x102d66,_0x20ada1=new Array();for await(const _0x4f4537 of this[_0x3e4df3(0x30a)][_0x3e4df3(0x223)][_0x3e4df3(0x263)](global_registry[_0x3e4df3(0x2fd)])){_0x4919f4[_0x3e4df3(0x3eb)](_0x4919f4[_0x3e4df3(0x39b)],_0x4919f4[_0x3e4df3(0x39b)])?_0x20ada1['push'](_0x4f4537):_0x29c62d[_0x3e4df3(0x3d0)]=_0x3a6048;}for await(const _0x534ee3 of _0x20ada1){if(_0x4919f4[_0x3e4df3(0x26c)](_0x4919f4[_0x3e4df3(0x310)],_0x4919f4[_0x3e4df3(0x3d5)])){_0x4b039b[_0x3e4df3(0x341)](_0x4919f4[_0x3e4df3(0x33e)]);const _0x126103={};_0x126103[_0x3e4df3(0x2bb)]=_0x27d451[_0x3e4df3(0x3ce)],_0x126103[_0x3e4df3(0x370)]=_0x4919f4['ohyzr'],this[_0x3e4df3(0x2e1)][_0x3e4df3(0x3b7)](this[_0x3e4df3(0x236)],_0x126103);const _0x5b8d9b={};_0x5b8d9b[_0x3e4df3(0x2a7)]=!![];const _0x1e0959={'workloadIdentity':_0x5b8d9b,..._0x1b14bd[_0x3e4df3(0x36e)]};_0x370e19[_0x3e4df3(0x36e)]=_0x1e0959;}else{if(_0x4919f4[_0x3e4df3(0x3c9)](_0x534ee3['name'],_0x3e4df3(0x2b3)+this[_0x3e4df3(0x3cd)]))return _0x4919f4[_0x3e4df3(0x3eb)](_0x4919f4[_0x3e4df3(0x38b)],_0x4919f4[_0x3e4df3(0x216)])?(_0x533648['error']('Cannot\x20find\x20VPC\x20'+_0x38f596+_0x3e4df3(0x313)+_0x1316d0),![]):!![];}}return![];}async['getResourceClientId'](_0xcb3153,_0x5289f8=0x3){const _0x1379f3=a1_0x4d1e76,_0x270224={'oiFDm':function(_0xfbcb02,_0x3d8ff0){return _0xfbcb02===_0x3d8ff0;},'valNJ':function(_0x16fb6d,_0x348545){return _0x16fb6d+_0x348545;},'UmTvY':function(_0xab69c6,_0x4bc09e,_0x4fafe1){return _0xab69c6(_0x4bc09e,_0x4fafe1);},'eDzxJ':'allowed','ZGAQa':_0x1379f3(0x328),'fLsqB':function(_0xe30e7,_0x327acb){return _0xe30e7===_0x327acb;},'amWmK':_0x1379f3(0x37c),'IQQYl':function(_0x642ab1,_0x5715ac,_0x36e94e){return _0x642ab1(_0x5715ac,_0x36e94e);},'NSVty':function(_0x611488,_0x3fc3e4){return _0x611488===_0x3fc3e4;},'qxWZs':_0x1379f3(0x312),'WFIBb':function(_0x312eb5,_0x4ee5c0){return _0x312eb5===_0x4ee5c0;},'bVbZv':_0x1379f3(0x28a),'bUbnq':function(_0x24dcaf,_0x3c371c){return _0x24dcaf!==_0x3c371c;},'ljfzr':_0x1379f3(0x222),'LFhCY':'hnRKR','ZBrEm':function(_0x484c66,_0x5d26ab){return _0x484c66===_0x5d26ab;},'JQMhS':function(_0x1fad8d,_0x4f8098){return _0x1fad8d!==_0x4f8098;},'xEdZG':_0x1379f3(0x3bc),'PreMc':_0x1379f3(0x23b),'yCNtB':function(_0x53743c,_0x281301){return _0x53743c!==_0x281301;},'QHUQX':_0x1379f3(0x385),'FmJbJ':function(_0x189dce,_0x7ccef9){return _0x189dce<=_0x7ccef9;},'PkDFq':_0x1379f3(0x31a),'ngFJl':function(_0x588088,_0x4bda56){return _0x588088-_0x4bda56;}};try{if(_0x270224[_0x1379f3(0x260)](_0x270224[_0x1379f3(0x378)],_0x270224['qxWZs'])){const _0x46cbc3=new Array();for await(const _0x4540b1 of this[_0x1379f3(0x30a)][_0x1379f3(0x223)][_0x1379f3(0x263)](global_registry[_0x1379f3(0x2fd)])){_0x270224[_0x1379f3(0x2a5)](_0x270224['bVbZv'],_0x270224[_0x1379f3(0x393)])?_0x46cbc3['push'](_0x4540b1):_0x397857[_0x1379f3(0x3e1)](_0x14ba49);}let _0x90d7c3='';for await(const _0xbc425a of _0x46cbc3){if(_0x270224[_0x1379f3(0x30f)](_0x270224[_0x1379f3(0x33b)],_0x270224[_0x1379f3(0x20f)]))_0x270224['ZBrEm'](_0xbc425a[_0x1379f3(0x278)],_0xcb3153)&&(_0x270224[_0x1379f3(0x34b)](_0x270224[_0x1379f3(0x3c1)],_0x270224['xEdZG'])?_0x12aa6a[_0x1379f3(0x3e1)](_0x1d324d):_0x90d7c3=_0xbc425a['id']);else{if(_0x270224[_0x1379f3(0x27e)](_0xda3bb4[_0x1379f3(0x278)],_0x630e72))return!![];}}const _0x51ace1=await this[_0x1379f3(0x30a)][_0x1379f3(0x223)]['getById'](_0x90d7c3,_0x270224['PreMc']);return _0x51ace1[_0x1379f3(0x3d1)][_0x1379f3(0x386)];}else _0x2cd843[_0x1379f3(0x333)]('['+_0x270224[_0x1379f3(0x2e8)](_0x200a73,0x1)+']\x20'+_0x49b644[_0x451538]);}catch(_0x3914e5){if(_0x270224[_0x1379f3(0x2d5)](_0x270224[_0x1379f3(0x30c)],_0x270224['QHUQX']))_0x46daa9['push'](_0x331eb6);else{if(_0x270224[_0x1379f3(0x2fc)](_0x5289f8,0x0)){if(_0x270224[_0x1379f3(0x30f)](_0x270224[_0x1379f3(0x256)],_0x270224[_0x1379f3(0x256)]))_0x270224[_0x1379f3(0x2ba)](_0x4efb82,()=>_0x4516b5(),0x3e8);else return logger['error'](_0x1379f3(0x319)+_0x3914e5+':'+_0x3914e5['stack']),{};}return await new Promise(_0x424a56=>{const _0x5378f3=_0x1379f3,_0x3f5f02={};_0x3f5f02[_0x5378f3(0x26e)]=_0x270224[_0x5378f3(0x3cb)],_0x3f5f02[_0x5378f3(0x3c2)]=_0x270224['ZGAQa'];const _0x13b2b5=_0x3f5f02;if(_0x270224[_0x5378f3(0x232)](_0x270224['amWmK'],_0x270224[_0x5378f3(0x234)]))_0x270224[_0x5378f3(0x36b)](setTimeout,()=>_0x424a56(),0x3e8);else{const _0x32d2a3=_0x357060['includes'](_0x357483);_0x41e299+='\x0a\x09'+_0x317c02+':\x20'+(_0x32d2a3?_0x13b2b5[_0x5378f3(0x26e)]:_0x13b2b5[_0x5378f3(0x3c2)]),!_0x32d2a3&&(_0x29ff48[_0x5378f3(0x296)]=![]);}}),this[_0x1379f3(0x3e0)](_0xcb3153,_0x270224[_0x1379f3(0x2e9)](_0x5289f8,0x1));}}}async[a1_0x4d1e76(0x2f1)](){const _0x3e77df=a1_0x4d1e76,_0x1a6721={};_0x1a6721[_0x3e77df(0x388)]=function(_0x482f18,_0x300b46){return _0x482f18!==_0x300b46;},_0x1a6721[_0x3e77df(0x3b1)]=_0x3e77df(0x252),_0x1a6721[_0x3e77df(0x2df)]=_0x3e77df(0x3d6),_0x1a6721[_0x3e77df(0x264)]=function(_0x37c7ba,_0x5acdc6){return _0x37c7ba===_0x5acdc6;},_0x1a6721[_0x3e77df(0x3e3)]='browserstack:managedBy',_0x1a6721[_0x3e77df(0x22e)]='BrowserStack',_0x1a6721[_0x3e77df(0x357)]=function(_0x37dbf9,_0xd61d91){return _0x37dbf9!==_0xd61d91;},_0x1a6721['CbibJ']=_0x3e77df(0x339);const _0x3b1cb1=_0x1a6721;if(!this[_0x3e77df(0x363)]){if(_0x3b1cb1[_0x3e77df(0x388)](_0x3b1cb1['vQPAd'],_0x3b1cb1[_0x3e77df(0x2df)]))await this[_0x3e77df(0x2e7)]();else return!![];}const _0x31dd0a=this['clusterInfo']?.[_0x3e77df(0x307)]||{};if(_0x31dd0a&&_0x3b1cb1[_0x3e77df(0x264)](_0x31dd0a[_0x3b1cb1['vEBZh']],_0x3b1cb1[_0x3e77df(0x22e)]))return _0x3b1cb1[_0x3e77df(0x357)](_0x3b1cb1[_0x3e77df(0x24f)],_0x3b1cb1[_0x3e77df(0x24f)])?[!![],_0x4786d7]:!![];return![];}async[a1_0x4d1e76(0x376)](_0x3eeae7,_0x14fcb6){const _0x4cecf5=a1_0x4d1e76,_0x3aedc4={'YemxD':function(_0x145ce9,_0x373f73){return _0x145ce9(_0x373f73);},'OGLZC':'Deleted\x20the\x20cluster\x20successfully'};await _0x3aedc4[_0x4cecf5(0x3b5)](deleteAgent,_0x3eeae7),await _0x3aedc4[_0x4cecf5(0x3b5)](deleteRoutingDeps,_0x3eeae7);const _0x331d70=this['containerClient'];logger[_0x4cecf5(0x341)](_0x4cecf5(0x3e9)+this[_0x4cecf5(0x3cd)]),await _0x331d70['managedClusters'][_0x4cecf5(0x283)](global_registry['cloudProviderResourceGroup'],this[_0x4cecf5(0x3cd)]),logger[_0x4cecf5(0x341)](_0x3aedc4[_0x4cecf5(0x2b0)]);}async[a1_0x4d1e76(0x34d)](){const _0xdf3f57=a1_0x4d1e76,_0x18c9a2={};_0x18c9a2[_0xdf3f57(0x2f7)]=function(_0x567392,_0x1bd821){return _0x567392===_0x1bd821;},_0x18c9a2['OgIvL']=_0xdf3f57(0x3b6),_0x18c9a2[_0xdf3f57(0x380)]=function(_0x354a22,_0x16653f){return _0x354a22!==_0x16653f;},_0x18c9a2['LmeBp']=_0xdf3f57(0x3cc),_0x18c9a2['CZYRu']=function(_0x337a5d,_0x521ed4){return _0x337a5d&&_0x521ed4;},_0x18c9a2[_0xdf3f57(0x2da)]=function(_0x3d8932,_0x4a1f2e){return _0x3d8932!==_0x4a1f2e;},_0x18c9a2[_0xdf3f57(0x325)]=_0xdf3f57(0x3bb),_0x18c9a2['VgnjO']=function(_0x2cb30b,_0x1477ea){return _0x2cb30b!==_0x1477ea;},_0x18c9a2[_0xdf3f57(0x2c1)]='mqqGb',_0x18c9a2['JzJLt']=_0xdf3f57(0x2ff),_0x18c9a2[_0xdf3f57(0x1f7)]=_0xdf3f57(0x22c),_0x18c9a2[_0xdf3f57(0x22b)]='fcmXk',_0x18c9a2[_0xdf3f57(0x35f)]=_0xdf3f57(0x255),_0x18c9a2[_0xdf3f57(0x22f)]=function(_0x4e325b,_0x34f22e){return _0x4e325b!==_0x34f22e;},_0x18c9a2[_0xdf3f57(0x36d)]='LnKmc',_0x18c9a2[_0xdf3f57(0x226)]='IOyFe',_0x18c9a2[_0xdf3f57(0x1f5)]=_0xdf3f57(0x320);const _0x2fe1e2=_0x18c9a2;if(!this['clusterInfo']){if(_0x2fe1e2[_0xdf3f57(0x380)](_0x2fe1e2[_0xdf3f57(0x3c7)],_0x2fe1e2[_0xdf3f57(0x3c7)]))return _0x223d17['error'](_0xdf3f57(0x319)+_0xf04bf6+':'+_0x41c438['stack']),{};else await this['getClusterInfo']();}const _0x49920a=this['clusterInfo'],_0x2414a7=this[_0xdf3f57(0x363)]?.[_0xdf3f57(0x2b6)]?.[_0xdf3f57(0x2a7)]||![],_0x52d3a3=this[_0xdf3f57(0x363)]?.[_0xdf3f57(0x36e)]?.[_0xdf3f57(0x390)]?.[_0xdf3f57(0x2a7)]||![],_0x16d477=!this[_0xdf3f57(0x363)]?.[_0xdf3f57(0x374)]||![];if(_0x2fe1e2[_0xdf3f57(0x2b2)](_0x2414a7,_0x52d3a3)&&_0x16d477){if(_0x2fe1e2[_0xdf3f57(0x2da)](_0x2fe1e2[_0xdf3f57(0x325)],_0x2fe1e2[_0xdf3f57(0x325)]))_0x29ba80+=_0x2fe1e2[_0xdf3f57(0x2f7)](_0x383ed8['length'],0x0)?_0x2fe1e2[_0xdf3f57(0x3af)]:'',_0x568a21[_0xdf3f57(0x294)](_0xdf3f57(0x381)+_0x405c9a[_0xdf3f57(0x344)](_0x59ea0b));else return;}if(!_0x2414a7){if(_0x2fe1e2[_0xdf3f57(0x314)](_0x2fe1e2[_0xdf3f57(0x2c1)],_0x2fe1e2[_0xdf3f57(0x298)])){logger[_0xdf3f57(0x341)](_0x2fe1e2['dBLRp']);const _0x3f9aaa={};_0x3f9aaa[_0xdf3f57(0x2bb)]=WS_EVENTS['RESOURCES'],_0x3f9aaa[_0xdf3f57(0x370)]=_0x2fe1e2['dBLRp'],this[_0xdf3f57(0x2e1)]['sendEventToBackend'](this['rws'],_0x3f9aaa),_0x49920a[_0xdf3f57(0x2b6)][_0xdf3f57(0x2a7)]=!![];}else{if(_0x2fe1e2['exjVX'](_0x354b54[_0xdf3f57(0x278)],_0xdf3f57(0x2b3)+this[_0xdf3f57(0x3cd)]))return!![];}}if(!_0x52d3a3){if(_0x2fe1e2[_0xdf3f57(0x380)](_0x2fe1e2[_0xdf3f57(0x22b)],_0x2fe1e2[_0xdf3f57(0x22b)]))return _0x5be484[_0xdf3f57(0x296)][_0xdf3f57(0x39e)]['ingress'][0x0][_0xdf3f57(0x3ca)];else{logger[_0xdf3f57(0x341)](_0x2fe1e2[_0xdf3f57(0x35f)]);const _0x4c5533={};_0x4c5533[_0xdf3f57(0x2bb)]=WS_EVENTS[_0xdf3f57(0x3ce)],_0x4c5533[_0xdf3f57(0x370)]=_0x2fe1e2[_0xdf3f57(0x35f)],this[_0xdf3f57(0x2e1)][_0xdf3f57(0x3b7)](this[_0xdf3f57(0x236)],_0x4c5533);const _0x3ee32c={};_0x3ee32c['enabled']=!![],_0x49920a[_0xdf3f57(0x36e)]={'workloadIdentity':_0x3ee32c,..._0x49920a[_0xdf3f57(0x36e)]};}}if(!_0x16d477){if(_0x2fe1e2[_0xdf3f57(0x22f)](_0x2fe1e2[_0xdf3f57(0x36d)],_0x2fe1e2[_0xdf3f57(0x226)])){logger[_0xdf3f57(0x341)](_0x2fe1e2[_0xdf3f57(0x1f5)]);const _0x268e4b={};_0x268e4b[_0xdf3f57(0x2bb)]=WS_EVENTS['RESOURCES'],_0x268e4b[_0xdf3f57(0x370)]=_0x2fe1e2[_0xdf3f57(0x1f5)],this[_0xdf3f57(0x2e1)][_0xdf3f57(0x3b7)](this['rws'],_0x268e4b),_0x49920a['disableLocalAccounts']=![];}else _0x2970a4[_0xdf3f57(0x3e1)](_0x1dced5);}await this[_0xdf3f57(0x25c)][_0xdf3f57(0x2a3)][_0xdf3f57(0x231)](global_registry[_0xdf3f57(0x2fd)],this[_0xdf3f57(0x3cd)],_0x49920a),await this['getClusterInfo']();}async[a1_0x4d1e76(0x2aa)](){const _0xa2e18c=a1_0x4d1e76,_0x45100c={};_0x45100c[_0xa2e18c(0x249)]=_0xa2e18c(0x320),_0x45100c[_0xa2e18c(0x394)]=function(_0x13fde6,_0x332cc4){return _0x13fde6!==_0x332cc4;},_0x45100c[_0xa2e18c(0x2e0)]=_0xa2e18c(0x29f),_0x45100c[_0xa2e18c(0x2ad)]='hPNxS';const _0x37fc0a=_0x45100c,_0x101538=await this['networkClient']['virtualNetworks'][_0xa2e18c(0x2a4)](global_registry[_0xa2e18c(0x2fd)]),_0x3358b3={};_0x3358b3[_0xa2e18c(0x3e5)]=global_registry['bstackUsername'],_0x3358b3[_0xa2e18c(0x3bf)]=global_registry[_0xa2e18c(0x354)],_0x3358b3[_0xa2e18c(0x2c7)]=AZURE,_0x3358b3[_0xa2e18c(0x261)]=[];const _0x58ed66=_0x3358b3;for await(const _0x241263 of _0x101538){if(_0x37fc0a[_0xa2e18c(0x394)](_0x37fc0a[_0xa2e18c(0x2e0)],_0x37fc0a[_0xa2e18c(0x2ad)]))_0x58ed66['vpcInfo'][_0xa2e18c(0x3e1)](_0x241263);else{_0x3a64f3[_0xa2e18c(0x341)](_0x37fc0a[_0xa2e18c(0x249)]);const _0x5ad274={};_0x5ad274[_0xa2e18c(0x2bb)]=_0x3345c4[_0xa2e18c(0x3ce)],_0x5ad274[_0xa2e18c(0x370)]=_0x37fc0a[_0xa2e18c(0x249)],this[_0xa2e18c(0x2e1)][_0xa2e18c(0x3b7)](this['rws'],_0x5ad274),_0x4341b2[_0xa2e18c(0x374)]=![];}}const _0x4f0ac5={};_0x4f0ac5[_0xa2e18c(0x2bb)]=WS_EVENTS[_0xa2e18c(0x3ce)],_0x4f0ac5[_0xa2e18c(0x370)]=_0x58ed66,this[_0xa2e18c(0x2e1)][_0xa2e18c(0x3b7)](this['rws'],_0x4f0ac5);}async[a1_0x4d1e76(0x2a8)](_0x1b9700){const _0x1e2a99=a1_0x4d1e76,_0x26f27e={};_0x26f27e['FPhoC']=_0x1e2a99(0x25d),_0x26f27e[_0x1e2a99(0x366)]='Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.',_0x26f27e[_0x1e2a99(0x288)]=_0x1e2a99(0x238),_0x26f27e[_0x1e2a99(0x32f)]=_0x1e2a99(0x377),_0x26f27e[_0x1e2a99(0x38e)]=_0x1e2a99(0x3b0),_0x26f27e[_0x1e2a99(0x22a)]=function(_0x1cdef8,_0xcbb558){return _0x1cdef8!==_0xcbb558;},_0x26f27e['dAljp']=_0x1e2a99(0x291),_0x26f27e['rkuzr']='gBrmE',_0x26f27e['ZamHy']=function(_0x42fe94,_0x783a52){return _0x42fe94===_0x783a52;},_0x26f27e[_0x1e2a99(0x36a)]='LKMSI',_0x26f27e[_0x1e2a99(0x28e)]='IDVdG',_0x26f27e[_0x1e2a99(0x271)]=function(_0x267244,_0x1f3d0c){return _0x267244!==_0x1f3d0c;},_0x26f27e[_0x1e2a99(0x203)]=_0x1e2a99(0x2f0),_0x26f27e[_0x1e2a99(0x2d6)]='hAEbK',_0x26f27e['EktBT']=function(_0x2670f0,_0x2178f0){return _0x2670f0===_0x2178f0;},_0x26f27e['hIzYc']='LMNkt';const _0x33e709=_0x26f27e;try{if(_0x33e709[_0x1e2a99(0x22a)](_0x33e709[_0x1e2a99(0x3dd)],_0x33e709[_0x1e2a99(0x2e2)])){const _0x4583c8=await this[_0x1e2a99(0x285)][_0x1e2a99(0x280)][_0x1e2a99(0x2a4)](global_registry[_0x1e2a99(0x2fd)]);for await(const _0x5cd2e8 of _0x4583c8){if(_0x33e709[_0x1e2a99(0x29e)](_0x33e709[_0x1e2a99(0x36a)],_0x33e709[_0x1e2a99(0x28e)]))_0x75508b=_0x568d9e['id'];else{if(_0x33e709[_0x1e2a99(0x29e)](_0x5cd2e8[_0x1e2a99(0x278)],_0x1b9700)){if(_0x33e709['rSmAQ'](_0x33e709[_0x1e2a99(0x203)],_0x33e709[_0x1e2a99(0x2d6)]))return!![];else{const _0x2b23a4={};_0x2b23a4[_0x1e2a99(0x2bb)]=_0x33e709[_0x1e2a99(0x3be)],_0x2b23a4[_0x1e2a99(0x353)]={},_0x2b23a4[_0x1e2a99(0x353)][_0x1e2a99(0x257)]=_0x33e709['lBrxY'];const _0xf516ea={};_0xf516ea['type']=_0x33e709['FPhoC'],_0xf516ea[_0x1e2a99(0x353)]={},_0xf516ea[_0x1e2a99(0x353)][_0x1e2a99(0x257)]=_0x33e709[_0x1e2a99(0x366)];const _0x2ccce6={..._0x420c85[_0x1e2a99(0x267)]};_0x2ccce6[_0x1e2a99(0x299)]=_0x2b23a4,_0x2ccce6[_0x1e2a99(0x3c5)]=_0xf516ea,_0x47fba1['parameters']=_0x2ccce6;const _0x5de34f={};_0x5de34f[_0x1e2a99(0x31e)]=_0x33e709['QmSxM'],_0x3cea91['variables']=_0x5de34f;const _0x59acc9={..._0x4c038a[_0x1e2a99(0x223)][0x0][_0x1e2a99(0x3d1)][_0x1e2a99(0x26d)][0x0]};_0x59acc9[_0x1e2a99(0x31e)]=_0x33e709[_0x1e2a99(0x32f)],_0x30a3eb[_0x1e2a99(0x223)][0x0]['properties'][_0x1e2a99(0x26d)][0x0]=_0x59acc9;const _0x36cfb1={};_0x36cfb1[_0x1e2a99(0x209)]=_0xa81974;const _0x2537c8={};_0x2537c8['value']=_0x4439d6[0x0];const _0x1f9256={..._0x209ca7};_0x1f9256[_0x1e2a99(0x299)]=_0x36cfb1,_0x1f9256[_0x1e2a99(0x3c5)]=_0x2537c8,_0x184a5a=_0x1f9256;}}}}}else _0x46b098[_0x1e2a99(0x341)](_0x33e709['TrHfr']);}catch(_0x5e07e6){if(_0x33e709[_0x1e2a99(0x371)](_0x33e709[_0x1e2a99(0x2d7)],_0x33e709['hIzYc']))return logger[_0x1e2a99(0x3d0)]('Cannot\x20find\x20VPC\x20'+_0x1b9700+'.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20'+_0x5e07e6),![];else _0x2179fb[_0x1e2a99(0x261)][_0x1e2a99(0x3e1)](_0x31ba69);}return![];}async[a1_0x4d1e76(0x351)](_0x5651c9,_0x22cd64){const _0x372ea5=a1_0x4d1e76,_0x43fdb0={};_0x43fdb0[_0x372ea5(0x31c)]=_0x372ea5(0x22c),_0x43fdb0['REsRE']='1|0|2|5|4|3',_0x43fdb0[_0x372ea5(0x309)]=function(_0x37a1fc,_0xb53161){return _0x37a1fc===_0xb53161;},_0x43fdb0[_0x372ea5(0x36c)]=_0x372ea5(0x324),_0x43fdb0[_0x372ea5(0x2ca)]=_0x372ea5(0x201),_0x43fdb0[_0x372ea5(0x23c)]=function(_0x10fae6,_0x5a3fba){return _0x10fae6===_0x5a3fba;},_0x43fdb0['FMPmB']=function(_0x2f1ef5,_0x47d10d){return _0x2f1ef5===_0x47d10d;},_0x43fdb0[_0x372ea5(0x2d1)]=_0x372ea5(0x2ce),_0x43fdb0[_0x372ea5(0x2d0)]='vXXrH';const _0x9d94b7=_0x43fdb0;try{if(_0x9d94b7[_0x372ea5(0x309)](_0x9d94b7['ybqqa'],_0x9d94b7[_0x372ea5(0x2ca)])){_0x5d7da8[_0x372ea5(0x341)](_0x9d94b7['aliPP']);const _0x2326d9={};_0x2326d9[_0x372ea5(0x2bb)]=_0x18ffdd[_0x372ea5(0x3ce)],_0x2326d9[_0x372ea5(0x370)]=_0x9d94b7[_0x372ea5(0x31c)],this['webSocketUtils'][_0x372ea5(0x3b7)](this[_0x372ea5(0x236)],_0x2326d9),_0x512e01[_0x372ea5(0x2b6)][_0x372ea5(0x2a7)]=!![];}else{const _0x9c3fda=await this[_0x372ea5(0x285)][_0x372ea5(0x32d)][_0x372ea5(0x3df)](global_registry['cloudProviderResourceGroup'],_0x22cd64,_0x5651c9[0x0]);if(_0x9d94b7['wpbiB'](_0x5651c9[0x0],_0x9c3fda['name'])){if(_0x9d94b7[_0x372ea5(0x3a5)](_0x9d94b7[_0x372ea5(0x2d1)],_0x9d94b7[_0x372ea5(0x2d0)])){const _0x522cbd=_0x9d94b7[_0x372ea5(0x35a)][_0x372ea5(0x342)]('|');let _0x5ded0d=0x0;while(!![]){switch(_0x522cbd[_0x5ded0d++]){case'0':_0x41dfc9[_0x372ea5(0x38d)]=_0x410a4b[this[_0x372ea5(0x33a)]][_0x372ea5(0x206)];continue;case'1':_0x2c823b['cloudProviderClientId']=_0x445eea[this[_0x372ea5(0x33a)]][_0x372ea5(0x386)];continue;case'2':_0x383339[_0x372ea5(0x392)]=_0x2062c4[this[_0x372ea5(0x33a)]][_0x372ea5(0x3c6)];continue;case'3':this[_0x372ea5(0x34a)]();continue;case'4':_0x5e8818[_0x372ea5(0x2fd)]=_0x3ce2e1[this['cloudProviderName']][_0x372ea5(0x265)];continue;case'5':_0x433fe0[_0x372ea5(0x3a3)]=_0x48a267[this['cloudProviderName']][_0x372ea5(0x3b8)];continue;}break;}}else return[!![],_0x5651c9];}}}catch(_0x6d34bc){return logger['error']('Cannot\x20find\x20subnets\x20'+_0x5651c9+_0x372ea5(0x32c)+_0x6d34bc),[![],[]];}return[![],[]];}async[a1_0x4d1e76(0x2f2)](){const _0x177e1a=a1_0x4d1e76,_0x450f6d={};_0x450f6d['VvdGX']=_0x177e1a(0x2ae);const _0x597985=_0x450f6d,_0x2a826f={};_0x2a826f[_0x177e1a(0x296)]=!![],_0x2a826f[_0x177e1a(0x3d0)]=null,_0x2a826f['data']=_0x597985[_0x177e1a(0x349)];const _0x5ece26=_0x2a826f;return _0x5ece26;}async['getHeader'](){const _0x3db0e9=a1_0x4d1e76,_0xe0b2a2={};_0xe0b2a2[_0x3db0e9(0x304)]=_0x3db0e9(0x315),_0xe0b2a2[_0x3db0e9(0x365)]=_0x3db0e9(0x282),_0xe0b2a2[_0x3db0e9(0x289)]='application/json';const _0x3b561d=_0xe0b2a2,_0x59ac1d=await this[_0x3db0e9(0x359)][_0x3db0e9(0x2cf)](_0x3b561d[_0x3db0e9(0x304)]),_0x2358b6={};_0x2358b6[_0x3db0e9(0x205)]=_0x3b561d[_0x3db0e9(0x365)],_0x2358b6[_0x3db0e9(0x338)]={},_0x2358b6[_0x3db0e9(0x338)][_0x3db0e9(0x397)]=_0x3db0e9(0x273)+_0x59ac1d[_0x3db0e9(0x3cf)],_0x2358b6[_0x3db0e9(0x338)][_0x3db0e9(0x1f6)]=_0x3b561d['HoWhH'];const _0x2b6df2=_0x2358b6;return _0x2b6df2;}async['getPrincipalIdFromClientId'](_0x4fa1a4){const _0x5781cf=a1_0x4d1e76,_0xa0bce4={'WWACv':function(_0xcc4aeb,_0x45b955,_0x289cf6){return _0xcc4aeb(_0x45b955,_0x289cf6);},'IPBdi':function(_0x566d32,_0x25a80d){return _0x566d32===_0x25a80d;},'CyMEO':_0x5781cf(0x3d7)},_0x197fcd={};_0x197fcd[_0x5781cf(0x34e)]='',_0x197fcd[_0x5781cf(0x3d0)]=null;const _0x240d5d=_0x197fcd;try{const _0x237863=_0x5781cf(0x224)+_0x4fa1a4+'\x27',_0x2997a6=await this[_0x5781cf(0x2cc)](),_0x479581=await _0xa0bce4[_0x5781cf(0x274)](fetch,_0x237863,_0x2997a6),_0x1dcb10=await _0x479581[_0x5781cf(0x305)]();if(!_0x1dcb10[_0x5781cf(0x209)]||_0xa0bce4[_0x5781cf(0x35d)](_0x1dcb10[_0x5781cf(0x209)][_0x5781cf(0x28f)],0x0))throw new Error(_0xa0bce4[_0x5781cf(0x2fa)],'Received\x20response\x20-\x20'+JSON[_0x5781cf(0x344)](_0x1dcb10));_0x240d5d['principalId']=_0x1dcb10[_0x5781cf(0x209)][0x0]['id'];}catch(_0x57b213){_0x240d5d[_0x5781cf(0x3d0)]=_0x57b213;}return _0x240d5d;}async[a1_0x4d1e76(0x302)](){const _0xb6ab92=a1_0x4d1e76,_0x8e4729={};_0x8e4729[_0xb6ab92(0x24d)]=_0xb6ab92(0x306),_0x8e4729[_0xb6ab92(0x360)]=_0xb6ab92(0x328),_0x8e4729[_0xb6ab92(0x228)]=function(_0xf48033,_0x1e0465){return _0xf48033!==_0x1e0465;},_0x8e4729[_0xb6ab92(0x241)]=function(_0x469993,_0x438cff){return _0x469993===_0x438cff;},_0x8e4729['oBlzv']='No\x20attached\x20role\x20for\x20the\x20client\x20key',_0x8e4729['sBIbV']='No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles',_0x8e4729['IXmaO']=function(_0x306601,_0x361702){return _0x306601===_0x361702;},_0x8e4729['qoTLj']=function(_0x5d0009,_0x5194a2){return _0x5d0009===_0x5194a2;},_0x8e4729[_0xb6ab92(0x28c)]=_0xb6ab92(0x3b6);const _0x18efb8=_0x8e4729,_0x337b83={};_0x337b83[_0xb6ab92(0x296)]=![],_0x337b83['error']=null,_0x337b83[_0xb6ab92(0x29a)]='';const _0x2a459e=_0x337b83;try{let _0x51505e='';const _0x3de2d4=_0xb6ab92(0x384)+global_registry['cloudProviderSubscriptionId']+_0xb6ab92(0x2de)+global_registry[_0xb6ab92(0x2fd)],_0x5ee008=await this[_0xb6ab92(0x387)](global_registry[_0xb6ab92(0x30e)]);if(_0x18efb8['elyzq'](_0x5ee008[_0xb6ab92(0x3d0)],null))return _0x2a459e[_0xb6ab92(0x3d0)]=_0x5ee008['error'],_0x2a459e;const _0x2b1d03='assignedTo(\x27'+_0x5ee008[_0xb6ab92(0x34e)]+'\x27)',_0x64a02c={};_0x64a02c[_0xb6ab92(0x361)]=_0x2b1d03;const _0x13c92c=await this['authClient'][_0xb6ab92(0x212)][_0xb6ab92(0x22d)](_0x3de2d4,_0x64a02c),_0x50bdfc=[];for await(const _0x252300 of _0x13c92c){_0x50bdfc[_0xb6ab92(0x3e1)](_0x252300);}if(_0x18efb8[_0xb6ab92(0x241)](_0x50bdfc[_0xb6ab92(0x28f)],0x0))return _0x2a459e[_0xb6ab92(0x29a)]=_0x18efb8[_0xb6ab92(0x21e)],_0x2a459e;const _0x60f77e=[...new Set(_0x50bdfc['map'](_0x5b4e7a=>_0x5b4e7a[_0xb6ab92(0x362)]))];if(_0x18efb8[_0xb6ab92(0x241)](_0x60f77e[_0xb6ab92(0x28f)],0x0))return _0x2a459e[_0xb6ab92(0x29a)]=_0x18efb8[_0xb6ab92(0x21b)],_0x2a459e;const _0x1f3812=[],_0x533615=[];for(const _0x3425f0 of _0x60f77e){const _0x2ae5bd=await this[_0xb6ab92(0x2a2)][_0xb6ab92(0x3c0)]['getById'](_0x3425f0);logger[_0xb6ab92(0x294)](_0xb6ab92(0x276)+_0x2ae5bd[_0xb6ab92(0x295)]),_0x1f3812[_0xb6ab92(0x3e1)](_0x2ae5bd),logger[_0xb6ab92(0x294)]('Attached\x20permissions\x20:\x20'+JSON[_0xb6ab92(0x344)](_0x2ae5bd['permissions'])),_0x2ae5bd[_0xb6ab92(0x24a)][_0xb6ab92(0x259)](_0x2aebd8=>{const _0x5cd3af=_0xb6ab92;_0x533615[_0x5cd3af(0x3e1)](..._0x2aebd8[_0x5cd3af(0x3ec)]);});}logger[_0xb6ab92(0x294)](_0xb6ab92(0x210)+JSON[_0xb6ab92(0x344)](_0x533615)),_0x18efb8[_0xb6ab92(0x31b)](_0x533615[_0xb6ab92(0x28f)],0x0)&&(_0x51505e+=_0x18efb8[_0xb6ab92(0x2ec)](_0x533615[_0xb6ab92(0x28f)],0x0)?_0x18efb8[_0xb6ab92(0x28c)]:'',logger[_0xb6ab92(0x294)](_0xb6ab92(0x381)+JSON['stringify'](_0x1f3812))),_0x2a459e[_0xb6ab92(0x296)]=!![],Object[_0xb6ab92(0x1fe)](PERMISSIONS[_0xb6ab92(0x329)])[_0xb6ab92(0x259)](([_0xd7fbd0,_0x5a10a0])=>{const _0x3ea89b=_0xb6ab92,_0x162c77=_0x533615[_0x3ea89b(0x2a9)](_0xd7fbd0);_0x51505e+='\x0a\x09'+_0x5a10a0+':\x20'+(_0x162c77?_0x18efb8[_0x3ea89b(0x24d)]:_0x18efb8['rIJtt']),!_0x162c77&&(_0x2a459e[_0x3ea89b(0x296)]=![]);}),_0x2a459e[_0xb6ab92(0x29a)]=_0x51505e;}catch(_0x3faa31){_0x2a459e[_0xb6ab92(0x3d0)]=_0x3faa31;}return _0x2a459e;}}const a1_0x26e5b1={};a1_0x26e5b1['AzureCloudProvider']=AzureCloudProvider,module[a1_0x4d1e76(0x3de)]=a1_0x26e5b1;