const a1_0x797b86=a1_0x3dc6;(function(_0x38499b,_0xdc421){const _0x5a721e=a1_0x3dc6,_0x2d6d02=_0x38499b();while(!![]){try{const _0x20e7e7=parseInt(_0x5a721e(0x2a4))/0x1*(-parseInt(_0x5a721e(0x19f))/0x2)+parseInt(_0x5a721e(0x1d0))/0x3*(-parseInt(_0x5a721e(0x25a))/0x4)+parseInt(_0x5a721e(0x137))/0x5+-parseInt(_0x5a721e(0x1b9))/0x6+parseInt(_0x5a721e(0xf2))/0x7*(-parseInt(_0x5a721e(0x15e))/0x8)+-parseInt(_0x5a721e(0x19b))/0x9+-parseInt(_0x5a721e(0x277))/0xa*(-parseInt(_0x5a721e(0x1c7))/0xb);if(_0x20e7e7===_0xdc421)break;else _0x2d6d02['push'](_0x2d6d02['shift']());}catch(_0x46a728){_0x2d6d02['push'](_0x2d6d02['shift']());}}}(a1_0x24ec,0x59e9d));const fs=require('fs'),path=require(a1_0x797b86(0x290)),yaml=require(a1_0x797b86(0x22c)),{logger}=require('../config/logger'),{CloudProvider}=require(a1_0x797b86(0x1c1)),{deleteRoutingDeps,deleteAgent}=require('../utils/gridComponents'),{AZURE,WS_EVENTS,global_registry}=require(a1_0x797b86(0x1d3)),PERMISSIONS=require(a1_0x797b86(0x2b5)),{ClientSecretCredential}=require('@azure/identity'),{NetworkManagementClient}=require('@azure/arm-network'),{StorageManagementClient}=require(a1_0x797b86(0x257)),{AuthorizationManagementClient}=require(a1_0x797b86(0x148)),{ResourceManagementClient}=require(a1_0x797b86(0x2b6)),{ContainerServiceClient}=require(a1_0x797b86(0x1e5)),{runCommand}=require(a1_0x797b86(0x169));function a1_0x3dc6(_0x4b23ea,_0x4a63){const _0x24ec47=a1_0x24ec();return a1_0x3dc6=function(_0x3dc6ce,_0x582159){_0x3dc6ce=_0x3dc6ce-0xc6;let _0x5973ff=_0x24ec47[_0x3dc6ce];return _0x5973ff;},a1_0x3dc6(_0x4b23ea,_0x4a63);}class AzureCloudProvider extends CloudProvider{constructor(_0x33b110,_0x2972a4,_0x241163,_0x14299e){const _0x5b264d=a1_0x797b86,_0x149a19={};_0x149a19[_0x5b264d(0x213)]=_0x5b264d(0x129);const _0x1fd81f=_0x149a19,_0x5c551a=_0x1fd81f[_0x5b264d(0x213)]['split']('|');let _0x49dbfd=0x0;while(!![]){switch(_0x5c551a[_0x49dbfd++]){case'0':super(AZURE,_0x33b110,_0x2972a4,_0x241163,_0x14299e);continue;case'1':this[_0x5b264d(0x262)]=null;continue;case'2':this[_0x5b264d(0x2ae)]=null;continue;case'3':this['cred']=null;continue;case'4':this[_0x5b264d(0x12b)]=null;continue;case'5':this[_0x5b264d(0x26c)]=null;continue;case'6':this[_0x5b264d(0xc9)]=null;continue;case'7':this[_0x5b264d(0x21b)]=null;continue;}break;}}async[a1_0x797b86(0x200)](){const _0x26a0d5=a1_0x797b86;return await super[_0x26a0d5(0x200)](),this;}[a1_0x797b86(0x1af)](){const _0x447fee=a1_0x797b86,_0x50e956=new ClientSecretCredential(global_registry[_0x447fee(0x11b)],global_registry[_0x447fee(0x1f3)],global_registry[_0x447fee(0x191)]);this['containerClient']=new ContainerServiceClient(_0x50e956,global_registry['cloudProviderSubscriptionId']),this['storageClient']=new StorageManagementClient(_0x50e956,global_registry[_0x447fee(0x249)]),this[_0x447fee(0x21b)]=new ResourceManagementClient(_0x50e956,global_registry[_0x447fee(0x249)]),this[_0x447fee(0x12b)]=new NetworkManagementClient(_0x50e956,global_registry[_0x447fee(0x249)]),this[_0x447fee(0x262)]=new AuthorizationManagementClient(_0x50e956,global_registry[_0x447fee(0x249)]),this[_0x447fee(0x22a)]=_0x50e956;}['getStorageAccountName'](){const _0x5b4791=a1_0x797b86,_0x32de49={};_0x32de49[_0x5b4791(0x253)]=function(_0x4aeeef,_0x16a9f6){return _0x4aeeef+_0x16a9f6;},_0x32de49[_0x5b4791(0x274)]='turboscale',_0x32de49[_0x5b4791(0x17f)]=function(_0x22821a,_0x12fcf1){return _0x22821a-_0x12fcf1;};const _0x307c12=_0x32de49,_0x824868=global_registry[_0x5b4791(0x12a)][_0x5b4791(0x15a)]('-'),_0x3da295=_0x307c12[_0x5b4791(0x253)](_0x307c12['DJuIK'],_0x824868[_0x307c12[_0x5b4791(0x17f)](_0x824868[_0x5b4791(0x211)],0x1)])[_0x5b4791(0x1a2)](0x0,0x18);return _0x3da295[_0x5b4791(0xf9)]();}[a1_0x797b86(0x295)](_0x55b672){const _0x3caf26=a1_0x797b86,_0xa0c9ce={};_0xa0c9ce[_0x3caf26(0xf1)]='1|4|2|5|3|0';const _0x530745=_0xa0c9ce,_0x5db044=_0x530745[_0x3caf26(0xf1)][_0x3caf26(0x15a)]('|');let _0x5975f1=0x0;while(!![]){switch(_0x5db044[_0x5975f1++]){case'0':this[_0x3caf26(0x1af)]();continue;case'1':global_registry[_0x3caf26(0x1f3)]=_0x55b672[this[_0x3caf26(0x108)]]['clientId'];continue;case'2':global_registry[_0x3caf26(0x11b)]=_0x55b672[this[_0x3caf26(0x108)]][_0x3caf26(0x104)];continue;case'3':global_registry[_0x3caf26(0x24b)]=_0x55b672[this[_0x3caf26(0x108)]][_0x3caf26(0x236)];continue;case'4':global_registry['cloudProviderClientSecret']=_0x55b672[this['cloudProviderName']][_0x3caf26(0xef)];continue;case'5':global_registry[_0x3caf26(0x249)]=_0x55b672[this[_0x3caf26(0x108)]][_0x3caf26(0x27c)];continue;}break;}}async[a1_0x797b86(0x2b7)](_0x158da9,_0x25c004){const _0x48fd5e=a1_0x797b86,_0x454e60={'FOMtz':function(_0x332756,_0x5f4d47){return _0x332756===_0x5f4d47;},'nOzre':_0x48fd5e(0x110),'mxxxR':'denied','ukahi':function(_0x353454,_0xcd9f23){return _0x353454+_0xcd9f23;},'zfBUw':function(_0x54b6be,_0x2ad29a){return _0x54b6be(_0x2ad29a);},'tVxmQ':function(_0x14b17c,_0x215ec4){return _0x14b17c(_0x215ec4);},'xzyBp':function(_0x19ed31,_0x248835){return _0x19ed31(_0x248835);},'BZCrl':function(_0x52f8e1,_0xea3a9e){return _0x52f8e1(_0xea3a9e);},'yNjOS':function(_0x5a1709,_0x441db2){return _0x5a1709===_0x441db2;},'DXtrR':function(_0x4dad7e,_0x412385){return _0x4dad7e!==_0x412385;},'bHJao':_0x48fd5e(0xe6),'DKZyC':function(_0x4279d6,_0x15067d){return _0x4279d6(_0x15067d);},'ANQUS':function(_0x206e75,_0x522d86){return _0x206e75===_0x522d86;},'eSFxH':_0x48fd5e(0x281),'nIFkk':function(_0x23672b,_0x1cd812){return _0x23672b(_0x1cd812);},'WBhgU':function(_0x174590,_0x2e3350){return _0x174590===_0x2e3350;},'gFNPN':function(_0x1d7d47,_0x57535b){return _0x1d7d47===_0x57535b;},'nBQhZ':_0x48fd5e(0x22b),'NJCWV':'Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','venAE':function(_0x38f2fa,_0x37d3b7){return _0x38f2fa===_0x37d3b7;},'Isctv':function(_0xa44de4,_0x21a205){return _0xa44de4===_0x21a205;},'Fceyr':_0x48fd5e(0xfa),'lfZfF':function(_0x3baab8,_0x1c412c){return _0x3baab8===_0x1c412c;},'whmtH':_0x48fd5e(0x1b3),'slaIJ':function(_0x457628,_0x1a5d8a){return _0x457628<_0x1a5d8a;},'McPAU':function(_0x44fb7a,_0x23c8d0){return _0x44fb7a!==_0x23c8d0;},'SaXAy':_0x48fd5e(0x17b),'JSXMz':_0x48fd5e(0x173),'sIrPr':function(_0xe88a74,_0xee74c6){return _0xe88a74(_0xee74c6);},'XgRCV':_0x48fd5e(0x29e),'AMFIU':function(_0x55fd24,_0x381a21){return _0x55fd24(_0x381a21);},'XoyEB':function(_0x45c557,_0xc601d){return _0x45c557(_0xc601d);},'Chbzm':function(_0x3cbe7d,_0x265af4){return _0x3cbe7d<=_0x265af4;},'FehJJ':function(_0x598bca,_0x2de8f0){return _0x598bca>_0x2de8f0;},'cqyNz':_0x48fd5e(0x143),'TfZqG':function(_0x5bff82,_0x2c347a){return _0x5bff82-_0x2c347a;}},_0x52b915=this['cloudProviderName'][_0x48fd5e(0x287)](),_0x4cc27d=await _0x454e60[_0x48fd5e(0x122)](_0x158da9,_0x52b915+_0x48fd5e(0x131)),_0x66a90d=await _0x454e60[_0x48fd5e(0x231)](_0x158da9,_0x52b915+_0x48fd5e(0x11d)),_0x4d0325=await _0x454e60[_0x48fd5e(0x1a4)](_0x158da9,_0x52b915+'\x20TENANT\x20ID:\x20'),_0x1fa2d4=await _0x454e60['BZCrl'](_0x158da9,_0x52b915+_0x48fd5e(0x16e));global_registry[_0x48fd5e(0x1f3)]=_0x4cc27d,global_registry[_0x48fd5e(0x191)]=_0x66a90d,global_registry[_0x48fd5e(0x11b)]=_0x4d0325,global_registry[_0x48fd5e(0x249)]=_0x1fa2d4,this[_0x48fd5e(0x1af)]();const _0x54a9fe=await this[_0x48fd5e(0x158)](),_0x383901=_0x54a9fe[_0x48fd5e(0x211)];let _0x18359f;if(_0x454e60[_0x48fd5e(0x107)](_0x383901,0x0)){if(_0x454e60[_0x48fd5e(0x238)](_0x454e60[_0x48fd5e(0xd1)],_0x454e60['bHJao']))return!![];else _0x18359f=await _0x454e60['DKZyC'](_0x158da9,_0x52b915+_0x48fd5e(0x19a));}else{if(_0x454e60['ANQUS'](_0x383901,0x1)){if(_0x454e60[_0x48fd5e(0x238)](_0x454e60[_0x48fd5e(0x272)],_0x454e60[_0x48fd5e(0x272)]))_0x2b9f79['push'](_0x11f9e5);else{const _0x1cbe9a=await _0x454e60[_0x48fd5e(0x2a6)](_0x158da9,_0x48fd5e(0x1ad)+_0x54a9fe[0x0]+_0x48fd5e(0x221));(_0x454e60[_0x48fd5e(0x10c)](_0x1cbe9a,undefined)||_0x454e60['FOMtz'](_0x1cbe9a,null)||!(_0x454e60[_0x48fd5e(0x107)](_0x1cbe9a[_0x48fd5e(0xf9)](),'y')||_0x454e60[_0x48fd5e(0x10c)](_0x1cbe9a[_0x48fd5e(0xf9)](),'n')))&&(_0x454e60['gFNPN'](_0x454e60[_0x48fd5e(0x25e)],_0x454e60[_0x48fd5e(0x25e)])?(console[_0x48fd5e(0xca)](_0x454e60[_0x48fd5e(0xdd)]),process[_0x48fd5e(0x13b)](0x1)):_0x2852c2['push'](_0x57de08));if(_0x454e60[_0x48fd5e(0x125)](_0x1cbe9a[_0x48fd5e(0xf9)](),'n')){if(_0x454e60[_0x48fd5e(0x1c2)](_0x454e60[_0x48fd5e(0x14a)],_0x454e60[_0x48fd5e(0x14a)]))process[_0x48fd5e(0x13b)](0x0);else return[!![],_0xb903f4];}_0x18359f=_0x54a9fe[0x0];}}else{if(_0x454e60[_0x48fd5e(0x1d9)](_0x454e60[_0x48fd5e(0xd4)],_0x454e60[_0x48fd5e(0xd4)])){for(let _0x5a216e=0x0;_0x454e60[_0x48fd5e(0xe0)](_0x5a216e,_0x54a9fe['length']);_0x5a216e+=0x1){if(_0x454e60[_0x48fd5e(0x1c4)](_0x454e60[_0x48fd5e(0x206)],_0x454e60[_0x48fd5e(0x291)]))console[_0x48fd5e(0x218)]('['+_0x454e60['ukahi'](_0x5a216e,0x1)+']\x20'+_0x54a9fe[_0x5a216e]);else{if(_0x454e60[_0x48fd5e(0x21d)](_0x2a23c4['name'],_0x21a37a))return!![];}}const _0x5ad1a=await _0x454e60[_0x48fd5e(0x1b2)](_0x158da9,_0x454e60[_0x48fd5e(0x1ec)]),_0x536a62=_0x454e60['AMFIU'](Number,_0x5ad1a);if(_0x454e60[_0x48fd5e(0x229)](isNaN,_0x536a62)||_0x454e60[_0x48fd5e(0xf7)](_0x536a62,0x0)||_0x454e60[_0x48fd5e(0x18b)](_0x536a62,_0x383901)){if(_0x454e60['Isctv'](_0x454e60['cqyNz'],_0x454e60[_0x48fd5e(0xd8)]))console['error'](_0x454e60[_0x48fd5e(0xdd)]),process[_0x48fd5e(0x13b)](0x1);else{const _0x133b68=_0x2e14b4[_0x48fd5e(0x29a)](_0x3fe438);_0x4d51d8+='\x0a\x09'+_0x529809+':\x20'+(_0x133b68?_0x454e60[_0x48fd5e(0x1ff)]:_0x454e60[_0x48fd5e(0x161)]),!_0x133b68&&(_0x3ef9ba[_0x48fd5e(0xf6)]=![]);}}_0x18359f=_0x54a9fe[_0x454e60[_0x48fd5e(0x118)](_0x536a62,0x1)];}else _0x181126[_0x48fd5e(0x218)]('['+_0x454e60['ukahi'](_0x2d435e,0x1)+']\x20'+_0x1b4513[_0x1a3f34]);}}global_registry['cloudProviderResourceGroup']=_0x18359f;const _0x2435a4={};return _0x2435a4[_0x48fd5e(0x1ae)]=_0x4cc27d,_0x2435a4[_0x48fd5e(0xef)]=_0x66a90d,_0x2435a4['tenantId']=_0x4d0325,_0x2435a4[_0x48fd5e(0x27c)]=_0x1fa2d4,_0x2435a4['resourceGroup']=_0x18359f,_0x25c004[_0x48fd5e(0x258)][AZURE]=_0x2435a4,_0x25c004;}async[a1_0x797b86(0x158)](){const _0x9a7b0b=a1_0x797b86,_0x30bfd1={};_0x30bfd1[_0x9a7b0b(0x188)]=function(_0x20182d,_0x4a8d9a){return _0x20182d===_0x4a8d9a;},_0x30bfd1[_0x9a7b0b(0x1f0)]=_0x9a7b0b(0x124),_0x30bfd1['AYlgF']='heHyD';const _0x4a99b6=_0x30bfd1,_0x4781f6=[];try{if(_0x4a99b6[_0x9a7b0b(0x188)](_0x4a99b6[_0x9a7b0b(0x1f0)],_0x4a99b6[_0x9a7b0b(0x1f0)])){const _0x34258c=await this[_0x9a7b0b(0x21b)][_0x9a7b0b(0x190)][_0x9a7b0b(0xdb)]();for await(const _0x488f1f of _0x34258c){_0x4a99b6[_0x9a7b0b(0x188)](_0x4a99b6[_0x9a7b0b(0x260)],_0x4a99b6['AYlgF'])?_0x4781f6[_0x9a7b0b(0x1d8)](_0x488f1f[_0x9a7b0b(0x19d)]):_0x50fc51['push'](_0x47e330);}}else{if(_0x4a99b6[_0x9a7b0b(0x188)](_0x4506cd[_0x9a7b0b(0x19d)],_0x44fe29))return!![];}}catch(_0x708e9b){}return _0x4781f6;}async['getClusterInfo'](){const _0x386417=a1_0x797b86;return this[_0x386417(0xc9)]=await this[_0x386417(0x2ae)][_0x386417(0x14d)][_0x386417(0xfc)](global_registry[_0x386417(0x24b)],this[_0x386417(0xc8)]),this[_0x386417(0xc9)];}async[a1_0x797b86(0x1ee)](){const _0x541074=a1_0x797b86,_0x5da784=await this[_0x541074(0x2ae)]['managedClusters'][_0x541074(0x147)](global_registry[_0x541074(0x24b)],this[_0x541074(0xc8)]),_0x1c3745=_0x5da784[_0x541074(0x1a0)][0x0]['value'][_0x541074(0x212)]();return _0x1c3745;}[a1_0x797b86(0x254)](_0x3cd62e){const _0x3041c0=a1_0x797b86;return _0x3cd62e[_0x3041c0(0xf6)][_0x3041c0(0x1de)][_0x3041c0(0x203)][0x0][_0x3041c0(0x1e9)];}async['isClusterPresent'](){const _0x354cdc=a1_0x797b86,_0x304096={};_0x304096[_0x354cdc(0x27b)]=_0x354cdc(0x1c9),_0x304096[_0x354cdc(0x2a8)]=_0x354cdc(0x1ab),_0x304096[_0x354cdc(0x14f)]=_0x354cdc(0x13e),_0x304096[_0x354cdc(0x1e4)]='[variables(\x27vnetSubnetID\x27)]',_0x304096[_0x354cdc(0xdf)]=function(_0x298012,_0x2507ca){return _0x298012===_0x2507ca;},_0x304096['FhiMZ']=_0x354cdc(0x2b4),_0x304096[_0x354cdc(0x10a)]='Cjvah',_0x304096[_0x354cdc(0x259)]=function(_0xf71a0d,_0x4735e8){return _0xf71a0d!==_0x4735e8;},_0x304096[_0x354cdc(0xdc)]=_0x354cdc(0x1cf),_0x304096[_0x354cdc(0x23e)]=_0x354cdc(0x1da),_0x304096['RYfOU']=function(_0x2ed8b1,_0x702b90){return _0x2ed8b1===_0x702b90;},_0x304096[_0x354cdc(0x214)]=_0x354cdc(0x156),_0x304096[_0x354cdc(0x119)]=_0x354cdc(0x1fe);const _0x99efba=_0x304096,_0x1c7dd8=new Array();for await(const _0x578676 of this[_0x354cdc(0x2ae)][_0x354cdc(0x14d)]['listByResourceGroup'](global_registry[_0x354cdc(0x24b)])){_0x99efba[_0x354cdc(0xdf)](_0x99efba[_0x354cdc(0x21f)],_0x99efba[_0x354cdc(0x10a)])?_0x4c6523=_0x126582['id']:_0x1c7dd8['push'](_0x578676);}for await(const _0x54779e of _0x1c7dd8){if(_0x99efba[_0x354cdc(0x259)](_0x99efba[_0x354cdc(0xdc)],_0x99efba[_0x354cdc(0x23e)])){if(_0x99efba[_0x354cdc(0x2af)](_0x54779e[_0x354cdc(0x19d)],this[_0x354cdc(0xc8)])){if(_0x99efba[_0x354cdc(0x259)](_0x99efba['kFMhA'],_0x99efba[_0x354cdc(0x119)]))return await this[_0x354cdc(0x18a)](),!![];else{const _0x346081={};_0x346081['type']=_0x99efba[_0x354cdc(0x27b)],_0x346081[_0x354cdc(0x121)]={},_0x346081[_0x354cdc(0x121)]['description']=_0x99efba[_0x354cdc(0x2a8)];const _0x2f21e9={};_0x2f21e9[_0x354cdc(0x24f)]=_0x99efba[_0x354cdc(0x27b)],_0x2f21e9[_0x354cdc(0x121)]={},_0x2f21e9[_0x354cdc(0x121)][_0x354cdc(0x28c)]=_0x99efba[_0x354cdc(0x2a8)];const _0x31ac44={..._0x583b1a[_0x354cdc(0x139)]};_0x31ac44[_0x354cdc(0x18f)]=_0x346081,_0x31ac44[_0x354cdc(0x153)]=_0x2f21e9,_0x2ed85c[_0x354cdc(0x139)]=_0x31ac44;const _0x25265c={};_0x25265c['vnetSubnetID']=_0x99efba[_0x354cdc(0x14f)],_0x19414b[_0x354cdc(0x286)]=_0x25265c;const _0x3d059b={..._0x2a38bf[_0x354cdc(0x20a)][0x0]['properties'][_0x354cdc(0x106)][0x0]};_0x3d059b[_0x354cdc(0x159)]=_0x99efba[_0x354cdc(0x1e4)],_0x870837[_0x354cdc(0x20a)][0x0][_0x354cdc(0xee)][_0x354cdc(0x106)][0x0]=_0x3d059b;const _0x48b5da={};_0x48b5da[_0x354cdc(0xcc)]=_0x14330c;const _0x967f80={};_0x967f80['value']=_0x2f5cc1[0x0];const _0x34de9f={..._0x218d1e};_0x34de9f[_0x354cdc(0x18f)]=_0x48b5da,_0x34de9f[_0x354cdc(0x153)]=_0x967f80,_0x4dd5b0=_0x34de9f;}}}else return!![];}return![];}async[a1_0x797b86(0xe2)](_0x210798=null,_0x2abbf5=null){const _0x5a6525=a1_0x797b86,_0x445203={};_0x445203['vQkPb']=_0x5a6525(0x192),_0x445203[_0x5a6525(0x176)]=_0x5a6525(0x1d6);const _0xd7894a=_0x445203,_0x45bb6a=_0xd7894a[_0x5a6525(0x17d)][_0x5a6525(0x15a)]('|');let _0x17ad49=0x0;while(!![]){switch(_0x45bb6a[_0x17ad49++]){case'0':const _0x1db2c7={};_0x1db2c7[_0x5a6525(0x24f)]=WS_EVENTS[_0x5a6525(0x163)],_0x1db2c7[_0x5a6525(0x21c)]=_0xd7894a[_0x5a6525(0x176)],this[_0x5a6525(0x1f9)][_0x5a6525(0x208)](this[_0x5a6525(0x2a2)],_0x1db2c7);continue;case'1':await this[_0x5a6525(0x234)]();continue;case'2':return[_0x210798,_0x2abbf5];case'3':logger[_0x5a6525(0x1f2)](_0xd7894a[_0x5a6525(0x176)]);continue;case'4':await this[_0x5a6525(0x1dd)](_0x210798,_0x2abbf5);continue;case'5':this['sendAzureInfoToHST']();continue;}break;}}async['createCluster'](_0xf2fd50=null,_0x5d06cf=null){const _0x4dca0c=a1_0x797b86,_0x952a={};_0x952a[_0x4dca0c(0x2b3)]='templates',_0x952a[_0x4dca0c(0x142)]='azureresources',_0x952a['MiBYn']=_0x4dca0c(0x155),_0x952a[_0x4dca0c(0x10f)]='utf-8',_0x952a['LBJCy']=_0x4dca0c(0x1e8),_0x952a[_0x4dca0c(0x2b0)]=_0x4dca0c(0x210),_0x952a[_0x4dca0c(0x1ce)]=function(_0x1e88e2,_0x217279){return _0x1e88e2!==_0x217279;},_0x952a[_0x4dca0c(0x1b6)]=_0x4dca0c(0x235),_0x952a['icYYJ']='SjByZ',_0x952a['CFgQv']=_0x4dca0c(0x1c9),_0x952a['DFqeD']=_0x4dca0c(0x1ab),_0x952a[_0x4dca0c(0x239)]=_0x4dca0c(0x13e),_0x952a['pQQdo']='[variables(\x27vnetSubnetID\x27)]',_0x952a[_0x4dca0c(0x1e2)]=_0x4dca0c(0x2aa),_0x952a[_0x4dca0c(0x237)]=_0x4dca0c(0x140);const _0x4dc124=_0x952a;let _0x5978f9=await fs[_0x4dca0c(0x162)](path[_0x4dca0c(0x103)](__dirname,'..',_0x4dc124['upHoa'],_0x4dc124[_0x4dca0c(0x142)],_0x4dc124[_0x4dca0c(0x1bd)]),_0x4dc124[_0x4dca0c(0x10f)]);_0x5978f9=JSON[_0x4dca0c(0x24a)](_0x5978f9);const _0xb19d84={};_0xb19d84['value']=this[_0x4dca0c(0xc8)];const _0x4029a1={};_0x4029a1[_0x4dca0c(0xcc)]=global_registry['clusterRegion'];const _0x59079f={};_0x59079f[_0x4dca0c(0xcc)]=global_registry[_0x4dca0c(0x270)];const _0x4bb4b2={};_0x4bb4b2[_0x4dca0c(0xcc)]=global_registry[_0x4dca0c(0x19e)];const _0x2298a5={};_0x2298a5['value']=global_registry[_0x4dca0c(0x13c)]?_0x4dc124[_0x4dca0c(0x102)]:_0x4dc124[_0x4dca0c(0x2b0)];const _0x1f91fa={};_0x1f91fa['clusterName']=_0xb19d84,_0x1f91fa[_0x4dca0c(0x198)]=_0x4029a1,_0x1f91fa[_0x4dca0c(0x185)]=_0x59079f,_0x1f91fa[_0x4dca0c(0x113)]=_0x4bb4b2,_0x1f91fa[_0x4dca0c(0x13c)]=_0x2298a5;let _0x479427=_0x1f91fa;if(_0x4dc124[_0x4dca0c(0x1ce)](_0xf2fd50,null)&&_0x4dc124[_0x4dca0c(0x1ce)](_0x5d06cf,null)){if(_0x4dc124[_0x4dca0c(0x1ce)](_0x4dc124['KKXyX'],_0x4dc124['icYYJ'])){const _0x50a04b={};_0x50a04b['type']=_0x4dc124[_0x4dca0c(0x26f)],_0x50a04b[_0x4dca0c(0x121)]={},_0x50a04b[_0x4dca0c(0x121)][_0x4dca0c(0x28c)]=_0x4dc124[_0x4dca0c(0xde)];const _0x4dee0d={};_0x4dee0d[_0x4dca0c(0x24f)]=_0x4dc124[_0x4dca0c(0x26f)],_0x4dee0d[_0x4dca0c(0x121)]={},_0x4dee0d[_0x4dca0c(0x121)][_0x4dca0c(0x28c)]=_0x4dc124['DFqeD'],_0x5978f9[_0x4dca0c(0x139)]={..._0x5978f9[_0x4dca0c(0x139)],'vpcName':_0x50a04b,'subnetName':_0x4dee0d};const _0xef220c={};_0xef220c['vnetSubnetID']=_0x4dc124['ZvUmE'],_0x5978f9[_0x4dca0c(0x286)]=_0xef220c,_0x5978f9['resources'][0x0][_0x4dca0c(0xee)]['agentPoolProfiles'][0x0]={..._0x5978f9[_0x4dca0c(0x20a)][0x0]['properties'][_0x4dca0c(0x106)][0x0],'vnetSubnetID':_0x4dc124['pQQdo']};const _0x145215={};_0x145215[_0x4dca0c(0xcc)]=_0xf2fd50;const _0x54e0f8={};_0x54e0f8[_0x4dca0c(0xcc)]=_0x5d06cf[0x0],_0x479427={..._0x479427,'vpcName':_0x145215,'subnetName':_0x54e0f8};}else _0x4a22ce[_0x4dca0c(0x1d8)](..._0xeb629[_0x4dca0c(0x14b)]);}await this[_0x4dca0c(0x21b)][_0x4dca0c(0x1a1)][_0x4dca0c(0x20c)](global_registry[_0x4dca0c(0x24b)],_0x4dc124[_0x4dca0c(0x1e2)],{'properties':{'template':_0x5978f9,'mode':_0x4dc124[_0x4dca0c(0x237)],'parameters':_0x479427}});}async[a1_0x797b86(0x234)](){const _0x475a2d=a1_0x797b86,_0x3ae80b={};_0x3ae80b[_0x475a2d(0x1f5)]='Storage\x20account\x20already\x20exists,\x20skipping',_0x3ae80b[_0x475a2d(0x1fc)]=function(_0x45c7bb,_0x226623){return _0x45c7bb===_0x226623;},_0x3ae80b[_0x475a2d(0xf0)]=_0x475a2d(0x2b2),_0x3ae80b[_0x475a2d(0x168)]=_0x475a2d(0x152),_0x3ae80b[_0x475a2d(0x1e7)]='Creating\x20Azure\x20storage\x20account',_0x3ae80b['mjnmN']=function(_0xf53c7d,_0x4971dc){return _0xf53c7d===_0x4971dc;},_0x3ae80b[_0x475a2d(0x293)]='ZRdxC',_0x3ae80b['myTVM']=function(_0x30c882,_0x157347){return _0x30c882!==_0x157347;},_0x3ae80b[_0x475a2d(0x215)]='WHQIm',_0x3ae80b[_0x475a2d(0x232)]=_0x475a2d(0x2b1),_0x3ae80b[_0x475a2d(0xda)]=function(_0x34e1b0,_0x32eb1d){return _0x34e1b0===_0x32eb1d;},_0x3ae80b[_0x475a2d(0x177)]=_0x475a2d(0x1f4),_0x3ae80b[_0x475a2d(0x1d7)]='JNhHn',_0x3ae80b[_0x475a2d(0x268)]=_0x475a2d(0xc6),_0x3ae80b[_0x475a2d(0x186)]=_0x475a2d(0x17e),_0x3ae80b['IvmAh']=_0x475a2d(0x1d1);const _0x244921=_0x3ae80b,_0x2a31b2=await this[_0x475a2d(0x1e1)]();if(!_0x2a31b2){if(_0x244921[_0x475a2d(0x1fc)](_0x244921[_0x475a2d(0xf0)],_0x244921[_0x475a2d(0x168)]))_0x265ea3[_0x475a2d(0x1f2)](_0x244921['zKNty']);else{const _0x1da442={};_0x1da442[_0x475a2d(0x24f)]=WS_EVENTS[_0x475a2d(0x163)],_0x1da442[_0x475a2d(0x21c)]=_0x244921[_0x475a2d(0x1e7)],this[_0x475a2d(0x1f9)][_0x475a2d(0x208)](this[_0x475a2d(0x2a2)],_0x1da442),logger[_0x475a2d(0x1f2)](_0x244921[_0x475a2d(0x1e7)]),await this['createStorageAccount']();}}else _0x244921[_0x475a2d(0x10e)](_0x244921['faDFE'],_0x244921[_0x475a2d(0x293)])?logger[_0x475a2d(0x1f2)](_0x244921['zKNty']):_0x10992e[_0x475a2d(0xf6)]=![];const _0x231aa=await this[_0x475a2d(0x112)]();if(!_0x231aa){if(_0x244921[_0x475a2d(0x207)](_0x244921[_0x475a2d(0x215)],_0x244921[_0x475a2d(0x215)]))return _0x1c42fa['error'](_0x475a2d(0x11c)+_0x2be6dd+_0x475a2d(0x1cd)+_0xca974),[![],[]];else{const _0x128b28={};_0x128b28['type']=WS_EVENTS[_0x475a2d(0x163)],_0x128b28['message']=_0x244921['EnECb'],this[_0x475a2d(0x1f9)][_0x475a2d(0x208)](this[_0x475a2d(0x2a2)],_0x128b28),logger[_0x475a2d(0x1f2)](_0x244921[_0x475a2d(0x232)]),await this[_0x475a2d(0x127)]();}}else{if(_0x244921['LnHiQ'](_0x244921[_0x475a2d(0x177)],_0x244921[_0x475a2d(0x1d7)]))return;else logger[_0x475a2d(0x1f2)](_0x244921['HfxPw']);}logger['info'](_0x244921['IRcOY']),await this[_0x475a2d(0x1a6)](),logger[_0x475a2d(0x1f2)](_0x244921[_0x475a2d(0x2ac)]);}async[a1_0x797b86(0x157)](){const _0x1ba491=a1_0x797b86,_0x1481a9={};_0x1481a9['ulNBM']=_0x1ba491(0x172),_0x1481a9[_0x1ba491(0x28f)]='azureresources',_0x1481a9[_0x1ba491(0x279)]=_0x1ba491(0x23a),_0x1481a9['SlpGR']=_0x1ba491(0x195),_0x1481a9['pIVrQ']='turboscale-storageaccount-deployment',_0x1481a9[_0x1ba491(0x2b8)]=_0x1ba491(0x140),_0x1481a9[_0x1ba491(0x1b1)]=_0x1ba491(0x246),_0x1481a9[_0x1ba491(0x27f)]=_0x1ba491(0x1ef),_0x1481a9['EQnLc']=_0x1ba491(0x19c),_0x1481a9[_0x1ba491(0x1dc)]='default';const _0xf2a04e=_0x1481a9;let _0x173a9f=await fs[_0x1ba491(0x162)](path[_0x1ba491(0x103)](__dirname,'..',_0xf2a04e[_0x1ba491(0x101)],_0xf2a04e[_0x1ba491(0x28f)],_0xf2a04e[_0x1ba491(0x279)]),_0xf2a04e[_0x1ba491(0x255)]);_0x173a9f=JSON['parse'](_0x173a9f);const _0x21fc65=this[_0x1ba491(0xf5)](),_0x21f97a={};_0x21f97a[_0x1ba491(0xcc)]=_0x21fc65;const _0x32ef38={};_0x32ef38[_0x1ba491(0x12f)]=_0x21f97a,await this[_0x1ba491(0x21b)][_0x1ba491(0x1a1)]['beginCreateOrUpdateAndWait'](global_registry[_0x1ba491(0x24b)],_0xf2a04e[_0x1ba491(0x24d)],{'properties':{'template':_0x173a9f,'mode':_0xf2a04e[_0x1ba491(0x2b8)],'parameters':_0x32ef38}});const _0x14ecd3={};_0x14ecd3['daysAfterCreationGreaterThan']=0x3c;const _0x1b7659={};_0x1b7659[_0x1ba491(0x245)]=_0x14ecd3;const _0x1ed500={};_0x1ed500['baseBlob']=_0x1b7659;const _0x48e154={};_0x48e154[_0x1ba491(0x144)]=!![],_0x48e154[_0x1ba491(0x19d)]=_0xf2a04e[_0x1ba491(0x1b1)],_0x48e154[_0x1ba491(0x24f)]=_0xf2a04e[_0x1ba491(0x27f)],_0x48e154[_0x1ba491(0x26b)]={},_0x48e154[_0x1ba491(0x26b)][_0x1ba491(0x14b)]=_0x1ed500,_0x48e154[_0x1ba491(0x26b)][_0x1ba491(0x288)]={},_0x48e154[_0x1ba491(0x26b)][_0x1ba491(0x288)][_0x1ba491(0xfd)]=[_0xf2a04e[_0x1ba491(0xf8)]];const _0x4e4942={};_0x4e4942[_0x1ba491(0x2a0)]=[_0x48e154];const _0x3ab6df={};_0x3ab6df[_0x1ba491(0x10b)]=_0x4e4942;const _0x4b8986=_0x3ab6df;await this[_0x1ba491(0x26c)]['managementPolicies']['createOrUpdate'](global_registry[_0x1ba491(0x24b)],_0x21fc65,_0xf2a04e['SSynu'],_0x4b8986);}async[a1_0x797b86(0x127)](){const _0x4a885c=a1_0x797b86,_0x5860ff={};_0x5860ff[_0x4a885c(0x283)]=_0x4a885c(0x172),_0x5860ff[_0x4a885c(0x220)]=_0x4a885c(0x15b),_0x5860ff[_0x4a885c(0x146)]=_0x4a885c(0x16d),_0x5860ff[_0x4a885c(0x296)]=_0x4a885c(0x195),_0x5860ff['OVWLC']='turboscale-identity-deployment',_0x5860ff['NCOoD']='Incremental';const _0x38bbf2=_0x5860ff;let _0xf86d59=await fs[_0x4a885c(0x162)](path['join'](__dirname,'..',_0x38bbf2['oFqwr'],_0x38bbf2['PtxFq'],_0x38bbf2[_0x4a885c(0x146)]),_0x38bbf2[_0x4a885c(0x296)]);_0xf86d59=JSON[_0x4a885c(0x24a)](_0xf86d59),await this[_0x4a885c(0x21b)][_0x4a885c(0x1a1)]['beginCreateOrUpdateAndWait'](global_registry[_0x4a885c(0x24b)],_0x38bbf2[_0x4a885c(0x2a5)],{'properties':{'template':_0xf86d59,'mode':_0x38bbf2[_0x4a885c(0x23b)],'parameters':{'clusterName':{'value':this[_0x4a885c(0xc8)]}}}});}async[a1_0x797b86(0x1a6)](){const _0x47d290=a1_0x797b86,_0x4d0a04={};_0x4d0a04[_0x47d290(0x170)]=_0x47d290(0x1a3),_0x4d0a04['hGhlj']=function(_0x1d990a,_0x5c9e50){return _0x1d990a!==_0x5c9e50;},_0x4d0a04['gBmKI']=_0x47d290(0x117),_0x4d0a04[_0x47d290(0x248)]=_0x47d290(0x23d),_0x4d0a04[_0x47d290(0x2ab)]=_0x47d290(0x175),_0x4d0a04[_0x47d290(0x111)]=_0x47d290(0x115),_0x4d0a04['UzJFQ']=function(_0x5e8589,_0xfbbd70){return _0x5e8589!==_0xfbbd70;},_0x4d0a04[_0x47d290(0x263)]=_0x47d290(0x151),_0x4d0a04[_0x47d290(0x22e)]=_0x47d290(0x1a7),_0x4d0a04[_0x47d290(0xec)]=_0x47d290(0x172),_0x4d0a04[_0x47d290(0x1f6)]='azureresources',_0x4d0a04[_0x47d290(0xcf)]=_0x47d290(0x195),_0x4d0a04[_0x47d290(0x26d)]=_0x47d290(0x193),_0x4d0a04['wPGIa']='Incremental';const _0x470f59=_0x4d0a04;!this[_0x47d290(0xc9)]&&(_0x470f59[_0x47d290(0x171)](_0x470f59[_0x47d290(0x1ba)],_0x470f59[_0x47d290(0x248)])?await this[_0x47d290(0x18a)]():_0x1da84e[_0x47d290(0x1d8)](_0x5112d5));const _0x52f207=this[_0x47d290(0xc9)]?.['oidcIssuerProfile']?.[_0x47d290(0x2a7)],_0x35df11=[_0x470f59[_0x47d290(0x2ab)],_0x470f59[_0x47d290(0x111)]];for await(const _0x2dad77 of _0x35df11){if(_0x470f59['UzJFQ'](_0x470f59['tNbqT'],_0x470f59[_0x47d290(0x22e)])){let _0x35e805=await fs['readFileAsync'](path[_0x47d290(0x103)](__dirname,'..',_0x470f59['wFpZB'],_0x470f59[_0x47d290(0x1f6)],_0x47d290(0x149)+_0x2dad77+_0x47d290(0x222)),_0x470f59[_0x47d290(0xcf)]);_0x35e805=JSON[_0x47d290(0x24a)](_0x35e805);const _0x219889={};_0x219889[_0x47d290(0xcc)]=_0x52f207,await this[_0x47d290(0x21b)][_0x47d290(0x1a1)][_0x47d290(0x20c)](global_registry[_0x47d290(0x24b)],_0x470f59[_0x47d290(0x26d)],{'properties':{'template':_0x35e805,'mode':_0x470f59[_0x47d290(0x14c)],'parameters':{'oidcIssuer':_0x219889,'gridName':{'value':this[_0x47d290(0x132)]},'clusterName':{'value':this[_0x47d290(0xc8)]}}}});}else return _0x5d6764['data']=_0x470f59[_0x47d290(0x170)],_0x29dcd5;}}async['setupHubHa'](_0x156493,_0x4419de,_0x209907,_0x22f032,_0x2a1bcc){const _0x596301=a1_0x797b86,_0xb59624={};_0xb59624[_0x596301(0x167)]=_0x596301(0x18e),_0xb59624[_0x596301(0x204)]=_0x596301(0x17c);const _0x13dec6=_0xb59624,_0x3fa484={};_0x3fa484[_0x596301(0x24f)]=WS_EVENTS[_0x596301(0x163)],_0x3fa484[_0x596301(0x21c)]=_0x13dec6[_0x596301(0x167)],this['webSocketUtils'][_0x596301(0x208)](this[_0x596301(0x2a2)],_0x3fa484),logger[_0x596301(0x1f2)](_0x13dec6['wgGst']),await this[_0x596301(0x199)]();const _0xa89ae5={};_0xa89ae5['type']=WS_EVENTS['LOG'],_0xa89ae5[_0x596301(0x21c)]=_0x13dec6[_0x596301(0x204)],this[_0x596301(0x1f9)]['sendEventToBackend'](this[_0x596301(0x2a2)],_0xa89ae5);}async[a1_0x797b86(0x199)](){const _0x5b0ca5=a1_0x797b86,_0x1bac81={};_0x1bac81[_0x5b0ca5(0x1f8)]=function(_0x2f1c68,_0x58beda){return _0x2f1c68===_0x58beda;},_0x1bac81[_0x5b0ca5(0x25d)]=_0x5b0ca5(0x228),_0x1bac81[_0x5b0ca5(0x26e)]=_0x5b0ca5(0x172),_0x1bac81[_0x5b0ca5(0x29f)]='hubharesources',_0x1bac81[_0x5b0ca5(0xce)]=_0x5b0ca5(0x1c5),_0x1bac81[_0x5b0ca5(0x24e)]='utf-8',_0x1bac81[_0x5b0ca5(0x282)]=_0x5b0ca5(0x193),_0x1bac81[_0x5b0ca5(0x164)]=_0x5b0ca5(0x140);const _0x40e286=_0x1bac81;!this[_0x5b0ca5(0xc9)]&&(_0x40e286[_0x5b0ca5(0x1f8)](_0x40e286['vbWlz'],_0x40e286[_0x5b0ca5(0x25d)])?await this['getClusterInfo']():_0x1e518f[_0x5b0ca5(0xca)]=_0x5d3490);const _0xc3a6e5=this[_0x5b0ca5(0xc9)]?.[_0x5b0ca5(0x130)]?.[_0x5b0ca5(0x2a7)];let _0x405e24=await fs[_0x5b0ca5(0x162)](path['join'](__dirname,'..',_0x40e286['IYcdD'],_0x40e286[_0x5b0ca5(0x29f)],_0x40e286[_0x5b0ca5(0xce)]),_0x40e286[_0x5b0ca5(0x24e)]);_0x405e24=JSON[_0x5b0ca5(0x24a)](_0x405e24);const _0x284bce={};_0x284bce[_0x5b0ca5(0xcc)]=_0xc3a6e5,await this[_0x5b0ca5(0x21b)][_0x5b0ca5(0x1a1)][_0x5b0ca5(0x20c)](global_registry['cloudProviderResourceGroup'],_0x40e286['YKjaF'],{'properties':{'template':_0x405e24,'mode':_0x40e286[_0x5b0ca5(0x164)],'parameters':{'oidcIssuer':_0x284bce,'namespace':{'value':global_registry['hubHaNameSpace']},'clusterName':{'value':this[_0x5b0ca5(0xc8)]}}}});}async[a1_0x797b86(0x1e1)](){const _0x3ec85a=a1_0x797b86,_0x2a0633={};_0x2a0633[_0x3ec85a(0x265)]=function(_0x3f4b02,_0x1616bd){return _0x3f4b02===_0x1616bd;},_0x2a0633[_0x3ec85a(0x269)]=_0x3ec85a(0x264),_0x2a0633[_0x3ec85a(0x136)]=_0x3ec85a(0xe1),_0x2a0633[_0x3ec85a(0x123)]=function(_0x3c9759,_0x26878f){return _0x3c9759!==_0x26878f;},_0x2a0633[_0x3ec85a(0x116)]=_0x3ec85a(0x2a3),_0x2a0633[_0x3ec85a(0x225)]=function(_0x1879a5,_0x47729b){return _0x1879a5===_0x47729b;},_0x2a0633[_0x3ec85a(0x20f)]=function(_0xfe8872,_0x34c60e){return _0xfe8872===_0x34c60e;},_0x2a0633[_0x3ec85a(0xfe)]=_0x3ec85a(0x2ad);const _0x2aecf4=_0x2a0633,_0x4fe979=this[_0x3ec85a(0xf5)](),_0x38fa86=new Array();for await(const _0xca51e5 of this[_0x3ec85a(0x26c)]['storageAccounts']['listByResourceGroup'](global_registry[_0x3ec85a(0x24b)])){_0x2aecf4[_0x3ec85a(0x265)](_0x2aecf4[_0x3ec85a(0x269)],_0x2aecf4['LPJUU'])?_0x81a345[_0x3ec85a(0x1d8)](_0x3ddddc[_0x3ec85a(0x19d)]):_0x38fa86[_0x3ec85a(0x1d8)](_0xca51e5);}for await(const _0x4a3115 of _0x38fa86){if(_0x2aecf4[_0x3ec85a(0x123)](_0x2aecf4[_0x3ec85a(0x116)],_0x2aecf4[_0x3ec85a(0x116)])){const _0x59ae06=new _0x4f65dc(_0x2f2423[_0x3ec85a(0x11b)],_0x2e667c['cloudProviderClientId'],_0x12a6f9[_0x3ec85a(0x191)]);this['containerClient']=new _0x1c6f82(_0x59ae06,_0x50dec4[_0x3ec85a(0x249)]),this[_0x3ec85a(0x26c)]=new _0x127d35(_0x59ae06,_0x569000[_0x3ec85a(0x249)]),this[_0x3ec85a(0x21b)]=new _0x1acc9d(_0x59ae06,_0x243349[_0x3ec85a(0x249)]),this[_0x3ec85a(0x12b)]=new _0x48d568(_0x59ae06,_0x2dcb29['cloudProviderSubscriptionId']),this[_0x3ec85a(0x262)]=new _0x806c74(_0x59ae06,_0x36baa0[_0x3ec85a(0x249)]),this[_0x3ec85a(0x22a)]=_0x59ae06;}else{if(_0x2aecf4['kQVpH'](_0x4a3115[_0x3ec85a(0x19d)],_0x4fe979)){if(_0x2aecf4[_0x3ec85a(0x20f)](_0x2aecf4[_0x3ec85a(0xfe)],_0x2aecf4[_0x3ec85a(0xfe)]))return!![];else _0x21809e[_0x3ec85a(0xca)]=_0x1dbe43;}}}return![];}async[a1_0x797b86(0x112)](){const _0x4f0c12=a1_0x797b86,_0x399456={};_0x399456['DbTiR']='Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster',_0x399456[_0x4f0c12(0x244)]=_0x4f0c12(0xea),_0x399456[_0x4f0c12(0x160)]=function(_0x5ab3ae,_0x387e13){return _0x5ab3ae!==_0x387e13;},_0x399456[_0x4f0c12(0xed)]=_0x4f0c12(0x299),_0x399456[_0x4f0c12(0x27d)]='gRsAc',_0x399456[_0x4f0c12(0x25c)]=function(_0xa6ea9c,_0x526d55){return _0xa6ea9c===_0x526d55;},_0x399456[_0x4f0c12(0x266)]=_0x4f0c12(0x1bb),_0x399456[_0x4f0c12(0x1b8)]=function(_0x2950c3,_0x662810){return _0x2950c3===_0x662810;},_0x399456[_0x4f0c12(0x1f7)]=function(_0x315f46,_0x3f3244){return _0x315f46===_0x3f3244;},_0x399456[_0x4f0c12(0x145)]='Onscn';const _0x1c34d6=_0x399456,_0x1d3a20=new Array();for await(const _0x18f5d1 of this[_0x4f0c12(0x21b)][_0x4f0c12(0x20a)][_0x4f0c12(0x2a1)](global_registry[_0x4f0c12(0x24b)])){if(_0x1c34d6[_0x4f0c12(0x160)](_0x1c34d6[_0x4f0c12(0xed)],_0x1c34d6[_0x4f0c12(0x27d)]))_0x1d3a20[_0x4f0c12(0x1d8)](_0x18f5d1);else{_0x45cad4[_0x4f0c12(0x1f2)](_0x1c34d6[_0x4f0c12(0x178)]);const _0x4e898b={};_0x4e898b[_0x4f0c12(0x24f)]=_0x4748a6[_0x4f0c12(0x135)],_0x4e898b[_0x4f0c12(0x21c)]=_0x1c34d6[_0x4f0c12(0x178)],this['webSocketUtils'][_0x4f0c12(0x208)](this[_0x4f0c12(0x2a2)],_0x4e898b),_0x4303bb[_0x4f0c12(0x130)][_0x4f0c12(0x144)]=!![];}}for await(const _0x153e83 of _0x1d3a20){if(_0x1c34d6[_0x4f0c12(0x25c)](_0x1c34d6[_0x4f0c12(0x266)],_0x1c34d6['gdeBb'])){if(_0x1c34d6[_0x4f0c12(0x1b8)](_0x153e83[_0x4f0c12(0x19d)],'turboscale-managed-identity-'+this[_0x4f0c12(0xc8)])){if(_0x1c34d6['MDIhA'](_0x1c34d6[_0x4f0c12(0x145)],_0x1c34d6[_0x4f0c12(0x145)]))return!![];else _0x38ff97[_0x4f0c12(0xca)](_0x1c34d6[_0x4f0c12(0x244)]),_0x466b97['exit'](0x1);}}else _0x5df52c[_0x4f0c12(0xca)](_0x1c34d6[_0x4f0c12(0x244)]),_0x7570bc[_0x4f0c12(0x13b)](0x1);}return![];}async[a1_0x797b86(0x227)](_0x33b00f,_0x33bd3e=0x3){const _0x47bd7e=a1_0x797b86,_0x4810fa={'PxXvv':_0x47bd7e(0xc6),'DQMUl':_0x47bd7e(0x1e3),'jBpOZ':_0x47bd7e(0x196),'YJpBq':function(_0x3ed487,_0x154bff){return _0x3ed487===_0x154bff;},'xsgBj':_0x47bd7e(0xe8),'fEZEL':'cjdjm','XWhAB':function(_0x371db6,_0x2d8e03,_0x45f920){return _0x371db6(_0x2d8e03,_0x45f920);},'XObVU':function(_0x26991b,_0x51db7c){return _0x26991b!==_0x51db7c;},'xxXbO':_0x47bd7e(0x15d),'mUBIf':_0x47bd7e(0x271),'ebRGl':'dwExW','tjPoL':'pwlgA','uvqce':function(_0x383b28,_0x3124e2){return _0x383b28===_0x3124e2;},'ljTLV':'RRBku','OVnQV':_0x47bd7e(0x120),'VfMxH':'CGAhW','iWjQA':function(_0x2c7312,_0x3c1485){return _0x2c7312<=_0x3c1485;},'CMQet':_0x47bd7e(0x224),'EmLab':function(_0x105206,_0x15b076){return _0x105206-_0x15b076;}};try{if(_0x4810fa[_0x47bd7e(0xe9)](_0x4810fa[_0x47bd7e(0x256)],_0x4810fa[_0x47bd7e(0x256)]))_0x3601e2['info'](_0x4810fa[_0x47bd7e(0x1e6)]);else{const _0x599e37=new Array();for await(const _0x1c1c05 of this[_0x47bd7e(0x21b)][_0x47bd7e(0x20a)][_0x47bd7e(0x2a1)](global_registry[_0x47bd7e(0x24b)])){if(_0x4810fa['XObVU'](_0x4810fa[_0x47bd7e(0x165)],_0x4810fa['ebRGl']))_0x599e37[_0x47bd7e(0x1d8)](_0x1c1c05);else return _0x33745d[_0x47bd7e(0xca)]=_0x5c8341[_0x47bd7e(0xca)],_0x3f8ee5;}let _0x36c34b='';for await(const _0x2801ae of _0x599e37){if(_0x4810fa[_0x47bd7e(0xe9)](_0x4810fa[_0x47bd7e(0x12e)],_0x4810fa[_0x47bd7e(0x12e)]))_0x52640e[_0x47bd7e(0x13b)](0x0);else{if(_0x4810fa[_0x47bd7e(0x24c)](_0x2801ae[_0x47bd7e(0x19d)],_0x33b00f)){if(_0x4810fa[_0x47bd7e(0x24c)](_0x4810fa[_0x47bd7e(0xf4)],_0x4810fa[_0x47bd7e(0xf4)]))_0x36c34b=_0x2801ae['id'];else return!![];}}}const _0x276802=await this[_0x47bd7e(0x21b)][_0x47bd7e(0x20a)]['getById'](_0x36c34b,_0x4810fa[_0x47bd7e(0x16a)]);return _0x276802[_0x47bd7e(0xee)][_0x47bd7e(0x1ae)];}}catch(_0x3996bb){if(_0x4810fa['uvqce'](_0x4810fa[_0x47bd7e(0x21a)],_0x4810fa[_0x47bd7e(0x21a)])){if(_0x4810fa[_0x47bd7e(0x114)](_0x33bd3e,0x0)){if(_0x4810fa[_0x47bd7e(0x24c)](_0x4810fa[_0x47bd7e(0x209)],_0x4810fa[_0x47bd7e(0x209)]))return logger['error'](_0x47bd7e(0x1ac)+_0x3996bb+':'+_0x3996bb['stack']),{};else{const _0x5b4c52={};_0x5b4c52[_0x47bd7e(0xf6)]=!![],_0x5b4c52[_0x47bd7e(0xca)]=null,_0x5b4c52['data']=_0x4810fa[_0x47bd7e(0xd5)];const _0x386b0f=_0x5b4c52;return _0x386b0f;}}return await new Promise(_0x1ded26=>{const _0xe8c40b=_0x47bd7e;if(_0x4810fa[_0xe8c40b(0x1df)](_0x4810fa[_0xe8c40b(0x20e)],_0x4810fa[_0xe8c40b(0x226)])){const _0x154e04=_0x4810fa[_0xe8c40b(0xeb)]['split']('|');let _0x1a5adf=0x0;while(!![]){switch(_0x154e04[_0x1a5adf++]){case'0':_0x54bdba['cloudProviderTenantId']=_0x1beeee[this['cloudProviderName']]['tenantId'];continue;case'1':_0x1da0c4['cloudProviderSubscriptionId']=_0x1a56d6[this[_0xe8c40b(0x108)]][_0xe8c40b(0x27c)];continue;case'2':_0x41a625[_0xe8c40b(0x24b)]=_0x3dcfa9[this[_0xe8c40b(0x108)]][_0xe8c40b(0x236)];continue;case'3':_0x38f9ee['cloudProviderClientSecret']=_0x58ff07[this[_0xe8c40b(0x108)]][_0xe8c40b(0xef)];continue;case'4':this[_0xe8c40b(0x1af)]();continue;case'5':_0x2d5cad[_0xe8c40b(0x1f3)]=_0x5db7de[this['cloudProviderName']][_0xe8c40b(0x1ae)];continue;}break;}}else _0x4810fa[_0xe8c40b(0x181)](setTimeout,()=>_0x1ded26(),0x3e8);}),this[_0x47bd7e(0x227)](_0x33b00f,_0x4810fa[_0x47bd7e(0x1cb)](_0x33bd3e,0x1));}else _0x1f0870[_0x47bd7e(0x138)][_0x47bd7e(0x1d8)](_0x3140cc);}}async[a1_0x797b86(0x273)](){const _0x3fa333=a1_0x797b86,_0x999a07={};_0x999a07[_0x3fa333(0xc7)]=function(_0x418775,_0xfbeda5){return _0x418775===_0xfbeda5;},_0x999a07['JquGA']=function(_0x59604c,_0x106270){return _0x59604c!==_0x106270;},_0x999a07[_0x3fa333(0xe7)]=_0x3fa333(0x1e0),_0x999a07[_0x3fa333(0x216)]=_0x3fa333(0x17a),_0x999a07['gbACE']=_0x3fa333(0x184),_0x999a07[_0x3fa333(0x28b)]=function(_0x26965a,_0x49e378){return _0x26965a!==_0x49e378;},_0x999a07[_0x3fa333(0x233)]=_0x3fa333(0x1d4);const _0x5685c5=_0x999a07;if(!this[_0x3fa333(0xc9)]){if(_0x5685c5[_0x3fa333(0x1b4)](_0x5685c5[_0x3fa333(0xe7)],_0x5685c5[_0x3fa333(0xe7)]))return _0x1334cd[_0x3fa333(0xca)](_0x3fa333(0x29c)+_0xad8760+_0x3fa333(0x13f)+_0x1f01dc),![];else await this[_0x3fa333(0x18a)]();}const _0xb0d7ed=this[_0x3fa333(0xc9)]?.[_0x3fa333(0x2a9)]||{};if(_0xb0d7ed&&_0x5685c5['ASvPq'](_0xb0d7ed[_0x5685c5['ZPHUX']],_0x5685c5[_0x3fa333(0x267)])){if(_0x5685c5[_0x3fa333(0x28b)](_0x5685c5['zVdJn'],_0x5685c5[_0x3fa333(0x233)])){if(_0x5685c5[_0x3fa333(0xc7)](_0x16aaac[_0x3fa333(0x19d)],'turboscale-managed-identity-'+this['clusterName']))return!![];}else return!![];}return![];}async[a1_0x797b86(0x202)](_0x28e9a1,_0x39b747){const _0x53a6f0=a1_0x797b86,_0x5da0dd={'WqONy':function(_0x4a16dd,_0x43fff1){return _0x4a16dd(_0x43fff1);},'prHfd':_0x53a6f0(0x243)};await _0x5da0dd['WqONy'](deleteAgent,_0x28e9a1),await _0x5da0dd[_0x53a6f0(0x16b)](deleteRoutingDeps,_0x28e9a1);const _0x339f16=this[_0x53a6f0(0x2ae)];logger[_0x53a6f0(0x1f2)](_0x53a6f0(0x15c)+this[_0x53a6f0(0xc8)]),await _0x339f16[_0x53a6f0(0x14d)][_0x53a6f0(0x1bf)](global_registry[_0x53a6f0(0x24b)],this[_0x53a6f0(0xc8)]),logger[_0x53a6f0(0x1f2)](_0x5da0dd[_0x53a6f0(0x150)]);}async[a1_0x797b86(0x1a8)](){const _0x447e12=a1_0x797b86,_0x1452bf={};_0x1452bf['MJvMk']=_0x447e12(0xe5),_0x1452bf[_0x447e12(0x294)]=_0x447e12(0x28e),_0x1452bf[_0x447e12(0x27a)]=function(_0xf001bb,_0x88f207){return _0xf001bb!==_0x88f207;},_0x1452bf[_0x447e12(0x12c)]='QoPdk',_0x1452bf['ShJgM']=function(_0x463eec,_0x190ebc){return _0x463eec&&_0x190ebc;},_0x1452bf[_0x447e12(0x141)]=function(_0x4a9c84,_0x46f002){return _0x4a9c84===_0x46f002;},_0x1452bf[_0x447e12(0x1b5)]='BWwmP',_0x1452bf[_0x447e12(0x18c)]=function(_0x49b418,_0x704db7){return _0x49b418===_0x704db7;},_0x1452bf['TlQTA']=_0x447e12(0x250),_0x1452bf[_0x447e12(0x23c)]=_0x447e12(0x1ed),_0x1452bf[_0x447e12(0x1be)]=_0x447e12(0x1ca),_0x1452bf['zkeHt']=function(_0x5e2df1,_0x4c4328){return _0x5e2df1!==_0x4c4328;},_0x1452bf[_0x447e12(0x276)]=_0x447e12(0x1ea),_0x1452bf[_0x447e12(0x154)]='Enabling\x20Workload\x20identity\x20for\x20the\x20cluster',_0x1452bf[_0x447e12(0x1eb)]=function(_0x3d891f,_0x4ef9a0){return _0x3d891f!==_0x4ef9a0;},_0x1452bf[_0x447e12(0x230)]=_0x447e12(0x11e),_0x1452bf[_0x447e12(0x109)]=_0x447e12(0x251),_0x1452bf[_0x447e12(0x25f)]=_0x447e12(0x16f);const _0x105c86=_0x1452bf;if(!this[_0x447e12(0xc9)]){if(_0x105c86[_0x447e12(0x27a)](_0x105c86['sWzMZ'],_0x105c86[_0x447e12(0x12c)]))return _0x42c1e1[_0x447e12(0xcd)]=_0x105c86['MJvMk'],_0x1c1527;else await this[_0x447e12(0x18a)]();}const _0x2ab0fa=this[_0x447e12(0xc9)],_0x1b8a7d=this['clusterInfo']?.[_0x447e12(0x130)]?.[_0x447e12(0x144)]||![],_0x5cbd6c=this['clusterInfo']?.[_0x447e12(0x10d)]?.[_0x447e12(0x1db)]?.[_0x447e12(0x144)]||![],_0x2cb0f3=!this[_0x447e12(0xc9)]?.[_0x447e12(0x28a)]||![];if(_0x105c86['ShJgM'](_0x1b8a7d,_0x5cbd6c)&&_0x2cb0f3){if(_0x105c86[_0x447e12(0x141)](_0x105c86[_0x447e12(0x1b5)],_0x105c86[_0x447e12(0x1b5)]))return;else return!![];}if(!_0x1b8a7d){if(_0x105c86[_0x447e12(0x18c)](_0x105c86['TlQTA'],_0x105c86[_0x447e12(0x23c)]))throw new _0x1791a8(_0x105c86[_0x447e12(0x294)],_0x447e12(0x285)+_0x423bc3[_0x447e12(0x128)](_0x5be324));else{logger[_0x447e12(0x1f2)](_0x105c86['dSpHD']);const _0x32de90={};_0x32de90['type']=WS_EVENTS['RESOURCES'],_0x32de90[_0x447e12(0x21c)]=_0x105c86['dSpHD'],this['webSocketUtils']['sendEventToBackend'](this[_0x447e12(0x2a2)],_0x32de90),_0x2ab0fa[_0x447e12(0x130)][_0x447e12(0x144)]=!![];}}if(!_0x5cbd6c){if(_0x105c86[_0x447e12(0x278)](_0x105c86[_0x447e12(0x276)],_0x105c86[_0x447e12(0x276)]))_0x5c18c3[_0x447e12(0x1d8)](_0x75fde2);else{logger[_0x447e12(0x1f2)](_0x105c86['aJKUz']);const _0x1af772={};_0x1af772['type']=WS_EVENTS['RESOURCES'],_0x1af772['message']=_0x105c86['aJKUz'],this[_0x447e12(0x1f9)]['sendEventToBackend'](this[_0x447e12(0x2a2)],_0x1af772);const _0x34c70d={};_0x34c70d[_0x447e12(0x144)]=!![],_0x2ab0fa[_0x447e12(0x10d)]={'workloadIdentity':_0x34c70d,..._0x2ab0fa[_0x447e12(0x10d)]};}}if(!_0x2cb0f3){if(_0x105c86[_0x447e12(0x1eb)](_0x105c86[_0x447e12(0x230)],_0x105c86[_0x447e12(0x109)])){logger[_0x447e12(0x1f2)](_0x105c86[_0x447e12(0x25f)]);const _0x4501d8={};_0x4501d8[_0x447e12(0x24f)]=WS_EVENTS[_0x447e12(0x135)],_0x4501d8[_0x447e12(0x21c)]=_0x105c86[_0x447e12(0x25f)],this[_0x447e12(0x1f9)]['sendEventToBackend'](this[_0x447e12(0x2a2)],_0x4501d8),_0x2ab0fa[_0x447e12(0x28a)]=![];}else return _0x46812e[_0x447e12(0xca)](_0x447e12(0x1ac)+_0xa08dc8+':'+_0x571c14[_0x447e12(0x16c)]),{};}await this[_0x447e12(0x2ae)][_0x447e12(0x14d)]['beginCreateOrUpdateAndWait'](global_registry[_0x447e12(0x24b)],this['clusterName'],_0x2ab0fa),await this[_0x447e12(0x18a)]();}async[a1_0x797b86(0x18d)](){const _0x1cc845=a1_0x797b86,_0x582022={};_0x582022[_0x1cc845(0x242)]=function(_0x51acd8,_0x5e0985){return _0x51acd8===_0x5e0985;},_0x582022[_0x1cc845(0x1fa)]=_0x1cc845(0x27e),_0x582022['uPvlC']='wBngz';const _0x55558e=_0x582022,_0x2a2586=await this[_0x1cc845(0x12b)]['virtualNetworks'][_0x1cc845(0x217)](global_registry[_0x1cc845(0x24b)]),_0x22a189={};_0x22a189[_0x1cc845(0x1c3)]=global_registry['bstackUsername'],_0x22a189[_0x1cc845(0x1c0)]=global_registry[_0x1cc845(0x1a5)],_0x22a189[_0x1cc845(0x258)]=AZURE,_0x22a189[_0x1cc845(0x138)]=[];const _0x431a60=_0x22a189;for await(const _0x2fc3df of _0x2a2586){if(_0x55558e[_0x1cc845(0x242)](_0x55558e[_0x1cc845(0x1fa)],_0x55558e['uPvlC']))return _0x507180['status']['loadBalancer'][_0x1cc845(0x203)][0x0][_0x1cc845(0x1e9)];else _0x431a60[_0x1cc845(0x138)][_0x1cc845(0x1d8)](_0x2fc3df);}const _0x232dc4={};_0x232dc4[_0x1cc845(0x24f)]=WS_EVENTS[_0x1cc845(0x135)],_0x232dc4[_0x1cc845(0x21c)]=_0x431a60,this[_0x1cc845(0x1f9)]['sendEventToBackend'](this[_0x1cc845(0x2a2)],_0x232dc4);}async[a1_0x797b86(0x20d)](_0x762a7a){const _0x343783=a1_0x797b86,_0x2c8c35={'BsJld':'Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','SrqCM':'Enabling\x20Local\x20account\x20for\x20the\x20cluster','GhFch':function(_0x28396c,_0x147000){return _0x28396c===_0x147000;},'aBbqT':_0x343783(0xd9),'CyBXd':function(_0x35c82b,_0x2249af,_0x5078f1){return _0x35c82b(_0x2249af,_0x5078f1);},'dNMIu':function(_0x5953cf,_0x3c9b4a){return _0x5953cf!==_0x3c9b4a;},'yHCeX':'yvxXH','ZZQxY':_0x343783(0x11f),'nkKyv':function(_0x24b8a7,_0x35745d){return _0x24b8a7!==_0x35745d;},'FUDEY':'oZNHX','WYPUS':_0x343783(0x197),'LFRpI':_0x343783(0x180),'jsldq':_0x343783(0x1b7)};try{if(_0x2c8c35[_0x343783(0x133)](_0x2c8c35[_0x343783(0x241)],_0x2c8c35['ZZQxY'])){const _0x5bc5b4=await this['networkClient']['virtualNetworks'][_0x343783(0x217)](global_registry[_0x343783(0x24b)]);for await(const _0x39395c of _0x5bc5b4){if(_0x2c8c35[_0x343783(0x292)](_0x2c8c35['FUDEY'],_0x2c8c35['WYPUS'])){if(_0x2c8c35['GhFch'](_0x39395c[_0x343783(0x19d)],_0x762a7a)){if(_0x2c8c35[_0x343783(0x292)](_0x2c8c35[_0x343783(0x14e)],_0x2c8c35['LFRpI'])){_0x3605e6['info'](_0x2c8c35[_0x343783(0x13d)]);const _0x574a0f={};_0x574a0f[_0x343783(0x24f)]=_0xc4438f[_0x343783(0x135)],_0x574a0f['message']=_0x2c8c35['BsJld'],this['webSocketUtils']['sendEventToBackend'](this[_0x343783(0x2a2)],_0x574a0f);const _0x1b3af4={};_0x1b3af4['enabled']=!![];const _0xb676ee={'workloadIdentity':_0x1b3af4,..._0x359a19['securityProfile']};_0x395830[_0x343783(0x10d)]=_0xb676ee;}else return!![];}}else{_0x63849d[_0x343783(0x1f2)](_0x2c8c35[_0x343783(0x100)]);const _0x28cb18={};_0x28cb18[_0x343783(0x24f)]=_0x7352b8[_0x343783(0x135)],_0x28cb18[_0x343783(0x21c)]=_0x2c8c35[_0x343783(0x100)],this[_0x343783(0x1f9)][_0x343783(0x208)](this[_0x343783(0x2a2)],_0x28cb18),_0x21e6e3['disableLocalAccounts']=![];}}}else _0x17de18+=_0x2c8c35['GhFch'](_0x24b6c1[_0x343783(0x211)],0x0)?_0x2c8c35[_0x343783(0x252)]:'',_0x1e1412['debug'](_0x343783(0x298)+_0x2b5875[_0x343783(0x128)](_0x50ffab));}catch(_0x286fa0){if(_0x2c8c35['GhFch'](_0x2c8c35[_0x343783(0x240)],_0x2c8c35[_0x343783(0x240)]))return logger['error'](_0x343783(0x29c)+_0x762a7a+_0x343783(0x13f)+_0x286fa0),![];else _0x2c8c35[_0x343783(0xd3)](_0x1428a0,()=>_0x2db906(),0x3e8);}return![];}async[a1_0x797b86(0x22f)](_0x612045,_0x12a3c4){const _0xf786dd=a1_0x797b86,_0x346ba9={};_0x346ba9[_0xf786dd(0x1b0)]=function(_0x3949ff,_0x352c71){return _0x3949ff===_0x352c71;},_0x346ba9[_0xf786dd(0x219)]=function(_0x154daa,_0x4f9fe1){return _0x154daa+_0x4f9fe1;},_0x346ba9[_0xf786dd(0x11a)]=_0xf786dd(0xd2),_0x346ba9['ffyhV']=function(_0x47f83d,_0x37badf){return _0x47f83d-_0x37badf;},_0x346ba9[_0xf786dd(0x1c8)]=function(_0x2e76f1,_0x6407d4){return _0x2e76f1===_0x6407d4;},_0x346ba9['HzOvG']=_0xf786dd(0x126),_0x346ba9['hxEFF']=_0xf786dd(0x223),_0x346ba9[_0xf786dd(0xff)]=function(_0x53ef5c,_0x46139f){return _0x53ef5c===_0x46139f;},_0x346ba9[_0xf786dd(0x179)]=function(_0x2e049f,_0xad6acc){return _0x2e049f===_0xad6acc;},_0x346ba9[_0xf786dd(0xcb)]='Nmost';const _0x214df6=_0x346ba9;try{if(_0x214df6['IrpSt'](_0x214df6[_0xf786dd(0x21e)],_0x214df6[_0xf786dd(0x205)]))_0x214df6[_0xf786dd(0x1b0)](_0x188133[_0xf786dd(0x19d)],_0x57181b)&&(_0x15fed7=_0x9a1374['id']);else{const _0x500b26=await this[_0xf786dd(0x12b)][_0xf786dd(0x187)][_0xf786dd(0xfc)](global_registry[_0xf786dd(0x24b)],_0x12a3c4,_0x612045[0x0]);if(_0x214df6['HAcEu'](_0x612045[0x0],_0x500b26['name'])){if(_0x214df6['bhJBF'](_0x214df6[_0xf786dd(0xcb)],_0x214df6[_0xf786dd(0xcb)]))return[!![],_0x612045];else{const _0x202bbd=_0x17656a[_0xf786dd(0x12a)][_0xf786dd(0x15a)]('-'),_0xb751ea=_0x214df6[_0xf786dd(0x219)](_0x214df6['AfSMq'],_0x202bbd[_0x214df6[_0xf786dd(0x29d)](_0x202bbd[_0xf786dd(0x211)],0x1)])['slice'](0x0,0x18);return _0xb751ea[_0xf786dd(0xf9)]();}}}}catch(_0x247bfb){return logger['error'](_0xf786dd(0x11c)+_0x612045+_0xf786dd(0x1cd)+_0x247bfb),[![],[]];}return[![],[]];}async[a1_0x797b86(0x15f)](){const _0x308ffa=a1_0x797b86,_0x126e24={};_0x126e24[_0x308ffa(0x194)]=_0x308ffa(0x1e3);const _0x55a909=_0x126e24,_0x479f3c={};_0x479f3c['status']=!![],_0x479f3c[_0x308ffa(0xca)]=null,_0x479f3c[_0x308ffa(0xcd)]=_0x55a909[_0x308ffa(0x194)];const _0x3eb5a4=_0x479f3c;return _0x3eb5a4;}async[a1_0x797b86(0x23f)](){const _0x1a60ec=a1_0x797b86,_0x203e04={};_0x203e04[_0x1a60ec(0x1c6)]=_0x1a60ec(0xfb),_0x203e04['VPrHb']='GET',_0x203e04['boTwh']=_0x1a60ec(0x166);const _0x4dfc2b=_0x203e04,_0x3f97fa=await this['cred'][_0x1a60ec(0x261)](_0x4dfc2b['CQhja']),_0x100180={};_0x100180[_0x1a60ec(0x183)]=_0x4dfc2b[_0x1a60ec(0x201)],_0x100180[_0x1a60ec(0x189)]={},_0x100180[_0x1a60ec(0x189)]['Authorization']='Bearer\x20'+_0x3f97fa['token'],_0x100180[_0x1a60ec(0x189)][_0x1a60ec(0x1aa)]=_0x4dfc2b[_0x1a60ec(0x20b)];const _0x14240a=_0x100180;return _0x14240a;}async[a1_0x797b86(0x1d2)](_0x2cb8f7){const _0x4239f7=a1_0x797b86,_0x16b023={'CuTtO':function(_0x5f0f7d,_0x2024c2,_0x347287){return _0x5f0f7d(_0x2024c2,_0x347287);},'kJSTk':function(_0x2ffee4,_0xf4339b){return _0x2ffee4===_0xf4339b;},'sZHCs':'No\x20service\x20principal\x20found'},_0x37d0f8={};_0x37d0f8[_0x4239f7(0xd0)]='',_0x37d0f8[_0x4239f7(0xca)]=null;const _0x1ffc7e=_0x37d0f8;try{const _0x46de39=_0x4239f7(0xd7)+_0x2cb8f7+'\x27',_0x38efc5=await this[_0x4239f7(0x23f)](),_0x16a09a=await _0x16b023[_0x4239f7(0x284)](fetch,_0x46de39,_0x38efc5),_0xa67cea=await _0x16a09a[_0x4239f7(0x1cc)]();if(!_0xa67cea['value']||_0x16b023[_0x4239f7(0x29b)](_0xa67cea[_0x4239f7(0xcc)][_0x4239f7(0x211)],0x0))throw new Error(_0x16b023['sZHCs'],_0x4239f7(0x285)+JSON[_0x4239f7(0x128)](_0xa67cea));_0x1ffc7e[_0x4239f7(0xd0)]=_0xa67cea['value'][0x0]['id'];}catch(_0x1b71db){_0x1ffc7e[_0x4239f7(0xca)]=_0x1b71db;}return _0x1ffc7e;}async[a1_0x797b86(0x280)](){const _0x25e84f=a1_0x797b86,_0x51ff5e={};_0x51ff5e[_0x25e84f(0x12d)]=_0x25e84f(0x110),_0x51ff5e['mXQce']=_0x25e84f(0x1a9),_0x51ff5e[_0x25e84f(0x182)]=function(_0x146c74,_0x258694){return _0x146c74!==_0x258694;},_0x51ff5e[_0x25e84f(0x1d5)]=function(_0x1dc9cc,_0x4502d5){return _0x1dc9cc===_0x4502d5;},_0x51ff5e[_0x25e84f(0x26a)]=_0x25e84f(0x1a3),_0x51ff5e[_0x25e84f(0x25b)]='No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles',_0x51ff5e[_0x25e84f(0x28d)]=function(_0x319dcc,_0x3c3005){return _0x319dcc===_0x3c3005;},_0x51ff5e[_0x25e84f(0x174)]=_0x25e84f(0xd9);const _0x11353e=_0x51ff5e,_0x3889b1={};_0x3889b1['status']=![],_0x3889b1[_0x25e84f(0xca)]=null,_0x3889b1[_0x25e84f(0xcd)]='';const _0x5add79=_0x3889b1;try{let _0x31831f='';const _0x286db8=_0x25e84f(0x1f1)+global_registry[_0x25e84f(0x249)]+'/resourceGroups/'+global_registry[_0x25e84f(0x24b)],_0x43c917=await this[_0x25e84f(0x1d2)](global_registry['cloudProviderClientId']);if(_0x11353e[_0x25e84f(0x182)](_0x43c917[_0x25e84f(0xca)],null))return _0x5add79['error']=_0x43c917[_0x25e84f(0xca)],_0x5add79;const _0x3ffc7a='assignedTo(\x27'+_0x43c917['principalId']+'\x27)',_0x22b4b0={};_0x22b4b0['filter']=_0x3ffc7a;const _0xc3be05=await this['authClient'][_0x25e84f(0x22d)][_0x25e84f(0x247)](_0x286db8,_0x22b4b0),_0x33eab9=[];for await(const _0x32f8e1 of _0xc3be05){_0x33eab9[_0x25e84f(0x1d8)](_0x32f8e1);}if(_0x11353e[_0x25e84f(0x1d5)](_0x33eab9[_0x25e84f(0x211)],0x0))return _0x5add79[_0x25e84f(0xcd)]=_0x11353e[_0x25e84f(0x26a)],_0x5add79;const _0x52fcf4=[...new Set(_0x33eab9[_0x25e84f(0x275)](_0x312b69=>_0x312b69[_0x25e84f(0x297)]))];if(_0x11353e['raKfj'](_0x52fcf4[_0x25e84f(0x211)],0x0))return _0x5add79['data']=_0x11353e[_0x25e84f(0x25b)],_0x5add79;const _0x32fbb4=[],_0x3686bd=[];for(const _0x53426c of _0x52fcf4){const _0x1b8a90=await this[_0x25e84f(0x262)][_0x25e84f(0x1bc)][_0x25e84f(0x1fd)](_0x53426c);logger['debug'](_0x25e84f(0xe3)+_0x1b8a90[_0x25e84f(0xd6)]),_0x32fbb4[_0x25e84f(0x1d8)](_0x1b8a90),logger[_0x25e84f(0x105)](_0x25e84f(0xf3)+JSON[_0x25e84f(0x128)](_0x1b8a90[_0x25e84f(0xe4)])),_0x1b8a90['permissions']['forEach'](_0x4161ff=>{const _0x46fbfe=_0x25e84f;_0x3686bd[_0x46fbfe(0x1d8)](..._0x4161ff[_0x46fbfe(0x14b)]);});}logger['debug'](_0x25e84f(0x1fb)+JSON['stringify'](_0x3686bd)),_0x11353e[_0x25e84f(0x28d)](_0x3686bd[_0x25e84f(0x211)],0x0)&&(_0x31831f+=_0x11353e['raKfj'](_0x3686bd['length'],0x0)?_0x11353e[_0x25e84f(0x174)]:'',logger[_0x25e84f(0x105)](_0x25e84f(0x298)+JSON[_0x25e84f(0x128)](_0x32fbb4))),_0x5add79[_0x25e84f(0xf6)]=!![],Object[_0x25e84f(0x13a)](PERMISSIONS['ACTION'])[_0x25e84f(0x134)](([_0x46cc05,_0x17928b])=>{const _0xdfc56=_0x3686bd['includes'](_0x46cc05);_0x31831f+='\x0a\x09'+_0x17928b+':\x20'+(_0xdfc56?_0x11353e['pIrtu']:_0x11353e['mXQce']),!_0xdfc56&&(_0x5add79['status']=![]);}),_0x5add79[_0x25e84f(0xcd)]=_0x31831f;}catch(_0x243e87){_0x5add79[_0x25e84f(0xca)]=_0x243e87;}return _0x5add79;}}const a1_0x5d6f2c={};function a1_0x24ec(){const _0x3d3277=['Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','Found\x20only\x20one\x20resource\x20group:\x20','clientId','setClients','pWxyZ','qPGTg','sIrPr','vdItf','JquGA','uAjCV','KKXyX','rTzko','hCUyR','2263332tUiNUV','gBmKI','SvrVv','roleDefinitions','MiBYn','dSpHD','beginDeleteAndWait','accessKey','./CloudProvider','Isctv','username','McPAU','federatedidentityuploader.json','CQhja','297fUjjue','IrpSt','string','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','EmLab','json','.\x20Error:\x20','QreeJ','qMMTy','121113zkepVN','Created\x20Azure\x20federated\x20identity','getPrincipalIdFromClientId','../config/constants','wRlzY','raKfj','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','iBnqS','push','lfZfF','qrikx','workloadIdentity','SSynu','createCluster','loadBalancer','YJpBq','LyuVH','isStorageAccountPresent','ChtPg','No\x20CLI\x20tool\x20required','RlMHg','@azure/arm-containerservice','PxXvv','cdInU','true','hostname','tzAGn','eIpUm','XgRCV','nIUFU','getKubeConfigData','Lifecycle','rlsTi','subscriptions/','info','cloudProviderClientId','vrsmv','zKNty','cpWwY','MDIhA','EcjEs','webSocketUtils','pxCxG','actionPermission\x20:\x20','MuGch','getById','mznKK','nOzre','init','VPrHb','deleteCluster','ingress','CLpOR','hxEFF','SaXAy','myTVM','sendEventToBackend','CMQet','resources','boTwh','beginCreateOrUpdateAndWait','isVPCPresent','xsgBj','DphOa','false','length','toString','WBRpR','kFMhA','anepL','ZPHUX','listAll','log','DslIt','VfMxH','resourceClient','message','FOMtz','HzOvG','FhiMZ','PtxFq','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','.json','kGKQy','bMlVE','kQVpH','fEZEL','getResourceClientId','avuxg','XoyEB','cred','VZxFV','js-yaml','roleAssignments','prYRJ','isSubnetsValid','pQJyy','tVxmQ','EnECb','zVdJn','createOtherResources','ztToA','resourceGroup','DprzQ','DXtrR','ZvUmE','storageaccount.json','NCOoD','nVzeq','LoPJm','XFyVN','getHeader','jsldq','yHCeX','UDqPm','Deleted\x20the\x20cluster\x20successfully','ZxXJy','delete','Blob\x20delete\x20lifecycle','listForScope','RqLGN','cloudProviderSubscriptionId','parse','cloudProviderResourceGroup','uvqce','pIVrQ','vnwTB','type','PsEYO','QqTcG','aBbqT','PiAQm','getGridHostname','SlpGR','xxXbO','@azure/arm-storage','cloudProvider','XrWRG','20zabvgT','cLJjI','djFsv','vbWlz','nBQhZ','JUlFH','AYlgF','getToken','authClient','tNbqT','emLXk','BvUfp','gdeBb','gbACE','HfxPw','eaKmb','jJovg','definition','storageClient','ZMJhq','IYcdD','CFgQv','instanceType','LRiEt','eSFxH','isBrowserstackCluster','DJuIK','map','QbQlL','525220DDfiJg','zkeHt','zOLmP','qJshl','XJgAD','subscriptionId','cVhvZ','wHizD','QPbdH','checkAccess','RsMRe','YKjaF','oFqwr','CuTtO','Received\x20response\x20-\x20','variables','toUpperCase','filters','exports','disableLocalAccounts','ckXnn','description','LaGxJ','No\x20service\x20principal\x20found','YPKEN','path','JSXMz','nkKyv','faDFE','jztBn','setCachedCredsInRegistry','ryVta','roleDefinitionId','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','YWlBy','includes','kJSTk','Cannot\x20find\x20VPC\x20','ffyhV','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','oHgNC','rules','listByResourceGroup','rws','XheAq','50877kopdeB','OVWLC','nIFkk','issuerURL','WWNsw','tags','turboscale-cluster-deployment','GFsgZ','IvmAh','udWQd','containerClient','RYfOU','omPfd','Creating\x20Azure\x20managed\x20identity','JbQrL','upHoa','UjFwJ','../permissions/AZURE.json','@azure/arm-resources','getUserInput','mWNqi','Managed\x20identity\x20already\x20exists,\x20skipping','ASvPq','clusterName','clusterInfo','error','BTucm','value','data','xKcSM','nibmz','principalId','bHJao','turboscale','CyBXd','whmtH','DQMUl','roleName','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','cqyNz','Action\x20permission\x20list\x20is\x20empty\x0a','LnHiQ','list','vFnWL','NJCWV','DFqeD','jCYKb','slaIJ','iGXLi','setupNewCluster','role\x20name\x20attached\x20-\x20','permissions','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','fNGwy','LbLQN','lNvwb','XObVU','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','jBpOZ','wFpZB','lwEsm','properties','clientSecret','XCCoZ','fvaPH','574CDAiqY','Attached\x20permissions\x20:\x20','ljTLV','getStorageAccountName','status','Chbzm','EQnLc','toLowerCase','lmsRo','https://graph.microsoft.com/.default','get','blobTypes','hXcuP','HAcEu','SrqCM','ulNBM','LBJCy','join','tenantId','debug','agentPoolProfiles','yNjOS','cloudProviderName','ebWnF','eMZaS','policy','WBhgU','securityProfile','mjnmN','oZPBo','allowed','LQEYy','isManagedIdentityPresent','userMaxNodes','iWjQA','node','FUTQK','lqVfl','TfZqG','DVXnu','AfSMq','cloudProviderTenantId','Cannot\x20find\x20subnets\x20','\x20CLIENT\x20SECRET:\x20','DhVbu','GvuAT','2023-01-31','metadata','zfBUw','WbVds','hQhXk','venAE','cRtmS','createManagedIdentity','stringify','0|3|6|2|5|7|4|1','s3Bucket','networkClient','sWzMZ','pIrtu','tjPoL','storageAccountName','oidcIssuerProfile','\x20CLIENT\x20ID:\x20','gridName','dNMIu','forEach','RESOURCES','LPJUU','2852945oVEfvW','vpcInfo','parameters','entries','exit','clusterAutoUpgrade','BsJld','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','Incremental','oAXHj','ktslp','jtffy','enabled','HeUeN','ROYWm','listClusterAdminCredentials','@azure/arm-authorization','federatedidentity','Fceyr','actions','wPGIa','managedClusters','LFRpI','XlWpq','prHfd','bgxUn','XuaEE','subnetName','aJKUz','akscluster.json','wxxVK','createStorageAccount','getResourceGroups','vnetSubnetID','split','azureresources','Deleting\x20the\x20cluster\x20','CuZsA','28736umtecT','isCliToolInstalled','WwAsU','mxxxR','readFileAsync','LOG','htPZP','mUBIf','application/json','wgGst','jqlpT','../utils/utilityMethods','OVnQV','WqONy','stack','managedidentity.json','\x20SUBSCRIPTION\x20ID:\x20','Enabling\x20Local\x20account\x20for\x20the\x20cluster','NebuD','hGhlj','templates','iSsZN','jvLqL','hub','aPHDW','ISUqS','DbTiR','bhJBF','browserstack:managedBy','qjttu','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','vQkPb','Creating\x20Azure\x20federated\x20identity','djKBI','rcsyg','XWhAB','jAejX','method','BrowserStack','userInstanceType','IRcOY','subnets','VUZMu','headers','getClusterInfo','FehJJ','zbXka','sendAzureInfoToHST','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','vpcName','resourceGroups','cloudProviderClientSecret','5|0|3|4|1|2','turboscale-federated-deployment','WEYmu','utf-8','5|3|0|1|2|4','KBbZF','location','createFederatedAccountForHubHA','\x20RESOURCE\x20GROUP:\x20','6263100YOWFyu','blockBlob','name','maxNodes','2cvSmIU','kubeconfigs','deployments','slice','No\x20attached\x20role\x20for\x20the\x20client\x20key','xzyBp','bstackAccesskey','createFederatedAccount','JoBCL','updateClusterAlreadyPresent','denied','Content-Type'];a1_0x24ec=function(){return _0x3d3277;};return a1_0x24ec();}a1_0x5d6f2c['AzureCloudProvider']=AzureCloudProvider,module[a1_0x797b86(0x289)]=a1_0x5d6f2c;