const a1_0x55b408=a1_0x4d89;function a1_0x4d89(_0x1dddbb,_0x19ea92){const _0x34760c=a1_0x3476();return a1_0x4d89=function(_0x4d899d,_0x15c05e){_0x4d899d=_0x4d899d-0x101;let _0x2588d2=_0x34760c[_0x4d899d];return _0x2588d2;},a1_0x4d89(_0x1dddbb,_0x19ea92);}(function(_0x77e3f8,_0x1674ab){const _0x2192d8=a1_0x4d89,_0x14d8e0=_0x77e3f8();while(!![]){try{const _0x5a13c0=parseInt(_0x2192d8(0x1be))/0x1*(-parseInt(_0x2192d8(0x180))/0x2)+-parseInt(_0x2192d8(0x27e))/0x3+parseInt(_0x2192d8(0x26f))/0x4*(parseInt(_0x2192d8(0x269))/0x5)+parseInt(_0x2192d8(0x125))/0x6*(-parseInt(_0x2192d8(0x1f5))/0x7)+-parseInt(_0x2192d8(0x158))/0x8+-parseInt(_0x2192d8(0x1c6))/0x9*(-parseInt(_0x2192d8(0x21b))/0xa)+parseInt(_0x2192d8(0x288))/0xb;if(_0x5a13c0===_0x1674ab)break;else _0x14d8e0['push'](_0x14d8e0['shift']());}catch(_0x11da6f){_0x14d8e0['push'](_0x14d8e0['shift']());}}}(a1_0x3476,0xeb677));function a1_0x3476(){const _0x482df0=['location','managementPolicies','getKubeConfigData','createStorageAccount','managedClusters','lErEd','70TCuXpM','createOrUpdate','beginCreateOrUpdateAndWait','subnets','azikP','resourceClient','JwNgb','yrbkc','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','pQiKA','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','Deleted\x20the\x20cluster\x20successfully','nOahj','error','vCbPq','AJxsb','vnetSubnetID','permissions','clusterName','Received\x20response\x20-\x20','includes','UzWho','isStorageAccountPresent','btMyS','jpPLK','FNJub','zjCGc','getResourceGroups','vbZna','FIQXt','name','ACTION','Storage\x20account\x20already\x20exists,\x20skipping','YnPXG','eQVyf','@azure/identity','bGmfJ','BOzPn','roleDefinitions','sendEventToBackend','getHeader','Attached\x20permissions\x20:\x20','OgArA','QeYLX','daysAfterCreationGreaterThan','osTLT','parameters','bstackUsername','metadata','ESOww','uaLtA','map','Wfvkf','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','XsUdX','toLowerCase','WRHvZ','vcxvU','turboscale-managed-identity-','czFBd','MFrlP','AzureCloudProvider','rws','SVKkb','PzJLX','kjPoJ','MuQUb','disableLocalAccounts','loadBalancer','lKAFd','managedidentity.json','wJMkP','wKtPx','tOVFh','OjVMw','JkQwi','kubeconfigs','gridName','8342545acXVIE','WAPOO','getGridHostname','agentPoolProfiles','securityProfile','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','4GrDgBl','WchGn','deleteCluster','OjQKN','federatedidentity','denied','hostname','VGkcO','info','fLgHG','isClusterPresent','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','DENhq','UhrKG','getClusterInfo','5176740IPaWmR','GXAjr','@azure/arm-network','properties','VBqgE','6|7|4|5|0|1|2|3','GpGRc','ObGao','HaLma','hubharesources','42874150YAcQTM','isManagedIdentityPresent','YToKz','virtualNetworks','turboscale-federated-deployment','NDaAP','subscriptionId','ghXDR','listClusterAdminCredentials','UVGEg','xlGUJ','gXKpQ','iPaqp','Quuzw','uhOUb','lULws','pvEzR','yQwJo','bZPpz','FeFvj','jfiwj','lYMqh','PmsdX','DIAdo','listForScope','cLiBJ','vfnww','storageAccounts','IlCNX','LrUvG','UaJwS','rDaAJ','accessKey','STugh','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','qjfrT','RpffQ','PHXwq','resourceGroups','BrxMo','vYepG','entries','smRsz','PLkKq','VNGpj','akscluster.json','cloudProvider','kQLMG','getUserInput','fCHgq','HlTYF','getToken','EBYtY','principalId','iHIuq','../permissions/AZURE.json','message','shExi','vlUYd','clusterInfo','description','listAll','azureresources','vRRvN','checkAccess','RpoIj','ixDCP','TnfiG','readFileAsync','QnRGy','Incremental','json','iPyfU','oidcIssuerProfile','setCachedCredsInRegistry','storageaccount.json','vpcName','blockBlob','filter','sNXUK','uroTR','JmmDI','length','kdbjy','BkkFs','role\x20name\x20attached\x20-\x20','iUmHf','turboscale','VGRIW','s3Bucket','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','GdIwQ','RFhif','SMhfZ','kRoYJ','allowed','bEeSZ','geQnP','irsEc','Creating\x20Azure\x20managed\x20identity','mZXXt','setupHubHa','rmKTE','NywhB','MDIpQ','Xpdti','dzLRI','No\x20service\x20principal\x20found','setClients','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','Cannot\x20find\x20VPC\x20','\x20TENANT\x20ID:\x20','IdQVY','mKCPm','https://graph.microsoft.com/.default','pvGfk','XXymW','RPolq','RMpLr','LOG','xYbnI','VRXHh','xffSy','XZifZ','BCEww','RESOURCES','auwWl','AqKQw','tenantId','sJJdQ','authClient','KBJTJ','BrowserStack','SemrD','mCmPh','VkdjF','\x20CLIENT\x20SECRET:\x20','JIHid','Managed\x20identity\x20already\x20exists,\x20skipping','bstackAccesskey','deployments','HPepi','createFederatedAccountForHubHA','HkdEC','ingress','gVhHz','TRgTP','containerClient','getPrincipalIdFromClientId','createCluster','FAStC','xKPGS','storageClient','GzsPE','nxDOy','gNDNh','6nfZoeC','slice','Authorization','wfCPA','cred','value','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','iaGet','SjbHR','gxSmD','oqTsZ','No\x20attached\x20role\x20for\x20the\x20client\x20key','mkZUM','headers','data','.\x20Error:\x20','SKBPC','3|1|0|5|4|2','aRfqq','BquSH','NyvjR','MLedd','join','cIYOy','OAaoe','dBJZy','roleDefinitionId','createFederatedAccount','/resourceGroups/','oHEiT','VPOnG','clientId','init','qcWzB','\x20SUBSCRIPTION\x20ID:\x20','ZvRIU','toUpperCase','qwKds','mpgNj','vSbjZ','Bearer\x20','uiQYT','bSSwo','subscriptions/','FOMMQ','jJasj','nYPPS','forEach','\x20CLIENT\x20ID:\x20','yCzyo','actionPermission\x20:\x20','10477520KeLYey','ZOdqv','xRvsj','path','RkkdW','Cannot\x20find\x20subnets\x20','../config/constants','CCzyY','vpcInfo','Created\x20Azure\x20federated\x20identity','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','WCMJM','true','gGfSE','GDMRz','bdWDK','zofjk','uKxXg','push','mUUTq','oEXQo','getResourceClientId','setupNewCluster','HBwLM','sJZRN','zHlFr','workloadIdentity','fVINR','subnetName','roleAssignments','fHxuP','utf-8','bPXSP','IgBuG','XXylx','hoYvO','variables','qKQfK','stringify','eFBwE','24994srepxZ','\x20RESOURCE\x20GROUP:\x20','RlJzx','elxpw','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','instanceType','cloudProviderSubscriptionId','hub','getById','EvFAX','bDQoF','UZCZl','parse','qgrHh','stack','SZJPT','FVlnR','tags','2|5|1|4|3|0','roowZ','FihGJ','resources','.json','NRGxl','oiiOK','Found\x20only\x20one\x20resource\x20group:\x20','aBBhi','PqKsk','Lifecycle','SfuUW','bsfGT','fhxQl','EFmPy','uBvch','cloudProviderClientSecret','SwYjC','isBrowserstackCluster','BLExe','GVIwg','rules','XLBNW','qlauj','Usqxw','HrHwF','string','exit','Deleting\x20the\x20cluster\x20','REfpU','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','iTfgy','issuerURL','storageAccountName','nLsRE','YgpSy','browserstack:managedBy','../config/logger','resourceGroup','log','bHAfw','nFfJG','zIWML','xZKyJ','134IsKnZI','baseBlob','debug','webSocketUtils','filters','userInstanceType','MTmtg','ZLRZr','318213Ywumeg','cloudProviderClientId','GIzhc','EYZaU','JPfof','ZAUPV','clientSecret','split','QMIfo','JpYPa','getStorageAccountName','listByResourceGroup','MbDMn','WLkJM','LtFDD','enabled','MQcNI','actions','gNvOM','definition','status','LqWxt','list','emtUU','assignedTo(\x27','../utils/gridComponents','turboscale-cluster-deployment','YzsuY','[variables(\x27vnetSubnetID\x27)]','wPdtl','cloudProviderResourceGroup','xvCTr','@azure/arm-resources','lheWv','xTJBm','QLclm','htBQe','roleName','templates','FwOyn','No\x20CLI\x20tool\x20required','Action\x20permission\x20list\x20is\x20empty\x0a','HKEGP','isVPCPresent','PAPOt','yFZbJ','type','977025xIMUWe','createManagedIdentity','SAwbP','cloudProviderName','get','TvRvc','XJiZh','cloudProviderTenantId','XzILq','delete','qaHOi','kAksJ','JQgmU','Vtsjp','uFJos','federatedidentityuploader.json','sendAzureInfoToHST','ymWNq','bvXdt','DfVmH','networkClient','JOVaL','bGqvw','default','qkvvu','kREzC','clusterAutoUpgrade','Opile','CZyLz','application/json','qWkok','tyjan'];a1_0x3476=function(){return _0x482df0;};return a1_0x3476();}const fs=require('fs'),path=require(a1_0x55b408(0x15b)),yaml=require('js-yaml'),{logger}=require(a1_0x55b408(0x1b7)),{CloudProvider}=require('./CloudProvider'),{deleteRoutingDeps,deleteAgent}=require(a1_0x55b408(0x1df)),{AZURE,WS_EVENTS,global_registry}=require(a1_0x55b408(0x15e)),PERMISSIONS=require(a1_0x55b408(0x2bf)),{ClientSecretCredential}=require(a1_0x55b408(0x23e)),{NetworkManagementClient}=require(a1_0x55b408(0x280)),{StorageManagementClient}=require('@azure/arm-storage'),{AuthorizationManagementClient}=require('@azure/arm-authorization'),{ResourceManagementClient}=require(a1_0x55b408(0x1e6)),{ContainerServiceClient}=require('@azure/arm-containerservice'),{runCommand}=require('../utils/utilityMethods');class AzureCloudProvider extends CloudProvider{constructor(_0x386c28,_0x393b70,_0x13e17b,_0x2a2e25){const _0x34788e=a1_0x55b408,_0x134658={};_0x134658[_0x34788e(0x2a9)]=_0x34788e(0x283);const _0x2a4487=_0x134658,_0x7adb5e=_0x2a4487['STugh'][_0x34788e(0x1cd)]('|');let _0x5df4ed=0x0;while(!![]){switch(_0x7adb5e[_0x5df4ed++]){case'0':this[_0x34788e(0x121)]=null;continue;case'1':this['resourceClient']=null;continue;case'2':this[_0x34788e(0x209)]=null;continue;case'3':this[_0x34788e(0x10b)]=null;continue;case'4':this[_0x34788e(0x2c3)]=null;continue;case'5':this['containerClient']=null;continue;case'6':super(AZURE,_0x386c28,_0x393b70,_0x13e17b,_0x2a2e25);continue;case'7':this[_0x34788e(0x129)]=null;continue;}break;}}async[a1_0x55b408(0x145)](){const _0x21b079=a1_0x55b408;return await super[_0x21b079(0x145)](),this;}[a1_0x55b408(0x2f4)](){const _0xa363d7=a1_0x55b408,_0x1c66cb=new ClientSecretCredential(global_registry['cloudProviderTenantId'],global_registry[_0xa363d7(0x1c7)],global_registry[_0xa363d7(0x1a2)]);this[_0xa363d7(0x11c)]=new ContainerServiceClient(_0x1c66cb,global_registry[_0xa363d7(0x186)]),this[_0xa363d7(0x121)]=new StorageManagementClient(_0x1c66cb,global_registry[_0xa363d7(0x186)]),this[_0xa363d7(0x220)]=new ResourceManagementClient(_0x1c66cb,global_registry['cloudProviderSubscriptionId']),this['networkClient']=new NetworkManagementClient(_0x1c66cb,global_registry[_0xa363d7(0x186)]),this['authClient']=new AuthorizationManagementClient(_0x1c66cb,global_registry[_0xa363d7(0x186)]),this['cred']=_0x1c66cb;}[a1_0x55b408(0x1d0)](){const _0x1fa2da=a1_0x55b408,_0xfec1af={};_0xfec1af[_0x1fa2da(0x165)]=function(_0x290760,_0xd2807e){return _0x290760+_0xd2807e;},_0xfec1af[_0x1fa2da(0x2b9)]=_0x1fa2da(0x2df),_0xfec1af['WCMJM']=function(_0x5221aa,_0x3237cc){return _0x5221aa-_0x3237cc;};const _0x438161=_0xfec1af,_0xff8926=global_registry[_0x1fa2da(0x2e1)]['split']('-'),_0x37c461=_0x438161[_0x1fa2da(0x165)](_0x438161['fCHgq'],_0xff8926[_0x438161[_0x1fa2da(0x163)](_0xff8926['length'],0x1)])[_0x1fa2da(0x126)](0x0,0x18);return _0x37c461[_0x1fa2da(0x252)]();}[a1_0x55b408(0x2d2)](_0x18ab4d){const _0x21d392=a1_0x55b408,_0xabf18a={};_0xabf18a[_0x21d392(0x2a4)]=_0x21d392(0x192);const _0x2fa3c0=_0xabf18a,_0x3acc30=_0x2fa3c0[_0x21d392(0x2a4)][_0x21d392(0x1cd)]('|');let _0x46608b=0x0;while(!![]){switch(_0x3acc30[_0x46608b++]){case'0':this['setClients']();continue;case'1':global_registry[_0x21d392(0x1fc)]=_0x18ab4d[this[_0x21d392(0x1f8)]]['tenantId'];continue;case'2':global_registry[_0x21d392(0x1c7)]=_0x18ab4d[this['cloudProviderName']]['clientId'];continue;case'3':global_registry[_0x21d392(0x1e4)]=_0x18ab4d[this[_0x21d392(0x1f8)]][_0x21d392(0x1b8)];continue;case'4':global_registry[_0x21d392(0x186)]=_0x18ab4d[this['cloudProviderName']][_0x21d392(0x28e)];continue;case'5':global_registry[_0x21d392(0x1a2)]=_0x18ab4d[this['cloudProviderName']][_0x21d392(0x1cc)];continue;}break;}}async[a1_0x55b408(0x2b8)](_0x1dfe1e,_0x37ba7e){const _0x682444=a1_0x55b408,_0x380ea0={'RPolq':_0x682444(0x1b0),'OjQKN':_0x682444(0x225),'sJZRN':function(_0x485084,_0x449fb1){return _0x485084(_0x449fb1);},'FeFvj':function(_0x295eec,_0x4cf6e4){return _0x295eec===_0x4cf6e4;},'HpGWR':_0x682444(0x285),'auwWl':'UxxJO','iHIuq':function(_0xad8af5,_0x2d049d){return _0xad8af5===_0x2d049d;},'wKtPx':function(_0xd398ee,_0x39c322){return _0xd398ee!==_0x39c322;},'XzILq':_0x682444(0x16b),'xRvsj':function(_0x18cb4d,_0x1b5b15){return _0x18cb4d===_0x1b5b15;},'eYdho':function(_0x39d13c,_0x1d3321){return _0x39d13c===_0x1d3321;},'TnfiG':function(_0x3a8298,_0x3fd9a4){return _0x3a8298===_0x3fd9a4;},'SjbHR':_0x682444(0x28a),'SAwbP':_0x682444(0x1c4),'ESOww':function(_0x9c5ed8,_0x1822f4){return _0x9c5ed8===_0x1822f4;},'xffSy':'MgKTM','FOMMQ':_0x682444(0x22a),'RkkdW':_0x682444(0x297),'cdSds':function(_0x14956f,_0x2d0d13){return _0x14956f<_0x2d0d13;},'gXKpQ':function(_0x23a53c,_0x20c87d){return _0x23a53c===_0x20c87d;},'nFfJG':_0x682444(0x2ec),'Usqxw':function(_0x894cdf,_0x169081){return _0x894cdf+_0x169081;},'YZbwC':function(_0x278126,_0x121d19){return _0x278126(_0x121d19);},'QnRGy':_0x682444(0x12b),'YjKTI':function(_0x595758,_0x29534f){return _0x595758(_0x29534f);},'RFhif':function(_0x4a89ae,_0x374fa4){return _0x4a89ae<=_0x374fa4;},'hFqQV':function(_0x1746f4,_0x495b8b){return _0x1746f4>_0x495b8b;},'qjfrT':_0x682444(0x11a),'bSSwo':function(_0x394989,_0x11c556){return _0x394989-_0x11c556;}},_0x49ae6f=this[_0x682444(0x1f8)][_0x682444(0x149)](),_0x51b48b=await _0x380ea0[_0x682444(0x170)](_0x1dfe1e,_0x49ae6f+_0x682444(0x155)),_0x9999cd=await _0x380ea0['sJZRN'](_0x1dfe1e,_0x49ae6f+_0x682444(0x111)),_0x40acbc=await _0x380ea0[_0x682444(0x170)](_0x1dfe1e,_0x49ae6f+_0x682444(0x2f7)),_0x1c990c=await _0x380ea0['sJZRN'](_0x1dfe1e,_0x49ae6f+_0x682444(0x147));global_registry[_0x682444(0x1c7)]=_0x51b48b,global_registry[_0x682444(0x1a2)]=_0x9999cd,global_registry[_0x682444(0x1fc)]=_0x40acbc,global_registry[_0x682444(0x186)]=_0x1c990c,this[_0x682444(0x2f4)]();const _0x1faf15=await this[_0x682444(0x236)](),_0x1a0d81=_0x1faf15[_0x682444(0x2da)];let _0x5c480a;if(_0x380ea0[_0x682444(0x29b)](_0x1a0d81,0x0))_0x380ea0[_0x682444(0x29b)](_0x380ea0['HpGWR'],_0x380ea0[_0x682444(0x107)])?_0x2f4c9b[_0x682444(0x16a)](..._0x4263e0[_0x682444(0x1d7)]):_0x5c480a=await _0x380ea0[_0x682444(0x170)](_0x1dfe1e,_0x49ae6f+_0x682444(0x181));else{if(_0x380ea0['iHIuq'](_0x1a0d81,0x1)){if(_0x380ea0['wKtPx'](_0x380ea0[_0x682444(0x1fd)],_0x380ea0[_0x682444(0x1fd)]))_0x20507b[_0x682444(0x16a)](_0x394b70);else{const _0x4758e8=await _0x380ea0[_0x682444(0x170)](_0x1dfe1e,_0x682444(0x199)+_0x1faf15[0x0]+'\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20');(_0x380ea0[_0x682444(0x29b)](_0x4758e8,undefined)||_0x380ea0[_0x682444(0x15a)](_0x4758e8,null)||!(_0x380ea0['eYdho'](_0x4758e8[_0x682444(0x252)](),'y')||_0x380ea0[_0x682444(0x2cb)](_0x4758e8[_0x682444(0x252)](),'n')))&&(_0x380ea0[_0x682444(0x2be)](_0x380ea0[_0x682444(0x12d)],_0x380ea0[_0x682444(0x1f7)])?(_0x45a6b1[_0x682444(0x228)](_0x380ea0[_0x682444(0x2fd)]),_0x25b1c1[_0x682444(0x1ad)](0x1)):(console[_0x682444(0x228)](_0x380ea0['RPolq']),process[_0x682444(0x1ad)](0x1)));if(_0x380ea0[_0x682444(0x24c)](_0x4758e8['toLowerCase'](),'n')){if(_0x380ea0[_0x682444(0x2cb)](_0x380ea0[_0x682444(0x103)],_0x380ea0['xffSy']))process[_0x682444(0x1ad)](0x0);else return _0x5466f5[_0x682444(0x228)](_0x682444(0x15d)+_0x162208+_0x682444(0x134)+_0x45f865),[![],[]];}_0x5c480a=_0x1faf15[0x0];}}else{if(_0x380ea0[_0x682444(0x263)](_0x380ea0[_0x682444(0x151)],_0x380ea0[_0x682444(0x15c)])){for(let _0x5eacc2=0x0;_0x380ea0['cdSds'](_0x5eacc2,_0x1faf15[_0x682444(0x2da)]);_0x5eacc2+=0x1){if(_0x380ea0[_0x682444(0x293)](_0x380ea0['nFfJG'],_0x380ea0[_0x682444(0x1bb)]))console[_0x682444(0x1b9)]('['+_0x380ea0[_0x682444(0x1aa)](_0x5eacc2,0x1)+']\x20'+_0x1faf15[_0x5eacc2]);else return _0x3955ee[_0x682444(0x228)](_0x682444(0x250)+_0x22f08a+':'+_0x557a4a[_0x682444(0x18e)]),{};}const _0x1362e8=await _0x380ea0['YZbwC'](_0x1dfe1e,_0x380ea0[_0x682444(0x2cd)]),_0x2f9356=_0x380ea0[_0x682444(0x170)](Number,_0x1362e8);if(_0x380ea0['YjKTI'](isNaN,_0x2f9356)||_0x380ea0[_0x682444(0x2e4)](_0x2f9356,0x0)||_0x380ea0['hFqQV'](_0x2f9356,_0x1a0d81)){if(_0x380ea0[_0x682444(0x293)](_0x380ea0[_0x682444(0x2ab)],_0x380ea0[_0x682444(0x2ab)]))console[_0x682444(0x228)](_0x380ea0[_0x682444(0x2fd)]),process[_0x682444(0x1ad)](0x1);else{_0x10bede[_0x682444(0x277)](_0x380ea0['OjQKN']);const _0x3644cb={};_0x3644cb[_0x682444(0x1f4)]=_0x5d7803[_0x682444(0x106)],_0x3644cb[_0x682444(0x2c0)]=_0x380ea0[_0x682444(0x272)],this[_0x682444(0x1c1)][_0x682444(0x242)](this[_0x682444(0x259)],_0x3644cb),_0x2e5526['oidcIssuerProfile'][_0x682444(0x1d5)]=!![];}}_0x5c480a=_0x1faf15[_0x380ea0[_0x682444(0x14f)](_0x2f9356,0x1)];}else return _0x4dca69[_0x682444(0x228)]=_0x24f616['error'],_0x280b7d;}}global_registry['cloudProviderResourceGroup']=_0x5c480a;const _0x3d238c={};return _0x3d238c['clientId']=_0x51b48b,_0x3d238c['clientSecret']=_0x9999cd,_0x3d238c[_0x682444(0x109)]=_0x40acbc,_0x3d238c[_0x682444(0x28e)]=_0x1c990c,_0x3d238c[_0x682444(0x1b8)]=_0x5c480a,_0x37ba7e[_0x682444(0x2b6)][AZURE]=_0x3d238c,_0x37ba7e;}async[a1_0x55b408(0x236)](){const _0x399805=a1_0x55b408,_0x51b9d3={};_0x51b9d3[_0x399805(0x12e)]=function(_0x3f26e4,_0x399d94){return _0x3f26e4!==_0x399d94;},_0x51b9d3['Vyiwd']=_0x399805(0x108),_0x51b9d3['zXHWY']=_0x399805(0x20e),_0x51b9d3['qKQfK']=_0x399805(0x251);const _0xc9fb33=_0x51b9d3,_0x590a6e=[];try{if(_0xc9fb33[_0x399805(0x12e)](_0xc9fb33['Vyiwd'],_0xc9fb33['zXHWY'])){const _0x62078a=await this['resourceClient'][_0x399805(0x2ae)][_0x399805(0x1dc)]();for await(const _0x4e94c0 of _0x62078a){_0xc9fb33[_0x399805(0x12e)](_0xc9fb33[_0x399805(0x17d)],_0xc9fb33[_0x399805(0x17d)])?_0x4bb33d[_0x399805(0x1ad)](0x0):_0x590a6e[_0x399805(0x16a)](_0x4e94c0[_0x399805(0x239)]);}}else return!![];}catch(_0x172ab5){}return _0x590a6e;}async[a1_0x55b408(0x27d)](){const _0x1be4c9=a1_0x55b408;return this[_0x1be4c9(0x2c3)]=await this[_0x1be4c9(0x11c)][_0x1be4c9(0x219)][_0x1be4c9(0x1f9)](global_registry['cloudProviderResourceGroup'],this[_0x1be4c9(0x22d)]),this[_0x1be4c9(0x2c3)];}async[a1_0x55b408(0x217)](){const _0x1761e9=a1_0x55b408,_0x37ced9=await this[_0x1761e9(0x11c)][_0x1761e9(0x219)][_0x1761e9(0x290)](global_registry['cloudProviderResourceGroup'],this[_0x1761e9(0x22d)]),_0x4f7eb4=_0x37ced9[_0x1761e9(0x267)][0x0]['value']['toString']();return _0x4f7eb4;}[a1_0x55b408(0x26b)](_0x83a811){const _0x47e409=a1_0x55b408;return _0x83a811[_0x47e409(0x1da)][_0x47e409(0x25f)][_0x47e409(0x119)][0x0][_0x47e409(0x275)];}async[a1_0x55b408(0x279)](){const _0x36ef17=a1_0x55b408,_0x2cacdb={};_0x2cacdb[_0x36ef17(0x29a)]=_0x36ef17(0x2e7),_0x2cacdb['KhWaX']=_0x36ef17(0x274),_0x2cacdb[_0x36ef17(0x1b4)]=_0x36ef17(0x223),_0x2cacdb[_0x36ef17(0x1e1)]=function(_0x474728,_0x3f0342){return _0x474728===_0x3f0342;},_0x2cacdb['VRXHh']=_0x36ef17(0x25a),_0x2cacdb[_0x36ef17(0x1ca)]=function(_0x3c4c77,_0x30a1ef){return _0x3c4c77===_0x30a1ef;},_0x2cacdb[_0x36ef17(0x2fb)]=_0x36ef17(0x110),_0x2cacdb[_0x36ef17(0x13e)]=_0x36ef17(0x294),_0x2cacdb[_0x36ef17(0x1d6)]=function(_0x9a8775,_0xd615bc){return _0x9a8775!==_0xd615bc;},_0x2cacdb[_0x36ef17(0x1fb)]='SKOzn';const _0x10a67f=_0x2cacdb,_0x2429c6=new Array();for await(const _0x48c03b of this[_0x36ef17(0x11c)][_0x36ef17(0x219)]['listByResourceGroup'](global_registry[_0x36ef17(0x1e4)])){if(_0x10a67f['YzsuY'](_0x10a67f[_0x36ef17(0x102)],_0x10a67f[_0x36ef17(0x102)]))_0x2429c6['push'](_0x48c03b);else return;}for await(const _0x11fdad of _0x2429c6){if(_0x10a67f[_0x36ef17(0x1ca)](_0x10a67f[_0x36ef17(0x2fb)],_0x10a67f[_0x36ef17(0x13e)])){const _0x2568e4=_0x1b342c[_0x36ef17(0x22f)](_0x1b6ece);_0x3672d8+='\x0a\x09'+_0x38044e+':\x20'+(_0x2568e4?_0x10a67f[_0x36ef17(0x29a)]:_0x10a67f['KhWaX']),!_0x2568e4&&(_0x3b5349[_0x36ef17(0x1da)]=![]);}else{if(_0x10a67f[_0x36ef17(0x1ca)](_0x11fdad[_0x36ef17(0x239)],this[_0x36ef17(0x22d)])){if(_0x10a67f[_0x36ef17(0x1d6)](_0x10a67f['XJiZh'],_0x10a67f[_0x36ef17(0x1fb)])){_0xaaa7ce['info'](_0x10a67f[_0x36ef17(0x1b4)]);const _0x154789={};_0x154789[_0x36ef17(0x1f4)]=_0x2ffc3b[_0x36ef17(0x106)],_0x154789[_0x36ef17(0x2c0)]=_0x10a67f['nLsRE'],this['webSocketUtils'][_0x36ef17(0x242)](this[_0x36ef17(0x259)],_0x154789);const _0x2ec3b5={};_0x2ec3b5['enabled']=!![];const _0x38106a={'workloadIdentity':_0x2ec3b5,..._0x5ebe08['securityProfile']};_0x223c9a[_0x36ef17(0x26d)]=_0x38106a;}else return await this[_0x36ef17(0x27d)](),!![];}}}return![];}async[a1_0x55b408(0x16e)](_0x45d8bb=null,_0x535a3c=null){const _0x2ed438=a1_0x55b408,_0x58527a={};_0x58527a[_0x2ed438(0x23c)]='2|5|1|4|0|3',_0x58527a[_0x2ed438(0x20d)]='Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity';const _0x446225=_0x58527a,_0x3a5592=_0x446225['YnPXG']['split']('|');let _0xde2efd=0x0;while(!![]){switch(_0x3a5592[_0xde2efd++]){case'0':await this['createOtherResources']();continue;case'1':logger[_0x2ed438(0x277)](_0x446225[_0x2ed438(0x20d)]);continue;case'2':this[_0x2ed438(0x205)]();continue;case'3':return[_0x45d8bb,_0x535a3c];case'4':await this[_0x2ed438(0x11e)](_0x45d8bb,_0x535a3c);continue;case'5':const _0x35a579={};_0x35a579[_0x2ed438(0x1f4)]=WS_EVENTS[_0x2ed438(0x2ff)],_0x35a579[_0x2ed438(0x2c0)]=_0x446225['qkvvu'],this['webSocketUtils'][_0x2ed438(0x242)](this[_0x2ed438(0x259)],_0x35a579);continue;}break;}}async[a1_0x55b408(0x11e)](_0x30fc67=null,_0x2d28dd=null){const _0x1b5cc6=a1_0x55b408,_0x101b24={};_0x101b24['jfiwj']=_0x1b5cc6(0x2e2),_0x101b24[_0x1b5cc6(0x29f)]=_0x1b5cc6(0x1ec),_0x101b24[_0x1b5cc6(0x2a2)]=_0x1b5cc6(0x2c6),_0x101b24[_0x1b5cc6(0x227)]=_0x1b5cc6(0x2b5),_0x101b24[_0x1b5cc6(0x224)]=_0x1b5cc6(0x177),_0x101b24[_0x1b5cc6(0x234)]=_0x1b5cc6(0x164),_0x101b24[_0x1b5cc6(0x206)]='false',_0x101b24[_0x1b5cc6(0x173)]=function(_0x10b0ba,_0x54de7b){return _0x10b0ba!==_0x54de7b;},_0x101b24[_0x1b5cc6(0x298)]=function(_0xb9ae27,_0x4c52ef){return _0xb9ae27!==_0x4c52ef;},_0x101b24[_0x1b5cc6(0x1a5)]=_0x1b5cc6(0x14a),_0x101b24[_0x1b5cc6(0x23f)]=_0x1b5cc6(0x2fe),_0x101b24[_0x1b5cc6(0x1bc)]='string',_0x101b24['czFBd']=_0x1b5cc6(0x162),_0x101b24[_0x1b5cc6(0x28d)]=_0x1b5cc6(0x2f5),_0x101b24[_0x1b5cc6(0x11b)]=_0x1b5cc6(0x1e2),_0x101b24['xNYXr']=_0x1b5cc6(0x1e0),_0x101b24[_0x1b5cc6(0x238)]=_0x1b5cc6(0x2ce);const _0x349275=_0x101b24;let _0x5738ca=await fs[_0x1b5cc6(0x2cc)](path['join'](__dirname,'..',_0x349275['DIAdo'],_0x349275[_0x1b5cc6(0x2a2)],_0x349275[_0x1b5cc6(0x227)]),_0x349275[_0x1b5cc6(0x224)]);_0x5738ca=JSON[_0x1b5cc6(0x18c)](_0x5738ca);const _0x35c7a5={};_0x35c7a5[_0x1b5cc6(0x12a)]=this[_0x1b5cc6(0x22d)];const _0x2cbb57={};_0x2cbb57['value']=global_registry['clusterRegion'];const _0x15e13b={};_0x15e13b[_0x1b5cc6(0x12a)]=global_registry[_0x1b5cc6(0x185)];const _0x597492={};_0x597492[_0x1b5cc6(0x12a)]=global_registry['maxNodes'];const _0x438213={};_0x438213[_0x1b5cc6(0x12a)]=global_registry[_0x1b5cc6(0x20f)]?_0x349275[_0x1b5cc6(0x234)]:_0x349275[_0x1b5cc6(0x206)];const _0x33485c={};_0x33485c[_0x1b5cc6(0x22d)]=_0x35c7a5,_0x33485c[_0x1b5cc6(0x215)]=_0x2cbb57,_0x33485c[_0x1b5cc6(0x1c3)]=_0x15e13b,_0x33485c['userMaxNodes']=_0x597492,_0x33485c['clusterAutoUpgrade']=_0x438213;let _0x51fa3c=_0x33485c;if(_0x349275['fVINR'](_0x30fc67,null)&&_0x349275[_0x1b5cc6(0x298)](_0x2d28dd,null)){if(_0x349275['pvEzR'](_0x349275[_0x1b5cc6(0x1a5)],_0x349275[_0x1b5cc6(0x23f)])){const _0x6fe4ef={};_0x6fe4ef['type']=_0x349275[_0x1b5cc6(0x1bc)],_0x6fe4ef[_0x1b5cc6(0x24b)]={},_0x6fe4ef[_0x1b5cc6(0x24b)][_0x1b5cc6(0x2c4)]=_0x349275[_0x1b5cc6(0x256)];const _0x1f0bcc={};_0x1f0bcc[_0x1b5cc6(0x1f4)]=_0x349275[_0x1b5cc6(0x1bc)],_0x1f0bcc[_0x1b5cc6(0x24b)]={},_0x1f0bcc[_0x1b5cc6(0x24b)][_0x1b5cc6(0x2c4)]=_0x349275[_0x1b5cc6(0x256)],_0x5738ca[_0x1b5cc6(0x249)]={..._0x5738ca[_0x1b5cc6(0x249)],'vpcName':_0x6fe4ef,'subnetName':_0x1f0bcc};const _0x59b2d6={};_0x59b2d6[_0x1b5cc6(0x22b)]=_0x349275[_0x1b5cc6(0x28d)],_0x5738ca[_0x1b5cc6(0x17c)]=_0x59b2d6,_0x5738ca[_0x1b5cc6(0x195)][0x0][_0x1b5cc6(0x281)][_0x1b5cc6(0x26c)][0x0]={..._0x5738ca[_0x1b5cc6(0x195)][0x0][_0x1b5cc6(0x281)]['agentPoolProfiles'][0x0],'vnetSubnetID':_0x349275['TRgTP']};const _0x97dda={};_0x97dda[_0x1b5cc6(0x12a)]=_0x30fc67;const _0x36b33d={};_0x36b33d[_0x1b5cc6(0x12a)]=_0x2d28dd[0x0],_0x51fa3c={..._0x51fa3c,'vpcName':_0x97dda,'subnetName':_0x36b33d};}else return _0x1509ce['data']=_0x349275[_0x1b5cc6(0x29c)],_0x2959a5;}await this[_0x1b5cc6(0x220)][_0x1b5cc6(0x115)][_0x1b5cc6(0x21d)](global_registry[_0x1b5cc6(0x1e4)],_0x349275['xNYXr'],{'properties':{'template':_0x5738ca,'mode':_0x349275[_0x1b5cc6(0x238)],'parameters':_0x51fa3c}});}async['createOtherResources'](){const _0xcc9aba=a1_0x55b408,_0x39afc9={};_0x39afc9[_0xcc9aba(0x13a)]=function(_0x52b2b4,_0x2eeecc){return _0x52b2b4!==_0x2eeecc;},_0x39afc9[_0xcc9aba(0x24f)]='XdOSb',_0x39afc9[_0xcc9aba(0x2ca)]=_0xcc9aba(0x292),_0x39afc9[_0xcc9aba(0x2c7)]='Creating\x20Azure\x20storage\x20account',_0x39afc9['hoYvO']=function(_0x31a961,_0x520808){return _0x31a961!==_0x520808;},_0x39afc9['eFBwE']=_0xcc9aba(0x1a3),_0x39afc9[_0xcc9aba(0x2ef)]=_0xcc9aba(0x105),_0x39afc9['ABYRy']='Storage\x20account\x20already\x20exists,\x20skipping',_0x39afc9[_0xcc9aba(0x233)]='QHWIV',_0x39afc9[_0xcc9aba(0x2e0)]=_0xcc9aba(0x1db),_0x39afc9['JkQwi']=_0xcc9aba(0x2eb),_0x39afc9['dzLRI']=_0xcc9aba(0x207),_0x39afc9[_0xcc9aba(0x2d8)]='iIVvB',_0x39afc9['INZLT']=_0xcc9aba(0x113),_0x39afc9['zOZaw']='Creating\x20Azure\x20federated\x20identity',_0x39afc9[_0xcc9aba(0x246)]=_0xcc9aba(0x161);const _0xd1343b=_0x39afc9,_0xbcf587=await this[_0xcc9aba(0x231)]();if(!_0xbcf587){if(_0xd1343b[_0xcc9aba(0x13a)](_0xd1343b[_0xcc9aba(0x24f)],_0xd1343b[_0xcc9aba(0x2ca)])){const _0x2c8afc={};_0x2c8afc[_0xcc9aba(0x1f4)]=WS_EVENTS[_0xcc9aba(0x2ff)],_0x2c8afc[_0xcc9aba(0x2c0)]=_0xd1343b[_0xcc9aba(0x2c7)],this[_0xcc9aba(0x1c1)][_0xcc9aba(0x242)](this[_0xcc9aba(0x259)],_0x2c8afc),logger[_0xcc9aba(0x277)](_0xd1343b[_0xcc9aba(0x2c7)]),await this[_0xcc9aba(0x218)]();}else _0x3cc0a8=_0xba2da7['id'];}else{if(_0xd1343b[_0xcc9aba(0x17b)](_0xd1343b[_0xcc9aba(0x17f)],_0xd1343b[_0xcc9aba(0x2ef)]))logger[_0xcc9aba(0x277)](_0xd1343b['ABYRy']);else return!![];}const _0x1856ea=await this[_0xcc9aba(0x289)]();if(!_0x1856ea){if(_0xd1343b['MLedd'](_0xd1343b[_0xcc9aba(0x233)],_0xd1343b[_0xcc9aba(0x2e0)])){const _0xfe7a17={};_0xfe7a17['type']=WS_EVENTS['LOG'],_0xfe7a17[_0xcc9aba(0x2c0)]=_0xd1343b[_0xcc9aba(0x266)],this['webSocketUtils']['sendEventToBackend'](this[_0xcc9aba(0x259)],_0xfe7a17),logger[_0xcc9aba(0x277)](_0xd1343b[_0xcc9aba(0x266)]),await this['createManagedIdentity']();}else{const _0x2d17b6=new _0x1aa1f(_0x10ead9['cloudProviderTenantId'],_0x1bea6d[_0xcc9aba(0x1c7)],_0x297011['cloudProviderClientSecret']);this[_0xcc9aba(0x11c)]=new _0x10ea22(_0x2d17b6,_0x4a80f1['cloudProviderSubscriptionId']),this[_0xcc9aba(0x121)]=new _0x4ea77b(_0x2d17b6,_0x2a51ba['cloudProviderSubscriptionId']),this[_0xcc9aba(0x220)]=new _0x1ee3c8(_0x2d17b6,_0x33561d[_0xcc9aba(0x186)]),this[_0xcc9aba(0x209)]=new _0x1b2f6a(_0x2d17b6,_0x10c85f[_0xcc9aba(0x186)]),this['authClient']=new _0xfc35ac(_0x2d17b6,_0x5666d9[_0xcc9aba(0x186)]),this[_0xcc9aba(0x129)]=_0x2d17b6;}}else _0xd1343b[_0xcc9aba(0x13a)](_0xd1343b[_0xcc9aba(0x2f2)],_0xd1343b['uroTR'])?logger[_0xcc9aba(0x277)](_0xd1343b['INZLT']):_0x942efa[_0xcc9aba(0x228)]=_0x47cb7d;logger[_0xcc9aba(0x277)](_0xd1343b['zOZaw']),await this[_0xcc9aba(0x140)](),logger['info'](_0xd1343b[_0xcc9aba(0x246)]);}async[a1_0x55b408(0x218)](){const _0x32a6f2=a1_0x55b408,_0x2ff274={};_0x2ff274[_0x32a6f2(0x29e)]=_0x32a6f2(0x1ec),_0x2ff274[_0x32a6f2(0x116)]=_0x32a6f2(0x2c6),_0x2ff274[_0x32a6f2(0x201)]=_0x32a6f2(0x2d3),_0x2ff274[_0x32a6f2(0x197)]=_0x32a6f2(0x177),_0x2ff274[_0x32a6f2(0x153)]='turboscale-storageaccount-deployment',_0x2ff274[_0x32a6f2(0x16f)]=_0x32a6f2(0x2ce),_0x2ff274[_0x32a6f2(0x200)]='Blob\x20delete\x20lifecycle',_0x2ff274[_0x32a6f2(0x270)]=_0x32a6f2(0x19c),_0x2ff274[_0x32a6f2(0x2b7)]=_0x32a6f2(0x2d5),_0x2ff274['MDIpQ']=_0x32a6f2(0x20c);const _0x93a672=_0x2ff274;let _0x8c79cd=await fs[_0x32a6f2(0x2cc)](path[_0x32a6f2(0x13b)](__dirname,'..',_0x93a672[_0x32a6f2(0x29e)],_0x93a672[_0x32a6f2(0x116)],_0x93a672[_0x32a6f2(0x201)]),_0x93a672['NRGxl']);_0x8c79cd=JSON[_0x32a6f2(0x18c)](_0x8c79cd);const _0x4431b0=this[_0x32a6f2(0x1d0)](),_0x5e8d7a={};_0x5e8d7a[_0x32a6f2(0x12a)]=_0x4431b0;const _0x431d0f={};_0x431d0f[_0x32a6f2(0x1b3)]=_0x5e8d7a,await this[_0x32a6f2(0x220)][_0x32a6f2(0x115)][_0x32a6f2(0x21d)](global_registry[_0x32a6f2(0x1e4)],_0x93a672[_0x32a6f2(0x153)],{'properties':{'template':_0x8c79cd,'mode':_0x93a672['HBwLM'],'parameters':_0x431d0f}});const _0x2e6dc9={};_0x2e6dc9[_0x32a6f2(0x247)]=0x3c;const _0x179907={};_0x179907[_0x32a6f2(0x1fe)]=_0x2e6dc9;const _0x18779c={};_0x18779c[_0x32a6f2(0x1bf)]=_0x179907;const _0x2fcc80={};_0x2fcc80['enabled']=!![],_0x2fcc80[_0x32a6f2(0x239)]=_0x93a672[_0x32a6f2(0x200)],_0x2fcc80[_0x32a6f2(0x1f4)]=_0x93a672[_0x32a6f2(0x270)],_0x2fcc80[_0x32a6f2(0x1d9)]={},_0x2fcc80[_0x32a6f2(0x1d9)][_0x32a6f2(0x1d7)]=_0x18779c,_0x2fcc80[_0x32a6f2(0x1d9)][_0x32a6f2(0x1c2)]={},_0x2fcc80[_0x32a6f2(0x1d9)][_0x32a6f2(0x1c2)]['blobTypes']=[_0x93a672['kQLMG']];const _0x3d41d0={};_0x3d41d0[_0x32a6f2(0x1a7)]=[_0x2fcc80];const _0x5387c2={};_0x5387c2['policy']=_0x3d41d0;const _0x1db0e2=_0x5387c2;await this['storageClient'][_0x32a6f2(0x216)][_0x32a6f2(0x21c)](global_registry[_0x32a6f2(0x1e4)],_0x4431b0,_0x93a672[_0x32a6f2(0x2f0)],_0x1db0e2);}async[a1_0x55b408(0x1f6)](){const _0x3522a9=a1_0x55b408,_0x2d84fc={};_0x2d84fc[_0x3522a9(0x1bd)]=_0x3522a9(0x1ec),_0x2d84fc[_0x3522a9(0x237)]='azureresources',_0x2d84fc[_0x3522a9(0x20a)]=_0x3522a9(0x261),_0x2d84fc[_0x3522a9(0x2e3)]=_0x3522a9(0x177),_0x2d84fc[_0x3522a9(0x148)]='turboscale-identity-deployment',_0x2d84fc[_0x3522a9(0x1d4)]='Incremental';const _0x3f79ec=_0x2d84fc;let _0x1504aa=await fs[_0x3522a9(0x2cc)](path[_0x3522a9(0x13b)](__dirname,'..',_0x3f79ec[_0x3522a9(0x1bd)],_0x3f79ec[_0x3522a9(0x237)],_0x3f79ec[_0x3522a9(0x20a)]),_0x3f79ec['GdIwQ']);_0x1504aa=JSON[_0x3522a9(0x18c)](_0x1504aa),await this['resourceClient']['deployments'][_0x3522a9(0x21d)](global_registry['cloudProviderResourceGroup'],_0x3f79ec[_0x3522a9(0x148)],{'properties':{'template':_0x1504aa,'mode':_0x3f79ec['LtFDD'],'parameters':{'clusterName':{'value':this[_0x3522a9(0x22d)]}}}});}async['createFederatedAccount'](){const _0x5c9b4a=a1_0x55b408,_0x2ce0ef={};_0x2ce0ef['DENhq']=function(_0x7af58c,_0x553c68){return _0x7af58c!==_0x553c68;},_0x2ce0ef['OgArA']='yACOR',_0x2ce0ef[_0x5c9b4a(0x2b0)]=_0x5c9b4a(0x187),_0x2ce0ef[_0x5c9b4a(0x171)]='node',_0x2ce0ef['TvRvc']=function(_0x155867,_0x2405b7){return _0x155867===_0x2405b7;},_0x2ce0ef[_0x5c9b4a(0x2ac)]=_0x5c9b4a(0x2c2),_0x2ce0ef[_0x5c9b4a(0x17a)]='templates',_0x2ce0ef[_0x5c9b4a(0x1d8)]=_0x5c9b4a(0x2c6),_0x2ce0ef[_0x5c9b4a(0x2d7)]='utf-8',_0x2ce0ef[_0x5c9b4a(0x229)]=_0x5c9b4a(0x28c),_0x2ce0ef[_0x5c9b4a(0x2e8)]='Incremental';const _0x295f82=_0x2ce0ef;!this[_0x5c9b4a(0x2c3)]&&(_0x295f82[_0x5c9b4a(0x27b)](_0x295f82[_0x5c9b4a(0x245)],_0x295f82['OgArA'])?_0x4de972['error']=_0x2d1d6b:await this['getClusterInfo']());const _0x38cfc4=this[_0x5c9b4a(0x2c3)]?.[_0x5c9b4a(0x2d1)]?.[_0x5c9b4a(0x1b2)],_0x3aea6d=[_0x295f82[_0x5c9b4a(0x2b0)],_0x295f82['zHlFr']];for await(const _0x3a6ed5 of _0x3aea6d){if(_0x295f82[_0x5c9b4a(0x1fa)](_0x295f82['RpffQ'],_0x295f82[_0x5c9b4a(0x2ac)])){let _0x5c9924=await fs['readFileAsync'](path[_0x5c9b4a(0x13b)](__dirname,'..',_0x295f82['XXylx'],_0x295f82['gNvOM'],_0x5c9b4a(0x273)+_0x3a6ed5+_0x5c9b4a(0x196)),_0x295f82['sNXUK']);_0x5c9924=JSON[_0x5c9b4a(0x18c)](_0x5c9924);const _0xaf6467={};_0xaf6467['value']=_0x38cfc4,await this[_0x5c9b4a(0x220)][_0x5c9b4a(0x115)]['beginCreateOrUpdateAndWait'](global_registry[_0x5c9b4a(0x1e4)],_0x295f82['vCbPq'],{'properties':{'template':_0x5c9924,'mode':_0x295f82['bEeSZ'],'parameters':{'oidcIssuer':_0xaf6467,'gridName':{'value':this[_0x5c9b4a(0x268)]},'clusterName':{'value':this[_0x5c9b4a(0x22d)]}}}});}else return!![];}}async[a1_0x55b408(0x2ed)](_0x4138a4,_0x298d7a,_0x487b76,_0x4d6eef,_0x49ab32){const _0xa267c8=a1_0x55b408,_0x3f6ef8={};_0x3f6ef8[_0xa267c8(0x19d)]='Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha',_0x3f6ef8['HrHwF']=_0xa267c8(0x2aa);const _0x5439fa=_0x3f6ef8,_0xce0edf={};_0xce0edf[_0xa267c8(0x1f4)]=WS_EVENTS[_0xa267c8(0x2ff)],_0xce0edf[_0xa267c8(0x2c0)]=_0x5439fa['SfuUW'],this[_0xa267c8(0x1c1)]['sendEventToBackend'](this[_0xa267c8(0x259)],_0xce0edf),logger['info'](_0x5439fa[_0xa267c8(0x19d)]),await this[_0xa267c8(0x117)]();const _0xe5a415={};_0xe5a415[_0xa267c8(0x1f4)]=WS_EVENTS[_0xa267c8(0x2ff)],_0xe5a415['message']=_0x5439fa[_0xa267c8(0x1ab)],this[_0xa267c8(0x1c1)][_0xa267c8(0x242)](this[_0xa267c8(0x259)],_0xe5a415);}async[a1_0x55b408(0x117)](){const _0x542eb9=a1_0x55b408,_0x2f3629={};_0x2f3629[_0x542eb9(0x139)]='Enabling\x20Local\x20account\x20for\x20the\x20cluster',_0x2f3629[_0x542eb9(0x182)]=function(_0x939658,_0x22ce92){return _0x939658!==_0x22ce92;},_0x2f3629['GIzhc']=_0x542eb9(0x11f),_0x2f3629['nxDOy']=_0x542eb9(0x1ec),_0x2f3629[_0x542eb9(0x118)]=_0x542eb9(0x287),_0x2f3629['Xpdti']=_0x542eb9(0x204),_0x2f3629[_0x542eb9(0x23d)]=_0x542eb9(0x177),_0x2f3629[_0x542eb9(0x142)]='turboscale-federated-deployment',_0x2f3629[_0x542eb9(0x253)]=_0x542eb9(0x2ce);const _0x51123d=_0x2f3629;if(!this['clusterInfo']){if(_0x51123d[_0x542eb9(0x182)](_0x51123d['GIzhc'],_0x51123d[_0x542eb9(0x1c8)])){_0x1dbda5[_0x542eb9(0x277)](_0x51123d[_0x542eb9(0x139)]);const _0x4e1d33={};_0x4e1d33[_0x542eb9(0x1f4)]=_0x513824['RESOURCES'],_0x4e1d33[_0x542eb9(0x2c0)]=_0x51123d['NyvjR'],this[_0x542eb9(0x1c1)][_0x542eb9(0x242)](this[_0x542eb9(0x259)],_0x4e1d33),_0x36a264[_0x542eb9(0x25e)]=![];}else await this[_0x542eb9(0x27d)]();}const _0x4b3421=this[_0x542eb9(0x2c3)]?.['oidcIssuerProfile']?.[_0x542eb9(0x1b2)];let _0x270d47=await fs[_0x542eb9(0x2cc)](path[_0x542eb9(0x13b)](__dirname,'..',_0x51123d[_0x542eb9(0x123)],_0x51123d[_0x542eb9(0x118)],_0x51123d[_0x542eb9(0x2f1)]),_0x51123d['eQVyf']);_0x270d47=JSON['parse'](_0x270d47);const _0x35271e={};_0x35271e[_0x542eb9(0x12a)]=_0x4b3421,await this['resourceClient'][_0x542eb9(0x115)][_0x542eb9(0x21d)](global_registry['cloudProviderResourceGroup'],_0x51123d[_0x542eb9(0x142)],{'properties':{'template':_0x270d47,'mode':_0x51123d[_0x542eb9(0x253)],'parameters':{'oidcIssuer':_0x35271e,'namespace':{'value':global_registry['hubHaNameSpace']},'clusterName':{'value':this[_0x542eb9(0x22d)]}}}});}async[a1_0x55b408(0x231)](){const _0x9c8517=a1_0x55b408,_0x5efbf8={};_0x5efbf8['iFtkJ']=function(_0x1446f9,_0x12631c){return _0x1446f9===_0x12631c;},_0x5efbf8[_0x9c8517(0x19a)]=_0x9c8517(0x113),_0x5efbf8['YgpSy']=function(_0x1714c0,_0x41de14){return _0x1714c0!==_0x41de14;},_0x5efbf8[_0x9c8517(0x2d0)]='pZyGC',_0x5efbf8['oiiOK']=function(_0x4e61df,_0x4988c0){return _0x4e61df===_0x4988c0;},_0x5efbf8[_0x9c8517(0x1dd)]=_0x9c8517(0x1a8),_0x5efbf8[_0x9c8517(0x1ce)]=_0x9c8517(0x2db),_0x5efbf8[_0x9c8517(0x168)]=_0x9c8517(0x260),_0x5efbf8[_0x9c8517(0x291)]=_0x9c8517(0x296);const _0x54d88e=_0x5efbf8,_0xfcf29b=this[_0x9c8517(0x1d0)](),_0x357fc6=new Array();for await(const _0x17e418 of this[_0x9c8517(0x121)][_0x9c8517(0x2a3)][_0x9c8517(0x1d1)](global_registry['cloudProviderResourceGroup'])){_0x54d88e[_0x9c8517(0x1b5)](_0x54d88e[_0x9c8517(0x2d0)],_0x54d88e['iPyfU'])?_0x54d88e['iFtkJ'](_0x4a3ca2[_0x9c8517(0x239)],_0x4a79aa)&&(_0x42abec=_0x4b2f0a['id']):_0x357fc6['push'](_0x17e418);}for await(const _0x2b4c79 of _0x357fc6){if(_0x54d88e['oiiOK'](_0x54d88e['emtUU'],_0x54d88e[_0x9c8517(0x1ce)]))_0x5c9de5[_0x9c8517(0x16a)](_0x458091);else{if(_0x54d88e[_0x9c8517(0x198)](_0x2b4c79[_0x9c8517(0x239)],_0xfcf29b)){if(_0x54d88e['oiiOK'](_0x54d88e[_0x9c8517(0x168)],_0x54d88e['UVGEg']))_0x3ffa46[_0x9c8517(0x277)](_0x54d88e[_0x9c8517(0x19a)]);else return!![];}}}return![];}async[a1_0x55b408(0x289)](){const _0x439055=a1_0x55b408,_0x502538={'oqTsZ':_0x439055(0x2f3),'BavXF':function(_0xb84eba,_0x5b1a8f,_0x379873){return _0xb84eba(_0x5b1a8f,_0x379873);},'Opile':function(_0x119d77,_0x33a6ca){return _0x119d77!==_0x33a6ca;},'HaLma':_0x439055(0x1e9),'uFJos':'EqBMg','jmRvH':function(_0x17932e,_0x4016af){return _0x17932e===_0x4016af;},'azikP':_0x439055(0x1c9),'rmKTE':'ssCEF','GzsPE':function(_0x1d1f51,_0x759395){return _0x1d1f51===_0x759395;},'ZnfWX':function(_0x1d2390,_0x3968d4){return _0x1d2390!==_0x3968d4;},'RpoIj':_0x439055(0x2c1),'PHXwq':_0x439055(0x10f)},_0x4848ef=new Array();for await(const _0x3fb23c of this[_0x439055(0x220)]['resources'][_0x439055(0x1d1)](global_registry[_0x439055(0x1e4)])){if(_0x502538[_0x439055(0x210)](_0x502538[_0x439055(0x286)],_0x502538[_0x439055(0x203)]))_0x4848ef[_0x439055(0x16a)](_0x3fb23c);else throw new _0x3a3598(_0x502538[_0x439055(0x12f)],_0x439055(0x22e)+_0x4998ae[_0x439055(0x17e)](_0x80c0db));}for await(const _0x30ec2f of _0x4848ef){if(_0x502538['jmRvH'](_0x502538[_0x439055(0x21f)],_0x502538[_0x439055(0x2ee)]))return _0x7e2cc5[_0x439055(0x1da)]['loadBalancer'][_0x439055(0x119)][0x0][_0x439055(0x275)];else{if(_0x502538[_0x439055(0x122)](_0x30ec2f['name'],_0x439055(0x255)+this[_0x439055(0x22d)])){if(_0x502538['ZnfWX'](_0x502538[_0x439055(0x2c9)],_0x502538[_0x439055(0x2ad)]))return!![];else _0x502538['BavXF'](_0x23e3ae,()=>_0x2e32fd(),0x3e8);}}}return![];}async[a1_0x55b408(0x16d)](_0x11343d,_0x3d7cc1=0x3){const _0x42ee62=a1_0x55b408,_0x56a46c={'bHAfw':function(_0x59fd7e,_0x2acbf3){return _0x59fd7e+_0x2acbf3;},'SemrD':_0x42ee62(0x2df),'UZCZl':function(_0x2e65d0,_0x429c18){return _0x2e65d0-_0x429c18;},'XXymW':'No\x20attached\x20role\x20for\x20the\x20client\x20key','cLiBJ':_0x42ee62(0x1ee),'htBQe':function(_0x5a6bb8,_0x3406f7){return _0x5a6bb8===_0x3406f7;},'DKGjp':_0x42ee62(0x194),'SKBPC':function(_0x49885b,_0x1620b4,_0x53b5ac){return _0x49885b(_0x1620b4,_0x53b5ac);},'fHxuP':function(_0x9d5565,_0xd460e7){return _0x9d5565===_0xd460e7;},'ZOdqv':'XeAAD','lErEd':function(_0x21b1d7,_0x3a5e40){return _0x21b1d7===_0x3a5e40;},'smRsz':_0x42ee62(0x2e9),'XdVdJ':_0x42ee62(0x25c),'ZLRZr':function(_0x49a750,_0x465d44){return _0x49a750!==_0x465d44;},'bDQoF':_0x42ee62(0x2d9),'tyjan':_0x42ee62(0x232),'rDaAJ':function(_0x3e7e5e,_0x484db8){return _0x3e7e5e!==_0x484db8;},'MbDMn':'itvhs','EBYtY':_0x42ee62(0x257),'iaGet':'2023-01-31','REfpU':function(_0x533f30,_0xcf3a37){return _0x533f30!==_0xcf3a37;},'bsfGT':_0x42ee62(0x15f),'XvvXA':function(_0x13536b,_0x4bb2d8){return _0x13536b<=_0x4bb2d8;},'GDMRz':_0x42ee62(0x208),'roowZ':_0x42ee62(0x1ff)};try{if(_0x56a46c[_0x42ee62(0x176)](_0x56a46c[_0x42ee62(0x159)],_0x56a46c[_0x42ee62(0x159)])){const _0x2b5342=new Array();for await(const _0x357511 of this[_0x42ee62(0x220)]['resources']['listByResourceGroup'](global_registry['cloudProviderResourceGroup'])){if(_0x56a46c['lErEd'](_0x56a46c[_0x42ee62(0x2b2)],_0x56a46c['XdVdJ'])){const _0x46ace3=_0x14f336['s3Bucket'][_0x42ee62(0x1cd)]('-'),_0x22d2bd=_0x56a46c[_0x42ee62(0x1ba)](_0x56a46c[_0x42ee62(0x10e)],_0x46ace3[_0x56a46c['UZCZl'](_0x46ace3['length'],0x1)])[_0x42ee62(0x126)](0x0,0x18);return _0x22d2bd[_0x42ee62(0x252)]();}else _0x2b5342[_0x42ee62(0x16a)](_0x357511);}let _0x5c639e='';for await(const _0x3c3197 of _0x2b5342){if(_0x56a46c[_0x42ee62(0x1c5)](_0x56a46c[_0x42ee62(0x18a)],_0x56a46c[_0x42ee62(0x214)])){if(_0x56a46c['htBQe'](_0x3c3197[_0x42ee62(0x239)],_0x11343d)){if(_0x56a46c[_0x42ee62(0x2a7)](_0x56a46c[_0x42ee62(0x1d2)],_0x56a46c[_0x42ee62(0x2bc)]))_0x5c639e=_0x3c3197['id'];else return _0x1da308[_0x42ee62(0x228)](_0x42ee62(0x2f6)+_0x4f5946+_0x42ee62(0x26e)+_0x12abcf),![];}}else _0x3f5719['push'](_0x4dcdbf);}const _0x5099a2=await this[_0x42ee62(0x220)][_0x42ee62(0x195)][_0x42ee62(0x188)](_0x5c639e,_0x56a46c[_0x42ee62(0x12c)]);return _0x5099a2[_0x42ee62(0x281)][_0x42ee62(0x144)];}else _0x5d79a3[_0x42ee62(0x160)]['push'](_0x19edc1);}catch(_0x4cf8fc){if(_0x56a46c[_0x42ee62(0x1af)](_0x56a46c['bsfGT'],_0x56a46c[_0x42ee62(0x19e)]))_0x2e6424[_0x42ee62(0x1da)]=![];else{if(_0x56a46c['XvvXA'](_0x3d7cc1,0x0))return _0x56a46c[_0x42ee62(0x21a)](_0x56a46c[_0x42ee62(0x166)],_0x56a46c[_0x42ee62(0x193)])?(_0x5c56e[_0x42ee62(0x133)]=_0x56a46c[_0x42ee62(0x2fc)],_0x5407ea):(logger[_0x42ee62(0x228)]('[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20'+_0x4cf8fc+':'+_0x4cf8fc['stack']),{});return await new Promise(_0x27d448=>{const _0x8a5b73=_0x42ee62;if(_0x56a46c[_0x8a5b73(0x1ea)](_0x56a46c['DKGjp'],_0x56a46c['DKGjp']))_0x56a46c[_0x8a5b73(0x135)](setTimeout,()=>_0x27d448(),0x3e8);else{const _0x4a6ae6={};_0x4a6ae6[_0x8a5b73(0x1da)]=!![],_0x4a6ae6[_0x8a5b73(0x228)]=null,_0x4a6ae6['data']=_0x56a46c[_0x8a5b73(0x2a1)];const _0x169ed1=_0x4a6ae6;return _0x169ed1;}}),this[_0x42ee62(0x16d)](_0x11343d,_0x56a46c[_0x42ee62(0x18b)](_0x3d7cc1,0x1));}}}async[a1_0x55b408(0x1a4)](){const _0x24c031=a1_0x55b408,_0x168183={};_0x168183[_0x24c031(0x18d)]=function(_0x229dd9,_0x1fb14b){return _0x229dd9===_0x1fb14b;},_0x168183[_0x24c031(0x1ed)]=_0x24c031(0x1ef),_0x168183[_0x24c031(0x211)]=function(_0x518b7d,_0x15cea1){return _0x518b7d!==_0x15cea1;},_0x168183[_0x24c031(0x1e5)]=_0x24c031(0x2a6),_0x168183[_0x24c031(0x167)]=function(_0x239cd6,_0x463b83){return _0x239cd6===_0x463b83;},_0x168183[_0x24c031(0x183)]=_0x24c031(0x1b6),_0x168183['PLkKq']=_0x24c031(0x10d),_0x168183[_0x24c031(0x1e8)]='oeoHg',_0x168183[_0x24c031(0x131)]='fikgb';const _0x51d907=_0x168183;if(!this[_0x24c031(0x2c3)]){if(_0x51d907[_0x24c031(0x211)](_0x51d907['xvCTr'],_0x51d907[_0x24c031(0x1e5)]))return!![];else await this['getClusterInfo']();}const _0x5b240d=this[_0x24c031(0x2c3)]?.[_0x24c031(0x191)]||{};if(_0x5b240d&&_0x51d907['bdWDK'](_0x5b240d[_0x51d907[_0x24c031(0x183)]],_0x51d907[_0x24c031(0x2b3)])){if(_0x51d907['qgrHh'](_0x51d907['xTJBm'],_0x51d907[_0x24c031(0x131)]))_0x30758d+=_0x51d907['qgrHh'](_0x2b1aa6[_0x24c031(0x2da)],0x0)?_0x51d907['FwOyn']:'',_0x36b33f['debug'](_0x24c031(0x27a)+_0xb296d7['stringify'](_0x270901));else return!![];}return![];}async[a1_0x55b408(0x271)](_0x1761d3,_0x159231){const _0x3de29b=a1_0x55b408,_0x37ba06={'WLkJM':function(_0x171380,_0x2e64b6){return _0x171380(_0x2e64b6);},'VGkcO':_0x3de29b(0x226)};await _0x37ba06['WLkJM'](deleteAgent,_0x1761d3),await _0x37ba06[_0x3de29b(0x1d3)](deleteRoutingDeps,_0x1761d3);const _0x4455d0=this[_0x3de29b(0x11c)];logger[_0x3de29b(0x277)](_0x3de29b(0x1ae)+this[_0x3de29b(0x22d)]),await _0x4455d0[_0x3de29b(0x219)]['beginDeleteAndWait'](global_registry[_0x3de29b(0x1e4)],this[_0x3de29b(0x22d)]),logger[_0x3de29b(0x277)](_0x37ba06[_0x3de29b(0x276)]);}async['updateClusterAlreadyPresent'](){const _0x1438b9=a1_0x55b408,_0x5137a9={};_0x5137a9['qcWzB']=function(_0x537296,_0x48961f){return _0x537296+_0x48961f;},_0x5137a9[_0x1438b9(0x179)]=_0x1438b9(0x136),_0x5137a9[_0x1438b9(0x213)]=_0x1438b9(0x23b),_0x5137a9[_0x1438b9(0x1f3)]=function(_0x5e31b4,_0x2703f1){return _0x5e31b4===_0x2703f1;},_0x5137a9[_0x1438b9(0x1a9)]=_0x1438b9(0x128),_0x5137a9[_0x1438b9(0x264)]=_0x1438b9(0x1cf),_0x5137a9[_0x1438b9(0x143)]=function(_0x513d18,_0x515103){return _0x513d18&&_0x515103;},_0x5137a9[_0x1438b9(0x265)]=function(_0x4a567e,_0x399c32){return _0x4a567e===_0x399c32;},_0x5137a9[_0x1438b9(0x29d)]=_0x1438b9(0x1a0),_0x5137a9[_0x1438b9(0x178)]='fqKUQ',_0x5137a9[_0x1438b9(0x254)]='Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster',_0x5137a9[_0x1438b9(0x284)]=_0x1438b9(0x240),_0x5137a9[_0x1438b9(0x2f9)]=_0x1438b9(0x1e3),_0x5137a9[_0x1438b9(0x2de)]=_0x1438b9(0x223),_0x5137a9[_0x1438b9(0x2ba)]=function(_0x1cbb47,_0x5b41b0){return _0x1cbb47===_0x5b41b0;},_0x5137a9[_0x1438b9(0x25d)]=_0x1438b9(0x138),_0x5137a9[_0x1438b9(0x27c)]='Enabling\x20Local\x20account\x20for\x20the\x20cluster';const _0x53f4f6=_0x5137a9;if(!this[_0x1438b9(0x2c3)]){if(_0x53f4f6['yFZbJ'](_0x53f4f6[_0x1438b9(0x1a9)],_0x53f4f6['tOVFh']))return[!![],_0x5cc032];else await this['getClusterInfo']();}const _0x545454=this['clusterInfo'],_0x18ee66=this['clusterInfo']?.[_0x1438b9(0x2d1)]?.[_0x1438b9(0x1d5)]||![],_0x888d03=this['clusterInfo']?.['securityProfile']?.[_0x1438b9(0x172)]?.[_0x1438b9(0x1d5)]||![],_0x4935b8=!this[_0x1438b9(0x2c3)]?.[_0x1438b9(0x25e)]||![];if(_0x53f4f6[_0x1438b9(0x143)](_0x18ee66,_0x888d03)&&_0x4935b8){if(_0x53f4f6['OjVMw'](_0x53f4f6[_0x1438b9(0x29d)],_0x53f4f6[_0x1438b9(0x29d)]))return;else _0x4206b1['log']('['+_0x53f4f6[_0x1438b9(0x146)](_0x15532f,0x1)+']\x20'+_0x36f3de[_0x172338]);}if(!_0x18ee66){if(_0x53f4f6[_0x1438b9(0x1f3)](_0x53f4f6['bPXSP'],_0x53f4f6[_0x1438b9(0x178)])){logger['info'](_0x53f4f6['vcxvU']);const _0xac57c5={};_0xac57c5[_0x1438b9(0x1f4)]=WS_EVENTS[_0x1438b9(0x106)],_0xac57c5[_0x1438b9(0x2c0)]=_0x53f4f6['vcxvU'],this[_0x1438b9(0x1c1)][_0x1438b9(0x242)](this['rws'],_0xac57c5),_0x545454[_0x1438b9(0x2d1)][_0x1438b9(0x1d5)]=!![];}else _0x2ac114[_0x1438b9(0x16a)](_0x5e6fa7[_0x1438b9(0x239)]);}if(!_0x888d03){if(_0x53f4f6['yFZbJ'](_0x53f4f6['GpGRc'],_0x53f4f6[_0x1438b9(0x2f9)])){const _0x2fbb21=_0x53f4f6['IgBuG']['split']('|');let _0x2fe0a3=0x0;while(!![]){switch(_0x2fbb21[_0x2fe0a3++]){case'0':_0x46035b[_0x1438b9(0x1fc)]=_0x1e683d[this[_0x1438b9(0x1f8)]][_0x1438b9(0x109)];continue;case'1':_0x4c336e['cloudProviderClientSecret']=_0x35cf29[this[_0x1438b9(0x1f8)]][_0x1438b9(0x1cc)];continue;case'2':this[_0x1438b9(0x2f4)]();continue;case'3':_0x313dbf['cloudProviderClientId']=_0x39d73c[this['cloudProviderName']]['clientId'];continue;case'4':_0x54c5b7[_0x1438b9(0x1e4)]=_0x5f49d7[this[_0x1438b9(0x1f8)]][_0x1438b9(0x1b8)];continue;case'5':_0x1a9fcb['cloudProviderSubscriptionId']=_0x40deb7[this[_0x1438b9(0x1f8)]]['subscriptionId'];continue;}break;}}else{logger[_0x1438b9(0x277)](_0x53f4f6[_0x1438b9(0x2de)]);const _0x4d2e91={};_0x4d2e91[_0x1438b9(0x1f4)]=WS_EVENTS[_0x1438b9(0x106)],_0x4d2e91[_0x1438b9(0x2c0)]=_0x53f4f6['iUmHf'],this['webSocketUtils'][_0x1438b9(0x242)](this[_0x1438b9(0x259)],_0x4d2e91);const _0x2c011b={};_0x2c011b[_0x1438b9(0x1d5)]=!![],_0x545454[_0x1438b9(0x26d)]={'workloadIdentity':_0x2c011b,..._0x545454[_0x1438b9(0x26d)]};}}if(!_0x4935b8){if(_0x53f4f6['HlTYF'](_0x53f4f6[_0x1438b9(0x25d)],_0x53f4f6[_0x1438b9(0x25d)])){logger[_0x1438b9(0x277)](_0x53f4f6[_0x1438b9(0x27c)]);const _0x51747d={};_0x51747d['type']=WS_EVENTS[_0x1438b9(0x106)],_0x51747d['message']=_0x53f4f6['UhrKG'],this['webSocketUtils'][_0x1438b9(0x242)](this[_0x1438b9(0x259)],_0x51747d),_0x545454['disableLocalAccounts']=![];}else _0x1cc9e1[_0x1438b9(0x277)](_0x53f4f6[_0x1438b9(0x213)]);}await this[_0x1438b9(0x11c)][_0x1438b9(0x219)]['beginCreateOrUpdateAndWait'](global_registry[_0x1438b9(0x1e4)],this[_0x1438b9(0x22d)],_0x545454),await this['getClusterInfo']();}async[a1_0x55b408(0x205)](){const _0x440d85=a1_0x55b408,_0x281647={};_0x281647[_0x440d85(0x1b1)]=function(_0x4720ef,_0x5535f0){return _0x4720ef===_0x5535f0;},_0x281647[_0x440d85(0x18f)]=function(_0x1a1d80,_0x10ab9e){return _0x1a1d80!==_0x10ab9e;},_0x281647[_0x440d85(0x202)]=_0x440d85(0x16c),_0x281647[_0x440d85(0x26a)]=_0x440d85(0x190);const _0x50d0f7=_0x281647,_0x9398fe=await this[_0x440d85(0x209)][_0x440d85(0x28b)][_0x440d85(0x2c5)](global_registry[_0x440d85(0x1e4)]),_0x2f33c3={};_0x2f33c3['username']=global_registry[_0x440d85(0x24a)],_0x2f33c3[_0x440d85(0x2a8)]=global_registry[_0x440d85(0x114)],_0x2f33c3['cloudProvider']=AZURE,_0x2f33c3[_0x440d85(0x160)]=[];const _0x582a3b=_0x2f33c3;for await(const _0x16485b of _0x9398fe){if(_0x50d0f7[_0x440d85(0x18f)](_0x50d0f7[_0x440d85(0x202)],_0x50d0f7[_0x440d85(0x26a)]))_0x582a3b[_0x440d85(0x160)][_0x440d85(0x16a)](_0x16485b);else{if(_0x50d0f7[_0x440d85(0x1b1)](_0x3288b8[_0x440d85(0x239)],_0x4a5b92))return!![];}}const _0x41a4aa={};_0x41a4aa['type']=WS_EVENTS[_0x440d85(0x106)],_0x41a4aa['message']=_0x582a3b,this[_0x440d85(0x1c1)][_0x440d85(0x242)](this[_0x440d85(0x259)],_0x41a4aa);}async[a1_0x55b408(0x1f1)](_0x14e99a){const _0x2f0b4b=a1_0x55b408,_0x22a95c={};_0x22a95c[_0x2f0b4b(0x1e7)]=function(_0xbb0f5c,_0x2d882e){return _0xbb0f5c===_0x2d882e;},_0x22a95c[_0x2f0b4b(0x2e5)]=_0x2f0b4b(0x1b0),_0x22a95c[_0x2f0b4b(0x25b)]=function(_0x3b0ba4,_0x2c3466){return _0x3b0ba4!==_0x2c3466;},_0x22a95c[_0x2f0b4b(0x248)]=_0x2f0b4b(0x262),_0x22a95c[_0x2f0b4b(0x13d)]=_0x2f0b4b(0x19b),_0x22a95c[_0x2f0b4b(0x137)]=function(_0x48111a,_0x468454){return _0x48111a===_0x468454;},_0x22a95c[_0x2f0b4b(0x19f)]=_0x2f0b4b(0x278),_0x22a95c['EvFAX']=function(_0x2caa18,_0x4f2d85){return _0x2caa18===_0x4f2d85;},_0x22a95c[_0x2f0b4b(0x20b)]=_0x2f0b4b(0x230),_0x22a95c[_0x2f0b4b(0x10c)]='xJQpg',_0x22a95c[_0x2f0b4b(0x235)]=function(_0x46cace,_0x3c8617){return _0x46cace===_0x3c8617;},_0x22a95c['vSbjZ']=_0x2f0b4b(0x2dc),_0x22a95c[_0x2f0b4b(0x1a1)]=_0x2f0b4b(0x2af);const _0x3e10d2=_0x22a95c;try{if(_0x3e10d2[_0x2f0b4b(0x25b)](_0x3e10d2['osTLT'],_0x3e10d2['OAaoe'])){const _0x107660=await this['networkClient']['virtualNetworks'][_0x2f0b4b(0x2c5)](global_registry[_0x2f0b4b(0x1e4)]);for await(const _0x68f55d of _0x107660){if(_0x3e10d2[_0x2f0b4b(0x137)](_0x3e10d2[_0x2f0b4b(0x19f)],_0x3e10d2[_0x2f0b4b(0x19f)])){if(_0x3e10d2[_0x2f0b4b(0x189)](_0x68f55d[_0x2f0b4b(0x239)],_0x14e99a)){if(_0x3e10d2[_0x2f0b4b(0x25b)](_0x3e10d2[_0x2f0b4b(0x20b)],_0x3e10d2[_0x2f0b4b(0x10c)]))return!![];else _0xc81436['push'](_0x22944f);}}else{if(_0x3e10d2[_0x2f0b4b(0x1e7)](_0x4897da[_0x2f0b4b(0x239)],_0xbf52e8))return!![];}}}else _0x35fd67[_0x2f0b4b(0x228)](_0x3e10d2[_0x2f0b4b(0x2e5)]),_0x28ea1f[_0x2f0b4b(0x1ad)](0x1);}catch(_0x516386){if(_0x3e10d2[_0x2f0b4b(0x235)](_0x3e10d2[_0x2f0b4b(0x14c)],_0x3e10d2[_0x2f0b4b(0x1a1)]))_0x11cee4[_0x2f0b4b(0x16a)](_0x3777fc);else return logger['error'](_0x2f0b4b(0x2f6)+_0x14e99a+_0x2f0b4b(0x26e)+_0x516386),![];}return![];}async['isSubnetsValid'](_0x12300e,_0x20178a){const _0x24baf1=a1_0x55b408,_0x42ea99={};_0x42ea99[_0x24baf1(0x24d)]=_0x24baf1(0x1ac),_0x42ea99[_0x24baf1(0x2f8)]='Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.',_0x42ea99[_0x24baf1(0x101)]='[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]',_0x42ea99[_0x24baf1(0x2a5)]='[variables(\x27vnetSubnetID\x27)]',_0x42ea99[_0x24baf1(0x10a)]=function(_0x4e8bab,_0xdfef23){return _0x4e8bab===_0xdfef23;},_0x42ea99[_0x24baf1(0x282)]=function(_0x386696,_0xf777cd){return _0x386696!==_0xf777cd;},_0x42ea99[_0x24baf1(0x221)]=_0x24baf1(0x104),_0x42ea99['cIYOy']=_0x24baf1(0x28f),_0x42ea99[_0x24baf1(0x222)]=function(_0x363684,_0x86152f){return _0x363684===_0x86152f;},_0x42ea99[_0x24baf1(0x1f0)]='pSMcK',_0x42ea99[_0x24baf1(0x295)]=_0x24baf1(0x120);const _0x57c252=_0x42ea99;try{if(_0x57c252['VBqgE'](_0x57c252[_0x24baf1(0x221)],_0x57c252[_0x24baf1(0x13c)])){const _0x2aa168=await this[_0x24baf1(0x209)][_0x24baf1(0x21e)]['get'](global_registry[_0x24baf1(0x1e4)],_0x20178a,_0x12300e[0x0]);if(_0x57c252[_0x24baf1(0x10a)](_0x12300e[0x0],_0x2aa168[_0x24baf1(0x239)])){if(_0x57c252[_0x24baf1(0x222)](_0x57c252[_0x24baf1(0x1f0)],_0x57c252['Quuzw'])){const _0xa22e2d={};_0xa22e2d[_0x24baf1(0x1f4)]=_0x57c252[_0x24baf1(0x24d)],_0xa22e2d[_0x24baf1(0x24b)]={},_0xa22e2d[_0x24baf1(0x24b)]['description']=_0x57c252['IdQVY'];const _0xeac0e6={};_0xeac0e6[_0x24baf1(0x1f4)]=_0x57c252['uaLtA'],_0xeac0e6[_0x24baf1(0x24b)]={},_0xeac0e6[_0x24baf1(0x24b)][_0x24baf1(0x2c4)]=_0x57c252[_0x24baf1(0x2f8)];const _0x5c94c3={..._0x5dd269[_0x24baf1(0x249)]};_0x5c94c3['vpcName']=_0xa22e2d,_0x5c94c3[_0x24baf1(0x174)]=_0xeac0e6,_0x4df618[_0x24baf1(0x249)]=_0x5c94c3;const _0x4cbf28={};_0x4cbf28[_0x24baf1(0x22b)]=_0x57c252[_0x24baf1(0x101)],_0x26b6e7['variables']=_0x4cbf28;const _0x32ab0f={..._0x18acf3[_0x24baf1(0x195)][0x0][_0x24baf1(0x281)][_0x24baf1(0x26c)][0x0]};_0x32ab0f['vnetSubnetID']=_0x57c252[_0x24baf1(0x2a5)],_0x1e460d[_0x24baf1(0x195)][0x0][_0x24baf1(0x281)]['agentPoolProfiles'][0x0]=_0x32ab0f;const _0x361ef9={};_0x361ef9['value']=_0xa66440;const _0x2e4ecd={};_0x2e4ecd[_0x24baf1(0x12a)]=_0x2c249b[0x0];const _0x35eba2={..._0x298ecf};_0x35eba2[_0x24baf1(0x2d4)]=_0x361ef9,_0x35eba2[_0x24baf1(0x174)]=_0x2e4ecd,_0x520188=_0x35eba2;}else return[!![],_0x12300e];}}else{if(_0x57c252[_0x24baf1(0x10a)](_0x4da4ad['name'],_0x24baf1(0x255)+this[_0x24baf1(0x22d)]))return!![];}}catch(_0x4a0a78){return logger[_0x24baf1(0x228)](_0x24baf1(0x15d)+_0x12300e+'.\x20Error:\x20'+_0x4a0a78),[![],[]];}return[![],[]];}async['isCliToolInstalled'](){const _0x37c5dd=a1_0x55b408,_0x1f23b1={};_0x1f23b1[_0x37c5dd(0x169)]=_0x37c5dd(0x1ee);const _0x409384=_0x1f23b1,_0x2db75f={};_0x2db75f['status']=!![],_0x2db75f[_0x37c5dd(0x228)]=null,_0x2db75f[_0x37c5dd(0x133)]=_0x409384['uKxXg'];const _0x419e61=_0x2db75f;return _0x419e61;}async[a1_0x55b408(0x243)](){const _0x3fb800=a1_0x55b408,_0x2982a1={};_0x2982a1['yCzyo']=_0x3fb800(0x2fa),_0x2982a1[_0x3fb800(0x1a6)]='GET',_0x2982a1[_0x3fb800(0x112)]=_0x3fb800(0x212);const _0x2ca47f=_0x2982a1,_0x2ab21b=await this[_0x3fb800(0x129)][_0x3fb800(0x2bb)](_0x2ca47f[_0x3fb800(0x156)]),_0x3e880c={};_0x3e880c['method']=_0x2ca47f['GVIwg'],_0x3e880c[_0x3fb800(0x132)]={},_0x3e880c[_0x3fb800(0x132)][_0x3fb800(0x127)]=_0x3fb800(0x14d)+_0x2ab21b['token'],_0x3e880c[_0x3fb800(0x132)]['Content-Type']=_0x2ca47f[_0x3fb800(0x112)];const _0x33a878=_0x3e880c;return _0x33a878;}async['getPrincipalIdFromClientId'](_0x270309){const _0x2a8702=a1_0x55b408,_0x295541={'gNDNh':function(_0x5d286a,_0x48610a,_0x2280db){return _0x5d286a(_0x48610a,_0x2280db);},'uiQYT':function(_0x5edcda,_0x32340c){return _0x5edcda===_0x32340c;},'kRoYJ':_0x2a8702(0x2f3)},_0x2073c1={};_0x2073c1['principalId']='',_0x2073c1[_0x2a8702(0x228)]=null;const _0x2c4a57=_0x2073c1;try{const _0x3c42eb=_0x2a8702(0x184)+_0x270309+'\x27',_0x39a953=await this['getHeader'](),_0x2ac778=await _0x295541[_0x2a8702(0x124)](fetch,_0x3c42eb,_0x39a953),_0x666db3=await _0x2ac778[_0x2a8702(0x2cf)]();if(!_0x666db3['value']||_0x295541[_0x2a8702(0x14e)](_0x666db3[_0x2a8702(0x12a)]['length'],0x0))throw new Error(_0x295541[_0x2a8702(0x2e6)],_0x2a8702(0x22e)+JSON[_0x2a8702(0x17e)](_0x666db3));_0x2c4a57[_0x2a8702(0x2bd)]=_0x666db3['value'][0x0]['id'];}catch(_0x59e6da){_0x2c4a57[_0x2a8702(0x228)]=_0x59e6da;}return _0x2c4a57;}async[a1_0x55b408(0x2c8)](){const _0x381c91=a1_0x55b408,_0x331675={};_0x331675[_0x381c91(0x2b4)]=_0x381c91(0x2e7),_0x331675[_0x381c91(0x152)]=_0x381c91(0x274),_0x331675[_0x381c91(0x1cb)]=function(_0x250421,_0x56dc95){return _0x250421!==_0x56dc95;},_0x331675[_0x381c91(0x1f2)]=function(_0x56af01,_0x6e4867){return _0x56af01===_0x6e4867;},_0x331675[_0x381c91(0x2ea)]=_0x381c91(0x130),_0x331675[_0x381c91(0x14b)]=function(_0x2396ff,_0x130e55){return _0x2396ff===_0x130e55;},_0x331675[_0x381c91(0x299)]=_0x381c91(0x2e2),_0x331675[_0x381c91(0x27f)]=_0x381c91(0x1ef);const _0x342d5d=_0x331675,_0x1ec094={};_0x1ec094[_0x381c91(0x1da)]=![],_0x1ec094[_0x381c91(0x228)]=null,_0x1ec094[_0x381c91(0x133)]='';const _0x24524d=_0x1ec094;try{let _0x291b24='';const _0x3ae001=_0x381c91(0x150)+global_registry[_0x381c91(0x186)]+_0x381c91(0x141)+global_registry[_0x381c91(0x1e4)],_0x642fac=await this[_0x381c91(0x11d)](global_registry[_0x381c91(0x1c7)]);if(_0x342d5d[_0x381c91(0x1cb)](_0x642fac['error'],null))return _0x24524d[_0x381c91(0x228)]=_0x642fac[_0x381c91(0x228)],_0x24524d;const _0x4daa55=_0x381c91(0x1de)+_0x642fac[_0x381c91(0x2bd)]+'\x27)',_0x32e54c={};_0x32e54c[_0x381c91(0x2d6)]=_0x4daa55;const _0x548953=await this[_0x381c91(0x10b)][_0x381c91(0x175)][_0x381c91(0x2a0)](_0x3ae001,_0x32e54c),_0x2bbdcc=[];for await(const _0x440740 of _0x548953){_0x2bbdcc['push'](_0x440740);}if(_0x342d5d[_0x381c91(0x1f2)](_0x2bbdcc[_0x381c91(0x2da)],0x0))return _0x24524d[_0x381c91(0x133)]=_0x342d5d[_0x381c91(0x2ea)],_0x24524d;const _0x12e2a1=[...new Set(_0x2bbdcc[_0x381c91(0x24e)](_0x10f801=>_0x10f801[_0x381c91(0x13f)]))];if(_0x342d5d[_0x381c91(0x14b)](_0x12e2a1[_0x381c91(0x2da)],0x0))return _0x24524d[_0x381c91(0x133)]=_0x342d5d[_0x381c91(0x299)],_0x24524d;const _0x2644c7=[],_0x3e83b9=[];for(const _0x254052 of _0x12e2a1){const _0x56928b=await this['authClient'][_0x381c91(0x241)][_0x381c91(0x188)](_0x254052);logger['debug'](_0x381c91(0x2dd)+_0x56928b[_0x381c91(0x1eb)]),_0x2644c7['push'](_0x56928b),logger[_0x381c91(0x1c0)](_0x381c91(0x244)+JSON['stringify'](_0x56928b[_0x381c91(0x22c)])),_0x56928b[_0x381c91(0x22c)]['forEach'](_0x540a4c=>{const _0x30356d=_0x381c91;_0x3e83b9['push'](..._0x540a4c[_0x30356d(0x1d7)]);});}logger[_0x381c91(0x1c0)](_0x381c91(0x157)+JSON[_0x381c91(0x17e)](_0x3e83b9)),_0x342d5d['mpgNj'](_0x3e83b9[_0x381c91(0x2da)],0x0)&&(_0x291b24+=_0x342d5d[_0x381c91(0x14b)](_0x3e83b9[_0x381c91(0x2da)],0x0)?_0x342d5d[_0x381c91(0x27f)]:'',logger['debug'](_0x381c91(0x27a)+JSON[_0x381c91(0x17e)](_0x2644c7))),_0x24524d[_0x381c91(0x1da)]=!![],Object[_0x381c91(0x2b1)](PERMISSIONS[_0x381c91(0x23a)])[_0x381c91(0x154)](([_0xc7a976,_0x5c79df])=>{const _0x4fdb30=_0x381c91,_0x281f98=_0x3e83b9[_0x4fdb30(0x22f)](_0xc7a976);_0x291b24+='\x0a\x09'+_0x5c79df+':\x20'+(_0x281f98?_0x342d5d['VNGpj']:_0x342d5d[_0x4fdb30(0x152)]),!_0x281f98&&(_0x24524d['status']=![]);}),_0x24524d[_0x381c91(0x133)]=_0x291b24;}catch(_0x3778a3){_0x24524d['error']=_0x3778a3;}return _0x24524d;}}const a1_0x3af0a5={};a1_0x3af0a5[a1_0x55b408(0x258)]=AzureCloudProvider,module['exports']=a1_0x3af0a5;