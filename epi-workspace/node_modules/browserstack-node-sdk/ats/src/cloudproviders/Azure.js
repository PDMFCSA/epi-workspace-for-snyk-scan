const a1_0x7451ef=a1_0x2379;(function(_0x91ae96,_0x2de93c){const _0x510374=a1_0x2379,_0x52b8df=_0x91ae96();while(!![]){try{const _0x60e6a4=parseInt(_0x510374(0x274))/0x1*(-parseInt(_0x510374(0x1bf))/0x2)+parseInt(_0x510374(0x26d))/0x3+-parseInt(_0x510374(0x131))/0x4+-parseInt(_0x510374(0x27d))/0x5+-parseInt(_0x510374(0x211))/0x6+-parseInt(_0x510374(0x124))/0x7*(parseInt(_0x510374(0x253))/0x8)+parseInt(_0x510374(0x1d1))/0x9;if(_0x60e6a4===_0x2de93c)break;else _0x52b8df['push'](_0x52b8df['shift']());}catch(_0x1b779f){_0x52b8df['push'](_0x52b8df['shift']());}}}(a1_0xb098,0x61057));const fs=require('fs'),path=require(a1_0x7451ef(0xc8)),yaml=require(a1_0x7451ef(0x149)),{logger}=require(a1_0x7451ef(0x1dc)),{CloudProvider}=require('./CloudProvider'),{deleteRoutingDeps,deleteAgent}=require(a1_0x7451ef(0x2a6)),{AZURE,WS_EVENTS,global_registry}=require(a1_0x7451ef(0x26b)),PERMISSIONS=require('../permissions/AZURE.json'),{ClientSecretCredential}=require(a1_0x7451ef(0x24f)),{NetworkManagementClient}=require(a1_0x7451ef(0x1a2)),{StorageManagementClient}=require('@azure/arm-storage'),{AuthorizationManagementClient}=require('@azure/arm-authorization'),{ResourceManagementClient}=require(a1_0x7451ef(0x237)),{ContainerServiceClient}=require(a1_0x7451ef(0x27b)),{runCommand}=require(a1_0x7451ef(0x298));class AzureCloudProvider extends CloudProvider{constructor(_0x2c74af,_0x4cc296,_0x24a813,_0x4e2499){const _0x31de28=a1_0x7451ef,_0x39cf4c={};_0x39cf4c[_0x31de28(0x205)]=_0x31de28(0x1cb);const _0x55b522=_0x39cf4c,_0x5ad8d7=_0x55b522[_0x31de28(0x205)]['split']('|');let _0x357669=0x0;while(!![]){switch(_0x5ad8d7[_0x357669++]){case'0':this[_0x31de28(0x264)]=null;continue;case'1':this[_0x31de28(0xb7)]=null;continue;case'2':this['authClient']=null;continue;case'3':this['clusterInfo']=null;continue;case'4':this[_0x31de28(0x1a0)]=null;continue;case'5':this[_0x31de28(0x27c)]=null;continue;case'6':this[_0x31de28(0x163)]=null;continue;case'7':super(AZURE,_0x2c74af,_0x4cc296,_0x24a813,_0x4e2499);continue;}break;}}async[a1_0x7451ef(0x17a)](){return await super['init'](),this;}[a1_0x7451ef(0x241)](){const _0x3461c5=a1_0x7451ef,_0x2bfd5d=new ClientSecretCredential(global_registry[_0x3461c5(0x21e)],global_registry[_0x3461c5(0x294)],global_registry['cloudProviderClientSecret']);this[_0x3461c5(0x1a0)]=new ContainerServiceClient(_0x2bfd5d,global_registry[_0x3461c5(0x140)]),this['storageClient']=new StorageManagementClient(_0x2bfd5d,global_registry[_0x3461c5(0x140)]),this['resourceClient']=new ResourceManagementClient(_0x2bfd5d,global_registry['cloudProviderSubscriptionId']),this[_0x3461c5(0x264)]=new NetworkManagementClient(_0x2bfd5d,global_registry[_0x3461c5(0x140)]),this[_0x3461c5(0x13d)]=new AuthorizationManagementClient(_0x2bfd5d,global_registry[_0x3461c5(0x140)]),this[_0x3461c5(0x163)]=_0x2bfd5d;}[a1_0x7451ef(0x15d)](){const _0x2754af=a1_0x7451ef,_0x5ec2a5={};_0x5ec2a5[_0x2754af(0xc5)]=function(_0x1cfdc3,_0x696651){return _0x1cfdc3+_0x696651;},_0x5ec2a5[_0x2754af(0x260)]=_0x2754af(0x183),_0x5ec2a5['cOFLA']=function(_0x5369f6,_0x52ce33){return _0x5369f6-_0x52ce33;};const _0x467745=_0x5ec2a5,_0x5bca5e=global_registry[_0x2754af(0x139)][_0x2754af(0x111)]('-'),_0x4d5704=_0x467745[_0x2754af(0xc5)](_0x467745[_0x2754af(0x260)],_0x5bca5e[_0x467745[_0x2754af(0xef)](_0x5bca5e[_0x2754af(0x15c)],0x1)])[_0x2754af(0x200)](0x0,0x18);return _0x4d5704[_0x2754af(0x119)]();}[a1_0x7451ef(0x230)](_0x2cf11e){const _0x108068=a1_0x7451ef,_0x105f2e={};_0x105f2e[_0x108068(0x233)]='2|0|3|1|4|5';const _0x516af4=_0x105f2e,_0x55294b=_0x516af4[_0x108068(0x233)][_0x108068(0x111)]('|');let _0x25cd51=0x0;while(!![]){switch(_0x55294b[_0x25cd51++]){case'0':global_registry[_0x108068(0x2ac)]=_0x2cf11e[this[_0x108068(0x14e)]][_0x108068(0x1e6)];continue;case'1':global_registry[_0x108068(0x140)]=_0x2cf11e[this[_0x108068(0x14e)]][_0x108068(0x19f)];continue;case'2':global_registry[_0x108068(0x294)]=_0x2cf11e[this['cloudProviderName']][_0x108068(0x256)];continue;case'3':global_registry['cloudProviderTenantId']=_0x2cf11e[this[_0x108068(0x14e)]][_0x108068(0xe6)];continue;case'4':global_registry[_0x108068(0x193)]=_0x2cf11e[this[_0x108068(0x14e)]][_0x108068(0xc9)];continue;case'5':this['setClients']();continue;}break;}}async[a1_0x7451ef(0x255)](_0x176818,_0x5ccf47){const _0x39c0f7=a1_0x7451ef,_0x3fec72={'QrEMw':function(_0x4fd7c5,_0x31303c){return _0x4fd7c5+_0x31303c;},'HiNgr':_0x39c0f7(0x183),'uWbfN':function(_0x45c13b,_0x1372c8){return _0x45c13b-_0x1372c8;},'Tnbfm':function(_0x37a54a,_0x486989){return _0x37a54a(_0x486989);},'cWvEj':function(_0x1675a0,_0x2cff61){return _0x1675a0(_0x2cff61);},'FeJKf':function(_0x1d3773,_0x985dc2){return _0x1d3773(_0x985dc2);},'sPdMs':function(_0x428612,_0x4a5119){return _0x428612(_0x4a5119);},'swMlR':function(_0x38fbf2,_0x136f72){return _0x38fbf2===_0x136f72;},'Mocef':function(_0x4f16e1,_0x366d96){return _0x4f16e1!==_0x366d96;},'wRQex':'Uyicf','roXbk':_0x39c0f7(0x1fa),'KhpCL':function(_0x166539,_0x20ed3e){return _0x166539(_0x20ed3e);},'REHGn':_0x39c0f7(0x1e9),'bgnQf':_0x39c0f7(0x281),'OiOBA':function(_0x5262ee,_0x142577){return _0x5262ee===_0x142577;},'tSomF':function(_0x1e9413,_0x1ab993){return _0x1e9413!==_0x1ab993;},'rUvgY':_0x39c0f7(0x123),'HbKbE':_0x39c0f7(0x289),'pZCWE':function(_0x3c9004,_0x50db33){return _0x3c9004!==_0x50db33;},'oqLGM':_0x39c0f7(0x217),'hYPHK':function(_0x339ec5,_0x357a43){return _0x339ec5===_0x357a43;},'BZmLX':_0x39c0f7(0x272),'KCbvS':'EBNye','HoqwB':function(_0x1256b4,_0x27d7c4){return _0x1256b4<_0x27d7c4;},'jRPXx':'zLUma','EfyVD':'YoxOf','bYQeR':function(_0x20545b,_0x32ea48){return _0x20545b(_0x32ea48);},'ZoZLv':_0x39c0f7(0x25a),'PHEDq':function(_0x4ce621,_0x478c97){return _0x4ce621(_0x478c97);},'ziVVX':function(_0xf41afd,_0x12a688){return _0xf41afd<=_0x12a688;},'PEYCp':function(_0x5d6135,_0x2dec55){return _0x5d6135>_0x2dec55;},'CzqDa':function(_0x386642,_0x5cf38c){return _0x386642!==_0x5cf38c;},'aTiJD':_0x39c0f7(0x1f9),'tspls':_0x39c0f7(0x104)},_0x67d6ac=this[_0x39c0f7(0x14e)][_0x39c0f7(0x201)](),_0x3d6ccc=await _0x3fec72[_0x39c0f7(0x222)](_0x176818,_0x67d6ac+_0x39c0f7(0x153)),_0x53fd10=await _0x3fec72[_0x39c0f7(0x1a9)](_0x176818,_0x67d6ac+_0x39c0f7(0x137)),_0x38bc65=await _0x3fec72[_0x39c0f7(0x146)](_0x176818,_0x67d6ac+_0x39c0f7(0x220)),_0x3eae95=await _0x3fec72[_0x39c0f7(0x11f)](_0x176818,_0x67d6ac+_0x39c0f7(0x12e));global_registry[_0x39c0f7(0x294)]=_0x3d6ccc,global_registry['cloudProviderClientSecret']=_0x53fd10,global_registry[_0x39c0f7(0x21e)]=_0x38bc65,global_registry['cloudProviderSubscriptionId']=_0x3eae95,this[_0x39c0f7(0x241)]();const _0x1a3708=await this[_0x39c0f7(0x10f)](),_0x19574c=_0x1a3708[_0x39c0f7(0x15c)];let _0x2430d6;if(_0x3fec72['swMlR'](_0x19574c,0x0))_0x3fec72['Mocef'](_0x3fec72[_0x39c0f7(0xde)],_0x3fec72[_0x39c0f7(0x1b4)])?_0x2430d6=await _0x3fec72[_0x39c0f7(0x22c)](_0x176818,_0x67d6ac+_0x39c0f7(0x214)):_0x83dd07[_0x39c0f7(0x2b0)](_0x101882);else{if(_0x3fec72['swMlR'](_0x19574c,0x1)){if(_0x3fec72[_0x39c0f7(0xcd)](_0x3fec72[_0x39c0f7(0x11c)],_0x3fec72['bgnQf'])){const _0x10e2c2=_0x2fb8ad[_0x39c0f7(0x139)][_0x39c0f7(0x111)]('-'),_0xb89bb2=_0x3fec72[_0x39c0f7(0x129)](_0x3fec72[_0x39c0f7(0x1df)],_0x10e2c2[_0x3fec72[_0x39c0f7(0x1f7)](_0x10e2c2[_0x39c0f7(0x15c)],0x1)])[_0x39c0f7(0x200)](0x0,0x18);return _0xb89bb2[_0x39c0f7(0x119)]();}else{const _0x577a7e=await _0x3fec72['FeJKf'](_0x176818,'Found\x20only\x20one\x20resource\x20group:\x20'+_0x1a3708[0x0]+'\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20');(_0x3fec72[_0x39c0f7(0xcd)](_0x577a7e,undefined)||_0x3fec72['swMlR'](_0x577a7e,null)||!(_0x3fec72[_0x39c0f7(0xcd)](_0x577a7e['toLowerCase'](),'y')||_0x3fec72[_0x39c0f7(0x1ed)](_0x577a7e[_0x39c0f7(0x119)](),'n')))&&(_0x3fec72['tSomF'](_0x3fec72[_0x39c0f7(0x209)],_0x3fec72[_0x39c0f7(0x209)])?_0x2b71ea=_0x2768c2['id']:(console[_0x39c0f7(0x1d0)](_0x3fec72[_0x39c0f7(0x1d2)]),process[_0x39c0f7(0x188)](0x1))),_0x3fec72[_0x39c0f7(0x1ed)](_0x577a7e['toLowerCase'](),'n')&&(_0x3fec72[_0x39c0f7(0x275)](_0x3fec72[_0x39c0f7(0x1a5)],_0x3fec72['oqLGM'])?_0xa8f49c[_0x39c0f7(0x1d0)]=_0xc902d:process[_0x39c0f7(0x188)](0x0)),_0x2430d6=_0x1a3708[0x0];}}else{if(_0x3fec72['hYPHK'](_0x3fec72[_0x39c0f7(0x1e5)],_0x3fec72[_0x39c0f7(0x151)]))_0x46aad4[_0x39c0f7(0x1d0)]=_0x2b2d04;else{for(let _0x2a98ad=0x0;_0x3fec72[_0x39c0f7(0x138)](_0x2a98ad,_0x1a3708[_0x39c0f7(0x15c)]);_0x2a98ad+=0x1){if(_0x3fec72[_0x39c0f7(0x1af)](_0x3fec72['jRPXx'],_0x3fec72[_0x39c0f7(0x261)]))console[_0x39c0f7(0x221)]('['+_0x3fec72[_0x39c0f7(0x129)](_0x2a98ad,0x1)+']\x20'+_0x1a3708[_0x2a98ad]);else return _0x3f57e5[_0x39c0f7(0x1d0)]('Cannot\x20find\x20VPC\x20'+_0x28ddf6+_0x39c0f7(0x213)+_0x267a61),![];}const _0x5ce983=await _0x3fec72[_0x39c0f7(0xfd)](_0x176818,_0x3fec72['ZoZLv']),_0x1630c9=_0x3fec72[_0x39c0f7(0x13e)](Number,_0x5ce983);if(_0x3fec72['Tnbfm'](isNaN,_0x1630c9)||_0x3fec72['ziVVX'](_0x1630c9,0x0)||_0x3fec72[_0x39c0f7(0x110)](_0x1630c9,_0x19574c)){if(_0x3fec72[_0x39c0f7(0x290)](_0x3fec72[_0x39c0f7(0x1d9)],_0x3fec72[_0x39c0f7(0xbb)]))console['error'](_0x3fec72[_0x39c0f7(0x1d2)]),process['exit'](0x1);else{const _0x462176=new _0x199c28(_0x521695[_0x39c0f7(0x21e)],_0x3c8cc3['cloudProviderClientId'],_0x3225d2[_0x39c0f7(0x2ac)]);this['containerClient']=new _0x113b8e(_0x462176,_0x79e9a8['cloudProviderSubscriptionId']),this[_0x39c0f7(0x27c)]=new _0x322b9c(_0x462176,_0x520496[_0x39c0f7(0x140)]),this[_0x39c0f7(0xb7)]=new _0x30658e(_0x462176,_0x269a2f['cloudProviderSubscriptionId']),this[_0x39c0f7(0x264)]=new _0x5ebbc8(_0x462176,_0x3fc183['cloudProviderSubscriptionId']),this[_0x39c0f7(0x13d)]=new _0x44ce29(_0x462176,_0x5afbcf[_0x39c0f7(0x140)]),this['cred']=_0x462176;}}_0x2430d6=_0x1a3708[_0x3fec72[_0x39c0f7(0x1f7)](_0x1630c9,0x1)];}}}global_registry[_0x39c0f7(0x193)]=_0x2430d6;const _0x10711e={};return _0x10711e['clientId']=_0x3d6ccc,_0x10711e[_0x39c0f7(0x1e6)]=_0x53fd10,_0x10711e[_0x39c0f7(0xe6)]=_0x38bc65,_0x10711e[_0x39c0f7(0x19f)]=_0x3eae95,_0x10711e[_0x39c0f7(0xc9)]=_0x2430d6,_0x5ccf47[_0x39c0f7(0x231)][AZURE]=_0x10711e,_0x5ccf47;}async[a1_0x7451ef(0x10f)](){const _0x47a4d3=a1_0x7451ef,_0x2b1266={};_0x2b1266[_0x47a4d3(0x25b)]=_0x47a4d3(0xf1),_0x2b1266[_0x47a4d3(0x20d)]=_0x47a4d3(0x289),_0x2b1266[_0x47a4d3(0x1ca)]=function(_0xee1400,_0x5b06a3){return _0xee1400===_0x5b06a3;},_0x2b1266['ygrWx']=_0x47a4d3(0x2aa),_0x2b1266[_0x47a4d3(0x207)]=_0x47a4d3(0x133),_0x2b1266[_0x47a4d3(0x210)]=function(_0x471fc8,_0x6ce286){return _0x471fc8===_0x6ce286;},_0x2b1266['eIYxn']=_0x47a4d3(0x114),_0x2b1266[_0x47a4d3(0x1a7)]=_0x47a4d3(0x189);const _0x10ba8f=_0x2b1266,_0x3d42a4=[];try{if(_0x10ba8f[_0x47a4d3(0x1ca)](_0x10ba8f[_0x47a4d3(0xe2)],_0x10ba8f[_0x47a4d3(0x207)]))return _0x40dfcd[_0x47a4d3(0xcf)]=_0x10ba8f[_0x47a4d3(0x25b)],_0x6d0cfe;else{const _0x2f9862=await this[_0x47a4d3(0xb7)][_0x47a4d3(0xf5)][_0x47a4d3(0xfa)]();for await(const _0x1d342a of _0x2f9862){_0x10ba8f['WtHcQ'](_0x10ba8f[_0x47a4d3(0x23b)],_0x10ba8f['etXej'])?(_0x2b4dd8[_0x47a4d3(0x1d0)](_0x10ba8f[_0x47a4d3(0x20d)]),_0x5dc012[_0x47a4d3(0x188)](0x1)):_0x3d42a4[_0x47a4d3(0x2b0)](_0x1d342a[_0x47a4d3(0x176)]);}}}catch(_0x158b0f){}return _0x3d42a4;}async[a1_0x7451ef(0xc0)](){const _0x29ab23=a1_0x7451ef;return this[_0x29ab23(0x1be)]=await this[_0x29ab23(0x1a0)][_0x29ab23(0xd5)]['get'](global_registry[_0x29ab23(0x193)],this[_0x29ab23(0x17c)]),this[_0x29ab23(0x1be)];}async[a1_0x7451ef(0x29f)](){const _0x282eec=a1_0x7451ef,_0x33f4bb=await this['containerClient']['managedClusters']['listClusterAdminCredentials'](global_registry['cloudProviderResourceGroup'],this[_0x282eec(0x17c)]),_0x3f433c=_0x33f4bb[_0x282eec(0x285)][0x0][_0x282eec(0x20c)][_0x282eec(0x142)]();return _0x3f433c;}['getGridHostname'](_0x3e0727){const _0x22b49b=a1_0x7451ef;return _0x3e0727['status'][_0x22b49b(0x18e)][_0x22b49b(0x12c)][0x0][_0x22b49b(0x23d)];}async['isClusterPresent'](){const _0x348b7f=a1_0x7451ef,_0x388db6={};_0x388db6[_0x348b7f(0x284)]=function(_0x134a80,_0x257922){return _0x134a80===_0x257922;},_0x388db6[_0x348b7f(0x105)]=_0x348b7f(0xfc),_0x388db6[_0x348b7f(0x21f)]=function(_0x3dbb62,_0x2c2bfe){return _0x3dbb62!==_0x2c2bfe;},_0x388db6[_0x348b7f(0x21d)]='JdwYW',_0x388db6[_0x348b7f(0x177)]=_0x348b7f(0x1fb),_0x388db6[_0x348b7f(0x27a)]='xQpVx';const _0x4aa7be=_0x388db6,_0x27d7c2=new Array();for await(const _0x136d8c of this[_0x348b7f(0x1a0)][_0x348b7f(0xd5)][_0x348b7f(0x1eb)](global_registry[_0x348b7f(0x193)])){if(_0x4aa7be[_0x348b7f(0x284)](_0x4aa7be[_0x348b7f(0x105)],_0x4aa7be['LddxH']))_0x27d7c2[_0x348b7f(0x2b0)](_0x136d8c);else return!![];}for await(const _0x7253b3 of _0x27d7c2){if(_0x4aa7be['xwHHw'](_0x4aa7be[_0x348b7f(0x21d)],_0x4aa7be[_0x348b7f(0x21d)]))_0x2dec67['push'](_0x44b385);else{if(_0x4aa7be['UYwgT'](_0x7253b3[_0x348b7f(0x176)],this[_0x348b7f(0x17c)]))return _0x4aa7be[_0x348b7f(0x284)](_0x4aa7be[_0x348b7f(0x177)],_0x4aa7be['xdMeY'])?!![]:(await this[_0x348b7f(0xc0)](),!![]);}}return![];}async[a1_0x7451ef(0xdc)](_0x8f3caa=null,_0x5118f4=null){const _0x15bece=a1_0x7451ef,_0x415498={};_0x415498[_0x15bece(0x286)]=_0x15bece(0x22d),_0x415498[_0x15bece(0x126)]=_0x15bece(0x1d5);const _0x4eec3e=_0x415498,_0x478880=_0x4eec3e[_0x15bece(0x286)]['split']('|');let _0x1e205b=0x0;while(!![]){switch(_0x478880[_0x1e205b++]){case'0':this[_0x15bece(0x19d)]();continue;case'1':const _0x55a9ef={};_0x55a9ef['type']=WS_EVENTS[_0x15bece(0x169)],_0x55a9ef[_0x15bece(0x11e)]=_0x4eec3e[_0x15bece(0x126)],this['webSocketUtils'][_0x15bece(0x1c8)](this[_0x15bece(0x2b3)],_0x55a9ef);continue;case'2':await this['createCluster'](_0x8f3caa,_0x5118f4);continue;case'3':return[_0x8f3caa,_0x5118f4];case'4':await this[_0x15bece(0x21b)]();continue;case'5':logger['info'](_0x4eec3e[_0x15bece(0x126)]);continue;}break;}}async['createCluster'](_0x55920d=null,_0x30b095=null){const _0x3ca42d=a1_0x7451ef,_0xd4cffb={};_0xd4cffb['fOUvY']=_0x3ca42d(0x23a),_0xd4cffb[_0x3ca42d(0x2a3)]=_0x3ca42d(0x14d),_0xd4cffb['ZxjFM']=_0x3ca42d(0xce),_0xd4cffb[_0x3ca42d(0x1f8)]=_0x3ca42d(0x16a),_0xd4cffb[_0x3ca42d(0x16b)]=_0x3ca42d(0x16f),_0xd4cffb[_0x3ca42d(0x226)]=_0x3ca42d(0x2ab),_0xd4cffb[_0x3ca42d(0xd1)]=function(_0x5bf38e,_0x1a22ad){return _0x5bf38e!==_0x1a22ad;},_0xd4cffb[_0x3ca42d(0x199)]=function(_0x433fa7,_0x36f431){return _0x433fa7!==_0x36f431;},_0xd4cffb[_0x3ca42d(0x204)]=function(_0x3d51f2,_0x2f775c){return _0x3d51f2!==_0x2f775c;},_0xd4cffb[_0x3ca42d(0x251)]=_0x3ca42d(0x1bd),_0xd4cffb[_0x3ca42d(0xfe)]=_0x3ca42d(0x150),_0xd4cffb['qVfBO']=_0x3ca42d(0x157),_0xd4cffb[_0x3ca42d(0x1c9)]='[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]',_0xd4cffb[_0x3ca42d(0x1cf)]=_0x3ca42d(0x2a1),_0xd4cffb['JuAdV']=_0x3ca42d(0x1a4),_0xd4cffb[_0x3ca42d(0x2b2)]=_0x3ca42d(0xe4);const _0x2f79cf=_0xd4cffb;let _0xeccc7a=await fs[_0x3ca42d(0x252)](path['join'](__dirname,'..',_0x2f79cf[_0x3ca42d(0x155)],_0x2f79cf[_0x3ca42d(0x2a3)],_0x2f79cf[_0x3ca42d(0x1dd)]),_0x2f79cf[_0x3ca42d(0x1f8)]);_0xeccc7a=JSON[_0x3ca42d(0x287)](_0xeccc7a);const _0x1468a4={};_0x1468a4[_0x3ca42d(0x20c)]=this[_0x3ca42d(0x17c)];const _0x22a5a3={};_0x22a5a3[_0x3ca42d(0x20c)]=global_registry[_0x3ca42d(0xe0)];const _0x22ced4={};_0x22ced4[_0x3ca42d(0x20c)]=global_registry[_0x3ca42d(0x1ff)];const _0x4bd2d8={};_0x4bd2d8[_0x3ca42d(0x20c)]=global_registry[_0x3ca42d(0xf9)];const _0x2328cd={};_0x2328cd[_0x3ca42d(0x20c)]=global_registry[_0x3ca42d(0x267)]?_0x2f79cf[_0x3ca42d(0x16b)]:_0x2f79cf[_0x3ca42d(0x226)];const _0x51400b={};_0x51400b['clusterName']=_0x1468a4,_0x51400b[_0x3ca42d(0x101)]=_0x22a5a3,_0x51400b[_0x3ca42d(0x240)]=_0x22ced4,_0x51400b['userMaxNodes']=_0x4bd2d8,_0x51400b['clusterAutoUpgrade']=_0x2328cd;let _0x2d0f0f=_0x51400b;if(_0x2f79cf['ySEqv'](_0x55920d,null)&&_0x2f79cf[_0x3ca42d(0x199)](_0x30b095,null)){if(_0x2f79cf['dCZpI'](_0x2f79cf[_0x3ca42d(0x251)],_0x2f79cf[_0x3ca42d(0x251)]))return _0x21c3f6[_0x3ca42d(0x116)]['loadBalancer'][_0x3ca42d(0x12c)][0x0]['hostname'];else{const _0x556fad={};_0x556fad[_0x3ca42d(0x25f)]=_0x2f79cf[_0x3ca42d(0xfe)],_0x556fad[_0x3ca42d(0x10c)]={},_0x556fad[_0x3ca42d(0x10c)][_0x3ca42d(0xb5)]=_0x2f79cf[_0x3ca42d(0x112)];const _0x15397c={};_0x15397c[_0x3ca42d(0x25f)]=_0x2f79cf[_0x3ca42d(0xfe)],_0x15397c[_0x3ca42d(0x10c)]={},_0x15397c[_0x3ca42d(0x10c)]['description']=_0x2f79cf[_0x3ca42d(0x112)],_0xeccc7a['parameters']={..._0xeccc7a['parameters'],'vpcName':_0x556fad,'subnetName':_0x15397c};const _0x2714f9={};_0x2714f9['vnetSubnetID']=_0x2f79cf[_0x3ca42d(0x1c9)],_0xeccc7a[_0x3ca42d(0x1b5)]=_0x2714f9,_0xeccc7a[_0x3ca42d(0xe7)][0x0]['properties'][_0x3ca42d(0x184)][0x0]={..._0xeccc7a[_0x3ca42d(0xe7)][0x0]['properties'][_0x3ca42d(0x184)][0x0],'vnetSubnetID':_0x2f79cf['xAusa']};const _0x51eb33={};_0x51eb33['value']=_0x55920d;const _0x498910={};_0x498910[_0x3ca42d(0x20c)]=_0x30b095[0x0],_0x2d0f0f={..._0x2d0f0f,'vpcName':_0x51eb33,'subnetName':_0x498910};}}await this[_0x3ca42d(0xb7)][_0x3ca42d(0x1d6)][_0x3ca42d(0x218)](global_registry[_0x3ca42d(0x193)],_0x2f79cf[_0x3ca42d(0x266)],{'properties':{'template':_0xeccc7a,'mode':_0x2f79cf[_0x3ca42d(0x2b2)],'parameters':_0x2d0f0f}});}async[a1_0x7451ef(0x21b)](){const _0x9d467c=a1_0x7451ef,_0x18367f={};_0x18367f['dXrok']=_0x9d467c(0x276),_0x18367f[_0x9d467c(0x170)]=function(_0x3a0787,_0xe3f2c8){return _0x3a0787===_0xe3f2c8;},_0x18367f[_0x9d467c(0x202)]=_0x9d467c(0xe5),_0x18367f[_0x9d467c(0x229)]=_0x9d467c(0x1b1),_0x18367f['tHowZ']=function(_0x1bab28,_0x458b95){return _0x1bab28===_0x458b95;},_0x18367f[_0x9d467c(0x192)]=_0x9d467c(0xd3),_0x18367f['XEtVT']=_0x9d467c(0x181),_0x18367f[_0x9d467c(0xf0)]=_0x9d467c(0x182),_0x18367f[_0x9d467c(0x208)]=function(_0x4eb237,_0x54de9b){return _0x4eb237===_0x54de9b;},_0x18367f[_0x9d467c(0x10b)]='sEqyO',_0x18367f['edZFE']=_0x9d467c(0x186),_0x18367f['LVwDI']=_0x9d467c(0x1e4),_0x18367f[_0x9d467c(0x18b)]=function(_0x327b8f,_0x1db320){return _0x327b8f!==_0x1db320;},_0x18367f[_0x9d467c(0xf2)]=_0x9d467c(0x167),_0x18367f[_0x9d467c(0x212)]='HFgRZ',_0x18367f['TKjmr']=_0x9d467c(0x23f),_0x18367f[_0x9d467c(0x13b)]=_0x9d467c(0x1d7),_0x18367f[_0x9d467c(0x127)]='Created\x20Azure\x20federated\x20identity';const _0x499908=_0x18367f,_0x4bb650=await this[_0x9d467c(0x1fe)]();if(!_0x4bb650){if(_0x499908['KBRGs'](_0x499908[_0x9d467c(0x202)],_0x499908[_0x9d467c(0x202)])){const _0x48a0ac={};_0x48a0ac[_0x9d467c(0x25f)]=WS_EVENTS[_0x9d467c(0x169)],_0x48a0ac[_0x9d467c(0x11e)]=_0x499908[_0x9d467c(0x229)],this['webSocketUtils']['sendEventToBackend'](this['rws'],_0x48a0ac),logger[_0x9d467c(0x18c)](_0x499908[_0x9d467c(0x229)]),await this[_0x9d467c(0x115)]();}else return;}else{if(_0x499908[_0x9d467c(0x197)](_0x499908[_0x9d467c(0x192)],_0x499908[_0x9d467c(0x29b)]))return!![];else logger[_0x9d467c(0x18c)](_0x499908[_0x9d467c(0xf0)]);}const _0x231344=await this[_0x9d467c(0x25e)]();if(!_0x231344){if(_0x499908[_0x9d467c(0x208)](_0x499908['pljPr'],_0x499908[_0x9d467c(0xfb)]))return _0x18159a['error'](_0x9d467c(0x227)+_0x2299f4+':'+_0x29f4c2[_0x9d467c(0x196)]),{};else{const _0x557ae2={};_0x557ae2['type']=WS_EVENTS[_0x9d467c(0x169)],_0x557ae2['message']=_0x499908[_0x9d467c(0x24e)],this[_0x9d467c(0x28c)][_0x9d467c(0x1c8)](this[_0x9d467c(0x2b3)],_0x557ae2),logger[_0x9d467c(0x18c)](_0x499908[_0x9d467c(0x24e)]),await this['createManagedIdentity']();}}else{if(_0x499908[_0x9d467c(0x18b)](_0x499908[_0x9d467c(0xf2)],_0x499908['axjzQ']))logger[_0x9d467c(0x18c)](_0x499908[_0x9d467c(0x185)]);else{_0x23d0b8['info'](_0x499908[_0x9d467c(0xf3)]);const _0x566569={};_0x566569[_0x9d467c(0x25f)]=_0x340d18[_0x9d467c(0xc7)],_0x566569[_0x9d467c(0x11e)]=_0x499908[_0x9d467c(0xf3)],this['webSocketUtils'][_0x9d467c(0x1c8)](this[_0x9d467c(0x2b3)],_0x566569);const _0x2edc34={};_0x2edc34['enabled']=!![];const _0x34e0ad={'workloadIdentity':_0x2edc34,..._0x3cb456['securityProfile']};_0xb9563d['securityProfile']=_0x34e0ad;}}logger[_0x9d467c(0x18c)](_0x499908['ljjsf']),await this[_0x9d467c(0x117)](),logger['info'](_0x499908['gSoSh']);}async['createStorageAccount'](){const _0x801b38=a1_0x7451ef,_0x35dc6e={};_0x35dc6e[_0x801b38(0x1c1)]='templates',_0x35dc6e[_0x801b38(0x20a)]=_0x801b38(0x14d),_0x35dc6e['SixSf']=_0x801b38(0x2a5),_0x35dc6e[_0x801b38(0x162)]=_0x801b38(0x16a),_0x35dc6e[_0x801b38(0x18d)]=_0x801b38(0x10e),_0x35dc6e[_0x801b38(0x223)]=_0x801b38(0xe4),_0x35dc6e[_0x801b38(0x270)]='Blob\x20delete\x20lifecycle',_0x35dc6e['VcAiX']='Lifecycle',_0x35dc6e['WdIpL']=_0x801b38(0x1b8),_0x35dc6e['XyMjM']=_0x801b38(0x1ee);const _0x1a4e66=_0x35dc6e;let _0x311a91=await fs[_0x801b38(0x252)](path[_0x801b38(0x15a)](__dirname,'..',_0x1a4e66[_0x801b38(0x1c1)],_0x1a4e66[_0x801b38(0x20a)],_0x1a4e66['SixSf']),_0x1a4e66[_0x801b38(0x162)]);_0x311a91=JSON[_0x801b38(0x287)](_0x311a91);const _0x482a73=this[_0x801b38(0x15d)](),_0x38dd71={};_0x38dd71[_0x801b38(0x20c)]=_0x482a73;const _0xdca6b3={};_0xdca6b3[_0x801b38(0x148)]=_0x38dd71,await this['resourceClient'][_0x801b38(0x1d6)][_0x801b38(0x218)](global_registry['cloudProviderResourceGroup'],_0x1a4e66[_0x801b38(0x18d)],{'properties':{'template':_0x311a91,'mode':_0x1a4e66[_0x801b38(0x223)],'parameters':_0xdca6b3}});const _0x1d6b64={};_0x1d6b64['daysAfterCreationGreaterThan']=0x3c;const _0x1b8fc5={};_0x1b8fc5[_0x801b38(0x254)]=_0x1d6b64;const _0x483456={};_0x483456[_0x801b38(0x122)]=_0x1b8fc5;const _0x5b2827={};_0x5b2827['enabled']=!![],_0x5b2827[_0x801b38(0x176)]=_0x1a4e66['wOQGZ'],_0x5b2827[_0x801b38(0x25f)]=_0x1a4e66[_0x801b38(0x191)],_0x5b2827[_0x801b38(0x1d4)]={},_0x5b2827[_0x801b38(0x1d4)][_0x801b38(0x2a8)]=_0x483456,_0x5b2827[_0x801b38(0x1d4)][_0x801b38(0x21c)]={},_0x5b2827[_0x801b38(0x1d4)][_0x801b38(0x21c)]['blobTypes']=[_0x1a4e66[_0x801b38(0x1ae)]];const _0x480875={};_0x480875[_0x801b38(0x224)]=[_0x5b2827];const _0x57304b={};_0x57304b[_0x801b38(0xbe)]=_0x480875;const _0x1a9e82=_0x57304b;await this[_0x801b38(0x27c)][_0x801b38(0x219)][_0x801b38(0x250)](global_registry[_0x801b38(0x193)],_0x482a73,_0x1a4e66['XyMjM'],_0x1a9e82);}async[a1_0x7451ef(0x1c4)](){const _0x237462=a1_0x7451ef,_0x233f09={};_0x233f09[_0x237462(0x22b)]=_0x237462(0x23a),_0x233f09[_0x237462(0x16d)]=_0x237462(0x14d),_0x233f09[_0x237462(0x20e)]=_0x237462(0x13a),_0x233f09[_0x237462(0xda)]=_0x237462(0x16a),_0x233f09[_0x237462(0x1e7)]=_0x237462(0x13f),_0x233f09[_0x237462(0x20f)]=_0x237462(0xe4);const _0x4c8a70=_0x233f09;let _0x1f3959=await fs[_0x237462(0x252)](path[_0x237462(0x15a)](__dirname,'..',_0x4c8a70['BiAXT'],_0x4c8a70[_0x237462(0x16d)],_0x4c8a70[_0x237462(0x20e)]),_0x4c8a70[_0x237462(0xda)]);_0x1f3959=JSON[_0x237462(0x287)](_0x1f3959),await this[_0x237462(0xb7)]['deployments'][_0x237462(0x218)](global_registry[_0x237462(0x193)],_0x4c8a70[_0x237462(0x1e7)],{'properties':{'template':_0x1f3959,'mode':_0x4c8a70[_0x237462(0x20f)],'parameters':{'clusterName':{'value':this['clusterName']}}}});}async[a1_0x7451ef(0x117)](){const _0x46a39c=a1_0x7451ef,_0x4521a3={};_0x4521a3[_0x46a39c(0x17d)]=_0x46a39c(0x108),_0x4521a3[_0x46a39c(0xbf)]=_0x46a39c(0xba),_0x4521a3['KEkWL']=function(_0x2b5897,_0x113352){return _0x2b5897===_0x113352;},_0x4521a3[_0x46a39c(0x107)]=_0x46a39c(0x1d3),_0x4521a3[_0x46a39c(0xd6)]=_0x46a39c(0x232),_0x4521a3[_0x46a39c(0x147)]='hub',_0x4521a3[_0x46a39c(0x249)]=_0x46a39c(0xdd),_0x4521a3['sCtpd']=_0x46a39c(0x29e),_0x4521a3[_0x46a39c(0x17e)]=_0x46a39c(0x23a),_0x4521a3[_0x46a39c(0x19b)]=_0x46a39c(0x14d),_0x4521a3[_0x46a39c(0x24b)]=_0x46a39c(0x16a),_0x4521a3[_0x46a39c(0xee)]=_0x46a39c(0xff),_0x4521a3[_0x46a39c(0x18a)]='Incremental';const _0x16f5a0=_0x4521a3;if(!this[_0x46a39c(0x1be)]){if(_0x16f5a0[_0x46a39c(0xbc)](_0x16f5a0['iSzLy'],_0x16f5a0['Swhgn'])){const _0x47101c={};_0x47101c[_0x46a39c(0x116)]=!![],_0x47101c[_0x46a39c(0x1d0)]=null,_0x47101c[_0x46a39c(0xcf)]=_0x16f5a0[_0x46a39c(0x17d)];const _0x577b3e=_0x47101c;return _0x577b3e;}else await this[_0x46a39c(0xc0)]();}const _0x31bed9=this[_0x46a39c(0x1be)]?.[_0x46a39c(0xeb)]?.[_0x46a39c(0x1e2)],_0xe1f307=[_0x16f5a0['hKHkl'],_0x16f5a0[_0x46a39c(0x249)]];for await(const _0x3ac7b8 of _0xe1f307){if(_0x16f5a0[_0x46a39c(0xbc)](_0x16f5a0['sCtpd'],_0x16f5a0[_0x46a39c(0x28b)])){let _0x1657d7=await fs[_0x46a39c(0x252)](path[_0x46a39c(0x15a)](__dirname,'..',_0x16f5a0[_0x46a39c(0x17e)],_0x16f5a0[_0x46a39c(0x19b)],_0x46a39c(0x29c)+_0x3ac7b8+_0x46a39c(0x292)),_0x16f5a0['MmYxP']);_0x1657d7=JSON['parse'](_0x1657d7);const _0xf32649={};_0xf32649[_0x46a39c(0x20c)]=_0x31bed9,await this[_0x46a39c(0xb7)]['deployments']['beginCreateOrUpdateAndWait'](global_registry['cloudProviderResourceGroup'],_0x16f5a0[_0x46a39c(0xee)],{'properties':{'template':_0x1657d7,'mode':_0x16f5a0['MBKNb'],'parameters':{'oidcIssuer':_0xf32649,'gridName':{'value':this[_0x46a39c(0x165)]},'clusterName':{'value':this[_0x46a39c(0x17c)]}}}});}else{const _0x316845=_0x16f5a0[_0x46a39c(0xbf)][_0x46a39c(0x111)]('|');let _0x3ff96c=0x0;while(!![]){switch(_0x316845[_0x3ff96c++]){case'0':_0x1b80b8['cloudProviderSubscriptionId']=_0x2d6314[this[_0x46a39c(0x14e)]][_0x46a39c(0x19f)];continue;case'1':_0x38e00a['cloudProviderTenantId']=_0x520c8e[this[_0x46a39c(0x14e)]][_0x46a39c(0xe6)];continue;case'2':_0x4559f4['cloudProviderClientId']=_0x1238b1[this[_0x46a39c(0x14e)]][_0x46a39c(0x256)];continue;case'3':this[_0x46a39c(0x241)]();continue;case'4':_0x4aa5a7[_0x46a39c(0x2ac)]=_0x3a7db8[this['cloudProviderName']][_0x46a39c(0x1e6)];continue;case'5':_0x9e1903[_0x46a39c(0x193)]=_0x1a423e[this[_0x46a39c(0x14e)]][_0x46a39c(0xc9)];continue;}break;}}}}async[a1_0x7451ef(0xf4)](_0x25ac73,_0x43ee79,_0x4060bc,_0x9fce92,_0x3f0e79){const _0x508ad4=a1_0x7451ef,_0x55a218={};_0x55a218[_0x508ad4(0x225)]=_0x508ad4(0x1de),_0x55a218[_0x508ad4(0x1f3)]=_0x508ad4(0x134);const _0xba226f=_0x55a218,_0xb86000={};_0xb86000['type']=WS_EVENTS[_0x508ad4(0x169)],_0xb86000[_0x508ad4(0x11e)]=_0xba226f[_0x508ad4(0x225)],this['webSocketUtils'][_0x508ad4(0x1c8)](this[_0x508ad4(0x2b3)],_0xb86000),logger[_0x508ad4(0x18c)](_0xba226f[_0x508ad4(0x225)]),await this[_0x508ad4(0xed)]();const _0x6588b={};_0x6588b['type']=WS_EVENTS[_0x508ad4(0x169)],_0x6588b[_0x508ad4(0x11e)]=_0xba226f[_0x508ad4(0x1f3)],this[_0x508ad4(0x28c)]['sendEventToBackend'](this[_0x508ad4(0x2b3)],_0x6588b);}async[a1_0x7451ef(0xed)](){const _0x2ed32f=a1_0x7451ef,_0x5b6d32={};_0x5b6d32['eVbrO']=_0x2ed32f(0x26e),_0x5b6d32['nBbnn']=function(_0x511a1c,_0x16652a){return _0x511a1c===_0x16652a;},_0x5b6d32[_0x2ed32f(0x1bb)]=_0x2ed32f(0x1aa),_0x5b6d32['RiVWr']=_0x2ed32f(0x23a),_0x5b6d32[_0x2ed32f(0xb8)]=_0x2ed32f(0x245),_0x5b6d32[_0x2ed32f(0x173)]=_0x2ed32f(0x228),_0x5b6d32[_0x2ed32f(0x257)]=_0x2ed32f(0x16a),_0x5b6d32[_0x2ed32f(0x100)]='turboscale-federated-deployment',_0x5b6d32[_0x2ed32f(0x297)]='Incremental';const _0x3e2c49=_0x5b6d32;if(!this['clusterInfo']){if(_0x3e2c49[_0x2ed32f(0x28e)](_0x3e2c49[_0x2ed32f(0x1bb)],_0x3e2c49[_0x2ed32f(0x1bb)]))await this['getClusterInfo']();else throw new _0x88588b(_0x3e2c49[_0x2ed32f(0x1da)],_0x2ed32f(0x2a0)+_0x40dfdc[_0x2ed32f(0x299)](_0x5836a5));}const _0xe78f1c=this['clusterInfo']?.['oidcIssuerProfile']?.['issuerURL'];let _0x3d34d9=await fs[_0x2ed32f(0x252)](path[_0x2ed32f(0x15a)](__dirname,'..',_0x3e2c49['RiVWr'],_0x3e2c49[_0x2ed32f(0xb8)],_0x3e2c49[_0x2ed32f(0x173)]),_0x3e2c49['eDFnJ']);_0x3d34d9=JSON[_0x2ed32f(0x287)](_0x3d34d9);const _0x186aef={};_0x186aef[_0x2ed32f(0x20c)]=_0xe78f1c,await this[_0x2ed32f(0xb7)][_0x2ed32f(0x1d6)][_0x2ed32f(0x218)](global_registry[_0x2ed32f(0x193)],_0x3e2c49['xLcSr'],{'properties':{'template':_0x3d34d9,'mode':_0x3e2c49[_0x2ed32f(0x297)],'parameters':{'oidcIssuer':_0x186aef,'namespace':{'value':global_registry[_0x2ed32f(0x172)]},'clusterName':{'value':this['clusterName']}}}});}async[a1_0x7451ef(0x1fe)](){const _0x35291c=a1_0x7451ef,_0x13c0c2={'fBSUn':_0x35291c(0x106),'Lxvim':function(_0x566a2a,_0x2e0fee,_0x279a66){return _0x566a2a(_0x2e0fee,_0x279a66);},'vnZUE':function(_0x52fc18,_0x1b16f3){return _0x52fc18!==_0x1b16f3;},'pKDFU':_0x35291c(0x1b9),'AQhFU':_0x35291c(0x17f),'KJELr':function(_0x1a131e,_0x563a0a){return _0x1a131e!==_0x563a0a;},'KSkkI':_0x35291c(0x195),'mMeiA':function(_0x5e8899,_0x2d219b){return _0x5e8899===_0x2d219b;},'CAjLN':function(_0x453012,_0x253c13){return _0x453012!==_0x253c13;},'aOhhP':_0x35291c(0xec)},_0x3e63a9=this[_0x35291c(0x15d)](),_0x1d59c2=new Array();for await(const _0x3cc8b0 of this['storageClient'][_0x35291c(0x14f)][_0x35291c(0x1eb)](global_registry[_0x35291c(0x193)])){if(_0x13c0c2[_0x35291c(0x283)](_0x13c0c2[_0x35291c(0x13c)],_0x13c0c2[_0x35291c(0x158)]))_0x1d59c2[_0x35291c(0x2b0)](_0x3cc8b0);else{_0x1af33e[_0x35291c(0x18c)](_0x13c0c2[_0x35291c(0x293)]);const _0xd6497f={};_0xd6497f[_0x35291c(0x25f)]=_0x4d8066[_0x35291c(0xc7)],_0xd6497f[_0x35291c(0x11e)]=_0x13c0c2[_0x35291c(0x293)],this[_0x35291c(0x28c)][_0x35291c(0x1c8)](this['rws'],_0xd6497f),_0x3cf6c6[_0x35291c(0x280)]=![];}}for await(const _0x210fdd of _0x1d59c2){if(_0x13c0c2[_0x35291c(0x247)](_0x13c0c2[_0x35291c(0x25d)],_0x13c0c2[_0x35291c(0x25d)]))_0x35b873[_0x35291c(0x2b0)](_0x18bce3);else{if(_0x13c0c2[_0x35291c(0x1c0)](_0x210fdd[_0x35291c(0x176)],_0x3e63a9)){if(_0x13c0c2['CAjLN'](_0x13c0c2['aOhhP'],_0x13c0c2['aOhhP']))_0x13c0c2[_0x35291c(0x1d8)](_0x890359,()=>_0x187c75(),0x3e8);else return!![];}}}return![];}async[a1_0x7451ef(0x25e)](){const _0x442dce=a1_0x7451ef,_0x42f4a8={};_0x42f4a8['KDxqn']=function(_0x527504,_0x3832c5){return _0x527504===_0x3832c5;},_0x42f4a8[_0x442dce(0x11a)]=_0x442dce(0x289),_0x42f4a8[_0x442dce(0xf7)]=function(_0x3b3e57,_0x5d427f){return _0x3b3e57!==_0x5d427f;},_0x42f4a8[_0x442dce(0x2ae)]=_0x442dce(0x198),_0x42f4a8['TyBAr']=_0x442dce(0x1ec),_0x42f4a8[_0x442dce(0x102)]=_0x442dce(0x1fc),_0x42f4a8[_0x442dce(0x109)]='Azzlm',_0x42f4a8['vRkJn']=_0x442dce(0x269);const _0x2a4d97=_0x42f4a8,_0x4b3525=new Array();for await(const _0x3396c4 of this['resourceClient'][_0x442dce(0xe7)][_0x442dce(0x1eb)](global_registry[_0x442dce(0x193)])){if(_0x2a4d97[_0x442dce(0xf7)](_0x2a4d97[_0x442dce(0x2ae)],_0x2a4d97[_0x442dce(0x2ae)])){if(_0x2a4d97[_0x442dce(0x26f)](_0x1a2410['name'],_0x59c02c))return!![];}else _0x4b3525[_0x442dce(0x2b0)](_0x3396c4);}for await(const _0x3e0032 of _0x4b3525){if(_0x2a4d97[_0x442dce(0xf7)](_0x2a4d97['TyBAr'],_0x2a4d97[_0x442dce(0x102)])){if(_0x2a4d97[_0x442dce(0x26f)](_0x3e0032[_0x442dce(0x176)],_0x442dce(0x23c)+this[_0x442dce(0x17c)])){if(_0x2a4d97['KDxqn'](_0x2a4d97[_0x442dce(0x109)],_0x2a4d97[_0x442dce(0x236)]))_0x55f894[_0x442dce(0x1d0)](_0x2a4d97[_0x442dce(0x11a)]),_0x1f9570[_0x442dce(0x188)](0x1);else return!![];}}else{if(_0x2a4d97[_0x442dce(0x26f)](_0x588635['name'],_0x580f69))return!![];}}return![];}async['getResourceClientId'](_0x36d180,_0x4e8502=0x3){const _0x436853=a1_0x7451ef,_0x1e77af={'UAZku':_0x436853(0x182),'kDDNw':'allowed','RRnxz':_0x436853(0x1b6),'NmItK':function(_0x30290b,_0x3979a7){return _0x30290b!==_0x3979a7;},'uMhyU':_0x436853(0x278),'BKIbl':function(_0x80e7a8,_0x5ab1c4,_0x405005){return _0x80e7a8(_0x5ab1c4,_0x405005);},'DRNeX':function(_0x12d0de,_0x34ff17){return _0x12d0de!==_0x34ff17;},'fwGET':_0x436853(0x14a),'eMWSn':_0x436853(0x268),'dHZRB':function(_0x2a7f20,_0x1fc495){return _0x2a7f20!==_0x1fc495;},'VqYGn':'LSWpg','SOelE':function(_0x4edaf0,_0x221163){return _0x4edaf0===_0x221163;},'NJSiy':_0x436853(0x22f),'YLzxJ':function(_0x266299,_0x4e1c83){return _0x266299!==_0x4e1c83;},'mHYYn':'saysb','GfyyT':_0x436853(0x12b),'xYYCl':'2023-01-31','RALbE':_0x436853(0x17b),'NPZmr':_0x436853(0xd7),'qEegW':function(_0x2b12e3,_0x432234){return _0x2b12e3<=_0x432234;},'tSHSl':function(_0x1d5833,_0x1b0ab2){return _0x1d5833!==_0x1b0ab2;},'TVMUa':_0x436853(0x1f5),'RSpBg':function(_0x579346,_0x11ea9e){return _0x579346-_0x11ea9e;}};try{if(_0x1e77af[_0x436853(0xd4)](_0x1e77af[_0x436853(0x288)],_0x1e77af[_0x436853(0x216)])){const _0x283c88=new Array();for await(const _0x107fb9 of this['resourceClient'][_0x436853(0xe7)][_0x436853(0x1eb)](global_registry[_0x436853(0x193)])){if(_0x1e77af['dHZRB'](_0x1e77af[_0x436853(0x16c)],_0x1e77af[_0x436853(0x16c)]))return _0x44aa7f[_0x436853(0x1d0)]=_0x5e8fda['error'],_0x132213;else _0x283c88[_0x436853(0x2b0)](_0x107fb9);}let _0x47cf9c='';for await(const _0x2bbe15 of _0x283c88){if(_0x1e77af[_0x436853(0x1ad)](_0x1e77af[_0x436853(0xb9)],_0x1e77af[_0x436853(0xb9)]))_0x1e77af['SOelE'](_0x2bbe15[_0x436853(0x176)],_0x36d180)&&(_0x1e77af[_0x436853(0x235)](_0x1e77af[_0x436853(0x1f4)],_0x1e77af[_0x436853(0x1b7)])?_0x47cf9c=_0x2bbe15['id']:_0x438c2b[_0x436853(0x18c)](_0x1e77af[_0x436853(0x12f)]));else return[!![],_0x563a89];}const _0x2b9865=await this[_0x436853(0xb7)][_0x436853(0xe7)][_0x436853(0x180)](_0x47cf9c,_0x1e77af[_0x436853(0xe1)]);return _0x2b9865[_0x436853(0xe3)][_0x436853(0x256)];}else{const _0x315f29=_0x17dfb7[_0x436853(0xd9)](_0x37be0d);_0x488979+='\x0a\x09'+_0x148c41+':\x20'+(_0x315f29?_0x1e77af['kDDNw']:_0x1e77af[_0x436853(0x258)]),!_0x315f29&&(_0x4f4a62[_0x436853(0x116)]=![]);}}catch(_0x2e7292){if(_0x1e77af['SOelE'](_0x1e77af[_0x436853(0x295)],_0x1e77af[_0x436853(0x12a)]))_0x357a0b[_0x436853(0x2b0)](_0x1e94cb[_0x436853(0x176)]);else{if(_0x1e77af['qEegW'](_0x4e8502,0x0)){if(_0x1e77af['tSHSl'](_0x1e77af[_0x436853(0x130)],_0x1e77af[_0x436853(0x130)]))_0x4f8bd9[_0x436853(0x2b0)](..._0x49d7f7[_0x436853(0x2a8)]);else return logger['error']('[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20'+_0x2e7292+':'+_0x2e7292['stack']),{};}return await new Promise(_0x25fd61=>{const _0x57bba8=_0x436853;_0x1e77af[_0x57bba8(0x11d)](_0x1e77af[_0x57bba8(0x28d)],_0x1e77af[_0x57bba8(0x28d)])?_0xadb1a4[_0x57bba8(0x188)](0x0):_0x1e77af[_0x57bba8(0x2ad)](setTimeout,()=>_0x25fd61(),0x3e8);}),this[_0x436853(0x159)](_0x36d180,_0x1e77af[_0x436853(0x1f2)](_0x4e8502,0x1));}}}async[a1_0x7451ef(0x1b2)](){const _0x34bfb2=a1_0x7451ef,_0x1e9e8d={};_0x1e9e8d[_0x34bfb2(0x12d)]=function(_0x889bec,_0xea639a){return _0x889bec!==_0xea639a;},_0x1e9e8d['nKIqH']='jwNTg',_0x1e9e8d[_0x34bfb2(0x1ea)]=_0x34bfb2(0x234),_0x1e9e8d[_0x34bfb2(0x1cd)]=function(_0x44dc05,_0x565f8f){return _0x44dc05===_0x565f8f;},_0x1e9e8d[_0x34bfb2(0x1ef)]=_0x34bfb2(0x143),_0x1e9e8d[_0x34bfb2(0x26a)]=_0x34bfb2(0x132),_0x1e9e8d[_0x34bfb2(0x1c5)]=function(_0x5e1aa7,_0x10cee4){return _0x5e1aa7===_0x10cee4;},_0x1e9e8d[_0x34bfb2(0xd2)]=_0x34bfb2(0x113),_0x1e9e8d[_0x34bfb2(0x24a)]=_0x34bfb2(0x2b1);const _0x4f9b87=_0x1e9e8d;!this[_0x34bfb2(0x1be)]&&(_0x4f9b87[_0x34bfb2(0x12d)](_0x4f9b87['nKIqH'],_0x4f9b87['LKaqR'])?await this[_0x34bfb2(0xc0)]():_0x3e9e60['vpcInfo'][_0x34bfb2(0x2b0)](_0xc401b8));const _0x58cc1a=this[_0x34bfb2(0x1be)]?.[_0x34bfb2(0x1fd)]||{};if(_0x58cc1a&&_0x4f9b87[_0x34bfb2(0x1cd)](_0x58cc1a[_0x4f9b87[_0x34bfb2(0x1ef)]],_0x4f9b87[_0x34bfb2(0x26a)])){if(_0x4f9b87[_0x34bfb2(0x1c5)](_0x4f9b87['iwkYA'],_0x4f9b87[_0x34bfb2(0x24a)]))_0x9ba546[_0x34bfb2(0x2b0)](_0xfc780a);else return!![];}return![];}async[a1_0x7451ef(0x174)](_0x87a980,_0x231e7c){const _0x527c22=a1_0x7451ef,_0x52a185={'KRYlf':function(_0x55a6e1,_0x31e7a4){return _0x55a6e1(_0x31e7a4);},'oAixf':_0x527c22(0x1ac)};await _0x52a185['KRYlf'](deleteAgent,_0x87a980),await _0x52a185[_0x527c22(0x215)](deleteRoutingDeps,_0x87a980);const _0x263224=this[_0x527c22(0x1a0)];logger[_0x527c22(0x18c)](_0x527c22(0x1e8)+this[_0x527c22(0x17c)]),await _0x263224['managedClusters'][_0x527c22(0x2a7)](global_registry[_0x527c22(0x193)],this['clusterName']),logger[_0x527c22(0x18c)](_0x52a185[_0x527c22(0x243)]);}async[a1_0x7451ef(0xcc)](){const _0x52a1c5=a1_0x7451ef,_0xd7c4ca={};_0xd7c4ca[_0x52a1c5(0xf6)]=function(_0xbf7d9f,_0x34b030){return _0xbf7d9f===_0x34b030;},_0xd7c4ca[_0x52a1c5(0x248)]=_0x52a1c5(0x150),_0xd7c4ca[_0x52a1c5(0x1f1)]='Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.',_0xd7c4ca[_0x52a1c5(0x28a)]=_0x52a1c5(0x244),_0xd7c4ca[_0x52a1c5(0x18f)]=_0x52a1c5(0x2a1),_0xd7c4ca[_0x52a1c5(0x161)]=function(_0x305ecf,_0x2f39f0){return _0x305ecf!==_0x2f39f0;},_0xd7c4ca[_0x52a1c5(0x26c)]=_0x52a1c5(0xb6),_0xd7c4ca['tdMdZ']=function(_0x889744,_0x2716e8){return _0x889744&&_0x2716e8;},_0xd7c4ca[_0x52a1c5(0x262)]=_0x52a1c5(0x271),_0xd7c4ca['JSiEn']=_0x52a1c5(0x121),_0xd7c4ca[_0x52a1c5(0xc4)]=function(_0x11f514,_0x522bef){return _0x11f514!==_0x522bef;},_0xd7c4ca[_0x52a1c5(0x11b)]=_0x52a1c5(0x27e),_0xd7c4ca[_0x52a1c5(0x175)]=_0x52a1c5(0xc3),_0xd7c4ca['uRVDR']=_0x52a1c5(0x24c),_0xd7c4ca[_0x52a1c5(0x118)]='Enabling\x20Workload\x20identity\x20for\x20the\x20cluster',_0xd7c4ca[_0x52a1c5(0xca)]='tRDDe',_0xd7c4ca[_0x52a1c5(0x238)]=_0x52a1c5(0x24d),_0xd7c4ca[_0x52a1c5(0xbd)]='Enabling\x20Local\x20account\x20for\x20the\x20cluster';const _0x75d3c2=_0xd7c4ca;if(!this['clusterInfo']){if(_0x75d3c2[_0x52a1c5(0x161)](_0x75d3c2[_0x52a1c5(0x26c)],_0x75d3c2[_0x52a1c5(0x26c)]))return _0x123ddc[_0x52a1c5(0x1d0)](_0x52a1c5(0x19c)+_0x41c8a0+_0x52a1c5(0xea)+_0x3e6d1f),[![],[]];else await this[_0x52a1c5(0xc0)]();}const _0xee6f15=this[_0x52a1c5(0x1be)],_0x50e933=this[_0x52a1c5(0x1be)]?.[_0x52a1c5(0xeb)]?.[_0x52a1c5(0x206)]||![],_0x5b22cf=this[_0x52a1c5(0x1be)]?.[_0x52a1c5(0x22e)]?.['workloadIdentity']?.['enabled']||![],_0xce36bf=!this['clusterInfo']?.[_0x52a1c5(0x280)]||![];if(_0x75d3c2[_0x52a1c5(0x15b)](_0x50e933,_0x5b22cf)&&_0xce36bf){if(_0x75d3c2[_0x52a1c5(0xf6)](_0x75d3c2[_0x52a1c5(0x262)],_0x75d3c2[_0x52a1c5(0x135)]))_0x17346f['push'](_0x12155f);else return;}if(!_0x50e933){if(_0x75d3c2[_0x52a1c5(0xc4)](_0x75d3c2[_0x52a1c5(0x11b)],_0x75d3c2[_0x52a1c5(0x11b)]))_0x75d3c2['djOnW'](_0xb92705[_0x52a1c5(0x176)],_0x447577)&&(_0x567cbb=_0xcdd3e['id']);else{logger[_0x52a1c5(0x18c)](_0x75d3c2[_0x52a1c5(0x175)]);const _0x4e9b71={};_0x4e9b71[_0x52a1c5(0x25f)]=WS_EVENTS[_0x52a1c5(0xc7)],_0x4e9b71[_0x52a1c5(0x11e)]=_0x75d3c2[_0x52a1c5(0x175)],this[_0x52a1c5(0x28c)]['sendEventToBackend'](this[_0x52a1c5(0x2b3)],_0x4e9b71),_0xee6f15[_0x52a1c5(0xeb)]['enabled']=!![];}}if(!_0x5b22cf){if(_0x75d3c2['JJjXV'](_0x75d3c2['uRVDR'],_0x75d3c2[_0x52a1c5(0x21a)])){if(_0x75d3c2[_0x52a1c5(0xf6)](_0x49c89e[_0x52a1c5(0x176)],_0x52a1c5(0x23c)+this[_0x52a1c5(0x17c)]))return!![];}else{logger[_0x52a1c5(0x18c)](_0x75d3c2[_0x52a1c5(0x118)]);const _0x2d85ad={};_0x2d85ad[_0x52a1c5(0x25f)]=WS_EVENTS['RESOURCES'],_0x2d85ad[_0x52a1c5(0x11e)]=_0x75d3c2[_0x52a1c5(0x118)],this[_0x52a1c5(0x28c)]['sendEventToBackend'](this[_0x52a1c5(0x2b3)],_0x2d85ad);const _0x3610f4={};_0x3610f4['enabled']=!![],_0xee6f15[_0x52a1c5(0x22e)]={'workloadIdentity':_0x3610f4,..._0xee6f15[_0x52a1c5(0x22e)]};}}if(!_0xce36bf){if(_0x75d3c2[_0x52a1c5(0x161)](_0x75d3c2[_0x52a1c5(0xca)],_0x75d3c2[_0x52a1c5(0x238)])){logger[_0x52a1c5(0x18c)](_0x75d3c2[_0x52a1c5(0xbd)]);const _0x4bad6a={};_0x4bad6a[_0x52a1c5(0x25f)]=WS_EVENTS[_0x52a1c5(0xc7)],_0x4bad6a['message']=_0x75d3c2[_0x52a1c5(0xbd)],this[_0x52a1c5(0x28c)][_0x52a1c5(0x1c8)](this[_0x52a1c5(0x2b3)],_0x4bad6a),_0xee6f15[_0x52a1c5(0x280)]=![];}else{const _0x30db1e={};_0x30db1e['type']=_0x75d3c2[_0x52a1c5(0x248)],_0x30db1e[_0x52a1c5(0x10c)]={},_0x30db1e[_0x52a1c5(0x10c)]['description']=_0x75d3c2['zvZtQ'];const _0x4e4e99={};_0x4e4e99['type']=_0x75d3c2['KJTNF'],_0x4e4e99[_0x52a1c5(0x10c)]={},_0x4e4e99[_0x52a1c5(0x10c)]['description']=_0x75d3c2[_0x52a1c5(0x1f1)];const _0x516d0d={..._0x3e83c7[_0x52a1c5(0x1e0)]};_0x516d0d[_0x52a1c5(0x279)]=_0x30db1e,_0x516d0d['subnetName']=_0x4e4e99,_0x28f524[_0x52a1c5(0x1e0)]=_0x516d0d;const _0x2e73cd={};_0x2e73cd[_0x52a1c5(0xc1)]=_0x75d3c2[_0x52a1c5(0x28a)],_0x22a734[_0x52a1c5(0x1b5)]=_0x2e73cd;const _0x2d6a1c={..._0x15046b['resources'][0x0][_0x52a1c5(0xe3)]['agentPoolProfiles'][0x0]};_0x2d6a1c[_0x52a1c5(0xc1)]=_0x75d3c2[_0x52a1c5(0x18f)],_0x2e76b4[_0x52a1c5(0xe7)][0x0][_0x52a1c5(0xe3)][_0x52a1c5(0x184)][0x0]=_0x2d6a1c;const _0x895509={};_0x895509[_0x52a1c5(0x20c)]=_0xbefdfc;const _0x8152f1={};_0x8152f1[_0x52a1c5(0x20c)]=_0x4f8e4f[0x0];const _0x487ca2={..._0x1d2091};_0x487ca2[_0x52a1c5(0x279)]=_0x895509,_0x487ca2[_0x52a1c5(0x154)]=_0x8152f1,_0x473054=_0x487ca2;}}await this[_0x52a1c5(0x1a0)][_0x52a1c5(0xd5)][_0x52a1c5(0x218)](global_registry['cloudProviderResourceGroup'],this[_0x52a1c5(0x17c)],_0xee6f15),await this[_0x52a1c5(0xc0)]();}async[a1_0x7451ef(0x19d)](){const _0x544dc5=a1_0x7451ef,_0x3083cd={};_0x3083cd[_0x544dc5(0x291)]='Managed\x20identity\x20already\x20exists,\x20skipping',_0x3083cd[_0x544dc5(0x145)]=function(_0x3868c5,_0x1229b4){return _0x3868c5===_0x1229b4;},_0x3083cd[_0x544dc5(0x23e)]=_0x544dc5(0x29a);const _0x5f1da7=_0x3083cd,_0x233fb0=await this['networkClient'][_0x544dc5(0x29d)][_0x544dc5(0x136)](global_registry[_0x544dc5(0x193)]),_0x2b0989={};_0x2b0989[_0x544dc5(0x1f6)]=global_registry[_0x544dc5(0x1c2)],_0x2b0989['accessKey']=global_registry['bstackAccesskey'],_0x2b0989[_0x544dc5(0x231)]=AZURE,_0x2b0989[_0x544dc5(0x1db)]=[];const _0x12857a=_0x2b0989;for await(const _0xdabff6 of _0x233fb0){_0x5f1da7[_0x544dc5(0x145)](_0x5f1da7[_0x544dc5(0x23e)],_0x5f1da7[_0x544dc5(0x23e)])?_0x12857a['vpcInfo'][_0x544dc5(0x2b0)](_0xdabff6):_0xea9325['info'](_0x5f1da7[_0x544dc5(0x291)]);}const _0x1a7602={};_0x1a7602[_0x544dc5(0x25f)]=WS_EVENTS[_0x544dc5(0xc7)],_0x1a7602[_0x544dc5(0x11e)]=_0x12857a,this[_0x544dc5(0x28c)][_0x544dc5(0x1c8)](this[_0x544dc5(0x2b3)],_0x1a7602);}async['isVPCPresent'](_0xf95b2d){const _0x359ac7=a1_0x7451ef,_0x19f81c={};_0x19f81c['wxLJD']=function(_0x4894c2,_0x334b27){return _0x4894c2===_0x334b27;},_0x19f81c['xZlhF']=_0x359ac7(0x187),_0x19f81c[_0x359ac7(0x125)]=_0x359ac7(0xc3),_0x19f81c[_0x359ac7(0x179)]=_0x359ac7(0xc2),_0x19f81c[_0x359ac7(0x242)]=_0x359ac7(0x2a4),_0x19f81c[_0x359ac7(0x2a2)]=_0x359ac7(0xe8),_0x19f81c[_0x359ac7(0x10d)]=function(_0x25deab,_0x57a485){return _0x25deab===_0x57a485;},_0x19f81c[_0x359ac7(0x171)]=_0x359ac7(0x19e),_0x19f81c[_0x359ac7(0x103)]=function(_0x31c7b5,_0x5389bc){return _0x31c7b5!==_0x5389bc;},_0x19f81c[_0x359ac7(0x296)]=_0x359ac7(0x273),_0x19f81c[_0x359ac7(0x1ba)]=_0x359ac7(0x1b0);const _0x2e6bc6=_0x19f81c;try{if(_0x2e6bc6[_0x359ac7(0x152)](_0x2e6bc6[_0x359ac7(0x242)],_0x2e6bc6[_0x359ac7(0x242)])){const _0x284597=await this['networkClient']['virtualNetworks'][_0x359ac7(0x136)](global_registry['cloudProviderResourceGroup']);for await(const _0x4c9358 of _0x284597){if(_0x2e6bc6[_0x359ac7(0x152)](_0x2e6bc6['IFkfF'],_0x2e6bc6[_0x359ac7(0x2a2)])){if(_0x2e6bc6[_0x359ac7(0x10d)](_0x4c9358[_0x359ac7(0x176)],_0xf95b2d)){if(_0x2e6bc6['wWOnE'](_0x2e6bc6[_0x359ac7(0x171)],_0x2e6bc6[_0x359ac7(0x171)]))return!![];else _0x2ec45e+=_0x2e6bc6['wxLJD'](_0x1b3f6f[_0x359ac7(0x15c)],0x0)?_0x2e6bc6['xZlhF']:'',_0x308cfe['debug']('Role\x20definition\x20response\x20list\x20\x20:\x20\x20'+_0x5396b0[_0x359ac7(0x299)](_0x3816dc));}}else{_0x3400b3[_0x359ac7(0x18c)](_0x2e6bc6[_0x359ac7(0x125)]);const _0xee0f47={};_0xee0f47[_0x359ac7(0x25f)]=_0x2d7dcf['RESOURCES'],_0xee0f47[_0x359ac7(0x11e)]=_0x2e6bc6[_0x359ac7(0x125)],this[_0x359ac7(0x28c)][_0x359ac7(0x1c8)](this[_0x359ac7(0x2b3)],_0xee0f47),_0x21d636['oidcIssuerProfile'][_0x359ac7(0x206)]=!![];}}}else return _0x25afe6[_0x359ac7(0xcf)]=_0x2e6bc6[_0x359ac7(0x179)],_0x476990;}catch(_0x157870){return _0x2e6bc6[_0x359ac7(0x103)](_0x2e6bc6[_0x359ac7(0x296)],_0x2e6bc6[_0x359ac7(0x1ba)])?(logger[_0x359ac7(0x1d0)]('Cannot\x20find\x20VPC\x20'+_0xf95b2d+_0x359ac7(0x213)+_0x157870),![]):!![];}return![];}async[a1_0x7451ef(0xdb)](_0x58ee9b,_0x565ab4){const _0x47cf95=a1_0x7451ef,_0xa06a0f={};_0xa06a0f[_0x47cf95(0xdf)]=function(_0x1396b7,_0xa80fe0){return _0x1396b7+_0xa80fe0;},_0xa06a0f[_0x47cf95(0x2a9)]=function(_0x2b4d02,_0x4039df){return _0x2b4d02!==_0x4039df;},_0xa06a0f[_0x47cf95(0x282)]=_0x47cf95(0x14c),_0xa06a0f['CZtzD']=_0x47cf95(0x20b),_0xa06a0f[_0x47cf95(0xd0)]=function(_0x162d32,_0x50cbd3){return _0x162d32===_0x50cbd3;},_0xa06a0f[_0x47cf95(0x15f)]='chYPF',_0xa06a0f[_0x47cf95(0x1f0)]=_0x47cf95(0x160);const _0x479e53=_0xa06a0f;try{if(_0x479e53[_0x47cf95(0x2a9)](_0x479e53[_0x47cf95(0x282)],_0x479e53[_0x47cf95(0x1a8)])){const _0x5bc830=await this[_0x47cf95(0x264)]['subnets'][_0x47cf95(0x2af)](global_registry[_0x47cf95(0x193)],_0x565ab4,_0x58ee9b[0x0]);if(_0x479e53[_0x47cf95(0xd0)](_0x58ee9b[0x0],_0x5bc830[_0x47cf95(0x176)])){if(_0x479e53[_0x47cf95(0x2a9)](_0x479e53[_0x47cf95(0x15f)],_0x479e53['fpoqx']))return[!![],_0x58ee9b];else _0x5bfe54[_0x47cf95(0x116)]=![];}}else _0x22dd81[_0x47cf95(0x221)]('['+_0x479e53['bJBjf'](_0x302c82,0x1)+']\x20'+_0x7d5d[_0x3bf0b0]);}catch(_0x1e8100){return logger['error'](_0x47cf95(0x19c)+_0x58ee9b+_0x47cf95(0xea)+_0x1e8100),[![],[]];}return[![],[]];}async['isCliToolInstalled'](){const _0x549a55=a1_0x7451ef,_0x1bab22={};_0x1bab22[_0x549a55(0x1a3)]=_0x549a55(0x108);const _0x56767c=_0x1bab22,_0x4eb9a7={};_0x4eb9a7[_0x549a55(0x116)]=!![],_0x4eb9a7[_0x549a55(0x1d0)]=null,_0x4eb9a7[_0x549a55(0xcf)]=_0x56767c['tFBpt'];const _0x5abc73=_0x4eb9a7;return _0x5abc73;}async['getHeader'](){const _0x435aaf=a1_0x7451ef,_0x14cf0d={};_0x14cf0d[_0x435aaf(0x203)]=_0x435aaf(0x25c),_0x14cf0d[_0x435aaf(0x246)]=_0x435aaf(0x239),_0x14cf0d[_0x435aaf(0x190)]=_0x435aaf(0xe9);const _0x8dba8c=_0x14cf0d,_0x2cecf1=await this[_0x435aaf(0x163)][_0x435aaf(0xf8)](_0x8dba8c[_0x435aaf(0x203)]),_0x503b4b={};_0x503b4b[_0x435aaf(0x19a)]=_0x8dba8c[_0x435aaf(0x246)],_0x503b4b[_0x435aaf(0x1cc)]={},_0x503b4b[_0x435aaf(0x1cc)][_0x435aaf(0x265)]=_0x435aaf(0x22a)+_0x2cecf1[_0x435aaf(0x1ce)],_0x503b4b[_0x435aaf(0x1cc)][_0x435aaf(0x178)]=_0x8dba8c[_0x435aaf(0x190)];const _0x2885e3=_0x503b4b;return _0x2885e3;}async[a1_0x7451ef(0x1ab)](_0x302974){const _0x337106=a1_0x7451ef,_0x3cee63={'yhtot':function(_0x59bdbf,_0x55b943,_0x11d1e9){return _0x59bdbf(_0x55b943,_0x11d1e9);},'ttWPq':function(_0x1350f5,_0x186bc0){return _0x1350f5===_0x186bc0;},'QqVBZ':_0x337106(0x26e)},_0x5608cf={};_0x5608cf[_0x337106(0x144)]='',_0x5608cf[_0x337106(0x1d0)]=null;const _0x2138b0=_0x5608cf;try{const _0x19cfa1=_0x337106(0xcb)+_0x302974+'\x27',_0x4a02b2=await this['getHeader'](),_0x174307=await _0x3cee63[_0x337106(0x1e3)](fetch,_0x19cfa1,_0x4a02b2),_0x179484=await _0x174307['json']();if(!_0x179484[_0x337106(0x20c)]||_0x3cee63[_0x337106(0x1a6)](_0x179484[_0x337106(0x20c)]['length'],0x0))throw new Error(_0x3cee63[_0x337106(0x1e1)],_0x337106(0x2a0)+JSON[_0x337106(0x299)](_0x179484));_0x2138b0[_0x337106(0x144)]=_0x179484[_0x337106(0x20c)][0x0]['id'];}catch(_0x2dc598){_0x2138b0[_0x337106(0x1d0)]=_0x2dc598;}return _0x2138b0;}async[a1_0x7451ef(0x128)](){const _0x4d9b94=a1_0x7451ef,_0x99a01={};_0x99a01[_0x4d9b94(0x1b3)]=_0x4d9b94(0x168),_0x99a01[_0x4d9b94(0x164)]=_0x4d9b94(0x1b6),_0x99a01['DBdUc']=function(_0x266dd1,_0x352987){return _0x266dd1!==_0x352987;},_0x99a01[_0x4d9b94(0x1c3)]=function(_0x4f07b9,_0x2a5b7b){return _0x4f07b9===_0x2a5b7b;},_0x99a01[_0x4d9b94(0x15e)]=_0x4d9b94(0xc2),_0x99a01[_0x4d9b94(0x1a1)]=_0x4d9b94(0xf1),_0x99a01[_0x4d9b94(0x263)]=_0x4d9b94(0x187);const _0x7e1eee=_0x99a01,_0x4fd651={};_0x4fd651['status']=![],_0x4fd651[_0x4d9b94(0x1d0)]=null,_0x4fd651[_0x4d9b94(0xcf)]='';const _0xba115b=_0x4fd651;try{let _0x40abef='';const _0x4fda70='subscriptions/'+global_registry['cloudProviderSubscriptionId']+_0x4d9b94(0x120)+global_registry[_0x4d9b94(0x193)],_0x57a2f6=await this[_0x4d9b94(0x1ab)](global_registry[_0x4d9b94(0x294)]);if(_0x7e1eee[_0x4d9b94(0x141)](_0x57a2f6[_0x4d9b94(0x1d0)],null))return _0xba115b[_0x4d9b94(0x1d0)]=_0x57a2f6[_0x4d9b94(0x1d0)],_0xba115b;const _0x43c92e=_0x4d9b94(0x2b4)+_0x57a2f6[_0x4d9b94(0x144)]+'\x27)',_0x5bd7db={};_0x5bd7db[_0x4d9b94(0x10a)]=_0x43c92e;const _0x18f1df=await this['authClient'][_0x4d9b94(0x156)][_0x4d9b94(0x259)](_0x4fda70,_0x5bd7db),_0x92b490=[];for await(const _0x18293a of _0x18f1df){_0x92b490['push'](_0x18293a);}if(_0x7e1eee[_0x4d9b94(0x1c3)](_0x92b490[_0x4d9b94(0x15c)],0x0))return _0xba115b[_0x4d9b94(0xcf)]=_0x7e1eee[_0x4d9b94(0x15e)],_0xba115b;const _0x1e4f0d=[...new Set(_0x92b490[_0x4d9b94(0x14b)](_0x8ba868=>_0x8ba868[_0x4d9b94(0x28f)]))];if(_0x7e1eee[_0x4d9b94(0x1c3)](_0x1e4f0d[_0x4d9b94(0x15c)],0x0))return _0xba115b['data']=_0x7e1eee[_0x4d9b94(0x1a1)],_0xba115b;const _0x421a44=[],_0x4c698c=[];for(const _0x882164 of _0x1e4f0d){const _0x511391=await this[_0x4d9b94(0x13d)]['roleDefinitions'][_0x4d9b94(0x180)](_0x882164);logger['debug']('role\x20name\x20attached\x20-\x20'+_0x511391[_0x4d9b94(0x166)]),_0x421a44[_0x4d9b94(0x2b0)](_0x511391),logger[_0x4d9b94(0x16e)](_0x4d9b94(0x1c7)+JSON['stringify'](_0x511391[_0x4d9b94(0xc6)])),_0x511391[_0x4d9b94(0xc6)][_0x4d9b94(0x27f)](_0x553457=>{const _0x560b5b=_0x4d9b94;_0x4c698c[_0x560b5b(0x2b0)](..._0x553457['actions']);});}logger[_0x4d9b94(0x16e)]('actionPermission\x20:\x20'+JSON[_0x4d9b94(0x299)](_0x4c698c)),_0x7e1eee[_0x4d9b94(0x1c3)](_0x4c698c[_0x4d9b94(0x15c)],0x0)&&(_0x40abef+=_0x7e1eee['CJhqV'](_0x4c698c[_0x4d9b94(0x15c)],0x0)?_0x7e1eee[_0x4d9b94(0x263)]:'',logger['debug'](_0x4d9b94(0x1c6)+JSON['stringify'](_0x421a44))),_0xba115b[_0x4d9b94(0x116)]=!![],Object[_0x4d9b94(0xd8)](PERMISSIONS[_0x4d9b94(0x277)])['forEach'](([_0x1ca71e,_0x2e95c1])=>{const _0x4d2e88=_0x4d9b94,_0xc7c077=_0x4c698c[_0x4d2e88(0xd9)](_0x1ca71e);_0x40abef+='\x0a\x09'+_0x2e95c1+':\x20'+(_0xc7c077?_0x7e1eee[_0x4d2e88(0x1b3)]:_0x7e1eee[_0x4d2e88(0x164)]),!_0xc7c077&&(_0xba115b['status']=![]);}),_0xba115b[_0x4d9b94(0xcf)]=_0x40abef;}catch(_0x1928bb){_0xba115b[_0x4d9b94(0x1d0)]=_0x1928bb;}return _0xba115b;}}function a1_0x2379(_0x42311f,_0x544a29){const _0xb0986b=a1_0xb098();return a1_0x2379=function(_0x2379c9,_0x5dd9fb){_0x2379c9=_0x2379c9-0xb5;let _0x5d1a9c=_0xb0986b[_0x2379c9];return _0x5d1a9c;},a1_0x2379(_0x42311f,_0x544a29);}const a1_0x50257e={};a1_0x50257e[a1_0x7451ef(0x194)]=AzureCloudProvider,module[a1_0x7451ef(0x1bc)]=a1_0x50257e;function a1_0xb098(){const _0x2cb667=['EGOCa','gSoSh','checkAccess','QrEMw','NPZmr','zQRFw','ingress','JMIwD','\x20SUBSCRIPTION\x20ID:\x20','UAZku','TVMUa','1953388IVIswI','BrowserStack','gSPIz','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','JSiEn','listAll','\x20CLIENT\x20SECRET:\x20','HoqwB','s3Bucket','managedidentity.json','ljjsf','pKDFU','authClient','PHEDq','turboscale-identity-deployment','cloudProviderSubscriptionId','DBdUc','toString','browserstack:managedBy','principalId','KUsKK','FeJKf','hKHkl','storageAccountName','js-yaml','HjMCh','map','wMhVS','azureresources','cloudProviderName','storageAccounts','string','KCbvS','wxLJD','\x20CLIENT\x20ID:\x20','subnetName','fOUvY','roleAssignments','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','AQhFU','getResourceClientId','join','tdMdZ','length','getStorageAccountName','RdSzJ','PVjRK','yglQc','JJjXV','ljVxJ','cred','mkoCD','gridName','roleName','AeJQn','allowed','LOG','utf-8','vnwer','VqYGn','YFAEM','debug','true','KBRGs','ZyrxJ','hubHaNameSpace','hkfMj','deleteCluster','nMlUg','name','aLckA','Content-Type','pujgK','init','oweYC','clusterName','PDakJ','jBqGR','IFbWb','getById','HavkX','Storage\x20account\x20already\x20exists,\x20skipping','turboscale','agentPoolProfiles','TKjmr','hPTdy','Action\x20permission\x20list\x20is\x20empty\x0a','exit','FSXrL','MBKNb','LHuMp','info','zVUpq','loadBalancer','dEJUU','RGxds','VcAiX','CMAxL','cloudProviderResourceGroup','AzureCloudProvider','zFqqJ','stack','tHowZ','OUjaP','ExKlL','method','tIRSM','Cannot\x20find\x20subnets\x20','sendAzureInfoToHST','klksc','subscriptionId','containerClient','HoSkg','@azure/arm-network','tFBpt','turboscale-cluster-deployment','oqLGM','ttWPq','etXej','CZtzD','cWvEj','vJsSl','getPrincipalIdFromClientId','Deleted\x20the\x20cluster\x20successfully','SOelE','WdIpL','Mocef','GhcCU','Creating\x20Azure\x20storage\x20account','isBrowserstackCluster','Wcjsn','roXbk','variables','denied','GfyyT','blockBlob','vZKwv','PKcCW','UrSpW','exports','YQDUK','clusterInfo','14ARhqAT','mMeiA','KeJtS','bstackUsername','CJhqV','createManagedIdentity','BDCGe','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','Attached\x20permissions\x20:\x20','sendEventToBackend','lJQdX','ruqMt','7|6|3|4|5|1|0|2','headers','qYBrj','token','xAusa','error','21823695EfdDus','HbKbE','JmHlG','definition','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','deployments','Creating\x20Azure\x20federated\x20identity','Lxvim','aTiJD','eVbrO','vpcInfo','../config/logger','ZxjFM','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','HiNgr','parameters','QqVBZ','issuerURL','yhtot','Creating\x20Azure\x20managed\x20identity','BZmLX','clientSecret','YKoHo','Deleting\x20the\x20cluster\x20','oHXGH','LKaqR','listByResourceGroup','BUnIb','OiOBA','default','TWCQC','fpoqx','zvZtQ','RSpBg','sfTWy','mHYYn','otISX','username','uWbfN','YkLWF','fTulN','EZzXU','AvSwo','VNpaF','tags','isStorageAccountPresent','instanceType','slice','toUpperCase','aKVjO','oJzFO','dCZpI','FwGUQ','enabled','waIjF','wQBZw','rUvgY','slNKM','itRdV','value','uliOa','qIBsm','bTpWx','WtHcQ','3064848lSZJpA','axjzQ','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','\x20RESOURCE\x20GROUP:\x20','KRYlf','eMWSn','pPosx','beginCreateOrUpdateAndWait','managementPolicies','uRVDR','createOtherResources','filters','cbydC','cloudProviderTenantId','xwHHw','\x20TENANT\x20ID:\x20','log','Tnbfm','xKqVA','rules','SsEnB','nXvFz','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','federatedidentityuploader.json','nczHc','Bearer\x20','BiAXT','KhpCL','0|1|5|2|4|3','securityProfile','LhoGJ','setCachedCredsInRegistry','cloudProvider','uIVOQ','GVwCX','GYOJr','YLzxJ','vRkJn','@azure/arm-resources','YMXwa','GET','templates','eIYxn','turboscale-managed-identity-','hostname','zchEC','Managed\x20identity\x20already\x20exists,\x20skipping','userInstanceType','setClients','JwvXH','oAixf','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','hubharesources','tASiU','KJELr','KJTNF','mgxIC','rCVUg','MmYxP','ylKXx','wDimF','LVwDI','@azure/identity','createOrUpdate','didxc','readFileAsync','346224iKCFQO','delete','getUserInput','clientId','eDFnJ','RRnxz','listForScope','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','WgXmj','https://graph.microsoft.com/.default','KSkkI','isManagedIdentityPresent','type','aQEEY','EfyVD','ldgRO','wqKGy','networkClient','Authorization','JuAdV','clusterAutoUpgrade','QUFKB','HdwUU','tQhWT','../config/constants','PbFjn','284214APSeeS','No\x20service\x20principal\x20found','KDxqn','wOQGZ','hUPeX','hFuAf','JwPBe','41368Gvwwyx','pZCWE','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','ACTION','Clxks','vpcName','xdMeY','@azure/arm-containerservice','storageClient','3950925qoHpTw','OLIHx','forEach','disableLocalAccounts','kLTjX','QnIBo','vnZUE','UYwgT','kubeconfigs','mxaMH','parse','fwGET','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','vNkhb','sCtpd','webSocketUtils','uMhyU','nBbnn','roleDefinitionId','CzqDa','jByqj','.json','fBSUn','cloudProviderClientId','RALbE','lZLJq','fmtjb','../utils/utilityMethods','stringify','xlkNf','XEtVT','federatedidentity','virtualNetworks','YeApg','getKubeConfigData','Received\x20response\x20-\x20','[variables(\x27vnetSubnetID\x27)]','IFkfF','AUefv','ZSMaM','storageaccount.json','../utils/gridComponents','beginDeleteAndWait','actions','tXnWp','mIzAK','false','cloudProviderClientSecret','BKIbl','eUusc','get','push','rKiwj','tRzJd','rws','assignedTo(\x27','description','rBErv','resourceClient','WoPGt','NJSiy','2|4|1|0|5|3','tspls','KEkWL','uilip','policy','iJkep','getClusterInfo','vnetSubnetID','No\x20attached\x20role\x20for\x20the\x20client\x20key','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','TgDwj','UzpZm','permissions','RESOURCES','path','resourceGroup','kFBNQ','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','updateClusterAlreadyPresent','swMlR','akscluster.json','data','aDDHF','ySEqv','iwkYA','qXNUz','DRNeX','managedClusters','Swhgn','ADHaa','entries','includes','fvalh','isSubnetsValid','setupNewCluster','node','wRQex','bJBjf','clusterRegion','xYYCl','ygrWx','properties','Incremental','OnFFu','tenantId','resources','hOcBe','application/json','.\x20Error:\x20','oidcIssuerProfile','IlEdl','createFederatedAccountForHubHA','NOHqz','cOFLA','HXDYN','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','FPzHl','dXrok','setupHubHa','resourceGroups','djOnW','AAOkv','getToken','maxNodes','list','edZFE','COGMy','bYQeR','uDPqM','turboscale-federated-deployment','xLcSr','location','eDget','QIeWu','IRFBU','LddxH','Enabling\x20Local\x20account\x20for\x20the\x20cluster','iSzLy','No\x20CLI\x20tool\x20required','rvMSQ','filter','pljPr','metadata','wWOnE','turboscale-storageaccount-deployment','getResourceGroups','PEYCp','split','qVfBO','bgMYr','IaIOs','createStorageAccount','status','createFederatedAccount','htWZc','toLowerCase','kHFUR','DcXxB','REHGn','NmItK','message','sPdMs','/resourceGroups/','JaQIJ','baseBlob','XqyDh','7BUvJHb','FjxUw'];a1_0xb098=function(){return _0x2cb667;};return a1_0xb098();}