const a1_0x4436c1=a1_0x3205;function a1_0x3eaf(){const _0x26c432=['\x20RESOURCE\x20GROUP:\x20','clusterAutoUpgrade','path','s3Bucket','@azure/arm-containerservice','VWcqv','subscriptions/','@azure/arm-authorization','entries','Found\x20only\x20one\x20resource\x20group:\x20','MclBF','No\x20attached\x20role\x20for\x20the\x20client\x20key','xCDdK','Action\x20permission\x20list\x20is\x20empty\x0a','629997iCKczS','dZolu','deployments','vnetSubnetID','isVPCPresent','listByResourceGroup','HpTAD','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','Uzuei','createOrUpdate','username','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','QBpsa','ftZIy','44wPReqZ','DjlCn','listClusterAdminCredentials','[variables(\x27vnetSubnetID\x27)]','lphym','wtWbP','UmdFx','agentPoolProfiles','nmabQ','maxNodes','Attached\x20permissions\x20:\x20','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','mqxkS','getPrincipalIdFromClientId','clientId','/resourceGroups/','Creating\x20Azure\x20federated\x20identity','wdIIe','VvjSX','getUserInput','tqIyx','virtualNetworks','vUfqT','storageaccount.json','storageClient','KdhbS','metadata','isBrowserstackCluster','vuITJ','wxFDs','SnXte','9rzCNdy','VRMcI','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','type','split','kpmBp','sQaVk','get','DwNFf','sjgsS','CQrzY','actionPermission\x20:\x20','YsLBf','KmFOh','NAWFp','Lifecycle','RHskl','kVQUh','qMped','CiYUn','userMaxNodes','KFTeq','checkAccess','RESOURCES','ruCcD','3464285WlcPja','debug','value','stack','RHLHl','XSoYK','RxEII','sDHkh','GrSVZ','LOG','XbTyu','Zhhkx','createFederatedAccount','cxcwY','Dmesi','Authorization','DafSF','BrowserStack','eLTkW','cloudProviderTenantId','TpwvQ','vpcInfo','hDKgu','fLcHV','templates','bstackAccesskey','llYlZ','yHrZj','browserstack:managedBy','XemUU','zsEQp','blockBlob','UXiuv','listForScope','VUpvP','data','Optuo','anUTX','Storage\x20account\x20already\x20exists,\x20skipping','VpBTG','@azure/identity','Creating\x20Azure\x20storage\x20account','application/json','igupu','subscriptionId','WpjRO','qYzGB','ThHAY','HCkEM','parameters','clusterInfo','.json','2|6|7|0|5|1|4|3','issuerURL','QoNsu','oAsiT','SwAVd','WZaLy','mBBSk','oidcIssuerProfile','CsZoC','1|0|4|2|5|3','parse','getResourceGroups','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','yyiMK','NOHdl','OcloX','EWdcr','ERkGB','\x20CLIENT\x20ID:\x20','gbVtL','FpqND','VUCmB','stringify','YnLId','2dJXvUh','FxEQK','cloudProvider','kCbrO','EnVCn','ZTzvP','Cannot\x20find\x20VPC\x20','managedClusters','sendEventToBackend','getResourceClientId','hgrdF','bWGQF','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','NiWYh','UtZgb','NUdex','VnXhn','KxMSr','tenantId','2|4|5|0|1|3','slice','turboscale','inAMz','default','nOpWV','actions','dmhqQ','pKSJY','AzureCloudProvider','denied','zvfVL','JXPuK','fDyxG','setCachedCredsInRegistry','resources','managedidentity.json','false','eCUyA','mtyhb','sgUJv','yhcmd','KzwsY','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','Incremental','containerClient','miTTf','4XewnDK','createCluster','XjnVE','userInstanceType','createOtherResources','rws','blobTypes','qTAwc','zmCUj','kDilN','UsEMd','storageAccountName','YiiiC','UxmxJ','IpcpE','EMgVC','Edamu','error','name','dcgmn','cloudProviderName','tYPeQ','beginCreateOrUpdateAndWait','isSubnetsValid','zlYpF','sFguB','GlWZW','Creating\x20Azure\x20managed\x20identity','qRERF','sEGkP','6954240XdQArt','filters','MSXjH','permissions','../config/constants','sYgVF','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','ingress','getHeader','OOoec','GhtUh','qalHB','isManagedIdentityPresent','clientSecret','mHHFo','YpMQP','wuMTv','location','isClusterPresent','setClients','GOYUE','qvBFD','hostname','uHAgX','getClusterInfo','../utils/utilityMethods','roleDefinitions','securityProfile','eSqXq','deleteCluster','sowfq','setupNewCluster','ZpHws','accessKey','AkeSh','Received\x20response\x20-\x20','../permissions/AZURE.json','forEach','headers','resourceGroups','Blob\x20delete\x20lifecycle','status','yHzwm','ZJMVr','IfxPE','iKJpQ','qwhCB','cloudProviderSubscriptionId','wIGwu','Cannot\x20find\x20subnets\x20','pXfTg','gEzwq','alvuF','No\x20CLI\x20tool\x20required','FtbIN','roleAssignments','jzVTn','listAll','HXVHG','FSxNv','IwlTO','exports','setupHubHa','RmIPy','dnvcw','uLRXs','tyXyi','subnets','assignedTo(\x27','resourceGroup','WtaZL','init','isStorageAccountPresent','aJIac','kubeconfigs','rspoM','ISsfL','disableLocalAccounts','UrzDB','XjHpa','SYtxU','description','MorYb','vRaLv','RDkkC','tdCgP','KciQa','mngaU','GvaNV','YSMiR','IVcUO','HlFZw','prrSA','PjreA','getGridHostname','vpcName','definition','zchPB','Content-Type','managementPolicies','hUsuN','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','rkFOr','UJfNX','ILiqU','@azure/arm-resources','HUSYR','PHqSs','ehhqd','createStorageAccount','LpeTi','daysAfterCreationGreaterThan','ORoDs','CbRmU','./CloudProvider','iOneG','iHQeo','message','clusterName','networkClient','7141880czYzsl','LDiAV','utf-8','TDevu','map','createManagedIdentity','turboscale-federated-deployment','hub','GET','ARcde','length','policy','yFBeF','2023-01-31','COfPG','wjSML','variables','EhhYb','Enabling\x20Local\x20account\x20for\x20the\x20cluster','bVjLk','HoHYO','ddCSf','11880lvDQna','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','roleDefinitionId','rules','FUCeK','DRqQi','QTmBT','GJvqp','HcPqp','Prjyl','BRsLR','baseBlob','principalId','yOcsx','No\x20service\x20principal\x20found','xWTwu','ekTKY','lGMKd','hRbxP','wRPMc','properties','rHJtR','workloadIdentity','qYmCm','xtcoK','IrGHr','akscluster.json','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','WQXXM','VXJql','YOVYr','turboscale-managed-identity-','createFederatedAccountForHubHA','IQSbk','cdQll','Vjodm','kxYxf','exit','role\x20name\x20attached\x20-\x20','\x20TENANT\x20ID:\x20','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','roleName','QzhBY','aEAsa','\x20CLIENT\x20SECRET:\x20','authClient','ivBOw','hLNoE','1106RvqGVF','NTxQC','PEdYg','427551lPaMfE','kGOfz','atfiy','LUWIL','resourceClient','mNHbY','Deleted\x20the\x20cluster\x20successfully','push','cyycG','PREZx','nGSGQ','xaglV','cPgtR','jYedf','WpgUx','EUjsw','https://graph.microsoft.com/.default','includes','mZIeL','getStorageAccountName','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','ldFuJ','DAauO','vBkrG','enabled','xOBKr','toLowerCase','SFNUj','LVxhd','cloudProviderClientId','cloudProviderResourceGroup','gridName','fkdfa','XNnmg','LpeFi','uTpGJ','dMiUh','10108710mVfKQe','hPMqT','NpqUV','webSocketUtils','cloudProviderClientSecret','sendAzureInfoToHST','cred','wEnFk','join','info','wmjWT','wrKZW','readFileAsync','JvRUk','IpCEs','XldFj','subnetName','getById','RuVet','turboscale-cluster-deployment','allowed','federatedidentityuploader.json','method','eIxZM','oyikB','qGxKx','../config/logger','azureresources','lOEkl'];a1_0x3eaf=function(){return _0x26c432;};return a1_0x3eaf();}(function(_0x38c93f,_0x81a4aa){const _0x986220=a1_0x3205,_0x338a8a=_0x38c93f();while(!![]){try{const _0x36f4d6=-parseInt(_0x986220(0xfe))/0x1*(-parseInt(_0x986220(0x190))/0x2)+parseInt(_0x986220(0xae))/0x3+parseInt(_0x986220(0x1be))/0x4*(parseInt(_0x986220(0x144))/0x5)+parseInt(_0x986220(0x26a))/0x6*(-parseInt(_0x986220(0xab))/0x7)+parseInt(_0x986220(0x254))/0x8*(parseInt(_0x986220(0x12b))/0x9)+parseInt(_0x986220(0xd3))/0xa+-parseInt(_0x986220(0x10c))/0xb*(parseInt(_0x986220(0x1dc))/0xc);if(_0x36f4d6===_0x81a4aa)break;else _0x338a8a['push'](_0x338a8a['shift']());}catch(_0x3768de){_0x338a8a['push'](_0x338a8a['shift']());}}}(a1_0x3eaf,0xb4309));const fs=require('fs'),path=require(a1_0x4436c1(0xf2)),yaml=require('js-yaml'),{logger}=require(a1_0x4436c1(0xed)),{CloudProvider}=require(a1_0x4436c1(0x24e)),{deleteRoutingDeps,deleteAgent}=require('../utils/gridComponents'),{AZURE,WS_EVENTS,global_registry}=require(a1_0x4436c1(0x1e0)),PERMISSIONS=require(a1_0x4436c1(0x200)),{ClientSecretCredential}=require(a1_0x4436c1(0x16c)),{NetworkManagementClient}=require('@azure/arm-network'),{StorageManagementClient}=require('@azure/arm-storage'),{AuthorizationManagementClient}=require(a1_0x4436c1(0xf7)),{ResourceManagementClient}=require(a1_0x4436c1(0x245)),{ContainerServiceClient}=require(a1_0x4436c1(0xf4)),{runCommand}=require(a1_0x4436c1(0x1f5));class AzureCloudProvider extends CloudProvider{constructor(_0x2d8e81,_0x125721,_0x517cac,_0x5f3a90){const _0x17612d=a1_0x4436c1,_0x542b88={};_0x542b88['wIGwu']=_0x17612d(0x178);const _0xe628e3=_0x542b88,_0x450e0f=_0xe628e3[_0x17612d(0x20c)][_0x17612d(0x12f)]('|');let _0x15fc9f=0x0;while(!![]){switch(_0x450e0f[_0x15fc9f++]){case'0':this[_0x17612d(0x1bc)]=null;continue;case'1':this[_0x17612d(0xb2)]=null;continue;case'2':super(AZURE,_0x2d8e81,_0x125721,_0x517cac,_0x5f3a90);continue;case'3':this[_0x17612d(0xa8)]=null;continue;case'4':this['networkClient']=null;continue;case'5':this[_0x17612d(0x124)]=null;continue;case'6':this[_0x17612d(0xd9)]=null;continue;case'7':this[_0x17612d(0x176)]=null;continue;}break;}}async[a1_0x4436c1(0x223)](){return await super['init'](),this;}['setClients'](){const _0x5bab27=a1_0x4436c1,_0x108956=new ClientSecretCredential(global_registry[_0x5bab27(0x157)],global_registry[_0x5bab27(0xcb)],global_registry[_0x5bab27(0xd7)]);this[_0x5bab27(0x1bc)]=new ContainerServiceClient(_0x108956,global_registry['cloudProviderSubscriptionId']),this[_0x5bab27(0x124)]=new StorageManagementClient(_0x108956,global_registry[_0x5bab27(0x20b)]),this[_0x5bab27(0xb2)]=new ResourceManagementClient(_0x108956,global_registry[_0x5bab27(0x20b)]),this[_0x5bab27(0x253)]=new NetworkManagementClient(_0x108956,global_registry[_0x5bab27(0x20b)]),this['authClient']=new AuthorizationManagementClient(_0x108956,global_registry[_0x5bab27(0x20b)]),this[_0x5bab27(0xd9)]=_0x108956;}['getStorageAccountName'](){const _0x5a3639=a1_0x4436c1,_0x1a3835={};_0x1a3835[_0x5a3639(0x21b)]=function(_0x4390fb,_0xc1c13c){return _0x4390fb+_0xc1c13c;},_0x1a3835[_0x5a3639(0x13d)]=_0x5a3639(0x1a5),_0x1a3835[_0x5a3639(0x234)]=function(_0x1a19e3,_0x4b6a5f){return _0x1a19e3-_0x4b6a5f;};const _0x58307a=_0x1a3835,_0x22ce4b=global_registry[_0x5a3639(0xf3)][_0x5a3639(0x12f)]('-'),_0x1016b1=_0x58307a[_0x5a3639(0x21b)](_0x58307a[_0x5a3639(0x13d)],_0x22ce4b[_0x58307a[_0x5a3639(0x234)](_0x22ce4b[_0x5a3639(0x25e)],0x1)])[_0x5a3639(0x1a4)](0x0,0x18);return _0x1016b1['toLowerCase']();}[a1_0x4436c1(0x1b1)](_0x3ae968){const _0x1f5755=a1_0x4436c1,_0x1b5358={};_0x1b5358[_0x1f5755(0x236)]=_0x1f5755(0x1a3);const _0x5395de=_0x1b5358,_0x2d1e53=_0x5395de[_0x1f5755(0x236)][_0x1f5755(0x12f)]('|');let _0x2b511d=0x0;while(!![]){switch(_0x2d1e53[_0x2b511d++]){case'0':global_registry[_0x1f5755(0x20b)]=_0x3ae968[this['cloudProviderName']][_0x1f5755(0x170)];continue;case'1':global_registry[_0x1f5755(0xcc)]=_0x3ae968[this[_0x1f5755(0x1d2)]][_0x1f5755(0x221)];continue;case'2':global_registry[_0x1f5755(0xcb)]=_0x3ae968[this[_0x1f5755(0x1d2)]][_0x1f5755(0x11a)];continue;case'3':this[_0x1f5755(0x1ef)]();continue;case'4':global_registry['cloudProviderClientSecret']=_0x3ae968[this[_0x1f5755(0x1d2)]][_0x1f5755(0x1e9)];continue;case'5':global_registry[_0x1f5755(0x157)]=_0x3ae968[this[_0x1f5755(0x1d2)]][_0x1f5755(0x1a2)];continue;}break;}}async[a1_0x4436c1(0x11f)](_0x31f18a,_0x128d85){const _0x1f00d4=a1_0x4436c1,_0x5c80bd={'ildgM':_0x1f00d4(0xe7),'RDkkC':_0x1f00d4(0x1ad),'HCkEM':function(_0x485686,_0x5eafe7){return _0x485686===_0x5eafe7;},'SDdnO':_0x1f00d4(0xfd),'CsZoC':'3|0|2|4|1|5','EUjsw':function(_0x10aeeb,_0x2fcaae){return _0x10aeeb+_0x2fcaae;},'Vjodm':function(_0x3af28b,_0xf18238){return _0x3af28b(_0xf18238);},'dnvcw':function(_0x1232ee,_0x58fd70){return _0x1232ee(_0x58fd70);},'qTAwc':function(_0x345fdd,_0x2af41b){return _0x345fdd===_0x2af41b;},'YpMQP':function(_0x28cd70,_0x69a17){return _0x28cd70!==_0x69a17;},'pExYD':_0x1f00d4(0xca),'XjnVE':_0x1f00d4(0x209),'PREZx':function(_0xacad55,_0x4d61fd){return _0xacad55(_0x4d61fd);},'uLRXs':function(_0x26d927,_0x57ba19){return _0x26d927===_0x57ba19;},'eIxZM':_0x1f00d4(0xd4),'dcgmn':function(_0x1437b4,_0x31b0e3){return _0x1437b4(_0x31b0e3);},'YnLId':function(_0x50c2f1,_0x314f34){return _0x50c2f1===_0x314f34;},'hLNoE':function(_0x3c3ca7,_0x563faf){return _0x3c3ca7===_0x563faf;},'ThHAY':_0x1f00d4(0x138),'prrSA':_0x1f00d4(0x109),'DwLOG':'kEuiB','UxmxJ':_0x1f00d4(0x1e5),'xWTwu':_0x1f00d4(0xb1),'biKdd':_0x1f00d4(0xff),'Uzuei':function(_0x349d7e,_0x30158c){return _0x349d7e<_0x30158c;},'mtyhb':function(_0x59252d,_0xedec09){return _0x59252d!==_0xedec09;},'yOcsx':_0x1f00d4(0x22f),'fDyxG':function(_0x77c10f,_0x5f4067){return _0x77c10f(_0x5f4067);},'ISsfL':_0x1f00d4(0x96),'Zhhkx':function(_0x3bff51,_0x316fc6){return _0x3bff51(_0x316fc6);},'ldFuJ':function(_0x110ec2,_0x2b6ac6){return _0x110ec2<=_0x2b6ac6;},'wRPMc':function(_0x5b0b50,_0x8cf01f){return _0x5b0b50>_0x8cf01f;},'aEAsa':_0x1f00d4(0x244),'QTmBT':function(_0x3a9e42,_0x4ecbb4){return _0x3a9e42-_0x4ecbb4;}},_0x532506=this[_0x1f00d4(0x1d2)]['toUpperCase'](),_0x502c0b=await _0x5c80bd[_0x1f00d4(0x9e)](_0x31f18a,_0x532506+_0x1f00d4(0x18a)),_0x289518=await _0x5c80bd[_0x1f00d4(0x9e)](_0x31f18a,_0x532506+_0x1f00d4(0xa7)),_0x404728=await _0x5c80bd[_0x1f00d4(0x9e)](_0x31f18a,_0x532506+_0x1f00d4(0xa2)),_0xc09402=await _0x5c80bd[_0x1f00d4(0x21c)](_0x31f18a,_0x532506+'\x20SUBSCRIPTION\x20ID:\x20');global_registry[_0x1f00d4(0xcb)]=_0x502c0b,global_registry[_0x1f00d4(0xd7)]=_0x289518,global_registry[_0x1f00d4(0x157)]=_0x404728,global_registry['cloudProviderSubscriptionId']=_0xc09402,this[_0x1f00d4(0x1ef)]();const _0x443042=await this[_0x1f00d4(0x183)](),_0x586a58=_0x443042['length'];let _0x4470d6;if(_0x5c80bd[_0x1f00d4(0x1c5)](_0x586a58,0x0)){if(_0x5c80bd['YpMQP'](_0x5c80bd['pExYD'],_0x5c80bd[_0x1f00d4(0x1c0)]))_0x4470d6=await _0x5c80bd[_0x1f00d4(0xb7)](_0x31f18a,_0x532506+_0x1f00d4(0xf0));else{const _0x37c80c=_0x47af37['includes'](_0x21d97a);_0x46c67d+='\x0a\x09'+_0x8b8cd2+':\x20'+(_0x37c80c?_0x5c80bd['ildgM']:_0x5c80bd[_0x1f00d4(0x230)]),!_0x37c80c&&(_0x549ba1[_0x1f00d4(0x205)]=![]);}}else{if(_0x5c80bd[_0x1f00d4(0x174)](_0x586a58,0x1)){if(_0x5c80bd[_0x1f00d4(0x21d)](_0x5c80bd[_0x1f00d4(0xea)],_0x5c80bd[_0x1f00d4(0xea)])){const _0xaf71cd=await _0x5c80bd[_0x1f00d4(0x1d1)](_0x31f18a,_0x1f00d4(0xf9)+_0x443042[0x0]+_0x1f00d4(0x1ba));(_0x5c80bd[_0x1f00d4(0x174)](_0xaf71cd,undefined)||_0x5c80bd[_0x1f00d4(0x21d)](_0xaf71cd,null)||!(_0x5c80bd[_0x1f00d4(0x18f)](_0xaf71cd[_0x1f00d4(0xc8)](),'y')||_0x5c80bd[_0x1f00d4(0xaa)](_0xaf71cd[_0x1f00d4(0xc8)](),'n')))&&(_0x5c80bd[_0x1f00d4(0x1eb)](_0x5c80bd['ThHAY'],_0x5c80bd[_0x1f00d4(0x173)])?_0x1592c0[_0x1f00d4(0x205)]=![]:(console[_0x1f00d4(0x1cf)](_0x5c80bd[_0x1f00d4(0x238)]),process[_0x1f00d4(0xa0)](0x1))),_0x5c80bd['qTAwc'](_0xaf71cd['toLowerCase'](),'n')&&(_0x5c80bd[_0x1f00d4(0x18f)](_0x5c80bd['DwLOG'],_0x5c80bd[_0x1f00d4(0x1cb)])?(_0x32d8d2+=_0x5c80bd[_0x1f00d4(0x174)](_0x45783c[_0x1f00d4(0x25e)],0x0)?_0x5c80bd['SDdnO']:'',_0x3b7bf1['debug'](_0x1f00d4(0x12d)+_0x271cfb['stringify'](_0x303af5))):process[_0x1f00d4(0xa0)](0x0)),_0x4470d6=_0x443042[0x0];}else{const _0x27e7f1=_0x5c80bd[_0x1f00d4(0x180)][_0x1f00d4(0x12f)]('|');let _0x62278f=0x0;while(!![]){switch(_0x27e7f1[_0x62278f++]){case'0':_0x1d89eb[_0x1f00d4(0xd7)]=_0x3af1c6[this[_0x1f00d4(0x1d2)]]['clientSecret'];continue;case'1':_0x4dcc4b[_0x1f00d4(0xcc)]=_0x4965b3[this[_0x1f00d4(0x1d2)]][_0x1f00d4(0x221)];continue;case'2':_0x5017dc[_0x1f00d4(0x157)]=_0x485bb3[this['cloudProviderName']][_0x1f00d4(0x1a2)];continue;case'3':_0xa5d173[_0x1f00d4(0xcb)]=_0x3ef1d3[this['cloudProviderName']][_0x1f00d4(0x11a)];continue;case'4':_0x1d90d8[_0x1f00d4(0x20b)]=_0x14b432[this['cloudProviderName']][_0x1f00d4(0x170)];continue;case'5':this[_0x1f00d4(0x1ef)]();continue;}break;}}}else{if(_0x5c80bd[_0x1f00d4(0x18f)](_0x5c80bd[_0x1f00d4(0x279)],_0x5c80bd['biKdd']))_0x514106[_0x1f00d4(0x159)][_0x1f00d4(0xb5)](_0x42e45d);else{for(let _0x26a945=0x0;_0x5c80bd[_0x1f00d4(0x106)](_0x26a945,_0x443042[_0x1f00d4(0x25e)]);_0x26a945+=0x1){_0x5c80bd[_0x1f00d4(0x1b6)](_0x5c80bd[_0x1f00d4(0x277)],_0x5c80bd[_0x1f00d4(0x277)])?_0x36ad78['log']('['+_0x5c80bd[_0x1f00d4(0xbd)](_0x53ba48,0x1)+']\x20'+_0x232c94[_0x4981b6]):console['log']('['+_0x5c80bd[_0x1f00d4(0xbd)](_0x26a945,0x1)+']\x20'+_0x443042[_0x26a945]);}const _0x21be80=await _0x5c80bd[_0x1f00d4(0x1b0)](_0x31f18a,_0x5c80bd[_0x1f00d4(0x228)]),_0x1871b1=_0x5c80bd[_0x1f00d4(0x14f)](Number,_0x21be80);if(_0x5c80bd['Zhhkx'](isNaN,_0x1871b1)||_0x5c80bd[_0x1f00d4(0xc3)](_0x1871b1,0x0)||_0x5c80bd[_0x1f00d4(0x8e)](_0x1871b1,_0x586a58)){if(_0x5c80bd[_0x1f00d4(0x1c5)](_0x5c80bd[_0x1f00d4(0xa6)],_0x5c80bd[_0x1f00d4(0xa6)]))console[_0x1f00d4(0x1cf)](_0x5c80bd[_0x1f00d4(0x238)]),process[_0x1f00d4(0xa0)](0x1);else return;}_0x4470d6=_0x443042[_0x5c80bd[_0x1f00d4(0x270)](_0x1871b1,0x1)];}}}global_registry[_0x1f00d4(0xcc)]=_0x4470d6;const _0xed1ef0={};return _0xed1ef0[_0x1f00d4(0x11a)]=_0x502c0b,_0xed1ef0[_0x1f00d4(0x1e9)]=_0x289518,_0xed1ef0[_0x1f00d4(0x1a2)]=_0x404728,_0xed1ef0[_0x1f00d4(0x170)]=_0xc09402,_0xed1ef0[_0x1f00d4(0x221)]=_0x4470d6,_0x128d85[_0x1f00d4(0x192)][AZURE]=_0xed1ef0,_0x128d85;}async['getResourceGroups'](){const _0x39a970=a1_0x4436c1,_0xd2e7be={};_0xd2e7be[_0x39a970(0xb3)]=function(_0x4ffaac,_0x595c8d){return _0x4ffaac===_0x595c8d;},_0xd2e7be[_0x39a970(0x206)]='Aeiib',_0xd2e7be[_0x39a970(0x1ab)]=_0x39a970(0x257),_0xd2e7be[_0x39a970(0x265)]=_0x39a970(0x1da);const _0x1813af=_0xd2e7be,_0x250293=[];try{if(_0x1813af[_0x39a970(0xb3)](_0x1813af[_0x39a970(0x206)],_0x1813af[_0x39a970(0x1ab)]))_0x4ca21f=_0x1a0f06['id'];else{const _0x3f2b96=await this['resourceClient'][_0x39a970(0x203)]['list']();for await(const _0x15b0a1 of _0x3f2b96){if(_0x1813af[_0x39a970(0xb3)](_0x1813af[_0x39a970(0x265)],_0x1813af[_0x39a970(0x265)]))_0x250293[_0x39a970(0xb5)](_0x15b0a1['name']);else{const _0x112226=new _0x382a33(_0x325efb[_0x39a970(0x157)],_0x2c3e4e['cloudProviderClientId'],_0x4b5cb2['cloudProviderClientSecret']);this[_0x39a970(0x1bc)]=new _0x1fc461(_0x112226,_0x3ee71d['cloudProviderSubscriptionId']),this[_0x39a970(0x124)]=new _0x16736d(_0x112226,_0x1dae33[_0x39a970(0x20b)]),this[_0x39a970(0xb2)]=new _0x5ec179(_0x112226,_0x54ddb9[_0x39a970(0x20b)]),this['networkClient']=new _0x24aaa1(_0x112226,_0x284ef7[_0x39a970(0x20b)]),this['authClient']=new _0x2da280(_0x112226,_0x57f341[_0x39a970(0x20b)]),this[_0x39a970(0xd9)]=_0x112226;}}}}catch(_0x5d6d5a){}return _0x250293;}async[a1_0x4436c1(0x1f4)](){const _0x22e10f=a1_0x4436c1;return this[_0x22e10f(0x176)]=await this['containerClient'][_0x22e10f(0x197)][_0x22e10f(0x132)](global_registry[_0x22e10f(0xcc)],this[_0x22e10f(0x252)]),this[_0x22e10f(0x176)];}async['getKubeConfigData'](){const _0x1348fb=a1_0x4436c1,_0x2becb7=await this[_0x1348fb(0x1bc)][_0x1348fb(0x197)][_0x1348fb(0x10e)](global_registry[_0x1348fb(0xcc)],this[_0x1348fb(0x252)]),_0x32f6a7=_0x2becb7[_0x1348fb(0x226)][0x0]['value']['toString']();return _0x32f6a7;}[a1_0x4436c1(0x23a)](_0x496ce8){const _0x367371=a1_0x4436c1;return _0x496ce8[_0x367371(0x205)]['loadBalancer'][_0x367371(0x1e3)][0x0][_0x367371(0x1f2)];}async[a1_0x4436c1(0x1ee)](){const _0x46aa30=a1_0x4436c1,_0x2088ea={};_0x2088ea[_0x46aa30(0x27a)]='Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.',_0x2088ea[_0x46aa30(0x188)]=_0x46aa30(0x19c),_0x2088ea[_0x46aa30(0x214)]=function(_0x579ac9,_0x177a2a){return _0x579ac9===_0x177a2a;},_0x2088ea[_0x46aa30(0x16b)]=function(_0x44f842,_0x24fade){return _0x44f842!==_0x24fade;},_0x2088ea['OcloX']=_0x46aa30(0x250),_0x2088ea[_0x46aa30(0x195)]=_0x46aa30(0x207),_0x2088ea[_0x46aa30(0xec)]=function(_0x4160e7,_0x41ad82){return _0x4160e7===_0x41ad82;},_0x2088ea['YiiiC']=_0x46aa30(0x1ea);const _0x3d2815=_0x2088ea,_0xca81cb=new Array();for await(const _0x56c14f of this[_0x46aa30(0x1bc)]['managedClusters'][_0x46aa30(0x103)](global_registry[_0x46aa30(0xcc)])){_0x3d2815[_0x46aa30(0x16b)](_0x3d2815[_0x46aa30(0x187)],_0x3d2815[_0x46aa30(0x187)])?(_0x29becf[_0x46aa30(0x1cf)](_0x3d2815[_0x46aa30(0x27a)]),_0x372cfe['exit'](0x1)):_0xca81cb[_0x46aa30(0xb5)](_0x56c14f);}for await(const _0x59d73e of _0xca81cb){if(_0x3d2815['VpBTG'](_0x3d2815[_0x46aa30(0x195)],_0x3d2815['ZTzvP'])){_0x29a00c[_0x46aa30(0xdc)](_0x3d2815[_0x46aa30(0x188)]);const _0xcdc570={};_0xcdc570[_0x46aa30(0x12e)]=_0x1eb953[_0x46aa30(0x142)],_0xcdc570[_0x46aa30(0x251)]=_0x3d2815[_0x46aa30(0x188)],this[_0x46aa30(0xd6)][_0x46aa30(0x198)](this[_0x46aa30(0x1c3)],_0xcdc570),_0x5234bb[_0x46aa30(0x17f)][_0x46aa30(0xc6)]=!![];}else{if(_0x3d2815[_0x46aa30(0xec)](_0x59d73e['name'],this[_0x46aa30(0x252)])){if(_0x3d2815['jzVTn'](_0x3d2815[_0x46aa30(0x1ca)],_0x3d2815[_0x46aa30(0x1ca)]))return await this[_0x46aa30(0x1f4)](),!![];else{if(_0x3d2815[_0x46aa30(0x214)](_0x23e3ae[_0x46aa30(0x1d0)],_0x46aa30(0x9a)+this[_0x46aa30(0x252)]))return!![];}}}}return![];}async[a1_0x4436c1(0x1fb)](_0xbcdf46=null,_0x2abc12=null){const _0x2e8d4e=a1_0x4436c1,_0x5034b6={};_0x5034b6[_0x2e8d4e(0x125)]=_0x2e8d4e(0x181),_0x5034b6[_0x2e8d4e(0xb0)]='Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity';const _0x23c2b6=_0x5034b6,_0x2b4de3=_0x23c2b6[_0x2e8d4e(0x125)][_0x2e8d4e(0x12f)]('|');let _0x2a18e1=0x0;while(!![]){switch(_0x2b4de3[_0x2a18e1++]){case'0':const _0x370381={};_0x370381['type']=WS_EVENTS['LOG'],_0x370381[_0x2e8d4e(0x251)]=_0x23c2b6[_0x2e8d4e(0xb0)],this[_0x2e8d4e(0xd6)]['sendEventToBackend'](this['rws'],_0x370381);continue;case'1':this[_0x2e8d4e(0xd8)]();continue;case'2':await this[_0x2e8d4e(0x1bf)](_0xbcdf46,_0x2abc12);continue;case'3':return[_0xbcdf46,_0x2abc12];case'4':logger[_0x2e8d4e(0xdc)](_0x23c2b6[_0x2e8d4e(0xb0)]);continue;case'5':await this[_0x2e8d4e(0x1c2)]();continue;}break;}}async[a1_0x4436c1(0x1bf)](_0x3dd4cb=null,_0x22a1c2=null){const _0x1aca4c=a1_0x4436c1,_0x475417={'RHskl':function(_0x31ad6a,_0x458fdc,_0x26f09e){return _0x31ad6a(_0x458fdc,_0x26f09e);},'aJIac':'templates','HpTAD':_0x1aca4c(0xee),'llYlZ':_0x1aca4c(0x95),'sowfq':'utf-8','VUCmB':'true','wtWbP':_0x1aca4c(0x1b4),'RxEII':function(_0x1eb2f5,_0x226d16){return _0x1eb2f5!==_0x226d16;},'VvjSX':function(_0x2965a0,_0x4bd37b){return _0x2965a0!==_0x4bd37b;},'CiYUn':_0x1aca4c(0xcf),'gEzwq':'string','NUdex':_0x1aca4c(0x241),'wuMTv':_0x1aca4c(0x117),'tYPeQ':_0x1aca4c(0x10f),'IpcpE':_0x1aca4c(0xe6),'HXVHG':_0x1aca4c(0x1bb)};let _0x13b7a5=await fs[_0x1aca4c(0xdf)](path['join'](__dirname,'..',_0x475417[_0x1aca4c(0x225)],_0x475417[_0x1aca4c(0x104)],_0x475417[_0x1aca4c(0x15e)]),_0x475417[_0x1aca4c(0x1fa)]);_0x13b7a5=JSON[_0x1aca4c(0x182)](_0x13b7a5);const _0x523a21={};_0x523a21[_0x1aca4c(0x146)]=this[_0x1aca4c(0x252)];const _0x4b459b={};_0x4b459b['value']=global_registry['clusterRegion'];const _0x1c202d={};_0x1c202d[_0x1aca4c(0x146)]=global_registry['instanceType'];const _0x128004={};_0x128004[_0x1aca4c(0x146)]=global_registry[_0x1aca4c(0x115)];const _0x4a6588={};_0x4a6588['value']=global_registry[_0x1aca4c(0xf1)]?_0x475417[_0x1aca4c(0x18d)]:_0x475417[_0x1aca4c(0x111)];const _0x42b226={};_0x42b226['clusterName']=_0x523a21,_0x42b226[_0x1aca4c(0x1ed)]=_0x4b459b,_0x42b226[_0x1aca4c(0x1c1)]=_0x1c202d,_0x42b226[_0x1aca4c(0x13f)]=_0x128004,_0x42b226[_0x1aca4c(0xf1)]=_0x4a6588;let _0x3a86b4=_0x42b226;if(_0x475417[_0x1aca4c(0x14a)](_0x3dd4cb,null)&&_0x475417[_0x1aca4c(0x11e)](_0x22a1c2,null)){if(_0x475417[_0x1aca4c(0x14a)](_0x475417[_0x1aca4c(0x13e)],_0x475417[_0x1aca4c(0x13e)]))_0x475417[_0x1aca4c(0x13b)](_0x42aca4,()=>_0x361883(),0x3e8);else{const _0x347dee={};_0x347dee[_0x1aca4c(0x12e)]=_0x475417[_0x1aca4c(0x20f)],_0x347dee[_0x1aca4c(0x126)]={},_0x347dee[_0x1aca4c(0x126)][_0x1aca4c(0x22d)]=_0x475417['NUdex'];const _0x13dea4={};_0x13dea4['type']=_0x475417['gEzwq'],_0x13dea4[_0x1aca4c(0x126)]={},_0x13dea4[_0x1aca4c(0x126)][_0x1aca4c(0x22d)]=_0x475417[_0x1aca4c(0x19f)],_0x13b7a5['parameters']={..._0x13b7a5[_0x1aca4c(0x175)],'vpcName':_0x347dee,'subnetName':_0x13dea4};const _0x1e5e46={};_0x1e5e46['vnetSubnetID']=_0x475417[_0x1aca4c(0x1ec)],_0x13b7a5[_0x1aca4c(0x264)]=_0x1e5e46,_0x13b7a5['resources'][0x0]['properties'][_0x1aca4c(0x113)][0x0]={..._0x13b7a5[_0x1aca4c(0x1b2)][0x0][_0x1aca4c(0x8f)]['agentPoolProfiles'][0x0],'vnetSubnetID':_0x475417[_0x1aca4c(0x1d3)]};const _0x1475b6={};_0x1475b6[_0x1aca4c(0x146)]=_0x3dd4cb;const _0x1945a0={};_0x1945a0[_0x1aca4c(0x146)]=_0x22a1c2[0x0],_0x3a86b4={..._0x3a86b4,'vpcName':_0x1475b6,'subnetName':_0x1945a0};}}await this['resourceClient'][_0x1aca4c(0x100)][_0x1aca4c(0x1d4)](global_registry[_0x1aca4c(0xcc)],_0x475417[_0x1aca4c(0x1cc)],{'properties':{'template':_0x13b7a5,'mode':_0x475417[_0x1aca4c(0x216)],'parameters':_0x3a86b4}});}async['createOtherResources'](){const _0xa79cae=a1_0x4436c1,_0x257c31={};_0x257c31['UrzDB']=function(_0x4d3f15,_0xe5a1bd){return _0x4d3f15!==_0xe5a1bd;},_0x257c31[_0xa79cae(0x133)]=_0xa79cae(0xbb),_0x257c31[_0xa79cae(0x1a6)]='FHPKm',_0x257c31[_0xa79cae(0x1cd)]=_0xa79cae(0x16d),_0x257c31[_0xa79cae(0xc0)]=function(_0x3ca815,_0x1b47d4){return _0x3ca815!==_0x1b47d4;},_0x257c31[_0xa79cae(0x27c)]=_0xa79cae(0x97),_0x257c31['qYmCm']=_0xa79cae(0x16a),_0x257c31['snJwt']=function(_0x3bea54,_0x4e3568){return _0x3bea54===_0x4e3568;},_0x257c31[_0xa79cae(0x172)]=_0xa79cae(0x1db),_0x257c31[_0xa79cae(0x20a)]=_0xa79cae(0x21e),_0x257c31[_0xa79cae(0x186)]=_0xa79cae(0x1d9),_0x257c31[_0xa79cae(0x130)]=_0xa79cae(0x98),_0x257c31[_0xa79cae(0x240)]='HwUPI',_0x257c31['KJCqI']='Managed\x20identity\x20already\x20exists,\x20skipping',_0x257c31[_0xa79cae(0x156)]=_0xa79cae(0x11c),_0x257c31[_0xa79cae(0x134)]='Created\x20Azure\x20federated\x20identity';const _0x42ea0c=_0x257c31,_0xa452f0=await this[_0xa79cae(0x224)]();if(!_0xa452f0){if(_0x42ea0c[_0xa79cae(0x22a)](_0x42ea0c[_0xa79cae(0x133)],_0x42ea0c[_0xa79cae(0x1a6)])){const _0x1c6a9b={};_0x1c6a9b['type']=WS_EVENTS[_0xa79cae(0x14d)],_0x1c6a9b['message']=_0x42ea0c[_0xa79cae(0x1cd)],this[_0xa79cae(0xd6)][_0xa79cae(0x198)](this[_0xa79cae(0x1c3)],_0x1c6a9b),logger[_0xa79cae(0xdc)](_0x42ea0c[_0xa79cae(0x1cd)]),await this[_0xa79cae(0x249)]();}else return[!![],_0x3a35f4];}else _0x42ea0c[_0xa79cae(0xc0)](_0x42ea0c[_0xa79cae(0x27c)],_0x42ea0c[_0xa79cae(0x27c)])?_0x37c846[_0xa79cae(0xa0)](0x0):logger[_0xa79cae(0xdc)](_0x42ea0c[_0xa79cae(0x92)]);const _0x23605c=await this['isManagedIdentityPresent']();if(!_0x23605c){if(_0x42ea0c['snJwt'](_0x42ea0c[_0xa79cae(0x172)],_0x42ea0c[_0xa79cae(0x20a)]))_0x5a33d0[_0xa79cae(0xb5)](..._0x484578[_0xa79cae(0x1a9)]);else{const _0x453a5e={};_0x453a5e['type']=WS_EVENTS[_0xa79cae(0x14d)],_0x453a5e[_0xa79cae(0x251)]=_0x42ea0c[_0xa79cae(0x186)],this['webSocketUtils'][_0xa79cae(0x198)](this[_0xa79cae(0x1c3)],_0x453a5e),logger[_0xa79cae(0xdc)](_0x42ea0c[_0xa79cae(0x186)]),await this[_0xa79cae(0x259)]();}}else{if(_0x42ea0c[_0xa79cae(0x22a)](_0x42ea0c['kpmBp'],_0x42ea0c['hUsuN']))logger[_0xa79cae(0xdc)](_0x42ea0c['KJCqI']);else return!![];}logger['info'](_0x42ea0c[_0xa79cae(0x156)]),await this[_0xa79cae(0x150)](),logger[_0xa79cae(0xdc)](_0x42ea0c[_0xa79cae(0x134)]);}async[a1_0x4436c1(0x249)](){const _0x21be1f=a1_0x4436c1,_0x2a58fd={};_0x2a58fd[_0x21be1f(0x17c)]=_0x21be1f(0x15c),_0x2a58fd[_0x21be1f(0x269)]=_0x21be1f(0xee),_0x2a58fd['IsVVn']=_0x21be1f(0x123),_0x2a58fd[_0x21be1f(0x12c)]='utf-8',_0x2a58fd[_0x21be1f(0x218)]='turboscale-storageaccount-deployment',_0x2a58fd[_0x21be1f(0x189)]='Incremental',_0x2a58fd[_0x21be1f(0x274)]=_0x21be1f(0x204),_0x2a58fd[_0x21be1f(0x239)]=_0x21be1f(0x13a),_0x2a58fd['hgrdF']=_0x21be1f(0x163),_0x2a58fd['mqxkS']=_0x21be1f(0x1a7);const _0x177b60=_0x2a58fd;let _0x35b608=await fs[_0x21be1f(0xdf)](path[_0x21be1f(0xdb)](__dirname,'..',_0x177b60['SwAVd'],_0x177b60[_0x21be1f(0x269)],_0x177b60['IsVVn']),_0x177b60['VRMcI']);_0x35b608=JSON[_0x21be1f(0x182)](_0x35b608);const _0x508028=this[_0x21be1f(0xc1)](),_0x204cf2={};_0x204cf2['value']=_0x508028;const _0xbf977b={};_0xbf977b[_0x21be1f(0x1c9)]=_0x204cf2,await this[_0x21be1f(0xb2)][_0x21be1f(0x100)][_0x21be1f(0x1d4)](global_registry[_0x21be1f(0xcc)],_0x177b60['IwlTO'],{'properties':{'template':_0x35b608,'mode':_0x177b60[_0x21be1f(0x189)],'parameters':_0xbf977b}});const _0x336428={};_0x336428[_0x21be1f(0x24b)]=0x3c;const _0x186758={};_0x186758['delete']=_0x336428;const _0x97d2c={};_0x97d2c[_0x21be1f(0x275)]=_0x186758;const _0x66877f={};_0x66877f[_0x21be1f(0xc6)]=!![],_0x66877f[_0x21be1f(0x1d0)]=_0x177b60[_0x21be1f(0x274)],_0x66877f[_0x21be1f(0x12e)]=_0x177b60[_0x21be1f(0x239)],_0x66877f[_0x21be1f(0x23c)]={},_0x66877f[_0x21be1f(0x23c)][_0x21be1f(0x1a9)]=_0x97d2c,_0x66877f[_0x21be1f(0x23c)][_0x21be1f(0x1dd)]={},_0x66877f[_0x21be1f(0x23c)][_0x21be1f(0x1dd)][_0x21be1f(0x1c4)]=[_0x177b60[_0x21be1f(0x19a)]];const _0x4d9543={};_0x4d9543[_0x21be1f(0x26d)]=[_0x66877f];const _0x1003c2={};_0x1003c2[_0x21be1f(0x25f)]=_0x4d9543;const _0x49d33e=_0x1003c2;await this['storageClient'][_0x21be1f(0x23f)][_0x21be1f(0x107)](global_registry[_0x21be1f(0xcc)],_0x508028,_0x177b60[_0x21be1f(0x118)],_0x49d33e);}async['createManagedIdentity'](){const _0x27a71e=a1_0x4436c1,_0x28519c={};_0x28519c[_0x27a71e(0xfa)]=_0x27a71e(0x15c),_0x28519c[_0x27a71e(0xe1)]=_0x27a71e(0xee),_0x28519c[_0x27a71e(0x193)]=_0x27a71e(0x1b3),_0x28519c[_0x27a71e(0x1d7)]='utf-8',_0x28519c[_0x27a71e(0x1b9)]='turboscale-identity-deployment',_0x28519c[_0x27a71e(0x1ae)]=_0x27a71e(0x1bb);const _0x4a48fb=_0x28519c;let _0x8d787c=await fs[_0x27a71e(0xdf)](path[_0x27a71e(0xdb)](__dirname,'..',_0x4a48fb[_0x27a71e(0xfa)],_0x4a48fb[_0x27a71e(0xe1)],_0x4a48fb['kCbrO']),_0x4a48fb[_0x27a71e(0x1d7)]);_0x8d787c=JSON[_0x27a71e(0x182)](_0x8d787c),await this['resourceClient'][_0x27a71e(0x100)][_0x27a71e(0x1d4)](global_registry[_0x27a71e(0xcc)],_0x4a48fb[_0x27a71e(0x1b9)],{'properties':{'template':_0x8d787c,'mode':_0x4a48fb[_0x27a71e(0x1ae)],'parameters':{'clusterName':{'value':this[_0x27a71e(0x252)]}}}});}async[a1_0x4436c1(0x150)](){const _0x47acba=a1_0x4436c1,_0x2e813d={};_0x2e813d[_0x47acba(0x10a)]=function(_0x180ae2,_0x1c1b2a){return _0x180ae2!==_0x1c1b2a;},_0x2e813d[_0x47acba(0xd2)]=_0x47acba(0x212),_0x2e813d[_0x47acba(0xc7)]=_0x47acba(0x25b),_0x2e813d[_0x47acba(0x137)]='node',_0x2e813d[_0x47acba(0x260)]=_0x47acba(0xba),_0x2e813d['xtcoK']=_0x47acba(0x15c),_0x2e813d['ruCcD']=_0x47acba(0xee),_0x2e813d[_0x47acba(0x17a)]=_0x47acba(0x256),_0x2e813d[_0x47acba(0x1e6)]=_0x47acba(0x25a),_0x2e813d[_0x47acba(0x140)]=_0x47acba(0x1bb);const _0x13b7f0=_0x2e813d;if(!this['clusterInfo']){if(_0x13b7f0[_0x47acba(0x10a)](_0x13b7f0[_0x47acba(0xd2)],_0x13b7f0[_0x47acba(0xd2)]))return _0xe91083[_0x47acba(0x1cf)](_0x47acba(0x1e2)+_0x59f0f7+':'+_0x24e148[_0x47acba(0x147)]),{};else await this[_0x47acba(0x1f4)]();}const _0x56c496=this[_0x47acba(0x176)]?.[_0x47acba(0x17f)]?.[_0x47acba(0x179)],_0x5b5cab=[_0x13b7f0[_0x47acba(0xc7)],_0x13b7f0[_0x47acba(0x137)]];for await(const _0xc43873 of _0x5b5cab){if(_0x13b7f0[_0x47acba(0x10a)](_0x13b7f0[_0x47acba(0x260)],_0x13b7f0[_0x47acba(0x260)]))return _0x3cd5ec[_0x47acba(0x205)]['loadBalancer'][_0x47acba(0x1e3)][0x0]['hostname'];else{let _0x1b3160=await fs['readFileAsync'](path[_0x47acba(0xdb)](__dirname,'..',_0x13b7f0[_0x47acba(0x93)],_0x13b7f0[_0x47acba(0x143)],'federatedidentity'+_0xc43873+_0x47acba(0x177)),_0x13b7f0[_0x47acba(0x17a)]);_0x1b3160=JSON[_0x47acba(0x182)](_0x1b3160);const _0x353e45={};_0x353e45[_0x47acba(0x146)]=_0x56c496,await this[_0x47acba(0xb2)]['deployments'][_0x47acba(0x1d4)](global_registry['cloudProviderResourceGroup'],_0x13b7f0[_0x47acba(0x1e6)],{'properties':{'template':_0x1b3160,'mode':_0x13b7f0[_0x47acba(0x140)],'parameters':{'oidcIssuer':_0x353e45,'gridName':{'value':this[_0x47acba(0xcd)]},'clusterName':{'value':this[_0x47acba(0x252)]}}}});}}}async[a1_0x4436c1(0x21a)](_0x367a7e,_0x4aed55,_0x11af33,_0x1caaec,_0x317343){const _0x2527f6=a1_0x4436c1,_0x2d1b21={};_0x2d1b21[_0x2527f6(0x231)]='Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha',_0x2d1b21[_0x2527f6(0x271)]=_0x2527f6(0x105);const _0x1ef606=_0x2d1b21,_0x151919={};_0x151919[_0x2527f6(0x12e)]=WS_EVENTS[_0x2527f6(0x14d)],_0x151919[_0x2527f6(0x251)]=_0x1ef606[_0x2527f6(0x231)],this[_0x2527f6(0xd6)][_0x2527f6(0x198)](this[_0x2527f6(0x1c3)],_0x151919),logger['info'](_0x1ef606[_0x2527f6(0x231)]),await this['createFederatedAccountForHubHA']();const _0x274516={};_0x274516['type']=WS_EVENTS[_0x2527f6(0x14d)],_0x274516[_0x2527f6(0x251)]=_0x1ef606['GJvqp'],this[_0x2527f6(0xd6)][_0x2527f6(0x198)](this['rws'],_0x274516);}async[a1_0x4436c1(0x9b)](){const _0x129c93=a1_0x4436c1,_0x5b0102={};_0x5b0102['wEnFk']=function(_0x4c90ac,_0x2040ca){return _0x4c90ac===_0x2040ca;},_0x5b0102['YOVYr']=function(_0x28439c,_0xf78c00){return _0x28439c===_0xf78c00;},_0x5b0102[_0x129c93(0x114)]='hPNmZ',_0x5b0102[_0x129c93(0xaf)]=_0x129c93(0x18b),_0x5b0102[_0x129c93(0xb8)]='templates',_0x5b0102[_0x129c93(0x1aa)]='hubharesources',_0x5b0102[_0x129c93(0x110)]=_0x129c93(0xe8),_0x5b0102[_0x129c93(0x1a1)]=_0x129c93(0x256),_0x5b0102['ehhqd']=_0x129c93(0x25a),_0x5b0102['CsMgH']=_0x129c93(0x1bb);const _0x3e8499=_0x5b0102;!this['clusterInfo']&&(_0x3e8499[_0x129c93(0x99)](_0x3e8499[_0x129c93(0x114)],_0x3e8499[_0x129c93(0xaf)])?_0x3e8499[_0x129c93(0xda)](_0x114049[_0x129c93(0x1d0)],_0x2d064f)&&(_0x4d7118=_0x34e18a['id']):await this['getClusterInfo']());const _0x576243=this['clusterInfo']?.[_0x129c93(0x17f)]?.[_0x129c93(0x179)];let _0x58d956=await fs['readFileAsync'](path[_0x129c93(0xdb)](__dirname,'..',_0x3e8499[_0x129c93(0xb8)],_0x3e8499[_0x129c93(0x1aa)],_0x3e8499[_0x129c93(0x110)]),_0x3e8499['KxMSr']);_0x58d956=JSON['parse'](_0x58d956);const _0x11d226={};_0x11d226[_0x129c93(0x146)]=_0x576243,await this['resourceClient'][_0x129c93(0x100)][_0x129c93(0x1d4)](global_registry[_0x129c93(0xcc)],_0x3e8499[_0x129c93(0x248)],{'properties':{'template':_0x58d956,'mode':_0x3e8499['CsMgH'],'parameters':{'oidcIssuer':_0x11d226,'namespace':{'value':global_registry['hubHaNameSpace']},'clusterName':{'value':this[_0x129c93(0x252)]}}}});}async[a1_0x4436c1(0x224)](){const _0x200538=a1_0x4436c1,_0x4278eb={};_0x4278eb['yyiMK']=function(_0x1301c1,_0x2be6ae){return _0x1301c1!==_0x2be6ae;},_0x4278eb[_0x200538(0x210)]=_0x200538(0xe2),_0x4278eb['FUCeK']=_0x200538(0xd1),_0x4278eb[_0x200538(0x20e)]=_0x200538(0x162),_0x4278eb[_0x200538(0x27b)]='Zxpfw',_0x4278eb['fLcHV']=function(_0x2d1b6b,_0x2b2bc8){return _0x2d1b6b===_0x2b2bc8;},_0x4278eb[_0x200538(0x272)]=_0x200538(0x263);const _0x238efe=_0x4278eb,_0x1e307b=this['getStorageAccountName'](),_0x297a33=new Array();for await(const _0x4a3104 of this[_0x200538(0x124)]['storageAccounts'][_0x200538(0x103)](global_registry[_0x200538(0xcc)])){_0x238efe[_0x200538(0x185)](_0x238efe[_0x200538(0x210)],_0x238efe[_0x200538(0x26e)])?_0x297a33['push'](_0x4a3104):_0x9af38b[_0x200538(0x1cf)]=_0x50bdcb;}for await(const _0x49645e of _0x297a33){if(_0x238efe[_0x200538(0x185)](_0x238efe[_0x200538(0x20e)],_0x238efe[_0x200538(0x27b)])){if(_0x238efe[_0x200538(0x15b)](_0x49645e[_0x200538(0x1d0)],_0x1e307b))return _0x238efe[_0x200538(0x185)](_0x238efe['HcPqp'],_0x238efe[_0x200538(0x272)])?!![]:!![];}else _0x4ee9e3[_0x200538(0xb5)](_0x514fdd['name']);}return![];}async[a1_0x4436c1(0x1e8)](){const _0x39d2e9=a1_0x4436c1,_0x296e7f={};_0x296e7f[_0x39d2e9(0x1c7)]=function(_0x734475,_0x20969e){return _0x734475===_0x20969e;},_0x296e7f[_0x39d2e9(0x243)]='pZIvS',_0x296e7f['kxYxf']=function(_0x538856,_0x3489c6){return _0x538856!==_0x3489c6;},_0x296e7f['JXPuK']=_0x39d2e9(0x222),_0x296e7f[_0x39d2e9(0xa9)]=_0x39d2e9(0xac),_0x296e7f['sIeKT']=function(_0x3c1f81,_0xd55b61){return _0x3c1f81!==_0xd55b61;},_0x296e7f[_0x39d2e9(0x90)]=_0x39d2e9(0x1a0),_0x296e7f[_0x39d2e9(0x13c)]=_0x39d2e9(0x17b);const _0xa6748a=_0x296e7f,_0xfd4d35=new Array();for await(const _0x490263 of this[_0x39d2e9(0xb2)][_0x39d2e9(0x1b2)][_0x39d2e9(0x103)](global_registry[_0x39d2e9(0xcc)])){_0xa6748a[_0x39d2e9(0x1c7)](_0xa6748a[_0x39d2e9(0x243)],_0xa6748a[_0x39d2e9(0x243)])?_0xfd4d35[_0x39d2e9(0xb5)](_0x490263):_0x4d615e[_0x39d2e9(0xb5)](_0x49fcfa);}for await(const _0x2c02b8 of _0xfd4d35){if(_0xa6748a[_0x39d2e9(0x9f)](_0xa6748a[_0x39d2e9(0x1af)],_0xa6748a[_0x39d2e9(0xa9)])){if(_0xa6748a[_0x39d2e9(0x1c7)](_0x2c02b8[_0x39d2e9(0x1d0)],_0x39d2e9(0x9a)+this[_0x39d2e9(0x252)])){if(_0xa6748a['sIeKT'](_0xa6748a['rHJtR'],_0xa6748a[_0x39d2e9(0x13c)]))return!![];else _0x4b075d[_0x39d2e9(0xb5)](_0x37aae0);}}else return _0x4d816c[_0x39d2e9(0x1cf)](_0x39d2e9(0x20d)+_0x2f7b23+'.\x20Error:\x20'+_0x5b8876),[![],[]];}return![];}async[a1_0x4436c1(0x199)](_0x1db3d6,_0x277a0e=0x3){const _0x2d7ffd=a1_0x4436c1,_0x4e35b8={'qalHB':function(_0x5670f8,_0x57ade8){return _0x5670f8===_0x57ade8;},'wrKZW':'Managed\x20identity\x20already\x20exists,\x20skipping','XbTyu':_0x2d7ffd(0x266),'SYtxU':function(_0x8e2ad,_0x110836){return _0x8e2ad+_0x110836;},'CEVbU':_0x2d7ffd(0x1a5),'JvRUk':function(_0x25ce90,_0x31b771){return _0x25ce90-_0x31b771;},'Dmesi':'No\x20CLI\x20tool\x20required','YSMiR':_0x2d7ffd(0x246),'XSoYK':function(_0x27b036,_0x52a0a6,_0x4d80be){return _0x27b036(_0x52a0a6,_0x4d80be);},'pcNKd':_0x2d7ffd(0x208),'QQuZY':_0x2d7ffd(0x122),'UmdFx':function(_0x46c531,_0x57c266){return _0x46c531!==_0x57c266;},'XjHpa':_0x2d7ffd(0x217),'kXSIM':_0x2d7ffd(0x1d8),'RHLHl':_0x2d7ffd(0x17d),'mIREV':'aGyEN','ZpHws':_0x2d7ffd(0x227),'jCqfR':_0x2d7ffd(0x261),'lOEkl':function(_0x1928e2,_0x31a58a){return _0x1928e2===_0x31a58a;},'ftZIy':_0x2d7ffd(0xd5),'DAauO':_0x2d7ffd(0x17e),'XymIj':function(_0x188b78,_0xf33c36){return _0x188b78<=_0xf33c36;},'zmCUj':'yiSgk','cxcwY':'MBxiY','hBqvx':function(_0x18b057,_0x799b7c){return _0x18b057-_0x799b7c;}};try{if(_0x4e35b8['qalHB'](_0x4e35b8['pcNKd'],_0x4e35b8['QQuZY']))_0x7114d4[_0x2d7ffd(0x1cf)]=_0x4ed68e;else{const _0x3c0c7d=new Array();for await(const _0x199a37 of this[_0x2d7ffd(0xb2)]['resources'][_0x2d7ffd(0x103)](global_registry[_0x2d7ffd(0xcc)])){if(_0x4e35b8['UmdFx'](_0x4e35b8[_0x2d7ffd(0x22b)],_0x4e35b8['kXSIM']))_0x3c0c7d[_0x2d7ffd(0xb5)](_0x199a37);else{if(_0x4e35b8[_0x2d7ffd(0x1e7)](_0x45dcad[_0x2d7ffd(0x1d0)],_0x20ed97))return!![];}}let _0x4bd680='';for await(const _0x24156e of _0x3c0c7d){_0x4e35b8[_0x2d7ffd(0x1e7)](_0x4e35b8[_0x2d7ffd(0x148)],_0x4e35b8['mIREV'])?_0x45d13b[_0x2d7ffd(0xb5)](_0xb0dcca):_0x4e35b8[_0x2d7ffd(0x1e7)](_0x24156e[_0x2d7ffd(0x1d0)],_0x1db3d6)&&(_0x4e35b8[_0x2d7ffd(0x1e7)](_0x4e35b8['ZpHws'],_0x4e35b8[_0x2d7ffd(0x1fc)])?_0x4bd680=_0x24156e['id']:_0x1dd2ce[_0x2d7ffd(0xdc)](_0x4e35b8[_0x2d7ffd(0xde)]));}const _0x12e76b=await this[_0x2d7ffd(0xb2)][_0x2d7ffd(0x1b2)][_0x2d7ffd(0xe4)](_0x4bd680,_0x4e35b8['jCqfR']);return _0x12e76b[_0x2d7ffd(0x8f)]['clientId'];}}catch(_0x267bdc){if(_0x4e35b8[_0x2d7ffd(0xef)](_0x4e35b8[_0x2d7ffd(0x10b)],_0x4e35b8[_0x2d7ffd(0xc4)])){_0x319d1a[_0x2d7ffd(0xdc)](_0x4e35b8['XbTyu']);const _0x5ca5bd={};_0x5ca5bd[_0x2d7ffd(0x12e)]=_0x4d40d9[_0x2d7ffd(0x142)],_0x5ca5bd[_0x2d7ffd(0x251)]=_0x4e35b8[_0x2d7ffd(0x14e)],this[_0x2d7ffd(0xd6)][_0x2d7ffd(0x198)](this[_0x2d7ffd(0x1c3)],_0x5ca5bd),_0x510d69[_0x2d7ffd(0x229)]=![];}else{if(_0x4e35b8['XymIj'](_0x277a0e,0x0)){if(_0x4e35b8[_0x2d7ffd(0x112)](_0x4e35b8[_0x2d7ffd(0x1c6)],_0x4e35b8[_0x2d7ffd(0x151)]))return logger[_0x2d7ffd(0x1cf)](_0x2d7ffd(0x1e2)+_0x267bdc+':'+_0x267bdc['stack']),{};else{const _0x1a3262=_0x232ce1['s3Bucket'][_0x2d7ffd(0x12f)]('-'),_0x361857=_0x4e35b8[_0x2d7ffd(0x22c)](_0x4e35b8['CEVbU'],_0x1a3262[_0x4e35b8[_0x2d7ffd(0xe0)](_0x1a3262[_0x2d7ffd(0x25e)],0x1)])['slice'](0x0,0x18);return _0x361857[_0x2d7ffd(0xc8)]();}}return await new Promise(_0x1acca2=>{const _0x6b25dc=_0x2d7ffd;if(_0x4e35b8[_0x6b25dc(0x1e7)](_0x4e35b8[_0x6b25dc(0x235)],_0x4e35b8[_0x6b25dc(0x235)]))_0x4e35b8[_0x6b25dc(0x149)](setTimeout,()=>_0x1acca2(),0x3e8);else{const _0xf3e7f3={};_0xf3e7f3['status']=!![],_0xf3e7f3[_0x6b25dc(0x1cf)]=null,_0xf3e7f3[_0x6b25dc(0x167)]=_0x4e35b8[_0x6b25dc(0x152)];const _0x42dee1=_0xf3e7f3;return _0x42dee1;}}),this[_0x2d7ffd(0x199)](_0x1db3d6,_0x4e35b8['hBqvx'](_0x277a0e,0x1));}}}async[a1_0x4436c1(0x127)](){const _0x408e34=a1_0x4436c1,_0x33ff73={};_0x33ff73[_0x408e34(0xa5)]='string',_0x33ff73[_0x408e34(0x22e)]=_0x408e34(0x241),_0x33ff73[_0x408e34(0x1f0)]=_0x408e34(0x117),_0x33ff73[_0x408e34(0x262)]=_0x408e34(0x10f),_0x33ff73[_0x408e34(0x158)]=function(_0x741d60,_0x1f5333){return _0x741d60!==_0x1f5333;},_0x33ff73['EnVCn']=_0x408e34(0x94),_0x33ff73['iOneG']='ewPnu',_0x33ff73[_0x408e34(0x9d)]=function(_0x4870f7,_0x421ff4){return _0x4870f7===_0x421ff4;},_0x33ff73[_0x408e34(0x9c)]=_0x408e34(0x160),_0x33ff73['RuVet']=_0x408e34(0x155),_0x33ff73['VWcqv']=function(_0x4ef709,_0x2749c6){return _0x4ef709===_0x2749c6;},_0x33ff73[_0x408e34(0x23d)]='mJONh';const _0x4ba5a2=_0x33ff73;if(!this[_0x408e34(0x176)]){if(_0x4ba5a2[_0x408e34(0x158)](_0x4ba5a2[_0x408e34(0x194)],_0x4ba5a2[_0x408e34(0x24f)]))await this[_0x408e34(0x1f4)]();else return!![];}const _0x3cc42c=this['clusterInfo']?.['tags']||{};if(_0x3cc42c&&_0x4ba5a2[_0x408e34(0x9d)](_0x3cc42c[_0x4ba5a2['IQSbk']],_0x4ba5a2[_0x408e34(0xe5)])){if(_0x4ba5a2[_0x408e34(0xf5)](_0x4ba5a2['zchPB'],_0x4ba5a2[_0x408e34(0x23d)]))return!![];else{const _0x354c34={};_0x354c34[_0x408e34(0x12e)]=_0x4ba5a2[_0x408e34(0xa5)],_0x354c34['metadata']={},_0x354c34['metadata'][_0x408e34(0x22d)]=_0x4ba5a2[_0x408e34(0x22e)];const _0x192117={};_0x192117[_0x408e34(0x12e)]=_0x4ba5a2[_0x408e34(0xa5)],_0x192117[_0x408e34(0x126)]={},_0x192117[_0x408e34(0x126)][_0x408e34(0x22d)]=_0x4ba5a2['MorYb'];const _0xedcce9={..._0x849e1f['parameters']};_0xedcce9[_0x408e34(0x23b)]=_0x354c34,_0xedcce9['subnetName']=_0x192117,_0x39233b[_0x408e34(0x175)]=_0xedcce9;const _0x4ad043={};_0x4ad043[_0x408e34(0x101)]=_0x4ba5a2[_0x408e34(0x1f0)],_0xa35e86[_0x408e34(0x264)]=_0x4ad043;const _0x2d24d4={..._0x295940['resources'][0x0][_0x408e34(0x8f)][_0x408e34(0x113)][0x0]};_0x2d24d4[_0x408e34(0x101)]=_0x4ba5a2[_0x408e34(0x262)],_0x166b75[_0x408e34(0x1b2)][0x0][_0x408e34(0x8f)][_0x408e34(0x113)][0x0]=_0x2d24d4;const _0x468ede={};_0x468ede[_0x408e34(0x146)]=_0x1e918c;const _0x12f9f9={};_0x12f9f9[_0x408e34(0x146)]=_0x2049a0[0x0];const _0x5822ed={..._0x508908};_0x5822ed[_0x408e34(0x23b)]=_0x468ede,_0x5822ed[_0x408e34(0xe3)]=_0x12f9f9,_0x18ea32=_0x5822ed;}}return![];}async[a1_0x4436c1(0x1f9)](_0x581064,_0x46bbaf){const _0xe93abc=a1_0x4436c1,_0x17430d={'xaglV':function(_0x38a152,_0x327dbc){return _0x38a152(_0x327dbc);},'MShga':_0xe93abc(0xb4)};await _0x17430d[_0xe93abc(0xb9)](deleteAgent,_0x581064),await _0x17430d[_0xe93abc(0xb9)](deleteRoutingDeps,_0x581064);const _0x22d654=this[_0xe93abc(0x1bc)];logger[_0xe93abc(0xdc)]('Deleting\x20the\x20cluster\x20'+this['clusterName']),await _0x22d654[_0xe93abc(0x197)]['beginDeleteAndWait'](global_registry['cloudProviderResourceGroup'],this[_0xe93abc(0x252)]),logger['info'](_0x17430d['MShga']);}async['updateClusterAlreadyPresent'](){const _0x1e9cf8=a1_0x4436c1,_0x5698e1={};_0x5698e1[_0x1e9cf8(0x161)]=_0x1e9cf8(0xa3),_0x5698e1['hDKgu']=_0x1e9cf8(0x278),_0x5698e1['UtZgb']=function(_0x5d5965,_0x3559e1){return _0x5d5965!==_0x3559e1;},_0x5698e1[_0x1e9cf8(0x12a)]=_0x1e9cf8(0x242),_0x5698e1['FZdWG']=_0x1e9cf8(0x273),_0x5698e1[_0x1e9cf8(0x14b)]=function(_0x428aab,_0x5c502d){return _0x428aab&&_0x5c502d;},_0x5698e1[_0x1e9cf8(0x128)]=function(_0x3b0935,_0x2d40a7){return _0x3b0935===_0x2d40a7;},_0x5698e1[_0x1e9cf8(0x168)]=_0x1e9cf8(0x247),_0x5698e1[_0x1e9cf8(0x24c)]=function(_0x47a95a,_0x3f9e2e){return _0x47a95a!==_0x3f9e2e;},_0x5698e1[_0x1e9cf8(0xdd)]=_0x1e9cf8(0x164),_0x5698e1[_0x1e9cf8(0x171)]=_0x1e9cf8(0x255),_0x5698e1[_0x1e9cf8(0x10d)]=_0x1e9cf8(0x19c),_0x5698e1[_0x1e9cf8(0xbc)]=function(_0x320fb0,_0x1b783e){return _0x320fb0===_0x1b783e;},_0x5698e1[_0x1e9cf8(0xad)]=_0x1e9cf8(0x26f),_0x5698e1[_0x1e9cf8(0x1c8)]=_0x1e9cf8(0x1b7),_0x5698e1[_0x1e9cf8(0x267)]='oCSuR',_0x5698e1[_0x1e9cf8(0xce)]=_0x1e9cf8(0x135),_0x5698e1[_0x1e9cf8(0x1fe)]=_0x1e9cf8(0x266);const _0x223369=_0x5698e1;if(!this[_0x1e9cf8(0x176)]){if(_0x223369[_0x1e9cf8(0x19e)](_0x223369[_0x1e9cf8(0x12a)],_0x223369['FZdWG']))await this[_0x1e9cf8(0x1f4)]();else return!![];}const _0x3d20c9=this[_0x1e9cf8(0x176)],_0x44d2be=this[_0x1e9cf8(0x176)]?.[_0x1e9cf8(0x17f)]?.[_0x1e9cf8(0xc6)]||![],_0x40daa8=this[_0x1e9cf8(0x176)]?.[_0x1e9cf8(0x1f7)]?.[_0x1e9cf8(0x91)]?.[_0x1e9cf8(0xc6)]||![],_0x36ed5d=!this[_0x1e9cf8(0x176)]?.[_0x1e9cf8(0x229)]||![];if(_0x223369['sDHkh'](_0x44d2be,_0x40daa8)&&_0x36ed5d){if(_0x223369[_0x1e9cf8(0x128)](_0x223369[_0x1e9cf8(0x168)],_0x223369['Optuo']))return;else{_0x265aed[_0x1e9cf8(0xdc)](_0x223369['XemUU']);const _0x17c209={};_0x17c209[_0x1e9cf8(0x12e)]=_0x2cf901[_0x1e9cf8(0x142)],_0x17c209[_0x1e9cf8(0x251)]=_0x223369[_0x1e9cf8(0x161)],this[_0x1e9cf8(0xd6)][_0x1e9cf8(0x198)](this[_0x1e9cf8(0x1c3)],_0x17c209);const _0x563dcc={};_0x563dcc[_0x1e9cf8(0xc6)]=!![];const _0x506106={'workloadIdentity':_0x563dcc,..._0x314fd7[_0x1e9cf8(0x1f7)]};_0x1df0cf['securityProfile']=_0x506106;}}if(!_0x44d2be){if(_0x223369[_0x1e9cf8(0x24c)](_0x223369[_0x1e9cf8(0xdd)],_0x223369[_0x1e9cf8(0x171)])){logger['info'](_0x223369[_0x1e9cf8(0x10d)]);const _0x5a9544={};_0x5a9544[_0x1e9cf8(0x12e)]=WS_EVENTS[_0x1e9cf8(0x142)],_0x5a9544[_0x1e9cf8(0x251)]=_0x223369['DjlCn'],this['webSocketUtils'][_0x1e9cf8(0x198)](this[_0x1e9cf8(0x1c3)],_0x5a9544),_0x3d20c9[_0x1e9cf8(0x17f)][_0x1e9cf8(0xc6)]=!![];}else throw new _0x274f2c(_0x223369[_0x1e9cf8(0x15a)],_0x1e9cf8(0x1ff)+_0x8ae82e[_0x1e9cf8(0x18e)](_0x1c8761));}if(!_0x40daa8){if(_0x223369['WpgUx'](_0x223369[_0x1e9cf8(0xad)],_0x223369[_0x1e9cf8(0x1c8)]))return _0xc390c2[_0x1e9cf8(0x1cf)]=_0x163cb8[_0x1e9cf8(0x1cf)],_0x4683e8;else{logger[_0x1e9cf8(0xdc)](_0x223369[_0x1e9cf8(0x161)]);const _0x76fc4b={};_0x76fc4b[_0x1e9cf8(0x12e)]=WS_EVENTS[_0x1e9cf8(0x142)],_0x76fc4b[_0x1e9cf8(0x251)]=_0x223369[_0x1e9cf8(0x161)],this['webSocketUtils'][_0x1e9cf8(0x198)](this[_0x1e9cf8(0x1c3)],_0x76fc4b);const _0x5085e3={};_0x5085e3[_0x1e9cf8(0xc6)]=!![],_0x3d20c9[_0x1e9cf8(0x1f7)]={'workloadIdentity':_0x5085e3,..._0x3d20c9[_0x1e9cf8(0x1f7)]};}}if(!_0x36ed5d){if(_0x223369[_0x1e9cf8(0x128)](_0x223369[_0x1e9cf8(0x267)],_0x223369['fkdfa']))return _0x1748d4[_0x1e9cf8(0x1cf)](_0x1e9cf8(0x196)+_0x433da5+_0x1e9cf8(0x184)+_0x45789f),![];else{logger[_0x1e9cf8(0xdc)](_0x223369['AkeSh']);const _0xbb673c={};_0xbb673c[_0x1e9cf8(0x12e)]=WS_EVENTS[_0x1e9cf8(0x142)],_0xbb673c[_0x1e9cf8(0x251)]=_0x223369[_0x1e9cf8(0x1fe)],this['webSocketUtils'][_0x1e9cf8(0x198)](this[_0x1e9cf8(0x1c3)],_0xbb673c),_0x3d20c9[_0x1e9cf8(0x229)]=![];}}await this[_0x1e9cf8(0x1bc)]['managedClusters']['beginCreateOrUpdateAndWait'](global_registry[_0x1e9cf8(0xcc)],this[_0x1e9cf8(0x252)],_0x3d20c9),await this['getClusterInfo']();}async['sendAzureInfoToHST'](){const _0x316b6c=a1_0x4436c1,_0x421fdf={};_0x421fdf[_0x316b6c(0x19b)]=function(_0x2bd9b4,_0x1dacba){return _0x2bd9b4===_0x1dacba;},_0x421fdf[_0x316b6c(0x191)]=_0x316b6c(0x1f1),_0x421fdf[_0x316b6c(0x139)]=_0x316b6c(0x1de);const _0x4c66b1=_0x421fdf,_0x2b27de=await this[_0x316b6c(0x253)]['virtualNetworks'][_0x316b6c(0x215)](global_registry[_0x316b6c(0xcc)]),_0x154f1c={};_0x154f1c[_0x316b6c(0x108)]=global_registry['bstackUsername'],_0x154f1c[_0x316b6c(0x1fd)]=global_registry[_0x316b6c(0x15d)],_0x154f1c[_0x316b6c(0x192)]=AZURE,_0x154f1c[_0x316b6c(0x159)]=[];const _0x44249e=_0x154f1c;for await(const _0x5da66f of _0x2b27de){if(_0x4c66b1[_0x316b6c(0x19b)](_0x4c66b1[_0x316b6c(0x191)],_0x4c66b1[_0x316b6c(0x139)])){if(_0x4c66b1['bWGQF'](_0xe47d39['name'],_0x25337a))return!![];}else _0x44249e['vpcInfo'][_0x316b6c(0xb5)](_0x5da66f);}const _0x286ee2={};_0x286ee2[_0x316b6c(0x12e)]=WS_EVENTS['RESOURCES'],_0x286ee2[_0x316b6c(0x251)]=_0x44249e,this['webSocketUtils'][_0x316b6c(0x198)](this[_0x316b6c(0x1c3)],_0x286ee2);}async[a1_0x4436c1(0x102)](_0x286802){const _0x3ef168=a1_0x4436c1,_0x164731={};_0x164731[_0x3ef168(0xb6)]=_0x3ef168(0xc2),_0x164731[_0x3ef168(0xc5)]='Storage\x20account\x20already\x20exists,\x20skipping',_0x164731[_0x3ef168(0x1ce)]=_0x3ef168(0xfb),_0x164731['sQaVk']=function(_0xf020c4,_0x2643d2){return _0xf020c4===_0x2643d2;},_0x164731[_0x3ef168(0x1f3)]='iCxsV',_0x164731[_0x3ef168(0x154)]=function(_0x145180,_0x180ea8){return _0x145180!==_0x180ea8;},_0x164731['oyikB']='gRftU',_0x164731[_0x3ef168(0x169)]=function(_0x3919e3,_0x303f13){return _0x3919e3!==_0x303f13;},_0x164731[_0x3ef168(0x1a8)]=_0x3ef168(0xd0),_0x164731[_0x3ef168(0x16f)]=function(_0x272372,_0x2528f5){return _0x272372!==_0x2528f5;},_0x164731[_0x3ef168(0x237)]=_0x3ef168(0x25d);const _0x16b4a0=_0x164731;try{if(_0x16b4a0[_0x3ef168(0x131)](_0x16b4a0[_0x3ef168(0x1f3)],_0x16b4a0[_0x3ef168(0x1f3)])){const _0x397747=await this[_0x3ef168(0x253)][_0x3ef168(0x121)][_0x3ef168(0x215)](global_registry[_0x3ef168(0xcc)]);for await(const _0x58f8d3 of _0x397747){if(_0x16b4a0['DafSF'](_0x16b4a0['oyikB'],_0x16b4a0[_0x3ef168(0xeb)]))return _0x3af1a1[_0x3ef168(0x167)]=_0x16b4a0[_0x3ef168(0xb6)],_0x330534;else{if(_0x16b4a0['sQaVk'](_0x58f8d3[_0x3ef168(0x1d0)],_0x286802)){if(_0x16b4a0['anUTX'](_0x16b4a0[_0x3ef168(0x1a8)],_0x16b4a0[_0x3ef168(0x1a8)]))_0x1672b9[_0x3ef168(0xb5)](_0x46d777);else return!![];}}}}else _0x1364d8[_0x3ef168(0xdc)](_0x16b4a0[_0x3ef168(0xc5)]);}catch(_0x483641){return _0x16b4a0[_0x3ef168(0x16f)](_0x16b4a0[_0x3ef168(0x237)],_0x16b4a0[_0x3ef168(0x237)])?(_0x1841be['data']=_0x16b4a0[_0x3ef168(0x1ce)],_0x3240eb):(logger[_0x3ef168(0x1cf)](_0x3ef168(0x196)+_0x286802+_0x3ef168(0x184)+_0x483641),![]);}return![];}async[a1_0x4436c1(0x1d5)](_0x70386e,_0x192472){const _0x2550e3=a1_0x4436c1,_0xe77cf7={};_0xe77cf7[_0x2550e3(0x1b8)]=_0x2550e3(0x109),_0xe77cf7[_0x2550e3(0x166)]=function(_0x518559,_0x558bfd){return _0x518559===_0x558bfd;},_0xe77cf7[_0x2550e3(0x14c)]=_0x2550e3(0xfc),_0xe77cf7['HoHYO']=function(_0x4e8950,_0x387bfb){return _0x4e8950===_0x387bfb;},_0xe77cf7['eCUyA']=_0x2550e3(0x15f);const _0x49c759=_0xe77cf7;try{if(_0x49c759[_0x2550e3(0x166)](_0x49c759['GrSVZ'],_0x49c759[_0x2550e3(0x14c)])){const _0x2b4f87=await this['networkClient'][_0x2550e3(0x21f)][_0x2550e3(0x132)](global_registry['cloudProviderResourceGroup'],_0x192472,_0x70386e[0x0]);if(_0x49c759['HoHYO'](_0x70386e[0x0],_0x2b4f87[_0x2550e3(0x1d0)])){if(_0x49c759[_0x2550e3(0x268)](_0x49c759[_0x2550e3(0x1b5)],_0x49c759[_0x2550e3(0x1b5)]))return[!![],_0x70386e];else _0x2dc331[_0x2550e3(0xb5)](_0x1a831d);}}else _0x2e4682[_0x2550e3(0x1cf)](_0x49c759['yhcmd']),_0x15dbff[_0x2550e3(0xa0)](0x1);}catch(_0xa77caf){return logger[_0x2550e3(0x1cf)](_0x2550e3(0x20d)+_0x70386e+'.\x20Error:\x20'+_0xa77caf),[![],[]];}return[![],[]];}async['isCliToolInstalled'](){const _0x9cd90b=a1_0x4436c1,_0x284717={};_0x284717[_0x9cd90b(0xc9)]=_0x9cd90b(0x211);const _0x22d885=_0x284717,_0x3fc27d={};_0x3fc27d[_0x9cd90b(0x205)]=!![],_0x3fc27d[_0x9cd90b(0x1cf)]=null,_0x3fc27d[_0x9cd90b(0x167)]=_0x22d885[_0x9cd90b(0xc9)];const _0x2d1440=_0x3fc27d;return _0x2d1440;}async['getHeader'](){const _0x2138d5=a1_0x4436c1,_0x730661={};_0x730661[_0x2138d5(0x233)]=_0x2138d5(0xbe),_0x730661[_0x2138d5(0x129)]=_0x2138d5(0x25c),_0x730661[_0x2138d5(0x19d)]=_0x2138d5(0x16e);const _0x168afb=_0x730661,_0x64696=await this[_0x2138d5(0xd9)]['getToken'](_0x168afb[_0x2138d5(0x233)]),_0x593823={};_0x593823[_0x2138d5(0xe9)]=_0x168afb[_0x2138d5(0x129)],_0x593823[_0x2138d5(0x202)]={},_0x593823[_0x2138d5(0x202)][_0x2138d5(0x153)]='Bearer\x20'+_0x64696['token'],_0x593823[_0x2138d5(0x202)][_0x2138d5(0x23e)]=_0x168afb[_0x2138d5(0x19d)];const _0x460f3a=_0x593823;return _0x460f3a;}async[a1_0x4436c1(0x119)](_0x30fbaa){const _0x1121ee=a1_0x4436c1,_0x4ea2a0={'CbRmU':function(_0x322c4b,_0x4c11f8,_0x40718e){return _0x322c4b(_0x4c11f8,_0x40718e);},'eSqXq':function(_0x444a4e,_0x1e80c9){return _0x444a4e===_0x1e80c9;},'shdaD':'No\x20service\x20principal\x20found'},_0x28f13e={};_0x28f13e[_0x1121ee(0x276)]='',_0x28f13e[_0x1121ee(0x1cf)]=null;const _0x31b84c=_0x28f13e;try{const _0x2764cc=_0x1121ee(0x26b)+_0x30fbaa+'\x27',_0x1f4380=await this[_0x1121ee(0x1e4)](),_0x4202df=await _0x4ea2a0[_0x1121ee(0x24d)](fetch,_0x2764cc,_0x1f4380),_0x1a0b77=await _0x4202df['json']();if(!_0x1a0b77[_0x1121ee(0x146)]||_0x4ea2a0[_0x1121ee(0x1f8)](_0x1a0b77['value'][_0x1121ee(0x25e)],0x0))throw new Error(_0x4ea2a0['shdaD'],'Received\x20response\x20-\x20'+JSON[_0x1121ee(0x18e)](_0x1a0b77));_0x31b84c[_0x1121ee(0x276)]=_0x1a0b77[_0x1121ee(0x146)][0x0]['id'];}catch(_0x39b3be){_0x31b84c['error']=_0x39b3be;}return _0x31b84c;}async[a1_0x4436c1(0x141)](){const _0x58c0da=a1_0x4436c1,_0x2bfd8e={};_0x2bfd8e['CdvKq']='allowed',_0x2bfd8e['LpeTi']=_0x58c0da(0x1ad),_0x2bfd8e[_0x58c0da(0x232)]=function(_0x170870,_0xca695d){return _0x170870!==_0xca695d;},_0x2bfd8e[_0x58c0da(0x11d)]=function(_0x4a547d,_0x42e10e){return _0x4a547d===_0x42e10e;},_0x2bfd8e[_0x58c0da(0x18c)]=_0x58c0da(0xfb),_0x2bfd8e[_0x58c0da(0x1e1)]=function(_0x15c1a0,_0x30596e){return _0x15c1a0===_0x30596e;},_0x2bfd8e[_0x58c0da(0x120)]=_0x58c0da(0xc2),_0x2bfd8e[_0x58c0da(0x1bd)]=function(_0x2022b3,_0x1dd1d8){return _0x2022b3===_0x1dd1d8;},_0x2bfd8e[_0x58c0da(0x1d6)]='Action\x20permission\x20list\x20is\x20empty\x0a';const _0x408efb=_0x2bfd8e,_0x4ad584={};_0x4ad584[_0x58c0da(0x205)]=![],_0x4ad584['error']=null,_0x4ad584[_0x58c0da(0x167)]='';const _0x52310c=_0x4ad584;try{let _0x4e7449='';const _0x4310b9=_0x58c0da(0xf6)+global_registry[_0x58c0da(0x20b)]+_0x58c0da(0x11b)+global_registry['cloudProviderResourceGroup'],_0x3a3bb9=await this['getPrincipalIdFromClientId'](global_registry[_0x58c0da(0xcb)]);if(_0x408efb[_0x58c0da(0x232)](_0x3a3bb9['error'],null))return _0x52310c[_0x58c0da(0x1cf)]=_0x3a3bb9[_0x58c0da(0x1cf)],_0x52310c;const _0x3cd7cc=_0x58c0da(0x220)+_0x3a3bb9[_0x58c0da(0x276)]+'\x27)',_0x2d72fe={};_0x2d72fe['filter']=_0x3cd7cc;const _0x2db580=await this['authClient'][_0x58c0da(0x213)][_0x58c0da(0x165)](_0x4310b9,_0x2d72fe),_0x3ef00c=[];for await(const _0xc39c68 of _0x2db580){_0x3ef00c[_0x58c0da(0xb5)](_0xc39c68);}if(_0x408efb[_0x58c0da(0x11d)](_0x3ef00c['length'],0x0))return _0x52310c[_0x58c0da(0x167)]=_0x408efb[_0x58c0da(0x18c)],_0x52310c;const _0x309914=[...new Set(_0x3ef00c[_0x58c0da(0x258)](_0x1c7c4a=>_0x1c7c4a[_0x58c0da(0x26c)]))];if(_0x408efb[_0x58c0da(0x1e1)](_0x309914['length'],0x0))return _0x52310c[_0x58c0da(0x167)]=_0x408efb[_0x58c0da(0x120)],_0x52310c;const _0x3d4c42=[],_0x3f844d=[];for(const _0x3c6d52 of _0x309914){const _0x1bdbac=await this[_0x58c0da(0xa8)][_0x58c0da(0x1f6)][_0x58c0da(0xe4)](_0x3c6d52);logger[_0x58c0da(0x145)](_0x58c0da(0xa1)+_0x1bdbac[_0x58c0da(0xa4)]),_0x3d4c42['push'](_0x1bdbac),logger['debug'](_0x58c0da(0x116)+JSON[_0x58c0da(0x18e)](_0x1bdbac[_0x58c0da(0x1df)])),_0x1bdbac[_0x58c0da(0x1df)][_0x58c0da(0x201)](_0x271540=>{const _0x1c6109=_0x58c0da;_0x3f844d[_0x1c6109(0xb5)](..._0x271540[_0x1c6109(0x1a9)]);});}logger[_0x58c0da(0x145)](_0x58c0da(0x136)+JSON[_0x58c0da(0x18e)](_0x3f844d)),_0x408efb['miTTf'](_0x3f844d[_0x58c0da(0x25e)],0x0)&&(_0x4e7449+=_0x408efb[_0x58c0da(0x1bd)](_0x3f844d['length'],0x0)?_0x408efb[_0x58c0da(0x1d6)]:'',logger[_0x58c0da(0x145)](_0x58c0da(0x12d)+JSON[_0x58c0da(0x18e)](_0x3d4c42))),_0x52310c[_0x58c0da(0x205)]=!![],Object[_0x58c0da(0xf8)](PERMISSIONS['ACTION'])[_0x58c0da(0x201)](([_0x2413a2,_0x6334cf])=>{const _0x51fae1=_0x58c0da,_0x4a6d2a=_0x3f844d[_0x51fae1(0xbf)](_0x2413a2);_0x4e7449+='\x0a\x09'+_0x6334cf+':\x20'+(_0x4a6d2a?_0x408efb['CdvKq']:_0x408efb[_0x51fae1(0x24a)]),!_0x4a6d2a&&(_0x52310c[_0x51fae1(0x205)]=![]);}),_0x52310c['data']=_0x4e7449;}catch(_0x302d7f){_0x52310c[_0x58c0da(0x1cf)]=_0x302d7f;}return _0x52310c;}}const a1_0x580802={};function a1_0x3205(_0x2ce792,_0x31b592){const _0x3eaf9d=a1_0x3eaf();return a1_0x3205=function(_0x3205d2,_0x223794){_0x3205d2=_0x3205d2-0x8e;let _0xeeeb74=_0x3eaf9d[_0x3205d2];return _0xeeeb74;},a1_0x3205(_0x2ce792,_0x31b592);}a1_0x580802[a1_0x4436c1(0x1ac)]=AzureCloudProvider,module[a1_0x4436c1(0x219)]=a1_0x580802;