const a1_0x306bc7=a1_0xf4a1;(function(_0x5e880b,_0x14db39){const _0x4b28a6=a1_0xf4a1,_0x1fe16b=_0x5e880b();while(!![]){try{const _0x236adb=-parseInt(_0x4b28a6(0x1c3))/0x1+-parseInt(_0x4b28a6(0x279))/0x2+parseInt(_0x4b28a6(0x272))/0x3*(-parseInt(_0x4b28a6(0x169))/0x4)+parseInt(_0x4b28a6(0x103))/0x5+parseInt(_0x4b28a6(0x1dc))/0x6*(-parseInt(_0x4b28a6(0x119))/0x7)+-parseInt(_0x4b28a6(0x13a))/0x8*(parseInt(_0x4b28a6(0x13b))/0x9)+parseInt(_0x4b28a6(0xf6))/0xa*(parseInt(_0x4b28a6(0x240))/0xb);if(_0x236adb===_0x14db39)break;else _0x1fe16b['push'](_0x1fe16b['shift']());}catch(_0x2eb391){_0x1fe16b['push'](_0x1fe16b['shift']());}}}(a1_0x21eb,0xe6169));const fs=require('fs'),path=require('path'),yaml=require(a1_0x306bc7(0x218)),{logger}=require(a1_0x306bc7(0x1a4)),{CloudProvider}=require('./CloudProvider'),{deleteRoutingDeps,deleteAgent}=require(a1_0x306bc7(0x2c8)),{AZURE,WS_EVENTS,global_registry}=require(a1_0x306bc7(0x19a)),PERMISSIONS=require(a1_0x306bc7(0xf4)),{ClientSecretCredential}=require(a1_0x306bc7(0x2d9)),{NetworkManagementClient}=require(a1_0x306bc7(0x1c2)),{StorageManagementClient}=require(a1_0x306bc7(0x11b)),{AuthorizationManagementClient}=require(a1_0x306bc7(0x112)),{ResourceManagementClient}=require(a1_0x306bc7(0x296)),{ContainerServiceClient}=require(a1_0x306bc7(0x10a)),{runCommand}=require(a1_0x306bc7(0xfc));class AzureCloudProvider extends CloudProvider{constructor(_0x3e8ff7,_0x59d6ee,_0x15d8db,_0x100318){const _0x1651f3=a1_0x306bc7,_0x3febff={};_0x3febff[_0x1651f3(0x26b)]=_0x1651f3(0x29f);const _0x4448fa=_0x3febff,_0x529ea8=_0x4448fa[_0x1651f3(0x26b)]['split']('|');let _0x44cd0a=0x0;while(!![]){switch(_0x529ea8[_0x44cd0a++]){case'0':super(AZURE,_0x3e8ff7,_0x59d6ee,_0x15d8db,_0x100318);continue;case'1':this['networkClient']=null;continue;case'2':this[_0x1651f3(0x243)]=null;continue;case'3':this[_0x1651f3(0x22a)]=null;continue;case'4':this[_0x1651f3(0x2c1)]=null;continue;case'5':this[_0x1651f3(0x2ae)]=null;continue;case'6':this[_0x1651f3(0x19e)]=null;continue;case'7':this['storageClient']=null;continue;}break;}}async[a1_0x306bc7(0x2cb)](){const _0x541143=a1_0x306bc7;return await super[_0x541143(0x2cb)](),this;}[a1_0x306bc7(0x239)](){const _0xb8b2f4=a1_0x306bc7,_0xceaecf=new ClientSecretCredential(global_registry['cloudProviderTenantId'],global_registry[_0xb8b2f4(0x229)],global_registry['cloudProviderClientSecret']);this[_0xb8b2f4(0x2ae)]=new ContainerServiceClient(_0xceaecf,global_registry[_0xb8b2f4(0x1c8)]),this[_0xb8b2f4(0x261)]=new StorageManagementClient(_0xceaecf,global_registry[_0xb8b2f4(0x1c8)]),this[_0xb8b2f4(0x243)]=new ResourceManagementClient(_0xceaecf,global_registry[_0xb8b2f4(0x1c8)]),this['networkClient']=new NetworkManagementClient(_0xceaecf,global_registry['cloudProviderSubscriptionId']),this['authClient']=new AuthorizationManagementClient(_0xceaecf,global_registry[_0xb8b2f4(0x1c8)]),this[_0xb8b2f4(0x2c1)]=_0xceaecf;}[a1_0x306bc7(0x2bc)](){const _0xc01091=a1_0x306bc7,_0x2b1f90={};_0x2b1f90[_0xc01091(0x28a)]=function(_0x5a3d1c,_0x10dbf3){return _0x5a3d1c+_0x10dbf3;},_0x2b1f90[_0xc01091(0x23b)]=_0xc01091(0x287),_0x2b1f90[_0xc01091(0x213)]=function(_0x4823b9,_0x3bfdc3){return _0x4823b9-_0x3bfdc3;};const _0x5666a3=_0x2b1f90,_0x2d70f2=global_registry['s3Bucket'][_0xc01091(0x2dc)]('-'),_0x4021cf=_0x5666a3[_0xc01091(0x28a)](_0x5666a3[_0xc01091(0x23b)],_0x2d70f2[_0x5666a3[_0xc01091(0x213)](_0x2d70f2[_0xc01091(0x28e)],0x1)])['slice'](0x0,0x18);return _0x4021cf[_0xc01091(0x1b4)]();}[a1_0x306bc7(0x167)](_0x4b838d){const _0x6b770b=a1_0x306bc7,_0x2901dc={};_0x2901dc[_0x6b770b(0x1c9)]=_0x6b770b(0xf8);const _0x130698=_0x2901dc,_0x159621=_0x130698[_0x6b770b(0x1c9)][_0x6b770b(0x2dc)]('|');let _0x21fd23=0x0;while(!![]){switch(_0x159621[_0x21fd23++]){case'0':global_registry[_0x6b770b(0x1c8)]=_0x4b838d[this[_0x6b770b(0x135)]][_0x6b770b(0x255)];continue;case'1':global_registry[_0x6b770b(0x288)]=_0x4b838d[this[_0x6b770b(0x135)]][_0x6b770b(0x17f)];continue;case'2':global_registry[_0x6b770b(0x229)]=_0x4b838d[this[_0x6b770b(0x135)]][_0x6b770b(0x201)];continue;case'3':global_registry[_0x6b770b(0x1b9)]=_0x4b838d[this[_0x6b770b(0x135)]][_0x6b770b(0x25d)];continue;case'4':this[_0x6b770b(0x239)]();continue;case'5':global_registry['cloudProviderTenantId']=_0x4b838d[this[_0x6b770b(0x135)]][_0x6b770b(0x1cc)];continue;}break;}}async[a1_0x306bc7(0x204)](_0x3e7d9a,_0x14db5a){const _0x5f20a9=a1_0x306bc7,_0x3fc03d={'KaIwN':function(_0xa8b49c,_0x1bff8b){return _0xa8b49c===_0x1bff8b;},'HAVKs':'string','bAHJx':_0x5f20a9(0x118),'TVDuU':_0x5f20a9(0x24c),'sleuT':'[variables(\x27vnetSubnetID\x27)]','RmFzf':_0x5f20a9(0x1c0),'YDmDY':function(_0x2ef279,_0x605ef3){return _0x2ef279(_0x605ef3);},'hxVpb':function(_0x48b618,_0x499670){return _0x48b618(_0x499670);},'dzSHe':function(_0x33c1f9,_0x3d210b){return _0x33c1f9!==_0x3d210b;},'svPxS':_0x5f20a9(0x1ea),'NojyR':function(_0x1debb5,_0x9e4454){return _0x1debb5===_0x9e4454;},'CLLqm':'ndseO','mTgPg':function(_0x466b2a,_0x1943d0){return _0x466b2a(_0x1943d0);},'topYp':function(_0x572b6a,_0x1f2831){return _0x572b6a===_0x1f2831;},'MVUix':function(_0x226a55,_0x2aa7ca){return _0x226a55===_0x2aa7ca;},'kIlOf':function(_0x416b0b,_0x21e22c){return _0x416b0b===_0x21e22c;},'zoWgv':function(_0x163372,_0x5e9bc9){return _0x163372===_0x5e9bc9;},'YpvlI':_0x5f20a9(0x2b1),'KGXuJ':'SqIUX','VOfbD':function(_0x53e4ef,_0x3f3294){return _0x53e4ef===_0x3f3294;},'FEApQ':'xvuPU','NgzPE':_0x5f20a9(0x2be),'fDLff':function(_0xa68d26,_0x18a5b3){return _0xa68d26!==_0x18a5b3;},'dmFHP':_0x5f20a9(0x232),'nPLmF':function(_0x1aeedf,_0x5de6d5){return _0x1aeedf<_0x5de6d5;},'sHIfF':function(_0x42337b,_0x33301b){return _0x42337b!==_0x33301b;},'CTYgy':_0x5f20a9(0x246),'xrWbb':function(_0x3b2e27,_0x2014e8){return _0x3b2e27+_0x2014e8;},'BfKvQ':function(_0x56980a,_0x16091c){return _0x56980a(_0x16091c);},'JpSPP':_0x5f20a9(0x115),'qQEFm':function(_0x4a4699,_0x2ff738){return _0x4a4699<=_0x2ff738;},'teZZv':function(_0x3ca0c9,_0x327235){return _0x3ca0c9>_0x327235;},'eCdwp':_0x5f20a9(0x1ae),'GGTHj':function(_0x317b69,_0x88948d){return _0x317b69-_0x88948d;}},_0x52b5f2=this[_0x5f20a9(0x135)]['toUpperCase'](),_0x5390fb=await _0x3fc03d[_0x5f20a9(0x24b)](_0x3e7d9a,_0x52b5f2+_0x5f20a9(0x101)),_0xc5aed2=await _0x3fc03d[_0x5f20a9(0x10c)](_0x3e7d9a,_0x52b5f2+'\x20CLIENT\x20SECRET:\x20'),_0x18747a=await _0x3fc03d['YDmDY'](_0x3e7d9a,_0x52b5f2+_0x5f20a9(0x1cf)),_0x2b7cd9=await _0x3fc03d[_0x5f20a9(0x24b)](_0x3e7d9a,_0x52b5f2+'\x20SUBSCRIPTION\x20ID:\x20');global_registry[_0x5f20a9(0x229)]=_0x5390fb,global_registry[_0x5f20a9(0x288)]=_0xc5aed2,global_registry[_0x5f20a9(0x138)]=_0x18747a,global_registry[_0x5f20a9(0x1c8)]=_0x2b7cd9,this[_0x5f20a9(0x239)]();const _0xbbcdbd=await this[_0x5f20a9(0x2d6)](),_0x16143c=_0xbbcdbd['length'];let _0xee5a9;if(_0x3fc03d['KaIwN'](_0x16143c,0x0)){if(_0x3fc03d[_0x5f20a9(0x117)](_0x3fc03d[_0x5f20a9(0x1d4)],_0x3fc03d['svPxS'])){if(_0x3fc03d[_0x5f20a9(0x215)](_0x469b81['name'],_0xa4ab74))return!![];}else _0xee5a9=await _0x3fc03d[_0x5f20a9(0x10c)](_0x3e7d9a,_0x52b5f2+_0x5f20a9(0x165));}else{if(_0x3fc03d[_0x5f20a9(0x180)](_0x16143c,0x1)){if(_0x3fc03d[_0x5f20a9(0x117)](_0x3fc03d[_0x5f20a9(0x25f)],_0x3fc03d[_0x5f20a9(0x25f)]))_0x2e219a[_0x5f20a9(0x188)]=_0x2592c4;else{const _0x529a1b=await _0x3fc03d[_0x5f20a9(0x14d)](_0x3e7d9a,_0x5f20a9(0x2e3)+_0xbbcdbd[0x0]+_0x5f20a9(0x104));if(_0x3fc03d['topYp'](_0x529a1b,undefined)||_0x3fc03d[_0x5f20a9(0x120)](_0x529a1b,null)||!(_0x3fc03d['kIlOf'](_0x529a1b['toLowerCase'](),'y')||_0x3fc03d['zoWgv'](_0x529a1b[_0x5f20a9(0x1b4)](),'n'))){if(_0x3fc03d[_0x5f20a9(0x120)](_0x3fc03d['YpvlI'],_0x3fc03d['KGXuJ'])){const _0x22732e={};_0x22732e[_0x5f20a9(0x13d)]=_0x3fc03d[_0x5f20a9(0x130)],_0x22732e[_0x5f20a9(0x1ac)]={},_0x22732e[_0x5f20a9(0x1ac)]['description']=_0x3fc03d[_0x5f20a9(0x18e)];const _0x430b5e={};_0x430b5e['type']=_0x3fc03d[_0x5f20a9(0x130)],_0x430b5e[_0x5f20a9(0x1ac)]={},_0x430b5e[_0x5f20a9(0x1ac)][_0x5f20a9(0x106)]=_0x3fc03d[_0x5f20a9(0x18e)];const _0x477726={..._0x37f46c[_0x5f20a9(0x149)]};_0x477726[_0x5f20a9(0xfe)]=_0x22732e,_0x477726['subnetName']=_0x430b5e,_0x54a6ed[_0x5f20a9(0x149)]=_0x477726;const _0x2f0528={};_0x2f0528[_0x5f20a9(0x219)]=_0x3fc03d['TVDuU'],_0xe3d683[_0x5f20a9(0x174)]=_0x2f0528;const _0x22d058={..._0x4b51ad[_0x5f20a9(0x1df)][0x0]['properties'][_0x5f20a9(0xf2)][0x0]};_0x22d058[_0x5f20a9(0x219)]=_0x3fc03d[_0x5f20a9(0x187)],_0x191cb5[_0x5f20a9(0x1df)][0x0][_0x5f20a9(0xfd)][_0x5f20a9(0xf2)][0x0]=_0x22d058;const _0x2ff1d6={};_0x2ff1d6[_0x5f20a9(0x12a)]=_0x2800ee;const _0x5e4daa={};_0x5e4daa[_0x5f20a9(0x12a)]=_0x3fe73a[0x0];const _0x3e02d1={..._0x3e6c41};_0x3e02d1[_0x5f20a9(0xfe)]=_0x2ff1d6,_0x3e02d1[_0x5f20a9(0x242)]=_0x5e4daa,_0x3dce00=_0x3e02d1;}else console[_0x5f20a9(0x188)](_0x3fc03d[_0x5f20a9(0x1de)]),process[_0x5f20a9(0x182)](0x1);}_0x3fc03d[_0x5f20a9(0x121)](_0x529a1b[_0x5f20a9(0x1b4)](),'n')&&(_0x3fc03d[_0x5f20a9(0x160)](_0x3fc03d['FEApQ'],_0x3fc03d[_0x5f20a9(0x289)])?(_0x3872dc['error'](_0x3fc03d[_0x5f20a9(0x1de)]),_0x23d566[_0x5f20a9(0x182)](0x1)):process[_0x5f20a9(0x182)](0x0)),_0xee5a9=_0xbbcdbd[0x0];}}else{if(_0x3fc03d[_0x5f20a9(0x202)](_0x3fc03d[_0x5f20a9(0x29a)],_0x3fc03d['dmFHP'])){if(_0x3fc03d[_0x5f20a9(0x215)](_0x148ce3[_0x5f20a9(0x15f)],_0xbdfb7b))return!![];}else{for(let _0x4c4bde=0x0;_0x3fc03d[_0x5f20a9(0x18a)](_0x4c4bde,_0xbbcdbd[_0x5f20a9(0x28e)]);_0x4c4bde+=0x1){_0x3fc03d[_0x5f20a9(0x263)](_0x3fc03d[_0x5f20a9(0x297)],_0x3fc03d[_0x5f20a9(0x297)])?_0x5792ce[_0x5f20a9(0x142)](_0x58461e):console[_0x5f20a9(0x2b0)]('['+_0x3fc03d[_0x5f20a9(0x1d8)](_0x4c4bde,0x1)+']\x20'+_0xbbcdbd[_0x4c4bde]);}const _0x783882=await _0x3fc03d[_0x5f20a9(0x24a)](_0x3e7d9a,_0x3fc03d[_0x5f20a9(0x15b)]),_0x1c059c=_0x3fc03d[_0x5f20a9(0x10c)](Number,_0x783882);if(_0x3fc03d[_0x5f20a9(0x24b)](isNaN,_0x1c059c)||_0x3fc03d[_0x5f20a9(0x20d)](_0x1c059c,0x0)||_0x3fc03d[_0x5f20a9(0x10e)](_0x1c059c,_0x16143c)){if(_0x3fc03d[_0x5f20a9(0x2c7)](_0x3fc03d[_0x5f20a9(0x1ff)],_0x3fc03d[_0x5f20a9(0x1ff)]))console['error'](_0x3fc03d[_0x5f20a9(0x1de)]),process[_0x5f20a9(0x182)](0x1);else return _0x504349[_0x5f20a9(0x188)](_0x5f20a9(0x19c)+_0x3782ff+_0x5f20a9(0x2d0)+_0x41976c),[![],[]];}_0xee5a9=_0xbbcdbd[_0x3fc03d[_0x5f20a9(0x151)](_0x1c059c,0x1)];}}}global_registry['cloudProviderResourceGroup']=_0xee5a9;const _0x21959e={};return _0x21959e['clientId']=_0x5390fb,_0x21959e[_0x5f20a9(0x17f)]=_0xc5aed2,_0x21959e[_0x5f20a9(0x1cc)]=_0x18747a,_0x21959e[_0x5f20a9(0x255)]=_0x2b7cd9,_0x21959e['resourceGroup']=_0xee5a9,_0x14db5a[_0x5f20a9(0x107)][AZURE]=_0x21959e,_0x14db5a;}async[a1_0x306bc7(0x2d6)](){const _0x43b2cf=a1_0x306bc7,_0x585507={};_0x585507[_0x43b2cf(0x192)]=_0x43b2cf(0x2df),_0x585507['BbXLa']=_0x43b2cf(0x133),_0x585507[_0x43b2cf(0x25e)]=_0x43b2cf(0x12b),_0x585507[_0x43b2cf(0x295)]=function(_0x3d9e26,_0x53d234){return _0x3d9e26===_0x53d234;},_0x585507[_0x43b2cf(0x21e)]=_0x43b2cf(0x194),_0x585507[_0x43b2cf(0x185)]=function(_0x3eddc1,_0x15870b){return _0x3eddc1!==_0x15870b;},_0x585507[_0x43b2cf(0x105)]=_0x43b2cf(0x1b3);const _0x511f23=_0x585507,_0x34bbe4=[];try{if(_0x511f23[_0x43b2cf(0x295)](_0x511f23[_0x43b2cf(0x21e)],_0x511f23[_0x43b2cf(0x21e)])){const _0x4dde51=await this[_0x43b2cf(0x243)][_0x43b2cf(0x200)][_0x43b2cf(0x129)]();for await(const _0x3cd16a of _0x4dde51){if(_0x511f23[_0x43b2cf(0x185)](_0x511f23['KeBdf'],_0x511f23['KeBdf'])){const _0x3c1fc5=_0x51b513[_0x43b2cf(0x15a)](_0x48835b);_0x5eac0b+='\x0a\x09'+_0x253b06+':\x20'+(_0x3c1fc5?_0x511f23[_0x43b2cf(0x192)]:_0x511f23[_0x43b2cf(0x1da)]),!_0x3c1fc5&&(_0x265c32[_0x43b2cf(0x1a8)]=![]);}else _0x34bbe4['push'](_0x3cd16a['name']);}}else return _0x5755b6['data']=_0x511f23[_0x43b2cf(0x25e)],_0x3c17b2;}catch(_0x3ace15){}return _0x34bbe4;}async['getClusterInfo'](){const _0x121a7d=a1_0x306bc7;return this[_0x121a7d(0x19e)]=await this[_0x121a7d(0x2ae)][_0x121a7d(0x13f)][_0x121a7d(0x17c)](global_registry[_0x121a7d(0x1b9)],this[_0x121a7d(0x228)]),this[_0x121a7d(0x19e)];}async[a1_0x306bc7(0x26c)](){const _0x4df0b0=a1_0x306bc7,_0x577929=await this[_0x4df0b0(0x2ae)][_0x4df0b0(0x13f)]['listClusterAdminCredentials'](global_registry[_0x4df0b0(0x1b9)],this[_0x4df0b0(0x228)]),_0x15374c=_0x577929[_0x4df0b0(0x193)][0x0][_0x4df0b0(0x12a)]['toString']();return _0x15374c;}[a1_0x306bc7(0x14b)](_0x46df9d){const _0x5ba1b8=a1_0x306bc7;return _0x46df9d[_0x5ba1b8(0x1a8)][_0x5ba1b8(0x258)]['ingress'][0x0][_0x5ba1b8(0x20a)];}async[a1_0x306bc7(0x157)](){const _0xb016de=a1_0x306bc7,_0x558395={};_0x558395[_0xb016de(0x285)]=function(_0x123ce4,_0x1250b2){return _0x123ce4===_0x1250b2;},_0x558395['sAJes']=_0xb016de(0x10f),_0x558395[_0xb016de(0x173)]=function(_0x3145e8,_0x375fa5){return _0x3145e8!==_0x375fa5;},_0x558395[_0xb016de(0x1bf)]=_0xb016de(0x2cc),_0x558395[_0xb016de(0x23e)]=function(_0x5b1844,_0x1cf53d){return _0x5b1844!==_0x1cf53d;},_0x558395[_0xb016de(0x189)]=_0xb016de(0x293),_0x558395[_0xb016de(0x2a5)]=_0xb016de(0x2c9),_0x558395[_0xb016de(0x2cd)]=function(_0x241e67,_0x479bb9){return _0x241e67!==_0x479bb9;},_0x558395['QNklj']=_0xb016de(0x191);const _0x461a78=_0x558395,_0x544389=new Array();for await(const _0x4b3876 of this['containerClient'][_0xb016de(0x13f)][_0xb016de(0x21d)](global_registry[_0xb016de(0x1b9)])){_0x461a78[_0xb016de(0x173)](_0x461a78['PXwsS'],_0x461a78[_0xb016de(0x1bf)])?_0x461a78['lPNfk'](_0x4bdf25['name'],_0xba4062)&&(_0x5ef780=_0x3f76ae['id']):_0x544389['push'](_0x4b3876);}for await(const _0x214e09 of _0x544389){if(_0x461a78['pEpmV'](_0x461a78[_0xb016de(0x189)],_0x461a78['wEKXm'])){if(_0x461a78['lPNfk'](_0x214e09['name'],this[_0xb016de(0x228)])){if(_0x461a78[_0xb016de(0x2cd)](_0x461a78[_0xb016de(0x210)],_0x461a78[_0xb016de(0x210)])){const _0xfadfb9={};_0xfadfb9[_0xb016de(0x1a8)]=!![],_0xfadfb9['error']=null,_0xfadfb9[_0xb016de(0x1fd)]=_0x461a78[_0xb016de(0x2d4)];const _0x541e70=_0xfadfb9;return _0x541e70;}else return await this['getClusterInfo'](),!![];}}else{const _0x5daa8e=new _0xc1ad62(_0x352518['cloudProviderTenantId'],_0x35c6ce[_0xb016de(0x229)],_0x3113e2[_0xb016de(0x288)]);this['containerClient']=new _0x889f6e(_0x5daa8e,_0x5ad289[_0xb016de(0x1c8)]),this[_0xb016de(0x261)]=new _0x1acde2(_0x5daa8e,_0x4f54da[_0xb016de(0x1c8)]),this[_0xb016de(0x243)]=new _0x33f7f3(_0x5daa8e,_0x42f348[_0xb016de(0x1c8)]),this[_0xb016de(0x25b)]=new _0x32e19b(_0x5daa8e,_0x23fbf5[_0xb016de(0x1c8)]),this[_0xb016de(0x22a)]=new _0x49e6b9(_0x5daa8e,_0xc8609[_0xb016de(0x1c8)]),this['cred']=_0x5daa8e;}}return![];}async[a1_0x306bc7(0x281)](_0x565793=null,_0x4e048f=null){const _0x266bec=a1_0x306bc7,_0x5582d7={};_0x5582d7[_0x266bec(0x1d1)]=_0x266bec(0x227),_0x5582d7[_0x266bec(0x1ca)]=_0x266bec(0x147);const _0x51b54b=_0x5582d7,_0x9adcce=_0x51b54b[_0x266bec(0x1d1)][_0x266bec(0x2dc)]('|');let _0x36eccd=0x0;while(!![]){switch(_0x9adcce[_0x36eccd++]){case'0':this[_0x266bec(0x11a)]();continue;case'1':return[_0x565793,_0x4e048f];case'2':logger['info'](_0x51b54b[_0x266bec(0x1ca)]);continue;case'3':await this[_0x266bec(0x27e)]();continue;case'4':const _0x55eb61={};_0x55eb61[_0x266bec(0x13d)]=WS_EVENTS[_0x266bec(0x1af)],_0x55eb61[_0x266bec(0x1ef)]=_0x51b54b[_0x266bec(0x1ca)],this[_0x266bec(0x26e)]['sendEventToBackend'](this['rws'],_0x55eb61);continue;case'5':await this[_0x266bec(0x2a4)](_0x565793,_0x4e048f);continue;}break;}}async[a1_0x306bc7(0x2a4)](_0x47422e=null,_0x4fd161=null){const _0x3066f8=a1_0x306bc7,_0x17928d={};_0x17928d['LLTcg']=_0x3066f8(0x1ba),_0x17928d['QsbCE']=_0x3066f8(0x1b1),_0x17928d['aNeIs']=_0x3066f8(0x2da),_0x17928d[_0x3066f8(0x1a0)]='utf-8',_0x17928d['Teimw']='true',_0x17928d[_0x3066f8(0x260)]=_0x3066f8(0x1ab),_0x17928d[_0x3066f8(0x1f7)]=function(_0x2d91c6,_0x1eaaf8){return _0x2d91c6!==_0x1eaaf8;},_0x17928d['mkXPw']=function(_0xb97f06,_0xb574ed){return _0xb97f06!==_0xb574ed;},_0x17928d[_0x3066f8(0x26f)]=_0x3066f8(0x222),_0x17928d[_0x3066f8(0x16c)]='string',_0x17928d['FTfab']=_0x3066f8(0x118),_0x17928d[_0x3066f8(0x244)]=_0x3066f8(0x24c),_0x17928d[_0x3066f8(0x270)]=_0x3066f8(0x11c),_0x17928d[_0x3066f8(0x14c)]=_0x3066f8(0x1a7),_0x17928d[_0x3066f8(0x175)]=_0x3066f8(0x162);const _0x429908=_0x17928d;let _0x2c182a=await fs[_0x3066f8(0x12e)](path[_0x3066f8(0x13c)](__dirname,'..',_0x429908['LLTcg'],_0x429908[_0x3066f8(0x2af)],_0x429908[_0x3066f8(0x2a6)]),_0x429908['FtJnf']);_0x2c182a=JSON['parse'](_0x2c182a);const _0xfc6900={};_0xfc6900[_0x3066f8(0x12a)]=this[_0x3066f8(0x228)];const _0x1e600c={};_0x1e600c[_0x3066f8(0x12a)]=global_registry[_0x3066f8(0x211)];const _0x4511de={};_0x4511de['value']=global_registry['instanceType'];const _0x18371f={};_0x18371f[_0x3066f8(0x12a)]=global_registry[_0x3066f8(0x29b)];const _0x240ffd={};_0x240ffd[_0x3066f8(0x12a)]=global_registry[_0x3066f8(0x283)]?_0x429908[_0x3066f8(0x1c6)]:_0x429908['oxcRQ'];const _0x43030b={};_0x43030b['clusterName']=_0xfc6900,_0x43030b[_0x3066f8(0x259)]=_0x1e600c,_0x43030b['userInstanceType']=_0x4511de,_0x43030b['userMaxNodes']=_0x18371f,_0x43030b[_0x3066f8(0x283)]=_0x240ffd;let _0x1ea0cd=_0x43030b;if(_0x429908[_0x3066f8(0x1f7)](_0x47422e,null)&&_0x429908[_0x3066f8(0x2ad)](_0x4fd161,null)){if(_0x429908[_0x3066f8(0x2ad)](_0x429908[_0x3066f8(0x26f)],_0x429908[_0x3066f8(0x26f)]))return _0x6fc4c2[_0x3066f8(0x188)](_0x3066f8(0x2ab)+_0x2c324e+':'+_0x578ad9[_0x3066f8(0x27a)]),{};else{const _0x39d36b={};_0x39d36b[_0x3066f8(0x13d)]=_0x429908[_0x3066f8(0x16c)],_0x39d36b[_0x3066f8(0x1ac)]={},_0x39d36b[_0x3066f8(0x1ac)][_0x3066f8(0x106)]=_0x429908[_0x3066f8(0x269)];const _0xf2f505={};_0xf2f505[_0x3066f8(0x13d)]=_0x429908[_0x3066f8(0x16c)],_0xf2f505['metadata']={},_0xf2f505['metadata'][_0x3066f8(0x106)]=_0x429908[_0x3066f8(0x269)],_0x2c182a[_0x3066f8(0x149)]={..._0x2c182a[_0x3066f8(0x149)],'vpcName':_0x39d36b,'subnetName':_0xf2f505};const _0x5b587d={};_0x5b587d[_0x3066f8(0x219)]=_0x429908[_0x3066f8(0x244)],_0x2c182a['variables']=_0x5b587d,_0x2c182a[_0x3066f8(0x1df)][0x0][_0x3066f8(0xfd)][_0x3066f8(0xf2)][0x0]={..._0x2c182a[_0x3066f8(0x1df)][0x0][_0x3066f8(0xfd)]['agentPoolProfiles'][0x0],'vnetSubnetID':_0x429908[_0x3066f8(0x270)]};const _0x3a78e8={};_0x3a78e8['value']=_0x47422e;const _0x5502ae={};_0x5502ae[_0x3066f8(0x12a)]=_0x4fd161[0x0],_0x1ea0cd={..._0x1ea0cd,'vpcName':_0x3a78e8,'subnetName':_0x5502ae};}}await this[_0x3066f8(0x243)][_0x3066f8(0x178)]['beginCreateOrUpdateAndWait'](global_registry[_0x3066f8(0x1b9)],_0x429908[_0x3066f8(0x14c)],{'properties':{'template':_0x2c182a,'mode':_0x429908[_0x3066f8(0x175)],'parameters':_0x1ea0cd}});}async[a1_0x306bc7(0x27e)](){const _0x156916=a1_0x306bc7,_0x5d998a={};_0x5d998a[_0x156916(0x1b6)]=function(_0x3e9340,_0x428986){return _0x3e9340===_0x428986;},_0x5d998a['kxlLb']=function(_0x15c677,_0x1b441a){return _0x15c677===_0x1b441a;},_0x5d998a[_0x156916(0x23f)]=_0x156916(0x254),_0x5d998a[_0x156916(0x266)]=_0x156916(0x225),_0x5d998a[_0x156916(0x150)]=function(_0x6aabd4,_0x24d9e2){return _0x6aabd4!==_0x24d9e2;},_0x5d998a[_0x156916(0x18d)]=_0x156916(0x11d),_0x5d998a['CpgNT']=_0x156916(0x2cf),_0x5d998a['pHsHk']='Storage\x20account\x20already\x20exists,\x20skipping',_0x5d998a[_0x156916(0x208)]=function(_0xf19ae7,_0x190235){return _0xf19ae7===_0x190235;},_0x5d998a[_0x156916(0x29d)]='VbqzA',_0x5d998a[_0x156916(0x170)]='wrMMV',_0x5d998a['WwMZP']='Creating\x20Azure\x20managed\x20identity',_0x5d998a['UWzic']=_0x156916(0x1e2),_0x5d998a['csRAl']=_0x156916(0x245),_0x5d998a[_0x156916(0xf7)]=_0x156916(0x2d1),_0x5d998a['NOlaI']='Creating\x20Azure\x20federated\x20identity',_0x5d998a[_0x156916(0x1f2)]='Created\x20Azure\x20federated\x20identity';const _0x4c6fc8=_0x5d998a,_0x57b564=await this[_0x156916(0x20e)]();if(!_0x57b564){if(_0x4c6fc8[_0x156916(0x252)](_0x4c6fc8[_0x156916(0x23f)],_0x4c6fc8['NnXNJ'])){const _0x583382={};_0x583382[_0x156916(0x13d)]=WS_EVENTS['LOG'],_0x583382['message']=_0x4c6fc8[_0x156916(0x266)],this[_0x156916(0x26e)]['sendEventToBackend'](this['rws'],_0x583382),logger[_0x156916(0x1f9)](_0x4c6fc8[_0x156916(0x266)]),await this[_0x156916(0x2ce)]();}else{if(_0x4c6fc8[_0x156916(0x1b6)](_0x290d68[_0x156916(0x15f)],_0x156916(0x1b0)+this[_0x156916(0x228)]))return!![];}}else _0x4c6fc8[_0x156916(0x150)](_0x4c6fc8[_0x156916(0x18d)],_0x4c6fc8['CpgNT'])?logger['info'](_0x4c6fc8['pHsHk']):_0x21ada9['push'](_0x78635e);const _0x400f5e=await this[_0x156916(0x141)]();if(!_0x400f5e){if(_0x4c6fc8[_0x156916(0x208)](_0x4c6fc8[_0x156916(0x29d)],_0x4c6fc8['Lxqjh']))_0x43a011[_0x156916(0x142)](_0x4c97ee);else{const _0x4eebb6={};_0x4eebb6['type']=WS_EVENTS[_0x156916(0x1af)],_0x4eebb6[_0x156916(0x1ef)]=_0x4c6fc8[_0x156916(0x256)],this['webSocketUtils'][_0x156916(0x1f6)](this['rws'],_0x4eebb6),logger['info'](_0x4c6fc8[_0x156916(0x256)]),await this[_0x156916(0x163)]();}}else{if(_0x4c6fc8[_0x156916(0x150)](_0x4c6fc8['UWzic'],_0x4c6fc8[_0x156916(0x1d7)]))logger[_0x156916(0x1f9)](_0x4c6fc8[_0x156916(0xf7)]);else return[!![],_0x518a86];}logger['info'](_0x4c6fc8[_0x156916(0x28c)]),await this['createFederatedAccount'](),logger[_0x156916(0x1f9)](_0x4c6fc8['ixlXr']);}async['createStorageAccount'](){const _0x513613=a1_0x306bc7,_0x5e28c3={};_0x5e28c3[_0x513613(0x2a0)]=_0x513613(0x1ba),_0x5e28c3[_0x513613(0x154)]='azureresources',_0x5e28c3['FwDrB']=_0x513613(0x207),_0x5e28c3['IKmqg']='utf-8',_0x5e28c3[_0x513613(0x1cb)]='turboscale-storageaccount-deployment',_0x5e28c3['jQOEx']='Incremental',_0x5e28c3[_0x513613(0x2dd)]=_0x513613(0x1ad),_0x5e28c3[_0x513613(0x1fa)]=_0x513613(0x184),_0x5e28c3[_0x513613(0x144)]=_0x513613(0xfa),_0x5e28c3[_0x513613(0x1ed)]=_0x513613(0x224);const _0x1d34a9=_0x5e28c3;let _0x1d5ccd=await fs[_0x513613(0x12e)](path[_0x513613(0x13c)](__dirname,'..',_0x1d34a9[_0x513613(0x2a0)],_0x1d34a9[_0x513613(0x154)],_0x1d34a9[_0x513613(0x2b3)]),_0x1d34a9[_0x513613(0x15d)]);_0x1d5ccd=JSON[_0x513613(0x271)](_0x1d5ccd);const _0x348b41=this['getStorageAccountName'](),_0x1821d5={};_0x1821d5[_0x513613(0x12a)]=_0x348b41;const _0x199f5a={};_0x199f5a['storageAccountName']=_0x1821d5,await this[_0x513613(0x243)][_0x513613(0x178)][_0x513613(0x268)](global_registry[_0x513613(0x1b9)],_0x1d34a9['OUuWx'],{'properties':{'template':_0x1d5ccd,'mode':_0x1d34a9[_0x513613(0x199)],'parameters':_0x199f5a}});const _0x2de083={};_0x2de083[_0x513613(0x23d)]=0x3c;const _0x44a5c2={};_0x44a5c2[_0x513613(0x114)]=_0x2de083;const _0xb019b1={};_0xb019b1['baseBlob']=_0x44a5c2;const _0x33f692={};_0x33f692['enabled']=!![],_0x33f692[_0x513613(0x15f)]=_0x1d34a9[_0x513613(0x2dd)],_0x33f692[_0x513613(0x13d)]=_0x1d34a9['FDFhx'],_0x33f692[_0x513613(0x29c)]={},_0x33f692[_0x513613(0x29c)]['actions']=_0xb019b1,_0x33f692[_0x513613(0x29c)][_0x513613(0x29e)]={},_0x33f692[_0x513613(0x29c)][_0x513613(0x29e)][_0x513613(0x100)]=[_0x1d34a9[_0x513613(0x144)]];const _0x26bc4b={};_0x26bc4b[_0x513613(0x22f)]=[_0x33f692];const _0x7370e1={};_0x7370e1[_0x513613(0x136)]=_0x26bc4b;const _0x1d2cc4=_0x7370e1;await this[_0x513613(0x261)]['managementPolicies'][_0x513613(0x2c6)](global_registry[_0x513613(0x1b9)],_0x348b41,_0x1d34a9[_0x513613(0x1ed)],_0x1d2cc4);}async[a1_0x306bc7(0x163)](){const _0x74294f=a1_0x306bc7,_0x9a5b57={};_0x9a5b57[_0x74294f(0x16f)]='templates',_0x9a5b57['dUxYc']=_0x74294f(0x1b1),_0x9a5b57[_0x74294f(0x1aa)]=_0x74294f(0x253),_0x9a5b57[_0x74294f(0x2c0)]='utf-8',_0x9a5b57[_0x74294f(0xf3)]=_0x74294f(0x231),_0x9a5b57['sDDkN']=_0x74294f(0x162);const _0x37c071=_0x9a5b57;let _0x4d1549=await fs[_0x74294f(0x12e)](path[_0x74294f(0x13c)](__dirname,'..',_0x37c071['kzgvD'],_0x37c071['dUxYc'],_0x37c071[_0x74294f(0x1aa)]),_0x37c071[_0x74294f(0x2c0)]);_0x4d1549=JSON[_0x74294f(0x271)](_0x4d1549),await this['resourceClient'][_0x74294f(0x178)]['beginCreateOrUpdateAndWait'](global_registry[_0x74294f(0x1b9)],_0x37c071[_0x74294f(0xf3)],{'properties':{'template':_0x4d1549,'mode':_0x37c071['sDDkN'],'parameters':{'clusterName':{'value':this['clusterName']}}}});}async[a1_0x306bc7(0x2de)](){const _0x428a11=a1_0x306bc7,_0x297d9c={};_0x297d9c[_0x428a11(0x234)]=function(_0x744492,_0xa0c20b){return _0x744492!==_0xa0c20b;},_0x297d9c[_0x428a11(0x1c7)]=_0x428a11(0x273),_0x297d9c[_0x428a11(0xff)]=_0x428a11(0x2a8),_0x297d9c[_0x428a11(0x1f5)]='node',_0x297d9c['jXMPE']=function(_0x22ed6d,_0x66da3f){return _0x22ed6d===_0x66da3f;},_0x297d9c[_0x428a11(0x237)]=_0x428a11(0x1c1),_0x297d9c[_0x428a11(0x2e0)]=_0x428a11(0x2a9),_0x297d9c[_0x428a11(0x1b7)]='templates',_0x297d9c[_0x428a11(0x275)]=_0x428a11(0x1b1),_0x297d9c[_0x428a11(0xfb)]=_0x428a11(0x203),_0x297d9c['emSJk']='turboscale-federated-deployment',_0x297d9c[_0x428a11(0x196)]=_0x428a11(0x162);const _0x1f3b88=_0x297d9c;if(!this[_0x428a11(0x19e)]){if(_0x1f3b88['fYCbX'](_0x1f3b88['MVhle'],_0x1f3b88[_0x428a11(0x1c7)]))return _0x5cc0ef[_0x428a11(0x188)](_0x428a11(0x14f)+_0x1c6b1e+_0x428a11(0x2b2)+_0x5158c5),![];else await this['getClusterInfo']();}const _0x3ca8dc=this[_0x428a11(0x19e)]?.[_0x428a11(0x123)]?.[_0x428a11(0x19d)],_0x2eb2a8=[_0x1f3b88[_0x428a11(0xff)],_0x1f3b88[_0x428a11(0x1f5)]];for await(const _0x394d5c of _0x2eb2a8){if(_0x1f3b88[_0x428a11(0x277)](_0x1f3b88['rxDEY'],_0x1f3b88[_0x428a11(0x2e0)]))return _0x2edf0e[_0x428a11(0x1a8)]['loadBalancer'][_0x428a11(0x2b7)][0x0][_0x428a11(0x20a)];else{let _0x418407=await fs[_0x428a11(0x12e)](path[_0x428a11(0x13c)](__dirname,'..',_0x1f3b88[_0x428a11(0x1b7)],_0x1f3b88['mHhyD'],_0x428a11(0x113)+_0x394d5c+_0x428a11(0x16d)),_0x1f3b88['ZedLG']);_0x418407=JSON[_0x428a11(0x271)](_0x418407);const _0x5cd210={};_0x5cd210[_0x428a11(0x12a)]=_0x3ca8dc,await this[_0x428a11(0x243)][_0x428a11(0x178)][_0x428a11(0x268)](global_registry['cloudProviderResourceGroup'],_0x1f3b88[_0x428a11(0x127)],{'properties':{'template':_0x418407,'mode':_0x1f3b88[_0x428a11(0x196)],'parameters':{'oidcIssuer':_0x5cd210,'gridName':{'value':this['gridName']},'clusterName':{'value':this['clusterName']}}}});}}}async['setupHubHa'](_0x2f7a16,_0x20e661,_0x5c168a,_0xa842c4,_0x3fb341){const _0x4898f1=a1_0x306bc7,_0xd8db37={};_0xd8db37['iyzPx']=_0x4898f1(0x1d9),_0xd8db37[_0x4898f1(0x12c)]=_0x4898f1(0x1dd);const _0x584910=_0xd8db37,_0x12d8e8={};_0x12d8e8[_0x4898f1(0x13d)]=WS_EVENTS[_0x4898f1(0x1af)],_0x12d8e8[_0x4898f1(0x1ef)]=_0x584910[_0x4898f1(0x143)],this[_0x4898f1(0x26e)][_0x4898f1(0x1f6)](this[_0x4898f1(0x2b6)],_0x12d8e8),logger[_0x4898f1(0x1f9)](_0x584910[_0x4898f1(0x143)]),await this['createFederatedAccountForHubHA']();const _0x3f5c93={};_0x3f5c93[_0x4898f1(0x13d)]=WS_EVENTS[_0x4898f1(0x1af)],_0x3f5c93[_0x4898f1(0x1ef)]=_0x584910[_0x4898f1(0x12c)],this['webSocketUtils'][_0x4898f1(0x1f6)](this[_0x4898f1(0x2b6)],_0x3f5c93);}async['createFederatedAccountForHubHA'](){const _0x32af2d=a1_0x306bc7,_0x5248fa={};_0x5248fa[_0x32af2d(0x27f)]=function(_0xf09c10,_0x2b44f2){return _0xf09c10!==_0x2b44f2;},_0x5248fa[_0x32af2d(0x190)]=_0x32af2d(0x1e7),_0x5248fa['SoYau']=_0x32af2d(0x153),_0x5248fa[_0x32af2d(0x111)]='templates',_0x5248fa['BCWjF']='hubharesources',_0x5248fa[_0x32af2d(0x1fb)]=_0x32af2d(0x22b),_0x5248fa[_0x32af2d(0x2d8)]=_0x32af2d(0x203),_0x5248fa['eyTHx']='turboscale-federated-deployment',_0x5248fa['OjGrW']=_0x32af2d(0x162);const _0x1c51de=_0x5248fa;if(!this[_0x32af2d(0x19e)]){if(_0x1c51de[_0x32af2d(0x27f)](_0x1c51de['RpEHV'],_0x1c51de[_0x32af2d(0x2b8)]))await this['getClusterInfo']();else return!![];}const _0x34a497=this[_0x32af2d(0x19e)]?.['oidcIssuerProfile']?.[_0x32af2d(0x19d)];let _0x40c160=await fs[_0x32af2d(0x12e)](path[_0x32af2d(0x13c)](__dirname,'..',_0x1c51de[_0x32af2d(0x111)],_0x1c51de[_0x32af2d(0x248)],_0x1c51de[_0x32af2d(0x1fb)]),_0x1c51de['OJFZp']);_0x40c160=JSON[_0x32af2d(0x271)](_0x40c160);const _0x56a58f={};_0x56a58f[_0x32af2d(0x12a)]=_0x34a497,await this[_0x32af2d(0x243)]['deployments'][_0x32af2d(0x268)](global_registry[_0x32af2d(0x1b9)],_0x1c51de[_0x32af2d(0xf5)],{'properties':{'template':_0x40c160,'mode':_0x1c51de[_0x32af2d(0x262)],'parameters':{'oidcIssuer':_0x56a58f,'namespace':{'value':global_registry[_0x32af2d(0x2b4)]},'clusterName':{'value':this['clusterName']}}}});}async[a1_0x306bc7(0x20e)](){const _0x29a5f9=a1_0x306bc7,_0x5c825d={};_0x5c825d['GFhdL']=_0x29a5f9(0x146),_0x5c825d[_0x29a5f9(0x217)]=function(_0x25f447,_0x4b73a8){return _0x25f447===_0x4b73a8;},_0x5c825d[_0x29a5f9(0x274)]='tTsoH',_0x5c825d[_0x29a5f9(0x1db)]=_0x29a5f9(0x22d),_0x5c825d[_0x29a5f9(0x220)]=function(_0x4154f7,_0x3a893c){return _0x4154f7===_0x3a893c;},_0x5c825d['XqYlk']=function(_0x477f39,_0x2f8c6b){return _0x477f39!==_0x2f8c6b;},_0x5c825d['LTlrt']=_0x29a5f9(0x1a1),_0x5c825d[_0x29a5f9(0x172)]='UCpJd';const _0x724335=_0x5c825d,_0x247c39=this[_0x29a5f9(0x2bc)](),_0x31fdd4=new Array();for await(const _0x1baf8c of this[_0x29a5f9(0x261)][_0x29a5f9(0x291)]['listByResourceGroup'](global_registry[_0x29a5f9(0x1b9)])){if(_0x724335[_0x29a5f9(0x217)](_0x724335['aDfVA'],_0x724335[_0x29a5f9(0x274)]))_0x31fdd4['push'](_0x1baf8c);else return _0x3e321d[_0x29a5f9(0x1fd)]=_0x724335[_0x29a5f9(0x1fc)],_0x59a24a;}for await(const _0x4d9523 of _0x31fdd4){if(_0x724335[_0x29a5f9(0x217)](_0x724335[_0x29a5f9(0x1db)],_0x724335[_0x29a5f9(0x1db)])){if(_0x724335[_0x29a5f9(0x220)](_0x4d9523[_0x29a5f9(0x15f)],_0x247c39)){if(_0x724335['XqYlk'](_0x724335[_0x29a5f9(0x236)],_0x724335[_0x29a5f9(0x172)]))return!![];else return;}}else _0x1f8831[_0x29a5f9(0x142)](_0x2a295f);}return![];}async['isManagedIdentityPresent'](){const _0x2c512b=a1_0x306bc7,_0x1f902a={};_0x1f902a[_0x2c512b(0x28b)]=_0x2c512b(0x126),_0x1f902a['YyZpS']=function(_0x124762,_0x343440){return _0x124762!==_0x343440;},_0x1f902a[_0x2c512b(0x294)]=_0x2c512b(0x11e),_0x1f902a[_0x2c512b(0x1a2)]=_0x2c512b(0x235),_0x1f902a[_0x2c512b(0x1e5)]=_0x2c512b(0x159),_0x1f902a['uJmld']=_0x2c512b(0x109),_0x1f902a[_0x2c512b(0x2d7)]=function(_0x13b0e9,_0x1bc70c){return _0x13b0e9===_0x1bc70c;},_0x1f902a[_0x2c512b(0x1a5)]=_0x2c512b(0x292),_0x1f902a[_0x2c512b(0x205)]='yAQBU';const _0x3ea971=_0x1f902a,_0x4e3012=new Array();for await(const _0x3f351b of this[_0x2c512b(0x243)][_0x2c512b(0x1df)][_0x2c512b(0x21d)](global_registry[_0x2c512b(0x1b9)])){if(_0x3ea971['YyZpS'](_0x3ea971['tRLUx'],_0x3ea971[_0x2c512b(0x1a2)]))_0x4e3012[_0x2c512b(0x142)](_0x3f351b);else{_0x29a43b[_0x2c512b(0x1f9)](_0x3ea971['haKqi']);const _0x11c5f9={};_0x11c5f9['type']=_0x275fc8[_0x2c512b(0x161)],_0x11c5f9[_0x2c512b(0x1ef)]=_0x3ea971[_0x2c512b(0x28b)],this[_0x2c512b(0x26e)]['sendEventToBackend'](this[_0x2c512b(0x2b6)],_0x11c5f9),_0x4608f8[_0x2c512b(0x123)][_0x2c512b(0x16b)]=!![];}}for await(const _0x207cd5 of _0x4e3012){if(_0x3ea971[_0x2c512b(0x1e1)](_0x3ea971[_0x2c512b(0x1e5)],_0x3ea971[_0x2c512b(0x164)])){if(_0x3ea971[_0x2c512b(0x2d7)](_0x207cd5[_0x2c512b(0x15f)],_0x2c512b(0x1b0)+this[_0x2c512b(0x228)])){if(_0x3ea971[_0x2c512b(0x1e1)](_0x3ea971[_0x2c512b(0x1a5)],_0x3ea971['zWUwq']))return!![];else _0x89a7a8[_0x2c512b(0x1a8)]=![];}}else return!![];}return![];}async[a1_0x306bc7(0x11f)](_0x1d4a23,_0xfa67ad=0x3){const _0x2d408c=a1_0x306bc7,_0x31fb59={'tSPqV':'Managed\x20identity\x20already\x20exists,\x20skipping','sjbdd':function(_0x4540ad,_0x23d87a,_0xca9a1){return _0x4540ad(_0x23d87a,_0xca9a1);},'LndmF':_0x2d408c(0x2aa),'QmFac':function(_0x48e628,_0x4d13b7){return _0x48e628===_0x4d13b7;},'KMROm':'wIOAV','alagb':_0x2d408c(0x21f),'lLCOW':function(_0x50dae5,_0x59c48e){return _0x50dae5!==_0x59c48e;},'sQwdp':_0x2d408c(0x19f),'WudoA':_0x2d408c(0x2a3),'GMGei':function(_0x1523b2,_0x779827){return _0x1523b2===_0x779827;},'xDavA':_0x2d408c(0x267),'iEuqS':_0x2d408c(0x1a6),'yfbTL':_0x2d408c(0x140),'zeqXB':_0x2d408c(0x251),'WBRXN':_0x2d408c(0x214),'TLZqN':_0x2d408c(0x2ba),'bROlH':function(_0x3ae6b9,_0x48a2f4){return _0x3ae6b9===_0x48a2f4;},'CKXiz':'ClBhp','jwlyy':function(_0x46cebe,_0x2a87b5){return _0x46cebe<=_0x2a87b5;},'EpsQt':_0x2d408c(0x1c4),'tTyqM':function(_0x3b21c0,_0x1b7ffb){return _0x3b21c0-_0x1b7ffb;}};try{if(_0x31fb59[_0x2d408c(0x299)](_0x31fb59[_0x2d408c(0x177)],_0x31fb59[_0x2d408c(0x2c2)])){const _0x375aa2=new Array();for await(const _0x2a06d6 of this['resourceClient'][_0x2d408c(0x1df)][_0x2d408c(0x21d)](global_registry['cloudProviderResourceGroup'])){_0x31fb59[_0x2d408c(0x10b)](_0x31fb59['xDavA'],_0x31fb59[_0x2d408c(0x276)])?_0x4333c8[_0x2d408c(0x142)](_0x3f959c):_0x375aa2['push'](_0x2a06d6);}let _0x4e0a57='';for await(const _0xec30ab of _0x375aa2){_0x31fb59[_0x2d408c(0x299)](_0x31fb59[_0x2d408c(0x264)],_0x31fb59[_0x2d408c(0x264)])?_0x2b54c7[_0x2d408c(0x1f9)](_0x31fb59[_0x2d408c(0x238)]):_0x31fb59['GMGei'](_0xec30ab['name'],_0x1d4a23)&&(_0x31fb59[_0x2d408c(0x10b)](_0x31fb59[_0x2d408c(0x22e)],_0x31fb59['WBRXN'])?_0x1c7f5d[_0x2d408c(0x195)][_0x2d408c(0x142)](_0x1ac51d):_0x4e0a57=_0xec30ab['id']);}const _0x1c170a=await this[_0x2d408c(0x243)]['resources'][_0x2d408c(0x2db)](_0x4e0a57,_0x31fb59[_0x2d408c(0x21c)]);return _0x1c170a[_0x2d408c(0xfd)][_0x2d408c(0x201)];}else _0x31fb59['sjbdd'](_0x1ddaf7,()=>_0x55beab(),0x3e8);}catch(_0x49e621){if(_0x31fb59[_0x2d408c(0x2c3)](_0x31fb59[_0x2d408c(0x17d)],_0x31fb59[_0x2d408c(0x17d)])){if(_0x31fb59[_0x2d408c(0x12f)](_0xfa67ad,0x0)){if(_0x31fb59['lLCOW'](_0x31fb59[_0x2d408c(0x2d3)],_0x31fb59['EpsQt'])){const _0x2e1ac2=_0x31fb59[_0x2d408c(0x230)][_0x2d408c(0x2dc)]('|');let _0x11b8ad=0x0;while(!![]){switch(_0x2e1ac2[_0x11b8ad++]){case'0':this[_0x2d408c(0x239)]();continue;case'1':_0x3f1b99[_0x2d408c(0x138)]=_0x134506[this[_0x2d408c(0x135)]]['tenantId'];continue;case'2':_0x597c57['cloudProviderClientId']=_0x2e2861[this[_0x2d408c(0x135)]][_0x2d408c(0x201)];continue;case'3':_0x4051a0[_0x2d408c(0x1c8)]=_0x313b48[this[_0x2d408c(0x135)]][_0x2d408c(0x255)];continue;case'4':_0xd33a55['cloudProviderResourceGroup']=_0xeaa74a[this['cloudProviderName']][_0x2d408c(0x25d)];continue;case'5':_0x1caff3[_0x2d408c(0x288)]=_0x25338c[this[_0x2d408c(0x135)]][_0x2d408c(0x17f)];continue;}break;}}else return logger[_0x2d408c(0x188)]('[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20'+_0x49e621+':'+_0x49e621[_0x2d408c(0x27a)]),{};}return await new Promise(_0x5bd9c6=>{const _0x2079ed=_0x2d408c;_0x31fb59[_0x2079ed(0x122)](_0x31fb59[_0x2079ed(0x158)],_0x31fb59[_0x2079ed(0x2d2)])?_0x5c4f26[_0x2079ed(0x142)](_0xdd7517[_0x2079ed(0x15f)]):_0x31fb59[_0x2079ed(0x280)](setTimeout,()=>_0x5bd9c6(),0x3e8);}),this[_0x2d408c(0x11f)](_0x1d4a23,_0x31fb59[_0x2d408c(0x1f8)](_0xfa67ad,0x1));}else return!![];}}async[a1_0x306bc7(0x1a9)](){const _0x215e94=a1_0x306bc7,_0xe081e4={};_0xe081e4[_0x215e94(0x17a)]=function(_0x50bb8f,_0x5dde82){return _0x50bb8f+_0x5dde82;},_0xe081e4[_0x215e94(0x1d5)]=_0x215e94(0x287),_0xe081e4[_0x215e94(0x110)]=function(_0x66fbd1,_0x581d5d){return _0x66fbd1-_0x581d5d;},_0xe081e4['yWrCI']=function(_0x3f2d75,_0x13851b){return _0x3f2d75===_0x13851b;},_0xe081e4[_0x215e94(0x1ce)]=_0x215e94(0x102),_0xe081e4[_0x215e94(0x284)]=function(_0x34d0ab,_0x162429){return _0x34d0ab===_0x162429;},_0xe081e4[_0x215e94(0x2bf)]=_0x215e94(0x1e9),_0xe081e4[_0x215e94(0x298)]=_0x215e94(0x152),_0xe081e4[_0x215e94(0x2a2)]=function(_0x5af7a8,_0x378b4f){return _0x5af7a8!==_0x378b4f;},_0xe081e4['ZJtYg']=_0x215e94(0x168);const _0x554afa=_0xe081e4;if(!this[_0x215e94(0x19e)]){if(_0x554afa[_0x215e94(0x1d3)](_0x554afa[_0x215e94(0x1ce)],_0x554afa[_0x215e94(0x1ce)]))await this[_0x215e94(0x2e2)]();else{const _0x53aa75=_0x1f9e49[_0x215e94(0x257)]['split']('-'),_0x393400=_0x554afa['nGjwO'](_0x554afa[_0x215e94(0x1d5)],_0x53aa75[_0x554afa[_0x215e94(0x110)](_0x53aa75[_0x215e94(0x28e)],0x1)])['slice'](0x0,0x18);return _0x393400[_0x215e94(0x1b4)]();}}const _0x4b56e3=this[_0x215e94(0x19e)]?.[_0x215e94(0x282)]||{};if(_0x4b56e3&&_0x554afa[_0x215e94(0x284)](_0x4b56e3[_0x554afa[_0x215e94(0x2bf)]],_0x554afa[_0x215e94(0x298)])){if(_0x554afa['VtyoF'](_0x554afa[_0x215e94(0x1b8)],_0x554afa[_0x215e94(0x1b8)]))_0xc3d09c=_0x51a8b5['id'];else return!![];}return![];}async[a1_0x306bc7(0x2bd)](_0x371793,_0x4016a4){const _0x34b265=a1_0x306bc7,_0x17d02c={'wJgPk':function(_0x496a30,_0x5e2c05){return _0x496a30(_0x5e2c05);},'tcrwF':_0x34b265(0x28d)};await _0x17d02c[_0x34b265(0x1b5)](deleteAgent,_0x371793),await _0x17d02c['wJgPk'](deleteRoutingDeps,_0x371793);const _0x16d10f=this[_0x34b265(0x2ae)];logger[_0x34b265(0x1f9)]('Deleting\x20the\x20cluster\x20'+this[_0x34b265(0x228)]),await _0x16d10f[_0x34b265(0x13f)][_0x34b265(0x1cd)](global_registry[_0x34b265(0x1b9)],this[_0x34b265(0x228)]),logger[_0x34b265(0x1f9)](_0x17d02c[_0x34b265(0x2d5)]);}async['updateClusterAlreadyPresent'](){const _0x2171e4=a1_0x306bc7,_0x8eda44={};_0x8eda44['lWlOn']=_0x2171e4(0x1c0),_0x8eda44[_0x2171e4(0x137)]='Storage\x20account\x20already\x20exists,\x20skipping',_0x8eda44[_0x2171e4(0x278)]='Enabling\x20Local\x20account\x20for\x20the\x20cluster',_0x8eda44[_0x2171e4(0x25a)]=function(_0x3cc103,_0x21b839){return _0x3cc103===_0x21b839;},_0x8eda44[_0x2171e4(0x26d)]=_0x2171e4(0x148),_0x8eda44[_0x2171e4(0x1b2)]=_0x2171e4(0x1f3),_0x8eda44[_0x2171e4(0x14a)]=function(_0x2722cd,_0x4bfa1c){return _0x2722cd&&_0x4bfa1c;},_0x8eda44['RWqFe']=_0x2171e4(0x27c),_0x8eda44[_0x2171e4(0x18f)]=_0x2171e4(0x24f),_0x8eda44[_0x2171e4(0x265)]=function(_0x5c95bc,_0x17a463){return _0x5c95bc===_0x17a463;},_0x8eda44[_0x2171e4(0x1d2)]=_0x2171e4(0x176),_0x8eda44[_0x2171e4(0x241)]=_0x2171e4(0x20c),_0x8eda44[_0x2171e4(0x24e)]=_0x2171e4(0x126),_0x8eda44[_0x2171e4(0x2ca)]=function(_0x3a8011,_0x1a7353){return _0x3a8011!==_0x1a7353;},_0x8eda44[_0x2171e4(0x1ec)]=_0x2171e4(0x10d),_0x8eda44[_0x2171e4(0x247)]=_0x2171e4(0x1e3),_0x8eda44[_0x2171e4(0x223)]=_0x2171e4(0x22c);const _0x900d6f=_0x8eda44;!this['clusterInfo']&&(_0x900d6f[_0x2171e4(0x25a)](_0x900d6f[_0x2171e4(0x26d)],_0x900d6f['XplgN'])?_0x33bbfd[_0x2171e4(0x188)]=_0x5a015a:await this[_0x2171e4(0x2e2)]());const _0x25db8b=this[_0x2171e4(0x19e)],_0x8aee=this[_0x2171e4(0x19e)]?.[_0x2171e4(0x123)]?.['enabled']||![],_0x1fdd30=this[_0x2171e4(0x19e)]?.[_0x2171e4(0x286)]?.[_0x2171e4(0x216)]?.[_0x2171e4(0x16b)]||![],_0x3df81c=!this[_0x2171e4(0x19e)]?.[_0x2171e4(0x221)]||![];if(_0x900d6f[_0x2171e4(0x14a)](_0x8aee,_0x1fdd30)&&_0x3df81c){if(_0x900d6f['pmmfg'](_0x900d6f[_0x2171e4(0x186)],_0x900d6f[_0x2171e4(0x18f)]))_0x4ab6c0[_0x2171e4(0x188)](_0x900d6f['lWlOn']),_0x50a257[_0x2171e4(0x182)](0x1);else return;}if(!_0x8aee){if(_0x900d6f[_0x2171e4(0x265)](_0x900d6f[_0x2171e4(0x1d2)],_0x900d6f[_0x2171e4(0x241)]))return _0x402279[_0x2171e4(0x188)]=_0x47e831[_0x2171e4(0x188)],_0x3dc14b;else{logger[_0x2171e4(0x1f9)](_0x900d6f[_0x2171e4(0x24e)]);const _0x492070={};_0x492070[_0x2171e4(0x13d)]=WS_EVENTS[_0x2171e4(0x161)],_0x492070[_0x2171e4(0x1ef)]=_0x900d6f['mvwmG'],this[_0x2171e4(0x26e)][_0x2171e4(0x1f6)](this[_0x2171e4(0x2b6)],_0x492070),_0x25db8b['oidcIssuerProfile']['enabled']=!![];}}if(!_0x1fdd30){if(_0x900d6f['wGpkk'](_0x900d6f['QavAv'],_0x900d6f[_0x2171e4(0x1ec)]))_0x109ae8[_0x2171e4(0x1f9)](_0x900d6f[_0x2171e4(0x137)]);else{logger[_0x2171e4(0x1f9)](_0x900d6f[_0x2171e4(0x247)]);const _0x57381e={};_0x57381e[_0x2171e4(0x13d)]=WS_EVENTS[_0x2171e4(0x161)],_0x57381e[_0x2171e4(0x1ef)]=_0x900d6f[_0x2171e4(0x247)],this[_0x2171e4(0x26e)]['sendEventToBackend'](this['rws'],_0x57381e);const _0x32a137={};_0x32a137['enabled']=!![],_0x25db8b[_0x2171e4(0x286)]={'workloadIdentity':_0x32a137,..._0x25db8b['securityProfile']};}}if(!_0x3df81c){if(_0x900d6f[_0x2171e4(0x2ca)](_0x900d6f[_0x2171e4(0x223)],_0x900d6f[_0x2171e4(0x223)])){_0x4e5d67['info'](_0x900d6f[_0x2171e4(0x278)]);const _0x20074b={};_0x20074b[_0x2171e4(0x13d)]=_0x4a938a[_0x2171e4(0x161)],_0x20074b[_0x2171e4(0x1ef)]=_0x900d6f[_0x2171e4(0x278)],this[_0x2171e4(0x26e)][_0x2171e4(0x1f6)](this['rws'],_0x20074b),_0xddc88b[_0x2171e4(0x221)]=![];}else{logger[_0x2171e4(0x1f9)](_0x900d6f['Qudwy']);const _0x3d3034={};_0x3d3034[_0x2171e4(0x13d)]=WS_EVENTS[_0x2171e4(0x161)],_0x3d3034[_0x2171e4(0x1ef)]=_0x900d6f[_0x2171e4(0x278)],this[_0x2171e4(0x26e)]['sendEventToBackend'](this['rws'],_0x3d3034),_0x25db8b[_0x2171e4(0x221)]=![];}}await this[_0x2171e4(0x2ae)][_0x2171e4(0x13f)][_0x2171e4(0x268)](global_registry['cloudProviderResourceGroup'],this['clusterName'],_0x25db8b),await this[_0x2171e4(0x2e2)]();}async['sendAzureInfoToHST'](){const _0x96516a=a1_0x306bc7,_0x532364={};_0x532364[_0x96516a(0x2c5)]=function(_0x125906,_0x55d417){return _0x125906===_0x55d417;},_0x532364[_0x96516a(0x1d6)]='Action\x20permission\x20list\x20is\x20empty\x0a',_0x532364[_0x96516a(0x206)]=function(_0x1d18be,_0x4ff9a0){return _0x1d18be===_0x4ff9a0;},_0x532364['gHtAD']=_0x96516a(0x1eb);const _0x58e823=_0x532364,_0x4c4a95=await this['networkClient'][_0x96516a(0x290)][_0x96516a(0x1be)](global_registry[_0x96516a(0x1b9)]),_0x31e7d2={};_0x31e7d2[_0x96516a(0x108)]=global_registry[_0x96516a(0x250)],_0x31e7d2[_0x96516a(0x1a3)]=global_registry['bstackAccesskey'],_0x31e7d2['cloudProvider']=AZURE,_0x31e7d2[_0x96516a(0x195)]=[];const _0x51d39d=_0x31e7d2;for await(const _0x5e52f0 of _0x4c4a95){_0x58e823['WXZhX'](_0x58e823[_0x96516a(0x23a)],_0x58e823[_0x96516a(0x23a)])?_0x51d39d[_0x96516a(0x195)][_0x96516a(0x142)](_0x5e52f0):(_0x595be5+=_0x58e823[_0x96516a(0x2c5)](_0x38e4b2[_0x96516a(0x28e)],0x0)?_0x58e823[_0x96516a(0x1d6)]:'',_0x5880b7[_0x96516a(0x1f1)](_0x96516a(0x198)+_0x3ca5e5[_0x96516a(0x2bb)](_0x3824cf)));}const _0x1ae224={};_0x1ae224['type']=WS_EVENTS[_0x96516a(0x161)],_0x1ae224['message']=_0x51d39d,this[_0x96516a(0x26e)][_0x96516a(0x1f6)](this[_0x96516a(0x2b6)],_0x1ae224);}async[a1_0x306bc7(0x1d0)](_0x1ac26e){const _0x43f0df=a1_0x306bc7,_0xd2443f={};_0xd2443f[_0x43f0df(0x1c5)]=_0x43f0df(0x249),_0xd2443f[_0x43f0df(0x2e1)]=_0x43f0df(0x1e3),_0xd2443f[_0x43f0df(0x1f0)]=function(_0x4141f6,_0x1ac014){return _0x4141f6+_0x1ac014;},_0xd2443f['dYjCj']=function(_0x3ad97a,_0x5f54be){return _0x3ad97a!==_0x5f54be;},_0xd2443f[_0x43f0df(0x1e8)]='AQVPy',_0xd2443f['eeicu']=function(_0x178e0d,_0x5ceda3){return _0x178e0d!==_0x5ceda3;},_0xd2443f[_0x43f0df(0x20f)]=_0x43f0df(0x1fe),_0xd2443f[_0x43f0df(0x12d)]='HFKTC',_0xd2443f[_0x43f0df(0x19b)]=function(_0x180734,_0x445119){return _0x180734===_0x445119;},_0xd2443f[_0x43f0df(0x1e4)]='UycQu',_0xd2443f['Pzhlm']='dbRuR',_0xd2443f[_0x43f0df(0x212)]=_0x43f0df(0x14e),_0xd2443f[_0x43f0df(0x179)]=_0x43f0df(0x155);const _0x3ac443=_0xd2443f;try{if(_0x3ac443[_0x43f0df(0x156)](_0x3ac443[_0x43f0df(0x1e8)],_0x3ac443[_0x43f0df(0x1e8)]))throw new _0x48c018(_0x3ac443[_0x43f0df(0x1c5)],_0x43f0df(0x166)+_0x291303['stringify'](_0x4baefb));else{const _0x34ded4=await this[_0x43f0df(0x25b)][_0x43f0df(0x290)][_0x43f0df(0x1be)](global_registry[_0x43f0df(0x1b9)]);for await(const _0x6a5733 of _0x34ded4){if(_0x3ac443['eeicu'](_0x3ac443[_0x43f0df(0x20f)],_0x3ac443[_0x43f0df(0x12d)])){if(_0x3ac443['PaUQL'](_0x6a5733[_0x43f0df(0x15f)],_0x1ac26e)){if(_0x3ac443['PaUQL'](_0x3ac443[_0x43f0df(0x1e4)],_0x3ac443[_0x43f0df(0x134)])){_0x3e9bff[_0x43f0df(0x1f9)](_0x3ac443[_0x43f0df(0x2e1)]);const _0x398c0e={};_0x398c0e[_0x43f0df(0x13d)]=_0x450419['RESOURCES'],_0x398c0e['message']=_0x3ac443[_0x43f0df(0x2e1)],this[_0x43f0df(0x26e)]['sendEventToBackend'](this[_0x43f0df(0x2b6)],_0x398c0e);const _0x4ba6ef={};_0x4ba6ef[_0x43f0df(0x16b)]=!![];const _0xf694af={'workloadIdentity':_0x4ba6ef,..._0x518423[_0x43f0df(0x286)]};_0x9af22e[_0x43f0df(0x286)]=_0xf694af;}else return!![];}}else _0x512ca8[_0x43f0df(0x2b0)]('['+_0x3ac443[_0x43f0df(0x1f0)](_0x1f8291,0x1)+']\x20'+_0x40def0[_0x1f42e1]);}}}catch(_0x44a577){if(_0x3ac443[_0x43f0df(0x1bd)](_0x3ac443['oWMsR'],_0x3ac443[_0x43f0df(0x179)]))return logger[_0x43f0df(0x188)]('Cannot\x20find\x20VPC\x20'+_0x1ac26e+_0x43f0df(0x2b2)+_0x44a577),![];else _0x2d5d2a[_0x43f0df(0x142)](..._0x3085f8[_0x43f0df(0x132)]);}return![];}async[a1_0x306bc7(0x2b5)](_0x285363,_0x1b6c91){const _0x3e2608=a1_0x306bc7,_0x1447e7={};_0x1447e7[_0x3e2608(0xf9)]=function(_0x2d2152,_0x2f020f){return _0x2d2152===_0x2f020f;},_0x1447e7[_0x3e2608(0x20b)]='MJGcN',_0x1447e7[_0x3e2608(0x139)]=function(_0x40d4c2,_0x26b9ec){return _0x40d4c2===_0x26b9ec;},_0x1447e7[_0x3e2608(0x24d)]=function(_0x388a25,_0x4e5f5a){return _0x388a25!==_0x4e5f5a;},_0x1447e7[_0x3e2608(0x226)]=_0x3e2608(0x21b);const _0x26a689=_0x1447e7;try{if(_0x26a689[_0x3e2608(0xf9)](_0x26a689[_0x3e2608(0x20b)],_0x26a689[_0x3e2608(0x20b)])){const _0x1d1f46=await this[_0x3e2608(0x25b)][_0x3e2608(0x1ee)][_0x3e2608(0x17c)](global_registry['cloudProviderResourceGroup'],_0x1b6c91,_0x285363[0x0]);if(_0x26a689[_0x3e2608(0x139)](_0x285363[0x0],_0x1d1f46['name'])){if(_0x26a689[_0x3e2608(0x24d)](_0x26a689[_0x3e2608(0x226)],_0x26a689[_0x3e2608(0x226)]))_0x274a3d[_0x3e2608(0x182)](0x0);else return[!![],_0x285363];}}else return!![];}catch(_0x308e91){return logger[_0x3e2608(0x188)](_0x3e2608(0x19c)+_0x285363+_0x3e2608(0x2d0)+_0x308e91),[![],[]];}return[![],[]];}async['isCliToolInstalled'](){const _0x36fbc3=a1_0x306bc7,_0x341f01={};_0x341f01[_0x36fbc3(0x1f4)]=_0x36fbc3(0x10f);const _0x320221=_0x341f01,_0x3cf954={};_0x3cf954[_0x36fbc3(0x1a8)]=!![],_0x3cf954[_0x36fbc3(0x188)]=null,_0x3cf954[_0x36fbc3(0x1fd)]=_0x320221['wSDzB'];const _0x4dd81e=_0x3cf954;return _0x4dd81e;}async['getHeader'](){const _0x1a661f=a1_0x306bc7,_0x1e3882={};_0x1e3882['GfQMN']='https://graph.microsoft.com/.default',_0x1e3882[_0x1a661f(0x23c)]=_0x1a661f(0x1e0),_0x1e3882[_0x1a661f(0x18c)]=_0x1a661f(0x171);const _0x49c7f2=_0x1e3882,_0x471017=await this['cred']['getToken'](_0x49c7f2[_0x1a661f(0x2a7)]),_0x1f0db2={};_0x1f0db2['method']=_0x49c7f2[_0x1a661f(0x23c)],_0x1f0db2[_0x1a661f(0x21a)]={},_0x1f0db2[_0x1a661f(0x21a)][_0x1a661f(0x124)]='Bearer\x20'+_0x471017[_0x1a661f(0x145)],_0x1f0db2[_0x1a661f(0x21a)][_0x1a661f(0x1e6)]=_0x49c7f2[_0x1a661f(0x18c)];const _0x224636=_0x1f0db2;return _0x224636;}async[a1_0x306bc7(0x128)](_0x3f3619){const _0x3dee73=a1_0x306bc7,_0x3e2ac2={'RzkBn':function(_0x5a4748,_0x2e1418,_0x3d5bfc){return _0x5a4748(_0x2e1418,_0x3d5bfc);},'cGzRo':function(_0x218c7c,_0x8d069f){return _0x218c7c===_0x8d069f;},'xTFUM':_0x3dee73(0x249)},_0x1f8869={};_0x1f8869['principalId']='',_0x1f8869[_0x3dee73(0x188)]=null;const _0x52151a=_0x1f8869;try{const _0x3ae5d8=_0x3dee73(0x2a1)+_0x3f3619+'\x27',_0x46e25=await this['getHeader'](),_0x275b43=await _0x3e2ac2[_0x3dee73(0x25c)](fetch,_0x3ae5d8,_0x46e25),_0x34b911=await _0x275b43[_0x3dee73(0x181)]();if(!_0x34b911['value']||_0x3e2ac2[_0x3dee73(0x2c4)](_0x34b911['value'][_0x3dee73(0x28e)],0x0))throw new Error(_0x3e2ac2['xTFUM'],_0x3dee73(0x166)+JSON[_0x3dee73(0x2bb)](_0x34b911));_0x52151a['principalId']=_0x34b911[_0x3dee73(0x12a)][0x0]['id'];}catch(_0x3a489e){_0x52151a['error']=_0x3a489e;}return _0x52151a;}async['checkAccess'](){const _0x3f74ab=a1_0x306bc7,_0x569001={};_0x569001[_0x3f74ab(0x27d)]='allowed',_0x569001[_0x3f74ab(0x209)]='denied',_0x569001[_0x3f74ab(0x18b)]=function(_0x26fe59,_0x522458){return _0x26fe59!==_0x522458;},_0x569001[_0x3f74ab(0x2b9)]=function(_0x147134,_0x366eb4){return _0x147134===_0x366eb4;},_0x569001['UqygH']=_0x3f74ab(0x12b),_0x569001[_0x3f74ab(0x1bb)]=_0x3f74ab(0x146),_0x569001['noFeI']='Action\x20permission\x20list\x20is\x20empty\x0a';const _0x46922d=_0x569001,_0x3de3cd={};_0x3de3cd[_0x3f74ab(0x1a8)]=![],_0x3de3cd[_0x3f74ab(0x188)]=null,_0x3de3cd['data']='';const _0x5058c1=_0x3de3cd;try{let _0x1f638a='';const _0x4a7b2c=_0x3f74ab(0x15e)+global_registry[_0x3f74ab(0x1c8)]+'/resourceGroups/'+global_registry[_0x3f74ab(0x1b9)],_0x20898c=await this['getPrincipalIdFromClientId'](global_registry[_0x3f74ab(0x229)]);if(_0x46922d['xTShf'](_0x20898c[_0x3f74ab(0x188)],null))return _0x5058c1[_0x3f74ab(0x188)]=_0x20898c[_0x3f74ab(0x188)],_0x5058c1;const _0x57aadb=_0x3f74ab(0x125)+_0x20898c[_0x3f74ab(0x15c)]+'\x27)',_0x1462e1={};_0x1462e1[_0x3f74ab(0x26a)]=_0x57aadb;const _0xcf7f2e=await this[_0x3f74ab(0x22a)][_0x3f74ab(0x2ac)][_0x3f74ab(0x16e)](_0x4a7b2c,_0x1462e1),_0x30a3ae=[];for await(const _0x2af3b1 of _0xcf7f2e){_0x30a3ae['push'](_0x2af3b1);}if(_0x46922d[_0x3f74ab(0x2b9)](_0x30a3ae[_0x3f74ab(0x28e)],0x0))return _0x5058c1[_0x3f74ab(0x1fd)]=_0x46922d['UqygH'],_0x5058c1;const _0x4d175a=[...new Set(_0x30a3ae[_0x3f74ab(0x16a)](_0x41fffd=>_0x41fffd[_0x3f74ab(0x131)]))];if(_0x46922d[_0x3f74ab(0x2b9)](_0x4d175a[_0x3f74ab(0x28e)],0x0))return _0x5058c1[_0x3f74ab(0x1fd)]=_0x46922d[_0x3f74ab(0x1bb)],_0x5058c1;const _0x4d2c46=[],_0x352a01=[];for(const _0x64239a of _0x4d175a){const _0x593df5=await this[_0x3f74ab(0x22a)][_0x3f74ab(0x183)][_0x3f74ab(0x2db)](_0x64239a);logger['debug'](_0x3f74ab(0x17e)+_0x593df5[_0x3f74ab(0x116)]),_0x4d2c46[_0x3f74ab(0x142)](_0x593df5),logger[_0x3f74ab(0x1f1)](_0x3f74ab(0x27b)+JSON[_0x3f74ab(0x2bb)](_0x593df5[_0x3f74ab(0x28f)])),_0x593df5['permissions']['forEach'](_0x49df6c=>{const _0x472ec4=_0x3f74ab;_0x352a01['push'](..._0x49df6c[_0x472ec4(0x132)]);});}logger[_0x3f74ab(0x1f1)](_0x3f74ab(0x1bc)+JSON[_0x3f74ab(0x2bb)](_0x352a01)),_0x46922d[_0x3f74ab(0x2b9)](_0x352a01[_0x3f74ab(0x28e)],0x0)&&(_0x1f638a+=_0x46922d[_0x3f74ab(0x2b9)](_0x352a01[_0x3f74ab(0x28e)],0x0)?_0x46922d[_0x3f74ab(0x233)]:'',logger[_0x3f74ab(0x1f1)](_0x3f74ab(0x198)+JSON[_0x3f74ab(0x2bb)](_0x4d2c46))),_0x5058c1[_0x3f74ab(0x1a8)]=!![],Object['entries'](PERMISSIONS[_0x3f74ab(0x17b)])['forEach'](([_0x358c59,_0x1b8173])=>{const _0x5b3a2c=_0x3f74ab,_0x35dbe3=_0x352a01['includes'](_0x358c59);_0x1f638a+='\x0a\x09'+_0x1b8173+':\x20'+(_0x35dbe3?_0x46922d[_0x5b3a2c(0x27d)]:_0x46922d[_0x5b3a2c(0x209)]),!_0x35dbe3&&(_0x5058c1[_0x5b3a2c(0x1a8)]=![]);}),_0x5058c1[_0x3f74ab(0x1fd)]=_0x1f638a;}catch(_0xb939a8){_0x5058c1['error']=_0xb939a8;}return _0x5058c1;}}function a1_0xf4a1(_0x587c88,_0x3914a3){const _0x21ebb6=a1_0x21eb();return a1_0xf4a1=function(_0xf4a197,_0x358740){_0xf4a197=_0xf4a197-0xf2;let _0x269a77=_0x21ebb6[_0xf4a197];return _0x269a77;},a1_0xf4a1(_0x587c88,_0x3914a3);}const a1_0x5ce16c={};a1_0x5ce16c[a1_0x306bc7(0x197)]=AzureCloudProvider,module[a1_0x306bc7(0x13e)]=a1_0x5ce16c;function a1_0x21eb(){const _0x109f79=['deployments','dskYM','nGjwO','ACTION','get','CKXiz','role\x20name\x20attached\x20-\x20','clientSecret','NojyR','json','exit','roleDefinitions','Lifecycle','LbgoK','RWqFe','sleuT','error','UHnLt','nPLmF','xTShf','OrnoG','JMNAb','bAHJx','BvqMu','RpEHV','NqxaY','HHchN','kubeconfigs','OpdOm','vpcInfo','QtORe','AzureCloudProvider','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','jQOEx','../config/constants','PaUQL','Cannot\x20find\x20subnets\x20','issuerURL','clusterInfo','EbTZv','FtJnf','NNQct','bTKsC','accessKey','../config/logger','AyHgr','oyQAT','turboscale-cluster-deployment','status','isBrowserstackCluster','gdTos','false','metadata','Blob\x20delete\x20lifecycle','vtcWZ','LOG','turboscale-managed-identity-','azureresources','XplgN','ecgdt','toLowerCase','wJgPk','BwXvg','WtDXW','ZJtYg','cloudProviderResourceGroup','templates','CqSIA','actionPermission\x20:\x20','eeicu','listAll','PXwsS','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','HFqHw','@azure/arm-network','378134tSRVbo','rhvPi','LQrvc','Teimw','MVhle','cloudProviderSubscriptionId','DawvN','IliVG','OUuWx','tenantId','beginDeleteAndWait','qipjZ','\x20TENANT\x20ID:\x20','isVPCPresent','ALsBh','KHhEB','yWrCI','svPxS','STezj','uxUGw','csRAl','xrWbb','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','BbXLa','tdfWg','6lGWGDp','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','RmFzf','resources','GET','YyZpS','gDkmm','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','yCmNU','OninF','Content-Type','jpqPI','HBtJO','browserstack:managedBy','PAkIP','qILbq','QavAv','moxjT','subnets','message','riOBa','debug','ixlXr','ETJMk','wSDzB','NmNhi','sendEventToBackend','XlqmR','tTyqM','info','FDFhx','HePWR','GFhdL','data','EzrRA','eCdwp','resourceGroups','clientId','fDLff','utf-8','getUserInput','zWUwq','WXZhX','storageaccount.json','fLDpC','ibEWY','hostname','ARhTl','kigzf','qQEFm','isStorageAccountPresent','xoOWL','QNklj','clusterRegion','oWMsR','yDzoK','tRLnU','KaIwN','workloadIdentity','DQQYa','js-yaml','vnetSubnetID','headers','rzmZw','TLZqN','listByResourceGroup','aMVHz','QpjUG','iMTbL','disableLocalAccounts','WDUoG','gFQUV','default','Creating\x20Azure\x20storage\x20account','EWGnX','0|4|2|5|3|1','clusterName','cloudProviderClientId','authClient','federatedidentityuploader.json','FTqpc','CCpbO','zeqXB','rules','LndmF','turboscale-identity-deployment','NMNNw','noFeI','fYCbX','qRbWW','LTlrt','rxDEY','tSPqV','setClients','gHtAD','AMWlt','KcCra','daysAfterCreationGreaterThan','pEpmV','NnXNJ','185427PVNQvI','WNKsR','subnetName','resourceClient','rGAiC','GlxTM','ZRhcA','tdXmf','BCWjF','No\x20service\x20principal\x20found','BfKvQ','YDmDY','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','EXrxS','mvwmG','wORdM','bstackUsername','ZPqNz','kxlLb','managedidentity.json','uroCQ','subscriptionId','WwMZP','s3Bucket','loadBalancer','location','pmmfg','networkClient','RzkBn','resourceGroup','qeYhV','CLLqm','oxcRQ','storageClient','OjGrW','sHIfF','yfbTL','rXaMP','mpboh','qCxBb','beginCreateOrUpdateAndWait','FTfab','filter','BvkAv','getKubeConfigData','HbREt','webSocketUtils','diucF','kGjMY','parse','14091hdSPQV','yzRXL','aDfVA','mHhyD','iEuqS','jXMPE','Qudwy','473400sfRgpq','stack','Attached\x20permissions\x20:\x20','dtLuQ','YmUbK','createOtherResources','lmrmw','sjbdd','setupNewCluster','tags','clusterAutoUpgrade','RAGew','lPNfk','securityProfile','turboscale','cloudProviderClientSecret','NgzPE','WqEfD','haKqi','NOlaI','Deleted\x20the\x20cluster\x20successfully','length','permissions','virtualNetworks','storageAccounts','fOGCv','AXozY','tRLUx','IeFSx','@azure/arm-resources','CTYgy','orGEO','lLCOW','dmFHP','maxNodes','definition','nLvgG','filters','0|4|6|5|7|2|1|3','avcRr','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','VtyoF','lmGjx','createCluster','wEKXm','aNeIs','GfQMN','hub','uAdte','2|5|1|3|4|0','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','roleAssignments','mkXPw','containerClient','QsbCE','log','Vrixs','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','FwDrB','hubHaNameSpace','isSubnetsValid','rws','ingress','SoYau','epjQl','2023-01-31','stringify','getStorageAccountName','deleteCluster','QKwEV','DSabx','emJmj','cred','WudoA','bROlH','cGzRo','QTuzR','createOrUpdate','topYp','../utils/gridComponents','WFKMI','wGpkk','init','nJpUc','rzXeZ','createStorageAccount','OdnhK','.\x20Error:\x20','Managed\x20identity\x20already\x20exists,\x20skipping','alagb','EpsQt','sAJes','tcrwF','getResourceGroups','jwpjh','OJFZp','@azure/identity','akscluster.json','getById','split','ruvZl','createFederatedAccount','allowed','DBPda','FRrHf','getClusterInfo','Found\x20only\x20one\x20resource\x20group:\x20','agentPoolProfiles','yZfRu','../permissions/AZURE.json','eyTHx','2070pAYNbX','lHqdq','2|1|5|0|3|4','IGxTc','blockBlob','ZedLG','../utils/utilityMethods','properties','vpcName','vsZZU','blobTypes','\x20CLIENT\x20ID:\x20','Alogn','8104175TiXFGz','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','KeBdf','description','cloudProvider','username','pSzvA','@azure/arm-containerservice','GMGei','hxVpb','ySzBh','teZZv','No\x20CLI\x20tool\x20required','yrHCa','IlaGP','@azure/arm-authorization','federatedidentity','delete','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','roleName','dzSHe','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','8968001wDFPAa','sendAzureInfoToHST','@azure/arm-storage','[variables(\x27vnetSubnetID\x27)]','WkZvu','gYEwx','getResourceClientId','MVUix','VOfbD','QmFac','oidcIssuerProfile','Authorization','assignedTo(\x27','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','emSJk','getPrincipalIdFromClientId','list','value','No\x20attached\x20role\x20for\x20the\x20client\x20key','GkJvp','xIVDi','readFileAsync','jwlyy','HAVKs','roleDefinitionId','actions','denied','Pzhlm','cloudProviderName','policy','ChUca','cloudProviderTenantId','WKGJY','346712WXmYRv','225tbmweM','join','type','exports','managedClusters','XSxrv','isManagedIdentityPresent','push','iyzPx','bNjNB','token','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','Rgwcm','parameters','lRexc','getGridHostname','AIIJQ','mTgPg','uflLg','Cannot\x20find\x20VPC\x20','cdEXj','GGTHj','BrowserStack','ahrVR','TxnFM','mlGLO','dYjCj','isClusterPresent','KMROm','ezUND','includes','JpSPP','principalId','IKmqg','subscriptions/','name','zoWgv','RESOURCES','Incremental','createManagedIdentity','uJmld','\x20RESOURCE\x20GROUP:\x20','Received\x20response\x20-\x20','setCachedCredsInRegistry','WTRvd','1012IJZLeg','map','enabled','uHDzC','.json','listForScope','kzgvD','Lxqjh','application/json','sDgme','oCKZY','variables','wBIhx','YlAHR','sQwdp'];a1_0x21eb=function(){return _0x109f79;};return a1_0x21eb();}