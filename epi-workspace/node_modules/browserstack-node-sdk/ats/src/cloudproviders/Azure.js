const a1_0x2d5959=a1_0x36d0;(function(_0x4dd524,_0x4b1dcc){const _0x5b0bae=a1_0x36d0,_0x550a25=_0x4dd524();while(!![]){try{const _0x107ae8=parseInt(_0x5b0bae(0x2fe))/0x1+parseInt(_0x5b0bae(0x31a))/0x2+-parseInt(_0x5b0bae(0x28e))/0x3*(parseInt(_0x5b0bae(0x291))/0x4)+parseInt(_0x5b0bae(0x18b))/0x5*(-parseInt(_0x5b0bae(0x22b))/0x6)+parseInt(_0x5b0bae(0x12e))/0x7*(parseInt(_0x5b0bae(0x2a5))/0x8)+parseInt(_0x5b0bae(0x189))/0x9*(parseInt(_0x5b0bae(0x268))/0xa)+-parseInt(_0x5b0bae(0x1e4))/0xb;if(_0x107ae8===_0x4b1dcc)break;else _0x550a25['push'](_0x550a25['shift']());}catch(_0x14ef37){_0x550a25['push'](_0x550a25['shift']());}}}(a1_0x58e5,0xec187));const fs=require('fs'),path=require(a1_0x2d5959(0x183)),yaml=require(a1_0x2d5959(0x236)),{logger}=require(a1_0x2d5959(0x1df)),{CloudProvider}=require(a1_0x2d5959(0x2f9)),{deleteRoutingDeps,deleteAgent}=require(a1_0x2d5959(0x1ff)),{AZURE,WS_EVENTS,global_registry}=require(a1_0x2d5959(0x170)),PERMISSIONS=require(a1_0x2d5959(0x1de)),{ClientSecretCredential}=require(a1_0x2d5959(0x2c4)),{NetworkManagementClient}=require(a1_0x2d5959(0x311)),{StorageManagementClient}=require(a1_0x2d5959(0x246)),{AuthorizationManagementClient}=require(a1_0x2d5959(0x1a6)),{ResourceManagementClient}=require(a1_0x2d5959(0x2e8)),{ContainerServiceClient}=require(a1_0x2d5959(0x2ee)),{runCommand}=require('../utils/utilityMethods');class AzureCloudProvider extends CloudProvider{constructor(_0x569f0c,_0x3dcdb3,_0xc5c8f,_0x545072){const _0x35226b=a1_0x2d5959,_0x371c1c={};_0x371c1c[_0x35226b(0x2fb)]=_0x35226b(0x26d);const _0x36af88=_0x371c1c,_0x5c551b=_0x36af88[_0x35226b(0x2fb)][_0x35226b(0x228)]('|');let _0x34cf3f=0x0;while(!![]){switch(_0x5c551b[_0x34cf3f++]){case'0':this['networkClient']=null;continue;case'1':this[_0x35226b(0x299)]=null;continue;case'2':this['containerClient']=null;continue;case'3':this['clusterInfo']=null;continue;case'4':this[_0x35226b(0x1cc)]=null;continue;case'5':super(AZURE,_0x569f0c,_0x3dcdb3,_0xc5c8f,_0x545072);continue;case'6':this[_0x35226b(0x2f6)]=null;continue;case'7':this[_0x35226b(0x1b4)]=null;continue;}break;}}async[a1_0x2d5959(0x258)](){return await super['init'](),this;}[a1_0x2d5959(0x2f3)](){const _0x243e76=a1_0x2d5959,_0xf240e=new ClientSecretCredential(global_registry[_0x243e76(0x244)],global_registry[_0x243e76(0x2dd)],global_registry[_0x243e76(0x19e)]);this['containerClient']=new ContainerServiceClient(_0xf240e,global_registry[_0x243e76(0x143)]),this[_0x243e76(0x1cc)]=new StorageManagementClient(_0xf240e,global_registry[_0x243e76(0x143)]),this[_0x243e76(0x299)]=new ResourceManagementClient(_0xf240e,global_registry[_0x243e76(0x143)]),this[_0x243e76(0x157)]=new NetworkManagementClient(_0xf240e,global_registry[_0x243e76(0x143)]),this[_0x243e76(0x1b4)]=new AuthorizationManagementClient(_0xf240e,global_registry[_0x243e76(0x143)]),this['cred']=_0xf240e;}[a1_0x2d5959(0x153)](){const _0x589a4c=a1_0x2d5959,_0x30f7e3={};_0x30f7e3[_0x589a4c(0x230)]=function(_0x3638e1,_0x57a7f9){return _0x3638e1+_0x57a7f9;},_0x30f7e3[_0x589a4c(0x2eb)]='turboscale',_0x30f7e3[_0x589a4c(0x13a)]=function(_0x3e7b9b,_0x18b310){return _0x3e7b9b-_0x18b310;};const _0x513497=_0x30f7e3,_0x2e4444=global_registry[_0x589a4c(0x1c6)]['split']('-'),_0x3338f3=_0x513497[_0x589a4c(0x230)](_0x513497[_0x589a4c(0x2eb)],_0x2e4444[_0x513497[_0x589a4c(0x13a)](_0x2e4444[_0x589a4c(0x1a4)],0x1)])[_0x589a4c(0x1c5)](0x0,0x18);return _0x3338f3['toLowerCase']();}[a1_0x2d5959(0x297)](_0x13e483){const _0x1092a8=a1_0x2d5959,_0x4c9bb4={};_0x4c9bb4[_0x1092a8(0x167)]=_0x1092a8(0x1d4);const _0x40c3aa=_0x4c9bb4,_0x56a790=_0x40c3aa[_0x1092a8(0x167)][_0x1092a8(0x228)]('|');let _0x36d09b=0x0;while(!![]){switch(_0x56a790[_0x36d09b++]){case'0':this[_0x1092a8(0x2f3)]();continue;case'1':global_registry[_0x1092a8(0x19e)]=_0x13e483[this[_0x1092a8(0x140)]]['clientSecret'];continue;case'2':global_registry[_0x1092a8(0x265)]=_0x13e483[this[_0x1092a8(0x140)]][_0x1092a8(0x259)];continue;case'3':global_registry[_0x1092a8(0x143)]=_0x13e483[this[_0x1092a8(0x140)]][_0x1092a8(0x19a)];continue;case'4':global_registry[_0x1092a8(0x2dd)]=_0x13e483[this[_0x1092a8(0x140)]]['clientId'];continue;case'5':global_registry['cloudProviderTenantId']=_0x13e483[this['cloudProviderName']][_0x1092a8(0x231)];continue;}break;}}async[a1_0x2d5959(0x18f)](_0x15d427,_0x122e6e){const _0x2a70a8=a1_0x2d5959,_0x4d09a1={'HSTfU':_0x2a70a8(0x31b),'ltuel':_0x2a70a8(0x1fc),'WMkDT':function(_0x3ce65a,_0x383c4d){return _0x3ce65a(_0x383c4d);},'dZnQD':function(_0x3da52d,_0x5a7037){return _0x3da52d(_0x5a7037);},'IEcPK':function(_0x17940a,_0x59df98){return _0x17940a(_0x59df98);},'uLkgI':function(_0x2a90e1,_0x187776){return _0x2a90e1===_0x187776;},'BjVVK':function(_0xb145,_0x4f3551){return _0xb145!==_0x4f3551;},'tFWnK':_0x2a70a8(0x221),'AQekw':function(_0x12e25a,_0x2814d9){return _0x12e25a(_0x2814d9);},'FrPDM':_0x2a70a8(0x2d9),'EqTkY':_0x2a70a8(0x284),'gMTph':function(_0x1b0705,_0x3a3d2c){return _0x1b0705===_0x3a3d2c;},'sVNIM':function(_0x4558ce,_0x5ad183){return _0x4558ce===_0x5ad183;},'WpTBh':function(_0x48dd66,_0x39d6c7){return _0x48dd66===_0x39d6c7;},'BlRXQ':'WrCoV','dBeJg':_0x2a70a8(0x325),'nOoiG':function(_0x436f98,_0xfab461){return _0x436f98===_0xfab461;},'lTcEw':'VdJTM','kAPBp':'XUzEr','lPQzf':function(_0x578426,_0x5539f5){return _0x578426<_0x5539f5;},'kFuht':function(_0x3963f8,_0x4d2d52){return _0x3963f8===_0x4d2d52;},'rBoto':_0x2a70a8(0x18e),'VDbzV':function(_0x57be42,_0x3115b7){return _0x57be42+_0x3115b7;},'PrjSy':_0x2a70a8(0x2da),'digrA':function(_0x3dcc5f,_0x52c0d1){return _0x3dcc5f(_0x52c0d1);},'pddxr':function(_0x2461d6,_0x5ab752){return _0x2461d6<=_0x5ab752;},'nZcxN':function(_0x193e45,_0x5bf8fa){return _0x193e45>_0x5bf8fa;},'xjwjr':function(_0x348cdd,_0x3e455c){return _0x348cdd!==_0x3e455c;},'gFfKk':_0x2a70a8(0x152),'fGeeH':_0x2a70a8(0x24c),'YLpnC':function(_0x31e943,_0x4c5da9){return _0x31e943-_0x4c5da9;}},_0x234207=this['cloudProviderName'][_0x2a70a8(0x306)](),_0x577a59=await _0x4d09a1[_0x2a70a8(0x20a)](_0x15d427,_0x234207+_0x2a70a8(0x1a7)),_0x390f96=await _0x4d09a1[_0x2a70a8(0x20a)](_0x15d427,_0x234207+'\x20CLIENT\x20SECRET:\x20'),_0x1db098=await _0x4d09a1[_0x2a70a8(0x320)](_0x15d427,_0x234207+_0x2a70a8(0x2fa)),_0x30e290=await _0x4d09a1[_0x2a70a8(0x2b0)](_0x15d427,_0x234207+'\x20SUBSCRIPTION\x20ID:\x20');global_registry[_0x2a70a8(0x2dd)]=_0x577a59,global_registry[_0x2a70a8(0x19e)]=_0x390f96,global_registry[_0x2a70a8(0x244)]=_0x1db098,global_registry['cloudProviderSubscriptionId']=_0x30e290,this['setClients']();const _0x3f14d9=await this[_0x2a70a8(0x1e3)](),_0xd27a50=_0x3f14d9[_0x2a70a8(0x1a4)];let _0x3a5eaf;if(_0x4d09a1[_0x2a70a8(0x176)](_0xd27a50,0x0))_0x4d09a1['BjVVK'](_0x4d09a1[_0x2a70a8(0x211)],_0x4d09a1['tFWnK'])?_0x331374[_0x2a70a8(0x1bb)](_0x5ca46d):_0x3a5eaf=await _0x4d09a1[_0x2a70a8(0x302)](_0x15d427,_0x234207+_0x2a70a8(0x2ea));else{if(_0x4d09a1['uLkgI'](_0xd27a50,0x1)){if(_0x4d09a1[_0x2a70a8(0x176)](_0x4d09a1[_0x2a70a8(0x27c)],_0x4d09a1[_0x2a70a8(0x23b)]))_0x140ece[_0x2a70a8(0x1bb)](_0x26e022[_0x2a70a8(0x1f7)]);else{const _0x826c46=await _0x4d09a1[_0x2a70a8(0x2b0)](_0x15d427,'Found\x20only\x20one\x20resource\x20group:\x20'+_0x3f14d9[0x0]+'\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20');if(_0x4d09a1[_0x2a70a8(0x1f9)](_0x826c46,undefined)||_0x4d09a1[_0x2a70a8(0x160)](_0x826c46,null)||!(_0x4d09a1[_0x2a70a8(0x176)](_0x826c46['toLowerCase'](),'y')||_0x4d09a1[_0x2a70a8(0x1c4)](_0x826c46[_0x2a70a8(0x12c)](),'n'))){if(_0x4d09a1[_0x2a70a8(0x160)](_0x4d09a1['BlRXQ'],_0x4d09a1['BlRXQ']))console[_0x2a70a8(0x28f)](_0x4d09a1[_0x2a70a8(0x2b2)]),process[_0x2a70a8(0x1c0)](0x1);else{const _0x1f06ee=new _0x26e94a(_0x2647cb[_0x2a70a8(0x244)],_0x573f85[_0x2a70a8(0x2dd)],_0x52ae5d[_0x2a70a8(0x19e)]);this[_0x2a70a8(0x28d)]=new _0x3fee5a(_0x1f06ee,_0x25d73[_0x2a70a8(0x143)]),this[_0x2a70a8(0x1cc)]=new _0xd6868(_0x1f06ee,_0x1b456d[_0x2a70a8(0x143)]),this[_0x2a70a8(0x299)]=new _0x325681(_0x1f06ee,_0x19ab48[_0x2a70a8(0x143)]),this[_0x2a70a8(0x157)]=new _0x29c917(_0x1f06ee,_0x3216bb[_0x2a70a8(0x143)]),this[_0x2a70a8(0x1b4)]=new _0x373c1e(_0x1f06ee,_0x224822[_0x2a70a8(0x143)]),this[_0x2a70a8(0x2f6)]=_0x1f06ee;}}_0x4d09a1[_0x2a70a8(0x1f9)](_0x826c46[_0x2a70a8(0x12c)](),'n')&&(_0x4d09a1[_0x2a70a8(0x160)](_0x4d09a1['dBeJg'],_0x4d09a1[_0x2a70a8(0x29f)])?process[_0x2a70a8(0x1c0)](0x0):_0x513fbe[_0x2a70a8(0x28f)]=_0x567e46),_0x3a5eaf=_0x3f14d9[0x0];}}else{if(_0x4d09a1[_0x2a70a8(0x1a3)](_0x4d09a1[_0x2a70a8(0x16e)],_0x4d09a1[_0x2a70a8(0x181)]))return!![];else{for(let _0x40f05e=0x0;_0x4d09a1['lPQzf'](_0x40f05e,_0x3f14d9[_0x2a70a8(0x1a4)]);_0x40f05e+=0x1){_0x4d09a1[_0x2a70a8(0x23a)](_0x4d09a1['rBoto'],_0x4d09a1[_0x2a70a8(0x179)])?console[_0x2a70a8(0x2ec)]('['+_0x4d09a1[_0x2a70a8(0x26e)](_0x40f05e,0x1)+']\x20'+_0x3f14d9[_0x40f05e]):(_0x294ba6[_0x2a70a8(0x28f)](_0x4d09a1['HSTfU']),_0x5ce00b[_0x2a70a8(0x1c0)](0x1));}const _0x36e146=await _0x4d09a1['AQekw'](_0x15d427,_0x4d09a1['PrjSy']),_0x3b7b39=_0x4d09a1[_0x2a70a8(0x13f)](Number,_0x36e146);if(_0x4d09a1[_0x2a70a8(0x13f)](isNaN,_0x3b7b39)||_0x4d09a1[_0x2a70a8(0x14e)](_0x3b7b39,0x0)||_0x4d09a1[_0x2a70a8(0x1d2)](_0x3b7b39,_0xd27a50)){if(_0x4d09a1[_0x2a70a8(0x218)](_0x4d09a1[_0x2a70a8(0x271)],_0x4d09a1['fGeeH']))console[_0x2a70a8(0x28f)](_0x4d09a1[_0x2a70a8(0x2b2)]),process[_0x2a70a8(0x1c0)](0x1);else{const _0x5ddcd6={};_0x5ddcd6[_0x2a70a8(0x287)]=!![],_0x5ddcd6['error']=null,_0x5ddcd6[_0x2a70a8(0x2c9)]=_0x4d09a1[_0x2a70a8(0x288)];const _0x18fc2d=_0x5ddcd6;return _0x18fc2d;}}_0x3a5eaf=_0x3f14d9[_0x4d09a1['YLpnC'](_0x3b7b39,0x1)];}}}global_registry['cloudProviderResourceGroup']=_0x3a5eaf;const _0x46ac7a={};return _0x46ac7a['clientId']=_0x577a59,_0x46ac7a[_0x2a70a8(0x290)]=_0x390f96,_0x46ac7a['tenantId']=_0x1db098,_0x46ac7a[_0x2a70a8(0x19a)]=_0x30e290,_0x46ac7a[_0x2a70a8(0x259)]=_0x3a5eaf,_0x122e6e[_0x2a70a8(0x21d)][AZURE]=_0x46ac7a,_0x122e6e;}async['getResourceGroups'](){const _0x5ea114=a1_0x2d5959,_0x364c94={};_0x364c94['SROtB']=function(_0x47d9da,_0x3264f1){return _0x47d9da+_0x3264f1;},_0x364c94[_0x5ea114(0x2ae)]=function(_0x427dc6,_0x35c456){return _0x427dc6!==_0x35c456;},_0x364c94[_0x5ea114(0x13d)]=_0x5ea114(0x256),_0x364c94[_0x5ea114(0x303)]=function(_0x4a5498,_0x140ad4){return _0x4a5498===_0x140ad4;},_0x364c94[_0x5ea114(0x308)]='IuKuG',_0x364c94[_0x5ea114(0x20c)]=_0x5ea114(0x142);const _0x457b88=_0x364c94,_0xfa9894=[];try{if(_0x457b88[_0x5ea114(0x2ae)](_0x457b88[_0x5ea114(0x13d)],_0x457b88[_0x5ea114(0x13d)]))_0xd5f454['log']('['+_0x457b88[_0x5ea114(0x17f)](_0x31ac62,0x1)+']\x20'+_0x5c44b8[_0x4008b8]);else{const _0x52ff7d=await this[_0x5ea114(0x299)][_0x5ea114(0x2a2)]['list']();for await(const _0x2bfbde of _0x52ff7d){if(_0x457b88['CIuqb'](_0x457b88[_0x5ea114(0x308)],_0x457b88[_0x5ea114(0x20c)]))return[!![],_0x164012];else _0xfa9894[_0x5ea114(0x1bb)](_0x2bfbde[_0x5ea114(0x1f7)]);}}}catch(_0x25a83d){}return _0xfa9894;}async[a1_0x2d5959(0x1b0)](){const _0x22ee2a=a1_0x2d5959;return this[_0x22ee2a(0x2f7)]=await this[_0x22ee2a(0x28d)][_0x22ee2a(0x171)][_0x22ee2a(0x212)](global_registry[_0x22ee2a(0x265)],this[_0x22ee2a(0x14b)]),this[_0x22ee2a(0x2f7)];}async[a1_0x2d5959(0x319)](){const _0x218c60=a1_0x2d5959,_0x55a69f=await this[_0x218c60(0x28d)][_0x218c60(0x171)][_0x218c60(0x17a)](global_registry[_0x218c60(0x265)],this[_0x218c60(0x14b)]),_0x5c5ea4=_0x55a69f[_0x218c60(0x214)][0x0][_0x218c60(0x1d5)][_0x218c60(0x182)]();return _0x5c5ea4;}['getGridHostname'](_0x40e029){const _0x5dd001=a1_0x2d5959;return _0x40e029[_0x5dd001(0x287)][_0x5dd001(0x2dc)][_0x5dd001(0x292)][0x0]['hostname'];}async[a1_0x2d5959(0x28a)](){const _0x5a01aa=a1_0x2d5959,_0x56dd2a={};_0x56dd2a['QrNLf']=_0x5a01aa(0x25b),_0x56dd2a[_0x5a01aa(0x186)]='denied',_0x56dd2a[_0x5a01aa(0x1bd)]=function(_0x5b5eaa,_0x1650b6){return _0x5b5eaa===_0x1650b6;},_0x56dd2a[_0x5a01aa(0x30f)]=_0x5a01aa(0x274),_0x56dd2a[_0x5a01aa(0x1b1)]=_0x5a01aa(0x166),_0x56dd2a[_0x5a01aa(0x23c)]=function(_0x2cf8fb,_0x16e9cd){return _0x2cf8fb!==_0x16e9cd;},_0x56dd2a[_0x5a01aa(0x296)]=_0x5a01aa(0x192),_0x56dd2a[_0x5a01aa(0x144)]=_0x5a01aa(0x191),_0x56dd2a[_0x5a01aa(0x251)]=_0x5a01aa(0x200),_0x56dd2a[_0x5a01aa(0x317)]='PMVHi';const _0x44d2f1=_0x56dd2a,_0x5e45a7=new Array();for await(const _0x54f108 of this[_0x5a01aa(0x28d)]['managedClusters'][_0x5a01aa(0x20b)](global_registry[_0x5a01aa(0x265)])){if(_0x44d2f1[_0x5a01aa(0x1bd)](_0x44d2f1[_0x5a01aa(0x30f)],_0x44d2f1[_0x5a01aa(0x1b1)])){const _0xf75c18=_0x5cb78a[_0x5a01aa(0x31d)](_0x124c29);_0x3c8350+='\x0a\x09'+_0xf438b0+':\x20'+(_0xf75c18?_0x44d2f1['QrNLf']:_0x44d2f1[_0x5a01aa(0x186)]),!_0xf75c18&&(_0x145c2b[_0x5a01aa(0x287)]=![]);}else _0x5e45a7[_0x5a01aa(0x1bb)](_0x54f108);}for await(const _0x37bae3 of _0x5e45a7){if(_0x44d2f1['LYtrP'](_0x44d2f1['aufJY'],_0x44d2f1[_0x5a01aa(0x144)])){if(_0x44d2f1[_0x5a01aa(0x1bd)](_0x37bae3[_0x5a01aa(0x1f7)],this[_0x5a01aa(0x14b)])){if(_0x44d2f1[_0x5a01aa(0x23c)](_0x44d2f1[_0x5a01aa(0x251)],_0x44d2f1['miwfU']))return await this[_0x5a01aa(0x1b0)](),!![];else _0x66ac8f[_0x5a01aa(0x287)]=![];}}else _0x5baca3[_0x5a01aa(0x1bb)](_0x45d89a);}return![];}async['setupNewCluster'](_0x5b80d4=null,_0x4f9235=null){const _0x206c3f=a1_0x2d5959,_0x1cbafa={};_0x1cbafa['CPJSJ']='4|3|1|0|2|5',_0x1cbafa[_0x206c3f(0x237)]=_0x206c3f(0x174);const _0x24b2d2=_0x1cbafa,_0xeb0ac6=_0x24b2d2['CPJSJ'][_0x206c3f(0x228)]('|');let _0x2ee67b=0x0;while(!![]){switch(_0xeb0ac6[_0x2ee67b++]){case'0':await this[_0x206c3f(0x1fe)](_0x5b80d4,_0x4f9235);continue;case'1':logger[_0x206c3f(0x19f)](_0x24b2d2[_0x206c3f(0x237)]);continue;case'2':await this[_0x206c3f(0x2cf)]();continue;case'3':const _0x425d36={};_0x425d36[_0x206c3f(0x281)]=WS_EVENTS['LOG'],_0x425d36[_0x206c3f(0x25e)]=_0x24b2d2['ALpKw'],this['webSocketUtils'][_0x206c3f(0x150)](this[_0x206c3f(0x184)],_0x425d36);continue;case'4':this[_0x206c3f(0x2ab)]();continue;case'5':return[_0x5b80d4,_0x4f9235];}break;}}async[a1_0x2d5959(0x1fe)](_0x3626bb=null,_0x2d98cb=null){const _0x31ab1f=a1_0x2d5959,_0x53f362={};_0x53f362[_0x31ab1f(0x2f0)]=_0x31ab1f(0x31b),_0x53f362['imUej']=_0x31ab1f(0x2a6),_0x53f362[_0x31ab1f(0x14d)]=_0x31ab1f(0x2ed),_0x53f362['lpNho']=_0x31ab1f(0x1da),_0x53f362['BZGJi']=_0x31ab1f(0x286),_0x53f362['RyRMq']='true',_0x53f362[_0x31ab1f(0x2d8)]=_0x31ab1f(0x269),_0x53f362['NZZMd']=function(_0x54faa0,_0x319932){return _0x54faa0!==_0x319932;},_0x53f362[_0x31ab1f(0x314)]=function(_0x2535c0,_0x105818){return _0x2535c0!==_0x105818;},_0x53f362['XZVxI']=function(_0x61b6db,_0x183321){return _0x61b6db===_0x183321;},_0x53f362[_0x31ab1f(0x19c)]=_0x31ab1f(0x27a),_0x53f362[_0x31ab1f(0x21f)]=_0x31ab1f(0x309),_0x53f362[_0x31ab1f(0x2ac)]=_0x31ab1f(0x1b7),_0x53f362[_0x31ab1f(0x1b5)]=_0x31ab1f(0x1be),_0x53f362[_0x31ab1f(0x175)]=_0x31ab1f(0x138),_0x53f362[_0x31ab1f(0x149)]=_0x31ab1f(0x278),_0x53f362['xShSc']='turboscale-cluster-deployment',_0x53f362[_0x31ab1f(0x2e3)]=_0x31ab1f(0x151);const _0x12d71a=_0x53f362;let _0xfc6423=await fs[_0x31ab1f(0x27e)](path[_0x31ab1f(0x201)](__dirname,'..',_0x12d71a[_0x31ab1f(0x282)],_0x12d71a[_0x31ab1f(0x14d)],_0x12d71a[_0x31ab1f(0x21c)]),_0x12d71a['BZGJi']);_0xfc6423=JSON[_0x31ab1f(0x2cb)](_0xfc6423);const _0x4c3c19={};_0x4c3c19[_0x31ab1f(0x1d5)]=this[_0x31ab1f(0x14b)];const _0x4588fd={};_0x4588fd[_0x31ab1f(0x1d5)]=global_registry[_0x31ab1f(0x15e)];const _0x2cd436={};_0x2cd436['value']=global_registry[_0x31ab1f(0x1e1)];const _0x30b958={};_0x30b958[_0x31ab1f(0x1d5)]=global_registry[_0x31ab1f(0x22e)];const _0xf1692f={};_0xf1692f[_0x31ab1f(0x1d5)]=global_registry[_0x31ab1f(0x25d)]?_0x12d71a[_0x31ab1f(0x173)]:_0x12d71a['DJAmP'];const _0x5a6eaf={};_0x5a6eaf[_0x31ab1f(0x14b)]=_0x4c3c19,_0x5a6eaf[_0x31ab1f(0x2d5)]=_0x4588fd,_0x5a6eaf[_0x31ab1f(0x313)]=_0x2cd436,_0x5a6eaf[_0x31ab1f(0x159)]=_0x30b958,_0x5a6eaf[_0x31ab1f(0x25d)]=_0xf1692f;let _0x3a8947=_0x5a6eaf;if(_0x12d71a[_0x31ab1f(0x301)](_0x3626bb,null)&&_0x12d71a[_0x31ab1f(0x314)](_0x2d98cb,null)){if(_0x12d71a[_0x31ab1f(0x156)](_0x12d71a['wUSYT'],_0x12d71a['hKmwF']))_0xdcb1d[_0x31ab1f(0x28f)](_0x12d71a['ZIsbu']),_0x218d32[_0x31ab1f(0x1c0)](0x1);else{const _0x4fc600={};_0x4fc600[_0x31ab1f(0x281)]=_0x12d71a[_0x31ab1f(0x2ac)],_0x4fc600[_0x31ab1f(0x26a)]={},_0x4fc600[_0x31ab1f(0x26a)][_0x31ab1f(0x193)]=_0x12d71a['tVoAd'];const _0x3ac62b={};_0x3ac62b[_0x31ab1f(0x281)]=_0x12d71a['FuVVJ'],_0x3ac62b[_0x31ab1f(0x26a)]={},_0x3ac62b[_0x31ab1f(0x26a)][_0x31ab1f(0x193)]=_0x12d71a[_0x31ab1f(0x1b5)],_0xfc6423[_0x31ab1f(0x21b)]={..._0xfc6423[_0x31ab1f(0x21b)],'vpcName':_0x4fc600,'subnetName':_0x3ac62b};const _0x1b64e7={};_0x1b64e7[_0x31ab1f(0x2e9)]=_0x12d71a[_0x31ab1f(0x175)],_0xfc6423[_0x31ab1f(0x2b9)]=_0x1b64e7,_0xfc6423[_0x31ab1f(0x26b)][0x0][_0x31ab1f(0x1d9)][_0x31ab1f(0x22c)][0x0]={..._0xfc6423['resources'][0x0]['properties'][_0x31ab1f(0x22c)][0x0],'vnetSubnetID':_0x12d71a['ixHGV']};const _0x185a24={};_0x185a24['value']=_0x3626bb;const _0x4a8186={};_0x4a8186[_0x31ab1f(0x1d5)]=_0x2d98cb[0x0],_0x3a8947={..._0x3a8947,'vpcName':_0x185a24,'subnetName':_0x4a8186};}}await this[_0x31ab1f(0x299)][_0x31ab1f(0x2cd)][_0x31ab1f(0x1fa)](global_registry[_0x31ab1f(0x265)],_0x12d71a[_0x31ab1f(0x169)],{'properties':{'template':_0xfc6423,'mode':_0x12d71a['KIXiO'],'parameters':_0x3a8947}});}async[a1_0x2d5959(0x2cf)](){const _0x475d14=a1_0x2d5959,_0x312749={'EfQvP':_0x475d14(0x2e7),'xDwTE':function(_0x480c06,_0x3109de,_0x59adc4){return _0x480c06(_0x3109de,_0x59adc4);},'hdgwi':function(_0x53923d,_0xeda624){return _0x53923d!==_0xeda624;},'ljmMm':_0x475d14(0x2f5),'HamvE':'uIomN','kRaeh':_0x475d14(0x1a2),'jMXta':function(_0x2d21cd,_0x29bc4f){return _0x2d21cd===_0x29bc4f;},'oJGrc':_0x475d14(0x139),'hliKf':_0x475d14(0x13c),'xleNW':_0x475d14(0x249),'QySUc':'gJVrS','KiXgl':_0x475d14(0x1b9),'QWKoH':'tDFWO','JLYiK':'fxAnT','EYGNK':_0x475d14(0x30b),'rxmjM':_0x475d14(0x2bb),'JUxIO':'Created\x20Azure\x20federated\x20identity'},_0x2796a3=await this[_0x475d14(0x227)]();if(!_0x2796a3){if(_0x312749[_0x475d14(0x15a)](_0x312749[_0x475d14(0x27d)],_0x312749[_0x475d14(0x263)])){const _0x35408d={};_0x35408d[_0x475d14(0x281)]=WS_EVENTS[_0x475d14(0x2ce)],_0x35408d[_0x475d14(0x25e)]=_0x312749[_0x475d14(0x1e7)],this[_0x475d14(0x1e2)][_0x475d14(0x150)](this[_0x475d14(0x184)],_0x35408d),logger[_0x475d14(0x19f)](_0x312749['kRaeh']),await this[_0x475d14(0x257)]();}else _0x552c76[_0x475d14(0x1c0)](0x0);}else{if(_0x312749[_0x475d14(0x1bc)](_0x312749['oJGrc'],_0x312749[_0x475d14(0x264)])){_0x59cb80[_0x475d14(0x19f)](_0x312749[_0x475d14(0x14a)]);const _0x1b66b0={};_0x1b66b0[_0x475d14(0x281)]=_0x217f57[_0x475d14(0x1c9)],_0x1b66b0[_0x475d14(0x25e)]=_0x312749[_0x475d14(0x14a)],this['webSocketUtils']['sendEventToBackend'](this[_0x475d14(0x184)],_0x1b66b0),_0x27e7df[_0x475d14(0x2cc)]['enabled']=!![];}else logger['info'](_0x312749['xleNW']);}const _0x41dbe5=await this['isManagedIdentityPresent']();if(!_0x41dbe5){if(_0x312749['hdgwi'](_0x312749[_0x475d14(0x1c8)],_0x312749[_0x475d14(0x1c8)]))_0x312749[_0x475d14(0x2a9)](_0x38b712,()=>_0x452331(),0x3e8);else{const _0x55c028={};_0x55c028['type']=WS_EVENTS[_0x475d14(0x2ce)],_0x55c028[_0x475d14(0x25e)]=_0x312749[_0x475d14(0x1aa)],this[_0x475d14(0x1e2)]['sendEventToBackend'](this[_0x475d14(0x184)],_0x55c028),logger[_0x475d14(0x19f)](_0x312749[_0x475d14(0x1aa)]),await this['createManagedIdentity']();}}else{if(_0x312749[_0x475d14(0x15a)](_0x312749['QWKoH'],_0x312749['JLYiK']))logger[_0x475d14(0x19f)](_0x312749['EYGNK']);else return _0x2c3f0b[_0x475d14(0x28f)](_0x475d14(0x14c)+_0xffb599+_0x475d14(0x1d0)+_0x436dcf),![];}logger['info'](_0x312749[_0x475d14(0x316)]),await this['createFederatedAccount'](),logger[_0x475d14(0x19f)](_0x312749[_0x475d14(0x14f)]);}async['createStorageAccount'](){const _0x47f6de=a1_0x2d5959,_0x28fdb7={};_0x28fdb7['PfexA']=_0x47f6de(0x2a6),_0x28fdb7[_0x47f6de(0x30d)]='azureresources',_0x28fdb7[_0x47f6de(0x202)]='storageaccount.json',_0x28fdb7[_0x47f6de(0x25c)]=_0x47f6de(0x286),_0x28fdb7[_0x47f6de(0x2e2)]=_0x47f6de(0x21e),_0x28fdb7[_0x47f6de(0x2f8)]=_0x47f6de(0x151),_0x28fdb7[_0x47f6de(0x185)]=_0x47f6de(0x2b4),_0x28fdb7['UMpzq']=_0x47f6de(0x30a),_0x28fdb7['oaeYe']=_0x47f6de(0x1dd),_0x28fdb7[_0x47f6de(0x2a7)]=_0x47f6de(0x197);const _0x584aa8=_0x28fdb7;let _0x25bde6=await fs[_0x47f6de(0x27e)](path['join'](__dirname,'..',_0x584aa8[_0x47f6de(0x2a8)],_0x584aa8[_0x47f6de(0x30d)],_0x584aa8['GAuLE']),_0x584aa8[_0x47f6de(0x25c)]);_0x25bde6=JSON[_0x47f6de(0x2cb)](_0x25bde6);const _0x3ea9a8=this['getStorageAccountName'](),_0x203d16={};_0x203d16[_0x47f6de(0x1d5)]=_0x3ea9a8;const _0x3eafdd={};_0x3eafdd['storageAccountName']=_0x203d16,await this[_0x47f6de(0x299)][_0x47f6de(0x2cd)][_0x47f6de(0x1fa)](global_registry[_0x47f6de(0x265)],_0x584aa8[_0x47f6de(0x2e2)],{'properties':{'template':_0x25bde6,'mode':_0x584aa8[_0x47f6de(0x2f8)],'parameters':_0x3eafdd}});const _0xfdbde7={};_0xfdbde7['daysAfterCreationGreaterThan']=0x3c;const _0x27e9d7={};_0x27e9d7[_0x47f6de(0x2b8)]=_0xfdbde7;const _0x227db6={};_0x227db6[_0x47f6de(0x17b)]=_0x27e9d7;const _0x54a106={};_0x54a106[_0x47f6de(0x2c2)]=!![],_0x54a106['name']=_0x584aa8[_0x47f6de(0x185)],_0x54a106[_0x47f6de(0x281)]=_0x584aa8[_0x47f6de(0x1db)],_0x54a106[_0x47f6de(0x2de)]={},_0x54a106[_0x47f6de(0x2de)][_0x47f6de(0x223)]=_0x227db6,_0x54a106[_0x47f6de(0x2de)][_0x47f6de(0x1c3)]={},_0x54a106[_0x47f6de(0x2de)][_0x47f6de(0x1c3)][_0x47f6de(0x130)]=[_0x584aa8[_0x47f6de(0x209)]];const _0x11495b={};_0x11495b[_0x47f6de(0x2f2)]=[_0x54a106];const _0x105e13={};_0x105e13['policy']=_0x11495b;const _0x5de48f=_0x105e13;await this[_0x47f6de(0x1cc)][_0x47f6de(0x328)][_0x47f6de(0x1f4)](global_registry[_0x47f6de(0x265)],_0x3ea9a8,_0x584aa8['WgjQu'],_0x5de48f);}async['createManagedIdentity'](){const _0x457fc2=a1_0x2d5959,_0x18c8b1={};_0x18c8b1[_0x457fc2(0x29d)]=_0x457fc2(0x2a6),_0x18c8b1[_0x457fc2(0x16f)]=_0x457fc2(0x2ed),_0x18c8b1[_0x457fc2(0x1f2)]=_0x457fc2(0x1cb),_0x18c8b1[_0x457fc2(0x190)]=_0x457fc2(0x286),_0x18c8b1['MzlWG']=_0x457fc2(0x2d7),_0x18c8b1[_0x457fc2(0x20d)]='Incremental';const _0x3e55ab=_0x18c8b1;let _0x4a0f53=await fs[_0x457fc2(0x27e)](path['join'](__dirname,'..',_0x3e55ab[_0x457fc2(0x29d)],_0x3e55ab[_0x457fc2(0x16f)],_0x3e55ab[_0x457fc2(0x1f2)]),_0x3e55ab['yOobF']);_0x4a0f53=JSON[_0x457fc2(0x2cb)](_0x4a0f53),await this[_0x457fc2(0x299)][_0x457fc2(0x2cd)][_0x457fc2(0x1fa)](global_registry[_0x457fc2(0x265)],_0x3e55ab[_0x457fc2(0x2e4)],{'properties':{'template':_0x4a0f53,'mode':_0x3e55ab[_0x457fc2(0x20d)],'parameters':{'clusterName':{'value':this[_0x457fc2(0x14b)]}}}});}async[a1_0x2d5959(0x24d)](){const _0x4846bb=a1_0x2d5959,_0x495594={};_0x495594[_0x4846bb(0x1d3)]=_0x4846bb(0x30b),_0x495594[_0x4846bb(0x238)]=function(_0x48017e,_0x56e0f6){return _0x48017e===_0x56e0f6;},_0x495594['WJmrk']=_0x4846bb(0x1af),_0x495594['TjMtC']=_0x4846bb(0x2c6),_0x495594[_0x4846bb(0x1c2)]=_0x4846bb(0x1fd),_0x495594[_0x4846bb(0x1f6)]=function(_0x1e3c2d,_0x5f338f){return _0x1e3c2d===_0x5f338f;},_0x495594[_0x4846bb(0x1cd)]='HUmnS',_0x495594[_0x4846bb(0x207)]='pIFyu',_0x495594['CDrgk']=_0x4846bb(0x2a6),_0x495594[_0x4846bb(0x135)]=_0x4846bb(0x2ed),_0x495594[_0x4846bb(0x261)]=_0x4846bb(0x286),_0x495594[_0x4846bb(0x260)]='turboscale-federated-deployment',_0x495594[_0x4846bb(0x147)]='Incremental';const _0x46d099=_0x495594;!this[_0x4846bb(0x2f7)]&&(_0x46d099[_0x4846bb(0x238)](_0x46d099[_0x4846bb(0x224)],_0x46d099[_0x4846bb(0x224)])?await this[_0x4846bb(0x1b0)]():_0x367a7d[_0x4846bb(0x19f)](_0x46d099[_0x4846bb(0x1d3)]));const _0x724604=this[_0x4846bb(0x2f7)]?.['oidcIssuerProfile']?.[_0x4846bb(0x1d7)],_0x63892=[_0x46d099[_0x4846bb(0x21a)],_0x46d099[_0x4846bb(0x1c2)]];for await(const _0x41b0d7 of _0x63892){if(_0x46d099['vdHOz'](_0x46d099[_0x4846bb(0x1cd)],_0x46d099[_0x4846bb(0x207)]))_0x33db3b[_0x4846bb(0x28f)]=_0x4bfaac;else{let _0x52f128=await fs[_0x4846bb(0x27e)](path[_0x4846bb(0x201)](__dirname,'..',_0x46d099[_0x4846bb(0x2af)],_0x46d099[_0x4846bb(0x135)],_0x4846bb(0x253)+_0x41b0d7+_0x4846bb(0x2ef)),_0x46d099[_0x4846bb(0x261)]);_0x52f128=JSON[_0x4846bb(0x2cb)](_0x52f128);const _0x35d85d={};_0x35d85d[_0x4846bb(0x1d5)]=_0x724604,await this[_0x4846bb(0x299)][_0x4846bb(0x2cd)][_0x4846bb(0x1fa)](global_registry[_0x4846bb(0x265)],_0x46d099[_0x4846bb(0x260)],{'properties':{'template':_0x52f128,'mode':_0x46d099[_0x4846bb(0x147)],'parameters':{'oidcIssuer':_0x35d85d,'gridName':{'value':this[_0x4846bb(0x136)]},'clusterName':{'value':this[_0x4846bb(0x14b)]}}}});}}}async['setupHubHa'](_0x502b9a,_0x2815ce,_0x484537,_0x33120a,_0x543c52){const _0x2128a8=a1_0x2d5959,_0x49c72f={};_0x49c72f[_0x2128a8(0x2bc)]=_0x2128a8(0x2a1),_0x49c72f[_0x2128a8(0x229)]='Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha';const _0x31fad2=_0x49c72f,_0x329b4f={};_0x329b4f[_0x2128a8(0x281)]=WS_EVENTS[_0x2128a8(0x2ce)],_0x329b4f[_0x2128a8(0x25e)]=_0x31fad2[_0x2128a8(0x2bc)],this['webSocketUtils']['sendEventToBackend'](this[_0x2128a8(0x184)],_0x329b4f),logger[_0x2128a8(0x19f)](_0x31fad2['TreZp']),await this[_0x2128a8(0x242)]();const _0x3c8158={};_0x3c8158[_0x2128a8(0x281)]=WS_EVENTS['LOG'],_0x3c8158[_0x2128a8(0x25e)]=_0x31fad2[_0x2128a8(0x229)],this[_0x2128a8(0x1e2)]['sendEventToBackend'](this[_0x2128a8(0x184)],_0x3c8158);}async[a1_0x2d5959(0x242)](){const _0x36482c=a1_0x2d5959,_0x57179e={};_0x57179e['BtfOR']=function(_0x3dc9a5,_0x452d2c){return _0x3dc9a5!==_0x452d2c;},_0x57179e['NxMpA']=_0x36482c(0x199),_0x57179e[_0x36482c(0x31c)]=_0x36482c(0x31e),_0x57179e[_0x36482c(0x252)]='templates',_0x57179e['gBwvr']=_0x36482c(0x226),_0x57179e[_0x36482c(0x217)]=_0x36482c(0x276),_0x57179e[_0x36482c(0x267)]=_0x36482c(0x286),_0x57179e[_0x36482c(0x1e8)]=_0x36482c(0x1ba),_0x57179e[_0x36482c(0x234)]=_0x36482c(0x151);const _0x115a13=_0x57179e;if(!this[_0x36482c(0x2f7)]){if(_0x115a13[_0x36482c(0x2ca)](_0x115a13[_0x36482c(0x294)],_0x115a13[_0x36482c(0x31c)]))await this[_0x36482c(0x1b0)]();else return _0x3654f3[_0x36482c(0x28f)]('Cannot\x20find\x20subnets\x20'+_0x12f85f+_0x36482c(0x17d)+_0x2301d8),[![],[]];}const _0x47a709=this['clusterInfo']?.['oidcIssuerProfile']?.[_0x36482c(0x1d7)];let _0x443ba2=await fs[_0x36482c(0x27e)](path[_0x36482c(0x201)](__dirname,'..',_0x115a13['JqCQf'],_0x115a13['gBwvr'],_0x115a13['ARmQF']),_0x115a13[_0x36482c(0x267)]);_0x443ba2=JSON[_0x36482c(0x2cb)](_0x443ba2);const _0x227d33={};_0x227d33[_0x36482c(0x1d5)]=_0x47a709,await this[_0x36482c(0x299)][_0x36482c(0x2cd)][_0x36482c(0x1fa)](global_registry[_0x36482c(0x265)],_0x115a13[_0x36482c(0x1e8)],{'properties':{'template':_0x443ba2,'mode':_0x115a13[_0x36482c(0x234)],'parameters':{'oidcIssuer':_0x227d33,'namespace':{'value':global_registry[_0x36482c(0x1ec)]},'clusterName':{'value':this[_0x36482c(0x14b)]}}}});}async[a1_0x2d5959(0x227)](){const _0x2b936c=a1_0x2d5959,_0x268f5a={};_0x268f5a[_0x2b936c(0x206)]=_0x2b936c(0x15d),_0x268f5a['UMxSt']=function(_0x2e122e,_0x501a77){return _0x2e122e===_0x501a77;},_0x268f5a[_0x2b936c(0x205)]='Enabling\x20Local\x20account\x20for\x20the\x20cluster',_0x268f5a['EXiPB']=function(_0x5f37b6,_0x53ed7){return _0x5f37b6===_0x53ed7;},_0x268f5a['CrQsh']=_0x2b936c(0x15b),_0x268f5a[_0x2b936c(0x298)]=_0x2b936c(0x2e6),_0x268f5a[_0x2b936c(0x255)]=_0x2b936c(0x24b),_0x268f5a['BTlkb']=function(_0x117b0d,_0x3afce4){return _0x117b0d===_0x3afce4;},_0x268f5a[_0x2b936c(0x204)]=function(_0x427bd8,_0x99e29e){return _0x427bd8!==_0x99e29e;},_0x268f5a[_0x2b936c(0x15c)]='TjWHJ';const _0x1131dc=_0x268f5a,_0x11bb38=this[_0x2b936c(0x153)](),_0x10401a=new Array();for await(const _0x262c61 of this[_0x2b936c(0x1cc)][_0x2b936c(0x1a0)][_0x2b936c(0x20b)](global_registry[_0x2b936c(0x265)])){if(_0x1131dc[_0x2b936c(0x312)](_0x1131dc[_0x2b936c(0x213)],_0x1131dc['CUmQY']))throw new _0x24679b(_0x1131dc[_0x2b936c(0x206)],_0x2b936c(0x2b3)+_0x991ab9[_0x2b936c(0x29b)](_0x4fa791));else _0x10401a[_0x2b936c(0x1bb)](_0x262c61);}for await(const _0x1867bb of _0x10401a){if(_0x1131dc[_0x2b936c(0x318)](_0x1131dc[_0x2b936c(0x255)],_0x1131dc[_0x2b936c(0x255)])){if(_0x1131dc[_0x2b936c(0x2a4)](_0x1867bb[_0x2b936c(0x1f7)],_0x11bb38)){if(_0x1131dc[_0x2b936c(0x204)](_0x1131dc[_0x2b936c(0x15c)],_0x1131dc[_0x2b936c(0x15c)])){if(_0x1131dc[_0x2b936c(0x318)](_0x2c6a57[_0x2b936c(0x1f7)],_0x2dd8e2))return!![];}else return!![];}}else{_0x5a20e1[_0x2b936c(0x19f)](_0x1131dc[_0x2b936c(0x205)]);const _0x5e2892={};_0x5e2892[_0x2b936c(0x281)]=_0x2b7b22[_0x2b936c(0x1c9)],_0x5e2892['message']=_0x1131dc['BjifM'],this[_0x2b936c(0x1e2)]['sendEventToBackend'](this['rws'],_0x5e2892),_0x23d9a9[_0x2b936c(0x2e0)]=![];}}return![];}async['isManagedIdentityPresent'](){const _0x23bb17=a1_0x2d5959,_0x451379={};_0x451379[_0x23bb17(0x2bf)]=function(_0x40953b,_0x254f02){return _0x40953b===_0x254f02;},_0x451379[_0x23bb17(0x26f)]=function(_0x560cf5,_0x5adcbf){return _0x560cf5!==_0x5adcbf;},_0x451379[_0x23bb17(0x1ee)]=_0x23bb17(0x300),_0x451379[_0x23bb17(0x220)]=_0x23bb17(0x329),_0x451379['CpbbA']=function(_0x19b2c3,_0x415932){return _0x19b2c3!==_0x415932;},_0x451379[_0x23bb17(0x305)]=_0x23bb17(0x177),_0x451379[_0x23bb17(0x233)]=function(_0x5bb0c9,_0x478b23){return _0x5bb0c9===_0x478b23;},_0x451379[_0x23bb17(0x187)]='oMuoZ',_0x451379[_0x23bb17(0x1e0)]='iUNKd';const _0x544dfa=_0x451379,_0x29e17e=new Array();for await(const _0x27ed7e of this[_0x23bb17(0x299)]['resources'][_0x23bb17(0x20b)](global_registry[_0x23bb17(0x265)])){_0x544dfa[_0x23bb17(0x26f)](_0x544dfa[_0x23bb17(0x1ee)],_0x544dfa[_0x23bb17(0x220)])?_0x29e17e[_0x23bb17(0x1bb)](_0x27ed7e):_0x5917cd[_0x23bb17(0x1bb)](..._0x379615['actions']);}for await(const _0x534ea4 of _0x29e17e){if(_0x544dfa['CpbbA'](_0x544dfa[_0x23bb17(0x305)],_0x544dfa[_0x23bb17(0x305)]))_0x2b28eb[_0x23bb17(0x1bb)](_0x1f45f9);else{if(_0x544dfa[_0x23bb17(0x2bf)](_0x534ea4['name'],_0x23bb17(0x1ad)+this[_0x23bb17(0x14b)])){if(_0x544dfa[_0x23bb17(0x233)](_0x544dfa['gaDmG'],_0x544dfa[_0x23bb17(0x1e0)])){if(_0x544dfa['hfAnv'](_0x313a10[_0x23bb17(0x1f7)],_0x35f67a))return!![];}else return!![];}}}return![];}async[a1_0x2d5959(0x137)](_0xb33ac3,_0x286ef8=0x3){const _0x234cbc=a1_0x2d5959,_0x53d6c7={'zmGeO':'Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','GqxoP':function(_0x4c4c2d,_0xc0bc7a){return _0x4c4c2d===_0xc0bc7a;},'lPKEq':'No\x20attached\x20role\x20for\x20the\x20client\x20key','gzbyI':_0x234cbc(0x1b7),'SxqBZ':_0x234cbc(0x1be),'HjrhA':'[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','QpMRy':_0x234cbc(0x278),'HLBfW':_0x234cbc(0x2b1),'ZyRNt':_0x234cbc(0x161),'snUwa':function(_0x47b5db,_0x17f3e5,_0x17f1e6){return _0x47b5db(_0x17f3e5,_0x17f1e6);},'filRf':_0x234cbc(0x16b),'PVwTu':_0x234cbc(0x165),'chZmr':function(_0x1d48df,_0x59e06d){return _0x1d48df===_0x59e06d;},'JIVxH':'MugBR','YJbZc':function(_0x4e0ccb,_0x4737a3){return _0x4e0ccb!==_0x4737a3;},'IzJiN':'evrSE','rEQzF':'xkkKI','VqqRm':function(_0x4fe0e0,_0xb9bd6a){return _0x4fe0e0===_0xb9bd6a;},'OtinY':_0x234cbc(0x2f4),'xrkJc':_0x234cbc(0x216),'izUni':_0x234cbc(0x1f5),'Rhvvq':_0x234cbc(0x172),'DzcUl':function(_0x53a5b3,_0x81f60a){return _0x53a5b3<=_0x81f60a;},'EnucC':function(_0x59b587,_0x10f46d){return _0x59b587!==_0x10f46d;},'UZjbW':_0x234cbc(0x289),'eYCsU':'cSTJt','DOGjn':function(_0x1dcd5f,_0x5561a1){return _0x1dcd5f-_0x5561a1;}};try{if(_0x53d6c7[_0x234cbc(0x254)](_0x53d6c7[_0x234cbc(0x1fb)],_0x53d6c7[_0x234cbc(0x315)])){_0x5ca0e0['info'](_0x53d6c7[_0x234cbc(0x26c)]);const _0x4496f2={};_0x4496f2[_0x234cbc(0x281)]=_0x505c3f[_0x234cbc(0x1c9)],_0x4496f2[_0x234cbc(0x25e)]=_0x53d6c7[_0x234cbc(0x26c)],this[_0x234cbc(0x1e2)][_0x234cbc(0x150)](this[_0x234cbc(0x184)],_0x4496f2);const _0xf8e3e6={};_0xf8e3e6[_0x234cbc(0x2c2)]=!![];const _0x2a010f={'workloadIdentity':_0xf8e3e6,..._0x4e7fd0[_0x234cbc(0x12d)]};_0x5088f1['securityProfile']=_0x2a010f;}else{const _0x218325=new Array();for await(const _0x2bf67b of this[_0x234cbc(0x299)][_0x234cbc(0x26b)][_0x234cbc(0x20b)](global_registry[_0x234cbc(0x265)])){if(_0x53d6c7[_0x234cbc(0x1a5)](_0x53d6c7[_0x234cbc(0x1f1)],_0x53d6c7[_0x234cbc(0x1f1)]))_0x218325[_0x234cbc(0x1bb)](_0x2bf67b);else{if(_0x53d6c7[_0x234cbc(0x254)](_0x541ac2[_0x234cbc(0x1f7)],_0x234cbc(0x1ad)+this[_0x234cbc(0x14b)]))return!![];}}let _0x53acbd='';for await(const _0x53b6e0 of _0x218325){if(_0x53d6c7['YJbZc'](_0x53d6c7[_0x234cbc(0x2d0)],_0x53d6c7[_0x234cbc(0x198)])){if(_0x53d6c7[_0x234cbc(0x222)](_0x53b6e0[_0x234cbc(0x1f7)],_0xb33ac3)){if(_0x53d6c7[_0x234cbc(0x22d)](_0x53d6c7[_0x234cbc(0x1e5)],_0x53d6c7[_0x234cbc(0x293)]))_0x53acbd=_0x53b6e0['id'];else return!![];}}else return _0x2f90e1['data']=_0x53d6c7['lPKEq'],_0x9e5575;}const _0x527473=await this[_0x234cbc(0x299)]['resources']['getById'](_0x53acbd,_0x53d6c7[_0x234cbc(0x1ac)]);return _0x527473[_0x234cbc(0x1d9)][_0x234cbc(0x280)];}}catch(_0x5e0dba){if(_0x53d6c7[_0x234cbc(0x22d)](_0x53d6c7['Rhvvq'],_0x53d6c7[_0x234cbc(0x310)])){const _0x44394c={};_0x44394c[_0x234cbc(0x281)]=_0x53d6c7[_0x234cbc(0x20f)],_0x44394c[_0x234cbc(0x26a)]={},_0x44394c[_0x234cbc(0x26a)][_0x234cbc(0x193)]=_0x53d6c7[_0x234cbc(0x13b)];const _0x5c3685={};_0x5c3685['type']=_0x53d6c7['gzbyI'],_0x5c3685[_0x234cbc(0x26a)]={},_0x5c3685[_0x234cbc(0x26a)][_0x234cbc(0x193)]=_0x53d6c7['SxqBZ'];const _0x41c248={..._0x4c50b4['parameters']};_0x41c248[_0x234cbc(0x273)]=_0x44394c,_0x41c248[_0x234cbc(0x12f)]=_0x5c3685,_0x5e9309[_0x234cbc(0x21b)]=_0x41c248;const _0x565400={};_0x565400['vnetSubnetID']=_0x53d6c7[_0x234cbc(0x2ff)],_0x5ba6c5['variables']=_0x565400;const _0x52006d={..._0x5ef302['resources'][0x0]['properties'][_0x234cbc(0x22c)][0x0]};_0x52006d[_0x234cbc(0x2e9)]=_0x53d6c7['QpMRy'],_0x1e8d83['resources'][0x0][_0x234cbc(0x1d9)][_0x234cbc(0x22c)][0x0]=_0x52006d;const _0xc27b65={};_0xc27b65[_0x234cbc(0x1d5)]=_0x51a661;const _0x33741e={};_0x33741e[_0x234cbc(0x1d5)]=_0x1441ce[0x0];const _0x20cd17={..._0x34211a};_0x20cd17['vpcName']=_0xc27b65,_0x20cd17['subnetName']=_0x33741e,_0x1a88bd=_0x20cd17;}else{if(_0x53d6c7[_0x234cbc(0x2b6)](_0x286ef8,0x0))return _0x53d6c7['EnucC'](_0x53d6c7['UZjbW'],_0x53d6c7[_0x234cbc(0x208)])?(logger['error'](_0x234cbc(0x1ca)+_0x5e0dba+':'+_0x5e0dba['stack']),{}):_0x2f36f5[_0x234cbc(0x287)][_0x234cbc(0x2dc)][_0x234cbc(0x292)][0x0][_0x234cbc(0x1ce)];return await new Promise(_0xfbca3d=>{const _0x3d62b7=_0x234cbc;_0x53d6c7[_0x3d62b7(0x254)](_0x53d6c7[_0x3d62b7(0x262)],_0x53d6c7[_0x3d62b7(0x164)])?_0x7a3b31[_0x3d62b7(0x1bb)](_0x7958bf):_0x53d6c7[_0x3d62b7(0x154)](setTimeout,()=>_0xfbca3d(),0x3e8);}),this[_0x234cbc(0x137)](_0xb33ac3,_0x53d6c7[_0x234cbc(0x24a)](_0x286ef8,0x1));}}}async['isBrowserstackCluster'](){const _0x5d5d73=a1_0x2d5959,_0x2dc442={};_0x2dc442[_0x5d5d73(0x196)]=function(_0x3fdced,_0x37e338){return _0x3fdced!==_0x37e338;},_0x2dc442[_0x5d5d73(0x324)]='kAvNW',_0x2dc442[_0x5d5d73(0x131)]=_0x5d5d73(0x16a),_0x2dc442['WHMsa']=function(_0x4e67bc,_0x134547){return _0x4e67bc===_0x134547;},_0x2dc442['auMdd']=_0x5d5d73(0x285),_0x2dc442[_0x5d5d73(0x283)]=_0x5d5d73(0x2b5),_0x2dc442[_0x5d5d73(0x12b)]=function(_0x409150,_0x3e716f){return _0x409150===_0x3e716f;},_0x2dc442['gNVTt']=_0x5d5d73(0x132),_0x2dc442[_0x5d5d73(0x29e)]=_0x5d5d73(0x295);const _0x5693ed=_0x2dc442;!this['clusterInfo']&&(_0x5693ed['YgQWW'](_0x5693ed[_0x5d5d73(0x324)],_0x5693ed['SgNwk'])?await this[_0x5d5d73(0x1b0)]():_0x1ebe23=_0x40e25d['id']);const _0x4f9a4b=this[_0x5d5d73(0x2f7)]?.[_0x5d5d73(0x270)]||{};if(_0x4f9a4b&&_0x5693ed[_0x5d5d73(0x1a9)](_0x4f9a4b[_0x5693ed[_0x5d5d73(0x2bd)]],_0x5693ed[_0x5d5d73(0x283)])){if(_0x5693ed[_0x5d5d73(0x12b)](_0x5693ed['gNVTt'],_0x5693ed[_0x5d5d73(0x29e)]))return;else return!![];}return![];}async[a1_0x2d5959(0x323)](_0x257d28,_0xe53c59){const _0x2e46bf=a1_0x2d5959,_0x43e7fd={'iBDEY':function(_0x4b08a0,_0x431853){return _0x4b08a0(_0x431853);},'hJEEl':function(_0x30060d,_0x4505ed){return _0x30060d(_0x4505ed);},'nEGFG':_0x2e46bf(0x2d2)};await _0x43e7fd[_0x2e46bf(0x1c7)](deleteAgent,_0x257d28),await _0x43e7fd['hJEEl'](deleteRoutingDeps,_0x257d28);const _0x2350f2=this[_0x2e46bf(0x28d)];logger[_0x2e46bf(0x19f)](_0x2e46bf(0x2e1)+this['clusterName']),await _0x2350f2[_0x2e46bf(0x171)][_0x2e46bf(0x158)](global_registry[_0x2e46bf(0x265)],this[_0x2e46bf(0x14b)]),logger[_0x2e46bf(0x19f)](_0x43e7fd[_0x2e46bf(0x279)]);}async[a1_0x2d5959(0x16d)](){const _0xb539c=a1_0x2d5959,_0x5af988={};_0x5af988[_0xb539c(0x134)]=_0xb539c(0x249),_0x5af988[_0xb539c(0x24f)]=function(_0x388fd2,_0x1c5fad){return _0x388fd2===_0x1c5fad;},_0x5af988[_0xb539c(0x23e)]=function(_0xc0c2f0,_0x5ed4b0){return _0xc0c2f0+_0x5ed4b0;},_0x5af988[_0xb539c(0x1a1)]=_0xb539c(0x31f),_0x5af988[_0xb539c(0x27b)]=function(_0xd3d216,_0x172e90){return _0xd3d216-_0x172e90;},_0x5af988[_0xb539c(0x232)]=function(_0x2db023,_0x26d097){return _0x2db023===_0x26d097;},_0x5af988[_0xb539c(0x1bf)]=_0xb539c(0x2d6),_0x5af988[_0xb539c(0x307)]=function(_0x379dfa,_0x5a6399){return _0x379dfa&&_0x5a6399;},_0x5af988[_0xb539c(0x155)]=function(_0x545269,_0x1b90c6){return _0x545269===_0x1b90c6;},_0x5af988['suyOI']=_0xb539c(0x2a0),_0x5af988[_0xb539c(0x188)]=_0xb539c(0x29a),_0x5af988[_0xb539c(0x225)]=function(_0x1d2ac1,_0x920d9a){return _0x1d2ac1!==_0x920d9a;},_0x5af988['aEzfJ']='MToTa',_0x5af988[_0xb539c(0x2a3)]='FbdOD',_0x5af988[_0xb539c(0x168)]=_0xb539c(0x2e7),_0x5af988[_0xb539c(0x1f8)]=_0xb539c(0x1cf),_0x5af988[_0xb539c(0x19d)]=_0xb539c(0x210),_0x5af988[_0xb539c(0x1b8)]='Enabling\x20Workload\x20identity\x20for\x20the\x20cluster',_0x5af988[_0xb539c(0x2c5)]=function(_0x1d2087,_0x55006c){return _0x1d2087!==_0x55006c;},_0x5af988[_0xb539c(0x2aa)]=_0xb539c(0x245),_0x5af988['VfAOL']=_0xb539c(0x1f0),_0x5af988['PpMWd']=_0xb539c(0x321);const _0x1261f8=_0x5af988;!this[_0xb539c(0x2f7)]&&(_0x1261f8['gSGfY'](_0x1261f8[_0xb539c(0x1bf)],_0x1261f8['bJMKH'])?await this[_0xb539c(0x1b0)]():_0x405a74[_0xb539c(0x16c)]['push'](_0x3e784c));const _0xe4f385=this[_0xb539c(0x2f7)],_0x252798=this[_0xb539c(0x2f7)]?.['oidcIssuerProfile']?.[_0xb539c(0x2c2)]||![],_0x4db045=this[_0xb539c(0x2f7)]?.[_0xb539c(0x12d)]?.[_0xb539c(0x28c)]?.[_0xb539c(0x2c2)]||![],_0x284bf5=!this[_0xb539c(0x2f7)]?.['disableLocalAccounts']||![];if(_0x1261f8['AaoJV'](_0x252798,_0x4db045)&&_0x284bf5){if(_0x1261f8[_0xb539c(0x155)](_0x1261f8[_0xb539c(0x178)],_0x1261f8[_0xb539c(0x188)]))return!![];else return;}if(!_0x252798){if(_0x1261f8['BUEqQ'](_0x1261f8[_0xb539c(0x18d)],_0x1261f8['gIdcv'])){logger['info'](_0x1261f8[_0xb539c(0x168)]);const _0x4a258b={};_0x4a258b[_0xb539c(0x281)]=WS_EVENTS[_0xb539c(0x1c9)],_0x4a258b[_0xb539c(0x25e)]=_0x1261f8[_0xb539c(0x168)],this[_0xb539c(0x1e2)][_0xb539c(0x150)](this[_0xb539c(0x184)],_0x4a258b),_0xe4f385[_0xb539c(0x2cc)][_0xb539c(0x2c2)]=!![];}else _0x30522c[_0xb539c(0x19f)](_0x1261f8[_0xb539c(0x134)]);}if(!_0x4db045){if(_0x1261f8[_0xb539c(0x225)](_0x1261f8[_0xb539c(0x1f8)],_0x1261f8['QZkeH'])){logger['info'](_0x1261f8[_0xb539c(0x1b8)]);const _0x3ec0f8={};_0x3ec0f8[_0xb539c(0x281)]=WS_EVENTS[_0xb539c(0x1c9)],_0x3ec0f8[_0xb539c(0x25e)]=_0x1261f8[_0xb539c(0x1b8)],this[_0xb539c(0x1e2)]['sendEventToBackend'](this[_0xb539c(0x184)],_0x3ec0f8);const _0x2810b3={};_0x2810b3[_0xb539c(0x2c2)]=!![],_0xe4f385[_0xb539c(0x12d)]={'workloadIdentity':_0x2810b3,..._0xe4f385[_0xb539c(0x12d)]};}else _0x1261f8['UuDAh'](_0x41bbb6[_0xb539c(0x1f7)],_0x36ba5f)&&(_0x653f19=_0x5bf97b['id']);}if(!_0x284bf5){if(_0x1261f8[_0xb539c(0x2c5)](_0x1261f8[_0xb539c(0x2aa)],_0x1261f8[_0xb539c(0x1dc)])){logger['info'](_0x1261f8[_0xb539c(0x24e)]);const _0xa79bd4={};_0xa79bd4[_0xb539c(0x281)]=WS_EVENTS['RESOURCES'],_0xa79bd4[_0xb539c(0x25e)]=_0x1261f8[_0xb539c(0x24e)],this[_0xb539c(0x1e2)][_0xb539c(0x150)](this[_0xb539c(0x184)],_0xa79bd4),_0xe4f385[_0xb539c(0x2e0)]=![];}else{const _0x192ec9=_0x196a90[_0xb539c(0x1c6)][_0xb539c(0x228)]('-'),_0x3db3f6=_0x1261f8[_0xb539c(0x23e)](_0x1261f8['DCVME'],_0x192ec9[_0x1261f8['LEFgI'](_0x192ec9[_0xb539c(0x1a4)],0x1)])['slice'](0x0,0x18);return _0x3db3f6[_0xb539c(0x12c)]();}}await this[_0xb539c(0x28d)][_0xb539c(0x171)][_0xb539c(0x1fa)](global_registry[_0xb539c(0x265)],this['clusterName'],_0xe4f385),await this[_0xb539c(0x1b0)]();}async['sendAzureInfoToHST'](){const _0x44d5c8=a1_0x2d5959,_0x540370={};_0x540370[_0x44d5c8(0x2c1)]='No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles',_0x540370[_0x44d5c8(0x2be)]=function(_0x452981,_0x34beef){return _0x452981!==_0x34beef;},_0x540370[_0x44d5c8(0x327)]=_0x44d5c8(0x1ea);const _0x44f7a9=_0x540370,_0x45cf56=await this['networkClient'][_0x44d5c8(0x1d6)][_0x44d5c8(0x17e)](global_registry[_0x44d5c8(0x265)]),_0x1c30dd={};_0x1c30dd['username']=global_registry[_0x44d5c8(0x248)],_0x1c30dd[_0x44d5c8(0x2d3)]=global_registry[_0x44d5c8(0x28b)],_0x1c30dd[_0x44d5c8(0x21d)]=AZURE,_0x1c30dd[_0x44d5c8(0x16c)]=[];const _0x16e97a=_0x1c30dd;for await(const _0x50d0d3 of _0x45cf56){if(_0x44f7a9[_0x44d5c8(0x2be)](_0x44f7a9[_0x44d5c8(0x327)],_0x44f7a9[_0x44d5c8(0x327)]))return _0x4ef2ae[_0x44d5c8(0x2c9)]=_0x44f7a9[_0x44d5c8(0x2c1)],_0x4eca06;else _0x16e97a[_0x44d5c8(0x16c)][_0x44d5c8(0x1bb)](_0x50d0d3);}const _0x4f64ff={};_0x4f64ff['type']=WS_EVENTS[_0x44d5c8(0x1c9)],_0x4f64ff[_0x44d5c8(0x25e)]=_0x16e97a,this[_0x44d5c8(0x1e2)]['sendEventToBackend'](this['rws'],_0x4f64ff);}async[a1_0x2d5959(0x30e)](_0x9e812a){const _0xdcfb4f=a1_0x2d5959,_0x387b40={};_0x387b40[_0xdcfb4f(0x304)]=function(_0x19f744,_0x1c37d5){return _0x19f744===_0x1c37d5;},_0x387b40[_0xdcfb4f(0x219)]='Action\x20permission\x20list\x20is\x20empty\x0a',_0x387b40['ZPITw']=_0xdcfb4f(0x32a),_0x387b40[_0xdcfb4f(0x2ba)]=function(_0x47938d,_0x638edf){return _0x47938d!==_0x638edf;},_0x387b40['yxifh']=_0xdcfb4f(0x2db),_0x387b40[_0xdcfb4f(0x1b6)]=_0xdcfb4f(0x243),_0x387b40[_0xdcfb4f(0x322)]=function(_0x26f899,_0x2c97c2){return _0x26f899===_0x2c97c2;},_0x387b40[_0xdcfb4f(0x326)]='AyooU',_0x387b40['VvHEa']=_0xdcfb4f(0x22f),_0x387b40[_0xdcfb4f(0x25a)]='NXeBx',_0x387b40[_0xdcfb4f(0x23f)]='tLNHO',_0x387b40[_0xdcfb4f(0x2e5)]=_0xdcfb4f(0x2d1);const _0x58fbda=_0x387b40;try{if(_0x58fbda['XubIO'](_0x58fbda[_0xdcfb4f(0x18a)],_0x58fbda[_0xdcfb4f(0x1b6)])){const _0x4a85ee=await this['networkClient'][_0xdcfb4f(0x1d6)][_0xdcfb4f(0x17e)](global_registry[_0xdcfb4f(0x265)]);for await(const _0x4538f4 of _0x4a85ee){if(_0x58fbda[_0xdcfb4f(0x322)](_0x58fbda[_0xdcfb4f(0x326)],_0x58fbda[_0xdcfb4f(0x326)])){if(_0x58fbda[_0xdcfb4f(0x304)](_0x4538f4[_0xdcfb4f(0x1f7)],_0x9e812a))return _0x58fbda['XubIO'](_0x58fbda[_0xdcfb4f(0x162)],_0x58fbda[_0xdcfb4f(0x25a)])?!![]:(_0x186b28['error']('[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20'+_0x439275+':'+_0xb773d3[_0xdcfb4f(0x247)]),{});}else _0x450b03+=_0x58fbda[_0xdcfb4f(0x304)](_0x68a9f9[_0xdcfb4f(0x1a4)],0x0)?_0x58fbda['vTOjK']:'',_0x2125cc[_0xdcfb4f(0x1b3)]('Role\x20definition\x20response\x20list\x20\x20:\x20\x20'+_0x835785[_0xdcfb4f(0x29b)](_0x380e70));}}else return _0x7e2df[_0xdcfb4f(0x28f)]=_0x322449[_0xdcfb4f(0x28f)],_0x2a6917;}catch(_0x494f19){if(_0x58fbda['xjjUk'](_0x58fbda[_0xdcfb4f(0x23f)],_0x58fbda[_0xdcfb4f(0x2e5)])){const _0x525ff9=_0x58fbda[_0xdcfb4f(0x1eb)][_0xdcfb4f(0x228)]('|');let _0x2f0b83=0x0;while(!![]){switch(_0x525ff9[_0x2f0b83++]){case'0':_0x2ea68c[_0xdcfb4f(0x265)]=_0x7add66[this[_0xdcfb4f(0x140)]][_0xdcfb4f(0x259)];continue;case'1':_0x3251ca[_0xdcfb4f(0x143)]=_0x45dc7c[this[_0xdcfb4f(0x140)]][_0xdcfb4f(0x19a)];continue;case'2':_0x4eaa98[_0xdcfb4f(0x19e)]=_0x4835cc[this['cloudProviderName']][_0xdcfb4f(0x290)];continue;case'3':_0x262c65['cloudProviderClientId']=_0x20b6dd[this['cloudProviderName']][_0xdcfb4f(0x280)];continue;case'4':this['setClients']();continue;case'5':_0xba33b7[_0xdcfb4f(0x244)]=_0x494172[this[_0xdcfb4f(0x140)]]['tenantId'];continue;}break;}}else return logger[_0xdcfb4f(0x28f)](_0xdcfb4f(0x14c)+_0x9e812a+_0xdcfb4f(0x1d0)+_0x494f19),![];}return![];}async['isSubnetsValid'](_0x444e26,_0x1835c5){const _0x5083e8=a1_0x2d5959,_0x48e1c4={};_0x48e1c4[_0x5083e8(0x15f)]=function(_0x46141f,_0x355370){return _0x46141f===_0x355370;},_0x48e1c4[_0x5083e8(0x18c)]=_0x5083e8(0x266),_0x48e1c4[_0x5083e8(0x1b2)]='iwbSM',_0x48e1c4['wdwFw']=_0x5083e8(0x2c8);const _0x43b70b=_0x48e1c4;try{if(_0x43b70b[_0x5083e8(0x15f)](_0x43b70b['gGWeD'],_0x43b70b[_0x5083e8(0x18c)])){const _0x59c181=await this[_0x5083e8(0x157)]['subnets'][_0x5083e8(0x212)](global_registry[_0x5083e8(0x265)],_0x1835c5,_0x444e26[0x0]);if(_0x43b70b['exXfx'](_0x444e26[0x0],_0x59c181[_0x5083e8(0x1f7)]))return _0x43b70b[_0x5083e8(0x15f)](_0x43b70b[_0x5083e8(0x1b2)],_0x43b70b[_0x5083e8(0x133)])?!![]:[!![],_0x444e26];}else _0x324008[_0x5083e8(0x1bb)](_0x4ede56);}catch(_0x62af1b){return logger['error'](_0x5083e8(0x1d8)+_0x444e26+_0x5083e8(0x17d)+_0x62af1b),[![],[]];}return[![],[]];}async[a1_0x2d5959(0x2c7)](){const _0x2313f3=a1_0x2d5959,_0x55b564={};_0x55b564['Hmoia']=_0x2313f3(0x1fc);const _0x4a9b3d=_0x55b564,_0x243ae8={};_0x243ae8[_0x2313f3(0x287)]=!![],_0x243ae8[_0x2313f3(0x28f)]=null,_0x243ae8[_0x2313f3(0x2c9)]=_0x4a9b3d[_0x2313f3(0x19b)];const _0x223e0b=_0x243ae8;return _0x223e0b;}async['getHeader'](){const _0x531982=a1_0x2d5959,_0x2db565={};_0x2db565[_0x531982(0x25f)]=_0x531982(0x2fd),_0x2db565[_0x531982(0x2f1)]='GET',_0x2db565[_0x531982(0x20e)]=_0x531982(0x2ad);const _0x25fdc8=_0x2db565,_0x203c66=await this[_0x531982(0x2f6)][_0x531982(0x145)](_0x25fdc8[_0x531982(0x25f)]),_0x5f12a6={};_0x5f12a6[_0x531982(0x17c)]=_0x25fdc8[_0x531982(0x2f1)],_0x5f12a6[_0x531982(0x2df)]={},_0x5f12a6[_0x531982(0x2df)]['Authorization']='Bearer\x20'+_0x203c66[_0x531982(0x203)],_0x5f12a6[_0x531982(0x2df)]['Content-Type']=_0x25fdc8['PGXsP'];const _0x4b015e=_0x5f12a6;return _0x4b015e;}async['getPrincipalIdFromClientId'](_0x71e18){const _0x4d9892=a1_0x2d5959,_0x20cff8={'OPctk':function(_0x3738d2,_0x8cebc,_0xe97d12){return _0x3738d2(_0x8cebc,_0xe97d12);},'sogWZ':function(_0x55da14,_0x15aff6){return _0x55da14===_0x15aff6;},'jpHYr':_0x4d9892(0x15d)},_0x275018={};_0x275018[_0x4d9892(0x180)]='',_0x275018[_0x4d9892(0x28f)]=null;const _0x14fb94=_0x275018;try{const _0x50a11b=_0x4d9892(0x195)+_0x71e18+'\x27',_0x10c517=await this['getHeader'](),_0x2f4e01=await _0x20cff8['OPctk'](fetch,_0x50a11b,_0x10c517),_0xacd41f=await _0x2f4e01[_0x4d9892(0x1ae)]();if(!_0xacd41f[_0x4d9892(0x1d5)]||_0x20cff8[_0x4d9892(0x1a8)](_0xacd41f[_0x4d9892(0x1d5)][_0x4d9892(0x1a4)],0x0))throw new Error(_0x20cff8['jpHYr'],_0x4d9892(0x2b3)+JSON[_0x4d9892(0x29b)](_0xacd41f));_0x14fb94[_0x4d9892(0x180)]=_0xacd41f[_0x4d9892(0x1d5)][0x0]['id'];}catch(_0x498988){_0x14fb94[_0x4d9892(0x28f)]=_0x498988;}return _0x14fb94;}async[a1_0x2d5959(0x2fc)](){const _0x2256c9=a1_0x2d5959,_0x466f21={};_0x466f21[_0x2256c9(0x141)]=_0x2256c9(0x25b),_0x466f21[_0x2256c9(0x1e6)]='denied',_0x466f21[_0x2256c9(0x2b7)]=function(_0x20932b,_0x4a97c7){return _0x20932b!==_0x4a97c7;},_0x466f21['YJbIG']=function(_0x592240,_0x4e23fb){return _0x592240===_0x4e23fb;},_0x466f21['pLlZF']=_0x2256c9(0x22a),_0x466f21['NXVTf']=function(_0x3b325c,_0x4bcd6e){return _0x3b325c===_0x4bcd6e;},_0x466f21[_0x2256c9(0x27f)]='No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles',_0x466f21[_0x2256c9(0x235)]=_0x2256c9(0x277);const _0x2c03ec=_0x466f21,_0x3d551f={};_0x3d551f['status']=![],_0x3d551f['error']=null,_0x3d551f[_0x2256c9(0x2c9)]='';const _0x114584=_0x3d551f;try{let _0x621bf9='';const _0x5ed63d=_0x2256c9(0x272)+global_registry[_0x2256c9(0x143)]+_0x2256c9(0x1c1)+global_registry[_0x2256c9(0x265)],_0x10e0eb=await this[_0x2256c9(0x1e9)](global_registry[_0x2256c9(0x2dd)]);if(_0x2c03ec['KhsMB'](_0x10e0eb[_0x2256c9(0x28f)],null))return _0x114584['error']=_0x10e0eb[_0x2256c9(0x28f)],_0x114584;const _0x2d5f8c=_0x2256c9(0x146)+_0x10e0eb['principalId']+'\x27)',_0x444f00={};_0x444f00[_0x2256c9(0x2c3)]=_0x2d5f8c;const _0x14c0c2=await this[_0x2256c9(0x1b4)][_0x2256c9(0x148)][_0x2256c9(0x2d4)](_0x5ed63d,_0x444f00),_0x3aa926=[];for await(const _0x1bbf3d of _0x14c0c2){_0x3aa926[_0x2256c9(0x1bb)](_0x1bbf3d);}if(_0x2c03ec[_0x2256c9(0x215)](_0x3aa926[_0x2256c9(0x1a4)],0x0))return _0x114584[_0x2256c9(0x2c9)]=_0x2c03ec[_0x2256c9(0x1f3)],_0x114584;const _0x13a70e=[...new Set(_0x3aa926[_0x2256c9(0x163)](_0x597c00=>_0x597c00[_0x2256c9(0x1ef)]))];if(_0x2c03ec[_0x2256c9(0x240)](_0x13a70e[_0x2256c9(0x1a4)],0x0))return _0x114584[_0x2256c9(0x2c9)]=_0x2c03ec[_0x2256c9(0x27f)],_0x114584;const _0x47a3c3=[],_0x68c7b=[];for(const _0x4231dd of _0x13a70e){const _0xbb2ba1=await this[_0x2256c9(0x1b4)][_0x2256c9(0x194)][_0x2256c9(0x29c)](_0x4231dd);logger[_0x2256c9(0x1b3)](_0x2256c9(0x1d1)+_0xbb2ba1[_0x2256c9(0x250)]),_0x47a3c3[_0x2256c9(0x1bb)](_0xbb2ba1),logger['debug'](_0x2256c9(0x30c)+JSON[_0x2256c9(0x29b)](_0xbb2ba1['permissions'])),_0xbb2ba1[_0x2256c9(0x2c0)][_0x2256c9(0x275)](_0x53fc4f=>{const _0x5c7a68=_0x2256c9;_0x68c7b[_0x5c7a68(0x1bb)](..._0x53fc4f[_0x5c7a68(0x223)]);});}logger[_0x2256c9(0x1b3)](_0x2256c9(0x23d)+JSON[_0x2256c9(0x29b)](_0x68c7b)),_0x2c03ec[_0x2256c9(0x215)](_0x68c7b[_0x2256c9(0x1a4)],0x0)&&(_0x621bf9+=_0x2c03ec['YJbIG'](_0x68c7b[_0x2256c9(0x1a4)],0x0)?_0x2c03ec[_0x2256c9(0x235)]:'',logger[_0x2256c9(0x1b3)](_0x2256c9(0x1ab)+JSON[_0x2256c9(0x29b)](_0x47a3c3))),_0x114584['status']=!![],Object[_0x2256c9(0x239)](PERMISSIONS[_0x2256c9(0x241)])[_0x2256c9(0x275)](([_0x1e5305,_0x43ad7f])=>{const _0x24f38a=_0x2256c9,_0xac3918=_0x68c7b[_0x24f38a(0x31d)](_0x1e5305);_0x621bf9+='\x0a\x09'+_0x43ad7f+':\x20'+(_0xac3918?_0x2c03ec['BZXbg']:_0x2c03ec['UiENH']),!_0xac3918&&(_0x114584['status']=![]);}),_0x114584['data']=_0x621bf9;}catch(_0x1f7863){_0x114584[_0x2256c9(0x28f)]=_0x1f7863;}return _0x114584;}}function a1_0x58e5(){const _0x2992c9=['LYtrP','actionPermission\x20:\x20','xqltI','HcMhB','NXVTf','ACTION','createFederatedAccountForHubHA','TQdSn','cloudProviderTenantId','rHijE','@azure/arm-storage','stack','bstackUsername','Storage\x20account\x20already\x20exists,\x20skipping','DOGjn','EQCyu','qdQlD','createFederatedAccount','PpMWd','UuDAh','roleName','UNimV','JqCQf','federatedidentity','GqxoP','owZPr','VRSGQ','createStorageAccount','init','resourceGroup','VrkAn','allowed','OJKGT','clusterAutoUpgrade','message','TqNqW','IZhRg','bUgQd','HLBfW','HamvE','hliKf','cloudProviderResourceGroup','VegNy','bjxjA','3340kINLIl','false','metadata','resources','zmGeO','5|6|3|2|4|1|0|7','VDbzV','Kzvby','tags','gFfKk','subscriptions/','vpcName','ktxRu','forEach','federatedidentityuploader.json','Action\x20permission\x20list\x20is\x20empty\x0a','[variables(\x27vnetSubnetID\x27)]','nEGFG','giExE','LEFgI','FrPDM','ljmMm','readFileAsync','KFbOM','clientId','type','imUej','XtTfY','dueNm','browserstack:managedBy','utf-8','status','ltuel','wCupa','isClusterPresent','bstackAccesskey','workloadIdentity','containerClient','772071NKBmpi','error','clientSecret','4sBGoWM','ingress','xrkJc','NxMpA','TERqp','aufJY','setCachedCredsInRegistry','CUmQY','resourceClient','EQJZu','stringify','getById','rmYKI','fEGrA','dBeJg','HJfyR','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','resourceGroups','gIdcv','BTlkb','1822424udOqGz','templates','WgjQu','PfexA','xDwTE','dEqSy','sendAzureInfoToHST','FuVVJ','application/json','DycgT','CDrgk','IEcPK','CYLqr','HSTfU','Received\x20response\x20-\x20','Blob\x20delete\x20lifecycle','BrowserStack','DzcUl','KhsMB','delete','variables','XubIO','Creating\x20Azure\x20federated\x20identity','TreZp','auMdd','GSZdx','hfAnv','permissions','EQICZ','enabled','filter','@azure/identity','DXDSe','hub','isCliToolInstalled','mANHF','data','BtfOR','parse','oidcIssuerProfile','deployments','LOG','createOtherResources','IzJiN','FbHUV','Deleted\x20the\x20cluster\x20successfully','accessKey','listForScope','location','zBkKl','turboscale-identity-deployment','DJAmP','cYTWQ','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','MFVII','loadBalancer','cloudProviderClientId','definition','headers','disableLocalAccounts','Deleting\x20the\x20cluster\x20','KHlDV','KIXiO','MzlWG','CtxAr','IZibk','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','@azure/arm-resources','vnetSubnetID','\x20RESOURCE\x20GROUP:\x20','NMAyY','log','azureresources','@azure/arm-containerservice','.json','ZIsbu','Hahrw','rules','setClients','CBqtc','jujyU','cred','clusterInfo','DtHrk','./CloudProvider','\x20TENANT\x20ID:\x20','uKXUQ','checkAccess','https://graph.microsoft.com/.default','1684450ngXdmq','HjrhA','BGYTg','NZZMd','AQekw','CIuqb','crcAh','PIHVD','toUpperCase','AaoJV','NAksg','zGbqr','Lifecycle','Managed\x20identity\x20already\x20exists,\x20skipping','Attached\x20permissions\x20:\x20','zFtDz','isVPCPresent','OLUKA','Rhvvq','@azure/arm-network','EXiPB','userInstanceType','nBcjD','PVwTu','rxmjM','miwfU','UMxSt','getKubeConfigData','433764vlquem','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','EfsUV','includes','onSha','turboscale','dZnQD','Enabling\x20Local\x20account\x20for\x20the\x20cluster','xjjUk','deleteCluster','OhALc','NcGYL','XmMLR','DFBMo','managementPolicies','IYFqy','3|2|5|1|0|4','RUaxG','toLowerCase','securityProfile','21yjDnBX','subnetName','blobTypes','SgNwk','XOJsN','wdwFw','TlGDN','AXqjJ','gridName','getResourceClientId','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','ddKzI','LnDqe','SxqBZ','DKYza','PTXkg','AzureCloudProvider','digrA','cloudProviderName','BZXbg','KZgMF','cloudProviderSubscriptionId','AtEeu','getToken','assignedTo(\x27','CAnIs','roleAssignments','ixHGV','EfQvP','clusterName','Cannot\x20find\x20VPC\x20','BLESx','pddxr','JUxIO','sendEventToBackend','Incremental','AwNVc','getStorageAccountName','snUwa','tRqlu','XZVxI','networkClient','beginDeleteAndWait','userMaxNodes','hdgwi','gEKGV','dIcxy','No\x20service\x20principal\x20found','clusterRegion','exXfx','sVNIM','geftH','VvHEa','map','ZyRNt','oheFA','nQrhP','MWKUp','FNlfp','xShSc','JvtNw','AJNQn','vpcInfo','updateClusterAlreadyPresent','lTcEw','SrqOH','../config/constants','managedClusters','aERcO','RyRMq','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','qvQgY','uLkgI','jRNZv','suyOI','rBoto','listClusterAdminCredentials','baseBlob','method','.\x20Error:\x20','listAll','SROtB','principalId','kAPBp','toString','path','rws','GIgJf','whQhL','gaDmG','rPpAJ','47376IMFwQl','yxifh','8622965LPBExR','gGWeD','aEzfJ','Jaxho','getUserInput','yOobF','qnSuv','owZbl','description','roleDefinitions','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','YgQWW','default','rEQzF','LzxiM','subscriptionId','Hmoia','wUSYT','QZkeH','cloudProviderClientSecret','info','storageAccounts','DCVME','Creating\x20Azure\x20storage\x20account','nOoiG','length','chZmr','@azure/arm-authorization','\x20CLIENT\x20ID:\x20','sogWZ','WHMsa','KiXgl','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','izUni','turboscale-managed-identity-','json','xcpAq','getClusterInfo','aarTm','TWwBE','debug','authClient','tVoAd','Hlatj','string','fcPPn','Creating\x20Azure\x20managed\x20identity','turboscale-federated-deployment','push','jMXta','fTNWK','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','bJMKH','exit','/resourceGroups/','JNoQZ','filters','WpTBh','slice','s3Bucket','iBDEY','QySUc','RESOURCES','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','managedidentity.json','storageClient','tiRGp','hostname','AyPfP','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','role\x20name\x20attached\x20-\x20','nZcxN','pEqYd','4|1|5|3|2|0','value','virtualNetworks','issuerURL','Cannot\x20find\x20subnets\x20','properties','akscluster.json','UMpzq','VfAOL','blockBlob','../permissions/AZURE.json','../config/logger','eJIZO','instanceType','webSocketUtils','getResourceGroups','15333120zOwZPt','OtinY','UiENH','kRaeh','LIKRx','getPrincipalIdFromClientId','etxrG','ZPITw','hubHaNameSpace','exports','KGnzs','roleDefinitionId','cDfiw','JIVxH','uRvBO','pLlZF','createOrUpdate','2023-01-31','vdHOz','name','gkSGL','gMTph','beginCreateOrUpdateAndWait','filRf','No\x20CLI\x20tool\x20required','node','createCluster','../utils/gridComponents','rZkbr','join','GAuLE','token','UeAHI','BjifM','gcfXv','ybHhg','eYCsU','oaeYe','WMkDT','listByResourceGroup','nmauH','VWeDd','PGXsP','gzbyI','cwUXX','tFWnK','get','CrQsh','kubeconfigs','YJbIG','GbPDF','ARmQF','xjwjr','vTOjK','TjMtC','parameters','lpNho','cloudProvider','turboscale-storageaccount-deployment','hKmwF','hsEIQ','ximVh','VqqRm','actions','WJmrk','BUEqQ','hubharesources','isStorageAccountPresent','split','qgJfX','No\x20attached\x20role\x20for\x20the\x20client\x20key','6tJPCbf','agentPoolProfiles','YJbZc','maxNodes','eOegw','qWvcW','tenantId','gSGfY','SGFyH','TJWzR','oGiTJ','js-yaml','ALpKw','vHZdq','entries','kFuht','EqTkY'];a1_0x58e5=function(){return _0x2992c9;};return a1_0x58e5();}function a1_0x36d0(_0x44f72c,_0x423649){const _0x58e5c6=a1_0x58e5();return a1_0x36d0=function(_0x36d0ac,_0x2715e9){_0x36d0ac=_0x36d0ac-0x12b;let _0x17513d=_0x58e5c6[_0x36d0ac];return _0x17513d;},a1_0x36d0(_0x44f72c,_0x423649);}const a1_0x3b8c06={};a1_0x3b8c06[a1_0x2d5959(0x13e)]=AzureCloudProvider,module[a1_0x2d5959(0x1ed)]=a1_0x3b8c06;