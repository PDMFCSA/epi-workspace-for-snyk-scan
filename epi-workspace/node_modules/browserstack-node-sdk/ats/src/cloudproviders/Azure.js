const a1_0x1a6eda=a1_0x54c3;function a1_0x54c3(_0x275316,_0x32b96a){const _0x5ddd83=a1_0x5ddd();return a1_0x54c3=function(_0x54c3dc,_0x40ef03){_0x54c3dc=_0x54c3dc-0xc2;let _0x192392=_0x5ddd83[_0x54c3dc];return _0x192392;},a1_0x54c3(_0x275316,_0x32b96a);}function a1_0x5ddd(){const _0x531eac=['tags','NGoTu','Whpst','node','IxOfG','bstackUsername','JeXDt','24wxgbvD','onDmm','exPec','RESOURCES','sABYp','clusterName','efDlo','setupNewCluster','OnpeH','vzCeY','NZoam','HUidf','nwAHV','CqKFr','No\x20CLI\x20tool\x20required','XExGX','definition','NTEpt','dSnOU','wkdzH','HsgWD','hbNSR','XkckA','zkLHI','RonVc','getHeader','getStorageAccountName','method','metadata','No\x20attached\x20role\x20for\x20the\x20client\x20key','wODfB','kwnyK','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','cyQgq','7547996ZDstxS','MGQRy','utf-8','cloudProviderResourceGroup','cloudProviderClientSecret','Found\x20only\x20one\x20resource\x20group:\x20','createFederatedAccount','oHbOE','kLCJX','2|1|3|4|0|5','BrowserStack','XDPAB','gxJUh','subnets','name','4|1|3|2|0|5','7989102FzWxim','RhsvF','nfurK','qaunY','irQHb','WjfyA','JiZfE','USiyt','Incremental','location','JDvOF','UqNxX','readFileAsync','CCidy','cHsOG','ZpoLo','virtualNetworks','KRsYs','onSPo','getPrincipalIdFromClientId','loadBalancer','createManagedIdentity','dxmWX','federatedidentityuploader.json','length','MGLTv','tenantId','MYAWi','forEach','data','cSvgA','UHIMN','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','setCachedCredsInRegistry','VZmcg','rxORj','clientSecret','iAERD','cloudProviderClientId','pluhs','hostname','PACaY','QxfWA','enhpv','clusterInfo','Qpzxm','rQLqK','BzTht','axFGL','resources','mNWCF','uAVLH','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','slice','kUVnm','templates','beginDeleteAndWait','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','GmgoJ','5xoCkjl','[variables(\x27vnetSubnetID\x27)]','sendEventToBackend','.json','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','gIqzN','setClients','includes','managedClusters','wyTYF','MTqrk','ZAnsH','Managed\x20identity\x20already\x20exists,\x20skipping','UwSRl','QNkqR','TNfmt','authClient','fasSJ','etAxI','bsIsU','yTsVI','createStorageAccount','oidcIssuerProfile','JEzMT','cloudProvider','wdafP','zHEfE','EeTkP','containerClient','roleAssignments','managedidentity.json','jVOpt','gElut','hubharesources','status','subscriptionId','variables','XbhVC','resourceClient','Blob\x20delete\x20lifecycle','UGmWY','8TEKSPj','zrQqW','checkAccess','issuerURL','\x20TENANT\x20ID:\x20','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','gttnT','rGSTY','deployments','zNDso','log','hiPtb','RLDDs','webSocketUtils','CfecW','yHjJE','listAll','ugtFr','vWJax','gTvPD','fKQCJ','isSubnetsValid','turboscale-managed-identity-','@azure/identity','createFederatedAccountForHubHA','LAlmC','ezhBo','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','properties','PfiMU','eUzmu','cloudProviderTenantId','miftO','createOrUpdate','tGFRu','denied','token','tbOAY','getResourceGroups','BsTJM','nzPCj','sendAzureInfoToHST','enzFj','PGpGM','NHBgI','eTRpH','SMayB','vswPU','Deleted\x20the\x20cluster\x20successfully','NhvTB','gRPLL','YdgGB','MgNGL','dvrwj','../utils/gridComponents','Glgju','isClusterPresent','UcpaC','ingress','CdBuo','/resourceGroups/','GPKwV','permissions','getClusterInfo','ilSkK','VXMcQ','JTIFD','debug','EJqOM','aVVAG','SxnZf','Aetdm','YiBVN','OBAcG','uvgrH','501129GLmrYv','cJcfG','cUwaA','createOtherResources','LOG','QoTwC','workloadIdentity','cloudProviderSubscriptionId','No\x20service\x20principal\x20found','OiCkv','dsQUf','AzureCloudProvider','turboscale-storageaccount-deployment','QOOMA','storageAccounts','lbavk','actionPermission\x20:\x20','EtigZ','principalId','GET','clusterRegion','cEhqq','exports','dQLdu','SbyTW','vXtIu','lhcuN','Action\x20permission\x20list\x20is\x20empty\x0a','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','WCnhL','Content-Type','FBigs','enabled','202oqvlSk','./CloudProvider','beATa','type','KcTNO','azureresources','MWSkr','Attached\x20permissions\x20:\x20','description','\x20SUBSCRIPTION\x20ID:\x20','delete','filters','../config/logger','DWQhi','split','UcXgf','actions','getResourceClientId','lhmaq','cdYaH','zfAoz','XIOjj','bmJch','gLDbm','sQjrq','1945047lgJqyD','toLowerCase','rsYHi','join','NVuoy','exit','jcCYZ','vnetSubnetID','resourceGroups','isVPCPresent','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','RMZDP','QQTvd','OBiwJ','gSCQf','EwUMY','listForScope','map','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','push','dluki','listByResourceGroup','VRFOz','bxYqs','managementPolicies','17558hvdMFx','YbJtR','cBtWm','userInstanceType','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','PbskW','blobTypes','PkGUh','Bearer\x20','eDOHZ','mUBFC','quENW','UzvVw','mydEU','frgtJ','XHHji','Crzqa','storageaccount.json','subscriptions/','BGNBG','cjZwg','s3Bucket','stack','MsOIN','AtrWT','TTGwk','pYqjJ','CxZZg','baseBlob','JCKxH','instanceType','vpcName','storageAccountName','RaTUb','siAQG','turboscale','XKPNi','uEHTH','330UffOVS','QZUka','qhSGa','lCBqL','lAKdB','cred','xxOfU','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','KFGNU','get','Dnzkx','createCluster','Cannot\x20find\x20VPC\x20','agentPoolProfiles','rcDcU','userMaxNodes','Enabling\x20Local\x20account\x20for\x20the\x20cluster','QsAEu','tASzz','QKgCm','storageClient','zovKq','rkVDR','isCliToolInstalled','init','eLbhv','ZZAyu','filter','KCPLH','WlHvt','TPdZy','disableLocalAccounts','hTuMq','Nmofo','@azure/arm-containerservice','OkNej','headers','uqhfN','ofLRO','turboscale-federated-deployment','qpvlc','securityProfile','Dhekw','BrbNR','getById','rmkDq','uqswE','rxYPz','ZVGIe','accessKey','setupHubHa','YXqBO','isManagedIdentityPresent','message','Lifecycle','JrfZs','xEVcR','xdxEx','default','parse','BFXvF','networkClient','WzHQR','\x20CLIENT\x20SECRET:\x20','\x20CLIENT\x20ID:\x20','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','Storage\x20account\x20already\x20exists,\x20skipping','tOLJP','Jzhos','sqqoA','stringify','IcmHF','meQoS','suFAe','ZByjK','VspyM','dVTVO','Creating\x20Azure\x20managed\x20identity','info','WNCCt','jDoCC','iTMTC','BVdgk','toUpperCase','.\x20Error:\x20','IUrUw','clientId','@azure/arm-network','3198396BymISB','10166527GRlBfZ','vHRgD','GMWrQ','NMlrP','blockBlob','value','getGridHostname','3|0|1|5|7|6|2|4','rws','msAzE','updateClusterAlreadyPresent','MMmni','turboscale-identity-deployment','voeFd','aWxlg','cloudProviderName','resourceGroup','OzdHv','beginCreateOrUpdateAndWait','xRGRv','federatedidentity','DzamB','vpcInfo','maxNodes','tbJTS','Creating\x20Azure\x20federated\x20identity','WnnBz','cnbDO','string','ivOif','zdech','parameters','clxha','isStorageAccountPresent','zHIEx','kubeconfigs','allowed','pahmm','NoxCU','json','iKVMO','ltTEh','lwrtU','HPbej','ACTION','Ghyuh','SKYve','oADkp','username','BIYAX','error','sREXJ','Cannot\x20find\x20subnets\x20','XICDS','listClusterAdminCredentials','xSRmn','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','mQXqB'];a1_0x5ddd=function(){return _0x531eac;};return a1_0x5ddd();}(function(_0x40a1df,_0x363ae2){const _0x271d67=a1_0x54c3,_0x3c7543=_0x40a1df();while(!![]){try{const _0x94ebf8=-parseInt(_0x271d67(0x100))/0x1*(parseInt(_0x271d67(0x133))/0x2)+-parseInt(_0x271d67(0x119))/0x3+-parseInt(_0x271d67(0x215))/0x4+-parseInt(_0x271d67(0x260))/0x5*(-parseInt(_0x271d67(0x1b1))/0x6)+parseInt(_0x271d67(0x1b2))/0x7*(parseInt(_0x271d67(0x289))/0x8)+-parseInt(_0x271d67(0xdf))/0x9*(-parseInt(_0x271d67(0x159))/0xa)+-parseInt(_0x271d67(0x225))/0xb*(-parseInt(_0x271d67(0x1f3))/0xc);if(_0x94ebf8===_0x363ae2)break;else _0x3c7543['push'](_0x3c7543['shift']());}catch(_0x3badd0){_0x3c7543['push'](_0x3c7543['shift']());}}}(a1_0x5ddd,0xec066));const fs=require('fs'),path=require('path'),yaml=require('js-yaml'),{logger}=require(a1_0x1a6eda(0x10c)),{CloudProvider}=require(a1_0x1a6eda(0x101)),{deleteRoutingDeps,deleteAgent}=require(a1_0x1a6eda(0xca)),{AZURE,WS_EVENTS,global_registry}=require('../config/constants'),PERMISSIONS=require('../permissions/AZURE.json'),{ClientSecretCredential}=require(a1_0x1a6eda(0x2a0)),{NetworkManagementClient}=require(a1_0x1a6eda(0x1b0)),{StorageManagementClient}=require('@azure/arm-storage'),{AuthorizationManagementClient}=require('@azure/arm-authorization'),{ResourceManagementClient}=require('@azure/arm-resources'),{ContainerServiceClient}=require(a1_0x1a6eda(0x17b)),{runCommand}=require('../utils/utilityMethods');class AzureCloudProvider extends CloudProvider{constructor(_0x27c8c4,_0xfb7c19,_0x583d2a,_0x5a5be8){const _0x52721c=a1_0x1a6eda,_0x10f3e4={};_0x10f3e4[_0x52721c(0xe0)]=_0x52721c(0x1b9);const _0x486e23=_0x10f3e4,_0x68c682=_0x486e23[_0x52721c(0xe0)][_0x52721c(0x10e)]('|');let _0x568fb9=0x0;while(!![]){switch(_0x68c682[_0x568fb9++]){case'0':this[_0x52721c(0x15e)]=null;continue;case'1':this[_0x52721c(0x251)]=null;continue;case'2':this[_0x52721c(0x196)]=null;continue;case'3':super(AZURE,_0x27c8c4,_0xfb7c19,_0x583d2a,_0x5a5be8);continue;case'4':this[_0x52721c(0x270)]=null;continue;case'5':this[_0x52721c(0x27c)]=null;continue;case'6':this[_0x52721c(0x286)]=null;continue;case'7':this[_0x52721c(0x16d)]=null;continue;}break;}}async['init'](){const _0x717d32=a1_0x1a6eda;return await super[_0x717d32(0x171)](),this;}['setClients'](){const _0x318e48=a1_0x1a6eda,_0x55ef00=new ClientSecretCredential(global_registry[_0x318e48(0x2a8)],global_registry[_0x318e48(0x24b)],global_registry['cloudProviderClientSecret']);this[_0x318e48(0x27c)]=new ContainerServiceClient(_0x55ef00,global_registry[_0x318e48(0xe6)]),this[_0x318e48(0x16d)]=new StorageManagementClient(_0x55ef00,global_registry[_0x318e48(0xe6)]),this[_0x318e48(0x286)]=new ResourceManagementClient(_0x55ef00,global_registry[_0x318e48(0xe6)]),this[_0x318e48(0x196)]=new NetworkManagementClient(_0x55ef00,global_registry[_0x318e48(0xe6)]),this[_0x318e48(0x270)]=new AuthorizationManagementClient(_0x55ef00,global_registry['cloudProviderSubscriptionId']),this[_0x318e48(0x15e)]=_0x55ef00;}['getStorageAccountName'](){const _0xa30300=a1_0x1a6eda,_0x4cc9cd={};_0x4cc9cd[_0xa30300(0x167)]=function(_0x1f483c,_0x5d26de){return _0x1f483c+_0x5d26de;},_0x4cc9cd[_0xa30300(0x247)]=_0xa30300(0x156),_0x4cc9cd[_0xa30300(0x248)]=function(_0x1db56c,_0x4305a2){return _0x1db56c-_0x4305a2;};const _0x48284a=_0x4cc9cd,_0x949ec9=global_registry[_0xa30300(0x148)][_0xa30300(0x10e)]('-'),_0xf7246=_0x48284a[_0xa30300(0x167)](_0x48284a['VZmcg'],_0x949ec9[_0x48284a[_0xa30300(0x248)](_0x949ec9['length'],0x1)])[_0xa30300(0x25a)](0x0,0x18);return _0xf7246[_0xa30300(0x11a)]();}[a1_0x1a6eda(0x246)](_0x2e7f2d){const _0x2355da=a1_0x1a6eda,_0x1d6e9c={};_0x1d6e9c[_0x2355da(0x2b4)]=_0x2355da(0x224);const _0x5f33ea=_0x1d6e9c,_0x33f723=_0x5f33ea[_0x2355da(0x2b4)][_0x2355da(0x10e)]('|');let _0x1581d9=0x0;while(!![]){switch(_0x33f723[_0x1581d9++]){case'0':global_registry[_0x2355da(0x218)]=_0x2e7f2d[this['cloudProviderName']][_0x2355da(0x1c2)];continue;case'1':global_registry[_0x2355da(0x219)]=_0x2e7f2d[this[_0x2355da(0x1c1)]][_0x2355da(0x249)];continue;case'2':global_registry[_0x2355da(0xe6)]=_0x2e7f2d[this[_0x2355da(0x1c1)]][_0x2355da(0x283)];continue;case'3':global_registry['cloudProviderTenantId']=_0x2e7f2d[this['cloudProviderName']][_0x2355da(0x23f)];continue;case'4':global_registry[_0x2355da(0x24b)]=_0x2e7f2d[this['cloudProviderName']]['clientId'];continue;case'5':this['setClients']();continue;}break;}}async['getUserInput'](_0xd5f332,_0x2c9ec2){const _0x5c5935=a1_0x1a6eda,_0x494edf={'SbyTW':_0x5c5935(0x26c),'ZZAyu':_0x5c5935(0x169),'gLDbm':function(_0x10bcfc,_0x1c0290){return _0x10bcfc+_0x1c0290;},'sABYp':'turboscale','rmkDq':function(_0x288129,_0x198b46){return _0x288129-_0x198b46;},'yTsVI':function(_0x28239d,_0x299662){return _0x28239d(_0x299662);},'TPdZy':function(_0x33a717,_0x1af774){return _0x33a717===_0x1af774;},'XHHji':'orDnl','vzCeY':_0x5c5935(0xc6),'bxYqs':function(_0x26a862,_0x46fdb4){return _0x26a862(_0x46fdb4);},'jJhjQ':function(_0x45e033,_0x1d14ed){return _0x45e033===_0x1d14ed;},'QxfWA':function(_0x52d299,_0x293edb){return _0x52d299===_0x293edb;},'sQjrq':_0x5c5935(0x202),'QQTvd':function(_0xb86be4,_0x16c8f1){return _0xb86be4(_0x16c8f1);},'tbJTS':function(_0x55c6a2,_0x2d3848){return _0x55c6a2===_0x2d3848;},'Whpst':function(_0x362903,_0x36a60c){return _0x362903===_0x36a60c;},'ZVGIe':function(_0x99f305,_0x26a11e){return _0x99f305===_0x26a11e;},'UzvVw':'baSWr','BVdgk':_0x5c5935(0x234),'UqNxX':'Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','exPec':function(_0x7c7dad,_0x541105){return _0x7c7dad===_0x541105;},'wkdzH':function(_0x5a357a,_0x3794bd){return _0x5a357a!==_0x3794bd;},'wODfB':_0x5c5935(0x1e9),'XKPNi':function(_0x4edd94,_0x5eed21){return _0x4edd94===_0x5eed21;},'cEhqq':_0x5c5935(0x1d8),'PbskW':function(_0x1fb9fa,_0x248cbc){return _0x1fb9fa<_0x248cbc;},'WzHQR':_0x5c5935(0x112),'yHjJE':function(_0x452911,_0x763c13){return _0x452911(_0x763c13);},'mScJY':_0x5c5935(0x137),'uEHTH':function(_0x2c2496,_0x1294b0){return _0x2c2496(_0x1294b0);},'lAKdB':function(_0x5bdb20,_0x265276){return _0x5bdb20<=_0x265276;},'HPbej':function(_0xaabfef,_0x575ada){return _0xaabfef>_0x575ada;},'hbNSR':function(_0x1fce6e,_0x7f90c8){return _0x1fce6e!==_0x7f90c8;},'JTIFD':_0x5c5935(0x1a5),'wFZfY':_0x5c5935(0x12e),'dQLdu':function(_0x335a12,_0x4071e6){return _0x335a12-_0x4071e6;}},_0x11827f=this[_0x5c5935(0x1c1)][_0x5c5935(0x1ac)](),_0x288032=await _0x494edf['yTsVI'](_0xd5f332,_0x11827f+_0x5c5935(0x199)),_0x14d3a4=await _0x494edf[_0x5c5935(0x274)](_0xd5f332,_0x11827f+_0x5c5935(0x198)),_0x2bc897=await _0x494edf[_0x5c5935(0x274)](_0xd5f332,_0x11827f+_0x5c5935(0x28d)),_0x323a84=await _0x494edf[_0x5c5935(0x274)](_0xd5f332,_0x11827f+_0x5c5935(0x109));global_registry['cloudProviderClientId']=_0x288032,global_registry[_0x5c5935(0x219)]=_0x14d3a4,global_registry['cloudProviderTenantId']=_0x2bc897,global_registry[_0x5c5935(0xe6)]=_0x323a84,this[_0x5c5935(0x266)]();const _0x5e3a7d=await this[_0x5c5935(0x2af)](),_0x5e6bdb=_0x5e3a7d[_0x5c5935(0x23d)];let _0xce363c;if(_0x494edf[_0x5c5935(0x177)](_0x5e6bdb,0x0))_0x494edf['TPdZy'](_0x494edf[_0x5c5935(0x142)],_0x494edf[_0x5c5935(0x1fc)])?_0x184e6b['push'](_0x19891b):_0xce363c=await _0x494edf[_0x5c5935(0x131)](_0xd5f332,_0x11827f+'\x20RESOURCE\x20GROUP:\x20');else{if(_0x494edf['jJhjQ'](_0x5e6bdb,0x1)){if(_0x494edf[_0x5c5935(0x24f)](_0x494edf[_0x5c5935(0x118)],_0x494edf['sQjrq'])){const _0x3e75cc=await _0x494edf[_0x5c5935(0x125)](_0xd5f332,_0x5c5935(0x21a)+_0x5e3a7d[0x0]+_0x5c5935(0x25e));(_0x494edf[_0x5c5935(0x177)](_0x3e75cc,undefined)||_0x494edf[_0x5c5935(0x1ca)](_0x3e75cc,null)||!(_0x494edf[_0x5c5935(0x24f)](_0x3e75cc[_0x5c5935(0x11a)](),'y')||_0x494edf[_0x5c5935(0x1ee)](_0x3e75cc[_0x5c5935(0x11a)](),'n')))&&(_0x494edf[_0x5c5935(0x189)](_0x494edf[_0x5c5935(0x13f)],_0x494edf[_0x5c5935(0x1ab)])?_0x3e1693[_0x5c5935(0x12d)](..._0x28a343[_0x5c5935(0x110)]):(console['error'](_0x494edf[_0x5c5935(0x230)]),process['exit'](0x1))),_0x494edf[_0x5c5935(0x1f5)](_0x3e75cc['toLowerCase'](),'n')&&(_0x494edf[_0x5c5935(0x206)](_0x494edf[_0x5c5935(0x211)],_0x494edf[_0x5c5935(0x211)])?_0x95c0ea['info'](_0x494edf[_0x5c5935(0xf7)]):process[_0x5c5935(0x11e)](0x0)),_0xce363c=_0x5e3a7d[0x0];}else{_0x5b37e9[_0x5c5935(0x1a7)](_0x494edf['ZZAyu']);const _0x216ebe={};_0x216ebe[_0x5c5935(0x103)]=_0x2b1317[_0x5c5935(0x1f6)],_0x216ebe[_0x5c5935(0x18e)]=_0x494edf[_0x5c5935(0x173)],this['webSocketUtils'][_0x5c5935(0x262)](this[_0x5c5935(0x1ba)],_0x216ebe),_0x306404[_0x5c5935(0x178)]=![];}}else{if(_0x494edf[_0x5c5935(0x157)](_0x494edf[_0x5c5935(0xf4)],_0x494edf[_0x5c5935(0xf4)])){for(let _0x409e91=0x0;_0x494edf[_0x5c5935(0x138)](_0x409e91,_0x5e3a7d['length']);_0x409e91+=0x1){if(_0x494edf['wkdzH'](_0x494edf[_0x5c5935(0x197)],_0x494edf[_0x5c5935(0x197)]))return[!![],_0x19a1b3];else console[_0x5c5935(0x293)]('['+_0x494edf[_0x5c5935(0x117)](_0x409e91,0x1)+']\x20'+_0x5e3a7d[_0x409e91]);}const _0x6a0fd4=await _0x494edf[_0x5c5935(0x298)](_0xd5f332,_0x494edf['mScJY']),_0x5b821c=_0x494edf[_0x5c5935(0x298)](Number,_0x6a0fd4);if(_0x494edf[_0x5c5935(0x158)](isNaN,_0x5b821c)||_0x494edf[_0x5c5935(0x15d)](_0x5b821c,0x0)||_0x494edf[_0x5c5935(0x1dd)](_0x5b821c,_0x5e6bdb)){if(_0x494edf[_0x5c5935(0x208)](_0x494edf[_0x5c5935(0xd6)],_0x494edf['wFZfY']))console[_0x5c5935(0x1e4)](_0x494edf['UqNxX']),process[_0x5c5935(0x11e)](0x1);else{const _0x41219b=_0x388976[_0x5c5935(0x148)][_0x5c5935(0x10e)]('-'),_0x47cac2=_0x494edf[_0x5c5935(0x117)](_0x494edf[_0x5c5935(0x1f7)],_0x41219b[_0x494edf[_0x5c5935(0x186)](_0x41219b['length'],0x1)])[_0x5c5935(0x25a)](0x0,0x18);return _0x47cac2[_0x5c5935(0x11a)]();}}_0xce363c=_0x5e3a7d[_0x494edf[_0x5c5935(0xf6)](_0x5b821c,0x1)];}else _0x3eebce[_0x5c5935(0x12d)](_0x51d704);}}global_registry[_0x5c5935(0x218)]=_0xce363c;const _0x309b26={};return _0x309b26[_0x5c5935(0x1af)]=_0x288032,_0x309b26[_0x5c5935(0x249)]=_0x14d3a4,_0x309b26['tenantId']=_0x2bc897,_0x309b26[_0x5c5935(0x283)]=_0x323a84,_0x309b26['resourceGroup']=_0xce363c,_0x2c9ec2[_0x5c5935(0x278)][AZURE]=_0x309b26,_0x2c9ec2;}async['getResourceGroups'](){const _0x3d0440=a1_0x1a6eda,_0x3600c5={};_0x3600c5['uvgrH']=_0x3d0440(0x1ce),_0x3600c5[_0x3d0440(0xc3)]=_0x3d0440(0x12b),_0x3600c5[_0x3d0440(0x2b0)]='[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]',_0x3600c5['rQLqK']=_0x3d0440(0x261),_0x3600c5[_0x3d0440(0x288)]=function(_0x55bb1f,_0x17d7c6){return _0x55bb1f!==_0x17d7c6;},_0x3600c5[_0x3d0440(0x1c7)]=_0x3d0440(0x1dc),_0x3600c5[_0x3d0440(0x190)]='qicAk',_0x3600c5[_0x3d0440(0x24a)]=function(_0x47de68,_0x197de5){return _0x47de68!==_0x197de5;},_0x3600c5[_0x3d0440(0x28f)]='OZAuh',_0x3600c5[_0x3d0440(0x26f)]=_0x3d0440(0x1d2);const _0x5bb1b7=_0x3600c5,_0x8aa67f=[];try{if(_0x5bb1b7[_0x3d0440(0x288)](_0x5bb1b7[_0x3d0440(0x1c7)],_0x5bb1b7['JrfZs'])){const _0x2d03d3=await this[_0x3d0440(0x286)][_0x3d0440(0x121)]['list']();for await(const _0x23b216 of _0x2d03d3){if(_0x5bb1b7[_0x3d0440(0x24a)](_0x5bb1b7[_0x3d0440(0x28f)],_0x5bb1b7[_0x3d0440(0x26f)]))_0x8aa67f['push'](_0x23b216[_0x3d0440(0x223)]);else{const _0x3f7a0a={};_0x3f7a0a[_0x3d0440(0x103)]=_0x5bb1b7['uvgrH'],_0x3f7a0a[_0x3d0440(0x20f)]={},_0x3f7a0a[_0x3d0440(0x20f)][_0x3d0440(0x108)]=_0x5bb1b7[_0x3d0440(0xc3)];const _0x40bb35={};_0x40bb35['type']=_0x5bb1b7[_0x3d0440(0xde)],_0x40bb35[_0x3d0440(0x20f)]={},_0x40bb35[_0x3d0440(0x20f)]['description']=_0x5bb1b7[_0x3d0440(0xc3)];const _0xfaacf0={..._0x52c317['parameters']};_0xfaacf0[_0x3d0440(0x152)]=_0x3f7a0a,_0xfaacf0['subnetName']=_0x40bb35,_0x2e528d[_0x3d0440(0x1d1)]=_0xfaacf0;const _0xccbf66={};_0xccbf66[_0x3d0440(0x120)]=_0x5bb1b7[_0x3d0440(0x2b0)],_0x181981['variables']=_0xccbf66;const _0x3f7b39={..._0x4a5fab[_0x3d0440(0x256)][0x0][_0x3d0440(0x2a5)][_0x3d0440(0x166)][0x0]};_0x3f7b39[_0x3d0440(0x120)]=_0x5bb1b7[_0x3d0440(0x253)],_0x3838dc[_0x3d0440(0x256)][0x0][_0x3d0440(0x2a5)]['agentPoolProfiles'][0x0]=_0x3f7b39;const _0x145062={};_0x145062[_0x3d0440(0x1b7)]=_0x112711;const _0x7095bf={};_0x7095bf[_0x3d0440(0x1b7)]=_0x142c04[0x0];const _0x4b374d={..._0xa7d28d};_0x4b374d['vpcName']=_0x145062,_0x4b374d['subnetName']=_0x7095bf,_0x10e1c9=_0x4b374d;}}}else{const _0x2cbbb=new _0x4fc335(_0x49a115[_0x3d0440(0x2a8)],_0x2161d0['cloudProviderClientId'],_0x40d295[_0x3d0440(0x219)]);this[_0x3d0440(0x27c)]=new _0x3c83ca(_0x2cbbb,_0x4b2007[_0x3d0440(0xe6)]),this[_0x3d0440(0x16d)]=new _0x8402d6(_0x2cbbb,_0x1326b0[_0x3d0440(0xe6)]),this['resourceClient']=new _0x24d922(_0x2cbbb,_0x5ef7d4[_0x3d0440(0xe6)]),this[_0x3d0440(0x196)]=new _0x4892ed(_0x2cbbb,_0x141836[_0x3d0440(0xe6)]),this[_0x3d0440(0x270)]=new _0x11db89(_0x2cbbb,_0xd48626[_0x3d0440(0xe6)]),this[_0x3d0440(0x15e)]=_0x2cbbb;}}catch(_0x183923){}return _0x8aa67f;}async[a1_0x1a6eda(0xd3)](){const _0x41ceed=a1_0x1a6eda;return this[_0x41ceed(0x251)]=await this[_0x41ceed(0x27c)][_0x41ceed(0x268)][_0x41ceed(0x162)](global_registry[_0x41ceed(0x218)],this[_0x41ceed(0x1f8)]),this[_0x41ceed(0x251)];}async['getKubeConfigData'](){const _0x27b192=a1_0x1a6eda,_0x316e4b=await this[_0x27b192(0x27c)]['managedClusters'][_0x27b192(0x1e8)](global_registry[_0x27b192(0x218)],this['clusterName']),_0xaeab99=_0x316e4b[_0x27b192(0x1d5)][0x0][_0x27b192(0x1b7)]['toString']();return _0xaeab99;}[a1_0x1a6eda(0x1b8)](_0x4a993d){const _0x1e928b=a1_0x1a6eda;return _0x4a993d[_0x1e928b(0x282)][_0x1e928b(0x239)][_0x1e928b(0xce)][0x0][_0x1e928b(0x24d)];}async[a1_0x1a6eda(0xcc)](){const _0x3dc138=a1_0x1a6eda,_0x365ba3={};_0x365ba3[_0x3dc138(0xdd)]=_0x3dc138(0x210),_0x365ba3[_0x3dc138(0xc5)]='Enabling\x20Workload\x20identity\x20for\x20the\x20cluster',_0x365ba3['zovKq']=function(_0x4606e3,_0x53d34d){return _0x4606e3===_0x53d34d;},_0x365ba3[_0x3dc138(0x22b)]=_0x3dc138(0xe4),_0x365ba3[_0x3dc138(0x135)]=function(_0x3ff1c4,_0x5a4080){return _0x3ff1c4!==_0x5a4080;},_0x365ba3[_0x3dc138(0x155)]=_0x3dc138(0xfe),_0x365ba3['suFAe']='ExLGN',_0x365ba3[_0x3dc138(0x11d)]=function(_0x48c76c,_0x1f8e18){return _0x48c76c!==_0x1f8e18;},_0x365ba3[_0x3dc138(0xd9)]=_0x3dc138(0x21d),_0x365ba3[_0x3dc138(0x205)]='BoKxi';const _0x8b0978=_0x365ba3,_0x46b662=new Array();for await(const _0x1c3269 of this[_0x3dc138(0x27c)][_0x3dc138(0x268)][_0x3dc138(0x12f)](global_registry[_0x3dc138(0x218)])){if(_0x8b0978['zovKq'](_0x8b0978[_0x3dc138(0x22b)],_0x8b0978[_0x3dc138(0x22b)]))_0x46b662[_0x3dc138(0x12d)](_0x1c3269);else return _0x281bab[_0x3dc138(0x282)]['loadBalancer'][_0x3dc138(0xce)][0x0][_0x3dc138(0x24d)];}for await(const _0x1faae8 of _0x46b662){if(_0x8b0978[_0x3dc138(0x135)](_0x8b0978[_0x3dc138(0x155)],_0x8b0978[_0x3dc138(0x1a2)])){if(_0x8b0978[_0x3dc138(0x16e)](_0x1faae8[_0x3dc138(0x223)],this[_0x3dc138(0x1f8)]))return _0x8b0978['NVuoy'](_0x8b0978['aVVAG'],_0x8b0978[_0x3dc138(0x205)])?(await this[_0x3dc138(0xd3)](),!![]):(_0x548d62[_0x3dc138(0x242)]=_0x8b0978[_0x3dc138(0xdd)],_0x10133f);}else{_0x391402[_0x3dc138(0x1a7)](_0x8b0978['NhvTB']);const _0x41c242={};_0x41c242['type']=_0xcaf658[_0x3dc138(0x1f6)],_0x41c242[_0x3dc138(0x18e)]=_0x8b0978['NhvTB'],this[_0x3dc138(0x296)][_0x3dc138(0x262)](this[_0x3dc138(0x1ba)],_0x41c242);const _0x58c903={};_0x58c903[_0x3dc138(0xff)]=!![];const _0x1b2cf9={'workloadIdentity':_0x58c903,..._0x45fa6f['securityProfile']};_0x12a36b[_0x3dc138(0x182)]=_0x1b2cf9;}}return![];}async[a1_0x1a6eda(0x1fa)](_0x3d0a73=null,_0x2730ff=null){const _0x44b2ba=a1_0x1a6eda,_0xaba287={};_0xaba287[_0x44b2ba(0xd1)]='3|0|4|5|2|1',_0xaba287[_0x44b2ba(0x24e)]=_0x44b2ba(0x2a4);const _0x331d39=_0xaba287,_0x2709f8=_0x331d39[_0x44b2ba(0xd1)][_0x44b2ba(0x10e)]('|');let _0x1955ab=0x0;while(!![]){switch(_0x2709f8[_0x1955ab++]){case'0':const _0x52fdad={};_0x52fdad['type']=WS_EVENTS[_0x44b2ba(0xe3)],_0x52fdad[_0x44b2ba(0x18e)]=_0x331d39[_0x44b2ba(0x24e)],this['webSocketUtils'][_0x44b2ba(0x262)](this[_0x44b2ba(0x1ba)],_0x52fdad);continue;case'1':return[_0x3d0a73,_0x2730ff];case'2':await this[_0x44b2ba(0xe2)]();continue;case'3':this[_0x44b2ba(0x2b2)]();continue;case'4':logger[_0x44b2ba(0x1a7)](_0x331d39[_0x44b2ba(0x24e)]);continue;case'5':await this[_0x44b2ba(0x164)](_0x3d0a73,_0x2730ff);continue;}break;}}async[a1_0x1a6eda(0x164)](_0x5217c8=null,_0x20cbb1=null){const _0x5ca1d6=a1_0x1a6eda,_0x1adf1e={};_0x1adf1e[_0x5ca1d6(0x1bb)]=_0x5ca1d6(0x25c),_0x1adf1e[_0x5ca1d6(0x127)]=_0x5ca1d6(0x105),_0x1adf1e[_0x5ca1d6(0x1c5)]='akscluster.json',_0x1adf1e[_0x5ca1d6(0x244)]=_0x5ca1d6(0x217),_0x1adf1e[_0x5ca1d6(0x240)]=function(_0x5b5ea6,_0x4e387d){return _0x5b5ea6!==_0x4e387d;},_0x1adf1e[_0x5ca1d6(0x22c)]=function(_0x46d664,_0x5cda9c){return _0x46d664!==_0x5cda9c;},_0x1adf1e[_0x5ca1d6(0x29b)]=function(_0x28c9e5,_0x170a5d){return _0x28c9e5===_0x170a5d;},_0x1adf1e[_0x5ca1d6(0x1b3)]=_0x5ca1d6(0x146),_0x1adf1e[_0x5ca1d6(0x141)]=_0x5ca1d6(0x214),_0x1adf1e[_0x5ca1d6(0x104)]=_0x5ca1d6(0x1ce),_0x1adf1e['QNkqR']=_0x5ca1d6(0x12b),_0x1adf1e[_0x5ca1d6(0x271)]=_0x5ca1d6(0x264),_0x1adf1e[_0x5ca1d6(0x1f9)]='[variables(\x27vnetSubnetID\x27)]',_0x1adf1e[_0x5ca1d6(0x29c)]='turboscale-cluster-deployment',_0x1adf1e[_0x5ca1d6(0x130)]=_0x5ca1d6(0x22d);const _0x1b884c=_0x1adf1e;let _0x2be834=await fs['readFileAsync'](path[_0x5ca1d6(0x11c)](__dirname,'..',_0x1b884c['msAzE'],_0x1b884c[_0x5ca1d6(0x127)],_0x1b884c[_0x5ca1d6(0x1c5)]),_0x1b884c['UHIMN']);_0x2be834=JSON[_0x5ca1d6(0x194)](_0x2be834);const _0x3e38d={};_0x3e38d[_0x5ca1d6(0x1b7)]=this[_0x5ca1d6(0x1f8)];const _0x32968c={};_0x32968c['value']=global_registry[_0x5ca1d6(0xf3)];const _0x5bf0d8={};_0x5bf0d8[_0x5ca1d6(0x1b7)]=global_registry[_0x5ca1d6(0x151)];const _0x5cbc12={};_0x5cbc12[_0x5ca1d6(0x1b7)]=global_registry[_0x5ca1d6(0x1c9)];const _0x388074={};_0x388074[_0x5ca1d6(0x1f8)]=_0x3e38d,_0x388074[_0x5ca1d6(0x22e)]=_0x32968c,_0x388074[_0x5ca1d6(0x136)]=_0x5bf0d8,_0x388074[_0x5ca1d6(0x168)]=_0x5cbc12;let _0x1a2f82=_0x388074;if(_0x1b884c[_0x5ca1d6(0x240)](_0x5217c8,null)&&_0x1b884c[_0x5ca1d6(0x22c)](_0x20cbb1,null)){if(_0x1b884c[_0x5ca1d6(0x29b)](_0x1b884c[_0x5ca1d6(0x1b3)],_0x1b884c['frgtJ']))return _0x3c517c['error'](_0x5ca1d6(0x160)+_0x1da80a+':'+_0x49814['stack']),{};else{const _0x34dbe2={};_0x34dbe2[_0x5ca1d6(0x103)]=_0x1b884c[_0x5ca1d6(0x104)],_0x34dbe2[_0x5ca1d6(0x20f)]={},_0x34dbe2[_0x5ca1d6(0x20f)][_0x5ca1d6(0x108)]=_0x1b884c['QNkqR'];const _0x46eaf6={};_0x46eaf6[_0x5ca1d6(0x103)]=_0x1b884c[_0x5ca1d6(0x104)],_0x46eaf6[_0x5ca1d6(0x20f)]={},_0x46eaf6[_0x5ca1d6(0x20f)][_0x5ca1d6(0x108)]=_0x1b884c[_0x5ca1d6(0x26e)],_0x2be834[_0x5ca1d6(0x1d1)]={..._0x2be834[_0x5ca1d6(0x1d1)],'vpcName':_0x34dbe2,'subnetName':_0x46eaf6};const _0x31e786={};_0x31e786['vnetSubnetID']=_0x1b884c['fasSJ'],_0x2be834[_0x5ca1d6(0x284)]=_0x31e786,_0x2be834['resources'][0x0][_0x5ca1d6(0x2a5)][_0x5ca1d6(0x166)][0x0]={..._0x2be834[_0x5ca1d6(0x256)][0x0][_0x5ca1d6(0x2a5)][_0x5ca1d6(0x166)][0x0],'vnetSubnetID':_0x1b884c[_0x5ca1d6(0x1f9)]};const _0x2bdf4e={};_0x2bdf4e[_0x5ca1d6(0x1b7)]=_0x5217c8;const _0x1eb871={};_0x1eb871[_0x5ca1d6(0x1b7)]=_0x20cbb1[0x0],_0x1a2f82={..._0x1a2f82,'vpcName':_0x2bdf4e,'subnetName':_0x1eb871};}}await this['resourceClient'][_0x5ca1d6(0x291)][_0x5ca1d6(0x1c4)](global_registry[_0x5ca1d6(0x218)],_0x1b884c[_0x5ca1d6(0x29c)],{'properties':{'template':_0x2be834,'mode':_0x1b884c[_0x5ca1d6(0x130)],'parameters':_0x1a2f82}});}async[a1_0x1a6eda(0xe2)](){const _0x59ad5d=a1_0x1a6eda,_0x2fa867={};_0x2fa867[_0x59ad5d(0xd4)]=_0x59ad5d(0x201),_0x2fa867[_0x59ad5d(0x232)]=function(_0x444a9f,_0x507a86){return _0x444a9f!==_0x507a86;},_0x2fa867[_0x59ad5d(0x220)]=_0x59ad5d(0x1ae),_0x2fa867['EeTkP']=_0x59ad5d(0x17f),_0x2fa867[_0x59ad5d(0x18c)]='Creating\x20Azure\x20storage\x20account',_0x2fa867[_0x59ad5d(0x1b5)]=function(_0x23c9a0,_0x561018){return _0x23c9a0===_0x561018;},_0x2fa867['yTEqz']='bdWKO',_0x2fa867['NTEpt']='HYWHZ',_0x2fa867[_0x59ad5d(0xe1)]=_0x59ad5d(0x19b),_0x2fa867[_0x59ad5d(0xd8)]=function(_0x19e268,_0x4bc9cf){return _0x19e268!==_0x4bc9cf;},_0x2fa867[_0x59ad5d(0x1db)]='LSPRO',_0x2fa867['hTuMq']=_0x59ad5d(0x1a6),_0x2fa867[_0x59ad5d(0x1bf)]=function(_0xbbae3f,_0x22bd01){return _0xbbae3f!==_0x22bd01;},_0x2fa867['zdech']=_0x59ad5d(0x116),_0x2fa867['qmmUN']=_0x59ad5d(0x26c),_0x2fa867[_0x59ad5d(0x28a)]=_0x59ad5d(0x1cb),_0x2fa867[_0x59ad5d(0x175)]='Created\x20Azure\x20federated\x20identity';const _0x113013=_0x2fa867,_0x49696b=await this['isStorageAccountPresent']();if(!_0x49696b){if(_0x113013[_0x59ad5d(0x232)](_0x113013[_0x59ad5d(0x220)],_0x113013[_0x59ad5d(0x27b)])){const _0x8501d1={};_0x8501d1[_0x59ad5d(0x103)]=WS_EVENTS[_0x59ad5d(0xe3)],_0x8501d1[_0x59ad5d(0x18e)]=_0x113013['YXqBO'],this[_0x59ad5d(0x296)][_0x59ad5d(0x262)](this[_0x59ad5d(0x1ba)],_0x8501d1),logger[_0x59ad5d(0x1a7)](_0x113013['YXqBO']),await this[_0x59ad5d(0x275)]();}else{const _0xd7a085={};_0xd7a085[_0x59ad5d(0x282)]=!![],_0xd7a085[_0x59ad5d(0x1e4)]=null,_0xd7a085[_0x59ad5d(0x242)]=_0x113013[_0x59ad5d(0xd4)];const _0x4a3bc8=_0xd7a085;return _0x4a3bc8;}}else _0x113013[_0x59ad5d(0x1b5)](_0x113013['yTEqz'],_0x113013[_0x59ad5d(0x204)])?_0x5b8480['exit'](0x0):logger[_0x59ad5d(0x1a7)](_0x113013[_0x59ad5d(0xe1)]);const _0x5743af=await this[_0x59ad5d(0x18d)]();if(!_0x5743af){if(_0x113013[_0x59ad5d(0xd8)](_0x113013[_0x59ad5d(0x1db)],_0x113013['ltTEh']))_0x56dddc[_0x59ad5d(0x1c8)][_0x59ad5d(0x12d)](_0x1df279);else{const _0xf8f332={};_0xf8f332[_0x59ad5d(0x103)]=WS_EVENTS['LOG'],_0xf8f332[_0x59ad5d(0x18e)]=_0x113013['hTuMq'],this[_0x59ad5d(0x296)][_0x59ad5d(0x262)](this[_0x59ad5d(0x1ba)],_0xf8f332),logger[_0x59ad5d(0x1a7)](_0x113013[_0x59ad5d(0x179)]),await this[_0x59ad5d(0x23a)]();}}else{if(_0x113013['voeFd'](_0x113013[_0x59ad5d(0x1d0)],_0x113013[_0x59ad5d(0x1d0)]))return _0x553514[_0x59ad5d(0x1e4)]=_0x15c642[_0x59ad5d(0x1e4)],_0x375a36;else logger[_0x59ad5d(0x1a7)](_0x113013['qmmUN']);}logger[_0x59ad5d(0x1a7)](_0x113013['zrQqW']),await this[_0x59ad5d(0x21b)](),logger[_0x59ad5d(0x1a7)](_0x113013['KCPLH']);}async[a1_0x1a6eda(0x275)](){const _0x430b34=a1_0x1a6eda,_0x2f40b1={};_0x2f40b1[_0x430b34(0x2a9)]=_0x430b34(0x25c),_0x2f40b1[_0x430b34(0x226)]=_0x430b34(0x105),_0x2f40b1[_0x430b34(0x20a)]=_0x430b34(0x144),_0x2f40b1[_0x430b34(0x2ab)]='utf-8',_0x2f40b1[_0x430b34(0x1fd)]=_0x430b34(0xeb),_0x2f40b1['QKgCm']=_0x430b34(0x22d),_0x2f40b1[_0x430b34(0x277)]=_0x430b34(0x287),_0x2f40b1[_0x430b34(0x297)]=_0x430b34(0x18f),_0x2f40b1[_0x430b34(0x187)]=_0x430b34(0x1b6),_0x2f40b1[_0x430b34(0x19d)]=_0x430b34(0x193);const _0x3953c8=_0x2f40b1;let _0x326689=await fs[_0x430b34(0x231)](path['join'](__dirname,'..',_0x3953c8['miftO'],_0x3953c8[_0x430b34(0x226)],_0x3953c8[_0x430b34(0x20a)]),_0x3953c8[_0x430b34(0x2ab)]);_0x326689=JSON[_0x430b34(0x194)](_0x326689);const _0x509d0c=this['getStorageAccountName'](),_0x325d5e={};_0x325d5e[_0x430b34(0x1b7)]=_0x509d0c;const _0x47bd6c={};_0x47bd6c[_0x430b34(0x153)]=_0x325d5e,await this[_0x430b34(0x286)][_0x430b34(0x291)][_0x430b34(0x1c4)](global_registry['cloudProviderResourceGroup'],_0x3953c8[_0x430b34(0x1fd)],{'properties':{'template':_0x326689,'mode':_0x3953c8[_0x430b34(0x16c)],'parameters':_0x47bd6c}});const _0x35ba0e={};_0x35ba0e['daysAfterCreationGreaterThan']=0x3c;const _0x10b6bd={};_0x10b6bd[_0x430b34(0x10a)]=_0x35ba0e;const _0x151e1d={};_0x151e1d[_0x430b34(0x14f)]=_0x10b6bd;const _0xa8e143={};_0xa8e143[_0x430b34(0xff)]=!![],_0xa8e143[_0x430b34(0x223)]=_0x3953c8[_0x430b34(0x277)],_0xa8e143['type']=_0x3953c8[_0x430b34(0x297)],_0xa8e143[_0x430b34(0x203)]={},_0xa8e143[_0x430b34(0x203)]['actions']=_0x151e1d,_0xa8e143[_0x430b34(0x203)][_0x430b34(0x10b)]={},_0xa8e143[_0x430b34(0x203)][_0x430b34(0x10b)][_0x430b34(0x139)]=[_0x3953c8[_0x430b34(0x187)]];const _0x378d5e={};_0x378d5e['rules']=[_0xa8e143];const _0x27d106={};_0x27d106['policy']=_0x378d5e;const _0x38db21=_0x27d106;await this['storageClient'][_0x430b34(0x132)][_0x430b34(0x2aa)](global_registry[_0x430b34(0x218)],_0x509d0c,_0x3953c8[_0x430b34(0x19d)],_0x38db21);}async[a1_0x1a6eda(0x23a)](){const _0x35dcc3=a1_0x1a6eda,_0x5f0e1f={};_0x5f0e1f['iKVMO']='templates',_0x5f0e1f[_0x35dcc3(0x29d)]=_0x35dcc3(0x105),_0x5f0e1f[_0x35dcc3(0x1b4)]=_0x35dcc3(0x27e),_0x5f0e1f[_0x35dcc3(0x1a1)]=_0x35dcc3(0x217),_0x5f0e1f[_0x35dcc3(0xe9)]=_0x35dcc3(0x1be),_0x5f0e1f['RaTUb']='Incremental';const _0x363747=_0x5f0e1f;let _0x336739=await fs[_0x35dcc3(0x231)](path['join'](__dirname,'..',_0x363747[_0x35dcc3(0x1da)],_0x363747[_0x35dcc3(0x29d)],_0x363747['GMWrQ']),_0x363747[_0x35dcc3(0x1a1)]);_0x336739=JSON['parse'](_0x336739),await this[_0x35dcc3(0x286)]['deployments'][_0x35dcc3(0x1c4)](global_registry[_0x35dcc3(0x218)],_0x363747[_0x35dcc3(0xe9)],{'properties':{'template':_0x336739,'mode':_0x363747[_0x35dcc3(0x154)],'parameters':{'clusterName':{'value':this[_0x35dcc3(0x1f8)]}}}});}async['createFederatedAccount'](){const _0x2f771c=a1_0x1a6eda,_0x5673e2={};_0x5673e2[_0x2f771c(0x21c)]=function(_0xae97f3,_0x4a2cd3){return _0xae97f3===_0x4a2cd3;},_0x5673e2[_0x2f771c(0x1a8)]=_0x2f771c(0x12c),_0x5673e2[_0x2f771c(0x26d)]=function(_0x5b903b,_0x5c14f6){return _0x5b903b!==_0x5c14f6;},_0x5673e2['Dhekw']=_0x2f771c(0x27f),_0x5673e2['qaunY']='hub',_0x5673e2[_0x2f771c(0x209)]=_0x2f771c(0x1ef),_0x5673e2['tbOAY']=_0x2f771c(0x272),_0x5673e2['fnxmp']='BxoEx',_0x5673e2['KRsYs']=_0x2f771c(0x25c),_0x5673e2[_0x2f771c(0x184)]=_0x2f771c(0x105),_0x5673e2[_0x2f771c(0xd5)]=_0x2f771c(0x217),_0x5673e2[_0x2f771c(0x290)]=_0x2f771c(0x180),_0x5673e2[_0x2f771c(0xdc)]=_0x2f771c(0x22d);const _0x1df949=_0x5673e2;if(!this[_0x2f771c(0x251)]){if(_0x1df949[_0x2f771c(0x26d)](_0x1df949[_0x2f771c(0x183)],_0x1df949[_0x2f771c(0x183)])){if(_0x1df949[_0x2f771c(0x21c)](_0x545f2d[_0x2f771c(0x223)],_0x496b33))return!![];}else await this[_0x2f771c(0xd3)]();}const _0x188a5e=this[_0x2f771c(0x251)]?.[_0x2f771c(0x276)]?.['issuerURL'],_0x40e624=[_0x1df949[_0x2f771c(0x228)],_0x1df949[_0x2f771c(0x209)]];for await(const _0x54e304 of _0x40e624){if(_0x1df949[_0x2f771c(0x21c)](_0x1df949[_0x2f771c(0x2ae)],_0x1df949['fnxmp']))_0x430bc2[_0x2f771c(0x1e4)](_0x1df949[_0x2f771c(0x1a8)]),_0x19e4cf[_0x2f771c(0x11e)](0x1);else{let _0x25efba=await fs[_0x2f771c(0x231)](path[_0x2f771c(0x11c)](__dirname,'..',_0x1df949[_0x2f771c(0x236)],_0x1df949['BrbNR'],_0x2f771c(0x1c6)+_0x54e304+_0x2f771c(0x263)),_0x1df949[_0x2f771c(0xd5)]);_0x25efba=JSON[_0x2f771c(0x194)](_0x25efba);const _0x251f2d={};_0x251f2d[_0x2f771c(0x1b7)]=_0x188a5e,await this[_0x2f771c(0x286)][_0x2f771c(0x291)][_0x2f771c(0x1c4)](global_registry[_0x2f771c(0x218)],_0x1df949[_0x2f771c(0x290)],{'properties':{'template':_0x25efba,'mode':_0x1df949[_0x2f771c(0xdc)],'parameters':{'oidcIssuer':_0x251f2d,'gridName':{'value':this['gridName']},'clusterName':{'value':this[_0x2f771c(0x1f8)]}}}});}}}async[a1_0x1a6eda(0x18b)](_0x42ef41,_0x2edc6a,_0x5c9f5d,_0x3b7418,_0x5f5ca7){const _0x566588=a1_0x1a6eda,_0x5665d8={};_0x5665d8[_0x566588(0x269)]=_0x566588(0x19a),_0x5665d8[_0x566588(0x279)]=_0x566588(0x1ea);const _0x469ee1=_0x5665d8,_0x3ef2fc={};_0x3ef2fc[_0x566588(0x103)]=WS_EVENTS[_0x566588(0xe3)],_0x3ef2fc['message']=_0x469ee1['wyTYF'],this[_0x566588(0x296)][_0x566588(0x262)](this[_0x566588(0x1ba)],_0x3ef2fc),logger[_0x566588(0x1a7)](_0x469ee1[_0x566588(0x269)]),await this[_0x566588(0x2a1)]();const _0x1bfba3={};_0x1bfba3[_0x566588(0x103)]=WS_EVENTS['LOG'],_0x1bfba3[_0x566588(0x18e)]=_0x469ee1[_0x566588(0x279)],this[_0x566588(0x296)]['sendEventToBackend'](this[_0x566588(0x1ba)],_0x1bfba3);}async[a1_0x1a6eda(0x2a1)](){const _0xc03487=a1_0x1a6eda,_0x1ddfd7={};_0x1ddfd7[_0xc03487(0x188)]=function(_0x50b879,_0xa786e5){return _0x50b879!==_0xa786e5;},_0x1ddfd7[_0xc03487(0xf0)]=_0xc03487(0x161),_0x1ddfd7['sREXJ']=_0xc03487(0x25c),_0x1ddfd7[_0xc03487(0x13d)]=_0xc03487(0x281),_0x1ddfd7[_0xc03487(0x292)]=_0xc03487(0x23c),_0x1ddfd7[_0xc03487(0xdb)]=_0xc03487(0x217),_0x1ddfd7[_0xc03487(0x176)]=_0xc03487(0x180),_0x1ddfd7[_0xc03487(0x294)]=_0xc03487(0x22d);const _0x30226b=_0x1ddfd7;!this['clusterInfo']&&(_0x30226b['rxYPz'](_0x30226b[_0xc03487(0xf0)],_0x30226b['EtigZ'])?_0x1d138e=_0x2705bc['id']:await this['getClusterInfo']());const _0x553a73=this[_0xc03487(0x251)]?.[_0xc03487(0x276)]?.[_0xc03487(0x28c)];let _0x584dbf=await fs[_0xc03487(0x231)](path[_0xc03487(0x11c)](__dirname,'..',_0x30226b[_0xc03487(0x1e5)],_0x30226b['mUBFC'],_0x30226b[_0xc03487(0x292)]),_0x30226b[_0xc03487(0xdb)]);_0x584dbf=JSON['parse'](_0x584dbf);const _0x47b2cc={};_0x47b2cc[_0xc03487(0x1b7)]=_0x553a73,await this[_0xc03487(0x286)][_0xc03487(0x291)][_0xc03487(0x1c4)](global_registry[_0xc03487(0x218)],_0x30226b[_0xc03487(0x176)],{'properties':{'template':_0x584dbf,'mode':_0x30226b[_0xc03487(0x294)],'parameters':{'oidcIssuer':_0x47b2cc,'namespace':{'value':global_registry['hubHaNameSpace']},'clusterName':{'value':this[_0xc03487(0x1f8)]}}}});}async[a1_0x1a6eda(0x1d3)](){const _0x3308ae=a1_0x1a6eda,_0x445863={};_0x445863[_0x3308ae(0xe8)]=function(_0x444a12,_0x101a86){return _0x444a12===_0x101a86;},_0x445863[_0x3308ae(0xc2)]=function(_0x69a819,_0x546cc0){return _0x69a819!==_0x546cc0;},_0x445863['QsAEu']=_0x3308ae(0x1f2),_0x445863[_0x3308ae(0x1fb)]=_0x3308ae(0x181),_0x445863[_0x3308ae(0x254)]=_0x3308ae(0x16b),_0x445863[_0x3308ae(0xf8)]=_0x3308ae(0x128),_0x445863[_0x3308ae(0xc8)]=_0x3308ae(0x265),_0x445863[_0x3308ae(0x1c3)]=_0x3308ae(0x2b6);const _0x1808db=_0x445863,_0x44ad8d=this[_0x3308ae(0x20d)](),_0x54289c=new Array();for await(const _0x4de8cf of this[_0x3308ae(0x16d)][_0x3308ae(0xed)][_0x3308ae(0x12f)](global_registry[_0x3308ae(0x218)])){_0x1808db['SMayB'](_0x1808db[_0x3308ae(0x16a)],_0x1808db[_0x3308ae(0x1fb)])?_0x54289c[_0x3308ae(0x12d)](_0x4de8cf):_0x3475b8[_0x3308ae(0x1e4)]=_0x533364;}for await(const _0x4a4531 of _0x54289c){if(_0x1808db[_0x3308ae(0xe8)](_0x1808db[_0x3308ae(0x254)],_0x1808db[_0x3308ae(0xf8)]))return;else{if(_0x1808db[_0x3308ae(0xe8)](_0x4a4531[_0x3308ae(0x223)],_0x44ad8d)){if(_0x1808db[_0x3308ae(0xc2)](_0x1808db[_0x3308ae(0xc8)],_0x1808db[_0x3308ae(0x1c3)]))return!![];else{if(_0x1808db[_0x3308ae(0xe8)](_0x35e8b3[_0x3308ae(0x223)],_0x2fed20))return!![];}}}}return![];}async['isManagedIdentityPresent'](){const _0x2edf7b=a1_0x1a6eda,_0x4659bd={};_0x4659bd[_0x2edf7b(0x11f)]=function(_0x3fcbf5,_0x47d1a9){return _0x3fcbf5===_0x47d1a9;},_0x4659bd[_0x2edf7b(0x252)]=_0x2edf7b(0xc7),_0x4659bd[_0x2edf7b(0x2a3)]=function(_0x12ae24,_0x1bf376){return _0x12ae24!==_0x1bf376;},_0x4659bd[_0x2edf7b(0x207)]=_0x2edf7b(0x1bd),_0x4659bd['WjfyA']='ZYeym',_0x4659bd[_0x2edf7b(0x11b)]=function(_0x97721a,_0xa2b1a0){return _0x97721a===_0xa2b1a0;},_0x4659bd['gxJUh']=_0x2edf7b(0x17c),_0x4659bd[_0x2edf7b(0x14c)]=_0x2edf7b(0x1e7);const _0x620ec4=_0x4659bd,_0x50d8f4=new Array();for await(const _0x34b28c of this[_0x2edf7b(0x286)]['resources'][_0x2edf7b(0x12f)](global_registry[_0x2edf7b(0x218)])){if(_0x620ec4[_0x2edf7b(0x11f)](_0x620ec4[_0x2edf7b(0x252)],_0x620ec4[_0x2edf7b(0x252)]))_0x50d8f4[_0x2edf7b(0x12d)](_0x34b28c);else return!![];}for await(const _0x27b9ae of _0x50d8f4){if(_0x620ec4[_0x2edf7b(0x2a3)](_0x620ec4['HsgWD'],_0x620ec4[_0x2edf7b(0x22a)])){if(_0x620ec4[_0x2edf7b(0x11b)](_0x27b9ae[_0x2edf7b(0x223)],'turboscale-managed-identity-'+this[_0x2edf7b(0x1f8)]))return _0x620ec4[_0x2edf7b(0x2a3)](_0x620ec4[_0x2edf7b(0x221)],_0x620ec4[_0x2edf7b(0x14c)])?!![]:!![];}else return _0x378783['error'](_0x2edf7b(0x1e6)+_0x3f5ee9+_0x2edf7b(0x1ad)+_0x3870d9),[![],[]];}return![];}async[a1_0x1a6eda(0x111)](_0x51632f,_0x51386e=0x3){const _0x429aea=a1_0x1a6eda,_0x161ea5={'ZByjK':function(_0x853af4,_0x5a8550,_0x3e005b){return _0x853af4(_0x5a8550,_0x3e005b);},'mNWCF':_0x429aea(0x259),'nzPCj':function(_0x509b2e,_0x403c7d){return _0x509b2e===_0x403c7d;},'ySQvo':_0x429aea(0xe7),'WnnBz':function(_0xbe84e1,_0x1ea97d){return _0xbe84e1!==_0x1ea97d;},'onDmm':_0x429aea(0x1e0),'CxZZg':_0x429aea(0x255),'VspyM':function(_0x576029,_0x2219ed,_0x2b2400){return _0x576029(_0x2219ed,_0x2b2400);},'irQHb':_0x429aea(0xec),'MTqrk':_0x429aea(0x192),'oADkp':'JZabl','ivOif':_0x429aea(0x150),'zHIEx':_0x429aea(0x1eb),'kUVnm':'2023-01-31','mydEU':_0x429aea(0x1a0),'OBiwJ':function(_0x577c24,_0x384fd6){return _0x577c24<=_0x384fd6;},'MsOIN':function(_0x35864f,_0x3640d5){return _0x35864f===_0x3640d5;},'qhSGa':_0x429aea(0x2a7),'beATa':function(_0x1c49d7,_0x9c5aa2){return _0x1c49d7-_0x9c5aa2;}};try{if(_0x161ea5[_0x429aea(0x2b1)](_0x161ea5[_0x429aea(0x229)],_0x161ea5[_0x429aea(0x229)])){const _0x54353f=new Array();for await(const _0x380b48 of this[_0x429aea(0x286)][_0x429aea(0x256)][_0x429aea(0x12f)](global_registry[_0x429aea(0x218)])){_0x161ea5[_0x429aea(0x1cc)](_0x161ea5['MTqrk'],_0x161ea5[_0x429aea(0x26a)])?_0x7c7f7d[_0x429aea(0x12d)](_0x27d1d1):_0x54353f['push'](_0x380b48);}let _0x3c69cc='';for await(const _0x43650d of _0x54353f){if(_0x161ea5[_0x429aea(0x2b1)](_0x161ea5[_0x429aea(0x1e1)],_0x161ea5[_0x429aea(0x1e1)]))_0x161ea5[_0x429aea(0x2b1)](_0x43650d[_0x429aea(0x223)],_0x51632f)&&(_0x161ea5[_0x429aea(0x1cc)](_0x161ea5[_0x429aea(0x1cf)],_0x161ea5[_0x429aea(0x1d4)])?_0x3c69cc=_0x43650d['id']:_0x161ea5[_0x429aea(0x1a3)](_0x1a7fd1,()=>_0x2ae426(),0x3e8));else{_0x37406a[_0x429aea(0x1a7)](_0x161ea5[_0x429aea(0x257)]);const _0x831d27={};_0x831d27[_0x429aea(0x103)]=_0x1c2098[_0x429aea(0x1f6)],_0x831d27['message']=_0x161ea5['mNWCF'],this[_0x429aea(0x296)]['sendEventToBackend'](this[_0x429aea(0x1ba)],_0x831d27),_0x27a384[_0x429aea(0x276)][_0x429aea(0xff)]=!![];}}const _0x28f7c0=await this[_0x429aea(0x286)][_0x429aea(0x256)][_0x429aea(0x185)](_0x3c69cc,_0x161ea5[_0x429aea(0x25b)]);return _0x28f7c0[_0x429aea(0x2a5)][_0x429aea(0x1af)];}else _0x161ea5[_0x429aea(0x2b1)](_0x35f2f4[_0x429aea(0x223)],_0x340ff4)&&(_0x3aecdd=_0x56a597['id']);}catch(_0x2b87dc){if(_0x161ea5[_0x429aea(0x1cc)](_0x161ea5[_0x429aea(0x140)],_0x161ea5[_0x429aea(0x140)]))_0x4a0aaf[_0x429aea(0x282)]=![];else{if(_0x161ea5[_0x429aea(0x126)](_0x51386e,0x0)){if(_0x161ea5[_0x429aea(0x14a)](_0x161ea5['qhSGa'],_0x161ea5[_0x429aea(0x15b)]))return logger[_0x429aea(0x1e4)](_0x429aea(0x160)+_0x2b87dc+':'+_0x2b87dc[_0x429aea(0x149)]),{};else throw new _0x2c53ab(_0x161ea5['ySQvo'],'Received\x20response\x20-\x20'+_0xb35249[_0x429aea(0x19f)](_0x220c35));}return await new Promise(_0x3cb1c=>{const _0x38fbd0=_0x429aea;_0x161ea5['WnnBz'](_0x161ea5[_0x38fbd0(0x1f4)],_0x161ea5[_0x38fbd0(0x14e)])?_0x161ea5[_0x38fbd0(0x1a4)](setTimeout,()=>_0x3cb1c(),0x3e8):_0x467d8b[_0x38fbd0(0x1e4)]=_0x199f32;}),this[_0x429aea(0x111)](_0x51632f,_0x161ea5[_0x429aea(0x102)](_0x51386e,0x1));}}}async['isBrowserstackCluster'](){const _0x4a0150=a1_0x1a6eda,_0x1c4105={};_0x1c4105[_0x4a0150(0x1ed)]=function(_0x5ef98e,_0xe0bad6){return _0x5ef98e+_0xe0bad6;},_0x1c4105[_0x4a0150(0x147)]=function(_0x574706,_0x5f3f4a){return _0x574706!==_0x5f3f4a;},_0x1c4105[_0x4a0150(0x26b)]=_0x4a0150(0x1cd),_0x1c4105['MGQRy']=function(_0x588fe3,_0xd7a742){return _0x588fe3===_0xd7a742;},_0x1c4105[_0x4a0150(0xcd)]='browserstack:managedBy',_0x1c4105[_0x4a0150(0x13e)]=_0x4a0150(0x21f),_0x1c4105[_0x4a0150(0xfc)]=_0x4a0150(0x237);const _0x334a27=_0x1c4105;if(!this[_0x4a0150(0x251)]){if(_0x334a27[_0x4a0150(0x147)](_0x334a27[_0x4a0150(0x26b)],_0x334a27['ZAnsH']))return!![];else await this[_0x4a0150(0xd3)]();}const _0x134cdc=this[_0x4a0150(0x251)]?.[_0x4a0150(0x1ec)]||{};if(_0x134cdc&&_0x334a27[_0x4a0150(0x216)](_0x134cdc[_0x334a27[_0x4a0150(0xcd)]],_0x334a27['quENW'])){if(_0x334a27[_0x4a0150(0x147)](_0x334a27[_0x4a0150(0xfc)],_0x334a27[_0x4a0150(0xfc)]))_0x5b1bf7['log']('['+_0x334a27[_0x4a0150(0x1ed)](_0x885d6a,0x1)+']\x20'+_0x5799e6[_0x13f3dd]);else return!![];}return![];}async['deleteCluster'](_0x21d3f0,_0x4c13ca){const _0x40ce1e=a1_0x1a6eda,_0x2e96bd={'HUidf':function(_0x186106,_0x4d3267){return _0x186106(_0x4d3267);},'jerRH':_0x40ce1e(0xc4)};await _0x2e96bd[_0x40ce1e(0x1fe)](deleteAgent,_0x21d3f0),await _0x2e96bd['HUidf'](deleteRoutingDeps,_0x21d3f0);const _0x31d241=this[_0x40ce1e(0x27c)];logger[_0x40ce1e(0x1a7)]('Deleting\x20the\x20cluster\x20'+this['clusterName']),await _0x31d241['managedClusters'][_0x40ce1e(0x25d)](global_registry[_0x40ce1e(0x218)],this[_0x40ce1e(0x1f8)]),logger[_0x40ce1e(0x1a7)](_0x2e96bd['jerRH']);}async[a1_0x1a6eda(0x1bc)](){const _0x5bc389=a1_0x1a6eda,_0x3bccc3={};_0x3bccc3['kJTUF']=_0x5bc389(0x213),_0x3bccc3[_0x5bc389(0x200)]=_0x5bc389(0x21e),_0x3bccc3[_0x5bc389(0x23b)]=function(_0x422bdd,_0x15dbb7){return _0x422bdd===_0x15dbb7;},_0x3bccc3[_0x5bc389(0x1d7)]=_0x5bc389(0xfa),_0x3bccc3[_0x5bc389(0x29a)]=_0x5bc389(0x13c),_0x3bccc3[_0x5bc389(0x1aa)]='yRimH',_0x3bccc3[_0x5bc389(0x2a2)]=function(_0x5c0205,_0x3f1fdf){return _0x5c0205&&_0x3f1fdf;},_0x3bccc3[_0x5bc389(0x2b3)]='zcjva',_0x3bccc3[_0x5bc389(0x24c)]=_0x5bc389(0x212),_0x3bccc3[_0x5bc389(0x17e)]='Qqngz',_0x3bccc3[_0x5bc389(0x17a)]=_0x5bc389(0xee),_0x3bccc3[_0x5bc389(0x233)]=_0x5bc389(0x259),_0x3bccc3[_0x5bc389(0x1ff)]=function(_0x28b240,_0x5a4936){return _0x28b240!==_0x5a4936;},_0x3bccc3[_0x5bc389(0x14d)]=_0x5bc389(0x115),_0x3bccc3[_0x5bc389(0x19c)]=_0x5bc389(0xfb),_0x3bccc3[_0x5bc389(0x10d)]='AEADk',_0x3bccc3[_0x5bc389(0xda)]='Enabling\x20Local\x20account\x20for\x20the\x20cluster';const _0x510bc1=_0x3bccc3;if(!this['clusterInfo']){if(_0x510bc1[_0x5bc389(0x23b)](_0x510bc1[_0x5bc389(0x29a)],_0x510bc1[_0x5bc389(0x1aa)]))return _0x36fd39[_0x5bc389(0x242)]=_0x510bc1['kJTUF'],_0x514fbb;else await this['getClusterInfo']();}const _0x41ed69=this[_0x5bc389(0x251)],_0x5ac662=this['clusterInfo']?.[_0x5bc389(0x276)]?.['enabled']||![],_0x1e8b9a=this['clusterInfo']?.['securityProfile']?.[_0x5bc389(0xe5)]?.['enabled']||![],_0xd1fadd=!this[_0x5bc389(0x251)]?.['disableLocalAccounts']||![];if(_0x510bc1[_0x5bc389(0x2a2)](_0x5ac662,_0x1e8b9a)&&_0xd1fadd){if(_0x510bc1[_0x5bc389(0x23b)](_0x510bc1[_0x5bc389(0x2b3)],_0x510bc1['pluhs'])){const _0x342a3c=_0x510bc1['CqKFr'][_0x5bc389(0x10e)]('|');let _0x452b18=0x0;while(!![]){switch(_0x342a3c[_0x452b18++]){case'0':_0x196dac[_0x5bc389(0x218)]=_0x2e69b8[this[_0x5bc389(0x1c1)]][_0x5bc389(0x1c2)];continue;case'1':_0x105e1b[_0x5bc389(0x219)]=_0x16a150[this['cloudProviderName']]['clientSecret'];continue;case'2':_0x412fae[_0x5bc389(0x24b)]=_0x323e9f[this['cloudProviderName']][_0x5bc389(0x1af)];continue;case'3':_0x413527[_0x5bc389(0x2a8)]=_0x14f071[this[_0x5bc389(0x1c1)]][_0x5bc389(0x23f)];continue;case'4':_0x535d09[_0x5bc389(0xe6)]=_0x14f919[this['cloudProviderName']]['subscriptionId'];continue;case'5':this[_0x5bc389(0x266)]();continue;}break;}}else return;}if(!_0x5ac662){if(_0x510bc1[_0x5bc389(0x23b)](_0x510bc1[_0x5bc389(0x17e)],_0x510bc1['Nmofo']))_0x1ac6a3+=_0x510bc1[_0x5bc389(0x23b)](_0x96c937['length'],0x0)?_0x510bc1[_0x5bc389(0x1d7)]:'',_0x4466bf[_0x5bc389(0xd7)]('Role\x20definition\x20response\x20list\x20\x20:\x20\x20'+_0x4a0d7a[_0x5bc389(0x19f)](_0x135772));else{logger['info'](_0x510bc1[_0x5bc389(0x233)]);const _0x4efc01={};_0x4efc01[_0x5bc389(0x103)]=WS_EVENTS['RESOURCES'],_0x4efc01[_0x5bc389(0x18e)]=_0x510bc1['cHsOG'],this[_0x5bc389(0x296)][_0x5bc389(0x262)](this[_0x5bc389(0x1ba)],_0x4efc01),_0x41ed69[_0x5bc389(0x276)][_0x5bc389(0xff)]=!![];}}if(!_0x1e8b9a){if(_0x510bc1['nwAHV'](_0x510bc1[_0x5bc389(0x14d)],_0x510bc1['pYqjJ']))return!![];else{logger['info'](_0x510bc1[_0x5bc389(0x19c)]);const _0x3f8f2e={};_0x3f8f2e[_0x5bc389(0x103)]=WS_EVENTS['RESOURCES'],_0x3f8f2e[_0x5bc389(0x18e)]=_0x510bc1['tOLJP'],this[_0x5bc389(0x296)]['sendEventToBackend'](this[_0x5bc389(0x1ba)],_0x3f8f2e);const _0x20123c={};_0x20123c['enabled']=!![],_0x41ed69[_0x5bc389(0x182)]={'workloadIdentity':_0x20123c,..._0x41ed69[_0x5bc389(0x182)]};}}if(!_0xd1fadd){if(_0x510bc1['dxmWX'](_0x510bc1[_0x5bc389(0x10d)],_0x510bc1[_0x5bc389(0x10d)])){logger[_0x5bc389(0x1a7)](_0x510bc1[_0x5bc389(0xda)]);const _0xd60a7a={};_0xd60a7a[_0x5bc389(0x103)]=WS_EVENTS[_0x5bc389(0x1f6)],_0xd60a7a[_0x5bc389(0x18e)]=_0x510bc1[_0x5bc389(0xda)],this['webSocketUtils'][_0x5bc389(0x262)](this[_0x5bc389(0x1ba)],_0xd60a7a),_0x41ed69[_0x5bc389(0x178)]=![];}else _0x4fe2fd[_0x5bc389(0x12d)](_0x147142);}await this[_0x5bc389(0x27c)][_0x5bc389(0x268)][_0x5bc389(0x1c4)](global_registry[_0x5bc389(0x218)],this[_0x5bc389(0x1f8)],_0x41ed69),await this[_0x5bc389(0xd3)]();}async['sendAzureInfoToHST'](){const _0x5dad28=a1_0x1a6eda,_0x227688={};_0x227688[_0x5dad28(0x1c0)]=function(_0x54a06d,_0x432deb){return _0x54a06d===_0x432deb;},_0x227688[_0x5dad28(0x23e)]=function(_0x3d93ad,_0x5e55dc){return _0x3d93ad!==_0x5e55dc;},_0x227688['xEVcR']='waWZr',_0x227688[_0x5dad28(0x16f)]=_0x5dad28(0x10f);const _0x442187=_0x227688,_0x4eb4da=await this['networkClient']['virtualNetworks'][_0x5dad28(0x299)](global_registry[_0x5dad28(0x218)]),_0x4bcc95={};_0x4bcc95[_0x5dad28(0x1e2)]=global_registry[_0x5dad28(0x1f1)],_0x4bcc95[_0x5dad28(0x18a)]=global_registry['bstackAccesskey'],_0x4bcc95['cloudProvider']=AZURE,_0x4bcc95[_0x5dad28(0x1c8)]=[];const _0x31d705=_0x4bcc95;for await(const _0x5d822b of _0x4eb4da){if(_0x442187[_0x5dad28(0x23e)](_0x442187[_0x5dad28(0x191)],_0x442187['rkVDR']))_0x31d705[_0x5dad28(0x1c8)][_0x5dad28(0x12d)](_0x5d822b);else{if(_0x442187['aWxlg'](_0x5315fe[_0x5dad28(0x223)],_0x5dad28(0x29f)+this[_0x5dad28(0x1f8)]))return!![];}}const _0x5a8f39={};_0x5a8f39[_0x5dad28(0x103)]=WS_EVENTS[_0x5dad28(0x1f6)],_0x5a8f39[_0x5dad28(0x18e)]=_0x31d705,this[_0x5dad28(0x296)]['sendEventToBackend'](this[_0x5dad28(0x1ba)],_0x5a8f39);}async[a1_0x1a6eda(0x122)](_0xf66ddb){const _0x16e2bb=a1_0x1a6eda,_0x5a241d={};_0x5a241d[_0x16e2bb(0xf9)]='Storage\x20account\x20already\x20exists,\x20skipping',_0x5a241d[_0x16e2bb(0x20b)]='Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.',_0x5a241d[_0x16e2bb(0x143)]=function(_0x1df6ba,_0xd6943){return _0x1df6ba!==_0xd6943;},_0x5a241d[_0x16e2bb(0x15c)]=_0x16e2bb(0x1df),_0x5a241d['IxOfG']=function(_0x1e039f,_0x35e363){return _0x1e039f===_0x35e363;},_0x5a241d[_0x16e2bb(0x227)]='oWjya',_0x5a241d[_0x16e2bb(0x2a6)]=_0x16e2bb(0x295),_0x5a241d[_0x16e2bb(0xcf)]=function(_0x403da5,_0x7ae00c){return _0x403da5===_0x7ae00c;},_0x5a241d[_0x16e2bb(0x114)]=_0x16e2bb(0x15f),_0x5a241d[_0x16e2bb(0x15a)]=function(_0x965a68,_0x563aa3){return _0x965a68===_0x563aa3;},_0x5a241d[_0x16e2bb(0x1e3)]='PZMPO';const _0x1a463d=_0x5a241d;try{if(_0x1a463d[_0x16e2bb(0x143)](_0x1a463d['lCBqL'],_0x1a463d[_0x16e2bb(0x15c)]))return _0x2fd180[_0x16e2bb(0x1e4)](_0x16e2bb(0x165)+_0x215bd9+_0x16e2bb(0x28e)+_0x5a6859),![];else{const _0x56873b=await this[_0x16e2bb(0x196)][_0x16e2bb(0x235)][_0x16e2bb(0x299)](global_registry[_0x16e2bb(0x218)]);for await(const _0x44550f of _0x56873b){if(_0x1a463d[_0x16e2bb(0x1f0)](_0x1a463d['nfurK'],_0x1a463d[_0x16e2bb(0x2a6)]))_0x204d52[_0x16e2bb(0x12d)](_0x1a8638[_0x16e2bb(0x223)]);else{if(_0x1a463d[_0x16e2bb(0x1f0)](_0x44550f[_0x16e2bb(0x223)],_0xf66ddb)){if(_0x1a463d[_0x16e2bb(0xcf)](_0x1a463d[_0x16e2bb(0x114)],_0x1a463d['zfAoz']))return!![];else _0x4f0cf1['info'](_0x1a463d[_0x16e2bb(0xf9)]);}}}}}catch(_0x297d4f){if(_0x1a463d[_0x16e2bb(0x15a)](_0x1a463d[_0x16e2bb(0x1e3)],_0x1a463d['BIYAX']))return logger[_0x16e2bb(0x1e4)](_0x16e2bb(0x165)+_0xf66ddb+_0x16e2bb(0x28e)+_0x297d4f),![];else _0x57230a[_0x16e2bb(0x1e4)](_0x1a463d[_0x16e2bb(0x20b)]),_0x5f58f0[_0x16e2bb(0x11e)](0x1);}return![];}async[a1_0x1a6eda(0x29e)](_0x302785,_0x375a82){const _0x12416a=a1_0x1a6eda,_0x2dca08={};_0x2dca08[_0x12416a(0x25f)]=_0x12416a(0x1d6),_0x2dca08[_0x12416a(0x163)]=_0x12416a(0x2ac),_0x2dca08[_0x12416a(0x243)]=function(_0x3bc7fa,_0x57ee52){return _0x3bc7fa!==_0x57ee52;},_0x2dca08[_0x12416a(0xcb)]=_0x12416a(0x27a),_0x2dca08['NHBgI']=function(_0x3e21da,_0x166c9b){return _0x3e21da===_0x166c9b;},_0x2dca08['iFbYJ']=_0x12416a(0x14b),_0x2dca08[_0x12416a(0x195)]=_0x12416a(0x13a);const _0x1d19c1=_0x2dca08;try{if(_0x1d19c1[_0x12416a(0x243)](_0x1d19c1[_0x12416a(0xcb)],_0x1d19c1[_0x12416a(0xcb)])){const _0x2d87f9=_0x58f205[_0x12416a(0x267)](_0x49dec1);_0x59519c+='\x0a\x09'+_0x16c4fd+':\x20'+(_0x2d87f9?_0x1d19c1[_0x12416a(0x25f)]:_0x1d19c1['Dnzkx']),!_0x2d87f9&&(_0x5ab73e[_0x12416a(0x282)]=![]);}else{const _0x114d36=await this[_0x12416a(0x196)][_0x12416a(0x222)][_0x12416a(0x162)](global_registry['cloudProviderResourceGroup'],_0x375a82,_0x302785[0x0]);if(_0x1d19c1[_0x12416a(0x2b5)](_0x302785[0x0],_0x114d36[_0x12416a(0x223)])){if(_0x1d19c1[_0x12416a(0x2b5)](_0x1d19c1['iFbYJ'],_0x1d19c1[_0x12416a(0x195)]))_0x170f6e[_0x12416a(0x12d)](_0x223ff5);else return[!![],_0x302785];}}}catch(_0x37e2c1){return logger[_0x12416a(0x1e4)](_0x12416a(0x1e6)+_0x302785+_0x12416a(0x1ad)+_0x37e2c1),[![],[]];}return[![],[]];}async[a1_0x1a6eda(0x170)](){const _0xa779eb=a1_0x1a6eda,_0x45bc82={};_0x45bc82[_0xa779eb(0x280)]='No\x20CLI\x20tool\x20required';const _0x19a247=_0x45bc82,_0x1ba015={};_0x1ba015[_0xa779eb(0x282)]=!![],_0x1ba015[_0xa779eb(0x1e4)]=null,_0x1ba015[_0xa779eb(0x242)]=_0x19a247[_0xa779eb(0x280)];const _0x40f2e4=_0x1ba015;return _0x40f2e4;}async[a1_0x1a6eda(0x20c)](){const _0x1fb515=a1_0x1a6eda,_0x45a1dc={};_0x45a1dc['bsIsU']='https://graph.microsoft.com/.default',_0x45a1dc[_0x1fb515(0x258)]=_0x1fb515(0xf2),_0x45a1dc['UmNuX']='application/json';const _0x446662=_0x45a1dc,_0x5f3951=await this[_0x1fb515(0x15e)]['getToken'](_0x446662[_0x1fb515(0x273)]),_0x34360d={};_0x34360d[_0x1fb515(0x20e)]=_0x446662[_0x1fb515(0x258)],_0x34360d[_0x1fb515(0x17d)]={},_0x34360d[_0x1fb515(0x17d)]['Authorization']=_0x1fb515(0x13b)+_0x5f3951[_0x1fb515(0x2ad)],_0x34360d[_0x1fb515(0x17d)][_0x1fb515(0xfd)]=_0x446662['UmNuX'];const _0x30d528=_0x34360d;return _0x30d528;}async[a1_0x1a6eda(0x238)](_0x462426){const _0x452276=a1_0x1a6eda,_0x53a789={'eLbhv':function(_0x7f424,_0xf00983,_0x402699){return _0x7f424(_0xf00983,_0x402699);},'jDoCC':function(_0xee4389,_0x24d7be){return _0xee4389===_0x24d7be;},'JDvOF':_0x452276(0xe7)},_0x40d2f3={};_0x40d2f3['principalId']='',_0x40d2f3['error']=null;const _0x29ce04=_0x40d2f3;try{const _0x1f6827=_0x452276(0x123)+_0x462426+'\x27',_0x52433b=await this[_0x452276(0x20c)](),_0x50666f=await _0x53a789[_0x452276(0x172)](fetch,_0x1f6827,_0x52433b),_0x80a2e5=await _0x50666f[_0x452276(0x1d9)]();if(!_0x80a2e5[_0x452276(0x1b7)]||_0x53a789[_0x452276(0x1a9)](_0x80a2e5[_0x452276(0x1b7)][_0x452276(0x23d)],0x0))throw new Error(_0x53a789[_0x452276(0x22f)],'Received\x20response\x20-\x20'+JSON[_0x452276(0x19f)](_0x80a2e5));_0x29ce04['principalId']=_0x80a2e5['value'][0x0]['id'];}catch(_0x51b167){_0x29ce04[_0x452276(0x1e4)]=_0x51b167;}return _0x29ce04;}async[a1_0x1a6eda(0x28b)](){const _0x54e8c8=a1_0x1a6eda,_0x2eee84={};_0x2eee84['sqqoA']='allowed',_0x2eee84[_0x54e8c8(0x250)]=_0x54e8c8(0x2ac),_0x2eee84[_0x54e8c8(0x134)]=function(_0x726b97,_0x5a9830){return _0x726b97!==_0x5a9830;},_0x2eee84[_0x54e8c8(0x285)]=function(_0x183d31,_0x46b0ff){return _0x183d31===_0x46b0ff;},_0x2eee84[_0x54e8c8(0xc9)]=_0x54e8c8(0x210),_0x2eee84['RMZDP']=_0x54e8c8(0x213),_0x2eee84['MWSkr']=function(_0xfd5a16,_0xe82645){return _0xfd5a16===_0xe82645;},_0x2eee84[_0x54e8c8(0x113)]=_0x54e8c8(0xfa);const _0x33befd=_0x2eee84,_0x40251a={};_0x40251a[_0x54e8c8(0x282)]=![],_0x40251a[_0x54e8c8(0x1e4)]=null,_0x40251a[_0x54e8c8(0x242)]='';const _0x3f5551=_0x40251a;try{let _0x5795f9='';const _0x37fa7b=_0x54e8c8(0x145)+global_registry['cloudProviderSubscriptionId']+_0x54e8c8(0xd0)+global_registry['cloudProviderResourceGroup'],_0xe9b78d=await this[_0x54e8c8(0x238)](global_registry[_0x54e8c8(0x24b)]);if(_0x33befd['YbJtR'](_0xe9b78d[_0x54e8c8(0x1e4)],null))return _0x3f5551[_0x54e8c8(0x1e4)]=_0xe9b78d[_0x54e8c8(0x1e4)],_0x3f5551;const _0x4a2354='assignedTo(\x27'+_0xe9b78d[_0x54e8c8(0xf1)]+'\x27)',_0x333dd8={};_0x333dd8[_0x54e8c8(0x174)]=_0x4a2354;const _0x438ee0=await this[_0x54e8c8(0x270)][_0x54e8c8(0x27d)][_0x54e8c8(0x129)](_0x37fa7b,_0x333dd8),_0x29da18=[];for await(const _0x195cdf of _0x438ee0){_0x29da18[_0x54e8c8(0x12d)](_0x195cdf);}if(_0x33befd[_0x54e8c8(0x285)](_0x29da18[_0x54e8c8(0x23d)],0x0))return _0x3f5551[_0x54e8c8(0x242)]=_0x33befd['dvrwj'],_0x3f5551;const _0x13d6ce=[...new Set(_0x29da18[_0x54e8c8(0x12a)](_0x46a9d8=>_0x46a9d8['roleDefinitionId']))];if(_0x33befd['XbhVC'](_0x13d6ce[_0x54e8c8(0x23d)],0x0))return _0x3f5551[_0x54e8c8(0x242)]=_0x33befd[_0x54e8c8(0x124)],_0x3f5551;const _0x4014d9=[],_0x1d292b=[];for(const _0x214b1a of _0x13d6ce){const _0x3a482c=await this[_0x54e8c8(0x270)]['roleDefinitions'][_0x54e8c8(0x185)](_0x214b1a);logger[_0x54e8c8(0xd7)]('role\x20name\x20attached\x20-\x20'+_0x3a482c['roleName']),_0x4014d9[_0x54e8c8(0x12d)](_0x3a482c),logger['debug'](_0x54e8c8(0x107)+JSON[_0x54e8c8(0x19f)](_0x3a482c['permissions'])),_0x3a482c[_0x54e8c8(0xd2)][_0x54e8c8(0x241)](_0x59c264=>{const _0x27d72c=_0x54e8c8;_0x1d292b[_0x27d72c(0x12d)](..._0x59c264[_0x27d72c(0x110)]);});}logger[_0x54e8c8(0xd7)](_0x54e8c8(0xef)+JSON[_0x54e8c8(0x19f)](_0x1d292b)),_0x33befd[_0x54e8c8(0x106)](_0x1d292b[_0x54e8c8(0x23d)],0x0)&&(_0x5795f9+=_0x33befd[_0x54e8c8(0x285)](_0x1d292b[_0x54e8c8(0x23d)],0x0)?_0x33befd['cdYaH']:'',logger[_0x54e8c8(0xd7)](_0x54e8c8(0x245)+JSON[_0x54e8c8(0x19f)](_0x4014d9))),_0x3f5551['status']=!![],Object['entries'](PERMISSIONS[_0x54e8c8(0x1de)])[_0x54e8c8(0x241)](([_0x4a0d81,_0x4dad25])=>{const _0x5f489c=_0x54e8c8,_0x2ee22f=_0x1d292b['includes'](_0x4a0d81);_0x5795f9+='\x0a\x09'+_0x4dad25+':\x20'+(_0x2ee22f?_0x33befd[_0x5f489c(0x19e)]:_0x33befd[_0x5f489c(0x250)]),!_0x2ee22f&&(_0x3f5551[_0x5f489c(0x282)]=![]);}),_0x3f5551[_0x54e8c8(0x242)]=_0x5795f9;}catch(_0x3c72f2){_0x3f5551[_0x54e8c8(0x1e4)]=_0x3c72f2;}return _0x3f5551;}}const a1_0x544514={};a1_0x544514[a1_0x1a6eda(0xea)]=AzureCloudProvider,module[a1_0x1a6eda(0xf5)]=a1_0x544514;