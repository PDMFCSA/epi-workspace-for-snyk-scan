const a1_0xbadd1e=a1_0x5282;(function(_0x5deccb,_0x3dc4af){const _0x2f10a0=a1_0x5282,_0x4f0c43=_0x5deccb();while(!![]){try{const _0x3fb0f8=-parseInt(_0x2f10a0(0x13a))/0x1*(parseInt(_0x2f10a0(0x150))/0x2)+parseInt(_0x2f10a0(0x183))/0x3*(parseInt(_0x2f10a0(0x20b))/0x4)+parseInt(_0x2f10a0(0x14f))/0x5*(parseInt(_0x2f10a0(0xaf))/0x6)+-parseInt(_0x2f10a0(0x1ad))/0x7*(parseInt(_0x2f10a0(0x167))/0x8)+parseInt(_0x2f10a0(0x16f))/0x9*(parseInt(_0x2f10a0(0x10b))/0xa)+parseInt(_0x2f10a0(0x10a))/0xb*(-parseInt(_0x2f10a0(0x109))/0xc)+parseInt(_0x2f10a0(0x153))/0xd*(-parseInt(_0x2f10a0(0x11d))/0xe);if(_0x3fb0f8===_0x3dc4af)break;else _0x4f0c43['push'](_0x4f0c43['shift']());}catch(_0xfbf07){_0x4f0c43['push'](_0x4f0c43['shift']());}}}(a1_0x3fd7,0x2398b));const fs=require('fs'),path=require(a1_0xbadd1e(0x1ea)),yaml=require(a1_0xbadd1e(0x1c6)),{logger}=require(a1_0xbadd1e(0x222)),{CloudProvider}=require(a1_0xbadd1e(0x250)),{deleteRoutingDeps,deleteAgent}=require(a1_0xbadd1e(0xf6)),{AZURE,WS_EVENTS,global_registry}=require(a1_0xbadd1e(0x1b9)),PERMISSIONS=require(a1_0xbadd1e(0x232)),{ClientSecretCredential}=require(a1_0xbadd1e(0x134)),{NetworkManagementClient}=require(a1_0xbadd1e(0x143)),{StorageManagementClient}=require(a1_0xbadd1e(0x221)),{AuthorizationManagementClient}=require('@azure/arm-authorization'),{ResourceManagementClient}=require('@azure/arm-resources'),{ContainerServiceClient}=require('@azure/arm-containerservice'),{runCommand}=require('../utils/utilityMethods');function a1_0x5282(_0x4590b5,_0x40ffae){const _0x3fd783=a1_0x3fd7();return a1_0x5282=function(_0x5282a7,_0xc346a7){_0x5282a7=_0x5282a7-0x78;let _0x394ae7=_0x3fd783[_0x5282a7];return _0x394ae7;},a1_0x5282(_0x4590b5,_0x40ffae);}class AzureCloudProvider extends CloudProvider{constructor(_0x997986,_0x425c27,_0x3a059b,_0x1a779d){const _0xd77b6d=a1_0xbadd1e,_0xa7ab4f={};_0xa7ab4f[_0xd77b6d(0x1c1)]=_0xd77b6d(0x20c);const _0x54f153=_0xa7ab4f,_0x22d362=_0x54f153['nYlzD']['split']('|');let _0x42b316=0x0;while(!![]){switch(_0x22d362[_0x42b316++]){case'0':super(AZURE,_0x997986,_0x425c27,_0x3a059b,_0x1a779d);continue;case'1':this[_0xd77b6d(0x202)]=null;continue;case'2':this[_0xd77b6d(0x132)]=null;continue;case'3':this[_0xd77b6d(0x24e)]=null;continue;case'4':this[_0xd77b6d(0x82)]=null;continue;case'5':this[_0xd77b6d(0x11b)]=null;continue;case'6':this['resourceClient']=null;continue;case'7':this[_0xd77b6d(0x1b3)]=null;continue;}break;}}async[a1_0xbadd1e(0x10f)](){return await super['init'](),this;}[a1_0xbadd1e(0x16a)](){const _0x16cecd=a1_0xbadd1e,_0x4c73f3=new ClientSecretCredential(global_registry['cloudProviderTenantId'],global_registry[_0x16cecd(0xf0)],global_registry[_0x16cecd(0x1bc)]);this[_0x16cecd(0x202)]=new ContainerServiceClient(_0x4c73f3,global_registry['cloudProviderSubscriptionId']),this['storageClient']=new StorageManagementClient(_0x4c73f3,global_registry[_0x16cecd(0x268)]),this[_0x16cecd(0x21e)]=new ResourceManagementClient(_0x4c73f3,global_registry[_0x16cecd(0x268)]),this['networkClient']=new NetworkManagementClient(_0x4c73f3,global_registry['cloudProviderSubscriptionId']),this['authClient']=new AuthorizationManagementClient(_0x4c73f3,global_registry['cloudProviderSubscriptionId']),this[_0x16cecd(0x11b)]=_0x4c73f3;}['getStorageAccountName'](){const _0x3640fe=a1_0xbadd1e,_0x3f2b07={};_0x3f2b07[_0x3640fe(0x10c)]=function(_0x150dab,_0x5035dd){return _0x150dab+_0x5035dd;},_0x3f2b07[_0x3640fe(0x1d8)]=_0x3640fe(0x9d),_0x3f2b07[_0x3640fe(0x19a)]=function(_0xc758c5,_0x3d9ac9){return _0xc758c5-_0x3d9ac9;};const _0x99eaea=_0x3f2b07,_0x23f6c5=global_registry[_0x3640fe(0x199)][_0x3640fe(0x23a)]('-'),_0x4fb32c=_0x99eaea[_0x3640fe(0x10c)](_0x99eaea[_0x3640fe(0x1d8)],_0x23f6c5[_0x99eaea[_0x3640fe(0x19a)](_0x23f6c5[_0x3640fe(0x26f)],0x1)])[_0x3640fe(0x179)](0x0,0x18);return _0x4fb32c[_0x3640fe(0x84)]();}['setCachedCredsInRegistry'](_0x595e34){const _0x1466a1=a1_0xbadd1e,_0x44a8bf={};_0x44a8bf[_0x1466a1(0xe8)]='2|0|3|5|4|1';const _0xe6fd5c=_0x44a8bf,_0x43f1de=_0xe6fd5c[_0x1466a1(0xe8)][_0x1466a1(0x23a)]('|');let _0x58e47e=0x0;while(!![]){switch(_0x43f1de[_0x58e47e++]){case'0':global_registry[_0x1466a1(0x1bc)]=_0x595e34[this[_0x1466a1(0x130)]]['clientSecret'];continue;case'1':this[_0x1466a1(0x16a)]();continue;case'2':global_registry['cloudProviderClientId']=_0x595e34[this['cloudProviderName']]['clientId'];continue;case'3':global_registry[_0x1466a1(0x16c)]=_0x595e34[this[_0x1466a1(0x130)]][_0x1466a1(0x105)];continue;case'4':global_registry[_0x1466a1(0xfa)]=_0x595e34[this['cloudProviderName']][_0x1466a1(0x15a)];continue;case'5':global_registry[_0x1466a1(0x268)]=_0x595e34[this[_0x1466a1(0x130)]][_0x1466a1(0x1b8)];continue;}break;}}async[a1_0xbadd1e(0xda)](_0x3406ab,_0x1331e2){const _0x13d566=a1_0xbadd1e,_0x507d3f={'yTTpu':function(_0x2cfd2a,_0x50c948){return _0x2cfd2a===_0x50c948;},'CPOQg':_0x13d566(0x172),'cZLEg':function(_0x4b8123,_0xde6c94){return _0x4b8123(_0xde6c94);},'ZSMJF':function(_0x218395,_0x2acdec){return _0x218395(_0x2acdec);},'ixbHi':function(_0x47b02c,_0x12dda5){return _0x47b02c===_0x12dda5;},'Enxcu':function(_0x25c556,_0x319a60){return _0x25c556===_0x319a60;},'JiAeH':'TMvIt','kFExN':_0x13d566(0x267),'pWJiT':function(_0x3a2d5e,_0x4c2016){return _0x3a2d5e===_0x4c2016;},'yfwZR':_0x13d566(0x18c),'UnIwy':function(_0x4c5235,_0x208e65){return _0x4c5235===_0x208e65;},'SSsjH':function(_0x5479ca,_0x5d4612){return _0x5479ca===_0x5d4612;},'pXTlF':function(_0x43065f,_0xda2c8c){return _0x43065f===_0xda2c8c;},'TNnkc':function(_0x1dc254,_0x1b10e6){return _0x1dc254===_0x1b10e6;},'OUakv':function(_0x589791,_0xbc8f52){return _0x589791!==_0xbc8f52;},'rgQvh':_0x13d566(0x13d),'JOEkd':_0x13d566(0x1c4),'IqaAp':_0x13d566(0x269),'sUFeg':function(_0x50df0b,_0x6a1a){return _0x50df0b!==_0x6a1a;},'JxtfB':_0x13d566(0x260),'KdSux':_0x13d566(0x127),'ljuzi':function(_0x326e67,_0x3ecfc){return _0x326e67<_0x3ecfc;},'QoMSv':'dmsTV','OUmAy':function(_0x3aa613,_0x462ec4){return _0x3aa613+_0x462ec4;},'ROpbi':function(_0x1b19b5,_0x252838){return _0x1b19b5(_0x252838);},'hrbwq':_0x13d566(0xa8),'ZrMEE':function(_0x13b322,_0x2ebf3d){return _0x13b322<=_0x2ebf3d;},'MkuTN':function(_0x57a9a8,_0x36797c){return _0x57a9a8>_0x36797c;},'wmCAT':function(_0x412a29,_0x4eb72f){return _0x412a29===_0x4eb72f;},'AgqeU':'MBFqu','QrBto':_0x13d566(0x8c),'gHVcn':function(_0x517ef3,_0x2eaf35){return _0x517ef3-_0x2eaf35;}},_0x468115=this[_0x13d566(0x130)][_0x13d566(0x19b)](),_0x3ddfef=await _0x507d3f[_0x13d566(0x111)](_0x3406ab,_0x468115+'\x20CLIENT\x20ID:\x20'),_0x54086a=await _0x507d3f['ZSMJF'](_0x3406ab,_0x468115+_0x13d566(0xcd)),_0x3adc43=await _0x507d3f['cZLEg'](_0x3406ab,_0x468115+_0x13d566(0x17e)),_0x5799d6=await _0x507d3f[_0x13d566(0x14e)](_0x3406ab,_0x468115+_0x13d566(0x24a));global_registry[_0x13d566(0xf0)]=_0x3ddfef,global_registry['cloudProviderClientSecret']=_0x54086a,global_registry[_0x13d566(0x16c)]=_0x3adc43,global_registry[_0x13d566(0x268)]=_0x5799d6,this[_0x13d566(0x16a)]();const _0x4ee020=await this[_0x13d566(0x147)](),_0x216157=_0x4ee020[_0x13d566(0x26f)];let _0x302f69;if(_0x507d3f[_0x13d566(0xca)](_0x216157,0x0))_0x507d3f[_0x13d566(0x1d9)](_0x507d3f[_0x13d566(0xc1)],_0x507d3f['kFExN'])?_0x2fc26d[_0x13d566(0x1b5)](_0x1f1390):_0x302f69=await _0x507d3f[_0x13d566(0x111)](_0x3406ab,_0x468115+_0x13d566(0x1a8));else{if(_0x507d3f[_0x13d566(0x1d9)](_0x216157,0x1)){if(_0x507d3f[_0x13d566(0xa3)](_0x507d3f[_0x13d566(0x1f9)],_0x507d3f[_0x13d566(0x1f9)])){const _0x38150c=await _0x507d3f[_0x13d566(0x111)](_0x3406ab,_0x13d566(0xee)+_0x4ee020[0x0]+'\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20');if(_0x507d3f['UnIwy'](_0x38150c,undefined)||_0x507d3f[_0x13d566(0x104)](_0x38150c,null)||!(_0x507d3f['pXTlF'](_0x38150c['toLowerCase'](),'y')||_0x507d3f[_0x13d566(0xd4)](_0x38150c['toLowerCase'](),'n'))){if(_0x507d3f['OUakv'](_0x507d3f['rgQvh'],_0x507d3f[_0x13d566(0x158)]))console[_0x13d566(0xbc)](_0x507d3f[_0x13d566(0x101)]),process['exit'](0x1);else{if(_0x507d3f[_0x13d566(0x139)](_0x379c28[_0x13d566(0x214)],_0x451d88))return!![];}}_0x507d3f[_0x13d566(0xd4)](_0x38150c[_0x13d566(0x84)](),'n')&&(_0x507d3f['sUFeg'](_0x507d3f[_0x13d566(0xac)],_0x507d3f[_0x13d566(0xac)])?_0xf57bdc[_0x13d566(0x1b5)](_0x24f261):process[_0x13d566(0xb3)](0x0)),_0x302f69=_0x4ee020[0x0];}else return[!![],_0xa7a30b];}else{if(_0x507d3f['OUakv'](_0x507d3f[_0x13d566(0x1d6)],_0x507d3f['KdSux']))return _0x1ea648['data']=_0x507d3f[_0x13d566(0xa4)],_0xd31cd4;else{for(let _0x3bc851=0x0;_0x507d3f['ljuzi'](_0x3bc851,_0x4ee020[_0x13d566(0x26f)]);_0x3bc851+=0x1){_0x507d3f['OUakv'](_0x507d3f[_0x13d566(0x9b)],_0x507d3f['QoMSv'])?_0x53410a[_0x13d566(0xbc)]=_0x243c85:console[_0x13d566(0x8f)]('['+_0x507d3f[_0x13d566(0x24f)](_0x3bc851,0x1)+']\x20'+_0x4ee020[_0x3bc851]);}const _0x5ac256=await _0x507d3f[_0x13d566(0x22e)](_0x3406ab,_0x507d3f[_0x13d566(0xaa)]),_0x345aa1=_0x507d3f['cZLEg'](Number,_0x5ac256);(_0x507d3f[_0x13d566(0x111)](isNaN,_0x345aa1)||_0x507d3f['ZrMEE'](_0x345aa1,0x0)||_0x507d3f[_0x13d566(0x8a)](_0x345aa1,_0x216157))&&(_0x507d3f[_0x13d566(0x201)](_0x507d3f[_0x13d566(0x264)],_0x507d3f[_0x13d566(0xa6)])?_0x411175=_0x14ec4a['id']:(console[_0x13d566(0xbc)](_0x507d3f[_0x13d566(0x101)]),process['exit'](0x1))),_0x302f69=_0x4ee020[_0x507d3f['gHVcn'](_0x345aa1,0x1)];}}}global_registry['cloudProviderResourceGroup']=_0x302f69;const _0x564e32={};return _0x564e32[_0x13d566(0x17d)]=_0x3ddfef,_0x564e32[_0x13d566(0x208)]=_0x54086a,_0x564e32[_0x13d566(0x105)]=_0x3adc43,_0x564e32[_0x13d566(0x1b8)]=_0x5799d6,_0x564e32['resourceGroup']=_0x302f69,_0x1331e2['cloudProvider'][AZURE]=_0x564e32,_0x1331e2;}async[a1_0xbadd1e(0x147)](){const _0x3d4511=a1_0xbadd1e,_0x500277={};_0x500277[_0x3d4511(0x16d)]='Storage\x20account\x20already\x20exists,\x20skipping',_0x500277[_0x3d4511(0x114)]=_0x3d4511(0x175),_0x500277[_0x3d4511(0x1df)]='denied',_0x500277[_0x3d4511(0x1cd)]=function(_0x8445e6,_0xb5164d){return _0x8445e6!==_0xb5164d;},_0x500277[_0x3d4511(0xf1)]=_0x3d4511(0x11a),_0x500277[_0x3d4511(0x1a1)]=function(_0x169ccd,_0x2a9751){return _0x169ccd===_0x2a9751;},_0x500277['hqAsk']='Jzuec',_0x500277[_0x3d4511(0x87)]='QZHXh';const _0x271d9d=_0x500277,_0x442fff=[];try{if(_0x271d9d[_0x3d4511(0x1cd)](_0x271d9d[_0x3d4511(0xf1)],_0x271d9d[_0x3d4511(0xf1)]))_0x52648a[_0x3d4511(0x176)](_0x271d9d[_0x3d4511(0x16d)]);else{const _0x15b0c9=await this[_0x3d4511(0x21e)]['resourceGroups'][_0x3d4511(0xb1)]();for await(const _0x3df59d of _0x15b0c9){if(_0x271d9d[_0x3d4511(0x1a1)](_0x271d9d[_0x3d4511(0x186)],_0x271d9d['mpZrL'])){const _0x43ef9f=_0x1e1341[_0x3d4511(0x8e)](_0x4a5923);_0x195662+='\x0a\x09'+_0x595481+':\x20'+(_0x43ef9f?_0x271d9d[_0x3d4511(0x114)]:_0x271d9d[_0x3d4511(0x1df)]),!_0x43ef9f&&(_0x40af70[_0x3d4511(0x1ec)]=![]);}else _0x442fff[_0x3d4511(0x1b5)](_0x3df59d[_0x3d4511(0x214)]);}}}catch(_0x36e3f5){}return _0x442fff;}async[a1_0xbadd1e(0x1ab)](){const _0x4e6268=a1_0xbadd1e;return this[_0x4e6268(0x1b3)]=await this[_0x4e6268(0x202)][_0x4e6268(0x244)][_0x4e6268(0x164)](global_registry[_0x4e6268(0xfa)],this[_0x4e6268(0x1ce)]),this[_0x4e6268(0x1b3)];}async[a1_0xbadd1e(0xa0)](){const _0x1d3fb7=a1_0xbadd1e,_0x4cd53d=await this[_0x1d3fb7(0x202)]['managedClusters'][_0x1d3fb7(0x1fd)](global_registry[_0x1d3fb7(0xfa)],this['clusterName']),_0x224feb=_0x4cd53d[_0x1d3fb7(0x128)][0x0][_0x1d3fb7(0xed)][_0x1d3fb7(0x161)]();return _0x224feb;}[a1_0xbadd1e(0x21a)](_0x8fced5){const _0x32699f=a1_0xbadd1e;return _0x8fced5[_0x32699f(0x1ec)][_0x32699f(0x207)]['ingress'][0x0]['hostname'];}async[a1_0xbadd1e(0x174)](){const _0x1162f8=a1_0xbadd1e,_0x107e00={};_0x107e00[_0x1162f8(0x261)]=function(_0x563d69,_0x1c62ef){return _0x563d69+_0x1c62ef;},_0x107e00[_0x1162f8(0x115)]=_0x1162f8(0x133),_0x107e00[_0x1162f8(0x224)]='Enabling\x20Local\x20account\x20for\x20the\x20cluster',_0x107e00['JomlQ']=function(_0x26d9bd,_0x23fa4d){return _0x26d9bd===_0x23fa4d;},_0x107e00[_0x1162f8(0x23c)]=_0x1162f8(0xc0),_0x107e00['znKAt']=function(_0x62c1e0,_0x140fba){return _0x62c1e0===_0x140fba;},_0x107e00[_0x1162f8(0x240)]=_0x1162f8(0x181),_0x107e00[_0x1162f8(0x1e3)]=function(_0x50eee3,_0x37e8a6){return _0x50eee3===_0x37e8a6;},_0x107e00[_0x1162f8(0x18a)]='gDIyY',_0x107e00[_0x1162f8(0x13c)]='gPMcG';const _0x22bf07=_0x107e00,_0x3e13b2=new Array();for await(const _0x1ee033 of this[_0x1162f8(0x202)][_0x1162f8(0x244)][_0x1162f8(0x129)](global_registry[_0x1162f8(0xfa)])){_0x22bf07[_0x1162f8(0x85)](_0x22bf07['fdeTt'],_0x22bf07[_0x1162f8(0x23c)])?_0x3e13b2['push'](_0x1ee033):_0x1834c2[_0x1162f8(0x8f)]('['+_0x22bf07[_0x1162f8(0x261)](_0xc3dc9e,0x1)+']\x20'+_0x20b166[_0x246b49]);}for await(const _0x30796d of _0x3e13b2){if(_0x22bf07[_0x1162f8(0x23d)](_0x22bf07['CyTxR'],_0x22bf07['CyTxR'])){if(_0x22bf07['JomlQ'](_0x30796d[_0x1162f8(0x214)],this[_0x1162f8(0x1ce)])){if(_0x22bf07[_0x1162f8(0x1e3)](_0x22bf07[_0x1162f8(0x18a)],_0x22bf07[_0x1162f8(0x13c)])){const _0x2b37dc=_0x22bf07[_0x1162f8(0x115)][_0x1162f8(0x23a)]('|');let _0x5423f9=0x0;while(!![]){switch(_0x2b37dc[_0x5423f9++]){case'0':this['setClients']();continue;case'1':_0x578fd4['cloudProviderSubscriptionId']=_0x979cf0[this['cloudProviderName']][_0x1162f8(0x1b8)];continue;case'2':_0x9ae64e['cloudProviderTenantId']=_0x355919[this['cloudProviderName']][_0x1162f8(0x105)];continue;case'3':_0x5b554c[_0x1162f8(0xfa)]=_0x25fefc[this['cloudProviderName']][_0x1162f8(0x15a)];continue;case'4':_0x238ac7[_0x1162f8(0x1bc)]=_0x587e09[this['cloudProviderName']]['clientSecret'];continue;case'5':_0x336656[_0x1162f8(0xf0)]=_0x26e579[this['cloudProviderName']]['clientId'];continue;}break;}}else return await this[_0x1162f8(0x1ab)](),!![];}}else{_0x23b9c3[_0x1162f8(0x176)](_0x22bf07[_0x1162f8(0x224)]);const _0x5373b9={};_0x5373b9[_0x1162f8(0x271)]=_0x5f10b8['RESOURCES'],_0x5373b9[_0x1162f8(0xe9)]=_0x22bf07['jEygD'],this[_0x1162f8(0x1e0)]['sendEventToBackend'](this['rws'],_0x5373b9),_0x4d955f[_0x1162f8(0x1b0)]=![];}}return![];}async[a1_0xbadd1e(0xfc)](_0x185366=null,_0xf749a1=null){const _0x131ee1=a1_0xbadd1e,_0x5d533f={};_0x5d533f[_0x131ee1(0x1b7)]=_0x131ee1(0x1a9),_0x5d533f[_0x131ee1(0xf8)]=_0x131ee1(0xd5);const _0x4524ec=_0x5d533f,_0x2676bc=_0x4524ec[_0x131ee1(0x1b7)][_0x131ee1(0x23a)]('|');let _0x175416=0x0;while(!![]){switch(_0x2676bc[_0x175416++]){case'0':const _0x201455={};_0x201455[_0x131ee1(0x271)]=WS_EVENTS['LOG'],_0x201455[_0x131ee1(0xe9)]=_0x4524ec[_0x131ee1(0xf8)],this[_0x131ee1(0x1e0)][_0x131ee1(0xbd)](this['rws'],_0x201455);continue;case'1':return[_0x185366,_0xf749a1];case'2':this['sendAzureInfoToHST']();continue;case'3':await this[_0x131ee1(0xc5)](_0x185366,_0xf749a1);continue;case'4':await this[_0x131ee1(0x8b)]();continue;case'5':logger[_0x131ee1(0x176)](_0x4524ec['lMNSQ']);continue;}break;}}async['createCluster'](_0x32b833=null,_0x4928a4=null){const _0x29700c=a1_0xbadd1e,_0xbfbca0={};_0xbfbca0[_0x29700c(0xc7)]=_0x29700c(0x137),_0xbfbca0[_0x29700c(0x7b)]=_0x29700c(0x22a),_0xbfbca0['oIbxm']='akscluster.json',_0xbfbca0['FmtFB']=_0x29700c(0x1e4),_0xbfbca0[_0x29700c(0x200)]=_0x29700c(0x98),_0xbfbca0[_0x29700c(0x91)]=_0x29700c(0x123),_0xbfbca0['gxaMD']=function(_0x9e17e3,_0x1597dd){return _0x9e17e3!==_0x1597dd;},_0xbfbca0['AUGkX']=function(_0x4f6f5a,_0x7fc68f){return _0x4f6f5a===_0x7fc68f;},_0xbfbca0['hzPMT']='euHAk',_0xbfbca0[_0x29700c(0x99)]=_0x29700c(0xe6),_0xbfbca0['RnxzN']=_0x29700c(0x216),_0xbfbca0[_0x29700c(0x1be)]=_0x29700c(0x25e),_0xbfbca0[_0x29700c(0x1fb)]=_0x29700c(0x18b),_0xbfbca0['agKfM']=_0x29700c(0x1a7),_0xbfbca0['dUzWK']='Incremental';const _0x171a57=_0xbfbca0;let _0x382062=await fs['readFileAsync'](path['join'](__dirname,'..',_0x171a57[_0x29700c(0xc7)],_0x171a57[_0x29700c(0x7b)],_0x171a57[_0x29700c(0x12e)]),_0x171a57[_0x29700c(0x17c)]);_0x382062=JSON[_0x29700c(0x229)](_0x382062);const _0x2f4010={};_0x2f4010['value']=this[_0x29700c(0x1ce)];const _0x92edb2={};_0x92edb2[_0x29700c(0xed)]=global_registry['clusterRegion'];const _0xc483d0={};_0xc483d0[_0x29700c(0xed)]=global_registry[_0x29700c(0x163)];const _0x2a34ec={};_0x2a34ec['value']=global_registry['maxNodes'];const _0x4ca9c4={};_0x4ca9c4[_0x29700c(0xed)]=global_registry[_0x29700c(0x234)]?_0x171a57['cKfEK']:_0x171a57['DStGA'];const _0x14035f={};_0x14035f[_0x29700c(0x1ce)]=_0x2f4010,_0x14035f[_0x29700c(0x121)]=_0x92edb2,_0x14035f[_0x29700c(0x1ac)]=_0xc483d0,_0x14035f[_0x29700c(0x18e)]=_0x2a34ec,_0x14035f['clusterAutoUpgrade']=_0x4ca9c4;let _0x4e3479=_0x14035f;if(_0x171a57['gxaMD'](_0x32b833,null)&&_0x171a57[_0x29700c(0x242)](_0x4928a4,null)){if(_0x171a57[_0x29700c(0x272)](_0x171a57[_0x29700c(0x1b1)],_0x171a57[_0x29700c(0x1b1)])){const _0x457428={};_0x457428['type']=_0x171a57[_0x29700c(0x99)],_0x457428[_0x29700c(0xc9)]={},_0x457428[_0x29700c(0xc9)][_0x29700c(0xae)]=_0x171a57[_0x29700c(0xab)];const _0x1d3d0f={};_0x1d3d0f[_0x29700c(0x271)]=_0x171a57['UJGRl'],_0x1d3d0f[_0x29700c(0xc9)]={},_0x1d3d0f[_0x29700c(0xc9)][_0x29700c(0xae)]=_0x171a57[_0x29700c(0xab)],_0x382062[_0x29700c(0x196)]={..._0x382062[_0x29700c(0x196)],'vpcName':_0x457428,'subnetName':_0x1d3d0f};const _0xecfda2={};_0xecfda2[_0x29700c(0x231)]=_0x171a57['gShyz'],_0x382062[_0x29700c(0x1e9)]=_0xecfda2,_0x382062['resources'][0x0][_0x29700c(0x22f)][_0x29700c(0xcb)][0x0]={..._0x382062[_0x29700c(0x88)][0x0][_0x29700c(0x22f)]['agentPoolProfiles'][0x0],'vnetSubnetID':_0x171a57[_0x29700c(0x1fb)]};const _0x427315={};_0x427315[_0x29700c(0xed)]=_0x32b833;const _0x17f1cb={};_0x17f1cb['value']=_0x4928a4[0x0],_0x4e3479={..._0x4e3479,'vpcName':_0x427315,'subnetName':_0x17f1cb};}else return _0xa5cb2c[_0x29700c(0xbc)]('Cannot\x20find\x20VPC\x20'+_0x58c8dc+_0x29700c(0xe7)+_0x120764),![];}await this[_0x29700c(0x21e)][_0x29700c(0x218)]['beginCreateOrUpdateAndWait'](global_registry[_0x29700c(0xfa)],_0x171a57[_0x29700c(0x17a)],{'properties':{'template':_0x382062,'mode':_0x171a57['dUzWK'],'parameters':_0x4e3479}});}async[a1_0xbadd1e(0x8b)](){const _0x35ac82=a1_0xbadd1e,_0x7cb10d={};_0x7cb10d['sqiPV']=_0x35ac82(0x269),_0x7cb10d['PdMwq']=function(_0x14e65f,_0x28d7f2){return _0x14e65f===_0x28d7f2;},_0x7cb10d[_0x35ac82(0x194)]=_0x35ac82(0x23e),_0x7cb10d[_0x35ac82(0x12c)]=function(_0x36470f,_0x3305cb){return _0x36470f===_0x3305cb;},_0x7cb10d['wVqGG']=_0x35ac82(0xbf),_0x7cb10d[_0x35ac82(0x1af)]=_0x35ac82(0x219),_0x7cb10d[_0x35ac82(0x102)]=_0x35ac82(0x26e),_0x7cb10d['jSsna']='Storage\x20account\x20already\x20exists,\x20skipping',_0x7cb10d[_0x35ac82(0xf4)]=function(_0x189de5,_0x46f48f){return _0x189de5!==_0x46f48f;},_0x7cb10d['qiBlL']=_0x35ac82(0x266),_0x7cb10d[_0x35ac82(0x151)]=_0x35ac82(0x24b),_0x7cb10d[_0x35ac82(0xdb)]=function(_0x2436e2,_0x754e77){return _0x2436e2===_0x754e77;},_0x7cb10d[_0x35ac82(0x80)]=_0x35ac82(0x120),_0x7cb10d[_0x35ac82(0x145)]='Managed\x20identity\x20already\x20exists,\x20skipping',_0x7cb10d[_0x35ac82(0x241)]=_0x35ac82(0x23f),_0x7cb10d[_0x35ac82(0x24c)]=_0x35ac82(0x155);const _0xd02217=_0x7cb10d,_0x590cd5=await this['isStorageAccountPresent']();if(!_0x590cd5){if(_0xd02217['VqXAn'](_0xd02217[_0x35ac82(0xe5)],_0xd02217['wVqGG'])){const _0xcd8edc={};_0xcd8edc[_0x35ac82(0x271)]=WS_EVENTS[_0x35ac82(0xba)],_0xcd8edc[_0x35ac82(0xe9)]=_0xd02217[_0x35ac82(0x1af)],this[_0x35ac82(0x1e0)][_0x35ac82(0xbd)](this[_0x35ac82(0x1fe)],_0xcd8edc),logger[_0x35ac82(0x176)](_0xd02217[_0x35ac82(0x1af)]),await this[_0x35ac82(0x142)]();}else _0x2aa233[_0x35ac82(0xbc)](_0xd02217[_0x35ac82(0x1dd)]),_0x5abf18['exit'](0x1);}else{if(_0xd02217['PdMwq'](_0xd02217[_0x35ac82(0x102)],_0xd02217[_0x35ac82(0x102)]))logger['info'](_0xd02217[_0x35ac82(0xb4)]);else return;}const _0x29579b=await this['isManagedIdentityPresent']();if(!_0x29579b){if(_0xd02217['svlZK'](_0xd02217['qiBlL'],_0xd02217['qiBlL'])){if(_0xd02217[_0x35ac82(0x160)](_0x4827dc[_0x35ac82(0x214)],_0x584252))return!![];}else{const _0x4d59b8={};_0x4d59b8[_0x35ac82(0x271)]=WS_EVENTS[_0x35ac82(0xba)],_0x4d59b8['message']=_0xd02217[_0x35ac82(0x151)],this[_0x35ac82(0x1e0)][_0x35ac82(0xbd)](this['rws'],_0x4d59b8),logger[_0x35ac82(0x176)](_0xd02217[_0x35ac82(0x151)]),await this[_0x35ac82(0x122)]();}}else{if(_0xd02217[_0x35ac82(0xdb)](_0xd02217['eYpGW'],_0xd02217[_0x35ac82(0x80)]))logger[_0x35ac82(0x176)](_0xd02217[_0x35ac82(0x145)]);else{_0xad0f85['info'](_0xd02217['uFJhE']);const _0x4401d9={};_0x4401d9[_0x35ac82(0x271)]=_0x1355a6[_0x35ac82(0x1d3)],_0x4401d9[_0x35ac82(0xe9)]=_0xd02217[_0x35ac82(0x194)],this['webSocketUtils'][_0x35ac82(0xbd)](this[_0x35ac82(0x1fe)],_0x4401d9);const _0xabdf0c={};_0xabdf0c['enabled']=!![];const _0x59c59e={'workloadIdentity':_0xabdf0c,..._0x51c551[_0x35ac82(0x136)]};_0x26180c[_0x35ac82(0x136)]=_0x59c59e;}}logger[_0x35ac82(0x176)](_0xd02217['yOzCn']),await this[_0x35ac82(0x1d7)](),logger['info'](_0xd02217['LIjic']);}async[a1_0xbadd1e(0x142)](){const _0x27b932=a1_0xbadd1e,_0x1d1652={};_0x1d1652[_0x27b932(0x197)]=_0x27b932(0x137),_0x1d1652[_0x27b932(0x1f6)]='azureresources',_0x1d1652[_0x27b932(0x237)]=_0x27b932(0x26a),_0x1d1652[_0x27b932(0x1f3)]=_0x27b932(0x1e4),_0x1d1652['uMsbv']=_0x27b932(0x213),_0x1d1652[_0x27b932(0x7f)]=_0x27b932(0x1a5),_0x1d1652[_0x27b932(0x8d)]='Blob\x20delete\x20lifecycle',_0x1d1652['vnbyD']=_0x27b932(0x25a),_0x1d1652['NBYvV']=_0x27b932(0x146),_0x1d1652['Swfcl']='default';const _0x394190=_0x1d1652;let _0x58b9fb=await fs[_0x27b932(0x124)](path['join'](__dirname,'..',_0x394190[_0x27b932(0x197)],_0x394190[_0x27b932(0x1f6)],_0x394190[_0x27b932(0x237)]),_0x394190[_0x27b932(0x1f3)]);_0x58b9fb=JSON[_0x27b932(0x229)](_0x58b9fb);const _0x5d3019=this[_0x27b932(0xd6)](),_0x387672={};_0x387672[_0x27b932(0xed)]=_0x5d3019;const _0x6a6e88={};_0x6a6e88[_0x27b932(0x96)]=_0x387672,await this[_0x27b932(0x21e)][_0x27b932(0x218)][_0x27b932(0x1e1)](global_registry[_0x27b932(0xfa)],_0x394190[_0x27b932(0x189)],{'properties':{'template':_0x58b9fb,'mode':_0x394190[_0x27b932(0x7f)],'parameters':_0x6a6e88}});const _0x4eef3e={};_0x4eef3e['daysAfterCreationGreaterThan']=0x3c;const _0x1a78ab={};_0x1a78ab[_0x27b932(0x1a4)]=_0x4eef3e;const _0x5a633f={};_0x5a633f[_0x27b932(0x178)]=_0x1a78ab;const _0x2fd2de={};_0x2fd2de['enabled']=!![],_0x2fd2de[_0x27b932(0x214)]=_0x394190['cvCMX'],_0x2fd2de['type']=_0x394190[_0x27b932(0x144)],_0x2fd2de[_0x27b932(0x259)]={},_0x2fd2de[_0x27b932(0x259)][_0x27b932(0x19c)]=_0x5a633f,_0x2fd2de[_0x27b932(0x259)][_0x27b932(0x1d5)]={},_0x2fd2de[_0x27b932(0x259)][_0x27b932(0x1d5)]['blobTypes']=[_0x394190[_0x27b932(0x95)]];const _0x43cbdb={};_0x43cbdb[_0x27b932(0x21f)]=[_0x2fd2de];const _0x1ca3d9={};_0x1ca3d9[_0x27b932(0x1da)]=_0x43cbdb;const _0x208f59=_0x1ca3d9;await this[_0x27b932(0x82)]['managementPolicies'][_0x27b932(0xc4)](global_registry[_0x27b932(0xfa)],_0x5d3019,_0x394190[_0x27b932(0x203)],_0x208f59);}async[a1_0xbadd1e(0x122)](){const _0x1761a5=a1_0xbadd1e,_0x12d4de={};_0x12d4de['EcSlF']='templates',_0x12d4de['RpiSA']=_0x1761a5(0x22a),_0x12d4de[_0x1761a5(0x254)]='managedidentity.json',_0x12d4de[_0x1761a5(0xef)]=_0x1761a5(0x1e4),_0x12d4de[_0x1761a5(0x22d)]=_0x1761a5(0x238),_0x12d4de[_0x1761a5(0xde)]=_0x1761a5(0x1a5);const _0x24cc0e=_0x12d4de;let _0x1d504b=await fs['readFileAsync'](path[_0x1761a5(0xbe)](__dirname,'..',_0x24cc0e[_0x1761a5(0x16e)],_0x24cc0e[_0x1761a5(0x86)],_0x24cc0e[_0x1761a5(0x254)]),_0x24cc0e[_0x1761a5(0xef)]);_0x1d504b=JSON[_0x1761a5(0x229)](_0x1d504b),await this[_0x1761a5(0x21e)][_0x1761a5(0x218)][_0x1761a5(0x1e1)](global_registry['cloudProviderResourceGroup'],_0x24cc0e[_0x1761a5(0x22d)],{'properties':{'template':_0x1d504b,'mode':_0x24cc0e[_0x1761a5(0xde)],'parameters':{'clusterName':{'value':this[_0x1761a5(0x1ce)]}}}});}async[a1_0xbadd1e(0x1d7)](){const _0x4d759b=a1_0xbadd1e,_0x24bd92={};_0x24bd92[_0x4d759b(0x26c)]='No\x20service\x20principal\x20found',_0x24bd92[_0x4d759b(0x193)]=function(_0x4aa4af,_0x15347d){return _0x4aa4af===_0x15347d;},_0x24bd92[_0x4d759b(0x1ef)]=_0x4d759b(0x20f),_0x24bd92[_0x4d759b(0x117)]=_0x4d759b(0x15d),_0x24bd92['RrYRg']=_0x4d759b(0xd2),_0x24bd92[_0x4d759b(0x7c)]=_0x4d759b(0x182),_0x24bd92[_0x4d759b(0x255)]='nGVFm',_0x24bd92['dHpsA']='templates',_0x24bd92[_0x4d759b(0x10e)]=_0x4d759b(0x22a),_0x24bd92[_0x4d759b(0x1e6)]=_0x4d759b(0x1e4),_0x24bd92[_0x4d759b(0x9e)]=_0x4d759b(0x1c9),_0x24bd92[_0x4d759b(0x239)]=_0x4d759b(0x1a5);const _0x2cc0ef=_0x24bd92;if(!this['clusterInfo']){if(_0x2cc0ef[_0x4d759b(0x193)](_0x2cc0ef[_0x4d759b(0x1ef)],_0x2cc0ef[_0x4d759b(0x117)]))throw new _0x5e861e(_0x2cc0ef[_0x4d759b(0x26c)],_0x4d759b(0x14a)+_0x272be2[_0x4d759b(0x1f0)](_0x278c03));else await this[_0x4d759b(0x1ab)]();}const _0x3eff66=this[_0x4d759b(0x1b3)]?.[_0x4d759b(0x20a)]?.[_0x4d759b(0x1ee)],_0x5d70a9=[_0x2cc0ef[_0x4d759b(0x1f2)],_0x2cc0ef['vgHdo']];for await(const _0x55d372 of _0x5d70a9){if(_0x2cc0ef[_0x4d759b(0x193)](_0x2cc0ef[_0x4d759b(0x255)],_0x2cc0ef[_0x4d759b(0x255)])){let _0x39fbcb=await fs[_0x4d759b(0x124)](path[_0x4d759b(0xbe)](__dirname,'..',_0x2cc0ef[_0x4d759b(0x252)],_0x2cc0ef[_0x4d759b(0x10e)],_0x4d759b(0x209)+_0x55d372+_0x4d759b(0x274)),_0x2cc0ef[_0x4d759b(0x1e6)]);_0x39fbcb=JSON[_0x4d759b(0x229)](_0x39fbcb);const _0x4c01c8={};_0x4c01c8[_0x4d759b(0xed)]=_0x3eff66,await this[_0x4d759b(0x21e)][_0x4d759b(0x218)][_0x4d759b(0x1e1)](global_registry[_0x4d759b(0xfa)],_0x2cc0ef[_0x4d759b(0x9e)],{'properties':{'template':_0x39fbcb,'mode':_0x2cc0ef[_0x4d759b(0x239)],'parameters':{'oidcIssuer':_0x4c01c8,'gridName':{'value':this[_0x4d759b(0x14b)]},'clusterName':{'value':this['clusterName']}}}});}else _0x947371[_0x4d759b(0x1b5)](_0x4dee39[_0x4d759b(0x214)]);}}async['setupHubHa'](_0x426251,_0x5bd04e,_0x1049db,_0x63ae5,_0x205541){const _0x5678f8=a1_0xbadd1e,_0x1ba9d5={};_0x1ba9d5[_0x5678f8(0x249)]=_0x5678f8(0x154),_0x1ba9d5[_0x5678f8(0x1a3)]=_0x5678f8(0x173);const _0x5e4c95=_0x1ba9d5,_0x18e91a={};_0x18e91a[_0x5678f8(0x271)]=WS_EVENTS['LOG'],_0x18e91a[_0x5678f8(0xe9)]=_0x5e4c95[_0x5678f8(0x249)],this['webSocketUtils'][_0x5678f8(0xbd)](this['rws'],_0x18e91a),logger[_0x5678f8(0x176)](_0x5e4c95[_0x5678f8(0x249)]),await this['createFederatedAccountForHubHA']();const _0x5b14c1={};_0x5b14c1[_0x5678f8(0x271)]=WS_EVENTS[_0x5678f8(0xba)],_0x5b14c1[_0x5678f8(0xe9)]=_0x5e4c95[_0x5678f8(0x1a3)],this[_0x5678f8(0x1e0)][_0x5678f8(0xbd)](this['rws'],_0x5b14c1);}async[a1_0xbadd1e(0xb7)](){const _0x1aca51=a1_0xbadd1e,_0x258c0d={};_0x258c0d[_0x1aca51(0x210)]=function(_0x3009fb,_0x16f1ce){return _0x3009fb!==_0x16f1ce;},_0x258c0d['tlsTG']=_0x1aca51(0x90),_0x258c0d[_0x1aca51(0x17f)]=_0x1aca51(0x137),_0x258c0d['CfYNc']='hubharesources',_0x258c0d[_0x1aca51(0x1db)]=_0x1aca51(0x15c),_0x258c0d[_0x1aca51(0x25b)]='utf-8',_0x258c0d[_0x1aca51(0x180)]=_0x1aca51(0x1c9),_0x258c0d[_0x1aca51(0xa2)]='Incremental';const _0x4a522f=_0x258c0d;if(!this[_0x1aca51(0x1b3)]){if(_0x4a522f[_0x1aca51(0x210)](_0x4a522f[_0x1aca51(0x223)],_0x4a522f[_0x1aca51(0x223)]))return _0x569ab7[_0x1aca51(0xbc)](_0x1aca51(0x12a)+_0x1e1f89+':'+_0x3cd310[_0x1aca51(0x21c)]),{};else await this[_0x1aca51(0x1ab)]();}const _0x6bb99=this['clusterInfo']?.['oidcIssuerProfile']?.[_0x1aca51(0x1ee)];let _0x45e474=await fs['readFileAsync'](path['join'](__dirname,'..',_0x4a522f[_0x1aca51(0x17f)],_0x4a522f[_0x1aca51(0x119)],_0x4a522f['JyrVZ']),_0x4a522f[_0x1aca51(0x25b)]);_0x45e474=JSON[_0x1aca51(0x229)](_0x45e474);const _0x50263e={};_0x50263e[_0x1aca51(0xed)]=_0x6bb99,await this[_0x1aca51(0x21e)][_0x1aca51(0x218)][_0x1aca51(0x1e1)](global_registry[_0x1aca51(0xfa)],_0x4a522f['KtEsZ'],{'properties':{'template':_0x45e474,'mode':_0x4a522f[_0x1aca51(0xa2)],'parameters':{'oidcIssuer':_0x50263e,'namespace':{'value':global_registry[_0x1aca51(0x177)]},'clusterName':{'value':this[_0x1aca51(0x1ce)]}}}});}async[a1_0xbadd1e(0x92)](){const _0x284583=a1_0xbadd1e,_0x3c667f={};_0x3c667f[_0x284583(0x246)]=function(_0x3a36af,_0xb28476){return _0x3a36af!==_0xb28476;},_0x3c667f[_0x284583(0x1ae)]='EhHIP',_0x3c667f['tVIWt']='LCavs',_0x3c667f[_0x284583(0xeb)]=function(_0x551684,_0x3b36d1){return _0x551684===_0x3b36d1;},_0x3c667f[_0x284583(0x93)]='PXRQk',_0x3c667f[_0x284583(0x188)]=function(_0x2a8f6b,_0x33495e){return _0x2a8f6b===_0x33495e;},_0x3c667f['etqEw']=function(_0x3f0312,_0x257355){return _0x3f0312!==_0x257355;},_0x3c667f[_0x284583(0x1fa)]=_0x284583(0x191),_0x3c667f[_0x284583(0xea)]='TnNAK';const _0x473aab=_0x3c667f,_0x57e158=this[_0x284583(0xd6)](),_0x5ccfe9=new Array();for await(const _0x5414f4 of this[_0x284583(0x82)][_0x284583(0xf7)][_0x284583(0x129)](global_registry['cloudProviderResourceGroup'])){if(_0x473aab[_0x284583(0x246)](_0x473aab['drIOA'],_0x473aab[_0x284583(0x12b)]))_0x5ccfe9[_0x284583(0x1b5)](_0x5414f4);else return!![];}for await(const _0x2ca830 of _0x5ccfe9){if(_0x473aab['ytKyd'](_0x473aab[_0x284583(0x93)],_0x473aab[_0x284583(0x93)])){if(_0x473aab[_0x284583(0x188)](_0x2ca830[_0x284583(0x214)],_0x57e158)){if(_0x473aab[_0x284583(0x7d)](_0x473aab[_0x284583(0x1fa)],_0x473aab[_0x284583(0xea)]))return!![];else _0x1aa48a[_0x284583(0x1b5)](_0x1f0629);}}else _0xe8fed2[_0x284583(0xb3)](0x0);}return![];}async[a1_0xbadd1e(0xb8)](){const _0x5a7c1f=a1_0xbadd1e,_0x27b18e={};_0x27b18e[_0x5a7c1f(0x13b)]=function(_0x50dbdb,_0x661af){return _0x50dbdb===_0x661af;},_0x27b18e[_0x5a7c1f(0x1fc)]=_0x5a7c1f(0x1eb),_0x27b18e[_0x5a7c1f(0x11c)]=_0x5a7c1f(0xbb),_0x27b18e[_0x5a7c1f(0x233)]=function(_0x55d1af,_0x38641e){return _0x55d1af!==_0x38641e;},_0x27b18e[_0x5a7c1f(0x13e)]=_0x5a7c1f(0x235),_0x27b18e[_0x5a7c1f(0x1f5)]=_0x5a7c1f(0x1d1),_0x27b18e[_0x5a7c1f(0x1ff)]=_0x5a7c1f(0x15e),_0x27b18e[_0x5a7c1f(0x1f7)]=function(_0x3c96a0,_0x3e93d5){return _0x3c96a0===_0x3e93d5;},_0x27b18e['wcPFF']=_0x5a7c1f(0x1b6);const _0x163c39=_0x27b18e,_0x3a9bda=new Array();for await(const _0x2489a2 of this[_0x5a7c1f(0x21e)][_0x5a7c1f(0x88)][_0x5a7c1f(0x129)](global_registry['cloudProviderResourceGroup'])){_0x163c39[_0x5a7c1f(0x233)](_0x163c39[_0x5a7c1f(0x13e)],_0x163c39['aYPCk'])?(_0x49312+=_0x163c39[_0x5a7c1f(0x13b)](_0x31d5b5[_0x5a7c1f(0x26f)],0x0)?_0x163c39[_0x5a7c1f(0x1fc)]:'',_0x5b1325[_0x5a7c1f(0xcf)]('Role\x20definition\x20response\x20list\x20\x20:\x20\x20'+_0x3984eb[_0x5a7c1f(0x1f0)](_0x200272))):_0x3a9bda[_0x5a7c1f(0x1b5)](_0x2489a2);}for await(const _0x3de2e3 of _0x3a9bda){if(_0x163c39[_0x5a7c1f(0x233)](_0x163c39[_0x5a7c1f(0x1f5)],_0x163c39['GKCzK'])){if(_0x163c39[_0x5a7c1f(0x13b)](_0x3de2e3['name'],_0x5a7c1f(0x230)+this[_0x5a7c1f(0x1ce)])){if(_0x163c39[_0x5a7c1f(0x1f7)](_0x163c39[_0x5a7c1f(0x157)],_0x163c39[_0x5a7c1f(0x157)]))return!![];else{const _0x3404a7={};_0x3404a7[_0x5a7c1f(0x1ec)]=!![],_0x3404a7[_0x5a7c1f(0xbc)]=null,_0x3404a7['data']=_0x163c39[_0x5a7c1f(0x11c)];const _0xe0127=_0x3404a7;return _0xe0127;}}}else _0x533297[_0x5a7c1f(0x1b5)](..._0x4fd8eb[_0x5a7c1f(0x19c)]);}return![];}async[a1_0xbadd1e(0x110)](_0x506cd2,_0x15e41d=0x3){const _0x210edb=a1_0xbadd1e,_0x5a6b28={'mZddR':_0x210edb(0x269),'DPYAE':_0x210edb(0xd9),'DwwdS':function(_0x1e7385,_0x50584e){return _0x1e7385!==_0x50584e;},'JqbER':_0x210edb(0x25c),'lmcuN':function(_0x1076a5,_0x401645,_0x5a1a53){return _0x1076a5(_0x401645,_0x5a1a53);},'fUnhF':function(_0x5c0fbf,_0x2adf55){return _0x5c0fbf!==_0x2adf55;},'APhzG':_0x210edb(0x1f4),'IJEtg':_0x210edb(0x1de),'vPwpd':function(_0x82fb28,_0x3bb11f){return _0x82fb28===_0x3bb11f;},'EaNGz':_0x210edb(0x100),'BYmnb':function(_0x211e46,_0x1a5513){return _0x211e46!==_0x1a5513;},'gcQLP':_0x210edb(0x251),'tMyAF':_0x210edb(0xc3),'vcfFN':_0x210edb(0xe0),'Ltudf':_0x210edb(0xfd),'XfNIn':function(_0x541b7f,_0x50899a){return _0x541b7f!==_0x50899a;},'zeBfD':_0x210edb(0xad),'mHffe':function(_0x2f1f8b,_0x325814){return _0x2f1f8b<=_0x325814;},'wSMiU':function(_0x57bdbd,_0x148d1b){return _0x57bdbd!==_0x148d1b;},'kpGSL':_0x210edb(0xd1),'WJDaE':function(_0x22ee58,_0x3e3cca){return _0x22ee58-_0x3e3cca;}};try{if(_0x5a6b28[_0x210edb(0x184)](_0x5a6b28['APhzG'],_0x5a6b28['IJEtg'])){const _0x338a9d=new Array();for await(const _0x3a7f2c of this[_0x210edb(0x21e)]['resources'][_0x210edb(0x129)](global_registry[_0x210edb(0xfa)])){_0x5a6b28[_0x210edb(0x23b)](_0x5a6b28[_0x210edb(0x79)],_0x5a6b28[_0x210edb(0x79)])?_0x338a9d[_0x210edb(0x1b5)](_0x3a7f2c):(_0x2110ab['error'](_0x5a6b28[_0x210edb(0x15f)]),_0x4347f6[_0x210edb(0xb3)](0x1));}let _0x49c389='';for await(const _0x25c4de of _0x338a9d){if(_0x5a6b28[_0x210edb(0xf3)](_0x5a6b28[_0x210edb(0xd0)],_0x5a6b28[_0x210edb(0x192)]))_0x5a6b28[_0x210edb(0x23b)](_0x25c4de[_0x210edb(0x214)],_0x506cd2)&&(_0x5a6b28['DwwdS'](_0x5a6b28[_0x210edb(0x273)],_0x5a6b28['vcfFN'])?_0x35bb31[_0x210edb(0x1ec)]=![]:_0x49c389=_0x25c4de['id']);else return _0x1a7639[_0x210edb(0xbc)]=_0x3f2175[_0x210edb(0xbc)],_0x36703b;}const _0x1643be=await this['resourceClient'][_0x210edb(0x88)][_0x210edb(0x1c5)](_0x49c389,_0x5a6b28[_0x210edb(0xc8)]);return _0x1643be[_0x210edb(0x22f)][_0x210edb(0x17d)];}else _0x15c920[_0x210edb(0xbc)]=_0x2d6017;}catch(_0x29e473){if(_0x5a6b28[_0x210edb(0x83)](_0x5a6b28['zeBfD'],_0x5a6b28[_0x210edb(0x165)]))return!![];else{if(_0x5a6b28[_0x210edb(0x159)](_0x15e41d,0x0)){if(_0x5a6b28['wSMiU'](_0x5a6b28['kpGSL'],_0x5a6b28[_0x210edb(0x12d)]))_0x5e3f63[_0x210edb(0x176)](_0x5a6b28[_0x210edb(0x1d0)]);else return logger[_0x210edb(0xbc)](_0x210edb(0x12a)+_0x29e473+':'+_0x29e473[_0x210edb(0x21c)]),{};}return await new Promise(_0xb1b9fb=>{const _0x466fe6=_0x210edb;if(_0x5a6b28[_0x466fe6(0x1c3)](_0x5a6b28[_0x466fe6(0x247)],_0x5a6b28[_0x466fe6(0x247)]))return _0x30d4b0[_0x466fe6(0x1ec)][_0x466fe6(0x207)]['ingress'][0x0][_0x466fe6(0x12f)];else _0x5a6b28[_0x466fe6(0xfe)](setTimeout,()=>_0xb1b9fb(),0x3e8);}),this[_0x210edb(0x110)](_0x506cd2,_0x5a6b28[_0x210edb(0xfb)](_0x15e41d,0x1));}}}async[a1_0xbadd1e(0x1bd)](){const _0x2d56eb=a1_0xbadd1e,_0x1e1c0f={};_0x1e1c0f[_0x2d56eb(0x22c)]=function(_0x5f428f,_0x3ea09b){return _0x5f428f===_0x3ea09b;},_0x1e1c0f[_0x2d56eb(0x1aa)]=_0x2d56eb(0x26b),_0x1e1c0f[_0x2d56eb(0x9a)]=_0x2d56eb(0xdf),_0x1e1c0f['xALnP']=_0x2d56eb(0x97),_0x1e1c0f['dozNi']='BrowserStack',_0x1e1c0f[_0x2d56eb(0x168)]=function(_0x51c986,_0x11c066){return _0x51c986===_0x11c066;},_0x1e1c0f[_0x2d56eb(0x78)]=_0x2d56eb(0x243),_0x1e1c0f[_0x2d56eb(0x262)]=_0x2d56eb(0xb9);const _0x4e68e5=_0x1e1c0f;!this[_0x2d56eb(0x1b3)]&&(_0x4e68e5[_0x2d56eb(0x22c)](_0x4e68e5[_0x2d56eb(0x1aa)],_0x4e68e5['Pdnpm'])?_0x14304e['push'](_0xef868c):await this[_0x2d56eb(0x1ab)]());const _0x17759e=this[_0x2d56eb(0x1b3)]?.[_0x2d56eb(0x118)]||{};if(_0x17759e&&_0x4e68e5[_0x2d56eb(0x22c)](_0x17759e[_0x4e68e5['xALnP']],_0x4e68e5[_0x2d56eb(0x106)])){if(_0x4e68e5['rWwOy'](_0x4e68e5[_0x2d56eb(0x78)],_0x4e68e5[_0x2d56eb(0x262)]))_0x244ca1[_0x2d56eb(0xa9)][_0x2d56eb(0x1b5)](_0x4cb638);else return!![];}return![];}async[a1_0xbadd1e(0x205)](_0x483539,_0x57a008){const _0x12d622=a1_0xbadd1e,_0x4432e5={'gaSgR':function(_0x11049d,_0x49d6e1){return _0x11049d(_0x49d6e1);},'xLFjc':function(_0x1560c6,_0x1fe130){return _0x1560c6(_0x1fe130);},'moVCg':_0x12d622(0x103)};await _0x4432e5[_0x12d622(0x1bf)](deleteAgent,_0x483539),await _0x4432e5[_0x12d622(0x89)](deleteRoutingDeps,_0x483539);const _0x34c883=this[_0x12d622(0x202)];logger[_0x12d622(0x176)](_0x12d622(0x228)+this['clusterName']),await _0x34c883[_0x12d622(0x244)]['beginDeleteAndWait'](global_registry['cloudProviderResourceGroup'],this[_0x12d622(0x1ce)]),logger[_0x12d622(0x176)](_0x4432e5['moVCg']);}async[a1_0xbadd1e(0x1b4)](){const _0x18a502=a1_0xbadd1e,_0x46f795={'QExsk':function(_0x527fb3,_0x1ab808){return _0x527fb3===_0x1ab808;},'fLqmS':function(_0x4da10d,_0x1d4de2){return _0x4da10d===_0x1d4de2;},'zbBVv':_0x18a502(0x248),'irFjZ':function(_0x260abf,_0x1abe68,_0x79eae8){return _0x260abf(_0x1abe68,_0x79eae8);},'wtrLW':_0x18a502(0x20d),'uswxG':_0x18a502(0x141),'bIwQl':function(_0x47ca7b,_0xc3eb45){return _0x47ca7b&&_0xc3eb45;},'sDMfz':function(_0x7b053c,_0x2af7fd){return _0x7b053c!==_0x2af7fd;},'pZNXH':_0x18a502(0x1f8),'UyudQ':_0x18a502(0xb6),'PGCRr':function(_0x2bfa4c,_0x210e51){return _0x2bfa4c!==_0x210e51;},'qlQth':_0x18a502(0xdc),'kFemq':_0x18a502(0x26d),'HoUsP':'NLAnL','thFIO':_0x18a502(0x23e),'uzMqE':_0x18a502(0x9f),'JXYNE':_0x18a502(0x204)};if(!this[_0x18a502(0x1b3)]){if(_0x46f795[_0x18a502(0x18d)](_0x46f795['wtrLW'],_0x46f795[_0x18a502(0xd8)]))return!![];else await this[_0x18a502(0x1ab)]();}const _0x42a579=this[_0x18a502(0x1b3)],_0x14a9b3=this['clusterInfo']?.[_0x18a502(0x20a)]?.[_0x18a502(0x108)]||![],_0x32229a=this[_0x18a502(0x1b3)]?.['securityProfile']?.[_0x18a502(0xb0)]?.[_0x18a502(0x108)]||![],_0x3a9a1b=!this['clusterInfo']?.[_0x18a502(0x1b0)]||![];if(_0x46f795[_0x18a502(0x25d)](_0x14a9b3,_0x32229a)&&_0x3a9a1b){if(_0x46f795[_0x18a502(0x10d)](_0x46f795[_0x18a502(0x215)],_0x46f795['UyudQ']))return;else{if(_0x46f795[_0x18a502(0x18d)](_0x406750[_0x18a502(0x214)],_0x18a502(0x230)+this[_0x18a502(0x1ce)]))return!![];}}if(!_0x14a9b3){if(_0x46f795[_0x18a502(0x131)](_0x46f795[_0x18a502(0x1e7)],_0x46f795[_0x18a502(0x1e7)]))_0x46f795[_0x18a502(0x162)](_0x3e75f2[_0x18a502(0x214)],_0x1e7be8)&&(_0x10ce10=_0x5ac3d8['id']);else{logger[_0x18a502(0x176)](_0x46f795[_0x18a502(0xe1)]);const _0x46b8ea={};_0x46b8ea[_0x18a502(0x271)]=WS_EVENTS['RESOURCES'],_0x46b8ea[_0x18a502(0xe9)]=_0x46f795[_0x18a502(0xe1)],this[_0x18a502(0x1e0)][_0x18a502(0xbd)](this[_0x18a502(0x1fe)],_0x46b8ea),_0x42a579[_0x18a502(0x20a)][_0x18a502(0x108)]=!![];}}if(!_0x32229a){if(_0x46f795[_0x18a502(0x162)](_0x46f795[_0x18a502(0x257)],_0x46f795[_0x18a502(0x253)])){_0x499ade[_0x18a502(0x176)](_0x46f795[_0x18a502(0xe1)]);const _0x50076b={};_0x50076b[_0x18a502(0x271)]=_0x549f40[_0x18a502(0x1d3)],_0x50076b[_0x18a502(0xe9)]=_0x46f795[_0x18a502(0xe1)],this['webSocketUtils'][_0x18a502(0xbd)](this[_0x18a502(0x1fe)],_0x50076b),_0x587936[_0x18a502(0x20a)][_0x18a502(0x108)]=!![];}else{logger[_0x18a502(0x176)](_0x46f795[_0x18a502(0x220)]);const _0x2f1e42={};_0x2f1e42[_0x18a502(0x271)]=WS_EVENTS['RESOURCES'],_0x2f1e42['message']=_0x46f795[_0x18a502(0x220)],this['webSocketUtils'][_0x18a502(0xbd)](this[_0x18a502(0x1fe)],_0x2f1e42);const _0xab0da={};_0xab0da[_0x18a502(0x108)]=!![],_0x42a579[_0x18a502(0x136)]={'workloadIdentity':_0xab0da,..._0x42a579[_0x18a502(0x136)]};}}if(!_0x3a9a1b){if(_0x46f795[_0x18a502(0x18d)](_0x46f795[_0x18a502(0x245)],_0x46f795['uzMqE'])){logger[_0x18a502(0x176)](_0x46f795['JXYNE']);const _0x4b1bce={};_0x4b1bce[_0x18a502(0x271)]=WS_EVENTS[_0x18a502(0x1d3)],_0x4b1bce[_0x18a502(0xe9)]=_0x46f795['JXYNE'],this[_0x18a502(0x1e0)][_0x18a502(0xbd)](this[_0x18a502(0x1fe)],_0x4b1bce),_0x42a579[_0x18a502(0x1b0)]=![];}else _0x46f795[_0x18a502(0x263)](_0x5188cb,()=>_0x34178a(),0x3e8);}await this[_0x18a502(0x202)][_0x18a502(0x244)][_0x18a502(0x1e1)](global_registry['cloudProviderResourceGroup'],this[_0x18a502(0x1ce)],_0x42a579),await this[_0x18a502(0x1ab)]();}async[a1_0xbadd1e(0xc6)](){const _0x33bd8b=a1_0xbadd1e,_0x373fa6={};_0x373fa6['OcCeq']=function(_0x316767,_0xfed6b6){return _0x316767!==_0xfed6b6;},_0x373fa6[_0x33bd8b(0x166)]='ieuSr',_0x373fa6[_0x33bd8b(0x94)]=_0x33bd8b(0x1cf);const _0xcc1a35=_0x373fa6,_0x1ea61b=await this[_0x33bd8b(0x132)][_0x33bd8b(0x1b2)]['listAll'](global_registry[_0x33bd8b(0xfa)]),_0x53a455={};_0x53a455[_0x33bd8b(0xf5)]=global_registry[_0x33bd8b(0x138)],_0x53a455[_0x33bd8b(0x19e)]=global_registry[_0x33bd8b(0x1a6)],_0x53a455[_0x33bd8b(0x1d4)]=AZURE,_0x53a455[_0x33bd8b(0xa9)]=[];const _0x328b33=_0x53a455;for await(const _0x3b6cd8 of _0x1ea61b){_0xcc1a35[_0x33bd8b(0x185)](_0xcc1a35[_0x33bd8b(0x166)],_0xcc1a35['jXUkw'])?_0x328b33['vpcInfo'][_0x33bd8b(0x1b5)](_0x3b6cd8):_0x2c2180['push'](_0x2702da);}const _0x312048={};_0x312048[_0x33bd8b(0x271)]=WS_EVENTS[_0x33bd8b(0x1d3)],_0x312048[_0x33bd8b(0xe9)]=_0x328b33,this[_0x33bd8b(0x1e0)][_0x33bd8b(0xbd)](this[_0x33bd8b(0x1fe)],_0x312048);}async[a1_0xbadd1e(0x22b)](_0x5c4629){const _0x2c9b3d=a1_0xbadd1e,_0x2dd495={};_0x2dd495[_0x2c9b3d(0xb5)]=_0x2c9b3d(0x14d),_0x2dd495[_0x2c9b3d(0x25f)]=function(_0x499b04,_0x437c49){return _0x499b04+_0x437c49;},_0x2dd495[_0x2c9b3d(0x7e)]=_0x2c9b3d(0x9d),_0x2dd495[_0x2c9b3d(0x1c2)]=function(_0x2af846,_0x54a107){return _0x2af846-_0x54a107;},_0x2dd495[_0x2c9b3d(0xb2)]=function(_0x1a74f3,_0x15eb23){return _0x1a74f3===_0x15eb23;},_0x2dd495[_0x2c9b3d(0x1f1)]=_0x2c9b3d(0x1ba),_0x2dd495[_0x2c9b3d(0x1d2)]=_0x2c9b3d(0xd7),_0x2dd495[_0x2c9b3d(0xe4)]=_0x2c9b3d(0x217),_0x2dd495[_0x2c9b3d(0x170)]=_0x2c9b3d(0x152),_0x2dd495['wHzfq']=function(_0x24b655,_0x2ce780){return _0x24b655===_0x2ce780;},_0x2dd495[_0x2c9b3d(0x265)]=function(_0x4c5e65,_0x2a1312){return _0x4c5e65===_0x2a1312;},_0x2dd495[_0x2c9b3d(0x1e2)]=_0x2c9b3d(0x20e),_0x2dd495[_0x2c9b3d(0x236)]=function(_0x37fc4b,_0x42e100){return _0x37fc4b!==_0x42e100;},_0x2dd495[_0x2c9b3d(0xa5)]=_0x2c9b3d(0x21d);const _0x2bb45d=_0x2dd495;try{if(_0x2bb45d[_0x2c9b3d(0xb2)](_0x2bb45d[_0x2c9b3d(0x1f1)],_0x2bb45d['glvdE']))return _0x5daa42[_0x2c9b3d(0xbc)](_0x2c9b3d(0x258)+_0x581bf5+_0x2c9b3d(0x15b)+_0x5a3cc3),[![],[]];else{const _0x34f143=await this[_0x2c9b3d(0x132)]['virtualNetworks'][_0x2c9b3d(0x1a0)](global_registry[_0x2c9b3d(0xfa)]);for await(const _0x35adbe of _0x34f143){if(_0x2bb45d['jKFlQ'](_0x2bb45d[_0x2c9b3d(0xe4)],_0x2bb45d[_0x2c9b3d(0x170)]))return _0x468efd[_0x2c9b3d(0x149)]=_0x2bb45d[_0x2c9b3d(0xb5)],_0x3ae85e;else{if(_0x2bb45d[_0x2c9b3d(0x206)](_0x35adbe[_0x2c9b3d(0x214)],_0x5c4629))return _0x2bb45d[_0x2c9b3d(0x265)](_0x2bb45d[_0x2c9b3d(0x1e2)],_0x2bb45d[_0x2c9b3d(0x1e2)])?!![]:!![];}}}}catch(_0x5b7ac1){if(_0x2bb45d[_0x2c9b3d(0x236)](_0x2bb45d['TBnma'],_0x2bb45d[_0x2c9b3d(0xa5)])){const _0xc9a037=_0x3b59df[_0x2c9b3d(0x199)][_0x2c9b3d(0x23a)]('-'),_0x1c87c2=_0x2bb45d[_0x2c9b3d(0x25f)](_0x2bb45d[_0x2c9b3d(0x7e)],_0xc9a037[_0x2bb45d['LUnpz'](_0xc9a037[_0x2c9b3d(0x26f)],0x1)])['slice'](0x0,0x18);return _0x1c87c2[_0x2c9b3d(0x84)]();}else return logger['error'](_0x2c9b3d(0xc2)+_0x5c4629+_0x2c9b3d(0xe7)+_0x5b7ac1),![];}return![];}async[a1_0xbadd1e(0x256)](_0x2a17b8,_0x12a0f4){const _0x47b699=a1_0xbadd1e,_0x27a439={};_0x27a439[_0x47b699(0x212)]='string',_0x27a439['acbIX']=_0x47b699(0x216),_0x27a439[_0x47b699(0x19f)]='[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]',_0x27a439['wXMwT']='[variables(\x27vnetSubnetID\x27)]',_0x27a439[_0x47b699(0x211)]=function(_0x4c3e32,_0x564b57){return _0x4c3e32!==_0x564b57;},_0x27a439[_0x47b699(0x14c)]=_0x47b699(0x227),_0x27a439[_0x47b699(0x1c7)]='iFKbv',_0x27a439['lUkJn']=function(_0x5c7d84,_0x5efdfa){return _0x5c7d84===_0x5efdfa;},_0x27a439[_0x47b699(0x9c)]=function(_0x29037a,_0x46a0cc){return _0x29037a===_0x46a0cc;},_0x27a439[_0x47b699(0x1bb)]=_0x47b699(0x116),_0x27a439[_0x47b699(0xd3)]='qHWhL';const _0x3aa021=_0x27a439;try{if(_0x3aa021[_0x47b699(0x211)](_0x3aa021[_0x47b699(0x14c)],_0x3aa021['evOYP'])){const _0x56a2dd=await this['networkClient'][_0x47b699(0x156)][_0x47b699(0x164)](global_registry[_0x47b699(0xfa)],_0x12a0f4,_0x2a17b8[0x0]);if(_0x3aa021['lUkJn'](_0x2a17b8[0x0],_0x56a2dd[_0x47b699(0x214)])){if(_0x3aa021[_0x47b699(0x9c)](_0x3aa021['iavPQ'],_0x3aa021['fTxqw'])){const _0x2869ca={};_0x2869ca['type']=_0x3aa021[_0x47b699(0x212)],_0x2869ca[_0x47b699(0xc9)]={},_0x2869ca[_0x47b699(0xc9)][_0x47b699(0xae)]=_0x3aa021[_0x47b699(0x11f)];const _0x3e304c={};_0x3e304c[_0x47b699(0x271)]=_0x3aa021[_0x47b699(0x212)],_0x3e304c[_0x47b699(0xc9)]={},_0x3e304c[_0x47b699(0xc9)]['description']=_0x3aa021[_0x47b699(0x11f)];const _0x446920={..._0x5e8b9a[_0x47b699(0x196)]};_0x446920['vpcName']=_0x2869ca,_0x446920[_0x47b699(0x81)]=_0x3e304c,_0x23751a[_0x47b699(0x196)]=_0x446920;const _0x17a2f1={};_0x17a2f1['vnetSubnetID']=_0x3aa021[_0x47b699(0x19f)],_0x12bcbb[_0x47b699(0x1e9)]=_0x17a2f1;const _0x598aac={..._0x226a6e[_0x47b699(0x88)][0x0][_0x47b699(0x22f)]['agentPoolProfiles'][0x0]};_0x598aac[_0x47b699(0x231)]=_0x3aa021[_0x47b699(0xf9)],_0x29d199[_0x47b699(0x88)][0x0][_0x47b699(0x22f)][_0x47b699(0xcb)][0x0]=_0x598aac;const _0x566c42={};_0x566c42[_0x47b699(0xed)]=_0xff113c;const _0x34d949={};_0x34d949[_0x47b699(0xed)]=_0x56f0d1[0x0];const _0x226048={..._0x4a2a0b};_0x226048[_0x47b699(0x140)]=_0x566c42,_0x226048[_0x47b699(0x81)]=_0x34d949,_0x4075ad=_0x226048;}else return[!![],_0x2a17b8];}}else{const _0x24abc9=new _0x3ce4b7(_0x7dc21f[_0x47b699(0x16c)],_0x3eede8[_0x47b699(0xf0)],_0x4a1a17[_0x47b699(0x1bc)]);this[_0x47b699(0x202)]=new _0x1cac2d(_0x24abc9,_0x2d79af[_0x47b699(0x268)]),this[_0x47b699(0x82)]=new _0x1972c6(_0x24abc9,_0x44a4f9[_0x47b699(0x268)]),this[_0x47b699(0x21e)]=new _0x4f90ef(_0x24abc9,_0x7fc2cc[_0x47b699(0x268)]),this['networkClient']=new _0x34aa20(_0x24abc9,_0x373318[_0x47b699(0x268)]),this[_0x47b699(0x24e)]=new _0x52daec(_0x24abc9,_0x506ea7[_0x47b699(0x268)]),this[_0x47b699(0x11b)]=_0x24abc9;}}catch(_0x21f312){return logger[_0x47b699(0xbc)](_0x47b699(0x258)+_0x2a17b8+_0x47b699(0x15b)+_0x21f312),[![],[]];}return[![],[]];}async[a1_0xbadd1e(0x190)](){const _0x13d50c=a1_0xbadd1e,_0x12f9d3={};_0x12f9d3[_0x13d50c(0xe2)]='No\x20CLI\x20tool\x20required';const _0x8ae704=_0x12f9d3,_0x1636a9={};_0x1636a9[_0x13d50c(0x1ec)]=!![],_0x1636a9[_0x13d50c(0xbc)]=null,_0x1636a9[_0x13d50c(0x149)]=_0x8ae704['gubyg'];const _0x4d1563=_0x1636a9;return _0x4d1563;}async[a1_0xbadd1e(0x1a2)](){const _0x169fc4=a1_0xbadd1e,_0x58dba2={};_0x58dba2['jbDKe']=_0x169fc4(0x126),_0x58dba2[_0x169fc4(0xa1)]=_0x169fc4(0x226),_0x58dba2['BZDor']=_0x169fc4(0xff);const _0x1e71e4=_0x58dba2,_0x1337a1=await this['cred'][_0x169fc4(0x148)](_0x1e71e4[_0x169fc4(0x11e)]),_0xe5d97c={};_0xe5d97c[_0x169fc4(0x18f)]=_0x1e71e4[_0x169fc4(0xa1)],_0xe5d97c[_0x169fc4(0x112)]={},_0xe5d97c[_0x169fc4(0x112)]['Authorization']='Bearer\x20'+_0x1337a1[_0x169fc4(0x17b)],_0xe5d97c[_0x169fc4(0x112)][_0x169fc4(0x13f)]=_0x1e71e4[_0x169fc4(0x1ca)];const _0x3a2886=_0xe5d97c;return _0x3a2886;}async[a1_0xbadd1e(0x21b)](_0x83801d){const _0x205df9=a1_0xbadd1e,_0x3404eb={'ReZDn':function(_0x4bb09a,_0x444d04,_0x45b1d0){return _0x4bb09a(_0x444d04,_0x45b1d0);},'vYfcK':function(_0x5e7fa6,_0x3706af){return _0x5e7fa6===_0x3706af;},'kDwzh':'No\x20service\x20principal\x20found'},_0x4566d2={};_0x4566d2[_0x205df9(0x1c8)]='',_0x4566d2[_0x205df9(0xbc)]=null;const _0xe5f5b8=_0x4566d2;try{const _0xe48bce=_0x205df9(0x113)+_0x83801d+'\x27',_0x418664=await this[_0x205df9(0x1a2)](),_0x82924d=await _0x3404eb[_0x205df9(0x1c0)](fetch,_0xe48bce,_0x418664),_0x92a6fe=await _0x82924d[_0x205df9(0x135)]();if(!_0x92a6fe[_0x205df9(0xed)]||_0x3404eb[_0x205df9(0x1cc)](_0x92a6fe[_0x205df9(0xed)]['length'],0x0))throw new Error(_0x3404eb['kDwzh'],_0x205df9(0x14a)+JSON[_0x205df9(0x1f0)](_0x92a6fe));_0xe5f5b8['principalId']=_0x92a6fe[_0x205df9(0xed)][0x0]['id'];}catch(_0x39cf3e){_0xe5f5b8['error']=_0x39cf3e;}return _0xe5f5b8;}async[a1_0xbadd1e(0x24d)](){const _0x445657=a1_0xbadd1e,_0x145459={};_0x145459[_0x445657(0xce)]=_0x445657(0x175),_0x145459['Wjcff']='denied',_0x145459[_0x445657(0x270)]=function(_0x3ad1ba,_0xdcb748){return _0x3ad1ba!==_0xdcb748;},_0x145459['agdXo']=function(_0x7ff2b7,_0x2bfcf0){return _0x7ff2b7===_0x2bfcf0;},_0x145459['JmdlA']='No\x20attached\x20role\x20for\x20the\x20client\x20key',_0x145459[_0x445657(0x1dc)]='No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles',_0x145459[_0x445657(0x1e8)]=function(_0x55fedf,_0x21af5b){return _0x55fedf===_0x21af5b;},_0x145459[_0x445657(0x195)]=function(_0x50b4ca,_0x1cf4b9){return _0x50b4ca===_0x1cf4b9;},_0x145459[_0x445657(0x7a)]=_0x445657(0x1eb);const _0x54ce85=_0x145459,_0x39dc42={};_0x39dc42[_0x445657(0x1ec)]=![],_0x39dc42[_0x445657(0xbc)]=null,_0x39dc42[_0x445657(0x149)]='';const _0x5d4c22=_0x39dc42;try{let _0x5311d9='';const _0x43343a=_0x445657(0x171)+global_registry[_0x445657(0x268)]+_0x445657(0x169)+global_registry['cloudProviderResourceGroup'],_0x3c5486=await this[_0x445657(0x21b)](global_registry[_0x445657(0xf0)]);if(_0x54ce85[_0x445657(0x270)](_0x3c5486[_0x445657(0xbc)],null))return _0x5d4c22[_0x445657(0xbc)]=_0x3c5486[_0x445657(0xbc)],_0x5d4c22;const _0x5e5503=_0x445657(0xa7)+_0x3c5486['principalId']+'\x27)',_0x5a8342={};_0x5a8342['filter']=_0x5e5503;const _0x30e2b6=await this['authClient'][_0x445657(0xdd)][_0x445657(0x16b)](_0x43343a,_0x5a8342),_0x52f0e9=[];for await(const _0x490675 of _0x30e2b6){_0x52f0e9[_0x445657(0x1b5)](_0x490675);}if(_0x54ce85[_0x445657(0x198)](_0x52f0e9[_0x445657(0x26f)],0x0))return _0x5d4c22[_0x445657(0x149)]=_0x54ce85[_0x445657(0x19d)],_0x5d4c22;const _0x5cb406=[...new Set(_0x52f0e9['map'](_0x17f133=>_0x17f133[_0x445657(0xec)]))];if(_0x54ce85[_0x445657(0x198)](_0x5cb406[_0x445657(0x26f)],0x0))return _0x5d4c22[_0x445657(0x149)]=_0x54ce85['Uyfce'],_0x5d4c22;const _0x1da398=[],_0x4db5bc=[];for(const _0x9a22a3 of _0x5cb406){const _0x3aff09=await this[_0x445657(0x24e)][_0x445657(0x1ed)][_0x445657(0x1c5)](_0x9a22a3);logger[_0x445657(0xcf)]('role\x20name\x20attached\x20-\x20'+_0x3aff09[_0x445657(0x225)]),_0x1da398['push'](_0x3aff09),logger[_0x445657(0xcf)](_0x445657(0x125)+JSON['stringify'](_0x3aff09['permissions'])),_0x3aff09[_0x445657(0x1e5)]['forEach'](_0x32ecf5=>{const _0xa41a46=_0x445657;_0x4db5bc[_0xa41a46(0x1b5)](..._0x32ecf5['actions']);});}logger[_0x445657(0xcf)](_0x445657(0xcc)+JSON['stringify'](_0x4db5bc)),_0x54ce85['pCiyM'](_0x4db5bc['length'],0x0)&&(_0x5311d9+=_0x54ce85['VqMAd'](_0x4db5bc[_0x445657(0x26f)],0x0)?_0x54ce85[_0x445657(0x7a)]:'',logger['debug'](_0x445657(0x1cb)+JSON['stringify'](_0x1da398))),_0x5d4c22['status']=!![],Object[_0x445657(0xf2)](PERMISSIONS['ACTION'])[_0x445657(0xe3)](([_0x18bc82,_0x1bb6cc])=>{const _0x4f0027=_0x445657,_0x5ee599=_0x4db5bc[_0x4f0027(0x8e)](_0x18bc82);_0x5311d9+='\x0a\x09'+_0x1bb6cc+':\x20'+(_0x5ee599?_0x54ce85['GmWXx']:_0x54ce85[_0x4f0027(0x107)]),!_0x5ee599&&(_0x5d4c22[_0x4f0027(0x1ec)]=![]);}),_0x5d4c22[_0x445657(0x149)]=_0x5311d9;}catch(_0x978226){_0x5d4c22[_0x445657(0xbc)]=_0x978226;}return _0x5d4c22;}}const a1_0x2ecb4e={};a1_0x2ecb4e[a1_0xbadd1e(0x187)]=AzureCloudProvider,module['exports']=a1_0x2ecb4e;function a1_0x3fd7(){const _0x340b53=['cred','SIFPc','14SkhYBX','jbDKe','acbIX','HHPbh','location','createManagedIdentity','false','readFileAsync','Attached\x20permissions\x20:\x20','https://graph.microsoft.com/.default','VVifo','kubeconfigs','listByResourceGroup','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','tVIWt','VqXAn','kpGSL','oIbxm','hostname','cloudProviderName','PGCRr','networkClient','5|4|2|1|3|0','@azure/identity','json','securityProfile','templates','bstackUsername','yTTpu','4713wIFgGs','dyGRg','AuIpX','ZWMRC','aYPCk','Content-Type','vpcName','mbXUi','createStorageAccount','@azure/arm-network','vnbyD','WjsRp','blockBlob','getResourceGroups','getToken','data','Received\x20response\x20-\x20','gridName','XioGu','No\x20attached\x20role\x20for\x20the\x20client\x20key','ZSMJF','5qmRhbB','34qZugiS','qPgff','CSsiF','2004951ueguFJ','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','Created\x20Azure\x20federated\x20identity','subnets','wcPFF','JOEkd','mHffe','resourceGroup','.\x20Error:\x20','federatedidentityuploader.json','IVgEq','HRmEJ','mZddR','PdMwq','toString','fLqmS','instanceType','get','zeBfD','cPwam','24RPuSTV','rWwOy','/resourceGroups/','setClients','listForScope','cloudProviderTenantId','LptgS','EcSlF','2515221jKMToz','qmJAr','subscriptions/','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','isClusterPresent','allowed','info','hubHaNameSpace','baseBlob','slice','agKfM','token','FmtFB','clientId','\x20TENANT\x20ID:\x20','skxyh','KtEsZ','VDWLX','node','30TAcAba','fUnhF','OcCeq','hqAsk','AzureCloudProvider','OlhJd','uMsbv','uVXua','[variables(\x27vnetSubnetID\x27)]','pJsMl','QExsk','userMaxNodes','method','isCliToolInstalled','AljmO','tMyAF','lCqjj','uFJhE','VqMAd','parameters','WyntV','agdXo','s3Bucket','bVTwX','toUpperCase','actions','JmdlA','accessKey','sfiLr','listAll','ktzzP','getHeader','icjxm','delete','Incremental','bstackAccesskey','turboscale-cluster-deployment','\x20RESOURCE\x20GROUP:\x20','2|0|5|3|4|1','ufECV','getClusterInfo','userInstanceType','178717wtRwLj','drIOA','xkNEm','disableLocalAccounts','hzPMT','virtualNetworks','clusterInfo','updateClusterAlreadyPresent','push','HEpjV','NoRVT','subscriptionId','../config/constants','nnMkk','iavPQ','cloudProviderClientSecret','isBrowserstackCluster','gShyz','gaSgR','ReZDn','nYlzD','LUnpz','DwwdS','HPdvI','getById','js-yaml','evOYP','principalId','turboscale-federated-deployment','BZDor','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','vYfcK','WhgKO','clusterName','HjKWl','DPYAE','dIDep','glvdE','RESOURCES','cloudProvider','filters','KdSux','createFederatedAccount','NLdcW','Enxcu','policy','JyrVZ','Uyfce','sqiPV','CURik','IWqQq','webSocketUtils','beginCreateOrUpdateAndWait','AxTfP','jQVbV','utf-8','permissions','swxCW','qlQth','pCiyM','variables','path','Action\x20permission\x20list\x20is\x20empty\x0a','status','roleDefinitions','issuerURL','WBFiE','stringify','Niclc','RrYRg','VKKWS','tOYLi','TNIkL','LjVFk','WuFhK','AMebk','yfwZR','AfFmA','mCINc','eOaZj','listClusterAdminCredentials','rws','GKCzK','cKfEK','wmCAT','containerClient','Swfcl','Enabling\x20Local\x20account\x20for\x20the\x20cluster','deleteCluster','wHzfq','loadBalancer','clientSecret','federatedidentity','oidcIssuerProfile','95476TRbucQ','0|5|7|1|4|6|2|3','PgcsF','mdavJ','NjYBt','fVKjb','GkdcG','EJCZF','turboscale-storageaccount-deployment','name','pZNXH','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','NJpee','deployments','Creating\x20Azure\x20storage\x20account','getGridHostname','getPrincipalIdFromClientId','stack','hhtVL','resourceClient','rules','thFIO','@azure/arm-storage','../config/logger','tlsTG','jEygD','roleName','GET','OyMyH','Deleting\x20the\x20cluster\x20','parse','azureresources','isVPCPresent','yiTUh','AEECC','ROpbi','properties','turboscale-managed-identity-','vnetSubnetID','../permissions/AZURE.json','pIrll','clusterAutoUpgrade','FyPjg','dlCrw','XhdEu','turboscale-identity-deployment','OTmME','split','vPwpd','fdeTt','znKAt','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','Creating\x20Azure\x20federated\x20identity','CyTxR','yOzCn','gxaMD','qAXRU','managedClusters','uzMqE','nIxAk','JqbER','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','ErlNd','\x20SUBSCRIPTION\x20ID:\x20','Creating\x20Azure\x20managed\x20identity','LIjic','checkAccess','authClient','OUmAy','./CloudProvider','OeeNP','dHpsA','HoUsP','wedvr','EJITw','isSubnetsValid','kFemq','Cannot\x20find\x20subnets\x20','definition','Lifecycle','YeVfX','WARYm','bIwQl','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','bmLei','tQQRx','gmtAG','ilvEm','irFjZ','AgqeU','jngCu','sSNMi','BgqZV','cloudProviderSubscriptionId','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','storageaccount.json','PorBN','ZbRxx','AbQWm','ySSKB','length','RjoyN','type','AUGkX','vcfFN','.json','iyUFO','EaNGz','bATJs','wIYHt','vgHdo','etqEw','kCphd','sltYt','eYpGW','subnetName','storageClient','XfNIn','toLowerCase','JomlQ','RpiSA','mpZrL','resources','xLFjc','MkuTN','createOtherResources','BoWmT','cvCMX','includes','log','YTXuA','DStGA','isStorageAccountPresent','jOjUm','jXUkw','NBYvV','storageAccountName','browserstack:managedBy','true','UJGRl','Pdnpm','QoMSv','nicpR','turboscale','FtchQ','SpRtG','getKubeConfigData','IYhGi','vjLmz','pWJiT','CPOQg','TBnma','QrBto','assignedTo(\x27','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','vpcInfo','hrbwq','RnxzN','JxtfB','rujiV','description','848382gjamgi','workloadIdentity','list','jKFlQ','exit','jSsna','TcPwa','hbqWz','createFederatedAccountForHubHA','isManagedIdentityPresent','sYMtm','LOG','No\x20CLI\x20tool\x20required','error','sendEventToBackend','join','lIInO','hITPG','JiAeH','Cannot\x20find\x20VPC\x20','xGrvr','createOrUpdate','createCluster','sendAzureInfoToHST','snQEq','Ltudf','metadata','ixbHi','agentPoolProfiles','actionPermission\x20:\x20','\x20CLIENT\x20SECRET:\x20','GmWXx','debug','gcQLP','IinPE','hub','fTxqw','TNnkc','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','getStorageAccountName','KPmIp','uswxG','Managed\x20identity\x20already\x20exists,\x20skipping','getUserInput','HUGaC','XrQna','roleAssignments','ioosR','vNrmF','wVshd','zbBVv','gubyg','forEach','VMBVa','wVqGG','string','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','qbwBF','message','rOoih','ytKyd','roleDefinitionId','value','Found\x20only\x20one\x20resource\x20group:\x20','cULfr','cloudProviderClientId','OLdZb','entries','BYmnb','svlZK','username','../utils/gridComponents','storageAccounts','lMNSQ','wXMwT','cloudProviderResourceGroup','WJDaE','setupNewCluster','2023-01-31','lmcuN','application/json','RvQsW','IqaAp','nrUQS','Deleted\x20the\x20cluster\x20successfully','SSsjH','tenantId','dozNi','Wjcff','enabled','1216872xbpZhL','22CZaOYz','10MPpOWb','EUDaE','sDMfz','AGCgZ','init','getResourceClientId','cZLEg','headers','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','bWEpd','xfOMK','EQrIt','FEboA','tags','CfYNc','EYNIP'];a1_0x3fd7=function(){return _0x340b53;};return a1_0x3fd7();}