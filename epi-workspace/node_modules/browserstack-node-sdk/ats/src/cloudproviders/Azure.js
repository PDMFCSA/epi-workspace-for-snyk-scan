const a1_0x578d60=a1_0xdaef;(function(_0x1c8d1e,_0x510891){const _0x5052c0=a1_0xdaef,_0x4d165a=_0x1c8d1e();while(!![]){try{const _0x3c8ee4=-parseInt(_0x5052c0(0x237))/0x1*(-parseInt(_0x5052c0(0x26b))/0x2)+-parseInt(_0x5052c0(0x2d7))/0x3*(parseInt(_0x5052c0(0x1cf))/0x4)+-parseInt(_0x5052c0(0x213))/0x5+-parseInt(_0x5052c0(0x2d8))/0x6+parseInt(_0x5052c0(0x162))/0x7*(-parseInt(_0x5052c0(0x121))/0x8)+-parseInt(_0x5052c0(0x14e))/0x9+parseInt(_0x5052c0(0x247))/0xa;if(_0x3c8ee4===_0x510891)break;else _0x4d165a['push'](_0x4d165a['shift']());}catch(_0x56b6e8){_0x4d165a['push'](_0x4d165a['shift']());}}}(a1_0xcc08,0xa394b));function a1_0xdaef(_0x307c9e,_0x8bf63){const _0xcc0887=a1_0xcc08();return a1_0xdaef=function(_0xdaefa2,_0x248516){_0xdaefa2=_0xdaefa2-0xf4;let _0x57c704=_0xcc0887[_0xdaefa2];return _0x57c704;},a1_0xdaef(_0x307c9e,_0x8bf63);}function a1_0xcc08(){const _0x5dfb03=['htSES','21142190WUJNfK','rboMp','stack','debug','default','isVPCPresent','Attached\x20permissions\x20:\x20','HWVaN','cloudProviderResourceGroup','SIKli','srGWl','pHLWS','Gvpis','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','nfXLx','ffYzC','beginCreateOrUpdateAndWait','setCachedCredsInRegistry','exports','ukLmL','Creating\x20Azure\x20managed\x20identity','isStorageAccountPresent','Ycnbq','KmMiM','isManagedIdentityPresent','aVqxQ','Authorization','mbDZm','Created\x20Azure\x20federated\x20identity','ALdLN','loadBalancer','EVQbp','FxaoD','2|4|5|0|3|1','cloudProvider','ibuie','2234vDxhJB','MoSoH','getHeader','GOpDq','ffWdC','\x20CLIENT\x20SECRET:\x20','maxNodes','managedidentity.json','ouKCH','Managed\x20identity\x20already\x20exists,\x20skipping','iymIs','JgQbT','definition','GlDSc','listForScope','mYzeB','SoPlz','Cannot\x20find\x20subnets\x20','\x20SUBSCRIPTION\x20ID:\x20','rZcgT','vFYTa','vpcInfo','CgWmh','variables','getById','createFederatedAccountForHubHA','fPihH','OloQo','HfWlC','HkVoH','ASonf','dlETh','vDxOR','PMgMh','managedClusters','nbadn','wIvEe','jLBty','ZAYGm','rws','ysfBV','createStorageAccount','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','meXWM','getStorageAccountName','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','entries','log','bfvzq','xUyzv','location','sfsoM','jAJHM','virtualNetworks','sYHnW','lrDVW','turboscale-storageaccount-deployment','hubharesources','ingress','fRyJT','Cannot\x20find\x20VPC\x20','HVhmT','TELik','dgEtq','mMUjg','containerClient','UJJid','roleAssignments','CYEuw','getPrincipalIdFromClientId','\x20RESOURCE\x20GROUP:\x20','qIukK','hVGoa','denied','sOnTJ','ISizN','Vufpx','YtIRx','camrE','vsuju','isBrowserstackCluster','utf-8','cloudProviderTenantId','NxGXA','webSocketUtils','Blob\x20delete\x20lifecycle','value','policy','agentPoolProfiles','node','UGjzp','zjnSJ','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','type','vehRL','sKspe','CaCJg','zKWWL','vpcName','exit','2|3|1|5|4|0','rZvKi','@azure/arm-containerservice','uXJSX','zXhJy','vNAJC','nDRxG','data','12pYFKVg','5905782fBrqVI','GMBDf','Tnzjl','uqzea','MMKJM','permissions','push','RoXNG','UrOiw','Found\x20only\x20one\x20resource\x20group:\x20','UQQcY','ZtcAh','setClients','subscriptionId','daysAfterCreationGreaterThan','wEggF','PykOT','VutAI','Content-Type','bstackUsername','disableLocalAccounts','@azure/identity','IhHtJ','fFMlo','wSJWL','hubHaNameSpace','pKsfX','readFileAsync','join','JiTTX','oRcgE','lLvpJ','\x20CLIENT\x20ID:\x20','browserstack:managedBy','fKaoD','AcNrv','zbvlw','UKDgB','application/json','LsNbn','storageClient','role\x20name\x20attached\x20-\x20','rules','NdHkp','GET','bsICg','createOtherResources','clusterRegion','YLJxu','message','turboscale','rBbfN','/resourceGroups/','VQgCL','hostname','isCliToolInstalled','MJPdU','cWDrT','cloudProviderClientId','Ojfql','parameters','UeSYS','utWYC','EHinh','rqLRV','24ETwSUT','STfcX','fgNQW','KMiTV','azureresources','OCshw','IiYRR','TdiwE','Storage\x20account\x20already\x20exists,\x20skipping','enabled','zgnZI','nNlrA','properties','TJzDk','@azure/arm-storage','pAlaI','AMCuC','BrslK','listByResourceGroup','mdrQp','Creating\x20Azure\x20storage\x20account','tZbeU','baseBlob','aEZgt','BrowserStack','allowed','error','sIKco','s3Bucket','username','listAll','templates','wUgeF','auciS','vnetSubnetID','securityProfile','heHmz','SLqSf','roleDefinitionId','length','accessKey','RrfHX','tenantId','becJV','dqEWn','1455993pziKWW','sjkXv','isClusterPresent','LOG','akscluster.json','assignedTo(\x27','ySmfy','MxOCr','toLowerCase','getKubeConfigData','fogoa','.json','delete','resourceClient','federatedidentity','.\x20Error:\x20','YBuOU','kubeconfigs','storageAccounts','forEach','1422057FVjhkV','iALmP','gPodl','toString','wGEMZ','BHltK','RSfdY','getResourceClientId','blobTypes','@azure/arm-resources','UDmIR','QtzoX','resourceGroups','ZCXRI','FLxyl','UIqkF','Enabling\x20Local\x20account\x20for\x20the\x20cluster','oUfTw','oidcIssuerProfile','NtqPW','resourceGroup','string','cpltx','snkrR','subnetName','YAUMp','rVgyz','AKqvD','hDvPg','parse','MQbpW','qoCBk','wBRbF','roINb','../config/constants','createCluster','YSgSq','XhqQj','clusterInfo','../permissions/AZURE.json','storageAccountName','hGnlZ','stringify','yEuvr','tags','xdzvD','No\x20attached\x20role\x20for\x20the\x20client\x20key','iPfic','cred','WfjvV','DKjCi','BGyOl','CkjQZ','KMcWq','nuUhi','LxlqT','GkBEa','subnets','ZMrKu','Tjqsf','AACjQ','slice','clientId','ByMOv','iIKSn','createOrUpdate','mrXIE','getGridHostname','FqVrK','AtpQI','UZGpD','TkkBD','[variables(\x27vnetSubnetID\x27)]','YrrYf','SWrct','hkzIQ','EKCCg','yGUXo','eqUSC','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','Received\x20response\x20-\x20','lfcnT','SQXyf','createManagedIdentity','@azure/arm-authorization','tkNqt','beginDeleteAndWait','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','QAvWM','getClusterInfo','../utils/utilityMethods','instanceType','nAscz','name','turboscale-federated-deployment','NUVGU','NCSkV','VfJNN','PKyLh','\x20TENANT\x20ID:\x20','WUUxn','xSCFc','Action\x20permission\x20list\x20is\x20empty\x0a','HXWaA','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','ZPFpJ','DMRer','ilVdl','sYytZ','69516mHxVrt','DfoUy','token','cloudProviderClientSecret','jepRX','actions','cLjrz','CrwXJ','yMxLc','pnkQF','uYHpg','KidYF','FiriH','ZZGJF','sNlOw','qmrsd','Oacpo','wcRpg','init','path','mfXZJ','qDcFt','qSoxV','MCYwG','headers','deployments','OhFgt','JXCOG','getUserInput','kqXkh','UyrMN','HLEyc','hiBhr','false','HFlJD','No\x20service\x20principal\x20found','vUYrE','sendEventToBackend','split','clusterAutoUpgrade','HrPlE','Lkmtp','userMaxNodes','Incremental','description','storageaccount.json','issuerURL','UDmuZ','AfDtS','map','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','RBGyj','aOwDI','../config/logger','turboscale-cluster-deployment','DsLyL','gvDXb','turboscale-identity-deployment','iFahT','pClXN','rucUm','4|1|0|3|2|5','bxmpb','fGycn','kSCkf','uPfMJ','FHbgf','uMkLH','4088450LHiVIg','uvqHd','hraXo','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','hub','cloudProviderName','Lifecycle','cloudProviderSubscriptionId','RESOURCES','xVpKU','resources','authClient','eBndE','clusterName','setupNewCluster','BdAWu','grKxe','dXjRw','userInstanceType','status','PfCsx','QrYTv','info','tGjrP','metadata','toUpperCase','No\x20CLI\x20tool\x20required','hZuca','FmNoR','QbiGC','HhTOw','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','get','clientSecret','Zsdmc','Bnyor','1073GHUPXJ','filter','OiQcb','checkAccess','sendAzureInfoToHST','networkClient','Bearer\x20','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','bCXah','CdPtz','json','LNacX','workloadIdentity','listClusterAdminCredentials','principalId'];a1_0xcc08=function(){return _0x5dfb03;};return a1_0xcc08();}const fs=require('fs'),path=require(a1_0x578d60(0x1e2)),yaml=require('js-yaml'),{logger}=require(a1_0x578d60(0x204)),{CloudProvider}=require('./CloudProvider'),{deleteRoutingDeps,deleteAgent}=require('../utils/gridComponents'),{AZURE,WS_EVENTS,global_registry}=require(a1_0x578d60(0x184)),PERMISSIONS=require(a1_0x578d60(0x189)),{ClientSecretCredential}=require(a1_0x578d60(0xf5)),{NetworkManagementClient}=require('@azure/arm-network'),{StorageManagementClient}=require(a1_0x578d60(0x12f)),{AuthorizationManagementClient}=require(a1_0x578d60(0x1b6)),{ResourceManagementClient}=require(a1_0x578d60(0x16b)),{ContainerServiceClient}=require(a1_0x578d60(0x2d1)),{runCommand}=require(a1_0x578d60(0x1bc));class AzureCloudProvider extends CloudProvider{constructor(_0x1b92fe,_0xfbc492,_0x4d78db,_0x47d7ae){const _0x4fa98f=a1_0x578d60,_0x581993={};_0x581993[_0x4fa98f(0x242)]='6|3|5|4|2|7|1|0';const _0x2f0529=_0x581993,_0x1603e8=_0x2f0529['LNacX']['split']('|');let _0x50e8f0=0x0;while(!![]){switch(_0x1603e8[_0x50e8f0++]){case'0':this[_0x4fa98f(0x21e)]=null;continue;case'1':this[_0x4fa98f(0x23c)]=null;continue;case'2':this[_0x4fa98f(0x108)]=null;continue;case'3':this[_0x4fa98f(0x192)]=null;continue;case'4':this[_0x4fa98f(0x2ac)]=null;continue;case'5':this[_0x4fa98f(0x188)]=null;continue;case'6':super(AZURE,_0x1b92fe,_0xfbc492,_0x4d78db,_0x47d7ae);continue;case'7':this[_0x4fa98f(0x15b)]=null;continue;}break;}}async['init'](){const _0x2af399=a1_0x578d60;return await super[_0x2af399(0x1e1)](),this;}[a1_0x578d60(0x2e4)](){const _0x3a2ae0=a1_0x578d60,_0x473e70=new ClientSecretCredential(global_registry['cloudProviderTenantId'],global_registry['cloudProviderClientId'],global_registry[_0x3a2ae0(0x1d2)]);this[_0x3a2ae0(0x2ac)]=new ContainerServiceClient(_0x473e70,global_registry[_0x3a2ae0(0x21a)]),this[_0x3a2ae0(0x108)]=new StorageManagementClient(_0x473e70,global_registry[_0x3a2ae0(0x21a)]),this[_0x3a2ae0(0x15b)]=new ResourceManagementClient(_0x473e70,global_registry[_0x3a2ae0(0x21a)]),this[_0x3a2ae0(0x23c)]=new NetworkManagementClient(_0x473e70,global_registry[_0x3a2ae0(0x21a)]),this[_0x3a2ae0(0x21e)]=new AuthorizationManagementClient(_0x473e70,global_registry[_0x3a2ae0(0x21a)]),this[_0x3a2ae0(0x192)]=_0x473e70;}['getStorageAccountName'](){const _0x3ac9a5=a1_0x578d60,_0x38feea={};_0x38feea[_0x3ac9a5(0x19d)]=function(_0x5aed49,_0x729f13){return _0x5aed49+_0x729f13;},_0x38feea[_0x3ac9a5(0x2dc)]=_0x3ac9a5(0x112),_0x38feea['lLvpJ']=function(_0x5ced55,_0x40adf0){return _0x5ced55-_0x40adf0;};const _0x492a16=_0x38feea,_0x44ed94=global_registry['s3Bucket']['split']('-'),_0xf4c542=_0x492a16[_0x3ac9a5(0x19d)](_0x492a16[_0x3ac9a5(0x2dc)],_0x44ed94[_0x492a16[_0x3ac9a5(0xff)](_0x44ed94[_0x3ac9a5(0x148)],0x1)])[_0x3ac9a5(0x19f)](0x0,0x18);return _0xf4c542[_0x3ac9a5(0x156)]();}[a1_0x578d60(0x258)](_0x5422ca){const _0x436919=a1_0x578d60,_0x4361e3={};_0x4361e3['zCqKP']=_0x436919(0x2cf);const _0x457273=_0x4361e3,_0x97c339=_0x457273['zCqKP'][_0x436919(0x1f5)]('|');let _0x284ded=0x0;while(!![]){switch(_0x97c339[_0x284ded++]){case'0':this[_0x436919(0x2e4)]();continue;case'1':global_registry[_0x436919(0x2bd)]=_0x5422ca[this['cloudProviderName']]['tenantId'];continue;case'2':global_registry['cloudProviderClientId']=_0x5422ca[this[_0x436919(0x218)]][_0x436919(0x1a0)];continue;case'3':global_registry[_0x436919(0x1d2)]=_0x5422ca[this[_0x436919(0x218)]][_0x436919(0x234)];continue;case'4':global_registry[_0x436919(0x24f)]=_0x5422ca[this['cloudProviderName']][_0x436919(0x176)];continue;case'5':global_registry['cloudProviderSubscriptionId']=_0x5422ca[this[_0x436919(0x218)]][_0x436919(0x2e5)];continue;}break;}}async[a1_0x578d60(0x1eb)](_0x41f103,_0x5ce0ba){const _0x2c61a9=a1_0x578d60,_0xcdbd2d={'snkrR':_0x2c61a9(0x1f2),'TdiwE':function(_0x1cd9b0,_0x22bcfe){return _0x1cd9b0+_0x22bcfe;},'SLqSf':_0x2c61a9(0x112),'CaCJg':function(_0x3861aa,_0x33140a){return _0x3861aa-_0x33140a;},'Ojfql':function(_0x4a3ac8,_0x42484e){return _0x4a3ac8===_0x42484e;},'kGlMG':function(_0x525110,_0x109984){return _0x525110(_0x109984);},'yEuvr':function(_0x38ed8f,_0x52d661){return _0x38ed8f(_0x52d661);},'UDmuZ':function(_0x175aa7,_0x1a2039){return _0x175aa7===_0x1a2039;},'pHLWS':function(_0x52790e,_0x383938){return _0x52790e!==_0x383938;},'BHltK':_0x2c61a9(0x1da),'UQQcY':'RpJOq','GOpDq':'mwWuw','vDxOR':function(_0x2e69c6,_0x50d3d7){return _0x2e69c6===_0x50d3d7;},'bfvzq':function(_0x431a02,_0x178334){return _0x431a02!==_0x178334;},'sKspe':'gEqjq','sYytZ':_0x2c61a9(0x1ed),'hVGoa':_0x2c61a9(0x216),'zbvlw':function(_0x25ebc9,_0x1d4c86){return _0x25ebc9!==_0x1d4c86;},'xVMsQ':_0x2c61a9(0x207),'DsLyL':'iqeHd','fgNQW':function(_0x3a4f66,_0x5b1a8d){return _0x3a4f66===_0x5b1a8d;},'rboMp':_0x2c61a9(0x132),'nfXLx':function(_0x4e53c,_0x10d638){return _0x4e53c<_0x10d638;},'NbdVo':_0x2c61a9(0x1ee),'xlxmC':_0x2c61a9(0x209),'NdHkp':'Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','wUgeF':function(_0x5cc3f8,_0x1c344b){return _0x5cc3f8(_0x1c344b);},'AMCuC':function(_0x9d65ee,_0x4ced1e){return _0x9d65ee<=_0x4ced1e;},'LLwom':function(_0x348ab3,_0x4c52be){return _0x348ab3>_0x4c52be;},'YAUMp':function(_0x4cdc48,_0x1624d4){return _0x4cdc48===_0x1624d4;},'Zpxkq':_0x2c61a9(0x27a),'xSCFc':_0x2c61a9(0x29c)},_0x1eb6df=this[_0x2c61a9(0x218)][_0x2c61a9(0x22c)](),_0x4f450a=await _0xcdbd2d['kGlMG'](_0x41f103,_0x1eb6df+_0x2c61a9(0x100)),_0x3582ad=await _0xcdbd2d[_0x2c61a9(0x18d)](_0x41f103,_0x1eb6df+_0x2c61a9(0x270)),_0x4563e4=await _0xcdbd2d[_0x2c61a9(0x18d)](_0x41f103,_0x1eb6df+_0x2c61a9(0x1c5)),_0x580df4=await _0xcdbd2d[_0x2c61a9(0x18d)](_0x41f103,_0x1eb6df+_0x2c61a9(0x27d));global_registry[_0x2c61a9(0x11a)]=_0x4f450a,global_registry[_0x2c61a9(0x1d2)]=_0x3582ad,global_registry[_0x2c61a9(0x2bd)]=_0x4563e4,global_registry[_0x2c61a9(0x21a)]=_0x580df4,this[_0x2c61a9(0x2e4)]();const _0x280ae3=await this['getResourceGroups'](),_0x5f2a35=_0x280ae3[_0x2c61a9(0x148)];let _0x538af7;if(_0xcdbd2d[_0x2c61a9(0x1fe)](_0x5f2a35,0x0))_0xcdbd2d[_0x2c61a9(0x252)](_0xcdbd2d[_0x2c61a9(0x167)],_0xcdbd2d[_0x2c61a9(0x2e2)])?_0x538af7=await _0xcdbd2d[_0x2c61a9(0x18d)](_0x41f103,_0x1eb6df+_0x2c61a9(0x2b1)):_0x52f586[_0x2c61a9(0x2de)](_0x35b714);else{if(_0xcdbd2d[_0x2c61a9(0x1fe)](_0x5f2a35,0x1)){if(_0xcdbd2d['Ojfql'](_0xcdbd2d['GOpDq'],_0xcdbd2d[_0x2c61a9(0x26e)])){const _0x1e571c=await _0xcdbd2d['kGlMG'](_0x41f103,_0x2c61a9(0x2e1)+_0x280ae3[0x0]+'\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20');if(_0xcdbd2d['vDxOR'](_0x1e571c,undefined)||_0xcdbd2d['UDmuZ'](_0x1e571c,null)||!(_0xcdbd2d[_0x2c61a9(0x11b)](_0x1e571c[_0x2c61a9(0x156)](),'y')||_0xcdbd2d['UDmuZ'](_0x1e571c[_0x2c61a9(0x156)](),'n'))){if(_0xcdbd2d[_0x2c61a9(0x29b)](_0xcdbd2d[_0x2c61a9(0x2ca)],_0xcdbd2d[_0x2c61a9(0x1ce)]))console[_0x2c61a9(0x13b)](_0xcdbd2d['hVGoa']),process['exit'](0x1);else throw new _0x1535ff(_0xcdbd2d[_0x2c61a9(0x179)],_0x2c61a9(0x1b2)+_0x3a6d0a[_0x2c61a9(0x18c)](_0x38ae12));}_0xcdbd2d[_0x2c61a9(0x28b)](_0x1e571c[_0x2c61a9(0x156)](),'n')&&(_0xcdbd2d[_0x2c61a9(0x104)](_0xcdbd2d['xVMsQ'],_0xcdbd2d[_0x2c61a9(0x206)])?process[_0x2c61a9(0x2ce)](0x0):_0x30af3c['error']=_0x3e0560),_0x538af7=_0x280ae3[0x0];}else{const _0x3a80f4=_0x564719[_0x2c61a9(0x13d)][_0x2c61a9(0x1f5)]('-'),_0x2270fb=_0xcdbd2d[_0x2c61a9(0x128)](_0xcdbd2d[_0x2c61a9(0x146)],_0x3a80f4[_0xcdbd2d[_0x2c61a9(0x2cb)](_0x3a80f4['length'],0x1)])['slice'](0x0,0x18);return _0x2270fb[_0x2c61a9(0x156)]();}}else{if(_0xcdbd2d[_0x2c61a9(0x123)](_0xcdbd2d['rboMp'],_0xcdbd2d[_0x2c61a9(0x248)])){for(let _0x8d9350=0x0;_0xcdbd2d[_0x2c61a9(0x255)](_0x8d9350,_0x280ae3[_0x2c61a9(0x148)]);_0x8d9350+=0x1){if(_0xcdbd2d[_0x2c61a9(0x29b)](_0xcdbd2d['NbdVo'],_0xcdbd2d['xlxmC']))console[_0x2c61a9(0x29a)]('['+_0xcdbd2d[_0x2c61a9(0x128)](_0x8d9350,0x1)+']\x20'+_0x280ae3[_0x8d9350]);else{if(_0xcdbd2d[_0x2c61a9(0x11b)](_0x561de6[_0x2c61a9(0x1bf)],'turboscale-managed-identity-'+this[_0x2c61a9(0x220)]))return!![];}}const _0x5658c6=await _0xcdbd2d['yEuvr'](_0x41f103,_0xcdbd2d[_0x2c61a9(0x10b)]),_0x2748ba=_0xcdbd2d['wUgeF'](Number,_0x5658c6);if(_0xcdbd2d[_0x2c61a9(0x141)](isNaN,_0x2748ba)||_0xcdbd2d[_0x2c61a9(0x131)](_0x2748ba,0x0)||_0xcdbd2d['LLwom'](_0x2748ba,_0x5f2a35)){if(_0xcdbd2d[_0x2c61a9(0x17b)](_0xcdbd2d['Zpxkq'],_0xcdbd2d[_0x2c61a9(0x1c7)]))return!![];else console[_0x2c61a9(0x13b)](_0xcdbd2d[_0x2c61a9(0x2b3)]),process['exit'](0x1);}_0x538af7=_0x280ae3[_0xcdbd2d[_0x2c61a9(0x2cb)](_0x2748ba,0x1)];}else{const _0x4635a7=new _0xe7945b(_0x942d9c[_0x2c61a9(0x2bd)],_0x9427bf[_0x2c61a9(0x11a)],_0x26dae3[_0x2c61a9(0x1d2)]);this[_0x2c61a9(0x2ac)]=new _0x2465d2(_0x4635a7,_0xe13a4d[_0x2c61a9(0x21a)]),this[_0x2c61a9(0x108)]=new _0x58f783(_0x4635a7,_0x594e03[_0x2c61a9(0x21a)]),this[_0x2c61a9(0x15b)]=new _0x4e53a9(_0x4635a7,_0x3ff7e7[_0x2c61a9(0x21a)]),this[_0x2c61a9(0x23c)]=new _0x3f799d(_0x4635a7,_0x1922ba[_0x2c61a9(0x21a)]),this['authClient']=new _0x224b83(_0x4635a7,_0x3f6ff9[_0x2c61a9(0x21a)]),this[_0x2c61a9(0x192)]=_0x4635a7;}}}global_registry[_0x2c61a9(0x24f)]=_0x538af7;const _0x412c5c={};return _0x412c5c[_0x2c61a9(0x1a0)]=_0x4f450a,_0x412c5c['clientSecret']=_0x3582ad,_0x412c5c[_0x2c61a9(0x14b)]=_0x4563e4,_0x412c5c[_0x2c61a9(0x2e5)]=_0x580df4,_0x412c5c[_0x2c61a9(0x176)]=_0x538af7,_0x5ce0ba[_0x2c61a9(0x269)][AZURE]=_0x412c5c,_0x5ce0ba;}async['getResourceGroups'](){const _0x2b8ef4=a1_0x578d60,_0x43e1fc={};_0x43e1fc[_0x2b8ef4(0x16c)]=function(_0x3d042c,_0x5c4d57){return _0x3d042c!==_0x5c4d57;},_0x43e1fc[_0x2b8ef4(0x2ba)]='eUfrH',_0x43e1fc[_0x2b8ef4(0x1f1)]=_0x2b8ef4(0x198),_0x43e1fc['aVqxQ']=_0x2b8ef4(0x12b),_0x43e1fc['STfcX']=_0x2b8ef4(0x2e9);const _0x1a7931=_0x43e1fc,_0x47c35d=[];try{if(_0x1a7931[_0x2b8ef4(0x16c)](_0x1a7931[_0x2b8ef4(0x2ba)],_0x1a7931[_0x2b8ef4(0x1f1)])){const _0x5e3e86=await this['resourceClient'][_0x2b8ef4(0x16e)]['list']();for await(const _0x28c39f of _0x5e3e86){if(_0x1a7931[_0x2b8ef4(0x16c)](_0x1a7931[_0x2b8ef4(0x260)],_0x1a7931[_0x2b8ef4(0x122)]))_0x47c35d[_0x2b8ef4(0x2de)](_0x28c39f[_0x2b8ef4(0x1bf)]);else return _0x4a1f76['error'](_0x2b8ef4(0x232)+_0x18256f+':'+_0x9cd56a[_0x2b8ef4(0x249)]),{};}}else return _0xcb9648['error']=_0x49c0bd[_0x2b8ef4(0x13b)],_0x25ee9e;}catch(_0x196a1e){}return _0x47c35d;}async[a1_0x578d60(0x1bb)](){const _0x15c09c=a1_0x578d60;return this[_0x15c09c(0x188)]=await this[_0x15c09c(0x2ac)]['managedClusters'][_0x15c09c(0x233)](global_registry[_0x15c09c(0x24f)],this['clusterName']),this[_0x15c09c(0x188)];}async[a1_0x578d60(0x157)](){const _0x4ea6e9=a1_0x578d60,_0x312492=await this['containerClient'][_0x4ea6e9(0x28d)][_0x4ea6e9(0x244)](global_registry[_0x4ea6e9(0x24f)],this[_0x4ea6e9(0x220)]),_0x5e53e7=_0x312492[_0x4ea6e9(0x15f)][0x0][_0x4ea6e9(0x2c1)][_0x4ea6e9(0x165)]();return _0x5e53e7;}[a1_0x578d60(0x1a5)](_0x20a46b){const _0x3ce400=a1_0x578d60;return _0x20a46b[_0x3ce400(0x226)]['loadBalancer'][_0x3ce400(0x2a5)][0x0][_0x3ce400(0x116)];}async[a1_0x578d60(0x150)](){const _0x57c6a7=a1_0x578d60,_0x2ffacc={};_0x2ffacc[_0x57c6a7(0x210)]=_0x57c6a7(0x2c7),_0x2ffacc['HkVoH']=_0x57c6a7(0x13a),_0x2ffacc[_0x57c6a7(0x286)]=_0x57c6a7(0x2b4),_0x2ffacc['ZXOlE']=function(_0x4e88f1,_0x305c0e){return _0x4e88f1===_0x305c0e;},_0x2ffacc[_0x57c6a7(0x2b7)]=_0x57c6a7(0x1c4),_0x2ffacc[_0x57c6a7(0x1b4)]=_0x57c6a7(0x178),_0x2ffacc[_0x57c6a7(0x186)]=function(_0x3ad3a0,_0x164b16){return _0x3ad3a0!==_0x164b16;},_0x2ffacc[_0x57c6a7(0x1c9)]=_0x57c6a7(0x267),_0x2ffacc[_0x57c6a7(0x158)]=function(_0x47332f,_0xec574d){return _0x47332f===_0xec574d;},_0x2ffacc[_0x57c6a7(0x212)]=_0x57c6a7(0x1ba),_0x2ffacc[_0x57c6a7(0xf7)]='TneSw';const _0x521b53=_0x2ffacc,_0x22ed50=new Array();for await(const _0x57b58e of this['containerClient'][_0x57c6a7(0x28d)][_0x57c6a7(0x133)](global_registry[_0x57c6a7(0x24f)])){if(_0x521b53['ZXOlE'](_0x521b53[_0x57c6a7(0x2b7)],_0x521b53['SQXyf']))return _0x2b7df9[_0x57c6a7(0x2d6)]=_0x521b53[_0x57c6a7(0x210)],_0x46ee2b;else _0x22ed50[_0x57c6a7(0x2de)](_0x57b58e);}for await(const _0xb290e of _0x22ed50){if(_0x521b53[_0x57c6a7(0x186)](_0x521b53['HXWaA'],_0x521b53[_0x57c6a7(0x1c9)])){const _0x42a74e=_0x3f7abc['includes'](_0x2079b3);_0x361092+='\x0a\x09'+_0x3c11a1+':\x20'+(_0x42a74e?_0x521b53[_0x57c6a7(0x288)]:_0x521b53[_0x57c6a7(0x286)]),!_0x42a74e&&(_0x222e15[_0x57c6a7(0x226)]=![]);}else{if(_0x521b53['fogoa'](_0xb290e[_0x57c6a7(0x1bf)],this[_0x57c6a7(0x220)])){if(_0x521b53[_0x57c6a7(0x186)](_0x521b53[_0x57c6a7(0x212)],_0x521b53[_0x57c6a7(0xf7)]))return await this['getClusterInfo'](),!![];else _0x4d9505[_0x57c6a7(0x280)][_0x57c6a7(0x2de)](_0x3c78ec);}}}return![];}async[a1_0x578d60(0x221)](_0x506918=null,_0x41936c=null){const _0x2b257a=a1_0x578d60,_0x5b801b={};_0x5b801b[_0x2b257a(0x115)]=_0x2b257a(0x268),_0x5b801b[_0x2b257a(0x11d)]=_0x2b257a(0x1b9);const _0x4d178c=_0x5b801b,_0x2987d9=_0x4d178c[_0x2b257a(0x115)][_0x2b257a(0x1f5)]('|');let _0x212ac8=0x0;while(!![]){switch(_0x2987d9[_0x212ac8++]){case'0':await this[_0x2b257a(0x185)](_0x506918,_0x41936c);continue;case'1':return[_0x506918,_0x41936c];case'2':this[_0x2b257a(0x23b)]();continue;case'3':await this['createOtherResources']();continue;case'4':const _0x346d62={};_0x346d62[_0x2b257a(0x2c8)]=WS_EVENTS['LOG'],_0x346d62[_0x2b257a(0x111)]=_0x4d178c[_0x2b257a(0x11d)],this[_0x2b257a(0x2bf)][_0x2b257a(0x1f4)](this[_0x2b257a(0x292)],_0x346d62);continue;case'5':logger[_0x2b257a(0x229)](_0x4d178c[_0x2b257a(0x11d)]);continue;}break;}}async[a1_0x578d60(0x185)](_0x46efb3=null,_0x2c613c=null){const _0x461fa3=a1_0x578d60,_0x2cbcb2={};_0x2cbcb2[_0x461fa3(0x1d7)]=_0x461fa3(0x22d),_0x2cbcb2[_0x461fa3(0x256)]='templates',_0x2cbcb2[_0x461fa3(0x1f7)]=_0x461fa3(0x125),_0x2cbcb2['LsNbn']=_0x461fa3(0x152),_0x2cbcb2[_0x461fa3(0x2e0)]=_0x461fa3(0x2bc),_0x2cbcb2[_0x461fa3(0xfa)]='true',_0x2cbcb2[_0x461fa3(0x1dc)]=_0x461fa3(0x1f0),_0x2cbcb2[_0x461fa3(0x127)]=function(_0x2dae48,_0x3c5d97){return _0x2dae48!==_0x3c5d97;},_0x2cbcb2[_0x461fa3(0x211)]=_0x461fa3(0x1de),_0x2cbcb2[_0x461fa3(0x1d3)]=_0x461fa3(0x177),_0x2cbcb2[_0x461fa3(0x17d)]=_0x461fa3(0x23e),_0x2cbcb2['YLJxu']='[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]',_0x2cbcb2['ALdLN']=_0x461fa3(0x1aa),_0x2cbcb2[_0x461fa3(0x118)]=_0x461fa3(0x205),_0x2cbcb2[_0x461fa3(0x1df)]='Incremental';const _0x486c98=_0x2cbcb2;let _0x454388=await fs['readFileAsync'](path[_0x461fa3(0xfc)](__dirname,'..',_0x486c98[_0x461fa3(0x256)],_0x486c98[_0x461fa3(0x1f7)],_0x486c98[_0x461fa3(0x107)]),_0x486c98[_0x461fa3(0x2e0)]);_0x454388=JSON[_0x461fa3(0x17f)](_0x454388);const _0x571c47={};_0x571c47[_0x461fa3(0x2c1)]=this[_0x461fa3(0x220)];const _0x2d0a65={};_0x2d0a65['value']=global_registry[_0x461fa3(0x10f)];const _0x6cb49d={};_0x6cb49d[_0x461fa3(0x2c1)]=global_registry[_0x461fa3(0x1bd)];const _0x4f56c1={};_0x4f56c1['value']=global_registry[_0x461fa3(0x271)];const _0x277821={};_0x277821[_0x461fa3(0x2c1)]=global_registry['clusterAutoUpgrade']?_0x486c98['pKsfX']:_0x486c98[_0x461fa3(0x1dc)];const _0x4c74b7={};_0x4c74b7[_0x461fa3(0x220)]=_0x571c47,_0x4c74b7[_0x461fa3(0x29d)]=_0x2d0a65,_0x4c74b7[_0x461fa3(0x225)]=_0x6cb49d,_0x4c74b7[_0x461fa3(0x1f9)]=_0x4f56c1,_0x4c74b7[_0x461fa3(0x1f6)]=_0x277821;let _0x442fe9=_0x4c74b7;if(_0x486c98['IiYRR'](_0x46efb3,null)&&_0x486c98[_0x461fa3(0x127)](_0x2c613c,null)){if(_0x486c98['IiYRR'](_0x486c98[_0x461fa3(0x211)],_0x486c98['FHbgf'])){const _0xcc8dc0={};_0xcc8dc0[_0x461fa3(0x226)]=!![],_0xcc8dc0[_0x461fa3(0x13b)]=null,_0xcc8dc0[_0x461fa3(0x2d6)]=_0x486c98[_0x461fa3(0x1d7)];const _0x27a3a8=_0xcc8dc0;return _0x27a3a8;}else{const _0xe395a5={};_0xe395a5[_0x461fa3(0x2c8)]=_0x486c98[_0x461fa3(0x1d3)],_0xe395a5['metadata']={},_0xe395a5['metadata']['description']=_0x486c98[_0x461fa3(0x17d)];const _0x33c131={};_0x33c131[_0x461fa3(0x2c8)]=_0x486c98[_0x461fa3(0x1d3)],_0x33c131[_0x461fa3(0x22b)]={},_0x33c131[_0x461fa3(0x22b)][_0x461fa3(0x1fb)]=_0x486c98[_0x461fa3(0x17d)],_0x454388[_0x461fa3(0x11c)]={..._0x454388[_0x461fa3(0x11c)],'vpcName':_0xe395a5,'subnetName':_0x33c131};const _0x8d8505={};_0x8d8505[_0x461fa3(0x143)]=_0x486c98[_0x461fa3(0x110)],_0x454388[_0x461fa3(0x282)]=_0x8d8505,_0x454388[_0x461fa3(0x21d)][0x0][_0x461fa3(0x12d)][_0x461fa3(0x2c3)][0x0]={..._0x454388['resources'][0x0]['properties'][_0x461fa3(0x2c3)][0x0],'vnetSubnetID':_0x486c98[_0x461fa3(0x264)]};const _0x2b8da6={};_0x2b8da6[_0x461fa3(0x2c1)]=_0x46efb3;const _0x5eae95={};_0x5eae95[_0x461fa3(0x2c1)]=_0x2c613c[0x0],_0x442fe9={..._0x442fe9,'vpcName':_0x2b8da6,'subnetName':_0x5eae95};}}await this[_0x461fa3(0x15b)][_0x461fa3(0x1e8)][_0x461fa3(0x257)](global_registry[_0x461fa3(0x24f)],_0x486c98[_0x461fa3(0x118)],{'properties':{'template':_0x454388,'mode':_0x486c98[_0x461fa3(0x1df)],'parameters':_0x442fe9}});}async[a1_0x578d60(0x10e)](){const _0x3eee64=a1_0x578d60,_0x7e373b={};_0x7e373b[_0x3eee64(0x1cd)]=function(_0x249654,_0x3fd905){return _0x249654===_0x3fd905;},_0x7e373b[_0x3eee64(0x1e5)]=_0x3eee64(0x1e4),_0x7e373b[_0x3eee64(0x2d5)]=_0x3eee64(0x135),_0x7e373b[_0x3eee64(0x291)]=function(_0x2bd61a,_0x15628c){return _0x2bd61a!==_0x15628c;},_0x7e373b[_0x3eee64(0x1d8)]=_0x3eee64(0x2e3),_0x7e373b[_0x3eee64(0x195)]=_0x3eee64(0x129),_0x7e373b[_0x3eee64(0x1cb)]=function(_0x147c4f,_0x260dfc){return _0x147c4f===_0x260dfc;},_0x7e373b['USkQv']=_0x3eee64(0x14f),_0x7e373b[_0x3eee64(0x2c6)]=_0x3eee64(0x102),_0x7e373b['becJV']=_0x3eee64(0x25b),_0x7e373b[_0x3eee64(0x236)]=function(_0x4ce7f9,_0x553e38){return _0x4ce7f9===_0x553e38;},_0x7e373b[_0x3eee64(0x239)]=_0x3eee64(0x18f),_0x7e373b[_0x3eee64(0x13c)]=_0x3eee64(0x199),_0x7e373b[_0x3eee64(0x222)]='Managed\x20identity\x20already\x20exists,\x20skipping',_0x7e373b[_0x3eee64(0x18b)]='Creating\x20Azure\x20federated\x20identity',_0x7e373b[_0x3eee64(0x142)]=_0x3eee64(0x263);const _0x176614=_0x7e373b,_0x3e7b9a=await this[_0x3eee64(0x25c)]();if(!_0x3e7b9a){if(_0x176614['ilVdl'](_0x176614['qSoxV'],_0x176614[_0x3eee64(0x1e5)])){const _0x3ebbbc={};_0x3ebbbc[_0x3eee64(0x2c8)]=WS_EVENTS[_0x3eee64(0x151)],_0x3ebbbc['message']=_0x176614[_0x3eee64(0x2d5)],this['webSocketUtils'][_0x3eee64(0x1f4)](this[_0x3eee64(0x292)],_0x3ebbbc),logger[_0x3eee64(0x229)](_0x176614['nDRxG']),await this[_0x3eee64(0x294)]();}else _0x5ca023[_0x3eee64(0x13b)]=_0x2e255c;}else{if(_0x176614[_0x3eee64(0x291)](_0x176614['pnkQF'],_0x176614[_0x3eee64(0x1d8)])){if(_0x176614['ilVdl'](_0xaf5b12['name'],_0x5d6f85))return!![];}else logger['info'](_0x176614[_0x3eee64(0x195)]);}const _0x3de553=await this['isManagedIdentityPresent']();if(!_0x3de553){if(_0x176614[_0x3eee64(0x1cb)](_0x176614['USkQv'],_0x176614[_0x3eee64(0x2c6)]))return!![];else{const _0x1eac34={};_0x1eac34[_0x3eee64(0x2c8)]=WS_EVENTS['LOG'],_0x1eac34[_0x3eee64(0x111)]=_0x176614[_0x3eee64(0x14c)],this['webSocketUtils'][_0x3eee64(0x1f4)](this[_0x3eee64(0x292)],_0x1eac34),logger[_0x3eee64(0x229)](_0x176614[_0x3eee64(0x14c)]),await this[_0x3eee64(0x1b5)]();}}else{if(_0x176614['Bnyor'](_0x176614[_0x3eee64(0x239)],_0x176614[_0x3eee64(0x13c)]))return;else logger[_0x3eee64(0x229)](_0x176614[_0x3eee64(0x222)]);}logger[_0x3eee64(0x229)](_0x176614[_0x3eee64(0x18b)]),await this['createFederatedAccount'](),logger['info'](_0x176614['auciS']);}async['createStorageAccount'](){const _0xba5e29=a1_0x578d60,_0x59ddf2={};_0x59ddf2[_0xba5e29(0x119)]=_0xba5e29(0x140),_0x59ddf2[_0xba5e29(0x27e)]='azureresources',_0x59ddf2['bxmpb']=_0xba5e29(0x1fc),_0x59ddf2[_0xba5e29(0x223)]=_0xba5e29(0x2bc),_0x59ddf2['Wquxb']=_0xba5e29(0x2a3),_0x59ddf2[_0xba5e29(0x16d)]=_0xba5e29(0x1fa),_0x59ddf2[_0xba5e29(0x235)]=_0xba5e29(0x2c0),_0x59ddf2[_0xba5e29(0x187)]=_0xba5e29(0x219),_0x59ddf2[_0xba5e29(0x1db)]='blockBlob',_0x59ddf2[_0xba5e29(0x2d4)]=_0xba5e29(0x24b);const _0x31fa86=_0x59ddf2;let _0x73ccf6=await fs[_0xba5e29(0xfb)](path[_0xba5e29(0xfc)](__dirname,'..',_0x31fa86[_0xba5e29(0x119)],_0x31fa86[_0xba5e29(0x27e)],_0x31fa86[_0xba5e29(0x20d)]),_0x31fa86[_0xba5e29(0x223)]);_0x73ccf6=JSON['parse'](_0x73ccf6);const _0x41c72d=this[_0xba5e29(0x297)](),_0x5d51af={};_0x5d51af[_0xba5e29(0x2c1)]=_0x41c72d;const _0x2f5d2f={};_0x2f5d2f[_0xba5e29(0x18a)]=_0x5d51af,await this[_0xba5e29(0x15b)][_0xba5e29(0x1e8)][_0xba5e29(0x257)](global_registry[_0xba5e29(0x24f)],_0x31fa86['Wquxb'],{'properties':{'template':_0x73ccf6,'mode':_0x31fa86[_0xba5e29(0x16d)],'parameters':_0x2f5d2f}});const _0x41eb9d={};_0x41eb9d[_0xba5e29(0x2e6)]=0x3c;const _0x6ad807={};_0x6ad807[_0xba5e29(0x15a)]=_0x41eb9d;const _0x1f5275={};_0x1f5275[_0xba5e29(0x137)]=_0x6ad807;const _0x459b59={};_0x459b59[_0xba5e29(0x12a)]=!![],_0x459b59[_0xba5e29(0x1bf)]=_0x31fa86[_0xba5e29(0x235)],_0x459b59[_0xba5e29(0x2c8)]=_0x31fa86[_0xba5e29(0x187)],_0x459b59[_0xba5e29(0x277)]={},_0x459b59[_0xba5e29(0x277)][_0xba5e29(0x1d4)]=_0x1f5275,_0x459b59[_0xba5e29(0x277)]['filters']={},_0x459b59[_0xba5e29(0x277)]['filters'][_0xba5e29(0x16a)]=[_0x31fa86[_0xba5e29(0x1db)]];const _0x426c93={};_0x426c93[_0xba5e29(0x10a)]=[_0x459b59];const _0xf3875a={};_0xf3875a[_0xba5e29(0x2c2)]=_0x426c93;const _0x400e5b=_0xf3875a;await this[_0xba5e29(0x108)]['managementPolicies'][_0xba5e29(0x1a3)](global_registry[_0xba5e29(0x24f)],_0x41c72d,_0x31fa86[_0xba5e29(0x2d4)],_0x400e5b);}async[a1_0x578d60(0x1b5)](){const _0xd674ef=a1_0x578d60,_0x12e10d={};_0x12e10d[_0xd674ef(0x22f)]='templates',_0x12e10d['OCshw']=_0xd674ef(0x125),_0x12e10d[_0xd674ef(0xfd)]=_0xd674ef(0x272),_0x12e10d[_0xd674ef(0x25e)]=_0xd674ef(0x2bc),_0x12e10d['tkNqt']=_0xd674ef(0x208),_0x12e10d[_0xd674ef(0x214)]=_0xd674ef(0x1fa);const _0x61f9df=_0x12e10d;let _0x54a3cb=await fs['readFileAsync'](path[_0xd674ef(0xfc)](__dirname,'..',_0x61f9df[_0xd674ef(0x22f)],_0x61f9df[_0xd674ef(0x126)],_0x61f9df[_0xd674ef(0xfd)]),_0x61f9df['KmMiM']);_0x54a3cb=JSON['parse'](_0x54a3cb),await this[_0xd674ef(0x15b)][_0xd674ef(0x1e8)][_0xd674ef(0x257)](global_registry[_0xd674ef(0x24f)],_0x61f9df[_0xd674ef(0x1b7)],{'properties':{'template':_0x54a3cb,'mode':_0x61f9df[_0xd674ef(0x214)],'parameters':{'clusterName':{'value':this[_0xd674ef(0x220)]}}}});}async['createFederatedAccount'](){const _0x5dd7bb=a1_0x578d60,_0x3287da={};_0x3287da['NUVGU']=_0x5dd7bb(0x190),_0x3287da['QRJFC']=function(_0x4e1ed6,_0x3bfba7){return _0x4e1ed6===_0x3bfba7;},_0x3287da[_0x5dd7bb(0x14a)]=_0x5dd7bb(0x1c8),_0x3287da[_0x5dd7bb(0x1ab)]=function(_0x2d49ac,_0x4cd2a3){return _0x2d49ac===_0x4cd2a3;},_0x3287da[_0x5dd7bb(0x105)]=_0x5dd7bb(0x251),_0x3287da[_0x5dd7bb(0x191)]=_0x5dd7bb(0x217),_0x3287da[_0x5dd7bb(0x240)]=_0x5dd7bb(0x2c4),_0x3287da[_0x5dd7bb(0x228)]=function(_0x39a936,_0x2f1968){return _0x39a936!==_0x2f1968;},_0x3287da[_0x5dd7bb(0x155)]='fjCjV',_0x3287da[_0x5dd7bb(0x224)]='templates',_0x3287da[_0x5dd7bb(0x26c)]=_0x5dd7bb(0x125),_0x3287da['TJzDk']=_0x5dd7bb(0x2bc),_0x3287da[_0x5dd7bb(0x287)]=_0x5dd7bb(0x1c0),_0x3287da['EBdGR']='Incremental';const _0x13d1de=_0x3287da;if(!this[_0x5dd7bb(0x188)]){if(_0x13d1de['YrrYf'](_0x13d1de[_0x5dd7bb(0x105)],_0x13d1de[_0x5dd7bb(0x105)]))await this['getClusterInfo']();else return _0x4267ea[_0x5dd7bb(0x2d6)]=_0x13d1de[_0x5dd7bb(0x1c1)],_0x36882e;}const _0x26b78a=this[_0x5dd7bb(0x188)]?.[_0x5dd7bb(0x174)]?.[_0x5dd7bb(0x1fd)],_0x135e5f=[_0x13d1de[_0x5dd7bb(0x191)],_0x13d1de['CdPtz']];for await(const _0x360482 of _0x135e5f){if(_0x13d1de['QrYTv'](_0x13d1de[_0x5dd7bb(0x155)],_0x13d1de['MxOCr']))_0x3c94c2+=_0x13d1de['QRJFC'](_0x4b8dc0[_0x5dd7bb(0x148)],0x0)?_0x13d1de[_0x5dd7bb(0x14a)]:'',_0x195f20['debug'](_0x5dd7bb(0x1b1)+_0x59df79[_0x5dd7bb(0x18c)](_0x5d16ea));else{let _0x2b6265=await fs[_0x5dd7bb(0xfb)](path[_0x5dd7bb(0xfc)](__dirname,'..',_0x13d1de[_0x5dd7bb(0x224)],_0x13d1de[_0x5dd7bb(0x26c)],_0x5dd7bb(0x15c)+_0x360482+_0x5dd7bb(0x159)),_0x13d1de[_0x5dd7bb(0x12e)]);_0x2b6265=JSON[_0x5dd7bb(0x17f)](_0x2b6265);const _0x121a6c={};_0x121a6c['value']=_0x26b78a,await this[_0x5dd7bb(0x15b)]['deployments'][_0x5dd7bb(0x257)](global_registry['cloudProviderResourceGroup'],_0x13d1de[_0x5dd7bb(0x287)],{'properties':{'template':_0x2b6265,'mode':_0x13d1de['EBdGR'],'parameters':{'oidcIssuer':_0x121a6c,'gridName':{'value':this['gridName']},'clusterName':{'value':this[_0x5dd7bb(0x220)]}}}});}}}async['setupHubHa'](_0x17d94c,_0x2b317b,_0x2157ce,_0x194afb,_0x49fddd){const _0x1f6ebe=a1_0x578d60,_0x292e7a={};_0x292e7a['wSJWL']=_0x1f6ebe(0x254),_0x292e7a[_0x1f6ebe(0x1b0)]='Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha';const _0x46f4db=_0x292e7a,_0x5eb9f1={};_0x5eb9f1[_0x1f6ebe(0x2c8)]=WS_EVENTS[_0x1f6ebe(0x151)],_0x5eb9f1[_0x1f6ebe(0x111)]=_0x46f4db[_0x1f6ebe(0xf8)],this[_0x1f6ebe(0x2bf)][_0x1f6ebe(0x1f4)](this[_0x1f6ebe(0x292)],_0x5eb9f1),logger[_0x1f6ebe(0x229)](_0x46f4db[_0x1f6ebe(0xf8)]),await this['createFederatedAccountForHubHA']();const _0x5065cd={};_0x5065cd['type']=WS_EVENTS['LOG'],_0x5065cd[_0x1f6ebe(0x111)]=_0x46f4db['eqUSC'],this[_0x1f6ebe(0x2bf)][_0x1f6ebe(0x1f4)](this[_0x1f6ebe(0x292)],_0x5065cd);}async[a1_0x578d60(0x284)](){const _0x28ea70=a1_0x578d60,_0x4ce1bb={};_0x4ce1bb[_0x28ea70(0x1d9)]=function(_0x45d219,_0x337927){return _0x45d219!==_0x337927;},_0x4ce1bb[_0x28ea70(0x21c)]=_0x28ea70(0x113),_0x4ce1bb['hiBhr']='niSZj',_0x4ce1bb[_0x28ea70(0x22a)]=_0x28ea70(0x140),_0x4ce1bb[_0x28ea70(0x2d0)]=_0x28ea70(0x2a4),_0x4ce1bb[_0x28ea70(0x1e6)]='federatedidentityuploader.json',_0x4ce1bb['DMRer']=_0x28ea70(0x2bc),_0x4ce1bb[_0x28ea70(0x1ad)]=_0x28ea70(0x1c0),_0x4ce1bb['GkBEa']=_0x28ea70(0x1fa);const _0x1b7d15=_0x4ce1bb;if(!this[_0x28ea70(0x188)]){if(_0x1b7d15[_0x28ea70(0x1d9)](_0x1b7d15[_0x28ea70(0x21c)],_0x1b7d15[_0x28ea70(0x1ef)]))await this[_0x28ea70(0x1bb)]();else return _0x2692b3[_0x28ea70(0x13b)]('Cannot\x20find\x20subnets\x20'+_0x4f787c+_0x28ea70(0x15d)+_0x291926),[![],[]];}const _0x5277bd=this[_0x28ea70(0x188)]?.[_0x28ea70(0x174)]?.[_0x28ea70(0x1fd)];let _0x20f6fe=await fs[_0x28ea70(0xfb)](path[_0x28ea70(0xfc)](__dirname,'..',_0x1b7d15[_0x28ea70(0x22a)],_0x1b7d15['rZvKi'],_0x1b7d15[_0x28ea70(0x1e6)]),_0x1b7d15[_0x28ea70(0x1cc)]);_0x20f6fe=JSON['parse'](_0x20f6fe);const _0x1faa30={};_0x1faa30['value']=_0x5277bd,await this[_0x28ea70(0x15b)][_0x28ea70(0x1e8)][_0x28ea70(0x257)](global_registry[_0x28ea70(0x24f)],_0x1b7d15['hkzIQ'],{'properties':{'template':_0x20f6fe,'mode':_0x1b7d15[_0x28ea70(0x19a)],'parameters':{'oidcIssuer':_0x1faa30,'namespace':{'value':global_registry[_0x28ea70(0xf9)]},'clusterName':{'value':this[_0x28ea70(0x220)]}}}});}async[a1_0x578d60(0x25c)](){const _0x54f1f5=a1_0x578d60,_0xc7d264={};_0xc7d264[_0x54f1f5(0x14d)]=_0x54f1f5(0x1ca),_0xc7d264[_0x54f1f5(0x2d9)]=_0x54f1f5(0x216),_0xc7d264[_0x54f1f5(0x1a7)]=function(_0x7c516e,_0x102dae){return _0x7c516e===_0x102dae;},_0xc7d264[_0x54f1f5(0x2a8)]=_0x54f1f5(0x231),_0xc7d264[_0x54f1f5(0x20f)]=_0x54f1f5(0x11f),_0xc7d264[_0x54f1f5(0x2a6)]=function(_0x1ce64b,_0x239eec){return _0x1ce64b!==_0x239eec;},_0xc7d264[_0x54f1f5(0x103)]=_0x54f1f5(0x2cc),_0xc7d264[_0x54f1f5(0x120)]=_0x54f1f5(0x2a9),_0xc7d264[_0x54f1f5(0x2ad)]=function(_0xc08f12,_0x332745){return _0xc08f12===_0x332745;},_0xc7d264[_0x54f1f5(0x17e)]=function(_0x21f133,_0x4901f5){return _0x21f133!==_0x4901f5;},_0xc7d264[_0x54f1f5(0x2b6)]=_0x54f1f5(0x293),_0xc7d264['qoCBk']='rmNwc';const _0x597eba=_0xc7d264,_0xf052ed=this[_0x54f1f5(0x297)](),_0x3dab11=new Array();for await(const _0x2c0b29 of this[_0x54f1f5(0x108)][_0x54f1f5(0x160)]['listByResourceGroup'](global_registry[_0x54f1f5(0x24f)])){if(_0x597eba['AtpQI'](_0x597eba[_0x54f1f5(0x2a8)],_0x597eba[_0x54f1f5(0x20f)])){_0x37c637[_0x54f1f5(0x229)](_0x597eba[_0x54f1f5(0x14d)]);const _0x3d4b9a={};_0x3d4b9a[_0x54f1f5(0x2c8)]=_0xaa1a62['RESOURCES'],_0x3d4b9a[_0x54f1f5(0x111)]=_0x597eba[_0x54f1f5(0x14d)],this[_0x54f1f5(0x2bf)]['sendEventToBackend'](this['rws'],_0x3d4b9a);const _0x160c8c={};_0x160c8c['enabled']=!![];const _0x387db2={'workloadIdentity':_0x160c8c,..._0x11587e['securityProfile']};_0x41e463[_0x54f1f5(0x144)]=_0x387db2;}else _0x3dab11[_0x54f1f5(0x2de)](_0x2c0b29);}for await(const _0x3e38e8 of _0x3dab11){if(_0x597eba[_0x54f1f5(0x2a6)](_0x597eba[_0x54f1f5(0x103)],_0x597eba[_0x54f1f5(0x120)])){if(_0x597eba['UJJid'](_0x3e38e8[_0x54f1f5(0x1bf)],_0xf052ed)){if(_0x597eba[_0x54f1f5(0x17e)](_0x597eba['ISizN'],_0x597eba[_0x54f1f5(0x181)]))return!![];else _0x53dffd['error'](_0x597eba[_0x54f1f5(0x2d9)]),_0x30921a[_0x54f1f5(0x2ce)](0x1);}}else _0x3f5e3e[_0x54f1f5(0x2de)](..._0x5e3a41['actions']);}return![];}async[a1_0x578d60(0x25f)](){const _0x932014=a1_0x578d60,_0x5e0077={};_0x5e0077[_0x932014(0x29f)]='string',_0x5e0077[_0x932014(0x1ac)]=_0x932014(0x23e),_0x5e0077[_0x932014(0x273)]=_0x932014(0x298),_0x5e0077[_0x932014(0x22e)]='[variables(\x27vnetSubnetID\x27)]',_0x5e0077[_0x932014(0x11e)]=function(_0x31aaef,_0x51706c){return _0x31aaef+_0x51706c;},_0x5e0077[_0x932014(0x1a8)]=function(_0x4eb1e8,_0x3c4166){return _0x4eb1e8===_0x3c4166;},_0x5e0077[_0x932014(0x275)]=_0x932014(0x1d5),_0x5e0077[_0x932014(0x296)]=function(_0x3ba63f,_0x22a15d){return _0x3ba63f!==_0x22a15d;},_0x5e0077['mMUjg']=_0x932014(0x194),_0x5e0077['GlDSc']=function(_0xeda093,_0x3dba00){return _0xeda093===_0x3dba00;},_0x5e0077[_0x932014(0x17c)]=_0x932014(0x2da),_0x5e0077['NCSkV']=_0x932014(0x2b5);const _0x8ce6be=_0x5e0077,_0x576f3a=new Array();for await(const _0x15871d of this[_0x932014(0x15b)]['resources'][_0x932014(0x133)](global_registry['cloudProviderResourceGroup'])){if(_0x8ce6be[_0x932014(0x1a8)](_0x8ce6be[_0x932014(0x275)],_0x8ce6be[_0x932014(0x275)]))_0x576f3a[_0x932014(0x2de)](_0x15871d);else{const _0x1033f3={};_0x1033f3[_0x932014(0x2c8)]=_0x8ce6be['jAJHM'],_0x1033f3[_0x932014(0x22b)]={},_0x1033f3[_0x932014(0x22b)][_0x932014(0x1fb)]=_0x8ce6be[_0x932014(0x1ac)];const _0x5c16f4={};_0x5c16f4['type']=_0x8ce6be[_0x932014(0x29f)],_0x5c16f4[_0x932014(0x22b)]={},_0x5c16f4[_0x932014(0x22b)]['description']=_0x8ce6be[_0x932014(0x1ac)];const _0x585f3c={..._0x530b1a[_0x932014(0x11c)]};_0x585f3c[_0x932014(0x2cd)]=_0x1033f3,_0x585f3c[_0x932014(0x17a)]=_0x5c16f4,_0x3f6618[_0x932014(0x11c)]=_0x585f3c;const _0x40372c={};_0x40372c[_0x932014(0x143)]=_0x8ce6be[_0x932014(0x273)],_0x20d8e9[_0x932014(0x282)]=_0x40372c;const _0x5d83e1={..._0x2f63c5[_0x932014(0x21d)][0x0][_0x932014(0x12d)]['agentPoolProfiles'][0x0]};_0x5d83e1[_0x932014(0x143)]=_0x8ce6be[_0x932014(0x22e)],_0x5deeeb[_0x932014(0x21d)][0x0]['properties'][_0x932014(0x2c3)][0x0]=_0x5d83e1;const _0x4273b2={};_0x4273b2[_0x932014(0x2c1)]=_0x37928b;const _0x169c82={};_0x169c82['value']=_0x34b904[0x0];const _0x3fbd0c={..._0x2004d0};_0x3fbd0c['vpcName']=_0x4273b2,_0x3fbd0c[_0x932014(0x17a)]=_0x169c82,_0x200c5e=_0x3fbd0c;}}for await(const _0xa7bbda of _0x576f3a){if(_0x8ce6be[_0x932014(0x296)](_0x8ce6be[_0x932014(0x2ab)],_0x8ce6be[_0x932014(0x2ab)]))_0x40fda[_0x932014(0x226)]=![];else{if(_0x8ce6be[_0x932014(0x278)](_0xa7bbda[_0x932014(0x1bf)],'turboscale-managed-identity-'+this['clusterName'])){if(_0x8ce6be[_0x932014(0x296)](_0x8ce6be[_0x932014(0x17c)],_0x8ce6be[_0x932014(0x1c2)]))return!![];else _0x3b14ad['log']('['+_0x8ce6be[_0x932014(0x11e)](_0x46d7cb,0x1)+']\x20'+_0xb7a9b2[_0x52546e]);}}}return![];}async[a1_0x578d60(0x169)](_0x1795ed,_0xdb479e=0x3){const _0x28a25e=a1_0x578d60,_0x516b66={'htSES':function(_0x56b545,_0x416743){return _0x56b545===_0x416743;},'wcRpg':function(_0x2c130f,_0x52a52f,_0x2a16c5){return _0x2c130f(_0x52a52f,_0x2a16c5);},'nNlrA':_0x28a25e(0x172),'ibuie':function(_0x4bfd08,_0x2c4db7){return _0x4bfd08!==_0x2c4db7;},'AACjQ':'WPSFe','CgWmh':function(_0x5326b3,_0x471a84,_0x52d34a){return _0x5326b3(_0x471a84,_0x52d34a);},'qIukK':'Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','IhHtJ':function(_0x137191,_0x525ee5){return _0x137191!==_0x525ee5;},'PfCsx':_0x28a25e(0x1f3),'NtqPW':'UGlwz','ffWdC':function(_0x398333,_0x16a120){return _0x398333===_0x16a120;},'FqVrK':_0x28a25e(0x1c3),'otmed':_0x28a25e(0xfe),'mrXIE':function(_0x54a3f1,_0x1d19e9){return _0x54a3f1!==_0x1d19e9;},'tYUjT':'CzOkO','iALmP':_0x28a25e(0x173),'VgqDU':function(_0x2fea05,_0x2f035b){return _0x2fea05===_0x2f035b;},'JXCOG':_0x28a25e(0x1e3),'SLXqc':'2023-01-31','ySmfy':function(_0x2b2b96,_0x11344c){return _0x2b2b96!==_0x11344c;},'bmIOc':_0x28a25e(0x130),'nAscz':_0x28a25e(0x134),'wWhmn':function(_0x1478ab,_0x2b5e69){return _0x1478ab<=_0x2b5e69;},'RBGyj':_0x28a25e(0x28a),'aEZgt':_0x28a25e(0x29e),'KMiTV':function(_0x375180,_0x3370c1){return _0x375180-_0x3370c1;}};try{if(_0x516b66[_0x28a25e(0xf6)](_0x516b66[_0x28a25e(0x227)],_0x516b66[_0x28a25e(0x175)])){const _0x549a24=new Array();for await(const _0x4bbc0a of this[_0x28a25e(0x15b)][_0x28a25e(0x21d)][_0x28a25e(0x133)](global_registry[_0x28a25e(0x24f)])){if(_0x516b66[_0x28a25e(0x26f)](_0x516b66[_0x28a25e(0x1a6)],_0x516b66['otmed'])){if(_0x516b66[_0x28a25e(0x246)](_0x461e55[_0x28a25e(0x1bf)],_0x3a5094))return!![];}else _0x549a24['push'](_0x4bbc0a);}let _0x376f83='';for await(const _0xa6e0d of _0x549a24){if(_0x516b66[_0x28a25e(0x1a4)](_0x516b66['tYUjT'],_0x516b66[_0x28a25e(0x163)]))_0x516b66[_0x28a25e(0x26f)](_0xa6e0d[_0x28a25e(0x1bf)],_0x1795ed)&&(_0x516b66['VgqDU'](_0x516b66[_0x28a25e(0x1ea)],_0x516b66[_0x28a25e(0x1ea)])?_0x376f83=_0xa6e0d['id']:_0x516b66[_0x28a25e(0x1e0)](_0x47ff69,()=>_0x54241f(),0x3e8));else return!![];}const _0x2b8cb0=await this[_0x28a25e(0x15b)]['resources'][_0x28a25e(0x283)](_0x376f83,_0x516b66['SLXqc']);return _0x2b8cb0[_0x28a25e(0x12d)][_0x28a25e(0x1a0)];}else _0x1f423e[_0x28a25e(0x2de)](_0x323e59[_0x28a25e(0x1bf)]);}catch(_0x591672){if(_0x516b66[_0x28a25e(0x154)](_0x516b66['bmIOc'],_0x516b66[_0x28a25e(0x1be)])){if(_0x516b66['wWhmn'](_0xdb479e,0x0)){if(_0x516b66['htSES'](_0x516b66[_0x28a25e(0x202)],_0x516b66[_0x28a25e(0x138)])){_0x3d8674[_0x28a25e(0x229)](_0x516b66[_0x28a25e(0x12c)]);const _0x5638a3={};_0x5638a3[_0x28a25e(0x2c8)]=_0x146501[_0x28a25e(0x21b)],_0x5638a3['message']=_0x516b66[_0x28a25e(0x12c)],this[_0x28a25e(0x2bf)]['sendEventToBackend'](this['rws'],_0x5638a3),_0x58e3bb[_0x28a25e(0xf4)]=![];}else return logger[_0x28a25e(0x13b)](_0x28a25e(0x232)+_0x591672+':'+_0x591672[_0x28a25e(0x249)]),{};}return await new Promise(_0x569a18=>{const _0x1d4083=_0x28a25e;_0x516b66[_0x1d4083(0x26a)](_0x516b66[_0x1d4083(0x19e)],_0x516b66[_0x1d4083(0x19e)])?_0x9bf330[_0x1d4083(0x2de)](_0x9e1150):_0x516b66[_0x1d4083(0x281)](setTimeout,()=>_0x569a18(),0x3e8);}),this[_0x28a25e(0x169)](_0x1795ed,_0x516b66[_0x28a25e(0x124)](_0xdb479e,0x1));}else{_0x2981c0[_0x28a25e(0x229)](_0x516b66[_0x28a25e(0x2b2)]);const _0x1b410e={};_0x1b410e[_0x28a25e(0x2c8)]=_0x50dac3[_0x28a25e(0x21b)],_0x1b410e[_0x28a25e(0x111)]=_0x516b66[_0x28a25e(0x2b2)],this[_0x28a25e(0x2bf)][_0x28a25e(0x1f4)](this[_0x28a25e(0x292)],_0x1b410e),_0x419dcc[_0x28a25e(0x174)][_0x28a25e(0x12a)]=!![];}}}async[a1_0x578d60(0x2bb)](){const _0x3cbeba=a1_0x578d60,_0x357179={};_0x357179[_0x3cbeba(0x289)]=function(_0x2598b9,_0x4784b1){return _0x2598b9===_0x4784b1;},_0x357179[_0x3cbeba(0x27b)]=_0x3cbeba(0x253),_0x357179[_0x3cbeba(0x20e)]=_0x3cbeba(0x2af),_0x357179[_0x3cbeba(0x250)]=function(_0x4242d7,_0x343530){return _0x4242d7===_0x343530;},_0x357179['uqzea']=_0x3cbeba(0x101),_0x357179[_0x3cbeba(0x196)]=_0x3cbeba(0x139),_0x357179[_0x3cbeba(0x1ff)]=function(_0x59dc0f,_0x198002){return _0x59dc0f!==_0x198002;},_0x357179[_0x3cbeba(0x203)]=_0x3cbeba(0x145),_0x357179[_0x3cbeba(0x1f8)]=_0x3cbeba(0x15e);const _0x607346=_0x357179;!this[_0x3cbeba(0x188)]&&(_0x607346[_0x3cbeba(0x289)](_0x607346[_0x3cbeba(0x27b)],_0x607346[_0x3cbeba(0x20e)])?_0x3b2649[_0x3cbeba(0x2ce)](0x0):await this[_0x3cbeba(0x1bb)]());const _0x12b344=this[_0x3cbeba(0x188)]?.[_0x3cbeba(0x18e)]||{};if(_0x12b344&&_0x607346[_0x3cbeba(0x250)](_0x12b344[_0x607346[_0x3cbeba(0x2db)]],_0x607346[_0x3cbeba(0x196)])){if(_0x607346[_0x3cbeba(0x1ff)](_0x607346[_0x3cbeba(0x203)],_0x607346['Lkmtp']))return!![];else _0x48fdbb[_0x3cbeba(0x2de)](_0x484632);}return![];}async['deleteCluster'](_0x162ba5,_0x46e8af){const _0x355fbf=a1_0x578d60,_0x483272={'gPodl':function(_0xa0b949,_0x2a6044){return _0xa0b949(_0x2a6044);},'FLxyl':'Deleted\x20the\x20cluster\x20successfully'};await _0x483272[_0x355fbf(0x164)](deleteAgent,_0x162ba5),await _0x483272[_0x355fbf(0x164)](deleteRoutingDeps,_0x162ba5);const _0x583d56=this[_0x355fbf(0x2ac)];logger['info']('Deleting\x20the\x20cluster\x20'+this['clusterName']),await _0x583d56[_0x355fbf(0x28d)][_0x355fbf(0x1b8)](global_registry['cloudProviderResourceGroup'],this[_0x355fbf(0x220)]),logger['info'](_0x483272[_0x355fbf(0x170)]);}async['updateClusterAlreadyPresent'](){const _0x151eb4=a1_0x578d60,_0x156348={};_0x156348[_0x151eb4(0x262)]=_0x151eb4(0x20c),_0x156348[_0x151eb4(0x2b9)]=function(_0x2a2475,_0x4503c1){return _0x2a2475===_0x4503c1;},_0x156348[_0x151eb4(0x2b8)]=function(_0x1b1754,_0x456254){return _0x1b1754!==_0x456254;},_0x156348[_0x151eb4(0x20b)]=_0x151eb4(0x1b3),_0x156348[_0x151eb4(0x193)]=_0x151eb4(0x290),_0x156348[_0x151eb4(0x24e)]=function(_0x56aaa5,_0x17b72a){return _0x56aaa5&&_0x17b72a;},_0x156348[_0x151eb4(0x28c)]=function(_0x56182c,_0x2d619e){return _0x56182c!==_0x2d619e;},_0x156348[_0x151eb4(0x285)]='fgZrJ',_0x156348[_0x151eb4(0x2d2)]='TCnGA',_0x156348[_0x151eb4(0x276)]='Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster',_0x156348[_0x151eb4(0x25a)]=_0x151eb4(0x1ae),_0x156348['sPGct']='vWmde',_0x156348[_0x151eb4(0x25d)]='Enabling\x20Workload\x20identity\x20for\x20the\x20cluster',_0x156348[_0x151eb4(0x19c)]='FFLeF',_0x156348[_0x151eb4(0x2a1)]='GxvwT',_0x156348[_0x151eb4(0x266)]=_0x151eb4(0x172);const _0x9bdc57=_0x156348;if(!this[_0x151eb4(0x188)]){if(_0x9bdc57[_0x151eb4(0x2b8)](_0x9bdc57[_0x151eb4(0x20b)],_0x9bdc57[_0x151eb4(0x193)]))await this[_0x151eb4(0x1bb)]();else return!![];}const _0xb712fc=this[_0x151eb4(0x188)],_0x108b30=this[_0x151eb4(0x188)]?.[_0x151eb4(0x174)]?.['enabled']||![],_0x313af3=this[_0x151eb4(0x188)]?.[_0x151eb4(0x144)]?.[_0x151eb4(0x243)]?.['enabled']||![],_0x1b837a=!this[_0x151eb4(0x188)]?.['disableLocalAccounts']||![];if(_0x9bdc57[_0x151eb4(0x24e)](_0x108b30,_0x313af3)&&_0x1b837a){if(_0x9bdc57[_0x151eb4(0x28c)](_0x9bdc57[_0x151eb4(0x285)],_0x9bdc57['fPihH']))return _0x225d69[_0x151eb4(0x226)][_0x151eb4(0x265)][_0x151eb4(0x2a5)][0x0][_0x151eb4(0x116)];else return;}if(!_0x108b30){if(_0x9bdc57['YtIRx'](_0x9bdc57[_0x151eb4(0x2d2)],_0x9bdc57[_0x151eb4(0x2d2)])){const _0x5f0f6f=_0x9bdc57['mbDZm'][_0x151eb4(0x1f5)]('|');let _0x10d0b6=0x0;while(!![]){switch(_0x5f0f6f[_0x10d0b6++]){case'0':_0x394854['cloudProviderTenantId']=_0x13606a[this[_0x151eb4(0x218)]][_0x151eb4(0x14b)];continue;case'1':_0x365c8f[_0x151eb4(0x1d2)]=_0x5e1408[this[_0x151eb4(0x218)]][_0x151eb4(0x234)];continue;case'2':_0x228aed[_0x151eb4(0x24f)]=_0x16208a[this[_0x151eb4(0x218)]]['resourceGroup'];continue;case'3':_0x70ef81[_0x151eb4(0x21a)]=_0x1329e5[this[_0x151eb4(0x218)]][_0x151eb4(0x2e5)];continue;case'4':_0x30910b['cloudProviderClientId']=_0xf2b68b[this[_0x151eb4(0x218)]][_0x151eb4(0x1a0)];continue;case'5':this[_0x151eb4(0x2e4)]();continue;}break;}}else{logger['info'](_0x9bdc57[_0x151eb4(0x276)]);const _0x14d902={};_0x14d902['type']=WS_EVENTS[_0x151eb4(0x21b)],_0x14d902[_0x151eb4(0x111)]=_0x9bdc57[_0x151eb4(0x276)],this[_0x151eb4(0x2bf)][_0x151eb4(0x1f4)](this['rws'],_0x14d902),_0xb712fc['oidcIssuerProfile'][_0x151eb4(0x12a)]=!![];}}if(!_0x313af3){if(_0x9bdc57['YtIRx'](_0x9bdc57[_0x151eb4(0x25a)],_0x9bdc57['sPGct'])){logger[_0x151eb4(0x229)](_0x9bdc57[_0x151eb4(0x25d)]);const _0x5790bc={};_0x5790bc[_0x151eb4(0x2c8)]=WS_EVENTS[_0x151eb4(0x21b)],_0x5790bc[_0x151eb4(0x111)]=_0x9bdc57[_0x151eb4(0x25d)],this[_0x151eb4(0x2bf)][_0x151eb4(0x1f4)](this[_0x151eb4(0x292)],_0x5790bc);const _0x302aca={};_0x302aca[_0x151eb4(0x12a)]=!![],_0xb712fc['securityProfile']={'workloadIdentity':_0x302aca,..._0xb712fc[_0x151eb4(0x144)]};}else _0x9bdc57[_0x151eb4(0x2b9)](_0x40068e['name'],_0x3d368f)&&(_0x235e9e=_0x12b01e['id']);}if(!_0x1b837a){if(_0x9bdc57['PMgMh'](_0x9bdc57['ZMrKu'],_0x9bdc57[_0x151eb4(0x2a1)])){logger['info'](_0x9bdc57[_0x151eb4(0x266)]);const _0x357c7e={};_0x357c7e['type']=WS_EVENTS['RESOURCES'],_0x357c7e[_0x151eb4(0x111)]=_0x9bdc57['EVQbp'],this['webSocketUtils'][_0x151eb4(0x1f4)](this['rws'],_0x357c7e),_0xb712fc[_0x151eb4(0xf4)]=![];}else return _0x4e9b6c['error'](_0x151eb4(0x2a7)+_0x154c65+_0x151eb4(0x295)+_0xb520a4),![];}await this[_0x151eb4(0x2ac)][_0x151eb4(0x28d)]['beginCreateOrUpdateAndWait'](global_registry['cloudProviderResourceGroup'],this[_0x151eb4(0x220)],_0xb712fc),await this[_0x151eb4(0x1bb)]();}async[a1_0x578d60(0x23b)](){const _0x228220=a1_0x578d60,_0x29424b={};_0x29424b[_0x228220(0x2d3)]=function(_0xb0320c,_0x38a4c6){return _0xb0320c===_0x38a4c6;},_0x29424b['wBRbF']=_0x228220(0x1d6);const _0x2a8a13=_0x29424b,_0x8de103=await this['networkClient']['virtualNetworks'][_0x228220(0x13f)](global_registry[_0x228220(0x24f)]),_0x3682e2={};_0x3682e2[_0x228220(0x13e)]=global_registry[_0x228220(0x2eb)],_0x3682e2[_0x228220(0x149)]=global_registry['bstackAccesskey'],_0x3682e2[_0x228220(0x269)]=AZURE,_0x3682e2['vpcInfo']=[];const _0x1f052f=_0x3682e2;for await(const _0x13ec48 of _0x8de103){if(_0x2a8a13[_0x228220(0x2d3)](_0x2a8a13[_0x228220(0x182)],_0x2a8a13[_0x228220(0x182)]))_0x1f052f['vpcInfo']['push'](_0x13ec48);else return[!![],_0x349d6f];}const _0x382507={};_0x382507[_0x228220(0x2c8)]=WS_EVENTS[_0x228220(0x21b)],_0x382507['message']=_0x1f052f,this[_0x228220(0x2bf)][_0x228220(0x1f4)](this[_0x228220(0x292)],_0x382507);}async[a1_0x578d60(0x24c)](_0x3add59){const _0x26bf3e=a1_0x578d60,_0x2969c7={};_0x2969c7[_0x26bf3e(0x1dd)]=_0x26bf3e(0x216),_0x2969c7[_0x26bf3e(0x1c6)]=function(_0x5bea62,_0x450c8b){return _0x5bea62===_0x450c8b;},_0x2969c7[_0x26bf3e(0x1a2)]=_0x26bf3e(0x16f),_0x2969c7[_0x26bf3e(0x28f)]=function(_0x490445,_0x2a7b66){return _0x490445!==_0x2a7b66;},_0x2969c7[_0x26bf3e(0x2e7)]='qLqPa',_0x2969c7[_0x26bf3e(0x20a)]=function(_0x308378,_0x4e53f5){return _0x308378!==_0x4e53f5;},_0x2969c7[_0x26bf3e(0x2c5)]='fvnZZ',_0x2969c7[_0x26bf3e(0x1a1)]=_0x26bf3e(0x10d),_0x2969c7[_0x26bf3e(0x27f)]='XYtVQ';const _0x2eb121=_0x2969c7;try{if(_0x2eb121['WUUxn'](_0x2eb121[_0x26bf3e(0x1a2)],_0x2eb121['iIKSn'])){const _0x1b16f0=await this['networkClient'][_0x26bf3e(0x2a0)][_0x26bf3e(0x13f)](global_registry[_0x26bf3e(0x24f)]);for await(const _0x12f179 of _0x1b16f0){if(_0x2eb121[_0x26bf3e(0x28f)](_0x2eb121[_0x26bf3e(0x2e7)],_0x2eb121[_0x26bf3e(0x2e7)]))_0x2e071d['push'](_0x527e4e);else{if(_0x2eb121[_0x26bf3e(0x1c6)](_0x12f179['name'],_0x3add59)){if(_0x2eb121[_0x26bf3e(0x20a)](_0x2eb121['UGjzp'],_0x2eb121[_0x26bf3e(0x1a1)]))return!![];else _0x481003=_0x1610fd['id'];}}}}else _0x300f7e[_0x26bf3e(0x2de)](_0xd37827);}catch(_0xc6d7d7){if(_0x2eb121['pClXN'](_0x2eb121[_0x26bf3e(0x27f)],_0x2eb121['vFYTa']))_0x19693a[_0x26bf3e(0x13b)](_0x2eb121[_0x26bf3e(0x1dd)]),_0x4fa5e5[_0x26bf3e(0x2ce)](0x1);else return logger['error'](_0x26bf3e(0x2a7)+_0x3add59+_0x26bf3e(0x295)+_0xc6d7d7),![];}return![];}async['isSubnetsValid'](_0x49a5f7,_0x2e9ea1){const _0xc8b4c6=a1_0x578d60,_0x187d62={};_0x187d62[_0xc8b4c6(0x2c9)]=_0xc8b4c6(0x274),_0x187d62[_0xc8b4c6(0x230)]=_0xc8b4c6(0x129),_0x187d62[_0xc8b4c6(0x1af)]=function(_0x370cb6,_0xfc23b9){return _0x370cb6!==_0xfc23b9;},_0x187d62[_0xc8b4c6(0x2aa)]=_0xc8b4c6(0x171),_0x187d62[_0xc8b4c6(0x136)]=function(_0x4e9d19,_0x10d67e){return _0x4e9d19===_0x10d67e;},_0x187d62[_0xc8b4c6(0x28e)]='BKphE',_0x187d62[_0xc8b4c6(0x197)]=_0xc8b4c6(0x215);const _0x4c956f=_0x187d62;try{if(_0x4c956f[_0xc8b4c6(0x1af)](_0x4c956f['dgEtq'],_0x4c956f[_0xc8b4c6(0x2aa)]))_0x4d7188[_0xc8b4c6(0x229)](_0x4c956f[_0xc8b4c6(0x2c9)]);else{const _0x23f3c4=await this[_0xc8b4c6(0x23c)][_0xc8b4c6(0x19b)][_0xc8b4c6(0x233)](global_registry[_0xc8b4c6(0x24f)],_0x2e9ea1,_0x49a5f7[0x0]);if(_0x4c956f[_0xc8b4c6(0x136)](_0x49a5f7[0x0],_0x23f3c4[_0xc8b4c6(0x1bf)])){if(_0x4c956f[_0xc8b4c6(0x1af)](_0x4c956f[_0xc8b4c6(0x28e)],_0x4c956f['KMcWq']))return[!![],_0x49a5f7];else _0x56b6a1[_0xc8b4c6(0x229)](_0x4c956f['QbiGC']);}}}catch(_0x3009c0){return logger[_0xc8b4c6(0x13b)](_0xc8b4c6(0x27c)+_0x49a5f7+_0xc8b4c6(0x15d)+_0x3009c0),[![],[]];}return[![],[]];}async[a1_0x578d60(0x117)](){const _0xfba1a=a1_0x578d60,_0x57b425={};_0x57b425[_0xfba1a(0x1a9)]=_0xfba1a(0x22d);const _0x222e7f=_0x57b425,_0x5a8a66={};_0x5a8a66['status']=!![],_0x5a8a66[_0xfba1a(0x13b)]=null,_0x5a8a66['data']=_0x222e7f[_0xfba1a(0x1a9)];const _0x1d476b=_0x5a8a66;return _0x1d476b;}async[a1_0x578d60(0x26d)](){const _0x1d7d01=a1_0x578d60,_0x29bde0={};_0x29bde0[_0x1d7d01(0x2df)]='https://graph.microsoft.com/.default',_0x29bde0[_0x1d7d01(0x168)]=_0x1d7d01(0x10c),_0x29bde0['OhFgt']=_0x1d7d01(0x106);const _0x47148b=_0x29bde0,_0x4ae15f=await this['cred']['getToken'](_0x47148b[_0x1d7d01(0x2df)]),_0x39e7d8={};_0x39e7d8['method']=_0x47148b[_0x1d7d01(0x168)],_0x39e7d8[_0x1d7d01(0x1e7)]={},_0x39e7d8[_0x1d7d01(0x1e7)][_0x1d7d01(0x261)]=_0x1d7d01(0x23d)+_0x4ae15f[_0x1d7d01(0x1d1)],_0x39e7d8[_0x1d7d01(0x1e7)][_0x1d7d01(0x2ea)]=_0x47148b[_0x1d7d01(0x1e9)];const _0x34a597=_0x39e7d8;return _0x34a597;}async['getPrincipalIdFromClientId'](_0xe0234e){const _0x2fb145=a1_0x578d60,_0x41a210={'HysZu':function(_0x1e1dad,_0x3549c5,_0x1cb355){return _0x1e1dad(_0x3549c5,_0x1cb355);},'dWodk':function(_0xd634ec,_0x4761ae){return _0xd634ec===_0x4761ae;},'lrDVW':_0x2fb145(0x1f2)},_0x51b56e={};_0x51b56e[_0x2fb145(0x245)]='',_0x51b56e[_0x2fb145(0x13b)]=null;const _0x32d943=_0x51b56e;try{const _0x11d0a0=_0x2fb145(0x201)+_0xe0234e+'\x27',_0x33b7db=await this[_0x2fb145(0x26d)](),_0x3dfc21=await _0x41a210['HysZu'](fetch,_0x11d0a0,_0x33b7db),_0x27099d=await _0x3dfc21[_0x2fb145(0x241)]();if(!_0x27099d[_0x2fb145(0x2c1)]||_0x41a210['dWodk'](_0x27099d['value'][_0x2fb145(0x148)],0x0))throw new Error(_0x41a210[_0x2fb145(0x2a2)],_0x2fb145(0x1b2)+JSON['stringify'](_0x27099d));_0x32d943['principalId']=_0x27099d[_0x2fb145(0x2c1)][0x0]['id'];}catch(_0x4dd70a){_0x32d943[_0x2fb145(0x13b)]=_0x4dd70a;}return _0x32d943;}async[a1_0x578d60(0x23a)](){const _0x52539f=a1_0x578d60,_0x65b668={};_0x65b668[_0x52539f(0x1d0)]=_0x52539f(0x13a),_0x65b668[_0x52539f(0x2be)]='denied',_0x65b668[_0x52539f(0x166)]=function(_0x418f55,_0x105047){return _0x418f55!==_0x105047;},_0x65b668[_0x52539f(0x2e8)]=function(_0x52b234,_0x3141d4){return _0x52b234===_0x3141d4;},_0x65b668[_0x52539f(0x180)]=_0x52539f(0x190),_0x65b668[_0x52539f(0x1ec)]=_0x52539f(0x2c7),_0x65b668[_0x52539f(0x183)]=function(_0x20a51c,_0x3569e2){return _0x20a51c===_0x3569e2;},_0x65b668[_0x52539f(0x23f)]=function(_0x1e2f70,_0x1443d4){return _0x1e2f70===_0x1443d4;},_0x65b668[_0x52539f(0x21f)]=_0x52539f(0x1c8);const _0x5564ae=_0x65b668,_0x23110d={};_0x23110d[_0x52539f(0x226)]=![],_0x23110d[_0x52539f(0x13b)]=null,_0x23110d[_0x52539f(0x2d6)]='';const _0x594d05=_0x23110d;try{let _0xf561ad='';const _0x3bf2e7='subscriptions/'+global_registry[_0x52539f(0x21a)]+_0x52539f(0x114)+global_registry[_0x52539f(0x24f)],_0x572a9e=await this[_0x52539f(0x2b0)](global_registry[_0x52539f(0x11a)]);if(_0x5564ae[_0x52539f(0x166)](_0x572a9e[_0x52539f(0x13b)],null))return _0x594d05[_0x52539f(0x13b)]=_0x572a9e[_0x52539f(0x13b)],_0x594d05;const _0xd4e1c8=_0x52539f(0x153)+_0x572a9e[_0x52539f(0x245)]+'\x27)',_0x2b75cf={};_0x2b75cf[_0x52539f(0x238)]=_0xd4e1c8;const _0x22651b=await this[_0x52539f(0x21e)][_0x52539f(0x2ae)][_0x52539f(0x279)](_0x3bf2e7,_0x2b75cf),_0x519657=[];for await(const _0x5a89ac of _0x22651b){_0x519657[_0x52539f(0x2de)](_0x5a89ac);}if(_0x5564ae['PykOT'](_0x519657[_0x52539f(0x148)],0x0))return _0x594d05[_0x52539f(0x2d6)]=_0x5564ae['MQbpW'],_0x594d05;const _0x50c730=[...new Set(_0x519657[_0x52539f(0x200)](_0x50eb55=>_0x50eb55[_0x52539f(0x147)]))];if(_0x5564ae[_0x52539f(0x2e8)](_0x50c730['length'],0x0))return _0x594d05[_0x52539f(0x2d6)]=_0x5564ae['kqXkh'],_0x594d05;const _0x4d3208=[],_0x21b645=[];for(const _0x3f4e79 of _0x50c730){const _0x2b2954=await this[_0x52539f(0x21e)]['roleDefinitions'][_0x52539f(0x283)](_0x3f4e79);logger['debug'](_0x52539f(0x109)+_0x2b2954['roleName']),_0x4d3208[_0x52539f(0x2de)](_0x2b2954),logger[_0x52539f(0x24a)](_0x52539f(0x24d)+JSON['stringify'](_0x2b2954[_0x52539f(0x2dd)])),_0x2b2954[_0x52539f(0x2dd)]['forEach'](_0x1c8dd1=>{const _0x332d50=_0x52539f;_0x21b645['push'](..._0x1c8dd1[_0x332d50(0x1d4)]);});}logger['debug']('actionPermission\x20:\x20'+JSON[_0x52539f(0x18c)](_0x21b645)),_0x5564ae['roINb'](_0x21b645[_0x52539f(0x148)],0x0)&&(_0xf561ad+=_0x5564ae[_0x52539f(0x23f)](_0x21b645[_0x52539f(0x148)],0x0)?_0x5564ae[_0x52539f(0x21f)]:'',logger[_0x52539f(0x24a)](_0x52539f(0x1b1)+JSON[_0x52539f(0x18c)](_0x4d3208))),_0x594d05[_0x52539f(0x226)]=!![],Object[_0x52539f(0x299)](PERMISSIONS['ACTION'])[_0x52539f(0x161)](([_0x37abea,_0x275119])=>{const _0x415924=_0x52539f,_0x5ee4f0=_0x21b645['includes'](_0x37abea);_0xf561ad+='\x0a\x09'+_0x275119+':\x20'+(_0x5ee4f0?_0x5564ae['DfoUy']:_0x5564ae[_0x415924(0x2be)]),!_0x5ee4f0&&(_0x594d05[_0x415924(0x226)]=![]);}),_0x594d05['data']=_0xf561ad;}catch(_0x32dcae){_0x594d05['error']=_0x32dcae;}return _0x594d05;}}const a1_0x150822={};a1_0x150822['AzureCloudProvider']=AzureCloudProvider,module[a1_0x578d60(0x259)]=a1_0x150822;