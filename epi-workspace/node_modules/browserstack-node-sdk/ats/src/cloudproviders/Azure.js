const a1_0x2c1867=a1_0x3b41;(function(_0x50dc61,_0x5892f3){const _0x68c801=a1_0x3b41,_0x487abc=_0x50dc61();while(!![]){try{const _0x3c5c64=parseInt(_0x68c801(0x18d))/0x1+-parseInt(_0x68c801(0x1c9))/0x2+-parseInt(_0x68c801(0xee))/0x3*(parseInt(_0x68c801(0x278))/0x4)+parseInt(_0x68c801(0x13b))/0x5+-parseInt(_0x68c801(0x175))/0x6*(parseInt(_0x68c801(0x16d))/0x7)+parseInt(_0x68c801(0x168))/0x8*(parseInt(_0x68c801(0x241))/0x9)+parseInt(_0x68c801(0x146))/0xa;if(_0x3c5c64===_0x5892f3)break;else _0x487abc['push'](_0x487abc['shift']());}catch(_0x269c90){_0x487abc['push'](_0x487abc['shift']());}}}(a1_0x4b0e,0xc9803));const fs=require('fs'),path=require(a1_0x2c1867(0x142)),yaml=require('js-yaml'),{logger}=require(a1_0x2c1867(0x1fa)),{CloudProvider}=require(a1_0x2c1867(0x259)),{deleteRoutingDeps,deleteAgent}=require('../utils/gridComponents'),{AZURE,WS_EVENTS,global_registry}=require('../config/constants'),PERMISSIONS=require(a1_0x2c1867(0x1f1)),{ClientSecretCredential}=require(a1_0x2c1867(0x225)),{NetworkManagementClient}=require(a1_0x2c1867(0x15e)),{StorageManagementClient}=require('@azure/arm-storage'),{AuthorizationManagementClient}=require(a1_0x2c1867(0x112)),{ResourceManagementClient}=require(a1_0x2c1867(0x272)),{ContainerServiceClient}=require(a1_0x2c1867(0x28a)),{runCommand}=require(a1_0x2c1867(0x125));function a1_0x4b0e(){const _0xf0bc63=['vpcInfo','DMAEJ','PnEHJ','eAkwD','BkGKX','gDHuv','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','HJfdq','DocST','parameters','hpxmy','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','Rotwq','jFYEf','QRJVU','loadBalancer','toString','uhHJA','maxNodes','IYdtk','userMaxNodes','fhKNN','Content-Type','clientId','ADbPs','clusterRegion','qOMmE','headers','OaIoZ','XZoNh','createOrUpdate','turboscale-identity-deployment','@azure/identity','subnetName','sTWjz','QdjSO','qgjPp','sAcaz','IGOBM','kIHnB','RhCzq','resourceGroups','hgngt','Bearer\x20','method','.json','OTnIM','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','Incremental','itdxc','webSocketUtils','SNKnD','allowed','type','resourceClient','pQBsG','lEBsM','nMDvc','resources','ezwpC','2759562TKzVOG','HajeN','ksfzI','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','ZjrrA','cred','xuNgB','/resourceGroups/','init','vTpDA','stringify','beginDeleteAndWait','oidcIssuerProfile','map','Deleted\x20the\x20cluster\x20successfully','YanNS','subscriptionId','getHeader','mbkuY','RmXmD','vnetSubnetID','NVDzE','vpcName','tjsdL','./CloudProvider','turboscale-cluster-deployment','ZWxLH','\x20CLIENT\x20ID:\x20','delete','EpkkX','rws','hebRv','Found\x20only\x20one\x20resource\x20group:\x20','managedClusters','MbIHI','scPZG','s3Bucket','[variables(\x27vnetSubnetID\x27)]','CwVxw','virtualNetworks','hubharesources','rMlvn','clientSecret','setCachedCredsInRegistry','deployments','instanceType','token','OSHib','pdbNz','@azure/arm-resources','NJTjV','forEach','UMLpA','description','ywHlk','204ZFwrku','dMfPj','Dsgxg','policy','actions','nOgvA','WUnlm','uhMjv','FgQNf','cloudProviderResourceGroup','blobTypes','WaPqI','stack','epLEr','ABguD','qdCjz','pZJON','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','@azure/arm-containerservice','federatedidentityuploader.json','Authorization','filter','daysAfterCreationGreaterThan','Lgqag','value','AZkkP','Eujwr','CSPPT','swCLR','bvaKy','issuerURL','wLmLG','isStorageAccountPresent','templates','toUpperCase','jPecp','permissions','BBxDs','definition','MtQqX','variables','name','uPgqU','AgQRb','QQpJr','roleAssignments','RePmO','cloudProviderSubscriptionId','cloudProvider','join','PRQWC','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','JdjPf','setupNewCluster','akscluster.json','sHFIW','listClusterAdminCredentials','Action\x20permission\x20list\x20is\x20empty\x0a','denied','IrYQp','utf-8','dKkPZ','zKNkz','uLHGz','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','RxAwh','FDvPu','updateClusterAlreadyPresent','tenantId','metadata','GHKNH','assignedTo(\x27','Managed\x20identity\x20already\x20exists,\x20skipping','ZBrCh','setupHubHa','FSsAz','eTynq','rObsZ','cloudProviderClientSecret','listByResourceGroup','eZAdS','NFfwL','tHRkI','DmcMn','string','sLaNy','2023-01-31','FMoeP','ORlQT','ELshw','oPxVd','sjIIy','SIOgr','5|0|3|1|4|2','mlSFh','EzuhT','Uogyq','managedidentity.json','networkClient','isClusterPresent','YBmIF','cKxtd','YcxoU','XAWdi','SOnQi','RCsDM','1|2|0|3|5|4','cOZqz','hBIHh','ThJFV','LOG','exit','authClient','GFUIX','true','80331zyrVUM','properties','GET','enabled','pEAZV','getClusterInfo','WsYei','tefjf','ACTION','No\x20CLI\x20tool\x20required','actionPermission\x20:\x20','CCRKY','.\x20Error:\x20','push','isVPCPresent','includes','tags','JsAgo','\x20RESOURCE\x20GROUP:\x20','createCluster','resourceGroup','bmjnI','log','disableLocalAccounts','VzdXq','gridName','rSIKS','storageClient','getUserInput','createFederatedAccountForHubHA','mtCVi','turboscale','DAicz','aHDQk','mHoaE','beginCreateOrUpdateAndWait','@azure/arm-authorization','xQvHP','Received\x20response\x20-\x20','GlQtZ','XdMTh','pGJnE','info','BEfPI','rzqeH','PfAOd','split','LzUSY','oWSMh','LHube','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','sWbJt','YYdGS','gRIww','xfCqC','../utils/utilityMethods','list','roleDefinitionId','bjEVd','sendEventToBackend','eQAyl','getPrincipalIdFromClientId','https://graph.microsoft.com/.default','UQYYz','vTVyG','HjMhx','createStorageAccount','yNIHP','cloudProviderName','ViHKQ','Creating\x20Azure\x20federated\x20identity','parse','createOtherResources','GRsVt','NWeVr','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','storageaccount.json','2618255flOSKt','vArik','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','PckLm','clusterInfo','svnIQ','cZrlL','path','browserstack:managedBy','Skdlt','Deleting\x20the\x20cluster\x20','25215480YpQIGX','HXyaD','PVvvl','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','mQHIR','getResourceClientId','JNFgj','createManagedIdentity','toLowerCase','mtmrd','AzZVk','gbzPt','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','YueYd','Kbeox','FJvoW','wkiDt','WMbyV','prIpP','Vpbqh','YaovK','zJate','Creating\x20Azure\x20storage\x20account','createFederatedAccount','@azure/arm-network','Cannot\x20find\x20subnets\x20','agentPoolProfiles','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','false','PbRtI','rules','hiFwi','ysVUF','isBrowserstackCluster','40KAmroe','QXwOF','getKubeConfigData','opPaI','ibsLf','61089MCKKFt','WGgnv','turboscale-storageaccount-deployment','DTYjM','GPNTr','uvZGt','exports','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','654eYRNAY','readFileAsync','clusterAutoUpgrade','baMyG','juNJp','aivzt','hostname','getStorageAccountName','iouHj','turboscale-federated-deployment','setClients','NOkpC','QLnOW','UWSpw','LACBG','DPXUU','role\x20name\x20attached\x20-\x20','location','Storage\x20account\x20already\x20exists,\x20skipping','OyzxN','PUeYd','gGeIk','eKTLM','getGridHostname','78627eJAvZr','rEgne','dsTcY','xwzRh','listForScope','blockBlob','QgeRx','slice','Attached\x20permissions\x20:\x20','GkzFl','cxtQJ','siUDc','containerClient','getResourceGroups','Created\x20Azure\x20federated\x20identity','hWQrs','AwgNN','vNbZY','lufdW','lxqbp','CfsRz','YRgGC','uMuYj','mvwVI','fHkmZ','ASbHk','7|1|5|2|0|3|6|4','isManagedIdentityPresent','aqDEA','bAvcJ','YAfgy','fLJGW','storageAccounts','yVQgk','Qoout','principalId','isCliToolInstalled','OxRWl','isSubnetsValid','JXWoa','debug','entries','Enabling\x20Local\x20account\x20for\x20the\x20cluster','HnSnu','YKKFF','InRvW','gsIyb','MyOwU','jOENr','WhKJI','Yqnfb','checkAccess','abNYp','managementPolicies','YxMSf','yFbmV','IhkZy','kWGDo','No\x20service\x20principal\x20found','cloudProviderTenantId','3029398Oeuqjm','cMXps','message','vsEyg','azureresources','KhXhN','skmuh','bHZuN','AsbNa','hDzQG','DXKNc','filters','error','WyAer','vieFQ','JPTiO','0|1|4|3|2|5','CSXRF','securityProfile','Creating\x20Azure\x20managed\x20identity','ajAHL','UpwHZ','BFtZj','bstackUsername','OFyxC','length','pJwFm','data','muGHX','TbBUd','JFaHX','vZRPG','getById','application/json','AjkSp','sendAzureInfoToHST','pJrHd','yhHfs','clusterName','Arxop','../permissions/AZURE.json','ARJbK','pqfHF','fktQM','listAll','rKoqn','Cannot\x20find\x20VPC\x20','subnets','jXrtw','../config/logger','seHlC','xDbee','RESOURCES','status','turboscale-managed-identity-','json','kubeconfigs','zTuWp','cloudProviderClientId','vzKZh'];a1_0x4b0e=function(){return _0xf0bc63;};return a1_0x4b0e();}class AzureCloudProvider extends CloudProvider{constructor(_0x5d5739,_0x27e7bf,_0x530b2f,_0x51dab3){const _0x21c74e=a1_0x2c1867,_0x4d7efb={};_0x4d7efb['Yqnfb']=_0x21c74e(0x1a7);const _0x1efb1e=_0x4d7efb,_0x2719c8=_0x1efb1e[_0x21c74e(0x1bf)]['split']('|');let _0x12b6f9=0x0;while(!![]){switch(_0x2719c8[_0x12b6f9++]){case'0':this[_0x21c74e(0x109)]=null;continue;case'1':this[_0x21c74e(0x246)]=null;continue;case'2':this[_0x21c74e(0x199)]=null;continue;case'3':this[_0x21c74e(0x23b)]=null;continue;case'4':this[_0x21c74e(0xeb)]=null;continue;case'5':this[_0x21c74e(0x13f)]=null;continue;case'6':this[_0x21c74e(0xdd)]=null;continue;case'7':super(AZURE,_0x5d5739,_0x27e7bf,_0x530b2f,_0x51dab3);continue;}break;}}async[a1_0x2c1867(0x249)](){const _0x525f2b=a1_0x2c1867;return await super[_0x525f2b(0x249)](),this;}[a1_0x2c1867(0x17f)](){const _0x488e53=a1_0x2c1867,_0x2d57ff=new ClientSecretCredential(global_registry['cloudProviderTenantId'],global_registry[_0x488e53(0x203)],global_registry[_0x488e53(0x2c6)]);this[_0x488e53(0x199)]=new ContainerServiceClient(_0x2d57ff,global_registry[_0x488e53(0x2a7)]),this[_0x488e53(0x109)]=new StorageManagementClient(_0x2d57ff,global_registry[_0x488e53(0x2a7)]),this['resourceClient']=new ResourceManagementClient(_0x2d57ff,global_registry[_0x488e53(0x2a7)]),this[_0x488e53(0xdd)]=new NetworkManagementClient(_0x2d57ff,global_registry['cloudProviderSubscriptionId']),this['authClient']=new AuthorizationManagementClient(_0x2d57ff,global_registry['cloudProviderSubscriptionId']),this[_0x488e53(0x246)]=_0x2d57ff;}['getStorageAccountName'](){const _0x5d82ba=a1_0x2c1867,_0xe396fb={};_0xe396fb['sLaNy']=function(_0x8325d2,_0x2e6d14){return _0x8325d2+_0x2e6d14;},_0xe396fb['Inbsl']=_0x5d82ba(0x10d),_0xe396fb[_0x5d82ba(0x1a6)]=function(_0x31ed6c,_0x2b1b1a){return _0x31ed6c-_0x2b1b1a;};const _0x1685d5=_0xe396fb,_0x4eac78=global_registry[_0x5d82ba(0x265)][_0x5d82ba(0x11c)]('-'),_0xe72d10=_0x1685d5[_0x5d82ba(0x2cd)](_0x1685d5['Inbsl'],_0x4eac78[_0x1685d5[_0x5d82ba(0x1a6)](_0x4eac78[_0x5d82ba(0x1e2)],0x1)])[_0x5d82ba(0x194)](0x0,0x18);return _0xe72d10[_0x5d82ba(0x14e)]();}[a1_0x2c1867(0x26c)](_0x1ae528){const _0x3b5a18=a1_0x2c1867,_0x2d1067={};_0x2d1067[_0x3b5a18(0x115)]=_0x3b5a18(0xd8);const _0x16a076=_0x2d1067,_0x51d24d=_0x16a076['GlQtZ'][_0x3b5a18(0x11c)]('|');let _0x4af5cc=0x0;while(!![]){switch(_0x51d24d[_0x4af5cc++]){case'0':global_registry['cloudProviderClientSecret']=_0x1ae528[this[_0x3b5a18(0x132)]][_0x3b5a18(0x26b)];continue;case'1':global_registry['cloudProviderSubscriptionId']=_0x1ae528[this[_0x3b5a18(0x132)]][_0x3b5a18(0x251)];continue;case'2':this[_0x3b5a18(0x17f)]();continue;case'3':global_registry[_0x3b5a18(0x1c8)]=_0x1ae528[this[_0x3b5a18(0x132)]][_0x3b5a18(0x2bc)];continue;case'4':global_registry[_0x3b5a18(0x281)]=_0x1ae528[this[_0x3b5a18(0x132)]][_0x3b5a18(0x102)];continue;case'5':global_registry['cloudProviderClientId']=_0x1ae528[this[_0x3b5a18(0x132)]][_0x3b5a18(0x21c)];continue;}break;}}async[a1_0x2c1867(0x10a)](_0x48ab88,_0x2fadf3){const _0x988015=a1_0x2c1867,_0x2096dd={'UpwHZ':_0x988015(0x2cc),'FDvPu':_0x988015(0x244),'swCLR':'[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','JPTiO':_0x988015(0x266),'RxAwh':_0x988015(0x20b),'gRIww':function(_0x1f1be6,_0x54f7b1){return _0x1f1be6+_0x54f7b1;},'Qoout':'Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','CfsRz':function(_0x32d9ad,_0x2c6945){return _0x32d9ad(_0x2c6945);},'mQHIR':function(_0x57c8d3,_0x52aebc){return _0x57c8d3(_0x52aebc);},'YBmIF':function(_0x59327d,_0x16e261){return _0x59327d===_0x16e261;},'BkGKX':function(_0x42fd0e,_0x476ed6){return _0x42fd0e!==_0x476ed6;},'OyzxN':_0x988015(0xf4),'IYdtk':_0x988015(0x17a),'hpxmy':function(_0x15b860,_0x1a524d){return _0x15b860===_0x1a524d;},'RePmO':function(_0x5004b0,_0x183481){return _0x5004b0===_0x183481;},'FMoeP':_0x988015(0x2cb),'rEgne':function(_0x440ad2,_0x1c11b5){return _0x440ad2(_0x1c11b5);},'wiOwx':function(_0x3ae915,_0x413c12){return _0x3ae915===_0x413c12;},'PUeYd':function(_0x40a943,_0x1d94d9){return _0x40a943===_0x1d94d9;},'JdjPf':function(_0x5b27db,_0x270e95){return _0x5b27db===_0x270e95;},'ZBrCh':_0x988015(0x286),'PbRtI':_0x988015(0x174),'LzUSY':_0x988015(0xe1),'UMLpA':'PQnlX','vzKZh':_0x988015(0x11a),'YueYd':function(_0x333bfd,_0x180854){return _0x333bfd<_0x180854;},'bAvcJ':_0x988015(0x12e),'yNIHP':_0x988015(0x122),'qgjPp':_0x988015(0x149),'JsAgo':function(_0x555271,_0x121b3e){return _0x555271(_0x121b3e);},'uhHJA':function(_0x95fba2,_0x294851){return _0x95fba2<=_0x294851;},'uLHGz':function(_0x23747e,_0x3645d0){return _0x23747e>_0x3645d0;},'uMuYj':function(_0x3932e7,_0x1dcea3){return _0x3932e7===_0x1dcea3;},'rKoqn':_0x988015(0x1ee),'fiqQx':function(_0x100bf2,_0x472d26){return _0x100bf2-_0x472d26;}},_0x254258=this[_0x988015(0x132)][_0x988015(0x29a)](),_0x5fb232=await _0x2096dd[_0x988015(0x1a1)](_0x48ab88,_0x254258+_0x988015(0x25c)),_0x1aafb2=await _0x2096dd[_0x988015(0x1a1)](_0x48ab88,_0x254258+'\x20CLIENT\x20SECRET:\x20'),_0xd32d44=await _0x2096dd[_0x988015(0x1a1)](_0x48ab88,_0x254258+'\x20TENANT\x20ID:\x20'),_0x27d114=await _0x2096dd[_0x988015(0x14a)](_0x48ab88,_0x254258+'\x20SUBSCRIPTION\x20ID:\x20');global_registry[_0x988015(0x203)]=_0x5fb232,global_registry[_0x988015(0x2c6)]=_0x1aafb2,global_registry[_0x988015(0x1c8)]=_0xd32d44,global_registry['cloudProviderSubscriptionId']=_0x27d114,this[_0x988015(0x17f)]();const _0x2da43e=await this[_0x988015(0x19a)](),_0x446e5e=_0x2da43e[_0x988015(0x1e2)];let _0x4a2936;if(_0x2096dd[_0x988015(0xdf)](_0x446e5e,0x0))_0x2096dd[_0x988015(0x209)](_0x2096dd[_0x988015(0x188)],_0x2096dd[_0x988015(0x218)])?_0x4a2936=await _0x2096dd[_0x988015(0x1a1)](_0x48ab88,_0x254258+_0x988015(0x100)):_0x541267[_0x988015(0xea)](0x0);else{if(_0x2096dd[_0x988015(0x20f)](_0x446e5e,0x1)){if(_0x2096dd[_0x988015(0x2a6)](_0x2096dd[_0x988015(0x2cf)],_0x2096dd['FMoeP'])){const _0x43eb2f=await _0x2096dd[_0x988015(0x18e)](_0x48ab88,_0x988015(0x261)+_0x2da43e[0x0]+_0x988015(0x2b8));if(_0x2096dd[_0x988015(0x2a6)](_0x43eb2f,undefined)||_0x2096dd['wiOwx'](_0x43eb2f,null)||!(_0x2096dd[_0x988015(0x189)](_0x43eb2f[_0x988015(0x14e)](),'y')||_0x2096dd[_0x988015(0x2ac)](_0x43eb2f[_0x988015(0x14e)](),'n'))){if(_0x2096dd[_0x988015(0x209)](_0x2096dd[_0x988015(0x2c1)],_0x2096dd[_0x988015(0x2c1)]))return _0x3afee6[_0x988015(0x1d5)](_0x988015(0x1f7)+_0x1977fe+'.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20'+_0x485df9),![];else console[_0x988015(0x1d5)](_0x2096dd[_0x988015(0x163)]),process[_0x988015(0xea)](0x1);}if(_0x2096dd[_0x988015(0x2a6)](_0x43eb2f[_0x988015(0x14e)](),'n')){if(_0x2096dd[_0x988015(0xdf)](_0x2096dd['LzUSY'],_0x2096dd[_0x988015(0x11d)]))process[_0x988015(0xea)](0x0);else{const _0x592a57={};_0x592a57[_0x988015(0x23a)]=_0x2096dd['UpwHZ'],_0x592a57[_0x988015(0x2bd)]={},_0x592a57[_0x988015(0x2bd)][_0x988015(0x276)]=_0x2096dd[_0x988015(0x2ba)];const _0x428d24={};_0x428d24[_0x988015(0x23a)]=_0x2096dd[_0x988015(0x1de)],_0x428d24[_0x988015(0x2bd)]={},_0x428d24[_0x988015(0x2bd)][_0x988015(0x276)]=_0x2096dd['FDvPu'];const _0x44aeea={..._0x624c12['parameters']};_0x44aeea[_0x988015(0x257)]=_0x592a57,_0x44aeea[_0x988015(0x226)]=_0x428d24,_0x5c22ff[_0x988015(0x20e)]=_0x44aeea;const _0x19a184={};_0x19a184['vnetSubnetID']=_0x2096dd[_0x988015(0x294)],_0x5f16a5[_0x988015(0x2a0)]=_0x19a184;const _0x3c5d4b={..._0x1c9f97['resources'][0x0][_0x988015(0xef)][_0x988015(0x160)][0x0]};_0x3c5d4b[_0x988015(0x255)]=_0x2096dd[_0x988015(0x1d8)],_0x37a1bf[_0x988015(0x23f)][0x0][_0x988015(0xef)][_0x988015(0x160)][0x0]=_0x3c5d4b;const _0x4f9d3b={};_0x4f9d3b[_0x988015(0x290)]=_0x6ccaa8;const _0x58ff3b={};_0x58ff3b[_0x988015(0x290)]=_0xe6f516[0x0];const _0x2baea4={..._0x16e1fd};_0x2baea4['vpcName']=_0x4f9d3b,_0x2baea4[_0x988015(0x226)]=_0x58ff3b,_0x2ba243=_0x2baea4;}}_0x4a2936=_0x2da43e[0x0];}else return!![];}else{if(_0x2096dd[_0x988015(0x209)](_0x2096dd[_0x988015(0x275)],_0x2096dd[_0x988015(0x204)])){for(let _0x15639f=0x0;_0x2096dd[_0x988015(0x153)](_0x15639f,_0x2da43e[_0x988015(0x1e2)]);_0x15639f+=0x1){if(_0x2096dd['BkGKX'](_0x2096dd[_0x988015(0x1aa)],_0x2096dd[_0x988015(0x131)]))console[_0x988015(0x104)]('['+_0x2096dd[_0x988015(0x123)](_0x15639f,0x1)+']\x20'+_0x2da43e[_0x15639f]);else{_0x133b29[_0x988015(0x118)](_0x2096dd['RxAwh']);const _0x42d32d={};_0x42d32d[_0x988015(0x23a)]=_0xf4fdbd[_0x988015(0x1fd)],_0x42d32d[_0x988015(0x1cb)]=_0x2096dd[_0x988015(0x2b9)],this[_0x988015(0x237)]['sendEventToBackend'](this[_0x988015(0x25f)],_0x42d32d),_0x2088fe[_0x988015(0x24d)]['enabled']=!![];}}const _0x5cf44c=await _0x2096dd[_0x988015(0x18e)](_0x48ab88,_0x2096dd[_0x988015(0x229)]),_0x37128e=_0x2096dd[_0x988015(0x1a1)](Number,_0x5cf44c);(_0x2096dd[_0x988015(0xff)](isNaN,_0x37128e)||_0x2096dd[_0x988015(0x216)](_0x37128e,0x0)||_0x2096dd[_0x988015(0x2b7)](_0x37128e,_0x446e5e))&&(_0x2096dd[_0x988015(0x1a3)](_0x2096dd['rKoqn'],_0x2096dd[_0x988015(0x1f6)])?(console[_0x988015(0x1d5)](_0x2096dd[_0x988015(0x163)]),process[_0x988015(0xea)](0x1)):_0x34e133[_0x988015(0x104)]('['+_0x2096dd[_0x988015(0x123)](_0x4eaf41,0x1)+']\x20'+_0x4dce94[_0x8c3637])),_0x4a2936=_0x2da43e[_0x2096dd['fiqQx'](_0x37128e,0x1)];}else{_0x175345[_0x988015(0x118)](_0x2096dd[_0x988015(0x1af)]);const _0x6e43f5={};_0x6e43f5[_0x988015(0x23a)]=_0x50eac7[_0x988015(0x1fd)],_0x6e43f5[_0x988015(0x1cb)]=_0x2096dd[_0x988015(0x1af)],this['webSocketUtils'][_0x988015(0x129)](this[_0x988015(0x25f)],_0x6e43f5);const _0xd08034={};_0xd08034[_0x988015(0xf1)]=!![];const _0x3d99dd={'workloadIdentity':_0xd08034,..._0x12e0aa[_0x988015(0x1db)]};_0x397f6e[_0x988015(0x1db)]=_0x3d99dd;}}}global_registry['cloudProviderResourceGroup']=_0x4a2936;const _0x13e756={};return _0x13e756[_0x988015(0x21c)]=_0x5fb232,_0x13e756[_0x988015(0x26b)]=_0x1aafb2,_0x13e756[_0x988015(0x2bc)]=_0xd32d44,_0x13e756['subscriptionId']=_0x27d114,_0x13e756['resourceGroup']=_0x4a2936,_0x2fadf3[_0x988015(0x2a8)][AZURE]=_0x13e756,_0x2fadf3;}async[a1_0x2c1867(0x19a)](){const _0x63e278=a1_0x2c1867,_0x2e16f3={};_0x2e16f3[_0x63e278(0x2b6)]=function(_0x3c2cc1,_0x55d471){return _0x3c2cc1!==_0x55d471;},_0x2e16f3[_0x63e278(0x21d)]=_0x63e278(0x19e),_0x2e16f3[_0x63e278(0x10e)]='iIXoN';const _0x9ad564=_0x2e16f3,_0x45ecc8=[];try{if(_0x9ad564[_0x63e278(0x2b6)](_0x9ad564[_0x63e278(0x21d)],_0x9ad564['ADbPs'])){const _0x4ea99d=new _0xc57449(_0x522ea9[_0x63e278(0x1c8)],_0x3db960['cloudProviderClientId'],_0x159ec4[_0x63e278(0x2c6)]);this[_0x63e278(0x199)]=new _0x35d708(_0x4ea99d,_0x2d673d[_0x63e278(0x2a7)]),this['storageClient']=new _0x1ab4c9(_0x4ea99d,_0x421bb1['cloudProviderSubscriptionId']),this[_0x63e278(0x23b)]=new _0x40f54d(_0x4ea99d,_0x5f196b[_0x63e278(0x2a7)]),this['networkClient']=new _0x98d11d(_0x4ea99d,_0x45a070[_0x63e278(0x2a7)]),this[_0x63e278(0xeb)]=new _0x4e5e3f(_0x4ea99d,_0x303f2d[_0x63e278(0x2a7)]),this[_0x63e278(0x246)]=_0x4ea99d;}else{const _0x3bb39a=await this['resourceClient'][_0x63e278(0x22e)][_0x63e278(0x126)]();for await(const _0x27d7e2 of _0x3bb39a){if(_0x9ad564['zKNkz'](_0x9ad564[_0x63e278(0x10e)],_0x9ad564['DAicz']))return[!![],_0x672e73];else _0x45ecc8[_0x63e278(0xfb)](_0x27d7e2['name']);}}}catch(_0x20d655){}return _0x45ecc8;}async['getClusterInfo'](){const _0x565992=a1_0x2c1867;return this[_0x565992(0x13f)]=await this[_0x565992(0x199)][_0x565992(0x262)]['get'](global_registry[_0x565992(0x281)],this[_0x565992(0x1ef)]),this[_0x565992(0x13f)];}async[a1_0x2c1867(0x16a)](){const _0x5819d3=a1_0x2c1867,_0x411ebb=await this[_0x5819d3(0x199)]['managedClusters'][_0x5819d3(0x2b0)](global_registry['cloudProviderResourceGroup'],this['clusterName']),_0x3bdc8f=_0x411ebb[_0x5819d3(0x201)][0x0][_0x5819d3(0x290)][_0x5819d3(0x215)]();return _0x3bdc8f;}[a1_0x2c1867(0x18c)](_0x5e8143){const _0xe3c6ff=a1_0x2c1867;return _0x5e8143['status'][_0xe3c6ff(0x214)]['ingress'][0x0][_0xe3c6ff(0x17b)];}async[a1_0x2c1867(0xde)](){const _0x414055=a1_0x2c1867,_0xe7a9c1={'RCsDM':function(_0x636ced,_0x3e3a83,_0x4b905e){return _0x636ced(_0x3e3a83,_0x4b905e);},'eZAdS':_0x414055(0x1d9),'RkMHl':function(_0x339b04,_0x416aed){return _0x339b04===_0x416aed;},'dAMMZ':'Nuvtc','TEOwS':_0x414055(0x20d),'ORlQT':function(_0xa4c34e,_0x1b3550){return _0xa4c34e===_0x1b3550;},'QgeRx':_0x414055(0x2c5),'pJwFm':function(_0xa87cb5,_0xb02df6){return _0xa87cb5===_0xb02df6;},'OFyxC':function(_0x26090a,_0x53c2cc){return _0x26090a===_0x53c2cc;},'AZkkP':_0x414055(0x27a),'MbIHI':_0x414055(0x1a2)},_0x30be84=new Array();for await(const _0x4c4bd3 of this[_0x414055(0x199)]['managedClusters'][_0x414055(0x2c7)](global_registry[_0x414055(0x281)])){_0xe7a9c1['RkMHl'](_0xe7a9c1['dAMMZ'],_0xe7a9c1['TEOwS'])?_0xe7a9c1[_0x414055(0xe4)](_0x4eec13,()=>_0x48d205(),0x3e8):_0x30be84[_0x414055(0xfb)](_0x4c4bd3);}for await(const _0xf2da17 of _0x30be84){if(_0xe7a9c1[_0x414055(0x2d0)](_0xe7a9c1['QgeRx'],_0xe7a9c1[_0x414055(0x193)])){if(_0xe7a9c1[_0x414055(0x1e3)](_0xf2da17['name'],this[_0x414055(0x1ef)])){if(_0xe7a9c1[_0x414055(0x1e1)](_0xe7a9c1[_0x414055(0x291)],_0xe7a9c1[_0x414055(0x263)])){const _0x580dd0=_0xe7a9c1[_0x414055(0x2c8)][_0x414055(0x11c)]('|');let _0x492914=0x0;while(!![]){switch(_0x580dd0[_0x492914++]){case'0':_0x4228a1['cloudProviderClientId']=_0x298418[this[_0x414055(0x132)]][_0x414055(0x21c)];continue;case'1':_0x4611ab['cloudProviderClientSecret']=_0x255eb6[this[_0x414055(0x132)]]['clientSecret'];continue;case'2':_0x50f34d[_0x414055(0x281)]=_0x325cb2[this[_0x414055(0x132)]][_0x414055(0x102)];continue;case'3':_0x57c2c9[_0x414055(0x2a7)]=_0x4cb480[this[_0x414055(0x132)]]['subscriptionId'];continue;case'4':_0x58d2de[_0x414055(0x1c8)]=_0x49544f[this['cloudProviderName']]['tenantId'];continue;case'5':this['setClients']();continue;}break;}}else return await this[_0x414055(0xf3)](),!![];}}else return _0x9caf1e['error']('[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20'+_0x38582b+':'+_0x28dbfe[_0x414055(0x284)]),{};}return![];}async[a1_0x2c1867(0x2ad)](_0x2cbd28=null,_0xcfd512=null){const _0x55179d=a1_0x2c1867,_0xa3117c={};_0xa3117c['jFYEf']=_0x55179d(0xe5),_0xa3117c['hebRv']=_0x55179d(0x234);const _0x406a28=_0xa3117c,_0x36466a=_0x406a28[_0x55179d(0x212)]['split']('|');let _0x50a86a=0x0;while(!![]){switch(_0x36466a[_0x50a86a++]){case'0':logger[_0x55179d(0x118)](_0x406a28[_0x55179d(0x260)]);continue;case'1':this['sendAzureInfoToHST']();continue;case'2':const _0x5494fe={};_0x5494fe[_0x55179d(0x23a)]=WS_EVENTS[_0x55179d(0xe9)],_0x5494fe[_0x55179d(0x1cb)]=_0x406a28[_0x55179d(0x260)],this[_0x55179d(0x237)][_0x55179d(0x129)](this[_0x55179d(0x25f)],_0x5494fe);continue;case'3':await this[_0x55179d(0x101)](_0x2cbd28,_0xcfd512);continue;case'4':return[_0x2cbd28,_0xcfd512];case'5':await this[_0x55179d(0x136)]();continue;}break;}}async[a1_0x2c1867(0x101)](_0x3ab2c9=null,_0xc40ab2=null){const _0x385097=a1_0x2c1867,_0x221861={};_0x221861[_0x385097(0x1ca)]=_0x385097(0x1b7),_0x221861[_0x385097(0x22d)]=_0x385097(0x299),_0x221861['tSeZr']=_0x385097(0x1cd),_0x221861[_0x385097(0x206)]=_0x385097(0x2ae),_0x221861['QOCsO']='utf-8',_0x221861['baMyG']=_0x385097(0xed),_0x221861[_0x385097(0x29f)]=_0x385097(0x162),_0x221861[_0x385097(0x1a0)]=function(_0x596115,_0x1a5043){return _0x596115!==_0x1a5043;},_0x221861['SNKnD']=function(_0x222c72,_0x534470){return _0x222c72===_0x534470;},_0x221861[_0x385097(0x1ab)]=_0x385097(0x1f4),_0x221861[_0x385097(0x208)]=_0x385097(0x18f),_0x221861[_0x385097(0x221)]=_0x385097(0x2cc),_0x221861[_0x385097(0x283)]=_0x385097(0x244),_0x221861[_0x385097(0x2b3)]=_0x385097(0x210),_0x221861[_0x385097(0x197)]=_0x385097(0x266),_0x221861[_0x385097(0x17d)]=_0x385097(0x25a),_0x221861[_0x385097(0x12f)]=_0x385097(0x235);const _0x2629c8=_0x221861;let _0x4621db=await fs[_0x385097(0x176)](path[_0x385097(0x2a9)](__dirname,'..',_0x2629c8[_0x385097(0x22d)],_0x2629c8['tSeZr'],_0x2629c8[_0x385097(0x206)]),_0x2629c8['QOCsO']);_0x4621db=JSON[_0x385097(0x135)](_0x4621db);const _0x1f6abb={};_0x1f6abb[_0x385097(0x290)]=this[_0x385097(0x1ef)];const _0x1425a7={};_0x1425a7[_0x385097(0x290)]=global_registry[_0x385097(0x21e)];const _0x54b635={};_0x54b635['value']=global_registry[_0x385097(0x26e)];const _0x5d978c={};_0x5d978c[_0x385097(0x290)]=global_registry[_0x385097(0x217)];const _0x5091ff={};_0x5091ff[_0x385097(0x290)]=global_registry[_0x385097(0x177)]?_0x2629c8[_0x385097(0x178)]:_0x2629c8[_0x385097(0x29f)];const _0x341e99={};_0x341e99[_0x385097(0x1ef)]=_0x1f6abb,_0x341e99[_0x385097(0x186)]=_0x1425a7,_0x341e99['userInstanceType']=_0x54b635,_0x341e99[_0x385097(0x219)]=_0x5d978c,_0x341e99['clusterAutoUpgrade']=_0x5091ff;let _0xbbee7e=_0x341e99;if(_0x2629c8[_0x385097(0x1a0)](_0x3ab2c9,null)&&_0x2629c8[_0x385097(0x1a0)](_0xc40ab2,null)){if(_0x2629c8[_0x385097(0x238)](_0x2629c8[_0x385097(0x1ab)],_0x2629c8[_0x385097(0x208)])){_0x4d4d62[_0x385097(0x118)](_0x2629c8['cMXps']);const _0x3530b2={};_0x3530b2[_0x385097(0x23a)]=_0x49f09f[_0x385097(0x1fd)],_0x3530b2[_0x385097(0x1cb)]=_0x2629c8[_0x385097(0x1ca)],this[_0x385097(0x237)][_0x385097(0x129)](this[_0x385097(0x25f)],_0x3530b2),_0x478d05[_0x385097(0x105)]=![];}else{const _0x4fb4f8={};_0x4fb4f8[_0x385097(0x23a)]=_0x2629c8[_0x385097(0x221)],_0x4fb4f8[_0x385097(0x2bd)]={},_0x4fb4f8[_0x385097(0x2bd)][_0x385097(0x276)]=_0x2629c8['WaPqI'];const _0x5b800b={};_0x5b800b[_0x385097(0x23a)]=_0x2629c8[_0x385097(0x221)],_0x5b800b[_0x385097(0x2bd)]={},_0x5b800b[_0x385097(0x2bd)][_0x385097(0x276)]=_0x2629c8[_0x385097(0x283)],_0x4621db['parameters']={..._0x4621db[_0x385097(0x20e)],'vpcName':_0x4fb4f8,'subnetName':_0x5b800b};const _0x408455={};_0x408455[_0x385097(0x255)]=_0x2629c8['IrYQp'],_0x4621db[_0x385097(0x2a0)]=_0x408455,_0x4621db['resources'][0x0]['properties'][_0x385097(0x160)][0x0]={..._0x4621db['resources'][0x0][_0x385097(0xef)]['agentPoolProfiles'][0x0],'vnetSubnetID':_0x2629c8['cxtQJ']};const _0x54c721={};_0x54c721[_0x385097(0x290)]=_0x3ab2c9;const _0x4f8652={};_0x4f8652['value']=_0xc40ab2[0x0],_0xbbee7e={..._0xbbee7e,'vpcName':_0x54c721,'subnetName':_0x4f8652};}}await this['resourceClient']['deployments'][_0x385097(0x111)](global_registry[_0x385097(0x281)],_0x2629c8[_0x385097(0x17d)],{'properties':{'template':_0x4621db,'mode':_0x2629c8['HjMhx'],'parameters':_0xbbee7e}});}async[a1_0x2c1867(0x136)](){const _0x13eaa7=a1_0x2c1867,_0x22a834={};_0x22a834[_0x13eaa7(0x1bc)]=function(_0x1c7462,_0x236cea){return _0x1c7462===_0x236cea;},_0x22a834[_0x13eaa7(0x2a3)]='allowed',_0x22a834[_0x13eaa7(0x29d)]=_0x13eaa7(0x2b2),_0x22a834[_0x13eaa7(0x280)]=function(_0x5a3aec,_0x20b9b0){return _0x5a3aec!==_0x20b9b0;},_0x22a834[_0x13eaa7(0x293)]=_0x13eaa7(0xda),_0x22a834[_0x13eaa7(0x140)]=_0x13eaa7(0x15c),_0x22a834[_0x13eaa7(0x116)]=function(_0x5a268b,_0x417575){return _0x5a268b!==_0x417575;},_0x22a834[_0x13eaa7(0x258)]=_0x13eaa7(0x2d2),_0x22a834[_0x13eaa7(0x27f)]=_0x13eaa7(0x165),_0x22a834[_0x13eaa7(0x16b)]='Storage\x20account\x20already\x20exists,\x20skipping',_0x22a834[_0x13eaa7(0x158)]=_0x13eaa7(0x20c),_0x22a834[_0x13eaa7(0x106)]=_0x13eaa7(0x1dc),_0x22a834['sWbJt']='xktFO',_0x22a834[_0x13eaa7(0x1a9)]=_0x13eaa7(0x2c0),_0x22a834[_0x13eaa7(0x1e6)]=_0x13eaa7(0x134),_0x22a834['Skdlt']=_0x13eaa7(0x19b);const _0x364391=_0x22a834,_0x40fba1=await this[_0x13eaa7(0x298)]();if(!_0x40fba1){if(_0x364391[_0x13eaa7(0x280)](_0x364391[_0x13eaa7(0x293)],_0x364391['CSPPT'])){if(_0x364391['MyOwU'](_0x4a813a[_0x13eaa7(0x2a1)],_0x30fc48))return!![];}else{const _0x128ac9={};_0x128ac9['type']=WS_EVENTS['LOG'],_0x128ac9[_0x13eaa7(0x1cb)]=_0x364391[_0x13eaa7(0x140)],this[_0x13eaa7(0x237)][_0x13eaa7(0x129)](this[_0x13eaa7(0x25f)],_0x128ac9),logger[_0x13eaa7(0x118)](_0x364391['svnIQ']),await this[_0x13eaa7(0x130)]();}}else{if(_0x364391[_0x13eaa7(0x116)](_0x364391[_0x13eaa7(0x258)],_0x364391['uhMjv']))logger['info'](_0x364391['opPaI']);else{const _0x10b7e0=_0x390fd4[_0x13eaa7(0xfd)](_0x5d75b0);_0x3554e2+='\x0a\x09'+_0x35e39d+':\x20'+(_0x10b7e0?_0x364391['AgQRb']:_0x364391[_0x13eaa7(0x29d)]),!_0x10b7e0&&(_0x54ddc4['status']=![]);}}const _0x231c9c=await this['isManagedIdentityPresent']();if(!_0x231c9c){if(_0x364391['MyOwU'](_0x364391['prIpP'],_0x364391['prIpP'])){const _0x35cf75={};_0x35cf75[_0x13eaa7(0x23a)]=WS_EVENTS[_0x13eaa7(0xe9)],_0x35cf75[_0x13eaa7(0x1cb)]=_0x364391[_0x13eaa7(0x106)],this[_0x13eaa7(0x237)][_0x13eaa7(0x129)](this[_0x13eaa7(0x25f)],_0x35cf75),logger['info'](_0x364391['VzdXq']),await this[_0x13eaa7(0x14d)]();}else{if(_0x364391[_0x13eaa7(0x1bc)](_0x164918[_0x13eaa7(0x2a1)],_0x13eaa7(0x1ff)+this[_0x13eaa7(0x1ef)]))return!![];}}else{if(_0x364391[_0x13eaa7(0x1bc)](_0x364391[_0x13eaa7(0x121)],_0x364391[_0x13eaa7(0x121)]))logger[_0x13eaa7(0x118)](_0x364391[_0x13eaa7(0x1a9)]);else{if(_0x364391[_0x13eaa7(0x1bc)](_0x16ef83[_0x13eaa7(0x2a1)],_0x1fd2ab))return!![];}}logger[_0x13eaa7(0x118)](_0x364391[_0x13eaa7(0x1e6)]),await this[_0x13eaa7(0x15d)](),logger[_0x13eaa7(0x118)](_0x364391[_0x13eaa7(0x144)]);}async[a1_0x2c1867(0x130)](){const _0x443045=a1_0x2c1867,_0x295b5a={};_0x295b5a[_0x443045(0x2c9)]=_0x443045(0x299),_0x295b5a[_0x443045(0x19d)]=_0x443045(0x1cd),_0x295b5a[_0x443045(0x1be)]=_0x443045(0x13a),_0x295b5a[_0x443045(0x25e)]=_0x443045(0x2b4),_0x295b5a['scPZG']=_0x443045(0x16f),_0x295b5a['eKTLM']=_0x443045(0x235),_0x295b5a['Arxop']='Blob\x20delete\x20lifecycle',_0x295b5a['QQpJr']='Lifecycle',_0x295b5a[_0x443045(0x141)]=_0x443045(0x192),_0x295b5a[_0x443045(0x2d1)]='default';const _0x37dff8=_0x295b5a;let _0x27a634=await fs[_0x443045(0x176)](path['join'](__dirname,'..',_0x37dff8[_0x443045(0x2c9)],_0x37dff8[_0x443045(0x19d)],_0x37dff8['WhKJI']),_0x37dff8[_0x443045(0x25e)]);_0x27a634=JSON[_0x443045(0x135)](_0x27a634);const _0x4da123=this[_0x443045(0x17c)](),_0xecdff3={};_0xecdff3[_0x443045(0x290)]=_0x4da123;const _0x34550d={};_0x34550d['storageAccountName']=_0xecdff3,await this[_0x443045(0x23b)][_0x443045(0x26d)]['beginCreateOrUpdateAndWait'](global_registry[_0x443045(0x281)],_0x37dff8[_0x443045(0x264)],{'properties':{'template':_0x27a634,'mode':_0x37dff8[_0x443045(0x18b)],'parameters':_0x34550d}});const _0x4fcf35={};_0x4fcf35[_0x443045(0x28e)]=0x3c;const _0x333cd0={};_0x333cd0[_0x443045(0x25d)]=_0x4fcf35;const _0x544bf7={};_0x544bf7['baseBlob']=_0x333cd0;const _0x486469={};_0x486469[_0x443045(0xf1)]=!![],_0x486469[_0x443045(0x2a1)]=_0x37dff8[_0x443045(0x1f0)],_0x486469[_0x443045(0x23a)]=_0x37dff8[_0x443045(0x2a4)],_0x486469[_0x443045(0x29e)]={},_0x486469[_0x443045(0x29e)]['actions']=_0x544bf7,_0x486469[_0x443045(0x29e)][_0x443045(0x1d4)]={},_0x486469[_0x443045(0x29e)][_0x443045(0x1d4)][_0x443045(0x282)]=[_0x37dff8['cZrlL']];const _0x12bc6b={};_0x12bc6b[_0x443045(0x164)]=[_0x486469];const _0x445ebb={};_0x445ebb[_0x443045(0x27b)]=_0x12bc6b;const _0x3a2e88=_0x445ebb;await this[_0x443045(0x109)][_0x443045(0x1c2)][_0x443045(0x223)](global_registry[_0x443045(0x281)],_0x4da123,_0x37dff8['ELshw'],_0x3a2e88);}async[a1_0x2c1867(0x14d)](){const _0x57f6a0=a1_0x2c1867,_0x3116d2={};_0x3116d2[_0x57f6a0(0x240)]=_0x57f6a0(0x299),_0x3116d2[_0x57f6a0(0x148)]=_0x57f6a0(0x1cd),_0x3116d2[_0x57f6a0(0x117)]=_0x57f6a0(0xdc),_0x3116d2[_0x57f6a0(0x243)]=_0x57f6a0(0x2b4),_0x3116d2[_0x57f6a0(0x172)]=_0x57f6a0(0x224),_0x3116d2[_0x57f6a0(0x236)]='Incremental';const _0x25448c=_0x3116d2;let _0x41b636=await fs['readFileAsync'](path['join'](__dirname,'..',_0x25448c['ezwpC'],_0x25448c[_0x57f6a0(0x148)],_0x25448c[_0x57f6a0(0x117)]),_0x25448c[_0x57f6a0(0x243)]);_0x41b636=JSON['parse'](_0x41b636),await this[_0x57f6a0(0x23b)][_0x57f6a0(0x26d)]['beginCreateOrUpdateAndWait'](global_registry[_0x57f6a0(0x281)],_0x25448c[_0x57f6a0(0x172)],{'properties':{'template':_0x41b636,'mode':_0x25448c[_0x57f6a0(0x236)],'parameters':{'clusterName':{'value':this['clusterName']}}}});}async[a1_0x2c1867(0x15d)](){const _0x23c3d4=a1_0x2c1867,_0x3d9f5e={};_0x3d9f5e[_0x23c3d4(0x151)]=function(_0x386d28,_0x58c481){return _0x386d28===_0x58c481;},_0x3d9f5e['RmXmD']=_0x23c3d4(0x242),_0x3d9f5e[_0x23c3d4(0xd9)]='hIVYb',_0x3d9f5e[_0x23c3d4(0x2be)]='hub',_0x3d9f5e[_0x23c3d4(0x1a4)]='node',_0x3d9f5e[_0x23c3d4(0xe2)]=function(_0x536840,_0xc850a3){return _0x536840!==_0xc850a3;},_0x3d9f5e['gsIyb']=_0x23c3d4(0x10f),_0x3d9f5e[_0x23c3d4(0x1c5)]=_0x23c3d4(0x299),_0x3d9f5e[_0x23c3d4(0x138)]=_0x23c3d4(0x1cd),_0x3d9f5e[_0x23c3d4(0x12a)]=_0x23c3d4(0x2b4),_0x3d9f5e[_0x23c3d4(0x2aa)]=_0x23c3d4(0x17e),_0x3d9f5e['QXwOF']=_0x23c3d4(0x235);const _0x49a1c0=_0x3d9f5e;if(!this[_0x23c3d4(0x13f)]){if(_0x49a1c0[_0x23c3d4(0x151)](_0x49a1c0[_0x23c3d4(0x254)],_0x49a1c0[_0x23c3d4(0xd9)]))return!![];else await this[_0x23c3d4(0xf3)]();}const _0x15ddc2=this[_0x23c3d4(0x13f)]?.[_0x23c3d4(0x24d)]?.[_0x23c3d4(0x296)],_0x54dcd3=[_0x49a1c0[_0x23c3d4(0x2be)],_0x49a1c0[_0x23c3d4(0x1a4)]];for await(const _0x4d9f4a of _0x54dcd3){if(_0x49a1c0[_0x23c3d4(0xe2)](_0x49a1c0[_0x23c3d4(0x1bb)],_0x49a1c0['gsIyb']))_0x41ab9e[_0x23c3d4(0xfb)](_0x119709);else{let _0x1bbbb2=await fs[_0x23c3d4(0x176)](path[_0x23c3d4(0x2a9)](__dirname,'..',_0x49a1c0['IhkZy'],_0x49a1c0[_0x23c3d4(0x138)],'federatedidentity'+_0x4d9f4a+_0x23c3d4(0x232)),_0x49a1c0[_0x23c3d4(0x12a)]);_0x1bbbb2=JSON['parse'](_0x1bbbb2);const _0x5559f6={};_0x5559f6[_0x23c3d4(0x290)]=_0x15ddc2,await this['resourceClient'][_0x23c3d4(0x26d)][_0x23c3d4(0x111)](global_registry['cloudProviderResourceGroup'],_0x49a1c0[_0x23c3d4(0x2aa)],{'properties':{'template':_0x1bbbb2,'mode':_0x49a1c0[_0x23c3d4(0x169)],'parameters':{'oidcIssuer':_0x5559f6,'gridName':{'value':this[_0x23c3d4(0x107)]},'clusterName':{'value':this[_0x23c3d4(0x1ef)]}}}});}}}async[a1_0x2c1867(0x2c2)](_0x5db48f,_0x34b5c3,_0x442934,_0x2a61cb,_0x327420){const _0x1484f1=a1_0x2c1867,_0x24cedf={};_0x24cedf[_0x1484f1(0x171)]=_0x1484f1(0x161),_0x24cedf[_0x1484f1(0xe7)]=_0x1484f1(0x13d);const _0x1575f2=_0x24cedf,_0x24dccf={};_0x24dccf[_0x1484f1(0x23a)]=WS_EVENTS[_0x1484f1(0xe9)],_0x24dccf['message']=_0x1575f2['GPNTr'],this['webSocketUtils']['sendEventToBackend'](this['rws'],_0x24dccf),logger[_0x1484f1(0x118)](_0x1575f2[_0x1484f1(0x171)]),await this[_0x1484f1(0x10b)]();const _0x43a956={};_0x43a956[_0x1484f1(0x23a)]=WS_EVENTS[_0x1484f1(0xe9)],_0x43a956[_0x1484f1(0x1cb)]=_0x1575f2[_0x1484f1(0xe7)],this['webSocketUtils']['sendEventToBackend'](this[_0x1484f1(0x25f)],_0x43a956);}async['createFederatedAccountForHubHA'](){const _0x2b811b=a1_0x2c1867,_0x229384={};_0x229384[_0x2b811b(0x228)]=function(_0x37d27b,_0x3bc347){return _0x37d27b===_0x3bc347;},_0x229384[_0x2b811b(0x1ae)]='FTBbD',_0x229384[_0x2b811b(0xf2)]=_0x2b811b(0x299),_0x229384[_0x2b811b(0x233)]=_0x2b811b(0x269),_0x229384[_0x2b811b(0x22a)]=_0x2b811b(0x28b),_0x229384[_0x2b811b(0x157)]=_0x2b811b(0x2b4),_0x229384[_0x2b811b(0x1d1)]=_0x2b811b(0x17e),_0x229384[_0x2b811b(0x2c4)]=_0x2b811b(0x235);const _0x25677a=_0x229384;if(!this[_0x2b811b(0x13f)]){if(_0x25677a[_0x2b811b(0x228)](_0x25677a[_0x2b811b(0x1ae)],_0x25677a[_0x2b811b(0x1ae)]))await this[_0x2b811b(0xf3)]();else return _0x7de66b[_0x2b811b(0x1fe)][_0x2b811b(0x214)]['ingress'][0x0][_0x2b811b(0x17b)];}const _0xd512ec=this[_0x2b811b(0x13f)]?.[_0x2b811b(0x24d)]?.[_0x2b811b(0x296)];let _0x37ee0a=await fs[_0x2b811b(0x176)](path[_0x2b811b(0x2a9)](__dirname,'..',_0x25677a['pEAZV'],_0x25677a[_0x2b811b(0x233)],_0x25677a[_0x2b811b(0x22a)]),_0x25677a['WMbyV']);_0x37ee0a=JSON[_0x2b811b(0x135)](_0x37ee0a);const _0x5785a4={};_0x5785a4[_0x2b811b(0x290)]=_0xd512ec,await this['resourceClient'][_0x2b811b(0x26d)][_0x2b811b(0x111)](global_registry[_0x2b811b(0x281)],_0x25677a[_0x2b811b(0x1d1)],{'properties':{'template':_0x37ee0a,'mode':_0x25677a[_0x2b811b(0x2c4)],'parameters':{'oidcIssuer':_0x5785a4,'namespace':{'value':global_registry['hubHaNameSpace']},'clusterName':{'value':this['clusterName']}}}});}async[a1_0x2c1867(0x298)](){const _0x4371d8=a1_0x2c1867,_0x5992e3={};_0x5992e3['SIOgr']=function(_0x102490,_0x7bb2ff){return _0x102490!==_0x7bb2ff;},_0x5992e3[_0x4371d8(0x273)]=_0x4371d8(0x271),_0x5992e3[_0x4371d8(0x15b)]=_0x4371d8(0x170),_0x5992e3[_0x4371d8(0x155)]='moFqI',_0x5992e3[_0x4371d8(0x247)]=_0x4371d8(0x16c),_0x5992e3[_0x4371d8(0x182)]=function(_0x39f4a2,_0x33924a){return _0x39f4a2===_0x33924a;},_0x5992e3[_0x4371d8(0xf5)]='YbDzt';const _0x9676df=_0x5992e3,_0x39623f=this[_0x4371d8(0x17c)](),_0x36a8ec=new Array();for await(const _0x48fd12 of this[_0x4371d8(0x109)][_0x4371d8(0x1ad)]['listByResourceGroup'](global_registry['cloudProviderResourceGroup'])){if(_0x9676df['SIOgr'](_0x9676df[_0x4371d8(0x273)],_0x9676df[_0x4371d8(0x15b)]))_0x36a8ec[_0x4371d8(0xfb)](_0x48fd12);else return!![];}for await(const _0x32c7f1 of _0x36a8ec){if(_0x9676df[_0x4371d8(0xd7)](_0x9676df[_0x4371d8(0x155)],_0x9676df[_0x4371d8(0x247)])){if(_0x9676df[_0x4371d8(0x182)](_0x32c7f1[_0x4371d8(0x2a1)],_0x39623f)){if(_0x9676df[_0x4371d8(0x182)](_0x9676df['tefjf'],_0x9676df[_0x4371d8(0xf5)]))return!![];else _0x3816b8['push'](_0xc6455a);}}else _0xdc234e['push'](_0x2a4068[_0x4371d8(0x2a1)]);}return![];}async[a1_0x2c1867(0x1a8)](){const _0x5b9e1d=a1_0x2c1867,_0x465b72={};_0x465b72[_0x5b9e1d(0x1d7)]=function(_0x4a1237,_0x5ef6d6){return _0x4a1237===_0x5ef6d6;},_0x465b72[_0x5b9e1d(0x207)]=_0x5b9e1d(0xdb),_0x465b72[_0x5b9e1d(0x13c)]=_0x5b9e1d(0x13e),_0x465b72[_0x5b9e1d(0x285)]='sAndv',_0x465b72['xDbee']=function(_0x4da1f8,_0x272d49){return _0x4da1f8===_0x272d49;},_0x465b72[_0x5b9e1d(0x1f9)]=function(_0x2eeae7,_0x45dfc7){return _0x2eeae7!==_0x45dfc7;},_0x465b72[_0x5b9e1d(0x159)]='DdpLY';const _0x90a022=_0x465b72,_0x468b73=new Array();for await(const _0x4f8c26 of this['resourceClient']['resources']['listByResourceGroup'](global_registry[_0x5b9e1d(0x281)])){_0x90a022[_0x5b9e1d(0x1d7)](_0x90a022[_0x5b9e1d(0x207)],_0x90a022[_0x5b9e1d(0x13c)])?_0x90a022[_0x5b9e1d(0x1d7)](_0x43bee4[_0x5b9e1d(0x2a1)],_0x129926)&&(_0x35e585=_0x252f6e['id']):_0x468b73[_0x5b9e1d(0xfb)](_0x4f8c26);}for await(const _0x3558c2 of _0x468b73){if(_0x90a022[_0x5b9e1d(0x1d7)](_0x90a022[_0x5b9e1d(0x285)],_0x90a022[_0x5b9e1d(0x285)])){if(_0x90a022[_0x5b9e1d(0x1fc)](_0x3558c2['name'],_0x5b9e1d(0x1ff)+this[_0x5b9e1d(0x1ef)])){if(_0x90a022[_0x5b9e1d(0x1f9)](_0x90a022[_0x5b9e1d(0x159)],_0x90a022['Vpbqh']))return;else return!![];}}else _0x2bd090[_0x5b9e1d(0x1d5)]=_0x2ba875;}return![];}async[a1_0x2c1867(0x14b)](_0x145ac5,_0x30aa13=0x3){const _0x14a4ff=a1_0x2c1867,_0x3fda40={'LACBG':_0x14a4ff(0xf7),'dKkPZ':'Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','uPgqU':function(_0x1cd114,_0x4d2b84){return _0x1cd114!==_0x4d2b84;},'ThJFV':_0x14a4ff(0x2ca),'IGOBM':function(_0x79d1aa,_0x515f57,_0x5cbd6d){return _0x79d1aa(_0x515f57,_0x5cbd6d);},'YKKFF':'No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','NOkpC':function(_0xe64fcd,_0x3a1484){return _0xe64fcd===_0x3a1484;},'muGHX':'fQTiq','bvaKy':function(_0x16f5cc,_0x36c3da){return _0x16f5cc===_0x36c3da;},'BEfPI':_0x14a4ff(0x133),'DXKNc':_0x14a4ff(0x27e),'pZJON':function(_0x51377b,_0x4f9ddc){return _0x51377b!==_0x4f9ddc;},'TsQcJ':'HCQkg','ywHlk':_0x14a4ff(0x179),'sHFIW':'emjGC','tnXul':_0x14a4ff(0x1d0),'XZoNh':_0x14a4ff(0x2ce),'JFaHX':function(_0xbb1d2e,_0x216623){return _0xbb1d2e!==_0x216623;},'HyLtw':_0x14a4ff(0x23d),'bLMUO':_0x14a4ff(0x21a),'kIHnB':function(_0x127e52,_0x24accc){return _0x127e52<=_0x24accc;},'hWQrs':_0x14a4ff(0x137),'kWGDo':function(_0x3b2a0a,_0x4332bf){return _0x3b2a0a-_0x4332bf;}};try{if(_0x3fda40[_0x14a4ff(0x180)](_0x3fda40[_0x14a4ff(0x1e5)],_0x3fda40[_0x14a4ff(0x1e5)])){const _0x2d21bd=new Array();for await(const _0x3b24ba of this[_0x14a4ff(0x23b)]['resources'][_0x14a4ff(0x2c7)](global_registry[_0x14a4ff(0x281)])){if(_0x3fda40[_0x14a4ff(0x295)](_0x3fda40[_0x14a4ff(0x119)],_0x3fda40[_0x14a4ff(0x1d3)]))return!![];else _0x2d21bd[_0x14a4ff(0xfb)](_0x3b24ba);}let _0x5413a8='';for await(const _0x45dd1b of _0x2d21bd){if(_0x3fda40[_0x14a4ff(0x288)](_0x3fda40['TsQcJ'],_0x3fda40[_0x14a4ff(0x277)]))_0x3fda40[_0x14a4ff(0x295)](_0x45dd1b[_0x14a4ff(0x2a1)],_0x145ac5)&&(_0x3fda40[_0x14a4ff(0x2a2)](_0x3fda40[_0x14a4ff(0x2af)],_0x3fda40['tnXul'])?_0x5413a8=_0x45dd1b['id']:_0x198b2[_0x14a4ff(0xfb)](..._0x58544b[_0x14a4ff(0x27c)]));else{const _0x4a2533={};_0x4a2533[_0x14a4ff(0x1fe)]=!![],_0x4a2533['error']=null,_0x4a2533[_0x14a4ff(0x1e4)]=_0x3fda40[_0x14a4ff(0x183)];const _0x36a4dc=_0x4a2533;return _0x36a4dc;}}const _0x4ae8f3=await this[_0x14a4ff(0x23b)][_0x14a4ff(0x23f)][_0x14a4ff(0x1e9)](_0x5413a8,_0x3fda40[_0x14a4ff(0x222)]);return _0x4ae8f3[_0x14a4ff(0xef)][_0x14a4ff(0x21c)];}else _0x33f3e2['push'](_0x5e88ab);}catch(_0x56e29d){if(_0x3fda40[_0x14a4ff(0x1e7)](_0x3fda40['HyLtw'],_0x3fda40['bLMUO'])){if(_0x3fda40[_0x14a4ff(0x22c)](_0x30aa13,0x0))return _0x3fda40[_0x14a4ff(0x1e7)](_0x3fda40[_0x14a4ff(0x19c)],_0x3fda40[_0x14a4ff(0x19c)])?(_0x556a23[_0x14a4ff(0x1d5)](_0x14a4ff(0x15f)+_0x3ee8a7+'.\x20Error:\x20'+_0x49e97f),[![],[]]):(logger[_0x14a4ff(0x1d5)](_0x14a4ff(0x152)+_0x56e29d+':'+_0x56e29d[_0x14a4ff(0x284)]),{});return await new Promise(_0x48192d=>{const _0x432192=_0x14a4ff;_0x3fda40[_0x432192(0x2a2)](_0x3fda40[_0x432192(0xe8)],_0x3fda40[_0x432192(0xe8)])?(_0x27e58d['error'](_0x3fda40[_0x432192(0x2b5)]),_0x4a221b[_0x432192(0xea)](0x1)):_0x3fda40[_0x432192(0x22b)](setTimeout,()=>_0x48192d(),0x3e8);}),this[_0x14a4ff(0x14b)](_0x145ac5,_0x3fda40[_0x14a4ff(0x1c6)](_0x30aa13,0x1));}else return _0x573fc9[_0x14a4ff(0x1e4)]=_0x3fda40[_0x14a4ff(0x1b9)],_0x56bf76;}}async[a1_0x2c1867(0x167)](){const _0xfd5d0a=a1_0x2c1867,_0x189399={};_0x189399[_0xfd5d0a(0x1d2)]=function(_0x3fc85f,_0x3b3e79){return _0x3fc85f+_0x3b3e79;},_0x189399[_0xfd5d0a(0x198)]=_0xfd5d0a(0x10d),_0x189399[_0xfd5d0a(0x1cf)]=function(_0x32173c,_0x311d83){return _0x32173c-_0x311d83;},_0x189399[_0xfd5d0a(0x270)]=_0xfd5d0a(0x187),_0x189399[_0xfd5d0a(0x1ce)]=function(_0x3f03fc,_0x2048e1){return _0x3f03fc===_0x2048e1;},_0x189399[_0xfd5d0a(0x211)]=_0xfd5d0a(0x29b),_0x189399[_0xfd5d0a(0xec)]=_0xfd5d0a(0x143),_0x189399[_0xfd5d0a(0x253)]='BrowserStack',_0x189399[_0xfd5d0a(0x1dd)]=function(_0x459594,_0x1c9e56){return _0x459594===_0x1c9e56;},_0x189399[_0xfd5d0a(0xf9)]=_0xfd5d0a(0xe6);const _0x1a3278=_0x189399;if(!this[_0xfd5d0a(0x13f)]){if(_0x1a3278[_0xfd5d0a(0x1ce)](_0x1a3278[_0xfd5d0a(0x211)],_0x1a3278['Rotwq']))await this[_0xfd5d0a(0xf3)]();else{const _0x4ee381=_0x152faf[_0xfd5d0a(0x265)]['split']('-'),_0x515a29=_0x1a3278[_0xfd5d0a(0x1d2)](_0x1a3278[_0xfd5d0a(0x198)],_0x4ee381[_0x1a3278[_0xfd5d0a(0x1cf)](_0x4ee381[_0xfd5d0a(0x1e2)],0x1)])[_0xfd5d0a(0x194)](0x0,0x18);return _0x515a29[_0xfd5d0a(0x14e)]();}}const _0x362607=this[_0xfd5d0a(0x13f)]?.[_0xfd5d0a(0xfe)]||{};if(_0x362607&&_0x1a3278[_0xfd5d0a(0x1ce)](_0x362607[_0x1a3278['GFUIX']],_0x1a3278['mbkuY'])){if(_0x1a3278[_0xfd5d0a(0x1dd)](_0x1a3278[_0xfd5d0a(0xf9)],_0x1a3278[_0xfd5d0a(0xf9)]))return!![];else _0x63e63b[_0xfd5d0a(0x118)](_0x1a3278[_0xfd5d0a(0x270)]);}return![];}async['deleteCluster'](_0x45a68f,_0xc47ea6){const _0x3e6c2b=a1_0x2c1867,_0x1b0d36={'rSIKS':function(_0xb3cae4,_0x355ec2){return _0xb3cae4(_0x355ec2);},'ysVUF':function(_0x1ccb2c,_0x459908){return _0x1ccb2c(_0x459908);},'CwVxw':_0x3e6c2b(0x24f)};await _0x1b0d36[_0x3e6c2b(0x108)](deleteAgent,_0x45a68f),await _0x1b0d36[_0x3e6c2b(0x166)](deleteRoutingDeps,_0x45a68f);const _0x6f240c=this[_0x3e6c2b(0x199)];logger[_0x3e6c2b(0x118)](_0x3e6c2b(0x145)+this[_0x3e6c2b(0x1ef)]),await _0x6f240c[_0x3e6c2b(0x262)][_0x3e6c2b(0x24c)](global_registry[_0x3e6c2b(0x281)],this[_0x3e6c2b(0x1ef)]),logger[_0x3e6c2b(0x118)](_0x1b0d36[_0x3e6c2b(0x267)]);}async[a1_0x2c1867(0x2bb)](){const _0x1f0032=a1_0x2c1867,_0x2e2e2e={};_0x2e2e2e[_0x1f0032(0x147)]=function(_0x350283,_0x57d5c0){return _0x350283===_0x57d5c0;},_0x2e2e2e[_0x1f0032(0x21f)]=_0x1f0032(0x2b1),_0x2e2e2e[_0x1f0032(0xe3)]=function(_0x48538b,_0x40dd51){return _0x48538b===_0x40dd51;},_0x2e2e2e[_0x1f0032(0x15a)]=_0x1f0032(0x292),_0x2e2e2e['OxRWl']=function(_0x3d0bc0,_0x3e8f18){return _0x3d0bc0&&_0x3e8f18;},_0x2e2e2e['jNPXd']=function(_0xa247ef,_0x5bae52){return _0xa247ef===_0x5bae52;},_0x2e2e2e[_0x1f0032(0x23c)]=_0x1f0032(0x250),_0x2e2e2e[_0x1f0032(0x184)]=function(_0x5c8ab2,_0x4dc770){return _0x5c8ab2===_0x4dc770;},_0x2e2e2e[_0x1f0032(0x227)]=_0x1f0032(0x150),_0x2e2e2e[_0x1f0032(0x1cc)]=_0x1f0032(0x1c3),_0x2e2e2e[_0x1f0032(0x2d3)]=_0x1f0032(0x20b),_0x2e2e2e[_0x1f0032(0x12d)]=function(_0x20ceae,_0x1995ae){return _0x20ceae!==_0x1995ae;},_0x2e2e2e['HnSnu']=_0x1f0032(0x256),_0x2e2e2e['wLmLG']=_0x1f0032(0x2ab),_0x2e2e2e[_0x1f0032(0x24a)]=function(_0x4032de,_0x2e400b){return _0x4032de===_0x2e400b;},_0x2e2e2e[_0x1f0032(0x25b)]=_0x1f0032(0x19f),_0x2e2e2e[_0x1f0032(0x16e)]='Enabling\x20Local\x20account\x20for\x20the\x20cluster';const _0x1157b4=_0x2e2e2e;!this['clusterInfo']&&(_0x1157b4['SOnQi'](_0x1157b4[_0x1f0032(0x15a)],_0x1157b4['YaovK'])?await this[_0x1f0032(0xf3)]():(_0x1a0861+=_0x1157b4[_0x1f0032(0x147)](_0x3733bf[_0x1f0032(0x1e2)],0x0)?_0x1157b4[_0x1f0032(0x21f)]:'',_0x292502[_0x1f0032(0x1b5)]('Role\x20definition\x20response\x20list\x20\x20:\x20\x20'+_0x23bc35[_0x1f0032(0x24b)](_0xff3d9))));const _0x2ff42b=this['clusterInfo'],_0x15845c=this[_0x1f0032(0x13f)]?.[_0x1f0032(0x24d)]?.[_0x1f0032(0xf1)]||![],_0x1617bd=this[_0x1f0032(0x13f)]?.[_0x1f0032(0x1db)]?.['workloadIdentity']?.[_0x1f0032(0xf1)]||![],_0x2b1714=!this[_0x1f0032(0x13f)]?.['disableLocalAccounts']||![];if(_0x1157b4[_0x1f0032(0x1b2)](_0x15845c,_0x1617bd)&&_0x2b1714){if(_0x1157b4['jNPXd'](_0x1157b4[_0x1f0032(0x23c)],_0x1157b4['pQBsG']))return;else _0x3b5f6f[_0x1f0032(0x1d5)]=_0x41c11a;}if(!_0x15845c){if(_0x1157b4[_0x1f0032(0x184)](_0x1157b4[_0x1f0032(0x227)],_0x1157b4['vsEyg']))_0x2d41f7[_0x1f0032(0x205)][_0x1f0032(0xfb)](_0x2a4fe6);else{logger[_0x1f0032(0x118)](_0x1157b4[_0x1f0032(0x2d3)]);const _0x1a54c3={};_0x1a54c3['type']=WS_EVENTS[_0x1f0032(0x1fd)],_0x1a54c3['message']=_0x1157b4[_0x1f0032(0x2d3)],this[_0x1f0032(0x237)][_0x1f0032(0x129)](this['rws'],_0x1a54c3),_0x2ff42b[_0x1f0032(0x24d)][_0x1f0032(0xf1)]=!![];}}if(!_0x1617bd){if(_0x1157b4['UQYYz'](_0x1157b4[_0x1f0032(0x1b8)],_0x1157b4[_0x1f0032(0x1b8)]))_0xf6a06b=_0x389c14['id'];else{logger[_0x1f0032(0x118)](_0x1157b4[_0x1f0032(0x297)]);const _0x3bf5dc={};_0x3bf5dc[_0x1f0032(0x23a)]=WS_EVENTS[_0x1f0032(0x1fd)],_0x3bf5dc[_0x1f0032(0x1cb)]=_0x1157b4[_0x1f0032(0x297)],this[_0x1f0032(0x237)][_0x1f0032(0x129)](this[_0x1f0032(0x25f)],_0x3bf5dc);const _0x224296={};_0x224296[_0x1f0032(0xf1)]=!![],_0x2ff42b[_0x1f0032(0x1db)]={'workloadIdentity':_0x224296,..._0x2ff42b[_0x1f0032(0x1db)]};}}if(!_0x2b1714){if(_0x1157b4[_0x1f0032(0x24a)](_0x1157b4[_0x1f0032(0x25b)],_0x1157b4[_0x1f0032(0x25b)])){logger['info'](_0x1157b4[_0x1f0032(0x16e)]);const _0x47afb7={};_0x47afb7['type']=WS_EVENTS['RESOURCES'],_0x47afb7[_0x1f0032(0x1cb)]=_0x1157b4['WGgnv'],this[_0x1f0032(0x237)][_0x1f0032(0x129)](this['rws'],_0x47afb7),_0x2ff42b[_0x1f0032(0x105)]=![];}else return _0x23b2af[_0x1f0032(0x1d5)]=_0x287dfc[_0x1f0032(0x1d5)],_0x58efd6;}await this[_0x1f0032(0x199)]['managedClusters']['beginCreateOrUpdateAndWait'](global_registry['cloudProviderResourceGroup'],this[_0x1f0032(0x1ef)],_0x2ff42b),await this[_0x1f0032(0xf3)]();}async[a1_0x2c1867(0x1ec)](){const _0x21e24c=a1_0x2c1867,_0xaa6148={};_0xaa6148['hgngt']=function(_0x348f7b,_0x2fd35b){return _0x348f7b!==_0x2fd35b;},_0xaa6148[_0x21e24c(0x1b4)]=_0x21e24c(0x279);const _0x1712b5=_0xaa6148,_0x4306ee=await this['networkClient'][_0x21e24c(0x268)]['listAll'](global_registry[_0x21e24c(0x281)]),_0x1b25b0={};_0x1b25b0['username']=global_registry[_0x21e24c(0x1e0)],_0x1b25b0['accessKey']=global_registry['bstackAccesskey'],_0x1b25b0[_0x21e24c(0x2a8)]=AZURE,_0x1b25b0[_0x21e24c(0x205)]=[];const _0x2ed86b=_0x1b25b0;for await(const _0x1c8a5b of _0x4306ee){_0x1712b5[_0x21e24c(0x22f)](_0x1712b5[_0x21e24c(0x1b4)],_0x1712b5[_0x21e24c(0x1b4)])?_0x1cbc6c[_0x21e24c(0x1fe)]=![]:_0x2ed86b[_0x21e24c(0x205)]['push'](_0x1c8a5b);}const _0x17a3d3={};_0x17a3d3[_0x21e24c(0x23a)]=WS_EVENTS['RESOURCES'],_0x17a3d3[_0x21e24c(0x1cb)]=_0x2ed86b,this[_0x21e24c(0x237)][_0x21e24c(0x129)](this[_0x21e24c(0x25f)],_0x17a3d3);}async[a1_0x2c1867(0xfc)](_0x318367){const _0x469f5f=a1_0x2c1867,_0x4532d0={};_0x4532d0['gDHuv']=_0x469f5f(0x174),_0x4532d0[_0x469f5f(0x1c1)]=_0x469f5f(0x2c0),_0x4532d0[_0x469f5f(0x213)]='No\x20attached\x20role\x20for\x20the\x20client\x20key',_0x4532d0[_0x469f5f(0x128)]=function(_0x5bd808,_0x32dc09){return _0x5bd808!==_0x32dc09;},_0x4532d0[_0x469f5f(0x287)]=_0x469f5f(0x11b),_0x4532d0[_0x469f5f(0x10c)]=_0x469f5f(0x202),_0x4532d0[_0x469f5f(0x1ba)]=_0x469f5f(0x1ac),_0x4532d0[_0x469f5f(0x113)]=_0x469f5f(0x110),_0x4532d0['xfCqC']=function(_0x37f326,_0x2fb3ac){return _0x37f326===_0x2fb3ac;},_0x4532d0['ZqVVb']=function(_0x46f653,_0x4348e0){return _0x46f653!==_0x4348e0;},_0x4532d0['vZRPG']='tURvS',_0x4532d0['CSXRF']=function(_0x4f7cee,_0x4d0122){return _0x4f7cee===_0x4d0122;},_0x4532d0[_0x469f5f(0x1eb)]=_0x469f5f(0x1d6);const _0xbace50=_0x4532d0;try{if(_0xbace50[_0x469f5f(0x128)](_0xbace50[_0x469f5f(0x287)],_0xbace50[_0x469f5f(0x10c)])){const _0x2b9c04=await this[_0x469f5f(0xdd)][_0x469f5f(0x268)][_0x469f5f(0x1f5)](global_registry['cloudProviderResourceGroup']);for await(const _0x17a376 of _0x2b9c04){if(_0xbace50['bjEVd'](_0xbace50['InRvW'],_0xbace50[_0x469f5f(0x113)])){if(_0xbace50[_0x469f5f(0x124)](_0x17a376['name'],_0x318367)){if(_0xbace50['ZqVVb'](_0xbace50[_0x469f5f(0x1e8)],_0xbace50[_0x469f5f(0x1e8)]))_0x1c83d9[_0x469f5f(0x1d5)](_0xbace50[_0x469f5f(0x20a)]),_0x262ce5[_0x469f5f(0xea)](0x1);else return!![];}}else _0x38b9df[_0x469f5f(0x118)](_0xbace50['abNYp']);}}else _0x49e9d0[_0x469f5f(0xfb)](_0x543cab);}catch(_0x2d60ad){return _0xbace50[_0x469f5f(0x1da)](_0xbace50['AjkSp'],_0xbace50[_0x469f5f(0x1eb)])?(logger[_0x469f5f(0x1d5)]('Cannot\x20find\x20VPC\x20'+_0x318367+_0x469f5f(0x289)+_0x2d60ad),![]):(_0x155dfb[_0x469f5f(0x1e4)]=_0xbace50['QRJVU'],_0x52882e);}return![];}async[a1_0x2c1867(0x1b3)](_0x4c1d9b,_0x4f64d4){const _0x732b17=a1_0x2c1867,_0x451be4={};_0x451be4[_0x732b17(0x1c4)]=_0x732b17(0x1c7),_0x451be4[_0x732b17(0x245)]=function(_0x2212bb,_0x214cc1){return _0x2212bb!==_0x214cc1;},_0x451be4['xwzRh']=_0x732b17(0x23e),_0x451be4['pqfHF']=function(_0x5bd397,_0x3d4da1){return _0x5bd397===_0x3d4da1;},_0x451be4[_0x732b17(0x1bd)]=function(_0x5d414c,_0x5176ea){return _0x5d414c!==_0x5176ea;},_0x451be4[_0x732b17(0x1fb)]='kXHUu',_0x451be4[_0x732b17(0x1ed)]=_0x732b17(0x1df);const _0x27b314=_0x451be4;try{if(_0x27b314[_0x732b17(0x245)](_0x27b314['xwzRh'],_0x27b314[_0x732b17(0x190)]))_0x3d2030[_0x732b17(0xfb)](_0x51d77e);else{const _0x30c282=await this[_0x732b17(0xdd)][_0x732b17(0x1f8)]['get'](global_registry[_0x732b17(0x281)],_0x4f64d4,_0x4c1d9b[0x0]);if(_0x27b314[_0x732b17(0x1f3)](_0x4c1d9b[0x0],_0x30c282[_0x732b17(0x2a1)])){if(_0x27b314[_0x732b17(0x1bd)](_0x27b314[_0x732b17(0x1fb)],_0x27b314[_0x732b17(0x1ed)]))return[!![],_0x4c1d9b];else throw new _0xf16cb1(_0x27b314['yFbmV'],_0x732b17(0x114)+_0x328024[_0x732b17(0x24b)](_0x666931));}}}catch(_0x19ff16){return logger[_0x732b17(0x1d5)](_0x732b17(0x15f)+_0x4c1d9b+_0x732b17(0xfa)+_0x19ff16),[![],[]];}return[![],[]];}async[a1_0x2c1867(0x1b1)](){const _0x35420d=a1_0x2c1867,_0x2d5d1d={};_0x2d5d1d[_0x35420d(0x196)]='No\x20CLI\x20tool\x20required';const _0x4788d7=_0x2d5d1d,_0x44fb24={};_0x44fb24[_0x35420d(0x1fe)]=!![],_0x44fb24[_0x35420d(0x1d5)]=null,_0x44fb24[_0x35420d(0x1e4)]=_0x4788d7[_0x35420d(0x196)];const _0x147eb8=_0x44fb24;return _0x147eb8;}async[a1_0x2c1867(0x252)](){const _0x92dfb2=a1_0x2c1867,_0x3ff8c1={};_0x3ff8c1[_0x92dfb2(0x1a5)]=_0x92dfb2(0x12c),_0x3ff8c1[_0x92dfb2(0x14c)]=_0x92dfb2(0xf0),_0x3ff8c1[_0x92dfb2(0x2c3)]=_0x92dfb2(0x1ea);const _0x19d9d2=_0x3ff8c1,_0x5ccfd6=await this[_0x92dfb2(0x246)]['getToken'](_0x19d9d2[_0x92dfb2(0x1a5)]),_0x557986={};_0x557986[_0x92dfb2(0x231)]=_0x19d9d2['JNFgj'],_0x557986[_0x92dfb2(0x220)]={},_0x557986[_0x92dfb2(0x220)][_0x92dfb2(0x28c)]=_0x92dfb2(0x230)+_0x5ccfd6[_0x92dfb2(0x26f)],_0x557986[_0x92dfb2(0x220)][_0x92dfb2(0x21b)]=_0x19d9d2[_0x92dfb2(0x2c3)];const _0x41c722=_0x557986;return _0x41c722;}async[a1_0x2c1867(0x12b)](_0x5cd292){const _0x163f7d=a1_0x2c1867,_0x3dced2={'mtmrd':function(_0x49af7d,_0x494645,_0x2fec3c){return _0x49af7d(_0x494645,_0x2fec3c);},'LHube':function(_0x542d2d,_0x2436ab){return _0x542d2d===_0x2436ab;},'ARJbK':_0x163f7d(0x1c7)},_0x234c0c={};_0x234c0c['principalId']='',_0x234c0c['error']=null;const _0x50a93c=_0x234c0c;try{const _0x25f288='https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27'+_0x5cd292+'\x27',_0x598580=await this[_0x163f7d(0x252)](),_0x101e75=await _0x3dced2[_0x163f7d(0x14f)](fetch,_0x25f288,_0x598580),_0x17dab2=await _0x101e75[_0x163f7d(0x200)]();if(!_0x17dab2[_0x163f7d(0x290)]||_0x3dced2[_0x163f7d(0x11f)](_0x17dab2[_0x163f7d(0x290)][_0x163f7d(0x1e2)],0x0))throw new Error(_0x3dced2[_0x163f7d(0x1f2)],'Received\x20response\x20-\x20'+JSON[_0x163f7d(0x24b)](_0x17dab2));_0x50a93c[_0x163f7d(0x1b0)]=_0x17dab2[_0x163f7d(0x290)][0x0]['id'];}catch(_0x1aa24a){_0x50a93c['error']=_0x1aa24a;}return _0x50a93c;}async[a1_0x2c1867(0x1c0)](){const _0x301080=a1_0x2c1867,_0x187874={};_0x187874[_0x301080(0xe0)]=_0x301080(0x239),_0x187874[_0x301080(0x27d)]='denied',_0x187874['bmjnI']=function(_0x1e6c88,_0x54733c){return _0x1e6c88!==_0x54733c;},_0x187874[_0x301080(0x26a)]=function(_0x13b10b,_0x2a9ae9){return _0x13b10b===_0x2a9ae9;},_0x187874['oWSMh']='No\x20attached\x20role\x20for\x20the\x20client\x20key',_0x187874[_0x301080(0x154)]=function(_0x45f4fd,_0xd7c6b2){return _0x45f4fd===_0xd7c6b2;},_0x187874[_0x301080(0x18a)]=_0x301080(0x139),_0x187874[_0x301080(0x156)]=function(_0x1bb062,_0x175cf0){return _0x1bb062===_0x175cf0;},_0x187874['Lgqag']=function(_0x51e7f8,_0x1c67e8){return _0x51e7f8===_0x1c67e8;},_0x187874[_0x301080(0x181)]='Action\x20permission\x20list\x20is\x20empty\x0a';const _0x2cc20a=_0x187874,_0x23876b={};_0x23876b[_0x301080(0x1fe)]=![],_0x23876b['error']=null,_0x23876b[_0x301080(0x1e4)]='';const _0x29fae5=_0x23876b;try{let _0x58c5ee='';const _0x370aab='subscriptions/'+global_registry[_0x301080(0x2a7)]+_0x301080(0x248)+global_registry[_0x301080(0x281)],_0x30ebdf=await this[_0x301080(0x12b)](global_registry['cloudProviderClientId']);if(_0x2cc20a[_0x301080(0x103)](_0x30ebdf[_0x301080(0x1d5)],null))return _0x29fae5[_0x301080(0x1d5)]=_0x30ebdf[_0x301080(0x1d5)],_0x29fae5;const _0x57a4ff=_0x301080(0x2bf)+_0x30ebdf[_0x301080(0x1b0)]+'\x27)',_0xd60178={};_0xd60178[_0x301080(0x28d)]=_0x57a4ff;const _0x524a67=await this[_0x301080(0xeb)][_0x301080(0x2a5)][_0x301080(0x191)](_0x370aab,_0xd60178),_0x37b902=[];for await(const _0x85083 of _0x524a67){_0x37b902[_0x301080(0xfb)](_0x85083);}if(_0x2cc20a[_0x301080(0x26a)](_0x37b902[_0x301080(0x1e2)],0x0))return _0x29fae5[_0x301080(0x1e4)]=_0x2cc20a[_0x301080(0x11e)],_0x29fae5;const _0x352e71=[...new Set(_0x37b902[_0x301080(0x24e)](_0x225f56=>_0x225f56[_0x301080(0x127)]))];if(_0x2cc20a[_0x301080(0x154)](_0x352e71[_0x301080(0x1e2)],0x0))return _0x29fae5[_0x301080(0x1e4)]=_0x2cc20a['gGeIk'],_0x29fae5;const _0x130f69=[],_0xb48a7e=[];for(const _0x12953a of _0x352e71){const _0xccc046=await this[_0x301080(0xeb)]['roleDefinitions'][_0x301080(0x1e9)](_0x12953a);logger['debug'](_0x301080(0x185)+_0xccc046['roleName']),_0x130f69['push'](_0xccc046),logger[_0x301080(0x1b5)](_0x301080(0x195)+JSON[_0x301080(0x24b)](_0xccc046[_0x301080(0x29c)])),_0xccc046[_0x301080(0x29c)]['forEach'](_0x4eef12=>{const _0x5ec906=_0x301080;_0xb48a7e[_0x5ec906(0xfb)](..._0x4eef12[_0x5ec906(0x27c)]);});}logger['debug'](_0x301080(0xf8)+JSON['stringify'](_0xb48a7e)),_0x2cc20a[_0x301080(0x156)](_0xb48a7e[_0x301080(0x1e2)],0x0)&&(_0x58c5ee+=_0x2cc20a[_0x301080(0x28f)](_0xb48a7e[_0x301080(0x1e2)],0x0)?_0x2cc20a[_0x301080(0x181)]:'',logger[_0x301080(0x1b5)](_0x301080(0x120)+JSON[_0x301080(0x24b)](_0x130f69))),_0x29fae5[_0x301080(0x1fe)]=!![],Object[_0x301080(0x1b6)](PERMISSIONS[_0x301080(0xf6)])[_0x301080(0x274)](([_0x475d01,_0x5a0384])=>{const _0x4109cf=_0x301080,_0x1c2437=_0xb48a7e[_0x4109cf(0xfd)](_0x475d01);_0x58c5ee+='\x0a\x09'+_0x5a0384+':\x20'+(_0x1c2437?_0x2cc20a[_0x4109cf(0xe0)]:_0x2cc20a[_0x4109cf(0x27d)]),!_0x1c2437&&(_0x29fae5[_0x4109cf(0x1fe)]=![]);}),_0x29fae5[_0x301080(0x1e4)]=_0x58c5ee;}catch(_0x458f70){_0x29fae5[_0x301080(0x1d5)]=_0x458f70;}return _0x29fae5;}}const a1_0x3e4e8e={};function a1_0x3b41(_0x203cba,_0x42c56b){const _0x4b0e58=a1_0x4b0e();return a1_0x3b41=function(_0x3b41d0,_0x3f8562){_0x3b41d0=_0x3b41d0-0xd7;let _0x52bd97=_0x4b0e58[_0x3b41d0];return _0x52bd97;},a1_0x3b41(_0x203cba,_0x42c56b);}a1_0x3e4e8e['AzureCloudProvider']=AzureCloudProvider,module[a1_0x2c1867(0x173)]=a1_0x3e4e8e;