const a1_0x47cdb9=a1_0x5894;(function(_0x417129,_0x2e7a7a){const _0x38052d=a1_0x5894,_0x1ea023=_0x417129();while(!![]){try{const _0x50164a=-parseInt(_0x38052d(0x2e0))/0x1*(-parseInt(_0x38052d(0x3a3))/0x2)+-parseInt(_0x38052d(0x378))/0x3*(-parseInt(_0x38052d(0x2e6))/0x4)+parseInt(_0x38052d(0x355))/0x5*(parseInt(_0x38052d(0x31d))/0x6)+-parseInt(_0x38052d(0x26a))/0x7+parseInt(_0x38052d(0x21f))/0x8*(-parseInt(_0x38052d(0x2b7))/0x9)+-parseInt(_0x38052d(0x290))/0xa*(parseInt(_0x38052d(0x257))/0xb)+parseInt(_0x38052d(0x3dc))/0xc;if(_0x50164a===_0x2e7a7a)break;else _0x1ea023['push'](_0x1ea023['shift']());}catch(_0x2a86ee){_0x1ea023['push'](_0x1ea023['shift']());}}}(a1_0xad4d,0xa3472));const fs=require('fs'),path=require(a1_0x47cdb9(0x363)),yaml=require(a1_0x47cdb9(0x3c6)),{logger}=require(a1_0x47cdb9(0x3a7)),{CloudProvider}=require('./CloudProvider'),{deleteRoutingDeps,deleteAgent}=require(a1_0x47cdb9(0x219)),{AZURE,WS_EVENTS,global_registry}=require('../config/constants'),PERMISSIONS=require(a1_0x47cdb9(0x3da)),{ClientSecretCredential}=require(a1_0x47cdb9(0x291)),{NetworkManagementClient}=require(a1_0x47cdb9(0x38f)),{StorageManagementClient}=require(a1_0x47cdb9(0x23e)),{AuthorizationManagementClient}=require(a1_0x47cdb9(0x371)),{ResourceManagementClient}=require(a1_0x47cdb9(0x36e)),{ContainerServiceClient}=require('@azure/arm-containerservice'),{runCommand}=require(a1_0x47cdb9(0x3cf));function a1_0xad4d(){const _0x2940e6=['qLbLL','liFPc','gqtzH','getStorageAccountName','list','JBafn','781921oNyCwo','GoQbu','soxOb','.\x20Error:\x20','cred','veCYA','qvGlq','Ynyui','.json','metadata','DhVIP','FLQHT','clusterName','YQrQd','tmWks','OVXAm','info','push','KjnrR','QvPpP','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','anKci','IKNqH','cxZCO','FdziU','isStorageAccountPresent','string','cloudProviderSubscriptionId','getClusterInfo','akscluster.json','variables','CbRQJ','AnZwg','parse','slice','accessKey','actionPermission\x20:\x20','hostname','10xznDtk','@azure/identity','createFederatedAccount','BMAqk','uKrvL','uzaqz','browserstack:managedBy','kwGQk','qRXdp','No\x20CLI\x20tool\x20required','value','Bearer\x20','setClients','deployments','dDFJj','DyJmA','DWttF','isVPCPresent','Enabling\x20Local\x20account\x20for\x20the\x20cluster','turboscale-managed-identity-','uzxEY','utf-8','KQLxi','rules','fTULW','HYeqO','vpcName','PMUct','DzHVQ','data','TOHJb','Ruigq','init','WwmHp','osIlj','RsxZA','isCliToolInstalled','pDWlY','turboscale-identity-deployment','9lYzkAi','location','spIui','TUVWJ','zbfDO','allowed','exit','status','createCluster','VAVXO','efJuU','Content-Type','aoKKq','wBWyu','uhnZk','ilopj','zZicb','oRbTN','ITLGN','CJGbv','JJRaT','fMdRG','LzHsD','Incremental','qIjaB','agentPoolProfiles','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','bpwCZ','PqpNm','RKshZ','JhahO','beginCreateOrUpdateAndWait','get','HyXTa','baseBlob','kobMk','eVEVj','MkpoJ','UgTez','UKEyk','xtbjF','48757SCAvnz','PWqSw','No\x20attached\x20role\x20for\x20the\x20client\x20key','xlPqz','4|0|5|2|1|3','ZrzQI','604ZQYfcd','FxXPC','turboscale-cluster-deployment','Received\x20response\x20-\x20','storageClient','nOhrV','yPgQu','tMHXH','czmQt','assignedTo(\x27','SEuRt','FBFRu','rws','roleDefinitionId','isSubnetsValid','HnaEj','Quuec','yKyFx','Storage\x20account\x20already\x20exists,\x20skipping','Action\x20permission\x20list\x20is\x20empty\x0a','bcwWe','jUaXH','workloadIdentity','entries','eOLyA','ozuiq','LKxzo','principalId','exports','isBrowserstackCluster','XoVdR','toLowerCase','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','gjdkx','fbeEM','cloudProviderClientSecret','yFtkq','ingress','OerRC','tags','Rtskr','jctRF','default','deleteCluster','tEQnR','type','dSNeT','filters','IIcUi','getGridHostname','bKnKH','stack','application/json','message','eRAKy','222ouOioD','pmUkr','khMJs','method','wACqh','checkAccess','WXFYv','Deleted\x20the\x20cluster\x20successfully','RntNV','storageaccount.json','jlGxT','UZlok','Ewjmq','zccBR','hub','managedidentity.json','xiQQi','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','policy','subnetName','cZWQo','DuuKg','LOG','eZreT','VkaMe','clusterInfo','parameters','anNgF','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','RBmlQ','Creating\x20Azure\x20federated\x20identity','fiHYe','yDhUP','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','oBteW','stringify','hubHaNameSpace','cwTRu','roleAssignments','NWsFU','OAvFC','issuerURL','MzsVd','EPmlZ','ICUVN','qtReU','nBrvY','dGpYe','containerClient','kgpYV','hGnpC','tYYCJ','BGoot','wHRGc','xnhYr','YmnnD','66245NJVWGH','Authorization','getResourceClientId','Cannot\x20find\x20subnets\x20','Fijft','roleDefinitions','zNQwL','vxQFe','2|5|6|1|3|4|7|0','RpsGl','PySBx','nUjrD','listByResourceGroup','forEach','path','3|2|5|1|4|0','UfXIw','enabled','dyWcu','ACmMr','includes','KXYon','toString','ElsBp','BvkXt','@azure/arm-resources','xjKpn','pvAoO','@azure/arm-authorization','EwvCd','Found\x20only\x20one\x20resource\x20group:\x20','eAPIS','[variables(\x27vnetSubnetID\x27)]','bERnO','\x20SUBSCRIPTION\x20ID:\x20','14370JOOOhx','getPrincipalIdFromClientId','OcfWq','https://graph.microsoft.com/.default','TfIHq','gudVG','cloudProvider','mbHyk','Creating\x20Azure\x20managed\x20identity','zJQIa','FLwdL','MzzjH','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','templates','isManagedIdentityPresent','disableLocalAccounts','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','listAll','cloudProviderName','EzGNi','BbZlA','userMaxNodes','getKubeConfigData','@azure/arm-network','CtTHI','networkClient','tDzRO','MMtKt','cWQuF','filter','definition','lvWHO','error','properties','resourceGroup','YiTRd','authClient','QtrmB','TcFEk','tHnFU','listClusterAdminCredentials','UOMYI','getResourceGroups','4MdfoUy','YfnjB','name','AVRwf','../config/logger','ejTGk','bstackAccesskey','InneZ','clientSecret','wZvBq','2023-01-31','createFederatedAccountForHubHA','cloudProviderClientId','roleName','GFNJG','tenantId','maxNodes','virtualNetworks','gridName','IaPZR','length','JmiPF','GBbRC','blockBlob','join','turboscale-federated-deployment','debug','subscriptionId','vEdjD','/resourceGroups/','\x20CLIENT\x20ID:\x20','permissions','vpcInfo','hJLxj','JqlUf','js-yaml','EufZe','turboscale','XglaL','readFileAsync','cloudProviderTenantId','webSocketUtils','zwAmf','tliYM','../utils/utilityMethods','FnDzL','xfCVh','split','yudgz','s3Bucket','resourceClient','YGvUu','clusterRegion','0|1|4|2|3|5','IFnIX','../permissions/AZURE.json','hubharesources','14849688TCRKdM','DoaFv','vFrtB','joCyD','KjTxJ','createStorageAccount','managedClusters','feczh','STBvS','lrBdL','isClusterPresent','CmDMW','tcTSW','tHiWo','MxnyS','\x20TENANT\x20ID:\x20','pBbrE','luvra','mQJrc','QoOhe','description','ACTION','oidcIssuerProfile','ezXHu','TXEAz','jkPTB','ljipQ','Creating\x20Azure\x20storage\x20account','Blob\x20delete\x20lifecycle','RKNJg','JpjBC','vbGln','token','managementPolicies','TKowk','nrmJx','DnQAa','asOlO','createOtherResources','XpWCj','qtUSQ','nQSFF','getToken','headers','updateClusterAlreadyPresent','cSQvu','JmmSD','vnetSubnetID','PpeNv','getById','JpCjX','jZmWO','FdiVR','securityProfile','../utils/gridComponents','denied','actions','eVEQf','kwSlT','beginDeleteAndWait','9194392hJfdlC','VCbXl','xtOUX','LqhHP','HazZb','setupNewCluster','wQyst','oNQhm','createManagedIdentity','rGpgA','resources','dSGlY','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','FCWEi','blobTypes','azureresources','oPbMn','CQraA','JSlRA','PKWWV','clientId','log','loadBalancer','yTubZ','getUserInput','ueCSx','username','aynLV','cloudProviderResourceGroup','GoZgJ','SmhVS','@azure/arm-storage','MSrgE','Deleting\x20the\x20cluster\x20','ivDJL','jDHjR','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','XXASy','BQOUJ','EHPxj','wNMvP','CPGan','Nxxpz','JVeKO','TFWGH','No\x20service\x20principal\x20found','Nyqny','NUBwa','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','bstackUsername','zKYPm','sendEventToBackend','vzjsG','mgbnb','JWkOI','RmmlG','6805733tniHLs','RESOURCES','hMoFl','ZLuFB','sendAzureInfoToHST','json','VMquv','EoljM','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','getHeader','shIgV','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','Managed\x20identity\x20already\x20exists,\x20skipping'];a1_0xad4d=function(){return _0x2940e6;};return a1_0xad4d();}class AzureCloudProvider extends CloudProvider{constructor(_0x189e0c,_0x3bfa0e,_0x464006,_0x456cc8){const _0x260751=a1_0x47cdb9,_0x445d61={};_0x445d61[_0x260751(0x39d)]=_0x260751(0x35d);const _0x2333c4=_0x445d61,_0x258af9=_0x2333c4[_0x260751(0x39d)][_0x260751(0x3d2)]('|');let _0x283a1e=0x0;while(!![]){switch(_0x258af9[_0x283a1e++]){case'0':this[_0x260751(0x39c)]=null;continue;case'1':this[_0x260751(0x34d)]=null;continue;case'2':super(AZURE,_0x189e0c,_0x3bfa0e,_0x464006,_0x456cc8);continue;case'3':this[_0x260751(0x2ea)]=null;continue;case'4':this['resourceClient']=null;continue;case'5':this[_0x260751(0x26e)]=null;continue;case'6':this['clusterInfo']=null;continue;case'7':this['networkClient']=null;continue;}break;}}async[a1_0x47cdb9(0x2b0)](){const _0x121f9e=a1_0x47cdb9;return await super[_0x121f9e(0x2b0)](),this;}['setClients'](){const _0x1d699d=a1_0x47cdb9,_0x441f92=new ClientSecretCredential(global_registry[_0x1d699d(0x3cb)],global_registry[_0x1d699d(0x3af)],global_registry[_0x1d699d(0x309)]);this[_0x1d699d(0x34d)]=new ContainerServiceClient(_0x441f92,global_registry[_0x1d699d(0x285)]),this[_0x1d699d(0x2ea)]=new StorageManagementClient(_0x441f92,global_registry['cloudProviderSubscriptionId']),this[_0x1d699d(0x3d5)]=new ResourceManagementClient(_0x441f92,global_registry[_0x1d699d(0x285)]),this[_0x1d699d(0x391)]=new NetworkManagementClient(_0x441f92,global_registry[_0x1d699d(0x285)]),this['authClient']=new AuthorizationManagementClient(_0x441f92,global_registry[_0x1d699d(0x285)]),this[_0x1d699d(0x26e)]=_0x441f92;}[a1_0x47cdb9(0x267)](){const _0x39ad4c=a1_0x47cdb9,_0x4b8c4f={};_0x4b8c4f[_0x39ad4c(0x3e4)]=function(_0x27954d,_0x30460b){return _0x27954d+_0x30460b;},_0x4b8c4f[_0x39ad4c(0x20a)]=_0x39ad4c(0x3c8),_0x4b8c4f[_0x39ad4c(0x29e)]=function(_0x4c1545,_0x3dfde9){return _0x4c1545-_0x3dfde9;};const _0x3622fd=_0x4b8c4f,_0x4748e7=global_registry[_0x39ad4c(0x3d4)][_0x39ad4c(0x3d2)]('-'),_0x3869ea=_0x3622fd[_0x39ad4c(0x3e4)](_0x3622fd[_0x39ad4c(0x20a)],_0x4748e7[_0x3622fd[_0x39ad4c(0x29e)](_0x4748e7[_0x39ad4c(0x3b7)],0x1)])[_0x39ad4c(0x28c)](0x0,0x18);return _0x3869ea[_0x39ad4c(0x305)]();}['setCachedCredsInRegistry'](_0xf96bfe){const _0x447158=a1_0x47cdb9,_0x1ebd45={};_0x1ebd45['VMquv']=_0x447158(0x3d8);const _0x532daa=_0x1ebd45,_0x12be2a=_0x532daa[_0x447158(0x25d)]['split']('|');let _0x5bf44f=0x0;while(!![]){switch(_0x12be2a[_0x5bf44f++]){case'0':global_registry[_0x447158(0x3af)]=_0xf96bfe[this[_0x447158(0x38a)]][_0x447158(0x233)];continue;case'1':global_registry[_0x447158(0x309)]=_0xf96bfe[this[_0x447158(0x38a)]][_0x447158(0x3ab)];continue;case'2':global_registry['cloudProviderSubscriptionId']=_0xf96bfe[this[_0x447158(0x38a)]]['subscriptionId'];continue;case'3':global_registry[_0x447158(0x23b)]=_0xf96bfe[this[_0x447158(0x38a)]][_0x447158(0x39a)];continue;case'4':global_registry[_0x447158(0x3cb)]=_0xf96bfe[this['cloudProviderName']][_0x447158(0x3b2)];continue;case'5':this['setClients']();continue;}break;}}async[a1_0x47cdb9(0x237)](_0x231813,_0x59a172){const _0x3a9c3b=a1_0x47cdb9,_0x8fc87b={'PySBx':_0x3a9c3b(0x243),'pDWlY':_0x3a9c3b(0x263),'RmzHf':'No\x20attached\x20role\x20for\x20the\x20client\x20key','shIgV':'string','JBafn':_0x3a9c3b(0x339),'uzaqz':_0x3a9c3b(0x262),'EPmlZ':_0x3a9c3b(0x375),'luvra':function(_0x2fb1ee,_0xf00d59){return _0x2fb1ee(_0xf00d59);},'YGvUu':function(_0x5b2e15,_0x11cc38){return _0x5b2e15(_0x11cc38);},'IIcUi':function(_0x230b46,_0x255d8b){return _0x230b46(_0x255d8b);},'eVEQf':function(_0x58a6ce,_0x5bcd87){return _0x58a6ce===_0x5bcd87;},'nQSFF':_0x3a9c3b(0x2d3),'uhnZk':function(_0x239db8,_0x1aa77a){return _0x239db8(_0x1aa77a);},'uKrvL':function(_0x4c5e4e,_0x2398ac){return _0x4c5e4e===_0x2398ac;},'cWQuF':function(_0x27f3ad,_0x5daf38){return _0x27f3ad!==_0x5daf38;},'yoOMr':'TIIAn','MMtKt':function(_0x17b542,_0x14ce25){return _0x17b542===_0x14ce25;},'yudgz':function(_0x1e8d3c,_0x327375){return _0x1e8d3c===_0x327375;},'Pjwzz':function(_0x312071,_0x4dcade){return _0x312071!==_0x4dcade;},'veCYA':_0x3a9c3b(0x1fd),'zbfDO':_0x3a9c3b(0x32a),'DuuKg':_0x3a9c3b(0x32e),'GFNJG':_0x3a9c3b(0x1f1),'ozuiq':function(_0x4815a1,_0x4b4745){return _0x4815a1===_0x4b4745;},'bcwWe':_0x3a9c3b(0x210),'kgpYV':'XGkEf','LqhHP':function(_0x4334f8,_0x2ecc63){return _0x4334f8<_0x2ecc63;},'mQJrc':_0x3a9c3b(0x245),'eZreT':'pudLH','tliYM':function(_0x359a0c,_0x42dcf6){return _0x359a0c+_0x42dcf6;},'gCTqB':function(_0x50bf4a,_0x3740bf){return _0x50bf4a(_0x3740bf);},'OAvFC':_0x3a9c3b(0x27e),'eTCXu':function(_0x21c206,_0x35eeea){return _0x21c206(_0x35eeea);},'RsxZA':function(_0x453621,_0x5485c2){return _0x453621<=_0x5485c2;},'eRAKy':function(_0x361fc0,_0x4225b9){return _0x361fc0>_0x4225b9;},'tHiWo':'FurAr','DoaFv':function(_0xfa46be,_0x4568b2){return _0xfa46be-_0x4568b2;}},_0x1a540b=this[_0x3a9c3b(0x38a)]['toUpperCase'](),_0x5ee95a=await _0x8fc87b[_0x3a9c3b(0x1f4)](_0x231813,_0x1a540b+_0x3a9c3b(0x3c1)),_0x5df923=await _0x8fc87b[_0x3a9c3b(0x1f4)](_0x231813,_0x1a540b+'\x20CLIENT\x20SECRET:\x20'),_0x376ca3=await _0x8fc87b[_0x3a9c3b(0x3d6)](_0x231813,_0x1a540b+_0x3a9c3b(0x1f2)),_0x48e902=await _0x8fc87b[_0x3a9c3b(0x316)](_0x231813,_0x1a540b+_0x3a9c3b(0x377));global_registry[_0x3a9c3b(0x3af)]=_0x5ee95a,global_registry[_0x3a9c3b(0x309)]=_0x5df923,global_registry[_0x3a9c3b(0x3cb)]=_0x376ca3,global_registry[_0x3a9c3b(0x285)]=_0x48e902,this[_0x3a9c3b(0x29c)]();const _0x303bee=await this[_0x3a9c3b(0x3a2)](),_0x1ec9fe=_0x303bee[_0x3a9c3b(0x3b7)];let _0x33b93a;if(_0x8fc87b[_0x3a9c3b(0x21c)](_0x1ec9fe,0x0)){if(_0x8fc87b['eVEQf'](_0x8fc87b[_0x3a9c3b(0x20c)],_0x8fc87b[_0x3a9c3b(0x20c)]))_0x33b93a=await _0x8fc87b['uhnZk'](_0x231813,_0x1a540b+'\x20RESOURCE\x20GROUP:\x20');else{const _0x533cd7=new _0x20a9ea(_0x31e76f['cloudProviderTenantId'],_0x2348c2[_0x3a9c3b(0x3af)],_0x7f6c2d[_0x3a9c3b(0x309)]);this[_0x3a9c3b(0x34d)]=new _0x14799e(_0x533cd7,_0x1f3706['cloudProviderSubscriptionId']),this['storageClient']=new _0x1d697a(_0x533cd7,_0x431340[_0x3a9c3b(0x285)]),this[_0x3a9c3b(0x3d5)]=new _0x37944c(_0x533cd7,_0x1f2eba[_0x3a9c3b(0x285)]),this[_0x3a9c3b(0x391)]=new _0x2ffbe6(_0x533cd7,_0x3b7373[_0x3a9c3b(0x285)]),this[_0x3a9c3b(0x39c)]=new _0x4ea54d(_0x533cd7,_0x972f3e['cloudProviderSubscriptionId']),this[_0x3a9c3b(0x26e)]=_0x533cd7;}}else{if(_0x8fc87b[_0x3a9c3b(0x294)](_0x1ec9fe,0x1)){if(_0x8fc87b[_0x3a9c3b(0x394)](_0x8fc87b['yoOMr'],_0x8fc87b['yoOMr']))_0x5b2ee7['status']=![];else{const _0x283235=await _0x8fc87b[_0x3a9c3b(0x1f4)](_0x231813,_0x3a9c3b(0x373)+_0x303bee[0x0]+'\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20');if(_0x8fc87b[_0x3a9c3b(0x393)](_0x283235,undefined)||_0x8fc87b[_0x3a9c3b(0x3d3)](_0x283235,null)||!(_0x8fc87b[_0x3a9c3b(0x3d3)](_0x283235['toLowerCase'](),'y')||_0x8fc87b[_0x3a9c3b(0x3d3)](_0x283235[_0x3a9c3b(0x305)](),'n'))){if(_0x8fc87b['Pjwzz'](_0x8fc87b[_0x3a9c3b(0x26f)],_0x8fc87b[_0x3a9c3b(0x2bb)]))console[_0x3a9c3b(0x398)](_0x8fc87b[_0x3a9c3b(0x332)]),process[_0x3a9c3b(0x2bd)](0x1);else{_0xf6a57e[_0x3a9c3b(0x27a)](_0x8fc87b[_0x3a9c3b(0x35f)]);const _0x1de538={};_0x1de538[_0x3a9c3b(0x313)]=_0x3275f0[_0x3a9c3b(0x258)],_0x1de538[_0x3a9c3b(0x31b)]=_0x8fc87b[_0x3a9c3b(0x35f)],this[_0x3a9c3b(0x3cc)][_0x3a9c3b(0x252)](this[_0x3a9c3b(0x2f2)],_0x1de538),_0x464135[_0x3a9c3b(0x1f9)][_0x3a9c3b(0x366)]=!![];}}_0x8fc87b[_0x3a9c3b(0x3d3)](_0x283235['toLowerCase'](),'n')&&(_0x8fc87b[_0x3a9c3b(0x21c)](_0x8fc87b['GFNJG'],_0x8fc87b[_0x3a9c3b(0x3b1)])?process['exit'](0x0):_0x25db95[_0x3a9c3b(0x27b)](_0x4be1a5[_0x3a9c3b(0x3a5)])),_0x33b93a=_0x303bee[0x0];}}else{if(_0x8fc87b[_0x3a9c3b(0x2ff)](_0x8fc87b[_0x3a9c3b(0x2fa)],_0x8fc87b[_0x3a9c3b(0x34e)]))_0x1329d0[_0x3a9c3b(0x27a)](_0x8fc87b[_0x3a9c3b(0x2b5)]);else{for(let _0x5efea2=0x0;_0x8fc87b[_0x3a9c3b(0x222)](_0x5efea2,_0x303bee[_0x3a9c3b(0x3b7)]);_0x5efea2+=0x1){if(_0x8fc87b[_0x3a9c3b(0x393)](_0x8fc87b[_0x3a9c3b(0x1f5)],_0x8fc87b[_0x3a9c3b(0x334)]))return _0x44b1c7[_0x3a9c3b(0x2ad)]=_0x8fc87b['RmzHf'],_0x55aa2b;else console[_0x3a9c3b(0x234)]('['+_0x8fc87b[_0x3a9c3b(0x3ce)](_0x5efea2,0x1)+']\x20'+_0x303bee[_0x5efea2]);}const _0x5532cd=await _0x8fc87b['gCTqB'](_0x231813,_0x8fc87b[_0x3a9c3b(0x345)]),_0x163b8e=_0x8fc87b[_0x3a9c3b(0x2c5)](Number,_0x5532cd);if(_0x8fc87b['eTCXu'](isNaN,_0x163b8e)||_0x8fc87b[_0x3a9c3b(0x2b3)](_0x163b8e,0x0)||_0x8fc87b[_0x3a9c3b(0x31c)](_0x163b8e,_0x1ec9fe)){if(_0x8fc87b[_0x3a9c3b(0x394)](_0x8fc87b[_0x3a9c3b(0x1f0)],_0x8fc87b[_0x3a9c3b(0x1f0)])){const _0xf14a1e={};_0xf14a1e['type']=_0x8fc87b[_0x3a9c3b(0x261)],_0xf14a1e[_0x3a9c3b(0x273)]={},_0xf14a1e[_0x3a9c3b(0x273)][_0x3a9c3b(0x1f7)]=_0x8fc87b[_0x3a9c3b(0x269)];const _0x556109={};_0x556109[_0x3a9c3b(0x313)]=_0x8fc87b[_0x3a9c3b(0x261)],_0x556109[_0x3a9c3b(0x273)]={},_0x556109[_0x3a9c3b(0x273)][_0x3a9c3b(0x1f7)]=_0x8fc87b['JBafn'];const _0x5375f3={..._0x2c2299[_0x3a9c3b(0x337)]};_0x5375f3[_0x3a9c3b(0x2aa)]=_0xf14a1e,_0x5375f3[_0x3a9c3b(0x330)]=_0x556109,_0xba798d[_0x3a9c3b(0x337)]=_0x5375f3;const _0x34edd0={};_0x34edd0[_0x3a9c3b(0x212)]=_0x8fc87b[_0x3a9c3b(0x295)],_0x1fe2a2['variables']=_0x34edd0;const _0x327e77={..._0x28d65c[_0x3a9c3b(0x229)][0x0]['properties'][_0x3a9c3b(0x2d0)][0x0]};_0x327e77[_0x3a9c3b(0x212)]=_0x8fc87b[_0x3a9c3b(0x348)],_0x3b05f3['resources'][0x0][_0x3a9c3b(0x399)]['agentPoolProfiles'][0x0]=_0x327e77;const _0x158de8={};_0x158de8['value']=_0x513a80;const _0x405572={};_0x405572['value']=_0x5829b7[0x0];const _0x2ed2dd={..._0x19ef5e};_0x2ed2dd['vpcName']=_0x158de8,_0x2ed2dd[_0x3a9c3b(0x330)]=_0x405572,_0x4d4bda=_0x2ed2dd;}else console[_0x3a9c3b(0x398)](_0x8fc87b[_0x3a9c3b(0x332)]),process[_0x3a9c3b(0x2bd)](0x1);}_0x33b93a=_0x303bee[_0x8fc87b[_0x3a9c3b(0x3dd)](_0x163b8e,0x1)];}}}global_registry[_0x3a9c3b(0x23b)]=_0x33b93a;const _0x175fd6={};return _0x175fd6[_0x3a9c3b(0x233)]=_0x5ee95a,_0x175fd6['clientSecret']=_0x5df923,_0x175fd6['tenantId']=_0x376ca3,_0x175fd6[_0x3a9c3b(0x3be)]=_0x48e902,_0x175fd6[_0x3a9c3b(0x39a)]=_0x33b93a,_0x59a172[_0x3a9c3b(0x37e)][AZURE]=_0x175fd6,_0x59a172;}async[a1_0x47cdb9(0x3a2)](){const _0x4981a7=a1_0x47cdb9,_0x5389e0={};_0x5389e0[_0x4981a7(0x27d)]=function(_0x3e3ff1,_0x424242){return _0x3e3ff1===_0x424242;},_0x5389e0[_0x4981a7(0x2fb)]=function(_0x2a23a4,_0x47d43c){return _0x2a23a4===_0x47d43c;},_0x5389e0[_0x4981a7(0x2ac)]=_0x4981a7(0x2f5),_0x5389e0[_0x4981a7(0x36d)]=_0x4981a7(0x2eb),_0x5389e0[_0x4981a7(0x372)]=_0x4981a7(0x2ab),_0x5389e0[_0x4981a7(0x24d)]=_0x4981a7(0x2ee);const _0xc33e85=_0x5389e0,_0x38d3ac=[];try{if(_0xc33e85[_0x4981a7(0x2fb)](_0xc33e85[_0x4981a7(0x2ac)],_0xc33e85[_0x4981a7(0x36d)]))_0x585c68[_0x4981a7(0x27b)](..._0x1a2363[_0x4981a7(0x21b)]);else{const _0xbb48ff=await this[_0x4981a7(0x3d5)]['resourceGroups'][_0x4981a7(0x268)]();for await(const _0x26cc51 of _0xbb48ff){if(_0xc33e85[_0x4981a7(0x2fb)](_0xc33e85[_0x4981a7(0x372)],_0xc33e85[_0x4981a7(0x24d)])){if(_0xc33e85[_0x4981a7(0x27d)](_0x410293[_0x4981a7(0x3a5)],_0x5c3bed))return!![];}else _0x38d3ac['push'](_0x26cc51[_0x4981a7(0x3a5)]);}}}catch(_0x295c15){}return _0x38d3ac;}async[a1_0x47cdb9(0x286)](){const _0x414535=a1_0x47cdb9;return this[_0x414535(0x336)]=await this[_0x414535(0x34d)][_0x414535(0x3e2)][_0x414535(0x2d7)](global_registry[_0x414535(0x23b)],this[_0x414535(0x276)]),this[_0x414535(0x336)];}async[a1_0x47cdb9(0x38e)](){const _0x19bea2=a1_0x47cdb9,_0x366343=await this['containerClient']['managedClusters'][_0x19bea2(0x3a0)](global_registry['cloudProviderResourceGroup'],this[_0x19bea2(0x276)]),_0x45a49d=_0x366343['kubeconfigs'][0x0][_0x19bea2(0x29a)][_0x19bea2(0x36b)]();return _0x45a49d;}[a1_0x47cdb9(0x317)](_0x570fac){const _0xe564af=a1_0x47cdb9;return _0x570fac['status']['loadBalancer'][_0xe564af(0x30b)][0x0][_0xe564af(0x28f)];}async[a1_0x47cdb9(0x1ed)](){const _0x1dfc82=a1_0x47cdb9,_0x14238e={};_0x14238e[_0x1dfc82(0x27c)]=function(_0x475410,_0x29945f){return _0x475410===_0x29945f;},_0x14238e[_0x1dfc82(0x2dd)]=_0x1dfc82(0x2f9),_0x14238e[_0x1dfc82(0x22c)]=function(_0x11b310,_0x475275){return _0x11b310===_0x475275;},_0x14238e[_0x1dfc82(0x321)]=_0x1dfc82(0x365),_0x14238e[_0x1dfc82(0x246)]=function(_0x164680,_0x130462){return _0x164680!==_0x130462;},_0x14238e['NUBwa']=_0x1dfc82(0x226),_0x14238e[_0x1dfc82(0x30e)]=_0x1dfc82(0x353),_0x14238e[_0x1dfc82(0x280)]=function(_0x4aaa78,_0x4604c2){return _0x4aaa78!==_0x4604c2;},_0x14238e[_0x1dfc82(0x350)]=_0x1dfc82(0x1fb);const _0x333b7e=_0x14238e,_0x41d42c=new Array();for await(const _0x315763 of this['containerClient']['managedClusters']['listByResourceGroup'](global_registry[_0x1dfc82(0x23b)])){if(_0x333b7e[_0x1dfc82(0x22c)](_0x333b7e[_0x1dfc82(0x321)],_0x333b7e[_0x1dfc82(0x321)]))_0x41d42c['push'](_0x315763);else return!![];}for await(const _0x3d9e75 of _0x41d42c){if(_0x333b7e['EHPxj'](_0x333b7e[_0x1dfc82(0x24e)],_0x333b7e[_0x1dfc82(0x30e)])){if(_0x333b7e[_0x1dfc82(0x27c)](_0x3d9e75['name'],this[_0x1dfc82(0x276)])){if(_0x333b7e[_0x1dfc82(0x280)](_0x333b7e['tYYCJ'],_0x333b7e[_0x1dfc82(0x350)]))_0x3615cb[_0x1dfc82(0x3c3)][_0x1dfc82(0x27b)](_0x5622f7);else return await this[_0x1dfc82(0x286)](),!![];}}else _0x26f5cc+=_0x333b7e['KjnrR'](_0x4c2efa[_0x1dfc82(0x3b7)],0x0)?_0x333b7e[_0x1dfc82(0x2dd)]:'',_0x32c7a1[_0x1dfc82(0x3bd)](_0x1dfc82(0x25f)+_0x8b6c5b[_0x1dfc82(0x340)](_0x128675));}return![];}async[a1_0x47cdb9(0x224)](_0x2f37a7=null,_0x52fdbc=null){const _0x503186=a1_0x47cdb9,_0x175e1e={};_0x175e1e[_0x503186(0x2cd)]=_0x503186(0x364),_0x175e1e[_0x503186(0x1ef)]=_0x503186(0x306);const _0x29abc4=_0x175e1e,_0x17b182=_0x29abc4[_0x503186(0x2cd)]['split']('|');let _0x1b6a2e=0x0;while(!![]){switch(_0x17b182[_0x1b6a2e++]){case'0':return[_0x2f37a7,_0x52fdbc];case'1':await this[_0x503186(0x2bf)](_0x2f37a7,_0x52fdbc);continue;case'2':const _0xc71ad4={};_0xc71ad4[_0x503186(0x313)]=WS_EVENTS[_0x503186(0x333)],_0xc71ad4[_0x503186(0x31b)]=_0x29abc4[_0x503186(0x1ef)],this[_0x503186(0x3cc)][_0x503186(0x252)](this['rws'],_0xc71ad4);continue;case'3':this['sendAzureInfoToHST']();continue;case'4':await this[_0x503186(0x209)]();continue;case'5':logger['info'](_0x29abc4[_0x503186(0x1ef)]);continue;}break;}}async[a1_0x47cdb9(0x2bf)](_0x3a8960=null,_0x42cc53=null){const _0x2f357e=a1_0x47cdb9,_0xfd389a={};_0xfd389a[_0x2f357e(0x37c)]=function(_0x209408,_0x166068){return _0x209408===_0x166068;},_0xfd389a[_0x2f357e(0x374)]='templates',_0xfd389a[_0x2f357e(0x359)]=_0x2f357e(0x22e),_0xfd389a[_0x2f357e(0x27f)]=_0x2f357e(0x287),_0xfd389a['RBmlQ']=_0x2f357e(0x2a5),_0xfd389a[_0x2f357e(0x228)]=function(_0x39ac06,_0x45aec8){return _0x39ac06!==_0x45aec8;},_0xfd389a[_0x2f357e(0x206)]=function(_0x7d4c58,_0xc1662a){return _0x7d4c58!==_0xc1662a;},_0xfd389a[_0x2f357e(0x23f)]=function(_0x1e6485,_0x500795){return _0x1e6485===_0x500795;},_0xfd389a['qzLJa']=_0x2f357e(0x38c),_0xfd389a[_0x2f357e(0x225)]=_0x2f357e(0x284),_0xfd389a[_0x2f357e(0x3c9)]=_0x2f357e(0x339),_0xfd389a[_0x2f357e(0x1f6)]='[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]',_0xfd389a[_0x2f357e(0x259)]=_0x2f357e(0x375),_0xfd389a[_0x2f357e(0x30f)]=_0x2f357e(0x2e8),_0xfd389a['yTubZ']='Incremental';const _0x8fcf17=_0xfd389a;let _0x234b40=await fs['readFileAsync'](path[_0x2f357e(0x3bb)](__dirname,'..',_0x8fcf17[_0x2f357e(0x374)],_0x8fcf17[_0x2f357e(0x359)],_0x8fcf17[_0x2f357e(0x27f)]),_0x8fcf17[_0x2f357e(0x33a)]);_0x234b40=JSON[_0x2f357e(0x28b)](_0x234b40);const _0x16bd59={};_0x16bd59[_0x2f357e(0x29a)]=this[_0x2f357e(0x276)];const _0x29ecd4={};_0x29ecd4[_0x2f357e(0x29a)]=global_registry[_0x2f357e(0x3d7)];const _0x3f6c81={};_0x3f6c81['value']=global_registry['instanceType'];const _0x13ea71={};_0x13ea71[_0x2f357e(0x29a)]=global_registry[_0x2f357e(0x3b3)];const _0x193ff9={};_0x193ff9[_0x2f357e(0x276)]=_0x16bd59,_0x193ff9[_0x2f357e(0x2b8)]=_0x29ecd4,_0x193ff9['userInstanceType']=_0x3f6c81,_0x193ff9[_0x2f357e(0x38d)]=_0x13ea71;let _0x1c2376=_0x193ff9;if(_0x8fcf17[_0x2f357e(0x228)](_0x3a8960,null)&&_0x8fcf17[_0x2f357e(0x206)](_0x42cc53,null)){if(_0x8fcf17[_0x2f357e(0x23f)](_0x8fcf17['qzLJa'],_0x8fcf17['qzLJa'])){const _0x2ac1ef={};_0x2ac1ef[_0x2f357e(0x313)]=_0x8fcf17[_0x2f357e(0x225)],_0x2ac1ef[_0x2f357e(0x273)]={},_0x2ac1ef[_0x2f357e(0x273)][_0x2f357e(0x1f7)]=_0x8fcf17[_0x2f357e(0x3c9)];const _0x195160={};_0x195160[_0x2f357e(0x313)]=_0x8fcf17[_0x2f357e(0x225)],_0x195160[_0x2f357e(0x273)]={},_0x195160[_0x2f357e(0x273)]['description']=_0x8fcf17[_0x2f357e(0x3c9)],_0x234b40['parameters']={..._0x234b40[_0x2f357e(0x337)],'vpcName':_0x2ac1ef,'subnetName':_0x195160};const _0x43e7ee={};_0x43e7ee[_0x2f357e(0x212)]=_0x8fcf17[_0x2f357e(0x1f6)],_0x234b40[_0x2f357e(0x288)]=_0x43e7ee,_0x234b40[_0x2f357e(0x229)][0x0]['properties'][_0x2f357e(0x2d0)][0x0]={..._0x234b40[_0x2f357e(0x229)][0x0][_0x2f357e(0x399)][_0x2f357e(0x2d0)][0x0],'vnetSubnetID':_0x8fcf17[_0x2f357e(0x259)]};const _0xe20db={};_0xe20db[_0x2f357e(0x29a)]=_0x3a8960;const _0x4c1661={};_0x4c1661[_0x2f357e(0x29a)]=_0x42cc53[0x0],_0x1c2376={..._0x1c2376,'vpcName':_0xe20db,'subnetName':_0x4c1661};}else _0x8fcf17['TfIHq'](_0x5f2f59[_0x2f357e(0x3a5)],_0x199312)&&(_0x4d079f=_0x11a907['id']);}await this[_0x2f357e(0x3d5)]['deployments'][_0x2f357e(0x2d6)](global_registry[_0x2f357e(0x23b)],_0x8fcf17[_0x2f357e(0x30f)],{'properties':{'template':_0x234b40,'mode':_0x8fcf17[_0x2f357e(0x236)],'parameters':_0x1c2376}});}async['createOtherResources'](){const _0x37309b=a1_0x47cdb9,_0x187a24={};_0x187a24[_0x37309b(0x21d)]=function(_0x510157,_0x31e9b5){return _0x510157===_0x31e9b5;},_0x187a24[_0x37309b(0x270)]=_0x37309b(0x2d1),_0x187a24[_0x37309b(0x2c9)]=function(_0x14d4c4,_0x37dc98){return _0x14d4c4!==_0x37dc98;},_0x187a24[_0x37309b(0x2d8)]=_0x37309b(0x3c7),_0x187a24[_0x37309b(0x307)]=_0x37309b(0x281),_0x187a24[_0x37309b(0x344)]=_0x37309b(0x1fe),_0x187a24[_0x37309b(0x244)]='aqIpQ',_0x187a24[_0x37309b(0x2c6)]=_0x37309b(0x2cb),_0x187a24['osIlj']=_0x37309b(0x2f8),_0x187a24[_0x37309b(0x282)]=_0x37309b(0x211),_0x187a24[_0x37309b(0x34a)]=_0x37309b(0x338),_0x187a24[_0x37309b(0x1ec)]=_0x37309b(0x380),_0x187a24[_0x37309b(0x274)]=function(_0x4078a9,_0x526135){return _0x4078a9===_0x526135;},_0x187a24[_0x37309b(0x1fc)]=_0x37309b(0x3e3),_0x187a24['vbGln']=_0x37309b(0x33d),_0x187a24[_0x37309b(0x23c)]=_0x37309b(0x263),_0x187a24[_0x37309b(0x208)]=_0x37309b(0x33b),_0x187a24['ICUVN']='Created\x20Azure\x20federated\x20identity';const _0x25da9f=_0x187a24,_0x26f550=await this[_0x37309b(0x283)]();if(!_0x26f550){if(_0x25da9f[_0x37309b(0x2c9)](_0x25da9f[_0x37309b(0x2d8)],_0x25da9f[_0x37309b(0x307)])){const _0x118f16={};_0x118f16['type']=WS_EVENTS[_0x37309b(0x333)],_0x118f16['message']=_0x25da9f['NWsFU'],this[_0x37309b(0x3cc)][_0x37309b(0x252)](this[_0x37309b(0x2f2)],_0x118f16),logger['info'](_0x25da9f[_0x37309b(0x344)]),await this[_0x37309b(0x3e1)]();}else{if(_0x25da9f[_0x37309b(0x21d)](_0x6bb5fc[_0x37309b(0x3a5)],_0x2baf44))return!![];}}else{if(_0x25da9f[_0x37309b(0x2c9)](_0x25da9f['XXASy'],_0x25da9f['ilopj']))logger[_0x37309b(0x27a)](_0x25da9f[_0x37309b(0x2b2)]);else{_0x8acd31[_0x37309b(0x27a)](_0x25da9f['qvGlq']);const _0x4c3061={};_0x4c3061['type']=_0xd9c012[_0x37309b(0x258)],_0x4c3061[_0x37309b(0x31b)]=_0x25da9f[_0x37309b(0x270)],this[_0x37309b(0x3cc)]['sendEventToBackend'](this['rws'],_0x4c3061);const _0x920ae7={};_0x920ae7[_0x37309b(0x366)]=!![];const _0x164d4c={'workloadIdentity':_0x920ae7,..._0x4318c4['securityProfile']};_0x478a6d['securityProfile']=_0x164d4c;}}const _0x2c1882=await this['isManagedIdentityPresent']();if(!_0x2c1882){if(_0x25da9f['kwSlT'](_0x25da9f[_0x37309b(0x282)],_0x25da9f['qtReU']))return!![];else{const _0x59b29f={};_0x59b29f[_0x37309b(0x313)]=WS_EVENTS[_0x37309b(0x333)],_0x59b29f['message']=_0x25da9f[_0x37309b(0x1ec)],this[_0x37309b(0x3cc)][_0x37309b(0x252)](this[_0x37309b(0x2f2)],_0x59b29f),logger[_0x37309b(0x27a)](_0x25da9f[_0x37309b(0x1ec)]),await this[_0x37309b(0x227)]();}}else _0x25da9f['DhVIP'](_0x25da9f[_0x37309b(0x1fc)],_0x25da9f[_0x37309b(0x202)])?_0x2b698d[_0x37309b(0x2bd)](0x0):logger[_0x37309b(0x27a)](_0x25da9f['GoZgJ']);logger['info'](_0x25da9f[_0x37309b(0x208)]),await this[_0x37309b(0x292)](),logger['info'](_0x25da9f[_0x37309b(0x349)]);}async['createStorageAccount'](){const _0x4c6bb0=a1_0x47cdb9,_0x34c6ed={};_0x34c6ed[_0x4c6bb0(0x29f)]=_0x4c6bb0(0x385),_0x34c6ed[_0x4c6bb0(0x370)]=_0x4c6bb0(0x22e),_0x34c6ed['XoVdR']=_0x4c6bb0(0x326),_0x34c6ed[_0x4c6bb0(0x2ed)]='utf-8',_0x34c6ed['vEdjD']='turboscale-storageaccount-deployment',_0x34c6ed[_0x4c6bb0(0x289)]=_0x4c6bb0(0x2ce),_0x34c6ed['szzNx']=_0x4c6bb0(0x1ff),_0x34c6ed[_0x4c6bb0(0x25a)]='Lifecycle',_0x34c6ed[_0x4c6bb0(0x300)]=_0x4c6bb0(0x3ba),_0x34c6ed[_0x4c6bb0(0x35e)]=_0x4c6bb0(0x310);const _0x4a3855=_0x34c6ed;let _0x435da1=await fs[_0x4c6bb0(0x3ca)](path[_0x4c6bb0(0x3bb)](__dirname,'..',_0x4a3855[_0x4c6bb0(0x29f)],_0x4a3855[_0x4c6bb0(0x370)],_0x4a3855[_0x4c6bb0(0x304)]),_0x4a3855['tMHXH']);_0x435da1=JSON['parse'](_0x435da1);const _0x88e6b6=this[_0x4c6bb0(0x267)](),_0x129301={};_0x129301[_0x4c6bb0(0x29a)]=_0x88e6b6;const _0xe86911={};_0xe86911['storageAccountName']=_0x129301,await this[_0x4c6bb0(0x3d5)][_0x4c6bb0(0x29d)][_0x4c6bb0(0x2d6)](global_registry[_0x4c6bb0(0x23b)],_0x4a3855[_0x4c6bb0(0x3bf)],{'properties':{'template':_0x435da1,'mode':_0x4a3855[_0x4c6bb0(0x289)],'parameters':_0xe86911}});const _0x4cf2c8={};_0x4cf2c8['daysAfterCreationGreaterThan']=0x3c;const _0x393baa={};_0x393baa['delete']=_0x4cf2c8;const _0x370b90={};_0x370b90[_0x4c6bb0(0x2d9)]=_0x393baa;const _0xf40b3b={};_0xf40b3b[_0x4c6bb0(0x366)]=!![],_0xf40b3b[_0x4c6bb0(0x3a5)]=_0x4a3855['szzNx'],_0xf40b3b[_0x4c6bb0(0x313)]=_0x4a3855[_0x4c6bb0(0x25a)],_0xf40b3b[_0x4c6bb0(0x396)]={},_0xf40b3b[_0x4c6bb0(0x396)][_0x4c6bb0(0x21b)]=_0x370b90,_0xf40b3b[_0x4c6bb0(0x396)][_0x4c6bb0(0x315)]={},_0xf40b3b[_0x4c6bb0(0x396)][_0x4c6bb0(0x315)][_0x4c6bb0(0x22d)]=[_0x4a3855['LKxzo']];const _0x5aaa30={};_0x5aaa30[_0x4c6bb0(0x2a7)]=[_0xf40b3b];const _0x5054b9={};_0x5054b9[_0x4c6bb0(0x32f)]=_0x5aaa30;const _0xc3c8ea=_0x5054b9;await this['storageClient'][_0x4c6bb0(0x204)]['createOrUpdate'](global_registry['cloudProviderResourceGroup'],_0x88e6b6,_0x4a3855['RpsGl'],_0xc3c8ea);}async[a1_0x47cdb9(0x227)](){const _0x2a8928=a1_0x47cdb9,_0x20d5dc={};_0x20d5dc[_0x2a8928(0x223)]=_0x2a8928(0x385),_0x20d5dc[_0x2a8928(0x2d2)]='azureresources',_0x20d5dc['JqlUf']=_0x2a8928(0x32c),_0x20d5dc[_0x2a8928(0x232)]=_0x2a8928(0x2a5),_0x20d5dc[_0x2a8928(0x3b9)]=_0x2a8928(0x2b6),_0x20d5dc['BGoot']=_0x2a8928(0x2ce);const _0x4ecb04=_0x20d5dc;let _0x3c157a=await fs[_0x2a8928(0x3ca)](path[_0x2a8928(0x3bb)](__dirname,'..',_0x4ecb04[_0x2a8928(0x223)],_0x4ecb04[_0x2a8928(0x2d2)],_0x4ecb04[_0x2a8928(0x3c5)]),_0x4ecb04[_0x2a8928(0x232)]);_0x3c157a=JSON[_0x2a8928(0x28b)](_0x3c157a),await this['resourceClient']['deployments'][_0x2a8928(0x2d6)](global_registry[_0x2a8928(0x23b)],_0x4ecb04[_0x2a8928(0x3b9)],{'properties':{'template':_0x3c157a,'mode':_0x4ecb04[_0x2a8928(0x351)],'parameters':{'clusterName':{'value':this[_0x2a8928(0x276)]}}}});}async[a1_0x47cdb9(0x292)](){const _0x5942b2=a1_0x47cdb9,_0x23ff16={};_0x23ff16[_0x5942b2(0x2a0)]=function(_0x2ceb15,_0x5ad24c){return _0x2ceb15!==_0x5ad24c;},_0x23ff16[_0x5942b2(0x390)]=_0x5942b2(0x2c4),_0x23ff16['ivDJL']=_0x5942b2(0x2cf),_0x23ff16[_0x5942b2(0x376)]=_0x5942b2(0x32b),_0x23ff16[_0x5942b2(0x38b)]='node',_0x23ff16[_0x5942b2(0x34b)]=function(_0x2a750c,_0x307dac){return _0x2a750c!==_0x307dac;},_0x23ff16[_0x5942b2(0x205)]='UCQBj',_0x23ff16['RmmlG']=_0x5942b2(0x385),_0x23ff16[_0x5942b2(0x1f3)]=_0x5942b2(0x22e),_0x23ff16[_0x5942b2(0x24a)]=_0x5942b2(0x2a5),_0x23ff16[_0x5942b2(0x2d5)]=_0x5942b2(0x3bc),_0x23ff16['SEuRt']=_0x5942b2(0x2ce);const _0x53cd53=_0x23ff16;!this[_0x5942b2(0x336)]&&(_0x53cd53[_0x5942b2(0x2a0)](_0x53cd53[_0x5942b2(0x390)],_0x53cd53[_0x5942b2(0x241)])?await this[_0x5942b2(0x286)]():_0x486f9e[_0x5942b2(0x27b)](_0x1e9a3a));const _0x15585e=this[_0x5942b2(0x336)]?.[_0x5942b2(0x1f9)]?.[_0x5942b2(0x346)],_0xeed94b=[_0x53cd53[_0x5942b2(0x376)],_0x53cd53[_0x5942b2(0x38b)]];for await(const _0x170581 of _0xeed94b){if(_0x53cd53[_0x5942b2(0x34b)](_0x53cd53[_0x5942b2(0x205)],_0x53cd53[_0x5942b2(0x205)]))return!![];else{let _0x4fa0d7=await fs[_0x5942b2(0x3ca)](path[_0x5942b2(0x3bb)](__dirname,'..',_0x53cd53[_0x5942b2(0x256)],_0x53cd53[_0x5942b2(0x1f3)],'federatedidentity'+_0x170581+_0x5942b2(0x272)),_0x53cd53[_0x5942b2(0x24a)]);_0x4fa0d7=JSON[_0x5942b2(0x28b)](_0x4fa0d7);const _0x1513fc={};_0x1513fc[_0x5942b2(0x29a)]=_0x15585e,await this[_0x5942b2(0x3d5)][_0x5942b2(0x29d)][_0x5942b2(0x2d6)](global_registry[_0x5942b2(0x23b)],_0x53cd53[_0x5942b2(0x2d5)],{'properties':{'template':_0x4fa0d7,'mode':_0x53cd53[_0x5942b2(0x2f0)],'parameters':{'oidcIssuer':_0x1513fc,'gridName':{'value':this[_0x5942b2(0x3b5)]},'clusterName':{'value':this[_0x5942b2(0x276)]}}}});}}}async['setupHubHa'](_0x4c63e7,_0x2ba175,_0x29a0bf,_0x22e356,_0x995de6){const _0x8dfd9c=a1_0x47cdb9,_0x385f57={};_0x385f57[_0x8dfd9c(0x3ac)]=_0x8dfd9c(0x24f),_0x385f57['JSlRA']=_0x8dfd9c(0x22b);const _0x59952e=_0x385f57,_0x3e899a={};_0x3e899a[_0x8dfd9c(0x313)]=WS_EVENTS[_0x8dfd9c(0x333)],_0x3e899a['message']=_0x59952e[_0x8dfd9c(0x3ac)],this[_0x8dfd9c(0x3cc)]['sendEventToBackend'](this['rws'],_0x3e899a),logger[_0x8dfd9c(0x27a)](_0x59952e[_0x8dfd9c(0x3ac)]),await this[_0x8dfd9c(0x3ae)]();const _0x18bdba={};_0x18bdba[_0x8dfd9c(0x313)]=WS_EVENTS[_0x8dfd9c(0x333)],_0x18bdba[_0x8dfd9c(0x31b)]=_0x59952e[_0x8dfd9c(0x231)],this[_0x8dfd9c(0x3cc)][_0x8dfd9c(0x252)](this[_0x8dfd9c(0x2f2)],_0x18bdba);}async[a1_0x47cdb9(0x3ae)](){const _0x5a576e=a1_0x47cdb9,_0x3a3f94={};_0x3a3f94[_0x5a576e(0x266)]=function(_0x1de167,_0x414916){return _0x1de167===_0x414916;},_0x3a3f94[_0x5a576e(0x368)]='LSUbG',_0x3a3f94[_0x5a576e(0x383)]=_0x5a576e(0x3c4),_0x3a3f94[_0x5a576e(0x39b)]=_0x5a576e(0x385),_0x3a3f94[_0x5a576e(0x36c)]=_0x5a576e(0x3db),_0x3a3f94['YfnjB']='federatedidentityuploader.json',_0x3a3f94[_0x5a576e(0x221)]=_0x5a576e(0x2a5),_0x3a3f94[_0x5a576e(0x242)]=_0x5a576e(0x3bc),_0x3a3f94['fMOOJ']=_0x5a576e(0x2ce);const _0x4deeea=_0x3a3f94;!this[_0x5a576e(0x336)]&&(_0x4deeea[_0x5a576e(0x266)](_0x4deeea['ACmMr'],_0x4deeea['MzzjH'])?_0xd31aa[_0x5a576e(0x398)]=_0x5e4d81:await this[_0x5a576e(0x286)]());const _0x315151=this[_0x5a576e(0x336)]?.[_0x5a576e(0x1f9)]?.[_0x5a576e(0x346)];let _0x1e00b5=await fs[_0x5a576e(0x3ca)](path[_0x5a576e(0x3bb)](__dirname,'..',_0x4deeea['YiTRd'],_0x4deeea[_0x5a576e(0x36c)],_0x4deeea[_0x5a576e(0x3a4)]),_0x4deeea[_0x5a576e(0x221)]);_0x1e00b5=JSON[_0x5a576e(0x28b)](_0x1e00b5);const _0x13736f={};_0x13736f[_0x5a576e(0x29a)]=_0x315151,await this['resourceClient'][_0x5a576e(0x29d)][_0x5a576e(0x2d6)](global_registry[_0x5a576e(0x23b)],_0x4deeea[_0x5a576e(0x242)],{'properties':{'template':_0x1e00b5,'mode':_0x4deeea['fMOOJ'],'parameters':{'oidcIssuer':_0x13736f,'namespace':{'value':global_registry[_0x5a576e(0x341)]},'clusterName':{'value':this[_0x5a576e(0x276)]}}}});}async[a1_0x47cdb9(0x283)](){const _0x56f807=a1_0x47cdb9,_0x530e23={};_0x530e23[_0x56f807(0x265)]=_0x56f807(0x32e),_0x530e23['CQraA']=function(_0x24369b,_0x58d27c){return _0x24369b===_0x58d27c;},_0x530e23[_0x56f807(0x217)]='mfXie',_0x530e23['yCaLa']=_0x56f807(0x3df),_0x530e23['uoZAN']=_0x56f807(0x22f),_0x530e23['dSGlY']=function(_0x434e12,_0x3e4f67){return _0x434e12===_0x3e4f67;},_0x530e23[_0x56f807(0x39f)]='MfeeT',_0x530e23[_0x56f807(0x2f7)]='vgwpx';const _0x421213=_0x530e23,_0x16f1ad=this[_0x56f807(0x267)](),_0x508e13=new Array();for await(const _0x483405 of this['storageClient']['storageAccounts'][_0x56f807(0x361)](global_registry[_0x56f807(0x23b)])){_0x421213[_0x56f807(0x230)](_0x421213['FdiVR'],_0x421213['yCaLa'])?(_0x34cf38['error'](_0x421213[_0x56f807(0x265)]),_0x3e6f21[_0x56f807(0x2bd)](0x1)):_0x508e13[_0x56f807(0x27b)](_0x483405);}for await(const _0x31c3c1 of _0x508e13){if(_0x421213[_0x56f807(0x230)](_0x421213['uoZAN'],_0x421213['uoZAN'])){if(_0x421213[_0x56f807(0x230)](_0x31c3c1[_0x56f807(0x3a5)],_0x16f1ad))return _0x421213[_0x56f807(0x22a)](_0x421213[_0x56f807(0x39f)],_0x421213[_0x56f807(0x2f7)])?[!![],_0x50e73b]:!![];}else return _0x503498['error'](_0x56f807(0x358)+_0x30e5af+'.\x20Error:\x20'+_0x595aeb),[![],[]];}return![];}async[a1_0x47cdb9(0x386)](){const _0x4e387d=a1_0x47cdb9,_0x241a62={};_0x241a62[_0x4e387d(0x2df)]=function(_0x30d68b,_0x1c4c19){return _0x30d68b!==_0x1c4c19;},_0x241a62[_0x4e387d(0x26b)]='AuTwZ',_0x241a62[_0x4e387d(0x30c)]=function(_0x3bef00,_0x57e387){return _0x3bef00===_0x57e387;},_0x241a62[_0x4e387d(0x347)]=_0x4e387d(0x35b),_0x241a62['orEMI']=function(_0x21523a,_0x22338a){return _0x21523a===_0x22338a;},_0x241a62[_0x4e387d(0x37a)]=_0x4e387d(0x3b6);const _0x52d39d=_0x241a62,_0xcfed9d=new Array();for await(const _0x263167 of this[_0x4e387d(0x3d5)][_0x4e387d(0x229)][_0x4e387d(0x361)](global_registry[_0x4e387d(0x23b)])){if(_0x52d39d[_0x4e387d(0x2df)](_0x52d39d[_0x4e387d(0x26b)],_0x52d39d[_0x4e387d(0x26b)]))return _0x26db93[_0x4e387d(0x398)]('Cannot\x20find\x20VPC\x20'+_0x431e15+_0x4e387d(0x384)+_0x344908),![];else _0xcfed9d[_0x4e387d(0x27b)](_0x263167);}for await(const _0x42b2b9 of _0xcfed9d){if(_0x52d39d['OerRC'](_0x52d39d[_0x4e387d(0x347)],_0x52d39d['MzsVd'])){if(_0x52d39d['orEMI'](_0x42b2b9[_0x4e387d(0x3a5)],_0x4e387d(0x2a3)+this['clusterName'])){if(_0x52d39d['OerRC'](_0x52d39d['OcfWq'],_0x52d39d[_0x4e387d(0x37a)]))return!![];else _0x15721d[_0x4e387d(0x398)]=_0x51a806;}}else return!![];}return![];}async[a1_0x47cdb9(0x357)](_0x1cf7d8,_0x3d39e5=0x3){const _0x570ff5=a1_0x47cdb9,_0xd2cc27={'dGpYe':_0x570ff5(0x24c),'InneZ':function(_0x111960,_0x50d875){return _0x111960===_0x50d875;},'nUjrD':_0x570ff5(0x2bc),'KimxC':_0x570ff5(0x21a),'UZlok':'No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','jlGxT':function(_0x213786,_0x5ba0cd){return _0x213786!==_0x5ba0cd;},'wNMvP':_0x570ff5(0x23d),'TMLwv':_0x570ff5(0x2e7),'BMAqk':function(_0x178b1a,_0x44c736,_0x2220b1){return _0x178b1a(_0x44c736,_0x2220b1);},'zwAmf':_0x570ff5(0x2b9),'qRXdp':function(_0x5ea7f6,_0x3d2022){return _0x5ea7f6!==_0x3d2022;},'KQLxi':_0x570ff5(0x279),'oRbTN':_0x570ff5(0x397),'IzeLt':'iceme','DnQAa':_0x570ff5(0x2b1),'RKshZ':function(_0xf9baec,_0x16a779){return _0xf9baec===_0x16a779;},'HRecV':_0x570ff5(0x2c0),'kwGQk':_0x570ff5(0x2a9),'UOMYI':_0x570ff5(0x3ad),'cZWQo':function(_0x5c4496,_0x31f63b){return _0x5c4496!==_0x31f63b;},'efJuU':_0x570ff5(0x2cc),'tmWks':function(_0x2794d4,_0x4fdc99){return _0x2794d4<=_0x4fdc99;},'RNXHa':function(_0x31f665,_0x22959b){return _0x31f665===_0x22959b;},'NdBuw':_0x570ff5(0x271),'wHRGc':_0x570ff5(0x3b8),'euhiS':function(_0x5d4dad,_0x4705fc){return _0x5d4dad-_0x4705fc;}};try{if(_0xd2cc27[_0x570ff5(0x327)](_0xd2cc27[_0x570ff5(0x3cd)],_0xd2cc27[_0x570ff5(0x3cd)]))throw new _0x196a71(_0xd2cc27[_0x570ff5(0x34c)],_0x570ff5(0x2e9)+_0xdbe4fc['stringify'](_0x30839e));else{const _0x3cc6de=new Array();for await(const _0xab122c of this[_0x570ff5(0x3d5)][_0x570ff5(0x229)]['listByResourceGroup'](global_registry['cloudProviderResourceGroup'])){if(_0xd2cc27['qRXdp'](_0xd2cc27[_0x570ff5(0x2a6)],_0xd2cc27[_0x570ff5(0x2c8)]))_0x3cc6de[_0x570ff5(0x27b)](_0xab122c);else return _0x5e0b5c[_0x570ff5(0x398)](_0x570ff5(0x33e)+_0x33c6ad+':'+_0x3a3f3d[_0x570ff5(0x319)]),{};}let _0x3ab2e7='';for await(const _0x158a02 of _0x3cc6de){_0xd2cc27[_0x570ff5(0x298)](_0xd2cc27['IzeLt'],_0xd2cc27[_0x570ff5(0x207)])?_0xd2cc27[_0x570ff5(0x3aa)](_0x158a02[_0x570ff5(0x3a5)],_0x1cf7d8)&&(_0xd2cc27[_0x570ff5(0x2d4)](_0xd2cc27['HRecV'],_0xd2cc27[_0x570ff5(0x297)])?_0x3fb6c2[_0x570ff5(0x27b)](_0x440d6e):_0x3ab2e7=_0x158a02['id']):_0x3e27ee[_0x570ff5(0x27b)](_0x766c3a);}const _0x5c7d75=await this['resourceClient']['resources']['getById'](_0x3ab2e7,_0xd2cc27[_0x570ff5(0x3a1)]);return _0x5c7d75[_0x570ff5(0x399)]['clientId'];}}catch(_0x94e31c){if(_0xd2cc27[_0x570ff5(0x331)](_0xd2cc27[_0x570ff5(0x2c1)],_0xd2cc27['efJuU'])){if(_0xd2cc27['InneZ'](_0x3ddbf1[_0x570ff5(0x3a5)],_0x570ff5(0x2a3)+this[_0x570ff5(0x276)]))return!![];}else{if(_0xd2cc27[_0x570ff5(0x278)](_0x3d39e5,0x0)){if(_0xd2cc27['RNXHa'](_0xd2cc27['NdBuw'],_0xd2cc27[_0x570ff5(0x352)])){const _0x2aa062=_0x309194[_0x570ff5(0x369)](_0x596dc9);_0xe3b3ae+='\x0a\x09'+_0xd580f+':\x20'+(_0x2aa062?_0xd2cc27[_0x570ff5(0x360)]:_0xd2cc27['KimxC']),!_0x2aa062&&(_0x2a98c4[_0x570ff5(0x2be)]=![]);}else return logger[_0x570ff5(0x398)](_0x570ff5(0x33e)+_0x94e31c+':'+_0x94e31c[_0x570ff5(0x319)]),{};}return await new Promise(_0x2dcb2b=>{const _0x1f5c82=_0x570ff5;if(_0xd2cc27[_0x1f5c82(0x327)](_0xd2cc27[_0x1f5c82(0x247)],_0xd2cc27['TMLwv']))_0xd2cc27[_0x1f5c82(0x293)](setTimeout,()=>_0x2dcb2b(),0x3e8);else return _0x23db70[_0x1f5c82(0x2ad)]=_0xd2cc27[_0x1f5c82(0x328)],_0x71e718;}),this[_0x570ff5(0x357)](_0x1cf7d8,_0xd2cc27['euhiS'](_0x3d39e5,0x1));}}}async[a1_0x47cdb9(0x303)](){const _0x8de033=a1_0x47cdb9,_0x592604={};_0x592604[_0x8de033(0x2f1)]=function(_0x19101e,_0x55e211){return _0x19101e+_0x55e211;},_0x592604['RntNV']=_0x8de033(0x3c8),_0x592604['uzxEY']=function(_0x119e73,_0x360128){return _0x119e73-_0x360128;},_0x592604[_0x8de033(0x255)]=function(_0x403630,_0x5955a5){return _0x403630===_0x5955a5;},_0x592604[_0x8de033(0x36f)]=_0x8de033(0x2fe),_0x592604[_0x8de033(0x3d1)]=_0x8de033(0x296),_0x592604['dSNeT']='BrowserStack',_0x592604[_0x8de033(0x381)]=function(_0x32b653,_0x3b4c81){return _0x32b653!==_0x3b4c81;},_0x592604[_0x8de033(0x2db)]=_0x8de033(0x2c7);const _0x2a26a2=_0x592604;!this[_0x8de033(0x336)]&&(_0x2a26a2['JWkOI'](_0x2a26a2['xjKpn'],_0x2a26a2[_0x8de033(0x36f)])?await this[_0x8de033(0x286)]():_0x4384ce[_0x8de033(0x27b)](_0x9de7d9));const _0x4fa692=this['clusterInfo']?.[_0x8de033(0x30d)]||{};if(_0x4fa692&&_0x2a26a2[_0x8de033(0x255)](_0x4fa692[_0x2a26a2['xfCVh']],_0x2a26a2[_0x8de033(0x314)])){if(_0x2a26a2[_0x8de033(0x381)](_0x2a26a2[_0x8de033(0x2db)],_0x2a26a2[_0x8de033(0x2db)])){const _0x4727df=_0x158c63[_0x8de033(0x3d4)]['split']('-'),_0x49943c=_0x2a26a2['FBFRu'](_0x2a26a2[_0x8de033(0x325)],_0x4727df[_0x2a26a2[_0x8de033(0x2a4)](_0x4727df[_0x8de033(0x3b7)],0x1)])['slice'](0x0,0x18);return _0x49943c['toLowerCase']();}else return!![];}return![];}async[a1_0x47cdb9(0x311)](_0x21a89f,_0x335410){const _0x52a35e=a1_0x47cdb9,_0x4e64e9={'cwTRu':function(_0x24312f,_0xec4883){return _0x24312f(_0xec4883);},'HDQcM':_0x52a35e(0x324)};await _0x4e64e9[_0x52a35e(0x342)](deleteAgent,_0x21a89f),await _0x4e64e9[_0x52a35e(0x342)](deleteRoutingDeps,_0x21a89f);const _0x1f1c26=this[_0x52a35e(0x34d)];logger[_0x52a35e(0x27a)](_0x52a35e(0x240)+this['clusterName']),await _0x1f1c26[_0x52a35e(0x3e2)][_0x52a35e(0x21e)](global_registry[_0x52a35e(0x23b)],this['clusterName']),logger[_0x52a35e(0x27a)](_0x4e64e9['HDQcM']);}async[a1_0x47cdb9(0x20f)](){const _0x336118=a1_0x47cdb9,_0x482fcf={};_0x482fcf[_0x336118(0x220)]=_0x336118(0x2e4),_0x482fcf[_0x336118(0x251)]=function(_0x27c4a0,_0x1dc1e1){return _0x27c4a0+_0x1dc1e1;},_0x482fcf[_0x336118(0x24b)]=function(_0x4f956c,_0x5ed90c){return _0x4f956c===_0x5ed90c;},_0x482fcf['soxOb']=_0x336118(0x215),_0x482fcf['jVqTY']=function(_0x528f3e,_0x3abd30){return _0x528f3e&&_0x3abd30;},_0x482fcf[_0x336118(0x254)]=function(_0x5a5f92,_0x1759b5){return _0x5a5f92!==_0x1759b5;},_0x482fcf[_0x336118(0x354)]=_0x336118(0x367),_0x482fcf[_0x336118(0x39e)]='Dmklg',_0x482fcf[_0x336118(0x382)]=function(_0x1a86c5,_0x1d0c66){return _0x1a86c5===_0x1d0c66;},_0x482fcf[_0x336118(0x329)]=_0x336118(0x2ae),_0x482fcf[_0x336118(0x2c3)]='Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster',_0x482fcf[_0x336118(0x35c)]=function(_0x59d516,_0x327e85){return _0x59d516!==_0x327e85;},_0x482fcf[_0x336118(0x275)]=_0x336118(0x25e),_0x482fcf['FnDzL']=_0x336118(0x2d1),_0x482fcf[_0x336118(0x23a)]=function(_0x29fabd,_0x28086e){return _0x29fabd===_0x28086e;},_0x482fcf[_0x336118(0x392)]=_0x336118(0x2a8),_0x482fcf['CPGan']='csGHS',_0x482fcf[_0x336118(0x2da)]=_0x336118(0x2a2);const _0x4b515e=_0x482fcf;!this[_0x336118(0x336)]&&(_0x4b515e[_0x336118(0x24b)](_0x4b515e[_0x336118(0x26c)],_0x4b515e[_0x336118(0x26c)])?await this[_0x336118(0x286)]():_0x4ba4db=_0x4b9489['id']);const _0x4a20e2=this['clusterInfo'],_0x22d646=this[_0x336118(0x336)]?.['oidcIssuerProfile']?.[_0x336118(0x366)]||![],_0xe8ff1=this[_0x336118(0x336)]?.[_0x336118(0x218)]?.[_0x336118(0x2fc)]?.[_0x336118(0x366)]||![],_0x5c9ab6=!this['clusterInfo']?.[_0x336118(0x387)]||![];if(_0x4b515e['jVqTY'](_0x22d646,_0xe8ff1)&&_0x5c9ab6){if(_0x4b515e['mgbnb'](_0x4b515e['YmnnD'],_0x4b515e['TcFEk']))return;else return _0x3716aa[_0x336118(0x398)]=_0x3caa02[_0x336118(0x398)],_0x39aa52;}if(!_0x22d646){if(_0x4b515e[_0x336118(0x382)](_0x4b515e[_0x336118(0x329)],_0x4b515e[_0x336118(0x329)])){logger['info'](_0x4b515e[_0x336118(0x2c3)]);const _0x2e19fa={};_0x2e19fa[_0x336118(0x313)]=WS_EVENTS[_0x336118(0x258)],_0x2e19fa[_0x336118(0x31b)]=_0x4b515e[_0x336118(0x2c3)],this['webSocketUtils'][_0x336118(0x252)](this[_0x336118(0x2f2)],_0x2e19fa),_0x4a20e2[_0x336118(0x1f9)][_0x336118(0x366)]=!![];}else return;}if(!_0xe8ff1){if(_0x4b515e[_0x336118(0x35c)](_0x4b515e[_0x336118(0x275)],_0x4b515e[_0x336118(0x275)])){const _0x3f2c31=_0x4b515e[_0x336118(0x220)]['split']('|');let _0x174fab=0x0;while(!![]){switch(_0x3f2c31[_0x174fab++]){case'0':_0x5a2339['cloudProviderClientSecret']=_0x18b92a[this[_0x336118(0x38a)]][_0x336118(0x3ab)];continue;case'1':_0x53f872[_0x336118(0x23b)]=_0x464e60[this[_0x336118(0x38a)]][_0x336118(0x39a)];continue;case'2':_0x2669c3[_0x336118(0x285)]=_0x33fea0[this[_0x336118(0x38a)]][_0x336118(0x3be)];continue;case'3':this[_0x336118(0x29c)]();continue;case'4':_0x3eacf4[_0x336118(0x3af)]=_0x2d151d[this[_0x336118(0x38a)]][_0x336118(0x233)];continue;case'5':_0x44b394[_0x336118(0x3cb)]=_0x5cc01f[this['cloudProviderName']][_0x336118(0x3b2)];continue;}break;}}else{logger[_0x336118(0x27a)](_0x4b515e[_0x336118(0x3d0)]);const _0x5e6a43={};_0x5e6a43['type']=WS_EVENTS['RESOURCES'],_0x5e6a43['message']=_0x4b515e[_0x336118(0x3d0)],this[_0x336118(0x3cc)]['sendEventToBackend'](this['rws'],_0x5e6a43);const _0x47ed86={};_0x47ed86[_0x336118(0x366)]=!![],_0x4a20e2[_0x336118(0x218)]={'workloadIdentity':_0x47ed86,..._0x4a20e2['securityProfile']};}}if(!_0x5c9ab6){if(_0x4b515e[_0x336118(0x23a)](_0x4b515e[_0x336118(0x392)],_0x4b515e[_0x336118(0x248)]))_0x1b2c0c['log']('['+_0x4b515e['zKYPm'](_0x315956,0x1)+']\x20'+_0x11513f[_0x5681c1]);else{logger[_0x336118(0x27a)](_0x4b515e[_0x336118(0x2da)]);const _0x1af0f6={};_0x1af0f6['type']=WS_EVENTS['RESOURCES'],_0x1af0f6[_0x336118(0x31b)]=_0x4b515e['kobMk'],this[_0x336118(0x3cc)][_0x336118(0x252)](this[_0x336118(0x2f2)],_0x1af0f6),_0x4a20e2['disableLocalAccounts']=![];}}await this[_0x336118(0x34d)]['managedClusters'][_0x336118(0x2d6)](global_registry['cloudProviderResourceGroup'],this['clusterName'],_0x4a20e2),await this[_0x336118(0x286)]();}async[a1_0x47cdb9(0x25b)](){const _0x4eb6a9=a1_0x47cdb9,_0x60fc40={};_0x60fc40[_0x4eb6a9(0x3de)]=_0x4eb6a9(0x2a2),_0x60fc40[_0x4eb6a9(0x2ba)]=function(_0x158aef,_0x490e22){return _0x158aef===_0x490e22;},_0x60fc40[_0x4eb6a9(0x33f)]='NgoIl',_0x60fc40[_0x4eb6a9(0x2f6)]=_0x4eb6a9(0x2dc);const _0x2abe4b=_0x60fc40,_0x514b60=await this[_0x4eb6a9(0x391)][_0x4eb6a9(0x3b4)][_0x4eb6a9(0x389)](global_registry['cloudProviderResourceGroup']),_0x29fd8f={};_0x29fd8f[_0x4eb6a9(0x239)]=global_registry[_0x4eb6a9(0x250)],_0x29fd8f[_0x4eb6a9(0x28d)]=global_registry[_0x4eb6a9(0x3a9)],_0x29fd8f['cloudProvider']=AZURE,_0x29fd8f[_0x4eb6a9(0x3c3)]=[];const _0x2e96dc=_0x29fd8f;for await(const _0x25daf4 of _0x514b60){if(_0x2abe4b[_0x4eb6a9(0x2ba)](_0x2abe4b['oBteW'],_0x2abe4b[_0x4eb6a9(0x2f6)])){_0x1bfeb3[_0x4eb6a9(0x27a)](_0x2abe4b[_0x4eb6a9(0x3de)]);const _0x38da02={};_0x38da02['type']=_0x20735c[_0x4eb6a9(0x258)],_0x38da02['message']=_0x2abe4b['vFrtB'],this[_0x4eb6a9(0x3cc)][_0x4eb6a9(0x252)](this[_0x4eb6a9(0x2f2)],_0x38da02),_0x738f90[_0x4eb6a9(0x387)]=![];}else _0x2e96dc[_0x4eb6a9(0x3c3)]['push'](_0x25daf4);}const _0xd50d00={};_0xd50d00[_0x4eb6a9(0x313)]=WS_EVENTS[_0x4eb6a9(0x258)],_0xd50d00[_0x4eb6a9(0x31b)]=_0x2e96dc,this['webSocketUtils'][_0x4eb6a9(0x252)](this[_0x4eb6a9(0x2f2)],_0xd50d00);}async[a1_0x47cdb9(0x2a1)](_0x72fe88){const _0x4cd63e=a1_0x47cdb9,_0x375d68={'PpeNv':_0x4cd63e(0x32e),'JpjBC':function(_0x15fd51,_0x38ba41,_0x44c1b6){return _0x15fd51(_0x38ba41,_0x44c1b6);},'gudVG':_0x4cd63e(0x2f8),'yFtkq':function(_0x81b848,_0x4c8c9e){return _0x81b848===_0x4c8c9e;},'kvPuF':'MMvnw','fiHYe':_0x4cd63e(0x1fa),'tEQnR':function(_0x558f7b,_0x230751){return _0x558f7b!==_0x230751;},'ueCSx':'UBTwH','KXYon':_0x4cd63e(0x335),'uIQQQ':_0x4cd63e(0x2e3),'AVRwf':_0x4cd63e(0x318),'xiQQi':_0x4cd63e(0x277)};try{if(_0x375d68[_0x4cd63e(0x30a)](_0x375d68['kvPuF'],_0x375d68[_0x4cd63e(0x33c)]))_0x78d8cb['error'](_0x375d68[_0x4cd63e(0x213)]),_0x4de23e[_0x4cd63e(0x2bd)](0x1);else{const _0x50ad16=await this[_0x4cd63e(0x391)][_0x4cd63e(0x3b4)][_0x4cd63e(0x389)](global_registry[_0x4cd63e(0x23b)]);for await(const _0xe40402 of _0x50ad16){if(_0x375d68[_0x4cd63e(0x312)](_0x375d68[_0x4cd63e(0x238)],_0x375d68[_0x4cd63e(0x238)]))_0x375d68[_0x4cd63e(0x201)](_0x9b1ff1,()=>_0x265454(),0x3e8);else{if(_0x375d68[_0x4cd63e(0x30a)](_0xe40402['name'],_0x72fe88)){if(_0x375d68[_0x4cd63e(0x30a)](_0x375d68[_0x4cd63e(0x36a)],_0x375d68['uIQQQ']))_0x500868[_0x4cd63e(0x27a)](_0x375d68[_0x4cd63e(0x37d)]);else return!![];}}}}}catch(_0x4d4b2d){return _0x375d68[_0x4cd63e(0x30a)](_0x375d68[_0x4cd63e(0x3a6)],_0x375d68[_0x4cd63e(0x32d)])?_0x2e4452[_0x4cd63e(0x2be)][_0x4cd63e(0x235)][_0x4cd63e(0x30b)][0x0][_0x4cd63e(0x28f)]:(logger[_0x4cd63e(0x398)]('Cannot\x20find\x20VPC\x20'+_0x72fe88+'.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20'+_0x4d4b2d),![]);}return![];}async[a1_0x47cdb9(0x2f4)](_0x510b72,_0x72df29){const _0x4692f5=a1_0x47cdb9,_0x3659e7={};_0x3659e7[_0x4692f5(0x31e)]=_0x4692f5(0x299),_0x3659e7['fbeEM']=function(_0x1a82e4,_0x53551b){return _0x1a82e4===_0x53551b;},_0x3659e7[_0x4692f5(0x2de)]=_0x4692f5(0x200),_0x3659e7['QalVx']=function(_0x3d6487,_0xc94110){return _0x3d6487!==_0xc94110;},_0x3659e7['Nxxpz']='MNBTV',_0x3659e7['WXFYv']=_0x4692f5(0x3a8);const _0x29b581=_0x3659e7;try{if(_0x29b581[_0x4692f5(0x308)](_0x29b581[_0x4692f5(0x2de)],_0x29b581['UKEyk'])){const _0x5da700=await this['networkClient']['subnets'][_0x4692f5(0x2d7)](global_registry['cloudProviderResourceGroup'],_0x72df29,_0x510b72[0x0]);if(_0x29b581[_0x4692f5(0x308)](_0x510b72[0x0],_0x5da700[_0x4692f5(0x3a5)])){if(_0x29b581['QalVx'](_0x29b581[_0x4692f5(0x249)],_0x29b581[_0x4692f5(0x323)]))return[!![],_0x510b72];else _0x112f0e['push'](_0x57ab39);}}else{const _0x373706={};_0x373706[_0x4692f5(0x2be)]=!![],_0x373706['error']=null,_0x373706[_0x4692f5(0x2ad)]=_0x29b581[_0x4692f5(0x31e)];const _0x270ece=_0x373706;return _0x270ece;}}catch(_0x21ebf5){return logger['error'](_0x4692f5(0x358)+_0x510b72+_0x4692f5(0x26d)+_0x21ebf5),[![],[]];}return[![],[]];}async[a1_0x47cdb9(0x2b4)](){const _0xf2dec8=a1_0x47cdb9,_0x4c0062={};_0x4c0062['imQrE']='No\x20CLI\x20tool\x20required';const _0x13460e=_0x4c0062,_0x3cf834={};_0x3cf834[_0xf2dec8(0x2be)]=!![],_0x3cf834[_0xf2dec8(0x398)]=null,_0x3cf834[_0xf2dec8(0x2ad)]=_0x13460e['imQrE'];const _0x14a701=_0x3cf834;return _0x14a701;}async[a1_0x47cdb9(0x260)](){const _0x1734ca=a1_0x47cdb9,_0x4c8748={};_0x4c8748['hGnpC']=_0x1734ca(0x37b),_0x4c8748[_0x1734ca(0x31f)]='GET',_0x4c8748[_0x1734ca(0x28a)]=_0x1734ca(0x31a);const _0x5b9970=_0x4c8748,_0x25d417=await this[_0x1734ca(0x26e)][_0x1734ca(0x20d)](_0x5b9970[_0x1734ca(0x34f)]),_0x573922={};_0x573922[_0x1734ca(0x320)]=_0x5b9970[_0x1734ca(0x31f)],_0x573922[_0x1734ca(0x20e)]={},_0x573922[_0x1734ca(0x20e)][_0x1734ca(0x356)]=_0x1734ca(0x29b)+_0x25d417[_0x1734ca(0x203)],_0x573922[_0x1734ca(0x20e)][_0x1734ca(0x2c2)]=_0x5b9970[_0x1734ca(0x28a)];const _0x216059=_0x573922;return _0x216059;}async[a1_0x47cdb9(0x379)](_0x4faa11){const _0x37aaf7=a1_0x47cdb9,_0x59752d={'yPgQu':function(_0x1a41f4,_0x478594,_0x449d48){return _0x1a41f4(_0x478594,_0x449d48);},'mbHyk':function(_0x38ee34,_0x263729){return _0x38ee34===_0x263729;},'PWqSw':_0x37aaf7(0x24c)},_0x520b5e={};_0x520b5e[_0x37aaf7(0x301)]='',_0x520b5e['error']=null;const _0x491549=_0x520b5e;try{const _0x3bff4e=_0x37aaf7(0x388)+_0x4faa11+'\x27',_0x4f8785=await this[_0x37aaf7(0x260)](),_0x419d14=await _0x59752d[_0x37aaf7(0x2ec)](fetch,_0x3bff4e,_0x4f8785),_0x4da8ca=await _0x419d14[_0x37aaf7(0x25c)]();if(!_0x4da8ca[_0x37aaf7(0x29a)]||_0x59752d[_0x37aaf7(0x37f)](_0x4da8ca[_0x37aaf7(0x29a)][_0x37aaf7(0x3b7)],0x0))throw new Error(_0x59752d[_0x37aaf7(0x2e1)],'Received\x20response\x20-\x20'+JSON[_0x37aaf7(0x340)](_0x4da8ca));_0x491549['principalId']=_0x4da8ca[_0x37aaf7(0x29a)][0x0]['id'];}catch(_0x1bf388){_0x491549[_0x37aaf7(0x398)]=_0x1bf388;}return _0x491549;}async[a1_0x47cdb9(0x322)](){const _0x32fcf7=a1_0x47cdb9,_0x4e4be1={};_0x4e4be1[_0x32fcf7(0x216)]='allowed',_0x4e4be1['qLbLL']=_0x32fcf7(0x21a),_0x4e4be1[_0x32fcf7(0x253)]=function(_0x3ab354,_0x15bdcd){return _0x3ab354!==_0x15bdcd;},_0x4e4be1['ZrzQI']=function(_0x2141d0,_0x356378){return _0x2141d0===_0x356378;},_0x4e4be1[_0x32fcf7(0x3d9)]=_0x32fcf7(0x2e2),_0x4e4be1['Ruigq']=function(_0x569da6,_0x358982){return _0x569da6===_0x358982;},_0x4e4be1[_0x32fcf7(0x20b)]='No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles',_0x4e4be1[_0x32fcf7(0x2ca)]=function(_0x5103a1,_0x37f2e2){return _0x5103a1===_0x37f2e2;},_0x4e4be1[_0x32fcf7(0x3e0)]=function(_0x3128c7,_0x1a787e){return _0x3128c7===_0x1a787e;},_0x4e4be1[_0x32fcf7(0x1ee)]='Action\x20permission\x20list\x20is\x20empty\x0a';const _0x25526d=_0x4e4be1,_0xd9c357={};_0xd9c357['status']=![],_0xd9c357['error']=null,_0xd9c357[_0x32fcf7(0x2ad)]='';const _0xbaa0db=_0xd9c357;try{let _0x38701b='';const _0x6a2983='subscriptions/'+global_registry[_0x32fcf7(0x285)]+_0x32fcf7(0x3c0)+global_registry[_0x32fcf7(0x23b)],_0x55dc82=await this[_0x32fcf7(0x379)](global_registry[_0x32fcf7(0x3af)]);if(_0x25526d[_0x32fcf7(0x253)](_0x55dc82[_0x32fcf7(0x398)],null))return _0xbaa0db[_0x32fcf7(0x398)]=_0x55dc82[_0x32fcf7(0x398)],_0xbaa0db;const _0x11e63c=_0x32fcf7(0x2ef)+_0x55dc82[_0x32fcf7(0x301)]+'\x27)',_0x2332bc={};_0x2332bc[_0x32fcf7(0x395)]=_0x11e63c;const _0x4fb64b=await this['authClient'][_0x32fcf7(0x343)]['listForScope'](_0x6a2983,_0x2332bc),_0x3aaa14=[];for await(const _0x272a81 of _0x4fb64b){_0x3aaa14['push'](_0x272a81);}if(_0x25526d[_0x32fcf7(0x2e5)](_0x3aaa14['length'],0x0))return _0xbaa0db[_0x32fcf7(0x2ad)]=_0x25526d[_0x32fcf7(0x3d9)],_0xbaa0db;const _0x790997=[...new Set(_0x3aaa14['map'](_0x51b558=>_0x51b558[_0x32fcf7(0x2f3)]))];if(_0x25526d[_0x32fcf7(0x2af)](_0x790997[_0x32fcf7(0x3b7)],0x0))return _0xbaa0db[_0x32fcf7(0x2ad)]=_0x25526d[_0x32fcf7(0x20b)],_0xbaa0db;const _0x3f78ef=[],_0xbba48f=[];for(const _0x45b28c of _0x790997){const _0x254ced=await this['authClient'][_0x32fcf7(0x35a)][_0x32fcf7(0x214)](_0x45b28c);logger[_0x32fcf7(0x3bd)]('role\x20name\x20attached\x20-\x20'+_0x254ced[_0x32fcf7(0x3b0)]),_0x3f78ef['push'](_0x254ced),logger[_0x32fcf7(0x3bd)]('Attached\x20permissions\x20:\x20'+JSON[_0x32fcf7(0x340)](_0x254ced['permissions'])),_0x254ced[_0x32fcf7(0x3c2)][_0x32fcf7(0x362)](_0x556d22=>{const _0x4f9528=_0x32fcf7;_0xbba48f[_0x4f9528(0x27b)](..._0x556d22[_0x4f9528(0x21b)]);});}logger['debug'](_0x32fcf7(0x28e)+JSON[_0x32fcf7(0x340)](_0xbba48f)),_0x25526d[_0x32fcf7(0x2ca)](_0xbba48f[_0x32fcf7(0x3b7)],0x0)&&(_0x38701b+=_0x25526d[_0x32fcf7(0x3e0)](_0xbba48f[_0x32fcf7(0x3b7)],0x0)?_0x25526d[_0x32fcf7(0x1ee)]:'',logger['debug'](_0x32fcf7(0x25f)+JSON[_0x32fcf7(0x340)](_0x3f78ef))),_0xbaa0db[_0x32fcf7(0x2be)]=!![],Object[_0x32fcf7(0x2fd)](PERMISSIONS[_0x32fcf7(0x1f8)])[_0x32fcf7(0x362)](([_0xa2c9af,_0x5844d9])=>{const _0x4b832d=_0x32fcf7,_0x2461a6=_0xbba48f[_0x4b832d(0x369)](_0xa2c9af);_0x38701b+='\x0a\x09'+_0x5844d9+':\x20'+(_0x2461a6?_0x25526d[_0x4b832d(0x216)]:_0x25526d[_0x4b832d(0x264)]),!_0x2461a6&&(_0xbaa0db[_0x4b832d(0x2be)]=![]);}),_0xbaa0db['data']=_0x38701b;}catch(_0x51d51c){_0xbaa0db[_0x32fcf7(0x398)]=_0x51d51c;}return _0xbaa0db;}}function a1_0x5894(_0xca9e15,_0x43be64){const _0xad4d5=a1_0xad4d();return a1_0x5894=function(_0x5894c3,_0x7cc155){_0x5894c3=_0x5894c3-0x1ec;let _0x3582cc=_0xad4d5[_0x5894c3];return _0x3582cc;},a1_0x5894(_0xca9e15,_0x43be64);}const a1_0x3fbc8b={};a1_0x3fbc8b['AzureCloudProvider']=AzureCloudProvider,module[a1_0x47cdb9(0x302)]=a1_0x3fbc8b;