const a1_0x593c6f=a1_0x51d1;(function(_0x595666,_0x4df97d){const _0x26fb1b=a1_0x51d1,_0x339154=_0x595666();while(!![]){try{const _0x4bdfe8=parseInt(_0x26fb1b(0x2be))/0x1+-parseInt(_0x26fb1b(0x2cc))/0x2*(parseInt(_0x26fb1b(0x249))/0x3)+parseInt(_0x26fb1b(0x1ca))/0x4+parseInt(_0x26fb1b(0x35f))/0x5*(parseInt(_0x26fb1b(0x1dd))/0x6)+-parseInt(_0x26fb1b(0x2bd))/0x7+-parseInt(_0x26fb1b(0x356))/0x8*(parseInt(_0x26fb1b(0x390))/0x9)+-parseInt(_0x26fb1b(0x2c5))/0xa*(-parseInt(_0x26fb1b(0x1bd))/0xb);if(_0x4bdfe8===_0x4df97d)break;else _0x339154['push'](_0x339154['shift']());}catch(_0x3d6785){_0x339154['push'](_0x339154['shift']());}}}(a1_0x1ebc,0xa588d));function a1_0x1ebc(){const _0x193ab5=['virtualNetworks','Xznsz','FBHpS','role\x20name\x20attached\x20-\x20','AulRK','resourceClient','deleteCluster','Found\x20only\x20one\x20resource\x20group:\x20','taqaW','\x20CLIENT\x20SECRET:\x20','string','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','yRgec','RzHlt','No\x20attached\x20role\x20for\x20the\x20client\x20key','bxCuD','eaPDR','5|3|0|2|1|4','bcPET','VanVj','2|1|5|3|4|0|6|7','WtNOS','Cadjn','IIpFS','kOzhy','push','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','LOG','XvRYE','kbLXv','getById','fNUqU','hlHHH','ASevY','xcpEG','setCachedCredsInRegistry','ACgzP','RgGtq','Bearer\x20','TNtOI','IYlrI','QhAYZ','isStorageAccountPresent','BrowserStack','SUwfU','zbLlq','ldZOS','method','CLTIQ','WsfEV','readFileAsync','resources','delete','ovJlo','nObwq','stack','OVuvT','clusterInfo','GuVHU','listAll','AItrZ','join','webSocketUtils','cLWec','aspeS','status','baseBlob','TcEsp','tags','yMpxH','variables','\x20TENANT\x20ID:\x20','[variables(\x27vnetSubnetID\x27)]','OtDYV','isManagedIdentityPresent','GYQCO','PhKmO','AqFQP','GndOd','kvtLa','cred','sendAzureInfoToHST','getPrincipalIdFromClientId','PvrVZ','Action\x20permission\x20list\x20is\x20empty\x0a','sZZfZ','name','ATVRi','resourceGroups','oHlqB','HOnBE','beginCreateOrUpdateAndWait','./CloudProvider','@azure/arm-resources','QWtXe','cloudProvider','ERYKT','ropVr','tKsrd','tramt','tHAGn','XKNJm','asnRe','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','s3Bucket','WXRKY','cDAIw','nEqwr','vdxDc','IwUsM','HQQya','subscriptionId','1608Vpbbto','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','ckvjN','hubHaNameSpace','permissions','EURrf','type','YnKnY','OevpX','3331165zjruFi','No\x20CLI\x20tool\x20required','nvZOP','cAzTV','ucwLp','tUkPM','zcUGG','toString','iPZLU','zSsqA','policy','lFLlr','JSfbP','fxILu','createFederatedAccountForHubHA','ThpWT','TnJov','turboscale','sexqt','nYqfg','workloadIdentity','AIHLn','../utils/gridComponents','debug','AHfez','GtEgs','issuerURL','CvyuF','listByResourceGroup','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','gVbhA','AzureCloudProvider','clusterName','BcBPP','SIhgB','vzZei','getResourceGroups','ogIFA','getUserInput','Enabling\x20Local\x20account\x20for\x20the\x20cluster','mHKxW','QRUpf','accessKey','data','headers','CVzOY','ANxTC','oidcIssuerProfile','enabled','58005VgTuVN','turboscale-cluster-deployment','NVUWc','bkWDQ','xOxNx','tOPzL','2023-01-31','json','FrwWs','HLMuD','definition','map','KWiKA','RESOURCES','FqZfM','updateClusterAlreadyPresent','yyhMj','actions','federatedidentity','hbJTZ','DVjWI','@azure/identity','turboscale-managed-identity-','WAors','ajWTG','disableLocalAccounts','daysAfterCreationGreaterThan','qOkzm','tuCQP','kOtag','XyNzT','OZQXE','actionPermission\x20:\x20','cloudProviderClientId','deployments','tWUlr','xKtjv','JAUDl','44brFpxl','cloudProviderResourceGroup','MWrGN','.\x20Error:\x20','storageClient','EThQm','RlqmT','hub','info','qrClf','fcpBd','yNNke','vSDME','4605648GdeaXC','setupNewCluster','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','QYsnW','RBOvs','jfvvp','EhvjM','bOSba','rGMAb','zbWNa','xgKfn','UNhQK','UjqtU','hostname','listClusterAdminCredentials','LfrPk','OTEvJ','MPSoO','length','6UKcXGV','UESnG','JoKsw','WZOSL','NRBrt','setupHubHa','LocFf','SHveN','exrUY','userInstanceType','NKmjo','RUaXg','@azure/arm-network','denied','gASaY','filter','QLUFs','loadBalancer','xwJVH','tRhqO','GhoDD','iRARF','YkTpO','ALVGY','Blob\x20delete\x20lifecycle','nsntW','xnUNM','isBrowserstackCluster','sbZUQ','storageAccounts','rws','ETlAB','Incremental','jxkMY','xMjKT','hubharesources','Creating\x20Azure\x20managed\x20identity','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','OaHxt','zhAuB','JEBUZ','HdazA','\x20CLIENT\x20ID:\x20','Opiln','kWrue','nGZWv','pgxwF','pmIYD','kyBbx','description','KnoQQ','utf-8','slice','WytBr','DDOOT','GNcUy','HpQXn','gIqXB','value','default','securityProfile','federatedidentityuploader.json','eVsPp','location','UEKVZ','XUHRX','mXKKB','@azure/arm-authorization','BSEAb','iCtpg','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','managedClusters','dnwtN','token','managedidentity.json','uSdXT','setClients','phrcG','bnOIp','getHeader','split','../permissions/AZURE.json','qrhqA','metadata','zYZVB','KekSn','parse','stringify','containerClient','DcZDA','odhMD','Deleted\x20the\x20cluster\x20successfully','properties','oFzVK','init','clientSecret','vUgRD','false','OQvJs','parameters','toLowerCase','Received\x20response\x20-\x20','bSsqa','FKFyZ','getClusterInfo','fPBqW','jatTw','../config/logger','12PUvnkS','sendEventToBackend','getGridHostname','\x20RESOURCE\x20GROUP:\x20','principalId','ZdoSx','vkZTc','gWnXf','tenantId','QcGnc','NNWTZ','node','hHhbC','VxYtE','Content-Type','xeNzp','HKgLY','networkClient','blockBlob','cloudProviderName','uXMLg','sSGnk','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','FpDjg','GnOnh','gridName','Ienul','velWD','cloudProviderTenantId','username','dKwSP','tolQx','iWccz','xFsGy','GuoMK','cxwRX','forEach','jxQhf','message','ingress','lMCih','WCInE','Managed\x20identity\x20already\x20exists,\x20skipping','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','clientId','isVPCPresent','@azure/arm-containerservice','sSsZo','resourceGroup','dxKIn','sgaZK','MDfLg','iNpZl','js-yaml','XlANP','error','Vcojb','subnets','VFmBR','WnDil','bstackAccesskey','kubeconfigs','authClient','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','azureresources','clusterAutoUpgrade','pNkxF','kLVpD','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','filters','yGUPX','dhPLf','exit','DKmrg','cfLQf','createFederatedAccount','getToken','Fhixu','No\x20service\x20principal\x20found','NKovO','vGtUl','wNObJ','beginDeleteAndWait','vtyNu','vnetSubnetID','HJeOe','LzspJ','OPBJl','VTNou','clusterRegion','includes','OeKKP','tSpAE','KSCBk','BOKwn','jbVsp','WOyyj','templates','isCliToolInstalled','AKAwa','LzLUH','akscluster.json','cloudProviderClientSecret','BBzwX','userMaxNodes','cloudProviderSubscriptionId','JXPXl','rules','iKqBI','Creating\x20Azure\x20federated\x20identity','HptsL','GaKRj','SjhMA','Deleting\x20the\x20cluster\x20','agentPoolProfiles','dtkDS','2963457vkacuq','250248iJNZNA','kxJaA','vpcName','gwiiB','jubLl','szXPd','createManagedIdentity','1051060aEWQGp','KxZvO','Escpc','https://graph.microsoft.com/.default','createCluster','vpcInfo','@azure/arm-storage','45746yWuzVd','Authorization','zjYKS','fIpdL','instanceType','getResourceClientId','Cannot\x20find\x20subnets\x20','raKCd','hApST','rMIde','createOtherResources','xwnhb','tajob','JQIXM','MKkDw','get','wDgRL','Storage\x20account\x20already\x20exists,\x20skipping','WfJvq','LNckV','managementPolicies','list','vVvAT','lRuPE','vxnQl','isClusterPresent'];a1_0x1ebc=function(){return _0x193ab5;};return a1_0x1ebc();}const fs=require('fs'),path=require('path'),yaml=require(a1_0x593c6f(0x27e)),{logger}=require(a1_0x593c6f(0x248)),{CloudProvider}=require(a1_0x593c6f(0x342)),{deleteRoutingDeps,deleteAgent}=require(a1_0x593c6f(0x375)),{AZURE,WS_EVENTS,global_registry}=require('../config/constants'),PERMISSIONS=require(a1_0x593c6f(0x22e)),{ClientSecretCredential}=require(a1_0x593c6f(0x1ac)),{NetworkManagementClient}=require(a1_0x593c6f(0x1e9)),{StorageManagementClient}=require(a1_0x593c6f(0x2cb)),{AuthorizationManagementClient}=require(a1_0x593c6f(0x220)),{ResourceManagementClient}=require(a1_0x593c6f(0x343)),{ContainerServiceClient}=require(a1_0x593c6f(0x277)),{runCommand}=require('../utils/utilityMethods');function a1_0x51d1(_0x274bd8,_0x8d456d){const _0x1ebcde=a1_0x1ebc();return a1_0x51d1=function(_0x51d1d4,_0x46517f){_0x51d1d4=_0x51d1d4-0x19e;let _0x1b9481=_0x1ebcde[_0x51d1d4];return _0x1b9481;},a1_0x51d1(_0x274bd8,_0x8d456d);}class AzureCloudProvider extends CloudProvider{constructor(_0x5832c0,_0xf2cd2c,_0x40285c,_0xa0b0e2){const _0xf4caf9=a1_0x593c6f,_0x2ba2e3={};_0x2ba2e3['TcEsp']=_0xf4caf9(0x2fa);const _0x28fd2f=_0x2ba2e3,_0x28fa53=_0x28fd2f[_0xf4caf9(0x329)][_0xf4caf9(0x22d)]('|');let _0x32cdc3=0x0;while(!![]){switch(_0x28fa53[_0x32cdc3++]){case'0':this[_0xf4caf9(0x2eb)]=null;continue;case'1':this[_0xf4caf9(0x336)]=null;continue;case'2':super(AZURE,_0x5832c0,_0xf2cd2c,_0x40285c,_0xa0b0e2);continue;case'3':this[_0xf4caf9(0x235)]=null;continue;case'4':this[_0xf4caf9(0x1c1)]=null;continue;case'5':this[_0xf4caf9(0x31f)]=null;continue;case'6':this[_0xf4caf9(0x25a)]=null;continue;case'7':this[_0xf4caf9(0x287)]=null;continue;}break;}}async[a1_0x593c6f(0x23b)](){const _0x1ffc39=a1_0x593c6f;return await super[_0x1ffc39(0x23b)](),this;}['setClients'](){const _0x62392=a1_0x593c6f,_0x772ad2=new ClientSecretCredential(global_registry[_0x62392(0x265)],global_registry[_0x62392(0x1b8)],global_registry[_0x62392(0x2af)]);this[_0x62392(0x235)]=new ContainerServiceClient(_0x772ad2,global_registry[_0x62392(0x2b2)]),this['storageClient']=new StorageManagementClient(_0x772ad2,global_registry[_0x62392(0x2b2)]),this[_0x62392(0x2eb)]=new ResourceManagementClient(_0x772ad2,global_registry[_0x62392(0x2b2)]),this['networkClient']=new NetworkManagementClient(_0x772ad2,global_registry['cloudProviderSubscriptionId']),this[_0x62392(0x287)]=new AuthorizationManagementClient(_0x772ad2,global_registry['cloudProviderSubscriptionId']),this[_0x62392(0x336)]=_0x772ad2;}['getStorageAccountName'](){const _0x39ac9e=a1_0x593c6f,_0x459126={};_0x459126[_0x39ac9e(0x393)]=function(_0x4904c3,_0x196a31){return _0x4904c3+_0x196a31;},_0x459126[_0x39ac9e(0x206)]='turboscale',_0x459126[_0x39ac9e(0x214)]=function(_0x58369e,_0x207773){return _0x58369e-_0x207773;};const _0x29dacc=_0x459126,_0x134ae9=global_registry[_0x39ac9e(0x34e)][_0x39ac9e(0x22d)]('-'),_0x5da7b8=_0x29dacc[_0x39ac9e(0x393)](_0x29dacc['HdazA'],_0x134ae9[_0x29dacc[_0x39ac9e(0x214)](_0x134ae9[_0x39ac9e(0x1dc)],0x1)])['slice'](0x0,0x18);return _0x5da7b8[_0x39ac9e(0x241)]();}[a1_0x593c6f(0x309)](_0x58a8b3){const _0x788291=a1_0x593c6f,_0x247704={};_0x247704[_0x788291(0x237)]=_0x788291(0x2f7);const _0x19a4f9=_0x247704,_0x22cc8d=_0x19a4f9[_0x788291(0x237)][_0x788291(0x22d)]('|');let _0x394db9=0x0;while(!![]){switch(_0x22cc8d[_0x394db9++]){case'0':global_registry[_0x788291(0x265)]=_0x58a8b3[this['cloudProviderName']][_0x788291(0x251)];continue;case'1':global_registry[_0x788291(0x1be)]=_0x58a8b3[this['cloudProviderName']]['resourceGroup'];continue;case'2':global_registry['cloudProviderSubscriptionId']=_0x58a8b3[this[_0x788291(0x25c)]]['subscriptionId'];continue;case'3':global_registry['cloudProviderClientSecret']=_0x58a8b3[this[_0x788291(0x25c)]][_0x788291(0x23c)];continue;case'4':this['setClients']();continue;case'5':global_registry[_0x788291(0x1b8)]=_0x58a8b3[this[_0x788291(0x25c)]][_0x788291(0x275)];continue;}break;}}async[a1_0x593c6f(0x385)](_0x20be48,_0x512a4e){const _0x162187=a1_0x593c6f,_0x3efdb0={'LNckV':function(_0xc934ab,_0xf3e2eb){return _0xc934ab+_0xf3e2eb;},'HQQya':_0x162187(0x370),'vUgRD':function(_0xa236d7,_0x2a7892){return _0xa236d7-_0x2a7892;},'HLMuD':function(_0x11c5e3,_0x5f1107){return _0x11c5e3(_0x5f1107);},'WOyyj':function(_0x5e202b,_0x46e9ca){return _0x5e202b===_0x46e9ca;},'tHAGn':function(_0x1d0665,_0x4b5825){return _0x1d0665!==_0x4b5825;},'UNhQK':'JMEOg','DDOOT':_0x162187(0x20f),'VFmBR':function(_0x4063d9,_0x39b358){return _0x4063d9(_0x39b358);},'xwJVH':function(_0x84e167,_0x17efe1){return _0x84e167===_0x17efe1;},'FrwWs':function(_0x258452,_0x265e9e){return _0x258452===_0x265e9e;},'dtkDS':_0x162187(0x33d),'lMCih':_0x162187(0x2d4),'qrClf':function(_0x5c8d29,_0x5e399d){return _0x5c8d29(_0x5e399d);},'uSdXT':function(_0x518d70,_0x11dbed){return _0x518d70===_0x11dbed;},'XvlQc':function(_0x49ad6e,_0x181188){return _0x49ad6e===_0x181188;},'xOxNx':function(_0x5c9940,_0x8d49aa){return _0x5c9940!==_0x8d49aa;},'BcBPP':_0x162187(0x377),'EURrf':_0x162187(0x1ff),'Cadjn':_0x162187(0x37c),'iCtpg':_0x162187(0x364),'DKmrg':_0x162187(0x253),'YnKnY':_0x162187(0x334),'vtyNu':function(_0x3c7a16,_0x2da9df){return _0x3c7a16<_0x2da9df;},'AqFQP':'bVBwe','FpDjg':function(_0x39764e,_0xe8b48f){return _0x39764e+_0xe8b48f;},'jxkMY':function(_0x1eac8a,_0x3e7ce0){return _0x1eac8a(_0x3e7ce0);},'nYqfg':'Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','snTED':function(_0x36a999,_0x82fb3c){return _0x36a999(_0x82fb3c);},'GUwFo':function(_0xffed55,_0x207a56){return _0xffed55<=_0x207a56;},'LocFf':function(_0x108502,_0x16a2fd){return _0x108502>_0x16a2fd;},'TNtOI':function(_0x11cd15,_0x4b4312){return _0x11cd15!==_0x4b4312;},'pgxwF':_0x162187(0x2a1),'dhPLf':function(_0x3fa97a,_0x4f7396){return _0x3fa97a-_0x4f7396;}},_0x2b0dc9=this[_0x162187(0x25c)]['toUpperCase'](),_0x740471=await _0x3efdb0['HLMuD'](_0x20be48,_0x2b0dc9+_0x162187(0x207)),_0x5a4ec0=await _0x3efdb0[_0x162187(0x1a0)](_0x20be48,_0x2b0dc9+_0x162187(0x2ef)),_0x528c59=await _0x3efdb0['HLMuD'](_0x20be48,_0x2b0dc9+_0x162187(0x32d)),_0x3f4d1d=await _0x3efdb0['HLMuD'](_0x20be48,_0x2b0dc9+'\x20SUBSCRIPTION\x20ID:\x20');global_registry['cloudProviderClientId']=_0x740471,global_registry[_0x162187(0x2af)]=_0x5a4ec0,global_registry['cloudProviderTenantId']=_0x528c59,global_registry[_0x162187(0x2b2)]=_0x3f4d1d,this[_0x162187(0x229)]();const _0x3fac1f=await this[_0x162187(0x383)](),_0x2d5624=_0x3fac1f[_0x162187(0x1dc)];let _0x916716;if(_0x3efdb0[_0x162187(0x2a9)](_0x2d5624,0x0))_0x3efdb0[_0x162187(0x34a)](_0x3efdb0[_0x162187(0x1d5)],_0x3efdb0[_0x162187(0x213)])?_0x916716=await _0x3efdb0[_0x162187(0x283)](_0x20be48,_0x2b0dc9+_0x162187(0x24c)):_0x133bfc['push'](_0x213b52);else{if(_0x3efdb0['xwJVH'](_0x2d5624,0x1)){if(_0x3efdb0[_0x162187(0x19f)](_0x3efdb0[_0x162187(0x2bc)],_0x3efdb0[_0x162187(0x271)])){const _0x2d7654=_0x5767af[_0x162187(0x34e)][_0x162187(0x22d)]('-'),_0x211e89=_0x3efdb0[_0x162187(0x2df)](_0x3efdb0[_0x162187(0x354)],_0x2d7654[_0x3efdb0[_0x162187(0x23d)](_0x2d7654[_0x162187(0x1dc)],0x1)])[_0x162187(0x211)](0x0,0x18);return _0x211e89[_0x162187(0x241)]();}else{const _0x1f0cb3=await _0x3efdb0[_0x162187(0x1c6)](_0x20be48,_0x162187(0x2ed)+_0x3fac1f[0x0]+'\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20');(_0x3efdb0[_0x162187(0x1ef)](_0x1f0cb3,undefined)||_0x3efdb0[_0x162187(0x228)](_0x1f0cb3,null)||!(_0x3efdb0['XvlQc'](_0x1f0cb3['toLowerCase'](),'y')||_0x3efdb0[_0x162187(0x228)](_0x1f0cb3['toLowerCase'](),'n')))&&(_0x3efdb0[_0x162187(0x394)](_0x3efdb0[_0x162187(0x380)],_0x3efdb0[_0x162187(0x35b)])?(console[_0x162187(0x280)](_0x3efdb0[_0x162187(0x2fc)]),process[_0x162187(0x291)](0x1)):_0x11d5ad=_0x2353cc['id']),_0x3efdb0[_0x162187(0x19f)](_0x1f0cb3[_0x162187(0x241)](),'n')&&(_0x3efdb0[_0x162187(0x19f)](_0x3efdb0[_0x162187(0x222)],_0x3efdb0[_0x162187(0x222)])?process[_0x162187(0x291)](0x0):_0x6667b0['push'](..._0x2715ca[_0x162187(0x1a8)])),_0x916716=_0x3fac1f[0x0];}}else{if(_0x3efdb0[_0x162187(0x34a)](_0x3efdb0[_0x162187(0x292)],_0x3efdb0[_0x162187(0x35d)])){for(let _0x1a3328=0x0;_0x3efdb0[_0x162187(0x29c)](_0x1a3328,_0x3fac1f['length']);_0x1a3328+=0x1){if(_0x3efdb0['uSdXT'](_0x3efdb0[_0x162187(0x333)],_0x3efdb0['AqFQP']))console['log']('['+_0x3efdb0[_0x162187(0x260)](_0x1a3328,0x1)+']\x20'+_0x3fac1f[_0x1a3328]);else return _0x4f9801[_0x162187(0x280)]=_0x291689[_0x162187(0x280)],_0x2c1e99;}const _0x5abd0a=await _0x3efdb0['jxkMY'](_0x20be48,_0x3efdb0[_0x162187(0x372)]),_0x537cbc=_0x3efdb0[_0x162187(0x1fe)](Number,_0x5abd0a);if(_0x3efdb0['snTED'](isNaN,_0x537cbc)||_0x3efdb0['GUwFo'](_0x537cbc,0x0)||_0x3efdb0[_0x162187(0x1e3)](_0x537cbc,_0x2d5624)){if(_0x3efdb0[_0x162187(0x30d)](_0x3efdb0[_0x162187(0x20b)],_0x3efdb0[_0x162187(0x20b)]))return!![];else console[_0x162187(0x280)](_0x3efdb0['Cadjn']),process[_0x162187(0x291)](0x1);}_0x916716=_0x3fac1f[_0x3efdb0[_0x162187(0x290)](_0x537cbc,0x1)];}else _0x29f7b5[_0x162187(0x280)]=_0x39835e;}}global_registry['cloudProviderResourceGroup']=_0x916716;const _0x42cc69={};return _0x42cc69[_0x162187(0x275)]=_0x740471,_0x42cc69[_0x162187(0x23c)]=_0x5a4ec0,_0x42cc69[_0x162187(0x251)]=_0x528c59,_0x42cc69[_0x162187(0x355)]=_0x3f4d1d,_0x42cc69[_0x162187(0x279)]=_0x916716,_0x512a4e[_0x162187(0x345)][AZURE]=_0x42cc69,_0x512a4e;}async[a1_0x593c6f(0x383)](){const _0x5a4fd5=a1_0x593c6f,_0x439381={};_0x439381['KgPqo']=_0x5a4fd5(0x37c),_0x439381[_0x5a4fd5(0x27c)]=function(_0x1e00fd,_0x2d7407){return _0x1e00fd===_0x2d7407;},_0x439381[_0x5a4fd5(0x1c7)]=_0x5a4fd5(0x340),_0x439381[_0x5a4fd5(0x374)]=_0x5a4fd5(0x212),_0x439381[_0x5a4fd5(0x30f)]=_0x5a4fd5(0x258),_0x439381[_0x5a4fd5(0x24f)]=_0x5a4fd5(0x2d9);const _0x2f8414=_0x439381,_0xe10f4d=[];try{if(_0x2f8414['MDfLg'](_0x2f8414[_0x5a4fd5(0x1c7)],_0x2f8414[_0x5a4fd5(0x374)]))_0x43a250['push'](_0x29f401);else{const _0x5e4289=await this[_0x5a4fd5(0x2eb)][_0x5a4fd5(0x33e)][_0x5a4fd5(0x2e1)]();for await(const _0x561167 of _0x5e4289){_0x2f8414[_0x5a4fd5(0x27c)](_0x2f8414[_0x5a4fd5(0x30f)],_0x2f8414[_0x5a4fd5(0x24f)])?(_0x306c17[_0x5a4fd5(0x280)](_0x2f8414['KgPqo']),_0x171a17['exit'](0x1)):_0xe10f4d[_0x5a4fd5(0x2ff)](_0x561167[_0x5a4fd5(0x33c)]);}}}catch(_0x4d8665){}return _0xe10f4d;}async[a1_0x593c6f(0x245)](){const _0x16dd01=a1_0x593c6f;return this[_0x16dd01(0x31f)]=await this['containerClient'][_0x16dd01(0x224)][_0x16dd01(0x2db)](global_registry[_0x16dd01(0x1be)],this[_0x16dd01(0x37f)]),this[_0x16dd01(0x31f)];}async['getKubeConfigData'](){const _0x387b39=a1_0x593c6f,_0x4e4638=await this[_0x387b39(0x235)][_0x387b39(0x224)][_0x387b39(0x1d8)](global_registry['cloudProviderResourceGroup'],this[_0x387b39(0x37f)]),_0x526a39=_0x4e4638[_0x387b39(0x286)][0x0]['value'][_0x387b39(0x366)]();return _0x526a39;}[a1_0x593c6f(0x24b)](_0x442e53){const _0xe2ba8=a1_0x593c6f;return _0x442e53[_0xe2ba8(0x327)][_0xe2ba8(0x1ee)]['ingress'][0x0][_0xe2ba8(0x1d7)];}async[a1_0x593c6f(0x2e5)](){const _0x2c1db4=a1_0x593c6f,_0x5e63da={};_0x5e63da[_0x2c1db4(0x1cf)]=_0x2c1db4(0x37c),_0x5e63da[_0x2c1db4(0x2c1)]=_0x2c1db4(0x2f4),_0x5e63da[_0x2c1db4(0x2b0)]=function(_0x2679b3,_0x429973){return _0x2679b3!==_0x429973;},_0x5e63da['RUaXg']='YBcoc',_0x5e63da[_0x2c1db4(0x225)]='APBbi',_0x5e63da[_0x2c1db4(0x326)]='ZaLlR',_0x5e63da[_0x2c1db4(0x1ed)]=function(_0x54124c,_0x5ef2d5){return _0x54124c===_0x5ef2d5;},_0x5e63da[_0x2c1db4(0x302)]=function(_0xafe8ff,_0x183b4f){return _0xafe8ff!==_0x183b4f;},_0x5e63da['ckvjN']=_0x2c1db4(0x20a),_0x5e63da[_0x2c1db4(0x26b)]=_0x2c1db4(0x37a);const _0x12f8ab=_0x5e63da,_0x2f657a=new Array();for await(const _0x396ae1 of this[_0x2c1db4(0x235)][_0x2c1db4(0x224)][_0x2c1db4(0x37b)](global_registry[_0x2c1db4(0x1be)])){_0x12f8ab['BBzwX'](_0x12f8ab[_0x2c1db4(0x1e8)],_0x12f8ab[_0x2c1db4(0x225)])?_0x2f657a[_0x2c1db4(0x2ff)](_0x396ae1):(_0x4e9f2a[_0x2c1db4(0x280)](_0x12f8ab[_0x2c1db4(0x1cf)]),_0x160dbf[_0x2c1db4(0x291)](0x1));}for await(const _0x5d7a2d of _0x2f657a){if(_0x12f8ab[_0x2c1db4(0x2b0)](_0x12f8ab['aspeS'],_0x12f8ab['aspeS']))return _0x535e6c[_0x2c1db4(0x38a)]=_0x12f8ab[_0x2c1db4(0x2c1)],_0x4d361c;else{if(_0x12f8ab[_0x2c1db4(0x1ed)](_0x5d7a2d[_0x2c1db4(0x33c)],this['clusterName']))return _0x12f8ab['XvRYE'](_0x12f8ab[_0x2c1db4(0x358)],_0x12f8ab[_0x2c1db4(0x26b)])?(await this[_0x2c1db4(0x245)](),!![]):!![];}}return![];}async[a1_0x593c6f(0x1cb)](_0x41a31e=null,_0x4def98=null){const _0x3af899=a1_0x593c6f,_0x4877f6={};_0x4877f6['enigl']='1|5|3|4|2|0',_0x4877f6[_0x3af899(0x33b)]=_0x3af899(0x300);const _0x1566d8=_0x4877f6,_0x381328=_0x1566d8['enigl'][_0x3af899(0x22d)]('|');let _0x475d21=0x0;while(!![]){switch(_0x381328[_0x475d21++]){case'0':return[_0x41a31e,_0x4def98];case'1':this[_0x3af899(0x337)]();continue;case'2':await this[_0x3af899(0x2d6)]();continue;case'3':logger[_0x3af899(0x1c5)](_0x1566d8[_0x3af899(0x33b)]);continue;case'4':await this['createCluster'](_0x41a31e,_0x4def98);continue;case'5':const _0x452e43={};_0x452e43['type']=WS_EVENTS[_0x3af899(0x301)],_0x452e43[_0x3af899(0x26f)]=_0x1566d8['sZZfZ'],this['webSocketUtils']['sendEventToBackend'](this[_0x3af899(0x1fb)],_0x452e43);continue;}break;}}async[a1_0x593c6f(0x2c9)](_0x55608d=null,_0x3da364=null){const _0x30fba4=a1_0x593c6f,_0x30997a={};_0x30997a[_0x30fba4(0x2a6)]=_0x30fba4(0x360),_0x30997a[_0x30fba4(0x23f)]=_0x30fba4(0x2aa),_0x30997a[_0x30fba4(0x2a5)]=_0x30fba4(0x289),_0x30997a[_0x30fba4(0x2b3)]=_0x30fba4(0x2ae),_0x30997a[_0x30fba4(0x348)]='utf-8',_0x30997a[_0x30fba4(0x231)]='true',_0x30997a[_0x30fba4(0x314)]=_0x30fba4(0x23e),_0x30997a[_0x30fba4(0x303)]=function(_0x499a0b,_0x134bef){return _0x499a0b!==_0x134bef;},_0x30997a[_0x30fba4(0x215)]=function(_0x2cfa14,_0x5790d1){return _0x2cfa14!==_0x5790d1;},_0x30997a[_0x30fba4(0x2e4)]=_0x30fba4(0x21e),_0x30997a[_0x30fba4(0x2ac)]=_0x30fba4(0x2f0),_0x30997a[_0x30fba4(0x1f9)]=_0x30fba4(0x223),_0x30997a[_0x30fba4(0x31e)]=_0x30fba4(0x288),_0x30997a['yMpxH']=_0x30fba4(0x32e),_0x30997a[_0x30fba4(0x256)]=_0x30fba4(0x391),_0x30997a['bxCuD']='Incremental';const _0x1eb805=_0x30997a;let _0xb0f2c4=await fs['readFileAsync'](path[_0x30fba4(0x323)](__dirname,'..',_0x1eb805['OQvJs'],_0x1eb805[_0x30fba4(0x2a5)],_0x1eb805[_0x30fba4(0x2b3)]),_0x1eb805[_0x30fba4(0x348)]);_0xb0f2c4=JSON[_0x30fba4(0x233)](_0xb0f2c4);const _0x439269={};_0x439269[_0x30fba4(0x217)]=this[_0x30fba4(0x37f)];const _0x45630a={};_0x45630a[_0x30fba4(0x217)]=global_registry[_0x30fba4(0x2a2)];const _0x261cec={};_0x261cec[_0x30fba4(0x217)]=global_registry[_0x30fba4(0x2d0)];const _0xa9bf63={};_0xa9bf63[_0x30fba4(0x217)]=global_registry['maxNodes'];const _0x1fece9={};_0x1fece9[_0x30fba4(0x217)]=global_registry[_0x30fba4(0x28a)]?_0x1eb805[_0x30fba4(0x231)]:_0x1eb805['ldZOS'];const _0x29e639={};_0x29e639[_0x30fba4(0x37f)]=_0x439269,_0x29e639[_0x30fba4(0x21c)]=_0x45630a,_0x29e639[_0x30fba4(0x1e6)]=_0x261cec,_0x29e639[_0x30fba4(0x2b1)]=_0xa9bf63,_0x29e639[_0x30fba4(0x28a)]=_0x1fece9;let _0x31f56b=_0x29e639;if(_0x1eb805['kbLXv'](_0x55608d,null)&&_0x1eb805[_0x30fba4(0x215)](_0x3da364,null)){if(_0x1eb805[_0x30fba4(0x215)](_0x1eb805[_0x30fba4(0x2e4)],_0x1eb805[_0x30fba4(0x2e4)])){const _0x54cdfa={};_0x54cdfa[_0x30fba4(0x327)]=!![],_0x54cdfa[_0x30fba4(0x280)]=null,_0x54cdfa[_0x30fba4(0x38a)]=_0x1eb805[_0x30fba4(0x2a6)];const _0x2c9c7e=_0x54cdfa;return _0x2c9c7e;}else{const _0xa8a9a2={};_0xa8a9a2[_0x30fba4(0x35c)]=_0x1eb805[_0x30fba4(0x2ac)],_0xa8a9a2[_0x30fba4(0x230)]={},_0xa8a9a2[_0x30fba4(0x230)][_0x30fba4(0x20e)]=_0x1eb805[_0x30fba4(0x1f9)];const _0x5d49bb={};_0x5d49bb[_0x30fba4(0x35c)]=_0x1eb805[_0x30fba4(0x2ac)],_0x5d49bb[_0x30fba4(0x230)]={},_0x5d49bb[_0x30fba4(0x230)][_0x30fba4(0x20e)]=_0x1eb805[_0x30fba4(0x1f9)],_0xb0f2c4[_0x30fba4(0x240)]={..._0xb0f2c4[_0x30fba4(0x240)],'vpcName':_0xa8a9a2,'subnetName':_0x5d49bb};const _0x94f4d9={};_0x94f4d9['vnetSubnetID']=_0x1eb805[_0x30fba4(0x31e)],_0xb0f2c4[_0x30fba4(0x32c)]=_0x94f4d9,_0xb0f2c4[_0x30fba4(0x319)][0x0][_0x30fba4(0x239)]['agentPoolProfiles'][0x0]={..._0xb0f2c4[_0x30fba4(0x319)][0x0]['properties'][_0x30fba4(0x2bb)][0x0],'vnetSubnetID':_0x1eb805[_0x30fba4(0x32b)]};const _0x7ac6b6={};_0x7ac6b6[_0x30fba4(0x217)]=_0x55608d;const _0x39cad6={};_0x39cad6[_0x30fba4(0x217)]=_0x3da364[0x0],_0x31f56b={..._0x31f56b,'vpcName':_0x7ac6b6,'subnetName':_0x39cad6};}}await this['resourceClient'][_0x30fba4(0x1b9)][_0x30fba4(0x341)](global_registry[_0x30fba4(0x1be)],_0x1eb805[_0x30fba4(0x256)],{'properties':{'template':_0xb0f2c4,'mode':_0x1eb805[_0x30fba4(0x2f5)],'parameters':_0x31f56b}});}async[a1_0x593c6f(0x2d6)](){const _0x19f741=a1_0x593c6f,_0x954438={};_0x954438[_0x19f741(0x2d3)]=function(_0x181522,_0x460907){return _0x181522===_0x460907;},_0x954438[_0x19f741(0x388)]=_0x19f741(0x1b3),_0x954438['oHlqB']=_0x19f741(0x1bb),_0x954438[_0x19f741(0x1f7)]='Creating\x20Azure\x20storage\x20account',_0x954438['kOtag']=_0x19f741(0x296),_0x954438[_0x19f741(0x344)]=_0x19f741(0x2dd),_0x954438['pJqLu']=function(_0x346c1b,_0x254aa8){return _0x346c1b===_0x254aa8;},_0x954438[_0x19f741(0x29a)]='vjHJS',_0x954438[_0x19f741(0x38d)]=_0x19f741(0x21f),_0x954438[_0x19f741(0x381)]=_0x19f741(0x201),_0x954438[_0x19f741(0x27d)]=function(_0x205fc1,_0x23e908){return _0x205fc1!==_0x23e908;},_0x954438[_0x19f741(0x278)]='vvXGF',_0x954438[_0x19f741(0x312)]=_0x19f741(0x2a8),_0x954438[_0x19f741(0x37d)]=_0x19f741(0x273),_0x954438['dMDIm']=_0x19f741(0x2b6),_0x954438['tolQx']='Created\x20Azure\x20federated\x20identity';const _0x1d66fc=_0x954438,_0x2bbe57=await this[_0x19f741(0x310)]();if(!_0x2bbe57){if(_0x1d66fc[_0x19f741(0x2d3)](_0x1d66fc['QRUpf'],_0x1d66fc[_0x19f741(0x33f)]))return _0x2f21b3['status']['loadBalancer'][_0x19f741(0x270)][0x0][_0x19f741(0x1d7)];else{const _0x5b802a={};_0x5b802a['type']=WS_EVENTS['LOG'],_0x5b802a['message']=_0x1d66fc[_0x19f741(0x1f7)],this[_0x19f741(0x324)][_0x19f741(0x24a)](this[_0x19f741(0x1fb)],_0x5b802a),logger['info'](_0x1d66fc['xnUNM']),await this['createStorageAccount']();}}else _0x1d66fc[_0x19f741(0x2d3)](_0x1d66fc['kOtag'],_0x1d66fc[_0x19f741(0x1b4)])?logger[_0x19f741(0x1c5)](_0x1d66fc[_0x19f741(0x344)]):_0x2a606f[_0x19f741(0x280)]=_0x242e17;const _0x24f12a=await this['isManagedIdentityPresent']();if(!_0x24f12a){if(_0x1d66fc['pJqLu'](_0x1d66fc[_0x19f741(0x29a)],_0x1d66fc[_0x19f741(0x38d)]))return _0x1f8d5f['error'](_0x19f741(0x34d)+_0x40c366+':'+_0x1c084a[_0x19f741(0x31d)]),{};else{const _0x10a862={};_0x10a862['type']=WS_EVENTS[_0x19f741(0x301)],_0x10a862['message']=_0x1d66fc[_0x19f741(0x381)],this[_0x19f741(0x324)][_0x19f741(0x24a)](this[_0x19f741(0x1fb)],_0x10a862),logger['info'](_0x1d66fc[_0x19f741(0x381)]),await this[_0x19f741(0x2c4)]();}}else{if(_0x1d66fc[_0x19f741(0x27d)](_0x1d66fc[_0x19f741(0x278)],_0x1d66fc[_0x19f741(0x312)]))logger[_0x19f741(0x1c5)](_0x1d66fc[_0x19f741(0x37d)]);else return!![];}logger[_0x19f741(0x1c5)](_0x1d66fc['dMDIm']),await this[_0x19f741(0x294)](),logger[_0x19f741(0x1c5)](_0x1d66fc[_0x19f741(0x268)]);}async['createStorageAccount'](){const _0x230fa2=a1_0x593c6f,_0x31d9d9={};_0x31d9d9[_0x230fa2(0x1d4)]='templates',_0x31d9d9[_0x230fa2(0x332)]=_0x230fa2(0x289),_0x31d9d9[_0x230fa2(0x269)]='storageaccount.json',_0x31d9d9[_0x230fa2(0x1f3)]=_0x230fa2(0x210),_0x31d9d9[_0x230fa2(0x2f3)]='turboscale-storageaccount-deployment',_0x31d9d9[_0x230fa2(0x1b5)]='Incremental',_0x31d9d9[_0x230fa2(0x1f0)]=_0x230fa2(0x1f5),_0x31d9d9[_0x230fa2(0x384)]='Lifecycle',_0x31d9d9[_0x230fa2(0x30e)]=_0x230fa2(0x25b),_0x31d9d9[_0x230fa2(0x352)]=_0x230fa2(0x218);const _0x55af81=_0x31d9d9;let _0x7f46bf=await fs['readFileAsync'](path['join'](__dirname,'..',_0x55af81[_0x230fa2(0x1d4)],_0x55af81[_0x230fa2(0x332)],_0x55af81[_0x230fa2(0x269)]),_0x55af81[_0x230fa2(0x1f3)]);_0x7f46bf=JSON[_0x230fa2(0x233)](_0x7f46bf);const _0x2b407d=this['getStorageAccountName'](),_0xbdc474={};_0xbdc474['value']=_0x2b407d;const _0x3a0455={};_0x3a0455['storageAccountName']=_0xbdc474,await this[_0x230fa2(0x2eb)][_0x230fa2(0x1b9)][_0x230fa2(0x341)](global_registry[_0x230fa2(0x1be)],_0x55af81[_0x230fa2(0x2f3)],{'properties':{'template':_0x7f46bf,'mode':_0x55af81[_0x230fa2(0x1b5)],'parameters':_0x3a0455}});const _0x1ab9e4={};_0x1ab9e4[_0x230fa2(0x1b1)]=0x3c;const _0x1ce215={};_0x1ce215[_0x230fa2(0x31a)]=_0x1ab9e4;const _0x5c5398={};_0x5c5398[_0x230fa2(0x328)]=_0x1ce215;const _0x4741c9={};_0x4741c9['enabled']=!![],_0x4741c9['name']=_0x55af81[_0x230fa2(0x1f0)],_0x4741c9[_0x230fa2(0x35c)]=_0x55af81[_0x230fa2(0x384)],_0x4741c9[_0x230fa2(0x1a1)]={},_0x4741c9[_0x230fa2(0x1a1)][_0x230fa2(0x1a8)]=_0x5c5398,_0x4741c9[_0x230fa2(0x1a1)][_0x230fa2(0x28e)]={},_0x4741c9[_0x230fa2(0x1a1)][_0x230fa2(0x28e)]['blobTypes']=[_0x55af81[_0x230fa2(0x30e)]];const _0x59bf60={};_0x59bf60[_0x230fa2(0x2b4)]=[_0x4741c9];const _0x37e809={};_0x37e809[_0x230fa2(0x369)]=_0x59bf60;const _0x347c87=_0x37e809;await this['storageClient'][_0x230fa2(0x2e0)]['createOrUpdate'](global_registry[_0x230fa2(0x1be)],_0x2b407d,_0x55af81[_0x230fa2(0x352)],_0x347c87);}async[a1_0x593c6f(0x2c4)](){const _0x54dea7=a1_0x593c6f,_0x4525a0={};_0x4525a0[_0x54dea7(0x1da)]='templates',_0x4525a0[_0x54dea7(0x30a)]=_0x54dea7(0x289),_0x4525a0[_0x54dea7(0x2b8)]=_0x54dea7(0x227),_0x4525a0[_0x54dea7(0x299)]='utf-8',_0x4525a0[_0x54dea7(0x1c3)]='turboscale-identity-deployment',_0x4525a0[_0x54dea7(0x1ba)]=_0x54dea7(0x1fd);const _0x489faa=_0x4525a0;let _0x8a172f=await fs[_0x54dea7(0x318)](path['join'](__dirname,'..',_0x489faa[_0x54dea7(0x1da)],_0x489faa[_0x54dea7(0x30a)],_0x489faa[_0x54dea7(0x2b8)]),_0x489faa[_0x54dea7(0x299)]);_0x8a172f=JSON[_0x54dea7(0x233)](_0x8a172f),await this[_0x54dea7(0x2eb)][_0x54dea7(0x1b9)][_0x54dea7(0x341)](global_registry[_0x54dea7(0x1be)],_0x489faa[_0x54dea7(0x1c3)],{'properties':{'template':_0x8a172f,'mode':_0x489faa[_0x54dea7(0x1ba)],'parameters':{'clusterName':{'value':this[_0x54dea7(0x37f)]}}}});}async[a1_0x593c6f(0x294)](){const _0x5711a7=a1_0x593c6f,_0x2b79a5={};_0x2b79a5[_0x5711a7(0x2d7)]='allowed',_0x2b79a5[_0x5711a7(0x34b)]='denied',_0x2b79a5[_0x5711a7(0x350)]=function(_0xe0a420,_0x2ad80a){return _0xe0a420!==_0x2ad80a;},_0x2b79a5[_0x5711a7(0x316)]=_0x5711a7(0x38c),_0x2b79a5[_0x5711a7(0x27a)]=_0x5711a7(0x2f6),_0x2b79a5[_0x5711a7(0x27f)]=_0x5711a7(0x1c4),_0x2b79a5[_0x5711a7(0x339)]=_0x5711a7(0x254),_0x2b79a5[_0x5711a7(0x298)]='mrPUu',_0x2b79a5[_0x5711a7(0x236)]=_0x5711a7(0x320),_0x2b79a5['szXPd']=_0x5711a7(0x2aa),_0x2b79a5[_0x5711a7(0x322)]=_0x5711a7(0x289),_0x2b79a5[_0x5711a7(0x2ce)]=_0x5711a7(0x210),_0x2b79a5[_0x5711a7(0x247)]='turboscale-federated-deployment',_0x2b79a5[_0x5711a7(0x284)]=_0x5711a7(0x1fd);const _0x2d787b=_0x2b79a5;!this[_0x5711a7(0x31f)]&&(_0x2d787b[_0x5711a7(0x350)](_0x2d787b[_0x5711a7(0x316)],_0x2d787b[_0x5711a7(0x27a)])?await this[_0x5711a7(0x245)]():_0x5e6fd9[_0x5711a7(0x327)]=![]);const _0x1677d8=this[_0x5711a7(0x31f)]?.[_0x5711a7(0x38e)]?.[_0x5711a7(0x379)],_0x406e80=[_0x2d787b[_0x5711a7(0x27f)],_0x2d787b[_0x5711a7(0x339)]];for await(const _0x32f237 of _0x406e80){if(_0x2d787b[_0x5711a7(0x350)](_0x2d787b[_0x5711a7(0x298)],_0x2d787b[_0x5711a7(0x236)])){let _0x1ac064=await fs[_0x5711a7(0x318)](path[_0x5711a7(0x323)](__dirname,'..',_0x2d787b[_0x5711a7(0x2c3)],_0x2d787b[_0x5711a7(0x322)],_0x5711a7(0x1a9)+_0x32f237+'.json'),_0x2d787b[_0x5711a7(0x2ce)]);_0x1ac064=JSON[_0x5711a7(0x233)](_0x1ac064);const _0x4b0fd3={};_0x4b0fd3['value']=_0x1677d8,await this[_0x5711a7(0x2eb)][_0x5711a7(0x1b9)][_0x5711a7(0x341)](global_registry[_0x5711a7(0x1be)],_0x2d787b[_0x5711a7(0x247)],{'properties':{'template':_0x1ac064,'mode':_0x2d787b[_0x5711a7(0x284)],'parameters':{'oidcIssuer':_0x4b0fd3,'gridName':{'value':this[_0x5711a7(0x262)]},'clusterName':{'value':this[_0x5711a7(0x37f)]}}}});}else{const _0x2e184f=_0x2418a[_0x5711a7(0x2a3)](_0x3a8cdc);_0x58e976+='\x0a\x09'+_0x52053f+':\x20'+(_0x2e184f?_0x2d787b['xwnhb']:_0x2d787b[_0x5711a7(0x34b)]),!_0x2e184f&&(_0x2051d2[_0x5711a7(0x327)]=![]);}}}async[a1_0x593c6f(0x1e2)](_0x5a8bd6,_0x18d80b,_0x162854,_0x429770,_0x317683){const _0x164609=a1_0x593c6f,_0x1ce944={};_0x1ce944[_0x164609(0x395)]=_0x164609(0x2f1),_0x1ce944[_0x164609(0x382)]=_0x164609(0x202);const _0x22ca19=_0x1ce944,_0x73ca05={};_0x73ca05['type']=WS_EVENTS['LOG'],_0x73ca05[_0x164609(0x26f)]=_0x22ca19[_0x164609(0x395)],this[_0x164609(0x324)][_0x164609(0x24a)](this[_0x164609(0x1fb)],_0x73ca05),logger['info'](_0x22ca19['tOPzL']),await this[_0x164609(0x36d)]();const _0x2f97c0={};_0x2f97c0[_0x164609(0x35c)]=WS_EVENTS[_0x164609(0x301)],_0x2f97c0[_0x164609(0x26f)]=_0x22ca19[_0x164609(0x382)],this[_0x164609(0x324)]['sendEventToBackend'](this[_0x164609(0x1fb)],_0x2f97c0);}async[a1_0x593c6f(0x36d)](){const _0x499f6a=a1_0x593c6f,_0x5a09d0={'ZdoSx':function(_0x3125ed,_0x44233f,_0x55a5db){return _0x3125ed(_0x44233f,_0x55a5db);},'KWiKA':function(_0x48b18e,_0x25795b){return _0x48b18e!==_0x25795b;},'ajWTG':_0x499f6a(0x351),'jubLl':_0x499f6a(0x331),'yRgec':_0x499f6a(0x2aa),'oFzVK':_0x499f6a(0x200),'AulRK':_0x499f6a(0x21a),'asnRe':_0x499f6a(0x210),'JSfbP':'turboscale-federated-deployment','QGJPe':_0x499f6a(0x1fd)};!this[_0x499f6a(0x31f)]&&(_0x5a09d0[_0x499f6a(0x1a3)](_0x5a09d0[_0x499f6a(0x1af)],_0x5a09d0[_0x499f6a(0x2c2)])?await this['getClusterInfo']():_0x5a09d0[_0x499f6a(0x24e)](_0x2724c2,()=>_0x5e12f6(),0x3e8));const _0x165244=this['clusterInfo']?.[_0x499f6a(0x38e)]?.[_0x499f6a(0x379)];let _0x537b51=await fs[_0x499f6a(0x318)](path['join'](__dirname,'..',_0x5a09d0[_0x499f6a(0x2f2)],_0x5a09d0[_0x499f6a(0x23a)],_0x5a09d0[_0x499f6a(0x2ea)]),_0x5a09d0[_0x499f6a(0x34c)]);_0x537b51=JSON[_0x499f6a(0x233)](_0x537b51);const _0x1e19fa={};_0x1e19fa[_0x499f6a(0x217)]=_0x165244,await this[_0x499f6a(0x2eb)][_0x499f6a(0x1b9)]['beginCreateOrUpdateAndWait'](global_registry[_0x499f6a(0x1be)],_0x5a09d0[_0x499f6a(0x36b)],{'properties':{'template':_0x537b51,'mode':_0x5a09d0['QGJPe'],'parameters':{'oidcIssuer':_0x1e19fa,'namespace':{'value':global_registry[_0x499f6a(0x359)]},'clusterName':{'value':this[_0x499f6a(0x37f)]}}}});}async['isStorageAccountPresent'](){const _0x4242f6=a1_0x593c6f,_0x51360e={};_0x51360e['vVvAT']=function(_0x1548bb,_0x5098a5){return _0x1548bb+_0x5098a5;},_0x51360e['iKqBI']=_0x4242f6(0x28d),_0x51360e[_0x4242f6(0x250)]=function(_0x522785,_0x44671e){return _0x522785===_0x44671e;},_0x51360e['ALVGY']='uLmld',_0x51360e[_0x4242f6(0x28b)]=function(_0x57865e,_0x4c07a0){return _0x57865e!==_0x4c07a0;},_0x51360e[_0x4242f6(0x361)]=_0x4242f6(0x1c9),_0x51360e[_0x4242f6(0x1c2)]=function(_0x408765,_0x28cde2){return _0x408765===_0x28cde2;},_0x51360e[_0x4242f6(0x368)]='FtVEu',_0x51360e['FqZfM']='WxNai';const _0x2c4e3e=_0x51360e,_0x421eba=this['getStorageAccountName'](),_0x1041bb=new Array();for await(const _0x27f079 of this[_0x4242f6(0x1c1)][_0x4242f6(0x1fa)][_0x4242f6(0x37b)](global_registry[_0x4242f6(0x1be)])){_0x2c4e3e[_0x4242f6(0x250)](_0x2c4e3e[_0x4242f6(0x1f4)],_0x2c4e3e[_0x4242f6(0x1f4)])?_0x1041bb['push'](_0x27f079):_0x1382ce['push'](_0x59a25e);}for await(const _0x4842dc of _0x1041bb){if(_0x2c4e3e[_0x4242f6(0x28b)](_0x2c4e3e[_0x4242f6(0x361)],_0x2c4e3e['nvZOP']))_0x225a7f['log']('['+_0x2c4e3e[_0x4242f6(0x2e2)](_0x3b3a2e,0x1)+']\x20'+_0x1088ea[_0x4aa8cf]);else{if(_0x2c4e3e['gWnXf'](_0x4842dc['name'],_0x421eba)){if(_0x2c4e3e[_0x4242f6(0x1c2)](_0x2c4e3e[_0x4242f6(0x368)],_0x2c4e3e[_0x4242f6(0x1a5)])){_0x1ed0be[_0x4242f6(0x1c5)](_0x2c4e3e[_0x4242f6(0x2b5)]);const _0x394d40={};_0x394d40[_0x4242f6(0x35c)]=_0x43b6f7[_0x4242f6(0x1a4)],_0x394d40[_0x4242f6(0x26f)]=_0x2c4e3e['iKqBI'],this[_0x4242f6(0x324)][_0x4242f6(0x24a)](this[_0x4242f6(0x1fb)],_0x394d40);const _0x39ae0b={};_0x39ae0b[_0x4242f6(0x38f)]=!![];const _0x4e9430={'workloadIdentity':_0x39ae0b,..._0x125527[_0x4242f6(0x219)]};_0x4e174e[_0x4242f6(0x219)]=_0x4e9430;}else return!![];}}}return![];}async[a1_0x593c6f(0x330)](){const _0x18429b=a1_0x593c6f,_0x340287={};_0x340287[_0x18429b(0x1ab)]=_0x18429b(0x274),_0x340287['hlHHH']=function(_0x52cb08,_0x459deb){return _0x52cb08===_0x459deb;},_0x340287[_0x18429b(0x2e8)]=function(_0x571680,_0x251c2d){return _0x571680!==_0x251c2d;},_0x340287['NRBrt']='GRnch',_0x340287[_0x18429b(0x392)]='zBFgL',_0x340287[_0x18429b(0x1c8)]=function(_0xb67591,_0x2488a8){return _0xb67591!==_0x2488a8;},_0x340287[_0x18429b(0x34f)]='ldhhS',_0x340287['ropVr']='UEEJt',_0x340287['cxwRX']=function(_0x546525,_0x39fb35){return _0x546525!==_0x39fb35;},_0x340287[_0x18429b(0x346)]=_0x18429b(0x31b),_0x340287[_0x18429b(0x371)]='NegMx';const _0x22847d=_0x340287,_0x58f1a3=new Array();for await(const _0x4862b5 of this[_0x18429b(0x2eb)]['resources']['listByResourceGroup'](global_registry[_0x18429b(0x1be)])){if(_0x22847d[_0x18429b(0x2e8)](_0x22847d[_0x18429b(0x1e1)],_0x22847d[_0x18429b(0x392)]))_0x58f1a3[_0x18429b(0x2ff)](_0x4862b5);else{_0x529e26['info'](_0x22847d[_0x18429b(0x1ab)]);const _0x4d134e={};_0x4d134e['type']=_0x3d2572[_0x18429b(0x1a4)],_0x4d134e[_0x18429b(0x26f)]=_0x22847d[_0x18429b(0x1ab)],this['webSocketUtils'][_0x18429b(0x24a)](this[_0x18429b(0x1fb)],_0x4d134e),_0x16bcb0['oidcIssuerProfile'][_0x18429b(0x38f)]=!![];}}for await(const _0x48c5de of _0x58f1a3){if(_0x22847d[_0x18429b(0x1c8)](_0x22847d[_0x18429b(0x34f)],_0x22847d[_0x18429b(0x347)])){if(_0x22847d[_0x18429b(0x306)](_0x48c5de[_0x18429b(0x33c)],_0x18429b(0x1ad)+this[_0x18429b(0x37f)])){if(_0x22847d[_0x18429b(0x26c)](_0x22847d[_0x18429b(0x346)],_0x22847d[_0x18429b(0x371)]))return!![];else{if(_0x22847d[_0x18429b(0x306)](_0x2821ee[_0x18429b(0x33c)],_0x50808e))return!![];}}}else return[!![],_0x13d681];}return![];}async['getResourceClientId'](_0x43fd5b,_0x35af9a=0x3){const _0x43bce4=a1_0x593c6f,_0x551e26={'OevpX':function(_0x11a0ec,_0x230e93){return _0x11a0ec===_0x230e93;},'fxILu':_0x43bce4(0x2dd),'Kiwmv':_0x43bce4(0x357),'IwUsM':function(_0x2f9d93,_0x3afc1d){return _0x2f9d93!==_0x3afc1d;},'velWD':_0x43bce4(0x2fd),'sSGnk':function(_0xa763d6,_0x24ceb4,_0x1e84bf){return _0xa763d6(_0x24ceb4,_0x1e84bf);},'HKgLY':'string','Opiln':_0x43bce4(0x223),'AEEjB':_0x43bce4(0x288),'CZfkt':_0x43bce4(0x32e),'dKwSP':function(_0x2e241e,_0x357135){return _0x2e241e===_0x357135;},'WAors':_0x43bce4(0x26a),'EhvjM':function(_0x152234,_0x2d8353){return _0x152234!==_0x2d8353;},'Ienul':_0x43bce4(0x22f),'MWrGN':_0x43bce4(0x1a7),'OaHxt':_0x43bce4(0x28c),'naCKB':_0x43bce4(0x1db),'kvtLa':'YSfYf','sgaZK':_0x43bce4(0x2f8),'nsntW':_0x43bce4(0x396),'yGUPX':_0x43bce4(0x1e0),'OXpXY':_0x43bce4(0x1fc),'RgGtq':function(_0x30ad39,_0x16681b){return _0x30ad39<=_0x16681b;},'WfJvq':function(_0x425c27,_0xa48805){return _0x425c27!==_0xa48805;},'RBOvs':_0x43bce4(0x2c7),'VMRiY':function(_0xa2ec04,_0x3b85c3){return _0xa2ec04-_0x3b85c3;}};try{if(_0x551e26[_0x43bce4(0x267)](_0x551e26['WAors'],_0x551e26[_0x43bce4(0x1ae)])){const _0x5a639b=new Array();for await(const _0xe160a7 of this[_0x43bce4(0x2eb)][_0x43bce4(0x319)]['listByResourceGroup'](global_registry[_0x43bce4(0x1be)])){if(_0x551e26['EhvjM'](_0x551e26[_0x43bce4(0x263)],_0x551e26[_0x43bce4(0x1bf)]))_0x5a639b[_0x43bce4(0x2ff)](_0xe160a7);else return _0xa22ff8[_0x43bce4(0x280)]('Cannot\x20find\x20VPC\x20'+_0x1a838f+_0x43bce4(0x1cc)+_0x49c818),![];}let _0x1e695e='';for await(const _0x1cfb49 of _0x5a639b){if(_0x551e26[_0x43bce4(0x267)](_0x551e26[_0x43bce4(0x203)],_0x551e26['naCKB'])){if(_0x551e26[_0x43bce4(0x35e)](_0x258953[_0x43bce4(0x33c)],_0x240b2e))return!![];}else{if(_0x551e26[_0x43bce4(0x267)](_0x1cfb49['name'],_0x43fd5b)){if(_0x551e26[_0x43bce4(0x353)](_0x551e26[_0x43bce4(0x335)],_0x551e26[_0x43bce4(0x27b)]))_0x1e695e=_0x1cfb49['id'];else{const _0x48e6c9=new _0x543acc(_0x1f8ec4['cloudProviderTenantId'],_0x16003c['cloudProviderClientId'],_0x4d901d[_0x43bce4(0x2af)]);this[_0x43bce4(0x235)]=new _0x559c27(_0x48e6c9,_0x4c2227[_0x43bce4(0x2b2)]),this[_0x43bce4(0x1c1)]=new _0x100c8f(_0x48e6c9,_0x44c1de[_0x43bce4(0x2b2)]),this[_0x43bce4(0x2eb)]=new _0x4ca569(_0x48e6c9,_0x5a9f41['cloudProviderSubscriptionId']),this[_0x43bce4(0x25a)]=new _0x2a4fa8(_0x48e6c9,_0xa7ed42['cloudProviderSubscriptionId']),this[_0x43bce4(0x287)]=new _0x1e469c(_0x48e6c9,_0x4c20aa[_0x43bce4(0x2b2)]),this[_0x43bce4(0x336)]=_0x48e6c9;}}}}const _0x2a7911=await this['resourceClient'][_0x43bce4(0x319)]['getById'](_0x1e695e,_0x551e26[_0x43bce4(0x1f6)]);return _0x2a7911[_0x43bce4(0x239)][_0x43bce4(0x275)];}else return;}catch(_0x58260b){if(_0x551e26[_0x43bce4(0x1d0)](_0x551e26[_0x43bce4(0x28f)],_0x551e26['OXpXY'])){if(_0x551e26[_0x43bce4(0x30b)](_0x35af9a,0x0)){if(_0x551e26[_0x43bce4(0x2de)](_0x551e26[_0x43bce4(0x1ce)],_0x551e26[_0x43bce4(0x1ce)]))_0x503e87['info'](_0x551e26[_0x43bce4(0x36c)]);else return logger[_0x43bce4(0x280)](_0x43bce4(0x34d)+_0x58260b+':'+_0x58260b['stack']),{};}return await new Promise(_0x43cdb8=>{const _0x24b78e=_0x43bce4;if(_0x551e26[_0x24b78e(0x353)](_0x551e26[_0x24b78e(0x264)],_0x551e26[_0x24b78e(0x264)]))return _0x23294c[_0x24b78e(0x38a)]=_0x551e26['Kiwmv'],_0x3d1c10;else _0x551e26[_0x24b78e(0x25e)](setTimeout,()=>_0x43cdb8(),0x3e8);}),this[_0x43bce4(0x2d1)](_0x43fd5b,_0x551e26['VMRiY'](_0x35af9a,0x1));}else{const _0x3bc4e6={};_0x3bc4e6['type']=_0x551e26[_0x43bce4(0x259)],_0x3bc4e6[_0x43bce4(0x230)]={},_0x3bc4e6[_0x43bce4(0x230)][_0x43bce4(0x20e)]=_0x551e26[_0x43bce4(0x208)];const _0x469a9b={};_0x469a9b[_0x43bce4(0x35c)]=_0x551e26[_0x43bce4(0x259)],_0x469a9b[_0x43bce4(0x230)]={},_0x469a9b[_0x43bce4(0x230)]['description']=_0x551e26['Opiln'];const _0x20612d={..._0xd3e525[_0x43bce4(0x240)]};_0x20612d[_0x43bce4(0x2c0)]=_0x3bc4e6,_0x20612d['subnetName']=_0x469a9b,_0x30dca9[_0x43bce4(0x240)]=_0x20612d;const _0x5c246e={};_0x5c246e[_0x43bce4(0x29d)]=_0x551e26['AEEjB'],_0x4295b0['variables']=_0x5c246e;const _0x479dcc={..._0x3e4113[_0x43bce4(0x319)][0x0][_0x43bce4(0x239)][_0x43bce4(0x2bb)][0x0]};_0x479dcc[_0x43bce4(0x29d)]=_0x551e26['CZfkt'],_0x1ece8e[_0x43bce4(0x319)][0x0]['properties'][_0x43bce4(0x2bb)][0x0]=_0x479dcc;const _0x3905f7={};_0x3905f7[_0x43bce4(0x217)]=_0x149402;const _0x5e2ef5={};_0x5e2ef5['value']=_0x33cd1c[0x0];const _0x528bd5={..._0x16a459};_0x528bd5[_0x43bce4(0x2c0)]=_0x3905f7,_0x528bd5['subnetName']=_0x5e2ef5,_0x3d8cc4=_0x528bd5;}}}async[a1_0x593c6f(0x1f8)](){const _0x31eba1=a1_0x593c6f,_0x21638f={};_0x21638f[_0x31eba1(0x31c)]=function(_0x18810c,_0x270f90){return _0x18810c===_0x270f90;},_0x21638f[_0x31eba1(0x2c6)]=_0x31eba1(0x33a),_0x21638f[_0x31eba1(0x2ad)]=_0x31eba1(0x2fb),_0x21638f[_0x31eba1(0x221)]='browserstack:managedBy',_0x21638f[_0x31eba1(0x244)]=_0x31eba1(0x311),_0x21638f[_0x31eba1(0x272)]=function(_0xe50817,_0x592f58){return _0xe50817!==_0x592f58;},_0x21638f[_0x31eba1(0x387)]=_0x31eba1(0x1b6);const _0x18087c=_0x21638f;!this[_0x31eba1(0x31f)]&&(_0x18087c[_0x31eba1(0x31c)](_0x18087c[_0x31eba1(0x2ad)],_0x18087c[_0x31eba1(0x2ad)])?await this['getClusterInfo']():_0x3471de['push'](_0x1ee3d7[_0x31eba1(0x33c)]));const _0x3aeba7=this[_0x31eba1(0x31f)]?.[_0x31eba1(0x32a)]||{};if(_0x3aeba7&&_0x18087c[_0x31eba1(0x31c)](_0x3aeba7[_0x18087c[_0x31eba1(0x221)]],_0x18087c[_0x31eba1(0x244)])){if(_0x18087c[_0x31eba1(0x272)](_0x18087c[_0x31eba1(0x387)],_0x18087c['mHKxW']))_0x3be21a+=_0x18087c[_0x31eba1(0x31c)](_0x3436ba[_0x31eba1(0x1dc)],0x0)?_0x18087c[_0x31eba1(0x2c6)]:'',_0x864afb[_0x31eba1(0x376)](_0x31eba1(0x25f)+_0x3b361d[_0x31eba1(0x234)](_0x1fcb78));else return!![];}return![];}async[a1_0x593c6f(0x2ec)](_0x82e87d,_0x45c1a8){const _0x513ed1=a1_0x593c6f,_0xc63261={'WsfEV':function(_0x80cd3c,_0x5b73c7){return _0x80cd3c(_0x5b73c7);},'lrxjI':function(_0x1f240b,_0x471410){return _0x1f240b(_0x471410);},'jxQhf':_0x513ed1(0x238)};await _0xc63261[_0x513ed1(0x317)](deleteAgent,_0x82e87d),await _0xc63261['lrxjI'](deleteRoutingDeps,_0x82e87d);const _0x2c9116=this[_0x513ed1(0x235)];logger[_0x513ed1(0x1c5)](_0x513ed1(0x2ba)+this[_0x513ed1(0x37f)]),await _0x2c9116[_0x513ed1(0x224)][_0x513ed1(0x29b)](global_registry['cloudProviderResourceGroup'],this[_0x513ed1(0x37f)]),logger[_0x513ed1(0x1c5)](_0xc63261[_0x513ed1(0x26e)]);}async[a1_0x593c6f(0x1a6)](){const _0x504ef5=a1_0x593c6f,_0x12c427={};_0x12c427['lFLlr']=function(_0x4d6501,_0x3e0407){return _0x4d6501===_0x3e0407;},_0x12c427[_0x504ef5(0x2fe)]=_0x504ef5(0x297),_0x12c427[_0x504ef5(0x2dc)]=function(_0x34cdfe,_0x26b113){return _0x34cdfe!==_0x26b113;},_0x12c427[_0x504ef5(0x1cd)]=_0x504ef5(0x1f2),_0x12c427['HptsL']='wILQg',_0x12c427['SHveN']=function(_0x24f7b7,_0x59ab90){return _0x24f7b7&&_0x59ab90;},_0x12c427['SlOmy']=_0x504ef5(0x1b2),_0x12c427[_0x504ef5(0x2e3)]=function(_0x5f22e0,_0x403d4c){return _0x5f22e0!==_0x403d4c;},_0x12c427[_0x504ef5(0x1eb)]=_0x504ef5(0x261),_0x12c427[_0x504ef5(0x308)]='Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster',_0x12c427[_0x504ef5(0x2ee)]=_0x504ef5(0x313),_0x12c427['zhAuB']=_0x504ef5(0x28d),_0x12c427[_0x504ef5(0x216)]=function(_0x24f3c7,_0x2ca345){return _0x24f3c7!==_0x2ca345;},_0x12c427[_0x504ef5(0x1d6)]=_0x504ef5(0x1d2),_0x12c427['tajob']=_0x504ef5(0x2bf),_0x12c427[_0x504ef5(0x349)]=_0x504ef5(0x386);const _0x8cb23b=_0x12c427;!this[_0x504ef5(0x31f)]&&(_0x8cb23b['wDgRL'](_0x8cb23b['QYsnW'],_0x8cb23b[_0x504ef5(0x2b7)])?await this[_0x504ef5(0x245)]():_0x8cb23b['lFLlr'](_0x4ef70b[_0x504ef5(0x33c)],_0x115b54)&&(_0x482f10=_0x8ca060['id']));const _0x5d928f=this['clusterInfo'],_0x3c792d=this[_0x504ef5(0x31f)]?.[_0x504ef5(0x38e)]?.[_0x504ef5(0x38f)]||![],_0x1b30d1=this[_0x504ef5(0x31f)]?.[_0x504ef5(0x219)]?.[_0x504ef5(0x373)]?.[_0x504ef5(0x38f)]||![],_0x136fdb=!this[_0x504ef5(0x31f)]?.[_0x504ef5(0x1b0)]||![];if(_0x8cb23b[_0x504ef5(0x1e4)](_0x3c792d,_0x1b30d1)&&_0x136fdb){if(_0x8cb23b['wDgRL'](_0x8cb23b['SlOmy'],_0x8cb23b['SlOmy']))_0x2178ee['vpcInfo']['push'](_0x41372e);else return;}if(!_0x3c792d){if(_0x8cb23b[_0x504ef5(0x2e3)](_0x8cb23b['gASaY'],_0x8cb23b[_0x504ef5(0x1eb)]))return!![];else{logger[_0x504ef5(0x1c5)](_0x8cb23b[_0x504ef5(0x308)]);const _0x2bf6b1={};_0x2bf6b1['type']=WS_EVENTS[_0x504ef5(0x1a4)],_0x2bf6b1[_0x504ef5(0x26f)]=_0x8cb23b['xcpEG'],this[_0x504ef5(0x324)]['sendEventToBackend'](this[_0x504ef5(0x1fb)],_0x2bf6b1),_0x5d928f[_0x504ef5(0x38e)][_0x504ef5(0x38f)]=!![];}}if(!_0x1b30d1){if(_0x8cb23b[_0x504ef5(0x36a)](_0x8cb23b['taqaW'],_0x8cb23b['taqaW'])){logger[_0x504ef5(0x1c5)](_0x8cb23b[_0x504ef5(0x204)]);const _0x414b21={};_0x414b21[_0x504ef5(0x35c)]=WS_EVENTS[_0x504ef5(0x1a4)],_0x414b21[_0x504ef5(0x26f)]=_0x8cb23b[_0x504ef5(0x204)],this[_0x504ef5(0x324)]['sendEventToBackend'](this[_0x504ef5(0x1fb)],_0x414b21);const _0xa22a92={};_0xa22a92[_0x504ef5(0x38f)]=!![],_0x5d928f[_0x504ef5(0x219)]={'workloadIdentity':_0xa22a92,..._0x5d928f['securityProfile']};}else throw new _0x5a938b(_0x8cb23b['kOzhy'],_0x504ef5(0x242)+_0x4e38dd[_0x504ef5(0x234)](_0x4e295a));}if(!_0x136fdb){if(_0x8cb23b[_0x504ef5(0x216)](_0x8cb23b[_0x504ef5(0x1d6)],_0x8cb23b[_0x504ef5(0x2d8)])){logger['info'](_0x8cb23b[_0x504ef5(0x349)]);const _0x1e97e7={};_0x1e97e7[_0x504ef5(0x35c)]=WS_EVENTS['RESOURCES'],_0x1e97e7['message']=_0x8cb23b['tramt'],this[_0x504ef5(0x324)][_0x504ef5(0x24a)](this[_0x504ef5(0x1fb)],_0x1e97e7),_0x5d928f['disableLocalAccounts']=![];}else _0x45cc66['exit'](0x0);}await this['containerClient'][_0x504ef5(0x224)][_0x504ef5(0x341)](global_registry['cloudProviderResourceGroup'],this[_0x504ef5(0x37f)],_0x5d928f),await this[_0x504ef5(0x245)]();}async[a1_0x593c6f(0x337)](){const _0x4bc260=a1_0x593c6f,_0x13ac15={};_0x13ac15[_0x4bc260(0x1aa)]='2|0|5|1|4|3',_0x13ac15[_0x4bc260(0x1d3)]=function(_0x1f0f47,_0x3faa0f){return _0x1f0f47!==_0x3faa0f;},_0x13ac15[_0x4bc260(0x293)]=_0x4bc260(0x25d),_0x13ac15['UESnG']='FpEKS';const _0x1beee7=_0x13ac15,_0x1ae2cf=await this[_0x4bc260(0x25a)][_0x4bc260(0x2e6)][_0x4bc260(0x321)](global_registry[_0x4bc260(0x1be)]),_0x20c688={};_0x20c688[_0x4bc260(0x266)]=global_registry['bstackUsername'],_0x20c688[_0x4bc260(0x389)]=global_registry[_0x4bc260(0x285)],_0x20c688[_0x4bc260(0x345)]=AZURE,_0x20c688[_0x4bc260(0x2ca)]=[];const _0x56324c=_0x20c688;for await(const _0x5cae95 of _0x1ae2cf){if(_0x1beee7[_0x4bc260(0x1d3)](_0x1beee7[_0x4bc260(0x293)],_0x1beee7[_0x4bc260(0x1de)]))_0x56324c[_0x4bc260(0x2ca)]['push'](_0x5cae95);else{const _0x2b385e=_0x1beee7[_0x4bc260(0x1aa)]['split']('|');let _0x4f6b6d=0x0;while(!![]){switch(_0x2b385e[_0x4f6b6d++]){case'0':_0x5edbcc['cloudProviderClientSecret']=_0x446cd1[this[_0x4bc260(0x25c)]][_0x4bc260(0x23c)];continue;case'1':_0x257c31[_0x4bc260(0x2b2)]=_0x1bba65[this['cloudProviderName']][_0x4bc260(0x355)];continue;case'2':_0x2f4feb['cloudProviderClientId']=_0x3bf3c3[this[_0x4bc260(0x25c)]][_0x4bc260(0x275)];continue;case'3':this[_0x4bc260(0x229)]();continue;case'4':_0x2211cf[_0x4bc260(0x1be)]=_0x288914[this[_0x4bc260(0x25c)]][_0x4bc260(0x279)];continue;case'5':_0x49571a[_0x4bc260(0x265)]=_0x1b2f29[this['cloudProviderName']][_0x4bc260(0x251)];continue;}break;}}}const _0x21ac65={};_0x21ac65['type']=WS_EVENTS[_0x4bc260(0x1a4)],_0x21ac65['message']=_0x56324c,this['webSocketUtils']['sendEventToBackend'](this['rws'],_0x21ac65);}async[a1_0x593c6f(0x276)](_0x4cee59){const _0x13fc82=a1_0x593c6f,_0x336ad5={};_0x336ad5[_0x13fc82(0x32f)]='Managed\x20identity\x20already\x20exists,\x20skipping',_0x336ad5['UEKVZ']=function(_0x323f33,_0x5ab3b5){return _0x323f33===_0x5ab3b5;},_0x336ad5[_0x13fc82(0x2a7)]=function(_0x6e3e59,_0x155eec){return _0x6e3e59!==_0x155eec;},_0x336ad5[_0x13fc82(0x36e)]=_0x13fc82(0x305),_0x336ad5[_0x13fc82(0x2d5)]=_0x13fc82(0x378),_0x336ad5[_0x13fc82(0x367)]=_0x13fc82(0x1e7),_0x336ad5[_0x13fc82(0x2f9)]=function(_0x302e9c,_0xbe36a2){return _0x302e9c===_0xbe36a2;},_0x336ad5[_0x13fc82(0x22a)]='CGouK',_0x336ad5['cAzTV']=_0x13fc82(0x325),_0x336ad5['Xznsz']=function(_0x46d701,_0x31be66){return _0x46d701!==_0x31be66;},_0x336ad5[_0x13fc82(0x1bc)]=_0x13fc82(0x363),_0x336ad5[_0x13fc82(0x209)]=_0x13fc82(0x1d1);const _0x14cddc=_0x336ad5;try{if(_0x14cddc[_0x13fc82(0x2a7)](_0x14cddc[_0x13fc82(0x36e)],_0x14cddc['rMIde'])){const _0x2abffa=await this['networkClient'][_0x13fc82(0x2e6)][_0x13fc82(0x321)](global_registry[_0x13fc82(0x1be)]);for await(const _0x58902e of _0x2abffa){if(_0x14cddc['UEKVZ'](_0x14cddc[_0x13fc82(0x367)],_0x14cddc[_0x13fc82(0x367)])){if(_0x14cddc[_0x13fc82(0x2f9)](_0x58902e[_0x13fc82(0x33c)],_0x4cee59)){if(_0x14cddc[_0x13fc82(0x2a7)](_0x14cddc[_0x13fc82(0x22a)],_0x14cddc[_0x13fc82(0x362)]))return!![];else _0x2cb738[_0x13fc82(0x1c5)](_0x14cddc[_0x13fc82(0x32f)]);}}else return _0x1c135b[_0x13fc82(0x280)]('Cannot\x20find\x20subnets\x20'+_0x2b4d89+_0x13fc82(0x1c0)+_0x174cf9),[![],[]];}}else _0x41b8d7[_0x13fc82(0x2ff)](_0x2cfc79);}catch(_0x41187a){if(_0x14cddc[_0x13fc82(0x2e7)](_0x14cddc[_0x13fc82(0x1bc)],_0x14cddc[_0x13fc82(0x209)]))return logger[_0x13fc82(0x280)]('Cannot\x20find\x20VPC\x20'+_0x4cee59+_0x13fc82(0x1cc)+_0x41187a),![];else{if(_0x14cddc[_0x13fc82(0x21d)](_0x207477[_0x13fc82(0x33c)],_0x13fc82(0x1ad)+this[_0x13fc82(0x37f)]))return!![];}}return![];}async['isSubnetsValid'](_0x426f63,_0x477296){const _0x166b6f=a1_0x593c6f,_0x566559={};_0x566559[_0x166b6f(0x1df)]='Enabling\x20Local\x20account\x20for\x20the\x20cluster',_0x566559[_0x166b6f(0x232)]=function(_0x36554e,_0x5b54e1){return _0x36554e!==_0x5b54e1;},_0x566559[_0x166b6f(0x1e5)]=_0x166b6f(0x1d9),_0x566559[_0x166b6f(0x21b)]=_0x166b6f(0x2b9),_0x566559[_0x166b6f(0x2a0)]=function(_0x883b92,_0x40d128){return _0x883b92===_0x40d128;},_0x566559[_0x166b6f(0x20c)]=_0x166b6f(0x2a4),_0x566559[_0x166b6f(0x20d)]=_0x166b6f(0x205);const _0x1ce80f=_0x566559;try{if(_0x1ce80f['KekSn'](_0x1ce80f[_0x166b6f(0x1e5)],_0x1ce80f[_0x166b6f(0x21b)])){const _0x4d2850=await this['networkClient'][_0x166b6f(0x282)][_0x166b6f(0x2db)](global_registry[_0x166b6f(0x1be)],_0x477296,_0x426f63[0x0]);if(_0x1ce80f[_0x166b6f(0x2a0)](_0x426f63[0x0],_0x4d2850[_0x166b6f(0x33c)])){if(_0x1ce80f[_0x166b6f(0x2a0)](_0x1ce80f[_0x166b6f(0x20c)],_0x1ce80f[_0x166b6f(0x20d)]))_0xf7ca77[_0x166b6f(0x2ff)](_0xd768ac);else return[!![],_0x426f63];}}else{_0x58280a[_0x166b6f(0x1c5)](_0x1ce80f['JoKsw']);const _0xe48a81={};_0xe48a81[_0x166b6f(0x35c)]=_0x149030['RESOURCES'],_0xe48a81[_0x166b6f(0x26f)]=_0x1ce80f[_0x166b6f(0x1df)],this[_0x166b6f(0x324)][_0x166b6f(0x24a)](this[_0x166b6f(0x1fb)],_0xe48a81),_0x443a13['disableLocalAccounts']=![];}}catch(_0x492c90){return logger[_0x166b6f(0x280)](_0x166b6f(0x2d2)+_0x426f63+_0x166b6f(0x1c0)+_0x492c90),[![],[]];}return[![],[]];}async[a1_0x593c6f(0x2ab)](){const _0x57ab16=a1_0x593c6f,_0x568a1b={};_0x568a1b['HJeOe']='No\x20CLI\x20tool\x20required';const _0x220323=_0x568a1b,_0x22e4a4={};_0x22e4a4[_0x57ab16(0x327)]=!![],_0x22e4a4[_0x57ab16(0x280)]=null,_0x22e4a4['data']=_0x220323[_0x57ab16(0x29e)];const _0xe05e64=_0x22e4a4;return _0xe05e64;}async[a1_0x593c6f(0x22c)](){const _0x4b14d9=a1_0x593c6f,_0x42ae28={};_0x42ae28['Vcojb']=_0x4b14d9(0x2c8),_0x42ae28[_0x4b14d9(0x243)]='GET',_0x42ae28['dHIen']='application/json';const _0x12ded3=_0x42ae28,_0x42a56a=await this[_0x4b14d9(0x336)][_0x4b14d9(0x295)](_0x12ded3[_0x4b14d9(0x281)]),_0x194aa9={};_0x194aa9[_0x4b14d9(0x315)]=_0x12ded3[_0x4b14d9(0x243)],_0x194aa9[_0x4b14d9(0x38b)]={},_0x194aa9[_0x4b14d9(0x38b)][_0x4b14d9(0x2cd)]=_0x4b14d9(0x30c)+_0x42a56a[_0x4b14d9(0x226)],_0x194aa9[_0x4b14d9(0x38b)][_0x4b14d9(0x257)]=_0x12ded3['dHIen'];const _0x2db509=_0x194aa9;return _0x2db509;}async[a1_0x593c6f(0x338)](_0x1fe5b3){const _0x411c26=a1_0x593c6f,_0x2e7c17={'zcUGG':function(_0x4ad4c4,_0x190a65,_0x2ce1b5){return _0x4ad4c4(_0x190a65,_0x2ce1b5);},'ROlgv':function(_0x3b4967,_0x44bdc0){return _0x3b4967===_0x44bdc0;},'HvDAt':_0x411c26(0x297)},_0x3fac3b={};_0x3fac3b[_0x411c26(0x24d)]='',_0x3fac3b[_0x411c26(0x280)]=null;const _0x71fd9f=_0x3fac3b;try{const _0x7dc9de='https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27'+_0x1fe5b3+'\x27',_0x505c88=await this[_0x411c26(0x22c)](),_0x1c06be=await _0x2e7c17[_0x411c26(0x365)](fetch,_0x7dc9de,_0x505c88),_0x763231=await _0x1c06be[_0x411c26(0x19e)]();if(!_0x763231[_0x411c26(0x217)]||_0x2e7c17['ROlgv'](_0x763231[_0x411c26(0x217)][_0x411c26(0x1dc)],0x0))throw new Error(_0x2e7c17['HvDAt'],_0x411c26(0x242)+JSON[_0x411c26(0x234)](_0x763231));_0x71fd9f[_0x411c26(0x24d)]=_0x763231[_0x411c26(0x217)][0x0]['id'];}catch(_0x1d73ff){_0x71fd9f[_0x411c26(0x280)]=_0x1d73ff;}return _0x71fd9f;}async['checkAccess'](){const _0xe22069=a1_0x593c6f,_0x42058c={};_0x42058c[_0xe22069(0x307)]='allowed',_0x42058c[_0xe22069(0x2cf)]=_0xe22069(0x1ea),_0x42058c[_0xe22069(0x252)]=function(_0x2af5cd,_0x578a89){return _0x2af5cd!==_0x578a89;},_0x42058c[_0xe22069(0x2da)]=function(_0x1c94e3,_0x26e922){return _0x1c94e3===_0x26e922;},_0x42058c['GhoDD']=_0xe22069(0x2f4),_0x42058c[_0xe22069(0x255)]=function(_0x9986ad,_0x11dd2c){return _0x9986ad===_0x11dd2c;},_0x42058c[_0xe22069(0x246)]=_0xe22069(0x357),_0x42058c[_0xe22069(0x22b)]=function(_0x1c051f,_0x30de1e){return _0x1c051f===_0x30de1e;},_0x42058c[_0xe22069(0x36f)]=function(_0x487f9a,_0x540467){return _0x487f9a===_0x540467;},_0x42058c[_0xe22069(0x29f)]=_0xe22069(0x33a);const _0x1f36df=_0x42058c,_0x4caa24={};_0x4caa24[_0xe22069(0x327)]=![],_0x4caa24[_0xe22069(0x280)]=null,_0x4caa24['data']='';const _0x1a6b39=_0x4caa24;try{let _0x39ea07='';const _0x1dba65='subscriptions/'+global_registry[_0xe22069(0x2b2)]+'/resourceGroups/'+global_registry[_0xe22069(0x1be)],_0x4991cb=await this['getPrincipalIdFromClientId'](global_registry[_0xe22069(0x1b8)]);if(_0x1f36df[_0xe22069(0x252)](_0x4991cb[_0xe22069(0x280)],null))return _0x1a6b39[_0xe22069(0x280)]=_0x4991cb['error'],_0x1a6b39;const _0x4c2aff='assignedTo(\x27'+_0x4991cb['principalId']+'\x27)',_0x33b487={};_0x33b487[_0xe22069(0x1ec)]=_0x4c2aff;const _0x182080=await this['authClient']['roleAssignments']['listForScope'](_0x1dba65,_0x33b487),_0x3203d8=[];for await(const _0x4d3d1b of _0x182080){_0x3203d8[_0xe22069(0x2ff)](_0x4d3d1b);}if(_0x1f36df[_0xe22069(0x2da)](_0x3203d8[_0xe22069(0x1dc)],0x0))return _0x1a6b39['data']=_0x1f36df[_0xe22069(0x1f1)],_0x1a6b39;const _0xa633eb=[...new Set(_0x3203d8[_0xe22069(0x1a2)](_0x13a44e=>_0x13a44e['roleDefinitionId']))];if(_0x1f36df[_0xe22069(0x255)](_0xa633eb[_0xe22069(0x1dc)],0x0))return _0x1a6b39[_0xe22069(0x38a)]=_0x1f36df['fPBqW'],_0x1a6b39;const _0x1dd063=[],_0x403613=[];for(const _0xccdce2 of _0xa633eb){const _0x1ba8ed=await this[_0xe22069(0x287)]['roleDefinitions'][_0xe22069(0x304)](_0xccdce2);logger['debug'](_0xe22069(0x2e9)+_0x1ba8ed['roleName']),_0x1dd063[_0xe22069(0x2ff)](_0x1ba8ed),logger[_0xe22069(0x376)]('Attached\x20permissions\x20:\x20'+JSON[_0xe22069(0x234)](_0x1ba8ed[_0xe22069(0x35a)])),_0x1ba8ed[_0xe22069(0x35a)][_0xe22069(0x26d)](_0x1017d9=>{const _0x16bc45=_0xe22069;_0x403613[_0x16bc45(0x2ff)](..._0x1017d9[_0x16bc45(0x1a8)]);});}logger[_0xe22069(0x376)](_0xe22069(0x1b7)+JSON['stringify'](_0x403613)),_0x1f36df[_0xe22069(0x22b)](_0x403613[_0xe22069(0x1dc)],0x0)&&(_0x39ea07+=_0x1f36df[_0xe22069(0x36f)](_0x403613[_0xe22069(0x1dc)],0x0)?_0x1f36df['LzspJ']:'',logger[_0xe22069(0x376)]('Role\x20definition\x20response\x20list\x20\x20:\x20\x20'+JSON[_0xe22069(0x234)](_0x1dd063))),_0x1a6b39[_0xe22069(0x327)]=!![],Object['entries'](PERMISSIONS['ACTION'])[_0xe22069(0x26d)](([_0x29af2c,_0x3dcecc])=>{const _0x124724=_0xe22069,_0x5d9db8=_0x403613['includes'](_0x29af2c);_0x39ea07+='\x0a\x09'+_0x3dcecc+':\x20'+(_0x5d9db8?_0x1f36df['ASevY']:_0x1f36df['fIpdL']),!_0x5d9db8&&(_0x1a6b39[_0x124724(0x327)]=![]);}),_0x1a6b39['data']=_0x39ea07;}catch(_0x233e36){_0x1a6b39[_0xe22069(0x280)]=_0x233e36;}return _0x1a6b39;}}const a1_0x3ab6c9={};a1_0x3ab6c9[a1_0x593c6f(0x37e)]=AzureCloudProvider,module['exports']=a1_0x3ab6c9;