const a1_0x29643d=a1_0x2387;(function(_0x47d83c,_0x3969b7){const _0x23b3e5=a1_0x2387,_0x44429c=_0x47d83c();while(!![]){try{const _0x5ef01d=parseInt(_0x23b3e5(0x16c))/0x1*(parseInt(_0x23b3e5(0x20f))/0x2)+parseInt(_0x23b3e5(0x149))/0x3*(-parseInt(_0x23b3e5(0x30a))/0x4)+parseInt(_0x23b3e5(0x21a))/0x5+parseInt(_0x23b3e5(0x282))/0x6+parseInt(_0x23b3e5(0x170))/0x7+parseInt(_0x23b3e5(0x2f6))/0x8*(parseInt(_0x23b3e5(0x1af))/0x9)+-parseInt(_0x23b3e5(0x145))/0xa;if(_0x5ef01d===_0x3969b7)break;else _0x44429c['push'](_0x44429c['shift']());}catch(_0x51b833){_0x44429c['push'](_0x44429c['shift']());}}}(a1_0xc628,0x92706));const fs=require('fs'),path=require(a1_0x29643d(0x265)),yaml=require(a1_0x29643d(0x293)),{logger}=require(a1_0x29643d(0x28a)),{CloudProvider}=require(a1_0x29643d(0x19f)),{deleteRoutingDeps,deleteAgent}=require(a1_0x29643d(0x1da)),{AZURE,WS_EVENTS,global_registry}=require(a1_0x29643d(0x22b)),PERMISSIONS=require(a1_0x29643d(0x1c5)),{ClientSecretCredential}=require(a1_0x29643d(0x2b9)),{NetworkManagementClient}=require('@azure/arm-network'),{StorageManagementClient}=require(a1_0x29643d(0x1ae)),{AuthorizationManagementClient}=require(a1_0x29643d(0x2f1)),{ResourceManagementClient}=require(a1_0x29643d(0x2fe)),{ContainerServiceClient}=require(a1_0x29643d(0x1c6)),{runCommand}=require(a1_0x29643d(0x2d7));class AzureCloudProvider extends CloudProvider{constructor(_0x4ba70b,_0x278469,_0x1dd931,_0x2d6f40){const _0x1e5fa1=a1_0x29643d,_0x243265={};_0x243265[_0x1e5fa1(0x2c6)]=_0x1e5fa1(0x306);const _0x502d6f=_0x243265,_0x5b1578=_0x502d6f[_0x1e5fa1(0x2c6)]['split']('|');let _0x538232=0x0;while(!![]){switch(_0x5b1578[_0x538232++]){case'0':super(AZURE,_0x4ba70b,_0x278469,_0x1dd931,_0x2d6f40);continue;case'1':this[_0x1e5fa1(0x1ff)]=null;continue;case'2':this[_0x1e5fa1(0x22d)]=null;continue;case'3':this[_0x1e5fa1(0x255)]=null;continue;case'4':this['authClient']=null;continue;case'5':this[_0x1e5fa1(0x1d3)]=null;continue;case'6':this[_0x1e5fa1(0x253)]=null;continue;case'7':this['clusterInfo']=null;continue;}break;}}async[a1_0x29643d(0x129)](){return await super['init'](),this;}[a1_0x29643d(0x166)](){const _0x2fa707=a1_0x29643d,_0x985006=new ClientSecretCredential(global_registry[_0x2fa707(0x217)],global_registry[_0x2fa707(0x29e)],global_registry[_0x2fa707(0x26d)]);this[_0x2fa707(0x1d3)]=new ContainerServiceClient(_0x985006,global_registry[_0x2fa707(0x220)]),this[_0x2fa707(0x255)]=new StorageManagementClient(_0x985006,global_registry[_0x2fa707(0x220)]),this[_0x2fa707(0x22d)]=new ResourceManagementClient(_0x985006,global_registry[_0x2fa707(0x220)]),this['networkClient']=new NetworkManagementClient(_0x985006,global_registry[_0x2fa707(0x220)]),this['authClient']=new AuthorizationManagementClient(_0x985006,global_registry['cloudProviderSubscriptionId']),this[_0x2fa707(0x1ff)]=_0x985006;}[a1_0x29643d(0x1f6)](){const _0x485944=a1_0x29643d,_0x3944e5={};_0x3944e5[_0x485944(0x2de)]=function(_0x479537,_0x4f9755){return _0x479537+_0x4f9755;},_0x3944e5['lVgUC']=_0x485944(0x297),_0x3944e5['PCBMe']=function(_0x591f8d,_0x2fe851){return _0x591f8d-_0x2fe851;};const _0x125099=_0x3944e5,_0x251832=global_registry['s3Bucket']['split']('-'),_0xbec78a=_0x125099[_0x485944(0x2de)](_0x125099[_0x485944(0x241)],_0x251832[_0x125099[_0x485944(0x1b5)](_0x251832[_0x485944(0x1ce)],0x1)])[_0x485944(0x1fe)](0x0,0x18);return _0xbec78a[_0x485944(0x27a)]();}['setCachedCredsInRegistry'](_0x43acf5){const _0x659f78=a1_0x29643d,_0xeade16={};_0xeade16[_0x659f78(0x2b0)]=_0x659f78(0x14e);const _0x1ca4ec=_0xeade16,_0x4a161a=_0x1ca4ec[_0x659f78(0x2b0)]['split']('|');let _0x455f69=0x0;while(!![]){switch(_0x4a161a[_0x455f69++]){case'0':global_registry[_0x659f78(0x220)]=_0x43acf5[this[_0x659f78(0x26c)]][_0x659f78(0x2ec)];continue;case'1':global_registry[_0x659f78(0x29e)]=_0x43acf5[this[_0x659f78(0x26c)]][_0x659f78(0x25b)];continue;case'2':global_registry[_0x659f78(0x26d)]=_0x43acf5[this[_0x659f78(0x26c)]][_0x659f78(0x1d9)];continue;case'3':global_registry['cloudProviderTenantId']=_0x43acf5[this[_0x659f78(0x26c)]][_0x659f78(0x1e8)];continue;case'4':global_registry['cloudProviderResourceGroup']=_0x43acf5[this[_0x659f78(0x26c)]][_0x659f78(0x187)];continue;case'5':this[_0x659f78(0x166)]();continue;}break;}}async[a1_0x29643d(0x19e)](_0x49b50c,_0x49e21e){const _0x319ea9=a1_0x29643d,_0x596efe={'jPlej':'0|5|3|1|2|4','ONibG':function(_0x4c9d86,_0x127d0e,_0x16169d){return _0x4c9d86(_0x127d0e,_0x16169d);},'hsPSs':'Storage\x20account\x20already\x20exists,\x20skipping','anPyP':function(_0x4558c4,_0x243775){return _0x4558c4(_0x243775);},'HhdjM':function(_0x26ce41,_0x577e53){return _0x26ce41(_0x577e53);},'aTOXm':function(_0x42a835,_0xde5ffe){return _0x42a835(_0xde5ffe);},'EsOtS':function(_0x251428,_0x167c14){return _0x251428===_0x167c14;},'OfAYJ':_0x319ea9(0x206),'aoiiv':_0x319ea9(0x12d),'fMXmM':function(_0x2ed337,_0x97b128){return _0x2ed337(_0x97b128);},'gYRBx':function(_0x274c70,_0x20028d){return _0x274c70!==_0x20028d;},'kmBub':'KPaGV','FAcuE':_0x319ea9(0x159),'ItlKq':function(_0x5d28e8,_0x4655cf){return _0x5d28e8(_0x4655cf);},'NjUnO':function(_0x2941cf,_0x16d6ff){return _0x2941cf===_0x16d6ff;},'kadva':function(_0x228944,_0x4ae4ab){return _0x228944===_0x4ae4ab;},'PCVhV':_0x319ea9(0x150),'MFwRf':_0x319ea9(0x1a2),'PSCJu':_0x319ea9(0x18e),'WfaEX':function(_0xe86a51,_0x210d72){return _0xe86a51!==_0x210d72;},'MYujr':'rqcac','bGZKA':_0x319ea9(0x215),'HLdCt':function(_0x23806e,_0x1b62c9){return _0x23806e<_0x1b62c9;},'jQlyd':function(_0x1e8fef,_0x431352){return _0x1e8fef===_0x431352;},'atMYj':_0x319ea9(0x2d8),'qCglC':_0x319ea9(0x30e),'uMBqF':function(_0x268ee9,_0x4062dc){return _0x268ee9+_0x4062dc;},'Vcdff':_0x319ea9(0x289),'IVthM':function(_0x7f4a5,_0x305e09){return _0x7f4a5(_0x305e09);},'WdWbz':function(_0x418292,_0x50b163){return _0x418292<=_0x50b163;},'OvJLw':function(_0x528de5,_0x40338b){return _0x528de5>_0x40338b;},'eoePS':_0x319ea9(0x19c),'gyoRI':_0x319ea9(0x234),'bRoNV':function(_0x87c37b,_0x1c7252){return _0x87c37b-_0x1c7252;}},_0x5cdbdf=this[_0x319ea9(0x26c)]['toUpperCase'](),_0xd9bb2b=await _0x596efe['anPyP'](_0x49b50c,_0x5cdbdf+_0x319ea9(0x1a6)),_0x1a0745=await _0x596efe['anPyP'](_0x49b50c,_0x5cdbdf+_0x319ea9(0x2d3)),_0x27dd27=await _0x596efe[_0x319ea9(0x252)](_0x49b50c,_0x5cdbdf+_0x319ea9(0x13c)),_0x132c3e=await _0x596efe[_0x319ea9(0x1c3)](_0x49b50c,_0x5cdbdf+_0x319ea9(0x167));global_registry[_0x319ea9(0x29e)]=_0xd9bb2b,global_registry[_0x319ea9(0x26d)]=_0x1a0745,global_registry[_0x319ea9(0x217)]=_0x27dd27,global_registry['cloudProviderSubscriptionId']=_0x132c3e,this[_0x319ea9(0x166)]();const _0x1ed89b=await this[_0x319ea9(0x2ac)](),_0x61ef05=_0x1ed89b[_0x319ea9(0x1ce)];let _0x37a39a;if(_0x596efe['EsOtS'](_0x61ef05,0x0))_0x596efe[_0x319ea9(0x24c)](_0x596efe['OfAYJ'],_0x596efe['aoiiv'])?_0x59bb44[_0x319ea9(0x26e)]=_0x512e95:_0x37a39a=await _0x596efe[_0x319ea9(0x25d)](_0x49b50c,_0x5cdbdf+_0x319ea9(0x246));else{if(_0x596efe[_0x319ea9(0x24c)](_0x61ef05,0x1)){if(_0x596efe[_0x319ea9(0x208)](_0x596efe[_0x319ea9(0x219)],_0x596efe['FAcuE'])){const _0x27ad67=await _0x596efe[_0x319ea9(0x2c7)](_0x49b50c,_0x319ea9(0x1ee)+_0x1ed89b[0x0]+_0x319ea9(0x1b3));(_0x596efe[_0x319ea9(0x24c)](_0x27ad67,undefined)||_0x596efe[_0x319ea9(0x24c)](_0x27ad67,null)||!(_0x596efe['EsOtS'](_0x27ad67[_0x319ea9(0x27a)](),'y')||_0x596efe['NjUnO'](_0x27ad67[_0x319ea9(0x27a)](),'n')))&&(_0x596efe['kadva'](_0x596efe['PCVhV'],_0x596efe[_0x319ea9(0x2dd)])?(console[_0x319ea9(0x26e)](_0x596efe['MFwRf']),process['exit'](0x1)):_0x2e0d2e['push'](..._0xecf462['actions'])),_0x596efe[_0x319ea9(0x24c)](_0x27ad67['toLowerCase'](),'n')&&(_0x596efe[_0x319ea9(0x208)](_0x596efe['PSCJu'],_0x596efe[_0x319ea9(0x124)])?_0x479acd[_0x319ea9(0x12a)](_0x3290aa):process[_0x319ea9(0x21c)](0x0)),_0x37a39a=_0x1ed89b[0x0];}else _0x1212f2[_0x319ea9(0x130)]=![];}else{if(_0x596efe[_0x319ea9(0x2f2)](_0x596efe['MYujr'],_0x596efe[_0x319ea9(0x1c2)])){for(let _0x5aa0a5=0x0;_0x596efe[_0x319ea9(0x238)](_0x5aa0a5,_0x1ed89b[_0x319ea9(0x1ce)]);_0x5aa0a5+=0x1){if(_0x596efe[_0x319ea9(0x12f)](_0x596efe[_0x319ea9(0x2c9)],_0x596efe[_0x319ea9(0x2e9)])){const _0x515c1b=_0x596efe[_0x319ea9(0x1c8)]['split']('|');let _0x170aa1=0x0;while(!![]){switch(_0x515c1b[_0x170aa1++]){case'0':_0x2cae93[_0x319ea9(0x29e)]=_0x32aaf5[this['cloudProviderName']]['clientId'];continue;case'1':_0x1b8e4c[_0x319ea9(0x220)]=_0x472b8d[this['cloudProviderName']][_0x319ea9(0x2ec)];continue;case'2':_0x3877f9[_0x319ea9(0x174)]=_0x996f4b[this[_0x319ea9(0x26c)]][_0x319ea9(0x187)];continue;case'3':_0x34ffe['cloudProviderTenantId']=_0x469503[this[_0x319ea9(0x26c)]][_0x319ea9(0x1e8)];continue;case'4':this[_0x319ea9(0x166)]();continue;case'5':_0x501a08[_0x319ea9(0x26d)]=_0x159cdd[this['cloudProviderName']][_0x319ea9(0x1d9)];continue;}break;}}else console['log']('['+_0x596efe[_0x319ea9(0x175)](_0x5aa0a5,0x1)+']\x20'+_0x1ed89b[_0x5aa0a5]);}const _0x4f8c48=await _0x596efe[_0x319ea9(0x25d)](_0x49b50c,_0x596efe[_0x319ea9(0x188)]),_0x714655=_0x596efe['HhdjM'](Number,_0x4f8c48);(_0x596efe['IVthM'](isNaN,_0x714655)||_0x596efe[_0x319ea9(0x214)](_0x714655,0x0)||_0x596efe['OvJLw'](_0x714655,_0x61ef05))&&(_0x596efe['EsOtS'](_0x596efe[_0x319ea9(0x271)],_0x596efe[_0x319ea9(0x2bc)])?_0x596efe['ONibG'](_0x49d6c0,()=>_0x4580db(),0x3e8):(console['error'](_0x596efe[_0x319ea9(0x152)]),process[_0x319ea9(0x21c)](0x1))),_0x37a39a=_0x1ed89b[_0x596efe[_0x319ea9(0x16d)](_0x714655,0x1)];}else _0x46384c[_0x319ea9(0x2dc)](_0x596efe[_0x319ea9(0x233)]);}}global_registry['cloudProviderResourceGroup']=_0x37a39a;const _0x3aa045={};return _0x3aa045[_0x319ea9(0x25b)]=_0xd9bb2b,_0x3aa045[_0x319ea9(0x1d9)]=_0x1a0745,_0x3aa045[_0x319ea9(0x1e8)]=_0x27dd27,_0x3aa045[_0x319ea9(0x2ec)]=_0x132c3e,_0x3aa045[_0x319ea9(0x187)]=_0x37a39a,_0x49e21e[_0x319ea9(0x127)][AZURE]=_0x3aa045,_0x49e21e;}async['getResourceGroups'](){const _0x1b1356=a1_0x29643d,_0x354a8c={};_0x354a8c[_0x1b1356(0x232)]=function(_0x480d6b,_0x252022){return _0x480d6b===_0x252022;},_0x354a8c['hCeBB']='JHGiU',_0x354a8c['FjXpm']=_0x1b1356(0x2a6),_0x354a8c[_0x1b1356(0x139)]=function(_0x4b2ad9,_0x524342){return _0x4b2ad9!==_0x524342;},_0x354a8c[_0x1b1356(0x2d9)]=_0x1b1356(0x20c);const _0x5ac022=_0x354a8c,_0x396690=[];try{if(_0x5ac022['dQuNi'](_0x5ac022[_0x1b1356(0x17d)],_0x5ac022[_0x1b1356(0x250)]))return _0x209d63[_0x1b1356(0x26e)](_0x1b1356(0x135)+_0x30117c+_0x1b1356(0x1fd)+_0x1cd34f),[![],[]];else{const _0x5e811c=await this[_0x1b1356(0x22d)][_0x1b1356(0x197)]['list']();for await(const _0x2cac2a of _0x5e811c){_0x5ac022[_0x1b1356(0x139)](_0x5ac022[_0x1b1356(0x2d9)],_0x5ac022[_0x1b1356(0x2d9)])?_0x4a4f88[_0x1b1356(0x12a)](_0x227fcc):_0x396690[_0x1b1356(0x12a)](_0x2cac2a[_0x1b1356(0x24b)]);}}}catch(_0x3d50eb){}return _0x396690;}async['getClusterInfo'](){const _0x36dc1a=a1_0x29643d;return this[_0x36dc1a(0x2b4)]=await this[_0x36dc1a(0x1d3)][_0x36dc1a(0x1a5)]['get'](global_registry[_0x36dc1a(0x174)],this[_0x36dc1a(0x2c2)]),this[_0x36dc1a(0x2b4)];}async[a1_0x29643d(0x29f)](){const _0x467ba9=a1_0x29643d,_0x26f04f=await this[_0x467ba9(0x1d3)][_0x467ba9(0x1a5)][_0x467ba9(0x184)](global_registry[_0x467ba9(0x174)],this['clusterName']),_0x4089b1=_0x26f04f[_0x467ba9(0x2d0)][0x0][_0x467ba9(0x1bc)][_0x467ba9(0x29a)]();return _0x4089b1;}[a1_0x29643d(0x162)](_0x4803da){const _0x3ca7b8=a1_0x29643d;return _0x4803da[_0x3ca7b8(0x130)][_0x3ca7b8(0x1cf)][_0x3ca7b8(0x180)][0x0][_0x3ca7b8(0x30f)];}async[a1_0x29643d(0x299)](){const _0x309578=a1_0x29643d,_0xc8c9ed={};_0xc8c9ed[_0x309578(0x267)]=_0x309578(0x28c),_0xc8c9ed['clQmw']='No\x20service\x20principal\x20found',_0xc8c9ed[_0x309578(0x224)]=function(_0x396dfc,_0x2b3da6){return _0x396dfc===_0x2b3da6;},_0xc8c9ed[_0x309578(0x226)]='SITSV',_0xc8c9ed[_0x309578(0x309)]=function(_0x5b5cdf,_0x3439e0){return _0x5b5cdf!==_0x3439e0;},_0xc8c9ed[_0x309578(0x177)]=_0x309578(0x1ea),_0xc8c9ed['yvERT']=function(_0x456c1c,_0x395ea2){return _0x456c1c===_0x395ea2;},_0xc8c9ed['lmBpE']='dbijQ';const _0x3c07ac=_0xc8c9ed,_0x4c3c8f=new Array();for await(const _0x25899d of this[_0x309578(0x1d3)][_0x309578(0x1a5)][_0x309578(0x26a)](global_registry[_0x309578(0x174)])){if(_0x3c07ac[_0x309578(0x224)](_0x3c07ac[_0x309578(0x226)],_0x3c07ac[_0x309578(0x226)]))_0x4c3c8f[_0x309578(0x12a)](_0x25899d);else return _0x51c296['data']=_0x3c07ac['YLtou'],_0xa39487;}for await(const _0x2a504d of _0x4c3c8f){if(_0x3c07ac['kJPoK'](_0x3c07ac['QEZuQ'],_0x3c07ac[_0x309578(0x177)]))throw new _0x2ef44d(_0x3c07ac[_0x309578(0x16f)],_0x309578(0x1c0)+_0x531d72[_0x309578(0x191)](_0x5e1c04));else{if(_0x3c07ac['OjNQh'](_0x2a504d[_0x309578(0x24b)],this[_0x309578(0x2c2)]))return _0x3c07ac[_0x309578(0x237)](_0x3c07ac[_0x309578(0x2ad)],_0x3c07ac[_0x309578(0x2ad)])?(await this['getClusterInfo'](),!![]):_0x355248[_0x309578(0x130)][_0x309578(0x1cf)]['ingress'][0x0][_0x309578(0x30f)];}}return![];}async['setupNewCluster'](_0x5449de=null,_0x5c87e4=null){const _0x2553f5=a1_0x29643d,_0x225d4e={};_0x225d4e['htzum']=_0x2553f5(0x2f0),_0x225d4e['ZBKbG']=_0x2553f5(0x21e);const _0x403e94=_0x225d4e,_0x4f5efe=_0x403e94[_0x2553f5(0x2f4)][_0x2553f5(0x141)]('|');let _0x4ebabc=0x0;while(!![]){switch(_0x4f5efe[_0x4ebabc++]){case'0':const _0x1d1246={};_0x1d1246[_0x2553f5(0x29d)]=WS_EVENTS[_0x2553f5(0x2ef)],_0x1d1246[_0x2553f5(0x138)]=_0x403e94[_0x2553f5(0x310)],this[_0x2553f5(0x13d)][_0x2553f5(0x28b)](this[_0x2553f5(0x164)],_0x1d1246);continue;case'1':await this[_0x2553f5(0x20d)]();continue;case'2':await this[_0x2553f5(0x277)](_0x5449de,_0x5c87e4);continue;case'3':this[_0x2553f5(0x1f7)]();continue;case'4':logger[_0x2553f5(0x2dc)](_0x403e94['ZBKbG']);continue;case'5':return[_0x5449de,_0x5c87e4];}break;}}async[a1_0x29643d(0x277)](_0x3da6ac=null,_0xdae0af=null){const _0x53519f=a1_0x29643d,_0x12e837={};_0x12e837[_0x53519f(0x1bb)]=_0x53519f(0x200),_0x12e837['YtDsc']=_0x53519f(0x17f),_0x12e837[_0x53519f(0x2b8)]=_0x53519f(0x125),_0x12e837['nASYs']=_0x53519f(0x2f9),_0x12e837['BLKbn']=_0x53519f(0x292),_0x12e837[_0x53519f(0x148)]=_0x53519f(0x14f),_0x12e837[_0x53519f(0x12b)]=_0x53519f(0x147),_0x12e837['vlSYA']=function(_0x808f73,_0x12e3e0){return _0x808f73!==_0x12e3e0;},_0x12e837[_0x53519f(0x133)]=function(_0x53e5a4,_0x5979d5){return _0x53e5a4===_0x5979d5;},_0x12e837[_0x53519f(0x1b6)]=_0x53519f(0x2e4),_0x12e837[_0x53519f(0x2d6)]=_0x53519f(0x1d1),_0x12e837[_0x53519f(0x2a8)]='string',_0x12e837[_0x53519f(0x225)]=_0x53519f(0x2b7),_0x12e837[_0x53519f(0x20a)]=_0x53519f(0x260),_0x12e837[_0x53519f(0x2d5)]='[variables(\x27vnetSubnetID\x27)]',_0x12e837['RbpOv']=_0x53519f(0x120),_0x12e837[_0x53519f(0x308)]=_0x53519f(0x30b);const _0x51476d=_0x12e837;let _0x200760=await fs[_0x53519f(0x18c)](path['join'](__dirname,'..',_0x51476d[_0x53519f(0x15a)],_0x51476d[_0x53519f(0x2b8)],_0x51476d['nASYs']),_0x51476d[_0x53519f(0x22c)]);_0x200760=JSON[_0x53519f(0x13a)](_0x200760);const _0x2e0950={};_0x2e0950[_0x53519f(0x1bc)]=this[_0x53519f(0x2c2)];const _0x5b2458={};_0x5b2458['value']=global_registry[_0x53519f(0x19b)];const _0x83fff9={};_0x83fff9[_0x53519f(0x1bc)]=global_registry[_0x53519f(0x263)];const _0x2a63eb={};_0x2a63eb[_0x53519f(0x1bc)]=global_registry[_0x53519f(0x154)];const _0x38cb68={};_0x38cb68[_0x53519f(0x1bc)]=global_registry[_0x53519f(0x2ea)]?_0x51476d[_0x53519f(0x148)]:_0x51476d[_0x53519f(0x12b)];const _0x4d0ec3={};_0x4d0ec3[_0x53519f(0x2c2)]=_0x2e0950,_0x4d0ec3[_0x53519f(0x1ba)]=_0x5b2458,_0x4d0ec3['userInstanceType']=_0x83fff9,_0x4d0ec3[_0x53519f(0x2ed)]=_0x2a63eb,_0x4d0ec3[_0x53519f(0x2ea)]=_0x38cb68;let _0x259f20=_0x4d0ec3;if(_0x51476d[_0x53519f(0x259)](_0x3da6ac,null)&&_0x51476d['vlSYA'](_0xdae0af,null)){if(_0x51476d[_0x53519f(0x133)](_0x51476d[_0x53519f(0x1b6)],_0x51476d[_0x53519f(0x2d6)])){_0x5008fd[_0x53519f(0x2dc)](_0x51476d[_0x53519f(0x1bb)]);const _0x3908cc={};_0x3908cc['type']=_0x1edc2a['RESOURCES'],_0x3908cc['message']=_0x51476d[_0x53519f(0x1bb)],this['webSocketUtils'][_0x53519f(0x28b)](this[_0x53519f(0x164)],_0x3908cc),_0x21b880[_0x53519f(0x2b3)][_0x53519f(0x153)]=!![];}else{const _0x3c0c54={};_0x3c0c54['type']=_0x51476d[_0x53519f(0x2a8)],_0x3c0c54[_0x53519f(0x28d)]={},_0x3c0c54[_0x53519f(0x28d)][_0x53519f(0x2ee)]=_0x51476d[_0x53519f(0x225)];const _0x653891={};_0x653891['type']=_0x51476d[_0x53519f(0x2a8)],_0x653891[_0x53519f(0x28d)]={},_0x653891[_0x53519f(0x28d)][_0x53519f(0x2ee)]=_0x51476d[_0x53519f(0x225)],_0x200760[_0x53519f(0x216)]={..._0x200760[_0x53519f(0x216)],'vpcName':_0x3c0c54,'subnetName':_0x653891};const _0x9a85={};_0x9a85[_0x53519f(0x2c5)]=_0x51476d[_0x53519f(0x20a)],_0x200760['variables']=_0x9a85,_0x200760[_0x53519f(0x1f0)][0x0][_0x53519f(0x13e)][_0x53519f(0x1d0)][0x0]={..._0x200760['resources'][0x0]['properties']['agentPoolProfiles'][0x0],'vnetSubnetID':_0x51476d[_0x53519f(0x2d5)]};const _0x2b6fad={};_0x2b6fad[_0x53519f(0x1bc)]=_0x3da6ac;const _0x28e654={};_0x28e654['value']=_0xdae0af[0x0],_0x259f20={..._0x259f20,'vpcName':_0x2b6fad,'subnetName':_0x28e654};}}await this[_0x53519f(0x22d)][_0x53519f(0x24e)][_0x53519f(0x2e8)](global_registry[_0x53519f(0x174)],_0x51476d[_0x53519f(0x23a)],{'properties':{'template':_0x200760,'mode':_0x51476d[_0x53519f(0x308)],'parameters':_0x259f20}});}async[a1_0x29643d(0x20d)](){const _0x1ab3f7=a1_0x29643d,_0x492c9e={};_0x492c9e[_0x1ab3f7(0x1dd)]=function(_0x243997,_0x39b6d0){return _0x243997===_0x39b6d0;},_0x492c9e[_0x1ab3f7(0x302)]=function(_0x5646c3,_0x39df57){return _0x5646c3!==_0x39df57;},_0x492c9e[_0x1ab3f7(0x15f)]=_0x1ab3f7(0x17a),_0x492c9e[_0x1ab3f7(0x132)]=_0x1ab3f7(0x137),_0x492c9e[_0x1ab3f7(0x1c7)]=_0x1ab3f7(0x2fc),_0x492c9e['bZbMR']=_0x1ab3f7(0x248),_0x492c9e[_0x1ab3f7(0x171)]='Storage\x20account\x20already\x20exists,\x20skipping',_0x492c9e[_0x1ab3f7(0x240)]=_0x1ab3f7(0x2c3),_0x492c9e[_0x1ab3f7(0x1b1)]='NpPgs',_0x492c9e[_0x1ab3f7(0x1ed)]=_0x1ab3f7(0x272),_0x492c9e['zouCE']=_0x1ab3f7(0x1f8),_0x492c9e['ZJUXG']=_0x1ab3f7(0x228),_0x492c9e[_0x1ab3f7(0x1bd)]=_0x1ab3f7(0x258),_0x492c9e['pcAHO']=_0x1ab3f7(0x1e2),_0x492c9e['qPBli']=_0x1ab3f7(0x2a3);const _0x4d5dde=_0x492c9e,_0x49835a=await this[_0x1ab3f7(0x24f)]();if(!_0x49835a){if(_0x4d5dde['jRwCG'](_0x4d5dde[_0x1ab3f7(0x15f)],_0x4d5dde[_0x1ab3f7(0x15f)]))_0x2cf6ce['vpcInfo'][_0x1ab3f7(0x12a)](_0x58d051);else{const _0x5a4618={};_0x5a4618[_0x1ab3f7(0x29d)]=WS_EVENTS[_0x1ab3f7(0x2ef)],_0x5a4618['message']=_0x4d5dde['UvzzA'],this[_0x1ab3f7(0x13d)][_0x1ab3f7(0x28b)](this[_0x1ab3f7(0x164)],_0x5a4618),logger[_0x1ab3f7(0x2dc)](_0x4d5dde[_0x1ab3f7(0x132)]),await this[_0x1ab3f7(0x2b1)]();}}else{if(_0x4d5dde[_0x1ab3f7(0x1dd)](_0x4d5dde['UmJWM'],_0x4d5dde['bZbMR']))return _0x225ec9['error']=_0x485f19['error'],_0x14de8e;else logger[_0x1ab3f7(0x2dc)](_0x4d5dde['ONqGc']);}const _0x2f4173=await this[_0x1ab3f7(0x26b)]();if(!_0x2f4173){if(_0x4d5dde[_0x1ab3f7(0x302)](_0x4d5dde[_0x1ab3f7(0x240)],_0x4d5dde[_0x1ab3f7(0x1b1)])){const _0xf1c424={};_0xf1c424[_0x1ab3f7(0x29d)]=WS_EVENTS[_0x1ab3f7(0x2ef)],_0xf1c424[_0x1ab3f7(0x138)]=_0x4d5dde[_0x1ab3f7(0x1ed)],this[_0x1ab3f7(0x13d)][_0x1ab3f7(0x28b)](this[_0x1ab3f7(0x164)],_0xf1c424),logger['info'](_0x4d5dde[_0x1ab3f7(0x1ed)]),await this['createManagedIdentity']();}else{if(_0x4d5dde[_0x1ab3f7(0x1dd)](_0x5655ad['name'],_0x230f29))return!![];}}else _0x4d5dde[_0x1ab3f7(0x1dd)](_0x4d5dde[_0x1ab3f7(0x207)],_0x4d5dde['ZJUXG'])?_0x170934=_0x2b3cb0['id']:logger[_0x1ab3f7(0x2dc)](_0x4d5dde[_0x1ab3f7(0x1bd)]);logger[_0x1ab3f7(0x2dc)](_0x4d5dde[_0x1ab3f7(0x190)]),await this[_0x1ab3f7(0x1e6)](),logger['info'](_0x4d5dde[_0x1ab3f7(0x2cd)]);}async[a1_0x29643d(0x2b1)](){const _0x436b9e=a1_0x29643d,_0x30afcf={};_0x30afcf[_0x436b9e(0x1a3)]=_0x436b9e(0x17f),_0x30afcf[_0x436b9e(0x27b)]=_0x436b9e(0x125),_0x30afcf[_0x436b9e(0x2e3)]=_0x436b9e(0x21d),_0x30afcf[_0x436b9e(0x158)]=_0x436b9e(0x292),_0x30afcf[_0x436b9e(0x18a)]='turboscale-storageaccount-deployment',_0x30afcf[_0x436b9e(0x128)]='Incremental',_0x30afcf[_0x436b9e(0x245)]=_0x436b9e(0x199),_0x30afcf[_0x436b9e(0x17b)]='Lifecycle',_0x30afcf['UfQKo']=_0x436b9e(0x15c),_0x30afcf[_0x436b9e(0x25c)]=_0x436b9e(0x123);const _0x3044d2=_0x30afcf;let _0x3df9ef=await fs[_0x436b9e(0x18c)](path['join'](__dirname,'..',_0x3044d2[_0x436b9e(0x1a3)],_0x3044d2[_0x436b9e(0x27b)],_0x3044d2[_0x436b9e(0x2e3)]),_0x3044d2[_0x436b9e(0x158)]);_0x3df9ef=JSON[_0x436b9e(0x13a)](_0x3df9ef);const _0xb0142a=this['getStorageAccountName'](),_0x40ad81={};_0x40ad81[_0x436b9e(0x1bc)]=_0xb0142a;const _0x506dda={};_0x506dda[_0x436b9e(0x27e)]=_0x40ad81,await this['resourceClient'][_0x436b9e(0x24e)]['beginCreateOrUpdateAndWait'](global_registry['cloudProviderResourceGroup'],_0x3044d2[_0x436b9e(0x18a)],{'properties':{'template':_0x3df9ef,'mode':_0x3044d2['pqUhr'],'parameters':_0x506dda}});const _0x204f90={};_0x204f90['daysAfterCreationGreaterThan']=0x3c;const _0x5a68f4={};_0x5a68f4[_0x436b9e(0x23c)]=_0x204f90;const _0x38f0d3={};_0x38f0d3[_0x436b9e(0x1cc)]=_0x5a68f4;const _0x3e1013={};_0x3e1013[_0x436b9e(0x153)]=!![],_0x3e1013[_0x436b9e(0x24b)]=_0x3044d2[_0x436b9e(0x245)],_0x3e1013[_0x436b9e(0x29d)]=_0x3044d2['BSzxx'],_0x3e1013[_0x436b9e(0x21b)]={},_0x3e1013[_0x436b9e(0x21b)][_0x436b9e(0x278)]=_0x38f0d3,_0x3e1013[_0x436b9e(0x21b)][_0x436b9e(0x1b9)]={},_0x3e1013[_0x436b9e(0x21b)][_0x436b9e(0x1b9)][_0x436b9e(0x1e0)]=[_0x3044d2['UfQKo']];const _0x5e3cdc={};_0x5e3cdc[_0x436b9e(0x266)]=[_0x3e1013];const _0x36cf14={};_0x36cf14[_0x436b9e(0x1e1)]=_0x5e3cdc;const _0x8ad75a=_0x36cf14;await this[_0x436b9e(0x255)][_0x436b9e(0x2f7)][_0x436b9e(0x2bf)](global_registry[_0x436b9e(0x174)],_0xb0142a,_0x3044d2[_0x436b9e(0x25c)],_0x8ad75a);}async[a1_0x29643d(0x14b)](){const _0x2e6aec=a1_0x29643d,_0x165ad5={};_0x165ad5[_0x2e6aec(0x176)]=_0x2e6aec(0x17f),_0x165ad5[_0x2e6aec(0x1d4)]=_0x2e6aec(0x125),_0x165ad5[_0x2e6aec(0x2cf)]='managedidentity.json',_0x165ad5['eiNmd']=_0x2e6aec(0x292),_0x165ad5[_0x2e6aec(0x155)]=_0x2e6aec(0x1a9),_0x165ad5['XAWsF']=_0x2e6aec(0x30b);const _0x3a6e35=_0x165ad5;let _0x483ad3=await fs['readFileAsync'](path[_0x2e6aec(0x22f)](__dirname,'..',_0x3a6e35[_0x2e6aec(0x176)],_0x3a6e35[_0x2e6aec(0x1d4)],_0x3a6e35[_0x2e6aec(0x2cf)]),_0x3a6e35[_0x2e6aec(0x183)]);_0x483ad3=JSON[_0x2e6aec(0x13a)](_0x483ad3),await this[_0x2e6aec(0x22d)][_0x2e6aec(0x24e)]['beginCreateOrUpdateAndWait'](global_registry[_0x2e6aec(0x174)],_0x3a6e35[_0x2e6aec(0x155)],{'properties':{'template':_0x483ad3,'mode':_0x3a6e35['XAWsF'],'parameters':{'clusterName':{'value':this[_0x2e6aec(0x2c2)]}}}});}async['createFederatedAccount'](){const _0x6fbe48=a1_0x29643d,_0x4e9bfa={};_0x4e9bfa[_0x6fbe48(0x1bf)]=_0x6fbe48(0x30c),_0x4e9bfa[_0x6fbe48(0x169)]=function(_0x75378d,_0x115380){return _0x75378d===_0x115380;},_0x4e9bfa['SlzFd']=_0x6fbe48(0x136),_0x4e9bfa['kyPBa']=_0x6fbe48(0x2b6),_0x4e9bfa[_0x6fbe48(0x212)]=_0x6fbe48(0x2b5),_0x4e9bfa['jauVz']=function(_0x540a1c,_0x1338c0){return _0x540a1c!==_0x1338c0;},_0x4e9bfa[_0x6fbe48(0x165)]=_0x6fbe48(0x1f1),_0x4e9bfa['NNyfw']=_0x6fbe48(0x17f),_0x4e9bfa[_0x6fbe48(0x2b2)]=_0x6fbe48(0x125),_0x4e9bfa[_0x6fbe48(0x275)]=_0x6fbe48(0x292),_0x4e9bfa[_0x6fbe48(0x223)]=_0x6fbe48(0x242),_0x4e9bfa[_0x6fbe48(0x2a5)]=_0x6fbe48(0x30b);const _0x4c6df0=_0x4e9bfa;if(!this[_0x6fbe48(0x2b4)]){if(_0x4c6df0[_0x6fbe48(0x169)](_0x4c6df0[_0x6fbe48(0x229)],_0x4c6df0[_0x6fbe48(0x229)]))await this[_0x6fbe48(0x15b)]();else{_0x47bed0[_0x6fbe48(0x2dc)](_0x4c6df0[_0x6fbe48(0x1bf)]);const _0x42fc24={};_0x42fc24['type']=_0xf52e07[_0x6fbe48(0x1e3)],_0x42fc24['message']=_0x4c6df0['oMXgj'],this[_0x6fbe48(0x13d)][_0x6fbe48(0x28b)](this['rws'],_0x42fc24),_0x50c152[_0x6fbe48(0x312)]=![];}}const _0xb40797=this['clusterInfo']?.['oidcIssuerProfile']?.[_0x6fbe48(0x1a8)],_0x1241b4=[_0x4c6df0[_0x6fbe48(0x256)],_0x4c6df0[_0x6fbe48(0x212)]];for await(const _0xf384f7 of _0x1241b4){if(_0x4c6df0[_0x6fbe48(0x2be)](_0x4c6df0[_0x6fbe48(0x165)],_0x4c6df0[_0x6fbe48(0x165)])){if(_0x4c6df0[_0x6fbe48(0x169)](_0x1e62d2[_0x6fbe48(0x24b)],_0x6fbe48(0x210)+this[_0x6fbe48(0x2c2)]))return!![];}else{let _0x3f9850=await fs[_0x6fbe48(0x18c)](path[_0x6fbe48(0x22f)](__dirname,'..',_0x4c6df0[_0x6fbe48(0x195)],_0x4c6df0[_0x6fbe48(0x2b2)],_0x6fbe48(0x140)+_0xf384f7+_0x6fbe48(0x262)),_0x4c6df0[_0x6fbe48(0x275)]);_0x3f9850=JSON[_0x6fbe48(0x13a)](_0x3f9850);const _0x2b7eaf={};_0x2b7eaf[_0x6fbe48(0x1bc)]=_0xb40797,await this['resourceClient']['deployments'][_0x6fbe48(0x2e8)](global_registry['cloudProviderResourceGroup'],_0x4c6df0[_0x6fbe48(0x223)],{'properties':{'template':_0x3f9850,'mode':_0x4c6df0['JOVfp'],'parameters':{'oidcIssuer':_0x2b7eaf,'gridName':{'value':this['gridName']},'clusterName':{'value':this[_0x6fbe48(0x2c2)]}}}});}}}async['setupHubHa'](_0x57acdc,_0xdb4fc7,_0x11d90f,_0x2b8230,_0x308fe1){const _0x106927=a1_0x29643d,_0x1414d5={};_0x1414d5[_0x106927(0x194)]='Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha',_0x1414d5[_0x106927(0x173)]=_0x106927(0x2a7);const _0x216740=_0x1414d5,_0xf3c3f={};_0xf3c3f[_0x106927(0x29d)]=WS_EVENTS['LOG'],_0xf3c3f[_0x106927(0x138)]=_0x216740['wQaTC'],this[_0x106927(0x13d)]['sendEventToBackend'](this[_0x106927(0x164)],_0xf3c3f),logger[_0x106927(0x2dc)](_0x216740[_0x106927(0x194)]),await this[_0x106927(0x1e4)]();const _0x590d14={};_0x590d14[_0x106927(0x29d)]=WS_EVENTS[_0x106927(0x2ef)],_0x590d14['message']=_0x216740['ZwLZc'],this[_0x106927(0x13d)][_0x106927(0x28b)](this[_0x106927(0x164)],_0x590d14);}async[a1_0x29643d(0x1e4)](){const _0x1671e8=a1_0x29643d,_0x4770a9={};_0x4770a9['YbWTV']=_0x1671e8(0x1de),_0x4770a9[_0x1671e8(0x13b)]=function(_0x4d64d0,_0x166eac){return _0x4d64d0!==_0x166eac;},_0x4770a9[_0x1671e8(0x211)]='TeeYo',_0x4770a9[_0x1671e8(0x298)]='templates',_0x4770a9[_0x1671e8(0x2df)]=_0x1671e8(0x14d),_0x4770a9['ylHln']='federatedidentityuploader.json',_0x4770a9[_0x1671e8(0x1d7)]=_0x1671e8(0x292),_0x4770a9[_0x1671e8(0x303)]=_0x1671e8(0x242),_0x4770a9[_0x1671e8(0x1d5)]=_0x1671e8(0x30b);const _0x5a80c4=_0x4770a9;if(!this['clusterInfo']){if(_0x5a80c4['pkrOY'](_0x5a80c4[_0x1671e8(0x211)],_0x5a80c4[_0x1671e8(0x211)])){const _0x67d943={};_0x67d943['status']=!![],_0x67d943[_0x1671e8(0x26e)]=null,_0x67d943[_0x1671e8(0x203)]=_0x5a80c4['YbWTV'];const _0xe51fad=_0x67d943;return _0xe51fad;}else await this['getClusterInfo']();}const _0x4f290f=this[_0x1671e8(0x2b4)]?.[_0x1671e8(0x2b3)]?.['issuerURL'];let _0x1f98e3=await fs['readFileAsync'](path[_0x1671e8(0x22f)](__dirname,'..',_0x5a80c4[_0x1671e8(0x298)],_0x5a80c4['ytglB'],_0x5a80c4[_0x1671e8(0x121)]),_0x5a80c4[_0x1671e8(0x1d7)]);_0x1f98e3=JSON[_0x1671e8(0x13a)](_0x1f98e3);const _0x316b7a={};_0x316b7a[_0x1671e8(0x1bc)]=_0x4f290f,await this['resourceClient'][_0x1671e8(0x24e)][_0x1671e8(0x2e8)](global_registry[_0x1671e8(0x174)],_0x5a80c4[_0x1671e8(0x303)],{'properties':{'template':_0x1f98e3,'mode':_0x5a80c4[_0x1671e8(0x1d5)],'parameters':{'oidcIssuer':_0x316b7a,'namespace':{'value':global_registry[_0x1671e8(0x311)]},'clusterName':{'value':this[_0x1671e8(0x2c2)]}}}});}async[a1_0x29643d(0x24f)](){const _0x4ebfde=a1_0x29643d,_0x156152={};_0x156152[_0x4ebfde(0x1fc)]=_0x4ebfde(0x1a2),_0x156152[_0x4ebfde(0x2a0)]=function(_0x26f7a5,_0xbe666e){return _0x26f7a5!==_0xbe666e;},_0x156152['rzNAB']=_0x4ebfde(0x2c8),_0x156152[_0x4ebfde(0x243)]=function(_0xd18fa2,_0x4ef9c0){return _0xd18fa2!==_0x4ef9c0;},_0x156152[_0x4ebfde(0x16e)]=_0x4ebfde(0x30d),_0x156152[_0x4ebfde(0x168)]='gmyWl',_0x156152[_0x4ebfde(0x261)]=function(_0x4134cb,_0x568804){return _0x4134cb===_0x568804;},_0x156152['xMZwd']=function(_0xe07a5c,_0x5b7948){return _0xe07a5c!==_0x5b7948;},_0x156152[_0x4ebfde(0x22a)]=_0x4ebfde(0x20b);const _0x1b9471=_0x156152,_0x37fbc8=this[_0x4ebfde(0x1f6)](),_0x28471a=new Array();for await(const _0x3a5725 of this[_0x4ebfde(0x255)]['storageAccounts'][_0x4ebfde(0x26a)](global_registry[_0x4ebfde(0x174)])){_0x1b9471[_0x4ebfde(0x2a0)](_0x1b9471[_0x4ebfde(0x1a0)],_0x1b9471[_0x4ebfde(0x1a0)])?(_0x7d246e[_0x4ebfde(0x26e)](_0x1b9471[_0x4ebfde(0x1fc)]),_0x40a650[_0x4ebfde(0x21c)](0x1)):_0x28471a[_0x4ebfde(0x12a)](_0x3a5725);}for await(const _0x3fa57e of _0x28471a){if(_0x1b9471[_0x4ebfde(0x243)](_0x1b9471[_0x4ebfde(0x16e)],_0x1b9471['YPvpn'])){if(_0x1b9471[_0x4ebfde(0x261)](_0x3fa57e[_0x4ebfde(0x24b)],_0x37fbc8)){if(_0x1b9471[_0x4ebfde(0x144)](_0x1b9471[_0x4ebfde(0x22a)],_0x1b9471['YEXvs']))_0x51c9a8[_0x4ebfde(0x12a)](_0x2da82e);else return!![];}}else _0x24ec2d[_0x4ebfde(0x21c)](0x0);}return![];}async[a1_0x29643d(0x26b)](){const _0x49cb46=a1_0x29643d,_0x30a335={};_0x30a335[_0x49cb46(0x160)]=function(_0x1e3fc9,_0x3e3d3e){return _0x1e3fc9===_0x3e3d3e;},_0x30a335['uJwdE']=_0x49cb46(0x13f),_0x30a335[_0x49cb46(0x286)]=function(_0x32429c,_0x505830){return _0x32429c!==_0x505830;},_0x30a335[_0x49cb46(0x18b)]=_0x49cb46(0x15e),_0x30a335[_0x49cb46(0x192)]=_0x49cb46(0x27c),_0x30a335[_0x49cb46(0x2a9)]=function(_0x366b25,_0x59000e){return _0x366b25===_0x59000e;},_0x30a335[_0x49cb46(0x274)]=_0x49cb46(0x2d4),_0x30a335[_0x49cb46(0x273)]=_0x49cb46(0x222);const _0x21fbce=_0x30a335,_0x1ef739=new Array();for await(const _0x569062 of this[_0x49cb46(0x22d)][_0x49cb46(0x1f0)][_0x49cb46(0x26a)](global_registry[_0x49cb46(0x174)])){if(_0x21fbce[_0x49cb46(0x160)](_0x21fbce[_0x49cb46(0x182)],_0x21fbce[_0x49cb46(0x182)]))_0x1ef739[_0x49cb46(0x12a)](_0x569062);else return!![];}for await(const _0x20e2e4 of _0x1ef739){if(_0x21fbce[_0x49cb46(0x286)](_0x21fbce[_0x49cb46(0x18b)],_0x21fbce[_0x49cb46(0x192)])){if(_0x21fbce[_0x49cb46(0x2a9)](_0x20e2e4[_0x49cb46(0x24b)],'turboscale-managed-identity-'+this[_0x49cb46(0x2c2)])){if(_0x21fbce['kTsYS'](_0x21fbce[_0x49cb46(0x274)],_0x21fbce['vHEgk']))return;else return!![];}}else return!![];}return![];}async[a1_0x29643d(0x1b7)](_0x3db46a,_0x4295af=0x3){const _0x4cfff2=a1_0x29643d,_0x87aafe={'ZdhPL':function(_0x5ec6af,_0x46cf4a){return _0x5ec6af===_0x46cf4a;},'Zkbmz':'No\x20attached\x20role\x20for\x20the\x20client\x20key','pUwqT':function(_0x56a8e5,_0x4d7713){return _0x56a8e5+_0x4d7713;},'NsTyp':_0x4cfff2(0x297),'BJiwF':function(_0x4426f1,_0x2bf655){return _0x4426f1-_0x2bf655;},'liiZg':_0x4cfff2(0x1a2),'SxuEE':function(_0x419350,_0x3f8937){return _0x419350!==_0x3f8937;},'lZiba':'TNPux','JWtdx':function(_0x386493,_0xfceee6,_0xa27dbe){return _0x386493(_0xfceee6,_0xa27dbe);},'faHKg':'mEenq','mjltG':'FhtuH','WoOhU':function(_0x45932c,_0x2c212c){return _0x45932c===_0x2c212c;},'sUKls':'BkhTo','SbPCM':_0x4cfff2(0x151),'Dheao':function(_0x503f26,_0x521bcb){return _0x503f26===_0x521bcb;},'dJsBT':_0x4cfff2(0x25e),'LKMHu':_0x4cfff2(0x1db),'iSAje':function(_0x4938c6,_0x266b26){return _0x4938c6===_0x266b26;},'IgOxW':_0x4cfff2(0x301),'ZszSn':_0x4cfff2(0x146),'BQgID':function(_0x14ccad,_0x4f1b4b){return _0x14ccad<=_0x4f1b4b;},'RRTjb':_0x4cfff2(0x1ef)};try{if(_0x87aafe[_0x4cfff2(0x1a4)](_0x87aafe[_0x4cfff2(0x2ca)],_0x87aafe[_0x4cfff2(0x2ca)])){const _0x7630e4=new Array();for await(const _0x44da6e of this[_0x4cfff2(0x22d)]['resources'][_0x4cfff2(0x26a)](global_registry['cloudProviderResourceGroup'])){_0x87aafe[_0x4cfff2(0x1a4)](_0x87aafe[_0x4cfff2(0x285)],_0x87aafe[_0x4cfff2(0x285)])?_0x7630e4[_0x4cfff2(0x12a)](_0x44da6e):_0x87aafe[_0x4cfff2(0x1a4)](_0x424a89[_0x4cfff2(0x24b)],_0x4daac1)&&(_0x14f27c=_0x1251a4['id']);}let _0x2bd213='';for await(const _0x1e861c of _0x7630e4){if(_0x87aafe['WoOhU'](_0x87aafe[_0x4cfff2(0x284)],_0x87aafe[_0x4cfff2(0x2e0)]))return _0x275193['data']=_0x87aafe['Zkbmz'],_0x2a5e1c;else _0x87aafe[_0x4cfff2(0x257)](_0x1e861c[_0x4cfff2(0x24b)],_0x3db46a)&&(_0x87aafe['SxuEE'](_0x87aafe[_0x4cfff2(0x21f)],_0x87aafe[_0x4cfff2(0x21f)])?_0x174766[_0x4cfff2(0x2ba)]('['+_0x87aafe['pUwqT'](_0x2aef86,0x1)+']\x20'+_0x4d60cb[_0x2d4ed0]):_0x2bd213=_0x1e861c['id']);}const _0x38b399=await this['resourceClient'][_0x4cfff2(0x1f0)]['getById'](_0x2bd213,_0x87aafe[_0x4cfff2(0x1d2)]);return _0x38b399['properties'][_0x4cfff2(0x25b)];}else{const _0x47ae7f=new _0x33e04e(_0x3e14f9[_0x4cfff2(0x217)],_0xad52b9[_0x4cfff2(0x29e)],_0x4286eb[_0x4cfff2(0x26d)]);this[_0x4cfff2(0x1d3)]=new _0x2232a4(_0x47ae7f,_0x2b39f1[_0x4cfff2(0x220)]),this[_0x4cfff2(0x255)]=new _0x1620c6(_0x47ae7f,_0x559053[_0x4cfff2(0x220)]),this['resourceClient']=new _0x4c9a6a(_0x47ae7f,_0x1a46e8[_0x4cfff2(0x220)]),this[_0x4cfff2(0x253)]=new _0x1f52f1(_0x47ae7f,_0x83886a[_0x4cfff2(0x220)]),this['authClient']=new _0x124c96(_0x47ae7f,_0x188e0d[_0x4cfff2(0x220)]),this[_0x4cfff2(0x1ff)]=_0x47ae7f;}}catch(_0x4d19f8){if(_0x87aafe['iSAje'](_0x87aafe[_0x4cfff2(0x1b4)],_0x87aafe[_0x4cfff2(0x1d8)])){const _0x48f2ef=_0x38292d[_0x4cfff2(0x23e)][_0x4cfff2(0x141)]('-'),_0x409a54=_0x87aafe[_0x4cfff2(0x305)](_0x87aafe['NsTyp'],_0x48f2ef[_0x87aafe[_0x4cfff2(0x279)](_0x48f2ef[_0x4cfff2(0x1ce)],0x1)])['slice'](0x0,0x18);return _0x409a54['toLowerCase']();}else{if(_0x87aafe[_0x4cfff2(0x249)](_0x4295af,0x0)){if(_0x87aafe['ZdhPL'](_0x87aafe['RRTjb'],_0x87aafe['RRTjb']))return logger['error'](_0x4cfff2(0x2a2)+_0x4d19f8+':'+_0x4d19f8[_0x4cfff2(0x247)]),{};else _0x53c79c[_0x4cfff2(0x26e)](_0x87aafe[_0x4cfff2(0x276)]),_0x5b0294['exit'](0x1);}return await new Promise(_0x1b02cb=>{const _0x14980a=_0x4cfff2;if(_0x87aafe[_0x14980a(0x281)](_0x87aafe[_0x14980a(0x2fb)],_0x87aafe[_0x14980a(0x2fb)]))return!![];else _0x87aafe['JWtdx'](setTimeout,()=>_0x1b02cb(),0x3e8);}),this[_0x4cfff2(0x1b7)](_0x3db46a,_0x87aafe[_0x4cfff2(0x279)](_0x4295af,0x1));}}}async['isBrowserstackCluster'](){const _0x4036e8=a1_0x29643d,_0x130856={};_0x130856[_0x4036e8(0x196)]=function(_0x9cbd72,_0x3f9a46){return _0x9cbd72!==_0x3f9a46;},_0x130856[_0x4036e8(0x1c1)]=_0x4036e8(0x2e5),_0x130856[_0x4036e8(0x1ec)]=_0x4036e8(0x269),_0x130856[_0x4036e8(0x1a1)]=function(_0x303aed,_0x170c99){return _0x303aed===_0x170c99;},_0x130856[_0x4036e8(0x204)]=_0x4036e8(0x1f4),_0x130856['WCcLW']=_0x4036e8(0x143),_0x130856[_0x4036e8(0x2bb)]='uebJo',_0x130856[_0x4036e8(0x161)]=_0x4036e8(0x231);const _0x52d1c6=_0x130856;if(!this[_0x4036e8(0x2b4)]){if(_0x52d1c6['dSVkN'](_0x52d1c6[_0x4036e8(0x1c1)],_0x52d1c6[_0x4036e8(0x1ec)]))await this['getClusterInfo']();else return _0x7efa1e[_0x4036e8(0x26e)](_0x4036e8(0x2a2)+_0x4abc5c+':'+_0x2bbb04['stack']),{};}const _0x41c322=this[_0x4036e8(0x2b4)]?.['tags']||{};if(_0x41c322&&_0x52d1c6[_0x4036e8(0x1a1)](_0x41c322[_0x52d1c6[_0x4036e8(0x204)]],_0x52d1c6[_0x4036e8(0x2f3)]))return _0x52d1c6[_0x4036e8(0x1a1)](_0x52d1c6[_0x4036e8(0x2bb)],_0x52d1c6[_0x4036e8(0x161)])?[!![],_0x1b1335]:!![];return![];}async[a1_0x29643d(0x26f)](_0x1f2e59,_0x563ee8){const _0xe8a1d6=a1_0x29643d,_0x5ec72a={'bjAgg':function(_0x57b197,_0x10f3f1){return _0x57b197(_0x10f3f1);},'Dsibh':function(_0x5336ac,_0x2c9c53){return _0x5336ac(_0x2c9c53);},'ogLZB':_0xe8a1d6(0x17c)};await _0x5ec72a[_0xe8a1d6(0x1c4)](deleteAgent,_0x1f2e59),await _0x5ec72a['Dsibh'](deleteRoutingDeps,_0x1f2e59);const _0xc54b61=this[_0xe8a1d6(0x1d3)];logger[_0xe8a1d6(0x2dc)]('Deleting\x20the\x20cluster\x20'+this[_0xe8a1d6(0x2c2)]),await _0xc54b61[_0xe8a1d6(0x1a5)][_0xe8a1d6(0x29c)](global_registry['cloudProviderResourceGroup'],this[_0xe8a1d6(0x2c2)]),logger[_0xe8a1d6(0x2dc)](_0x5ec72a[_0xe8a1d6(0x27f)]);}async[a1_0x29643d(0x24d)](){const _0x42cbb7=a1_0x29643d,_0x4c3365={};_0x4c3365[_0x42cbb7(0x24a)]=function(_0x52292f,_0x3c1aa4){return _0x52292f===_0x3c1aa4;},_0x4c3365[_0x42cbb7(0x294)]=function(_0x235062,_0x3a0e80){return _0x235062===_0x3a0e80;},_0x4c3365[_0x42cbb7(0x205)]=_0x42cbb7(0x126),_0x4c3365[_0x42cbb7(0x2fd)]='dYGwc',_0x4c3365[_0x42cbb7(0x179)]=_0x42cbb7(0x264),_0x4c3365[_0x42cbb7(0x156)]=function(_0x296d5a,_0x3329e0){return _0x296d5a&&_0x3329e0;},_0x4c3365[_0x42cbb7(0x16a)]=function(_0x159803,_0x1ed951){return _0x159803!==_0x1ed951;},_0x4c3365[_0x42cbb7(0x1dc)]=_0x42cbb7(0x2d1),_0x4c3365[_0x42cbb7(0x134)]=function(_0x5e67d2,_0x428191){return _0x5e67d2!==_0x428191;},_0x4c3365['yzObx']=_0x42cbb7(0x296),_0x4c3365[_0x42cbb7(0x2c4)]=_0x42cbb7(0x200),_0x4c3365[_0x42cbb7(0x2cb)]=function(_0x50a168,_0xac854){return _0x50a168!==_0xac854;},_0x4c3365[_0x42cbb7(0x20e)]=_0x42cbb7(0x2fa),_0x4c3365[_0x42cbb7(0x291)]=_0x42cbb7(0x17e),_0x4c3365[_0x42cbb7(0x2ff)]='Enabling\x20Workload\x20identity\x20for\x20the\x20cluster',_0x4c3365[_0x42cbb7(0x2af)]=_0x42cbb7(0x1f3),_0x4c3365['EvzxN']=_0x42cbb7(0x2c1),_0x4c3365[_0x42cbb7(0x209)]='Enabling\x20Local\x20account\x20for\x20the\x20cluster';const _0x564ffc=_0x4c3365;!this[_0x42cbb7(0x2b4)]&&(_0x564ffc[_0x42cbb7(0x24a)](_0x564ffc[_0x42cbb7(0x2fd)],_0x564ffc[_0x42cbb7(0x179)])?_0x5262ad[_0x42cbb7(0x12a)](_0x1cc138):await this[_0x42cbb7(0x15b)]());const _0x16257d=this[_0x42cbb7(0x2b4)],_0x3f1f6b=this[_0x42cbb7(0x2b4)]?.[_0x42cbb7(0x2b3)]?.[_0x42cbb7(0x153)]||![],_0x27279b=this[_0x42cbb7(0x2b4)]?.['securityProfile']?.[_0x42cbb7(0x172)]?.[_0x42cbb7(0x153)]||![],_0x14a5e1=!this[_0x42cbb7(0x2b4)]?.[_0x42cbb7(0x312)]||![];if(_0x564ffc[_0x42cbb7(0x156)](_0x3f1f6b,_0x27279b)&&_0x14a5e1){if(_0x564ffc['huWus'](_0x564ffc['CKovI'],_0x564ffc[_0x42cbb7(0x1dc)]))_0x422063['push'](_0xaf690e);else return;}if(!_0x3f1f6b){if(_0x564ffc[_0x42cbb7(0x134)](_0x564ffc[_0x42cbb7(0x25a)],_0x564ffc[_0x42cbb7(0x25a)])){if(_0x564ffc[_0x42cbb7(0x24a)](_0x5a7fbf[_0x42cbb7(0x24b)],_0x3b6f35))return!![];}else{logger[_0x42cbb7(0x2dc)](_0x564ffc[_0x42cbb7(0x2c4)]);const _0x146d08={};_0x146d08[_0x42cbb7(0x29d)]=WS_EVENTS[_0x42cbb7(0x1e3)],_0x146d08[_0x42cbb7(0x138)]=_0x564ffc[_0x42cbb7(0x2c4)],this[_0x42cbb7(0x13d)][_0x42cbb7(0x28b)](this['rws'],_0x146d08),_0x16257d[_0x42cbb7(0x2b3)][_0x42cbb7(0x153)]=!![];}}if(!_0x27279b){if(_0x564ffc[_0x42cbb7(0x2cb)](_0x564ffc['wgAFB'],_0x564ffc[_0x42cbb7(0x291)])){logger[_0x42cbb7(0x2dc)](_0x564ffc[_0x42cbb7(0x2ff)]);const _0x5c6390={};_0x5c6390[_0x42cbb7(0x29d)]=WS_EVENTS['RESOURCES'],_0x5c6390[_0x42cbb7(0x138)]=_0x564ffc[_0x42cbb7(0x2ff)],this[_0x42cbb7(0x13d)]['sendEventToBackend'](this[_0x42cbb7(0x164)],_0x5c6390);const _0x2ca87c={};_0x2ca87c[_0x42cbb7(0x153)]=!![],_0x16257d['securityProfile']={'workloadIdentity':_0x2ca87c,..._0x16257d['securityProfile']};}else return _0x55dc7b[_0x42cbb7(0x26e)](_0x42cbb7(0x15d)+_0x7dfa76+_0x42cbb7(0x2f5)+_0x1c6a8c),![];}if(!_0x14a5e1){if(_0x564ffc[_0x42cbb7(0x24a)](_0x564ffc[_0x42cbb7(0x2af)],_0x564ffc[_0x42cbb7(0x198)]))_0x1ec163+=_0x564ffc[_0x42cbb7(0x294)](_0x6d288c[_0x42cbb7(0x1ce)],0x0)?_0x564ffc[_0x42cbb7(0x205)]:'',_0x5355c7[_0x42cbb7(0x295)](_0x42cbb7(0x23f)+_0x152718['stringify'](_0x5a0d56));else{logger['info'](_0x564ffc[_0x42cbb7(0x209)]);const _0x1c5c65={};_0x1c5c65[_0x42cbb7(0x29d)]=WS_EVENTS[_0x42cbb7(0x1e3)],_0x1c5c65['message']=_0x564ffc[_0x42cbb7(0x209)],this['webSocketUtils'][_0x42cbb7(0x28b)](this[_0x42cbb7(0x164)],_0x1c5c65),_0x16257d[_0x42cbb7(0x312)]=![];}}await this[_0x42cbb7(0x1d3)][_0x42cbb7(0x1a5)]['beginCreateOrUpdateAndWait'](global_registry[_0x42cbb7(0x174)],this[_0x42cbb7(0x2c2)],_0x16257d),await this[_0x42cbb7(0x15b)]();}async[a1_0x29643d(0x1f7)](){const _0x59dbfb=a1_0x29643d,_0x480695={};_0x480695[_0x59dbfb(0x1df)]=function(_0x4a6894,_0x28163b){return _0x4a6894!==_0x28163b;},_0x480695[_0x59dbfb(0x2ce)]=_0x59dbfb(0x251),_0x480695['DMSwg']='djhxZ';const _0xe0deaa=_0x480695,_0x108c21=await this[_0x59dbfb(0x253)]['virtualNetworks'][_0x59dbfb(0x1b2)](global_registry[_0x59dbfb(0x174)]),_0x4349a2={};_0x4349a2[_0x59dbfb(0x1fb)]=global_registry[_0x59dbfb(0x2cc)],_0x4349a2[_0x59dbfb(0x227)]=global_registry[_0x59dbfb(0x1e5)],_0x4349a2['cloudProvider']=AZURE,_0x4349a2[_0x59dbfb(0x218)]=[];const _0x308a9a=_0x4349a2;for await(const _0x1b2d5d of _0x108c21){_0xe0deaa[_0x59dbfb(0x1df)](_0xe0deaa[_0x59dbfb(0x2ce)],_0xe0deaa[_0x59dbfb(0x1be)])?_0x308a9a[_0x59dbfb(0x218)][_0x59dbfb(0x12a)](_0x1b2d5d):_0x5952c6[_0x59dbfb(0x26e)]=_0x5a3d0f;}const _0x4ccdc1={};_0x4ccdc1[_0x59dbfb(0x29d)]=WS_EVENTS[_0x59dbfb(0x1e3)],_0x4ccdc1['message']=_0x308a9a,this['webSocketUtils'][_0x59dbfb(0x28b)](this[_0x59dbfb(0x164)],_0x4ccdc1);}async['isVPCPresent'](_0x3ecb4e){const _0x46fa59=a1_0x29643d,_0x57a977={};_0x57a977['Zaebc']=_0x46fa59(0x193),_0x57a977[_0x46fa59(0x1d6)]=_0x46fa59(0x157),_0x57a977[_0x46fa59(0x1c9)]=_0x46fa59(0x19d),_0x57a977[_0x46fa59(0x178)]=function(_0x26f95f,_0x1753c6){return _0x26f95f===_0x1753c6;},_0x57a977['UnNtB']=_0x46fa59(0x270),_0x57a977[_0x46fa59(0x2eb)]=function(_0x55554c,_0x1320d1){return _0x55554c!==_0x1320d1;},_0x57a977[_0x46fa59(0x2e7)]=_0x46fa59(0x28e),_0x57a977[_0x46fa59(0x2a4)]=_0x46fa59(0x201),_0x57a977[_0x46fa59(0x1fa)]=function(_0x545f4a,_0x2e23e0){return _0x545f4a===_0x2e23e0;},_0x57a977['FiXqS']=_0x46fa59(0x307),_0x57a977[_0x46fa59(0x300)]=function(_0x576eff,_0x31b0ae){return _0x576eff!==_0x31b0ae;},_0x57a977['KRcZB']='KmvKd';const _0x1ea72e=_0x57a977;try{if(_0x1ea72e['aqMdS'](_0x1ea72e[_0x46fa59(0x12c)],_0x1ea72e['UnNtB'])){const _0x2d9b80=await this['networkClient']['virtualNetworks']['listAll'](global_registry[_0x46fa59(0x174)]);for await(const _0x5e4e69 of _0x2d9b80){if(_0x1ea72e[_0x46fa59(0x2eb)](_0x1ea72e[_0x46fa59(0x2e7)],_0x1ea72e['xdKbw'])){if(_0x1ea72e['NtRDA'](_0x5e4e69['name'],_0x3ecb4e)){if(_0x1ea72e[_0x46fa59(0x178)](_0x1ea72e[_0x46fa59(0x29b)],_0x1ea72e[_0x46fa59(0x29b)]))return!![];else{_0x3d7028[_0x46fa59(0x2dc)](_0x1ea72e[_0x46fa59(0x1ab)]);const _0x3a1309={};_0x3a1309[_0x46fa59(0x29d)]=_0x248f84['RESOURCES'],_0x3a1309[_0x46fa59(0x138)]=_0x1ea72e[_0x46fa59(0x1ab)],this[_0x46fa59(0x13d)][_0x46fa59(0x28b)](this[_0x46fa59(0x164)],_0x3a1309);const _0x49cb3e={};_0x49cb3e[_0x46fa59(0x153)]=!![];const _0x3a36f4={'workloadIdentity':_0x49cb3e,..._0x241f35[_0x46fa59(0x189)]};_0xbf4bd7[_0x46fa59(0x189)]=_0x3a36f4;}}}else{const _0x57862a=_0x198784[_0x46fa59(0x2a1)](_0x2c8373);_0x1afb3e+='\x0a\x09'+_0x5cb130+':\x20'+(_0x57862a?_0x1ea72e['pfmXk']:_0x1ea72e['QssWa']),!_0x57862a&&(_0x52e6da[_0x46fa59(0x130)]=![]);}}}else _0xbe3a2e[_0x46fa59(0x12a)](_0x5db6e7[_0x46fa59(0x24b)]);}catch(_0x20bfa2){return _0x1ea72e[_0x46fa59(0x300)](_0x1ea72e['KRcZB'],_0x1ea72e[_0x46fa59(0x2e1)])?!![]:(logger[_0x46fa59(0x26e)]('Cannot\x20find\x20VPC\x20'+_0x3ecb4e+_0x46fa59(0x2f5)+_0x20bfa2),![]);}return![];}async['isSubnetsValid'](_0x131aaa,_0x24f895){const _0x3fdb63=a1_0x29643d,_0x53f82b={};_0x53f82b[_0x3fdb63(0x1cd)]='string',_0x53f82b['JzptT']='Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.',_0x53f82b[_0x3fdb63(0x235)]='[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]',_0x53f82b[_0x3fdb63(0x181)]=_0x3fdb63(0x185),_0x53f82b[_0x3fdb63(0x221)]=_0x3fdb63(0x258),_0x53f82b[_0x3fdb63(0x22e)]=function(_0x4eb068,_0x2154b9){return _0x4eb068!==_0x2154b9;},_0x53f82b['SqbLP']=_0x3fdb63(0x283),_0x53f82b[_0x3fdb63(0x2ab)]=function(_0x1a64f6,_0xfa3dc1){return _0x1a64f6===_0xfa3dc1;},_0x53f82b[_0x3fdb63(0x122)]=function(_0x5be8f1,_0x10bfde){return _0x5be8f1!==_0x10bfde;},_0x53f82b[_0x3fdb63(0x213)]=_0x3fdb63(0x1ac);const _0xa03910=_0x53f82b;try{if(_0xa03910[_0x3fdb63(0x22e)](_0xa03910['SqbLP'],_0xa03910['SqbLP'])){const _0x30a2c5={};_0x30a2c5['type']=_0xa03910['cNKSn'],_0x30a2c5[_0x3fdb63(0x28d)]={},_0x30a2c5[_0x3fdb63(0x28d)][_0x3fdb63(0x2ee)]=_0xa03910['JzptT'];const _0x5268e0={};_0x5268e0['type']=_0xa03910['cNKSn'],_0x5268e0[_0x3fdb63(0x28d)]={},_0x5268e0[_0x3fdb63(0x28d)][_0x3fdb63(0x2ee)]=_0xa03910['JzptT'];const _0x1f2448={..._0x1bb793['parameters']};_0x1f2448[_0x3fdb63(0x304)]=_0x30a2c5,_0x1f2448[_0x3fdb63(0x163)]=_0x5268e0,_0x49e41b[_0x3fdb63(0x216)]=_0x1f2448;const _0x1f90ff={};_0x1f90ff[_0x3fdb63(0x2c5)]=_0xa03910[_0x3fdb63(0x235)],_0x2945fe[_0x3fdb63(0x1aa)]=_0x1f90ff;const _0x585d9b={..._0x5e2081['resources'][0x0]['properties'][_0x3fdb63(0x1d0)][0x0]};_0x585d9b[_0x3fdb63(0x2c5)]=_0xa03910['efDzm'],_0x539711[_0x3fdb63(0x1f0)][0x0][_0x3fdb63(0x13e)][_0x3fdb63(0x1d0)][0x0]=_0x585d9b;const _0x3cd8b1={};_0x3cd8b1[_0x3fdb63(0x1bc)]=_0x497fd5;const _0x5cdc2b={};_0x5cdc2b[_0x3fdb63(0x1bc)]=_0x3697fd[0x0];const _0x1fd021={..._0x571eb0};_0x1fd021[_0x3fdb63(0x304)]=_0x3cd8b1,_0x1fd021['subnetName']=_0x5cdc2b,_0x568f31=_0x1fd021;}else{const _0x307673=await this[_0x3fdb63(0x253)][_0x3fdb63(0x1ad)][_0x3fdb63(0x290)](global_registry[_0x3fdb63(0x174)],_0x24f895,_0x131aaa[0x0]);if(_0xa03910[_0x3fdb63(0x2ab)](_0x131aaa[0x0],_0x307673['name'])){if(_0xa03910[_0x3fdb63(0x122)](_0xa03910[_0x3fdb63(0x213)],_0xa03910[_0x3fdb63(0x213)]))_0xc5897d[_0x3fdb63(0x2dc)](_0xa03910[_0x3fdb63(0x221)]);else return[!![],_0x131aaa];}}}catch(_0xf2757e){return logger['error']('Cannot\x20find\x20subnets\x20'+_0x131aaa+'.\x20Error:\x20'+_0xf2757e),[![],[]];}return[![],[]];}async['isCliToolInstalled'](){const _0x474529=a1_0x29643d,_0x3bf20e={};_0x3bf20e[_0x474529(0x18d)]=_0x474529(0x1de);const _0x399b4b=_0x3bf20e,_0x313117={};_0x313117[_0x474529(0x130)]=!![],_0x313117[_0x474529(0x26e)]=null,_0x313117[_0x474529(0x203)]=_0x399b4b['DRESL'];const _0x2a2055=_0x313117;return _0x2a2055;}async[a1_0x29643d(0x2aa)](){const _0x5ba926=a1_0x29643d,_0x4d104a={};_0x4d104a['IiHEJ']=_0x5ba926(0x288),_0x4d104a[_0x5ba926(0x236)]=_0x5ba926(0x28f),_0x4d104a[_0x5ba926(0x25f)]=_0x5ba926(0x1e7);const _0x1487ea=_0x4d104a,_0x214147=await this[_0x5ba926(0x1ff)][_0x5ba926(0x2e2)](_0x1487ea[_0x5ba926(0x2ae)]),_0x184c43={};_0x184c43[_0x5ba926(0x1eb)]=_0x1487ea['RIRVe'],_0x184c43[_0x5ba926(0x1f5)]={},_0x184c43[_0x5ba926(0x1f5)][_0x5ba926(0x1b0)]=_0x5ba926(0x2db)+_0x214147[_0x5ba926(0x239)],_0x184c43[_0x5ba926(0x1f5)][_0x5ba926(0x1f9)]=_0x1487ea[_0x5ba926(0x25f)];const _0x295a87=_0x184c43;return _0x295a87;}async['getPrincipalIdFromClientId'](_0x16dc2f){const _0x49ed72=a1_0x29643d,_0x1b29a0={'NUoXK':function(_0x4e82b8,_0x158d71,_0x3c920c){return _0x4e82b8(_0x158d71,_0x3c920c);},'pdemj':function(_0x266e96,_0x40c8d3){return _0x266e96===_0x40c8d3;},'grKAt':_0x49ed72(0x1a7)},_0x5949dd={};_0x5949dd[_0x49ed72(0x27d)]='',_0x5949dd[_0x49ed72(0x26e)]=null;const _0x1dbad6=_0x5949dd;try{const _0x4e7170=_0x49ed72(0x18f)+_0x16dc2f+'\x27',_0x55bb6d=await this['getHeader'](),_0x9a0d12=await _0x1b29a0[_0x49ed72(0x1e9)](fetch,_0x4e7170,_0x55bb6d),_0x46040a=await _0x9a0d12[_0x49ed72(0x1cb)]();if(!_0x46040a[_0x49ed72(0x1bc)]||_0x1b29a0[_0x49ed72(0x1b8)](_0x46040a[_0x49ed72(0x1bc)]['length'],0x0))throw new Error(_0x1b29a0['grKAt'],_0x49ed72(0x1c0)+JSON['stringify'](_0x46040a));_0x1dbad6[_0x49ed72(0x27d)]=_0x46040a['value'][0x0]['id'];}catch(_0x51a138){_0x1dbad6[_0x49ed72(0x26e)]=_0x51a138;}return _0x1dbad6;}async['checkAccess'](){const _0x10d7ac=a1_0x29643d,_0x5d204f={};_0x5d204f[_0x10d7ac(0x16b)]=_0x10d7ac(0x157),_0x5d204f['LGTLN']=_0x10d7ac(0x19d),_0x5d204f[_0x10d7ac(0x186)]=function(_0x5240d3,_0x2ad0a2){return _0x5240d3!==_0x2ad0a2;},_0x5d204f['qhHAO']=function(_0x182942,_0x4eafdf){return _0x182942===_0x4eafdf;},_0x5d204f[_0x10d7ac(0x131)]=_0x10d7ac(0x287),_0x5d204f[_0x10d7ac(0x1ca)]=_0x10d7ac(0x28c),_0x5d204f[_0x10d7ac(0x2da)]=_0x10d7ac(0x126);const _0x1c241d=_0x5d204f,_0x14266d={};_0x14266d[_0x10d7ac(0x130)]=![],_0x14266d[_0x10d7ac(0x26e)]=null,_0x14266d['data']='';const _0x5bb3cd=_0x14266d;try{let _0x535c0d='';const _0x3d464b=_0x10d7ac(0x2c0)+global_registry['cloudProviderSubscriptionId']+_0x10d7ac(0x142)+global_registry[_0x10d7ac(0x174)],_0x1dadc8=await this['getPrincipalIdFromClientId'](global_registry[_0x10d7ac(0x29e)]);if(_0x1c241d[_0x10d7ac(0x186)](_0x1dadc8[_0x10d7ac(0x26e)],null))return _0x5bb3cd[_0x10d7ac(0x26e)]=_0x1dadc8[_0x10d7ac(0x26e)],_0x5bb3cd;const _0x2613bd=_0x10d7ac(0x23d)+_0x1dadc8[_0x10d7ac(0x27d)]+'\x27)',_0x4c2d5a={};_0x4c2d5a[_0x10d7ac(0x14c)]=_0x2613bd;const _0x3c37c0=await this[_0x10d7ac(0x1f2)][_0x10d7ac(0x2f8)][_0x10d7ac(0x2e6)](_0x3d464b,_0x4c2d5a),_0x2706e4=[];for await(const _0x433e8f of _0x3c37c0){_0x2706e4[_0x10d7ac(0x12a)](_0x433e8f);}if(_0x1c241d[_0x10d7ac(0x244)](_0x2706e4[_0x10d7ac(0x1ce)],0x0))return _0x5bb3cd['data']=_0x1c241d['oHgnP'],_0x5bb3cd;const _0x18fd04=[...new Set(_0x2706e4[_0x10d7ac(0x230)](_0x2e4aa7=>_0x2e4aa7['roleDefinitionId']))];if(_0x1c241d[_0x10d7ac(0x244)](_0x18fd04[_0x10d7ac(0x1ce)],0x0))return _0x5bb3cd[_0x10d7ac(0x203)]=_0x1c241d['HIlTw'],_0x5bb3cd;const _0x153cd7=[],_0x36564a=[];for(const _0x30c6fe of _0x18fd04){const _0x2c0999=await this[_0x10d7ac(0x1f2)][_0x10d7ac(0x12e)][_0x10d7ac(0x202)](_0x30c6fe);logger['debug'](_0x10d7ac(0x2d2)+_0x2c0999['roleName']),_0x153cd7['push'](_0x2c0999),logger[_0x10d7ac(0x295)](_0x10d7ac(0x280)+JSON[_0x10d7ac(0x191)](_0x2c0999[_0x10d7ac(0x19a)])),_0x2c0999[_0x10d7ac(0x19a)]['forEach'](_0x5d942a=>{const _0x3046ef=_0x10d7ac;_0x36564a[_0x3046ef(0x12a)](..._0x5d942a[_0x3046ef(0x278)]);});}logger[_0x10d7ac(0x295)](_0x10d7ac(0x2bd)+JSON[_0x10d7ac(0x191)](_0x36564a)),_0x1c241d[_0x10d7ac(0x244)](_0x36564a['length'],0x0)&&(_0x535c0d+=_0x1c241d[_0x10d7ac(0x244)](_0x36564a['length'],0x0)?_0x1c241d['Rwvey']:'',logger[_0x10d7ac(0x295)]('Role\x20definition\x20response\x20list\x20\x20:\x20\x20'+JSON['stringify'](_0x153cd7))),_0x5bb3cd[_0x10d7ac(0x130)]=!![],Object[_0x10d7ac(0x14a)](PERMISSIONS[_0x10d7ac(0x254)])[_0x10d7ac(0x23b)](([_0x3b6bf7,_0x201c0b])=>{const _0x408e6f=_0x10d7ac,_0x5e6a7d=_0x36564a['includes'](_0x3b6bf7);_0x535c0d+='\x0a\x09'+_0x201c0b+':\x20'+(_0x5e6a7d?_0x1c241d[_0x408e6f(0x16b)]:_0x1c241d['LGTLN']),!_0x5e6a7d&&(_0x5bb3cd[_0x408e6f(0x130)]=![]);}),_0x5bb3cd[_0x10d7ac(0x203)]=_0x535c0d;}catch(_0x19352f){_0x5bb3cd[_0x10d7ac(0x26e)]=_0x19352f;}return _0x5bb3cd;}}function a1_0xc628(){const _0x503757=['wgAFB','4FghmSz','turboscale-managed-identity-','hmmXm','BiAjT','EWFOL','WdWbz','WnpFG','parameters','cloudProviderTenantId','vpcInfo','kmBub','5153555FASOjQ','definition','exit','storageaccount.json','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','dJsBT','cloudProviderSubscriptionId','xueEj','tEnsD','miXBh','OjNQh','MzaTP','GiKSO','accessKey','axTks','SlzFd','YEXvs','../config/constants','BLKbn','resourceClient','GtGJy','join','map','SsacH','dQuNi','hsPSs','bqKKj','aJBWY','RIRVe','yvERT','HLdCt','token','RbpOv','forEach','delete','assignedTo(\x27','s3Bucket','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','mvzZp','lVgUC','turboscale-federated-deployment','WNDfL','qhHAO','XOkup','\x20RESOURCE\x20GROUP:\x20','stack','CGiws','BQgID','JAILa','name','EsOtS','updateClusterAlreadyPresent','deployments','isStorageAccountPresent','FjXpm','dAJxX','HhdjM','networkClient','ACTION','storageClient','kyPBa','Dheao','Managed\x20identity\x20already\x20exists,\x20skipping','vlSYA','yzObx','clientId','DeQYk','fMXmM','EzXNN','Zawui','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','YvsEJ','.json','instanceType','jDlSS','path','rules','YLtou','AzureCloudProvider','hLrgE','listByResourceGroup','isManagedIdentityPresent','cloudProviderName','cloudProviderClientSecret','error','deleteCluster','dDsKZ','eoePS','Creating\x20Azure\x20managed\x20identity','vHEgk','DqAOk','mjROG','liiZg','createCluster','actions','BJiwF','toLowerCase','ejUdC','ViuBE','principalId','storageAccountName','ogLZB','Attached\x20permissions\x20:\x20','SxuEE','4822626QCBOfF','vDXjQ','sUKls','mjltG','GXZPN','No\x20attached\x20role\x20for\x20the\x20client\x20key','https://graph.microsoft.com/.default','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','../config/logger','sendEventToBackend','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','metadata','tAFav','GET','get','nlwul','utf-8','js-yaml','FmDBS','debug','OyBZH','turboscale','FKtDf','isClusterPresent','toString','FiXqS','beginDeleteAndWait','type','cloudProviderClientId','getKubeConfigData','LPBwN','includes','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','Created\x20Azure\x20federated\x20identity','xdKbw','JOVfp','AgLGX','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','SkGSQ','kTsYS','getHeader','dMxMk','getResourceGroups','lmBpE','IiHEJ','CwZVH','cAXeg','createStorageAccount','ivLRR','oidcIssuerProfile','clusterInfo','node','hub','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','mwHJk','@azure/identity','log','sNjol','gyoRI','actionPermission\x20:\x20','jauVz','createOrUpdate','subscriptions/','dIrdk','clusterName','PhJcr','aFaiz','vnetSubnetID','rostC','ItlKq','AcFNB','atMYj','faHKg','vxaZG','bstackUsername','qPBli','YdLKO','Atigp','kubeconfigs','qsyCK','role\x20name\x20attached\x20-\x20','\x20CLIENT\x20SECRET:\x20','Qhbkt','cfARO','KcIUt','../utils/utilityMethods','fKuRG','bnqQr','Rwvey','Bearer\x20','info','PCVhV','uPSKC','ytglB','SbPCM','KRcZB','getToken','nMmqQ','RTSie','hRakI','listForScope','JfyRg','beginCreateOrUpdateAndWait','qCglC','clusterAutoUpgrade','Hjryv','subscriptionId','userMaxNodes','description','LOG','3|0|4|2|1|5','@azure/arm-authorization','WfaEX','WCcLW','htzum','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','8344meYwkO','managementPolicies','roleAssignments','akscluster.json','pSbem','lZiba','rsPUV','cKrvr','@azure/arm-resources','Knopx','PvlsQ','FMjJG','jRwCG','YxfVE','vpcName','pUwqT','0|1|7|5|3|2|6|4','YWYyU','YCeha','kJPoK','8zNlkRw','Incremental','Enabling\x20Local\x20account\x20for\x20the\x20cluster','BUmIV','wKuDb','hostname','ZBKbG','hubHaNameSpace','disableLocalAccounts','turboscale-cluster-deployment','ylHln','kyxGg','default','PSCJu','azureresources','Action\x20permission\x20list\x20is\x20empty\x0a','cloudProvider','pqUhr','init','push','CHglW','UnNtB','vTgWl','roleDefinitions','jQlyd','status','oHgnP','UvzzA','EcVbe','HoHJk','Cannot\x20find\x20subnets\x20','cuxBm','Creating\x20Azure\x20storage\x20account','message','ENYlC','parse','pkrOY','\x20TENANT\x20ID:\x20','webSocketUtils','properties','XfkSQ','federatedidentity','split','/resourceGroups/','BrowserStack','xMZwd','15584160zpilSo','nABPZ','false','ZySPG','782853pnEhwh','entries','createManagedIdentity','filter','hubharesources','1|2|3|0|4|5','true','oOKjo','LdXYC','MFwRf','enabled','maxNodes','DhJWp','kGBRF','allowed','hQwNB','LKbrY','YtDsc','getClusterInfo','blockBlob','Cannot\x20find\x20VPC\x20','alNlw','cWkDm','CAJHT','gASUb','getGridHostname','subnetName','rws','fgixL','setClients','\x20SUBSCRIPTION\x20ID:\x20','YPvpn','zFQaU','huWus','ZUgaz','255623WmNnja','bRoNV','TtDts','clQmw','756511KQSpmG','ONqGc','workloadIdentity','ZwLZc','cloudProviderResourceGroup','uMBqF','jglwU','QEZuQ','aqMdS','yfipe','boXPn','BSzxx','Deleted\x20the\x20cluster\x20successfully','hCeBB','vOVzW','templates','ingress','efDzm','uJwdE','eiNmd','listClusterAdminCredentials','[variables(\x27vnetSubnetID\x27)]','kEDaO','resourceGroup','Vcdff','securityProfile','GAeWT','cJCLo','readFileAsync','DRESL','rsnDj','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','pcAHO','stringify','qXEpc','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','wQaTC','NNyfw','dSVkN','resourceGroups','EvzxN','Blob\x20delete\x20lifecycle','permissions','clusterRegion','MOinH','denied','getUserInput','./CloudProvider','rzNAB','zHtPA','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','xuJyR','ZdhPL','managedClusters','\x20CLIENT\x20ID:\x20','No\x20service\x20principal\x20found','issuerURL','turboscale-identity-deployment','variables','Zaebc','GhfqQ','subnets','@azure/arm-storage','1953zYFZBN','Authorization','gbcwh','listAll','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','IgOxW','PCBMe','VYoZH','getResourceClientId','pdemj','filters','location','QwPwj','value','KQQbY','DMSwg','oMXgj','Received\x20response\x20-\x20','YhASH','bGZKA','aTOXm','bjAgg','../permissions/AZURE.json','@azure/arm-containerservice','UmJWM','jPlej','QssWa','HIlTw','json','baseBlob','cNKSn','length','loadBalancer','agentPoolProfiles','RstJG','LKMHu','containerClient','KxgCy','gnNQy','pfmXk','SBfSi','ZszSn','clientSecret','../utils/gridComponents','2023-01-31','CKovI','qvfhR','No\x20CLI\x20tool\x20required','xJvme','blobTypes','policy','Creating\x20Azure\x20federated\x20identity','RESOURCES','createFederatedAccountForHubHA','bstackAccesskey','createFederatedAccount','application/json','tenantId','NUoXK','uwLYB','method','aibGQ','foEHf','Found\x20only\x20one\x20resource\x20group:\x20','DZwQL','resources','DHIWv','authClient','yPrCY','browserstack:managedBy','headers','getStorageAccountName','sendAzureInfoToHST','PXkOw','Content-Type','NtRDA','username','vFlUE','.\x20Error:\x20','slice','cred','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','rosSP','getById','data','OIprO','qtUUt','HwNtb','zouCE','gYRBx','PpLHD','kandc','lQJnN','PtQfM','createOtherResources'];a1_0xc628=function(){return _0x503757;};return a1_0xc628();}const a1_0x2736a2={};function a1_0x2387(_0x410817,_0x38db19){const _0xc62859=a1_0xc628();return a1_0x2387=function(_0x23873e,_0x130077){_0x23873e=_0x23873e-0x120;let _0x3f3986=_0xc62859[_0x23873e];return _0x3f3986;},a1_0x2387(_0x410817,_0x38db19);}a1_0x2736a2[a1_0x29643d(0x268)]=AzureCloudProvider,module['exports']=a1_0x2736a2;