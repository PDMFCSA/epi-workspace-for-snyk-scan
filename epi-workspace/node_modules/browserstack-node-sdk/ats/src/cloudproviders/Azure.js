const a1_0x4ec808=a1_0x2a3c;(function(_0x5bcbec,_0x3c4284){const _0x1cb627=a1_0x2a3c,_0x12e74e=_0x5bcbec();while(!![]){try{const _0x225169=parseInt(_0x1cb627(0x150))/0x1+parseInt(_0x1cb627(0x176))/0x2+parseInt(_0x1cb627(0x13c))/0x3*(-parseInt(_0x1cb627(0x187))/0x4)+parseInt(_0x1cb627(0x1b0))/0x5*(parseInt(_0x1cb627(0x32b))/0x6)+parseInt(_0x1cb627(0x28e))/0x7*(parseInt(_0x1cb627(0x28b))/0x8)+parseInt(_0x1cb627(0x2ee))/0x9+-parseInt(_0x1cb627(0x227))/0xa*(parseInt(_0x1cb627(0x323))/0xb);if(_0x225169===_0x3c4284)break;else _0x12e74e['push'](_0x12e74e['shift']());}catch(_0x5bb9bc){_0x12e74e['push'](_0x12e74e['shift']());}}}(a1_0x1d6b,0x5ffcd));const fs=require('fs'),path=require('path'),yaml=require(a1_0x4ec808(0x22e)),{logger}=require(a1_0x4ec808(0x199)),{CloudProvider}=require('./CloudProvider'),{deleteRoutingDeps,deleteAgent}=require(a1_0x4ec808(0x1f0)),{AZURE,WS_EVENTS,global_registry}=require('../config/constants'),PERMISSIONS=require(a1_0x4ec808(0x1d4)),{ClientSecretCredential}=require('@azure/identity'),{NetworkManagementClient}=require(a1_0x4ec808(0x1f9)),{StorageManagementClient}=require(a1_0x4ec808(0x2ab)),{AuthorizationManagementClient}=require(a1_0x4ec808(0x22c)),{ResourceManagementClient}=require(a1_0x4ec808(0x1cc)),{ContainerServiceClient}=require(a1_0x4ec808(0x303)),{runCommand}=require(a1_0x4ec808(0x23a));class AzureCloudProvider extends CloudProvider{constructor(_0x2a19fa,_0x27dbab,_0x184fa2,_0x4c39b6){const _0xc99de=a1_0x4ec808,_0x1c417c={};_0x1c417c[_0xc99de(0x259)]=_0xc99de(0x320);const _0x116bad=_0x1c417c,_0x563040=_0x116bad['cnBCR']['split']('|');let _0x3a0371=0x0;while(!![]){switch(_0x563040[_0x3a0371++]){case'0':this[_0xc99de(0x18c)]=null;continue;case'1':this['resourceClient']=null;continue;case'2':this[_0xc99de(0x15f)]=null;continue;case'3':this['containerClient']=null;continue;case'4':super(AZURE,_0x2a19fa,_0x27dbab,_0x184fa2,_0x4c39b6);continue;case'5':this['authClient']=null;continue;case'6':this[_0xc99de(0x146)]=null;continue;case'7':this[_0xc99de(0x194)]=null;continue;}break;}}async[a1_0x4ec808(0x156)](){const _0x49f111=a1_0x4ec808;return await super[_0x49f111(0x156)](),this;}[a1_0x4ec808(0x27a)](){const _0x1c3e04=a1_0x4ec808,_0x51073f=new ClientSecretCredential(global_registry['cloudProviderTenantId'],global_registry[_0x1c3e04(0x191)],global_registry[_0x1c3e04(0x318)]);this[_0x1c3e04(0x147)]=new ContainerServiceClient(_0x51073f,global_registry[_0x1c3e04(0x2a7)]),this[_0x1c3e04(0x146)]=new StorageManagementClient(_0x51073f,global_registry[_0x1c3e04(0x2a7)]),this[_0x1c3e04(0x1eb)]=new ResourceManagementClient(_0x51073f,global_registry[_0x1c3e04(0x2a7)]),this[_0x1c3e04(0x194)]=new NetworkManagementClient(_0x51073f,global_registry[_0x1c3e04(0x2a7)]),this[_0x1c3e04(0x13e)]=new AuthorizationManagementClient(_0x51073f,global_registry['cloudProviderSubscriptionId']),this[_0x1c3e04(0x15f)]=_0x51073f;}[a1_0x4ec808(0x1f1)](){const _0x47f059=a1_0x4ec808,_0x341f96={};_0x341f96[_0x47f059(0x2a4)]=function(_0xf4d37,_0x38f43a){return _0xf4d37+_0x38f43a;},_0x341f96[_0x47f059(0x1c5)]=_0x47f059(0x2fe),_0x341f96['xqAVf']=function(_0x5a1e6a,_0x48eead){return _0x5a1e6a-_0x48eead;};const _0x30ef9b=_0x341f96,_0x14ea24=global_registry[_0x47f059(0x1ac)][_0x47f059(0x29e)]('-'),_0x2663a5=_0x30ef9b[_0x47f059(0x2a4)](_0x30ef9b['glecG'],_0x14ea24[_0x30ef9b[_0x47f059(0x25b)](_0x14ea24[_0x47f059(0x316)],0x1)])['slice'](0x0,0x18);return _0x2663a5[_0x47f059(0x2dc)]();}[a1_0x4ec808(0x1a8)](_0x5e1f9f){const _0x2426e3=a1_0x4ec808,_0x4f196b={};_0x4f196b[_0x2426e3(0x287)]=_0x2426e3(0x1d1);const _0x5b10c1=_0x4f196b,_0x1f2433=_0x5b10c1['FmIkm'][_0x2426e3(0x29e)]('|');let _0x264800=0x0;while(!![]){switch(_0x1f2433[_0x264800++]){case'0':global_registry[_0x2426e3(0x198)]=_0x5e1f9f[this['cloudProviderName']][_0x2426e3(0x2ef)];continue;case'1':this['setClients']();continue;case'2':global_registry[_0x2426e3(0x191)]=_0x5e1f9f[this[_0x2426e3(0x2cd)]][_0x2426e3(0x168)];continue;case'3':global_registry[_0x2426e3(0x318)]=_0x5e1f9f[this['cloudProviderName']][_0x2426e3(0x30e)];continue;case'4':global_registry[_0x2426e3(0x2a7)]=_0x5e1f9f[this[_0x2426e3(0x2cd)]][_0x2426e3(0x178)];continue;case'5':global_registry[_0x2426e3(0x18a)]=_0x5e1f9f[this[_0x2426e3(0x2cd)]][_0x2426e3(0x1e9)];continue;}break;}}async[a1_0x4ec808(0x2a0)](_0x352a8b,_0x59aa6f){const _0x5346bf=a1_0x4ec808,_0x27729c={'DScnh':_0x5346bf(0x2ba),'Erdvo':_0x5346bf(0x161),'zELuw':_0x5346bf(0x23f),'Figdi':function(_0x47ab7b,_0x213a0f){return _0x47ab7b(_0x213a0f);},'SHfEr':function(_0x34fc9b,_0x52a715){return _0x34fc9b(_0x52a715);},'ilDEx':function(_0x5ea202,_0x412da4){return _0x5ea202(_0x412da4);},'uBtBt':function(_0x1bb1ef,_0x28a925){return _0x1bb1ef(_0x28a925);},'YQqCl':function(_0x4d561e,_0x1e8eec){return _0x4d561e===_0x1e8eec;},'YoEqs':function(_0x5d759d,_0x4a1b82){return _0x5d759d===_0x4a1b82;},'EWPMv':_0x5346bf(0x26b),'gdbiQ':_0x5346bf(0x2d9),'lLIhx':function(_0x525644,_0x444b99){return _0x525644!==_0x444b99;},'kKXVR':_0x5346bf(0x2e1),'MfohS':function(_0x43a2fa,_0x1c065a){return _0x43a2fa===_0x1c065a;},'vIRiN':function(_0x1660b2,_0xc99895){return _0x1660b2===_0xc99895;},'BOlrb':function(_0x3c4876,_0x1a13d2){return _0x3c4876!==_0x1a13d2;},'cKfgL':_0x5346bf(0x2c8),'ikTuX':_0x5346bf(0x170),'xySzc':function(_0x1b3843,_0x43e227){return _0x1b3843===_0x43e227;},'hkupp':_0x5346bf(0x31e),'HaZgg':_0x5346bf(0x1b8),'OFOTf':function(_0x11bd85,_0x4437dc){return _0x11bd85!==_0x4437dc;},'LvmNk':'LZQpf','YKvqH':_0x5346bf(0x1a4),'VKYfn':function(_0x467eb0,_0x1262d1){return _0x467eb0<_0x1262d1;},'dyrEi':_0x5346bf(0x14a),'DukkU':_0x5346bf(0x1a2),'IWPiz':function(_0x26d4cf,_0x11b3fa){return _0x26d4cf+_0x11b3fa;},'XOUOS':'Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','ZHZVO':function(_0x1233fd,_0x3ed349){return _0x1233fd<=_0x3ed349;},'SlxSJ':function(_0x4d6927,_0x1ad3f7){return _0x4d6927>_0x1ad3f7;},'fFJOy':function(_0x2760e9,_0x20e504){return _0x2760e9!==_0x20e504;},'wbckY':_0x5346bf(0x30a),'AVIqf':function(_0x1b3fc6,_0x1ef167){return _0x1b3fc6-_0x1ef167;}},_0x31b712=this[_0x5346bf(0x2cd)][_0x5346bf(0x186)](),_0x4511bf=await _0x27729c['Figdi'](_0x352a8b,_0x31b712+_0x5346bf(0x26e)),_0x5e464c=await _0x27729c['SHfEr'](_0x352a8b,_0x31b712+'\x20CLIENT\x20SECRET:\x20'),_0x34ec2a=await _0x27729c[_0x5346bf(0x2c1)](_0x352a8b,_0x31b712+_0x5346bf(0x2ac)),_0x3037f2=await _0x27729c[_0x5346bf(0x2d7)](_0x352a8b,_0x31b712+'\x20SUBSCRIPTION\x20ID:\x20');global_registry[_0x5346bf(0x191)]=_0x4511bf,global_registry[_0x5346bf(0x318)]=_0x5e464c,global_registry[_0x5346bf(0x198)]=_0x34ec2a,global_registry[_0x5346bf(0x2a7)]=_0x3037f2,this[_0x5346bf(0x27a)]();const _0x29ccb0=await this[_0x5346bf(0x288)](),_0x174194=_0x29ccb0[_0x5346bf(0x316)];let _0x34626f;if(_0x27729c[_0x5346bf(0x328)](_0x174194,0x0)){if(_0x27729c[_0x5346bf(0x2b0)](_0x27729c['EWPMv'],_0x27729c[_0x5346bf(0x1f3)])){const _0x177546={};_0x177546[_0x5346bf(0x15c)]=!![],_0x177546[_0x5346bf(0x26a)]=null,_0x177546[_0x5346bf(0x205)]=_0x27729c[_0x5346bf(0x1ec)];const _0x4e3199=_0x177546;return _0x4e3199;}else _0x34626f=await _0x27729c[_0x5346bf(0x2c1)](_0x352a8b,_0x31b712+'\x20RESOURCE\x20GROUP:\x20');}else{if(_0x27729c['YoEqs'](_0x174194,0x1)){if(_0x27729c['lLIhx'](_0x27729c[_0x5346bf(0x1b7)],_0x27729c[_0x5346bf(0x1b7)]))return!![];else{const _0x4b667b=await _0x27729c[_0x5346bf(0x14f)](_0x352a8b,_0x5346bf(0x20d)+_0x29ccb0[0x0]+'\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20');if(_0x27729c[_0x5346bf(0x299)](_0x4b667b,undefined)||_0x27729c[_0x5346bf(0x2b0)](_0x4b667b,null)||!(_0x27729c[_0x5346bf(0x289)](_0x4b667b['toLowerCase'](),'y')||_0x27729c[_0x5346bf(0x2b0)](_0x4b667b[_0x5346bf(0x2dc)](),'n'))){if(_0x27729c[_0x5346bf(0x218)](_0x27729c[_0x5346bf(0x2d1)],_0x27729c[_0x5346bf(0x2d1)]))return _0x3d8e7e[_0x5346bf(0x26a)](_0x5346bf(0x2db)+_0x249e6e+':'+_0x3b54a2[_0x5346bf(0x243)]),{};else console[_0x5346bf(0x26a)](_0x27729c[_0x5346bf(0x2f4)]),process[_0x5346bf(0x1e1)](0x1);}_0x27729c['xySzc'](_0x4b667b[_0x5346bf(0x2dc)](),'n')&&(_0x27729c[_0x5346bf(0x2b0)](_0x27729c[_0x5346bf(0x1c6)],_0x27729c['HaZgg'])?_0x1badc3=_0x1e4b86['id']:process[_0x5346bf(0x1e1)](0x0)),_0x34626f=_0x29ccb0[0x0];}}else{if(_0x27729c['OFOTf'](_0x27729c[_0x5346bf(0x22d)],_0x27729c['YKvqH'])){for(let _0x25a464=0x0;_0x27729c[_0x5346bf(0x15d)](_0x25a464,_0x29ccb0[_0x5346bf(0x316)]);_0x25a464+=0x1){if(_0x27729c[_0x5346bf(0x299)](_0x27729c[_0x5346bf(0x1fc)],_0x27729c['DukkU'])){const _0x1e921b=_0x40fbad[_0x5346bf(0x2ff)](_0x430ab0);_0x8b9cbb+='\x0a\x09'+_0x3aa127+':\x20'+(_0x1e921b?_0x27729c[_0x5346bf(0x30f)]:_0x27729c[_0x5346bf(0x2a6)]),!_0x1e921b&&(_0x1666ee[_0x5346bf(0x15c)]=![]);}else console['log']('['+_0x27729c['IWPiz'](_0x25a464,0x1)+']\x20'+_0x29ccb0[_0x25a464]);}const _0x4f0ceb=await _0x27729c['Figdi'](_0x352a8b,_0x27729c[_0x5346bf(0x208)]),_0x88e153=_0x27729c[_0x5346bf(0x200)](Number,_0x4f0ceb);(_0x27729c['Figdi'](isNaN,_0x88e153)||_0x27729c[_0x5346bf(0x250)](_0x88e153,0x0)||_0x27729c[_0x5346bf(0x140)](_0x88e153,_0x174194))&&(_0x27729c[_0x5346bf(0x20f)](_0x27729c[_0x5346bf(0x1fd)],_0x27729c[_0x5346bf(0x1fd)])?_0x305259[_0x5346bf(0x136)](_0x7f5ce0):(console['error'](_0x27729c['ikTuX']),process['exit'](0x1))),_0x34626f=_0x29ccb0[_0x27729c[_0x5346bf(0x29d)](_0x88e153,0x1)];}else _0xbc564a[_0x5346bf(0x136)](_0x562d09);}}global_registry[_0x5346bf(0x18a)]=_0x34626f;const _0xee84c2={};return _0xee84c2[_0x5346bf(0x168)]=_0x4511bf,_0xee84c2['clientSecret']=_0x5e464c,_0xee84c2['tenantId']=_0x34ec2a,_0xee84c2['subscriptionId']=_0x3037f2,_0xee84c2[_0x5346bf(0x1e9)]=_0x34626f,_0x59aa6f[_0x5346bf(0x17b)][AZURE]=_0xee84c2,_0x59aa6f;}async['getResourceGroups'](){const _0x16085a=a1_0x4ec808,_0x20edf={};_0x20edf[_0x16085a(0x2ae)]=function(_0x116fc7,_0xf067ec){return _0x116fc7+_0xf067ec;},_0x20edf[_0x16085a(0x1ab)]='turboscale',_0x20edf[_0x16085a(0x172)]=function(_0x41bf9a,_0x35af3d){return _0x41bf9a-_0x35af3d;},_0x20edf[_0x16085a(0x258)]=function(_0x2b4c80,_0x4aef1f){return _0x2b4c80!==_0x4aef1f;},_0x20edf['fkTYs']=_0x16085a(0x212),_0x20edf[_0x16085a(0x17c)]=function(_0x24dad9,_0x5809a9){return _0x24dad9===_0x5809a9;},_0x20edf[_0x16085a(0x2f1)]='TZXmv',_0x20edf[_0x16085a(0x190)]=_0x16085a(0x167);const _0x5c4eb8=_0x20edf,_0x5194b5=[];try{if(_0x5c4eb8[_0x16085a(0x258)](_0x5c4eb8[_0x16085a(0x1c2)],_0x5c4eb8[_0x16085a(0x1c2)])){const _0x48c221=_0x5e05e9[_0x16085a(0x1ac)][_0x16085a(0x29e)]('-'),_0x2ddbd0=_0x5c4eb8[_0x16085a(0x2ae)](_0x5c4eb8[_0x16085a(0x1ab)],_0x48c221[_0x5c4eb8[_0x16085a(0x172)](_0x48c221[_0x16085a(0x316)],0x1)])['slice'](0x0,0x18);return _0x2ddbd0[_0x16085a(0x2dc)]();}else{const _0x40b055=await this[_0x16085a(0x1eb)][_0x16085a(0x283)][_0x16085a(0x2ea)]();for await(const _0x55382f of _0x40b055){_0x5c4eb8[_0x16085a(0x17c)](_0x5c4eb8['Zoehn'],_0x5c4eb8['wOrvx'])?_0x2afe93[_0x16085a(0x26a)]=_0x100a90:_0x5194b5[_0x16085a(0x136)](_0x55382f[_0x16085a(0x267)]);}}}catch(_0xec500a){}return _0x5194b5;}async[a1_0x4ec808(0x1bc)](){const _0x21a60a=a1_0x4ec808;return this[_0x21a60a(0x18c)]=await this['containerClient'][_0x21a60a(0x152)][_0x21a60a(0x2d6)](global_registry[_0x21a60a(0x18a)],this['clusterName']),this[_0x21a60a(0x18c)];}async[a1_0x4ec808(0x164)](){const _0x2e4869=a1_0x4ec808,_0x9a3e1b=await this['containerClient']['managedClusters'][_0x2e4869(0x31c)](global_registry[_0x2e4869(0x18a)],this[_0x2e4869(0x1ce)]),_0x779616=_0x9a3e1b['kubeconfigs'][0x0][_0x2e4869(0x2c5)][_0x2e4869(0x300)]();return _0x779616;}[a1_0x4ec808(0x142)](_0x194ca5){const _0x259751=a1_0x4ec808;return _0x194ca5['status'][_0x259751(0x31d)][_0x259751(0x30d)][0x0][_0x259751(0x21d)];}async[a1_0x4ec808(0x143)](){const _0x25c5df=a1_0x4ec808,_0x408ebc={};_0x408ebc['BSJrY']='Enabling\x20Workload\x20identity\x20for\x20the\x20cluster',_0x408ebc['qSXDU']=_0x25c5df(0x1c9),_0x408ebc[_0x25c5df(0x296)]=function(_0x55f49b,_0x3ed193){return _0x55f49b!==_0x3ed193;},_0x408ebc[_0x25c5df(0x285)]=_0x25c5df(0x28c),_0x408ebc[_0x25c5df(0x247)]=function(_0x583a31,_0x4dfcb0){return _0x583a31===_0x4dfcb0;},_0x408ebc[_0x25c5df(0x17f)]=_0x25c5df(0x284),_0x408ebc[_0x25c5df(0x165)]=_0x25c5df(0x137),_0x408ebc[_0x25c5df(0x144)]=_0x25c5df(0x254);const _0x102423=_0x408ebc,_0x12b296=new Array();for await(const _0x2e7116 of this[_0x25c5df(0x147)][_0x25c5df(0x152)][_0x25c5df(0x16d)](global_registry[_0x25c5df(0x18a)])){if(_0x102423['nTrAE'](_0x102423['wKggo'],_0x102423[_0x25c5df(0x285)])){_0xd0190b['info'](_0x102423[_0x25c5df(0x256)]);const _0x3e2c87={};_0x3e2c87[_0x25c5df(0x162)]=_0x26826c[_0x25c5df(0x317)],_0x3e2c87[_0x25c5df(0x1d6)]=_0x102423['BSJrY'],this[_0x25c5df(0x29a)]['sendEventToBackend'](this['rws'],_0x3e2c87);const _0x38c97e={};_0x38c97e[_0x25c5df(0x1d0)]=!![];const _0x7b1c0a={'workloadIdentity':_0x38c97e,..._0x2c0f84['securityProfile']};_0x53d303[_0x25c5df(0x183)]=_0x7b1c0a;}else _0x12b296['push'](_0x2e7116);}for await(const _0x221da0 of _0x12b296){if(_0x102423[_0x25c5df(0x247)](_0x102423[_0x25c5df(0x17f)],_0x102423[_0x25c5df(0x17f)])){if(_0x102423['KOMdw'](_0x221da0[_0x25c5df(0x267)],this[_0x25c5df(0x1ce)])){if(_0x102423['nTrAE'](_0x102423['hziTt'],_0x102423[_0x25c5df(0x144)]))return await this[_0x25c5df(0x1bc)](),!![];else _0x46429e['push'](_0x1a111a);}}else return _0x3a2c14[_0x25c5df(0x205)]=_0x102423['qSXDU'],_0x284600;}return![];}async[a1_0x4ec808(0x23c)](_0x3f5328=null,_0x4827d2=null){const _0x6175bb=a1_0x4ec808,_0x3c0188={};_0x3c0188[_0x6175bb(0x1f8)]=_0x6175bb(0x139),_0x3c0188[_0x6175bb(0x2cc)]=_0x6175bb(0x1ed);const _0x2130eb=_0x3c0188,_0x5f43bb=_0x2130eb['RmnoX'][_0x6175bb(0x29e)]('|');let _0x3ecd6a=0x0;while(!![]){switch(_0x5f43bb[_0x3ecd6a++]){case'0':this['sendAzureInfoToHST']();continue;case'1':return[_0x3f5328,_0x4827d2];case'2':await this[_0x6175bb(0x19b)]();continue;case'3':logger[_0x6175bb(0x160)](_0x2130eb['roEgp']);continue;case'4':await this['createCluster'](_0x3f5328,_0x4827d2);continue;case'5':const _0x4aad5a={};_0x4aad5a['type']=WS_EVENTS[_0x6175bb(0x28a)],_0x4aad5a[_0x6175bb(0x1d6)]=_0x2130eb['roEgp'],this['webSocketUtils'][_0x6175bb(0x321)](this[_0x6175bb(0x1cb)],_0x4aad5a);continue;}break;}}async[a1_0x4ec808(0x32a)](_0x395694=null,_0x40a70d=null){const _0x179265=a1_0x4ec808,_0x221ac7={};_0x221ac7[_0x179265(0x1e8)]=_0x179265(0x1a5),_0x221ac7[_0x179265(0x29b)]=_0x179265(0x182),_0x221ac7[_0x179265(0x270)]=_0x179265(0x2f6),_0x221ac7['ZJynq']=_0x179265(0x295),_0x221ac7[_0x179265(0x282)]=_0x179265(0x28f),_0x221ac7[_0x179265(0x272)]='true',_0x221ac7['Iaytj']='false',_0x221ac7[_0x179265(0x138)]=function(_0xf67860,_0x31b0e5){return _0xf67860!==_0x31b0e5;},_0x221ac7['lYUJa']=function(_0xa5b9cf,_0x431d6a){return _0xa5b9cf!==_0x431d6a;},_0x221ac7[_0x179265(0x32f)]=function(_0x4bf2f0,_0xaab2b1){return _0x4bf2f0===_0xaab2b1;},_0x221ac7['lVGkd']=_0x179265(0x30c),_0x221ac7[_0x179265(0x271)]=_0x179265(0x24e),_0x221ac7['fIFvM']=_0x179265(0x18e),_0x221ac7[_0x179265(0x1bd)]=_0x179265(0x257),_0x221ac7[_0x179265(0x1db)]=_0x179265(0x14d),_0x221ac7[_0x179265(0x2a3)]=_0x179265(0x157),_0x221ac7['aFVhw']='Incremental';const _0x46aa1e=_0x221ac7;let _0x495a79=await fs[_0x179265(0x141)](path['join'](__dirname,'..',_0x46aa1e[_0x179265(0x29b)],_0x46aa1e[_0x179265(0x270)],_0x46aa1e[_0x179265(0x24f)]),_0x46aa1e[_0x179265(0x282)]);_0x495a79=JSON[_0x179265(0x2d4)](_0x495a79);const _0x4af864={};_0x4af864[_0x179265(0x2c5)]=this[_0x179265(0x1ce)];const _0x5379d4={};_0x5379d4['value']=global_registry[_0x179265(0x1b9)];const _0x17b6e9={};_0x17b6e9[_0x179265(0x2c5)]=global_registry[_0x179265(0x2cb)];const _0x234627={};_0x234627['value']=global_registry[_0x179265(0x2da)];const _0x605cd1={};_0x605cd1[_0x179265(0x2c5)]=global_registry[_0x179265(0x166)]?_0x46aa1e[_0x179265(0x272)]:_0x46aa1e['Iaytj'];const _0x50390e={};_0x50390e['clusterName']=_0x4af864,_0x50390e[_0x179265(0x1a0)]=_0x5379d4,_0x50390e[_0x179265(0x1f6)]=_0x17b6e9,_0x50390e[_0x179265(0x306)]=_0x234627,_0x50390e[_0x179265(0x166)]=_0x605cd1;let _0x3c5596=_0x50390e;if(_0x46aa1e[_0x179265(0x138)](_0x395694,null)&&_0x46aa1e[_0x179265(0x18f)](_0x40a70d,null)){if(_0x46aa1e[_0x179265(0x32f)](_0x46aa1e[_0x179265(0x2bd)],_0x46aa1e['lVGkd'])){const _0x2a2022={};_0x2a2022[_0x179265(0x162)]=_0x46aa1e[_0x179265(0x271)],_0x2a2022['metadata']={},_0x2a2022['metadata'][_0x179265(0x1c8)]=_0x46aa1e[_0x179265(0x264)];const _0x1cc79f={};_0x1cc79f[_0x179265(0x162)]=_0x46aa1e[_0x179265(0x271)],_0x1cc79f[_0x179265(0x184)]={},_0x1cc79f[_0x179265(0x184)][_0x179265(0x1c8)]=_0x46aa1e[_0x179265(0x264)],_0x495a79['parameters']={..._0x495a79['parameters'],'vpcName':_0x2a2022,'subnetName':_0x1cc79f};const _0x135381={};_0x135381['vnetSubnetID']=_0x46aa1e[_0x179265(0x1bd)],_0x495a79['variables']=_0x135381,_0x495a79['resources'][0x0][_0x179265(0x16f)][_0x179265(0x2b1)][0x0]={..._0x495a79[_0x179265(0x2d2)][0x0]['properties'][_0x179265(0x2b1)][0x0],'vnetSubnetID':_0x46aa1e[_0x179265(0x1db)]};const _0x1eda57={};_0x1eda57[_0x179265(0x2c5)]=_0x395694;const _0x53a4e8={};_0x53a4e8[_0x179265(0x2c5)]=_0x40a70d[0x0],_0x3c5596={..._0x3c5596,'vpcName':_0x1eda57,'subnetName':_0x53a4e8};}else _0x130de4[_0x179265(0x160)](_0x46aa1e[_0x179265(0x1e8)]);}await this[_0x179265(0x1eb)][_0x179265(0x304)][_0x179265(0x235)](global_registry[_0x179265(0x18a)],_0x46aa1e[_0x179265(0x2a3)],{'properties':{'template':_0x495a79,'mode':_0x46aa1e[_0x179265(0x1ae)],'parameters':_0x3c5596}});}async[a1_0x4ec808(0x19b)](){const _0x53657c=a1_0x4ec808,_0x3b1634={};_0x3b1634['iISMt']=function(_0x2be972,_0x184a3e){return _0x2be972===_0x184a3e;},_0x3b1634['PwJas']=_0x53657c(0x248),_0x3b1634[_0x53657c(0x262)]=function(_0x1891f8,_0x18306d){return _0x1891f8!==_0x18306d;},_0x3b1634[_0x53657c(0x1e7)]='ntoCe',_0x3b1634['SFizj']=_0x53657c(0x217),_0x3b1634[_0x53657c(0x1c7)]=_0x53657c(0x1f7),_0x3b1634[_0x53657c(0x2f0)]=function(_0x438941,_0x57d6ce){return _0x438941===_0x57d6ce;},_0x3b1634[_0x53657c(0x329)]=_0x53657c(0x2e0),_0x3b1634[_0x53657c(0x29c)]=_0x53657c(0x2cf),_0x3b1634['GPOVk']=_0x53657c(0x1a5),_0x3b1634['qbMXi']=_0x53657c(0x1af),_0x3b1634[_0x53657c(0x2ce)]=_0x53657c(0x2b6),_0x3b1634[_0x53657c(0x24b)]=_0x53657c(0x246),_0x3b1634[_0x53657c(0x158)]=_0x53657c(0x240),_0x3b1634[_0x53657c(0x19f)]=_0x53657c(0x2df),_0x3b1634[_0x53657c(0x230)]=_0x53657c(0x145);const _0x2d8b9f=_0x3b1634,_0x24ae52=await this['isStorageAccountPresent']();if(!_0x24ae52){if(_0x2d8b9f[_0x53657c(0x262)](_0x2d8b9f[_0x53657c(0x1e7)],_0x2d8b9f[_0x53657c(0x2b4)])){const _0x5d387f={};_0x5d387f[_0x53657c(0x162)]=WS_EVENTS[_0x53657c(0x28a)],_0x5d387f[_0x53657c(0x1d6)]=_0x2d8b9f[_0x53657c(0x1c7)],this[_0x53657c(0x29a)][_0x53657c(0x321)](this[_0x53657c(0x1cb)],_0x5d387f),logger['info'](_0x2d8b9f[_0x53657c(0x1c7)]),await this[_0x53657c(0x185)]();}else return!![];}else{if(_0x2d8b9f[_0x53657c(0x2f0)](_0x2d8b9f[_0x53657c(0x329)],_0x2d8b9f[_0x53657c(0x29c)]))return!![];else logger[_0x53657c(0x160)](_0x2d8b9f[_0x53657c(0x14b)]);}const _0x538454=await this[_0x53657c(0x233)]();if(!_0x538454){if(_0x2d8b9f[_0x53657c(0x262)](_0x2d8b9f[_0x53657c(0x1c1)],_0x2d8b9f[_0x53657c(0x1c1)]))return!![];else{const _0x3ef215={};_0x3ef215[_0x53657c(0x162)]=WS_EVENTS[_0x53657c(0x28a)],_0x3ef215['message']=_0x2d8b9f[_0x53657c(0x2ce)],this[_0x53657c(0x29a)][_0x53657c(0x321)](this[_0x53657c(0x1cb)],_0x3ef215),logger['info'](_0x2d8b9f['FlurV']),await this[_0x53657c(0x211)]();}}else _0x2d8b9f[_0x53657c(0x276)](_0x2d8b9f[_0x53657c(0x24b)],_0x2d8b9f[_0x53657c(0x24b)])?logger[_0x53657c(0x160)](_0x2d8b9f['diQcy']):(_0xafffae+=_0x2d8b9f[_0x53657c(0x276)](_0x2b0206[_0x53657c(0x316)],0x0)?_0x2d8b9f[_0x53657c(0x275)]:'',_0x9f5e11[_0x53657c(0x1a9)](_0x53657c(0x214)+_0x7dd3a4[_0x53657c(0x1aa)](_0x343c2d)));logger[_0x53657c(0x160)](_0x2d8b9f[_0x53657c(0x19f)]),await this['createFederatedAccount'](),logger[_0x53657c(0x160)](_0x2d8b9f[_0x53657c(0x230)]);}async[a1_0x4ec808(0x185)](){const _0x3518aa=a1_0x4ec808,_0x903a90={};_0x903a90[_0x3518aa(0x1be)]='templates',_0x903a90['ToPDN']=_0x3518aa(0x2f6),_0x903a90[_0x3518aa(0x25d)]=_0x3518aa(0x2c3),_0x903a90[_0x3518aa(0x2e5)]=_0x3518aa(0x28f),_0x903a90[_0x3518aa(0x1ad)]=_0x3518aa(0x2b5),_0x903a90[_0x3518aa(0x229)]=_0x3518aa(0x2ec),_0x903a90[_0x3518aa(0x2de)]='Blob\x20delete\x20lifecycle',_0x903a90[_0x3518aa(0x21c)]=_0x3518aa(0x1bf),_0x903a90[_0x3518aa(0x13d)]=_0x3518aa(0x307),_0x903a90[_0x3518aa(0x2e8)]=_0x3518aa(0x252);const _0x561167=_0x903a90;let _0x1cc900=await fs[_0x3518aa(0x141)](path['join'](__dirname,'..',_0x561167[_0x3518aa(0x1be)],_0x561167['ToPDN'],_0x561167[_0x3518aa(0x25d)]),_0x561167[_0x3518aa(0x2e5)]);_0x1cc900=JSON[_0x3518aa(0x2d4)](_0x1cc900);const _0x4609ba=this[_0x3518aa(0x1f1)](),_0x41496c={};_0x41496c['value']=_0x4609ba;const _0x1b284a={};_0x1b284a[_0x3518aa(0x1a6)]=_0x41496c,await this[_0x3518aa(0x1eb)][_0x3518aa(0x304)]['beginCreateOrUpdateAndWait'](global_registry[_0x3518aa(0x18a)],_0x561167[_0x3518aa(0x1ad)],{'properties':{'template':_0x1cc900,'mode':_0x561167['vrjCN'],'parameters':_0x1b284a}});const _0x38c231={};_0x38c231[_0x3518aa(0x311)]=0x3c;const _0x5afd11={};_0x5afd11[_0x3518aa(0x2b2)]=_0x38c231;const _0x20db0a={};_0x20db0a['baseBlob']=_0x5afd11;const _0x480e83={};_0x480e83[_0x3518aa(0x1d0)]=!![],_0x480e83['name']=_0x561167[_0x3518aa(0x2de)],_0x480e83['type']=_0x561167[_0x3518aa(0x21c)],_0x480e83[_0x3518aa(0x1ff)]={},_0x480e83[_0x3518aa(0x1ff)][_0x3518aa(0x21e)]=_0x20db0a,_0x480e83[_0x3518aa(0x1ff)]['filters']={},_0x480e83[_0x3518aa(0x1ff)]['filters']['blobTypes']=[_0x561167[_0x3518aa(0x13d)]];const _0x202d5b={};_0x202d5b[_0x3518aa(0x1fa)]=[_0x480e83];const _0x501c54={};_0x501c54['policy']=_0x202d5b;const _0x113f46=_0x501c54;await this[_0x3518aa(0x146)]['managementPolicies'][_0x3518aa(0x293)](global_registry[_0x3518aa(0x18a)],_0x4609ba,_0x561167[_0x3518aa(0x2e8)],_0x113f46);}async[a1_0x4ec808(0x211)](){const _0x224bfe=a1_0x4ec808,_0x1dd459={};_0x1dd459[_0x224bfe(0x155)]=_0x224bfe(0x182),_0x1dd459['OinlN']='azureresources',_0x1dd459[_0x224bfe(0x245)]=_0x224bfe(0x19e),_0x1dd459['bXDXO']='utf-8',_0x1dd459['fDqBp']=_0x224bfe(0x23e),_0x1dd459['PXUfZ']=_0x224bfe(0x2ec);const _0x3561f2=_0x1dd459;let _0x5b0b5b=await fs['readFileAsync'](path[_0x224bfe(0x193)](__dirname,'..',_0x3561f2[_0x224bfe(0x155)],_0x3561f2[_0x224bfe(0x2bb)],_0x3561f2[_0x224bfe(0x245)]),_0x3561f2[_0x224bfe(0x2b7)]);_0x5b0b5b=JSON[_0x224bfe(0x2d4)](_0x5b0b5b),await this['resourceClient'][_0x224bfe(0x304)][_0x224bfe(0x235)](global_registry[_0x224bfe(0x18a)],_0x3561f2['fDqBp'],{'properties':{'template':_0x5b0b5b,'mode':_0x3561f2[_0x224bfe(0x29f)],'parameters':{'clusterName':{'value':this[_0x224bfe(0x1ce)]}}}});}async[a1_0x4ec808(0x2a8)](){const _0x119370=a1_0x4ec808,_0x1e9977={};_0x1e9977['jcqJt']=function(_0x4aa24a,_0x53ee53){return _0x4aa24a===_0x53ee53;},_0x1e9977[_0x119370(0x20a)]=_0x119370(0x15a),_0x1e9977[_0x119370(0x16b)]=_0x119370(0x1a7),_0x1e9977[_0x119370(0x2f5)]=_0x119370(0x2dd),_0x1e9977['Gbjdv']=function(_0x348d7c,_0x39326d){return _0x348d7c!==_0x39326d;},_0x1e9977[_0x119370(0x23b)]=_0x119370(0x1d2),_0x1e9977[_0x119370(0x2a5)]=_0x119370(0x182),_0x1e9977[_0x119370(0x13a)]=_0x119370(0x2f6),_0x1e9977[_0x119370(0x27c)]=_0x119370(0x28f),_0x1e9977['bladr']='turboscale-federated-deployment',_0x1e9977[_0x119370(0x326)]=_0x119370(0x2ec);const _0x1069f7=_0x1e9977;if(!this['clusterInfo']){if(_0x1069f7[_0x119370(0x2fd)](_0x1069f7['jvvUx'],_0x1069f7[_0x119370(0x20a)]))await this[_0x119370(0x1bc)]();else return;}const _0x474e60=this['clusterInfo']?.['oidcIssuerProfile']?.['issuerURL'],_0x5a3258=[_0x1069f7['REqWk'],_0x1069f7[_0x119370(0x2f5)]];for await(const _0x36649a of _0x5a3258){if(_0x1069f7[_0x119370(0x1a1)](_0x1069f7['zgfVS'],_0x1069f7[_0x119370(0x23b)]))return _0x15f544[_0x119370(0x26a)]=_0x50a5f5[_0x119370(0x26a)],_0x1a1bc5;else{let _0x28c243=await fs[_0x119370(0x141)](path[_0x119370(0x193)](__dirname,'..',_0x1069f7[_0x119370(0x2a5)],_0x1069f7[_0x119370(0x13a)],_0x119370(0x314)+_0x36649a+_0x119370(0x2f2)),_0x1069f7['xGLdv']);_0x28c243=JSON['parse'](_0x28c243);const _0x44c011={};_0x44c011['value']=_0x474e60,await this[_0x119370(0x1eb)][_0x119370(0x304)][_0x119370(0x235)](global_registry['cloudProviderResourceGroup'],_0x1069f7[_0x119370(0x2fb)],{'properties':{'template':_0x28c243,'mode':_0x1069f7[_0x119370(0x326)],'parameters':{'oidcIssuer':_0x44c011,'gridName':{'value':this[_0x119370(0x1c4)]},'clusterName':{'value':this[_0x119370(0x1ce)]}}}});}}}async[a1_0x4ec808(0x2d5)](_0x5516f6,_0x565ad6,_0x27c65a,_0x5c99c7,_0x21ecea){const _0x535d42=a1_0x4ec808,_0x232b7c={};_0x232b7c['iudTO']=_0x535d42(0x330),_0x232b7c[_0x535d42(0x301)]=_0x535d42(0x151);const _0x28f60d=_0x232b7c,_0x384e66={};_0x384e66[_0x535d42(0x162)]=WS_EVENTS[_0x535d42(0x28a)],_0x384e66[_0x535d42(0x1d6)]=_0x28f60d['iudTO'],this['webSocketUtils'][_0x535d42(0x321)](this[_0x535d42(0x1cb)],_0x384e66),logger['info'](_0x28f60d[_0x535d42(0x2e4)]),await this['createFederatedAccountForHubHA']();const _0x37146f={};_0x37146f[_0x535d42(0x162)]=WS_EVENTS[_0x535d42(0x28a)],_0x37146f['message']=_0x28f60d[_0x535d42(0x301)],this['webSocketUtils'][_0x535d42(0x321)](this[_0x535d42(0x1cb)],_0x37146f);}async[a1_0x4ec808(0x2f3)](){const _0x338ca1=a1_0x4ec808,_0x5a10ad={};_0x5a10ad[_0x338ca1(0x1bb)]=function(_0x44249b,_0x55377a){return _0x44249b+_0x55377a;},_0x5a10ad['sHfBS']=function(_0x5d3b32,_0x35c23f){return _0x5d3b32!==_0x35c23f;},_0x5a10ad[_0x338ca1(0x322)]='VUibM',_0x5a10ad[_0x338ca1(0x32d)]=_0x338ca1(0x2ed),_0x5a10ad[_0x338ca1(0x281)]=_0x338ca1(0x182),_0x5a10ad[_0x338ca1(0x2bf)]=_0x338ca1(0x266),_0x5a10ad[_0x338ca1(0x2eb)]=_0x338ca1(0x2e7),_0x5a10ad['eXptw']=_0x338ca1(0x28f),_0x5a10ad[_0x338ca1(0x30b)]=_0x338ca1(0x1f4),_0x5a10ad[_0x338ca1(0x1dd)]=_0x338ca1(0x2ec);const _0x7b8093=_0x5a10ad;!this[_0x338ca1(0x18c)]&&(_0x7b8093[_0x338ca1(0x228)](_0x7b8093[_0x338ca1(0x322)],_0x7b8093[_0x338ca1(0x32d)])?await this[_0x338ca1(0x1bc)]():_0x3598a7[_0x338ca1(0x2a9)]('['+_0x7b8093[_0x338ca1(0x1bb)](_0x3b8a37,0x1)+']\x20'+_0x4b9f5e[_0x29c334]));const _0x105661=this[_0x338ca1(0x18c)]?.[_0x338ca1(0x226)]?.[_0x338ca1(0x220)];let _0x30ab20=await fs[_0x338ca1(0x141)](path[_0x338ca1(0x193)](__dirname,'..',_0x7b8093[_0x338ca1(0x281)],_0x7b8093[_0x338ca1(0x2bf)],_0x7b8093[_0x338ca1(0x2eb)]),_0x7b8093[_0x338ca1(0x216)]);_0x30ab20=JSON[_0x338ca1(0x2d4)](_0x30ab20);const _0x221a8e={};_0x221a8e[_0x338ca1(0x2c5)]=_0x105661,await this[_0x338ca1(0x1eb)][_0x338ca1(0x304)]['beginCreateOrUpdateAndWait'](global_registry[_0x338ca1(0x18a)],_0x7b8093[_0x338ca1(0x30b)],{'properties':{'template':_0x30ab20,'mode':_0x7b8093[_0x338ca1(0x1dd)],'parameters':{'oidcIssuer':_0x221a8e,'namespace':{'value':global_registry[_0x338ca1(0x1ca)]},'clusterName':{'value':this[_0x338ca1(0x1ce)]}}}});}async[a1_0x4ec808(0x1da)](){const _0x4e13de=a1_0x4ec808,_0x281602={};_0x281602[_0x4e13de(0x2be)]=function(_0x24ff7e,_0x1c1a4d){return _0x24ff7e!==_0x1c1a4d;},_0x281602[_0x4e13de(0x1b3)]=_0x4e13de(0x297),_0x281602['ivwhG']='sUsAx',_0x281602[_0x4e13de(0x1fb)]=function(_0x42cfca,_0xfc0ec3){return _0x42cfca===_0xfc0ec3;},_0x281602[_0x4e13de(0x263)]='pdWtJ',_0x281602[_0x4e13de(0x242)]=_0x4e13de(0x32e);const _0x5b8065=_0x281602,_0x4ddf93=this[_0x4e13de(0x1f1)](),_0x1d4eb7=new Array();for await(const _0x5bad99 of this[_0x4e13de(0x146)][_0x4e13de(0x2b3)][_0x4e13de(0x16d)](global_registry[_0x4e13de(0x18a)])){_0x5b8065['bptZn'](_0x5b8065['LRtDV'],_0x5b8065[_0x4e13de(0x290)])?_0x1d4eb7[_0x4e13de(0x136)](_0x5bad99):_0x75f6c[_0x4e13de(0x136)](_0x108434);}for await(const _0x2f0f40 of _0x1d4eb7){if(_0x5b8065[_0x4e13de(0x1fb)](_0x5b8065[_0x4e13de(0x263)],_0x5b8065['SkenV'])){if(_0x5b8065['WnLrr'](_0x2f0f40[_0x4e13de(0x267)],_0x4ddf93)){if(_0x5b8065['bptZn'](_0x5b8065[_0x4e13de(0x242)],_0x5b8065[_0x4e13de(0x242)]))_0x5056c1[_0x4e13de(0x26a)]=_0x51a448;else return!![];}}else{const _0x2bc51d=new _0xb6255e(_0x190763[_0x4e13de(0x198)],_0x3cb6c8[_0x4e13de(0x191)],_0x215f18[_0x4e13de(0x318)]);this[_0x4e13de(0x147)]=new _0x4efaa5(_0x2bc51d,_0x5bc273[_0x4e13de(0x2a7)]),this[_0x4e13de(0x146)]=new _0x4c06c8(_0x2bc51d,_0x1b4e48['cloudProviderSubscriptionId']),this['resourceClient']=new _0x280fd2(_0x2bc51d,_0x5cdbde[_0x4e13de(0x2a7)]),this['networkClient']=new _0x487d0f(_0x2bc51d,_0x2eb205[_0x4e13de(0x2a7)]),this[_0x4e13de(0x13e)]=new _0x1a3136(_0x2bc51d,_0x4d0ed7[_0x4e13de(0x2a7)]),this[_0x4e13de(0x15f)]=_0x2bc51d;}}return![];}async[a1_0x4ec808(0x233)](){const _0x4fc071=a1_0x4ec808,_0x296338={};_0x296338[_0x4fc071(0x153)]=_0x4fc071(0x19d),_0x296338[_0x4fc071(0x2b9)]=_0x4fc071(0x1e6),_0x296338[_0x4fc071(0x22f)]=function(_0x3afb4d,_0x21eb90){return _0x3afb4d===_0x21eb90;},_0x296338[_0x4fc071(0x202)]=_0x4fc071(0x1de),_0x296338[_0x4fc071(0x249)]='wdAsm',_0x296338[_0x4fc071(0x325)]=function(_0x886ac,_0x597360){return _0x886ac!==_0x597360;},_0x296338[_0x4fc071(0x244)]=_0x4fc071(0x24a),_0x296338[_0x4fc071(0x201)]='eoqjD';const _0x461ca2=_0x296338,_0x979173=new Array();for await(const _0x339843 of this[_0x4fc071(0x1eb)][_0x4fc071(0x2d2)]['listByResourceGroup'](global_registry[_0x4fc071(0x18a)])){_0x461ca2['TDAPo'](_0x461ca2['eFEGK'],_0x461ca2['RkQqB'])?_0x572cd4[_0x4fc071(0x1e1)](0x0):_0x979173[_0x4fc071(0x136)](_0x339843);}for await(const _0x4cbf29 of _0x979173){if(_0x461ca2[_0x4fc071(0x325)](_0x461ca2[_0x4fc071(0x244)],_0x461ca2['WFaqC'])){_0x272cab[_0x4fc071(0x160)](_0x461ca2[_0x4fc071(0x153)]);const _0x512a4d={};_0x512a4d[_0x4fc071(0x162)]=_0x3b5c6a[_0x4fc071(0x317)],_0x512a4d[_0x4fc071(0x1d6)]=_0x461ca2[_0x4fc071(0x153)],this[_0x4fc071(0x29a)][_0x4fc071(0x321)](this['rws'],_0x512a4d),_0x1afa36['disableLocalAccounts']=![];}else{if(_0x461ca2[_0x4fc071(0x22f)](_0x4cbf29[_0x4fc071(0x267)],_0x4fc071(0x2e9)+this['clusterName'])){if(_0x461ca2['gfYoL'](_0x461ca2[_0x4fc071(0x201)],_0x461ca2['kwLbE'])){const _0x34c2e6=_0x461ca2[_0x4fc071(0x2b9)][_0x4fc071(0x29e)]('|');let _0x55a8c2=0x0;while(!![]){switch(_0x34c2e6[_0x55a8c2++]){case'0':_0x3a8819['cloudProviderSubscriptionId']=_0x4c372b[this[_0x4fc071(0x2cd)]]['subscriptionId'];continue;case'1':_0x26f83d[_0x4fc071(0x18a)]=_0x478a0f[this['cloudProviderName']][_0x4fc071(0x1e9)];continue;case'2':_0x36bdd2[_0x4fc071(0x318)]=_0x8ef504[this[_0x4fc071(0x2cd)]][_0x4fc071(0x30e)];continue;case'3':_0xd6a0c9[_0x4fc071(0x198)]=_0x3a61dc[this[_0x4fc071(0x2cd)]][_0x4fc071(0x2ef)];continue;case'4':this[_0x4fc071(0x27a)]();continue;case'5':_0x2883cc[_0x4fc071(0x191)]=_0x2280c0[this['cloudProviderName']][_0x4fc071(0x168)];continue;}break;}}else return!![];}}}return![];}async[a1_0x4ec808(0x1e2)](_0x37e35f,_0x315c09=0x3){const _0x48cc24=a1_0x4ec808,_0x4b5ba0={'IsLdJ':_0x48cc24(0x213),'xxrKh':function(_0x508926,_0x412fc6){return _0x508926===_0x412fc6;},'ZDhOj':_0x48cc24(0x170),'KCNvo':function(_0x4ec15c,_0x317a64,_0x358fd5){return _0x4ec15c(_0x317a64,_0x358fd5);},'dmuJw':'reHnU','HHgZQ':_0x48cc24(0x215),'UbvMT':function(_0x6269b2,_0x432cdf){return _0x6269b2===_0x432cdf;},'esPPV':'yTyus','OKAOY':_0x48cc24(0x31b),'qGItd':'UpkQb','YlGPs':_0x48cc24(0x27b),'tqxtd':'aUSRx','lEJKJ':_0x48cc24(0x219),'ZsxPH':function(_0x346230,_0x257660){return _0x346230===_0x257660;},'ZwhJn':function(_0x94c971,_0x26579a){return _0x94c971!==_0x26579a;},'CZbgV':_0x48cc24(0x1d7),'qqivL':_0x48cc24(0x163),'WnTJa':'2023-01-31','OODzG':'tGTch','aONYR':function(_0x49860c,_0x4c75fc){return _0x49860c<=_0x4c75fc;},'rtwGa':function(_0x499198,_0x5d84bd){return _0x499198===_0x5d84bd;},'BDpVr':_0x48cc24(0x1ba),'FCgbD':function(_0x389771,_0x6a9d9a){return _0x389771-_0x6a9d9a;}};try{if(_0x4b5ba0[_0x48cc24(0x221)](_0x4b5ba0['esPPV'],_0x4b5ba0[_0x48cc24(0x18b)]))_0x1122a4[_0x48cc24(0x136)](_0x2e18ef);else{const _0x200584=new Array();for await(const _0x360dff of this['resourceClient'][_0x48cc24(0x2d2)][_0x48cc24(0x16d)](global_registry[_0x48cc24(0x18a)])){if(_0x4b5ba0['UbvMT'](_0x4b5ba0[_0x48cc24(0x261)],_0x4b5ba0[_0x48cc24(0x16e)])){_0x5f388e[_0x48cc24(0x160)](_0x4b5ba0['IsLdJ']);const _0x27a768={};_0x27a768['type']=_0x1ee1c1[_0x48cc24(0x317)],_0x27a768[_0x48cc24(0x1d6)]=_0x4b5ba0[_0x48cc24(0x1ef)],this[_0x48cc24(0x29a)]['sendEventToBackend'](this[_0x48cc24(0x1cb)],_0x27a768),_0x39aaf2[_0x48cc24(0x226)]['enabled']=!![];}else _0x200584[_0x48cc24(0x136)](_0x360dff);}let _0x21e563='';for await(const _0x5159bc of _0x200584){if(_0x4b5ba0[_0x48cc24(0x238)](_0x4b5ba0[_0x48cc24(0x207)],_0x4b5ba0['lEJKJ'])){if(_0x4b5ba0['xxrKh'](_0x40d8cb[_0x48cc24(0x267)],_0x46f222))return!![];}else _0x4b5ba0['ZsxPH'](_0x5159bc['name'],_0x37e35f)&&(_0x4b5ba0['ZwhJn'](_0x4b5ba0[_0x48cc24(0x253)],_0x4b5ba0['qqivL'])?_0x21e563=_0x5159bc['id']:(_0x225d27[_0x48cc24(0x26a)](_0x4b5ba0[_0x48cc24(0x2c2)]),_0x46fc04[_0x48cc24(0x1e1)](0x1)));}const _0x3dfe46=await this[_0x48cc24(0x1eb)][_0x48cc24(0x2d2)]['getById'](_0x21e563,_0x4b5ba0[_0x48cc24(0x280)]);return _0x3dfe46[_0x48cc24(0x16f)][_0x48cc24(0x168)];}}catch(_0x467b5a){if(_0x4b5ba0[_0x48cc24(0x223)](_0x4b5ba0[_0x48cc24(0x2bc)],_0x4b5ba0[_0x48cc24(0x2bc)]))_0x4b5ba0[_0x48cc24(0x236)](_0x51a96c,()=>_0x1005b1(),0x3e8);else{if(_0x4b5ba0[_0x48cc24(0x19a)](_0x315c09,0x0))return _0x4b5ba0[_0x48cc24(0x32c)](_0x4b5ba0[_0x48cc24(0x312)],_0x4b5ba0[_0x48cc24(0x312)])?(logger[_0x48cc24(0x26a)](_0x48cc24(0x2db)+_0x467b5a+':'+_0x467b5a[_0x48cc24(0x243)]),{}):[!![],_0x4c5452];return await new Promise(_0xd4648b=>{const _0x313b6e=_0x48cc24;_0x4b5ba0['xxrKh'](_0x4b5ba0[_0x313b6e(0x2ca)],_0x4b5ba0[_0x313b6e(0x2c0)])?_0x39dcc3[_0x313b6e(0x15c)]=![]:_0x4b5ba0[_0x313b6e(0x236)](setTimeout,()=>_0xd4648b(),0x3e8);}),this[_0x48cc24(0x1e2)](_0x37e35f,_0x4b5ba0[_0x48cc24(0x1a3)](_0x315c09,0x1));}}}async['isBrowserstackCluster'](){const _0x120b32=a1_0x4ec808,_0x371921={};_0x371921[_0x120b32(0x292)]=function(_0x15693b,_0x40d1aa){return _0x15693b===_0x40d1aa;},_0x371921['ohPxf']='kPhFl',_0x371921[_0x120b32(0x1b6)]=function(_0xf15208,_0x7f8f3c){return _0xf15208===_0x7f8f3c;},_0x371921[_0x120b32(0x25e)]=_0x120b32(0x20e),_0x371921[_0x120b32(0x1ee)]='BrowserStack',_0x371921[_0x120b32(0x14c)]=_0x120b32(0x27e),_0x371921[_0x120b32(0x173)]=_0x120b32(0x17a);const _0x3826a7=_0x371921;!this[_0x120b32(0x18c)]&&(_0x3826a7[_0x120b32(0x292)](_0x3826a7[_0x120b32(0x255)],_0x3826a7[_0x120b32(0x255)])?await this[_0x120b32(0x1bc)]():_0x52495e['vpcInfo'][_0x120b32(0x136)](_0x685620));const _0x143de3=this['clusterInfo']?.[_0x120b32(0x1d8)]||{};if(_0x143de3&&_0x3826a7[_0x120b32(0x1b6)](_0x143de3[_0x3826a7[_0x120b32(0x25e)]],_0x3826a7[_0x120b32(0x1ee)]))return _0x3826a7[_0x120b32(0x1b6)](_0x3826a7['AOLfI'],_0x3826a7[_0x120b32(0x173)])?_0x571c7d[_0x120b32(0x15c)]['loadBalancer'][_0x120b32(0x30d)][0x0][_0x120b32(0x21d)]:!![];return![];}async['deleteCluster'](_0x2a8742,_0x3047fb){const _0x50a722=a1_0x4ec808,_0x4ceb35={'qFSGB':function(_0x1b9bfb,_0x1eb356){return _0x1b9bfb(_0x1eb356);},'ReRHw':_0x50a722(0x2b8)};await _0x4ceb35['qFSGB'](deleteAgent,_0x2a8742),await _0x4ceb35['qFSGB'](deleteRoutingDeps,_0x2a8742);const _0x2e14d5=this['containerClient'];logger['info'](_0x50a722(0x21b)+this[_0x50a722(0x1ce)]),await _0x2e14d5[_0x50a722(0x152)][_0x50a722(0x294)](global_registry['cloudProviderResourceGroup'],this['clusterName']),logger[_0x50a722(0x160)](_0x4ceb35[_0x50a722(0x24c)]);}async['updateClusterAlreadyPresent'](){const _0x38959c=a1_0x4ec808,_0x18aa65={};_0x18aa65[_0x38959c(0x2f8)]=function(_0x73c759,_0x52a3d0){return _0x73c759===_0x52a3d0;},_0x18aa65[_0x38959c(0x239)]=_0x38959c(0x2f9),_0x18aa65['jFPte']=_0x38959c(0x24e),_0x18aa65['TcRdB']=_0x38959c(0x18e),_0x18aa65[_0x38959c(0x2d0)]=_0x38959c(0x257),_0x18aa65[_0x38959c(0x203)]='[variables(\x27vnetSubnetID\x27)]',_0x18aa65[_0x38959c(0x224)]=_0x38959c(0x240),_0x18aa65[_0x38959c(0x232)]=_0x38959c(0x171),_0x18aa65[_0x38959c(0x1cd)]=_0x38959c(0x278),_0x18aa65[_0x38959c(0x1e5)]=function(_0x3f87fb,_0x3e8d96){return _0x3f87fb&&_0x3e8d96;},_0x18aa65[_0x38959c(0x319)]=function(_0x35bff0,_0x50b90f){return _0x35bff0!==_0x50b90f;},_0x18aa65[_0x38959c(0x197)]=_0x38959c(0x2fa),_0x18aa65[_0x38959c(0x24d)]='NpFpB',_0x18aa65['NcrQP']=function(_0x37b289,_0x3fcc1c){return _0x37b289===_0x3fcc1c;},_0x18aa65[_0x38959c(0x234)]=_0x38959c(0x1d3),_0x18aa65[_0x38959c(0x27d)]='tFniK',_0x18aa65[_0x38959c(0x1cf)]='Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster',_0x18aa65[_0x38959c(0x27f)]=function(_0x5016e1,_0x5cbd5b){return _0x5016e1===_0x5cbd5b;},_0x18aa65['DEgRB']=_0x38959c(0x196),_0x18aa65[_0x38959c(0x1b4)]='aROVK',_0x18aa65[_0x38959c(0x14e)]=_0x38959c(0x195),_0x18aa65[_0x38959c(0x28d)]=function(_0x43ab15,_0x1c576f){return _0x43ab15!==_0x1c576f;},_0x18aa65[_0x38959c(0x23d)]=_0x38959c(0x175),_0x18aa65[_0x38959c(0x1c0)]=_0x38959c(0x19d);const _0x36485e=_0x18aa65;if(!this['clusterInfo']){if(_0x36485e[_0x38959c(0x2f8)](_0x36485e[_0x38959c(0x232)],_0x36485e['BEpcL'])){if(_0x36485e[_0x38959c(0x2f8)](_0x3a48db['name'],'turboscale-managed-identity-'+this[_0x38959c(0x1ce)]))return!![];}else await this['getClusterInfo']();}const _0x21ee3d=this[_0x38959c(0x18c)],_0x81dc82=this[_0x38959c(0x18c)]?.[_0x38959c(0x226)]?.['enabled']||![],_0x16b4db=this[_0x38959c(0x18c)]?.[_0x38959c(0x183)]?.[_0x38959c(0x1b1)]?.[_0x38959c(0x1d0)]||![],_0x41438a=!this[_0x38959c(0x18c)]?.[_0x38959c(0x241)]||![];if(_0x36485e[_0x38959c(0x1e5)](_0x81dc82,_0x16b4db)&&_0x41438a){if(_0x36485e[_0x38959c(0x319)](_0x36485e[_0x38959c(0x197)],_0x36485e[_0x38959c(0x24d)]))return;else return _0x2bbd0c['data']=_0x36485e[_0x38959c(0x239)],_0x5440ef;}if(!_0x81dc82){if(_0x36485e[_0x38959c(0x274)](_0x36485e[_0x38959c(0x234)],_0x36485e[_0x38959c(0x27d)]))return _0xff39b4[_0x38959c(0x26a)]('Cannot\x20find\x20subnets\x20'+_0x21e76d+'.\x20Error:\x20'+_0x2f3340),[![],[]];else{logger[_0x38959c(0x160)](_0x36485e['wmuIS']);const _0x2fdf3b={};_0x2fdf3b[_0x38959c(0x162)]=WS_EVENTS['RESOURCES'],_0x2fdf3b['message']=_0x36485e['wmuIS'],this[_0x38959c(0x29a)]['sendEventToBackend'](this[_0x38959c(0x1cb)],_0x2fdf3b),_0x21ee3d[_0x38959c(0x226)][_0x38959c(0x1d0)]=!![];}}if(!_0x16b4db){if(_0x36485e['fOznh'](_0x36485e[_0x38959c(0x269)],_0x36485e[_0x38959c(0x1b4)])){const _0x678174={};_0x678174['type']=_0x36485e[_0x38959c(0x1ea)],_0x678174[_0x38959c(0x184)]={},_0x678174[_0x38959c(0x184)][_0x38959c(0x1c8)]=_0x36485e[_0x38959c(0x22b)];const _0x1fb53e={};_0x1fb53e[_0x38959c(0x162)]=_0x36485e[_0x38959c(0x1ea)],_0x1fb53e[_0x38959c(0x184)]={},_0x1fb53e[_0x38959c(0x184)][_0x38959c(0x1c8)]=_0x36485e['TcRdB'];const _0x2c2fb3={..._0x1569ab[_0x38959c(0x13f)]};_0x2c2fb3[_0x38959c(0x251)]=_0x678174,_0x2c2fb3[_0x38959c(0x302)]=_0x1fb53e,_0x54b9e5['parameters']=_0x2c2fb3;const _0x259901={};_0x259901[_0x38959c(0x25c)]=_0x36485e['DoyWb'],_0x12a2d2[_0x38959c(0x231)]=_0x259901;const _0x1d4fc8={..._0x389bb2['resources'][0x0][_0x38959c(0x16f)][_0x38959c(0x2b1)][0x0]};_0x1d4fc8[_0x38959c(0x25c)]=_0x36485e[_0x38959c(0x203)],_0x31cf34[_0x38959c(0x2d2)][0x0][_0x38959c(0x16f)][_0x38959c(0x2b1)][0x0]=_0x1d4fc8;const _0x2cc437={};_0x2cc437['value']=_0x4c8af1;const _0x3bdd3a={};_0x3bdd3a['value']=_0x4082b9[0x0];const _0x2dd572={..._0x2211e9};_0x2dd572[_0x38959c(0x251)]=_0x2cc437,_0x2dd572[_0x38959c(0x302)]=_0x3bdd3a,_0x392b8a=_0x2dd572;}else{logger[_0x38959c(0x160)](_0x36485e[_0x38959c(0x14e)]);const _0x2331d5={};_0x2331d5[_0x38959c(0x162)]=WS_EVENTS[_0x38959c(0x317)],_0x2331d5[_0x38959c(0x1d6)]=_0x36485e[_0x38959c(0x14e)],this['webSocketUtils']['sendEventToBackend'](this['rws'],_0x2331d5);const _0x12ac66={};_0x12ac66[_0x38959c(0x1d0)]=!![],_0x21ee3d[_0x38959c(0x183)]={'workloadIdentity':_0x12ac66,..._0x21ee3d['securityProfile']};}}if(!_0x41438a){if(_0x36485e[_0x38959c(0x28d)](_0x36485e[_0x38959c(0x23d)],_0x36485e[_0x38959c(0x23d)]))_0x3618ef[_0x38959c(0x160)](_0x36485e[_0x38959c(0x224)]);else{logger[_0x38959c(0x160)](_0x36485e['seyeS']);const _0x246c09={};_0x246c09['type']=WS_EVENTS[_0x38959c(0x317)],_0x246c09[_0x38959c(0x1d6)]=_0x36485e[_0x38959c(0x1c0)],this['webSocketUtils'][_0x38959c(0x321)](this[_0x38959c(0x1cb)],_0x246c09),_0x21ee3d[_0x38959c(0x241)]=![];}}await this[_0x38959c(0x147)][_0x38959c(0x152)][_0x38959c(0x235)](global_registry[_0x38959c(0x18a)],this[_0x38959c(0x1ce)],_0x21ee3d),await this[_0x38959c(0x1bc)]();}async[a1_0x4ec808(0x179)](){const _0x24f0e4=a1_0x4ec808,_0x4860de={};_0x4860de[_0x24f0e4(0x268)]=function(_0x374ab2,_0x272997){return _0x374ab2===_0x272997;},_0x4860de['aXonw']=_0x24f0e4(0x13b),_0x4860de['xCRee']=_0x24f0e4(0x305);const _0x107f89=_0x4860de,_0xb1b750=await this[_0x24f0e4(0x194)][_0x24f0e4(0x17e)]['listAll'](global_registry[_0x24f0e4(0x18a)]),_0x343006={};_0x343006['username']=global_registry[_0x24f0e4(0x20c)],_0x343006[_0x24f0e4(0x20b)]=global_registry[_0x24f0e4(0x2af)],_0x343006['cloudProvider']=AZURE,_0x343006[_0x24f0e4(0x1b2)]=[];const _0x2f3666=_0x343006;for await(const _0x4202a5 of _0xb1b750){_0x107f89[_0x24f0e4(0x268)](_0x107f89[_0x24f0e4(0x1f2)],_0x107f89[_0x24f0e4(0x174)])?_0x4e6e7b[_0x24f0e4(0x136)](..._0x29e5ed['actions']):_0x2f3666[_0x24f0e4(0x1b2)][_0x24f0e4(0x136)](_0x4202a5);}const _0x7bdcd5={};_0x7bdcd5[_0x24f0e4(0x162)]=WS_EVENTS[_0x24f0e4(0x317)],_0x7bdcd5[_0x24f0e4(0x1d6)]=_0x2f3666,this[_0x24f0e4(0x29a)][_0x24f0e4(0x321)](this[_0x24f0e4(0x1cb)],_0x7bdcd5);}async[a1_0x4ec808(0x273)](_0x2d94ef){const _0x3d8dfb=a1_0x4ec808,_0x4b98f0={};_0x4b98f0['FfvuC']=function(_0x3b44eb,_0x12f42b){return _0x3b44eb===_0x12f42b;},_0x4b98f0[_0x3d8dfb(0x2fc)]=function(_0x272e96,_0x1fb0a9){return _0x272e96===_0x1fb0a9;},_0x4b98f0[_0x3d8dfb(0x2a1)]='Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.',_0x4b98f0[_0x3d8dfb(0x327)]=function(_0x1c10a1,_0x190ace){return _0x1c10a1!==_0x190ace;},_0x4b98f0[_0x3d8dfb(0x286)]=_0x3d8dfb(0x189),_0x4b98f0['OPALv']=function(_0x277d8f,_0xb07ba){return _0x277d8f===_0xb07ba;},_0x4b98f0[_0x3d8dfb(0x2ad)]=_0x3d8dfb(0x313),_0x4b98f0[_0x3d8dfb(0x15e)]='olyCk',_0x4b98f0['FnYtr']=function(_0x5f5552,_0x281ffe){return _0x5f5552===_0x281ffe;},_0x4b98f0[_0x3d8dfb(0x192)]=function(_0x118df5,_0x37a53c){return _0x118df5!==_0x37a53c;},_0x4b98f0[_0x3d8dfb(0x315)]='VYgij',_0x4b98f0['Fuotf']=_0x3d8dfb(0x2c6),_0x4b98f0[_0x3d8dfb(0x1dc)]=_0x3d8dfb(0x149);const _0x5460af=_0x4b98f0;try{if(_0x5460af[_0x3d8dfb(0x327)](_0x5460af[_0x3d8dfb(0x286)],_0x5460af['FbulR']))return _0x114443[_0x3d8dfb(0x26a)](_0x3d8dfb(0x169)+_0x2e2d40+_0x3d8dfb(0x1fe)+_0x1a956f),![];else{const _0x1775d2=await this['networkClient'][_0x3d8dfb(0x17e)][_0x3d8dfb(0x1e4)](global_registry[_0x3d8dfb(0x18a)]);for await(const _0x34f190 of _0x1775d2){if(_0x5460af[_0x3d8dfb(0x260)](_0x5460af[_0x3d8dfb(0x2ad)],_0x5460af[_0x3d8dfb(0x15e)]))_0x5460af[_0x3d8dfb(0x298)](_0x369acb['name'],_0x2cb0c1)&&(_0x1f321f=_0x4f5025['id']);else{if(_0x5460af[_0x3d8dfb(0x17d)](_0x34f190[_0x3d8dfb(0x267)],_0x2d94ef)){if(_0x5460af['fvqcC'](_0x5460af['PMHkD'],_0x5460af[_0x3d8dfb(0x315)])){if(_0x5460af[_0x3d8dfb(0x2fc)](_0x44c4d4[_0x3d8dfb(0x267)],_0x51e5f5))return!![];}else return!![];}}}}}catch(_0x5465e7){if(_0x5460af[_0x3d8dfb(0x327)](_0x5460af['Fuotf'],_0x5460af[_0x3d8dfb(0x1dc)]))return logger[_0x3d8dfb(0x26a)]('Cannot\x20find\x20VPC\x20'+_0x2d94ef+_0x3d8dfb(0x1fe)+_0x5465e7),![];else _0x33d486[_0x3d8dfb(0x26a)](_0x5460af[_0x3d8dfb(0x2a1)]),_0x3c4c1f[_0x3d8dfb(0x1e1)](0x1);}return![];}async[a1_0x4ec808(0x209)](_0x179ce7,_0x658d90){const _0x50c862=a1_0x4ec808,_0x57bbf7={};_0x57bbf7[_0x50c862(0x2e2)]=_0x50c862(0x210),_0x57bbf7[_0x50c862(0x1e0)]=function(_0x547785,_0x432d46){return _0x547785===_0x432d46;},_0x57bbf7[_0x50c862(0x21a)]='pVrYK',_0x57bbf7[_0x50c862(0x2c9)]=function(_0x2f66be,_0x6c08a3){return _0x2f66be===_0x6c08a3;},_0x57bbf7['vtxXR']=function(_0x263a58,_0x4f7f7d){return _0x263a58===_0x4f7f7d;},_0x57bbf7[_0x50c862(0x291)]=_0x50c862(0x26f);const _0x55e706=_0x57bbf7;try{if(_0x55e706[_0x50c862(0x1e0)](_0x55e706[_0x50c862(0x21a)],_0x55e706[_0x50c862(0x21a)])){const _0x40d631=await this[_0x50c862(0x194)][_0x50c862(0x2d8)][_0x50c862(0x2d6)](global_registry['cloudProviderResourceGroup'],_0x658d90,_0x179ce7[0x0]);if(_0x55e706[_0x50c862(0x2c9)](_0x179ce7[0x0],_0x40d631['name'])){if(_0x55e706['vtxXR'](_0x55e706[_0x50c862(0x291)],_0x55e706['XAyjq']))return[!![],_0x179ce7];else throw new _0x1316f3(_0x55e706['xdPOy'],_0x50c862(0x324)+_0x5908ab[_0x50c862(0x1aa)](_0x231b74));}}else _0x1f5105[_0x50c862(0x136)](_0x3a6617[_0x50c862(0x267)]);}catch(_0x40fe20){return logger['error'](_0x50c862(0x204)+_0x179ce7+_0x50c862(0x16c)+_0x40fe20),[![],[]];}return[![],[]];}async[a1_0x4ec808(0x222)](){const _0x33e39e=a1_0x4ec808,_0x4e4212={};_0x4e4212[_0x33e39e(0x159)]=_0x33e39e(0x2ba);const _0x28ea04=_0x4e4212,_0x410931={};_0x410931[_0x33e39e(0x15c)]=!![],_0x410931[_0x33e39e(0x26a)]=null,_0x410931['data']=_0x28ea04[_0x33e39e(0x159)];const _0x3327cb=_0x410931;return _0x3327cb;}async[a1_0x4ec808(0x2e3)](){const _0x5f45fa=a1_0x4ec808,_0x10fe89={};_0x10fe89[_0x5f45fa(0x2aa)]=_0x5f45fa(0x1df),_0x10fe89[_0x5f45fa(0x225)]=_0x5f45fa(0x15b),_0x10fe89['KRNQN']='application/json';const _0x47f7ef=_0x10fe89,_0x135d92=await this[_0x5f45fa(0x15f)][_0x5f45fa(0x237)](_0x47f7ef['TzFHq']),_0x72479={};_0x72479[_0x5f45fa(0x31a)]=_0x47f7ef[_0x5f45fa(0x225)],_0x72479[_0x5f45fa(0x206)]={},_0x72479[_0x5f45fa(0x206)]['Authorization']=_0x5f45fa(0x31f)+_0x135d92[_0x5f45fa(0x1b5)],_0x72479[_0x5f45fa(0x206)]['Content-Type']=_0x47f7ef[_0x5f45fa(0x26d)];const _0x43bb5e=_0x72479;return _0x43bb5e;}async[a1_0x4ec808(0x154)](_0x33ba38){const _0x24d1e3=a1_0x4ec808,_0xc4417={'aXPwz':function(_0x12fc0b,_0xb52158,_0x379619){return _0x12fc0b(_0xb52158,_0x379619);},'inkJJ':function(_0x191c82,_0x5c7062){return _0x191c82===_0x5c7062;},'XADAV':_0x24d1e3(0x210)},_0x6142b9={};_0x6142b9[_0x24d1e3(0x148)]='',_0x6142b9[_0x24d1e3(0x26a)]=null;const _0x29583f=_0x6142b9;try{const _0x42db4b=_0x24d1e3(0x188)+_0x33ba38+'\x27',_0x2bc931=await this[_0x24d1e3(0x2e3)](),_0x1c10b3=await _0xc4417[_0x24d1e3(0x1f5)](fetch,_0x42db4b,_0x2bc931),_0x4f969a=await _0x1c10b3[_0x24d1e3(0x2d3)]();if(!_0x4f969a[_0x24d1e3(0x2c5)]||_0xc4417['inkJJ'](_0x4f969a[_0x24d1e3(0x2c5)][_0x24d1e3(0x316)],0x0))throw new Error(_0xc4417[_0x24d1e3(0x277)],_0x24d1e3(0x324)+JSON[_0x24d1e3(0x1aa)](_0x4f969a));_0x29583f['principalId']=_0x4f969a[_0x24d1e3(0x2c5)][0x0]['id'];}catch(_0x4e5fe3){_0x29583f[_0x24d1e3(0x26a)]=_0x4e5fe3;}return _0x29583f;}async[a1_0x4ec808(0x180)](){const _0x52c25e=a1_0x4ec808,_0xd7c1e7={};_0xd7c1e7[_0x52c25e(0x308)]=_0x52c25e(0x161),_0xd7c1e7[_0x52c25e(0x1e3)]='denied',_0xd7c1e7[_0x52c25e(0x18d)]=function(_0x12d5df,_0x269218){return _0x12d5df!==_0x269218;},_0xd7c1e7[_0x52c25e(0x19c)]=function(_0x557e76,_0xe0f75b){return _0x557e76===_0xe0f75b;},_0xd7c1e7['BPjxB']=_0x52c25e(0x2f9),_0xd7c1e7['jxTxc']=function(_0x50d16b,_0x1e345f){return _0x50d16b===_0x1e345f;},_0xd7c1e7[_0x52c25e(0x1c3)]=_0x52c25e(0x1c9),_0xd7c1e7['nflJr']=function(_0x3687fa,_0x52f983){return _0x3687fa===_0x52f983;},_0xd7c1e7['mhWiQ']=function(_0x2bb7c8,_0x183262){return _0x2bb7c8===_0x183262;},_0xd7c1e7['txVQI']=_0x52c25e(0x248);const _0x301846=_0xd7c1e7,_0x36c49a={};_0x36c49a[_0x52c25e(0x15c)]=![],_0x36c49a[_0x52c25e(0x26a)]=null,_0x36c49a['data']='';const _0xa758d=_0x36c49a;try{let _0x1069af='';const _0x2e876d=_0x52c25e(0x22a)+global_registry[_0x52c25e(0x2a7)]+'/resourceGroups/'+global_registry['cloudProviderResourceGroup'],_0x105454=await this[_0x52c25e(0x154)](global_registry[_0x52c25e(0x191)]);if(_0x301846[_0x52c25e(0x18d)](_0x105454[_0x52c25e(0x26a)],null))return _0xa758d['error']=_0x105454[_0x52c25e(0x26a)],_0xa758d;const _0x35f1dd=_0x52c25e(0x16a)+_0x105454[_0x52c25e(0x148)]+'\x27)',_0x54d45d={};_0x54d45d[_0x52c25e(0x25a)]=_0x35f1dd;const _0xf14115=await this[_0x52c25e(0x13e)]['roleAssignments'][_0x52c25e(0x2a2)](_0x2e876d,_0x54d45d),_0x8df670=[];for await(const _0x322884 of _0xf14115){_0x8df670[_0x52c25e(0x136)](_0x322884);}if(_0x301846['FZYsv'](_0x8df670['length'],0x0))return _0xa758d[_0x52c25e(0x205)]=_0x301846[_0x52c25e(0x1d9)],_0xa758d;const _0x1d8bff=[...new Set(_0x8df670['map'](_0x50987c=>_0x50987c[_0x52c25e(0x25f)]))];if(_0x301846[_0x52c25e(0x279)](_0x1d8bff[_0x52c25e(0x316)],0x0))return _0xa758d[_0x52c25e(0x205)]=_0x301846[_0x52c25e(0x1c3)],_0xa758d;const _0x45188c=[],_0x1bdb63=[];for(const _0x2547e4 of _0x1d8bff){const _0x5b75c6=await this[_0x52c25e(0x13e)][_0x52c25e(0x26c)][_0x52c25e(0x2c7)](_0x2547e4);logger[_0x52c25e(0x1a9)]('role\x20name\x20attached\x20-\x20'+_0x5b75c6[_0x52c25e(0x177)]),_0x45188c['push'](_0x5b75c6),logger['debug'](_0x52c25e(0x181)+JSON[_0x52c25e(0x1aa)](_0x5b75c6[_0x52c25e(0x309)])),_0x5b75c6[_0x52c25e(0x309)][_0x52c25e(0x265)](_0x2f34c7=>{const _0x458f3f=_0x52c25e;_0x1bdb63[_0x458f3f(0x136)](..._0x2f34c7['actions']);});}logger[_0x52c25e(0x1a9)](_0x52c25e(0x2f7)+JSON[_0x52c25e(0x1aa)](_0x1bdb63)),_0x301846[_0x52c25e(0x310)](_0x1bdb63[_0x52c25e(0x316)],0x0)&&(_0x1069af+=_0x301846['mhWiQ'](_0x1bdb63[_0x52c25e(0x316)],0x0)?_0x301846[_0x52c25e(0x1d5)]:'',logger[_0x52c25e(0x1a9)](_0x52c25e(0x214)+JSON[_0x52c25e(0x1aa)](_0x45188c))),_0xa758d[_0x52c25e(0x15c)]=!![],Object[_0x52c25e(0x21f)](PERMISSIONS[_0x52c25e(0x2c4)])['forEach'](([_0x2270ca,_0x1ffa93])=>{const _0x21f6d0=_0x52c25e,_0x40814c=_0x1bdb63['includes'](_0x2270ca);_0x1069af+='\x0a\x09'+_0x1ffa93+':\x20'+(_0x40814c?_0x301846[_0x21f6d0(0x308)]:_0x301846['dNEwn']),!_0x40814c&&(_0xa758d[_0x21f6d0(0x15c)]=![]);}),_0xa758d[_0x52c25e(0x205)]=_0x1069af;}catch(_0x2738c2){_0xa758d[_0x52c25e(0x26a)]=_0x2738c2;}return _0xa758d;}}function a1_0x2a3c(_0xde7c67,_0x36bfe1){const _0x1d6b06=a1_0x1d6b();return a1_0x2a3c=function(_0x2a3c37,_0x382410){_0x2a3c37=_0x2a3c37-0x136;let _0x589b37=_0x1d6b06[_0x2a3c37];return _0x589b37;},a1_0x2a3c(_0xde7c67,_0x36bfe1);}function a1_0x1d6b(){const _0x5ba455=['gridName','glecG','hkupp','FcYNH','description','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','hubHaNameSpace','rws','@azure/arm-resources','BEpcL','clusterName','wmuIS','enabled','2|3|0|4|5|1','OIACS','iIlJg','../permissions/AZURE.json','txVQI','message','xnwoK','tags','BPjxB','isStorageAccountPresent','KKvGg','wLpPt','ZZKqb','SVXnm','https://graph.microsoft.com/.default','VAMNQ','exit','getResourceClientId','dNEwn','listAll','ETNnh','5|2|3|0|1|4','bczcJ','kFjlt','resourceGroup','jFPte','resourceClient','DScnh','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','NmNuY','IsLdJ','../utils/gridComponents','getStorageAccountName','aXonw','gdbiQ','turboscale-federated-deployment','aXPwz','userInstanceType','Creating\x20Azure\x20storage\x20account','RmnoX','@azure/arm-network','rules','WnLrr','dyrEi','wbckY','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','definition','Figdi','kwLbE','eFEGK','WXTIh','Cannot\x20find\x20subnets\x20','data','headers','tqxtd','XOUOS','isSubnetsValid','jvvUx','accessKey','bstackUsername','Found\x20only\x20one\x20resource\x20group:\x20','browserstack:managedBy','fFJOy','No\x20service\x20principal\x20found','createManagedIdentity','IPMUA','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','ckgEC','eXptw','tHVER','BOlrb','dVspR','NldHo','Deleting\x20the\x20cluster\x20','XoCbt','hostname','actions','entries','issuerURL','UbvMT','isCliToolInstalled','ZwhJn','BrFmo','IUCbp','oidcIssuerProfile','13861070XMhENg','sHfBS','vrjCN','subscriptions/','TcRdB','@azure/arm-authorization','LvmNk','js-yaml','TDAPo','owfAf','variables','zmOSP','isManagedIdentityPresent','fdBoo','beginCreateOrUpdateAndWait','KCNvo','getToken','xxrKh','DKiRZ','../utils/utilityMethods','zgfVS','setupNewCluster','OfAce','turboscale-identity-deployment','denied','Managed\x20identity\x20already\x20exists,\x20skipping','disableLocalAccounts','pjNcC','stack','WFaqC','kphqi','Dnoxw','KOMdw','Action\x20permission\x20list\x20is\x20empty\x0a','RkQqB','MciSi','gVlxu','ReRHw','DlVGU','string','ZJynq','ZHZVO','vpcName','default','CZbgV','hjcgG','ohPxf','BSJrY','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','dTPDL','cnBCR','filter','xqAVf','vnetSubnetID','UaiEY','XyERQ','roleDefinitionId','OPALv','qGItd','EsvMq','SkenV','fIFvM','forEach','hubharesources','name','Vggtf','DEgRB','error','mLbdG','roleDefinitions','KRNQN','\x20CLIENT\x20ID:\x20','IGztM','ExzVf','LrAlt','XBgLq','isVPCPresent','NcrQP','PwJas','iISMt','XADAV','xuxwK','jxTxc','setClients','XTagr','xGLdv','MyiYV','tyMqU','fOznh','WnTJa','rrjhn','ySHZu','resourceGroups','HOphl','wKggo','FbulR','FmIkm','getResourceGroups','vIRiN','LOG','78744ywUhsq','kVfgl','uvqCz','434GNHpxQ','utf-8','ivwhG','XAyjq','OhytV','createOrUpdate','beginDeleteAndWait','akscluster.json','nTrAE','glIlP','FfvuC','MfohS','webSocketUtils','LzZEI','qCGVi','AVIqf','split','PXUfZ','getUserInput','uhNoM','listForScope','JSrJJ','dvvcC','QgQWa','zELuw','cloudProviderSubscriptionId','createFederatedAccount','log','TzFHq','@azure/arm-storage','\x20TENANT\x20ID:\x20','ELfnw','WfzlW','bstackAccesskey','YoEqs','agentPoolProfiles','delete','storageAccounts','SFizj','turboscale-storageaccount-deployment','Creating\x20Azure\x20managed\x20identity','bXDXO','Deleted\x20the\x20cluster\x20successfully','WZOXK','No\x20CLI\x20tool\x20required','OinlN','OODzG','lVGkd','bptZn','LkqQq','HHgZQ','ilDEx','ZDhOj','storageaccount.json','ACTION','value','ttvqu','getById','DLxKP','oGrfn','dmuJw','instanceType','roEgp','cloudProviderName','FlurV','wLtHi','DoyWb','cKfgL','resources','json','parse','setupHubHa','get','uBtBt','subnets','QUqNV','maxNodes','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','toLowerCase','node','kIWmV','Creating\x20Azure\x20federated\x20identity','YVUjW','xFSPW','xdPOy','getHeader','iudTO','ANyVj','AzureCloudProvider','federatedidentityuploader.json','YmXiP','turboscale-managed-identity-','list','xuAUV','Incremental','qRvwm','793863ZMuWSF','tenantId','zvjKs','Zoehn','.json','createFederatedAccountForHubHA','ikTuX','TeRDQ','azureresources','actionPermission\x20:\x20','dkrmR','No\x20attached\x20role\x20for\x20the\x20client\x20key','XwGWh','bladr','FMqlC','jcqJt','turboscale','includes','toString','nJqrl','subnetName','@azure/arm-containerservice','deployments','mRpBj','userMaxNodes','blockBlob','MBSHP','permissions','kubcB','lIBQD','FEIIf','ingress','clientSecret','Erdvo','nflJr','daysAfterCreationGreaterThan','BDpVr','muICd','federatedidentity','PMHkD','length','RESOURCES','cloudProviderClientSecret','GGVMk','method','XbRyA','listClusterAdminCredentials','loadBalancer','XKZWw','Bearer\x20','4|2|0|3|6|1|7|5','sendEventToBackend','sNUWb','11qjnEio','Received\x20response\x20-\x20','gfYoL','sZxPI','xClBC','YQqCl','EXpGP','createCluster','6BXpdWe','rtwGa','WehvF','Qafwq','xMGDZ','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','push','KTNuD','sEqts','0|5|3|4|2|1','DLwTA','AJviJ','6QhADfL','OqZoY','authClient','parameters','SlxSJ','readFileAsync','getGridHostname','isClusterPresent','iUids','Created\x20Azure\x20federated\x20identity','storageClient','containerClient','principalId','OqHXk','KQgsx','GPOVk','AOLfI','[variables(\x27vnetSubnetID\x27)]','tormL','SHfEr','426252RaVOOX','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','managedClusters','BLCmf','getPrincipalIdFromClientId','EIlZr','init','turboscale-cluster-deployment','diQcy','GYMvT','ZZglr','GET','status','VKYfn','mawGJ','cred','info','allowed','type','cFouQ','getKubeConfigData','hziTt','clusterAutoUpgrade','FwmGS','clientId','Cannot\x20find\x20VPC\x20','assignedTo(\x27','REqWk','.\x20Error:\x20','listByResourceGroup','YlGPs','properties','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','TKdDK','wNaSt','fxXMD','xCRee','MCtOw','1231724CGtkdT','roleName','subscriptionId','sendAzureInfoToHST','uQjbE','cloudProvider','xCmqk','FnYtr','virtualNetworks','KwFTs','checkAccess','Attached\x20permissions\x20:\x20','templates','securityProfile','metadata','createStorageAccount','toUpperCase','901532nWVRWm','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','sucnH','cloudProviderResourceGroup','OKAOY','clusterInfo','RiIDl','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','lYUJa','wOrvx','cloudProviderClientId','fvqcC','join','networkClient','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','jcacq','EsYie','cloudProviderTenantId','../config/logger','aONYR','createOtherResources','FZYsv','Enabling\x20Local\x20account\x20for\x20the\x20cluster','managedidentity.json','uYWGV','location','Gbjdv','LqMJf','FCgbD','CsJRA','Storage\x20account\x20already\x20exists,\x20skipping','storageAccountName','hub','setCachedCredsInRegistry','debug','stringify','zYBOv','s3Bucket','FOmgJ','aFVhw','IPnTO','2447255vacKiw','workloadIdentity','vpcInfo','LRtDV','AusCR','token','dYfTg','kKXVR','MDFoW','clusterRegion','dDNef','LRrcK','getClusterInfo','rlmlX','dsJYq','Lifecycle','seyeS','qbMXi','fkTYs','hEoQR'];a1_0x1d6b=function(){return _0x5ba455;};return a1_0x1d6b();}const a1_0x36b51f={};a1_0x36b51f[a1_0x4ec808(0x2e6)]=AzureCloudProvider,module['exports']=a1_0x36b51f;