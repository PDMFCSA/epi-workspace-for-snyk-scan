const a1_0x16c66e=a1_0x51fe;(function(_0x593af7,_0x3a011d){const _0x20af64=a1_0x51fe,_0x5328f3=_0x593af7();while(!![]){try{const _0xb1b63=parseInt(_0x20af64(0x1df))/0x1+parseInt(_0x20af64(0x2af))/0x2*(-parseInt(_0x20af64(0xfe))/0x3)+parseInt(_0x20af64(0x191))/0x4+-parseInt(_0x20af64(0x20b))/0x5+-parseInt(_0x20af64(0x1e6))/0x6*(-parseInt(_0x20af64(0x291))/0x7)+-parseInt(_0x20af64(0x1fd))/0x8*(-parseInt(_0x20af64(0xe6))/0x9)+-parseInt(_0x20af64(0x150))/0xa*(-parseInt(_0x20af64(0x167))/0xb);if(_0xb1b63===_0x3a011d)break;else _0x5328f3['push'](_0x5328f3['shift']());}catch(_0x2c044a){_0x5328f3['push'](_0x5328f3['shift']());}}}(a1_0x1dc9,0xb36a0));const fs=require('fs'),path=require('path'),yaml=require(a1_0x16c66e(0x267)),{logger}=require(a1_0x16c66e(0x164)),{CloudProvider}=require(a1_0x16c66e(0x24c)),{deleteRoutingDeps,deleteAgent}=require('../utils/gridComponents'),{AZURE,WS_EVENTS,global_registry}=require('../config/constants'),PERMISSIONS=require(a1_0x16c66e(0xcc)),{ClientSecretCredential}=require(a1_0x16c66e(0x218)),{NetworkManagementClient}=require(a1_0x16c66e(0xcb)),{StorageManagementClient}=require('@azure/arm-storage'),{AuthorizationManagementClient}=require(a1_0x16c66e(0x116)),{ResourceManagementClient}=require('@azure/arm-resources'),{ContainerServiceClient}=require(a1_0x16c66e(0x239)),{runCommand}=require('../utils/utilityMethods');function a1_0x1dc9(){const _0x42ff11=['srTUZ','VSCZj','@azure/arm-containerservice','feEPr','UhCRB','string','deleteCluster','value','LkbdN','AOMSL','Blob\x20delete\x20lifecycle','securityProfile','npEio','ckwRJ','islST','oWcoC','createStorageAccount','nWRhe','kXpka','swVfi','storageaccount.json','./CloudProvider','hub','LHBdf','EzUrd','hvvEf','EpuAd','setCachedCredsInRegistry','turboscale-identity-deployment','POsne','XqOfi','4|3|0|1|6|7|5|2','getResourceClientId','init','jEFiC','RQIFT','ingress','rblnR','BUmpM','TeVHe','MOuSs','cloudProviderSubscriptionId','createFederatedAccountForHubHA','agentPoolProfiles','qFJoo','pxjaG','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','QzAyd','js-yaml','clusterRegion','cloudProviderName','kYNSf','HOdtu','Incremental','gfrtF','ukiJH','clientId','yniKn','GWGdu','NKMzj','s3Bucket','updateClusterAlreadyPresent','Bearer\x20','QOali','isVPCPresent','xhIut','fQWET','dpJzJ','MrwLS','createFederatedAccount','clientSecret','default','twGaL','BOOGE','pBxFV','readFileAsync','error','RfJIu','hThzz','authClient','listForScope','setClients','delete','dCaMs','cloudProviderClientId','No\x20attached\x20role\x20for\x20the\x20client\x20key','vpcName','wBIne','parameters','sendEventToBackend','1450330LVRjjF','slice','WnvDb','cWpFB','hEYwZ','Bymlc','llnNI','HhAVT','HiCaV','mhCll','IVGJi','uKjkR','pynxL','ahWOn','federatedidentity','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','akscluster.json','GsIqM','TAgHd','LpTdW','eUJUm','listClusterAdminCredentials','getPrincipalIdFromClientId','HtrFm','zsUoC','toLowerCase','iqRzE','slzGe','Storage\x20account\x20already\x20exists,\x20skipping','push','2cZMLnN','subscriptionId','Odcya','oMtCG','info','OHGMF','vfwFA','cred','GET','nSFsa','MfMOQ','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','subscriptions/','NqQNx','hGQNK','yazjg','GYypY','EKXKd','listAll','KtBeR','cloudProviderClientSecret','enabled','KrxdM','gHgcx','GJzBF','lcIrZ','cloudProvider','DfVHy','@azure/arm-network','../permissions/AZURE.json','metadata','VzKrr','setupNewCluster','WguMW','HDZUn','CIcme','dDoKM','vNZjG','hxDdi','znxbx','Attached\x20permissions\x20:\x20','gridName','kQcmJ','turboscale','roleDefinitionId','Creating\x20Azure\x20storage\x20account','YOCsA','name','qfUCa','token','EunUp','PKNxO','getToken','MCiGg','FSTUZ','51813BacnPw','YFQLm','subnets','Wmazj','application/json','vnetSubnetID','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','\x20TENANT\x20ID:\x20','xZVHP','vFmhQ','Deleted\x20the\x20cluster\x20successfully','isStorageAccountPresent','yfocs','debug','getStorageAccountName','mZueU','cloudProviderTenantId','EJsDu','networkClient','turboscale-federated-deployment','LOG','XSyUB','turboscale-cluster-deployment','zxmQj','3726642QwSWev','BrowserStack','filters','yNFGC','vdjBT','YgWio','gmIsh','nDiKy','actionPermission\x20:\x20','headers','getHeader','utf-8','IJFFQ','list','definition','qxkxK','cQfOo','msvoF','OqDov','jFpyu','split','iPcWr','EJdAF','mOVkK','@azure/arm-authorization','stringify','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','WNbgC','SzHLT','workloadIdentity','filter','KQlPr','nPrfZ','ZXfPh','rRzYP','clusterInfo','nsnKx','lqtwX','BwIfi','setupHubHa','QhUlo','RteNP','TndhE','gAZWn','HIHLG','webSocketUtils','Authorization','instanceType','lOMJJ','2|3|5|1|0|4','getById','https://graph.microsoft.com/.default','daysAfterCreationGreaterThan','FwBlH','vaKXd','vpcInfo','managedClusters','parse','4|1|3|0|5|2','turboscale-managed-identity-','ACTION','baseBlob','bRMtw','loadBalancer','blobTypes','node','ZOwTz','Lifecycle','actions','Created\x20Azure\x20federated\x20identity','rws','storageClient','issuerURL','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','yLHIP','HCaWQ','sMomK','SzrEM','aIpBl','Found\x20only\x20one\x20resource\x20group:\x20','tPTer','EHChU','20BdhjVC','ezaiR','eLQAL','exports','aNVVt','role\x20name\x20attached\x20-\x20','log','forEach','Creating\x20Azure\x20federated\x20identity','aBimb','nzhON','false','sendAzureInfoToHST','azureresources','zAnfY','includes','zJAHu','RESOURCES','zyyrl','sLrzD','../config/logger','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','.\x20Error:\x20','1282237xIEeVj','createOrUpdate','0|5|3|1|2|4','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','gokEY','UnfLP','username','true','No\x20service\x20principal\x20found','storageAccountName','FnUIq','UGcJy','RONRd','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','iaMkS','LJUmn','XQKdI','kZZTU','templates','zkbun','VPuXd','containerClient','OTnyH','VwRdc','clCNU','LzehU','isCliToolInstalled','getKubeConfigData','No\x20CLI\x20tool\x20required','xnquk','aDgxc','qTloC','status','Yspgk','eCvNH','turboscale-storageaccount-deployment','oidcIssuerProfile','BCWcK','HGWpg','qdSUl','biuYA','398932SOfsut','description','AzureCloudProvider','MlGeF','hostname','method','HRedh','beginCreateOrUpdateAndWait','\x20RESOURCE\x20GROUP:\x20','edKjf','wylOM','TXnQN','YqgRr','iCmbK','browserstack:managedBy','ARECV','YbdBE','YziII','OSQhO','listByResourceGroup','JoIIQ','location','map','afuNl','Creating\x20Azure\x20managed\x20identity','QtioG','createCluster','AXIkp','createOtherResources','Managed\x20identity\x20already\x20exists,\x20skipping','OhRip','rJxfr','type','VDGlB','deployments','aIIGk','UyXeT','virtualNetworks','GrTVd','VjWjI','PQFMr','toUpperCase','isClusterPresent','Cannot\x20find\x20VPC\x20','dVfuS','QsmEN','checkAccess','zDcTG','WOylP','VrMxo','EbWTK','geXSb','KTrhH','message','IqSsv','sccOp','dfNrl','SbJBm','udEHd','assignedTo(\x27','DhRXZ','variables','CKqzR','rpROP','SZkKh','Received\x20response\x20-\x20','disableLocalAccounts','blockBlob','kubeconfigs','clusterAutoUpgrade','[variables(\x27vnetSubnetID\x27)]','resources','isManagedIdentityPresent','Enabling\x20Local\x20account\x20for\x20the\x20cluster','cKRHL','length','\x20CLIENT\x20ID:\x20','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','538172UvfFEq','cIUJg','yDYrw','uxTal','HRcCM','FPNiE','clusterName','24ckVCeM','getResourceGroups','principalId','prAWQ','FpjEE','VWasg','stack','data','ptkrg','IrINX','CtUdk','createManagedIdentity','LHRfP','DuBpF','jtNrC','tenantId','managedidentity.json','vbgwv','FteVD','DWRct','CIsBF','get','getClusterInfo','496QhFbLt','CZAPx','cloudProviderResourceGroup','ibdPZ','resourceClient','KlTdT','yxHbe','getGridHostname','rules','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','/resourceGroups/','RdiJe','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','Atqpw','398195oeonXS','fxAbz','storageAccounts','FmHKx','roleAssignments','exit','wlMuK','toString','ykWsB','Cannot\x20find\x20subnets\x20','KgOqX','QnKIR','getUserInput','@azure/identity','YxBHB','QKZsr','fWLkD','HXeQd','nkXnA','LEtTC','permissions','wslhL','properties','mfRrM','rzFOA','join','bUzdo','rGELe','xFgAA','maxNodes','omgfZ','roleDefinitions','WuYNm','kmpEz','jpCKY','eCkYY','URHxp','zUGEH','resourceGroup','iPKaq','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','DbVkJ','Action\x20permission\x20list\x20is\x20empty\x0a','OifDK'];a1_0x1dc9=function(){return _0x42ff11;};return a1_0x1dc9();}function a1_0x51fe(_0x260783,_0x14fb32){const _0x1dc931=a1_0x1dc9();return a1_0x51fe=function(_0x51fe1d,_0x199bd4){_0x51fe1d=_0x51fe1d-0xb9;let _0x1cb5ec=_0x1dc931[_0x51fe1d];return _0x1cb5ec;},a1_0x51fe(_0x260783,_0x14fb32);}class AzureCloudProvider extends CloudProvider{constructor(_0x78a7b8,_0x5ab1bc,_0x52b881,_0x2d36d7){const _0x501e3c=a1_0x16c66e,_0xd16ad8={};_0xd16ad8[_0x501e3c(0x1e3)]=_0x501e3c(0x256);const _0x40d45d=_0xd16ad8,_0x404ab9=_0x40d45d['HRcCM'][_0x501e3c(0x112)]('|');let _0x1ae303=0x0;while(!![]){switch(_0x404ab9[_0x1ae303++]){case'0':this[_0x501e3c(0x121)]=null;continue;case'1':this['containerClient']=null;continue;case'2':this['authClient']=null;continue;case'3':this['cred']=null;continue;case'4':super(AZURE,_0x78a7b8,_0x5ab1bc,_0x52b881,_0x2d36d7);continue;case'5':this[_0x501e3c(0xf8)]=null;continue;case'6':this[_0x501e3c(0x145)]=null;continue;case'7':this[_0x501e3c(0x201)]=null;continue;}break;}}async[a1_0x16c66e(0x258)](){const _0x199f86=a1_0x16c66e;return await super[_0x199f86(0x258)](),this;}[a1_0x16c66e(0x288)](){const _0x2f1454=a1_0x16c66e,_0x274bde=new ClientSecretCredential(global_registry['cloudProviderTenantId'],global_registry[_0x2f1454(0x28b)],global_registry[_0x2f1454(0xc3)]);this['containerClient']=new ContainerServiceClient(_0x274bde,global_registry[_0x2f1454(0x260)]),this[_0x2f1454(0x145)]=new StorageManagementClient(_0x274bde,global_registry[_0x2f1454(0x260)]),this[_0x2f1454(0x201)]=new ResourceManagementClient(_0x274bde,global_registry[_0x2f1454(0x260)]),this[_0x2f1454(0xf8)]=new NetworkManagementClient(_0x274bde,global_registry['cloudProviderSubscriptionId']),this[_0x2f1454(0x286)]=new AuthorizationManagementClient(_0x274bde,global_registry[_0x2f1454(0x260)]),this['cred']=_0x274bde;}[a1_0x16c66e(0xf4)](){const _0x2e1e89=a1_0x16c66e,_0x278f07={};_0x278f07[_0x2e1e89(0xd6)]=function(_0x529aeb,_0x569eca){return _0x529aeb+_0x569eca;},_0x278f07[_0x2e1e89(0x1eb)]=_0x2e1e89(0xda),_0x278f07[_0x2e1e89(0x251)]=function(_0x5870c2,_0x3d55a7){return _0x5870c2-_0x3d55a7;};const _0x974fb2=_0x278f07,_0x5dd9ff=global_registry[_0x2e1e89(0x273)][_0x2e1e89(0x112)]('-'),_0x4f3a5b=_0x974fb2[_0x2e1e89(0xd6)](_0x974fb2[_0x2e1e89(0x1eb)],_0x5dd9ff[_0x974fb2[_0x2e1e89(0x251)](_0x5dd9ff[_0x2e1e89(0x1dc)],0x1)])['slice'](0x0,0x18);return _0x4f3a5b[_0x2e1e89(0x2aa)]();}[a1_0x16c66e(0x252)](_0x18fa5d){const _0x50b1a9=a1_0x16c66e,_0x28d3e7={};_0x28d3e7[_0x50b1a9(0x18a)]=_0x50b1a9(0x169);const _0x200634=_0x28d3e7,_0x123400=_0x200634[_0x50b1a9(0x18a)][_0x50b1a9(0x112)]('|');let _0x204fe1=0x0;while(!![]){switch(_0x123400[_0x204fe1++]){case'0':global_registry[_0x50b1a9(0x28b)]=_0x18fa5d[this[_0x50b1a9(0x269)]][_0x50b1a9(0x26f)];continue;case'1':global_registry[_0x50b1a9(0x260)]=_0x18fa5d[this[_0x50b1a9(0x269)]][_0x50b1a9(0x2b0)];continue;case'2':global_registry[_0x50b1a9(0x1ff)]=_0x18fa5d[this[_0x50b1a9(0x269)]]['resourceGroup'];continue;case'3':global_registry['cloudProviderTenantId']=_0x18fa5d[this[_0x50b1a9(0x269)]][_0x50b1a9(0x1f5)];continue;case'4':this['setClients']();continue;case'5':global_registry['cloudProviderClientSecret']=_0x18fa5d[this[_0x50b1a9(0x269)]][_0x50b1a9(0x27d)];continue;}break;}}async[a1_0x16c66e(0x217)](_0x2cd6c9,_0x165fab){const _0x2ab1ae=a1_0x16c66e,_0x5d700b={'kXpka':function(_0x1491e8,_0x41a469,_0x57c4e9){return _0x1491e8(_0x41a469,_0x57c4e9);},'TXnQN':_0x2ab1ae(0x175),'UGcJy':function(_0x4fd896,_0x14dc46){return _0x4fd896(_0x14dc46);},'dfNrl':function(_0x267fa0,_0xc28b56){return _0x267fa0(_0xc28b56);},'VSCZj':function(_0x53ddab,_0x42f077){return _0x53ddab(_0x42f077);},'MlGeF':function(_0x3984a5,_0xe46b76){return _0x3984a5(_0xe46b76);},'XQKdI':function(_0x33f766,_0x3428e2){return _0x33f766===_0x3428e2;},'IqSsv':function(_0x54e36c,_0x2b5b4d){return _0x54e36c!==_0x2b5b4d;},'gAZWn':_0x2ab1ae(0x276),'VjWjI':function(_0x214737,_0x256ce2){return _0x214737(_0x256ce2);},'jtNrC':function(_0x462bd6,_0x25923f){return _0x462bd6===_0x25923f;},'NHAyK':_0x2ab1ae(0x208),'OHGMF':_0x2ab1ae(0xf5),'ptkrg':function(_0x5ee135,_0x1feb0d){return _0x5ee135===_0x1feb0d;},'feEPr':function(_0x3abd33,_0x26e9b5){return _0x3abd33===_0x26e9b5;},'mjcYQ':_0x2ab1ae(0xf7),'jecha':_0x2ab1ae(0xbd),'tPTer':function(_0x4eb140,_0x11fafa){return _0x4eb140===_0x11fafa;},'qFJoo':function(_0x43ce5b,_0x1a72f2){return _0x43ce5b!==_0x1a72f2;},'ARECV':_0x2ab1ae(0x16c),'DWRct':_0x2ab1ae(0x1b7),'llnNI':function(_0xe30db6,_0x8d0604){return _0xe30db6!==_0x8d0604;},'zOerU':'zbJpI','IVGJi':function(_0x153169,_0xb67cc5){return _0x153169<_0xb67cc5;},'FnUIq':_0x2ab1ae(0xe4),'IJFFQ':_0x2ab1ae(0x134),'rpROP':function(_0x34a6f4,_0x50f1b3){return _0x34a6f4+_0x50f1b3;},'fxAbz':_0x2ab1ae(0x165),'UtnDu':function(_0x17bea5,_0x5d469b){return _0x17bea5(_0x5d469b);},'srTUZ':function(_0x5c73cb,_0x16d378){return _0x5c73cb<=_0x16d378;},'TAgHd':function(_0x1cde28,_0x29eae7){return _0x1cde28>_0x29eae7;},'bUzdo':'HOcTt','DhRXZ':_0x2ab1ae(0x28e),'gmIsh':function(_0x481239,_0xa9a5ab){return _0x481239-_0xa9a5ab;}},_0x5035c6=this[_0x2ab1ae(0x269)][_0x2ab1ae(0x1ba)](),_0x10a448=await _0x5d700b[_0x2ab1ae(0x173)](_0x2cd6c9,_0x5035c6+_0x2ab1ae(0x1dd)),_0x20d8cd=await _0x5d700b[_0x2ab1ae(0x1c9)](_0x2cd6c9,_0x5035c6+'\x20CLIENT\x20SECRET:\x20'),_0x2b0d69=await _0x5d700b[_0x2ab1ae(0x238)](_0x2cd6c9,_0x5035c6+_0x2ab1ae(0xed)),_0xa14a96=await _0x5d700b[_0x2ab1ae(0x194)](_0x2cd6c9,_0x5035c6+'\x20SUBSCRIPTION\x20ID:\x20');global_registry[_0x2ab1ae(0x28b)]=_0x10a448,global_registry['cloudProviderClientSecret']=_0x20d8cd,global_registry[_0x2ab1ae(0xf6)]=_0x2b0d69,global_registry[_0x2ab1ae(0x260)]=_0xa14a96,this['setClients']();const _0x265351=await this[_0x2ab1ae(0x1e7)](),_0x53b6eb=_0x265351[_0x2ab1ae(0x1dc)];let _0x3a7813;if(_0x5d700b[_0x2ab1ae(0x178)](_0x53b6eb,0x0)){if(_0x5d700b[_0x2ab1ae(0x1c7)](_0x5d700b[_0x2ab1ae(0x129)],_0x5d700b[_0x2ab1ae(0x129)]))return!![];else _0x3a7813=await _0x5d700b[_0x2ab1ae(0x1b8)](_0x2cd6c9,_0x5035c6+_0x2ab1ae(0x199));}else{if(_0x5d700b[_0x2ab1ae(0x1f4)](_0x53b6eb,0x1)){if(_0x5d700b[_0x2ab1ae(0x1c7)](_0x5d700b['NHAyK'],_0x5d700b[_0x2ab1ae(0x2b4)])){const _0x49c395=await _0x5d700b[_0x2ab1ae(0x194)](_0x2cd6c9,_0x2ab1ae(0x14d)+_0x265351[0x0]+_0x2ab1ae(0x118));(_0x5d700b[_0x2ab1ae(0x1ee)](_0x49c395,undefined)||_0x5d700b[_0x2ab1ae(0x1ee)](_0x49c395,null)||!(_0x5d700b[_0x2ab1ae(0x178)](_0x49c395['toLowerCase'](),'y')||_0x5d700b[_0x2ab1ae(0x23a)](_0x49c395['toLowerCase'](),'n')))&&(_0x5d700b[_0x2ab1ae(0x178)](_0x5d700b['mjcYQ'],_0x5d700b['jecha'])?_0x5d700b[_0x2ab1ae(0x249)](_0x297da6,()=>_0x491aa8(),0x3e8):(console[_0x2ab1ae(0x283)](_0x5d700b[_0x2ab1ae(0x19c)]),process[_0x2ab1ae(0x210)](0x1))),_0x5d700b[_0x2ab1ae(0x14e)](_0x49c395[_0x2ab1ae(0x2aa)](),'n')&&(_0x5d700b[_0x2ab1ae(0x263)](_0x5d700b[_0x2ab1ae(0x1a0)],_0x5d700b[_0x2ab1ae(0x1f9)])?process['exit'](0x0):_0x4d554a=_0x2f824e['id']),_0x3a7813=_0x265351[0x0];}else _0xe643ac[_0x2ab1ae(0x2ae)](_0x5c8b7e);}else{if(_0x5d700b['llnNI'](_0x5d700b['zOerU'],_0x5d700b['zOerU']))_0xe7a5c['error']=_0x2fe3a2;else{for(let _0x4d6c28=0x0;_0x5d700b[_0x2ab1ae(0x29b)](_0x4d6c28,_0x265351[_0x2ab1ae(0x1dc)]);_0x4d6c28+=0x1){_0x5d700b[_0x2ab1ae(0x297)](_0x5d700b[_0x2ab1ae(0x172)],_0x5d700b[_0x2ab1ae(0x10a)])?console['log']('['+_0x5d700b[_0x2ab1ae(0x1d0)](_0x4d6c28,0x1)+']\x20'+_0x265351[_0x4d6c28]):(_0xc34d04[_0x2ab1ae(0x283)](_0x5d700b['TXnQN']),_0x325417[_0x2ab1ae(0x210)](0x1));}const _0x51f164=await _0x5d700b[_0x2ab1ae(0x194)](_0x2cd6c9,_0x5d700b[_0x2ab1ae(0x20c)]),_0x481914=_0x5d700b['UtnDu'](Number,_0x51f164);(_0x5d700b[_0x2ab1ae(0x1c9)](isNaN,_0x481914)||_0x5d700b[_0x2ab1ae(0x237)](_0x481914,0x0)||_0x5d700b[_0x2ab1ae(0x2a3)](_0x481914,_0x53b6eb))&&(_0x5d700b['IqSsv'](_0x5d700b[_0x2ab1ae(0x225)],_0x5d700b[_0x2ab1ae(0x1cd)])?(console[_0x2ab1ae(0x283)](_0x5d700b[_0x2ab1ae(0x19c)]),process[_0x2ab1ae(0x210)](0x1)):_0x17419a['push'](_0x3f3b0b[_0x2ab1ae(0xde)])),_0x3a7813=_0x265351[_0x5d700b[_0x2ab1ae(0x104)](_0x481914,0x1)];}}}global_registry['cloudProviderResourceGroup']=_0x3a7813;const _0x136a42={};return _0x136a42[_0x2ab1ae(0x26f)]=_0x10a448,_0x136a42[_0x2ab1ae(0x27d)]=_0x20d8cd,_0x136a42[_0x2ab1ae(0x1f5)]=_0x2b0d69,_0x136a42[_0x2ab1ae(0x2b0)]=_0xa14a96,_0x136a42[_0x2ab1ae(0x231)]=_0x3a7813,_0x165fab[_0x2ab1ae(0xc9)][AZURE]=_0x136a42,_0x165fab;}async[a1_0x16c66e(0x1e7)](){const _0x57d10f=a1_0x16c66e,_0x3cfecf={};_0x3cfecf['TeVHe']=_0x57d10f(0x23c),_0x3cfecf[_0x57d10f(0x1c8)]=_0x57d10f(0x16b),_0x3cfecf['ZOwTz']=_0x57d10f(0xba),_0x3cfecf[_0x57d10f(0x179)]=_0x57d10f(0x1d7),_0x3cfecf[_0x57d10f(0xe1)]=function(_0x291dc2,_0x4eb92e){return _0x291dc2===_0x4eb92e;},_0x3cfecf[_0x57d10f(0xdf)]=_0x57d10f(0x14b),_0x3cfecf[_0x57d10f(0x15a)]=_0x57d10f(0x1c1),_0x3cfecf['yLHIP']=function(_0x330592,_0x29ebf1){return _0x330592!==_0x29ebf1;},_0x3cfecf[_0x57d10f(0x119)]=_0x57d10f(0x113),_0x3cfecf['yazjg']=_0x57d10f(0x27a);const _0x227cc7=_0x3cfecf,_0x48e0ad=[];try{if(_0x227cc7['EunUp'](_0x227cc7['qfUCa'],_0x227cc7[_0x57d10f(0x15a)])){const _0x4eb9e1={};_0x4eb9e1[_0x57d10f(0x1b1)]=_0x227cc7['TeVHe'],_0x4eb9e1[_0x57d10f(0xcd)]={},_0x4eb9e1[_0x57d10f(0xcd)][_0x57d10f(0x192)]=_0x227cc7['sccOp'];const _0x452f16={};_0x452f16['type']=_0x227cc7[_0x57d10f(0x25e)],_0x452f16[_0x57d10f(0xcd)]={},_0x452f16[_0x57d10f(0xcd)]['description']=_0x227cc7[_0x57d10f(0x1c8)];const _0x1a985b={..._0xa8b3cc[_0x57d10f(0x28f)]};_0x1a985b[_0x57d10f(0x28d)]=_0x4eb9e1,_0x1a985b['subnetName']=_0x452f16,_0x5bf697['parameters']=_0x1a985b;const _0x5bb669={};_0x5bb669['vnetSubnetID']=_0x227cc7[_0x57d10f(0x140)],_0x5cfa8c[_0x57d10f(0x1ce)]=_0x5bb669;const _0x49c51a={..._0x5042ae['resources'][0x0][_0x57d10f(0x221)][_0x57d10f(0x262)][0x0]};_0x49c51a['vnetSubnetID']=_0x227cc7[_0x57d10f(0x179)],_0x25f680[_0x57d10f(0x1d8)][0x0]['properties'][_0x57d10f(0x262)][0x0]=_0x49c51a;const _0x2869b7={};_0x2869b7[_0x57d10f(0x23e)]=_0x48e9c4;const _0x20997f={};_0x20997f[_0x57d10f(0x23e)]=_0x51355a[0x0];const _0x430f9d={..._0x115a11};_0x430f9d[_0x57d10f(0x28d)]=_0x2869b7,_0x430f9d['subnetName']=_0x20997f,_0x3bda6b=_0x430f9d;}else{const _0xa1f558=await this['resourceClient']['resourceGroups'][_0x57d10f(0x10b)]();for await(const _0x2ff7ef of _0xa1f558){_0x227cc7[_0x57d10f(0x148)](_0x227cc7[_0x57d10f(0x119)],_0x227cc7[_0x57d10f(0xbe)])?_0x48e0ad[_0x57d10f(0x2ae)](_0x2ff7ef[_0x57d10f(0xde)]):_0x265e22['error']=_0x51c1f6;}}}catch(_0x22234c){}return _0x48e0ad;}async['getClusterInfo'](){const _0x2d4ec0=a1_0x16c66e;return this[_0x2d4ec0(0x121)]=await this[_0x2d4ec0(0x17d)]['managedClusters'][_0x2d4ec0(0x1fb)](global_registry[_0x2d4ec0(0x1ff)],this[_0x2d4ec0(0x1e5)]),this[_0x2d4ec0(0x121)];}async[a1_0x16c66e(0x183)](){const _0x473e3c=a1_0x16c66e,_0x5889ec=await this[_0x473e3c(0x17d)][_0x473e3c(0x136)][_0x473e3c(0x2a6)](global_registry[_0x473e3c(0x1ff)],this[_0x473e3c(0x1e5)]),_0x4c25e1=_0x5889ec[_0x473e3c(0x1d5)][0x0][_0x473e3c(0x23e)][_0x473e3c(0x212)]();return _0x4c25e1;}[a1_0x16c66e(0x204)](_0x1e294d){const _0x1c42bf=a1_0x16c66e;return _0x1e294d[_0x1c42bf(0x188)][_0x1c42bf(0x13d)][_0x1c42bf(0x25b)][0x0]['hostname'];}async[a1_0x16c66e(0x1bb)](){const _0x89513f=a1_0x16c66e,_0x433b6b={};_0x433b6b[_0x89513f(0x26b)]=function(_0x34fdc3,_0x32bbc9){return _0x34fdc3===_0x32bbc9;},_0x433b6b[_0x89513f(0x278)]=function(_0x31d062,_0x44505f){return _0x31d062!==_0x44505f;},_0x433b6b[_0x89513f(0x1e2)]=_0x89513f(0x1f8),_0x433b6b[_0x89513f(0x17b)]=_0x89513f(0x186),_0x433b6b['aIIGk']=function(_0x27cb43,_0x4176e6){return _0x27cb43!==_0x4176e6;},_0x433b6b['NWfDU']=_0x89513f(0x25f),_0x433b6b[_0x89513f(0xe7)]=_0x89513f(0x219),_0x433b6b[_0x89513f(0x24a)]=_0x89513f(0x126),_0x433b6b[_0x89513f(0x1a8)]=_0x89513f(0x1fa);const _0x32a5d3=_0x433b6b,_0xcc1e5a=new Array();for await(const _0x3b682c of this[_0x89513f(0x17d)][_0x89513f(0x136)][_0x89513f(0x1a4)](global_registry[_0x89513f(0x1ff)])){_0x32a5d3['xhIut'](_0x32a5d3[_0x89513f(0x1e2)],_0x32a5d3['zkbun'])?_0xcc1e5a['push'](_0x3b682c):_0x2497ee['push'](_0x21c42e);}for await(const _0x59c9e7 of _0xcc1e5a){if(_0x32a5d3[_0x89513f(0x1b4)](_0x32a5d3['NWfDU'],_0x32a5d3[_0x89513f(0xe7)])){if(_0x32a5d3['HOdtu'](_0x59c9e7[_0x89513f(0xde)],this[_0x89513f(0x1e5)])){if(_0x32a5d3['HOdtu'](_0x32a5d3[_0x89513f(0x24a)],_0x32a5d3[_0x89513f(0x1a8)])){if(_0x32a5d3[_0x89513f(0x26b)](_0xf29e0c[_0x89513f(0xde)],_0x89513f(0x139)+this[_0x89513f(0x1e5)]))return!![];}else return await this[_0x89513f(0x1fc)](),!![];}}else _0x3e33b2['exit'](0x0);}return![];}async[a1_0x16c66e(0xcf)](_0x49f8b2=null,_0x4737df=null){const _0x2e6cad=a1_0x16c66e,_0x2504cd={};_0x2504cd[_0x2e6cad(0x1ca)]=_0x2e6cad(0x138),_0x2504cd[_0x2e6cad(0x103)]=_0x2e6cad(0xec);const _0x9aeb29=_0x2504cd,_0x424e84=_0x9aeb29[_0x2e6cad(0x1ca)][_0x2e6cad(0x112)]('|');let _0x10f59f=0x0;while(!![]){switch(_0x424e84[_0x10f59f++]){case'0':await this[_0x2e6cad(0x1ab)](_0x49f8b2,_0x4737df);continue;case'1':const _0xb80768={};_0xb80768['type']=WS_EVENTS['LOG'],_0xb80768[_0x2e6cad(0x1c6)]=_0x9aeb29[_0x2e6cad(0x103)],this['webSocketUtils'][_0x2e6cad(0x290)](this[_0x2e6cad(0x144)],_0xb80768);continue;case'2':return[_0x49f8b2,_0x4737df];case'3':logger[_0x2e6cad(0x2b3)](_0x9aeb29[_0x2e6cad(0x103)]);continue;case'4':this[_0x2e6cad(0x15c)]();continue;case'5':await this[_0x2e6cad(0x1ad)]();continue;}break;}}async[a1_0x16c66e(0x1ab)](_0x80c016=null,_0xf109e2=null){const _0x14f60e=a1_0x16c66e,_0x492873={};_0x492873[_0x14f60e(0x22e)]=function(_0x5a304b,_0x318ac3){return _0x5a304b+_0x318ac3;},_0x492873[_0x14f60e(0xd5)]=_0x14f60e(0xda),_0x492873[_0x14f60e(0x1ac)]=function(_0x37b7ef,_0xe0db63){return _0x37b7ef-_0xe0db63;},_0x492873[_0x14f60e(0x1b9)]=_0x14f60e(0x17a),_0x492873[_0x14f60e(0x299)]=_0x14f60e(0x15d),_0x492873[_0x14f60e(0x2b5)]=_0x14f60e(0x2a1),_0x492873[_0x14f60e(0x160)]=_0x14f60e(0x109),_0x492873[_0x14f60e(0x22c)]=_0x14f60e(0x16f),_0x492873['geXSb']=_0x14f60e(0x15b),_0x492873[_0x14f60e(0x115)]=function(_0x515f43,_0x405860){return _0x515f43!==_0x405860;},_0x492873[_0x14f60e(0x22b)]=function(_0x53382e,_0x277eb3){return _0x53382e===_0x277eb3;},_0x492873[_0x14f60e(0x2a5)]=_0x14f60e(0x1ea),_0x492873[_0x14f60e(0x2a9)]=_0x14f60e(0x1ef),_0x492873[_0x14f60e(0x271)]=_0x14f60e(0x23c),_0x492873[_0x14f60e(0x21e)]=_0x14f60e(0x16b),_0x492873[_0x14f60e(0x151)]=_0x14f60e(0xba),_0x492873[_0x14f60e(0xbf)]=_0x14f60e(0x1d7),_0x492873[_0x14f60e(0x284)]=_0x14f60e(0xfc),_0x492873[_0x14f60e(0x14c)]=_0x14f60e(0x26c);const _0x5bfed4=_0x492873;let _0x342ca8=await fs[_0x14f60e(0x282)](path[_0x14f60e(0x224)](__dirname,'..',_0x5bfed4[_0x14f60e(0x1b9)],_0x5bfed4['HiCaV'],_0x5bfed4[_0x14f60e(0x2b5)]),_0x5bfed4[_0x14f60e(0x160)]);_0x342ca8=JSON[_0x14f60e(0x137)](_0x342ca8);const _0x2cf517={};_0x2cf517['value']=this[_0x14f60e(0x1e5)];const _0x3e9c22={};_0x3e9c22['value']=global_registry[_0x14f60e(0x268)];const _0xf468ca={};_0xf468ca[_0x14f60e(0x23e)]=global_registry[_0x14f60e(0x12d)];const _0x4fd765={};_0x4fd765[_0x14f60e(0x23e)]=global_registry[_0x14f60e(0x228)];const _0x5177f0={};_0x5177f0['value']=global_registry['clusterAutoUpgrade']?_0x5bfed4[_0x14f60e(0x22c)]:_0x5bfed4[_0x14f60e(0x1c4)];const _0xc8f0c2={};_0xc8f0c2[_0x14f60e(0x1e5)]=_0x2cf517,_0xc8f0c2[_0x14f60e(0x1a6)]=_0x3e9c22,_0xc8f0c2['userInstanceType']=_0xf468ca,_0xc8f0c2['userMaxNodes']=_0x4fd765,_0xc8f0c2[_0x14f60e(0x1d6)]=_0x5177f0;let _0x38f15d=_0xc8f0c2;if(_0x5bfed4[_0x14f60e(0x115)](_0x80c016,null)&&_0x5bfed4['mOVkK'](_0xf109e2,null)){if(_0x5bfed4[_0x14f60e(0x22b)](_0x5bfed4[_0x14f60e(0x2a5)],_0x5bfed4['zsUoC'])){const _0xc51813=_0x39daa0[_0x14f60e(0x273)][_0x14f60e(0x112)]('-'),_0x2c5e85=_0x5bfed4[_0x14f60e(0x22e)](_0x5bfed4['hxDdi'],_0xc51813[_0x5bfed4['AXIkp'](_0xc51813[_0x14f60e(0x1dc)],0x1)])[_0x14f60e(0x292)](0x0,0x18);return _0x2c5e85[_0x14f60e(0x2aa)]();}else{const _0x500f7c={};_0x500f7c[_0x14f60e(0x1b1)]=_0x5bfed4['GWGdu'],_0x500f7c[_0x14f60e(0xcd)]={},_0x500f7c[_0x14f60e(0xcd)][_0x14f60e(0x192)]=_0x5bfed4[_0x14f60e(0x21e)];const _0x19199f={};_0x19199f[_0x14f60e(0x1b1)]=_0x5bfed4[_0x14f60e(0x271)],_0x19199f[_0x14f60e(0xcd)]={},_0x19199f[_0x14f60e(0xcd)][_0x14f60e(0x192)]=_0x5bfed4[_0x14f60e(0x21e)],_0x342ca8[_0x14f60e(0x28f)]={..._0x342ca8[_0x14f60e(0x28f)],'vpcName':_0x500f7c,'subnetName':_0x19199f};const _0x1d198b={};_0x1d198b[_0x14f60e(0xeb)]=_0x5bfed4[_0x14f60e(0x151)],_0x342ca8[_0x14f60e(0x1ce)]=_0x1d198b,_0x342ca8['resources'][0x0]['properties'][_0x14f60e(0x262)][0x0]={..._0x342ca8[_0x14f60e(0x1d8)][0x0]['properties'][_0x14f60e(0x262)][0x0],'vnetSubnetID':_0x5bfed4['GYypY']};const _0x316f17={};_0x316f17[_0x14f60e(0x23e)]=_0x80c016;const _0x39d997={};_0x39d997[_0x14f60e(0x23e)]=_0xf109e2[0x0],_0x38f15d={..._0x38f15d,'vpcName':_0x316f17,'subnetName':_0x39d997};}}await this[_0x14f60e(0x201)][_0x14f60e(0x1b3)][_0x14f60e(0x198)](global_registry[_0x14f60e(0x1ff)],_0x5bfed4[_0x14f60e(0x284)],{'properties':{'template':_0x342ca8,'mode':_0x5bfed4[_0x14f60e(0x14c)],'parameters':_0x38f15d}});}async[a1_0x16c66e(0x1ad)](){const _0x114f0d=a1_0x16c66e,_0x3681dc={};_0x3681dc['pBxFV']=function(_0x395267,_0x535ed3){return _0x395267===_0x535ed3;},_0x3681dc[_0x114f0d(0x133)]=_0x114f0d(0x2a0),_0x3681dc['vbgwv']=function(_0x545851,_0x156cc2){return _0x545851===_0x156cc2;},_0x3681dc[_0x114f0d(0x25c)]=_0x114f0d(0x102),_0x3681dc[_0x114f0d(0x250)]=_0x114f0d(0xdc),_0x3681dc['narLg']=function(_0x2e02f7,_0x59456b){return _0x2e02f7!==_0x59456b;},_0x3681dc[_0x114f0d(0x254)]=_0x114f0d(0x264),_0x3681dc[_0x114f0d(0x19b)]=_0x114f0d(0x293),_0x3681dc['dDoKM']=_0x114f0d(0x2ad),_0x3681dc[_0x114f0d(0x181)]='UmyVE',_0x3681dc[_0x114f0d(0x18f)]=_0x114f0d(0x1a9),_0x3681dc[_0x114f0d(0x17f)]=function(_0x308ded,_0x513e9b){return _0x308ded!==_0x513e9b;},_0x3681dc[_0x114f0d(0x177)]='Kwyvv',_0x3681dc[_0x114f0d(0x114)]=_0x114f0d(0x298),_0x3681dc[_0x114f0d(0x127)]=_0x114f0d(0x1ae),_0x3681dc[_0x114f0d(0xbc)]=_0x114f0d(0x158),_0x3681dc[_0x114f0d(0x23f)]=_0x114f0d(0x143);const _0x238ee6=_0x3681dc,_0x5d8260=await this[_0x114f0d(0xf1)]();if(!_0x5d8260){if(_0x238ee6[_0x114f0d(0x1f7)](_0x238ee6[_0x114f0d(0x25c)],_0x238ee6[_0x114f0d(0x25c)])){const _0x35e02e={};_0x35e02e[_0x114f0d(0x1b1)]=WS_EVENTS[_0x114f0d(0xfa)],_0x35e02e[_0x114f0d(0x1c6)]=_0x238ee6[_0x114f0d(0x250)],this['webSocketUtils'][_0x114f0d(0x290)](this[_0x114f0d(0x144)],_0x35e02e),logger[_0x114f0d(0x2b3)](_0x238ee6['hvvEf']),await this['createStorageAccount']();}else{if(_0x238ee6[_0x114f0d(0x281)](_0x4e1343[_0x114f0d(0xde)],_0x2d3c3f))return!![];}}else{if(_0x238ee6['narLg'](_0x238ee6['POsne'],_0x238ee6[_0x114f0d(0x19b)]))logger[_0x114f0d(0x2b3)](_0x238ee6[_0x114f0d(0xd3)]);else return!![];}const _0x60a843=await this[_0x114f0d(0x1d9)]();if(!_0x60a843){if(_0x238ee6['vbgwv'](_0x238ee6['LzehU'],_0x238ee6[_0x114f0d(0x181)])){const _0x52a31e={};_0x52a31e[_0x114f0d(0x1b1)]=WS_EVENTS[_0x114f0d(0xfa)],_0x52a31e[_0x114f0d(0x1c6)]=_0x238ee6[_0x114f0d(0x18f)],this['webSocketUtils'][_0x114f0d(0x290)](this[_0x114f0d(0x144)],_0x52a31e),logger['info'](_0x238ee6['qdSUl']),await this['createManagedIdentity']();}else return _0x402df7[_0x114f0d(0x1ed)]=_0x238ee6[_0x114f0d(0x133)],_0x45299d;}else _0x238ee6[_0x114f0d(0x17f)](_0x238ee6[_0x114f0d(0x177)],_0x238ee6[_0x114f0d(0x114)])?logger['info'](_0x238ee6[_0x114f0d(0x127)]):_0x4c2563[_0x114f0d(0x2ae)](_0x518288);logger[_0x114f0d(0x2b3)](_0x238ee6[_0x114f0d(0xbc)]),await this[_0x114f0d(0x27c)](),logger['info'](_0x238ee6['LkbdN']);}async[a1_0x16c66e(0x247)](){const _0x20bf45=a1_0x16c66e,_0x3b8eb5={};_0x3b8eb5[_0x20bf45(0x15e)]=_0x20bf45(0x17a),_0x3b8eb5['nEkEN']=_0x20bf45(0x15d),_0x3b8eb5['CIcme']=_0x20bf45(0x24b),_0x3b8eb5[_0x20bf45(0x176)]=_0x20bf45(0x109),_0x3b8eb5[_0x20bf45(0xfb)]=_0x20bf45(0x18b),_0x3b8eb5[_0x20bf45(0x1b5)]=_0x20bf45(0x26c),_0x3b8eb5[_0x20bf45(0x120)]=_0x20bf45(0x241),_0x3b8eb5[_0x20bf45(0x295)]=_0x20bf45(0x141),_0x3b8eb5[_0x20bf45(0x12a)]=_0x20bf45(0x1d4),_0x3b8eb5['dVfuS']=_0x20bf45(0x27e);const _0x2d533a=_0x3b8eb5;let _0x22eb30=await fs[_0x20bf45(0x282)](path['join'](__dirname,'..',_0x2d533a[_0x20bf45(0x15e)],_0x2d533a['nEkEN'],_0x2d533a[_0x20bf45(0xd2)]),_0x2d533a['iaMkS']);_0x22eb30=JSON[_0x20bf45(0x137)](_0x22eb30);const _0x327af6=this[_0x20bf45(0xf4)](),_0x5daf7f={};_0x5daf7f[_0x20bf45(0x23e)]=_0x327af6;const _0x549127={};_0x549127[_0x20bf45(0x171)]=_0x5daf7f,await this[_0x20bf45(0x201)][_0x20bf45(0x1b3)]['beginCreateOrUpdateAndWait'](global_registry[_0x20bf45(0x1ff)],_0x2d533a[_0x20bf45(0xfb)],{'properties':{'template':_0x22eb30,'mode':_0x2d533a['UyXeT'],'parameters':_0x549127}});const _0x141ee4={};_0x141ee4[_0x20bf45(0x132)]=0x3c;const _0x1e0125={};_0x1e0125[_0x20bf45(0x289)]=_0x141ee4;const _0x40c2c9={};_0x40c2c9[_0x20bf45(0x13b)]=_0x1e0125;const _0x11f73b={};_0x11f73b[_0x20bf45(0xc4)]=!![],_0x11f73b[_0x20bf45(0xde)]=_0x2d533a[_0x20bf45(0x120)],_0x11f73b[_0x20bf45(0x1b1)]=_0x2d533a[_0x20bf45(0x295)],_0x11f73b[_0x20bf45(0x10c)]={},_0x11f73b[_0x20bf45(0x10c)][_0x20bf45(0x142)]=_0x40c2c9,_0x11f73b[_0x20bf45(0x10c)][_0x20bf45(0x100)]={},_0x11f73b[_0x20bf45(0x10c)][_0x20bf45(0x100)][_0x20bf45(0x13e)]=[_0x2d533a[_0x20bf45(0x12a)]];const _0x834653={};_0x834653[_0x20bf45(0x205)]=[_0x11f73b];const _0x4a3029={};_0x4a3029['policy']=_0x834653;const _0x2bcd2e=_0x4a3029;await this[_0x20bf45(0x145)]['managementPolicies'][_0x20bf45(0x168)](global_registry[_0x20bf45(0x1ff)],_0x327af6,_0x2d533a[_0x20bf45(0x1bd)],_0x2bcd2e);}async[a1_0x16c66e(0x1f1)](){const _0x320e1b=a1_0x16c66e,_0x5e46ce={};_0x5e46ce[_0x320e1b(0x162)]=_0x320e1b(0x17a),_0x5e46ce[_0x320e1b(0x1e4)]=_0x320e1b(0x15d),_0x5e46ce[_0x320e1b(0x240)]=_0x320e1b(0x1f6),_0x5e46ce[_0x320e1b(0x1aa)]=_0x320e1b(0x109),_0x5e46ce[_0x320e1b(0x246)]=_0x320e1b(0x253),_0x5e46ce[_0x320e1b(0x14a)]=_0x320e1b(0x26c);const _0x3596ac=_0x5e46ce;let _0x1b91b5=await fs[_0x320e1b(0x282)](path[_0x320e1b(0x224)](__dirname,'..',_0x3596ac['zyyrl'],_0x3596ac[_0x320e1b(0x1e4)],_0x3596ac[_0x320e1b(0x240)]),_0x3596ac[_0x320e1b(0x1aa)]);_0x1b91b5=JSON['parse'](_0x1b91b5),await this[_0x320e1b(0x201)][_0x320e1b(0x1b3)][_0x320e1b(0x198)](global_registry[_0x320e1b(0x1ff)],_0x3596ac[_0x320e1b(0x246)],{'properties':{'template':_0x1b91b5,'mode':_0x3596ac[_0x320e1b(0x14a)],'parameters':{'clusterName':{'value':this[_0x320e1b(0x1e5)]}}}});}async['createFederatedAccount'](){const _0x13bee7=a1_0x16c66e,_0x508a4f={};_0x508a4f['twGaL']=function(_0x14f0ba,_0x2ad405){return _0x14f0ba+_0x2ad405;},_0x508a4f[_0x13bee7(0xee)]=function(_0x416d9f,_0x202091){return _0x416d9f===_0x202091;},_0x508a4f[_0x13bee7(0x216)]=_0x13bee7(0x12e),_0x508a4f[_0x13bee7(0x1f3)]=_0x13bee7(0x24f),_0x508a4f[_0x13bee7(0x2a8)]=_0x13bee7(0x24d),_0x508a4f['GbKcG']=_0x13bee7(0x13f),_0x508a4f[_0x13bee7(0x185)]=function(_0x41fc1b,_0x4caa08){return _0x41fc1b!==_0x4caa08;},_0x508a4f[_0x13bee7(0x202)]=_0x13bee7(0x101),_0x508a4f[_0x13bee7(0x230)]=_0x13bee7(0x17a),_0x508a4f[_0x13bee7(0x1a1)]=_0x13bee7(0x15d),_0x508a4f[_0x13bee7(0x10f)]=_0x13bee7(0x109),_0x508a4f[_0x13bee7(0xca)]=_0x13bee7(0xf9),_0x508a4f[_0x13bee7(0x245)]='Incremental';const _0x26840e=_0x508a4f;if(!this[_0x13bee7(0x121)]){if(_0x26840e[_0x13bee7(0xee)](_0x26840e['QnKIR'],_0x26840e['DuBpF']))return _0x45b6cc[_0x13bee7(0x283)]=_0x41b06b[_0x13bee7(0x283)],_0x89c0e;else await this['getClusterInfo']();}const _0x917b61=this['clusterInfo']?.[_0x13bee7(0x18c)]?.[_0x13bee7(0x146)],_0x5078c2=[_0x26840e[_0x13bee7(0x2a8)],_0x26840e['GbKcG']];for await(const _0x1dfec1 of _0x5078c2){if(_0x26840e[_0x13bee7(0x185)](_0x26840e[_0x13bee7(0x202)],_0x26840e[_0x13bee7(0x202)]))_0x381c19[_0x13bee7(0x156)]('['+_0x26840e[_0x13bee7(0x27f)](_0x4d10c6,0x1)+']\x20'+_0x5416e6[_0x32948c]);else{let _0x51a84d=await fs[_0x13bee7(0x282)](path[_0x13bee7(0x224)](__dirname,'..',_0x26840e[_0x13bee7(0x230)],_0x26840e[_0x13bee7(0x1a1)],_0x13bee7(0x29f)+_0x1dfec1+'.json'),_0x26840e[_0x13bee7(0x10f)]);_0x51a84d=JSON[_0x13bee7(0x137)](_0x51a84d);const _0xe1f244={};_0xe1f244[_0x13bee7(0x23e)]=_0x917b61,await this[_0x13bee7(0x201)][_0x13bee7(0x1b3)][_0x13bee7(0x198)](global_registry['cloudProviderResourceGroup'],_0x26840e[_0x13bee7(0xca)],{'properties':{'template':_0x51a84d,'mode':_0x26840e['islST'],'parameters':{'oidcIssuer':_0xe1f244,'gridName':{'value':this[_0x13bee7(0xd8)]},'clusterName':{'value':this['clusterName']}}}});}}}async[a1_0x16c66e(0x125)](_0x5774b7,_0x26237f,_0xc42aa5,_0x584abe,_0x52cb99){const _0x225744=a1_0x16c66e,_0x58b20b={};_0x58b20b[_0x225744(0x259)]=_0x225744(0x265),_0x58b20b[_0x225744(0x29e)]=_0x225744(0x16a);const _0x33fc3a=_0x58b20b,_0xbbda4c={};_0xbbda4c['type']=WS_EVENTS[_0x225744(0xfa)],_0xbbda4c['message']=_0x33fc3a[_0x225744(0x259)],this[_0x225744(0x12b)][_0x225744(0x290)](this['rws'],_0xbbda4c),logger[_0x225744(0x2b3)](_0x33fc3a[_0x225744(0x259)]),await this[_0x225744(0x261)]();const _0x285049={};_0x285049[_0x225744(0x1b1)]=WS_EVENTS[_0x225744(0xfa)],_0x285049[_0x225744(0x1c6)]=_0x33fc3a[_0x225744(0x29e)],this[_0x225744(0x12b)]['sendEventToBackend'](this[_0x225744(0x144)],_0x285049);}async[a1_0x16c66e(0x261)](){const _0x3e1f91=a1_0x16c66e,_0x256776={};_0x256776[_0x3e1f91(0x19a)]=_0x3e1f91(0x1da),_0x256776[_0x3e1f91(0x28a)]=function(_0x39fb60,_0xf207e8){return _0x39fb60!==_0xf207e8;},_0x256776[_0x3e1f91(0x174)]=_0x3e1f91(0xce),_0x256776[_0x3e1f91(0x227)]='templates',_0x256776[_0x3e1f91(0x105)]='hubharesources',_0x256776[_0x3e1f91(0x1c0)]='federatedidentityuploader.json',_0x256776['UaGQU']='utf-8',_0x256776['yxHbe']='turboscale-federated-deployment',_0x256776['EHChU']=_0x3e1f91(0x26c);const _0x3440dc=_0x256776;if(!this['clusterInfo']){if(_0x3440dc[_0x3e1f91(0x28a)](_0x3440dc[_0x3e1f91(0x174)],_0x3440dc[_0x3e1f91(0x174)])){_0x5923c3[_0x3e1f91(0x2b3)](_0x3440dc[_0x3e1f91(0x19a)]);const _0x26fdcc={};_0x26fdcc[_0x3e1f91(0x1b1)]=_0x92627d[_0x3e1f91(0x161)],_0x26fdcc[_0x3e1f91(0x1c6)]=_0x3440dc[_0x3e1f91(0x19a)],this[_0x3e1f91(0x12b)][_0x3e1f91(0x290)](this[_0x3e1f91(0x144)],_0x26fdcc),_0x488fb0[_0x3e1f91(0x1d3)]=![];}else await this[_0x3e1f91(0x1fc)]();}const _0x288527=this['clusterInfo']?.['oidcIssuerProfile']?.[_0x3e1f91(0x146)];let _0x23c146=await fs['readFileAsync'](path['join'](__dirname,'..',_0x3440dc[_0x3e1f91(0x227)],_0x3440dc[_0x3e1f91(0x105)],_0x3440dc[_0x3e1f91(0x1c0)]),_0x3440dc['UaGQU']);_0x23c146=JSON[_0x3e1f91(0x137)](_0x23c146);const _0x39b77d={};_0x39b77d[_0x3e1f91(0x23e)]=_0x288527,await this['resourceClient']['deployments'][_0x3e1f91(0x198)](global_registry[_0x3e1f91(0x1ff)],_0x3440dc[_0x3e1f91(0x203)],{'properties':{'template':_0x23c146,'mode':_0x3440dc[_0x3e1f91(0x14f)],'parameters':{'oidcIssuer':_0x39b77d,'namespace':{'value':global_registry['hubHaNameSpace']},'clusterName':{'value':this[_0x3e1f91(0x1e5)]}}}});}async[a1_0x16c66e(0xf1)](){const _0x2a4a90=a1_0x16c66e,_0x256716={};_0x256716[_0x2a4a90(0x272)]=function(_0x24336e,_0x32508b){return _0x24336e===_0x32508b;},_0x256716[_0x2a4a90(0x152)]=function(_0x2c3009,_0x10fcda){return _0x2c3009===_0x10fcda;},_0x256716['HXeQd']=_0x2a4a90(0x2ac),_0x256716[_0x2a4a90(0x1e0)]=function(_0x13b567,_0x3f9bfe){return _0x13b567!==_0x3f9bfe;},_0x256716[_0x2a4a90(0x29d)]=_0x2a4a90(0x1c5),_0x256716[_0x2a4a90(0x1db)]=function(_0x57c1d0,_0x3264cb){return _0x57c1d0===_0x3264cb;},_0x256716['OTnyH']='xIXWO',_0x256716[_0x2a4a90(0x128)]=_0x2a4a90(0xc8);const _0x6bfb41=_0x256716,_0x42becf=this[_0x2a4a90(0xf4)](),_0x2cafd7=new Array();for await(const _0x506ce9 of this['storageClient'][_0x2a4a90(0x20d)][_0x2a4a90(0x1a4)](global_registry[_0x2a4a90(0x1ff)])){if(_0x6bfb41[_0x2a4a90(0x152)](_0x6bfb41[_0x2a4a90(0x21c)],_0x6bfb41[_0x2a4a90(0x21c)]))_0x2cafd7[_0x2a4a90(0x2ae)](_0x506ce9);else return _0x185fd3['status'][_0x2a4a90(0x13d)]['ingress'][0x0][_0x2a4a90(0x195)];}for await(const _0x522f85 of _0x2cafd7){if(_0x6bfb41['cIUJg'](_0x6bfb41[_0x2a4a90(0x29d)],_0x6bfb41[_0x2a4a90(0x29d)])){if(_0x6bfb41[_0x2a4a90(0x272)](_0xae5ff0[_0x2a4a90(0xde)],_0x427d36))return!![];}else{if(_0x6bfb41[_0x2a4a90(0x1db)](_0x522f85[_0x2a4a90(0xde)],_0x42becf)){if(_0x6bfb41[_0x2a4a90(0x1e0)](_0x6bfb41[_0x2a4a90(0x17e)],_0x6bfb41[_0x2a4a90(0x128)]))return!![];else _0x55963e[_0x2a4a90(0x2ae)](..._0x4ac534[_0x2a4a90(0x142)]);}}}return![];}async[a1_0x16c66e(0x1d9)](){const _0x12fd89=a1_0x16c66e,_0x280b1e={};_0x280b1e['qxkxK']='allowed',_0x280b1e[_0x12fd89(0x187)]='denied',_0x280b1e[_0x12fd89(0x211)]=function(_0x1ade14,_0x592f92){return _0x1ade14!==_0x592f92;},_0x280b1e['gfrtF']='pJejI',_0x280b1e[_0x12fd89(0x23b)]=_0x12fd89(0xf2),_0x280b1e['HDZUn']=function(_0x3aa68d,_0x27e045){return _0x3aa68d===_0x27e045;},_0x280b1e[_0x12fd89(0x159)]='cVeJp',_0x280b1e['KtBeR']=function(_0x2a6593,_0x14ac9d){return _0x2a6593!==_0x14ac9d;},_0x280b1e[_0x12fd89(0x1f2)]=_0x12fd89(0x1cf),_0x280b1e['HKPDQ']=_0x12fd89(0x220);const _0x56b01c=_0x280b1e,_0x3775b8=new Array();for await(const _0x43cd8c of this[_0x12fd89(0x201)][_0x12fd89(0x1d8)][_0x12fd89(0x1a4)](global_registry[_0x12fd89(0x1ff)])){if(_0x56b01c['wlMuK'](_0x56b01c[_0x12fd89(0x26d)],_0x56b01c['UhCRB']))_0x3775b8[_0x12fd89(0x2ae)](_0x43cd8c);else return;}for await(const _0x1a41ab of _0x3775b8){if(_0x56b01c[_0x12fd89(0xd1)](_0x56b01c[_0x12fd89(0x159)],_0x56b01c['aBimb'])){if(_0x56b01c[_0x12fd89(0xd1)](_0x1a41ab[_0x12fd89(0xde)],'turboscale-managed-identity-'+this[_0x12fd89(0x1e5)])){if(_0x56b01c[_0x12fd89(0xc2)](_0x56b01c[_0x12fd89(0x1f2)],_0x56b01c['HKPDQ']))return!![];else{const _0x1a7d17=_0x29d9bd[_0x12fd89(0x15f)](_0xebfdae);_0x48054c+='\x0a\x09'+_0x1decb6+':\x20'+(_0x1a7d17?_0x56b01c[_0x12fd89(0x10d)]:_0x56b01c[_0x12fd89(0x187)]),!_0x1a7d17&&(_0x28c765[_0x12fd89(0x188)]=![]);}}}else _0x51aad6[_0x12fd89(0x135)][_0x12fd89(0x2ae)](_0x24debb);}return![];}async[a1_0x16c66e(0x257)](_0x427783,_0x3a431b=0x3){const _0x4f2a8c=a1_0x16c66e,_0x585628={'prAWQ':_0x4f2a8c(0x170),'OifDK':function(_0x580da7,_0xbb378b){return _0x580da7===_0xbb378b;},'DbVkJ':_0x4f2a8c(0x1de),'RQIFT':_0x4f2a8c(0x175),'ckwRJ':_0x4f2a8c(0x17c),'buvmF':'nhVua','JceDH':function(_0x5a4425,_0x19e515,_0x458279){return _0x5a4425(_0x19e515,_0x458279);},'URHxp':_0x4f2a8c(0x11d),'nkXnA':function(_0x4fe613,_0xd0e2a5){return _0x4fe613!==_0xd0e2a5;},'jjbdm':_0x4f2a8c(0x190),'vFmhQ':_0x4f2a8c(0x16d),'FmHKx':function(_0xe18e50,_0x2407c1){return _0xe18e50===_0x2407c1;},'jFpyu':_0x4f2a8c(0x2ab),'gHgcx':function(_0xca2fa5,_0xa537b9){return _0xca2fa5!==_0xa537b9;},'pZAJK':_0x4f2a8c(0xe9),'kYNSf':'MLOiR','JmQBo':'2023-01-31','XqOfi':function(_0x1195d9,_0x2838e9){return _0x1195d9!==_0x2838e9;},'YqgRr':_0x4f2a8c(0x223),'cWpFB':'sQQaU','xPYZc':function(_0x2b4770,_0x3afe48){return _0x2b4770<=_0x3afe48;},'MfMOQ':_0x4f2a8c(0x20a),'lqtwX':function(_0x227d37,_0xa2c55e){return _0x227d37-_0xa2c55e;}};try{if(_0x585628['OifDK'](_0x585628['URHxp'],_0x585628[_0x4f2a8c(0x22f)])){const _0x430ee7=new Array();for await(const _0x422841 of this[_0x4f2a8c(0x201)][_0x4f2a8c(0x1d8)][_0x4f2a8c(0x1a4)](global_registry[_0x4f2a8c(0x1ff)])){if(_0x585628[_0x4f2a8c(0x21d)](_0x585628['jjbdm'],_0x585628[_0x4f2a8c(0xef)]))_0x430ee7[_0x4f2a8c(0x2ae)](_0x422841);else return _0x16bf0e[_0x4f2a8c(0x283)]('[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20'+_0x52f1eb+':'+_0x311a96[_0x4f2a8c(0x1ec)]),{};}let _0x5386eb='';for await(const _0x3c0ea7 of _0x430ee7){if(_0x585628[_0x4f2a8c(0x20e)](_0x585628[_0x4f2a8c(0x111)],_0x585628[_0x4f2a8c(0x111)])){if(_0x585628['FmHKx'](_0x3c0ea7[_0x4f2a8c(0xde)],_0x427783)){if(_0x585628[_0x4f2a8c(0xc6)](_0x585628['pZAJK'],_0x585628[_0x4f2a8c(0x26a)]))_0x5386eb=_0x3c0ea7['id'];else throw new _0x33c760(_0x585628[_0x4f2a8c(0x1e9)],_0x4f2a8c(0x1d2)+_0x181941[_0x4f2a8c(0x117)](_0x56072a));}}else _0x585628['OifDK'](_0x29ac56[_0x4f2a8c(0xde)],_0x49fdc1)&&(_0x7fd58b=_0x13e92d['id']);}const _0x48587f=await this[_0x4f2a8c(0x201)]['resources'][_0x4f2a8c(0x130)](_0x5386eb,_0x585628['JmQBo']);return _0x48587f[_0x4f2a8c(0x221)][_0x4f2a8c(0x26f)];}else{const _0x49601c=new _0x37b88a(_0x2b519e[_0x4f2a8c(0xf6)],_0x1e8cf9['cloudProviderClientId'],_0x13efce[_0x4f2a8c(0xc3)]);this['containerClient']=new _0x5ee155(_0x49601c,_0x32c80e[_0x4f2a8c(0x260)]),this[_0x4f2a8c(0x145)]=new _0x536f41(_0x49601c,_0x140b1a[_0x4f2a8c(0x260)]),this['resourceClient']=new _0x57464e(_0x49601c,_0x2ab7c4[_0x4f2a8c(0x260)]),this[_0x4f2a8c(0xf8)]=new _0xbcb573(_0x49601c,_0x415568['cloudProviderSubscriptionId']),this['authClient']=new _0x334299(_0x49601c,_0x8c67f1[_0x4f2a8c(0x260)]),this[_0x4f2a8c(0x2b6)]=_0x49601c;}}catch(_0x57b843){if(_0x585628[_0x4f2a8c(0x255)](_0x585628[_0x4f2a8c(0x19d)],_0x585628[_0x4f2a8c(0x294)])){if(_0x585628['xPYZc'](_0x3a431b,0x0)){if(_0x585628[_0x4f2a8c(0x21d)](_0x585628[_0x4f2a8c(0xb9)],_0x585628[_0x4f2a8c(0xb9)])){_0x23cb97[_0x4f2a8c(0x2b3)](_0x585628['DbVkJ']);const _0x40d11c={};_0x40d11c['type']=_0x546770[_0x4f2a8c(0x161)],_0x40d11c[_0x4f2a8c(0x1c6)]=_0x585628[_0x4f2a8c(0x234)],this[_0x4f2a8c(0x12b)]['sendEventToBackend'](this[_0x4f2a8c(0x144)],_0x40d11c);const _0x48e0f5={};_0x48e0f5[_0x4f2a8c(0xc4)]=!![];const _0x2d45ec={'workloadIdentity':_0x48e0f5,..._0x527736[_0x4f2a8c(0x242)]};_0x44c3cb[_0x4f2a8c(0x242)]=_0x2d45ec;}else return logger[_0x4f2a8c(0x283)](_0x4f2a8c(0x233)+_0x57b843+':'+_0x57b843['stack']),{};}return await new Promise(_0x25d5de=>{const _0x18404c=_0x4f2a8c;_0x585628[_0x18404c(0x236)](_0x585628[_0x18404c(0x244)],_0x585628['buvmF'])?(_0x4a06fa['error'](_0x585628[_0x18404c(0x25a)]),_0x281499['exit'](0x1)):_0x585628['JceDH'](setTimeout,()=>_0x25d5de(),0x3e8);}),this[_0x4f2a8c(0x257)](_0x427783,_0x585628[_0x4f2a8c(0x123)](_0x3a431b,0x1));}else return!![];}}async['isBrowserstackCluster'](){const _0x527389=a1_0x16c66e,_0x4948bd={};_0x4948bd[_0x527389(0x18e)]=function(_0x371c26,_0x21f694){return _0x371c26!==_0x21f694;},_0x4948bd[_0x527389(0xc5)]=_0x527389(0x19e),_0x4948bd[_0x527389(0x13c)]=function(_0x3268da,_0x926869){return _0x3268da===_0x926869;},_0x4948bd[_0x527389(0x189)]=_0x527389(0x19f),_0x4948bd[_0x527389(0x248)]=_0x527389(0xff),_0x4948bd['eCIgX']=function(_0x2588f3,_0xa9c7e8){return _0x2588f3===_0xa9c7e8;},_0x4948bd[_0x527389(0x1b2)]=_0x527389(0x1be);const _0x27abce=_0x4948bd;if(!this['clusterInfo']){if(_0x27abce[_0x527389(0x18e)](_0x27abce[_0x527389(0xc5)],_0x27abce[_0x527389(0xc5)]))return[!![],_0x358ded];else await this[_0x527389(0x1fc)]();}const _0x5aa579=this[_0x527389(0x121)]?.['tags']||{};if(_0x5aa579&&_0x27abce['bRMtw'](_0x5aa579[_0x27abce['Yspgk']],_0x27abce[_0x527389(0x248)]))return _0x27abce['eCIgX'](_0x27abce['VDGlB'],_0x27abce['VDGlB'])?!![]:(_0x2f9ac8[_0x527389(0x283)](_0x527389(0x214)+_0x4ed554+_0x527389(0x166)+_0x61742),[![],[]]);return![];}async[a1_0x16c66e(0x23d)](_0x4f555a,_0x277edc){const _0x1383a1=a1_0x16c66e,_0x476c24={'yniKn':function(_0x489271,_0x34019a){return _0x489271(_0x34019a);},'qoRql':_0x1383a1(0xf0)};await _0x476c24[_0x1383a1(0x270)](deleteAgent,_0x4f555a),await _0x476c24['yniKn'](deleteRoutingDeps,_0x4f555a);const _0x54044d=this[_0x1383a1(0x17d)];logger[_0x1383a1(0x2b3)]('Deleting\x20the\x20cluster\x20'+this[_0x1383a1(0x1e5)]),await _0x54044d[_0x1383a1(0x136)]['beginDeleteAndWait'](global_registry[_0x1383a1(0x1ff)],this[_0x1383a1(0x1e5)]),logger[_0x1383a1(0x2b3)](_0x476c24['qoRql']);}async[a1_0x16c66e(0x274)](){const _0x3d645c=a1_0x16c66e,_0xc11eae={};_0xc11eae[_0x3d645c(0x27b)]='Storage\x20account\x20already\x20exists,\x20skipping',_0xc11eae[_0x3d645c(0x1fe)]=function(_0x48c595,_0x5a772e){return _0x48c595===_0x5a772e;},_0xc11eae[_0x3d645c(0x266)]=_0x3d645c(0x18d),_0xc11eae[_0x3d645c(0x226)]=function(_0x541baf,_0x3f0c42){return _0x541baf&&_0x3f0c42;},_0xc11eae['SzHLT']=_0x3d645c(0x2a4),_0xc11eae['EKXKd']=function(_0xe2ab72,_0x1f59ed){return _0xe2ab72===_0x1f59ed;},_0xc11eae['clCNU']='sokiM',_0xc11eae[_0x3d645c(0x163)]=_0x3d645c(0x147),_0xc11eae[_0x3d645c(0x24e)]=function(_0x5e0a9d,_0x293606){return _0x5e0a9d!==_0x293606;},_0xc11eae[_0x3d645c(0x197)]=_0x3d645c(0x124),_0xc11eae[_0x3d645c(0x1c3)]=_0x3d645c(0x213),_0xc11eae[_0x3d645c(0x1f0)]=_0x3d645c(0x1de),_0xc11eae['aFgEW']=_0x3d645c(0x1a2),_0xc11eae[_0x3d645c(0x110)]=_0x3d645c(0x1da);const _0x20c297=_0xc11eae;!this[_0x3d645c(0x121)]&&(_0x20c297[_0x3d645c(0x1fe)](_0x20c297[_0x3d645c(0x266)],_0x20c297[_0x3d645c(0x266)])?await this[_0x3d645c(0x1fc)]():_0x12dd4b[_0x3d645c(0x188)]=![]);const _0x235718=this[_0x3d645c(0x121)],_0x5b27ce=this[_0x3d645c(0x121)]?.[_0x3d645c(0x18c)]?.[_0x3d645c(0xc4)]||![],_0x45d308=this[_0x3d645c(0x121)]?.[_0x3d645c(0x242)]?.[_0x3d645c(0x11b)]?.[_0x3d645c(0xc4)]||![],_0x2cbe2d=!this[_0x3d645c(0x121)]?.[_0x3d645c(0x1d3)]||![];if(_0x20c297['rGELe'](_0x5b27ce,_0x45d308)&&_0x2cbe2d){if(_0x20c297[_0x3d645c(0x1fe)](_0x20c297['SzHLT'],_0x20c297[_0x3d645c(0x11a)]))return;else _0x2fda2f[_0x3d645c(0x2ae)](_0x294719);}if(!_0x5b27ce){if(_0x20c297[_0x3d645c(0xc0)](_0x20c297[_0x3d645c(0x180)],_0x20c297[_0x3d645c(0x180)])){logger[_0x3d645c(0x2b3)](_0x20c297['sLrzD']);const _0x40da1d={};_0x40da1d['type']=WS_EVENTS[_0x3d645c(0x161)],_0x40da1d[_0x3d645c(0x1c6)]=_0x20c297[_0x3d645c(0x163)],this[_0x3d645c(0x12b)][_0x3d645c(0x290)](this[_0x3d645c(0x144)],_0x40da1d),_0x235718[_0x3d645c(0x18c)][_0x3d645c(0xc4)]=!![];}else return!![];}if(!_0x45d308){if(_0x20c297[_0x3d645c(0x24e)](_0x20c297[_0x3d645c(0x197)],_0x20c297[_0x3d645c(0x1c3)])){logger[_0x3d645c(0x2b3)](_0x20c297[_0x3d645c(0x1f0)]);const _0x4ce9f6={};_0x4ce9f6[_0x3d645c(0x1b1)]=WS_EVENTS[_0x3d645c(0x161)],_0x4ce9f6[_0x3d645c(0x1c6)]=_0x20c297[_0x3d645c(0x1f0)],this['webSocketUtils']['sendEventToBackend'](this['rws'],_0x4ce9f6);const _0x38fffe={};_0x38fffe['enabled']=!![],_0x235718[_0x3d645c(0x242)]={'workloadIdentity':_0x38fffe,..._0x235718[_0x3d645c(0x242)]};}else _0x3d447a[_0x3d645c(0x2b3)](_0x20c297[_0x3d645c(0x27b)]);}if(!_0x2cbe2d){if(_0x20c297[_0x3d645c(0x1fe)](_0x20c297['aFgEW'],_0x20c297['aFgEW'])){logger[_0x3d645c(0x2b3)](_0x20c297[_0x3d645c(0x110)]);const _0x13a804={};_0x13a804[_0x3d645c(0x1b1)]=WS_EVENTS['RESOURCES'],_0x13a804[_0x3d645c(0x1c6)]=_0x20c297[_0x3d645c(0x110)],this[_0x3d645c(0x12b)][_0x3d645c(0x290)](this[_0x3d645c(0x144)],_0x13a804),_0x235718[_0x3d645c(0x1d3)]=![];}else _0x44d2f6[_0x3d645c(0x2ae)](_0x18e3d7);}await this['containerClient'][_0x3d645c(0x136)][_0x3d645c(0x198)](global_registry[_0x3d645c(0x1ff)],this[_0x3d645c(0x1e5)],_0x235718),await this[_0x3d645c(0x1fc)]();}async[a1_0x16c66e(0x15c)](){const _0x99c68e=a1_0x16c66e,_0x5afea5={};_0x5afea5['mhCll']=_0x99c68e(0x184),_0x5afea5[_0x99c68e(0x22d)]=function(_0x4852ef,_0x1e47b3){return _0x4852ef!==_0x1e47b3;},_0x5afea5[_0x99c68e(0xe2)]='gKkQH',_0x5afea5[_0x99c68e(0x11e)]='ILjrD';const _0x1c69ef=_0x5afea5,_0x2a7c00=await this[_0x99c68e(0xf8)]['virtualNetworks'][_0x99c68e(0xc1)](global_registry['cloudProviderResourceGroup']),_0x291659={};_0x291659[_0x99c68e(0x16e)]=global_registry['bstackUsername'],_0x291659['accessKey']=global_registry['bstackAccesskey'],_0x291659[_0x99c68e(0xc9)]=AZURE,_0x291659['vpcInfo']=[];const _0x5b716e=_0x291659;for await(const _0x53d4f0 of _0x2a7c00){if(_0x1c69ef['jpCKY'](_0x1c69ef['PKNxO'],_0x1c69ef['nPrfZ']))_0x5b716e[_0x99c68e(0x135)][_0x99c68e(0x2ae)](_0x53d4f0);else{const _0x142387={};_0x142387[_0x99c68e(0x188)]=!![],_0x142387[_0x99c68e(0x283)]=null,_0x142387[_0x99c68e(0x1ed)]=_0x1c69ef[_0x99c68e(0x29a)];const _0x29178f=_0x142387;return _0x29178f;}}const _0x72add7={};_0x72add7[_0x99c68e(0x1b1)]=WS_EVENTS[_0x99c68e(0x161)],_0x72add7[_0x99c68e(0x1c6)]=_0x5b716e,this[_0x99c68e(0x12b)][_0x99c68e(0x290)](this[_0x99c68e(0x144)],_0x72add7);}async[a1_0x16c66e(0x277)](_0x59e490){const _0x1ca259=a1_0x16c66e,_0x299455={};_0x299455[_0x1ca259(0x243)]=_0x1ca259(0x147),_0x299455[_0x1ca259(0x21b)]=function(_0x470995,_0x5ed8da){return _0x470995===_0x5ed8da;},_0x299455[_0x1ca259(0x122)]=_0x1ca259(0x235),_0x299455[_0x1ca259(0x2b2)]=_0x1ca259(0x28c),_0x299455[_0x1ca259(0x1e1)]=function(_0x267ed4,_0x5eda09){return _0x267ed4!==_0x5eda09;},_0x299455[_0x1ca259(0x1cb)]='TxvvV',_0x299455[_0x1ca259(0x1a5)]=function(_0x554526,_0x441fb1){return _0x554526!==_0x441fb1;},_0x299455[_0x1ca259(0x2b1)]=_0x1ca259(0xdd),_0x299455['hcCGB']=_0x1ca259(0xe5),_0x299455[_0x1ca259(0x2a2)]=_0x1ca259(0x1d1),_0x299455[_0x1ca259(0x229)]=_0x1ca259(0x1c2);const _0x284226=_0x299455;try{if(_0x284226[_0x1ca259(0x1e1)](_0x284226['udEHd'],_0x284226[_0x1ca259(0x1cb)])){_0x130e1a['info'](_0x284226['npEio']);const _0x4be327={};_0x4be327[_0x1ca259(0x1b1)]=_0x494fc9[_0x1ca259(0x161)],_0x4be327[_0x1ca259(0x1c6)]=_0x284226[_0x1ca259(0x243)],this[_0x1ca259(0x12b)][_0x1ca259(0x290)](this[_0x1ca259(0x144)],_0x4be327),_0xc12e04['oidcIssuerProfile']['enabled']=!![];}else{const _0x2a9217=await this[_0x1ca259(0xf8)][_0x1ca259(0x1b6)][_0x1ca259(0xc1)](global_registry[_0x1ca259(0x1ff)]);for await(const _0x6c1190 of _0x2a9217){if(_0x284226[_0x1ca259(0x1a5)](_0x284226[_0x1ca259(0x2b1)],_0x284226[_0x1ca259(0x2b1)]))return _0x1f7fc1['error']('Cannot\x20find\x20VPC\x20'+_0x474944+'.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20'+_0x2c3251),![];else{if(_0x284226[_0x1ca259(0x21b)](_0x6c1190[_0x1ca259(0xde)],_0x59e490)){if(_0x284226[_0x1ca259(0x1a5)](_0x284226['hcCGB'],_0x284226['hcCGB']))_0x1b78ed+=_0x284226[_0x1ca259(0x21b)](_0x10c3d6[_0x1ca259(0x1dc)],0x0)?_0x284226[_0x1ca259(0x122)]:'',_0x14a9b8[_0x1ca259(0xf3)](_0x1ca259(0x206)+_0x40f8a6[_0x1ca259(0x117)](_0x2925de));else return!![];}}}}}catch(_0x5b79bd){return _0x284226[_0x1ca259(0x21b)](_0x284226['GsIqM'],_0x284226[_0x1ca259(0x229)])?(_0x530757[_0x1ca259(0x1ed)]=_0x284226[_0x1ca259(0x2b2)],_0x2d7253):(logger[_0x1ca259(0x283)](_0x1ca259(0x1bc)+_0x59e490+'.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20'+_0x5b79bd),![]);}return![];}async['isSubnetsValid'](_0x558da0,_0x1a0ad3){const _0x535bb9=a1_0x16c66e,_0x29cebd={};_0x29cebd['OhRip']=_0x535bb9(0x12f),_0x29cebd[_0x535bb9(0x21a)]=_0x535bb9(0x1ae),_0x29cebd[_0x535bb9(0xc7)]=function(_0x2e13b4,_0x21b06d){return _0x2e13b4===_0x21b06d;},_0x29cebd['OSQhO']=_0x535bb9(0x1b0),_0x29cebd['ZXfPh']=_0x535bb9(0x279),_0x29cebd[_0x535bb9(0x232)]=function(_0x1c1319,_0x5a478b){return _0x1c1319!==_0x5a478b;},_0x29cebd[_0x535bb9(0xd0)]=_0x535bb9(0xd4),_0x29cebd[_0x535bb9(0x280)]=_0x535bb9(0x149);const _0x309e19=_0x29cebd;try{if(_0x309e19[_0x535bb9(0xc7)](_0x309e19[_0x535bb9(0x1a3)],_0x309e19[_0x535bb9(0x11f)])){const _0x378f1a=_0x309e19[_0x535bb9(0x1af)][_0x535bb9(0x112)]('|');let _0x20af25=0x0;while(!![]){switch(_0x378f1a[_0x20af25++]){case'0':_0x9b6f90[_0x535bb9(0x1ff)]=_0x210fb5[this[_0x535bb9(0x269)]][_0x535bb9(0x231)];continue;case'1':_0x40116b[_0x535bb9(0x260)]=_0x4899d3[this[_0x535bb9(0x269)]][_0x535bb9(0x2b0)];continue;case'2':_0x1d8678[_0x535bb9(0x28b)]=_0x1a3042[this[_0x535bb9(0x269)]][_0x535bb9(0x26f)];continue;case'3':_0x54510b[_0x535bb9(0xc3)]=_0x4879b6[this['cloudProviderName']][_0x535bb9(0x27d)];continue;case'4':this[_0x535bb9(0x288)]();continue;case'5':_0x3d8062[_0x535bb9(0xf6)]=_0x3e515a[this[_0x535bb9(0x269)]]['tenantId'];continue;}break;}}else{const _0x3ada03=await this['networkClient'][_0x535bb9(0xe8)][_0x535bb9(0x1fb)](global_registry[_0x535bb9(0x1ff)],_0x1a0ad3,_0x558da0[0x0]);if(_0x309e19['GJzBF'](_0x558da0[0x0],_0x3ada03[_0x535bb9(0xde)])){if(_0x309e19['iPKaq'](_0x309e19[_0x535bb9(0xd0)],_0x309e19[_0x535bb9(0x280)]))return[!![],_0x558da0];else _0x56f16f[_0x535bb9(0x2b3)](_0x309e19[_0x535bb9(0x21a)]);}}}catch(_0x28822b){return logger['error']('Cannot\x20find\x20subnets\x20'+_0x558da0+'.\x20Error:\x20'+_0x28822b),[![],[]];}return[![],[]];}async[a1_0x16c66e(0x182)](){const _0x47041c=a1_0x16c66e,_0x31a8f1={};_0x31a8f1['LpFay']=_0x47041c(0x184);const _0x259ebc=_0x31a8f1,_0x42d614={};_0x42d614[_0x47041c(0x188)]=!![],_0x42d614[_0x47041c(0x283)]=null,_0x42d614[_0x47041c(0x1ed)]=_0x259ebc['LpFay'];const _0x4d9548=_0x42d614;return _0x4d9548;}async['getHeader'](){const _0x373f86=a1_0x16c66e,_0x4b3036={};_0x4b3036[_0x373f86(0x215)]=_0x373f86(0x131),_0x4b3036[_0x373f86(0xd9)]=_0x373f86(0x2b7),_0x4b3036[_0x373f86(0x200)]=_0x373f86(0xea);const _0x27755a=_0x4b3036,_0x7d04fd=await this[_0x373f86(0x2b6)][_0x373f86(0xe3)](_0x27755a['KgOqX']),_0x32434c={};_0x32434c[_0x373f86(0x196)]=_0x27755a['kQcmJ'],_0x32434c[_0x373f86(0x107)]={},_0x32434c[_0x373f86(0x107)][_0x373f86(0x12c)]=_0x373f86(0x275)+_0x7d04fd[_0x373f86(0xe0)],_0x32434c[_0x373f86(0x107)]['Content-Type']=_0x27755a[_0x373f86(0x200)];const _0x29ec11=_0x32434c;return _0x29ec11;}async[a1_0x16c66e(0x2a7)](_0x4628e9){const _0x46156f=a1_0x16c66e,_0x19dc81={'aNVVt':function(_0xe10241,_0x14cd71,_0x40f856){return _0xe10241(_0x14cd71,_0x40f856);},'ukiJH':function(_0x466aca,_0x4a87c1){return _0x466aca===_0x4a87c1;},'Bymlc':_0x46156f(0x170)},_0x4bdca6={};_0x4bdca6['principalId']='',_0x4bdca6[_0x46156f(0x283)]=null;const _0x2c17a7=_0x4bdca6;try{const _0x44b8ad=_0x46156f(0x209)+_0x4628e9+'\x27',_0x28c30c=await this[_0x46156f(0x108)](),_0x37f5a4=await _0x19dc81[_0x46156f(0x154)](fetch,_0x44b8ad,_0x28c30c),_0x41a254=await _0x37f5a4['json']();if(!_0x41a254[_0x46156f(0x23e)]||_0x19dc81[_0x46156f(0x26e)](_0x41a254[_0x46156f(0x23e)][_0x46156f(0x1dc)],0x0))throw new Error(_0x19dc81[_0x46156f(0x296)],'Received\x20response\x20-\x20'+JSON['stringify'](_0x41a254));_0x2c17a7['principalId']=_0x41a254['value'][0x0]['id'];}catch(_0x3b1ca7){_0x2c17a7[_0x46156f(0x283)]=_0x3b1ca7;}return _0x2c17a7;}async[a1_0x16c66e(0x1bf)](){const _0x5c5fc3=a1_0x16c66e,_0x57484d={};_0x57484d[_0x5c5fc3(0x285)]='allowed',_0x57484d['eMulv']='denied',_0x57484d[_0x5c5fc3(0x29c)]=function(_0x5d8978,_0x37e59d){return _0x5d8978!==_0x37e59d;},_0x57484d[_0x5c5fc3(0xfd)]=function(_0x4f38fb,_0x5ad497){return _0x4f38fb===_0x5ad497;},_0x57484d[_0x5c5fc3(0x10e)]='No\x20attached\x20role\x20for\x20the\x20client\x20key',_0x57484d[_0x5c5fc3(0x2b8)]=_0x5c5fc3(0x2a0),_0x57484d[_0x5c5fc3(0x25d)]=function(_0xce5a90,_0x347009){return _0xce5a90===_0x347009;},_0x57484d[_0x5c5fc3(0x222)]=_0x5c5fc3(0x235);const _0x1a8535=_0x57484d,_0xbdac1f={};_0xbdac1f[_0x5c5fc3(0x188)]=![],_0xbdac1f[_0x5c5fc3(0x283)]=null,_0xbdac1f[_0x5c5fc3(0x1ed)]='';const _0x5b300d=_0xbdac1f;try{let _0x46a6b8='';const _0x735409=_0x5c5fc3(0xbb)+global_registry[_0x5c5fc3(0x260)]+_0x5c5fc3(0x207)+global_registry['cloudProviderResourceGroup'],_0x54fb24=await this[_0x5c5fc3(0x2a7)](global_registry[_0x5c5fc3(0x28b)]);if(_0x1a8535[_0x5c5fc3(0x29c)](_0x54fb24[_0x5c5fc3(0x283)],null))return _0x5b300d[_0x5c5fc3(0x283)]=_0x54fb24[_0x5c5fc3(0x283)],_0x5b300d;const _0x5c9427=_0x5c5fc3(0x1cc)+_0x54fb24[_0x5c5fc3(0x1e8)]+'\x27)',_0xa42ab0={};_0xa42ab0[_0x5c5fc3(0x11c)]=_0x5c9427;const _0x223671=await this[_0x5c5fc3(0x286)][_0x5c5fc3(0x20f)][_0x5c5fc3(0x287)](_0x735409,_0xa42ab0),_0x3af357=[];for await(const _0x3755e1 of _0x223671){_0x3af357['push'](_0x3755e1);}if(_0x1a8535[_0x5c5fc3(0xfd)](_0x3af357['length'],0x0))return _0x5b300d['data']=_0x1a8535[_0x5c5fc3(0x10e)],_0x5b300d;const _0x10988b=[...new Set(_0x3af357[_0x5c5fc3(0x1a7)](_0x4fe5e1=>_0x4fe5e1[_0x5c5fc3(0xdb)]))];if(_0x1a8535[_0x5c5fc3(0xfd)](_0x10988b[_0x5c5fc3(0x1dc)],0x0))return _0x5b300d[_0x5c5fc3(0x1ed)]=_0x1a8535[_0x5c5fc3(0x2b8)],_0x5b300d;const _0x3eb4c1=[],_0x3db960=[];for(const _0xb46ec3 of _0x10988b){const _0x364b0e=await this[_0x5c5fc3(0x286)][_0x5c5fc3(0x22a)][_0x5c5fc3(0x130)](_0xb46ec3);logger['debug'](_0x5c5fc3(0x155)+_0x364b0e['roleName']),_0x3eb4c1['push'](_0x364b0e),logger[_0x5c5fc3(0xf3)](_0x5c5fc3(0xd7)+JSON[_0x5c5fc3(0x117)](_0x364b0e[_0x5c5fc3(0x21f)])),_0x364b0e['permissions'][_0x5c5fc3(0x157)](_0x2fc4b9=>{const _0x6a9dde=_0x5c5fc3;_0x3db960[_0x6a9dde(0x2ae)](..._0x2fc4b9['actions']);});}logger[_0x5c5fc3(0xf3)](_0x5c5fc3(0x106)+JSON[_0x5c5fc3(0x117)](_0x3db960)),_0x1a8535[_0x5c5fc3(0x25d)](_0x3db960[_0x5c5fc3(0x1dc)],0x0)&&(_0x46a6b8+=_0x1a8535[_0x5c5fc3(0xfd)](_0x3db960[_0x5c5fc3(0x1dc)],0x0)?_0x1a8535['mfRrM']:'',logger[_0x5c5fc3(0xf3)]('Role\x20definition\x20response\x20list\x20\x20:\x20\x20'+JSON[_0x5c5fc3(0x117)](_0x3eb4c1))),_0x5b300d[_0x5c5fc3(0x188)]=!![],Object['entries'](PERMISSIONS[_0x5c5fc3(0x13a)])[_0x5c5fc3(0x157)](([_0x4a01b1,_0x247218])=>{const _0x308783=_0x5c5fc3,_0x52405c=_0x3db960[_0x308783(0x15f)](_0x4a01b1);_0x46a6b8+='\x0a\x09'+_0x247218+':\x20'+(_0x52405c?_0x1a8535['hThzz']:_0x1a8535['eMulv']),!_0x52405c&&(_0x5b300d['status']=![]);}),_0x5b300d[_0x5c5fc3(0x1ed)]=_0x46a6b8;}catch(_0x1f22ca){_0x5b300d[_0x5c5fc3(0x283)]=_0x1f22ca;}return _0x5b300d;}}const a1_0x14ce44={};a1_0x14ce44[a1_0x16c66e(0x193)]=AzureCloudProvider,module[a1_0x16c66e(0x153)]=a1_0x14ce44;