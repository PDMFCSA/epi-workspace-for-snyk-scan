function a1_0x361a(_0x272a63,_0x343da9){const _0x49b78e=a1_0x49b7();return a1_0x361a=function(_0x361a2e,_0x3bd606){_0x361a2e=_0x361a2e-0x1c8;let _0x3f124e=_0x49b78e[_0x361a2e];return _0x3f124e;},a1_0x361a(_0x272a63,_0x343da9);}const a1_0x40bfd4=a1_0x361a;(function(_0x55598e,_0x1c4aee){const _0x375f49=a1_0x361a,_0x43a89f=_0x55598e();while(!![]){try{const _0x5147b9=parseInt(_0x375f49(0x1cb))/0x1*(-parseInt(_0x375f49(0x3b5))/0x2)+-parseInt(_0x375f49(0x34f))/0x3*(-parseInt(_0x375f49(0x218))/0x4)+-parseInt(_0x375f49(0x243))/0x5*(-parseInt(_0x375f49(0x36c))/0x6)+-parseInt(_0x375f49(0x32d))/0x7+-parseInt(_0x375f49(0x278))/0x8*(-parseInt(_0x375f49(0x314))/0x9)+-parseInt(_0x375f49(0x3b2))/0xa*(-parseInt(_0x375f49(0x3b4))/0xb)+parseInt(_0x375f49(0x20f))/0xc*(-parseInt(_0x375f49(0x31f))/0xd);if(_0x5147b9===_0x1c4aee)break;else _0x43a89f['push'](_0x43a89f['shift']());}catch(_0x19bfef){_0x43a89f['push'](_0x43a89f['shift']());}}}(a1_0x49b7,0x38baf));function a1_0x49b7(){const _0x2201b3=['getResourceClientId','@azure/arm-resources','subnets','RtCCr','elMng','SzHeY','AetNR','rws','Incremental','enabled','filters','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','createCluster','maxNodes','No\x20attached\x20role\x20for\x20the\x20client\x20key','sMcBT','dGXvi','32qWbXca','get','false','tags','GET','ingress','loadBalancer','.json','blobTypes','hsJAM','qwFVY','ExgfU','bBimQ','HFujD','value','includes','dsRTy','hubharesources','listByResourceGroup','jXFPd','Sxpcs','Oepiv','getById','KeMwJ','VaFiA','No\x20CLI\x20tool\x20required','location','PEIrt','deleteCluster','getKubeConfigData','dnoFc','frZNC','cloudProviderClientSecret','.\x20Error:\x20','deployments','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','INHNI','QLXDw','userMaxNodes','LOG','slice','actionPermission\x20:\x20','nWfVg','dWwjG','../permissions/AZURE.json','lytdd','TcjWA','QaEMY','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','sAjcO','Lifecycle','push','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','ENQjo','JEfTW','message','listAll','cmYUj','parse','RESOURCES','getHeader','UHNJy','turboscale-federated-deployment','xrNVk','hLlQG','Bearer\x20','getStorageAccountName','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','string','beiqn','BAnPv','NphtN','Badpu','TKrrV','delete','tPURK','xTDxt','utf-8','qLFnL','Hdkne','\x20CLIENT\x20ID:\x20','join','RtizT','listForScope','split','Cannot\x20find\x20VPC\x20','fgruG','EUIux','containerClient','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','denied','JMceq','getPrincipalIdFromClientId','definition','log','EMAVA','daysAfterCreationGreaterThan','UfhPJ','KQSgJ','permissions','name','turboscale','oChRC','TZbKx','XFvfH','gaAVP','oGTrN','Action\x20permission\x20list\x20is\x20empty\x0a','clientSecret','kqMkA','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','rhNkP','AbQoc','ICIlY','../utils/utilityMethods','cNCny','debug','OrYBm','sendAzureInfoToHST','XzeEy','policy','application/json','CNAKU','Enabling\x20Local\x20account\x20for\x20the\x20cluster','FOzfh','@azure/arm-authorization','allowed','QUJtX','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','SuDNr','ZpmqN','PfTAO','info','GDlMB','storageAccountName','npisz','MhPqO','DeDYi','zZUfD','PBucR','jLsWz','authClient','Cannot\x20find\x20subnets\x20','lefOm','AqwSj','Creating\x20Azure\x20federated\x20identity','qaxMY','raPQX','clusterRegion','VShbK','stack','vpYMf','accessKey','oidcIssuerProfile','setClients','subscriptionId','287046ssLaok','yPEod','username','zGNpD','\x20CLIENT\x20SECRET:\x20','clusterInfo','bdezJ','Managed\x20identity\x20already\x20exists,\x20skipping','rRBIS','rDuXm','npxlB','29276OAOkNR','MMszh','cdyyC','default','RHnkA','irbGq','Aqten','WzTJB','Aeitw','hub','cloudProvider','ZZPeX','ACTION','vAIrh','2077894vAThYz','pGPhn','gTyXS','MDOPh','zapxw','jgWOr','iRhJT','yZJGa','@azure/arm-network','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','riUbj','disableLocalAccounts','JUmyF','nZkmu','Tovdc','XWaIH','ZsvZw','createFederatedAccountForHubHA','turboscale-storageaccount-deployment','mLWFq','MelQb','js-yaml','browserstack:managedBy','HQCvF','TaTMV','UpfrL','federatedidentityuploader.json','exports','JBnLZ','TYyvp','storageClient','turboscale-identity-deployment','auwpd','isManagedIdentityPresent','9XmyLNN','GQQwz','DFJSJ','s3Bucket','webSocketUtils','BKnCU','CScnF','principalId','eCplc','metadata','[variables(\x27vnetSubnetID\x27)]','YyRBI','Vqsmd','tenantId','llbin','aeFum','zqQnd','vDKjv','roleName','storageaccount.json','zCHFD','Deleting\x20the\x20cluster\x20','cfAtk','oCypU','agentPoolProfiles','cloudProviderTenantId','setupHubHa','toString','CFGMX','3930mEUsil','LVzQX','EKqcU','PnGCj','XZuDq','turboscale-managed-identity-','setupNewCluster','PMgRO','0|4|1|5|2|3','dCZQg','gridName','../config/constants','Dgizs','naaNu','QbaTz','HbyWZ','zswfu','Creating\x20Azure\x20storage\x20account','fYQXc','assignedTo(\x27','networkClient','resourceGroup','\x20TENANT\x20ID:\x20','uYxNr','utyWT','cqwxd','list','templates','zDYKv','fvXEM','Created\x20Azure\x20federated\x20identity','listClusterAdminCredentials','pCruv','NdiUx','BrowserStack','createManagedIdentity','\x20RESOURCE\x20GROUP:\x20','FyuVA','method','SWlgw','https://graph.microsoft.com/.default','NwDwb','init','dpdrY','isBrowserstackCluster','isCliToolInstalled','FCrbA','uEcdG','rnXOU','DMqDj','federatedidentity','VkFKu','HWmdh','tpoCK','description','stringify','PrdeK','node','xpBge','gsslo','oXUzP','readFileAsync','beginCreateOrUpdateAndWait','sendEventToBackend','turboscale-cluster-deployment','cred','GzUvr','tEBoR','setCachedCredsInRegistry','issuerURL','10xTyWNT','QdmMz','2419230OugYSX','2004nWpAmy','wRbfs','dMIEk','YQovn','map','445pjBcSS','QzpTi','Othcm','clientId','CXJQm','akscluster.json','length','../utils/gridComponents','filter','IsjWg','2023-01-31','forEach','@azure/arm-storage','lMcCs','lsIYW','apVio','getClusterInfo','virtualNetworks','EubxK','PWImo','zeTkd','FKwOX','securityProfile','apKFs','workloadIdentity','mTNcz','wqfXc','tnPbi','SHzqX','UTXBq','yqTUq','AsEVQ','getGridHostname','pwblG','uvwRE','Storage\x20account\x20already\x20exists,\x20skipping','beginDeleteAndWait','IDmVK','json','Blob\x20delete\x20lifecycle','managementPolicies','QiYDV','btaGJ','error','ESoZj','FQSOs','exit','getResourceGroups','../config/logger','storageAccounts','QFQhE','vpcInfo','properties','OEIlm','hostname','cloudProviderClientId','kWZyE','createStorageAccount','managedClusters','@azure/identity','aUPSv','cYfYu','klTbk','pxXyR','DpIBR','Authorization','zqAFA','DgHvH','96JpiuNX','NARQJ','MuNNb','clusterAutoUpgrade','headers','nbtcI','edumD','kksCE','parameters','614532zGFbGp','clusterName','yfUGm','PUwYD','KYVfH','tywmb','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','checkAccess','BaaEk','bstackAccesskey','actions','Deleted\x20the\x20cluster\x20successfully','6|1|0|7|5|2|4|3','cloudProviderResourceGroup','cQnds','type','status','aEDoP','cloudProviderSubscriptionId','No\x20service\x20principal\x20found','xGxIW','EVAJB','tnFRX','VrNqg','CqOLx','dYVPl','TUVMH','3|5|4|1|2|0','userInstanceType','uNfqa','dFaun','UWWjG','MfkMj','resourceClient','ZmkBH','paqhm','toUpperCase','vnetSubnetID','entries','MOZzm','subnetName','@azure/arm-containerservice','Nqnci','1410vEImcj','cloudProviderName','ajPkS','./CloudProvider','cwead','yCdwt','bjGSW','wPoic','roleDefinitionId','Creating\x20Azure\x20managed\x20identity','toLowerCase','resourceGroups','createOtherResources','createFederatedAccount','baseBlob','data','true','azureresources','Found\x20only\x20one\x20resource\x20group:\x20','FGgne','variables','AzureCloudProvider','zgskk','BemPa','fIEFs','EcuCG','getUserInput','blockBlob','/resourceGroups/','kubeconfigs','WRiAR','ODOle','subscriptions/','vpcName','resources','rHuRf'];a1_0x49b7=function(){return _0x2201b3;};return a1_0x49b7();}const fs=require('fs'),path=require('path'),yaml=require(a1_0x40bfd4(0x342)),{logger}=require(a1_0x40bfd4(0x1fb)),{CloudProvider}=require(a1_0x40bfd4(0x246)),{deleteRoutingDeps,deleteAgent}=require(a1_0x40bfd4(0x1d2)),{AZURE,WS_EVENTS,global_registry}=require(a1_0x40bfd4(0x377)),PERMISSIONS=require(a1_0x40bfd4(0x2a4)),{ClientSecretCredential}=require(a1_0x40bfd4(0x206)),{NetworkManagementClient}=require(a1_0x40bfd4(0x335)),{StorageManagementClient}=require(a1_0x40bfd4(0x1d7)),{AuthorizationManagementClient}=require(a1_0x40bfd4(0x2f5)),{ResourceManagementClient}=require(a1_0x40bfd4(0x268)),{ContainerServiceClient}=require(a1_0x40bfd4(0x241)),{runCommand}=require(a1_0x40bfd4(0x2ea));class AzureCloudProvider extends CloudProvider{constructor(_0x36cec8,_0x9c1950,_0x514316,_0x3fc976){const _0x4e4158=a1_0x40bfd4,_0x4be8dc={};_0x4be8dc[_0x4e4158(0x211)]=_0x4e4158(0x224);const _0x3293bb=_0x4be8dc,_0x5e3e75=_0x3293bb['MuNNb']['split']('|');let _0x48f9af=0x0;while(!![]){switch(_0x5e3e75[_0x48f9af++]){case'0':this[_0x4e4158(0x319)]=null;continue;case'1':this[_0x4e4158(0x3ad)]=null;continue;case'2':this[_0x4e4158(0x239)]=null;continue;case'3':this[_0x4e4158(0x305)]=null;continue;case'4':this[_0x4e4158(0x380)]=null;continue;case'5':this[_0x4e4158(0x34b)]=null;continue;case'6':super(AZURE,_0x36cec8,_0x9c1950,_0x514316,_0x3fc976);continue;case'7':this[_0x4e4158(0x2d0)]=null;continue;}break;}}async[a1_0x40bfd4(0x396)](){const _0x5c5a40=a1_0x40bfd4;return await super[_0x5c5a40(0x396)](),this;}['setClients'](){const _0x66b2ca=a1_0x40bfd4,_0x47a462=new ClientSecretCredential(global_registry[_0x66b2ca(0x368)],global_registry[_0x66b2ca(0x202)],global_registry[_0x66b2ca(0x298)]);this[_0x66b2ca(0x2d0)]=new ContainerServiceClient(_0x47a462,global_registry['cloudProviderSubscriptionId']),this[_0x66b2ca(0x34b)]=new StorageManagementClient(_0x47a462,global_registry[_0x66b2ca(0x22a)]),this[_0x66b2ca(0x239)]=new ResourceManagementClient(_0x47a462,global_registry[_0x66b2ca(0x22a)]),this[_0x66b2ca(0x380)]=new NetworkManagementClient(_0x47a462,global_registry[_0x66b2ca(0x22a)]),this[_0x66b2ca(0x305)]=new AuthorizationManagementClient(_0x47a462,global_registry['cloudProviderSubscriptionId']),this[_0x66b2ca(0x3ad)]=_0x47a462;}['getStorageAccountName'](){const _0xdd5332=a1_0x40bfd4,_0xbd1bc={};_0xbd1bc[_0xdd5332(0x2e2)]=function(_0xae36cf,_0x47c117){return _0xae36cf+_0x47c117;},_0xbd1bc['EubxK']=_0xdd5332(0x2dd),_0xbd1bc[_0xdd5332(0x35b)]=function(_0x39ca32,_0x193514){return _0x39ca32-_0x193514;};const _0x418834=_0xbd1bc,_0x487198=global_registry['s3Bucket'][_0xdd5332(0x2cc)]('-'),_0xb6f600=_0x418834[_0xdd5332(0x2e2)](_0x418834[_0xdd5332(0x1dd)],_0x487198[_0x418834['Vqsmd'](_0x487198[_0xdd5332(0x1d1)],0x1)])[_0xdd5332(0x2a0)](0x0,0x18);return _0xb6f600['toLowerCase']();}[a1_0x40bfd4(0x3b0)](_0x2f2007){const _0x24f5aa=a1_0x40bfd4,_0x4f6441={};_0x4f6441[_0x24f5aa(0x2ef)]='0|3|5|4|2|1';const _0x11a413=_0x4f6441,_0x668b31=_0x11a413[_0x24f5aa(0x2ef)][_0x24f5aa(0x2cc)]('|');let _0x3cddf4=0x0;while(!![]){switch(_0x668b31[_0x3cddf4++]){case'0':global_registry['cloudProviderClientId']=_0x2f2007[this['cloudProviderName']][_0x24f5aa(0x1ce)];continue;case'1':this[_0x24f5aa(0x312)]();continue;case'2':global_registry[_0x24f5aa(0x225)]=_0x2f2007[this[_0x24f5aa(0x244)]]['resourceGroup'];continue;case'3':global_registry[_0x24f5aa(0x298)]=_0x2f2007[this[_0x24f5aa(0x244)]]['clientSecret'];continue;case'4':global_registry[_0x24f5aa(0x22a)]=_0x2f2007[this[_0x24f5aa(0x244)]][_0x24f5aa(0x313)];continue;case'5':global_registry['cloudProviderTenantId']=_0x2f2007[this['cloudProviderName']][_0x24f5aa(0x35c)];continue;}break;}}async[a1_0x40bfd4(0x25d)](_0x367697,_0x2786d1){const _0x1f7386=a1_0x40bfd4,_0x3c78e1={'CScnF':_0x1f7386(0x374),'JJQmY':_0x1f7386(0x1ee),'Aqten':function(_0x541817,_0x45f3a5){return _0x541817(_0x45f3a5);},'yqTUq':function(_0x54a8f1,_0x149516){return _0x54a8f1(_0x149516);},'dGXvi':function(_0xce0ad5,_0x13f1c7){return _0xce0ad5===_0x13f1c7;},'BKnCU':function(_0x36974e,_0x42f0bf){return _0x36974e!==_0x42f0bf;},'kWZyE':_0x1f7386(0x378),'zqAFA':function(_0x20c20d,_0x357747){return _0x20c20d(_0x357747);},'QiYDV':_0x1f7386(0x36b),'klTbk':function(_0x30b2e9,_0x24e666){return _0x30b2e9(_0x24e666);},'kksCE':function(_0x298265,_0x2e1707){return _0x298265===_0x2e1707;},'QLXDw':function(_0x2b8f53,_0x377ba2){return _0x2b8f53===_0x377ba2;},'rRBIS':function(_0x4f6b69,_0x3a36f9){return _0x4f6b69===_0x3a36f9;},'HFujD':_0x1f7386(0x324),'frZNC':'Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','CNAKU':function(_0x584b3a,_0x3ea747){return _0x584b3a===_0x3ea747;},'oChRC':function(_0x4c6b73,_0x1d01e6){return _0x4c6b73===_0x1d01e6;},'BemPa':_0x1f7386(0x357),'ZNoKd':function(_0x5477f6,_0x3a4cc2){return _0x5477f6!==_0x3a4cc2;},'riUbj':'IabOB','iKuWg':_0x1f7386(0x245),'GQQwz':function(_0x864995,_0x10a79e){return _0x864995<_0x10a79e;},'QbaTz':_0x1f7386(0x2e1),'uNfqa':'YQOdt','lbjWu':function(_0x4bd003,_0x1cb64a){return _0x4bd003+_0x1cb64a;},'AbQoc':function(_0x42bab9,_0x205a37){return _0x42bab9(_0x205a37);},'TcWeW':_0x1f7386(0x2e6),'TUVMH':function(_0x1643bc,_0x4cac7d){return _0x1643bc(_0x4cac7d);},'XZuDq':function(_0x3a7905,_0xf6989a){return _0x3a7905<=_0xf6989a;},'UtRuZ':function(_0x5dbfbb,_0x3aaaa3){return _0x5dbfbb>_0x3aaaa3;},'qZMCo':function(_0x2c2b7f,_0x3ec634){return _0x2c2b7f!==_0x3ec634;},'ZmkBH':_0x1f7386(0x2bf),'FKwOX':'HtKdH','JUmyF':function(_0x38f449,_0x166c14){return _0x38f449-_0x166c14;}},_0x170332=this[_0x1f7386(0x244)][_0x1f7386(0x23c)](),_0x40816f=await _0x3c78e1[_0x1f7386(0x325)](_0x367697,_0x170332+_0x1f7386(0x2c8)),_0x35d50d=await _0x3c78e1[_0x1f7386(0x1e9)](_0x367697,_0x170332+_0x1f7386(0x318)),_0x49dbfc=await _0x3c78e1[_0x1f7386(0x325)](_0x367697,_0x170332+_0x1f7386(0x382)),_0x2bc375=await _0x3c78e1['Aqten'](_0x367697,_0x170332+'\x20SUBSCRIPTION\x20ID:\x20');global_registry[_0x1f7386(0x202)]=_0x40816f,global_registry[_0x1f7386(0x298)]=_0x35d50d,global_registry[_0x1f7386(0x368)]=_0x49dbfc,global_registry[_0x1f7386(0x22a)]=_0x2bc375,this[_0x1f7386(0x312)]();const _0x4c3f1d=await this[_0x1f7386(0x1fa)](),_0x203daf=_0x4c3f1d[_0x1f7386(0x1d1)];let _0x46d4;if(_0x3c78e1[_0x1f7386(0x277)](_0x203daf,0x0)){if(_0x3c78e1[_0x1f7386(0x354)](_0x3c78e1['kWZyE'],_0x3c78e1[_0x1f7386(0x203)])){const _0xb2b3c0=_0x3c78e1[_0x1f7386(0x355)][_0x1f7386(0x2cc)]('|');let _0x1fd674=0x0;while(!![]){switch(_0xb2b3c0[_0x1fd674++]){case'0':_0x87f82a['cloudProviderClientId']=_0x266d25[this['cloudProviderName']]['clientId'];continue;case'1':_0x46eca8[_0x1f7386(0x368)]=_0x501f35[this[_0x1f7386(0x244)]]['tenantId'];continue;case'2':_0xcd8b52[_0x1f7386(0x225)]=_0x24acd7[this[_0x1f7386(0x244)]][_0x1f7386(0x381)];continue;case'3':this[_0x1f7386(0x312)]();continue;case'4':_0x47d3f5[_0x1f7386(0x298)]=_0x259a86[this[_0x1f7386(0x244)]][_0x1f7386(0x2e4)];continue;case'5':_0x16d635[_0x1f7386(0x22a)]=_0x4d478d[this[_0x1f7386(0x244)]][_0x1f7386(0x313)];continue;}break;}}else _0x46d4=await _0x3c78e1[_0x1f7386(0x20d)](_0x367697,_0x170332+_0x1f7386(0x390));}else{if(_0x3c78e1['dGXvi'](_0x203daf,0x1)){if(_0x3c78e1['dGXvi'](_0x3c78e1[_0x1f7386(0x1f4)],_0x3c78e1[_0x1f7386(0x1f4)])){const _0x47b43c=await _0x3c78e1[_0x1f7386(0x209)](_0x367697,_0x1f7386(0x255)+_0x4c3f1d[0x0]+_0x1f7386(0x2ac));(_0x3c78e1[_0x1f7386(0x216)](_0x47b43c,undefined)||_0x3c78e1[_0x1f7386(0x29d)](_0x47b43c,null)||!(_0x3c78e1[_0x1f7386(0x216)](_0x47b43c[_0x1f7386(0x24d)](),'y')||_0x3c78e1[_0x1f7386(0x31c)](_0x47b43c[_0x1f7386(0x24d)](),'n')))&&(_0x3c78e1['dGXvi'](_0x3c78e1['HFujD'],_0x3c78e1[_0x1f7386(0x285)])?(console['error'](_0x3c78e1[_0x1f7386(0x297)]),process[_0x1f7386(0x1f9)](0x1)):_0xc0aa8b=_0x3c9cc5['id']),_0x3c78e1[_0x1f7386(0x2f2)](_0x47b43c['toLowerCase'](),'n')&&(_0x3c78e1[_0x1f7386(0x2de)](_0x3c78e1[_0x1f7386(0x25a)],_0x3c78e1[_0x1f7386(0x25a)])?process['exit'](0x0):_0x26ef4b[_0x1f7386(0x1f9)](0x0)),_0x46d4=_0x4c3f1d[0x0];}else return!![];}else{if(_0x3c78e1['ZNoKd'](_0x3c78e1[_0x1f7386(0x337)],_0x3c78e1['iKuWg'])){for(let _0x38f6be=0x0;_0x3c78e1[_0x1f7386(0x350)](_0x38f6be,_0x4c3f1d[_0x1f7386(0x1d1)]);_0x38f6be+=0x1){_0x3c78e1['BKnCU'](_0x3c78e1[_0x1f7386(0x37a)],_0x3c78e1[_0x1f7386(0x235)])?console[_0x1f7386(0x2d6)]('['+_0x3c78e1['lbjWu'](_0x38f6be,0x1)+']\x20'+_0x4c3f1d[_0x38f6be]):_0x37d2a6[_0x1f7386(0x2ab)](..._0x5c9177[_0x1f7386(0x222)]);}const _0x2b9c4a=await _0x3c78e1[_0x1f7386(0x2e8)](_0x367697,_0x3c78e1['TcWeW']),_0x29d0c0=_0x3c78e1['TUVMH'](Number,_0x2b9c4a);(_0x3c78e1[_0x1f7386(0x232)](isNaN,_0x29d0c0)||_0x3c78e1[_0x1f7386(0x370)](_0x29d0c0,0x0)||_0x3c78e1['UtRuZ'](_0x29d0c0,_0x203daf))&&(_0x3c78e1['qZMCo'](_0x3c78e1[_0x1f7386(0x23a)],_0x3c78e1[_0x1f7386(0x1e0)])?(console['error'](_0x3c78e1[_0x1f7386(0x297)]),process[_0x1f7386(0x1f9)](0x1)):_0x5abfdb[_0x1f7386(0x2fc)](_0x3c78e1['JJQmY'])),_0x46d4=_0x4c3f1d[_0x3c78e1[_0x1f7386(0x339)](_0x29d0c0,0x1)];}else return _0x322958['error']('[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20'+_0x20a42f+':'+_0x2740b2[_0x1f7386(0x30e)]),{};}}global_registry[_0x1f7386(0x225)]=_0x46d4;const _0x3ec3be={};return _0x3ec3be[_0x1f7386(0x1ce)]=_0x40816f,_0x3ec3be['clientSecret']=_0x35d50d,_0x3ec3be[_0x1f7386(0x35c)]=_0x49dbfc,_0x3ec3be[_0x1f7386(0x313)]=_0x2bc375,_0x3ec3be[_0x1f7386(0x381)]=_0x46d4,_0x2786d1[_0x1f7386(0x329)][AZURE]=_0x3ec3be,_0x2786d1;}async[a1_0x40bfd4(0x1fa)](){const _0x3f3861=a1_0x40bfd4,_0x4a9b95={};_0x4a9b95[_0x3f3861(0x1f5)]=function(_0x5192ed,_0x1fd37a){return _0x5192ed===_0x1fd37a;},_0x4a9b95[_0x3f3861(0x21d)]=function(_0x16d00d,_0x4bf15a){return _0x16d00d!==_0x4bf15a;},_0x4a9b95['HBfTE']=_0x3f3861(0x2d7),_0x4a9b95[_0x3f3861(0x3b6)]='QotxZ',_0x4a9b95[_0x3f3861(0x2f9)]=_0x3f3861(0x393),_0x4a9b95[_0x3f3861(0x1ec)]=_0x3f3861(0x39a);const _0x3473b2=_0x4a9b95,_0x522d48=[];try{if(_0x3473b2['tywmb'](_0x3473b2['HBfTE'],_0x3473b2['wRbfs'])){const _0x602b22=await this[_0x3f3861(0x239)][_0x3f3861(0x24e)][_0x3f3861(0x386)]();for await(const _0x5c2f74 of _0x602b22){if(_0x3473b2[_0x3f3861(0x1f5)](_0x3473b2['SuDNr'],_0x3473b2[_0x3f3861(0x1ec)])){if(_0x3473b2[_0x3f3861(0x1f5)](_0x5ef898[_0x3f3861(0x2dc)],_0x544200))return!![];}else _0x522d48[_0x3f3861(0x2ab)](_0x5c2f74[_0x3f3861(0x2dc)]);}}else _0x3473b2[_0x3f3861(0x1f5)](_0x30762c[_0x3f3861(0x2dc)],_0x510154)&&(_0x57e03e=_0x20c87e['id']);}catch(_0x2bbe1e){}return _0x522d48;}async[a1_0x40bfd4(0x1db)](){const _0x47c484=a1_0x40bfd4;return this['clusterInfo']=await this[_0x47c484(0x2d0)][_0x47c484(0x205)]['get'](global_registry[_0x47c484(0x225)],this[_0x47c484(0x219)]),this[_0x47c484(0x319)];}async[a1_0x40bfd4(0x295)](){const _0x2d9fcf=a1_0x40bfd4,_0x2d68f5=await this[_0x2d9fcf(0x2d0)][_0x2d9fcf(0x205)][_0x2d9fcf(0x38b)](global_registry[_0x2d9fcf(0x225)],this[_0x2d9fcf(0x219)]),_0x1abe41=_0x2d68f5[_0x2d9fcf(0x260)][0x0][_0x2d9fcf(0x286)][_0x2d9fcf(0x36a)]();return _0x1abe41;}[a1_0x40bfd4(0x1eb)](_0x4b676e){const _0xbca60e=a1_0x40bfd4;return _0x4b676e[_0xbca60e(0x228)][_0xbca60e(0x27e)][_0xbca60e(0x27d)][0x0][_0xbca60e(0x201)];}async['isClusterPresent'](){const _0x4a7e44=a1_0x40bfd4,_0x49ffa6={};_0x49ffa6[_0x4a7e44(0x1e8)]='Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster',_0x49ffa6['IDmVK']=function(_0x1b9e39,_0x2b0894){return _0x1b9e39!==_0x2b0894;},_0x49ffa6[_0x4a7e44(0x2c3)]=_0x4a7e44(0x1d4),_0x49ffa6[_0x4a7e44(0x32a)]=function(_0x1ea86c,_0x553965){return _0x1ea86c===_0x553965;},_0x49ffa6[_0x4a7e44(0x2c6)]='TBBpL',_0x49ffa6['yfUGm']=function(_0xe5c2bc,_0x152a7b){return _0xe5c2bc===_0x152a7b;},_0x49ffa6['pxXyR']=_0x4a7e44(0x365),_0x49ffa6['cqwxd']=_0x4a7e44(0x384);const _0x342cb1=_0x49ffa6,_0x4f572a=new Array();for await(const _0x29139c of this['containerClient']['managedClusters'][_0x4a7e44(0x28a)](global_registry[_0x4a7e44(0x225)])){if(_0x342cb1[_0x4a7e44(0x1f0)](_0x342cb1[_0x4a7e44(0x2c3)],_0x342cb1[_0x4a7e44(0x2c3)])){const _0x4f49a2=new _0x34fc8c(_0x226513['cloudProviderTenantId'],_0x49f5b8['cloudProviderClientId'],_0x6c6476[_0x4a7e44(0x298)]);this[_0x4a7e44(0x2d0)]=new _0x20b02f(_0x4f49a2,_0x5bc9bc[_0x4a7e44(0x22a)]),this[_0x4a7e44(0x34b)]=new _0x2823e0(_0x4f49a2,_0x2e4576[_0x4a7e44(0x22a)]),this['resourceClient']=new _0xaa1b2f(_0x4f49a2,_0x4eab36[_0x4a7e44(0x22a)]),this[_0x4a7e44(0x380)]=new _0x5ab690(_0x4f49a2,_0x24768e['cloudProviderSubscriptionId']),this[_0x4a7e44(0x305)]=new _0x429f76(_0x4f49a2,_0x3f8ea8[_0x4a7e44(0x22a)]),this[_0x4a7e44(0x3ad)]=_0x4f49a2;}else _0x4f572a[_0x4a7e44(0x2ab)](_0x29139c);}for await(const _0x1b0504 of _0x4f572a){if(_0x342cb1['ZZPeX'](_0x342cb1[_0x4a7e44(0x2c6)],_0x342cb1[_0x4a7e44(0x2c6)])){if(_0x342cb1[_0x4a7e44(0x21a)](_0x1b0504['name'],this[_0x4a7e44(0x219)])){if(_0x342cb1[_0x4a7e44(0x32a)](_0x342cb1[_0x4a7e44(0x20a)],_0x342cb1[_0x4a7e44(0x385)]))_0x343a48[_0x4a7e44(0x2ab)](_0x428722);else return await this[_0x4a7e44(0x1db)](),!![];}}else{_0x1e6d98['info'](_0x342cb1['UTXBq']);const _0x52820f={};_0x52820f[_0x4a7e44(0x227)]=_0x39887a[_0x4a7e44(0x2b3)],_0x52820f[_0x4a7e44(0x2af)]=_0x342cb1[_0x4a7e44(0x1e8)],this[_0x4a7e44(0x353)][_0x4a7e44(0x3ab)](this[_0x4a7e44(0x26e)],_0x52820f),_0x3ee476[_0x4a7e44(0x311)][_0x4a7e44(0x270)]=!![];}}return![];}async[a1_0x40bfd4(0x372)](_0x15ff16=null,_0x294d60=null){const _0x45e495=a1_0x40bfd4,_0x3b59a7={};_0x3b59a7[_0x45e495(0x215)]=_0x45e495(0x233),_0x3b59a7[_0x45e495(0x1e2)]='Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity';const _0x4f188d=_0x3b59a7,_0x27ffb5=_0x4f188d['edumD']['split']('|');let _0x39a6a0=0x0;while(!![]){switch(_0x27ffb5[_0x39a6a0++]){case'0':return[_0x15ff16,_0x294d60];case'1':await this[_0x45e495(0x273)](_0x15ff16,_0x294d60);continue;case'2':await this[_0x45e495(0x24f)]();continue;case'3':this['sendAzureInfoToHST']();continue;case'4':logger[_0x45e495(0x2fc)](_0x4f188d['apKFs']);continue;case'5':const _0x3be879={};_0x3be879[_0x45e495(0x227)]=WS_EVENTS[_0x45e495(0x29f)],_0x3be879[_0x45e495(0x2af)]=_0x4f188d[_0x45e495(0x1e2)],this[_0x45e495(0x353)]['sendEventToBackend'](this[_0x45e495(0x26e)],_0x3be879);continue;}break;}}async['createCluster'](_0x154e44=null,_0x495ddd=null){const _0x4d5a6d=a1_0x40bfd4,_0x45bfe0={};_0x45bfe0[_0x4d5a6d(0x266)]=_0x4d5a6d(0x272),_0x45bfe0[_0x4d5a6d(0x33b)]=_0x4d5a6d(0x387),_0x45bfe0['dnoFc']=_0x4d5a6d(0x254),_0x45bfe0[_0x4d5a6d(0x21c)]=_0x4d5a6d(0x1d0),_0x45bfe0['FJxdZ']=_0x4d5a6d(0x2c5),_0x45bfe0[_0x4d5a6d(0x1cd)]=_0x4d5a6d(0x253),_0x45bfe0[_0x4d5a6d(0x28b)]=_0x4d5a6d(0x27a),_0x45bfe0['CqOLx']=function(_0x1794c7,_0x49b889){return _0x1794c7!==_0x49b889;},_0x45bfe0[_0x4d5a6d(0x301)]=function(_0x26e331,_0x39a6e0){return _0x26e331!==_0x39a6e0;},_0x45bfe0[_0x4d5a6d(0x307)]=_0x4d5a6d(0x2ff),_0x45bfe0[_0x4d5a6d(0x300)]=_0x4d5a6d(0x2bc),_0x45bfe0['xpBge']=_0x4d5a6d(0x2d1),_0x45bfe0[_0x4d5a6d(0x2b8)]=_0x4d5a6d(0x21e),_0x45bfe0['yLaKQ']=_0x4d5a6d(0x359),_0x45bfe0['PfTAO']=_0x4d5a6d(0x3ac),_0x45bfe0['RLQCQ']=_0x4d5a6d(0x26f);const _0x2ba4f8=_0x45bfe0;let _0x465669=await fs[_0x4d5a6d(0x3a9)](path['join'](__dirname,'..',_0x2ba4f8['Tovdc'],_0x2ba4f8[_0x4d5a6d(0x296)],_0x2ba4f8[_0x4d5a6d(0x21c)]),_0x2ba4f8['FJxdZ']);_0x465669=JSON[_0x4d5a6d(0x2b2)](_0x465669);const _0x293937={};_0x293937[_0x4d5a6d(0x286)]=this['clusterName'];const _0x1738e1={};_0x1738e1['value']=global_registry[_0x4d5a6d(0x30c)];const _0x29f001={};_0x29f001[_0x4d5a6d(0x286)]=global_registry['instanceType'];const _0x4ec7b2={};_0x4ec7b2[_0x4d5a6d(0x286)]=global_registry[_0x4d5a6d(0x274)];const _0x462f77={};_0x462f77['value']=global_registry[_0x4d5a6d(0x212)]?_0x2ba4f8[_0x4d5a6d(0x1cd)]:_0x2ba4f8[_0x4d5a6d(0x28b)];const _0x508895={};_0x508895[_0x4d5a6d(0x219)]=_0x293937,_0x508895[_0x4d5a6d(0x292)]=_0x1738e1,_0x508895[_0x4d5a6d(0x234)]=_0x29f001,_0x508895[_0x4d5a6d(0x29e)]=_0x4ec7b2,_0x508895['clusterAutoUpgrade']=_0x462f77;let _0x1497ec=_0x508895;if(_0x2ba4f8[_0x4d5a6d(0x230)](_0x154e44,null)&&_0x2ba4f8[_0x4d5a6d(0x230)](_0x495ddd,null)){if(_0x2ba4f8[_0x4d5a6d(0x301)](_0x2ba4f8[_0x4d5a6d(0x307)],_0x2ba4f8[_0x4d5a6d(0x307)]))_0x2f9032[_0x4d5a6d(0x1f6)](_0x2ba4f8[_0x4d5a6d(0x266)]),_0xf79c20[_0x4d5a6d(0x1f9)](0x1);else{const _0x2e5452={};_0x2e5452[_0x4d5a6d(0x227)]=_0x2ba4f8['MhPqO'],_0x2e5452[_0x4d5a6d(0x358)]={},_0x2e5452[_0x4d5a6d(0x358)]['description']=_0x2ba4f8[_0x4d5a6d(0x3a6)];const _0x5cf3c3={};_0x5cf3c3[_0x4d5a6d(0x227)]=_0x2ba4f8['MhPqO'],_0x5cf3c3[_0x4d5a6d(0x358)]={},_0x5cf3c3[_0x4d5a6d(0x358)]['description']=_0x2ba4f8[_0x4d5a6d(0x3a6)],_0x465669[_0x4d5a6d(0x217)]={..._0x465669[_0x4d5a6d(0x217)],'vpcName':_0x2e5452,'subnetName':_0x5cf3c3};const _0x1c1141={};_0x1c1141[_0x4d5a6d(0x23d)]=_0x2ba4f8[_0x4d5a6d(0x2b8)],_0x465669['variables']=_0x1c1141,_0x465669[_0x4d5a6d(0x265)][0x0][_0x4d5a6d(0x1ff)][_0x4d5a6d(0x367)][0x0]={..._0x465669[_0x4d5a6d(0x265)][0x0][_0x4d5a6d(0x1ff)][_0x4d5a6d(0x367)][0x0],'vnetSubnetID':_0x2ba4f8['yLaKQ']};const _0x37aac1={};_0x37aac1[_0x4d5a6d(0x286)]=_0x154e44;const _0x44e2b4={};_0x44e2b4[_0x4d5a6d(0x286)]=_0x495ddd[0x0],_0x1497ec={..._0x1497ec,'vpcName':_0x37aac1,'subnetName':_0x44e2b4};}}await this[_0x4d5a6d(0x239)][_0x4d5a6d(0x29a)][_0x4d5a6d(0x3aa)](global_registry[_0x4d5a6d(0x225)],_0x2ba4f8[_0x4d5a6d(0x2fb)],{'properties':{'template':_0x465669,'mode':_0x2ba4f8['RLQCQ'],'parameters':_0x1497ec}});}async['createOtherResources'](){const _0x221d4a=a1_0x40bfd4,_0x361176={};_0x361176[_0x221d4a(0x22c)]=_0x221d4a(0x2bc),_0x361176[_0x221d4a(0x308)]=_0x221d4a(0x2d1),_0x361176[_0x221d4a(0x276)]=_0x221d4a(0x21e),_0x361176[_0x221d4a(0x214)]=_0x221d4a(0x359),_0x361176['ICIlY']=function(_0x3eba76,_0x5a243b){return _0x3eba76===_0x5a243b;},_0x361176[_0x221d4a(0x340)]=_0x221d4a(0x2fd),_0x361176[_0x221d4a(0x2ed)]=_0x221d4a(0x37d),_0x361176[_0x221d4a(0x2c7)]='MYHIm',_0x361176[_0x221d4a(0x391)]=_0x221d4a(0x1ee),_0x361176[_0x221d4a(0x2a7)]=function(_0x5f32c9,_0x566f52){return _0x5f32c9!==_0x566f52;},_0x361176[_0x221d4a(0x3af)]=_0x221d4a(0x35f),_0x361176[_0x221d4a(0x345)]=_0x221d4a(0x341),_0x361176[_0x221d4a(0x22f)]=_0x221d4a(0x24c),_0x361176[_0x221d4a(0x236)]=function(_0x183995,_0x5cdee2){return _0x183995!==_0x5cdee2;},_0x361176['WRiAR']='uFfFL',_0x361176[_0x221d4a(0x31e)]=_0x221d4a(0x31b),_0x361176[_0x221d4a(0x1e6)]=_0x221d4a(0x309),_0x361176[_0x221d4a(0x226)]=_0x221d4a(0x38a);const _0x3396ac=_0x361176,_0x54affe=await this['isStorageAccountPresent']();if(!_0x54affe){if(_0x3396ac[_0x221d4a(0x2e9)](_0x3396ac[_0x221d4a(0x340)],_0x3396ac[_0x221d4a(0x340)])){const _0x46efb8={};_0x46efb8[_0x221d4a(0x227)]=WS_EVENTS[_0x221d4a(0x29f)],_0x46efb8[_0x221d4a(0x2af)]=_0x3396ac[_0x221d4a(0x2ed)],this[_0x221d4a(0x353)][_0x221d4a(0x3ab)](this[_0x221d4a(0x26e)],_0x46efb8),logger[_0x221d4a(0x2fc)](_0x3396ac[_0x221d4a(0x2ed)]),await this[_0x221d4a(0x204)]();}else _0x250d73['push'](_0x4261a4);}else _0x3396ac[_0x221d4a(0x2e9)](_0x3396ac[_0x221d4a(0x2c7)],_0x3396ac['Hdkne'])?logger[_0x221d4a(0x2fc)](_0x3396ac['FyuVA']):_0x3dacf9[_0x221d4a(0x2ab)](_0x475984[_0x221d4a(0x2dc)]);const _0x109fa2=await this[_0x221d4a(0x34e)]();if(!_0x109fa2){if(_0x3396ac['QaEMY'](_0x3396ac[_0x221d4a(0x3af)],_0x3396ac[_0x221d4a(0x345)])){const _0x4401ef={};_0x4401ef[_0x221d4a(0x227)]=WS_EVENTS['LOG'],_0x4401ef[_0x221d4a(0x2af)]=_0x3396ac[_0x221d4a(0x22f)],this[_0x221d4a(0x353)][_0x221d4a(0x3ab)](this[_0x221d4a(0x26e)],_0x4401ef),logger['info'](_0x3396ac[_0x221d4a(0x22f)]),await this[_0x221d4a(0x38f)]();}else return _0x58d321[_0x221d4a(0x1f6)](_0x221d4a(0x306)+_0x280486+_0x221d4a(0x299)+_0x4eee05),[![],[]];}else{if(_0x3396ac['dFaun'](_0x3396ac['WRiAR'],_0x3396ac[_0x221d4a(0x261)])){const _0x25bfc3={};_0x25bfc3[_0x221d4a(0x227)]=_0x3396ac['xGxIW'],_0x25bfc3[_0x221d4a(0x358)]={},_0x25bfc3[_0x221d4a(0x358)][_0x221d4a(0x3a2)]=_0x3396ac[_0x221d4a(0x308)];const _0x20fd73={};_0x20fd73[_0x221d4a(0x227)]=_0x3396ac[_0x221d4a(0x22c)],_0x20fd73[_0x221d4a(0x358)]={},_0x20fd73[_0x221d4a(0x358)]['description']=_0x3396ac[_0x221d4a(0x308)];const _0x5c54c5={..._0x50b250['parameters']};_0x5c54c5['vpcName']=_0x25bfc3,_0x5c54c5[_0x221d4a(0x240)]=_0x20fd73,_0x29d19e[_0x221d4a(0x217)]=_0x5c54c5;const _0x415ff2={};_0x415ff2[_0x221d4a(0x23d)]=_0x3396ac[_0x221d4a(0x276)],_0x1287fc[_0x221d4a(0x257)]=_0x415ff2;const _0x12ed90={..._0x5642e5[_0x221d4a(0x265)][0x0][_0x221d4a(0x1ff)][_0x221d4a(0x367)][0x0]};_0x12ed90[_0x221d4a(0x23d)]=_0x3396ac['nbtcI'],_0x5c0f0d[_0x221d4a(0x265)][0x0][_0x221d4a(0x1ff)][_0x221d4a(0x367)][0x0]=_0x12ed90;const _0x52ed90={};_0x52ed90['value']=_0x43c83c;const _0xa7a421={};_0xa7a421[_0x221d4a(0x286)]=_0x137147[0x0];const _0x25a199={..._0x23a9d6};_0x25a199[_0x221d4a(0x264)]=_0x52ed90,_0x25a199[_0x221d4a(0x240)]=_0xa7a421,_0x2b5f5b=_0x25a199;}else logger['info'](_0x3396ac[_0x221d4a(0x31e)]);}logger[_0x221d4a(0x2fc)](_0x3396ac['tnPbi']),await this['createFederatedAccount'](),logger['info'](_0x3396ac['cQnds']);}async[a1_0x40bfd4(0x204)](){const _0x344fac=a1_0x40bfd4,_0x132f22={};_0x132f22[_0x344fac(0x3b3)]=_0x344fac(0x387),_0x132f22['MDOPh']=_0x344fac(0x254),_0x132f22['ImaPa']=_0x344fac(0x362),_0x132f22['BaaEk']=_0x344fac(0x2c5),_0x132f22[_0x344fac(0x334)]=_0x344fac(0x33f),_0x132f22['auwpd']='Incremental',_0x132f22[_0x344fac(0x284)]=_0x344fac(0x1f2),_0x132f22[_0x344fac(0x37c)]=_0x344fac(0x2aa),_0x132f22[_0x344fac(0x39d)]=_0x344fac(0x25e),_0x132f22[_0x344fac(0x2a2)]=_0x344fac(0x322);const _0x25e86a=_0x132f22;let _0x506b9c=await fs['readFileAsync'](path[_0x344fac(0x2c9)](__dirname,'..',_0x25e86a[_0x344fac(0x3b3)],_0x25e86a[_0x344fac(0x330)],_0x25e86a['ImaPa']),_0x25e86a[_0x344fac(0x220)]);_0x506b9c=JSON[_0x344fac(0x2b2)](_0x506b9c);const _0x3a77a0=this['getStorageAccountName'](),_0x44a9b2={};_0x44a9b2[_0x344fac(0x286)]=_0x3a77a0;const _0x437388={};_0x437388[_0x344fac(0x2fe)]=_0x44a9b2,await this[_0x344fac(0x239)][_0x344fac(0x29a)][_0x344fac(0x3aa)](global_registry['cloudProviderResourceGroup'],_0x25e86a[_0x344fac(0x334)],{'properties':{'template':_0x506b9c,'mode':_0x25e86a[_0x344fac(0x34d)],'parameters':_0x437388}});const _0x65c666={};_0x65c666[_0x344fac(0x2d8)]=0x3c;const _0x4cfbdf={};_0x4cfbdf[_0x344fac(0x2c2)]=_0x65c666;const _0x2f0246={};_0x2f0246[_0x344fac(0x251)]=_0x4cfbdf;const _0x3fc827={};_0x3fc827[_0x344fac(0x270)]=!![],_0x3fc827['name']=_0x25e86a[_0x344fac(0x284)],_0x3fc827['type']=_0x25e86a[_0x344fac(0x37c)],_0x3fc827[_0x344fac(0x2d5)]={},_0x3fc827[_0x344fac(0x2d5)]['actions']=_0x2f0246,_0x3fc827[_0x344fac(0x2d5)][_0x344fac(0x271)]={},_0x3fc827[_0x344fac(0x2d5)][_0x344fac(0x271)][_0x344fac(0x280)]=[_0x25e86a[_0x344fac(0x39d)]];const _0x5e6d60={};_0x5e6d60['rules']=[_0x3fc827];const _0x396a44={};_0x396a44[_0x344fac(0x2f0)]=_0x5e6d60;const _0x2d4b7d=_0x396a44;await this['storageClient'][_0x344fac(0x1f3)]['createOrUpdate'](global_registry[_0x344fac(0x225)],_0x3a77a0,_0x25e86a['nWfVg'],_0x2d4b7d);}async[a1_0x40bfd4(0x38f)](){const _0x35a06d=a1_0x40bfd4,_0x5a393b={};_0x5a393b[_0x35a06d(0x248)]=_0x35a06d(0x387),_0x5a393b['paqOL']=_0x35a06d(0x254),_0x5a393b['wSsIA']='managedidentity.json',_0x5a393b[_0x35a06d(0x1d8)]='utf-8',_0x5a393b['DpIBR']=_0x35a06d(0x34c),_0x5a393b['beiqn']=_0x35a06d(0x26f);const _0x19fcce=_0x5a393b;let _0x31f67c=await fs['readFileAsync'](path[_0x35a06d(0x2c9)](__dirname,'..',_0x19fcce[_0x35a06d(0x248)],_0x19fcce['paqOL'],_0x19fcce['wSsIA']),_0x19fcce[_0x35a06d(0x1d8)]);_0x31f67c=JSON[_0x35a06d(0x2b2)](_0x31f67c),await this['resourceClient'][_0x35a06d(0x29a)][_0x35a06d(0x3aa)](global_registry[_0x35a06d(0x225)],_0x19fcce[_0x35a06d(0x20b)],{'properties':{'template':_0x31f67c,'mode':_0x19fcce[_0x35a06d(0x2bd)],'parameters':{'clusterName':{'value':this['clusterName']}}}});}async[a1_0x40bfd4(0x250)](){const _0x387180=a1_0x40bfd4,_0xa4678d={'XWaIH':function(_0x1733ed,_0x30ac5c,_0x5c3e3d){return _0x1733ed(_0x30ac5c,_0x5c3e3d);},'zeTkd':function(_0x1e9064,_0x2543f3){return _0x1e9064===_0x2543f3;},'nZkmu':'wzFHN','elMng':'LiaIM','ptKyV':_0x387180(0x328),'cdyyC':_0x387180(0x3a5),'zapxw':'AYULT','AReug':_0x387180(0x387),'tpoCK':_0x387180(0x254),'PWImo':'utf-8','PrdeK':_0x387180(0x2b6),'RtCCr':_0x387180(0x26f)};!this[_0x387180(0x319)]&&(_0xa4678d[_0x387180(0x1df)](_0xa4678d[_0x387180(0x33a)],_0xa4678d[_0x387180(0x26b)])?_0xa4678d[_0x387180(0x33c)](_0x4b6244,()=>_0x206c70(),0x3e8):await this[_0x387180(0x1db)]());const _0x20a3e8=this[_0x387180(0x319)]?.[_0x387180(0x311)]?.[_0x387180(0x3b1)],_0x5ef2fe=[_0xa4678d['ptKyV'],_0xa4678d[_0x387180(0x321)]];for await(const _0x5096c8 of _0x5ef2fe){if(_0xa4678d['zeTkd'](_0xa4678d[_0x387180(0x331)],_0xa4678d[_0x387180(0x331)])){let _0x1a519d=await fs[_0x387180(0x3a9)](path[_0x387180(0x2c9)](__dirname,'..',_0xa4678d['AReug'],_0xa4678d[_0x387180(0x3a1)],_0x387180(0x39e)+_0x5096c8+_0x387180(0x27f)),_0xa4678d[_0x387180(0x1de)]);_0x1a519d=JSON[_0x387180(0x2b2)](_0x1a519d);const _0x4294b1={};_0x4294b1[_0x387180(0x286)]=_0x20a3e8,await this[_0x387180(0x239)]['deployments'][_0x387180(0x3aa)](global_registry[_0x387180(0x225)],_0xa4678d[_0x387180(0x3a4)],{'properties':{'template':_0x1a519d,'mode':_0xa4678d[_0x387180(0x26a)],'parameters':{'oidcIssuer':_0x4294b1,'gridName':{'value':this[_0x387180(0x376)]},'clusterName':{'value':this['clusterName']}}}});}else _0x1c1b4d['status']=![];}}async[a1_0x40bfd4(0x369)](_0x401783,_0x1ba38b,_0x1abfc0,_0x4b1805,_0x2223ec){const _0x3530f8=a1_0x40bfd4,_0x11aa1={};_0x11aa1[_0x3530f8(0x208)]='Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha',_0x11aa1[_0x3530f8(0x283)]=_0x3530f8(0x2f8);const _0x4f9ac7=_0x11aa1,_0x2547fe={};_0x2547fe[_0x3530f8(0x227)]=WS_EVENTS[_0x3530f8(0x29f)],_0x2547fe[_0x3530f8(0x2af)]=_0x4f9ac7[_0x3530f8(0x208)],this[_0x3530f8(0x353)]['sendEventToBackend'](this[_0x3530f8(0x26e)],_0x2547fe),logger[_0x3530f8(0x2fc)](_0x4f9ac7[_0x3530f8(0x208)]),await this[_0x3530f8(0x33e)]();const _0x4a7aaa={};_0x4a7aaa['type']=WS_EVENTS[_0x3530f8(0x29f)],_0x4a7aaa['message']=_0x4f9ac7[_0x3530f8(0x283)],this[_0x3530f8(0x353)][_0x3530f8(0x3ab)](this[_0x3530f8(0x26e)],_0x4a7aaa);}async['createFederatedAccountForHubHA'](){const _0x116eda=a1_0x40bfd4,_0xd753fb={};_0xd753fb['LVzQX']=function(_0x42f298,_0xde054e){return _0x42f298===_0xde054e;},_0xd753fb[_0x116eda(0x2a5)]=_0x116eda(0x2e3),_0xd753fb['dYVPl']=_0x116eda(0x327),_0xd753fb['TYyvp']=_0x116eda(0x387),_0xd753fb['fIEFs']=_0x116eda(0x289),_0xd753fb[_0x116eda(0x3ae)]=_0x116eda(0x347),_0xd753fb[_0x116eda(0x237)]='utf-8',_0xd753fb['vAIrh']='turboscale-federated-deployment',_0xd753fb['XFvfH']='Incremental';const _0x915479=_0xd753fb;!this[_0x116eda(0x319)]&&(_0x915479['LVzQX'](_0x915479[_0x116eda(0x231)],_0x915479[_0x116eda(0x231)])?await this[_0x116eda(0x1db)]():(_0x4c479d+=_0x915479[_0x116eda(0x36d)](_0x2db612[_0x116eda(0x1d1)],0x0)?_0x915479[_0x116eda(0x2a5)]:'',_0x13c4eb[_0x116eda(0x2ec)]('Role\x20definition\x20response\x20list\x20\x20:\x20\x20'+_0x2c35f8['stringify'](_0x15c3ea))));const _0x11b79b=this['clusterInfo']?.['oidcIssuerProfile']?.[_0x116eda(0x3b1)];let _0x139ad1=await fs[_0x116eda(0x3a9)](path['join'](__dirname,'..',_0x915479[_0x116eda(0x34a)],_0x915479[_0x116eda(0x25b)],_0x915479['GzUvr']),_0x915479['UWWjG']);_0x139ad1=JSON[_0x116eda(0x2b2)](_0x139ad1);const _0x46c860={};_0x46c860[_0x116eda(0x286)]=_0x11b79b,await this[_0x116eda(0x239)][_0x116eda(0x29a)][_0x116eda(0x3aa)](global_registry['cloudProviderResourceGroup'],_0x915479[_0x116eda(0x32c)],{'properties':{'template':_0x139ad1,'mode':_0x915479[_0x116eda(0x2e0)],'parameters':{'oidcIssuer':_0x46c860,'namespace':{'value':global_registry['hubHaNameSpace']},'clusterName':{'value':this['clusterName']}}}});}async['isStorageAccountPresent'](){const _0x2ac124=a1_0x40bfd4,_0x300c51={};_0x300c51[_0x2ac124(0x1cf)]=_0x2ac124(0x2f3),_0x300c51[_0x2ac124(0x30a)]=function(_0x43e91e,_0x45aafe){return _0x43e91e===_0x45aafe;},_0x300c51[_0x2ac124(0x1f8)]=_0x2ac124(0x20e),_0x300c51[_0x2ac124(0x39b)]='pAbYF',_0x300c51[_0x2ac124(0x22e)]=function(_0x148e0c,_0x599ceb){return _0x148e0c===_0x599ceb;},_0x300c51[_0x2ac124(0x1ed)]=_0x2ac124(0x30b),_0x300c51['JEfTW']=_0x2ac124(0x2c0),_0x300c51[_0x2ac124(0x2f4)]=_0x2ac124(0x3a0);const _0x87f13d=_0x300c51,_0x3bc213=this[_0x2ac124(0x2ba)](),_0x145918=new Array();for await(const _0x525ebb of this[_0x2ac124(0x34b)][_0x2ac124(0x1fc)][_0x2ac124(0x28a)](global_registry[_0x2ac124(0x225)])){_0x87f13d[_0x2ac124(0x30a)](_0x87f13d['FQSOs'],_0x87f13d[_0x2ac124(0x39b)])?_0x426fe5['error']=_0x4f908d:_0x145918[_0x2ac124(0x2ab)](_0x525ebb);}for await(const _0x267844 of _0x145918){if(_0x87f13d[_0x2ac124(0x22e)](_0x87f13d['uvwRE'],_0x87f13d[_0x2ac124(0x2ae)]))return _0x44d267[_0x2ac124(0x1f6)]('Cannot\x20find\x20VPC\x20'+_0x45a6e1+_0x2ac124(0x2bb)+_0x3795bb),![];else{if(_0x87f13d[_0x2ac124(0x22e)](_0x267844['name'],_0x3bc213)){if(_0x87f13d['tnFRX'](_0x87f13d[_0x2ac124(0x2f4)],_0x87f13d[_0x2ac124(0x2f4)]))return!![];else{_0x439977[_0x2ac124(0x2fc)](_0x87f13d[_0x2ac124(0x1cf)]);const _0x23f616={};_0x23f616[_0x2ac124(0x227)]=_0x1388ed[_0x2ac124(0x2b3)],_0x23f616['message']=_0x87f13d[_0x2ac124(0x1cf)],this['webSocketUtils']['sendEventToBackend'](this[_0x2ac124(0x26e)],_0x23f616),_0x199a09[_0x2ac124(0x338)]=![];}}}}return![];}async['isManagedIdentityPresent'](){const _0x45c7b8=a1_0x40bfd4,_0x3d070b={};_0x3d070b[_0x45c7b8(0x1e5)]=_0x45c7b8(0x275),_0x3d070b[_0x45c7b8(0x259)]=function(_0x152c28,_0x38335d){return _0x152c28===_0x38335d;},_0x3d070b[_0x45c7b8(0x363)]='qjDIZ',_0x3d070b[_0x45c7b8(0x383)]=_0x45c7b8(0x2e5),_0x3d070b[_0x45c7b8(0x238)]=_0x45c7b8(0x2da),_0x3d070b[_0x45c7b8(0x2d9)]='nUamO',_0x3d070b[_0x45c7b8(0x344)]=function(_0x57cb13,_0x69e1a7){return _0x57cb13===_0x69e1a7;},_0x3d070b['PMxBs']='lBXpP',_0x3d070b[_0x45c7b8(0x351)]=_0x45c7b8(0x35e);const _0x31aa6d=_0x3d070b,_0x2800fe=new Array();for await(const _0x132471 of this['resourceClient'][_0x45c7b8(0x265)][_0x45c7b8(0x28a)](global_registry[_0x45c7b8(0x225)])){if(_0x31aa6d['zgskk'](_0x31aa6d[_0x45c7b8(0x363)],_0x31aa6d[_0x45c7b8(0x383)]))return _0x2ce766[_0x45c7b8(0x1f6)]=_0xf42069[_0x45c7b8(0x1f6)],_0x45d853;else _0x2800fe[_0x45c7b8(0x2ab)](_0x132471);}for await(const _0x10c43d of _0x2800fe){if(_0x31aa6d[_0x45c7b8(0x259)](_0x31aa6d[_0x45c7b8(0x238)],_0x31aa6d[_0x45c7b8(0x2d9)]))_0x582543[_0x45c7b8(0x2ab)](_0x33e36b);else{if(_0x31aa6d['HQCvF'](_0x10c43d[_0x45c7b8(0x2dc)],'turboscale-managed-identity-'+this[_0x45c7b8(0x219)]))return _0x31aa6d['HQCvF'](_0x31aa6d['PMxBs'],_0x31aa6d[_0x45c7b8(0x351)])?(_0x27254a[_0x45c7b8(0x252)]=_0x31aa6d[_0x45c7b8(0x1e5)],_0x542adc):!![];}}return![];}async[a1_0x40bfd4(0x267)](_0x218e46,_0x1a0660=0x3){const _0x1fff74=a1_0x40bfd4,_0x2661b6={'pGPhn':function(_0x4de141,_0x147d96){return _0x4de141+_0x147d96;},'WzTJB':'turboscale','EqLor':function(_0x36821b,_0x4454c2){return _0x36821b-_0x4454c2;},'jLsWz':function(_0x4646ce,_0x333d28){return _0x4646ce===_0x333d28;},'NwDwb':function(_0x3d6695,_0x45a690){return _0x3d6695===_0x45a690;},'AsEVQ':_0x1fff74(0x23b),'zDYKv':'repRF','AetNR':function(_0x1dc6a9,_0x16a5b5,_0x48dd7b){return _0x1dc6a9(_0x16a5b5,_0x48dd7b);},'ESoZj':'No\x20CLI\x20tool\x20required','dWwjG':_0x1fff74(0x332),'PUwYD':_0x1fff74(0x302),'ODIwK':function(_0x397174,_0x3c0f28){return _0x397174!==_0x3c0f28;},'TcjWA':'UpWtW','ZpmqN':function(_0xaa9dbc,_0x2003b9){return _0xaa9dbc===_0x2003b9;},'JMceq':_0x1fff74(0x317),'QLeFY':_0x1fff74(0x3a7),'PMgRO':_0x1fff74(0x28f),'QqtyK':_0x1fff74(0x1d5),'hblCt':_0x1fff74(0x366),'xTDxt':function(_0x2f01ab,_0x4d595b){return _0x2f01ab<=_0x4d595b;},'ZdDbd':function(_0x5d744b,_0x88f70e){return _0x5d744b===_0x88f70e;},'rnXOU':'MNSEq'};try{if(_0x2661b6[_0x1fff74(0x304)](_0x2661b6[_0x1fff74(0x2a3)],_0x2661b6[_0x1fff74(0x21b)]))_0x4e2e88[_0x1fff74(0x1f6)]=_0x11d639;else{const _0x2cd04f=new Array();for await(const _0x1933f7 of this['resourceClient'][_0x1fff74(0x265)][_0x1fff74(0x28a)](global_registry[_0x1fff74(0x225)])){_0x2661b6['ODIwK'](_0x2661b6[_0x1fff74(0x2a6)],_0x2661b6[_0x1fff74(0x2a6)])?_0x523b8d['push'](_0x1fbc41):_0x2cd04f[_0x1fff74(0x2ab)](_0x1933f7);}let _0x14a51b='';for await(const _0x3a12f9 of _0x2cd04f){if(_0x2661b6['ZpmqN'](_0x2661b6[_0x1fff74(0x2d3)],_0x2661b6['QLeFY'])){const _0x3c6a83=_0x5f4459[_0x1fff74(0x352)][_0x1fff74(0x2cc)]('-'),_0x52c9ee=_0x2661b6[_0x1fff74(0x32e)](_0x2661b6[_0x1fff74(0x326)],_0x3c6a83[_0x2661b6['EqLor'](_0x3c6a83['length'],0x1)])[_0x1fff74(0x2a0)](0x0,0x18);return _0x52c9ee['toLowerCase']();}else{if(_0x2661b6[_0x1fff74(0x2fa)](_0x3a12f9[_0x1fff74(0x2dc)],_0x218e46)){if(_0x2661b6[_0x1fff74(0x304)](_0x2661b6[_0x1fff74(0x373)],_0x2661b6[_0x1fff74(0x373)]))_0x14a51b=_0x3a12f9['id'];else return!![];}}}const _0x895928=await this[_0x1fff74(0x239)][_0x1fff74(0x265)]['getById'](_0x14a51b,_0x2661b6['QqtyK']);return _0x895928[_0x1fff74(0x1ff)][_0x1fff74(0x1ce)];}}catch(_0x5c5738){if(_0x2661b6[_0x1fff74(0x2fa)](_0x2661b6['hblCt'],_0x2661b6['hblCt'])){if(_0x2661b6[_0x1fff74(0x2c4)](_0x1a0660,0x0))return _0x2661b6['ZdDbd'](_0x2661b6[_0x1fff74(0x39c)],_0x2661b6['rnXOU'])?(logger[_0x1fff74(0x1f6)](_0x1fff74(0x29b)+_0x5c5738+':'+_0x5c5738[_0x1fff74(0x30e)]),{}):[!![],_0x361f99];return await new Promise(_0x12dfec=>{const _0x185bb2=_0x1fff74;if(_0x2661b6[_0x185bb2(0x395)](_0x2661b6[_0x185bb2(0x1ea)],_0x2661b6[_0x185bb2(0x388)])){if(_0x2661b6[_0x185bb2(0x304)](_0x5c3a7d[_0x185bb2(0x2dc)],_0x185bb2(0x371)+this[_0x185bb2(0x219)]))return!![];}else _0x2661b6[_0x185bb2(0x26d)](setTimeout,()=>_0x12dfec(),0x3e8);}),this[_0x1fff74(0x267)](_0x218e46,_0x2661b6['EqLor'](_0x1a0660,0x1));}else{const _0xfc5718={};_0xfc5718[_0x1fff74(0x228)]=!![],_0xfc5718[_0x1fff74(0x1f6)]=null,_0xfc5718[_0x1fff74(0x252)]=_0x2661b6[_0x1fff74(0x1f7)];const _0x52391f=_0xfc5718;return _0x52391f;}}}async[a1_0x40bfd4(0x398)](){const _0x1158fa=a1_0x40bfd4,_0x1fa524={};_0x1fa524[_0x1158fa(0x33d)]=_0x1158fa(0x2a8),_0x1fa524['SHzqX']=function(_0x58a216,_0x479773){return _0x58a216!==_0x479773;},_0x1fa524['PBucR']=_0x1158fa(0x379),_0x1fa524['wPoic']=function(_0x2c969d,_0x38bf0e){return _0x2c969d===_0x38bf0e;},_0x1fa524[_0x1158fa(0x2b7)]=_0x1158fa(0x343),_0x1fa524[_0x1158fa(0x31a)]=_0x1158fa(0x38e),_0x1fa524[_0x1158fa(0x38c)]=function(_0x310e56,_0x1042f5){return _0x310e56!==_0x1042f5;},_0x1fa524[_0x1158fa(0x282)]='zuBYt';const _0x571b72=_0x1fa524;if(!this[_0x1158fa(0x319)]){if(_0x571b72[_0x1158fa(0x1e7)](_0x571b72[_0x1158fa(0x303)],_0x571b72[_0x1158fa(0x303)]))return _0x164cf4[_0x1158fa(0x228)][_0x1158fa(0x27e)][_0x1158fa(0x27d)][0x0][_0x1158fa(0x201)];else await this['getClusterInfo']();}const _0x3b7e60=this[_0x1158fa(0x319)]?.[_0x1158fa(0x27b)]||{};if(_0x3b7e60&&_0x571b72[_0x1158fa(0x24a)](_0x3b7e60[_0x571b72[_0x1158fa(0x2b7)]],_0x571b72[_0x1158fa(0x31a)])){if(_0x571b72[_0x1158fa(0x38c)](_0x571b72['qwFVY'],_0x571b72['qwFVY'])){_0x14e979[_0x1158fa(0x2fc)](_0x571b72[_0x1158fa(0x33d)]);const _0x4c7db0={};_0x4c7db0[_0x1158fa(0x227)]=_0x565dc9['RESOURCES'],_0x4c7db0[_0x1158fa(0x2af)]=_0x571b72[_0x1158fa(0x33d)],this[_0x1158fa(0x353)][_0x1158fa(0x3ab)](this[_0x1158fa(0x26e)],_0x4c7db0);const _0xf7c408={};_0xf7c408[_0x1158fa(0x270)]=!![];const _0x4af802={'workloadIdentity':_0xf7c408,..._0x295443['securityProfile']};_0x1b02ec['securityProfile']=_0x4af802;}else return!![];}return![];}async[a1_0x40bfd4(0x294)](_0x37bfd6,_0x45f5ad){const _0x4eceb9=a1_0x40bfd4,_0x309e63={'MijTC':function(_0x3573a0,_0xe5cad7){return _0x3573a0(_0xe5cad7);},'gTyXS':function(_0x1cfcf7,_0x2748be){return _0x1cfcf7(_0x2748be);},'EUIux':_0x4eceb9(0x223)};await _0x309e63['MijTC'](deleteAgent,_0x37bfd6),await _0x309e63[_0x4eceb9(0x32f)](deleteRoutingDeps,_0x37bfd6);const _0x3a2a7a=this[_0x4eceb9(0x2d0)];logger[_0x4eceb9(0x2fc)](_0x4eceb9(0x364)+this[_0x4eceb9(0x219)]),await _0x3a2a7a[_0x4eceb9(0x205)][_0x4eceb9(0x1ef)](global_registry[_0x4eceb9(0x225)],this[_0x4eceb9(0x219)]),logger[_0x4eceb9(0x2fc)](_0x309e63[_0x4eceb9(0x2cf)]);}async['updateClusterAlreadyPresent'](){const _0x750efc=a1_0x40bfd4,_0x117a82={};_0x117a82[_0x750efc(0x1d9)]=_0x750efc(0x336),_0x117a82[_0x750efc(0x200)]='No\x20service\x20principal\x20found',_0x117a82[_0x750efc(0x375)]=function(_0x526fc2,_0x11e737){return _0x526fc2+_0x11e737;},_0x117a82[_0x750efc(0x2eb)]=function(_0x1aafdd,_0xb852cf){return _0x1aafdd!==_0xb852cf;},_0x117a82['YQovn']=_0x750efc(0x29c),_0x117a82['ViWyt']=function(_0x518aae,_0x12e55f){return _0x518aae&&_0x12e55f;},_0x117a82[_0x750efc(0x290)]='BndRZ',_0x117a82['rDuXm']=function(_0x298f0b,_0x37e7c4){return _0x298f0b!==_0x37e7c4;},_0x117a82['PEIrt']=_0x750efc(0x2ce),_0x117a82[_0x750efc(0x37b)]='xhFES',_0x117a82['EVAJB']='Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster',_0x117a82['VmXUE']=function(_0xa2e3f8,_0x58c4be){return _0xa2e3f8===_0x58c4be;},_0x117a82[_0x750efc(0x262)]='zQQLW',_0x117a82[_0x750efc(0x39f)]=_0x750efc(0x2a8),_0x117a82[_0x750efc(0x1c8)]=function(_0x206efd,_0xeee5a3){return _0x206efd!==_0xeee5a3;},_0x117a82['aUPSv']=_0x750efc(0x35d),_0x117a82[_0x750efc(0x249)]=_0x750efc(0x2f3);const _0x40db1e=_0x117a82;if(!this[_0x750efc(0x319)]){if(_0x40db1e[_0x750efc(0x2eb)](_0x40db1e[_0x750efc(0x1c9)],_0x40db1e[_0x750efc(0x1c9)]))return _0x33add5[_0x750efc(0x252)]=_0x40db1e[_0x750efc(0x1d9)],_0x3b88cb;else await this['getClusterInfo']();}const _0x4f6e63=this[_0x750efc(0x319)],_0xf62e9b=this[_0x750efc(0x319)]?.[_0x750efc(0x311)]?.[_0x750efc(0x270)]||![],_0x4b85db=this[_0x750efc(0x319)]?.[_0x750efc(0x1e1)]?.[_0x750efc(0x1e3)]?.[_0x750efc(0x270)]||![],_0x1ef5a5=!this[_0x750efc(0x319)]?.[_0x750efc(0x338)]||![];if(_0x40db1e['ViWyt'](_0xf62e9b,_0x4b85db)&&_0x1ef5a5){if(_0x40db1e[_0x750efc(0x2eb)](_0x40db1e['VaFiA'],_0x40db1e['VaFiA']))_0x1db7f8[_0x750efc(0x1fe)][_0x750efc(0x2ab)](_0x931770);else return;}if(!_0xf62e9b){if(_0x40db1e[_0x750efc(0x31d)](_0x40db1e[_0x750efc(0x293)],_0x40db1e[_0x750efc(0x37b)])){logger[_0x750efc(0x2fc)](_0x40db1e['EVAJB']);const _0x569d4e={};_0x569d4e['type']=WS_EVENTS['RESOURCES'],_0x569d4e['message']=_0x40db1e[_0x750efc(0x22d)],this['webSocketUtils'][_0x750efc(0x3ab)](this[_0x750efc(0x26e)],_0x569d4e),_0x4f6e63[_0x750efc(0x311)][_0x750efc(0x270)]=!![];}else throw new _0x514e90(_0x40db1e[_0x750efc(0x200)],'Received\x20response\x20-\x20'+_0x54b639[_0x750efc(0x3a3)](_0x427eed));}if(!_0x4b85db){if(_0x40db1e['VmXUE'](_0x40db1e[_0x750efc(0x262)],_0x40db1e[_0x750efc(0x262)])){logger['info'](_0x40db1e['VkFKu']);const _0x14fb5f={};_0x14fb5f['type']=WS_EVENTS[_0x750efc(0x2b3)],_0x14fb5f[_0x750efc(0x2af)]=_0x40db1e[_0x750efc(0x39f)],this[_0x750efc(0x353)][_0x750efc(0x3ab)](this[_0x750efc(0x26e)],_0x14fb5f);const _0x1d2a98={};_0x1d2a98[_0x750efc(0x270)]=!![],_0x4f6e63[_0x750efc(0x1e1)]={'workloadIdentity':_0x1d2a98,..._0x4f6e63[_0x750efc(0x1e1)]};}else _0x42f15a[_0x750efc(0x2d6)]('['+_0x40db1e[_0x750efc(0x375)](_0x408a77,0x1)+']\x20'+_0x3be4ea[_0x492b6e]);}if(!_0x1ef5a5){if(_0x40db1e[_0x750efc(0x1c8)](_0x40db1e[_0x750efc(0x207)],_0x40db1e[_0x750efc(0x207)]))return!![];else{logger[_0x750efc(0x2fc)](_0x40db1e['bjGSW']);const _0x2e8810={};_0x2e8810[_0x750efc(0x227)]=WS_EVENTS[_0x750efc(0x2b3)],_0x2e8810[_0x750efc(0x2af)]=_0x40db1e[_0x750efc(0x249)],this['webSocketUtils'][_0x750efc(0x3ab)](this['rws'],_0x2e8810),_0x4f6e63[_0x750efc(0x338)]=![];}}await this[_0x750efc(0x2d0)][_0x750efc(0x205)][_0x750efc(0x3aa)](global_registry[_0x750efc(0x225)],this[_0x750efc(0x219)],_0x4f6e63),await this['getClusterInfo']();}async[a1_0x40bfd4(0x2ee)](){const _0x3a4124=a1_0x40bfd4,_0x2ccb47={};_0x2ccb47[_0x3a4124(0x320)]=function(_0x477adb,_0x3843ca){return _0x477adb===_0x3843ca;},_0x2ccb47[_0x3a4124(0x28c)]=function(_0x56941d,_0x20733f){return _0x56941d!==_0x20733f;},_0x2ccb47[_0x3a4124(0x35a)]='izwld';const _0x15004f=_0x2ccb47,_0x4a693c=await this['networkClient']['virtualNetworks'][_0x3a4124(0x2b0)](global_registry[_0x3a4124(0x225)]),_0x35815d={};_0x35815d[_0x3a4124(0x316)]=global_registry['bstackUsername'],_0x35815d[_0x3a4124(0x310)]=global_registry[_0x3a4124(0x221)],_0x35815d[_0x3a4124(0x329)]=AZURE,_0x35815d[_0x3a4124(0x1fe)]=[];const _0x15f236=_0x35815d;for await(const _0x1a72bf of _0x4a693c){if(_0x15004f[_0x3a4124(0x28c)](_0x15004f['YyRBI'],_0x15004f['YyRBI'])){if(_0x15004f[_0x3a4124(0x320)](_0x14072a[_0x3a4124(0x2dc)],_0x41e8e9))return!![];}else _0x15f236[_0x3a4124(0x1fe)][_0x3a4124(0x2ab)](_0x1a72bf);}const _0x1d0b49={};_0x1d0b49['type']=WS_EVENTS[_0x3a4124(0x2b3)],_0x1d0b49['message']=_0x15f236,this[_0x3a4124(0x353)][_0x3a4124(0x3ab)](this[_0x3a4124(0x26e)],_0x1d0b49);}async['isVPCPresent'](_0x539c74){const _0x4074f1=a1_0x40bfd4,_0xa4b57a={};_0xa4b57a[_0x4074f1(0x2b1)]=_0x4074f1(0x272),_0xa4b57a[_0x4074f1(0x247)]=_0x4074f1(0x2f6),_0xa4b57a[_0x4074f1(0x2e7)]='denied',_0xa4b57a[_0x4074f1(0x360)]=function(_0x33a767,_0xf121ee){return _0x33a767!==_0xf121ee;},_0xa4b57a[_0x4074f1(0x2c1)]=_0x4074f1(0x30f),_0xa4b57a[_0x4074f1(0x25c)]=function(_0x17927a,_0x5e9f49){return _0x17927a===_0x5e9f49;},_0xa4b57a[_0x4074f1(0x346)]=_0x4074f1(0x2f7),_0xa4b57a['kFAUY']=_0x4074f1(0x38d),_0xa4b57a[_0x4074f1(0x281)]=function(_0x138e61,_0x4e8bdf){return _0x138e61===_0x4e8bdf;},_0xa4b57a[_0x4074f1(0x2b5)]='NWHIN',_0xa4b57a[_0x4074f1(0x242)]='JCxRW',_0xa4b57a[_0x4074f1(0x229)]=function(_0x6d5068,_0x1461c4){return _0x6d5068===_0x1461c4;},_0xa4b57a['JBnLZ']='fmyWf';const _0x2084c8=_0xa4b57a;try{if(_0x2084c8[_0x4074f1(0x360)](_0x2084c8[_0x4074f1(0x2c1)],_0x2084c8['TKrrV']))_0x511b80[_0x4074f1(0x1f6)](_0x2084c8[_0x4074f1(0x2b1)]),_0x41d27e[_0x4074f1(0x1f9)](0x1);else{const _0x1fc162=await this[_0x4074f1(0x380)][_0x4074f1(0x1dc)][_0x4074f1(0x2b0)](global_registry[_0x4074f1(0x225)]);for await(const _0x43083f of _0x1fc162){if(_0x2084c8[_0x4074f1(0x25c)](_0x2084c8[_0x4074f1(0x346)],_0x2084c8['kFAUY']))return;else{if(_0x2084c8[_0x4074f1(0x281)](_0x43083f['name'],_0x539c74)){if(_0x2084c8[_0x4074f1(0x281)](_0x2084c8['UHNJy'],_0x2084c8[_0x4074f1(0x242)])){const _0x4f631d=_0x425a7c[_0x4074f1(0x287)](_0x577854);_0x452442+='\x0a\x09'+_0x1748a8+':\x20'+(_0x4f631d?_0x2084c8['cwead']:_0x2084c8[_0x4074f1(0x2e7)]),!_0x4f631d&&(_0x9b54e6[_0x4074f1(0x228)]=![]);}else return!![];}}}}}catch(_0x5200c1){return _0x2084c8[_0x4074f1(0x229)](_0x2084c8[_0x4074f1(0x349)],_0x2084c8[_0x4074f1(0x349)])?(logger['error'](_0x4074f1(0x2cd)+_0x539c74+'.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20'+_0x5200c1),![]):!![];}return![];}async['isSubnetsValid'](_0x28b00a,_0x5337ed){const _0x128ff4=a1_0x40bfd4,_0x12b925={};_0x12b925[_0x128ff4(0x210)]='Managed\x20identity\x20already\x20exists,\x20skipping',_0x12b925[_0x128ff4(0x315)]=function(_0x24e401,_0xde5863){return _0x24e401===_0xde5863;},_0x12b925[_0x128ff4(0x3a8)]=_0x128ff4(0x36e),_0x12b925[_0x128ff4(0x26c)]=_0x128ff4(0x1cc),_0x12b925[_0x128ff4(0x23f)]=function(_0x3bde3b,_0x199013){return _0x3bde3b===_0x199013;},_0x12b925[_0x128ff4(0x1fd)]=_0x128ff4(0x37e),_0x12b925[_0x128ff4(0x2ca)]=_0x128ff4(0x28d);const _0x350bfd=_0x12b925;try{if(_0x350bfd[_0x128ff4(0x315)](_0x350bfd[_0x128ff4(0x3a8)],_0x350bfd['SzHeY']))_0x9d86a0[_0x128ff4(0x2fc)](_0x350bfd[_0x128ff4(0x210)]);else{const _0x1ac9fd=await this[_0x128ff4(0x380)][_0x128ff4(0x269)][_0x128ff4(0x279)](global_registry[_0x128ff4(0x225)],_0x5337ed,_0x28b00a[0x0]);if(_0x350bfd[_0x128ff4(0x315)](_0x28b00a[0x0],_0x1ac9fd['name'])){if(_0x350bfd['MOZzm'](_0x350bfd[_0x128ff4(0x1fd)],_0x350bfd[_0x128ff4(0x2ca)]))_0x25092f[_0x128ff4(0x2ab)](_0x3f01de);else return[!![],_0x28b00a];}}}catch(_0x57b6a8){return logger['error'](_0x128ff4(0x306)+_0x28b00a+_0x128ff4(0x299)+_0x57b6a8),[![],[]];}return[![],[]];}async[a1_0x40bfd4(0x399)](){const _0xf88819=a1_0x40bfd4,_0x206523={};_0x206523[_0xf88819(0x333)]=_0xf88819(0x291);const _0x16dbee=_0x206523,_0x162e90={};_0x162e90[_0xf88819(0x228)]=!![],_0x162e90['error']=null,_0x162e90['data']=_0x16dbee[_0xf88819(0x333)];const _0x19b37d=_0x162e90;return _0x19b37d;}async[a1_0x40bfd4(0x2b4)](){const _0x5b831c=a1_0x40bfd4,_0x52b416={};_0x52b416[_0x5b831c(0x256)]=_0x5b831c(0x394),_0x52b416[_0x5b831c(0x389)]=_0x5b831c(0x27c),_0x52b416[_0x5b831c(0x323)]=_0x5b831c(0x2f1);const _0x1117cf=_0x52b416,_0x206364=await this['cred']['getToken'](_0x1117cf['FGgne']),_0x2c7a93={};_0x2c7a93[_0x5b831c(0x392)]=_0x1117cf[_0x5b831c(0x389)],_0x2c7a93[_0x5b831c(0x213)]={},_0x2c7a93[_0x5b831c(0x213)][_0x5b831c(0x20c)]=_0x5b831c(0x2b9)+_0x206364['token'],_0x2c7a93[_0x5b831c(0x213)]['Content-Type']=_0x1117cf[_0x5b831c(0x323)];const _0x66d596=_0x2c7a93;return _0x66d596;}async[a1_0x40bfd4(0x2d4)](_0x36e9b9){const _0x17a0c5=a1_0x40bfd4,_0x5c4f05={'sAjcO':function(_0x39abd4,_0x44b13e,_0x5d57c1){return _0x39abd4(_0x44b13e,_0x5d57c1);},'BAnPv':function(_0x42da2f,_0x59f722){return _0x42da2f===_0x59f722;},'dpdrY':_0x17a0c5(0x22b)},_0x351560={};_0x351560[_0x17a0c5(0x356)]='',_0x351560[_0x17a0c5(0x1f6)]=null;const _0x50c595=_0x351560;try{const _0x436b14='https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27'+_0x36e9b9+'\x27',_0x2ca9a3=await this[_0x17a0c5(0x2b4)](),_0x34b6a3=await _0x5c4f05[_0x17a0c5(0x2a9)](fetch,_0x436b14,_0x2ca9a3),_0xe9d783=await _0x34b6a3[_0x17a0c5(0x1f1)]();if(!_0xe9d783[_0x17a0c5(0x286)]||_0x5c4f05[_0x17a0c5(0x2be)](_0xe9d783['value'][_0x17a0c5(0x1d1)],0x0))throw new Error(_0x5c4f05[_0x17a0c5(0x397)],'Received\x20response\x20-\x20'+JSON[_0x17a0c5(0x3a3)](_0xe9d783));_0x50c595[_0x17a0c5(0x356)]=_0xe9d783[_0x17a0c5(0x286)][0x0]['id'];}catch(_0x39aacd){_0x50c595['error']=_0x39aacd;}return _0x50c595;}async[a1_0x40bfd4(0x21f)](){const _0xd56364=a1_0x40bfd4,_0x483828={};_0x483828[_0xd56364(0x1da)]=_0xd56364(0x2f6),_0x483828[_0xd56364(0x30d)]=_0xd56364(0x2d2),_0x483828[_0xd56364(0x288)]=function(_0x461d11,_0x1b509d){return _0x461d11!==_0x1b509d;},_0x483828[_0xd56364(0x36f)]=function(_0x3863a0,_0x1c1598){return _0x3863a0===_0x1c1598;},_0x483828[_0xd56364(0x2df)]='No\x20attached\x20role\x20for\x20the\x20client\x20key',_0x483828[_0xd56364(0x2ad)]=_0xd56364(0x336),_0x483828['mTNcz']='Action\x20permission\x20list\x20is\x20empty\x0a';const _0x389fbc=_0x483828,_0xb99dbc={};_0xb99dbc['status']=![],_0xb99dbc[_0xd56364(0x1f6)]=null,_0xb99dbc[_0xd56364(0x252)]='';const _0xce558b=_0xb99dbc;try{let _0x8130c3='';const _0x87dbf5=_0xd56364(0x263)+global_registry[_0xd56364(0x22a)]+_0xd56364(0x25f)+global_registry[_0xd56364(0x225)],_0xbd52b5=await this[_0xd56364(0x2d4)](global_registry[_0xd56364(0x202)]);if(_0x389fbc[_0xd56364(0x288)](_0xbd52b5[_0xd56364(0x1f6)],null))return _0xce558b[_0xd56364(0x1f6)]=_0xbd52b5[_0xd56364(0x1f6)],_0xce558b;const _0x1b37e9=_0xd56364(0x37f)+_0xbd52b5[_0xd56364(0x356)]+'\x27)',_0x3d33ab={};_0x3d33ab[_0xd56364(0x1d3)]=_0x1b37e9;const _0x5d990f=await this['authClient']['roleAssignments'][_0xd56364(0x2cb)](_0x87dbf5,_0x3d33ab),_0x932c7b=[];for await(const _0x812279 of _0x5d990f){_0x932c7b['push'](_0x812279);}if(_0x389fbc[_0xd56364(0x36f)](_0x932c7b[_0xd56364(0x1d1)],0x0))return _0xce558b[_0xd56364(0x252)]=_0x389fbc['TZbKx'],_0xce558b;const _0x20c400=[...new Set(_0x932c7b[_0xd56364(0x1ca)](_0x572903=>_0x572903[_0xd56364(0x24b)]))];if(_0x389fbc[_0xd56364(0x36f)](_0x20c400['length'],0x0))return _0xce558b[_0xd56364(0x252)]=_0x389fbc[_0xd56364(0x2ad)],_0xce558b;const _0xb015a0=[],_0x386d9f=[];for(const _0x378ee9 of _0x20c400){const _0xc2758f=await this[_0xd56364(0x305)]['roleDefinitions'][_0xd56364(0x28e)](_0x378ee9);logger['debug']('role\x20name\x20attached\x20-\x20'+_0xc2758f[_0xd56364(0x361)]),_0xb015a0[_0xd56364(0x2ab)](_0xc2758f),logger['debug']('Attached\x20permissions\x20:\x20'+JSON[_0xd56364(0x3a3)](_0xc2758f['permissions'])),_0xc2758f[_0xd56364(0x2db)]['forEach'](_0x355232=>{const _0x49f2f5=_0xd56364;_0x386d9f[_0x49f2f5(0x2ab)](..._0x355232[_0x49f2f5(0x222)]);});}logger[_0xd56364(0x2ec)](_0xd56364(0x2a1)+JSON['stringify'](_0x386d9f)),_0x389fbc[_0xd56364(0x36f)](_0x386d9f[_0xd56364(0x1d1)],0x0)&&(_0x8130c3+=_0x389fbc[_0xd56364(0x36f)](_0x386d9f[_0xd56364(0x1d1)],0x0)?_0x389fbc[_0xd56364(0x1e4)]:'',logger['debug']('Role\x20definition\x20response\x20list\x20\x20:\x20\x20'+JSON[_0xd56364(0x3a3)](_0xb015a0))),_0xce558b[_0xd56364(0x228)]=!![],Object[_0xd56364(0x23e)](PERMISSIONS[_0xd56364(0x32b)])[_0xd56364(0x1d6)](([_0x31c9b0,_0x597228])=>{const _0xd122f7=_0xd56364,_0x2322f4=_0x386d9f[_0xd122f7(0x287)](_0x31c9b0);_0x8130c3+='\x0a\x09'+_0x597228+':\x20'+(_0x2322f4?_0x389fbc[_0xd122f7(0x1da)]:_0x389fbc[_0xd122f7(0x30d)]),!_0x2322f4&&(_0xce558b[_0xd122f7(0x228)]=![]);}),_0xce558b[_0xd56364(0x252)]=_0x8130c3;}catch(_0x2beffd){_0xce558b[_0xd56364(0x1f6)]=_0x2beffd;}return _0xce558b;}}const a1_0x30dc2f={};a1_0x30dc2f[a1_0x40bfd4(0x258)]=AzureCloudProvider,module[a1_0x40bfd4(0x348)]=a1_0x30dc2f;