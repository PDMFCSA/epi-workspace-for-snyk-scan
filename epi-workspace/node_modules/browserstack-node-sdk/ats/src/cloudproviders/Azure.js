const a1_0x331388=a1_0x3b25;(function(_0x9cde4,_0x589804){const _0x491b47=a1_0x3b25,_0x26083e=_0x9cde4();while(!![]){try{const _0x4b2a15=parseInt(_0x491b47(0x192))/0x1*(-parseInt(_0x491b47(0x13c))/0x2)+-parseInt(_0x491b47(0x135))/0x3*(parseInt(_0x491b47(0x2c2))/0x4)+parseInt(_0x491b47(0x1ec))/0x5*(-parseInt(_0x491b47(0x197))/0x6)+-parseInt(_0x491b47(0x16f))/0x7+parseInt(_0x491b47(0x2e8))/0x8+-parseInt(_0x491b47(0x131))/0x9+-parseInt(_0x491b47(0x1be))/0xa*(-parseInt(_0x491b47(0x242))/0xb);if(_0x4b2a15===_0x589804)break;else _0x26083e['push'](_0x26083e['shift']());}catch(_0x4d84d8){_0x26083e['push'](_0x26083e['shift']());}}}(a1_0x2b1b,0x7e9ba));const fs=require('fs'),path=require('path'),yaml=require('js-yaml'),{logger}=require(a1_0x331388(0x2d9)),{CloudProvider}=require(a1_0x331388(0x22f)),{deleteRoutingDeps,deleteAgent}=require(a1_0x331388(0x1cd)),{AZURE,WS_EVENTS,global_registry}=require(a1_0x331388(0x203)),PERMISSIONS=require('../permissions/AZURE.json'),{ClientSecretCredential}=require(a1_0x331388(0x205)),{NetworkManagementClient}=require(a1_0x331388(0x1d5)),{StorageManagementClient}=require('@azure/arm-storage'),{AuthorizationManagementClient}=require('@azure/arm-authorization'),{ResourceManagementClient}=require(a1_0x331388(0x29c)),{ContainerServiceClient}=require('@azure/arm-containerservice'),{runCommand}=require(a1_0x331388(0x1ed));function a1_0x2b1b(){const _0x58dc0f=['ACTION','Cannot\x20find\x20VPC\x20','entries','clusterAutoUpgrade','bliez','status','5|4|0|3|1|2','getHeader','lRqCs','ZVXrW','listAll','pAnPL','pwFcR','OUQoS','getById','Managed\x20identity\x20already\x20exists,\x20skipping','azureresources','@azure/arm-resources','yIrJM','XxFgk','jLrSw','PRTRx','listForScope','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','IqImS','listByResourceGroup','dKckT','zLNwX','iIGbV','Created\x20Azure\x20federated\x20identity','ibaXT','Wrruv','yQvZw','NLIRA','jZESV','mLwXO','node','eiqKe','pOSti','permissions','stringify','NcPlb','ufCyY','PGAow','CNLRN','join','denied','get','HYcIr','ruylq','ZShUI','UqlHk','nXAQZ','NshTL','subscriptionId','10284woCRHd','ilOCM','EnjUb','gPoex','GhNCH','uzSwz','string','CDkbJ','utf-8','XejmZ','getGridHostname','isVPCPresent','CTzMl','bKRUm','uYTfz','workloadIdentity','definition','BPARP','hWvsB','XZTEZ','eYlmb','DVHGC','oUKMd','../config/logger','length','xxDpM','xbWuV','ejwDb','description','OTyNa','subnetName','containerClient','OXSgf','wjSGo','allowed','Aamex','loadBalancer','hub','3328368JZDDVK','application/json','KBdZv','VrAWx','dUPKy','message','GDzon','MkflJ','MPttY','resourceGroup','true','dWlOl','rws','ingress','kubeconfigs','disableLocalAccounts','XQsPc','rdXrV','peRSp','hhnBz','WdIAT','getKubeConfigData','hzFgX','Authorization','enabled','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','NjaLy','RyYBA','Storage\x20account\x20already\x20exists,\x20skipping','cslVF','userInstanceType','username','SknYb','xmLtl','YLAig','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','lWIDk','IfPKV','accessKey','ouFNt','VIVPZ','isManagedIdentityPresent','CDOEV','laAxt','.\x20Error:\x20','PDcDU','RMjai','CBRtv','getPrincipalIdFromClientId','LBpKj','hubharesources','PIFfZ','rules','LUCxX','clientId','WjBAS','jcsMI','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','dtSdN','xCOPH','bhwsd','2097900bmElcb','uySUY','getResourceGroups','[variables(\x27vnetSubnetID\x27)]','213thtFUi','qfVZI','Content-Type','aqoJz','.json','stack','iDuIl','1883248wjnlOi','cloudProviderClientSecret','bVfsj','piCRC','qQAdN','isBrowserstackCluster','beginCreateOrUpdateAndWait','WXUyb','MfKaf','bstIW','fiXJC','HiiPd','boqsZ','xwJZP','roleName','CAoAj','HAxER','OtIxP','isCliToolInstalled','2|5|4|1|0|3','list','YOIue','CEXOW','actions','bYkrb','IaZok','baseBlob','federatedidentity','virtualNetworks','lKrJl','sLcbD','Incremental','/resourceGroups/','NHQdC','kbkCR','userMaxNodes','YFWzF','daysAfterCreationGreaterThan','cSBrG','turboscale-federated-deployment','uFeOo','NvhLh','rCSFp','3|1|4|5|7|0|6|2','issuerURL','AyrzO','wJCXs','setupNewCluster','omlTd','SgMgB','headers','339878hkPCud','Action\x20permission\x20list\x20is\x20empty\x0a','PtGOZ','3|1|5|2|4|0','isSubnetsValid','XnWhf','readFileAsync','oPvgB','gtFVs','nTgLe','blockBlob','tAfRW','Cxkgw','cqBgB','MWggK','clusterInfo','map','managementPolicies','clusterName','delete','ztSbM','subscriptions/','sendEventToBackend','YxtxJ','cloudProvider','turboscale-identity-deployment','qlSYV','BTveg','hostname','wSVAk','securityProfile','JsHXR','createFederatedAccountForHubHA','ydpcE','WhyOd','1ykgZwI','resourceClient','aXhTu','SzBiR','vpcInfo','102RWLPiO','setupHubHa','wCsOZ','turboscale-cluster-deployment','oidcIssuerProfile','ILfQf','hJHlT','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','LRXNY','mKDXc','LJSqF','uStle','OFTEy','yMdZE','eHHSd','name','sZsvj','vRqMq','push','mPKcI','split','ioDum','qkLKB','MYhfA','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','ClhqS','Cannot\x20find\x20subnets\x20','getUserInput','s3Bucket','vpcName','principalId','YHpHW','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','LOG','default','YXhPA','SbyQt','log','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','100eVBWGD','managedClusters','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','filters','FuYON','vLvsD','FZzMp','SPscM','json','VLdXG','ihnnR','FrPCj','agentPoolProfiles','checkAccess','assignedTo(\x27','../utils/gridComponents','QnqXm','storageAccounts','yogCP','XaUqC','Rkyha','YMRJw','geAll','@azure/arm-network','fbqLa','RbFJI','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','cloudProviderClientId','caHQS','TKXMl','EtPQQ','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','uiGYB','tBXPp','tLptk','pgUKX','FmWEz','CwQIo','LsLPk','VEBnx','MXZbh','WPoCo','hJnUP','fUrKo','BgTOY','iCfft','202915EXWuHx','../utils/utilityMethods','GcYpv','UaXQw','debug','https://graph.microsoft.com/.default','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','JZKia','cloudProviderSubscriptionId','deployments','UxOku','parameters','DCBEw','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','iWhgv','templates','getToken','atzWq','\x20SUBSCRIPTION\x20ID:\x20','euLJt','qAXas','storageClient','Deleting\x20the\x20cluster\x20','../config/constants','createStorageAccount','@azure/identity','rhaHV','data','akscluster.json','IdSCO','lOmlQ','role\x20name\x20attached\x20-\x20','slice','includes','vnetSubnetID','nsZwf','HTVID','mACsb','kKmMi','toLowerCase','YqLCT','iVwry','Yckcj','MZjxc','beSmi','djQiT','ELuUM','xVpDx','JJCpO','hubHaNameSpace','value','pvReC','updateClusterAlreadyPresent','setClients','jhudP','QrcYb','HnEku','qpmmh','createCluster','createFederatedAccount','parse','getResourceClientId','AzureCloudProvider','jUxYw','soXqz','sendAzureInfoToHST','forEach','./CloudProvider','qIbjU','networkClient','Attached\x20permissions\x20:\x20','sTIqr','HoSkt','getStorageAccountName','cfgTO','webSocketUtils','NQDNf','NPDTR','Received\x20response\x20-\x20','SuqAW','clientSecret','GQEKK','hxUFe','dTptI','zGbyj','ljCOJ','2418097IEOady','cjWcP','exit','cNAJg','JvHEu','No\x20CLI\x20tool\x20required','resources','WuhMF','Zoptd','createManagedIdentity','hatFe','instanceType','turboscale','deleteCluster','smUtZ','jSIyE','cloudProviderTenantId','PtdrR','init','metadata','swZYz','Found\x20only\x20one\x20resource\x20group:\x20','lutXM','fZOuG','bdtlH','sXRuQ','nFhwn','rsGzu','gnmSN','false','duwHg','error','Enabling\x20Local\x20account\x20for\x20the\x20cluster','variables','vldeQ','bvHbB','SZqyD','aFpZI','info','wJuKb','Creating\x20Azure\x20federated\x20identity','authClient','\x20CLIENT\x20ID:\x20','ZlIgq','buNol','NUJPB','GET','ZdWrN','hpsro','cred','Bearer\x20','browserstack:managedBy','nEgXl','dJxnT','WPhrN','cloudProviderResourceGroup','2023-01-31','getClusterInfo','storageAccountName','lENLi','cDtUh','tenantId','Creating\x20Azure\x20storage\x20account','properties','RESOURCES','gridName','type','bstackAccesskey','turboscale-managed-identity-','token','cloudProviderName','isStorageAccountPresent','HsMKV'];a1_0x2b1b=function(){return _0x58dc0f;};return a1_0x2b1b();}class AzureCloudProvider extends CloudProvider{constructor(_0x15e190,_0x27974c,_0x48afad,_0x4a2213){const _0x2a0e38=a1_0x331388,_0x372264={};_0x372264[_0x2a0e38(0x11c)]=_0x2a0e38(0x167);const _0x446339=_0x372264,_0x2c11f2=_0x446339['VIVPZ'][_0x2a0e38(0x1ab)]('|');let _0x2215c3=0x0;while(!![]){switch(_0x2c11f2[_0x2215c3++]){case'0':this[_0x2a0e38(0x193)]=null;continue;case'1':this[_0x2a0e38(0x273)]=null;continue;case'2':this[_0x2a0e38(0x26b)]=null;continue;case'3':super(AZURE,_0x15e190,_0x27974c,_0x48afad,_0x4a2213);continue;case'4':this[_0x2a0e38(0x17e)]=null;continue;case'5':this[_0x2a0e38(0x2e1)]=null;continue;case'6':this[_0x2a0e38(0x231)]=null;continue;case'7':this[_0x2a0e38(0x201)]=null;continue;}break;}}async[a1_0x331388(0x254)](){const _0x56df49=a1_0x331388;return await super[_0x56df49(0x254)](),this;}[a1_0x331388(0x221)](){const _0x14dbb4=a1_0x331388,_0x1f0d00=new ClientSecretCredential(global_registry[_0x14dbb4(0x252)],global_registry[_0x14dbb4(0x1d9)],global_registry[_0x14dbb4(0x13d)]);this[_0x14dbb4(0x2e1)]=new ContainerServiceClient(_0x1f0d00,global_registry[_0x14dbb4(0x1f4)]),this[_0x14dbb4(0x201)]=new StorageManagementClient(_0x1f0d00,global_registry[_0x14dbb4(0x1f4)]),this[_0x14dbb4(0x193)]=new ResourceManagementClient(_0x1f0d00,global_registry[_0x14dbb4(0x1f4)]),this['networkClient']=new NetworkManagementClient(_0x1f0d00,global_registry['cloudProviderSubscriptionId']),this[_0x14dbb4(0x26b)]=new AuthorizationManagementClient(_0x1f0d00,global_registry[_0x14dbb4(0x1f4)]),this[_0x14dbb4(0x273)]=_0x1f0d00;}[a1_0x331388(0x235)](){const _0x4f3841=a1_0x331388,_0x4c2bfa={};_0x4c2bfa[_0x4f3841(0x15d)]=function(_0x4b65c7,_0x5d1025){return _0x4b65c7+_0x5d1025;},_0x4c2bfa[_0x4f3841(0x26d)]=_0x4f3841(0x24e),_0x4c2bfa[_0x4f3841(0x15a)]=function(_0x9e6416,_0x239026){return _0x9e6416-_0x239026;};const _0x25987a=_0x4c2bfa,_0x4f2578=global_registry[_0x4f3841(0x1b3)][_0x4f3841(0x1ab)]('-'),_0x819d92=_0x25987a[_0x4f3841(0x15d)](_0x25987a[_0x4f3841(0x26d)],_0x4f2578[_0x25987a[_0x4f3841(0x15a)](_0x4f2578['length'],0x1)])[_0x4f3841(0x20c)](0x0,0x18);return _0x819d92[_0x4f3841(0x213)]();}['setCachedCredsInRegistry'](_0x4c9299){const _0x1bf6e3=a1_0x331388,_0x7b4bcc={};_0x7b4bcc[_0x1bf6e3(0x21b)]=_0x1bf6e3(0x172);const _0x381b4f=_0x7b4bcc,_0x255803=_0x381b4f['xVpDx'][_0x1bf6e3(0x1ab)]('|');let _0x1aaae0=0x0;while(!![]){switch(_0x255803[_0x1aaae0++]){case'0':this[_0x1bf6e3(0x221)]();continue;case'1':global_registry['cloudProviderClientSecret']=_0x4c9299[this['cloudProviderName']][_0x1bf6e3(0x23c)];continue;case'2':global_registry[_0x1bf6e3(0x1f4)]=_0x4c9299[this[_0x1bf6e3(0x288)]]['subscriptionId'];continue;case'3':global_registry[_0x1bf6e3(0x1d9)]=_0x4c9299[this[_0x1bf6e3(0x288)]][_0x1bf6e3(0x12a)];continue;case'4':global_registry[_0x1bf6e3(0x279)]=_0x4c9299[this[_0x1bf6e3(0x288)]][_0x1bf6e3(0x2f1)];continue;case'5':global_registry[_0x1bf6e3(0x252)]=_0x4c9299[this[_0x1bf6e3(0x288)]][_0x1bf6e3(0x27f)];continue;}break;}}async[a1_0x331388(0x1b2)](_0x2e335c,_0x271d73){const _0x3a914a=a1_0x331388,_0x12bf4d={'CTzMl':_0x3a914a(0x291),'boqsZ':function(_0x34d62a,_0x1ca29b){return _0x34d62a(_0x1ca29b);},'uySUY':function(_0x176e81,_0x363c64){return _0x176e81(_0x363c64);},'kKmMi':function(_0x3e202f,_0x5665e9){return _0x3e202f(_0x5665e9);},'NLIRA':function(_0x5b3905,_0x2469bd){return _0x5b3905===_0x2469bd;},'uYTfz':function(_0x2cca97,_0x32674d){return _0x2cca97!==_0x32674d;},'lRqCs':_0x3a914a(0x23f),'PtdrR':function(_0x44622d,_0x5b8072){return _0x44622d===_0x5b8072;},'YOIue':function(_0x3cd920,_0x45b79a){return _0x3cd920!==_0x45b79a;},'ejwDb':_0x3a914a(0x28f),'LRXNY':_0x3a914a(0x1e1),'ZdWrN':function(_0x11bcd5,_0x29df3f){return _0x11bcd5(_0x29df3f);},'iVwry':function(_0x56a7b5,_0x5511ba){return _0x56a7b5===_0x5511ba;},'jZESV':function(_0xf55d90,_0x322f6c){return _0xf55d90===_0x322f6c;},'dJxnT':function(_0x41497e,_0x3c2d9f){return _0x41497e===_0x3c2d9f;},'hzFgX':_0x3a914a(0x1e2),'YqLCT':_0x3a914a(0x1af),'SgMgB':function(_0xbf070a,_0x17aef0){return _0xbf070a!==_0x17aef0;},'bKRUm':_0x3a914a(0x1c4),'rCSFp':function(_0xb69c3b,_0x4470c7){return _0xb69c3b!==_0x4470c7;},'YPFwc':_0x3a914a(0x2e5),'CNLRN':function(_0x3108b6,_0x569995){return _0x3108b6<_0x569995;},'mPKcI':function(_0x5cfd69,_0x2a2ef8){return _0x5cfd69!==_0x2a2ef8;},'YXhPA':_0x3a914a(0x18a),'LSdwp':'sBwld','sbKFI':function(_0x27ff7e,_0x1ca2c2){return _0x27ff7e+_0x1ca2c2;},'vxjpe':function(_0x905076,_0x2eecff){return _0x905076(_0x2eecff);},'MXZbh':_0x3a914a(0x1f9),'uFeOo':function(_0x4f5d4d,_0x5b815a){return _0x4f5d4d(_0x5b815a);},'YLAig':function(_0x4e50bf,_0x436123){return _0x4e50bf(_0x436123);},'kbkCR':function(_0x3686e3,_0x4683f6){return _0x3686e3<=_0x4683f6;},'ZVXrW':function(_0x179a38,_0x38948a){return _0x179a38>_0x38948a;},'WdIAT':function(_0x24c92f,_0x52a1b2){return _0x24c92f!==_0x52a1b2;},'ljCOJ':'dMwUZ','fUrKo':function(_0x53f559,_0x348b83){return _0x53f559-_0x348b83;}},_0x79549f=this[_0x3a914a(0x288)]['toUpperCase'](),_0x181b47=await _0x12bf4d[_0x3a914a(0x148)](_0x2e335c,_0x79549f+_0x3a914a(0x26c)),_0x109772=await _0x12bf4d[_0x3a914a(0x132)](_0x2e335c,_0x79549f+'\x20CLIENT\x20SECRET:\x20'),_0x1ba82c=await _0x12bf4d['boqsZ'](_0x2e335c,_0x79549f+'\x20TENANT\x20ID:\x20'),_0x96e92=await _0x12bf4d[_0x3a914a(0x212)](_0x2e335c,_0x79549f+_0x3a914a(0x1fe));global_registry[_0x3a914a(0x1d9)]=_0x181b47,global_registry[_0x3a914a(0x13d)]=_0x109772,global_registry[_0x3a914a(0x252)]=_0x1ba82c,global_registry[_0x3a914a(0x1f4)]=_0x96e92,this[_0x3a914a(0x221)]();const _0x50c069=await this[_0x3a914a(0x133)](),_0x3b7d91=_0x50c069[_0x3a914a(0x2da)];let _0xcf8ca1;if(_0x12bf4d[_0x3a914a(0x2ac)](_0x3b7d91,0x0)){if(_0x12bf4d[_0x3a914a(0x2d0)](_0x12bf4d[_0x3a914a(0x293)],_0x12bf4d[_0x3a914a(0x293)]))return _0x253352[_0x3a914a(0x261)]=_0x3dd1e8[_0x3a914a(0x261)],_0x236173;else _0xcf8ca1=await _0x12bf4d['uySUY'](_0x2e335c,_0x79549f+'\x20RESOURCE\x20GROUP:\x20');}else{if(_0x12bf4d['PtdrR'](_0x3b7d91,0x1)){if(_0x12bf4d[_0x3a914a(0x151)](_0x12bf4d[_0x3a914a(0x2dd)],_0x12bf4d[_0x3a914a(0x19f)])){const _0x359926=await _0x12bf4d[_0x3a914a(0x271)](_0x2e335c,_0x3a914a(0x257)+_0x50c069[0x0]+_0x3a914a(0x301));if(_0x12bf4d[_0x3a914a(0x215)](_0x359926,undefined)||_0x12bf4d[_0x3a914a(0x253)](_0x359926,null)||!(_0x12bf4d['jZESV'](_0x359926['toLowerCase'](),'y')||_0x12bf4d[_0x3a914a(0x277)](_0x359926[_0x3a914a(0x213)](),'n'))){if(_0x12bf4d[_0x3a914a(0x2ac)](_0x12bf4d[_0x3a914a(0x2fe)],_0x12bf4d[_0x3a914a(0x2fe)]))console[_0x3a914a(0x261)](_0x12bf4d[_0x3a914a(0x214)]),process[_0x3a914a(0x244)](0x1);else return _0x2e1186[_0x3a914a(0x290)][_0x3a914a(0x2e6)][_0x3a914a(0x2f5)][0x0][_0x3a914a(0x18b)];}if(_0x12bf4d[_0x3a914a(0x2ad)](_0x359926[_0x3a914a(0x213)](),'n')){if(_0x12bf4d[_0x3a914a(0x16d)](_0x12bf4d[_0x3a914a(0x2cf)],_0x12bf4d[_0x3a914a(0x2cf)]))return _0x1f9e69[_0x3a914a(0x261)]('[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20'+_0x2e7e1e+':'+_0x23a388[_0x3a914a(0x13a)]),{};else process['exit'](0x0);}_0xcf8ca1=_0x50c069[0x0];}else return;}else{if(_0x12bf4d[_0x3a914a(0x166)](_0x12bf4d['YPFwc'],_0x12bf4d['YPFwc']))_0x572796['push'](_0x4af5b6);else{for(let _0xe6bb3=0x0;_0x12bf4d[_0x3a914a(0x2b7)](_0xe6bb3,_0x50c069[_0x3a914a(0x2da)]);_0xe6bb3+=0x1){_0x12bf4d[_0x3a914a(0x1aa)](_0x12bf4d[_0x3a914a(0x1ba)],_0x12bf4d['LSdwp'])?console['log']('['+_0x12bf4d['sbKFI'](_0xe6bb3,0x1)+']\x20'+_0x50c069[_0xe6bb3]):_0x153d37[_0x3a914a(0x290)]=![];}const _0x486d87=await _0x12bf4d['vxjpe'](_0x2e335c,_0x12bf4d[_0x3a914a(0x1e6)]),_0x3b8a30=_0x12bf4d[_0x3a914a(0x164)](Number,_0x486d87);if(_0x12bf4d[_0x3a914a(0x116)](isNaN,_0x3b8a30)||_0x12bf4d[_0x3a914a(0x15e)](_0x3b8a30,0x0)||_0x12bf4d[_0x3a914a(0x294)](_0x3b8a30,_0x3b7d91)){if(_0x12bf4d[_0x3a914a(0x2fc)](_0x12bf4d[_0x3a914a(0x241)],_0x12bf4d[_0x3a914a(0x241)])){const _0x44edb3=_0x12bf4d[_0x3a914a(0x2ce)][_0x3a914a(0x1ab)]('|');let _0x594992=0x0;while(!![]){switch(_0x44edb3[_0x594992++]){case'0':_0x425a59[_0x3a914a(0x252)]=_0x37361c[this[_0x3a914a(0x288)]]['tenantId'];continue;case'1':_0x312a70['cloudProviderResourceGroup']=_0x306b49[this['cloudProviderName']][_0x3a914a(0x2f1)];continue;case'2':this[_0x3a914a(0x221)]();continue;case'3':_0x379f83['cloudProviderSubscriptionId']=_0x417c29[this[_0x3a914a(0x288)]]['subscriptionId'];continue;case'4':_0x4291ff[_0x3a914a(0x13d)]=_0x2d3b17[this[_0x3a914a(0x288)]][_0x3a914a(0x23c)];continue;case'5':_0x14365f[_0x3a914a(0x1d9)]=_0x110724[this['cloudProviderName']]['clientId'];continue;}break;}}else console['error'](_0x12bf4d[_0x3a914a(0x214)]),process[_0x3a914a(0x244)](0x1);}_0xcf8ca1=_0x50c069[_0x12bf4d[_0x3a914a(0x1e9)](_0x3b8a30,0x1)];}}}global_registry[_0x3a914a(0x279)]=_0xcf8ca1;const _0x304f8d={};return _0x304f8d[_0x3a914a(0x12a)]=_0x181b47,_0x304f8d[_0x3a914a(0x23c)]=_0x109772,_0x304f8d[_0x3a914a(0x27f)]=_0x1ba82c,_0x304f8d[_0x3a914a(0x2c1)]=_0x96e92,_0x304f8d[_0x3a914a(0x2f1)]=_0xcf8ca1,_0x271d73[_0x3a914a(0x187)][AZURE]=_0x304f8d,_0x271d73;}async[a1_0x331388(0x133)](){const _0x329176=a1_0x331388,_0x250806={};_0x250806['tBXPp']=_0x329176(0x2e4),_0x250806[_0x329176(0x246)]=_0x329176(0x2b9),_0x250806[_0x329176(0x10e)]=function(_0xbcc4cd,_0x4c96b4){return _0xbcc4cd===_0x4c96b4;},_0x250806[_0x329176(0x24a)]='zLoQE',_0x250806[_0x329176(0x1a1)]=function(_0x5777a0,_0x53cdc4){return _0x5777a0!==_0x53cdc4;},_0x250806[_0x329176(0x222)]='rMEQQ';const _0x5cae47=_0x250806,_0x495214=[];try{if(_0x5cae47[_0x329176(0x10e)](_0x5cae47[_0x329176(0x24a)],_0x5cae47[_0x329176(0x24a)])){const _0x481887=await this['resourceClient']['resourceGroups'][_0x329176(0x150)]();for await(const _0x22790f of _0x481887){if(_0x5cae47[_0x329176(0x1a1)](_0x5cae47[_0x329176(0x222)],_0x5cae47[_0x329176(0x222)])){const _0x493bca=_0x2c268b[_0x329176(0x20d)](_0x548ac2);_0x271aad+='\x0a\x09'+_0x5d9762+':\x20'+(_0x493bca?_0x5cae47[_0x329176(0x1df)]:_0x5cae47[_0x329176(0x246)]),!_0x493bca&&(_0x4f612c['status']=![]);}else _0x495214[_0x329176(0x1a9)](_0x22790f[_0x329176(0x1a6)]);}}else{const _0x1f193d=new _0x2c2359(_0x149469[_0x329176(0x252)],_0x3ddbad[_0x329176(0x1d9)],_0x3754af[_0x329176(0x13d)]);this[_0x329176(0x2e1)]=new _0x1f2693(_0x1f193d,_0x4ee32b[_0x329176(0x1f4)]),this[_0x329176(0x201)]=new _0x59ba82(_0x1f193d,_0x2b0489[_0x329176(0x1f4)]),this['resourceClient']=new _0x516407(_0x1f193d,_0x190bb4[_0x329176(0x1f4)]),this[_0x329176(0x231)]=new _0x1df53a(_0x1f193d,_0x2c5322[_0x329176(0x1f4)]),this[_0x329176(0x26b)]=new _0x30e829(_0x1f193d,_0x424173[_0x329176(0x1f4)]),this[_0x329176(0x273)]=_0x1f193d;}}catch(_0x5345fd){}return _0x495214;}async[a1_0x331388(0x27b)](){const _0x2eb364=a1_0x331388;return this[_0x2eb364(0x17e)]=await this[_0x2eb364(0x2e1)][_0x2eb364(0x1bf)]['get'](global_registry[_0x2eb364(0x279)],this[_0x2eb364(0x181)]),this[_0x2eb364(0x17e)];}async[a1_0x331388(0x2fd)](){const _0x132300=a1_0x331388,_0x473cb7=await this[_0x132300(0x2e1)][_0x132300(0x1bf)]['listClusterAdminCredentials'](global_registry[_0x132300(0x279)],this[_0x132300(0x181)]),_0x590a61=_0x473cb7[_0x132300(0x2f6)][0x0][_0x132300(0x21e)]['toString']();return _0x590a61;}[a1_0x331388(0x2cc)](_0x560039){const _0x41aa06=a1_0x331388;return _0x560039[_0x41aa06(0x290)][_0x41aa06(0x2e6)][_0x41aa06(0x2f5)][0x0][_0x41aa06(0x18b)];}async['isClusterPresent'](){const _0x2a79fc=a1_0x331388,_0x2ff07f={};_0x2ff07f[_0x2a79fc(0x1d6)]='Enabling\x20Workload\x20identity\x20for\x20the\x20cluster',_0x2ff07f[_0x2a79fc(0x1c3)]=function(_0x3f819b,_0x49ff98){return _0x3f819b+_0x49ff98;},_0x2ff07f['TKXMl']=_0x2a79fc(0x1af),_0x2ff07f[_0x2a79fc(0x18e)]=function(_0x107d87,_0x4c91d0){return _0x107d87===_0x4c91d0;},_0x2ff07f[_0x2a79fc(0x2c9)]=_0x2a79fc(0x2d4),_0x2ff07f[_0x2a79fc(0x12f)]='HBKOd',_0x2ff07f['XaUqC']=function(_0x43d12b,_0x45592b){return _0x43d12b!==_0x45592b;},_0x2ff07f[_0x2a79fc(0x240)]=_0x2a79fc(0x17b),_0x2ff07f['IALtG']=function(_0x38902e,_0xc79016){return _0x38902e===_0xc79016;},_0x2ff07f[_0x2a79fc(0x269)]=_0x2a79fc(0x127),_0x2ff07f['MfKaf']='tJQVu';const _0x2293ff=_0x2ff07f,_0x2ab9f8=new Array();for await(const _0x54661c of this[_0x2a79fc(0x2e1)][_0x2a79fc(0x1bf)][_0x2a79fc(0x2a4)](global_registry['cloudProviderResourceGroup'])){if(_0x2293ff[_0x2a79fc(0x18e)](_0x2293ff['CDkbJ'],_0x2293ff['xCOPH'])){_0x120b87[_0x2a79fc(0x268)](_0x2293ff[_0x2a79fc(0x1d6)]);const _0x12b48d={};_0x12b48d['type']=_0x319791[_0x2a79fc(0x282)],_0x12b48d['message']=_0x2293ff[_0x2a79fc(0x1d6)],this[_0x2a79fc(0x237)][_0x2a79fc(0x185)](this[_0x2a79fc(0x2f4)],_0x12b48d);const _0x1bb810={};_0x1bb810[_0x2a79fc(0x300)]=!![];const _0x3d96cc={'workloadIdentity':_0x1bb810,..._0x3fae8a['securityProfile']};_0x5f3d7f['securityProfile']=_0x3d96cc;}else _0x2ab9f8['push'](_0x54661c);}for await(const _0x185875 of _0x2ab9f8){if(_0x2293ff['XaUqC'](_0x2293ff[_0x2a79fc(0x240)],_0x2293ff[_0x2a79fc(0x240)]))_0x271ab3[_0x2a79fc(0x1bc)]('['+_0x2293ff[_0x2a79fc(0x1c3)](_0x368c4e,0x1)+']\x20'+_0x455f73[_0x4f2c69]);else{if(_0x2293ff['IALtG'](_0x185875[_0x2a79fc(0x1a6)],this[_0x2a79fc(0x181)])){if(_0x2293ff[_0x2a79fc(0x1d1)](_0x2293ff[_0x2a79fc(0x269)],_0x2293ff[_0x2a79fc(0x144)]))return await this['getClusterInfo'](),!![];else _0xd0dd32[_0x2a79fc(0x261)](_0x2293ff[_0x2a79fc(0x1db)]),_0x3d6895[_0x2a79fc(0x244)](0x1);}}}return![];}async[a1_0x331388(0x16b)](_0x1bd0ba=null,_0x3c9c9c=null){const _0x5232da=a1_0x331388,_0x26310f={};_0x26310f[_0x5232da(0x1f8)]=_0x5232da(0x14f),_0x26310f['BPARP']=_0x5232da(0x1c0);const _0x51f21f=_0x26310f,_0x2b1d51=_0x51f21f['DCBEw'][_0x5232da(0x1ab)]('|');let _0x4d6ae9=0x0;while(!![]){switch(_0x2b1d51[_0x4d6ae9++]){case'0':await this['createOtherResources']();continue;case'1':await this[_0x5232da(0x226)](_0x1bd0ba,_0x3c9c9c);continue;case'2':this[_0x5232da(0x22d)]();continue;case'3':return[_0x1bd0ba,_0x3c9c9c];case'4':logger['info'](_0x51f21f[_0x5232da(0x2d3)]);continue;case'5':const _0x5c930a={};_0x5c930a[_0x5232da(0x284)]=WS_EVENTS[_0x5232da(0x1b8)],_0x5c930a[_0x5232da(0x2ed)]=_0x51f21f[_0x5232da(0x2d3)],this['webSocketUtils'][_0x5232da(0x185)](this[_0x5232da(0x2f4)],_0x5c930a);continue;}break;}}async[a1_0x331388(0x226)](_0x59e8d5=null,_0x10814f=null){const _0x4edbbb=a1_0x331388,_0x24d131={'MYhfA':function(_0x500f57,_0x1fd183,_0x4c1117){return _0x500f57(_0x1fd183,_0x4c1117);},'SPscM':_0x4edbbb(0x1fb),'CDOEV':_0x4edbbb(0x29b),'PMeqV':_0x4edbbb(0x208),'xwJZP':_0x4edbbb(0x2ca),'hpsro':_0x4edbbb(0x2f2),'pAnPL':_0x4edbbb(0x25f),'WXUyb':function(_0x180fcc,_0x43b919){return _0x180fcc!==_0x43b919;},'gObEs':function(_0x4a13e8,_0x1af20d){return _0x4a13e8===_0x1af20d;},'QrcYb':_0x4edbbb(0x25c),'peRSp':_0x4edbbb(0x1d4),'Wrruv':_0x4edbbb(0x2c8),'fZOuG':_0x4edbbb(0x12d),'sXRuQ':'[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','piCRC':_0x4edbbb(0x134),'WPhrN':_0x4edbbb(0x19a),'XKjMG':_0x4edbbb(0x15b)};let _0xb88a90=await fs[_0x4edbbb(0x175)](path[_0x4edbbb(0x2b8)](__dirname,'..',_0x24d131[_0x4edbbb(0x1c5)],_0x24d131[_0x4edbbb(0x11e)],_0x24d131['PMeqV']),_0x24d131[_0x4edbbb(0x149)]);_0xb88a90=JSON[_0x4edbbb(0x228)](_0xb88a90);const _0x70cc98={};_0x70cc98[_0x4edbbb(0x21e)]=this[_0x4edbbb(0x181)];const _0x307896={};_0x307896['value']=global_registry['clusterRegion'];const _0x3a9964={};_0x3a9964[_0x4edbbb(0x21e)]=global_registry[_0x4edbbb(0x24d)];const _0x59ec0f={};_0x59ec0f[_0x4edbbb(0x21e)]=global_registry['maxNodes'];const _0x107cd0={};_0x107cd0[_0x4edbbb(0x21e)]=global_registry[_0x4edbbb(0x28e)]?_0x24d131[_0x4edbbb(0x272)]:_0x24d131[_0x4edbbb(0x296)];const _0x33f293={};_0x33f293[_0x4edbbb(0x181)]=_0x70cc98,_0x33f293['location']=_0x307896,_0x33f293[_0x4edbbb(0x112)]=_0x3a9964,_0x33f293[_0x4edbbb(0x15f)]=_0x59ec0f,_0x33f293[_0x4edbbb(0x28e)]=_0x107cd0;let _0x37808a=_0x33f293;if(_0x24d131['WXUyb'](_0x59e8d5,null)&&_0x24d131[_0x4edbbb(0x143)](_0x10814f,null)){if(_0x24d131['gObEs'](_0x24d131[_0x4edbbb(0x223)],_0x24d131[_0x4edbbb(0x2fa)]))_0x24d131[_0x4edbbb(0x1ae)](_0xec1098,()=>_0xe78261(),0x3e8);else{const _0x3af94b={};_0x3af94b['type']=_0x24d131[_0x4edbbb(0x2aa)],_0x3af94b[_0x4edbbb(0x255)]={},_0x3af94b[_0x4edbbb(0x255)][_0x4edbbb(0x2de)]=_0x24d131[_0x4edbbb(0x259)];const _0x45839b={};_0x45839b[_0x4edbbb(0x284)]=_0x24d131[_0x4edbbb(0x2aa)],_0x45839b[_0x4edbbb(0x255)]={},_0x45839b[_0x4edbbb(0x255)][_0x4edbbb(0x2de)]=_0x24d131['fZOuG'],_0xb88a90[_0x4edbbb(0x1f7)]={..._0xb88a90[_0x4edbbb(0x1f7)],'vpcName':_0x3af94b,'subnetName':_0x45839b};const _0x230d79={};_0x230d79[_0x4edbbb(0x20e)]=_0x24d131[_0x4edbbb(0x25b)],_0xb88a90[_0x4edbbb(0x263)]=_0x230d79,_0xb88a90['resources'][0x0][_0x4edbbb(0x281)][_0x4edbbb(0x1ca)][0x0]={..._0xb88a90[_0x4edbbb(0x248)][0x0][_0x4edbbb(0x281)][_0x4edbbb(0x1ca)][0x0],'vnetSubnetID':_0x24d131[_0x4edbbb(0x13f)]};const _0x2283d6={};_0x2283d6[_0x4edbbb(0x21e)]=_0x59e8d5;const _0xf5075e={};_0xf5075e[_0x4edbbb(0x21e)]=_0x10814f[0x0],_0x37808a={..._0x37808a,'vpcName':_0x2283d6,'subnetName':_0xf5075e};}}await this[_0x4edbbb(0x193)][_0x4edbbb(0x1f5)][_0x4edbbb(0x142)](global_registry['cloudProviderResourceGroup'],_0x24d131[_0x4edbbb(0x278)],{'properties':{'template':_0xb88a90,'mode':_0x24d131['XKjMG'],'parameters':_0x37808a}});}async['createOtherResources'](){const _0x1391a6=a1_0x331388,_0x32ce20={};_0x32ce20[_0x1391a6(0x1ce)]=_0x1391a6(0x1af),_0x32ce20[_0x1391a6(0x169)]=function(_0x5e83ce,_0x2535cf){return _0x5e83ce+_0x2535cf;},_0x32ce20[_0x1391a6(0x1f3)]='turboscale',_0x32ce20[_0x1391a6(0x1ef)]=function(_0x138c70,_0xb01acf){return _0x138c70-_0xb01acf;},_0x32ce20[_0x1391a6(0x17d)]='No\x20attached\x20role\x20for\x20the\x20client\x20key',_0x32ce20[_0x1391a6(0x250)]=function(_0x5a2a78,_0x3aad1b){return _0x5a2a78===_0x3aad1b;},_0x32ce20[_0x1391a6(0x154)]=_0x1391a6(0x20a),_0x32ce20['MUySi']=_0x1391a6(0x119),_0x32ce20[_0x1391a6(0x200)]=_0x1391a6(0x280),_0x32ce20[_0x1391a6(0x18c)]=function(_0x484d16,_0x5ed894){return _0x484d16===_0x5ed894;},_0x32ce20[_0x1391a6(0x176)]='uJnJO',_0x32ce20[_0x1391a6(0x2d8)]=_0x1391a6(0x217),_0x32ce20['hxUFe']=_0x1391a6(0x110),_0x32ce20[_0x1391a6(0x245)]=function(_0x17651e,_0x37f153){return _0x17651e===_0x37f153;},_0x32ce20['OUQoS']=_0x1391a6(0x266),_0x32ce20[_0x1391a6(0x2f8)]=_0x1391a6(0x1ee),_0x32ce20[_0x1391a6(0x21c)]='Creating\x20Azure\x20managed\x20identity',_0x32ce20[_0x1391a6(0x211)]=function(_0x2eaa66,_0x716756){return _0x2eaa66===_0x716756;},_0x32ce20[_0x1391a6(0x2c3)]=_0x1391a6(0x1fa),_0x32ce20['gnmSN']=_0x1391a6(0x260),_0x32ce20[_0x1391a6(0x1da)]=_0x1391a6(0x29a),_0x32ce20[_0x1391a6(0x26f)]=_0x1391a6(0x26a),_0x32ce20[_0x1391a6(0x2bf)]=_0x1391a6(0x2a8);const _0x506cf8=_0x32ce20,_0x1d5480=await this[_0x1391a6(0x289)]();if(!_0x1d5480){if(_0x506cf8[_0x1391a6(0x250)](_0x506cf8['bYkrb'],_0x506cf8['MUySi']))return!![];else{const _0x3a68b8={};_0x3a68b8[_0x1391a6(0x284)]=WS_EVENTS[_0x1391a6(0x1b8)],_0x3a68b8['message']=_0x506cf8[_0x1391a6(0x200)],this[_0x1391a6(0x237)][_0x1391a6(0x185)](this[_0x1391a6(0x2f4)],_0x3a68b8),logger[_0x1391a6(0x268)](_0x506cf8['qAXas']),await this[_0x1391a6(0x204)]();}}else _0x506cf8['wSVAk'](_0x506cf8[_0x1391a6(0x176)],_0x506cf8[_0x1391a6(0x2d8)])?(_0x1b053b[_0x1391a6(0x261)](_0x506cf8[_0x1391a6(0x1ce)]),_0x1c45f6[_0x1391a6(0x244)](0x1)):logger[_0x1391a6(0x268)](_0x506cf8[_0x1391a6(0x23e)]);const _0x45ab4a=await this['isManagedIdentityPresent']();if(!_0x45ab4a){if(_0x506cf8[_0x1391a6(0x245)](_0x506cf8[_0x1391a6(0x298)],_0x506cf8[_0x1391a6(0x2f8)])){const _0x3f0d97=_0xf46d20['s3Bucket'][_0x1391a6(0x1ab)]('-'),_0x27d728=_0x506cf8['AyrzO'](_0x506cf8['JZKia'],_0x3f0d97[_0x506cf8['UaXQw'](_0x3f0d97[_0x1391a6(0x2da)],0x1)])[_0x1391a6(0x20c)](0x0,0x18);return _0x27d728[_0x1391a6(0x213)]();}else{const _0x54e3d6={};_0x54e3d6[_0x1391a6(0x284)]=WS_EVENTS['LOG'],_0x54e3d6[_0x1391a6(0x2ed)]=_0x506cf8[_0x1391a6(0x21c)],this[_0x1391a6(0x237)]['sendEventToBackend'](this[_0x1391a6(0x2f4)],_0x54e3d6),logger['info'](_0x506cf8[_0x1391a6(0x21c)]),await this['createManagedIdentity']();}}else{if(_0x506cf8[_0x1391a6(0x211)](_0x506cf8['ilOCM'],_0x506cf8[_0x1391a6(0x25e)]))return _0x28d417[_0x1391a6(0x207)]=_0x506cf8['MWggK'],_0x4c474c;else logger[_0x1391a6(0x268)](_0x506cf8[_0x1391a6(0x1da)]);}logger['info'](_0x506cf8[_0x1391a6(0x26f)]),await this[_0x1391a6(0x227)](),logger['info'](_0x506cf8[_0x1391a6(0x2bf)]);}async[a1_0x331388(0x204)](){const _0x20dee9=a1_0x331388,_0xeb00bf={};_0xeb00bf['cDtUh']=_0x20dee9(0x1fb),_0xeb00bf[_0x20dee9(0x1c8)]=_0x20dee9(0x29b),_0xeb00bf['beSmi']='storageaccount.json',_0xeb00bf[_0x20dee9(0x24c)]=_0x20dee9(0x2ca),_0xeb00bf[_0x20dee9(0x1e3)]='turboscale-storageaccount-deployment',_0xeb00bf[_0x20dee9(0x243)]=_0x20dee9(0x15b),_0xeb00bf['nWuhL']='Blob\x20delete\x20lifecycle',_0xeb00bf[_0x20dee9(0x2db)]='Lifecycle',_0xeb00bf['jSIyE']=_0x20dee9(0x179),_0xeb00bf[_0x20dee9(0x1d7)]=_0x20dee9(0x1b9);const _0x398006=_0xeb00bf;let _0x3716ec=await fs[_0x20dee9(0x175)](path[_0x20dee9(0x2b8)](__dirname,'..',_0x398006[_0x20dee9(0x27e)],_0x398006['ihnnR'],_0x398006[_0x20dee9(0x218)]),_0x398006[_0x20dee9(0x24c)]);_0x3716ec=JSON[_0x20dee9(0x228)](_0x3716ec);const _0x135179=this[_0x20dee9(0x235)](),_0x3b8189={};_0x3b8189['value']=_0x135179;const _0x54a8de={};_0x54a8de[_0x20dee9(0x27c)]=_0x3b8189,await this[_0x20dee9(0x193)][_0x20dee9(0x1f5)][_0x20dee9(0x142)](global_registry[_0x20dee9(0x279)],_0x398006[_0x20dee9(0x1e3)],{'properties':{'template':_0x3716ec,'mode':_0x398006[_0x20dee9(0x243)],'parameters':_0x54a8de}});const _0x456eb8={};_0x456eb8[_0x20dee9(0x161)]=0x3c;const _0x1d9b41={};_0x1d9b41[_0x20dee9(0x182)]=_0x456eb8;const _0x10dd01={};_0x10dd01[_0x20dee9(0x156)]=_0x1d9b41;const _0x5029d4={};_0x5029d4[_0x20dee9(0x300)]=!![],_0x5029d4[_0x20dee9(0x1a6)]=_0x398006['nWuhL'],_0x5029d4['type']=_0x398006[_0x20dee9(0x2db)],_0x5029d4[_0x20dee9(0x2d2)]={},_0x5029d4[_0x20dee9(0x2d2)][_0x20dee9(0x153)]=_0x10dd01,_0x5029d4[_0x20dee9(0x2d2)][_0x20dee9(0x1c1)]={},_0x5029d4[_0x20dee9(0x2d2)][_0x20dee9(0x1c1)]['blobTypes']=[_0x398006[_0x20dee9(0x251)]];const _0x2c3850={};_0x2c3850[_0x20dee9(0x128)]=[_0x5029d4];const _0x49ad32={};_0x49ad32['policy']=_0x2c3850;const _0x28e2cc=_0x49ad32;await this[_0x20dee9(0x201)][_0x20dee9(0x180)]['createOrUpdate'](global_registry[_0x20dee9(0x279)],_0x135179,_0x398006[_0x20dee9(0x1d7)],_0x28e2cc);}async[a1_0x331388(0x24b)](){const _0x47c178=a1_0x331388,_0xd9b868={};_0xd9b868[_0x47c178(0x138)]=_0x47c178(0x1fb),_0xd9b868[_0x47c178(0x1c2)]=_0x47c178(0x29b),_0xd9b868[_0x47c178(0x1a2)]='managedidentity.json',_0xd9b868['GhNCH']=_0x47c178(0x2ca),_0xd9b868[_0x47c178(0x1ea)]=_0x47c178(0x188),_0xd9b868[_0x47c178(0x2d6)]='Incremental';const _0x3696ff=_0xd9b868;let _0x22f2cc=await fs['readFileAsync'](path[_0x47c178(0x2b8)](__dirname,'..',_0x3696ff['aqoJz'],_0x3696ff['FuYON'],_0x3696ff[_0x47c178(0x1a2)]),_0x3696ff[_0x47c178(0x2c6)]);_0x22f2cc=JSON[_0x47c178(0x228)](_0x22f2cc),await this[_0x47c178(0x193)][_0x47c178(0x1f5)][_0x47c178(0x142)](global_registry[_0x47c178(0x279)],_0x3696ff[_0x47c178(0x1ea)],{'properties':{'template':_0x22f2cc,'mode':_0x3696ff[_0x47c178(0x2d6)],'parameters':{'clusterName':{'value':this['clusterName']}}}});}async[a1_0x331388(0x227)](){const _0x2aaaa6=a1_0x331388,_0x65f39a={};_0x65f39a[_0x2aaaa6(0x171)]=function(_0x1d5592,_0x58087b){return _0x1d5592===_0x58087b;},_0x65f39a[_0x2aaaa6(0x27d)]=_0x2aaaa6(0x160),_0x65f39a[_0x2aaaa6(0x14c)]=_0x2aaaa6(0x2e7),_0x65f39a[_0x2aaaa6(0x249)]=_0x2aaaa6(0x2af),_0x65f39a[_0x2aaaa6(0x140)]=function(_0x190380,_0x340385){return _0x190380===_0x340385;},_0x65f39a[_0x2aaaa6(0x2eb)]='kDddX',_0x65f39a['CBRtv']=_0x2aaaa6(0x1fb),_0x65f39a[_0x2aaaa6(0x115)]=_0x2aaaa6(0x29b),_0x65f39a[_0x2aaaa6(0x1eb)]='utf-8',_0x65f39a[_0x2aaaa6(0x1c9)]=_0x2aaaa6(0x163),_0x65f39a[_0x2aaaa6(0x1e8)]=_0x2aaaa6(0x15b);const _0x12165b=_0x65f39a;!this[_0x2aaaa6(0x17e)]&&(_0x12165b[_0x2aaaa6(0x171)](_0x12165b[_0x2aaaa6(0x27d)],_0x12165b[_0x2aaaa6(0x27d)])?await this[_0x2aaaa6(0x27b)]():_0x1253d5=_0x294218['id']);const _0x8d9187=this[_0x2aaaa6(0x17e)]?.[_0x2aaaa6(0x19b)]?.[_0x2aaaa6(0x168)],_0xad9f5f=[_0x12165b['HAxER'],_0x12165b[_0x2aaaa6(0x249)]];for await(const _0x1bc2ed of _0xad9f5f){if(_0x12165b[_0x2aaaa6(0x140)](_0x12165b['VrAWx'],_0x12165b[_0x2aaaa6(0x2eb)])){let _0x3db777=await fs[_0x2aaaa6(0x175)](path['join'](__dirname,'..',_0x12165b[_0x2aaaa6(0x123)],_0x12165b[_0x2aaaa6(0x115)],_0x2aaaa6(0x157)+_0x1bc2ed+_0x2aaaa6(0x139)),_0x12165b[_0x2aaaa6(0x1eb)]);_0x3db777=JSON[_0x2aaaa6(0x228)](_0x3db777);const _0x1e7c98={};_0x1e7c98[_0x2aaaa6(0x21e)]=_0x8d9187,await this[_0x2aaaa6(0x193)][_0x2aaaa6(0x1f5)][_0x2aaaa6(0x142)](global_registry[_0x2aaaa6(0x279)],_0x12165b['FrPCj'],{'properties':{'template':_0x3db777,'mode':_0x12165b['hJnUP'],'parameters':{'oidcIssuer':_0x1e7c98,'gridName':{'value':this[_0x2aaaa6(0x283)]},'clusterName':{'value':this[_0x2aaaa6(0x181)]}}}});}else return!![];}}async[a1_0x331388(0x198)](_0xf6055c,_0x2f11db,_0x48bc2f,_0xa183fc,_0x222999){const _0x5af6b9=a1_0x331388,_0x202faa={};_0x202faa['UxOku']=_0x5af6b9(0x1dd),_0x202faa['HYcIr']=_0x5af6b9(0x1d8);const _0x5986e4=_0x202faa,_0xb75924={};_0xb75924[_0x5af6b9(0x284)]=WS_EVENTS['LOG'],_0xb75924[_0x5af6b9(0x2ed)]=_0x5986e4[_0x5af6b9(0x1f6)],this['webSocketUtils']['sendEventToBackend'](this[_0x5af6b9(0x2f4)],_0xb75924),logger['info'](_0x5986e4['UxOku']),await this[_0x5af6b9(0x18f)]();const _0x3a08bf={};_0x3a08bf[_0x5af6b9(0x284)]=WS_EVENTS[_0x5af6b9(0x1b8)],_0x3a08bf[_0x5af6b9(0x2ed)]=_0x5986e4[_0x5af6b9(0x2bb)],this['webSocketUtils']['sendEventToBackend'](this[_0x5af6b9(0x2f4)],_0x3a08bf);}async[a1_0x331388(0x18f)](){const _0x451baa=a1_0x331388,_0x59d91={};_0x59d91[_0x451baa(0x2dc)]='Storage\x20account\x20already\x20exists,\x20skipping',_0x59d91[_0x451baa(0x186)]=function(_0x5e2a8e,_0x2fffd9){return _0x5e2a8e!==_0x2fffd9;},_0x59d91['YPVkO']=_0x451baa(0x16c),_0x59d91['DkDuG']=_0x451baa(0x1a4),_0x59d91[_0x451baa(0x178)]='templates',_0x59d91[_0x451baa(0x2be)]=_0x451baa(0x126),_0x59d91[_0x451baa(0x2a5)]='federatedidentityuploader.json',_0x59d91[_0x451baa(0x174)]=_0x451baa(0x2ca),_0x59d91[_0x451baa(0x1a7)]=_0x451baa(0x163),_0x59d91[_0x451baa(0x10f)]=_0x451baa(0x15b);const _0xfe0558=_0x59d91;!this[_0x451baa(0x17e)]&&(_0xfe0558['YxtxJ'](_0xfe0558['YPVkO'],_0xfe0558['DkDuG'])?await this[_0x451baa(0x27b)]():_0x5b774b[_0x451baa(0x268)](_0xfe0558['xbWuV']));const _0x2824a3=this[_0x451baa(0x17e)]?.[_0x451baa(0x19b)]?.[_0x451baa(0x168)];let _0x5023fa=await fs[_0x451baa(0x175)](path[_0x451baa(0x2b8)](__dirname,'..',_0xfe0558[_0x451baa(0x178)],_0xfe0558['UqlHk'],_0xfe0558['dKckT']),_0xfe0558[_0x451baa(0x174)]);_0x5023fa=JSON[_0x451baa(0x228)](_0x5023fa);const _0x1aaf75={};_0x1aaf75[_0x451baa(0x21e)]=_0x2824a3,await this[_0x451baa(0x193)]['deployments'][_0x451baa(0x142)](global_registry[_0x451baa(0x279)],_0xfe0558[_0x451baa(0x1a7)],{'properties':{'template':_0x5023fa,'mode':_0xfe0558[_0x451baa(0x10f)],'parameters':{'oidcIssuer':_0x1aaf75,'namespace':{'value':global_registry[_0x451baa(0x21d)]},'clusterName':{'value':this[_0x451baa(0x181)]}}}});}async[a1_0x331388(0x289)](){const _0x1cfbe8=a1_0x331388,_0x555532={};_0x555532[_0x1cfbe8(0x20f)]=_0x1cfbe8(0x262),_0x555532[_0x1cfbe8(0x146)]=function(_0x2de6f9,_0x13b81a){return _0x2de6f9!==_0x13b81a;},_0x555532[_0x1cfbe8(0x234)]=_0x1cfbe8(0x183),_0x555532[_0x1cfbe8(0x199)]=function(_0x5df0d8,_0x29bf28){return _0x5df0d8===_0x29bf28;},_0x555532[_0x1cfbe8(0x191)]=_0x1cfbe8(0x1ad),_0x555532['laAxt']=function(_0x4efafb,_0x1047ce){return _0x4efafb===_0x1047ce;},_0x555532['LBxmN']=_0x1cfbe8(0x2b1),_0x555532[_0x1cfbe8(0x2cb)]=_0x1cfbe8(0x1e4);const _0x1feb9d=_0x555532,_0x4e5566=this[_0x1cfbe8(0x235)](),_0x2f24b8=new Array();for await(const _0x503a11 of this[_0x1cfbe8(0x201)][_0x1cfbe8(0x1cf)]['listByResourceGroup'](global_registry['cloudProviderResourceGroup'])){_0x1feb9d[_0x1cfbe8(0x146)](_0x1feb9d[_0x1cfbe8(0x234)],_0x1feb9d[_0x1cfbe8(0x234)])?_0x54884f[_0x1cfbe8(0x1a9)](_0x367f8f):_0x2f24b8[_0x1cfbe8(0x1a9)](_0x503a11);}for await(const _0x175f74 of _0x2f24b8){if(_0x1feb9d[_0x1cfbe8(0x199)](_0x1feb9d[_0x1cfbe8(0x191)],_0x1feb9d['WhyOd'])){if(_0x1feb9d[_0x1cfbe8(0x199)](_0x175f74[_0x1cfbe8(0x1a6)],_0x4e5566)){if(_0x1feb9d[_0x1cfbe8(0x11f)](_0x1feb9d['LBxmN'],_0x1feb9d[_0x1cfbe8(0x2cb)]))_0x24a017[_0x1cfbe8(0x261)]=_0x4f28c6;else return!![];}}else{_0x4c7560[_0x1cfbe8(0x268)](_0x1feb9d[_0x1cfbe8(0x20f)]);const _0x5d7f9b={};_0x5d7f9b[_0x1cfbe8(0x284)]=_0x36f16a[_0x1cfbe8(0x282)],_0x5d7f9b[_0x1cfbe8(0x2ed)]=_0x1feb9d['nsZwf'],this[_0x1cfbe8(0x237)][_0x1cfbe8(0x185)](this['rws'],_0x5d7f9b),_0x211183[_0x1cfbe8(0x2f7)]=![];}}return![];}async[a1_0x331388(0x11d)](){const _0x5957b4=a1_0x331388,_0x451314={};_0x451314[_0x5957b4(0x14d)]='Managed\x20identity\x20already\x20exists,\x20skipping',_0x451314[_0x5957b4(0x2a6)]=function(_0x28c6a3,_0x180cd3){return _0x28c6a3===_0x180cd3;},_0x451314['lWIDk']=function(_0x349bae,_0x516478){return _0x349bae!==_0x516478;},_0x451314['NshTL']=_0x5957b4(0x155),_0x451314['UgDxf']=_0x5957b4(0x1a8),_0x451314[_0x5957b4(0x2bc)]=function(_0xde0e04,_0x35d766){return _0xde0e04===_0x35d766;},_0x451314[_0x5957b4(0x136)]=_0x5957b4(0x195),_0x451314[_0x5957b4(0x2ee)]=_0x5957b4(0x2f3);const _0x438e0c=_0x451314,_0x314cd7=new Array();for await(const _0x5aa300 of this[_0x5957b4(0x193)][_0x5957b4(0x248)][_0x5957b4(0x2a4)](global_registry[_0x5957b4(0x279)])){_0x438e0c[_0x5957b4(0x118)](_0x438e0c[_0x5957b4(0x2c0)],_0x438e0c['UgDxf'])?_0x314cd7[_0x5957b4(0x1a9)](_0x5aa300):_0x341bc0[_0x5957b4(0x268)](_0x438e0c['OtIxP']);}for await(const _0x53f0e1 of _0x314cd7){if(_0x438e0c['ruylq'](_0x438e0c['qfVZI'],_0x438e0c[_0x5957b4(0x136)])){if(_0x438e0c['zLNwX'](_0x53f0e1[_0x5957b4(0x1a6)],'turboscale-managed-identity-'+this[_0x5957b4(0x181)])){if(_0x438e0c[_0x5957b4(0x2a6)](_0x438e0c[_0x5957b4(0x2ee)],_0x438e0c['GDzon']))return!![];else{if(_0x438e0c['zLNwX'](_0x3c8824['name'],_0x2ea93d))return!![];}}}else _0x2c6906[_0x5957b4(0x1a9)](..._0x3e1c89[_0x5957b4(0x153)]);}return![];}async[a1_0x331388(0x229)](_0x5110f2,_0x55181d=0x3){const _0x46ce7b=a1_0x331388,_0x3ed72b={'bdtlH':_0x46ce7b(0x247),'GQEKK':'string','tAfRW':_0x46ce7b(0x12d),'vldeQ':_0x46ce7b(0x1b7),'PDcDU':_0x46ce7b(0x134),'JprDG':function(_0x196797,_0x560687){return _0x196797===_0x560687;},'bVfsj':function(_0x2792bf,_0x14671f){return _0x2792bf===_0x14671f;},'swZYz':_0x46ce7b(0x276),'WPoCo':function(_0xcc0a15,_0x3696a7,_0x5a0581){return _0xcc0a15(_0x3696a7,_0x5a0581);},'ClhqS':function(_0x5036b3,_0x5c61d9){return _0x5036b3!==_0x5c61d9;},'aXhTu':_0x46ce7b(0x2c4),'mLwXO':'SSyyt','XZTEZ':function(_0x949825,_0x55e371){return _0x949825!==_0x55e371;},'CAoAj':'TnNQS','ELuUM':'Npwre','aFpZI':_0x46ce7b(0x1a5),'djQiT':'YDkvz','NAMDl':function(_0x25dc8f,_0x2380e6){return _0x25dc8f!==_0x2380e6;},'qpmmh':_0x46ce7b(0x2a7),'IqImS':_0x46ce7b(0x21f),'rdXrV':_0x46ce7b(0x27a),'cEPsN':function(_0x2149e3,_0x16eca9){return _0x2149e3===_0x16eca9;},'OXSgf':'QiLgk','wJCXs':_0x46ce7b(0x122),'ftKPT':function(_0x460589,_0x5de6ad){return _0x460589<=_0x5de6ad;},'CEXOW':function(_0x4c519b,_0x264aea){return _0x4c519b!==_0x264aea;},'uzSwz':_0x46ce7b(0x125),'cslVF':_0x46ce7b(0x1bb),'PRTRx':function(_0xa9903c,_0x5f1f9e){return _0xa9903c-_0x5f1f9e;}};try{if(_0x3ed72b[_0x46ce7b(0x1b0)](_0x3ed72b[_0x46ce7b(0x194)],_0x3ed72b[_0x46ce7b(0x2ae)])){const _0x18d249=new Array();for await(const _0x41b9be of this['resourceClient']['resources'][_0x46ce7b(0x2a4)](global_registry[_0x46ce7b(0x279)])){_0x3ed72b[_0x46ce7b(0x2d5)](_0x3ed72b[_0x46ce7b(0x14b)],_0x3ed72b[_0x46ce7b(0x21a)])?_0x18d249['push'](_0x41b9be):_0x459427[_0x46ce7b(0x1a9)](_0x1e8fa2[_0x46ce7b(0x1a6)]);}let _0x26c081='';for await(const _0xd0d796 of _0x18d249){if(_0x3ed72b[_0x46ce7b(0x1b0)](_0x3ed72b[_0x46ce7b(0x267)],_0x3ed72b[_0x46ce7b(0x219)])){if(_0x3ed72b[_0x46ce7b(0x13e)](_0xd0d796[_0x46ce7b(0x1a6)],_0x5110f2)){if(_0x3ed72b['NAMDl'](_0x3ed72b[_0x46ce7b(0x225)],_0x3ed72b[_0x46ce7b(0x2a3)]))_0x26c081=_0xd0d796['id'];else{const _0x1f1b85={};_0x1f1b85[_0x46ce7b(0x290)]=!![],_0x1f1b85[_0x46ce7b(0x261)]=null,_0x1f1b85[_0x46ce7b(0x207)]=_0x3ed72b[_0x46ce7b(0x25a)];const _0xedff55=_0x1f1b85;return _0xedff55;}}}else _0x3de4ee[_0x46ce7b(0x196)][_0x46ce7b(0x1a9)](_0x47085a);}const _0x5a237e=await this[_0x46ce7b(0x193)][_0x46ce7b(0x248)][_0x46ce7b(0x299)](_0x26c081,_0x3ed72b[_0x46ce7b(0x2f9)]);return _0x5a237e[_0x46ce7b(0x281)][_0x46ce7b(0x12a)];}else _0x5f25c0[_0x46ce7b(0x244)](0x0);}catch(_0x102d2d){if(_0x3ed72b['cEPsN'](_0x3ed72b[_0x46ce7b(0x2e2)],_0x3ed72b[_0x46ce7b(0x16a)])){const _0x525e33={};_0x525e33[_0x46ce7b(0x284)]=_0x3ed72b['GQEKK'],_0x525e33[_0x46ce7b(0x255)]={},_0x525e33[_0x46ce7b(0x255)]['description']=_0x3ed72b[_0x46ce7b(0x17a)];const _0x3c19f2={};_0x3c19f2['type']=_0x3ed72b[_0x46ce7b(0x23d)],_0x3c19f2[_0x46ce7b(0x255)]={},_0x3c19f2[_0x46ce7b(0x255)][_0x46ce7b(0x2de)]=_0x3ed72b[_0x46ce7b(0x17a)];const _0x51bfa3={..._0x1fb607[_0x46ce7b(0x1f7)]};_0x51bfa3[_0x46ce7b(0x1b4)]=_0x525e33,_0x51bfa3[_0x46ce7b(0x2e0)]=_0x3c19f2,_0x986f61['parameters']=_0x51bfa3;const _0x51f1b6={};_0x51f1b6[_0x46ce7b(0x20e)]=_0x3ed72b[_0x46ce7b(0x264)],_0x273019[_0x46ce7b(0x263)]=_0x51f1b6;const _0xfff05c={..._0x340631[_0x46ce7b(0x248)][0x0][_0x46ce7b(0x281)]['agentPoolProfiles'][0x0]};_0xfff05c[_0x46ce7b(0x20e)]=_0x3ed72b[_0x46ce7b(0x121)],_0x432591[_0x46ce7b(0x248)][0x0][_0x46ce7b(0x281)][_0x46ce7b(0x1ca)][0x0]=_0xfff05c;const _0x4f9a54={};_0x4f9a54['value']=_0x3bd9ae;const _0x47d8c8={};_0x47d8c8['value']=_0x25727b[0x0];const _0x23c451={..._0x551e75};_0x23c451[_0x46ce7b(0x1b4)]=_0x4f9a54,_0x23c451['subnetName']=_0x47d8c8,_0x978c19=_0x23c451;}else{if(_0x3ed72b['ftKPT'](_0x55181d,0x0)){if(_0x3ed72b[_0x46ce7b(0x152)](_0x3ed72b[_0x46ce7b(0x2c7)],_0x3ed72b[_0x46ce7b(0x111)]))return logger[_0x46ce7b(0x261)](_0x46ce7b(0x1f2)+_0x102d2d+':'+_0x102d2d[_0x46ce7b(0x13a)]),{};else _0x5da8cb[_0x46ce7b(0x1a9)](_0x43898c);}return await new Promise(_0x3d15c2=>{const _0x1ef61d=_0x46ce7b;if(_0x3ed72b[_0x1ef61d(0x13e)](_0x3ed72b[_0x1ef61d(0x256)],_0x3ed72b['swZYz']))_0x3ed72b[_0x1ef61d(0x1e7)](setTimeout,()=>_0x3d15c2(),0x3e8);else{if(_0x3ed72b['JprDG'](_0x488ab5[_0x1ef61d(0x1a6)],_0x1ef61d(0x286)+this[_0x1ef61d(0x181)]))return!![];}}),this[_0x46ce7b(0x229)](_0x5110f2,_0x3ed72b[_0x46ce7b(0x2a0)](_0x55181d,0x1));}}}async[a1_0x331388(0x141)](){const _0xbc16fc=a1_0x331388,_0x37c040={};_0x37c040[_0xbc16fc(0x23b)]=function(_0x4875c4,_0x59c8ee){return _0x4875c4===_0x59c8ee;},_0x37c040[_0xbc16fc(0x2ea)]=function(_0x25b6b1,_0x47ce95){return _0x25b6b1===_0x47ce95;},_0x37c040[_0xbc16fc(0x29f)]='ClaQF',_0x37c040['LAETq']=_0xbc16fc(0x275),_0x37c040[_0xbc16fc(0x258)]='BrowserStack',_0x37c040['ZiuHX']=function(_0x4f1c40,_0xab937b){return _0x4f1c40===_0xab937b;},_0x37c040[_0xbc16fc(0x22c)]=_0xbc16fc(0x2fb),_0x37c040[_0xbc16fc(0x1de)]=_0xbc16fc(0x2b4);const _0x2b97f0=_0x37c040;if(!this[_0xbc16fc(0x17e)]){if(_0x2b97f0[_0xbc16fc(0x2ea)](_0x2b97f0[_0xbc16fc(0x29f)],_0x2b97f0[_0xbc16fc(0x29f)]))await this[_0xbc16fc(0x27b)]();else{if(_0x2b97f0[_0xbc16fc(0x23b)](_0x15dc5e[_0xbc16fc(0x1a6)],_0x1be3a3))return!![];}}const _0x325c07=this[_0xbc16fc(0x17e)]?.['tags']||{};if(_0x325c07&&_0x2b97f0[_0xbc16fc(0x23b)](_0x325c07[_0x2b97f0['LAETq']],_0x2b97f0['lutXM'])){if(_0x2b97f0['ZiuHX'](_0x2b97f0[_0xbc16fc(0x22c)],_0x2b97f0['uiGYB']))_0x620ed5[_0xbc16fc(0x1a9)](_0x258d69);else return!![];}return![];}async[a1_0x331388(0x24f)](_0x38b80c,_0x4f6ded){const _0x23e07a=a1_0x331388,_0x229f2a={'bhwsd':function(_0x4795ec,_0x3cb964){return _0x4795ec(_0x3cb964);},'cSBrG':'Deleted\x20the\x20cluster\x20successfully'};await _0x229f2a[_0x23e07a(0x130)](deleteAgent,_0x38b80c),await _0x229f2a[_0x23e07a(0x130)](deleteRoutingDeps,_0x38b80c);const _0x56e2bf=this[_0x23e07a(0x2e1)];logger[_0x23e07a(0x268)](_0x23e07a(0x202)+this['clusterName']),await _0x56e2bf[_0x23e07a(0x1bf)]['beginDeleteAndWait'](global_registry['cloudProviderResourceGroup'],this[_0x23e07a(0x181)]),logger[_0x23e07a(0x268)](_0x229f2a[_0x23e07a(0x162)]);}async[a1_0x331388(0x220)](){const _0x4f1de1=a1_0x331388,_0x10ce3d={};_0x10ce3d[_0x4f1de1(0x2c5)]='No\x20service\x20principal\x20found',_0x10ce3d[_0x4f1de1(0x2e3)]=function(_0x2c572f,_0x2924c4){return _0x2c572f===_0x2924c4;},_0x10ce3d[_0x4f1de1(0x1a3)]=_0x4f1de1(0x238),_0x10ce3d[_0x4f1de1(0x236)]=_0x4f1de1(0x1fd),_0x10ce3d[_0x4f1de1(0x190)]=function(_0x429827,_0x418bc7){return _0x429827&&_0x418bc7;},_0x10ce3d[_0x4f1de1(0x224)]=function(_0x465f47,_0x2e71a6){return _0x465f47!==_0x2e71a6;},_0x10ce3d['NPDTR']=_0x4f1de1(0x210),_0x10ce3d[_0x4f1de1(0x2a9)]=_0x4f1de1(0x2b5),_0x10ce3d[_0x4f1de1(0x1b6)]=_0x4f1de1(0x206),_0x10ce3d['tLptk']='Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster',_0x10ce3d[_0x4f1de1(0x1d3)]=_0x4f1de1(0x265),_0x10ce3d[_0x4f1de1(0x1e5)]='Enabling\x20Workload\x20identity\x20for\x20the\x20cluster',_0x10ce3d[_0x4f1de1(0x129)]=function(_0x13f271,_0x24c574){return _0x13f271===_0x24c574;},_0x10ce3d[_0x4f1de1(0x1d2)]=_0x4f1de1(0x2bd),_0x10ce3d[_0x4f1de1(0x12c)]=_0x4f1de1(0x262);const _0x4f1296=_0x10ce3d;if(!this[_0x4f1de1(0x17e)]){if(_0x4f1296['wjSGo'](_0x4f1296[_0x4f1de1(0x1a3)],_0x4f1296[_0x4f1de1(0x236)]))throw new _0x1c5a21(_0x4f1296[_0x4f1de1(0x2c5)],_0x4f1de1(0x23a)+_0x190fcc[_0x4f1de1(0x2b3)](_0x21296c));else await this[_0x4f1de1(0x27b)]();}const _0x3ef261=this[_0x4f1de1(0x17e)],_0x24b89d=this['clusterInfo']?.[_0x4f1de1(0x19b)]?.['enabled']||![],_0x207f2d=this[_0x4f1de1(0x17e)]?.[_0x4f1de1(0x18d)]?.[_0x4f1de1(0x2d1)]?.[_0x4f1de1(0x300)]||![],_0x29e552=!this['clusterInfo']?.[_0x4f1de1(0x2f7)]||![];if(_0x4f1296[_0x4f1de1(0x190)](_0x24b89d,_0x207f2d)&&_0x29e552){if(_0x4f1296[_0x4f1de1(0x224)](_0x4f1296[_0x4f1de1(0x239)],_0x4f1296[_0x4f1de1(0x239)]))return _0xc87ce7[_0x4f1de1(0x261)]('Cannot\x20find\x20VPC\x20'+_0x7b6ec1+_0x4f1de1(0x117)+_0x2ec0c6),![];else return;}if(!_0x24b89d){if(_0x4f1296[_0x4f1de1(0x224)](_0x4f1296['ibaXT'],_0x4f1296[_0x4f1de1(0x1b6)])){logger[_0x4f1de1(0x268)](_0x4f1296[_0x4f1de1(0x1e0)]);const _0x306102={};_0x306102[_0x4f1de1(0x284)]=WS_EVENTS['RESOURCES'],_0x306102[_0x4f1de1(0x2ed)]=_0x4f1296[_0x4f1de1(0x1e0)],this[_0x4f1de1(0x237)][_0x4f1de1(0x185)](this['rws'],_0x306102),_0x3ef261[_0x4f1de1(0x19b)]['enabled']=!![];}else _0x4f1296[_0x4f1de1(0x2e3)](_0x424497['name'],_0x58ef63)&&(_0x31548d=_0x1ebab8['id']);}if(!_0x207f2d){if(_0x4f1296['HnEku'](_0x4f1296[_0x4f1de1(0x1d3)],_0x4f1296['YMRJw']))_0x5f49a9[_0x4f1de1(0x261)]=_0x98adab;else{logger['info'](_0x4f1296[_0x4f1de1(0x1e5)]);const _0x1eceed={};_0x1eceed[_0x4f1de1(0x284)]=WS_EVENTS[_0x4f1de1(0x282)],_0x1eceed[_0x4f1de1(0x2ed)]=_0x4f1296[_0x4f1de1(0x1e5)],this[_0x4f1de1(0x237)][_0x4f1de1(0x185)](this[_0x4f1de1(0x2f4)],_0x1eceed);const _0x4110ec={};_0x4110ec[_0x4f1de1(0x300)]=!![],_0x3ef261[_0x4f1de1(0x18d)]={'workloadIdentity':_0x4110ec,..._0x3ef261['securityProfile']};}}if(!_0x29e552){if(_0x4f1296[_0x4f1de1(0x129)](_0x4f1296[_0x4f1de1(0x1d2)],_0x4f1296['Rkyha'])){logger[_0x4f1de1(0x268)](_0x4f1296[_0x4f1de1(0x12c)]);const _0x383def={};_0x383def[_0x4f1de1(0x284)]=WS_EVENTS[_0x4f1de1(0x282)],_0x383def[_0x4f1de1(0x2ed)]=_0x4f1296['jcsMI'],this[_0x4f1de1(0x237)][_0x4f1de1(0x185)](this['rws'],_0x383def),_0x3ef261[_0x4f1de1(0x2f7)]=![];}else return[!![],_0x201020];}await this['containerClient'][_0x4f1de1(0x1bf)]['beginCreateOrUpdateAndWait'](global_registry[_0x4f1de1(0x279)],this[_0x4f1de1(0x181)],_0x3ef261),await this[_0x4f1de1(0x27b)]();}async['sendAzureInfoToHST'](){const _0x37b064=a1_0x331388,_0x55fe74={};_0x55fe74['XxFgk']=function(_0x596f68,_0x578832){return _0x596f68===_0x578832;},_0x55fe74['SoJOe']=_0x37b064(0x170),_0x55fe74[_0x37b064(0x2b6)]=function(_0x5bc0fc,_0xb16d63){return _0x5bc0fc===_0xb16d63;},_0x55fe74[_0x37b064(0x177)]=_0x37b064(0x2df);const _0x3247ef=_0x55fe74,_0x3b00ba=await this[_0x37b064(0x231)][_0x37b064(0x158)][_0x37b064(0x295)](global_registry[_0x37b064(0x279)]),_0x810fbd={};_0x810fbd[_0x37b064(0x113)]=global_registry['bstackUsername'],_0x810fbd[_0x37b064(0x11a)]=global_registry[_0x37b064(0x285)],_0x810fbd[_0x37b064(0x187)]=AZURE,_0x810fbd[_0x37b064(0x196)]=[];const _0x144e8d=_0x810fbd;for await(const _0x252530 of _0x3b00ba){_0x3247ef[_0x37b064(0x2b6)](_0x3247ef[_0x37b064(0x177)],_0x3247ef[_0x37b064(0x177)])?_0x144e8d[_0x37b064(0x196)]['push'](_0x252530):(_0x5e2723+=_0x3247ef[_0x37b064(0x29e)](_0x208d27[_0x37b064(0x2da)],0x0)?_0x3247ef['SoJOe']:'',_0x1c7d52['debug'](_0x37b064(0x2a2)+_0xdea074['stringify'](_0x4bd211)));}const _0x4cbf34={};_0x4cbf34[_0x37b064(0x284)]=WS_EVENTS[_0x37b064(0x282)],_0x4cbf34[_0x37b064(0x2ed)]=_0x144e8d,this['webSocketUtils'][_0x37b064(0x185)](this[_0x37b064(0x2f4)],_0x4cbf34);}async[a1_0x331388(0x2cd)](_0x3071fe){const _0x2b81d1=a1_0x331388,_0x404154={};_0x404154[_0x2b81d1(0x19d)]='Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster',_0x404154[_0x2b81d1(0x2ef)]=_0x2b81d1(0x1bd),_0x404154[_0x2b81d1(0x1dc)]=function(_0x123f4d,_0x2d065c){return _0x123f4d===_0x2d065c;},_0x404154['yogCP']='RaEEP',_0x404154[_0x2b81d1(0x29d)]=function(_0x34fe54,_0x5d00cb){return _0x34fe54!==_0x5d00cb;},_0x404154[_0x2b81d1(0x209)]='nIEmd',_0x404154[_0x2b81d1(0x1c7)]=function(_0x472b15,_0x54f372){return _0x472b15===_0x54f372;},_0x404154[_0x2b81d1(0x233)]=_0x2b81d1(0x114),_0x404154[_0x2b81d1(0x13b)]=function(_0x1e60ce,_0x4cd4c9){return _0x1e60ce===_0x4cd4c9;},_0x404154[_0x2b81d1(0x11b)]='cLXpn',_0x404154['rsGzu']=_0x2b81d1(0x1ff);const _0x58e826=_0x404154;try{if(_0x58e826[_0x2b81d1(0x1dc)](_0x58e826[_0x2b81d1(0x1d0)],_0x58e826[_0x2b81d1(0x1d0)])){const _0x5a64de=await this[_0x2b81d1(0x231)][_0x2b81d1(0x158)][_0x2b81d1(0x295)](global_registry['cloudProviderResourceGroup']);for await(const _0x334be7 of _0x5a64de){if(_0x58e826[_0x2b81d1(0x29d)](_0x58e826[_0x2b81d1(0x209)],_0x58e826[_0x2b81d1(0x209)])){_0xf9af29[_0x2b81d1(0x268)](_0x58e826['hJHlT']);const _0x264b0c={};_0x264b0c['type']=_0x774135[_0x2b81d1(0x282)],_0x264b0c['message']=_0x58e826[_0x2b81d1(0x19d)],this[_0x2b81d1(0x237)][_0x2b81d1(0x185)](this[_0x2b81d1(0x2f4)],_0x264b0c),_0x2fadf9['oidcIssuerProfile'][_0x2b81d1(0x300)]=!![];}else{if(_0x58e826[_0x2b81d1(0x1c7)](_0x334be7[_0x2b81d1(0x1a6)],_0x3071fe)){if(_0x58e826[_0x2b81d1(0x29d)](_0x58e826[_0x2b81d1(0x233)],_0x58e826[_0x2b81d1(0x233)]))_0x195739[_0x2b81d1(0x1a9)](_0x5ac46f);else return!![];}}}}else return _0x520d1b[_0x2b81d1(0x207)]=_0x58e826['MkflJ'],_0x47b501;}catch(_0x501095){return _0x58e826['iDuIl'](_0x58e826['ouFNt'],_0x58e826[_0x2b81d1(0x25d)])?!![]:(logger[_0x2b81d1(0x261)](_0x2b81d1(0x28c)+_0x3071fe+_0x2b81d1(0x117)+_0x501095),![]);}return![];}async[a1_0x331388(0x173)](_0x21af53,_0x529872){const _0x5393b3=a1_0x331388,_0x3f5252={};_0x3f5252[_0x5393b3(0x230)]=function(_0x5ac859,_0xd8f182){return _0x5ac859!==_0xd8f182;},_0x3f5252['lKrJl']=_0x5393b3(0x189),_0x3f5252['dtSdN']=function(_0x1eff77,_0x2c376d){return _0x1eff77===_0x2c376d;},_0x3f5252['HsMKV']=function(_0x3c18e3,_0x4e9aaf){return _0x3c18e3!==_0x4e9aaf;},_0x3f5252[_0x5393b3(0x2ab)]=_0x5393b3(0x1ac);const _0x5596f7=_0x3f5252;try{if(_0x5596f7['qIbjU'](_0x5596f7[_0x5393b3(0x159)],_0x5596f7['lKrJl']))return!![];else{const _0x435590=await this['networkClient']['subnets'][_0x5393b3(0x2ba)](global_registry[_0x5393b3(0x279)],_0x529872,_0x21af53[0x0]);if(_0x5596f7[_0x5393b3(0x12e)](_0x21af53[0x0],_0x435590[_0x5393b3(0x1a6)]))return _0x5596f7[_0x5393b3(0x28a)](_0x5596f7[_0x5393b3(0x2ab)],_0x5596f7[_0x5393b3(0x2ab)])?(_0x379172[_0x5393b3(0x261)]('Cannot\x20find\x20subnets\x20'+_0x83abed+_0x5393b3(0x120)+_0x2fb90b),[![],[]]):[!![],_0x21af53];}}catch(_0x4d011b){return logger[_0x5393b3(0x261)](_0x5393b3(0x1b1)+_0x21af53+'.\x20Error:\x20'+_0x4d011b),[![],[]];}return[![],[]];}async[a1_0x331388(0x14e)](){const _0x2de5b7=a1_0x331388,_0x2b6c3e={};_0x2b6c3e[_0x2de5b7(0x147)]=_0x2de5b7(0x247);const _0x1f4cdf=_0x2b6c3e,_0xa2d944={};_0xa2d944[_0x2de5b7(0x290)]=!![],_0xa2d944[_0x2de5b7(0x261)]=null,_0xa2d944[_0x2de5b7(0x207)]=_0x1f4cdf['HiiPd'];const _0x3df9cc=_0xa2d944;return _0x3df9cc;}async[a1_0x331388(0x292)](){const _0x203185=a1_0x331388,_0x39e555={};_0x39e555['cqBgB']=_0x203185(0x1f1),_0x39e555[_0x203185(0x2b0)]=_0x203185(0x270),_0x39e555[_0x203185(0x2d7)]=_0x203185(0x2e9);const _0x4c59d8=_0x39e555,_0x18981d=await this[_0x203185(0x273)][_0x203185(0x1fc)](_0x4c59d8[_0x203185(0x17c)]),_0x55e7bf={};_0x55e7bf['method']=_0x4c59d8[_0x203185(0x2b0)],_0x55e7bf[_0x203185(0x16e)]={},_0x55e7bf[_0x203185(0x16e)][_0x203185(0x2ff)]=_0x203185(0x274)+_0x18981d[_0x203185(0x287)],_0x55e7bf[_0x203185(0x16e)][_0x203185(0x137)]=_0x4c59d8[_0x203185(0x2d7)];const _0x2e1de7=_0x55e7bf;return _0x2e1de7;}async[a1_0x331388(0x124)](_0x5b4251){const _0x5e8bc7=a1_0x331388,_0x1ac44b={'mKDXc':function(_0x28037e,_0x4399b4,_0x1fcec8){return _0x28037e(_0x4399b4,_0x1fcec8);},'NvhLh':function(_0x3ad977,_0x55d2ad){return _0x3ad977===_0x55d2ad;},'dUPKy':'No\x20service\x20principal\x20found'},_0x4390c1={};_0x4390c1['principalId']='',_0x4390c1['error']=null;const _0x321e1f=_0x4390c1;try{const _0xc27cc5=_0x5e8bc7(0x19e)+_0x5b4251+'\x27',_0x361642=await this[_0x5e8bc7(0x292)](),_0x5240a0=await _0x1ac44b[_0x5e8bc7(0x1a0)](fetch,_0xc27cc5,_0x361642),_0x3b56b4=await _0x5240a0[_0x5e8bc7(0x1c6)]();if(!_0x3b56b4[_0x5e8bc7(0x21e)]||_0x1ac44b[_0x5e8bc7(0x165)](_0x3b56b4[_0x5e8bc7(0x21e)][_0x5e8bc7(0x2da)],0x0))throw new Error(_0x1ac44b[_0x5e8bc7(0x2ec)],_0x5e8bc7(0x23a)+JSON[_0x5e8bc7(0x2b3)](_0x3b56b4));_0x321e1f[_0x5e8bc7(0x1b5)]=_0x3b56b4['value'][0x0]['id'];}catch(_0x28e31d){_0x321e1f[_0x5e8bc7(0x261)]=_0x28e31d;}return _0x321e1f;}async[a1_0x331388(0x1cb)](){const _0x1f9e07=a1_0x331388,_0x2399a1={};_0x2399a1[_0x1f9e07(0x19c)]=_0x1f9e07(0x2e4),_0x2399a1[_0x1f9e07(0x145)]=_0x1f9e07(0x2b9),_0x2399a1[_0x1f9e07(0x12b)]=function(_0x5e2e4d,_0x7bdc1){return _0x5e2e4d!==_0x7bdc1;},_0x2399a1[_0x1f9e07(0x216)]=function(_0x17b0f0,_0x4197c0){return _0x17b0f0===_0x4197c0;},_0x2399a1[_0x1f9e07(0x2f0)]='No\x20attached\x20role\x20for\x20the\x20client\x20key',_0x2399a1['pwFcR']=function(_0x5f3d2b,_0x15fd93){return _0x5f3d2b===_0x15fd93;},_0x2399a1[_0x1f9e07(0x22b)]=_0x1f9e07(0x1bd),_0x2399a1[_0x1f9e07(0x26e)]=_0x1f9e07(0x170);const _0xff2ab4=_0x2399a1,_0x1827a0={};_0x1827a0['status']=![],_0x1827a0[_0x1f9e07(0x261)]=null,_0x1827a0[_0x1f9e07(0x207)]='';const _0x1cfa82=_0x1827a0;try{let _0x3dddce='';const _0x42412b=_0x1f9e07(0x184)+global_registry[_0x1f9e07(0x1f4)]+_0x1f9e07(0x15c)+global_registry[_0x1f9e07(0x279)],_0x4d2ec5=await this['getPrincipalIdFromClientId'](global_registry[_0x1f9e07(0x1d9)]);if(_0xff2ab4[_0x1f9e07(0x12b)](_0x4d2ec5[_0x1f9e07(0x261)],null))return _0x1cfa82['error']=_0x4d2ec5[_0x1f9e07(0x261)],_0x1cfa82;const _0x1cff17=_0x1f9e07(0x1cc)+_0x4d2ec5[_0x1f9e07(0x1b5)]+'\x27)',_0x5328ba={};_0x5328ba['filter']=_0x1cff17;const _0x34dd7e=await this[_0x1f9e07(0x26b)]['roleAssignments'][_0x1f9e07(0x2a1)](_0x42412b,_0x5328ba),_0x4917ef=[];for await(const _0x564a5c of _0x34dd7e){_0x4917ef[_0x1f9e07(0x1a9)](_0x564a5c);}if(_0xff2ab4[_0x1f9e07(0x216)](_0x4917ef[_0x1f9e07(0x2da)],0x0))return _0x1cfa82[_0x1f9e07(0x207)]=_0xff2ab4[_0x1f9e07(0x2f0)],_0x1cfa82;const _0xe34628=[...new Set(_0x4917ef[_0x1f9e07(0x17f)](_0xa9c37d=>_0xa9c37d['roleDefinitionId']))];if(_0xff2ab4[_0x1f9e07(0x297)](_0xe34628[_0x1f9e07(0x2da)],0x0))return _0x1cfa82[_0x1f9e07(0x207)]=_0xff2ab4[_0x1f9e07(0x22b)],_0x1cfa82;const _0x5c7f79=[],_0x2010b7=[];for(const _0x493fdf of _0xe34628){const _0x34f6fe=await this[_0x1f9e07(0x26b)]['roleDefinitions']['getById'](_0x493fdf);logger[_0x1f9e07(0x1f0)](_0x1f9e07(0x20b)+_0x34f6fe[_0x1f9e07(0x14a)]),_0x5c7f79[_0x1f9e07(0x1a9)](_0x34f6fe),logger[_0x1f9e07(0x1f0)](_0x1f9e07(0x232)+JSON['stringify'](_0x34f6fe['permissions'])),_0x34f6fe[_0x1f9e07(0x2b2)][_0x1f9e07(0x22e)](_0x2b672f=>{const _0xdb1f1f=_0x1f9e07;_0x2010b7[_0xdb1f1f(0x1a9)](..._0x2b672f[_0xdb1f1f(0x153)]);});}logger[_0x1f9e07(0x1f0)]('actionPermission\x20:\x20'+JSON[_0x1f9e07(0x2b3)](_0x2010b7)),_0xff2ab4[_0x1f9e07(0x216)](_0x2010b7[_0x1f9e07(0x2da)],0x0)&&(_0x3dddce+=_0xff2ab4['pwFcR'](_0x2010b7[_0x1f9e07(0x2da)],0x0)?_0xff2ab4[_0x1f9e07(0x26e)]:'',logger[_0x1f9e07(0x1f0)](_0x1f9e07(0x2a2)+JSON['stringify'](_0x5c7f79))),_0x1cfa82[_0x1f9e07(0x290)]=!![],Object[_0x1f9e07(0x28d)](PERMISSIONS[_0x1f9e07(0x28b)])['forEach'](([_0x15e866,_0x3be3b3])=>{const _0x4bd190=_0x1f9e07,_0x2691c0=_0x2010b7[_0x4bd190(0x20d)](_0x15e866);_0x3dddce+='\x0a\x09'+_0x3be3b3+':\x20'+(_0x2691c0?_0xff2ab4['ILfQf']:_0xff2ab4[_0x4bd190(0x145)]),!_0x2691c0&&(_0x1cfa82['status']=![]);}),_0x1cfa82[_0x1f9e07(0x207)]=_0x3dddce;}catch(_0x3951c5){_0x1cfa82[_0x1f9e07(0x261)]=_0x3951c5;}return _0x1cfa82;}}function a1_0x3b25(_0xbac08d,_0x384647){const _0x2b1b39=a1_0x2b1b();return a1_0x3b25=function(_0x3b25c3,_0x2b918b){_0x3b25c3=_0x3b25c3-0x10e;let _0x41d6b0=_0x2b1b39[_0x3b25c3];return _0x41d6b0;},a1_0x3b25(_0xbac08d,_0x384647);}const a1_0x2007d4={};a1_0x2007d4[a1_0x331388(0x22a)]=AzureCloudProvider,module['exports']=a1_0x2007d4;