function a1_0x12d6(_0x2675ef,_0x41f4ed){const _0x101243=a1_0x1012();return a1_0x12d6=function(_0x12d696,_0x988736){_0x12d696=_0x12d696-0x137;let _0x1c3147=_0x101243[_0x12d696];return _0x1c3147;},a1_0x12d6(_0x2675ef,_0x41f4ed);}const a1_0x5889f5=a1_0x12d6;function a1_0x1012(){const _0x5afded=['MLGbq','rws','Creating\x20Azure\x20storage\x20account','principalId','kPlxo','MbgQl','bNVIW','GTnzT','VDtgs','getGridHostname','bQydU','clusterAutoUpgrade','rFOGD','daysAfterCreationGreaterThan','XdOPA','ovWHc','IweWR','JXVdR','vnetSubnetID','BGHeS','NWZOs','FWIOK','hub','Ijlsf','SHyrV','ESlne','wPnIi','WVOdF','getById','resourceClient','YaSue','ljOlU','storageaccount.json','IhGuy','slice','LAccd','QFQBS','federatedidentity','createCluster','JIDal','qtVdF','VbOUr','federatedidentityuploader.json','KFrDa','exports','loDuU','LOG','setClients','@azure/arm-network','tpnGy','twWKU','Deleting\x20the\x20cluster\x20','true','allowed','OoyGa','vDnKA','managedClusters','toUpperCase','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','clientSecret','GWfpR','maxNodes','jeJFO','PdeMu','createOtherResources','split','beginDeleteAndWait','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','Iwmtq','exit','TXQtm','lXXtz','kvvUF','nUePd','xHSkL','zfcQH','56967sIpaTd','UhqdB','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','obnqr','FcURi','eYxBh','XNbOZ','userInstanceType','iMQiE','dudgH','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','stack','baseBlob','guNrC','getResourceClientId','QlXRT','isVPCPresent','js-yaml','turboscale-managed-identity-','gqGsz','pMkcC','YhkJP','hbMUS','bVmrR','rxNEZ','GexxS','PkHXu','oHAbY','blockBlob','yMSXE','rfYHT','info','IBwkW','cloudProviderTenantId','tFFRh','WqlRJ','bxLTr','gLHtW','JqiwV','EgmRO','SLWGX','deployments','getPrincipalIdFromClientId','denied','wxhON','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','16173RAIjqc','managedidentity.json','HtrYx','push','dyuxO','GRqzU','KKQfE','uyNDO','ZOkWZ','FpqVH','subnetName','entries','value','IEdYS','createFederatedAccount','AMRib','UiTrx','getClusterInfo','resources','No\x20attached\x20role\x20for\x20the\x20client\x20key','../config/constants','KPUyJ','ACTION','fVPgv','iXFLY','properties','MILtv','evCsn','Received\x20response\x20-\x20','toLowerCase','PjFrD','iROTR','HeWLW','OCjQL','hCRam','assignedTo(\x27','yXpUD','log','yusJO','kPvcH','createFederatedAccountForHubHA','rHkPW','authClient','ngZig','WqBaz','ytLND','@azure/arm-containerservice','disableLocalAccounts','cred','ExeYk','dNNeh','jneym','OyDsh','bstackUsername','Storage\x20account\x20already\x20exists,\x20skipping','FadBK','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','wLaun','TVHAG','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','DssPd','role\x20name\x20attached\x20-\x20','TLSvw','yRVpe','mkJVC','EVWCS','RlBDs','IJGHq','gYktY','NNikl','clusterRegion','OVzdq','iHRED','VxHag','createStorageAccount','DHJbU','DaEGi','nTIxi','jvhDU','HTeUi','nqFCw','HdLBQ','Olwdu','turboscale','Lkwri','error','loadBalancer','kDNyi','QsxKh','bEpEM','1|4|5|0|7|6|3|2','hkprY','LwshB','Cannot\x20find\x20VPC\x20','YnoNK','BBnyA','cFhMZ','turboscale-federated-deployment','uYgVR','qEBzv','GgkkB','tags','vGsWl','GET','otbTe','stringify','node','Cannot\x20find\x20subnets\x20','storageClient','path','headers','filters','s3Bucket','407544Walear','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','updateClusterAlreadyPresent','CXPkq','.json','VZXzi','gHHnq','hostname','pSQuJ','jWcfH','isCliToolInstalled','RESOURCES','cffon','OHwrs','aRZMH','HHNwZ','DPOAK','getStorageAccountName','actions','resourceGroups','PKqli','0|2|1|5|3|4','browserstack:managedBy','nVWOJ','21mbbpTJ','type','getToken','OYCTp','EXjgV','MWZpx','PjFft','TFQsS','vpcInfo','storageAccountName','turboscale-storageaccount-deployment','GgLRB','azureresources','LRxMQ','hSYgt','JMrxy','@azure/arm-storage','RckYX','AfvTc','LLkAA','oidcIssuerProfile','instanceType','isBrowserstackCluster','mZFfE','listAll','Attached\x20permissions\x20:\x20','eMXDK','Bearer\x20','enabled','status','IIFXg','KUyWS','name','managementPolicies','json','rGLcD','getHeader','1|0|2|5|3|4','Managed\x20identity\x20already\x20exists,\x20skipping','resourceGroup','lgMVE','isStorageAccountPresent','FJdrx','xUMkl','readFileAsync','subscriptionId','roleName','UNOrE','vpcName','cloudProviderClientId','ikqmt','createManagedIdentity','description','getResourceGroups','roleDefinitionId','ublyN','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','kowRl','Creating\x20Azure\x20managed\x20identity','debug','KOhxp','listClusterAdminCredentials','../config/logger','\x20SUBSCRIPTION\x20ID:\x20','length','networkClient','cloudProvider','No\x20service\x20principal\x20found','[variables(\x27vnetSubnetID\x27)]','ypcJM','Scblo','XdPXj','pWMWU','Action\x20permission\x20list\x20is\x20empty\x0a','Incremental','acaRD','uDzlH','fDMeE','ELZia','cloudProviderResourceGroup','method','hubHaNameSpace','JMMdR','filter','YVkbQ','1012422uIHygC','QUgyB','pHTVJ','Creating\x20Azure\x20federated\x20identity','wUHeC','AzureCloudProvider','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','umisE','No\x20CLI\x20tool\x20required','aNudv','ovaWQ','jNlGX','hubharesources','Authorization','mtlBh','YZaQy','turboscale-identity-deployment','Enabling\x20Local\x20account\x20for\x20the\x20cluster','kmkwA','gMnRb','includes','XtEEl','RTKlO','qLUTZ','ifWNz','LMDPp','UNsao','webSocketUtils','koMHp','../permissions/AZURE.json','setCachedCredsInRegistry','ulvXe','wPPSX','workloadIdentity','.\x20Error:\x20','188690HXaBnO','ilvhw','application/json','clusterName','LudXx','https://graph.microsoft.com/.default','delete','sendAzureInfoToHST','Wunbn','rmqGg','jxiOK','JAoCj','138235btjrBI','HPSCP','VuQeD','gXiXw','LgIQc','listForScope','sendEventToBackend','BrowserStack','36hhiENJ','cloudProviderClientSecret','akscluster.json','cloudProviderName','data','cloudProviderSubscriptionId','Aosts','zJipn','dgxOh','listByResourceGroup','templates','beginCreateOrUpdateAndWait','\x20CLIENT\x20SECRET:\x20','definition','hDzXn','zzMan','OXQWa','GJLiI','XaLzC','vbPRO','JHNuh','nZkbB','UpYEx','\x20TENANT\x20ID:\x20','QCQMg','pRtlU','INztv','actionPermission\x20:\x20','metadata','gboAy','utf-8','ObnKl','isManagedIdentityPresent','oDnkI','WIJak','UCHAA','virtualNetworks','false','BPFEu','variables','4346208djAGFI','roleAssignments','gnWun','USmjV','agentPoolProfiles','parse','Deleted\x20the\x20cluster\x20successfully','Wmwvd','VuJvw','accessKey','checkAccess','yXDuk','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','message','string','clusterInfo','lYInQ','permissions','sCbNx','TAKxu','wBFYX','tenantId','subnets','FmCAK','../utils/utilityMethods','BWJCs','issuerURL','forEach','jwxqg','FjFZA','fsWHv','RitLE','cunKO','parameters','ibHoz','nUNZC','QtzUo','Created\x20Azure\x20federated\x20identity','./CloudProvider','NcIds','kMsMM','bJyjg','dlhcb','KmrjK','BFLim','2023-01-31','qPrwH','VZNoS','containerClient','bstackAccesskey','zSgJF','nzQsv','EdYon','BWCbn','FoXpP','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','116XcDigU','ChTnT','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','roleDefinitions','Kvisl','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','subscriptions/','isSubnetsValid','kEobW','securityProfile','join','policy','foCKR','clientId','init','lJjQm','jGsdF'];a1_0x1012=function(){return _0x5afded;};return a1_0x1012();}(function(_0x20a5a2,_0x1ea826){const _0x4f08a4=a1_0x12d6,_0x13aa45=_0x20a5a2();while(!![]){try{const _0x4fd96e=parseInt(_0x4f08a4(0x27e))/0x1+parseInt(_0x4f08a4(0x18a))/0x2+-parseInt(_0x4f08a4(0x2ac))/0x3+-parseInt(_0x4f08a4(0x221))/0x4*(-parseInt(_0x4f08a4(0x1b9))/0x5)+-parseInt(_0x4f08a4(0x1e9))/0x6+-parseInt(_0x4f08a4(0x335))/0x7*(parseInt(_0x4f08a4(0x31d))/0x8)+-parseInt(_0x4f08a4(0x1c1))/0x9*(parseInt(_0x4f08a4(0x1ad))/0xa);if(_0x4fd96e===_0x1ea826)break;else _0x13aa45['push'](_0x13aa45['shift']());}catch(_0x188190){_0x13aa45['push'](_0x13aa45['shift']());}}}(a1_0x1012,0x6355d));const fs=require('fs'),path=require(a1_0x5889f5(0x319)),yaml=require(a1_0x5889f5(0x28f)),{logger}=require(a1_0x5889f5(0x173)),{CloudProvider}=require(a1_0x5889f5(0x20f)),{deleteRoutingDeps,deleteAgent}=require('../utils/gridComponents'),{AZURE,WS_EVENTS,global_registry}=require(a1_0x5889f5(0x2c0)),PERMISSIONS=require(a1_0x5889f5(0x1a7)),{ClientSecretCredential}=require('@azure/identity'),{NetworkManagementClient}=require(a1_0x5889f5(0x262)),{StorageManagementClient}=require(a1_0x5889f5(0x145)),{AuthorizationManagementClient}=require('@azure/arm-authorization'),{ResourceManagementClient}=require('@azure/arm-resources'),{ContainerServiceClient}=require(a1_0x5889f5(0x2da)),{runCommand}=require(a1_0x5889f5(0x201));class AzureCloudProvider extends CloudProvider{constructor(_0x3883ec,_0x46e7ea,_0x20097b,_0x5c9f6b){const _0x45122d=a1_0x5889f5,_0x4d0df={};_0x4d0df['wYHpD']=_0x45122d(0x306);const _0x5d7413=_0x4d0df,_0x37be0a=_0x5d7413['wYHpD'][_0x45122d(0x273)]('|');let _0x5a07c4=0x0;while(!![]){switch(_0x37be0a[_0x5a07c4++]){case'0':this['containerClient']=null;continue;case'1':super(AZURE,_0x3883ec,_0x46e7ea,_0x20097b,_0x5c9f6b);continue;case'2':this[_0x45122d(0x2d6)]=null;continue;case'3':this[_0x45122d(0x176)]=null;continue;case'4':this['cred']=null;continue;case'5':this[_0x45122d(0x1f8)]=null;continue;case'6':this[_0x45122d(0x24f)]=null;continue;case'7':this['storageClient']=null;continue;}break;}}async['init'](){const _0x342721=a1_0x5889f5;return await super[_0x342721(0x22f)](),this;}['setClients'](){const _0x2a843c=a1_0x5889f5,_0x60fb8b=new ClientSecretCredential(global_registry['cloudProviderTenantId'],global_registry[_0x2a843c(0x166)],global_registry[_0x2a843c(0x1c2)]);this[_0x2a843c(0x219)]=new ContainerServiceClient(_0x60fb8b,global_registry[_0x2a843c(0x1c6)]),this[_0x2a843c(0x318)]=new StorageManagementClient(_0x60fb8b,global_registry['cloudProviderSubscriptionId']),this[_0x2a843c(0x24f)]=new ResourceManagementClient(_0x60fb8b,global_registry[_0x2a843c(0x1c6)]),this[_0x2a843c(0x176)]=new NetworkManagementClient(_0x60fb8b,global_registry['cloudProviderSubscriptionId']),this[_0x2a843c(0x2d6)]=new AuthorizationManagementClient(_0x60fb8b,global_registry[_0x2a843c(0x1c6)]),this['cred']=_0x60fb8b;}['getStorageAccountName'](){const _0x242c7a=a1_0x5889f5,_0x50efd6={};_0x50efd6[_0x242c7a(0x1ba)]=function(_0x4c1791,_0x19a717){return _0x4c1791+_0x19a717;},_0x50efd6[_0x242c7a(0x241)]=_0x242c7a(0x2ff),_0x50efd6[_0x242c7a(0x263)]=function(_0x1d4311,_0xc74cad){return _0x1d4311-_0xc74cad;};const _0x332816=_0x50efd6,_0x3e1974=global_registry[_0x242c7a(0x31c)][_0x242c7a(0x273)]('-'),_0x17aeca=_0x332816[_0x242c7a(0x1ba)](_0x332816[_0x242c7a(0x241)],_0x3e1974[_0x332816[_0x242c7a(0x263)](_0x3e1974[_0x242c7a(0x175)],0x1)])[_0x242c7a(0x254)](0x0,0x18);return _0x17aeca[_0x242c7a(0x2c9)]();}[a1_0x5889f5(0x1a8)](_0x4b06ef){const _0x5da210=a1_0x5889f5,_0x3b0dd0={};_0x3b0dd0[_0x5da210(0x24b)]=_0x5da210(0x15a);const _0xa705e2=_0x3b0dd0,_0x4d8c8f=_0xa705e2[_0x5da210(0x24b)]['split']('|');let _0x4060bd=0x0;while(!![]){switch(_0x4d8c8f[_0x4060bd++]){case'0':global_registry[_0x5da210(0x1c2)]=_0x4b06ef[this[_0x5da210(0x1c4)]]['clientSecret'];continue;case'1':global_registry[_0x5da210(0x166)]=_0x4b06ef[this[_0x5da210(0x1c4)]][_0x5da210(0x22e)];continue;case'2':global_registry[_0x5da210(0x29f)]=_0x4b06ef[this[_0x5da210(0x1c4)]]['tenantId'];continue;case'3':global_registry[_0x5da210(0x184)]=_0x4b06ef[this[_0x5da210(0x1c4)]]['resourceGroup'];continue;case'4':this[_0x5da210(0x261)]();continue;case'5':global_registry[_0x5da210(0x1c6)]=_0x4b06ef[this[_0x5da210(0x1c4)]]['subscriptionId'];continue;}break;}}async['getUserInput'](_0x22fcce,_0xfb21e6){const _0x5550f3=a1_0x5889f5,_0x44d290={'ObnKl':_0x5550f3(0x190),'zzMan':function(_0x5dba39,_0x39442c){return _0x5dba39===_0x39442c;},'FadBK':_0x5550f3(0x2e2),'jwxqg':function(_0xd2df45,_0x8c6553){return _0xd2df45===_0x8c6553;},'aNudv':function(_0x4ce555,_0x2d2135){return _0x4ce555(_0x2d2135);},'GRqzU':function(_0x166b4c,_0x1ff8fd){return _0x166b4c(_0x1ff8fd);},'yQUdt':function(_0x13c575,_0x4d3f90){return _0x13c575(_0x4d3f90);},'wUHeC':function(_0x2c44b7,_0x308c95){return _0x2c44b7===_0x308c95;},'fsWHv':_0x5550f3(0x331),'Wmwvd':function(_0x21c289,_0x21435e){return _0x21c289(_0x21435e);},'UiTrx':function(_0x5529fc,_0x4e2db0){return _0x5529fc===_0x4e2db0;},'Iwmtq':function(_0x53cb48,_0x56e5bc){return _0x53cb48!==_0x56e5bc;},'pHTVJ':_0x5550f3(0x209),'DHJbU':function(_0x56ab06,_0x273785){return _0x56ab06(_0x273785);},'HSoHR':function(_0x5454d5,_0x24475c){return _0x5454d5===_0x24475c;},'BGHeS':function(_0x52a4aa,_0x9ccf3d){return _0x52a4aa===_0x9ccf3d;},'JAoCj':function(_0x4014d4,_0x23d9c0){return _0x4014d4===_0x23d9c0;},'IhGuy':function(_0x198854,_0x174348){return _0x198854===_0x174348;},'ovaWQ':_0x5550f3(0x21e),'RxbzW':_0x5550f3(0x259),'iHRED':'Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','lgMVE':function(_0x2ad646,_0x1d8fb7){return _0x2ad646===_0x1d8fb7;},'tFFRh':function(_0x567a9c,_0x5922ad){return _0x567a9c!==_0x5922ad;},'bNVIW':_0x5550f3(0x296),'bJyjg':function(_0x1b0425,_0x34cb2f){return _0x1b0425===_0x34cb2f;},'IGrgn':'lzhIX','UhqdB':function(_0x36c501,_0x490e3d){return _0x36c501<_0x490e3d;},'ZpMzZ':function(_0x5eda40,_0x125512){return _0x5eda40!==_0x125512;},'TLSvw':_0x5550f3(0x29b),'LgIQc':function(_0x553050,_0x47a421){return _0x553050+_0x47a421;},'otbTe':function(_0x27229d,_0x1be31e){return _0x27229d(_0x1be31e);},'UrEVR':'Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','JqiwV':function(_0x1f6166,_0x1cc471){return _0x1f6166(_0x1cc471);},'EBOav':function(_0x4db247,_0x30b0f4){return _0x4db247<=_0x30b0f4;},'PhOPT':function(_0x465f96,_0x36281b){return _0x465f96>_0x36281b;},'FpqVH':_0x5550f3(0x2a3),'jeJFO':_0x5550f3(0x21f),'iXFLY':function(_0x173e6a,_0x162c2e){return _0x173e6a-_0x162c2e;}},_0x5a0e8f=this[_0x5550f3(0x1c4)][_0x5550f3(0x26b)](),_0x1eef8b=await _0x44d290[_0x5550f3(0x193)](_0x22fcce,_0x5a0e8f+'\x20CLIENT\x20ID:\x20'),_0x44babe=await _0x44d290[_0x5550f3(0x193)](_0x22fcce,_0x5a0e8f+_0x5550f3(0x1cd)),_0x29049d=await _0x44d290[_0x5550f3(0x2b1)](_0x22fcce,_0x5a0e8f+_0x5550f3(0x1d8)),_0x55aabe=await _0x44d290['yQUdt'](_0x22fcce,_0x5a0e8f+_0x5550f3(0x174));global_registry[_0x5550f3(0x166)]=_0x1eef8b,global_registry[_0x5550f3(0x1c2)]=_0x44babe,global_registry[_0x5550f3(0x29f)]=_0x29049d,global_registry[_0x5550f3(0x1c6)]=_0x55aabe,this[_0x5550f3(0x261)]();const _0x3b4673=await this[_0x5550f3(0x16a)](),_0x505fa0=_0x3b4673['length'];let _0x2058b5;if(_0x44d290[_0x5550f3(0x18e)](_0x505fa0,0x0))_0x44d290[_0x5550f3(0x205)](_0x44d290[_0x5550f3(0x207)],_0x44d290[_0x5550f3(0x207)])?_0x2058b5=await _0x44d290[_0x5550f3(0x1f0)](_0x22fcce,_0x5a0e8f+'\x20RESOURCE\x20GROUP:\x20'):_0x1b536b[_0x5550f3(0x301)]=_0x4ae69;else{if(_0x44d290[_0x5550f3(0x2bc)](_0x505fa0,0x1)){if(_0x44d290[_0x5550f3(0x276)](_0x44d290['pHTVJ'],_0x44d290[_0x5550f3(0x18c)])){_0x59f6ba[_0x5550f3(0x29d)](_0x44d290[_0x5550f3(0x1e0)]);const _0x16c508={};_0x16c508[_0x5550f3(0x336)]=_0x5ad818[_0x5550f3(0x328)],_0x16c508[_0x5550f3(0x1f6)]=_0x44d290[_0x5550f3(0x1e0)],this[_0x5550f3(0x1a5)][_0x5550f3(0x1bf)](this[_0x5550f3(0x233)],_0x16c508),_0x210919[_0x5550f3(0x149)][_0x5550f3(0x151)]=!![];}else{const _0x47c3dd=await _0x44d290['DHJbU'](_0x22fcce,'Found\x20only\x20one\x20resource\x20group:\x20'+_0x3b4673[0x0]+_0x5550f3(0x280));if(_0x44d290['HSoHR'](_0x47c3dd,undefined)||_0x44d290[_0x5550f3(0x245)](_0x47c3dd,null)||!(_0x44d290[_0x5550f3(0x1b8)](_0x47c3dd['toLowerCase'](),'y')||_0x44d290[_0x5550f3(0x18e)](_0x47c3dd[_0x5550f3(0x2c9)](),'n'))){if(_0x44d290[_0x5550f3(0x253)](_0x44d290[_0x5550f3(0x194)],_0x44d290['RxbzW']))return!![];else console[_0x5550f3(0x301)](_0x44d290[_0x5550f3(0x2f4)]),process[_0x5550f3(0x277)](0x1);}if(_0x44d290[_0x5550f3(0x15d)](_0x47c3dd[_0x5550f3(0x2c9)](),'n')){if(_0x44d290[_0x5550f3(0x2a0)](_0x44d290[_0x5550f3(0x238)],_0x44d290[_0x5550f3(0x238)])){if(_0x44d290[_0x5550f3(0x1d0)](_0x56e29e[_0x5550f3(0x155)],_0x3cbdc1))return!![];}else process[_0x5550f3(0x277)](0x0);}_0x2058b5=_0x3b4673[0x0];}}else{if(_0x44d290[_0x5550f3(0x212)](_0x44d290['IGrgn'],_0x44d290['IGrgn'])){for(let _0x3668f9=0x0;_0x44d290[_0x5550f3(0x27f)](_0x3668f9,_0x3b4673[_0x5550f3(0x175)]);_0x3668f9+=0x1){_0x44d290['ZpMzZ'](_0x44d290[_0x5550f3(0x2ea)],_0x44d290[_0x5550f3(0x2ea)])?_0x25c678[_0x5550f3(0x29d)](_0x44d290[_0x5550f3(0x2e3)]):console[_0x5550f3(0x2d1)]('['+_0x44d290[_0x5550f3(0x1bd)](_0x3668f9,0x1)+']\x20'+_0x3b4673[_0x3668f9]);}const _0x12328c=await _0x44d290[_0x5550f3(0x314)](_0x22fcce,_0x44d290['UrEVR']),_0x5237c9=_0x44d290[_0x5550f3(0x2f7)](Number,_0x12328c);if(_0x44d290[_0x5550f3(0x2a4)](isNaN,_0x5237c9)||_0x44d290['EBOav'](_0x5237c9,0x0)||_0x44d290['PhOPT'](_0x5237c9,_0x505fa0)){if(_0x44d290[_0x5550f3(0x276)](_0x44d290[_0x5550f3(0x2b5)],_0x44d290[_0x5550f3(0x270)]))console[_0x5550f3(0x301)](_0x44d290[_0x5550f3(0x2f4)]),process[_0x5550f3(0x277)](0x1);else{if(_0x44d290[_0x5550f3(0x205)](_0x3425e9[_0x5550f3(0x155)],_0x16378b))return!![];}}_0x2058b5=_0x3b4673[_0x44d290[_0x5550f3(0x2c4)](_0x5237c9,0x1)];}else return _0x1a7077[_0x5550f3(0x152)][_0x5550f3(0x302)]['ingress'][0x0][_0x5550f3(0x324)];}}global_registry['cloudProviderResourceGroup']=_0x2058b5;const _0x41f24e={};return _0x41f24e[_0x5550f3(0x22e)]=_0x1eef8b,_0x41f24e[_0x5550f3(0x26d)]=_0x44babe,_0x41f24e[_0x5550f3(0x1fe)]=_0x29049d,_0x41f24e[_0x5550f3(0x162)]=_0x55aabe,_0x41f24e['resourceGroup']=_0x2058b5,_0xfb21e6['cloudProvider'][AZURE]=_0x41f24e,_0xfb21e6;}async[a1_0x5889f5(0x16a)](){const _0x54360a=a1_0x5889f5,_0x2c88e7={};_0x2c88e7[_0x54360a(0x291)]=function(_0x1eef14,_0x1a3751){return _0x1eef14!==_0x1a3751;},_0x2c88e7[_0x54360a(0x30a)]=_0x54360a(0x1a6),_0x2c88e7['evCsn']=function(_0x5c626b,_0x40d22e){return _0x5c626b!==_0x40d22e;},_0x2c88e7[_0x54360a(0x1eb)]='ApLiD',_0x2c88e7[_0x54360a(0x247)]=_0x54360a(0x20c);const _0xc90244=_0x2c88e7,_0x5daeb7=[];try{if(_0xc90244[_0x54360a(0x291)](_0xc90244[_0x54360a(0x30a)],_0xc90244[_0x54360a(0x30a)]))_0x2800a7['push'](_0x106ff1[_0x54360a(0x155)]);else{const _0x4ec037=await this['resourceClient'][_0x54360a(0x330)]['list']();for await(const _0x568106 of _0x4ec037){if(_0xc90244[_0x54360a(0x2c7)](_0xc90244[_0x54360a(0x1eb)],_0xc90244['FWIOK']))_0x5daeb7[_0x54360a(0x2af)](_0x568106[_0x54360a(0x155)]);else return _0x4e50d3[_0x54360a(0x301)]=_0x4344ae[_0x54360a(0x301)],_0x21ad55;}}}catch(_0x138e6a){}return _0x5daeb7;}async[a1_0x5889f5(0x2bd)](){const _0x2c06a0=a1_0x5889f5;return this['clusterInfo']=await this[_0x2c06a0(0x219)][_0x2c06a0(0x26a)]['get'](global_registry[_0x2c06a0(0x184)],this['clusterName']),this[_0x2c06a0(0x1f8)];}async['getKubeConfigData'](){const _0x4d2501=a1_0x5889f5,_0x5cc5ef=await this[_0x4d2501(0x219)][_0x4d2501(0x26a)][_0x4d2501(0x172)](global_registry[_0x4d2501(0x184)],this[_0x4d2501(0x1b0)]),_0x2bfb7d=_0x5cc5ef['kubeconfigs'][0x0]['value']['toString']();return _0x2bfb7d;}[a1_0x5889f5(0x23b)](_0x5c88f9){const _0x4961ee=a1_0x5889f5;return _0x5c88f9[_0x4961ee(0x152)][_0x4961ee(0x302)]['ingress'][0x0][_0x4961ee(0x324)];}async['isClusterPresent'](){const _0x230e2=a1_0x5889f5,_0x5d21d1={};_0x5d21d1[_0x230e2(0x250)]=_0x230e2(0x332),_0x5d21d1[_0x230e2(0x1d5)]=function(_0x151fff,_0x4c7a18){return _0x151fff===_0x4c7a18;},_0x5d21d1[_0x230e2(0x171)]='yqTgK',_0x5d21d1[_0x230e2(0x2bb)]=_0x230e2(0x139),_0x5d21d1[_0x230e2(0x32a)]=function(_0x43e93f,_0x470dbe){return _0x43e93f!==_0x470dbe;},_0x5d21d1[_0x230e2(0x1d3)]=_0x230e2(0x1b5),_0x5d21d1[_0x230e2(0x2cb)]=function(_0x363ddb,_0x436c4a){return _0x363ddb!==_0x436c4a;},_0x5d21d1['dNNeh']='SPmXm';const _0x3a749a=_0x5d21d1,_0x56fc5e=new Array();for await(const _0x353051 of this[_0x230e2(0x219)][_0x230e2(0x26a)][_0x230e2(0x1ca)](global_registry[_0x230e2(0x184)])){if(_0x3a749a[_0x230e2(0x1d5)](_0x3a749a['KOhxp'],_0x3a749a['AMRib'])){const _0x341c1d=_0x3a749a[_0x230e2(0x250)][_0x230e2(0x273)]('|');let _0x3ad4ae=0x0;while(!![]){switch(_0x341c1d[_0x3ad4ae++]){case'0':_0x39f29c[_0x230e2(0x166)]=_0x17fb93[this[_0x230e2(0x1c4)]]['clientId'];continue;case'1':_0x2d3895['cloudProviderTenantId']=_0x2a67c4[this[_0x230e2(0x1c4)]][_0x230e2(0x1fe)];continue;case'2':_0xd13939[_0x230e2(0x1c2)]=_0x4abc23[this['cloudProviderName']][_0x230e2(0x26d)];continue;case'3':_0x51e1bd[_0x230e2(0x184)]=_0x1cb274[this[_0x230e2(0x1c4)]][_0x230e2(0x15c)];continue;case'4':this['setClients']();continue;case'5':_0x5e5380[_0x230e2(0x1c6)]=_0x37916a[this[_0x230e2(0x1c4)]][_0x230e2(0x162)];continue;}break;}}else _0x56fc5e[_0x230e2(0x2af)](_0x353051);}for await(const _0x3356d4 of _0x56fc5e){if(_0x3a749a[_0x230e2(0x32a)](_0x3a749a[_0x230e2(0x1d3)],_0x3a749a[_0x230e2(0x1d3)]))_0x109c96[_0x230e2(0x2af)](_0x5cfd4b);else{if(_0x3a749a['JHNuh'](_0x3356d4[_0x230e2(0x155)],this[_0x230e2(0x1b0)]))return _0x3a749a[_0x230e2(0x2cb)](_0x3a749a[_0x230e2(0x2de)],_0x3a749a[_0x230e2(0x2de)])?!![]:(await this[_0x230e2(0x2bd)](),!![]);}}return![];}async['setupNewCluster'](_0x3897a3=null,_0x4ab5f4=null){const _0x47a49d=a1_0x5889f5,_0x3e065f={};_0x3e065f[_0x47a49d(0x17c)]='2|0|5|4|1|3',_0x3e065f[_0x47a49d(0x2f1)]=_0x47a49d(0x26c);const _0x40c414=_0x3e065f,_0x35df63=_0x40c414[_0x47a49d(0x17c)]['split']('|');let _0x28c5d0=0x0;while(!![]){switch(_0x35df63[_0x28c5d0++]){case'0':const _0xe225b2={};_0xe225b2[_0x47a49d(0x336)]=WS_EVENTS['LOG'],_0xe225b2[_0x47a49d(0x1f6)]=_0x40c414['NNikl'],this[_0x47a49d(0x1a5)]['sendEventToBackend'](this[_0x47a49d(0x233)],_0xe225b2);continue;case'1':await this[_0x47a49d(0x272)]();continue;case'2':this[_0x47a49d(0x1b4)]();continue;case'3':return[_0x3897a3,_0x4ab5f4];case'4':await this[_0x47a49d(0x258)](_0x3897a3,_0x4ab5f4);continue;case'5':logger[_0x47a49d(0x29d)](_0x40c414[_0x47a49d(0x2f1)]);continue;}break;}}async[a1_0x5889f5(0x258)](_0x46c174=null,_0x29734a=null){const _0x34e4e8=a1_0x5889f5,_0x4db273={};_0x4db273[_0x34e4e8(0x2f5)]=_0x34e4e8(0x1cb),_0x4db273[_0x34e4e8(0x181)]=_0x34e4e8(0x141),_0x4db273[_0x34e4e8(0x32d)]=_0x34e4e8(0x1c3),_0x4db273[_0x34e4e8(0x146)]=_0x34e4e8(0x1df),_0x4db273[_0x34e4e8(0x1de)]=_0x34e4e8(0x266),_0x4db273[_0x34e4e8(0x310)]=_0x34e4e8(0x1e6),_0x4db273[_0x34e4e8(0x1d1)]=function(_0x407fdd,_0x1438b9){return _0x407fdd!==_0x1438b9;},_0x4db273['cFhMZ']=function(_0x2d886b,_0x354c77){return _0x2d886b!==_0x354c77;},_0x4db273['lYInQ']=_0x34e4e8(0x2e6),_0x4db273[_0x34e4e8(0x2f8)]='bzedl',_0x4db273[_0x34e4e8(0x199)]=_0x34e4e8(0x1f7),_0x4db273[_0x34e4e8(0x307)]=_0x34e4e8(0x2e7),_0x4db273[_0x34e4e8(0x143)]=_0x34e4e8(0x226),_0x4db273['LLkAA']=_0x34e4e8(0x179),_0x4db273[_0x34e4e8(0x158)]='turboscale-cluster-deployment',_0x4db273['tcfNu']=_0x34e4e8(0x17f);const _0x196474=_0x4db273;let _0x3be133=await fs[_0x34e4e8(0x161)](path[_0x34e4e8(0x22b)](__dirname,'..',_0x196474[_0x34e4e8(0x2f5)],_0x196474[_0x34e4e8(0x181)],_0x196474[_0x34e4e8(0x32d)]),_0x196474[_0x34e4e8(0x146)]);_0x3be133=JSON[_0x34e4e8(0x1ee)](_0x3be133);const _0xd896c4={};_0xd896c4[_0x34e4e8(0x2b8)]=this['clusterName'];const _0x2b6c9a={};_0x2b6c9a[_0x34e4e8(0x2b8)]=global_registry[_0x34e4e8(0x2f2)];const _0x54a6f3={};_0x54a6f3[_0x34e4e8(0x2b8)]=global_registry[_0x34e4e8(0x14a)];const _0x3ae17a={};_0x3ae17a[_0x34e4e8(0x2b8)]=global_registry[_0x34e4e8(0x26f)];const _0x29f4e6={};_0x29f4e6[_0x34e4e8(0x2b8)]=global_registry['clusterAutoUpgrade']?_0x196474[_0x34e4e8(0x1de)]:_0x196474[_0x34e4e8(0x310)];const _0x266324={};_0x266324['clusterName']=_0xd896c4,_0x266324['location']=_0x2b6c9a,_0x266324[_0x34e4e8(0x285)]=_0x54a6f3,_0x266324['userMaxNodes']=_0x3ae17a,_0x266324[_0x34e4e8(0x23d)]=_0x29f4e6;let _0x32b289=_0x266324;if(_0x196474[_0x34e4e8(0x1d1)](_0x46c174,null)&&_0x196474['OXQWa'](_0x29734a,null)){if(_0x196474[_0x34e4e8(0x30c)](_0x196474[_0x34e4e8(0x1f9)],_0x196474[_0x34e4e8(0x2f8)])){const _0x3eef67={};_0x3eef67[_0x34e4e8(0x336)]=_0x196474['YZaQy'],_0x3eef67[_0x34e4e8(0x1dd)]={},_0x3eef67[_0x34e4e8(0x1dd)][_0x34e4e8(0x169)]=_0x196474[_0x34e4e8(0x307)];const _0x246ea8={};_0x246ea8['type']=_0x196474['YZaQy'],_0x246ea8['metadata']={},_0x246ea8['metadata'][_0x34e4e8(0x169)]=_0x196474[_0x34e4e8(0x307)],_0x3be133['parameters']={..._0x3be133[_0x34e4e8(0x20a)],'vpcName':_0x3eef67,'subnetName':_0x246ea8};const _0x4664c3={};_0x4664c3['vnetSubnetID']=_0x196474[_0x34e4e8(0x143)],_0x3be133[_0x34e4e8(0x1e8)]=_0x4664c3,_0x3be133[_0x34e4e8(0x2be)][0x0]['properties'][_0x34e4e8(0x1ed)][0x0]={..._0x3be133['resources'][0x0]['properties'][_0x34e4e8(0x1ed)][0x0],'vnetSubnetID':_0x196474[_0x34e4e8(0x148)]};const _0x50ded2={};_0x50ded2[_0x34e4e8(0x2b8)]=_0x46c174;const _0x2ecdf8={};_0x2ecdf8[_0x34e4e8(0x2b8)]=_0x29734a[0x0],_0x32b289={..._0x32b289,'vpcName':_0x50ded2,'subnetName':_0x2ecdf8};}else _0xd25ba5[_0x34e4e8(0x2af)](_0x2197c8);}await this[_0x34e4e8(0x24f)][_0x34e4e8(0x2a7)]['beginCreateOrUpdateAndWait'](global_registry['cloudProviderResourceGroup'],_0x196474['rGLcD'],{'properties':{'template':_0x3be133,'mode':_0x196474['tcfNu'],'parameters':_0x32b289}});}async[a1_0x5889f5(0x272)](){const _0x4caca6=a1_0x5889f5,_0x4ec2fe={'eMXDK':function(_0x63987c,_0xd4803d,_0x425192){return _0x63987c(_0xd4803d,_0x425192);},'LudXx':_0x4caca6(0x267),'KNPpc':'denied','TXQtm':function(_0x45bfae,_0x4bb18f){return _0x45bfae===_0x4bb18f;},'SHyrV':'fUCKk','EXrNY':_0x4caca6(0x234),'OyDsh':function(_0x598cac,_0x2024df){return _0x598cac!==_0x2024df;},'Ijlsf':_0x4caca6(0x326),'NXaBe':'DRNts','OoyGa':_0x4caca6(0x2e2),'BBnyA':_0x4caca6(0x19f),'FjnPE':_0x4caca6(0x16f),'foCKR':_0x4caca6(0x325),'LwshB':_0x4caca6(0x189),'pRtlU':_0x4caca6(0x15b),'vQmiC':_0x4caca6(0x18d),'xHSkL':_0x4caca6(0x20e)},_0x174e77=await this[_0x4caca6(0x15e)]();if(!_0x174e77){if(_0x4ec2fe[_0x4caca6(0x278)](_0x4ec2fe[_0x4caca6(0x24a)],_0x4ec2fe[_0x4caca6(0x24a)])){const _0x2f4a3c={};_0x2f4a3c[_0x4caca6(0x336)]=WS_EVENTS[_0x4caca6(0x260)],_0x2f4a3c[_0x4caca6(0x1f6)]=_0x4ec2fe['EXrNY'],this['webSocketUtils'][_0x4caca6(0x1bf)](this['rws'],_0x2f4a3c),logger[_0x4caca6(0x29d)](_0x4ec2fe['EXrNY']),await this[_0x4caca6(0x2f6)]();}else _0x561b60[_0x4caca6(0x13d)][_0x4caca6(0x2af)](_0x43ebfd);}else _0x4ec2fe[_0x4caca6(0x2e0)](_0x4ec2fe[_0x4caca6(0x249)],_0x4ec2fe['NXaBe'])?logger[_0x4caca6(0x29d)](_0x4ec2fe[_0x4caca6(0x268)]):_0x2e8293['status']=![];const _0x14bf1a=await this[_0x4caca6(0x1e1)]();if(!_0x14bf1a){if(_0x4ec2fe[_0x4caca6(0x278)](_0x4ec2fe[_0x4caca6(0x30b)],_0x4ec2fe[_0x4caca6(0x30b)])){const _0xe4bb13={};_0xe4bb13[_0x4caca6(0x336)]=WS_EVENTS[_0x4caca6(0x260)],_0xe4bb13[_0x4caca6(0x1f6)]=_0x4ec2fe['FjnPE'],this[_0x4caca6(0x1a5)]['sendEventToBackend'](this[_0x4caca6(0x233)],_0xe4bb13),logger[_0x4caca6(0x29d)](_0x4ec2fe['FjnPE']),await this[_0x4caca6(0x168)]();}else _0x4ec2fe[_0x4caca6(0x14f)](_0x472424,()=>_0xb9f818(),0x3e8);}else{if(_0x4ec2fe[_0x4caca6(0x2e0)](_0x4ec2fe[_0x4caca6(0x22d)],_0x4ec2fe[_0x4caca6(0x308)]))logger['info'](_0x4ec2fe[_0x4caca6(0x1da)]);else{const _0x3a632d=_0x4d2433[_0x4caca6(0x19e)](_0x36113c);_0x349e6f+='\x0a\x09'+_0x119192+':\x20'+(_0x3a632d?_0x4ec2fe[_0x4caca6(0x1b1)]:_0x4ec2fe['KNPpc']),!_0x3a632d&&(_0x1d2b1e['status']=![]);}}logger[_0x4caca6(0x29d)](_0x4ec2fe['vQmiC']),await this[_0x4caca6(0x2ba)](),logger[_0x4caca6(0x29d)](_0x4ec2fe[_0x4caca6(0x27c)]);}async[a1_0x5889f5(0x2f6)](){const _0xca79e9=a1_0x5889f5,_0x2cc4f3={};_0x2cc4f3['GexxS']=_0xca79e9(0x1cb),_0x2cc4f3[_0xca79e9(0x2d3)]=_0xca79e9(0x141),_0x2cc4f3[_0xca79e9(0x1a2)]=_0xca79e9(0x252),_0x2cc4f3[_0xca79e9(0x29c)]='utf-8',_0x2cc4f3[_0xca79e9(0x2d7)]=_0xca79e9(0x13f),_0x2cc4f3[_0xca79e9(0x16c)]='Incremental',_0x2cc4f3[_0xca79e9(0x213)]='Blob\x20delete\x20lifecycle',_0x2cc4f3[_0xca79e9(0x2cd)]='Lifecycle',_0x2cc4f3[_0xca79e9(0x293)]=_0xca79e9(0x29a),_0x2cc4f3[_0xca79e9(0x23a)]='default';const _0x557328=_0x2cc4f3;let _0x1c05ee=await fs[_0xca79e9(0x161)](path[_0xca79e9(0x22b)](__dirname,'..',_0x557328[_0xca79e9(0x297)],_0x557328[_0xca79e9(0x2d3)],_0x557328['ifWNz']),_0x557328[_0xca79e9(0x29c)]);_0x1c05ee=JSON['parse'](_0x1c05ee);const _0x11596b=this[_0xca79e9(0x32e)](),_0xa171cc={};_0xa171cc[_0xca79e9(0x2b8)]=_0x11596b;const _0x2ad951={};_0x2ad951[_0xca79e9(0x13e)]=_0xa171cc,await this['resourceClient']['deployments'][_0xca79e9(0x1cc)](global_registry[_0xca79e9(0x184)],_0x557328[_0xca79e9(0x2d7)],{'properties':{'template':_0x1c05ee,'mode':_0x557328[_0xca79e9(0x16c)],'parameters':_0x2ad951}});const _0x2a0cb5={};_0x2a0cb5[_0xca79e9(0x23f)]=0x3c;const _0x44be01={};_0x44be01[_0xca79e9(0x1b3)]=_0x2a0cb5;const _0x3b7d63={};_0x3b7d63[_0xca79e9(0x28a)]=_0x44be01;const _0x500fee={};_0x500fee[_0xca79e9(0x151)]=!![],_0x500fee[_0xca79e9(0x155)]=_0x557328[_0xca79e9(0x213)],_0x500fee[_0xca79e9(0x336)]=_0x557328[_0xca79e9(0x2cd)],_0x500fee[_0xca79e9(0x1ce)]={},_0x500fee[_0xca79e9(0x1ce)][_0xca79e9(0x32f)]=_0x3b7d63,_0x500fee[_0xca79e9(0x1ce)][_0xca79e9(0x31b)]={},_0x500fee[_0xca79e9(0x1ce)][_0xca79e9(0x31b)]['blobTypes']=[_0x557328[_0xca79e9(0x293)]];const _0x37be6d={};_0x37be6d['rules']=[_0x500fee];const _0x264b35={};_0x264b35[_0xca79e9(0x22c)]=_0x37be6d;const _0x512fac=_0x264b35;await this[_0xca79e9(0x318)][_0xca79e9(0x156)]['createOrUpdate'](global_registry[_0xca79e9(0x184)],_0x11596b,_0x557328[_0xca79e9(0x23a)],_0x512fac);}async[a1_0x5889f5(0x168)](){const _0xa577f8=a1_0x5889f5,_0x3e0d7a={};_0x3e0d7a[_0xa577f8(0x2eb)]=_0xa577f8(0x1cb),_0x3e0d7a[_0xa577f8(0x17d)]=_0xa577f8(0x141),_0x3e0d7a[_0xa577f8(0x191)]=_0xa577f8(0x2ad),_0x3e0d7a[_0xa577f8(0x23c)]=_0xa577f8(0x1df),_0x3e0d7a['OYCTp']=_0xa577f8(0x19a),_0x3e0d7a[_0xa577f8(0x1fd)]=_0xa577f8(0x17f);const _0x3fd505=_0x3e0d7a;let _0x1747d6=await fs[_0xa577f8(0x161)](path[_0xa577f8(0x22b)](__dirname,'..',_0x3fd505[_0xa577f8(0x2eb)],_0x3fd505[_0xa577f8(0x17d)],_0x3fd505[_0xa577f8(0x191)]),_0x3fd505[_0xa577f8(0x23c)]);_0x1747d6=JSON[_0xa577f8(0x1ee)](_0x1747d6),await this['resourceClient'][_0xa577f8(0x2a7)][_0xa577f8(0x1cc)](global_registry[_0xa577f8(0x184)],_0x3fd505[_0xa577f8(0x138)],{'properties':{'template':_0x1747d6,'mode':_0x3fd505[_0xa577f8(0x1fd)],'parameters':{'clusterName':{'value':this[_0xa577f8(0x1b0)]}}}});}async[a1_0x5889f5(0x2ba)](){const _0x19cb86=a1_0x5889f5,_0x40079c={};_0x40079c[_0x19cb86(0x1bc)]=function(_0x3553c3,_0x160a19){return _0x3553c3===_0x160a19;},_0x40079c[_0x19cb86(0x1d6)]=_0x19cb86(0x19d),_0x40079c[_0x19cb86(0x25b)]=_0x19cb86(0x269),_0x40079c['NUdmJ']=_0x19cb86(0x248),_0x40079c['vbPRO']=_0x19cb86(0x316),_0x40079c[_0x19cb86(0x284)]=function(_0x15237d,_0x30f596){return _0x15237d!==_0x30f596;},_0x40079c[_0x19cb86(0x18b)]='auRIp',_0x40079c['WIJak']=_0x19cb86(0x2d8),_0x40079c[_0x19cb86(0x2dd)]=_0x19cb86(0x1cb),_0x40079c[_0x19cb86(0x1db)]='azureresources',_0x40079c['NcIds']=_0x19cb86(0x1df),_0x40079c[_0x19cb86(0x1ae)]=_0x19cb86(0x30d),_0x40079c[_0x19cb86(0x255)]=_0x19cb86(0x17f);const _0x23b43c=_0x40079c;!this[_0x19cb86(0x1f8)]&&(_0x23b43c[_0x19cb86(0x1bc)](_0x23b43c['nZkbB'],_0x23b43c[_0x19cb86(0x25b)])?_0x127f58[_0x19cb86(0x2af)](_0x52ef02):await this['getClusterInfo']());const _0x24cb79=this['clusterInfo']?.[_0x19cb86(0x149)]?.[_0x19cb86(0x203)],_0x39e01d=[_0x23b43c['NUdmJ'],_0x23b43c[_0x19cb86(0x1d4)]];for await(const _0x14728f of _0x39e01d){if(_0x23b43c[_0x19cb86(0x284)](_0x23b43c[_0x19cb86(0x18b)],_0x23b43c[_0x19cb86(0x1e3)])){let _0xec3e04=await fs[_0x19cb86(0x161)](path[_0x19cb86(0x22b)](__dirname,'..',_0x23b43c[_0x19cb86(0x2dd)],_0x23b43c[_0x19cb86(0x1db)],_0x19cb86(0x257)+_0x14728f+_0x19cb86(0x321)),_0x23b43c[_0x19cb86(0x210)]);_0xec3e04=JSON[_0x19cb86(0x1ee)](_0xec3e04);const _0x1578ed={};_0x1578ed[_0x19cb86(0x2b8)]=_0x24cb79,await this[_0x19cb86(0x24f)]['deployments'][_0x19cb86(0x1cc)](global_registry[_0x19cb86(0x184)],_0x23b43c[_0x19cb86(0x1ae)],{'properties':{'template':_0xec3e04,'mode':_0x23b43c[_0x19cb86(0x255)],'parameters':{'oidcIssuer':_0x1578ed,'gridName':{'value':this['gridName']},'clusterName':{'value':this[_0x19cb86(0x1b0)]}}}});}else _0x45413b=_0xb4acab['id'];}}async['setupHubHa'](_0x4ebfeb,_0x16bde3,_0x29bbf7,_0x877d30,_0x3714ae){const _0x3eaae8=a1_0x5889f5,_0x568edc={};_0x568edc['FjFZA']=_0x3eaae8(0x223),_0x568edc[_0x3eaae8(0x1cf)]=_0x3eaae8(0x2e4);const _0x29bf2a=_0x568edc,_0x44a6f3={};_0x44a6f3[_0x3eaae8(0x336)]=WS_EVENTS[_0x3eaae8(0x260)],_0x44a6f3[_0x3eaae8(0x1f6)]=_0x29bf2a[_0x3eaae8(0x206)],this[_0x3eaae8(0x1a5)]['sendEventToBackend'](this[_0x3eaae8(0x233)],_0x44a6f3),logger[_0x3eaae8(0x29d)](_0x29bf2a[_0x3eaae8(0x206)]),await this[_0x3eaae8(0x2d4)]();const _0x253b63={};_0x253b63[_0x3eaae8(0x336)]=WS_EVENTS[_0x3eaae8(0x260)],_0x253b63['message']=_0x29bf2a[_0x3eaae8(0x1cf)],this[_0x3eaae8(0x1a5)][_0x3eaae8(0x1bf)](this[_0x3eaae8(0x233)],_0x253b63);}async[a1_0x5889f5(0x2d4)](){const _0x468b18=a1_0x5889f5,_0x13209f={};_0x13209f['USmjV']=function(_0x3857a8,_0x3cb715){return _0x3857a8+_0x3cb715;},_0x13209f[_0x468b18(0x300)]=function(_0x40c69a,_0x346361){return _0x40c69a===_0x346361;},_0x13209f['ikqmt']=_0x468b18(0x183),_0x13209f[_0x468b18(0x2aa)]=_0x468b18(0x303),_0x13209f[_0x468b18(0x1c8)]=_0x468b18(0x1cb),_0x13209f[_0x468b18(0x243)]=_0x468b18(0x196),_0x13209f[_0x468b18(0x180)]=_0x468b18(0x25c),_0x13209f[_0x468b18(0x1e4)]=_0x468b18(0x1df),_0x13209f[_0x468b18(0x16e)]=_0x468b18(0x30d),_0x13209f['hKbfU']=_0x468b18(0x17f);const _0x91af1b=_0x13209f;!this[_0x468b18(0x1f8)]&&(_0x91af1b[_0x468b18(0x300)](_0x91af1b[_0x468b18(0x167)],_0x91af1b['wxhON'])?_0x2a421a[_0x468b18(0x2d1)]('['+_0x91af1b[_0x468b18(0x1ec)](_0x2a1160,0x1)+']\x20'+_0x52b5f1[_0x206d92]):await this[_0x468b18(0x2bd)]());const _0x266536=this[_0x468b18(0x1f8)]?.['oidcIssuerProfile']?.[_0x468b18(0x203)];let _0x2a9a0b=await fs[_0x468b18(0x161)](path[_0x468b18(0x22b)](__dirname,'..',_0x91af1b[_0x468b18(0x1c8)],_0x91af1b[_0x468b18(0x243)],_0x91af1b[_0x468b18(0x180)]),_0x91af1b[_0x468b18(0x1e4)]);_0x2a9a0b=JSON[_0x468b18(0x1ee)](_0x2a9a0b);const _0x1a494e={};_0x1a494e[_0x468b18(0x2b8)]=_0x266536,await this[_0x468b18(0x24f)][_0x468b18(0x2a7)][_0x468b18(0x1cc)](global_registry[_0x468b18(0x184)],_0x91af1b[_0x468b18(0x16e)],{'properties':{'template':_0x2a9a0b,'mode':_0x91af1b['hKbfU'],'parameters':{'oidcIssuer':_0x1a494e,'namespace':{'value':global_registry[_0x468b18(0x186)]},'clusterName':{'value':this['clusterName']}}}});}async[a1_0x5889f5(0x15e)](){const _0x1a2dd9=a1_0x5889f5,_0x4e4f82={};_0x4e4f82[_0x1a2dd9(0x1e2)]='Managed\x20identity\x20already\x20exists,\x20skipping',_0x4e4f82[_0x1a2dd9(0x2fa)]=_0x1a2dd9(0x1f7),_0x4e4f82[_0x1a2dd9(0x246)]=_0x1a2dd9(0x2e7),_0x4e4f82['ZkOXz']=_0x1a2dd9(0x226),_0x4e4f82['XdOPA']=_0x1a2dd9(0x179),_0x4e4f82[_0x1a2dd9(0x264)]=function(_0x537848,_0x23d523){return _0x537848!==_0x23d523;},_0x4e4f82[_0x1a2dd9(0x2c3)]=_0x1a2dd9(0x1d7),_0x4e4f82[_0x1a2dd9(0x1aa)]=_0x1a2dd9(0x20d),_0x4e4f82[_0x1a2dd9(0x322)]=function(_0x28049d,_0x58750f){return _0x28049d===_0x58750f;},_0x4e4f82[_0x1a2dd9(0x27b)]=_0x1a2dd9(0x21d),_0x4e4f82[_0x1a2dd9(0x32c)]=_0x1a2dd9(0x25a),_0x4e4f82[_0x1a2dd9(0x2c6)]=function(_0x1a2be0,_0x5ae81b){return _0x1a2be0===_0x5ae81b;},_0x4e4f82[_0x1a2dd9(0x2fd)]=function(_0xc7b664,_0x3e18ea){return _0xc7b664===_0x3e18ea;},_0x4e4f82[_0x1a2dd9(0x142)]=_0x1a2dd9(0x312),_0x4e4f82[_0x1a2dd9(0x281)]=_0x1a2dd9(0x218);const _0x536d60=_0x4e4f82,_0x299f70=this[_0x1a2dd9(0x32e)](),_0x46a21c=new Array();for await(const _0x394b46 of this['storageClient']['storageAccounts']['listByResourceGroup'](global_registry[_0x1a2dd9(0x184)])){_0x536d60[_0x1a2dd9(0x264)](_0x536d60[_0x1a2dd9(0x2c3)],_0x536d60[_0x1a2dd9(0x1aa)])?_0x46a21c['push'](_0x394b46):_0x2fd40c[_0x1a2dd9(0x29d)](_0x536d60[_0x1a2dd9(0x1e2)]);}for await(const _0x2ff223 of _0x46a21c){if(_0x536d60['VZXzi'](_0x536d60[_0x1a2dd9(0x27b)],_0x536d60[_0x1a2dd9(0x32c)]))_0x47592e['push'](_0x30176e);else{if(_0x536d60[_0x1a2dd9(0x2c6)](_0x2ff223[_0x1a2dd9(0x155)],_0x299f70)){if(_0x536d60['HdLBQ'](_0x536d60[_0x1a2dd9(0x142)],_0x536d60[_0x1a2dd9(0x281)])){const _0x3b6bf3={};_0x3b6bf3[_0x1a2dd9(0x336)]=_0x536d60['jvhDU'],_0x3b6bf3[_0x1a2dd9(0x1dd)]={},_0x3b6bf3[_0x1a2dd9(0x1dd)]['description']=_0x536d60[_0x1a2dd9(0x246)];const _0x79b986={};_0x79b986[_0x1a2dd9(0x336)]=_0x536d60['jvhDU'],_0x79b986[_0x1a2dd9(0x1dd)]={},_0x79b986[_0x1a2dd9(0x1dd)][_0x1a2dd9(0x169)]=_0x536d60[_0x1a2dd9(0x246)];const _0x1ac7a7={..._0x26d0f7[_0x1a2dd9(0x20a)]};_0x1ac7a7[_0x1a2dd9(0x165)]=_0x3b6bf3,_0x1ac7a7['subnetName']=_0x79b986,_0x3a7137[_0x1a2dd9(0x20a)]=_0x1ac7a7;const _0x1f1b27={};_0x1f1b27[_0x1a2dd9(0x244)]=_0x536d60['ZkOXz'],_0x5c28da['variables']=_0x1f1b27;const _0x64579={..._0x42fc7a[_0x1a2dd9(0x2be)][0x0]['properties']['agentPoolProfiles'][0x0]};_0x64579['vnetSubnetID']=_0x536d60[_0x1a2dd9(0x240)],_0x30edaa[_0x1a2dd9(0x2be)][0x0]['properties'][_0x1a2dd9(0x1ed)][0x0]=_0x64579;const _0x538cd9={};_0x538cd9[_0x1a2dd9(0x2b8)]=_0x25ee2a;const _0x58f443={};_0x58f443[_0x1a2dd9(0x2b8)]=_0x2e96c2[0x0];const _0x24f470={..._0x255fd4};_0x24f470[_0x1a2dd9(0x165)]=_0x538cd9,_0x24f470[_0x1a2dd9(0x2b6)]=_0x58f443,_0x26be6b=_0x24f470;}else return!![];}}}return![];}async[a1_0x5889f5(0x1e1)](){const _0x52087f=a1_0x5889f5,_0x1f5e57={};_0x1f5e57['QCQMg']=function(_0x4757e4,_0x88f41b){return _0x4757e4===_0x88f41b;},_0x1f5e57[_0x52087f(0x292)]='Action\x20permission\x20list\x20is\x20empty\x0a',_0x1f5e57['wvDTL']=_0x52087f(0x26e),_0x1f5e57['WqlRJ']=_0x52087f(0x2d5),_0x1f5e57[_0x52087f(0x32b)]=function(_0x5e6ca3,_0xe10e68){return _0x5e6ca3!==_0xe10e68;},_0x1f5e57[_0x52087f(0x2b2)]=_0x52087f(0x2ee),_0x1f5e57[_0x52087f(0x15f)]=_0x52087f(0x2ed),_0x1f5e57['ypcJM']=function(_0x5b9071,_0x1b8709){return _0x5b9071===_0x1b8709;},_0x1f5e57[_0x52087f(0x2fc)]=_0x52087f(0x2e8);const _0x2c25fc=_0x1f5e57,_0x4ba598=new Array();for await(const _0x5b5683 of this[_0x52087f(0x24f)]['resources'][_0x52087f(0x1ca)](global_registry['cloudProviderResourceGroup'])){_0x2c25fc[_0x52087f(0x1d9)](_0x2c25fc['wvDTL'],_0x2c25fc[_0x52087f(0x2a1)])?_0x251729[_0x52087f(0x2af)](_0x440ddf):_0x4ba598[_0x52087f(0x2af)](_0x5b5683);}for await(const _0x256f06 of _0x4ba598){if(_0x2c25fc[_0x52087f(0x32b)](_0x2c25fc['KKQfE'],_0x2c25fc[_0x52087f(0x15f)])){if(_0x2c25fc[_0x52087f(0x17a)](_0x256f06[_0x52087f(0x155)],_0x52087f(0x290)+this[_0x52087f(0x1b0)])){if(_0x2c25fc['aRZMH'](_0x2c25fc[_0x52087f(0x2fc)],_0x2c25fc[_0x52087f(0x2fc)]))_0x1f8a88+=_0x2c25fc[_0x52087f(0x1d9)](_0x86b41e[_0x52087f(0x175)],0x0)?_0x2c25fc[_0x52087f(0x292)]:'',_0x4bd262[_0x52087f(0x170)](_0x52087f(0x1f5)+_0x2792ed[_0x52087f(0x315)](_0x30ddbb));else return!![];}}else _0x5edfc6[_0x52087f(0x2af)](..._0x319db5[_0x52087f(0x32f)]);}return![];}async[a1_0x5889f5(0x28c)](_0x4f7475,_0xf8c75=0x3){const _0x267858=a1_0x5889f5,_0x15b4ab={'ZJiKW':_0x267858(0x192),'Kvisl':_0x267858(0x220),'yXDuk':_0x267858(0x19b),'PdeMu':function(_0x4f5add,_0x36d45e){return _0x4f5add===_0x36d45e;},'Scblo':_0x267858(0x178),'XfEpm':_0x267858(0x304),'uyNDO':_0x267858(0x2a6),'kvvUF':function(_0x11d487,_0x5f0503,_0x4e6b26){return _0x11d487(_0x5f0503,_0x4e6b26);},'RitLE':function(_0xa47567,_0x2a0e35){return _0xa47567!==_0x2a0e35;},'ibHoz':_0x267858(0x229),'FcURi':_0x267858(0x2fe),'HtrYx':_0x267858(0x198),'nTIxi':function(_0x29af3f,_0x29fcd4){return _0x29af3f===_0x29fcd4;},'iMQiE':_0x267858(0x13c),'Aosts':_0x267858(0x153),'oXYct':function(_0x462bd6,_0x63b7d1){return _0x462bd6===_0x63b7d1;},'KmrjK':function(_0x1f96ae,_0x2bb46a){return _0x1f96ae!==_0x2bb46a;},'sCbNx':_0x267858(0x287),'HeWLW':_0x267858(0x216),'uYgVR':'yKxXO','lXXtz':function(_0x16eddc,_0x15719f){return _0x16eddc<=_0x15719f;},'jxiOK':function(_0x2d9c6b,_0x3d9819){return _0x2d9c6b===_0x3d9819;},'gHHnq':_0x267858(0x236),'QFQBS':function(_0x225c38,_0x34cde5){return _0x225c38-_0x34cde5;}};try{if(_0x15b4ab[_0x267858(0x208)](_0x15b4ab[_0x267858(0x20b)],_0x15b4ab[_0x267858(0x20b)])){const _0x5324e5={};_0x5324e5[_0x267858(0x152)]=!![],_0x5324e5[_0x267858(0x301)]=null,_0x5324e5['data']=_0x15b4ab['ZJiKW'];const _0x58a2a0=_0x5324e5;return _0x58a2a0;}else{const _0x3042cb=new Array();for await(const _0x10878c of this['resourceClient'][_0x267858(0x2be)][_0x267858(0x1ca)](global_registry[_0x267858(0x184)])){if(_0x15b4ab[_0x267858(0x208)](_0x15b4ab[_0x267858(0x282)],_0x15b4ab[_0x267858(0x2ae)]))_0x3042cb[_0x267858(0x2af)](_0x10878c);else{_0x31f2ab[_0x267858(0x29d)](_0x15b4ab[_0x267858(0x225)]);const _0x49ba2b={};_0x49ba2b[_0x267858(0x336)]=_0x294ffd[_0x267858(0x328)],_0x49ba2b[_0x267858(0x1f6)]=_0x15b4ab['Kvisl'],this[_0x267858(0x1a5)]['sendEventToBackend'](this[_0x267858(0x233)],_0x49ba2b);const _0x509d49={};_0x509d49[_0x267858(0x151)]=!![];const _0x284330={'workloadIdentity':_0x509d49,..._0x1c5cb9[_0x267858(0x22a)]};_0x19f1a7[_0x267858(0x22a)]=_0x284330;}}let _0x47907e='';for await(const _0xb3ce5f of _0x3042cb){if(_0x15b4ab[_0x267858(0x2f9)](_0x15b4ab[_0x267858(0x286)],_0x15b4ab[_0x267858(0x1c7)])){_0x2e3a6f[_0x267858(0x29d)](_0x15b4ab['yXDuk']);const _0x4b4ddc={};_0x4b4ddc[_0x267858(0x336)]=_0xeea22d[_0x267858(0x328)],_0x4b4ddc[_0x267858(0x1f6)]=_0x15b4ab[_0x267858(0x1f4)],this[_0x267858(0x1a5)]['sendEventToBackend'](this[_0x267858(0x233)],_0x4b4ddc),_0x19364f[_0x267858(0x2db)]=![];}else{if(_0x15b4ab['oXYct'](_0xb3ce5f[_0x267858(0x155)],_0x4f7475)){if(_0x15b4ab[_0x267858(0x214)](_0x15b4ab[_0x267858(0x1fb)],_0x15b4ab[_0x267858(0x1fb)])){if(_0x15b4ab[_0x267858(0x271)](_0x2a9373[_0x267858(0x155)],_0x267858(0x290)+this[_0x267858(0x1b0)]))return!![];}else _0x47907e=_0xb3ce5f['id'];}}}const _0x11d0f0=await this[_0x267858(0x24f)][_0x267858(0x2be)]['getById'](_0x47907e,_0x15b4ab[_0x267858(0x2cc)]);return _0x11d0f0[_0x267858(0x2c5)]['clientId'];}}catch(_0x2a8919){if(_0x15b4ab[_0x267858(0x2f9)](_0x15b4ab[_0x267858(0x30e)],_0x15b4ab[_0x267858(0x30e)])){if(_0x15b4ab[_0x267858(0x279)](_0xf8c75,0x0)){if(_0x15b4ab[_0x267858(0x1b7)](_0x15b4ab[_0x267858(0x323)],_0x15b4ab['gHHnq']))return logger[_0x267858(0x301)](_0x267858(0x288)+_0x2a8919+':'+_0x2a8919[_0x267858(0x289)]),{};else throw new _0x2761f5(_0x15b4ab[_0x267858(0x17b)],_0x267858(0x2c8)+_0x28bdce[_0x267858(0x315)](_0x5dd16a));}return await new Promise(_0x6c9fc9=>{const _0x1e1afc=_0x267858;if(_0x15b4ab['PdeMu'](_0x15b4ab['XfEpm'],_0x15b4ab[_0x1e1afc(0x2b3)]))return _0x406ada[_0x1e1afc(0x301)](_0x1e1afc(0x309)+_0x270234+_0x1e1afc(0x275)+_0x3949f8),![];else _0x15b4ab[_0x1e1afc(0x27a)](setTimeout,()=>_0x6c9fc9(),0x3e8);}),this[_0x267858(0x28c)](_0x4f7475,_0x15b4ab[_0x267858(0x256)](_0xf8c75,0x1));}else return[!![],_0x4ced30];}}async[a1_0x5889f5(0x14b)](){const _0x2a338c=a1_0x5889f5,_0x432c98={};_0x432c98[_0x2a338c(0x231)]=function(_0x46b79c,_0x3314c8){return _0x46b79c===_0x3314c8;},_0x432c98[_0x2a338c(0x2f0)]='HNwxk',_0x432c98[_0x2a338c(0x215)]=_0x2a338c(0x333),_0x432c98[_0x2a338c(0x14c)]=_0x2a338c(0x1c0),_0x432c98['PjFrD']=function(_0x2115bb,_0x1cdffe){return _0x2115bb===_0x1cdffe;},_0x432c98[_0x2a338c(0x1e7)]=_0x2a338c(0x298);const _0x53c0d2=_0x432c98;!this[_0x2a338c(0x1f8)]&&(_0x53c0d2[_0x2a338c(0x231)](_0x53c0d2[_0x2a338c(0x2f0)],_0x53c0d2[_0x2a338c(0x2f0)])?await this[_0x2a338c(0x2bd)]():_0x4516f9[_0x2a338c(0x277)](0x0));const _0x280de3=this['clusterInfo']?.[_0x2a338c(0x311)]||{};if(_0x280de3&&_0x53c0d2[_0x2a338c(0x231)](_0x280de3[_0x53c0d2['BFLim']],_0x53c0d2[_0x2a338c(0x14c)]))return _0x53c0d2[_0x2a338c(0x2ca)](_0x53c0d2[_0x2a338c(0x1e7)],_0x53c0d2[_0x2a338c(0x1e7)])?!![]:!![];return![];}async['deleteCluster'](_0x3dc515,_0x2a7fa3){const _0x1fb39d=a1_0x5889f5,_0x40f239={'yusJO':function(_0x532122,_0x4e9f80){return _0x532122(_0x4e9f80);},'HPtHg':function(_0x4c8841,_0x5cf7bf){return _0x4c8841(_0x5cf7bf);},'kmkwA':_0x1fb39d(0x1ef)};await _0x40f239[_0x1fb39d(0x2d2)](deleteAgent,_0x3dc515),await _0x40f239['HPtHg'](deleteRoutingDeps,_0x3dc515);const _0x3c6257=this[_0x1fb39d(0x219)];logger['info'](_0x1fb39d(0x265)+this[_0x1fb39d(0x1b0)]),await _0x3c6257['managedClusters'][_0x1fb39d(0x274)](global_registry[_0x1fb39d(0x184)],this[_0x1fb39d(0x1b0)]),logger[_0x1fb39d(0x29d)](_0x40f239[_0x1fb39d(0x19c)]);}async[a1_0x5889f5(0x31f)](){const _0x504a0c=a1_0x5889f5,_0x20ab68={};_0x20ab68[_0x504a0c(0x1d2)]=_0x504a0c(0x31e),_0x20ab68['qPrwH']=function(_0x32f067,_0x5d8708){return _0x32f067!==_0x5d8708;},_0x20ab68['CXPkq']='tAZfs',_0x20ab68[_0x504a0c(0x242)]=function(_0x3bb0d8,_0x18b41f){return _0x3bb0d8&&_0x18b41f;},_0x20ab68['zSgJF']=function(_0x35d1f0,_0x287f6d){return _0x35d1f0===_0x287f6d;},_0x20ab68['qLUTZ']=_0x504a0c(0x295),_0x20ab68[_0x504a0c(0x13b)]=_0x504a0c(0x21c),_0x20ab68[_0x504a0c(0x24c)]=function(_0x3a1400,_0x366a8f){return _0x3a1400!==_0x366a8f;},_0x20ab68[_0x504a0c(0x211)]=_0x504a0c(0x29e),_0x20ab68[_0x504a0c(0x160)]=_0x504a0c(0x23e),_0x20ab68[_0x504a0c(0x283)]=_0x504a0c(0x190),_0x20ab68[_0x504a0c(0x147)]='HzDUB',_0x20ab68['hcSLl']='OMPMy',_0x20ab68['BWJCs']=_0x504a0c(0x220),_0x20ab68[_0x504a0c(0x294)]=_0x504a0c(0x2f3),_0x20ab68['HTeUi']=_0x504a0c(0x19b);const _0x34dca5=_0x20ab68;if(!this['clusterInfo']){if(_0x34dca5[_0x504a0c(0x217)](_0x34dca5[_0x504a0c(0x320)],_0x34dca5[_0x504a0c(0x320)]))return;else await this[_0x504a0c(0x2bd)]();}const _0x1812df=this[_0x504a0c(0x1f8)],_0xa7ee6e=this[_0x504a0c(0x1f8)]?.['oidcIssuerProfile']?.['enabled']||![],_0x283500=this['clusterInfo']?.[_0x504a0c(0x22a)]?.[_0x504a0c(0x1ab)]?.[_0x504a0c(0x151)]||![],_0x169df5=!this[_0x504a0c(0x1f8)]?.[_0x504a0c(0x2db)]||![];if(_0x34dca5['IweWR'](_0xa7ee6e,_0x283500)&&_0x169df5){if(_0x34dca5['zSgJF'](_0x34dca5[_0x504a0c(0x1a1)],_0x34dca5['PjFft']))return!![];else return;}if(!_0xa7ee6e){if(_0x34dca5['wPnIi'](_0x34dca5[_0x504a0c(0x211)],_0x34dca5[_0x504a0c(0x160)])){logger[_0x504a0c(0x29d)](_0x34dca5[_0x504a0c(0x283)]);const _0x1ca349={};_0x1ca349['type']=WS_EVENTS[_0x504a0c(0x328)],_0x1ca349[_0x504a0c(0x1f6)]=_0x34dca5['eYxBh'],this[_0x504a0c(0x1a5)][_0x504a0c(0x1bf)](this[_0x504a0c(0x233)],_0x1ca349),_0x1812df[_0x504a0c(0x149)]['enabled']=!![];}else return _0xa91953[_0x504a0c(0x301)](_0x504a0c(0x288)+_0x381993+':'+_0x3dcc22[_0x504a0c(0x289)]),{};}if(!_0x283500){if(_0x34dca5[_0x504a0c(0x21b)](_0x34dca5[_0x504a0c(0x147)],_0x34dca5['hcSLl']))_0x5b6b92['error']=_0x1fcb04;else{logger[_0x504a0c(0x29d)](_0x34dca5[_0x504a0c(0x202)]);const _0x210bd9={};_0x210bd9[_0x504a0c(0x336)]=WS_EVENTS['RESOURCES'],_0x210bd9[_0x504a0c(0x1f6)]=_0x34dca5[_0x504a0c(0x202)],this[_0x504a0c(0x1a5)][_0x504a0c(0x1bf)](this['rws'],_0x210bd9);const _0x35c41d={};_0x35c41d[_0x504a0c(0x151)]=!![],_0x1812df[_0x504a0c(0x22a)]={'workloadIdentity':_0x35c41d,..._0x1812df['securityProfile']};}}if(!_0x169df5){if(_0x34dca5[_0x504a0c(0x24c)](_0x34dca5['hbMUS'],_0x34dca5[_0x504a0c(0x294)]))_0x1142c3['error'](_0x34dca5[_0x504a0c(0x1d2)]),_0x46263c[_0x504a0c(0x277)](0x1);else{logger[_0x504a0c(0x29d)](_0x34dca5['HTeUi']);const _0x2e4553={};_0x2e4553[_0x504a0c(0x336)]=WS_EVENTS['RESOURCES'],_0x2e4553[_0x504a0c(0x1f6)]=_0x34dca5[_0x504a0c(0x2fb)],this[_0x504a0c(0x1a5)][_0x504a0c(0x1bf)](this[_0x504a0c(0x233)],_0x2e4553),_0x1812df[_0x504a0c(0x2db)]=![];}}await this[_0x504a0c(0x219)][_0x504a0c(0x26a)][_0x504a0c(0x1cc)](global_registry['cloudProviderResourceGroup'],this[_0x504a0c(0x1b0)],_0x1812df),await this[_0x504a0c(0x2bd)]();}async['sendAzureInfoToHST'](){const _0x3ceb75=a1_0x5889f5,_0x18396c={};_0x18396c[_0x3ceb75(0x1a9)]=function(_0x53c7f7,_0xaf9b45){return _0x53c7f7===_0xaf9b45;},_0x18396c[_0x3ceb75(0x140)]='YeGVG';const _0xa0b92a=_0x18396c,_0x176fbc=await this[_0x3ceb75(0x176)][_0x3ceb75(0x1e5)]['listAll'](global_registry[_0x3ceb75(0x184)]),_0x31de1={};_0x31de1['username']=global_registry[_0x3ceb75(0x2e1)],_0x31de1[_0x3ceb75(0x1f2)]=global_registry[_0x3ceb75(0x21a)],_0x31de1[_0x3ceb75(0x177)]=AZURE,_0x31de1[_0x3ceb75(0x13d)]=[];const _0x336696=_0x31de1;for await(const _0x352e61 of _0x176fbc){_0xa0b92a[_0x3ceb75(0x1a9)](_0xa0b92a[_0x3ceb75(0x140)],_0xa0b92a[_0x3ceb75(0x140)])?_0x336696[_0x3ceb75(0x13d)][_0x3ceb75(0x2af)](_0x352e61):_0xa0b92a[_0x3ceb75(0x1a9)](_0x3e8842[_0x3ceb75(0x155)],_0x3ccca8)&&(_0x47be3a=_0xb663f6['id']);}const _0x2cdbe5={};_0x2cdbe5[_0x3ceb75(0x336)]=WS_EVENTS[_0x3ceb75(0x328)],_0x2cdbe5[_0x3ceb75(0x1f6)]=_0x336696,this['webSocketUtils'][_0x3ceb75(0x1bf)](this[_0x3ceb75(0x233)],_0x2cdbe5);}async[a1_0x5889f5(0x28e)](_0xf4a625){const _0x453c55=a1_0x5889f5,_0x468d90={};_0x468d90[_0x453c55(0x2b9)]=function(_0x57338c,_0x514e9f){return _0x57338c+_0x514e9f;},_0x468d90[_0x453c55(0x1a3)]=_0x453c55(0x2ff),_0x468d90['lJjQm']=function(_0x12b953,_0x40b6be){return _0x12b953-_0x40b6be;},_0x468d90[_0x453c55(0x200)]=_0x453c55(0x2bf),_0x468d90[_0x453c55(0x1a4)]=_0x453c55(0x2ab),_0x468d90['guNrC']=function(_0x172539,_0x3d6609){return _0x172539===_0x3d6609;},_0x468d90[_0x453c55(0x2ce)]=_0x453c55(0x237),_0x468d90[_0x453c55(0x1a0)]=_0x453c55(0x1fc),_0x468d90[_0x453c55(0x28d)]=function(_0x2ec342,_0x1a22f4){return _0x2ec342!==_0x1a22f4;},_0x468d90[_0x453c55(0x154)]=_0x453c55(0x329),_0x468d90[_0x453c55(0x2d0)]='QhQte',_0x468d90['ChTnT']=function(_0x5a9732,_0x3707a7){return _0x5a9732===_0x3707a7;},_0x468d90[_0x453c55(0x195)]='hpoaE',_0x468d90[_0x453c55(0x2d9)]=_0x453c55(0x144),_0x468d90[_0x453c55(0x187)]=function(_0x2021b4,_0x5e98e1){return _0x2021b4!==_0x5e98e1;},_0x468d90['WVOdF']=_0x453c55(0x2ec),_0x468d90['MWZpx']='BRvBq';const _0x22b269=_0x468d90;try{if(_0x22b269[_0x453c55(0x28b)](_0x22b269[_0x453c55(0x2ce)],_0x22b269[_0x453c55(0x1a0)])){const _0x116dc8=new _0x21233c(_0x27d8d7[_0x453c55(0x29f)],_0x2b23ee[_0x453c55(0x166)],_0x17021c[_0x453c55(0x1c2)]);this[_0x453c55(0x219)]=new _0x3ffca2(_0x116dc8,_0x469357[_0x453c55(0x1c6)]),this[_0x453c55(0x318)]=new _0x50c690(_0x116dc8,_0x4dcb54['cloudProviderSubscriptionId']),this[_0x453c55(0x24f)]=new _0x2f0336(_0x116dc8,_0x34e462[_0x453c55(0x1c6)]),this[_0x453c55(0x176)]=new _0x37e7f8(_0x116dc8,_0x53f62b[_0x453c55(0x1c6)]),this[_0x453c55(0x2d6)]=new _0x43905f(_0x116dc8,_0x32ee2b['cloudProviderSubscriptionId']),this['cred']=_0x116dc8;}else{const _0x395f73=await this[_0x453c55(0x176)]['virtualNetworks'][_0x453c55(0x14d)](global_registry[_0x453c55(0x184)]);for await(const _0x33f163 of _0x395f73){if(_0x22b269[_0x453c55(0x28d)](_0x22b269['KUyWS'],_0x22b269['yXpUD'])){if(_0x22b269[_0x453c55(0x222)](_0x33f163['name'],_0xf4a625)){if(_0x22b269[_0x453c55(0x222)](_0x22b269[_0x453c55(0x195)],_0x22b269['ytLND'])){const _0x5680d7=_0x3594bb[_0x453c55(0x31c)][_0x453c55(0x273)]('-'),_0x1f2b3e=_0x22b269[_0x453c55(0x2b9)](_0x22b269[_0x453c55(0x1a3)],_0x5680d7[_0x22b269[_0x453c55(0x230)](_0x5680d7['length'],0x1)])[_0x453c55(0x254)](0x0,0x18);return _0x1f2b3e[_0x453c55(0x2c9)]();}else return!![];}}else return _0x52b4f8[_0x453c55(0x1c5)]=_0x22b269['FmCAK'],_0xc9f679;}}}catch(_0x8295f8){return _0x22b269[_0x453c55(0x187)](_0x22b269[_0x453c55(0x24d)],_0x22b269[_0x453c55(0x13a)])?(logger[_0x453c55(0x301)](_0x453c55(0x309)+_0xf4a625+_0x453c55(0x275)+_0x8295f8),![]):(_0x1170b6[_0x453c55(0x1c5)]=_0x22b269[_0x453c55(0x1a4)],_0x1c5b8c);}return![];}async[a1_0x5889f5(0x228)](_0x3c3e0f,_0xf70f03){const _0x1d0605=a1_0x5889f5,_0x192a91={};_0x192a91[_0x1d0605(0x299)]=_0x1d0605(0x31e),_0x192a91[_0x1d0605(0x1c9)]=function(_0x350b07,_0x39eb31){return _0x350b07===_0x39eb31;},_0x192a91[_0x1d0605(0x25f)]=_0x1d0605(0x2e5),_0x192a91[_0x1d0605(0x1f1)]=_0x1d0605(0x2a2),_0x192a91[_0x1d0605(0x182)]=function(_0x1d162d,_0x3233d7){return _0x1d162d===_0x3233d7;},_0x192a91['dyuxO']='LnFeB',_0x192a91[_0x1d0605(0x305)]=_0x1d0605(0x30f);const _0x86af8e=_0x192a91;try{if(_0x86af8e[_0x1d0605(0x1c9)](_0x86af8e[_0x1d0605(0x25f)],_0x86af8e[_0x1d0605(0x1f1)]))_0x341ca5['error'](_0x86af8e[_0x1d0605(0x299)]),_0x5596c7[_0x1d0605(0x277)](0x1);else{const _0x30be59=await this[_0x1d0605(0x176)][_0x1d0605(0x1ff)]['get'](global_registry['cloudProviderResourceGroup'],_0xf70f03,_0x3c3e0f[0x0]);if(_0x86af8e[_0x1d0605(0x1c9)](_0x3c3e0f[0x0],_0x30be59[_0x1d0605(0x155)]))return _0x86af8e[_0x1d0605(0x182)](_0x86af8e[_0x1d0605(0x2b0)],_0x86af8e['bEpEM'])?(_0x4c5f68[_0x1d0605(0x301)](_0x1d0605(0x317)+_0x2adfd6+_0x1d0605(0x1ac)+_0x295b27),[![],[]]):[!![],_0x3c3e0f];}}catch(_0x13ffbf){return logger[_0x1d0605(0x301)](_0x1d0605(0x317)+_0x3c3e0f+_0x1d0605(0x1ac)+_0x13ffbf),[![],[]];}return[![],[]];}async[a1_0x5889f5(0x327)](){const _0x4cc1c1=a1_0x5889f5,_0x4ed22a={};_0x4ed22a[_0x4cc1c1(0x232)]='No\x20CLI\x20tool\x20required';const _0x411087=_0x4ed22a,_0x1f1dfb={};_0x1f1dfb[_0x4cc1c1(0x152)]=!![],_0x1f1dfb['error']=null,_0x1f1dfb['data']=_0x411087[_0x4cc1c1(0x232)];const _0x44a87f=_0x1f1dfb;return _0x44a87f;}async[a1_0x5889f5(0x159)](){const _0x214365=a1_0x5889f5,_0x3c59c8={};_0x3c59c8[_0x214365(0x2df)]=_0x214365(0x1b2),_0x3c59c8[_0x214365(0x2ef)]=_0x214365(0x313),_0x3c59c8[_0x214365(0x251)]=_0x214365(0x1af);const _0x1729d5=_0x3c59c8,_0x350f7b=await this[_0x214365(0x2dc)][_0x214365(0x137)](_0x1729d5[_0x214365(0x2df)]),_0x2fcff8={};_0x2fcff8[_0x214365(0x185)]=_0x1729d5[_0x214365(0x2ef)],_0x2fcff8[_0x214365(0x31a)]={},_0x2fcff8[_0x214365(0x31a)][_0x214365(0x197)]=_0x214365(0x150)+_0x350f7b['token'],_0x2fcff8[_0x214365(0x31a)]['Content-Type']=_0x1729d5['ljOlU'];const _0x21789e=_0x2fcff8;return _0x21789e;}async[a1_0x5889f5(0x2a8)](_0x2a40b5){const _0x2c67a7=a1_0x5889f5,_0x532f12={'RlVef':function(_0x1b2f1d,_0x3ea816,_0x551901){return _0x1b2f1d(_0x3ea816,_0x551901);},'nVWOJ':function(_0x3fcf41,_0x2a2d24){return _0x3fcf41===_0x2a2d24;},'Kwvim':'No\x20service\x20principal\x20found'},_0x5d0d92={};_0x5d0d92[_0x2c67a7(0x235)]='',_0x5d0d92[_0x2c67a7(0x301)]=null;const _0x3edc8d=_0x5d0d92;try{const _0x3a197c=_0x2c67a7(0x16d)+_0x2a40b5+'\x27',_0x53be0e=await this[_0x2c67a7(0x159)](),_0x30936d=await _0x532f12['RlVef'](fetch,_0x3a197c,_0x53be0e),_0x316813=await _0x30936d[_0x2c67a7(0x157)]();if(!_0x316813[_0x2c67a7(0x2b8)]||_0x532f12[_0x2c67a7(0x334)](_0x316813[_0x2c67a7(0x2b8)]['length'],0x0))throw new Error(_0x532f12['Kwvim'],_0x2c67a7(0x2c8)+JSON[_0x2c67a7(0x315)](_0x316813));_0x3edc8d[_0x2c67a7(0x235)]=_0x316813['value'][0x0]['id'];}catch(_0x4ff711){_0x3edc8d['error']=_0x4ff711;}return _0x3edc8d;}async[a1_0x5889f5(0x1f3)](){const _0x5da5c9=a1_0x5889f5,_0x18cc16={};_0x18cc16[_0x5da5c9(0x164)]=_0x5da5c9(0x267),_0x18cc16[_0x5da5c9(0x1b6)]=_0x5da5c9(0x2a9),_0x18cc16[_0x5da5c9(0x27d)]=function(_0x11d1b6,_0x2ce1cf){return _0x11d1b6!==_0x2ce1cf;},_0x18cc16[_0x5da5c9(0x2c1)]=function(_0x228b1a,_0x19a158){return _0x228b1a===_0x19a158;},_0x18cc16[_0x5da5c9(0x1bb)]=_0x5da5c9(0x2bf),_0x18cc16[_0x5da5c9(0x2a5)]=function(_0x58cffc,_0x2c4b9d){return _0x58cffc===_0x2c4b9d;},_0x18cc16[_0x5da5c9(0x25d)]=_0x5da5c9(0x2ab),_0x18cc16['ZOkWZ']=function(_0x57c43b,_0x428fb5){return _0x57c43b===_0x428fb5;},_0x18cc16[_0x5da5c9(0x239)]=_0x5da5c9(0x17e);const _0x1f6072=_0x18cc16,_0x1380a8={};_0x1380a8[_0x5da5c9(0x152)]=![],_0x1380a8['error']=null,_0x1380a8[_0x5da5c9(0x1c5)]='';const _0x43fb87=_0x1380a8;try{let _0x32273f='';const _0x300706=_0x5da5c9(0x227)+global_registry[_0x5da5c9(0x1c6)]+'/resourceGroups/'+global_registry['cloudProviderResourceGroup'],_0x3ad69b=await this[_0x5da5c9(0x2a8)](global_registry['cloudProviderClientId']);if(_0x1f6072[_0x5da5c9(0x27d)](_0x3ad69b[_0x5da5c9(0x301)],null))return _0x43fb87[_0x5da5c9(0x301)]=_0x3ad69b[_0x5da5c9(0x301)],_0x43fb87;const _0x2f77d6=_0x5da5c9(0x2cf)+_0x3ad69b[_0x5da5c9(0x235)]+'\x27)',_0x3046d={};_0x3046d[_0x5da5c9(0x188)]=_0x2f77d6;const _0x1fdc4e=await this[_0x5da5c9(0x2d6)][_0x5da5c9(0x1ea)][_0x5da5c9(0x1be)](_0x300706,_0x3046d),_0x451f6d=[];for await(const _0x10cfda of _0x1fdc4e){_0x451f6d[_0x5da5c9(0x2af)](_0x10cfda);}if(_0x1f6072[_0x5da5c9(0x2c1)](_0x451f6d['length'],0x0))return _0x43fb87[_0x5da5c9(0x1c5)]=_0x1f6072[_0x5da5c9(0x1bb)],_0x43fb87;const _0x3efa89=[...new Set(_0x451f6d['map'](_0x33264e=>_0x33264e[_0x5da5c9(0x16b)]))];if(_0x1f6072[_0x5da5c9(0x2a5)](_0x3efa89['length'],0x0))return _0x43fb87[_0x5da5c9(0x1c5)]=_0x1f6072['KFrDa'],_0x43fb87;const _0x14b678=[],_0x13507c=[];for(const _0x24aafb of _0x3efa89){const _0x3361d6=await this['authClient'][_0x5da5c9(0x224)][_0x5da5c9(0x24e)](_0x24aafb);logger['debug'](_0x5da5c9(0x2e9)+_0x3361d6[_0x5da5c9(0x163)]),_0x14b678[_0x5da5c9(0x2af)](_0x3361d6),logger[_0x5da5c9(0x170)](_0x5da5c9(0x14e)+JSON[_0x5da5c9(0x315)](_0x3361d6[_0x5da5c9(0x1fa)])),_0x3361d6[_0x5da5c9(0x1fa)]['forEach'](_0x3dcccd=>{const _0x50d783=_0x5da5c9;_0x13507c[_0x50d783(0x2af)](..._0x3dcccd['actions']);});}logger['debug'](_0x5da5c9(0x1dc)+JSON['stringify'](_0x13507c)),_0x1f6072[_0x5da5c9(0x2a5)](_0x13507c[_0x5da5c9(0x175)],0x0)&&(_0x32273f+=_0x1f6072[_0x5da5c9(0x2b4)](_0x13507c['length'],0x0)?_0x1f6072[_0x5da5c9(0x239)]:'',logger[_0x5da5c9(0x170)](_0x5da5c9(0x1f5)+JSON[_0x5da5c9(0x315)](_0x14b678))),_0x43fb87['status']=!![],Object[_0x5da5c9(0x2b7)](PERMISSIONS[_0x5da5c9(0x2c2)])[_0x5da5c9(0x204)](([_0xe9abb9,_0x191e7a])=>{const _0x5ee783=_0x5da5c9,_0x4395b3=_0x13507c[_0x5ee783(0x19e)](_0xe9abb9);_0x32273f+='\x0a\x09'+_0x191e7a+':\x20'+(_0x4395b3?_0x1f6072[_0x5ee783(0x164)]:_0x1f6072[_0x5ee783(0x1b6)]),!_0x4395b3&&(_0x43fb87[_0x5ee783(0x152)]=![]);}),_0x43fb87['data']=_0x32273f;}catch(_0x1819f3){_0x43fb87['error']=_0x1819f3;}return _0x43fb87;}}const a1_0x3b3a93={};a1_0x3b3a93[a1_0x5889f5(0x18f)]=AzureCloudProvider,module[a1_0x5889f5(0x25e)]=a1_0x3b3a93;