const a1_0x173cf4=a1_0x433a;(function(_0x1fc5e0,_0x121fad){const _0x5e99b1=a1_0x433a,_0x2f2783=_0x1fc5e0();while(!![]){try{const _0x11c145=parseInt(_0x5e99b1(0x28e))/0x1*(-parseInt(_0x5e99b1(0x24e))/0x2)+parseInt(_0x5e99b1(0x247))/0x3*(-parseInt(_0x5e99b1(0x171))/0x4)+parseInt(_0x5e99b1(0x1a0))/0x5*(-parseInt(_0x5e99b1(0x21b))/0x6)+parseInt(_0x5e99b1(0x2c0))/0x7+parseInt(_0x5e99b1(0x1c3))/0x8+parseInt(_0x5e99b1(0x14f))/0x9+parseInt(_0x5e99b1(0x224))/0xa;if(_0x11c145===_0x121fad)break;else _0x2f2783['push'](_0x2f2783['shift']());}catch(_0x35d45b){_0x2f2783['push'](_0x2f2783['shift']());}}}(a1_0x16c5,0x5b7d4));function a1_0x16c5(){const _0x3f9645=['toLowerCase','bkwww','npDZP','UOrzK','OprIP','hXejF','hostname','status','HhrAG','readFileAsync','Nnyvj','jCuHJ','HmASa','roleDefinitions','GTaky','HPyex','resourceGroup','oIUin','username','IPBsP','loadBalancer','roleDefinitionId','kFatr','roleName','actionPermission\x20:\x20','0|4|5|1|6|7|3|2','setCachedCredsInRegistry','No\x20service\x20principal\x20found','createFederatedAccount','createManagedIdentity','hubHaNameSpace','AfIev','virtualNetworks','OHuop','cred','HkDVE','templates','dNeha','eSPVd','hRVUv','517626hxBlZZ','BzDme','CMCSu','Content-Type','Fdola','pizjM','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','../utils/utilityMethods','DGXUf','585450QwGdlw','wJXHB','Grdon','hjPdP','UdZJR','vJfgf','getClusterInfo','CkHIr','SXUhX','qgzNS','DvGvk','parse','IRPTJ','oQFxP','getById','hZspG','js-yaml','webSocketUtils','ENbTc','\x20CLIENT\x20SECRET:\x20','setupHubHa','SIvkm','stack','AGAgQ','accessKey','ylJaX','storageAccountName','cloudProviderSubscriptionId','QMRJl','LOG','node','yJCWL','setupNewCluster','ARCQD','aBxvl','13029cyzjnZ','PyWzN','Wbgxk','Action\x20permission\x20list\x20is\x20empty\x0a','hub','TqIvs','vrcvr','2eqiDKN','AzureCloudProvider','sulru','0|3|2|1|4|5','ylVCw','createOtherResources','@azure/identity','turboscale','vJSOT','createOrUpdate','nPTJC','Creating\x20Azure\x20managed\x20identity','\x20SUBSCRIPTION\x20ID:\x20','string','IYeax','isStorageAccountPresent','NinNO','Authorization','XxQwf','IaVXD','FCjpp','clientSecret','zJOoZ','Nhxsh','vpcInfo','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','description','3|5|2|4|1|0','vnetSubnetID','type','dRTte','pxurP','LqzFd','OOAAY','dAnwm','resources','bervT','WnoZn','data','WBeAY','BrTgb','ZaPFS','juGTg','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','LwAUO','TMXRk','createStorageAccount','isManagedIdentityPresent','clusterAutoUpgrade','Lifecycle','lSXNv','checkAccess','delete','@azure/arm-containerservice','role\x20name\x20attached\x20-\x20','GslUO','RUrIG','cloudProvider','eLQLo','deleteCluster','hubharesources','resourceGroups','Cnhrm','WHjrd','137869IYnsmi','KZPtz','baseBlob','listAll','rNiLC','EDXKE','nhBaZ','GaGmZ','lylAK','OSFQN','kgLKP','qWcZs','htnIu','KYErx','wdhBG','CKSAk','toUpperCase','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','true','ikmpX','oLXnb','FxjIY','HBOBo','nitrk','MBris','GTQJf','nEpAJ','length','HVahO','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','srfoU','VzULX','ODMII','tEnus','Dnqzj','nvKxJ','zWisB','XVubg','allowed','FlfHj','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','join','variables','listByResourceGroup','filters','policy','hwvJd','denied','gBhdr','KnQCF','4093677JEkxEt','KJGOM','listForScope','updateClusterAlreadyPresent','maxNodes','../config/constants','Cannot\x20find\x20VPC\x20','createCluster','LuZAr','init','subscriptions/','subscriptionId','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','authClient','dbeEI','nEvgy','fPvWC','get','JbJBM','networkClient','RWxZo','DxmUB','getResourceGroups','IZJCP','bPOkT','QVhdo','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','TiqOt','managedidentity.json','PPmog','actions','push','metadata','EyzUh','Received\x20response\x20-\x20','cloudProviderResourceGroup','QqMWl','deployments','TmmtB','HreaF','fQNAM','Cannot\x20find\x20subnets\x20','szTJX','ncpJi','sendEventToBackend','aFMna','EcWVE','getToken','QOKQj','UYdZS','oidcIssuerProfile','qDYzp','definition','setClients','nwjVC','oCqfD','wUMbL','getStorageAccountName','ingress','JeXho','bydfA','MYKEv','narxn','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','managedClusters','xEoVu','federatedidentityuploader.json','clientId','clusterRegion','nfDxe','xsToj','bVgSp','assignedTo(\x27','qTkXj','error','eCtbB','lSHuj','PrRmX','agCeI','UMqZU','map','yhNje','Deleted\x20the\x20cluster\x20successfully','tags','ulgwQ','managementPolicies','uyBhA','nlwTK','iRVex','QtTTO','securityProfile','stringify','Blob\x20delete\x20lifecycle','EQAEJ','subnetName','info','debug','isCliToolInstalled','@azure/arm-resources','JaKOD','azureresources','EHvaE','dJlju','oYuKh','LAeMM','FziIT','vsMsI','cloudProviderClientSecret','createFederatedAccountForHubHA','Qjhns','jSMDr','getHeader','iVRvB','../permissions/AZURE.json','@azure/arm-network','MSmAa','PzMGC','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','yrYUW','txeWb','UhUNa','YEbKg','fXTQs','qtYXF','listClusterAdminCredentials','lURvP','xtwnY','../config/logger','Bearer\x20','hZopb','containerClient','fMeBt','3042342ukIVaO','[variables(\x27vnetSubnetID\x27)]','application/json','false','utf-8','split','gridName','token','fZdud','https://graph.microsoft.com/.default','getUserInput','Managed\x20identity\x20already\x20exists,\x20skipping','LIgcW','tPmMc','PEcPV','yaXTX','getResourceClientId','VuXtw','dbFWB','sendAzureInfoToHST','Storage\x20account\x20already\x20exists,\x20skipping','PtZIw','principalId','HpMDP','getPrincipalIdFromClientId','name','JiSff','mBhxR','dWdVo','RaYnt','jRjdm','dbFSu','DMzJf','roleAssignments','436XeLYVG','ERYsY','GrqiT','VsuOt','BtzXa','blockBlob','RESOURCES','5|4|3|2|1|0','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','permissions','bxtPx','HHQmx','XOzjO','Vpuxo','clusterInfo','zdMgt','cloudProviderClientId','Attached\x20permissions\x20:\x20','Created\x20Azure\x20federated\x20identity','JITFI','TVGFU','.json','IQGlK','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','WsuQO','value','s3Bucket','userMaxNodes','BtbtY','zCwSw','toString','okqwl','kubeconfigs','RhfGL','IuqKy','GET','aHiDK','rws','list','userInstanceType','location','enabled','JaRoR','WQwXw','includes','Incremental','PuVrp','20gpLPXk','uvgaz','.\x20Error:\x20','disableLocalAccounts','gXffo','lnwOV','QQVrh','DvseM','ACTION','Enabling\x20Local\x20account\x20for\x20the\x20cluster','woHLH','AGOPq','properties','PwXcf','lnnAN','resourceClient','BrowserStack','tenantId','RfAAd','log','agentPoolProfiles','vnQMO','turboscale-cluster-deployment','bKOZA','dfwlC','browserstack:managedBy','exit','GDAdz','dpNpE','NhLfu','pbANZ','headers','ZYmHa','issuerURL','isClusterPresent','2797488VdYmVs','tyjoL','storageaccount.json','dbqDe','UXTxL','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','DFhND','Ithdn','zKeie','PeClJ','beginCreateOrUpdateAndWait','ExkDq','bstackUsername','QJMrJ','hxDmY','iixvD','PUuXZ','NIehk','piszt','hnKPt','clusterName','ksKqD','instanceType','UwoFN','Fbivy','kjnIW','forEach','cloudProviderName','getGridHostname','storageClient','gqlAL','akscluster.json','ZSfLI','message','rules','AtCsX','parameters','BXSKP','\x20RESOURCE\x20GROUP:\x20','vpcName','MqYZP','DTpda','cloudProviderTenantId','slice','drmAS','./CloudProvider','federatedidentity','MHjYH'];a1_0x16c5=function(){return _0x3f9645;};return a1_0x16c5();}const fs=require('fs'),path=require('path'),yaml=require(a1_0x173cf4(0x234)),{logger}=require(a1_0x173cf4(0x14a)),{CloudProvider}=require(a1_0x173cf4(0x1f0)),{deleteRoutingDeps,deleteAgent}=require('../utils/gridComponents'),{AZURE,WS_EVENTS,global_registry}=require(a1_0x173cf4(0x2c5)),PERMISSIONS=require(a1_0x173cf4(0x13c)),{ClientSecretCredential}=require(a1_0x173cf4(0x254)),{NetworkManagementClient}=require(a1_0x173cf4(0x13d)),{StorageManagementClient}=require('@azure/arm-storage'),{AuthorizationManagementClient}=require('@azure/arm-authorization'),{ResourceManagementClient}=require(a1_0x173cf4(0x12d)),{ContainerServiceClient}=require(a1_0x173cf4(0x283)),{runCommand}=require(a1_0x173cf4(0x222));class AzureCloudProvider extends CloudProvider{constructor(_0x4a7db7,_0x178757,_0x45e45e,_0x105adf){const _0x3b6438=a1_0x173cf4,_0x18730f={};_0x18730f[_0x3b6438(0x230)]=_0x3b6438(0x20c);const _0x48c6db=_0x18730f,_0x4b2a7f=_0x48c6db[_0x3b6438(0x230)]['split']('|');let _0x5afd66=0x0;while(!![]){switch(_0x4b2a7f[_0x5afd66++]){case'0':super(AZURE,_0x4a7db7,_0x178757,_0x45e45e,_0x105adf);continue;case'1':this[_0x3b6438(0x14d)]=null;continue;case'2':this[_0x3b6438(0xd8)]=null;continue;case'3':this['networkClient']=null;continue;case'4':this[_0x3b6438(0x215)]=null;continue;case'5':this[_0x3b6438(0x17f)]=null;continue;case'6':this[_0x3b6438(0x1e0)]=null;continue;case'7':this[_0x3b6438(0x1af)]=null;continue;}break;}}async[a1_0x173cf4(0x2c9)](){const _0x5c61f9=a1_0x173cf4;return await super[_0x5c61f9(0x2c9)](),this;}['setClients'](){const _0x1c6dcf=a1_0x173cf4,_0x54df0d=new ClientSecretCredential(global_registry[_0x1c6dcf(0x1ed)],global_registry['cloudProviderClientId'],global_registry[_0x1c6dcf(0x136)]);this[_0x1c6dcf(0x14d)]=new ContainerServiceClient(_0x54df0d,global_registry[_0x1c6dcf(0x23f)]),this['storageClient']=new StorageManagementClient(_0x54df0d,global_registry['cloudProviderSubscriptionId']),this[_0x1c6dcf(0x1af)]=new ResourceManagementClient(_0x54df0d,global_registry[_0x1c6dcf(0x23f)]),this['networkClient']=new NetworkManagementClient(_0x54df0d,global_registry['cloudProviderSubscriptionId']),this[_0x1c6dcf(0xd8)]=new AuthorizationManagementClient(_0x54df0d,global_registry[_0x1c6dcf(0x23f)]),this[_0x1c6dcf(0x215)]=_0x54df0d;}[a1_0x173cf4(0x104)](){const _0x265312=a1_0x173cf4,_0x214740={};_0x214740[_0x265312(0x1d4)]=function(_0x4b1274,_0x4bc0df){return _0x4b1274+_0x4bc0df;},_0x214740['OSFQN']=_0x265312(0x255),_0x214740[_0x265312(0x15b)]=function(_0xd9b3ed,_0x25d782){return _0xd9b3ed-_0x25d782;};const _0x4e1fef=_0x214740,_0x5f462d=global_registry[_0x265312(0x18b)][_0x265312(0x154)]('-'),_0x50b3da=_0x4e1fef[_0x265312(0x1d4)](_0x4e1fef[_0x265312(0x297)],_0x5f462d[_0x4e1fef[_0x265312(0x15b)](_0x5f462d['length'],0x1)])[_0x265312(0x1ee)](0x0,0x18);return _0x50b3da[_0x265312(0x1f3)]();}[a1_0x173cf4(0x20d)](_0x4b13ce){const _0x33f65b=a1_0x173cf4,_0x4b5285={};_0x4b5285[_0x33f65b(0x223)]=_0x33f65b(0x269);const _0x3d6d64=_0x4b5285,_0x2445d5=_0x3d6d64[_0x33f65b(0x223)][_0x33f65b(0x154)]('|');let _0x181141=0x0;while(!![]){switch(_0x2445d5[_0x181141++]){case'0':this[_0x33f65b(0x100)]();continue;case'1':global_registry[_0x33f65b(0xee)]=_0x4b13ce[this[_0x33f65b(0x1de)]][_0x33f65b(0x203)];continue;case'2':global_registry[_0x33f65b(0x1ed)]=_0x4b13ce[this[_0x33f65b(0x1de)]][_0x33f65b(0x1b1)];continue;case'3':global_registry[_0x33f65b(0x181)]=_0x4b13ce[this[_0x33f65b(0x1de)]][_0x33f65b(0x10e)];continue;case'4':global_registry['cloudProviderSubscriptionId']=_0x4b13ce[this['cloudProviderName']][_0x33f65b(0x2cb)];continue;case'5':global_registry[_0x33f65b(0x136)]=_0x4b13ce[this['cloudProviderName']][_0x33f65b(0x263)];continue;}break;}}async[a1_0x173cf4(0x159)](_0x20e6da,_0x19c598){const _0x18ddbc=a1_0x173cf4,_0x2c908e={'xtwnY':function(_0x388783,_0x374c60){return _0x388783+_0x374c60;},'txeWb':_0x18ddbc(0x255),'nbNTs':function(_0x547c6c,_0x5708c2){return _0x547c6c-_0x5708c2;},'lylAK':_0x18ddbc(0x188),'PuVrp':_0x18ddbc(0x2b4),'QMRJl':_0x18ddbc(0x2bd),'YEbKg':function(_0x53df41,_0x1170a1){return _0x53df41(_0x1170a1);},'tPmMc':function(_0x1dccf6,_0x4dbdb7){return _0x1dccf6(_0x4dbdb7);},'agCeI':function(_0x195278,_0x43ef2d){return _0x195278(_0x43ef2d);},'PEcPV':function(_0x343fdb,_0x5874d0){return _0x343fdb===_0x5874d0;},'tEnus':function(_0xafd6da,_0x484a1c){return _0xafd6da===_0x484a1c;},'jlSwi':_0x18ddbc(0x2a5),'SXUhX':_0x18ddbc(0x26e),'qgzNS':function(_0x1583fc,_0x5967b0){return _0x1583fc===_0x5967b0;},'PIFft':function(_0x9bf5bd,_0x4b5e57){return _0x9bf5bd!==_0x4b5e57;},'HVahO':_0x18ddbc(0x1e6),'qTkXj':function(_0xeb5271,_0x18910f){return _0xeb5271===_0x18910f;},'gXffo':function(_0x273d83,_0x2b8d53){return _0x273d83===_0x2b8d53;},'hZspG':function(_0x332430,_0x59c846){return _0x332430===_0x59c846;},'HkDVE':_0x18ddbc(0x292),'RfAAd':_0x18ddbc(0x1aa),'UZbTr':_0x18ddbc(0x267),'nOHaJ':function(_0x414465,_0x1138bc){return _0x414465!==_0x1138bc;},'lSXNv':_0x18ddbc(0x146),'aHiDK':_0x18ddbc(0x1ad),'ikmpX':_0x18ddbc(0x1c7),'nEvgy':'HLVxw','bkwww':function(_0x4c4cfd,_0x3d541f){return _0x4c4cfd<_0x3d541f;},'IPBsP':_0x18ddbc(0x2a8),'utHeG':_0x18ddbc(0x109),'RUrIG':function(_0x3f621a,_0x217c2d){return _0x3f621a+_0x217c2d;},'GLWPi':_0x18ddbc(0x2cc),'JaRoR':function(_0x186b2c,_0x1671ee){return _0x186b2c(_0x1671ee);},'qLIxH':function(_0x5c0477,_0x33aaa3){return _0x5c0477<=_0x33aaa3;},'pxBrO':function(_0x223ac0,_0x1ad41a){return _0x223ac0>_0x1ad41a;},'tFkGT':_0x18ddbc(0x1a5),'dfwlC':_0x18ddbc(0x12e),'KJGOM':function(_0x427e16,_0x45acfb){return _0x427e16-_0x45acfb;}},_0x222abc=this[_0x18ddbc(0x1de)][_0x18ddbc(0x29e)](),_0x2fb7be=await _0x2c908e[_0x18ddbc(0x144)](_0x20e6da,_0x222abc+'\x20CLIENT\x20ID:\x20'),_0x172295=await _0x2c908e[_0x18ddbc(0x144)](_0x20e6da,_0x222abc+_0x18ddbc(0x237)),_0x50acda=await _0x2c908e[_0x18ddbc(0x15c)](_0x20e6da,_0x222abc+'\x20TENANT\x20ID:\x20'),_0x2f73fb=await _0x2c908e[_0x18ddbc(0x119)](_0x20e6da,_0x222abc+_0x18ddbc(0x25a));global_registry[_0x18ddbc(0x181)]=_0x2fb7be,global_registry[_0x18ddbc(0x136)]=_0x172295,global_registry[_0x18ddbc(0x1ed)]=_0x50acda,global_registry[_0x18ddbc(0x23f)]=_0x2f73fb,this['setClients']();const _0x56dfbd=await this[_0x18ddbc(0xe1)](),_0x1ae994=_0x56dfbd[_0x18ddbc(0x2a9)];let _0x2f5128;if(_0x2c908e[_0x18ddbc(0x15d)](_0x1ae994,0x0)){if(_0x2c908e['tEnus'](_0x2c908e['jlSwi'],_0x2c908e[_0x18ddbc(0x22c)]))return _0x3db4ed[_0x18ddbc(0x115)](_0x18ddbc(0xf4)+_0x34f852+_0x18ddbc(0x1a2)+_0x55892f),[![],[]];else _0x2f5128=await _0x2c908e['agCeI'](_0x20e6da,_0x222abc+_0x18ddbc(0x1e9));}else{if(_0x2c908e[_0x18ddbc(0x22d)](_0x1ae994,0x1)){if(_0x2c908e['PIFft'](_0x2c908e[_0x18ddbc(0x2aa)],_0x2c908e['HVahO'])){const _0x23864c=_0xb23314[_0x18ddbc(0x18b)][_0x18ddbc(0x154)]('-'),_0x469b57=_0x2c908e[_0x18ddbc(0x149)](_0x2c908e[_0x18ddbc(0x142)],_0x23864c[_0x2c908e['nbNTs'](_0x23864c[_0x18ddbc(0x2a9)],0x1)])[_0x18ddbc(0x1ee)](0x0,0x18);return _0x469b57[_0x18ddbc(0x1f3)]();}else{const _0x21bc60=await _0x2c908e[_0x18ddbc(0x119)](_0x20e6da,'Found\x20only\x20one\x20resource\x20group:\x20'+_0x56dfbd[0x0]+'\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20');if(_0x2c908e[_0x18ddbc(0x2af)](_0x21bc60,undefined)||_0x2c908e[_0x18ddbc(0x114)](_0x21bc60,null)||!(_0x2c908e['tEnus'](_0x21bc60[_0x18ddbc(0x1f3)](),'y')||_0x2c908e['gXffo'](_0x21bc60[_0x18ddbc(0x1f3)](),'n'))){if(_0x2c908e[_0x18ddbc(0x233)](_0x2c908e[_0x18ddbc(0x216)],_0x2c908e[_0x18ddbc(0x1b2)])){_0xbbe1a9[_0x18ddbc(0x12a)](_0x2c908e[_0x18ddbc(0x296)]);const _0x5be058={};_0x5be058['type']=_0x20c18d[_0x18ddbc(0x177)],_0x5be058[_0x18ddbc(0x1e4)]=_0x2c908e['lylAK'],this['webSocketUtils'][_0x18ddbc(0xf7)](this[_0x18ddbc(0x196)],_0x5be058);const _0x560e92={};_0x560e92['enabled']=!![];const _0x41c343={'workloadIdentity':_0x560e92,..._0x4aa14f[_0x18ddbc(0x125)]};_0x3cb6d8[_0x18ddbc(0x125)]=_0x41c343;}else console['error'](_0x2c908e['UZbTr']),process[_0x18ddbc(0x1ba)](0x1);}if(_0x2c908e['gXffo'](_0x21bc60[_0x18ddbc(0x1f3)](),'n')){if(_0x2c908e['nOHaJ'](_0x2c908e[_0x18ddbc(0x280)],_0x2c908e[_0x18ddbc(0x195)]))process[_0x18ddbc(0x1ba)](0x0);else{const _0x5edbae=_0x53e0cf[_0x18ddbc(0x19d)](_0xeab0cd);_0x55a76f+='\x0a\x09'+_0x134412+':\x20'+(_0x5edbae?_0x2c908e[_0x18ddbc(0x19f)]:_0x2c908e[_0x18ddbc(0x240)]),!_0x5edbae&&(_0x2475a1['status']=![]);}}_0x2f5128=_0x56dfbd[0x0];}}else{if(_0x2c908e[_0x18ddbc(0x22d)](_0x2c908e[_0x18ddbc(0x2a1)],_0x2c908e[_0x18ddbc(0xda)]))return[!![],_0x4d9ef7];else{for(let _0xf426ce=0x0;_0x2c908e[_0x18ddbc(0x1f4)](_0xf426ce,_0x56dfbd[_0x18ddbc(0x2a9)]);_0xf426ce+=0x1){_0x2c908e[_0x18ddbc(0x1a4)](_0x2c908e[_0x18ddbc(0x206)],_0x2c908e['utHeG'])?_0x5181e8[_0x18ddbc(0x115)]=_0x5c4aee:console[_0x18ddbc(0x1b3)]('['+_0x2c908e[_0x18ddbc(0x286)](_0xf426ce,0x1)+']\x20'+_0x56dfbd[_0xf426ce]);}const _0x46d02b=await _0x2c908e[_0x18ddbc(0x119)](_0x20e6da,_0x2c908e['GLWPi']),_0x2a2547=_0x2c908e['YEbKg'](Number,_0x46d02b);(_0x2c908e[_0x18ddbc(0x19b)](isNaN,_0x2a2547)||_0x2c908e['qLIxH'](_0x2a2547,0x0)||_0x2c908e['pxBrO'](_0x2a2547,_0x1ae994))&&(_0x2c908e[_0x18ddbc(0x15d)](_0x2c908e['tFkGT'],_0x2c908e[_0x18ddbc(0x1b8)])?_0x49a6a5['status']=![]:(console[_0x18ddbc(0x115)](_0x2c908e['UZbTr']),process[_0x18ddbc(0x1ba)](0x1))),_0x2f5128=_0x56dfbd[_0x2c908e[_0x18ddbc(0x2c1)](_0x2a2547,0x1)];}}}global_registry['cloudProviderResourceGroup']=_0x2f5128;const _0x148eb5={};return _0x148eb5[_0x18ddbc(0x10e)]=_0x2fb7be,_0x148eb5[_0x18ddbc(0x263)]=_0x172295,_0x148eb5[_0x18ddbc(0x1b1)]=_0x50acda,_0x148eb5['subscriptionId']=_0x2f73fb,_0x148eb5[_0x18ddbc(0x203)]=_0x2f5128,_0x19c598[_0x18ddbc(0x287)][AZURE]=_0x148eb5,_0x19c598;}async[a1_0x173cf4(0xe1)](){const _0x3983ad=a1_0x173cf4,_0x120ce0={};_0x120ce0[_0x3983ad(0x28d)]=function(_0x4dd296,_0x2a45f9){return _0x4dd296===_0x2a45f9;},_0x120ce0[_0x3983ad(0x243)]=function(_0x3a2f4f,_0x1f059b){return _0x3a2f4f!==_0x1f059b;},_0x120ce0[_0x3983ad(0x231)]=_0x3983ad(0x138),_0x120ce0[_0x3983ad(0x2ad)]=_0x3983ad(0x1b5),_0x120ce0[_0x3983ad(0x2a3)]=_0x3983ad(0x249);const _0x287ce7=_0x120ce0,_0x437e52=[];try{if(_0x287ce7['yJCWL'](_0x287ce7[_0x3983ad(0x231)],_0x287ce7[_0x3983ad(0x231)]))return!![];else{const _0x107676=await this['resourceClient'][_0x3983ad(0x28b)][_0x3983ad(0x197)]();for await(const _0x2b4c6c of _0x107676){if(_0x287ce7[_0x3983ad(0x28d)](_0x287ce7[_0x3983ad(0x2ad)],_0x287ce7['FxjIY'])){if(_0x287ce7['WHjrd'](_0x50eec9['name'],_0x482289))return!![];}else _0x437e52[_0x3983ad(0xea)](_0x2b4c6c[_0x3983ad(0x168)]);}}}catch(_0x14ebc0){}return _0x437e52;}async[a1_0x173cf4(0x22a)](){const _0x5ea5e1=a1_0x173cf4;return this[_0x5ea5e1(0x17f)]=await this[_0x5ea5e1(0x14d)][_0x5ea5e1(0x10b)][_0x5ea5e1(0xdc)](global_registry[_0x5ea5e1(0xee)],this[_0x5ea5e1(0x1d7)]),this[_0x5ea5e1(0x17f)];}async['getKubeConfigData'](){const _0xe1a514=a1_0x173cf4,_0x3e4bb9=await this[_0xe1a514(0x14d)]['managedClusters'][_0xe1a514(0x147)](global_registry[_0xe1a514(0xee)],this[_0xe1a514(0x1d7)]),_0x14d506=_0x3e4bb9[_0xe1a514(0x191)][0x0]['value'][_0xe1a514(0x18f)]();return _0x14d506;}[a1_0x173cf4(0x1df)](_0x37f4e1){const _0xdd1c01=a1_0x173cf4;return _0x37f4e1[_0xdd1c01(0x1fa)][_0xdd1c01(0x207)][_0xdd1c01(0x105)][0x0][_0xdd1c01(0x1f9)];}async[a1_0x173cf4(0x1c2)](){const _0x4f6eeb=a1_0x173cf4,_0x1725bf={'FCjpp':function(_0x12801b,_0x47ed21,_0x43ee26){return _0x12801b(_0x47ed21,_0x43ee26);},'RLStn':function(_0x2d2f2f,_0x428039){return _0x2d2f2f!==_0x428039;},'UhUNa':_0x4f6eeb(0x118),'UYdZS':_0x4f6eeb(0x275),'EyzUh':function(_0x4c4df2,_0xe6056e){return _0x4c4df2!==_0xe6056e;},'bxtPx':_0x4f6eeb(0x16b),'RhfGL':function(_0x4ab2de,_0xc72743){return _0x4ab2de===_0xc72743;},'JbJBM':function(_0x28c7de,_0x17ec76){return _0x28c7de!==_0x17ec76;},'eSPVd':_0x4f6eeb(0x27b)},_0x3281d5=new Array();for await(const _0x33d3ef of this['containerClient'][_0x4f6eeb(0x10b)][_0x4f6eeb(0x2b9)](global_registry['cloudProviderResourceGroup'])){_0x1725bf['RLStn'](_0x1725bf[_0x4f6eeb(0x143)],_0x1725bf[_0x4f6eeb(0xfc)])?_0x3281d5[_0x4f6eeb(0xea)](_0x33d3ef):_0x38b91d['push'](..._0x362cba[_0x4f6eeb(0xe9)]);}for await(const _0x6e5fcc of _0x3281d5){if(_0x1725bf[_0x4f6eeb(0xec)](_0x1725bf[_0x4f6eeb(0x17b)],_0x1725bf[_0x4f6eeb(0x17b)]))_0x1725bf[_0x4f6eeb(0x262)](_0x46939f,()=>_0x362bf7(),0x3e8);else{if(_0x1725bf[_0x4f6eeb(0x192)](_0x6e5fcc[_0x4f6eeb(0x168)],this[_0x4f6eeb(0x1d7)]))return _0x1725bf[_0x4f6eeb(0xdd)](_0x1725bf['eSPVd'],_0x1725bf[_0x4f6eeb(0x219)])?!![]:(await this[_0x4f6eeb(0x22a)](),!![]);}}return![];}async[a1_0x173cf4(0x244)](_0x3a6438=null,_0x3cf578=null){const _0x5d8d2e=a1_0x173cf4,_0x4a9b63={};_0x4a9b63['JdwLV']=_0x5d8d2e(0x178),_0x4a9b63[_0x5d8d2e(0x1db)]='Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity';const _0x518821=_0x4a9b63,_0x7e8db2=_0x518821['JdwLV']['split']('|');let _0x2564d5=0x0;while(!![]){switch(_0x7e8db2[_0x2564d5++]){case'0':return[_0x3a6438,_0x3cf578];case'1':await this[_0x5d8d2e(0x253)]();continue;case'2':await this[_0x5d8d2e(0x2c7)](_0x3a6438,_0x3cf578);continue;case'3':logger[_0x5d8d2e(0x12a)](_0x518821[_0x5d8d2e(0x1db)]);continue;case'4':const _0x47967e={};_0x47967e[_0x5d8d2e(0x26b)]=WS_EVENTS[_0x5d8d2e(0x241)],_0x47967e[_0x5d8d2e(0x1e4)]=_0x518821['Fbivy'],this[_0x5d8d2e(0x235)]['sendEventToBackend'](this[_0x5d8d2e(0x196)],_0x47967e);continue;case'5':this[_0x5d8d2e(0x162)]();continue;}break;}}async[a1_0x173cf4(0x2c7)](_0xe02e5e=null,_0x5002ee=null){const _0x1a6368=a1_0x173cf4,_0x5e3990={};_0x5e3990[_0x1a6368(0x229)]=_0x1a6368(0x217),_0x5e3990[_0x1a6368(0x26f)]='azureresources',_0x5e3990[_0x1a6368(0x2a6)]=_0x1a6368(0x1e2),_0x5e3990[_0x1a6368(0xf9)]='utf-8',_0x5e3990['hXejF']=_0x1a6368(0x2a0),_0x5e3990['YaJCG']=_0x1a6368(0x152),_0x5e3990[_0x1a6368(0x110)]=function(_0xd9e011,_0x5c131c){return _0xd9e011!==_0x5c131c;},_0x5e3990[_0x1a6368(0x123)]=function(_0x48e84e,_0x5bb1f8){return _0x48e84e===_0x5bb1f8;},_0x5e3990['HmASa']='igYHL',_0x5e3990[_0x1a6368(0x295)]='hiGWj',_0x5e3990[_0x1a6368(0x204)]=_0x1a6368(0x25b),_0x5e3990[_0x1a6368(0x202)]=_0x1a6368(0x1c8),_0x5e3990[_0x1a6368(0x218)]='[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]',_0x5e3990[_0x1a6368(0x148)]=_0x1a6368(0x150),_0x5e3990[_0x1a6368(0xdf)]=_0x1a6368(0x1b6),_0x5e3990[_0x1a6368(0x145)]=_0x1a6368(0x19e);const _0x309cbc=_0x5e3990;let _0x521e9a=await fs[_0x1a6368(0x1fc)](path[_0x1a6368(0x2b7)](__dirname,'..',_0x309cbc[_0x1a6368(0x229)],_0x309cbc[_0x1a6368(0x26f)],_0x309cbc[_0x1a6368(0x2a6)]),_0x309cbc['EcWVE']);_0x521e9a=JSON['parse'](_0x521e9a);const _0x391639={};_0x391639[_0x1a6368(0x18a)]=this[_0x1a6368(0x1d7)];const _0x4aa38b={};_0x4aa38b[_0x1a6368(0x18a)]=global_registry[_0x1a6368(0x10f)];const _0x87a07={};_0x87a07[_0x1a6368(0x18a)]=global_registry[_0x1a6368(0x1d9)];const _0x1910a9={};_0x1910a9['value']=global_registry[_0x1a6368(0x2c4)];const _0x407258={};_0x407258[_0x1a6368(0x18a)]=global_registry[_0x1a6368(0x27e)]?_0x309cbc[_0x1a6368(0x1f8)]:_0x309cbc['YaJCG'];const _0x29ca47={};_0x29ca47['clusterName']=_0x391639,_0x29ca47[_0x1a6368(0x199)]=_0x4aa38b,_0x29ca47[_0x1a6368(0x198)]=_0x87a07,_0x29ca47[_0x1a6368(0x18c)]=_0x1910a9,_0x29ca47[_0x1a6368(0x27e)]=_0x407258;let _0x4528c1=_0x29ca47;if(_0x309cbc[_0x1a6368(0x110)](_0xe02e5e,null)&&_0x309cbc[_0x1a6368(0x110)](_0x5002ee,null)){if(_0x309cbc['iRVex'](_0x309cbc[_0x1a6368(0x1ff)],_0x309cbc[_0x1a6368(0x295)]))_0x18f9e4[_0x1a6368(0x115)]=_0xbddc60;else{const _0x4bd9b2={};_0x4bd9b2[_0x1a6368(0x26b)]=_0x309cbc[_0x1a6368(0x204)],_0x4bd9b2[_0x1a6368(0xeb)]={},_0x4bd9b2[_0x1a6368(0xeb)][_0x1a6368(0x268)]=_0x309cbc[_0x1a6368(0x202)];const _0x4a4978={};_0x4a4978[_0x1a6368(0x26b)]=_0x309cbc['oIUin'],_0x4a4978[_0x1a6368(0xeb)]={},_0x4a4978[_0x1a6368(0xeb)]['description']=_0x309cbc[_0x1a6368(0x202)],_0x521e9a[_0x1a6368(0x1e7)]={..._0x521e9a['parameters'],'vpcName':_0x4bd9b2,'subnetName':_0x4a4978};const _0x7adb67={};_0x7adb67[_0x1a6368(0x26a)]=_0x309cbc[_0x1a6368(0x218)],_0x521e9a[_0x1a6368(0x2b8)]=_0x7adb67,_0x521e9a[_0x1a6368(0x271)][0x0][_0x1a6368(0x1ac)][_0x1a6368(0x1b4)][0x0]={..._0x521e9a[_0x1a6368(0x271)][0x0]['properties'][_0x1a6368(0x1b4)][0x0],'vnetSubnetID':_0x309cbc[_0x1a6368(0x148)]};const _0x2eb221={};_0x2eb221[_0x1a6368(0x18a)]=_0xe02e5e;const _0x56f08b={};_0x56f08b[_0x1a6368(0x18a)]=_0x5002ee[0x0],_0x4528c1={..._0x4528c1,'vpcName':_0x2eb221,'subnetName':_0x56f08b};}}await this['resourceClient'][_0x1a6368(0xf0)][_0x1a6368(0x1cd)](global_registry['cloudProviderResourceGroup'],_0x309cbc[_0x1a6368(0xdf)],{'properties':{'template':_0x521e9a,'mode':_0x309cbc['fXTQs'],'parameters':_0x4528c1}});}async[a1_0x173cf4(0x253)](){const _0x1be206=a1_0x173cf4,_0x3f0cf1={};_0x3f0cf1[_0x1be206(0x11c)]=_0x1be206(0x20e),_0x3f0cf1[_0x1be206(0x1ce)]=_0x1be206(0x15a),_0x3f0cf1[_0x1be206(0x21f)]=function(_0x21c7ce,_0x40cee8){return _0x21c7ce!==_0x40cee8;},_0x3f0cf1['IQGlK']=_0x1be206(0x1c0),_0x3f0cf1[_0x1be206(0x29a)]='oCkDc',_0x3f0cf1[_0x1be206(0x21d)]='Creating\x20Azure\x20storage\x20account',_0x3f0cf1[_0x1be206(0x1c4)]=_0x1be206(0x173),_0x3f0cf1['CkHIr']=_0x1be206(0x163),_0x3f0cf1[_0x1be206(0x189)]=function(_0x7ccc50,_0x4cd845){return _0x7ccc50!==_0x4cd845;},_0x3f0cf1[_0x1be206(0x2b0)]='liGJC',_0x3f0cf1[_0x1be206(0x1ab)]=_0x1be206(0x259),_0x3f0cf1[_0x1be206(0x169)]=function(_0x49689b,_0x5a6732){return _0x49689b!==_0x5a6732;},_0x3f0cf1[_0x1be206(0xe6)]=_0x1be206(0x1d3),_0x3f0cf1['uyBhA']='Creating\x20Azure\x20federated\x20identity',_0x3f0cf1['MYKEv']=_0x1be206(0x183);const _0x165078=_0x3f0cf1,_0x3f85ff=await this['isStorageAccountPresent']();if(!_0x3f85ff){if(_0x165078[_0x1be206(0x21f)](_0x165078[_0x1be206(0x187)],_0x165078[_0x1be206(0x29a)])){const _0x2fc4b5={};_0x2fc4b5['type']=WS_EVENTS[_0x1be206(0x241)],_0x2fc4b5['message']=_0x165078[_0x1be206(0x21d)],this[_0x1be206(0x235)]['sendEventToBackend'](this[_0x1be206(0x196)],_0x2fc4b5),logger[_0x1be206(0x12a)](_0x165078[_0x1be206(0x21d)]),await this[_0x1be206(0x27c)]();}else throw new _0x19e47f(_0x165078[_0x1be206(0x11c)],'Received\x20response\x20-\x20'+_0x39f97c[_0x1be206(0x126)](_0x26e490));}else _0x165078[_0x1be206(0x21f)](_0x165078['tyjoL'],_0x165078['tyjoL'])?_0x2b9458[_0x1be206(0x12a)](_0x165078[_0x1be206(0x1ce)]):logger[_0x1be206(0x12a)](_0x165078[_0x1be206(0x22b)]);const _0x3adfa1=await this[_0x1be206(0x27d)]();if(!_0x3adfa1){if(_0x165078['WsuQO'](_0x165078[_0x1be206(0x2b0)],_0x165078[_0x1be206(0x2b0)]))_0x56f58f['push'](_0x288d4f);else{const _0x777f05={};_0x777f05[_0x1be206(0x26b)]=WS_EVENTS['LOG'],_0x777f05[_0x1be206(0x1e4)]=_0x165078[_0x1be206(0x1ab)],this[_0x1be206(0x235)][_0x1be206(0xf7)](this[_0x1be206(0x196)],_0x777f05),logger['info'](_0x165078['AGOPq']),await this[_0x1be206(0x210)]();}}else _0x165078[_0x1be206(0x169)](_0x165078[_0x1be206(0xe6)],_0x165078[_0x1be206(0xe6)])?_0x15c423['push'](_0x13f314):logger[_0x1be206(0x12a)](_0x165078[_0x1be206(0x1ce)]);logger[_0x1be206(0x12a)](_0x165078[_0x1be206(0x121)]),await this[_0x1be206(0x20f)](),logger['info'](_0x165078[_0x1be206(0x108)]);}async[a1_0x173cf4(0x27c)](){const _0x2be68a=a1_0x173cf4,_0x4703f5={};_0x4703f5[_0x2be68a(0x1cb)]=_0x2be68a(0x217),_0x4703f5['FziIT']=_0x2be68a(0x12f),_0x4703f5[_0x2be68a(0x174)]=_0x2be68a(0x1c5),_0x4703f5[_0x2be68a(0x265)]=_0x2be68a(0x153),_0x4703f5[_0x2be68a(0x261)]='turboscale-storageaccount-deployment',_0x4703f5['uWFeT']=_0x2be68a(0x19e),_0x4703f5[_0x2be68a(0x184)]=_0x2be68a(0x127),_0x4703f5[_0x2be68a(0x270)]=_0x2be68a(0x27f),_0x4703f5[_0x2be68a(0x225)]=_0x2be68a(0x176),_0x4703f5[_0x2be68a(0x1fe)]='default';const _0x498ac5=_0x4703f5;let _0x5a82e5=await fs[_0x2be68a(0x1fc)](path[_0x2be68a(0x2b7)](__dirname,'..',_0x498ac5[_0x2be68a(0x1cb)],_0x498ac5[_0x2be68a(0x134)],_0x498ac5[_0x2be68a(0x174)]),_0x498ac5['Nhxsh']);_0x5a82e5=JSON[_0x2be68a(0x22f)](_0x5a82e5);const _0x142be6=this['getStorageAccountName'](),_0x1365e3={};_0x1365e3[_0x2be68a(0x18a)]=_0x142be6;const _0x60978c={};_0x60978c[_0x2be68a(0x23e)]=_0x1365e3,await this[_0x2be68a(0x1af)][_0x2be68a(0xf0)][_0x2be68a(0x1cd)](global_registry[_0x2be68a(0xee)],_0x498ac5[_0x2be68a(0x261)],{'properties':{'template':_0x5a82e5,'mode':_0x498ac5['uWFeT'],'parameters':_0x60978c}});const _0x2b6e31={};_0x2b6e31['daysAfterCreationGreaterThan']=0x3c;const _0x3e7488={};_0x3e7488[_0x2be68a(0x282)]=_0x2b6e31;const _0x4f55a8={};_0x4f55a8[_0x2be68a(0x290)]=_0x3e7488;const _0x5ec11c={};_0x5ec11c[_0x2be68a(0x19a)]=!![],_0x5ec11c[_0x2be68a(0x168)]=_0x498ac5[_0x2be68a(0x184)],_0x5ec11c['type']=_0x498ac5[_0x2be68a(0x270)],_0x5ec11c[_0x2be68a(0xff)]={},_0x5ec11c[_0x2be68a(0xff)][_0x2be68a(0xe9)]=_0x4f55a8,_0x5ec11c[_0x2be68a(0xff)][_0x2be68a(0x2ba)]={},_0x5ec11c[_0x2be68a(0xff)][_0x2be68a(0x2ba)]['blobTypes']=[_0x498ac5[_0x2be68a(0x225)]];const _0x4ff185={};_0x4ff185[_0x2be68a(0x1e5)]=[_0x5ec11c];const _0x2a75cb={};_0x2a75cb[_0x2be68a(0x2bb)]=_0x4ff185;const _0x56d3fd=_0x2a75cb;await this[_0x2be68a(0x1e0)][_0x2be68a(0x120)][_0x2be68a(0x257)](global_registry['cloudProviderResourceGroup'],_0x142be6,_0x498ac5[_0x2be68a(0x1fe)],_0x56d3fd);}async[a1_0x173cf4(0x210)](){const _0x46c7b7=a1_0x173cf4,_0x3bf008={};_0x3bf008[_0x46c7b7(0x1a1)]=_0x46c7b7(0x217),_0x3bf008[_0x46c7b7(0x250)]=_0x46c7b7(0x12f),_0x3bf008[_0x46c7b7(0x2a7)]=_0x46c7b7(0xe7),_0x3bf008['bVgSp']=_0x46c7b7(0x153),_0x3bf008['hxDmY']='turboscale-identity-deployment',_0x3bf008[_0x46c7b7(0x1f5)]=_0x46c7b7(0x19e);const _0x19fc80=_0x3bf008;let _0x4d0ba1=await fs[_0x46c7b7(0x1fc)](path[_0x46c7b7(0x2b7)](__dirname,'..',_0x19fc80['uvgaz'],_0x19fc80[_0x46c7b7(0x250)],_0x19fc80[_0x46c7b7(0x2a7)]),_0x19fc80[_0x46c7b7(0x112)]);_0x4d0ba1=JSON[_0x46c7b7(0x22f)](_0x4d0ba1),await this[_0x46c7b7(0x1af)][_0x46c7b7(0xf0)][_0x46c7b7(0x1cd)](global_registry[_0x46c7b7(0xee)],_0x19fc80[_0x46c7b7(0x1d1)],{'properties':{'template':_0x4d0ba1,'mode':_0x19fc80[_0x46c7b7(0x1f5)],'parameters':{'clusterName':{'value':this['clusterName']}}}});}async[a1_0x173cf4(0x20f)](){const _0x5c7c15=a1_0x173cf4,_0x35e2b5={};_0x35e2b5[_0x5c7c15(0x18e)]='Enabling\x20Local\x20account\x20for\x20the\x20cluster',_0x35e2b5[_0x5c7c15(0x1f7)]=_0x5c7c15(0x251),_0x35e2b5[_0x5c7c15(0x276)]=function(_0xb9c0f7,_0xcbb6f6){return _0xb9c0f7===_0xcbb6f6;},_0x35e2b5[_0x5c7c15(0x258)]=_0x5c7c15(0x24c),_0x35e2b5[_0x5c7c15(0x227)]=_0x5c7c15(0x14e),_0x35e2b5['fnMWS']=_0x5c7c15(0x24b),_0x35e2b5['tQybJ']=_0x5c7c15(0x242),_0x35e2b5[_0x5c7c15(0x1d6)]=function(_0x3dd0be,_0x18fdeb){return _0x3dd0be!==_0x18fdeb;},_0x35e2b5[_0x5c7c15(0x1bc)]=_0x5c7c15(0x111),_0x35e2b5[_0x5c7c15(0xfe)]=_0x5c7c15(0x201),_0x35e2b5[_0x5c7c15(0x28f)]=_0x5c7c15(0x217),_0x35e2b5['dbeEI']='azureresources',_0x35e2b5['tAMsz']=_0x5c7c15(0x153),_0x35e2b5[_0x5c7c15(0x1d2)]='turboscale-federated-deployment',_0x35e2b5[_0x5c7c15(0x23b)]=_0x5c7c15(0x19e);const _0x8a4ed5=_0x35e2b5;if(!this[_0x5c7c15(0x17f)]){if(_0x8a4ed5[_0x5c7c15(0x276)](_0x8a4ed5[_0x5c7c15(0x258)],_0x8a4ed5['hjPdP'])){_0x4219cd[_0x5c7c15(0x12a)](_0x8a4ed5[_0x5c7c15(0x18e)]);const _0x15eb51={};_0x15eb51['type']=_0x84703e[_0x5c7c15(0x177)],_0x15eb51[_0x5c7c15(0x1e4)]=_0x8a4ed5['zCwSw'],this['webSocketUtils'][_0x5c7c15(0xf7)](this[_0x5c7c15(0x196)],_0x15eb51),_0x2b5900[_0x5c7c15(0x1a3)]=![];}else await this['getClusterInfo']();}const _0xf33ee8=this[_0x5c7c15(0x17f)]?.[_0x5c7c15(0xfd)]?.['issuerURL'],_0x74f5e1=[_0x8a4ed5['fnMWS'],_0x8a4ed5['tQybJ']];for await(const _0x5b4211 of _0x74f5e1){if(_0x8a4ed5['hnKPt'](_0x8a4ed5[_0x5c7c15(0x1bc)],_0x8a4ed5['qDYzp'])){let _0x337704=await fs[_0x5c7c15(0x1fc)](path['join'](__dirname,'..',_0x8a4ed5[_0x5c7c15(0x28f)],_0x8a4ed5[_0x5c7c15(0xd9)],_0x5c7c15(0x1f1)+_0x5b4211+_0x5c7c15(0x186)),_0x8a4ed5['tAMsz']);_0x337704=JSON['parse'](_0x337704);const _0x1a8b81={};_0x1a8b81[_0x5c7c15(0x18a)]=_0xf33ee8,await this[_0x5c7c15(0x1af)][_0x5c7c15(0xf0)][_0x5c7c15(0x1cd)](global_registry[_0x5c7c15(0xee)],_0x8a4ed5['iixvD'],{'properties':{'template':_0x337704,'mode':_0x8a4ed5[_0x5c7c15(0x23b)],'parameters':{'oidcIssuer':_0x1a8b81,'gridName':{'value':this[_0x5c7c15(0x155)]},'clusterName':{'value':this['clusterName']}}}});}else{const _0x226753=_0x8a4ed5[_0x5c7c15(0x1f7)][_0x5c7c15(0x154)]('|');let _0x5936f4=0x0;while(!![]){switch(_0x226753[_0x5936f4++]){case'0':_0xc8e51b[_0x5c7c15(0x181)]=_0x5567ca[this[_0x5c7c15(0x1de)]]['clientId'];continue;case'1':_0x396b9d[_0x5c7c15(0x23f)]=_0x4121ee[this[_0x5c7c15(0x1de)]]['subscriptionId'];continue;case'2':_0x3a81f8[_0x5c7c15(0x1ed)]=_0x12afd0[this[_0x5c7c15(0x1de)]]['tenantId'];continue;case'3':_0x9abfff['cloudProviderClientSecret']=_0x55d94a[this[_0x5c7c15(0x1de)]][_0x5c7c15(0x263)];continue;case'4':_0x44e6ac[_0x5c7c15(0xee)]=_0x58a46a[this['cloudProviderName']]['resourceGroup'];continue;case'5':this['setClients']();continue;}break;}}}}async[a1_0x173cf4(0x238)](_0x5b275d,_0x2e879f,_0x22e6df,_0x5ed45b,_0xf0a0a0){const _0x48bda6=a1_0x173cf4,_0x1dc442={};_0x1dc442[_0x48bda6(0xfb)]=_0x48bda6(0x29f),_0x1dc442[_0x48bda6(0x1eb)]=_0x48bda6(0x2b6);const _0x21740c=_0x1dc442,_0x1de75c={};_0x1de75c['type']=WS_EVENTS[_0x48bda6(0x241)],_0x1de75c[_0x48bda6(0x1e4)]=_0x21740c[_0x48bda6(0xfb)],this[_0x48bda6(0x235)]['sendEventToBackend'](this['rws'],_0x1de75c),logger[_0x48bda6(0x12a)](_0x21740c['QOKQj']),await this[_0x48bda6(0x137)]();const _0x28bfc4={};_0x28bfc4['type']=WS_EVENTS[_0x48bda6(0x241)],_0x28bfc4[_0x48bda6(0x1e4)]=_0x21740c[_0x48bda6(0x1eb)],this[_0x48bda6(0x235)]['sendEventToBackend'](this['rws'],_0x28bfc4);}async[a1_0x173cf4(0x137)](){const _0x233605=a1_0x173cf4,_0x28f061={};_0x28f061[_0x233605(0x106)]=function(_0x28176e,_0x4674d9){return _0x28176e===_0x4674d9;},_0x28f061[_0x233605(0x130)]=_0x233605(0x24a),_0x28f061[_0x233605(0x23d)]=function(_0x200c70,_0x877f24){return _0x200c70!==_0x877f24;},_0x28f061[_0x233605(0x107)]=_0x233605(0x160),_0x28f061[_0x233605(0xe4)]=_0x233605(0x217),_0x28f061[_0x233605(0x103)]=_0x233605(0x28a),_0x28f061[_0x233605(0x25c)]=_0x233605(0x10d),_0x28f061[_0x233605(0xe0)]=_0x233605(0x153),_0x28f061[_0x233605(0x17d)]='turboscale-federated-deployment',_0x28f061['dbqDe']='Incremental';const _0x4603f3=_0x28f061;!this[_0x233605(0x17f)]&&(_0x4603f3['ylJaX'](_0x4603f3[_0x233605(0x107)],_0x4603f3[_0x233605(0x107)])?(_0x3fc750+=_0x4603f3[_0x233605(0x106)](_0x3e35e0[_0x233605(0x2a9)],0x0)?_0x4603f3[_0x233605(0x130)]:'',_0x123508['debug']('Role\x20definition\x20response\x20list\x20\x20:\x20\x20'+_0x12a5e2[_0x233605(0x126)](_0x54d028))):await this[_0x233605(0x22a)]());const _0x80652d=this[_0x233605(0x17f)]?.[_0x233605(0xfd)]?.[_0x233605(0x1c1)];let _0x4d957e=await fs[_0x233605(0x1fc)](path[_0x233605(0x2b7)](__dirname,'..',_0x4603f3[_0x233605(0xe4)],_0x4603f3[_0x233605(0x103)],_0x4603f3[_0x233605(0x25c)]),_0x4603f3[_0x233605(0xe0)]);_0x4d957e=JSON[_0x233605(0x22f)](_0x4d957e);const _0x1f3c11={};_0x1f3c11[_0x233605(0x18a)]=_0x80652d,await this[_0x233605(0x1af)][_0x233605(0xf0)][_0x233605(0x1cd)](global_registry[_0x233605(0xee)],_0x4603f3[_0x233605(0x17d)],{'properties':{'template':_0x4d957e,'mode':_0x4603f3[_0x233605(0x1c6)],'parameters':{'oidcIssuer':_0x1f3c11,'namespace':{'value':global_registry[_0x233605(0x211)]},'clusterName':{'value':this[_0x233605(0x1d7)]}}}});}async[a1_0x173cf4(0x25d)](){const _0x4b7fa2=a1_0x173cf4,_0x490b39={};_0x490b39[_0x4b7fa2(0x135)]=_0x4b7fa2(0x163),_0x490b39[_0x4b7fa2(0x1bd)]='No\x20CLI\x20tool\x20required',_0x490b39[_0x4b7fa2(0x11a)]=function(_0x4621f7,_0x4fda25){return _0x4621f7!==_0x4fda25;},_0x490b39[_0x4b7fa2(0x2ae)]=_0x4b7fa2(0x1f2),_0x490b39[_0x4b7fa2(0x1d8)]=function(_0x251582,_0x5d2dd0){return _0x251582===_0x5d2dd0;},_0x490b39[_0x4b7fa2(0x299)]=_0x4b7fa2(0x1fb),_0x490b39[_0x4b7fa2(0x226)]=_0x4b7fa2(0x16d),_0x490b39[_0x4b7fa2(0x2b1)]=_0x4b7fa2(0x16f),_0x490b39[_0x4b7fa2(0x1c9)]='LKhGx';const _0x50cf7a=_0x490b39,_0x40c50a=this[_0x4b7fa2(0x104)](),_0x3f1113=new Array();for await(const _0x5d9799 of this[_0x4b7fa2(0x1e0)]['storageAccounts']['listByResourceGroup'](global_registry[_0x4b7fa2(0xee)])){_0x50cf7a[_0x4b7fa2(0x11a)](_0x50cf7a[_0x4b7fa2(0x2ae)],_0x50cf7a[_0x4b7fa2(0x2ae)])?_0x251d02[_0x4b7fa2(0xea)](_0x15ab74[_0x4b7fa2(0x168)]):_0x3f1113[_0x4b7fa2(0xea)](_0x5d9799);}for await(const _0x192d7c of _0x3f1113){if(_0x50cf7a[_0x4b7fa2(0x1d8)](_0x50cf7a[_0x4b7fa2(0x299)],_0x50cf7a['Grdon']))_0x5c9d06[_0x4b7fa2(0x12a)](_0x50cf7a[_0x4b7fa2(0x135)]);else{if(_0x50cf7a['ksKqD'](_0x192d7c[_0x4b7fa2(0x168)],_0x40c50a)){if(_0x50cf7a['UMqZU'](_0x50cf7a[_0x4b7fa2(0x2b1)],_0x50cf7a[_0x4b7fa2(0x1c9)]))return!![];else{const _0x2c9e53={};_0x2c9e53[_0x4b7fa2(0x1fa)]=!![],_0x2c9e53[_0x4b7fa2(0x115)]=null,_0x2c9e53[_0x4b7fa2(0x274)]=_0x50cf7a[_0x4b7fa2(0x1bd)];const _0x6a5314=_0x2c9e53;return _0x6a5314;}}}}return![];}async['isManagedIdentityPresent'](){const _0x3eb8bd=a1_0x173cf4,_0x485cf0={};_0x485cf0[_0x3eb8bd(0x1f6)]=_0x3eb8bd(0x25b),_0x485cf0[_0x3eb8bd(0x101)]=_0x3eb8bd(0x1c8),_0x485cf0[_0x3eb8bd(0x16a)]=_0x3eb8bd(0x2ab),_0x485cf0[_0x3eb8bd(0x1ef)]=_0x3eb8bd(0x150),_0x485cf0['eCtbB']=function(_0x5df817,_0x815708){return _0x5df817+_0x815708;},_0x485cf0[_0x3eb8bd(0x1bb)]='Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.',_0x485cf0['ylVCw']=function(_0x249eb5,_0x177508){return _0x249eb5!==_0x177508;},_0x485cf0['EQAEJ']='VwGQI',_0x485cf0['Nnyvj']=function(_0x153378,_0x331cf5){return _0x153378===_0x331cf5;},_0x485cf0[_0x3eb8bd(0x19c)]='IZudd',_0x485cf0[_0x3eb8bd(0x1be)]=_0x3eb8bd(0x18d),_0x485cf0['PeClJ']=function(_0x281f41,_0x3dc8dd){return _0x281f41===_0x3dc8dd;},_0x485cf0[_0x3eb8bd(0x14c)]=_0x3eb8bd(0x1ae),_0x485cf0[_0x3eb8bd(0x260)]='QvaPy';const _0x3edad5=_0x485cf0,_0x57a43b=new Array();for await(const _0x5c692c of this['resourceClient'][_0x3eb8bd(0x271)][_0x3eb8bd(0x2b9)](global_registry[_0x3eb8bd(0xee)])){if(_0x3edad5[_0x3eb8bd(0x252)](_0x3edad5[_0x3eb8bd(0x128)],_0x3edad5[_0x3eb8bd(0x128)])){const _0x2da972={};_0x2da972[_0x3eb8bd(0x26b)]=_0x3edad5[_0x3eb8bd(0x1f6)],_0x2da972[_0x3eb8bd(0xeb)]={},_0x2da972[_0x3eb8bd(0xeb)]['description']=_0x3edad5[_0x3eb8bd(0x101)];const _0x3e51b7={};_0x3e51b7[_0x3eb8bd(0x26b)]=_0x3edad5[_0x3eb8bd(0x1f6)],_0x3e51b7[_0x3eb8bd(0xeb)]={},_0x3e51b7[_0x3eb8bd(0xeb)][_0x3eb8bd(0x268)]=_0x3edad5['nwjVC'];const _0x2fbcf9={..._0x21d8f4['parameters']};_0x2fbcf9[_0x3eb8bd(0x1ea)]=_0x2da972,_0x2fbcf9[_0x3eb8bd(0x129)]=_0x3e51b7,_0x18f6c4[_0x3eb8bd(0x1e7)]=_0x2fbcf9;const _0x1ce1e9={};_0x1ce1e9[_0x3eb8bd(0x26a)]=_0x3edad5[_0x3eb8bd(0x16a)],_0x5aa7d3[_0x3eb8bd(0x2b8)]=_0x1ce1e9;const _0x41b411={..._0x28b077[_0x3eb8bd(0x271)][0x0][_0x3eb8bd(0x1ac)][_0x3eb8bd(0x1b4)][0x0]};_0x41b411[_0x3eb8bd(0x26a)]=_0x3edad5[_0x3eb8bd(0x1ef)],_0x4badcc[_0x3eb8bd(0x271)][0x0][_0x3eb8bd(0x1ac)][_0x3eb8bd(0x1b4)][0x0]=_0x41b411;const _0x5b3c52={};_0x5b3c52[_0x3eb8bd(0x18a)]=_0x3c901a;const _0x1ec77e={};_0x1ec77e[_0x3eb8bd(0x18a)]=_0x2dd687[0x0];const _0x408d9f={..._0x215384};_0x408d9f[_0x3eb8bd(0x1ea)]=_0x5b3c52,_0x408d9f[_0x3eb8bd(0x129)]=_0x1ec77e,_0x43d7e9=_0x408d9f;}else _0x57a43b[_0x3eb8bd(0xea)](_0x5c692c);}for await(const _0x23a269 of _0x57a43b){if(_0x3edad5[_0x3eb8bd(0x1fd)](_0x3edad5[_0x3eb8bd(0x19c)],_0x3edad5[_0x3eb8bd(0x1be)]))_0x570dd2[_0x3eb8bd(0x1b3)]('['+_0x3edad5[_0x3eb8bd(0x116)](_0x272085,0x1)+']\x20'+_0x47d31d[_0xe4e417]);else{if(_0x3edad5[_0x3eb8bd(0x1cc)](_0x23a269[_0x3eb8bd(0x168)],'turboscale-managed-identity-'+this[_0x3eb8bd(0x1d7)])){if(_0x3edad5[_0x3eb8bd(0x1cc)](_0x3edad5[_0x3eb8bd(0x14c)],_0x3edad5['XxQwf']))_0x282e59[_0x3eb8bd(0x115)](_0x3edad5['GDAdz']),_0x27e2dd[_0x3eb8bd(0x1ba)](0x1);else return!![];}}}return![];}async[a1_0x173cf4(0x15f)](_0x7f9c2d,_0x4e9e32=0x3){const _0x29034e=a1_0x173cf4,_0x2534c6={'yaXTX':function(_0x1a3148,_0xef4fcf){return _0x1a3148===_0xef4fcf;},'QQVrh':'Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','pizjM':'No\x20attached\x20role\x20for\x20the\x20client\x20key','deSjZ':'jOUSE','hcldu':function(_0x47d1d2,_0x22539f,_0x3aaecc){return _0x47d1d2(_0x22539f,_0x3aaecc);},'vhoWj':_0x29034e(0x214),'srfoU':_0x29034e(0x2bc),'fZdud':function(_0xfea77e,_0x4d3b8d){return _0xfea77e===_0x4d3b8d;},'MoXes':_0x29034e(0x1e3),'HreaF':_0x29034e(0x13e),'dbFSu':function(_0x44130b,_0x5a5b0c){return _0x44130b!==_0x5a5b0c;},'qqbyf':'VvNhQ','yrYUW':'CqWhp','vrcvr':_0x29034e(0x212),'VJLAS':'2023-01-31','zKXZh':function(_0x31e9eb,_0xbe5c5b){return _0x31e9eb===_0xbe5c5b;},'jSMDr':_0x29034e(0x190),'HHQmx':_0x29034e(0xf5),'iVRvB':function(_0x49226b,_0x316d02){return _0x49226b<=_0x316d02;},'dRTte':function(_0x38e0c8,_0x104c4a){return _0x38e0c8===_0x104c4a;},'juGTg':_0x29034e(0x28c),'IZJCP':'iIyfL','LAeMM':function(_0x5bc06b,_0x2c2037){return _0x5bc06b-_0x2c2037;}};try{if(_0x2534c6[_0x29034e(0x15e)](_0x2534c6['vhoWj'],_0x2534c6[_0x29034e(0x2ac)])){if(_0x2534c6['yaXTX'](_0x1b11fe[_0x29034e(0x168)],'turboscale-managed-identity-'+this[_0x29034e(0x1d7)]))return!![];}else{const _0x2d2e31=new Array();for await(const _0x51db6e of this[_0x29034e(0x1af)][_0x29034e(0x271)][_0x29034e(0x2b9)](global_registry[_0x29034e(0xee)])){if(_0x2534c6[_0x29034e(0x157)](_0x2534c6['MoXes'],_0x2534c6[_0x29034e(0xf2)])){_0x381839[_0x29034e(0x12a)](_0x2534c6[_0x29034e(0x1a6)]);const _0x481137={};_0x481137['type']=_0x4482a5[_0x29034e(0x177)],_0x481137[_0x29034e(0x1e4)]=_0x2534c6['QQVrh'],this['webSocketUtils']['sendEventToBackend'](this[_0x29034e(0x196)],_0x481137),_0x13435f[_0x29034e(0xfd)]['enabled']=!![];}else _0x2d2e31[_0x29034e(0xea)](_0x51db6e);}let _0x485d41='';for await(const _0x550656 of _0x2d2e31){if(_0x2534c6[_0x29034e(0x16e)](_0x2534c6['qqbyf'],_0x2534c6['qqbyf']))_0x5d1b67['vpcInfo'][_0x29034e(0xea)](_0x40faf3);else{if(_0x2534c6[_0x29034e(0x157)](_0x550656[_0x29034e(0x168)],_0x7f9c2d)){if(_0x2534c6[_0x29034e(0x16e)](_0x2534c6[_0x29034e(0x141)],_0x2534c6[_0x29034e(0x24d)]))_0x485d41=_0x550656['id'];else return _0x4b2ea0[_0x29034e(0x274)]=_0x2534c6[_0x29034e(0x220)],_0xfe0f56;}}}const _0x298c47=await this[_0x29034e(0x1af)][_0x29034e(0x271)][_0x29034e(0x232)](_0x485d41,_0x2534c6['VJLAS']);return _0x298c47[_0x29034e(0x1ac)][_0x29034e(0x10e)];}}catch(_0x422156){if(_0x2534c6['zKXZh'](_0x2534c6[_0x29034e(0x139)],_0x2534c6[_0x29034e(0x17c)]))_0x3f2f10['push'](_0x3f2c56);else{if(_0x2534c6[_0x29034e(0x13b)](_0x4e9e32,0x0)){if(_0x2534c6[_0x29034e(0x26c)](_0x2534c6[_0x29034e(0x278)],_0x2534c6[_0x29034e(0xe2)]))_0x1291ae['push'](_0x145965);else return logger['error'](_0x29034e(0x179)+_0x422156+':'+_0x422156[_0x29034e(0x23a)]),{};}return await new Promise(_0x508e4b=>{const _0x21b4b9=_0x29034e;_0x2534c6[_0x21b4b9(0x15e)](_0x2534c6['deSjZ'],_0x2534c6['deSjZ'])?_0x2534c6['hcldu'](setTimeout,()=>_0x508e4b(),0x3e8):_0x2f2b64=_0x38627f['id'];}),this['getResourceClientId'](_0x7f9c2d,_0x2534c6[_0x29034e(0x133)](_0x4e9e32,0x1));}}}async['isBrowserstackCluster'](){const _0x16997f=a1_0x173cf4,_0x26f8f1={};_0x26f8f1['PVdCo']=function(_0x3f6ba7,_0x2f1b60){return _0x3f6ba7!==_0x2f1b60;},_0x26f8f1[_0x16997f(0x245)]='pAUeB',_0x26f8f1[_0x16997f(0x2bf)]='kSUhC',_0x26f8f1[_0x16997f(0xf3)]=function(_0x58de91,_0x34a522){return _0x58de91===_0x34a522;},_0x26f8f1[_0x16997f(0x102)]=_0x16997f(0x1b9),_0x26f8f1[_0x16997f(0xef)]=_0x16997f(0x1b0),_0x26f8f1['Vpuxo']=_0x16997f(0x1e1);const _0x29d108=_0x26f8f1;!this['clusterInfo']&&(_0x29d108['PVdCo'](_0x29d108[_0x16997f(0x245)],_0x29d108[_0x16997f(0x2bf)])?await this[_0x16997f(0x22a)]():_0x177619[_0x16997f(0x1ba)](0x0));const _0x6953f5=this[_0x16997f(0x17f)]?.[_0x16997f(0x11e)]||{};if(_0x6953f5&&_0x29d108[_0x16997f(0xf3)](_0x6953f5[_0x29d108[_0x16997f(0x102)]],_0x29d108[_0x16997f(0xef)]))return _0x29d108[_0x16997f(0xf3)](_0x29d108[_0x16997f(0x17e)],_0x29d108['Vpuxo'])?!![]:!![];return![];}async[a1_0x173cf4(0x289)](_0x53ba8f,_0xec1647){const _0x5c33b8=a1_0x173cf4,_0x580880={'bPOkT':function(_0x701892,_0x5853d0){return _0x701892(_0x5853d0);},'RaYnt':_0x5c33b8(0x11d)};await _0x580880['bPOkT'](deleteAgent,_0x53ba8f),await _0x580880[_0x5c33b8(0xe3)](deleteRoutingDeps,_0x53ba8f);const _0x49811a=this[_0x5c33b8(0x14d)];logger[_0x5c33b8(0x12a)]('Deleting\x20the\x20cluster\x20'+this[_0x5c33b8(0x1d7)]),await _0x49811a[_0x5c33b8(0x10b)]['beginDeleteAndWait'](global_registry['cloudProviderResourceGroup'],this[_0x5c33b8(0x1d7)]),logger[_0x5c33b8(0x12a)](_0x580880[_0x5c33b8(0x16c)]);}async[a1_0x173cf4(0x2c3)](){const _0x5d111b=a1_0x173cf4,_0x3c6eb1={};_0x3c6eb1[_0x5d111b(0x272)]=_0x5d111b(0x267),_0x3c6eb1[_0x5d111b(0x131)]=function(_0x432157,_0x1a103f){return _0x432157===_0x1a103f;},_0x3c6eb1[_0x5d111b(0x1d0)]='eczMs',_0x3c6eb1[_0x5d111b(0x1dc)]=_0x5d111b(0x1a7),_0x3c6eb1[_0x5d111b(0x166)]=function(_0x2c3fce,_0x40640a){return _0x2c3fce&&_0x40640a;},_0x3c6eb1[_0x5d111b(0x2b5)]=function(_0x38dc9b,_0x2f3a3b){return _0x38dc9b!==_0x2f3a3b;},_0x3c6eb1['ZJzVY']=_0x5d111b(0xf8),_0x3c6eb1[_0x5d111b(0x29b)]=_0x5d111b(0x2b3),_0x3c6eb1['zJOoZ']=_0x5d111b(0x1d5),_0x3c6eb1[_0x5d111b(0x132)]=_0x5d111b(0x10a),_0x3c6eb1[_0x5d111b(0x29c)]=_0x5d111b(0x10c),_0x3c6eb1[_0x5d111b(0x288)]=_0x5d111b(0x2a2),_0x3c6eb1[_0x5d111b(0x175)]='Enabling\x20Workload\x20identity\x20for\x20the\x20cluster',_0x3c6eb1['dbFWB']=function(_0x45fec6,_0x8fe51b){return _0x45fec6!==_0x8fe51b;},_0x3c6eb1[_0x5d111b(0x256)]=_0x5d111b(0x180),_0x3c6eb1['EDXKE']=_0x5d111b(0x277),_0x3c6eb1['TmmtB']=_0x5d111b(0x1a9);const _0x49c844=_0x3c6eb1;!this[_0x5d111b(0x17f)]&&(_0x49c844[_0x5d111b(0x131)](_0x49c844[_0x5d111b(0x1d0)],_0x49c844[_0x5d111b(0x1dc)])?(_0xe8ca59[_0x5d111b(0x115)](_0x49c844[_0x5d111b(0x272)]),_0xe869ab[_0x5d111b(0x1ba)](0x1)):await this[_0x5d111b(0x22a)]());const _0x241192=this[_0x5d111b(0x17f)],_0x28d9e1=this[_0x5d111b(0x17f)]?.[_0x5d111b(0xfd)]?.[_0x5d111b(0x19a)]||![],_0x598210=this[_0x5d111b(0x17f)]?.[_0x5d111b(0x125)]?.['workloadIdentity']?.['enabled']||![],_0x44ec7f=!this['clusterInfo']?.[_0x5d111b(0x1a3)]||![];if(_0x49c844[_0x5d111b(0x166)](_0x28d9e1,_0x598210)&&_0x44ec7f){if(_0x49c844['FlfHj'](_0x49c844['ZJzVY'],_0x49c844[_0x5d111b(0x29b)]))return;else return _0x387399[_0x5d111b(0x115)]=_0x2235b2[_0x5d111b(0x115)],_0x2fb558;}if(!_0x28d9e1){if(_0x49c844[_0x5d111b(0x2b5)](_0x49c844['zJOoZ'],_0x49c844[_0x5d111b(0x264)]))_0x49c844[_0x5d111b(0x131)](_0x39a558[_0x5d111b(0x168)],_0x3be0bb)&&(_0x2bf4c8=_0x3c7313['id']);else{logger[_0x5d111b(0x12a)](_0x49c844[_0x5d111b(0x132)]);const _0x48e726={};_0x48e726[_0x5d111b(0x26b)]=WS_EVENTS['RESOURCES'],_0x48e726['message']=_0x49c844['oYuKh'],this['webSocketUtils']['sendEventToBackend'](this['rws'],_0x48e726),_0x241192[_0x5d111b(0xfd)][_0x5d111b(0x19a)]=!![];}}if(!_0x598210){if(_0x49c844[_0x5d111b(0x131)](_0x49c844[_0x5d111b(0x29c)],_0x49c844[_0x5d111b(0x288)]))_0x332101[_0x5d111b(0xea)](_0x4b23be);else{logger[_0x5d111b(0x12a)](_0x49c844[_0x5d111b(0x175)]);const _0x125c9f={};_0x125c9f['type']=WS_EVENTS[_0x5d111b(0x177)],_0x125c9f[_0x5d111b(0x1e4)]=_0x49c844['BtzXa'],this[_0x5d111b(0x235)]['sendEventToBackend'](this['rws'],_0x125c9f);const _0x5c43f6={};_0x5c43f6['enabled']=!![],_0x241192['securityProfile']={'workloadIdentity':_0x5c43f6,..._0x241192[_0x5d111b(0x125)]};}}if(!_0x44ec7f){if(_0x49c844[_0x5d111b(0x161)](_0x49c844['vJSOT'],_0x49c844[_0x5d111b(0x293)])){logger['info'](_0x49c844[_0x5d111b(0xf1)]);const _0x42c0d3={};_0x42c0d3[_0x5d111b(0x26b)]=WS_EVENTS[_0x5d111b(0x177)],_0x42c0d3[_0x5d111b(0x1e4)]=_0x49c844[_0x5d111b(0xf1)],this['webSocketUtils'][_0x5d111b(0xf7)](this[_0x5d111b(0x196)],_0x42c0d3),_0x241192['disableLocalAccounts']=![];}else return _0x454bd9['error']('[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20'+_0xcf11f2+':'+_0x4bec15[_0x5d111b(0x23a)]),{};}await this[_0x5d111b(0x14d)][_0x5d111b(0x10b)][_0x5d111b(0x1cd)](global_registry[_0x5d111b(0xee)],this[_0x5d111b(0x1d7)],_0x241192),await this['getClusterInfo']();}async['sendAzureInfoToHST'](){const _0x4c2acf=a1_0x173cf4,_0x246df7={};_0x246df7[_0x4c2acf(0xf6)]=function(_0x5188c3,_0xc5149b){return _0x5188c3===_0xc5149b;},_0x246df7['xPzwi']=_0x4c2acf(0x185),_0x246df7[_0x4c2acf(0x117)]='Bcdjb';const _0x165316=_0x246df7,_0x3e96fd=await this[_0x4c2acf(0xde)][_0x4c2acf(0x213)][_0x4c2acf(0x291)](global_registry[_0x4c2acf(0xee)]),_0x43b1a7={};_0x43b1a7[_0x4c2acf(0x205)]=global_registry[_0x4c2acf(0x1cf)],_0x43b1a7[_0x4c2acf(0x23c)]=global_registry['bstackAccesskey'],_0x43b1a7[_0x4c2acf(0x287)]=AZURE,_0x43b1a7[_0x4c2acf(0x266)]=[];const _0x4792eb=_0x43b1a7;for await(const _0x4d4512 of _0x3e96fd){if(_0x165316[_0x4c2acf(0xf6)](_0x165316['xPzwi'],_0x165316[_0x4c2acf(0x117)]))return!![];else _0x4792eb[_0x4c2acf(0x266)][_0x4c2acf(0xea)](_0x4d4512);}const _0x12ce66={};_0x12ce66[_0x4c2acf(0x26b)]=WS_EVENTS['RESOURCES'],_0x12ce66[_0x4c2acf(0x1e4)]=_0x4792eb,this['webSocketUtils']['sendEventToBackend'](this[_0x4c2acf(0x196)],_0x12ce66);}async['isVPCPresent'](_0x1a19e8){const _0x26b906=a1_0x173cf4,_0x23f945={};_0x23f945['PPmog']=_0x26b906(0xe5),_0x23f945[_0x26b906(0x2be)]=function(_0x4d5b7d,_0x4f4119){return _0x4d5b7d!==_0x4f4119;},_0x23f945[_0x26b906(0x26d)]=_0x26b906(0x298),_0x23f945[_0x26b906(0x21c)]=_0x26b906(0x25e),_0x23f945[_0x26b906(0x2a4)]=function(_0x2b044f,_0x1bdc88){return _0x2b044f===_0x1bdc88;},_0x23f945[_0x26b906(0x193)]='wEEMr',_0x23f945[_0x26b906(0x172)]=_0x26b906(0x273),_0x23f945[_0x26b906(0x1ca)]=function(_0x1ddbb3,_0x421aa6){return _0x1ddbb3===_0x421aa6;},_0x23f945['TkIGi']=_0x26b906(0x29d),_0x23f945['CargK']=_0x26b906(0xdb),_0x23f945[_0x26b906(0x13f)]='NOVuI';const _0x2906ae=_0x23f945;try{if(_0x2906ae[_0x26b906(0x2be)](_0x2906ae[_0x26b906(0x26d)],_0x2906ae[_0x26b906(0x21c)])){const _0x3f098c=await this['networkClient']['virtualNetworks']['listAll'](global_registry['cloudProviderResourceGroup']);for await(const _0xeb0c65 of _0x3f098c){if(_0x2906ae['HBOBo'](_0x2906ae[_0x26b906(0x193)],_0x2906ae[_0x26b906(0x172)])){const _0x33aeb6=new _0x494e90(_0x2ccdb6[_0x26b906(0x1ed)],_0x15845c['cloudProviderClientId'],_0x565a7f[_0x26b906(0x136)]);this[_0x26b906(0x14d)]=new _0x5ec1c4(_0x33aeb6,_0x22222f[_0x26b906(0x23f)]),this[_0x26b906(0x1e0)]=new _0x22783c(_0x33aeb6,_0x4ae31b[_0x26b906(0x23f)]),this[_0x26b906(0x1af)]=new _0x188f1f(_0x33aeb6,_0x47291c[_0x26b906(0x23f)]),this[_0x26b906(0xde)]=new _0x1b7c55(_0x33aeb6,_0x1da150[_0x26b906(0x23f)]),this[_0x26b906(0xd8)]=new _0x4019a2(_0x33aeb6,_0x613d22[_0x26b906(0x23f)]),this[_0x26b906(0x215)]=_0x33aeb6;}else{if(_0x2906ae[_0x26b906(0x2a4)](_0xeb0c65[_0x26b906(0x168)],_0x1a19e8)){if(_0x2906ae['Ithdn'](_0x2906ae['TkIGi'],_0x2906ae['CargK']))return;else return!![];}}}}else return _0x1c114f['status'][_0x26b906(0x207)][_0x26b906(0x105)][0x0][_0x26b906(0x1f9)];}catch(_0x144e9b){return _0x2906ae[_0x26b906(0x2a4)](_0x2906ae[_0x26b906(0x13f)],_0x2906ae[_0x26b906(0x13f)])?(logger['error'](_0x26b906(0x2c6)+_0x1a19e8+_0x26b906(0x140)+_0x144e9b),![]):(_0x527aad['data']=_0x2906ae[_0x26b906(0xe8)],_0x48c837);}return![];}async['isSubnetsValid'](_0x1bc374,_0x4cf055){const _0x3c19e1=a1_0x173cf4,_0x51b379={};_0x51b379[_0x3c19e1(0x27a)]=function(_0x40ca47,_0xd43b44){return _0x40ca47===_0xd43b44;},_0x51b379['nlwTK']=_0x3c19e1(0x11f),_0x51b379[_0x3c19e1(0x239)]=function(_0x22bfbd,_0x27a277){return _0x22bfbd!==_0x27a277;},_0x51b379[_0x3c19e1(0x236)]=_0x3c19e1(0x1b7),_0x51b379[_0x3c19e1(0x124)]='CZJVB';const _0x392e92=_0x51b379;try{if(_0x392e92[_0x3c19e1(0x27a)](_0x392e92[_0x3c19e1(0x122)],_0x392e92[_0x3c19e1(0x122)])){const _0x117138=await this['networkClient']['subnets'][_0x3c19e1(0xdc)](global_registry[_0x3c19e1(0xee)],_0x4cf055,_0x1bc374[0x0]);if(_0x392e92[_0x3c19e1(0x27a)](_0x1bc374[0x0],_0x117138['name']))return _0x392e92[_0x3c19e1(0x239)](_0x392e92['ENbTc'],_0x392e92[_0x3c19e1(0x124)])?[!![],_0x1bc374]:(_0x1f67f1['error']('Cannot\x20find\x20VPC\x20'+_0x17f886+_0x3c19e1(0x140)+_0x400413),![]);}else{if(_0x392e92['LwAUO'](_0xc9c72b['name'],_0x3af72d))return!![];}}catch(_0x452b31){return logger[_0x3c19e1(0x115)](_0x3c19e1(0xf4)+_0x1bc374+_0x3c19e1(0x1a2)+_0x452b31),[![],[]];}return[![],[]];}async[a1_0x173cf4(0x12c)](){const _0x3c11e5=a1_0x173cf4,_0x15eebe={};_0x15eebe[_0x3c11e5(0x164)]='No\x20CLI\x20tool\x20required';const _0x31b4ba=_0x15eebe,_0x57ad4e={};_0x57ad4e[_0x3c11e5(0x1fa)]=!![],_0x57ad4e['error']=null,_0x57ad4e['data']=_0x31b4ba[_0x3c11e5(0x164)];const _0xc7619b=_0x57ad4e;return _0xc7619b;}async[a1_0x173cf4(0x13a)](){const _0x4e7604=a1_0x173cf4,_0x3d44e9={};_0x3d44e9['DTpda']=_0x4e7604(0x158),_0x3d44e9[_0x4e7604(0x228)]=_0x4e7604(0x194),_0x3d44e9['UwoFN']=_0x4e7604(0x151);const _0x2d14ec=_0x3d44e9,_0x412720=await this[_0x4e7604(0x215)][_0x4e7604(0xfa)](_0x2d14ec[_0x4e7604(0x1ec)]),_0x5aa60c={};_0x5aa60c['method']=_0x2d14ec[_0x4e7604(0x228)],_0x5aa60c[_0x4e7604(0x1bf)]={},_0x5aa60c[_0x4e7604(0x1bf)][_0x4e7604(0x25f)]=_0x4e7604(0x14b)+_0x412720[_0x4e7604(0x156)],_0x5aa60c[_0x4e7604(0x1bf)][_0x4e7604(0x21e)]=_0x2d14ec[_0x4e7604(0x1da)];const _0x80604f=_0x5aa60c;return _0x80604f;}async[a1_0x173cf4(0x167)](_0x367703){const _0x5df548=a1_0x173cf4,_0x59fd6f={'zWisB':function(_0x229aad,_0x3b82e4,_0x232972){return _0x229aad(_0x3b82e4,_0x232972);},'hRVUv':function(_0x40a193,_0x387ebb){return _0x40a193===_0x387ebb;},'UIPoC':_0x5df548(0x20e)},_0x5c86d5={};_0x5c86d5['principalId']='',_0x5c86d5[_0x5df548(0x115)]=null;const _0x4ccbdc=_0x5c86d5;try{const _0x5cedea=_0x5df548(0x221)+_0x367703+'\x27',_0x4aced8=await this[_0x5df548(0x13a)](),_0xf28ecd=await _0x59fd6f[_0x5df548(0x2b2)](fetch,_0x5cedea,_0x4aced8),_0x168c6c=await _0xf28ecd['json']();if(!_0x168c6c[_0x5df548(0x18a)]||_0x59fd6f[_0x5df548(0x21a)](_0x168c6c[_0x5df548(0x18a)]['length'],0x0))throw new Error(_0x59fd6f['UIPoC'],_0x5df548(0xed)+JSON[_0x5df548(0x126)](_0x168c6c));_0x4ccbdc[_0x5df548(0x165)]=_0x168c6c[_0x5df548(0x18a)][0x0]['id'];}catch(_0x5e0ddf){_0x4ccbdc['error']=_0x5e0ddf;}return _0x4ccbdc;}async[a1_0x173cf4(0x281)](){const _0x248972=a1_0x173cf4,_0x54f042={};_0x54f042[_0x248972(0x209)]=_0x248972(0x2b4),_0x54f042[_0x248972(0x22e)]=_0x248972(0x2bd),_0x54f042[_0x248972(0x246)]=function(_0x5949d5,_0x22458e){return _0x5949d5!==_0x22458e;},_0x54f042['GslUO']=function(_0x3f4571,_0x2b7454){return _0x3f4571===_0x2b7454;},_0x54f042[_0x248972(0x1e8)]='No\x20attached\x20role\x20for\x20the\x20client\x20key',_0x54f042[_0x248972(0x248)]=function(_0x2ded29,_0x2fda26){return _0x2ded29===_0x2fda26;},_0x54f042[_0x248972(0x2c8)]='No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles',_0x54f042[_0x248972(0x294)]='Action\x20permission\x20list\x20is\x20empty\x0a';const _0x4b431b=_0x54f042,_0x16d1d3={};_0x16d1d3[_0x248972(0x1fa)]=![],_0x16d1d3['error']=null,_0x16d1d3['data']='';const _0x253800=_0x16d1d3;try{let _0x604a9c='';const _0x46ae7e=_0x248972(0x2ca)+global_registry[_0x248972(0x23f)]+'/resourceGroups/'+global_registry[_0x248972(0xee)],_0x5767c7=await this[_0x248972(0x167)](global_registry[_0x248972(0x181)]);if(_0x4b431b[_0x248972(0x246)](_0x5767c7[_0x248972(0x115)],null))return _0x253800[_0x248972(0x115)]=_0x5767c7['error'],_0x253800;const _0x382f2a=_0x248972(0x113)+_0x5767c7[_0x248972(0x165)]+'\x27)',_0x47e023={};_0x47e023['filter']=_0x382f2a;const _0x5f05f1=await this[_0x248972(0xd8)][_0x248972(0x170)][_0x248972(0x2c2)](_0x46ae7e,_0x47e023),_0x9db72e=[];for await(const _0x26bf41 of _0x5f05f1){_0x9db72e[_0x248972(0xea)](_0x26bf41);}if(_0x4b431b[_0x248972(0x285)](_0x9db72e[_0x248972(0x2a9)],0x0))return _0x253800[_0x248972(0x274)]=_0x4b431b['BXSKP'],_0x253800;const _0x89fb8d=[...new Set(_0x9db72e[_0x248972(0x11b)](_0x5a8015=>_0x5a8015[_0x248972(0x208)]))];if(_0x4b431b[_0x248972(0x248)](_0x89fb8d[_0x248972(0x2a9)],0x0))return _0x253800[_0x248972(0x274)]=_0x4b431b['LuZAr'],_0x253800;const _0x22b3b8=[],_0x2a9a85=[];for(const _0x5eb576 of _0x89fb8d){const _0x4b5f2e=await this['authClient'][_0x248972(0x200)][_0x248972(0x232)](_0x5eb576);logger[_0x248972(0x12b)](_0x248972(0x284)+_0x4b5f2e[_0x248972(0x20a)]),_0x22b3b8['push'](_0x4b5f2e),logger[_0x248972(0x12b)](_0x248972(0x182)+JSON[_0x248972(0x126)](_0x4b5f2e[_0x248972(0x17a)])),_0x4b5f2e['permissions'][_0x248972(0x1dd)](_0x2ec859=>{const _0x36c6f2=_0x248972;_0x2a9a85['push'](..._0x2ec859[_0x36c6f2(0xe9)]);});}logger[_0x248972(0x12b)](_0x248972(0x20b)+JSON[_0x248972(0x126)](_0x2a9a85)),_0x4b431b[_0x248972(0x248)](_0x2a9a85[_0x248972(0x2a9)],0x0)&&(_0x604a9c+=_0x4b431b['GslUO'](_0x2a9a85[_0x248972(0x2a9)],0x0)?_0x4b431b['nhBaZ']:'',logger[_0x248972(0x12b)](_0x248972(0x279)+JSON[_0x248972(0x126)](_0x22b3b8))),_0x253800['status']=!![],Object['entries'](PERMISSIONS[_0x248972(0x1a8)])[_0x248972(0x1dd)](([_0x55c40d,_0x1be4bc])=>{const _0x8d3ab9=_0x248972,_0x32b2ca=_0x2a9a85['includes'](_0x55c40d);_0x604a9c+='\x0a\x09'+_0x1be4bc+':\x20'+(_0x32b2ca?_0x4b431b[_0x8d3ab9(0x209)]:_0x4b431b[_0x8d3ab9(0x22e)]),!_0x32b2ca&&(_0x253800[_0x8d3ab9(0x1fa)]=![]);}),_0x253800[_0x248972(0x274)]=_0x604a9c;}catch(_0xe163dd){_0x253800[_0x248972(0x115)]=_0xe163dd;}return _0x253800;}}function a1_0x433a(_0x30f755,_0xd88b45){const _0x16c513=a1_0x16c5();return a1_0x433a=function(_0x433ab1,_0x568c9b){_0x433ab1=_0x433ab1-0xd8;let _0x560cf7=_0x16c513[_0x433ab1];return _0x560cf7;},a1_0x433a(_0x30f755,_0xd88b45);}const a1_0x3916ff={};a1_0x3916ff[a1_0x173cf4(0x24f)]=AzureCloudProvider,module['exports']=a1_0x3916ff;