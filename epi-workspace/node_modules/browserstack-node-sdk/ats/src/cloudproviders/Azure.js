const a1_0x24ff63=a1_0x572d;function a1_0x505e(){const _0x564ba1=['SEtKP','jesMS','listForScope','WlutU','storageClient','wejdh','@azure/arm-resources','getHeader','VHcIv','exports','clusterAutoUpgrade','stringify','UQTeG','vpcInfo','actionPermission\x20:\x20','NEvqv','PMfVP','join','slice','getById','clusterName','getToken','UmZTL','allowed','ycZKb','kQNxq','storageaccount.json','WawNB','kzLIn','ymtjS','isManagedIdentityPresent','EseHc','QRZKD','sjTRb','daysAfterCreationGreaterThan','aPdEb','mceqB','btLzt','YqMTV','MzUOH','s3Bucket','loadBalancer','clusterInfo','TTbmq','ABsqf','QnEHl','NwVlL','definition','uPpwp','gBXPp','parse','userMaxNodes','forEach','.json','tenantId','cred','aByGm','uVtxq','exit','IBjRm','rules','lUqTA','authClient','GlnTZ','yzset','Creating\x20Azure\x20storage\x20account','8XzrVHw','cloudProviderResourceGroup','userInstanceType','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','WctRW','setClients','fviJy','dycnH','FTJUH','TVWlM','DkYda','gRSvX','XujKD','GhvPC','clientSecret','WrXyJ','get','grddI','hdEaf','cfMpd','DMibJ','vQHpi','OMQnO','Storage\x20account\x20already\x20exists,\x20skipping','BISuW','workloadIdentity','federatedidentityuploader.json','lQGcz','variables','Ejkep','GSbDO','banqe','log','LqJYj','vhfzh','QQVvt','WjBdf','Cannot\x20find\x20VPC\x20','txyxY','wInpv','ARnXp','isSubnetsValid','OCdvM','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','dQLLh','LVhuV','resources','message','utf-8','DDaNf','disableLocalAccounts','HvSAH','ZvhMQ','getGridHostname','yaMiV','lpyxG','ByeTe','default','4ArmOCA','fRxlS','No\x20service\x20principal\x20found','ubcWs','\x20CLIENT\x20ID:\x20','xtfLJ','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','data','CmHVy','isStorageAccountPresent','WyRzC','pibXc','createFederatedAccount','qKqXU','getUserInput','HQIKW','dnfYg','YeDOZ','../utils/utilityMethods','fmxJV','actions','zCERQ','240TIYNVW','zZEQN','RYcku','EUmzI','getResourceGroups','hzjAQ','lUuLO','setupNewCluster','Uwemk','5|1|3|0|4|2','ALmlJ','HiKuf','koGBg','pzzuR','GET','33546ClmtES','FQQvE','29196tkqMLY','3615110HOSfED','TeyCQ','createFederatedAccountForHubHA','eXcff','nJETq','securityProfile','VndhM','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','No\x20CLI\x20tool\x20required','JGecu','HhWPE','ZlovD','NREfb','sBMLh','184021nSrWpt','frEZh','QgHAF','SrFfg','subscriptionId','string','rws','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','role\x20name\x20attached\x20-\x20','zhKvk','bstackUsername','roleDefinitions','ldAMi','dsLDs','virtualNetworks','Enabling\x20Local\x20account\x20for\x20the\x20cluster','zafoT','baseBlob','iWUoy','getStorageAccountName','info','stack','NbNFN','FmiHp','hrVCB','https://graph.microsoft.com/.default','LqKuP','getResourceClientId','description','split','oidcIssuerProfile','omKUJ','MpllI','KouVk','FIkht','hrMHj','ErwTj','CVekv','uNFsR','length','bAVYk','UqrOv','1123913heJugh','vnetSubnetID','rHJeU','cloudProviderSubscriptionId','entries','ingress','roleAssignments','klHAm','MWKXM','SgkdT','dInMR','Ahmzv','aPLOl','apQFP','vzQTA','LjKQE','PaLEp','cxFYh','ydqLr','FxDuw','SMGzf','XDmHv','AzureCloudProvider','LgFLn','Creating\x20Azure\x20federated\x20identity','storageAccountName','yhlUu','webSocketUtils','qvBHN','metadata','listAll','resourceGroups','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','Created\x20Azure\x20federated\x20identity','isBrowserstackCluster','rmsSK','status','managedClusters','akscluster.json','debug','location','YTkff','HjGDW','createManagedIdentity','DHCke','tbJwH','createOtherResources','TIukg','beginCreateOrUpdateAndWait','turboscale-federated-deployment','templates','vpcName','oQJwP','NTMcl','[variables(\x27vnetSubnetID\x27)]','NctWd','utvCG','RrEMu','tULPD','username','deployments','LjaxZ','Received\x20response\x20-\x20','BrowserStack','tuAuV','fZRxv','wZVIu','YreNa','xgvsz','managedidentity.json','blockBlob','yCtaY','setCachedCredsInRegistry','Ekorf','aILqM','uzrpV','SXVuL','mAKAe','EpcGK','QGeOs','cloudProviderTenantId','qwREP','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','apEAB','instanceType','zkcnA','LYTTV','LgkMC','duWMd','permissions','cpfMn','PrABs','ZvLsJ','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','../config/constants','setupHubHa','vhQai','path','gzsqy','tags','GddPC','DxWGn','5|2|4|1|6|3|0|7','init','ULHls','toString','Lifecycle','XLokf','GJBkv','SWNwj','isClusterPresent','IIEki','UJLqD','lZhQw','gridName','resourceClient','EGtlw','8693028zxQsmP','Cannot\x20find\x20subnets\x20','PvQrS','readFileAsync','TaEDM','FMwWI','turboscale-cluster-deployment','listByResourceGroup','aKGdD','dwzPc','wSEZL','bDMRW','@azure/arm-network','qrzls','TEphH','aViDE','KTnKm','VMEQm','createStorageAccount','Attached\x20permissions\x20:\x20','UuuAF','kubeconfigs','JMKYZ','turboscale-identity-deployment','createOrUpdate','Deleting\x20the\x20cluster\x20','bFAtL','Found\x20only\x20one\x20resource\x20group:\x20','isCliToolInstalled','mLxpP','true','vLamm','includes','knLXg','thpFf','NBELV','properties','updateClusterAlreadyPresent','zRdJI','24ahXbyF','JqOlk','agentPoolProfiles','MXUTV','Content-Type','JiqTq','cloudProvider','dkCUB','enabled','Xsbty','issuerURL','\x20SUBSCRIPTION\x20ID:\x20','BeAoy','networkClient','zbhOs','browserstack:managedBy','ZjmXd','HlQiY','gnNjw','hubHaNameSpace','adamy','XZwmk','zKZQT','DZgAG','subnetName','turboscale-managed-identity-','subnets','EyoYB','clientId','list','sendAzureInfoToHST','token','chZPG','NuNxj','Creating\x20Azure\x20managed\x20identity','STQeR','No\x20attached\x20role\x20for\x20the\x20client\x20key','azureresources','WQbGv','yQfxP','turboscale-storageaccount-deployment','fcwVN','principalId','tsVAh','deleteCluster','11GBxfKv','cloudProviderName','OtCvV','hostname','turboscale','Incremental','ZaiGq','LOG','Authorization','RESOURCES','toLowerCase','map','sendEventToBackend','gCloR','@azure/arm-authorization','.\x20Error:\x20','EEhNj','application/json','getPrincipalIdFromClientId','federatedidentity','filters','vIPuK','YqADv','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','Blob\x20delete\x20lifecycle','getClusterInfo','IcWpS','aystv','blobTypes','2023-01-31','push','type','YjfLy','Managed\x20identity\x20already\x20exists,\x20skipping','createCluster','csudg','resourceGroup','gOQHq','SdZUx','SdFOJ','IsHDl','hDTMp','containerClient','value','tTvWu','@azure/arm-storage','xdHyl','YuzIz','roleName','name','cloudProviderClientId','YePrA','CTFUM','qPuCk','cloudProviderClientSecret','bstackAccesskey','7465347LUfgxL','eIQwF','accessKey','error','filter','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','parameters','headers','noJeW','RroDX','hZkMG','uekCF','xKfAD','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.'];a1_0x505e=function(){return _0x564ba1;};return a1_0x505e();}(function(_0x110935,_0x26d2b6){const _0x1175d8=a1_0x572d,_0x2b316c=_0x110935();while(!![]){try{const _0x69706a=-parseInt(_0x1175d8(0x14d))/0x1*(-parseInt(_0x1175d8(0xdc))/0x2)+-parseInt(_0x1175d8(0x13e))/0x3*(-parseInt(_0x1175d8(0x117))/0x4)+-parseInt(_0x1175d8(0x12d))/0x5*(parseInt(_0x1175d8(0x13c))/0x6)+parseInt(_0x1175d8(0x177))/0x7*(parseInt(_0x1175d8(0x213))/0x8)+-parseInt(_0x1175d8(0x8c))/0x9+-parseInt(_0x1175d8(0x13f))/0xa+parseInt(_0x1175d8(0x240))/0xb*(parseInt(_0x1175d8(0x1ec))/0xc);if(_0x69706a===_0x26d2b6)break;else _0x2b316c['push'](_0x2b316c['shift']());}catch(_0x479b41){_0x2b316c['push'](_0x2b316c['shift']());}}}(a1_0x505e,0x78406));const fs=require('fs'),path=require(a1_0x24ff63(0x1d8)),yaml=require('js-yaml'),{logger}=require('../config/logger'),{CloudProvider}=require('./CloudProvider'),{deleteRoutingDeps,deleteAgent}=require('../utils/gridComponents'),{AZURE,WS_EVENTS,global_registry}=require(a1_0x24ff63(0x1d5)),PERMISSIONS=require('../permissions/AZURE.json'),{ClientSecretCredential}=require('@azure/identity'),{NetworkManagementClient}=require(a1_0x24ff63(0x1f8)),{StorageManagementClient}=require(a1_0x24ff63(0x81)),{AuthorizationManagementClient}=require(a1_0x24ff63(0x24e)),{ResourceManagementClient}=require(a1_0x24ff63(0xa0)),{ContainerServiceClient}=require('@azure/arm-containerservice'),{runCommand}=require(a1_0x24ff63(0x129));class AzureCloudProvider extends CloudProvider{constructor(_0x32ae8a,_0x5a6d0a,_0x54503a,_0xa3fe1b){const _0x43a57f=a1_0x24ff63,_0x402e38={};_0x402e38['bAVYk']=_0x43a57f(0x1dd);const _0x2ff4c0=_0x402e38,_0x17e45f=_0x2ff4c0[_0x43a57f(0x175)]['split']('|');let _0x389dd3=0x0;while(!![]){switch(_0x17e45f[_0x389dd3++]){case'0':this[_0x43a57f(0x220)]=null;continue;case'1':this[_0x43a57f(0x7e)]=null;continue;case'2':this[_0x43a57f(0xd1)]=null;continue;case'3':this['resourceClient']=null;continue;case'4':this[_0x43a57f(0xc4)]=null;continue;case'5':super(AZURE,_0x32ae8a,_0x5a6d0a,_0x54503a,_0xa3fe1b);continue;case'6':this['storageClient']=null;continue;case'7':this['authClient']=null;continue;}break;}}async[a1_0x24ff63(0x1de)](){const _0x1e4030=a1_0x24ff63;return await super[_0x1e4030(0x1de)](),this;}[a1_0x24ff63(0xe1)](){const _0x573012=a1_0x24ff63,_0x5a83a1=new ClientSecretCredential(global_registry[_0x573012(0x1c7)],global_registry[_0x573012(0x86)],global_registry[_0x573012(0x8a)]);this[_0x573012(0x7e)]=new ContainerServiceClient(_0x5a83a1,global_registry[_0x573012(0x17a)]),this[_0x573012(0x9e)]=new StorageManagementClient(_0x5a83a1,global_registry['cloudProviderSubscriptionId']),this[_0x573012(0x1ea)]=new ResourceManagementClient(_0x5a83a1,global_registry['cloudProviderSubscriptionId']),this[_0x573012(0x220)]=new NetworkManagementClient(_0x5a83a1,global_registry[_0x573012(0x17a)]),this[_0x573012(0xd8)]=new AuthorizationManagementClient(_0x5a83a1,global_registry[_0x573012(0x17a)]),this[_0x573012(0xd1)]=_0x5a83a1;}[a1_0x24ff63(0x160)](){const _0x1b6fb8=a1_0x24ff63,_0x24f6e1={};_0x24f6e1[_0x1b6fb8(0x122)]=function(_0x3b2c53,_0x75d30a){return _0x3b2c53+_0x75d30a;},_0x24f6e1['xSAbp']=_0x1b6fb8(0x244),_0x24f6e1[_0x1b6fb8(0x15a)]=function(_0xa02faa,_0x39e6b2){return _0xa02faa-_0x39e6b2;};const _0x1938a3=_0x24f6e1,_0x128685=global_registry[_0x1b6fb8(0xc2)]['split']('-'),_0x46d2b5=_0x1938a3[_0x1b6fb8(0x122)](_0x1938a3['xSAbp'],_0x128685[_0x1938a3['dsLDs'](_0x128685[_0x1b6fb8(0x174)],0x1)])['slice'](0x0,0x18);return _0x46d2b5[_0x1b6fb8(0x24a)]();}[a1_0x24ff63(0x1bf)](_0x3f8354){const _0x2a8a80=a1_0x24ff63,_0x21b5f3={};_0x21b5f3[_0x2a8a80(0x1a6)]='2|0|1|5|3|4';const _0x37f7ba=_0x21b5f3,_0x2d081a=_0x37f7ba[_0x2a8a80(0x1a6)][_0x2a8a80(0x16a)]('|');let _0x5d9a41=0x0;while(!![]){switch(_0x2d081a[_0x5d9a41++]){case'0':global_registry[_0x2a8a80(0x8a)]=_0x3f8354[this[_0x2a8a80(0x241)]][_0x2a8a80(0xea)];continue;case'1':global_registry[_0x2a8a80(0x1c7)]=_0x3f8354[this[_0x2a8a80(0x241)]][_0x2a8a80(0xd0)];continue;case'2':global_registry[_0x2a8a80(0x86)]=_0x3f8354[this['cloudProviderName']][_0x2a8a80(0x22f)];continue;case'3':global_registry[_0x2a8a80(0xdd)]=_0x3f8354[this['cloudProviderName']][_0x2a8a80(0x78)];continue;case'4':this[_0x2a8a80(0xe1)]();continue;case'5':global_registry['cloudProviderSubscriptionId']=_0x3f8354[this[_0x2a8a80(0x241)]]['subscriptionId'];continue;}break;}}async[a1_0x24ff63(0x125)](_0x22e4b4,_0x32d556){const _0x59bbcc=a1_0x24ff63,_0x32b452={'XZwmk':function(_0xb90cb6,_0x4b4eb2){return _0xb90cb6===_0x4b4eb2;},'SNBfB':_0x59bbcc(0xf3),'Ekorf':'No\x20service\x20principal\x20found','LqJYj':function(_0x356c6c,_0xc55b18){return _0x356c6c(_0xc55b18);},'noJeW':function(_0x232efe,_0x48e6f6){return _0x232efe(_0x48e6f6);},'SgkdT':function(_0x39255c,_0x598bd0){return _0x39255c(_0x598bd0);},'qvBHN':function(_0x58ecc3,_0x3e7ccb){return _0x58ecc3(_0x3e7ccb);},'aKGdD':function(_0xf8117,_0x5895b8){return _0xf8117===_0x5895b8;},'SEtKP':function(_0x16adf4,_0xdc279c){return _0x16adf4!==_0xdc279c;},'EUmzI':'uCxKj','vhfzh':function(_0x37c1e6,_0x4b3dd3){return _0x37c1e6===_0x4b3dd3;},'dInMR':function(_0x5ce717,_0x22f95a){return _0x5ce717===_0x22f95a;},'SeWHm':_0x59bbcc(0x104),'yaMiV':'odKkh','LYqRs':function(_0x253e16,_0x104ab1){return _0x253e16!==_0x104ab1;},'SWNwj':_0x59bbcc(0x14f),'hOayt':'Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','SdFOJ':function(_0x3a53c1,_0x5f13c1){return _0x3a53c1!==_0x5f13c1;},'UqrOv':_0x59bbcc(0x189),'KouVk':'HnubA','WyRzC':function(_0xe13e4,_0x1e73c1){return _0xe13e4!==_0x1e73c1;},'jxRVN':_0x59bbcc(0x1e8),'btLzt':'wnRJM','ULHls':function(_0x191f9b,_0x5bed3e){return _0x191f9b<_0x5bed3e;},'rmsSK':function(_0x59311a,_0x4a5d1e){return _0x59311a===_0x4a5d1e;},'zikRu':_0x59bbcc(0x88),'dkCUB':_0x59bbcc(0x1a4),'tULPD':function(_0xe7c735,_0x21b65c){return _0xe7c735+_0x21b65c;},'SXVuL':function(_0x9872f1,_0xe11b85){return _0x9872f1(_0xe11b85);},'Ejkep':_0x59bbcc(0x11d),'MzUOH':function(_0x2ee21a,_0x46e4e9){return _0x2ee21a(_0x46e4e9);},'wSEZL':function(_0x65982f,_0xd6d5e3){return _0x65982f(_0xd6d5e3);},'yaKAk':function(_0x46b9de,_0x36b393){return _0x46b9de<=_0x36b393;},'DMibJ':function(_0xd5993f,_0xb822e7){return _0xd5993f>_0xb822e7;},'EGtlw':function(_0xcf9838,_0x431a08){return _0xcf9838!==_0x431a08;},'RfYbh':_0x59bbcc(0x1a0),'REiuO':'TKWKI','jgxxM':function(_0x1aa748,_0x223da5){return _0x1aa748-_0x223da5;}},_0x263f15=this[_0x59bbcc(0x241)]['toUpperCase'](),_0x24410c=await _0x32b452['LqJYj'](_0x22e4b4,_0x263f15+_0x59bbcc(0x11b)),_0x194edb=await _0x32b452[_0x59bbcc(0x94)](_0x22e4b4,_0x263f15+'\x20CLIENT\x20SECRET:\x20'),_0x2b1838=await _0x32b452[_0x59bbcc(0x180)](_0x22e4b4,_0x263f15+'\x20TENANT\x20ID:\x20'),_0x3bb0e3=await _0x32b452[_0x59bbcc(0x193)](_0x22e4b4,_0x263f15+_0x59bbcc(0x21e));global_registry[_0x59bbcc(0x86)]=_0x24410c,global_registry[_0x59bbcc(0x8a)]=_0x194edb,global_registry['cloudProviderTenantId']=_0x2b1838,global_registry['cloudProviderSubscriptionId']=_0x3bb0e3,this[_0x59bbcc(0xe1)]();const _0x5aa3ce=await this['getResourceGroups'](),_0x155935=_0x5aa3ce[_0x59bbcc(0x174)];let _0x23ada7;if(_0x32b452['aKGdD'](_0x155935,0x0)){if(_0x32b452[_0x59bbcc(0x9a)](_0x32b452[_0x59bbcc(0x130)],_0x32b452[_0x59bbcc(0x130)])){if(_0x32b452[_0x59bbcc(0x228)](_0x482619[_0x59bbcc(0x85)],_0xdf5b7e))return!![];}else _0x23ada7=await _0x32b452[_0x59bbcc(0xfd)](_0x22e4b4,_0x263f15+'\x20RESOURCE\x20GROUP:\x20');}else{if(_0x32b452[_0x59bbcc(0xfe)](_0x155935,0x1)){if(_0x32b452[_0x59bbcc(0x181)](_0x32b452['SeWHm'],_0x32b452[_0x59bbcc(0x113)]))_0x1dbad3[_0x59bbcc(0x25e)](_0x2886d5);else{const _0x2376dd=await _0x32b452[_0x59bbcc(0xfd)](_0x22e4b4,_0x59bbcc(0x207)+_0x5aa3ce[0x0]+_0x59bbcc(0x1c9));(_0x32b452['aKGdD'](_0x2376dd,undefined)||_0x32b452['aKGdD'](_0x2376dd,null)||!(_0x32b452[_0x59bbcc(0xfe)](_0x2376dd[_0x59bbcc(0x24a)](),'y')||_0x32b452[_0x59bbcc(0x228)](_0x2376dd[_0x59bbcc(0x24a)](),'n')))&&(_0x32b452['LYqRs'](_0x32b452[_0x59bbcc(0x1e4)],_0x32b452[_0x59bbcc(0x1e4)])?_0x4a0941[_0x59bbcc(0x161)](_0x32b452['SNBfB']):(console[_0x59bbcc(0x8f)](_0x32b452['hOayt']),process['exit'](0x1))),_0x32b452[_0x59bbcc(0x1f4)](_0x2376dd['toLowerCase'](),'n')&&(_0x32b452[_0x59bbcc(0x7b)](_0x32b452[_0x59bbcc(0x176)],_0x32b452[_0x59bbcc(0x16e)])?process[_0x59bbcc(0xd4)](0x0):_0x725c8f['push'](_0x4108b2)),_0x23ada7=_0x5aa3ce[0x0];}}else{if(_0x32b452[_0x59bbcc(0x121)](_0x32b452['jxRVN'],_0x32b452[_0x59bbcc(0xbf)])){for(let _0x144ede=0x0;_0x32b452[_0x59bbcc(0x1df)](_0x144ede,_0x5aa3ce[_0x59bbcc(0x174)]);_0x144ede+=0x1){_0x32b452[_0x59bbcc(0x19a)](_0x32b452['zikRu'],_0x32b452[_0x59bbcc(0x21a)])?_0x3a04c3[_0x59bbcc(0x19b)]=![]:console[_0x59bbcc(0xfc)]('['+_0x32b452[_0x59bbcc(0x1b1)](_0x144ede,0x1)+']\x20'+_0x5aa3ce[_0x144ede]);}const _0x1b2d50=await _0x32b452[_0x59bbcc(0x1c3)](_0x22e4b4,_0x32b452[_0x59bbcc(0xf9)]),_0x2bd899=_0x32b452[_0x59bbcc(0xc1)](Number,_0x1b2d50);if(_0x32b452[_0x59bbcc(0x1f6)](isNaN,_0x2bd899)||_0x32b452['yaKAk'](_0x2bd899,0x0)||_0x32b452[_0x59bbcc(0xf0)](_0x2bd899,_0x155935)){if(_0x32b452[_0x59bbcc(0x1eb)](_0x32b452['RfYbh'],_0x32b452['REiuO']))console[_0x59bbcc(0x8f)](_0x32b452['hOayt']),process[_0x59bbcc(0xd4)](0x1);else return!![];}_0x23ada7=_0x5aa3ce[_0x32b452['jgxxM'](_0x2bd899,0x1)];}else throw new _0x16f704(_0x32b452[_0x59bbcc(0x1c0)],_0x59bbcc(0x1b5)+_0x2ac914['stringify'](_0x5665e3));}}global_registry[_0x59bbcc(0xdd)]=_0x23ada7;const _0x262a27={};return _0x262a27['clientId']=_0x24410c,_0x262a27[_0x59bbcc(0xea)]=_0x194edb,_0x262a27[_0x59bbcc(0xd0)]=_0x2b1838,_0x262a27[_0x59bbcc(0x151)]=_0x3bb0e3,_0x262a27['resourceGroup']=_0x23ada7,_0x32d556[_0x59bbcc(0x219)][AZURE]=_0x262a27,_0x32d556;}async[a1_0x24ff63(0x131)](){const _0x2bc8b3=a1_0x24ff63,_0x2b24df={};_0x2b24df[_0x2bc8b3(0x114)]=function(_0x644ffa,_0x4836f5){return _0x644ffa===_0x4836f5;},_0x2b24df['chZPG']=_0x2bc8b3(0x1f5),_0x2b24df[_0x2bc8b3(0x21f)]=function(_0x164102,_0x373ae0){return _0x164102===_0x373ae0;},_0x2b24df[_0x2bc8b3(0xeb)]='GTDMi';const _0x110831=_0x2b24df,_0x370874=[];try{if(_0x110831[_0x2bc8b3(0x114)](_0x110831['chZPG'],_0x110831[_0x2bc8b3(0x233)])){const _0x37fced=await this[_0x2bc8b3(0x1ea)][_0x2bc8b3(0x196)][_0x2bc8b3(0x230)]();for await(const _0x5dbd5f of _0x37fced){if(_0x110831['BeAoy'](_0x110831['WrXyJ'],_0x110831[_0x2bc8b3(0xeb)]))_0x370874[_0x2bc8b3(0x25e)](_0x5dbd5f[_0x2bc8b3(0x85)]);else return _0x2b0849[_0x2bc8b3(0x8f)](_0x2bc8b3(0x101)+_0x57a1fd+'.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20'+_0x881893),![];}}else return _0x35e684['status'][_0x2bc8b3(0xc3)][_0x2bc8b3(0x17c)][0x0][_0x2bc8b3(0x243)];}catch(_0x154503){}return _0x370874;}async[a1_0x24ff63(0x259)](){const _0xd3d524=a1_0x24ff63;return this[_0xd3d524(0xc4)]=await this[_0xd3d524(0x7e)][_0xd3d524(0x19c)][_0xd3d524(0xec)](global_registry[_0xd3d524(0xdd)],this['clusterName']),this[_0xd3d524(0xc4)];}async['getKubeConfigData'](){const _0x19d7b1=a1_0x24ff63,_0x5ccc78=await this[_0x19d7b1(0x7e)][_0x19d7b1(0x19c)]['listClusterAdminCredentials'](global_registry[_0x19d7b1(0xdd)],this[_0x19d7b1(0xae)]),_0x55a4b8=_0x5ccc78[_0x19d7b1(0x201)][0x0][_0x19d7b1(0x7f)][_0x19d7b1(0x1e0)]();return _0x55a4b8;}[a1_0x24ff63(0x112)](_0x5eff1c){const _0x5d1427=a1_0x24ff63;return _0x5eff1c[_0x5d1427(0x19b)][_0x5d1427(0xc3)]['ingress'][0x0][_0x5d1427(0x243)];}async[a1_0x24ff63(0x1e5)](){const _0x360e53=a1_0x24ff63,_0x3b23ba={};_0x3b23ba[_0x360e53(0x148)]=_0x360e53(0x261),_0x3b23ba[_0x360e53(0xba)]=_0x360e53(0x15c),_0x3b23ba[_0x360e53(0x250)]=function(_0x3d3d88,_0x3482d6){return _0x3d3d88!==_0x3482d6;},_0x3b23ba[_0x360e53(0x22e)]=_0x360e53(0x137),_0x3b23ba['FIkht']=function(_0x228e0c,_0x2d4320){return _0x228e0c===_0x2d4320;},_0x3b23ba['hzjAQ']=_0x360e53(0x111),_0x3b23ba[_0x360e53(0xee)]=function(_0x3dd258,_0x20b774){return _0x3dd258===_0x20b774;},_0x3b23ba[_0x360e53(0x1d9)]=_0x360e53(0x12a);const _0x59c9db=_0x3b23ba,_0x1ee74e=new Array();for await(const _0x2a7918 of this[_0x360e53(0x7e)]['managedClusters']['listByResourceGroup'](global_registry[_0x360e53(0xdd)])){_0x59c9db[_0x360e53(0x250)](_0x59c9db[_0x360e53(0x22e)],_0x59c9db[_0x360e53(0x22e)])?_0x49c979['info'](_0x59c9db[_0x360e53(0x148)]):_0x1ee74e['push'](_0x2a7918);}for await(const _0x324ccc of _0x1ee74e){if(_0x59c9db[_0x360e53(0x16f)](_0x59c9db['hzjAQ'],_0x59c9db[_0x360e53(0x132)])){if(_0x59c9db[_0x360e53(0xee)](_0x324ccc[_0x360e53(0x85)],this[_0x360e53(0xae)]))return _0x59c9db['FIkht'](_0x59c9db[_0x360e53(0x1d9)],_0x59c9db['gzsqy'])?(await this['getClusterInfo'](),!![]):(_0x5f0908[_0x360e53(0x8f)](_0x360e53(0x1ed)+_0x4e28af+'.\x20Error:\x20'+_0x3634c9),[![],[]]);}else{_0x3f475c['info'](_0x59c9db[_0x360e53(0xba)]);const _0x451ee0={};_0x451ee0[_0x360e53(0x25f)]=_0x3161ca[_0x360e53(0x249)],_0x451ee0['message']=_0x59c9db[_0x360e53(0xba)],this[_0x360e53(0x192)][_0x360e53(0x24c)](this[_0x360e53(0x153)],_0x451ee0),_0xb6d61a[_0x360e53(0x10f)]=![];}}return![];}async[a1_0x24ff63(0x134)](_0x5993c9=null,_0x3e5345=null){const _0x467fcc=a1_0x24ff63,_0x443a63={};_0x443a63[_0x467fcc(0x191)]='5|3|2|0|4|1',_0x443a63[_0x467fcc(0xb5)]=_0x467fcc(0x1d4);const _0x449a8e=_0x443a63,_0x14c7d1=_0x449a8e['yhlUu'][_0x467fcc(0x16a)]('|');let _0x56a73a=0x0;while(!![]){switch(_0x14c7d1[_0x56a73a++]){case'0':await this[_0x467fcc(0x262)](_0x5993c9,_0x3e5345);continue;case'1':return[_0x5993c9,_0x3e5345];case'2':logger['info'](_0x449a8e[_0x467fcc(0xb5)]);continue;case'3':const _0x4381a2={};_0x4381a2['type']=WS_EVENTS['LOG'],_0x4381a2[_0x467fcc(0x10c)]=_0x449a8e[_0x467fcc(0xb5)],this['webSocketUtils']['sendEventToBackend'](this[_0x467fcc(0x153)],_0x4381a2);continue;case'4':await this[_0x467fcc(0x1a5)]();continue;case'5':this[_0x467fcc(0x231)]();continue;}break;}}async['createCluster'](_0x220a7b=null,_0x5854ff=null){const _0x3aadc1=a1_0x24ff63,_0x364c1c={};_0x364c1c[_0x3aadc1(0x202)]=_0x3aadc1(0x1a9),_0x364c1c[_0x3aadc1(0x239)]=_0x3aadc1(0x238),_0x364c1c[_0x3aadc1(0x1b0)]=_0x3aadc1(0x19d),_0x364c1c['JqOlk']=_0x3aadc1(0x10d),_0x364c1c[_0x3aadc1(0x139)]=_0x3aadc1(0x20a),_0x364c1c[_0x3aadc1(0x23c)]='false',_0x364c1c['qKqXU']=function(_0x308a8b,_0x36a147){return _0x308a8b!==_0x36a147;},_0x364c1c[_0x3aadc1(0x14c)]=function(_0x566396,_0x2730d3){return _0x566396!==_0x2730d3;},_0x364c1c[_0x3aadc1(0xfa)]=_0x3aadc1(0x103),_0x364c1c[_0x3aadc1(0x25b)]=_0x3aadc1(0x97),_0x364c1c[_0x3aadc1(0x9b)]=_0x3aadc1(0x152),_0x364c1c['zkcnA']='Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.',_0x364c1c[_0x3aadc1(0xf1)]='[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]',_0x364c1c[_0x3aadc1(0x173)]=_0x3aadc1(0x1ad),_0x364c1c[_0x3aadc1(0x12c)]=_0x3aadc1(0x1f2),_0x364c1c[_0x3aadc1(0x135)]=_0x3aadc1(0x245);const _0x1c8fc0=_0x364c1c;let _0x14eb1e=await fs[_0x3aadc1(0x1ef)](path['join'](__dirname,'..',_0x1c8fc0['JMKYZ'],_0x1c8fc0[_0x3aadc1(0x239)],_0x1c8fc0[_0x3aadc1(0x1b0)]),_0x1c8fc0[_0x3aadc1(0x214)]);_0x14eb1e=JSON[_0x3aadc1(0xcc)](_0x14eb1e);const _0x27625e={};_0x27625e[_0x3aadc1(0x7f)]=this[_0x3aadc1(0xae)];const _0x486d9d={};_0x486d9d['value']=global_registry['clusterRegion'];const _0x26e714={};_0x26e714[_0x3aadc1(0x7f)]=global_registry[_0x3aadc1(0x1cb)];const _0x2de040={};_0x2de040[_0x3aadc1(0x7f)]=global_registry['maxNodes'];const _0x278fae={};_0x278fae[_0x3aadc1(0x7f)]=global_registry['clusterAutoUpgrade']?_0x1c8fc0[_0x3aadc1(0x139)]:_0x1c8fc0[_0x3aadc1(0x23c)];const _0x462e6b={};_0x462e6b[_0x3aadc1(0xae)]=_0x27625e,_0x462e6b[_0x3aadc1(0x19f)]=_0x486d9d,_0x462e6b[_0x3aadc1(0xde)]=_0x26e714,_0x462e6b[_0x3aadc1(0xcd)]=_0x2de040,_0x462e6b[_0x3aadc1(0xa4)]=_0x278fae;let _0xaa8e4=_0x462e6b;if(_0x1c8fc0[_0x3aadc1(0x124)](_0x220a7b,null)&&_0x1c8fc0[_0x3aadc1(0x14c)](_0x5854ff,null)){if(_0x1c8fc0[_0x3aadc1(0x14c)](_0x1c8fc0[_0x3aadc1(0xfa)],_0x1c8fc0[_0x3aadc1(0x25b)])){const _0x249fc7={};_0x249fc7[_0x3aadc1(0x25f)]=_0x1c8fc0[_0x3aadc1(0x9b)],_0x249fc7[_0x3aadc1(0x194)]={},_0x249fc7[_0x3aadc1(0x194)][_0x3aadc1(0x169)]=_0x1c8fc0[_0x3aadc1(0x1cc)];const _0x5901d5={};_0x5901d5[_0x3aadc1(0x25f)]=_0x1c8fc0[_0x3aadc1(0x9b)],_0x5901d5[_0x3aadc1(0x194)]={},_0x5901d5[_0x3aadc1(0x194)][_0x3aadc1(0x169)]=_0x1c8fc0[_0x3aadc1(0x1cc)],_0x14eb1e[_0x3aadc1(0x92)]={..._0x14eb1e[_0x3aadc1(0x92)],'vpcName':_0x249fc7,'subnetName':_0x5901d5};const _0x571b00={};_0x571b00['vnetSubnetID']=_0x1c8fc0[_0x3aadc1(0xf1)],_0x14eb1e[_0x3aadc1(0xf8)]=_0x571b00,_0x14eb1e['resources'][0x0]['properties'][_0x3aadc1(0x215)][0x0]={..._0x14eb1e[_0x3aadc1(0x10b)][0x0][_0x3aadc1(0x210)][_0x3aadc1(0x215)][0x0],'vnetSubnetID':_0x1c8fc0[_0x3aadc1(0x173)]};const _0x50b923={};_0x50b923[_0x3aadc1(0x7f)]=_0x220a7b;const _0x40feca={};_0x40feca[_0x3aadc1(0x7f)]=_0x5854ff[0x0],_0xaa8e4={..._0xaa8e4,'vpcName':_0x50b923,'subnetName':_0x40feca};}else return;}await this[_0x3aadc1(0x1ea)][_0x3aadc1(0x1b3)]['beginCreateOrUpdateAndWait'](global_registry[_0x3aadc1(0xdd)],_0x1c8fc0['zCERQ'],{'properties':{'template':_0x14eb1e,'mode':_0x1c8fc0['Uwemk'],'parameters':_0xaa8e4}});}async[a1_0x24ff63(0x1a5)](){const _0x5f43e9=a1_0x24ff63,_0xc816bb={};_0xc816bb[_0x5f43e9(0xb7)]='No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles',_0xc816bb[_0x5f43e9(0xc5)]=function(_0x15ca50,_0x1060f1){return _0x15ca50+_0x1060f1;},_0xc816bb[_0x5f43e9(0x142)]=function(_0x2c86d9,_0x38cbba){return _0x2c86d9!==_0x38cbba;},_0xc816bb[_0x5f43e9(0xb9)]='dgxqh',_0xc816bb[_0x5f43e9(0x12f)]=_0x5f43e9(0xdb),_0xc816bb['fmpBT']=function(_0x37d046,_0x1b955a){return _0x37d046!==_0x1b955a;},_0xc816bb[_0x5f43e9(0x21c)]=_0x5f43e9(0x1e2),_0xc816bb[_0x5f43e9(0x110)]=_0x5f43e9(0x24d),_0xc816bb[_0x5f43e9(0x185)]='Storage\x20account\x20already\x20exists,\x20skipping',_0xc816bb[_0x5f43e9(0x128)]=function(_0x41d911,_0x3687b8){return _0x41d911===_0x3687b8;},_0xc816bb[_0x5f43e9(0x164)]=_0x5f43e9(0x1c6),_0xc816bb['gnNjw']='VLJpC',_0xc816bb[_0x5f43e9(0xb0)]=_0x5f43e9(0x235),_0xc816bb[_0x5f43e9(0x127)]=_0x5f43e9(0x1f0),_0xc816bb['TeTPb']=_0x5f43e9(0x261),_0xc816bb['WSxKc']=_0x5f43e9(0x18f),_0xc816bb[_0x5f43e9(0x11a)]=_0x5f43e9(0x198);const _0x37e4b8=_0xc816bb,_0x479035=await this['isStorageAccountPresent']();if(!_0x479035){if(_0x37e4b8['eXcff'](_0x37e4b8[_0x5f43e9(0xb9)],_0x37e4b8[_0x5f43e9(0xb9)]))return _0x2ec493[_0x5f43e9(0x8f)]=_0x549028['error'],_0x2ac156;else{const _0x43fdbf={};_0x43fdbf[_0x5f43e9(0x25f)]=WS_EVENTS[_0x5f43e9(0x247)],_0x43fdbf[_0x5f43e9(0x10c)]=_0x37e4b8[_0x5f43e9(0x12f)],this[_0x5f43e9(0x192)][_0x5f43e9(0x24c)](this['rws'],_0x43fdbf),logger[_0x5f43e9(0x161)](_0x37e4b8['RYcku']),await this[_0x5f43e9(0x1fe)]();}}else{if(_0x37e4b8['fmpBT'](_0x37e4b8[_0x5f43e9(0x21c)],_0x37e4b8[_0x5f43e9(0x110)]))logger[_0x5f43e9(0x161)](_0x37e4b8[_0x5f43e9(0x185)]);else{const _0x1a9bf9=new _0xcc04c(_0x520495[_0x5f43e9(0x1c7)],_0x41fd10[_0x5f43e9(0x86)],_0x50481c[_0x5f43e9(0x8a)]);this[_0x5f43e9(0x7e)]=new _0x38b07c(_0x1a9bf9,_0x519ceb[_0x5f43e9(0x17a)]),this[_0x5f43e9(0x9e)]=new _0x522477(_0x1a9bf9,_0x2ed4b2['cloudProviderSubscriptionId']),this['resourceClient']=new _0x415849(_0x1a9bf9,_0x34fc13[_0x5f43e9(0x17a)]),this[_0x5f43e9(0x220)]=new _0x2b22c0(_0x1a9bf9,_0x623033[_0x5f43e9(0x17a)]),this['authClient']=new _0x279cf8(_0x1a9bf9,_0x323e12[_0x5f43e9(0x17a)]),this[_0x5f43e9(0xd1)]=_0x1a9bf9;}}const _0x2a869b=await this[_0x5f43e9(0xb8)]();if(!_0x2a869b){if(_0x37e4b8[_0x5f43e9(0x128)](_0x37e4b8[_0x5f43e9(0x164)],_0x37e4b8[_0x5f43e9(0x225)]))return _0x5786e4['data']=_0x37e4b8[_0x5f43e9(0xb7)],_0x55e799;else{const _0xd7678={};_0xd7678[_0x5f43e9(0x25f)]=WS_EVENTS[_0x5f43e9(0x247)],_0xd7678['message']=_0x37e4b8[_0x5f43e9(0xb0)],this[_0x5f43e9(0x192)]['sendEventToBackend'](this[_0x5f43e9(0x153)],_0xd7678),logger[_0x5f43e9(0x161)](_0x37e4b8[_0x5f43e9(0xb0)]),await this[_0x5f43e9(0x1a2)]();}}else _0x37e4b8['YeDOZ'](_0x37e4b8[_0x5f43e9(0x127)],_0x37e4b8[_0x5f43e9(0x127)])?logger[_0x5f43e9(0x161)](_0x37e4b8['TeTPb']):_0x5e23eb[_0x5f43e9(0xfc)]('['+_0x37e4b8[_0x5f43e9(0xc5)](_0x3b7a91,0x1)+']\x20'+_0x26ff52[_0x2bec2c]);logger[_0x5f43e9(0x161)](_0x37e4b8['WSxKc']),await this[_0x5f43e9(0x123)](),logger[_0x5f43e9(0x161)](_0x37e4b8[_0x5f43e9(0x11a)]);}async['createStorageAccount'](){const _0x2183b5=a1_0x24ff63,_0x1012de={};_0x1012de[_0x2183b5(0xa2)]=_0x2183b5(0x1a9),_0x1012de[_0x2183b5(0xd9)]=_0x2183b5(0x238),_0x1012de[_0x2183b5(0xb3)]=_0x2183b5(0xb4),_0x1012de[_0x2183b5(0x96)]=_0x2183b5(0x10d),_0x1012de[_0x2183b5(0x1ab)]=_0x2183b5(0x23b),_0x1012de[_0x2183b5(0xa6)]='Incremental',_0x1012de[_0x2183b5(0x95)]=_0x2183b5(0x258),_0x1012de[_0x2183b5(0xbe)]=_0x2183b5(0x1e1),_0x1012de[_0x2183b5(0x14e)]=_0x2183b5(0x1bd),_0x1012de[_0x2183b5(0x1af)]=_0x2183b5(0x116);const _0x55d571=_0x1012de;let _0x4452a8=await fs[_0x2183b5(0x1ef)](path['join'](__dirname,'..',_0x55d571[_0x2183b5(0xa2)],_0x55d571[_0x2183b5(0xd9)],_0x55d571['kQNxq']),_0x55d571['hZkMG']);_0x4452a8=JSON[_0x2183b5(0xcc)](_0x4452a8);const _0x3efe10=this[_0x2183b5(0x160)](),_0x30d924={};_0x30d924[_0x2183b5(0x7f)]=_0x3efe10;const _0x219ceb={};_0x219ceb[_0x2183b5(0x190)]=_0x30d924,await this[_0x2183b5(0x1ea)][_0x2183b5(0x1b3)][_0x2183b5(0x1a7)](global_registry['cloudProviderResourceGroup'],_0x55d571[_0x2183b5(0x1ab)],{'properties':{'template':_0x4452a8,'mode':_0x55d571['UQTeG'],'parameters':_0x219ceb}});const _0xcd1590={};_0xcd1590[_0x2183b5(0xbc)]=0x3c;const _0x5a8dae={};_0x5a8dae['delete']=_0xcd1590;const _0x5edada={};_0x5edada[_0x2183b5(0x15e)]=_0x5a8dae;const _0x110d2a={};_0x110d2a['enabled']=!![],_0x110d2a[_0x2183b5(0x85)]=_0x55d571[_0x2183b5(0x95)],_0x110d2a['type']=_0x55d571['mceqB'],_0x110d2a[_0x2183b5(0xc9)]={},_0x110d2a[_0x2183b5(0xc9)][_0x2183b5(0x12b)]=_0x5edada,_0x110d2a[_0x2183b5(0xc9)][_0x2183b5(0x254)]={},_0x110d2a[_0x2183b5(0xc9)][_0x2183b5(0x254)][_0x2183b5(0x25c)]=[_0x55d571[_0x2183b5(0x14e)]];const _0x66461={};_0x66461[_0x2183b5(0xd6)]=[_0x110d2a];const _0x2c60c2={};_0x2c60c2['policy']=_0x66461;const _0x239b3b=_0x2c60c2;await this['storageClient']['managementPolicies'][_0x2183b5(0x204)](global_registry[_0x2183b5(0xdd)],_0x3efe10,_0x55d571[_0x2183b5(0x1af)],_0x239b3b);}async['createManagedIdentity'](){const _0x1ed222=a1_0x24ff63,_0x588ec4={};_0x588ec4[_0x1ed222(0x246)]='templates',_0x588ec4[_0x1ed222(0xbb)]=_0x1ed222(0x238),_0x588ec4['YePrA']=_0x1ed222(0x1bc),_0x588ec4[_0x1ed222(0xca)]='utf-8',_0x588ec4['kLxTB']=_0x1ed222(0x203),_0x588ec4[_0x1ed222(0x1c8)]='Incremental';const _0x2a5fbe=_0x588ec4;let _0x82181a=await fs[_0x1ed222(0x1ef)](path[_0x1ed222(0xab)](__dirname,'..',_0x2a5fbe['ZaiGq'],_0x2a5fbe[_0x1ed222(0xbb)],_0x2a5fbe[_0x1ed222(0x87)]),_0x2a5fbe['uPpwp']);_0x82181a=JSON['parse'](_0x82181a),await this[_0x1ed222(0x1ea)][_0x1ed222(0x1b3)][_0x1ed222(0x1a7)](global_registry['cloudProviderResourceGroup'],_0x2a5fbe['kLxTB'],{'properties':{'template':_0x82181a,'mode':_0x2a5fbe[_0x1ed222(0x1c8)],'parameters':{'clusterName':{'value':this[_0x1ed222(0xae)]}}}});}async['createFederatedAccount'](){const _0x5e7ea3=a1_0x24ff63,_0x1ea03b={};_0x1ea03b[_0x5e7ea3(0x20e)]='Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.',_0x1ea03b[_0x5e7ea3(0xe9)]=function(_0x33fa0f,_0x56929a){return _0x33fa0f===_0x56929a;},_0x1ea03b[_0x5e7ea3(0x138)]='DsYoj',_0x1ea03b[_0x5e7ea3(0x1b4)]='HTNgI',_0x1ea03b[_0x5e7ea3(0x15d)]='hub',_0x1ea03b[_0x5e7ea3(0x23a)]='node',_0x1ea03b[_0x5e7ea3(0x1d2)]='PanYO',_0x1ea03b[_0x5e7ea3(0xe8)]=_0x5e7ea3(0xed),_0x1ea03b['QnEHl']=_0x5e7ea3(0x1a9),_0x1ea03b[_0x5e7ea3(0x1d7)]=_0x5e7ea3(0x238),_0x1ea03b['rXAfc']=_0x5e7ea3(0x10d),_0x1ea03b[_0x5e7ea3(0xc0)]=_0x5e7ea3(0x1a8),_0x1ea03b['LgkMC']='Incremental';const _0x4393b3=_0x1ea03b;!this['clusterInfo']&&(_0x4393b3[_0x5e7ea3(0xe9)](_0x4393b3[_0x5e7ea3(0x138)],_0x4393b3[_0x5e7ea3(0x1b4)])?(_0x17cf2d[_0x5e7ea3(0x8f)](_0x4393b3[_0x5e7ea3(0x20e)]),_0x55d734['exit'](0x1)):await this[_0x5e7ea3(0x259)]());const _0x26c1ed=this[_0x5e7ea3(0xc4)]?.[_0x5e7ea3(0x16b)]?.[_0x5e7ea3(0x21d)],_0x299ae2=[_0x4393b3[_0x5e7ea3(0x15d)],_0x4393b3['yQfxP']];for await(const _0x3ca8de of _0x299ae2){if(_0x4393b3['GhvPC'](_0x4393b3[_0x5e7ea3(0x1d2)],_0x4393b3[_0x5e7ea3(0xe8)]))_0x250059[_0x5e7ea3(0x25e)](_0x436ce5);else{let _0x5f17f0=await fs[_0x5e7ea3(0x1ef)](path['join'](__dirname,'..',_0x4393b3[_0x5e7ea3(0xc7)],_0x4393b3['vhQai'],_0x5e7ea3(0x253)+_0x3ca8de+_0x5e7ea3(0xcf)),_0x4393b3['rXAfc']);_0x5f17f0=JSON[_0x5e7ea3(0xcc)](_0x5f17f0);const _0x201a93={};_0x201a93[_0x5e7ea3(0x7f)]=_0x26c1ed,await this[_0x5e7ea3(0x1ea)]['deployments'][_0x5e7ea3(0x1a7)](global_registry[_0x5e7ea3(0xdd)],_0x4393b3[_0x5e7ea3(0xc0)],{'properties':{'template':_0x5f17f0,'mode':_0x4393b3[_0x5e7ea3(0x1ce)],'parameters':{'oidcIssuer':_0x201a93,'gridName':{'value':this[_0x5e7ea3(0x1e9)]},'clusterName':{'value':this[_0x5e7ea3(0xae)]}}}});}}}async[a1_0x24ff63(0x1d6)](_0x36da0a,_0x14498f,_0x3e1053,_0x3645a5,_0x38fa0e){const _0x34026f=a1_0x24ff63,_0x5d2fc4={};_0x5d2fc4[_0x34026f(0x20f)]='Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha',_0x5d2fc4[_0x34026f(0x1d3)]=_0x34026f(0x107);const _0x10b647=_0x5d2fc4,_0x52586f={};_0x52586f[_0x34026f(0x25f)]=WS_EVENTS[_0x34026f(0x247)],_0x52586f['message']=_0x10b647['NBELV'],this[_0x34026f(0x192)][_0x34026f(0x24c)](this[_0x34026f(0x153)],_0x52586f),logger[_0x34026f(0x161)](_0x10b647[_0x34026f(0x20f)]),await this[_0x34026f(0x141)]();const _0xd13bec={};_0xd13bec[_0x34026f(0x25f)]=WS_EVENTS[_0x34026f(0x247)],_0xd13bec[_0x34026f(0x10c)]=_0x10b647[_0x34026f(0x1d3)],this[_0x34026f(0x192)]['sendEventToBackend'](this[_0x34026f(0x153)],_0xd13bec);}async[a1_0x24ff63(0x141)](){const _0x98298f=a1_0x24ff63,_0x164906={};_0x164906[_0x98298f(0xe5)]=_0x98298f(0xb1),_0x164906[_0x98298f(0x183)]='denied',_0x164906['adamy']=function(_0x55732b,_0x4ac49e){return _0x55732b!==_0x4ac49e;},_0x164906[_0x98298f(0x209)]=_0x98298f(0x109),_0x164906['qPuCk']=_0x98298f(0xe0),_0x164906['zRdJI']=_0x98298f(0x1a9),_0x164906[_0x98298f(0x1fd)]='hubharesources',_0x164906[_0x98298f(0xda)]=_0x98298f(0xf6),_0x164906[_0x98298f(0x156)]=_0x98298f(0x10d),_0x164906[_0x98298f(0x1fb)]='turboscale-federated-deployment',_0x164906[_0x98298f(0x1f1)]=_0x98298f(0x245);const _0x55a729=_0x164906;if(!this[_0x98298f(0xc4)]){if(_0x55a729[_0x98298f(0x227)](_0x55a729[_0x98298f(0x209)],_0x55a729[_0x98298f(0x89)]))await this[_0x98298f(0x259)]();else{const _0x547348=_0x41a891[_0x98298f(0x20c)](_0x39e3fa);_0x1b1be9+='\x0a\x09'+_0x3d1961+':\x20'+(_0x547348?_0x55a729[_0x98298f(0xe5)]:_0x55a729[_0x98298f(0x183)]),!_0x547348&&(_0x575c49['status']=![]);}}const _0x358aaf=this[_0x98298f(0xc4)]?.['oidcIssuerProfile']?.['issuerURL'];let _0x4fa226=await fs[_0x98298f(0x1ef)](path[_0x98298f(0xab)](__dirname,'..',_0x55a729[_0x98298f(0x212)],_0x55a729[_0x98298f(0x1fd)],_0x55a729[_0x98298f(0xda)]),_0x55a729[_0x98298f(0x156)]);_0x4fa226=JSON[_0x98298f(0xcc)](_0x4fa226);const _0x215ba6={};_0x215ba6['value']=_0x358aaf,await this['resourceClient']['deployments']['beginCreateOrUpdateAndWait'](global_registry[_0x98298f(0xdd)],_0x55a729[_0x98298f(0x1fb)],{'properties':{'template':_0x4fa226,'mode':_0x55a729[_0x98298f(0x1f1)],'parameters':{'oidcIssuer':_0x215ba6,'namespace':{'value':global_registry[_0x98298f(0x226)]},'clusterName':{'value':this['clusterName']}}}});}async[a1_0x24ff63(0x120)](){const _0x51bb25=a1_0x24ff63,_0x70a67b={};_0x70a67b[_0x51bb25(0x165)]=function(_0x1b856a,_0x4cc918){return _0x1b856a+_0x4cc918;},_0x70a67b[_0x51bb25(0xc8)]=_0x51bb25(0x244),_0x70a67b['JiqTq']=function(_0x3de48b,_0x23f914){return _0x3de48b-_0x23f914;},_0x70a67b['DqkHA']=function(_0x7339d2,_0x4aa36b){return _0x7339d2!==_0x4aa36b;},_0x70a67b[_0x51bb25(0x11f)]='VvMqI',_0x70a67b[_0x51bb25(0x1b9)]=function(_0x5f792f,_0x6f8df5){return _0x5f792f===_0x6f8df5;},_0x70a67b['STQeR']='Amuge',_0x70a67b[_0x51bb25(0xd3)]='lHgtG',_0x70a67b[_0x51bb25(0x17e)]=function(_0xf951fb,_0x44df28){return _0xf951fb===_0x44df28;},_0x70a67b['gOQHq']=_0x51bb25(0xcb);const _0x32e3d9=_0x70a67b,_0x4a329b=this[_0x51bb25(0x160)](),_0x1477e4=new Array();for await(const _0x508776 of this[_0x51bb25(0x9e)]['storageAccounts'][_0x51bb25(0x1f3)](global_registry[_0x51bb25(0xdd)])){if(_0x32e3d9['DqkHA'](_0x32e3d9[_0x51bb25(0x11f)],_0x32e3d9['CmHVy'])){const _0x4c0229=_0x3bc950[_0x51bb25(0xc2)]['split']('-'),_0x51f914=_0x32e3d9[_0x51bb25(0x165)](_0x32e3d9[_0x51bb25(0xc8)],_0x4c0229[_0x32e3d9[_0x51bb25(0x218)](_0x4c0229['length'],0x1)])[_0x51bb25(0xac)](0x0,0x18);return _0x51f914[_0x51bb25(0x24a)]();}else _0x1477e4[_0x51bb25(0x25e)](_0x508776);}for await(const _0x2ea6ce of _0x1477e4){if(_0x32e3d9[_0x51bb25(0x1b9)](_0x32e3d9[_0x51bb25(0x236)],_0x32e3d9['uVtxq']))_0x37848a['error']=_0x9ab43a;else{if(_0x32e3d9[_0x51bb25(0x17e)](_0x2ea6ce['name'],_0x4a329b))return _0x32e3d9[_0x51bb25(0x17e)](_0x32e3d9[_0x51bb25(0x79)],_0x32e3d9[_0x51bb25(0x79)])?!![]:(_0x37f5d0[_0x51bb25(0x8f)](_0x51bb25(0x257)+_0x5672be+':'+_0x2f2e7e['stack']),{});}}return![];}async[a1_0x24ff63(0xb8)](){const _0x188e13=a1_0x24ff63,_0xb6eda5={};_0xb6eda5[_0x188e13(0x17f)]=function(_0x47477b,_0x4ccaca){return _0x47477b===_0x4ccaca;},_0xb6eda5['DDaNf']='Action\x20permission\x20list\x20is\x20empty\x0a',_0xb6eda5[_0x188e13(0x118)]=function(_0x51cc25,_0x3e0290){return _0x51cc25!==_0x3e0290;},_0xb6eda5['fZRxv']=_0x188e13(0x200),_0xb6eda5[_0x188e13(0xd2)]=_0x188e13(0x172),_0xb6eda5[_0x188e13(0x1e7)]=function(_0x1212f5,_0x60e395){return _0x1212f5!==_0x60e395;},_0xb6eda5['iWUoy']=_0x188e13(0x1db),_0xb6eda5[_0x188e13(0x242)]=function(_0x2b843b,_0x37a70f){return _0x2b843b!==_0x37a70f;},_0xb6eda5['YuzIz']=_0x188e13(0x11c);const _0x153702=_0xb6eda5,_0x552e9c=new Array();for await(const _0x2c8df8 of this[_0x188e13(0x1ea)][_0x188e13(0x10b)][_0x188e13(0x1f3)](global_registry[_0x188e13(0xdd)])){if(_0x153702[_0x188e13(0x118)](_0x153702[_0x188e13(0x1b8)],_0x153702[_0x188e13(0xd2)]))_0x552e9c[_0x188e13(0x25e)](_0x2c8df8);else return[!![],_0x37d57f];}for await(const _0x4b5f49 of _0x552e9c){if(_0x153702[_0x188e13(0x1e7)](_0x153702[_0x188e13(0x15f)],_0x153702['iWUoy']))_0x13c694+=_0x153702['MWKXM'](_0x12dad8['length'],0x0)?_0x153702[_0x188e13(0x10e)]:'',_0x27eea5[_0x188e13(0x19e)](_0x188e13(0xdf)+_0x596d9c[_0x188e13(0xa5)](_0x3b020e));else{if(_0x153702[_0x188e13(0x17f)](_0x4b5f49[_0x188e13(0x85)],_0x188e13(0x22c)+this[_0x188e13(0xae)])){if(_0x153702[_0x188e13(0x242)](_0x153702[_0x188e13(0x83)],_0x153702[_0x188e13(0x83)]))_0x23de37[_0x188e13(0x25e)](_0x1673c2);else return!![];}}}return![];}async[a1_0x24ff63(0x168)](_0x981997,_0xaf2df0=0x3){const _0x4bbb38=a1_0x24ff63,_0x457880={'LjKQE':function(_0x2d63e1,_0x1c0553){return _0x2d63e1===_0x1c0553;},'rHJeU':function(_0xe49fe7,_0xfdac98,_0x5172df){return _0xe49fe7(_0xfdac98,_0x5172df);},'zKZQT':_0x4bbb38(0x108),'PaLEp':function(_0x3fe6f9,_0x235f9f){return _0x3fe6f9===_0x235f9f;},'HjGDW':function(_0x4f6a13,_0x51ddea){return _0x4f6a13===_0x51ddea;},'dycnH':'YTUYd','nTMnJ':_0x4bbb38(0x9d),'NTMcl':function(_0x52ffa1,_0x3db195,_0x2231e0){return _0x52ffa1(_0x3db195,_0x2231e0);},'IBjRm':_0x4bbb38(0x147),'yixsI':function(_0x2b7829,_0x508007){return _0x2b7829!==_0x508007;},'MXUTV':_0x4bbb38(0x80),'mAKAe':_0x4bbb38(0x1bb),'vLamm':function(_0x4e445d,_0x4e10a0){return _0x4e445d!==_0x4e10a0;},'DZgAG':_0x4bbb38(0x260),'IUIaa':_0x4bbb38(0x14a),'qrVoi':'UGygV','TeyCQ':function(_0x47b9ff,_0x20e68f){return _0x47b9ff===_0x20e68f;},'omKUJ':_0x4bbb38(0xf4),'ZiiJz':_0x4bbb38(0x25d),'Ahmzv':_0x4bbb38(0x10a),'FxDuw':function(_0x5281a6,_0x53b26a){return _0x5281a6<=_0x53b26a;},'KTnKm':_0x4bbb38(0x77),'xKfAD':function(_0x154143,_0x2b1ef9){return _0x154143-_0x2b1ef9;}};try{if(_0x457880['yixsI'](_0x457880[_0x4bbb38(0x216)],_0x457880[_0x4bbb38(0x1c4)])){const _0x3daff3=new Array();for await(const _0x9b6979 of this[_0x4bbb38(0x1ea)][_0x4bbb38(0x10b)][_0x4bbb38(0x1f3)](global_registry[_0x4bbb38(0xdd)])){if(_0x457880[_0x4bbb38(0x20b)](_0x457880[_0x4bbb38(0x22a)],_0x457880[_0x4bbb38(0x22a)])){if(_0x457880[_0x4bbb38(0x186)](_0x396273[_0x4bbb38(0x85)],_0x225944))return!![];}else _0x3daff3['push'](_0x9b6979);}let _0x301562='';for await(const _0x55ebd1 of _0x3daff3){if(_0x457880['yixsI'](_0x457880['IUIaa'],_0x457880['qrVoi']))_0x457880[_0x4bbb38(0x186)](_0x55ebd1[_0x4bbb38(0x85)],_0x981997)&&(_0x457880[_0x4bbb38(0x140)](_0x457880[_0x4bbb38(0x16c)],_0x457880[_0x4bbb38(0x16c)])?_0x301562=_0x55ebd1['id']:_0x457880[_0x4bbb38(0x179)](_0x2196ca,()=>_0x539de8(),0x3e8));else return!![];}const _0x529f66=await this['resourceClient'][_0x4bbb38(0x10b)]['getById'](_0x301562,_0x457880['ZiiJz']);return _0x529f66[_0x4bbb38(0x210)]['clientId'];}else _0x124165=_0x36ea32['id'];}catch(_0x148e8b){if(_0x457880[_0x4bbb38(0x187)](_0x457880['Ahmzv'],_0x457880[_0x4bbb38(0x182)])){if(_0x457880[_0x4bbb38(0x18a)](_0xaf2df0,0x0)){if(_0x457880['TeyCQ'](_0x457880[_0x4bbb38(0x1fc)],_0x457880['KTnKm']))return logger['error']('[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20'+_0x148e8b+':'+_0x148e8b[_0x4bbb38(0x162)]),{};else{_0x44be0e['info'](_0x457880[_0x4bbb38(0x229)]);const _0x3d1032={};_0x3d1032[_0x4bbb38(0x25f)]=_0x5f3865[_0x4bbb38(0x249)],_0x3d1032[_0x4bbb38(0x10c)]=_0x457880['zKZQT'],this[_0x4bbb38(0x192)]['sendEventToBackend'](this[_0x4bbb38(0x153)],_0x3d1032);const _0x59b6e8={};_0x59b6e8[_0x4bbb38(0x21b)]=!![];const _0x2f766e={'workloadIdentity':_0x59b6e8,..._0x37d8a1[_0x4bbb38(0x144)]};_0x48de46[_0x4bbb38(0x144)]=_0x2f766e;}}return await new Promise(_0x3a1617=>{const _0x1a42b1=_0x4bbb38,_0x34f30d={'PMfVP':function(_0x3a9490,_0xf8c6c3){const _0xe3289b=a1_0x572d;return _0x457880[_0xe3289b(0x187)](_0x3a9490,_0xf8c6c3);}};if(_0x457880[_0x1a42b1(0x1a1)](_0x457880[_0x1a42b1(0xe3)],_0x457880['nTMnJ'])){if(_0x34f30d[_0x1a42b1(0xaa)](_0x3fa488[_0x1a42b1(0x85)],'turboscale-managed-identity-'+this['clusterName']))return!![];}else _0x457880[_0x1a42b1(0x1ac)](setTimeout,()=>_0x3a1617(),0x3e8);}),this[_0x4bbb38(0x168)](_0x981997,_0x457880[_0x4bbb38(0x98)](_0xaf2df0,0x1));}else{const _0x53bc7a={};_0x53bc7a[_0x4bbb38(0x19b)]=!![],_0x53bc7a['error']=null,_0x53bc7a[_0x4bbb38(0x11e)]=_0x457880[_0x4bbb38(0xd5)];const _0x42c9da=_0x53bc7a;return _0x42c9da;}}}async[a1_0x24ff63(0x199)](){const _0xbe898f=a1_0x24ff63,_0x552bd9={};_0x552bd9[_0xbe898f(0x7c)]=function(_0x34de46,_0x430722){return _0x34de46===_0x430722;},_0x552bd9['OCdvM']=_0xbe898f(0xe2),_0x552bd9[_0xbe898f(0x13d)]='kSpwc',_0x552bd9['AcihY']=_0xbe898f(0x222),_0x552bd9[_0xbe898f(0x255)]=_0xbe898f(0x1b6),_0x552bd9[_0xbe898f(0x18b)]='zfjBA';const _0x4ab483=_0x552bd9;!this['clusterInfo']&&(_0x4ab483['IsHDl'](_0x4ab483[_0xbe898f(0x106)],_0x4ab483['FQQvE'])?_0x181423[_0xbe898f(0x25e)](_0x423c7c):await this[_0xbe898f(0x259)]());const _0x4f44a6=this[_0xbe898f(0xc4)]?.[_0xbe898f(0x1da)]||{};if(_0x4f44a6&&_0x4ab483[_0xbe898f(0x7c)](_0x4f44a6[_0x4ab483['AcihY']],_0x4ab483[_0xbe898f(0x255)])){if(_0x4ab483['IsHDl'](_0x4ab483[_0xbe898f(0x18b)],_0x4ab483[_0xbe898f(0x18b)]))return!![];else _0x24ff1d[_0xbe898f(0x25e)](..._0x3323cd['actions']);}return![];}async[a1_0x24ff63(0x23f)](_0xc9398b,_0x2c8094){const _0x4650dd=a1_0x24ff63,_0xccc1cd={'VmlfO':function(_0x10a508,_0x6423f){return _0x10a508(_0x6423f);},'HQIKW':function(_0x15c48e,_0x154e2a){return _0x15c48e(_0x154e2a);},'yCtaY':'Deleted\x20the\x20cluster\x20successfully'};await _0xccc1cd['VmlfO'](deleteAgent,_0xc9398b),await _0xccc1cd[_0x4650dd(0x126)](deleteRoutingDeps,_0xc9398b);const _0x387725=this['containerClient'];logger[_0x4650dd(0x161)](_0x4650dd(0x205)+this['clusterName']),await _0x387725[_0x4650dd(0x19c)]['beginDeleteAndWait'](global_registry[_0x4650dd(0xdd)],this[_0x4650dd(0xae)]),logger[_0x4650dd(0x161)](_0xccc1cd[_0x4650dd(0x1be)]);}async[a1_0x24ff63(0x211)](){const _0x5f466b=a1_0x24ff63,_0x44473d={};_0x44473d[_0x5f466b(0xe7)]=_0x5f466b(0x154),_0x44473d[_0x5f466b(0xbd)]=_0x5f466b(0x136),_0x44473d[_0x5f466b(0x9f)]=_0x5f466b(0x152),_0x44473d[_0x5f466b(0x133)]=_0x5f466b(0x99),_0x44473d[_0x5f466b(0x1e3)]=_0x5f466b(0x91),_0x44473d[_0x5f466b(0x7a)]=_0x5f466b(0x1ad),_0x44473d[_0x5f466b(0x159)]=function(_0x491edf,_0x326c32){return _0x491edf===_0x326c32;},_0x44473d['bQsGg']=_0x5f466b(0x1b7),_0x44473d[_0x5f466b(0x1ee)]=_0x5f466b(0x1f7),_0x44473d[_0x5f466b(0xf2)]=function(_0x457a39,_0x4a262c){return _0x457a39&&_0x4a262c;},_0x44473d[_0x5f466b(0xe4)]=function(_0x5b4f22,_0x414af1){return _0x5b4f22!==_0x414af1;},_0x44473d[_0x5f466b(0xfb)]=_0x5f466b(0x23e),_0x44473d[_0x5f466b(0x18e)]=_0x5f466b(0x163),_0x44473d[_0x5f466b(0xc6)]=function(_0xed2814,_0x4cbcae){return _0xed2814!==_0x4cbcae;},_0x44473d[_0x5f466b(0x1cf)]='MnoRD',_0x44473d[_0x5f466b(0x1c2)]=_0x5f466b(0x1d1),_0x44473d[_0x5f466b(0xff)]=_0x5f466b(0x108),_0x44473d[_0x5f466b(0x1ae)]='EWKXE',_0x44473d['IcWpS']=_0x5f466b(0x221),_0x44473d['apQFP']=_0x5f466b(0x15c);const _0x12a12e=_0x44473d;if(!this[_0x5f466b(0xc4)]){if(_0x12a12e[_0x5f466b(0x159)](_0x12a12e['bQsGg'],_0x12a12e[_0x5f466b(0x1ee)])){_0x4da7f5['info'](_0x12a12e[_0x5f466b(0xe7)]);const _0x4dc8ce={};_0x4dc8ce[_0x5f466b(0x25f)]=_0x25d054[_0x5f466b(0x249)],_0x4dc8ce[_0x5f466b(0x10c)]=_0x12a12e[_0x5f466b(0xe7)],this[_0x5f466b(0x192)][_0x5f466b(0x24c)](this['rws'],_0x4dc8ce),_0x1ee4e2['oidcIssuerProfile']['enabled']=!![];}else await this['getClusterInfo']();}const _0x1fe625=this[_0x5f466b(0xc4)],_0x4557b3=this['clusterInfo']?.[_0x5f466b(0x16b)]?.[_0x5f466b(0x21b)]||![],_0x26873a=this[_0x5f466b(0xc4)]?.[_0x5f466b(0x144)]?.[_0x5f466b(0xf5)]?.[_0x5f466b(0x21b)]||![],_0x7ecffe=!this[_0x5f466b(0xc4)]?.['disableLocalAccounts']||![];if(_0x12a12e[_0x5f466b(0xf2)](_0x4557b3,_0x26873a)&&_0x7ecffe){if(_0x12a12e[_0x5f466b(0xe4)](_0x12a12e['banqe'],_0x12a12e[_0x5f466b(0xfb)])){const _0x31e2d3=_0x12a12e[_0x5f466b(0xbd)][_0x5f466b(0x16a)]('|');let _0x1ccfec=0x0;while(!![]){switch(_0x31e2d3[_0x1ccfec++]){case'0':_0x3bcd21[_0x5f466b(0x17a)]=_0xfbe8d8[this[_0x5f466b(0x241)]]['subscriptionId'];continue;case'1':_0x4e1041[_0x5f466b(0x8a)]=_0xbe1e57[this['cloudProviderName']][_0x5f466b(0xea)];continue;case'2':this[_0x5f466b(0xe1)]();continue;case'3':_0x5ed150['cloudProviderTenantId']=_0x4e6dff[this[_0x5f466b(0x241)]][_0x5f466b(0xd0)];continue;case'4':_0x1cc410[_0x5f466b(0xdd)]=_0x1c7d48[this[_0x5f466b(0x241)]][_0x5f466b(0x78)];continue;case'5':_0x4b05fc[_0x5f466b(0x86)]=_0x550eae[this[_0x5f466b(0x241)]][_0x5f466b(0x22f)];continue;}break;}}else return;}if(!_0x4557b3){if(_0x12a12e[_0x5f466b(0xe4)](_0x12a12e[_0x5f466b(0x18e)],_0x12a12e[_0x5f466b(0x18e)])){const _0x2d3ac2={};_0x2d3ac2[_0x5f466b(0x25f)]=_0x12a12e['wejdh'],_0x2d3ac2[_0x5f466b(0x194)]={},_0x2d3ac2[_0x5f466b(0x194)][_0x5f466b(0x169)]=_0x12a12e['lUuLO'];const _0x13105f={};_0x13105f[_0x5f466b(0x25f)]=_0x12a12e['wejdh'],_0x13105f[_0x5f466b(0x194)]={},_0x13105f[_0x5f466b(0x194)]['description']=_0x12a12e[_0x5f466b(0x133)];const _0x2fca1c={..._0xa544eb[_0x5f466b(0x92)]};_0x2fca1c['vpcName']=_0x2d3ac2,_0x2fca1c[_0x5f466b(0x22b)]=_0x13105f,_0x41fbb8['parameters']=_0x2fca1c;const _0x408150={};_0x408150[_0x5f466b(0x178)]=_0x12a12e['GJBkv'],_0x45ce99[_0x5f466b(0xf8)]=_0x408150;const _0x547f9c={..._0x586c81['resources'][0x0][_0x5f466b(0x210)][_0x5f466b(0x215)][0x0]};_0x547f9c[_0x5f466b(0x178)]=_0x12a12e[_0x5f466b(0x7a)],_0x5209e6[_0x5f466b(0x10b)][0x0][_0x5f466b(0x210)][_0x5f466b(0x215)][0x0]=_0x547f9c;const _0x487c5d={};_0x487c5d[_0x5f466b(0x7f)]=_0x189ebf;const _0x37d55f={};_0x37d55f[_0x5f466b(0x7f)]=_0x103268[0x0];const _0x24ab71={..._0x3a8dd7};_0x24ab71[_0x5f466b(0x1aa)]=_0x487c5d,_0x24ab71['subnetName']=_0x37d55f,_0x4d6b84=_0x24ab71;}else{logger['info'](_0x12a12e[_0x5f466b(0xe7)]);const _0x46e326={};_0x46e326[_0x5f466b(0x25f)]=WS_EVENTS[_0x5f466b(0x249)],_0x46e326['message']=_0x12a12e['gRSvX'],this[_0x5f466b(0x192)][_0x5f466b(0x24c)](this[_0x5f466b(0x153)],_0x46e326),_0x1fe625[_0x5f466b(0x16b)]['enabled']=!![];}}if(!_0x26873a){if(_0x12a12e[_0x5f466b(0xc6)](_0x12a12e[_0x5f466b(0x1cf)],_0x12a12e['uzrpV'])){logger[_0x5f466b(0x161)](_0x12a12e[_0x5f466b(0xff)]);const _0x36d961={};_0x36d961[_0x5f466b(0x25f)]=WS_EVENTS['RESOURCES'],_0x36d961[_0x5f466b(0x10c)]=_0x12a12e[_0x5f466b(0xff)],this[_0x5f466b(0x192)][_0x5f466b(0x24c)](this[_0x5f466b(0x153)],_0x36d961);const _0x225070={};_0x225070[_0x5f466b(0x21b)]=!![],_0x1fe625[_0x5f466b(0x144)]={'workloadIdentity':_0x225070,..._0x1fe625[_0x5f466b(0x144)]};}else return!![];}if(!_0x7ecffe){if(_0x12a12e['ldAMi'](_0x12a12e[_0x5f466b(0x1ae)],_0x12a12e[_0x5f466b(0x25a)]))return!![];else{logger[_0x5f466b(0x161)](_0x12a12e[_0x5f466b(0x184)]);const _0x185e77={};_0x185e77[_0x5f466b(0x25f)]=WS_EVENTS[_0x5f466b(0x249)],_0x185e77['message']=_0x12a12e[_0x5f466b(0x184)],this[_0x5f466b(0x192)][_0x5f466b(0x24c)](this[_0x5f466b(0x153)],_0x185e77),_0x1fe625[_0x5f466b(0x10f)]=![];}}await this['containerClient'][_0x5f466b(0x19c)]['beginCreateOrUpdateAndWait'](global_registry['cloudProviderResourceGroup'],this[_0x5f466b(0xae)],_0x1fe625),await this[_0x5f466b(0x259)]();}async['sendAzureInfoToHST'](){const _0x4dba46=a1_0x24ff63,_0x3370b5={};_0x3370b5[_0x4dba46(0x1e6)]=function(_0x4cf2aa,_0x1415dd){return _0x4cf2aa!==_0x1415dd;},_0x3370b5[_0x4dba46(0xb2)]='tyGGd',_0x3370b5[_0x4dba46(0x150)]=_0x4dba46(0x167);const _0x3bd013=_0x3370b5,_0x48f65f=await this['networkClient'][_0x4dba46(0x15b)][_0x4dba46(0x195)](global_registry[_0x4dba46(0xdd)]),_0x8bd426={};_0x8bd426[_0x4dba46(0x1b2)]=global_registry[_0x4dba46(0x157)],_0x8bd426[_0x4dba46(0x8e)]=global_registry[_0x4dba46(0x8b)],_0x8bd426[_0x4dba46(0x219)]=AZURE,_0x8bd426[_0x4dba46(0xa7)]=[];const _0x1d6056=_0x8bd426;for await(const _0x432a2a of _0x48f65f){_0x3bd013[_0x4dba46(0x1e6)](_0x3bd013[_0x4dba46(0xb2)],_0x3bd013[_0x4dba46(0x150)])?_0x1d6056['vpcInfo']['push'](_0x432a2a):_0x23ef23[_0x4dba46(0xa7)][_0x4dba46(0x25e)](_0x3cbe19);}const _0x5551dd={};_0x5551dd[_0x4dba46(0x25f)]=WS_EVENTS[_0x4dba46(0x249)],_0x5551dd[_0x4dba46(0x10c)]=_0x1d6056,this[_0x4dba46(0x192)][_0x4dba46(0x24c)](this['rws'],_0x5551dd);}async['isVPCPresent'](_0xd4eff5){const _0x7d248d=a1_0x24ff63,_0x5f2a3f={};_0x5f2a3f[_0x7d248d(0x234)]='Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.',_0x5f2a3f['OeaTH']=_0x7d248d(0x237),_0x5f2a3f[_0x7d248d(0x149)]=function(_0x507f81,_0x4c0051){return _0x507f81!==_0x4c0051;},_0x5f2a3f[_0x7d248d(0xf7)]=_0x7d248d(0x143),_0x5f2a3f[_0x7d248d(0x14b)]=_0x7d248d(0x18c),_0x5f2a3f[_0x7d248d(0xd7)]=function(_0x2edd99,_0x2f9730){return _0x2edd99!==_0x2f9730;},_0x5f2a3f[_0x7d248d(0x82)]=_0x7d248d(0x102),_0x5f2a3f[_0x7d248d(0x1c5)]=_0x7d248d(0xe6),_0x5f2a3f['aILqM']=function(_0x45512d,_0x400774){return _0x45512d===_0x400774;},_0x5f2a3f['pzzuR']=_0x7d248d(0x1dc),_0x5f2a3f[_0x7d248d(0x1a3)]=function(_0x41a873,_0x15bfb8){return _0x41a873!==_0x15bfb8;},_0x5f2a3f[_0x7d248d(0xb6)]='AEHaD';const _0x5d9438=_0x5f2a3f;try{if(_0x5d9438['HhWPE'](_0x5d9438[_0x7d248d(0xf7)],_0x5d9438[_0x7d248d(0x14b)])){const _0x208eae=await this['networkClient'][_0x7d248d(0x15b)][_0x7d248d(0x195)](global_registry[_0x7d248d(0xdd)]);for await(const _0x1a4530 of _0x208eae){if(_0x5d9438[_0x7d248d(0xd7)](_0x5d9438[_0x7d248d(0x82)],_0x5d9438[_0x7d248d(0x1c5)])){if(_0x5d9438[_0x7d248d(0x1c1)](_0x1a4530['name'],_0xd4eff5)){if(_0x5d9438[_0x7d248d(0xd7)](_0x5d9438[_0x7d248d(0x13a)],_0x5d9438[_0x7d248d(0x13a)]))_0x105139[_0x7d248d(0xd4)](0x0);else return!![];}}else _0x285af9['error'](_0x5d9438[_0x7d248d(0x234)]),_0x22a2e8[_0x7d248d(0xd4)](0x1);}}else return _0x2ad003['data']=_0x5d9438['OeaTH'],_0x5dd123;}catch(_0x46922a){if(_0x5d9438['DHCke'](_0x5d9438[_0x7d248d(0xb6)],_0x5d9438[_0x7d248d(0xb6)]))_0x491fd4[_0x7d248d(0x8f)]=_0x4a4b32;else return logger[_0x7d248d(0x8f)]('Cannot\x20find\x20VPC\x20'+_0xd4eff5+_0x7d248d(0x146)+_0x46922a),![];}return![];}async[a1_0x24ff63(0x105)](_0x5e3487,_0x366579){const _0x540a4a=a1_0x24ff63,_0x27d36a={};_0x27d36a['VndhM']=function(_0x275cb0,_0x3ce7e6){return _0x275cb0===_0x3ce7e6;},_0x27d36a['apEAB']=function(_0x3b4b07,_0x87c981){return _0x3b4b07===_0x87c981;},_0x27d36a['cxFYh']=_0x540a4a(0x1fa),_0x27d36a[_0x540a4a(0x223)]=function(_0x465d3b,_0x7c76e9){return _0x465d3b!==_0x7c76e9;},_0x27d36a[_0x540a4a(0x115)]='lyHyN',_0x27d36a['IKZAJ']='yTkRT';const _0x3c7b11=_0x27d36a;try{if(_0x3c7b11['apEAB'](_0x3c7b11[_0x540a4a(0x188)],_0x3c7b11[_0x540a4a(0x188)])){const _0x5c59f4=await this[_0x540a4a(0x220)][_0x540a4a(0x22d)][_0x540a4a(0xec)](global_registry[_0x540a4a(0xdd)],_0x366579,_0x5e3487[0x0]);if(_0x3c7b11[_0x540a4a(0x1ca)](_0x5e3487[0x0],_0x5c59f4['name'])){if(_0x3c7b11[_0x540a4a(0x223)](_0x3c7b11[_0x540a4a(0x115)],_0x3c7b11['IKZAJ']))return[!![],_0x5e3487];else _0x3c7b11[_0x540a4a(0x145)](_0xc73fd7[_0x540a4a(0x85)],_0x16070a)&&(_0x5db97e=_0x53bc6a['id']);}}else _0x13df32[_0x540a4a(0x25e)](_0x144cef[_0x540a4a(0x85)]);}catch(_0x1b8389){return logger['error'](_0x540a4a(0x1ed)+_0x5e3487+_0x540a4a(0x24f)+_0x1b8389),[![],[]];}return[![],[]];}async[a1_0x24ff63(0x208)](){const _0x5cb07f=a1_0x24ff63,_0x2a8bba={};_0x2a8bba[_0x5cb07f(0xef)]=_0x5cb07f(0x147);const _0x1599a6=_0x2a8bba,_0x4f042e={};_0x4f042e[_0x5cb07f(0x19b)]=!![],_0x4f042e[_0x5cb07f(0x8f)]=null,_0x4f042e[_0x5cb07f(0x11e)]=_0x1599a6[_0x5cb07f(0xef)];const _0x205a6e=_0x4f042e;return _0x205a6e;}async[a1_0x24ff63(0xa1)](){const _0x1df801=a1_0x24ff63,_0x3e795e={};_0x3e795e[_0x1df801(0x170)]=_0x1df801(0x166),_0x3e795e[_0x1df801(0x12e)]=_0x1df801(0x13b),_0x3e795e[_0x1df801(0x171)]=_0x1df801(0x251);const _0x4deffb=_0x3e795e,_0x4c2611=await this[_0x1df801(0xd1)][_0x1df801(0xaf)](_0x4deffb[_0x1df801(0x170)]),_0x2bdee9={};_0x2bdee9['method']=_0x4deffb['zZEQN'],_0x2bdee9[_0x1df801(0x93)]={},_0x2bdee9[_0x1df801(0x93)][_0x1df801(0x248)]='Bearer\x20'+_0x4c2611[_0x1df801(0x232)],_0x2bdee9[_0x1df801(0x93)][_0x1df801(0x217)]=_0x4deffb[_0x1df801(0x171)];const _0x1a4435=_0x2bdee9;return _0x1a4435;}async[a1_0x24ff63(0x252)](_0x38f87d){const _0x598eaf=a1_0x24ff63,_0x22097d={'YreNa':function(_0x730be9,_0x13f199,_0x3ff6ca){return _0x730be9(_0x13f199,_0x3ff6ca);},'knLXg':function(_0x147bd1,_0x198740){return _0x147bd1===_0x198740;},'qrzls':_0x598eaf(0x119)},_0x140cb6={};_0x140cb6['principalId']='',_0x140cb6[_0x598eaf(0x8f)]=null;const _0x22a6c7=_0x140cb6;try{const _0xe5a02c=_0x598eaf(0x197)+_0x38f87d+'\x27',_0x5ee394=await this[_0x598eaf(0xa1)](),_0x1e27ea=await _0x22097d[_0x598eaf(0x1ba)](fetch,_0xe5a02c,_0x5ee394),_0xf4b1f8=await _0x1e27ea['json']();if(!_0xf4b1f8[_0x598eaf(0x7f)]||_0x22097d[_0x598eaf(0x20d)](_0xf4b1f8['value'][_0x598eaf(0x174)],0x0))throw new Error(_0x22097d[_0x598eaf(0x1f9)],_0x598eaf(0x1b5)+JSON['stringify'](_0xf4b1f8));_0x22a6c7[_0x598eaf(0x23d)]=_0xf4b1f8[_0x598eaf(0x7f)][0x0]['id'];}catch(_0xe77e3e){_0x22a6c7[_0x598eaf(0x8f)]=_0xe77e3e;}return _0x22a6c7;}async['checkAccess'](){const _0x24ddce=a1_0x24ff63,_0x536f5a={};_0x536f5a[_0x24ddce(0xa9)]=_0x24ddce(0xb1),_0x536f5a[_0x24ddce(0x100)]='denied',_0x536f5a['hDTMp']=function(_0x25328f,_0x3f04ed){return _0x25328f!==_0x3f04ed;},_0x536f5a['HlQiY']=function(_0x1ff7d3,_0x47050d){return _0x1ff7d3===_0x47050d;},_0x536f5a['YqADv']=_0x24ddce(0x237),_0x536f5a[_0x24ddce(0x206)]=function(_0x438133,_0x4160b6){return _0x438133===_0x4160b6;},_0x536f5a[_0x24ddce(0x8d)]='No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles',_0x536f5a[_0x24ddce(0x16d)]=function(_0x4c8caa,_0x346233){return _0x4c8caa===_0x346233;},_0x536f5a[_0x24ddce(0x1cd)]='Action\x20permission\x20list\x20is\x20empty\x0a';const _0x1926a6=_0x536f5a,_0x1b4cce={};_0x1b4cce[_0x24ddce(0x19b)]=![],_0x1b4cce[_0x24ddce(0x8f)]=null,_0x1b4cce['data']='';const _0x403a25=_0x1b4cce;try{let _0x10e776='';const _0x1138ae='subscriptions/'+global_registry[_0x24ddce(0x17a)]+'/resourceGroups/'+global_registry[_0x24ddce(0xdd)],_0x21b689=await this['getPrincipalIdFromClientId'](global_registry[_0x24ddce(0x86)]);if(_0x1926a6[_0x24ddce(0x7d)](_0x21b689[_0x24ddce(0x8f)],null))return _0x403a25[_0x24ddce(0x8f)]=_0x21b689[_0x24ddce(0x8f)],_0x403a25;const _0x64b9c8='assignedTo(\x27'+_0x21b689['principalId']+'\x27)',_0x517c6b={};_0x517c6b[_0x24ddce(0x90)]=_0x64b9c8;const _0x3d2251=await this[_0x24ddce(0xd8)][_0x24ddce(0x17d)][_0x24ddce(0x9c)](_0x1138ae,_0x517c6b),_0x5f4a5f=[];for await(const _0x29200f of _0x3d2251){_0x5f4a5f[_0x24ddce(0x25e)](_0x29200f);}if(_0x1926a6[_0x24ddce(0x224)](_0x5f4a5f[_0x24ddce(0x174)],0x0))return _0x403a25[_0x24ddce(0x11e)]=_0x1926a6[_0x24ddce(0x256)],_0x403a25;const _0xe29b04=[...new Set(_0x5f4a5f[_0x24ddce(0x24b)](_0x2f42b4=>_0x2f42b4['roleDefinitionId']))];if(_0x1926a6['bFAtL'](_0xe29b04[_0x24ddce(0x174)],0x0))return _0x403a25['data']=_0x1926a6[_0x24ddce(0x8d)],_0x403a25;const _0x254d72=[],_0x47f635=[];for(const _0x361712 of _0xe29b04){const _0x53eee9=await this[_0x24ddce(0xd8)][_0x24ddce(0x158)][_0x24ddce(0xad)](_0x361712);logger[_0x24ddce(0x19e)](_0x24ddce(0x155)+_0x53eee9[_0x24ddce(0x84)]),_0x254d72['push'](_0x53eee9),logger['debug'](_0x24ddce(0x1ff)+JSON[_0x24ddce(0xa5)](_0x53eee9['permissions'])),_0x53eee9[_0x24ddce(0x1d0)]['forEach'](_0x1e1f67=>{const _0x1a76fe=_0x24ddce;_0x47f635[_0x1a76fe(0x25e)](..._0x1e1f67[_0x1a76fe(0x12b)]);});}logger[_0x24ddce(0x19e)](_0x24ddce(0xa8)+JSON['stringify'](_0x47f635)),_0x1926a6[_0x24ddce(0x16d)](_0x47f635[_0x24ddce(0x174)],0x0)&&(_0x10e776+=_0x1926a6[_0x24ddce(0x16d)](_0x47f635[_0x24ddce(0x174)],0x0)?_0x1926a6['LYTTV']:'',logger['debug'](_0x24ddce(0xdf)+JSON[_0x24ddce(0xa5)](_0x254d72))),_0x403a25[_0x24ddce(0x19b)]=!![],Object[_0x24ddce(0x17b)](PERMISSIONS['ACTION'])[_0x24ddce(0xce)](([_0x58e24a,_0x4c05e1])=>{const _0x428dc5=_0x24ddce,_0x52451d=_0x47f635[_0x428dc5(0x20c)](_0x58e24a);_0x10e776+='\x0a\x09'+_0x4c05e1+':\x20'+(_0x52451d?_0x1926a6[_0x428dc5(0xa9)]:_0x1926a6['WjBdf']),!_0x52451d&&(_0x403a25[_0x428dc5(0x19b)]=![]);}),_0x403a25['data']=_0x10e776;}catch(_0x120ab0){_0x403a25['error']=_0x120ab0;}return _0x403a25;}}const a1_0x503550={};function a1_0x572d(_0x590c7e,_0x376bd0){const _0x505ec6=a1_0x505e();return a1_0x572d=function(_0x572dc3,_0xe8f06b){_0x572dc3=_0x572dc3-0x77;let _0x426945=_0x505ec6[_0x572dc3];return _0x426945;},a1_0x572d(_0x590c7e,_0x376bd0);}a1_0x503550[a1_0x24ff63(0x18d)]=AzureCloudProvider,module[a1_0x24ff63(0xa3)]=a1_0x503550;