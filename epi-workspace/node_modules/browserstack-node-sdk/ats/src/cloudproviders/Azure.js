const a1_0x4a6e6e=a1_0xe5e4;function a1_0xe5e4(_0x505fce,_0x2109bb){const _0x1bd36c=a1_0x1bd3();return a1_0xe5e4=function(_0xe5e45e,_0x30b4d5){_0xe5e45e=_0xe5e45e-0xde;let _0x463cb8=_0x1bd36c[_0xe5e45e];return _0x463cb8;},a1_0xe5e4(_0x505fce,_0x2109bb);}(function(_0x446051,_0x15843f){const _0x2cafd6=a1_0xe5e4,_0x316df0=_0x446051();while(!![]){try{const _0xd57f94=-parseInt(_0x2cafd6(0xf3))/0x1+parseInt(_0x2cafd6(0x171))/0x2+-parseInt(_0x2cafd6(0x2bf))/0x3+parseInt(_0x2cafd6(0x289))/0x4*(parseInt(_0x2cafd6(0x172))/0x5)+-parseInt(_0x2cafd6(0x1e9))/0x6+-parseInt(_0x2cafd6(0x250))/0x7+parseInt(_0x2cafd6(0x183))/0x8*(parseInt(_0x2cafd6(0x22a))/0x9);if(_0xd57f94===_0x15843f)break;else _0x316df0['push'](_0x316df0['shift']());}catch(_0x19bf00){_0x316df0['push'](_0x316df0['shift']());}}}(a1_0x1bd3,0x54ef1));const fs=require('fs'),path=require(a1_0x4a6e6e(0x1b4)),yaml=require(a1_0x4a6e6e(0x19a)),{logger}=require(a1_0x4a6e6e(0x11b)),{CloudProvider}=require(a1_0x4a6e6e(0x26f)),{deleteRoutingDeps,deleteAgent}=require('../utils/gridComponents'),{AZURE,WS_EVENTS,global_registry}=require('../config/constants'),PERMISSIONS=require(a1_0x4a6e6e(0x11c)),{ClientSecretCredential}=require(a1_0x4a6e6e(0x18a)),{NetworkManagementClient}=require(a1_0x4a6e6e(0x28b)),{StorageManagementClient}=require(a1_0x4a6e6e(0x14f)),{AuthorizationManagementClient}=require(a1_0x4a6e6e(0x25a)),{ResourceManagementClient}=require('@azure/arm-resources'),{ContainerServiceClient}=require(a1_0x4a6e6e(0x12b)),{runCommand}=require(a1_0x4a6e6e(0x130));class AzureCloudProvider extends CloudProvider{constructor(_0x4e3152,_0x4b4f0,_0x97f767,_0x26c645){const _0x506852=a1_0x4a6e6e,_0x348f0d={};_0x348f0d[_0x506852(0x23a)]='0|4|3|6|1|5|7|2';const _0x349fb8=_0x348f0d,_0x2099f6=_0x349fb8[_0x506852(0x23a)][_0x506852(0xe7)]('|');let _0x52b8e6=0x0;while(!![]){switch(_0x2099f6[_0x52b8e6++]){case'0':super(AZURE,_0x4e3152,_0x4b4f0,_0x97f767,_0x26c645);continue;case'1':this[_0x506852(0x1d0)]=null;continue;case'2':this[_0x506852(0x14b)]=null;continue;case'3':this[_0x506852(0x239)]=null;continue;case'4':this[_0x506852(0x149)]=null;continue;case'5':this[_0x506852(0x180)]=null;continue;case'6':this['containerClient']=null;continue;case'7':this[_0x506852(0x293)]=null;continue;}break;}}async['init'](){const _0x1a7dce=a1_0x4a6e6e;return await super[_0x1a7dce(0x292)](),this;}[a1_0x4a6e6e(0x190)](){const _0x3187c0=a1_0x4a6e6e,_0x93c9d=new ClientSecretCredential(global_registry[_0x3187c0(0x203)],global_registry[_0x3187c0(0x29d)],global_registry[_0x3187c0(0x20d)]);this[_0x3187c0(0x226)]=new ContainerServiceClient(_0x93c9d,global_registry[_0x3187c0(0x1fd)]),this[_0x3187c0(0x1d0)]=new StorageManagementClient(_0x93c9d,global_registry[_0x3187c0(0x1fd)]),this[_0x3187c0(0x180)]=new ResourceManagementClient(_0x93c9d,global_registry[_0x3187c0(0x1fd)]),this[_0x3187c0(0x293)]=new NetworkManagementClient(_0x93c9d,global_registry[_0x3187c0(0x1fd)]),this[_0x3187c0(0x14b)]=new AuthorizationManagementClient(_0x93c9d,global_registry[_0x3187c0(0x1fd)]),this[_0x3187c0(0x149)]=_0x93c9d;}[a1_0x4a6e6e(0x205)](){const _0x5a8602=a1_0x4a6e6e,_0xa82866={};_0xa82866['nxYWy']=function(_0xfdadc3,_0x5bb122){return _0xfdadc3+_0x5bb122;},_0xa82866[_0x5a8602(0x1ea)]=_0x5a8602(0x22d),_0xa82866[_0x5a8602(0x23e)]=function(_0x1322e8,_0x5f5912){return _0x1322e8-_0x5f5912;};const _0x476c62=_0xa82866,_0x4d8a21=global_registry['s3Bucket'][_0x5a8602(0xe7)]('-'),_0x324ed7=_0x476c62[_0x5a8602(0x262)](_0x476c62[_0x5a8602(0x1ea)],_0x4d8a21[_0x476c62[_0x5a8602(0x23e)](_0x4d8a21[_0x5a8602(0x290)],0x1)])[_0x5a8602(0x1c1)](0x0,0x18);return _0x324ed7[_0x5a8602(0x2ab)]();}[a1_0x4a6e6e(0x21c)](_0x41a4af){const _0x531dba=a1_0x4a6e6e,_0x438bc2={};_0x438bc2[_0x531dba(0x299)]='4|1|5|2|3|0';const _0x21ad6c=_0x438bc2,_0x11d7ce=_0x21ad6c[_0x531dba(0x299)][_0x531dba(0xe7)]('|');let _0x4d4a31=0x0;while(!![]){switch(_0x11d7ce[_0x4d4a31++]){case'0':this[_0x531dba(0x190)]();continue;case'1':global_registry[_0x531dba(0x20d)]=_0x41a4af[this['cloudProviderName']]['clientSecret'];continue;case'2':global_registry[_0x531dba(0x1fd)]=_0x41a4af[this[_0x531dba(0x1d5)]][_0x531dba(0x2ad)];continue;case'3':global_registry[_0x531dba(0xf1)]=_0x41a4af[this[_0x531dba(0x1d5)]][_0x531dba(0x194)];continue;case'4':global_registry['cloudProviderClientId']=_0x41a4af[this[_0x531dba(0x1d5)]]['clientId'];continue;case'5':global_registry[_0x531dba(0x203)]=_0x41a4af[this[_0x531dba(0x1d5)]]['tenantId'];continue;}break;}}async['getUserInput'](_0x1bcf55,_0x373901){const _0x2c522c=a1_0x4a6e6e,_0x30649e={'UsaCC':'No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','xRnjD':function(_0x258ea1,_0x3c8fe4){return _0x258ea1===_0x3c8fe4;},'bvqFm':_0x2c522c(0xf4),'IlXPU':function(_0x14f455,_0xa8b5ef){return _0x14f455===_0xa8b5ef;},'ptXfN':function(_0x9c70b7,_0x3373d6){return _0x9c70b7(_0x3373d6);},'ORfvD':function(_0x51ffa2,_0x11f23d){return _0x51ffa2(_0x11f23d);},'ReOIX':function(_0x1f5c34,_0x14c090){return _0x1f5c34(_0x14c090);},'mYAyy':function(_0x14fbd5,_0x18bd5e){return _0x14fbd5===_0x18bd5e;},'XRKQV':function(_0x1a57f2,_0x5b16c9){return _0x1a57f2===_0x5b16c9;},'WKYeb':_0x2c522c(0x151),'MAKcT':_0x2c522c(0x1fa),'WpiOE':function(_0x2717fd,_0x4d24da){return _0x2717fd===_0x4d24da;},'YPzKd':_0x2c522c(0x2a2),'JRTju':_0x2c522c(0x1cf),'VUihV':function(_0x40bc11,_0x5dd282){return _0x40bc11(_0x5dd282);},'tWRWG':function(_0xa5b70a,_0xeac18b){return _0xa5b70a===_0xeac18b;},'LxQEX':function(_0x4712d5,_0x38b5c7){return _0x4712d5===_0x38b5c7;},'ooPlZ':_0x2c522c(0x15e),'WLess':function(_0x592461,_0x1656ce){return _0x592461===_0x1656ce;},'uOUqB':_0x2c522c(0x1e6),'ixzGk':_0x2c522c(0x1da),'sHAjh':_0x2c522c(0xfe),'lxSYw':function(_0x16bd74,_0x506d5d){return _0x16bd74<_0x506d5d;},'lHWtA':'EpHYV','Bsyxm':function(_0x326e75,_0x48077f){return _0x326e75+_0x48077f;},'cRwrZ':_0x2c522c(0x2b0),'oLZTG':function(_0x6408dc,_0x340039){return _0x6408dc<=_0x340039;},'XZDRE':function(_0x570b5c,_0x38b242){return _0x570b5c>_0x38b242;},'oCyFV':'baMWJ','xYOFZ':_0x2c522c(0x285),'LWqGs':function(_0x3997e0,_0x39fdc3){return _0x3997e0-_0x39fdc3;}},_0x1f8859=this[_0x2c522c(0x1d5)][_0x2c522c(0x11f)](),_0xb72b71=await _0x30649e[_0x2c522c(0x159)](_0x1bcf55,_0x1f8859+_0x2c522c(0x16f)),_0x1c3978=await _0x30649e[_0x2c522c(0x185)](_0x1bcf55,_0x1f8859+_0x2c522c(0x120)),_0x288be4=await _0x30649e['ReOIX'](_0x1bcf55,_0x1f8859+'\x20TENANT\x20ID:\x20'),_0x2baab5=await _0x30649e[_0x2c522c(0x24a)](_0x1bcf55,_0x1f8859+'\x20SUBSCRIPTION\x20ID:\x20');global_registry[_0x2c522c(0x29d)]=_0xb72b71,global_registry[_0x2c522c(0x20d)]=_0x1c3978,global_registry[_0x2c522c(0x203)]=_0x288be4,global_registry['cloudProviderSubscriptionId']=_0x2baab5,this[_0x2c522c(0x190)]();const _0x43d895=await this['getResourceGroups'](),_0x55f838=_0x43d895[_0x2c522c(0x290)];let _0x592704;if(_0x30649e['mYAyy'](_0x55f838,0x0)){if(_0x30649e[_0x2c522c(0x243)](_0x30649e['WKYeb'],_0x30649e['MAKcT']))return _0x2c4da3[_0x2c522c(0xfb)]=_0x30649e[_0x2c522c(0x187)],_0x305af4;else _0x592704=await _0x30649e['ReOIX'](_0x1bcf55,_0x1f8859+_0x2c522c(0x254));}else{if(_0x30649e[_0x2c522c(0x156)](_0x55f838,0x1)){if(_0x30649e['WpiOE'](_0x30649e['YPzKd'],_0x30649e[_0x2c522c(0x284)])){if(_0x30649e[_0x2c522c(0x1be)](_0x3df8c3['name'],_0x59de00))return!![];}else{const _0x110b3a=await _0x30649e['VUihV'](_0x1bcf55,'Found\x20only\x20one\x20resource\x20group:\x20'+_0x43d895[0x0]+_0x2c522c(0x20f));(_0x30649e[_0x2c522c(0x1f3)](_0x110b3a,undefined)||_0x30649e[_0x2c522c(0x1be)](_0x110b3a,null)||!(_0x30649e['LxQEX'](_0x110b3a[_0x2c522c(0x2ab)](),'y')||_0x30649e[_0x2c522c(0x156)](_0x110b3a[_0x2c522c(0x2ab)](),'n')))&&(_0x30649e['tWRWG'](_0x30649e[_0x2c522c(0x1a2)],_0x30649e[_0x2c522c(0x1a2)])?(console[_0x2c522c(0x12c)](_0x30649e['bvqFm']),process['exit'](0x1)):(_0x11d5da['error'](_0x30649e['bvqFm']),_0x27e950[_0x2c522c(0x25f)](0x1))),_0x30649e[_0x2c522c(0x1be)](_0x110b3a[_0x2c522c(0x2ab)](),'n')&&(_0x30649e[_0x2c522c(0x10b)](_0x30649e[_0x2c522c(0x1cd)],_0x30649e['uOUqB'])?process[_0x2c522c(0x25f)](0x0):_0x4552f5['push'](_0x1168d8)),_0x592704=_0x43d895[0x0];}}else{if(_0x30649e[_0x2c522c(0x156)](_0x30649e[_0x2c522c(0x196)],_0x30649e[_0x2c522c(0x17e)]))_0x30649e[_0x2c522c(0x1be)](_0xb0de8c[_0x2c522c(0x10d)],_0x2b0bf5)&&(_0x58d385=_0x241ec8['id']);else{for(let _0x11202a=0x0;_0x30649e['lxSYw'](_0x11202a,_0x43d895['length']);_0x11202a+=0x1){_0x30649e[_0x2c522c(0x243)](_0x30649e[_0x2c522c(0x10e)],_0x30649e[_0x2c522c(0x10e)])?console[_0x2c522c(0x121)]('['+_0x30649e[_0x2c522c(0x123)](_0x11202a,0x1)+']\x20'+_0x43d895[_0x11202a]):_0x1374d7[_0x2c522c(0x12c)]=_0x479f6a;}const _0x38b040=await _0x30649e['ReOIX'](_0x1bcf55,_0x30649e[_0x2c522c(0x13e)]),_0x10977e=_0x30649e[_0x2c522c(0x185)](Number,_0x38b040);if(_0x30649e[_0x2c522c(0x209)](isNaN,_0x10977e)||_0x30649e[_0x2c522c(0x29e)](_0x10977e,0x0)||_0x30649e[_0x2c522c(0x25e)](_0x10977e,_0x55f838)){if(_0x30649e[_0x2c522c(0x156)](_0x30649e[_0x2c522c(0x1df)],_0x30649e[_0x2c522c(0x281)])){if(_0x30649e[_0x2c522c(0x2b6)](_0x216913[_0x2c522c(0x10d)],_0x2c522c(0x28f)+this[_0x2c522c(0x166)]))return!![];}else console['error'](_0x30649e[_0x2c522c(0x2a6)]),process['exit'](0x1);}_0x592704=_0x43d895[_0x30649e[_0x2c522c(0x1c8)](_0x10977e,0x1)];}}}global_registry[_0x2c522c(0xf1)]=_0x592704;const _0x1e1c3c={};return _0x1e1c3c[_0x2c522c(0xea)]=_0xb72b71,_0x1e1c3c['clientSecret']=_0x1c3978,_0x1e1c3c['tenantId']=_0x288be4,_0x1e1c3c[_0x2c522c(0x2ad)]=_0x2baab5,_0x1e1c3c['resourceGroup']=_0x592704,_0x373901['cloudProvider'][AZURE]=_0x1e1c3c,_0x373901;}async[a1_0x4a6e6e(0x211)](){const _0x4cadcf=a1_0x4a6e6e,_0x1efbbd={};_0x1efbbd[_0x4cadcf(0x1ee)]=function(_0x438246,_0x5dc8d0){return _0x438246===_0x5dc8d0;},_0x1efbbd['NAeyp']=function(_0x212dee,_0x463526){return _0x212dee===_0x463526;},_0x1efbbd[_0x4cadcf(0xf9)]='QNAkY',_0x1efbbd[_0x4cadcf(0x233)]=function(_0x23b3c2,_0x3c23e8){return _0x23b3c2!==_0x3c23e8;},_0x1efbbd[_0x4cadcf(0x131)]='dQgmY';const _0x47c9d3=_0x1efbbd,_0x519fff=[];try{if(_0x47c9d3[_0x4cadcf(0x245)](_0x47c9d3['KWlkv'],_0x47c9d3[_0x4cadcf(0xf9)])){const _0x970c38=await this['resourceClient'][_0x4cadcf(0x162)][_0x4cadcf(0x23d)]();for await(const _0x1a62a7 of _0x970c38){_0x47c9d3[_0x4cadcf(0x233)](_0x47c9d3[_0x4cadcf(0x131)],_0x47c9d3['ulNWI'])?_0x416dcc[_0x4cadcf(0x1fe)](_0x8e3560):_0x519fff['push'](_0x1a62a7[_0x4cadcf(0x10d)]);}}else{if(_0x47c9d3[_0x4cadcf(0x1ee)](_0x5dc9db[_0x4cadcf(0x10d)],_0x2251a4))return!![];}}catch(_0x5d92e1){}return _0x519fff;}async['getClusterInfo'](){const _0x3ba011=a1_0x4a6e6e;return this[_0x3ba011(0x239)]=await this[_0x3ba011(0x226)][_0x3ba011(0x2b3)][_0x3ba011(0x216)](global_registry[_0x3ba011(0xf1)],this['clusterName']),this[_0x3ba011(0x239)];}async[a1_0x4a6e6e(0x210)](){const _0x4831da=a1_0x4a6e6e,_0x418390=await this[_0x4831da(0x226)]['managedClusters'][_0x4831da(0xff)](global_registry['cloudProviderResourceGroup'],this[_0x4831da(0x166)]),_0x1e292b=_0x418390[_0x4831da(0x27d)][0x0][_0x4831da(0x20b)][_0x4831da(0x1fc)]();return _0x1e292b;}[a1_0x4a6e6e(0x105)](_0x12fe4e){const _0x13b683=a1_0x4a6e6e;return _0x12fe4e[_0x13b683(0x19f)][_0x13b683(0xf5)][_0x13b683(0x228)][0x0]['hostname'];}async['isClusterPresent'](){const _0x41a67c=a1_0x4a6e6e,_0x4a2d2e={};_0x4a2d2e[_0x41a67c(0x1d4)]=_0x41a67c(0x1e2),_0x4a2d2e['ZMyLw']='Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.',_0x4a2d2e['owjGk']=_0x41a67c(0x158),_0x4a2d2e['qozNr']=_0x41a67c(0x2aa),_0x4a2d2e['GpVME']=function(_0x450f7a,_0x78a189){return _0x450f7a!==_0x78a189;},_0x4a2d2e[_0x41a67c(0x147)]=_0x41a67c(0x165),_0x4a2d2e[_0x41a67c(0x19e)]=_0x41a67c(0x1a0),_0x4a2d2e[_0x41a67c(0x21b)]=function(_0x3bbae3,_0x21c649){return _0x3bbae3!==_0x21c649;},_0x4a2d2e['KADbq']=_0x41a67c(0x1a5),_0x4a2d2e[_0x41a67c(0x2b1)]=function(_0x684bff,_0x59a50a){return _0x684bff===_0x59a50a;},_0x4a2d2e[_0x41a67c(0x223)]=_0x41a67c(0x153),_0x4a2d2e[_0x41a67c(0x15b)]=_0x41a67c(0x2a8);const _0x15518a=_0x4a2d2e,_0xca7255=new Array();for await(const _0x1df619 of this[_0x41a67c(0x226)]['managedClusters'][_0x41a67c(0x21a)](global_registry[_0x41a67c(0xf1)])){if(_0x15518a[_0x41a67c(0x1bb)](_0x15518a[_0x41a67c(0x147)],_0x15518a[_0x41a67c(0x19e)]))_0xca7255[_0x41a67c(0x1fe)](_0x1df619);else return;}for await(const _0x54fbea of _0xca7255){if(_0x15518a['Kgnlb'](_0x15518a[_0x41a67c(0x230)],_0x15518a[_0x41a67c(0x230)]))return!![];else{if(_0x15518a[_0x41a67c(0x2b1)](_0x54fbea['name'],this[_0x41a67c(0x166)])){if(_0x15518a[_0x41a67c(0x21b)](_0x15518a[_0x41a67c(0x223)],_0x15518a[_0x41a67c(0x15b)]))return await this[_0x41a67c(0x24b)](),!![];else{const _0x1bcf83={};_0x1bcf83[_0x41a67c(0x2c1)]=_0x15518a[_0x41a67c(0x1d4)],_0x1bcf83[_0x41a67c(0x2b8)]={},_0x1bcf83[_0x41a67c(0x2b8)][_0x41a67c(0x236)]=_0x15518a['ZMyLw'];const _0x2c3f4c={};_0x2c3f4c[_0x41a67c(0x2c1)]=_0x15518a[_0x41a67c(0x1d4)],_0x2c3f4c[_0x41a67c(0x2b8)]={},_0x2c3f4c[_0x41a67c(0x2b8)][_0x41a67c(0x236)]=_0x15518a[_0x41a67c(0x2bc)];const _0x489371={..._0x13622d[_0x41a67c(0x25b)]};_0x489371[_0x41a67c(0x1ca)]=_0x1bcf83,_0x489371['subnetName']=_0x2c3f4c,_0x2d7b4a[_0x41a67c(0x25b)]=_0x489371;const _0x431fea={};_0x431fea[_0x41a67c(0x1ab)]=_0x15518a[_0x41a67c(0x217)],_0x54587a[_0x41a67c(0x267)]=_0x431fea;const _0x4c4e6b={..._0x158ea9['resources'][0x0][_0x41a67c(0x15c)][_0x41a67c(0x14a)][0x0]};_0x4c4e6b[_0x41a67c(0x1ab)]=_0x15518a[_0x41a67c(0x18e)],_0x1de735['resources'][0x0]['properties']['agentPoolProfiles'][0x0]=_0x4c4e6b;const _0x555e8c={};_0x555e8c[_0x41a67c(0x20b)]=_0x26bb2c;const _0x4648ef={};_0x4648ef[_0x41a67c(0x20b)]=_0x3a6de3[0x0];const _0xdd967={..._0x1f2fa2};_0xdd967[_0x41a67c(0x1ca)]=_0x555e8c,_0xdd967[_0x41a67c(0x1e0)]=_0x4648ef,_0x93395f=_0xdd967;}}}}return![];}async[a1_0x4a6e6e(0x1ce)](_0x5f3e44=null,_0x410da2=null){const _0xfc2a36=a1_0x4a6e6e,_0xea59aa={};_0xea59aa[_0xfc2a36(0x238)]=_0xfc2a36(0x26a),_0xea59aa[_0xfc2a36(0x204)]='Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity';const _0xc49fc8=_0xea59aa,_0x29e695=_0xc49fc8['QHDLk'][_0xfc2a36(0xe7)]('|');let _0x4ce310=0x0;while(!![]){switch(_0x29e695[_0x4ce310++]){case'0':const _0x4ee3c8={};_0x4ee3c8[_0xfc2a36(0x2c1)]=WS_EVENTS[_0xfc2a36(0xe5)],_0x4ee3c8[_0xfc2a36(0x255)]=_0xc49fc8['inLSp'],this[_0xfc2a36(0x1c2)][_0xfc2a36(0x27f)](this[_0xfc2a36(0x1b8)],_0x4ee3c8);continue;case'1':await this[_0xfc2a36(0x188)]();continue;case'2':return[_0x5f3e44,_0x410da2];case'3':this[_0xfc2a36(0x179)]();continue;case'4':logger[_0xfc2a36(0x184)](_0xc49fc8[_0xfc2a36(0x204)]);continue;case'5':await this[_0xfc2a36(0x170)](_0x5f3e44,_0x410da2);continue;}break;}}async['createCluster'](_0x2d8900=null,_0x5cb3c5=null){const _0x1acadf=a1_0x4a6e6e,_0xca43b9={};_0xca43b9[_0x1acadf(0x264)]=_0x1acadf(0x16d),_0xca43b9[_0x1acadf(0x15f)]=_0x1acadf(0x20e),_0xca43b9['benYs']=_0x1acadf(0x22c),_0xca43b9[_0x1acadf(0x266)]=_0x1acadf(0x11d),_0xca43b9[_0x1acadf(0x137)]=function(_0x293cd6,_0x33c181){return _0x293cd6!==_0x33c181;},_0xca43b9[_0x1acadf(0x1af)]=function(_0x149671,_0x414037){return _0x149671!==_0x414037;},_0xca43b9[_0x1acadf(0xfc)]=function(_0x5e627a,_0x465cc1){return _0x5e627a===_0x465cc1;},_0xca43b9[_0x1acadf(0x2b5)]='JkRwm',_0xca43b9['vJdhP']=_0x1acadf(0x1e2),_0xca43b9[_0x1acadf(0x1ba)]='Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.',_0xca43b9['voLJJ']=_0x1acadf(0x158),_0xca43b9[_0x1acadf(0x14c)]='[variables(\x27vnetSubnetID\x27)]',_0xca43b9[_0x1acadf(0x161)]='turboscale-cluster-deployment',_0xca43b9[_0x1acadf(0x18f)]='Incremental';const _0x2143b7=_0xca43b9;let _0xd46a98=await fs[_0x1acadf(0x1e4)](path[_0x1acadf(0xe6)](__dirname,'..',_0x2143b7[_0x1acadf(0x264)],_0x2143b7['mpTff'],_0x2143b7['benYs']),_0x2143b7[_0x1acadf(0x266)]);_0xd46a98=JSON[_0x1acadf(0xe3)](_0xd46a98);const _0xda9d0e={};_0xda9d0e['value']=this[_0x1acadf(0x166)];const _0x480ba9={};_0x480ba9['value']=global_registry['clusterRegion'];const _0x5e43d5={};_0x5e43d5[_0x1acadf(0x20b)]=global_registry[_0x1acadf(0x21f)];const _0x2c01f1={};_0x2c01f1[_0x1acadf(0x20b)]=global_registry['maxNodes'];const _0x463276={};_0x463276['clusterName']=_0xda9d0e,_0x463276[_0x1acadf(0x13d)]=_0x480ba9,_0x463276['userInstanceType']=_0x5e43d5,_0x463276[_0x1acadf(0xec)]=_0x2c01f1;let _0x4d282d=_0x463276;if(_0x2143b7['PYkDO'](_0x2d8900,null)&&_0x2143b7[_0x1acadf(0x1af)](_0x5cb3c5,null)){if(_0x2143b7[_0x1acadf(0xfc)](_0x2143b7[_0x1acadf(0x2b5)],_0x2143b7['SOlib'])){const _0x4d7ea7={};_0x4d7ea7[_0x1acadf(0x2c1)]=_0x2143b7[_0x1acadf(0x1f9)],_0x4d7ea7[_0x1acadf(0x2b8)]={},_0x4d7ea7[_0x1acadf(0x2b8)][_0x1acadf(0x236)]=_0x2143b7['AdOju'];const _0x27c25b={};_0x27c25b[_0x1acadf(0x2c1)]=_0x2143b7[_0x1acadf(0x1f9)],_0x27c25b[_0x1acadf(0x2b8)]={},_0x27c25b[_0x1acadf(0x2b8)]['description']=_0x2143b7[_0x1acadf(0x1ba)],_0xd46a98[_0x1acadf(0x25b)]={..._0xd46a98['parameters'],'vpcName':_0x4d7ea7,'subnetName':_0x27c25b};const _0x416ba5={};_0x416ba5['vnetSubnetID']=_0x2143b7[_0x1acadf(0x1b0)],_0xd46a98['variables']=_0x416ba5,_0xd46a98[_0x1acadf(0x144)][0x0][_0x1acadf(0x15c)][_0x1acadf(0x14a)][0x0]={..._0xd46a98['resources'][0x0][_0x1acadf(0x15c)]['agentPoolProfiles'][0x0],'vnetSubnetID':_0x2143b7[_0x1acadf(0x14c)]};const _0x23f46a={};_0x23f46a['value']=_0x2d8900;const _0xcff34d={};_0xcff34d[_0x1acadf(0x20b)]=_0x5cb3c5[0x0],_0x4d282d={..._0x4d282d,'vpcName':_0x23f46a,'subnetName':_0xcff34d};}else _0x4094db[_0x1acadf(0x1fe)](_0x3237bc);}await this[_0x1acadf(0x180)][_0x1acadf(0x1b5)][_0x1acadf(0xed)](global_registry[_0x1acadf(0xf1)],_0x2143b7[_0x1acadf(0x161)],{'properties':{'template':_0xd46a98,'mode':_0x2143b7['jdkVQ'],'parameters':_0x4d282d}});}async[a1_0x4a6e6e(0x188)](){const _0x19d08a=a1_0x4a6e6e,_0x4b3200={'pMeXM':function(_0x526a2a,_0x142d2a,_0x5f578c){return _0x526a2a(_0x142d2a,_0x5f578c);},'ydCmN':'Enabling\x20Local\x20account\x20for\x20the\x20cluster','ufuTg':function(_0x4676a7,_0x477acf){return _0x4676a7!==_0x477acf;},'YkrSq':'lFdMd','CoHFQ':_0x19d08a(0x1d7),'uJszH':'Creating\x20Azure\x20storage\x20account','pfJcL':function(_0x4a1617,_0x4bb619){return _0x4a1617===_0x4bb619;},'HkJuj':_0x19d08a(0x296),'BaMXZ':_0x19d08a(0x26b),'Scjja':_0x19d08a(0x240),'axFur':function(_0x184f51,_0xa8834f){return _0x184f51!==_0xa8834f;},'Zrqwf':_0x19d08a(0x128),'DBtpi':'Creating\x20Azure\x20managed\x20identity','jpNIF':function(_0x3b06b8,_0xaba4f4){return _0x3b06b8===_0xaba4f4;},'tVzPM':_0x19d08a(0x275),'XnHqA':_0x19d08a(0x2ba),'QDiVT':_0x19d08a(0x140),'DaRnD':_0x19d08a(0x222),'IXRqY':'Created\x20Azure\x20federated\x20identity'},_0x17e7cd=await this[_0x19d08a(0x19b)]();if(!_0x17e7cd){if(_0x4b3200[_0x19d08a(0x268)](_0x4b3200[_0x19d08a(0xfd)],_0x4b3200[_0x19d08a(0x193)])){const _0x16eb7e={};_0x16eb7e['type']=WS_EVENTS['LOG'],_0x16eb7e[_0x19d08a(0x255)]=_0x4b3200[_0x19d08a(0x1f7)],this[_0x19d08a(0x1c2)][_0x19d08a(0x27f)](this[_0x19d08a(0x1b8)],_0x16eb7e),logger[_0x19d08a(0x184)](_0x4b3200[_0x19d08a(0x1f7)]),await this['createStorageAccount']();}else _0x4b3200[_0x19d08a(0x146)](_0x460891,()=>_0x5afe32(),0x3e8);}else _0x4b3200[_0x19d08a(0x1eb)](_0x4b3200['HkJuj'],_0x4b3200[_0x19d08a(0x1b6)])?_0x5392b3[_0x19d08a(0x1fe)](_0x1fdb20):logger[_0x19d08a(0x184)](_0x4b3200[_0x19d08a(0x15a)]);const _0x2afd25=await this[_0x19d08a(0x1d9)]();if(!_0x2afd25){if(_0x4b3200[_0x19d08a(0x23b)](_0x4b3200[_0x19d08a(0x202)],_0x4b3200[_0x19d08a(0x202)]))return!![];else{const _0x4a058a={};_0x4a058a[_0x19d08a(0x2c1)]=WS_EVENTS['LOG'],_0x4a058a[_0x19d08a(0x255)]=_0x4b3200[_0x19d08a(0x1dc)],this['webSocketUtils'][_0x19d08a(0x27f)](this[_0x19d08a(0x1b8)],_0x4a058a),logger[_0x19d08a(0x184)](_0x4b3200[_0x19d08a(0x1dc)]),await this['createManagedIdentity']();}}else{if(_0x4b3200[_0x19d08a(0x2bd)](_0x4b3200[_0x19d08a(0x154)],_0x4b3200[_0x19d08a(0x124)])){_0x2c7c62['info'](_0x4b3200[_0x19d08a(0x173)]);const _0x514d9c={};_0x514d9c[_0x19d08a(0x2c1)]=_0x2eaa95['RESOURCES'],_0x514d9c[_0x19d08a(0x255)]=_0x4b3200[_0x19d08a(0x173)],this[_0x19d08a(0x1c2)]['sendEventToBackend'](this[_0x19d08a(0x1b8)],_0x514d9c),_0x2bf081['disableLocalAccounts']=![];}else logger[_0x19d08a(0x184)](_0x4b3200['QDiVT']);}logger[_0x19d08a(0x184)](_0x4b3200[_0x19d08a(0x27e)]),await this['createFederatedAccount'](),logger['info'](_0x4b3200[_0x19d08a(0x212)]);}async[a1_0x4a6e6e(0x27b)](){const _0x4e84d4=a1_0x4a6e6e,_0x4ef13c={};_0x4ef13c[_0x4e84d4(0x2a0)]=_0x4e84d4(0x16d),_0x4ef13c[_0x4e84d4(0x242)]=_0x4e84d4(0x20e),_0x4ef13c[_0x4e84d4(0x20a)]='storageaccount.json',_0x4ef13c[_0x4e84d4(0x167)]=_0x4e84d4(0x11d),_0x4ef13c[_0x4e84d4(0x133)]='turboscale-storageaccount-deployment',_0x4ef13c[_0x4e84d4(0x271)]='Incremental',_0x4ef13c[_0x4e84d4(0x247)]=_0x4e84d4(0x1ac),_0x4ef13c[_0x4e84d4(0x221)]=_0x4e84d4(0x17c),_0x4ef13c[_0x4e84d4(0xf6)]=_0x4e84d4(0x13a),_0x4ef13c[_0x4e84d4(0x1ad)]=_0x4e84d4(0x198);const _0x533d9b=_0x4ef13c;let _0xf7a9bd=await fs[_0x4e84d4(0x1e4)](path[_0x4e84d4(0xe6)](__dirname,'..',_0x533d9b[_0x4e84d4(0x2a0)],_0x533d9b['GrmpE'],_0x533d9b[_0x4e84d4(0x20a)]),_0x533d9b[_0x4e84d4(0x167)]);_0xf7a9bd=JSON['parse'](_0xf7a9bd);const _0x516ecd=this[_0x4e84d4(0x205)](),_0x30adb3={};_0x30adb3['value']=_0x516ecd;const _0x25cbc1={};_0x25cbc1[_0x4e84d4(0x227)]=_0x30adb3,await this[_0x4e84d4(0x180)][_0x4e84d4(0x1b5)][_0x4e84d4(0xed)](global_registry['cloudProviderResourceGroup'],_0x533d9b[_0x4e84d4(0x133)],{'properties':{'template':_0xf7a9bd,'mode':_0x533d9b[_0x4e84d4(0x271)],'parameters':_0x25cbc1}});const _0x1fb730={};_0x1fb730[_0x4e84d4(0x1f1)]=0x3c;const _0x2fd1df={};_0x2fd1df[_0x4e84d4(0x1bd)]=_0x1fb730;const _0x37ae11={};_0x37ae11[_0x4e84d4(0x220)]=_0x2fd1df;const _0x2b999f={};_0x2b999f[_0x4e84d4(0x26e)]=!![],_0x2b999f['name']=_0x533d9b[_0x4e84d4(0x247)],_0x2b999f[_0x4e84d4(0x2c1)]=_0x533d9b['JyUiI'],_0x2b999f[_0x4e84d4(0x2ac)]={},_0x2b999f[_0x4e84d4(0x2ac)]['actions']=_0x37ae11,_0x2b999f[_0x4e84d4(0x2ac)][_0x4e84d4(0x177)]={},_0x2b999f[_0x4e84d4(0x2ac)][_0x4e84d4(0x177)]['blobTypes']=[_0x533d9b[_0x4e84d4(0xf6)]];const _0x14e3af={};_0x14e3af[_0x4e84d4(0x163)]=[_0x2b999f];const _0x2488b3={};_0x2488b3[_0x4e84d4(0x27a)]=_0x14e3af;const _0x637536=_0x2488b3;await this[_0x4e84d4(0x1d0)][_0x4e84d4(0x13b)]['createOrUpdate'](global_registry['cloudProviderResourceGroup'],_0x516ecd,_0x533d9b['rqdVp'],_0x637536);}async[a1_0x4a6e6e(0x106)](){const _0x348f0c=a1_0x4a6e6e,_0x325375={};_0x325375[_0x348f0c(0x1fb)]=_0x348f0c(0x16d),_0x325375['tACCz']=_0x348f0c(0x20e),_0x325375[_0x348f0c(0x213)]=_0x348f0c(0x12a),_0x325375[_0x348f0c(0x22e)]='utf-8',_0x325375[_0x348f0c(0xee)]=_0x348f0c(0x117),_0x325375[_0x348f0c(0x218)]='Incremental';const _0x3d1d87=_0x325375;let _0x44856c=await fs['readFileAsync'](path[_0x348f0c(0xe6)](__dirname,'..',_0x3d1d87[_0x348f0c(0x1fb)],_0x3d1d87['tACCz'],_0x3d1d87['zQFgk']),_0x3d1d87['qIBGm']);_0x44856c=JSON['parse'](_0x44856c),await this[_0x348f0c(0x180)][_0x348f0c(0x1b5)][_0x348f0c(0xed)](global_registry[_0x348f0c(0xf1)],_0x3d1d87[_0x348f0c(0xee)],{'properties':{'template':_0x44856c,'mode':_0x3d1d87[_0x348f0c(0x218)],'parameters':{'clusterName':{'value':this[_0x348f0c(0x166)]}}}});}async['createFederatedAccount'](){const _0x5f07ed=a1_0x4a6e6e,_0x845f2e={};_0x845f2e[_0x5f07ed(0x143)]=function(_0x3f3802,_0x3672d7){return _0x3f3802+_0x3672d7;},_0x845f2e[_0x5f07ed(0x261)]=function(_0x11df09,_0x53d124){return _0x11df09!==_0x53d124;},_0x845f2e[_0x5f07ed(0x164)]=_0x5f07ed(0x16c),_0x845f2e[_0x5f07ed(0x10a)]=_0x5f07ed(0x1ae),_0x845f2e[_0x5f07ed(0x28d)]=_0x5f07ed(0x2a9),_0x845f2e[_0x5f07ed(0x1cb)]=_0x5f07ed(0x1f4),_0x845f2e[_0x5f07ed(0x110)]=function(_0x29781b,_0x597777){return _0x29781b!==_0x597777;},_0x845f2e['zLoGW']='cHLey',_0x845f2e[_0x5f07ed(0x21e)]=_0x5f07ed(0x16d),_0x845f2e[_0x5f07ed(0x235)]='azureresources',_0x845f2e[_0x5f07ed(0x295)]=_0x5f07ed(0x11d),_0x845f2e['zxVAL']=_0x5f07ed(0x207),_0x845f2e[_0x5f07ed(0x195)]=_0x5f07ed(0x1a1);const _0x43d7f6=_0x845f2e;if(!this[_0x5f07ed(0x239)]){if(_0x43d7f6['hDVYa'](_0x43d7f6[_0x5f07ed(0x164)],_0x43d7f6[_0x5f07ed(0x10a)]))await this[_0x5f07ed(0x24b)]();else return _0x5e7711[_0x5f07ed(0x12c)]('[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20'+_0x204b2d+':'+_0x2111d9[_0x5f07ed(0x1b3)]),{};}const _0x376cd1=this['clusterInfo']?.[_0x5f07ed(0x17f)]?.[_0x5f07ed(0x259)],_0x353f4b=[_0x43d7f6['gBSsC'],_0x43d7f6[_0x5f07ed(0x1cb)]];for await(const _0x5cb63d of _0x353f4b){if(_0x43d7f6['TMiyd'](_0x43d7f6['zLoGW'],_0x43d7f6['zLoGW']))_0x5b9c0a[_0x5f07ed(0x121)]('['+_0x43d7f6['hOqiP'](_0xe9e36,0x1)+']\x20'+_0x4e41e2[_0x1c1dec]);else{let _0x23cd1d=await fs['readFileAsync'](path[_0x5f07ed(0xe6)](__dirname,'..',_0x43d7f6[_0x5f07ed(0x21e)],_0x43d7f6[_0x5f07ed(0x235)],'federatedidentity'+_0x5cb63d+_0x5f07ed(0x1a3)),_0x43d7f6['AKFNQ']);_0x23cd1d=JSON[_0x5f07ed(0xe3)](_0x23cd1d);const _0x2048a5={};_0x2048a5[_0x5f07ed(0x20b)]=_0x376cd1,await this[_0x5f07ed(0x180)][_0x5f07ed(0x1b5)][_0x5f07ed(0xed)](global_registry[_0x5f07ed(0xf1)],_0x43d7f6[_0x5f07ed(0x1d1)],{'properties':{'template':_0x23cd1d,'mode':_0x43d7f6[_0x5f07ed(0x195)],'parameters':{'oidcIssuer':_0x2048a5,'gridName':{'value':this[_0x5f07ed(0x192)]},'clusterName':{'value':this[_0x5f07ed(0x166)]}}}});}}}async[a1_0x4a6e6e(0x246)](_0x391f99,_0x15f511,_0x43f4d5,_0x406152,_0x11e29c){const _0x143648=a1_0x4a6e6e,_0x32c5c5={};_0x32c5c5['gtPQg']=_0x143648(0x1c0),_0x32c5c5[_0x143648(0x139)]='Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha';const _0x2bbcca=_0x32c5c5,_0x1bc388={};_0x1bc388[_0x143648(0x2c1)]=WS_EVENTS[_0x143648(0xe5)],_0x1bc388['message']=_0x2bbcca[_0x143648(0x2bb)],this[_0x143648(0x1c2)]['sendEventToBackend'](this[_0x143648(0x1b8)],_0x1bc388),logger[_0x143648(0x184)](_0x2bbcca[_0x143648(0x2bb)]),await this['createFederatedAccountForHubHA']();const _0x31572b={};_0x31572b[_0x143648(0x2c1)]=WS_EVENTS[_0x143648(0xe5)],_0x31572b[_0x143648(0x255)]=_0x2bbcca[_0x143648(0x139)],this['webSocketUtils']['sendEventToBackend'](this[_0x143648(0x1b8)],_0x31572b);}async[a1_0x4a6e6e(0x1f6)](){const _0x351072=a1_0x4a6e6e,_0x1f130e={};_0x1f130e[_0x351072(0x145)]=function(_0x3b9f3a,_0x2cf78e){return _0x3b9f3a!==_0x2cf78e;},_0x1f130e['OPCdk']='DVzTW',_0x1f130e[_0x351072(0x126)]=_0x351072(0x16d),_0x1f130e[_0x351072(0x102)]=_0x351072(0x116),_0x1f130e[_0x351072(0x224)]=_0x351072(0x29b),_0x1f130e[_0x351072(0x252)]=_0x351072(0x11d),_0x1f130e[_0x351072(0x2c0)]=_0x351072(0x207),_0x1f130e['sIHxY']=_0x351072(0x1a1);const _0x5ee187=_0x1f130e;!this['clusterInfo']&&(_0x5ee187[_0x351072(0x145)](_0x5ee187[_0x351072(0x1b2)],_0x5ee187['OPCdk'])?_0xff5ad3[_0x351072(0x225)][_0x351072(0x1fe)](_0x3844cd):await this[_0x351072(0x24b)]());const _0x26fb44=this[_0x351072(0x239)]?.[_0x351072(0x17f)]?.[_0x351072(0x259)];let _0x3802ed=await fs[_0x351072(0x1e4)](path[_0x351072(0xe6)](__dirname,'..',_0x5ee187['amoSH'],_0x5ee187[_0x351072(0x102)],_0x5ee187['VBPSl']),_0x5ee187[_0x351072(0x252)]);_0x3802ed=JSON[_0x351072(0xe3)](_0x3802ed);const _0x3af778={};_0x3af778[_0x351072(0x20b)]=_0x26fb44,await this[_0x351072(0x180)][_0x351072(0x1b5)]['beginCreateOrUpdateAndWait'](global_registry['cloudProviderResourceGroup'],_0x5ee187[_0x351072(0x2c0)],{'properties':{'template':_0x3802ed,'mode':_0x5ee187[_0x351072(0x22b)],'parameters':{'oidcIssuer':_0x3af778,'namespace':{'value':global_registry[_0x351072(0x199)]},'clusterName':{'value':this[_0x351072(0x166)]}}}});}async[a1_0x4a6e6e(0x19b)](){const _0x8c265e=a1_0x4a6e6e,_0x54a23a={};_0x54a23a[_0x8c265e(0x1f5)]='No\x20service\x20principal\x20found',_0x54a23a[_0x8c265e(0x174)]=function(_0x24d12f,_0x395873){return _0x24d12f!==_0x395873;},_0x54a23a[_0x8c265e(0x265)]='sHHZn',_0x54a23a[_0x8c265e(0x215)]=function(_0x281572,_0x4e40f0){return _0x281572===_0x4e40f0;},_0x54a23a[_0x8c265e(0x234)]=_0x8c265e(0x189),_0x54a23a['sOhxB']=function(_0x3b5ee9,_0x12df01){return _0x3b5ee9===_0x12df01;},_0x54a23a[_0x8c265e(0x251)]=_0x8c265e(0x23c);const _0x35cfd1=_0x54a23a,_0x2d260e=this[_0x8c265e(0x205)](),_0x384bbf=new Array();for await(const _0x414101 of this['storageClient'][_0x8c265e(0x16a)]['listByResourceGroup'](global_registry[_0x8c265e(0xf1)])){if(_0x35cfd1['rPKse'](_0x35cfd1[_0x8c265e(0x265)],_0x35cfd1[_0x8c265e(0x265)]))throw new _0x3c2ba1(_0x35cfd1[_0x8c265e(0x1f5)],_0x8c265e(0x1b7)+_0x1af946[_0x8c265e(0x282)](_0x594a3b));else _0x384bbf['push'](_0x414101);}for await(const _0x5017db of _0x384bbf){if(_0x35cfd1['cDnVN'](_0x35cfd1['RycRn'],_0x35cfd1[_0x8c265e(0x234)])){if(_0x35cfd1['cDnVN'](_0x5017db[_0x8c265e(0x10d)],_0x2d260e))return _0x35cfd1[_0x8c265e(0xf7)](_0x35cfd1[_0x8c265e(0x251)],_0x35cfd1[_0x8c265e(0x251)])?!![]:!![];}else return _0x1f7233['error']('Cannot\x20find\x20subnets\x20'+_0x3a82ba+'.\x20Error:\x20'+_0x9952b7),[![],[]];}return![];}async['isManagedIdentityPresent'](){const _0x525588=a1_0x4a6e6e,_0x4428cf={};_0x4428cf[_0x525588(0x244)]=function(_0x127130,_0x49a744){return _0x127130+_0x49a744;},_0x4428cf['IkLzp']='turboscale',_0x4428cf[_0x525588(0x169)]=function(_0x2990c1,_0x32e2d1){return _0x2990c1-_0x32e2d1;},_0x4428cf['cvlUC']=function(_0x30350d,_0x5493af){return _0x30350d!==_0x5493af;},_0x4428cf[_0x525588(0x1a6)]=_0x525588(0x28a),_0x4428cf['ZwCZm']='lpHFl',_0x4428cf[_0x525588(0x291)]=function(_0x38dfca,_0x30812b){return _0x38dfca===_0x30812b;},_0x4428cf[_0x525588(0x201)]=_0x525588(0x1a9),_0x4428cf[_0x525588(0x248)]='dslMW',_0x4428cf[_0x525588(0x214)]=function(_0x1b1862,_0xd06f07){return _0x1b1862!==_0xd06f07;},_0x4428cf[_0x525588(0x12f)]=_0x525588(0x29f),_0x4428cf[_0x525588(0xe2)]='YNtwS';const _0x5ded5c=_0x4428cf,_0x24457a=new Array();for await(const _0x4eafe1 of this['resourceClient']['resources'][_0x525588(0x21a)](global_registry['cloudProviderResourceGroup'])){if(_0x5ded5c['cvlUC'](_0x5ded5c[_0x525588(0x1a6)],_0x5ded5c[_0x525588(0x150)]))_0x24457a[_0x525588(0x1fe)](_0x4eafe1);else{const _0x593b14=_0x3615ea[_0x525588(0xeb)][_0x525588(0xe7)]('-'),_0x8a7d36=_0x5ded5c['ZHuXf'](_0x5ded5c['IkLzp'],_0x593b14[_0x5ded5c[_0x525588(0x169)](_0x593b14[_0x525588(0x290)],0x1)])[_0x525588(0x1c1)](0x0,0x18);return _0x8a7d36[_0x525588(0x2ab)]();}}for await(const _0x7ac047 of _0x24457a){if(_0x5ded5c[_0x525588(0x291)](_0x5ded5c['lrfWC'],_0x5ded5c[_0x525588(0x248)])){const _0x306ca7=new _0x1a4c42(_0x41418b[_0x525588(0x203)],_0x4ee6e4[_0x525588(0x29d)],_0x1b507c[_0x525588(0x20d)]);this['containerClient']=new _0x57471c(_0x306ca7,_0x2f052a[_0x525588(0x1fd)]),this['storageClient']=new _0x4d21c5(_0x306ca7,_0x444fc3[_0x525588(0x1fd)]),this[_0x525588(0x180)]=new _0xfd3882(_0x306ca7,_0xaa00de[_0x525588(0x1fd)]),this['networkClient']=new _0x5eb39c(_0x306ca7,_0x57ff86[_0x525588(0x1fd)]),this[_0x525588(0x14b)]=new _0x3a59b0(_0x306ca7,_0x239296[_0x525588(0x1fd)]),this[_0x525588(0x149)]=_0x306ca7;}else{if(_0x5ded5c[_0x525588(0x291)](_0x7ac047['name'],_0x525588(0x28f)+this[_0x525588(0x166)]))return _0x5ded5c[_0x525588(0x214)](_0x5ded5c[_0x525588(0x12f)],_0x5ded5c[_0x525588(0xe2)])?!![]:[!![],_0x424e6e];}}return![];}async[a1_0x4a6e6e(0x1ed)](_0x2abf28,_0x2a788a=0x3){const _0x51177a=a1_0x4a6e6e,_0x14dcaa={'cYsUm':_0x51177a(0x1c4),'UoXvi':'4|3|1|0|5|2','ZVeUv':'Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','ADbxR':function(_0x6bd45,_0x504f3a){return _0x6bd45!==_0x504f3a;},'EyDMJ':_0x51177a(0x136),'QjQxn':_0x51177a(0x21d),'tOkqj':function(_0x3f87f8,_0x1aa84d,_0xce7514){return _0x3f87f8(_0x1aa84d,_0xce7514);},'WiZTP':_0x51177a(0x1ff),'ekmyX':function(_0x4ff637,_0x294112){return _0x4ff637===_0x294112;},'uzCUb':_0x51177a(0x181),'emZiW':_0x51177a(0x11a),'hpIoo':function(_0x5b63fe,_0x5bdfd3){return _0x5b63fe===_0x5bdfd3;},'Lskvq':'PlsUu','nFmKC':function(_0x4d85bf,_0x55c812){return _0x4d85bf!==_0x55c812;},'EgvUm':'nysRZ','aHafq':_0x51177a(0x1a7),'mLuBI':_0x51177a(0x1cc),'ruBcL':'RJJgW','KoFua':'jgaCD','inxhQ':function(_0x275da3,_0x31f610){return _0x275da3<=_0x31f610;},'DQHox':_0x51177a(0x1d2),'AompB':function(_0x5b3f40,_0x2d8bcf){return _0x5b3f40-_0x2d8bcf;}};try{if(_0x14dcaa[_0x51177a(0x1d3)](_0x14dcaa[_0x51177a(0x232)],_0x14dcaa[_0x51177a(0x232)]))_0x3f09a6[_0x51177a(0x19f)]=![];else{const _0x14ce89=new Array();for await(const _0x1bfe28 of this[_0x51177a(0x180)][_0x51177a(0x144)]['listByResourceGroup'](global_registry['cloudProviderResourceGroup'])){if(_0x14dcaa[_0x51177a(0x119)](_0x14dcaa[_0x51177a(0x142)],_0x14dcaa[_0x51177a(0x2a4)]))return _0x5725e9[_0x51177a(0xfb)]=_0x14dcaa[_0x51177a(0x17b)],_0x293d74;else _0x14ce89[_0x51177a(0x1fe)](_0x1bfe28);}let _0x2ae9fd='';for await(const _0x1211b1 of _0x14ce89){if(_0x14dcaa[_0x51177a(0xf0)](_0x14dcaa[_0x51177a(0xf2)],_0x14dcaa['Lskvq'])){if(_0x14dcaa[_0x51177a(0xf0)](_0x1211b1['name'],_0x2abf28)){if(_0x14dcaa[_0x51177a(0x258)](_0x14dcaa[_0x51177a(0x22f)],_0x14dcaa[_0x51177a(0x206)]))_0x2ae9fd=_0x1211b1['id'];else{const _0xcd8415=_0x14dcaa[_0x51177a(0x1bf)][_0x51177a(0xe7)]('|');let _0x5851e2=0x0;while(!![]){switch(_0xcd8415[_0x5851e2++]){case'0':_0x1ab43f[_0x51177a(0x1fd)]=_0x11ad46[this[_0x51177a(0x1d5)]]['subscriptionId'];continue;case'1':_0x51590a[_0x51177a(0x203)]=_0x4fb0ee[this['cloudProviderName']]['tenantId'];continue;case'2':this[_0x51177a(0x190)]();continue;case'3':_0x39b2b5[_0x51177a(0x20d)]=_0x227c22[this[_0x51177a(0x1d5)]]['clientSecret'];continue;case'4':_0x42715c['cloudProviderClientId']=_0x2e23e9[this['cloudProviderName']][_0x51177a(0xea)];continue;case'5':_0x1afe84['cloudProviderResourceGroup']=_0x3c4fe8[this[_0x51177a(0x1d5)]][_0x51177a(0x194)];continue;}break;}}}}else return _0x12483f['error'](_0x51177a(0x229)+_0x2deeb4+'.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20'+_0x47cb96),![];}const _0x45d061=await this['resourceClient'][_0x51177a(0x144)][_0x51177a(0x1bc)](_0x2ae9fd,_0x14dcaa[_0x51177a(0x1e7)]);return _0x45d061[_0x51177a(0x15c)][_0x51177a(0xea)];}}catch(_0x13878c){if(_0x14dcaa['ekmyX'](_0x14dcaa[_0x51177a(0xe4)],_0x14dcaa[_0x51177a(0x157)])){_0x3ec56b[_0x51177a(0x184)](_0x14dcaa[_0x51177a(0x208)]);const _0x195cdc={};_0x195cdc[_0x51177a(0x2c1)]=_0x103103[_0x51177a(0x17d)],_0x195cdc[_0x51177a(0x255)]=_0x14dcaa['ZVeUv'],this[_0x51177a(0x1c2)][_0x51177a(0x27f)](this['rws'],_0x195cdc);const _0x2f26e0={};_0x2f26e0[_0x51177a(0x26e)]=!![];const _0x2af883={'workloadIdentity':_0x2f26e0,..._0x5e5418[_0x51177a(0x2a3)]};_0x446d9f[_0x51177a(0x2a3)]=_0x2af883;}else{if(_0x14dcaa[_0x51177a(0x134)](_0x2a788a,0x0))return _0x14dcaa[_0x51177a(0xf0)](_0x14dcaa[_0x51177a(0x273)],_0x14dcaa['DQHox'])?(logger[_0x51177a(0x12c)]('[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20'+_0x13878c+':'+_0x13878c[_0x51177a(0x1b3)]),{}):_0x2a8d9b['status'][_0x51177a(0xf5)]['ingress'][0x0]['hostname'];return await new Promise(_0x3ef131=>{const _0x316a56=_0x51177a;_0x14dcaa[_0x316a56(0x1d3)](_0x14dcaa[_0x316a56(0x24f)],_0x14dcaa['QjQxn'])?_0x14dcaa['tOkqj'](setTimeout,()=>_0x3ef131(),0x3e8):_0x578a59[_0x316a56(0x12c)]=_0x576dd0;}),this['getResourceClientId'](_0x2abf28,_0x14dcaa['AompB'](_0x2a788a,0x1));}}}async[a1_0x4a6e6e(0x256)](){const _0x45d6ff=a1_0x4a6e6e,_0x4f49ff={};_0x4f49ff[_0x45d6ff(0x1db)]=function(_0x24afbc,_0x2a5b03){return _0x24afbc===_0x2a5b03;},_0x4f49ff['lBnbl']='JFGcq',_0x4f49ff['CDuVS']=_0x45d6ff(0x197),_0x4f49ff[_0x45d6ff(0x1c3)]=function(_0x53a70a,_0x3e7253){return _0x53a70a===_0x3e7253;},_0x4f49ff[_0x45d6ff(0x168)]='browserstack:managedBy',_0x4f49ff[_0x45d6ff(0x1dd)]=_0x45d6ff(0x2af),_0x4f49ff[_0x45d6ff(0x253)]=function(_0xcdc0dc,_0x3b584d){return _0xcdc0dc!==_0x3b584d;},_0x4f49ff[_0x45d6ff(0x11e)]=_0x45d6ff(0x18b);const _0x36fcc2=_0x4f49ff;!this['clusterInfo']&&(_0x36fcc2[_0x45d6ff(0x1db)](_0x36fcc2['lBnbl'],_0x36fcc2[_0x45d6ff(0xe1)])?_0x1016f9['push'](_0x1c53c4[_0x45d6ff(0x10d)]):await this[_0x45d6ff(0x24b)]());const _0x270073=this[_0x45d6ff(0x239)]?.[_0x45d6ff(0x141)]||{};if(_0x270073&&_0x36fcc2['MTRJd'](_0x270073[_0x36fcc2['DEjaS']],_0x36fcc2[_0x45d6ff(0x1dd)])){if(_0x36fcc2[_0x45d6ff(0x253)](_0x36fcc2['UEOAA'],_0x36fcc2['UEOAA']))_0x33e514[_0x45d6ff(0x1fe)](_0x9d6e9b);else return!![];}return![];}async[a1_0x4a6e6e(0x23f)](_0x2f3ebb,_0x337b04){const _0x39f6b9=a1_0x4a6e6e,_0x24c093={'PuUeC':function(_0x4680f5,_0x5a627d){return _0x4680f5(_0x5a627d);},'qTbRt':'Deleted\x20the\x20cluster\x20successfully'};await _0x24c093[_0x39f6b9(0x1f8)](deleteAgent,_0x2f3ebb),await _0x24c093[_0x39f6b9(0x1f8)](deleteRoutingDeps,_0x2f3ebb);const _0x5ddd41=this[_0x39f6b9(0x226)];logger[_0x39f6b9(0x184)](_0x39f6b9(0x1d6)+this[_0x39f6b9(0x166)]),await _0x5ddd41['managedClusters']['beginDeleteAndWait'](global_registry[_0x39f6b9(0xf1)],this['clusterName']),logger[_0x39f6b9(0x184)](_0x24c093[_0x39f6b9(0x108)]);}async[a1_0x4a6e6e(0x1e3)](){const _0x5f4f1b=a1_0x4a6e6e,_0x58b4dd={};_0x58b4dd[_0x5f4f1b(0x280)]='Managed\x20identity\x20already\x20exists,\x20skipping',_0x58b4dd[_0x5f4f1b(0x148)]=_0x5f4f1b(0x237),_0x58b4dd['gQctX']=function(_0x407983,_0x2ff123){return _0x407983===_0x2ff123;},_0x58b4dd[_0x5f4f1b(0x118)]=_0x5f4f1b(0x100),_0x58b4dd[_0x5f4f1b(0x10c)]=function(_0x52fff2,_0x47a3bb){return _0x52fff2&&_0x47a3bb;},_0x58b4dd[_0x5f4f1b(0x13f)]=function(_0x338f91,_0x3f083d){return _0x338f91!==_0x3f083d;},_0x58b4dd[_0x5f4f1b(0xde)]=_0x5f4f1b(0x176),_0x58b4dd[_0x5f4f1b(0x287)]=function(_0x1ea93b,_0x5c32f0){return _0x1ea93b!==_0x5c32f0;},_0x58b4dd['IYwDc']=_0x5f4f1b(0x269),_0x58b4dd[_0x5f4f1b(0x155)]=_0x5f4f1b(0x122),_0x58b4dd[_0x5f4f1b(0x12d)]='Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster',_0x58b4dd[_0x5f4f1b(0x1aa)]=_0x5f4f1b(0x14d),_0x58b4dd[_0x5f4f1b(0x10f)]='Enabling\x20Workload\x20identity\x20for\x20the\x20cluster',_0x58b4dd[_0x5f4f1b(0x1a8)]=function(_0x14b946,_0x352d20){return _0x14b946!==_0x352d20;},_0x58b4dd[_0x5f4f1b(0xfa)]=_0x5f4f1b(0x277),_0x58b4dd[_0x5f4f1b(0x2b2)]=_0x5f4f1b(0x260);const _0x213710=_0x58b4dd;!this[_0x5f4f1b(0x239)]&&(_0x213710[_0x5f4f1b(0x279)](_0x213710['pelwr'],_0x213710['pelwr'])?await this['getClusterInfo']():_0x53fcf7[_0x5f4f1b(0x184)](_0x213710[_0x5f4f1b(0x280)]));const _0xcf2934=this['clusterInfo'],_0x20140a=this[_0x5f4f1b(0x239)]?.[_0x5f4f1b(0x17f)]?.[_0x5f4f1b(0x26e)]||![],_0x574bde=this[_0x5f4f1b(0x239)]?.[_0x5f4f1b(0x2a3)]?.[_0x5f4f1b(0x19c)]?.[_0x5f4f1b(0x26e)]||![],_0x2dd601=!this[_0x5f4f1b(0x239)]?.[_0x5f4f1b(0x283)]||![];if(_0x213710[_0x5f4f1b(0x10c)](_0x20140a,_0x574bde)&&_0x2dd601){if(_0x213710[_0x5f4f1b(0x13f)](_0x213710[_0x5f4f1b(0xde)],_0x213710[_0x5f4f1b(0xde)]))_0x19e7fa['exit'](0x0);else return;}if(!_0x20140a){if(_0x213710[_0x5f4f1b(0x287)](_0x213710[_0x5f4f1b(0x249)],_0x213710[_0x5f4f1b(0x155)])){logger[_0x5f4f1b(0x184)](_0x213710['hgSMA']);const _0x5a1b1f={};_0x5a1b1f[_0x5f4f1b(0x2c1)]=WS_EVENTS[_0x5f4f1b(0x17d)],_0x5a1b1f['message']=_0x213710[_0x5f4f1b(0x12d)],this[_0x5f4f1b(0x1c2)][_0x5f4f1b(0x27f)](this[_0x5f4f1b(0x1b8)],_0x5a1b1f),_0xcf2934[_0x5f4f1b(0x17f)]['enabled']=!![];}else _0x2e99f6['push'](..._0x32530c[_0x5f4f1b(0x129)]);}if(!_0x574bde){if(_0x213710['Xpwbd'](_0x213710[_0x5f4f1b(0x1aa)],_0x213710[_0x5f4f1b(0x1aa)]))return _0x368169[_0x5f4f1b(0x12c)]=_0x4ceafb[_0x5f4f1b(0x12c)],_0xd75ca1;else{logger[_0x5f4f1b(0x184)](_0x213710['dYRVY']);const _0x464869={};_0x464869['type']=WS_EVENTS[_0x5f4f1b(0x17d)],_0x464869[_0x5f4f1b(0x255)]=_0x213710['dYRVY'],this[_0x5f4f1b(0x1c2)][_0x5f4f1b(0x27f)](this['rws'],_0x464869);const _0x5f18e5={};_0x5f18e5[_0x5f4f1b(0x26e)]=!![],_0xcf2934[_0x5f4f1b(0x2a3)]={'workloadIdentity':_0x5f18e5,..._0xcf2934[_0x5f4f1b(0x2a3)]};}}if(!_0x2dd601){if(_0x213710[_0x5f4f1b(0x1a8)](_0x213710['biXfs'],_0x213710[_0x5f4f1b(0xfa)])){const _0x213d5f={};_0x213d5f[_0x5f4f1b(0x19f)]=!![],_0x213d5f[_0x5f4f1b(0x12c)]=null,_0x213d5f[_0x5f4f1b(0xfb)]=_0x213710['vXszC'];const _0x2d05ba=_0x213d5f;return _0x2d05ba;}else{logger[_0x5f4f1b(0x184)](_0x213710[_0x5f4f1b(0x2b2)]);const _0x527e23={};_0x527e23[_0x5f4f1b(0x2c1)]=WS_EVENTS[_0x5f4f1b(0x17d)],_0x527e23['message']=_0x213710[_0x5f4f1b(0x2b2)],this[_0x5f4f1b(0x1c2)][_0x5f4f1b(0x27f)](this[_0x5f4f1b(0x1b8)],_0x527e23),_0xcf2934[_0x5f4f1b(0x283)]=![];}}await this[_0x5f4f1b(0x226)][_0x5f4f1b(0x2b3)]['beginCreateOrUpdateAndWait'](global_registry[_0x5f4f1b(0xf1)],this[_0x5f4f1b(0x166)],_0xcf2934),await this[_0x5f4f1b(0x24b)]();}async[a1_0x4a6e6e(0x179)](){const _0x4f3416=a1_0x4a6e6e,_0x12e908={};_0x12e908[_0x4f3416(0x219)]=function(_0x5601e4,_0x4db520){return _0x5601e4===_0x4db520;},_0x12e908['rEvhG']=_0x4f3416(0x2a5),_0x12e908[_0x4f3416(0x191)]='QSBKL',_0x12e908[_0x4f3416(0x1e1)]='FjOAU';const _0x1048c0=_0x12e908,_0x37cdf1=await this[_0x4f3416(0x293)]['virtualNetworks'][_0x4f3416(0x2a1)](global_registry[_0x4f3416(0xf1)]),_0x238c03={};_0x238c03[_0x4f3416(0x12e)]=global_registry['bstackUsername'],_0x238c03['accessKey']=global_registry[_0x4f3416(0x2b4)],_0x238c03[_0x4f3416(0x2ae)]=AZURE,_0x238c03['vpcInfo']=[];const _0x5b94aa=_0x238c03;for await(const _0x3be430 of _0x37cdf1){_0x1048c0[_0x4f3416(0x219)](_0x1048c0[_0x4f3416(0x191)],_0x1048c0['aHZWA'])?(_0x4844b7+=_0x1048c0['iSput'](_0x58a467[_0x4f3416(0x290)],0x0)?_0x1048c0[_0x4f3416(0xdf)]:'',_0x2daefe[_0x4f3416(0x1f0)](_0x4f3416(0x125)+_0x295c25[_0x4f3416(0x282)](_0x121034))):_0x5b94aa[_0x4f3416(0x225)][_0x4f3416(0x1fe)](_0x3be430);}const _0x23b5dc={};_0x23b5dc[_0x4f3416(0x2c1)]=WS_EVENTS[_0x4f3416(0x17d)],_0x23b5dc[_0x4f3416(0x255)]=_0x5b94aa,this[_0x4f3416(0x1c2)][_0x4f3416(0x27f)](this[_0x4f3416(0x1b8)],_0x23b5dc);}async[a1_0x4a6e6e(0x29a)](_0x188d44){const _0x260752=a1_0x4a6e6e,_0x4fdd46={};_0x4fdd46[_0x260752(0x263)]=_0x260752(0x13c),_0x4fdd46[_0x260752(0x135)]='Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.',_0x4fdd46[_0x260752(0xe8)]=_0x260752(0x16e),_0x4fdd46[_0x260752(0x29c)]=_0x260752(0x1e5),_0x4fdd46[_0x260752(0x1e8)]=function(_0x21fa52,_0x2f5637){return _0x21fa52===_0x2f5637;},_0x4fdd46[_0x260752(0x152)]=_0x260752(0x27c),_0x4fdd46[_0x260752(0x1c9)]='kguyJ',_0x4fdd46['rUgUN']=_0x260752(0x104),_0x4fdd46[_0x260752(0x14e)]=_0x260752(0x231),_0x4fdd46['PnTHl']=function(_0x29e5d6,_0x2fd626){return _0x29e5d6===_0x2fd626;},_0x4fdd46[_0x260752(0x24c)]='VhFOz',_0x4fdd46['BRWRy']=_0x260752(0x270),_0x4fdd46[_0x260752(0x114)]=function(_0x2f7a1c,_0x11e322){return _0x2f7a1c===_0x11e322;},_0x4fdd46[_0x260752(0xe9)]='QkXvy',_0x4fdd46[_0x260752(0x103)]=_0x260752(0x1ef);const _0x2d1246=_0x4fdd46;try{if(_0x2d1246[_0x260752(0x1e8)](_0x2d1246[_0x260752(0x152)],_0x2d1246[_0x260752(0x1c9)])){_0x1e3cb0[_0x260752(0x184)](_0x2d1246[_0x260752(0x263)]);const _0x21916a={};_0x21916a[_0x260752(0x2c1)]=_0x5f373a[_0x260752(0x17d)],_0x21916a[_0x260752(0x255)]=_0x2d1246[_0x260752(0x263)],this[_0x260752(0x1c2)][_0x260752(0x27f)](this[_0x260752(0x1b8)],_0x21916a),_0x14e27c[_0x260752(0x17f)][_0x260752(0x26e)]=!![];}else{const _0x3aed47=await this[_0x260752(0x293)][_0x260752(0x276)][_0x260752(0x2a1)](global_registry[_0x260752(0xf1)]);for await(const _0xcc835a of _0x3aed47){if(_0x2d1246['uDOAq'](_0x2d1246[_0x260752(0x112)],_0x2d1246[_0x260752(0x14e)]))_0x4283b4[_0x260752(0x12c)](_0x2d1246[_0x260752(0x135)]),_0x19a8bf[_0x260752(0x25f)](0x1);else{if(_0x2d1246[_0x260752(0x1e8)](_0xcc835a['name'],_0x188d44)){if(_0x2d1246[_0x260752(0x278)](_0x2d1246[_0x260752(0x24c)],_0x2d1246[_0x260752(0x28c)])){const _0x255d84=_0x11aa42['includes'](_0x43110f);_0xca8389+='\x0a\x09'+_0x562094+':\x20'+(_0x255d84?_0x2d1246[_0x260752(0xe8)]:_0x2d1246[_0x260752(0x29c)]),!_0x255d84&&(_0x186b8a[_0x260752(0x19f)]=![]);}else return!![];}}}}}catch(_0x49346d){if(_0x2d1246[_0x260752(0x114)](_0x2d1246[_0x260752(0xe9)],_0x2d1246[_0x260752(0x103)]))_0x4d817b=_0x54ce12['id'];else return logger[_0x260752(0x12c)]('Cannot\x20find\x20VPC\x20'+_0x188d44+'.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20'+_0x49346d),![];}return![];}async[a1_0x4a6e6e(0x1c6)](_0x267023,_0x42f2c9){const _0x39400b=a1_0x4a6e6e,_0x19c3fd={};_0x19c3fd['RpKBt']=_0x39400b(0x240),_0x19c3fd[_0x39400b(0xef)]=function(_0x227f62,_0x4bdd2a){return _0x227f62!==_0x4bdd2a;},_0x19c3fd[_0x39400b(0x115)]='qCBMm',_0x19c3fd[_0x39400b(0x200)]='ppPDH',_0x19c3fd[_0x39400b(0x111)]=function(_0x1ff99a,_0x3192cd){return _0x1ff99a===_0x3192cd;},_0x19c3fd['Tqxrn']=_0x39400b(0x160),_0x19c3fd[_0x39400b(0x2b7)]='ParGX';const _0x3a74f6=_0x19c3fd;try{if(_0x3a74f6[_0x39400b(0xef)](_0x3a74f6['WkHgA'],_0x3a74f6['MSEDZ'])){const _0x34601c=await this['networkClient'][_0x39400b(0x18c)]['get'](global_registry[_0x39400b(0xf1)],_0x42f2c9,_0x267023[0x0]);if(_0x3a74f6['KKAJs'](_0x267023[0x0],_0x34601c[_0x39400b(0x10d)])){if(_0x3a74f6[_0x39400b(0x111)](_0x3a74f6[_0x39400b(0x1b9)],_0x3a74f6[_0x39400b(0x2b7)]))_0x5ddb13[_0x39400b(0x184)](_0x3a74f6[_0x39400b(0x178)]);else return[!![],_0x267023];}}else return!![];}catch(_0x25c10b){return logger[_0x39400b(0x12c)](_0x39400b(0x298)+_0x267023+_0x39400b(0x274)+_0x25c10b),[![],[]];}return[![],[]];}async['isCliToolInstalled'](){const _0x374631=a1_0x4a6e6e,_0x4f8c4c={};_0x4f8c4c['TNIwq']=_0x374631(0x237);const _0x12dc81=_0x4f8c4c,_0x271f5d={};_0x271f5d['status']=!![],_0x271f5d[_0x374631(0x12c)]=null,_0x271f5d['data']=_0x12dc81[_0x374631(0x138)];const _0x53ea18=_0x271f5d;return _0x53ea18;}async['getHeader'](){const _0x557c3f=a1_0x4a6e6e,_0x1fba0e={};_0x1fba0e[_0x557c3f(0x127)]='https://graph.microsoft.com/.default',_0x1fba0e[_0x557c3f(0x132)]=_0x557c3f(0x2be),_0x1fba0e[_0x557c3f(0x1b1)]='application/json';const _0x48d3ef=_0x1fba0e,_0x2fc674=await this[_0x557c3f(0x149)][_0x557c3f(0x286)](_0x48d3ef[_0x557c3f(0x127)]),_0x2412b8={};_0x2412b8[_0x557c3f(0x2b9)]=_0x48d3ef['JIaer'],_0x2412b8[_0x557c3f(0x1c5)]={},_0x2412b8[_0x557c3f(0x1c5)][_0x557c3f(0x26d)]=_0x557c3f(0x297)+_0x2fc674[_0x557c3f(0x186)],_0x2412b8[_0x557c3f(0x1c5)][_0x557c3f(0x1a4)]=_0x48d3ef[_0x557c3f(0x1b1)];const _0x427579=_0x2412b8;return _0x427579;}async[a1_0x4a6e6e(0x26c)](_0x47ead8){const _0x4a1700=a1_0x4a6e6e,_0x5b1b58={'tnipv':function(_0x34d5ab,_0x767874,_0x1f63a1){return _0x34d5ab(_0x767874,_0x1f63a1);},'IKprN':function(_0x121096,_0x4b6bdf){return _0x121096===_0x4b6bdf;},'NKMaX':_0x4a1700(0x1f2)},_0x1b81c9={};_0x1b81c9[_0x4a1700(0x20c)]='',_0x1b81c9[_0x4a1700(0x12c)]=null;const _0x5ed019=_0x1b81c9;try{const _0x5d2f85=_0x4a1700(0x25d)+_0x47ead8+'\x27',_0x52da41=await this['getHeader'](),_0x51cab9=await _0x5b1b58['tnipv'](fetch,_0x5d2f85,_0x52da41),_0xd0dbaf=await _0x51cab9[_0x4a1700(0x107)]();if(!_0xd0dbaf['value']||_0x5b1b58[_0x4a1700(0x294)](_0xd0dbaf[_0x4a1700(0x20b)][_0x4a1700(0x290)],0x0))throw new Error(_0x5b1b58[_0x4a1700(0x288)],'Received\x20response\x20-\x20'+JSON[_0x4a1700(0x282)](_0xd0dbaf));_0x5ed019['principalId']=_0xd0dbaf[_0x4a1700(0x20b)][0x0]['id'];}catch(_0x469928){_0x5ed019[_0x4a1700(0x12c)]=_0x469928;}return _0x5ed019;}async[a1_0x4a6e6e(0x16b)](){const _0x67935a=a1_0x4a6e6e,_0x237241={};_0x237241['eRvEe']=_0x67935a(0x16e),_0x237241[_0x67935a(0x25c)]=_0x67935a(0x1e5),_0x237241[_0x67935a(0x241)]=function(_0x2df10e,_0x96a612){return _0x2df10e!==_0x96a612;},_0x237241['VLrDd']=function(_0x504e60,_0x36e4b7){return _0x504e60===_0x36e4b7;},_0x237241['FlXHN']=_0x67935a(0x1c4),_0x237241[_0x67935a(0x257)]=function(_0x340786,_0xab808e){return _0x340786===_0xab808e;},_0x237241['pkYEP']=_0x67935a(0x18d),_0x237241[_0x67935a(0x101)]=function(_0x408e0c,_0x55d085){return _0x408e0c===_0x55d085;},_0x237241[_0x67935a(0x2a7)]=_0x67935a(0x2a5);const _0x22297d=_0x237241,_0x106ae1={};_0x106ae1[_0x67935a(0x19f)]=![],_0x106ae1[_0x67935a(0x12c)]=null,_0x106ae1[_0x67935a(0xfb)]='';const _0x4a1106=_0x106ae1;try{let _0x3be41a='';const _0x15b2bc='subscriptions/'+global_registry[_0x67935a(0x1fd)]+_0x67935a(0xf8)+global_registry['cloudProviderResourceGroup'],_0x3721bb=await this[_0x67935a(0x26c)](global_registry['cloudProviderClientId']);if(_0x22297d[_0x67935a(0x241)](_0x3721bb['error'],null))return _0x4a1106[_0x67935a(0x12c)]=_0x3721bb[_0x67935a(0x12c)],_0x4a1106;const _0x15a49f=_0x67935a(0x15d)+_0x3721bb[_0x67935a(0x20c)]+'\x27)',_0x2c65e5={};_0x2c65e5['filter']=_0x15a49f;const _0x2cb864=await this[_0x67935a(0x14b)][_0x67935a(0x1d8)]['listForScope'](_0x15b2bc,_0x2c65e5),_0x555a07=[];for await(const _0x287b12 of _0x2cb864){_0x555a07['push'](_0x287b12);}if(_0x22297d[_0x67935a(0x272)](_0x555a07[_0x67935a(0x290)],0x0))return _0x4a1106[_0x67935a(0xfb)]=_0x22297d[_0x67935a(0xe0)],_0x4a1106;const _0xf51973=[...new Set(_0x555a07[_0x67935a(0x182)](_0x5beda7=>_0x5beda7['roleDefinitionId']))];if(_0x22297d[_0x67935a(0x257)](_0xf51973[_0x67935a(0x290)],0x0))return _0x4a1106[_0x67935a(0xfb)]=_0x22297d['pkYEP'],_0x4a1106;const _0x48dbef=[],_0x540545=[];for(const _0x241024 of _0xf51973){const _0x187b5c=await this['authClient'][_0x67935a(0x1ec)][_0x67935a(0x1bc)](_0x241024);logger[_0x67935a(0x1f0)](_0x67935a(0x1de)+_0x187b5c[_0x67935a(0x24e)]),_0x48dbef[_0x67935a(0x1fe)](_0x187b5c),logger['debug']('Attached\x20permissions\x20:\x20'+JSON[_0x67935a(0x282)](_0x187b5c['permissions'])),_0x187b5c[_0x67935a(0x113)][_0x67935a(0x24d)](_0x41e862=>{const _0x3b9964=_0x67935a;_0x540545[_0x3b9964(0x1fe)](..._0x41e862[_0x3b9964(0x129)]);});}logger[_0x67935a(0x1f0)]('actionPermission\x20:\x20'+JSON[_0x67935a(0x282)](_0x540545)),_0x22297d[_0x67935a(0x101)](_0x540545[_0x67935a(0x290)],0x0)&&(_0x3be41a+=_0x22297d['VLrDd'](_0x540545[_0x67935a(0x290)],0x0)?_0x22297d[_0x67935a(0x2a7)]:'',logger[_0x67935a(0x1f0)](_0x67935a(0x125)+JSON[_0x67935a(0x282)](_0x48dbef))),_0x4a1106[_0x67935a(0x19f)]=!![],Object[_0x67935a(0x109)](PERMISSIONS[_0x67935a(0x17a)])[_0x67935a(0x24d)](([_0x5bf284,_0x320561])=>{const _0xe84197=_0x67935a,_0x5af323=_0x540545[_0xe84197(0x1c7)](_0x5bf284);_0x3be41a+='\x0a\x09'+_0x320561+':\x20'+(_0x5af323?_0x22297d[_0xe84197(0x175)]:_0x22297d[_0xe84197(0x25c)]),!_0x5af323&&(_0x4a1106[_0xe84197(0x19f)]=![]);}),_0x4a1106[_0x67935a(0xfb)]=_0x3be41a;}catch(_0x30b5be){_0x4a1106[_0x67935a(0x12c)]=_0x30b5be;}return _0x4a1106;}}function a1_0x1bd3(){const _0x3be6c5=['cYsUm','Lifecycle','RESOURCES','sHAjh','oidcIssuerProfile','resourceClient','HYZof','map','8HcJzUH','info','ORfvD','token','UsaCC','createOtherResources','SnNqZ','@azure/identity','slhAG','subnets','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','qozNr','jdkVQ','setClients','WRkde','gridName','CoHFQ','resourceGroup','OjqUk','ixzGk','YxYai','default','hubHaNameSpace','js-yaml','isStorageAccountPresent','workloadIdentity','exports','Vngyu','status','ACuzJ','Incremental','ooPlZ','.json','Content-Type','ATaNg','CtEqu','enqwN','FkxFZ','YdLSn','ScqQg','vnetSubnetID','Blob\x20delete\x20lifecycle','rqdVp','qGWuY','ZnmHG','voLJJ','cBmff','OPCdk','stack','path','deployments','BaMXZ','Received\x20response\x20-\x20','rws','Tqxrn','AdOju','GpVME','getById','delete','xRnjD','UoXvi','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','slice','webSocketUtils','MTRJd','No\x20attached\x20role\x20for\x20the\x20client\x20key','headers','isSubnetsValid','includes','LWqGs','babFL','vpcName','gYPSE','2023-01-31','uOUqB','setupNewCluster','PLAFu','storageClient','zxVAL','KYftH','ADbxR','wCTvj','cloudProviderName','Deleting\x20the\x20cluster\x20','PiCTF','roleAssignments','isManagedIdentityPresent','vDQrp','lFCeJ','DBtpi','gZoba','role\x20name\x20attached\x20-\x20','oCyFV','subnetName','aHZWA','string','updateClusterAlreadyPresent','readFileAsync','denied','uokfE','mLuBI','uDOAq','4093278qkTTCn','IgxsD','pfJcL','roleDefinitions','getResourceClientId','lEZUM','WDRtK','debug','daysAfterCreationGreaterThan','No\x20service\x20principal\x20found','tWRWG','node','CMSnS','createFederatedAccountForHubHA','uJszH','PuUeC','vJdhP','FrbBa','bjBem','toString','cloudProviderSubscriptionId','push','fGkOu','MSEDZ','lrfWC','Zrqwf','cloudProviderTenantId','inLSp','getStorageAccountName','aHafq','turboscale-federated-deployment','ZVeUv','VUihV','hJvAh','value','principalId','cloudProviderClientSecret','azureresources','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','getKubeConfigData','getResourceGroups','IXRqY','zQFgk','pQPAK','cDnVN','get','owjGk','OgOff','iSput','listByResourceGroup','Kgnlb','setCachedCredsInRegistry','cevLF','XqaIM','instanceType','baseBlob','JyUiI','Creating\x20Azure\x20federated\x20identity','cPduw','VBPSl','vpcInfo','containerClient','storageAccountName','ingress','Cannot\x20find\x20VPC\x20','11565792gPsOol','sIHxY','akscluster.json','turboscale','qIBGm','EgvUm','KADbq','HUwEB','WiZTP','KDxnM','RycRn','RdssB','description','No\x20CLI\x20tool\x20required','QHDLk','clusterInfo','HZynp','axFur','NNuzu','list','jQLZC','deleteCluster','Storage\x20account\x20already\x20exists,\x20skipping','dShtX','GrmpE','XRKQV','ZHuXf','NAeyp','setupHubHa','WwHpr','BNWqG','IYwDc','ReOIX','getClusterInfo','oiCKW','forEach','roleName','EyDMJ','1202201xpvdRN','MdhEk','pwsQm','GHKyC','\x20RESOURCE\x20GROUP:\x20','message','isBrowserstackCluster','rdMIv','nFmKC','issuerURL','@azure/arm-authorization','parameters','PZjJw','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','XZDRE','exit','Enabling\x20Local\x20account\x20for\x20the\x20cluster','hDVYa','nxYWy','qULsM','SaDOi','TcRds','dzZTX','variables','ufuTg','fUGNd','3|0|4|5|1|2','wFLka','getPrincipalIdFromClientId','Authorization','enabled','./CloudProvider','NiRGl','IpzRE','VLrDd','DQHox','.\x20Error:\x20','Hwdzm','virtualNetworks','TRvXw','PnTHl','gQctX','policy','createStorageAccount','BHjdl','kubeconfigs','DaRnD','sendEventToBackend','sDyXE','xYOFZ','stringify','disableLocalAccounts','JRTju','LmIZg','getToken','jKaQa','NKMaX','42680THkjps','vKfyy','@azure/arm-network','BRWRy','gBSsC','AzureCloudProvider','turboscale-managed-identity-','length','kgvbT','init','networkClient','IKprN','AKFNQ','thyyd','Bearer\x20','Cannot\x20find\x20subnets\x20','kFKNs','isVPCPresent','federatedidentityuploader.json','QEBdQ','cloudProviderClientId','oLZTG','nlBDZ','EDWFP','listAll','xNTcB','securityProfile','emZiW','Action\x20permission\x20list\x20is\x20empty\x0a','bvqFm','YXqBl','PhhPh','hub','[variables(\x27vnetSubnetID\x27)]','toLowerCase','definition','subscriptionId','cloudProvider','BrowserStack','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','eJiEm','RtPar','managedClusters','bstackAccesskey','SOlib','IlXPU','gDoGo','metadata','method','YTbGB','gtPQg','ZMyLw','jpNIF','GET','1861107KtQYmv','XDtum','type','IlTtO','rEvhG','FlXHN','CDuVS','OQHWW','parse','ruBcL','LOG','join','split','jozcp','LMpvI','clientId','s3Bucket','userMaxNodes','beginCreateOrUpdateAndWait','dcsby','VelXz','hpIoo','cloudProviderResourceGroup','Lskvq','483180DPMcUi','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','loadBalancer','ujlZi','sOhxB','/resourceGroups/','KWlkv','biXfs','data','qIZsU','YkrSq','lwuVR','listClusterAdminCredentials','BroPP','xYkkQ','ErXeN','ssYPn','kcYEN','getGridHostname','createManagedIdentity','json','qTbRt','entries','KODkz','WLess','bReKV','name','lHWtA','dYRVY','TMiyd','KKAJs','rUgUN','permissions','DZwyz','WkHgA','hubharesources','turboscale-identity-deployment','pelwr','ekmyX','RFoFt','../config/logger','../permissions/AZURE.json','utf-8','UEOAA','toUpperCase','\x20CLIENT\x20SECRET:\x20','log','VZIeW','Bsyxm','XnHqA','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','amoSH','ZSyFQ','YFdIN','actions','managedidentity.json','@azure/arm-containerservice','error','hgSMA','username','SqkXi','../utils/utilityMethods','ulNWI','JIaer','fmyoh','inxhQ','kOhlD','zRqdi','PYkDO','TNIwq','rNRxj','blockBlob','managementPolicies','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','location','cRwrZ','Xpwbd','Managed\x20identity\x20already\x20exists,\x20skipping','tags','uzCUb','hOqiP','resources','sWcvW','pMeXM','lqqbq','vXszC','cred','agentPoolProfiles','authClient','ZiGbi','ohsGY','SGfrV','@azure/arm-storage','ZwCZm','nPOcD','jbEGP','VioMB','tVzPM','JJtdu','WpiOE','KoFua','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','ptXfN','Scjja','QtbOU','properties','assignedTo(\x27','QyYcc','mpTff','BvFNl','dByUs','resourceGroups','rules','nvXta','rfIqr','clusterName','CMEnc','DEjaS','QBFqk','storageAccounts','checkAccess','WXGOZ','templates','allowed','\x20CLIENT\x20ID:\x20','createCluster','696192rpSsRH','315xtXGFX','ydCmN','rPKse','eRvEe','uDdxc','filters','RpKBt','sendAzureInfoToHST','ACTION'];a1_0x1bd3=function(){return _0x3be6c5;};return a1_0x1bd3();}const a1_0x571e7c={};a1_0x571e7c[a1_0x4a6e6e(0x28e)]=AzureCloudProvider,module[a1_0x4a6e6e(0x19d)]=a1_0x571e7c;