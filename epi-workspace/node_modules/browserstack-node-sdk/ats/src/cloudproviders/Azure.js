const a1_0x27ab3d=a1_0x131e;(function(_0x5bce66,_0x61e545){const _0xafbb62=a1_0x131e,_0x4218ba=_0x5bce66();while(!![]){try{const _0x33250c=-parseInt(_0xafbb62(0x26f))/0x1*(-parseInt(_0xafbb62(0x1df))/0x2)+-parseInt(_0xafbb62(0x343))/0x3*(parseInt(_0xafbb62(0x211))/0x4)+parseInt(_0xafbb62(0x280))/0x5*(-parseInt(_0xafbb62(0x35d))/0x6)+parseInt(_0xafbb62(0x338))/0x7+parseInt(_0xafbb62(0x2d3))/0x8+parseInt(_0xafbb62(0x205))/0x9*(parseInt(_0xafbb62(0x275))/0xa)+parseInt(_0xafbb62(0x327))/0xb*(-parseInt(_0xafbb62(0x263))/0xc);if(_0x33250c===_0x61e545)break;else _0x4218ba['push'](_0x4218ba['shift']());}catch(_0x574b90){_0x4218ba['push'](_0x4218ba['shift']());}}}(a1_0x569e,0x29cb9));function a1_0x569e(){const _0x4db3b5=['eWNfc','oidcIssuerProfile','9549bCPnFl','rttKk','GeQXt','YtKAK','split','eAMcf','ALCgb','roleAssignments','NudWr','.\x20Error:\x20','hub','NuAxY','44Znscsk','QyEeL','disableLocalAccounts','QQXzT','kIgLB','subnetName','setClients','sendAzureInfoToHST','denied','allowed','Deleting\x20the\x20cluster\x20','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','tEVPm','permissions','clientId','checkAccess','issuerURL','js-yaml','No\x20service\x20principal\x20found','LgMtU','aglMS','getStorageAccountName','yyRTF','mTTmo','../utils/gridComponents','BrowserStack','deployments','Cannot\x20find\x20VPC\x20','cloudProvider','data','AWilt','tags','dcGjM','properties','Creating\x20Azure\x20storage\x20account','gVUDz','beginDeleteAndWait','securityProfile','BrAcr','resources','info','XCHvj','value','mNEMu','sendEventToBackend','vnetSubnetID','urGTj','xEipO','workloadIdentity','HNAbM','DvoKa','cQXzr','createOtherResources','tcSgs','map','debug','bGbWd','VNcPA','motBG','HKpKD','nTIMe','lFUqw','HibWu','yVFuj','cred','Incremental','CwyqD','storageaccount.json','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','listAll','parameters','xBzLT','XJkbc','WlOlT','turboscale-managed-identity-','EDlco','getGridHostname','bSYYL','EGwBU','vKCnj','hostname','VMRBH','3593844KHcTXN','zkrJf','@azure/arm-network','isManagedIdentityPresent','YoXps','EfbPm','Content-Type','vsLor','Deleted\x20the\x20cluster\x20successfully','ojFnb','definition','Fchkq','111319wfBXGS','rVDUh','TXlAL','IUUaQ','nscGt','eckVa','1810LJNUJA','Ileet','FWBiR','JKqsj','CWFpT','vhwAy','OdUIB','dxskR','IjxaQ','wyJOi','isStorageAccountPresent','327385DTdSIk','IjRpp','vPDTf','jkNlq','error','length','tdQKn','containerClient','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','./CloudProvider','hsupK','JtnmU','PoglA','Attached\x20permissions\x20:\x20','exports','HfgxZ','Managed\x20identity\x20already\x20exists,\x20skipping','2023-01-31','mhWTl','ALpgR','federatedidentity','roleDefinitions','shoaK','mAHoZ','/resourceGroups/','yxRWM','getClusterInfo','aCeBD','cloudProviderTenantId','Kaphp','true','Aiwdr','GET','../utils/utilityMethods','sfqGs','toLowerCase','voUpr','yneOo','nRQPU','uTygv','kXMUH','setCachedCredsInRegistry','RXYuW','DCVhs','wwFsU','message','nQIPb','../config/constants','WqZrV','clusterName','username','AVohL','mELWg','FSxSZ','resourceGroup','KsDLe','cltje','../permissions/AZURE.json','hXQEl','XGkvk','Lifecycle','@azure/arm-resources','lLmNb','log','fCDQc','application/json','createManagedIdentity','get','method','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','turboscale-federated-deployment','MVIFs','oBTDJ','getById','hqzgC','URMgI','readFileAsync','setupHubHa','beginCreateOrUpdateAndWait','ZpaUc','WXuBD','subscriptionId','eutuh','1427456ZoPWIh','azureresources','zKaAT','rwxRG','XHwmz','akscluster.json','Created\x20Azure\x20federated\x20identity','\x20CLIENT\x20ID:\x20','yXbVa','updateClusterAlreadyPresent','awPzK','ncOpt','rws','ZAjBR','iqKjk','nApUk','isSubnetsValid','NmdmK','IGBuh','TLOpz','4|2|3|5|0|1','dmDKq','qBdEr','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','ochId','storageAccounts','wZfkH','XgAOb','networkClient','storageAccountName','getKubeConfigData','Bearer\x20','s3Bucket','webSocketUtils','storageClient','forEach','type','KhYeB','Ogrkp','CxkrI','vpcInfo','stack','3|0|4|1|2|5','turboscale-cluster-deployment','CusBY','Eqxgb','ptEXS','xzGrn','pdFqg','clusterInfo','FyuLl','setupNewCluster','Dstou','push','listClusterAdminCredentials','WCbUM','userMaxNodes','MZtRJ','TpWPG','Found\x20only\x20one\x20resource\x20group:\x20','6|3|4|2|7|5|1|0','LyXIW','EXjbV','authClient','XxXmI','OCDjV','utf-8','QyQfa','kLxGr','biZdd','sNZLm','listByResourceGroup','accessKey','join','QbuAW','EszAQ','qeJzQ','managedClusters','mCxjG','KQBhM','FIzQt','ingress','RRHjv','11lVZYcN','getResourceClientId','hzzLM','hubHaNameSpace','ToAiN','FRgXm','loadBalancer','uhFkl','Received\x20response\x20-\x20','Authorization','cloudProviderSubscriptionId','pcdRK','aaSnl','false','uFhFK','status','XFtyC','1457400NfjCPh','No\x20attached\x20role\x20for\x20the\x20client\x20key','token','parse','slice','DIkHr','SYUbK','templates','kubeconfigs','HDbmP','vpcName','41955ARigxt','hCotC','dzQCy','Blob\x20delete\x20lifecycle','VaKQT','string','OInxP','NyeTq','principalId','witRF','toString','\x20RESOURCE\x20GROUP:\x20','qoEhl','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','BrCSG','vYRaM','variables','getHeader','kKfcY','BAOpn','rAjES','json','subscriptions/','YuKkB','https://graph.microsoft.com/.default','rUmkg','6DLeUMu','clientSecret','klKjW','WYVBg','cloudProviderClientId','rBimk','zTOYR','IQkDq','blobTypes','Creating\x20Azure\x20federated\x20identity','sAwjR','turboscale','oqgmC','xupIM','FPtik','YAnDo','uheAx','headers','HDDsL','asKkT','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','description','virtualNetworks','gtNZE','filters','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','RESOURCES','DElCl','IeBxt','rhuPY','includes','fPatw','list','tFwPM','HCipH','BcidB','baseBlob','resourceClient','vqJOZ','IWwsM','TbHYW','peotm','laqqz','AzureCloudProvider','Storage\x20account\x20already\x20exists,\x20skipping','GbwmT','OmXSX','eykOq','\x20TENANT\x20ID:\x20','FtGip','deleteCluster','@azure/arm-storage','assignedTo(\x27','cloudProviderClientSecret','federatedidentityuploader.json','[variables(\x27vnetSubnetID\x27)]','PBIRF','turboscale-identity-deployment','zZwQY','createFederatedAccountForHubHA','getPrincipalIdFromClientId','ZuTKJ','wcvMe','yMiGB','XhAgA','nJdcP','dbBNQ','createOrUpdate','GqPlk','VQYwv','No\x20CLI\x20tool\x20required','VYiUV','role\x20name\x20attached\x20-\x20','nhQWP','xcbNn','yWJDH','BMBXt','filter','Cannot\x20find\x20subnets\x20','listForScope','gridName','createFederatedAccount','init','getUserInput','nAlcv','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','iqref','FFMNs','stringify','NoGUh','managedidentity.json','yQZBH','1|0|2|3|4|5','CjPcv','cloudProviderName','delete','instanceType','fwUpx','blockBlob','yBgAh','IBdhG','exit','wbidv','getResourceGroups','AIQBy','GHloG','EYcsA','LFehH','mBqOB','MWGnp','clusterAutoUpgrade','enabled','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','tenantId','koAdJ','yiPZV','2QZRSwk','mirRZ','syBpq','evKJy','VPntP','hubharesources','roleDefinitionId','cloudProviderResourceGroup','default','fnzWt','WGiHM','hhfpH','nsEvo','OhJHS','yDGje','DXqyb','ltwnJ','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','DdTJI','RBnEr','FbdvK','BWdUD','LrwLc','GLSWh','DAXnP','FFmEr','aufpl','LOG','name','actions','ACewg','\x20CLIENT\x20SECRET:\x20','location','ODzPE','metadata','HvAdI'];a1_0x569e=function(){return _0x4db3b5;};return a1_0x569e();}const fs=require('fs'),path=require('path'),yaml=require(a1_0x27ab3d(0x222)),{logger}=require('../config/logger'),{CloudProvider}=require(a1_0x27ab3d(0x289)),{deleteRoutingDeps,deleteAgent}=require(a1_0x27ab3d(0x229)),{AZURE,WS_EVENTS,global_registry}=require(a1_0x27ab3d(0x2af)),PERMISSIONS=require(a1_0x27ab3d(0x2b9)),{ClientSecretCredential}=require('@azure/identity'),{NetworkManagementClient}=require(a1_0x27ab3d(0x265)),{StorageManagementClient}=require(a1_0x27ab3d(0x390)),{AuthorizationManagementClient}=require('@azure/arm-authorization'),{ResourceManagementClient}=require(a1_0x27ab3d(0x2bd)),{ContainerServiceClient}=require('@azure/arm-containerservice'),{runCommand}=require(a1_0x27ab3d(0x2a1));class AzureCloudProvider extends CloudProvider{constructor(_0x42509c,_0x1a5736,_0x5f0b9b,_0x42e0e2){const _0x36b54c=a1_0x27ab3d,_0x2d5b4c={};_0x2d5b4c['coQJH']=_0x36b54c(0x310);const _0x49da79=_0x2d5b4c,_0x4b4b85=_0x49da79['coQJH'][_0x36b54c(0x209)]('|');let _0x1bf787=0x0;while(!![]){switch(_0x4b4b85[_0x1bf787++]){case'0':this[_0x36b54c(0x313)]=null;continue;case'1':this[_0x36b54c(0x2f0)]=null;continue;case'2':this[_0x36b54c(0x287)]=null;continue;case'3':this[_0x36b54c(0x251)]=null;continue;case'4':this[_0x36b54c(0x305)]=null;continue;case'5':this[_0x36b54c(0x382)]=null;continue;case'6':super(AZURE,_0x42509c,_0x1a5736,_0x5f0b9b,_0x42e0e2);continue;case'7':this[_0x36b54c(0x2f6)]=null;continue;}break;}}async[a1_0x27ab3d(0x1bc)](){return await super['init'](),this;}[a1_0x27ab3d(0x217)](){const _0x359c87=a1_0x27ab3d,_0x1101cc=new ClientSecretCredential(global_registry[_0x359c87(0x29c)],global_registry['cloudProviderClientId'],global_registry[_0x359c87(0x392)]);this['containerClient']=new ContainerServiceClient(_0x1101cc,global_registry[_0x359c87(0x331)]),this['storageClient']=new StorageManagementClient(_0x1101cc,global_registry[_0x359c87(0x331)]),this['resourceClient']=new ResourceManagementClient(_0x1101cc,global_registry[_0x359c87(0x331)]),this[_0x359c87(0x2f0)]=new NetworkManagementClient(_0x1101cc,global_registry[_0x359c87(0x331)]),this[_0x359c87(0x313)]=new AuthorizationManagementClient(_0x1101cc,global_registry[_0x359c87(0x331)]),this['cred']=_0x1101cc;}[a1_0x27ab3d(0x226)](){const _0x34f8c4=a1_0x27ab3d,_0x2ddda2={};_0x2ddda2[_0x34f8c4(0x296)]=function(_0x5bcd86,_0x5f0b6a){return _0x5bcd86+_0x5f0b6a;},_0x2ddda2['ACewg']=_0x34f8c4(0x368),_0x2ddda2[_0x34f8c4(0x227)]=function(_0x4be797,_0x57dc86){return _0x4be797-_0x57dc86;};const _0x16059e=_0x2ddda2,_0x23848b=global_registry[_0x34f8c4(0x2f4)]['split']('-'),_0x3648e5=_0x16059e[_0x34f8c4(0x296)](_0x16059e[_0x34f8c4(0x1fd)],_0x23848b[_0x16059e[_0x34f8c4(0x227)](_0x23848b[_0x34f8c4(0x285)],0x1)])[_0x34f8c4(0x33c)](0x0,0x18);return _0x3648e5[_0x34f8c4(0x2a3)]();}[a1_0x27ab3d(0x2a9)](_0x2b314e){const _0x2a6dec=a1_0x27ab3d,_0x17b0e8={};_0x17b0e8['xupIM']=_0x2a6dec(0x1c6);const _0x6a751d=_0x17b0e8,_0x12b8ce=_0x6a751d[_0x2a6dec(0x36a)][_0x2a6dec(0x209)]('|');let _0x414228=0x0;while(!![]){switch(_0x12b8ce[_0x414228++]){case'0':global_registry['cloudProviderClientSecret']=_0x2b314e[this['cloudProviderName']][_0x2a6dec(0x35e)];continue;case'1':global_registry[_0x2a6dec(0x361)]=_0x2b314e[this['cloudProviderName']]['clientId'];continue;case'2':global_registry[_0x2a6dec(0x29c)]=_0x2b314e[this[_0x2a6dec(0x1c8)]][_0x2a6dec(0x1dc)];continue;case'3':global_registry[_0x2a6dec(0x331)]=_0x2b314e[this[_0x2a6dec(0x1c8)]]['subscriptionId'];continue;case'4':global_registry['cloudProviderResourceGroup']=_0x2b314e[this[_0x2a6dec(0x1c8)]][_0x2a6dec(0x2b6)];continue;case'5':this[_0x2a6dec(0x217)]();continue;}break;}}async[a1_0x27ab3d(0x1bd)](_0x5b904c,_0x54b125){const _0x2446a6=a1_0x27ab3d,_0x27dfcb={'kIgLB':function(_0xd6e729,_0x3e3856){return _0xd6e729===_0x3e3856;},'wyJOi':'Action\x20permission\x20list\x20is\x20empty\x0a','ODzPE':_0x2446a6(0x350),'fHCpa':_0x2446a6(0x2eb),'Qcimz':_0x2446a6(0x255),'XgAOb':function(_0x25ca14,_0x181655){return _0x25ca14(_0x181655);},'IQkDq':function(_0x120edf,_0x263f7d){return _0x120edf(_0x263f7d);},'TLOpz':function(_0x35378d,_0x21ef8e){return _0x35378d!==_0x21ef8e;},'CusBY':_0x2446a6(0x26e),'ToAiN':function(_0x332b50,_0x2a182c){return _0x332b50===_0x2a182c;},'QQXzT':'ooUHQ','bkdKe':function(_0x30343f,_0x2fdceb){return _0x30343f(_0x2fdceb);},'XhAgA':function(_0x56c627,_0x38a03d){return _0x56c627===_0x38a03d;},'eutuh':function(_0x3813d7,_0x4f9a47){return _0x3813d7===_0x4f9a47;},'dcGjM':function(_0x1142b1,_0x14c7b9){return _0x1142b1===_0x14c7b9;},'VaKQT':'MnZOk','eykOq':'Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','fCDQc':function(_0x25aa82,_0x414781){return _0x25aa82===_0x414781;},'mELWg':function(_0x3f9f5a,_0xbce522){return _0x3f9f5a!==_0xbce522;},'LgMtU':'uQEaa','vfMZl':function(_0x185817,_0x12eba8){return _0x185817===_0x12eba8;},'MVIFs':_0x2446a6(0x28b),'hXQEl':_0x2446a6(0x2e5),'uhFkl':function(_0x3b8333,_0x4fccfa){return _0x3b8333<_0x4fccfa;},'Wgeed':function(_0x485239,_0x3808e5){return _0x485239!==_0x3808e5;},'VNcPA':'czFXw','lmJOy':function(_0x50a321,_0x1eafb8){return _0x50a321+_0x1eafb8;},'FIzQt':_0x2446a6(0x288),'koAdJ':function(_0xd2e2ce,_0x59cbfc){return _0xd2e2ce(_0x59cbfc);},'FtGip':function(_0x540c0c,_0x39164c){return _0x540c0c(_0x39164c);},'WgHYN':function(_0x465182,_0x3a6e35){return _0x465182<=_0x3a6e35;},'oouzg':function(_0x31aa04,_0x37f737){return _0x31aa04>_0x37f737;},'RRHjv':function(_0x4858dc,_0x3615f9){return _0x4858dc!==_0x3615f9;},'XoyrZ':_0x2446a6(0x2c8),'CjPcv':'WDxuc','WGiHM':function(_0x48d1d6,_0x44f208){return _0x48d1d6-_0x44f208;}},_0x1b271d=this[_0x2446a6(0x1c8)]['toUpperCase'](),_0x4ab761=await _0x27dfcb[_0x2446a6(0x2ef)](_0x5b904c,_0x1b271d+_0x2446a6(0x2da)),_0x3be527=await _0x27dfcb['IQkDq'](_0x5b904c,_0x1b271d+_0x2446a6(0x1fe)),_0x2972d1=await _0x27dfcb[_0x2446a6(0x2ef)](_0x5b904c,_0x1b271d+_0x2446a6(0x38d)),_0x4d2080=await _0x27dfcb[_0x2446a6(0x2ef)](_0x5b904c,_0x1b271d+'\x20SUBSCRIPTION\x20ID:\x20');global_registry['cloudProviderClientId']=_0x4ab761,global_registry[_0x2446a6(0x392)]=_0x3be527,global_registry[_0x2446a6(0x29c)]=_0x2972d1,global_registry['cloudProviderSubscriptionId']=_0x4d2080,this['setClients']();const _0xcabd34=await this[_0x2446a6(0x1d1)](),_0x14a746=_0xcabd34[_0x2446a6(0x285)];let _0x39ab89;if(_0x27dfcb[_0x2446a6(0x215)](_0x14a746,0x0))_0x27dfcb[_0x2446a6(0x2e6)](_0x27dfcb[_0x2446a6(0x300)],_0x27dfcb[_0x2446a6(0x300)])?(_0x252402+=_0x27dfcb['kIgLB'](_0x334002[_0x2446a6(0x285)],0x0)?_0x27dfcb[_0x2446a6(0x27e)]:'',_0x59c8e6['debug'](_0x2446a6(0x376)+_0x89cce6[_0x2446a6(0x1c2)](_0x44ef79))):_0x39ab89=await _0x27dfcb[_0x2446a6(0x364)](_0x5b904c,_0x1b271d+_0x2446a6(0x34e));else{if(_0x27dfcb[_0x2446a6(0x32b)](_0x14a746,0x1)){if(_0x27dfcb[_0x2446a6(0x2e6)](_0x27dfcb[_0x2446a6(0x214)],_0x27dfcb[_0x2446a6(0x214)]))return _0x357b78[_0x2446a6(0x22e)]=_0x27dfcb[_0x2446a6(0x200)],_0x564528;else{const _0x44efcd=await _0x27dfcb['bkdKe'](_0x5b904c,_0x2446a6(0x30f)+_0xcabd34[0x0]+'\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20');(_0x27dfcb[_0x2446a6(0x32b)](_0x44efcd,undefined)||_0x27dfcb[_0x2446a6(0x39d)](_0x44efcd,null)||!(_0x27dfcb[_0x2446a6(0x2d2)](_0x44efcd['toLowerCase'](),'y')||_0x27dfcb[_0x2446a6(0x231)](_0x44efcd[_0x2446a6(0x2a3)](),'n')))&&(_0x27dfcb[_0x2446a6(0x32b)](_0x27dfcb[_0x2446a6(0x347)],_0x27dfcb[_0x2446a6(0x347)])?(console['error'](_0x27dfcb[_0x2446a6(0x38c)]),process[_0x2446a6(0x1cf)](0x1)):_0x279009['push'](_0x287152));if(_0x27dfcb[_0x2446a6(0x2c0)](_0x44efcd['toLowerCase'](),'n')){if(_0x27dfcb[_0x2446a6(0x2b4)](_0x27dfcb['LgMtU'],_0x27dfcb[_0x2446a6(0x224)])){_0x596b89[_0x2446a6(0x239)](_0x27dfcb['fHCpa']);const _0x57fd08={};_0x57fd08[_0x2446a6(0x2f8)]=_0x2c6ac3[_0x2446a6(0x377)],_0x57fd08[_0x2446a6(0x2ad)]=_0x27dfcb['fHCpa'],this[_0x2446a6(0x2f5)][_0x2446a6(0x23d)](this['rws'],_0x57fd08);const _0x14911c={};_0x14911c[_0x2446a6(0x1d9)]=!![];const _0x27e3ca={'workloadIdentity':_0x14911c,..._0x3871c1[_0x2446a6(0x236)]};_0x2b0f66['securityProfile']=_0x27e3ca;}else process[_0x2446a6(0x1cf)](0x0);}_0x39ab89=_0xcabd34[0x0];}}else{if(_0x27dfcb['vfMZl'](_0x27dfcb[_0x2446a6(0x2c7)],_0x27dfcb[_0x2446a6(0x2ba)])){_0x1ba6f9[_0x2446a6(0x239)](_0x27dfcb['Qcimz']);const _0x20d98c={};_0x20d98c[_0x2446a6(0x2f8)]=_0x4f247c[_0x2446a6(0x377)],_0x20d98c[_0x2446a6(0x2ad)]=_0x27dfcb['Qcimz'],this[_0x2446a6(0x2f5)][_0x2446a6(0x23d)](this['rws'],_0x20d98c),_0x52105d[_0x2446a6(0x204)][_0x2446a6(0x1d9)]=!![];}else{for(let _0x38199f=0x0;_0x27dfcb[_0x2446a6(0x32e)](_0x38199f,_0xcabd34[_0x2446a6(0x285)]);_0x38199f+=0x1){_0x27dfcb['Wgeed'](_0x27dfcb[_0x2446a6(0x24a)],_0x27dfcb[_0x2446a6(0x24a)])?_0xea7df4[_0x2446a6(0x1cf)](0x0):console[_0x2446a6(0x2bf)]('['+_0x27dfcb['lmJOy'](_0x38199f,0x1)+']\x20'+_0xcabd34[_0x38199f]);}const _0x59a23b=await _0x27dfcb[_0x2446a6(0x2ef)](_0x5b904c,_0x27dfcb[_0x2446a6(0x324)]),_0x8efff=_0x27dfcb[_0x2446a6(0x1dd)](Number,_0x59a23b);if(_0x27dfcb[_0x2446a6(0x38e)](isNaN,_0x8efff)||_0x27dfcb['WgHYN'](_0x8efff,0x0)||_0x27dfcb['oouzg'](_0x8efff,_0x14a746)){if(_0x27dfcb[_0x2446a6(0x326)](_0x27dfcb['XoyrZ'],_0x27dfcb[_0x2446a6(0x1c7)]))console['error'](_0x27dfcb[_0x2446a6(0x38c)]),process[_0x2446a6(0x1cf)](0x1);else return!![];}_0x39ab89=_0xcabd34[_0x27dfcb[_0x2446a6(0x1e9)](_0x8efff,0x1)];}}}global_registry[_0x2446a6(0x1e6)]=_0x39ab89;const _0x2f39b8={};return _0x2f39b8[_0x2446a6(0x21f)]=_0x4ab761,_0x2f39b8[_0x2446a6(0x35e)]=_0x3be527,_0x2f39b8[_0x2446a6(0x1dc)]=_0x2972d1,_0x2f39b8['subscriptionId']=_0x4d2080,_0x2f39b8['resourceGroup']=_0x39ab89,_0x54b125[_0x2446a6(0x22d)][AZURE]=_0x2f39b8,_0x54b125;}async[a1_0x27ab3d(0x1d1)](){const _0x54af1b=a1_0x27ab3d,_0xdc071b={};_0xdc071b['QyEeL']=function(_0x3c8c32,_0x11d006){return _0x3c8c32===_0x11d006;},_0xdc071b[_0x54af1b(0x1ee)]=function(_0x426ce9,_0x52f1f2){return _0x426ce9===_0x52f1f2;},_0xdc071b[_0x54af1b(0x24d)]=_0x54af1b(0x36d),_0xdc071b[_0x54af1b(0x315)]=function(_0x107519,_0x467291){return _0x107519===_0x467291;},_0xdc071b['TpWPG']=_0x54af1b(0x26a);const _0x3ab33c=_0xdc071b,_0x597c18=[];try{if(_0x3ab33c['DXqyb'](_0x3ab33c['nTIMe'],_0x3ab33c[_0x54af1b(0x24d)])){const _0x4ffce5=await this['resourceClient']['resourceGroups'][_0x54af1b(0x37d)]();for await(const _0x53a2e2 of _0x4ffce5){if(_0x3ab33c[_0x54af1b(0x315)](_0x3ab33c[_0x54af1b(0x30e)],_0x3ab33c['TpWPG']))_0x597c18[_0x54af1b(0x309)](_0x53a2e2[_0x54af1b(0x1fb)]);else return _0x4fc482[_0x54af1b(0x284)]('Cannot\x20find\x20VPC\x20'+_0x551653+_0x54af1b(0x1da)+_0x3f24fe),![];}}else{if(_0x3ab33c[_0x54af1b(0x212)](_0x2723b4[_0x54af1b(0x1fb)],_0x197429))return!![];}}catch(_0x4f16c8){}return _0x597c18;}async[a1_0x27ab3d(0x29a)](){const _0xa8163d=a1_0x27ab3d;return this[_0xa8163d(0x305)]=await this[_0xa8163d(0x287)]['managedClusters']['get'](global_registry[_0xa8163d(0x1e6)],this[_0xa8163d(0x2b1)]),this[_0xa8163d(0x305)];}async[a1_0x27ab3d(0x2f2)](){const _0x480239=a1_0x27ab3d,_0xe31ed0=await this['containerClient'][_0x480239(0x321)][_0x480239(0x30a)](global_registry[_0x480239(0x1e6)],this[_0x480239(0x2b1)]),_0x19d322=_0xe31ed0[_0x480239(0x340)][0x0][_0x480239(0x23b)][_0x480239(0x34d)]();return _0x19d322;}[a1_0x27ab3d(0x25d)](_0x5947d0){const _0xdd4fb7=a1_0x27ab3d;return _0x5947d0[_0xdd4fb7(0x336)][_0xdd4fb7(0x32d)][_0xdd4fb7(0x325)][0x0]['hostname'];}async['isClusterPresent'](){const _0x42f5cc=a1_0x27ab3d,_0x453fe9={'BWdUD':function(_0x1fe910,_0x26ff3d,_0xc88631){return _0x1fe910(_0x26ff3d,_0xc88631);},'EXjbV':function(_0x15d234,_0x60bb09){return _0x15d234!==_0x60bb09;},'mNEMu':_0x42f5cc(0x292),'FXxiC':'eqTPI','rVDUh':function(_0x32e7e9,_0x3a838a){return _0x32e7e9!==_0x3a838a;},'zKaAT':_0x42f5cc(0x27c),'AVohL':function(_0xdca93,_0x12c995){return _0xdca93===_0x12c995;},'YwKnf':function(_0x24831b,_0x270b24){return _0x24831b!==_0x270b24;},'WqZrV':_0x42f5cc(0x31f)},_0x561423=new Array();for await(const _0x1228f9 of this[_0x42f5cc(0x287)]['managedClusters'][_0x42f5cc(0x31b)](global_registry[_0x42f5cc(0x1e6)])){_0x453fe9[_0x42f5cc(0x312)](_0x453fe9[_0x42f5cc(0x23c)],_0x453fe9['FXxiC'])?_0x561423[_0x42f5cc(0x309)](_0x1228f9):_0x453fe9[_0x42f5cc(0x1f4)](_0x20a910,()=>_0x12c346(),0x3e8);}for await(const _0x4b758c of _0x561423){if(_0x453fe9[_0x42f5cc(0x270)](_0x453fe9['zKaAT'],_0x453fe9[_0x42f5cc(0x2d5)]))_0x41c34b=_0x7e1b0['id'];else{if(_0x453fe9[_0x42f5cc(0x2b3)](_0x4b758c['name'],this['clusterName'])){if(_0x453fe9['YwKnf'](_0x453fe9[_0x42f5cc(0x2b0)],_0x453fe9[_0x42f5cc(0x2b0)]))_0x4b76b8[_0x42f5cc(0x309)](_0x1d575a);else return await this[_0x42f5cc(0x29a)](),!![];}}}return![];}async[a1_0x27ab3d(0x307)](_0x506ea3=null,_0x19f346=null){const _0x5c9f5c=a1_0x27ab3d,_0x596ecb={};_0x596ecb[_0x5c9f5c(0x319)]=_0x5c9f5c(0x2e7),_0x596ecb[_0x5c9f5c(0x1e8)]='Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity';const _0x4c2441=_0x596ecb,_0xba99ae=_0x4c2441[_0x5c9f5c(0x319)][_0x5c9f5c(0x209)]('|');let _0x3b8e33=0x0;while(!![]){switch(_0xba99ae[_0x3b8e33++]){case'0':await this['createOtherResources']();continue;case'1':return[_0x506ea3,_0x19f346];case'2':const _0x2c0ce4={};_0x2c0ce4[_0x5c9f5c(0x2f8)]=WS_EVENTS['LOG'],_0x2c0ce4['message']=_0x4c2441[_0x5c9f5c(0x1e8)],this[_0x5c9f5c(0x2f5)][_0x5c9f5c(0x23d)](this[_0x5c9f5c(0x2df)],_0x2c0ce4);continue;case'3':logger[_0x5c9f5c(0x239)](_0x4c2441['fnzWt']);continue;case'4':this[_0x5c9f5c(0x218)]();continue;case'5':await this['createCluster'](_0x506ea3,_0x19f346);continue;}break;}}async['createCluster'](_0x184d9a=null,_0x25f093=null){const _0x485d7a=a1_0x27ab3d,_0x33d0b3={};_0x33d0b3['ojFnb']=_0x485d7a(0x389),_0x33d0b3[_0x485d7a(0x20a)]=_0x485d7a(0x33f),_0x33d0b3[_0x485d7a(0x202)]=_0x485d7a(0x2d4),_0x33d0b3[_0x485d7a(0x37f)]=_0x485d7a(0x2d8),_0x33d0b3[_0x485d7a(0x311)]='utf-8',_0x33d0b3[_0x485d7a(0x2e4)]=_0x485d7a(0x29e),_0x33d0b3['IjxaQ']=_0x485d7a(0x334),_0x33d0b3[_0x485d7a(0x243)]=function(_0x6fe1b0,_0x47da1f){return _0x6fe1b0!==_0x47da1f;},_0x33d0b3['zZwQY']=function(_0x482736,_0x1ee9cb){return _0x482736!==_0x1ee9cb;},_0x33d0b3[_0x485d7a(0x1f7)]='IEDJi',_0x33d0b3[_0x485d7a(0x3a1)]=_0x485d7a(0x2e1),_0x33d0b3[_0x485d7a(0x35a)]='string',_0x33d0b3[_0x485d7a(0x31a)]='Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.',_0x33d0b3['nApUk']='[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]',_0x33d0b3[_0x485d7a(0x1f5)]=_0x485d7a(0x394),_0x33d0b3[_0x485d7a(0x2ae)]=_0x485d7a(0x2ff),_0x33d0b3[_0x485d7a(0x24f)]=_0x485d7a(0x252);const _0x42f169=_0x33d0b3;let _0x4f947d=await fs['readFileAsync'](path['join'](__dirname,'..',_0x42f169[_0x485d7a(0x20a)],_0x42f169[_0x485d7a(0x202)],_0x42f169['HCipH']),_0x42f169[_0x485d7a(0x311)]);_0x4f947d=JSON[_0x485d7a(0x33b)](_0x4f947d);const _0x2b02fb={};_0x2b02fb[_0x485d7a(0x23b)]=this['clusterName'];const _0x30dd03={};_0x30dd03[_0x485d7a(0x23b)]=global_registry['clusterRegion'];const _0x8c00b7={};_0x8c00b7['value']=global_registry[_0x485d7a(0x1ca)];const _0x2981c2={};_0x2981c2['value']=global_registry['maxNodes'];const _0x5445b0={};_0x5445b0[_0x485d7a(0x23b)]=global_registry[_0x485d7a(0x1d8)]?_0x42f169[_0x485d7a(0x2e4)]:_0x42f169[_0x485d7a(0x27d)];const _0x5cf3b4={};_0x5cf3b4[_0x485d7a(0x2b1)]=_0x2b02fb,_0x5cf3b4[_0x485d7a(0x1ff)]=_0x30dd03,_0x5cf3b4['userInstanceType']=_0x8c00b7,_0x5cf3b4[_0x485d7a(0x30c)]=_0x2981c2,_0x5cf3b4['clusterAutoUpgrade']=_0x5445b0;let _0x38bba3=_0x5cf3b4;if(_0x42f169[_0x485d7a(0x243)](_0x184d9a,null)&&_0x42f169[_0x485d7a(0x243)](_0x25f093,null)){if(_0x42f169[_0x485d7a(0x397)](_0x42f169[_0x485d7a(0x1f7)],_0x42f169[_0x485d7a(0x3a1)])){const _0x42511a={};_0x42511a[_0x485d7a(0x2f8)]=_0x42f169['YuKkB'],_0x42511a[_0x485d7a(0x201)]={},_0x42511a[_0x485d7a(0x201)][_0x485d7a(0x372)]=_0x42f169[_0x485d7a(0x31a)];const _0x1c8e51={};_0x1c8e51[_0x485d7a(0x2f8)]=_0x42f169[_0x485d7a(0x35a)],_0x1c8e51['metadata']={},_0x1c8e51['metadata'][_0x485d7a(0x372)]=_0x42f169[_0x485d7a(0x31a)],_0x4f947d[_0x485d7a(0x257)]={..._0x4f947d[_0x485d7a(0x257)],'vpcName':_0x42511a,'subnetName':_0x1c8e51};const _0x186488={};_0x186488[_0x485d7a(0x23e)]=_0x42f169[_0x485d7a(0x2e2)],_0x4f947d[_0x485d7a(0x353)]=_0x186488,_0x4f947d['resources'][0x0]['properties']['agentPoolProfiles'][0x0]={..._0x4f947d[_0x485d7a(0x238)][0x0][_0x485d7a(0x232)]['agentPoolProfiles'][0x0],'vnetSubnetID':_0x42f169[_0x485d7a(0x1f5)]};const _0x1b7e5d={};_0x1b7e5d['value']=_0x184d9a;const _0x100cbd={};_0x100cbd['value']=_0x25f093[0x0],_0x38bba3={..._0x38bba3,'vpcName':_0x1b7e5d,'subnetName':_0x100cbd};}else _0xd51e43[_0x485d7a(0x239)](_0x42f169[_0x485d7a(0x26c)]);}await this['resourceClient']['deployments'][_0x485d7a(0x2ce)](global_registry['cloudProviderResourceGroup'],_0x42f169[_0x485d7a(0x2ae)],{'properties':{'template':_0x4f947d,'mode':_0x42f169['HibWu'],'parameters':_0x38bba3}});}async[a1_0x27ab3d(0x245)](){const _0x5adffe=a1_0x27ab3d,_0x5beb28={};_0x5beb28['MWGnp']='No\x20service\x20principal\x20found',_0x5beb28[_0x5adffe(0x258)]=function(_0x189473,_0x51d1bc){return _0x189473!==_0x51d1bc;},_0x5beb28['zkrJf']=_0x5adffe(0x206),_0x5beb28[_0x5adffe(0x1de)]=_0x5adffe(0x1f6),_0x5beb28[_0x5adffe(0x282)]=_0x5adffe(0x233),_0x5beb28['EfbPm']=function(_0x2c493c,_0x293a67){return _0x2c493c!==_0x293a67;},_0x5beb28[_0x5adffe(0x276)]=_0x5adffe(0x1d5),_0x5beb28[_0x5adffe(0x20b)]='Storage\x20account\x20already\x20exists,\x20skipping',_0x5beb28[_0x5adffe(0x210)]=function(_0x5545ba,_0x203b8e){return _0x5545ba!==_0x203b8e;},_0x5beb28['mirRZ']=_0x5adffe(0x240),_0x5beb28[_0x5adffe(0x2ec)]=_0x5adffe(0x32c),_0x5beb28[_0x5adffe(0x30d)]='Creating\x20Azure\x20managed\x20identity',_0x5beb28[_0x5adffe(0x2f9)]=_0x5adffe(0x1ef),_0x5beb28[_0x5adffe(0x1d3)]=_0x5adffe(0x290),_0x5beb28['aglMS']=_0x5adffe(0x366),_0x5beb28[_0x5adffe(0x374)]=_0x5adffe(0x2d9);const _0x50cf5b=_0x5beb28,_0x35dc2b=await this[_0x5adffe(0x27f)]();if(!_0x35dc2b){if(_0x50cf5b[_0x5adffe(0x258)](_0x50cf5b[_0x5adffe(0x264)],_0x50cf5b[_0x5adffe(0x1de)])){const _0x57a168={};_0x57a168[_0x5adffe(0x2f8)]=WS_EVENTS['LOG'],_0x57a168[_0x5adffe(0x2ad)]=_0x50cf5b['vPDTf'],this[_0x5adffe(0x2f5)][_0x5adffe(0x23d)](this['rws'],_0x57a168),logger[_0x5adffe(0x239)](_0x50cf5b[_0x5adffe(0x282)]),await this['createStorageAccount']();}else return!![];}else{if(_0x50cf5b[_0x5adffe(0x268)](_0x50cf5b[_0x5adffe(0x276)],_0x50cf5b[_0x5adffe(0x276)]))throw new _0x301d38(_0x50cf5b[_0x5adffe(0x1d7)],_0x5adffe(0x32f)+_0x5630b2[_0x5adffe(0x1c2)](_0x168981));else logger['info'](_0x50cf5b[_0x5adffe(0x20b)]);}const _0x1f2814=await this[_0x5adffe(0x266)]();if(!_0x1f2814){if(_0x50cf5b[_0x5adffe(0x210)](_0x50cf5b[_0x5adffe(0x1e0)],_0x50cf5b[_0x5adffe(0x2ec)])){const _0x3a5758={};_0x3a5758['type']=WS_EVENTS[_0x5adffe(0x1fa)],_0x3a5758[_0x5adffe(0x2ad)]=_0x50cf5b['MZtRJ'],this['webSocketUtils'][_0x5adffe(0x23d)](this['rws'],_0x3a5758),logger[_0x5adffe(0x239)](_0x50cf5b[_0x5adffe(0x30d)]),await this['createManagedIdentity']();}else{const _0x4bec6e=new _0x39ffc5(_0x185959[_0x5adffe(0x29c)],_0x39245b[_0x5adffe(0x361)],_0x4234e0[_0x5adffe(0x392)]);this[_0x5adffe(0x287)]=new _0x43dc69(_0x4bec6e,_0x23a0c2[_0x5adffe(0x331)]),this[_0x5adffe(0x2f6)]=new _0x51b981(_0x4bec6e,_0x5e4127['cloudProviderSubscriptionId']),this[_0x5adffe(0x382)]=new _0x3b1c11(_0x4bec6e,_0x1cb942[_0x5adffe(0x331)]),this['networkClient']=new _0x2a05ad(_0x4bec6e,_0x3fc918[_0x5adffe(0x331)]),this[_0x5adffe(0x313)]=new _0x224720(_0x4bec6e,_0x2f33f5['cloudProviderSubscriptionId']),this[_0x5adffe(0x251)]=_0x4bec6e;}}else _0x50cf5b[_0x5adffe(0x268)](_0x50cf5b[_0x5adffe(0x2f9)],_0x50cf5b[_0x5adffe(0x2f9)])?_0xebc74f['push'](_0x50b727[_0x5adffe(0x1fb)]):logger[_0x5adffe(0x239)](_0x50cf5b['GHloG']);logger['info'](_0x50cf5b[_0x5adffe(0x225)]),await this['createFederatedAccount'](),logger[_0x5adffe(0x239)](_0x50cf5b[_0x5adffe(0x374)]);}async['createStorageAccount'](){const _0x2f8402=a1_0x27ab3d,_0x4ff666={};_0x4ff666[_0x2f8402(0x274)]='templates',_0x4ff666['voUpr']=_0x2f8402(0x2d4),_0x4ff666[_0x2f8402(0x1c0)]=_0x2f8402(0x254),_0x4ff666[_0x2f8402(0x2e8)]='utf-8',_0x4ff666[_0x2f8402(0x249)]='turboscale-storageaccount-deployment',_0x4ff666[_0x2f8402(0x279)]=_0x2f8402(0x252),_0x4ff666[_0x2f8402(0x320)]=_0x2f8402(0x346),_0x4ff666['CwyqD']=_0x2f8402(0x2bc),_0x4ff666[_0x2f8402(0x2cf)]=_0x2f8402(0x1cc),_0x4ff666['mBqOB']=_0x2f8402(0x1e7);const _0x146161=_0x4ff666;let _0xe8c4ec=await fs[_0x2f8402(0x2cc)](path[_0x2f8402(0x31d)](__dirname,'..',_0x146161[_0x2f8402(0x274)],_0x146161[_0x2f8402(0x2a4)],_0x146161[_0x2f8402(0x1c0)]),_0x146161[_0x2f8402(0x2e8)]);_0xe8c4ec=JSON[_0x2f8402(0x33b)](_0xe8c4ec);const _0xee1f93=this[_0x2f8402(0x226)](),_0x50601a={};_0x50601a[_0x2f8402(0x23b)]=_0xee1f93;const _0x1fc012={};_0x1fc012[_0x2f8402(0x2f1)]=_0x50601a,await this[_0x2f8402(0x382)][_0x2f8402(0x22b)][_0x2f8402(0x2ce)](global_registry[_0x2f8402(0x1e6)],_0x146161['bGbWd'],{'properties':{'template':_0xe8c4ec,'mode':_0x146161[_0x2f8402(0x279)],'parameters':_0x1fc012}});const _0x27d892={};_0x27d892['daysAfterCreationGreaterThan']=0x3c;const _0x425f20={};_0x425f20[_0x2f8402(0x1c9)]=_0x27d892;const _0x47e1e7={};_0x47e1e7[_0x2f8402(0x381)]=_0x425f20;const _0x2fff2a={};_0x2fff2a['enabled']=!![],_0x2fff2a[_0x2f8402(0x1fb)]=_0x146161[_0x2f8402(0x320)],_0x2fff2a['type']=_0x146161[_0x2f8402(0x253)],_0x2fff2a[_0x2f8402(0x26d)]={},_0x2fff2a[_0x2f8402(0x26d)][_0x2f8402(0x1fc)]=_0x47e1e7,_0x2fff2a[_0x2f8402(0x26d)][_0x2f8402(0x375)]={},_0x2fff2a[_0x2f8402(0x26d)][_0x2f8402(0x375)][_0x2f8402(0x365)]=[_0x146161[_0x2f8402(0x2cf)]];const _0x2f6191={};_0x2f6191['rules']=[_0x2fff2a];const _0x50c23d={};_0x50c23d['policy']=_0x2f6191;const _0x203e2f=_0x50c23d;await this[_0x2f8402(0x2f6)]['managementPolicies'][_0x2f8402(0x3a0)](global_registry[_0x2f8402(0x1e6)],_0xee1f93,_0x146161[_0x2f8402(0x1d6)],_0x203e2f);}async[a1_0x27ab3d(0x2c2)](){const _0x3f2cb8=a1_0x27ab3d,_0xacc658={};_0xacc658['yMiGB']=_0x3f2cb8(0x33f),_0xacc658['nzfbl']=_0x3f2cb8(0x2d4),_0xacc658[_0x3f2cb8(0x39a)]=_0x3f2cb8(0x1c4),_0xacc658[_0x3f2cb8(0x2a2)]=_0x3f2cb8(0x316),_0xacc658['DJuLs']=_0x3f2cb8(0x396),_0xacc658[_0x3f2cb8(0x2be)]=_0x3f2cb8(0x252);const _0x5d2e57=_0xacc658;let _0x464660=await fs[_0x3f2cb8(0x2cc)](path['join'](__dirname,'..',_0x5d2e57[_0x3f2cb8(0x39c)],_0x5d2e57['nzfbl'],_0x5d2e57['ZuTKJ']),_0x5d2e57[_0x3f2cb8(0x2a2)]);_0x464660=JSON[_0x3f2cb8(0x33b)](_0x464660),await this[_0x3f2cb8(0x382)][_0x3f2cb8(0x22b)]['beginCreateOrUpdateAndWait'](global_registry['cloudProviderResourceGroup'],_0x5d2e57['DJuLs'],{'properties':{'template':_0x464660,'mode':_0x5d2e57['lLmNb'],'parameters':{'clusterName':{'value':this['clusterName']}}}});}async[a1_0x27ab3d(0x1bb)](){const _0x16ee88=a1_0x27ab3d,_0x407cf4={};_0x407cf4[_0x16ee88(0x1c5)]=_0x16ee88(0x290),_0x407cf4[_0x16ee88(0x385)]=function(_0x2d3bc5,_0x2aafea){return _0x2d3bc5===_0x2aafea;},_0x407cf4[_0x16ee88(0x34f)]=function(_0x338a1d,_0x5eda93){return _0x338a1d===_0x5eda93;},_0x407cf4[_0x16ee88(0x2de)]='WelRD',_0x407cf4['XCHvj']=_0x16ee88(0x3a7),_0x407cf4[_0x16ee88(0x39f)]=_0x16ee88(0x20f),_0x407cf4[_0x16ee88(0x39e)]='node',_0x407cf4['LxhYl']=function(_0x450a00,_0x58f40d){return _0x450a00!==_0x58f40d;},_0x407cf4['vYRaM']=_0x16ee88(0x1e1),_0x407cf4[_0x16ee88(0x203)]=_0x16ee88(0x246),_0x407cf4[_0x16ee88(0x317)]=_0x16ee88(0x33f),_0x407cf4[_0x16ee88(0x24e)]=_0x16ee88(0x2d4),_0x407cf4[_0x16ee88(0x273)]=_0x16ee88(0x316),_0x407cf4[_0x16ee88(0x242)]=_0x16ee88(0x2c6),_0x407cf4[_0x16ee88(0x355)]='Incremental';const _0xbcdf8e=_0x407cf4;!this[_0x16ee88(0x305)]&&(_0xbcdf8e[_0x16ee88(0x34f)](_0xbcdf8e['ncOpt'],_0xbcdf8e[_0x16ee88(0x23a)])?_0x7b2d20[_0x16ee88(0x239)](_0xbcdf8e[_0x16ee88(0x1c5)]):await this[_0x16ee88(0x29a)]());const _0x54b02c=this['clusterInfo']?.[_0x16ee88(0x204)]?.[_0x16ee88(0x221)],_0x171fee=[_0xbcdf8e['dbBNQ'],_0xbcdf8e[_0x16ee88(0x39e)]];for await(const _0x35db76 of _0x171fee){if(_0xbcdf8e['LxhYl'](_0xbcdf8e[_0x16ee88(0x352)],_0xbcdf8e[_0x16ee88(0x203)])){let _0x171919=await fs[_0x16ee88(0x2cc)](path[_0x16ee88(0x31d)](__dirname,'..',_0xbcdf8e[_0x16ee88(0x317)],_0xbcdf8e[_0x16ee88(0x24e)],_0x16ee88(0x294)+_0x35db76+'.json'),_0xbcdf8e[_0x16ee88(0x273)]);_0x171919=JSON[_0x16ee88(0x33b)](_0x171919);const _0x2ea42f={};_0x2ea42f[_0x16ee88(0x23b)]=_0x54b02c,await this[_0x16ee88(0x382)][_0x16ee88(0x22b)][_0x16ee88(0x2ce)](global_registry['cloudProviderResourceGroup'],_0xbcdf8e[_0x16ee88(0x242)],{'properties':{'template':_0x171919,'mode':_0xbcdf8e[_0x16ee88(0x355)],'parameters':{'oidcIssuer':_0x2ea42f,'gridName':{'value':this[_0x16ee88(0x1ba)]},'clusterName':{'value':this['clusterName']}}}});}else _0xbcdf8e['TbHYW'](_0x4f97ee[_0x16ee88(0x1fb)],_0x53ff39)&&(_0x292a00=_0x390921['id']);}}async[a1_0x27ab3d(0x2cd)](_0x125313,_0x10c745,_0x216f9e,_0x3bbea6,_0x5e5dd5){const _0x6ebc87=a1_0x27ab3d,_0x3fd30c={};_0x3fd30c[_0x6ebc87(0x297)]=_0x6ebc87(0x1f0),_0x3fd30c[_0x6ebc87(0x383)]=_0x6ebc87(0x2ea);const _0x3b840a=_0x3fd30c,_0x22e59e={};_0x22e59e['type']=WS_EVENTS[_0x6ebc87(0x1fa)],_0x22e59e[_0x6ebc87(0x2ad)]=_0x3b840a[_0x6ebc87(0x297)],this['webSocketUtils'][_0x6ebc87(0x23d)](this['rws'],_0x22e59e),logger[_0x6ebc87(0x239)](_0x3b840a[_0x6ebc87(0x297)]),await this[_0x6ebc87(0x398)]();const _0x5d1342={};_0x5d1342[_0x6ebc87(0x2f8)]=WS_EVENTS['LOG'],_0x5d1342[_0x6ebc87(0x2ad)]=_0x3b840a[_0x6ebc87(0x383)],this['webSocketUtils']['sendEventToBackend'](this[_0x6ebc87(0x2df)],_0x5d1342);}async[a1_0x27ab3d(0x398)](){const _0x545d52=a1_0x27ab3d,_0x5b15e5={};_0x5b15e5['NyeTq']=_0x545d52(0x2c5),_0x5b15e5[_0x545d52(0x1ea)]=function(_0x3a0c1c,_0x5e42d8){return _0x3a0c1c!==_0x5e42d8;},_0x5b15e5['peotm']=_0x545d52(0x23f),_0x5b15e5[_0x545d52(0x1f3)]='gdEsn',_0x5b15e5[_0x545d52(0x387)]='templates',_0x5b15e5[_0x545d52(0x260)]=_0x545d52(0x1e4),_0x5b15e5[_0x545d52(0x1cd)]=_0x545d52(0x393),_0x5b15e5[_0x545d52(0x308)]='utf-8',_0x5b15e5[_0x545d52(0x332)]=_0x545d52(0x2c6),_0x5b15e5['joGGu']=_0x545d52(0x252);const _0x269b96=_0x5b15e5;!this[_0x545d52(0x305)]&&(_0x269b96[_0x545d52(0x1ea)](_0x269b96[_0x545d52(0x386)],_0x269b96[_0x545d52(0x1f3)])?await this[_0x545d52(0x29a)]():(_0xa005f3[_0x545d52(0x284)](_0x269b96[_0x545d52(0x34a)]),_0x2f4dc2[_0x545d52(0x1cf)](0x1)));const _0x5029dc=this[_0x545d52(0x305)]?.[_0x545d52(0x204)]?.[_0x545d52(0x221)];let _0x4a6cbb=await fs[_0x545d52(0x2cc)](path['join'](__dirname,'..',_0x269b96[_0x545d52(0x387)],_0x269b96[_0x545d52(0x260)],_0x269b96[_0x545d52(0x1cd)]),_0x269b96[_0x545d52(0x308)]);_0x4a6cbb=JSON[_0x545d52(0x33b)](_0x4a6cbb);const _0x19dddd={};_0x19dddd[_0x545d52(0x23b)]=_0x5029dc,await this['resourceClient'][_0x545d52(0x22b)][_0x545d52(0x2ce)](global_registry['cloudProviderResourceGroup'],_0x269b96[_0x545d52(0x332)],{'properties':{'template':_0x4a6cbb,'mode':_0x269b96['joGGu'],'parameters':{'oidcIssuer':_0x19dddd,'namespace':{'value':global_registry[_0x545d52(0x32a)]},'clusterName':{'value':this[_0x545d52(0x2b1)]}}}});}async[a1_0x27ab3d(0x27f)](){const _0x22394a=a1_0x27ab3d,_0x33b709={};_0x33b709[_0x22394a(0x3a6)]=_0x22394a(0x339),_0x33b709[_0x22394a(0x20d)]=function(_0x5f2617,_0x4a46d7){return _0x5f2617===_0x4a46d7;},_0x33b709[_0x22394a(0x38a)]=_0x22394a(0x363),_0x33b709['XGkvk']=_0x22394a(0x2db),_0x33b709[_0x22394a(0x1f2)]=_0x22394a(0x2ca),_0x33b709[_0x22394a(0x1c3)]=function(_0x5ab3b7,_0x481256){return _0x5ab3b7===_0x481256;},_0x33b709[_0x22394a(0x1eb)]=function(_0x27ae9b,_0x56c1e2){return _0x27ae9b!==_0x56c1e2;},_0x33b709['uFhFK']=_0x22394a(0x36f);const _0x53dc4c=_0x33b709,_0x2d534a=this[_0x22394a(0x226)](),_0x303ff4=new Array();for await(const _0x5ad77b of this[_0x22394a(0x2f6)][_0x22394a(0x2ed)]['listByResourceGroup'](global_registry['cloudProviderResourceGroup'])){if(_0x53dc4c[_0x22394a(0x20d)](_0x53dc4c['GbwmT'],_0x53dc4c[_0x22394a(0x38a)]))_0x303ff4[_0x22394a(0x309)](_0x5ad77b);else return _0x2c1803[_0x22394a(0x22e)]=_0x53dc4c[_0x22394a(0x3a6)],_0x32e7dc;}for await(const _0x343953 of _0x303ff4){if(_0x53dc4c[_0x22394a(0x20d)](_0x53dc4c[_0x22394a(0x2bb)],_0x53dc4c['RBnEr']))_0x46e457['vpcInfo']['push'](_0x778812);else{if(_0x53dc4c[_0x22394a(0x1c3)](_0x343953[_0x22394a(0x1fb)],_0x2d534a)){if(_0x53dc4c['nsEvo'](_0x53dc4c['uFhFK'],_0x53dc4c[_0x22394a(0x335)]))_0x2b56d1['push'](..._0x5cc6b5[_0x22394a(0x1fc)]);else return!![];}}}return![];}async[a1_0x27ab3d(0x266)](){const _0x10792c=a1_0x27ab3d,_0x5c4c22={};_0x5c4c22[_0x10792c(0x267)]=function(_0xf7f73a,_0x5dd2a3){return _0xf7f73a===_0x5dd2a3;},_0x5c4c22['IUUaQ']=_0x10792c(0x25e),_0x5c4c22['URMgI']=_0x10792c(0x2aa),_0x5c4c22[_0x10792c(0x302)]=function(_0x4523ae,_0x32a793){return _0x4523ae===_0x32a793;},_0x5c4c22[_0x10792c(0x380)]=_0x10792c(0x29b),_0x5c4c22[_0x10792c(0x2a5)]=function(_0x347444,_0x2bdb08){return _0x347444!==_0x2bdb08;},_0x5c4c22['klKjW']='qhGCx',_0x5c4c22[_0x10792c(0x25a)]=_0x10792c(0x1e3);const _0x3fce3a=_0x5c4c22,_0x22ff9b=new Array();for await(const _0x4fded0 of this[_0x10792c(0x382)][_0x10792c(0x238)][_0x10792c(0x31b)](global_registry[_0x10792c(0x1e6)])){_0x3fce3a['YoXps'](_0x3fce3a[_0x10792c(0x272)],_0x3fce3a[_0x10792c(0x2cb)])?_0x20af39[_0x10792c(0x284)]=_0x4f0df9:_0x22ff9b['push'](_0x4fded0);}for await(const _0x3ea04d of _0x22ff9b){if(_0x3fce3a[_0x10792c(0x302)](_0x3fce3a[_0x10792c(0x380)],_0x3fce3a[_0x10792c(0x380)])){if(_0x3fce3a[_0x10792c(0x267)](_0x3ea04d[_0x10792c(0x1fb)],_0x10792c(0x25b)+this['clusterName'])){if(_0x3fce3a[_0x10792c(0x2a5)](_0x3fce3a[_0x10792c(0x35f)],_0x3fce3a[_0x10792c(0x25a)]))return!![];else return;}}else return _0x46f89d[_0x10792c(0x284)](_0x10792c(0x1db)+_0x447a19+':'+_0x5359d6[_0x10792c(0x2fd)]),{};}return![];}async[a1_0x27ab3d(0x328)](_0x37969e,_0x28d8b6=0x3){const _0x3183ba=a1_0x27ab3d,_0x34d3dc={'FWBiR':function(_0x5b8192,_0x44d1e2){return _0x5b8192===_0x44d1e2;},'VpaUB':_0x3183ba(0x2fe),'nAlcv':function(_0x26868c,_0x11255d){return _0x26868c!==_0x11255d;},'OhJHS':_0x3183ba(0x2b5),'hrnSq':function(_0x2a47e9,_0x18d7ac,_0x110db0){return _0x2a47e9(_0x18d7ac,_0x110db0);},'KQBhM':function(_0x20e03d,_0x1d6cc4){return _0x20e03d!==_0x1d6cc4;},'nRQPU':'nnjTQ','qBdEr':_0x3183ba(0x281),'YAnDo':_0x3183ba(0x250),'EDlco':_0x3183ba(0x357),'FwBpe':function(_0x35f5fe,_0x210200){return _0x35f5fe===_0x210200;},'sAwjR':_0x3183ba(0x2ee),'hzzLM':'yzDPt','JKqsj':_0x3183ba(0x291),'FFMNs':function(_0x3c6dab,_0xe3b776){return _0x3c6dab!==_0xe3b776;},'XHwmz':'wZtiD','IWwsM':'CvZQH','vhwAy':function(_0x3fcdbd,_0xa451dd){return _0x3fcdbd<=_0xa451dd;},'cQXzr':function(_0x83da7e,_0x532b10){return _0x83da7e===_0x532b10;},'AIQBy':'TSvNw','ACaMO':function(_0x25fbaa,_0x1a698c){return _0x25fbaa-_0x1a698c;}};try{if(_0x34d3dc[_0x3183ba(0x323)](_0x34d3dc[_0x3183ba(0x2a6)],_0x34d3dc[_0x3183ba(0x2e9)])){const _0x3b77d9=new Array();for await(const _0x42bf7c of this[_0x3183ba(0x382)][_0x3183ba(0x238)][_0x3183ba(0x31b)](global_registry[_0x3183ba(0x1e6)])){if(_0x34d3dc[_0x3183ba(0x277)](_0x34d3dc[_0x3183ba(0x36c)],_0x34d3dc[_0x3183ba(0x36c)]))_0x3b77d9[_0x3183ba(0x309)](_0x42bf7c);else return[!![],_0x23412a];}let _0x3d8b2d='';for await(const _0x1a71e3 of _0x3b77d9){if(_0x34d3dc[_0x3183ba(0x323)](_0x34d3dc['EDlco'],_0x34d3dc[_0x3183ba(0x25c)]))_0x509031['push'](_0x1308e3);else{if(_0x34d3dc['FwBpe'](_0x1a71e3['name'],_0x37969e)){if(_0x34d3dc[_0x3183ba(0x1be)](_0x34d3dc[_0x3183ba(0x367)],_0x34d3dc[_0x3183ba(0x329)]))_0x3d8b2d=_0x1a71e3['id'];else{if(_0x34d3dc[_0x3183ba(0x277)](_0x5e444a[_0x3183ba(0x1fb)],_0x513e73))return!![];}}}}const _0x446cbd=await this[_0x3183ba(0x382)]['resources'][_0x3183ba(0x2c9)](_0x3d8b2d,_0x34d3dc[_0x3183ba(0x278)]);return _0x446cbd[_0x3183ba(0x232)][_0x3183ba(0x21f)];}else{const _0x13db5b=_0x34d3dc['VpaUB']['split']('|');let _0x142b3b=0x0;while(!![]){switch(_0x13db5b[_0x142b3b++]){case'0':_0x48a9cc[_0x3183ba(0x392)]=_0x3be205[this[_0x3183ba(0x1c8)]][_0x3183ba(0x35e)];continue;case'1':_0x51e75c[_0x3183ba(0x331)]=_0x49e319[this[_0x3183ba(0x1c8)]][_0x3183ba(0x2d1)];continue;case'2':_0x1fb27f[_0x3183ba(0x1e6)]=_0x2762c6[this[_0x3183ba(0x1c8)]][_0x3183ba(0x2b6)];continue;case'3':_0x240be1[_0x3183ba(0x361)]=_0x258a06[this[_0x3183ba(0x1c8)]][_0x3183ba(0x21f)];continue;case'4':_0x20dcaf['cloudProviderTenantId']=_0x25d3cb[this[_0x3183ba(0x1c8)]][_0x3183ba(0x1dc)];continue;case'5':this['setClients']();continue;}break;}}}catch(_0x1e3282){if(_0x34d3dc[_0x3183ba(0x1c1)](_0x34d3dc[_0x3183ba(0x2d7)],_0x34d3dc[_0x3183ba(0x384)])){if(_0x34d3dc[_0x3183ba(0x27a)](_0x28d8b6,0x0))return _0x34d3dc[_0x3183ba(0x244)](_0x34d3dc[_0x3183ba(0x1d2)],_0x34d3dc['AIQBy'])?(logger[_0x3183ba(0x284)](_0x3183ba(0x1db)+_0x1e3282+':'+_0x1e3282[_0x3183ba(0x2fd)]),{}):_0x350203[_0x3183ba(0x336)][_0x3183ba(0x32d)][_0x3183ba(0x325)][0x0][_0x3183ba(0x261)];return await new Promise(_0x420e75=>{const _0x3256d1=_0x3183ba;_0x34d3dc[_0x3256d1(0x1be)](_0x34d3dc[_0x3256d1(0x1ec)],_0x34d3dc[_0x3256d1(0x1ec)])?_0x12b025[_0x3256d1(0x309)](_0x4750ec):_0x34d3dc['hrnSq'](setTimeout,()=>_0x420e75(),0x3e8);}),this['getResourceClientId'](_0x37969e,_0x34d3dc['ACaMO'](_0x28d8b6,0x1));}else return _0xf2a86f['error']=_0x3caf03[_0x3183ba(0x284)],_0x36229d;}}async['isBrowserstackCluster'](){const _0x12c204=a1_0x27ab3d,_0x238d17={};_0x238d17[_0x12c204(0x2dd)]=_0x12c204(0x21a),_0x238d17[_0x12c204(0x1f9)]=_0x12c204(0x219),_0x238d17[_0x12c204(0x25f)]=function(_0x270597,_0x3645fd){return _0x270597+_0x3645fd;},_0x238d17[_0x12c204(0x34c)]=function(_0x2f76b9,_0x462f90){return _0x2f76b9===_0x462f90;},_0x238d17[_0x12c204(0x3a4)]=_0x12c204(0x301),_0x238d17[_0x12c204(0x28c)]=function(_0x43295a,_0xebd52){return _0x43295a===_0xebd52;},_0x238d17['ALpgR']='browserstack:managedBy',_0x238d17[_0x12c204(0x362)]=_0x12c204(0x22a),_0x238d17[_0x12c204(0x369)]=function(_0x43a07e,_0x36d292){return _0x43a07e!==_0x36d292;},_0x238d17[_0x12c204(0x379)]=_0x12c204(0x349),_0x238d17[_0x12c204(0x208)]=_0x12c204(0x33e);const _0x44b0de=_0x238d17;if(!this[_0x12c204(0x305)]){if(_0x44b0de[_0x12c204(0x34c)](_0x44b0de['VYiUV'],_0x44b0de[_0x12c204(0x3a4)]))await this[_0x12c204(0x29a)]();else{const _0x467223=_0x370748['includes'](_0x546338);_0x58d120+='\x0a\x09'+_0x247b0d+':\x20'+(_0x467223?_0x44b0de[_0x12c204(0x2dd)]:_0x44b0de['aufpl']),!_0x467223&&(_0x5d7f39[_0x12c204(0x336)]=![]);}}const _0x36ae6f=this[_0x12c204(0x305)]?.[_0x12c204(0x230)]||{};if(_0x36ae6f&&_0x44b0de['PoglA'](_0x36ae6f[_0x44b0de[_0x12c204(0x293)]],_0x44b0de[_0x12c204(0x362)])){if(_0x44b0de[_0x12c204(0x369)](_0x44b0de[_0x12c204(0x379)],_0x44b0de['YtKAK']))return!![];else _0x568eef[_0x12c204(0x2bf)]('['+_0x44b0de[_0x12c204(0x25f)](_0x463fc5,0x1)+']\x20'+_0x2bb3e0[_0x5a94b1]);}return![];}async[a1_0x27ab3d(0x38f)](_0x4bbdbf,_0x35c704){const _0x298ba1=a1_0x27ab3d,_0x24e5ec={'DdTJI':function(_0x238a8b,_0x46b009){return _0x238a8b(_0x46b009);},'Aiwdr':function(_0x347061,_0x473f72){return _0x347061(_0x473f72);},'XxXmI':_0x298ba1(0x26b)};await _0x24e5ec[_0x298ba1(0x1f1)](deleteAgent,_0x4bbdbf),await _0x24e5ec[_0x298ba1(0x29f)](deleteRoutingDeps,_0x4bbdbf);const _0x3c0895=this[_0x298ba1(0x287)];logger[_0x298ba1(0x239)](_0x298ba1(0x21b)+this[_0x298ba1(0x2b1)]),await _0x3c0895[_0x298ba1(0x321)][_0x298ba1(0x235)](global_registry[_0x298ba1(0x1e6)],this[_0x298ba1(0x2b1)]),logger[_0x298ba1(0x239)](_0x24e5ec[_0x298ba1(0x314)]);}async[a1_0x27ab3d(0x2dc)](){const _0x2c755e=a1_0x27ab3d,_0x51e527={};_0x51e527['BMBXt']=_0x2c755e(0x348),_0x51e527['evKJy']=_0x2c755e(0x371),_0x51e527[_0x2c755e(0x28a)]=_0x2c755e(0x1bf),_0x51e527[_0x2c755e(0x207)]=_0x2c755e(0x394),_0x51e527[_0x2c755e(0x271)]=function(_0x308a68,_0x3c6678){return _0x308a68+_0x3c6678;},_0x51e527[_0x2c755e(0x33d)]=_0x2c755e(0x368),_0x51e527[_0x2c755e(0x333)]=function(_0x41450a,_0x49cb14){return _0x41450a-_0x49cb14;},_0x51e527['IBdhG']='Enabling\x20Local\x20account\x20for\x20the\x20cluster',_0x51e527[_0x2c755e(0x345)]=_0x2c755e(0x3a3),_0x51e527[_0x2c755e(0x29d)]=function(_0x5bf7b8,_0x110e7a){return _0x5bf7b8!==_0x110e7a;},_0x51e527[_0x2c755e(0x337)]=_0x2c755e(0x37e),_0x51e527[_0x2c755e(0x395)]=function(_0x205d8f,_0x29f460){return _0x205d8f&&_0x29f460;},_0x51e527['WCbUM']=function(_0x3eacc4,_0x27dda2){return _0x3eacc4!==_0x27dda2;},_0x51e527['RwJcI']='YNbwQ',_0x51e527['DElCl']=_0x2c755e(0x1d4),_0x51e527[_0x2c755e(0x24c)]=_0x2c755e(0x1d0),_0x51e527[_0x2c755e(0x2a7)]='gNISs',_0x51e527['WYVBg']=_0x2c755e(0x255),_0x51e527[_0x2c755e(0x37c)]=function(_0x13fa9f,_0x9afe99){return _0x13fa9f===_0x9afe99;},_0x51e527[_0x2c755e(0x31e)]=_0x2c755e(0x22f),_0x51e527[_0x2c755e(0x303)]='Enabling\x20Workload\x20identity\x20for\x20the\x20cluster',_0x51e527[_0x2c755e(0x318)]=_0x2c755e(0x2a8),_0x51e527[_0x2c755e(0x237)]='WfHlQ';const _0x2336e4=_0x51e527;if(!this[_0x2c755e(0x305)]){if(_0x2336e4['Kaphp'](_0x2336e4[_0x2c755e(0x337)],_0x2336e4['XFtyC'])){const _0x1cdbbd={};_0x1cdbbd['type']=_0x2336e4[_0x2c755e(0x3a9)],_0x1cdbbd[_0x2c755e(0x201)]={},_0x1cdbbd[_0x2c755e(0x201)][_0x2c755e(0x372)]=_0x2336e4[_0x2c755e(0x1e2)];const _0x56b196={};_0x56b196[_0x2c755e(0x2f8)]=_0x2336e4[_0x2c755e(0x3a9)],_0x56b196[_0x2c755e(0x201)]={},_0x56b196[_0x2c755e(0x201)]['description']=_0x2336e4['evKJy'];const _0x469643={..._0x53af42['parameters']};_0x469643[_0x2c755e(0x342)]=_0x1cdbbd,_0x469643[_0x2c755e(0x216)]=_0x56b196,_0x518f4d[_0x2c755e(0x257)]=_0x469643;const _0xce554e={};_0xce554e['vnetSubnetID']=_0x2336e4['hsupK'],_0x59e130[_0x2c755e(0x353)]=_0xce554e;const _0x4b4f08={..._0x515ea0[_0x2c755e(0x238)][0x0]['properties']['agentPoolProfiles'][0x0]};_0x4b4f08[_0x2c755e(0x23e)]=_0x2336e4['GeQXt'],_0x29758e['resources'][0x0][_0x2c755e(0x232)]['agentPoolProfiles'][0x0]=_0x4b4f08;const _0x211613={};_0x211613[_0x2c755e(0x23b)]=_0x2f0be4;const _0x288b81={};_0x288b81[_0x2c755e(0x23b)]=_0xf407f0[0x0];const _0xc582a8={..._0x584951};_0xc582a8[_0x2c755e(0x342)]=_0x211613,_0xc582a8[_0x2c755e(0x216)]=_0x288b81,_0x57fa1f=_0xc582a8;}else await this['getClusterInfo']();}const _0x132fc2=this[_0x2c755e(0x305)],_0x2368fb=this['clusterInfo']?.['oidcIssuerProfile']?.[_0x2c755e(0x1d9)]||![],_0x559828=this[_0x2c755e(0x305)]?.[_0x2c755e(0x236)]?.[_0x2c755e(0x241)]?.[_0x2c755e(0x1d9)]||![],_0x20d0cb=!this[_0x2c755e(0x305)]?.[_0x2c755e(0x213)]||![];if(_0x2336e4[_0x2c755e(0x395)](_0x2368fb,_0x559828)&&_0x20d0cb){if(_0x2336e4[_0x2c755e(0x30b)](_0x2336e4['RwJcI'],_0x2336e4[_0x2c755e(0x378)]))return;else{const _0x2d399b=_0x5ea386[_0x2c755e(0x2f4)]['split']('-'),_0x8481eb=_0x2336e4[_0x2c755e(0x271)](_0x2336e4[_0x2c755e(0x33d)],_0x2d399b[_0x2336e4[_0x2c755e(0x333)](_0x2d399b[_0x2c755e(0x285)],0x1)])[_0x2c755e(0x33c)](0x0,0x18);return _0x8481eb[_0x2c755e(0x2a3)]();}}if(!_0x2368fb){if(_0x2336e4[_0x2c755e(0x30b)](_0x2336e4['HKpKD'],_0x2336e4[_0x2c755e(0x2a7)])){logger[_0x2c755e(0x239)](_0x2336e4[_0x2c755e(0x360)]);const _0x327fef={};_0x327fef[_0x2c755e(0x2f8)]=WS_EVENTS['RESOURCES'],_0x327fef[_0x2c755e(0x2ad)]=_0x2336e4[_0x2c755e(0x360)],this[_0x2c755e(0x2f5)][_0x2c755e(0x23d)](this[_0x2c755e(0x2df)],_0x327fef),_0x132fc2[_0x2c755e(0x204)][_0x2c755e(0x1d9)]=!![];}else{_0x25297c[_0x2c755e(0x239)](_0x2336e4[_0x2c755e(0x1ce)]);const _0x2e6058={};_0x2e6058['type']=_0x2b1979['RESOURCES'],_0x2e6058[_0x2c755e(0x2ad)]=_0x2336e4[_0x2c755e(0x1ce)],this['webSocketUtils'][_0x2c755e(0x23d)](this[_0x2c755e(0x2df)],_0x2e6058),_0x5ea2ac[_0x2c755e(0x213)]=![];}}if(!_0x559828){if(_0x2336e4[_0x2c755e(0x37c)](_0x2336e4[_0x2c755e(0x31e)],_0x2336e4[_0x2c755e(0x31e)])){logger[_0x2c755e(0x239)](_0x2336e4[_0x2c755e(0x303)]);const _0x58f811={};_0x58f811[_0x2c755e(0x2f8)]=WS_EVENTS[_0x2c755e(0x377)],_0x58f811[_0x2c755e(0x2ad)]=_0x2336e4['xzGrn'],this[_0x2c755e(0x2f5)][_0x2c755e(0x23d)](this[_0x2c755e(0x2df)],_0x58f811);const _0xf1b772={};_0xf1b772['enabled']=!![],_0x132fc2[_0x2c755e(0x236)]={'workloadIdentity':_0xf1b772,..._0x132fc2['securityProfile']};}else return!![];}if(!_0x20d0cb){if(_0x2336e4[_0x2c755e(0x29d)](_0x2336e4[_0x2c755e(0x318)],_0x2336e4[_0x2c755e(0x237)])){logger[_0x2c755e(0x239)](_0x2336e4[_0x2c755e(0x1ce)]);const _0x2aab1a={};_0x2aab1a['type']=WS_EVENTS[_0x2c755e(0x377)],_0x2aab1a['message']=_0x2336e4[_0x2c755e(0x1ce)],this[_0x2c755e(0x2f5)][_0x2c755e(0x23d)](this[_0x2c755e(0x2df)],_0x2aab1a),_0x132fc2[_0x2c755e(0x213)]=![];}else{const _0x52a81c={};_0x52a81c['status']=!![],_0x52a81c[_0x2c755e(0x284)]=null,_0x52a81c['data']=_0x2336e4[_0x2c755e(0x345)];const _0x1b1382=_0x52a81c;return _0x1b1382;}}await this[_0x2c755e(0x287)]['managedClusters'][_0x2c755e(0x2ce)](global_registry['cloudProviderResourceGroup'],this[_0x2c755e(0x2b1)],_0x132fc2),await this[_0x2c755e(0x29a)]();}async[a1_0x27ab3d(0x218)](){const _0x4d7883=a1_0x27ab3d,_0x5cbbc9={};_0x5cbbc9['WXuBD']=function(_0x531139,_0x2cdac9){return _0x531139===_0x2cdac9;},_0x5cbbc9[_0x4d7883(0x24b)]=_0x4d7883(0x2fa);const _0x3cf2aa=_0x5cbbc9,_0x3ae849=await this[_0x4d7883(0x2f0)][_0x4d7883(0x373)][_0x4d7883(0x256)](global_registry['cloudProviderResourceGroup']),_0x55775d={};_0x55775d[_0x4d7883(0x2b2)]=global_registry['bstackUsername'],_0x55775d[_0x4d7883(0x31c)]=global_registry['bstackAccesskey'],_0x55775d[_0x4d7883(0x22d)]=AZURE,_0x55775d[_0x4d7883(0x2fc)]=[];const _0x1d909e=_0x55775d;for await(const _0x24424e of _0x3ae849){_0x3cf2aa[_0x4d7883(0x2d0)](_0x3cf2aa[_0x4d7883(0x24b)],_0x3cf2aa[_0x4d7883(0x24b)])?_0x1d909e['vpcInfo'][_0x4d7883(0x309)](_0x24424e):_0x274054['error']=_0x31af45;}const _0x36a5c={};_0x36a5c[_0x4d7883(0x2f8)]=WS_EVENTS[_0x4d7883(0x377)],_0x36a5c[_0x4d7883(0x2ad)]=_0x1d909e,this[_0x4d7883(0x2f5)][_0x4d7883(0x23d)](this[_0x4d7883(0x2df)],_0x36a5c);}async['isVPCPresent'](_0x31b1d3){const _0x4ce36d=a1_0x27ab3d,_0x538398={};_0x538398['tdQKn']='Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.',_0x538398[_0x4ce36d(0x2e0)]=function(_0x4f9f92,_0x23418d){return _0x4f9f92!==_0x23418d;},_0x538398[_0x4ce36d(0x259)]=_0x4ce36d(0x283),_0x538398[_0x4ce36d(0x1cb)]=function(_0x4ea727,_0x553aff){return _0x4ea727===_0x553aff;},_0x538398[_0x4ce36d(0x299)]=_0x4ce36d(0x2ac),_0x538398[_0x4ce36d(0x39b)]=function(_0x17ad8a,_0x3c5b4f){return _0x17ad8a===_0x3c5b4f;},_0x538398[_0x4ce36d(0x3a2)]=_0x4ce36d(0x2b8),_0x538398[_0x4ce36d(0x1f8)]=_0x4ce36d(0x322),_0x538398[_0x4ce36d(0x228)]=function(_0x28cd6d,_0x338b43){return _0x28cd6d!==_0x338b43;},_0x538398[_0x4ce36d(0x27b)]='sNSMU',_0x538398['steox']=_0x4ce36d(0x351);const _0x3d8107=_0x538398;try{if(_0x3d8107['ZAjBR'](_0x3d8107[_0x4ce36d(0x259)],_0x3d8107[_0x4ce36d(0x259)]))return!![];else{const _0x395b68=await this[_0x4ce36d(0x2f0)][_0x4ce36d(0x373)][_0x4ce36d(0x256)](global_registry[_0x4ce36d(0x1e6)]);for await(const _0xbd63c9 of _0x395b68){if(_0x3d8107['fwUpx'](_0x3d8107[_0x4ce36d(0x299)],_0x3d8107[_0x4ce36d(0x299)])){if(_0x3d8107[_0x4ce36d(0x39b)](_0xbd63c9['name'],_0x31b1d3)){if(_0x3d8107[_0x4ce36d(0x39b)](_0x3d8107[_0x4ce36d(0x3a2)],_0x3d8107['FFmEr']))_0x4f079e[_0x4ce36d(0x309)](_0x57cc18);else return!![];}}else return _0x4626d4['error'](_0x4ce36d(0x1b8)+_0x66b9e9+_0x4ce36d(0x20e)+_0x3614c2),[![],[]];}}}catch(_0xcb7cba){if(_0x3d8107[_0x4ce36d(0x228)](_0x3d8107[_0x4ce36d(0x27b)],_0x3d8107['steox']))return logger[_0x4ce36d(0x284)](_0x4ce36d(0x22c)+_0x31b1d3+_0x4ce36d(0x1da)+_0xcb7cba),![];else _0x2028bd['error'](_0x3d8107[_0x4ce36d(0x286)]),_0x766a5e[_0x4ce36d(0x1cf)](0x1);}return![];}async[a1_0x27ab3d(0x2e3)](_0x321ce2,_0x3cb9c6){const _0x5da58f=a1_0x27ab3d,_0x2a18cb={};_0x2a18cb['rUmkg']=function(_0x242180,_0x38404d){return _0x242180===_0x38404d;},_0x2a18cb[_0x5da58f(0x36b)]=function(_0x432229,_0x2d9494){return _0x432229!==_0x2d9494;},_0x2a18cb[_0x5da58f(0x3a8)]=_0x5da58f(0x37a),_0x2a18cb['rwxRG']=function(_0x5af32e,_0x3f4a4c){return _0x5af32e===_0x3f4a4c;},_0x2a18cb[_0x5da58f(0x2b7)]=_0x5da58f(0x234),_0x2a18cb[_0x5da58f(0x304)]='bxaWN';const _0x3131dc=_0x2a18cb;try{if(_0x3131dc[_0x5da58f(0x36b)](_0x3131dc[_0x5da58f(0x3a8)],_0x3131dc[_0x5da58f(0x3a8)])){if(_0x3131dc[_0x5da58f(0x35c)](_0x2e4887['name'],_0x5da58f(0x25b)+this[_0x5da58f(0x2b1)]))return!![];}else{const _0x2d9b9f=await this['networkClient']['subnets'][_0x5da58f(0x2c3)](global_registry[_0x5da58f(0x1e6)],_0x3cb9c6,_0x321ce2[0x0]);if(_0x3131dc[_0x5da58f(0x2d6)](_0x321ce2[0x0],_0x2d9b9f[_0x5da58f(0x1fb)])){if(_0x3131dc[_0x5da58f(0x36b)](_0x3131dc[_0x5da58f(0x2b7)],_0x3131dc['pdFqg']))return[!![],_0x321ce2];else _0x459aeb[_0x5da58f(0x336)]=![];}}}catch(_0x52a4a5){return logger[_0x5da58f(0x284)](_0x5da58f(0x1b8)+_0x321ce2+_0x5da58f(0x20e)+_0x52a4a5),[![],[]];}return[![],[]];}async['isCliToolInstalled'](){const _0x169a37=a1_0x27ab3d,_0xbf9e2c={};_0xbf9e2c[_0x169a37(0x21d)]=_0x169a37(0x3a3);const _0xfea404=_0xbf9e2c,_0x122df5={};_0x122df5[_0x169a37(0x336)]=!![],_0x122df5[_0x169a37(0x284)]=null,_0x122df5[_0x169a37(0x22e)]=_0xfea404[_0x169a37(0x21d)];const _0x47c262=_0x122df5;return _0x47c262;}async[a1_0x27ab3d(0x354)](){const _0x156eaa=a1_0x27ab3d,_0x2f13e2={};_0x2f13e2[_0x156eaa(0x306)]=_0x156eaa(0x35b),_0x2f13e2[_0x156eaa(0x356)]=_0x156eaa(0x2a0),_0x2f13e2[_0x156eaa(0x28f)]=_0x156eaa(0x2c1);const _0x42b17a=_0x2f13e2,_0x31ca77=await this[_0x156eaa(0x251)]['getToken'](_0x42b17a[_0x156eaa(0x306)]),_0x35b3ba={};_0x35b3ba[_0x156eaa(0x2c4)]=_0x42b17a['BAOpn'],_0x35b3ba[_0x156eaa(0x36e)]={},_0x35b3ba[_0x156eaa(0x36e)][_0x156eaa(0x330)]=_0x156eaa(0x2f3)+_0x31ca77[_0x156eaa(0x33a)],_0x35b3ba[_0x156eaa(0x36e)][_0x156eaa(0x269)]=_0x42b17a[_0x156eaa(0x28f)];const _0x18991f=_0x35b3ba;return _0x18991f;}async[a1_0x27ab3d(0x399)](_0x30e2fc){const _0x2b0d42=a1_0x27ab3d,_0x39ae75={'yDGje':function(_0x374ba6,_0x51a46e,_0x407258){return _0x374ba6(_0x51a46e,_0x407258);},'OmXSX':function(_0x1a4aa6,_0x1d3dbc){return _0x1a4aa6===_0x1d3dbc;},'sFrBz':_0x2b0d42(0x223)},_0x4b8b7c={};_0x4b8b7c[_0x2b0d42(0x34b)]='',_0x4b8b7c['error']=null;const _0x42b3ed=_0x4b8b7c;try{const _0x30f12d=_0x2b0d42(0x21c)+_0x30e2fc+'\x27',_0x73c2e9=await this[_0x2b0d42(0x354)](),_0x35a6aa=await _0x39ae75[_0x2b0d42(0x1ed)](fetch,_0x30f12d,_0x73c2e9),_0x75e93f=await _0x35a6aa[_0x2b0d42(0x358)]();if(!_0x75e93f[_0x2b0d42(0x23b)]||_0x39ae75[_0x2b0d42(0x38b)](_0x75e93f[_0x2b0d42(0x23b)]['length'],0x0))throw new Error(_0x39ae75['sFrBz'],_0x2b0d42(0x32f)+JSON['stringify'](_0x75e93f));_0x42b3ed['principalId']=_0x75e93f['value'][0x0]['id'];}catch(_0x31f40e){_0x42b3ed[_0x2b0d42(0x284)]=_0x31f40e;}return _0x42b3ed;}async[a1_0x27ab3d(0x220)](){const _0x3db506=a1_0x27ab3d,_0x4a138b={};_0x4a138b['SAfOZ']=_0x3db506(0x21a),_0x4a138b[_0x3db506(0x370)]='denied',_0x4a138b[_0x3db506(0x341)]=function(_0x4a7091,_0x1d975a){return _0x4a7091!==_0x1d975a;},_0x4a138b['VMRBH']=function(_0xf02bce,_0x193c11){return _0xf02bce===_0x193c11;},_0x4a138b[_0x3db506(0x2ab)]='No\x20attached\x20role\x20for\x20the\x20client\x20key',_0x4a138b['CxkrI']=_0x3db506(0x350),_0x4a138b['hCotC']='Action\x20permission\x20list\x20is\x20empty\x0a';const _0x363271=_0x4a138b,_0x50b544={};_0x50b544[_0x3db506(0x336)]=![],_0x50b544[_0x3db506(0x284)]=null,_0x50b544[_0x3db506(0x22e)]='';const _0x1c33f4=_0x50b544;try{let _0x5ee2e1='';const _0x2efd17=_0x3db506(0x359)+global_registry['cloudProviderSubscriptionId']+_0x3db506(0x298)+global_registry[_0x3db506(0x1e6)],_0x10fedd=await this[_0x3db506(0x399)](global_registry[_0x3db506(0x361)]);if(_0x363271[_0x3db506(0x341)](_0x10fedd['error'],null))return _0x1c33f4['error']=_0x10fedd[_0x3db506(0x284)],_0x1c33f4;const _0x362104=_0x3db506(0x391)+_0x10fedd[_0x3db506(0x34b)]+'\x27)',_0xf16323={};_0xf16323[_0x3db506(0x3aa)]=_0x362104;const _0x2a4a6e=await this[_0x3db506(0x313)][_0x3db506(0x20c)][_0x3db506(0x1b9)](_0x2efd17,_0xf16323),_0x4ed876=[];for await(const _0x390067 of _0x2a4a6e){_0x4ed876[_0x3db506(0x309)](_0x390067);}if(_0x363271['VMRBH'](_0x4ed876[_0x3db506(0x285)],0x0))return _0x1c33f4[_0x3db506(0x22e)]=_0x363271[_0x3db506(0x2ab)],_0x1c33f4;const _0xede535=[...new Set(_0x4ed876[_0x3db506(0x247)](_0x450b2b=>_0x450b2b[_0x3db506(0x1e5)]))];if(_0x363271[_0x3db506(0x262)](_0xede535[_0x3db506(0x285)],0x0))return _0x1c33f4[_0x3db506(0x22e)]=_0x363271[_0x3db506(0x2fb)],_0x1c33f4;const _0x4905d4=[],_0x17f11b=[];for(const _0x541b79 of _0xede535){const _0x1a018f=await this[_0x3db506(0x313)][_0x3db506(0x295)]['getById'](_0x541b79);logger[_0x3db506(0x248)](_0x3db506(0x3a5)+_0x1a018f['roleName']),_0x4905d4[_0x3db506(0x309)](_0x1a018f),logger[_0x3db506(0x248)](_0x3db506(0x28d)+JSON[_0x3db506(0x1c2)](_0x1a018f['permissions'])),_0x1a018f[_0x3db506(0x21e)][_0x3db506(0x2f7)](_0x9ae23b=>{const _0x43ce25=_0x3db506;_0x17f11b[_0x43ce25(0x309)](..._0x9ae23b[_0x43ce25(0x1fc)]);});}logger[_0x3db506(0x248)]('actionPermission\x20:\x20'+JSON[_0x3db506(0x1c2)](_0x17f11b)),_0x363271['VMRBH'](_0x17f11b[_0x3db506(0x285)],0x0)&&(_0x5ee2e1+=_0x363271[_0x3db506(0x262)](_0x17f11b['length'],0x0)?_0x363271[_0x3db506(0x344)]:'',logger[_0x3db506(0x248)](_0x3db506(0x376)+JSON[_0x3db506(0x1c2)](_0x4905d4))),_0x1c33f4[_0x3db506(0x336)]=!![],Object['entries'](PERMISSIONS['ACTION'])[_0x3db506(0x2f7)](([_0x2ff041,_0x11ac84])=>{const _0x4363c1=_0x3db506,_0x147976=_0x17f11b[_0x4363c1(0x37b)](_0x2ff041);_0x5ee2e1+='\x0a\x09'+_0x11ac84+':\x20'+(_0x147976?_0x363271['SAfOZ']:_0x363271[_0x4363c1(0x370)]),!_0x147976&&(_0x1c33f4['status']=![]);}),_0x1c33f4[_0x3db506(0x22e)]=_0x5ee2e1;}catch(_0x4ab9ed){_0x1c33f4[_0x3db506(0x284)]=_0x4ab9ed;}return _0x1c33f4;}}function a1_0x131e(_0x502196,_0x55b20c){const _0x569e00=a1_0x569e();return a1_0x131e=function(_0x131ee4,_0x23f03d){_0x131ee4=_0x131ee4-0x1b8;let _0x2aec78=_0x569e00[_0x131ee4];return _0x2aec78;},a1_0x131e(_0x502196,_0x55b20c);}const a1_0x1d8d71={};a1_0x1d8d71[a1_0x27ab3d(0x388)]=AzureCloudProvider,module[a1_0x27ab3d(0x28e)]=a1_0x1d8d71;