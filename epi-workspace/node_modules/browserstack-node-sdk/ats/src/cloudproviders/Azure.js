const a1_0x22d019=a1_0x14c8;function a1_0x14c8(_0x1de96e,_0x519a93){const _0x14be3d=a1_0x14be();return a1_0x14c8=function(_0x14c8c3,_0x45c965){_0x14c8c3=_0x14c8c3-0x122;let _0x4641ef=_0x14be3d[_0x14c8c3];return _0x4641ef;},a1_0x14c8(_0x1de96e,_0x519a93);}(function(_0x1e96ac,_0x340cfa){const _0x340d49=a1_0x14c8,_0x4c03be=_0x1e96ac();while(!![]){try{const _0x470554=parseInt(_0x340d49(0x25c))/0x1*(parseInt(_0x340d49(0x18e))/0x2)+-parseInt(_0x340d49(0x2a7))/0x3+-parseInt(_0x340d49(0x143))/0x4*(-parseInt(_0x340d49(0x24d))/0x5)+parseInt(_0x340d49(0x2cd))/0x6+parseInt(_0x340d49(0x1dd))/0x7*(-parseInt(_0x340d49(0x204))/0x8)+parseInt(_0x340d49(0x30b))/0x9*(parseInt(_0x340d49(0x1ca))/0xa)+parseInt(_0x340d49(0x248))/0xb;if(_0x470554===_0x340cfa)break;else _0x4c03be['push'](_0x4c03be['shift']());}catch(_0xc0edf8){_0x4c03be['push'](_0x4c03be['shift']());}}}(a1_0x14be,0xc0c73));const fs=require('fs'),path=require('path'),yaml=require('js-yaml'),{logger}=require(a1_0x22d019(0x293)),{CloudProvider}=require('./CloudProvider'),{deleteRoutingDeps,deleteAgent}=require(a1_0x22d019(0x130)),{AZURE,WS_EVENTS,global_registry}=require(a1_0x22d019(0x144)),PERMISSIONS=require(a1_0x22d019(0x12c)),{ClientSecretCredential}=require(a1_0x22d019(0x2ae)),{NetworkManagementClient}=require(a1_0x22d019(0x288)),{StorageManagementClient}=require(a1_0x22d019(0x269)),{AuthorizationManagementClient}=require(a1_0x22d019(0x29f)),{ResourceManagementClient}=require('@azure/arm-resources'),{ContainerServiceClient}=require('@azure/arm-containerservice'),{runCommand}=require(a1_0x22d019(0x1fb));function a1_0x14be(){const _0x1ef0c6=['createManagedIdentity','stack','sTmIZ','gOAsI','\x20CLIENT\x20ID:\x20','listForScope','setClients','push','type','jBDut','SxBbN','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','HVRPY','GbYYJ','EyJMP','byHqD','tgtTb','rules','HUiim','lHsQH','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','string','SZTrS','VWLWP','sZyAk','WstbY','LzHuG','7887912dPYmVz','GAOtO','bSFVY','RYVtq','deployments','metadata','YYgkv','Incremental','s3Bucket','DiUrr','apSVl','bbBkb','KByCt','pvlhR','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','createStorageAccount','AzureCloudProvider','ILyEb','sendEventToBackend','kgnMq','LKiwS','actions','Wyozi','isSubnetsValid','disableLocalAccounts','QbjwB','ACTION','MvYqO','pHoIw','getHeader','\x20TENANT\x20ID:\x20','PwivJ','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','LgEdQ','gEdMr','name','KGZHh','turboscale','qIIIp','PKTxo','ieBUO','utf-8','subnets','isVPCPresent','description','PWzrB','oHUaO','dvnMQ','ZxuqM','WBjCZ','nQUyF','beginDeleteAndWait','vnetSubnetID','bstackAccesskey','qqDNa','isClusterPresent','mvIVA','hub','gyWsA','MptRk','daysAfterCreationGreaterThan','qcSDy','9Eqoxtt','managedidentity.json','status','dvoWX','toString','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','BSCsu','workloadIdentity','Bearer\x20','QantP','Pqehg','buHPB','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','rgfMR','vpcName','getPrincipalIdFromClientId','turboscale-storageaccount-deployment','cred','stringify','tupZW','bEDTe','rws','cloudProvider','niPyK','odWZe','ingress','../permissions/AZURE.json','vvqrX','1|0|4|5|3|2','HfldW','../utils/gridComponents','resourceClient','yfofa','blockBlob','.json','entries','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','JNjRN','filters','AtTCQ','AXXaq','LAWau','tenantId','CrtoN','yZOLG','updateClusterAlreadyPresent','BXAPk','ciAzv','IvlWd','408LgOJZP','../config/constants','Lifecycle','xQddp','bHAMn','containerClient','storageaccount.json','ryUSm','OOZWT','VCKvv','SsSLe','DHWDH','tSeYW','XjAWp','bHLNO','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','HTfhE','TSjKl','Creating\x20Azure\x20storage\x20account','Action\x20permission\x20list\x20is\x20empty\x0a','Enabling\x20Local\x20account\x20for\x20the\x20cluster','akscluster.json','DOlHi','EFnxK','tpoGD','udhbi','mrWXl','Grxsn','location','aZIMI','lqpnr','/resourceGroups/','VmBOM','parameters','join','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','tSpCt','cloudProviderSubscriptionId','lukXp','UFfyE','lgyUL','lubrP','BUnpn','exit','getUserInput','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','tags','zaQdO','OdIey','FKxxA','zYSAp','issuerURL','GXHXU','list','ZTonG','wuLri','GQVaM','yIrJH','FYBcP','vpcInfo','LZzHj','toLowerCase','deleteCluster','getResourceGroups','HSwxl','\x20RESOURCE\x20GROUP:\x20','bfcUB','TcGKB','getStorageAccountName','pIqOr','debug','KQWNc','ymCeN','cloudProviderClientSecret','setCachedCredsInRegistry','8oLtxFV','iYHyS','2|1|3|4|5|0','agentPoolProfiles','jxBvi','mjSit','qiRbZ','eJZmM','psSaT','role\x20name\x20attached\x20-\x20','hAOIi','rROJf','oidcIssuerProfile','cTRch','FYDAq','hQXcx','WrojO','authClient','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','node','iUDFU','iWJNs','AubCK','info','isManagedIdentityPresent','getToken','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','mmsiB','method','mnzzi','LOG','listAll','listByResourceGroup','browserstack:managedBy','SDWOv','bstackUsername','lQBiZ','vPbBd','MJxkj','securityProfile','ZtWpX','GtCTB','resourceGroups','dyhAV','aVBsB','CcVMD','yzkbK','isCliToolInstalled','.\x20Error:\x20','ujuzf','kubeconfigs','Deleting\x20the\x20cluster\x20','Managed\x20identity\x20already\x20exists,\x20skipping','dDmyn','hostname','fZfKs','aAMOV','pxOTF','QPzIK','XVurX','349630VHyRxm','ojlbi','principalId','ubMAS','webSocketUtils','setupHubHa','Cannot\x20find\x20subnets\x20','qUTWk','cloudProviderClientId','BrowserStack','2|1|3|5|0|4','ZBhoA','beginCreateOrUpdateAndWait','xZIaO','JIJOZ','FzuIs','federatedidentity','HFTxj','setupNewCluster','7nbQMCO','rmMge','KnGpl','HhvXI','NsMxC','ouKWj','HYFFA','zdpgc','JFaRn','WjWgc','baseBlob','clientId','gjdqT','CxxDJ','No\x20service\x20principal\x20found','exports','NtCgt','AwFtc','Received\x20response\x20-\x20','yIwlQ','Storage\x20account\x20already\x20exists,\x20skipping','subnetName','cloudProviderResourceGroup','ndzRP','map','WTEyY','FKqUv','WMZYO','jiJgu','zyzEk','../utils/utilityMethods','createCluster','hubharesources','clusterName','TmkYP','loadBalancer','FxMYt','DpdKt','azureresources','12206920XGVZrk','cloudProviderTenantId','RDGZB','gcurG','storageClient','roleDefinitionId','OloJK','VFwor','\x20CLIENT\x20SECRET:\x20','readFileAsync','NgCFL','token','AMZFc','amqUg','2|3|7|4|6|1|0|5','LKixb','vcKVd','createFederatedAccountForHubHA','uJTZn','lDecX','error','createFederatedAccount','hubHaNameSpace','turboscale-identity-deployment','NJWqC','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','Authorization','JslWU','PDAqz','YEdCg','Found\x20only\x20one\x20resource\x20group:\x20','managedClusters','uTsCI','JGqEP','roleName','resourceGroup','LSAzg','json','checkAccess','permissions','wxHpa','subscriptionId','getGridHostname','mmgmF','RVWvH','BfrsQ','variables','definition','getById','JuexK','resources','UNnQE','Content-Type','Rpfgv','tYmvX','Cannot\x20find\x20VPC\x20','getClusterInfo','IAyrP','dlgyo','enabled','CyyEo','getResourceClientId','lBHih','czNsG','clientSecret','KBKpg','username','split','4664165cSBgQR','YSXir','yglyS','tlEAA','fzvTa','25925FWsaGQ','kJwIj','log','headers','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','RlMdb','vXcQT','MZNmx','data','irDzl','application/json','sendAzureInfoToHST','MhlBQ','BgwCb','atkAS','357076sKafOi','htnop','qiRhr','userMaxNodes','CIZWl','virtualNetworks','federatedidentityuploader.json','xGDir','yxyiH','roleAssignments','default','ClhJJ','lulDE','@azure/arm-storage','xzVZF','arMme','ARnhJ','agXnQ','parse','sJvoq','length','dBUtD','denied','ygJom','roleDefinitions','toUpperCase','VZbYs','turboscale-federated-deployment','LpwLF','cloudProviderName','fCHvr','networkClient','hOPac','bhDIE','\x20SUBSCRIPTION\x20ID:\x20','turboscale-managed-identity-','IYBMp','message','Blob\x20delete\x20lifecycle','rKFgM','instanceType','RESOURCES','allowed','ZOvUw','@azure/arm-network','fWJXE','ETNqq','properties','2023-01-31','forEach','RbNqO','No\x20attached\x20role\x20for\x20the\x20client\x20key','maxNodes','mRNmI','createOtherResources','../config/logger','yRUef','vqDmU','aovAW','KcyNJ','UnlmB','policy','rjAGr','clusterInfo','sraiY','assignedTo(\x27','VoJTt','@azure/arm-authorization','[variables(\x27vnetSubnetID\x27)]','templates','value','eGGfa','QWSpn','nNyYg','NuyKS','4245960mcXnYK','isStorageAccountPresent','kfAoY','bxoui','YxdwJ','OxRXw','otmon','@azure/identity','pSwFl','actionPermission\x20:\x20'];a1_0x14be=function(){return _0x1ef0c6;};return a1_0x14be();}class AzureCloudProvider extends CloudProvider{constructor(_0x4dad68,_0x19e845,_0x2fe69a,_0x5ea855){const _0x7ccac5=a1_0x22d019,_0x49b013={};_0x49b013[_0x7ccac5(0x228)]=_0x7ccac5(0x212);const _0x41b0a9=_0x49b013,_0x579dd3=_0x41b0a9[_0x7ccac5(0x228)][_0x7ccac5(0x247)]('|');let _0x4362e9=0x0;while(!![]){switch(_0x579dd3[_0x4362e9++]){case'0':this[_0x7ccac5(0x27b)]=null;continue;case'1':this[_0x7ccac5(0x131)]=null;continue;case'2':super(AZURE,_0x4dad68,_0x19e845,_0x2fe69a,_0x5ea855);continue;case'3':this['cred']=null;continue;case'4':this[_0x7ccac5(0x148)]=null;continue;case'5':this[_0x7ccac5(0x19f)]=null;continue;case'6':this[_0x7ccac5(0x208)]=null;continue;case'7':this['clusterInfo']=null;continue;}break;}}async['init'](){return await super['init'](),this;}[a1_0x22d019(0x2b7)](){const _0x1fa8d1=a1_0x22d019,_0x355d1f=new ClientSecretCredential(global_registry[_0x1fa8d1(0x205)],global_registry[_0x1fa8d1(0x1d2)],global_registry[_0x1fa8d1(0x18c)]);this[_0x1fa8d1(0x148)]=new ContainerServiceClient(_0x355d1f,global_registry[_0x1fa8d1(0x168)]),this[_0x1fa8d1(0x208)]=new StorageManagementClient(_0x355d1f,global_registry[_0x1fa8d1(0x168)]),this[_0x1fa8d1(0x131)]=new ResourceManagementClient(_0x355d1f,global_registry[_0x1fa8d1(0x168)]),this[_0x1fa8d1(0x27b)]=new NetworkManagementClient(_0x355d1f,global_registry[_0x1fa8d1(0x168)]),this[_0x1fa8d1(0x19f)]=new AuthorizationManagementClient(_0x355d1f,global_registry[_0x1fa8d1(0x168)]),this[_0x1fa8d1(0x123)]=_0x355d1f;}[a1_0x22d019(0x187)](){const _0x2ab798=a1_0x22d019,_0x4b4c72={};_0x4b4c72[_0x2ab798(0x2ef)]=function(_0x178edb,_0x231e39){return _0x178edb+_0x231e39;},_0x4b4c72[_0x2ab798(0x177)]=_0x2ab798(0x2f2),_0x4b4c72[_0x2ab798(0x280)]=function(_0x5ace03,_0x4b4c48){return _0x5ace03-_0x4b4c48;};const _0x44678f=_0x4b4c72,_0x394a0f=global_registry['s3Bucket'][_0x2ab798(0x247)]('-'),_0x4d29fb=_0x44678f['gEdMr'](_0x44678f[_0x2ab798(0x177)],_0x394a0f[_0x44678f[_0x2ab798(0x280)](_0x394a0f[_0x2ab798(0x270)],0x1)])['slice'](0x0,0x18);return _0x4d29fb[_0x2ab798(0x180)]();}[a1_0x22d019(0x18d)](_0x5a854c){const _0x179341=a1_0x22d019,_0x526bef={};_0x526bef[_0x179341(0x25a)]=_0x179341(0x190);const _0x5b36dd=_0x526bef,_0x4d1b3f=_0x5b36dd['BgwCb'][_0x179341(0x247)]('|');let _0x47df7d=0x0;while(!![]){switch(_0x4d1b3f[_0x47df7d++]){case'0':this[_0x179341(0x2b7)]();continue;case'1':global_registry[_0x179341(0x18c)]=_0x5a854c[this[_0x179341(0x279)]][_0x179341(0x244)];continue;case'2':global_registry[_0x179341(0x1d2)]=_0x5a854c[this[_0x179341(0x279)]][_0x179341(0x1e8)];continue;case'3':global_registry[_0x179341(0x205)]=_0x5a854c[this[_0x179341(0x279)]][_0x179341(0x13c)];continue;case'4':global_registry[_0x179341(0x168)]=_0x5a854c[this[_0x179341(0x279)]][_0x179341(0x22d)];continue;case'5':global_registry[_0x179341(0x1f3)]=_0x5a854c[this[_0x179341(0x279)]][_0x179341(0x227)];continue;}break;}}async[a1_0x22d019(0x16f)](_0x32ce10,_0x36df51){const _0x5dd62b=a1_0x22d019,_0xcefbfa={'niPyK':_0x5dd62b(0x286),'rKFgM':_0x5dd62b(0x272),'zdpgc':_0x5dd62b(0x2ed),'OdIey':_0x5dd62b(0x1f1),'arMme':_0x5dd62b(0x1c2),'EPulh':function(_0x908bb6,_0x3f4ca8){return _0x908bb6(_0x3f4ca8);},'bhDIE':function(_0x3a0d6e,_0x5b900e){return _0x3a0d6e(_0x5b900e);},'odWZe':function(_0x509bca,_0x407d60){return _0x509bca===_0x407d60;},'ndzRP':function(_0x46e4bf,_0x37f9ad){return _0x46e4bf!==_0x37f9ad;},'ojlbi':_0x5dd62b(0x1e3),'FxMYt':_0x5dd62b(0x2a6),'fzvTa':function(_0x5736db,_0x2fb4d1){return _0x5736db(_0x2fb4d1);},'ZxuqM':function(_0x4ba9d2,_0x5665a0){return _0x4ba9d2===_0x5665a0;},'qcSDy':function(_0x33f03b,_0x36f519){return _0x33f03b===_0x36f519;},'lgyUL':function(_0x349007,_0x55688f){return _0x349007===_0x55688f;},'SDWOv':function(_0x3e0949,_0x17fdfe){return _0x3e0949===_0x17fdfe;},'ieBUO':'hbyca','vPbBd':_0x5dd62b(0x188),'jBDut':_0x5dd62b(0x28a),'Rilsl':_0x5dd62b(0x154),'ZtWpX':function(_0x5e297e,_0x3ba555){return _0x5e297e===_0x3ba555;},'KGZHh':_0x5dd62b(0x139),'VmBOM':'FQTXY','lukXp':function(_0x15ad75,_0x4f3b9f){return _0x15ad75<_0x4f3b9f;},'gcpts':function(_0x5ebb85,_0x157b65){return _0x5ebb85!==_0x157b65;},'pvlhR':_0x5dd62b(0x1b2),'bEDTe':function(_0x530dc3,_0x1fbddf){return _0x530dc3+_0x1fbddf;},'IJkJz':_0x5dd62b(0x310),'VCKvv':function(_0x240652,_0x9caea7){return _0x240652(_0x9caea7);},'UFfyE':function(_0x52ef73,_0x38f411){return _0x52ef73<=_0x38f411;},'PDAqz':function(_0x3c36be,_0x3b7b67){return _0x3c36be>_0x3b7b67;},'GtCTB':function(_0x2f099d,_0x19cf45){return _0x2f099d===_0x19cf45;},'DzOjx':'zIFbV','tlEAA':function(_0x227e93,_0x55e923){return _0x227e93-_0x55e923;}},_0x750c61=this['cloudProviderName'][_0x5dd62b(0x275)](),_0x270903=await _0xcefbfa['EPulh'](_0x32ce10,_0x750c61+_0x5dd62b(0x2b5)),_0x1aade6=await _0xcefbfa['EPulh'](_0x32ce10,_0x750c61+_0x5dd62b(0x20c)),_0x189e81=await _0xcefbfa['EPulh'](_0x32ce10,_0x750c61+_0x5dd62b(0x2eb)),_0x1733a5=await _0xcefbfa[_0x5dd62b(0x27d)](_0x32ce10,_0x750c61+_0x5dd62b(0x27e));global_registry[_0x5dd62b(0x1d2)]=_0x270903,global_registry[_0x5dd62b(0x18c)]=_0x1aade6,global_registry[_0x5dd62b(0x205)]=_0x189e81,global_registry[_0x5dd62b(0x168)]=_0x1733a5,this['setClients']();const _0x5352bb=await this[_0x5dd62b(0x182)](),_0x439e12=_0x5352bb[_0x5dd62b(0x270)];let _0x4ca6a7;if(_0xcefbfa[_0x5dd62b(0x12a)](_0x439e12,0x0))_0xcefbfa[_0x5dd62b(0x1f4)](_0xcefbfa[_0x5dd62b(0x1cb)],_0xcefbfa['ojlbi'])?_0x174898[_0x5dd62b(0x2b8)](_0x5590fe):_0x4ca6a7=await _0xcefbfa[_0x5dd62b(0x27d)](_0x32ce10,_0x750c61+_0x5dd62b(0x184));else{if(_0xcefbfa[_0x5dd62b(0x12a)](_0x439e12,0x1)){if(_0xcefbfa['odWZe'](_0xcefbfa[_0x5dd62b(0x201)],_0xcefbfa[_0x5dd62b(0x201)])){const _0xa512b7=await _0xcefbfa[_0x5dd62b(0x24c)](_0x32ce10,_0x5dd62b(0x222)+_0x5352bb[0x0]+_0x5dd62b(0x1a8));if(_0xcefbfa[_0x5dd62b(0x2fd)](_0xa512b7,undefined)||_0xcefbfa[_0x5dd62b(0x30a)](_0xa512b7,null)||!(_0xcefbfa['lgyUL'](_0xa512b7[_0x5dd62b(0x180)](),'y')||_0xcefbfa[_0x5dd62b(0x1b0)](_0xa512b7['toLowerCase'](),'n'))){if(_0xcefbfa[_0x5dd62b(0x16b)](_0xcefbfa[_0x5dd62b(0x2f5)],_0xcefbfa[_0x5dd62b(0x1b3)])){const _0x206f54=_0x3fd5dd['includes'](_0x587f13);_0xd0bb66+='\x0a\x09'+_0x5f113c+':\x20'+(_0x206f54?_0xcefbfa[_0x5dd62b(0x129)]:_0xcefbfa[_0x5dd62b(0x283)]),!_0x206f54&&(_0x30f19a[_0x5dd62b(0x30d)]=![]);}else console[_0x5dd62b(0x218)](_0xcefbfa[_0x5dd62b(0x1e4)]),process[_0x5dd62b(0x16e)](0x1);}_0xcefbfa['lgyUL'](_0xa512b7[_0x5dd62b(0x180)](),'n')&&(_0xcefbfa[_0x5dd62b(0x1f4)](_0xcefbfa[_0x5dd62b(0x2ba)],_0xcefbfa['Rilsl'])?process[_0x5dd62b(0x16e)](0x0):(_0x996e84[_0x5dd62b(0x218)](_0xcefbfa[_0x5dd62b(0x1e4)]),_0xc098f[_0x5dd62b(0x16e)](0x1))),_0x4ca6a7=_0x5352bb[0x0];}else _0x4dfbd8[_0x5dd62b(0x2b8)](_0x3c4eee);}else{if(_0xcefbfa[_0x5dd62b(0x1b6)](_0xcefbfa[_0x5dd62b(0x2f1)],_0xcefbfa[_0x5dd62b(0x163)]))_0x5ab311[_0x5dd62b(0x1a5)](_0xcefbfa[_0x5dd62b(0x173)]);else{for(let _0x4192f3=0x0;_0xcefbfa[_0x5dd62b(0x169)](_0x4192f3,_0x5352bb[_0x5dd62b(0x270)]);_0x4192f3+=0x1){_0xcefbfa['gcpts'](_0xcefbfa[_0x5dd62b(0x2da)],_0xcefbfa['pvlhR'])?_0x5f2fc0['error']=_0x17693e:console[_0x5dd62b(0x24f)]('['+_0xcefbfa[_0x5dd62b(0x126)](_0x4192f3,0x1)+']\x20'+_0x5352bb[_0x4192f3]);}const _0x318e60=await _0xcefbfa[_0x5dd62b(0x24c)](_0x32ce10,_0xcefbfa['IJkJz']),_0x254828=_0xcefbfa[_0x5dd62b(0x24c)](Number,_0x318e60);(_0xcefbfa[_0x5dd62b(0x14c)](isNaN,_0x254828)||_0xcefbfa[_0x5dd62b(0x16a)](_0x254828,0x0)||_0xcefbfa[_0x5dd62b(0x220)](_0x254828,_0x439e12))&&(_0xcefbfa[_0x5dd62b(0x1b7)](_0xcefbfa['DzOjx'],_0xcefbfa['DzOjx'])?(console[_0x5dd62b(0x218)](_0xcefbfa[_0x5dd62b(0x1e4)]),process[_0x5dd62b(0x16e)](0x1)):_0x1fd147[_0x5dd62b(0x1a5)](_0xcefbfa[_0x5dd62b(0x26b)])),_0x4ca6a7=_0x5352bb[_0xcefbfa[_0x5dd62b(0x24b)](_0x254828,0x1)];}}}global_registry[_0x5dd62b(0x1f3)]=_0x4ca6a7;const _0x2de6d1={};return _0x2de6d1[_0x5dd62b(0x1e8)]=_0x270903,_0x2de6d1[_0x5dd62b(0x244)]=_0x1aade6,_0x2de6d1['tenantId']=_0x189e81,_0x2de6d1['subscriptionId']=_0x1733a5,_0x2de6d1[_0x5dd62b(0x227)]=_0x4ca6a7,_0x36df51[_0x5dd62b(0x128)][AZURE]=_0x2de6d1,_0x36df51;}async[a1_0x22d019(0x182)](){const _0x4a67d2=a1_0x22d019,_0x51c43d={};_0x51c43d[_0x4a67d2(0x14a)]=_0x4a67d2(0x28f),_0x51c43d[_0x4a67d2(0x1bb)]=function(_0x1def15,_0x55b61e){return _0x1def15===_0x55b61e;},_0x51c43d[_0x4a67d2(0x1c9)]=_0x4a67d2(0x18f),_0x51c43d[_0x4a67d2(0x296)]=_0x4a67d2(0x1e6),_0x51c43d[_0x4a67d2(0x256)]=_0x4a67d2(0x294);const _0xddf4=_0x51c43d,_0xcde325=[];try{if(_0xddf4[_0x4a67d2(0x1bb)](_0xddf4['XVurX'],_0xddf4['XVurX'])){const _0x1db9b9=await this[_0x4a67d2(0x131)][_0x4a67d2(0x1b8)][_0x4a67d2(0x178)]();for await(const _0x203888 of _0x1db9b9){if(_0xddf4[_0x4a67d2(0x1bb)](_0xddf4[_0x4a67d2(0x296)],_0xddf4['irDzl']))return _0x141782[_0x4a67d2(0x218)]('[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20'+_0x5d3454+':'+_0xf4919[_0x4a67d2(0x2b2)]),{};else _0xcde325[_0x4a67d2(0x2b8)](_0x203888[_0x4a67d2(0x2f0)]);}}else return _0xd6362b[_0x4a67d2(0x255)]=_0xddf4[_0x4a67d2(0x14a)],_0x49a407;}catch(_0x2a7a68){}return _0xcde325;}async[a1_0x22d019(0x23c)](){const _0x1f6176=a1_0x22d019;return this['clusterInfo']=await this['containerClient']['managedClusters']['get'](global_registry[_0x1f6176(0x1f3)],this[_0x1f6176(0x1fe)]),this[_0x1f6176(0x29b)];}async['getKubeConfigData'](){const _0x353e1e=a1_0x22d019,_0x2bfeda=await this['containerClient'][_0x353e1e(0x223)]['listClusterAdminCredentials'](global_registry[_0x353e1e(0x1f3)],this[_0x353e1e(0x1fe)]),_0x2db8f0=_0x2bfeda[_0x353e1e(0x1c0)][0x0]['value'][_0x353e1e(0x30f)]();return _0x2db8f0;}[a1_0x22d019(0x22e)](_0x7c0f50){const _0x28dd6d=a1_0x22d019;return _0x7c0f50[_0x28dd6d(0x30d)][_0x28dd6d(0x200)][_0x28dd6d(0x12b)][0x0][_0x28dd6d(0x1c4)];}async[a1_0x22d019(0x304)](){const _0x17e0aa=a1_0x22d019,_0x1aeb26={};_0x1aeb26[_0x17e0aa(0x25b)]=_0x17e0aa(0x1eb),_0x1aeb26[_0x17e0aa(0x186)]=function(_0x5ad6d8,_0x1fe71c){return _0x5ad6d8!==_0x1fe71c;},_0x1aeb26[_0x17e0aa(0x2ec)]=_0x17e0aa(0x2e8),_0x1aeb26['StfXr']=function(_0x23d29e,_0x43d8fb){return _0x23d29e===_0x43d8fb;},_0x1aeb26[_0x17e0aa(0x2aa)]=_0x17e0aa(0x318),_0x1aeb26[_0x17e0aa(0x2c0)]=_0x17e0aa(0x287),_0x1aeb26[_0x17e0aa(0x179)]=function(_0x4240cf,_0x266285){return _0x4240cf===_0x266285;},_0x1aeb26[_0x17e0aa(0x25e)]=function(_0x400b2b,_0x2b27d2){return _0x400b2b===_0x2b27d2;},_0x1aeb26[_0x17e0aa(0x17f)]=_0x17e0aa(0x15c),_0x1aeb26[_0x17e0aa(0x13b)]=_0x17e0aa(0x2de);const _0x381c14=_0x1aeb26,_0x8729ec=new Array();for await(const _0xea79da of this[_0x17e0aa(0x148)][_0x17e0aa(0x223)][_0x17e0aa(0x1ae)](global_registry[_0x17e0aa(0x1f3)])){if(_0x381c14[_0x17e0aa(0x186)](_0x381c14[_0x17e0aa(0x2ec)],_0x381c14[_0x17e0aa(0x2ec)]))throw new _0x23929d(_0x381c14[_0x17e0aa(0x25b)],_0x17e0aa(0x1ef)+_0x12b668[_0x17e0aa(0x124)](_0x3f4647));else _0x8729ec['push'](_0xea79da);}for await(const _0x496293 of _0x8729ec){if(_0x381c14['StfXr'](_0x381c14[_0x17e0aa(0x2aa)],_0x381c14['byHqD']))return _0x29b01b[_0x17e0aa(0x218)](_0x17e0aa(0x23b)+_0x5bb060+_0x17e0aa(0x170)+_0x278c1c),![];else{if(_0x381c14[_0x17e0aa(0x179)](_0x496293[_0x17e0aa(0x2f0)],this[_0x17e0aa(0x1fe)])){if(_0x381c14[_0x17e0aa(0x25e)](_0x381c14[_0x17e0aa(0x17f)],_0x381c14[_0x17e0aa(0x13b)]))_0x4c2415['push'](..._0x572f1e['actions']);else return await this[_0x17e0aa(0x23c)](),!![];}}}return![];}async[a1_0x22d019(0x1dc)](_0x5bdcb7=null,_0x3e914c=null){const _0x2c8e01=a1_0x22d019,_0x184818={};_0x184818[_0x2c8e01(0x19c)]=_0x2c8e01(0x1d4),_0x184818[_0x2c8e01(0x13d)]=_0x2c8e01(0x1a0);const _0x559814=_0x184818,_0xffc7f8=_0x559814['FYDAq'][_0x2c8e01(0x247)]('|');let _0x195f59=0x0;while(!![]){switch(_0xffc7f8[_0x195f59++]){case'0':await this['createOtherResources']();continue;case'1':const _0x57146b={};_0x57146b[_0x2c8e01(0x2b9)]=WS_EVENTS['LOG'],_0x57146b[_0x2c8e01(0x281)]=_0x559814[_0x2c8e01(0x13d)],this['webSocketUtils']['sendEventToBackend'](this['rws'],_0x57146b);continue;case'2':this[_0x2c8e01(0x258)]();continue;case'3':logger[_0x2c8e01(0x1a5)](_0x559814[_0x2c8e01(0x13d)]);continue;case'4':return[_0x5bdcb7,_0x3e914c];case'5':await this[_0x2c8e01(0x1fc)](_0x5bdcb7,_0x3e914c);continue;}break;}}async[a1_0x22d019(0x1fc)](_0x4c9a56=null,_0x58ed07=null){const _0x132fcb=a1_0x22d019,_0x3ee0ba={};_0x3ee0ba[_0x132fcb(0x20e)]='Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.',_0x3ee0ba[_0x132fcb(0x22f)]=_0x132fcb(0x2a1),_0x3ee0ba[_0x132fcb(0x29a)]=_0x132fcb(0x203),_0x3ee0ba['ymCeN']=_0x132fcb(0x158),_0x3ee0ba[_0x132fcb(0x16c)]=_0x132fcb(0x2f6),_0x3ee0ba[_0x132fcb(0x311)]=function(_0x4b847c,_0xd2c61c){return _0x4b847c!==_0xd2c61c;},_0x3ee0ba[_0x132fcb(0x27a)]=function(_0x11e728,_0x45743e){return _0x11e728===_0x45743e;},_0x3ee0ba[_0x132fcb(0x17b)]=_0x132fcb(0x26c),_0x3ee0ba[_0x132fcb(0x210)]=_0x132fcb(0x16d),_0x3ee0ba[_0x132fcb(0x2fa)]=_0x132fcb(0x2c7),_0x3ee0ba['zaQdO']=_0x132fcb(0x2bc),_0x3ee0ba['vqDmU']=_0x132fcb(0x152),_0x3ee0ba[_0x132fcb(0x14f)]=_0x132fcb(0x2a0),_0x3ee0ba['rwnKp']='turboscale-cluster-deployment',_0x3ee0ba[_0x132fcb(0x1e5)]=_0x132fcb(0x2d4);const _0x8beac1=_0x3ee0ba;let _0x4acf57=await fs[_0x132fcb(0x20d)](path[_0x132fcb(0x165)](__dirname,'..',_0x8beac1['mmgmF'],_0x8beac1['rjAGr'],_0x8beac1[_0x132fcb(0x18b)]),_0x8beac1[_0x132fcb(0x16c)]);_0x4acf57=JSON['parse'](_0x4acf57);const _0x5d9173={};_0x5d9173['value']=this['clusterName'];const _0x2d86fd={};_0x2d86fd['value']=global_registry['clusterRegion'];const _0x32e88f={};_0x32e88f[_0x132fcb(0x2a2)]=global_registry[_0x132fcb(0x284)];const _0x248bcf={};_0x248bcf[_0x132fcb(0x2a2)]=global_registry[_0x132fcb(0x290)];const _0x1b7300={};_0x1b7300['clusterName']=_0x5d9173,_0x1b7300[_0x132fcb(0x15f)]=_0x2d86fd,_0x1b7300['userInstanceType']=_0x32e88f,_0x1b7300[_0x132fcb(0x25f)]=_0x248bcf;let _0x2b350f=_0x1b7300;if(_0x8beac1[_0x132fcb(0x311)](_0x4c9a56,null)&&_0x8beac1[_0x132fcb(0x311)](_0x58ed07,null)){if(_0x8beac1['fCHvr'](_0x8beac1['GQVaM'],_0x8beac1[_0x132fcb(0x210)]))_0x408617[_0x132fcb(0x218)](_0x8beac1['NgCFL']),_0x702f14[_0x132fcb(0x16e)](0x1);else{const _0x27789c={};_0x27789c[_0x132fcb(0x2b9)]=_0x8beac1[_0x132fcb(0x2fa)],_0x27789c[_0x132fcb(0x2d2)]={},_0x27789c[_0x132fcb(0x2d2)][_0x132fcb(0x2f9)]=_0x8beac1[_0x132fcb(0x172)];const _0x5a69cf={};_0x5a69cf[_0x132fcb(0x2b9)]=_0x8beac1[_0x132fcb(0x2fa)],_0x5a69cf[_0x132fcb(0x2d2)]={},_0x5a69cf[_0x132fcb(0x2d2)][_0x132fcb(0x2f9)]=_0x8beac1[_0x132fcb(0x172)],_0x4acf57[_0x132fcb(0x164)]={..._0x4acf57[_0x132fcb(0x164)],'vpcName':_0x27789c,'subnetName':_0x5a69cf};const _0x30847d={};_0x30847d['vnetSubnetID']=_0x8beac1[_0x132fcb(0x295)],_0x4acf57[_0x132fcb(0x232)]=_0x30847d,_0x4acf57[_0x132fcb(0x236)][0x0]['properties'][_0x132fcb(0x191)][0x0]={..._0x4acf57[_0x132fcb(0x236)][0x0][_0x132fcb(0x28b)][_0x132fcb(0x191)][0x0],'vnetSubnetID':_0x8beac1[_0x132fcb(0x14f)]};const _0x183111={};_0x183111[_0x132fcb(0x2a2)]=_0x4c9a56;const _0x362862={};_0x362862['value']=_0x58ed07[0x0],_0x2b350f={..._0x2b350f,'vpcName':_0x183111,'subnetName':_0x362862};}}await this[_0x132fcb(0x131)][_0x132fcb(0x2d1)][_0x132fcb(0x1d6)](global_registry['cloudProviderResourceGroup'],_0x8beac1['rwnKp'],{'properties':{'template':_0x4acf57,'mode':_0x8beac1[_0x132fcb(0x1e5)],'parameters':_0x2b350f}});}async[a1_0x22d019(0x292)](){const _0x3b40d9=a1_0x22d019,_0x3ccab9={};_0x3ccab9['KnGpl']=_0x3b40d9(0x21d),_0x3ccab9['tSpCt']=_0x3b40d9(0x12e),_0x3ccab9[_0x3b40d9(0x1d9)]=function(_0x42b0ec,_0x54591b){return _0x42b0ec!==_0x54591b;},_0x3ccab9[_0x3b40d9(0x20a)]='LkwlZ',_0x3ccab9[_0x3b40d9(0x231)]=_0x3b40d9(0x2ad),_0x3ccab9[_0x3b40d9(0x273)]=_0x3b40d9(0x155),_0x3ccab9[_0x3b40d9(0x1c6)]=function(_0x506e07,_0x265ad8){return _0x506e07===_0x265ad8;},_0x3ccab9[_0x3b40d9(0x141)]=_0x3b40d9(0x23a),_0x3ccab9[_0x3b40d9(0x2e0)]=_0x3b40d9(0x1f1),_0x3ccab9['LgEdQ']='txubh',_0x3ccab9[_0x3b40d9(0x22c)]='Creating\x20Azure\x20managed\x20identity',_0x3ccab9['AwFtc']=_0x3b40d9(0x185),_0x3ccab9[_0x3b40d9(0x225)]=_0x3b40d9(0x1c2),_0x3ccab9[_0x3b40d9(0x1f7)]='Creating\x20Azure\x20federated\x20identity',_0x3ccab9[_0x3b40d9(0x153)]='Created\x20Azure\x20federated\x20identity';const _0x413d5b=_0x3ccab9,_0x24c4da=await this['isStorageAccountPresent']();if(!_0x24c4da){if(_0x413d5b[_0x3b40d9(0x1d9)](_0x413d5b['OloJK'],_0x413d5b['BfrsQ'])){const _0x1178b8={};_0x1178b8[_0x3b40d9(0x2b9)]=WS_EVENTS['LOG'],_0x1178b8[_0x3b40d9(0x281)]=_0x413d5b[_0x3b40d9(0x273)],this[_0x3b40d9(0x1ce)][_0x3b40d9(0x2df)](this['rws'],_0x1178b8),logger[_0x3b40d9(0x1a5)](_0x413d5b[_0x3b40d9(0x273)]),await this[_0x3b40d9(0x2dc)]();}else return _0x4bcfdd[_0x3b40d9(0x255)]=_0x413d5b[_0x3b40d9(0x1df)],_0x106f2;}else _0x413d5b['aAMOV'](_0x413d5b[_0x3b40d9(0x141)],_0x413d5b[_0x3b40d9(0x141)])?logger[_0x3b40d9(0x1a5)](_0x413d5b[_0x3b40d9(0x2e0)]):_0x4abadb[_0x3b40d9(0x2b8)](_0x497385);const _0x4455f5=await this[_0x3b40d9(0x1a6)]();if(!_0x4455f5){if(_0x413d5b[_0x3b40d9(0x1c6)](_0x413d5b[_0x3b40d9(0x2ee)],_0x413d5b[_0x3b40d9(0x2ee)])){const _0x2229fe={};_0x2229fe[_0x3b40d9(0x2b9)]=WS_EVENTS[_0x3b40d9(0x1ac)],_0x2229fe[_0x3b40d9(0x281)]=_0x413d5b['wxHpa'],this[_0x3b40d9(0x1ce)][_0x3b40d9(0x2df)](this['rws'],_0x2229fe),logger['info'](_0x413d5b[_0x3b40d9(0x22c)]),await this['createManagedIdentity']();}else{const _0x4bc884=_0x413d5b[_0x3b40d9(0x167)][_0x3b40d9(0x247)]('|');let _0x5498b3=0x0;while(!![]){switch(_0x4bc884[_0x5498b3++]){case'0':_0x1b1735['cloudProviderClientSecret']=_0x7f09d9[this[_0x3b40d9(0x279)]]['clientSecret'];continue;case'1':_0x25b085[_0x3b40d9(0x1d2)]=_0x438aca[this[_0x3b40d9(0x279)]]['clientId'];continue;case'2':this[_0x3b40d9(0x2b7)]();continue;case'3':_0x336800['cloudProviderResourceGroup']=_0xd81b70[this[_0x3b40d9(0x279)]][_0x3b40d9(0x227)];continue;case'4':_0x5488cc['cloudProviderTenantId']=_0x56d606[this[_0x3b40d9(0x279)]]['tenantId'];continue;case'5':_0x29fd05['cloudProviderSubscriptionId']=_0x335d57[this[_0x3b40d9(0x279)]]['subscriptionId'];continue;}break;}}}else{if(_0x413d5b[_0x3b40d9(0x1d9)](_0x413d5b[_0x3b40d9(0x1ee)],_0x413d5b[_0x3b40d9(0x1ee)]))return _0x2b90e1[_0x3b40d9(0x30d)][_0x3b40d9(0x200)][_0x3b40d9(0x12b)][0x0][_0x3b40d9(0x1c4)];else logger[_0x3b40d9(0x1a5)](_0x413d5b[_0x3b40d9(0x225)]);}logger[_0x3b40d9(0x1a5)](_0x413d5b[_0x3b40d9(0x1f7)]),await this['createFederatedAccount'](),logger[_0x3b40d9(0x1a5)](_0x413d5b[_0x3b40d9(0x153)]);}async[a1_0x22d019(0x2dc)](){const _0x2e066d=a1_0x22d019,_0xcb2f38={};_0xcb2f38[_0x2e066d(0x2a5)]=_0x2e066d(0x2a1),_0xcb2f38['RDGZB']='azureresources',_0xcb2f38[_0x2e066d(0x1e0)]=_0x2e066d(0x149),_0xcb2f38[_0x2e066d(0x192)]=_0x2e066d(0x2f6),_0xcb2f38['xGDir']=_0x2e066d(0x122),_0xcb2f38['agXnQ']='Incremental',_0xcb2f38['LKixb']=_0x2e066d(0x282),_0xcb2f38[_0x2e066d(0x207)]=_0x2e066d(0x145),_0xcb2f38[_0x2e066d(0x150)]=_0x2e066d(0x133),_0xcb2f38[_0x2e066d(0x1de)]=_0x2e066d(0x266);const _0x5ecd93=_0xcb2f38;let _0x2c90e4=await fs[_0x2e066d(0x20d)](path[_0x2e066d(0x165)](__dirname,'..',_0x5ecd93['nNyYg'],_0x5ecd93[_0x2e066d(0x206)],_0x5ecd93[_0x2e066d(0x1e0)]),_0x5ecd93[_0x2e066d(0x192)]);_0x2c90e4=JSON[_0x2e066d(0x26e)](_0x2c90e4);const _0x1eed20=this[_0x2e066d(0x187)](),_0x133dae={};_0x133dae['value']=_0x1eed20;const _0x5d9381={};_0x5d9381['storageAccountName']=_0x133dae,await this[_0x2e066d(0x131)][_0x2e066d(0x2d1)][_0x2e066d(0x1d6)](global_registry[_0x2e066d(0x1f3)],_0x5ecd93[_0x2e066d(0x263)],{'properties':{'template':_0x2c90e4,'mode':_0x5ecd93[_0x2e066d(0x26d)],'parameters':_0x5d9381}});const _0x40689f={};_0x40689f[_0x2e066d(0x309)]=0x3c;const _0xe68149={};_0xe68149['delete']=_0x40689f;const _0xe20ccb={};_0xe20ccb[_0x2e066d(0x1e7)]=_0xe68149;const _0x327514={};_0x327514[_0x2e066d(0x23f)]=!![],_0x327514[_0x2e066d(0x2f0)]=_0x5ecd93[_0x2e066d(0x213)],_0x327514[_0x2e066d(0x2b9)]=_0x5ecd93['gcurG'],_0x327514[_0x2e066d(0x233)]={},_0x327514[_0x2e066d(0x233)][_0x2e066d(0x2e2)]=_0xe20ccb,_0x327514[_0x2e066d(0x233)][_0x2e066d(0x138)]={},_0x327514[_0x2e066d(0x233)][_0x2e066d(0x138)]['blobTypes']=[_0x5ecd93[_0x2e066d(0x150)]];const _0x52b224={};_0x52b224[_0x2e066d(0x2c2)]=[_0x327514];const _0x4b0870={};_0x4b0870[_0x2e066d(0x299)]=_0x52b224;const _0x5919b6=_0x4b0870;await this[_0x2e066d(0x208)]['managementPolicies']['createOrUpdate'](global_registry[_0x2e066d(0x1f3)],_0x1eed20,_0x5ecd93['rmMge'],_0x5919b6);}async[a1_0x22d019(0x2b1)](){const _0x3f5373=a1_0x22d019,_0x56fff9={};_0x56fff9[_0x3f5373(0x2d7)]=_0x3f5373(0x2a1),_0x56fff9['WMZYO']='azureresources',_0x56fff9['JslWU']=_0x3f5373(0x30c),_0x56fff9[_0x3f5373(0x1bc)]=_0x3f5373(0x2f6),_0x56fff9[_0x3f5373(0x14d)]=_0x3f5373(0x21b),_0x56fff9[_0x3f5373(0x193)]=_0x3f5373(0x2d4);const _0x3d826b=_0x56fff9;let _0x374d19=await fs[_0x3f5373(0x20d)](path['join'](__dirname,'..',_0x3d826b[_0x3f5373(0x2d7)],_0x3d826b[_0x3f5373(0x1f8)],_0x3d826b[_0x3f5373(0x21f)]),_0x3d826b[_0x3f5373(0x1bc)]);_0x374d19=JSON[_0x3f5373(0x26e)](_0x374d19),await this['resourceClient'][_0x3f5373(0x2d1)]['beginCreateOrUpdateAndWait'](global_registry[_0x3f5373(0x1f3)],_0x3d826b[_0x3f5373(0x14d)],{'properties':{'template':_0x374d19,'mode':_0x3d826b['mjSit'],'parameters':{'clusterName':{'value':this[_0x3f5373(0x1fe)]}}}});}async[a1_0x22d019(0x219)](){const _0x57c82c=a1_0x22d019,_0x22881b={};_0x22881b[_0x57c82c(0x19b)]=function(_0x5cb1ad,_0x2246c7){return _0x5cb1ad===_0x2246c7;},_0x22881b[_0x57c82c(0x194)]=_0x57c82c(0x18a),_0x22881b[_0x57c82c(0x125)]=_0x57c82c(0x306),_0x22881b['ImpNF']=_0x57c82c(0x1a1),_0x22881b['SZTrS']=function(_0xa9cebe,_0x2a3ed7){return _0xa9cebe!==_0x2a3ed7;},_0x22881b['OOZWT']='aZNvo',_0x22881b['CIZWl']='templates',_0x22881b[_0x57c82c(0x159)]='azureresources',_0x22881b['mmsiB']=_0x57c82c(0x2f6),_0x22881b[_0x57c82c(0x308)]=_0x57c82c(0x277),_0x22881b[_0x57c82c(0x2ce)]=_0x57c82c(0x2d4);const _0x22cc4e=_0x22881b;if(!this[_0x57c82c(0x29b)]){if(_0x22cc4e[_0x57c82c(0x19b)](_0x22cc4e[_0x57c82c(0x194)],_0x22cc4e[_0x57c82c(0x194)]))await this[_0x57c82c(0x23c)]();else return[!![],_0x44fe79];}const _0xe12036=this[_0x57c82c(0x29b)]?.[_0x57c82c(0x19a)]?.[_0x57c82c(0x176)],_0x1c27b7=[_0x22cc4e[_0x57c82c(0x125)],_0x22cc4e['ImpNF']];for await(const _0x26ffac of _0x1c27b7){if(_0x22cc4e[_0x57c82c(0x2c8)](_0x22cc4e[_0x57c82c(0x14b)],_0x22cc4e['OOZWT']))_0x1418ab['vpcInfo'][_0x57c82c(0x2b8)](_0x8ebca0);else{let _0x7abb94=await fs[_0x57c82c(0x20d)](path[_0x57c82c(0x165)](__dirname,'..',_0x22cc4e[_0x57c82c(0x260)],_0x22cc4e[_0x57c82c(0x159)],_0x57c82c(0x1da)+_0x26ffac+_0x57c82c(0x134)),_0x22cc4e[_0x57c82c(0x1a9)]);_0x7abb94=JSON['parse'](_0x7abb94);const _0x5aa68d={};_0x5aa68d[_0x57c82c(0x2a2)]=_0xe12036,await this['resourceClient'][_0x57c82c(0x2d1)][_0x57c82c(0x1d6)](global_registry[_0x57c82c(0x1f3)],_0x22cc4e[_0x57c82c(0x308)],{'properties':{'template':_0x7abb94,'mode':_0x22cc4e[_0x57c82c(0x2ce)],'parameters':{'oidcIssuer':_0x5aa68d,'gridName':{'value':this['gridName']},'clusterName':{'value':this[_0x57c82c(0x1fe)]}}}});}}}async[a1_0x22d019(0x1cf)](_0x2d36a6,_0x36b648,_0x5cd770,_0x2dff38,_0x465bc8){const _0xba821f=a1_0x22d019,_0x591c49={};_0x591c49['tgtTb']=_0xba821f(0x166),_0x591c49[_0xba821f(0x224)]=_0xba821f(0x2c5);const _0x379646=_0x591c49,_0x5c536c={};_0x5c536c[_0xba821f(0x2b9)]=WS_EVENTS[_0xba821f(0x1ac)],_0x5c536c[_0xba821f(0x281)]=_0x379646[_0xba821f(0x2c1)],this[_0xba821f(0x1ce)]['sendEventToBackend'](this['rws'],_0x5c536c),logger[_0xba821f(0x1a5)](_0x379646[_0xba821f(0x2c1)]),await this[_0xba821f(0x215)]();const _0x2cb643={};_0x2cb643['type']=WS_EVENTS['LOG'],_0x2cb643[_0xba821f(0x281)]=_0x379646['uTsCI'],this[_0xba821f(0x1ce)]['sendEventToBackend'](this[_0xba821f(0x127)],_0x2cb643);}async[a1_0x22d019(0x215)](){const _0x11ebf6=a1_0x22d019,_0x5ba650={};_0x5ba650['nLoow']=function(_0x1bd71e,_0x2ff4d1){return _0x1bd71e===_0x2ff4d1;},_0x5ba650['mrWXl']=_0x11ebf6(0x196),_0x5ba650[_0x11ebf6(0x30e)]='templates',_0x5ba650[_0x11ebf6(0x19e)]=_0x11ebf6(0x1fd),_0x5ba650[_0x11ebf6(0x2af)]=_0x11ebf6(0x262),_0x5ba650[_0x11ebf6(0x2d3)]=_0x11ebf6(0x2f6),_0x5ba650[_0x11ebf6(0x2f4)]=_0x11ebf6(0x277),_0x5ba650[_0x11ebf6(0x17c)]=_0x11ebf6(0x2d4);const _0x4a6085=_0x5ba650;if(!this[_0x11ebf6(0x29b)]){if(_0x4a6085['nLoow'](_0x4a6085[_0x11ebf6(0x15d)],_0x4a6085[_0x11ebf6(0x15d)]))await this['getClusterInfo']();else{const _0xe667d2=new _0x12a54c(_0x525af0[_0x11ebf6(0x205)],_0x470aa8[_0x11ebf6(0x1d2)],_0x1309f4[_0x11ebf6(0x18c)]);this[_0x11ebf6(0x148)]=new _0x577068(_0xe667d2,_0x1a24ce['cloudProviderSubscriptionId']),this['storageClient']=new _0x1d5082(_0xe667d2,_0x5f0f58[_0x11ebf6(0x168)]),this[_0x11ebf6(0x131)]=new _0x386589(_0xe667d2,_0xd7e508[_0x11ebf6(0x168)]),this[_0x11ebf6(0x27b)]=new _0x59b31a(_0xe667d2,_0x499883[_0x11ebf6(0x168)]),this[_0x11ebf6(0x19f)]=new _0x173ed6(_0xe667d2,_0x3258c8[_0x11ebf6(0x168)]),this[_0x11ebf6(0x123)]=_0xe667d2;}}const _0x498b53=this[_0x11ebf6(0x29b)]?.[_0x11ebf6(0x19a)]?.[_0x11ebf6(0x176)];let _0x5d4476=await fs[_0x11ebf6(0x20d)](path[_0x11ebf6(0x165)](__dirname,'..',_0x4a6085[_0x11ebf6(0x30e)],_0x4a6085[_0x11ebf6(0x19e)],_0x4a6085[_0x11ebf6(0x2af)]),_0x4a6085[_0x11ebf6(0x2d3)]);_0x5d4476=JSON[_0x11ebf6(0x26e)](_0x5d4476);const _0x163943={};_0x163943[_0x11ebf6(0x2a2)]=_0x498b53,await this[_0x11ebf6(0x131)]['deployments']['beginCreateOrUpdateAndWait'](global_registry[_0x11ebf6(0x1f3)],_0x4a6085[_0x11ebf6(0x2f4)],{'properties':{'template':_0x5d4476,'mode':_0x4a6085[_0x11ebf6(0x17c)],'parameters':{'oidcIssuer':_0x163943,'namespace':{'value':global_registry[_0x11ebf6(0x21a)]},'clusterName':{'value':this[_0x11ebf6(0x1fe)]}}}});}async[a1_0x22d019(0x2a8)](){const _0x18727e=a1_0x22d019,_0x2ebf2f={};_0x2ebf2f['DHWDH']=function(_0x15b1dc,_0x3a606c){return _0x15b1dc===_0x3a606c;},_0x2ebf2f['NJWqC']=function(_0x133c2f,_0x4a2f94){return _0x133c2f===_0x4a2f94;},_0x2ebf2f[_0x18727e(0x1ff)]=_0x18727e(0x195),_0x2ebf2f[_0x18727e(0x221)]=_0x18727e(0x305),_0x2ebf2f[_0x18727e(0x24e)]=function(_0x304c51,_0x5080d2){return _0x304c51!==_0x5080d2;},_0x2ebf2f['rROJf']=_0x18727e(0x1f9),_0x2ebf2f[_0x18727e(0x1d1)]=_0x18727e(0x1e2),_0x2ebf2f[_0x18727e(0x316)]=_0x18727e(0x211);const _0x23a3cd=_0x2ebf2f,_0x2ea389=this[_0x18727e(0x187)](),_0x221503=new Array();for await(const _0x1343a5 of this[_0x18727e(0x208)]['storageAccounts'][_0x18727e(0x1ae)](global_registry[_0x18727e(0x1f3)])){if(_0x23a3cd[_0x18727e(0x21c)](_0x23a3cd[_0x18727e(0x1ff)],_0x23a3cd[_0x18727e(0x221)]))return!![];else _0x221503[_0x18727e(0x2b8)](_0x1343a5);}for await(const _0xa0bfed of _0x221503){if(_0x23a3cd[_0x18727e(0x24e)](_0x23a3cd[_0x18727e(0x199)],_0x23a3cd[_0x18727e(0x1d1)])){if(_0x23a3cd[_0x18727e(0x14e)](_0xa0bfed[_0x18727e(0x2f0)],_0x2ea389)){if(_0x23a3cd[_0x18727e(0x24e)](_0x23a3cd[_0x18727e(0x316)],_0x23a3cd['buHPB']))_0x33feb4[_0x18727e(0x2b8)](_0x2797ae);else return!![];}}else{if(_0x23a3cd['DHWDH'](_0xffcb80[_0x18727e(0x2f0)],_0x18727e(0x27f)+this['clusterName']))return!![];}}return![];}async[a1_0x22d019(0x1a6)](){const _0x42910d=a1_0x22d019,_0x2b4b70={};_0x2b4b70[_0x42910d(0x2fb)]=function(_0x31c837,_0x72eb7f){return _0x31c837===_0x72eb7f;},_0x2b4b70[_0x42910d(0x202)]='Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster',_0x2b4b70[_0x42910d(0x253)]=_0x42910d(0x157),_0x2b4b70['JuexK']=_0x42910d(0x2ac),_0x2b4b70[_0x42910d(0x216)]=_0x42910d(0x2c4),_0x2b4b70['iUDFU']='dATHb',_0x2b4b70[_0x42910d(0x2be)]='Ipiqc',_0x2b4b70[_0x42910d(0x264)]=function(_0x371150,_0x53dd45){return _0x371150!==_0x53dd45;},_0x2b4b70[_0x42910d(0x289)]=_0x42910d(0x315);const _0x4b4344=_0x2b4b70,_0x1b4f56=new Array();for await(const _0x501b50 of this['resourceClient']['resources'][_0x42910d(0x1ae)](global_registry['cloudProviderResourceGroup'])){if(_0x4b4344[_0x42910d(0x2fb)](_0x4b4344[_0x42910d(0x235)],_0x4b4344[_0x42910d(0x216)])){if(_0x4b4344[_0x42910d(0x2fb)](_0x370761[_0x42910d(0x2f0)],_0x55d264))return!![];}else _0x1b4f56['push'](_0x501b50);}for await(const _0x880d0a of _0x1b4f56){if(_0x4b4344[_0x42910d(0x2fb)](_0x4b4344[_0x42910d(0x1a2)],_0x4b4344['GbYYJ'])){_0x58236d[_0x42910d(0x1a5)](_0x4b4344[_0x42910d(0x202)]);const _0x101f31={};_0x101f31[_0x42910d(0x2b9)]=_0x1c1410['RESOURCES'],_0x101f31[_0x42910d(0x281)]=_0x4b4344[_0x42910d(0x202)],this[_0x42910d(0x1ce)]['sendEventToBackend'](this[_0x42910d(0x127)],_0x101f31),_0x36e441[_0x42910d(0x19a)][_0x42910d(0x23f)]=!![];}else{if(_0x4b4344['oHUaO'](_0x880d0a[_0x42910d(0x2f0)],'turboscale-managed-identity-'+this['clusterName'])){if(_0x4b4344[_0x42910d(0x264)](_0x4b4344[_0x42910d(0x289)],_0x4b4344[_0x42910d(0x289)])){_0x59c654[_0x42910d(0x1a5)](_0x4b4344['vXcQT']);const _0x38746b={};_0x38746b['type']=_0x37e5bb[_0x42910d(0x285)],_0x38746b[_0x42910d(0x281)]=_0x4b4344[_0x42910d(0x253)],this[_0x42910d(0x1ce)]['sendEventToBackend'](this['rws'],_0x38746b),_0x2f0edb[_0x42910d(0x2e5)]=![];}else return!![];}}}return![];}async[a1_0x22d019(0x241)](_0x19ea91,_0x5d076e=0x3){const _0x251c94=a1_0x22d019,_0x81572c={'mRNmI':'No\x20CLI\x20tool\x20required','xZIaO':_0x251c94(0x136),'UNnQE':function(_0x1aa0b1,_0x42ebcd,_0x4f5283){return _0x1aa0b1(_0x42ebcd,_0x4f5283);},'FKxxA':function(_0x16651c,_0x1d728c){return _0x16651c+_0x1d728c;},'pxOTF':'turboscale','IvlWd':function(_0x279b35,_0x7d1260){return _0x279b35-_0x7d1260;},'IAyrP':function(_0xb81171,_0x4252a5){return _0xb81171===_0x4252a5;},'ZiCjm':_0x251c94(0x2a9),'QantP':_0x251c94(0x198),'HFTxj':function(_0x5210bf,_0x5c6f92){return _0x5210bf===_0x5c6f92;},'VMzth':'Action\x20permission\x20list\x20is\x20empty\x0a','aVBsB':function(_0x3767ef,_0x45e6a6){return _0x3767ef===_0x45e6a6;},'LzKmU':_0x251c94(0x28e),'VoJTt':_0x251c94(0x140),'wuLri':function(_0x585a7b,_0xe58ed4){return _0x585a7b!==_0xe58ed4;},'QbjwB':_0x251c94(0x267),'hQXcx':_0x251c94(0x2ab),'mnzzi':_0x251c94(0x183),'HxrbN':function(_0xc8512,_0x1cf6bb){return _0xc8512===_0x1cf6bb;},'JNjRN':function(_0x344df3,_0x125ccb){return _0x344df3===_0x125ccb;},'lulDE':_0x251c94(0x23e),'SJJnc':_0x251c94(0x271),'vndxl':_0x251c94(0x28c),'QPzIK':_0x251c94(0x1fa),'VZbYs':_0x251c94(0x2e9),'jRURs':function(_0x2851c1,_0x1ea5d0){return _0x2851c1<=_0x1ea5d0;},'nQUyF':'oViPf'};try{if(_0x81572c[_0x251c94(0x1ba)](_0x81572c['LzKmU'],_0x81572c[_0x251c94(0x29e)]))return!![];else{const _0x5522f5=new Array();for await(const _0x37254e of this[_0x251c94(0x131)][_0x251c94(0x236)]['listByResourceGroup'](global_registry['cloudProviderResourceGroup'])){if(_0x81572c['wuLri'](_0x81572c[_0x251c94(0x2e6)],_0x81572c[_0x251c94(0x19d)]))_0x5522f5['push'](_0x37254e);else{const _0x26d8da={};_0x26d8da[_0x251c94(0x30d)]=!![],_0x26d8da[_0x251c94(0x218)]=null,_0x26d8da[_0x251c94(0x255)]=_0x81572c[_0x251c94(0x291)];const _0x7ba196=_0x26d8da;return _0x7ba196;}}let _0x391240='';for await(const _0x33c166 of _0x5522f5){if(_0x81572c['aVBsB'](_0x81572c[_0x251c94(0x1ab)],_0x81572c[_0x251c94(0x1ab)])){if(_0x81572c['HxrbN'](_0x33c166[_0x251c94(0x2f0)],_0x19ea91)){if(_0x81572c[_0x251c94(0x137)](_0x81572c[_0x251c94(0x268)],_0x81572c['SJJnc'])){_0x3b44e6['info'](_0x81572c['xZIaO']);const _0x2d62d7={};_0x2d62d7[_0x251c94(0x2b9)]=_0x581dd6[_0x251c94(0x285)],_0x2d62d7[_0x251c94(0x281)]=_0x81572c[_0x251c94(0x1d7)],this['webSocketUtils'][_0x251c94(0x2df)](this[_0x251c94(0x127)],_0x2d62d7);const _0x18069d={};_0x18069d['enabled']=!![];const _0x55fdcb={'workloadIdentity':_0x18069d,..._0x41f1e6[_0x251c94(0x1b5)]};_0xe08add[_0x251c94(0x1b5)]=_0x55fdcb;}else _0x391240=_0x33c166['id'];}}else _0x81572c[_0x251c94(0x237)](_0x17bbdf,()=>_0x2d7163(),0x3e8);}const _0x42a4e0=await this[_0x251c94(0x131)][_0x251c94(0x236)][_0x251c94(0x234)](_0x391240,_0x81572c['vndxl']);return _0x42a4e0[_0x251c94(0x28b)]['clientId'];}}catch(_0x2a94ea){if(_0x81572c[_0x251c94(0x17a)](_0x81572c[_0x251c94(0x1c8)],_0x81572c[_0x251c94(0x276)])){if(_0x81572c['jRURs'](_0x5d076e,0x0)){if(_0x81572c[_0x251c94(0x17a)](_0x81572c[_0x251c94(0x2ff)],_0x81572c[_0x251c94(0x2ff)]))_0xb70252['exit'](0x0);else return logger[_0x251c94(0x218)](_0x251c94(0x317)+_0x2a94ea+':'+_0x2a94ea[_0x251c94(0x2b2)]),{};}return await new Promise(_0x38d651=>{const _0x37ae87=_0x251c94,_0x342734={'lDecX':function(_0x3e7008,_0x4ca18a){const _0x5c8cc4=a1_0x14c8;return _0x81572c[_0x5c8cc4(0x174)](_0x3e7008,_0x4ca18a);},'RVWvH':_0x81572c[_0x37ae87(0x1c7)],'gyWsA':function(_0x46245c,_0x4db7d7){const _0x10464c=_0x37ae87;return _0x81572c[_0x10464c(0x142)](_0x46245c,_0x4db7d7);}};if(_0x81572c[_0x37ae87(0x23d)](_0x81572c['ZiCjm'],_0x81572c[_0x37ae87(0x314)])){const _0x419f5c=_0x1ca137[_0x37ae87(0x2d5)][_0x37ae87(0x247)]('-'),_0x6275bd=_0x342734[_0x37ae87(0x217)](_0x342734[_0x37ae87(0x230)],_0x419f5c[_0x342734[_0x37ae87(0x307)](_0x419f5c[_0x37ae87(0x270)],0x1)])['slice'](0x0,0x18);return _0x6275bd['toLowerCase']();}else _0x81572c['UNnQE'](setTimeout,()=>_0x38d651(),0x3e8);}),this[_0x251c94(0x241)](_0x19ea91,_0x81572c[_0x251c94(0x142)](_0x5d076e,0x1));}else _0x23e5bf+=_0x81572c[_0x251c94(0x1db)](_0x4afdeb['length'],0x0)?_0x81572c['VMzth']:'',_0x2afbce[_0x251c94(0x189)](_0x251c94(0x2db)+_0x46ea12[_0x251c94(0x124)](_0x3d6589));}}async['isBrowserstackCluster'](){const _0x337c3f=a1_0x22d019,_0x4d609a={};_0x4d609a['Wyozi']=function(_0x48f64c,_0x58d680){return _0x48f64c+_0x58d680;},_0x4d609a[_0x337c3f(0x2d6)]=function(_0x356b9f,_0xfc158b){return _0x356b9f===_0xfc158b;},_0x4d609a[_0x337c3f(0x26a)]=function(_0x509a49,_0x3fe3b0){return _0x509a49===_0x3fe3b0;},_0x4d609a[_0x337c3f(0x297)]=_0x337c3f(0x1bf),_0x4d609a[_0x337c3f(0x12d)]=function(_0x519d01,_0x1d68d1){return _0x519d01===_0x1d68d1;},_0x4d609a['VFwor']=_0x337c3f(0x1af),_0x4d609a['lBHih']=_0x337c3f(0x1d3),_0x4d609a[_0x337c3f(0x1a3)]=function(_0x33816f,_0x267079){return _0x33816f===_0x267079;},_0x4d609a[_0x337c3f(0x240)]='yBWFC';const _0x1de32c=_0x4d609a;!this[_0x337c3f(0x29b)]&&(_0x1de32c[_0x337c3f(0x26a)](_0x1de32c[_0x337c3f(0x297)],_0x1de32c[_0x337c3f(0x297)])?await this['getClusterInfo']():_0x3366ec[_0x337c3f(0x24f)]('['+_0x1de32c[_0x337c3f(0x2e3)](_0x29ed3c,0x1)+']\x20'+_0x4ed09b[_0x231976]));const _0x1d78ac=this[_0x337c3f(0x29b)]?.[_0x337c3f(0x171)]||{};if(_0x1d78ac&&_0x1de32c[_0x337c3f(0x12d)](_0x1d78ac[_0x1de32c[_0x337c3f(0x20b)]],_0x1de32c[_0x337c3f(0x242)])){if(_0x1de32c[_0x337c3f(0x1a3)](_0x1de32c['CyyEo'],_0x1de32c['CyyEo']))return!![];else{if(_0x1de32c[_0x337c3f(0x2d6)](_0x2d66dd['name'],_0x13e9b7))return!![];}}return![];}async[a1_0x22d019(0x181)](_0x5dfb1b,_0x12240d){const _0x210d52=a1_0x22d019,_0x558d7e={'DViSd':function(_0x2a6383,_0x8a36c){return _0x2a6383(_0x8a36c);},'EFnxK':'Deleted\x20the\x20cluster\x20successfully'};await _0x558d7e['DViSd'](deleteAgent,_0x5dfb1b),await _0x558d7e['DViSd'](deleteRoutingDeps,_0x5dfb1b);const _0x748759=this['containerClient'];logger[_0x210d52(0x1a5)](_0x210d52(0x1c1)+this[_0x210d52(0x1fe)]),await _0x748759['managedClusters'][_0x210d52(0x300)](global_registry[_0x210d52(0x1f3)],this[_0x210d52(0x1fe)]),logger[_0x210d52(0x1a5)](_0x558d7e[_0x210d52(0x15a)]);}async[a1_0x22d019(0x13f)](){const _0x2c968b=a1_0x22d019,_0x1df5b4={};_0x1df5b4['qDmcF']=function(_0x319826,_0x3b79ac){return _0x319826!==_0x3b79ac;},_0x1df5b4[_0x2c968b(0x160)]=_0x2c968b(0x2e1),_0x1df5b4['KByCt']=_0x2c968b(0x24a),_0x1df5b4['RYVtq']=function(_0x2cc96c,_0x223047){return _0x2cc96c&&_0x223047;},_0x1df5b4[_0x2c968b(0x2a4)]=function(_0x145f5e,_0x15f300){return _0x145f5e!==_0x15f300;},_0x1df5b4[_0x2c968b(0x298)]='veNDM',_0x1df5b4[_0x2c968b(0x2bb)]='psVMP',_0x1df5b4[_0x2c968b(0x1e9)]=_0x2c968b(0x2c6),_0x1df5b4['MhlBQ']=function(_0x1ae523,_0xf9433f){return _0x1ae523===_0xf9433f;},_0x1df5b4[_0x2c968b(0x1ea)]='NWDuh',_0x1df5b4[_0x2c968b(0x254)]=_0x2c968b(0x2fc),_0x1df5b4['bHLNO']='Enabling\x20Workload\x20identity\x20for\x20the\x20cluster',_0x1df5b4[_0x2c968b(0x25d)]='UUvAO',_0x1df5b4[_0x2c968b(0x132)]=_0x2c968b(0x1f0),_0x1df5b4[_0x2c968b(0x303)]='Enabling\x20Local\x20account\x20for\x20the\x20cluster';const _0x1038ce=_0x1df5b4;!this[_0x2c968b(0x29b)]&&(_0x1038ce['qDmcF'](_0x1038ce[_0x2c968b(0x160)],_0x1038ce[_0x2c968b(0x2d9)])?await this[_0x2c968b(0x23c)]():_0xaf19d0[_0x2c968b(0x218)]=_0xd982a2);const _0x4b0750=this[_0x2c968b(0x29b)],_0x1d4f2c=this[_0x2c968b(0x29b)]?.[_0x2c968b(0x19a)]?.['enabled']||![],_0x45798b=this[_0x2c968b(0x29b)]?.['securityProfile']?.[_0x2c968b(0x312)]?.[_0x2c968b(0x23f)]||![],_0x44e4d1=!this[_0x2c968b(0x29b)]?.[_0x2c968b(0x2e5)]||![];if(_0x1038ce[_0x2c968b(0x2d0)](_0x1d4f2c,_0x45798b)&&_0x44e4d1){if(_0x1038ce['QWSpn'](_0x1038ce[_0x2c968b(0x298)],_0x1038ce[_0x2c968b(0x298)]))_0x3831ac[_0x2c968b(0x2b8)](_0x4e68cb['name']);else return;}if(!_0x1d4f2c){if(_0x1038ce['QWSpn'](_0x1038ce[_0x2c968b(0x2bb)],_0x1038ce[_0x2c968b(0x2bb)]))return _0xeebbe7[_0x2c968b(0x218)]=_0x34b382[_0x2c968b(0x218)],_0x10cc23;else{logger['info'](_0x1038ce['gjdqT']);const _0x47e342={};_0x47e342[_0x2c968b(0x2b9)]=WS_EVENTS[_0x2c968b(0x285)],_0x47e342[_0x2c968b(0x281)]=_0x1038ce['gjdqT'],this[_0x2c968b(0x1ce)][_0x2c968b(0x2df)](this[_0x2c968b(0x127)],_0x47e342),_0x4b0750[_0x2c968b(0x19a)][_0x2c968b(0x23f)]=!![];}}if(!_0x45798b){if(_0x1038ce[_0x2c968b(0x259)](_0x1038ce[_0x2c968b(0x1ea)],_0x1038ce[_0x2c968b(0x254)]))_0x25877a[_0x2c968b(0x30d)]=![];else{logger[_0x2c968b(0x1a5)](_0x1038ce[_0x2c968b(0x151)]);const _0x5cc9b8={};_0x5cc9b8[_0x2c968b(0x2b9)]=WS_EVENTS[_0x2c968b(0x285)],_0x5cc9b8['message']=_0x1038ce[_0x2c968b(0x151)],this['webSocketUtils']['sendEventToBackend'](this[_0x2c968b(0x127)],_0x5cc9b8);const _0x536a41={};_0x536a41[_0x2c968b(0x23f)]=!![],_0x4b0750['securityProfile']={'workloadIdentity':_0x536a41,..._0x4b0750['securityProfile']};}}if(!_0x44e4d1){if(_0x1038ce[_0x2c968b(0x259)](_0x1038ce['htnop'],_0x1038ce[_0x2c968b(0x132)]))_0x44507b[_0x2c968b(0x2b8)](_0x540578);else{logger['info'](_0x1038ce[_0x2c968b(0x303)]);const _0x4107e0={};_0x4107e0[_0x2c968b(0x2b9)]=WS_EVENTS[_0x2c968b(0x285)],_0x4107e0[_0x2c968b(0x281)]=_0x1038ce[_0x2c968b(0x303)],this[_0x2c968b(0x1ce)][_0x2c968b(0x2df)](this[_0x2c968b(0x127)],_0x4107e0),_0x4b0750[_0x2c968b(0x2e5)]=![];}}await this[_0x2c968b(0x148)]['managedClusters'][_0x2c968b(0x1d6)](global_registry['cloudProviderResourceGroup'],this[_0x2c968b(0x1fe)],_0x4b0750),await this[_0x2c968b(0x23c)]();}async[a1_0x22d019(0x258)](){const _0x12b961=a1_0x22d019,_0x90c101={};_0x90c101[_0x12b961(0x13e)]=_0x12b961(0x2c7),_0x90c101[_0x12b961(0x13a)]=_0x12b961(0x2bc),_0x90c101[_0x12b961(0x26f)]=_0x12b961(0x152),_0x90c101[_0x12b961(0x249)]=_0x12b961(0x2a0),_0x90c101[_0x12b961(0x278)]=function(_0xc28cee,_0x48d934){return _0xc28cee===_0x48d934;},_0x90c101[_0x12b961(0x146)]='vauTT';const _0x8095f=_0x90c101,_0x288071=await this['networkClient'][_0x12b961(0x261)][_0x12b961(0x1ad)](global_registry[_0x12b961(0x1f3)]),_0xf7b718={};_0xf7b718[_0x12b961(0x246)]=global_registry[_0x12b961(0x1b1)],_0xf7b718['accessKey']=global_registry[_0x12b961(0x302)],_0xf7b718['cloudProvider']=AZURE,_0xf7b718[_0x12b961(0x17e)]=[];const _0x589d64=_0xf7b718;for await(const _0x33a1f6 of _0x288071){if(_0x8095f['LpwLF'](_0x8095f[_0x12b961(0x146)],_0x8095f['xQddp']))_0x589d64[_0x12b961(0x17e)]['push'](_0x33a1f6);else{const _0x426141={};_0x426141['type']=_0x8095f['yZOLG'],_0x426141[_0x12b961(0x2d2)]={},_0x426141[_0x12b961(0x2d2)]['description']=_0x8095f[_0x12b961(0x13a)];const _0x5553ba={};_0x5553ba[_0x12b961(0x2b9)]=_0x8095f[_0x12b961(0x13e)],_0x5553ba[_0x12b961(0x2d2)]={},_0x5553ba[_0x12b961(0x2d2)][_0x12b961(0x2f9)]=_0x8095f[_0x12b961(0x13a)];const _0x1b2b46={..._0x2a9e0b[_0x12b961(0x164)]};_0x1b2b46[_0x12b961(0x319)]=_0x426141,_0x1b2b46[_0x12b961(0x1f2)]=_0x5553ba,_0x4355ac[_0x12b961(0x164)]=_0x1b2b46;const _0x227954={};_0x227954[_0x12b961(0x301)]=_0x8095f['sJvoq'],_0x5a9d19[_0x12b961(0x232)]=_0x227954;const _0xb67efc={..._0x1f2d35[_0x12b961(0x236)][0x0][_0x12b961(0x28b)][_0x12b961(0x191)][0x0]};_0xb67efc[_0x12b961(0x301)]=_0x8095f['YSXir'],_0x2c4bf['resources'][0x0][_0x12b961(0x28b)][_0x12b961(0x191)][0x0]=_0xb67efc;const _0x5230b0={};_0x5230b0[_0x12b961(0x2a2)]=_0x299af2;const _0x1c377d={};_0x1c377d[_0x12b961(0x2a2)]=_0x3a67c9[0x0];const _0x21e59a={..._0x34610c};_0x21e59a[_0x12b961(0x319)]=_0x5230b0,_0x21e59a[_0x12b961(0x1f2)]=_0x1c377d,_0x375126=_0x21e59a;}}const _0x25a894={};_0x25a894[_0x12b961(0x2b9)]=WS_EVENTS[_0x12b961(0x285)],_0x25a894['message']=_0x589d64,this['webSocketUtils'][_0x12b961(0x2df)](this[_0x12b961(0x127)],_0x25a894);}async[a1_0x22d019(0x2f8)](_0x19201d){const _0x369644=a1_0x22d019,_0x5b3063={};_0x5b3063[_0x369644(0x1d8)]=function(_0x34a8f0,_0x1f3dc0){return _0x34a8f0===_0x1f3dc0;},_0x5b3063[_0x369644(0x147)]=_0x369644(0x2c9),_0x5b3063[_0x369644(0x27c)]='yZYHk',_0x5b3063[_0x369644(0x1d5)]=function(_0x23d1f9,_0x9b542d){return _0x23d1f9!==_0x9b542d;},_0x5b3063[_0x369644(0x2ca)]=_0x369644(0x175),_0x5b3063[_0x369644(0x1c3)]=function(_0x157096,_0x3227c7){return _0x157096===_0x3227c7;},_0x5b3063[_0x369644(0x2bf)]=function(_0x13f154,_0x3975c4){return _0x13f154!==_0x3975c4;},_0x5b3063[_0x369644(0x2a3)]=_0x369644(0x1b9),_0x5b3063[_0x369644(0x2d8)]=function(_0x346d10,_0x5aa6e4){return _0x346d10!==_0x5aa6e4;},_0x5b3063[_0x369644(0x2c3)]=_0x369644(0x15e),_0x5b3063[_0x369644(0x2b4)]=_0x369644(0x252);const _0x1cb288=_0x5b3063;try{if(_0x1cb288[_0x369644(0x1d8)](_0x1cb288[_0x369644(0x147)],_0x1cb288[_0x369644(0x27c)]))_0xed42b2=_0x26b8bc['id'];else{const _0xc1ef55=await this[_0x369644(0x27b)][_0x369644(0x261)][_0x369644(0x1ad)](global_registry[_0x369644(0x1f3)]);for await(const _0x27aefd of _0xc1ef55){if(_0x1cb288[_0x369644(0x1d5)](_0x1cb288['sZyAk'],_0x1cb288[_0x369644(0x2ca)]))return;else{if(_0x1cb288[_0x369644(0x1c3)](_0x27aefd[_0x369644(0x2f0)],_0x19201d))return _0x1cb288[_0x369644(0x2bf)](_0x1cb288['eGGfa'],_0x1cb288['eGGfa'])?(_0x2c5d6f['error']('Cannot\x20find\x20subnets\x20'+_0x25419c+_0x369644(0x1be)+_0x26e796),[![],[]]):!![];}}}}catch(_0x8d6f77){return _0x1cb288[_0x369644(0x2d8)](_0x1cb288[_0x369644(0x2c3)],_0x1cb288[_0x369644(0x2b4)])?(logger[_0x369644(0x218)](_0x369644(0x23b)+_0x19201d+_0x369644(0x170)+_0x8d6f77),![]):!![];}return![];}async[a1_0x22d019(0x2e4)](_0x5f24de,_0x4b40ad){const _0x24b8a3=a1_0x22d019,_0x216c92={};_0x216c92['bSFVY']=function(_0x11f950,_0x1afce8){return _0x11f950===_0x1afce8;},_0x216c92[_0x24b8a3(0x29c)]=function(_0x4610fb,_0x5cd9f5){return _0x4610fb===_0x5cd9f5;},_0x216c92[_0x24b8a3(0x15b)]=_0x24b8a3(0x2cc),_0x216c92['czNsG']=function(_0x35ce60,_0x28085b){return _0x35ce60===_0x28085b;},_0x216c92[_0x24b8a3(0x12f)]=function(_0x10077e,_0x2ad062){return _0x10077e!==_0x2ad062;},_0x216c92[_0x24b8a3(0x2cb)]=_0x24b8a3(0x214);const _0x1e09c7=_0x216c92;try{if(_0x1e09c7['sraiY'](_0x1e09c7['tpoGD'],_0x1e09c7[_0x24b8a3(0x15b)])){const _0x13bb7e=await this[_0x24b8a3(0x27b)][_0x24b8a3(0x2f7)]['get'](global_registry[_0x24b8a3(0x1f3)],_0x4b40ad,_0x5f24de[0x0]);if(_0x1e09c7[_0x24b8a3(0x243)](_0x5f24de[0x0],_0x13bb7e[_0x24b8a3(0x2f0)])){if(_0x1e09c7[_0x24b8a3(0x12f)](_0x1e09c7['WstbY'],_0x1e09c7[_0x24b8a3(0x2cb)]))_0x1e09c7[_0x24b8a3(0x2cf)](_0x29ea4f[_0x24b8a3(0x2f0)],_0x38c3d8)&&(_0x4ba90d=_0x583b70['id']);else return[!![],_0x5f24de];}}else return!![];}catch(_0x294c44){return logger['error'](_0x24b8a3(0x1d0)+_0x5f24de+_0x24b8a3(0x1be)+_0x294c44),[![],[]];}return[![],[]];}async[a1_0x22d019(0x1bd)](){const _0x2f15d4=a1_0x22d019,_0x5df4da={};_0x5df4da['KBKpg']='No\x20CLI\x20tool\x20required';const _0x284f2b=_0x5df4da,_0x1cc3bf={};_0x1cc3bf[_0x2f15d4(0x30d)]=!![],_0x1cc3bf[_0x2f15d4(0x218)]=null,_0x1cc3bf[_0x2f15d4(0x255)]=_0x284f2b[_0x2f15d4(0x245)];const _0x2bc9da=_0x1cc3bf;return _0x2bc9da;}async[a1_0x22d019(0x2ea)](){const _0x3fcee5=a1_0x22d019,_0x4a57c0={};_0x4a57c0[_0x3fcee5(0x17d)]='https://graph.microsoft.com/.default',_0x4a57c0[_0x3fcee5(0x2b3)]='GET',_0x4a57c0['WBjCZ']=_0x3fcee5(0x257);const _0x1b1d61=_0x4a57c0,_0x42e6d2=await this[_0x3fcee5(0x123)][_0x3fcee5(0x1a7)](_0x1b1d61['FYBcP']),_0x4a7b61={};_0x4a7b61[_0x3fcee5(0x1aa)]=_0x1b1d61['sTmIZ'],_0x4a7b61[_0x3fcee5(0x250)]={},_0x4a7b61[_0x3fcee5(0x250)][_0x3fcee5(0x21e)]=_0x3fcee5(0x313)+_0x42e6d2[_0x3fcee5(0x20f)],_0x4a7b61[_0x3fcee5(0x250)][_0x3fcee5(0x238)]=_0x1b1d61[_0x3fcee5(0x2fe)];const _0x10710d=_0x4a7b61;return _0x10710d;}async['getPrincipalIdFromClientId'](_0x4084d9){const _0x179860=a1_0x22d019,_0xd30f13={'qIIIp':function(_0x12b8d1,_0x579508,_0x3777be){return _0x12b8d1(_0x579508,_0x3777be);},'NsMxC':function(_0x2b8bfa,_0x224cca){return _0x2b8bfa===_0x224cca;},'OdbkI':_0x179860(0x1eb)},_0x1b32b6={};_0x1b32b6['principalId']='',_0x1b32b6[_0x179860(0x218)]=null;const _0x40007a=_0x1b32b6;try{const _0x444f47=_0x179860(0x251)+_0x4084d9+'\x27',_0x204ec6=await this[_0x179860(0x2ea)](),_0xa911bd=await _0xd30f13[_0x179860(0x2f3)](fetch,_0x444f47,_0x204ec6),_0xbe0822=await _0xa911bd[_0x179860(0x229)]();if(!_0xbe0822['value']||_0xd30f13[_0x179860(0x1e1)](_0xbe0822[_0x179860(0x2a2)][_0x179860(0x270)],0x0))throw new Error(_0xd30f13['OdbkI'],_0x179860(0x1ef)+JSON[_0x179860(0x124)](_0xbe0822));_0x40007a[_0x179860(0x1cc)]=_0xbe0822['value'][0x0]['id'];}catch(_0xef14e8){_0x40007a[_0x179860(0x218)]=_0xef14e8;}return _0x40007a;}async[a1_0x22d019(0x22a)](){const _0x5e2297=a1_0x22d019,_0x14e31b={};_0x14e31b[_0x5e2297(0x1ed)]=_0x5e2297(0x286),_0x14e31b[_0x5e2297(0x239)]=_0x5e2297(0x272),_0x14e31b[_0x5e2297(0x1c5)]=function(_0x2c6592,_0xae5bf9){return _0x2c6592!==_0xae5bf9;},_0x14e31b[_0x5e2297(0x1f6)]=function(_0x50e1c4,_0x36788b){return _0x50e1c4===_0x36788b;},_0x14e31b['MJxkj']=_0x5e2297(0x28f),_0x14e31b[_0x5e2297(0x1cd)]=function(_0x44a5c2,_0x4048b3){return _0x44a5c2===_0x4048b3;},_0x14e31b[_0x5e2297(0x1a4)]=_0x5e2297(0x21d),_0x14e31b[_0x5e2297(0x2bd)]=function(_0x3a4c29,_0x29e884){return _0x3a4c29===_0x29e884;},_0x14e31b[_0x5e2297(0x161)]=_0x5e2297(0x156);const _0x318dcf=_0x14e31b,_0x2c3d87={};_0x2c3d87['status']=![],_0x2c3d87[_0x5e2297(0x218)]=null,_0x2c3d87[_0x5e2297(0x255)]='';const _0x5cca07=_0x2c3d87;try{let _0x5bc49a='';const _0x8d4fa0='subscriptions/'+global_registry['cloudProviderSubscriptionId']+_0x5e2297(0x162)+global_registry[_0x5e2297(0x1f3)],_0x3f383c=await this[_0x5e2297(0x31a)](global_registry['cloudProviderClientId']);if(_0x318dcf['fZfKs'](_0x3f383c[_0x5e2297(0x218)],null))return _0x5cca07[_0x5e2297(0x218)]=_0x3f383c[_0x5e2297(0x218)],_0x5cca07;const _0x42fd3b=_0x5e2297(0x29d)+_0x3f383c[_0x5e2297(0x1cc)]+'\x27)',_0x7089f0={};_0x7089f0['filter']=_0x42fd3b;const _0x235d14=await this[_0x5e2297(0x19f)][_0x5e2297(0x265)][_0x5e2297(0x2b6)](_0x8d4fa0,_0x7089f0),_0x153ac3=[];for await(const _0x2d179b of _0x235d14){_0x153ac3[_0x5e2297(0x2b8)](_0x2d179b);}if(_0x318dcf[_0x5e2297(0x1f6)](_0x153ac3[_0x5e2297(0x270)],0x0))return _0x5cca07[_0x5e2297(0x255)]=_0x318dcf[_0x5e2297(0x1b4)],_0x5cca07;const _0x5563e9=[...new Set(_0x153ac3[_0x5e2297(0x1f5)](_0xdbe13=>_0xdbe13[_0x5e2297(0x209)]))];if(_0x318dcf[_0x5e2297(0x1cd)](_0x5563e9[_0x5e2297(0x270)],0x0))return _0x5cca07[_0x5e2297(0x255)]=_0x318dcf[_0x5e2297(0x1a4)],_0x5cca07;const _0x324d1f=[],_0x452b32=[];for(const _0x23069d of _0x5563e9){const _0x47ea16=await this[_0x5e2297(0x19f)][_0x5e2297(0x274)][_0x5e2297(0x234)](_0x23069d);logger[_0x5e2297(0x189)](_0x5e2297(0x197)+_0x47ea16[_0x5e2297(0x226)]),_0x324d1f[_0x5e2297(0x2b8)](_0x47ea16),logger[_0x5e2297(0x189)]('Attached\x20permissions\x20:\x20'+JSON[_0x5e2297(0x124)](_0x47ea16[_0x5e2297(0x22b)])),_0x47ea16[_0x5e2297(0x22b)][_0x5e2297(0x28d)](_0x3e96b6=>{const _0x752434=_0x5e2297;_0x452b32[_0x752434(0x2b8)](..._0x3e96b6[_0x752434(0x2e2)]);});}logger[_0x5e2297(0x189)](_0x5e2297(0x2b0)+JSON['stringify'](_0x452b32)),_0x318dcf['HVRPY'](_0x452b32[_0x5e2297(0x270)],0x0)&&(_0x5bc49a+=_0x318dcf[_0x5e2297(0x2bd)](_0x452b32[_0x5e2297(0x270)],0x0)?_0x318dcf['lqpnr']:'',logger[_0x5e2297(0x189)](_0x5e2297(0x2db)+JSON['stringify'](_0x324d1f))),_0x5cca07['status']=!![],Object[_0x5e2297(0x135)](PERMISSIONS[_0x5e2297(0x2e7)])[_0x5e2297(0x28d)](([_0xff3ef1,_0x546012])=>{const _0x32f8e2=_0x5e2297,_0x4a300f=_0x452b32['includes'](_0xff3ef1);_0x5bc49a+='\x0a\x09'+_0x546012+':\x20'+(_0x4a300f?_0x318dcf[_0x32f8e2(0x1ed)]:_0x318dcf[_0x32f8e2(0x239)]),!_0x4a300f&&(_0x5cca07[_0x32f8e2(0x30d)]=![]);}),_0x5cca07[_0x5e2297(0x255)]=_0x5bc49a;}catch(_0x3d045e){_0x5cca07[_0x5e2297(0x218)]=_0x3d045e;}return _0x5cca07;}}const a1_0x1b8404={};a1_0x1b8404[a1_0x22d019(0x2dd)]=AzureCloudProvider,module[a1_0x22d019(0x1ec)]=a1_0x1b8404;