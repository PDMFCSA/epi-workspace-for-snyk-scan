const a1_0x3fb9a2=a1_0x4fcb;(function(_0x1a76ec,_0x5039fe){const _0x2057a7=a1_0x4fcb,_0x8524a1=_0x1a76ec();while(!![]){try{const _0xa0dd2=-parseInt(_0x2057a7(0xe2))/0x1+-parseInt(_0x2057a7(0x262))/0x2*(parseInt(_0x2057a7(0x2a5))/0x3)+parseInt(_0x2057a7(0x133))/0x4+parseInt(_0x2057a7(0x228))/0x5+parseInt(_0x2057a7(0x275))/0x6*(parseInt(_0x2057a7(0xf9))/0x7)+parseInt(_0x2057a7(0x203))/0x8*(-parseInt(_0x2057a7(0x259))/0x9)+parseInt(_0x2057a7(0x188))/0xa*(-parseInt(_0x2057a7(0x101))/0xb);if(_0xa0dd2===_0x5039fe)break;else _0x8524a1['push'](_0x8524a1['shift']());}catch(_0x4e2c57){_0x8524a1['push'](_0x8524a1['shift']());}}}(a1_0x3978,0x4a749));const fs=require('fs'),path=require(a1_0x3fb9a2(0xfb)),yaml=require(a1_0x3fb9a2(0x15a)),{logger}=require('../config/logger'),{CloudProvider}=require(a1_0x3fb9a2(0x190)),{deleteRoutingDeps,deleteAgent}=require(a1_0x3fb9a2(0x2a4)),{AZURE,WS_EVENTS,global_registry}=require('../config/constants'),PERMISSIONS=require(a1_0x3fb9a2(0x176)),{ClientSecretCredential}=require(a1_0x3fb9a2(0x210)),{NetworkManagementClient}=require('@azure/arm-network'),{StorageManagementClient}=require(a1_0x3fb9a2(0x120)),{AuthorizationManagementClient}=require('@azure/arm-authorization'),{ResourceManagementClient}=require('@azure/arm-resources'),{ContainerServiceClient}=require(a1_0x3fb9a2(0x1e1)),{runCommand}=require('../utils/utilityMethods');function a1_0x3978(){const _0x149ead=['tags','ylPdV','allowed','DNzkE','lVazt','anVtF','OqRwO','uxfdE','lzcRQ','taFtg','HPCxE','RscAL','fLidP','sPwVC','Action\x20permission\x20list\x20is\x20empty\x0a','iKpVf','jjwfb','blseP','XfbGu','deployments','SzKBP','ACTION','EoSUh','json','YkVEq','accessKey','denied','dlYaV','[variables(\x27vnetSubnetID\x27)]','uhShF','JeTxJ','bstackAccesskey','nwltu','qpAcI','COcvR','3|1|0|2|4|5','sendAzureInfoToHST','UumEp','gqIVi','ingress','scqkR','OBkCl','oidcIssuerProfile','voMya','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','gRDNm','EWhoi','IfVjF','CVgXf','variables','CGwYP','hostname','properties','FFjPq','.json','XwLiL','clPWP','tLcdz','@azure/arm-containerservice','TPlDZ','disableLocalAccounts','wOjbI','FzmmV','vxEdM','enabled','agentPoolProfiles','sendEventToBackend','7|1|4|5|0|2|3|6','QdqDc','ecaNv','isSubnetsValid','ebwej','myzZq','message','DPvWY','fplQX','subnetName','blockBlob','authClient','filters','exit','qxnct','list','PqnLJ','https://graph.microsoft.com/.default','OpsOB','GUdjC','KsjQf','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','type','templates','Cannot\x20find\x20subnets\x20','8VtqimO','resourceGroups','NCPOn','gJlFB','AlIuF','jHhPx','wOAXQ','oyGJg','cloudProviderName','VyXCc','JhTTv','subscriptionId','permissions','@azure/identity','AGEfW','TzpqW','XnWbj','LCcAJ','ComuV','WQDBT','roleDefinitionId','toLowerCase','turboscale-managed-identity-','Found\x20only\x20one\x20resource\x20group:\x20','Creating\x20Azure\x20federated\x20identity','username','iQCbx','AlNEG','LCYOG','dRYjo','\x20SUBSCRIPTION\x20ID:\x20','ddbLt','Creating\x20Azure\x20storage\x20account','bILOf','fkUpq','SWnyL','pDiRw','1530105cmKFVw','clientSecret','csHfa','checkAccess','saxHy','ozYxI','STGNC','ukpeO','string','Enabling\x20Local\x20account\x20for\x20the\x20cluster','webSocketUtils','cZAKv','vdfUG','Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity','Authorization','push','bkQOY','QmKIC','RogYU','application/json','kGvwo','Hbula','roleAssignments','headers','iKwTo','GET','UUuJb','pnuAS','xPvOj','iqdmi','Cannot\x20find\x20VPC\x20','error','clusterAutoUpgrade','readFileAsync','OLTNK','loadBalancer','BVDXY','status','actions','BHQON','uMDwK','xyxKN','pMUAp','turboscale-storageaccount-deployment','getById','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','blobTypes','isCliToolInstalled','stringify','746649eCmKbo','LOG','updateClusterAlreadyPresent','GNJeu','HsuxP','RESOURCES','RIOMi','bHRCi','dpZlB','677478RsxAzH','FzHXR','storageAccountName','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','YoSBz','userInstanceType','turboscale-federated-deployment','lRyuM','QYXWM','clientId','hYjDe','setupNewCluster','getStorageAccountName','containerClient','maxNodes','ncQmL','getResourceGroups','ZofAP','isStorageAccountPresent','12114wQrsbu','JcOFL','QCLEg','nLori','dMWKd','ZYekq','akdQN','data','Created\x20Azure\x20federated\x20identity','tenantId','crsFK','length','cloudProviderResourceGroup','ZfyvA','mJQyZ','prIoe','WzBCC','ovSSO','QcnRF','joTqv','mMfCp','VtSyf','KYOol','iWgWZ','aWwxb','vpcName','dsbbK','nrUKx','clusterInfo','djWYU','Incremental','lMlwt','includes','rws','pTiCO','stack','UlYJC','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','OOXhJ','federatedidentityuploader.json','KDExs','IHswg','getResourceClientId','getUserInput','isBrowserstackCluster','IZNWV','4|3|5|2|1|0','../utils/gridComponents','3ehfPdq','uPJSP','Received\x20response\x20-\x20','parse','TBMTm','IeNMX','Lifecycle','dKwVv','\x20RESOURCE\x20GROUP:\x20','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','hKOLU','uEVin','hxDyM','managedidentity.json','uEHjI','pjvAg','WxhoF','jpTDk','Creating\x20Azure\x20managed\x20identity','clusterRegion','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','YNbVw','PHkEk','FpjNb','lozJU','turboscale-identity-deployment','BBeRo','bstackUsername','YYWQY','yznjC','resourceClient','FaTdP','init','AXCPC','Managed\x20identity\x20already\x20exists,\x20skipping','excUm','setupHubHa','vpcInfo','sFsXo','KBbvl','info','wwPWE','hmxel','DvrSe','s3Bucket','forEach','Blob\x20delete\x20lifecycle','parameters','azureresources','naEbx','role\x20name\x20attached\x20-\x20','clusterName','principalId','BwHlJ','pUjqw','zpFCZ','DNpXs','qISiL','fdZve','upDMN','/resourceGroups/','virtualNetworks','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','UTTnR','322386HbFOQl','NepRD','hub','toUpperCase','storageClient','pQMPH','hubharesources','createFederatedAccountForHubHA','WhZQW','CSkhL','Xvxiy','OSbyC','anPNB','kBqSL','getHeader','issuerURL','\x20CLIENT\x20SECRET:\x20','eXuDh','ieWaH','BpAKe','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','0|2|1|5|3|4','KECLo','945pfwYLa','resourceGroup','path','yBCVl','No\x20CLI\x20tool\x20required','cred','entries','value','22OONKjz','qqnUb','\x20CLIENT\x20ID:\x20','rules','yVdAC','nNHTo','definition','BrowserStack','pnSir','No\x20attached\x20role\x20for\x20the\x20client\x20key','exports','hubHaNameSpace','resources','QJWfa','svDcj','eValQ','akscluster.json','OYvEF','EKxOG','mGZyK','deleteCluster','isVPCPresent','tdXav','Deleting\x20the\x20cluster\x20','join','Lpstr','gQtNK','RMicv','BDIUo','ONFjX','DIPkd','@azure/arm-storage','HzEBt','gWQVY','orxqM','storageAccounts','bteif','kqGTr','metadata','FemNX','log','MkLUp','rLtpM','isClusterPresent','createOtherResources','createCluster','AAaLo','.\x20Error:\x20','cloudProviderSubscriptionId','baseBlob','1890668WfEbZD','xZECB','BiJLM','getPrincipalIdFromClientId','location','listAll','createFederatedAccount','JThvz','IUgFT','ZAjKE','uRJHs','securityProfile','Deleted\x20the\x20cluster\x20successfully','BlzaI','TXUSp','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','lgmVB','HVqws','IOjyb','clDRG','TLLgs','browserstack:managedBy','iHrmR','NPFPP','VUipI','createManagedIdentity','EXkEa','No\x20service\x20principal\x20found','ghvdC','XKeaM','debug','OZeSU','tEQUw','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','default','node','YeXYJ','createOrUpdate','zDOjI','js-yaml','tSGsT','managementPolicies','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','SoUww','toString','DAFYY','networkClient','cloudProviderClientId','false','RvuUJ','oAUkB','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','KaeDq','turboscale-cluster-deployment','beginCreateOrUpdateAndWait','Content-Type','rLHkV','APOqc','roleDefinitions','listForScope','EPANG','JMQbK','daysAfterCreationGreaterThan','ZcTSy','cloudProviderTenantId','dyPVh','XhwuF','../permissions/AZURE.json','instanceType','vnetSubnetID','actionPermission\x20:\x20','utf-8','sasTu','vXJiA','isManagedIdentityPresent','XYyHP','yXaNq','oYuFE','split','turboscale','listByResourceGroup','XdXqA','RoYFO','tacAI','managedClusters','10990zvwhoO','AzureCloudProvider','YlwmW','FACDk','description','getKubeConfigData','tXttS','HlEXX','./CloudProvider','ERTCb','setClients','MflFp','FwJgK','cgIMn','cloudProviderClientSecret','Storage\x20account\x20already\x20exists,\x20skipping','Attached\x20permissions\x20:\x20','xJanW','LnGMC','KEXIw','HoNkk','map','tuixC','name','\x20TENANT\x20ID:\x20','Xphbj','getClusterInfo','UyIpl','slice','kTUox','VnXSI'];a1_0x3978=function(){return _0x149ead;};return a1_0x3978();}class AzureCloudProvider extends CloudProvider{constructor(_0x26930f,_0x2d6143,_0x57d3b1,_0x32840d){const _0x3eb0b1=a1_0x3fb9a2,_0x3acd62={};_0x3acd62[_0x3eb0b1(0x273)]=_0x3eb0b1(0x1ea);const _0x4a61ae=_0x3acd62,_0x5ae5ed=_0x4a61ae[_0x3eb0b1(0x273)]['split']('|');let _0x22bd51=0x0;while(!![]){switch(_0x5ae5ed[_0x22bd51++]){case'0':this[_0x3eb0b1(0xe6)]=null;continue;case'1':this['cred']=null;continue;case'2':this[_0x3eb0b1(0xc0)]=null;continue;case'3':this[_0x3eb0b1(0x161)]=null;continue;case'4':this[_0x3eb0b1(0x291)]=null;continue;case'5':this[_0x3eb0b1(0x26f)]=null;continue;case'6':this[_0x3eb0b1(0x1f5)]=null;continue;case'7':super(AZURE,_0x26930f,_0x2d6143,_0x57d3b1,_0x32840d);continue;}break;}}async[a1_0x3fb9a2(0xc2)](){const _0x532345=a1_0x3fb9a2;return await super[_0x532345(0xc2)](),this;}[a1_0x3fb9a2(0x192)](){const _0x37e260=a1_0x3fb9a2,_0x1371d0=new ClientSecretCredential(global_registry[_0x37e260(0x173)],global_registry['cloudProviderClientId'],global_registry['cloudProviderClientSecret']);this['containerClient']=new ContainerServiceClient(_0x1371d0,global_registry[_0x37e260(0x131)]),this['storageClient']=new StorageManagementClient(_0x1371d0,global_registry[_0x37e260(0x131)]),this['resourceClient']=new ResourceManagementClient(_0x1371d0,global_registry[_0x37e260(0x131)]),this[_0x37e260(0x161)]=new NetworkManagementClient(_0x1371d0,global_registry[_0x37e260(0x131)]),this[_0x37e260(0x1f5)]=new AuthorizationManagementClient(_0x1371d0,global_registry['cloudProviderSubscriptionId']),this[_0x37e260(0xfe)]=_0x1371d0;}[a1_0x3fb9a2(0x26e)](){const _0x218320=a1_0x3fb9a2,_0x5379c0={};_0x5379c0['FVXpR']=function(_0x3bc91a,_0x3f45de){return _0x3bc91a+_0x3f45de;},_0x5379c0[_0x218320(0x19c)]='turboscale',_0x5379c0[_0x218320(0xe7)]=function(_0x34fe3,_0x4c5f42){return _0x34fe3-_0x4c5f42;};const _0x51e2ae=_0x5379c0,_0x57cacb=global_registry[_0x218320(0xce)]['split']('-'),_0x35bd8a=_0x51e2ae['FVXpR'](_0x51e2ae[_0x218320(0x19c)],_0x57cacb[_0x51e2ae[_0x218320(0xe7)](_0x57cacb[_0x218320(0x280)],0x1)])[_0x218320(0x1a4)](0x0,0x18);return _0x35bd8a[_0x218320(0x218)]();}['setCachedCredsInRegistry'](_0x12f13b){const _0xec221c=a1_0x3fb9a2,_0x27733a={};_0x27733a['tuixC']=_0xec221c(0xf7);const _0x5e383b=_0x27733a,_0x4057d1=_0x5e383b[_0xec221c(0x19e)][_0xec221c(0x181)]('|');let _0x19af3f=0x0;while(!![]){switch(_0x4057d1[_0x19af3f++]){case'0':global_registry[_0xec221c(0x162)]=_0x12f13b[this['cloudProviderName']]['clientId'];continue;case'1':global_registry['cloudProviderTenantId']=_0x12f13b[this[_0xec221c(0x20b)]]['tenantId'];continue;case'2':global_registry['cloudProviderClientSecret']=_0x12f13b[this[_0xec221c(0x20b)]][_0xec221c(0x229)];continue;case'3':global_registry['cloudProviderResourceGroup']=_0x12f13b[this[_0xec221c(0x20b)]][_0xec221c(0xfa)];continue;case'4':this[_0xec221c(0x192)]();continue;case'5':global_registry[_0xec221c(0x131)]=_0x12f13b[this['cloudProviderName']]['subscriptionId'];continue;}break;}}async[a1_0x3fb9a2(0x2a0)](_0x4125a4,_0x4bc7c5){const _0x1ecf7e=a1_0x3fb9a2,_0x346533={'xPvOj':'Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','YeXYJ':_0x1ecf7e(0x1ca),'IUgFT':function(_0x1d3da8,_0x4bba46){return _0x1d3da8===_0x4bba46;},'XfbGu':_0x1ecf7e(0x1d3),'kqGTr':'No\x20attached\x20role\x20for\x20the\x20client\x20key','QdqDc':function(_0x3cea35,_0x486367){return _0x3cea35(_0x486367);},'COcvR':function(_0x42967d,_0x129d0a){return _0x42967d(_0x129d0a);},'sasTu':function(_0x16c530,_0x38a76b){return _0x16c530(_0x38a76b);},'iHrmR':function(_0x566bb8,_0x4aaf63){return _0x566bb8===_0x4aaf63;},'APOqc':_0x1ecf7e(0x21f),'UqKai':'EDqNY','DPvWY':function(_0x4f29b8,_0x394baf){return _0x4f29b8(_0x394baf);},'cgIMn':'rxWfy','anPNB':function(_0x33226c,_0x1f151a){return _0x33226c===_0x1f151a;},'QJWfa':function(_0x1da8aa,_0xcabd52){return _0x1da8aa===_0xcabd52;},'pTiCO':_0x1ecf7e(0x23c),'qxnct':'Uuncx','iKwTo':_0x1ecf7e(0x142),'VFLhg':function(_0x1b9c05,_0x8b02d1){return _0x1b9c05===_0x8b02d1;},'uMDwK':_0x1ecf7e(0x28c),'IHswg':function(_0x713df7,_0x41b165){return _0x713df7!==_0x41b165;},'KECLo':'Obrpp','mGZyK':_0x1ecf7e(0x1a1),'Glgzr':function(_0x452e52,_0x51f03f){return _0x452e52<_0x51f03f;},'WzBCC':'pfNWF','yETrf':_0x1ecf7e(0x167),'YmQaV':function(_0x48a5c5,_0x127084){return _0x48a5c5+_0x127084;},'VnXSI':function(_0x42fcaf,_0x3d0fb8){return _0x42fcaf(_0x3d0fb8);},'qpAcI':'Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','SoUww':function(_0x399212,_0x339480){return _0x399212(_0x339480);},'bHRCi':function(_0x495bf9,_0x1ab79e){return _0x495bf9<=_0x1ab79e;},'WxhoF':function(_0x54a0fc,_0x34de52){return _0x54a0fc>_0x34de52;},'STGNC':_0x1ecf7e(0x121),'OLTNK':_0x1ecf7e(0xb7),'YoSBz':function(_0x1aadc7,_0x54d482){return _0x1aadc7-_0x54d482;}},_0x116500=this['cloudProviderName'][_0x1ecf7e(0xe5)](),_0x5259c3=await _0x346533[_0x1ecf7e(0x1eb)](_0x4125a4,_0x116500+_0x1ecf7e(0x103)),_0x2406bc=await _0x346533[_0x1ecf7e(0x1c9)](_0x4125a4,_0x116500+_0x1ecf7e(0xf2)),_0x387789=await _0x346533[_0x1ecf7e(0x17b)](_0x4125a4,_0x116500+_0x1ecf7e(0x1a0)),_0x35bc91=await _0x346533[_0x1ecf7e(0x1c9)](_0x4125a4,_0x116500+_0x1ecf7e(0x221));global_registry[_0x1ecf7e(0x162)]=_0x5259c3,global_registry[_0x1ecf7e(0x196)]=_0x2406bc,global_registry['cloudProviderTenantId']=_0x387789,global_registry[_0x1ecf7e(0x131)]=_0x35bc91,this[_0x1ecf7e(0x192)]();const _0x3fc845=await this[_0x1ecf7e(0x272)](),_0x46bd68=_0x3fc845[_0x1ecf7e(0x280)];let _0x29f0a1;if(_0x346533[_0x1ecf7e(0x13b)](_0x46bd68,0x0))_0x346533['iHrmR'](_0x346533[_0x1ecf7e(0x16c)],_0x346533['UqKai'])?_0x276476[_0x1ecf7e(0x1f7)](0x0):_0x29f0a1=await _0x346533[_0x1ecf7e(0x1f1)](_0x4125a4,_0x116500+_0x1ecf7e(0x2ad));else{if(_0x346533[_0x1ecf7e(0x13b)](_0x46bd68,0x1)){if(_0x346533[_0x1ecf7e(0x149)](_0x346533[_0x1ecf7e(0x195)],_0x346533[_0x1ecf7e(0x195)])){const _0x4e8306=await _0x346533['COcvR'](_0x4125a4,_0x1ecf7e(0x21a)+_0x3fc845[0x0]+_0x1ecf7e(0xb6));if(_0x346533[_0x1ecf7e(0xee)](_0x4e8306,undefined)||_0x346533[_0x1ecf7e(0x13b)](_0x4e8306,null)||!(_0x346533[_0x1ecf7e(0x13b)](_0x4e8306[_0x1ecf7e(0x218)](),'y')||_0x346533[_0x1ecf7e(0x13b)](_0x4e8306['toLowerCase'](),'n'))){if(_0x346533[_0x1ecf7e(0x10e)](_0x346533[_0x1ecf7e(0x297)],_0x346533[_0x1ecf7e(0x1f8)])){_0x51b8c5[_0x1ecf7e(0xca)](_0x346533[_0x1ecf7e(0x244)]);const _0x35d940={};_0x35d940[_0x1ecf7e(0x200)]=_0x3947a7[_0x1ecf7e(0x25e)],_0x35d940['message']=_0x346533['xPvOj'],this[_0x1ecf7e(0x232)][_0x1ecf7e(0x1e9)](this['rws'],_0x35d940);const _0x30e320={};_0x30e320[_0x1ecf7e(0x1e7)]=!![];const _0x459431={'workloadIdentity':_0x30e320,..._0x577ebc[_0x1ecf7e(0x13e)]};_0x309a28['securityProfile']=_0x459431;}else console[_0x1ecf7e(0x247)](_0x346533[_0x1ecf7e(0x240)]),process['exit'](0x1);}if(_0x346533['VFLhg'](_0x4e8306['toLowerCase'](),'n')){if(_0x346533[_0x1ecf7e(0x149)](_0x346533[_0x1ecf7e(0x250)],_0x346533['uMDwK']))process[_0x1ecf7e(0x1f7)](0x0);else{const _0x1869b4=_0x346533[_0x1ecf7e(0x157)][_0x1ecf7e(0x181)]('|');let _0x1a4c4d=0x0;while(!![]){switch(_0x1869b4[_0x1a4c4d++]){case'0':_0x46ddeb[_0x1ecf7e(0x173)]=_0x138746[this['cloudProviderName']][_0x1ecf7e(0x27e)];continue;case'1':_0x50e58a[_0x1ecf7e(0x196)]=_0x2246bd[this[_0x1ecf7e(0x20b)]][_0x1ecf7e(0x229)];continue;case'2':_0x2767e7[_0x1ecf7e(0x131)]=_0x1a063b[this[_0x1ecf7e(0x20b)]][_0x1ecf7e(0x20e)];continue;case'3':_0x75017e['cloudProviderClientId']=_0x1ce957[this[_0x1ecf7e(0x20b)]]['clientId'];continue;case'4':_0x1bd87f[_0x1ecf7e(0x281)]=_0x43f8a5[this['cloudProviderName']][_0x1ecf7e(0xfa)];continue;case'5':this[_0x1ecf7e(0x192)]();continue;}break;}}}_0x29f0a1=_0x3fc845[0x0];}else{if(_0x346533[_0x1ecf7e(0x13b)](_0x56f794[_0x1ecf7e(0x19f)],_0x1ecf7e(0x219)+this[_0x1ecf7e(0xd5)]))return!![];}}else{if(_0x346533[_0x1ecf7e(0x29e)](_0x346533[_0x1ecf7e(0xf8)],_0x346533[_0x1ecf7e(0x114)])){for(let _0x909ac2=0x0;_0x346533['Glgzr'](_0x909ac2,_0x3fc845[_0x1ecf7e(0x280)]);_0x909ac2+=0x1){if(_0x346533[_0x1ecf7e(0x13b)](_0x346533[_0x1ecf7e(0x285)],_0x346533['yETrf']))return _0x70c925[_0x1ecf7e(0x24d)][_0x1ecf7e(0x24b)]['ingress'][0x0][_0x1ecf7e(0x1da)];else console['log']('['+_0x346533['YmQaV'](_0x909ac2,0x1)+']\x20'+_0x3fc845[_0x909ac2]);}const _0x441fb4=await _0x346533[_0x1ecf7e(0x1a6)](_0x4125a4,_0x346533[_0x1ecf7e(0x1c8)]),_0x1dc47f=_0x346533[_0x1ecf7e(0x1eb)](Number,_0x441fb4);if(_0x346533[_0x1ecf7e(0x15e)](isNaN,_0x1dc47f)||_0x346533[_0x1ecf7e(0x260)](_0x1dc47f,0x0)||_0x346533[_0x1ecf7e(0x2b5)](_0x1dc47f,_0x46bd68)){if(_0x346533[_0x1ecf7e(0x29e)](_0x346533[_0x1ecf7e(0x22e)],_0x346533[_0x1ecf7e(0x24a)]))console['error'](_0x346533['iKwTo']),process[_0x1ecf7e(0x1f7)](0x1);else{_0x471075[_0x1ecf7e(0xca)](_0x346533[_0x1ecf7e(0x1b9)]);const _0x510ece={};_0x510ece[_0x1ecf7e(0x200)]=_0x4f5d0a[_0x1ecf7e(0x25e)],_0x510ece[_0x1ecf7e(0x1f0)]=_0x346533[_0x1ecf7e(0x1b9)],this[_0x1ecf7e(0x232)][_0x1ecf7e(0x1e9)](this[_0x1ecf7e(0x296)],_0x510ece),_0x29a46d[_0x1ecf7e(0x1d1)][_0x1ecf7e(0x1e7)]=!![];}}_0x29f0a1=_0x3fc845[_0x346533[_0x1ecf7e(0x266)](_0x1dc47f,0x1)];}else return _0x458104[_0x1ecf7e(0x27c)]=_0x346533[_0x1ecf7e(0x126)],_0x3b1dcb;}}global_registry[_0x1ecf7e(0x281)]=_0x29f0a1;const _0x40a513={};return _0x40a513[_0x1ecf7e(0x26b)]=_0x5259c3,_0x40a513['clientSecret']=_0x2406bc,_0x40a513[_0x1ecf7e(0x27e)]=_0x387789,_0x40a513[_0x1ecf7e(0x20e)]=_0x35bc91,_0x40a513[_0x1ecf7e(0xfa)]=_0x29f0a1,_0x4bc7c5['cloudProvider'][AZURE]=_0x40a513,_0x4bc7c5;}async[a1_0x3fb9a2(0x272)](){const _0x5f03e3=a1_0x3fb9a2,_0x581f60={};_0x581f60['tEQUw']='Storage\x20account\x20already\x20exists,\x20skipping',_0x581f60[_0x5f03e3(0xbe)]=function(_0x1efa7e,_0x7c0b81){return _0x1efa7e!==_0x7c0b81;},_0x581f60['eValQ']='koauu',_0x581f60[_0x5f03e3(0x12a)]=_0x5f03e3(0x299),_0x581f60['CSkhL']=_0x5f03e3(0xbf);const _0x442c04=_0x581f60,_0x1f6c91=[];try{if(_0x442c04['YYWQY'](_0x442c04['eValQ'],_0x442c04[_0x5f03e3(0x110)]))_0x458615[_0x5f03e3(0xca)](_0x442c04[_0x5f03e3(0x153)]);else{const _0x270b31=await this[_0x5f03e3(0xc0)][_0x5f03e3(0x204)][_0x5f03e3(0x1f9)]();for await(const _0x1e6aa8 of _0x270b31){if(_0x442c04[_0x5f03e3(0xbe)](_0x442c04['MkLUp'],_0x442c04[_0x5f03e3(0xeb)]))_0x1f6c91[_0x5f03e3(0x237)](_0x1e6aa8['name']);else return _0x16b482[_0x5f03e3(0x247)](_0x5f03e3(0x202)+_0x3773cb+_0x5f03e3(0x130)+_0x269200),[![],[]];}}}catch(_0x38840c){}return _0x1f6c91;}async['getClusterInfo'](){const _0x4244ee=a1_0x3fb9a2;return this['clusterInfo']=await this['containerClient'][_0x4244ee(0x187)]['get'](global_registry['cloudProviderResourceGroup'],this[_0x4244ee(0xd5)]),this['clusterInfo'];}async[a1_0x3fb9a2(0x18d)](){const _0x7db241=a1_0x3fb9a2,_0x2996cd=await this[_0x7db241(0x26f)][_0x7db241(0x187)]['listClusterAdminCredentials'](global_registry[_0x7db241(0x281)],this[_0x7db241(0xd5)]),_0xa8135=_0x2996cd['kubeconfigs'][0x0][_0x7db241(0x100)][_0x7db241(0x15f)]();return _0xa8135;}['getGridHostname'](_0x3a359d){const _0x1faf59=a1_0x3fb9a2;return _0x3a359d[_0x1faf59(0x24d)]['loadBalancer'][_0x1faf59(0x1ce)][0x0][_0x1faf59(0x1da)];}async[a1_0x3fb9a2(0x12c)](){const _0xe47391=a1_0x3fb9a2,_0x374bb5={};_0x374bb5[_0xe47391(0x2ac)]=_0xe47391(0x142),_0x374bb5[_0xe47391(0x109)]=function(_0x11f5d5,_0x2252c9){return _0x11f5d5===_0x2252c9;},_0x374bb5['pjvAg']=_0xe47391(0x113),_0x374bb5[_0xe47391(0x175)]=_0xe47391(0x269),_0x374bb5[_0xe47391(0x1d4)]=function(_0x5b03d4,_0x105916){return _0x5b03d4!==_0x105916;},_0x374bb5[_0xe47391(0x1fd)]=_0xe47391(0x13a),_0x374bb5['WMRJD']='CDqmT',_0x374bb5[_0xe47391(0x1b6)]=function(_0x245448,_0x5c732a){return _0x245448===_0x5c732a;},_0x374bb5[_0xe47391(0x20a)]='KPMer',_0x374bb5['lVazt']=_0xe47391(0x2b0);const _0x29d957=_0x374bb5,_0x42b843=new Array();for await(const _0x171a06 of this[_0xe47391(0x26f)][_0xe47391(0x187)][_0xe47391(0x183)](global_registry[_0xe47391(0x281)])){_0x29d957[_0xe47391(0x109)](_0x29d957[_0xe47391(0x2b4)],_0x29d957['XhwuF'])?(_0xb9fb8b['error'](_0x29d957[_0xe47391(0x2ac)]),_0x3fe220[_0xe47391(0x1f7)](0x1)):_0x42b843[_0xe47391(0x237)](_0x171a06);}for await(const _0x4c21ae of _0x42b843){if(_0x29d957['gRDNm'](_0x29d957[_0xe47391(0x1fd)],_0x29d957['WMRJD'])){if(_0x29d957[_0xe47391(0x1b6)](_0x4c21ae[_0xe47391(0x19f)],this[_0xe47391(0xd5)])){if(_0x29d957[_0xe47391(0x1d4)](_0x29d957[_0xe47391(0x20a)],_0x29d957[_0xe47391(0x1ab)]))return await this[_0xe47391(0x1a2)](),!![];else _0xbe05b5[_0xe47391(0x237)](..._0xeacfc7[_0xe47391(0x24e)]);}}else _0x382a78['error'](_0x29d957[_0xe47391(0x2ac)]),_0x14eaa2[_0xe47391(0x1f7)](0x1);}return![];}async[a1_0x3fb9a2(0x26d)](_0x5c553f=null,_0x28f41c=null){const _0x2fd367=a1_0x3fb9a2,_0x4094a6={};_0x4094a6[_0x2fd367(0x1fc)]=_0x2fd367(0x2a3),_0x4094a6[_0x2fd367(0x191)]=_0x2fd367(0x235);const _0x4bdc8f=_0x4094a6,_0x556b6d=_0x4bdc8f[_0x2fd367(0x1fc)]['split']('|');let _0x138ee0=0x0;while(!![]){switch(_0x556b6d[_0x138ee0++]){case'0':return[_0x5c553f,_0x28f41c];case'1':await this[_0x2fd367(0x12d)]();continue;case'2':await this['createCluster'](_0x5c553f,_0x28f41c);continue;case'3':const _0x102e60={};_0x102e60[_0x2fd367(0x200)]=WS_EVENTS[_0x2fd367(0x25a)],_0x102e60[_0x2fd367(0x1f0)]=_0x4bdc8f[_0x2fd367(0x191)],this[_0x2fd367(0x232)]['sendEventToBackend'](this[_0x2fd367(0x296)],_0x102e60);continue;case'4':this[_0x2fd367(0x1cb)]();continue;case'5':logger[_0x2fd367(0xca)](_0x4bdc8f['ERTCb']);continue;}break;}}async[a1_0x3fb9a2(0x12e)](_0xeec862=null,_0x425f47=null){const _0x3f1cea=a1_0x3fb9a2,_0x2225c8={};_0x2225c8[_0x3f1cea(0x170)]=_0x3f1cea(0x231),_0x2225c8['PqnLJ']=_0x3f1cea(0x201),_0x2225c8[_0x3f1cea(0xf5)]=_0x3f1cea(0xd2),_0x2225c8['fLidP']=_0x3f1cea(0x111),_0x2225c8[_0x3f1cea(0x252)]=_0x3f1cea(0x17a),_0x2225c8[_0x3f1cea(0x1c2)]='true',_0x2225c8[_0x3f1cea(0xf4)]=_0x3f1cea(0x163),_0x2225c8['nLori']=function(_0x32cce1,_0x44b6bd){return _0x32cce1!==_0x44b6bd;},_0x2225c8[_0x3f1cea(0x117)]=function(_0x269e63,_0x4c3063){return _0x269e63!==_0x4c3063;},_0x2225c8[_0x3f1cea(0x234)]=function(_0x2f856f,_0x531b7c){return _0x2f856f!==_0x531b7c;},_0x2225c8[_0x3f1cea(0x106)]=_0x3f1cea(0x199),_0x2225c8[_0x3f1cea(0xc9)]='string',_0x2225c8[_0x3f1cea(0x1fe)]='Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.',_0x2225c8[_0x3f1cea(0x1c5)]=_0x3f1cea(0xf6),_0x2225c8[_0x3f1cea(0x11d)]=_0x3f1cea(0x1c3),_0x2225c8[_0x3f1cea(0x292)]=_0x3f1cea(0x168),_0x2225c8[_0x3f1cea(0x213)]='Incremental';const _0x35b62c=_0x2225c8;let _0x4189f3=await fs[_0x3f1cea(0x249)](path[_0x3f1cea(0x119)](__dirname,'..',_0x35b62c[_0x3f1cea(0x1fa)],_0x35b62c[_0x3f1cea(0xf5)],_0x35b62c[_0x3f1cea(0x1b3)]),_0x35b62c[_0x3f1cea(0x252)]);_0x4189f3=JSON['parse'](_0x4189f3);const _0x1fe4ab={};_0x1fe4ab[_0x3f1cea(0x100)]=this[_0x3f1cea(0xd5)];const _0x236f5c={};_0x236f5c[_0x3f1cea(0x100)]=global_registry[_0x3f1cea(0xb5)];const _0x4859df={};_0x4859df[_0x3f1cea(0x100)]=global_registry[_0x3f1cea(0x177)];const _0x2eae48={};_0x2eae48[_0x3f1cea(0x100)]=global_registry[_0x3f1cea(0x270)];const _0x352805={};_0x352805[_0x3f1cea(0x100)]=global_registry[_0x3f1cea(0x248)]?_0x35b62c[_0x3f1cea(0x1c2)]:_0x35b62c[_0x3f1cea(0xf4)];const _0x5ab392={};_0x5ab392[_0x3f1cea(0xd5)]=_0x1fe4ab,_0x5ab392[_0x3f1cea(0x137)]=_0x236f5c,_0x5ab392[_0x3f1cea(0x267)]=_0x4859df,_0x5ab392['userMaxNodes']=_0x2eae48,_0x5ab392[_0x3f1cea(0x248)]=_0x352805;let _0x1ebd4f=_0x5ab392;if(_0x35b62c[_0x3f1cea(0x278)](_0xeec862,null)&&_0x35b62c[_0x3f1cea(0x117)](_0x425f47,null)){if(_0x35b62c[_0x3f1cea(0x234)](_0x35b62c[_0x3f1cea(0x106)],_0x35b62c[_0x3f1cea(0x106)])){_0x3b4d30['info'](_0x35b62c['JMQbK']);const _0x34df50={};_0x34df50[_0x3f1cea(0x200)]=_0x476c4d['RESOURCES'],_0x34df50[_0x3f1cea(0x1f0)]=_0x35b62c[_0x3f1cea(0x170)],this[_0x3f1cea(0x232)][_0x3f1cea(0x1e9)](this[_0x3f1cea(0x296)],_0x34df50),_0x52e717[_0x3f1cea(0x1e3)]=![];}else{const _0x139b4d={};_0x139b4d[_0x3f1cea(0x200)]=_0x35b62c['KBbvl'],_0x139b4d[_0x3f1cea(0x127)]={},_0x139b4d[_0x3f1cea(0x127)][_0x3f1cea(0x18c)]=_0x35b62c['KsjQf'];const _0x494341={};_0x494341[_0x3f1cea(0x200)]=_0x35b62c[_0x3f1cea(0xc9)],_0x494341[_0x3f1cea(0x127)]={},_0x494341[_0x3f1cea(0x127)][_0x3f1cea(0x18c)]=_0x35b62c[_0x3f1cea(0x1fe)],_0x4189f3[_0x3f1cea(0xd1)]={..._0x4189f3[_0x3f1cea(0xd1)],'vpcName':_0x139b4d,'subnetName':_0x494341};const _0x1f7cc6={};_0x1f7cc6['vnetSubnetID']=_0x35b62c[_0x3f1cea(0x1c5)],_0x4189f3[_0x3f1cea(0x1d8)]=_0x1f7cc6,_0x4189f3[_0x3f1cea(0x10d)][0x0][_0x3f1cea(0x1db)]['agentPoolProfiles'][0x0]={..._0x4189f3[_0x3f1cea(0x10d)][0x0]['properties']['agentPoolProfiles'][0x0],'vnetSubnetID':_0x35b62c[_0x3f1cea(0x11d)]};const _0x35303a={};_0x35303a['value']=_0xeec862;const _0x42051e={};_0x42051e[_0x3f1cea(0x100)]=_0x425f47[0x0],_0x1ebd4f={..._0x1ebd4f,'vpcName':_0x35303a,'subnetName':_0x42051e};}}await this[_0x3f1cea(0xc0)][_0x3f1cea(0x1ba)]['beginCreateOrUpdateAndWait'](global_registry[_0x3f1cea(0x281)],_0x35b62c[_0x3f1cea(0x292)],{'properties':{'template':_0x4189f3,'mode':_0x35b62c[_0x3f1cea(0x213)],'parameters':_0x1ebd4f}});}async[a1_0x3fb9a2(0x12d)](){const _0x1cf41e=a1_0x3fb9a2,_0x5e88dc={};_0x5e88dc[_0x1cf41e(0x27b)]=function(_0x46da2b,_0x2a5890){return _0x46da2b===_0x2a5890;},_0x5e88dc[_0x1cf41e(0x206)]=_0x1cf41e(0x1bb),_0x5e88dc[_0x1cf41e(0xfc)]=_0x1cf41e(0x174),_0x5e88dc['UTTnR']=_0x1cf41e(0x223),_0x5e88dc[_0x1cf41e(0x287)]=function(_0x37fc39,_0x1b38b6){return _0x37fc39!==_0x1b38b6;},_0x5e88dc[_0x1cf41e(0x18a)]=_0x1cf41e(0x122),_0x5e88dc['ZRkKb']=_0x1cf41e(0x17c),_0x5e88dc[_0x1cf41e(0x1af)]=_0x1cf41e(0x197),_0x5e88dc['ZYekq']=function(_0x1213a6,_0x4dc8be){return _0x1213a6!==_0x4dc8be;},_0x5e88dc[_0x1cf41e(0x24f)]=_0x1cf41e(0x2b6),_0x5e88dc[_0x1cf41e(0x1dc)]=_0x1cf41e(0x2b7),_0x5e88dc[_0x1cf41e(0x128)]='FcYBa',_0x5e88dc[_0x1cf41e(0x143)]=_0x1cf41e(0x1a3),_0x5e88dc[_0x1cf41e(0x227)]=_0x1cf41e(0xc4),_0x5e88dc['AVgfF']=_0x1cf41e(0x21b),_0x5e88dc[_0x1cf41e(0x185)]=_0x1cf41e(0x27d);const _0x216ae0=_0x5e88dc,_0x5e051b=await this[_0x1cf41e(0x274)]();if(!_0x5e051b){if(_0x216ae0[_0x1cf41e(0x27b)](_0x216ae0[_0x1cf41e(0x206)],_0x216ae0['yBCVl']))_0x262405[_0x1cf41e(0x237)](_0x5c4489);else{const _0x21ae32={};_0x21ae32[_0x1cf41e(0x200)]=WS_EVENTS['LOG'],_0x21ae32['message']=_0x216ae0[_0x1cf41e(0xe1)],this[_0x1cf41e(0x232)][_0x1cf41e(0x1e9)](this['rws'],_0x21ae32),logger[_0x1cf41e(0xca)](_0x216ae0[_0x1cf41e(0xe1)]),await this['createStorageAccount']();}}else _0x216ae0[_0x1cf41e(0x287)](_0x216ae0[_0x1cf41e(0x18a)],_0x216ae0['ZRkKb'])?logger[_0x1cf41e(0xca)](_0x216ae0[_0x1cf41e(0x1af)]):_0x17e7e8[_0x1cf41e(0x237)](_0x31dd94);const _0x4fb9cb=await this[_0x1cf41e(0x17d)]();if(!_0x4fb9cb){if(_0x216ae0[_0x1cf41e(0x27a)](_0x216ae0['BHQON'],_0x216ae0['BHQON']))return!![];else{const _0x51f13b={};_0x51f13b['type']=WS_EVENTS[_0x1cf41e(0x25a)],_0x51f13b[_0x1cf41e(0x1f0)]=_0x216ae0['FFjPq'],this[_0x1cf41e(0x232)][_0x1cf41e(0x1e9)](this[_0x1cf41e(0x296)],_0x51f13b),logger[_0x1cf41e(0xca)](_0x216ae0['FFjPq']),await this['createManagedIdentity']();}}else _0x216ae0[_0x1cf41e(0x27b)](_0x216ae0[_0x1cf41e(0x128)],_0x216ae0['lgmVB'])?_0x124853[_0x1cf41e(0x237)](_0x6eb0d1):logger[_0x1cf41e(0xca)](_0x216ae0[_0x1cf41e(0x227)]);logger[_0x1cf41e(0xca)](_0x216ae0['AVgfF']),await this[_0x1cf41e(0x139)](),logger['info'](_0x216ae0[_0x1cf41e(0x185)]);}async['createStorageAccount'](){const _0x1f80da=a1_0x3fb9a2,_0x12f096={};_0x12f096[_0x1f80da(0x261)]=_0x1f80da(0x201),_0x12f096[_0x1f80da(0x26c)]=_0x1f80da(0xd2),_0x12f096[_0x1f80da(0x28b)]='storageaccount.json',_0x12f096[_0x1f80da(0x152)]=_0x1f80da(0x17a),_0x12f096['xZECB']=_0x1f80da(0x253),_0x12f096[_0x1f80da(0x1ad)]=_0x1f80da(0x293),_0x12f096[_0x1f80da(0x215)]=_0x1f80da(0xd0),_0x12f096[_0x1f80da(0x1df)]=_0x1f80da(0x2ab),_0x12f096['ovSSO']=_0x1f80da(0x1f4),_0x12f096['ylPdV']=_0x1f80da(0x155);const _0x5bd816=_0x12f096;let _0xe76d5d=await fs[_0x1f80da(0x249)](path[_0x1f80da(0x119)](__dirname,'..',_0x5bd816[_0x1f80da(0x261)],_0x5bd816[_0x1f80da(0x26c)],_0x5bd816[_0x1f80da(0x28b)]),_0x5bd816[_0x1f80da(0x152)]);_0xe76d5d=JSON[_0x1f80da(0x2a8)](_0xe76d5d);const _0xaeca6=this[_0x1f80da(0x26e)](),_0x35b507={};_0x35b507[_0x1f80da(0x100)]=_0xaeca6;const _0x1918d2={};_0x1918d2[_0x1f80da(0x264)]=_0x35b507,await this[_0x1f80da(0xc0)]['deployments'][_0x1f80da(0x169)](global_registry[_0x1f80da(0x281)],_0x5bd816[_0x1f80da(0x134)],{'properties':{'template':_0xe76d5d,'mode':_0x5bd816[_0x1f80da(0x1ad)],'parameters':_0x1918d2}});const _0x27e881={};_0x27e881[_0x1f80da(0x171)]=0x3c;const _0x8d2a96={};_0x8d2a96['delete']=_0x27e881;const _0x23f70d={};_0x23f70d[_0x1f80da(0x132)]=_0x8d2a96;const _0x133f04={};_0x133f04[_0x1f80da(0x1e7)]=!![],_0x133f04[_0x1f80da(0x19f)]=_0x5bd816[_0x1f80da(0x215)],_0x133f04[_0x1f80da(0x200)]=_0x5bd816[_0x1f80da(0x1df)],_0x133f04[_0x1f80da(0x107)]={},_0x133f04[_0x1f80da(0x107)][_0x1f80da(0x24e)]=_0x23f70d,_0x133f04[_0x1f80da(0x107)][_0x1f80da(0x1f6)]={},_0x133f04[_0x1f80da(0x107)][_0x1f80da(0x1f6)][_0x1f80da(0x256)]=[_0x5bd816[_0x1f80da(0x286)]];const _0x18d164={};_0x18d164[_0x1f80da(0x104)]=[_0x133f04];const _0x5b456a={};_0x5b456a['policy']=_0x18d164;const _0x56b508=_0x5b456a;await this[_0x1f80da(0xe6)][_0x1f80da(0x15c)][_0x1f80da(0x158)](global_registry[_0x1f80da(0x281)],_0xaeca6,_0x5bd816[_0x1f80da(0x1a8)],_0x56b508);}async[a1_0x3fb9a2(0x14c)](){const _0x35cad6=a1_0x3fb9a2,_0x3b0fe4={};_0x3b0fe4[_0x35cad6(0xc1)]=_0x35cad6(0x201),_0x3b0fe4[_0x35cad6(0x1cd)]=_0x35cad6(0xd2),_0x3b0fe4[_0x35cad6(0xcd)]=_0x35cad6(0x2b2),_0x3b0fe4[_0x35cad6(0x12b)]=_0x35cad6(0x17a),_0x3b0fe4[_0x35cad6(0xd7)]=_0x35cad6(0xbb),_0x3b0fe4['yuywg']=_0x35cad6(0x293);const _0x1e796d=_0x3b0fe4;let _0x4db0a0=await fs[_0x35cad6(0x249)](path[_0x35cad6(0x119)](__dirname,'..',_0x1e796d[_0x35cad6(0xc1)],_0x1e796d[_0x35cad6(0x1cd)],_0x1e796d[_0x35cad6(0xcd)]),_0x1e796d['rLtpM']);_0x4db0a0=JSON['parse'](_0x4db0a0),await this[_0x35cad6(0xc0)][_0x35cad6(0x1ba)][_0x35cad6(0x169)](global_registry['cloudProviderResourceGroup'],_0x1e796d[_0x35cad6(0xd7)],{'properties':{'template':_0x4db0a0,'mode':_0x1e796d['yuywg'],'parameters':{'clusterName':{'value':this[_0x35cad6(0xd5)]}}}});}async[a1_0x3fb9a2(0x139)](){const _0x2b9111=a1_0x3fb9a2,_0x17a6ea={};_0x17a6ea[_0x2b9111(0x2af)]=function(_0x2db157,_0x296f36){return _0x2db157+_0x296f36;},_0x17a6ea[_0x2b9111(0x13c)]=_0x2b9111(0x182),_0x17a6ea[_0x2b9111(0x112)]=function(_0x3635d5,_0x58b362){return _0x3635d5-_0x58b362;},_0x17a6ea['tacAI']=function(_0x1ec1ba,_0x1986ef){return _0x1ec1ba===_0x1986ef;},_0x17a6ea[_0x2b9111(0x18e)]=function(_0x19062c,_0x549cd3){return _0x19062c!==_0x549cd3;},_0x17a6ea[_0x2b9111(0x18b)]='kjgEv',_0x17a6ea[_0x2b9111(0x1c7)]=_0x2b9111(0xe4),_0x17a6ea[_0x2b9111(0x2b3)]=_0x2b9111(0x156),_0x17a6ea[_0x2b9111(0x226)]=function(_0x44e1a8,_0x10990b){return _0x44e1a8!==_0x10990b;},_0x17a6ea[_0x2b9111(0x164)]=_0x2b9111(0x23d),_0x17a6ea[_0x2b9111(0x21e)]='templates',_0x17a6ea[_0x2b9111(0x160)]='azureresources',_0x17a6ea[_0x2b9111(0x1bd)]='utf-8',_0x17a6ea['pUjqw']=_0x2b9111(0x268),_0x17a6ea[_0x2b9111(0x28f)]=_0x2b9111(0x293);const _0x326732=_0x17a6ea;if(!this[_0x2b9111(0x291)]){if(_0x326732[_0x2b9111(0x18e)](_0x326732['FACDk'],_0x326732[_0x2b9111(0x18b)])){const _0x52df55=_0x3ad494[_0x2b9111(0xce)]['split']('-'),_0x4daf5f=_0x326732[_0x2b9111(0x2af)](_0x326732[_0x2b9111(0x13c)],_0x52df55[_0x326732['OYvEF'](_0x52df55[_0x2b9111(0x280)],0x1)])[_0x2b9111(0x1a4)](0x0,0x18);return _0x4daf5f[_0x2b9111(0x218)]();}else await this['getClusterInfo']();}const _0x328dd7=this[_0x2b9111(0x291)]?.[_0x2b9111(0x1d1)]?.[_0x2b9111(0xf1)],_0x4973ab=[_0x326732[_0x2b9111(0x1c7)],_0x326732[_0x2b9111(0x2b3)]];for await(const _0x4d03a8 of _0x4973ab){if(_0x326732[_0x2b9111(0x226)](_0x326732['RvuUJ'],_0x326732[_0x2b9111(0x164)])){if(_0x326732[_0x2b9111(0x186)](_0x35c617[_0x2b9111(0x19f)],_0x41ecc9))return!![];}else{let _0x4d1f2c=await fs['readFileAsync'](path[_0x2b9111(0x119)](__dirname,'..',_0x326732[_0x2b9111(0x21e)],_0x326732[_0x2b9111(0x160)],'federatedidentity'+_0x4d03a8+_0x2b9111(0x1dd)),_0x326732[_0x2b9111(0x1bd)]);_0x4d1f2c=JSON[_0x2b9111(0x2a8)](_0x4d1f2c);const _0x5958ac={};_0x5958ac[_0x2b9111(0x100)]=_0x328dd7,await this['resourceClient'][_0x2b9111(0x1ba)][_0x2b9111(0x169)](global_registry['cloudProviderResourceGroup'],_0x326732[_0x2b9111(0xd8)],{'properties':{'template':_0x4d1f2c,'mode':_0x326732[_0x2b9111(0x28f)],'parameters':{'oidcIssuer':_0x5958ac,'gridName':{'value':this['gridName']},'clusterName':{'value':this[_0x2b9111(0xd5)]}}}});}}}async[a1_0x3fb9a2(0xc6)](_0x5e8cc2,_0x560740,_0x150d7d,_0x2badb8,_0x17f7a0){const _0x2ca9af=a1_0x3fb9a2,_0xfcaba9={};_0xfcaba9[_0x2ca9af(0x251)]=_0x2ca9af(0x255),_0xfcaba9['TPlDZ']=_0x2ca9af(0x1ff);const _0x197f38=_0xfcaba9,_0x176ee0={};_0x176ee0[_0x2ca9af(0x200)]=WS_EVENTS['LOG'],_0x176ee0[_0x2ca9af(0x1f0)]=_0x197f38[_0x2ca9af(0x251)],this['webSocketUtils'][_0x2ca9af(0x1e9)](this[_0x2ca9af(0x296)],_0x176ee0),logger[_0x2ca9af(0xca)](_0x197f38['xyxKN']),await this[_0x2ca9af(0xe9)]();const _0xe39f0={};_0xe39f0[_0x2ca9af(0x200)]=WS_EVENTS['LOG'],_0xe39f0['message']=_0x197f38[_0x2ca9af(0x1e2)],this[_0x2ca9af(0x232)]['sendEventToBackend'](this[_0x2ca9af(0x296)],_0xe39f0);}async[a1_0x3fb9a2(0xe9)](){const _0x35ae0a=a1_0x3fb9a2,_0x163296={};_0x163296['qISiL']=_0x35ae0a(0xfd),_0x163296[_0x35ae0a(0xef)]=function(_0x44f0a1,_0x25e439){return _0x44f0a1!==_0x25e439;},_0x163296[_0x35ae0a(0xed)]='CqZAT',_0x163296[_0x35ae0a(0x194)]=_0x35ae0a(0x201),_0x163296[_0x35ae0a(0x135)]=_0x35ae0a(0xe8),_0x163296[_0x35ae0a(0x1b7)]=_0x35ae0a(0x29c),_0x163296[_0x35ae0a(0x1aa)]=_0x35ae0a(0x17a),_0x163296[_0x35ae0a(0x19b)]=_0x35ae0a(0x268),_0x163296[_0x35ae0a(0x224)]='Incremental';const _0x170636=_0x163296;if(!this[_0x35ae0a(0x291)]){if(_0x170636[_0x35ae0a(0xef)](_0x170636[_0x35ae0a(0xed)],_0x170636[_0x35ae0a(0xed)])){const _0x48c58e={};_0x48c58e[_0x35ae0a(0x24d)]=!![],_0x48c58e['error']=null,_0x48c58e[_0x35ae0a(0x27c)]=_0x170636[_0x35ae0a(0xdb)];const _0x54fb5a=_0x48c58e;return _0x54fb5a;}else await this[_0x35ae0a(0x1a2)]();}const _0x3233fe=this['clusterInfo']?.['oidcIssuerProfile']?.[_0x35ae0a(0xf1)];let _0x241dee=await fs[_0x35ae0a(0x249)](path[_0x35ae0a(0x119)](__dirname,'..',_0x170636[_0x35ae0a(0x194)],_0x170636[_0x35ae0a(0x135)],_0x170636[_0x35ae0a(0x1b7)]),_0x170636[_0x35ae0a(0x1aa)]);_0x241dee=JSON[_0x35ae0a(0x2a8)](_0x241dee);const _0x51edbc={};_0x51edbc[_0x35ae0a(0x100)]=_0x3233fe,await this[_0x35ae0a(0xc0)][_0x35ae0a(0x1ba)]['beginCreateOrUpdateAndWait'](global_registry['cloudProviderResourceGroup'],_0x170636['KEXIw'],{'properties':{'template':_0x241dee,'mode':_0x170636[_0x35ae0a(0x224)],'parameters':{'oidcIssuer':_0x51edbc,'namespace':{'value':global_registry[_0x35ae0a(0x10c)]},'clusterName':{'value':this[_0x35ae0a(0xd5)]}}}});}async[a1_0x3fb9a2(0x274)](){const _0xea9265=a1_0x3fb9a2,_0x5224e1={};_0x5224e1[_0xea9265(0x145)]=function(_0x5a5767,_0x20ded8){return _0x5a5767+_0x20ded8;},_0x5224e1[_0xea9265(0x1c4)]=function(_0x33c96a,_0x2ad007){return _0x33c96a===_0x2ad007;},_0x5224e1['CGwYP']=_0xea9265(0x245),_0x5224e1['ghvdC']='JSpaA',_0x5224e1[_0xea9265(0x22f)]=function(_0x157a4f,_0x522e27){return _0x157a4f!==_0x522e27;},_0x5224e1[_0xea9265(0x15b)]=_0xea9265(0xb9),_0x5224e1[_0xea9265(0x205)]='gnJQL',_0x5224e1[_0xea9265(0x220)]=_0xea9265(0x289);const _0x508125=_0x5224e1,_0x2b630a=this[_0xea9265(0x26e)](),_0x3be242=new Array();for await(const _0x2244b8 of this[_0xea9265(0xe6)][_0xea9265(0x124)][_0xea9265(0x183)](global_registry[_0xea9265(0x281)])){if(_0x508125[_0xea9265(0x1c4)](_0x508125[_0xea9265(0x1d9)],_0x508125[_0xea9265(0x14f)]))return _0x39c415['error'](_0xea9265(0x265)+_0x3982e0+':'+_0x107615[_0xea9265(0x298)]),{};else _0x3be242['push'](_0x2244b8);}for await(const _0xa848e3 of _0x3be242){if(_0x508125[_0xea9265(0x22f)](_0x508125[_0xea9265(0x15b)],_0x508125[_0xea9265(0x15b)]))_0x4469e4[_0xea9265(0x129)]('['+_0x508125[_0xea9265(0x145)](_0x267fdd,0x1)+']\x20'+_0x522e8a[_0x3ea352]);else{if(_0x508125[_0xea9265(0x1c4)](_0xa848e3[_0xea9265(0x19f)],_0x2b630a)){if(_0x508125[_0xea9265(0x1c4)](_0x508125[_0xea9265(0x205)],_0x508125[_0xea9265(0x220)])){const _0x5b7763=new _0x29c8dc(_0x5d17ec[_0xea9265(0x173)],_0x200ddf['cloudProviderClientId'],_0xfaab43[_0xea9265(0x196)]);this[_0xea9265(0x26f)]=new _0x542cfb(_0x5b7763,_0x5a85de[_0xea9265(0x131)]),this[_0xea9265(0xe6)]=new _0x2f9c18(_0x5b7763,_0x19489d[_0xea9265(0x131)]),this['resourceClient']=new _0x411f6c(_0x5b7763,_0x534b3a[_0xea9265(0x131)]),this[_0xea9265(0x161)]=new _0x5597be(_0x5b7763,_0x400205[_0xea9265(0x131)]),this['authClient']=new _0x109273(_0x5b7763,_0x2be1fd['cloudProviderSubscriptionId']),this[_0xea9265(0xfe)]=_0x5b7763;}else return!![];}}}return![];}async[a1_0x3fb9a2(0x17d)](){const _0x164561=a1_0x3fb9a2,_0x9eca15={'WhZQW':function(_0x138a20,_0x4527a4,_0x3659f6){return _0x138a20(_0x4527a4,_0x3659f6);},'IhmZw':'No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','nrUKx':function(_0x31ef0b,_0x3cb84f){return _0x31ef0b!==_0x3cb84f;},'Xvxiy':_0x164561(0x17e),'iZMPL':_0x164561(0x11f),'HsuxP':function(_0x5673c7,_0x279db8){return _0x5673c7!==_0x279db8;},'qqnUb':_0x164561(0xbc),'JcOFL':_0x164561(0x1ee),'TzpqW':function(_0x1df424,_0x201450){return _0x1df424===_0x201450;},'IeNMX':_0x164561(0xdc),'eXuDh':_0x164561(0x14a)},_0x22397f=new Array();for await(const _0xd3893c of this[_0x164561(0xc0)][_0x164561(0x10d)][_0x164561(0x183)](global_registry[_0x164561(0x281)])){_0x9eca15[_0x164561(0x290)](_0x9eca15[_0x164561(0xec)],_0x9eca15['iZMPL'])?_0x22397f[_0x164561(0x237)](_0xd3893c):_0x9eca15[_0x164561(0xea)](_0x254137,()=>_0x15fc03(),0x3e8);}for await(const _0x7fb90c of _0x22397f){if(_0x9eca15[_0x164561(0x25d)](_0x9eca15[_0x164561(0x102)],_0x9eca15[_0x164561(0x276)])){if(_0x9eca15[_0x164561(0x212)](_0x7fb90c['name'],'turboscale-managed-identity-'+this[_0x164561(0xd5)]))return _0x9eca15[_0x164561(0x212)](_0x9eca15[_0x164561(0x2aa)],_0x9eca15[_0x164561(0xf3)])?(_0x551466[_0x164561(0x27c)]=_0x9eca15['IhmZw'],_0x24e3f6):!![];}else _0x42a9b7['error']=_0x4b6245;}return![];}async[a1_0x3fb9a2(0x29f)](_0x397dbc,_0x66db23=0x3){const _0x31583b=a1_0x3fb9a2,_0x4f064c={'orxqM':_0x31583b(0x230),'lMlwt':_0x31583b(0x2ae),'aWwxb':_0x31583b(0xf6),'DNpXs':_0x31583b(0x1c3),'RMicv':function(_0x524359,_0x5a8d04){return _0x524359===_0x5a8d04;},'KDExs':function(_0x3c3cd9,_0x5f52fe){return _0x3c3cd9!==_0x5f52fe;},'UumEp':_0x31583b(0x211),'wOvsI':_0x31583b(0x165),'ZcTSy':function(_0x247dcb,_0x4b8e4a,_0xb16c08){return _0x247dcb(_0x4b8e4a,_0xb16c08);},'RscAL':function(_0x312d65,_0x17559d){return _0x312d65!==_0x17559d;},'naEbx':'AGwrq','saxHy':function(_0x50af01,_0x33cba3){return _0x50af01===_0x33cba3;},'zDOjI':_0x31583b(0xb8),'TBMTm':function(_0x3eb546,_0x58fca3){return _0x3eb546===_0x58fca3;},'CVgXf':_0x31583b(0xc3),'gruwR':function(_0x2694c2,_0x1fe739){return _0x2694c2===_0x1fe739;},'ecaNv':_0x31583b(0x1e4),'hxDyM':_0x31583b(0x1d0),'FzmmV':'2023-01-31','VtSyf':function(_0x431319,_0x1adf45){return _0x431319===_0x1adf45;},'pnuAS':_0x31583b(0x141),'AoWOF':function(_0x1cecf4,_0x530314){return _0x1cecf4<=_0x530314;},'iQCbx':_0x31583b(0x125),'EWhoi':function(_0x2da411,_0x3e778c){return _0x2da411-_0x3e778c;}};try{if(_0x4f064c[_0x31583b(0x1b2)](_0x4f064c[_0x31583b(0xd3)],_0x4f064c['naEbx'])){const _0x1b51fe={};_0x1b51fe[_0x31583b(0x200)]=_0x4f064c['orxqM'],_0x1b51fe[_0x31583b(0x127)]={},_0x1b51fe[_0x31583b(0x127)][_0x31583b(0x18c)]=_0x4f064c[_0x31583b(0x294)];const _0x359e59={};_0x359e59[_0x31583b(0x200)]=_0x4f064c[_0x31583b(0x123)],_0x359e59[_0x31583b(0x127)]={},_0x359e59[_0x31583b(0x127)][_0x31583b(0x18c)]=_0x4f064c['lMlwt'];const _0x4b2162={..._0x2e64ff[_0x31583b(0xd1)]};_0x4b2162[_0x31583b(0x28e)]=_0x1b51fe,_0x4b2162['subnetName']=_0x359e59,_0x5c0d84[_0x31583b(0xd1)]=_0x4b2162;const _0x5739f7={};_0x5739f7[_0x31583b(0x178)]=_0x4f064c[_0x31583b(0x28d)],_0x44cf45[_0x31583b(0x1d8)]=_0x5739f7;const _0x5c8586={..._0xc16ec3[_0x31583b(0x10d)][0x0][_0x31583b(0x1db)][_0x31583b(0x1e8)][0x0]};_0x5c8586[_0x31583b(0x178)]=_0x4f064c[_0x31583b(0xda)],_0x17cb5c[_0x31583b(0x10d)][0x0]['properties'][_0x31583b(0x1e8)][0x0]=_0x5c8586;const _0x301181={};_0x301181[_0x31583b(0x100)]=_0x2cb50f;const _0xe3b750={};_0xe3b750[_0x31583b(0x100)]=_0x3b2840[0x0];const _0x5e3138={..._0x110a7a};_0x5e3138[_0x31583b(0x28e)]=_0x301181,_0x5e3138[_0x31583b(0x1f3)]=_0xe3b750,_0x416645=_0x5e3138;}else{const _0x41cda9=new Array();for await(const _0x1d761e of this[_0x31583b(0xc0)][_0x31583b(0x10d)]['listByResourceGroup'](global_registry[_0x31583b(0x281)])){if(_0x4f064c[_0x31583b(0x22c)](_0x4f064c['zDOjI'],_0x4f064c[_0x31583b(0x159)]))_0x41cda9['push'](_0x1d761e);else return[!![],_0x2c99d7];}let _0x2982a6='';for await(const _0x6048e4 of _0x41cda9){if(_0x4f064c['TBMTm'](_0x4f064c[_0x31583b(0x1d7)],_0x4f064c[_0x31583b(0x1d7)])){if(_0x4f064c['gruwR'](_0x6048e4[_0x31583b(0x19f)],_0x397dbc)){if(_0x4f064c[_0x31583b(0x2a9)](_0x4f064c[_0x31583b(0x1ec)],_0x4f064c[_0x31583b(0x2b1)]))return!![];else _0x2982a6=_0x6048e4['id'];}}else _0x59940[_0x31583b(0x24d)]=![];}const _0x652db7=await this[_0x31583b(0xc0)]['resources']['getById'](_0x2982a6,_0x4f064c[_0x31583b(0x1e5)]);return _0x652db7[_0x31583b(0x1db)][_0x31583b(0x26b)];}}catch(_0x46258e){if(_0x4f064c[_0x31583b(0x28a)](_0x4f064c[_0x31583b(0x243)],_0x4f064c['pnuAS'])){if(_0x4f064c['AoWOF'](_0x66db23,0x0)){if(_0x4f064c[_0x31583b(0x29d)](_0x4f064c[_0x31583b(0x21d)],_0x4f064c[_0x31583b(0x21d)])){if(_0x4f064c[_0x31583b(0x11c)](_0x1d3cff[_0x31583b(0x19f)],_0x4bb01b))return!![];}else return logger['error'](_0x31583b(0x265)+_0x46258e+':'+_0x46258e[_0x31583b(0x298)]),{};}return await new Promise(_0xe86d54=>{const _0x21bb62=_0x31583b;if(_0x4f064c['KDExs'](_0x4f064c[_0x21bb62(0x1cc)],_0x4f064c['wOvsI']))_0x4f064c[_0x21bb62(0x172)](setTimeout,()=>_0xe86d54(),0x3e8);else return!![];}),this[_0x31583b(0x29f)](_0x397dbc,_0x4f064c[_0x31583b(0x1d5)](_0x66db23,0x1));}else _0x5bfaa2=_0x1de8bb['id'];}}async[a1_0x3fb9a2(0x2a1)](){const _0x230cb5=a1_0x3fb9a2,_0x2fec37={};_0x2fec37[_0x230cb5(0x225)]='allowed',_0x2fec37[_0x230cb5(0x147)]=_0x230cb5(0x1c1),_0x2fec37['fTgwR']=function(_0x29dbe7,_0xcf657d){return _0x29dbe7===_0xcf657d;},_0x2fec37[_0x230cb5(0x146)]=_0x230cb5(0x284),_0x2fec37[_0x230cb5(0x11a)]=_0x230cb5(0x22a),_0x2fec37['uPJSP']=_0x230cb5(0x148),_0x2fec37[_0x230cb5(0x12f)]=_0x230cb5(0x108),_0x2fec37[_0x230cb5(0x1de)]=function(_0xa3fdc5,_0x2d3daf){return _0xa3fdc5!==_0x2d3daf;},_0x2fec37['SXqKs']=_0x230cb5(0x150),_0x2fec37['MdxQN']=_0x230cb5(0x17f);const _0x28ab8c=_0x2fec37;!this['clusterInfo']&&(_0x28ab8c['fTgwR'](_0x28ab8c[_0x230cb5(0x146)],_0x28ab8c['Lpstr'])?_0x16eb0b[_0x230cb5(0xc7)][_0x230cb5(0x237)](_0x1b6349):await this[_0x230cb5(0x1a2)]());const _0x2055cb=this[_0x230cb5(0x291)]?.[_0x230cb5(0x1a7)]||{};if(_0x2055cb&&_0x28ab8c['fTgwR'](_0x2055cb[_0x28ab8c[_0x230cb5(0x2a6)]],_0x28ab8c[_0x230cb5(0x12f)])){if(_0x28ab8c['XwLiL'](_0x28ab8c['SXqKs'],_0x28ab8c['MdxQN']))return!![];else{const _0x4154d0=_0x57c30c['includes'](_0x20c8aa);_0x57f265+='\x0a\x09'+_0x528251+':\x20'+(_0x4154d0?_0x28ab8c[_0x230cb5(0x225)]:_0x28ab8c['TLLgs']),!_0x4154d0&&(_0x148021[_0x230cb5(0x24d)]=![]);}}return![];}async[a1_0x3fb9a2(0x115)](_0x332379,_0xfdbcb8){const _0x356c7d=a1_0x3fb9a2,_0x4ebc87={'zpFCZ':function(_0x23ea2b,_0x33ab36){return _0x23ea2b(_0x33ab36);},'oYuFE':_0x356c7d(0x13f)};await _0x4ebc87[_0x356c7d(0xd9)](deleteAgent,_0x332379),await _0x4ebc87[_0x356c7d(0xd9)](deleteRoutingDeps,_0x332379);const _0x4dc3b6=this['containerClient'];logger[_0x356c7d(0xca)](_0x356c7d(0x118)+this[_0x356c7d(0xd5)]),await _0x4dc3b6[_0x356c7d(0x187)]['beginDeleteAndWait'](global_registry[_0x356c7d(0x281)],this['clusterName']),logger['info'](_0x4ebc87[_0x356c7d(0x180)]);}async[a1_0x3fb9a2(0x25b)](){const _0x551917=a1_0x3fb9a2,_0x11933f={};_0x11933f[_0x551917(0x1e6)]=function(_0x1be47c,_0x5bf42e){return _0x1be47c===_0x5bf42e;},_0x11933f[_0x551917(0x1cf)]=function(_0x492e9c,_0x274f64){return _0x492e9c===_0x274f64;},_0x11933f[_0x551917(0x207)]='Action\x20permission\x20list\x20is\x20empty\x0a',_0x11933f[_0x551917(0x1f2)]=function(_0x24dcf1,_0x48e291){return _0x24dcf1===_0x48e291;},_0x11933f[_0x551917(0x1d6)]=_0x551917(0x279),_0x11933f[_0x551917(0x1d2)]=_0x551917(0x23a),_0x11933f[_0x551917(0x209)]=function(_0x54b11c,_0x5bb009){return _0x54b11c&&_0x5bb009;},_0x11933f[_0x551917(0xe3)]=_0x551917(0x1e0),_0x11933f[_0x551917(0x288)]=_0x551917(0x20d),_0x11933f[_0x551917(0x13d)]='hdhDA',_0x11933f[_0x551917(0x25c)]='PxDOR',_0x11933f[_0x551917(0x283)]='Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster',_0x11933f[_0x551917(0x16f)]=_0x551917(0x16b),_0x11933f['UUuJb']=_0x551917(0x166),_0x11933f[_0x551917(0x216)]=function(_0x54d8da,_0x1cc24a){return _0x54d8da!==_0x1cc24a;},_0x11933f[_0x551917(0x140)]=_0x551917(0x239),_0x11933f[_0x551917(0x1b0)]=_0x551917(0x231);const _0x3c2dd2=_0x11933f;!this[_0x551917(0x291)]&&(_0x3c2dd2[_0x551917(0x1f2)](_0x3c2dd2[_0x551917(0x1d6)],_0x3c2dd2['voMya'])?_0x77b889[_0x551917(0x247)]=_0x14c2c5:await this[_0x551917(0x1a2)]());const _0x103321=this[_0x551917(0x291)],_0x4e75eb=this['clusterInfo']?.[_0x551917(0x1d1)]?.[_0x551917(0x1e7)]||![],_0x5463ac=this[_0x551917(0x291)]?.['securityProfile']?.['workloadIdentity']?.[_0x551917(0x1e7)]||![],_0x5df9f0=!this[_0x551917(0x291)]?.[_0x551917(0x1e3)]||![];if(_0x3c2dd2['wOAXQ'](_0x4e75eb,_0x5463ac)&&_0x5df9f0){if(_0x3c2dd2[_0x551917(0x1e6)](_0x3c2dd2['NepRD'],_0x3c2dd2['joTqv']))return _0x355e24['error']=_0x10cc82[_0x551917(0x247)],_0x4e1e3e;else return;}if(!_0x4e75eb){if(_0x3c2dd2['scqkR'](_0x3c2dd2[_0x551917(0x13d)],_0x3c2dd2[_0x551917(0x25c)]))_0x3c2dd2[_0x551917(0x1e6)](_0x51b71a['name'],_0x4f911b)&&(_0x245aa6=_0x5a05cd['id']);else{logger[_0x551917(0xca)](_0x3c2dd2[_0x551917(0x283)]);const _0x54f9e4={};_0x54f9e4[_0x551917(0x200)]=WS_EVENTS['RESOURCES'],_0x54f9e4[_0x551917(0x1f0)]=_0x3c2dd2[_0x551917(0x283)],this['webSocketUtils'][_0x551917(0x1e9)](this[_0x551917(0x296)],_0x54f9e4),_0x103321[_0x551917(0x1d1)]['enabled']=!![];}}if(!_0x5463ac){if(_0x3c2dd2[_0x551917(0x1e6)](_0x3c2dd2[_0x551917(0x16f)],_0x3c2dd2['EPANG'])){logger[_0x551917(0xca)](_0x3c2dd2[_0x551917(0x242)]);const _0x12881d={};_0x12881d['type']=WS_EVENTS[_0x551917(0x25e)],_0x12881d[_0x551917(0x1f0)]=_0x3c2dd2[_0x551917(0x242)],this['webSocketUtils'][_0x551917(0x1e9)](this[_0x551917(0x296)],_0x12881d);const _0x9e836b={};_0x9e836b['enabled']=!![],_0x103321[_0x551917(0x13e)]={'workloadIdentity':_0x9e836b,..._0x103321[_0x551917(0x13e)]};}else _0x4d571f[_0x551917(0x237)](_0x5610bb);}if(!_0x5df9f0){if(_0x3c2dd2[_0x551917(0x216)](_0x3c2dd2[_0x551917(0x140)],_0x3c2dd2[_0x551917(0x140)]))_0x5d42a2+=_0x3c2dd2[_0x551917(0x1cf)](_0x4c6033['length'],0x0)?_0x3c2dd2[_0x551917(0x207)]:'',_0x35dfdd[_0x551917(0x151)](_0x551917(0x15d)+_0x3c1b19[_0x551917(0x258)](_0x3a5d66));else{logger[_0x551917(0xca)](_0x3c2dd2[_0x551917(0x1b0)]);const _0x3a0fdb={};_0x3a0fdb[_0x551917(0x200)]=WS_EVENTS[_0x551917(0x25e)],_0x3a0fdb[_0x551917(0x1f0)]=_0x3c2dd2['taFtg'],this['webSocketUtils'][_0x551917(0x1e9)](this[_0x551917(0x296)],_0x3a0fdb),_0x103321[_0x551917(0x1e3)]=![];}}await this[_0x551917(0x26f)][_0x551917(0x187)][_0x551917(0x169)](global_registry[_0x551917(0x281)],this['clusterName'],_0x103321),await this['getClusterInfo']();}async[a1_0x3fb9a2(0x1cb)](){const _0x139e01=a1_0x3fb9a2,_0x34b878={};_0x34b878[_0x139e01(0x1bf)]=function(_0x53e087,_0x5df0c1){return _0x53e087!==_0x5df0c1;},_0x34b878[_0x139e01(0x10f)]='aMIAE',_0x34b878[_0x139e01(0x14b)]=_0x139e01(0x222);const _0x5ca452=_0x34b878,_0x1a1407=await this['networkClient'][_0x139e01(0xdf)][_0x139e01(0x138)](global_registry[_0x139e01(0x281)]),_0x26c3e8={};_0x26c3e8[_0x139e01(0x21c)]=global_registry[_0x139e01(0xbd)],_0x26c3e8[_0x139e01(0x1c0)]=global_registry[_0x139e01(0x1c6)],_0x26c3e8['cloudProvider']=AZURE,_0x26c3e8[_0x139e01(0xc7)]=[];const _0x3cc87c=_0x26c3e8;for await(const _0x12d2b8 of _0x1a1407){if(_0x5ca452[_0x139e01(0x1bf)](_0x5ca452['svDcj'],_0x5ca452[_0x139e01(0x14b)]))_0x3cc87c[_0x139e01(0xc7)][_0x139e01(0x237)](_0x12d2b8);else return _0x5adff0['error']('Cannot\x20find\x20VPC\x20'+_0x25525e+_0x139e01(0xe0)+_0x1daa4b),![];}const _0x1e4ceb={};_0x1e4ceb[_0x139e01(0x200)]=WS_EVENTS[_0x139e01(0x25e)],_0x1e4ceb[_0x139e01(0x1f0)]=_0x3cc87c,this[_0x139e01(0x232)][_0x139e01(0x1e9)](this[_0x139e01(0x296)],_0x1e4ceb);}async[a1_0x3fb9a2(0x116)](_0x192671){const _0x1ad2bc=a1_0x3fb9a2,_0x12b3f5={};_0x12b3f5[_0x1ad2bc(0x22d)]=_0x1ad2bc(0xc4),_0x12b3f5[_0x1ad2bc(0x11e)]=function(_0x53ed92,_0x27622c){return _0x53ed92===_0x27622c;},_0x12b3f5[_0x1ad2bc(0x2a2)]=_0x1ad2bc(0xdd),_0x12b3f5[_0x1ad2bc(0xc8)]=function(_0x5c25c5,_0x1540d8){return _0x5c25c5!==_0x1540d8;},_0x12b3f5['HVqws']=_0x1ad2bc(0x282),_0x12b3f5[_0x1ad2bc(0x214)]=function(_0x3610ce,_0x1ee880){return _0x3610ce===_0x1ee880;},_0x12b3f5[_0x1ad2bc(0x20c)]=_0x1ad2bc(0x184),_0x12b3f5[_0x1ad2bc(0x18f)]=function(_0x3954c4,_0x407f23){return _0x3954c4!==_0x407f23;},_0x12b3f5[_0x1ad2bc(0x11b)]='TktJH',_0x12b3f5['FzHXR']=_0x1ad2bc(0x19a);const _0x576f4f=_0x12b3f5;try{if(_0x576f4f[_0x1ad2bc(0x11e)](_0x576f4f[_0x1ad2bc(0x2a2)],_0x576f4f[_0x1ad2bc(0x2a2)])){const _0x52ed69=await this[_0x1ad2bc(0x161)]['virtualNetworks'][_0x1ad2bc(0x138)](global_registry['cloudProviderResourceGroup']);for await(const _0x28c768 of _0x52ed69){if(_0x576f4f[_0x1ad2bc(0xc8)](_0x576f4f['HVqws'],_0x576f4f[_0x1ad2bc(0x144)]))_0x57b2e5['push'](_0x40390d[_0x1ad2bc(0x19f)]);else{if(_0x576f4f[_0x1ad2bc(0x214)](_0x28c768[_0x1ad2bc(0x19f)],_0x192671)){if(_0x576f4f['sFsXo'](_0x576f4f['VyXCc'],_0x576f4f[_0x1ad2bc(0x20c)]))_0x59eded[_0x1ad2bc(0xca)](_0x576f4f[_0x1ad2bc(0x22d)]);else return!![];}}}}else return!![];}catch(_0x1b8355){if(_0x576f4f[_0x1ad2bc(0x18f)](_0x576f4f[_0x1ad2bc(0x11b)],_0x576f4f[_0x1ad2bc(0x263)]))return logger[_0x1ad2bc(0x247)](_0x1ad2bc(0x246)+_0x192671+_0x1ad2bc(0xe0)+_0x1b8355),![];else return;}return![];}async[a1_0x3fb9a2(0x1ed)](_0x14c85f,_0x5a8af5){const _0x11ba80=a1_0x3fb9a2,_0x2a9eef={};_0x2a9eef[_0x11ba80(0x233)]=_0x11ba80(0x14e),_0x2a9eef[_0x11ba80(0x1ef)]=function(_0x1ccd66,_0x12f457){return _0x1ccd66!==_0x12f457;},_0x2a9eef['tQaNq']=_0x11ba80(0xcb),_0x2a9eef[_0x11ba80(0x238)]='ihcBY',_0x2a9eef[_0x11ba80(0x25f)]=function(_0x4b3129,_0x467a31){return _0x4b3129===_0x467a31;},_0x2a9eef[_0x11ba80(0x1b4)]=function(_0x32ab2c,_0x55c1bd){return _0x32ab2c!==_0x55c1bd;},_0x2a9eef[_0x11ba80(0x1b1)]='XrOtt',_0x2a9eef[_0x11ba80(0x277)]=_0x11ba80(0x26a);const _0x3509b1=_0x2a9eef;try{if(_0x3509b1['myzZq'](_0x3509b1['tQaNq'],_0x3509b1[_0x11ba80(0x238)])){const _0x81d711=await this[_0x11ba80(0x161)]['subnets']['get'](global_registry[_0x11ba80(0x281)],_0x5a8af5,_0x14c85f[0x0]);if(_0x3509b1[_0x11ba80(0x25f)](_0x14c85f[0x0],_0x81d711['name'])){if(_0x3509b1[_0x11ba80(0x1b4)](_0x3509b1[_0x11ba80(0x1b1)],_0x3509b1[_0x11ba80(0x277)]))return[!![],_0x14c85f];else throw new _0x5acac9(_0x3509b1['cZAKv'],_0x11ba80(0x2a7)+_0x57eb0b['stringify'](_0x4da316));}}else _0xf280eb[_0x11ba80(0x237)](_0x290f1d);}catch(_0x546536){return logger[_0x11ba80(0x247)](_0x11ba80(0x202)+_0x14c85f+_0x11ba80(0x130)+_0x546536),[![],[]];}return[![],[]];}async[a1_0x3fb9a2(0x257)](){const _0x9d544d=a1_0x3fb9a2,_0x2a5775={};_0x2a5775['hmxel']=_0x9d544d(0xfd);const _0x164ca7=_0x2a5775,_0x4e6c8e={};_0x4e6c8e[_0x9d544d(0x24d)]=!![],_0x4e6c8e[_0x9d544d(0x247)]=null,_0x4e6c8e[_0x9d544d(0x27c)]=_0x164ca7[_0x9d544d(0xcc)];const _0x3ae846=_0x4e6c8e;return _0x3ae846;}async[a1_0x3fb9a2(0xf0)](){const _0x4cae2c=a1_0x3fb9a2,_0x5ae3be={};_0x5ae3be[_0x4cae2c(0x105)]=_0x4cae2c(0x1fb),_0x5ae3be[_0x4cae2c(0x1ae)]=_0x4cae2c(0x241),_0x5ae3be[_0x4cae2c(0x1a5)]=_0x4cae2c(0x23b);const _0x58525c=_0x5ae3be,_0x4572a0=await this[_0x4cae2c(0xfe)]['getToken'](_0x58525c['yVdAC']),_0x1f08aa={};_0x1f08aa['method']=_0x58525c[_0x4cae2c(0x1ae)],_0x1f08aa[_0x4cae2c(0x23f)]={},_0x1f08aa[_0x4cae2c(0x23f)][_0x4cae2c(0x236)]='Bearer\x20'+_0x4572a0['token'],_0x1f08aa[_0x4cae2c(0x23f)][_0x4cae2c(0x16a)]=_0x58525c[_0x4cae2c(0x1a5)];const _0x435c01=_0x1f08aa;return _0x435c01;}async['getPrincipalIdFromClientId'](_0x1e596b){const _0x324f7=a1_0x3fb9a2,_0x209ebb={'excUm':function(_0x341f0d,_0x266147,_0x5630cc){return _0x341f0d(_0x266147,_0x5630cc);},'crsFK':function(_0x1b08ff,_0x3bfad1){return _0x1b08ff===_0x3bfad1;},'YZwPG':_0x324f7(0x14e)},_0x1ba733={};_0x1ba733[_0x324f7(0xd6)]='',_0x1ba733[_0x324f7(0x247)]=null;const _0x366055=_0x1ba733;try{const _0x5241db=_0x324f7(0x29a)+_0x1e596b+'\x27',_0x5b8f20=await this[_0x324f7(0xf0)](),_0x122f85=await _0x209ebb[_0x324f7(0xc5)](fetch,_0x5241db,_0x5b8f20),_0xcbcfa1=await _0x122f85[_0x324f7(0x1be)]();if(!_0xcbcfa1[_0x324f7(0x100)]||_0x209ebb[_0x324f7(0x27f)](_0xcbcfa1[_0x324f7(0x100)][_0x324f7(0x280)],0x0))throw new Error(_0x209ebb['YZwPG'],'Received\x20response\x20-\x20'+JSON[_0x324f7(0x258)](_0xcbcfa1));_0x366055[_0x324f7(0xd6)]=_0xcbcfa1[_0x324f7(0x100)][0x0]['id'];}catch(_0x3aa4ac){_0x366055[_0x324f7(0x247)]=_0x3aa4ac;}return _0x366055;}async[a1_0x3fb9a2(0x22b)](){const _0x3f5563=a1_0x3fb9a2,_0x2fc030={};_0x2fc030[_0x3f5563(0x193)]=_0x3f5563(0x1a9),_0x2fc030[_0x3f5563(0x208)]=_0x3f5563(0x1c1),_0x2fc030[_0x3f5563(0x29b)]=function(_0x4e23b1,_0x1154d3){return _0x4e23b1!==_0x1154d3;},_0x2fc030[_0x3f5563(0x271)]=function(_0x56b63d,_0x4c17f9){return _0x56b63d===_0x4c17f9;},_0x2fc030[_0x3f5563(0x14d)]=_0x3f5563(0x10a),_0x2fc030[_0x3f5563(0x24c)]=function(_0x4a722,_0x2a337a){return _0x4a722===_0x2a337a;},_0x2fc030['lozJU']=_0x3f5563(0x154),_0x2fc030[_0x3f5563(0x1ac)]=function(_0x51ccd5,_0xf4f47e){return _0x51ccd5===_0xf4f47e;},_0x2fc030[_0x3f5563(0x1b8)]=_0x3f5563(0x1b5);const _0x38959b=_0x2fc030,_0x4f7cea={};_0x4f7cea[_0x3f5563(0x24d)]=![],_0x4f7cea[_0x3f5563(0x247)]=null,_0x4f7cea[_0x3f5563(0x27c)]='';const _0x237ef4=_0x4f7cea;try{let _0x54f08b='';const _0x5c5c8c='subscriptions/'+global_registry[_0x3f5563(0x131)]+_0x3f5563(0xde)+global_registry[_0x3f5563(0x281)],_0x390094=await this[_0x3f5563(0x136)](global_registry[_0x3f5563(0x162)]);if(_0x38959b[_0x3f5563(0x29b)](_0x390094['error'],null))return _0x237ef4['error']=_0x390094[_0x3f5563(0x247)],_0x237ef4;const _0x4f850b='assignedTo(\x27'+_0x390094[_0x3f5563(0xd6)]+'\x27)',_0x4e5310={};_0x4e5310['filter']=_0x4f850b;const _0x448bc8=await this[_0x3f5563(0x1f5)][_0x3f5563(0x23e)][_0x3f5563(0x16e)](_0x5c5c8c,_0x4e5310),_0x4b6bf4=[];for await(const _0x3c8def of _0x448bc8){_0x4b6bf4['push'](_0x3c8def);}if(_0x38959b[_0x3f5563(0x271)](_0x4b6bf4['length'],0x0))return _0x237ef4[_0x3f5563(0x27c)]=_0x38959b['EXkEa'],_0x237ef4;const _0x227617=[...new Set(_0x4b6bf4[_0x3f5563(0x19d)](_0x1a1d46=>_0x1a1d46[_0x3f5563(0x217)]))];if(_0x38959b[_0x3f5563(0x24c)](_0x227617[_0x3f5563(0x280)],0x0))return _0x237ef4[_0x3f5563(0x27c)]=_0x38959b[_0x3f5563(0xba)],_0x237ef4;const _0x2d3cdb=[],_0x3bd591=[];for(const _0x119d75 of _0x227617){const _0x2a3c42=await this[_0x3f5563(0x1f5)][_0x3f5563(0x16d)][_0x3f5563(0x254)](_0x119d75);logger['debug'](_0x3f5563(0xd4)+_0x2a3c42['roleName']),_0x2d3cdb[_0x3f5563(0x237)](_0x2a3c42),logger['debug'](_0x3f5563(0x198)+JSON['stringify'](_0x2a3c42['permissions'])),_0x2a3c42[_0x3f5563(0x20f)]['forEach'](_0x47c96a=>{const _0x10a2a5=_0x3f5563;_0x3bd591['push'](..._0x47c96a[_0x10a2a5(0x24e)]);});}logger[_0x3f5563(0x151)](_0x3f5563(0x179)+JSON[_0x3f5563(0x258)](_0x3bd591)),_0x38959b[_0x3f5563(0x271)](_0x3bd591[_0x3f5563(0x280)],0x0)&&(_0x54f08b+=_0x38959b[_0x3f5563(0x1ac)](_0x3bd591[_0x3f5563(0x280)],0x0)?_0x38959b[_0x3f5563(0x1b8)]:'',logger['debug'](_0x3f5563(0x15d)+JSON[_0x3f5563(0x258)](_0x2d3cdb))),_0x237ef4[_0x3f5563(0x24d)]=!![],Object[_0x3f5563(0xff)](PERMISSIONS[_0x3f5563(0x1bc)])[_0x3f5563(0xcf)](([_0x3ff638,_0x5c5fa9])=>{const _0x10d98b=_0x3f5563,_0x3855d6=_0x3bd591[_0x10d98b(0x295)](_0x3ff638);_0x54f08b+='\x0a\x09'+_0x5c5fa9+':\x20'+(_0x3855d6?_0x38959b[_0x10d98b(0x193)]:_0x38959b[_0x10d98b(0x208)]),!_0x3855d6&&(_0x237ef4[_0x10d98b(0x24d)]=![]);}),_0x237ef4[_0x3f5563(0x27c)]=_0x54f08b;}catch(_0x38c438){_0x237ef4[_0x3f5563(0x247)]=_0x38c438;}return _0x237ef4;}}function a1_0x4fcb(_0x6502e8,_0x22b6c9){const _0x3978e8=a1_0x3978();return a1_0x4fcb=function(_0x4fcbfb,_0x254138){_0x4fcbfb=_0x4fcbfb-0xb5;let _0x81cd44=_0x3978e8[_0x4fcbfb];return _0x81cd44;},a1_0x4fcb(_0x6502e8,_0x22b6c9);}const a1_0x3f3ec1={};a1_0x3f3ec1[a1_0x3fb9a2(0x189)]=AzureCloudProvider,module[a1_0x3fb9a2(0x10b)]=a1_0x3f3ec1;