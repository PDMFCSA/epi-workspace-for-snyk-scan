const a1_0x31b4a5=a1_0x49b9;(function(_0xeb5c6f,_0x12eaa9){const _0x35dca4=a1_0x49b9,_0x2e02de=_0xeb5c6f();while(!![]){try{const _0x33d76f=parseInt(_0x35dca4(0x1d8))/0x1+parseInt(_0x35dca4(0x237))/0x2*(parseInt(_0x35dca4(0x344))/0x3)+-parseInt(_0x35dca4(0x2ae))/0x4*(-parseInt(_0x35dca4(0x21c))/0x5)+-parseInt(_0x35dca4(0x26d))/0x6*(parseInt(_0x35dca4(0x2ee))/0x7)+parseInt(_0x35dca4(0x238))/0x8*(parseInt(_0x35dca4(0x397))/0x9)+parseInt(_0x35dca4(0x1c5))/0xa*(parseInt(_0x35dca4(0x34d))/0xb)+-parseInt(_0x35dca4(0x25c))/0xc;if(_0x33d76f===_0x12eaa9)break;else _0x2e02de['push'](_0x2e02de['shift']());}catch(_0x1260b2){_0x2e02de['push'](_0x2e02de['shift']());}}}(a1_0x1d08,0x28ffa));function a1_0x1d08(){const _0x4bac8d=['turboscale-identity-deployment','cqUHl','wHMWr','setClients','getPrincipalIdFromClientId','stack','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','metadata','sendAzureInfoToHST','oxffv','bOIdL','exit','definition','amtab','rLQMu','chJfS','AzDbC','UDTqs','gRMzS','principalId','/resourceGroups/','ohJKB','sendEventToBackend','\x20TENANT\x20ID:\x20','value','NKHzi','jDoBw','7673544vUujSF','listClusterAdminCredentials','TTUfM','hostname','denied','HIzsU','entries','TMEeB','VqZmL','../permissions/AZURE.json','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','MWnVO','containerClient','UhTTw','ZRdiw','oXObS','ltAFx','98082BbCzHy','actions','vwegW','CxaVH','gWRnM','baseBlob','createManagedIdentity','mpKNG','YVBgw','azureresources','vpcName','OKqny','includes','federatedidentityuploader.json','txTMW','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','\x20SUBSCRIPTION\x20ID:\x20','storageAccounts','managedClusters','.\x20Error:\x20','log','networkClient','username','VgXNL','ztlfX','getKubeConfigData','userInstanceType','toUpperCase','isVPCPresent','createOtherResources','DNvUK','rZfJC','hBRpk','dTYzt','DAWNn','../config/logger','aPyHJ','0|4|2|5|1|3','setCachedCredsInRegistry','LJFei','6|1|0|3|2|4|7|5','XLMxO','AYXpa','uogQx','WnuYs','FoLdB','path','readFileAsync','assignedTo(\x27','yIinx','DKCzE','resourceGroup','liNek','resources','isStorageAccountPresent','NXExz','getStorageAccountName','xJfGe','qrgWI','NOeRd','yFCZm','loadBalancer','Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha','managedidentity.json','toLowerCase','168aaKJjq','yZIDr','MPxda','wTWLX','HFAfZ','nJwuJ','hubHaNameSpace','oidcIssuerProfile','WLuch','qauij','GZQpQ','FLcVV','location','SJulD','DFbaT','pnPkS','jWyjY','AzureCloudProvider','isCliToolInstalled','info','cOIfc','fnBwk','ZSFEk','xXDta','Created\x20Azure\x20federated\x20identity','Enabling\x20Local\x20account\x20for\x20the\x20cluster','XLEXS','EMEdc','federatedidentity','daysAfterCreationGreaterThan','HfkCv','njqNi','No\x20attached\x20role\x20for\x20the\x20client\x20key','aGCFz','EkVKJ','cloudProvider','wymov','Utyhw','kkJUa','deleteCluster','getToken','join','.json','toString','string','Incremental','turboscale-federated-deployment','uGmhq','Cxrqd','eMhJw','turboscale-cluster-deployment','mSIBx','mLyma','setupNewCluster','stringify','tfNlR','VIfeO','lPfgh','hBcPQ','tZnVd','roleDefinitionId','qVfJL','ingress','QSusS','56YXLraO','Found\x20only\x20one\x20resource\x20group:\x20','HZBpC','ibCsd','isManagedIdentityPresent','GSPdM','ILtKs','LsLVM','clientId','createFederatedAccountForHubHA','cWJID','gJpYR','roleAssignments','cred','QSGNn','rws','phHcA','yLYSi','aozxC','aRjuk','oVBRa','resourceGroups','cloudProviderResourceGroup','qnNqn','XtDFf','nGTLB','message','node','[variables(\x27vnetSubnetID\x27)]','XDiCB','MQNKY','YbnXV','js-yaml','MkNnw','KkVmP','turboscale-storageaccount-deployment','beginCreateOrUpdateAndWait','list','UYZOc','dcQeZ','status','KKaqE','KBfKV','error','TpSoX','lyOJg','QSIQT','LMRZe','xDhPV','UYeGT','yGLTQ','VvPEs','crnwq','instanceType','push','QfKyn','getHeader','xNrMZ','CtjbX','IBeXB','UALaB','clusterName','caZQU','listAll','KEsqH','cYLWh','EinSQ','split','Oawzv','filters','clusterAutoUpgrade','nDeWb','templates','PAJwi','CKPHm','cZKFY','permissions','vpcInfo','init','turboscale','vnetSubnetID','forEach','eFArL','lnzDr','utf-8','RESOURCES','30LbaGuu','debug','virtualNetworks','getResourceClientId','false','agentPoolProfiles','UUZgh','No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles','qjjjJ','2508ANvRrn','cloudProviderName','UXMQZ','properties','subscriptionId','UeCNi','Attached\x20permissions\x20:\x20','disableLocalAccounts','cloudProviderSubscriptionId','uhYRH','luHeg','Creating\x20Azure\x20storage\x20account','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','enabled','ejIXb','browserstack:managedBy','blobTypes','QDttx','RAuCL','PgJgD','type','getGridHostname','cloudProviderClientId','kubeconfigs','VikhU','No\x20service\x20principal\x20found','ucdKq','OTlLR','turboscale-managed-identity-','TVGdr','Creating\x20Azure\x20managed\x20identity','maxNodes','createCluster','subnetName','webSocketUtils','xfFMe','DSEal','EqBWh','Action\x20permission\x20list\x20is\x20empty\x0a','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','uXJKK','bstackUsername','fNylj','NaHGv','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','workloadIdentity','storageaccount.json','Received\x20response\x20-\x20','IbwfW','yIxvL','txstb','bstackAccesskey','createOrUpdate','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','rNouB','NhWoh','cJEyo','zSAuc','GsunA','clientSecret','hubharesources','getById','description','variables','updateClusterAlreadyPresent','mYQnV','Bearer\x20','GhQOS','Kbsda','dkKSA','ecivj','GmenJ','akmiC','headers','1448109aLQIdD','roleDefinitions','clusterRegion','erkGr','FoSBM','Ymzzq','pPLJL','ZuTlY','SoZwY','oVvzM','pgJsI','IHnNY','fCZtV','createFederatedAccount','EzrEn','rules','parameters','https://graph.microsoft.com/.default','deployments','FnRJm','tags','listForScope','wjaiz','mhaEA','default','createStorageAccount','hgdCW','isBrowserstackCluster','subscriptions/','Lifecycle','kBdjs','get','mAgfV','JOrDT','12590CraOAC','getClusterInfo','0|2|4|5|1|3','IXhkd','bBZWZ','evhtt','allowed','actionPermission\x20:\x20','RcCyh','YoSDA','@azure/arm-network','qIUzJ','getResourceGroups','spqGm','SdNMv','XSVEf','akscluster.json','delete','fYLBA','45759mnvIJu','NvKfP','name','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','managementPolicies','fTulP','../utils/gridComponents','slice','securityProfile','@azure/arm-resources','listByResourceGroup','kvlyu','length','Cannot\x20find\x20subnets\x20','getUserInput','data','token','ruzKC','lqahC','sRwLM','YGZfm','Qezop','PkUuC','authClient','parse','userMaxNodes','roleName','storageAccountName','NegAJ','method','AAwuZ','tPoIm','ZvsIr','kdFSw','qmiUe','accessKey','subnets','@azure/arm-containerservice','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','Blob\x20delete\x20lifecycle','role\x20name\x20attached\x20-\x20','TpJip','UlMES','ubzSd','qSNLk','LrFqT','Cannot\x20find\x20VPC\x20','WTWtL','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','cloudProviderTenantId','hPana','KnAUw','GHwtF','LOG','Swwdi','JVCyd','Creating\x20Azure\x20federated\x20identity','PKZSs','@azure/arm-storage','zWXRM','AMoWW','WbzuS','kjSxC','HaPfr','json','mAizX','bZCgO','WwsTY','29615pKuOyg','jLjgK','VURvJ','ATIeF','tenantId','txEiR','../config/constants','sgITl','KMXtU','xmewD','jswdM','blockBlob','CQVqu','@azure/identity','ztgTe','clusterInfo','ultoS','nTtLK','fBClp','resourceClient','s3Bucket','./CloudProvider','ArJPn','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','apWdY','Managed\x20identity\x20already\x20exists,\x20skipping','tNcUZ','39138oNdlWt','8Kknbpf','lxoQB','seOww','cHpfk','JcJrB','cloudProviderClientSecret','Zpagx','gjlKv','storageClient'];a1_0x1d08=function(){return _0x4bac8d;};return a1_0x1d08();}const fs=require('fs'),path=require(a1_0x31b4a5(0x29b)),yaml=require(a1_0x31b4a5(0x30e)),{logger}=require(a1_0x31b4a5(0x290)),{CloudProvider}=require(a1_0x31b4a5(0x231)),{deleteRoutingDeps,deleteAgent}=require(a1_0x31b4a5(0x1de)),{AZURE,WS_EVENTS,global_registry}=require(a1_0x31b4a5(0x222)),PERMISSIONS=require(a1_0x31b4a5(0x265)),{ClientSecretCredential}=require(a1_0x31b4a5(0x229)),{NetworkManagementClient}=require(a1_0x31b4a5(0x1cf)),{StorageManagementClient}=require(a1_0x31b4a5(0x212)),{AuthorizationManagementClient}=require('@azure/arm-authorization'),{ResourceManagementClient}=require(a1_0x31b4a5(0x1e1)),{ContainerServiceClient}=require(a1_0x31b4a5(0x1fd)),{runCommand}=require('../utils/utilityMethods');class AzureCloudProvider extends CloudProvider{constructor(_0x2a85f7,_0x2bf77a,_0x48c989,_0x35ef24){const _0x45e344=a1_0x31b4a5,_0x4dfd9f={};_0x4dfd9f[_0x45e344(0x2df)]=_0x45e344(0x295);const _0x3abb13=_0x4dfd9f,_0x5e9782=_0x3abb13[_0x45e344(0x2df)][_0x45e344(0x331)]('|');let _0x53930e=0x0;while(!![]){switch(_0x5e9782[_0x53930e++]){case'0':this[_0x45e344(0x22b)]=null;continue;case'1':this[_0x45e344(0x2fb)]=null;continue;case'2':this[_0x45e344(0x240)]=null;continue;case'3':this['containerClient']=null;continue;case'4':this[_0x45e344(0x22f)]=null;continue;case'5':this[_0x45e344(0x1ef)]=null;continue;case'6':super(AZURE,_0x2a85f7,_0x2bf77a,_0x48c989,_0x35ef24);continue;case'7':this[_0x45e344(0x282)]=null;continue;}break;}}async[a1_0x31b4a5(0x33c)](){const _0xb9a81b=a1_0x31b4a5;return await super[_0xb9a81b(0x33c)](),this;}[a1_0x31b4a5(0x244)](){const _0x33a9ca=a1_0x31b4a5,_0x7ca26f=new ClientSecretCredential(global_registry['cloudProviderTenantId'],global_registry[_0x33a9ca(0x363)],global_registry[_0x33a9ca(0x23d)]);this['containerClient']=new ContainerServiceClient(_0x7ca26f,global_registry[_0x33a9ca(0x355)]),this[_0x33a9ca(0x240)]=new StorageManagementClient(_0x7ca26f,global_registry[_0x33a9ca(0x355)]),this['resourceClient']=new ResourceManagementClient(_0x7ca26f,global_registry['cloudProviderSubscriptionId']),this[_0x33a9ca(0x282)]=new NetworkManagementClient(_0x7ca26f,global_registry[_0x33a9ca(0x355)]),this[_0x33a9ca(0x1ef)]=new AuthorizationManagementClient(_0x7ca26f,global_registry['cloudProviderSubscriptionId']),this[_0x33a9ca(0x2fb)]=_0x7ca26f;}[a1_0x31b4a5(0x2a5)](){const _0x503673=a1_0x31b4a5,_0x59d151={};_0x59d151[_0x503673(0x271)]=function(_0x11427e,_0x1e94ce){return _0x11427e+_0x1e94ce;},_0x59d151[_0x503673(0x340)]=_0x503673(0x33d),_0x59d151['amtab']=function(_0x441fe7,_0x3848c7){return _0x441fe7-_0x3848c7;};const _0xc71117=_0x59d151,_0x5b0a5f=global_registry[_0x503673(0x230)][_0x503673(0x331)]('-'),_0x158731=_0xc71117[_0x503673(0x271)](_0xc71117['eFArL'],_0x5b0a5f[_0xc71117[_0x503673(0x24e)](_0x5b0a5f[_0x503673(0x1e4)],0x1)])[_0x503673(0x1df)](0x0,0x18);return _0x158731[_0x503673(0x2ad)]();}[a1_0x31b4a5(0x293)](_0x34e6bd){const _0x21bf98=a1_0x31b4a5,_0x1426a7={};_0x1426a7[_0x21bf98(0x31d)]=_0x21bf98(0x292);const _0x44d081=_0x1426a7,_0x5b3760=_0x44d081[_0x21bf98(0x31d)][_0x21bf98(0x331)]('|');let _0x10c315=0x0;while(!![]){switch(_0x5b3760[_0x10c315++]){case'0':global_registry[_0x21bf98(0x363)]=_0x34e6bd[this[_0x21bf98(0x34e)]][_0x21bf98(0x2f6)];continue;case'1':global_registry[_0x21bf98(0x304)]=_0x34e6bd[this[_0x21bf98(0x34e)]][_0x21bf98(0x2a0)];continue;case'2':global_registry[_0x21bf98(0x209)]=_0x34e6bd[this[_0x21bf98(0x34e)]]['tenantId'];continue;case'3':this[_0x21bf98(0x244)]();continue;case'4':global_registry[_0x21bf98(0x23d)]=_0x34e6bd[this[_0x21bf98(0x34e)]][_0x21bf98(0x388)];continue;case'5':global_registry[_0x21bf98(0x355)]=_0x34e6bd[this['cloudProviderName']][_0x21bf98(0x351)];continue;}break;}}async[a1_0x31b4a5(0x1e6)](_0x33124c,_0x502ee0){const _0x294e43=a1_0x31b4a5,_0x5c4e18={'AMoWW':'No\x20CLI\x20tool\x20required','Azcxn':_0x294e43(0x2ce),'Qezop':function(_0x52233c,_0x304c80){return _0x52233c===_0x304c80;},'ltAFx':function(_0x4dc9d7,_0x11c931,_0x1c3160){return _0x4dc9d7(_0x11c931,_0x1c3160);},'yIxvL':function(_0x106a31,_0x3dcf37){return _0x106a31(_0x3dcf37);},'fTulP':function(_0x359b2a,_0x4d12f1){return _0x359b2a(_0x4d12f1);},'bZCgO':function(_0x4c4751,_0x1a2d0a){return _0x4c4751!==_0x1a2d0a;},'CdWlY':_0x294e43(0x307),'fNylj':_0x294e43(0x39d),'lPfgh':function(_0x37ddc1,_0x26299c){return _0x37ddc1(_0x26299c);},'UXMQZ':function(_0x1da5d0,_0x54f9aa){return _0x1da5d0===_0x54f9aa;},'ecivj':function(_0x549818,_0x4f800c){return _0x549818===_0x4f800c;},'kvlyu':_0x294e43(0x2cd),'mLyma':function(_0x4782ce,_0x5661bc){return _0x4782ce===_0x5661bc;},'mAgfV':function(_0x4cc1b4,_0x3de116){return _0x4cc1b4===_0x3de116;},'JcJrB':_0x294e43(0x2b0),'xfFMe':'WNgFC','SJulD':_0x294e43(0x266),'EinSQ':_0x294e43(0x34a),'QSGNn':function(_0x1921bf,_0x217501){return _0x1921bf===_0x217501;},'JwdYM':_0x294e43(0x31b),'QZeAh':_0x294e43(0x32e),'SdNMv':function(_0x2eb4db,_0x550cfb){return _0x2eb4db<_0x550cfb;},'TVGdr':_0x294e43(0x2b2),'NhWoh':_0x294e43(0x285),'CxaVH':function(_0xd423ef,_0x3948f6){return _0xd423ef+_0x3948f6;},'oXObS':_0x294e43(0x233),'bQsbg':function(_0x118c49,_0x4b0483){return _0x118c49(_0x4b0483);},'LsLVM':function(_0x33214a,_0x1dbb1d){return _0x33214a<=_0x1dbb1d;},'yIinx':function(_0x1bbe36,_0x177128){return _0x1bbe36>_0x177128;},'UfekS':_0x294e43(0x234),'wTWLX':_0x294e43(0x284),'FoLdB':function(_0x192232,_0x564d76){return _0x192232-_0x564d76;}},_0x2dfe42=this[_0x294e43(0x34e)][_0x294e43(0x288)](),_0x2b44ef=await _0x5c4e18[_0x294e43(0x37e)](_0x33124c,_0x2dfe42+'\x20CLIENT\x20ID:\x20'),_0x33242b=await _0x5c4e18['fTulP'](_0x33124c,_0x2dfe42+'\x20CLIENT\x20SECRET:\x20'),_0x2b2bdf=await _0x5c4e18[_0x294e43(0x37e)](_0x33124c,_0x2dfe42+_0x294e43(0x258)),_0x451a9b=await _0x5c4e18[_0x294e43(0x37e)](_0x33124c,_0x2dfe42+_0x294e43(0x27d));global_registry[_0x294e43(0x363)]=_0x2b44ef,global_registry[_0x294e43(0x23d)]=_0x33242b,global_registry[_0x294e43(0x209)]=_0x2b2bdf,global_registry['cloudProviderSubscriptionId']=_0x451a9b,this[_0x294e43(0x244)]();const _0xa1ff7=await this['getResourceGroups'](),_0x506402=_0xa1ff7[_0x294e43(0x1e4)];let _0x4fa225;if(_0x5c4e18[_0x294e43(0x1ed)](_0x506402,0x0)){if(_0x5c4e18[_0x294e43(0x21a)](_0x5c4e18['CdWlY'],_0x5c4e18[_0x294e43(0x377)]))_0x4fa225=await _0x5c4e18[_0x294e43(0x2e7)](_0x33124c,_0x2dfe42+'\x20RESOURCE\x20GROUP:\x20');else{const _0x2e5ca5={};_0x2e5ca5['status']=!![],_0x2e5ca5[_0x294e43(0x319)]=null,_0x2e5ca5[_0x294e43(0x1e7)]=_0x5c4e18[_0x294e43(0x214)];const _0x431004=_0x2e5ca5;return _0x431004;}}else{if(_0x5c4e18[_0x294e43(0x34f)](_0x506402,0x1)){if(_0x5c4e18[_0x294e43(0x393)](_0x5c4e18[_0x294e43(0x1e3)],_0x5c4e18['kvlyu'])){const _0x23c76e=await _0x5c4e18[_0x294e43(0x2e7)](_0x33124c,_0x294e43(0x2ef)+_0xa1ff7[0x0]+_0x294e43(0x374));if(_0x5c4e18[_0x294e43(0x2e2)](_0x23c76e,undefined)||_0x5c4e18['Qezop'](_0x23c76e,null)||!(_0x5c4e18['Qezop'](_0x23c76e[_0x294e43(0x2ad)](),'y')||_0x5c4e18[_0x294e43(0x2e2)](_0x23c76e[_0x294e43(0x2ad)](),'n'))){if(_0x5c4e18[_0x294e43(0x1c3)](_0x5c4e18[_0x294e43(0x23c)],_0x5c4e18[_0x294e43(0x370)]))return _0x4d414d[_0x294e43(0x1e7)]=_0x5c4e18['Azcxn'],_0x347e5b;else console['error'](_0x5c4e18[_0x294e43(0x2bb)]),process[_0x294e43(0x24c)](0x1);}if(_0x5c4e18[_0x294e43(0x34f)](_0x23c76e[_0x294e43(0x2ad)](),'n')){if(_0x5c4e18[_0x294e43(0x34f)](_0x5c4e18[_0x294e43(0x330)],_0x5c4e18['EinSQ']))process['exit'](0x0);else return!![];}_0x4fa225=_0xa1ff7[0x0];}else _0x5c4e18[_0x294e43(0x1ed)](_0x21ebec[_0x294e43(0x1da)],_0x240360)&&(_0x10dc81=_0x4df1ba['id']);}else{if(_0x5c4e18[_0x294e43(0x2fc)](_0x5c4e18['JwdYM'],_0x5c4e18['QZeAh']))_0x4fdece[_0x294e43(0x33b)][_0x294e43(0x324)](_0x603fc6);else{for(let _0x4a2cd2=0x0;_0x5c4e18[_0x294e43(0x1d3)](_0x4a2cd2,_0xa1ff7[_0x294e43(0x1e4)]);_0x4a2cd2+=0x1){_0x5c4e18[_0x294e43(0x21a)](_0x5c4e18[_0x294e43(0x36a)],_0x5c4e18[_0x294e43(0x384)])?console[_0x294e43(0x281)]('['+_0x5c4e18[_0x294e43(0x270)](_0x4a2cd2,0x1)+']\x20'+_0xa1ff7[_0x4a2cd2]):_0x5c4e18[_0x294e43(0x26c)](_0x1ea394,()=>_0x3bb369(),0x3e8);}const _0x44bd6f=await _0x5c4e18[_0x294e43(0x37e)](_0x33124c,_0x5c4e18[_0x294e43(0x26b)]),_0x3e1544=_0x5c4e18['bQsbg'](Number,_0x44bd6f);if(_0x5c4e18[_0x294e43(0x1dd)](isNaN,_0x3e1544)||_0x5c4e18[_0x294e43(0x2f5)](_0x3e1544,0x0)||_0x5c4e18[_0x294e43(0x29e)](_0x3e1544,_0x506402)){if(_0x5c4e18[_0x294e43(0x2e2)](_0x5c4e18['UfekS'],_0x5c4e18[_0x294e43(0x2b1)]))return _0x1da1b9['error'](_0x294e43(0x206)+_0x5c9c87+_0x294e43(0x1db)+_0x573768),![];else console[_0x294e43(0x319)](_0x5c4e18[_0x294e43(0x2bb)]),process[_0x294e43(0x24c)](0x1);}_0x4fa225=_0xa1ff7[_0x5c4e18[_0x294e43(0x29a)](_0x3e1544,0x1)];}}}global_registry[_0x294e43(0x304)]=_0x4fa225;const _0x16aa52={};return _0x16aa52[_0x294e43(0x2f6)]=_0x2b44ef,_0x16aa52[_0x294e43(0x388)]=_0x33242b,_0x16aa52[_0x294e43(0x220)]=_0x2b2bdf,_0x16aa52[_0x294e43(0x351)]=_0x451a9b,_0x16aa52[_0x294e43(0x2a0)]=_0x4fa225,_0x502ee0[_0x294e43(0x2d1)][AZURE]=_0x16aa52,_0x502ee0;}async[a1_0x31b4a5(0x1d1)](){const _0x57b8ca=a1_0x31b4a5,_0x5a0170={};_0x5a0170['ultoS']=_0x57b8ca(0x266),_0x5a0170['fBClp']=function(_0x2f0b44,_0x26f79a){return _0x2f0b44!==_0x26f79a;},_0x5a0170[_0x57b8ca(0x252)]='KjOLZ',_0x5a0170[_0x57b8ca(0x367)]='XiLZV',_0x5a0170[_0x57b8ca(0x275)]=function(_0x337fca,_0x2010e1){return _0x337fca===_0x2010e1;},_0x5a0170[_0x57b8ca(0x251)]=_0x57b8ca(0x383),_0x5a0170['KKkzm']='QCIve';const _0x4bd127=_0x5a0170,_0xd5159d=[];try{if(_0x4bd127[_0x57b8ca(0x22e)](_0x4bd127[_0x57b8ca(0x252)],_0x4bd127[_0x57b8ca(0x367)])){const _0x4208c8=await this['resourceClient'][_0x57b8ca(0x303)][_0x57b8ca(0x313)]();for await(const _0xdcae67 of _0x4208c8){_0x4bd127[_0x57b8ca(0x275)](_0x4bd127[_0x57b8ca(0x251)],_0x4bd127['KKkzm'])?(_0x4a6723[_0x57b8ca(0x319)](_0x4bd127[_0x57b8ca(0x22c)]),_0x9fa46a[_0x57b8ca(0x24c)](0x1)):_0xd5159d[_0x57b8ca(0x324)](_0xdcae67[_0x57b8ca(0x1da)]);}}else _0x5db1ec=_0x274bf8['id'];}catch(_0x54dddf){}return _0xd5159d;}async['getClusterInfo'](){const _0x105ec1=a1_0x31b4a5;return this[_0x105ec1(0x22b)]=await this[_0x105ec1(0x268)][_0x105ec1(0x27f)][_0x105ec1(0x1c2)](global_registry[_0x105ec1(0x304)],this['clusterName']),this[_0x105ec1(0x22b)];}async[a1_0x31b4a5(0x286)](){const _0x51e996=a1_0x31b4a5,_0x3c4437=await this['containerClient'][_0x51e996(0x27f)][_0x51e996(0x25d)](global_registry[_0x51e996(0x304)],this[_0x51e996(0x32b)]),_0x53e19e=_0x3c4437[_0x51e996(0x364)][0x0][_0x51e996(0x259)][_0x51e996(0x2d9)]();return _0x53e19e;}[a1_0x31b4a5(0x362)](_0x5e9463){const _0x2d0e33=a1_0x31b4a5;return _0x5e9463['status'][_0x2d0e33(0x2aa)][_0x2d0e33(0x2ec)][0x0][_0x2d0e33(0x25f)];}async['isClusterPresent'](){const _0x668024=a1_0x31b4a5,_0x4517b0={};_0x4517b0[_0x668024(0x28e)]=_0x668024(0x2c7),_0x4517b0[_0x668024(0x325)]=function(_0x131aa4,_0x49854b){return _0x131aa4===_0x49854b;},_0x4517b0[_0x668024(0x23f)]=function(_0x2ed136,_0x5712ed){return _0x2ed136===_0x5712ed;},_0x4517b0['crMsW']=_0x668024(0x1ce),_0x4517b0[_0x668024(0x39c)]='FitID',_0x4517b0[_0x668024(0x2e6)]=function(_0x5b545f,_0x262c38){return _0x5b545f!==_0x262c38;},_0x4517b0[_0x668024(0x3a3)]=_0x668024(0x341),_0x4517b0['pgJsI']=function(_0x53107c,_0x9c86a2){return _0x53107c===_0x9c86a2;},_0x4517b0['hPana']=_0x668024(0x31e);const _0x3e274c=_0x4517b0,_0x31e421=new Array();for await(const _0x5b7477 of this['containerClient'][_0x668024(0x27f)][_0x668024(0x1e2)](global_registry[_0x668024(0x304)])){if(_0x3e274c[_0x668024(0x23f)](_0x3e274c['crMsW'],_0x3e274c['Ymzzq'])){const _0x95869b=new _0x3aab96(_0x19218e[_0x668024(0x209)],_0x475d1c[_0x668024(0x363)],_0x3319f4[_0x668024(0x23d)]);this[_0x668024(0x268)]=new _0xab22ad(_0x95869b,_0x170095[_0x668024(0x355)]),this['storageClient']=new _0x2f9616(_0x95869b,_0xae0678[_0x668024(0x355)]),this['resourceClient']=new _0x502aed(_0x95869b,_0x1e0a7a[_0x668024(0x355)]),this[_0x668024(0x282)]=new _0x166fc2(_0x95869b,_0x3dd9a7['cloudProviderSubscriptionId']),this[_0x668024(0x1ef)]=new _0x2d4e46(_0x95869b,_0x11f9b2[_0x668024(0x355)]),this[_0x668024(0x2fb)]=_0x95869b;}else _0x31e421[_0x668024(0x324)](_0x5b7477);}for await(const _0x57c0af of _0x31e421){if(_0x3e274c[_0x668024(0x2e6)](_0x3e274c[_0x668024(0x3a3)],_0x3e274c[_0x668024(0x3a3)])){_0x4b8876[_0x668024(0x2c1)](_0x3e274c[_0x668024(0x28e)]);const _0x52f9d1={};_0x52f9d1[_0x668024(0x361)]=_0x147fe3[_0x668024(0x343)],_0x52f9d1[_0x668024(0x308)]=_0x3e274c[_0x668024(0x28e)],this[_0x668024(0x36f)][_0x668024(0x257)](this[_0x668024(0x2fd)],_0x52f9d1),_0x46fa0c['disableLocalAccounts']=![];}else{if(_0x3e274c[_0x668024(0x3a1)](_0x57c0af['name'],this['clusterName'])){if(_0x3e274c['VIfeO'](_0x3e274c[_0x668024(0x20a)],_0x3e274c['hPana'])){if(_0x3e274c[_0x668024(0x325)](_0x1999ed['name'],_0xf38b59))return!![];}else return await this['getClusterInfo'](),!![];}}}return![];}async[a1_0x31b4a5(0x2e3)](_0x25d5a1=null,_0x83136f=null){const _0xa0d4fc=a1_0x31b4a5,_0x517738={};_0x517738[_0xa0d4fc(0x2d0)]='4|1|5|3|0|2',_0x517738['qIUzJ']='Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity';const _0x4a2e96=_0x517738,_0xcb1ec7=_0x4a2e96['EkVKJ']['split']('|');let _0x26d56a=0x0;while(!![]){switch(_0xcb1ec7[_0x26d56a++]){case'0':await this[_0xa0d4fc(0x28a)]();continue;case'1':const _0x5d5be2={};_0x5d5be2['type']=WS_EVENTS[_0xa0d4fc(0x20d)],_0x5d5be2[_0xa0d4fc(0x308)]=_0x4a2e96[_0xa0d4fc(0x1d0)],this['webSocketUtils'][_0xa0d4fc(0x257)](this[_0xa0d4fc(0x2fd)],_0x5d5be2);continue;case'2':return[_0x25d5a1,_0x83136f];case'3':await this[_0xa0d4fc(0x36d)](_0x25d5a1,_0x83136f);continue;case'4':this[_0xa0d4fc(0x249)]();continue;case'5':logger[_0xa0d4fc(0x2c1)](_0x4a2e96[_0xa0d4fc(0x1d0)]);continue;}break;}}async['createCluster'](_0x3713f7=null,_0x5bbea8=null){const _0x28942c=a1_0x31b4a5,_0xad6a02={};_0xad6a02[_0x28942c(0x2b7)]=_0x28942c(0x1cb),_0xad6a02[_0x28942c(0x1ee)]='denied',_0xad6a02[_0x28942c(0x24a)]=_0x28942c(0x336),_0xad6a02[_0x28942c(0x2eb)]=_0x28942c(0x276),_0xad6a02[_0x28942c(0x385)]=_0x28942c(0x1d5),_0xad6a02[_0x28942c(0x21b)]='utf-8',_0xad6a02[_0x28942c(0x2a4)]='true',_0xad6a02[_0x28942c(0x1bd)]=_0x28942c(0x348),_0xad6a02[_0x28942c(0x387)]=function(_0xbd5dc5,_0x10a47d){return _0xbd5dc5!==_0x10a47d;},_0xad6a02['uGmhq']=function(_0x4972c4,_0x571de8){return _0x4972c4!==_0x571de8;},_0xad6a02['XDiCB']=_0x28942c(0x35b),_0xad6a02[_0x28942c(0x278)]='EokGK',_0xad6a02[_0x28942c(0x204)]=_0x28942c(0x2da),_0xad6a02['WLuch']=_0x28942c(0x27c),_0xad6a02['ZUHLY']=_0x28942c(0x1fe),_0xad6a02['GSPdM']=_0x28942c(0x30a),_0xad6a02['KkVmP']=_0x28942c(0x2e0),_0xad6a02[_0x28942c(0x35e)]='Incremental';const _0x44d32c=_0xad6a02;let _0x4f2ee7=await fs[_0x28942c(0x29c)](path['join'](__dirname,'..',_0x44d32c[_0x28942c(0x24a)],_0x44d32c['qVfJL'],_0x44d32c[_0x28942c(0x385)]),_0x44d32c[_0x28942c(0x21b)]);_0x4f2ee7=JSON[_0x28942c(0x1f0)](_0x4f2ee7);const _0x3db45a={};_0x3db45a[_0x28942c(0x259)]=this[_0x28942c(0x32b)];const _0x489770={};_0x489770['value']=global_registry[_0x28942c(0x399)];const _0x25c013={};_0x25c013['value']=global_registry[_0x28942c(0x323)];const _0x46f2e1={};_0x46f2e1['value']=global_registry[_0x28942c(0x36c)];const _0x236959={};_0x236959['value']=global_registry[_0x28942c(0x334)]?_0x44d32c[_0x28942c(0x2a4)]:_0x44d32c[_0x28942c(0x1bd)];const _0x1e88c5={};_0x1e88c5[_0x28942c(0x32b)]=_0x3db45a,_0x1e88c5[_0x28942c(0x2ba)]=_0x489770,_0x1e88c5[_0x28942c(0x287)]=_0x25c013,_0x1e88c5[_0x28942c(0x1f1)]=_0x46f2e1,_0x1e88c5['clusterAutoUpgrade']=_0x236959;let _0x35c6c2=_0x1e88c5;if(_0x44d32c[_0x28942c(0x387)](_0x3713f7,null)&&_0x44d32c[_0x28942c(0x2dd)](_0x5bbea8,null)){if(_0x44d32c[_0x28942c(0x2dd)](_0x44d32c[_0x28942c(0x30b)],_0x44d32c[_0x28942c(0x278)])){const _0x3892db={};_0x3892db[_0x28942c(0x361)]=_0x44d32c[_0x28942c(0x204)],_0x3892db[_0x28942c(0x248)]={},_0x3892db[_0x28942c(0x248)][_0x28942c(0x38b)]=_0x44d32c[_0x28942c(0x2b6)];const _0x1cf7cd={};_0x1cf7cd[_0x28942c(0x361)]=_0x44d32c['qSNLk'],_0x1cf7cd[_0x28942c(0x248)]={},_0x1cf7cd[_0x28942c(0x248)]['description']=_0x44d32c[_0x28942c(0x2b6)],_0x4f2ee7[_0x28942c(0x1b3)]={..._0x4f2ee7[_0x28942c(0x1b3)],'vpcName':_0x3892db,'subnetName':_0x1cf7cd};const _0x19f126={};_0x19f126[_0x28942c(0x33e)]=_0x44d32c['ZUHLY'],_0x4f2ee7[_0x28942c(0x38c)]=_0x19f126,_0x4f2ee7[_0x28942c(0x2a2)][0x0][_0x28942c(0x350)][_0x28942c(0x349)][0x0]={..._0x4f2ee7[_0x28942c(0x2a2)][0x0][_0x28942c(0x350)][_0x28942c(0x349)][0x0],'vnetSubnetID':_0x44d32c[_0x28942c(0x2f3)]};const _0xfd6660={};_0xfd6660[_0x28942c(0x259)]=_0x3713f7;const _0x3c2d57={};_0x3c2d57[_0x28942c(0x259)]=_0x5bbea8[0x0],_0x35c6c2={..._0x35c6c2,'vpcName':_0xfd6660,'subnetName':_0x3c2d57};}else{const _0x3d1a92=_0x2865c9[_0x28942c(0x279)](_0xfb88f8);_0x4f1098+='\x0a\x09'+_0x2262f4+':\x20'+(_0x3d1a92?_0x44d32c[_0x28942c(0x2b7)]:_0x44d32c[_0x28942c(0x1ee)]),!_0x3d1a92&&(_0x4708f6['status']=![]);}}await this[_0x28942c(0x22f)][_0x28942c(0x1b5)]['beginCreateOrUpdateAndWait'](global_registry['cloudProviderResourceGroup'],_0x44d32c[_0x28942c(0x310)],{'properties':{'template':_0x4f2ee7,'mode':_0x44d32c[_0x28942c(0x35e)],'parameters':_0x35c6c2}});}async[a1_0x31b4a5(0x28a)](){const _0xc6bf1=a1_0x31b4a5,_0x7b4692={};_0x7b4692['UhTTw']=function(_0x2e5d2d,_0x1f46cf){return _0x2e5d2d+_0x1f46cf;},_0x7b4692[_0xc6bf1(0x213)]=_0xc6bf1(0x33d),_0x7b4692[_0xc6bf1(0x321)]=function(_0x15168d,_0x306abc){return _0x15168d-_0x306abc;},_0x7b4692[_0xc6bf1(0x365)]=function(_0x419615,_0x41f515){return _0x419615===_0x41f515;},_0x7b4692[_0xc6bf1(0x29f)]=_0xc6bf1(0x302),_0x7b4692[_0xc6bf1(0x327)]=_0xc6bf1(0x358),_0x7b4692[_0xc6bf1(0x322)]=function(_0x377946,_0x26ce60){return _0x377946!==_0x26ce60;},_0x7b4692['OTlLR']='dyVRF',_0x7b4692[_0xc6bf1(0x378)]=_0xc6bf1(0x315),_0x7b4692[_0xc6bf1(0x3a2)]='Storage\x20account\x20already\x20exists,\x20skipping',_0x7b4692[_0xc6bf1(0x1c8)]=_0xc6bf1(0x1fa),_0x7b4692[_0xc6bf1(0x329)]=_0xc6bf1(0x36b),_0x7b4692[_0xc6bf1(0x320)]=_0xc6bf1(0x256),_0x7b4692[_0xc6bf1(0x296)]='Managed\x20identity\x20already\x20exists,\x20skipping',_0x7b4692['aRjuk']=_0xc6bf1(0x210),_0x7b4692[_0xc6bf1(0x2b9)]=_0xc6bf1(0x2c6);const _0x3ca290=_0x7b4692,_0x5c6831=await this[_0xc6bf1(0x2a3)]();if(!_0x5c6831){if(_0x3ca290[_0xc6bf1(0x365)](_0x3ca290['DKCzE'],_0x3ca290[_0xc6bf1(0x29f)])){const _0x1ffda4={};_0x1ffda4[_0xc6bf1(0x361)]=WS_EVENTS[_0xc6bf1(0x20d)],_0x1ffda4[_0xc6bf1(0x308)]=_0x3ca290['xNrMZ'],this[_0xc6bf1(0x36f)]['sendEventToBackend'](this[_0xc6bf1(0x2fd)],_0x1ffda4),logger[_0xc6bf1(0x2c1)](_0x3ca290[_0xc6bf1(0x327)]),await this[_0xc6bf1(0x1bc)]();}else{const _0x2bd640=_0x350a75['s3Bucket'][_0xc6bf1(0x331)]('-'),_0x2576dd=_0x3ca290[_0xc6bf1(0x269)](_0x3ca290['zWXRM'],_0x2bd640[_0x3ca290[_0xc6bf1(0x321)](_0x2bd640[_0xc6bf1(0x1e4)],0x1)])[_0xc6bf1(0x1df)](0x0,0x18);return _0x2576dd[_0xc6bf1(0x2ad)]();}}else _0x3ca290[_0xc6bf1(0x322)](_0x3ca290[_0xc6bf1(0x368)],_0x3ca290[_0xc6bf1(0x378)])?logger[_0xc6bf1(0x2c1)](_0x3ca290['IHnNY']):_0x37b4a6[_0xc6bf1(0x316)]=![];const _0x3c30c1=await this[_0xc6bf1(0x2f2)]();if(!_0x3c30c1){if(_0x3ca290[_0xc6bf1(0x322)](_0x3ca290[_0xc6bf1(0x1c8)],_0x3ca290[_0xc6bf1(0x1c8)]))_0x28f77f[_0xc6bf1(0x24c)](0x0);else{const _0x32bc32={};_0x32bc32[_0xc6bf1(0x361)]=WS_EVENTS[_0xc6bf1(0x20d)],_0x32bc32['message']=_0x3ca290[_0xc6bf1(0x329)],this[_0xc6bf1(0x36f)][_0xc6bf1(0x257)](this['rws'],_0x32bc32),logger[_0xc6bf1(0x2c1)](_0x3ca290[_0xc6bf1(0x329)]),await this[_0xc6bf1(0x273)]();}}else{if(_0x3ca290['crnwq'](_0x3ca290[_0xc6bf1(0x320)],_0x3ca290[_0xc6bf1(0x320)]))return _0x3ecf13[_0xc6bf1(0x319)](_0xc6bf1(0x1e5)+_0x320549+_0xc6bf1(0x280)+_0x2c52ba),[![],[]];else logger[_0xc6bf1(0x2c1)](_0x3ca290[_0xc6bf1(0x296)]);}logger[_0xc6bf1(0x2c1)](_0x3ca290[_0xc6bf1(0x301)]),await this[_0xc6bf1(0x1b0)](),logger['info'](_0x3ca290[_0xc6bf1(0x2b9)]);}async[a1_0x31b4a5(0x1bc)](){const _0x194710=a1_0x31b4a5,_0x27560b={};_0x27560b[_0x194710(0x263)]=_0x194710(0x336),_0x27560b[_0x194710(0x22a)]=_0x194710(0x276),_0x27560b['wjaiz']=_0x194710(0x37b),_0x27560b[_0x194710(0x2e1)]=_0x194710(0x342),_0x27560b['TpSoX']=_0x194710(0x311),_0x27560b[_0x194710(0x1eb)]=_0x194710(0x2db),_0x27560b[_0x194710(0x356)]=_0x194710(0x1ff),_0x27560b[_0x194710(0x375)]=_0x194710(0x1c0),_0x27560b[_0x194710(0x339)]=_0x194710(0x227),_0x27560b[_0x194710(0x216)]=_0x194710(0x1bb);const _0x1afd29=_0x27560b;let _0xa3d28=await fs['readFileAsync'](path[_0x194710(0x2d7)](__dirname,'..',_0x1afd29[_0x194710(0x263)],_0x1afd29['ztgTe'],_0x1afd29[_0x194710(0x1b9)]),_0x1afd29[_0x194710(0x2e1)]);_0xa3d28=JSON[_0x194710(0x1f0)](_0xa3d28);const _0x92a4f7=this[_0x194710(0x2a5)](),_0x4d1453={};_0x4d1453[_0x194710(0x259)]=_0x92a4f7;const _0x4be5cd={};_0x4be5cd[_0x194710(0x1f3)]=_0x4d1453,await this[_0x194710(0x22f)]['deployments'][_0x194710(0x312)](global_registry[_0x194710(0x304)],_0x1afd29[_0x194710(0x31a)],{'properties':{'template':_0xa3d28,'mode':_0x1afd29[_0x194710(0x1eb)],'parameters':_0x4be5cd}});const _0x48f17b={};_0x48f17b[_0x194710(0x2cb)]=0x3c;const _0x4c626a={};_0x4c626a[_0x194710(0x1d6)]=_0x48f17b;const _0x3eb815={};_0x3eb815[_0x194710(0x272)]=_0x4c626a;const _0xc0589b={};_0xc0589b['enabled']=!![],_0xc0589b['name']=_0x1afd29['uhYRH'],_0xc0589b[_0x194710(0x361)]=_0x1afd29['uXJKK'],_0xc0589b[_0x194710(0x24d)]={},_0xc0589b[_0x194710(0x24d)][_0x194710(0x26e)]=_0x3eb815,_0xc0589b[_0x194710(0x24d)][_0x194710(0x333)]={},_0xc0589b[_0x194710(0x24d)][_0x194710(0x333)][_0x194710(0x35d)]=[_0x1afd29[_0x194710(0x339)]];const _0x134b4a={};_0x134b4a[_0x194710(0x1b2)]=[_0xc0589b];const _0x298e7b={};_0x298e7b['policy']=_0x134b4a;const _0x8ac975=_0x298e7b;await this[_0x194710(0x240)][_0x194710(0x1dc)][_0x194710(0x381)](global_registry[_0x194710(0x304)],_0x92a4f7,_0x1afd29[_0x194710(0x216)],_0x8ac975);}async[a1_0x31b4a5(0x273)](){const _0x492449=a1_0x31b4a5,_0x5934a4={};_0x5934a4[_0x492449(0x2a9)]=_0x492449(0x336),_0x5934a4[_0x492449(0x23e)]=_0x492449(0x276),_0x5934a4[_0x492449(0x207)]=_0x492449(0x2ac),_0x5934a4[_0x492449(0x23b)]=_0x492449(0x342),_0x5934a4['KMXtU']=_0x492449(0x241),_0x5934a4['VURvJ']='Incremental';const _0x122fa7=_0x5934a4;let _0x4e7b97=await fs[_0x492449(0x29c)](path[_0x492449(0x2d7)](__dirname,'..',_0x122fa7['yFCZm'],_0x122fa7[_0x492449(0x23e)],_0x122fa7[_0x492449(0x207)]),_0x122fa7[_0x492449(0x23b)]);_0x4e7b97=JSON['parse'](_0x4e7b97),await this[_0x492449(0x22f)][_0x492449(0x1b5)][_0x492449(0x312)](global_registry[_0x492449(0x304)],_0x122fa7[_0x492449(0x224)],{'properties':{'template':_0x4e7b97,'mode':_0x122fa7[_0x492449(0x21e)],'parameters':{'clusterName':{'value':this['clusterName']}}}});}async[a1_0x31b4a5(0x1b0)](){const _0x33686e=a1_0x31b4a5,_0x1bd98a={};_0x1bd98a['qrwNi']=function(_0x3dc781,_0xaa0a40){return _0x3dc781===_0xaa0a40;},_0x1bd98a['oojjU']=_0x33686e(0x291),_0x1bd98a['Ymxga']=_0x33686e(0x386),_0x1bd98a[_0x33686e(0x26a)]='hub',_0x1bd98a['hRSRt']=_0x33686e(0x309),_0x1bd98a['osmgv']=function(_0x5b0c5a,_0x4d2f54){return _0x5b0c5a!==_0x4d2f54;},_0x1bd98a[_0x33686e(0x1f7)]=_0x33686e(0x31f),_0x1bd98a['IbwfW']=_0x33686e(0x336),_0x1bd98a[_0x33686e(0x253)]=_0x33686e(0x276),_0x1bd98a['hBRpk']='utf-8',_0x1bd98a[_0x33686e(0x239)]=_0x33686e(0x2dc),_0x1bd98a['jswdM']=_0x33686e(0x2db);const _0x260148=_0x1bd98a;!this['clusterInfo']&&(_0x260148['qrwNi'](_0x260148['oojjU'],_0x260148['Ymxga'])?_0x5ecc3a[_0x33686e(0x324)](_0x54f221):await this[_0x33686e(0x1c6)]());const _0x1adb2a=this['clusterInfo']?.[_0x33686e(0x2b5)]?.['issuerURL'],_0x2483e6=[_0x260148[_0x33686e(0x26a)],_0x260148['hRSRt']];for await(const _0x1bc7ba of _0x2483e6){if(_0x260148['osmgv'](_0x260148[_0x33686e(0x1f7)],_0x260148[_0x33686e(0x1f7)]))return!![];else{let _0x41ffaf=await fs[_0x33686e(0x29c)](path[_0x33686e(0x2d7)](__dirname,'..',_0x260148[_0x33686e(0x37d)],_0x260148['gRMzS'],_0x33686e(0x2ca)+_0x1bc7ba+_0x33686e(0x2d8)),_0x260148[_0x33686e(0x28d)]);_0x41ffaf=JSON[_0x33686e(0x1f0)](_0x41ffaf);const _0x20481e={};_0x20481e[_0x33686e(0x259)]=_0x1adb2a,await this[_0x33686e(0x22f)][_0x33686e(0x1b5)]['beginCreateOrUpdateAndWait'](global_registry['cloudProviderResourceGroup'],_0x260148[_0x33686e(0x239)],{'properties':{'template':_0x41ffaf,'mode':_0x260148[_0x33686e(0x226)],'parameters':{'oidcIssuer':_0x20481e,'gridName':{'value':this['gridName']},'clusterName':{'value':this[_0x33686e(0x32b)]}}}});}}}async['setupHubHa'](_0x58f8ad,_0x41ae2d,_0x321a68,_0x1f3c64,_0xba38f3){const _0x5c6e1b=a1_0x31b4a5,_0x2bbe71={};_0x2bbe71['MkNnw']=_0x5c6e1b(0x379),_0x2bbe71['spqGm']=_0x5c6e1b(0x2ab);const _0x1bb606=_0x2bbe71,_0x2dd7f4={};_0x2dd7f4[_0x5c6e1b(0x361)]=WS_EVENTS[_0x5c6e1b(0x20d)],_0x2dd7f4[_0x5c6e1b(0x308)]=_0x1bb606[_0x5c6e1b(0x30f)],this['webSocketUtils'][_0x5c6e1b(0x257)](this[_0x5c6e1b(0x2fd)],_0x2dd7f4),logger[_0x5c6e1b(0x2c1)](_0x1bb606['MkNnw']),await this['createFederatedAccountForHubHA']();const _0x4f9811={};_0x4f9811[_0x5c6e1b(0x361)]=WS_EVENTS[_0x5c6e1b(0x20d)],_0x4f9811[_0x5c6e1b(0x308)]=_0x1bb606[_0x5c6e1b(0x1d2)],this[_0x5c6e1b(0x36f)][_0x5c6e1b(0x257)](this[_0x5c6e1b(0x2fd)],_0x4f9811);}async[a1_0x31b4a5(0x2f7)](){const _0x112628=a1_0x31b4a5,_0x50cdac={};_0x50cdac[_0x112628(0x306)]=_0x112628(0x359),_0x50cdac[_0x112628(0x297)]=function(_0x2ff445,_0x3f26f9){return _0x2ff445!==_0x3f26f9;},_0x50cdac['pnPkS']=_0x112628(0x3a0),_0x50cdac[_0x112628(0x205)]=_0x112628(0x336),_0x50cdac[_0x112628(0x203)]=_0x112628(0x389),_0x50cdac[_0x112628(0x20b)]=_0x112628(0x27a),_0x50cdac[_0x112628(0x232)]=_0x112628(0x342),_0x50cdac[_0x112628(0x225)]=_0x112628(0x2dc),_0x50cdac[_0x112628(0x352)]=_0x112628(0x2db);const _0x252306=_0x50cdac;if(!this[_0x112628(0x22b)]){if(_0x252306[_0x112628(0x297)](_0x252306[_0x112628(0x2bd)],_0x252306[_0x112628(0x2bd)])){_0x291208[_0x112628(0x2c1)](_0x252306['XtDFf']);const _0x537124={};_0x537124[_0x112628(0x361)]=_0xd201dd[_0x112628(0x343)],_0x537124['message']=_0x252306[_0x112628(0x306)],this[_0x112628(0x36f)]['sendEventToBackend'](this[_0x112628(0x2fd)],_0x537124),_0x3bac47[_0x112628(0x2b5)][_0x112628(0x35a)]=!![];}else await this[_0x112628(0x1c6)]();}const _0x948e58=this['clusterInfo']?.[_0x112628(0x2b5)]?.['issuerURL'];let _0x11d82f=await fs[_0x112628(0x29c)](path[_0x112628(0x2d7)](__dirname,'..',_0x252306[_0x112628(0x205)],_0x252306[_0x112628(0x203)],_0x252306[_0x112628(0x20b)]),_0x252306[_0x112628(0x232)]);_0x11d82f=JSON[_0x112628(0x1f0)](_0x11d82f);const _0x15cdc8={};_0x15cdc8['value']=_0x948e58,await this[_0x112628(0x22f)][_0x112628(0x1b5)][_0x112628(0x312)](global_registry['cloudProviderResourceGroup'],_0x252306[_0x112628(0x225)],{'properties':{'template':_0x11d82f,'mode':_0x252306[_0x112628(0x352)],'parameters':{'oidcIssuer':_0x15cdc8,'namespace':{'value':global_registry[_0x112628(0x2b4)]},'clusterName':{'value':this[_0x112628(0x32b)]}}}});}async[a1_0x31b4a5(0x2a3)](){const _0x352f5f=a1_0x31b4a5,_0x328116={};_0x328116[_0x352f5f(0x338)]=_0x352f5f(0x235),_0x328116[_0x352f5f(0x299)]=function(_0x28273c,_0x59da2d){return _0x28273c!==_0x59da2d;},_0x328116[_0x352f5f(0x1f6)]='feKnx',_0x328116[_0x352f5f(0x223)]=_0x352f5f(0x39b),_0x328116[_0x352f5f(0x221)]=function(_0x24fba1,_0x343bf5){return _0x24fba1===_0x343bf5;},_0x328116['ELOKu']=_0x352f5f(0x2cf),_0x328116[_0x352f5f(0x2a8)]=_0x352f5f(0x357),_0x328116['akmiC']=function(_0x144dc7,_0x5abb20){return _0x144dc7===_0x5abb20;},_0x328116[_0x352f5f(0x30d)]='ItwuH',_0x328116[_0x352f5f(0x372)]='dOFiw';const _0x2fbd06=_0x328116,_0x45f177=this['getStorageAccountName'](),_0x241ad6=new Array();for await(const _0x565ea7 of this[_0x352f5f(0x240)][_0x352f5f(0x27e)][_0x352f5f(0x1e2)](global_registry[_0x352f5f(0x304)])){_0x2fbd06[_0x352f5f(0x299)](_0x2fbd06[_0x352f5f(0x1f6)],_0x2fbd06[_0x352f5f(0x223)])?_0x241ad6[_0x352f5f(0x324)](_0x565ea7):_0x585d68[_0x352f5f(0x324)](_0x2471e7);}for await(const _0xb5f94 of _0x241ad6){if(_0x2fbd06[_0x352f5f(0x221)](_0x2fbd06['ELOKu'],_0x2fbd06[_0x352f5f(0x2a8)]))_0x79cf1c[_0x352f5f(0x324)](_0x52b6ab);else{if(_0x2fbd06[_0x352f5f(0x221)](_0xb5f94[_0x352f5f(0x1da)],_0x45f177)){if(_0x2fbd06[_0x352f5f(0x395)](_0x2fbd06['YbnXV'],_0x2fbd06[_0x352f5f(0x372)]))_0x5b11c6['info'](_0x2fbd06[_0x352f5f(0x338)]);else return!![];}}}return![];}async[a1_0x31b4a5(0x2f2)](){const _0x472750=a1_0x31b4a5,_0x1b054f={};_0x1b054f[_0x472750(0x1d4)]=function(_0x4d3d5d,_0x589a67){return _0x4d3d5d===_0x589a67;},_0x1b054f[_0x472750(0x2d3)]=function(_0x4c6f94,_0x173e43){return _0x4c6f94===_0x173e43;},_0x1b054f[_0x472750(0x24b)]=_0x472750(0x332),_0x1b054f[_0x472750(0x24f)]=_0x472750(0x1c9),_0x1b054f[_0x472750(0x371)]=function(_0x30e656,_0x5a46c9){return _0x30e656!==_0x5a46c9;},_0x1b054f[_0x472750(0x20e)]=_0x472750(0x1d7),_0x1b054f[_0x472750(0x294)]=function(_0x33b3df,_0x523b91){return _0x33b3df!==_0x523b91;},_0x1b054f[_0x472750(0x236)]='TUHvz';const _0x4cd1ef=_0x1b054f,_0x352682=new Array();for await(const _0x316a27 of this['resourceClient'][_0x472750(0x2a2)][_0x472750(0x1e2)](global_registry['cloudProviderResourceGroup'])){if(_0x4cd1ef[_0x472750(0x2d3)](_0x4cd1ef[_0x472750(0x24b)],_0x4cd1ef[_0x472750(0x24f)]))return!![];else _0x352682[_0x472750(0x324)](_0x316a27);}for await(const _0x235ed2 of _0x352682){if(_0x4cd1ef[_0x472750(0x371)](_0x4cd1ef[_0x472750(0x20e)],_0x4cd1ef['Swwdi']))return _0x215975[_0x472750(0x319)](_0x472750(0x208)+_0x341325+':'+_0x208811[_0x472750(0x246)]),{};else{if(_0x4cd1ef['Utyhw'](_0x235ed2['name'],'turboscale-managed-identity-'+this[_0x472750(0x32b)])){if(_0x4cd1ef[_0x472750(0x294)](_0x4cd1ef[_0x472750(0x236)],_0x4cd1ef['tNcUZ'])){if(_0x4cd1ef[_0x472750(0x1d4)](_0x1e2a6b[_0x472750(0x1da)],_0x29cfd1))return!![];}else return!![];}}}return![];}async[a1_0x31b4a5(0x347)](_0x4c3435,_0x3f96df=0x3){const _0x51f13b=a1_0x31b4a5,_0x175af5={'RcCyh':_0x51f13b(0x247),'DNvUK':_0x51f13b(0x1c7),'liNek':function(_0xe8e49a,_0x5110cc){return _0xe8e49a===_0x5110cc;},'ruzKC':_0x51f13b(0x373),'klyLa':_0x51f13b(0x392),'JVCyd':'gkarQ','ObUUG':function(_0x235a03,_0x130871,_0x244a6c){return _0x235a03(_0x130871,_0x244a6c);},'mYQnV':function(_0x5e7757,_0x1e70b4){return _0x5e7757+_0x1e70b4;},'cOIfc':_0x51f13b(0x390),'FnRJm':_0x51f13b(0x317),'UYZOc':function(_0x1c0f03,_0x452745){return _0x1c0f03!==_0x452745;},'TTUfM':_0x51f13b(0x1c1),'vwegW':'aqDFT','jWyjY':function(_0x3c06fd,_0x3122ed){return _0x3c06fd===_0x3122ed;},'UlMES':_0x51f13b(0x217),'erkGr':'zVYgU','xXDta':'2023-01-31','fZyeK':_0x51f13b(0x219),'SoZwY':'sGgzO','FVNVt':function(_0x3fa4aa,_0x2417cc){return _0x3fa4aa<=_0x2417cc;},'IbGHb':function(_0x4ebe61,_0x535fff){return _0x4ebe61!==_0x535fff;},'phHcA':_0x51f13b(0x2cc),'MQNKY':function(_0x23f375,_0x2640d3){return _0x23f375-_0x2640d3;}};try{if(_0x175af5[_0x51f13b(0x2a1)](_0x175af5[_0x51f13b(0x2c2)],_0x175af5[_0x51f13b(0x2c2)])){const _0x33df4a=new Array();for await(const _0xe52e15 of this[_0x51f13b(0x22f)]['resources'][_0x51f13b(0x1e2)](global_registry[_0x51f13b(0x304)])){if(_0x175af5[_0x51f13b(0x2a1)](_0x175af5[_0x51f13b(0x1b6)],_0x175af5[_0x51f13b(0x1b6)]))_0x33df4a[_0x51f13b(0x324)](_0xe52e15);else{_0x1634ed[_0x51f13b(0x2c1)](_0x175af5[_0x51f13b(0x1cd)]);const _0x2af8da={};_0x2af8da[_0x51f13b(0x361)]=_0x14e7e2[_0x51f13b(0x343)],_0x2af8da[_0x51f13b(0x308)]=_0x175af5[_0x51f13b(0x1cd)],this[_0x51f13b(0x36f)][_0x51f13b(0x257)](this[_0x51f13b(0x2fd)],_0x2af8da);const _0x1edd30={};_0x1edd30['enabled']=!![];const _0x734dc2={'workloadIdentity':_0x1edd30,..._0x483c49[_0x51f13b(0x1e0)]};_0x195f51['securityProfile']=_0x734dc2;}}let _0x3c3732='';for await(const _0x536686 of _0x33df4a){if(_0x175af5[_0x51f13b(0x314)](_0x175af5[_0x51f13b(0x25e)],_0x175af5[_0x51f13b(0x26f)])){if(_0x175af5[_0x51f13b(0x2be)](_0x536686[_0x51f13b(0x1da)],_0x4c3435)){if(_0x175af5[_0x51f13b(0x314)](_0x175af5[_0x51f13b(0x202)],_0x175af5[_0x51f13b(0x39a)]))_0x3c3732=_0x536686['id'];else return[!![],_0x548ad3];}}else return _0x4ed41e[_0x51f13b(0x319)]=_0x596159[_0x51f13b(0x319)],_0xfa2a0f;}const _0x538bbf=await this['resourceClient']['resources'][_0x51f13b(0x38a)](_0x3c3732,_0x175af5[_0x51f13b(0x2c5)]);return _0x538bbf[_0x51f13b(0x350)][_0x51f13b(0x2f6)];}else{const _0x4c238b=_0x175af5[_0x51f13b(0x28b)][_0x51f13b(0x331)]('|');let _0x26dfcb=0x0;while(!![]){switch(_0x4c238b[_0x26dfcb++]){case'0':_0x7d66fd['cloudProviderClientId']=_0x373b04[this[_0x51f13b(0x34e)]][_0x51f13b(0x2f6)];continue;case'1':_0x2fc8de[_0x51f13b(0x304)]=_0x83267[this[_0x51f13b(0x34e)]][_0x51f13b(0x2a0)];continue;case'2':_0x26cdcc[_0x51f13b(0x23d)]=_0x38f487[this['cloudProviderName']][_0x51f13b(0x388)];continue;case'3':this[_0x51f13b(0x244)]();continue;case'4':_0x44169a[_0x51f13b(0x209)]=_0x16f809[this[_0x51f13b(0x34e)]][_0x51f13b(0x220)];continue;case'5':_0x42ebb9[_0x51f13b(0x355)]=_0x2b525a[this[_0x51f13b(0x34e)]][_0x51f13b(0x351)];continue;}break;}}}catch(_0xa1c6a9){if(_0x175af5[_0x51f13b(0x314)](_0x175af5['fZyeK'],_0x175af5[_0x51f13b(0x39f)])){if(_0x175af5['FVNVt'](_0x3f96df,0x0)){if(_0x175af5['IbGHb'](_0x175af5[_0x51f13b(0x2fe)],_0x175af5['phHcA']))_0x491b63+=_0x175af5[_0x51f13b(0x2a1)](_0xf8008a[_0x51f13b(0x1e4)],0x0)?_0x175af5[_0x51f13b(0x1e9)]:'',_0x2565b4['debug']('Role\x20definition\x20response\x20list\x20\x20:\x20\x20'+_0x2e02f2['stringify'](_0x465181));else return logger[_0x51f13b(0x319)](_0x51f13b(0x208)+_0xa1c6a9+':'+_0xa1c6a9[_0x51f13b(0x246)]),{};}return await new Promise(_0x1c0cf3=>{const _0xdbc17b=_0x51f13b;if(_0x175af5[_0xdbc17b(0x2a1)](_0x175af5['klyLa'],_0x175af5[_0xdbc17b(0x20f)]))return _0x20de6b[_0xdbc17b(0x316)][_0xdbc17b(0x2aa)][_0xdbc17b(0x2ec)][0x0][_0xdbc17b(0x25f)];else _0x175af5['ObUUG'](setTimeout,()=>_0x1c0cf3(),0x3e8);}),this[_0x51f13b(0x347)](_0x4c3435,_0x175af5[_0x51f13b(0x30c)](_0x3f96df,0x1));}else _0x359cf1['log']('['+_0x175af5[_0x51f13b(0x38e)](_0x302415,0x1)+']\x20'+_0x31df78[_0x355179]);}}async[a1_0x31b4a5(0x1be)](){const _0x2bd561=a1_0x31b4a5,_0x10ad9e={};_0x10ad9e[_0x2bd561(0x1ca)]=_0x2bd561(0x34b),_0x10ad9e[_0x2bd561(0x2f1)]=function(_0x4f648b,_0x47870b){return _0x4f648b===_0x47870b;},_0x10ad9e[_0x2bd561(0x274)]=_0x2bd561(0x1f4),_0x10ad9e[_0x2bd561(0x31c)]=_0x2bd561(0x35c),_0x10ad9e['rZfJC']='BrowserStack',_0x10ad9e[_0x2bd561(0x228)]='HOMdF';const _0x2371f8=_0x10ad9e;if(!this[_0x2bd561(0x22b)]){if(_0x2371f8['ibCsd'](_0x2371f8[_0x2bd561(0x274)],_0x2371f8[_0x2bd561(0x274)]))await this[_0x2bd561(0x1c6)]();else return _0x50fc78[_0x2bd561(0x1e7)]=_0x2371f8[_0x2bd561(0x1ca)],_0x2501b5;}const _0x219aca=this[_0x2bd561(0x22b)]?.[_0x2bd561(0x1b7)]||{};if(_0x219aca&&_0x2371f8['ibCsd'](_0x219aca[_0x2371f8[_0x2bd561(0x31c)]],_0x2371f8[_0x2bd561(0x28c)])){if(_0x2371f8[_0x2bd561(0x2f1)](_0x2371f8[_0x2bd561(0x228)],_0x2371f8[_0x2bd561(0x228)]))return!![];else return;}return![];}async[a1_0x31b4a5(0x2d5)](_0x4b4abe,_0x597092){const _0x24b7b6=a1_0x31b4a5,_0x4592b5={'TpJip':function(_0x145d48,_0x47ce45){return _0x145d48(_0x47ce45);},'hBcPQ':function(_0x569f07,_0x30be94){return _0x569f07(_0x30be94);},'chJfS':'Deleted\x20the\x20cluster\x20successfully'};await _0x4592b5[_0x24b7b6(0x201)](deleteAgent,_0x4b4abe),await _0x4592b5[_0x24b7b6(0x2e8)](deleteRoutingDeps,_0x4b4abe);const _0x17ae34=this[_0x24b7b6(0x268)];logger[_0x24b7b6(0x2c1)]('Deleting\x20the\x20cluster\x20'+this[_0x24b7b6(0x32b)]),await _0x17ae34[_0x24b7b6(0x27f)]['beginDeleteAndWait'](global_registry[_0x24b7b6(0x304)],this[_0x24b7b6(0x32b)]),logger['info'](_0x4592b5[_0x24b7b6(0x250)]);}async[a1_0x31b4a5(0x38d)](){const _0x2582d2=a1_0x31b4a5,_0x2b96d3={};_0x2b96d3[_0x2582d2(0x1d9)]=function(_0x2eceaf,_0x2a0aef){return _0x2eceaf===_0x2a0aef;},_0x2b96d3[_0x2582d2(0x27b)]=_0x2582d2(0x266),_0x2b96d3[_0x2582d2(0x1f9)]='No\x20service\x20principal\x20found',_0x2b96d3[_0x2582d2(0x2a7)]=function(_0x2e16d7,_0x5f2149){return _0x2e16d7!==_0x5f2149;},_0x2b96d3[_0x2582d2(0x243)]=_0x2582d2(0x394),_0x2b96d3['jDoBw']=function(_0xdb6e16,_0x2896db){return _0xdb6e16&&_0x2896db;},_0x2b96d3[_0x2582d2(0x20c)]=function(_0x47a205,_0xebe251){return _0x47a205!==_0xebe251;},_0x2b96d3[_0x2582d2(0x2ed)]=_0x2582d2(0x1ba),_0x2b96d3[_0x2582d2(0x267)]=_0x2582d2(0x318),_0x2b96d3[_0x2582d2(0x1ea)]=function(_0x3b62fc,_0x41678d){return _0x3b62fc===_0x41678d;},_0x2b96d3['ZvsIr']='kjmgV',_0x2b96d3[_0x2582d2(0x34c)]='Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster',_0x2b96d3['xJfGe']=function(_0x2c74b9,_0x5279fd){return _0x2c74b9===_0x5279fd;},_0x2b96d3[_0x2582d2(0x22d)]='oZDwE',_0x2b96d3[_0x2582d2(0x2b3)]=_0x2582d2(0x247),_0x2b96d3[_0x2582d2(0x2c8)]=_0x2582d2(0x35f),_0x2b96d3['PgJgD']=_0x2582d2(0x2c7);const _0x3b168f=_0x2b96d3;!this[_0x2582d2(0x22b)]&&(_0x3b168f[_0x2582d2(0x2a7)](_0x3b168f[_0x2582d2(0x243)],_0x3b168f['wHMWr'])?_0x5b4714[_0x2582d2(0x324)](..._0x47549a[_0x2582d2(0x26e)]):await this[_0x2582d2(0x1c6)]());const _0x5a364f=this[_0x2582d2(0x22b)],_0xf36a80=this[_0x2582d2(0x22b)]?.[_0x2582d2(0x2b5)]?.[_0x2582d2(0x35a)]||![],_0x160320=this['clusterInfo']?.[_0x2582d2(0x1e0)]?.[_0x2582d2(0x37a)]?.[_0x2582d2(0x35a)]||![],_0x2c3130=!this['clusterInfo']?.[_0x2582d2(0x354)]||![];if(_0x3b168f[_0x2582d2(0x25b)](_0xf36a80,_0x160320)&&_0x2c3130){if(_0x3b168f[_0x2582d2(0x20c)](_0x3b168f[_0x2582d2(0x2ed)],_0x3b168f[_0x2582d2(0x267)]))return;else{if(_0x3b168f[_0x2582d2(0x1d9)](_0x143bdd[_0x2582d2(0x1da)],_0x2582d2(0x369)+this[_0x2582d2(0x32b)]))return!![];}}if(!_0xf36a80){if(_0x3b168f['lqahC'](_0x3b168f[_0x2582d2(0x1f8)],_0x3b168f[_0x2582d2(0x1f8)])){logger['info'](_0x3b168f[_0x2582d2(0x34c)]);const _0x1c2d2c={};_0x1c2d2c['type']=WS_EVENTS[_0x2582d2(0x343)],_0x1c2d2c[_0x2582d2(0x308)]=_0x3b168f['qjjjJ'],this[_0x2582d2(0x36f)][_0x2582d2(0x257)](this[_0x2582d2(0x2fd)],_0x1c2d2c),_0x5a364f[_0x2582d2(0x2b5)][_0x2582d2(0x35a)]=!![];}else _0x3fae8c[_0x2582d2(0x319)](_0x3b168f['txTMW']),_0xdb9bd5[_0x2582d2(0x24c)](0x1);}if(!_0x160320){if(_0x3b168f[_0x2582d2(0x2a6)](_0x3b168f[_0x2582d2(0x22d)],_0x3b168f[_0x2582d2(0x22d)])){logger[_0x2582d2(0x2c1)](_0x3b168f['nJwuJ']);const _0xdcdc36={};_0xdcdc36[_0x2582d2(0x361)]=WS_EVENTS[_0x2582d2(0x343)],_0xdcdc36[_0x2582d2(0x308)]=_0x3b168f[_0x2582d2(0x2b3)],this[_0x2582d2(0x36f)][_0x2582d2(0x257)](this[_0x2582d2(0x2fd)],_0xdcdc36);const _0x40629c={};_0x40629c['enabled']=!![],_0x5a364f[_0x2582d2(0x1e0)]={'workloadIdentity':_0x40629c,..._0x5a364f[_0x2582d2(0x1e0)]};}else throw new _0x2e0ee0(_0x3b168f['kdFSw'],_0x2582d2(0x37c)+_0x4ae582[_0x2582d2(0x2e4)](_0x5b314e));}if(!_0x2c3130){if(_0x3b168f[_0x2582d2(0x2a7)](_0x3b168f[_0x2582d2(0x2c8)],_0x3b168f[_0x2582d2(0x2c8)]))_0x5dbf8f['error']=_0x502e8a;else{logger[_0x2582d2(0x2c1)](_0x3b168f[_0x2582d2(0x360)]);const _0x3a3423={};_0x3a3423['type']=WS_EVENTS['RESOURCES'],_0x3a3423['message']=_0x3b168f[_0x2582d2(0x360)],this[_0x2582d2(0x36f)]['sendEventToBackend'](this[_0x2582d2(0x2fd)],_0x3a3423),_0x5a364f[_0x2582d2(0x354)]=![];}}await this[_0x2582d2(0x268)]['managedClusters'][_0x2582d2(0x312)](global_registry[_0x2582d2(0x304)],this[_0x2582d2(0x32b)],_0x5a364f),await this[_0x2582d2(0x1c6)]();}async[a1_0x31b4a5(0x249)](){const _0x3d9bb0=a1_0x31b4a5,_0xc2e0cb={};_0xc2e0cb[_0x3d9bb0(0x2e9)]=function(_0x4df167,_0x1d575d){return _0x4df167===_0x1d575d;},_0xc2e0cb[_0x3d9bb0(0x1b1)]=_0x3d9bb0(0x37f);const _0x2671a9=_0xc2e0cb,_0x1fa46d=await this[_0x3d9bb0(0x282)]['virtualNetworks'][_0x3d9bb0(0x32d)](global_registry['cloudProviderResourceGroup']),_0x22aa97={};_0x22aa97[_0x3d9bb0(0x283)]=global_registry[_0x3d9bb0(0x376)],_0x22aa97[_0x3d9bb0(0x1fb)]=global_registry[_0x3d9bb0(0x380)],_0x22aa97['cloudProvider']=AZURE,_0x22aa97[_0x3d9bb0(0x33b)]=[];const _0x3013b8=_0x22aa97;for await(const _0x187de6 of _0x1fa46d){_0x2671a9[_0x3d9bb0(0x2e9)](_0x2671a9[_0x3d9bb0(0x1b1)],_0x2671a9[_0x3d9bb0(0x1b1)])?_0x3013b8[_0x3d9bb0(0x33b)][_0x3d9bb0(0x324)](_0x187de6):_0xdb9465[_0x3d9bb0(0x324)](_0x1ccaeb);}const _0x26b8c8={};_0x26b8c8[_0x3d9bb0(0x361)]=WS_EVENTS[_0x3d9bb0(0x343)],_0x26b8c8[_0x3d9bb0(0x308)]=_0x3013b8,this[_0x3d9bb0(0x36f)]['sendEventToBackend'](this[_0x3d9bb0(0x2fd)],_0x26b8c8);}async[a1_0x31b4a5(0x289)](_0x2eb2c9){const _0x1fe08a=a1_0x31b4a5,_0x1c4bbf={};_0x1c4bbf[_0x1fe08a(0x2f4)]='Storage\x20account\x20already\x20exists,\x20skipping',_0x1c4bbf['caZQU']=function(_0x56e0d0,_0x59cfa6){return _0x56e0d0===_0x59cfa6;},_0x1c4bbf[_0x1fe08a(0x39e)]=_0x1fe08a(0x21d),_0x1c4bbf[_0x1fe08a(0x242)]='qTJgE',_0x1c4bbf['ZSFEk']=function(_0x3804c4,_0x2a3537){return _0x3804c4!==_0x2a3537;},_0x1c4bbf['uogQx']=_0x1fe08a(0x2bc),_0x1c4bbf[_0x1fe08a(0x215)]=_0x1fe08a(0x261),_0x1c4bbf[_0x1fe08a(0x211)]=function(_0xe50538,_0xdc1530){return _0xe50538===_0xdc1530;},_0x1c4bbf[_0x1fe08a(0x2f0)]=_0x1fe08a(0x2c9),_0x1c4bbf[_0x1fe08a(0x32a)]='qAvRo';const _0x3a8585=_0x1c4bbf;try{if(_0x3a8585[_0x1fe08a(0x32c)](_0x3a8585[_0x1fe08a(0x39e)],_0x3a8585[_0x1fe08a(0x242)]))_0xb84268['info'](_0x3a8585[_0x1fe08a(0x2f4)]);else{const _0x3b7272=await this[_0x1fe08a(0x282)][_0x1fe08a(0x346)][_0x1fe08a(0x32d)](global_registry[_0x1fe08a(0x304)]);for await(const _0xd21e4a of _0x3b7272){if(_0x3a8585['ZSFEk'](_0x3a8585[_0x1fe08a(0x298)],_0x3a8585['WbzuS'])){if(_0x3a8585[_0x1fe08a(0x32c)](_0xd21e4a[_0x1fe08a(0x1da)],_0x2eb2c9)){if(_0x3a8585[_0x1fe08a(0x211)](_0x3a8585[_0x1fe08a(0x2f0)],_0x3a8585['HZBpC']))return!![];else _0x107c89['push'](_0x51c978[_0x1fe08a(0x1da)]);}}else _0x41c8e5[_0x1fe08a(0x324)](_0x202a36);}}}catch(_0x5f47cb){if(_0x3a8585[_0x1fe08a(0x2c4)](_0x3a8585[_0x1fe08a(0x32a)],_0x3a8585['UALaB']))_0x5f194d[_0x1fe08a(0x319)]=_0x2a6fb4;else return logger['error'](_0x1fe08a(0x206)+_0x2eb2c9+_0x1fe08a(0x1db)+_0x5f47cb),![];}return![];}async['isSubnetsValid'](_0x2a0eb0,_0x467914){const _0x3cacfa=a1_0x31b4a5,_0x25b6ec={};_0x25b6ec['VqZmL']=_0x3cacfa(0x2da),_0x25b6ec[_0x3cacfa(0x2c3)]='Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.',_0x25b6ec['kkJUa']=_0x3cacfa(0x1fe),_0x25b6ec['cYLWh']=_0x3cacfa(0x30a),_0x25b6ec[_0x3cacfa(0x305)]=function(_0x457046,_0x16606c){return _0x457046===_0x16606c;},_0x25b6ec[_0x3cacfa(0x2d2)]=_0x3cacfa(0x335),_0x25b6ec[_0x3cacfa(0x2e5)]=function(_0x7f80e0,_0x584228){return _0x7f80e0===_0x584228;},_0x25b6ec[_0x3cacfa(0x28f)]=function(_0x40fe3e,_0x554dbb){return _0x40fe3e!==_0x554dbb;},_0x25b6ec[_0x3cacfa(0x2f8)]=_0x3cacfa(0x2af),_0x25b6ec[_0x3cacfa(0x300)]=_0x3cacfa(0x2b8);const _0x1b003a=_0x25b6ec;try{if(_0x1b003a[_0x3cacfa(0x305)](_0x1b003a[_0x3cacfa(0x2d2)],_0x1b003a[_0x3cacfa(0x2d2)])){const _0x30d66b=await this[_0x3cacfa(0x282)][_0x3cacfa(0x1fc)][_0x3cacfa(0x1c2)](global_registry['cloudProviderResourceGroup'],_0x467914,_0x2a0eb0[0x0]);if(_0x1b003a[_0x3cacfa(0x2e5)](_0x2a0eb0[0x0],_0x30d66b[_0x3cacfa(0x1da)]))return _0x1b003a[_0x3cacfa(0x28f)](_0x1b003a[_0x3cacfa(0x2f8)],_0x1b003a[_0x3cacfa(0x300)])?[!![],_0x2a0eb0]:!![];}else{const _0x44c71f={};_0x44c71f['type']=_0x1b003a[_0x3cacfa(0x264)],_0x44c71f[_0x3cacfa(0x248)]={},_0x44c71f[_0x3cacfa(0x248)][_0x3cacfa(0x38b)]=_0x1b003a[_0x3cacfa(0x2c3)];const _0x26b01a={};_0x26b01a[_0x3cacfa(0x361)]=_0x1b003a['VqZmL'],_0x26b01a['metadata']={},_0x26b01a['metadata']['description']=_0x1b003a[_0x3cacfa(0x2c3)];const _0x1d5f4a={..._0x1917c2[_0x3cacfa(0x1b3)]};_0x1d5f4a[_0x3cacfa(0x277)]=_0x44c71f,_0x1d5f4a[_0x3cacfa(0x36e)]=_0x26b01a,_0x3b6f9b[_0x3cacfa(0x1b3)]=_0x1d5f4a;const _0x4ac9e4={};_0x4ac9e4[_0x3cacfa(0x33e)]=_0x1b003a[_0x3cacfa(0x2d4)],_0x16d91f[_0x3cacfa(0x38c)]=_0x4ac9e4;const _0x80f8dd={..._0x3af365[_0x3cacfa(0x2a2)][0x0]['properties'][_0x3cacfa(0x349)][0x0]};_0x80f8dd[_0x3cacfa(0x33e)]=_0x1b003a[_0x3cacfa(0x32f)],_0x2dd98e[_0x3cacfa(0x2a2)][0x0][_0x3cacfa(0x350)][_0x3cacfa(0x349)][0x0]=_0x80f8dd;const _0x2d9ade={};_0x2d9ade[_0x3cacfa(0x259)]=_0x24b320;const _0x1ac39b={};_0x1ac39b[_0x3cacfa(0x259)]=_0x39fa2f[0x0];const _0x5647c0={..._0x114239};_0x5647c0[_0x3cacfa(0x277)]=_0x2d9ade,_0x5647c0[_0x3cacfa(0x36e)]=_0x1ac39b,_0x282057=_0x5647c0;}}catch(_0xfcfcf2){return logger[_0x3cacfa(0x319)](_0x3cacfa(0x1e5)+_0x2a0eb0+_0x3cacfa(0x280)+_0xfcfcf2),[![],[]];}return[![],[]];}async[a1_0x31b4a5(0x2c0)](){const _0x56b575=a1_0x31b4a5,_0x96f8e4={};_0x96f8e4[_0x56b575(0x391)]='No\x20CLI\x20tool\x20required';const _0xb82c0f=_0x96f8e4,_0x53cfdc={};_0x53cfdc[_0x56b575(0x316)]=!![],_0x53cfdc[_0x56b575(0x319)]=null,_0x53cfdc[_0x56b575(0x1e7)]=_0xb82c0f[_0x56b575(0x391)];const _0x3821dd=_0x53cfdc;return _0x3821dd;}async[a1_0x31b4a5(0x326)](){const _0x11f8be=a1_0x31b4a5,_0x4ed560={};_0x4ed560['FQkyd']=_0x11f8be(0x1b4),_0x4ed560['CtjbX']='GET',_0x4ed560['dQwUr']='application/json';const _0x50d2a9=_0x4ed560,_0x2b14ec=await this[_0x11f8be(0x2fb)][_0x11f8be(0x2d6)](_0x50d2a9['FQkyd']),_0x3358cf={};_0x3358cf[_0x11f8be(0x1f5)]=_0x50d2a9[_0x11f8be(0x328)],_0x3358cf[_0x11f8be(0x396)]={},_0x3358cf[_0x11f8be(0x396)]['Authorization']=_0x11f8be(0x38f)+_0x2b14ec[_0x11f8be(0x1e8)],_0x3358cf[_0x11f8be(0x396)]['Content-Type']=_0x50d2a9['dQwUr'];const _0x3dfcbb=_0x3358cf;return _0x3dfcbb;}async[a1_0x31b4a5(0x245)](_0x23dfea){const _0x5449f0=a1_0x31b4a5,_0x355185={'gJpYR':function(_0x258255,_0x4693f7,_0x34c4c7){return _0x258255(_0x4693f7,_0x34c4c7);},'PAJwi':function(_0x2cd992,_0x5d8861){return _0x2cd992===_0x5d8861;},'aOpjB':_0x5449f0(0x366)},_0x36f3d4={};_0x36f3d4[_0x5449f0(0x254)]='',_0x36f3d4[_0x5449f0(0x319)]=null;const _0x410003=_0x36f3d4;try{const _0x112999='https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27'+_0x23dfea+'\x27',_0x4aeaac=await this[_0x5449f0(0x326)](),_0x25ff00=await _0x355185[_0x5449f0(0x2f9)](fetch,_0x112999,_0x4aeaac),_0xf39b2d=await _0x25ff00[_0x5449f0(0x218)]();if(!_0xf39b2d['value']||_0x355185[_0x5449f0(0x337)](_0xf39b2d[_0x5449f0(0x259)][_0x5449f0(0x1e4)],0x0))throw new Error(_0x355185['aOpjB'],_0x5449f0(0x37c)+JSON[_0x5449f0(0x2e4)](_0xf39b2d));_0x410003[_0x5449f0(0x254)]=_0xf39b2d[_0x5449f0(0x259)][0x0]['id'];}catch(_0x268b8e){_0x410003[_0x5449f0(0x319)]=_0x268b8e;}return _0x410003;}async['checkAccess'](){const _0x17838e=a1_0x31b4a5,_0x1bc1bd={};_0x1bc1bd[_0x17838e(0x2ff)]=_0x17838e(0x1cb),_0x1bc1bd['Cxrqd']=_0x17838e(0x260),_0x1bc1bd['YGZfm']=function(_0x14d149,_0x51c129){return _0x14d149!==_0x51c129;},_0x1bc1bd[_0x17838e(0x1c4)]=function(_0x2d5dd8,_0x21c560){return _0x2d5dd8===_0x21c560;},_0x1bc1bd[_0x17838e(0x23a)]=_0x17838e(0x2ce),_0x1bc1bd[_0x17838e(0x25a)]=_0x17838e(0x34b),_0x1bc1bd[_0x17838e(0x21f)]=_0x17838e(0x373);const _0x1ccd04=_0x1bc1bd,_0x3de143={};_0x3de143[_0x17838e(0x316)]=![],_0x3de143[_0x17838e(0x319)]=null,_0x3de143[_0x17838e(0x1e7)]='';const _0x34e61f=_0x3de143;try{let _0x11531f='';const _0x441d27=_0x17838e(0x1bf)+global_registry[_0x17838e(0x355)]+_0x17838e(0x255)+global_registry['cloudProviderResourceGroup'],_0x366d49=await this[_0x17838e(0x245)](global_registry[_0x17838e(0x363)]);if(_0x1ccd04[_0x17838e(0x1ec)](_0x366d49[_0x17838e(0x319)],null))return _0x34e61f[_0x17838e(0x319)]=_0x366d49[_0x17838e(0x319)],_0x34e61f;const _0x9fd967=_0x17838e(0x29d)+_0x366d49[_0x17838e(0x254)]+'\x27)',_0x46f7de={};_0x46f7de['filter']=_0x9fd967;const _0x5170a7=await this['authClient'][_0x17838e(0x2fa)][_0x17838e(0x1b8)](_0x441d27,_0x46f7de),_0x11c351=[];for await(const _0x45fd64 of _0x5170a7){_0x11c351[_0x17838e(0x324)](_0x45fd64);}if(_0x1ccd04[_0x17838e(0x1c4)](_0x11c351[_0x17838e(0x1e4)],0x0))return _0x34e61f[_0x17838e(0x1e7)]=_0x1ccd04[_0x17838e(0x23a)],_0x34e61f;const _0x198724=[...new Set(_0x11c351['map'](_0x5d4480=>_0x5d4480[_0x17838e(0x2ea)]))];if(_0x1ccd04[_0x17838e(0x1c4)](_0x198724['length'],0x0))return _0x34e61f[_0x17838e(0x1e7)]=_0x1ccd04[_0x17838e(0x25a)],_0x34e61f;const _0x569ef1=[],_0x27bf61=[];for(const _0x13a8a0 of _0x198724){const _0x2f038b=await this[_0x17838e(0x1ef)][_0x17838e(0x398)]['getById'](_0x13a8a0);logger[_0x17838e(0x345)](_0x17838e(0x200)+_0x2f038b[_0x17838e(0x1f2)]),_0x569ef1[_0x17838e(0x324)](_0x2f038b),logger[_0x17838e(0x345)](_0x17838e(0x353)+JSON['stringify'](_0x2f038b[_0x17838e(0x33a)])),_0x2f038b[_0x17838e(0x33a)][_0x17838e(0x33f)](_0xda80b7=>{const _0x1754d8=_0x17838e;_0x27bf61['push'](..._0xda80b7[_0x1754d8(0x26e)]);});}logger[_0x17838e(0x345)](_0x17838e(0x1cc)+JSON[_0x17838e(0x2e4)](_0x27bf61)),_0x1ccd04[_0x17838e(0x1c4)](_0x27bf61['length'],0x0)&&(_0x11531f+=_0x1ccd04['JOrDT'](_0x27bf61[_0x17838e(0x1e4)],0x0)?_0x1ccd04[_0x17838e(0x21f)]:'',logger[_0x17838e(0x345)](_0x17838e(0x382)+JSON[_0x17838e(0x2e4)](_0x569ef1))),_0x34e61f[_0x17838e(0x316)]=!![],Object[_0x17838e(0x262)](PERMISSIONS['ACTION'])['forEach'](([_0x57c90d,_0x207f62])=>{const _0x80722b=_0x17838e,_0x133f7b=_0x27bf61[_0x80722b(0x279)](_0x57c90d);_0x11531f+='\x0a\x09'+_0x207f62+':\x20'+(_0x133f7b?_0x1ccd04[_0x80722b(0x2ff)]:_0x1ccd04[_0x80722b(0x2de)]),!_0x133f7b&&(_0x34e61f['status']=![]);}),_0x34e61f['data']=_0x11531f;}catch(_0x8f8ba7){_0x34e61f[_0x17838e(0x319)]=_0x8f8ba7;}return _0x34e61f;}}function a1_0x49b9(_0x166821,_0x381f11){const _0x1d081a=a1_0x1d08();return a1_0x49b9=function(_0x49b915,_0x27f6a2){_0x49b915=_0x49b915-0x1b0;let _0x44aae9=_0x1d081a[_0x49b915];return _0x44aae9;},a1_0x49b9(_0x166821,_0x381f11);}const a1_0x1bba18={};a1_0x1bba18[a1_0x31b4a5(0x2bf)]=AzureCloudProvider,module['exports']=a1_0x1bba18;