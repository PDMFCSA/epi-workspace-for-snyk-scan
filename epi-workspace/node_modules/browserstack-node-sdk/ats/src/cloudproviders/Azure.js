const a1_0x49d8f4=a1_0x2c29;(function(_0x31a0d6,_0xd8e287){const _0x15bacd=a1_0x2c29,_0x962440=_0x31a0d6();while(!![]){try{const _0x3ac118=-parseInt(_0x15bacd(0x2cb))/0x1+parseInt(_0x15bacd(0x262))/0x2+-parseInt(_0x15bacd(0x257))/0x3+-parseInt(_0x15bacd(0x1a6))/0x4*(-parseInt(_0x15bacd(0x17b))/0x5)+-parseInt(_0x15bacd(0x1d5))/0x6+parseInt(_0x15bacd(0x244))/0x7+-parseInt(_0x15bacd(0x251))/0x8*(-parseInt(_0x15bacd(0x116))/0x9);if(_0x3ac118===_0xd8e287)break;else _0x962440['push'](_0x962440['shift']());}catch(_0x566bd8){_0x962440['push'](_0x962440['shift']());}}}(a1_0x4bb2,0x5c72e));const fs=require('fs'),path=require(a1_0x49d8f4(0x1fa)),yaml=require(a1_0x49d8f4(0x28b)),{logger}=require(a1_0x49d8f4(0xf1)),{CloudProvider}=require(a1_0x49d8f4(0x2ad)),{deleteRoutingDeps,deleteAgent}=require(a1_0x49d8f4(0x19a)),{AZURE,WS_EVENTS,global_registry}=require(a1_0x49d8f4(0x258)),PERMISSIONS=require('../permissions/AZURE.json'),{ClientSecretCredential}=require('@azure/identity'),{NetworkManagementClient}=require('@azure/arm-network'),{StorageManagementClient}=require(a1_0x49d8f4(0x208)),{AuthorizationManagementClient}=require(a1_0x49d8f4(0x266)),{ResourceManagementClient}=require(a1_0x49d8f4(0x29a)),{ContainerServiceClient}=require('@azure/arm-containerservice'),{runCommand}=require(a1_0x49d8f4(0x20d));function a1_0x4bb2(){const _0x64a533=['ZinFh','gXfCP','oYTca','LGeeb','ZLxmm','AFUsc','userMaxNodes','toLowerCase','storageAccounts','XDzpd','createStorageAccount','roleDefinitions','Created\x20Azure\x20federated\x20identity','cloudProviderSubscriptionId','https://graph.microsoft.com/v1.0/servicePrincipals?$filter=appId\x20eq\x20\x27','mNyaW','GJOQc','1147722giSPqa','lHgUe','jyVgu','setupNewCluster','username','NdDWo','bHqdY','containerClient','kjyWd','PbpOX','vpcInfo','vubOv','listByResourceGroup','gJvwJ','subnets','cred','Pkbti','clusterName','zTSbo','storageClient','isManagedIdentityPresent','rmNba','getHeader','No\x20service\x20principal\x20found','setClients','RcFXx','yWtpq','IdvXf','qVnPc','baseBlob','daWHV','disableLocalAccounts','NODAc','turboscale-managed-identity-','forEach','clientId','TJfgW','path','ddtgf','rEuLR','role\x20name\x20attached\x20-\x20','Storage\x20account\x20already\x20exists,\x20skipping','zmBtO','MUJIX','zKfdQ','NoLdi','ksOCM','NdieZ','KgrnO','Xldbw','info','@azure/arm-storage','yMRwm','subnetName','fOlRu','zRxqF','../utils/utilityMethods','qgZoE','Creating\x20Azure\x20federated\x20identity','Attached\x20permissions\x20:\x20','vpcName','aAlnB','FQdSP','aAZRd','length','LsGuW','pblGt','NtrpQ','oEywr','iTTih','Deleted\x20the\x20cluster\x20successfully','stringify','Deleting\x20the\x20cluster\x20','FWbKk','getToken','MvYjW','kcQdy','FOuQY','fMueP','filter','wFVhT','DGcTB','beginCreateOrUpdateAndWait','EXVZQ','clusterInfo','wGDwr','SiPIg','createFederatedAccount','bstackUsername','bpKTi','NFwGL','eFbhT','QyTng','templates','hub','Bearer\x20','yCMVv','MZCXX','feexl','rws','properties','securityProfile','mCTlp','Found\x20only\x20one\x20resource\x20group:\x20','CEgxw','rCUYy','uHBGn','definition','cloudProviderClientSecret','wZDBz','createManagedIdentity','3354967tkfMhF','yqAWO','fDYJs','Incremental','TpvDK','nOKCO','RUqQs','nLGAO','RlgYg','/resourceGroups/','PilER','Gqpcv','managementPolicies','723192NmTZwL','pUEhD','resourceGroups','parse','join','JMfmD','1797450OBcEFW','../config/constants','sendEventToBackend','WqFKq','dSwOY','getClusterInfo','oidcIssuerProfile','[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20','nxWug','gacKk','string','759286paMygv','dkiLT','headers','log','@azure/arm-authorization','MCdub','yoHyH','iZZiL','Ywbzk','eCQvG','QIPJW','beginDeleteAndWait','message','tFsjr','Tnefw','turboscale-identity-deployment','No\x20CLI\x20tool\x20required','ihOIY','exports','Action\x20permission\x20list\x20is\x20empty\x0a','getPrincipalIdFromClientId','Cannot\x20find\x20subnets\x20','ONBYf','virtualNetworks','data','EGCFu','bluCd','\x20CLIENT\x20SECRET:\x20','mVgmR','lutEA','xvTEM','\x0aDo\x20you\x20want\x20to\x20proceed\x20with\x20this\x20resource\x20group\x20(y/n)?\x20','Lifecycle','vBPsF','assignedTo(\x27','UHddM','gAguf','turboscale-federated-deployment','Wcaem','init','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','js-yaml','Creating\x20Azure\x20storage\x20account','3|0|1|5|4|2','Cannot\x20find\x20VPC\x20','nSYSv','luHwu','shmUF','getResourceGroups','uxDlk','getById','tJduq','QRvaX','XuUKI','wFpqC','BRuwj','@azure/arm-resources','Authorization','managedidentity.json','description','isStorageAccountPresent','nXAlu','OBAgF','ogvDN','Yyuwk','oYtLM','nmkpb','vDzJQ','RkHst','workloadIdentity','qjppR','Enabling\x20Local\x20account\x20for\x20the\x20cluster','roleDefinitionId','[concat(\x27/subscriptions/\x27,\x20subscription().subscriptionId,\x20\x27/resourceGroups/\x27,\x20resourceGroup().name,\x20\x27/providers/Microsoft.Network/virtualNetworks/\x27,\x20parameters(\x27vpcName\x27),\x20\x27/subnets/\x27,\x20parameters(\x27subnetName\x27))]','Gufhm','./CloudProvider','NpAmG','mfllH','dJSSM','maxNodes','ymtdO','gqwiQ','map','DYxoO','ACTION','fBKXL','slice','createFederatedAccountForHubHA','debug','BihKQ','RZcrc','nUAQR','LBAuS','roleName','azureresources','bcVTX','UCizh','PTUeZ','Content-Type','jLdbQ','.\x20Error:\x20','yeRuK','trpnN','pOjga','Role\x20definition\x20response\x20list\x20\x20:\x20\x20','550473EhVHWV','QUlcc','isCliToolInstalled','ZqlIG','type','dOMss','bMZlG','bstackAccesskey','location','permissions','No\x20attached\x20role\x20for\x20the\x20client\x20key','wHdul','khzid','mkUJE','cWQxA','FQePl','resourceGroup','method','issuerURL','wQTGt','status','hostname','bcQTz','../config/logger','CtyxP','networkClient','cloudProvider','prgGf','OwNRc','vnetSubnetID','hFAfX','lvjjK','GBuSu','Disk\x20size\x20(in\x20GiB)\x20to\x20provision\x20for\x20each\x20of\x20the\x20agent\x20pool\x20nodes.\x20This\x20value\x20ranges\x20from\x200\x20to\x201023.\x20Specifying\x200\x20will\x20apply\x20the\x20default\x20disk\x20size\x20for\x20that\x20agentVMSize.','RDrVB','fGIXv','akscluster.json','HtaWc','LnKXu','QQotj','XaSZl','ZIuXc','\x20RESOURCE\x20GROUP:\x20','RQbYq','denied','XzeMx','Managed\x20identity\x20already\x20exists,\x20skipping','isSubnetsValid','BiGMv','turboscale','authClient','parameters','get','zKzDP','LBpSB','VGsSA','rules','node','fdKXb','dHoSE','27bxCqFY','entries','blobTypes','pLkQo','6|3|0|5|1|2|4|7','Received\x20response\x20-\x20','wEMen','uYuKo','filters','HiNrK','kpOlk','stack','kDpub','Blob\x20delete\x20lifecycle','xUyxP','UgiOS','https://graph.microsoft.com/.default','name','toString','storageAccountName','fYmxB','NQsGy','Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster','PIsUR','includes','deQPc','mMqPK','ingress','browserstack:managedBy','application/json','deployments','isClusterPresent','.json','webSocketUtils','IwNPB','toUpperCase','bnAPQ','AWSVg','storageaccount.json','Creating\x20Azure\x20managed\x20identity','RESOURCES','3|2|5|1|0|4','qgOYj','evOzr','IKkTA','kubeconfigs','mDQwy','BGhVj','Esepg','[variables(\x27vnetSubnetID\x27)]','YPIqi','getKubeConfigData','push','gBkqA','createOtherResources','jQPjP','MRQGJ','utf-8','KjfJZ','turboscale-cluster-deployment','AGRPr','list','UzWbp','UPLDB','Lyhmy','createOrUpdate','jZOWV','hRxfn','instanceType','createCluster','value','mcDdq','yKeEW','sendAzureInfoToHST','qkGvd','eFtyI','wDFyl','listForScope','BWWoQ','kfAwi','WczCh','readFileAsync','miyKy','subscriptionId','otiwd','principalId','\x20SUBSCRIPTION\x20ID:\x20','s3Bucket','tenantId','getUserInput','DgJgX','resourceClient','metadata','mBUOQ','cloudProviderClientId','nECAy','xNnGP','IUwQl','CMjrb','DyshV','Creating\x20Azure\x20federated\x20identity\x20for\x20Hub\x20Ha','2947295JhMNYc','DNwQJ','cloudProviderName','SQjdS','WDvwT','xfcyR','cloudProviderTenantId','subscriptions/','actions','variables','split','PmBJb','1|3|4|2|5|0','UkUmG','bAMvT','TUaKd','gridName','WjCBf','clientSecret','userInstanceType','error','setupHubHa','UWIdP','.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20','allowed','federatedidentity','xcDKa','CLrcV','uUUho','dgeCx','JiIFu','../utils/gridComponents','fBAoz','yPqRR','resources','getResourceClientId','updateClusterAlreadyPresent','GluLI','actionPermission\x20:\x20','Enabling\x20Workload\x20identity\x20for\x20the\x20cluster','OveeM','altZw','iwrnt','4AGRtbD','loadBalancer','NcLxc','listClusterAdminCredentials','managedClusters','mlqsh','LOG','bWskN','sNvSI','enabled','checkAccess','aEzNk','pyDYQ','lcTlD','yUfVe','accessKey','YoyOn','cloudProviderResourceGroup','exit','PuFTx','TTUkk','ffBLE','getStorageAccountName','LmUEi','daysAfterCreationGreaterThan','default','XUlDM','nbmMe','agentPoolProfiles','OuMqQ'];a1_0x4bb2=function(){return _0x64a533;};return a1_0x4bb2();}class AzureCloudProvider extends CloudProvider{constructor(_0x5b1d88,_0x5884fe,_0x1d8f56,_0x759f94){const _0x4a0cea=a1_0x49d8f4,_0x570e87={};_0x570e87['mNZsC']=_0x4a0cea(0x11a);const _0x57ab26=_0x570e87,_0x5c91d3=_0x57ab26['mNZsC'][_0x4a0cea(0x185)]('|');let _0x39ba0c=0x0;while(!![]){switch(_0x5c91d3[_0x39ba0c++]){case'0':this[_0x4a0cea(0x229)]=null;continue;case'1':this[_0x4a0cea(0x1e8)]=null;continue;case'2':this[_0x4a0cea(0x171)]=null;continue;case'3':this['cred']=null;continue;case'4':this['networkClient']=null;continue;case'5':this[_0x4a0cea(0x1dc)]=null;continue;case'6':super(AZURE,_0x5b1d88,_0x5884fe,_0x1d8f56,_0x759f94);continue;case'7':this['authClient']=null;continue;}break;}}async[a1_0x49d8f4(0x289)](){const _0x10bd8b=a1_0x49d8f4;return await super[_0x10bd8b(0x289)](),this;}[a1_0x49d8f4(0x1ed)](){const _0x1f2069=a1_0x49d8f4,_0x1ea1f2=new ClientSecretCredential(global_registry[_0x1f2069(0x181)],global_registry[_0x1f2069(0x174)],global_registry[_0x1f2069(0x241)]);this[_0x1f2069(0x1dc)]=new ContainerServiceClient(_0x1ea1f2,global_registry[_0x1f2069(0x1d1)]),this['storageClient']=new StorageManagementClient(_0x1ea1f2,global_registry[_0x1f2069(0x1d1)]),this[_0x1f2069(0x171)]=new ResourceManagementClient(_0x1ea1f2,global_registry[_0x1f2069(0x1d1)]),this[_0x1f2069(0xf3)]=new NetworkManagementClient(_0x1ea1f2,global_registry[_0x1f2069(0x1d1)]),this[_0x1f2069(0x10c)]=new AuthorizationManagementClient(_0x1ea1f2,global_registry[_0x1f2069(0x1d1)]),this[_0x1f2069(0x1e4)]=_0x1ea1f2;}[a1_0x49d8f4(0x1bc)](){const _0x250838=a1_0x49d8f4,_0x572864={};_0x572864['shmUF']=function(_0x5657ca,_0xdb189b){return _0x5657ca+_0xdb189b;},_0x572864['pyDYQ']=_0x250838(0x10b),_0x572864['UzWbp']=function(_0xd6a8d0,_0x291eca){return _0xd6a8d0-_0x291eca;};const _0x33686c=_0x572864,_0x25ce7b=global_registry['s3Bucket'][_0x250838(0x185)]('-'),_0xa7bb71=_0x33686c[_0x250838(0x291)](_0x33686c[_0x250838(0x1b2)],_0x25ce7b[_0x33686c[_0x250838(0x154)](_0x25ce7b[_0x250838(0x215)],0x1)])[_0x250838(0x2b8)](0x0,0x18);return _0xa7bb71[_0x250838(0x1cb)]();}['setCachedCredsInRegistry'](_0x2939c1){const _0x13683b=a1_0x49d8f4,_0x3b66d2={};_0x3b66d2[_0x13683b(0x159)]=_0x13683b(0x187);const _0x548d7e=_0x3b66d2,_0x54cda1=_0x548d7e[_0x13683b(0x159)][_0x13683b(0x185)]('|');let _0x19f62f=0x0;while(!![]){switch(_0x54cda1[_0x19f62f++]){case'0':this['setClients']();continue;case'1':global_registry[_0x13683b(0x174)]=_0x2939c1[this[_0x13683b(0x17d)]]['clientId'];continue;case'2':global_registry['cloudProviderSubscriptionId']=_0x2939c1[this[_0x13683b(0x17d)]][_0x13683b(0x169)];continue;case'3':global_registry['cloudProviderClientSecret']=_0x2939c1[this[_0x13683b(0x17d)]][_0x13683b(0x18d)];continue;case'4':global_registry[_0x13683b(0x181)]=_0x2939c1[this['cloudProviderName']]['tenantId'];continue;case'5':global_registry['cloudProviderResourceGroup']=_0x2939c1[this[_0x13683b(0x17d)]][_0x13683b(0xea)];continue;}break;}}async[a1_0x49d8f4(0x16f)](_0x274ceb,_0x4b9ce9){const _0x22aa92=a1_0x49d8f4,_0x54048d={'yCMVv':_0x22aa92(0x1ec),'xUyxP':function(_0x4161dc,_0x5db93f){return _0x4161dc===_0x5db93f;},'kDpub':function(_0x3d415b,_0x270ed8){return _0x3d415b===_0x270ed8;},'BRuwj':function(_0x3eea39,_0x36bb8f){return _0x3eea39(_0x36bb8f);},'TTUkk':function(_0x8fed2a,_0x4a8429){return _0x8fed2a===_0x4a8429;},'OYeuI':function(_0xb99d45,_0x58c7ab){return _0xb99d45===_0x58c7ab;},'ffBLE':_0x22aa92(0xf5),'wQTGt':function(_0x1837a4,_0x391b19){return _0x1837a4(_0x391b19);},'eCQvG':function(_0x5002e5,_0x1e7c28){return _0x5002e5!==_0x1e7c28;},'bZYDF':'aBjGY','Kjyau':function(_0x79c708,_0x4ca21c){return _0x79c708(_0x4ca21c);},'zKfdQ':function(_0x3fd469,_0x3a7140){return _0x3fd469===_0x3a7140;},'yKWHw':function(_0x5baa43,_0x2e1835){return _0x5baa43===_0x2e1835;},'fYmxB':function(_0x3751e5,_0xfa76f7){return _0x3751e5===_0xfa76f7;},'ZinFh':'QzLLQ','mNyaW':_0x22aa92(0x28a),'jZOWV':function(_0x1a6ead,_0x491598){return _0x1a6ead===_0x491598;},'FWbKk':function(_0x315ae3,_0x1d793c){return _0x315ae3===_0x1d793c;},'WRqyQ':_0x22aa92(0xf9),'gricQ':_0x22aa92(0x12d),'bWskN':_0x22aa92(0x1c9),'iZZiL':function(_0x35799c,_0x300e48){return _0x35799c<_0x300e48;},'pOXJF':_0x22aa92(0x22f),'yPqRR':_0x22aa92(0x155),'khzid':function(_0x1774a7,_0x19b44c){return _0x1774a7+_0x19b44c;},'FOuQY':function(_0x4d4d57,_0x5926f1){return _0x4d4d57(_0x5926f1);},'deQPc':'Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item):\x20','DGcTB':function(_0x5f55de,_0x574389){return _0x5f55de(_0x574389);},'xBdDr':function(_0xfe8245,_0x548af3){return _0xfe8245<=_0x548af3;},'MUJIX':function(_0x23fc75,_0x59dd87){return _0x23fc75>_0x59dd87;},'vubOv':function(_0x144124,_0x4314ab){return _0x144124===_0x4314ab;},'jGRtw':_0x22aa92(0x252),'zKzDP':_0x22aa92(0x166),'tJduq':function(_0x1986aa,_0x180cdf){return _0x1986aa-_0x180cdf;}},_0x5b29c1=this[_0x22aa92(0x17d)][_0x22aa92(0x139)](),_0x243f11=await _0x54048d[_0x22aa92(0x299)](_0x274ceb,_0x5b29c1+'\x20CLIENT\x20ID:\x20'),_0x6f16ec=await _0x54048d[_0x22aa92(0x299)](_0x274ceb,_0x5b29c1+_0x22aa92(0x27d)),_0x29c581=await _0x54048d[_0x22aa92(0x299)](_0x274ceb,_0x5b29c1+'\x20TENANT\x20ID:\x20'),_0x58bf1a=await _0x54048d[_0x22aa92(0x299)](_0x274ceb,_0x5b29c1+_0x22aa92(0x16c));global_registry[_0x22aa92(0x174)]=_0x243f11,global_registry[_0x22aa92(0x241)]=_0x6f16ec,global_registry[_0x22aa92(0x181)]=_0x29c581,global_registry[_0x22aa92(0x1d1)]=_0x58bf1a,this[_0x22aa92(0x1ed)]();const _0x3d6d59=await this[_0x22aa92(0x292)](),_0x39d508=_0x3d6d59['length'];let _0x40df61;if(_0x54048d[_0x22aa92(0x1ba)](_0x39d508,0x0))_0x54048d['OYeuI'](_0x54048d[_0x22aa92(0x1bb)],_0x54048d['ffBLE'])?_0x40df61=await _0x54048d[_0x22aa92(0xed)](_0x274ceb,_0x5b29c1+_0x22aa92(0x104)):_0x5e67cd[_0x22aa92(0x14a)](..._0x1cd5c4[_0x22aa92(0x183)]);else{if(_0x54048d[_0x22aa92(0x124)](_0x39d508,0x1)){if(_0x54048d[_0x22aa92(0x26b)](_0x54048d['bZYDF'],_0x54048d['bZYDF']))return!![];else{const _0x271dc=await _0x54048d['Kjyau'](_0x274ceb,_0x22aa92(0x23c)+_0x3d6d59[0x0]+_0x22aa92(0x281));if(_0x54048d[_0x22aa92(0x201)](_0x271dc,undefined)||_0x54048d[_0x22aa92(0x122)](_0x271dc,null)||!(_0x54048d['yKWHw'](_0x271dc['toLowerCase'](),'y')||_0x54048d[_0x22aa92(0x12a)](_0x271dc['toLowerCase'](),'n'))){if(_0x54048d[_0x22aa92(0x124)](_0x54048d[_0x22aa92(0x1c4)],_0x54048d[_0x22aa92(0x1c4)]))console[_0x22aa92(0x18f)](_0x54048d[_0x22aa92(0x1d3)]),process['exit'](0x1);else return _0x59e400[_0x22aa92(0x18f)](_0x22aa92(0x28e)+_0x277532+_0x22aa92(0x192)+_0x1578ff),![];}if(_0x54048d[_0x22aa92(0x158)](_0x271dc[_0x22aa92(0x1cb)](),'n')){if(_0x54048d[_0x22aa92(0x21e)](_0x54048d['WRqyQ'],_0x54048d['WRqyQ']))process[_0x22aa92(0x1b8)](0x0);else throw new _0x18b86e(_0x54048d[_0x22aa92(0x235)],_0x22aa92(0x11b)+_0x4e1e5e[_0x22aa92(0x21c)](_0x40bdd0));}_0x40df61=_0x3d6d59[0x0];}}else{if(_0x54048d[_0x22aa92(0x201)](_0x54048d['gricQ'],_0x54048d[_0x22aa92(0x1ad)])){if(_0x54048d[_0x22aa92(0x124)](_0x174896['name'],_0x59e9de))return!![];}else{for(let _0x3ea51b=0x0;_0x54048d[_0x22aa92(0x269)](_0x3ea51b,_0x3d6d59['length']);_0x3ea51b+=0x1){_0x54048d['zKfdQ'](_0x54048d['pOXJF'],_0x54048d[_0x22aa92(0x19c)])?_0x54048d[_0x22aa92(0x122)](_0xac389b[_0x22aa92(0x127)],_0x5b3fed)&&(_0x31c126=_0x449d1c['id']):console[_0x22aa92(0x265)]('['+_0x54048d[_0x22aa92(0xe6)](_0x3ea51b,0x1)+']\x20'+_0x3d6d59[_0x3ea51b]);}const _0x54bfcb=await _0x54048d[_0x22aa92(0x222)](_0x274ceb,_0x54048d[_0x22aa92(0x12f)]),_0x54fc32=_0x54048d[_0x22aa92(0x226)](Number,_0x54bfcb);if(_0x54048d[_0x22aa92(0x222)](isNaN,_0x54fc32)||_0x54048d['xBdDr'](_0x54fc32,0x0)||_0x54048d[_0x22aa92(0x200)](_0x54fc32,_0x39d508)){if(_0x54048d[_0x22aa92(0x1e0)](_0x54048d['jGRtw'],_0x54048d[_0x22aa92(0x10f)]))return!![];else console['error'](_0x54048d[_0x22aa92(0x1d3)]),process[_0x22aa92(0x1b8)](0x1);}_0x40df61=_0x3d6d59[_0x54048d[_0x22aa92(0x295)](_0x54fc32,0x1)];}}}global_registry[_0x22aa92(0x1b7)]=_0x40df61;const _0x5b055b={};return _0x5b055b[_0x22aa92(0x1f8)]=_0x243f11,_0x5b055b[_0x22aa92(0x18d)]=_0x6f16ec,_0x5b055b[_0x22aa92(0x16e)]=_0x29c581,_0x5b055b[_0x22aa92(0x169)]=_0x58bf1a,_0x5b055b[_0x22aa92(0xea)]=_0x40df61,_0x4b9ce9[_0x22aa92(0xf4)][AZURE]=_0x5b055b,_0x4b9ce9;}async[a1_0x49d8f4(0x292)](){const _0x48c2b7=a1_0x49d8f4,_0x532866={};_0x532866[_0x48c2b7(0x1ae)]=_0x48c2b7(0x28a),_0x532866[_0x48c2b7(0x1b1)]=function(_0x2e8ead,_0x2499cd){return _0x2e8ead===_0x2499cd;},_0x532866[_0x48c2b7(0x2a6)]=_0x48c2b7(0x283),_0x532866[_0x48c2b7(0x248)]=_0x48c2b7(0x1cd),_0x532866['ZLxmm']=function(_0x230836,_0x332ea8){return _0x230836===_0x332ea8;},_0x532866[_0x48c2b7(0x1c0)]=_0x48c2b7(0x20c);const _0x506327=_0x532866,_0x17def4=[];try{if(_0x506327[_0x48c2b7(0x1b1)](_0x506327[_0x48c2b7(0x2a6)],_0x506327['TpvDK']))_0x2eb1db[_0x48c2b7(0x1df)][_0x48c2b7(0x14a)](_0x39e69d);else{const _0x2abab1=await this[_0x48c2b7(0x171)][_0x48c2b7(0x253)][_0x48c2b7(0x153)]();for await(const _0x9ab9dd of _0x2abab1){_0x506327[_0x48c2b7(0x1c8)](_0x506327[_0x48c2b7(0x1c0)],_0x506327[_0x48c2b7(0x1c0)])?_0x17def4[_0x48c2b7(0x14a)](_0x9ab9dd[_0x48c2b7(0x127)]):(_0x399cc2[_0x48c2b7(0x18f)](_0x506327[_0x48c2b7(0x1ae)]),_0x5044a1[_0x48c2b7(0x1b8)](0x1));}}}catch(_0x33b6b0){}return _0x17def4;}async[a1_0x49d8f4(0x25c)](){const _0x303255=a1_0x49d8f4;return this[_0x303255(0x229)]=await this[_0x303255(0x1dc)]['managedClusters'][_0x303255(0x10e)](global_registry[_0x303255(0x1b7)],this[_0x303255(0x1e6)]),this['clusterInfo'];}async[a1_0x49d8f4(0x149)](){const _0x35027e=a1_0x49d8f4,_0x4a1db9=await this['containerClient'][_0x35027e(0x1aa)][_0x35027e(0x1a9)](global_registry[_0x35027e(0x1b7)],this[_0x35027e(0x1e6)]),_0x268313=_0x4a1db9[_0x35027e(0x143)][0x0][_0x35027e(0x15c)][_0x35027e(0x128)]();return _0x268313;}['getGridHostname'](_0xc652b0){const _0x5de5a6=a1_0x49d8f4;return _0xc652b0[_0x5de5a6(0xee)][_0x5de5a6(0x1a7)][_0x5de5a6(0x131)][0x0][_0x5de5a6(0xef)];}async[a1_0x49d8f4(0x135)](){const _0x3fb536=a1_0x49d8f4,_0x56f801={};_0x56f801['dSwOY']='No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles',_0x56f801['dOMss']=function(_0x243c5e,_0x6ea160){return _0x243c5e===_0x6ea160;},_0x56f801[_0x3fb536(0x1a4)]=_0x3fb536(0x164),_0x56f801[_0x3fb536(0x1e7)]=function(_0x498af8,_0x5e03ea){return _0x498af8!==_0x5e03ea;},_0x56f801['oPurz']=_0x3fb536(0x1fb),_0x56f801[_0x3fb536(0x180)]=_0x3fb536(0x13b),_0x56f801['LBpSB']='oltEf',_0x56f801[_0x3fb536(0x17f)]='MEoIT';const _0xa28ee9=_0x56f801,_0x4e99a1=new Array();for await(const _0x2fde9d of this[_0x3fb536(0x1dc)][_0x3fb536(0x1aa)][_0x3fb536(0x1e1)](global_registry[_0x3fb536(0x1b7)])){_0xa28ee9['dOMss'](_0xa28ee9[_0x3fb536(0x1a4)],_0xa28ee9[_0x3fb536(0x1a4)])?_0x4e99a1[_0x3fb536(0x14a)](_0x2fde9d):_0x3e9808[_0x3fb536(0x14a)](_0x5d9368);}for await(const _0x2ba5b0 of _0x4e99a1){if(_0xa28ee9[_0x3fb536(0x1e7)](_0xa28ee9['oPurz'],_0xa28ee9[_0x3fb536(0x180)])){if(_0xa28ee9[_0x3fb536(0xdf)](_0x2ba5b0['name'],this[_0x3fb536(0x1e6)]))return _0xa28ee9[_0x3fb536(0x1e7)](_0xa28ee9[_0x3fb536(0x110)],_0xa28ee9[_0x3fb536(0x17f)])?(await this[_0x3fb536(0x25c)](),!![]):(_0xa7f174[_0x3fb536(0x27a)]=_0xa28ee9[_0x3fb536(0x25b)],_0x3393d6);}else return!![];}return![];}async[a1_0x49d8f4(0x1d8)](_0x49c0f7=null,_0x41b16a=null){const _0x2960b9=a1_0x49d8f4,_0x4c9ded={};_0x4c9ded[_0x2960b9(0x2bd)]=_0x2960b9(0x13f),_0x4c9ded[_0x2960b9(0x111)]='Creating\x20required\x20resources\x20-\x20AKS\x20Cluster,\x20Storage\x20account\x20and\x20Managed\x20identity';const _0x5da747=_0x4c9ded,_0x411874=_0x5da747[_0x2960b9(0x2bd)][_0x2960b9(0x185)]('|');let _0xf7461b=0x0;while(!![]){switch(_0x411874[_0xf7461b++]){case'0':await this['createOtherResources']();continue;case'1':await this[_0x2960b9(0x15b)](_0x49c0f7,_0x41b16a);continue;case'2':const _0x4d4d7f={};_0x4d4d7f['type']=WS_EVENTS[_0x2960b9(0x1ac)],_0x4d4d7f[_0x2960b9(0x26e)]=_0x5da747[_0x2960b9(0x111)],this[_0x2960b9(0x137)]['sendEventToBackend'](this[_0x2960b9(0x238)],_0x4d4d7f);continue;case'3':this[_0x2960b9(0x15f)]();continue;case'4':return[_0x49c0f7,_0x41b16a];case'5':logger['info'](_0x5da747[_0x2960b9(0x111)]);continue;}break;}}async[a1_0x49d8f4(0x15b)](_0x20ddbe=null,_0x2a0e23=null){const _0x5dc8e2=a1_0x49d8f4,_0x802e24={};_0x802e24[_0x5dc8e2(0x1de)]=_0x5dc8e2(0x232),_0x802e24[_0x5dc8e2(0x188)]=_0x5dc8e2(0x2c0),_0x802e24['mkUJE']=_0x5dc8e2(0xfe),_0x802e24[_0x5dc8e2(0x225)]=_0x5dc8e2(0x14f),_0x802e24['uHBGn']=function(_0x100123,_0x4e9ec3){return _0x100123!==_0x4e9ec3;},_0x802e24[_0x5dc8e2(0x2a5)]=function(_0x23e5ca,_0x31d53d){return _0x23e5ca!==_0x31d53d;},_0x802e24[_0x5dc8e2(0x156)]=function(_0x3f4726,_0x326d9a){return _0x3f4726===_0x326d9a;},_0x802e24[_0x5dc8e2(0x1db)]=_0x5dc8e2(0x206),_0x802e24['yWtpq']=_0x5dc8e2(0x280),_0x802e24[_0x5dc8e2(0x1f5)]='string',_0x802e24['aZRlX']=_0x5dc8e2(0xfb),_0x802e24[_0x5dc8e2(0x2af)]=_0x5dc8e2(0x2ab),_0x802e24[_0x5dc8e2(0xfa)]=_0x5dc8e2(0x147),_0x802e24[_0x5dc8e2(0x199)]=_0x5dc8e2(0x151),_0x802e24['EXCtg']=_0x5dc8e2(0x247);const _0x420f24=_0x802e24;let _0x30eb91=await fs[_0x5dc8e2(0x167)](path['join'](__dirname,'..',_0x420f24[_0x5dc8e2(0x1de)],_0x420f24['UkUmG'],_0x420f24[_0x5dc8e2(0xe7)]),_0x420f24[_0x5dc8e2(0x225)]);_0x30eb91=JSON['parse'](_0x30eb91);const _0x1dd097={};_0x1dd097['value']=this['clusterName'];const _0x23293d={};_0x23293d['value']=global_registry['clusterRegion'];const _0x1f34e5={};_0x1f34e5['value']=global_registry[_0x5dc8e2(0x15a)];const _0x405c75={};_0x405c75[_0x5dc8e2(0x15c)]=global_registry[_0x5dc8e2(0x2b1)];const _0x5aecb4={};_0x5aecb4[_0x5dc8e2(0x1e6)]=_0x1dd097,_0x5aecb4[_0x5dc8e2(0xe2)]=_0x23293d,_0x5aecb4[_0x5dc8e2(0x18e)]=_0x1f34e5,_0x5aecb4[_0x5dc8e2(0x1ca)]=_0x405c75;let _0x3fb05b=_0x5aecb4;if(_0x420f24[_0x5dc8e2(0x23f)](_0x20ddbe,null)&&_0x420f24['vDzJQ'](_0x2a0e23,null)){if(_0x420f24[_0x5dc8e2(0x156)](_0x420f24[_0x5dc8e2(0x1db)],_0x420f24[_0x5dc8e2(0x1ef)]))_0x1b0d22[_0x5dc8e2(0x18f)]=_0x4f83d7;else{const _0x2d229a={};_0x2d229a[_0x5dc8e2(0xde)]=_0x420f24[_0x5dc8e2(0x1f5)],_0x2d229a['metadata']={},_0x2d229a['metadata'][_0x5dc8e2(0x29d)]=_0x420f24['aZRlX'];const _0x45ea07={};_0x45ea07[_0x5dc8e2(0xde)]=_0x420f24['NODAc'],_0x45ea07[_0x5dc8e2(0x172)]={},_0x45ea07[_0x5dc8e2(0x172)][_0x5dc8e2(0x29d)]=_0x420f24['aZRlX'],_0x30eb91[_0x5dc8e2(0x10d)]={..._0x30eb91['parameters'],'vpcName':_0x2d229a,'subnetName':_0x45ea07};const _0x5dcd1a={};_0x5dcd1a[_0x5dc8e2(0xf7)]=_0x420f24[_0x5dc8e2(0x2af)],_0x30eb91[_0x5dc8e2(0x184)]=_0x5dcd1a,_0x30eb91[_0x5dc8e2(0x19d)][0x0][_0x5dc8e2(0x239)]['agentPoolProfiles'][0x0]={..._0x30eb91['resources'][0x0][_0x5dc8e2(0x239)]['agentPoolProfiles'][0x0],'vnetSubnetID':_0x420f24[_0x5dc8e2(0xfa)]};const _0x3acae2={};_0x3acae2[_0x5dc8e2(0x15c)]=_0x20ddbe;const _0x39030f={};_0x39030f[_0x5dc8e2(0x15c)]=_0x2a0e23[0x0],_0x3fb05b={..._0x3fb05b,'vpcName':_0x3acae2,'subnetName':_0x39030f};}}await this[_0x5dc8e2(0x171)][_0x5dc8e2(0x134)]['beginCreateOrUpdateAndWait'](global_registry['cloudProviderResourceGroup'],_0x420f24[_0x5dc8e2(0x199)],{'properties':{'template':_0x30eb91,'mode':_0x420f24['EXCtg'],'parameters':_0x3fb05b}});}async[a1_0x49d8f4(0x14c)](){const _0x168e6a=a1_0x49d8f4,_0x4b0fcb={};_0x4b0fcb[_0x168e6a(0x2c5)]=_0x168e6a(0x2a9),_0x4b0fcb[_0x168e6a(0x260)]=_0x168e6a(0x108),_0x4b0fcb[_0x168e6a(0x21a)]=function(_0x4dafc2,_0x689027){return _0x4dafc2+_0x689027;},_0x4b0fcb[_0x168e6a(0x286)]='turboscale',_0x4b0fcb['oYtLM']=function(_0x5a583f,_0x97b9c1){return _0x5a583f-_0x97b9c1;},_0x4b0fcb['Qamev']='No\x20attached\x20role\x20for\x20the\x20client\x20key',_0x4b0fcb[_0x168e6a(0x197)]=function(_0x172b91,_0x95e931){return _0x172b91!==_0x95e931;},_0x4b0fcb[_0x168e6a(0xfd)]=_0x168e6a(0x288),_0x4b0fcb['QUlcc']=_0x168e6a(0x28c),_0x4b0fcb[_0x168e6a(0x162)]=function(_0x413bea,_0x5af1c6){return _0x413bea!==_0x5af1c6;},_0x4b0fcb[_0x168e6a(0x2b5)]=_0x168e6a(0x100),_0x4b0fcb[_0x168e6a(0x25f)]=_0x168e6a(0x214),_0x4b0fcb[_0x168e6a(0x1c3)]=_0x168e6a(0x1fe),_0x4b0fcb[_0x168e6a(0x231)]=function(_0x546e54,_0x350687){return _0x546e54!==_0x350687;},_0x4b0fcb[_0x168e6a(0x2b0)]=_0x168e6a(0x115),_0x4b0fcb['qjppR']=_0x168e6a(0x13d),_0x4b0fcb[_0x168e6a(0x267)]=_0x168e6a(0x2b2),_0x4b0fcb[_0x168e6a(0xf8)]=_0x168e6a(0x20f),_0x4b0fcb[_0x168e6a(0x18c)]=_0x168e6a(0x1d0);const _0x3d2103=_0x4b0fcb,_0x4d819d=await this[_0x168e6a(0x29e)]();if(!_0x4d819d){if(_0x3d2103[_0x168e6a(0x197)](_0x3d2103['fGIXv'],_0x3d2103[_0x168e6a(0xfd)])){_0x3efb7e[_0x168e6a(0x207)](_0x3d2103['jLdbQ']);const _0x9d7973={};_0x9d7973[_0x168e6a(0xde)]=_0x5b7d0c[_0x168e6a(0x13e)],_0x9d7973[_0x168e6a(0x26e)]=_0x3d2103[_0x168e6a(0x2c5)],this[_0x168e6a(0x137)]['sendEventToBackend'](this[_0x168e6a(0x238)],_0x9d7973),_0x99081c[_0x168e6a(0x1f4)]=![];}else{const _0x3c2770={};_0x3c2770[_0x168e6a(0xde)]=WS_EVENTS['LOG'],_0x3c2770['message']=_0x3d2103[_0x168e6a(0x2cc)],this[_0x168e6a(0x137)][_0x168e6a(0x259)](this[_0x168e6a(0x238)],_0x3c2770),logger[_0x168e6a(0x207)](_0x3d2103[_0x168e6a(0x2cc)]),await this[_0x168e6a(0x1ce)]();}}else _0x3d2103[_0x168e6a(0x162)](_0x3d2103[_0x168e6a(0x2b5)],_0x3d2103[_0x168e6a(0x25f)])?logger[_0x168e6a(0x207)](_0x3d2103[_0x168e6a(0x1c3)]):_0x1ee4a8[_0x168e6a(0x207)](_0x3d2103['gacKk']);const _0x1199d4=await this[_0x168e6a(0x1e9)]();if(!_0x1199d4){if(_0x3d2103[_0x168e6a(0x231)](_0x3d2103[_0x168e6a(0x2b0)],_0x3d2103['dJSSM'])){const _0xb31769=_0x542a15[_0x168e6a(0x16d)]['split']('-'),_0x517886=_0x3d2103['iTTih'](_0x3d2103[_0x168e6a(0x286)],_0xb31769[_0x3d2103[_0x168e6a(0x2a3)](_0xb31769['length'],0x1)])[_0x168e6a(0x2b8)](0x0,0x18);return _0x517886[_0x168e6a(0x1cb)]();}else{const _0x275f8a={};_0x275f8a[_0x168e6a(0xde)]=WS_EVENTS['LOG'],_0x275f8a['message']=_0x3d2103[_0x168e6a(0x2a8)],this['webSocketUtils'][_0x168e6a(0x259)](this[_0x168e6a(0x238)],_0x275f8a),logger[_0x168e6a(0x207)](_0x3d2103['qjppR']),await this['createManagedIdentity']();}}else{if(_0x3d2103[_0x168e6a(0x162)](_0x3d2103[_0x168e6a(0x267)],_0x3d2103[_0x168e6a(0x267)]))return _0x4b567b[_0x168e6a(0x27a)]=_0x3d2103['Qamev'],_0x319da0;else logger[_0x168e6a(0x207)](_0x3d2103[_0x168e6a(0x260)]);}logger['info'](_0x3d2103['hFAfX']),await this[_0x168e6a(0x22c)](),logger[_0x168e6a(0x207)](_0x3d2103[_0x168e6a(0x18c)]);}async[a1_0x49d8f4(0x1ce)](){const _0x158ea7=a1_0x49d8f4,_0x173eb9={};_0x173eb9['RHFKf']=_0x158ea7(0x232),_0x173eb9[_0x158ea7(0x2a1)]=_0x158ea7(0x2c0),_0x173eb9[_0x158ea7(0x17e)]=_0x158ea7(0x13c),_0x173eb9['NdDWo']=_0x158ea7(0x14f),_0x173eb9['luHwu']='turboscale-storageaccount-deployment',_0x173eb9['cWQxA']='Incremental',_0x173eb9[_0x158ea7(0x1c6)]=_0x158ea7(0x123),_0x173eb9[_0x158ea7(0x22b)]=_0x158ea7(0x282),_0x173eb9['mCTlp']='blockBlob',_0x173eb9['OvycP']=_0x158ea7(0x1bf);const _0x296b6b=_0x173eb9;let _0x2a9348=await fs[_0x158ea7(0x167)](path[_0x158ea7(0x255)](__dirname,'..',_0x296b6b['RHFKf'],_0x296b6b['ogvDN'],_0x296b6b[_0x158ea7(0x17e)]),_0x296b6b[_0x158ea7(0x1da)]);_0x2a9348=JSON[_0x158ea7(0x254)](_0x2a9348);const _0x2eab66=this['getStorageAccountName'](),_0x264983={};_0x264983['value']=_0x2eab66;const _0xed6996={};_0xed6996[_0x158ea7(0x129)]=_0x264983,await this['resourceClient'][_0x158ea7(0x134)][_0x158ea7(0x227)](global_registry[_0x158ea7(0x1b7)],_0x296b6b[_0x158ea7(0x290)],{'properties':{'template':_0x2a9348,'mode':_0x296b6b[_0x158ea7(0xe8)],'parameters':_0xed6996}});const _0x31f55e={};_0x31f55e[_0x158ea7(0x1be)]=0x3c;const _0x198f9a={};_0x198f9a['delete']=_0x31f55e;const _0x3e28f9={};_0x3e28f9[_0x158ea7(0x1f2)]=_0x198f9a;const _0x32f42f={};_0x32f42f[_0x158ea7(0x1af)]=!![],_0x32f42f[_0x158ea7(0x127)]=_0x296b6b['oYTca'],_0x32f42f[_0x158ea7(0xde)]=_0x296b6b[_0x158ea7(0x22b)],_0x32f42f[_0x158ea7(0x240)]={},_0x32f42f[_0x158ea7(0x240)][_0x158ea7(0x183)]=_0x3e28f9,_0x32f42f[_0x158ea7(0x240)][_0x158ea7(0x11e)]={},_0x32f42f[_0x158ea7(0x240)][_0x158ea7(0x11e)][_0x158ea7(0x118)]=[_0x296b6b[_0x158ea7(0x23b)]];const _0x2b543d={};_0x2b543d[_0x158ea7(0x112)]=[_0x32f42f];const _0x48b61f={};_0x48b61f['policy']=_0x2b543d;const _0x56382d=_0x48b61f;await this['storageClient'][_0x158ea7(0x250)][_0x158ea7(0x157)](global_registry['cloudProviderResourceGroup'],_0x2eab66,_0x296b6b['OvycP'],_0x56382d);}async[a1_0x49d8f4(0x243)](){const _0x5a9c33=a1_0x49d8f4,_0x52037a={};_0x52037a[_0x5a9c33(0x14e)]='templates',_0x52037a[_0x5a9c33(0x1dd)]=_0x5a9c33(0x2c0),_0x52037a[_0x5a9c33(0xdd)]=_0x5a9c33(0x29c),_0x52037a[_0x5a9c33(0x105)]='utf-8',_0x52037a[_0x5a9c33(0x195)]=_0x5a9c33(0x271),_0x52037a[_0x5a9c33(0x1f0)]='Incremental';const _0x43ce7c=_0x52037a;let _0x32e808=await fs[_0x5a9c33(0x167)](path[_0x5a9c33(0x255)](__dirname,'..',_0x43ce7c['MRQGJ'],_0x43ce7c['kjyWd'],_0x43ce7c[_0x5a9c33(0xdd)]),_0x43ce7c[_0x5a9c33(0x105)]);_0x32e808=JSON[_0x5a9c33(0x254)](_0x32e808),await this[_0x5a9c33(0x171)][_0x5a9c33(0x134)][_0x5a9c33(0x227)](global_registry[_0x5a9c33(0x1b7)],_0x43ce7c[_0x5a9c33(0x195)],{'properties':{'template':_0x32e808,'mode':_0x43ce7c['IdvXf'],'parameters':{'clusterName':{'value':this[_0x5a9c33(0x1e6)]}}}});}async[a1_0x49d8f4(0x22c)](){const _0xc5f4e4=a1_0x49d8f4,_0x2d6aa1={};_0x2d6aa1[_0xc5f4e4(0x198)]=_0xc5f4e4(0x1a2),_0x2d6aa1['vCdwl']=function(_0x1f22f7,_0xbd92c4){return _0x1f22f7===_0xbd92c4;},_0x2d6aa1['KjfJZ']=_0xc5f4e4(0x2c3),_0x2d6aa1[_0xc5f4e4(0x10a)]=_0xc5f4e4(0x233),_0x2d6aa1[_0xc5f4e4(0x1bd)]=_0xc5f4e4(0x113),_0x2d6aa1[_0xc5f4e4(0x1e2)]=function(_0x3bbc06,_0x2afe0e){return _0x3bbc06!==_0x2afe0e;},_0x2d6aa1[_0xc5f4e4(0x1f9)]=_0xc5f4e4(0x1ab),_0x2d6aa1[_0xc5f4e4(0x22a)]='PqWqI',_0x2d6aa1[_0xc5f4e4(0x177)]=_0xc5f4e4(0x232),_0x2d6aa1[_0xc5f4e4(0x160)]=_0xc5f4e4(0x2c0),_0x2d6aa1[_0xc5f4e4(0x119)]='utf-8',_0x2d6aa1[_0xc5f4e4(0x1d4)]=_0xc5f4e4(0x287),_0x2d6aa1[_0xc5f4e4(0xe5)]=_0xc5f4e4(0x247);const _0x2abd6f=_0x2d6aa1;if(!this['clusterInfo']){if(_0x2abd6f['vCdwl'](_0x2abd6f[_0xc5f4e4(0x150)],_0x2abd6f[_0xc5f4e4(0x150)]))await this[_0xc5f4e4(0x25c)]();else return _0x17535f[_0xc5f4e4(0x18f)](_0xc5f4e4(0x277)+_0xe380a0+_0xc5f4e4(0x2c6)+_0x3c5392),[![],[]];}const _0x220941=this[_0xc5f4e4(0x229)]?.[_0xc5f4e4(0x25d)]?.[_0xc5f4e4(0xec)],_0x55f175=[_0x2abd6f[_0xc5f4e4(0x10a)],_0x2abd6f[_0xc5f4e4(0x1bd)]];for await(const _0x307e96 of _0x55f175){if(_0x2abd6f['gJvwJ'](_0x2abd6f[_0xc5f4e4(0x1f9)],_0x2abd6f[_0xc5f4e4(0x22a)])){let _0x45a3fd=await fs[_0xc5f4e4(0x167)](path[_0xc5f4e4(0x255)](__dirname,'..',_0x2abd6f['IUwQl'],_0x2abd6f[_0xc5f4e4(0x160)],_0xc5f4e4(0x194)+_0x307e96+_0xc5f4e4(0x136)),_0x2abd6f[_0xc5f4e4(0x119)]);_0x45a3fd=JSON['parse'](_0x45a3fd);const _0x1ff5b8={};_0x1ff5b8[_0xc5f4e4(0x15c)]=_0x220941,await this[_0xc5f4e4(0x171)][_0xc5f4e4(0x134)][_0xc5f4e4(0x227)](global_registry[_0xc5f4e4(0x1b7)],_0x2abd6f['GJOQc'],{'properties':{'template':_0x45a3fd,'mode':_0x2abd6f[_0xc5f4e4(0xe5)],'parameters':{'oidcIssuer':_0x1ff5b8,'gridName':{'value':this[_0xc5f4e4(0x18b)]},'clusterName':{'value':this['clusterName']}}}});}else{_0x385272['info'](_0x2abd6f[_0xc5f4e4(0x198)]);const _0x20bfc2={};_0x20bfc2[_0xc5f4e4(0xde)]=_0x481f7e[_0xc5f4e4(0x13e)],_0x20bfc2[_0xc5f4e4(0x26e)]=_0x2abd6f['dgeCx'],this[_0xc5f4e4(0x137)]['sendEventToBackend'](this['rws'],_0x20bfc2);const _0x30f4e9={};_0x30f4e9[_0xc5f4e4(0x1af)]=!![];const _0xcba2d3={'workloadIdentity':_0x30f4e9,..._0x5bad5c[_0xc5f4e4(0x23a)]};_0x2c5a17['securityProfile']=_0xcba2d3;}}}async[a1_0x49d8f4(0x190)](_0x2423b7,_0x10563d,_0x234847,_0x596295,_0x2e7907){const _0x556d32=a1_0x49d8f4,_0x35668b={};_0x35668b[_0x556d32(0x1fc)]=_0x556d32(0x17a),_0x35668b[_0x556d32(0x27b)]='Created\x20Azure\x20federated\x20identity\x20&\x20Storage\x20Class\x20for\x20Hub\x20Ha';const _0x2fa4e0=_0x35668b,_0x4d92a0={};_0x4d92a0[_0x556d32(0xde)]=WS_EVENTS[_0x556d32(0x1ac)],_0x4d92a0[_0x556d32(0x26e)]=_0x2fa4e0[_0x556d32(0x1fc)],this['webSocketUtils'][_0x556d32(0x259)](this[_0x556d32(0x238)],_0x4d92a0),logger['info'](_0x2fa4e0[_0x556d32(0x1fc)]),await this[_0x556d32(0x2b9)]();const _0x3de0f8={};_0x3de0f8[_0x556d32(0xde)]=WS_EVENTS['LOG'],_0x3de0f8[_0x556d32(0x26e)]=_0x2fa4e0['EGCFu'],this[_0x556d32(0x137)][_0x556d32(0x259)](this[_0x556d32(0x238)],_0x3de0f8);}async[a1_0x49d8f4(0x2b9)](){const _0x2c88d8=a1_0x49d8f4,_0x242873={};_0x242873[_0x2c88d8(0x107)]='Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.',_0x242873[_0x2c88d8(0x228)]=function(_0x4ae276,_0x48748a){return _0x4ae276===_0x48748a;},_0x242873[_0x2c88d8(0x216)]=_0x2c88d8(0x298),_0x242873[_0x2c88d8(0x2b7)]=_0x2c88d8(0x242),_0x242873[_0x2c88d8(0x175)]='templates',_0x242873[_0x2c88d8(0x142)]='hubharesources',_0x242873[_0x2c88d8(0x278)]='federatedidentityuploader.json',_0x242873[_0x2c88d8(0x26a)]='utf-8',_0x242873[_0x2c88d8(0x189)]='turboscale-federated-deployment',_0x242873[_0x2c88d8(0x2c1)]=_0x2c88d8(0x247);const _0x563ff9=_0x242873;!this['clusterInfo']&&(_0x563ff9['EXVZQ'](_0x563ff9[_0x2c88d8(0x216)],_0x563ff9[_0x2c88d8(0x2b7)])?(_0x3683e6['error'](_0x563ff9[_0x2c88d8(0x107)]),_0x458045[_0x2c88d8(0x1b8)](0x1)):await this[_0x2c88d8(0x25c)]());const _0x22cb2b=this['clusterInfo']?.[_0x2c88d8(0x25d)]?.['issuerURL'];let _0x911aab=await fs[_0x2c88d8(0x167)](path['join'](__dirname,'..',_0x563ff9[_0x2c88d8(0x175)],_0x563ff9[_0x2c88d8(0x142)],_0x563ff9['ONBYf']),_0x563ff9[_0x2c88d8(0x26a)]);_0x911aab=JSON[_0x2c88d8(0x254)](_0x911aab);const _0x5391cc={};_0x5391cc['value']=_0x22cb2b,await this[_0x2c88d8(0x171)][_0x2c88d8(0x134)]['beginCreateOrUpdateAndWait'](global_registry[_0x2c88d8(0x1b7)],_0x563ff9[_0x2c88d8(0x189)],{'properties':{'template':_0x911aab,'mode':_0x563ff9[_0x2c88d8(0x2c1)],'parameters':{'oidcIssuer':_0x5391cc,'namespace':{'value':global_registry['hubHaNameSpace']},'clusterName':{'value':this[_0x2c88d8(0x1e6)]}}}});}async[a1_0x49d8f4(0x29e)](){const _0x180229=a1_0x49d8f4,_0x413666={};_0x413666[_0x180229(0x165)]=_0x180229(0x193),_0x413666[_0x180229(0x209)]=_0x180229(0x106),_0x413666[_0x180229(0x221)]=function(_0xcb52fe,_0xce263d){return _0xcb52fe===_0xce263d;},_0x413666[_0x180229(0x1ff)]=_0x180229(0x1a3),_0x413666[_0x180229(0x245)]=_0x180229(0x28f),_0x413666['QIPJW']=function(_0x2b02ad,_0x19ba69){return _0x2b02ad!==_0x19ba69;},_0x413666[_0x180229(0x2b3)]=_0x180229(0x14d),_0x413666[_0x180229(0x218)]=function(_0x43e868,_0x296e36){return _0x43e868===_0x296e36;},_0x413666[_0x180229(0x27c)]=function(_0x1511fa,_0x378aba){return _0x1511fa!==_0x378aba;},_0x413666['fdKXb']=_0x180229(0x20b),_0x413666[_0x180229(0x256)]=_0x180229(0x16a);const _0xb76c04=_0x413666,_0x3af69d=this[_0x180229(0x1bc)](),_0x101a12=new Array();for await(const _0x2254f8 of this[_0x180229(0x1e8)][_0x180229(0x1cc)]['listByResourceGroup'](global_registry['cloudProviderResourceGroup'])){if(_0xb76c04['kcQdy'](_0xb76c04[_0x180229(0x1ff)],_0xb76c04[_0x180229(0x245)]))return;else _0x101a12['push'](_0x2254f8);}for await(const _0x415415 of _0x101a12){if(_0xb76c04[_0x180229(0x26c)](_0xb76c04[_0x180229(0x2b3)],_0xb76c04['gqwiQ']))_0x167226[_0x180229(0x14a)](_0x43050c);else{if(_0xb76c04[_0x180229(0x218)](_0x415415['name'],_0x3af69d)){if(_0xb76c04[_0x180229(0x27c)](_0xb76c04[_0x180229(0x114)],_0xb76c04[_0x180229(0x256)]))return!![];else{const _0x3a9fec=_0x3cb981[_0x180229(0x12e)](_0x112faa);_0x4393b9+='\x0a\x09'+_0x259a9d+':\x20'+(_0x3a9fec?_0xb76c04[_0x180229(0x165)]:_0xb76c04[_0x180229(0x209)]),!_0x3a9fec&&(_0x3f1e35['status']=![]);}}}}return![];}async[a1_0x49d8f4(0x1e9)](){const _0x1a421a=a1_0x49d8f4,_0x3ba48d={'nOKCO':function(_0x8ea52c,_0x9fe057,_0x3eb081){return _0x8ea52c(_0x9fe057,_0x3eb081);},'bMZlG':_0x1a421a(0x12c),'KCCRN':function(_0x27c922,_0x30ceb6){return _0x27c922===_0x30ceb6;},'ntgVw':_0x1a421a(0x237),'dkiLT':_0x1a421a(0xff),'Pkbti':function(_0x1b2f2b,_0x5eed89){return _0x1b2f2b===_0x5eed89;},'qgOYj':'jkTGl','Tnefw':_0x1a421a(0x1d7),'qVnPc':'QYqST'},_0x4bb467=new Array();for await(const _0x3382f2 of this[_0x1a421a(0x171)]['resources'][_0x1a421a(0x1e1)](global_registry[_0x1a421a(0x1b7)])){_0x3ba48d['KCCRN'](_0x3ba48d['ntgVw'],_0x3ba48d[_0x1a421a(0x263)])?_0x340e93[_0x1a421a(0x14a)](_0x312a42[_0x1a421a(0x127)]):_0x4bb467[_0x1a421a(0x14a)](_0x3382f2);}for await(const _0x120e06 of _0x4bb467){if(_0x3ba48d[_0x1a421a(0x1e5)](_0x3ba48d[_0x1a421a(0x140)],_0x3ba48d[_0x1a421a(0x270)]))_0x3ba48d[_0x1a421a(0x249)](_0x5d4e8d,()=>_0x4315be(),0x3e8);else{if(_0x3ba48d['KCCRN'](_0x120e06[_0x1a421a(0x127)],_0x1a421a(0x1f6)+this[_0x1a421a(0x1e6)])){if(_0x3ba48d[_0x1a421a(0x1e5)](_0x3ba48d[_0x1a421a(0x1f1)],_0x3ba48d[_0x1a421a(0x1f1)]))return!![];else{_0x212026[_0x1a421a(0x207)](_0x3ba48d[_0x1a421a(0xe0)]);const _0x5d8c36={};_0x5d8c36[_0x1a421a(0xde)]=_0x106edb[_0x1a421a(0x13e)],_0x5d8c36[_0x1a421a(0x26e)]=_0x3ba48d[_0x1a421a(0xe0)],this['webSocketUtils']['sendEventToBackend'](this[_0x1a421a(0x238)],_0x5d8c36),_0x41f63c['oidcIssuerProfile']['enabled']=!![];}}}}return![];}async[a1_0x49d8f4(0x19e)](_0x862edc,_0x1a6664=0x3){const _0x115f5c=a1_0x49d8f4,_0x4f832d={'UCizh':function(_0x26f533,_0x43435a){return _0x26f533===_0x43435a;},'PuFTx':function(_0x2a765e,_0x2f22dc){return _0x2a765e===_0x2f22dc;},'gBkqA':function(_0x1e1400,_0x18fe8b){return _0x1e1400===_0x18fe8b;},'fBAoz':_0x115f5c(0x275),'RcFXx':'RTZaS','JEcCb':function(_0x496f3f,_0x14269e,_0x4e67ab){return _0x496f3f(_0x14269e,_0x4e67ab);},'UHddM':_0x115f5c(0x1fe),'TUaKd':function(_0x4b8f6,_0x386ae5){return _0x4b8f6!==_0x386ae5;},'bcQTz':_0x115f5c(0x2c7),'dIrtL':_0x115f5c(0x2ae),'ksOCM':function(_0x1782c7,_0x419dff){return _0x1782c7===_0x419dff;},'DgJgX':_0x115f5c(0x125),'AGRPr':function(_0x1c5234,_0x23386a){return _0x1c5234===_0x23386a;},'VWthJ':_0x115f5c(0x268),'mDQwy':_0x115f5c(0x217),'pOjga':_0x115f5c(0x103),'mVgmR':'2023-01-31','uxDlk':_0x115f5c(0x1b6),'mwygG':'EhsUP','PoDjP':function(_0x5d7e24,_0x33d05f){return _0x5d7e24<=_0x33d05f;},'evOzr':function(_0x7596bd,_0x127677){return _0x7596bd===_0x127677;},'mBUOQ':'VWifW','yUfVe':function(_0x479fdf,_0x27c52c){return _0x479fdf-_0x27c52c;}};try{if(_0x4f832d['TUaKd'](_0x4f832d[_0x115f5c(0xf0)],_0x4f832d['dIrtL'])){const _0x45a09c=new Array();for await(const _0x132437 of this[_0x115f5c(0x171)]['resources']['listByResourceGroup'](global_registry[_0x115f5c(0x1b7)])){_0x4f832d[_0x115f5c(0x203)](_0x4f832d['DgJgX'],_0x4f832d[_0x115f5c(0x170)])?_0x45a09c['push'](_0x132437):_0x1384c1=_0x44de25['id'];}let _0x22cd19='';for await(const _0x3044e2 of _0x45a09c){if(_0x4f832d[_0x115f5c(0x152)](_0x4f832d['VWthJ'],_0x4f832d[_0x115f5c(0x144)]))_0x19a178[_0x115f5c(0x14a)](_0x5638a8);else{if(_0x4f832d['ksOCM'](_0x3044e2[_0x115f5c(0x127)],_0x862edc)){if(_0x4f832d['gBkqA'](_0x4f832d[_0x115f5c(0x2c9)],_0x4f832d[_0x115f5c(0x2c9)]))_0x22cd19=_0x3044e2['id'];else{if(_0x4f832d[_0x115f5c(0x2c2)](_0x4575bb[_0x115f5c(0x127)],_0x115f5c(0x1f6)+this[_0x115f5c(0x1e6)]))return!![];}}}}const _0x26b3b6=await this[_0x115f5c(0x171)][_0x115f5c(0x19d)][_0x115f5c(0x294)](_0x22cd19,_0x4f832d[_0x115f5c(0x27e)]);return _0x26b3b6[_0x115f5c(0x239)][_0x115f5c(0x1f8)];}else{if(_0x4f832d[_0x115f5c(0x1b9)](_0x4787ec[_0x115f5c(0x127)],_0x18e66f))return!![];}}catch(_0x3b1aaf){if(_0x4f832d[_0x115f5c(0x18a)](_0x4f832d[_0x115f5c(0x293)],_0x4f832d['mwygG'])){if(_0x4f832d['PoDjP'](_0x1a6664,0x0))return _0x4f832d[_0x115f5c(0x141)](_0x4f832d[_0x115f5c(0x173)],_0x4f832d[_0x115f5c(0x173)])?(logger[_0x115f5c(0x18f)]('[getResourceClientId]\x20Failed\x20to\x20fetch\x20clientId.\x20Error:\x20'+_0x3b1aaf+':'+_0x3b1aaf[_0x115f5c(0x121)]),{}):!![];return await new Promise(_0x1cf352=>{const _0x1b2021=_0x115f5c,_0x39ce2f={'wEMen':function(_0x30752c,_0x1983cc){const _0x27a725=a1_0x2c29;return _0x4f832d[_0x27a725(0x14b)](_0x30752c,_0x1983cc);},'ENxaE':_0x4f832d[_0x1b2021(0x19b)]};_0x4f832d[_0x1b2021(0x1b9)](_0x4f832d[_0x1b2021(0x1ee)],_0x4f832d['RcFXx'])?_0x4f832d['JEcCb'](setTimeout,()=>_0x1cf352(),0x3e8):(_0x3054ef+=_0x39ce2f[_0x1b2021(0x11c)](_0x51ebc5[_0x1b2021(0x215)],0x0)?_0x39ce2f['ENxaE']:'',_0x4cddb7[_0x1b2021(0x2ba)](_0x1b2021(0x2ca)+_0x42ac2d[_0x1b2021(0x21c)](_0x31d489)));}),this[_0x115f5c(0x19e)](_0x862edc,_0x4f832d[_0x115f5c(0x1b4)](_0x1a6664,0x1));}else _0x3fab1b[_0x115f5c(0x207)](_0x4f832d[_0x115f5c(0x285)]);}}async['isBrowserstackCluster'](){const _0x526252=a1_0x49d8f4,_0x4b20c2={};_0x4b20c2[_0x526252(0x296)]=function(_0x517001,_0x47b60d){return _0x517001!==_0x47b60d;},_0x4b20c2['ihOIY']=_0x526252(0x24b),_0x4b20c2['OBAgF']=function(_0x2a0789,_0x370547){return _0x2a0789===_0x370547;},_0x4b20c2[_0x526252(0xf6)]=_0x526252(0x132),_0x4b20c2['KgrnO']='BrowserStack',_0x4b20c2[_0x526252(0x2bc)]='uMCOC';const _0x6b397a=_0x4b20c2;!this[_0x526252(0x229)]&&(_0x6b397a[_0x526252(0x296)](_0x6b397a[_0x526252(0x273)],_0x6b397a[_0x526252(0x273)])?_0x29d147[_0x526252(0x18f)]=_0x557038:await this[_0x526252(0x25c)]());const _0x6acc45=this['clusterInfo']?.['tags']||{};if(_0x6acc45&&_0x6b397a['OBAgF'](_0x6acc45[_0x6b397a[_0x526252(0xf6)]],_0x6b397a[_0x526252(0x205)]))return _0x6b397a[_0x526252(0x2a0)](_0x6b397a[_0x526252(0x2bc)],_0x6b397a[_0x526252(0x2bc)])?!![]:(_0x22eb99['error'](_0x526252(0x25e)+_0x2c262d+':'+_0x340ba5[_0x526252(0x121)]),{});return![];}async['deleteCluster'](_0x1f3353,_0x216a52){const _0x1dac10=a1_0x49d8f4,_0xb45c4b={'qgZoE':function(_0x10b2bd,_0x262496){return _0x10b2bd(_0x262496);},'xNnGP':_0x1dac10(0x21b)};await _0xb45c4b[_0x1dac10(0x20e)](deleteAgent,_0x1f3353),await _0xb45c4b[_0x1dac10(0x20e)](deleteRoutingDeps,_0x1f3353);const _0x2ba04e=this['containerClient'];logger[_0x1dac10(0x207)](_0x1dac10(0x21d)+this[_0x1dac10(0x1e6)]),await _0x2ba04e['managedClusters'][_0x1dac10(0x26d)](global_registry[_0x1dac10(0x1b7)],this[_0x1dac10(0x1e6)]),logger['info'](_0xb45c4b[_0x1dac10(0x176)]);}async[a1_0x49d8f4(0x19f)](){const _0x3f2f98=a1_0x49d8f4,_0x18ac03={};_0x18ac03['LBAuS']=_0x3f2f98(0x261),_0x18ac03['IwNPB']=_0x3f2f98(0xfb),_0x18ac03[_0x3f2f98(0x26f)]=_0x3f2f98(0x2ab),_0x18ac03[_0x3f2f98(0x12b)]=_0x3f2f98(0x147),_0x18ac03['Gqpcv']=function(_0x1fd4b8,_0x1999fc){return _0x1fd4b8+_0x1999fc;},_0x18ac03['cPQdM']=function(_0x18657f,_0x4360c0){return _0x18657f===_0x4360c0;},_0x18ac03[_0x3f2f98(0x1c7)]=_0x3f2f98(0x202),_0x18ac03[_0x3f2f98(0x102)]='CHjYf',_0x18ac03[_0x3f2f98(0x1b3)]=function(_0x1a2ba3,_0x4eb56d){return _0x1a2ba3&&_0x4eb56d;},_0x18ac03[_0x3f2f98(0x101)]=function(_0x183efe,_0x2792c5){return _0x183efe!==_0x2792c5;},_0x18ac03['XuUKI']=_0x3f2f98(0x1d6),_0x18ac03[_0x3f2f98(0x23d)]=_0x3f2f98(0x1a8),_0x18ac03[_0x3f2f98(0x1a0)]=function(_0x16dcf5,_0x3b41e2){return _0x16dcf5===_0x3b41e2;},_0x18ac03[_0x3f2f98(0x24e)]=_0x3f2f98(0x204),_0x18ac03[_0x3f2f98(0x1a5)]=_0x3f2f98(0xf2),_0x18ac03[_0x3f2f98(0x246)]='Enabling\x20OIDC\x20Issuer\x20for\x20the\x20cluster',_0x18ac03['Yyuwk']='aorFl',_0x18ac03[_0x3f2f98(0x24a)]=_0x3f2f98(0x22e),_0x18ac03[_0x3f2f98(0x24c)]=_0x3f2f98(0x1a2),_0x18ac03[_0x3f2f98(0x15e)]=_0x3f2f98(0x179),_0x18ac03[_0x3f2f98(0x212)]=_0x3f2f98(0x2a9);const _0x2a8d80=_0x18ac03;if(!this[_0x3f2f98(0x229)]){if(_0x2a8d80['cPQdM'](_0x2a8d80['LGeeb'],_0x2a8d80['XaSZl'])){const _0x249b6e={};_0x249b6e[_0x3f2f98(0xde)]=_0x2a8d80[_0x3f2f98(0x2be)],_0x249b6e[_0x3f2f98(0x172)]={},_0x249b6e[_0x3f2f98(0x172)][_0x3f2f98(0x29d)]=_0x2a8d80['IwNPB'];const _0x1934c6={};_0x1934c6[_0x3f2f98(0xde)]=_0x2a8d80['LBAuS'],_0x1934c6[_0x3f2f98(0x172)]={},_0x1934c6[_0x3f2f98(0x172)][_0x3f2f98(0x29d)]=_0x2a8d80[_0x3f2f98(0x138)];const _0x503def={..._0x48810f['parameters']};_0x503def[_0x3f2f98(0x211)]=_0x249b6e,_0x503def[_0x3f2f98(0x20a)]=_0x1934c6,_0x4b9742[_0x3f2f98(0x10d)]=_0x503def;const _0x135d78={};_0x135d78[_0x3f2f98(0xf7)]=_0x2a8d80[_0x3f2f98(0x26f)],_0x4374b0['variables']=_0x135d78;const _0x56de6e={..._0x1da0a3[_0x3f2f98(0x19d)][0x0][_0x3f2f98(0x239)][_0x3f2f98(0x1c2)][0x0]};_0x56de6e[_0x3f2f98(0xf7)]=_0x2a8d80[_0x3f2f98(0x12b)],_0x3d52d1[_0x3f2f98(0x19d)][0x0][_0x3f2f98(0x239)][_0x3f2f98(0x1c2)][0x0]=_0x56de6e;const _0x350dca={};_0x350dca['value']=_0x43ce8b;const _0x519529={};_0x519529[_0x3f2f98(0x15c)]=_0x1d3066[0x0];const _0x33ae68={..._0x5744a6};_0x33ae68[_0x3f2f98(0x211)]=_0x350dca,_0x33ae68[_0x3f2f98(0x20a)]=_0x519529,_0x552c5a=_0x33ae68;}else await this[_0x3f2f98(0x25c)]();}const _0x2b3b33=this['clusterInfo'],_0x2429d6=this['clusterInfo']?.[_0x3f2f98(0x25d)]?.['enabled']||![],_0x1ed57d=this['clusterInfo']?.[_0x3f2f98(0x23a)]?.[_0x3f2f98(0x2a7)]?.[_0x3f2f98(0x1af)]||![],_0x53ea31=!this[_0x3f2f98(0x229)]?.[_0x3f2f98(0x1f4)]||![];if(_0x2a8d80[_0x3f2f98(0x1b3)](_0x2429d6,_0x1ed57d)&&_0x53ea31){if(_0x2a8d80[_0x3f2f98(0x101)](_0x2a8d80[_0x3f2f98(0x297)],_0x2a8d80[_0x3f2f98(0x23d)]))return;else return _0x3ac5de[_0x3f2f98(0x18f)]=_0x5742d9[_0x3f2f98(0x18f)],_0x515d92;}if(!_0x2429d6){if(_0x2a8d80[_0x3f2f98(0x1a0)](_0x2a8d80['PilER'],_0x2a8d80['iwrnt']))_0x3c2df7[_0x3f2f98(0x265)]('['+_0x2a8d80[_0x3f2f98(0x24f)](_0x3a4b26,0x1)+']\x20'+_0x986f71[_0x2804b8]);else{logger[_0x3f2f98(0x207)](_0x2a8d80[_0x3f2f98(0x246)]);const _0x47667e={};_0x47667e['type']=WS_EVENTS[_0x3f2f98(0x13e)],_0x47667e['message']=_0x2a8d80[_0x3f2f98(0x246)],this[_0x3f2f98(0x137)]['sendEventToBackend'](this['rws'],_0x47667e),_0x2b3b33[_0x3f2f98(0x25d)][_0x3f2f98(0x1af)]=!![];}}if(!_0x1ed57d){if(_0x2a8d80['cPQdM'](_0x2a8d80[_0x3f2f98(0x2a2)],_0x2a8d80[_0x3f2f98(0x24a)]))_0x10eeba['status']=![];else{logger[_0x3f2f98(0x207)](_0x2a8d80['RlgYg']);const _0x567951={};_0x567951[_0x3f2f98(0xde)]=WS_EVENTS[_0x3f2f98(0x13e)],_0x567951[_0x3f2f98(0x26e)]=_0x2a8d80[_0x3f2f98(0x24c)],this['webSocketUtils']['sendEventToBackend'](this['rws'],_0x567951);const _0x1fb3ce={};_0x1fb3ce[_0x3f2f98(0x1af)]=!![],_0x2b3b33[_0x3f2f98(0x23a)]={'workloadIdentity':_0x1fb3ce,..._0x2b3b33['securityProfile']};}}if(!_0x53ea31){if(_0x2a8d80[_0x3f2f98(0x1a0)](_0x2a8d80[_0x3f2f98(0x15e)],_0x2a8d80[_0x3f2f98(0x15e)])){logger[_0x3f2f98(0x207)](_0x2a8d80[_0x3f2f98(0x212)]);const _0xee13c1={};_0xee13c1['type']=WS_EVENTS[_0x3f2f98(0x13e)],_0xee13c1[_0x3f2f98(0x26e)]=_0x2a8d80['aAlnB'],this['webSocketUtils'][_0x3f2f98(0x259)](this[_0x3f2f98(0x238)],_0xee13c1),_0x2b3b33[_0x3f2f98(0x1f4)]=![];}else _0x137a32[_0x3f2f98(0x1b8)](0x0);}await this[_0x3f2f98(0x1dc)][_0x3f2f98(0x1aa)][_0x3f2f98(0x227)](global_registry[_0x3f2f98(0x1b7)],this[_0x3f2f98(0x1e6)],_0x2b3b33),await this[_0x3f2f98(0x25c)]();}async[a1_0x49d8f4(0x15f)](){const _0x328e26=a1_0x49d8f4,_0x425dd8={};_0x425dd8[_0x328e26(0x11d)]=function(_0x57ef93,_0x35e0c1){return _0x57ef93!==_0x35e0c1;},_0x425dd8[_0x328e26(0x2a4)]=_0x328e26(0x27f);const _0x52728c=_0x425dd8,_0x18ed8e=await this[_0x328e26(0xf3)][_0x328e26(0x279)]['listAll'](global_registry['cloudProviderResourceGroup']),_0x5546ea={};_0x5546ea[_0x328e26(0x1d9)]=global_registry[_0x328e26(0x22d)],_0x5546ea[_0x328e26(0x1b5)]=global_registry[_0x328e26(0xe1)],_0x5546ea[_0x328e26(0xf4)]=AZURE,_0x5546ea[_0x328e26(0x1df)]=[];const _0xfafeb0=_0x5546ea;for await(const _0x1dec79 of _0x18ed8e){if(_0x52728c[_0x328e26(0x11d)](_0x52728c[_0x328e26(0x2a4)],_0x52728c[_0x328e26(0x2a4)])){const _0x512a9d=new _0x2788d2(_0x3ea792['cloudProviderTenantId'],_0x2ed63e['cloudProviderClientId'],_0x331277['cloudProviderClientSecret']);this['containerClient']=new _0x2533fd(_0x512a9d,_0xd27e64['cloudProviderSubscriptionId']),this[_0x328e26(0x1e8)]=new _0x1ae7e5(_0x512a9d,_0x4c544d[_0x328e26(0x1d1)]),this[_0x328e26(0x171)]=new _0x35bd22(_0x512a9d,_0x4080d4[_0x328e26(0x1d1)]),this[_0x328e26(0xf3)]=new _0x252bd0(_0x512a9d,_0x5e202f[_0x328e26(0x1d1)]),this['authClient']=new _0x5e38a3(_0x512a9d,_0x2e5824['cloudProviderSubscriptionId']),this['cred']=_0x512a9d;}else _0xfafeb0['vpcInfo']['push'](_0x1dec79);}const _0x49650f={};_0x49650f[_0x328e26(0xde)]=WS_EVENTS[_0x328e26(0x13e)],_0x49650f[_0x328e26(0x26e)]=_0xfafeb0,this[_0x328e26(0x137)][_0x328e26(0x259)](this[_0x328e26(0x238)],_0x49650f);}async['isVPCPresent'](_0x273f68){const _0x4d240e=a1_0x49d8f4,_0x188b90={};_0x188b90[_0x4d240e(0x178)]=_0x4d240e(0x28d),_0x188b90['trpnN']=function(_0x53bab5,_0x40cb67){return _0x53bab5===_0x40cb67;},_0x188b90['uezOj']=_0x4d240e(0x130),_0x188b90[_0x4d240e(0x13a)]=_0x4d240e(0x1c1),_0x188b90[_0x4d240e(0x2ac)]=function(_0x4fb5b1,_0x4cf088){return _0x4fb5b1!==_0x4cf088;},_0x188b90[_0x4d240e(0x1f3)]=_0x4d240e(0xe9),_0x188b90['QoOQl']=function(_0x3be48b,_0x42fcdf){return _0x3be48b===_0x42fcdf;},_0x188b90['FQdSP']='cdxrF',_0x188b90[_0x4d240e(0x161)]=function(_0x589715,_0x5626f5){return _0x589715===_0x5626f5;},_0x188b90['HiNrK']=_0x4d240e(0x230);const _0x4b1a3f=_0x188b90;try{if(_0x4b1a3f[_0x4d240e(0x2c8)](_0x4b1a3f['uezOj'],_0x4b1a3f[_0x4d240e(0x13a)])){const _0x81bbcc=_0x4b1a3f[_0x4d240e(0x178)]['split']('|');let _0x35ec6a=0x0;while(!![]){switch(_0x81bbcc[_0x35ec6a++]){case'0':_0x556111['cloudProviderClientSecret']=_0x531345[this['cloudProviderName']]['clientSecret'];continue;case'1':_0x4b7f8a[_0x4d240e(0x181)]=_0x4cab3d[this['cloudProviderName']]['tenantId'];continue;case'2':this[_0x4d240e(0x1ed)]();continue;case'3':_0x455a7a['cloudProviderClientId']=_0x313702[this[_0x4d240e(0x17d)]][_0x4d240e(0x1f8)];continue;case'4':_0x1dc78c[_0x4d240e(0x1b7)]=_0x2a28d1[this[_0x4d240e(0x17d)]]['resourceGroup'];continue;case'5':_0x3ac818['cloudProviderSubscriptionId']=_0x2f8f2e[this['cloudProviderName']][_0x4d240e(0x169)];continue;}break;}}else{const _0x5d0695=await this[_0x4d240e(0xf3)][_0x4d240e(0x279)]['listAll'](global_registry[_0x4d240e(0x1b7)]);for await(const _0x5cc322 of _0x5d0695){if(_0x4b1a3f[_0x4d240e(0x2ac)](_0x4b1a3f[_0x4d240e(0x1f3)],_0x4b1a3f['daWHV']))_0x468589[_0x4d240e(0x14a)](_0x201ac5);else{if(_0x4b1a3f[_0x4d240e(0x2c8)](_0x5cc322[_0x4d240e(0x127)],_0x273f68))return _0x4b1a3f['QoOQl'](_0x4b1a3f['FQdSP'],_0x4b1a3f[_0x4d240e(0x213)])?!![]:_0x585cad[_0x4d240e(0xee)][_0x4d240e(0x1a7)]['ingress'][0x0][_0x4d240e(0xef)];}}}}catch(_0xb92ff2){return _0x4b1a3f[_0x4d240e(0x161)](_0x4b1a3f['HiNrK'],_0x4b1a3f[_0x4d240e(0x11f)])?(logger['error'](_0x4d240e(0x28e)+_0x273f68+'.\x20Please\x20Check\x20and\x20try\x20again,\x20error:\x20'+_0xb92ff2),![]):[!![],_0x4adc14];}return![];}async[a1_0x49d8f4(0x109)](_0x57bfe7,_0x4dd0f5){const _0x5db93d=a1_0x49d8f4,_0x37287f={};_0x37287f[_0x5db93d(0x15d)]=_0x5db93d(0x272),_0x37287f[_0x5db93d(0x220)]=function(_0x453a7b,_0x924208){return _0x453a7b!==_0x924208;},_0x37287f[_0x5db93d(0x25a)]='yOeJe',_0x37287f[_0x5db93d(0x23e)]=_0x5db93d(0x146),_0x37287f['BGhVj']=function(_0x104848,_0xad18a7){return _0x104848===_0xad18a7;},_0x37287f[_0x5db93d(0x2bb)]='cXsBq';const _0x4a9004=_0x37287f;try{if(_0x4a9004[_0x5db93d(0x220)](_0x4a9004[_0x5db93d(0x25a)],_0x4a9004[_0x5db93d(0x23e)])){const _0x275683=await this[_0x5db93d(0xf3)][_0x5db93d(0x1e3)][_0x5db93d(0x10e)](global_registry[_0x5db93d(0x1b7)],_0x4dd0f5,_0x57bfe7[0x0]);if(_0x4a9004['BGhVj'](_0x57bfe7[0x0],_0x275683['name'])){if(_0x4a9004[_0x5db93d(0x145)](_0x4a9004[_0x5db93d(0x2bb)],_0x4a9004[_0x5db93d(0x2bb)]))return[!![],_0x57bfe7];else{const _0x5e3973={};_0x5e3973['status']=!![],_0x5e3973['error']=null,_0x5e3973[_0x5db93d(0x27a)]=_0x4a9004[_0x5db93d(0x15d)];const _0x3ced90=_0x5e3973;return _0x3ced90;}}}else _0x1f4e5f[_0x5db93d(0x14a)](_0x4b5aa0);}catch(_0x5700d0){return logger[_0x5db93d(0x18f)](_0x5db93d(0x277)+_0x57bfe7+'.\x20Error:\x20'+_0x5700d0),[![],[]];}return[![],[]];}async[a1_0x49d8f4(0xdc)](){const _0xe32684=a1_0x49d8f4,_0x4d6af0={};_0x4d6af0[_0xe32684(0x219)]='No\x20CLI\x20tool\x20required';const _0x9243bc=_0x4d6af0,_0x153750={};_0x153750[_0xe32684(0xee)]=!![],_0x153750['error']=null,_0x153750[_0xe32684(0x27a)]=_0x9243bc[_0xe32684(0x219)];const _0x3dad1b=_0x153750;return _0x3dad1b;}async[a1_0x49d8f4(0x1eb)](){const _0x4ab3ed=a1_0x49d8f4,_0x5ad832={};_0x5ad832[_0x4ab3ed(0x1ea)]=_0x4ab3ed(0x126),_0x5ad832[_0x4ab3ed(0x191)]='GET',_0x5ad832['gXfCP']=_0x4ab3ed(0x133);const _0x3acf3b=_0x5ad832,_0x5eea89=await this[_0x4ab3ed(0x1e4)][_0x4ab3ed(0x21f)](_0x3acf3b[_0x4ab3ed(0x1ea)]),_0x2bb4bd={};_0x2bb4bd[_0x4ab3ed(0xeb)]=_0x3acf3b['UWIdP'],_0x2bb4bd[_0x4ab3ed(0x264)]={},_0x2bb4bd[_0x4ab3ed(0x264)][_0x4ab3ed(0x29b)]=_0x4ab3ed(0x234)+_0x5eea89['token'],_0x2bb4bd[_0x4ab3ed(0x264)][_0x4ab3ed(0x2c4)]=_0x3acf3b[_0x4ab3ed(0x1c5)];const _0xfde0c8=_0x2bb4bd;return _0xfde0c8;}async[a1_0x49d8f4(0x276)](_0x5d0151){const _0x22ad82=a1_0x49d8f4,_0x3d7352={'usMDP':function(_0x856ff9,_0x28cf79,_0x53ff6d){return _0x856ff9(_0x28cf79,_0x53ff6d);},'MZCXX':function(_0x3eda78,_0x3e7d97){return _0x3eda78===_0x3e7d97;},'CLrcV':'No\x20service\x20principal\x20found'},_0x58d2c8={};_0x58d2c8[_0x22ad82(0x16b)]='',_0x58d2c8['error']=null;const _0x465cd8=_0x58d2c8;try{const _0x3c2f7b=_0x22ad82(0x1d2)+_0x5d0151+'\x27',_0x19d929=await this['getHeader'](),_0x438dd2=await _0x3d7352['usMDP'](fetch,_0x3c2f7b,_0x19d929),_0x4d2490=await _0x438dd2['json']();if(!_0x4d2490[_0x22ad82(0x15c)]||_0x3d7352[_0x22ad82(0x236)](_0x4d2490[_0x22ad82(0x15c)][_0x22ad82(0x215)],0x0))throw new Error(_0x3d7352[_0x22ad82(0x196)],'Received\x20response\x20-\x20'+JSON[_0x22ad82(0x21c)](_0x4d2490));_0x465cd8['principalId']=_0x4d2490[_0x22ad82(0x15c)][0x0]['id'];}catch(_0x543c2e){_0x465cd8[_0x22ad82(0x18f)]=_0x543c2e;}return _0x465cd8;}async[a1_0x49d8f4(0x1b0)](){const _0x254f47=a1_0x49d8f4,_0x4dfe54={};_0x4dfe54[_0x254f47(0x29f)]=_0x254f47(0x193),_0x4dfe54['PmBJb']='denied',_0x4dfe54['miyKy']=function(_0x4d365b,_0xc7917){return _0x4d365b!==_0xc7917;},_0x4dfe54[_0x254f47(0x223)]=function(_0xc27851,_0x54257c){return _0xc27851===_0x54257c;},_0x4dfe54['DNwQJ']=_0x254f47(0xe4),_0x4dfe54[_0x254f47(0x148)]=function(_0xba4cf1,_0x263fae){return _0xba4cf1===_0x263fae;},_0x4dfe54[_0x254f47(0xfc)]='No\x20role\x20defintion\x20found\x20for\x20the\x20attached\x20roles',_0x4dfe54['kpOlk']=_0x254f47(0x275);const _0x4c7567=_0x4dfe54,_0x2d4192={};_0x2d4192[_0x254f47(0xee)]=![],_0x2d4192[_0x254f47(0x18f)]=null,_0x2d4192[_0x254f47(0x27a)]='';const _0x58d759=_0x2d4192;try{let _0x5eef78='';const _0x157ad7=_0x254f47(0x182)+global_registry[_0x254f47(0x1d1)]+_0x254f47(0x24d)+global_registry[_0x254f47(0x1b7)],_0x1e5c03=await this[_0x254f47(0x276)](global_registry[_0x254f47(0x174)]);if(_0x4c7567[_0x254f47(0x168)](_0x1e5c03[_0x254f47(0x18f)],null))return _0x58d759[_0x254f47(0x18f)]=_0x1e5c03[_0x254f47(0x18f)],_0x58d759;const _0x4f7b67=_0x254f47(0x284)+_0x1e5c03[_0x254f47(0x16b)]+'\x27)',_0x42b2a5={};_0x42b2a5[_0x254f47(0x224)]=_0x4f7b67;const _0x3f7f7a=await this['authClient']['roleAssignments'][_0x254f47(0x163)](_0x157ad7,_0x42b2a5),_0x21d039=[];for await(const _0x567e4f of _0x3f7f7a){_0x21d039[_0x254f47(0x14a)](_0x567e4f);}if(_0x4c7567[_0x254f47(0x223)](_0x21d039[_0x254f47(0x215)],0x0))return _0x58d759[_0x254f47(0x27a)]=_0x4c7567[_0x254f47(0x17c)],_0x58d759;const _0xc71b78=[...new Set(_0x21d039[_0x254f47(0x2b4)](_0x5b7e2b=>_0x5b7e2b[_0x254f47(0x2aa)]))];if(_0x4c7567[_0x254f47(0x148)](_0xc71b78[_0x254f47(0x215)],0x0))return _0x58d759[_0x254f47(0x27a)]=_0x4c7567[_0x254f47(0xfc)],_0x58d759;const _0x283794=[],_0x777979=[];for(const _0x57281b of _0xc71b78){const _0x58f9a6=await this[_0x254f47(0x10c)][_0x254f47(0x1cf)][_0x254f47(0x294)](_0x57281b);logger[_0x254f47(0x2ba)](_0x254f47(0x1fd)+_0x58f9a6[_0x254f47(0x2bf)]),_0x283794[_0x254f47(0x14a)](_0x58f9a6),logger[_0x254f47(0x2ba)](_0x254f47(0x210)+JSON[_0x254f47(0x21c)](_0x58f9a6[_0x254f47(0xe3)])),_0x58f9a6['permissions'][_0x254f47(0x1f7)](_0x19db1d=>{const _0xb59ac6=_0x254f47;_0x777979['push'](..._0x19db1d[_0xb59ac6(0x183)]);});}logger[_0x254f47(0x2ba)](_0x254f47(0x1a1)+JSON[_0x254f47(0x21c)](_0x777979)),_0x4c7567[_0x254f47(0x148)](_0x777979[_0x254f47(0x215)],0x0)&&(_0x5eef78+=_0x4c7567[_0x254f47(0x148)](_0x777979[_0x254f47(0x215)],0x0)?_0x4c7567[_0x254f47(0x120)]:'',logger[_0x254f47(0x2ba)](_0x254f47(0x2ca)+JSON[_0x254f47(0x21c)](_0x283794))),_0x58d759[_0x254f47(0xee)]=!![],Object[_0x254f47(0x117)](PERMISSIONS[_0x254f47(0x2b6)])[_0x254f47(0x1f7)](([_0x542202,_0x58fcf7])=>{const _0x1b14f1=_0x254f47,_0x23ffad=_0x777979['includes'](_0x542202);_0x5eef78+='\x0a\x09'+_0x58fcf7+':\x20'+(_0x23ffad?_0x4c7567[_0x1b14f1(0x29f)]:_0x4c7567[_0x1b14f1(0x186)]),!_0x23ffad&&(_0x58d759['status']=![]);}),_0x58d759[_0x254f47(0x27a)]=_0x5eef78;}catch(_0x3dfea1){_0x58d759[_0x254f47(0x18f)]=_0x3dfea1;}return _0x58d759;}}const a1_0x4bd846={};function a1_0x2c29(_0x50ad42,_0x97a59d){const _0x4bb216=a1_0x4bb2();return a1_0x2c29=function(_0x2c29ef,_0x5750ce){_0x2c29ef=_0x2c29ef-0xdc;let _0x199d4e=_0x4bb216[_0x2c29ef];return _0x199d4e;},a1_0x2c29(_0x50ad42,_0x97a59d);}a1_0x4bd846['AzureCloudProvider']=AzureCloudProvider,module[a1_0x49d8f4(0x274)]=a1_0x4bd846;