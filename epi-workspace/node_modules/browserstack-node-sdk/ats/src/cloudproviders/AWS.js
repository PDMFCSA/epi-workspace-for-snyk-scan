const a0_0x441769=a0_0x2c85;(function(_0x5207c4,_0x2a3b8c){const _0x50f6f4=a0_0x2c85,_0x48bd61=_0x5207c4();while(!![]){try{const _0x6af517=-parseInt(_0x50f6f4(0x259))/0x1+-parseInt(_0x50f6f4(0x207))/0x2*(parseInt(_0x50f6f4(0x29d))/0x3)+-parseInt(_0x50f6f4(0x35a))/0x4+-parseInt(_0x50f6f4(0x1d9))/0x5+-parseInt(_0x50f6f4(0x2ac))/0x6+parseInt(_0x50f6f4(0x352))/0x7+parseInt(_0x50f6f4(0x303))/0x8;if(_0x6af517===_0x2a3b8c)break;else _0x48bd61['push'](_0x48bd61['shift']());}catch(_0x41d463){_0x48bd61['push'](_0x48bd61['shift']());}}}(a0_0x4146,0xc702d));const fs=require('fs'),path=require(a0_0x441769(0x287)),yaml=require(a0_0x441769(0x346)),awsSDK=require('aws-sdk'),{logger}=require(a0_0x441769(0x26b)),{CloudProvider}=require(a0_0x441769(0x288)),{sendAWSInfoToHST}=require(a0_0x441769(0x28f)),{createClusterStack}=require(a0_0x441769(0x318)),{createHubHaStack}=require('../utils/createHubHaStack'),{deleteClusterAndDependencies,deleteRoutingDeps,deleteAgent}=require(a0_0x441769(0x32c)),{createAutoscalerStack}=require(a0_0x441769(0x1f2)),{getDirForConfig,reportToGalactusAndSendToEDS,kubeApply,runCommand}=require(a0_0x441769(0x334)),{IAM_USER_NAME,AWS,WS_EVENTS,global_registry,messageTypes}=require(a0_0x441769(0x2d7)),PERMISSIONS=require('../permissions/AWS.json');function a0_0x2c85(_0x2ee9de,_0x5cf5ea){const _0x4146c6=a0_0x4146();return a0_0x2c85=function(_0x2c85a2,_0x32308c){_0x2c85a2=_0x2c85a2-0x1d9;let _0x2990e4=_0x4146c6[_0x2c85a2];return _0x2990e4;},a0_0x2c85(_0x2ee9de,_0x5cf5ea);}function a0_0x4146(){const _0x29b8a7=['MosnB','umLXg','AWSCloudProvider','permissions\x20check\x20response:\x20','2CrJIfj','setCachedCredsInRegistry',',\x20Subnets\x20=>\x20','.\x20Please\x20Check\x20and\x20try\x20again','isBrowserstackCluster','kNJsv','accessKey','listClusters','SIEfe','OutputKey','message','Autoscaler\x20Role\x20created.ARN:\x20','clusterRegion','OYGVX','jCmwU','label','aLTbu','loadBalancer','XVCHe','createMountTargetAndWait','setupNewCluster','EDwGO','Cannot\x20find\x20subnets\x20','status','reHAO','writeFileSync','HJOss','WPFXb','\x20ACCESS\x20KEY:\x20','cXaRH','toString','Cannot\x20find\x20VPC\x20',',\x20MountTargetId:\x20','Following\x20resources\x20are\x20created:','WLWUw','yMUAn','GzKqd','Eyaaf','SubnetId','stringify','DiIgQ','templates','body','EFS','EvaluationResults','\x20in\x20region\x20','\x20because\x20its\x20Availability\x20Zone\x20','ERROR','cgnBF','UoUWj','ExULA','feqyk','region','nodeRole','.\x20Error:\x20','EFS\x20SecurityGroup\x20=>\x20','promise','simulatePrincipalPolicy','MountTargetId','warning','vGwGO','kube-system','nCUog','eTYPH','IIZVc','JKHqB','every','lLyet','Adding\x20storage\x20class...','YuofC','lWZXK','ZHQrD','ZmpMG','gfkSk','Fknos','Whqfu','Creating\x20Autoscaler\x20Role','uhfXQ','init','arn:aws:iam::','error\x20:\x20','PWTgE','362260vAsFXz','LOG','Creating\x20required\x20dependencies\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','oasPS','EFSControllerRoleArn','NxAsZ','pJRiV','Error\x20creating\x20mount\x20target\x20for\x20subnet\x20','createMountTarget','Skipping\x20subnet\x20','all','describeCluster','xefER','update','wJhmB','KBYZy','storage-class.yaml','FkjxD','../config/logger','nodegroup','warn','nFArZ','NlbuS',':user/','deleteCluster','describeMountTargets','getPrincipalArn','XlISf','split','YEAEU','\x0a\x09Service:\x20','CLtNv','EFSFileSystemId','bkDlJ','scbnl','VzGen','aJbWe','Added\x20EFS\x20CSI\x20Driver','WDCpu','namespace','jqNpE','PwjxF','GNcLp','MountTargets','JdoHp','WvfLO','path','./CloudProvider','SwCqQ','pHpJe','includes','Creating\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','FlYmB','toLowerCase','../utils/hstUtils','cHOOI','tags','lcofc','zcTAQ','utf-8','RKNYG','type','Created\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','AyLEc','QYMNW','IDELX','webSocketUtils','ORanG','2573733TzWLLG','keys','VbZam','qPVtP','Values','clusters','lFKKF','rws','Creating\x20required\x20dependencies\x20-\x20EKS\x20Role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups\x20and\x20Cluster\x20and\x20Node\x20Group(s)','qMnaN','Ufjwv','MqBMH','cWffT','replace','mERvK','6085422BQAxpk','VpcIds','OYTdS','getUserInput','GQolu','rwDes','Creating\x20required\x20resources\x20-\x20EKS\x20role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups,\x20Cluster\x20and\x20Node\x20Group(s)','sWJEA','Subnets\x20=>\x20','dCqes','xnoHj','ClusterRole\x20=>\x20','clusterName','maxNodes','HXpaM','browserstack:managedBy','FuGvi','GKzVM','JIwAD','RsJkm','DQfpr','setupAutoscaler','uGLgV','SzUbI','mapRoles','VlNcv','rpdBN','hubharesources','catch','jZcwZ','cloudProviderName','cqLZf','CQuEF','EFS\x20FileSystem\x20=>\x20','Setting\x20up\x20Hub\x20HA','jWcaI','MnQGB','XFnxk','0|1|2|3|4','jIGaw','mrmGK','Adding\x20EFS\x20CSI\x20Driver','match','../config/constants','has','CsaUi','fkvVB','edDpG','Subnets','FOjNJ','getCallerIdentity','CDwJa','browserstack','ajRnq','KYzUC','IxfQp','2017-11-01','fnBJp','secretAccessKey','PNZSk','parameters','LdVdQ','RfUNo','rJLAs','uqEqj','2016-11-15','AqYkb','npxSE','TePbH','describeVpcs','aws_credentials','\x20has\x20already\x20been\x20used.','push','ctGxT','Outputs','GTAKj','Added\x20storage\x20class.','Vyjhi','xVOfV','Nwwfo','sendEventToBackend','EdjWJ','mbjcP','PABqN','name','RVeHx','getKubeConfigData','36971088nDothv','RvlGH','UvIAQ','cCxDQ','exit','QqdYZ','CgHFJ','getNodeGroupInfo','peJZB','nodegroupName','HtfRa','XvjRP','rlxoJ','Mount\x20target\x20created\x20for\x20subnet:\x20','Cluster\x20=>\x20','xQxek','toUpperCase','bWANP','Skipping\x20Autoscaler\x20due\x20to:\x20','info','LifeCycleState','../utils/createClusterStack','STS','EKS','cmNqt','createAuthConfigMap',',\x20SecurityGroups\x20=>\x20','config','XlvtN',',\x20EFS_FileSystem\x20=>\x20','isVPCPresent','fnzKs','efs-csi-driver-aws.yaml','value','Please\x20install\x20aws-iam-authenticator\x20tool.\x20Error\x20:\x20','\x20:\x20','forEach','\x20SECRET\x20KEY:\x20','isCliToolInstalled','YKnet','jdYMv','../utils/gridComponents','aKGje','OutputValue','aws-auth-cm.yaml','setupHubHa','cloudProviderSecretKey','add','UkRTN','../utils/utilityMethods','NodeRole\x20=>\x20','FBFWU','Stacks','YZUgH',',\x20NodeRole\x20=>\x20','describeSubnets','EvalActionName','zsnwY','SgFNl','dsjUM','readFileAsync','SecurityGroups\x20=>\x20','cQeqn','apiVersion','oQUls','cluster','IbGSa','js-yaml','nlvXB','tICom','getClusterInfo','UOcNB','MpnOJ','vhZAJ','TNHtU','EFSSecurityGroup','describeNodegroup','reportToGalactusAndSendToEDS','data','1942857TXotyQ','join','<ARN>','\x0aaws_secret_access_key\x20=\x20','OXpOT','hostname','kTFLl','RKYPK','5829844PLvuvg','pMZqC','YHXwD','ydgvd','yjBPg','checkClusterCreated','load','fileSystemId','then','aws-iam-authenticator\x20help','woBWs','debug','\x20failed\x20to\x20reach\x20the\x20available\x20state.','COmyt','AyrCa','checkAccess','loadAll','Unable\x20to\x20spawn\x20Autoscaler\x20due\x20to:\x20','gWzUQ',',\x20EFS_SecurityGroup\x20=>\x20','.\x20Deleting\x20all\x20the\x20stacks','[ats]\x0aaws_access_key_id\x20=\x20','xLGbr','KubeConfigTemplate.yaml','Filters','create-grid-called','minNodes','Mount\x20target\x20','Name','WjIqL','vhNZi','mEmEf','\x20|\x20Action\x20:\x20','bEtnx','fGjXH','eYfMa','yvFJr','yJINX',':role/','OpKfn','JFjSZ','KNjGw','tmojH','ZzZkb','bsvIz','getGridHostname','waitForMountTarget','getAvailabilityZone','DGglD','Ukkvn',',VPC\x20=>\x20','1959595fWqexI','ZdGhB','DymzJ','SyDuO','itvPw','stack','imSLL','Mounting\x20Target\x20for\x20EFS','rQHqO','available','cloudProviderAccessKey','allowed','kqQaT','ZqcHj','unbqt','ingress','IPPIs','dzDDX','EC2','EpkYK','mgUoC','tllZa','EvalDecision','error','bDdCu','../utils/createAutoscalerStack','CmJKH','hoQrF','KrQnV','WyAUA','secret','jTMRS','failed','YTYzH','0|3|1|2|4','mVEYx','createStorageClass','LrFab','YMfMs','certificateAuthority','ocDkg','ZxZhV'];a0_0x4146=function(){return _0x29b8a7;};return a0_0x4146();}class AWSCloudProvider extends CloudProvider{constructor(_0x419e24,_0x4b0a27,_0x5d8138,_0x46207d){super(AWS,_0x419e24,_0x4b0a27,_0x5d8138,_0x46207d);}async[a0_0x441769(0x255)](){const _0x1fdcda=a0_0x441769;await super[_0x1fdcda(0x255)]();const _0x6b8a98={};return _0x6b8a98[_0x1fdcda(0x23b)]=global_registry['clusterRegion'],_0x6b8a98['accessKeyId']=global_registry[_0x1fdcda(0x1e3)],_0x6b8a98[_0x1fdcda(0x2e6)]=global_registry[_0x1fdcda(0x331)],awsSDK[_0x1fdcda(0x31e)][_0x1fdcda(0x266)](_0x6b8a98),this;}async['sendResourceDataToHST'](){const _0x1ec49e=a0_0x441769,_0x3428a9={'rpdBN':function(_0x5c4751,_0x11bc93){return _0x5c4751(_0x11bc93);}};_0x3428a9[_0x1ec49e(0x2c6)](sendAWSInfoToHST,this['rws']);}async[a0_0x441769(0x208)](_0x2b4cc0){const _0x7c280e=a0_0x441769;global_registry[_0x7c280e(0x1e3)]=_0x2b4cc0[this['cloudProviderName']][_0x7c280e(0x20d)],global_registry['cloudProviderSecretKey']=_0x2b4cc0[this['cloudProviderName']]['secret'];}[a0_0x441769(0x387)](_0x503515){const _0x5bf97a=a0_0x441769;return _0x503515[_0x5bf97a(0x21e)][_0x5bf97a(0x218)]['ingress'][0x0]['hostname'];}async[a0_0x441769(0x20b)](){const _0x5c8d85=a0_0x441769,_0x54d89c={'umLXg':'Authmap\x20already\x20exists.\x20Not\x20updating','WvfLO':function(_0xf133f1,_0x20c992){return _0xf133f1(_0x20c992);},'UoUWj':function(_0x4a8f98,_0x1edd34){return _0x4a8f98===_0x1edd34;},'WLWUw':_0x5c8d85(0x34c),'IIZVc':_0x5c8d85(0x2cc),'Nwwfo':function(_0x1781ba,_0x34b287){return _0x1781ba!==_0x34b287;},'uqpuC':_0x5c8d85(0x1dd),'fnBJp':_0x5c8d85(0x21c),'PWTgE':_0x5c8d85(0x2bb),'qqRBA':_0x5c8d85(0x2e0),'tllZa':'pGcsi','Ukkvn':_0x5c8d85(0x2a7)};try{if(_0x54d89c[_0x5c8d85(0x238)](_0x54d89c[_0x5c8d85(0x229)],_0x54d89c[_0x5c8d85(0x247)])){const _0x2a1f79={};_0x2a1f79[_0x5c8d85(0x216)]=_0x17d7ba,_0x2a1f79[_0x5c8d85(0x324)]=_0x1f8fdf,_0x49fe0d[_0x5c8d85(0x2f4)](_0x2a1f79);}else{const _0x45713a=await this[_0x5c8d85(0x349)]();if(_0x45713a[_0x5c8d85(0x344)]){if(_0x54d89c[_0x5c8d85(0x2fb)](_0x54d89c['uqpuC'],_0x54d89c[_0x5c8d85(0x2e5)])){const _0x17f0c7=_0x45713a['cluster']['tags'];return _0x17f0c7&&_0x54d89c[_0x5c8d85(0x238)](_0x17f0c7[_0x54d89c[_0x5c8d85(0x258)]]['toLowerCase'](),_0x54d89c['qqRBA']);}else _0x5aba51['info'](_0x54d89c[_0x5c8d85(0x204)]);}}}catch(_0x3d1fbd){if(_0x54d89c['UoUWj'](_0x54d89c[_0x5c8d85(0x1ee)],_0x54d89c[_0x5c8d85(0x38b)]))_0x54d89c[_0x5c8d85(0x286)](_0x4e7f5d,this[_0x5c8d85(0x2a4)]);else return![];}return![];}async['isClusterPresent'](){const _0x36c4df=a0_0x441769;return this[_0x36c4df(0x35f)]();}async['getClusterInfo'](){const _0x3ab9db=a0_0x441769,_0xee91a7={};_0xee91a7[_0x3ab9db(0x24c)]=_0x3ab9db(0x2e4);const _0x58882f=_0xee91a7,_0x1ac875={};_0x1ac875[_0x3ab9db(0x342)]=_0x58882f[_0x3ab9db(0x24c)];const _0x5693ac=new awsSDK['EKS'](_0x1ac875),_0x135d63={};return _0x135d63[_0x3ab9db(0x300)]=this[_0x3ab9db(0x2b8)],_0x5693ac[_0x3ab9db(0x264)](_0x135d63)[_0x3ab9db(0x23f)]();}async[a0_0x441769(0x31c)](_0x4e3739){const _0x4611c1=a0_0x441769,_0x21b698={};_0x21b698[_0x4611c1(0x2d3)]=_0x4611c1(0x230),_0x21b698['USdwc']=_0x4611c1(0x32f),_0x21b698[_0x4611c1(0x268)]=_0x4611c1(0x294),_0x21b698[_0x4611c1(0x2e9)]=_0x4611c1(0x354);const _0x2de3f0=_0x21b698,_0x51177e=await fs[_0x4611c1(0x33f)](path['join'](__dirname,'..',_0x2de3f0[_0x4611c1(0x2d3)],_0x2de3f0['USdwc']),_0x2de3f0[_0x4611c1(0x268)]),_0x3f62ca=yaml[_0x4611c1(0x360)](_0x51177e);return _0x3f62ca[_0x4611c1(0x351)][_0x4611c1(0x2c4)]=_0x3f62ca[_0x4611c1(0x351)][_0x4611c1(0x2c4)]['replace'](_0x2de3f0[_0x4611c1(0x2e9)],_0x4e3739),_0x3f62ca;}async[a0_0x441769(0x30a)](_0x1f4945){const _0x4956d9=a0_0x441769,_0xb7a968={};_0xb7a968[_0x4956d9(0x27a)]='2017-11-01';const _0x571960=_0xb7a968,_0x2898f8={};_0x2898f8['apiVersion']=_0x571960[_0x4956d9(0x27a)];const _0x2de0d5=new awsSDK[(_0x4956d9(0x31a))](_0x2898f8),_0x2f2231={};return _0x2f2231[_0x4956d9(0x2b8)]=this[_0x4956d9(0x2b8)],_0x2f2231[_0x4956d9(0x30c)]=_0x1f4945,_0x2de0d5[_0x4956d9(0x34f)](_0x2f2231)[_0x4956d9(0x23f)]();}async[a0_0x441769(0x35f)](){const _0x318e67=a0_0x441769,_0x221a75={'OXpOT':function(_0x28ed2a,_0x3fff9a){return _0x28ed2a(_0x3fff9a);},'XlISf':_0x318e67(0x2ed),'GouHh':function(_0x1fa1f4,_0x2f0472){return _0x1fa1f4!==_0x2f0472;},'AyLEc':_0x318e67(0x2bc),'zcTAQ':function(_0x1f1d13,_0x3f2e19){return _0x1f1d13===_0x3f2e19;},'tLhbB':_0x318e67(0x20c),'JKHqB':_0x318e67(0x2ee),'OYGVX':_0x318e67(0x2e4),'hhgCQ':function(_0x538545,_0x28f4cb){return _0x538545(_0x28f4cb);},'ZzZkb':_0x318e67(0x221),'dCqes':_0x318e67(0x35d),'YZUgH':function(_0x3333a3,_0x46848d){return _0x3333a3!==_0x46848d;},'peJZB':'baHMQ','DiIgQ':'VWVNS'};return new Promise((_0x259418,_0x1a9e6b)=>{const _0x320320=_0x318e67,_0x3726c9={'IbGSa':function(_0x15a318,_0x3e39d1){const _0x305d6b=a0_0x2c85;return _0x221a75[_0x305d6b(0x356)](_0x15a318,_0x3e39d1);},'pMZqC':_0x221a75[_0x320320(0x274)],'kqQaT':function(_0x48f5ce,_0x5f24c5){return _0x221a75['GouHh'](_0x48f5ce,_0x5f24c5);},'mVEYx':_0x221a75[_0x320320(0x298)],'PNZSk':function(_0x46a451,_0x1a0e15){const _0x51d79e=_0x320320;return _0x221a75[_0x51d79e(0x293)](_0x46a451,_0x1a0e15);},'nwRDa':_0x221a75['tLhbB'],'ocDkg':_0x221a75[_0x320320(0x248)],'TePbH':function(_0xe12f69,_0x1ec4b2){const _0x471583=_0x320320;return _0x221a75[_0x471583(0x356)](_0xe12f69,_0x1ec4b2);},'cqLZf':_0x221a75[_0x320320(0x214)],'SzUbI':function(_0x1089f5,_0x41f0dd){const _0x4b13bd=_0x320320;return _0x221a75[_0x4b13bd(0x356)](_0x1089f5,_0x41f0dd);},'gfkSk':function(_0x1ed719,_0x473768){return _0x221a75['hhgCQ'](_0x1ed719,_0x473768);},'gjVmV':_0x221a75[_0x320320(0x385)],'RvlGH':_0x221a75[_0x320320(0x2b5)],'WyAUA':function(_0x2b1101,_0x1991e1){return _0x221a75['hhgCQ'](_0x2b1101,_0x1991e1);}};if(_0x221a75[_0x320320(0x338)](_0x221a75[_0x320320(0x30b)],_0x221a75[_0x320320(0x22f)])){const _0x200d81={};_0x200d81[_0x320320(0x342)]=_0x221a75[_0x320320(0x214)];const _0x9a86b2=new awsSDK[(_0x320320(0x31a))](_0x200d81);_0x9a86b2[_0x320320(0x20e)]()[_0x320320(0x23f)]()['then'](_0x4743ab=>{const _0x1afc0d=_0x320320,_0x1d0e07={'cHOOI':function(_0x49d323,_0x45473c){const _0x342b09=a0_0x2c85;return _0x3726c9[_0x342b09(0x345)](_0x49d323,_0x45473c);},'pHpJe':_0x3726c9[_0x1afc0d(0x35b)]};if(_0x3726c9[_0x1afc0d(0x1e5)](_0x3726c9[_0x1afc0d(0x1fc)],_0x3726c9[_0x1afc0d(0x1fc)]))_0x3bfff2[_0x1afc0d(0x1e3)]=_0x355fe1[this[_0x1afc0d(0x2ca)]][_0x1afc0d(0x20d)],_0x5365bb[_0x1afc0d(0x331)]=_0x3580f7[this[_0x1afc0d(0x2ca)]][_0x1afc0d(0x1f7)];else{if(_0x4743ab[_0x1afc0d(0x2a2)][_0x1afc0d(0x28b)](this[_0x1afc0d(0x2b8)])){if(_0x3726c9[_0x1afc0d(0x2e7)](_0x3726c9['nwRDa'],_0x3726c9[_0x1afc0d(0x201)])){const _0x33aad4={'fkvVB':function(_0xe46278,_0x55cfb6){const _0x368a89=_0x1afc0d;return _0x3726c9[_0x368a89(0x345)](_0xe46278,_0x55cfb6);}},_0x3a8a31={};_0x3a8a31['VpcIds']=[_0x57b79c];const _0x4c1f5d=_0x3a8a31;return new _0x2ebacc((_0x245abd,_0x2d57a2)=>{const _0x2b304b=_0x1afc0d,_0x430b08={'npxSE':function(_0xafdf56,_0x4ad6a1){const _0x5ea99d=a0_0x2c85;return _0x1d0e07[_0x5ea99d(0x290)](_0xafdf56,_0x4ad6a1);}},_0x23cefc={};_0x23cefc[_0x2b304b(0x342)]=_0x1d0e07[_0x2b304b(0x28a)],_0x23cefc['region']=_0x448b08[_0x2b304b(0x213)];const _0x39da46=new _0xbb5cf5[(_0x2b304b(0x1eb))](_0x23cefc);_0x39da46[_0x2b304b(0x2f1)](_0x4c1f5d)[_0x2b304b(0x23f)]()[_0x2b304b(0x362)](_0x4ab08a=>{const _0x407933=_0x2b304b;_0x430b08[_0x407933(0x2ef)](_0x245abd,!![]);})[_0x2b304b(0x2c8)](_0xef5c3e=>{const _0x5af41a=_0x2b304b;_0x3c8ef3[_0x5af41a(0x1f0)]('Cannot\x20find\x20VPC\x20'+_0x33d1e1+_0x5af41a(0x234)+_0x54df60[_0x5af41a(0x213)]+_0x5af41a(0x20a)),_0x33aad4[_0x5af41a(0x2da)](_0x245abd,![]);});});}else _0x3726c9[_0x1afc0d(0x345)](_0x259418,!![]);}_0x3726c9[_0x1afc0d(0x2f0)](_0x259418,![]);}})[_0x320320(0x2c8)](_0x32702c=>{const _0x2d80f2=_0x320320,_0x41f2b7={'jqNpE':function(_0x5011ef,_0x396db1){const _0x32b5a8=a0_0x2c85;return _0x3726c9[_0x32b5a8(0x2c3)](_0x5011ef,_0x396db1);},'whBuy':function(_0x4eb54e,_0x42f4d3){const _0x3b2adc=a0_0x2c85;return _0x3726c9[_0x3b2adc(0x250)](_0x4eb54e,_0x42f4d3);}};if(_0x3726c9['PNZSk'](_0x3726c9['gjVmV'],_0x3726c9[_0x2d80f2(0x304)])){const _0x55143b={};_0x55143b['apiVersion']=_0x3726c9[_0x2d80f2(0x2cb)];const _0x1deca9=new _0x6a378c[(_0x2d80f2(0x31a))](_0x55143b);_0x1deca9[_0x2d80f2(0x20e)]()[_0x2d80f2(0x23f)]()[_0x2d80f2(0x362)](_0x421f45=>{const _0x47b354=_0x2d80f2;_0x421f45[_0x47b354(0x2a2)]['includes'](this[_0x47b354(0x2b8)])&&_0x41f2b7[_0x47b354(0x281)](_0x39c05d,!![]),_0x41f2b7[_0x47b354(0x281)](_0x290463,![]);})['catch'](_0x56a7e8=>{const _0x46c300=_0x2d80f2;_0x375f48[_0x46c300(0x1f0)](_0x56a7e8),_0x41f2b7['whBuy'](_0x50175b,_0x56a7e8);});}else logger[_0x2d80f2(0x1f0)](_0x32702c),_0x3726c9[_0x2d80f2(0x2c3)](_0x1a9e6b,_0x32702c);});}else _0xcb95e5[_0x320320(0x2a2)][_0x320320(0x28b)](this[_0x320320(0x2b8)])&&_0x3726c9[_0x320320(0x1f6)](_0x510ef5,!![]),_0x3726c9[_0x320320(0x1f6)](_0xc21328,![]);});}async[a0_0x441769(0x2af)](_0x89aa14,_0x115078){const _0x549b25=a0_0x441769,_0x19c795={'WPFXb':function(_0x564912,_0x15c407){return _0x564912(_0x15c407);}},_0x3e6cbe=this[_0x549b25(0x2ca)][_0x549b25(0x313)](),_0x139375=await _0x19c795['WPFXb'](_0x89aa14,_0x3e6cbe+_0x549b25(0x223)),_0x361b75=await _0x19c795[_0x549b25(0x222)](_0x89aa14,_0x3e6cbe+_0x549b25(0x328));global_registry[_0x549b25(0x1e3)]=_0x139375,global_registry[_0x549b25(0x331)]=_0x361b75;const _0x36cbb1={};return _0x36cbb1['accessKey']=_0x139375,_0x36cbb1[_0x549b25(0x1f7)]=_0x361b75,_0x115078['cloudProvider'][AWS]=_0x36cbb1,_0x115078;}async[a0_0x441769(0x302)](){const _0x227a8c=a0_0x441769,_0x46e815={'aKGje':function(_0x5cd912){return _0x5cd912();},'Fknos':_0x227a8c(0x2f2),'uhqnf':_0x227a8c(0x230),'SIxMa':_0x227a8c(0x371)},_0x21dd94=_0x46e815[_0x227a8c(0x32d)](getDirForConfig),_0x3b7325=await this[_0x227a8c(0x349)](),_0x2e12ec=path['join'](_0x21dd94,_0x46e815[_0x227a8c(0x251)]),_0x37ff12=_0x227a8c(0x36f)+global_registry[_0x227a8c(0x1e3)]+_0x227a8c(0x355)+global_registry[_0x227a8c(0x331)];fs[_0x227a8c(0x220)](_0x2e12ec,_0x37ff12);let _0x4ef126=await fs['readFileAsync'](path[_0x227a8c(0x353)](__dirname,'..',_0x46e815['uhqnf'],_0x46e815['SIxMa']));return _0x4ef126=_0x4ef126[_0x227a8c(0x225)](),_0x4ef126=_0x4ef126[_0x227a8c(0x2aa)](/<CLUSTER_NAME>/g,this[_0x227a8c(0x2b8)]),_0x4ef126=_0x4ef126['replace'](/<CLUSTER_URL>/g,_0x3b7325[_0x227a8c(0x344)]['endpoint']),_0x4ef126=_0x4ef126['replace'](/<CERTIFICATE_DATA>/g,_0x3b7325[_0x227a8c(0x344)][_0x227a8c(0x200)][_0x227a8c(0x351)]),_0x4ef126=_0x4ef126[_0x227a8c(0x2aa)](/<CLUSTER_REGION>/g,global_registry['clusterRegion']),_0x4ef126=_0x4ef126[_0x227a8c(0x2aa)](/<CLUSTER_NAME_USER>/g,IAM_USER_NAME),_0x4ef126=_0x4ef126[_0x227a8c(0x2aa)](/<CLOUD_PROVIDER_ACCESS_KEY>/g,global_registry[_0x227a8c(0x1e3)]),_0x4ef126=_0x4ef126['replace'](/<CLOUD_PROVIDER_SECRET>/g,global_registry[_0x227a8c(0x331)]),_0x4ef126=_0x4ef126[_0x227a8c(0x2aa)](/<AWS_CONFIG_FILE_PATH>/g,_0x2e12ec),_0x4ef126;}async[a0_0x441769(0x21b)](_0x4108cd=null,_0x3820e4=null){const _0xf13e7f=a0_0x441769,_0x369100={'CgHFJ':function(_0x558d7e,_0x42368e){return _0x558d7e(_0x42368e);},'vhNZi':'2016-11-15','MqBMH':_0xf13e7f(0x2b2),'ZHQrD':_0xf13e7f(0x2a5),'HtfRa':function(_0x5599bd,_0x529759,_0x46ea0b,_0x51da39,_0x12fd4d,_0x21e1f2){return _0x5599bd(_0x529759,_0x46ea0b,_0x51da39,_0x12fd4d,_0x21e1f2);},'ZxZhV':_0xf13e7f(0x228),'uhfXQ':function(_0x522f6d,_0x2d3f3b){return _0x522f6d===_0x2d3f3b;},'rQHqO':_0xf13e7f(0x2a3),'JFjSZ':_0xf13e7f(0x2ff),'rJLAs':function(_0x4643bb,_0x5332fb){return _0x4643bb===_0x5332fb;},'LrFab':_0xf13e7f(0x25c)},_0x4f0455={};_0x4f0455[_0xf13e7f(0x296)]=WS_EVENTS[_0xf13e7f(0x25a)],_0x4f0455['message']=_0x369100[_0xf13e7f(0x2a8)],this[_0xf13e7f(0x29b)][_0xf13e7f(0x2fc)](this[_0xf13e7f(0x2a4)],_0x4f0455),logger[_0xf13e7f(0x316)](_0x369100[_0xf13e7f(0x24e)]);const _0x3362f5=global_registry[_0xf13e7f(0x374)],_0x238d98=global_registry[_0xf13e7f(0x2b9)],_0x5d1ee3=await _0x369100[_0xf13e7f(0x30d)](createClusterStack,this['clusterName'],_0x3362f5,_0x238d98,_0x4108cd,_0x3820e4),_0x4eb49c=_0x5d1ee3['Stacks'][0x0][_0xf13e7f(0x2f6)][0x0][_0xf13e7f(0x32e)][_0xf13e7f(0x275)](','),_0x3392e3=_0x5d1ee3[_0xf13e7f(0x337)][0x0]['Outputs'][0x1][_0xf13e7f(0x32e)],_0x1e6385=_0x5d1ee3[_0xf13e7f(0x337)][0x0]['Outputs'][0x3]['OutputValue'],_0x2ade4e=_0x5d1ee3[_0xf13e7f(0x337)][0x0][_0xf13e7f(0x2f6)][0x4][_0xf13e7f(0x32e)];logger['info'](_0x369100[_0xf13e7f(0x202)]),logger[_0xf13e7f(0x316)](_0xf13e7f(0x311)+_0x1e6385+'\x20'),logger[_0xf13e7f(0x316)](_0xf13e7f(0x2b7)+_0x3392e3+'\x20'),logger[_0xf13e7f(0x316)](_0xf13e7f(0x340)+_0x4eb49c+'\x20'),logger[_0xf13e7f(0x316)](_0xf13e7f(0x335)+_0x2ade4e+'\x20');let _0x1f5a13='Following\x20resources\x20are\x20created:\x20Cluster\x20=>\x20'+_0x1e6385+',\x20ClusterRole\x20=>\x20'+_0x3392e3+_0xf13e7f(0x31d)+_0x4eb49c+_0xf13e7f(0x339)+_0x2ade4e;if(_0x369100[_0xf13e7f(0x254)](_0x4108cd,null)&&_0x369100[_0xf13e7f(0x254)](_0x3820e4,null)){if(_0x369100[_0xf13e7f(0x254)](_0x369100[_0xf13e7f(0x1e1)],_0x369100[_0xf13e7f(0x382)])){const _0x113b70={'aLTbu':function(_0x3a1ee5,_0x3f24d7){const _0xc5aede=_0xf13e7f;return _0x369100[_0xc5aede(0x309)](_0x3a1ee5,_0x3f24d7);}},_0x266fe3={};_0x266fe3[_0xf13e7f(0x342)]=_0x369100[_0xf13e7f(0x378)],_0x266fe3[_0xf13e7f(0x23b)]=_0x5525ec[_0xf13e7f(0x213)];const _0x5a5bcb=new _0x65df8e[(_0xf13e7f(0x1eb))](_0x266fe3);_0x5a5bcb[_0xf13e7f(0x2f1)](_0x2d0756)[_0xf13e7f(0x23f)]()[_0xf13e7f(0x362)](_0x5d4579=>{const _0x5b007f=_0xf13e7f;_0x113b70[_0x5b007f(0x217)](_0x10b61e,!![]);})[_0xf13e7f(0x2c8)](_0x2b239f=>{const _0x81f81c=_0xf13e7f;_0x4cd927[_0x81f81c(0x1f0)](_0x81f81c(0x226)+_0x56b18a+_0x81f81c(0x234)+_0x21842e[_0x81f81c(0x213)]+_0x81f81c(0x20a)),_0x113b70[_0x81f81c(0x217)](_0x519b84,![]);});}else{const _0x69977c=_0x5d1ee3['Stacks'][0x0]['Outputs'][0x2][_0xf13e7f(0x32e)],_0x7dab4c=_0x5d1ee3[_0xf13e7f(0x337)][0x0][_0xf13e7f(0x2f6)][0x5][_0xf13e7f(0x32e)][_0xf13e7f(0x275)](',');_0x4108cd=_0x69977c;const _0x52644d=[];for(const _0x156e99 of _0x7dab4c){if(_0x369100[_0xf13e7f(0x2eb)](_0x369100[_0xf13e7f(0x1fe)],_0x369100[_0xf13e7f(0x1fe)])){const _0x13bbe1={};_0x13bbe1[_0xf13e7f(0x216)]=_0x156e99,_0x13bbe1[_0xf13e7f(0x324)]=_0x156e99,_0x52644d['push'](_0x13bbe1);}else return!![];}_0x3820e4=_0x52644d,logger[_0xf13e7f(0x316)]('VPC\x20=>\x20'+_0x69977c+'\x20'),logger[_0xf13e7f(0x316)](_0xf13e7f(0x2b4)+_0x7dab4c+'\x20'),_0x1f5a13+=_0xf13e7f(0x38c)+_0x69977c+_0xf13e7f(0x209)+_0x7dab4c+',\x20';}}const _0x1d5b13={};return _0x1d5b13[_0xf13e7f(0x296)]=WS_EVENTS['LOG'],_0x1d5b13['message']=_0x1f5a13,this['webSocketUtils']['sendEventToBackend'](this['rws'],_0x1d5b13),[_0x4108cd,_0x3820e4];}async[a0_0x441769(0x271)](_0xd31a91,_0xb2a96d){const _0x258921=a0_0x441769,_0x1c2c78={'SIEfe':function(_0x450426,_0x122f13){return _0x450426(_0x122f13);},'MnQGB':function(_0xd6394c,_0x47cd8b,_0x57daea){return _0xd6394c(_0x47cd8b,_0x57daea);}};await _0x1c2c78[_0x258921(0x20f)](deleteAgent,_0xd31a91),await _0x1c2c78[_0x258921(0x20f)](deleteRoutingDeps,_0xd31a91),await _0x1c2c78[_0x258921(0x2d0)](deleteClusterAndDependencies,_0xb2a96d,this['clusterName']);}async[a0_0x441769(0x2c1)](_0x5a8372,_0x2ce6c9){const _0xd2ebd=a0_0x441769,_0x4d3d83={'CDwJa':function(_0x45d16c,_0x3f0f26){return _0x45d16c===_0x3f0f26;},'ZktdN':_0xd2ebd(0x2bb),'FlYmB':'browserstack','SyDuO':function(_0x5e0007,_0x33ce5e){return _0x5e0007!==_0x33ce5e;},'qPVtP':_0xd2ebd(0x1e4),'VlNcv':'yBjVW','KNjGw':'Authmap\x20already\x20exists.\x20Not\x20updating','RKYPK':_0xd2ebd(0x253),'dsjUM':_0xd2ebd(0x2d1),'vGwGO':_0xd2ebd(0x36c),'sHptC':function(_0x30020d,_0x23c6ba){return _0x30020d(_0x23c6ba);},'YMfMs':function(_0x1e9597,_0x10045e){return _0x1e9597!==_0x10045e;},'mgUoC':_0xd2ebd(0x33c),'ZqcHj':_0xd2ebd(0x2ec),'FOjNJ':function(_0x4aa5b1,_0x199979){return _0x4aa5b1!==_0x199979;},'IDELX':_0xd2ebd(0x301),'yJINX':function(_0x107bb0,_0x22439f,_0x435536,_0xf8bb36,_0x5a9a09,_0x484cce,_0x580a18,_0x5bcb29){return _0x107bb0(_0x22439f,_0x435536,_0xf8bb36,_0x5a9a09,_0x484cce,_0x580a18,_0x5bcb29);},'pJRiV':_0xd2ebd(0x373),'fGjXH':_0xd2ebd(0x350),'SwCqQ':_0xd2ebd(0x242),'xQxek':_0xd2ebd(0x358),'IPPIs':'DLSXG','zttjv':_0xd2ebd(0x2d2),'GzKqd':'autoscaler-creation-failed','reHAO':_0xd2ebd(0x1f0),'GQolu':function(_0xbd48d7,_0x36be69,_0x5d6536){return _0xbd48d7(_0x36be69,_0x5d6536);},'GKzVM':_0xd2ebd(0x244)};let _0x5f5921,_0x5dc8d9;const _0x46c044={};_0x46c044[_0xd2ebd(0x296)]=WS_EVENTS[_0xd2ebd(0x25a)],_0x46c044[_0xd2ebd(0x211)]=_0x4d3d83[_0xd2ebd(0x359)],this['webSocketUtils'][_0xd2ebd(0x2fc)](this[_0xd2ebd(0x2a4)],_0x46c044),logger[_0xd2ebd(0x316)](_0x4d3d83[_0xd2ebd(0x359)]);try{if(_0x4d3d83[_0xd2ebd(0x1dc)](_0x4d3d83[_0xd2ebd(0x33e)],_0x4d3d83[_0xd2ebd(0x243)])){const _0xf073e9=await _0x4d3d83['sHptC'](createAutoscalerStack,this['clusterName']);_0x5dc8d9=_0xf073e9['Stacks'][0x0][_0xd2ebd(0x2f6)][0x2][_0xd2ebd(0x32e)];const _0x574ab1={};_0x574ab1[_0xd2ebd(0x296)]=WS_EVENTS[_0xd2ebd(0x25a)],_0x574ab1[_0xd2ebd(0x211)]=_0xd2ebd(0x212)+_0x5dc8d9+'\x20',this[_0xd2ebd(0x29b)]['sendEventToBackend'](this['rws'],_0x574ab1),logger[_0xd2ebd(0x316)](_0xd2ebd(0x212)+_0x5dc8d9+'\x20');}else{const _0x35ecf6=_0x53e7d6[_0xd2ebd(0x344)][_0xd2ebd(0x291)];return _0x35ecf6&&_0x4d3d83[_0xd2ebd(0x2df)](_0x35ecf6[_0x4d3d83['ZktdN']][_0xd2ebd(0x28e)](),_0x4d3d83[_0xd2ebd(0x28d)]);}}catch(_0x4aea0b){if(_0x4d3d83[_0xd2ebd(0x1ff)](_0x4d3d83[_0xd2ebd(0x1ed)],_0x4d3d83[_0xd2ebd(0x1e6)])){if(_0x4aea0b?.[_0xd2ebd(0x211)]&&_0x4aea0b[_0xd2ebd(0x211)][_0xd2ebd(0x2d6)](/already exists/)){if(_0x4d3d83[_0xd2ebd(0x2dd)](_0x4d3d83[_0xd2ebd(0x29a)],_0x4d3d83[_0xd2ebd(0x29a)])){const _0x18774b=_0x2722bf[_0xd2ebd(0x337)][0x0][_0xd2ebd(0x2f6)][0x2]['OutputValue'],_0x13287e=_0x3f6a04[_0xd2ebd(0x337)][0x0]['Outputs'][0x5][_0xd2ebd(0x32e)]['split'](',');_0x42f831=_0x18774b;const _0xc06ff7=[];for(const _0x48be74 of _0x13287e){const _0x70f293={};_0x70f293['label']=_0x48be74,_0x70f293['value']=_0x48be74,_0xc06ff7['push'](_0x70f293);}_0x3a3d9c=_0xc06ff7,_0x293df2['info']('VPC\x20=>\x20'+_0x18774b+'\x20'),_0x5e00fe[_0xd2ebd(0x316)](_0xd2ebd(0x2b4)+_0x13287e+'\x20'),_0x726ded+=',VPC\x20=>\x20'+_0x18774b+_0xd2ebd(0x209)+_0x13287e+',\x20';}else _0x5f5921=_0xd2ebd(0x315)+_0x4aea0b[_0xd2ebd(0x211)],await _0x4d3d83['yJINX'](reportToGalactusAndSendToEDS,_0x2ce6c9,this[_0xd2ebd(0x2a4)],_0x5f5921,messageTypes['WARNING'],_0x4d3d83['pJRiV'],_0x4d3d83[_0xd2ebd(0x37c)],_0x4d3d83[_0xd2ebd(0x289)]),logger[_0xd2ebd(0x26d)](_0x5f5921);}else{if(_0x4d3d83[_0xd2ebd(0x1dc)](_0x4d3d83[_0xd2ebd(0x312)],_0x4d3d83[_0xd2ebd(0x1e9)])){const _0x10e7e2=_0x4d3d83['zttjv'][_0xd2ebd(0x275)]('|');let _0x3e621a=0x0;while(!![]){switch(_0x10e7e2[_0x3e621a++]){case'0':_0x5f5921=_0xd2ebd(0x36b)+_0x4aea0b?.['message']+_0xd2ebd(0x36e);continue;case'1':await _0x4d3d83[_0xd2ebd(0x37f)](reportToGalactusAndSendToEDS,_0x2ce6c9,this[_0xd2ebd(0x2a4)],_0x5f5921,messageTypes[_0xd2ebd(0x236)],_0x4d3d83[_0xd2ebd(0x25f)],_0x4d3d83[_0xd2ebd(0x22b)],_0x4d3d83[_0xd2ebd(0x21f)]);continue;case'2':logger[_0xd2ebd(0x1f0)](_0x5f5921);continue;case'3':await _0x4d3d83[_0xd2ebd(0x2b0)](deleteClusterAndDependencies,global_registry[_0xd2ebd(0x213)],this[_0xd2ebd(0x2b8)]);continue;case'4':process[_0xd2ebd(0x307)](0x1);continue;}break;}}else{const _0x3baa01=_0x5ee984['EvalActionName']['split'](':')[0x0];_0x37cdc4+=_0xd2ebd(0x277)+_0x3baa01[_0xd2ebd(0x313)]()+_0xd2ebd(0x37a)+_0x189789[_0x1b2830[_0xd2ebd(0x33b)]]+':\x20'+_0x4b7c04[_0xd2ebd(0x1ef)],_0x4d3d83[_0xd2ebd(0x1dc)](_0x556bd1[_0xd2ebd(0x1ef)],_0x4d3d83[_0xd2ebd(0x2a0)])&&(_0x5455f6[_0xd2ebd(0x21e)]=![]);}}}else return![];}const _0x1f3c31=await this[_0xd2ebd(0x30a)](this[_0xd2ebd(0x2b8)]+'-NodeGroup'),_0x5de4cf=_0x1f3c31[_0xd2ebd(0x26c)][_0xd2ebd(0x23c)],_0xc42c2f=await this[_0xd2ebd(0x31c)](_0x5de4cf),_0x21c72e={};return _0x21c72e[_0xd2ebd(0x280)]=_0x4d3d83[_0xd2ebd(0x2bd)],_0x21c72e[_0xd2ebd(0x231)]=_0xc42c2f,await _0x5a8372['createNamespacedConfigMap'](_0x21c72e)['catch'](_0x4329a0=>{const _0x58dc26=_0xd2ebd;if(_0x4d3d83[_0x58dc26(0x1dc)](_0x4d3d83[_0x58dc26(0x2c5)],_0x4d3d83[_0x58dc26(0x2c5)]))return _0x31ad95[_0x58dc26(0x21e)][_0x58dc26(0x218)][_0x58dc26(0x1e8)][0x0][_0x58dc26(0x357)];else logger[_0x58dc26(0x316)](_0x4d3d83[_0x58dc26(0x383)]);}),_0x5dc8d9;}async[a0_0x441769(0x330)](_0x511010,_0x3eba73,_0x177137,_0x15b07d,_0x54ab53){const _0x590326=a0_0x441769,_0x2721c6={'Vyjhi':function(_0x330650,_0x128b01){return _0x330650!==_0x128b01;},'TNHtU':'cIkxV','PwjxF':_0x590326(0x2ce),'eYfMa':function(_0xaa33f7,_0x2ec876){return _0xaa33f7!==_0x2ec876;},'sWJEA':_0x590326(0x377),'kesxq':'Creating\x20required\x20resources\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','unbqt':_0x590326(0x25b),'nCUog':function(_0x1af4bd,_0x445d6e,_0xdb18b4){return _0x1af4bd(_0x445d6e,_0xdb18b4);},'edDpG':_0x590326(0x25d),'EdjWJ':_0x590326(0x279),'jdYMv':_0x590326(0x34e),'AyrCa':_0x590326(0x228),'eTYPH':_0x590326(0x1e0),'rlxoJ':_0x590326(0x28c),'xnoHj':_0x590326(0x2d5),'CLtNv':_0x590326(0x230),'DaqwM':_0x590326(0x2c7),'oQUls':_0x590326(0x323),'MpnOJ':_0x590326(0x294),'xoBPR':function(_0x41655c,_0x493e85,_0x1f5e3){return _0x41655c(_0x493e85,_0x1f5e3);},'fnzKs':_0x590326(0x27e),'bWANP':_0x590326(0x24b),'XvjRP':_0x590326(0x269),'VwhlA':_0x590326(0x361),'AuPrl':_0x590326(0x2f8),'Whqfu':_0x590326(0x297),'CsaUi':function(_0x44da87,_0x14fb1f){return _0x44da87===_0x14fb1f;},'CTnVc':_0x590326(0x239),'mrmGK':_0x590326(0x2be),'OYTdS':_0x590326(0x1fb),'xefER':function(_0xd44b0c,_0x20e4bc,_0x385804,_0x1a0bd0,_0x5552e1,_0x4f1a54,_0x44d246,_0x4a58a0){return _0xd44b0c(_0x20e4bc,_0x385804,_0x1a0bd0,_0x5552e1,_0x4f1a54,_0x44d246,_0x4a58a0);},'ctGxT':_0x590326(0x373),'cXaRH':'hub-ha-aws-setup-failed','yvFJr':_0x590326(0x1f0)};logger[_0x590326(0x316)](_0x2721c6[_0x590326(0x282)]);let _0x593a3c;try{if(_0x2721c6[_0x590326(0x37d)](_0x2721c6[_0x590326(0x2b3)],_0x2721c6[_0x590326(0x2b3)]))_0x2e7be4['error'](_0x590326(0x260)+_0x55718d[_0x590326(0x324)]+':',_0x258c2b);else{const _0x23effc={};_0x23effc[_0x590326(0x296)]=WS_EVENTS[_0x590326(0x25a)],_0x23effc[_0x590326(0x211)]=_0x2721c6['kesxq'],this['webSocketUtils'][_0x590326(0x2fc)](this[_0x590326(0x2a4)],_0x23effc),logger['info'](_0x2721c6[_0x590326(0x1e7)]);const _0x3af9ab=await _0x2721c6[_0x590326(0x245)](createHubHaStack,this[_0x590326(0x2b8)],_0x15b07d),_0x3f9a43=_0x3af9ab['Stacks'][0x0][_0x590326(0x2f6)]['reduce']((_0xedb4a6,_0x198d14)=>{const _0x5922f6=_0x590326;return _0x2721c6[_0x5922f6(0x2f9)](_0x2721c6['TNHtU'],_0x2721c6[_0x5922f6(0x34d)])?this[_0x5922f6(0x35f)]():(_0xedb4a6[_0x198d14[_0x5922f6(0x210)]]=_0x198d14[_0x5922f6(0x32e)],_0xedb4a6);},{}),_0x325f9f=_0x3f9a43[_0x2721c6[_0x590326(0x2db)]],_0x4ef17a=_0x3f9a43[_0x2721c6[_0x590326(0x2fd)]],_0x229e7a=_0x3f9a43[_0x2721c6[_0x590326(0x32b)]];logger[_0x590326(0x316)](_0x2721c6[_0x590326(0x368)]),logger[_0x590326(0x316)]('EFS\x20Controller\x20Role\x20=>\x20'+_0x325f9f),logger[_0x590326(0x316)](_0x590326(0x23e)+_0x229e7a),logger['info'](_0x590326(0x2cd)+_0x4ef17a),_0x593a3c='Following\x20resources\x20are\x20created\x20for\x20Hub\x20HA:\x20EFS_ControllerRoleArn\x20=>\x20'+_0x325f9f+_0x590326(0x36d)+_0x229e7a+_0x590326(0x320)+_0x4ef17a,logger[_0x590326(0x316)](_0x2721c6[_0x590326(0x246)]),await this['createMountTargets'](_0x54ab53,_0x229e7a,_0x4ef17a);const _0x2d8fc5={};_0x2d8fc5[_0x590326(0x296)]=WS_EVENTS[_0x590326(0x25a)],_0x2d8fc5[_0x590326(0x211)]=_0x593a3c,this[_0x590326(0x29b)]['sendEventToBackend'](this['rws'],_0x2d8fc5);const _0x376d78={};_0x376d78['type']=WS_EVENTS[_0x590326(0x25a)],_0x376d78['message']=_0x2721c6[_0x590326(0x30f)],this[_0x590326(0x29b)][_0x590326(0x2fc)](this[_0x590326(0x2a4)],_0x376d78),logger[_0x590326(0x316)](_0x2721c6[_0x590326(0x2b6)]);let _0x5ec4e2=await fs[_0x590326(0x33f)](path[_0x590326(0x353)](__dirname,'..',_0x2721c6['CLtNv'],_0x2721c6['DaqwM'],_0x2721c6[_0x590326(0x343)]),_0x2721c6[_0x590326(0x34b)]);_0x5ec4e2=_0x5ec4e2[_0x590326(0x2aa)](/<EfsCSIControllerARN>/g,_0x325f9f);const _0x2ded03=yaml[_0x590326(0x36a)](_0x5ec4e2);await _0x2721c6['xoBPR'](kubeApply,_0x2ded03,_0x3eba73),logger[_0x590326(0x316)](_0x2721c6[_0x590326(0x322)]),logger[_0x590326(0x316)](_0x2721c6[_0x590326(0x314)]);const _0x48608e=await fs[_0x590326(0x33f)](path[_0x590326(0x353)](__dirname,'..',_0x2721c6[_0x590326(0x278)],_0x2721c6['DaqwM'],_0x2721c6[_0x590326(0x30e)]),_0x2721c6[_0x590326(0x34b)]),_0x17cb47=yaml[_0x590326(0x360)](_0x48608e);_0x17cb47[_0x590326(0x2e8)][_0x2721c6['VwhlA']]=_0x4ef17a;const _0x39b348={};_0x39b348['body']=_0x17cb47;const _0x241a41=await _0x511010[_0x590326(0x1fd)](_0x39b348);logger[_0x590326(0x316)](_0x2721c6['AuPrl']);const _0x31e3d9={};_0x31e3d9[_0x590326(0x296)]=WS_EVENTS[_0x590326(0x25a)],_0x31e3d9['message']=_0x2721c6[_0x590326(0x252)],this[_0x590326(0x29b)]['sendEventToBackend'](this[_0x590326(0x2a4)],_0x31e3d9);}}catch(_0x4f612d){if(_0x2721c6[_0x590326(0x2d9)](_0x2721c6['CTnVc'],_0x2721c6[_0x590326(0x2d4)]))_0x597995[_0x590326(0x1f0)](_0x590326(0x257)+_0x42192a+_0x590326(0x326)+_0x5d178a[_0x590326(0x1de)]),_0x36e00f[_0x590326(0x351)]='Please\x20install\x20aws-iam-authenticator\x20tool.\x20Error\x20:\x20'+_0x1f7f66,_0x4fb5d9[_0x590326(0x1f0)]=_0x1ff65e;else{const _0x5d62ee=_0x2721c6[_0x590326(0x2ae)][_0x590326(0x275)]('|');let _0x319028=0x0;while(!![]){switch(_0x5d62ee[_0x319028++]){case'0':_0x593a3c='Error\x20occurred\x20while\x20setting\x20up\x20Hub\x20HA\x20infra:\x20'+_0x4f612d[_0x590326(0x211)];continue;case'1':logger[_0x590326(0x1f0)](_0x593a3c);continue;case'2':await _0x2721c6[_0x590326(0x245)](deleteClusterAndDependencies,global_registry['clusterRegion'],this['clusterName']);continue;case'3':await _0x2721c6[_0x590326(0x265)](reportToGalactusAndSendToEDS,_0x177137,this[_0x590326(0x2a4)],_0x593a3c,messageTypes[_0x590326(0x236)],_0x2721c6[_0x590326(0x2f5)],_0x2721c6[_0x590326(0x224)],_0x2721c6[_0x590326(0x37e)]);continue;case'4':process[_0x590326(0x307)](0x1);continue;}break;}}}}async['createMountTargets'](_0x36df56,_0x1c234b,_0x114949){const _0x205c98=a0_0x441769,_0x2ea9c4={'QOSpF':function(_0x9b3c36,_0x54c3d9){return _0x9b3c36(_0x54c3d9);},'ylvkP':'2017-11-01','tICom':function(_0xeae10d,_0x3180b6){return _0xeae10d===_0x3180b6;},'adkuu':_0x205c98(0x237),'VzGen':_0x205c98(0x2e2),'qNDis':function(_0x31f780,_0x37dd05){return _0x31f780!==_0x37dd05;},'NlbuS':'wninb'},_0x40ef43={};_0x40ef43[_0x205c98(0x23b)]=global_registry[_0x205c98(0x213)];const _0x12499b=new awsSDK[(_0x205c98(0x232))](_0x40ef43),_0x4fe883={};_0x4fe883[_0x205c98(0x23b)]=global_registry[_0x205c98(0x213)];const _0x4f315e=new awsSDK[(_0x205c98(0x1eb))](_0x4fe883),_0x1bacf5=new Set(),_0xf0a601=[];for(const _0x2b209b of _0x36df56){if(_0x2ea9c4[_0x205c98(0x348)](_0x2ea9c4['adkuu'],_0x2ea9c4[_0x205c98(0x27c)]))_0x17cdce['error'](_0x205c98(0x226)+_0x30f7e4+'\x20in\x20region\x20'+_0x3ee2ea[_0x205c98(0x213)]+_0x205c98(0x20a)),_0x2ea9c4['QOSpF'](_0x29f4c9,![]);else{const _0x3db3b9=await this['getAvailabilityZone'](_0x4f315e,_0x2b209b[_0x205c98(0x324)]);if(_0x1bacf5[_0x205c98(0x2d8)](_0x3db3b9)){if(_0x2ea9c4['qNDis'](_0x2ea9c4[_0x205c98(0x26f)],_0x2ea9c4[_0x205c98(0x26f)])){const _0x436b22={};_0x436b22[_0x205c98(0x342)]=_0x2ea9c4['ylvkP'];const _0x48e089=new _0x1a4ca7[(_0x205c98(0x31a))](_0x436b22),_0x2b76e9={};return _0x2b76e9[_0x205c98(0x300)]=this[_0x205c98(0x2b8)],_0x48e089[_0x205c98(0x264)](_0x2b76e9)[_0x205c98(0x23f)]();}else{logger[_0x205c98(0x316)](_0x205c98(0x262)+_0x2b209b['value']+_0x205c98(0x235)+_0x3db3b9+_0x205c98(0x2f3));continue;}}_0x1bacf5[_0x205c98(0x332)](_0x3db3b9),_0xf0a601['push'](this[_0x205c98(0x21a)](_0x12499b,_0x2b209b,_0x1c234b,_0x114949));}}await Promise[_0x205c98(0x263)](_0xf0a601);}async['createMountTargetAndWait'](_0x32751e,_0x55f14a,_0xe6fd6f,_0x583a52){const _0x96b07b=a0_0x441769,_0x2dfb65={};_0x2dfb65[_0x96b07b(0x2b1)]=function(_0x36b347,_0x377221){return _0x36b347===_0x377221;},_0x2dfb65[_0x96b07b(0x2ab)]=_0x96b07b(0x29f),_0x2dfb65[_0x96b07b(0x1fa)]=function(_0x22b98b,_0x24bb5b){return _0x22b98b!==_0x24bb5b;},_0x2dfb65[_0x96b07b(0x22a)]='pNgYX';const _0x4d85bb=_0x2dfb65;try{if(_0x4d85bb[_0x96b07b(0x2b1)](_0x4d85bb[_0x96b07b(0x2ab)],_0x4d85bb[_0x96b07b(0x2ab)])){const _0x252ea2={};_0x252ea2['FileSystemId']=_0x583a52,_0x252ea2[_0x96b07b(0x22d)]=_0x55f14a[_0x96b07b(0x324)],_0x252ea2['SecurityGroups']=[_0xe6fd6f];const _0x414cea=await _0x32751e[_0x96b07b(0x261)](_0x252ea2)['promise'](),_0x160331=_0x414cea[_0x96b07b(0x241)];await this[_0x96b07b(0x388)](_0x32751e,_0x55f14a[_0x96b07b(0x324)],_0x160331);}else throw new _0x5b35c1(_0x96b07b(0x375)+_0x53489c+'\x20failed\x20to\x20reach\x20the\x20available\x20state.');}catch(_0x58fac8){_0x4d85bb[_0x96b07b(0x1fa)](_0x4d85bb[_0x96b07b(0x22a)],_0x4d85bb[_0x96b07b(0x22a)])?_0x4870aa[_0x96b07b(0x365)](_0x1cdc21):logger[_0x96b07b(0x1f0)](_0x96b07b(0x260)+_0x55f14a[_0x96b07b(0x324)]+':',_0x58fac8);}}async['waitForMountTarget'](_0x2a75d5,_0x3b8ff5,_0x1e2052){const _0x29a0cc=a0_0x441769,_0x19919d={'QYMNW':function(_0x4e1e66,_0x2b7e48){return _0x4e1e66(_0x2b7e48);},'bEtnx':function(_0x1cdbd4,_0x546b05){return _0x1cdbd4!==_0x546b05;},'Eyaaf':_0x29a0cc(0x1e2),'imSLL':_0x29a0cc(0x33d),'feqyk':_0x29a0cc(0x370),'aXEUB':function(_0x3f4e12,_0x13d17a){return _0x3f4e12===_0x13d17a;},'dbTSU':function(_0x377bc8,_0x51a2df){return _0x377bc8===_0x51a2df;},'tmojH':_0x29a0cc(0x341),'POiJN':function(_0x263a6c,_0x54e8b1){return _0x263a6c===_0x54e8b1;},'cmNqt':_0x29a0cc(0x1f9),'yTSfU':function(_0x232be5,_0x3c7d79){return _0x232be5===_0x3c7d79;},'woBWs':_0x29a0cc(0x1f4)};let _0x324651='';while(_0x19919d[_0x29a0cc(0x37b)](_0x324651,_0x19919d[_0x29a0cc(0x22c)])){if(_0x19919d[_0x29a0cc(0x37b)](_0x19919d[_0x29a0cc(0x1df)],_0x19919d[_0x29a0cc(0x23a)])){const _0x94731e={};_0x94731e[_0x29a0cc(0x241)]=_0x1e2052;const _0x2f115d=await _0x2a75d5[_0x29a0cc(0x272)](_0x94731e)[_0x29a0cc(0x23f)]();_0x324651=_0x2f115d[_0x29a0cc(0x284)][0x0][_0x29a0cc(0x317)];if(_0x19919d['aXEUB'](_0x324651,_0x19919d['Eyaaf'])){if(_0x19919d['dbTSU'](_0x19919d[_0x29a0cc(0x384)],_0x19919d[_0x29a0cc(0x384)])){logger['info'](_0x29a0cc(0x310)+_0x3b8ff5+_0x29a0cc(0x227)+_0x1e2052+'.');break;}else _0x19919d[_0x29a0cc(0x299)](_0x457950,!![]);}if(_0x19919d['POiJN'](_0x324651,_0x19919d[_0x29a0cc(0x31b)])){if(_0x19919d['yTSfU'](_0x19919d[_0x29a0cc(0x364)],_0x19919d['woBWs']))throw new Error(_0x29a0cc(0x375)+_0x1e2052+_0x29a0cc(0x366));else return _0x174d57[_0x2afaab[_0x29a0cc(0x210)]]=_0x55bfd4[_0x29a0cc(0x32e)],_0x22a323;}await new Promise(_0x1e6184=>setTimeout(_0x1e6184,0x1388));}else _0x2c6171[_0x29a0cc(0x21e)]=![];}}async[a0_0x441769(0x389)](_0x18f52c,_0x23f9d6){const _0x3b4a67=a0_0x441769,_0x6ecba1={};_0x6ecba1['SubnetIds']=[_0x23f9d6];const _0x19a35b=await _0x18f52c[_0x3b4a67(0x33a)](_0x6ecba1)['promise']();return _0x19a35b['Subnets'][0x0]['AvailabilityZone'];}[a0_0x441769(0x321)](_0x3cb298){const _0x42dcc1=a0_0x441769,_0xe5c485={'HXpaM':function(_0x2225b1,_0x51ad7c){return _0x2225b1!==_0x51ad7c;},'RfUNo':_0x42dcc1(0x1ea),'JdoHp':function(_0x3f06dd,_0x30596d){return _0x3f06dd(_0x30596d);},'RsJkm':function(_0x550ecc,_0x4958d3){return _0x550ecc===_0x4958d3;},'jCmwU':_0x42dcc1(0x2cf),'KrQnV':_0x42dcc1(0x26e),'MosnB':function(_0x5a9477,_0x4768f7){return _0x5a9477(_0x4768f7);},'RKNYG':'FOVLZ','EpkYK':'fAwpj','jZcwZ':_0x42dcc1(0x2ed)},_0x21fbd7={};_0x21fbd7[_0x42dcc1(0x2ad)]=[_0x3cb298];const _0x3edda7=_0x21fbd7;return new Promise((_0x13b789,_0x319c43)=>{const _0x56bc20=_0x42dcc1,_0x58f815={'PRiIv':function(_0x5eb61c,_0x1c6221){const _0x867a37=a0_0x2c85;return _0xe5c485[_0x867a37(0x2bf)](_0x5eb61c,_0x1c6221);},'YEAEU':_0xe5c485[_0x56bc20(0x215)],'mReTU':_0xe5c485[_0x56bc20(0x1f5)],'bsvIz':function(_0x4ffdc5,_0x562b07){const _0x17a84a=_0x56bc20;return _0xe5c485[_0x17a84a(0x203)](_0x4ffdc5,_0x562b07);},'scbnl':function(_0x3d2afa,_0x1fbec5){return _0xe5c485['JdoHp'](_0x3d2afa,_0x1fbec5);}};if(_0xe5c485['HXpaM'](_0xe5c485[_0x56bc20(0x295)],_0xe5c485[_0x56bc20(0x1ec)])){const _0x4e9e9d={};_0x4e9e9d[_0x56bc20(0x342)]=_0xe5c485[_0x56bc20(0x2c9)],_0x4e9e9d[_0x56bc20(0x23b)]=global_registry[_0x56bc20(0x213)];const _0x20faa0=new awsSDK[(_0x56bc20(0x1eb))](_0x4e9e9d);_0x20faa0[_0x56bc20(0x2f1)](_0x3edda7)[_0x56bc20(0x23f)]()[_0x56bc20(0x362)](_0x456663=>{const _0x44d587=_0x56bc20;if(_0x58f815['PRiIv'](_0x58f815[_0x44d587(0x276)],_0x58f815['mReTU'])){if(_0x5cd074['includes'](_0x6af7b6[_0x44d587(0x324)]))return!![];return _0x404881['push'](_0x556b8b),![];}else _0x58f815[_0x44d587(0x386)](_0x13b789,!![]);})['catch'](_0x20df42=>{const _0x377479=_0x56bc20;_0xe5c485[_0x377479(0x2ba)](_0xe5c485[_0x377479(0x2ea)],_0xe5c485[_0x377479(0x2ea)])?(_0x43677e['error'](_0x534690),_0x58f815[_0x377479(0x27b)](_0xf4392c,_0x2adc52)):(logger[_0x377479(0x1f0)]('Cannot\x20find\x20VPC\x20'+_0x3cb298+_0x377479(0x234)+global_registry[_0x377479(0x213)]+_0x377479(0x20a)),_0xe5c485[_0x377479(0x285)](_0x13b789,![]));});}else _0x366ae2[_0x56bc20(0x26d)](_0x5db881);});}['isSubnetsValid'](_0x8c4932,_0x59b419){const _0x2f2b6a=a0_0x441769,_0x352545={'djDvP':function(_0x128dcf,_0x76eb6d){return _0x128dcf(_0x76eb6d);},'XVCHe':function(_0x57414f,_0x36ce94){return _0x57414f!==_0x36ce94;},'mEmEf':_0x2f2b6a(0x2fe),'wJhmB':_0x2f2b6a(0x381),'NxAsZ':function(_0x4cc92f,_0x181abe){return _0x4cc92f(_0x181abe);},'FBFWU':_0x2f2b6a(0x2e4),'ZdGhB':function(_0x3831c2,_0x1129cd){return _0x3831c2===_0x1129cd;},'xVOfV':'QiAKs','aKLzI':_0x2f2b6a(0x24f),'ZbhuF':_0x2f2b6a(0x1db),'NewoH':_0x2f2b6a(0x2f7),'cWffT':function(_0x398ab1,_0x417eb1){return _0x398ab1===_0x417eb1;},'cCxDQ':_0x2f2b6a(0x283),'DGglD':_0x2f2b6a(0x333),'ORanG':function(_0x3e4472,_0xa37a81){return _0x3e4472(_0xa37a81);},'OoRAg':function(_0x3e1999,_0x5e5f07){return _0x3e1999!==_0x5e5f07;},'TsRLE':_0x2f2b6a(0x367),'lLyet':_0x2f2b6a(0x2e3),'aosMb':function(_0x4a0fcc,_0x3ba9d5){return _0x4a0fcc!==_0x3ba9d5;},'bDdCu':'QCwMP','aJbWe':'2016-11-15','qMnaN':'vpc-id'},_0x34c470={};_0x34c470[_0x2f2b6a(0x376)]=_0x352545[_0x2f2b6a(0x2a6)],_0x34c470[_0x2f2b6a(0x2a1)]=[_0x59b419];const _0x23dfc7={};_0x23dfc7[_0x2f2b6a(0x372)]=[_0x34c470];const _0x1135ae=_0x23dfc7;return new Promise((_0x391660,_0x302818)=>{const _0x3c18c4=_0x2f2b6a,_0x1f91ba={'lWZXK':function(_0x33be99,_0x3d7bfa){return _0x352545['NxAsZ'](_0x33be99,_0x3d7bfa);},'nlvXB':function(_0x1b8f74,_0x340856){return _0x352545['OoRAg'](_0x1b8f74,_0x340856);},'kPMQb':_0x352545['TsRLE'],'AGNhZ':_0x352545[_0x3c18c4(0x24a)]};if(_0x352545['aosMb'](_0x352545[_0x3c18c4(0x1f1)],_0x352545['bDdCu'])){const _0x20d736=[],_0x557c3c=[];_0xd5ce72['Subnets'][_0x3c18c4(0x327)](_0x5d22ca=>{const _0x5818c8=_0x3c18c4;_0x20d736[_0x5818c8(0x2f4)](_0x5d22ca['SubnetId']);});const _0x31395c=_0x37a7fe[_0x3c18c4(0x249)](_0x4c89f7=>{const _0x14e06a=_0x3c18c4;if(_0x20d736[_0x14e06a(0x28b)](_0x4c89f7[_0x14e06a(0x324)]))return!![];return _0x557c3c[_0x14e06a(0x2f4)](_0x4c89f7),![];});_0x352545['djDvP'](_0x46d69c,[_0x31395c,_0x557c3c]);}else{const _0x55b1d1={};_0x55b1d1['apiVersion']=_0x352545[_0x3c18c4(0x27d)],_0x55b1d1[_0x3c18c4(0x23b)]=global_registry[_0x3c18c4(0x213)];const _0x1a6481=new awsSDK[(_0x3c18c4(0x1eb))](_0x55b1d1);_0x1a6481['describeSubnets'](_0x1135ae)[_0x3c18c4(0x23f)]()[_0x3c18c4(0x362)](_0x40ceab=>{const _0x586769=_0x3c18c4,_0x3d5968={'XlvtN':function(_0xc15101,_0x2ceb1f){const _0x37e37f=a0_0x2c85;return _0x352545[_0x37e37f(0x219)](_0xc15101,_0x2ceb1f);},'YKnet':_0x352545[_0x586769(0x379)],'pMKgG':_0x352545[_0x586769(0x267)],'YHXwD':function(_0x52dcb6,_0x357582){const _0x2923e6=_0x586769;return _0x352545[_0x2923e6(0x25e)](_0x52dcb6,_0x357582);},'ajRnq':_0x352545[_0x586769(0x336)],'FkjxD':function(_0x117de1,_0x596be7){const _0x401069=_0x586769;return _0x352545[_0x401069(0x1da)](_0x117de1,_0x596be7);},'uEfZU':_0x352545[_0x586769(0x2fa)],'bXYLJ':_0x352545['aKLzI'],'CmJKH':_0x352545['ZbhuF'],'UvIAQ':_0x352545['NewoH']};if(_0x352545[_0x586769(0x2a9)](_0x352545[_0x586769(0x306)],_0x352545[_0x586769(0x38a)]))_0x3b5cac['error'](_0x586769(0x21d)+_0x317527+_0x586769(0x234)+_0x8d6619[_0x586769(0x213)]+_0x586769(0x23d)+_0x2bff65),_0x1f91ba['lWZXK'](_0xd53790,[![],[]]);else{const _0x24e151=[],_0x4cbd71=[];_0x40ceab[_0x586769(0x2dc)]['forEach'](_0x52ee31=>{const _0x18166d=_0x586769;_0x3d5968['XlvtN'](_0x3d5968[_0x18166d(0x32a)],_0x3d5968['pMKgG'])?_0x24e151[_0x18166d(0x2f4)](_0x52ee31[_0x18166d(0x22d)]):_0x36b6ee[_0x18166d(0x2f4)](_0x340498['SubnetId']);});const _0xdb1270=_0x8c4932[_0x586769(0x249)](_0x3fbc39=>{const _0x474df7=_0x586769,_0x560702={};_0x560702[_0x474df7(0x27f)]=_0x3d5968[_0x474df7(0x2e1)];const _0x59d71a=_0x560702;if(_0x3d5968[_0x474df7(0x26a)](_0x3d5968['uEfZU'],_0x3d5968['bXYLJ']))_0x3d5968[_0x474df7(0x35c)](_0x343860,!![]);else{if(_0x24e151['includes'](_0x3fbc39[_0x474df7(0x324)])){if(_0x3d5968[_0x474df7(0x31f)](_0x3d5968[_0x474df7(0x1f3)],_0x3d5968[_0x474df7(0x305)]))return!![];else{const _0x1896a6={};_0x1896a6[_0x474df7(0x342)]=_0x59d71a[_0x474df7(0x27f)];const _0x8b56c3=new _0x64eb71['EKS'](_0x1896a6),_0x47e5cf={};return _0x47e5cf[_0x474df7(0x2b8)]=this[_0x474df7(0x2b8)],_0x47e5cf[_0x474df7(0x30c)]=_0x5d0073,_0x8b56c3[_0x474df7(0x34f)](_0x47e5cf)[_0x474df7(0x23f)]();}}return _0x4cbd71[_0x474df7(0x2f4)](_0x3fbc39),![];}});_0x352545[_0x586769(0x29c)](_0x391660,[_0xdb1270,_0x4cbd71]);}})['catch'](_0xb89bcc=>{const _0x544add=_0x3c18c4;_0x1f91ba[_0x544add(0x347)](_0x1f91ba['kPMQb'],_0x1f91ba['AGNhZ'])?(logger[_0x544add(0x1f0)](_0x544add(0x21d)+_0x8c4932+_0x544add(0x234)+global_registry[_0x544add(0x213)]+_0x544add(0x23d)+_0xb89bcc),_0x1f91ba[_0x544add(0x24d)](_0x391660,[![],[]])):_0x52af31[_0x544add(0x1f0)]=_0x19d841;});}});}async[a0_0x441769(0x329)](){const _0x43234c=a0_0x441769,_0x1f5bf2={'yjBPg':function(_0x3bad01,_0x50d2c4){return _0x3bad01(_0x50d2c4);},'IjunA':_0x43234c(0x363),'lcofc':'Intercepted','jTMRS':'aws-iam-authenticator\x20tool\x20is\x20installed'},_0x118968={};_0x118968[_0x43234c(0x21e)]=![],_0x118968[_0x43234c(0x1f0)]=null,_0x118968[_0x43234c(0x351)]='';const _0x3e200c=_0x118968;try{const _0x511c2a=await _0x1f5bf2[_0x43234c(0x35e)](runCommand,_0x1f5bf2['IjunA']);_0x511c2a['startsWith'](_0x1f5bf2[_0x43234c(0x292)])?logger[_0x43234c(0x26d)](_0x511c2a):logger[_0x43234c(0x365)](_0x511c2a),_0x3e200c[_0x43234c(0x21e)]=!![],_0x3e200c[_0x43234c(0x351)]=_0x1f5bf2[_0x43234c(0x1f8)];}catch(_0x430090){logger['error']('error\x20:\x20'+_0x430090+_0x43234c(0x326)+_0x430090['stack']),_0x3e200c[_0x43234c(0x351)]=_0x43234c(0x325)+_0x430090,_0x3e200c[_0x43234c(0x1f0)]=_0x430090;}return _0x3e200c;}async[a0_0x441769(0x273)](){const _0x34b498=a0_0x441769,_0xa7c959={};_0xa7c959[_0x34b498(0x308)]=_0x34b498(0x380),_0xa7c959[_0x34b498(0x34a)]=_0x34b498(0x270);const _0x2f9072=_0xa7c959,_0x5a3e50=await new awsSDK[(_0x34b498(0x319))]()[_0x34b498(0x2de)]()['promise'](),{Account:_0xf85dfd,Arn:_0xe8202f}=_0x5a3e50,_0x167f1d=_0xe8202f[_0x34b498(0x28b)](_0x2f9072[_0x34b498(0x308)]),_0x1d3dd9=_0x167f1d?_0x34b498(0x256)+_0xf85dfd+_0x34b498(0x380)+_0xe8202f[_0x34b498(0x275)](_0x2f9072['QqdYZ'])[0x1]:_0x34b498(0x256)+_0xf85dfd+':user/'+_0xe8202f[_0x34b498(0x275)](_0x2f9072[_0x34b498(0x34a)])[0x1];return _0x1d3dd9;}async[a0_0x441769(0x369)](){const _0x47b9d5=a0_0x441769,_0x24c6f7={};_0x24c6f7[_0x47b9d5(0x2c2)]=function(_0x35c2ba,_0x496bd9){return _0x35c2ba!==_0x496bd9;},_0x24c6f7[_0x47b9d5(0x2c0)]=_0x47b9d5(0x1e4);const _0x32bb6c=_0x24c6f7,_0x12c066={};_0x12c066[_0x47b9d5(0x21e)]=![],_0x12c066[_0x47b9d5(0x1f0)]=null,_0x12c066[_0x47b9d5(0x351)]='';const _0x5b3153=_0x12c066;try{const _0xb9571a=await this[_0x47b9d5(0x273)](),_0x11d38f={'PolicySourceArn':_0xb9571a,'ActionNames':Object[_0x47b9d5(0x29e)](PERMISSIONS)},_0x2c1e4e=await new awsSDK['IAM']()[_0x47b9d5(0x240)](_0x11d38f)[_0x47b9d5(0x23f)]();let _0x15c964='';logger[_0x47b9d5(0x365)](_0x47b9d5(0x206)+JSON[_0x47b9d5(0x22e)](_0x2c1e4e)),_0x5b3153[_0x47b9d5(0x21e)]=!![],_0x2c1e4e[_0x47b9d5(0x233)][_0x47b9d5(0x327)](_0x3e26a7=>{const _0x2b4965=_0x47b9d5,_0x522a4d=_0x3e26a7[_0x2b4965(0x33b)][_0x2b4965(0x275)](':')[0x0];_0x15c964+='\x0a\x09Service:\x20'+_0x522a4d['toUpperCase']()+'\x20|\x20Action\x20:\x20'+PERMISSIONS[_0x3e26a7[_0x2b4965(0x33b)]]+':\x20'+_0x3e26a7[_0x2b4965(0x1ef)],_0x32bb6c['uGLgV'](_0x3e26a7[_0x2b4965(0x1ef)],_0x32bb6c[_0x2b4965(0x2c0)])&&(_0x5b3153[_0x2b4965(0x21e)]=![]);}),_0x5b3153[_0x47b9d5(0x351)]=_0x15c964;}catch(_0x4012e2){_0x5b3153[_0x47b9d5(0x1f0)]=_0x4012e2;}return _0x5b3153;}}const a0_0x383e99={};a0_0x383e99[a0_0x441769(0x205)]=AWSCloudProvider,module['exports']=a0_0x383e99;