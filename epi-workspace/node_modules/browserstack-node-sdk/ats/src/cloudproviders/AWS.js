const a0_0xf60e1c=a0_0x3bee;(function(_0x401d19,_0x5163a4){const _0x3118ce=a0_0x3bee,_0x3a3288=_0x401d19();while(!![]){try{const _0x4f83dc=-parseInt(_0x3118ce(0x1ef))/0x1+-parseInt(_0x3118ce(0x1f7))/0x2+parseInt(_0x3118ce(0x194))/0x3+parseInt(_0x3118ce(0x191))/0x4+parseInt(_0x3118ce(0x14c))/0x5+parseInt(_0x3118ce(0x1b5))/0x6*(-parseInt(_0x3118ce(0x129))/0x7)+parseInt(_0x3118ce(0x1d3))/0x8;if(_0x4f83dc===_0x5163a4)break;else _0x3a3288['push'](_0x3a3288['shift']());}catch(_0x5846b){_0x3a3288['push'](_0x3a3288['shift']());}}}(a0_0x5f3e,0x94a6c));const fs=require('fs'),path=require(a0_0xf60e1c(0x139)),yaml=require(a0_0xf60e1c(0x1ab)),awsSDK=require(a0_0xf60e1c(0xc5)),{logger}=require('../config/logger'),{CloudProvider}=require(a0_0xf60e1c(0x1b2)),{sendAWSInfoToHST}=require('../utils/hstUtils'),{createClusterStack}=require(a0_0xf60e1c(0x1a4)),{createHubHaStack}=require(a0_0xf60e1c(0x1af)),{deleteClusterAndDependencies,deleteRoutingDeps,deleteAgent}=require(a0_0xf60e1c(0xe8)),{createAutoscalerStack}=require(a0_0xf60e1c(0x142)),{getDirForConfig,reportToGalactusAndSendToEDS,kubeApply}=require('../utils/utilityMethods'),{IAM_USER_NAME,AWS,WS_EVENTS,global_registry,messageTypes}=require(a0_0xf60e1c(0x1b9));class AWSCloudProvider extends CloudProvider{constructor(_0x570702,_0x1a2e73,_0x2502e0,_0x155d80){super(AWS,_0x570702,_0x1a2e73,_0x2502e0,_0x155d80);}async[a0_0xf60e1c(0x107)](){const _0xb46586=a0_0xf60e1c;await super['init']();const _0x428c50={};return _0x428c50[_0xb46586(0x104)]=global_registry['clusterRegion'],_0x428c50[_0xb46586(0xbd)]=global_registry[_0xb46586(0xf3)],_0x428c50[_0xb46586(0x164)]=global_registry[_0xb46586(0x10d)],awsSDK['config'][_0xb46586(0xd2)](_0x428c50),this;}async['sendResourceDataToHST'](){const _0x32729b=a0_0xf60e1c,_0x5da938={'jjbzL':function(_0x4541dd,_0x23d64e){return _0x4541dd(_0x23d64e);}};_0x5da938['jjbzL'](sendAWSInfoToHST,this[_0x32729b(0x113)]);}async[a0_0xf60e1c(0x185)](_0xc95736){const _0x4f7647=a0_0xf60e1c;global_registry['cloudProviderAccessKey']=_0xc95736[this[_0x4f7647(0x1cd)]][_0x4f7647(0x1db)],global_registry['cloudProviderSecretKey']=_0xc95736[this['cloudProviderName']]['secret'];}[a0_0xf60e1c(0xd0)](_0x57dd5c){const _0x14d036=a0_0xf60e1c;return _0x57dd5c[_0x14d036(0xea)][_0x14d036(0x1ce)][_0x14d036(0xbb)][0x0][_0x14d036(0x118)];}async['isBrowserstackCluster'](){const _0x36e9bb=a0_0xf60e1c,_0x2b8c98={'zvOJv':function(_0x4ea275,_0x55c354){return _0x4ea275(_0x55c354);},'enJal':function(_0x5260ca,_0x1dc87f){return _0x5260ca===_0x1dc87f;},'ywyxG':_0x36e9bb(0x11e),'wcOkW':function(_0x2873f1,_0x3916f7){return _0x2873f1!==_0x3916f7;},'giJjh':_0x36e9bb(0x20f),'EbZHV':function(_0xe81db8,_0x2ba6f8){return _0xe81db8===_0x2ba6f8;},'jsPuX':'browserstack:managedBy','CzshD':'browserstack','fOsoD':_0x36e9bb(0xd1),'ySXJX':_0x36e9bb(0x105)};try{if(_0x2b8c98[_0x36e9bb(0x167)](_0x2b8c98[_0x36e9bb(0x111)],_0x2b8c98[_0x36e9bb(0x111)])){const _0x29b435=await this[_0x36e9bb(0x177)]();if(_0x29b435['cluster']){if(_0x2b8c98[_0x36e9bb(0x17f)](_0x2b8c98[_0x36e9bb(0x1f3)],_0x2b8c98[_0x36e9bb(0x1f3)]))return _0x4f6f2f[_0x36e9bb(0xea)]['loadBalancer'][_0x36e9bb(0xbb)][0x0]['hostname'];else{const _0x78cb7d=_0x29b435[_0x36e9bb(0x1ba)][_0x36e9bb(0x143)];return _0x78cb7d&&_0x2b8c98['EbZHV'](_0x78cb7d[_0x2b8c98[_0x36e9bb(0x127)]][_0x36e9bb(0x20d)](),_0x2b8c98[_0x36e9bb(0xe4)]);}}}else _0x25d0d3[_0x36e9bb(0x1a9)][_0x36e9bb(0x1d0)](this[_0x36e9bb(0x112)])&&_0x2b8c98[_0x36e9bb(0x190)](_0x4c824c,!![]),_0x2b8c98[_0x36e9bb(0x190)](_0x4ee453,![]);}catch(_0x563903){return _0x2b8c98['wcOkW'](_0x2b8c98[_0x36e9bb(0x11a)],_0x2b8c98['ySXJX'])?![]:!![];}return![];}async[a0_0xf60e1c(0x179)](){const _0x51137d=a0_0xf60e1c;return this[_0x51137d(0x1df)]();}async[a0_0xf60e1c(0x177)](){const _0x3f80fd=a0_0xf60e1c,_0x185725={};_0x185725[_0x3f80fd(0xbe)]=_0x3f80fd(0x155);const _0xb81a17=_0x185725,_0x422ef8={};_0x422ef8[_0x3f80fd(0xfd)]=_0xb81a17[_0x3f80fd(0xbe)];const _0x42beb1=new awsSDK[(_0x3f80fd(0x14d))](_0x422ef8),_0x2418cd={};return _0x2418cd['name']=this[_0x3f80fd(0x112)],_0x42beb1[_0x3f80fd(0x160)](_0x2418cd)[_0x3f80fd(0x14b)]();}async[a0_0xf60e1c(0xb7)](_0x157cbe){const _0x11d421=a0_0xf60e1c,_0x4521ee={};_0x4521ee[_0x11d421(0x19e)]=_0x11d421(0x15b),_0x4521ee[_0x11d421(0x217)]=_0x11d421(0x1f0),_0x4521ee[_0x11d421(0x140)]=_0x11d421(0x13a),_0x4521ee['oTbAY']=_0x11d421(0x18d);const _0x341968=_0x4521ee,_0x971007=await fs[_0x11d421(0x1c8)](path[_0x11d421(0x13b)](__dirname,'..',_0x341968[_0x11d421(0x19e)],_0x341968['Yqmjn']),_0x341968[_0x11d421(0x140)]),_0x3dc59c=yaml[_0x11d421(0x131)](_0x971007);return _0x3dc59c[_0x11d421(0x19a)][_0x11d421(0xfb)]=_0x3dc59c['data'][_0x11d421(0xfb)][_0x11d421(0x12c)](_0x341968[_0x11d421(0x146)],_0x157cbe),_0x3dc59c;}async[a0_0xf60e1c(0x1b4)](_0x4718d5){const _0x439e3c=a0_0xf60e1c,_0x11a84d={};_0x11a84d[_0x439e3c(0xf6)]='2017-11-01';const _0x33dca9=_0x11a84d,_0x10a612={};_0x10a612[_0x439e3c(0xfd)]=_0x33dca9[_0x439e3c(0xf6)];const _0x41b40e=new awsSDK[(_0x439e3c(0x14d))](_0x10a612),_0x2b891e={};return _0x2b891e[_0x439e3c(0x112)]=this[_0x439e3c(0x112)],_0x2b891e['nodegroupName']=_0x4718d5,_0x41b40e['describeNodegroup'](_0x2b891e)['promise']();}async[a0_0xf60e1c(0x1df)](){const _0x52df0c=a0_0xf60e1c,_0x4d3ad1={'NVrsE':function(_0x3008dc,_0x300026){return _0x3008dc(_0x300026);},'hmYtB':function(_0x13baf5,_0x5898b7){return _0x13baf5===_0x5898b7;},'jzmWl':_0x52df0c(0x1d2),'hZdVM':'ygkSd','rnYoz':_0x52df0c(0x1a2),'pidIV':_0x52df0c(0xff),'buEiT':function(_0x29da88,_0x397acd){return _0x29da88!==_0x397acd;},'WEJNL':_0x52df0c(0x16f),'ydFPH':function(_0x19d473,_0x342fb9){return _0x19d473(_0x342fb9);},'FCHJT':_0x52df0c(0x155),'rZblr':_0x52df0c(0xf1)};return new Promise((_0x5af4d8,_0x394617)=>{const _0x72dec5=_0x52df0c,_0x23ed70={'wgLTy':function(_0x11ec28,_0x2d4baa){const _0x2f8b8a=a0_0x3bee;return _0x4d3ad1[_0x2f8b8a(0x1dd)](_0x11ec28,_0x2d4baa);},'AYMbW':function(_0x5de5b1,_0x152e8b){const _0x520835=a0_0x3bee;return _0x4d3ad1[_0x520835(0x18a)](_0x5de5b1,_0x152e8b);},'kFUNl':_0x4d3ad1['jzmWl'],'mrPis':_0x4d3ad1[_0x72dec5(0x150)],'tQwCT':_0x4d3ad1[_0x72dec5(0x1c0)],'ewKSe':_0x4d3ad1[_0x72dec5(0x1f5)],'kDReF':function(_0x1048f3,_0xbca44a){const _0xcbc7b8=_0x72dec5;return _0x4d3ad1[_0xcbc7b8(0x1dd)](_0x1048f3,_0xbca44a);},'piSIW':function(_0x622a45,_0x426606){const _0x44d54f=_0x72dec5;return _0x4d3ad1[_0x44d54f(0x213)](_0x622a45,_0x426606);},'EeVwQ':_0x4d3ad1[_0x72dec5(0x1f6)],'nQQnQ':function(_0x5c9db1,_0x58bfee){const _0x473c0b=_0x72dec5;return _0x4d3ad1[_0x473c0b(0x1dd)](_0x5c9db1,_0x58bfee);},'gIdCL':function(_0x59ac9e,_0x28946e){const _0x566c19=_0x72dec5;return _0x4d3ad1[_0x566c19(0xc4)](_0x59ac9e,_0x28946e);},'uihzu':_0x4d3ad1[_0x72dec5(0x176)]};if(_0x4d3ad1[_0x72dec5(0x18a)](_0x4d3ad1[_0x72dec5(0x214)],_0x4d3ad1['rZblr'])){const _0xffa4f2={};_0xffa4f2[_0x72dec5(0xfd)]=_0x4d3ad1[_0x72dec5(0x176)];const _0x5cea7b=new awsSDK[(_0x72dec5(0x14d))](_0xffa4f2);_0x5cea7b['listClusters']()[_0x72dec5(0x14b)]()[_0x72dec5(0x1f2)](_0x51f75e=>{const _0x264843=_0x72dec5;if(_0x23ed70['AYMbW'](_0x23ed70[_0x264843(0xcb)],_0x23ed70['mrPis'])){const _0x5ccc44=[],_0x2f9a19=[];_0xa3cb91['Subnets'][_0x264843(0x20c)](_0xf719f8=>{const _0x74b4b1=_0x264843;_0x5ccc44[_0x74b4b1(0x19d)](_0xf719f8['SubnetId']);});const _0x391e30=_0x1f4942[_0x264843(0xe9)](_0x44f206=>{const _0x2651cd=_0x264843;if(_0x5ccc44[_0x2651cd(0x1d0)](_0x44f206[_0x2651cd(0x1c1)]))return!![];return _0x2f9a19['push'](_0x44f206),![];});_0x23ed70[_0x264843(0x110)](_0x1e6a18,[_0x391e30,_0x2f9a19]);}else _0x51f75e[_0x264843(0x1a9)][_0x264843(0x1d0)](this[_0x264843(0x112)])&&(_0x23ed70[_0x264843(0x109)](_0x23ed70[_0x264843(0x17e)],_0x23ed70[_0x264843(0x1aa)])?_0x563fb4[_0x264843(0x116)](_0x264843(0x1bb)+_0x5bb852[_0x264843(0x1c1)]+':',_0xa743bc):_0x23ed70[_0x264843(0x110)](_0x5af4d8,!![])),_0x23ed70[_0x264843(0x110)](_0x5af4d8,![]);})[_0x72dec5(0x212)](_0x19a641=>{const _0x5a295f=_0x72dec5;_0x23ed70[_0x5a295f(0xf0)](_0x23ed70['EeVwQ'],_0x23ed70['EeVwQ'])?(_0x4c246b[_0x5a295f(0x116)](_0x5a295f(0x18b)+_0x30ffc2+_0x5a295f(0xd4)+_0x1a0963['clusterRegion']+_0x5a295f(0x1ed)),_0x23ed70['kDReF'](_0x474280,![])):(logger['error'](_0x19a641),_0x23ed70['nQQnQ'](_0x394617,_0x19a641));});}else{const _0x2804ea={'VNpmv':function(_0x4b0425,_0x5ba2fe){const _0x158668=_0x72dec5;return _0x23ed70[_0x158668(0x110)](_0x4b0425,_0x5ba2fe);},'YNkQw':function(_0x1caa6e,_0x2d2535){const _0x1c14e1=_0x72dec5;return _0x23ed70[_0x1c14e1(0x1c5)](_0x1caa6e,_0x2d2535);}},_0x42919d={};_0x42919d['apiVersion']=_0x23ed70['uihzu'];const _0x1423b1=new _0x5ee779[(_0x72dec5(0x14d))](_0x42919d);_0x1423b1['listClusters']()[_0x72dec5(0x14b)]()[_0x72dec5(0x1f2)](_0x35fcc7=>{const _0x1cbbfb=_0x72dec5;_0x35fcc7[_0x1cbbfb(0x1a9)][_0x1cbbfb(0x1d0)](this[_0x1cbbfb(0x112)])&&_0x2804ea[_0x1cbbfb(0x216)](_0x6c8469,!![]),_0x2804ea[_0x1cbbfb(0x219)](_0x597d39,![]);})[_0x72dec5(0x212)](_0x4081f4=>{_0x1f1d35['error'](_0x4081f4),_0x2804ea['YNkQw'](_0x5488ec,_0x4081f4);});}});}async['getUserInput'](_0x539b46,_0x3d2e92){const _0x539783=a0_0xf60e1c,_0x2064d8={'LHtHx':function(_0x528ee1,_0x50d1f8){return _0x528ee1(_0x50d1f8);},'dxRqM':function(_0x5624ab,_0x18b8b6){return _0x5624ab(_0x18b8b6);}},_0x5e2c56=this[_0x539783(0x1cd)][_0x539783(0xe5)](),_0x547fae=await _0x2064d8[_0x539783(0x1c2)](_0x539b46,_0x5e2c56+_0x539783(0xd9)),_0x386fd4=await _0x2064d8[_0x539783(0x192)](_0x539b46,_0x5e2c56+_0x539783(0x159));global_registry[_0x539783(0xf3)]=_0x547fae,global_registry[_0x539783(0x10d)]=_0x386fd4;const _0x512cc8={};return _0x512cc8['accessKey']=_0x547fae,_0x512cc8[_0x539783(0xfe)]=_0x386fd4,_0x3d2e92['cloudProvider'][AWS]=_0x512cc8,_0x3d2e92;}async['getKubeConfigData'](){const _0x4a13aa=a0_0xf60e1c,_0x4dabc2={'kpKqr':function(_0x1fe9de){return _0x1fe9de();},'cKYSb':_0x4a13aa(0x1a6),'bHSsy':_0x4a13aa(0x15b),'MnJhU':_0x4a13aa(0x133)},_0x82fb8=_0x4dabc2['kpKqr'](getDirForConfig),_0x2c34bf=await this['getClusterInfo'](),_0x876274=path[_0x4a13aa(0x13b)](_0x82fb8,_0x4dabc2[_0x4a13aa(0x16a)]),_0x20b358=_0x4a13aa(0x13f)+global_registry[_0x4a13aa(0xf3)]+'\x0aaws_secret_access_key\x20=\x20'+global_registry[_0x4a13aa(0x10d)];fs[_0x4a13aa(0x120)](_0x876274,_0x20b358);let _0x154143=await fs[_0x4a13aa(0x1c8)](path[_0x4a13aa(0x13b)](__dirname,'..',_0x4dabc2['bHSsy'],_0x4dabc2[_0x4a13aa(0x102)]));return _0x154143=_0x154143[_0x4a13aa(0x18f)](),_0x154143=_0x154143[_0x4a13aa(0x12c)](/<CLUSTER_NAME>/g,this[_0x4a13aa(0x112)]),_0x154143=_0x154143['replace'](/<CLUSTER_URL>/g,_0x2c34bf[_0x4a13aa(0x1ba)][_0x4a13aa(0x196)]),_0x154143=_0x154143['replace'](/<CERTIFICATE_DATA>/g,_0x2c34bf['cluster'][_0x4a13aa(0x20a)][_0x4a13aa(0x19a)]),_0x154143=_0x154143[_0x4a13aa(0x12c)](/<CLUSTER_REGION>/g,global_registry['clusterRegion']),_0x154143=_0x154143[_0x4a13aa(0x12c)](/<CLUSTER_NAME_USER>/g,IAM_USER_NAME),_0x154143=_0x154143[_0x4a13aa(0x12c)](/<CLOUD_PROVIDER_ACCESS_KEY>/g,global_registry[_0x4a13aa(0xf3)]),_0x154143=_0x154143[_0x4a13aa(0x12c)](/<CLOUD_PROVIDER_SECRET>/g,global_registry[_0x4a13aa(0x10d)]),_0x154143=_0x154143[_0x4a13aa(0x12c)](/<AWS_CONFIG_FILE_PATH>/g,_0x876274),_0x154143;}async[a0_0xf60e1c(0x108)](_0x45a810=null,_0x37555c=null){const _0x4026ef=a0_0xf60e1c,_0x3f6668={'VcuTM':_0x4026ef(0x155),'fkyEI':_0x4026ef(0xdf),'XyRmF':_0x4026ef(0x121),'ZYjjL':function(_0x5e0d39,_0x4026f5,_0x4d4e48,_0x1d5811,_0x16649e,_0x5c5906){return _0x5e0d39(_0x4026f5,_0x4d4e48,_0x1d5811,_0x16649e,_0x5c5906);},'lFOoR':_0x4026ef(0x172),'McxQI':function(_0x133568,_0x545884){return _0x133568===_0x545884;},'pdeuZ':function(_0x45c6b7,_0x545206){return _0x45c6b7===_0x545206;},'wvnfe':function(_0x474883,_0x19db84){return _0x474883!==_0x19db84;},'EYmcQ':_0x4026ef(0x11d),'ULjkw':_0x4026ef(0x218)},_0x551f3b={};_0x551f3b[_0x4026ef(0x132)]=WS_EVENTS['LOG'],_0x551f3b[_0x4026ef(0x123)]=_0x3f6668['fkyEI'],this[_0x4026ef(0x1a7)][_0x4026ef(0x1dc)](this[_0x4026ef(0x113)],_0x551f3b),logger[_0x4026ef(0x187)](_0x3f6668[_0x4026ef(0xc7)]);const _0x570b74=global_registry[_0x4026ef(0x1c6)],_0x187e2=global_registry[_0x4026ef(0x166)],_0x5040a1=await _0x3f6668[_0x4026ef(0x165)](createClusterStack,this['clusterName'],_0x570b74,_0x187e2,_0x45a810,_0x37555c),_0x464ad2=_0x5040a1[_0x4026ef(0x114)][0x0][_0x4026ef(0xf8)][0x0][_0x4026ef(0x18c)][_0x4026ef(0x138)](','),_0x52d4b0=_0x5040a1['Stacks'][0x0][_0x4026ef(0xf8)][0x1][_0x4026ef(0x18c)],_0x520865=_0x5040a1[_0x4026ef(0x114)][0x0][_0x4026ef(0xf8)][0x3][_0x4026ef(0x18c)],_0x182a29=_0x5040a1[_0x4026ef(0x114)][0x0]['Outputs'][0x4][_0x4026ef(0x18c)];logger[_0x4026ef(0x187)](_0x3f6668[_0x4026ef(0x152)]),logger[_0x4026ef(0x187)](_0x4026ef(0x1fb)+_0x520865+'\x20'),logger[_0x4026ef(0x187)](_0x4026ef(0x1e5)+_0x52d4b0+'\x20'),logger['info'](_0x4026ef(0x16b)+_0x464ad2+'\x20'),logger[_0x4026ef(0x187)](_0x4026ef(0x15e)+_0x182a29+'\x20');let _0x1b4c72='Following\x20resources\x20are\x20created:\x20Cluster\x20=>\x20'+_0x520865+_0x4026ef(0x16c)+_0x52d4b0+',\x20SecurityGroups\x20=>\x20'+_0x464ad2+_0x4026ef(0x1f9)+_0x182a29;if(_0x3f6668['McxQI'](_0x45a810,null)&&_0x3f6668[_0x4026ef(0x201)](_0x37555c,null)){if(_0x3f6668[_0x4026ef(0x17d)](_0x3f6668['EYmcQ'],_0x3f6668[_0x4026ef(0x130)])){const _0x5e9a3e={};_0x5e9a3e[_0x4026ef(0x186)]=_0x2d607e,_0x5e9a3e['value']=_0x28f771,_0x3e71b2[_0x4026ef(0x19d)](_0x5e9a3e);}else{const _0x1d42a0=_0x5040a1['Stacks'][0x0][_0x4026ef(0xf8)][0x2][_0x4026ef(0x18c)],_0x56f9c0=_0x5040a1['Stacks'][0x0][_0x4026ef(0xf8)][0x5][_0x4026ef(0x18c)][_0x4026ef(0x138)](',');_0x45a810=_0x1d42a0;const _0x59116a=[];for(const _0x241d52 of _0x56f9c0){if(_0x3f6668['wvnfe'](_0x3f6668[_0x4026ef(0xe0)],_0x3f6668[_0x4026ef(0xe0)])){const _0x1bf72f={};_0x1bf72f['apiVersion']=_0x3f6668[_0x4026ef(0x1c9)];const _0x302895=new _0x2f9cb3[(_0x4026ef(0x14d))](_0x1bf72f),_0x41950f={};return _0x41950f[_0x4026ef(0x112)]=this[_0x4026ef(0x112)],_0x41950f[_0x4026ef(0x17a)]=_0x458e55,_0x302895[_0x4026ef(0x169)](_0x41950f)[_0x4026ef(0x14b)]();}else{const _0x32046b={};_0x32046b[_0x4026ef(0x186)]=_0x241d52,_0x32046b[_0x4026ef(0x1c1)]=_0x241d52,_0x59116a[_0x4026ef(0x19d)](_0x32046b);}}_0x37555c=_0x59116a,logger['info'](_0x4026ef(0x1cc)+_0x1d42a0+'\x20'),logger[_0x4026ef(0x187)](_0x4026ef(0x207)+_0x56f9c0+'\x20'),_0x1b4c72+=_0x4026ef(0x163)+_0x1d42a0+',\x20Subnets\x20=>\x20'+_0x56f9c0+',\x20';}}const _0x4a6bdd={};return _0x4a6bdd['type']=WS_EVENTS[_0x4026ef(0xdc)],_0x4a6bdd['message']=_0x1b4c72,this[_0x4026ef(0x1a7)][_0x4026ef(0x1dc)](this[_0x4026ef(0x113)],_0x4a6bdd),[_0x45a810,_0x37555c];}async['deleteCluster'](_0x503195,_0x49141b){const _0x4e1393=a0_0xf60e1c,_0x297f2e={'PnELF':function(_0x2ea5c0,_0x4a6b49){return _0x2ea5c0(_0x4a6b49);},'AJSmO':function(_0x211d94,_0x1d2cf5){return _0x211d94(_0x1d2cf5);},'yBtoF':function(_0x2a61aa,_0x135cbe,_0x3482d6){return _0x2a61aa(_0x135cbe,_0x3482d6);}};await _0x297f2e['PnELF'](deleteAgent,_0x503195),await _0x297f2e[_0x4e1393(0x157)](deleteRoutingDeps,_0x503195),await _0x297f2e[_0x4e1393(0x208)](deleteClusterAndDependencies,_0x49141b,this[_0x4e1393(0x112)]);}async['setupAutoscaler'](_0x41c3f3,_0xf7920b){const _0x2f3ea1=a0_0xf60e1c,_0x11585a={'BoNJo':function(_0x1720e1,_0x55d610){return _0x1720e1(_0x55d610);},'lrRAo':function(_0x425e90,_0x55ef9d){return _0x425e90===_0x55ef9d;},'zzwrM':_0x2f3ea1(0x206),'MVhxi':_0x2f3ea1(0x188),'rOLJb':function(_0x51943c,_0xe6d5b4){return _0x51943c!==_0xe6d5b4;},'ZDcvz':_0x2f3ea1(0x1e0),'tZypK':_0x2f3ea1(0x154),'XpGth':_0x2f3ea1(0xc3),'BAhLw':function(_0x8ac1dc,_0x1547ae){return _0x8ac1dc===_0x1547ae;},'EVptb':_0x2f3ea1(0xce),'xpSuz':_0x2f3ea1(0x1ea),'BxNNQ':function(_0x32595b,_0x596db6){return _0x32595b(_0x596db6);},'pqVvF':_0x2f3ea1(0x1f4),'RSQNc':_0x2f3ea1(0x182),'KrKSY':function(_0x4841cc,_0x464614){return _0x4841cc!==_0x464614;},'baVKT':_0x2f3ea1(0x1fd),'zKcWm':function(_0x5ee503,_0x566cdd,_0x5339a6,_0x507bb9,_0x8fea50,_0x4846fc,_0x4e0389,_0xcfb7e2){return _0x5ee503(_0x566cdd,_0x5339a6,_0x507bb9,_0x8fea50,_0x4846fc,_0x4e0389,_0xcfb7e2);},'oCfbK':_0x2f3ea1(0x144),'kSsuE':_0x2f3ea1(0x19f),'ctFGK':_0x2f3ea1(0x124),'uatSP':_0x2f3ea1(0x1bc),'IRPSY':_0x2f3ea1(0x1e8),'BCJcg':function(_0x2a9b49,_0x3ffe0a,_0x28fcbf,_0x15a9a9,_0x2d2c1a,_0x2edc16,_0x2c14ab,_0x5d5482){return _0x2a9b49(_0x3ffe0a,_0x28fcbf,_0x15a9a9,_0x2d2c1a,_0x2edc16,_0x2c14ab,_0x5d5482);},'pPwpw':_0x2f3ea1(0x137),'ZUJws':_0x2f3ea1(0x116),'DcLzM':function(_0x191c29,_0x2e2a5e,_0x75a7f7){return _0x191c29(_0x2e2a5e,_0x75a7f7);},'wtEKq':_0x2f3ea1(0xf9)};let _0x5a73a,_0x490681;const _0x5f19c0={};_0x5f19c0[_0x2f3ea1(0x132)]=WS_EVENTS[_0x2f3ea1(0xdc)],_0x5f19c0[_0x2f3ea1(0x123)]=_0x11585a[_0x2f3ea1(0x1d4)],this[_0x2f3ea1(0x1a7)][_0x2f3ea1(0x1dc)](this[_0x2f3ea1(0x113)],_0x5f19c0),logger[_0x2f3ea1(0x187)](_0x11585a['XpGth']);try{if(_0x11585a[_0x2f3ea1(0x209)](_0x11585a['EVptb'],_0x11585a[_0x2f3ea1(0x134)]))_0x416f01[_0x2f3ea1(0xf3)]=_0x2d2ae3[this['cloudProviderName']]['accessKey'],_0x24f252[_0x2f3ea1(0x10d)]=_0x65400c[this[_0x2f3ea1(0x1cd)]][_0x2f3ea1(0xfe)];else{const _0xf1feb5=await _0x11585a[_0x2f3ea1(0x117)](createAutoscalerStack,this[_0x2f3ea1(0x112)]);_0x490681=_0xf1feb5[_0x2f3ea1(0x114)][0x0][_0x2f3ea1(0xf8)][0x2][_0x2f3ea1(0x18c)];const _0x18e319={};_0x18e319[_0x2f3ea1(0x132)]=WS_EVENTS['LOG'],_0x18e319[_0x2f3ea1(0x123)]=_0x2f3ea1(0x156)+_0x490681+'\x20',this[_0x2f3ea1(0x1a7)][_0x2f3ea1(0x1dc)](this[_0x2f3ea1(0x113)],_0x18e319),logger[_0x2f3ea1(0x187)]('Autoscaler\x20Role\x20created.ARN:\x20'+_0x490681+'\x20');}}catch(_0x4be1cd){if(_0x11585a[_0x2f3ea1(0x135)](_0x11585a['pqVvF'],_0x11585a['RSQNc'])){if(_0x4be1cd?.[_0x2f3ea1(0x123)]&&_0x4be1cd['message']['match'](/already exists/))_0x11585a[_0x2f3ea1(0xc8)](_0x11585a[_0x2f3ea1(0x1f1)],_0x11585a[_0x2f3ea1(0x1f1)])?_0x11585a[_0x2f3ea1(0x128)](_0x38ce5a,this[_0x2f3ea1(0x113)]):(_0x5a73a=_0x2f3ea1(0xe2)+_0x4be1cd['message'],await _0x11585a['zKcWm'](reportToGalactusAndSendToEDS,_0xf7920b,this[_0x2f3ea1(0x113)],_0x5a73a,messageTypes['WARNING'],_0x11585a[_0x2f3ea1(0xf4)],_0x11585a[_0x2f3ea1(0x1eb)],_0x11585a['ctFGK']),logger[_0x2f3ea1(0x11c)](_0x5a73a));else{if(_0x11585a[_0x2f3ea1(0x136)](_0x11585a[_0x2f3ea1(0xb6)],_0x11585a[_0x2f3ea1(0xb6)])){const _0xa0ac5f=_0x11585a[_0x2f3ea1(0xe6)][_0x2f3ea1(0x138)]('|');let _0x5c8ae1=0x0;while(!![]){switch(_0xa0ac5f[_0x5c8ae1++]){case'0':await _0x11585a[_0x2f3ea1(0x13c)](reportToGalactusAndSendToEDS,_0xf7920b,this[_0x2f3ea1(0x113)],_0x5a73a,messageTypes[_0x2f3ea1(0x189)],_0x11585a[_0x2f3ea1(0xf4)],_0x11585a[_0x2f3ea1(0xd3)],_0x11585a[_0x2f3ea1(0x1ff)]);continue;case'1':await _0x11585a[_0x2f3ea1(0xcf)](deleteClusterAndDependencies,global_registry[_0x2f3ea1(0x16d)],this[_0x2f3ea1(0x112)]);continue;case'2':process[_0x2f3ea1(0x171)](0x1);continue;case'3':_0x5a73a='Unable\x20to\x20spawn\x20Autoscaler\x20due\x20to:\x20'+_0x4be1cd?.[_0x2f3ea1(0x123)]+_0x2f3ea1(0x106);continue;case'4':logger['error'](_0x5a73a);continue;}break;}}else{const _0x10fb0b=_0x46144b[_0x2f3ea1(0x1ba)][_0x2f3ea1(0x143)];return _0x10fb0b&&_0x11585a[_0x2f3ea1(0x136)](_0x10fb0b[_0x11585a[_0x2f3ea1(0xb5)]][_0x2f3ea1(0x20d)](),_0x11585a[_0x2f3ea1(0x14e)]);}}}else _0x11585a[_0x2f3ea1(0x128)](_0x1a6392,!![]);}const _0x188560=await this[_0x2f3ea1(0x1b4)](this[_0x2f3ea1(0x112)]+_0x2f3ea1(0x1d8)),_0x293b14=_0x188560[_0x2f3ea1(0x20b)]['nodeRole'],_0xcb3f9e=await this[_0x2f3ea1(0xb7)](_0x293b14),_0x3a2447={};return _0x3a2447[_0x2f3ea1(0x1ac)]=_0x11585a[_0x2f3ea1(0x148)],_0x3a2447[_0x2f3ea1(0x1ec)]=_0xcb3f9e,await _0x41c3f3['createNamespacedConfigMap'](_0x3a2447)[_0x2f3ea1(0x212)](_0x396a5b=>{const _0x37c1c5=_0x2f3ea1;if(_0x11585a[_0x37c1c5(0x135)](_0x11585a[_0x37c1c5(0x1d6)],_0x11585a[_0x37c1c5(0x1d6)]))return _0x2cbb1c[_0x29e98f[_0x37c1c5(0xec)]]=_0x1185a1['OutputValue'],_0x24a908;else logger[_0x37c1c5(0x187)](_0x11585a['tZypK']);}),_0x490681;}async['setupHubHa'](_0x251112,_0x187343,_0x1d90e9,_0x5d98a6,_0x19b89c){const _0xdc66f3=a0_0xf60e1c,_0x29d5b1={'kOTbH':function(_0xd5cdc8,_0x26ad28){return _0xd5cdc8!==_0x26ad28;},'yEchR':_0xdc66f3(0x20e),'xMsTZ':function(_0x386df6,_0x335034){return _0x386df6(_0x335034);},'Roncn':_0xdc66f3(0x155),'NqCCc':_0xdc66f3(0xf7),'LAikG':_0xdc66f3(0x1be),'qBebP':_0xdc66f3(0x16e),'HDRQX':_0xdc66f3(0x145),'xGNWL':'Creating\x20required\x20dependencies\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','nreWd':function(_0x34e8e4,_0x3152ec,_0xcf115a){return _0x34e8e4(_0x3152ec,_0xcf115a);},'fxwYe':'EFSControllerRoleArn','rZRKi':_0xdc66f3(0x1b3),'pgUnR':'EFSSecurityGroup','obLKO':'Following\x20resources\x20are\x20created:','Cdikv':'Mounting\x20Target\x20for\x20EFS','gPxsP':'Creating\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','efJPN':_0xdc66f3(0x1e6),'dsRIO':_0xdc66f3(0x15b),'ZNHxh':_0xdc66f3(0xcd),'NSQrI':_0xdc66f3(0x122),'CQTNT':_0xdc66f3(0x13a),'LAAUb':function(_0x9836c5,_0x403dd1,_0x1450d3){return _0x9836c5(_0x403dd1,_0x1450d3);},'OyAzo':_0xdc66f3(0x12d),'HCnqY':_0xdc66f3(0x151),'Bhcxe':_0xdc66f3(0xcc),'meCfn':_0xdc66f3(0xc6),'MXGsW':_0xdc66f3(0x1bd),'AYtNE':_0xdc66f3(0xc0),'Ukopf':function(_0x35fe6b,_0x4e0f06){return _0x35fe6b!==_0x4e0f06;},'BrbqB':_0xdc66f3(0x149),'CQoLc':_0xdc66f3(0x15d),'pjDFb':'0|1|4|2|3','otATk':function(_0x319448,_0x470018,_0x5938c4,_0x280316,_0x50b7c3,_0x138e9b,_0x2811f3,_0x5e2d1f){return _0x319448(_0x470018,_0x5938c4,_0x280316,_0x50b7c3,_0x138e9b,_0x2811f3,_0x5e2d1f);},'tKIOa':_0xdc66f3(0x144),'qZmOf':_0xdc66f3(0x199),'pZprJ':_0xdc66f3(0x116),'KapTg':function(_0x31721d,_0xb40b31,_0x21e8d3){return _0x31721d(_0xb40b31,_0x21e8d3);}};logger[_0xdc66f3(0x187)](_0x29d5b1['NqCCc']);let _0x856676;try{if(_0x29d5b1['kOTbH'](_0x29d5b1['LAikG'],_0x29d5b1[_0xdc66f3(0x1c4)])){const _0x400430={};_0x400430[_0xdc66f3(0x132)]=WS_EVENTS['LOG'],_0x400430['message']=_0x29d5b1['HDRQX'],this[_0xdc66f3(0x1a7)][_0xdc66f3(0x1dc)](this[_0xdc66f3(0x113)],_0x400430),logger[_0xdc66f3(0x187)](_0x29d5b1[_0xdc66f3(0x11b)]);const _0x81ed57=await _0x29d5b1[_0xdc66f3(0x15a)](createHubHaStack,this[_0xdc66f3(0x112)],_0x5d98a6),_0x320fbd=_0x81ed57[_0xdc66f3(0x114)][0x0][_0xdc66f3(0xf8)][_0xdc66f3(0xde)]((_0x3cc438,_0x2a6dbe)=>{const _0x116422=_0xdc66f3;if(_0x29d5b1[_0x116422(0xc9)](_0x29d5b1[_0x116422(0xe7)],_0x29d5b1[_0x116422(0xe7)]))_0x5f3ee1['push'](_0x3065cb['SubnetId']);else return _0x3cc438[_0x2a6dbe[_0x116422(0xec)]]=_0x2a6dbe[_0x116422(0x18c)],_0x3cc438;},{}),_0x4a6275=_0x320fbd[_0x29d5b1['fxwYe']],_0x4b3601=_0x320fbd[_0x29d5b1['rZRKi']],_0x3406f5=_0x320fbd[_0x29d5b1[_0xdc66f3(0xc1)]];logger[_0xdc66f3(0x187)](_0x29d5b1[_0xdc66f3(0x204)]),logger[_0xdc66f3(0x187)](_0xdc66f3(0x101)+_0x4a6275),logger[_0xdc66f3(0x187)](_0xdc66f3(0x12b)+_0x3406f5),logger[_0xdc66f3(0x187)](_0xdc66f3(0x200)+_0x4b3601),_0x856676=_0xdc66f3(0x1ae)+_0x4a6275+_0xdc66f3(0xb9)+_0x3406f5+',\x20EFS_FileSystem\x20=>\x20'+_0x4b3601,logger[_0xdc66f3(0x187)](_0x29d5b1['Cdikv']),await this[_0xdc66f3(0x1ca)](_0x19b89c,_0x3406f5,_0x4b3601);const _0x4c02ac={};_0x4c02ac[_0xdc66f3(0x132)]=WS_EVENTS['LOG'],_0x4c02ac['message']=_0x856676,this[_0xdc66f3(0x1a7)][_0xdc66f3(0x1dc)](this[_0xdc66f3(0x113)],_0x4c02ac);const _0x52bc50={};_0x52bc50[_0xdc66f3(0x132)]=WS_EVENTS[_0xdc66f3(0xdc)],_0x52bc50[_0xdc66f3(0x123)]=_0x29d5b1[_0xdc66f3(0x1c3)],this[_0xdc66f3(0x1a7)][_0xdc66f3(0x1dc)](this['rws'],_0x52bc50),logger[_0xdc66f3(0x187)](_0x29d5b1[_0xdc66f3(0x13e)]);let _0x5ee6ab=await fs[_0xdc66f3(0x1c8)](path[_0xdc66f3(0x13b)](__dirname,'..',_0x29d5b1['dsRIO'],_0x29d5b1[_0xdc66f3(0xba)],_0x29d5b1['NSQrI']),_0x29d5b1[_0xdc66f3(0x170)]);_0x5ee6ab=_0x5ee6ab[_0xdc66f3(0x12c)](/<EfsCSIControllerARN>/g,_0x4a6275);const _0x48658a=yaml['loadAll'](_0x5ee6ab);await _0x29d5b1['LAAUb'](kubeApply,_0x48658a,_0x187343),logger[_0xdc66f3(0x187)](_0x29d5b1['OyAzo']),logger[_0xdc66f3(0x187)](_0x29d5b1[_0xdc66f3(0x180)]);const _0x4e4f14=await fs[_0xdc66f3(0x1c8)](path[_0xdc66f3(0x13b)](__dirname,'..',_0x29d5b1[_0xdc66f3(0x1f8)],_0x29d5b1['ZNHxh'],_0x29d5b1[_0xdc66f3(0x1a5)]),_0x29d5b1[_0xdc66f3(0x170)]),_0x408d80=yaml['load'](_0x4e4f14);_0x408d80[_0xdc66f3(0x11f)][_0x29d5b1[_0xdc66f3(0x10a)]]=_0x4b3601;const _0x39d3a6={};_0x39d3a6[_0xdc66f3(0x1ec)]=_0x408d80;const _0xa863bb=await _0x251112[_0xdc66f3(0x1b6)](_0x39d3a6);logger['info'](_0x29d5b1[_0xdc66f3(0x197)]);const _0x1ef746={};_0x1ef746['type']=WS_EVENTS[_0xdc66f3(0xdc)],_0x1ef746['message']=_0x29d5b1[_0xdc66f3(0x1d7)],this[_0xdc66f3(0x1a7)][_0xdc66f3(0x1dc)](this['rws'],_0x1ef746);}else _0x29d5b1[_0xdc66f3(0x211)](_0x10c22f,!![]);}catch(_0xa8e6a0){if(_0x29d5b1[_0xdc66f3(0xee)](_0x29d5b1[_0xdc66f3(0xef)],_0x29d5b1['CQoLc'])){const _0x123336=_0x29d5b1[_0xdc66f3(0x126)][_0xdc66f3(0x138)]('|');let _0x1d11d8=0x0;while(!![]){switch(_0x123336[_0x1d11d8++]){case'0':_0x856676=_0xdc66f3(0x1e9)+_0xa8e6a0[_0xdc66f3(0x123)];continue;case'1':await _0x29d5b1[_0xdc66f3(0xfa)](reportToGalactusAndSendToEDS,_0x1d90e9,this['rws'],_0x856676,messageTypes[_0xdc66f3(0x189)],_0x29d5b1['tKIOa'],_0x29d5b1['qZmOf'],_0x29d5b1[_0xdc66f3(0x162)]);continue;case'2':await _0x29d5b1[_0xdc66f3(0x18e)](deleteClusterAndDependencies,global_registry[_0xdc66f3(0x16d)],this[_0xdc66f3(0x112)]);continue;case'3':process[_0xdc66f3(0x171)](0x1);continue;case'4':logger[_0xdc66f3(0x116)](_0x856676);continue;}break;}}else{const _0x3ebb41={};_0x3ebb41['apiVersion']=_0x29d5b1[_0xdc66f3(0x1e3)];const _0xc6ca45=new _0x525eeb[(_0xdc66f3(0x14d))](_0x3ebb41),_0x4be918={};return _0x4be918[_0xdc66f3(0xe1)]=this[_0xdc66f3(0x112)],_0xc6ca45[_0xdc66f3(0x160)](_0x4be918)['promise']();}}}async['createMountTargets'](_0x40f07e,_0xb60483,_0x5b4638){const _0x16e602=a0_0xf60e1c,_0x18e95b={};_0x18e95b[_0x16e602(0xd6)]=function(_0x487b08,_0x3dbae4){return _0x487b08===_0x3dbae4;},_0x18e95b[_0x16e602(0x15f)]=_0x16e602(0x1da),_0x18e95b[_0x16e602(0x198)]=_0x16e602(0x10c),_0x18e95b[_0x16e602(0x10e)]=function(_0x11eb02,_0x584e4e){return _0x11eb02!==_0x584e4e;},_0x18e95b[_0x16e602(0x14a)]='ikyHq';const _0x396727=_0x18e95b,_0x433a8a={};_0x433a8a[_0x16e602(0x104)]=global_registry[_0x16e602(0x16d)];const _0x98db89=new awsSDK[(_0x16e602(0x17c))](_0x433a8a),_0x2803c6={};_0x2803c6['region']=global_registry['clusterRegion'];const _0x552a3b=new awsSDK[(_0x16e602(0x178))](_0x2803c6),_0x357826=new Set(),_0x5a81cc=[];for(const _0x2e380c of _0x40f07e){if(_0x396727[_0x16e602(0xd6)](_0x396727[_0x16e602(0x15f)],_0x396727['iCQBT'])){const _0x3d861a=_0x3b3dad['Stacks'][0x0][_0x16e602(0xf8)][0x2][_0x16e602(0x18c)],_0x5a3094=_0x2b143d[_0x16e602(0x114)][0x0]['Outputs'][0x5][_0x16e602(0x18c)][_0x16e602(0x138)](',');_0x15ec76=_0x3d861a;const _0x268dd4=[];for(const _0x4a211a of _0x5a3094){const _0x521d05={};_0x521d05[_0x16e602(0x186)]=_0x4a211a,_0x521d05[_0x16e602(0x1c1)]=_0x4a211a,_0x268dd4[_0x16e602(0x19d)](_0x521d05);}_0x1a70ae=_0x268dd4,_0x36ba95[_0x16e602(0x187)]('VPC\x20=>\x20'+_0x3d861a+'\x20'),_0x2509cb[_0x16e602(0x187)]('Subnets\x20=>\x20'+_0x5a3094+'\x20'),_0x5ab6dd+=',VPC\x20=>\x20'+_0x3d861a+_0x16e602(0xe3)+_0x5a3094+',\x20';}else{const _0x53ad8e=await this[_0x16e602(0x215)](_0x552a3b,_0x2e380c[_0x16e602(0x1c1)]);if(_0x357826[_0x16e602(0x205)](_0x53ad8e)){if(_0x396727[_0x16e602(0x10e)](_0x396727['gqEQk'],_0x396727[_0x16e602(0x14a)]))return this['checkClusterCreated']();else{logger[_0x16e602(0x187)](_0x16e602(0xfc)+_0x2e380c[_0x16e602(0x1c1)]+_0x16e602(0x1fe)+_0x53ad8e+'\x20has\x20already\x20been\x20used.');continue;}}_0x357826['add'](_0x53ad8e),_0x5a81cc[_0x16e602(0x19d)](this[_0x16e602(0xbf)](_0x98db89,_0x2e380c,_0xb60483,_0x5b4638));}}await Promise[_0x16e602(0xdd)](_0x5a81cc);}async[a0_0xf60e1c(0xbf)](_0x1fc444,_0x28111c,_0x3e24b2,_0x4500b9){const _0x3bc5a6=a0_0xf60e1c,_0x534396={'xyxdV':function(_0x28b765,_0x1747b2){return _0x28b765(_0x1747b2);},'awbJo':function(_0xbc4a2e,_0x404687){return _0xbc4a2e!==_0x404687;},'QHpqt':_0x3bc5a6(0x173),'krZUo':function(_0x3ab197,_0x3500c4){return _0x3ab197!==_0x3500c4;},'RuHyO':_0x3bc5a6(0xd5),'fHMQg':_0x3bc5a6(0x193)};try{if(_0x534396[_0x3bc5a6(0x1e2)](_0x534396['QHpqt'],_0x534396[_0x3bc5a6(0x10f)]))_0x24e20d[_0x3bc5a6(0x116)](_0x3bc5a6(0x13d)+_0x208da9+_0x3bc5a6(0xd4)+_0x321b65[_0x3bc5a6(0x16d)]+_0x3bc5a6(0x1e4)+_0x430044),_0x534396[_0x3bc5a6(0x168)](_0x9fca75,[![],[]]);else{const _0x254c98={};_0x254c98[_0x3bc5a6(0x1bf)]=_0x4500b9,_0x254c98['SubnetId']=_0x28111c['value'],_0x254c98[_0x3bc5a6(0xf2)]=[_0x3e24b2];const _0x338b0e=await _0x1fc444[_0x3bc5a6(0x1d5)](_0x254c98)['promise'](),_0x5f5cd9=_0x338b0e[_0x3bc5a6(0xed)];await this['waitForMountTarget'](_0x1fc444,_0x28111c['value'],_0x5f5cd9);}}catch(_0x155c13){_0x534396[_0x3bc5a6(0xbc)](_0x534396[_0x3bc5a6(0x153)],_0x534396['fHMQg'])?logger[_0x3bc5a6(0x116)](_0x3bc5a6(0x1bb)+_0x28111c[_0x3bc5a6(0x1c1)]+':',_0x155c13):(_0x95d1cc[_0x3bc5a6(0x116)](_0x51452e),_0x534396[_0x3bc5a6(0x168)](_0x445a21,_0xbd7e2c));}}async[a0_0xf60e1c(0xdb)](_0x136ab1,_0x18e27d,_0x4ed7cf){const _0x4a306d=a0_0xf60e1c,_0x4f023c={'iBeOh':function(_0x7bce3f,_0x1588f2){return _0x7bce3f(_0x1588f2);},'qQXvA':_0x4a306d(0x10b),'kIkmy':_0x4a306d(0x154),'IExiL':function(_0x4b977d,_0x491a12){return _0x4b977d!==_0x491a12;},'NMlIA':_0x4a306d(0xd8),'kskrZ':_0x4a306d(0x12f),'hALjX':_0x4a306d(0x174),'FDNEL':function(_0x56de59,_0x4f7bf6){return _0x56de59===_0x4f7bf6;},'TVGrm':_0x4a306d(0xd7),'wAlSi':'obEor','KxwKC':_0x4a306d(0xeb),'yQXPU':'hnUzj'};let _0x16f830='';while(_0x4f023c[_0x4a306d(0x141)](_0x16f830,_0x4f023c['NMlIA'])){if(_0x4f023c[_0x4a306d(0x141)](_0x4f023c[_0x4a306d(0x161)],_0x4f023c[_0x4a306d(0x1fa)])){const _0x3039df={};_0x3039df[_0x4a306d(0xed)]=_0x4ed7cf;const _0x383e8e=await _0x136ab1['describeMountTargets'](_0x3039df)[_0x4a306d(0x14b)]();_0x16f830=_0x383e8e[_0x4a306d(0x125)][0x0][_0x4a306d(0x195)];if(_0x4f023c[_0x4a306d(0x158)](_0x16f830,_0x4f023c[_0x4a306d(0x100)])){if(_0x4f023c[_0x4a306d(0x141)](_0x4f023c[_0x4a306d(0x184)],_0x4f023c[_0x4a306d(0x12e)])){logger[_0x4a306d(0x187)](_0x4a306d(0x17b)+_0x18e27d+_0x4a306d(0x14f)+_0x4ed7cf+'.');break;}else{const _0x38dfa8={'draKM':function(_0x2f46da,_0x52380a){return _0x4f023c['iBeOh'](_0x2f46da,_0x52380a);},'YcgoT':_0x4f023c[_0x4a306d(0xf5)]},_0x2ab20c={};_0x2ab20c[_0x4a306d(0x1cf)]=[_0x161ac2];const _0x2ab4fc=_0x2ab20c;return new _0x3b8711((_0x5478c9,_0xb66fd0)=>{const _0x48470c=_0x4a306d,_0x527842={'dIIgW':function(_0x4e9d02,_0x1d1bfd){const _0x440b00=a0_0x3bee;return _0x38dfa8[_0x440b00(0x1a1)](_0x4e9d02,_0x1d1bfd);}},_0xcb4c1b={};_0xcb4c1b[_0x48470c(0xfd)]=_0x38dfa8[_0x48470c(0xc2)],_0xcb4c1b[_0x48470c(0x104)]=_0x14b6e8['clusterRegion'];const _0x2a0301=new _0x3384ff['EC2'](_0xcb4c1b);_0x2a0301[_0x48470c(0x1de)](_0x2ab4fc)[_0x48470c(0x14b)]()['then'](_0x21724e=>{_0x527842['dIIgW'](_0x5478c9,!![]);})['catch'](_0x5ba8b3=>{const _0x549e85=_0x48470c;_0xdaef3b[_0x549e85(0x116)]('Cannot\x20find\x20VPC\x20'+_0x52933c+_0x549e85(0xd4)+_0x27ea87[_0x549e85(0x16d)]+'.\x20Please\x20Check\x20and\x20try\x20again'),_0x527842[_0x549e85(0x1ee)](_0x5478c9,![]);});});}}if(_0x4f023c[_0x4a306d(0x158)](_0x16f830,_0x4f023c[_0x4a306d(0x1b1)])){if(_0x4f023c[_0x4a306d(0x158)](_0x4f023c[_0x4a306d(0x1a8)],_0x4f023c[_0x4a306d(0x1a8)]))throw new Error(_0x4a306d(0x103)+_0x4ed7cf+'\x20failed\x20to\x20reach\x20the\x20available\x20state.');else throw new _0x464405(_0x4a306d(0x103)+_0x528660+_0x4a306d(0x1fc));}await new Promise(_0x365348=>setTimeout(_0x365348,0x1388));}else _0x389216[_0x4a306d(0x187)](_0x4f023c[_0x4a306d(0x1e1)]);}}async[a0_0xf60e1c(0x215)](_0x86aa49,_0x106b25){const _0x38ac6c=a0_0xf60e1c,_0x5dd4b5={};_0x5dd4b5[_0x38ac6c(0x1c7)]=[_0x106b25];const _0x4aba71=await _0x86aa49[_0x38ac6c(0x175)](_0x5dd4b5)[_0x38ac6c(0x14b)]();return _0x4aba71[_0x38ac6c(0x1b8)][0x0]['AvailabilityZone'];}['isVPCPresent'](_0x2f136a){const _0x1fdfa6=a0_0xf60e1c,_0x1f84cc={'XCqlD':function(_0x337a28,_0x5224c9){return _0x337a28===_0x5224c9;},'qxORx':'qcHhb','POpHS':_0x1fdfa6(0x1b7),'mwLEr':function(_0x5e5dd1,_0x5787fe){return _0x5e5dd1(_0x5787fe);},'wZekb':_0x1fdfa6(0x10b),'lHgsY':_0x1fdfa6(0x1b0),'ClqDT':_0x1fdfa6(0xca),'QGfxr':function(_0x1909e9,_0x34e37d){return _0x1909e9!==_0x34e37d;},'mONnd':_0x1fdfa6(0xb8)},_0x2ec473={};_0x2ec473[_0x1fdfa6(0x1cf)]=[_0x2f136a];const _0x2ef0bd=_0x2ec473;return new Promise((_0x1431f3,_0x7540f2)=>{const _0x4f3162=_0x1fdfa6,_0x45a026={'OKbNf':function(_0xec1ec6,_0xff1c52){const _0x539ea4=a0_0x3bee;return _0x1f84cc[_0x539ea4(0x15c)](_0xec1ec6,_0xff1c52);},'YcyaT':_0x1f84cc[_0x4f3162(0x1d1)],'uIPMq':function(_0x18c76b,_0x55329d){const _0xa4d28f=_0x4f3162;return _0x1f84cc[_0xa4d28f(0x1a3)](_0x18c76b,_0x55329d);},'hMhCr':_0x1f84cc[_0x4f3162(0x1e7)],'aYUsR':_0x1f84cc['ClqDT'],'PUMiO':function(_0x411ace,_0x163957){return _0x1f84cc['mwLEr'](_0x411ace,_0x163957);}};if(_0x1f84cc['QGfxr'](_0x1f84cc['mONnd'],_0x1f84cc[_0x4f3162(0x19b)])){const _0x45f2ae={};_0x45f2ae[_0x4f3162(0xfd)]=_0x45a026[_0x4f3162(0x115)],_0x45f2ae[_0x4f3162(0x104)]=_0xdde912[_0x4f3162(0x16d)];const _0x1b0a2d=new _0x1dfdda['EC2'](_0x45f2ae);_0x1b0a2d[_0x4f3162(0x1de)](_0x3326f0)[_0x4f3162(0x14b)]()[_0x4f3162(0x1f2)](_0x2def78=>{const _0x1ccebf=_0x4f3162;_0x45a026[_0x1ccebf(0x181)](_0x2e9030,!![]);})['catch'](_0x2f5d60=>{const _0x4a1efa=_0x4f3162;_0x24fab1[_0x4a1efa(0x116)](_0x4a1efa(0x18b)+_0x16894a+'\x20in\x20region\x20'+_0x268099[_0x4a1efa(0x16d)]+_0x4a1efa(0x1ed)),_0x45a026['OKbNf'](_0x1c4455,![]);});}else{const _0x18be5f={};_0x18be5f['apiVersion']=_0x1f84cc[_0x4f3162(0x1d1)],_0x18be5f[_0x4f3162(0x104)]=global_registry['clusterRegion'];const _0x3c4542=new awsSDK[(_0x4f3162(0x178))](_0x18be5f);_0x3c4542[_0x4f3162(0x1de)](_0x2ef0bd)[_0x4f3162(0x14b)]()[_0x4f3162(0x1f2)](_0x26d86b=>{const _0x3884a8=_0x4f3162;if(_0x45a026[_0x3884a8(0x1ad)](_0x45a026['hMhCr'],_0x45a026[_0x3884a8(0x1d9)])){if(_0x57af80[_0x3884a8(0x1d0)](_0x1816b2[_0x3884a8(0x1c1)]))return!![];return _0x85a74[_0x3884a8(0x19d)](_0x37112e),![];}else _0x45a026[_0x3884a8(0x1a0)](_0x1431f3,!![]);})['catch'](_0x1dcd6d=>{const _0x4b5738=_0x4f3162;if(_0x1f84cc['XCqlD'](_0x1f84cc[_0x4b5738(0x203)],_0x1f84cc[_0x4b5738(0x147)]))return![];else logger[_0x4b5738(0x116)](_0x4b5738(0x18b)+_0x2f136a+'\x20in\x20region\x20'+global_registry['clusterRegion']+_0x4b5738(0x1ed)),_0x1f84cc[_0x4b5738(0x15c)](_0x1431f3,![]);});}});}[a0_0xf60e1c(0x202)](_0x121026,_0x509e24){const _0x1c02cd=a0_0xf60e1c,_0x433629={'ClgPD':function(_0x464cd1,_0x507e9d){return _0x464cd1(_0x507e9d);},'epyCA':function(_0x40b027,_0x3c06a1){return _0x40b027(_0x3c06a1);},'DRHQj':_0x1c02cd(0x10b),'JIwFo':_0x1c02cd(0x19c)},_0x4373fd={};_0x4373fd['Name']=_0x433629['JIwFo'],_0x4373fd[_0x1c02cd(0xda)]=[_0x509e24];const _0xdfba88={};_0xdfba88[_0x1c02cd(0x119)]=[_0x4373fd];const _0x5ecee5=_0xdfba88;return new Promise((_0x1cd58d,_0x16177f)=>{const _0x29d3be=_0x1c02cd,_0x5be0c9={'tWCYb':function(_0xde2f57,_0x596060){return _0x433629['epyCA'](_0xde2f57,_0x596060);}},_0x5b69d8={};_0x5b69d8[_0x29d3be(0xfd)]=_0x433629[_0x29d3be(0x12a)],_0x5b69d8[_0x29d3be(0x104)]=global_registry[_0x29d3be(0x16d)];const _0x42d941=new awsSDK[(_0x29d3be(0x178))](_0x5b69d8);_0x42d941[_0x29d3be(0x175)](_0x5ecee5)['promise']()['then'](_0x507015=>{const _0x1f300d=_0x29d3be,_0x4bc966=[],_0x2c5aae=[];_0x507015[_0x1f300d(0x1b8)][_0x1f300d(0x20c)](_0x10a764=>{const _0x118b69=_0x1f300d;_0x4bc966[_0x118b69(0x19d)](_0x10a764[_0x118b69(0x1cb)]);});const _0x308d36=_0x121026[_0x1f300d(0xe9)](_0x2ceda0=>{const _0x18fa63=_0x1f300d;if(_0x4bc966[_0x18fa63(0x1d0)](_0x2ceda0['value']))return!![];return _0x2c5aae[_0x18fa63(0x19d)](_0x2ceda0),![];});_0x5be0c9[_0x1f300d(0x183)](_0x1cd58d,[_0x308d36,_0x2c5aae]);})[_0x29d3be(0x212)](_0x36f01a=>{const _0x228c45=_0x29d3be;logger['error'](_0x228c45(0x13d)+_0x121026+_0x228c45(0xd4)+global_registry[_0x228c45(0x16d)]+_0x228c45(0x1e4)+_0x36f01a),_0x433629['ClgPD'](_0x1cd58d,[![],[]]);});});}}function a0_0x3bee(_0xd20a3b,_0xa6d6da){const _0x5f3ea0=a0_0x5f3e();return a0_0x3bee=function(_0x3bee02,_0x37a018){_0x3bee02=_0x3bee02-0xb5;let _0x28e494=_0x5f3ea0[_0x3bee02];return _0x28e494;},a0_0x3bee(_0xd20a3b,_0xa6d6da);}const a0_0x461777={};function a0_0x5f3e(){const _0xccfb6b=['yEchR','../utils/gridComponents','every','status','failed','OutputKey','MountTargetId','Ukopf','BrbqB','piSIW','HoqSL','SecurityGroups','cloudProviderAccessKey','oCfbK','qQXvA','pEwsi','Setting\x20up\x20Hub\x20HA','Outputs','kube-system','otATk','mapRoles','Skipping\x20subnet\x20','apiVersion','secret','ueYdW','NMlIA','EFS\x20Controller\x20Role\x20=>\x20','MnJhU','Mount\x20target\x20','region','UUSbQ','.\x20Deleting\x20all\x20the\x20stacks','init','setupNewCluster','AYMbW','meCfn','2016-11-15','ERkJi','cloudProviderSecretKey','vHUnc','QHpqt','wgLTy','ywyxG','clusterName','rws','Stacks','YcyaT','error','BxNNQ','hostname','Filters','fOsoD','xGNWL','warn','dBrnG','ZeZzz','parameters','writeFileSync','Creating\x20required\x20dependencies\x20-\x20EKS\x20Role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups\x20and\x20Cluster\x20and\x20Node\x20Group(s)','efs-csi-driver-aws.yaml','message','warning','MountTargets','pjDFb','jsPuX','BoNJo','8134QrYzYm','DRHQj','EFS\x20SecurityGroup\x20=>\x20','replace','Added\x20EFS\x20CSI\x20Driver','wAlSi','hJkbt','EYmcQ','load','type','KubeConfigTemplate.yaml','xpSuz','rOLJb','lrRAo','autoscaler-creation-failed','split','path','utf-8','join','BCJcg','Cannot\x20find\x20subnets\x20','efJPN','[ats]\x0aaws_access_key_id\x20=\x20','NGzUC','IExiL','../utils/createAutoscalerStack','tags','create-grid-called','Creating\x20required\x20resources\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','oTbAY','POpHS','wtEKq','cNCqE','gqEQk','promise','896420XQSwUd','EKS','MVhxi',',\x20MountTargetId:\x20','hZdVM','Adding\x20storage\x20class...','lFOoR','RuHyO','Authmap\x20already\x20exists.\x20Not\x20updating','2017-11-01','Autoscaler\x20Role\x20created.ARN:\x20','AJSmO','FDNEL','\x20SECRET\x20KEY:\x20','nreWd','templates','mwLEr','vnUFm','NodeRole\x20=>\x20','eMuYm','describeCluster','kskrZ','pZprJ',',VPC\x20=>\x20','secretAccessKey','ZYjjL','maxNodes','enJal','xyxdV','describeNodegroup','cKYSb','SecurityGroups\x20=>\x20',',\x20ClusterRole\x20=>\x20','clusterRegion','HVeNk','qVvSJ','CQTNT','exit','Following\x20resources\x20are\x20created:','yNZRV','fzuKd','describeSubnets','FCHJT','getClusterInfo','EC2','isClusterPresent','nodegroupName','Mount\x20target\x20created\x20for\x20subnet:\x20','EFS','wvnfe','tQwCT','wcOkW','HCnqY','OKbNf','GxFWJ','tWCYb','TVGrm','setCachedCredsInRegistry','label','info','browserstack','ERROR','hmYtB','Cannot\x20find\x20VPC\x20','OutputValue','<ARN>','KapTg','toString','zvOJv','386844mPLQZb','dxRqM','ePWuI','2256213GYKmlm','LifeCycleState','endpoint','MXGsW','iCQBT','hub-ha-aws-setup-failed','data','mONnd','vpc-id','push','gIPAH','reportToGalactusAndSendToEDS','PUMiO','draKM','istMX','XCqlD','../utils/createClusterStack','Bhcxe','aws_credentials','webSocketUtils','yQXPU','clusters','ewKSe','js-yaml','namespace','uIPMq','Following\x20resources\x20are\x20created\x20for\x20Hub\x20HA:\x20EFS_ControllerRoleArn\x20=>\x20','../utils/createHubHaStack','XQnYw','KxwKC','./CloudProvider','EFSFileSystemId','getNodeGroupInfo','2214QyvVjQ','createStorageClass','piHBP','Subnets','../config/constants','cluster','Error\x20creating\x20mount\x20target\x20for\x20subnet\x20','YuAUE','Added\x20storage\x20class.','jacyR','FileSystemId','rnYoz','value','LHtHx','gPxsP','qBebP','gIdCL','minNodes','SubnetIds','readFileAsync','VcuTM','createMountTargets','SubnetId','VPC\x20=>\x20','cloudProviderName','loadBalancer','VpcIds','includes','wZekb','kmTFM','7613864EfFBkJ','XpGth','createMountTarget','ZDcvz','AYtNE','-NodeGroup','aYUsR','FIJFr','accessKey','sendEventToBackend','NVrsE','describeVpcs','checkClusterCreated','qkOuj','kIkmy','awbJo','Roncn','.\x20Error:\x20','ClusterRole\x20=>\x20','Adding\x20EFS\x20CSI\x20Driver','lHgsY','3|0|4|1|2','Error\x20occurred\x20while\x20setting\x20up\x20Hub\x20HA\x20infra:\x20','xHrVy','kSsuE','body','.\x20Please\x20Check\x20and\x20try\x20again','dIIgW','782528gkMrnw','aws-auth-cm.yaml','baVKT','then','giJjh','ghssH','pidIV','WEJNL','319234oyMcQh','dsRIO',',\x20NodeRole\x20=>\x20','hALjX','Cluster\x20=>\x20','\x20failed\x20to\x20reach\x20the\x20available\x20state.','RlJxv','\x20because\x20its\x20Availability\x20Zone\x20','ZUJws','EFS\x20FileSystem\x20=>\x20','pdeuZ','isSubnetsValid','qxORx','obLKO','has','browserstack:managedBy','Subnets\x20=>\x20','yBtoF','BAhLw','certificateAuthority','nodegroup','forEach','toLowerCase','WngXg','dFmjt','exports','xMsTZ','catch','buEiT','rZblr','getAvailabilityZone','VNpmv','Yqmjn','ySSjq','YNkQw','zzwrM','uatSP','createAuthConfigMap','DWYQz',',\x20EFS_SecurityGroup\x20=>\x20','ZNHxh','ingress','krZUo','accessKeyId','PpwMT','createMountTargetAndWait','Created\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','pgUnR','YcgoT','Creating\x20Autoscaler\x20Role','ydFPH','aws-sdk','fileSystemId','XyRmF','KrKSY','kOTbH','IzjPz','kFUNl','storage-class.yaml','hubharesources','ubfyc','DcLzM','getGridHostname','BumkM','update','pPwpw','\x20in\x20region\x20','tAqfm','zjUFK','tlteN','available','\x20ACCESS\x20KEY:\x20','Values','waitForMountTarget','LOG','all','reduce','Creating\x20required\x20resources\x20-\x20EKS\x20role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups,\x20Cluster\x20and\x20Node\x20Group(s)','ULjkw','name','Skipping\x20Autoscaler\x20due\x20to:\x20',',\x20Subnets\x20=>\x20','CzshD','toUpperCase','IRPSY'];a0_0x5f3e=function(){return _0xccfb6b;};return a0_0x5f3e();}a0_0x461777['AWSCloudProvider']=AWSCloudProvider,module[a0_0xf60e1c(0x210)]=a0_0x461777;