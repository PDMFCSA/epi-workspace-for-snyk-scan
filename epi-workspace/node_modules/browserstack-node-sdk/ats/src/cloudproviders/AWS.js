const a0_0x3c252a=a0_0xefc1;(function(_0x27770d,_0x39b78d){const _0x3795b1=a0_0xefc1,_0x11f37d=_0x27770d();while(!![]){try{const _0x178e73=parseInt(_0x3795b1(0x212))/0x1*(-parseInt(_0x3795b1(0x239))/0x2)+-parseInt(_0x3795b1(0x1f0))/0x3*(parseInt(_0x3795b1(0x286))/0x4)+parseInt(_0x3795b1(0xf4))/0x5+-parseInt(_0x3795b1(0x234))/0x6*(parseInt(_0x3795b1(0x184))/0x7)+-parseInt(_0x3795b1(0x16a))/0x8+-parseInt(_0x3795b1(0x1fd))/0x9+parseInt(_0x3795b1(0x12d))/0xa;if(_0x178e73===_0x39b78d)break;else _0x11f37d['push'](_0x11f37d['shift']());}catch(_0x4fefc2){_0x11f37d['push'](_0x11f37d['shift']());}}}(a0_0xa7a8,0xb1ed9));function a0_0xefc1(_0x52abd7,_0x5b67b9){const _0xa7a851=a0_0xa7a8();return a0_0xefc1=function(_0xefc171,_0x3c9b57){_0xefc171=_0xefc171-0xe7;let _0x12363a=_0xa7a851[_0xefc171];return _0x12363a;},a0_0xefc1(_0x52abd7,_0x5b67b9);}const fs=require('fs'),path=require('path'),yaml=require('js-yaml'),awsSDK=require(a0_0x3c252a(0x18a)),{logger}=require(a0_0x3c252a(0x1b7)),{CloudProvider}=require(a0_0x3c252a(0x10d)),{sendAWSInfoToHST}=require(a0_0x3c252a(0x190)),{createClusterStack}=require(a0_0x3c252a(0x12b)),{createHubHaStack}=require(a0_0x3c252a(0x224)),{deleteClusterAndDependencies,deleteRoutingDeps,deleteAgent}=require('../utils/gridComponents'),{createAutoscalerStack}=require('../utils/createAutoscalerStack'),{getDirForConfig,reportToGalactusAndSendToEDS,kubeApply,runCommand}=require('../utils/utilityMethods'),{IAM_USER_NAME,AWS,WS_EVENTS,global_registry,messageTypes}=require(a0_0x3c252a(0x12e)),PERMISSIONS=require(a0_0x3c252a(0x1c2));function a0_0xa7a8(){const _0x4b6229=['../config/constants','UBRdf','exports','LOG','mohrq','mDCJK','ISPlj','XejNW','uuWJr','Shvln','\x20ACCESS\x20KEY:\x20','KkQMG','myXSM','Adding\x20EFS\x20CSI\x20Driver','name','FDPYM','setupAutoscaler','clusterRegion','\x20:\x20','\x20failed\x20to\x20reach\x20the\x20available\x20state.','Setting\x20up\x20Hub\x20HA','anhHl','OutputValue','AWSCloudProvider','chgQF','EFSSecurityGroup','describeVpcs','KsSAv','CwOUK','bkdNd','Intercepted','Cluster\x20=>\x20','QBNvA','NKCad','LlBhm','VLPcu','efs-csi-driver-aws.yaml','yEqjB','SuwDb','YYuua','rBGqC','toLowerCase','FvhfU','JoryG','dcujQ','browserstack','gvtUl','Following\x20resources\x20are\x20created:','certificateAuthority','reduce','.\x20Deleting\x20all\x20the\x20stacks','jLxmk','kOoLA','XUXst','IvKwy','cloudProviderName','Cannot\x20find\x20VPC\x20','QrPjo','sHcnP','AvailabilityZone','8658552ujkIjK','ERROR','update','OJqiW','hNpYh','GOIzR','euuFM','push','QcHgs','GLxHT','UhzZD','rpXGy','checkAccess','TGmkY','nIjUv','FkpYA','Filters','VTCxC','JfVNC','utf-8','DFuYl','error\x20:\x20','PfnCB','includes','status','rKkAd','26005eZwpLw','forEach','nCpnu','QhAWk','oEPAP','JLWBi','aws-sdk','permissions\x20check\x20response:\x20','hCKAd','Ieuus','UwxPk','cluster','../utils/hstUtils','RPfav','ingress','snSBC','wiQUr','autoscaler-creation-failed','YjVrq','qHmQO','iaqtu','replace','DhYIm','skjKJ','BPZKV','ypjnF','Creating\x20required\x20resources\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','match','maxNodes','rAftZ','aws-auth-cm.yaml','Skipping\x20Autoscaler\x20due\x20to:\x20','PdcOr','wHOTP','pMpvN','MCmgV','UWFGG','PgrwD','AHTyj','SubnetIds','rws','\x20has\x20already\x20been\x20used.','Yhxyo','zwqUt','Error\x20occurred\x20while\x20setting\x20up\x20Hub\x20HA\x20infra:\x20',':role/','ztgwu','WWDXp','LaxHF','kkRiG','uWLui','../config/logger','vpc-id',',\x20EFS_SecurityGroup\x20=>\x20','fDCAz','SNtFg','stzRR','Error\x20creating\x20mount\x20target\x20for\x20subnet\x20','OutputKey','ALILL','gSieg','EFS\x20Controller\x20Role\x20=>\x20','../permissions/AWS.json','createMountTarget','gicSQ','gGwQH','JTYcN','Values','WXaUj','sendEventToBackend','toUpperCase','NVJlb','MBpay','DKtNh','createMountTargets','nodegroupName','aGYaa',',\x20MountTargetId:\x20','Unable\x20to\x20spawn\x20Autoscaler\x20due\x20to:\x20','jQUjS',':user/',',\x20EFS_FileSystem\x20=>\x20','uTfCN','ZYgbD','FBqbK','EFS','aws-iam-authenticator\x20help','mQZnf','XvNZX','readFileAsync','cloudProvider','FNRRK','Added\x20storage\x20class.','osLok','endpoint','checkClusterCreated','IGpbm','data','miEDz','pqDWF','RAEHo','eZBSq','type','secret','cSfKn','kwsuU','catch','keys','235473ZpZaHZ','listClusters','reportToGalactusAndSendToEDS','.\x20Error:\x20','promise','Cannot\x20find\x20subnets\x20','Authmap\x20already\x20exists.\x20Not\x20updating','YHRZO','NfbFc','mlhbs','ipRQZ','tKFjC','XLkRL','3241242YuCeUV','NsJBC','qwNpE','isClusterPresent','every','Creating\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','cloudProviderSecretKey','isSubnetsValid','mapRoles','IlSCN','startsWith','VkCJP','Creating\x20required\x20resources\x20-\x20EKS\x20role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups,\x20Cluster\x20and\x20Node\x20Group(s)','describeMountTargets','lZbWL','arn:aws:iam::','FileSystemId','\x20|\x20Action\x20:\x20','lLyWw','webSocketUtils','create-grid-called','1jeaUfn','stack','EC2','FAiCk','label','getClusterInfo','EvalDecision','NnxQY','NFOJm','kube-system','NodeRole\x20=>\x20','simulatePrincipalPolicy','ccGJY','Creating\x20Autoscaler\x20Role','exit','init','jtPBA','SecurityGroups','../utils/createHubHaStack','STS','ileeM','getGridHostname','2017-11-01','createStorageClass','Subnets','info','EXWKN','yicTw','clusterAutoUpgrade','fileSystemId','dOdKx','Eypga','bEYEj','DqGJL','1878tKToHA','qsWqM','IyDGE','pbgtc','getNodeGroupInfo','817618GknEJz','aUINc','yOrCu','minNodes','accessKeyId','elXzh','yADCi','ERqwc','glxKp','iGNHm','URlVx','sZxYR','Mounting\x20Target\x20for\x20EFS','load','createAuthConfigMap','2|4|3|0|1','zSZQn','SubnetId','keljF','NtdcQ','bnUVM','nLsAF','LifeCycleState','sendResourceDataToHST','WARNING','clusterName','loadBalancer','OBOFg','accessKey','parameters','Adding\x20storage\x20class...','describeSubnets','storage-class.yaml','hubharesources','CUFeh','clKZZ','tags','roZQm','\x0a\x09Service:\x20','split','YQJYM','has','apiVersion','PXLqa','describeNodegroup','2016-11-15','fgOxK','jDeFk','isBrowserstackCluster','YiTSL','DJDLX','allowed','jOuWd','bJDHu',',\x20Subnets\x20=>\x20','VPC\x20=>\x20','rLCJI','getUserInput','getKubeConfigData','Usvej','\x20because\x20its\x20Availability\x20Zone\x20','body','jEIyf','\x20in\x20region\x20','CEprF','writeFileSync','setCachedCredsInRegistry','XdLer','mJjOE',',\x20ClusterRole\x20=>\x20','AnGvI','join','UYYTu','EKS','fujoz','Xcniq','MXtzV','44xgUtxy','region','Following\x20resources\x20are\x20created:\x20Cluster\x20=>\x20','TeFBh',',\x20NodeRole\x20=>\x20','EFS\x20FileSystem\x20=>\x20','getPrincipalArn','FOPCv','yLdXk','Stacks','nodegroup','clusters','message','gCdWs','nrPnS','GliQZ','Please\x20install\x20aws-iam-authenticator\x20tool.\x20Error\x20:\x20','QkYkJ','warn','getAvailabilityZone','iQiUB','describeCluster',',VPC\x20=>\x20','6749265FCQKjI','add','error','WBClJ','NCDZN','Outputs','hub-ha-aws-setup-failed','waitForMountTarget','Creating\x20required\x20dependencies\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','value','zsDaQ','fcOLD','loadAll','Subnets\x20=>\x20','WqDzX','createMountTargetAndWait','hostname','failed','.\x20Please\x20Check\x20and\x20try\x20again','eUCZD','EvaluationResults','\x0aaws_secret_access_key\x20=\x20','isCliToolInstalled','Pcpqn','Autoscaler\x20Role\x20created.ARN:\x20','./CloudProvider','3|4|2|0|1','PENVt','EvalActionName','EFS\x20SecurityGroup\x20=>\x20','IAM','ClusterRole\x20=>\x20','browserstack:managedBy','templates','cloudProviderAccessKey','NDeNg','JPGrv','DZrNb','all','ijygB','ZTPih','rkkji','OaJVb','NECsl','then','wrBsn','uvPTO','config','syfxe','namespace','AqFAv','VpcIds','SmHML','-NodeGroup','gKJHc','../utils/createClusterStack','available','32564020tBAhSh'];a0_0xa7a8=function(){return _0x4b6229;};return a0_0xa7a8();}class AWSCloudProvider extends CloudProvider{constructor(_0xc55b46,_0x3fa550,_0x110920,_0x3c00d2){super(AWS,_0xc55b46,_0x3fa550,_0x110920,_0x3c00d2);}async[a0_0x3c252a(0x221)](){const _0x126bfd=a0_0x3c252a;await super['init']();const _0xf65fcd={};return _0xf65fcd[_0x126bfd(0x287)]=global_registry[_0x126bfd(0x13f)],_0xf65fcd[_0x126bfd(0x23d)]=global_registry[_0x126bfd(0x116)],_0xf65fcd['secretAccessKey']=global_registry[_0x126bfd(0x203)],awsSDK[_0x126bfd(0x123)][_0x126bfd(0x16c)](_0xf65fcd),this;}async[a0_0x3c252a(0x250)](){const _0x15151a=a0_0x3c252a,_0x2ccc7b={'CEprF':function(_0x578111,_0x1b5f43){return _0x578111(_0x1b5f43);}};_0x2ccc7b[_0x15151a(0x279)](sendAWSInfoToHST,this['rws']);}async[a0_0x3c252a(0x27b)](_0x171ed2){const _0x357f36=a0_0x3c252a;global_registry[_0x357f36(0x116)]=_0x171ed2[this[_0x357f36(0x165)]]['accessKey'],global_registry[_0x357f36(0x203)]=_0x171ed2[this[_0x357f36(0x165)]][_0x357f36(0x1eb)];}[a0_0x3c252a(0x227)](_0x3a7435){const _0x1c1924=a0_0x3c252a;return _0x3a7435['status']['loadBalancer']['ingress'][0x0][_0x1c1924(0x104)];}async[a0_0x3c252a(0x269)](){const _0x3f8a99=a0_0x3c252a,_0x219b15={'FDPYM':function(_0x380b89,_0x3d9214){return _0x380b89(_0x3d9214);},'IGpbm':_0x3f8a99(0x266),'QcHgs':function(_0x2d5b74,_0x3c9978){return _0x2d5b74!==_0x3c9978;},'rpXGy':_0x3f8a99(0x1f7),'ipRQZ':function(_0x43de0e,_0x57bfa1){return _0x43de0e!==_0x57bfa1;},'LaxHF':'uePOX','PXLqa':_0x3f8a99(0x231),'qsWqM':function(_0x1cd94d,_0x28a01e){return _0x1cd94d===_0x28a01e;},'pUwYo':'browserstack:managedBy','gGwQH':_0x3f8a99(0x15b),'yOrCu':function(_0x2fd685,_0x3586ad){return _0x2fd685===_0x3586ad;},'NFOJm':'WPdxp','hNpYh':_0x3f8a99(0x1a1)};try{if(_0x219b15[_0x3f8a99(0x172)](_0x219b15[_0x3f8a99(0x175)],_0x219b15[_0x3f8a99(0x175)]))return _0x4cc7a7[_0x3f8a99(0x182)][_0x3f8a99(0x253)][_0x3f8a99(0x192)][0x0][_0x3f8a99(0x104)];else{const _0x939a18=await this['getClusterInfo']();if(_0x939a18[_0x3f8a99(0x18f)]){if(_0x219b15[_0x3f8a99(0x1fa)](_0x219b15[_0x3f8a99(0x1b4)],_0x219b15[_0x3f8a99(0x264)])){const _0x417a3d=_0x939a18['cluster'][_0x3f8a99(0x25d)];return _0x417a3d&&_0x219b15[_0x3f8a99(0x235)](_0x417a3d[_0x219b15['pUwYo']][_0x3f8a99(0x157)](),_0x219b15[_0x3f8a99(0x1c5)]);}else{const _0xb6dbb9={'MXtzV':function(_0x410e93,_0x3eb4ba){const _0x3add51=_0x3f8a99;return _0x219b15[_0x3add51(0x13d)](_0x410e93,_0x3eb4ba);},'uIcRQ':_0x219b15[_0x3f8a99(0x1e4)]},_0x3cc9db={};_0x3cc9db[_0x3f8a99(0x127)]=[_0x299e37];const _0x24936e=_0x3cc9db;return new _0xb086b5((_0x578d5b,_0x54cda9)=>{const _0x13f28b=_0x3f8a99,_0x580a36={'KkQMG':function(_0x3190af,_0x406f6b){return _0xb6dbb9['MXtzV'](_0x3190af,_0x406f6b);}},_0x58eabf={};_0x58eabf[_0x13f28b(0x263)]=_0xb6dbb9['uIcRQ'],_0x58eabf['region']=_0x48a957['clusterRegion'];const _0x3bb1d3=new _0x510ad7['EC2'](_0x58eabf);_0x3bb1d3[_0x13f28b(0x148)](_0x24936e)[_0x13f28b(0x1f4)]()['then'](_0x4004f0=>{const _0x19c0fa=_0x13f28b;_0xb6dbb9[_0x19c0fa(0x285)](_0x578d5b,!![]);})['catch'](_0x27ceaf=>{const _0x1b10a7=_0x13f28b;_0x58b5b0[_0x1b10a7(0xf6)](_0x1b10a7(0x166)+_0xad204c+_0x1b10a7(0x278)+_0x129308['clusterRegion']+_0x1b10a7(0x106)),_0x580a36[_0x1b10a7(0x139)](_0x578d5b,![]);});});}}}}catch(_0x5b1114){if(_0x219b15[_0x3f8a99(0x23b)](_0x219b15[_0x3f8a99(0x21a)],_0x219b15[_0x3f8a99(0x16e)]))_0x2018d5[_0x3f8a99(0x182)]=![];else return![];}return![];}async[a0_0x3c252a(0x200)](){return this['checkClusterCreated']();}async[a0_0x3c252a(0x217)](){const _0xb3290a=a0_0x3c252a,_0x52e894={};_0x52e894[_0xb3290a(0xee)]=_0xb3290a(0x228);const _0xf26f2e=_0x52e894,_0x5d0dfd={};_0x5d0dfd[_0xb3290a(0x263)]=_0xf26f2e['QkYkJ'];const _0x2c4492=new awsSDK[(_0xb3290a(0x282))](_0x5d0dfd),_0x12f82b={};return _0x12f82b[_0xb3290a(0x13c)]=this['clusterName'],_0x2c4492[_0xb3290a(0xf2)](_0x12f82b)[_0xb3290a(0x1f4)]();}async[a0_0x3c252a(0x247)](_0x3ace72){const _0x1b78d3=a0_0x3c252a,_0x34d809={};_0x34d809[_0x1b78d3(0xfe)]=_0x1b78d3(0x115),_0x34d809[_0x1b78d3(0x10f)]=_0x1b78d3(0x1a2),_0x34d809['nCpnu']=_0x1b78d3(0x17d),_0x34d809[_0x1b78d3(0x11e)]='<ARN>';const _0x26b2d5=_0x34d809,_0x423a10=await fs[_0x1b78d3(0x1dd)](path[_0x1b78d3(0x280)](__dirname,'..',_0x26b2d5['zsDaQ'],_0x26b2d5[_0x1b78d3(0x10f)]),_0x26b2d5[_0x1b78d3(0x186)]),_0x1b9174=yaml[_0x1b78d3(0x246)](_0x423a10);return _0x1b9174['data']['mapRoles']=_0x1b9174[_0x1b78d3(0x1e5)][_0x1b78d3(0x205)][_0x1b78d3(0x199)](_0x26b2d5['OaJVb'],_0x3ace72),_0x1b9174;}async[a0_0x3c252a(0x238)](_0x2baebc){const _0x20aeea=a0_0x3c252a,_0x1c1eb4={};_0x1c1eb4[_0x20aeea(0x1dc)]=_0x20aeea(0x228);const _0x55f66d=_0x1c1eb4,_0x254af9={};_0x254af9[_0x20aeea(0x263)]=_0x55f66d[_0x20aeea(0x1dc)];const _0x2b6187=new awsSDK[(_0x20aeea(0x282))](_0x254af9),_0x1b1e25={};return _0x1b1e25[_0x20aeea(0x252)]=this[_0x20aeea(0x252)],_0x1b1e25[_0x20aeea(0x1cf)]=_0x2baebc,_0x2b6187[_0x20aeea(0x265)](_0x1b1e25)['promise']();}async['checkClusterCreated'](){const _0xbaf997=a0_0x3c252a,_0xeba95b={'PfnCB':function(_0x4acdd0,_0x1f8d2c){return _0x4acdd0(_0x1f8d2c);},'cSfKn':function(_0x1aaf25,_0x4bb765){return _0x1aaf25!==_0x4bb765;},'Voqvw':_0xbaf997(0x26d),'Ieuus':_0xbaf997(0x27d),'kwmKe':_0xbaf997(0x134),'glxKp':_0xbaf997(0xf7),'XVoxm':function(_0x4da97d,_0x53b68e){return _0x4da97d!==_0x53b68e;},'gIrAw':_0xbaf997(0x23a),'CdFEt':_0xbaf997(0x228)};return new Promise((_0x5b2806,_0x5c964c)=>{const _0x1d9720=_0xbaf997,_0xcd240d={'ccGJY':function(_0xe912cb,_0x376c02){const _0x2fc4c=a0_0xefc1;return _0xeba95b[_0x2fc4c(0x180)](_0xe912cb,_0x376c02);},'ALILL':function(_0x464b1e,_0x3a6fd7){const _0x44bed0=a0_0xefc1;return _0xeba95b[_0x44bed0(0x1ec)](_0x464b1e,_0x3a6fd7);},'XLkRL':_0xeba95b['Voqvw'],'lkykz':_0xeba95b[_0x1d9720(0x18d)],'FOPCv':function(_0x5ecb53,_0x11b957){const _0x659ecd=_0x1d9720;return _0xeba95b[_0x659ecd(0x1ec)](_0x5ecb53,_0x11b957);},'WqDzX':_0xeba95b['kwmKe'],'sZxYR':function(_0x3450eb,_0x574172){const _0x148f96=_0x1d9720;return _0xeba95b[_0x148f96(0x180)](_0x3450eb,_0x574172);},'GOIzR':function(_0x16b370,_0x4623f1){const _0x536c33=_0x1d9720;return _0xeba95b[_0x536c33(0x1ec)](_0x16b370,_0x4623f1);},'wrBsn':_0xeba95b[_0x1d9720(0x241)]};if(_0xeba95b['XVoxm'](_0xeba95b['gIrAw'],_0xeba95b['gIrAw']))_0xeba95b[_0x1d9720(0x180)](_0x80648b,!![]);else{const _0xe0a1d1={};_0xe0a1d1[_0x1d9720(0x263)]=_0xeba95b['CdFEt'];const _0xbb03c4=new awsSDK['EKS'](_0xe0a1d1);_0xbb03c4[_0x1d9720(0x1f1)]()[_0x1d9720(0x1f4)]()[_0x1d9720(0x120)](_0x4da7b2=>{const _0x148a36=_0x1d9720;if(_0xcd240d[_0x148a36(0x1bf)](_0xcd240d[_0x148a36(0x1fc)],_0xcd240d['lkykz'])){if(_0x4da7b2[_0x148a36(0xe8)][_0x148a36(0x181)](this['clusterName'])){if(_0xcd240d[_0x148a36(0x28d)](_0xcd240d['WqDzX'],_0xcd240d[_0x148a36(0x102)])){const _0x43e6c0=[],_0xd27ea1=[];_0x33c24e['Subnets'][_0x148a36(0x185)](_0xe2b010=>{const _0x18837c=_0x148a36;_0x43e6c0[_0x18837c(0x171)](_0xe2b010[_0x18837c(0x24a)]);});const _0xb30730=_0x41aa2f[_0x148a36(0x201)](_0x52e861=>{const _0x32f9e4=_0x148a36;if(_0x43e6c0[_0x32f9e4(0x181)](_0x52e861[_0x32f9e4(0xfd)]))return!![];return _0xd27ea1[_0x32f9e4(0x171)](_0x52e861),![];});_0xcd240d[_0x148a36(0x21e)](_0x3bcbbe,[_0xb30730,_0xd27ea1]);}else _0xcd240d[_0x148a36(0x244)](_0x5b2806,!![]);}_0xcd240d['ccGJY'](_0x5b2806,![]);}else _0x5b45d2[_0x148a36(0xf6)]=_0x5b1515;})[_0x1d9720(0x1ee)](_0x186057=>{const _0x3c8035=_0x1d9720;if(_0xcd240d[_0x3c8035(0x16f)](_0xcd240d[_0x3c8035(0x121)],_0xcd240d[_0x3c8035(0x121)]))return![];else logger[_0x3c8035(0xf6)](_0x186057),_0xcd240d[_0x3c8035(0x244)](_0x5c964c,_0x186057);});}});}async[a0_0x3c252a(0x272)](_0x512393,_0x5ce82c){const _0x704fb1=a0_0x3c252a,_0x1be550={'UWFGG':function(_0x1293ee,_0x1b2c2c){return _0x1293ee(_0x1b2c2c);}},_0x41139a=this[_0x704fb1(0x165)][_0x704fb1(0x1ca)](),_0x5d7acc=await _0x1be550[_0x704fb1(0x1a8)](_0x512393,_0x41139a+_0x704fb1(0x138)),_0x37a857=await _0x1be550[_0x704fb1(0x1a8)](_0x512393,_0x41139a+'\x20SECRET\x20KEY:\x20');global_registry[_0x704fb1(0x116)]=_0x5d7acc,global_registry['cloudProviderSecretKey']=_0x37a857;const _0x3dc490={};return _0x3dc490['accessKey']=_0x5d7acc,_0x3dc490[_0x704fb1(0x1eb)]=_0x37a857,_0x5ce82c[_0x704fb1(0x1de)][AWS]=_0x3dc490,_0x5ce82c;}async[a0_0x3c252a(0x273)](){const _0x313857=a0_0x3c252a,_0x16e010={'RAEHo':function(_0x15f78f){return _0x15f78f();},'nkKvM':'aws_credentials','YiTSL':'templates','ppcLA':'KubeConfigTemplate.yaml'},_0x21b631=_0x16e010[_0x313857(0x1e8)](getDirForConfig),_0x57c5d2=await this['getClusterInfo'](),_0x5c0897=path[_0x313857(0x280)](_0x21b631,_0x16e010['nkKvM']),_0x5ec6a9='[ats]\x0aaws_access_key_id\x20=\x20'+global_registry[_0x313857(0x116)]+_0x313857(0x109)+global_registry[_0x313857(0x203)];fs[_0x313857(0x27a)](_0x5c0897,_0x5ec6a9);let _0x1d0856=await fs[_0x313857(0x1dd)](path[_0x313857(0x280)](__dirname,'..',_0x16e010[_0x313857(0x26a)],_0x16e010['ppcLA']));return _0x1d0856=_0x1d0856['toString'](),_0x1d0856=_0x1d0856[_0x313857(0x199)](/<CLUSTER_NAME>/g,this['clusterName']),_0x1d0856=_0x1d0856[_0x313857(0x199)](/<CLUSTER_URL>/g,_0x57c5d2[_0x313857(0x18f)][_0x313857(0x1e2)]),_0x1d0856=_0x1d0856['replace'](/<CERTIFICATE_DATA>/g,_0x57c5d2['cluster'][_0x313857(0x15e)][_0x313857(0x1e5)]),_0x1d0856=_0x1d0856['replace'](/<CLUSTER_REGION>/g,global_registry[_0x313857(0x13f)]),_0x1d0856=_0x1d0856[_0x313857(0x199)](/<CLUSTER_NAME_USER>/g,IAM_USER_NAME),_0x1d0856=_0x1d0856[_0x313857(0x199)](/<CLOUD_PROVIDER_ACCESS_KEY>/g,global_registry[_0x313857(0x116)]),_0x1d0856=_0x1d0856['replace'](/<CLOUD_PROVIDER_SECRET>/g,global_registry[_0x313857(0x203)]),_0x1d0856=_0x1d0856['replace'](/<AWS_CONFIG_FILE_PATH>/g,_0x5c0897),_0x1d0856;}async['setupNewCluster'](_0x763bfc=null,_0x3f6723=null){const _0x5d9d3a=a0_0x3c252a,_0xe678e8={'uWLui':_0x5d9d3a(0x1f6),'FvhfU':_0x5d9d3a(0x209),'dcujQ':'Creating\x20required\x20dependencies\x20-\x20EKS\x20Role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups\x20and\x20Cluster\x20and\x20Node\x20Group(s)','aGYaa':function(_0x3bb719,_0x2d4b1e,_0x46c5c9,_0x10d05e,_0x4fd862,_0x1304d7,_0xbca422){return _0x3bb719(_0x2d4b1e,_0x46c5c9,_0x10d05e,_0x4fd862,_0x1304d7,_0xbca422);},'DJDLX':_0x5d9d3a(0x15d),'YYuua':function(_0x309d9f,_0x153601){return _0x309d9f===_0x153601;},'yicTw':function(_0x351828,_0x374651){return _0x351828!==_0x374651;},'JLWBi':'Iyjms','bEYEj':_0x5d9d3a(0x24c),'yMIWy':_0x5d9d3a(0x153)},_0x3e2afd={};_0x3e2afd[_0x5d9d3a(0x1ea)]=WS_EVENTS[_0x5d9d3a(0x131)],_0x3e2afd[_0x5d9d3a(0xe9)]=_0xe678e8[_0x5d9d3a(0x158)],this[_0x5d9d3a(0x210)][_0x5d9d3a(0x1c9)](this[_0x5d9d3a(0x1ac)],_0x3e2afd),logger['info'](_0xe678e8[_0x5d9d3a(0x15a)]);const _0x565742=global_registry[_0x5d9d3a(0x23c)],_0x37b7a3=global_registry[_0x5d9d3a(0x1a0)],_0x150fdb=global_registry[_0x5d9d3a(0x22e)],_0x9f73d4=await _0xe678e8[_0x5d9d3a(0x1d0)](createClusterStack,this['clusterName'],_0x565742,_0x37b7a3,_0x763bfc,_0x3f6723,_0x150fdb),_0x3651cb=_0x9f73d4[_0x5d9d3a(0x28f)][0x0][_0x5d9d3a(0xf9)][0x0][_0x5d9d3a(0x144)][_0x5d9d3a(0x260)](','),_0x388232=_0x9f73d4[_0x5d9d3a(0x28f)][0x0][_0x5d9d3a(0xf9)][0x1][_0x5d9d3a(0x144)],_0x22ab9a=_0x9f73d4[_0x5d9d3a(0x28f)][0x0]['Outputs'][0x3]['OutputValue'],_0x2d331f=_0x9f73d4['Stacks'][0x0]['Outputs'][0x4][_0x5d9d3a(0x144)];logger[_0x5d9d3a(0x22b)](_0xe678e8[_0x5d9d3a(0x26b)]),logger[_0x5d9d3a(0x22b)](_0x5d9d3a(0x14d)+_0x22ab9a+'\x20'),logger[_0x5d9d3a(0x22b)](_0x5d9d3a(0x113)+_0x388232+'\x20'),logger[_0x5d9d3a(0x22b)]('SecurityGroups\x20=>\x20'+_0x3651cb+'\x20'),logger[_0x5d9d3a(0x22b)](_0x5d9d3a(0x21c)+_0x2d331f+'\x20');let _0x5f19cc=_0x5d9d3a(0x288)+_0x22ab9a+_0x5d9d3a(0x27e)+_0x388232+',\x20SecurityGroups\x20=>\x20'+_0x3651cb+_0x5d9d3a(0x28a)+_0x2d331f;if(_0xe678e8[_0x5d9d3a(0x155)](_0x763bfc,null)&&_0xe678e8[_0x5d9d3a(0x155)](_0x3f6723,null)){if(_0xe678e8[_0x5d9d3a(0x22d)](_0xe678e8[_0x5d9d3a(0x189)],_0xe678e8[_0x5d9d3a(0x232)])){const _0x1622e4=_0x9f73d4['Stacks'][0x0][_0x5d9d3a(0xf9)][0x2][_0x5d9d3a(0x144)],_0x263458=_0x9f73d4[_0x5d9d3a(0x28f)][0x0][_0x5d9d3a(0xf9)][0x5][_0x5d9d3a(0x144)]['split'](',');_0x763bfc=_0x1622e4;const _0x33f836=[];for(const _0x53afce of _0x263458){if(_0xe678e8[_0x5d9d3a(0x155)](_0xe678e8['yMIWy'],_0xe678e8['yMIWy'])){const _0x115e99={};_0x115e99[_0x5d9d3a(0x216)]=_0x53afce,_0x115e99[_0x5d9d3a(0xfd)]=_0x53afce,_0x33f836[_0x5d9d3a(0x171)](_0x115e99);}else _0x1e9e0e['info'](_0xe678e8[_0x5d9d3a(0x1b6)]);}_0x3f6723=_0x33f836,logger[_0x5d9d3a(0x22b)](_0x5d9d3a(0x270)+_0x1622e4+'\x20'),logger[_0x5d9d3a(0x22b)](_0x5d9d3a(0x101)+_0x263458+'\x20'),_0x5f19cc+=_0x5d9d3a(0xf3)+_0x1622e4+_0x5d9d3a(0x26f)+_0x263458+',\x20';}else _0x13c829[_0x5d9d3a(0xef)](_0xa6fa36);}const _0xc5dc3c={};return _0xc5dc3c[_0x5d9d3a(0x1ea)]=WS_EVENTS['LOG'],_0xc5dc3c[_0x5d9d3a(0xe9)]=_0x5f19cc,this['webSocketUtils']['sendEventToBackend'](this['rws'],_0xc5dc3c),[_0x763bfc,_0x3f6723];}async['deleteCluster'](_0x3ea55c,_0x428139){const _0x316966=a0_0x3c252a,_0x36cf76={'skjKJ':function(_0x17b1e7,_0x257baf){return _0x17b1e7(_0x257baf);},'DZrzd':function(_0x29ca8b,_0x204c8e,_0x4a064d){return _0x29ca8b(_0x204c8e,_0x4a064d);}};await _0x36cf76[_0x316966(0x19b)](deleteAgent,_0x3ea55c),await _0x36cf76[_0x316966(0x19b)](deleteRoutingDeps,_0x3ea55c),await _0x36cf76['DZrzd'](deleteClusterAndDependencies,_0x428139,this[_0x316966(0x252)]);}async[a0_0x3c252a(0x13e)](_0x3bf134,_0xd387f7){const _0x414134=a0_0x3c252a,_0x563531={'LlBhm':function(_0x30bc40,_0x331efa){return _0x30bc40===_0x331efa;},'gSieg':_0x414134(0x114),'syfxe':_0x414134(0x15b),'NnxQY':function(_0x3351f4,_0x6a8fe3){return _0x3351f4!==_0x6a8fe3;},'pqDWF':'qhRiv','pnCnD':'Authmap\x20already\x20exists.\x20Not\x20updating','NDeNg':_0x414134(0x21f),'myXSM':_0x414134(0x1cd),'PgrwD':function(_0x2b853e,_0xf07be2){return _0x2b853e(_0xf07be2);},'jDeFk':function(_0x1eebfe,_0x20d742){return _0x1eebfe===_0x20d742;},'TeFBh':_0x414134(0x1bb),'SmHML':function(_0x5ee0a6,_0x3f0eb9){return _0x5ee0a6===_0x3f0eb9;},'TGmkY':_0x414134(0x1ae),'mohrq':'bbbGS','iQiUB':function(_0x3d6474,_0x427ac4,_0x34856c,_0x3fda57,_0x3e64f7,_0x55ccab,_0x12786f,_0x2ab727){return _0x3d6474(_0x427ac4,_0x34856c,_0x3fda57,_0x3e64f7,_0x55ccab,_0x12786f,_0x2ab727);},'QBNvA':_0x414134(0x211),'kOoLA':_0x414134(0x1f2),'JfVNC':'warning','IlSCN':'IiFIF','DhYIm':_0x414134(0x248),'hHbpk':function(_0x31546e,_0x26b1c4,_0x450582){return _0x31546e(_0x26b1c4,_0x450582);},'PdcOr':_0x414134(0x195),'NCDZN':_0x414134(0xf6),'ZTPih':_0x414134(0x21b)};let _0x4a5094,_0x1f05d0;const _0x30c516={};_0x30c516['type']=WS_EVENTS[_0x414134(0x131)],_0x30c516['message']=_0x563531['NDeNg'],this[_0x414134(0x210)][_0x414134(0x1c9)](this['rws'],_0x30c516),logger[_0x414134(0x22b)](_0x563531[_0x414134(0x117)]);try{if(_0x563531[_0x414134(0x150)](_0x563531[_0x414134(0x13a)],_0x563531[_0x414134(0x13a)])){const _0x558547=await _0x563531[_0x414134(0x1a9)](createAutoscalerStack,this[_0x414134(0x252)]);_0x1f05d0=_0x558547['Stacks'][0x0][_0x414134(0xf9)][0x2]['OutputValue'];const _0x4691bb={};_0x4691bb['type']=WS_EVENTS['LOG'],_0x4691bb[_0x414134(0xe9)]=_0x414134(0x10c)+_0x1f05d0+'\x20',this[_0x414134(0x210)]['sendEventToBackend'](this[_0x414134(0x1ac)],_0x4691bb),logger['info'](_0x414134(0x10c)+_0x1f05d0+'\x20');}else{const _0x3c3074=_0x9fc922[_0x414134(0x28f)][0x0][_0x414134(0xf9)][0x2][_0x414134(0x144)],_0x1978a7=_0x1e87a2[_0x414134(0x28f)][0x0]['Outputs'][0x5][_0x414134(0x144)][_0x414134(0x260)](',');_0x40b19b=_0x3c3074;const _0x8f700b=[];for(const _0x2c47fa of _0x1978a7){const _0x33c804={};_0x33c804[_0x414134(0x216)]=_0x2c47fa,_0x33c804['value']=_0x2c47fa,_0x8f700b[_0x414134(0x171)](_0x33c804);}_0x3c84ef=_0x8f700b,_0x177ae2[_0x414134(0x22b)]('VPC\x20=>\x20'+_0x3c3074+'\x20'),_0x5563f7['info'](_0x414134(0x101)+_0x1978a7+'\x20'),_0x335aa1+=_0x414134(0xf3)+_0x3c3074+_0x414134(0x26f)+_0x1978a7+',\x20';}}catch(_0xa14746){if(_0x563531[_0x414134(0x268)](_0x563531[_0x414134(0x289)],_0x563531[_0x414134(0x289)])){if(_0xa14746?.[_0x414134(0xe9)]&&_0xa14746[_0x414134(0xe9)][_0x414134(0x19f)](/already exists/)){if(_0x563531[_0x414134(0x128)](_0x563531[_0x414134(0x177)],_0x563531[_0x414134(0x132)])){const _0x37f0a6=_0xd6a32a[_0x414134(0x18f)][_0x414134(0x25d)];return _0x37f0a6&&_0x563531[_0x414134(0x150)](_0x37f0a6[_0x563531[_0x414134(0x1c0)]][_0x414134(0x157)](),_0x563531[_0x414134(0x124)]);}else _0x4a5094=_0x414134(0x1a3)+_0xa14746[_0x414134(0xe9)],await _0x563531[_0x414134(0xf1)](reportToGalactusAndSendToEDS,_0xd387f7,this['rws'],_0x4a5094,messageTypes[_0x414134(0x251)],_0x563531[_0x414134(0x14e)],_0x563531[_0x414134(0x162)],_0x563531[_0x414134(0x17c)]),logger[_0x414134(0xef)](_0x4a5094);}else{if(_0x563531[_0x414134(0x219)](_0x563531[_0x414134(0x206)],_0x563531[_0x414134(0x206)]))return _0x1e7987[_0xefb452[_0x414134(0x1be)]]=_0xc213a0[_0x414134(0x144)],_0x1f9998;else{const _0x5d4c5b=_0x563531[_0x414134(0x19a)][_0x414134(0x260)]('|');let _0x3868da=0x0;while(!![]){switch(_0x5d4c5b[_0x3868da++]){case'0':await _0x563531['hHbpk'](deleteClusterAndDependencies,global_registry[_0x414134(0x13f)],this['clusterName']);continue;case'1':process['exit'](0x1);continue;case'2':_0x4a5094=_0x414134(0x1d2)+_0xa14746?.[_0x414134(0xe9)]+_0x414134(0x160);continue;case'3':logger[_0x414134(0xf6)](_0x4a5094);continue;case'4':await _0x563531[_0x414134(0xf1)](reportToGalactusAndSendToEDS,_0xd387f7,this['rws'],_0x4a5094,messageTypes['ERROR'],_0x563531[_0x414134(0x14e)],_0x563531[_0x414134(0x1a4)],_0x563531[_0x414134(0xf8)]);continue;}break;}}}}else _0x2f1812[_0x414134(0xf6)](_0x414134(0x17f)+_0x2bf3d2+_0x414134(0x140)+_0x554308[_0x414134(0x213)]),_0x1d7433[_0x414134(0x1e5)]=_0x414134(0xed)+_0x1cbb5d,_0x26cafa[_0x414134(0xf6)]=_0x27d0d8;}const _0x4fe3f1=await this[_0x414134(0x238)](this[_0x414134(0x252)]+_0x414134(0x129)),_0x57a75e=_0x4fe3f1[_0x414134(0xe7)]['nodeRole'],_0xa2c639=await this[_0x414134(0x247)](_0x57a75e),_0x42cd66={};return _0x42cd66[_0x414134(0x125)]=_0x563531[_0x414134(0x11c)],_0x42cd66[_0x414134(0x276)]=_0xa2c639,await _0x3bf134['createNamespacedConfigMap'](_0x42cd66)['catch'](_0x5ad879=>{const _0x5bfccb=_0x414134;if(_0x563531['NnxQY'](_0x563531[_0x5bfccb(0x1e7)],_0x563531[_0x5bfccb(0x1e7)]))return this[_0x5bfccb(0x1e3)]();else logger['info'](_0x563531['pnCnD']);}),_0x1f05d0;}async['setupHubHa'](_0x43156f,_0x185ce0,_0x3512b6,_0x40ef2e,_0x2f3cee){const _0x59a5cf=a0_0x3c252a,_0x490a26={'GasgG':_0x59a5cf(0x228),'mQZnf':function(_0x120590,_0x229508){return _0x120590(_0x229508);},'JoryG':function(_0xbcfc14,_0x41d04e){return _0xbcfc14===_0x41d04e;},'MnveY':'OTIEA','FBqbK':_0x59a5cf(0x25e),'iCHsX':_0x59a5cf(0x142),'rLCJI':_0x59a5cf(0x194),'mDCJK':'xLFkC','HDsAc':_0x59a5cf(0x19e),'Wiqtx':_0x59a5cf(0xfc),'ztgwu':function(_0x434b30,_0x58e237,_0x4edb17){return _0x434b30(_0x58e237,_0x4edb17);},'iGNHm':'EFSControllerRoleArn','gzTKo':'EFSFileSystemId','OBOFg':_0x59a5cf(0x147),'HzcFM':_0x59a5cf(0x15d),'Xcniq':_0x59a5cf(0x245),'RPfav':_0x59a5cf(0x202),'nIjUv':_0x59a5cf(0x13b),'fcOLD':_0x59a5cf(0x115),'ZYgbD':_0x59a5cf(0x25a),'eqNTj':_0x59a5cf(0x152),'CUFeh':_0x59a5cf(0x17d),'UwxPk':'Added\x20EFS\x20CSI\x20Driver','OkewK':_0x59a5cf(0x257),'JPGrv':_0x59a5cf(0x259),'gvtUl':_0x59a5cf(0x22f),'DmdNE':_0x59a5cf(0x1e0),'jQUjS':'Created\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','lEXdX':function(_0x2437c7,_0x3ad9c2){return _0x2437c7===_0x3ad9c2;},'YjVrq':_0x59a5cf(0x151),'YdQtQ':_0x59a5cf(0x10e),'sWLSF':function(_0x441e56,_0x3169ae,_0x559b5d,_0x2143d9,_0x4672d7,_0x59b399,_0x7e4bbd,_0x34bfcb){return _0x441e56(_0x3169ae,_0x559b5d,_0x2143d9,_0x4672d7,_0x59b399,_0x7e4bbd,_0x34bfcb);},'bkdNd':_0x59a5cf(0x211),'rKkAd':_0x59a5cf(0xfa),'bnUVM':_0x59a5cf(0xf6)};logger[_0x59a5cf(0x22b)](_0x490a26['iCHsX']);let _0x5049a8;try{if(_0x490a26[_0x59a5cf(0x159)](_0x490a26[_0x59a5cf(0x271)],_0x490a26[_0x59a5cf(0x133)])){const _0x5eb058={};_0x5eb058[_0x59a5cf(0x263)]=_0x490a26['GasgG'];const _0x586d1d=new _0x19b50a[(_0x59a5cf(0x282))](_0x5eb058),_0x3c38f1={};return _0x3c38f1[_0x59a5cf(0x252)]=this[_0x59a5cf(0x252)],_0x3c38f1[_0x59a5cf(0x1cf)]=_0x1cd694,_0x586d1d[_0x59a5cf(0x265)](_0x3c38f1)['promise']();}else{const _0x216c09={};_0x216c09[_0x59a5cf(0x1ea)]=WS_EVENTS[_0x59a5cf(0x131)],_0x216c09[_0x59a5cf(0xe9)]=_0x490a26['HDsAc'],this[_0x59a5cf(0x210)]['sendEventToBackend'](this[_0x59a5cf(0x1ac)],_0x216c09),logger['info'](_0x490a26['Wiqtx']);const _0x3e1ab0=await _0x490a26[_0x59a5cf(0x1b2)](createHubHaStack,this[_0x59a5cf(0x252)],_0x40ef2e),_0x1aea98=_0x3e1ab0['Stacks'][0x0]['Outputs'][_0x59a5cf(0x15f)]((_0xe266f3,_0x322b25)=>{const _0x950176=_0x59a5cf,_0x40daa6={'Pcpqn':function(_0x1671d4,_0x3da620){const _0x4e5de1=a0_0xefc1;return _0x490a26[_0x4e5de1(0x1db)](_0x1671d4,_0x3da620);}};if(_0x490a26['JoryG'](_0x490a26['MnveY'],_0x490a26[_0x950176(0x1d8)]))_0x26739d[_0x950176(0xf6)](_0x950176(0x166)+_0x4dd958+_0x950176(0x278)+_0x572e88[_0x950176(0x13f)]+_0x950176(0x106)),_0x40daa6[_0x950176(0x10b)](_0x1524b2,![]);else return _0xe266f3[_0x322b25[_0x950176(0x1be)]]=_0x322b25['OutputValue'],_0xe266f3;},{}),_0x4c31cb=_0x1aea98[_0x490a26[_0x59a5cf(0x242)]],_0x452672=_0x1aea98[_0x490a26['gzTKo']],_0x47e09f=_0x1aea98[_0x490a26[_0x59a5cf(0x254)]];logger[_0x59a5cf(0x22b)](_0x490a26['HzcFM']),logger[_0x59a5cf(0x22b)](_0x59a5cf(0x1c1)+_0x4c31cb),logger[_0x59a5cf(0x22b)](_0x59a5cf(0x111)+_0x47e09f),logger['info'](_0x59a5cf(0x28b)+_0x452672),_0x5049a8='Following\x20resources\x20are\x20created\x20for\x20Hub\x20HA:\x20EFS_ControllerRoleArn\x20=>\x20'+_0x4c31cb+_0x59a5cf(0x1b9)+_0x47e09f+_0x59a5cf(0x1d5)+_0x452672,logger[_0x59a5cf(0x22b)](_0x490a26[_0x59a5cf(0x284)]),await this[_0x59a5cf(0x1ce)](_0x2f3cee,_0x47e09f,_0x452672);const _0x1f56c6={};_0x1f56c6['type']=WS_EVENTS[_0x59a5cf(0x131)],_0x1f56c6['message']=_0x5049a8,this['webSocketUtils'][_0x59a5cf(0x1c9)](this[_0x59a5cf(0x1ac)],_0x1f56c6);const _0x24c2d6={};_0x24c2d6[_0x59a5cf(0x1ea)]=WS_EVENTS[_0x59a5cf(0x131)],_0x24c2d6[_0x59a5cf(0xe9)]=_0x490a26[_0x59a5cf(0x191)],this[_0x59a5cf(0x210)]['sendEventToBackend'](this[_0x59a5cf(0x1ac)],_0x24c2d6),logger[_0x59a5cf(0x22b)](_0x490a26[_0x59a5cf(0x178)]);let _0xe1d476=await fs[_0x59a5cf(0x1dd)](path['join'](__dirname,'..',_0x490a26[_0x59a5cf(0xff)],_0x490a26[_0x59a5cf(0x1d7)],_0x490a26['eqNTj']),_0x490a26[_0x59a5cf(0x25b)]);_0xe1d476=_0xe1d476[_0x59a5cf(0x199)](/<EfsCSIControllerARN>/g,_0x4c31cb);const _0x4b44bc=yaml[_0x59a5cf(0x100)](_0xe1d476);await _0x490a26[_0x59a5cf(0x1b2)](kubeApply,_0x4b44bc,_0x185ce0),logger[_0x59a5cf(0x22b)](_0x490a26[_0x59a5cf(0x18e)]),logger[_0x59a5cf(0x22b)](_0x490a26['OkewK']);const _0x5703ec=await fs[_0x59a5cf(0x1dd)](path[_0x59a5cf(0x280)](__dirname,'..',_0x490a26[_0x59a5cf(0xff)],_0x490a26['ZYgbD'],_0x490a26[_0x59a5cf(0x118)]),_0x490a26['CUFeh']),_0x22583e=yaml[_0x59a5cf(0x246)](_0x5703ec);_0x22583e[_0x59a5cf(0x256)][_0x490a26[_0x59a5cf(0x15c)]]=_0x452672;const _0x40c632={};_0x40c632[_0x59a5cf(0x276)]=_0x22583e;const _0x3b2a6f=await _0x43156f[_0x59a5cf(0x229)](_0x40c632);logger[_0x59a5cf(0x22b)](_0x490a26['DmdNE']);const _0x18225f={};_0x18225f[_0x59a5cf(0x1ea)]=WS_EVENTS['LOG'],_0x18225f[_0x59a5cf(0xe9)]=_0x490a26[_0x59a5cf(0x1d3)],this[_0x59a5cf(0x210)][_0x59a5cf(0x1c9)](this['rws'],_0x18225f);}}catch(_0x1e5750){if(_0x490a26['lEXdX'](_0x490a26['YjVrq'],_0x490a26[_0x59a5cf(0x196)])){const _0x43d0a4=_0x490a26['YdQtQ'][_0x59a5cf(0x260)]('|');let _0x3558ef=0x0;while(!![]){switch(_0x43d0a4[_0x3558ef++]){case'0':await _0x490a26[_0x59a5cf(0x1b2)](deleteClusterAndDependencies,global_registry['clusterRegion'],this[_0x59a5cf(0x252)]);continue;case'1':process[_0x59a5cf(0x220)](0x1);continue;case'2':logger[_0x59a5cf(0xf6)](_0x5049a8);continue;case'3':_0x5049a8=_0x59a5cf(0x1b0)+_0x1e5750[_0x59a5cf(0xe9)];continue;case'4':await _0x490a26['sWLSF'](reportToGalactusAndSendToEDS,_0x3512b6,this['rws'],_0x5049a8,messageTypes[_0x59a5cf(0x16b)],_0x490a26[_0x59a5cf(0x14b)],_0x490a26[_0x59a5cf(0x183)],_0x490a26[_0x59a5cf(0x24d)]);continue;}break;}}else _0x9959d2[_0x59a5cf(0xf6)](_0x59a5cf(0x1bd)+_0x2a4f62[_0x59a5cf(0xfd)]+':',_0x185296);}}async[a0_0x3c252a(0x1ce)](_0x293a0d,_0x274cbf,_0x25e800){const _0x56e3fe=a0_0x3c252a,_0x35012d={'rKyKl':function(_0x5d66c7,_0x28b0a0){return _0x5d66c7(_0x28b0a0);},'tKFjC':function(_0x3cb66c,_0x439927){return _0x3cb66c(_0x439927);},'AnGvI':function(_0x79e1f9,_0x10dfcd){return _0x79e1f9(_0x10dfcd);},'IvKwy':function(_0x12bf2e,_0x4552b6){return _0x12bf2e===_0x4552b6;},'vYmmo':_0x56e3fe(0x168),'jtPBA':_0x56e3fe(0x188),'IFFYo':function(_0x399527,_0x4dbb2c){return _0x399527!==_0x4dbb2c;},'XdLer':_0x56e3fe(0x156),'ERqwc':_0x56e3fe(0x1d6)},_0x6e8bbb={};_0x6e8bbb[_0x56e3fe(0x287)]=global_registry[_0x56e3fe(0x13f)];const _0x5a7eff=new awsSDK[(_0x56e3fe(0x1d9))](_0x6e8bbb),_0x3314f6={};_0x3314f6[_0x56e3fe(0x287)]=global_registry[_0x56e3fe(0x13f)];const _0x25036e=new awsSDK[(_0x56e3fe(0x214))](_0x3314f6),_0x1bb71d=new Set(),_0x22426e=[];for(const _0x4de5b6 of _0x293a0d){if(_0x35012d[_0x56e3fe(0x164)](_0x35012d['vYmmo'],_0x35012d[_0x56e3fe(0x222)]))_0x3ff98e['clusters'][_0x56e3fe(0x181)](this['clusterName'])&&_0x35012d['rKyKl'](_0x16962c,!![]),_0x35012d[_0x56e3fe(0x1fb)](_0xa6d41e,![]);else{const _0x38f58f=await this['getAvailabilityZone'](_0x25036e,_0x4de5b6['value']);if(_0x1bb71d[_0x56e3fe(0x262)](_0x38f58f)){if(_0x35012d['IFFYo'](_0x35012d[_0x56e3fe(0x27c)],_0x35012d[_0x56e3fe(0x240)])){logger[_0x56e3fe(0x22b)]('Skipping\x20subnet\x20'+_0x4de5b6['value']+_0x56e3fe(0x275)+_0x38f58f+_0x56e3fe(0x1ad));continue;}else _0x25d3f3[_0x56e3fe(0xf6)](_0x56e3fe(0x1f5)+_0x5977b7+_0x56e3fe(0x278)+_0x54c385[_0x56e3fe(0x13f)]+_0x56e3fe(0x1f3)+_0x57817f),_0x35012d[_0x56e3fe(0x27f)](_0x12c839,[![],[]]);}_0x1bb71d[_0x56e3fe(0xf5)](_0x38f58f),_0x22426e[_0x56e3fe(0x171)](this[_0x56e3fe(0x103)](_0x5a7eff,_0x4de5b6,_0x274cbf,_0x25e800));}}await Promise[_0x56e3fe(0x11a)](_0x22426e);}async[a0_0x3c252a(0x103)](_0xad46ae,_0x467b23,_0x56cced,_0x2a7547){const _0x14e67f=a0_0x3c252a,_0xdba999={'keljF':function(_0x3c1566,_0x316da5){return _0x3c1566(_0x316da5);},'zJBkA':function(_0x52685b,_0x5e5094){return _0x52685b!==_0x5e5094;},'jLxmk':_0x14e67f(0x1a5),'lLyWw':function(_0x663b86,_0x5a717a){return _0x663b86===_0x5a717a;},'gCdWs':_0x14e67f(0x281),'JTYcN':_0x14e67f(0x137)};try{if(_0xdba999['zJBkA'](_0xdba999[_0x14e67f(0x161)],_0xdba999[_0x14e67f(0x161)]))_0xdba999[_0x14e67f(0x24b)](_0x1f2764,this['rws']);else{const _0x1f0de6={};_0x1f0de6[_0x14e67f(0x20d)]=_0x2a7547,_0x1f0de6['SubnetId']=_0x467b23['value'],_0x1f0de6[_0x14e67f(0x223)]=[_0x56cced];const _0x36c303=await _0xad46ae[_0x14e67f(0x1c3)](_0x1f0de6)['promise'](),_0x29a309=_0x36c303['MountTargetId'];await this[_0x14e67f(0xfb)](_0xad46ae,_0x467b23[_0x14e67f(0xfd)],_0x29a309);}}catch(_0x1d589a){if(_0xdba999[_0x14e67f(0x20f)](_0xdba999[_0x14e67f(0xea)],_0xdba999[_0x14e67f(0x1c6)]))throw new _0x326ab5('Mount\x20target\x20'+_0xa5485c+'\x20failed\x20to\x20reach\x20the\x20available\x20state.');else logger['error'](_0x14e67f(0x1bd)+_0x467b23['value']+':',_0x1d589a);}}async[a0_0x3c252a(0xfb)](_0x2d826d,_0x422e74,_0x13111f){const _0x174315=a0_0x3c252a,_0xf69904={};_0xf69904[_0x174315(0x23f)]=function(_0x3d112a,_0x508527){return _0x3d112a!==_0x508527;},_0xf69904[_0x174315(0x119)]='allowed',_0xf69904[_0x174315(0x154)]=_0x174315(0x12c),_0xf69904[_0x174315(0x1ff)]=function(_0xdbd3b8,_0x5c21ba){return _0xdbd3b8===_0x5c21ba;},_0xf69904['FkpYA']=_0x174315(0x236),_0xf69904[_0x174315(0x226)]=_0x174315(0x143),_0xf69904[_0x174315(0x26e)]=function(_0x36d115,_0x1feae8){return _0x36d115===_0x1feae8;},_0xf69904[_0x174315(0x23e)]=function(_0x1dd759,_0x593ee8){return _0x1dd759!==_0x593ee8;},_0xf69904[_0x174315(0x1a6)]=_0x174315(0x14a),_0xf69904['jEIyf']=function(_0x429b8f,_0x2522ec){return _0x429b8f===_0x2522ec;},_0xf69904[_0x174315(0x237)]=_0x174315(0x105),_0xf69904[_0x174315(0x1cb)]=function(_0x205998,_0x2bc605){return _0x205998!==_0x2bc605;},_0xf69904[_0x174315(0x11f)]=_0x174315(0x11d);const _0x297da4=_0xf69904;let _0x1b6421='';while(_0x297da4[_0x174315(0x23f)](_0x1b6421,_0x297da4[_0x174315(0x154)])){if(_0x297da4['qwNpE'](_0x297da4[_0x174315(0x179)],_0x297da4[_0x174315(0x226)])){const _0x1c365b=_0x45b4bc[_0x174315(0x110)][_0x174315(0x260)](':')[0x0];_0x2810ca+='\x0a\x09Service:\x20'+_0x1c365b[_0x174315(0x1ca)]()+_0x174315(0x20e)+_0x376cf5[_0x2772f5[_0x174315(0x110)]]+':\x20'+_0x1cfac8[_0x174315(0x218)],_0x297da4[_0x174315(0x23f)](_0x17d021['EvalDecision'],_0x297da4[_0x174315(0x119)])&&(_0x3de528[_0x174315(0x182)]=![]);}else{const _0x3a7107={};_0x3a7107['MountTargetId']=_0x13111f;const _0xd5578b=await _0x2d826d[_0x174315(0x20a)](_0x3a7107)['promise']();_0x1b6421=_0xd5578b['MountTargets'][0x0][_0x174315(0x24f)];if(_0x297da4[_0x174315(0x26e)](_0x1b6421,_0x297da4[_0x174315(0x154)])){if(_0x297da4[_0x174315(0x23e)](_0x297da4[_0x174315(0x1a6)],_0x297da4[_0x174315(0x1a6)]))return!![];else{logger[_0x174315(0x22b)]('Mount\x20target\x20created\x20for\x20subnet:\x20'+_0x422e74+_0x174315(0x1d1)+_0x13111f+'.');break;}}if(_0x297da4[_0x174315(0x277)](_0x1b6421,_0x297da4[_0x174315(0x237)])){if(_0x297da4['NVJlb'](_0x297da4[_0x174315(0x11f)],_0x297da4[_0x174315(0x11f)]))_0x525983['push'](_0x50850b[_0x174315(0x24a)]);else throw new Error('Mount\x20target\x20'+_0x13111f+_0x174315(0x141));}await new Promise(_0x22a7ee=>setTimeout(_0x22a7ee,0x1388));}}}async[a0_0x3c252a(0xf0)](_0x9c2f09,_0x522a97){const _0x50807a=a0_0x3c252a,_0x5d41fc={};_0x5d41fc[_0x50807a(0x1ab)]=[_0x522a97];const _0x3fbfd9=await _0x9c2f09[_0x50807a(0x258)](_0x5d41fc)[_0x50807a(0x1f4)]();return _0x3fbfd9[_0x50807a(0x22a)][0x0][_0x50807a(0x169)];}['isVPCPresent'](_0x1ad25e){const _0x11f58b=a0_0x3c252a,_0x4b3181={'eZBSq':function(_0x3294bd,_0x1c6005){return _0x3294bd!==_0x1c6005;},'HjnKO':'aKnxB','fgOxK':_0x11f58b(0x1f8),'GliQZ':function(_0x1c234f,_0x3942fc){return _0x1c234f(_0x3942fc);},'eUCZD':function(_0x13e489,_0x197167){return _0x13e489(_0x197167);},'DFuYl':_0x11f58b(0x1c4),'qHmQO':function(_0x806b8e,_0x123131){return _0x806b8e!==_0x123131;},'ThbzH':_0x11f58b(0x274),'NKCad':_0x11f58b(0x215),'zwqUt':_0x11f58b(0x266)},_0x19b606={};_0x19b606[_0x11f58b(0x127)]=[_0x1ad25e];const _0xefb98d=_0x19b606;return new Promise((_0x222462,_0x1c28ff)=>{const _0x11aeaa=_0x11f58b,_0x54f16d={'UhzZD':function(_0x2cc135,_0x42aabc){const _0x28eb52=a0_0xefc1;return _0x4b3181[_0x28eb52(0x1e9)](_0x2cc135,_0x42aabc);},'MbRGF':_0x4b3181['HjnKO'],'XejNW':_0x4b3181[_0x11aeaa(0x267)],'IhZtp':function(_0x468138,_0x42e0f4){const _0xdcd1d3=_0x11aeaa;return _0x4b3181[_0xdcd1d3(0xec)](_0x468138,_0x42e0f4);},'NsJBC':function(_0x41d82c,_0x3bd414){const _0x2b207d=_0x11aeaa;return _0x4b3181[_0x2b207d(0x107)](_0x41d82c,_0x3bd414);},'snSBC':_0x4b3181[_0x11aeaa(0x17e)],'Xqjuw':function(_0x4ccf1c,_0x2ce2c2){const _0x43eb34=_0x11aeaa;return _0x4b3181[_0x43eb34(0x107)](_0x4ccf1c,_0x2ce2c2);}};if(_0x4b3181[_0x11aeaa(0x197)](_0x4b3181['ThbzH'],_0x4b3181[_0x11aeaa(0x14f)])){const _0x4c07e2={};_0x4c07e2['apiVersion']=_0x4b3181[_0x11aeaa(0x1af)],_0x4c07e2['region']=global_registry[_0x11aeaa(0x13f)];const _0x5ea813=new awsSDK['EC2'](_0x4c07e2);_0x5ea813[_0x11aeaa(0x148)](_0xefb98d)[_0x11aeaa(0x1f4)]()[_0x11aeaa(0x120)](_0x17756e=>{const _0x361e53=_0x11aeaa;_0x54f16d[_0x361e53(0x174)](_0x54f16d['MbRGF'],_0x54f16d[_0x361e53(0x135)])?_0x54f16d['IhZtp'](_0x222462,!![]):(_0x4552af[_0x361e53(0x116)]=_0x2e47fd[this[_0x361e53(0x165)]][_0x361e53(0x255)],_0x53a226[_0x361e53(0x203)]=_0x3d13cf[this[_0x361e53(0x165)]]['secret']);})['catch'](_0x28e3f8=>{const _0x5e3b54=_0x11aeaa,_0x430370={'stzRR':function(_0x4bde21,_0x11e5b6){const _0x55c577=a0_0xefc1;return _0x54f16d[_0x55c577(0x1fe)](_0x4bde21,_0x11e5b6);}};_0x54f16d[_0x5e3b54(0x174)](_0x54f16d[_0x5e3b54(0x193)],_0x54f16d['snSBC'])?_0x430370[_0x5e3b54(0x1bc)](_0x461ae6,!![]):(logger[_0x5e3b54(0xf6)]('Cannot\x20find\x20VPC\x20'+_0x1ad25e+_0x5e3b54(0x278)+global_registry[_0x5e3b54(0x13f)]+_0x5e3b54(0x106)),_0x54f16d['Xqjuw'](_0x222462,![]));});}else _0x159a8e['debug'](_0x37b60a);});}[a0_0x3c252a(0x204)](_0x3b98fa,_0x484d34){const _0x11387b=a0_0x3c252a,_0x3b4294={'WWDXp':function(_0x46820b,_0x371e88){return _0x46820b(_0x371e88);},'kkRiG':_0x11387b(0x266),'YQJYM':'2017-11-01','hCKAd':function(_0x32d27e,_0x565e64){return _0x32d27e!==_0x565e64;},'MyuUh':'olkPi','DqGJL':_0x11387b(0x1ed),'URlVx':'zGeHy','mlhbs':function(_0x48d0e3,_0x128962){return _0x48d0e3===_0x128962;},'kVdZD':_0x11387b(0x11b),'kSoiW':function(_0x5376c5,_0x6de983){return _0x5376c5(_0x6de983);},'lZbWL':_0x11387b(0x187),'WXaUj':'XlTrj','DDFzR':function(_0x42e735,_0x2a8b0b){return _0x42e735(_0x2a8b0b);},'AHTyj':function(_0x2ad61b,_0x4b90ed){return _0x2ad61b===_0x4b90ed;},'gKJHc':_0x11387b(0x136),'miEDz':_0x11387b(0x22c),'MCmgV':_0x11387b(0x1b8)},_0x1a9a09={};_0x1a9a09['Name']=_0x3b4294[_0x11387b(0x1a7)],_0x1a9a09[_0x11387b(0x1c7)]=[_0x484d34];const _0x68fc50={};_0x68fc50[_0x11387b(0x17a)]=[_0x1a9a09];const _0x59a01f=_0x68fc50;return new Promise((_0x519044,_0x3aa5bc)=>{const _0x1a6d24=_0x11387b,_0x2b627f={'QrPjo':_0x3b4294[_0x1a6d24(0x261)],'SYYLS':function(_0x83e2a8,_0x2913e1){const _0x2c3e08=_0x1a6d24;return _0x3b4294[_0x2c3e08(0x18c)](_0x83e2a8,_0x2913e1);},'YQqTG':_0x3b4294['MyuUh'],'yLdXk':_0x3b4294[_0x1a6d24(0x233)],'dOdKx':_0x3b4294[_0x1a6d24(0x243)],'UBRdf':function(_0x10a613,_0x5469e2){const _0x263314=_0x1a6d24;return _0x3b4294[_0x263314(0x1f9)](_0x10a613,_0x5469e2);},'OUZpz':_0x3b4294['kVdZD'],'ypjnF':function(_0x13efab,_0x4c388d){return _0x3b4294['kSoiW'](_0x13efab,_0x4c388d);},'AqFAv':_0x3b4294[_0x1a6d24(0x20b)],'fujoz':_0x3b4294[_0x1a6d24(0x1c8)],'MBpay':function(_0x25de10,_0x37ff55){return _0x3b4294['DDFzR'](_0x25de10,_0x37ff55);}};if(_0x3b4294[_0x1a6d24(0x1aa)](_0x3b4294[_0x1a6d24(0x12a)],_0x3b4294[_0x1a6d24(0x1e6)])){const _0x39e5a8={'osLok':function(_0x4d47a5,_0xcef733){const _0x5d5adb=_0x1a6d24;return _0x3b4294[_0x5d5adb(0x1b3)](_0x4d47a5,_0xcef733);}},_0x18fd5d={};_0x18fd5d[_0x1a6d24(0x263)]=_0x3b4294[_0x1a6d24(0x1b5)],_0x18fd5d['region']=_0x2f79fb[_0x1a6d24(0x13f)];const _0xc444ce=new _0x2ea61b[(_0x1a6d24(0x214))](_0x18fd5d);_0xc444ce[_0x1a6d24(0x148)](_0x53f4bd)['promise']()[_0x1a6d24(0x120)](_0x48330d=>{const _0x2118f1=_0x1a6d24;_0x39e5a8[_0x2118f1(0x1e1)](_0x422db8,!![]);})[_0x1a6d24(0x1ee)](_0x461746=>{const _0x2f5d74=_0x1a6d24;_0x21f642[_0x2f5d74(0xf6)](_0x2f5d74(0x166)+_0x527cea+_0x2f5d74(0x278)+_0xf6fcb2['clusterRegion']+_0x2f5d74(0x106)),_0x39e5a8[_0x2f5d74(0x1e1)](_0x2d4800,![]);});}else{const _0x3fba98={};_0x3fba98[_0x1a6d24(0x263)]=_0x3b4294['kkRiG'],_0x3fba98[_0x1a6d24(0x287)]=global_registry['clusterRegion'];const _0x4321f6=new awsSDK['EC2'](_0x3fba98);_0x4321f6[_0x1a6d24(0x258)](_0x59a01f)[_0x1a6d24(0x1f4)]()['then'](_0x27a3c7=>{const _0x569bf0=_0x1a6d24,_0x4f17a3={'sZFFW':_0x2b627f[_0x569bf0(0x167)],'VTCxC':function(_0x2a753d,_0x25f76b){return _0x2b627f['SYYLS'](_0x2a753d,_0x25f76b);},'BPZKV':_0x2b627f['YQqTG'],'uLGCG':_0x2b627f[_0x569bf0(0x28e)],'chgQF':_0x2b627f[_0x569bf0(0x230)],'nLsAF':function(_0x572dba,_0x1721df){const _0x1dda8c=_0x569bf0;return _0x2b627f[_0x1dda8c(0x12f)](_0x572dba,_0x1721df);},'KsSAv':_0x2b627f['OUZpz'],'clKZZ':function(_0x414a60,_0x45d27b){return _0x2b627f['ypjnF'](_0x414a60,_0x45d27b);}};if(_0x2b627f[_0x569bf0(0x12f)](_0x2b627f[_0x569bf0(0x126)],_0x2b627f['AqFAv'])){const _0x5ef33c=[],_0x30091a=[];_0x27a3c7[_0x569bf0(0x22a)][_0x569bf0(0x185)](_0x5ec4a1=>{const _0x5d488d=_0x569bf0,_0x14d52d={};_0x14d52d[_0x5d488d(0x1ba)]=_0x4f17a3['sZFFW'];const _0x1b7d2d=_0x14d52d;if(_0x4f17a3[_0x5d488d(0x17b)](_0x4f17a3[_0x5d488d(0x19c)],_0x4f17a3[_0x5d488d(0x19c)])){const _0x1e8fd6={};_0x1e8fd6[_0x5d488d(0x263)]=_0x1b7d2d[_0x5d488d(0x1ba)];const _0x242043=new _0x49a484[(_0x5d488d(0x282))](_0x1e8fd6),_0x57ae2d={};return _0x57ae2d[_0x5d488d(0x13c)]=this[_0x5d488d(0x252)],_0x242043[_0x5d488d(0xf2)](_0x57ae2d)[_0x5d488d(0x1f4)]();}else _0x5ef33c[_0x5d488d(0x171)](_0x5ec4a1[_0x5d488d(0x24a)]);});const _0x5f2bd9=_0x3b98fa[_0x569bf0(0x201)](_0x360419=>{const _0xa8a2e8=_0x569bf0;if(_0x4f17a3[_0xa8a2e8(0x17b)](_0x4f17a3['uLGCG'],_0x4f17a3[_0xa8a2e8(0x146)])){if(_0x5ef33c['includes'](_0x360419[_0xa8a2e8(0xfd)])){if(_0x4f17a3[_0xa8a2e8(0x24e)](_0x4f17a3[_0xa8a2e8(0x149)],_0x4f17a3['KsSAv']))return!![];else{const _0x1fe9f3={};_0x1fe9f3[_0xa8a2e8(0x216)]=_0x23388c,_0x1fe9f3[_0xa8a2e8(0xfd)]=_0x20fb83,_0x572b82[_0xa8a2e8(0x171)](_0x1fe9f3);}}return _0x30091a[_0xa8a2e8(0x171)](_0x360419),![];}else{if(_0x4d4e33[_0xa8a2e8(0x181)](_0x173a18[_0xa8a2e8(0xfd)]))return!![];return _0x55517c[_0xa8a2e8(0x171)](_0x1c1f26),![];}});_0x2b627f[_0x569bf0(0x19d)](_0x519044,[_0x5f2bd9,_0x30091a]);}else _0x2f0186[_0x569bf0(0xf6)](_0x10c5ce),_0x4f17a3[_0x569bf0(0x25c)](_0x4932d4,_0x37675b);})['catch'](_0x4331bb=>{const _0x59508f=_0x1a6d24,_0x1acbb1={'OJqiW':function(_0x5ba9b7,_0x9c1451){const _0x22df19=a0_0xefc1;return _0x2b627f[_0x22df19(0x19d)](_0x5ba9b7,_0x9c1451);}};if(_0x2b627f[_0x59508f(0x12f)](_0x2b627f[_0x59508f(0x283)],_0x2b627f[_0x59508f(0x283)]))logger[_0x59508f(0xf6)]('Cannot\x20find\x20subnets\x20'+_0x3b98fa+_0x59508f(0x278)+global_registry['clusterRegion']+_0x59508f(0x1f3)+_0x4331bb),_0x2b627f[_0x59508f(0x1cc)](_0x519044,[![],[]]);else{const _0x120a0a={'XUXst':function(_0x2c1577,_0x52484c){return _0x2b627f['ypjnF'](_0x2c1577,_0x52484c);}},_0x57aa9b={};_0x57aa9b[_0x59508f(0x263)]=_0x2b627f[_0x59508f(0x167)];const _0x2fef82=new _0x53a281[(_0x59508f(0x282))](_0x57aa9b);_0x2fef82[_0x59508f(0x1f1)]()[_0x59508f(0x1f4)]()['then'](_0x101603=>{const _0x4c3e61=_0x59508f;_0x101603[_0x4c3e61(0xe8)][_0x4c3e61(0x181)](this[_0x4c3e61(0x252)])&&_0x1acbb1[_0x4c3e61(0x16d)](_0x5d1f50,!![]),_0x1acbb1[_0x4c3e61(0x16d)](_0x42e9f6,![]);})[_0x59508f(0x1ee)](_0x104588=>{const _0x1f94bc=_0x59508f;_0x2bf026['error'](_0x104588),_0x120a0a[_0x1f94bc(0x163)](_0xe271ba,_0x104588);});}});}});}async[a0_0x3c252a(0x10a)](){const _0x3a84dc=a0_0x3c252a,_0x4b7634={'uvPTO':function(_0x3ca4af,_0x12fee7){return _0x3ca4af(_0x12fee7);},'iaqtu':_0x3a84dc(0x1da),'VkCJP':_0x3a84dc(0x14c),'zSZQn':'aws-iam-authenticator\x20tool\x20is\x20installed'},_0x3fabab={};_0x3fabab[_0x3a84dc(0x182)]=![],_0x3fabab[_0x3a84dc(0xf6)]=null,_0x3fabab[_0x3a84dc(0x1e5)]='';const _0x18b1c1=_0x3fabab;try{const _0x38f442=await _0x4b7634[_0x3a84dc(0x122)](runCommand,_0x4b7634[_0x3a84dc(0x198)]);_0x38f442[_0x3a84dc(0x207)](_0x4b7634[_0x3a84dc(0x208)])?logger[_0x3a84dc(0xef)](_0x38f442):logger['debug'](_0x38f442),_0x18b1c1[_0x3a84dc(0x182)]=!![],_0x18b1c1[_0x3a84dc(0x1e5)]=_0x4b7634[_0x3a84dc(0x249)];}catch(_0x232e72){logger[_0x3a84dc(0xf6)](_0x3a84dc(0x17f)+_0x232e72+'\x20:\x20'+_0x232e72[_0x3a84dc(0x213)]),_0x18b1c1[_0x3a84dc(0x1e5)]=_0x3a84dc(0xed)+_0x232e72,_0x18b1c1[_0x3a84dc(0xf6)]=_0x232e72;}return _0x18b1c1;}async[a0_0x3c252a(0x28c)](){const _0x47f4f2=a0_0x3c252a,_0x4a7192={};_0x4a7192[_0x47f4f2(0xeb)]=_0x47f4f2(0x1b1),_0x4a7192[_0x47f4f2(0x1df)]=_0x47f4f2(0x1d4);const _0x156135=_0x4a7192,_0x3c17bf=await new awsSDK[(_0x47f4f2(0x225))]()['getCallerIdentity']()[_0x47f4f2(0x1f4)](),{Account:_0x16f235,Arn:_0x230349}=_0x3c17bf,_0x5e27e7=_0x230349[_0x47f4f2(0x181)](_0x156135[_0x47f4f2(0xeb)]),_0x137702=_0x5e27e7?_0x47f4f2(0x20c)+_0x16f235+_0x47f4f2(0x1b1)+_0x230349[_0x47f4f2(0x260)](_0x156135['nrPnS'])[0x1]:'arn:aws:iam::'+_0x16f235+_0x47f4f2(0x1d4)+_0x230349[_0x47f4f2(0x260)](_0x156135[_0x47f4f2(0x1df)])[0x1];return _0x137702;}async[a0_0x3c252a(0x176)](){const _0x2f96d7=a0_0x3c252a,_0x3cca77={};_0x3cca77[_0x2f96d7(0x173)]=function(_0x2ad9ca,_0x32b907){return _0x2ad9ca!==_0x32b907;},_0x3cca77[_0x2f96d7(0x170)]=_0x2f96d7(0x26c);const _0x7566b7=_0x3cca77,_0x34f982={};_0x34f982[_0x2f96d7(0x182)]=![],_0x34f982['error']=null,_0x34f982['data']='';const _0x22624a=_0x34f982;try{const _0x212601=await this[_0x2f96d7(0x28c)](),_0x36cfd3={'PolicySourceArn':_0x212601,'ActionNames':Object[_0x2f96d7(0x1ef)](PERMISSIONS)},_0xe30ed2=await new awsSDK[(_0x2f96d7(0x112))]()[_0x2f96d7(0x21d)](_0x36cfd3)[_0x2f96d7(0x1f4)]();let _0x4322f3='';logger['debug'](_0x2f96d7(0x18b)+JSON['stringify'](_0xe30ed2)),_0x22624a[_0x2f96d7(0x182)]=!![],_0xe30ed2[_0x2f96d7(0x108)][_0x2f96d7(0x185)](_0x587b1a=>{const _0x51788d=_0x2f96d7,_0x57eaed=_0x587b1a[_0x51788d(0x110)][_0x51788d(0x260)](':')[0x0];_0x4322f3+=_0x51788d(0x25f)+_0x57eaed[_0x51788d(0x1ca)]()+_0x51788d(0x20e)+PERMISSIONS[_0x587b1a[_0x51788d(0x110)]]+':\x20'+_0x587b1a[_0x51788d(0x218)],_0x7566b7[_0x51788d(0x173)](_0x587b1a[_0x51788d(0x218)],_0x7566b7[_0x51788d(0x170)])&&(_0x22624a[_0x51788d(0x182)]=![]);}),_0x22624a[_0x2f96d7(0x1e5)]=_0x4322f3;}catch(_0x1713c5){_0x22624a[_0x2f96d7(0xf6)]=_0x1713c5;}return _0x22624a;}}const a0_0x3f920d={};a0_0x3f920d[a0_0x3c252a(0x145)]=AWSCloudProvider,module[a0_0x3c252a(0x130)]=a0_0x3f920d;