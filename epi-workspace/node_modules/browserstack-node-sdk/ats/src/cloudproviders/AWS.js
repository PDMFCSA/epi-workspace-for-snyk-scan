const a0_0x1d85ae=a0_0x462b;(function(_0x434022,_0x17eac5){const _0x91ae9a=a0_0x462b,_0x1f0c2f=_0x434022();while(!![]){try{const _0xf87a56=-parseInt(_0x91ae9a(0x21b))/0x1+parseInt(_0x91ae9a(0x1fe))/0x2*(-parseInt(_0x91ae9a(0x2cc))/0x3)+parseInt(_0x91ae9a(0x2c7))/0x4+-parseInt(_0x91ae9a(0x2f5))/0x5*(-parseInt(_0x91ae9a(0x2da))/0x6)+parseInt(_0x91ae9a(0x243))/0x7*(-parseInt(_0x91ae9a(0x30f))/0x8)+parseInt(_0x91ae9a(0x205))/0x9+parseInt(_0x91ae9a(0x2fb))/0xa;if(_0xf87a56===_0x17eac5)break;else _0x1f0c2f['push'](_0x1f0c2f['shift']());}catch(_0x57d5d4){_0x1f0c2f['push'](_0x1f0c2f['shift']());}}}(a0_0x45dc,0x355c2));const fs=require('fs'),path=require(a0_0x1d85ae(0x28d)),yaml=require('js-yaml'),awsSDK=require('aws-sdk'),{logger}=require(a0_0x1d85ae(0x1d5)),{CloudProvider}=require(a0_0x1d85ae(0x1c7)),{sendAWSInfoToHST}=require('../utils/hstUtils'),{createClusterStack}=require('../utils/createClusterStack'),{createHubHaStack}=require(a0_0x1d85ae(0x1c0)),{deleteClusterAndDependencies,deleteRoutingDeps,deleteAgent}=require('../utils/gridComponents'),{createAutoscalerStack}=require(a0_0x1d85ae(0x27d)),{getDirForConfig,reportToGalactusAndSendToEDS,kubeApply}=require(a0_0x1d85ae(0x30b)),{IAM_USER_NAME,AWS,WS_EVENTS,global_registry,messageTypes}=require(a0_0x1d85ae(0x226));function a0_0x45dc(){const _0x26ab0e=[',VPC\x20=>\x20','uaUnT','-NodeGroup','clusterRegion','UwEKu','push','clusterName','Creating\x20required\x20resources\x20-\x20EKS\x20role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups,\x20Cluster\x20and\x20Node\x20Group(s)','setupAutoscaler','HfDAM','Creating\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','templates','readFileAsync','13202qGKxpw','guGea','setupNewCluster','GnSoM','Subnets','vSnol','cluster','Peubv','every','getUserInput','2017-11-01','VxxUg','Created\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','vznzH','create-grid-called','vHCNw','all',',\x20MountTargetId:\x20','PWiwD','EeCEQ','split','KWZfv','Stacks',',\x20ClusterRole\x20=>\x20','isSubnetsValid','jVkbx','Creating\x20required\x20dependencies\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','RSfJv','ERROR','uhvnS','promise','describeCluster','egUAJ','join','mapRoles','[ats]\x0aaws_access_key_id\x20=\x20','SubnetId','KpbQJ','VYEFr','tjHkg','vpc-id','wAFkn','GWFQM','secret','oYUsc','createMountTargets','upEAN','createNamespacedConfigMap','ZDUWD','lzYGe','EFS\x20Controller\x20Role\x20=>\x20','xSQCA','NodeRole\x20=>\x20','<ARN>','Name','error','failed','NtWPy','../utils/createAutoscalerStack','aws-auth-cm.yaml','.\x20Please\x20Check\x20and\x20try\x20again','getNodeGroupInfo','AylBL','jiMZv','BnTAf','bwwXX','FjNpX','EhZee','PXTIK','Creating\x20Autoscaler\x20Role','ingress','getKubeConfigData','then','jvJez','path','XLJXV','UGiMv','HGzik','clusters','ZaRXa','tMVuD','rDDPY','toUpperCase','klJsO','GTyWK','WvFDa','NyUYr','cTohN','RZSoI','WARNING','BPvMl','\x20SECRET\x20KEY:\x20','waitForMountTarget','2016-11-15','VpcIds','Unable\x20to\x20spawn\x20Autoscaler\x20due\x20to:\x20','AlvzH','TCwuw','hylTv','JKLvt','nodeRole','DmPAX','Creating\x20required\x20resources\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','storage-class.yaml','EFSFileSystemId','aws_credentials','tags','\x20failed\x20to\x20reach\x20the\x20available\x20state.','iTHBM','AlVXf','label','createMountTarget','listClusters','getClusterInfo','Mount\x20target\x20','ClusterRole\x20=>\x20','fXhNQ','Mount\x20target\x20created\x20for\x20subnet:\x20','MountTargetId','QzpLl','izyVe','tfuQU','JOhgQ','Added\x20storage\x20class.','XIAGe','Following\x20resources\x20are\x20created:','KwUDE','LucIk','AWSCloudProvider','zpucd','QOlYm','has','31148ovWDQY','sbQBx','isClusterPresent','createAuthConfigMap','GkPDI','6WNzHui','gvTyn','QxmMt','\x20because\x20its\x20Availability\x20Zone\x20','.\x20Error:\x20','uDDZQ','VNNKd','cghYO','TgDEs','JQnaF','loadBalancer','VRGwW','Kpnhm','warn','24UhQHkJ','UGEND','boIPW','reduce','lvVpi','zfoiC','Authmap\x20already\x20exists.\x20Not\x20updating','jEFxV','name','WelMt','TWdtW','ERUjj','secretAccessKey','nIUei','cloudProviderAccessKey','RnumW','fbClo','QPALk','xqbtC','faftk',',\x20Subnets\x20=>\x20','exports','init','VPC\x20=>\x20','accessKeyId','message','ePVmY','220940EOqfAa','pmaBH','EFS','fFQgt','utf-8','BnmsD','4490440rpbmwp','Following\x20resources\x20are\x20created\x20for\x20Hub\x20HA:\x20EFS_ControllerRoleArn\x20=>\x20','parameters','wpJsR','describeVpcs','cloudProviderName','Mounting\x20Target\x20for\x20EFS','Cannot\x20find\x20subnets\x20','ROCnx','nTMaG','VJRwv','describeSubnets','BMCmV','YcwnW','available','Added\x20EFS\x20CSI\x20Driver','../utils/utilityMethods','Sgzie','LMutK','createMountTargetAndWait','1208EowZse','status','includes','warning','AvailabilityZone','DyTjK','catch','EFS\x20SecurityGroup\x20=>\x20','nodegroupName','\x20in\x20region\x20','sendEventToBackend','webSocketUtils','body','iXlGd','../utils/createHubHaStack','wgFNv','NyNws','Jdlxl','HeFlK','maxNodes','SecurityGroups\x20=>\x20','./CloudProvider','yYDYa','lojoU','hqopt','.\x20Deleting\x20all\x20the\x20stacks','forEach','apBCr','YqSYo','qAAUV','EFS\x20FileSystem\x20=>\x20','OutputValue','replace','kube-system','info','../config/logger','Error\x20creating\x20mount\x20target\x20for\x20subnet\x20','NpZUO',',\x20EFS_SecurityGroup\x20=>\x20','kxMZj','data','Adding\x20EFS\x20CSI\x20Driver','wwksB','type','DNGSt','getAvailabilityZone','0|1|4|2|3','rwAuq','CiUwa','Emoqs','update','zBPBC','QwIaT','wzPLN','browserstack','HSayf','Adding\x20storage\x20class...','Supkl','kyQde','QOVGY','Setting\x20up\x20Hub\x20HA','LDvao','goPWl','toLowerCase','EC2','Subnets\x20=>\x20','WLyNw','hostname','VGWdf','3|2|4|1|0','KOjQO','ychWs','gMKBp','fUrBZ','TMfDc','Creating\x20required\x20dependencies\x20-\x20EKS\x20Role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups\x20and\x20Cluster\x20and\x20Node\x20Group(s)','374882ChIvJk','setCachedCredsInRegistry','describeMountTargets','EKS','svWDA','certificateAuthority','AHozN','2940795JPVkCa','vVHvW','mbDFj','wqggG','IxeKi','describeNodegroup','endpoint','MountTargets','yfeak','Cannot\x20find\x20VPC\x20','efcfk','cloudProviderSecretKey','EkJHH','rws','config','LOG','Skipping\x20subnet\x20','RNFQk','checkClusterCreated','reportToGalactusAndSendToEDS','ZqmUa','browserstack:managedBy','82108bHaGgV','\x20ACCESS\x20KEY:\x20','EFSControllerRoleArn','fileSystemId','loadAll','fHJLV','apiVersion','FguwC','value','YLQlW','exit','../config/constants','mQlCv','load','EztBA','Qlhwa','UanQF','hubharesources','region','GEhIv','Outputs','ylutx','autoscaler-creation-failed','accessKey','lsAQE','createStorageClass','CdUYX'];a0_0x45dc=function(){return _0x26ab0e;};return a0_0x45dc();}function a0_0x462b(_0x31ead9,_0x1374d1){const _0x45dc1d=a0_0x45dc();return a0_0x462b=function(_0x462ba0,_0x24b616){_0x462ba0=_0x462ba0-0x1bf;let _0x1f229f=_0x45dc1d[_0x462ba0];return _0x1f229f;},a0_0x462b(_0x31ead9,_0x1374d1);}class AWSCloudProvider extends CloudProvider{constructor(_0x50664f,_0x5a8ab6,_0x5cc2b5,_0x2aa2db){super(AWS,_0x50664f,_0x5a8ab6,_0x5cc2b5,_0x2aa2db);}async[a0_0x1d85ae(0x2f0)](){const _0x15ec59=a0_0x1d85ae;await super[_0x15ec59(0x2f0)]();const _0x5ac2a6={};return _0x5ac2a6['region']=global_registry[_0x15ec59(0x239)],_0x5ac2a6[_0x15ec59(0x2f2)]=global_registry['cloudProviderAccessKey'],_0x5ac2a6[_0x15ec59(0x2e6)]=global_registry[_0x15ec59(0x210)],awsSDK[_0x15ec59(0x213)][_0x15ec59(0x1e4)](_0x5ac2a6),this;}async['sendResourceDataToHST'](){const _0x51ecc9=a0_0x1d85ae,_0x4216fe={'WCwZN':function(_0x5eed47,_0x544483){return _0x5eed47(_0x544483);}};_0x4216fe['WCwZN'](sendAWSInfoToHST,this[_0x51ecc9(0x212)]);}async[a0_0x1d85ae(0x1ff)](_0x3244f9){const _0x31acbc=a0_0x1d85ae;global_registry[_0x31acbc(0x2e8)]=_0x3244f9[this['cloudProviderName']]['accessKey'],global_registry[_0x31acbc(0x210)]=_0x3244f9[this[_0x31acbc(0x300)]][_0x31acbc(0x26e)];}['getGridHostname'](_0x3e8095){const _0x115a22=a0_0x1d85ae;return _0x3e8095[_0x115a22(0x310)][_0x115a22(0x2d6)]['ingress'][0x0]['hostname'];}async['isBrowserstackCluster'](){const _0xc7d0c4=a0_0x1d85ae,_0x1fc841={'PXTIK':function(_0x36c43b,_0x27f85e){return _0x36c43b(_0x27f85e);},'HSayf':function(_0x13929f,_0x50f151){return _0x13929f===_0x50f151;},'AlvzH':_0xc7d0c4(0x23a),'FxgRz':'VGrCf','bwwXX':'qKEkT','cyZeV':_0xc7d0c4(0x21a),'xqbtC':_0xc7d0c4(0x1e8),'svWDA':function(_0x8417e,_0x53f747){return _0x8417e===_0x53f747;},'fWGWa':_0xc7d0c4(0x2d7),'XIAGe':_0xc7d0c4(0x2dc)};try{if(_0x1fc841[_0xc7d0c4(0x1e9)](_0x1fc841[_0xc7d0c4(0x2a3)],_0x1fc841['FxgRz']))throw new _0xb4725f('Mount\x20target\x20'+_0x43c236+_0xc7d0c4(0x2ae));else{const _0x25f8e9=await this[_0xc7d0c4(0x2b4)]();if(_0x25f8e9['cluster']){if(_0x1fc841[_0xc7d0c4(0x1e9)](_0x1fc841['bwwXX'],_0x1fc841[_0xc7d0c4(0x284)])){const _0x1ad3f7=_0x25f8e9[_0xc7d0c4(0x249)]['tags'];return _0x1ad3f7&&_0x1fc841[_0xc7d0c4(0x1e9)](_0x1ad3f7[_0x1fc841['cyZeV']][_0xc7d0c4(0x1f1)](),_0x1fc841[_0xc7d0c4(0x2ec)]);}else _0x1fc841[_0xc7d0c4(0x287)](_0x182ca4,!![]);}}}catch(_0x176d6f){if(_0x1fc841[_0xc7d0c4(0x202)](_0x1fc841['fWGWa'],_0x1fc841[_0xc7d0c4(0x2bf)])){if(_0x594455[_0xc7d0c4(0x311)](_0x433b01[_0xc7d0c4(0x223)]))return!![];return _0x3520dc[_0xc7d0c4(0x23b)](_0x324704),![];}else return![];}return![];}async[a0_0x1d85ae(0x2c9)](){const _0xee6f47=a0_0x1d85ae;return this[_0xee6f47(0x217)]();}async[a0_0x1d85ae(0x2b4)](){const _0x4df1ec=a0_0x1d85ae,_0x2f3dc4={};_0x2f3dc4[_0x4df1ec(0x22e)]='2017-11-01';const _0x550c24=_0x2f3dc4,_0x3c07af={};_0x3c07af[_0x4df1ec(0x221)]=_0x550c24['GEhIv'];const _0x5d765a=new awsSDK['EKS'](_0x3c07af),_0x1d9d49={};return _0x1d9d49[_0x4df1ec(0x2e2)]=this[_0x4df1ec(0x23c)],_0x5d765a['describeCluster'](_0x1d9d49)[_0x4df1ec(0x261)]();}async[a0_0x1d85ae(0x2ca)](_0x413be9){const _0x131d4b=a0_0x1d85ae,_0x553f20={};_0x553f20[_0x131d4b(0x207)]=_0x131d4b(0x241),_0x553f20['EhZee']=_0x131d4b(0x27e),_0x553f20[_0x131d4b(0x244)]=_0x131d4b(0x2f9),_0x553f20[_0x131d4b(0x282)]=_0x131d4b(0x278);const _0x4abf7f=_0x553f20,_0x42f3d4=await fs['readFileAsync'](path[_0x131d4b(0x264)](__dirname,'..',_0x4abf7f[_0x131d4b(0x207)],_0x4abf7f[_0x131d4b(0x286)]),_0x4abf7f[_0x131d4b(0x244)]),_0x15fb0d=yaml[_0x131d4b(0x228)](_0x42f3d4);return _0x15fb0d['data'][_0x131d4b(0x265)]=_0x15fb0d[_0x131d4b(0x1da)][_0x131d4b(0x265)][_0x131d4b(0x1d2)](_0x4abf7f[_0x131d4b(0x282)],_0x413be9),_0x15fb0d;}async['getNodeGroupInfo'](_0x50610a){const _0x2204aa=a0_0x1d85ae,_0x56049d={};_0x56049d[_0x2204aa(0x290)]=_0x2204aa(0x24d);const _0x205ea6=_0x56049d,_0x22615a={};_0x22615a[_0x2204aa(0x221)]=_0x205ea6[_0x2204aa(0x290)];const _0x4b8a66=new awsSDK[(_0x2204aa(0x201))](_0x22615a),_0x327cb4={};return _0x327cb4[_0x2204aa(0x23c)]=this['clusterName'],_0x327cb4[_0x2204aa(0x317)]=_0x50610a,_0x4b8a66[_0x2204aa(0x20a)](_0x327cb4)[_0x2204aa(0x261)]();}async[a0_0x1d85ae(0x217)](){const _0x1fc497=a0_0x1d85ae,_0x51964f={'fHJLV':function(_0x32099a,_0x106f1a){return _0x32099a(_0x106f1a);},'nTMaG':function(_0x4af91c,_0x339021){return _0x4af91c(_0x339021);},'ncSQs':_0x1fc497(0x2a0),'wpJsR':function(_0x3ae458,_0x266e7e){return _0x3ae458!==_0x266e7e;},'klJsO':_0x1fc497(0x233),'qufGU':_0x1fc497(0x1f9),'sbQBx':_0x1fc497(0x2a5),'xgTkA':_0x1fc497(0x2eb),'HeFlK':'aaWEB','vVHvW':_0x1fc497(0x24d)};return new Promise((_0x22e9ff,_0xcf2afc)=>{const _0x2694ac=_0x1fc497,_0x305a7b={'fUrBZ':function(_0x53e515,_0x5b8f9e){const _0x113374=a0_0x462b;return _0x51964f[_0x113374(0x220)](_0x53e515,_0x5b8f9e);},'uDDZQ':function(_0x3e3149,_0x1fd766){const _0x4ca466=a0_0x462b;return _0x51964f[_0x4ca466(0x304)](_0x3e3149,_0x1fd766);},'BnmsD':_0x51964f['ncSQs'],'rDDPY':function(_0x4f2651,_0x393491){const _0x26df47=a0_0x462b;return _0x51964f[_0x26df47(0x2fe)](_0x4f2651,_0x393491);},'vHCNw':_0x51964f[_0x2694ac(0x296)],'VgUNk':_0x51964f['qufGU'],'RSfJv':_0x51964f[_0x2694ac(0x2c8)],'Kpnhm':function(_0x4fd552,_0x29297f){const _0x54d79a=_0x2694ac;return _0x51964f[_0x54d79a(0x2fe)](_0x4fd552,_0x29297f);},'gMKBp':_0x51964f['xgTkA'],'uaUnT':function(_0x68ab7d,_0xa76369){const _0x4cc7b8=_0x2694ac;return _0x51964f[_0x4cc7b8(0x304)](_0x68ab7d,_0xa76369);}};if(_0x51964f[_0x2694ac(0x2fe)](_0x51964f['HeFlK'],_0x51964f[_0x2694ac(0x1c4)]))_0x4cc1a8[_0x2694ac(0x2e8)]=_0x497271[this[_0x2694ac(0x300)]][_0x2694ac(0x232)],_0x570180[_0x2694ac(0x210)]=_0x32b46f[this[_0x2694ac(0x300)]][_0x2694ac(0x26e)];else{const _0x3e0334={};_0x3e0334[_0x2694ac(0x221)]=_0x51964f[_0x2694ac(0x206)];const _0x536c38=new awsSDK['EKS'](_0x3e0334);_0x536c38[_0x2694ac(0x2b3)]()[_0x2694ac(0x261)]()['then'](_0x447ff3=>{const _0x9718c5=_0x2694ac,_0x24397d={'QOVGY':function(_0x348cf3,_0x5ba861){const _0x8bff9b=a0_0x462b;return _0x305a7b[_0x8bff9b(0x2d1)](_0x348cf3,_0x5ba861);},'QxmMt':_0x305a7b[_0x9718c5(0x2fa)]};if(_0x305a7b[_0x9718c5(0x294)](_0x305a7b[_0x9718c5(0x252)],_0x305a7b['VgUNk'])){if(_0x447ff3[_0x9718c5(0x291)][_0x9718c5(0x311)](this['clusterName'])){if(_0x305a7b[_0x9718c5(0x294)](_0x305a7b[_0x9718c5(0x25e)],_0x305a7b['RSfJv'])){const _0x53931e={'Qlhwa':function(_0x3b4a39,_0x5b7160){const _0x4eb422=_0x9718c5;return _0x305a7b[_0x4eb422(0x1fb)](_0x3b4a39,_0x5b7160);}},_0x5a4d41={};_0x5a4d41[_0x9718c5(0x2a1)]=[_0x361e01];const _0x2f1ce2=_0x5a4d41;return new _0x22ca70((_0x2c23aa,_0x3bbf3d)=>{const _0x1575d6=_0x9718c5,_0x2f1c5f={'vmjLc':function(_0xf156c5,_0x1125f1){const _0x583275=a0_0x462b;return _0x24397d[_0x583275(0x1ed)](_0xf156c5,_0x1125f1);}},_0x1654e4={};_0x1654e4[_0x1575d6(0x221)]=_0x24397d[_0x1575d6(0x2ce)],_0x1654e4[_0x1575d6(0x22d)]=_0x56313e[_0x1575d6(0x239)];const _0x4d647a=new _0x364a3c['EC2'](_0x1654e4);_0x4d647a[_0x1575d6(0x2ff)](_0x2f1ce2)['promise']()[_0x1575d6(0x28b)](_0x55fd98=>{_0x2f1c5f['vmjLc'](_0x2c23aa,!![]);})[_0x1575d6(0x315)](_0x155282=>{const _0x242add=_0x1575d6;_0x215490[_0x242add(0x27a)]('Cannot\x20find\x20VPC\x20'+_0x38cbb9+_0x242add(0x318)+_0xb5d4c8[_0x242add(0x239)]+_0x242add(0x27f)),_0x53931e[_0x242add(0x22a)](_0x2c23aa,![]);});});}else _0x305a7b[_0x9718c5(0x2d1)](_0x22e9ff,!![]);}_0x305a7b['fUrBZ'](_0x22e9ff,![]);}else _0x57451c[_0x9718c5(0x27a)](_0x9718c5(0x20e)+_0x2d83af+'\x20in\x20region\x20'+_0x5788db[_0x9718c5(0x239)]+'.\x20Please\x20Check\x20and\x20try\x20again'),_0x24397d[_0x9718c5(0x1ed)](_0x22768e,![]);})['catch'](_0x4ea7bf=>{const _0x12fc9e=_0x2694ac,_0x1237f3={'ADxIc':function(_0x4b48e2,_0x3efc3e){const _0x405a1a=a0_0x462b;return _0x305a7b[_0x405a1a(0x2d1)](_0x4b48e2,_0x3efc3e);}};_0x305a7b[_0x12fc9e(0x2d8)](_0x305a7b[_0x12fc9e(0x1fa)],_0x305a7b[_0x12fc9e(0x1fa)])?_0x1237f3['ADxIc'](_0x46a40d,!![]):(logger[_0x12fc9e(0x27a)](_0x4ea7bf),_0x305a7b[_0x12fc9e(0x237)](_0xcf2afc,_0x4ea7bf));});}});}async[a0_0x1d85ae(0x24c)](_0x25a5ce,_0x45d07e){const _0x4331b2=a0_0x1d85ae,_0x208a5f={'LucIk':function(_0x14b0e8,_0x14a8fb){return _0x14b0e8(_0x14a8fb);}},_0x506b98=this['cloudProviderName'][_0x4331b2(0x295)](),_0x45e30a=await _0x208a5f[_0x4331b2(0x2c2)](_0x25a5ce,_0x506b98+_0x4331b2(0x21c)),_0x2ec9b0=await _0x208a5f[_0x4331b2(0x2c2)](_0x25a5ce,_0x506b98+_0x4331b2(0x29e));global_registry[_0x4331b2(0x2e8)]=_0x45e30a,global_registry[_0x4331b2(0x210)]=_0x2ec9b0;const _0x3f01a9={};return _0x3f01a9[_0x4331b2(0x232)]=_0x45e30a,_0x3f01a9['secret']=_0x2ec9b0,_0x45d07e['cloudProvider'][AWS]=_0x3f01a9,_0x45d07e;}async[a0_0x1d85ae(0x28a)](){const _0x2a7d65=a0_0x1d85ae,_0x223c2f={'AylBL':function(_0x427dfd){return _0x427dfd();},'nMRdC':_0x2a7d65(0x2ac),'ePVmY':_0x2a7d65(0x241),'ERUjj':'KubeConfigTemplate.yaml'},_0x389144=_0x223c2f[_0x2a7d65(0x281)](getDirForConfig),_0x3d471b=await this[_0x2a7d65(0x2b4)](),_0x239537=path['join'](_0x389144,_0x223c2f['nMRdC']),_0x23451c=_0x2a7d65(0x266)+global_registry[_0x2a7d65(0x2e8)]+'\x0aaws_secret_access_key\x20=\x20'+global_registry['cloudProviderSecretKey'];fs['writeFileSync'](_0x239537,_0x23451c);let _0xe3fe55=await fs['readFileAsync'](path[_0x2a7d65(0x264)](__dirname,'..',_0x223c2f[_0x2a7d65(0x2f4)],_0x223c2f[_0x2a7d65(0x2e5)]));return _0xe3fe55=_0xe3fe55['toString'](),_0xe3fe55=_0xe3fe55[_0x2a7d65(0x1d2)](/<CLUSTER_NAME>/g,this[_0x2a7d65(0x23c)]),_0xe3fe55=_0xe3fe55[_0x2a7d65(0x1d2)](/<CLUSTER_URL>/g,_0x3d471b[_0x2a7d65(0x249)][_0x2a7d65(0x20b)]),_0xe3fe55=_0xe3fe55[_0x2a7d65(0x1d2)](/<CERTIFICATE_DATA>/g,_0x3d471b[_0x2a7d65(0x249)][_0x2a7d65(0x203)][_0x2a7d65(0x1da)]),_0xe3fe55=_0xe3fe55[_0x2a7d65(0x1d2)](/<CLUSTER_REGION>/g,global_registry[_0x2a7d65(0x239)]),_0xe3fe55=_0xe3fe55[_0x2a7d65(0x1d2)](/<CLUSTER_NAME_USER>/g,IAM_USER_NAME),_0xe3fe55=_0xe3fe55[_0x2a7d65(0x1d2)](/<CLOUD_PROVIDER_ACCESS_KEY>/g,global_registry[_0x2a7d65(0x2e8)]),_0xe3fe55=_0xe3fe55[_0x2a7d65(0x1d2)](/<CLOUD_PROVIDER_SECRET>/g,global_registry[_0x2a7d65(0x210)]),_0xe3fe55=_0xe3fe55[_0x2a7d65(0x1d2)](/<AWS_CONFIG_FILE_PATH>/g,_0x239537),_0xe3fe55;}async[a0_0x1d85ae(0x245)](_0x1beac3=null,_0x124b4a=null){const _0x17cee7=a0_0x1d85ae,_0x109356={'fFQgt':function(_0x372bb0,_0x2915e4){return _0x372bb0(_0x2915e4);},'xSQCA':_0x17cee7(0x23d),'UanQF':_0x17cee7(0x1fd),'TTrVy':function(_0x140487,_0x42caf0,_0x14a88c,_0x2128b2,_0x518046,_0x39ce31){return _0x140487(_0x42caf0,_0x14a88c,_0x2128b2,_0x518046,_0x39ce31);},'IxeKi':_0x17cee7(0x2c0),'egUAJ':function(_0x46891f,_0x4b9813){return _0x46891f===_0x4b9813;},'LDvao':function(_0x2f012b,_0x2bb2be){return _0x2f012b===_0x2bb2be;},'VJRwv':function(_0x3c0b4d,_0xeae6b0){return _0x3c0b4d!==_0xeae6b0;},'KpbQJ':_0x17cee7(0x1e2),'RZSoI':'EhVZn','wqggG':'onKDL'},_0x3924b8={};_0x3924b8[_0x17cee7(0x1dd)]=WS_EVENTS[_0x17cee7(0x214)],_0x3924b8[_0x17cee7(0x2f3)]=_0x109356[_0x17cee7(0x276)],this[_0x17cee7(0x31a)]['sendEventToBackend'](this['rws'],_0x3924b8),logger['info'](_0x109356[_0x17cee7(0x22b)]);const _0x16aac4=global_registry['minNodes'],_0x37330f=global_registry[_0x17cee7(0x1c5)],_0x50da98=await _0x109356['TTrVy'](createClusterStack,this[_0x17cee7(0x23c)],_0x16aac4,_0x37330f,_0x1beac3,_0x124b4a),_0x3565d4=_0x50da98[_0x17cee7(0x259)][0x0]['Outputs'][0x0][_0x17cee7(0x1d1)][_0x17cee7(0x257)](','),_0x2cf25a=_0x50da98[_0x17cee7(0x259)][0x0][_0x17cee7(0x22f)][0x1][_0x17cee7(0x1d1)],_0x5cff1b=_0x50da98[_0x17cee7(0x259)][0x0][_0x17cee7(0x22f)][0x3][_0x17cee7(0x1d1)],_0x2783ac=_0x50da98['Stacks'][0x0][_0x17cee7(0x22f)][0x4][_0x17cee7(0x1d1)];logger[_0x17cee7(0x1d4)](_0x109356[_0x17cee7(0x209)]),logger['info']('Cluster\x20=>\x20'+_0x5cff1b+'\x20'),logger[_0x17cee7(0x1d4)](_0x17cee7(0x2b6)+_0x2cf25a+'\x20'),logger[_0x17cee7(0x1d4)](_0x17cee7(0x1c6)+_0x3565d4+'\x20'),logger['info'](_0x17cee7(0x277)+_0x2783ac+'\x20');let _0x51b81f='Following\x20resources\x20are\x20created:\x20Cluster\x20=>\x20'+_0x5cff1b+_0x17cee7(0x25a)+_0x2cf25a+',\x20SecurityGroups\x20=>\x20'+_0x3565d4+',\x20NodeRole\x20=>\x20'+_0x2783ac;if(_0x109356['egUAJ'](_0x1beac3,null)&&_0x109356[_0x17cee7(0x1ef)](_0x124b4a,null)){if(_0x109356[_0x17cee7(0x305)](_0x109356[_0x17cee7(0x268)],_0x109356[_0x17cee7(0x29b)])){const _0x1ee734=_0x50da98[_0x17cee7(0x259)][0x0][_0x17cee7(0x22f)][0x2][_0x17cee7(0x1d1)],_0x43e346=_0x50da98['Stacks'][0x0][_0x17cee7(0x22f)][0x5][_0x17cee7(0x1d1)][_0x17cee7(0x257)](',');_0x1beac3=_0x1ee734;const _0x35e4a4=[];for(const _0x423378 of _0x43e346){if(_0x109356[_0x17cee7(0x263)](_0x109356[_0x17cee7(0x208)],_0x109356[_0x17cee7(0x208)])){const _0x12eb41={};_0x12eb41[_0x17cee7(0x2b1)]=_0x423378,_0x12eb41[_0x17cee7(0x223)]=_0x423378,_0x35e4a4[_0x17cee7(0x23b)](_0x12eb41);}else _0x4b5de6[_0x17cee7(0x291)][_0x17cee7(0x311)](this[_0x17cee7(0x23c)])&&_0x109356['fFQgt'](_0x339b7f,!![]),_0x109356[_0x17cee7(0x2f8)](_0x16469c,![]);}_0x124b4a=_0x35e4a4,logger['info'](_0x17cee7(0x2f1)+_0x1ee734+'\x20'),logger[_0x17cee7(0x1d4)](_0x17cee7(0x1f3)+_0x43e346+'\x20'),_0x51b81f+=_0x17cee7(0x236)+_0x1ee734+_0x17cee7(0x2ee)+_0x43e346+',\x20';}else _0x30176d[_0x17cee7(0x27a)](_0x3f8a77),_0x109356[_0x17cee7(0x2f8)](_0x336ae7,_0x14715a);}const _0x50d43f={};return _0x50d43f[_0x17cee7(0x1dd)]=WS_EVENTS[_0x17cee7(0x214)],_0x50d43f[_0x17cee7(0x2f3)]=_0x51b81f,this[_0x17cee7(0x31a)][_0x17cee7(0x319)](this['rws'],_0x50d43f),[_0x1beac3,_0x124b4a];}async['deleteCluster'](_0x4deee7,_0x2308b0){const _0x26e929=a0_0x1d85ae,_0x415f70={'npkcp':function(_0x3017fc,_0x322c0e){return _0x3017fc(_0x322c0e);},'QwIaT':function(_0x2739e0,_0x556782){return _0x2739e0(_0x556782);},'lojoU':function(_0x3c1223,_0x2e93ea,_0x4b8938){return _0x3c1223(_0x2e93ea,_0x4b8938);}};await _0x415f70['npkcp'](deleteAgent,_0x4deee7),await _0x415f70[_0x26e929(0x1e6)](deleteRoutingDeps,_0x4deee7),await _0x415f70[_0x26e929(0x1c9)](deleteClusterAndDependencies,_0x2308b0,this[_0x26e929(0x23c)]);}async[a0_0x1d85ae(0x23e)](_0x16b9a8,_0x40b3cc){const _0x22a2cb=a0_0x1d85ae,_0x5f49c2={'HfDAM':_0x22a2cb(0x2e0),'KOjQO':function(_0x5b1c4b,_0x2c4686){return _0x5b1c4b(_0x2c4686);},'XYniI':function(_0x5ca7a4,_0x51128f){return _0x5ca7a4===_0x51128f;},'GkPDI':_0x22a2cb(0x30d),'lzYGe':_0x22a2cb(0x20d),'PmngX':_0x22a2cb(0x288),'VxxUg':function(_0x2075e7,_0x1a0d4d){return _0x2075e7!==_0x1a0d4d;},'AHozN':_0x22a2cb(0x258),'QOlYm':_0x22a2cb(0x1d7),'qgKYX':_0x22a2cb(0x2e7),'iTHBM':_0x22a2cb(0x293),'UGEND':_0x22a2cb(0x230),'rwAuq':function(_0x1fde68,_0x186961,_0x1085a5,_0x7bd4a8,_0x5d2b27,_0x1fdd3,_0x48a58e,_0x49d71f){return _0x1fde68(_0x186961,_0x1085a5,_0x7bd4a8,_0x5d2b27,_0x1fdd3,_0x48a58e,_0x49d71f);},'fbClo':_0x22a2cb(0x251),'SEQRX':_0x22a2cb(0x218),'FguwC':_0x22a2cb(0x312),'pmaBH':_0x22a2cb(0x1c2),'UGiMv':_0x22a2cb(0x1e5),'RnumW':_0x22a2cb(0x1f7),'mSloq':function(_0x4bd81c,_0xfd5092,_0x1de39f){return _0x4bd81c(_0xfd5092,_0x1de39f);},'hHnoo':function(_0x1796fa,_0x2b10a9,_0x7446d7,_0x416800,_0x553091,_0x5ac6d2,_0x3801d4,_0x186b74){return _0x1796fa(_0x2b10a9,_0x7446d7,_0x416800,_0x553091,_0x5ac6d2,_0x3801d4,_0x186b74);},'GSDrY':_0x22a2cb(0x231),'YLQlW':_0x22a2cb(0x27a),'BnTAf':_0x22a2cb(0x1d3)};let _0x22d0a4,_0x3bd521;const _0x3b7586={};_0x3b7586['type']=WS_EVENTS[_0x22a2cb(0x214)],_0x3b7586[_0x22a2cb(0x2f3)]=_0x5f49c2['PmngX'],this['webSocketUtils'][_0x22a2cb(0x319)](this['rws'],_0x3b7586),logger['info'](_0x5f49c2['PmngX']);try{if(_0x5f49c2['VxxUg'](_0x5f49c2[_0x22a2cb(0x204)],_0x5f49c2[_0x22a2cb(0x2c5)])){const _0x4997dd=await _0x5f49c2[_0x22a2cb(0x1f8)](createAutoscalerStack,this[_0x22a2cb(0x23c)]);_0x3bd521=_0x4997dd['Stacks'][0x0]['Outputs'][0x2][_0x22a2cb(0x1d1)];const _0x185fe7={};_0x185fe7['type']=WS_EVENTS[_0x22a2cb(0x214)],_0x185fe7[_0x22a2cb(0x2f3)]='Autoscaler\x20Role\x20created.ARN:\x20'+_0x3bd521+'\x20',this[_0x22a2cb(0x31a)][_0x22a2cb(0x319)](this['rws'],_0x185fe7),logger['info']('Autoscaler\x20Role\x20created.ARN:\x20'+_0x3bd521+'\x20');}else _0x52466b['info'](_0x5f49c2[_0x22a2cb(0x23f)]);}catch(_0x390712){if(_0x5f49c2[_0x22a2cb(0x24e)](_0x5f49c2['qgKYX'],_0x5f49c2['qgKYX'])){const _0x7f507b=_0x4fda50[_0x22a2cb(0x259)][0x0][_0x22a2cb(0x22f)][0x2][_0x22a2cb(0x1d1)],_0x38e329=_0x3036d7['Stacks'][0x0][_0x22a2cb(0x22f)][0x5][_0x22a2cb(0x1d1)][_0x22a2cb(0x257)](',');_0x1c5af9=_0x7f507b;const _0x48ee69=[];for(const _0x3fb920 of _0x38e329){const _0x4654ff={};_0x4654ff[_0x22a2cb(0x2b1)]=_0x3fb920,_0x4654ff[_0x22a2cb(0x223)]=_0x3fb920,_0x48ee69['push'](_0x4654ff);}_0x19018a=_0x48ee69,_0x16bea0['info']('VPC\x20=>\x20'+_0x7f507b+'\x20'),_0x3305ca[_0x22a2cb(0x1d4)]('Subnets\x20=>\x20'+_0x38e329+'\x20'),_0x303f60+=',VPC\x20=>\x20'+_0x7f507b+_0x22a2cb(0x2ee)+_0x38e329+',\x20';}else{if(_0x390712?.[_0x22a2cb(0x2f3)]&&_0x390712[_0x22a2cb(0x2f3)]['match'](/already exists/)){if(_0x5f49c2['VxxUg'](_0x5f49c2[_0x22a2cb(0x2af)],_0x5f49c2[_0x22a2cb(0x2db)]))_0x22d0a4='Skipping\x20Autoscaler\x20due\x20to:\x20'+_0x390712['message'],await _0x5f49c2[_0x22a2cb(0x1e1)](reportToGalactusAndSendToEDS,_0x40b3cc,this['rws'],_0x22d0a4,messageTypes[_0x22a2cb(0x29c)],_0x5f49c2[_0x22a2cb(0x2ea)],_0x5f49c2['SEQRX'],_0x5f49c2[_0x22a2cb(0x222)]),logger[_0x22a2cb(0x2d9)](_0x22d0a4);else return![];}else{if(_0x5f49c2['XYniI'](_0x5f49c2[_0x22a2cb(0x2f6)],_0x5f49c2[_0x22a2cb(0x28f)]))_0x5f49c2['KOjQO'](_0x32c8da,this['rws']);else{const _0x24893f=_0x5f49c2[_0x22a2cb(0x2e9)][_0x22a2cb(0x257)]('|');let _0xfab094=0x0;while(!![]){switch(_0x24893f[_0xfab094++]){case'0':process[_0x22a2cb(0x225)](0x1);continue;case'1':await _0x5f49c2['mSloq'](deleteClusterAndDependencies,global_registry[_0x22a2cb(0x239)],this[_0x22a2cb(0x23c)]);continue;case'2':await _0x5f49c2['hHnoo'](reportToGalactusAndSendToEDS,_0x40b3cc,this['rws'],_0x22d0a4,messageTypes[_0x22a2cb(0x25f)],_0x5f49c2[_0x22a2cb(0x2ea)],_0x5f49c2['GSDrY'],_0x5f49c2[_0x22a2cb(0x224)]);continue;case'3':_0x22d0a4=_0x22a2cb(0x2a2)+_0x390712?.[_0x22a2cb(0x2f3)]+_0x22a2cb(0x1cb);continue;case'4':logger[_0x22a2cb(0x27a)](_0x22d0a4);continue;}break;}}}}}const _0x268283=await this[_0x22a2cb(0x280)](this[_0x22a2cb(0x23c)]+_0x22a2cb(0x238)),_0x15cd4b=_0x268283['nodegroup'][_0x22a2cb(0x2a7)],_0x3cfacc=await this['createAuthConfigMap'](_0x15cd4b),_0x2c48d2={};return _0x2c48d2['namespace']=_0x5f49c2[_0x22a2cb(0x283)],_0x2c48d2[_0x22a2cb(0x31b)]=_0x3cfacc,await _0x16b9a8[_0x22a2cb(0x272)](_0x2c48d2)['catch'](_0x2062fa=>{const _0x14c078=_0x22a2cb;if(_0x5f49c2['XYniI'](_0x5f49c2[_0x14c078(0x2cb)],_0x5f49c2[_0x14c078(0x274)]))return this['checkClusterCreated']();else logger[_0x14c078(0x1d4)](_0x5f49c2['HfDAM']);}),_0x3bd521;}async['setupHubHa'](_0x58150d,_0x4551e8,_0x4f457c,_0x532e88,_0x5779ca){const _0x2b5a52=a0_0x1d85ae,_0x54371a={'BPvMl':function(_0x36c07d,_0x4276df){return _0x36c07d!==_0x4276df;},'zfoiC':'sChBk','wAFkn':_0x2b5a52(0x24d),'GnSoM':function(_0x4098d0,_0x2d2dca){return _0x4098d0(_0x2d2dca);},'EkJHH':function(_0x3b097c,_0x547af4){return _0x3b097c(_0x547af4);},'YcwnW':_0x2b5a52(0x2a0),'DmPAX':_0x2b5a52(0x1ee),'EztBA':function(_0x3526bb,_0x281ffc){return _0x3526bb===_0x281ffc;},'wzPLN':_0x2b5a52(0x24a),'mQlCv':_0x2b5a52(0x2a9),'xMADi':_0x2b5a52(0x25d),'ZaRXa':function(_0xc464c2,_0x5a8c7d,_0x530f2e){return _0xc464c2(_0x5a8c7d,_0x530f2e);},'Sgzie':_0x2b5a52(0x21d),'WBlPB':_0x2b5a52(0x2ab),'VNNKd':'EFSSecurityGroup','jAZpi':'Following\x20resources\x20are\x20created:','JOhgQ':_0x2b5a52(0x301),'VYEFr':_0x2b5a52(0x240),'Emoqs':_0x2b5a52(0x1db),'PWiwD':_0x2b5a52(0x241),'yYDYa':_0x2b5a52(0x22c),'lvVpi':'efs-csi-driver-aws.yaml','ZDUWD':_0x2b5a52(0x2f9),'tXYRb':function(_0x32d2bc,_0x2c980b,_0xcc028f){return _0x32d2bc(_0x2c980b,_0xcc028f);},'AlVXf':_0x2b5a52(0x30a),'vznzH':_0x2b5a52(0x1ea),'vSnol':_0x2b5a52(0x2aa),'faftk':_0x2b5a52(0x21e),'JKLvt':_0x2b5a52(0x2be),'GIQzD':_0x2b5a52(0x24f),'kbGGX':_0x2b5a52(0x1ca),'qAAUV':'exDdt','NtWPy':_0x2b5a52(0x1e0),'EeCEQ':function(_0x317909,_0x4939d6,_0x49be24,_0x55ef9a,_0x3c4a27,_0x249f30,_0x36c8ad,_0x2c5544){return _0x317909(_0x4939d6,_0x49be24,_0x55ef9a,_0x3c4a27,_0x249f30,_0x36c8ad,_0x2c5544);},'kTHud':'create-grid-called','Supkl':'hub-ha-aws-setup-failed','kxMZj':_0x2b5a52(0x27a),'apBCr':function(_0x481efe,_0x135cff,_0x4dea25){return _0x481efe(_0x135cff,_0x4dea25);}};logger['info'](_0x54371a[_0x2b5a52(0x2a8)]);let _0x5ec432;try{if(_0x54371a[_0x2b5a52(0x229)](_0x54371a['wzPLN'],_0x54371a[_0x2b5a52(0x1e7)])){const _0x41b779={};_0x41b779[_0x2b5a52(0x1dd)]=WS_EVENTS[_0x2b5a52(0x214)],_0x41b779['message']=_0x54371a[_0x2b5a52(0x227)],this[_0x2b5a52(0x31a)][_0x2b5a52(0x319)](this[_0x2b5a52(0x212)],_0x41b779),logger[_0x2b5a52(0x1d4)](_0x54371a['xMADi']);const _0x1edc67=await _0x54371a[_0x2b5a52(0x292)](createHubHaStack,this[_0x2b5a52(0x23c)],_0x532e88),_0x31faee=_0x1edc67[_0x2b5a52(0x259)][0x0][_0x2b5a52(0x22f)][_0x2b5a52(0x2dd)]((_0x24a0dd,_0x54107a)=>{const _0x341825=_0x2b5a52;if(_0x54371a[_0x341825(0x29d)](_0x54371a[_0x341825(0x2df)],_0x54371a['zfoiC']))_0x4bda17[_0x341825(0x23b)](_0x2d4e84['SubnetId']);else return _0x24a0dd[_0x54107a['OutputKey']]=_0x54107a['OutputValue'],_0x24a0dd;},{}),_0x294407=_0x31faee[_0x54371a[_0x2b5a52(0x30c)]],_0x1b83a1=_0x31faee[_0x54371a['WBlPB']],_0x1490a4=_0x31faee[_0x54371a[_0x2b5a52(0x2d2)]];logger[_0x2b5a52(0x1d4)](_0x54371a['jAZpi']),logger['info'](_0x2b5a52(0x275)+_0x294407),logger[_0x2b5a52(0x1d4)](_0x2b5a52(0x316)+_0x1490a4),logger[_0x2b5a52(0x1d4)](_0x2b5a52(0x1d0)+_0x1b83a1),_0x5ec432=_0x2b5a52(0x2fc)+_0x294407+_0x2b5a52(0x1d8)+_0x1490a4+',\x20EFS_FileSystem\x20=>\x20'+_0x1b83a1,logger[_0x2b5a52(0x1d4)](_0x54371a[_0x2b5a52(0x2bd)]),await this[_0x2b5a52(0x270)](_0x5779ca,_0x1490a4,_0x1b83a1);const _0x4cc85b={};_0x4cc85b[_0x2b5a52(0x1dd)]=WS_EVENTS[_0x2b5a52(0x214)],_0x4cc85b[_0x2b5a52(0x2f3)]=_0x5ec432,this[_0x2b5a52(0x31a)][_0x2b5a52(0x319)](this[_0x2b5a52(0x212)],_0x4cc85b);const _0xff2342={};_0xff2342[_0x2b5a52(0x1dd)]=WS_EVENTS[_0x2b5a52(0x214)],_0xff2342[_0x2b5a52(0x2f3)]=_0x54371a[_0x2b5a52(0x269)],this[_0x2b5a52(0x31a)][_0x2b5a52(0x319)](this['rws'],_0xff2342),logger[_0x2b5a52(0x1d4)](_0x54371a[_0x2b5a52(0x1e3)]);let _0x423bbf=await fs[_0x2b5a52(0x242)](path['join'](__dirname,'..',_0x54371a['PWiwD'],_0x54371a[_0x2b5a52(0x1c8)],_0x54371a[_0x2b5a52(0x2de)]),_0x54371a[_0x2b5a52(0x273)]);_0x423bbf=_0x423bbf['replace'](/<EfsCSIControllerARN>/g,_0x294407);const _0xc4d059=yaml[_0x2b5a52(0x21f)](_0x423bbf);await _0x54371a['tXYRb'](kubeApply,_0xc4d059,_0x4551e8),logger[_0x2b5a52(0x1d4)](_0x54371a[_0x2b5a52(0x2b0)]),logger[_0x2b5a52(0x1d4)](_0x54371a[_0x2b5a52(0x250)]);const _0x5c658a=await fs[_0x2b5a52(0x242)](path[_0x2b5a52(0x264)](__dirname,'..',_0x54371a[_0x2b5a52(0x255)],_0x54371a[_0x2b5a52(0x1c8)],_0x54371a[_0x2b5a52(0x248)]),_0x54371a[_0x2b5a52(0x273)]),_0x46577e=yaml[_0x2b5a52(0x228)](_0x5c658a);_0x46577e[_0x2b5a52(0x2fd)][_0x54371a[_0x2b5a52(0x2ed)]]=_0x1b83a1;const _0xe0af2c={};_0xe0af2c[_0x2b5a52(0x31b)]=_0x46577e;const _0x2f4b00=await _0x58150d[_0x2b5a52(0x234)](_0xe0af2c);logger[_0x2b5a52(0x1d4)](_0x54371a[_0x2b5a52(0x2a6)]);const _0x415ed9={};_0x415ed9[_0x2b5a52(0x1dd)]=WS_EVENTS[_0x2b5a52(0x214)],_0x415ed9[_0x2b5a52(0x2f3)]=_0x54371a['GIQzD'],this[_0x2b5a52(0x31a)]['sendEventToBackend'](this[_0x2b5a52(0x212)],_0x415ed9);}else{const _0x1e63d1={};_0x1e63d1[_0x2b5a52(0x221)]=_0x54371a[_0x2b5a52(0x26c)];const _0x49621c=new _0xaa753c[(_0x2b5a52(0x201))](_0x1e63d1),_0x56ad24={};return _0x56ad24[_0x2b5a52(0x23c)]=this[_0x2b5a52(0x23c)],_0x56ad24[_0x2b5a52(0x317)]=_0x581fe8,_0x49621c['describeNodegroup'](_0x56ad24)['promise']();}}catch(_0xb1e646){if(_0x54371a[_0x2b5a52(0x29d)](_0x54371a['kbGGX'],_0x54371a[_0x2b5a52(0x1cf)])){const _0x2b1ff4=_0x54371a[_0x2b5a52(0x27c)]['split']('|');let _0x34e7cb=0x0;while(!![]){switch(_0x2b1ff4[_0x34e7cb++]){case'0':_0x5ec432='Error\x20occurred\x20while\x20setting\x20up\x20Hub\x20HA\x20infra:\x20'+_0xb1e646[_0x2b5a52(0x2f3)];continue;case'1':await _0x54371a[_0x2b5a52(0x256)](reportToGalactusAndSendToEDS,_0x4f457c,this['rws'],_0x5ec432,messageTypes[_0x2b5a52(0x25f)],_0x54371a['kTHud'],_0x54371a[_0x2b5a52(0x1eb)],_0x54371a[_0x2b5a52(0x1d9)]);continue;case'2':await _0x54371a[_0x2b5a52(0x1cd)](deleteClusterAndDependencies,global_registry[_0x2b5a52(0x239)],this[_0x2b5a52(0x23c)]);continue;case'3':process[_0x2b5a52(0x225)](0x1);continue;case'4':logger['error'](_0x5ec432);continue;}break;}}else{const _0x376527={};_0x376527[_0x2b5a52(0x221)]=_0x54371a[_0x2b5a52(0x308)],_0x376527['region']=_0x49f4b9[_0x2b5a52(0x239)];const _0x4c5aa1=new _0x11f986[(_0x2b5a52(0x1f2))](_0x376527);_0x4c5aa1[_0x2b5a52(0x2ff)](_0x1f9bca)[_0x2b5a52(0x261)]()['then'](_0x13f73c=>{const _0x49c7d7=_0x2b5a52;_0x54371a[_0x49c7d7(0x246)](_0x2bfe9a,!![]);})[_0x2b5a52(0x315)](_0x2ed471=>{const _0x3dd8c6=_0x2b5a52;_0x56b0a4['error'](_0x3dd8c6(0x20e)+_0x4b68ac+_0x3dd8c6(0x318)+_0x5c025e['clusterRegion']+'.\x20Please\x20Check\x20and\x20try\x20again'),_0x54371a[_0x3dd8c6(0x211)](_0x5bc628,![]);});}}}async[a0_0x1d85ae(0x270)](_0x4802f8,_0x28e8c0,_0x2b07cb){const _0x18b9f6=a0_0x1d85ae,_0x4ee368={'wwksB':function(_0xa1717d,_0x4b97bf){return _0xa1717d(_0x4b97bf);},'izyVe':function(_0x33dcec,_0x1aacf0){return _0x33dcec!==_0x1aacf0;},'VGWdf':_0x18b9f6(0x260),'jvJez':function(_0x2959d7,_0x3a6a01){return _0x2959d7!==_0x3a6a01;},'TgDEs':'pzGCE'},_0x2590f2={};_0x2590f2['region']=global_registry[_0x18b9f6(0x239)];const _0xee4843=new awsSDK[(_0x18b9f6(0x2f7))](_0x2590f2),_0x1ceb44={};_0x1ceb44[_0x18b9f6(0x22d)]=global_registry['clusterRegion'];const _0x124640=new awsSDK[(_0x18b9f6(0x1f2))](_0x1ceb44),_0x596584=new Set(),_0x3a6dee=[];for(const _0x3b274c of _0x4802f8){if(_0x4ee368[_0x18b9f6(0x2bb)](_0x4ee368[_0x18b9f6(0x1f6)],_0x4ee368[_0x18b9f6(0x1f6)])){const _0x60e3e1={};_0x60e3e1[_0x18b9f6(0x2b1)]=_0x94c932,_0x60e3e1[_0x18b9f6(0x223)]=_0x3c89e3,_0x43ea97['push'](_0x60e3e1);}else{const _0x4750ec=await this[_0x18b9f6(0x1df)](_0x124640,_0x3b274c[_0x18b9f6(0x223)]);if(_0x596584[_0x18b9f6(0x2c6)](_0x4750ec)){if(_0x4ee368[_0x18b9f6(0x28c)](_0x4ee368['TgDEs'],_0x4ee368[_0x18b9f6(0x2d4)])){const _0x52507b=[],_0x86b4de=[];_0x17916e[_0x18b9f6(0x247)][_0x18b9f6(0x1cc)](_0x1e783e=>{const _0xac6708=_0x18b9f6;_0x52507b[_0xac6708(0x23b)](_0x1e783e[_0xac6708(0x267)]);});const _0x583a91=_0x1835e6['every'](_0x1fe077=>{const _0x16fc5d=_0x18b9f6;if(_0x52507b[_0x16fc5d(0x311)](_0x1fe077[_0x16fc5d(0x223)]))return!![];return _0x86b4de[_0x16fc5d(0x23b)](_0x1fe077),![];});_0x4ee368[_0x18b9f6(0x1dc)](_0x257f02,[_0x583a91,_0x86b4de]);}else{logger[_0x18b9f6(0x1d4)](_0x18b9f6(0x215)+_0x3b274c['value']+_0x18b9f6(0x2cf)+_0x4750ec+'\x20has\x20already\x20been\x20used.');continue;}}_0x596584['add'](_0x4750ec),_0x3a6dee[_0x18b9f6(0x23b)](this[_0x18b9f6(0x30e)](_0xee4843,_0x3b274c,_0x28e8c0,_0x2b07cb));}}await Promise[_0x18b9f6(0x253)](_0x3a6dee);}async[a0_0x1d85ae(0x30e)](_0x1357ad,_0x38f9b7,_0x2812bf,_0x3ec8db){const _0x346924=a0_0x1d85ae,_0x4d059f={};_0x4d059f[_0x346924(0x29a)]=function(_0x1d9a98,_0xcc2b8){return _0x1d9a98!==_0xcc2b8;},_0x4d059f[_0x346924(0x1f4)]='pfhNi',_0x4d059f['OBQHA']=function(_0x28dadb,_0x24bd17){return _0x28dadb===_0x24bd17;},_0x4d059f['ZqmUa']=_0x346924(0x2e1),_0x4d059f[_0x346924(0x1c1)]='oYRqN';const _0x51fffb=_0x4d059f;try{if(_0x51fffb[_0x346924(0x29a)](_0x51fffb[_0x346924(0x1f4)],_0x51fffb[_0x346924(0x1f4)]))return _0x599fbe[_0x5b68bd['OutputKey']]=_0x48c693['OutputValue'],_0x2ec840;else{const _0x4e5895={};_0x4e5895['FileSystemId']=_0x3ec8db,_0x4e5895[_0x346924(0x267)]=_0x38f9b7['value'],_0x4e5895['SecurityGroups']=[_0x2812bf];const _0x133c6d=await _0x1357ad[_0x346924(0x2b2)](_0x4e5895)[_0x346924(0x261)](),_0x405c88=_0x133c6d[_0x346924(0x2b9)];await this[_0x346924(0x29f)](_0x1357ad,_0x38f9b7[_0x346924(0x223)],_0x405c88);}}catch(_0x471586){if(_0x51fffb['OBQHA'](_0x51fffb[_0x346924(0x219)],_0x51fffb['wgFNv']))return _0x53bc99[_0x346924(0x310)][_0x346924(0x2d6)][_0x346924(0x289)][0x0][_0x346924(0x1f5)];else logger[_0x346924(0x27a)](_0x346924(0x1d6)+_0x38f9b7[_0x346924(0x223)]+':',_0x471586);}}async[a0_0x1d85ae(0x29f)](_0x49e103,_0x2f5942,_0x520996){const _0x24898c=a0_0x1d85ae,_0x4050a2={'YqSYo':function(_0x29eb81,_0x5ca6e5){return _0x29eb81(_0x5ca6e5);},'gvTyn':function(_0x364a81,_0x3d7404){return _0x364a81===_0x3d7404;},'TCwuw':_0x24898c(0x21a),'EyoPQ':_0x24898c(0x1e8),'tfuQU':function(_0x43830c,_0x343304){return _0x43830c(_0x343304);},'gANoy':_0x24898c(0x24d),'XLJXV':function(_0x469f3b,_0x58be4d){return _0x469f3b!==_0x58be4d;},'fXhNQ':_0x24898c(0x309),'cghYO':function(_0xd8ac75,_0x4f8ce3){return _0xd8ac75!==_0x4f8ce3;},'CdUYX':_0x24898c(0x298),'ROCnx':'gWmKl','TWdtW':'XLtRx','RHOWN':function(_0x34d862,_0x2d26a1){return _0x34d862===_0x2d26a1;},'tjHkg':_0x24898c(0x27b),'NyUYr':'GXWJx'};let _0x3dceb0='';while(_0x4050a2[_0x24898c(0x28e)](_0x3dceb0,_0x4050a2['fXhNQ'])){if(_0x4050a2[_0x24898c(0x2d3)](_0x4050a2[_0x24898c(0x235)],_0x4050a2[_0x24898c(0x235)]))_0x4bf3cb[_0x24898c(0x27a)]('Cannot\x20find\x20subnets\x20'+_0x51a9f7+_0x24898c(0x318)+_0x2ada7d['clusterRegion']+_0x24898c(0x2d0)+_0x107142),_0x4050a2[_0x24898c(0x1ce)](_0x227d25,[![],[]]);else{const _0x411c20={};_0x411c20[_0x24898c(0x2b9)]=_0x520996;const _0x21a489=await _0x49e103[_0x24898c(0x200)](_0x411c20)['promise']();_0x3dceb0=_0x21a489[_0x24898c(0x20c)][0x0]['LifeCycleState'];if(_0x4050a2[_0x24898c(0x2cd)](_0x3dceb0,_0x4050a2[_0x24898c(0x2b7)])){if(_0x4050a2['gvTyn'](_0x4050a2[_0x24898c(0x303)],_0x4050a2[_0x24898c(0x2e4)])){const _0x5c245f=_0x2cee95[_0x24898c(0x249)][_0x24898c(0x2ad)];return _0x5c245f&&_0x4050a2['gvTyn'](_0x5c245f[_0x4050a2[_0x24898c(0x2a4)]][_0x24898c(0x1f1)](),_0x4050a2['EyoPQ']);}else{logger[_0x24898c(0x1d4)](_0x24898c(0x2b8)+_0x2f5942+_0x24898c(0x254)+_0x520996+'.');break;}}if(_0x4050a2['RHOWN'](_0x3dceb0,_0x4050a2[_0x24898c(0x26a)])){if(_0x4050a2['cghYO'](_0x4050a2[_0x24898c(0x299)],_0x4050a2[_0x24898c(0x299)])){const _0x92b978={'KwUDE':function(_0x2ebb4e,_0x5235a8){const _0x108ec4=_0x24898c;return _0x4050a2[_0x108ec4(0x1ce)](_0x2ebb4e,_0x5235a8);},'DyTjK':function(_0x58d802,_0x27c161){const _0xa8215a=_0x24898c;return _0x4050a2[_0xa8215a(0x2bc)](_0x58d802,_0x27c161);}},_0x3651c2={};_0x3651c2[_0x24898c(0x221)]=_0x4050a2['gANoy'];const _0x394cc4=new _0x480547['EKS'](_0x3651c2);_0x394cc4[_0x24898c(0x2b3)]()['promise']()[_0x24898c(0x28b)](_0x2d1d54=>{const _0x1503c4=_0x24898c;_0x2d1d54[_0x1503c4(0x291)][_0x1503c4(0x311)](this[_0x1503c4(0x23c)])&&_0x92b978[_0x1503c4(0x2c1)](_0x154aa2,!![]),_0x92b978['KwUDE'](_0x5956e7,![]);})[_0x24898c(0x315)](_0xd982f1=>{const _0x53aea4=_0x24898c;_0x3a559f[_0x53aea4(0x27a)](_0xd982f1),_0x92b978[_0x53aea4(0x314)](_0x1c4d18,_0xd982f1);});}else throw new Error(_0x24898c(0x2b5)+_0x520996+_0x24898c(0x2ae));}await new Promise(_0x2bd52e=>setTimeout(_0x2bd52e,0x1388));}}}async['getAvailabilityZone'](_0x44b70e,_0x20b440){const _0xb17a12=a0_0x1d85ae,_0x2684b6={};_0x2684b6['SubnetIds']=[_0x20b440];const _0x346f48=await _0x44b70e[_0xb17a12(0x306)](_0x2684b6)[_0xb17a12(0x261)]();return _0x346f48[_0xb17a12(0x247)][0x0][_0xb17a12(0x313)];}['isVPCPresent'](_0x51e87d){const _0x15a997=a0_0x1d85ae,_0x176b80={'GWFQM':function(_0x46350a,_0x52eb07){return _0x46350a!==_0x52eb07;},'zpucd':_0x15a997(0x26f),'lgLQk':function(_0x55b6bb,_0x14e489){return _0x55b6bb(_0x14e489);},'Jdlxl':_0x15a997(0x24d),'BMCmV':_0x15a997(0x297),'TMfDc':function(_0xf27027,_0x53c60d){return _0xf27027!==_0x53c60d;},'YHwpj':_0x15a997(0x25c),'RNFQk':'YWcjL','goPWl':_0x15a997(0x2a0)},_0x91f584={};_0x91f584[_0x15a997(0x2a1)]=[_0x51e87d];const _0x19cb1d=_0x91f584;return new Promise((_0x178075,_0x25e2d4)=>{const _0x21002d=_0x15a997,_0x23f259={'WelMt':function(_0x4e9eed,_0xce614){const _0x51faf1=a0_0x462b;return _0x176b80[_0x51faf1(0x26d)](_0x4e9eed,_0xce614);},'DNGSt':_0x176b80[_0x21002d(0x2c4)],'efcfk':function(_0x54e61d,_0xb78417){return _0x176b80['lgLQk'](_0x54e61d,_0xb78417);},'FjNpX':_0x176b80[_0x21002d(0x1c3)],'upEAN':_0x176b80[_0x21002d(0x307)]};if(_0x176b80[_0x21002d(0x1fc)](_0x176b80['YHwpj'],_0x176b80[_0x21002d(0x216)])){const _0x4d6796={};_0x4d6796[_0x21002d(0x221)]=_0x176b80[_0x21002d(0x1f0)],_0x4d6796['region']=global_registry[_0x21002d(0x239)];const _0x53fb0f=new awsSDK[(_0x21002d(0x1f2))](_0x4d6796);_0x53fb0f[_0x21002d(0x2ff)](_0x19cb1d)[_0x21002d(0x261)]()[_0x21002d(0x28b)](_0x4aa4ac=>{const _0x17bcda=_0x21002d;if(_0x23f259[_0x17bcda(0x2e3)](_0x23f259[_0x17bcda(0x1de)],_0x23f259[_0x17bcda(0x1de)]))return!![];else _0x23f259[_0x17bcda(0x20f)](_0x178075,!![]);})[_0x21002d(0x315)](_0x4ad904=>{const _0x387c28=_0x21002d,_0x1840c1={};_0x1840c1[_0x387c28(0x1ec)]=_0x23f259[_0x387c28(0x285)];const _0xc20013=_0x1840c1;if(_0x23f259['WelMt'](_0x23f259[_0x387c28(0x271)],_0x23f259[_0x387c28(0x271)])){const _0x428f1f={};_0x428f1f[_0x387c28(0x221)]=_0xc20013[_0x387c28(0x1ec)];const _0x1983dd=new _0x3bedca['EKS'](_0x428f1f),_0x40b1eb={};return _0x40b1eb['name']=this[_0x387c28(0x23c)],_0x1983dd[_0x387c28(0x262)](_0x40b1eb)['promise']();}else logger['error'](_0x387c28(0x20e)+_0x51e87d+_0x387c28(0x318)+global_registry['clusterRegion']+_0x387c28(0x27f)),_0x23f259['efcfk'](_0x178075,![]);});}else _0xa9cca1[_0x21002d(0x27a)](_0x21002d(0x1d6)+_0x4f52aa[_0x21002d(0x223)]+':',_0x41519c);});}[a0_0x1d85ae(0x25b)](_0x5da6fc,_0x2fe39d){const _0x4fdb20=a0_0x1d85ae,_0x5c0119={'iXlGd':function(_0x481f6b,_0x3e37c3){return _0x481f6b(_0x3e37c3);},'JQnaF':'2016-11-15','QzpLl':_0x4fdb20(0x26b)},_0x1dcfcd={};_0x1dcfcd[_0x4fdb20(0x279)]=_0x5c0119[_0x4fdb20(0x2ba)],_0x1dcfcd['Values']=[_0x2fe39d];const _0x3a473f={};_0x3a473f['Filters']=[_0x1dcfcd];const _0x4b3f7c=_0x3a473f;return new Promise((_0x4411a7,_0x127d57)=>{const _0x35c8ac=_0x4fdb20,_0x80f79={'LFioJ':function(_0x1726e5,_0x38f9c1){const _0x3cee96=a0_0x462b;return _0x5c0119[_0x3cee96(0x1bf)](_0x1726e5,_0x38f9c1);}},_0x4213f3={};_0x4213f3[_0x35c8ac(0x221)]=_0x5c0119[_0x35c8ac(0x2d5)],_0x4213f3[_0x35c8ac(0x22d)]=global_registry[_0x35c8ac(0x239)];const _0x1061fe=new awsSDK[(_0x35c8ac(0x1f2))](_0x4213f3);_0x1061fe['describeSubnets'](_0x4b3f7c)[_0x35c8ac(0x261)]()[_0x35c8ac(0x28b)](_0x36bc19=>{const _0x33f879=_0x35c8ac,_0xc0fea7=[],_0xa924a9=[];_0x36bc19[_0x33f879(0x247)][_0x33f879(0x1cc)](_0x3fcd20=>{const _0x589a21=_0x33f879;_0xc0fea7[_0x589a21(0x23b)](_0x3fcd20[_0x589a21(0x267)]);});const _0x1caad7=_0x5da6fc[_0x33f879(0x24b)](_0x5ec188=>{const _0x16dd9a=_0x33f879;if(_0xc0fea7[_0x16dd9a(0x311)](_0x5ec188[_0x16dd9a(0x223)]))return!![];return _0xa924a9['push'](_0x5ec188),![];});_0x80f79['LFioJ'](_0x4411a7,[_0x1caad7,_0xa924a9]);})[_0x35c8ac(0x315)](_0x58772a=>{const _0x1bff72=_0x35c8ac;logger['error'](_0x1bff72(0x302)+_0x5da6fc+_0x1bff72(0x318)+global_registry[_0x1bff72(0x239)]+_0x1bff72(0x2d0)+_0x58772a),_0x5c0119[_0x1bff72(0x1bf)](_0x4411a7,[![],[]]);});});}}const a0_0x5d4b78={};a0_0x5d4b78[a0_0x1d85ae(0x2c3)]=AWSCloudProvider,module[a0_0x1d85ae(0x2ef)]=a0_0x5d4b78;