const a0_0x4af913=a0_0x5904;function a0_0x5904(_0x3105a6,_0xbec839){const _0x4c3cda=a0_0x4c3c();return a0_0x5904=function(_0x590432,_0x350a5a){_0x590432=_0x590432-0x9e;let _0x4e5887=_0x4c3cda[_0x590432];return _0x4e5887;},a0_0x5904(_0x3105a6,_0xbec839);}function a0_0x4c3c(){const _0x5098a1=['Skipping\x20subnet\x20','Stacks','gZJoH','EXsVL','VUBDt','FFOqM','abLnw','../utils/hstUtils','has','PcmgY','iVwQu','yDvKZ','EFSFileSystemId','Name','kube-system','uJhnN','xBgJH','describeSubnets','namespace','YkMRf','TWGlv','oCWWw','VpcIds','aws-iam-authenticator\x20tool\x20is\x20installed','TrNts','HGgla','create-grid-called','NagBH','yGjUo','\x20failed\x20to\x20reach\x20the\x20available\x20state.','\x20ACCESS\x20KEY:\x20','npFtg','getNodeGroupInfo','zWxHE','jrWxy','accessKeyId','RZLUa','eLdBV','Filters','getClusterInfo','2017-11-01','toString','114HKeWpM','CSKhb','clusterAutoUpgrade','BtCUg','deleteCluster','QJlSG','XgNHg','acUQE','IAM','HJFVp','rCSnX','otmoI','data','28GPZueT','PFgXK','wOhzt','setupNewCluster','tvemo','status','split','forEach','HAljv','AkNuA','includes','cTOco','tAkIv','reduce','mBeRh','KubeConfigTemplate.yaml','ClusterRole\x20=>\x20','ihuYh','available','Following\x20resources\x20are\x20created:','loadAll','mqJjo','match','AaAYS','isBrowserstackCluster','wtcLx','\x20in\x20region\x20','Exdkp','EC2','KSysl','4759zBikzI','fdgoJ','sDoMu','BqZJa','createAuthConfigMap','MountTargetId','webSocketUtils','eqyXr','LyYQF','SEyJw','dYEtn','accessKey','FjYBk','EvalDecision','ddiJV','UzBGa','.\x20Please\x20Check\x20and\x20try\x20again','../utils/utilityMethods','startsWith','pWXXZ','1689690gKCVHo',',\x20SecurityGroups\x20=>\x20','drNUF','hubharesources','QBIlT','OnATM','listClusters','Following\x20resources\x20are\x20created:\x20Cluster\x20=>\x20','aws_credentials','-NodeGroup','gGCtn','IbUVY','load','Subnets\x20=>\x20','replace','pQWhW','Authmap\x20already\x20exists.\x20Not\x20updating','Ddkzj','cloudProviderAccessKey','JSWom','11WxefOK','message','IpebQ','uGQCm','EvaluationResults','BWrWZ','failed','writeFileSync','Setting\x20up\x20Hub\x20HA','error\x20:\x20','xyFJS','VkMmp','EFS','sChiR','Adding\x20storage\x20class...','ODNDb','update','region','secretAccessKey','Mount\x20target\x20','templates','isVPCPresent','toLowerCase','MCfii','every','../utils/createClusterStack','browserstack',',\x20Subnets\x20=>\x20','Creating\x20required\x20resources\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','.\x20Deleting\x20all\x20the\x20stacks','ingress','qfkrG','WLwOB','arn:aws:iam::','isCliToolInstalled','YtapA','ZLbwt','WKoyp','ptQxO','CBhll','gMbGc','aws-iam-authenticator\x20help','../config/constants','rws','ARqjS','setCachedCredsInRegistry','../config/logger','SubnetId','hostname','promise','readFileAsync','bNFUF','[ats]\x0aaws_access_key_id\x20=\x20','TMQEz','tnIwO','VtXXx','LOG','tBNMH','jNVLO','NfAjn','TkiXR','injyc','oDDwH','cYjix','describeVpcs','EuAnK','body','LcyCt','describeNodegroup','\x20SECRET\x20KEY:\x20','EFS\x20FileSystem\x20=>\x20','HHdfR','BbRKQ','xIQRu','clusters','FPAME','Cannot\x20find\x20VPC\x20',',\x20EFS_FileSystem\x20=>\x20','ZARSx',',\x20MountTargetId:\x20','RKjAk','vpc-id','17288952KSwxke','endpoint','FWaKa','PPGAU','vtxaI','VSclK','./CloudProvider','Values','XUmzA','eDMWD','info','AvailabilityZone',':role/','ohjaz','qAAFB','cluster','EvalActionName','okRAo',',\x20ClusterRole\x20=>\x20','cQfOT','checkClusterCreated','yZFqi','LvbKR','gGExj','4057000aBlkzZ','<ARN>','izDXs','Subnets','hwSaz',':user/','createMountTargetAndWait','getGridHostname','CUikb','.\x20Error:\x20','mfFxt','Error\x20occurred\x20while\x20setting\x20up\x20Hub\x20HA\x20infra:\x20','NXfPd','value','../permissions/AWS.json','Adding\x20EFS\x20CSI\x20Driver','debug','WMXgT','permissions\x20check\x20response:\x20','pSQoO','type','3|4|1|2|0','sendEventToBackend','allowed','4240350xtbqbK','waitForMountTarget','JOYBp','odVJi','efs-csi-driver-aws.yaml','\x0a\x09Service:\x20','isClusterPresent','sTaHW','YvPFg','\x0aaws_secret_access_key\x20=\x20','komhx','Created\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','qEakE','describeMountTargets','awAsh','pRAQF','NvUWl','hflNH','2016-11-15','FbRLU','qSOGb','YghOM','tKpiX','createStorageClass','oRHNo','blIWj','erNBh','hYqVK','Creating\x20required\x20dependencies\x20-\x20EKS\x20Role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups\x20and\x20Cluster\x20and\x20Node\x20Group(s)',',VPC\x20=>\x20','getPrincipalArn','Mount\x20target\x20created\x20for\x20subnet:\x20','TGHez','LophP','createMountTargets','getKubeConfigData','Cjrkf','gBkNH','OutputValue','SecurityGroups','cloudProvider','tjFgW','loadBalancer','XNEfQ','init','Creating\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','OutputKey','WuOVZ','then','catch','\x20has\x20already\x20been\x20used.','jQBAO','VkhdB','getAvailabilityZone','Cluster\x20=>\x20','MitfS','Please\x20install\x20aws-iam-authenticator\x20tool.\x20Error\x20:\x20','srQKM','IJVJi','BwCKt','label','nFeJV','9rDtBPF','UmWFG','UDMgr','QMhYH','\x20|\x20Action\x20:\x20','SLkNQ','add','nodegroupName','checkAccess','nodeRole','dOpLt','toUpperCase','Outputs','dmbSN','143145cmOyLx','MlgmL','CTfWd','NcMYk','Creating\x20Autoscaler\x20Role','clusterName','OkxWt','UoEWv','LifeCycleState','../utils/createAutoscalerStack','WnhOv','wigNc','name','JMyDn','ERROR','STS','bGNXD','Cannot\x20find\x20subnets\x20','getUserInput','vmSfg','Following\x20resources\x20are\x20created\x20for\x20Hub\x20HA:\x20EFS_ControllerRoleArn\x20=>\x20','bVUoq','mapRoles','XqOtd','fileSystemId','UceTc','exit','simulatePrincipalPolicy','stack','iQhuA','sendResourceDataToHST','BbZhf','gjJmw','14539hLdqkQ','Error\x20creating\x20mount\x20target\x20for\x20subnet\x20','MountTargets','OOZFU','SNHUy','clusterRegion','xoOCB','figTe','sHHAz','apiVersion','AyEbv','VIMDq','IoRaD','OBmnV','uebhF','EKS','uImLI','fMEcK','RLIRZ','describeCluster','VPC\x20=>\x20','npMty','bYtwG','warn','GsFAA','vaRrO','tags','fKRaK','daNwy','\x20:\x20','exports','SubnetIds','maxNodes','DkMig','KkYTy','cloudProviderName','npGTB','LSZzC','174vyaOWf','JCHke','cloudProviderSecretKey','YkgtT','autoscaler-creation-failed','dZSgG','secret','parameters','EFS\x20SecurityGroup\x20=>\x20','push','hekZj','afvNx','wWGJD','EFS\x20Controller\x20Role\x20=>\x20','stringify','join','setupAutoscaler','Creating\x20required\x20dependencies\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','QGGEZ','error','nyrDT','bHTWt','bWGwb'];a0_0x4c3c=function(){return _0x5098a1;};return a0_0x4c3c();}(function(_0x50d043,_0x3ebe1b){const _0x220120=a0_0x5904,_0xcae857=_0x50d043();while(!![]){try{const _0x18a862=-parseInt(_0x220120(0x130))/0x1*(-parseInt(_0x220120(0xc4))/0x2)+parseInt(_0x220120(0x144))/0x3+-parseInt(_0x220120(0x112))/0x4*(parseInt(_0x220120(0x226))/0x5)+parseInt(_0x220120(0x105))/0x6*(parseInt(_0x220120(0x9e))/0x7)+parseInt(_0x220120(0x1c2))/0x8*(parseInt(_0x220120(0x218))/0x9)+parseInt(_0x220120(0x1da))/0xa+parseInt(_0x220120(0x158))/0xb*(-parseInt(_0x220120(0x1aa))/0xc);if(_0x18a862===_0x3ebe1b)break;else _0xcae857['push'](_0xcae857['shift']());}catch(_0x3e6b11){_0xcae857['push'](_0xcae857['shift']());}}}(a0_0x4c3c,0x4ae31));const fs=require('fs'),path=require('path'),yaml=require('js-yaml'),awsSDK=require('aws-sdk'),{logger}=require(a0_0x4af913(0x186)),{CloudProvider}=require(a0_0x4af913(0x1b0)),{sendAWSInfoToHST}=require(a0_0x4af913(0xe2)),{createClusterStack}=require(a0_0x4af913(0x171)),{createHubHaStack}=require('../utils/createHubHaStack'),{deleteClusterAndDependencies,deleteRoutingDeps,deleteAgent}=require('../utils/gridComponents'),{createAutoscalerStack}=require(a0_0x4af913(0x22f)),{getDirForConfig,reportToGalactusAndSendToEDS,kubeApply,runCommand}=require(a0_0x4af913(0x141)),{IAM_USER_NAME,AWS,WS_EVENTS,global_registry,messageTypes}=require(a0_0x4af913(0x182)),PERMISSIONS=require(a0_0x4af913(0x1d0));class AWSCloudProvider extends CloudProvider{constructor(_0x1ed3f1,_0x38990d,_0x9f5564,_0x48191c){super(AWS,_0x1ed3f1,_0x38990d,_0x9f5564,_0x48191c);}async[a0_0x4af913(0x206)](){const _0x2fb025=a0_0x4af913;await super[_0x2fb025(0x206)]();const _0x62fec9={};return _0x62fec9[_0x2fb025(0x169)]=global_registry['clusterRegion'],_0x62fec9[_0x2fb025(0xfe)]=global_registry['cloudProviderAccessKey'],_0x62fec9[_0x2fb025(0x16a)]=global_registry['cloudProviderSecretKey'],awsSDK['config'][_0x2fb025(0x168)](_0x62fec9),this;}async[a0_0x4af913(0x244)](){const _0xfcd32=a0_0x4af913,_0x4391b1={'UDMgr':function(_0x50a9b6,_0xb51ee5){return _0x50a9b6(_0xb51ee5);}};_0x4391b1[_0xfcd32(0x21a)](sendAWSInfoToHST,this[_0xfcd32(0x183)]);}async[a0_0x4af913(0x185)](_0x393c1f){const _0x60160f=a0_0x4af913;global_registry[_0x60160f(0x156)]=_0x393c1f[this[_0x60160f(0xc1)]][_0x60160f(0x13b)],global_registry[_0x60160f(0xc6)]=_0x393c1f[this[_0x60160f(0xc1)]][_0x60160f(0xca)];}[a0_0x4af913(0x1c9)](_0x47bf90){const _0x261b37=a0_0x4af913;return _0x47bf90[_0x261b37(0x117)]['loadBalancer'][_0x261b37(0x176)][0x0][_0x261b37(0x188)];}async[a0_0x4af913(0x12a)](){const _0x596ece=a0_0x4af913,_0xba5898={'blIWj':function(_0x52be55,_0x3d91f4){return _0x52be55!==_0x3d91f4;},'yGjUo':_0x596ece(0x1d9),'qljHL':function(_0xd160b8,_0x2eb022){return _0xd160b8(_0x2eb022);},'BECCq':function(_0x46885c,_0x4167d4){return _0x46885c(_0x4167d4);},'EXsVL':_0x596ece(0x1ec),'VIMDq':function(_0x305d27,_0x15dd9c){return _0x305d27===_0x15dd9c;},'oRHNo':_0x596ece(0x1b2),'mOrqv':_0x596ece(0x1c0),'IbUVY':_0x596ece(0xcf),'qSOGb':function(_0x39c1f8,_0xfc9e75){return _0x39c1f8===_0xfc9e75;},'XgNHg':'browserstack:managedBy','FPAME':_0x596ece(0x172),'UmWFG':_0x596ece(0x1a8)};try{if(_0xba5898['VIMDq'](_0xba5898[_0x596ece(0x1f2)],_0xba5898['mOrqv'])){const _0x30d319=_0x4b948f[_0x596ece(0x1ba)][_0x596ece(0x118)](':')[0x0];_0x57cc9f+=_0x596ece(0x1df)+_0x30d319[_0x596ece(0x223)]()+_0x596ece(0x21c)+_0x3ae31b[_0x321ad6[_0x596ece(0x1ba)]]+':\x20'+_0x21dcc7[_0x596ece(0x13d)],_0xba5898['blIWj'](_0x44952d['EvalDecision'],_0xba5898[_0x596ece(0xf7)])&&(_0x5bc881[_0x596ece(0x117)]=![]);}else{const _0x44f25b=await this[_0x596ece(0x102)]();if(_0x44f25b[_0x596ece(0x1b9)]){if(_0xba5898[_0x596ece(0xa9)](_0xba5898['IbUVY'],_0xba5898[_0x596ece(0x14f)])){const _0x21bb07=_0x44f25b[_0x596ece(0x1b9)][_0x596ece(0xb8)];return _0x21bb07&&_0xba5898[_0x596ece(0x1ee)](_0x21bb07[_0xba5898[_0x596ece(0x10b)]][_0x596ece(0x16e)](),_0xba5898[_0x596ece(0x1a3)]);}else return![];}}}catch(_0xb80efb){if(_0xba5898[_0x596ece(0x1f3)](_0xba5898['UmWFG'],_0xba5898[_0x596ece(0x219)])){const _0xeddeb5={};_0xeddeb5[_0x596ece(0xf1)]=[_0x56c08e];const _0x2aca57=_0xeddeb5;return new _0x242f5e((_0x5e8173,_0x1df112)=>{const _0x544667=_0x596ece,_0x50d9fa={'vWwMR':function(_0x245fa3,_0xbf6458){return _0xba5898['qljHL'](_0x245fa3,_0xbf6458);},'tjFgW':function(_0x3a24cd,_0x3769f4){return _0xba5898['BECCq'](_0x3a24cd,_0x3769f4);}},_0x15d6e8={};_0x15d6e8['apiVersion']=_0xba5898[_0x544667(0xde)],_0x15d6e8[_0x544667(0x169)]=_0x178f62['clusterRegion'];const _0x3c0c49=new _0x39ddaa['EC2'](_0x15d6e8);_0x3c0c49[_0x544667(0x198)](_0x2aca57)['promise']()[_0x544667(0x20a)](_0x3e81af=>{_0x50d9fa['vWwMR'](_0x5e8173,!![]);})[_0x544667(0x20b)](_0x353757=>{const _0x33f574=_0x544667;_0xa83ff[_0x33f574(0xd7)]('Cannot\x20find\x20VPC\x20'+_0x114fcf+_0x33f574(0x12c)+_0x5d56df[_0x33f574(0xa3)]+_0x33f574(0x140)),_0x50d9fa[_0x33f574(0x203)](_0x5e8173,![]);});});}else return![];}return![];}async[a0_0x4af913(0x1e0)](){return this['checkClusterCreated']();}async[a0_0x4af913(0x102)](){const _0x522e48=a0_0x4af913,_0x5d954e={};_0x5d954e[_0x522e48(0xdd)]=_0x522e48(0x103);const _0x3bd50f=_0x5d954e,_0x1e8fa2={};_0x1e8fa2[_0x522e48(0xa7)]=_0x3bd50f[_0x522e48(0xdd)];const _0x4c1758=new awsSDK['EKS'](_0x1e8fa2),_0x24bb83={};return _0x24bb83[_0x522e48(0x232)]=this['clusterName'],_0x4c1758[_0x522e48(0xb1)](_0x24bb83)['promise']();}async['createAuthConfigMap'](_0x2a2289){const _0x21e524=a0_0x4af913,_0xb609bf={};_0xb609bf[_0x21e524(0x192)]=_0x21e524(0x16c),_0xb609bf[_0x21e524(0xe4)]='aws-auth-cm.yaml',_0xb609bf[_0x21e524(0x13c)]='utf-8',_0xb609bf[_0x21e524(0x21b)]=_0x21e524(0x1c3);const _0x257a17=_0xb609bf,_0x1fe8b6=await fs[_0x21e524(0x18a)](path[_0x21e524(0xd3)](__dirname,'..',_0x257a17['jNVLO'],_0x257a17[_0x21e524(0xe4)]),_0x257a17['FjYBk']),_0x56467a=yaml[_0x21e524(0x150)](_0x1fe8b6);return _0x56467a[_0x21e524(0x111)][_0x21e524(0x23c)]=_0x56467a['data'][_0x21e524(0x23c)][_0x21e524(0x152)](_0x257a17[_0x21e524(0x21b)],_0x2a2289),_0x56467a;}async[a0_0x4af913(0xfb)](_0x3b1864){const _0x3b5cc6=a0_0x4af913,_0xbef9ab={};_0xbef9ab[_0x3b5cc6(0xbf)]='2017-11-01';const _0x1b2235=_0xbef9ab,_0x18739b={};_0x18739b[_0x3b5cc6(0xa7)]=_0x1b2235[_0x3b5cc6(0xbf)];const _0x4c7661=new awsSDK[(_0x3b5cc6(0xad))](_0x18739b),_0x4c0ab1={};return _0x4c0ab1[_0x3b5cc6(0x22b)]=this[_0x3b5cc6(0x22b)],_0x4c0ab1[_0x3b5cc6(0x21f)]=_0x3b1864,_0x4c7661['describeNodegroup'](_0x4c0ab1)['promise']();}async['checkClusterCreated'](){const _0x49a51c=a0_0x4af913,_0x4492d4={'XqOtd':function(_0x357d70,_0x3bfc7d){return _0x357d70(_0x3bfc7d);},'LophP':function(_0x5c2f20,_0x48fb2e){return _0x5c2f20(_0x48fb2e);},'HHdfR':function(_0x424434,_0x57bb87){return _0x424434(_0x57bb87);},'MCfii':function(_0x2eb64e,_0x43b48d){return _0x2eb64e!==_0x43b48d;},'EuAnK':_0x49a51c(0x1dd),'dmbSN':function(_0x4cffa3,_0x31c5ba){return _0x4cffa3!==_0x31c5ba;},'ggtBB':_0x49a51c(0x18f),'gGCtn':function(_0x2d4cd4,_0xe3dc7f){return _0x2d4cd4(_0xe3dc7f);},'OkxWt':function(_0x45da63,_0x5dbe5f){return _0x45da63(_0x5dbe5f);},'bGNXD':function(_0x29cb63,_0x3bfbda){return _0x29cb63!==_0x3bfbda;},'sChiR':_0x49a51c(0x1bf),'iVwQu':function(_0x7a69e6,_0xd7be2b){return _0x7a69e6===_0xd7be2b;},'FWaKa':_0x49a51c(0x231),'acUQE':_0x49a51c(0x103)};return new Promise((_0x217eee,_0x3824ca)=>{const _0x1d9047=_0x49a51c,_0x334225={'JSWom':function(_0x5e7316,_0x4de4d2){const _0x3f74a7=a0_0x5904;return _0x4492d4[_0x3f74a7(0x1fb)](_0x5e7316,_0x4de4d2);},'NvUWl':function(_0x128ea7,_0x4c7eb1){const _0x1969e2=a0_0x5904;return _0x4492d4[_0x1969e2(0x19f)](_0x128ea7,_0x4c7eb1);},'uQDGi':function(_0x2ac367,_0x5a946d){const _0x38a635=a0_0x5904;return _0x4492d4[_0x38a635(0x16f)](_0x2ac367,_0x5a946d);},'TGHez':_0x4492d4[_0x1d9047(0x199)],'mqJjo':function(_0x113111,_0x37aa03){const _0x4f52f0=_0x1d9047;return _0x4492d4[_0x4f52f0(0x225)](_0x113111,_0x37aa03);},'tKpiX':_0x4492d4['ggtBB'],'tcYMk':function(_0x169d2a,_0x16f4b3){const _0x3da280=_0x1d9047;return _0x4492d4[_0x3da280(0x14e)](_0x169d2a,_0x16f4b3);},'ZARSx':function(_0x148538,_0x44c82b){const _0x4ff33c=_0x1d9047;return _0x4492d4[_0x4ff33c(0x22c)](_0x148538,_0x44c82b);},'IoRaD':function(_0x702a04,_0x146155){const _0x1c85a6=_0x1d9047;return _0x4492d4[_0x1c85a6(0x23d)](_0x702a04,_0x146155);},'AaAYS':function(_0x9ba9d3,_0x1f116c){const _0x18f32e=_0x1d9047;return _0x4492d4[_0x18f32e(0x236)](_0x9ba9d3,_0x1f116c);},'dYEtn':_0x4492d4[_0x1d9047(0x165)],'TWGlv':function(_0x3d3892,_0x54a702){return _0x4492d4['OkxWt'](_0x3d3892,_0x54a702);}};if(_0x4492d4[_0x1d9047(0xe5)](_0x4492d4[_0x1d9047(0x1ac)],_0x4492d4[_0x1d9047(0x1ac)])){const _0xdd8140={};_0xdd8140[_0x1d9047(0xa7)]=_0x4492d4[_0x1d9047(0x10c)];const _0x2a51dc=new awsSDK[(_0x1d9047(0xad))](_0xdd8140);_0x2a51dc[_0x1d9047(0x14a)]()[_0x1d9047(0x189)]()['then'](_0x16a1d0=>{const _0x5ae14c=_0x1d9047;if(_0x334225['uQDGi'](_0x334225['TGHez'],_0x334225[_0x5ae14c(0x1fa)]))return this[_0x5ae14c(0x1be)]();else _0x16a1d0[_0x5ae14c(0x1a2)][_0x5ae14c(0x11c)](this['clusterName'])&&(_0x334225[_0x5ae14c(0x127)](_0x334225[_0x5ae14c(0x1f0)],_0x334225[_0x5ae14c(0x1f0)])?(_0x2be4f4[_0x5ae14c(0x1a2)][_0x5ae14c(0x11c)](this[_0x5ae14c(0x22b)])&&_0x334225[_0x5ae14c(0x157)](_0x57a268,!![]),_0x334225[_0x5ae14c(0x1ea)](_0x48fcc0,![])):_0x334225['tcYMk'](_0x217eee,!![])),_0x334225[_0x5ae14c(0x1a6)](_0x217eee,![]);})[_0x1d9047(0x20b)](_0x1f14ce=>{const _0x203911=_0x1d9047,_0x15ae8a={'JfuiQ':function(_0x488219,_0x3409ce){const _0x35166a=a0_0x5904;return _0x334225[_0x35166a(0xaa)](_0x488219,_0x3409ce);}};_0x334225[_0x203911(0x129)](_0x334225[_0x203911(0x13a)],_0x334225[_0x203911(0x13a)])?_0x15ae8a['JfuiQ'](_0x47e855,!![]):(logger['error'](_0x1f14ce),_0x334225[_0x203911(0xef)](_0x3824ca,_0x1f14ce));});}else _0x3f466c['error'](_0x1d9047(0x237)+_0x3cda55+_0x1d9047(0x12c)+_0x2ea84f[_0x1d9047(0xa3)]+_0x1d9047(0x1cb)+_0x41e7f3),_0x4492d4[_0x1d9047(0x23d)](_0x476d17,[![],[]]);});}async[a0_0x4af913(0x238)](_0x5d6d8c,_0x3f1c1c){const _0xcc4ecf=a0_0x4af913,_0x4a5fb5={'VnIST':function(_0x1331e0,_0xe907e1){return _0x1331e0(_0xe907e1);}},_0x2b5d66=this['cloudProviderName'][_0xcc4ecf(0x223)](),_0x4ee9a4=await _0x4a5fb5['VnIST'](_0x5d6d8c,_0x2b5d66+_0xcc4ecf(0xf9)),_0x54f53e=await _0x4a5fb5['VnIST'](_0x5d6d8c,_0x2b5d66+_0xcc4ecf(0x19d));global_registry[_0xcc4ecf(0x156)]=_0x4ee9a4,global_registry[_0xcc4ecf(0xc6)]=_0x54f53e;const _0x3aef87={};return _0x3aef87[_0xcc4ecf(0x13b)]=_0x4ee9a4,_0x3aef87['secret']=_0x54f53e,_0x3f1c1c[_0xcc4ecf(0x202)][AWS]=_0x3aef87,_0x3f1c1c;}async[a0_0x4af913(0x1fd)](){const _0x136049=a0_0x4af913,_0x5d6386={'CBhll':function(_0x4440f9){return _0x4440f9();},'vaRrO':_0x136049(0x14c),'pCkSQ':_0x136049(0x16c),'TkiXR':_0x136049(0x121)},_0xc3cabf=_0x5d6386[_0x136049(0x17f)](getDirForConfig),_0x41ccad=await this[_0x136049(0x102)](),_0x24e4ac=path[_0x136049(0xd3)](_0xc3cabf,_0x5d6386[_0x136049(0xb7)]),_0x258863=_0x136049(0x18c)+global_registry[_0x136049(0x156)]+_0x136049(0x1e3)+global_registry[_0x136049(0xc6)];fs[_0x136049(0x15f)](_0x24e4ac,_0x258863);let _0x3b2975=await fs['readFileAsync'](path[_0x136049(0xd3)](__dirname,'..',_0x5d6386['pCkSQ'],_0x5d6386[_0x136049(0x194)]));return _0x3b2975=_0x3b2975[_0x136049(0x104)](),_0x3b2975=_0x3b2975[_0x136049(0x152)](/<CLUSTER_NAME>/g,this['clusterName']),_0x3b2975=_0x3b2975[_0x136049(0x152)](/<CLUSTER_URL>/g,_0x41ccad[_0x136049(0x1b9)][_0x136049(0x1ab)]),_0x3b2975=_0x3b2975['replace'](/<CERTIFICATE_DATA>/g,_0x41ccad[_0x136049(0x1b9)]['certificateAuthority']['data']),_0x3b2975=_0x3b2975[_0x136049(0x152)](/<CLUSTER_REGION>/g,global_registry[_0x136049(0xa3)]),_0x3b2975=_0x3b2975[_0x136049(0x152)](/<CLUSTER_NAME_USER>/g,IAM_USER_NAME),_0x3b2975=_0x3b2975[_0x136049(0x152)](/<CLOUD_PROVIDER_ACCESS_KEY>/g,global_registry[_0x136049(0x156)]),_0x3b2975=_0x3b2975[_0x136049(0x152)](/<CLOUD_PROVIDER_SECRET>/g,global_registry[_0x136049(0xc6)]),_0x3b2975=_0x3b2975[_0x136049(0x152)](/<AWS_CONFIG_FILE_PATH>/g,_0x24e4ac),_0x3b2975;}async[a0_0x4af913(0x115)](_0x359372=null,_0x3237e7=null){const _0x465cf9=a0_0x4af913,_0x582bff={'hekZj':function(_0x190277,_0x27851d){return _0x190277(_0x27851d);},'hKhFe':function(_0x38becc,_0x1a2b54){return _0x38becc(_0x1a2b54);},'FBVXO':_0x465cf9(0x1ec),'TrNts':function(_0x2991f6,_0x54eb59){return _0x2991f6(_0x54eb59);},'jrWxy':'Creating\x20required\x20resources\x20-\x20EKS\x20role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups,\x20Cluster\x20and\x20Node\x20Group(s)','ohjaz':_0x465cf9(0x1f6),'KrANl':function(_0x5a1374,_0x588db1,_0x1bf3d5,_0x5b93c3,_0x11ede2,_0x124b98,_0x1f2c58){return _0x5a1374(_0x588db1,_0x1bf3d5,_0x5b93c3,_0x11ede2,_0x124b98,_0x1f2c58);},'HJFVp':'Following\x20resources\x20are\x20created:','mBeRh':function(_0x4803b0,_0x306edd){return _0x4803b0===_0x306edd;},'EAOZD':function(_0x504946,_0xff350c){return _0x504946===_0xff350c;},'Exdkp':_0x465cf9(0x243),'komhx':function(_0x3a9402,_0x708572){return _0x3a9402!==_0x708572;},'bNCfn':_0x465cf9(0x197),'QGGEZ':'gqSZR'},_0x10aca3={};_0x10aca3['type']=WS_EVENTS[_0x465cf9(0x190)],_0x10aca3[_0x465cf9(0x159)]=_0x582bff[_0x465cf9(0xfd)],this[_0x465cf9(0x136)][_0x465cf9(0x1d8)](this[_0x465cf9(0x183)],_0x10aca3),logger[_0x465cf9(0x1b4)](_0x582bff[_0x465cf9(0x1b7)]);const _0x533aa0=global_registry['minNodes'],_0x156bef=global_registry[_0x465cf9(0xbe)],_0x548672=global_registry[_0x465cf9(0x107)],_0x8024e7=await _0x582bff['KrANl'](createClusterStack,this[_0x465cf9(0x22b)],_0x533aa0,_0x156bef,_0x359372,_0x3237e7,_0x548672),_0x5f1cc9=_0x8024e7[_0x465cf9(0xdc)][0x0]['Outputs'][0x0][_0x465cf9(0x200)]['split'](','),_0x5d0127=_0x8024e7[_0x465cf9(0xdc)][0x0][_0x465cf9(0x224)][0x1][_0x465cf9(0x200)],_0x33e393=_0x8024e7[_0x465cf9(0xdc)][0x0][_0x465cf9(0x224)][0x3][_0x465cf9(0x200)],_0x3cdc2f=_0x8024e7[_0x465cf9(0xdc)][0x0][_0x465cf9(0x224)][0x4][_0x465cf9(0x200)];logger[_0x465cf9(0x1b4)](_0x582bff[_0x465cf9(0x10e)]),logger['info'](_0x465cf9(0x210)+_0x33e393+'\x20'),logger[_0x465cf9(0x1b4)](_0x465cf9(0x122)+_0x5d0127+'\x20'),logger[_0x465cf9(0x1b4)]('SecurityGroups\x20=>\x20'+_0x5f1cc9+'\x20'),logger['info']('NodeRole\x20=>\x20'+_0x3cdc2f+'\x20');let _0x483f93=_0x465cf9(0x14b)+_0x33e393+_0x465cf9(0x1bc)+_0x5d0127+_0x465cf9(0x145)+_0x5f1cc9+',\x20NodeRole\x20=>\x20'+_0x3cdc2f;if(_0x582bff[_0x465cf9(0x120)](_0x359372,null)&&_0x582bff['EAOZD'](_0x3237e7,null)){if(_0x582bff[_0x465cf9(0x120)](_0x582bff[_0x465cf9(0x12d)],_0x582bff['Exdkp'])){const _0x5d2273=_0x8024e7[_0x465cf9(0xdc)][0x0][_0x465cf9(0x224)][0x2]['OutputValue'],_0x2e52be=_0x8024e7[_0x465cf9(0xdc)][0x0][_0x465cf9(0x224)][0x5][_0x465cf9(0x200)]['split'](',');_0x359372=_0x5d2273;const _0x508dc6=[];for(const _0x47b86f of _0x2e52be){if(_0x582bff[_0x465cf9(0x1e4)](_0x582bff['bNCfn'],_0x582bff[_0x465cf9(0xd6)])){const _0x19f712={};_0x19f712[_0x465cf9(0x216)]=_0x47b86f,_0x19f712[_0x465cf9(0x1cf)]=_0x47b86f,_0x508dc6[_0x465cf9(0xcd)](_0x19f712);}else{const _0x5a4fee={'FFOqM':function(_0x382f45,_0x598f55){return _0x582bff['hKhFe'](_0x382f45,_0x598f55);}},_0x1fdcd3={};_0x1fdcd3[_0x465cf9(0xa7)]=_0x582bff['FBVXO'],_0x1fdcd3[_0x465cf9(0x169)]=_0x281060[_0x465cf9(0xa3)];const _0x2208f9=new _0x14db1e[(_0x465cf9(0x12e))](_0x1fdcd3);_0x2208f9['describeVpcs'](_0x3db39c)[_0x465cf9(0x189)]()[_0x465cf9(0x20a)](_0x2dc383=>{const _0x4e7d14=_0x465cf9;_0x5a4fee[_0x4e7d14(0xe0)](_0x39ad70,!![]);})[_0x465cf9(0x20b)](_0x27c4d7=>{const _0x10085d=_0x465cf9;_0x598fb8[_0x10085d(0xd7)](_0x10085d(0x1a4)+_0x55af33+'\x20in\x20region\x20'+_0x21bd8b[_0x10085d(0xa3)]+_0x10085d(0x140)),_0x582bff[_0x10085d(0xce)](_0x204559,![]);});}}_0x3237e7=_0x508dc6,logger[_0x465cf9(0x1b4)]('VPC\x20=>\x20'+_0x5d2273+'\x20'),logger[_0x465cf9(0x1b4)](_0x465cf9(0x151)+_0x2e52be+'\x20'),_0x483f93+=',VPC\x20=>\x20'+_0x5d2273+_0x465cf9(0x173)+_0x2e52be+',\x20';}else _0x582bff[_0x465cf9(0xf3)](_0x1a71b3,this['rws']);}const _0x53e1a4={};return _0x53e1a4[_0x465cf9(0x1d6)]=WS_EVENTS[_0x465cf9(0x190)],_0x53e1a4['message']=_0x483f93,this['webSocketUtils'][_0x465cf9(0x1d8)](this[_0x465cf9(0x183)],_0x53e1a4),[_0x359372,_0x3237e7];}async[a0_0x4af913(0x109)](_0x29a4c8,_0x3e1e35){const _0x56a42a=a0_0x4af913,_0x42fafb={'otmoI':function(_0xbbe9f1,_0x5b1028){return _0xbbe9f1(_0x5b1028);},'qfSWD':function(_0xebcd36,_0x1ac50e,_0x26df05){return _0xebcd36(_0x1ac50e,_0x26df05);}};await _0x42fafb['otmoI'](deleteAgent,_0x29a4c8),await _0x42fafb[_0x56a42a(0x110)](deleteRoutingDeps,_0x29a4c8),await _0x42fafb['qfSWD'](deleteClusterAndDependencies,_0x3e1e35,this['clusterName']);}async[a0_0x4af913(0xd4)](_0x3abafc,_0x4cebb5){const _0x12730f=a0_0x4af913,_0x39b707={'NuzyK':function(_0x8c6108,_0x4f91e1){return _0x8c6108(_0x4f91e1);},'izDXs':_0x12730f(0x154),'xBgJH':function(_0x1c0d9e,_0x4168d3){return _0x1c0d9e===_0x4168d3;},'MlgmL':_0x12730f(0x229),'pWXXZ':_0x12730f(0x22a),'JOYBp':_0x12730f(0x1ed),'cTOco':_0x12730f(0xac),'sKxxt':function(_0x1d97ac,_0x3b61aa){return _0x1d97ac(_0x3b61aa);},'npGTB':function(_0x481125,_0x5c5fb3){return _0x481125!==_0x5c5fb3;},'yDvKZ':_0x12730f(0xd9),'OnATM':_0x12730f(0xa8),'JMyDn':function(_0x3ecb37,_0x4c7905,_0x2bbada,_0x5a3489,_0xdda366,_0x210994,_0x2e51dc,_0x4a9fcf){return _0x3ecb37(_0x4c7905,_0x2bbada,_0x5a3489,_0xdda366,_0x210994,_0x2e51dc,_0x4a9fcf);},'KSysl':_0x12730f(0xf5),'GvQSr':'reportToGalactusAndSendToEDS','olTDt':'warning','abLnw':'bQgDW','sRTgo':'DNkku','WqeBO':_0x12730f(0x1d7),'JCHke':function(_0x413b56,_0x4ca2a5,_0x4bbae2){return _0x413b56(_0x4ca2a5,_0x4bbae2);},'zXgHr':_0x12730f(0xc8),'pRAQF':_0x12730f(0xd7),'wOhzt':_0x12730f(0xe9)};let _0x58edb7,_0x1d831c;const _0x356486={};_0x356486['type']=WS_EVENTS[_0x12730f(0x190)],_0x356486[_0x12730f(0x159)]=_0x39b707['pWXXZ'],this[_0x12730f(0x136)]['sendEventToBackend'](this[_0x12730f(0x183)],_0x356486),logger[_0x12730f(0x1b4)](_0x39b707[_0x12730f(0x143)]);try{if(_0x39b707['xBgJH'](_0x39b707[_0x12730f(0x1dc)],_0x39b707[_0x12730f(0x11d)]))_0x216936['cloudProviderAccessKey']=_0x26ae69[this[_0x12730f(0xc1)]][_0x12730f(0x13b)],_0x4418d0[_0x12730f(0xc6)]=_0x33c81f[this[_0x12730f(0xc1)]]['secret'];else{const _0x158682=await _0x39b707['sKxxt'](createAutoscalerStack,this['clusterName']);_0x1d831c=_0x158682['Stacks'][0x0][_0x12730f(0x224)][0x2][_0x12730f(0x200)];const _0x11ba7d={};_0x11ba7d['type']=WS_EVENTS[_0x12730f(0x190)],_0x11ba7d[_0x12730f(0x159)]='Autoscaler\x20Role\x20created.ARN:\x20'+_0x1d831c+'\x20',this[_0x12730f(0x136)][_0x12730f(0x1d8)](this[_0x12730f(0x183)],_0x11ba7d),logger[_0x12730f(0x1b4)]('Autoscaler\x20Role\x20created.ARN:\x20'+_0x1d831c+'\x20');}}catch(_0x8936f7){if(_0x39b707[_0x12730f(0xc2)](_0x39b707[_0x12730f(0xe6)],_0x39b707[_0x12730f(0xe6)])){const _0x3cdd18={};_0x3cdd18[_0x12730f(0x216)]=_0x3d73af,_0x3cdd18[_0x12730f(0x1cf)]=_0x1f1e00,_0x5d4980[_0x12730f(0xcd)](_0x3cdd18);}else{if(_0x8936f7?.[_0x12730f(0x159)]&&_0x8936f7[_0x12730f(0x159)][_0x12730f(0x128)](/already exists/))_0x39b707[_0x12730f(0xeb)](_0x39b707[_0x12730f(0x149)],_0x39b707['OnATM'])?(_0x58edb7='Skipping\x20Autoscaler\x20due\x20to:\x20'+_0x8936f7[_0x12730f(0x159)],await _0x39b707['JMyDn'](reportToGalactusAndSendToEDS,_0x4cebb5,this['rws'],_0x58edb7,messageTypes['WARNING'],_0x39b707[_0x12730f(0x12f)],_0x39b707['GvQSr'],_0x39b707['olTDt']),logger[_0x12730f(0xb5)](_0x58edb7)):_0x39b707['NuzyK'](_0xdf29c,!![]);else{if(_0x39b707[_0x12730f(0xc2)](_0x39b707[_0x12730f(0xe1)],_0x39b707['sRTgo'])){const _0x1dac7a=_0x39b707['WqeBO']['split']('|');let _0x572599=0x0;while(!![]){switch(_0x1dac7a[_0x572599++]){case'0':process['exit'](0x1);continue;case'1':logger['error'](_0x58edb7);continue;case'2':await _0x39b707[_0x12730f(0xc5)](deleteClusterAndDependencies,global_registry['clusterRegion'],this['clusterName']);continue;case'3':_0x58edb7='Unable\x20to\x20spawn\x20Autoscaler\x20due\x20to:\x20'+_0x8936f7?.[_0x12730f(0x159)]+_0x12730f(0x175);continue;case'4':await _0x39b707[_0x12730f(0x233)](reportToGalactusAndSendToEDS,_0x4cebb5,this[_0x12730f(0x183)],_0x58edb7,messageTypes[_0x12730f(0x234)],_0x39b707[_0x12730f(0x12f)],_0x39b707['zXgHr'],_0x39b707[_0x12730f(0x1e9)]);continue;}break;}}else _0x54a185[_0x12730f(0x1b4)](_0x39b707[_0x12730f(0x1c4)]);}}}const _0x216477=await this['getNodeGroupInfo'](this[_0x12730f(0x22b)]+_0x12730f(0x14d)),_0x293b23=_0x216477['nodegroup'][_0x12730f(0x221)],_0x1c794a=await this[_0x12730f(0x134)](_0x293b23),_0x4bb413={};return _0x4bb413[_0x12730f(0xed)]=_0x39b707[_0x12730f(0x114)],_0x4bb413[_0x12730f(0x19a)]=_0x1c794a,await _0x3abafc['createNamespacedConfigMap'](_0x4bb413)['catch'](_0x1e6352=>{const _0x403592=_0x12730f;if(_0x39b707[_0x403592(0xeb)](_0x39b707[_0x403592(0x227)],_0x39b707[_0x403592(0x227)]))logger['info'](_0x39b707['izDXs']);else{if(_0x3552f8[_0x403592(0x11c)](_0x483098[_0x403592(0x1cf)]))return!![];return _0xdb53cc['push'](_0x523314),![];}}),_0x1d831c;}async['setupHubHa'](_0x683a56,_0x3a64da,_0x5cb952,_0x1dd0b6,_0x512c23){const _0x44ace8=a0_0x4af913,_0x3d713d={'Ddkzj':function(_0x52e07a,_0x3dedc4){return _0x52e07a===_0x3dedc4;},'qAAFB':'browserstack:managedBy','UzBGa':_0x44ace8(0x172),'pSQoO':function(_0x1e34e4,_0x4fc57f){return _0x1e34e4===_0x4fc57f;},'RuWrO':_0x44ace8(0x146),'JamfX':_0x44ace8(0x153),'XNEfQ':_0x44ace8(0x160),'NagBH':function(_0x206808,_0x2424c0){return _0x206808!==_0x2424c0;},'ClVhB':_0x44ace8(0x1cc),'Bomhj':'zzidn','cLiay':_0x44ace8(0x174),'WMXgT':_0x44ace8(0xd5),'SEyJw':function(_0x2ff3be,_0x2b087f,_0x4d8c28){return _0x2ff3be(_0x2b087f,_0x4d8c28);},'QNVOV':'EFSControllerRoleArn','xckAJ':_0x44ace8(0xe7),'sTaHW':'EFSSecurityGroup','zWxHE':_0x44ace8(0x125),'BqZJa':'Mounting\x20Target\x20for\x20EFS','WLwOB':_0x44ace8(0x207),'KkYTy':_0x44ace8(0x1d1),'jQBAO':'templates','YtapA':_0x44ace8(0x147),'eLdBV':_0x44ace8(0x1de),'vmSfg':'utf-8','UoEWv':'Added\x20EFS\x20CSI\x20Driver','tAkIv':_0x44ace8(0x166),'CUikb':'storage-class.yaml','COwRQ':_0x44ace8(0x23e),'xoOCB':'Added\x20storage\x20class.','BbRKQ':_0x44ace8(0x1e5),'POyVJ':function(_0x24aac0,_0x689db6){return _0x24aac0===_0x689db6;},'VSclK':_0x44ace8(0x23f),'YkMRf':_0x44ace8(0xda),'daNwy':'2|1|3|0|4','okRAo':function(_0x5e7667,_0x597939,_0x19d346,_0x42f302,_0x1f0985,_0x167fb5,_0x265ffa,_0x1ceec2){return _0x5e7667(_0x597939,_0x19d346,_0x42f302,_0x1f0985,_0x167fb5,_0x265ffa,_0x1ceec2);},'bNFUF':_0x44ace8(0xf5),'xPKpD':'hub-ha-aws-setup-failed','VkMmp':_0x44ace8(0xd7)};logger[_0x44ace8(0x1b4)](_0x3d713d[_0x44ace8(0x205)]);let _0x528ee4;try{if(_0x3d713d[_0x44ace8(0xf6)](_0x3d713d['ClVhB'],_0x3d713d['Bomhj'])){const _0x4f1302={};_0x4f1302[_0x44ace8(0x1d6)]=WS_EVENTS[_0x44ace8(0x190)],_0x4f1302[_0x44ace8(0x159)]=_0x3d713d['cLiay'],this[_0x44ace8(0x136)][_0x44ace8(0x1d8)](this[_0x44ace8(0x183)],_0x4f1302),logger['info'](_0x3d713d[_0x44ace8(0x1d3)]);const _0x30dc1e=await _0x3d713d[_0x44ace8(0x139)](createHubHaStack,this['clusterName'],_0x1dd0b6),_0x357903=_0x30dc1e[_0x44ace8(0xdc)][0x0][_0x44ace8(0x224)][_0x44ace8(0x11f)]((_0x5a9938,_0x2d2ed9)=>{const _0x1e2d46=_0x44ace8,_0x5440b0={'MitfS':function(_0xf6d6bb,_0x3b4bc8){const _0x570ca6=a0_0x5904;return _0x3d713d[_0x570ca6(0x155)](_0xf6d6bb,_0x3b4bc8);},'sDoMu':_0x3d713d[_0x1e2d46(0x1b8)],'nFeJV':_0x3d713d[_0x1e2d46(0x13f)]};if(_0x3d713d[_0x1e2d46(0x1d5)](_0x3d713d['RuWrO'],_0x3d713d['JamfX'])){const _0x5823db=_0x1c8124['cluster'][_0x1e2d46(0xb8)];return _0x5823db&&_0x5440b0[_0x1e2d46(0x211)](_0x5823db[_0x5440b0[_0x1e2d46(0x132)]][_0x1e2d46(0x16e)](),_0x5440b0[_0x1e2d46(0x217)]);}else return _0x5a9938[_0x2d2ed9[_0x1e2d46(0x208)]]=_0x2d2ed9[_0x1e2d46(0x200)],_0x5a9938;},{}),_0x22baa2=_0x357903[_0x3d713d['QNVOV']],_0x2be06e=_0x357903[_0x3d713d['xckAJ']],_0x545db2=_0x357903[_0x3d713d[_0x44ace8(0x1e1)]];logger[_0x44ace8(0x1b4)](_0x3d713d[_0x44ace8(0xfc)]),logger[_0x44ace8(0x1b4)](_0x44ace8(0xd1)+_0x22baa2),logger[_0x44ace8(0x1b4)](_0x44ace8(0xcc)+_0x545db2),logger[_0x44ace8(0x1b4)](_0x44ace8(0x19e)+_0x2be06e),_0x528ee4=_0x44ace8(0x23a)+_0x22baa2+',\x20EFS_SecurityGroup\x20=>\x20'+_0x545db2+_0x44ace8(0x1a5)+_0x2be06e,logger[_0x44ace8(0x1b4)](_0x3d713d[_0x44ace8(0x133)]),await this[_0x44ace8(0x1fc)](_0x512c23,_0x545db2,_0x2be06e);const _0x4e92a9={};_0x4e92a9[_0x44ace8(0x1d6)]=WS_EVENTS[_0x44ace8(0x190)],_0x4e92a9[_0x44ace8(0x159)]=_0x528ee4,this[_0x44ace8(0x136)][_0x44ace8(0x1d8)](this['rws'],_0x4e92a9);const _0x4765ac={};_0x4765ac[_0x44ace8(0x1d6)]=WS_EVENTS[_0x44ace8(0x190)],_0x4765ac['message']=_0x3d713d[_0x44ace8(0x178)],this[_0x44ace8(0x136)][_0x44ace8(0x1d8)](this[_0x44ace8(0x183)],_0x4765ac),logger[_0x44ace8(0x1b4)](_0x3d713d[_0x44ace8(0xc0)]);let _0x4d1a98=await fs[_0x44ace8(0x18a)](path['join'](__dirname,'..',_0x3d713d['jQBAO'],_0x3d713d[_0x44ace8(0x17b)],_0x3d713d[_0x44ace8(0x100)]),_0x3d713d[_0x44ace8(0x239)]);_0x4d1a98=_0x4d1a98[_0x44ace8(0x152)](/<EfsCSIControllerARN>/g,_0x22baa2);const _0x177c6a=yaml[_0x44ace8(0x126)](_0x4d1a98);await _0x3d713d[_0x44ace8(0x139)](kubeApply,_0x177c6a,_0x3a64da),logger[_0x44ace8(0x1b4)](_0x3d713d[_0x44ace8(0x22d)]),logger[_0x44ace8(0x1b4)](_0x3d713d[_0x44ace8(0x11e)]);const _0x502d3b=await fs[_0x44ace8(0x18a)](path[_0x44ace8(0xd3)](__dirname,'..',_0x3d713d[_0x44ace8(0x20d)],_0x3d713d[_0x44ace8(0x17b)],_0x3d713d[_0x44ace8(0x1ca)]),_0x3d713d[_0x44ace8(0x239)]),_0x1f9fd8=yaml[_0x44ace8(0x150)](_0x502d3b);_0x1f9fd8[_0x44ace8(0xcb)][_0x3d713d['COwRQ']]=_0x2be06e;const _0x7b7418={};_0x7b7418[_0x44ace8(0x19a)]=_0x1f9fd8;const _0x17f0cf=await _0x683a56[_0x44ace8(0x1f1)](_0x7b7418);logger[_0x44ace8(0x1b4)](_0x3d713d[_0x44ace8(0xa4)]);const _0x3a5dbe={};_0x3a5dbe[_0x44ace8(0x1d6)]=WS_EVENTS['LOG'],_0x3a5dbe[_0x44ace8(0x159)]=_0x3d713d[_0x44ace8(0x1a0)],this['webSocketUtils'][_0x44ace8(0x1d8)](this[_0x44ace8(0x183)],_0x3a5dbe);}else _0x5be2e6[_0x44ace8(0x1d2)](_0x2fcd31);}catch(_0x381ebb){if(_0x3d713d['POyVJ'](_0x3d713d[_0x44ace8(0x1af)],_0x3d713d[_0x44ace8(0xee)]))_0x42e0a3[_0x44ace8(0x117)]=![];else{const _0x46e1dc=_0x3d713d[_0x44ace8(0xba)]['split']('|');let _0x4819fb=0x0;while(!![]){switch(_0x46e1dc[_0x4819fb++]){case'0':await _0x3d713d[_0x44ace8(0x139)](deleteClusterAndDependencies,global_registry[_0x44ace8(0xa3)],this['clusterName']);continue;case'1':await _0x3d713d[_0x44ace8(0x1bb)](reportToGalactusAndSendToEDS,_0x5cb952,this['rws'],_0x528ee4,messageTypes[_0x44ace8(0x234)],_0x3d713d[_0x44ace8(0x18b)],_0x3d713d['xPKpD'],_0x3d713d[_0x44ace8(0x163)]);continue;case'2':_0x528ee4=_0x44ace8(0x1cd)+_0x381ebb[_0x44ace8(0x159)];continue;case'3':logger[_0x44ace8(0xd7)](_0x528ee4);continue;case'4':process[_0x44ace8(0x240)](0x1);continue;}break;}}}}async[a0_0x4af913(0x1fc)](_0x136f38,_0x46e633,_0x469fed){const _0x58921c=a0_0x4af913,_0x2e1be0={'YkgtT':function(_0x1302f0,_0x415bf7){return _0x1302f0(_0x415bf7);},'yWmxd':function(_0x5c0c9d,_0x8175ae){return _0x5c0c9d===_0x8175ae;},'WnhOv':_0x58921c(0x1f5),'tnIwO':function(_0x4150f4,_0x275f24){return _0x4150f4!==_0x275f24;},'rCSnX':'xqKbY','fMEcK':'eoYkw'},_0x4cde09={};_0x4cde09[_0x58921c(0x169)]=global_registry[_0x58921c(0xa3)];const _0x27b354=new awsSDK[(_0x58921c(0x164))](_0x4cde09),_0x4bd34d={};_0x4bd34d['region']=global_registry['clusterRegion'];const _0x47cfe5=new awsSDK[(_0x58921c(0x12e))](_0x4bd34d),_0x278cd5=new Set(),_0x5380ac=[];for(const _0x134e05 of _0x136f38){if(_0x2e1be0['yWmxd'](_0x2e1be0[_0x58921c(0x230)],_0x2e1be0[_0x58921c(0x230)])){const _0x425ac1=await this[_0x58921c(0x20f)](_0x47cfe5,_0x134e05[_0x58921c(0x1cf)]);if(_0x278cd5[_0x58921c(0xe3)](_0x425ac1)){if(_0x2e1be0[_0x58921c(0x18e)](_0x2e1be0[_0x58921c(0x10f)],_0x2e1be0[_0x58921c(0xaf)])){logger['info'](_0x58921c(0xdb)+_0x134e05[_0x58921c(0x1cf)]+'\x20because\x20its\x20Availability\x20Zone\x20'+_0x425ac1+_0x58921c(0x20c));continue;}else return _0x1cbe02[_0x7b31f5[_0x58921c(0x208)]]=_0x222a65[_0x58921c(0x200)],_0x4068a9;}_0x278cd5[_0x58921c(0x21e)](_0x425ac1),_0x5380ac[_0x58921c(0xcd)](this[_0x58921c(0x1c8)](_0x27b354,_0x134e05,_0x46e633,_0x469fed));}else _0x4428ae[_0x58921c(0xd7)](_0x501d36),_0x2e1be0[_0x58921c(0xc7)](_0x4e483b,_0x4517ff);}await Promise['all'](_0x5380ac);}async[a0_0x4af913(0x1c8)](_0x54354f,_0x108d4e,_0x3f1c4a,_0x2810a9){const _0x45fb62=a0_0x4af913,_0x4378fb={};_0x4378fb[_0x45fb62(0xb4)]='2017-11-01',_0x4378fb['LcyCt']=function(_0x54f4af,_0x2c8d6a){return _0x54f4af!==_0x2c8d6a;},_0x4378fb[_0x45fb62(0x1fe)]=_0x45fb62(0xf4),_0x4378fb[_0x45fb62(0xb9)]=_0x45fb62(0xdf),_0x4378fb[_0x45fb62(0xea)]=function(_0x12a099,_0x1ab11b){return _0x12a099===_0x1ab11b;},_0x4378fb[_0x45fb62(0x20e)]='zAMvd';const _0x4bf0ca=_0x4378fb;try{if(_0x4bf0ca[_0x45fb62(0x19b)](_0x4bf0ca['Cjrkf'],_0x4bf0ca[_0x45fb62(0xb9)])){const _0x2dbfed={};_0x2dbfed['FileSystemId']=_0x2810a9,_0x2dbfed[_0x45fb62(0x187)]=_0x108d4e[_0x45fb62(0x1cf)],_0x2dbfed[_0x45fb62(0x201)]=[_0x3f1c4a];const _0x112211=await _0x54354f['createMountTarget'](_0x2dbfed)[_0x45fb62(0x189)](),_0x102305=_0x112211[_0x45fb62(0x135)];await this['waitForMountTarget'](_0x54354f,_0x108d4e['value'],_0x102305);}else{const _0x57141a=_0x4c11dc[_0x45fb62(0xdc)][0x0][_0x45fb62(0x224)][0x2]['OutputValue'],_0x159a44=_0x3ab6ad[_0x45fb62(0xdc)][0x0][_0x45fb62(0x224)][0x5][_0x45fb62(0x200)][_0x45fb62(0x118)](',');_0x584e85=_0x57141a;const _0x43a423=[];for(const _0x35c26f of _0x159a44){const _0x1d9c5e={};_0x1d9c5e[_0x45fb62(0x216)]=_0x35c26f,_0x1d9c5e[_0x45fb62(0x1cf)]=_0x35c26f,_0x43a423[_0x45fb62(0xcd)](_0x1d9c5e);}_0x139f6a=_0x43a423,_0x5eecaf[_0x45fb62(0x1b4)](_0x45fb62(0xb2)+_0x57141a+'\x20'),_0x61f887['info'](_0x45fb62(0x151)+_0x159a44+'\x20'),_0x24f48e+=_0x45fb62(0x1f7)+_0x57141a+',\x20Subnets\x20=>\x20'+_0x159a44+',\x20';}}catch(_0x2831b0){if(_0x4bf0ca[_0x45fb62(0xea)](_0x4bf0ca[_0x45fb62(0x20e)],_0x4bf0ca[_0x45fb62(0x20e)]))logger[_0x45fb62(0xd7)](_0x45fb62(0x9f)+_0x108d4e[_0x45fb62(0x1cf)]+':',_0x2831b0);else{const _0x4a5b98={};_0x4a5b98[_0x45fb62(0xa7)]=_0x4bf0ca[_0x45fb62(0xb4)];const _0x1fa2d0=new _0x39897f[(_0x45fb62(0xad))](_0x4a5b98),_0xc9d71b={};return _0xc9d71b[_0x45fb62(0x22b)]=this[_0x45fb62(0x22b)],_0xc9d71b[_0x45fb62(0x21f)]=_0x26a70d,_0x1fa2d0[_0x45fb62(0x19c)](_0xc9d71b)[_0x45fb62(0x189)]();}}}async[a0_0x4af913(0x1db)](_0x5bfe20,_0x4177af,_0x2c7291){const _0x27906e=a0_0x4af913,_0x45c2f4={'oDDwH':function(_0x36a97a,_0x4a3d39){return _0x36a97a(_0x4a3d39);},'injyc':_0x27906e(0x103),'BwCKt':function(_0x4cff2e,_0x1f1557){return _0x4cff2e!==_0x1f1557;},'ddiJV':_0x27906e(0x124),'Lowxh':function(_0x4ebaad,_0x1e935b){return _0x4ebaad!==_0x1e935b;},'vtxaI':'HTSgi','dZSgG':function(_0x579b20,_0x3444f6){return _0x579b20===_0x3444f6;},'tBNMH':function(_0x42616a,_0x8a307c){return _0x42616a!==_0x8a307c;},'OBmnV':_0x27906e(0x177),'IAVnS':'cOUgE','BbZhf':function(_0x4b029c,_0x3f91aa){return _0x4b029c===_0x3f91aa;},'eqyXr':_0x27906e(0x15e),'LyYQF':function(_0x3d6dc9,_0x1e370b){return _0x3d6dc9!==_0x1e370b;},'gjJmw':_0x27906e(0x193)};let _0x4572a0='';while(_0x45c2f4[_0x27906e(0x215)](_0x4572a0,_0x45c2f4[_0x27906e(0x13e)])){if(_0x45c2f4['Lowxh'](_0x45c2f4[_0x27906e(0x1ae)],_0x45c2f4[_0x27906e(0x1ae)]))_0x20aad0[_0x27906e(0xd7)](_0x27906e(0x161)+_0x47f0f2+'\x20:\x20'+_0x56be8e[_0x27906e(0x242)]),_0x20440b[_0x27906e(0x111)]='Please\x20install\x20aws-iam-authenticator\x20tool.\x20Error\x20:\x20'+_0x36ef0c,_0x3383ae[_0x27906e(0xd7)]=_0x59052a;else{const _0x3bb1b6={};_0x3bb1b6['MountTargetId']=_0x2c7291;const _0x57de34=await _0x5bfe20[_0x27906e(0x1e7)](_0x3bb1b6)[_0x27906e(0x189)]();_0x4572a0=_0x57de34[_0x27906e(0xa0)][0x0][_0x27906e(0x22e)];if(_0x45c2f4[_0x27906e(0xc9)](_0x4572a0,_0x45c2f4[_0x27906e(0x13e)])){if(_0x45c2f4[_0x27906e(0x191)](_0x45c2f4[_0x27906e(0xab)],_0x45c2f4['IAVnS'])){logger[_0x27906e(0x1b4)](_0x27906e(0x1f9)+_0x4177af+_0x27906e(0x1a7)+_0x2c7291+'.');break;}else{const _0x4d21a8={'xIQRu':function(_0x26deb3,_0x549c30){const _0x5d5a1d=_0x27906e;return _0x45c2f4[_0x5d5a1d(0x196)](_0x26deb3,_0x549c30);},'AkNuA':function(_0x58ac10,_0x4bf9d1){const _0x3ce9e6=_0x27906e;return _0x45c2f4[_0x3ce9e6(0x196)](_0x58ac10,_0x4bf9d1);}},_0x25fc4f={};_0x25fc4f[_0x27906e(0xa7)]=_0x45c2f4[_0x27906e(0x195)];const _0xb77ef0=new _0x4bca91[(_0x27906e(0xad))](_0x25fc4f);_0xb77ef0[_0x27906e(0x14a)]()[_0x27906e(0x189)]()[_0x27906e(0x20a)](_0x19fe5e=>{const _0x23f9e5=_0x27906e;_0x19fe5e['clusters']['includes'](this[_0x23f9e5(0x22b)])&&_0x4d21a8[_0x23f9e5(0x1a1)](_0x4ef242,!![]),_0x4d21a8[_0x23f9e5(0x11b)](_0x186aca,![]);})[_0x27906e(0x20b)](_0x284c13=>{const _0x38f095=_0x27906e;_0x24481c['error'](_0x284c13),_0x45c2f4[_0x38f095(0x196)](_0x5909c6,_0x284c13);});}}if(_0x45c2f4[_0x27906e(0x245)](_0x4572a0,_0x45c2f4[_0x27906e(0x137)])){if(_0x45c2f4[_0x27906e(0x138)](_0x45c2f4[_0x27906e(0x246)],_0x45c2f4[_0x27906e(0x246)]))_0x7c6cf2['error']=_0x47bd85;else throw new Error(_0x27906e(0x16b)+_0x2c7291+_0x27906e(0xf8));}await new Promise(_0x520828=>setTimeout(_0x520828,0x1388));}}}async[a0_0x4af913(0x20f)](_0x5aee2a,_0x27b1fd){const _0x3c6ca2=a0_0x4af913,_0x509fc8={};_0x509fc8[_0x3c6ca2(0xbd)]=[_0x27b1fd];const _0x23a2dc=await _0x5aee2a[_0x3c6ca2(0xec)](_0x509fc8)[_0x3c6ca2(0x189)]();return _0x23a2dc[_0x3c6ca2(0x1c5)][0x0][_0x3c6ca2(0x1b5)];}[a0_0x4af913(0x16d)](_0x145fa3){const _0x254cff=a0_0x4af913,_0x435de1={'SNHUy':function(_0xe72564,_0x3efbaa){return _0xe72564(_0x3efbaa);},'odJyv':function(_0x16135a,_0x2548b1){return _0x16135a===_0x2548b1;},'LSZzC':_0x254cff(0x180),'JUxub':_0x254cff(0x123),'cSzHx':function(_0x396d38,_0x26b919){return _0x396d38===_0x26b919;},'ARqjS':'EVshI','npMty':function(_0xa8e6c2,_0x59bf2c){return _0xa8e6c2!==_0x59bf2c;},'QBIlT':_0x254cff(0x1bd),'TMQEz':_0x254cff(0x1ec)},_0x19253f={};_0x19253f[_0x254cff(0xf1)]=[_0x145fa3];const _0x170ec1=_0x19253f;return new Promise((_0x5af1b4,_0x5671f1)=>{const _0xee5495=_0x254cff,_0x3a3e15={'gBkNH':function(_0x4cd568,_0x2d1322){return _0x435de1['odJyv'](_0x4cd568,_0x2d1322);},'Mpxdk':_0x435de1[_0xee5495(0xc3)],'hflNH':_0x435de1['JUxub'],'IJVJi':function(_0x144975,_0x31a4d3){return _0x435de1['SNHUy'](_0x144975,_0x31a4d3);},'oCWWw':function(_0x5a3dbc,_0x21eae1){return _0x435de1['cSzHx'](_0x5a3dbc,_0x21eae1);},'WKoyp':_0x435de1[_0xee5495(0x184)],'BWrWZ':function(_0x115aae,_0x326335){const _0x37d785=_0xee5495;return _0x435de1[_0x37d785(0xa2)](_0x115aae,_0x326335);}};if(_0x435de1[_0xee5495(0xb3)](_0x435de1[_0xee5495(0x148)],_0x435de1[_0xee5495(0x148)]))_0x2d98a8['error']('Cannot\x20find\x20VPC\x20'+_0x271685+'\x20in\x20region\x20'+_0xb74cdc[_0xee5495(0xa3)]+_0xee5495(0x140)),_0x435de1[_0xee5495(0xa2)](_0x355456,![]);else{const _0x3abd86={};_0x3abd86['apiVersion']=_0x435de1[_0xee5495(0x18d)],_0x3abd86['region']=global_registry[_0xee5495(0xa3)];const _0x59a472=new awsSDK['EC2'](_0x3abd86);_0x59a472['describeVpcs'](_0x170ec1)[_0xee5495(0x189)]()[_0xee5495(0x20a)](_0x550171=>{const _0x40d7f5=_0xee5495;if(_0x3a3e15[_0x40d7f5(0x1ff)](_0x3a3e15['Mpxdk'],_0x3a3e15[_0x40d7f5(0x1eb)]))throw new _0x1809cf(_0x40d7f5(0x16b)+_0x2a7144+_0x40d7f5(0xf8));else _0x3a3e15[_0x40d7f5(0x214)](_0x5af1b4,!![]);})[_0xee5495(0x20b)](_0x297e67=>{const _0x30dedd=_0xee5495;if(_0x3a3e15[_0x30dedd(0xf0)](_0x3a3e15[_0x30dedd(0x17d)],_0x3a3e15[_0x30dedd(0x17d)]))logger[_0x30dedd(0xd7)]('Cannot\x20find\x20VPC\x20'+_0x145fa3+_0x30dedd(0x12c)+global_registry[_0x30dedd(0xa3)]+'.\x20Please\x20Check\x20and\x20try\x20again'),_0x3a3e15[_0x30dedd(0x15d)](_0x5af1b4,![]);else return!![];});}});}['isSubnetsValid'](_0x41c57f,_0x47e4bb){const _0x4b5eb3=a0_0x4af913,_0x19fdf6={'PFgXK':function(_0x39a380,_0x20abcb){return _0x39a380===_0x20abcb;},'npFtg':_0x4b5eb3(0x17e),'XPMRP':function(_0x2de40d,_0x2cf4f7){return _0x2de40d(_0x2cf4f7);},'srQKM':function(_0x4eb8db,_0xd58c05){return _0x4eb8db===_0xd58c05;},'HAljv':'MVuxp','wtcLx':function(_0x789c42,_0xe7b2ad){return _0x789c42!==_0xe7b2ad;},'bVUoq':_0x4b5eb3(0xa5),'MtlvG':_0x4b5eb3(0x1ef),'awAsh':_0x4b5eb3(0xd0),'xyFJS':function(_0x234265,_0x2e4089){return _0x234265===_0x2e4089;},'BtCUg':_0x4b5eb3(0x222),'uImLI':_0x4b5eb3(0x1ce),'qEakE':function(_0x47106b,_0x342c47){return _0x47106b(_0x342c47);},'GVeRy':_0x4b5eb3(0x103),'RLIRZ':_0x4b5eb3(0x15a),'YvPFg':_0x4b5eb3(0x1ec),'SLkNQ':_0x4b5eb3(0x1a9)},_0x44f27f={};_0x44f27f[_0x4b5eb3(0xe8)]=_0x19fdf6[_0x4b5eb3(0x21d)],_0x44f27f[_0x4b5eb3(0x1b1)]=[_0x47e4bb];const _0x2f981e={};_0x2f981e[_0x4b5eb3(0x101)]=[_0x44f27f];const _0x2086f4=_0x2f981e;return new Promise((_0x319e0f,_0x13d55b)=>{const _0x11024d=_0x4b5eb3,_0x22b8e9={'uGQCm':function(_0x122d52,_0x143bac){const _0xb3ff8c=a0_0x5904;return _0x19fdf6[_0xb3ff8c(0x213)](_0x122d52,_0x143bac);},'LOJDf':_0x19fdf6[_0x11024d(0x11a)],'CSKhb':function(_0x275e0b,_0x19d24a){const _0x15cd97=_0x11024d;return _0x19fdf6[_0x15cd97(0x12b)](_0x275e0b,_0x19d24a);},'GsFAA':_0x19fdf6[_0x11024d(0x23b)],'zRVrJ':_0x19fdf6['MtlvG'],'hwSaz':_0x19fdf6[_0x11024d(0x1e8)],'eDMWD':function(_0x277cb2,_0x2d3706){const _0x53ec00=_0x11024d;return _0x19fdf6[_0x53ec00(0x162)](_0x277cb2,_0x2d3706);},'SXlzF':_0x19fdf6[_0x11024d(0x108)],'ZLbwt':_0x19fdf6[_0x11024d(0xae)],'wMJSg':function(_0xcc4e37,_0x1f52df){const _0x185dc2=_0x11024d;return _0x19fdf6[_0x185dc2(0x1e6)](_0xcc4e37,_0x1f52df);},'GNEVX':_0x19fdf6['GVeRy'],'QanLm':function(_0x4e4f1e,_0x5cd4d2){const _0x56be4d=_0x11024d;return _0x19fdf6[_0x56be4d(0x1e6)](_0x4e4f1e,_0x5cd4d2);}};if(_0x19fdf6[_0x11024d(0x213)](_0x19fdf6[_0x11024d(0xb0)],_0x19fdf6[_0x11024d(0xb0)])){const _0x26d001={};_0x26d001[_0x11024d(0xa7)]=_0x19fdf6[_0x11024d(0x1e2)],_0x26d001[_0x11024d(0x169)]=global_registry['clusterRegion'];const _0x3f6553=new awsSDK[(_0x11024d(0x12e))](_0x26d001);_0x3f6553[_0x11024d(0xec)](_0x2086f4)['promise']()['then'](_0x149115=>{const _0x29d7a3=_0x11024d,_0x51c05a={'gGExj':function(_0x2f48f0,_0x215131){const _0x352556=a0_0x5904;return _0x22b8e9[_0x352556(0x15b)](_0x2f48f0,_0x215131);},'erNBh':_0x22b8e9['LOJDf'],'ODNDb':function(_0xb99171,_0x43c6ab){const _0x53771e=a0_0x5904;return _0x22b8e9[_0x53771e(0x106)](_0xb99171,_0x43c6ab);},'tvemo':_0x22b8e9[_0x29d7a3(0xb6)],'BwhcD':_0x22b8e9['zRVrJ'],'sHHAz':_0x22b8e9[_0x29d7a3(0x1c6)]};if(_0x22b8e9[_0x29d7a3(0x1b3)](_0x22b8e9['SXlzF'],_0x22b8e9[_0x29d7a3(0x17c)]))return _0x50656d[_0x29d7a3(0x117)][_0x29d7a3(0x204)][_0x29d7a3(0x176)][0x0][_0x29d7a3(0x188)];else{const _0x3420b9=[],_0x2a5e6c=[];_0x149115[_0x29d7a3(0x1c5)][_0x29d7a3(0x119)](_0xaf09f9=>{const _0x5c9204=_0x29d7a3;_0x51c05a[_0x5c9204(0x1c1)](_0x51c05a[_0x5c9204(0x1f4)],_0x51c05a[_0x5c9204(0x1f4)])?_0x3420b9['push'](_0xaf09f9['SubnetId']):_0x5c0d84[_0x5c9204(0xb5)](_0xceedad);});const _0x38c933=_0x41c57f[_0x29d7a3(0x170)](_0x4042c4=>{const _0x1e512f=_0x29d7a3;if(_0x51c05a[_0x1e512f(0x167)](_0x51c05a[_0x1e512f(0x116)],_0x51c05a[_0x1e512f(0x116)]))_0x321987['error']('Error\x20creating\x20mount\x20target\x20for\x20subnet\x20'+_0x19c688[_0x1e512f(0x1cf)]+':',_0x4463e9);else{if(_0x3420b9[_0x1e512f(0x11c)](_0x4042c4[_0x1e512f(0x1cf)])){if(_0x51c05a[_0x1e512f(0x1c1)](_0x51c05a['BwhcD'],_0x51c05a[_0x1e512f(0xa6)]))_0x8a59d6[_0x1e512f(0xcd)](_0x32c736[_0x1e512f(0x187)]);else return!![];}return _0x2a5e6c[_0x1e512f(0xcd)](_0x4042c4),![];}});_0x22b8e9['wMJSg'](_0x319e0f,[_0x38c933,_0x2a5e6c]);}})['catch'](_0x145ba4=>{const _0x3668a5=_0x11024d;if(_0x19fdf6[_0x3668a5(0x113)](_0x19fdf6[_0x3668a5(0xfa)],_0x19fdf6[_0x3668a5(0xfa)]))logger[_0x3668a5(0xd7)]('Cannot\x20find\x20subnets\x20'+_0x41c57f+_0x3668a5(0x12c)+global_registry[_0x3668a5(0xa3)]+'.\x20Error:\x20'+_0x145ba4),_0x19fdf6['XPMRP'](_0x319e0f,[![],[]]);else{const _0xde4cb1={};_0xde4cb1[_0x3668a5(0xa7)]=_0x22b8e9['GNEVX'];const _0x4e5d04=new _0x562e3b[(_0x3668a5(0xad))](_0xde4cb1),_0x5af3cb={};return _0x5af3cb[_0x3668a5(0x232)]=this[_0x3668a5(0x22b)],_0x4e5d04[_0x3668a5(0xb1)](_0x5af3cb)[_0x3668a5(0x189)]();}});}else{const _0x259b4c=[],_0x5d6a89=[];_0x59e299['Subnets'][_0x11024d(0x119)](_0x1149d2=>{const _0xd510a2=_0x11024d;_0x259b4c[_0xd510a2(0xcd)](_0x1149d2[_0xd510a2(0x187)]);});const _0x1897a2=_0x205c7e['every'](_0x198d72=>{const _0x552314=_0x11024d;if(_0x259b4c[_0x552314(0x11c)](_0x198d72['value']))return!![];return _0x5d6a89[_0x552314(0xcd)](_0x198d72),![];});_0x22b8e9['QanLm'](_0x1181bb,[_0x1897a2,_0x5d6a89]);}});}async[a0_0x4af913(0x17a)](){const _0x14c737=a0_0x4af913,_0x2f6ea6={'WuOVZ':function(_0x279103,_0x45bbeb){return _0x279103(_0x45bbeb);},'nyrDT':_0x14c737(0x181),'OOZFU':'Intercepted','PPGAU':_0x14c737(0xf2)},_0xcbc5bd={};_0xcbc5bd['status']=![],_0xcbc5bd['error']=null,_0xcbc5bd[_0x14c737(0x111)]='';const _0x1e66e1=_0xcbc5bd;try{const _0x41d1b0=await _0x2f6ea6[_0x14c737(0x209)](runCommand,_0x2f6ea6[_0x14c737(0xd8)]);_0x41d1b0[_0x14c737(0x142)](_0x2f6ea6[_0x14c737(0xa1)])?logger[_0x14c737(0xb5)](_0x41d1b0):logger['debug'](_0x41d1b0),_0x1e66e1[_0x14c737(0x117)]=!![],_0x1e66e1['data']=_0x2f6ea6[_0x14c737(0x1ad)];}catch(_0x1c26ac){logger[_0x14c737(0xd7)]('error\x20:\x20'+_0x1c26ac+_0x14c737(0xbb)+_0x1c26ac[_0x14c737(0x242)]),_0x1e66e1['data']=_0x14c737(0x212)+_0x1c26ac,_0x1e66e1['error']=_0x1c26ac;}return _0x1e66e1;}async[a0_0x4af913(0x1f8)](){const _0x7374f7=a0_0x4af913,_0x4cea95={};_0x4cea95[_0x7374f7(0x10a)]=':role/',_0x4cea95[_0x7374f7(0x131)]=_0x7374f7(0x1c7);const _0x263818=_0x4cea95,_0x303c51=await new awsSDK[(_0x7374f7(0x235))]()['getCallerIdentity']()['promise'](),{Account:_0x41d943,Arn:_0x1f3d4c}=_0x303c51,_0x5cbbf8=_0x1f3d4c[_0x7374f7(0x11c)](_0x263818[_0x7374f7(0x10a)]),_0x22b0be=_0x5cbbf8?'arn:aws:iam::'+_0x41d943+_0x7374f7(0x1b6)+_0x1f3d4c[_0x7374f7(0x118)](_0x263818[_0x7374f7(0x10a)])[0x1]:_0x7374f7(0x179)+_0x41d943+':user/'+_0x1f3d4c[_0x7374f7(0x118)](_0x263818[_0x7374f7(0x131)])[0x1];return _0x22b0be;}async[a0_0x4af913(0x220)](){const _0x291445=a0_0x4af913,_0x5da00a={};_0x5da00a['RZLUa']=function(_0x18a788,_0x254c8d){return _0x18a788!==_0x254c8d;},_0x5da00a[_0x291445(0x228)]=_0x291445(0x1d9);const _0x17ae49=_0x5da00a,_0x521e37={};_0x521e37[_0x291445(0x117)]=![],_0x521e37[_0x291445(0xd7)]=null,_0x521e37['data']='';const _0xd0a482=_0x521e37;try{const _0x27547a=await this['getPrincipalArn'](),_0x300800={'PolicySourceArn':_0x27547a,'ActionNames':Object['keys'](PERMISSIONS)},_0x5d51dd=await new awsSDK[(_0x291445(0x10d))]()[_0x291445(0x241)](_0x300800)[_0x291445(0x189)]();let _0x384ceb='';logger['debug'](_0x291445(0x1d4)+JSON[_0x291445(0xd2)](_0x5d51dd)),_0xd0a482[_0x291445(0x117)]=!![],_0x5d51dd[_0x291445(0x15c)][_0x291445(0x119)](_0x3af9b0=>{const _0x4cef8a=_0x291445,_0x373c28=_0x3af9b0[_0x4cef8a(0x1ba)]['split'](':')[0x0];_0x384ceb+=_0x4cef8a(0x1df)+_0x373c28[_0x4cef8a(0x223)]()+_0x4cef8a(0x21c)+PERMISSIONS[_0x3af9b0[_0x4cef8a(0x1ba)]]+':\x20'+_0x3af9b0[_0x4cef8a(0x13d)],_0x17ae49[_0x4cef8a(0xff)](_0x3af9b0[_0x4cef8a(0x13d)],_0x17ae49[_0x4cef8a(0x228)])&&(_0xd0a482[_0x4cef8a(0x117)]=![]);}),_0xd0a482['data']=_0x384ceb;}catch(_0x10f28f){_0xd0a482[_0x291445(0xd7)]=_0x10f28f;}return _0xd0a482;}}const a0_0x20d84f={};a0_0x20d84f['AWSCloudProvider']=AWSCloudProvider,module[a0_0x4af913(0xbc)]=a0_0x20d84f;