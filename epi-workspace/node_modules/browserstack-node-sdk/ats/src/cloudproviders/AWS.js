const a0_0x52236d=a0_0x5815;(function(_0x44edca,_0x2aace5){const _0x5aca5f=a0_0x5815,_0x3e7170=_0x44edca();while(!![]){try{const _0x4fa60a=parseInt(_0x5aca5f(0x2cb))/0x1+parseInt(_0x5aca5f(0x242))/0x2+-parseInt(_0x5aca5f(0x274))/0x3+-parseInt(_0x5aca5f(0x2ae))/0x4+parseInt(_0x5aca5f(0x31d))/0x5+-parseInt(_0x5aca5f(0x1bf))/0x6*(parseInt(_0x5aca5f(0x2c8))/0x7)+parseInt(_0x5aca5f(0x30a))/0x8;if(_0x4fa60a===_0x2aace5)break;else _0x3e7170['push'](_0x3e7170['shift']());}catch(_0x56e493){_0x3e7170['push'](_0x3e7170['shift']());}}}(a0_0x580c,0x232c4));function a0_0x580c(){const _0x4e2e83=['hxpjt','Following\x20resources\x20are\x20created\x20for\x20Hub\x20HA:\x20EFS_ControllerRoleArn\x20=>\x20','hub-ha-aws-setup-failed','lmOUh','exit','bXace','Fblfp','RHYWq','iNEbx','bRvMV','Creating\x20Autoscaler\x20Role','label','JAanw','Creating\x20required\x20dependencies\x20-\x20EKS\x20Role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups\x20and\x20Cluster\x20and\x20Node\x20Group(s)','dqXRK','OxahX','qRzty','Vifqo','rwBae','ptPOM','EvalActionName','KknUY','SubnetIds','rws','frQku','hXBWr','error','VqFhP','writeFileSync','sIPeW','vLQfa','EC2','describeCluster',',VPC\x20=>\x20','value','dwUCj','beDPV','tLQOI','eBmrt','KtoOi','checkAccess','MODab','BzKYJ','zWBbr','minNodes','MEzhA','kUGRS','TUWLS','arn:aws:iam::','checkClusterCreated','GAype','\x20SECRET\x20KEY:\x20','utf-8','LYCQL','oQJma','618616oFDgXR','iiGBf','nodegroup','data',',\x20EFS_SecurityGroup\x20=>\x20','EvaluationResults','mapRoles','\x20|\x20Action\x20:\x20','VwRuF','path','\x20because\x20its\x20Availability\x20Zone\x20','uWLrI','clusters','qtijY','ohWYQ','error\x20:\x20','nEXsT','NGldz','init','Jqrur','BrhwQ','akyUr','bUBuo','Cannot\x20find\x20subnets\x20','BPSFl','ZSXtb','1668919gMptTT','rRucT','UQstV','150747oREShg','lSLLq','EFS\x20FileSystem\x20=>\x20','setupHubHa',',\x20MountTargetId:\x20','VQbIi','secretAccessKey','allowed','eLWYR','reduce','secret','cloudProviderName','AvailabilityZone','clusterRegion','fRekd','frRaP','NodeRole\x20=>\x20','HBbIw','LiCPl','./CloudProvider','-NodeGroup','BEBqp','maxNodes','lTbZM','VpcIds','Creating\x20required\x20dependencies\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','ksKCa','zTAMl','split','BkVht','forEach','waitForMountTarget','create-grid-called','SkSOs','Subnets\x20=>\x20','sendEventToBackend','message','LPuWZ','fyvhv','MecpI','vGIEW','vuOdk','has','dqKYQ','Subnets','AjSLd','../config/logger','EFS\x20SecurityGroup\x20=>\x20','setCachedCredsInRegistry','createAuthConfigMap','getAvailabilityZone','Sdise','UpzkL','../config/constants','LLChi','accessKeyId','gMDfl','type','zBXns','GtEcn','../utils/gridComponents','KubeConfigTemplate.yaml','ImkHm','3704456uXDaFf','fnsHl','getNodeGroupInfo','startsWith','Name','toUpperCase','TaMNN','imdIp','Unable\x20to\x20spawn\x20Autoscaler\x20due\x20to:\x20','\x20in\x20region\x20','stringify','Intercepted','geanT','XZbsH','COUlO','describeNodegroup','PLapC','every','aws-auth-cm.yaml','435205ZbLPpS','bSWiX','kfRfU','kCMht','nodeRole','kygNP','AZEdE','Following\x20resources\x20are\x20created:\x20Cluster\x20=>\x20','dhFGM','aZirD','deleteCluster','CpazN','iyqSN','3|4|1|0|2','QFhke','push','setupNewCluster','Error\x20creating\x20mount\x20target\x20for\x20subnet\x20','createNamespacedConfigMap','then','JkPXy','hubharesources','rfiyt','Skipping\x20Autoscaler\x20due\x20to:\x20','xUPsO','aws-iam-authenticator\x20tool\x20is\x20installed','ogYWw','JzUiM','NafJr','kUrKk','.\x20Error:\x20','debug','describeSubnets','FXULI','puVon','pPWrA','PpKur','storage-class.yaml','Setting\x20up\x20Hub\x20HA','Autoscaler\x20Role\x20created.ARN:\x20','aVLEv','EFSFileSystemId','OOrEj','parameters','RQZVI','Filters','CbbXu','csKRd','getPrincipalArn','sigDT','MWGUD','reportToGalactusAndSendToEDS','stack','Authmap\x20already\x20exists.\x20Not\x20updating','<ARN>','MMUcf','TdQBM','Creating\x20required\x20resources\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','browserstack:managedBy','.\x20Deleting\x20all\x20the\x20stacks','kube-system','oFBef','info','SecurityGroups','autoscaler-creation-failed','includes','QaLaD','listClusters','aFfZj','warning','aNbMd','IAM',',\x20NodeRole\x20=>\x20','RuZHf','tDOjK','CzJLs','VPC\x20=>\x20','Added\x20EFS\x20CSI\x20Driver','kPWlP','browserstack','dQBjm','loadAll','TLuDA','Tsilo','ClusterRole\x20=>\x20','ZHwmZ','6pPPFbL','OutputKey','FoZdp','ydzKh','OutputValue','status','createMountTargetAndWait','STS','QBjQl','catch','uyIRL','toLowerCase','GONss','UFDab','BUAIb',':role/','zAklx','oIVTu','yBjBy','MOBOt','2016-11-15','getUserInput','TkYLx','body','EFS\x20Controller\x20Role\x20=>\x20','Please\x20install\x20aws-iam-authenticator\x20tool.\x20Error\x20:\x20','uzIWu','vyDTE','EFSControllerRoleArn','klRuf','match','pUORy','join','gJMXd','add','ingress','mPhNy','kUdbd','createMountTargets','QCooB','../utils/createClusterStack','zQdNU','SecurityGroups\x20=>\x20','oZGqC','[ats]\x0aaws_access_key_id\x20=\x20','lJcQN','hBJLT','isBrowserstackCluster','YRaxw','JXiwb','failed','YgehA','.\x20Please\x20Check\x20and\x20try\x20again','createMountTarget','dawKG','OAHVP','simulatePrincipalPolicy','warn','pYlgQ','rqGHt',':user/','jzxXC','promise','LkUiB','readFileAsync','../utils/hstUtils','yJpzO','2017-11-01','GNuYB','KTzPB','Mount\x20target\x20','cloudProviderAccessKey','../permissions/AWS.json','efs-csi-driver-aws.yaml','hvues','Values','WARNING','Cannot\x20find\x20VPC\x20','PrIok','Skipping\x20subnet\x20','RuqbG','loadBalancer','cloudProviderSecretKey','nodegroupName','rGwGj','vpc-id','cloudProvider','EvalDecision','sendResourceDataToHST','hrtcf','gRHOl','sgmVB','cDZIk','MountTargetId','ILSQR','ZinAN','EYVPH','nhHPU','\x20ACCESS\x20KEY:\x20','\x0aaws_secret_access_key\x20=\x20','EFS',',\x20ClusterRole\x20=>\x20','vvMMw','hostname','DFerm','getGridHostname','FileSystemId','NZESC','available','AZLJk','zSVqa','yFQhO','aws_credentials','\x20:\x20','ERROR','aws-sdk','OtXhK','Creating\x20required\x20resources\x20-\x20EKS\x20role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups,\x20Cluster\x20and\x20Node\x20Group(s)','Outputs','XUqYs','update','Mounting\x20Target\x20for\x20EFS','webSocketUtils','getKubeConfigData','cLAwD','getClusterInfo','clusterName','replace','jXTpa','aCIwp','templates','133798lBdUPW','\x20failed\x20to\x20reach\x20the\x20available\x20state.','BkYgG','epDrc','Tapkr','lAFtt','IVXeZ','EKS','EoVtn','FPxFo','Following\x20resources\x20are\x20created:','sXNqV','nJkPi','sgRDa','oURXi','BGMHC','rCkUD','toString','HKjwi','\x20has\x20already\x20been\x20used.','name','cluster','ckPyo','apiVersion','tags','Stacks','CQRmb','SubnetId','zrHBi','Mount\x20target\x20created\x20for\x20subnet:\x20','obbuj','describeVpcs','load','qZtSH','lnlZY','gUCWf','FTCIA','XyDtO','DxOtz','GyxEk','nTuFF','isVPCPresent','\x0a\x09Service:\x20','region','Creating\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','LOG','CaHtk','AWSCloudProvider','mPybl','LwNLH','691815cbOEPI','fPyHA','Added\x20storage\x20class.'];a0_0x580c=function(){return _0x4e2e83;};return a0_0x580c();}const fs=require('fs'),path=require(a0_0x52236d(0x2b7)),yaml=require('js-yaml'),awsSDK=require(a0_0x52236d(0x232)),{logger}=require(a0_0x52236d(0x2f9)),{CloudProvider}=require(a0_0x52236d(0x2de)),{sendAWSInfoToHST}=require(a0_0x52236d(0x200)),{createClusterStack}=require(a0_0x52236d(0x1e7)),{createHubHaStack}=require('../utils/createHubHaStack'),{deleteClusterAndDependencies,deleteRoutingDeps,deleteAgent}=require(a0_0x52236d(0x307)),{createAutoscalerStack}=require('../utils/createAutoscalerStack'),{getDirForConfig,reportToGalactusAndSendToEDS,kubeApply,runCommand}=require('../utils/utilityMethods'),{IAM_USER_NAME,AWS,WS_EVENTS,global_registry,messageTypes}=require(a0_0x52236d(0x300)),PERMISSIONS=require(a0_0x52236d(0x207));function a0_0x5815(_0x23f70c,_0x3773b9){const _0x580cc4=a0_0x580c();return a0_0x5815=function(_0x5815eb,_0x2a60d0){_0x5815eb=_0x5815eb-0x195;let _0x59b63e=_0x580cc4[_0x5815eb];return _0x59b63e;},a0_0x5815(_0x23f70c,_0x3773b9);}class AWSCloudProvider extends CloudProvider{constructor(_0x127fc6,_0x4176ad,_0x59c2d0,_0xf9b186){super(AWS,_0x127fc6,_0x4176ad,_0x59c2d0,_0xf9b186);}async[a0_0x52236d(0x2c0)](){const _0x56893f=a0_0x52236d;await super[_0x56893f(0x2c0)]();const _0x4785d1={};return _0x4785d1['region']=global_registry[_0x56893f(0x2d8)],_0x4785d1[_0x56893f(0x302)]=global_registry[_0x56893f(0x206)],_0x4785d1[_0x56893f(0x2d1)]=global_registry[_0x56893f(0x211)],awsSDK['config'][_0x56893f(0x237)](_0x4785d1),this;}async[a0_0x52236d(0x217)](){const _0xdb5f1a=a0_0x52236d,_0x1c65a2={'Pkarr':function(_0x15bf48,_0x3e9e1f){return _0x15bf48(_0x3e9e1f);}};_0x1c65a2['Pkarr'](sendAWSInfoToHST,this[_0xdb5f1a(0x28e)]);}async[a0_0x52236d(0x2fb)](_0x27b815){const _0x525aac=a0_0x52236d;global_registry[_0x525aac(0x206)]=_0x27b815[this[_0x525aac(0x2d6)]]['accessKey'],global_registry[_0x525aac(0x211)]=_0x27b815[this[_0x525aac(0x2d6)]][_0x525aac(0x2d5)];}[a0_0x52236d(0x228)](_0x1c9d04){const _0x8ef1fb=a0_0x52236d;return _0x1c9d04[_0x8ef1fb(0x1c4)][_0x8ef1fb(0x210)]['ingress'][0x0][_0x8ef1fb(0x226)];}async[a0_0x52236d(0x1ee)](){const _0x5abcaf=a0_0x52236d,_0xd0b1b0={};_0xd0b1b0[_0x5abcaf(0x1e8)]=function(_0x1dfc2d,_0x40707b){return _0x1dfc2d===_0x40707b;},_0xd0b1b0['ILSQR']=_0x5abcaf(0x260),_0xd0b1b0['adcMO']=function(_0x4a33c1,_0x4eec9b){return _0x4a33c1!==_0x4eec9b;},_0xd0b1b0['iqrwR']=_0x5abcaf(0x341),_0xd0b1b0[_0x5abcaf(0x1f2)]=_0x5abcaf(0x19b),_0xd0b1b0[_0x5abcaf(0x2f1)]=function(_0x4ac5a1,_0x5a6a0b){return _0x4ac5a1===_0x5a6a0b;},_0xd0b1b0[_0x5abcaf(0x295)]=_0x5abcaf(0x1a3),_0xd0b1b0[_0x5abcaf(0x2ec)]=_0x5abcaf(0x1b8),_0xd0b1b0[_0x5abcaf(0x252)]=_0x5abcaf(0x1f9),_0xd0b1b0[_0x5abcaf(0x265)]=_0x5abcaf(0x24d);const _0x45206f=_0xd0b1b0;try{if(_0x45206f['zQdNU'](_0x45206f[_0x5abcaf(0x21d)],_0x45206f[_0x5abcaf(0x21d)])){const _0x215a2e=await this[_0x5abcaf(0x23c)]();if(_0x215a2e[_0x5abcaf(0x257)]){if(_0x45206f['adcMO'](_0x45206f['iqrwR'],_0x45206f['YgehA'])){const _0x3b4e36=_0x215a2e[_0x5abcaf(0x257)][_0x5abcaf(0x25a)];return _0x3b4e36&&_0x45206f[_0x5abcaf(0x2f1)](_0x3b4e36[_0x45206f[_0x5abcaf(0x295)]]['toLowerCase'](),_0x45206f[_0x5abcaf(0x2ec)]);}else _0x50b522['push'](_0x2f63ae[_0x5abcaf(0x25d)]);}}else{const _0x4618b4={};_0x4618b4['label']=_0x19511d,_0x4618b4[_0x5abcaf(0x299)]=_0x5a21e8,_0x1df5cc[_0x5abcaf(0x32c)](_0x4618b4);}}catch(_0x518ceb){if(_0x45206f['zQdNU'](_0x45206f['rCkUD'],_0x45206f[_0x5abcaf(0x265)]))_0x29a17c[_0x5abcaf(0x206)]=_0x16361c[this[_0x5abcaf(0x2d6)]]['accessKey'],_0x4b4e1a[_0x5abcaf(0x211)]=_0x1cc026[this['cloudProviderName']][_0x5abcaf(0x2d5)];else return![];}return![];}async['isClusterPresent'](){const _0x5865c5=a0_0x52236d;return this[_0x5865c5(0x2a8)]();}async[a0_0x52236d(0x23c)](){const _0xa4f004=a0_0x52236d,_0x178427={};_0x178427['VQbIi']='2017-11-01';const _0x22f992=_0x178427,_0x5dfcca={};_0x5dfcca['apiVersion']=_0x22f992[_0xa4f004(0x2d0)];const _0x2633fe=new awsSDK['EKS'](_0x5dfcca),_0x3112fa={};return _0x3112fa['name']=this[_0xa4f004(0x23d)],_0x2633fe[_0xa4f004(0x297)](_0x3112fa)[_0xa4f004(0x1fd)]();}async['createAuthConfigMap'](_0x4ef3a9){const _0x6719f6=a0_0x52236d,_0x54e401={};_0x54e401[_0x6719f6(0x310)]='templates',_0x54e401[_0x6719f6(0x24a)]=_0x6719f6(0x31c),_0x54e401['hvues']=_0x6719f6(0x2ab),_0x54e401['BUAIb']=_0x6719f6(0x19f);const _0x2491d8=_0x54e401,_0x394e32=await fs[_0x6719f6(0x1ff)](path[_0x6719f6(0x1df)](__dirname,'..',_0x2491d8[_0x6719f6(0x310)],_0x2491d8[_0x6719f6(0x24a)]),_0x2491d8[_0x6719f6(0x209)]),_0x4c768b=yaml['load'](_0x394e32);return _0x4c768b['data'][_0x6719f6(0x2b4)]=_0x4c768b['data'][_0x6719f6(0x2b4)][_0x6719f6(0x23e)](_0x2491d8[_0x6719f6(0x1cd)],_0x4ef3a9),_0x4c768b;}async['getNodeGroupInfo'](_0xc4dc2){const _0x440925=a0_0x52236d,_0x314b89={};_0x314b89[_0x440925(0x29b)]=_0x440925(0x202);const _0x29b8a7=_0x314b89,_0x4ba059={};_0x4ba059[_0x440925(0x259)]=_0x29b8a7[_0x440925(0x29b)];const _0x91666b=new awsSDK[(_0x440925(0x249))](_0x4ba059),_0x469435={};return _0x469435[_0x440925(0x23d)]=this[_0x440925(0x23d)],_0x469435[_0x440925(0x212)]=_0xc4dc2,_0x91666b[_0x440925(0x319)](_0x469435)[_0x440925(0x1fd)]();}async[a0_0x52236d(0x2a8)](){const _0x2491bf=a0_0x52236d,_0x47cc99={'MODab':function(_0x23c506,_0x252f7f){return _0x23c506!==_0x252f7f;},'rRucT':_0x2491bf(0x285),'JAanw':function(_0xd00fda,_0x18802e){return _0xd00fda===_0x18802e;},'ZinAN':_0x2491bf(0x1e6),'frRaP':function(_0x3c2d31,_0x50a771){return _0x3c2d31(_0x50a771);},'xafEv':function(_0x127edc,_0x570ad5){return _0x127edc(_0x570ad5);},'NGldz':function(_0x2f4d76,_0x5312ab){return _0x2f4d76(_0x5312ab);},'ogYWw':_0x2491bf(0x202),'pUORy':'rZUKZ','VwRuF':'DkCEY','vVmEo':_0x2491bf(0x24f)};return new Promise((_0x3dd0bb,_0x2241a0)=>{const _0x4d7df9=_0x2491bf,_0x94e435={'ksKCa':function(_0x3cd720,_0x7cbf35){const _0x2f8c32=a0_0x5815;return _0x47cc99[_0x2f8c32(0x2bf)](_0x3cd720,_0x7cbf35);},'YXMNE':_0x47cc99[_0x4d7df9(0x337)],'KTzPB':function(_0x57900e,_0x19a0c6){const _0x2c92ec=_0x4d7df9;return _0x47cc99[_0x2c92ec(0x283)](_0x57900e,_0x19a0c6);},'eBmrt':_0x47cc99[_0x4d7df9(0x1de)]};if(_0x47cc99[_0x4d7df9(0x2a0)](_0x47cc99[_0x4d7df9(0x2b6)],_0x47cc99['vVmEo'])){const _0x3ac35f={};_0x3ac35f[_0x4d7df9(0x259)]=_0x47cc99[_0x4d7df9(0x337)];const _0x20e234=new awsSDK['EKS'](_0x3ac35f);_0x20e234[_0x4d7df9(0x1ac)]()[_0x4d7df9(0x1fd)]()[_0x4d7df9(0x330)](_0x4f18e7=>{const _0x43d9bd=_0x4d7df9;if(_0x47cc99[_0x43d9bd(0x2a0)](_0x47cc99[_0x43d9bd(0x2c9)],_0x47cc99[_0x43d9bd(0x2c9)]))return _0x32fcc7[_0x4dab4c[_0x43d9bd(0x1c0)]]=_0x1fdbf9[_0x43d9bd(0x1c3)],_0xafdb7d;else _0x4f18e7[_0x43d9bd(0x2ba)][_0x43d9bd(0x1aa)](this[_0x43d9bd(0x23d)])&&(_0x47cc99[_0x43d9bd(0x283)](_0x47cc99['ZinAN'],_0x47cc99[_0x43d9bd(0x21e)])?_0x47cc99[_0x43d9bd(0x2da)](_0x3dd0bb,!![]):_0x94e435[_0x43d9bd(0x2e5)](_0x23b004,!![])),_0x47cc99['xafEv'](_0x3dd0bb,![]);})['catch'](_0x1c0c13=>{const _0x27666e=_0x4d7df9;if(_0x94e435[_0x27666e(0x204)](_0x94e435[_0x27666e(0x29d)],_0x94e435[_0x27666e(0x29d)]))logger[_0x27666e(0x291)](_0x1c0c13),_0x94e435['ksKCa'](_0x2241a0,_0x1c0c13);else{const _0x4d0f8b={};_0x4d0f8b[_0x27666e(0x259)]=_0x94e435['YXMNE'];const _0xcd85a3=new _0x4b148b[(_0x27666e(0x249))](_0x4d0f8b),_0x5db5d2={};return _0x5db5d2[_0x27666e(0x23d)]=this[_0x27666e(0x23d)],_0x5db5d2['nodegroupName']=_0x5add8d,_0xcd85a3['describeNodegroup'](_0x5db5d2)[_0x27666e(0x1fd)]();}});}else _0x3f1ae8[_0x4d7df9(0x291)](_0x4d7df9(0x2bd)+_0x6c944c+_0x4d7df9(0x230)+_0x393be2[_0x4d7df9(0x19d)]),_0x4ddebc['data']='Please\x20install\x20aws-iam-authenticator\x20tool.\x20Error\x20:\x20'+_0xee02a,_0x5653d4[_0x4d7df9(0x291)]=_0xa9f81c;});}async[a0_0x52236d(0x1d4)](_0x4511a0,_0x2936f0){const _0x28e17a=a0_0x52236d,_0x5935ee={'EYVPH':function(_0x15e60f,_0x4d1706){return _0x15e60f(_0x4d1706);},'nEXsT':function(_0x1dec1d,_0x5a026a){return _0x1dec1d(_0x5a026a);}},_0x18e0cf=this[_0x28e17a(0x2d6)][_0x28e17a(0x30f)](),_0x2778bf=await _0x5935ee[_0x28e17a(0x21f)](_0x4511a0,_0x18e0cf+_0x28e17a(0x221)),_0x15a059=await _0x5935ee[_0x28e17a(0x2be)](_0x4511a0,_0x18e0cf+_0x28e17a(0x2aa));global_registry['cloudProviderAccessKey']=_0x2778bf,global_registry['cloudProviderSecretKey']=_0x15a059;const _0x5dd687={};return _0x5dd687['accessKey']=_0x2778bf,_0x5dd687['secret']=_0x15a059,_0x2936f0[_0x28e17a(0x215)][AWS]=_0x5dd687,_0x2936f0;}async[a0_0x52236d(0x23a)](){const _0x3da966=a0_0x52236d,_0x4b06c9={'bUGCM':function(_0x4008a5){return _0x4008a5();},'yFQhO':_0x3da966(0x22f),'oQJma':_0x3da966(0x241),'CjXMP':_0x3da966(0x308)},_0x535c7e=_0x4b06c9['bUGCM'](getDirForConfig),_0x256f9e=await this[_0x3da966(0x23c)](),_0x58f355=path[_0x3da966(0x1df)](_0x535c7e,_0x4b06c9[_0x3da966(0x22e)]),_0xfe9dd0=_0x3da966(0x1eb)+global_registry[_0x3da966(0x206)]+_0x3da966(0x222)+global_registry['cloudProviderSecretKey'];fs[_0x3da966(0x293)](_0x58f355,_0xfe9dd0);let _0x14c306=await fs[_0x3da966(0x1ff)](path[_0x3da966(0x1df)](__dirname,'..',_0x4b06c9[_0x3da966(0x2ad)],_0x4b06c9['CjXMP']));return _0x14c306=_0x14c306[_0x3da966(0x253)](),_0x14c306=_0x14c306[_0x3da966(0x23e)](/<CLUSTER_NAME>/g,this[_0x3da966(0x23d)]),_0x14c306=_0x14c306[_0x3da966(0x23e)](/<CLUSTER_URL>/g,_0x256f9e['cluster']['endpoint']),_0x14c306=_0x14c306[_0x3da966(0x23e)](/<CERTIFICATE_DATA>/g,_0x256f9e[_0x3da966(0x257)]['certificateAuthority'][_0x3da966(0x2b1)]),_0x14c306=_0x14c306[_0x3da966(0x23e)](/<CLUSTER_REGION>/g,global_registry['clusterRegion']),_0x14c306=_0x14c306['replace'](/<CLUSTER_NAME_USER>/g,IAM_USER_NAME),_0x14c306=_0x14c306['replace'](/<CLOUD_PROVIDER_ACCESS_KEY>/g,global_registry[_0x3da966(0x206)]),_0x14c306=_0x14c306['replace'](/<CLOUD_PROVIDER_SECRET>/g,global_registry['cloudProviderSecretKey']),_0x14c306=_0x14c306['replace'](/<AWS_CONFIG_FILE_PATH>/g,_0x58f355),_0x14c306;}async[a0_0x52236d(0x32d)](_0x2d78c8=null,_0x44e270=null){const _0x1f97cd=a0_0x52236d,_0x42f08a={'oLNRK':_0x1f97cd(0x234),'RHYWq':_0x1f97cd(0x284),'AjSLd':function(_0x51940b,_0xcf37e4,_0xa351d6,_0x5e8ce7,_0x2c81e1,_0x2d25a3,_0x56432e){return _0x51940b(_0xcf37e4,_0xa351d6,_0x5e8ce7,_0x2c81e1,_0x2d25a3,_0x56432e);},'zJlCn':_0x1f97cd(0x24c),'jXTpa':function(_0x2b757b,_0x5377fb){return _0x2b757b===_0x5377fb;},'ZWDRb':function(_0x3d653e,_0x403b8b){return _0x3d653e===_0x403b8b;},'woNcp':function(_0x19f19c,_0x99b441){return _0x19f19c!==_0x99b441;},'XZbsH':_0x1f97cd(0x201),'bXace':function(_0x1c8c22,_0x1547ee){return _0x1c8c22!==_0x1547ee;},'Tapkr':_0x1f97cd(0x2f0)},_0x4db2c4={};_0x4db2c4[_0x1f97cd(0x304)]=WS_EVENTS[_0x1f97cd(0x26f)],_0x4db2c4[_0x1f97cd(0x2ef)]=_0x42f08a['oLNRK'],this['webSocketUtils']['sendEventToBackend'](this[_0x1f97cd(0x28e)],_0x4db2c4),logger[_0x1f97cd(0x1a7)](_0x42f08a[_0x1f97cd(0x27e)]);const _0x20a774=global_registry[_0x1f97cd(0x2a3)],_0x5b2cbf=global_registry[_0x1f97cd(0x2e1)],_0x11e376=global_registry['clusterAutoUpgrade'],_0x2f640e=await _0x42f08a[_0x1f97cd(0x2f8)](createClusterStack,this[_0x1f97cd(0x23d)],_0x20a774,_0x5b2cbf,_0x2d78c8,_0x44e270,_0x11e376),_0x450c29=_0x2f640e[_0x1f97cd(0x25b)][0x0]['Outputs'][0x0]['OutputValue'][_0x1f97cd(0x2e7)](','),_0x2df542=_0x2f640e['Stacks'][0x0]['Outputs'][0x1][_0x1f97cd(0x1c3)],_0x53c537=_0x2f640e[_0x1f97cd(0x25b)][0x0][_0x1f97cd(0x235)][0x3]['OutputValue'],_0x567dd2=_0x2f640e[_0x1f97cd(0x25b)][0x0]['Outputs'][0x4][_0x1f97cd(0x1c3)];logger[_0x1f97cd(0x1a7)](_0x42f08a['zJlCn']),logger[_0x1f97cd(0x1a7)]('Cluster\x20=>\x20'+_0x53c537+'\x20'),logger['info'](_0x1f97cd(0x1bd)+_0x2df542+'\x20'),logger['info'](_0x1f97cd(0x1e9)+_0x450c29+'\x20'),logger[_0x1f97cd(0x1a7)](_0x1f97cd(0x2db)+_0x567dd2+'\x20');let _0x428d14=_0x1f97cd(0x324)+_0x53c537+_0x1f97cd(0x224)+_0x2df542+',\x20SecurityGroups\x20=>\x20'+_0x450c29+_0x1f97cd(0x1b1)+_0x567dd2;if(_0x42f08a[_0x1f97cd(0x23f)](_0x2d78c8,null)&&_0x42f08a['ZWDRb'](_0x44e270,null)){if(_0x42f08a['woNcp'](_0x42f08a[_0x1f97cd(0x317)],_0x42f08a[_0x1f97cd(0x317)]))_0x479b6a[_0x1f97cd(0x291)]=_0x18727d;else{const _0x8e807e=_0x2f640e[_0x1f97cd(0x25b)][0x0][_0x1f97cd(0x235)][0x2][_0x1f97cd(0x1c3)],_0x453911=_0x2f640e[_0x1f97cd(0x25b)][0x0]['Outputs'][0x5][_0x1f97cd(0x1c3)][_0x1f97cd(0x2e7)](',');_0x2d78c8=_0x8e807e;const _0x33a4d9=[];for(const _0x1364aa of _0x453911){if(_0x42f08a[_0x1f97cd(0x27c)](_0x42f08a['Tapkr'],_0x42f08a[_0x1f97cd(0x246)]))throw new _0x3f9958(_0x1f97cd(0x205)+_0x25472c+'\x20failed\x20to\x20reach\x20the\x20available\x20state.');else{const _0x1ad2e7={};_0x1ad2e7[_0x1f97cd(0x282)]=_0x1364aa,_0x1ad2e7[_0x1f97cd(0x299)]=_0x1364aa,_0x33a4d9[_0x1f97cd(0x32c)](_0x1ad2e7);}}_0x44e270=_0x33a4d9,logger[_0x1f97cd(0x1a7)](_0x1f97cd(0x1b5)+_0x8e807e+'\x20'),logger[_0x1f97cd(0x1a7)](_0x1f97cd(0x2ed)+_0x453911+'\x20'),_0x428d14+=',VPC\x20=>\x20'+_0x8e807e+',\x20Subnets\x20=>\x20'+_0x453911+',\x20';}}const _0xb85685={};return _0xb85685[_0x1f97cd(0x304)]=WS_EVENTS[_0x1f97cd(0x26f)],_0xb85685[_0x1f97cd(0x2ef)]=_0x428d14,this[_0x1f97cd(0x239)][_0x1f97cd(0x2ee)](this[_0x1f97cd(0x28e)],_0xb85685),[_0x2d78c8,_0x44e270];}async[a0_0x52236d(0x327)](_0x4cb04a,_0x172b84){const _0x6bd5e4=a0_0x52236d,_0xafa71e={'PpIhG':function(_0x40e14c,_0x12a2b){return _0x40e14c(_0x12a2b);},'zSVqa':function(_0x4f1acf,_0x5ee26a){return _0x4f1acf(_0x5ee26a);},'FXULI':function(_0x223cd4,_0x346a16,_0x3dd3c5){return _0x223cd4(_0x346a16,_0x3dd3c5);}};await _0xafa71e['PpIhG'](deleteAgent,_0x4cb04a),await _0xafa71e[_0x6bd5e4(0x22d)](deleteRoutingDeps,_0x4cb04a),await _0xafa71e[_0x6bd5e4(0x33e)](deleteClusterAndDependencies,_0x172b84,this['clusterName']);}async['setupAutoscaler'](_0xa44146,_0x5b16c7){const _0x19181e=a0_0x52236d,_0x3bedc2={'mPybl':function(_0x426249,_0x14cb67){return _0x426249(_0x14cb67);},'DFerm':_0x19181e(0x202),'BPSFl':'2016-11-15','LiCPl':function(_0xb57a31,_0x23bccc){return _0xb57a31===_0x23bccc;},'uWLrI':_0x19181e(0x28a),'bRvMV':_0x19181e(0x19e),'HKjwi':_0x19181e(0x281),'CzJLs':function(_0x529501,_0x468393){return _0x529501===_0x468393;},'TkYLx':_0x19181e(0x294),'xUPsO':_0x19181e(0x316),'AZEdE':function(_0x25d326,_0x5ec2ea){return _0x25d326(_0x5ec2ea);},'OVqIk':function(_0x547be0,_0x5b17c9){return _0x547be0===_0x5b17c9;},'tLQOI':'ShjII','rtVQN':_0x19181e(0x2bb),'MecpI':function(_0x27f1db,_0x301d8c){return _0x27f1db!==_0x301d8c;},'DxOtz':_0x19181e(0x267),'CqkMe':function(_0x35ef62,_0x3fc43b,_0xe6a481,_0x50ece4,_0x1e79df,_0x3cb6b2,_0x3c3a92,_0x5bf197){return _0x35ef62(_0x3fc43b,_0xe6a481,_0x50ece4,_0x1e79df,_0x3cb6b2,_0x3c3a92,_0x5bf197);},'QBjQl':_0x19181e(0x2eb),'CaHtk':_0x19181e(0x19c),'svAOA':_0x19181e(0x1ae),'hXBWr':function(_0x306e84,_0x3a0866){return _0x306e84===_0x3a0866;},'fRekd':_0x19181e(0x247),'PMIEl':'1|4|0|2|3','nTuFF':function(_0x595e31,_0x22ff9e,_0x4c2e93){return _0x595e31(_0x22ff9e,_0x4c2e93);},'vGIEW':function(_0x56847b,_0x597b75,_0x26fb2b,_0x275d9f,_0x3e10ef,_0x9336a8,_0x16f4c4,_0x14e846){return _0x56847b(_0x597b75,_0x26fb2b,_0x275d9f,_0x3e10ef,_0x9336a8,_0x16f4c4,_0x14e846);},'oFBef':_0x19181e(0x1a9),'ZSXtb':'error','IgOeF':_0x19181e(0x1a5)};let _0x537fd1,_0x45bdc6;const _0x595248={};_0x595248[_0x19181e(0x304)]=WS_EVENTS[_0x19181e(0x26f)],_0x595248[_0x19181e(0x2ef)]=_0x3bedc2[_0x19181e(0x254)],this[_0x19181e(0x239)][_0x19181e(0x2ee)](this['rws'],_0x595248),logger['info'](_0x3bedc2[_0x19181e(0x254)]);try{if(_0x3bedc2[_0x19181e(0x1b4)](_0x3bedc2[_0x19181e(0x1d5)],_0x3bedc2[_0x19181e(0x335)])){const _0x3b609c={'kfRfU':function(_0x8a5637,_0x2ff825){const _0x1d74de=_0x19181e;return _0x3bedc2[_0x1d74de(0x272)](_0x8a5637,_0x2ff825);},'BzKYJ':function(_0x11c8d6,_0x398cad){const _0x5a56dd=_0x19181e;return _0x3bedc2[_0x5a56dd(0x272)](_0x11c8d6,_0x398cad);}},_0x2e77c1={};_0x2e77c1[_0x19181e(0x259)]=_0x3bedc2[_0x19181e(0x227)];const _0x29d2ed=new _0x5379d8[(_0x19181e(0x249))](_0x2e77c1);_0x29d2ed[_0x19181e(0x1ac)]()[_0x19181e(0x1fd)]()['then'](_0x10605a=>{const _0x1e9a86=_0x19181e;_0x10605a[_0x1e9a86(0x2ba)][_0x1e9a86(0x1aa)](this['clusterName'])&&_0x3b609c[_0x1e9a86(0x31f)](_0x2a032a,!![]),_0x3b609c[_0x1e9a86(0x2a1)](_0x47a24e,![]);})[_0x19181e(0x1c8)](_0x116b55=>{const _0x38d221=_0x19181e;_0xa23a73[_0x38d221(0x291)](_0x116b55),_0x3bedc2[_0x38d221(0x272)](_0x26f965,_0x116b55);});}else{const _0x5c6965=await _0x3bedc2[_0x19181e(0x323)](createAutoscalerStack,this[_0x19181e(0x23d)]);_0x45bdc6=_0x5c6965[_0x19181e(0x25b)][0x0]['Outputs'][0x2][_0x19181e(0x1c3)];const _0x5aaa6e={};_0x5aaa6e[_0x19181e(0x304)]=WS_EVENTS[_0x19181e(0x26f)],_0x5aaa6e[_0x19181e(0x2ef)]=_0x19181e(0x344)+_0x45bdc6+'\x20',this[_0x19181e(0x239)][_0x19181e(0x2ee)](this[_0x19181e(0x28e)],_0x5aaa6e),logger['info'](_0x19181e(0x344)+_0x45bdc6+'\x20');}}catch(_0x1a369d){if(_0x3bedc2['OVqIk'](_0x3bedc2[_0x19181e(0x29c)],_0x3bedc2['rtVQN']))return![];else{if(_0x1a369d?.[_0x19181e(0x2ef)]&&_0x1a369d[_0x19181e(0x2ef)][_0x19181e(0x1dd)](/already exists/)){if(_0x3bedc2[_0x19181e(0x2f2)](_0x3bedc2[_0x19181e(0x268)],_0x3bedc2['DxOtz'])){const _0x432945=_0x5a597b[_0x19181e(0x25b)][0x0][_0x19181e(0x235)][0x2][_0x19181e(0x1c3)],_0x1f7766=_0x11c411[_0x19181e(0x25b)][0x0][_0x19181e(0x235)][0x5][_0x19181e(0x1c3)]['split'](',');_0x34eb5b=_0x432945;const _0x2974c3=[];for(const _0x846087 of _0x1f7766){const _0xc3b47={};_0xc3b47[_0x19181e(0x282)]=_0x846087,_0xc3b47[_0x19181e(0x299)]=_0x846087,_0x2974c3['push'](_0xc3b47);}_0x444856=_0x2974c3,_0x3b3cd0[_0x19181e(0x1a7)](_0x19181e(0x1b5)+_0x432945+'\x20'),_0x23fa6a[_0x19181e(0x1a7)](_0x19181e(0x2ed)+_0x1f7766+'\x20'),_0x19dd4a+=_0x19181e(0x298)+_0x432945+',\x20Subnets\x20=>\x20'+_0x1f7766+',\x20';}else _0x537fd1=_0x19181e(0x334)+_0x1a369d[_0x19181e(0x2ef)],await _0x3bedc2['CqkMe'](reportToGalactusAndSendToEDS,_0x5b16c7,this[_0x19181e(0x28e)],_0x537fd1,messageTypes[_0x19181e(0x20b)],_0x3bedc2[_0x19181e(0x1c7)],_0x3bedc2[_0x19181e(0x270)],_0x3bedc2['svAOA']),logger[_0x19181e(0x1f8)](_0x537fd1);}else{if(_0x3bedc2[_0x19181e(0x290)](_0x3bedc2['fRekd'],_0x3bedc2[_0x19181e(0x2d9)])){const _0x144796=_0x3bedc2['PMIEl']['split']('|');let _0x409159=0x0;while(!![]){switch(_0x144796[_0x409159++]){case'0':logger['error'](_0x537fd1);continue;case'1':_0x537fd1=_0x19181e(0x312)+_0x1a369d?.[_0x19181e(0x2ef)]+_0x19181e(0x1a4);continue;case'2':await _0x3bedc2[_0x19181e(0x26a)](deleteClusterAndDependencies,global_registry[_0x19181e(0x2d8)],this[_0x19181e(0x23d)]);continue;case'3':process['exit'](0x1);continue;case'4':await _0x3bedc2[_0x19181e(0x2f3)](reportToGalactusAndSendToEDS,_0x5b16c7,this[_0x19181e(0x28e)],_0x537fd1,messageTypes[_0x19181e(0x231)],_0x3bedc2['QBjQl'],_0x3bedc2[_0x19181e(0x1a6)],_0x3bedc2[_0x19181e(0x2c7)]);continue;}break;}}else{const _0x42c333={'vuOdk':function(_0x103827,_0x3a9997){const _0x5b6e24=_0x19181e;return _0x3bedc2[_0x5b6e24(0x272)](_0x103827,_0x3a9997);},'BkYgG':function(_0x540b2e,_0x7a02b8){const _0x33386b=_0x19181e;return _0x3bedc2[_0x33386b(0x272)](_0x540b2e,_0x7a02b8);},'qRzty':_0x3bedc2[_0x19181e(0x2c6)]},_0x1685f2={};_0x1685f2['VpcIds']=[_0x5e4c3b];const _0x16adf4=_0x1685f2;return new _0x1b4882((_0x14bc3b,_0x11f0d7)=>{const _0x17f8e5=_0x19181e,_0x17a9b7={};_0x17a9b7[_0x17f8e5(0x259)]=_0x42c333[_0x17f8e5(0x287)],_0x17a9b7[_0x17f8e5(0x26d)]=_0xa67911[_0x17f8e5(0x2d8)];const _0x5585d4=new _0x2d00d7[(_0x17f8e5(0x296))](_0x17a9b7);_0x5585d4['describeVpcs'](_0x16adf4)['promise']()[_0x17f8e5(0x330)](_0x3e9419=>{const _0xe6aac1=_0x17f8e5;_0x42c333[_0xe6aac1(0x2f4)](_0x14bc3b,!![]);})[_0x17f8e5(0x1c8)](_0x3589c1=>{const _0x24e4fc=_0x17f8e5;_0x1853ba[_0x24e4fc(0x291)](_0x24e4fc(0x20c)+_0x9bb77+_0x24e4fc(0x313)+_0x2bb7cd['clusterRegion']+_0x24e4fc(0x1f3)),_0x42c333[_0x24e4fc(0x244)](_0x14bc3b,![]);});});}}}}const _0x4242e7=await this[_0x19181e(0x30c)](this['clusterName']+_0x19181e(0x2df)),_0x49aef6=_0x4242e7[_0x19181e(0x2b0)][_0x19181e(0x321)],_0x5abf2a=await this[_0x19181e(0x2fc)](_0x49aef6),_0x4f2326={};return _0x4f2326['namespace']=_0x3bedc2['IgOeF'],_0x4f2326[_0x19181e(0x1d6)]=_0x5abf2a,await _0xa44146[_0x19181e(0x32f)](_0x4f2326)[_0x19181e(0x1c8)](_0x25e510=>{const _0x4b037a=_0x19181e;if(_0x3bedc2[_0x4b037a(0x2dd)](_0x3bedc2[_0x4b037a(0x2b9)],_0x3bedc2[_0x4b037a(0x2b9)]))logger[_0x4b037a(0x1a7)](_0x3bedc2[_0x4b037a(0x280)]);else return!![];}),_0x45bdc6;}async[a0_0x52236d(0x2ce)](_0x6002bf,_0x4e5a4b,_0x46050a,_0x328008,_0x207129){const _0x46f586=a0_0x52236d,_0xdb92a5={'lJcQN':function(_0xacf696,_0x3c5b2a){return _0xacf696(_0x3c5b2a);},'aNbMd':function(_0x4e4ab8,_0x1ba944){return _0x4e4ab8!==_0x1ba944;},'dawKG':_0x46f586(0x286),'Fblfp':function(_0x33e1b1,_0x3d451f){return _0x33e1b1(_0x3d451f);},'uyIRL':_0x46f586(0x343),'aFfZj':'voibX','tDOjK':_0x46f586(0x1a2),'puVon':_0x46f586(0x2e4),'gHWLq':function(_0x16cf03,_0x4f1852,_0x48c2a5){return _0x16cf03(_0x4f1852,_0x48c2a5);},'ImkHm':_0x46f586(0x1db),'Vifqo':_0x46f586(0x346),'OOrEj':'EFSSecurityGroup','COUlO':_0x46f586(0x24c),'oURXi':_0x46f586(0x238),'aVLEv':_0x46f586(0x26e),'foNIH':'Adding\x20EFS\x20CSI\x20Driver','oZGqC':_0x46f586(0x241),'Tsilo':_0x46f586(0x332),'UQstV':_0x46f586(0x208),'Sdise':_0x46f586(0x2ab),'NZESC':function(_0x345afc,_0x108a30,_0x38f7cc){return _0x345afc(_0x108a30,_0x38f7cc);},'rqGHt':_0x46f586(0x1b6),'HBbIw':'Adding\x20storage\x20class...','SiIom':_0x46f586(0x342),'ieiGy':'fileSystemId','XfzCl':_0x46f586(0x276),'WOGQy':'Created\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','frQku':function(_0x3a6845,_0x4ec520){return _0x3a6845!==_0x4ec520;},'JXiwb':_0x46f586(0x31e),'sgmVB':_0x46f586(0x32a),'ROmVH':function(_0x5263d5,_0x96b99f,_0x1884ea){return _0x5263d5(_0x96b99f,_0x1884ea);},'nJkPi':function(_0x4160b2,_0x3986ba,_0x54b707,_0x37b6ac,_0x14a0f8,_0x1531ef,_0x316714,_0x3610a5){return _0x4160b2(_0x3986ba,_0x54b707,_0x37b6ac,_0x14a0f8,_0x1531ef,_0x316714,_0x3610a5);},'gmvUE':_0x46f586(0x2eb),'RuqbG':_0x46f586(0x279),'nhHPU':_0x46f586(0x291)};logger[_0x46f586(0x1a7)](_0xdb92a5[_0x46f586(0x1c9)]);let _0x18a5eb;try{if(_0xdb92a5['aNbMd'](_0xdb92a5[_0x46f586(0x1ad)],_0xdb92a5[_0x46f586(0x1ad)]))_0xdb92a5[_0x46f586(0x1ec)](_0x33ee2f,!![]);else{const _0x4ba7b7={};_0x4ba7b7[_0x46f586(0x304)]=WS_EVENTS[_0x46f586(0x26f)],_0x4ba7b7['message']=_0xdb92a5[_0x46f586(0x1b3)],this[_0x46f586(0x239)]['sendEventToBackend'](this[_0x46f586(0x28e)],_0x4ba7b7),logger['info'](_0xdb92a5[_0x46f586(0x33f)]);const _0x289dea=await _0xdb92a5['gHWLq'](createHubHaStack,this['clusterName'],_0x328008),_0x29bb16=_0x289dea[_0x46f586(0x25b)][0x0][_0x46f586(0x235)][_0x46f586(0x2d4)]((_0x23a327,_0x532351)=>{const _0x519583=_0x46f586;return _0xdb92a5[_0x519583(0x1af)](_0xdb92a5[_0x519583(0x1f5)],_0xdb92a5['dawKG'])?_0x373f05['status'][_0x519583(0x210)][_0x519583(0x1e2)][0x0][_0x519583(0x226)]:(_0x23a327[_0x532351[_0x519583(0x1c0)]]=_0x532351[_0x519583(0x1c3)],_0x23a327);},{}),_0x354d43=_0x29bb16[_0xdb92a5[_0x46f586(0x309)]],_0x351c7a=_0x29bb16[_0xdb92a5[_0x46f586(0x288)]],_0x34ea2a=_0x29bb16[_0xdb92a5[_0x46f586(0x347)]];logger[_0x46f586(0x1a7)](_0xdb92a5[_0x46f586(0x318)]),logger[_0x46f586(0x1a7)](_0x46f586(0x1d7)+_0x354d43),logger[_0x46f586(0x1a7)](_0x46f586(0x2fa)+_0x34ea2a),logger[_0x46f586(0x1a7)](_0x46f586(0x2cd)+_0x351c7a),_0x18a5eb=_0x46f586(0x278)+_0x354d43+_0x46f586(0x2b2)+_0x34ea2a+',\x20EFS_FileSystem\x20=>\x20'+_0x351c7a,logger[_0x46f586(0x1a7)](_0xdb92a5[_0x46f586(0x250)]),await this['createMountTargets'](_0x207129,_0x34ea2a,_0x351c7a);const _0x57ea44={};_0x57ea44[_0x46f586(0x304)]=WS_EVENTS[_0x46f586(0x26f)],_0x57ea44['message']=_0x18a5eb,this[_0x46f586(0x239)][_0x46f586(0x2ee)](this[_0x46f586(0x28e)],_0x57ea44);const _0x1ff95a={};_0x1ff95a[_0x46f586(0x304)]=WS_EVENTS[_0x46f586(0x26f)],_0x1ff95a[_0x46f586(0x2ef)]=_0xdb92a5[_0x46f586(0x345)],this['webSocketUtils'][_0x46f586(0x2ee)](this[_0x46f586(0x28e)],_0x1ff95a),logger[_0x46f586(0x1a7)](_0xdb92a5['foNIH']);let _0x499fc9=await fs[_0x46f586(0x1ff)](path[_0x46f586(0x1df)](__dirname,'..',_0xdb92a5[_0x46f586(0x1ea)],_0xdb92a5['Tsilo'],_0xdb92a5[_0x46f586(0x2ca)]),_0xdb92a5[_0x46f586(0x2fe)]);_0x499fc9=_0x499fc9[_0x46f586(0x23e)](/<EfsCSIControllerARN>/g,_0x354d43);const _0x17f095=yaml[_0x46f586(0x1ba)](_0x499fc9);await _0xdb92a5[_0x46f586(0x22a)](kubeApply,_0x17f095,_0x4e5a4b),logger[_0x46f586(0x1a7)](_0xdb92a5[_0x46f586(0x1fa)]),logger['info'](_0xdb92a5[_0x46f586(0x2dc)]);const _0x16ffeb=await fs[_0x46f586(0x1ff)](path['join'](__dirname,'..',_0xdb92a5[_0x46f586(0x1ea)],_0xdb92a5[_0x46f586(0x1bc)],_0xdb92a5['SiIom']),_0xdb92a5[_0x46f586(0x2fe)]),_0x59442a=yaml[_0x46f586(0x262)](_0x16ffeb);_0x59442a[_0x46f586(0x348)][_0xdb92a5['ieiGy']]=_0x351c7a;const _0x397f9f={};_0x397f9f[_0x46f586(0x1d6)]=_0x59442a;const _0x58116a=await _0x6002bf['createStorageClass'](_0x397f9f);logger[_0x46f586(0x1a7)](_0xdb92a5['XfzCl']);const _0x48bb33={};_0x48bb33[_0x46f586(0x304)]=WS_EVENTS[_0x46f586(0x26f)],_0x48bb33[_0x46f586(0x2ef)]=_0xdb92a5['WOGQy'],this[_0x46f586(0x239)][_0x46f586(0x2ee)](this[_0x46f586(0x28e)],_0x48bb33);}}catch(_0x5b8b89){if(_0xdb92a5[_0x46f586(0x28f)](_0xdb92a5[_0x46f586(0x1f0)],_0xdb92a5[_0x46f586(0x1f0)]))_0x1752f6[_0x46f586(0x2ba)][_0x46f586(0x1aa)](this[_0x46f586(0x23d)])&&_0xdb92a5[_0x46f586(0x1ec)](_0x21512a,!![]),_0xdb92a5[_0x46f586(0x27d)](_0x8f4d5c,![]);else{const _0x56bf41=_0xdb92a5[_0x46f586(0x21a)][_0x46f586(0x2e7)]('|');let _0x2945eb=0x0;while(!![]){switch(_0x56bf41[_0x2945eb++]){case'0':await _0xdb92a5['ROmVH'](deleteClusterAndDependencies,global_registry[_0x46f586(0x2d8)],this['clusterName']);continue;case'1':logger[_0x46f586(0x291)](_0x18a5eb);continue;case'2':process[_0x46f586(0x27b)](0x1);continue;case'3':_0x18a5eb='Error\x20occurred\x20while\x20setting\x20up\x20Hub\x20HA\x20infra:\x20'+_0x5b8b89['message'];continue;case'4':await _0xdb92a5[_0x46f586(0x24e)](reportToGalactusAndSendToEDS,_0x46050a,this[_0x46f586(0x28e)],_0x18a5eb,messageTypes[_0x46f586(0x231)],_0xdb92a5['gmvUE'],_0xdb92a5[_0x46f586(0x20f)],_0xdb92a5[_0x46f586(0x220)]);continue;}break;}}}}async[a0_0x52236d(0x1e5)](_0x1afdd6,_0x24f475,_0x8facb8){const _0x56ff68=a0_0x52236d,_0x5d418a={'vyDTE':function(_0x4e0bbe,_0x1f34c3){return _0x4e0bbe(_0x1f34c3);},'dhFGM':function(_0xc76b87,_0x277054){return _0xc76b87!==_0x277054;},'sXZTV':_0x56ff68(0x339),'imdIp':'tYbMP','cLAwD':function(_0x5b3de1,_0x17fb90){return _0x5b3de1===_0x17fb90;},'TUWLS':_0x56ff68(0x1dc),'pKwMy':_0x56ff68(0x264)},_0x40c410={};_0x40c410[_0x56ff68(0x26d)]=global_registry[_0x56ff68(0x2d8)];const _0x16b4a4=new awsSDK[(_0x56ff68(0x223))](_0x40c410),_0x5c876c={};_0x5c876c[_0x56ff68(0x26d)]=global_registry[_0x56ff68(0x2d8)];const _0x21aa74=new awsSDK[(_0x56ff68(0x296))](_0x5c876c),_0x30eb8d=new Set(),_0x1a0846=[];for(const _0x18b6f3 of _0x1afdd6){if(_0x5d418a[_0x56ff68(0x325)](_0x5d418a['sXZTV'],_0x5d418a[_0x56ff68(0x311)])){const _0x2bb773=await this[_0x56ff68(0x2fd)](_0x21aa74,_0x18b6f3[_0x56ff68(0x299)]);if(_0x30eb8d[_0x56ff68(0x2f5)](_0x2bb773)){if(_0x5d418a[_0x56ff68(0x23b)](_0x5d418a[_0x56ff68(0x2a6)],_0x5d418a['pKwMy']))return this['checkClusterCreated']();else{logger[_0x56ff68(0x1a7)](_0x56ff68(0x20e)+_0x18b6f3[_0x56ff68(0x299)]+_0x56ff68(0x2b8)+_0x2bb773+_0x56ff68(0x255));continue;}}_0x30eb8d[_0x56ff68(0x1e1)](_0x2bb773),_0x1a0846[_0x56ff68(0x32c)](this['createMountTargetAndWait'](_0x16b4a4,_0x18b6f3,_0x24f475,_0x8facb8));}else _0x460aee[_0x56ff68(0x291)]('Cannot\x20find\x20subnets\x20'+_0x647a3c+_0x56ff68(0x313)+_0x2afbb0[_0x56ff68(0x2d8)]+_0x56ff68(0x33b)+_0x630da2),_0x5d418a[_0x56ff68(0x1da)](_0x595ccb,[![],[]]);}await Promise['all'](_0x1a0846);}async[a0_0x52236d(0x1c5)](_0x391086,_0x35596b,_0xf4ad20,_0x3832d3){const _0x54b5da=a0_0x52236d,_0x240bb6={'ckPyo':function(_0x54077e,_0x42041a){return _0x54077e(_0x42041a);},'QFhke':function(_0x1983e,_0x34e66d){return _0x1983e!==_0x34e66d;},'rGwGj':'rOrjN','dRiUo':_0x54b5da(0x2e8),'UpzkL':function(_0x14b52a,_0x5e1aab){return _0x14b52a!==_0x5e1aab;},'gRHOl':_0x54b5da(0x2f6),'WXyga':_0x54b5da(0x24b)};try{if(_0x240bb6[_0x54b5da(0x32b)](_0x240bb6[_0x54b5da(0x213)],_0x240bb6['dRiUo'])){const _0x3a4df9={};_0x3a4df9[_0x54b5da(0x229)]=_0x3832d3,_0x3a4df9['SubnetId']=_0x35596b[_0x54b5da(0x299)],_0x3a4df9[_0x54b5da(0x1a8)]=[_0xf4ad20];const _0x1b6da7=await _0x391086[_0x54b5da(0x1f4)](_0x3a4df9)['promise'](),_0x18ab72=_0x1b6da7['MountTargetId'];await this[_0x54b5da(0x2ea)](_0x391086,_0x35596b[_0x54b5da(0x299)],_0x18ab72);}else{const _0x25e450=[],_0x501f9a=[];_0x8c319c[_0x54b5da(0x2f7)][_0x54b5da(0x2e9)](_0x564acd=>{const _0x40cbf0=_0x54b5da;_0x25e450[_0x40cbf0(0x32c)](_0x564acd[_0x40cbf0(0x25d)]);});const _0x9cc120=_0x5670af[_0x54b5da(0x31b)](_0x520e54=>{const _0x332b22=_0x54b5da;if(_0x25e450['includes'](_0x520e54[_0x332b22(0x299)]))return!![];return _0x501f9a[_0x332b22(0x32c)](_0x520e54),![];});_0x240bb6[_0x54b5da(0x258)](_0x13aa6c,[_0x9cc120,_0x501f9a]);}}catch(_0x51ab92){_0x240bb6[_0x54b5da(0x2ff)](_0x240bb6[_0x54b5da(0x219)],_0x240bb6['WXyga'])?logger['error'](_0x54b5da(0x32e)+_0x35596b[_0x54b5da(0x299)]+':',_0x51ab92):_0x3b6634[_0x54b5da(0x1f8)](_0x46a57c);}}async[a0_0x52236d(0x2ea)](_0x1ad9c0,_0x507837,_0x403d87){const _0x1ce81f=a0_0x52236d,_0x2cd44b={'HBmPq':function(_0x3c1141,_0x2db9a3){return _0x3c1141(_0x2db9a3);},'zTAMl':function(_0x5c0ac7,_0x383ae5){return _0x5c0ac7!==_0x383ae5;},'GNuYB':_0x1ce81f(0x22b),'OAHVP':function(_0xec27a,_0x1adc90){return _0xec27a===_0x1adc90;},'zBXns':'PcpZQ','cDZIk':function(_0x564c8a,_0x1c7cb8){return _0x564c8a===_0x1c7cb8;},'kUdbd':function(_0x3ca350,_0x260144){return _0x3ca350!==_0x260144;},'akyUr':_0x1ce81f(0x301),'kCMht':_0x1ce81f(0x1b2),'iyqSN':_0x1ce81f(0x1f1),'MEzhA':function(_0x53d542,_0xb4d6fb){return _0x53d542===_0xb4d6fb;},'yBjBy':_0x1ce81f(0x2d3)};let _0x37ee7c='';while(_0x2cd44b[_0x1ce81f(0x2e6)](_0x37ee7c,_0x2cd44b[_0x1ce81f(0x203)])){if(_0x2cd44b[_0x1ce81f(0x1f6)](_0x2cd44b[_0x1ce81f(0x305)],_0x2cd44b[_0x1ce81f(0x305)])){const _0x3c01cc={};_0x3c01cc[_0x1ce81f(0x21c)]=_0x403d87;const _0x353d30=await _0x1ad9c0['describeMountTargets'](_0x3c01cc)[_0x1ce81f(0x1fd)]();_0x37ee7c=_0x353d30['MountTargets'][0x0]['LifeCycleState'];if(_0x2cd44b[_0x1ce81f(0x21b)](_0x37ee7c,_0x2cd44b[_0x1ce81f(0x203)])){if(_0x2cd44b[_0x1ce81f(0x1e4)](_0x2cd44b[_0x1ce81f(0x2c3)],_0x2cd44b[_0x1ce81f(0x320)])){logger['info'](_0x1ce81f(0x25f)+_0x507837+_0x1ce81f(0x2cf)+_0x403d87+'.');break;}else _0x3dbe8e[_0x1ce81f(0x33c)](_0x4c67db);}if(_0x2cd44b['cDZIk'](_0x37ee7c,_0x2cd44b[_0x1ce81f(0x329)])){if(_0x2cd44b[_0x1ce81f(0x2a4)](_0x2cd44b[_0x1ce81f(0x1d1)],_0x2cd44b[_0x1ce81f(0x1d1)]))throw new Error(_0x1ce81f(0x205)+_0x403d87+_0x1ce81f(0x243));else _0x2cd44b['HBmPq'](_0x35b19b,this['rws']);}await new Promise(_0x5cbb57=>setTimeout(_0x5cbb57,0x1388));}else _0x50673f[_0x1ce81f(0x291)](_0x318d34),_0x2cd44b['HBmPq'](_0x4cc751,_0x176421);}}async['getAvailabilityZone'](_0x450b59,_0x23fe60){const _0x5ee08b=a0_0x52236d,_0x4d59fe={};_0x4d59fe[_0x5ee08b(0x28d)]=[_0x23fe60];const _0x38cdce=await _0x450b59[_0x5ee08b(0x33d)](_0x4d59fe)[_0x5ee08b(0x1fd)]();return _0x38cdce['Subnets'][0x0][_0x5ee08b(0x2d7)];}[a0_0x52236d(0x26b)](_0x1c429e){const _0x980d90=a0_0x52236d,_0x26edd6={'ydzKh':function(_0x3e4dc5,_0x201460){return _0x3e4dc5(_0x201460);},'kPWlP':function(_0x14c655,_0x229754){return _0x14c655(_0x229754);},'kUrKk':'2016-11-15','jzxXC':function(_0x51b511,_0x3179d8){return _0x51b511===_0x3179d8;},'JkPXy':_0x980d90(0x28c),'XwpOf':_0x980d90(0x1b9),'MOBOt':function(_0x562b4f,_0x3f78db){return _0x562b4f!==_0x3f78db;},'GyxEk':_0x980d90(0x1d9),'lLavW':function(_0x1db4af,_0x489b42){return _0x1db4af!==_0x489b42;},'zWBbr':_0x980d90(0x2bc)},_0x50915c={};_0x50915c[_0x980d90(0x2e3)]=[_0x1c429e];const _0x2b6e8e=_0x50915c;return new Promise((_0x4d8334,_0x7fb46c)=>{const _0x5262e6=_0x980d90,_0x3dc790={'FTCIA':function(_0x4e9995,_0x33f847){const _0x1b4115=a0_0x5815;return _0x26edd6[_0x1b4115(0x1b7)](_0x4e9995,_0x33f847);},'oIVTu':_0x26edd6[_0x5262e6(0x33a)],'rfiyt':function(_0x1be841,_0x5ddd0e){const _0x15fb7a=_0x5262e6;return _0x26edd6[_0x15fb7a(0x1c2)](_0x1be841,_0x5ddd0e);},'aCIwp':function(_0x1478c1,_0x2c1afb){const _0x5ef2cc=_0x5262e6;return _0x26edd6[_0x5ef2cc(0x1fc)](_0x1478c1,_0x2c1afb);},'ZHwmZ':_0x26edd6[_0x5262e6(0x331)],'CpBOD':_0x26edd6['XwpOf'],'bUBuo':function(_0x3db3ca,_0x1cfdfa){const _0x5090a4=_0x5262e6;return _0x26edd6[_0x5090a4(0x1d2)](_0x3db3ca,_0x1cfdfa);},'IVXeZ':_0x26edd6[_0x5262e6(0x269)]};if(_0x26edd6['lLavW'](_0x26edd6[_0x5262e6(0x2a2)],_0x26edd6[_0x5262e6(0x2a2)]))_0x4315a2[_0x5262e6(0x291)](_0x5262e6(0x20c)+_0x1ec1f1+'\x20in\x20region\x20'+_0x2bf140['clusterRegion']+_0x5262e6(0x1f3)),_0x26edd6[_0x5262e6(0x1c2)](_0x1f8c5c,![]);else{const _0x890419={};_0x890419['apiVersion']=_0x26edd6['kUrKk'],_0x890419['region']=global_registry[_0x5262e6(0x2d8)];const _0x4a601e=new awsSDK[(_0x5262e6(0x296))](_0x890419);_0x4a601e[_0x5262e6(0x261)](_0x2b6e8e)[_0x5262e6(0x1fd)]()[_0x5262e6(0x330)](_0x4ad7ae=>{const _0x512c84=_0x5262e6,_0x2254c9={'LwNLH':function(_0x1d8acf,_0x146405){const _0xa47b71=a0_0x5815;return _0x3dc790[_0xa47b71(0x333)](_0x1d8acf,_0x146405);}};if(_0x3dc790[_0x512c84(0x240)](_0x3dc790[_0x512c84(0x1be)],_0x3dc790['CpBOD'])){const _0x4a604e={'QzNcu':function(_0x173b6f,_0x151d49){const _0x233afc=_0x512c84;return _0x3dc790[_0x233afc(0x266)](_0x173b6f,_0x151d49);}},_0x381efe={};_0x381efe[_0x512c84(0x259)]=_0x3dc790[_0x512c84(0x1d0)],_0x381efe[_0x512c84(0x26d)]=_0x4a67bc['clusterRegion'];const _0x50b7ef=new _0x5b48a0[(_0x512c84(0x296))](_0x381efe);_0x50b7ef['describeVpcs'](_0x675195)[_0x512c84(0x1fd)]()[_0x512c84(0x330)](_0x388ecf=>{_0x4a604e['QzNcu'](_0x1f2696,!![]);})[_0x512c84(0x1c8)](_0x299292=>{const _0x5b8a4f=_0x512c84;_0x303942[_0x5b8a4f(0x291)](_0x5b8a4f(0x20c)+_0x98ad5e+'\x20in\x20region\x20'+_0x6e7ac9[_0x5b8a4f(0x2d8)]+'.\x20Please\x20Check\x20and\x20try\x20again'),_0x2254c9[_0x5b8a4f(0x273)](_0x15370c,![]);});}else _0x3dc790['FTCIA'](_0x4d8334,!![]);})[_0x5262e6(0x1c8)](_0xbd16a1=>{const _0x4016f8=_0x5262e6;_0x3dc790[_0x4016f8(0x2c4)](_0x3dc790[_0x4016f8(0x248)],_0x3dc790[_0x4016f8(0x248)])?_0x575d3b['status']=![]:(logger[_0x4016f8(0x291)]('Cannot\x20find\x20VPC\x20'+_0x1c429e+_0x4016f8(0x313)+global_registry['clusterRegion']+'.\x20Please\x20Check\x20and\x20try\x20again'),_0x3dc790['rfiyt'](_0x4d8334,![]));});}});}['isSubnetsValid'](_0x3f1785,_0x35ee60){const _0x9cbba2=a0_0x52236d,_0x5be9da={'XUqYs':_0x9cbba2(0x202),'Jqrur':function(_0x1c4d82,_0x367fc2){return _0x1c4d82!==_0x367fc2;},'gMDfl':_0x9cbba2(0x2d2),'hBJLT':_0x9cbba2(0x25e),'epDrc':_0x9cbba2(0x233),'iNEbx':'hpygw','gJMXd':_0x9cbba2(0x19e),'CbbXu':function(_0x1e89e3,_0x44e9cb){return _0x1e89e3===_0x44e9cb;},'GtEcn':_0x9cbba2(0x1cf),'mcFlU':_0x9cbba2(0x218),'pPWrA':_0x9cbba2(0x2af),'GONss':function(_0x556769,_0x239047){return _0x556769(_0x239047);},'UFDab':function(_0xb527ee,_0x46c9a9){return _0xb527ee===_0x46c9a9;},'hxpjt':_0x9cbba2(0x1a3),'JzUiM':_0x9cbba2(0x1b8),'MMUcf':_0x9cbba2(0x27a),'LkUiB':_0x9cbba2(0x2ac),'exMJo':function(_0x360166,_0x3ccb0f){return _0x360166!==_0x3ccb0f;},'TLuDA':_0x9cbba2(0x31a),'qZtSH':_0x9cbba2(0x1d3),'QaLaD':_0x9cbba2(0x214)},_0x3620bd={};_0x3620bd[_0x9cbba2(0x30e)]=_0x5be9da[_0x9cbba2(0x1ab)],_0x3620bd[_0x9cbba2(0x20a)]=[_0x35ee60];const _0x42189a={};_0x42189a[_0x9cbba2(0x196)]=[_0x3620bd];const _0x54948d=_0x42189a;return new Promise((_0x228843,_0x1a0a5b)=>{const _0x36770a=_0x9cbba2,_0x19954a={'ELFWQ':_0x5be9da[_0x36770a(0x236)],'mPhNy':function(_0x2c8632,_0x47c949){const _0x20eb81=_0x36770a;return _0x5be9da[_0x20eb81(0x2c1)](_0x2c8632,_0x47c949);},'pgNxG':_0x5be9da[_0x36770a(0x303)],'fnsHl':_0x5be9da[_0x36770a(0x1ed)],'ocAwm':_0x5be9da[_0x36770a(0x245)],'RQZVI':_0x5be9da[_0x36770a(0x27f)],'aZirD':_0x5be9da[_0x36770a(0x1e0)],'TCktj':function(_0x4d2388,_0x28991f){return _0x5be9da['CbbXu'](_0x4d2388,_0x28991f);},'XPLCZ':_0x5be9da[_0x36770a(0x306)],'lSLLq':_0x5be9da['mcFlU'],'CQRmb':function(_0x4d254d,_0x456a98){const _0x29d0bd=_0x36770a;return _0x5be9da[_0x29d0bd(0x197)](_0x4d254d,_0x456a98);},'BEBqp':_0x5be9da[_0x36770a(0x340)],'sigDT':function(_0x3a62ad,_0x5b9c2f){const _0x935345=_0x36770a;return _0x5be9da[_0x935345(0x1cb)](_0x3a62ad,_0x5b9c2f);},'dwUCj':function(_0xe70aa9,_0x29cc07){const _0x56de28=_0x36770a;return _0x5be9da[_0x56de28(0x1cc)](_0xe70aa9,_0x29cc07);},'VqFhP':_0x5be9da[_0x36770a(0x277)],'KtoOi':_0x5be9da[_0x36770a(0x338)],'csKRd':_0x5be9da[_0x36770a(0x1a0)],'PrIok':_0x5be9da[_0x36770a(0x1fe)]};if(_0x5be9da['exMJo'](_0x5be9da[_0x36770a(0x1bb)],_0x5be9da[_0x36770a(0x1bb)])){const _0x27bd29={};_0x27bd29[_0x36770a(0x259)]=_0x19954a['ELFWQ'];const _0x17a2c2=new _0x2308a7[(_0x36770a(0x249))](_0x27bd29),_0x32267b={};return _0x32267b[_0x36770a(0x256)]=this[_0x36770a(0x23d)],_0x17a2c2[_0x36770a(0x297)](_0x32267b)['promise']();}else{const _0x2a75e9={};_0x2a75e9[_0x36770a(0x259)]=_0x5be9da[_0x36770a(0x263)],_0x2a75e9['region']=global_registry[_0x36770a(0x2d8)];const _0x1e2344=new awsSDK[(_0x36770a(0x296))](_0x2a75e9);_0x1e2344[_0x36770a(0x33d)](_0x54948d)[_0x36770a(0x1fd)]()[_0x36770a(0x330)](_0x9a27c5=>{const _0x195c1f=_0x36770a,_0x32083b={'AZLJk':function(_0x487e01,_0x5e4cfe){return _0x19954a['TCktj'](_0x487e01,_0x5e4cfe);},'TdQBM':_0x19954a['XPLCZ'],'rwBae':_0x19954a[_0x195c1f(0x2cc)]};if(_0x19954a[_0x195c1f(0x25c)](_0x19954a[_0x195c1f(0x2e0)],_0x19954a[_0x195c1f(0x2e0)])){const _0xccc49e=[],_0x2c0cde=[];_0x9a27c5['Subnets'][_0x195c1f(0x2e9)](_0x14fe52=>{const _0x45d4db=_0x195c1f;_0x32083b[_0x45d4db(0x22c)](_0x32083b[_0x45d4db(0x1a1)],_0x32083b[_0x45d4db(0x289)])?_0x4546ee[_0x45d4db(0x291)](_0x45d4db(0x32e)+_0x34b38f[_0x45d4db(0x299)]+':',_0x44ad91):_0xccc49e[_0x45d4db(0x32c)](_0x14fe52['SubnetId']);});const _0x1e96c3=_0x3f1785[_0x195c1f(0x31b)](_0x2abf0d=>{const _0x5563ac=_0x195c1f,_0x1c98d8={'fPyHA':function(_0x45cb5c,_0x282cd5){const _0x3eea49=a0_0x5815;return _0x19954a[_0x3eea49(0x1e3)](_0x45cb5c,_0x282cd5);},'vvMMw':_0x19954a['pgNxG']};if(_0x19954a[_0x5563ac(0x1e3)](_0x19954a[_0x5563ac(0x30b)],_0x19954a['ocAwm'])){if(_0xccc49e['includes'](_0x2abf0d[_0x5563ac(0x299)])){if(_0x19954a[_0x5563ac(0x1e3)](_0x19954a[_0x5563ac(0x195)],_0x19954a[_0x5563ac(0x195)])){if(_0x48247e[_0x5563ac(0x1aa)](_0x42b503['value']))return!![];return _0x439d72[_0x5563ac(0x32c)](_0x1c3aa8),![];}else return!![];}return _0x2c0cde['push'](_0x2abf0d),![];}else{const _0x2f7039=_0x24f48d['EvalActionName'][_0x5563ac(0x2e7)](':')[0x0];_0x1b7614+='\x0a\x09Service:\x20'+_0x2f7039[_0x5563ac(0x30f)]()+_0x5563ac(0x2b5)+_0x3efb50[_0x1ddb28['EvalActionName']]+':\x20'+_0x1b3d07[_0x5563ac(0x216)],_0x1c98d8[_0x5563ac(0x275)](_0x9d734e[_0x5563ac(0x216)],_0x1c98d8[_0x5563ac(0x225)])&&(_0x19ff6d[_0x5563ac(0x1c4)]=![]);}});_0x19954a[_0x195c1f(0x19a)](_0x228843,[_0x1e96c3,_0x2c0cde]);}else _0x14876f[_0x195c1f(0x1a7)](_0x19954a[_0x195c1f(0x326)]);})[_0x36770a(0x1c8)](_0x211bb8=>{const _0x1a2cff=_0x36770a,_0x469479={'iAVHJ':function(_0x457535,_0x1f25c2){const _0x85d48d=a0_0x5815;return _0x19954a[_0x85d48d(0x29a)](_0x457535,_0x1f25c2);},'FoZdp':_0x19954a[_0x1a2cff(0x292)],'GAype':_0x19954a[_0x1a2cff(0x29e)]};if(_0x19954a[_0x1a2cff(0x1e3)](_0x19954a[_0x1a2cff(0x198)],_0x19954a[_0x1a2cff(0x20d)]))logger['error'](_0x1a2cff(0x2c5)+_0x3f1785+_0x1a2cff(0x313)+global_registry[_0x1a2cff(0x2d8)]+'.\x20Error:\x20'+_0x211bb8),_0x19954a['sigDT'](_0x228843,[![],[]]);else{const _0x310eb2=_0x9e88a1[_0x1a2cff(0x257)]['tags'];return _0x310eb2&&_0x469479['iAVHJ'](_0x310eb2[_0x469479[_0x1a2cff(0x1c1)]][_0x1a2cff(0x1ca)](),_0x469479[_0x1a2cff(0x2a9)]);}});}});}async['isCliToolInstalled'](){const _0x551495=a0_0x52236d,_0x3ee5e0={'lTbZM':function(_0xcdc540,_0x4f8d06){return _0xcdc540(_0x4f8d06);},'fDJBZ':'aws-iam-authenticator\x20help','YRaxw':_0x551495(0x315),'BrhwQ':_0x551495(0x336)},_0x4d4b35={};_0x4d4b35['status']=![],_0x4d4b35[_0x551495(0x291)]=null,_0x4d4b35['data']='';const _0x13fd24=_0x4d4b35;try{const _0x2a65d3=await _0x3ee5e0[_0x551495(0x2e2)](runCommand,_0x3ee5e0['fDJBZ']);_0x2a65d3[_0x551495(0x30d)](_0x3ee5e0[_0x551495(0x1ef)])?logger[_0x551495(0x1f8)](_0x2a65d3):logger[_0x551495(0x33c)](_0x2a65d3),_0x13fd24[_0x551495(0x1c4)]=!![],_0x13fd24[_0x551495(0x2b1)]=_0x3ee5e0[_0x551495(0x2c2)];}catch(_0x32b8cd){logger[_0x551495(0x291)](_0x551495(0x2bd)+_0x32b8cd+_0x551495(0x230)+_0x32b8cd['stack']),_0x13fd24['data']=_0x551495(0x1d8)+_0x32b8cd,_0x13fd24['error']=_0x32b8cd;}return _0x13fd24;}async[a0_0x52236d(0x199)](){const _0x607549=a0_0x52236d,_0x1fe9c2={};_0x1fe9c2[_0x607549(0x2a5)]=':role/',_0x1fe9c2[_0x607549(0x322)]=_0x607549(0x1fb);const _0x4dc2ac=_0x1fe9c2,_0x501af4=await new awsSDK[(_0x607549(0x1c6))]()['getCallerIdentity']()['promise'](),{Account:_0x12799d,Arn:_0x1c50c9}=_0x501af4,_0x9100fe=_0x1c50c9[_0x607549(0x1aa)](_0x4dc2ac[_0x607549(0x2a5)]),_0x36f3be=_0x9100fe?_0x607549(0x2a7)+_0x12799d+_0x607549(0x1ce)+_0x1c50c9[_0x607549(0x2e7)](_0x4dc2ac['kUGRS'])[0x1]:_0x607549(0x2a7)+_0x12799d+_0x607549(0x1fb)+_0x1c50c9[_0x607549(0x2e7)](_0x4dc2ac[_0x607549(0x322)])[0x1];return _0x36f3be;}async[a0_0x52236d(0x29f)](){const _0x137111=a0_0x52236d,_0x2c522b={};_0x2c522b[_0x137111(0x251)]=function(_0x1e08f5,_0x324564){return _0x1e08f5!==_0x324564;},_0x2c522b[_0x137111(0x328)]=_0x137111(0x2d2);const _0x136194=_0x2c522b,_0x589946={};_0x589946[_0x137111(0x1c4)]=![],_0x589946[_0x137111(0x291)]=null,_0x589946['data']='';const _0x28b5f2=_0x589946;try{const _0x1b825f=await this[_0x137111(0x199)](),_0x453ae9={'PolicySourceArn':_0x1b825f,'ActionNames':Object['keys'](PERMISSIONS)},_0x1faedc=await new awsSDK[(_0x137111(0x1b0))]()[_0x137111(0x1f7)](_0x453ae9)[_0x137111(0x1fd)]();let _0x1239c0='';logger[_0x137111(0x33c)]('permissions\x20check\x20response:\x20'+JSON[_0x137111(0x314)](_0x1faedc)),_0x28b5f2[_0x137111(0x1c4)]=!![],_0x1faedc[_0x137111(0x2b3)][_0x137111(0x2e9)](_0x1b12a8=>{const _0x31e56c=_0x137111,_0x291484=_0x1b12a8[_0x31e56c(0x28b)][_0x31e56c(0x2e7)](':')[0x0];_0x1239c0+=_0x31e56c(0x26c)+_0x291484['toUpperCase']()+_0x31e56c(0x2b5)+PERMISSIONS[_0x1b12a8[_0x31e56c(0x28b)]]+':\x20'+_0x1b12a8[_0x31e56c(0x216)],_0x136194['BGMHC'](_0x1b12a8['EvalDecision'],_0x136194[_0x31e56c(0x328)])&&(_0x28b5f2[_0x31e56c(0x1c4)]=![]);}),_0x28b5f2[_0x137111(0x2b1)]=_0x1239c0;}catch(_0x3034e1){_0x28b5f2[_0x137111(0x291)]=_0x3034e1;}return _0x28b5f2;}}const a0_0x557b9a={};a0_0x557b9a[a0_0x52236d(0x271)]=AWSCloudProvider,module['exports']=a0_0x557b9a;