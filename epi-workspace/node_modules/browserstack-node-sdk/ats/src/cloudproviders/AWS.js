const a0_0x5a6b93=a0_0x1450;(function(_0x233486,_0x714aac){const _0x1ae90a=a0_0x1450,_0x21126f=_0x233486();while(!![]){try{const _0x1a9bd3=-parseInt(_0x1ae90a(0x1d1))/0x1*(parseInt(_0x1ae90a(0xf6))/0x2)+-parseInt(_0x1ae90a(0x105))/0x3*(parseInt(_0x1ae90a(0xa5))/0x4)+parseInt(_0x1ae90a(0x14a))/0x5+-parseInt(_0x1ae90a(0x169))/0x6+parseInt(_0x1ae90a(0x170))/0x7+-parseInt(_0x1ae90a(0x1e3))/0x8*(parseInt(_0x1ae90a(0xc8))/0x9)+-parseInt(_0x1ae90a(0x19a))/0xa*(-parseInt(_0x1ae90a(0x16f))/0xb);if(_0x1a9bd3===_0x714aac)break;else _0x21126f['push'](_0x21126f['shift']());}catch(_0x16e84d){_0x21126f['push'](_0x21126f['shift']());}}}(a0_0x1ede,0xb2742));function a0_0x1ede(){const _0x26013f=['drwTI','isVPCPresent','loadBalancer','qKPRj','utf-8','join','exports','createStorageClass','getNodeGroupInfo','VZdGg','.\x20Please\x20Check\x20and\x20try\x20again','AbzdF','Zsyho','toUpperCase','SecurityGroups\x20=>\x20','\x20:\x20','EFS\x20Controller\x20Role\x20=>\x20','UGvnH','VgVlh','SGMLo','every','90FtTfrg','VPC\x20=>\x20','CYqhb','reportToGalactusAndSendToEDS','joPgT','deleteCluster','EC2','DTydb','zBbSX','eQuVN','clusterAutoUpgrade','toString','KubeConfigTemplate.yaml','LOG','flkmd','KxZhi','gxNEe','nodeRole','EFSControllerRoleArn','vpc-id','Creating\x20required\x20resources\x20-\x20EKS\x20role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups,\x20Cluster\x20and\x20Node\x20Group(s)','Authmap\x20already\x20exists.\x20Not\x20updating','vsHYH','kJgwy','ZPYEq','XeaiX','TVqRE','olTBS','Creating\x20required\x20resources\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','VGRZv','bKope','describeMountTargets','qCoKm','sNRse','OutputValue','../permissions/AWS.json','../config/logger','Intercepted','MoMhY','mOlqN','bijpP','gweGZ','data','yqbXr','nBmPZ','add','status','2016-11-15','qjfHy','zPgKz','Values','BBYSJ','sendEventToBackend','Mounting\x20Target\x20for\x20EFS','XwHDw','1oKKrBh','DGVOl','split','oHfoc','templates','wtjEY','FYwzy','JAkmi','cloudProviderSecretKey','wLviY','ClusterRole\x20=>\x20','webSocketUtils','GBRNg','lPtah',',\x20NodeRole\x20=>\x20','region','cvPJL','aws-auth-cm.yaml','24568OwTdjZ','getPrincipalArn','Mount\x20target\x20','Gyyjh','SubnetIds','KbZrU','oXbFv','Setting\x20up\x20Hub\x20HA','SjTjm','lNQah','feZTo','\x20SECRET\x20KEY:\x20','wxOEP','WCWYf',':user/','sDwZK','has','apiVersion','Subnets','includes','OHddR','oipFK','OtLdx','DzDMW','TRTsN','getKubeConfigData',',\x20SecurityGroups\x20=>\x20','EvalDecision','forEach','ywIZE','hub-ha-aws-setup-failed','secretAccessKey','VvOvx','twSZC','Cannot\x20find\x20VPC\x20','browserstack:managedBy','KTzXy','hMKmR','xVLbr','fEzzl','createAuthConfigMap','Following\x20resources\x20are\x20created:','uqyqH','HPJzd','Hoorp','accessKey','ZMmEW','label','KANsS','MggCo','nUkrS','amJgz','bhTGF','stack','egpZn','MZkIV','CuHpl','mapRoles','LfRCW','maxNodes','BbjDH','HBEUW','EvANZ','push','nodegroupName','promise','config','YrOYF','VvSfN','GpvFu','Adding\x20storage\x20class...','Error\x20occurred\x20while\x20setting\x20up\x20Hub\x20HA\x20infra:\x20','waitForMountTarget','xelyX','UIFdL','clusterName','gMUKw','pRdtK','iNzcF','uFlSG','sxszg','js-yaml','KZaKB','LifeCycleState','hostname','VBwnF','accessKeyId','createMountTarget','EFSFileSystemId','imkMp','debug','warning','FileSystemId','MVlhv','Autoscaler\x20Role\x20created.ARN:\x20','EvalActionName','OutputKey','vlCyD','update','.\x20Deleting\x20all\x20the\x20stacks','tffOJ','replace','FEnQR','eEUEj','BykYm','ERROR','zisKZ','EFSSecurityGroup','dLERP','gAuHe','jHBZQ','BVjGW','lsLxZ','Added\x20storage\x20class.','pOLuZ','isSubnetsValid','Please\x20install\x20aws-iam-authenticator\x20tool.\x20Error\x20:\x20','\x20has\x20already\x20been\x20used.','ntXGy','PTmqF','setupHubHa','ngZhf','dPNZg','5239420vMkkEo','setupAutoscaler',':role/','.\x20Error:\x20','xYcmj','eDvLC','WARNING','eCWgl','endpoint','GONJS','yzLik','zDgwH','Mount\x20target\x20created\x20for\x20subnet:\x20','FHJOc','\x0a\x09Service:\x20','createMountTargetAndWait','Added\x20EFS\x20CSI\x20Driver','isCliToolInstalled','DOujg','GpvIb','RrDXp','efs-csi-driver-aws.yaml','EFS\x20SecurityGroup\x20=>\x20','QQbCq','sfadQ',',\x20Subnets\x20=>\x20','CEyod','readFileAsync','AvailabilityZone','Following\x20resources\x20are\x20created\x20for\x20Hub\x20HA:\x20EFS_ControllerRoleArn\x20=>\x20','qWGGr','\x20in\x20region\x20','failed','eLIPR','wIRWE','2637ttPQWy','aws-sdk','EKS','describeVpcs','message','kgtrk','wUIlv','toLowerCase','aws-iam-authenticator\x20tool\x20is\x20installed','reduce','YUppg','Creating\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','2017-11-01','XHMkS','Woelw','match','jZWnp','zKytx','vpyZM','namespace','create-grid-called','describeNodegroup','kATdn','clusterRegion','error\x20:\x20','oBfWx','aSNwe','jKfts','setCachedCredsInRegistry','QlStH','../utils/gridComponents','xOJju','../utils/utilityMethods','MlTtJ','exit','dzHew','AtZZx','ZUtou','rJBVT','rws','body','VCQUP','warn','all','startsWith','mHZxB','2574802Xfxefo','\x20because\x20its\x20Availability\x20Zone\x20','EvaluationResults','SBUCW','nAICT','hXIqh','WTUpZ','mDMJi','GkjTi','kEVSL','ijatb','KtvJc','init','sKAmW','VFFMz','3tUInkQ','MWLxN','parameters','NsWhJ','info','puRdm','loadAll','checkAccess','../utils/createAutoscalerStack','dVQGx','kHXYJ','hubharesources','arn:aws:iam::','aBVap','Cannot\x20find\x20subnets\x20','load','WhZZE','zoLDp','cpUkE','-NodeGroup','../config/constants','secret','cloudProviderAccessKey','yhcay','value','PnBGw','YvCCu','name','ingress','path','STS','vlGNm','simulatePrincipalPolicy','eJbdL','MCPgM','SecurityGroups','kVVFh','catch','VvkBS','Outputs','Created\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','Kkxka','sYwId','NodeRole\x20=>\x20','EqVGj','createNamespacedConfigMap','AVzYO','../utils/createHubHaStack','sendResourceDataToHST','Subnets\x20=>\x20','getClusterInfo','error','WFUhg','setupNewCluster','SCVQG','autoscaler-creation-failed','bhhPw','ftRAO','getAvailabilityZone','pxOSY','Mpmpt','type','clusters','cluster','allowed','eERki',',\x20ClusterRole\x20=>\x20','VpcIds','lZEKI','5546600xCSGVr','\x20|\x20Action\x20:\x20','Cluster\x20=>\x20','getGridHostname','getCallerIdentity','3|1|0|2|4','LyCwm','iFuAk','xlnSN','Bfhgw','Following\x20resources\x20are\x20created:\x20Cluster\x20=>\x20',',\x20MountTargetId:\x20',',\x20EFS_FileSystem\x20=>\x20','MountTargetId','anqPR','fEtpy','MKwuZ','QVKBt','UWoRZ','dphtr','describeSubnets','Unable\x20to\x20spawn\x20Autoscaler\x20due\x20to:\x20','tags','checkClusterCreated','xjgOl','SubnetId','CuOKF','NZKdO','\x20ACCESS\x20KEY:\x20','describeCluster','<ARN>','4756476GOqltr','uFnjX','vpZeq','\x20failed\x20to\x20reach\x20the\x20available\x20state.','listClusters','vSpTB','4531593QMepbc','1426348FYFkMD','createMountTargets','nNHiC','cloudProviderName','Skipping\x20subnet\x20','uzcsY','yekZY','mdGJZ','nsVwl',',\x20EFS_SecurityGroup\x20=>\x20','ZLTJr','GfcCg','RjGvu','then','Stacks','Rsscj','QhMrS','gyenf','XWBNY','GcFjn','UaBaj'];a0_0x1ede=function(){return _0x26013f;};return a0_0x1ede();}const fs=require('fs'),path=require(a0_0x5a6b93(0x122)),yaml=require(a0_0x5a6b93(0x234)),awsSDK=require(a0_0x5a6b93(0xc9)),{logger}=require(a0_0x5a6b93(0x1be)),{CloudProvider}=require('./CloudProvider'),{sendAWSInfoToHST}=require('../utils/hstUtils'),{createClusterStack}=require('../utils/createClusterStack'),{createHubHaStack}=require(a0_0x5a6b93(0x134)),{deleteClusterAndDependencies,deleteRoutingDeps,deleteAgent}=require(a0_0x5a6b93(0xe6)),{createAutoscalerStack}=require(a0_0x5a6b93(0x10d)),{getDirForConfig,reportToGalactusAndSendToEDS,kubeApply,runCommand}=require(a0_0x5a6b93(0xe8)),{IAM_USER_NAME,AWS,WS_EVENTS,global_registry,messageTypes}=require(a0_0x5a6b93(0x119)),PERMISSIONS=require(a0_0x5a6b93(0x1bd));function a0_0x1450(_0x450002,_0x9ea901){const _0x1ede03=a0_0x1ede();return a0_0x1450=function(_0x145055,_0x2efa10){_0x145055=_0x145055-0xa4;let _0x49f736=_0x1ede03[_0x145055];return _0x49f736;},a0_0x1450(_0x450002,_0x9ea901);}class AWSCloudProvider extends CloudProvider{constructor(_0x3f4dd9,_0x2d5845,_0x47ca33,_0x541f89){super(AWS,_0x3f4dd9,_0x2d5845,_0x47ca33,_0x541f89);}async[a0_0x5a6b93(0x102)](){const _0x2fe838=a0_0x5a6b93;await super['init']();const _0x596b1e={};return _0x596b1e['region']=global_registry[_0x2fe838(0xdf)],_0x596b1e[_0x2fe838(0x239)]=global_registry[_0x2fe838(0x11b)],_0x596b1e[_0x2fe838(0x202)]=global_registry['cloudProviderSecretKey'],awsSDK[_0x2fe838(0x225)][_0x2fe838(0x245)](_0x596b1e),this;}async[a0_0x5a6b93(0x135)](){const _0x140968=a0_0x5a6b93,_0x18a565={'KbZrU':function(_0x557cf6,_0x25ad68){return _0x557cf6(_0x25ad68);}};_0x18a565[_0x140968(0x1e8)](sendAWSInfoToHST,this[_0x140968(0xef)]);}async[a0_0x5a6b93(0xe4)](_0x1be9cf){const _0x200cd4=a0_0x5a6b93;global_registry['cloudProviderAccessKey']=_0x1be9cf[this[_0x200cd4(0x173)]]['accessKey'],global_registry['cloudProviderSecretKey']=_0x1be9cf[this[_0x200cd4(0x173)]][_0x200cd4(0x11a)];}[a0_0x5a6b93(0x14d)](_0x177c46){const _0x251567=a0_0x5a6b93;return _0x177c46['status']['loadBalancer'][_0x251567(0x121)][0x0][_0x251567(0x237)];}async['isBrowserstackCluster'](){const _0x4fa675=a0_0x5a6b93,_0xf45dd2={'UnpsI':function(_0x419b7e,_0x147df5){return _0x419b7e(_0x147df5);},'egBfH':function(_0x409c00,_0x4ffc54){return _0x409c00(_0x4ffc54);},'VFFMz':function(_0x188a05,_0x15a335){return _0x188a05===_0x15a335;},'uzcsY':_0x4fa675(0x214),'NZKdO':_0x4fa675(0xb0),'VvOvx':function(_0x9fe7e6,_0x4ffa20){return _0x9fe7e6===_0x4ffa20;},'rJBVT':'eQJdm','ftRAO':_0x4fa675(0x206),'sDwZK':'browserstack','flkmd':function(_0x41c821,_0x474fe1){return _0x41c821!==_0x474fe1;},'Ruxcs':_0x4fa675(0x233),'snAXc':_0x4fa675(0x22f)};try{if(_0xf45dd2[_0x4fa675(0x104)](_0xf45dd2[_0x4fa675(0x175)],_0xf45dd2[_0x4fa675(0x165)])){const _0x56235e=[],_0x4fbb41=[];_0x41da5e['Subnets'][_0x4fa675(0x1ff)](_0x3a5c44=>{const _0x4674c5=_0x4fa675;_0x56235e[_0x4674c5(0x222)](_0x3a5c44['SubnetId']);});const _0x420ce7=_0x32053a[_0x4fa675(0x199)](_0x1c0ba9=>{const _0x351327=_0x4fa675;if(_0x56235e[_0x351327(0x1f6)](_0x1c0ba9[_0x351327(0x11d)]))return!![];return _0x4fbb41[_0x351327(0x222)](_0x1c0ba9),![];});_0xf45dd2['UnpsI'](_0x3467c0,[_0x420ce7,_0x4fbb41]);}else{const _0x4ef7ae=await this['getClusterInfo']();if(_0x4ef7ae[_0x4fa675(0x144)]){if(_0xf45dd2[_0x4fa675(0x203)](_0xf45dd2['rJBVT'],_0xf45dd2[_0x4fa675(0xee)])){const _0x29dd7f=_0x4ef7ae['cluster'][_0x4fa675(0x160)];return _0x29dd7f&&_0xf45dd2[_0x4fa675(0x203)](_0x29dd7f[_0xf45dd2[_0x4fa675(0x13e)]]['toLowerCase'](),_0xf45dd2[_0x4fa675(0x1f2)]);}else _0x4ba442['error'](_0x4fa675(0x205)+_0x2ad42f+_0x4fa675(0xc4)+_0x2246cd[_0x4fa675(0xdf)]+_0x4fa675(0x18f)),_0xf45dd2['egBfH'](_0xf524d2,![]);}}}catch(_0x5c0721){if(_0xf45dd2[_0x4fa675(0x1a8)](_0xf45dd2['Ruxcs'],_0xf45dd2['snAXc']))return![];else _0x26cdb7[_0x4fa675(0xf2)](_0x50afe8);}return![];}async['isClusterPresent'](){const _0x3ae201=a0_0x5a6b93;return this[_0x3ae201(0x161)]();}async['getClusterInfo'](){const _0x194d50=a0_0x5a6b93,_0x21df20={};_0x21df20[_0x194d50(0x228)]='2017-11-01';const _0x5ec220=_0x21df20,_0x352995={};_0x352995[_0x194d50(0x1f4)]=_0x5ec220[_0x194d50(0x228)];const _0x271933=new awsSDK['EKS'](_0x352995),_0x4521e8={};return _0x4521e8['name']=this[_0x194d50(0x22e)],_0x271933[_0x194d50(0x167)](_0x4521e8)['promise']();}async[a0_0x5a6b93(0x20b)](_0x12765b){const _0xa31aff=a0_0x5a6b93,_0x5262c9={};_0x5262c9['mdGJZ']=_0xa31aff(0x1d5),_0x5262c9[_0xa31aff(0x1eb)]=_0xa31aff(0x1e2),_0x5262c9[_0xa31aff(0x181)]=_0xa31aff(0x189),_0x5262c9[_0xa31aff(0xb2)]=_0xa31aff(0x168);const _0x4bc843=_0x5262c9,_0x38f727=await fs[_0xa31aff(0xc0)](path['join'](__dirname,'..',_0x4bc843[_0xa31aff(0x177)],_0x4bc843[_0xa31aff(0x1eb)]),_0x4bc843['gyenf']),_0x55ffa2=yaml[_0xa31aff(0x114)](_0x38f727);return _0x55ffa2[_0xa31aff(0x1c4)][_0xa31aff(0x21c)]=_0x55ffa2[_0xa31aff(0x1c4)]['mapRoles']['replace'](_0x4bc843['FHJOc'],_0x12765b),_0x55ffa2;}async[a0_0x5a6b93(0x18d)](_0x1eae17){const _0x5a4e82=a0_0x5a6b93,_0x1ff55e={};_0x1ff55e[_0x5a4e82(0x158)]=_0x5a4e82(0xd4);const _0x4acc7e=_0x1ff55e,_0x59ab95={};_0x59ab95[_0x5a4e82(0x1f4)]=_0x4acc7e[_0x5a4e82(0x158)];const _0xdada0=new awsSDK[(_0x5a4e82(0xca))](_0x59ab95),_0xd87c8e={};return _0xd87c8e['clusterName']=this[_0x5a4e82(0x22e)],_0xd87c8e[_0x5a4e82(0x223)]=_0x1eae17,_0xdada0[_0x5a4e82(0xdd)](_0xd87c8e)[_0x5a4e82(0x224)]();}async['checkClusterCreated'](){const _0x2618bf=a0_0x5a6b93,_0x45ea75={'XwHDw':function(_0x4a936e,_0x4252ad){return _0x4a936e!==_0x4252ad;},'amJgz':_0x2618bf(0x16e),'eDvLC':_0x2618bf(0x108),'oBfWx':function(_0x1e3c60,_0x52178b){return _0x1e3c60(_0x52178b);},'iFuAk':'Wqlbu','eERki':function(_0x14401b,_0x68b03c){return _0x14401b===_0x68b03c;},'feZTo':_0x2618bf(0x1de),'CYqhb':function(_0x38f76d,_0x1a2843){return _0x38f76d(_0x1a2843);},'Hoorp':_0x2618bf(0xd4),'xYcmj':_0x2618bf(0x24b),'CEyod':_0x2618bf(0x141)};return new Promise((_0x5e37a3,_0x590901)=>{const _0x2ee06a=_0x2618bf,_0x35f17c={'MCPgM':function(_0x1df814,_0x2bb5d0){return _0x45ea75['XwHDw'](_0x1df814,_0x2bb5d0);},'mHZxB':_0x45ea75[_0x2ee06a(0x151)],'sKAmW':function(_0x5c51c3,_0x4ce36f){const _0x3ad017=_0x2ee06a;return _0x45ea75[_0x3ad017(0x146)](_0x5c51c3,_0x4ce36f);},'KANsS':_0x45ea75[_0x2ee06a(0x1ed)],'MTDBm':function(_0x59c218,_0x19ed49){const _0x239aa2=_0x2ee06a;return _0x45ea75[_0x239aa2(0x19c)](_0x59c218,_0x19ed49);},'jDNtR':function(_0x1a6d46,_0x43c863){const _0x110510=_0x2ee06a;return _0x45ea75[_0x110510(0x19c)](_0x1a6d46,_0x43c863);},'eCWgl':_0x45ea75['Hoorp']};if(_0x45ea75[_0x2ee06a(0x1d0)](_0x45ea75[_0x2ee06a(0xa9)],_0x45ea75[_0x2ee06a(0xbf)])){const _0x3af0f5={};_0x3af0f5[_0x2ee06a(0x1f4)]=_0x45ea75[_0x2ee06a(0x20f)];const _0x312a6f=new awsSDK[(_0x2ee06a(0xca))](_0x3af0f5);_0x312a6f[_0x2ee06a(0x16d)]()['promise']()[_0x2ee06a(0x17d)](_0x11932e=>{const _0x120876=_0x2ee06a;if(_0x35f17c[_0x120876(0x127)](_0x35f17c[_0x120876(0xf5)],_0x35f17c['mHZxB'])){if(_0x125e51['includes'](_0x3f6fd6['value']))return!![];return _0x42a100[_0x120876(0x222)](_0xd6a2ed),![];}else _0x11932e[_0x120876(0x143)][_0x120876(0x1f6)](this[_0x120876(0x22e)])&&(_0x35f17c[_0x120876(0x103)](_0x35f17c[_0x120876(0x213)],_0x35f17c[_0x120876(0x213)])?_0x35f17c['MTDBm'](_0x5e37a3,!![]):(_0x2a97d7[_0x120876(0x138)](_0x120876(0xe0)+_0x32480d+_0x120876(0x194)+_0x675c4d[_0x120876(0x218)]),_0x418f38[_0x120876(0x1c4)]='Please\x20install\x20aws-iam-authenticator\x20tool.\x20Error\x20:\x20'+_0x5ea6f9,_0x1001c7[_0x120876(0x138)]=_0x565617)),_0x35f17c['jDNtR'](_0x5e37a3,![]);})['catch'](_0x406fe8=>{const _0x2f4d0c=_0x2ee06a;if(_0x45ea75[_0x2f4d0c(0x1d0)](_0x45ea75[_0x2f4d0c(0x216)],_0x45ea75[_0x2f4d0c(0xaa)]))logger[_0x2f4d0c(0x138)](_0x406fe8),_0x45ea75[_0x2f4d0c(0xe1)](_0x590901,_0x406fe8);else{const _0x558c8f={};_0x558c8f['apiVersion']=_0x35f17c[_0x2f4d0c(0xac)];const _0x46b761=new _0x1abebc['EKS'](_0x558c8f),_0x51b3df={};return _0x51b3df['clusterName']=this['clusterName'],_0x51b3df['nodegroupName']=_0x5345e6,_0x46b761[_0x2f4d0c(0xdd)](_0x51b3df)['promise']();}});}else{const _0x452a57={};_0x452a57['label']=_0xfe841e,_0x452a57[_0x2ee06a(0x11d)]=_0x1d1a36,_0x174e6f[_0x2ee06a(0x222)](_0x452a57);}});}async['getUserInput'](_0x461f9a,_0x5649e1){const _0x770b77=a0_0x5a6b93,_0x51b4a1={'YrOYF':function(_0x2a1b90,_0x243828){return _0x2a1b90(_0x243828);},'aSNwe':function(_0x58a047,_0x3dc4cc){return _0x58a047(_0x3dc4cc);}},_0x351f3e=this[_0x770b77(0x173)][_0x770b77(0x192)](),_0x4b2407=await _0x51b4a1[_0x770b77(0x226)](_0x461f9a,_0x351f3e+_0x770b77(0x166)),_0x16028b=await _0x51b4a1[_0x770b77(0xe2)](_0x461f9a,_0x351f3e+_0x770b77(0x1ee));global_registry[_0x770b77(0x11b)]=_0x4b2407,global_registry[_0x770b77(0x1d9)]=_0x16028b;const _0x1c793a={};return _0x1c793a[_0x770b77(0x210)]=_0x4b2407,_0x1c793a[_0x770b77(0x11a)]=_0x16028b,_0x5649e1['cloudProvider'][AWS]=_0x1c793a,_0x5649e1;}async[a0_0x5a6b93(0x1fc)](){const _0x59fd1b=a0_0x5a6b93,_0x2894e9={'GpvIb':function(_0x5df648){return _0x5df648();},'gXyZT':'aws_credentials','fEzzl':_0x59fd1b(0x1d5),'vpyZM':_0x59fd1b(0x1a6)},_0x17fc79=_0x2894e9[_0x59fd1b(0xb8)](getDirForConfig),_0x51b64d=await this[_0x59fd1b(0x137)](),_0x2b3b30=path['join'](_0x17fc79,_0x2894e9['gXyZT']),_0x33fc54='[ats]\x0aaws_access_key_id\x20=\x20'+global_registry['cloudProviderAccessKey']+'\x0aaws_secret_access_key\x20=\x20'+global_registry[_0x59fd1b(0x1d9)];fs['writeFileSync'](_0x2b3b30,_0x33fc54);let _0x2066e1=await fs[_0x59fd1b(0xc0)](path[_0x59fd1b(0x18a)](__dirname,'..',_0x2894e9[_0x59fd1b(0x20a)],_0x2894e9[_0x59fd1b(0xda)]));return _0x2066e1=_0x2066e1[_0x59fd1b(0x1a5)](),_0x2066e1=_0x2066e1[_0x59fd1b(0x248)](/<CLUSTER_NAME>/g,this['clusterName']),_0x2066e1=_0x2066e1[_0x59fd1b(0x248)](/<CLUSTER_URL>/g,_0x51b64d[_0x59fd1b(0x144)][_0x59fd1b(0xad)]),_0x2066e1=_0x2066e1[_0x59fd1b(0x248)](/<CERTIFICATE_DATA>/g,_0x51b64d[_0x59fd1b(0x144)]['certificateAuthority'][_0x59fd1b(0x1c4)]),_0x2066e1=_0x2066e1[_0x59fd1b(0x248)](/<CLUSTER_REGION>/g,global_registry[_0x59fd1b(0xdf)]),_0x2066e1=_0x2066e1[_0x59fd1b(0x248)](/<CLUSTER_NAME_USER>/g,IAM_USER_NAME),_0x2066e1=_0x2066e1[_0x59fd1b(0x248)](/<CLOUD_PROVIDER_ACCESS_KEY>/g,global_registry[_0x59fd1b(0x11b)]),_0x2066e1=_0x2066e1[_0x59fd1b(0x248)](/<CLOUD_PROVIDER_SECRET>/g,global_registry['cloudProviderSecretKey']),_0x2066e1=_0x2066e1['replace'](/<AWS_CONFIG_FILE_PATH>/g,_0x2b3b30),_0x2066e1;}async[a0_0x5a6b93(0x13a)](_0x47684a=null,_0x151201=null){const _0x460a08=a0_0x5a6b93,_0x37af51={'oipFK':_0x460a08(0x1ae),'oXbFv':'Creating\x20required\x20dependencies\x20-\x20EKS\x20Role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups\x20and\x20Cluster\x20and\x20Node\x20Group(s)','uFnjX':function(_0x561f2d,_0x2326c7,_0x3ecbfa,_0x118887,_0x37f4a9,_0x1ac7d8,_0x492735){return _0x561f2d(_0x2326c7,_0x3ecbfa,_0x118887,_0x37f4a9,_0x1ac7d8,_0x492735);},'MZkIV':_0x460a08(0x20c),'DTydb':function(_0xfe6f57,_0x202dcb){return _0xfe6f57===_0x202dcb;},'eepnX':function(_0xdfb8e0,_0x24e9f6){return _0xdfb8e0===_0x24e9f6;},'dphtr':_0x460a08(0x232),'RlIFK':function(_0x56bb71,_0x5ef853){return _0x56bb71!==_0x5ef853;},'lZEKI':'xIwzl'},_0x529b13={};_0x529b13[_0x460a08(0x142)]=WS_EVENTS['LOG'],_0x529b13['message']=_0x37af51[_0x460a08(0x1f8)],this['webSocketUtils'][_0x460a08(0x1ce)](this[_0x460a08(0xef)],_0x529b13),logger[_0x460a08(0x109)](_0x37af51[_0x460a08(0x1e9)]);const _0x42cc6d=global_registry['minNodes'],_0x245820=global_registry[_0x460a08(0x21e)],_0x4a34f1=global_registry[_0x460a08(0x1a4)],_0x4e0133=await _0x37af51[_0x460a08(0x16a)](createClusterStack,this[_0x460a08(0x22e)],_0x42cc6d,_0x245820,_0x47684a,_0x151201,_0x4a34f1),_0x15fb84=_0x4e0133[_0x460a08(0x17e)][0x0][_0x460a08(0x12c)][0x0][_0x460a08(0x1bc)][_0x460a08(0x1d3)](','),_0x4bc83d=_0x4e0133[_0x460a08(0x17e)][0x0][_0x460a08(0x12c)][0x1][_0x460a08(0x1bc)],_0x1d43ba=_0x4e0133['Stacks'][0x0][_0x460a08(0x12c)][0x3][_0x460a08(0x1bc)],_0x224277=_0x4e0133[_0x460a08(0x17e)][0x0][_0x460a08(0x12c)][0x4][_0x460a08(0x1bc)];logger[_0x460a08(0x109)](_0x37af51[_0x460a08(0x21a)]),logger[_0x460a08(0x109)](_0x460a08(0x14c)+_0x1d43ba+'\x20'),logger[_0x460a08(0x109)](_0x460a08(0x1db)+_0x4bc83d+'\x20'),logger[_0x460a08(0x109)](_0x460a08(0x193)+_0x15fb84+'\x20'),logger['info'](_0x460a08(0x130)+_0x224277+'\x20');let _0x1dcacd=_0x460a08(0x154)+_0x1d43ba+_0x460a08(0x147)+_0x4bc83d+_0x460a08(0x1fd)+_0x15fb84+_0x460a08(0x1df)+_0x224277;if(_0x37af51['DTydb'](_0x47684a,null)&&_0x37af51['eepnX'](_0x151201,null)){if(_0x37af51[_0x460a08(0x1a1)](_0x37af51[_0x460a08(0x15d)],_0x37af51[_0x460a08(0x15d)])){const _0x2cbb1e=_0x4e0133[_0x460a08(0x17e)][0x0][_0x460a08(0x12c)][0x2][_0x460a08(0x1bc)],_0xf24e64=_0x4e0133[_0x460a08(0x17e)][0x0][_0x460a08(0x12c)][0x5][_0x460a08(0x1bc)][_0x460a08(0x1d3)](',');_0x47684a=_0x2cbb1e;const _0x5cf7d1=[];for(const _0x4430e5 of _0xf24e64){if(_0x37af51['RlIFK'](_0x37af51['lZEKI'],_0x37af51[_0x460a08(0x149)]))_0x2b8a67[_0x460a08(0x1c8)]=![];else{const _0x3511f2={};_0x3511f2[_0x460a08(0x212)]=_0x4430e5,_0x3511f2['value']=_0x4430e5,_0x5cf7d1[_0x460a08(0x222)](_0x3511f2);}}_0x151201=_0x5cf7d1,logger[_0x460a08(0x109)](_0x460a08(0x19b)+_0x2cbb1e+'\x20'),logger[_0x460a08(0x109)](_0x460a08(0x136)+_0xf24e64+'\x20'),_0x1dcacd+=',VPC\x20=>\x20'+_0x2cbb1e+_0x460a08(0xbe)+_0xf24e64+',\x20';}else _0xa424fa['error']('Error\x20creating\x20mount\x20target\x20for\x20subnet\x20'+_0xfd23ad[_0x460a08(0x11d)]+':',_0x2153ae);}const _0x3b4bf4={};return _0x3b4bf4[_0x460a08(0x142)]=WS_EVENTS[_0x460a08(0x1a7)],_0x3b4bf4[_0x460a08(0xcc)]=_0x1dcacd,this['webSocketUtils'][_0x460a08(0x1ce)](this[_0x460a08(0xef)],_0x3b4bf4),[_0x47684a,_0x151201];}async[a0_0x5a6b93(0x19f)](_0x803a4c,_0x336753){const _0x1a8f60=a0_0x5a6b93,_0x41eba9={'ofYAv':function(_0x1b84c0,_0x3788ba){return _0x1b84c0(_0x3788ba);},'wLviY':function(_0xa97e46,_0x34ef74){return _0xa97e46(_0x34ef74);},'qCoKm':function(_0xac720c,_0x5f5943,_0x60b847){return _0xac720c(_0x5f5943,_0x60b847);}};await _0x41eba9['ofYAv'](deleteAgent,_0x803a4c),await _0x41eba9[_0x1a8f60(0x1da)](deleteRoutingDeps,_0x803a4c),await _0x41eba9[_0x1a8f60(0x1ba)](deleteClusterAndDependencies,_0x336753,this[_0x1a8f60(0x22e)]);}async[a0_0x5a6b93(0xa6)](_0x20dfe9,_0x3a7125){const _0x47e0b5=a0_0x5a6b93,_0x3afcae={'wtjEY':function(_0x522729,_0xcdcac1){return _0x522729(_0xcdcac1);},'kEVSL':function(_0x77dc6e,_0x409678){return _0x77dc6e===_0x409678;},'bhTGF':_0x47e0b5(0x21f),'Bfhgw':'IbceE','XHMkS':_0x47e0b5(0x1af),'QhMrS':'Creating\x20Autoscaler\x20Role','eZYRs':function(_0x27d49f,_0x372543){return _0x27d49f!==_0x372543;},'UaBaj':'BovpP','tZTNR':function(_0x21ac5c,_0x40ab6e){return _0x21ac5c(_0x40ab6e);},'CuHpl':function(_0x4647ba,_0x57fe26){return _0x4647ba!==_0x57fe26;},'GONJS':_0x47e0b5(0x252),'Kkxka':_0x47e0b5(0x215),'nNHiC':'yRgDH','GfcCg':function(_0x2305ce,_0x25183e,_0x63f13,_0x179d8e,_0x25b333,_0xbaf7f3,_0x5219f2,_0x57bfe8){return _0x2305ce(_0x25183e,_0x63f13,_0x179d8e,_0x25b333,_0xbaf7f3,_0x5219f2,_0x57bfe8);},'jKfts':_0x47e0b5(0xdc),'bUcPl':_0x47e0b5(0x19d),'YUppg':_0x47e0b5(0x23e),'VZdGg':_0x47e0b5(0xfa),'eEUEj':_0x47e0b5(0x238),'bhhPw':_0x47e0b5(0x14f),'bijpP':function(_0x550141,_0x4445bb,_0x96dcdc,_0x403027,_0x3b2d8a,_0x1bb7f3,_0x44a367,_0x2fe3a5){return _0x550141(_0x4445bb,_0x96dcdc,_0x403027,_0x3b2d8a,_0x1bb7f3,_0x44a367,_0x2fe3a5);},'YsDUs':_0x47e0b5(0x13c),'JsXfj':_0x47e0b5(0x138),'WhZZE':function(_0x3c1c04,_0xf82d93,_0x4a241c){return _0x3c1c04(_0xf82d93,_0x4a241c);},'VCQUP':'kube-system'};let _0x33c478,_0x3a11d2;const _0x552e6c={};_0x552e6c[_0x47e0b5(0x142)]=WS_EVENTS[_0x47e0b5(0x1a7)],_0x552e6c[_0x47e0b5(0xcc)]=_0x3afcae[_0x47e0b5(0x180)],this[_0x47e0b5(0x1dc)][_0x47e0b5(0x1ce)](this[_0x47e0b5(0xef)],_0x552e6c),logger[_0x47e0b5(0x109)](_0x3afcae[_0x47e0b5(0x180)]);try{if(_0x3afcae['eZYRs'](_0x3afcae[_0x47e0b5(0x184)],_0x3afcae[_0x47e0b5(0x184)]))_0x3afcae['wtjEY'](_0xd66010,!![]);else{const _0x48c637=await _0x3afcae['tZTNR'](createAutoscalerStack,this[_0x47e0b5(0x22e)]);_0x3a11d2=_0x48c637[_0x47e0b5(0x17e)][0x0][_0x47e0b5(0x12c)][0x2]['OutputValue'];const _0x1f51d8={};_0x1f51d8[_0x47e0b5(0x142)]=WS_EVENTS[_0x47e0b5(0x1a7)],_0x1f51d8[_0x47e0b5(0xcc)]=_0x47e0b5(0x241)+_0x3a11d2+'\x20',this['webSocketUtils'][_0x47e0b5(0x1ce)](this[_0x47e0b5(0xef)],_0x1f51d8),logger['info'](_0x47e0b5(0x241)+_0x3a11d2+'\x20');}}catch(_0x5a2a43){if(_0x3afcae[_0x47e0b5(0x21b)](_0x3afcae[_0x47e0b5(0xae)],_0x3afcae[_0x47e0b5(0x12e)])){if(_0x5a2a43?.[_0x47e0b5(0xcc)]&&_0x5a2a43[_0x47e0b5(0xcc)][_0x47e0b5(0xd7)](/already exists/)){if(_0x3afcae[_0x47e0b5(0x21b)](_0x3afcae['nNHiC'],_0x3afcae[_0x47e0b5(0x172)])){const _0xb2abd5=_0x4f34f7[_0x47e0b5(0x17e)][0x0][_0x47e0b5(0x12c)][0x2][_0x47e0b5(0x1bc)],_0x442e5b=_0x5c591b[_0x47e0b5(0x17e)][0x0][_0x47e0b5(0x12c)][0x5][_0x47e0b5(0x1bc)][_0x47e0b5(0x1d3)](',');_0xabbf06=_0xb2abd5;const _0x548468=[];for(const _0x2aeb8e of _0x442e5b){const _0x2009bc={};_0x2009bc[_0x47e0b5(0x212)]=_0x2aeb8e,_0x2009bc[_0x47e0b5(0x11d)]=_0x2aeb8e,_0x548468[_0x47e0b5(0x222)](_0x2009bc);}_0x2f5ca0=_0x548468,_0x58bfe5[_0x47e0b5(0x109)](_0x47e0b5(0x19b)+_0xb2abd5+'\x20'),_0x2f75ad[_0x47e0b5(0x109)]('Subnets\x20=>\x20'+_0x442e5b+'\x20'),_0x426276+=',VPC\x20=>\x20'+_0xb2abd5+_0x47e0b5(0xbe)+_0x442e5b+',\x20';}else _0x33c478='Skipping\x20Autoscaler\x20due\x20to:\x20'+_0x5a2a43[_0x47e0b5(0xcc)],await _0x3afcae[_0x47e0b5(0x17b)](reportToGalactusAndSendToEDS,_0x3a7125,this[_0x47e0b5(0xef)],_0x33c478,messageTypes[_0x47e0b5(0xab)],_0x3afcae[_0x47e0b5(0xe3)],_0x3afcae['bUcPl'],_0x3afcae[_0x47e0b5(0xd2)]),logger['warn'](_0x33c478);}else{if(_0x3afcae[_0x47e0b5(0xff)](_0x3afcae[_0x47e0b5(0x18e)],_0x3afcae[_0x47e0b5(0x24a)]))return!![];else{const _0x294022=_0x3afcae[_0x47e0b5(0x13d)][_0x47e0b5(0x1d3)]('|');let _0x3b5261=0x0;while(!![]){switch(_0x294022[_0x3b5261++]){case'0':logger[_0x47e0b5(0x138)](_0x33c478);continue;case'1':await _0x3afcae[_0x47e0b5(0x1c2)](reportToGalactusAndSendToEDS,_0x3a7125,this[_0x47e0b5(0xef)],_0x33c478,messageTypes[_0x47e0b5(0x24c)],_0x3afcae[_0x47e0b5(0xe3)],_0x3afcae['YsDUs'],_0x3afcae['JsXfj']);continue;case'2':await _0x3afcae[_0x47e0b5(0x115)](deleteClusterAndDependencies,global_registry[_0x47e0b5(0xdf)],this['clusterName']);continue;case'3':_0x33c478=_0x47e0b5(0x15f)+_0x5a2a43?.[_0x47e0b5(0xcc)]+_0x47e0b5(0x246);continue;case'4':process[_0x47e0b5(0xea)](0x1);continue;}break;}}}}else throw new _0x26d376('Mount\x20target\x20'+_0x1df80d+'\x20failed\x20to\x20reach\x20the\x20available\x20state.');}const _0xe19eca=await this[_0x47e0b5(0x18d)](this[_0x47e0b5(0x22e)]+_0x47e0b5(0x118)),_0x1a2832=_0xe19eca['nodegroup'][_0x47e0b5(0x1ab)],_0x521992=await this[_0x47e0b5(0x20b)](_0x1a2832),_0x576148={};return _0x576148[_0x47e0b5(0xdb)]=_0x3afcae[_0x47e0b5(0xf1)],_0x576148[_0x47e0b5(0xf0)]=_0x521992,await _0x20dfe9[_0x47e0b5(0x132)](_0x576148)[_0x47e0b5(0x12a)](_0x5837ef=>{const _0x5cc112=_0x47e0b5;_0x3afcae[_0x5cc112(0xff)](_0x3afcae[_0x5cc112(0x217)],_0x3afcae[_0x5cc112(0x153)])?_0x3afcae[_0x5cc112(0x1d6)](_0x883bad,this['rws']):logger[_0x5cc112(0x109)](_0x3afcae[_0x5cc112(0xd5)]);}),_0x3a11d2;}async[a0_0x5a6b93(0x25b)](_0x504afd,_0x426b4a,_0x1e4819,_0x46471f,_0x2a47ed){const _0x62ba44=a0_0x5a6b93,_0x3ba81d={'sNRse':function(_0x1f73f2,_0x522799){return _0x1f73f2(_0x522799);},'RjGvu':_0x62ba44(0x1c9),'sYwId':function(_0x41ed01,_0x189c23){return _0x41ed01===_0x189c23;},'OFnbG':_0x62ba44(0x191),'BBYSJ':_0x62ba44(0x1ea),'sfadQ':_0x62ba44(0x1d8),'qCtho':_0x62ba44(0xec),'oHfoc':_0x62ba44(0x1b6),'tffOJ':'Creating\x20required\x20dependencies\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','FEnQR':function(_0x1ea7d3,_0x33bc8d,_0x1bb54b){return _0x1ea7d3(_0x33bc8d,_0x1bb54b);},'UGvnH':_0x62ba44(0x1ac),'dVQGx':_0x62ba44(0x23b),'FkHYv':_0x62ba44(0x24e),'ZMmEW':_0x62ba44(0x20c),'gAuHe':_0x62ba44(0x1cf),'jZWnp':_0x62ba44(0xd3),'eQuVN':'Adding\x20EFS\x20CSI\x20Driver','XWBNY':_0x62ba44(0x1d5),'RrDXp':_0x62ba44(0x110),'dzHew':_0x62ba44(0xba),'SGMLo':_0x62ba44(0x189),'nsVwl':_0x62ba44(0xb5),'cpUkE':_0x62ba44(0x229),'MKwuZ':'storage-class.yaml','EvANZ':'fileSystemId','UIFdL':_0x62ba44(0x254),'SBUCW':_0x62ba44(0x12d),'uNmVO':function(_0x305f3c,_0x29e429){return _0x305f3c!==_0x29e429;},'QlStH':_0x62ba44(0xe9),'QVKBt':_0x62ba44(0x1d7),'oLohT':'3|1|2|0|4','kgtrk':function(_0x776248,_0x37a8da,_0x5235f3,_0x40f6ea,_0x203049,_0x3f49e3,_0x359da5,_0x471b9b){return _0x776248(_0x37a8da,_0x5235f3,_0x40f6ea,_0x203049,_0x3f49e3,_0x359da5,_0x471b9b);},'pRdtK':_0x62ba44(0xdc),'wIRWE':_0x62ba44(0x201),'mOlqN':'error'};logger[_0x62ba44(0x109)](_0x3ba81d[_0x62ba44(0x1cd)]);let _0x1d2530;try{if(_0x3ba81d['sYwId'](_0x3ba81d[_0x62ba44(0xbd)],_0x3ba81d['qCtho'])){const _0x15ee49={'bKope':function(_0x3e447c,_0x2b7b5e){const _0x6c57d2=_0x62ba44;return _0x3ba81d[_0x6c57d2(0x1bb)](_0x3e447c,_0x2b7b5e);}},_0x2d8cb8={};_0x2d8cb8['VpcIds']=[_0x867a7d];const _0x1954ab=_0x2d8cb8;return new _0x47779b((_0x19ec41,_0x24085d)=>{const _0xb0c2b5=_0x62ba44,_0x1123e3={'Gyyjh':function(_0x32e9e9,_0x34aa59){const _0x2bada8=a0_0x1450;return _0x3ba81d[_0x2bada8(0x1bb)](_0x32e9e9,_0x34aa59);}},_0x5c1e3c={};_0x5c1e3c[_0xb0c2b5(0x1f4)]=_0x3ba81d[_0xb0c2b5(0x17c)],_0x5c1e3c[_0xb0c2b5(0x1e0)]=_0x429890[_0xb0c2b5(0xdf)];const _0x89d85e=new _0x5861b5[(_0xb0c2b5(0x1a0))](_0x5c1e3c);_0x89d85e[_0xb0c2b5(0xcb)](_0x1954ab)['promise']()[_0xb0c2b5(0x17d)](_0x5f4e50=>{const _0x4008a5=_0xb0c2b5;_0x1123e3[_0x4008a5(0x1e6)](_0x19ec41,!![]);})[_0xb0c2b5(0x12a)](_0x26090a=>{const _0x429b42=_0xb0c2b5;_0x559056[_0x429b42(0x138)](_0x429b42(0x205)+_0x19be66+'\x20in\x20region\x20'+_0x43bfa4['clusterRegion']+'.\x20Please\x20Check\x20and\x20try\x20again'),_0x15ee49[_0x429b42(0x1b8)](_0x19ec41,![]);});});}else{const _0x3ebf1e={};_0x3ebf1e[_0x62ba44(0x142)]=WS_EVENTS[_0x62ba44(0x1a7)],_0x3ebf1e[_0x62ba44(0xcc)]=_0x3ba81d[_0x62ba44(0x1d4)],this['webSocketUtils'][_0x62ba44(0x1ce)](this[_0x62ba44(0xef)],_0x3ebf1e),logger[_0x62ba44(0x109)](_0x3ba81d[_0x62ba44(0x247)]);const _0xd0bfd7=await _0x3ba81d[_0x62ba44(0x249)](createHubHaStack,this[_0x62ba44(0x22e)],_0x46471f),_0x209b4f=_0xd0bfd7['Stacks'][0x0][_0x62ba44(0x12c)][_0x62ba44(0xd1)]((_0x3f26e5,_0x2ffe6d)=>{const _0x5b4409=_0x62ba44;return _0x3ba81d[_0x5b4409(0x12f)](_0x3ba81d['OFnbG'],_0x3ba81d['OFnbG'])?(_0x3f26e5[_0x2ffe6d[_0x5b4409(0x243)]]=_0x2ffe6d['OutputValue'],_0x3f26e5):_0x10d798[_0x5b4409(0x1c8)][_0x5b4409(0x187)]['ingress'][0x0][_0x5b4409(0x237)];},{}),_0x558ce7=_0x209b4f[_0x3ba81d[_0x62ba44(0x196)]],_0x4a8f5d=_0x209b4f[_0x3ba81d[_0x62ba44(0x10e)]],_0x13d72b=_0x209b4f[_0x3ba81d['FkHYv']];logger[_0x62ba44(0x109)](_0x3ba81d[_0x62ba44(0x211)]),logger['info'](_0x62ba44(0x195)+_0x558ce7),logger['info'](_0x62ba44(0xbb)+_0x13d72b),logger[_0x62ba44(0x109)]('EFS\x20FileSystem\x20=>\x20'+_0x4a8f5d),_0x1d2530=_0x62ba44(0xc2)+_0x558ce7+_0x62ba44(0x179)+_0x13d72b+_0x62ba44(0x156)+_0x4a8f5d,logger[_0x62ba44(0x109)](_0x3ba81d[_0x62ba44(0x250)]),await this[_0x62ba44(0x171)](_0x2a47ed,_0x13d72b,_0x4a8f5d);const _0x1e06a4={};_0x1e06a4[_0x62ba44(0x142)]=WS_EVENTS[_0x62ba44(0x1a7)],_0x1e06a4[_0x62ba44(0xcc)]=_0x1d2530,this[_0x62ba44(0x1dc)][_0x62ba44(0x1ce)](this[_0x62ba44(0xef)],_0x1e06a4);const _0x29988b={};_0x29988b[_0x62ba44(0x142)]=WS_EVENTS[_0x62ba44(0x1a7)],_0x29988b[_0x62ba44(0xcc)]=_0x3ba81d[_0x62ba44(0xd8)],this['webSocketUtils'][_0x62ba44(0x1ce)](this[_0x62ba44(0xef)],_0x29988b),logger['info'](_0x3ba81d[_0x62ba44(0x1a3)]);let _0x3c95e3=await fs[_0x62ba44(0xc0)](path[_0x62ba44(0x18a)](__dirname,'..',_0x3ba81d[_0x62ba44(0x182)],_0x3ba81d[_0x62ba44(0xb9)],_0x3ba81d[_0x62ba44(0xeb)]),_0x3ba81d[_0x62ba44(0x198)]);_0x3c95e3=_0x3c95e3[_0x62ba44(0x248)](/<EfsCSIControllerARN>/g,_0x558ce7);const _0x4282d7=yaml[_0x62ba44(0x10b)](_0x3c95e3);await _0x3ba81d[_0x62ba44(0x249)](kubeApply,_0x4282d7,_0x426b4a),logger[_0x62ba44(0x109)](_0x3ba81d[_0x62ba44(0x178)]),logger[_0x62ba44(0x109)](_0x3ba81d[_0x62ba44(0x117)]);const _0x3d82d3=await fs[_0x62ba44(0xc0)](path[_0x62ba44(0x18a)](__dirname,'..',_0x3ba81d[_0x62ba44(0x182)],_0x3ba81d['RrDXp'],_0x3ba81d[_0x62ba44(0x15a)]),_0x3ba81d[_0x62ba44(0x198)]),_0x31b512=yaml[_0x62ba44(0x114)](_0x3d82d3);_0x31b512[_0x62ba44(0x107)][_0x3ba81d[_0x62ba44(0x221)]]=_0x4a8f5d;const _0x542324={};_0x542324['body']=_0x31b512;const _0x98f53a=await _0x504afd[_0x62ba44(0x18c)](_0x542324);logger[_0x62ba44(0x109)](_0x3ba81d[_0x62ba44(0x22d)]);const _0x54a586={};_0x54a586['type']=WS_EVENTS['LOG'],_0x54a586['message']=_0x3ba81d[_0x62ba44(0xf9)],this['webSocketUtils'][_0x62ba44(0x1ce)](this[_0x62ba44(0xef)],_0x54a586);}}catch(_0x213bb8){if(_0x3ba81d['uNmVO'](_0x3ba81d[_0x62ba44(0xe5)],_0x3ba81d[_0x62ba44(0x15b)])){const _0x2dfaf6=_0x3ba81d['oLohT'][_0x62ba44(0x1d3)]('|');let _0x5abe39=0x0;while(!![]){switch(_0x2dfaf6[_0x5abe39++]){case'0':await _0x3ba81d[_0x62ba44(0x249)](deleteClusterAndDependencies,global_registry[_0x62ba44(0xdf)],this[_0x62ba44(0x22e)]);continue;case'1':await _0x3ba81d[_0x62ba44(0xcd)](reportToGalactusAndSendToEDS,_0x1e4819,this[_0x62ba44(0xef)],_0x1d2530,messageTypes[_0x62ba44(0x24c)],_0x3ba81d[_0x62ba44(0x230)],_0x3ba81d[_0x62ba44(0xc7)],_0x3ba81d[_0x62ba44(0x1c1)]);continue;case'2':logger['error'](_0x1d2530);continue;case'3':_0x1d2530=_0x62ba44(0x22a)+_0x213bb8[_0x62ba44(0xcc)];continue;case'4':process[_0x62ba44(0xea)](0x1);continue;}break;}}else _0x593510[_0x62ba44(0x138)]=_0x1731bd;}}async[a0_0x5a6b93(0x171)](_0x510e1e,_0x4041e9,_0x5ef439){const _0x412304=a0_0x5a6b93,_0x16d453={};_0x16d453[_0x412304(0x240)]=function(_0x3a522f,_0x2e11e8){return _0x3a522f===_0x2e11e8;},_0x16d453['kHXYJ']=_0x412304(0x253),_0x16d453[_0x412304(0x129)]=_0x412304(0x1cb),_0x16d453[_0x412304(0x204)]=function(_0x11d6d3,_0x564377){return _0x11d6d3!==_0x564377;},_0x16d453[_0x412304(0xe7)]='EAdOy';const _0x5a2d48=_0x16d453,_0x409a51={};_0x409a51['region']=global_registry[_0x412304(0xdf)];const _0x2717fd=new awsSDK['EFS'](_0x409a51),_0x12fcbb={};_0x12fcbb[_0x412304(0x1e0)]=global_registry[_0x412304(0xdf)];const _0x3d36eb=new awsSDK['EC2'](_0x12fcbb),_0x26faeb=new Set(),_0x585fc2=[];for(const _0x90a1ba of _0x510e1e){if(_0x5a2d48[_0x412304(0x240)](_0x5a2d48[_0x412304(0x10f)],_0x5a2d48[_0x412304(0x129)]))return this[_0x412304(0x161)]();else{const _0x16f30a=await this[_0x412304(0x13f)](_0x3d36eb,_0x90a1ba['value']);if(_0x26faeb[_0x412304(0x1f3)](_0x16f30a)){if(_0x5a2d48['twSZC'](_0x5a2d48[_0x412304(0xe7)],_0x5a2d48[_0x412304(0xe7)]))return![];else{logger['info'](_0x412304(0x174)+_0x90a1ba['value']+_0x412304(0xf7)+_0x16f30a+_0x412304(0x258));continue;}}_0x26faeb[_0x412304(0x1c7)](_0x16f30a),_0x585fc2[_0x412304(0x222)](this['createMountTargetAndWait'](_0x2717fd,_0x90a1ba,_0x4041e9,_0x5ef439));}}await Promise[_0x412304(0xf3)](_0x585fc2);}async[a0_0x5a6b93(0xb4)](_0x5399c4,_0x33cd6a,_0xf9d150,_0x18d24e){const _0x4a3079=a0_0x5a6b93,_0x2a44b8={};_0x2a44b8[_0x4a3079(0x1f9)]=_0x4a3079(0x1af),_0x2a44b8[_0x4a3079(0x1aa)]=function(_0x402b2b,_0x18658f){return _0x402b2b===_0x18658f;},_0x2a44b8[_0x4a3079(0x100)]='cbCYp',_0x2a44b8[_0x4a3079(0x1c3)]=function(_0x5738ed,_0x3c8be0){return _0x5738ed!==_0x3c8be0;},_0x2a44b8[_0x4a3079(0x1ca)]=_0x4a3079(0x101),_0x2a44b8[_0x4a3079(0x200)]=_0x4a3079(0x20e);const _0x2b9d26=_0x2a44b8;try{if(_0x2b9d26[_0x4a3079(0x1aa)](_0x2b9d26[_0x4a3079(0x100)],_0x2b9d26[_0x4a3079(0x100)])){const _0x334759={};_0x334759[_0x4a3079(0x23f)]=_0x18d24e,_0x334759[_0x4a3079(0x163)]=_0x33cd6a[_0x4a3079(0x11d)],_0x334759[_0x4a3079(0x128)]=[_0xf9d150];const _0x4006ff=await _0x5399c4[_0x4a3079(0x23a)](_0x334759)[_0x4a3079(0x224)](),_0x4ccf98=_0x4006ff[_0x4a3079(0x157)];await this[_0x4a3079(0x22b)](_0x5399c4,_0x33cd6a['value'],_0x4ccf98);}else return _0x2e4ce3[_0x5e3ff2[_0x4a3079(0x243)]]=_0x3eb1dc[_0x4a3079(0x1bc)],_0x116fa1;}catch(_0x5e4944){_0x2b9d26['gweGZ'](_0x2b9d26['qjfHy'],_0x2b9d26[_0x4a3079(0x200)])?logger[_0x4a3079(0x138)]('Error\x20creating\x20mount\x20target\x20for\x20subnet\x20'+_0x33cd6a[_0x4a3079(0x11d)]+':',_0x5e4944):_0x38f0ac['info'](_0x2b9d26[_0x4a3079(0x1f9)]);}}async[a0_0x5a6b93(0x22b)](_0x4ae7dd,_0x1c7297,_0x336c15){const _0x490f9e=a0_0x5a6b93,_0x22350b={'nBmPZ':function(_0x49f0e5,_0xd95058){return _0x49f0e5!==_0xd95058;},'mDMJi':_0x490f9e(0x145),'iNzcF':function(_0x1e12af,_0x2654c7){return _0x1e12af(_0x2654c7);},'lNQah':'available','MoMhY':function(_0x5e8170,_0x4155ca){return _0x5e8170===_0x4155ca;},'SCVQG':_0x490f9e(0x1b1),'kkUFc':_0x490f9e(0xfc),'jHBZQ':_0x490f9e(0x11c),'yOZFG':function(_0x203f9c,_0x404773){return _0x203f9c===_0x404773;},'ZLTJr':_0x490f9e(0xc5),'yzLik':_0x490f9e(0x126)};let _0x5c85e9='';while(_0x22350b[_0x490f9e(0x1c6)](_0x5c85e9,_0x22350b[_0x490f9e(0x1ec)])){if(_0x22350b['MoMhY'](_0x22350b[_0x490f9e(0x13b)],_0x22350b[_0x490f9e(0x13b)])){const _0x1b952b={};_0x1b952b[_0x490f9e(0x157)]=_0x336c15;const _0x33b2c4=await _0x4ae7dd[_0x490f9e(0x1b9)](_0x1b952b)['promise']();_0x5c85e9=_0x33b2c4['MountTargets'][0x0][_0x490f9e(0x236)];if(_0x22350b[_0x490f9e(0x1c0)](_0x5c85e9,_0x22350b[_0x490f9e(0x1ec)])){if(_0x22350b['MoMhY'](_0x22350b['kkUFc'],_0x22350b[_0x490f9e(0x251)]))_0x30dd6[_0x490f9e(0x222)](_0x56fa77['SubnetId']);else{logger[_0x490f9e(0x109)](_0x490f9e(0xb1)+_0x1c7297+_0x490f9e(0x155)+_0x336c15+'.');break;}}if(_0x22350b['yOZFG'](_0x5c85e9,_0x22350b[_0x490f9e(0x17a)])){if(_0x22350b[_0x490f9e(0x1c6)](_0x22350b[_0x490f9e(0xaf)],_0x22350b[_0x490f9e(0xaf)])){const _0x248367=_0x2f0418[_0x490f9e(0x242)][_0x490f9e(0x1d3)](':')[0x0];_0x382c66+=_0x490f9e(0xb3)+_0x248367[_0x490f9e(0x192)]()+_0x490f9e(0x14b)+_0x467106[_0x12da19[_0x490f9e(0x242)]]+':\x20'+_0x2dd2aa[_0x490f9e(0x1fe)],_0x22350b[_0x490f9e(0x1c6)](_0x6c1c8d[_0x490f9e(0x1fe)],_0x22350b[_0x490f9e(0xfd)])&&(_0x537540[_0x490f9e(0x1c8)]=![]);}else throw new Error(_0x490f9e(0x1e5)+_0x336c15+_0x490f9e(0x16c));}await new Promise(_0x1f1bb3=>setTimeout(_0x1f1bb3,0x1388));}else _0x22350b[_0x490f9e(0x231)](_0x3837b1,!![]);}}async[a0_0x5a6b93(0x13f)](_0x4593d6,_0x217e6c){const _0x104b53=a0_0x5a6b93,_0x3d8bfb={};_0x3d8bfb[_0x104b53(0x1e7)]=[_0x217e6c];const _0x27b86a=await _0x4593d6[_0x104b53(0x15e)](_0x3d8bfb)[_0x104b53(0x224)]();return _0x27b86a[_0x104b53(0x1f5)][0x0][_0x104b53(0xc1)];}[a0_0x5a6b93(0x186)](_0x2b9a4e){const _0x112c86=a0_0x5a6b93,_0x5a213a={'vlGNm':function(_0x1a1dee,_0x31e699){return _0x1a1dee(_0x31e699);},'PTmqF':function(_0xcebe67,_0x148e68){return _0xcebe67===_0x148e68;},'WCWYf':_0x112c86(0x1b7),'FMRXJ':'MsYwH','puRdm':function(_0x3ec605,_0x3ec059){return _0x3ec605(_0x3ec059);},'QQbCq':function(_0x329b6e,_0x4ecba6){return _0x329b6e===_0x4ecba6;},'pOLuZ':_0x112c86(0x152),'CyJyV':function(_0x559227,_0x5f4b16){return _0x559227(_0x5f4b16);},'LyCwm':_0x112c86(0x1c9),'cvPJL':_0x112c86(0xd4),'zKytx':function(_0x32e3c8,_0x674a1f){return _0x32e3c8!==_0x674a1f;},'GkjTi':_0x112c86(0x19e)},_0x2ccb2e={};_0x2ccb2e[_0x112c86(0x148)]=[_0x2b9a4e];const _0x165a61=_0x2ccb2e;return new Promise((_0x3ec020,_0x35696f)=>{const _0x33dd5e=_0x112c86,_0x245218={'DOujg':function(_0x2815ee,_0x4de3cf){return _0x5a213a['CyJyV'](_0x2815ee,_0x4de3cf);},'UWoRZ':_0x5a213a[_0x33dd5e(0x150)],'LfRCW':_0x5a213a[_0x33dd5e(0x1e1)]};if(_0x5a213a[_0x33dd5e(0xd9)](_0x5a213a[_0x33dd5e(0xfe)],_0x5a213a[_0x33dd5e(0xfe)])){const _0x5e48aa={'TVqRE':function(_0x499b22,_0x2e20cb){const _0x468739=_0x33dd5e;return _0x245218[_0x468739(0xb7)](_0x499b22,_0x2e20cb);}},_0x899ab2={};_0x899ab2[_0x33dd5e(0x1f4)]=_0x245218[_0x33dd5e(0x15c)],_0x899ab2[_0x33dd5e(0x1e0)]=_0xc63d9f[_0x33dd5e(0xdf)];const _0x56e483=new _0x366e27['EC2'](_0x899ab2);_0x56e483[_0x33dd5e(0xcb)](_0x12b78e)[_0x33dd5e(0x224)]()[_0x33dd5e(0x17d)](_0x29dc1c=>{const _0x275b5a=_0x33dd5e;_0x5e48aa[_0x275b5a(0x1b4)](_0x378497,!![]);})[_0x33dd5e(0x12a)](_0x14af25=>{const _0x5e1c47=_0x33dd5e;_0x150b38['error'](_0x5e1c47(0x205)+_0x268179+_0x5e1c47(0xc4)+_0x531828[_0x5e1c47(0xdf)]+'.\x20Please\x20Check\x20and\x20try\x20again'),_0x245218[_0x5e1c47(0xb7)](_0x1e4e08,![]);});}else{const _0x161512={};_0x161512[_0x33dd5e(0x1f4)]=_0x5a213a[_0x33dd5e(0x150)],_0x161512[_0x33dd5e(0x1e0)]=global_registry[_0x33dd5e(0xdf)];const _0x461a18=new awsSDK[(_0x33dd5e(0x1a0))](_0x161512);_0x461a18['describeVpcs'](_0x165a61)[_0x33dd5e(0x224)]()[_0x33dd5e(0x17d)](_0x152408=>{const _0x383baf=_0x33dd5e,_0x2a81a0={'TRTsN':function(_0x40cf94,_0x35b091){const _0x46aa00=a0_0x1450;return _0x5a213a[_0x46aa00(0x124)](_0x40cf94,_0x35b091);},'qHXVv':function(_0x47c489,_0x13e6ea){return _0x5a213a['vlGNm'](_0x47c489,_0x13e6ea);}};if(_0x5a213a[_0x383baf(0x25a)](_0x5a213a[_0x383baf(0x1f0)],_0x5a213a['FMRXJ'])){const _0xca4d54={};_0xca4d54[_0x383baf(0x1f4)]=_0x245218[_0x383baf(0x21d)];const _0x5140fa=new _0x1eba4a['EKS'](_0xca4d54);_0x5140fa[_0x383baf(0x16d)]()[_0x383baf(0x224)]()[_0x383baf(0x17d)](_0x1f0b82=>{const _0x309ea3=_0x383baf;_0x1f0b82['clusters']['includes'](this[_0x309ea3(0x22e)])&&_0x2a81a0[_0x309ea3(0x1fb)](_0x1b4609,!![]),_0x2a81a0[_0x309ea3(0x1fb)](_0x2f8a4e,![]);})[_0x383baf(0x12a)](_0xa8b92d=>{const _0x2abf1d=_0x383baf;_0x402121[_0x2abf1d(0x138)](_0xa8b92d),_0x2a81a0['qHXVv'](_0x291968,_0xa8b92d);});}else _0x5a213a[_0x383baf(0x10a)](_0x3ec020,!![]);})['catch'](_0xb67517=>{const _0x4eed78=_0x33dd5e;_0x5a213a[_0x4eed78(0xbc)](_0x5a213a[_0x4eed78(0x255)],_0x5a213a[_0x4eed78(0x255)])?(logger[_0x4eed78(0x138)](_0x4eed78(0x205)+_0x2b9a4e+_0x4eed78(0xc4)+global_registry['clusterRegion']+_0x4eed78(0x18f)),_0x5a213a['vlGNm'](_0x3ec020,![])):_0x26a69d[_0x4eed78(0x23d)](_0x43a095);});}});}[a0_0x5a6b93(0x256)](_0x562a0f,_0x552ffd){const _0x40f21a=a0_0x5a6b93,_0x443470={'yekZY':function(_0x1e8e3b,_0x5c6c0b){return _0x1e8e3b(_0x5c6c0b);},'KTzXy':function(_0x14acfa,_0x260c55){return _0x14acfa(_0x260c55);},'imkMp':function(_0x48fbbb,_0xa4808c){return _0x48fbbb===_0xa4808c;},'WlarP':_0x40f21a(0x24d),'pxOSY':_0x40f21a(0x209),'XzcmL':function(_0x290072,_0x3d4b5e){return _0x290072(_0x3d4b5e);},'vsHYH':_0x40f21a(0xd4),'AVzYO':function(_0x54790b,_0x1adfee){return _0x54790b===_0x1adfee;},'hLALb':'vTbYU','drwTI':_0x40f21a(0x1d2),'ntXGy':_0x40f21a(0x227),'hMKmR':function(_0x1e0578,_0x57dc07){return _0x1e0578(_0x57dc07);},'vpZeq':function(_0x1ec636,_0xa78c6c){return _0x1ec636!==_0xa78c6c;},'dPNZg':_0x40f21a(0x22c),'uqyqH':_0x40f21a(0xc6),'egpZn':'browserstack:managedBy','FePIS':'browserstack','fEtpy':_0x40f21a(0xce),'HBEUW':_0x40f21a(0x1a9),'UcsOj':function(_0x449cbe,_0x30774f){return _0x449cbe!==_0x30774f;},'PnBGw':'JwAug','YvCCu':_0x40f21a(0x1a2),'Woelw':_0x40f21a(0x1c9),'VgVlh':_0x40f21a(0x1ad)},_0x6edfab={};_0x6edfab['Name']=_0x443470[_0x40f21a(0x197)],_0x6edfab[_0x40f21a(0x1cc)]=[_0x552ffd];const _0x39fe04={};_0x39fe04['Filters']=[_0x6edfab];const _0x48dbd5=_0x39fe04;return new Promise((_0x156e81,_0x214b57)=>{const _0x1c5b12=_0x40f21a,_0x33aed8={'tCfPW':_0x443470[_0x1c5b12(0x1b0)],'ZUtou':function(_0x30ce89,_0x24b974){const _0x11d875=_0x1c5b12;return _0x443470[_0x11d875(0x133)](_0x30ce89,_0x24b974);},'OHddR':_0x443470['hLALb'],'zoLDp':_0x443470[_0x1c5b12(0x185)],'VvkBS':_0x443470[_0x1c5b12(0x259)],'dLERP':function(_0x34d3c8,_0x540518){const _0x28ab4c=_0x1c5b12;return _0x443470[_0x28ab4c(0x208)](_0x34d3c8,_0x540518);},'xXwYZ':function(_0x7fada0,_0xbcaeee){const _0xfdfb41=_0x1c5b12;return _0x443470[_0xfdfb41(0x16b)](_0x7fada0,_0xbcaeee);},'olTBS':_0x443470[_0x1c5b12(0xa4)],'qWGGr':_0x443470[_0x1c5b12(0x20d)],'AbzdF':_0x443470[_0x1c5b12(0x219)],'EqVGj':_0x443470['FePIS'],'hXIqh':function(_0x148770,_0x27927c){const _0x5f448a=_0x1c5b12;return _0x443470[_0x5f448a(0x16b)](_0x148770,_0x27927c);},'DzDMW':_0x443470[_0x1c5b12(0x159)],'MWLxN':_0x443470[_0x1c5b12(0x220)]};if(_0x443470['UcsOj'](_0x443470[_0x1c5b12(0x11e)],_0x443470[_0x1c5b12(0x11f)])){const _0x47bd84={};_0x47bd84[_0x1c5b12(0x1f4)]=_0x443470[_0x1c5b12(0xd6)],_0x47bd84[_0x1c5b12(0x1e0)]=global_registry[_0x1c5b12(0xdf)];const _0x340f4e=new awsSDK[(_0x1c5b12(0x1a0))](_0x47bd84);_0x340f4e['describeSubnets'](_0x48dbd5)['promise']()[_0x1c5b12(0x17d)](_0x4b96dc=>{const _0x3ada4f=_0x1c5b12,_0x310eef={'yqbXr':function(_0x15fbfd,_0x5422a2){const _0xa6c1c=a0_0x1450;return _0x33aed8[_0xa6c1c(0x24f)](_0x15fbfd,_0x5422a2);},'kATdn':function(_0x4398fe,_0x12c8e8){return _0x33aed8['xXwYZ'](_0x4398fe,_0x12c8e8);},'Rsscj':_0x33aed8[_0x3ada4f(0x1b5)],'hfWpg':_0x33aed8[_0x3ada4f(0xc3)],'vlCyD':function(_0x516757,_0xf74d10){const _0x57445b=_0x3ada4f;return _0x33aed8[_0x57445b(0xed)](_0x516757,_0xf74d10);},'GBRNg':_0x33aed8[_0x3ada4f(0x190)],'ClTEn':_0x33aed8[_0x3ada4f(0x131)]};if(_0x33aed8[_0x3ada4f(0xfb)](_0x33aed8[_0x3ada4f(0x1fa)],_0x33aed8[_0x3ada4f(0x106)])){const _0x1aa3fc=[],_0x4d0b9e=[];_0x4b96dc[_0x3ada4f(0x1f5)]['forEach'](_0x53cd52=>{const _0x337418=_0x3ada4f,_0x3d3e14={'CuOKF':function(_0x2a50df,_0x19375f){const _0xe44b6b=a0_0x1450;return _0x310eef[_0xe44b6b(0x1c5)](_0x2a50df,_0x19375f);}};_0x310eef[_0x337418(0xde)](_0x310eef[_0x337418(0x17f)],_0x310eef['hfWpg'])?_0x1aa3fc[_0x337418(0x222)](_0x53cd52[_0x337418(0x163)]):(_0x34ed8e[_0x337418(0x138)](_0x337418(0x113)+_0x10262f+_0x337418(0xc4)+_0x24f2af[_0x337418(0xdf)]+_0x337418(0xa8)+_0x7d05ed),_0x3d3e14[_0x337418(0x164)](_0x3dd495,[![],[]]));});const _0x4b5e19=_0x562a0f[_0x3ada4f(0x199)](_0x3d73ab=>{const _0x51b580=_0x3ada4f,_0x29c8bb={};_0x29c8bb[_0x51b580(0x235)]=_0x33aed8['tCfPW'];const _0xd37581=_0x29c8bb;if(_0x33aed8['ZUtou'](_0x33aed8[_0x51b580(0x1f7)],_0x33aed8[_0x51b580(0x1f7)])){if(_0x1aa3fc[_0x51b580(0x1f6)](_0x3d73ab[_0x51b580(0x11d)])){if(_0x33aed8[_0x51b580(0xed)](_0x33aed8[_0x51b580(0x116)],_0x33aed8[_0x51b580(0x12b)])){const _0x48914e={};_0x48914e[_0x51b580(0x1f4)]=_0xd37581['KZaKB'];const _0x21c383=new _0x22f1e6[(_0x51b580(0xca))](_0x48914e),_0x73972d={};return _0x73972d[_0x51b580(0x120)]=this[_0x51b580(0x22e)],_0x21c383[_0x51b580(0x167)](_0x73972d)[_0x51b580(0x224)]();}else return!![];}return _0x4d0b9e['push'](_0x3d73ab),![];}else{const _0x56e4f7=_0x43baff[_0x51b580(0x144)][_0x51b580(0x160)];return _0x56e4f7&&_0x310eef[_0x51b580(0x244)](_0x56e4f7[_0x310eef[_0x51b580(0x1dd)]][_0x51b580(0xcf)](),_0x310eef['ClTEn']);}});_0x33aed8[_0x3ada4f(0x24f)](_0x156e81,[_0x4b5e19,_0x4d0b9e]);}else _0x2719a5[_0x3ada4f(0x138)](_0x367a83),_0x310eef[_0x3ada4f(0x1c5)](_0x3fa849,_0x5d8a59);})['catch'](_0x308b90=>{const _0x2d0f9a=_0x1c5b12,_0x73e780={'ngZhf':function(_0x3ca857,_0x1aa1ec){const _0x34a5a6=a0_0x1450;return _0x443470[_0x34a5a6(0x176)](_0x3ca857,_0x1aa1ec);},'GcFjn':function(_0x2dbf02,_0x556ffb){const _0x176e21=a0_0x1450;return _0x443470[_0x176e21(0x207)](_0x2dbf02,_0x556ffb);}};_0x443470[_0x2d0f9a(0x23c)](_0x443470['WlarP'],_0x443470[_0x2d0f9a(0x140)])?(_0x3f8432[_0x2d0f9a(0x143)][_0x2d0f9a(0x1f6)](this[_0x2d0f9a(0x22e)])&&_0x73e780[_0x2d0f9a(0x25c)](_0x4bafdd,!![]),_0x73e780[_0x2d0f9a(0x183)](_0x4aa5d6,![])):(logger[_0x2d0f9a(0x138)](_0x2d0f9a(0x113)+_0x562a0f+_0x2d0f9a(0xc4)+global_registry[_0x2d0f9a(0xdf)]+_0x2d0f9a(0xa8)+_0x308b90),_0x443470['XzcmL'](_0x156e81,[![],[]]));});}else _0x2cd373[_0x1c5b12(0x11b)]=_0x535360[this[_0x1c5b12(0x173)]]['accessKey'],_0x418caf[_0x1c5b12(0x1d9)]=_0x444e22[this[_0x1c5b12(0x173)]][_0x1c5b12(0x11a)];});}async[a0_0x5a6b93(0xb6)](){const _0x167441=a0_0x5a6b93,_0x3c7b30={'WFUhg':function(_0x1cf873,_0x3d518a){return _0x1cf873(_0x3d518a);},'wxOEP':'aws-iam-authenticator\x20help','xjgOl':_0x167441(0x1bf),'JGmCN':_0x167441(0xd0)},_0x1bcd13={};_0x1bcd13[_0x167441(0x1c8)]=![],_0x1bcd13['error']=null,_0x1bcd13[_0x167441(0x1c4)]='';const _0x934d76=_0x1bcd13;try{const _0x472c1c=await _0x3c7b30[_0x167441(0x139)](runCommand,_0x3c7b30[_0x167441(0x1ef)]);_0x472c1c[_0x167441(0xf4)](_0x3c7b30[_0x167441(0x162)])?logger[_0x167441(0xf2)](_0x472c1c):logger[_0x167441(0x23d)](_0x472c1c),_0x934d76['status']=!![],_0x934d76[_0x167441(0x1c4)]=_0x3c7b30['JGmCN'];}catch(_0x489bec){logger[_0x167441(0x138)](_0x167441(0xe0)+_0x489bec+'\x20:\x20'+_0x489bec['stack']),_0x934d76[_0x167441(0x1c4)]=_0x167441(0x257)+_0x489bec,_0x934d76['error']=_0x489bec;}return _0x934d76;}async[a0_0x5a6b93(0x1e4)](){const _0x503e3b=a0_0x5a6b93,_0x4ce8d6={};_0x4ce8d6['aBVap']=_0x503e3b(0xa7),_0x4ce8d6[_0x503e3b(0x1b2)]=_0x503e3b(0x1f1);const _0x326cc3=_0x4ce8d6,_0x3fd9c2=await new awsSDK[(_0x503e3b(0x123))]()[_0x503e3b(0x14e)]()[_0x503e3b(0x224)](),{Account:_0x336df0,Arn:_0x23fde6}=_0x3fd9c2,_0x161b90=_0x23fde6['includes'](_0x326cc3[_0x503e3b(0x112)]),_0x2d53bc=_0x161b90?_0x503e3b(0x111)+_0x336df0+_0x503e3b(0xa7)+_0x23fde6[_0x503e3b(0x1d3)](_0x326cc3[_0x503e3b(0x112)])[0x1]:'arn:aws:iam::'+_0x336df0+_0x503e3b(0x1f1)+_0x23fde6[_0x503e3b(0x1d3)](_0x326cc3['ZPYEq'])[0x1];return _0x2d53bc;}async[a0_0x5a6b93(0x10c)](){const _0x9aa7b0=a0_0x5a6b93,_0x200e26={};_0x200e26[_0x9aa7b0(0x1b3)]=function(_0x1f1315,_0x1c6c78){return _0x1f1315!==_0x1c6c78;},_0x200e26[_0x9aa7b0(0x188)]='allowed';const _0x40d6b3=_0x200e26,_0x511abb={};_0x511abb[_0x9aa7b0(0x1c8)]=![],_0x511abb[_0x9aa7b0(0x138)]=null,_0x511abb[_0x9aa7b0(0x1c4)]='';const _0x2e73eb=_0x511abb;try{const _0x30baa5=await this[_0x9aa7b0(0x1e4)](),_0x25f3b2={'PolicySourceArn':_0x30baa5,'ActionNames':Object['keys'](PERMISSIONS)},_0x1b325b=await new awsSDK['IAM']()[_0x9aa7b0(0x125)](_0x25f3b2)['promise']();let _0x5ee80f='';logger[_0x9aa7b0(0x23d)]('permissions\x20check\x20response:\x20'+JSON['stringify'](_0x1b325b)),_0x2e73eb[_0x9aa7b0(0x1c8)]=!![],_0x1b325b[_0x9aa7b0(0xf8)][_0x9aa7b0(0x1ff)](_0x5788e4=>{const _0x17dbcc=_0x9aa7b0,_0x1b59b2=_0x5788e4[_0x17dbcc(0x242)][_0x17dbcc(0x1d3)](':')[0x0];_0x5ee80f+=_0x17dbcc(0xb3)+_0x1b59b2['toUpperCase']()+_0x17dbcc(0x14b)+PERMISSIONS[_0x5788e4[_0x17dbcc(0x242)]]+':\x20'+_0x5788e4['EvalDecision'],_0x40d6b3[_0x17dbcc(0x1b3)](_0x5788e4[_0x17dbcc(0x1fe)],_0x40d6b3[_0x17dbcc(0x188)])&&(_0x2e73eb[_0x17dbcc(0x1c8)]=![]);}),_0x2e73eb['data']=_0x5ee80f;}catch(_0x3f4d95){_0x2e73eb[_0x9aa7b0(0x138)]=_0x3f4d95;}return _0x2e73eb;}}const a0_0x57abb3={};a0_0x57abb3['AWSCloudProvider']=AWSCloudProvider,module[a0_0x5a6b93(0x18b)]=a0_0x57abb3;