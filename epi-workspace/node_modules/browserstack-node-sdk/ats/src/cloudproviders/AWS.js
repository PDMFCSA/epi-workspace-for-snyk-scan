const a0_0x2dfcc2=a0_0x3a03;(function(_0x45b9d5,_0x2b400e){const _0x5a460a=a0_0x3a03,_0x5785e4=_0x45b9d5();while(!![]){try{const _0x1926e2=parseInt(_0x5a460a(0x2c5))/0x1+parseInt(_0x5a460a(0x218))/0x2*(parseInt(_0x5a460a(0x230))/0x3)+-parseInt(_0x5a460a(0x211))/0x4+-parseInt(_0x5a460a(0x32b))/0x5*(-parseInt(_0x5a460a(0x28f))/0x6)+parseInt(_0x5a460a(0x347))/0x7*(parseInt(_0x5a460a(0x2ee))/0x8)+parseInt(_0x5a460a(0x277))/0x9+parseInt(_0x5a460a(0x2cf))/0xa*(-parseInt(_0x5a460a(0x228))/0xb);if(_0x1926e2===_0x2b400e)break;else _0x5785e4['push'](_0x5785e4['shift']());}catch(_0x3ad1b6){_0x5785e4['push'](_0x5785e4['shift']());}}}(a0_0xcf1f,0x59da2));function a0_0xcf1f(){const _0x23d66a=['RgHVN','./CloudProvider','SlSUK','TzmcN','ClusterRole\x20=>\x20','Added\x20storage\x20class.','sendResourceDataToHST','aEXyY','sCBkY','jOmcY','SecurityGroups\x20=>\x20','getClusterInfo','OZHPj','121735aQspwT','browserstack','../utils/createHubHaStack','getUserInput','FRYDo','fxpJm','vPUPz','../utils/utilityMethods','KzupG','../utils/createClusterStack','clusterAutoUpgrade','kqByw','then','djjgu','CFXWB','Outputs','xwLmv','deleteCluster','split','loadBalancer','create-grid-called','KFTMt','LKmmJ','EFS\x20Controller\x20Role\x20=>\x20','.\x20Error:\x20','stringify','sHZPM','KukMQ','11907RkgwWo','vUDli','kube-system','forEach','describeVpcs',',\x20ClusterRole\x20=>\x20','kZHdP','aws_credentials','\x20:\x20','WBqKg','BXFvV','fileSystemId','maxNodes','aRnrQ','NGgMJ','rcutY','cUVzA','permissions\x20check\x20response:\x20',',\x20Subnets\x20=>\x20','lpOiS','yHKSW','KGEdP','Mount\x20target\x20created\x20for\x20subnet:\x20','TyzOY','fqKXQ','isVPCPresent','PkZPK','getAvailabilityZone','push','RvlCV','EKS','FdOyq','RuPSl','Mount\x20target\x20','createStorageClass','rwGIo','qhumH','match','WAxbO','loadAll','yJlzc','readFileAsync','hHoGd','\x20in\x20region\x20','RyKIr','xiofP','FCsMX','sendEventToBackend','checkAccess','../utils/createAutoscalerStack','PYbSN','ielXq','amkoS','dIYVF','RQbTR','utf-8','AvailabilityZone','secret','Qkkco','Cannot\x20find\x20subnets\x20','MuqWf','describeCluster','add','yLnuD','WyOMy','templates','endpoint','VakwN','TAHUh','describeNodegroup','tNemL','data','WwBSI','rBOwa','Intercepted','cwLuE','Oxpdj','qviDQ','\x20SECRET\x20KEY:\x20','GUWma','simulatePrincipalPolicy','\x20|\x20Action\x20:\x20','oZCWO','all','Following\x20resources\x20are\x20created:\x20Cluster\x20=>\x20','label','nSwKX','LRgWt','kPPpE','XUulQ','XIXHF','cloudProviderAccessKey','Autoscaler\x20Role\x20created.ARN:\x20','MountTargets','getPrincipalArn','NrseH','smWhj','isSubnetsValid','Stacks','CibVc','yyJEw','309092Xvhkqk','sKrWp','createMountTarget','AiFaN','.\x20Please\x20Check\x20and\x20try\x20again','XCNQW','szFuw','9010gZAGUF','DhUlR','yXiJn','Elmat','createAuthConfigMap','TbPpQ','YjrIf','gIYGF','VIcLZ','RtqTY','WfuoT','bgxgD','../utils/gridComponents','YSEsg','aAAcm','efs-csi-driver-aws.yaml','7533251AdzgGp','mQCoq','rNgVe','Following\x20resources\x20are\x20created:','yuQPa','debug','Creating\x20required\x20resources\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','FileSystemId','150wgVSNz','MountTargetId','type','NtZsY','FmrdF','name','hybsw','NodeRole\x20=>\x20','yeaoJ','ItAtS','EFS','SPPKG','secretAccessKey',',\x20MountTargetId:\x20','SubnetId','OutputValue','cloudProvider','PJiIa','DZeCn','../config/logger','keFCW','catch','init','znjWa','HGNlE','path','Subnets\x20=>\x20','hubharesources','IOLtD','clusterRegion','info','\x0aaws_secret_access_key\x20=\x20','\x20because\x20its\x20Availability\x20Zone\x20','ZsUuY','wUUtg','qSTbG','Adding\x20storage\x20class...','Adding\x20EFS\x20CSI\x20Driver','2017-11-01','AgAJT','createMountTargetAndWait','Vwqkf','1|0|3|2|4','ijRVn','JNAOo','Setting\x20up\x20Hub\x20HA','lotDf','OQVDu','\x0a\x09Service:\x20','status','fYvEF','GSmVR','every','Creating\x20Autoscaler\x20Role','SubnetIds','keys','dQpEQ','allowed',',\x20EFS_SecurityGroup\x20=>\x20','xOdAa','nodeRole','mapRoles','reduce','includes','EvalActionName','Mdjkr','Uvwqg','yJxPz','SecurityGroups','Addym','EC2','4436721irAaPF','nodegroup','BElUO','Added\x20EFS\x20CSI\x20Driver','FNAKL','LOG','FJzFv','sKuFV','exit','Mounting\x20Target\x20for\x20EFS','promise','RwSbG','udoOK','VPC\x20=>\x20','RjWzz','Please\x20install\x20aws-iam-authenticator\x20tool.\x20Error\x20:\x20','chuZn','sSnpF','arn:aws:iam::','2016-11-15','getNodeGroupInfo','fOKOw','dBexu','Unable\x20to\x20spawn\x20Autoscaler\x20due\x20to:\x20','54CihdOt','nyKmq','YYejc','Skipping\x20Autoscaler\x20due\x20to:\x20','toLowerCase',':user/','namespace','JTvCP','tosxb','uJsFH','webSocketUtils','nRdQD','waitForMountTarget','isCliToolInstalled','Srfgn','OXDDz','error','message','Cannot\x20find\x20VPC\x20','getCallerIdentity','tQhNK','QJbOc','nodegroupName','EFSFileSystemId','tKIvq','YtcOM','KLhAv','efTyD','KubeConfigTemplate.yaml','YyJMd','IAM','Subnets','LifeCycleState','UDOzQ','describeSubnets','cloudProviderName','qkvMa','bmlnG','RiZRn','NIjjZ','PyeQc','MzkxQ','wqDfI','ikLse','uMvMA','iNvyS','kGxQJ','\x20ACCESS\x20KEY:\x20','NHKnt','clusters','checkClusterCreated','xZzSf','aGXrL','tamPu','496623NlFDGE','createMountTargets','update','rws','ingress','YOjBs','yYlcy','apiVersion','\x20has\x20already\x20been\x20used.','xUVuO','20VvdyaJ','oOIFS','ebqDo','Creating\x20required\x20dependencies\x20-\x20EKS\x20Role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups\x20and\x20Cluster\x20and\x20Node\x20Group(s)','describeMountTargets','DwFIp','tags','DPsBk','BeoNK','dvshU','tLYKO','value',',VPC\x20=>\x20','.\x20Deleting\x20all\x20the\x20stacks','cloudProviderSecretKey','QWOWL','accessKey','Rfmqf','nlVeC','wcILO','STS','VpcIds','toUpperCase','AdMZm',':role/','cnLtW','aws-sdk','../permissions/AWS.json','pyEby','GOddU','replace','1792SdQDhO',',\x20SecurityGroups\x20=>\x20','writeFileSync','listClusters','Values','Creating\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','getGridHostname','xjQgo','../utils/hstUtils','join','aPTTU','load','WpcgI','MFkID','toString','clusterName','autoscaler-creation-failed','../config/constants','[ats]\x0aaws_access_key_id\x20=\x20','available','PPMAQ','GuDHl','cluster','OLHcM','stack','lLiMs','MLAYI','ibguN','region','setupNewCluster','aws-iam-authenticator\x20tool\x20is\x20installed','OBLHG','warn','error\x20:\x20','\x20failed\x20to\x20reach\x20the\x20available\x20state.','setupAutoscaler','kRdfP','yzbZr','jPNcy','ERROR','UQfHC','hub-ha-aws-setup-failed','ekMWH','xReYd','Following\x20resources\x20are\x20created\x20for\x20Hub\x20HA:\x20EFS_ControllerRoleArn\x20=>\x20','EvalDecision','OutputKey','QWNSp'];a0_0xcf1f=function(){return _0x23d66a;};return a0_0xcf1f();}const fs=require('fs'),path=require(a0_0x2dfcc2(0x249)),yaml=require('js-yaml'),awsSDK=require(a0_0x2dfcc2(0x2e9)),{logger}=require(a0_0x2dfcc2(0x243)),{CloudProvider}=require(a0_0x2dfcc2(0x31f)),{sendAWSInfoToHST}=require(a0_0x2dfcc2(0x2f6)),{createClusterStack}=require(a0_0x2dfcc2(0x334)),{createHubHaStack}=require(a0_0x2dfcc2(0x32d)),{deleteClusterAndDependencies,deleteRoutingDeps,deleteAgent}=require(a0_0x2dfcc2(0x224)),{createAutoscalerStack}=require(a0_0x2dfcc2(0x1dd)),{getDirForConfig,reportToGalactusAndSendToEDS,kubeApply,runCommand}=require(a0_0x2dfcc2(0x332)),{IAM_USER_NAME,AWS,WS_EVENTS,global_registry,messageTypes}=require(a0_0x2dfcc2(0x2ff)),PERMISSIONS=require(a0_0x2dfcc2(0x2ea));function a0_0x3a03(_0x19a0eb,_0x1662d9){const _0xcf1f5c=a0_0xcf1f();return a0_0x3a03=function(_0x3a037b,_0x3e8c25){_0x3a037b=_0x3a037b-0x1ad;let _0x42948f=_0xcf1f5c[_0x3a037b];return _0x42948f;},a0_0x3a03(_0x19a0eb,_0x1662d9);}class AWSCloudProvider extends CloudProvider{constructor(_0xae2d33,_0x39b8ac,_0xc8ad5,_0x407815){super(AWS,_0xae2d33,_0x39b8ac,_0xc8ad5,_0x407815);}async[a0_0x2dfcc2(0x246)](){const _0x548e76=a0_0x2dfcc2;await super[_0x548e76(0x246)]();const _0x5c491d={};return _0x5c491d[_0x548e76(0x30a)]=global_registry[_0x548e76(0x24d)],_0x5c491d['accessKeyId']=global_registry['cloudProviderAccessKey'],_0x5c491d[_0x548e76(0x23c)]=global_registry[_0x548e76(0x2dd)],awsSDK['config'][_0x548e76(0x2c7)](_0x5c491d),this;}async[a0_0x2dfcc2(0x324)](){const _0x68b36e=a0_0x2dfcc2,_0x2dcb29={'iyLzz':function(_0x1c04e7,_0x403c73){return _0x1c04e7(_0x403c73);}};_0x2dcb29['iyLzz'](sendAWSInfoToHST,this[_0x68b36e(0x2c8)]);}async['setCachedCredsInRegistry'](_0x461801){const _0x1dfea8=a0_0x2dfcc2;global_registry['cloudProviderAccessKey']=_0x461801[this[_0x1dfea8(0x2b2)]]['accessKey'],global_registry[_0x1dfea8(0x2dd)]=_0x461801[this[_0x1dfea8(0x2b2)]][_0x1dfea8(0x1e5)];}[a0_0x2dfcc2(0x2f4)](_0x398a17){const _0x2d35e5=a0_0x2dfcc2;return _0x398a17[_0x2d35e5(0x261)][_0x2d35e5(0x33e)][_0x2d35e5(0x2c9)][0x0]['hostname'];}async['isBrowserstackCluster'](){const _0x2d181e=a0_0x2dfcc2,_0x528a2c={'tosxb':function(_0x40653b,_0x250030){return _0x40653b(_0x250030);},'uMvMA':function(_0x56e47a,_0x15f8ac){return _0x56e47a!==_0x15f8ac;},'sKrWp':'iMXSg','rNgVe':function(_0x225e0e,_0x53215b){return _0x225e0e===_0x53215b;},'xiofP':'KuohT','lVRgu':_0x2d181e(0x279),'wqDfI':function(_0x267f15,_0x5e1181){return _0x267f15===_0x5e1181;},'FmrdF':'browserstack:managedBy','RvlCV':_0x2d181e(0x32c),'xwLmv':_0x2d181e(0x2b5),'rxKxt':_0x2d181e(0x206)};try{if(_0x528a2c[_0x2d181e(0x2bb)](_0x528a2c[_0x2d181e(0x212)],_0x528a2c[_0x2d181e(0x212)]))_0x2bc944['error']('Cannot\x20find\x20subnets\x20'+_0x2b293f+_0x2d181e(0x1d7)+_0x19f095[_0x2d181e(0x24d)]+_0x2d181e(0x343)+_0x4ffefb),_0x528a2c[_0x2d181e(0x297)](_0x2d0cae,[![],[]]);else{const _0x3330ac=await this['getClusterInfo']();if(_0x3330ac['cluster']){if(_0x528a2c[_0x2d181e(0x22a)](_0x528a2c[_0x2d181e(0x1d9)],_0x528a2c['lVRgu']))_0x30dac2[_0x2d181e(0x1c8)](_0x3dd88a[_0x2d181e(0x23e)]);else{const _0x3e6c89=_0x3330ac[_0x2d181e(0x304)][_0x2d181e(0x2d5)];return _0x3e6c89&&_0x528a2c[_0x2d181e(0x2b9)](_0x3e6c89[_0x528a2c[_0x2d181e(0x234)]][_0x2d181e(0x293)](),_0x528a2c[_0x2d181e(0x1c9)]);}}}}catch(_0x12d73f){return _0x528a2c[_0x2d181e(0x2bb)](_0x528a2c[_0x2d181e(0x33b)],_0x528a2c['rxKxt'])?![]:this[_0x2d181e(0x2c1)]();}return![];}async['isClusterPresent'](){return this['checkClusterCreated']();}async[a0_0x2dfcc2(0x329)](){const _0x21f7b0=a0_0x2dfcc2,_0x1d70d2={};_0x1d70d2[_0x21f7b0(0x23b)]=_0x21f7b0(0x256);const _0x1625e5=_0x1d70d2,_0x2d7288={};_0x2d7288['apiVersion']=_0x1625e5['SPPKG'];const _0x1f7f03=new awsSDK[(_0x21f7b0(0x1ca))](_0x2d7288),_0x530bb0={};return _0x530bb0['name']=this[_0x21f7b0(0x2fd)],_0x1f7f03[_0x21f7b0(0x1e9)](_0x530bb0)[_0x21f7b0(0x281)]();}async[a0_0x2dfcc2(0x21c)](_0x48fb28){const _0x34962f=a0_0x2dfcc2,_0x481898={};_0x481898[_0x34962f(0x233)]=_0x34962f(0x1ed),_0x481898['aPTTU']='aws-auth-cm.yaml',_0x481898[_0x34962f(0x1fe)]='utf-8',_0x481898[_0x34962f(0x1d2)]='<ARN>';const _0x11bb3d=_0x481898,_0x36597a=await fs[_0x34962f(0x1d5)](path['join'](__dirname,'..',_0x11bb3d[_0x34962f(0x233)],_0x11bb3d[_0x34962f(0x2f8)]),_0x11bb3d['oZCWO']),_0x4cad92=yaml['load'](_0x36597a);return _0x4cad92[_0x34962f(0x1f3)][_0x34962f(0x26d)]=_0x4cad92[_0x34962f(0x1f3)]['mapRoles'][_0x34962f(0x2ed)](_0x11bb3d[_0x34962f(0x1d2)],_0x48fb28),_0x4cad92;}async[a0_0x2dfcc2(0x28b)](_0x30d808){const _0x5e4a17=a0_0x2dfcc2,_0x445cf1={};_0x445cf1[_0x5e4a17(0x1e0)]=_0x5e4a17(0x256);const _0xb20a5=_0x445cf1,_0x1a7c98={};_0x1a7c98[_0x5e4a17(0x2cc)]=_0xb20a5[_0x5e4a17(0x1e0)];const _0x490762=new awsSDK['EKS'](_0x1a7c98),_0x3be8cd={};return _0x3be8cd['clusterName']=this['clusterName'],_0x3be8cd[_0x5e4a17(0x2a5)]=_0x30d808,_0x490762[_0x5e4a17(0x1f1)](_0x3be8cd)[_0x5e4a17(0x281)]();}async[a0_0x2dfcc2(0x2c1)](){const _0x5b2e01=a0_0x2dfcc2,_0x3dc40a={'wUUtg':function(_0x3775a7,_0x3c3044){return _0x3775a7(_0x3c3044);},'NIjjZ':function(_0x794eb3,_0x6bf260){return _0x794eb3===_0x6bf260;},'dUcxW':_0x5b2e01(0x340),'MFkID':function(_0x2fad0f,_0x5101b7){return _0x2fad0f===_0x5101b7;},'AhJDr':'BDHUO','OXDDz':'WLXlK','lotDf':_0x5b2e01(0x256),'yzbZr':function(_0x1c5f3b,_0x46cbd0){return _0x1c5f3b===_0x46cbd0;},'RgHVN':_0x5b2e01(0x263),'NqodQ':function(_0x23fc25,_0x2c84c5){return _0x23fc25!==_0x2c84c5;},'TAHUh':'CuobW'};return new Promise((_0x5106c7,_0x36923b)=>{const _0x1e8386=_0x5b2e01,_0x7aafdc={'CibVc':function(_0x33b3d7,_0x7d54b5){const _0x27f682=a0_0x3a03;return _0x3dc40a[_0x27f682(0x252)](_0x33b3d7,_0x7d54b5);},'WBqKg':function(_0x3bd16c,_0x33eb3c){const _0x1a46c5=a0_0x3a03;return _0x3dc40a[_0x1a46c5(0x2b6)](_0x3bd16c,_0x33eb3c);},'YjrIf':_0x3dc40a['dUcxW'],'uoNZc':function(_0x2be5f4,_0x4f6ed1){const _0x340be8=a0_0x3a03;return _0x3dc40a[_0x340be8(0x2fb)](_0x2be5f4,_0x4f6ed1);},'zeHbH':_0x3dc40a['AhJDr'],'FdOyq':_0x3dc40a[_0x1e8386(0x29e)],'jOmcY':_0x3dc40a[_0x1e8386(0x25e)],'yWqkg':function(_0x152abe,_0x2787f5){const _0x51b130=_0x1e8386;return _0x3dc40a[_0x51b130(0x313)](_0x152abe,_0x2787f5);},'VakwN':_0x3dc40a[_0x1e8386(0x31e)]};if(_0x3dc40a['NqodQ'](_0x3dc40a[_0x1e8386(0x1f0)],_0x3dc40a[_0x1e8386(0x1f0)]))_0x7aafdc[_0x1e8386(0x20f)](_0x30d1c1,!![]);else{const _0x100ef9={};_0x100ef9[_0x1e8386(0x2cc)]=_0x3dc40a[_0x1e8386(0x25e)];const _0x50b65e=new awsSDK[(_0x1e8386(0x1ca))](_0x100ef9);_0x50b65e[_0x1e8386(0x2f1)]()[_0x1e8386(0x281)]()[_0x1e8386(0x337)](_0x326fcd=>{const _0x29ec39=_0x1e8386,_0x2525dd={'GPgRR':function(_0xcdf703,_0x1abb13){const _0x2a00ca=a0_0x3a03;return _0x7aafdc[_0x2a00ca(0x20f)](_0xcdf703,_0x1abb13);}};if(_0x7aafdc[_0x29ec39(0x1b5)](_0x7aafdc[_0x29ec39(0x21e)],_0x7aafdc[_0x29ec39(0x21e)]))_0x326fcd[_0x29ec39(0x2c0)]['includes'](this[_0x29ec39(0x2fd)])&&(_0x7aafdc['uoNZc'](_0x7aafdc['zeHbH'],_0x7aafdc[_0x29ec39(0x1cb)])?_0x2525dd['GPgRR'](_0x25f01e,this['rws']):_0x7aafdc[_0x29ec39(0x20f)](_0x5106c7,!![])),_0x7aafdc[_0x29ec39(0x20f)](_0x5106c7,![]);else{if(_0x45a98f['includes'](_0x29bc9f[_0x29ec39(0x2da)]))return!![];return _0x31dce8[_0x29ec39(0x1c8)](_0x59e37d),![];}})[_0x1e8386(0x245)](_0x3a9a02=>{const _0x24ec00=_0x1e8386;if(_0x7aafdc['yWqkg'](_0x7aafdc[_0x24ec00(0x1ef)],_0x7aafdc[_0x24ec00(0x1ef)]))logger['error'](_0x3a9a02),_0x7aafdc[_0x24ec00(0x20f)](_0x36923b,_0x3a9a02);else{const _0x320617={};_0x320617[_0x24ec00(0x2cc)]=_0x7aafdc[_0x24ec00(0x327)];const _0x558d3f=new _0x9122d8['EKS'](_0x320617),_0x1d64bc={};return _0x1d64bc[_0x24ec00(0x235)]=this[_0x24ec00(0x2fd)],_0x558d3f[_0x24ec00(0x1e9)](_0x1d64bc)[_0x24ec00(0x281)]();}});}});}async[a0_0x2dfcc2(0x32e)](_0x1570e6,_0x13e767){const _0x54293c=a0_0x2dfcc2,_0x4b3098={'efTyD':function(_0x5e60b7,_0x4ce3d0){return _0x5e60b7(_0x4ce3d0);},'oOIFS':function(_0x5b7cfc,_0x25f69a){return _0x5b7cfc(_0x25f69a);}},_0x5b599b=this[_0x54293c(0x2b2)][_0x54293c(0x2e5)](),_0xecc2fe=await _0x4b3098[_0x54293c(0x2aa)](_0x1570e6,_0x5b599b+_0x54293c(0x2be)),_0x46ee2d=await _0x4b3098[_0x54293c(0x2d0)](_0x1570e6,_0x5b599b+_0x54293c(0x1fa));global_registry[_0x54293c(0x207)]=_0xecc2fe,global_registry['cloudProviderSecretKey']=_0x46ee2d;const _0x32f59f={};return _0x32f59f[_0x54293c(0x2df)]=_0xecc2fe,_0x32f59f['secret']=_0x46ee2d,_0x13e767[_0x54293c(0x240)][AWS]=_0x32f59f,_0x13e767;}async['getKubeConfigData'](){const _0x1aaf8d=a0_0x2dfcc2,_0xa59334={'gSPty':function(_0x1bfe5f){return _0x1bfe5f();},'LRgWt':_0x1aaf8d(0x1b3),'WwBSI':_0x1aaf8d(0x1ed),'aGXrL':_0x1aaf8d(0x2ab)},_0x36e231=_0xa59334['gSPty'](getDirForConfig),_0x5ce321=await this['getClusterInfo'](),_0x1262df=path['join'](_0x36e231,_0xa59334[_0x1aaf8d(0x203)]),_0x4388c0=_0x1aaf8d(0x300)+global_registry[_0x1aaf8d(0x207)]+_0x1aaf8d(0x24f)+global_registry[_0x1aaf8d(0x2dd)];fs[_0x1aaf8d(0x2f0)](_0x1262df,_0x4388c0);let _0x2498f0=await fs['readFileAsync'](path['join'](__dirname,'..',_0xa59334[_0x1aaf8d(0x1f4)],_0xa59334[_0x1aaf8d(0x2c3)]));return _0x2498f0=_0x2498f0[_0x1aaf8d(0x2fc)](),_0x2498f0=_0x2498f0[_0x1aaf8d(0x2ed)](/<CLUSTER_NAME>/g,this[_0x1aaf8d(0x2fd)]),_0x2498f0=_0x2498f0[_0x1aaf8d(0x2ed)](/<CLUSTER_URL>/g,_0x5ce321[_0x1aaf8d(0x304)][_0x1aaf8d(0x1ee)]),_0x2498f0=_0x2498f0['replace'](/<CERTIFICATE_DATA>/g,_0x5ce321[_0x1aaf8d(0x304)]['certificateAuthority'][_0x1aaf8d(0x1f3)]),_0x2498f0=_0x2498f0['replace'](/<CLUSTER_REGION>/g,global_registry[_0x1aaf8d(0x24d)]),_0x2498f0=_0x2498f0[_0x1aaf8d(0x2ed)](/<CLUSTER_NAME_USER>/g,IAM_USER_NAME),_0x2498f0=_0x2498f0[_0x1aaf8d(0x2ed)](/<CLOUD_PROVIDER_ACCESS_KEY>/g,global_registry[_0x1aaf8d(0x207)]),_0x2498f0=_0x2498f0[_0x1aaf8d(0x2ed)](/<CLOUD_PROVIDER_SECRET>/g,global_registry[_0x1aaf8d(0x2dd)]),_0x2498f0=_0x2498f0[_0x1aaf8d(0x2ed)](/<AWS_CONFIG_FILE_PATH>/g,_0x1262df),_0x2498f0;}async[a0_0x2dfcc2(0x30b)](_0x4aff88=null,_0x4ac799=null){const _0x227ad2=a0_0x2dfcc2,_0x557804={'RQbTR':function(_0x12397b,_0x32e190){return _0x12397b(_0x32e190);},'MvFZS':function(_0xe2e395,_0xb2bdfa){return _0xe2e395(_0xb2bdfa);},'DYEwA':'2017-11-01','fqKXQ':'Creating\x20required\x20resources\x20-\x20EKS\x20role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups,\x20Cluster\x20and\x20Node\x20Group(s)','kGxQJ':_0x227ad2(0x2d2),'BXFvV':function(_0x25b693,_0x21bb29,_0x1e8130,_0xf59959,_0x314227,_0x5d1de2,_0x2437a9){return _0x25b693(_0x21bb29,_0x1e8130,_0xf59959,_0x314227,_0x5d1de2,_0x2437a9);},'Oxpdj':_0x227ad2(0x22b),'dIYVF':function(_0x123eb9,_0x3bf6bf){return _0x123eb9===_0x3bf6bf;},'lpOiS':function(_0x46ef03,_0x1615fa){return _0x46ef03!==_0x1615fa;},'kZHdP':_0x227ad2(0x2a9),'QWNSp':_0x227ad2(0x2a8),'jPNcy':function(_0x578bae,_0xb96d49){return _0x578bae!==_0xb96d49;},'tKIvq':_0x227ad2(0x2d6),'sVRFu':'KlPXm'},_0x275be2={};_0x275be2[_0x227ad2(0x232)]=WS_EVENTS[_0x227ad2(0x27c)],_0x275be2[_0x227ad2(0x2a0)]=_0x557804[_0x227ad2(0x1c4)],this['webSocketUtils'][_0x227ad2(0x1db)](this[_0x227ad2(0x2c8)],_0x275be2),logger[_0x227ad2(0x24e)](_0x557804[_0x227ad2(0x2bd)]);const _0x536be2=global_registry['minNodes'],_0x48fc0d=global_registry[_0x227ad2(0x1b8)],_0x44e6c1=global_registry[_0x227ad2(0x335)],_0x513a90=await _0x557804[_0x227ad2(0x1b6)](createClusterStack,this['clusterName'],_0x536be2,_0x48fc0d,_0x4aff88,_0x4ac799,_0x44e6c1),_0x2c4289=_0x513a90[_0x227ad2(0x20e)][0x0][_0x227ad2(0x33a)][0x0][_0x227ad2(0x23f)][_0x227ad2(0x33d)](','),_0x21aec1=_0x513a90[_0x227ad2(0x20e)][0x0]['Outputs'][0x1][_0x227ad2(0x23f)],_0xd92f6=_0x513a90[_0x227ad2(0x20e)][0x0][_0x227ad2(0x33a)][0x3][_0x227ad2(0x23f)],_0x4db6fd=_0x513a90[_0x227ad2(0x20e)][0x0]['Outputs'][0x4][_0x227ad2(0x23f)];logger['info'](_0x557804[_0x227ad2(0x1f8)]),logger['info']('Cluster\x20=>\x20'+_0xd92f6+'\x20'),logger[_0x227ad2(0x24e)](_0x227ad2(0x322)+_0x21aec1+'\x20'),logger['info'](_0x227ad2(0x328)+_0x2c4289+'\x20'),logger['info'](_0x227ad2(0x237)+_0x4db6fd+'\x20');let _0x5cd41c=_0x227ad2(0x200)+_0xd92f6+_0x227ad2(0x1b1)+_0x21aec1+_0x227ad2(0x2ef)+_0x2c4289+',\x20NodeRole\x20=>\x20'+_0x4db6fd;if(_0x557804[_0x227ad2(0x1e1)](_0x4aff88,null)&&_0x557804[_0x227ad2(0x1e1)](_0x4ac799,null)){if(_0x557804[_0x227ad2(0x1bf)](_0x557804[_0x227ad2(0x1b2)],_0x557804[_0x227ad2(0x31d)])){const _0x152721=_0x513a90[_0x227ad2(0x20e)][0x0][_0x227ad2(0x33a)][0x2][_0x227ad2(0x23f)],_0x3aed6d=_0x513a90[_0x227ad2(0x20e)][0x0][_0x227ad2(0x33a)][0x5][_0x227ad2(0x23f)][_0x227ad2(0x33d)](',');_0x4aff88=_0x152721;const _0x53f941=[];for(const _0x293cf3 of _0x3aed6d){if(_0x557804[_0x227ad2(0x314)](_0x557804[_0x227ad2(0x2a7)],_0x557804['sVRFu'])){const _0x1a2a67={};_0x1a2a67['label']=_0x293cf3,_0x1a2a67['value']=_0x293cf3,_0x53f941[_0x227ad2(0x1c8)](_0x1a2a67);}else{const _0x2ce823={};_0x2ce823[_0x227ad2(0x2cc)]=_0x557804['DYEwA'];const _0x21f232=new _0x27b8fc['EKS'](_0x2ce823);_0x21f232[_0x227ad2(0x2f1)]()[_0x227ad2(0x281)]()[_0x227ad2(0x337)](_0x3ce1be=>{const _0x5637b0=_0x227ad2;_0x3ce1be[_0x5637b0(0x2c0)][_0x5637b0(0x26f)](this[_0x5637b0(0x2fd)])&&_0x557804[_0x5637b0(0x1e2)](_0x51e0d5,!![]),_0x557804[_0x5637b0(0x1e2)](_0x57fb1d,![]);})[_0x227ad2(0x245)](_0x3b5207=>{const _0x3b91e0=_0x227ad2;_0x182177[_0x3b91e0(0x29f)](_0x3b5207),_0x557804['MvFZS'](_0x24c8f9,_0x3b5207);});}}_0x4ac799=_0x53f941,logger['info'](_0x227ad2(0x284)+_0x152721+'\x20'),logger[_0x227ad2(0x24e)](_0x227ad2(0x24a)+_0x3aed6d+'\x20'),_0x5cd41c+=_0x227ad2(0x2db)+_0x152721+',\x20Subnets\x20=>\x20'+_0x3aed6d+',\x20';}else _0x1ccc9f[_0x227ad2(0x30e)](_0x378b9e);}const _0x47c7ee={};return _0x47c7ee[_0x227ad2(0x232)]=WS_EVENTS['LOG'],_0x47c7ee[_0x227ad2(0x2a0)]=_0x5cd41c,this[_0x227ad2(0x299)]['sendEventToBackend'](this['rws'],_0x47c7ee),[_0x4aff88,_0x4ac799];}async[a0_0x2dfcc2(0x33c)](_0x104eec,_0x3a309b){const _0x53ba91=a0_0x2dfcc2,_0x3ee859={'XUulQ':function(_0x3afc78,_0x6c880e){return _0x3afc78(_0x6c880e);},'vPUPz':function(_0x43681c,_0x4b50ad){return _0x43681c(_0x4b50ad);},'DZeCn':function(_0x4a01a2,_0x563c1e,_0x37b6f0){return _0x4a01a2(_0x563c1e,_0x37b6f0);}};await _0x3ee859[_0x53ba91(0x205)](deleteAgent,_0x104eec),await _0x3ee859[_0x53ba91(0x331)](deleteRoutingDeps,_0x104eec),await _0x3ee859[_0x53ba91(0x242)](deleteClusterAndDependencies,_0x3a309b,this['clusterName']);}async[a0_0x2dfcc2(0x311)](_0x55e7af,_0x4f465a){const _0x28bd09=a0_0x2dfcc2,_0xfb74ff={'xjQgo':function(_0x1cf842,_0x24d14c){return _0x1cf842(_0x24d14c);},'RtqTY':function(_0x20818c,_0x4f993d){return _0x20818c(_0x4f993d);},'qSTbG':_0x28bd09(0x28a),'UDOzQ':function(_0x1b7b83,_0x2f751c){return _0x1b7b83!==_0x2f751c;},'FJzFv':_0x28bd09(0x226),'QWOWL':_0x28bd09(0x202),'NHKnt':'Authmap\x20already\x20exists.\x20Not\x20updating','AiFaN':_0x28bd09(0x265),'wYQwd':function(_0x5a5483,_0xbe94d6){return _0x5a5483===_0xbe94d6;},'yJlzc':_0x28bd09(0x216),'kqByw':function(_0x4b7152,_0x47f20d){return _0x4b7152===_0x47f20d;},'nlVeC':_0x28bd09(0x2d1),'Mdjkr':'XTpfa','pPSgK':function(_0x86445a,_0x37962a){return _0x86445a!==_0x37962a;},'svvOz':'jmCyj','ogqjg':function(_0x41a520,_0x46aa68,_0x26db91,_0x54e965,_0x211e79,_0x3298a3,_0x329cb5,_0x96ce6){return _0x41a520(_0x46aa68,_0x26db91,_0x54e965,_0x211e79,_0x3298a3,_0x329cb5,_0x96ce6);},'yYlcy':_0x28bd09(0x33f),'wcILO':'reportToGalactusAndSendToEDS','WpcgI':'warning','ntVtw':function(_0x1c37e4,_0x23ed66){return _0x1c37e4!==_0x23ed66;},'ielXq':_0x28bd09(0x338),'nRdQD':_0x28bd09(0x25a),'qviDQ':function(_0x14141a,_0x3ac127,_0x3c1651,_0x37b202,_0x51e867,_0xfd3ded,_0x3d1fb7,_0x68f26b){return _0x14141a(_0x3ac127,_0x3c1651,_0x37b202,_0x51e867,_0xfd3ded,_0x3d1fb7,_0x68f26b);},'dBexu':_0x28bd09(0x2fe),'Elmat':'error','ikLse':function(_0x15edfe,_0x161b35,_0x22537a){return _0x15edfe(_0x161b35,_0x22537a);},'WyOMy':_0x28bd09(0x1ae)};let _0x4d2b80,_0x4ac792;const _0x306ad4={};_0x306ad4[_0x28bd09(0x232)]=WS_EVENTS['LOG'],_0x306ad4['message']=_0xfb74ff[_0x28bd09(0x214)],this['webSocketUtils']['sendEventToBackend'](this['rws'],_0x306ad4),logger[_0x28bd09(0x24e)](_0xfb74ff[_0x28bd09(0x214)]);try{if(_0xfb74ff['wYQwd'](_0xfb74ff[_0x28bd09(0x1d4)],_0xfb74ff[_0x28bd09(0x1d4)])){const _0x160d49=await _0xfb74ff[_0x28bd09(0x2f5)](createAutoscalerStack,this[_0x28bd09(0x2fd)]);_0x4ac792=_0x160d49[_0x28bd09(0x20e)][0x0][_0x28bd09(0x33a)][0x2][_0x28bd09(0x23f)];const _0x268128={};_0x268128['type']=WS_EVENTS[_0x28bd09(0x27c)],_0x268128[_0x28bd09(0x2a0)]='Autoscaler\x20Role\x20created.ARN:\x20'+_0x4ac792+'\x20',this[_0x28bd09(0x299)][_0x28bd09(0x1db)](this[_0x28bd09(0x2c8)],_0x268128),logger['info'](_0x28bd09(0x208)+_0x4ac792+'\x20');}else _0x504c66[_0x28bd09(0x29f)](_0x28bd09(0x2a1)+_0x2cf029+_0x28bd09(0x1d7)+_0x3307ac[_0x28bd09(0x24d)]+_0x28bd09(0x215)),_0xfb74ff['xjQgo'](_0x3d97f2,![]);}catch(_0x57c736){if(_0xfb74ff[_0x28bd09(0x336)](_0xfb74ff[_0x28bd09(0x2e1)],_0xfb74ff[_0x28bd09(0x271)]))_0x1b80c6['debug'](_0x3091e8);else{if(_0x57c736?.['message']&&_0x57c736[_0x28bd09(0x2a0)][_0x28bd09(0x1d1)](/already exists/))_0xfb74ff['pPSgK'](_0xfb74ff['svvOz'],_0xfb74ff['svvOz'])?_0x19d388[_0x28bd09(0x29f)]('Error\x20creating\x20mount\x20target\x20for\x20subnet\x20'+_0xbd3e4c[_0x28bd09(0x2da)]+':',_0x4efe78):(_0x4d2b80=_0x28bd09(0x292)+_0x57c736[_0x28bd09(0x2a0)],await _0xfb74ff['ogqjg'](reportToGalactusAndSendToEDS,_0x4f465a,this[_0x28bd09(0x2c8)],_0x4d2b80,messageTypes['WARNING'],_0xfb74ff[_0x28bd09(0x2cb)],_0xfb74ff[_0x28bd09(0x2e2)],_0xfb74ff[_0x28bd09(0x2fa)]),logger[_0x28bd09(0x30e)](_0x4d2b80));else{if(_0xfb74ff['ntVtw'](_0xfb74ff[_0x28bd09(0x1df)],_0xfb74ff[_0x28bd09(0x1df)])){const _0x4dda16={'ZcpBK':function(_0x335f2b,_0x184fb9){const _0x4a49af=_0x28bd09;return _0xfb74ff[_0x4a49af(0x2f5)](_0x335f2b,_0x184fb9);},'mvldv':function(_0x383585,_0x3fbbd0){const _0x5a3150=_0x28bd09;return _0xfb74ff[_0x5a3150(0x221)](_0x383585,_0x3fbbd0);}},_0x1968fc={};_0x1968fc['apiVersion']=_0xfb74ff[_0x28bd09(0x253)],_0x1968fc['region']=_0x5296ee[_0x28bd09(0x24d)];const _0x337273=new _0x12d1dd['EC2'](_0x1968fc);_0x337273['describeVpcs'](_0x1b0bc0)[_0x28bd09(0x281)]()[_0x28bd09(0x337)](_0x1f4166=>{_0x4dda16['ZcpBK'](_0x49c73b,!![]);})[_0x28bd09(0x245)](_0x5500cc=>{const _0x3a3f28=_0x28bd09;_0x209d19[_0x3a3f28(0x29f)](_0x3a3f28(0x2a1)+_0x12d70b+_0x3a3f28(0x1d7)+_0x351e10[_0x3a3f28(0x24d)]+'.\x20Please\x20Check\x20and\x20try\x20again'),_0x4dda16['mvldv'](_0x49d108,![]);});}else{const _0x4d1f1a=_0xfb74ff[_0x28bd09(0x29a)]['split']('|');let _0x2f5192=0x0;while(!![]){switch(_0x4d1f1a[_0x2f5192++]){case'0':await _0xfb74ff[_0x28bd09(0x1f9)](reportToGalactusAndSendToEDS,_0x4f465a,this[_0x28bd09(0x2c8)],_0x4d2b80,messageTypes[_0x28bd09(0x315)],_0xfb74ff['yYlcy'],_0xfb74ff[_0x28bd09(0x28d)],_0xfb74ff[_0x28bd09(0x21b)]);continue;case'1':_0x4d2b80=_0x28bd09(0x28e)+_0x57c736?.[_0x28bd09(0x2a0)]+_0x28bd09(0x2dc);continue;case'2':await _0xfb74ff[_0x28bd09(0x2ba)](deleteClusterAndDependencies,global_registry[_0x28bd09(0x24d)],this['clusterName']);continue;case'3':logger[_0x28bd09(0x29f)](_0x4d2b80);continue;case'4':process[_0x28bd09(0x27f)](0x1);continue;}break;}}}}}const _0x5e57fd=await this[_0x28bd09(0x28b)](this['clusterName']+'-NodeGroup'),_0x384aa5=_0x5e57fd[_0x28bd09(0x278)][_0x28bd09(0x26c)],_0x57ca13=await this[_0x28bd09(0x21c)](_0x384aa5),_0x23262e={};return _0x23262e[_0x28bd09(0x295)]=_0xfb74ff[_0x28bd09(0x1ec)],_0x23262e['body']=_0x57ca13,await _0x55e7af['createNamespacedConfigMap'](_0x23262e)[_0x28bd09(0x245)](_0x42e7ab=>{const _0xe0bc16=_0x28bd09;if(_0xfb74ff[_0xe0bc16(0x2b0)](_0xfb74ff[_0xe0bc16(0x27d)],_0xfb74ff[_0xe0bc16(0x2de)]))logger['info'](_0xfb74ff[_0xe0bc16(0x2bf)]);else{const _0x1f5ae8={};_0x1f5ae8[_0xe0bc16(0x201)]=_0x16be41,_0x1f5ae8[_0xe0bc16(0x2da)]=_0x27bbe4,_0x446088[_0xe0bc16(0x1c8)](_0x1f5ae8);}}),_0x4ac792;}async['setupHubHa'](_0x40cec2,_0xa0ffdd,_0xd8f70f,_0x5ed665,_0x360d39){const _0x5d9881=a0_0x2dfcc2,_0x4e6adf={'EtTRT':function(_0x4b265e,_0x4daf67){return _0x4b265e(_0x4daf67);},'OZHPj':function(_0x650660,_0x3d4793){return _0x650660(_0x3d4793);},'yuQPa':function(_0x433a25,_0x47f16f){return _0x433a25!==_0x47f16f;},'NGgMJ':_0x5d9881(0x305),'SlSUK':function(_0x345915,_0x4bbb27){return _0x345915(_0x4bbb27);},'keFCW':_0x5d9881(0x28a),'MhCgu':_0x5d9881(0x25d),'FRYDo':_0x5d9881(0x1bb),'RjWzz':_0x5d9881(0x22e),'yLnuD':'Creating\x20required\x20dependencies\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','RuPSl':function(_0x58648a,_0x500c3d,_0x189cbd){return _0x58648a(_0x500c3d,_0x189cbd);},'bJAlY':'EFSControllerRoleArn','OBLHG':_0x5d9881(0x2a6),'ekMWH':'EFSSecurityGroup','KGEdP':'Following\x20resources\x20are\x20created:','weiMz':_0x5d9881(0x280),'TzmcN':_0x5d9881(0x2f3),'ZndJm':_0x5d9881(0x255),'KzupG':_0x5d9881(0x1ed),'FNAKL':_0x5d9881(0x24b),'PkZPK':_0x5d9881(0x227),'YSEsg':_0x5d9881(0x1e3),'dQpEQ':function(_0x2e40e9,_0xcb1a3b,_0x3c0b7a){return _0x2e40e9(_0xcb1a3b,_0x3c0b7a);},'EFDjS':_0x5d9881(0x27a),'koBVb':_0x5d9881(0x254),'WfuoT':'storage-class.yaml','GUWma':_0x5d9881(0x1b7),'oCRCI':_0x5d9881(0x323),'GuDHl':'Created\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','sHZPM':_0x5d9881(0x326),'BeoNK':'2|4|0|1|3','dvshU':function(_0x1d6ad8,_0x579f84,_0x12e4e1,_0x901d60,_0x2b22f0,_0xbca522,_0x48daad,_0xd70d2){return _0x1d6ad8(_0x579f84,_0x12e4e1,_0x901d60,_0x2b22f0,_0xbca522,_0x48daad,_0xd70d2);},'TbPpQ':_0x5d9881(0x33f),'Uvwqg':_0x5d9881(0x317),'sSnpF':_0x5d9881(0x29f)};logger[_0x5d9881(0x24e)](_0x4e6adf['MhCgu']);let _0x5d19c0;try{if(_0x4e6adf[_0x5d9881(0x22c)](_0x4e6adf[_0x5d9881(0x32f)],_0x4e6adf[_0x5d9881(0x32f)]))_0x1aa538[_0x5d9881(0x29f)](_0x40d7f1),_0x4e6adf['EtTRT'](_0x40ca8a,_0x2eb689);else{const _0x5ee556={};_0x5ee556['type']=WS_EVENTS[_0x5d9881(0x27c)],_0x5ee556[_0x5d9881(0x2a0)]=_0x4e6adf[_0x5d9881(0x285)],this['webSocketUtils']['sendEventToBackend'](this[_0x5d9881(0x2c8)],_0x5ee556),logger[_0x5d9881(0x24e)](_0x4e6adf[_0x5d9881(0x1eb)]);const _0x4c989f=await _0x4e6adf['RuPSl'](createHubHaStack,this[_0x5d9881(0x2fd)],_0x5ed665),_0x1c6585=_0x4c989f['Stacks'][0x0][_0x5d9881(0x33a)][_0x5d9881(0x26e)]((_0x133d66,_0x3e5672)=>{const _0x568f96=_0x5d9881,_0x32e747={'ZsUuY':function(_0x3e872e,_0x68514b){const _0x14afeb=a0_0x3a03;return _0x4e6adf[_0x14afeb(0x32a)](_0x3e872e,_0x68514b);}};if(_0x4e6adf['yuQPa'](_0x4e6adf[_0x568f96(0x1ba)],_0x4e6adf['NGgMJ']))_0x32e747[_0x568f96(0x251)](_0x5d5fd0,!![]);else return _0x133d66[_0x3e5672[_0x568f96(0x31c)]]=_0x3e5672[_0x568f96(0x23f)],_0x133d66;},{}),_0x46418c=_0x1c6585[_0x4e6adf['bJAlY']],_0x399371=_0x1c6585[_0x4e6adf[_0x5d9881(0x30d)]],_0x3e1c64=_0x1c6585[_0x4e6adf[_0x5d9881(0x318)]];logger[_0x5d9881(0x24e)](_0x4e6adf[_0x5d9881(0x1c1)]),logger[_0x5d9881(0x24e)](_0x5d9881(0x342)+_0x46418c),logger['info']('EFS\x20SecurityGroup\x20=>\x20'+_0x3e1c64),logger[_0x5d9881(0x24e)]('EFS\x20FileSystem\x20=>\x20'+_0x399371),_0x5d19c0=_0x5d9881(0x31a)+_0x46418c+_0x5d9881(0x26a)+_0x3e1c64+',\x20EFS_FileSystem\x20=>\x20'+_0x399371,logger[_0x5d9881(0x24e)](_0x4e6adf['weiMz']),await this[_0x5d9881(0x2c6)](_0x360d39,_0x3e1c64,_0x399371);const _0x2ea445={};_0x2ea445[_0x5d9881(0x232)]=WS_EVENTS[_0x5d9881(0x27c)],_0x2ea445['message']=_0x5d19c0,this[_0x5d9881(0x299)][_0x5d9881(0x1db)](this['rws'],_0x2ea445);const _0x4720fe={};_0x4720fe['type']=WS_EVENTS[_0x5d9881(0x27c)],_0x4720fe[_0x5d9881(0x2a0)]=_0x4e6adf[_0x5d9881(0x321)],this[_0x5d9881(0x299)]['sendEventToBackend'](this[_0x5d9881(0x2c8)],_0x4720fe),logger[_0x5d9881(0x24e)](_0x4e6adf['ZndJm']);let _0xfab8e5=await fs[_0x5d9881(0x1d5)](path[_0x5d9881(0x2f7)](__dirname,'..',_0x4e6adf['KzupG'],_0x4e6adf[_0x5d9881(0x27b)],_0x4e6adf[_0x5d9881(0x1c6)]),_0x4e6adf['YSEsg']);_0xfab8e5=_0xfab8e5[_0x5d9881(0x2ed)](/<EfsCSIControllerARN>/g,_0x46418c);const _0x5b9510=yaml[_0x5d9881(0x1d3)](_0xfab8e5);await _0x4e6adf[_0x5d9881(0x268)](kubeApply,_0x5b9510,_0xa0ffdd),logger[_0x5d9881(0x24e)](_0x4e6adf['EFDjS']),logger[_0x5d9881(0x24e)](_0x4e6adf['koBVb']);const _0x2c9ca2=await fs[_0x5d9881(0x1d5)](path[_0x5d9881(0x2f7)](__dirname,'..',_0x4e6adf[_0x5d9881(0x333)],_0x4e6adf[_0x5d9881(0x27b)],_0x4e6adf[_0x5d9881(0x222)]),_0x4e6adf[_0x5d9881(0x225)]),_0x5dabb0=yaml[_0x5d9881(0x2f9)](_0x2c9ca2);_0x5dabb0['parameters'][_0x4e6adf[_0x5d9881(0x1fb)]]=_0x399371;const _0x410f4f={};_0x410f4f['body']=_0x5dabb0;const _0x378301=await _0x40cec2[_0x5d9881(0x1ce)](_0x410f4f);logger[_0x5d9881(0x24e)](_0x4e6adf['oCRCI']);const _0x22721f={};_0x22721f['type']=WS_EVENTS[_0x5d9881(0x27c)],_0x22721f['message']=_0x4e6adf[_0x5d9881(0x303)],this[_0x5d9881(0x299)][_0x5d9881(0x1db)](this[_0x5d9881(0x2c8)],_0x22721f);}}catch(_0x33b41b){if(_0x4e6adf['yuQPa'](_0x4e6adf['sHZPM'],_0x4e6adf[_0x5d9881(0x345)])){const _0x45ef98={'UQfHC':function(_0x1fe7eb,_0x17efc0){const _0x51a529=_0x5d9881;return _0x4e6adf[_0x51a529(0x320)](_0x1fe7eb,_0x17efc0);},'tLYKO':function(_0xfe4c12,_0x352abe){const _0xa2088d=_0x5d9881;return _0x4e6adf[_0xa2088d(0x32a)](_0xfe4c12,_0x352abe);},'VIcLZ':_0x4e6adf[_0x5d9881(0x244)]},_0x3cd94c={};_0x3cd94c[_0x5d9881(0x2e4)]=[_0x4fe957];const _0x86bd29=_0x3cd94c;return new _0x540279((_0x2355fb,_0x5177b4)=>{const _0x4a2d0a=_0x5d9881,_0x4fe39f={};_0x4fe39f[_0x4a2d0a(0x2cc)]=_0x45ef98[_0x4a2d0a(0x220)],_0x4fe39f[_0x4a2d0a(0x30a)]=_0x5eb6bc[_0x4a2d0a(0x24d)];const _0x5aa5ea=new _0xc32440[(_0x4a2d0a(0x276))](_0x4fe39f);_0x5aa5ea[_0x4a2d0a(0x1b0)](_0x86bd29)['promise']()[_0x4a2d0a(0x337)](_0x3c5a26=>{const _0x4976be=_0x4a2d0a;_0x45ef98[_0x4976be(0x316)](_0x2355fb,!![]);})[_0x4a2d0a(0x245)](_0x218264=>{const _0x2844c5=_0x4a2d0a;_0x4c1e48['error'](_0x2844c5(0x2a1)+_0x5bb8b6+_0x2844c5(0x1d7)+_0x1d9364[_0x2844c5(0x24d)]+_0x2844c5(0x215)),_0x45ef98[_0x2844c5(0x2d9)](_0x2355fb,![]);});});}else{const _0x2dc89b=_0x4e6adf[_0x5d9881(0x2d7)][_0x5d9881(0x33d)]('|');let _0x14df69=0x0;while(!![]){switch(_0x2dc89b[_0x14df69++]){case'0':logger['error'](_0x5d19c0);continue;case'1':await _0x4e6adf[_0x5d9881(0x1cc)](deleteClusterAndDependencies,global_registry['clusterRegion'],this[_0x5d9881(0x2fd)]);continue;case'2':_0x5d19c0='Error\x20occurred\x20while\x20setting\x20up\x20Hub\x20HA\x20infra:\x20'+_0x33b41b[_0x5d9881(0x2a0)];continue;case'3':process[_0x5d9881(0x27f)](0x1);continue;case'4':await _0x4e6adf[_0x5d9881(0x2d8)](reportToGalactusAndSendToEDS,_0xd8f70f,this['rws'],_0x5d19c0,messageTypes[_0x5d9881(0x315)],_0x4e6adf[_0x5d9881(0x21d)],_0x4e6adf[_0x5d9881(0x272)],_0x4e6adf[_0x5d9881(0x288)]);continue;}break;}}}}async[a0_0x2dfcc2(0x2c6)](_0x292b5d,_0x177abf,_0x11fa74){const _0xd78f8c=a0_0x2dfcc2,_0x4bd71b={};_0x4bd71b['IOLtD']=function(_0x32f6b5,_0x1a500d){return _0x32f6b5===_0x1a500d;},_0x4bd71b[_0xd78f8c(0x1d6)]=_0xd78f8c(0x26b),_0x4bd71b[_0xd78f8c(0x2bc)]=_0xd78f8c(0x307);const _0x2b322f=_0x4bd71b,_0x5954c5={};_0x5954c5['region']=global_registry[_0xd78f8c(0x24d)];const _0x12cd6d=new awsSDK[(_0xd78f8c(0x23a))](_0x5954c5),_0x1ec444={};_0x1ec444['region']=global_registry[_0xd78f8c(0x24d)];const _0x3fdb58=new awsSDK[(_0xd78f8c(0x276))](_0x1ec444),_0x2dfd93=new Set(),_0x466e43=[];for(const _0xb9cf90 of _0x292b5d){if(_0x2b322f[_0xd78f8c(0x24c)](_0x2b322f[_0xd78f8c(0x1d6)],_0x2b322f[_0xd78f8c(0x1d6)])){const _0x196db1=await this['getAvailabilityZone'](_0x3fdb58,_0xb9cf90[_0xd78f8c(0x2da)]);if(_0x2dfd93['has'](_0x196db1)){if(_0x2b322f[_0xd78f8c(0x24c)](_0x2b322f[_0xd78f8c(0x2bc)],_0x2b322f[_0xd78f8c(0x2bc)])){logger[_0xd78f8c(0x24e)]('Skipping\x20subnet\x20'+_0xb9cf90[_0xd78f8c(0x2da)]+_0xd78f8c(0x250)+_0x196db1+_0xd78f8c(0x2cd));continue;}else _0xfabda4[_0xd78f8c(0x29f)](_0xd78f8c(0x30f)+_0x4a1422+'\x20:\x20'+_0x24d23d[_0xd78f8c(0x306)]),_0xe5da38[_0xd78f8c(0x1f3)]=_0xd78f8c(0x286)+_0x27902f,_0x256a64['error']=_0x462b6d;}_0x2dfd93[_0xd78f8c(0x1ea)](_0x196db1),_0x466e43[_0xd78f8c(0x1c8)](this['createMountTargetAndWait'](_0x12cd6d,_0xb9cf90,_0x177abf,_0x11fa74));}else _0x55c33b[_0xd78f8c(0x29f)]=_0x4653ff;}await Promise[_0xd78f8c(0x1ff)](_0x466e43);}async[a0_0x2dfcc2(0x258)](_0x4dc893,_0x1494fd,_0x3cdfec,_0x468808){const _0x367765=a0_0x2dfcc2,_0x24ad55={'cUVzA':function(_0x1cee0e,_0x1e9998){return _0x1cee0e(_0x1e9998);},'kPPpE':function(_0x2b9bf4,_0x1f114d){return _0x2b9bf4===_0x1f114d;},'CgKoE':_0x367765(0x2d4),'YOjBs':function(_0x532f81,_0x191994){return _0x532f81!==_0x191994;},'tNemL':_0x367765(0x2e6),'kRdfP':_0x367765(0x257)};try{if(_0x24ad55[_0x367765(0x204)](_0x24ad55['CgKoE'],_0x24ad55['CgKoE'])){const _0x26ea93={};_0x26ea93[_0x367765(0x22f)]=_0x468808,_0x26ea93[_0x367765(0x23e)]=_0x1494fd['value'],_0x26ea93[_0x367765(0x274)]=[_0x3cdfec];const _0x3d7998=await _0x4dc893[_0x367765(0x213)](_0x26ea93)['promise'](),_0x33f0b3=_0x3d7998['MountTargetId'];await this[_0x367765(0x29b)](_0x4dc893,_0x1494fd['value'],_0x33f0b3);}else return!![];}catch(_0x21c33a){_0x24ad55[_0x367765(0x2ca)](_0x24ad55[_0x367765(0x1f2)],_0x24ad55[_0x367765(0x312)])?logger[_0x367765(0x29f)]('Error\x20creating\x20mount\x20target\x20for\x20subnet\x20'+_0x1494fd[_0x367765(0x2da)]+':',_0x21c33a):(_0x2724be[_0x367765(0x2c0)][_0x367765(0x26f)](this[_0x367765(0x2fd)])&&_0x24ad55[_0x367765(0x1bc)](_0x204970,!![]),_0x24ad55['cUVzA'](_0x9bf0cb,![]));}}async[a0_0x2dfcc2(0x29b)](_0x1ea58a,_0x4c7ee3,_0xbe99c1){const _0x37581f=a0_0x2dfcc2,_0x4d36e6={'rwGIo':function(_0x255211,_0x4d3a81){return _0x255211(_0x4d3a81);},'Vwqkf':'Authmap\x20already\x20exists.\x20Not\x20updating','chuZn':function(_0x2e37cd,_0x376cb5){return _0x2e37cd!==_0x376cb5;},'JTvCP':_0x37581f(0x301),'yeaoJ':function(_0x5cf3f0,_0x1236e2){return _0x5cf3f0===_0x1236e2;},'pyEby':_0x37581f(0x2a3),'gIYGF':function(_0x4357eb,_0x16a325){return _0x4357eb===_0x16a325;},'znjWa':function(_0x5d349a,_0x2d325d){return _0x5d349a!==_0x2d325d;},'CFXWB':_0x37581f(0x309),'yXiJn':'asiwu','YqXOj':'failed','RwSbG':function(_0x466773,_0x4141e2){return _0x466773!==_0x4141e2;},'MdMpm':_0x37581f(0x239),'tamPu':_0x37581f(0x1c0)};let _0x1ba744='';while(_0x4d36e6[_0x37581f(0x287)](_0x1ba744,_0x4d36e6[_0x37581f(0x296)])){if(_0x4d36e6[_0x37581f(0x238)](_0x4d36e6[_0x37581f(0x2eb)],_0x4d36e6[_0x37581f(0x2eb)])){const _0x1e046a={};_0x1e046a[_0x37581f(0x231)]=_0xbe99c1;const _0x3ce7fa=await _0x1ea58a[_0x37581f(0x2d3)](_0x1e046a)[_0x37581f(0x281)]();_0x1ba744=_0x3ce7fa[_0x37581f(0x209)][0x0][_0x37581f(0x2af)];if(_0x4d36e6[_0x37581f(0x21f)](_0x1ba744,_0x4d36e6['JTvCP'])){if(_0x4d36e6[_0x37581f(0x247)](_0x4d36e6[_0x37581f(0x339)],_0x4d36e6[_0x37581f(0x21a)])){logger['info'](_0x37581f(0x1c2)+_0x4c7ee3+_0x37581f(0x23d)+_0xbe99c1+'.');break;}else{const _0x46f150=[],_0x767cda=[];_0x2e5844[_0x37581f(0x2ae)][_0x37581f(0x1af)](_0x15b9e4=>{const _0x3d6282=_0x37581f;_0x46f150['push'](_0x15b9e4[_0x3d6282(0x23e)]);});const _0x555075=_0x457255[_0x37581f(0x264)](_0x3a134d=>{const _0x1cd39e=_0x37581f;if(_0x46f150[_0x1cd39e(0x26f)](_0x3a134d[_0x1cd39e(0x2da)]))return!![];return _0x767cda['push'](_0x3a134d),![];});_0x4d36e6[_0x37581f(0x1cf)](_0x1c0e83,[_0x555075,_0x767cda]);}}if(_0x4d36e6[_0x37581f(0x21f)](_0x1ba744,_0x4d36e6['YqXOj'])){if(_0x4d36e6[_0x37581f(0x282)](_0x4d36e6['MdMpm'],_0x4d36e6[_0x37581f(0x2c4)]))throw new Error(_0x37581f(0x1cd)+_0xbe99c1+_0x37581f(0x310));else throw new _0xf720d4(_0x37581f(0x1cd)+_0x48240c+'\x20failed\x20to\x20reach\x20the\x20available\x20state.');}await new Promise(_0x49c2f5=>setTimeout(_0x49c2f5,0x1388));}else _0x144483['info'](_0x4d36e6[_0x37581f(0x259)]);}}async[a0_0x2dfcc2(0x1c7)](_0x58083f,_0x36649c){const _0x143ebb=a0_0x2dfcc2,_0x333a85={};_0x333a85[_0x143ebb(0x266)]=[_0x36649c];const _0x4edb25=await _0x58083f[_0x143ebb(0x2b1)](_0x333a85)[_0x143ebb(0x281)]();return _0x4edb25[_0x143ebb(0x2ae)][0x0][_0x143ebb(0x1e4)];}[a0_0x2dfcc2(0x1c5)](_0x36bfe6){const _0x10906a=a0_0x2dfcc2,_0x17d83e={'PJiIa':function(_0x179b9b,_0x49c6b1){return _0x179b9b!==_0x49c6b1;},'FCsMX':_0x10906a(0x291),'fOKOw':function(_0x3110b4,_0x286429){return _0x3110b4(_0x286429);},'RyKIr':function(_0x39b4ee,_0x2afa87){return _0x39b4ee===_0x2afa87;},'PPMAQ':'browserstack:managedBy','yyJEw':_0x10906a(0x32c),'PyeQc':_0x10906a(0x269),'hybsw':function(_0x2d561d,_0x35c0cd){return _0x2d561d!==_0x35c0cd;},'ChUzj':_0x10906a(0x262),'LKmmJ':_0x10906a(0x25c),'aEXyY':_0x10906a(0x28a)},_0x4b4edd={};_0x4b4edd[_0x10906a(0x2e4)]=[_0x36bfe6];const _0x12ec7f=_0x4b4edd;return new Promise((_0x506d5a,_0x184936)=>{const _0x72ef44=_0x10906a,_0x3f63c0={'uJsFH':function(_0x499bff,_0x27df95){const _0x527721=a0_0x3a03;return _0x17d83e[_0x527721(0x241)](_0x499bff,_0x27df95);},'NBLFf':_0x17d83e[_0x72ef44(0x2b7)],'sKuFV':function(_0x264cd0,_0x13aac5){const _0xb77937=_0x72ef44;return _0x17d83e[_0xb77937(0x236)](_0x264cd0,_0x13aac5);},'aRnrQ':_0x17d83e['ChUzj'],'MzkxQ':function(_0x35d4fb,_0x4ef862){const _0x36e942=_0x72ef44;return _0x17d83e[_0x36e942(0x28c)](_0x35d4fb,_0x4ef862);}};if(_0x17d83e[_0x72ef44(0x1d8)](_0x17d83e['LKmmJ'],_0x17d83e[_0x72ef44(0x341)])){const _0x7b889={};_0x7b889[_0x72ef44(0x2cc)]=_0x17d83e[_0x72ef44(0x325)],_0x7b889['region']=global_registry[_0x72ef44(0x24d)];const _0x431a87=new awsSDK[(_0x72ef44(0x276))](_0x7b889);_0x431a87['describeVpcs'](_0x12ec7f)[_0x72ef44(0x281)]()[_0x72ef44(0x337)](_0x53b806=>{const _0x90c1e6=_0x72ef44;if(_0x17d83e[_0x90c1e6(0x241)](_0x17d83e[_0x90c1e6(0x1da)],_0x17d83e['FCsMX'])){const _0x23fea5=_0x2367a0['EvalActionName']['split'](':')[0x0];_0x3f2925+='\x0a\x09Service:\x20'+_0x23fea5[_0x90c1e6(0x2e5)]()+_0x90c1e6(0x1fd)+_0x5ddf33[_0x26d33d[_0x90c1e6(0x270)]]+':\x20'+_0x4fe0df['EvalDecision'],_0x3f63c0[_0x90c1e6(0x298)](_0x2e9458[_0x90c1e6(0x31b)],_0x3f63c0['NBLFf'])&&(_0x4323de[_0x90c1e6(0x261)]=![]);}else _0x17d83e[_0x90c1e6(0x28c)](_0x506d5a,!![]);})[_0x72ef44(0x245)](_0x97e2e2=>{const _0x1ded67=_0x72ef44;_0x3f63c0[_0x1ded67(0x27e)](_0x3f63c0[_0x1ded67(0x1b9)],_0x3f63c0['aRnrQ'])?(_0x1f3667[_0x1ded67(0x207)]=_0x5a167d[this[_0x1ded67(0x2b2)]][_0x1ded67(0x2df)],_0x29ba81[_0x1ded67(0x2dd)]=_0x21f948[this['cloudProviderName']]['secret']):(logger[_0x1ded67(0x29f)](_0x1ded67(0x2a1)+_0x36bfe6+_0x1ded67(0x1d7)+global_registry[_0x1ded67(0x24d)]+_0x1ded67(0x215)),_0x3f63c0[_0x1ded67(0x2b8)](_0x506d5a,![]));});}else{const _0xbfdc6c=_0x5df23b[_0x72ef44(0x304)][_0x72ef44(0x2d5)];return _0xbfdc6c&&_0x17d83e[_0x72ef44(0x1d8)](_0xbfdc6c[_0x17d83e[_0x72ef44(0x302)]]['toLowerCase'](),_0x17d83e[_0x72ef44(0x210)]);}});}[a0_0x2dfcc2(0x20d)](_0x197954,_0x56cc42){const _0x2801ab=a0_0x2dfcc2,_0x3ed5b9={'nyKmq':function(_0x24abde,_0x9b28a8){return _0x24abde===_0x9b28a8;},'EtdZu':_0x2801ab(0x29d),'dQXeb':_0x2801ab(0x2a4),'szFuw':_0x2801ab(0x256),'fxpJm':'VKEto','qOuKN':'CfILH','Rfmqf':_0x2801ab(0x2b3),'bgxgD':'pMVEz','RVTvT':function(_0x38d340,_0x2579ac){return _0x38d340!==_0x2579ac;},'MuqWf':_0x2801ab(0x20c),'GOddU':function(_0x2c62d4,_0xafb13f){return _0x2c62d4(_0xafb13f);},'cnLtW':function(_0x43b81a,_0xac1f9a){return _0x43b81a===_0xac1f9a;},'pwEzj':_0x2801ab(0x308),'cdmnl':_0x2801ab(0x1e6),'ijRVn':function(_0x4aff47,_0x4d1b46){return _0x4aff47===_0x4d1b46;},'xReYd':_0x2801ab(0x2b4),'yJxPz':_0x2801ab(0x1c3),'YyJMd':_0x2801ab(0x28a),'sePMu':'vpc-id'},_0x40c002={};_0x40c002['Name']=_0x3ed5b9['sePMu'],_0x40c002[_0x2801ab(0x2f2)]=[_0x56cc42];const _0x4104da={};_0x4104da['Filters']=[_0x40c002];const _0xf88134=_0x4104da;return new Promise((_0x17d406,_0x19a616)=>{const _0x8af32f=_0x2801ab;if(_0x3ed5b9[_0x8af32f(0x25b)](_0x3ed5b9[_0x8af32f(0x319)],_0x3ed5b9[_0x8af32f(0x273)]))return![];else{const _0x3bd78f={};_0x3bd78f[_0x8af32f(0x2cc)]=_0x3ed5b9[_0x8af32f(0x2ac)],_0x3bd78f[_0x8af32f(0x30a)]=global_registry[_0x8af32f(0x24d)];const _0x31ec59=new awsSDK['EC2'](_0x3bd78f);_0x31ec59[_0x8af32f(0x2b1)](_0xf88134)[_0x8af32f(0x281)]()[_0x8af32f(0x337)](_0x2c94db=>{const _0x3e493e=_0x8af32f,_0x5f4604={'udoOK':function(_0x57208c,_0x58c5c5){const _0x40ec00=a0_0x3a03;return _0x3ed5b9[_0x40ec00(0x290)](_0x57208c,_0x58c5c5);},'IQyjT':_0x3ed5b9['EtdZu'],'NrseH':_0x3ed5b9['dQXeb'],'rBOwa':_0x3ed5b9[_0x3e493e(0x217)],'cwLuE':_0x3ed5b9[_0x3e493e(0x330)],'xUVuO':_0x3ed5b9['qOuKN'],'qhumH':_0x3ed5b9[_0x3e493e(0x2e0)],'SZwGs':_0x3ed5b9[_0x3e493e(0x223)]};if(_0x3ed5b9['RVTvT'](_0x3ed5b9[_0x3e493e(0x1e8)],_0x3ed5b9['MuqWf']))_0x71ccd['status']=![];else{const _0x5670fb=[],_0x20327f=[];_0x2c94db['Subnets']['forEach'](_0x17e212=>{const _0x4de880=_0x3e493e;if(_0x5f4604['udoOK'](_0x5f4604['IQyjT'],_0x5f4604[_0x4de880(0x20b)]))return _0x57172d[_0x5eb766['OutputKey']]=_0x469bab[_0x4de880(0x23f)],_0x5ada40;else _0x5670fb['push'](_0x17e212[_0x4de880(0x23e)]);});const _0x37c51c=_0x197954['every'](_0x1ec13c=>{const _0x1e1f98=_0x3e493e,_0x4ea9e2={};_0x4ea9e2['mQCoq']=_0x5f4604[_0x1e1f98(0x1f5)];const _0x149180=_0x4ea9e2;if(_0x5f4604['udoOK'](_0x5f4604[_0x1e1f98(0x1f7)],_0x5f4604[_0x1e1f98(0x2ce)])){const _0x13a799={};_0x13a799[_0x1e1f98(0x2cc)]=_0x149180[_0x1e1f98(0x229)];const _0x1759ac=new _0x4521c8['EKS'](_0x13a799),_0x192341={};return _0x192341[_0x1e1f98(0x2fd)]=this[_0x1e1f98(0x2fd)],_0x192341[_0x1e1f98(0x2a5)]=_0x340be1,_0x1759ac[_0x1e1f98(0x1f1)](_0x192341)['promise']();}else{if(_0x5670fb[_0x1e1f98(0x26f)](_0x1ec13c[_0x1e1f98(0x2da)])){if(_0x5f4604[_0x1e1f98(0x283)](_0x5f4604[_0x1e1f98(0x1d0)],_0x5f4604['SZwGs'])){const _0x3e0136=_0x1dcd12[_0x1e1f98(0x20e)][0x0][_0x1e1f98(0x33a)][0x2][_0x1e1f98(0x23f)],_0x135624=_0x1f8fd6[_0x1e1f98(0x20e)][0x0][_0x1e1f98(0x33a)][0x5]['OutputValue'][_0x1e1f98(0x33d)](',');_0x4dc840=_0x3e0136;const _0x30f7e9=[];for(const _0x53e215 of _0x135624){const _0x142908={};_0x142908[_0x1e1f98(0x201)]=_0x53e215,_0x142908['value']=_0x53e215,_0x30f7e9[_0x1e1f98(0x1c8)](_0x142908);}_0x5f1079=_0x30f7e9,_0x3e8fd[_0x1e1f98(0x24e)](_0x1e1f98(0x284)+_0x3e0136+'\x20'),_0x425809[_0x1e1f98(0x24e)](_0x1e1f98(0x24a)+_0x135624+'\x20'),_0x16aec1+=_0x1e1f98(0x2db)+_0x3e0136+_0x1e1f98(0x1be)+_0x135624+',\x20';}else return!![];}return _0x20327f['push'](_0x1ec13c),![];}});_0x3ed5b9[_0x3e493e(0x2ec)](_0x17d406,[_0x37c51c,_0x20327f]);}})[_0x8af32f(0x245)](_0xee591f=>{const _0x121d87=_0x8af32f;if(_0x3ed5b9[_0x121d87(0x2e8)](_0x3ed5b9['pwEzj'],_0x3ed5b9['cdmnl']))return _0x28fea0['status'][_0x121d87(0x33e)][_0x121d87(0x2c9)][0x0]['hostname'];else logger['error'](_0x121d87(0x1e7)+_0x197954+'\x20in\x20region\x20'+global_registry[_0x121d87(0x24d)]+_0x121d87(0x343)+_0xee591f),_0x3ed5b9[_0x121d87(0x2ec)](_0x17d406,[![],[]]);});}});}async[a0_0x2dfcc2(0x29c)](){const _0x305908=a0_0x2dfcc2,_0x4f7c61={'KukMQ':function(_0xb649b7,_0x4110f4){return _0xb649b7(_0x4110f4);},'Addym':'aws-iam-authenticator\x20help','HGNlE':_0x305908(0x1f6),'vUDli':_0x305908(0x30c)},_0x7d69bf={};_0x7d69bf['status']=![],_0x7d69bf['error']=null,_0x7d69bf[_0x305908(0x1f3)]='';const _0x448707=_0x7d69bf;try{const _0x543c80=await _0x4f7c61[_0x305908(0x346)](runCommand,_0x4f7c61[_0x305908(0x275)]);_0x543c80['startsWith'](_0x4f7c61[_0x305908(0x248)])?logger['warn'](_0x543c80):logger[_0x305908(0x22d)](_0x543c80),_0x448707['status']=!![],_0x448707[_0x305908(0x1f3)]=_0x4f7c61[_0x305908(0x1ad)];}catch(_0x3726c2){logger['error']('error\x20:\x20'+_0x3726c2+_0x305908(0x1b4)+_0x3726c2['stack']),_0x448707[_0x305908(0x1f3)]=_0x305908(0x286)+_0x3726c2,_0x448707[_0x305908(0x29f)]=_0x3726c2;}return _0x448707;}async[a0_0x2dfcc2(0x20a)](){const _0x58b615=a0_0x2dfcc2,_0x3b3ad1={};_0x3b3ad1['PYbSN']=':role/',_0x3b3ad1[_0x58b615(0x2c2)]=_0x58b615(0x294);const _0x51b16f=_0x3b3ad1,_0x50e2a9=await new awsSDK[(_0x58b615(0x2e3))]()[_0x58b615(0x2a2)]()['promise'](),{Account:_0xf9b969,Arn:_0x322176}=_0x50e2a9,_0x5eee94=_0x322176[_0x58b615(0x26f)](_0x51b16f[_0x58b615(0x1de)]),_0x25543a=_0x5eee94?_0x58b615(0x289)+_0xf9b969+_0x58b615(0x2e7)+_0x322176['split'](_0x51b16f[_0x58b615(0x1de)])[0x1]:_0x58b615(0x289)+_0xf9b969+_0x58b615(0x294)+_0x322176['split'](_0x51b16f[_0x58b615(0x2c2)])[0x1];return _0x25543a;}async[a0_0x2dfcc2(0x1dc)](){const _0x829e93=a0_0x2dfcc2,_0x4f8c3c={};_0x4f8c3c[_0x829e93(0x219)]=function(_0x345a15,_0x1c23b1){return _0x345a15!==_0x1c23b1;},_0x4f8c3c[_0x829e93(0x25f)]=_0x829e93(0x269);const _0x5d056a=_0x4f8c3c,_0x1a4dd4={};_0x1a4dd4[_0x829e93(0x261)]=![],_0x1a4dd4[_0x829e93(0x29f)]=null,_0x1a4dd4[_0x829e93(0x1f3)]='';const _0x204f2f=_0x1a4dd4;try{const _0x3afa6f=await this[_0x829e93(0x20a)](),_0x57d000={'PolicySourceArn':_0x3afa6f,'ActionNames':Object[_0x829e93(0x267)](PERMISSIONS)},_0x58a220=await new awsSDK[(_0x829e93(0x2ad))]()[_0x829e93(0x1fc)](_0x57d000)['promise']();let _0x4ae263='';logger[_0x829e93(0x22d)](_0x829e93(0x1bd)+JSON[_0x829e93(0x344)](_0x58a220)),_0x204f2f[_0x829e93(0x261)]=!![],_0x58a220['EvaluationResults']['forEach'](_0x12ecfb=>{const _0x3a736e=_0x829e93,_0x343d51=_0x12ecfb[_0x3a736e(0x270)][_0x3a736e(0x33d)](':')[0x0];_0x4ae263+=_0x3a736e(0x260)+_0x343d51[_0x3a736e(0x2e5)]()+_0x3a736e(0x1fd)+PERMISSIONS[_0x12ecfb['EvalActionName']]+':\x20'+_0x12ecfb['EvalDecision'],_0x5d056a[_0x3a736e(0x219)](_0x12ecfb[_0x3a736e(0x31b)],_0x5d056a['OQVDu'])&&(_0x204f2f['status']=![]);}),_0x204f2f[_0x829e93(0x1f3)]=_0x4ae263;}catch(_0x265baf){_0x204f2f[_0x829e93(0x29f)]=_0x265baf;}return _0x204f2f;}}const a0_0x275d69={};a0_0x275d69['AWSCloudProvider']=AWSCloudProvider,module['exports']=a0_0x275d69;