const a0_0x15f6a7=a0_0x35ea;function a0_0x2209(){const _0x3656ff=['permissions\x20check\x20response:\x20','yGgER','FNUpn',':role/','createMountTargetAndWait','EFSControllerRoleArn','LifeCycleState','canBT','update','allowed','Subnets','sendEventToBackend','describeCluster','BfPoy','wnrUm','setupHubHa','isClusterPresent','OnIjT','readFileAsync',',\x20MountTargetId:\x20','QdpVC',',\x20ClusterRole\x20=>\x20','pvpnu','Wgmdh','LgQPA','zjKNO','aws-auth-cm.yaml','qPNpd','lkLgr','rws','rTxjT','Btgon','Following\x20resources\x20are\x20created\x20for\x20Hub\x20HA:\x20EFS_ControllerRoleArn\x20=>\x20','TXniY','ERROR','HpygD','pECQM','DUYdm','hpuwW','hkZgo','GirUr','qBbNp','reduce','ViyNO','VPC\x20=>\x20','Stacks','tycoF','<ARN>','JDlHS','EC2','LhfGi','ZyoBW','CyqAK','label','stack','IrUfa','PjZMG','MountTargets','listClusters','YaVCu','wgxLF','xhuTZ','JPqRL','\x20has\x20already\x20been\x20used.','arn:aws:iam::','BYVJi','ingress','EFSFileSystemId','Creating\x20required\x20resources\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','Skipping\x20subnet\x20','CXSzq','426132DLWLag','eYxUc','Cluster\x20=>\x20','eEROW','EFS','YuuTN','browserstack','Uftuj','DDUUQ','WAsvJ','createNamespacedConfigMap','templates','minNodes','zPaGD','1|4|0|3|2','TuVNo','hubharesources','jvhCs','js-yaml','VzIxY','xTVTG','toLowerCase','then','hub-ha-aws-setup-failed','XIiNb','body','warning','OutputKey','storage-class.yaml','RmTbS','Creating\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','kMQHQ','LOG','nodegroupName','clusterAutoUpgrade','\x20SECRET\x20KEY:\x20','Skipping\x20Autoscaler\x20due\x20to:\x20','Hhiya','Setting\x20up\x20Hub\x20HA','pAvfw','QkhQr','LelAT','40BElVyo','3423501nNdPek','AqTIs','DydlX','BWzuh','init','CeENL','accessKeyId','debug','bKYGJ','GJnJu','writeFileSync','zmCqy','LwJSo','add','JdgnI','startsWith','xLCJC','createMountTarget','forEach','32580430pkwaSE','BdiHT','getGridHostname','WRndv','Error\x20creating\x20mount\x20target\x20for\x20subnet\x20','pUnDW','namespace','xQcvy','cpjxC',',\x20EFS_SecurityGroup\x20=>\x20','Filters','describeNodegroup','../utils/createHubHaStack','\x20failed\x20to\x20reach\x20the\x20available\x20state.','FileSystemId','VtLDY','KlBhE','rROsP','hXBbl','mxTgv','isCliToolInstalled','SVzLB','status','EFS\x20SecurityGroup\x20=>\x20','AzUlB','Subnets\x20=>\x20','region','EFS\x20Controller\x20Role\x20=>\x20','checkAccess','exports','WARNING','split','eyOkj','createMountTargets','omaSI','Following\x20resources\x20are\x20created:\x20Cluster\x20=>\x20','NxyTV','HKOAy','pNmbk','CiKqd','getKubeConfigData','OutputValue','Outputs','certificateAuthority','oZjHI','getCallerIdentity','info','Pqfwx','join','Authmap\x20already\x20exists.\x20Not\x20updating','maxNodes','webSocketUtils','veiGQ','9435601DdPWrn','GpoAJ',':user/','HPtba','KubeConfigTemplate.yaml','kwNRm','chZNi','rvCIh','iHJOr','Mounting\x20Target\x20for\x20EFS','getClusterInfo','\x0aaws_secret_access_key\x20=\x20','uPgvX','kube-system','ZVgZn','qCdiZ','eUwun','../utils/hstUtils','deleteCluster','has','xIkai','OFqTM','MvmJH','clusters','PVOlA','load','siJzn','iXqAE','exit','\x0a\x09Service:\x20','cloudProvider','.\x20Please\x20Check\x20and\x20try\x20again','zIqFc','hHWvY','ChiQo','DjCFN','HWbFx','available','AvailabilityZone','uxHMv','value','EKS','clusterName','hMTNJ','yOptP','../utils/createAutoscalerStack','error','zspRZ','Error\x20occurred\x20while\x20setting\x20up\x20Hub\x20HA\x20infra:\x20','dmhjE','all','catch','QTmZh','createAuthConfigMap','config','wfUgX','message','.\x20Error:\x20','VoIxy','browserstack:managedBy','GhecY','YhtHl','VcYgf','toUpperCase','cloudProviderAccessKey','PCpXi','IAM','nVJjN','EFS\x20FileSystem\x20=>\x20','apiVersion','Mount\x20target\x20','OUkqf','SrOAM','wKFkW','\x20ACCESS\x20KEY:\x20','jNcyh','NXBUt','FQUEg','aws_credentials','Added\x20storage\x20class.','oUxWA','srqfd','bwQpd','parameters','RBOBG','nodegroup','kxVKn','../config/logger','1920866zsWbYE','\x20|\x20Action\x20:\x20','waitForMountTarget','getAvailabilityZone','eZTOv','obAHf','PlTnj','iJfap','secret','1173798lCDkIg','HDYdJ','rMKqu','CCroi','yGagr','1yAJfoU','cloudProviderName','Mount\x20target\x20created\x20for\x20subnet:\x20','DiUTp','zzDtD','TuRGV','type','../config/constants','XlXDW',',\x20EFS_FileSystem\x20=>\x20','aws-iam-authenticator\x20help','clusterRegion','yWoBV','YQYwr','HstkE','every','hpJnW','SCBhJ','\x20in\x20region\x20','accessKey','promise','ZoCYS','\x20:\x20','Please\x20install\x20aws-iam-authenticator\x20tool.\x20Error\x20:\x20','nSlwd','EtxWg','-NodeGroup','Cannot\x20find\x20subnets\x20','nodeRole','MountTargetId','LufNo','toString',',\x20Subnets\x20=>\x20','Creating\x20Autoscaler\x20Role','path','SecurityGroups','cgPVh','endpoint','jGxyV','efeBk','checkClusterCreated','vpc-id','qMpqe','KGabz','Bmjmw','sDwGD','stringify','Cannot\x20find\x20VPC\x20','warn','FCvHC','lfjMQ','cloudProviderSecretKey','SubnetIds','VcCiS','SecurityGroups\x20=>\x20','2017-11-01','cluster','SWUFl','Adding\x20storage\x20class...','replace','utf-8','EvalDecision','match','SubnetId','9UxVWVi','Adding\x20EFS\x20CSI\x20Driver','data','LJGth','JDORG','.\x20Deleting\x20all\x20the\x20stacks','bHtVD','KpaeU',',VPC\x20=>\x20','OFfIc','hPIDI','fCrFN','xyTBo','PYhjw',',\x20NodeRole\x20=>\x20','EvaluationResults','2016-11-15','PAcMT','aws-iam-authenticator\x20tool\x20is\x20installed','name','AfGBw','rjhAN','NodeRole\x20=>\x20','VpcIds','loadBalancer','YjZml','yxdFN','XTfTj','btBfK','setupNewCluster','aePJx','includes','eVQZp','setupAutoscaler','mapRoles','5988696lcEshy','WKFKN','describeVpcs','create-grid-called','push','tqwgF','error\x20:\x20','hlIHJ','ZnkLq','simulatePrincipalPolicy','Name','hostname','nDtRu','aws-sdk','VJEbA','CjFax','EvalActionName','setCachedCredsInRegistry','failed','swzpU',',\x20SecurityGroups\x20=>\x20','Following\x20resources\x20are\x20created:','qCNlR','JZJbg','AbQry','cxajG'];a0_0x2209=function(){return _0x3656ff;};return a0_0x2209();}(function(_0x344204,_0x14d2f0){const _0x405221=a0_0x35ea,_0x3a36a7=_0x344204();while(!![]){try{const _0x2975d9=parseInt(_0x405221(0x176))/0x1*(-parseInt(_0x405221(0x168))/0x2)+parseInt(_0x405221(0xc8))/0x3+-parseInt(_0x405221(0x9d))/0x4*(parseInt(_0x405221(0xc7))/0x5)+parseInt(_0x405221(0x171))/0x6+-parseInt(_0x405221(0x110))/0x7+-parseInt(_0x405221(0x1d9))/0x8*(parseInt(_0x405221(0x1b6))/0x9)+parseInt(_0x405221(0xdb))/0xa;if(_0x2975d9===_0x14d2f0)break;else _0x3a36a7['push'](_0x3a36a7['shift']());}catch(_0x153e4d){_0x3a36a7['push'](_0x3a36a7['shift']());}}}(a0_0x2209,0xa7630));const fs=require('fs'),path=require(a0_0x15f6a7(0x198)),yaml=require(a0_0x15f6a7(0xaf)),awsSDK=require(a0_0x15f6a7(0x1e6)),{logger}=require(a0_0x15f6a7(0x167)),{CloudProvider}=require('./CloudProvider'),{sendAWSInfoToHST}=require(a0_0x15f6a7(0x121)),{createClusterStack}=require('../utils/createClusterStack'),{createHubHaStack}=require(a0_0x15f6a7(0xe7)),{deleteClusterAndDependencies,deleteRoutingDeps,deleteAgent}=require('../utils/gridComponents'),{createAutoscalerStack}=require(a0_0x15f6a7(0x13d)),{getDirForConfig,reportToGalactusAndSendToEDS,kubeApply,runCommand}=require('../utils/utilityMethods'),{IAM_USER_NAME,AWS,WS_EVENTS,global_registry,messageTypes}=require(a0_0x15f6a7(0x17d)),PERMISSIONS=require('../permissions/AWS.json');function a0_0x35ea(_0x43ec4d,_0x499f12){const _0x22093e=a0_0x2209();return a0_0x35ea=function(_0x35ea0f,_0x5da1ae){_0x35ea0f=_0x35ea0f-0x6b;let _0x53f948=_0x22093e[_0x35ea0f];return _0x53f948;},a0_0x35ea(_0x43ec4d,_0x499f12);}class AWSCloudProvider extends CloudProvider{constructor(_0x47bc22,_0x2c62e2,_0x472714,_0x26f212){super(AWS,_0x47bc22,_0x2c62e2,_0x472714,_0x26f212);}async[a0_0x15f6a7(0xcc)](){const _0x5581e0=a0_0x15f6a7;await super[_0x5581e0(0xcc)]();const _0x242324={};return _0x242324[_0x5581e0(0xf5)]=global_registry['clusterRegion'],_0x242324[_0x5581e0(0xce)]=global_registry[_0x5581e0(0x150)],_0x242324['secretAccessKey']=global_registry[_0x5581e0(0x1a9)],awsSDK[_0x5581e0(0x146)][_0x5581e0(0x1fb)](_0x242324),this;}async['sendResourceDataToHST'](){const _0x5cd076=a0_0x15f6a7,_0x412100={'DjCFN':function(_0x37e98,_0x4956f4){return _0x37e98(_0x4956f4);}};_0x412100[_0x5cd076(0x133)](sendAWSInfoToHST,this['rws']);}async[a0_0x15f6a7(0x1ea)](_0x2f499c){const _0x3a1af0=a0_0x15f6a7;global_registry[_0x3a1af0(0x150)]=_0x2f499c[this[_0x3a1af0(0x177)]][_0x3a1af0(0x189)],global_registry[_0x3a1af0(0x1a9)]=_0x2f499c[this[_0x3a1af0(0x177)]]['secret'];}[a0_0x15f6a7(0xdd)](_0xea55c5){const _0x394b70=a0_0x15f6a7;return _0xea55c5['status']['loadBalancer']['ingress'][0x0][_0x394b70(0x1e4)];}async['isBrowserstackCluster'](){const _0x470c30=a0_0x15f6a7,_0x1d6613={'PCpXi':function(_0x5b686a,_0x391450){return _0x5b686a(_0x391450);},'JdgnI':function(_0x281c92,_0x579750){return _0x281c92!==_0x579750;},'hpuwW':_0x470c30(0xa2),'PjZMG':_0x470c30(0xb0),'nSlwd':_0x470c30(0x1a8),'OUkqf':function(_0x5a4e6f,_0xe48c26){return _0x5a4e6f===_0xe48c26;},'hHWvY':_0x470c30(0x14b),'SVzLB':_0x470c30(0xa3),'RmTbS':function(_0x5d0a8c,_0x2d0f13){return _0x5d0a8c!==_0x2d0f13;},'VtLDY':'NTVwG'};try{if(_0x1d6613[_0x470c30(0xd6)](_0x1d6613[_0x470c30(0x7c)],_0x1d6613['hpuwW']))_0x3f2e1f[_0x470c30(0x13e)](_0x470c30(0xdf)+_0x2ba05c[_0x470c30(0x138)]+':',_0x20008b);else{const _0x4dff22=await this[_0x470c30(0x11a)]();if(_0x4dff22[_0x470c30(0x1ae)]){if(_0x1d6613[_0x470c30(0xd6)](_0x1d6613[_0x470c30(0x8e)],_0x1d6613[_0x470c30(0x18e)])){const _0x3d3616=_0x4dff22[_0x470c30(0x1ae)]['tags'];return _0x3d3616&&_0x1d6613[_0x470c30(0x157)](_0x3d3616[_0x1d6613[_0x470c30(0x131)]][_0x470c30(0xb2)](),_0x1d6613[_0x470c30(0xf0)]);}else{const _0xc58ad5=[],_0x3151a1=[];_0x3971df[_0x470c30(0x1fd)][_0x470c30(0xda)](_0x3afc6f=>{const _0x326bf7=_0x470c30;_0xc58ad5[_0x326bf7(0x1dd)](_0x3afc6f[_0x326bf7(0x1b5)]);});const _0x2eacbf=_0x43d2df[_0x470c30(0x185)](_0x45c184=>{const _0x47b823=_0x470c30;if(_0xc58ad5[_0x47b823(0x1d5)](_0x45c184[_0x47b823(0x138)]))return!![];return _0x3151a1[_0x47b823(0x1dd)](_0x45c184),![];});_0x1d6613['PCpXi'](_0x3f1584,[_0x2eacbf,_0x3151a1]);}}}}catch(_0x2c6ac9){if(_0x1d6613[_0x470c30(0xba)](_0x1d6613[_0x470c30(0xea)],_0x1d6613[_0x470c30(0xea)]))_0x1d6613[_0x470c30(0x151)](_0x49e19c,!![]);else return![];}return![];}async[a0_0x15f6a7(0x203)](){const _0x13669e=a0_0x15f6a7;return this[_0x13669e(0x19e)]();}async[a0_0x15f6a7(0x11a)](){const _0x55efc4=a0_0x15f6a7,_0x5e3f1c={};_0x5e3f1c['DUYdm']='2017-11-01';const _0x35253c=_0x5e3f1c,_0xcf8f81={};_0xcf8f81[_0x55efc4(0x155)]=_0x35253c[_0x55efc4(0x7b)];const _0x3c5dcb=new awsSDK['EKS'](_0xcf8f81),_0x1d16b0={};return _0x1d16b0[_0x55efc4(0x1c9)]=this[_0x55efc4(0x13a)],_0x3c5dcb[_0x55efc4(0x1ff)](_0x1d16b0)['promise']();}async[a0_0x15f6a7(0x145)](_0x2068e3){const _0x2698da=a0_0x15f6a7,_0x13e66b={};_0x13e66b[_0x2698da(0x72)]=_0x2698da(0xa8),_0x13e66b[_0x2698da(0xc2)]=_0x2698da(0x70),_0x13e66b[_0x2698da(0x137)]=_0x2698da(0x1b2),_0x13e66b[_0x2698da(0xe0)]=_0x2698da(0x85);const _0x4ea97a=_0x13e66b,_0x523bd3=await fs['readFileAsync'](path[_0x2698da(0x10b)](__dirname,'..',_0x4ea97a[_0x2698da(0x72)],_0x4ea97a[_0x2698da(0xc2)]),_0x4ea97a[_0x2698da(0x137)]),_0x23c2ba=yaml[_0x2698da(0x129)](_0x523bd3);return _0x23c2ba[_0x2698da(0x1b8)]['mapRoles']=_0x23c2ba[_0x2698da(0x1b8)][_0x2698da(0x1d8)][_0x2698da(0x1b1)](_0x4ea97a['pUnDW'],_0x2068e3),_0x23c2ba;}async['getNodeGroupInfo'](_0x3a3f11){const _0x56a5ea=a0_0x15f6a7,_0x278b7a={};_0x278b7a['PAcMT']=_0x56a5ea(0x1ad);const _0x1106ad=_0x278b7a,_0x35d8e1={};_0x35d8e1[_0x56a5ea(0x155)]=_0x1106ad[_0x56a5ea(0x1c7)];const _0x3b6f35=new awsSDK[(_0x56a5ea(0x139))](_0x35d8e1),_0x32d1c2={};return _0x32d1c2['clusterName']=this['clusterName'],_0x32d1c2[_0x56a5ea(0xbe)]=_0x3a3f11,_0x3b6f35[_0x56a5ea(0xe6)](_0x32d1c2)[_0x56a5ea(0x18a)]();}async[a0_0x15f6a7(0x19e)](){const _0x56a1d3=a0_0x15f6a7,_0x5982cf={'WeKiJ':function(_0x2ae1e2,_0x3dc4d3){return _0x2ae1e2(_0x3dc4d3);},'bJkJp':function(_0x5eb1f1,_0x5b71a7){return _0x5eb1f1===_0x5b71a7;},'xIkai':_0x56a1d3(0x1c3),'FNUpn':_0x56a1d3(0xd1),'GirUr':_0x56a1d3(0x128),'wgYbz':function(_0x1a9b3e,_0x144bdf){return _0x1a9b3e(_0x144bdf);},'CXSzq':function(_0x112285,_0x5bf7e6){return _0x112285!==_0x5bf7e6;},'ZnUSy':_0x56a1d3(0x1e5),'BYVJi':function(_0x4878fa,_0x54e1de){return _0x4878fa(_0x54e1de);},'fwqiv':function(_0x35549e,_0x426804){return _0x35549e!==_0x426804;},'GhecY':'LPVYs','yGgER':'2017-11-01'};return new Promise((_0xd9e627,_0xf260de)=>{const _0x2247c1=_0x56a1d3,_0x5c9aef={'CeENL':function(_0xc6d7be,_0x4ae56e){return _0x5982cf['WeKiJ'](_0xc6d7be,_0x4ae56e);},'hpJnW':function(_0x516025,_0x3460c8){return _0x5982cf['bJkJp'](_0x516025,_0x3460c8);},'XIiNb':_0x5982cf[_0x2247c1(0x124)],'WAsvJ':_0x5982cf[_0x2247c1(0x1f5)],'GpoAJ':_0x5982cf[_0x2247c1(0x7e)],'TuVNo':function(_0x223061,_0x3ad3e8){return _0x5982cf['wgYbz'](_0x223061,_0x3ad3e8);},'ZyoBW':function(_0x124609,_0x20a0c8){const _0x547738=_0x2247c1;return _0x5982cf[_0x547738(0x9c)](_0x124609,_0x20a0c8);},'xyTBo':_0x5982cf['ZnUSy'],'kwNRm':function(_0x4a007e,_0x4212b8){const _0x387dc2=_0x2247c1;return _0x5982cf[_0x387dc2(0x97)](_0x4a007e,_0x4212b8);}};if(_0x5982cf['fwqiv'](_0x5982cf['GhecY'],_0x5982cf[_0x2247c1(0x14c)]))_0x5c9aef[_0x2247c1(0xcd)](_0x492d50,!![]);else{const _0x30f18={};_0x30f18[_0x2247c1(0x155)]=_0x5982cf[_0x2247c1(0x1f4)];const _0x325969=new awsSDK[(_0x2247c1(0x139))](_0x30f18);_0x325969[_0x2247c1(0x90)]()[_0x2247c1(0x18a)]()[_0x2247c1(0xb3)](_0x5788e9=>{const _0x17fd5c=_0x2247c1;if(_0x5c9aef[_0x17fd5c(0x186)](_0x5c9aef[_0x17fd5c(0xb5)],_0x5c9aef[_0x17fd5c(0xb5)])){if(_0x5788e9[_0x17fd5c(0x127)]['includes'](this[_0x17fd5c(0x13a)])){if(_0x5c9aef[_0x17fd5c(0x186)](_0x5c9aef[_0x17fd5c(0xa6)],_0x5c9aef[_0x17fd5c(0x111)]))return _0x3cb9f8[_0x2f576e['OutputKey']]=_0x8c4f2d[_0x17fd5c(0x104)],_0x2ae5bf;else _0x5c9aef[_0x17fd5c(0xac)](_0xd9e627,!![]);}_0x5c9aef[_0x17fd5c(0xac)](_0xd9e627,![]);}else _0x1fd16b['error'](_0x17fd5c(0x191)+_0x23499c+'\x20in\x20region\x20'+_0x2077aa[_0x17fd5c(0x181)]+_0x17fd5c(0x149)+_0x4c5803),_0x5c9aef[_0x17fd5c(0xcd)](_0x5e57e5,[![],[]]);})['catch'](_0x17a6f8=>{const _0x4334fa=_0x2247c1;if(_0x5c9aef[_0x4334fa(0x89)](_0x5c9aef[_0x4334fa(0x1c2)],_0x5c9aef[_0x4334fa(0x1c2)])){const _0x2d9c98={};_0x2d9c98['label']=_0x19d850,_0x2d9c98[_0x4334fa(0x138)]=_0x1afbd0,_0x7ab4da[_0x4334fa(0x1dd)](_0x2d9c98);}else logger['error'](_0x17a6f8),_0x5c9aef[_0x4334fa(0x115)](_0xf260de,_0x17a6f8);});}});}async['getUserInput'](_0x5f2a82,_0x56f786){const _0x3620eb=a0_0x15f6a7,_0x3dffe1={'VJEbA':function(_0x4fd9b9,_0x36b3e5){return _0x4fd9b9(_0x36b3e5);}},_0x384367=this[_0x3620eb(0x177)][_0x3620eb(0x14f)](),_0x2d4813=await _0x3dffe1[_0x3620eb(0x1e7)](_0x5f2a82,_0x384367+_0x3620eb(0x15a)),_0x2101e8=await _0x3dffe1[_0x3620eb(0x1e7)](_0x5f2a82,_0x384367+_0x3620eb(0xc0));global_registry['cloudProviderAccessKey']=_0x2d4813,global_registry[_0x3620eb(0x1a9)]=_0x2101e8;const _0x43ec00={};return _0x43ec00['accessKey']=_0x2d4813,_0x43ec00['secret']=_0x2101e8,_0x56f786[_0x3620eb(0x12e)][AWS]=_0x43ec00,_0x56f786;}async[a0_0x15f6a7(0x103)](){const _0xd9f5fd=a0_0x15f6a7,_0x132442={'KHMoR':function(_0xd23f91){return _0xd23f91();},'eyOkj':_0xd9f5fd(0x15e),'OpIzM':_0xd9f5fd(0xa8),'clhCB':_0xd9f5fd(0x114)},_0x1728e3=_0x132442['KHMoR'](getDirForConfig),_0xccd001=await this[_0xd9f5fd(0x11a)](),_0x4c1cf2=path[_0xd9f5fd(0x10b)](_0x1728e3,_0x132442[_0xd9f5fd(0xfb)]),_0x4d1156='[ats]\x0aaws_access_key_id\x20=\x20'+global_registry[_0xd9f5fd(0x150)]+_0xd9f5fd(0x11b)+global_registry['cloudProviderSecretKey'];fs[_0xd9f5fd(0xd2)](_0x4c1cf2,_0x4d1156);let _0x5dc79a=await fs['readFileAsync'](path[_0xd9f5fd(0x10b)](__dirname,'..',_0x132442['OpIzM'],_0x132442['clhCB']));return _0x5dc79a=_0x5dc79a[_0xd9f5fd(0x195)](),_0x5dc79a=_0x5dc79a[_0xd9f5fd(0x1b1)](/<CLUSTER_NAME>/g,this[_0xd9f5fd(0x13a)]),_0x5dc79a=_0x5dc79a['replace'](/<CLUSTER_URL>/g,_0xccd001[_0xd9f5fd(0x1ae)][_0xd9f5fd(0x19b)]),_0x5dc79a=_0x5dc79a[_0xd9f5fd(0x1b1)](/<CERTIFICATE_DATA>/g,_0xccd001[_0xd9f5fd(0x1ae)][_0xd9f5fd(0x106)][_0xd9f5fd(0x1b8)]),_0x5dc79a=_0x5dc79a[_0xd9f5fd(0x1b1)](/<CLUSTER_REGION>/g,global_registry[_0xd9f5fd(0x181)]),_0x5dc79a=_0x5dc79a[_0xd9f5fd(0x1b1)](/<CLUSTER_NAME_USER>/g,IAM_USER_NAME),_0x5dc79a=_0x5dc79a['replace'](/<CLOUD_PROVIDER_ACCESS_KEY>/g,global_registry[_0xd9f5fd(0x150)]),_0x5dc79a=_0x5dc79a['replace'](/<CLOUD_PROVIDER_SECRET>/g,global_registry[_0xd9f5fd(0x1a9)]),_0x5dc79a=_0x5dc79a[_0xd9f5fd(0x1b1)](/<AWS_CONFIG_FILE_PATH>/g,_0x4c1cf2),_0x5dc79a;}async[a0_0x15f6a7(0x1d3)](_0x2cac2b=null,_0x44b08e=null){const _0xf1d3b1=a0_0x15f6a7,_0x36b617={'LgQPA':_0xf1d3b1(0x1ad),'zIqFc':'Creating\x20required\x20resources\x20-\x20EKS\x20role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups,\x20Cluster\x20and\x20Node\x20Group(s)','rROsP':'Creating\x20required\x20dependencies\x20-\x20EKS\x20Role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups\x20and\x20Cluster\x20and\x20Node\x20Group(s)','yOptP':function(_0x45e695,_0x4cf397,_0x182e90,_0xc4406c,_0x27fe72,_0x2a34a7,_0x389293){return _0x45e695(_0x4cf397,_0x182e90,_0xc4406c,_0x27fe72,_0x2a34a7,_0x389293);},'AnzxO':_0xf1d3b1(0x1ee),'JZJbg':function(_0x2f58f7,_0x7a66ee){return _0x2f58f7===_0x7a66ee;},'eZTOv':function(_0x4886cb,_0x4af286){return _0x4886cb===_0x4af286;},'sYaly':function(_0xdcde4a,_0x13e4ff){return _0xdcde4a!==_0x13e4ff;},'djLRM':_0xf1d3b1(0x12b),'rjhAN':function(_0x49eab9,_0x12c845){return _0x49eab9!==_0x12c845;},'KpaeU':_0xf1d3b1(0x81)},_0xcfdb6e={};_0xcfdb6e[_0xf1d3b1(0x17c)]=WS_EVENTS['LOG'],_0xcfdb6e[_0xf1d3b1(0x148)]=_0x36b617[_0xf1d3b1(0x130)],this[_0xf1d3b1(0x10e)]['sendEventToBackend'](this['rws'],_0xcfdb6e),logger['info'](_0x36b617[_0xf1d3b1(0xec)]);const _0x1c0eff=global_registry[_0xf1d3b1(0xa9)],_0x5a10e4=global_registry[_0xf1d3b1(0x10d)],_0x282624=global_registry[_0xf1d3b1(0xbf)],_0xd5c1e=await _0x36b617[_0xf1d3b1(0x13c)](createClusterStack,this[_0xf1d3b1(0x13a)],_0x1c0eff,_0x5a10e4,_0x2cac2b,_0x44b08e,_0x282624),_0x3bfe7e=_0xd5c1e['Stacks'][0x0][_0xf1d3b1(0x105)][0x0]['OutputValue']['split'](','),_0x1fa7b8=_0xd5c1e[_0xf1d3b1(0x83)][0x0][_0xf1d3b1(0x105)][0x1]['OutputValue'],_0x141ecd=_0xd5c1e[_0xf1d3b1(0x83)][0x0][_0xf1d3b1(0x105)][0x3]['OutputValue'],_0x36a220=_0xd5c1e[_0xf1d3b1(0x83)][0x0][_0xf1d3b1(0x105)][0x4][_0xf1d3b1(0x104)];logger[_0xf1d3b1(0x109)](_0x36b617['AnzxO']),logger[_0xf1d3b1(0x109)](_0xf1d3b1(0x9f)+_0x141ecd+'\x20'),logger[_0xf1d3b1(0x109)]('ClusterRole\x20=>\x20'+_0x1fa7b8+'\x20'),logger[_0xf1d3b1(0x109)](_0xf1d3b1(0x1ac)+_0x3bfe7e+'\x20'),logger[_0xf1d3b1(0x109)](_0xf1d3b1(0x1cc)+_0x36a220+'\x20');let _0x3ecfc9=_0xf1d3b1(0xfe)+_0x141ecd+_0xf1d3b1(0x6b)+_0x1fa7b8+_0xf1d3b1(0x1ed)+_0x3bfe7e+_0xf1d3b1(0x1c4)+_0x36a220;if(_0x36b617[_0xf1d3b1(0x1f0)](_0x2cac2b,null)&&_0x36b617[_0xf1d3b1(0x16c)](_0x44b08e,null)){if(_0x36b617['sYaly'](_0x36b617['djLRM'],_0x36b617['djLRM'])){const _0x547470={};_0x547470[_0xf1d3b1(0x155)]=_0x36b617[_0xf1d3b1(0x6e)];const _0x31ae83=new _0x29de1d[(_0xf1d3b1(0x139))](_0x547470),_0x287e93={};return _0x287e93['name']=this[_0xf1d3b1(0x13a)],_0x31ae83[_0xf1d3b1(0x1ff)](_0x287e93)['promise']();}else{const _0x24b279=_0xd5c1e[_0xf1d3b1(0x83)][0x0][_0xf1d3b1(0x105)][0x2][_0xf1d3b1(0x104)],_0x49e43e=_0xd5c1e[_0xf1d3b1(0x83)][0x0][_0xf1d3b1(0x105)][0x5][_0xf1d3b1(0x104)][_0xf1d3b1(0xfa)](',');_0x2cac2b=_0x24b279;const _0x25819f=[];for(const _0x49608c of _0x49e43e){if(_0x36b617[_0xf1d3b1(0x1cb)](_0x36b617[_0xf1d3b1(0x1bd)],_0x36b617[_0xf1d3b1(0x1bd)]))_0x50660c[_0xf1d3b1(0x13e)](_0xf1d3b1(0x1df)+_0x30cdbb+_0xf1d3b1(0x18c)+_0x2160ac[_0xf1d3b1(0x8c)]),_0x16d7cb[_0xf1d3b1(0x1b8)]=_0xf1d3b1(0x18d)+_0x187be6,_0x1c7394['error']=_0x3f1b95;else{const _0x302328={};_0x302328[_0xf1d3b1(0x8b)]=_0x49608c,_0x302328[_0xf1d3b1(0x138)]=_0x49608c,_0x25819f[_0xf1d3b1(0x1dd)](_0x302328);}}_0x44b08e=_0x25819f,logger[_0xf1d3b1(0x109)](_0xf1d3b1(0x82)+_0x24b279+'\x20'),logger[_0xf1d3b1(0x109)](_0xf1d3b1(0xf4)+_0x49e43e+'\x20'),_0x3ecfc9+=_0xf1d3b1(0x1be)+_0x24b279+',\x20Subnets\x20=>\x20'+_0x49e43e+',\x20';}}const _0x2404cd={};return _0x2404cd[_0xf1d3b1(0x17c)]=WS_EVENTS[_0xf1d3b1(0xbd)],_0x2404cd[_0xf1d3b1(0x148)]=_0x3ecfc9,this['webSocketUtils'][_0xf1d3b1(0x1fe)](this[_0xf1d3b1(0x73)],_0x2404cd),[_0x2cac2b,_0x44b08e];}async[a0_0x15f6a7(0x122)](_0x3c7d8a,_0xb79e28){const _0x4ecee7=a0_0x15f6a7,_0x3e8313={'nVJjN':function(_0x22cba9,_0x4fbaa6){return _0x22cba9(_0x4fbaa6);},'yxdFN':function(_0x390168,_0x3dbd08,_0x12e5e9){return _0x390168(_0x3dbd08,_0x12e5e9);}};await _0x3e8313['nVJjN'](deleteAgent,_0x3c7d8a),await _0x3e8313[_0x4ecee7(0x153)](deleteRoutingDeps,_0x3c7d8a),await _0x3e8313[_0x4ecee7(0x1d0)](deleteClusterAndDependencies,_0xb79e28,this[_0x4ecee7(0x13a)]);}async[a0_0x15f6a7(0x1d7)](_0x542198,_0x435540){const _0x803502=a0_0x15f6a7,_0x4a868a={'zmCqy':function(_0xcb20cb,_0xd4a573){return _0xcb20cb!==_0xd4a573;},'yWoBV':_0x803502(0x1fc),'wgxLF':function(_0x492dc1,_0x4f6f7e){return _0x492dc1===_0x4f6f7e;},'gypGM':_0x803502(0xa5),'xLCJC':'OZrXE','rMKqu':_0x803502(0x10c),'veiGQ':_0x803502(0x197),'UpevP':function(_0x52492b,_0x1bc0c0){return _0x52492b===_0x1bc0c0;},'MvmJH':_0x803502(0x7f),'ZpwWv':_0x803502(0x1cf),'OqpTg':function(_0x1f95fa,_0x30cb46){return _0x1f95fa(_0x30cb46);},'fPtMW':function(_0x4b3b4c,_0x1897b1){return _0x4b3b4c!==_0x1897b1;},'EtxWg':_0x803502(0x1ba),'zySas':_0x803502(0x1c1),'oKRbi':_0x803502(0x1d2),'LelAT':function(_0x20e964,_0x5e0364,_0x795e6a,_0x18f288,_0x1f1f14,_0x2b8840,_0x47a1dd,_0x437f8c){return _0x20e964(_0x5e0364,_0x795e6a,_0x18f288,_0x1f1f14,_0x2b8840,_0x47a1dd,_0x437f8c);},'CjFax':'create-grid-called','RQNSl':'reportToGalactusAndSendToEDS','DzdXR':_0x803502(0xb7),'cqaVJ':function(_0x708bdd,_0xe32b40){return _0x708bdd===_0xe32b40;},'SCBhJ':_0x803502(0x204),'yGagr':'japqq','qCdiZ':'3|4|0|1|2','bHtVD':function(_0x1e17c1,_0x36c3ee,_0x589b8b){return _0x1e17c1(_0x36c3ee,_0x589b8b);},'JBgBX':'autoscaler-creation-failed','JPqRL':_0x803502(0x13e),'mxTgv':_0x803502(0x11d)};let _0x435aeb,_0xc9f24a;const _0x13321b={};_0x13321b[_0x803502(0x17c)]=WS_EVENTS[_0x803502(0xbd)],_0x13321b[_0x803502(0x148)]=_0x4a868a[_0x803502(0x10f)],this['webSocketUtils'][_0x803502(0x1fe)](this[_0x803502(0x73)],_0x13321b),logger[_0x803502(0x109)](_0x4a868a[_0x803502(0x10f)]);try{if(_0x4a868a['UpevP'](_0x4a868a[_0x803502(0x126)],_0x4a868a['ZpwWv'])){const _0xa5df0d=_0x2d205a[_0x803502(0x1e9)][_0x803502(0xfa)](':')[0x0];_0x436ba3+=_0x803502(0x12d)+_0xa5df0d[_0x803502(0x14f)]()+_0x803502(0x169)+_0x24f3f9[_0x394687[_0x803502(0x1e9)]]+':\x20'+_0x5f4777[_0x803502(0x1b3)],_0x4a868a[_0x803502(0xd3)](_0x10ab0c[_0x803502(0x1b3)],_0x4a868a[_0x803502(0x182)])&&(_0x54c04f[_0x803502(0xf1)]=![]);}else{const _0x3f5c7f=await _0x4a868a['OqpTg'](createAutoscalerStack,this[_0x803502(0x13a)]);_0xc9f24a=_0x3f5c7f[_0x803502(0x83)][0x0]['Outputs'][0x2]['OutputValue'];const _0x51c08e={};_0x51c08e[_0x803502(0x17c)]=WS_EVENTS['LOG'],_0x51c08e[_0x803502(0x148)]='Autoscaler\x20Role\x20created.ARN:\x20'+_0xc9f24a+'\x20',this['webSocketUtils'][_0x803502(0x1fe)](this['rws'],_0x51c08e),logger['info']('Autoscaler\x20Role\x20created.ARN:\x20'+_0xc9f24a+'\x20');}}catch(_0x98b94c){if(_0x4a868a['fPtMW'](_0x4a868a[_0x803502(0x18f)],_0x4a868a[_0x803502(0x18f)]))return _0x44f80b['status'][_0x803502(0x1ce)][_0x803502(0x98)][0x0]['hostname'];else{if(_0x98b94c?.[_0x803502(0x148)]&&_0x98b94c[_0x803502(0x148)][_0x803502(0x1b4)](/already exists/)){if(_0x4a868a[_0x803502(0x92)](_0x4a868a['zySas'],_0x4a868a['oKRbi']))return this[_0x803502(0x19e)]();else _0x435aeb=_0x803502(0xc1)+_0x98b94c[_0x803502(0x148)],await _0x4a868a[_0x803502(0xc6)](reportToGalactusAndSendToEDS,_0x435540,this[_0x803502(0x73)],_0x435aeb,messageTypes[_0x803502(0xf9)],_0x4a868a[_0x803502(0x1e8)],_0x4a868a['RQNSl'],_0x4a868a['DzdXR']),logger[_0x803502(0x1a6)](_0x435aeb);}else{if(_0x4a868a['cqaVJ'](_0x4a868a[_0x803502(0x187)],_0x4a868a[_0x803502(0x175)]))_0x56515b['cloudProviderAccessKey']=_0x51b42d[this[_0x803502(0x177)]]['accessKey'],_0x591094['cloudProviderSecretKey']=_0x1e0091[this[_0x803502(0x177)]][_0x803502(0x170)];else{const _0x40519f=_0x4a868a[_0x803502(0x11f)][_0x803502(0xfa)]('|');let _0x311040=0x0;while(!![]){switch(_0x40519f[_0x311040++]){case'0':logger['error'](_0x435aeb);continue;case'1':await _0x4a868a[_0x803502(0x1bc)](deleteClusterAndDependencies,global_registry[_0x803502(0x181)],this[_0x803502(0x13a)]);continue;case'2':process[_0x803502(0x12c)](0x1);continue;case'3':_0x435aeb='Unable\x20to\x20spawn\x20Autoscaler\x20due\x20to:\x20'+_0x98b94c?.['message']+_0x803502(0x1bb);continue;case'4':await _0x4a868a[_0x803502(0xc6)](reportToGalactusAndSendToEDS,_0x435540,this[_0x803502(0x73)],_0x435aeb,messageTypes[_0x803502(0x78)],_0x4a868a[_0x803502(0x1e8)],_0x4a868a['JBgBX'],_0x4a868a[_0x803502(0x94)]);continue;}break;}}}}}const _0x7794c3=await this['getNodeGroupInfo'](this['clusterName']+_0x803502(0x190)),_0x230d30=_0x7794c3[_0x803502(0x165)][_0x803502(0x192)],_0x2b5730=await this[_0x803502(0x145)](_0x230d30),_0x174ef7={};return _0x174ef7[_0x803502(0xe1)]=_0x4a868a[_0x803502(0xee)],_0x174ef7[_0x803502(0xb6)]=_0x2b5730,await _0x542198[_0x803502(0xa7)](_0x174ef7)[_0x803502(0x143)](_0x4dcd4f=>{const _0x41e1cf=_0x803502;_0x4a868a[_0x41e1cf(0x92)](_0x4a868a['gypGM'],_0x4a868a[_0x41e1cf(0xd8)])?_0x39352c[_0x41e1cf(0xcf)](_0x37cb7d):logger[_0x41e1cf(0x109)](_0x4a868a[_0x41e1cf(0x173)]);}),_0xc9f24a;}async[a0_0x15f6a7(0x202)](_0x47e6d7,_0x496345,_0xe35db1,_0x55af75,_0x9d238e){const _0x54fe15=a0_0x15f6a7,_0x3a9452={'rTxjT':function(_0x4fc772,_0x3e76a4){return _0x4fc772(_0x3e76a4);},'OFqTM':function(_0xf6cdd4,_0x13eb15){return _0xf6cdd4===_0x13eb15;},'iHJOr':_0x54fe15(0x6d),'LufNo':_0x54fe15(0xc3),'cxajG':function(_0x5dc1ef,_0x4b24bb){return _0x5dc1ef===_0x4b24bb;},'LwJSo':_0x54fe15(0xe2),'FQUEg':_0x54fe15(0x9a),'SoSRH':'Creating\x20required\x20dependencies\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','VcYgf':function(_0x22b33a,_0xaf99c3,_0x282885){return _0x22b33a(_0xaf99c3,_0x282885);},'HDYdJ':_0x54fe15(0x1f8),'jvhCs':_0x54fe15(0x99),'BWzuh':'EFSSecurityGroup','srqfd':_0x54fe15(0x1ee),'PlTnj':_0x54fe15(0x119),'ZoCYS':_0x54fe15(0xbb),'efeBk':_0x54fe15(0x1b7),'HstkE':'templates','zspRZ':_0x54fe15(0xad),'wdIcL':'efs-csi-driver-aws.yaml','SWUFl':'utf-8','Btgon':'Added\x20EFS\x20CSI\x20Driver','HWbFx':_0x54fe15(0x1b0),'qMpqe':_0x54fe15(0xb9),'TXniY':'fileSystemId','bkjog':_0x54fe15(0x15f),'canBT':'Created\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','bKYGJ':function(_0x48b5c5,_0x2c5bbf){return _0x48b5c5!==_0x2c5bbf;},'eVQZp':_0x54fe15(0x1e0),'YEmjf':_0x54fe15(0x91),'zPaGD':_0x54fe15(0xab),'zzXnf':function(_0xd339a5,_0x570994,_0x3e88ce){return _0xd339a5(_0x570994,_0x3e88ce);},'YQYwr':function(_0x10225e,_0x1f7445,_0x166bf6,_0x31b166,_0x41f236,_0x16faf7,_0x29624a,_0xf737ca){return _0x10225e(_0x1f7445,_0x166bf6,_0x31b166,_0x41f236,_0x16faf7,_0x29624a,_0xf737ca);},'QkhQr':_0x54fe15(0x1dc),'eVvhw':_0x54fe15(0xb4),'zrciN':'error'};logger[_0x54fe15(0x109)](_0x3a9452[_0x54fe15(0x194)]);let _0x45021d;try{if(_0x3a9452[_0x54fe15(0x1f2)](_0x3a9452[_0x54fe15(0xd4)],_0x3a9452[_0x54fe15(0xd4)])){const _0x3b4a01={};_0x3b4a01[_0x54fe15(0x17c)]=WS_EVENTS['LOG'],_0x3b4a01[_0x54fe15(0x148)]=_0x3a9452[_0x54fe15(0x15d)],this[_0x54fe15(0x10e)]['sendEventToBackend'](this[_0x54fe15(0x73)],_0x3b4a01),logger['info'](_0x3a9452['SoSRH']);const _0x199aaf=await _0x3a9452[_0x54fe15(0x14e)](createHubHaStack,this['clusterName'],_0x55af75),_0x53dfe7=_0x199aaf[_0x54fe15(0x83)][0x0]['Outputs'][_0x54fe15(0x80)]((_0xa46e3d,_0x31f03c)=>{const _0x443d9e=_0x54fe15;if(_0x3a9452[_0x443d9e(0x125)](_0x3a9452['iHJOr'],_0x3a9452[_0x443d9e(0x118)]))return _0xa46e3d[_0x31f03c[_0x443d9e(0xb8)]]=_0x31f03c[_0x443d9e(0x104)],_0xa46e3d;else _0x28eec2[_0x443d9e(0x13e)](_0x443d9e(0x1a5)+_0x307972+_0x443d9e(0x188)+_0x541992['clusterRegion']+_0x443d9e(0x12f)),_0x3a9452[_0x443d9e(0x74)](_0x21c51e,![]);},{}),_0x2698a2=_0x53dfe7[_0x3a9452[_0x54fe15(0x172)]],_0x3d8111=_0x53dfe7[_0x3a9452[_0x54fe15(0xae)]],_0x5a3f88=_0x53dfe7[_0x3a9452[_0x54fe15(0xcb)]];logger[_0x54fe15(0x109)](_0x3a9452[_0x54fe15(0x161)]),logger['info'](_0x54fe15(0xf6)+_0x2698a2),logger[_0x54fe15(0x109)](_0x54fe15(0xf2)+_0x5a3f88),logger[_0x54fe15(0x109)](_0x54fe15(0x154)+_0x3d8111),_0x45021d=_0x54fe15(0x76)+_0x2698a2+_0x54fe15(0xe4)+_0x5a3f88+_0x54fe15(0x17f)+_0x3d8111,logger['info'](_0x3a9452[_0x54fe15(0x16e)]),await this['createMountTargets'](_0x9d238e,_0x5a3f88,_0x3d8111);const _0x3ea17d={};_0x3ea17d[_0x54fe15(0x17c)]=WS_EVENTS[_0x54fe15(0xbd)],_0x3ea17d['message']=_0x45021d,this[_0x54fe15(0x10e)]['sendEventToBackend'](this[_0x54fe15(0x73)],_0x3ea17d);const _0x119e6a={};_0x119e6a[_0x54fe15(0x17c)]=WS_EVENTS[_0x54fe15(0xbd)],_0x119e6a[_0x54fe15(0x148)]=_0x3a9452[_0x54fe15(0x18b)],this['webSocketUtils'][_0x54fe15(0x1fe)](this[_0x54fe15(0x73)],_0x119e6a),logger[_0x54fe15(0x109)](_0x3a9452[_0x54fe15(0x19d)]);let _0x59b99b=await fs[_0x54fe15(0x205)](path['join'](__dirname,'..',_0x3a9452['HstkE'],_0x3a9452[_0x54fe15(0x13f)],_0x3a9452['wdIcL']),_0x3a9452['SWUFl']);_0x59b99b=_0x59b99b[_0x54fe15(0x1b1)](/<EfsCSIControllerARN>/g,_0x2698a2);const _0x20c046=yaml['loadAll'](_0x59b99b);await _0x3a9452[_0x54fe15(0x14e)](kubeApply,_0x20c046,_0x496345),logger['info'](_0x3a9452[_0x54fe15(0x75)]),logger[_0x54fe15(0x109)](_0x3a9452[_0x54fe15(0x134)]);const _0x33456e=await fs[_0x54fe15(0x205)](path[_0x54fe15(0x10b)](__dirname,'..',_0x3a9452[_0x54fe15(0x184)],_0x3a9452[_0x54fe15(0x13f)],_0x3a9452[_0x54fe15(0x1a0)]),_0x3a9452[_0x54fe15(0x1af)]),_0x26ba50=yaml[_0x54fe15(0x129)](_0x33456e);_0x26ba50[_0x54fe15(0x163)][_0x3a9452[_0x54fe15(0x77)]]=_0x3d8111;const _0x56afbc={};_0x56afbc[_0x54fe15(0xb6)]=_0x26ba50;const _0x34e65a=await _0x47e6d7['createStorageClass'](_0x56afbc);logger[_0x54fe15(0x109)](_0x3a9452['bkjog']);const _0x5d519e={};_0x5d519e[_0x54fe15(0x17c)]=WS_EVENTS[_0x54fe15(0xbd)],_0x5d519e[_0x54fe15(0x148)]=_0x3a9452[_0x54fe15(0x1fa)],this[_0x54fe15(0x10e)]['sendEventToBackend'](this['rws'],_0x5d519e);}else{const _0x219da8=_0x5faaf0['Stacks'][0x0][_0x54fe15(0x105)][0x2]['OutputValue'],_0xe431d2=_0x195f14[_0x54fe15(0x83)][0x0]['Outputs'][0x5][_0x54fe15(0x104)][_0x54fe15(0xfa)](',');_0x4b6e89=_0x219da8;const _0x5bb7b2=[];for(const _0x1afa5f of _0xe431d2){const _0x36ed38={};_0x36ed38['label']=_0x1afa5f,_0x36ed38[_0x54fe15(0x138)]=_0x1afa5f,_0x5bb7b2[_0x54fe15(0x1dd)](_0x36ed38);}_0x132387=_0x5bb7b2,_0xba646b['info'](_0x54fe15(0x82)+_0x219da8+'\x20'),_0x47c7ba[_0x54fe15(0x109)](_0x54fe15(0xf4)+_0xe431d2+'\x20'),_0x17a038+=_0x54fe15(0x1be)+_0x219da8+_0x54fe15(0x196)+_0xe431d2+',\x20';}}catch(_0x2c4ab8){if(_0x3a9452[_0x54fe15(0xd0)](_0x3a9452[_0x54fe15(0x1d6)],_0x3a9452['YEmjf'])){const _0x430858=_0x3a9452[_0x54fe15(0xaa)][_0x54fe15(0xfa)]('|');let _0x563ca0=0x0;while(!![]){switch(_0x430858[_0x563ca0++]){case'0':logger[_0x54fe15(0x13e)](_0x45021d);continue;case'1':_0x45021d=_0x54fe15(0x140)+_0x2c4ab8[_0x54fe15(0x148)];continue;case'2':process[_0x54fe15(0x12c)](0x1);continue;case'3':await _0x3a9452['zzXnf'](deleteClusterAndDependencies,global_registry[_0x54fe15(0x181)],this[_0x54fe15(0x13a)]);continue;case'4':await _0x3a9452[_0x54fe15(0x183)](reportToGalactusAndSendToEDS,_0xe35db1,this[_0x54fe15(0x73)],_0x45021d,messageTypes[_0x54fe15(0x78)],_0x3a9452[_0x54fe15(0xc5)],_0x3a9452['eVvhw'],_0x3a9452['zrciN']);continue;}break;}}else return![];}}async[a0_0x15f6a7(0xfc)](_0x184292,_0x54cd55,_0x1cf2f2){const _0x337fa7=a0_0x15f6a7,_0x44e44e={'obAHf':function(_0x1a5594,_0x22c826){return _0x1a5594(_0x22c826);},'IpvYU':function(_0x36ba3c,_0x2b6ef2){return _0x36ba3c(_0x2b6ef2);},'ZGWBt':'2017-11-01','jGxyV':function(_0x4f150a,_0x257394){return _0x4f150a!==_0x257394;},'hMTNJ':_0x337fa7(0x1d1),'zjKNO':function(_0x413374,_0x398f5b){return _0x413374===_0x398f5b;},'bwQpd':'xhmJc','chZNi':_0x337fa7(0xeb)},_0x88a296={};_0x88a296[_0x337fa7(0xf5)]=global_registry[_0x337fa7(0x181)];const _0x92f312=new awsSDK[(_0x337fa7(0xa1))](_0x88a296),_0x220534={};_0x220534[_0x337fa7(0xf5)]=global_registry[_0x337fa7(0x181)];const _0x1176bb=new awsSDK[(_0x337fa7(0x87))](_0x220534),_0xe9d5e5=new Set(),_0x367dc6=[];for(const _0x3a6354 of _0x184292){if(_0x44e44e[_0x337fa7(0x19c)](_0x44e44e['hMTNJ'],_0x44e44e[_0x337fa7(0x13b)]))_0x4ccdb0[_0x337fa7(0x127)]['includes'](this[_0x337fa7(0x13a)])&&_0x44e44e[_0x337fa7(0x16d)](_0x5ac56b,!![]),_0x44e44e['IpvYU'](_0xe37d71,![]);else{const _0xf67a83=await this['getAvailabilityZone'](_0x1176bb,_0x3a6354['value']);if(_0xe9d5e5[_0x337fa7(0x123)](_0xf67a83)){if(_0x44e44e[_0x337fa7(0x6f)](_0x44e44e[_0x337fa7(0x162)],_0x44e44e[_0x337fa7(0x116)])){const _0xa5cf7={};_0xa5cf7['apiVersion']=_0x44e44e['ZGWBt'];const _0x507ed3=new _0x5c0c8a['EKS'](_0xa5cf7),_0x42a6b5={};return _0x42a6b5[_0x337fa7(0x13a)]=this[_0x337fa7(0x13a)],_0x42a6b5[_0x337fa7(0xbe)]=_0x2e6624,_0x507ed3['describeNodegroup'](_0x42a6b5)[_0x337fa7(0x18a)]();}else{logger[_0x337fa7(0x109)](_0x337fa7(0x9b)+_0x3a6354[_0x337fa7(0x138)]+'\x20because\x20its\x20Availability\x20Zone\x20'+_0xf67a83+_0x337fa7(0x95));continue;}}_0xe9d5e5[_0x337fa7(0xd5)](_0xf67a83),_0x367dc6[_0x337fa7(0x1dd)](this['createMountTargetAndWait'](_0x92f312,_0x3a6354,_0x54cd55,_0x1cf2f2));}}await Promise[_0x337fa7(0x142)](_0x367dc6);}async[a0_0x15f6a7(0x1f7)](_0x2b09e4,_0x184175,_0x65f4e5,_0x593ea8){const _0x5446c1=a0_0x15f6a7,_0x58a83d={'IrUfa':function(_0x248a37,_0x17bccc){return _0x248a37(_0x17bccc);},'eEROW':function(_0xd1b206,_0x942945){return _0xd1b206(_0x942945);},'zzDtD':function(_0x42ec1b,_0x3df14b){return _0x42ec1b(_0x3df14b);},'DolzG':'2017-11-01','pNmbk':function(_0xa1cc57,_0xedc341){return _0xa1cc57!==_0xedc341;},'eYxUc':'GOrdP','Injsv':function(_0x2712f5,_0x1567b3){return _0x2712f5===_0x1567b3;},'XZJgl':_0x5446c1(0xdc),'PPwys':'BDaqG'};try{if(_0x58a83d[_0x5446c1(0x101)](_0x58a83d[_0x5446c1(0x9e)],_0x58a83d['eYxUc']))_0x5f2460[_0x5446c1(0x13e)](_0x32d424),_0x58a83d[_0x5446c1(0x8d)](_0x578395,_0x22920d);else{const _0x3b88b7={};_0x3b88b7[_0x5446c1(0xe9)]=_0x593ea8,_0x3b88b7[_0x5446c1(0x1b5)]=_0x184175['value'],_0x3b88b7[_0x5446c1(0x199)]=[_0x65f4e5];const _0x2e10c2=await _0x2b09e4[_0x5446c1(0xd9)](_0x3b88b7)[_0x5446c1(0x18a)](),_0x55e368=_0x2e10c2[_0x5446c1(0x193)];await this[_0x5446c1(0x16a)](_0x2b09e4,_0x184175[_0x5446c1(0x138)],_0x55e368);}}catch(_0x38a930){if(_0x58a83d['Injsv'](_0x58a83d['XZJgl'],_0x58a83d['PPwys'])){const _0x252a89={'SrOAM':function(_0x40601b,_0x20bf59){const _0x417bf7=_0x5446c1;return _0x58a83d[_0x417bf7(0x17a)](_0x40601b,_0x20bf59);}},_0x2a68f6={};_0x2a68f6[_0x5446c1(0x155)]=_0x58a83d['DolzG'];const _0xc7cb9f=new _0x1dd046['EKS'](_0x2a68f6);_0xc7cb9f[_0x5446c1(0x90)]()[_0x5446c1(0x18a)]()['then'](_0x1c4420=>{const _0x2f01b5=_0x5446c1;_0x1c4420['clusters'][_0x2f01b5(0x1d5)](this[_0x2f01b5(0x13a)])&&_0x58a83d[_0x2f01b5(0xa0)](_0x3203de,!![]),_0x58a83d[_0x2f01b5(0x8d)](_0x12b02e,![]);})[_0x5446c1(0x143)](_0x21e7d1=>{const _0x2fec7b=_0x5446c1;_0x44ebfe['error'](_0x21e7d1),_0x252a89[_0x2fec7b(0x158)](_0xb277a2,_0x21e7d1);});}else logger[_0x5446c1(0x13e)](_0x5446c1(0xdf)+_0x184175[_0x5446c1(0x138)]+':',_0x38a930);}}async[a0_0x15f6a7(0x16a)](_0x4eb9fb,_0x49fa3b,_0x588539){const _0x2f4d1a=a0_0x15f6a7,_0x4ebc97={};_0x4ebc97[_0x2f4d1a(0x8a)]=function(_0x2f0717,_0x2ec73e){return _0x2f0717===_0x2ec73e;},_0x4ebc97[_0x2f4d1a(0x1a2)]=_0x2f4d1a(0x14b),_0x4ebc97[_0x2f4d1a(0xf3)]=_0x2f4d1a(0xa3),_0x4ebc97[_0x2f4d1a(0x113)]=function(_0x542b19,_0x5f0729){return _0x542b19!==_0x5f0729;},_0x4ebc97['Uftuj']=_0x2f4d1a(0x135),_0x4ebc97['xhuTZ']=function(_0x38b2f8,_0x2494ae){return _0x38b2f8!==_0x2494ae;},_0x4ebc97[_0x2f4d1a(0xc4)]=_0x2f4d1a(0x6c),_0x4ebc97[_0x2f4d1a(0x147)]=_0x2f4d1a(0x144),_0x4ebc97['cgPVh']=_0x2f4d1a(0x102),_0x4ebc97[_0x2f4d1a(0xbc)]=function(_0x2559eb,_0x4c877b){return _0x2559eb===_0x4c877b;},_0x4ebc97['hPIDI']=_0x2f4d1a(0x1eb),_0x4ebc97[_0x2f4d1a(0x71)]=function(_0x54eab0,_0x526cf1){return _0x54eab0===_0x526cf1;},_0x4ebc97[_0x2f4d1a(0xed)]=_0x2f4d1a(0x16f);const _0x38fbcf=_0x4ebc97;let _0x156e6b='';while(_0x38fbcf[_0x2f4d1a(0x113)](_0x156e6b,_0x38fbcf[_0x2f4d1a(0xa4)])){if(_0x38fbcf[_0x2f4d1a(0x93)](_0x38fbcf[_0x2f4d1a(0xc4)],_0x38fbcf[_0x2f4d1a(0xc4)]))_0xe9e749[_0x2f4d1a(0x13e)]=_0x4d728d;else{const _0x35ca28={};_0x35ca28[_0x2f4d1a(0x193)]=_0x588539;const _0x2f1769=await _0x4eb9fb['describeMountTargets'](_0x35ca28)[_0x2f4d1a(0x18a)]();_0x156e6b=_0x2f1769[_0x2f4d1a(0x8f)][0x0][_0x2f4d1a(0x1f9)];if(_0x38fbcf['CyqAK'](_0x156e6b,_0x38fbcf[_0x2f4d1a(0xa4)])){if(_0x38fbcf['xhuTZ'](_0x38fbcf['wfUgX'],_0x38fbcf[_0x2f4d1a(0x19a)])){logger['info'](_0x2f4d1a(0x178)+_0x49fa3b+_0x2f4d1a(0x206)+_0x588539+'.');break;}else{const _0x37ddd3=_0x3b223e[_0x2f4d1a(0x1ae)]['tags'];return _0x37ddd3&&_0x38fbcf[_0x2f4d1a(0x8a)](_0x37ddd3[_0x38fbcf['Bmjmw']][_0x2f4d1a(0xb2)](),_0x38fbcf[_0x2f4d1a(0xf3)]);}}if(_0x38fbcf[_0x2f4d1a(0xbc)](_0x156e6b,_0x38fbcf[_0x2f4d1a(0x1c0)])){if(_0x38fbcf['qPNpd'](_0x38fbcf['hXBbl'],_0x38fbcf['hXBbl']))throw new Error(_0x2f4d1a(0x156)+_0x588539+'\x20failed\x20to\x20reach\x20the\x20available\x20state.');else throw new _0x2864cf(_0x2f4d1a(0x156)+_0x2d995e+_0x2f4d1a(0xe8));}await new Promise(_0x122480=>setTimeout(_0x122480,0x1388));}}}async[a0_0x15f6a7(0x16b)](_0x3458a4,_0x22f666){const _0x346e7e=a0_0x15f6a7,_0x115c1e={};_0x115c1e[_0x346e7e(0x1aa)]=[_0x22f666];const _0x21f307=await _0x3458a4['describeSubnets'](_0x115c1e)[_0x346e7e(0x18a)]();return _0x21f307['Subnets'][0x0][_0x346e7e(0x136)];}['isVPCPresent'](_0x3f2e53){const _0xfabd47=a0_0x15f6a7,_0x807fc8={'pECQM':function(_0x3fc75e,_0x37bd21){return _0x3fc75e===_0x37bd21;},'eUwun':_0xfabd47(0x15b),'AfGBw':'QTXWJ','ZVgZn':function(_0x2a94ba,_0x1bf8d6){return _0x2a94ba(_0x1bf8d6);},'BfPoy':function(_0x51c9ac,_0x2826a7){return _0x51c9ac(_0x2826a7);},'QdpVC':_0xfabd47(0x1c6),'Pqfwx':function(_0xd80243,_0x131422){return _0xd80243(_0x131422);},'KGabz':function(_0x5c089c,_0x132b88){return _0x5c089c!==_0x132b88;},'AbQry':'mIVCL','qZnzb':'Authmap\x20already\x20exists.\x20Not\x20updating','tycoF':'dNWny'},_0x47c1be={};_0x47c1be[_0xfabd47(0x1cd)]=[_0x3f2e53];const _0x135129=_0x47c1be;return new Promise((_0x612f4a,_0x24158e)=>{const _0x4a5159=_0xfabd47,_0x1a8935={'LhfGi':function(_0x44a099,_0x18982f){const _0x4b24b6=a0_0x35ea;return _0x807fc8[_0x4b24b6(0x200)](_0x44a099,_0x18982f);},'HsJTI':function(_0x100dbf,_0x32950e){const _0x59fa01=a0_0x35ea;return _0x807fc8[_0x59fa01(0x11e)](_0x100dbf,_0x32950e);},'uPgvX':_0x807fc8[_0x4a5159(0x207)],'siJzn':function(_0x5b8b2a,_0x4b2a40){const _0x316815=_0x4a5159;return _0x807fc8[_0x316815(0x10a)](_0x5b8b2a,_0x4b2a40);},'KTnrW':function(_0x3ad4d6,_0x29d512){const _0x292846=_0x4a5159;return _0x807fc8[_0x292846(0x1a1)](_0x3ad4d6,_0x29d512);},'wKFkW':_0x807fc8[_0x4a5159(0x1f1)],'CCroi':_0x807fc8['qZnzb']};if(_0x807fc8['KGabz'](_0x807fc8[_0x4a5159(0x84)],_0x807fc8[_0x4a5159(0x84)])){const _0x4e5c0a={'pmZUW':function(_0x1853b5,_0x58aad5){const _0x2e0cfa=_0x4a5159;return _0x1a8935[_0x2e0cfa(0x88)](_0x1853b5,_0x58aad5);},'DydlX':function(_0x105509,_0x9d791d){return _0x1a8935['HsJTI'](_0x105509,_0x9d791d);},'swzpU':_0x1a8935[_0x4a5159(0x11c)]},_0x3f46bc={};_0x3f46bc[_0x4a5159(0x1cd)]=[_0x132038];const _0x4fc575=_0x3f46bc;return new _0x585f60((_0x2988bf,_0x81aea0)=>{const _0x3dde34=_0x4a5159,_0xdd677d={};_0xdd677d[_0x3dde34(0x155)]=_0x4e5c0a[_0x3dde34(0x1ec)],_0xdd677d['region']=_0x364e4a['clusterRegion'];const _0x4d9006=new _0x29c7e2['EC2'](_0xdd677d);_0x4d9006[_0x3dde34(0x1db)](_0x4fc575)['promise']()[_0x3dde34(0xb3)](_0x15d17c=>{_0x4e5c0a['pmZUW'](_0x2988bf,!![]);})[_0x3dde34(0x143)](_0x35c5fe=>{const _0x105666=_0x3dde34;_0x379c93[_0x105666(0x13e)]('Cannot\x20find\x20VPC\x20'+_0x42bf9d+_0x105666(0x188)+_0x443c5a[_0x105666(0x181)]+_0x105666(0x12f)),_0x4e5c0a[_0x105666(0xca)](_0x2988bf,![]);});});}else{const _0x1f3dc8={};_0x1f3dc8[_0x4a5159(0x155)]=_0x807fc8[_0x4a5159(0x207)],_0x1f3dc8[_0x4a5159(0xf5)]=global_registry[_0x4a5159(0x181)];const _0x324e3b=new awsSDK[(_0x4a5159(0x87))](_0x1f3dc8);_0x324e3b[_0x4a5159(0x1db)](_0x135129)['promise']()[_0x4a5159(0xb3)](_0x1ff4c9=>{const _0x43c5c4=_0x4a5159,_0x247c8f={'AoqkF':function(_0x23cb4c,_0x4c3ee6){const _0x126934=a0_0x35ea;return _0x1a8935[_0x126934(0x12a)](_0x23cb4c,_0x4c3ee6);}};_0x1a8935['KTnrW'](_0x1a8935[_0x43c5c4(0x159)],_0x1a8935[_0x43c5c4(0x159)])?_0x247c8f['AoqkF'](_0x154516,this[_0x43c5c4(0x73)]):_0x1a8935[_0x43c5c4(0x12a)](_0x612f4a,!![]);})['catch'](_0x2049a2=>{const _0x4e0b08=_0x4a5159;_0x807fc8[_0x4e0b08(0x7a)](_0x807fc8[_0x4e0b08(0x120)],_0x807fc8[_0x4e0b08(0x1ca)])?_0xeebf55[_0x4e0b08(0x109)](_0x1a8935[_0x4e0b08(0x174)]):(logger[_0x4e0b08(0x13e)](_0x4e0b08(0x1a5)+_0x3f2e53+'\x20in\x20region\x20'+global_registry['clusterRegion']+_0x4e0b08(0x12f)),_0x807fc8[_0x4e0b08(0x11e)](_0x612f4a,![]));});}});}['isSubnetsValid'](_0x12af88,_0x3ee1f5){const _0x3f445e=a0_0x15f6a7,_0xda7fb0={'oZjHI':function(_0x2d838b,_0x501faa){return _0x2d838b(_0x501faa);},'LJGth':_0x3f445e(0x1c6),'omaSI':function(_0xdbb117,_0x318ac7){return _0xdbb117===_0x318ac7;},'OFfIc':_0x3f445e(0x17b),'VoIxy':function(_0x1303a7,_0x53a789){return _0x1303a7(_0x53a789);},'AqTIs':function(_0x3ccdee,_0x5f379e){return _0x3ccdee===_0x5f379e;},'cpjxC':_0x3f445e(0x1d4),'HIyMw':function(_0xde6349,_0x43e010){return _0xde6349(_0x43e010);},'qBlkz':function(_0x4c7f56,_0x4faea9){return _0x4c7f56===_0x4faea9;},'ITBtG':_0x3f445e(0x166),'HpygD':'FCHlE','sDwGD':_0x3f445e(0x141),'NxyTV':function(_0x3df7a3,_0x3d6185){return _0x3df7a3!==_0x3d6185;},'BYxuC':_0x3f445e(0x164),'ekjXX':_0x3f445e(0xb1),'oUxWA':_0x3f445e(0x1da),'wnrUm':_0x3f445e(0x19f)},_0x3e56b4={};_0x3e56b4[_0x3f445e(0x1e3)]=_0xda7fb0[_0x3f445e(0x201)],_0x3e56b4['Values']=[_0x3ee1f5];const _0x16fbdb={};_0x16fbdb[_0x3f445e(0xe5)]=[_0x3e56b4];const _0x578d3e=_0x16fbdb;return new Promise((_0x343e13,_0x13f07e)=>{const _0x1ba66d=_0x3f445e,_0x4c415c={'FCvHC':function(_0x9eb855,_0x2c9d21){return _0xda7fb0['qBlkz'](_0x9eb855,_0x2c9d21);},'rvCIh':_0xda7fb0['ITBtG'],'ogZwj':_0xda7fb0[_0x1ba66d(0x79)],'WRndv':_0xda7fb0[_0x1ba66d(0x1a3)],'NXBUt':function(_0x6a43ea,_0x14d0ab){const _0x2c7976=_0x1ba66d;return _0xda7fb0[_0x2c7976(0xff)](_0x6a43ea,_0x14d0ab);},'XlXDW':_0xda7fb0['BYxuC']};if(_0xda7fb0[_0x1ba66d(0xff)](_0xda7fb0['ekjXX'],_0xda7fb0[_0x1ba66d(0x160)])){const _0x66e0cb={};_0x66e0cb[_0x1ba66d(0x155)]=_0xda7fb0[_0x1ba66d(0x1b9)],_0x66e0cb[_0x1ba66d(0xf5)]=global_registry['clusterRegion'];const _0x124997=new awsSDK[(_0x1ba66d(0x87))](_0x66e0cb);_0x124997['describeSubnets'](_0x578d3e)[_0x1ba66d(0x18a)]()[_0x1ba66d(0xb3)](_0x39d206=>{const _0x365555=_0x1ba66d,_0x1ffe8a={'DsLXz':function(_0xabc30,_0x2c42a6){const _0x438938=a0_0x35ea;return _0xda7fb0[_0x438938(0x107)](_0xabc30,_0x2c42a6);},'JDlHS':_0xda7fb0[_0x365555(0x1b9)]};if(_0xda7fb0[_0x365555(0xfd)](_0xda7fb0[_0x365555(0x1bf)],_0xda7fb0[_0x365555(0x1bf)])){const _0x2def2e=[],_0x107630=[];_0x39d206[_0x365555(0x1fd)][_0x365555(0xda)](_0xb2ea39=>{const _0x14c422=_0x365555;if(_0x4c415c[_0x14c422(0x1a7)](_0x4c415c[_0x14c422(0x117)],_0x4c415c['ogZwj']))return!![];else _0x2def2e[_0x14c422(0x1dd)](_0xb2ea39['SubnetId']);});const _0x44bab7=_0x12af88[_0x365555(0x185)](_0x5007ec=>{const _0x51aaec=_0x365555;if(_0x4c415c[_0x51aaec(0x1a7)](_0x4c415c[_0x51aaec(0xde)],_0x4c415c[_0x51aaec(0xde)])){if(_0x2def2e['includes'](_0x5007ec['value'])){if(_0x4c415c[_0x51aaec(0x15c)](_0x4c415c[_0x51aaec(0x17e)],_0x4c415c[_0x51aaec(0x17e)])){const _0xcdb15b={'VcCiS':function(_0x5da09e,_0x18c34a){return _0x1ffe8a['DsLXz'](_0x5da09e,_0x18c34a);}},_0x4f9909={};_0x4f9909[_0x51aaec(0x155)]=_0x1ffe8a[_0x51aaec(0x86)],_0x4f9909[_0x51aaec(0xf5)]=_0x52df49['clusterRegion'];const _0x509e43=new _0x1f6469['EC2'](_0x4f9909);_0x509e43[_0x51aaec(0x1db)](_0x245656)[_0x51aaec(0x18a)]()[_0x51aaec(0xb3)](_0x50d467=>{const _0x1dc3bb=_0x51aaec;_0xcdb15b[_0x1dc3bb(0x1ab)](_0x25e448,!![]);})[_0x51aaec(0x143)](_0x4f6a6b=>{const _0x14d98a=_0x51aaec;_0x1e8f20[_0x14d98a(0x13e)](_0x14d98a(0x1a5)+_0x3184a0+_0x14d98a(0x188)+_0x2e0e8f[_0x14d98a(0x181)]+'.\x20Please\x20Check\x20and\x20try\x20again'),_0xcdb15b[_0x14d98a(0x1ab)](_0x313daa,![]);});}else return!![];}return _0x107630['push'](_0x5007ec),![];}else{if(_0x4e081c[_0x51aaec(0x1d5)](_0x5381e1[_0x51aaec(0x138)]))return!![];return _0x5aee1d[_0x51aaec(0x1dd)](_0x2cc8b7),![];}});_0xda7fb0[_0x365555(0x14a)](_0x343e13,[_0x44bab7,_0x107630]);}else _0x4b4d0f[_0x365555(0xf1)]=![];})[_0x1ba66d(0x143)](_0x2a88b3=>{const _0x57549c=_0x1ba66d;_0xda7fb0[_0x57549c(0xc9)](_0xda7fb0[_0x57549c(0xe3)],_0xda7fb0[_0x57549c(0xe3)])?(logger['error']('Cannot\x20find\x20subnets\x20'+_0x12af88+'\x20in\x20region\x20'+global_registry['clusterRegion']+_0x57549c(0x149)+_0x2a88b3),_0xda7fb0['HIyMw'](_0x343e13,[![],[]])):_0x4fb377[_0x57549c(0x1a6)](_0x34834e);});}else _0x14a162[_0x1ba66d(0x1dd)](_0x358b36[_0x1ba66d(0x1b5)]);});}async[a0_0x15f6a7(0xef)](){const _0x21d2a0=a0_0x15f6a7,_0x4c33eb={'ChiQo':function(_0x2a2a5e,_0x1e2bc8){return _0x2a2a5e(_0x1e2bc8);},'YhtHl':_0x21d2a0(0x180),'HKOAy':'Intercepted','tqwgF':_0x21d2a0(0x1c8)},_0x44e88d={};_0x44e88d[_0x21d2a0(0xf1)]=![],_0x44e88d[_0x21d2a0(0x13e)]=null,_0x44e88d[_0x21d2a0(0x1b8)]='';const _0x3db322=_0x44e88d;try{const _0x4331dc=await _0x4c33eb[_0x21d2a0(0x132)](runCommand,_0x4c33eb[_0x21d2a0(0x14d)]);_0x4331dc[_0x21d2a0(0xd7)](_0x4c33eb[_0x21d2a0(0x100)])?logger['warn'](_0x4331dc):logger[_0x21d2a0(0xcf)](_0x4331dc),_0x3db322['status']=!![],_0x3db322['data']=_0x4c33eb[_0x21d2a0(0x1de)];}catch(_0x560540){logger[_0x21d2a0(0x13e)]('error\x20:\x20'+_0x560540+'\x20:\x20'+_0x560540[_0x21d2a0(0x8c)]),_0x3db322[_0x21d2a0(0x1b8)]='Please\x20install\x20aws-iam-authenticator\x20tool.\x20Error\x20:\x20'+_0x560540,_0x3db322['error']=_0x560540;}return _0x3db322;}async['getPrincipalArn'](){const _0x1649b5=a0_0x15f6a7,_0xc32ead={};_0xc32ead[_0x1649b5(0x7d)]=_0x1649b5(0x1f6),_0xc32ead[_0x1649b5(0x1e1)]=_0x1649b5(0x112);const _0x4503c8=_0xc32ead,_0x308b8c=await new awsSDK['STS']()[_0x1649b5(0x108)]()['promise'](),{Account:_0x482fe2,Arn:_0x5ee668}=_0x308b8c,_0x3fb03a=_0x5ee668['includes'](_0x4503c8[_0x1649b5(0x7d)]),_0x590e1c=_0x3fb03a?'arn:aws:iam::'+_0x482fe2+':role/'+_0x5ee668[_0x1649b5(0xfa)](_0x4503c8[_0x1649b5(0x7d)])[0x1]:_0x1649b5(0x96)+_0x482fe2+_0x1649b5(0x112)+_0x5ee668['split'](_0x4503c8[_0x1649b5(0x1e1)])[0x1];return _0x590e1c;}async[a0_0x15f6a7(0xf7)](){const _0xc2933f=a0_0x15f6a7,_0x3b7b50={};_0x3b7b50[_0xc2933f(0x1ef)]=function(_0x580754,_0x44f449){return _0x580754!==_0x44f449;},_0x3b7b50[_0xc2933f(0x179)]=_0xc2933f(0x1fc);const _0x4db895=_0x3b7b50,_0x73bcf8={};_0x73bcf8['status']=![],_0x73bcf8['error']=null,_0x73bcf8['data']='';const _0x13d15f=_0x73bcf8;try{const _0x548d9e=await this['getPrincipalArn'](),_0x3a32ba={'PolicySourceArn':_0x548d9e,'ActionNames':Object['keys'](PERMISSIONS)},_0x567ba7=await new awsSDK[(_0xc2933f(0x152))]()[_0xc2933f(0x1e2)](_0x3a32ba)[_0xc2933f(0x18a)]();let _0x18e900='';logger[_0xc2933f(0xcf)](_0xc2933f(0x1f3)+JSON[_0xc2933f(0x1a4)](_0x567ba7)),_0x13d15f[_0xc2933f(0xf1)]=!![],_0x567ba7[_0xc2933f(0x1c5)][_0xc2933f(0xda)](_0x510c29=>{const _0x361f9e=_0xc2933f,_0x305cec=_0x510c29[_0x361f9e(0x1e9)]['split'](':')[0x0];_0x18e900+=_0x361f9e(0x12d)+_0x305cec[_0x361f9e(0x14f)]()+_0x361f9e(0x169)+PERMISSIONS[_0x510c29['EvalActionName']]+':\x20'+_0x510c29[_0x361f9e(0x1b3)],_0x4db895[_0x361f9e(0x1ef)](_0x510c29[_0x361f9e(0x1b3)],_0x4db895[_0x361f9e(0x179)])&&(_0x13d15f[_0x361f9e(0xf1)]=![]);}),_0x13d15f[_0xc2933f(0x1b8)]=_0x18e900;}catch(_0x28eab4){_0x13d15f[_0xc2933f(0x13e)]=_0x28eab4;}return _0x13d15f;}}const a0_0x200423={};a0_0x200423['AWSCloudProvider']=AWSCloudProvider,module[a0_0x15f6a7(0xf8)]=a0_0x200423;