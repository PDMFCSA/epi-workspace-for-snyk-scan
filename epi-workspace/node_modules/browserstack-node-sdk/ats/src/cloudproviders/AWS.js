const a0_0x3dbea3=a0_0x4ad6;function a0_0x5bd2(){const _0x359e48=['accessKey','namespace','NMQgy','lsLWl','CUWZu','clusterRegion','.\x20Please\x20Check\x20and\x20try\x20again',',\x20EFS_SecurityGroup\x20=>\x20','status','RNJXA','accessKeyId','WoQYD','sSbdn','2471436CZblRo','Following\x20resources\x20are\x20created\x20for\x20Hub\x20HA:\x20EFS_ControllerRoleArn\x20=>\x20','reduce','replace','.\x20Deleting\x20all\x20the\x20stacks','setupHubHa','YgcAy','LOG','describeVpcs','type','QlSkp','vtylM','Values','ZtnJo','kuFME','wUOcL','clusters',',\x20MountTargetId:\x20','DctQi','LoYRG','KcxDg','hub-ha-aws-setup-failed','isSubnetsValid','BGTBe','ERROR','ZVNPH','dVKqs','ILAct','EvalDecision','XEdWM','parameters','FileSystemId','nodeRole','FBlBo','qCTfw','XfmeA','EvalActionName','Setting\x20up\x20Hub\x20HA','describeNodegroup','CrxIJ','iCBCy','ikdBp','sendEventToBackend','apiVersion','zYfFt','mbzxT','oxdxW','XoZqi','145mnyQzC','NBiPB','sihmy','LqZak','RLlRq','stringify','2016-11-15','HxYYC','then','laNJS',',\x20SecurityGroups\x20=>\x20','TpaFW','YKiZg','VZbnP','AvailabilityZone','fULLj','tags','JzHCF','catch','../config/logger','\x20ACCESS\x20KEY:\x20','data','label','OkLBA','mEohu','21KUDDCA','VpcIds','createMountTarget','veXCl','Mounting\x20Target\x20for\x20EFS','AJHLU','writeFileSync','Mount\x20target\x20','Olohi','cloudProviderAccessKey','LifeCycleState','ozIDO','rUWte','bDbed','name','XZfYy','HAvHo','iLomF','debug','efs-csi-driver-aws.yaml','uyrxs','OLYmc','endpoint','qrTAA','KubeConfigTemplate.yaml','.\x20Error:\x20','value','QpUOV','606596onejGc','cfiHC','OutputKey','Stacks','LNvIg','HuKIc','tkFru','fifQd','KsleE','has','OOPyU','setupNewCluster','iHTDn','WkkoB','HHiZh','mxhaC','qYtDM','EC2','EeCoJ','ROTse','waitForMountTarget','4|0|1|3|2','KaBls','MEydw','loadBalancer','EKS','EFS\x20Controller\x20Role\x20=>\x20','UDsKJ','exports','nodegroup','dJsrG','allowed','Pcaqp','YrJSg','TNXlw','all','utf-8','IAM','OutputValue','BpFdH','bRJcS','\x0a\x09Service:\x20','sUIuR','SecurityGroups\x20=>\x20','isClusterPresent','DgbuF','bBXxy','SecurityGroups','oUfjG','LXvnY','EyYqq','arn:aws:iam::','toLowerCase','laqbf','createMountTargetAndWait','error\x20:\x20','vxwMZ','3|2|1|0|4','ujtGL','usKoO','BOPSe','SubnetId','ktrkx','Cluster\x20=>\x20','\x20has\x20already\x20been\x20used.','cloudProviderName','GHsvD','2670736evKgTg','AWSCloudProvider','minNodes','uFTow','QcgQP','mLsOJ','aWIuw','../utils/createHubHaStack','cBFcS','SEgqa','./CloudProvider','jkaCz','uvVKr','EFS','Creating\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','keys','KgNkq','templates','UTzqm','sendResourceDataToHST','match','RCWhN','jzCOu','isBrowserstackCluster','hdPqD','IBJSL','\x20because\x20its\x20Availability\x20Zone\x20','VPC\x20=>\x20','NaXOq','YIGtf','GlExy','YJiXJ','KxzFv','4rZRQNp','permissions\x20check\x20response:\x20','Autoscaler\x20Role\x20created.ARN:\x20','vfVUb','nmrtO','Subnets\x20=>\x20','sisvN','1281544NMOMVe','ZQiyO','xgnGI','createAuthConfigMap','vuPoV','hubharesources',',\x20Subnets\x20=>\x20','ovFid','ABPhp','Adding\x20storage\x20class...','getClusterInfo','forEach','browserstack','tvxTu','QpyYB','gTadl','../utils/utilityMethods','Please\x20install\x20aws-iam-authenticator\x20tool.\x20Error\x20:\x20','BbPoA','message','GPwes','iwkvP','toString','hNKLe','setupAutoscaler','YkjyK','Uycua','split','\x20:\x20','xKzHN','clusterName',':role/','getUserInput',',VPC\x20=>\x20',':user/','toUpperCase','Skipping\x20subnet\x20','getAvailabilityZone','aws-sdk','Adding\x20EFS\x20CSI\x20Driver','doVNj','TuBsz','secret','IXhUD','Mszlh','listClusters','QVAYM','vpc-id','init','HEZJQ','4156610wRJLQA','bYRoG','info','ZkqEi','rws','xKdOi','Skipping\x20Autoscaler\x20due\x20to:\x20','XHqhv','virfC','HYplv','zdFBv','LGuhi','KyKCv','thBzj','\x20SECRET\x20KEY:\x20','2017-11-01','JWEEh','Creating\x20required\x20resources\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','KrmWy','FOAyR','JMUiI','failed','\x20in\x20region\x20','../permissions/AWS.json','ktclQ','browserstack:managedBy','CyxPD','NodeRole\x20=>\x20','getPrincipalArn','loadAll','SCpIM','promise','MgaMr','DMKxd',',\x20NodeRole\x20=>\x20','173994fCVYTG','Cannot\x20find\x20subnets\x20','body','EFSSecurityGroup','cloudProviderSecretKey','storage-class.yaml','GrQrr','KpYeM','zndOB','aeTsa','FedwG','ckhxJ','EvaluationResults','RuXRL','EiTEF','readFileAsync','Creating\x20required\x20resources\x20-\x20EKS\x20role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups,\x20Cluster\x20and\x20Node\x20Group(s)','\x20|\x20Action\x20:\x20','error','AKPVF','[ats]\x0aaws_access_key_id\x20=\x20','WJavp','JVrLG','DPtmd','../utils/gridComponents','cClbB','9283860dEbLtT','yYYes','mfkKQ','EppiT','region','KezhZ','describeMountTargets','UxWbm','LPoZc','HGsHA','join','QvRtr','SZcjq','hAalD','\x20failed\x20to\x20reach\x20the\x20available\x20state.','stack','PVOvi','ClusterRole\x20=>\x20','QRESx','hDQoq','cluster','../utils/createAutoscalerStack','create-grid-called','mWowe','kwqyv','oUBex','AnqwH','autoscaler-creation-failed','GwiGA','yRnqN','fUBPF','checkClusterCreated','mYGPO','warn','available','Filters','hostname','xXTnE','getGridHostname','jiKeA','AbQYS','QDBac','add','GEgQZ','hrTlf','fkvHi','EFS\x20SecurityGroup\x20=>\x20','createMountTargets','lltSc','certificateAuthority','KTDAp','config','nodegroupName','gQFAT','VFbwn','RXdIU','MountTargets','cZzUJ','inGNq','jqGDr','vDVSP','oGCaH','QisUl','describeSubnets','Added\x20storage\x20class.','getNodeGroupInfo','XWggG','Outputs','lPizT','KsafN','QoiZG','eFhtw','warning','wbmFv','WARNING','tgESE','webSocketUtils','update','XDcbW','every','includes','FBRLA','../utils/hstUtils','uFxUA','EFSControllerRoleArn','Cannot\x20find\x20VPC\x20','Following\x20resources\x20are\x20created:','SubnetIds','exit','push','jdEjR','reportToGalactusAndSendToEDS','setCachedCredsInRegistry','mapRoles','Following\x20resources\x20are\x20created:\x20Cluster\x20=>\x20','Subnets'];a0_0x5bd2=function(){return _0x359e48;};return a0_0x5bd2();}function a0_0x4ad6(_0x25b291,_0xea871f){const _0x5bd230=a0_0x5bd2();return a0_0x4ad6=function(_0x4ad687,_0x1d0584){_0x4ad687=_0x4ad687-0xae;let _0xde041c=_0x5bd230[_0x4ad687];return _0xde041c;},a0_0x4ad6(_0x25b291,_0xea871f);}(function(_0x12c7ad,_0x5ded2a){const _0x3d8e17=a0_0x4ad6,_0x1c85bf=_0x12c7ad();while(!![]){try{const _0x2536d4=-parseInt(_0x3d8e17(0x20c))/0x1*(-parseInt(_0x3d8e17(0x1a8))/0x2)+parseInt(_0x3d8e17(0x143))/0x3+-parseInt(_0x3d8e17(0x1eb))/0x4+parseInt(_0x3d8e17(0x173))/0x5*(-parseInt(_0x3d8e17(0xbc))/0x6)+parseInt(_0x3d8e17(0x18c))/0x7*(-parseInt(_0x3d8e17(0x213))/0x8)+parseInt(_0x3d8e17(0xd6))/0x9+-parseInt(_0x3d8e17(0x245))/0xa;if(_0x2536d4===_0x5ded2a)break;else _0x1c85bf['push'](_0x1c85bf['shift']());}catch(_0x367b8f){_0x1c85bf['push'](_0x1c85bf['shift']());}}}(a0_0x5bd2,0xa2061));const fs=require('fs'),path=require('path'),yaml=require('js-yaml'),awsSDK=require(a0_0x3dbea3(0x239)),{logger}=require(a0_0x3dbea3(0x186)),{CloudProvider}=require(a0_0x3dbea3(0x1f5)),{sendAWSInfoToHST}=require(a0_0x3dbea3(0x128)),{createClusterStack}=require('../utils/createClusterStack'),{createHubHaStack}=require(a0_0x3dbea3(0x1f2)),{deleteClusterAndDependencies,deleteRoutingDeps,deleteAgent}=require(a0_0x3dbea3(0xd4)),{createAutoscalerStack}=require(a0_0x3dbea3(0xeb)),{getDirForConfig,reportToGalactusAndSendToEDS,kubeApply,runCommand}=require(a0_0x3dbea3(0x223)),{IAM_USER_NAME,AWS,WS_EVENTS,global_registry,messageTypes}=require('../config/constants'),PERMISSIONS=require(a0_0x3dbea3(0xb0));class AWSCloudProvider extends CloudProvider{constructor(_0x38a764,_0x5ef307,_0x98d3b0,_0x1bad63){super(AWS,_0x38a764,_0x5ef307,_0x98d3b0,_0x1bad63);}async[a0_0x3dbea3(0x243)](){const _0x3129f6=a0_0x3dbea3;await super['init']();const _0x271622={};return _0x271622[_0x3129f6(0xda)]=global_registry[_0x3129f6(0x13b)],_0x271622[_0x3129f6(0x140)]=global_registry[_0x3129f6(0x195)],_0x271622['secretAccessKey']=global_registry['cloudProviderSecretKey'],awsSDK[_0x3129f6(0x109)][_0x3129f6(0x123)](_0x271622),this;}async[a0_0x3dbea3(0x1fe)](){const _0x2edf4b=a0_0x3dbea3,_0x56e369={'YJiXJ':function(_0x5b8fe4,_0x40c6df){return _0x5b8fe4(_0x40c6df);}};_0x56e369[_0x2edf4b(0x20a)](sendAWSInfoToHST,this['rws']);}async[a0_0x3dbea3(0x132)](_0x331212){const _0x25e879=a0_0x3dbea3;global_registry[_0x25e879(0x195)]=_0x331212[this[_0x25e879(0x1e9)]][_0x25e879(0x136)],global_registry[_0x25e879(0xc0)]=_0x331212[this[_0x25e879(0x1e9)]][_0x25e879(0x23d)];}[a0_0x3dbea3(0xfc)](_0x45844e){const _0x536ab1=a0_0x3dbea3;return _0x45844e[_0x536ab1(0x13e)][_0x536ab1(0x1c0)]['ingress'][0x0][_0x536ab1(0xfa)];}async[a0_0x3dbea3(0x202)](){const _0x5ea2f4=a0_0x3dbea3,_0x187258={};_0x187258[_0x5ea2f4(0xee)]=function(_0x1f99df,_0x11838c){return _0x1f99df===_0x11838c;},_0x187258[_0x5ea2f4(0x209)]='AfNau',_0x187258[_0x5ea2f4(0x10c)]='STtUs',_0x187258[_0x5ea2f4(0x17e)]=function(_0x2734aa,_0x1a67a8){return _0x2734aa!==_0x1a67a8;},_0x187258[_0x5ea2f4(0x1be)]=_0x5ea2f4(0x18b),_0x187258[_0x5ea2f4(0x1e6)]=_0x5ea2f4(0x127),_0x187258[_0x5ea2f4(0x22d)]=function(_0x50d0ec,_0x154150){return _0x50d0ec===_0x154150;},_0x187258['eTyeR']=_0x5ea2f4(0xb2),_0x187258[_0x5ea2f4(0x16a)]=_0x5ea2f4(0x21f),_0x187258[_0x5ea2f4(0xd7)]=function(_0x50d663,_0x289961){return _0x50d663===_0x289961;},_0x187258[_0x5ea2f4(0x164)]=_0x5ea2f4(0x1a9),_0x187258['gQFAT']='OCfsC';const _0x5896e9=_0x187258;try{if(_0x5896e9[_0x5ea2f4(0xee)](_0x5896e9[_0x5ea2f4(0x209)],_0x5896e9[_0x5ea2f4(0x10c)]))_0x5ed63f[_0x5ea2f4(0x12f)](_0x4b84e8[_0x5ea2f4(0x1e5)]);else{const _0x322f61=await this[_0x5ea2f4(0x21d)]();if(_0x322f61[_0x5ea2f4(0xea)]){if(_0x5896e9['TpaFW'](_0x5896e9[_0x5ea2f4(0x1be)],_0x5896e9['ktrkx'])){const _0x6ab7fe=_0x322f61['cluster']['tags'];return _0x6ab7fe&&_0x5896e9[_0x5ea2f4(0x22d)](_0x6ab7fe[_0x5896e9['eTyeR']][_0x5ea2f4(0x1dc)](),_0x5896e9[_0x5ea2f4(0x16a)]);}else{const _0x1dd262={};_0x1dd262[_0x5ea2f4(0x189)]=_0x443877,_0x1dd262[_0x5ea2f4(0x1a6)]=_0x198c1c,_0x306563['push'](_0x1dd262);}}}}catch(_0x3f20b9){if(_0x5896e9[_0x5ea2f4(0xd7)](_0x5896e9[_0x5ea2f4(0x164)],_0x5896e9[_0x5ea2f4(0x10b)])){const _0x2385a0=_0xa74bd0[_0x5ea2f4(0x1ab)][0x0]['Outputs'][0x2]['OutputValue'],_0x5afd24=_0x1eaea5[_0x5ea2f4(0x1ab)][0x0][_0x5ea2f4(0x119)][0x5][_0x5ea2f4(0x1ce)][_0x5ea2f4(0x22e)](',');_0x5eb948=_0x2385a0;const _0xe2e538=[];for(const _0x29a038 of _0x5afd24){const _0x21fe80={};_0x21fe80[_0x5ea2f4(0x189)]=_0x29a038,_0x21fe80[_0x5ea2f4(0x1a6)]=_0x29a038,_0xe2e538[_0x5ea2f4(0x12f)](_0x21fe80);}_0x327774=_0xe2e538,_0x374840[_0x5ea2f4(0x247)](_0x5ea2f4(0x206)+_0x2385a0+'\x20'),_0x79e640['info'](_0x5ea2f4(0x211)+_0x5afd24+'\x20'),_0x1a3ae4+=_0x5ea2f4(0x234)+_0x2385a0+_0x5ea2f4(0x219)+_0x5afd24+',\x20';}else return![];}return![];}async[a0_0x3dbea3(0x1d4)](){const _0x11bc04=a0_0x3dbea3;return this[_0x11bc04(0xf5)]();}async[a0_0x3dbea3(0x21d)](){const _0x4343cc=a0_0x3dbea3,_0x383e85={};_0x383e85[_0x4343cc(0x1ea)]=_0x4343cc(0x254);const _0x2acb88=_0x383e85,_0x1071dc={};_0x1071dc[_0x4343cc(0x16e)]=_0x2acb88[_0x4343cc(0x1ea)];const _0x1a11a5=new awsSDK[(_0x4343cc(0x1c1))](_0x1071dc),_0x4f659f={};return _0x4f659f[_0x4343cc(0x19a)]=this[_0x4343cc(0x231)],_0x1a11a5['describeCluster'](_0x4f659f)[_0x4343cc(0xb8)]();}async[a0_0x3dbea3(0x216)](_0x481d32){const _0x5b7562=a0_0x3dbea3,_0x4f5a72={};_0x4f5a72['YkjyK']=_0x5b7562(0x1fc),_0x4f5a72[_0x5b7562(0x23c)]='aws-auth-cm.yaml',_0x4f5a72[_0x5b7562(0x23b)]=_0x5b7562(0x1cc),_0x4f5a72[_0x5b7562(0x244)]='<ARN>';const _0x7c86cd=_0x4f5a72,_0x162c25=await fs['readFileAsync'](path['join'](__dirname,'..',_0x7c86cd[_0x5b7562(0x22c)],_0x7c86cd[_0x5b7562(0x23c)]),_0x7c86cd[_0x5b7562(0x23b)]),_0x444df5=yaml['load'](_0x162c25);return _0x444df5[_0x5b7562(0x188)][_0x5b7562(0x133)]=_0x444df5[_0x5b7562(0x188)][_0x5b7562(0x133)]['replace'](_0x7c86cd[_0x5b7562(0x244)],_0x481d32),_0x444df5;}async[a0_0x3dbea3(0x117)](_0x194203){const _0x238b7b=a0_0x3dbea3,_0x3ac0e1={};_0x3ac0e1['bBXxy']=_0x238b7b(0x254);const _0x194b10=_0x3ac0e1,_0x438dd8={};_0x438dd8[_0x238b7b(0x16e)]=_0x194b10[_0x238b7b(0x1d6)];const _0x391a57=new awsSDK[(_0x238b7b(0x1c1))](_0x438dd8),_0x4b8903={};return _0x4b8903['clusterName']=this[_0x238b7b(0x231)],_0x4b8903[_0x238b7b(0x10a)]=_0x194203,_0x391a57[_0x238b7b(0x169)](_0x4b8903)[_0x238b7b(0xb8)]();}async[a0_0x3dbea3(0xf5)](){const _0x36524a=a0_0x3dbea3,_0x5959b1={'tvxTu':function(_0x2232bd,_0x338127){return _0x2232bd(_0x338127);},'wbmFv':function(_0x20eac2,_0x14062e){return _0x20eac2(_0x14062e);},'CSRBt':function(_0x3e2928,_0x3c0a01){return _0x3e2928!==_0x3c0a01;},'SCpIM':_0x36524a(0x246),'ozIDO':function(_0x1ff38f,_0x21862b){return _0x1ff38f===_0x21862b;},'jqGDr':_0x36524a(0x21b),'HuKIc':_0x36524a(0x1e0),'mfkKQ':_0x36524a(0x254),'laNJS':function(_0x562c36,_0x1c3a83){return _0x562c36===_0x1c3a83;},'OOPyU':_0x36524a(0x1d2),'qYtDM':_0x36524a(0x1c8),'CyxPD':_0x36524a(0x191)};return new Promise((_0x34099c,_0x280b96)=>{const _0x1c5a3c=_0x36524a,_0x2b8e22={'TNXlw':function(_0x4f28ee,_0x2cdbd5){const _0x307b39=a0_0x4ad6;return _0x5959b1[_0x307b39(0x11f)](_0x4f28ee,_0x2cdbd5);},'HusSy':function(_0x4e6522,_0xd5f398){return _0x5959b1['CSRBt'](_0x4e6522,_0xd5f398);},'xKdOi':_0x5959b1[_0x1c5a3c(0xb7)],'cBFcS':function(_0xcc7a43,_0x31fae1){const _0x563386=_0x1c5a3c;return _0x5959b1[_0x563386(0x197)](_0xcc7a43,_0x31fae1);},'QoiZG':_0x5959b1[_0x1c5a3c(0x111)],'thBzj':_0x5959b1[_0x1c5a3c(0x1ad)],'WkkoB':_0x5959b1[_0x1c5a3c(0xd8)],'RXdIU':function(_0x1cc8cf,_0x266388){const _0x51c528=_0x1c5a3c;return _0x5959b1[_0x51c528(0x17c)](_0x1cc8cf,_0x266388);},'oEnZb':_0x5959b1[_0x1c5a3c(0x1b2)],'vtylM':_0x5959b1[_0x1c5a3c(0x1b8)]};if(_0x5959b1['laNJS'](_0x5959b1[_0x1c5a3c(0xb3)],_0x5959b1[_0x1c5a3c(0xb3)])){const _0x34c894={};_0x34c894[_0x1c5a3c(0x16e)]=_0x5959b1[_0x1c5a3c(0xd8)];const _0x35a39c=new awsSDK[(_0x1c5a3c(0x1c1))](_0x34c894);_0x35a39c[_0x1c5a3c(0x240)]()[_0x1c5a3c(0xb8)]()['then'](_0x4359ae=>{const _0x52026c=_0x1c5a3c,_0x2a1134={'GEgQZ':function(_0x45b4cc,_0x37a78e){const _0x3242ff=a0_0x4ad6;return _0x2b8e22[_0x3242ff(0x1ca)](_0x45b4cc,_0x37a78e);}};if(_0x2b8e22['HusSy'](_0x2b8e22[_0x52026c(0x24a)],_0x2b8e22[_0x52026c(0x24a)]))_0x19bc8b['error']('Cannot\x20find\x20VPC\x20'+_0x3c7e42+_0x52026c(0xaf)+_0x418db5[_0x52026c(0x13b)]+_0x52026c(0x13c)),_0x2a1134[_0x52026c(0x101)](_0xbdf1df,![]);else{if(_0x4359ae['clusters'][_0x52026c(0x126)](this[_0x52026c(0x231)])){if(_0x2b8e22[_0x52026c(0x1f3)](_0x2b8e22[_0x52026c(0x11c)],_0x2b8e22[_0x52026c(0x252)]))return _0x4a933c['status'][_0x52026c(0x1c0)]['ingress'][0x0][_0x52026c(0xfa)];else _0x2b8e22[_0x52026c(0x1ca)](_0x34099c,!![]);}_0x2b8e22[_0x52026c(0x1ca)](_0x34099c,![]);}})[_0x1c5a3c(0x185)](_0x4caae5=>{const _0x25a113=_0x1c5a3c,_0x57be68={};_0x57be68['aeTsa']=_0x2b8e22[_0x25a113(0x1b5)];const _0x565955=_0x57be68;if(_0x2b8e22[_0x25a113(0x10d)](_0x2b8e22['oEnZb'],_0x2b8e22[_0x25a113(0x14e)])){const _0x471209={};_0x471209[_0x25a113(0x16e)]=_0x565955[_0x25a113(0xc5)];const _0x3841c5=new _0xb52529[(_0x25a113(0x1c1))](_0x471209),_0x4db544={};return _0x4db544[_0x25a113(0x19a)]=this['clusterName'],_0x3841c5['describeCluster'](_0x4db544)[_0x25a113(0xb8)]();}else logger['error'](_0x4caae5),_0x2b8e22[_0x25a113(0x1ca)](_0x280b96,_0x4caae5);});}else _0x2da899[_0x1c5a3c(0xce)](_0x1c5a3c(0xbd)+_0x2d2bc4+_0x1c5a3c(0xaf)+_0x1daa7c[_0x1c5a3c(0x13b)]+_0x1c5a3c(0x1a5)+_0x55a7b2),_0x5959b1[_0x1c5a3c(0x220)](_0x13a5ed,[![],[]]);});}async[a0_0x3dbea3(0x233)](_0x7443f4,_0x271d26){const _0x4cfc87=a0_0x3dbea3,_0x4b5229={'hDQoq':function(_0x3ce5b0,_0x347aab){return _0x3ce5b0(_0x347aab);},'UxWbm':function(_0x52e884,_0x36ad2f){return _0x52e884(_0x36ad2f);}},_0xff4aef=this['cloudProviderName']['toUpperCase'](),_0x4411ac=await _0x4b5229[_0x4cfc87(0xe9)](_0x7443f4,_0xff4aef+_0x4cfc87(0x187)),_0x5df4c5=await _0x4b5229[_0x4cfc87(0xdd)](_0x7443f4,_0xff4aef+_0x4cfc87(0x253));global_registry[_0x4cfc87(0x195)]=_0x4411ac,global_registry[_0x4cfc87(0xc0)]=_0x5df4c5;const _0x1b4a7a={};return _0x1b4a7a[_0x4cfc87(0x136)]=_0x4411ac,_0x1b4a7a[_0x4cfc87(0x23d)]=_0x5df4c5,_0x271d26['cloudProvider'][AWS]=_0x1b4a7a,_0x271d26;}async['getKubeConfigData'](){const _0x2bfea1=a0_0x3dbea3,_0x5aba72={'CUWZu':function(_0x4f4e56){return _0x4f4e56();},'UTzqm':'aws_credentials','sSbdn':_0x2bfea1(0x1fc),'laqbf':_0x2bfea1(0x1a4)},_0x2578a8=_0x5aba72[_0x2bfea1(0x13a)](getDirForConfig),_0x591165=await this['getClusterInfo'](),_0x5f39ad=path['join'](_0x2578a8,_0x5aba72[_0x2bfea1(0x1fd)]),_0x202196=_0x2bfea1(0xd0)+global_registry[_0x2bfea1(0x195)]+'\x0aaws_secret_access_key\x20=\x20'+global_registry[_0x2bfea1(0xc0)];fs[_0x2bfea1(0x192)](_0x5f39ad,_0x202196);let _0x2a9775=await fs[_0x2bfea1(0xcb)](path['join'](__dirname,'..',_0x5aba72[_0x2bfea1(0x142)],_0x5aba72[_0x2bfea1(0x1dd)]));return _0x2a9775=_0x2a9775[_0x2bfea1(0x229)](),_0x2a9775=_0x2a9775[_0x2bfea1(0x146)](/<CLUSTER_NAME>/g,this['clusterName']),_0x2a9775=_0x2a9775[_0x2bfea1(0x146)](/<CLUSTER_URL>/g,_0x591165[_0x2bfea1(0xea)][_0x2bfea1(0x1a2)]),_0x2a9775=_0x2a9775[_0x2bfea1(0x146)](/<CERTIFICATE_DATA>/g,_0x591165[_0x2bfea1(0xea)][_0x2bfea1(0x107)][_0x2bfea1(0x188)]),_0x2a9775=_0x2a9775[_0x2bfea1(0x146)](/<CLUSTER_REGION>/g,global_registry['clusterRegion']),_0x2a9775=_0x2a9775[_0x2bfea1(0x146)](/<CLUSTER_NAME_USER>/g,IAM_USER_NAME),_0x2a9775=_0x2a9775[_0x2bfea1(0x146)](/<CLOUD_PROVIDER_ACCESS_KEY>/g,global_registry['cloudProviderAccessKey']),_0x2a9775=_0x2a9775[_0x2bfea1(0x146)](/<CLOUD_PROVIDER_SECRET>/g,global_registry[_0x2bfea1(0xc0)]),_0x2a9775=_0x2a9775[_0x2bfea1(0x146)](/<AWS_CONFIG_FILE_PATH>/g,_0x5f39ad),_0x2a9775;}async[a0_0x3dbea3(0x1b3)](_0x23e2c2=null,_0x365982=null){const _0x4058b6=a0_0x3dbea3,_0x4de72a={'JzHCF':function(_0x1154dd,_0x48cdd6){return _0x1154dd(_0x48cdd6);},'OLYmc':_0x4058b6(0x254),'ShIjF':_0x4058b6(0xcc),'EiTEF':'Creating\x20required\x20dependencies\x20-\x20EKS\x20Role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups\x20and\x20Cluster\x20and\x20Node\x20Group(s)','EeCoJ':function(_0x5dfab4,_0x4545d6,_0x10b808,_0x528ea6,_0x32ea6d,_0x4ce6db){return _0x5dfab4(_0x4545d6,_0x10b808,_0x528ea6,_0x32ea6d,_0x4ce6db);},'QDBac':_0x4058b6(0x12c),'EyYqq':function(_0x587b81,_0x2141fc){return _0x587b81===_0x2141fc;},'gENZz':function(_0x550aa2,_0x4eff42){return _0x550aa2===_0x4eff42;},'xnStB':function(_0x406791,_0x1e0b21){return _0x406791!==_0x1e0b21;},'illlU':_0x4058b6(0x177),'LGuhi':function(_0xc4f4d5,_0x5ab438){return _0xc4f4d5!==_0x5ab438;},'JWEEh':_0x4058b6(0x152)},_0x3ce350={};_0x3ce350[_0x4058b6(0x14c)]=WS_EVENTS[_0x4058b6(0x14a)],_0x3ce350[_0x4058b6(0x226)]=_0x4de72a['ShIjF'],this['webSocketUtils']['sendEventToBackend'](this[_0x4058b6(0x249)],_0x3ce350),logger[_0x4058b6(0x247)](_0x4de72a[_0x4058b6(0xca)]);const _0x40c4d4=global_registry[_0x4058b6(0x1ed)],_0x329a29=global_registry['maxNodes'],_0x53d35f=await _0x4de72a[_0x4058b6(0x1ba)](createClusterStack,this[_0x4058b6(0x231)],_0x40c4d4,_0x329a29,_0x23e2c2,_0x365982),_0x501ddb=_0x53d35f[_0x4058b6(0x1ab)][0x0][_0x4058b6(0x119)][0x0]['OutputValue'][_0x4058b6(0x22e)](','),_0xd161=_0x53d35f[_0x4058b6(0x1ab)][0x0][_0x4058b6(0x119)][0x1][_0x4058b6(0x1ce)],_0x1a0f04=_0x53d35f[_0x4058b6(0x1ab)][0x0][_0x4058b6(0x119)][0x3]['OutputValue'],_0x1b1cff=_0x53d35f[_0x4058b6(0x1ab)][0x0][_0x4058b6(0x119)][0x4]['OutputValue'];logger[_0x4058b6(0x247)](_0x4de72a[_0x4058b6(0xff)]),logger[_0x4058b6(0x247)](_0x4058b6(0x1e7)+_0x1a0f04+'\x20'),logger[_0x4058b6(0x247)](_0x4058b6(0xe7)+_0xd161+'\x20'),logger['info'](_0x4058b6(0x1d3)+_0x501ddb+'\x20'),logger[_0x4058b6(0x247)](_0x4058b6(0xb4)+_0x1b1cff+'\x20');let _0x54325d=_0x4058b6(0x134)+_0x1a0f04+',\x20ClusterRole\x20=>\x20'+_0xd161+_0x4058b6(0x17d)+_0x501ddb+_0x4058b6(0xbb)+_0x1b1cff;if(_0x4de72a[_0x4058b6(0x1da)](_0x23e2c2,null)&&_0x4de72a['gENZz'](_0x365982,null)){if(_0x4de72a['xnStB'](_0x4de72a['illlU'],_0x4de72a['illlU'])){const _0x2309ee={'QpUOV':function(_0x4d925d,_0x32a295){const _0x29d791=_0x4058b6;return _0x4de72a[_0x29d791(0x184)](_0x4d925d,_0x32a295);},'ILAct':function(_0x37a099,_0x47fbfb){return _0x4de72a['JzHCF'](_0x37a099,_0x47fbfb);}},_0x581e0e={};_0x581e0e[_0x4058b6(0x16e)]=_0x4de72a[_0x4058b6(0x1a1)];const _0x55e712=new _0x467f22[(_0x4058b6(0x1c1))](_0x581e0e);_0x55e712['listClusters']()[_0x4058b6(0xb8)]()[_0x4058b6(0x17b)](_0x271458=>{const _0x568b88=_0x4058b6;_0x271458[_0x568b88(0x153)][_0x568b88(0x126)](this['clusterName'])&&_0x2309ee[_0x568b88(0x1a7)](_0x26ea27,!![]),_0x2309ee[_0x568b88(0x1a7)](_0x342c67,![]);})[_0x4058b6(0x185)](_0x4daa67=>{const _0xe35705=_0x4058b6;_0x135ab9[_0xe35705(0xce)](_0x4daa67),_0x2309ee[_0xe35705(0x15e)](_0x13211c,_0x4daa67);});}else{const _0x32a7da=_0x53d35f[_0x4058b6(0x1ab)][0x0][_0x4058b6(0x119)][0x2][_0x4058b6(0x1ce)],_0x5d0b4e=_0x53d35f['Stacks'][0x0][_0x4058b6(0x119)][0x5][_0x4058b6(0x1ce)]['split'](',');_0x23e2c2=_0x32a7da;const _0xfd74a6=[];for(const _0x5d07b3 of _0x5d0b4e){if(_0x4de72a[_0x4058b6(0x250)](_0x4de72a[_0x4058b6(0x255)],_0x4de72a[_0x4058b6(0x255)]))_0x5d73f1[_0x4058b6(0x19e)](_0x53ac87);else{const _0x246b9d={};_0x246b9d[_0x4058b6(0x189)]=_0x5d07b3,_0x246b9d['value']=_0x5d07b3,_0xfd74a6[_0x4058b6(0x12f)](_0x246b9d);}}_0x365982=_0xfd74a6,logger['info']('VPC\x20=>\x20'+_0x32a7da+'\x20'),logger[_0x4058b6(0x247)](_0x4058b6(0x211)+_0x5d0b4e+'\x20'),_0x54325d+=',VPC\x20=>\x20'+_0x32a7da+_0x4058b6(0x219)+_0x5d0b4e+',\x20';}}const _0x48e7c3={};return _0x48e7c3['type']=WS_EVENTS[_0x4058b6(0x14a)],_0x48e7c3[_0x4058b6(0x226)]=_0x54325d,this[_0x4058b6(0x122)][_0x4058b6(0x16d)](this[_0x4058b6(0x249)],_0x48e7c3),[_0x23e2c2,_0x365982];}async['deleteCluster'](_0x4df6fa,_0x16398a){const _0x2d547a=a0_0x3dbea3,_0x1b8267={'mxhaC':function(_0x47624a,_0x652ff){return _0x47624a(_0x652ff);},'virfC':function(_0x1ca735,_0x27b01d){return _0x1ca735(_0x27b01d);},'KsafN':function(_0x4a2363,_0x28cec9,_0x27f0dd){return _0x4a2363(_0x28cec9,_0x27f0dd);}};await _0x1b8267[_0x2d547a(0x1b7)](deleteAgent,_0x4df6fa),await _0x1b8267[_0x2d547a(0x24d)](deleteRoutingDeps,_0x4df6fa),await _0x1b8267[_0x2d547a(0x11b)](deleteClusterAndDependencies,_0x16398a,this[_0x2d547a(0x231)]);}async[a0_0x3dbea3(0x22b)](_0x15608e,_0x377a38){const _0x41a55a=a0_0x3dbea3,_0x4a12ae={'cClbB':function(_0x4ee2a0,_0x2386b5){return _0x4ee2a0(_0x2386b5);},'LoYRG':function(_0x26a31c,_0x384090){return _0x26a31c(_0x384090);},'zdFBv':'2017-11-01','LqZak':function(_0x270a12,_0xe6a48f){return _0x270a12===_0xe6a48f;},'oGCaH':_0x41a55a(0x23e),'hAalD':_0x41a55a(0x203),'AKPVF':'Authmap\x20already\x20exists.\x20Not\x20updating','iwkvP':'Creating\x20Autoscaler\x20Role','WJavp':function(_0x249c73,_0x21de66){return _0x249c73!==_0x21de66;},'HGsHA':_0x41a55a(0x130),'DMKxd':_0x41a55a(0x241),'KkNaH':function(_0x12e22f,_0x120be6){return _0x12e22f(_0x120be6);},'Mqgda':function(_0x108645,_0x53ebaa){return _0x108645===_0x53ebaa;},'xKzHN':_0x41a55a(0x17a),'EppiT':_0x41a55a(0x150),'KTDAp':'EmVPB','cZzUJ':function(_0x39328a,_0x121fcf,_0x417c3e,_0x42d47a,_0x12391b,_0x178d44,_0x3ab826,_0x1448d1){return _0x39328a(_0x121fcf,_0x417c3e,_0x42d47a,_0x12391b,_0x178d44,_0x3ab826,_0x1448d1);},'MEydw':_0x41a55a(0xec),'XZfYy':_0x41a55a(0x131),'xXTnE':_0x41a55a(0x11e),'GhthW':_0x41a55a(0xc4),'Mszlh':'hCGoG','KsleE':_0x41a55a(0x1bd),'HHiZh':_0x41a55a(0xf1),'TwVAG':'error','aWIuw':function(_0x2a4d29,_0x19e859,_0x22c469){return _0x2a4d29(_0x19e859,_0x22c469);},'DPtmd':'kube-system'};let _0x4fd260,_0xb33b4c;const _0x599835={};_0x599835[_0x41a55a(0x14c)]=WS_EVENTS[_0x41a55a(0x14a)],_0x599835[_0x41a55a(0x226)]=_0x4a12ae[_0x41a55a(0x228)],this[_0x41a55a(0x122)][_0x41a55a(0x16d)](this['rws'],_0x599835),logger[_0x41a55a(0x247)](_0x4a12ae[_0x41a55a(0x228)]);try{if(_0x4a12ae[_0x41a55a(0xd1)](_0x4a12ae[_0x41a55a(0xdf)],_0x4a12ae[_0x41a55a(0xba)])){const _0x151e37=await _0x4a12ae['KkNaH'](createAutoscalerStack,this[_0x41a55a(0x231)]);_0xb33b4c=_0x151e37['Stacks'][0x0][_0x41a55a(0x119)][0x2]['OutputValue'];const _0x529c2c={};_0x529c2c[_0x41a55a(0x14c)]=WS_EVENTS[_0x41a55a(0x14a)],_0x529c2c[_0x41a55a(0x226)]=_0x41a55a(0x20e)+_0xb33b4c+'\x20',this[_0x41a55a(0x122)][_0x41a55a(0x16d)](this[_0x41a55a(0x249)],_0x529c2c),logger[_0x41a55a(0x247)](_0x41a55a(0x20e)+_0xb33b4c+'\x20');}else _0x239224[_0x41a55a(0xce)]=_0x423b62;}catch(_0x52c587){if(_0x4a12ae['Mqgda'](_0x4a12ae[_0x41a55a(0x230)],_0x4a12ae[_0x41a55a(0xd9)]))_0x21106a[_0x41a55a(0x153)][_0x41a55a(0x126)](this[_0x41a55a(0x231)])&&_0x4a12ae[_0x41a55a(0xd5)](_0x2905d2,!![]),_0x4a12ae[_0x41a55a(0x156)](_0x2162fc,![]);else{if(_0x52c587?.[_0x41a55a(0x226)]&&_0x52c587[_0x41a55a(0x226)][_0x41a55a(0x1ff)](/already exists/))_0x4a12ae['LqZak'](_0x4a12ae[_0x41a55a(0x108)],_0x4a12ae['KTDAp'])?(_0x4fd260=_0x41a55a(0x24b)+_0x52c587[_0x41a55a(0x226)],await _0x4a12ae[_0x41a55a(0x10f)](reportToGalactusAndSendToEDS,_0x377a38,this[_0x41a55a(0x249)],_0x4fd260,messageTypes[_0x41a55a(0x120)],_0x4a12ae[_0x41a55a(0x1bf)],_0x4a12ae[_0x41a55a(0x19b)],_0x4a12ae[_0x41a55a(0xfb)]),logger['warn'](_0x4fd260)):(_0x5e0dd9[_0x41a55a(0x195)]=_0x48b90d[this['cloudProviderName']][_0x41a55a(0x136)],_0x2debc4[_0x41a55a(0xc0)]=_0x2e7de4[this[_0x41a55a(0x1e9)]]['secret']);else{if(_0x4a12ae[_0x41a55a(0x176)](_0x4a12ae['GhthW'],_0x4a12ae[_0x41a55a(0x23f)])){const _0x3c86d2={};_0x3c86d2[_0x41a55a(0x16e)]=_0x4a12ae[_0x41a55a(0x24f)];const _0x1aa6ff=new _0x2b59dc[(_0x41a55a(0x1c1))](_0x3c86d2),_0x25b1b2={};return _0x25b1b2['clusterName']=this[_0x41a55a(0x231)],_0x25b1b2[_0x41a55a(0x10a)]=_0x4b9bb8,_0x1aa6ff[_0x41a55a(0x169)](_0x25b1b2)['promise']();}else{const _0x6e8a1c=_0x4a12ae[_0x41a55a(0x1b0)][_0x41a55a(0x22e)]('|');let _0xc02821=0x0;while(!![]){switch(_0x6e8a1c[_0xc02821++]){case'0':await _0x4a12ae[_0x41a55a(0x10f)](reportToGalactusAndSendToEDS,_0x377a38,this[_0x41a55a(0x249)],_0x4fd260,messageTypes[_0x41a55a(0x15b)],_0x4a12ae[_0x41a55a(0x1bf)],_0x4a12ae[_0x41a55a(0x1b6)],_0x4a12ae['TwVAG']);continue;case'1':logger[_0x41a55a(0xce)](_0x4fd260);continue;case'2':process[_0x41a55a(0x12e)](0x1);continue;case'3':await _0x4a12ae[_0x41a55a(0x1f1)](deleteClusterAndDependencies,global_registry[_0x41a55a(0x13b)],this[_0x41a55a(0x231)]);continue;case'4':_0x4fd260='Unable\x20to\x20spawn\x20Autoscaler\x20due\x20to:\x20'+_0x52c587?.[_0x41a55a(0x226)]+_0x41a55a(0x147);continue;}break;}}}}}const _0x4376bb=await this[_0x41a55a(0x117)](this[_0x41a55a(0x231)]+'-NodeGroup'),_0x81613d=_0x4376bb[_0x41a55a(0x1c5)][_0x41a55a(0x163)],_0x3e3b66=await this[_0x41a55a(0x216)](_0x81613d),_0x38b4ec={};return _0x38b4ec[_0x41a55a(0x137)]=_0x4a12ae[_0x41a55a(0xd3)],_0x38b4ec['body']=_0x3e3b66,await _0x15608e['createNamespacedConfigMap'](_0x38b4ec)[_0x41a55a(0x185)](_0x3244c0=>{const _0x4f0bd2=_0x41a55a;if(_0x4a12ae[_0x4f0bd2(0x176)](_0x4a12ae[_0x4f0bd2(0x113)],_0x4a12ae[_0x4f0bd2(0xe3)]))return _0x2e7a54[_0x20cd6f['OutputKey']]=_0x43076c[_0x4f0bd2(0x1ce)],_0x13f8b6;else logger[_0x4f0bd2(0x247)](_0x4a12ae[_0x4f0bd2(0xcf)]);}),_0xb33b4c;}async[a0_0x3dbea3(0x148)](_0xb42519,_0x3bd48c,_0x40bcb9,_0x240d18,_0x507a85){const _0x534eb1=a0_0x3dbea3,_0x41a008={'NaXOq':function(_0x6eac24,_0xb06e3d){return _0x6eac24===_0xb06e3d;},'AnqwH':'czhol','SZcjq':_0x534eb1(0x168),'ZuhLV':_0x534eb1(0x138),'LPoZc':_0x534eb1(0x256),'lPizT':'Creating\x20required\x20dependencies\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','ovFid':function(_0x123059,_0x44d942,_0x58d250){return _0x123059(_0x44d942,_0x58d250);},'PlOOU':_0x534eb1(0x12a),'dNZuD':'EFSFileSystemId','bDbed':_0x534eb1(0xbf),'DctQi':_0x534eb1(0x12c),'uFxUA':_0x534eb1(0x190),'QisUl':_0x534eb1(0x1f9),'KpYeM':_0x534eb1(0x23a),'IBJSL':_0x534eb1(0x1fc),'jzCOu':_0x534eb1(0x218),'RRRvJ':_0x534eb1(0x19f),'sihmy':_0x534eb1(0x1cc),'GrQrr':'Added\x20EFS\x20CSI\x20Driver','XHqhv':_0x534eb1(0x21c),'IIaEs':_0x534eb1(0xc1),'ujtGL':'fileSystemId','NWoJa':_0x534eb1(0x116),'mYGPO':'Created\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','fifQd':function(_0x36211f,_0x1d4281){return _0x36211f!==_0x1d4281;},'JEBHk':_0x534eb1(0x1f0),'lltSc':_0x534eb1(0x1e1),'FouBF':function(_0xfb7f34,_0x3f35ac,_0x5234ba,_0x34a5c8,_0x1fc307,_0x2741d0,_0x3d577d,_0x313f89){return _0xfb7f34(_0x3f35ac,_0x5234ba,_0x34a5c8,_0x1fc307,_0x2741d0,_0x3d577d,_0x313f89);},'XEdWM':_0x534eb1(0xec),'mbzxT':_0x534eb1(0x158),'HYplv':_0x534eb1(0xce)};logger[_0x534eb1(0x247)](_0x41a008[_0x534eb1(0xe2)]);let _0x3db4b4;try{if(_0x41a008[_0x534eb1(0x207)](_0x41a008['ZuhLV'],_0x41a008['ZuhLV'])){const _0x38e1f5={};_0x38e1f5[_0x534eb1(0x14c)]=WS_EVENTS[_0x534eb1(0x14a)],_0x38e1f5[_0x534eb1(0x226)]=_0x41a008[_0x534eb1(0xde)],this[_0x534eb1(0x122)]['sendEventToBackend'](this['rws'],_0x38e1f5),logger[_0x534eb1(0x247)](_0x41a008[_0x534eb1(0x11a)]);const _0x4c022e=await _0x41a008['ovFid'](createHubHaStack,this['clusterName'],_0x240d18),_0x9d7bb5=_0x4c022e[_0x534eb1(0x1ab)][0x0]['Outputs'][_0x534eb1(0x145)]((_0x4211aa,_0x36decf)=>{const _0x7fbf65=_0x534eb1;if(_0x41a008[_0x7fbf65(0x207)](_0x41a008[_0x7fbf65(0xf0)],_0x41a008[_0x7fbf65(0xf0)]))return _0x4211aa[_0x36decf[_0x7fbf65(0x1aa)]]=_0x36decf['OutputValue'],_0x4211aa;else _0x155d40[_0x7fbf65(0xce)](_0x7fbf65(0x1df)+_0x550027+_0x7fbf65(0x22f)+_0x37b905[_0x7fbf65(0xe5)]),_0x18b614[_0x7fbf65(0x188)]=_0x7fbf65(0x224)+_0xc2f911,_0x23e096[_0x7fbf65(0xce)]=_0x2e1450;},{}),_0x1559d9=_0x9d7bb5[_0x41a008['PlOOU']],_0x141ba3=_0x9d7bb5[_0x41a008['dNZuD']],_0x58c09f=_0x9d7bb5[_0x41a008[_0x534eb1(0x199)]];logger[_0x534eb1(0x247)](_0x41a008[_0x534eb1(0x155)]),logger[_0x534eb1(0x247)](_0x534eb1(0x1c2)+_0x1559d9),logger['info'](_0x534eb1(0x104)+_0x58c09f),logger[_0x534eb1(0x247)]('EFS\x20FileSystem\x20=>\x20'+_0x141ba3),_0x3db4b4=_0x534eb1(0x144)+_0x1559d9+_0x534eb1(0x13d)+_0x58c09f+',\x20EFS_FileSystem\x20=>\x20'+_0x141ba3,logger[_0x534eb1(0x247)](_0x41a008[_0x534eb1(0x129)]),await this[_0x534eb1(0x105)](_0x507a85,_0x58c09f,_0x141ba3);const _0x22e088={};_0x22e088[_0x534eb1(0x14c)]=WS_EVENTS[_0x534eb1(0x14a)],_0x22e088[_0x534eb1(0x226)]=_0x3db4b4,this['webSocketUtils'][_0x534eb1(0x16d)](this[_0x534eb1(0x249)],_0x22e088);const _0x528050={};_0x528050[_0x534eb1(0x14c)]=WS_EVENTS[_0x534eb1(0x14a)],_0x528050[_0x534eb1(0x226)]=_0x41a008[_0x534eb1(0x114)],this['webSocketUtils']['sendEventToBackend'](this[_0x534eb1(0x249)],_0x528050),logger['info'](_0x41a008[_0x534eb1(0xc3)]);let _0x31006e=await fs['readFileAsync'](path['join'](__dirname,'..',_0x41a008[_0x534eb1(0x204)],_0x41a008[_0x534eb1(0x201)],_0x41a008['RRRvJ']),_0x41a008[_0x534eb1(0x175)]);_0x31006e=_0x31006e['replace'](/<EfsCSIControllerARN>/g,_0x1559d9);const _0x2934e2=yaml[_0x534eb1(0xb6)](_0x31006e);await _0x41a008[_0x534eb1(0x21a)](kubeApply,_0x2934e2,_0x3bd48c),logger['info'](_0x41a008[_0x534eb1(0xc2)]),logger[_0x534eb1(0x247)](_0x41a008[_0x534eb1(0x24c)]);const _0x4bd2a0=await fs[_0x534eb1(0xcb)](path[_0x534eb1(0xe0)](__dirname,'..',_0x41a008[_0x534eb1(0x204)],_0x41a008[_0x534eb1(0x201)],_0x41a008['IIaEs']),_0x41a008[_0x534eb1(0x175)]),_0xbabc72=yaml['load'](_0x4bd2a0);_0xbabc72[_0x534eb1(0x161)][_0x41a008[_0x534eb1(0x1e2)]]=_0x141ba3;const _0x5c1718={};_0x5c1718[_0x534eb1(0xbe)]=_0xbabc72;const _0x37ae77=await _0xb42519['createStorageClass'](_0x5c1718);logger[_0x534eb1(0x247)](_0x41a008['NWoJa']);const _0x17f773={};_0x17f773['type']=WS_EVENTS['LOG'],_0x17f773[_0x534eb1(0x226)]=_0x41a008[_0x534eb1(0xf6)],this['webSocketUtils']['sendEventToBackend'](this[_0x534eb1(0x249)],_0x17f773);}else return![];}catch(_0x20cf6f){if(_0x41a008[_0x534eb1(0x1af)](_0x41a008['JEBHk'],_0x41a008['JEBHk'])){if(_0x29cc22[_0x534eb1(0x126)](_0x5a481a['value']))return!![];return _0x3e1dc9[_0x534eb1(0x12f)](_0x287827),![];}else{const _0x1e9c7b=_0x41a008[_0x534eb1(0x106)][_0x534eb1(0x22e)]('|');let _0x22bff1=0x0;while(!![]){switch(_0x1e9c7b[_0x22bff1++]){case'0':await _0x41a008[_0x534eb1(0x21a)](deleteClusterAndDependencies,global_registry['clusterRegion'],this[_0x534eb1(0x231)]);continue;case'1':logger['error'](_0x3db4b4);continue;case'2':await _0x41a008['FouBF'](reportToGalactusAndSendToEDS,_0x40bcb9,this[_0x534eb1(0x249)],_0x3db4b4,messageTypes[_0x534eb1(0x15b)],_0x41a008[_0x534eb1(0x160)],_0x41a008[_0x534eb1(0x170)],_0x41a008[_0x534eb1(0x24e)]);continue;case'3':_0x3db4b4='Error\x20occurred\x20while\x20setting\x20up\x20Hub\x20HA\x20infra:\x20'+_0x20cf6f[_0x534eb1(0x226)];continue;case'4':process['exit'](0x1);continue;}break;}}}}async[a0_0x3dbea3(0x105)](_0x3fb7b0,_0x253369,_0x1a78a6){const _0x582e27=a0_0x3dbea3,_0x27a686={'oxdxW':function(_0x5df7af,_0x148b18){return _0x5df7af(_0x148b18);},'FedwG':function(_0x5501d2,_0x213565){return _0x5501d2===_0x213565;},'GPwes':_0x582e27(0x118),'YNIrM':'xIRey','fTdOA':function(_0x485919,_0x3e3321){return _0x485919!==_0x3e3321;},'BbPoA':_0x582e27(0x19c)},_0x1c043b={};_0x1c043b[_0x582e27(0xda)]=global_registry[_0x582e27(0x13b)];const _0x5918d2=new awsSDK[(_0x582e27(0x1f8))](_0x1c043b),_0x2ffb0e={};_0x2ffb0e[_0x582e27(0xda)]=global_registry[_0x582e27(0x13b)];const _0x2f80ec=new awsSDK[(_0x582e27(0x1b9))](_0x2ffb0e),_0x20913d=new Set(),_0x2aff20=[];for(const _0x552166 of _0x3fb7b0){if(_0x27a686[_0x582e27(0xc6)](_0x27a686[_0x582e27(0x227)],_0x27a686['YNIrM']))return this[_0x582e27(0xf5)]();else{const _0x2bd415=await this[_0x582e27(0x238)](_0x2f80ec,_0x552166[_0x582e27(0x1a6)]);if(_0x20913d[_0x582e27(0x1b1)](_0x2bd415)){if(_0x27a686['fTdOA'](_0x27a686[_0x582e27(0x225)],_0x27a686[_0x582e27(0x225)]))_0x27a686[_0x582e27(0x171)](_0x4593e4,!![]);else{logger[_0x582e27(0x247)](_0x582e27(0x237)+_0x552166['value']+_0x582e27(0x205)+_0x2bd415+_0x582e27(0x1e8));continue;}}_0x20913d[_0x582e27(0x100)](_0x2bd415),_0x2aff20[_0x582e27(0x12f)](this[_0x582e27(0x1de)](_0x5918d2,_0x552166,_0x253369,_0x1a78a6));}}await Promise[_0x582e27(0x1cb)](_0x2aff20);}async[a0_0x3dbea3(0x1de)](_0x255c2e,_0x3a7a0b,_0x5786fc,_0x2dc42d){const _0x24595f=a0_0x3dbea3,_0x9cc861={};_0x9cc861[_0x24595f(0x141)]=function(_0x3452b2,_0x33dca4){return _0x3452b2!==_0x33dca4;},_0x9cc861[_0x24595f(0x194)]=_0x24595f(0x1c7),_0x9cc861['uyrxs']=function(_0x1884f1,_0x587a90){return _0x1884f1!==_0x587a90;},_0x9cc861[_0x24595f(0x257)]=_0x24595f(0x17f),_0x9cc861[_0x24595f(0x121)]=function(_0x1c4f54,_0x7a7c62){return _0x1c4f54!==_0x7a7c62;},_0x9cc861['oUBex']='cEBQb';const _0x7cd227=_0x9cc861;try{if(_0x7cd227[_0x24595f(0x1a0)](_0x7cd227[_0x24595f(0x257)],_0x7cd227[_0x24595f(0x257)])){const _0x355eeb=_0x17e559[_0x24595f(0x167)][_0x24595f(0x22e)](':')[0x0];_0x485b14+=_0x24595f(0x1d1)+_0x355eeb[_0x24595f(0x236)]()+'\x20|\x20Action\x20:\x20'+_0x39addb[_0x4b4de5['EvalActionName']]+':\x20'+_0x45558b[_0x24595f(0x15f)],_0x7cd227[_0x24595f(0x141)](_0x1115c0[_0x24595f(0x15f)],_0x7cd227[_0x24595f(0x194)])&&(_0x5c4aaf[_0x24595f(0x13e)]=![]);}else{const _0x51929e={};_0x51929e[_0x24595f(0x162)]=_0x2dc42d,_0x51929e[_0x24595f(0x1e5)]=_0x3a7a0b[_0x24595f(0x1a6)],_0x51929e[_0x24595f(0x1d7)]=[_0x5786fc];const _0x5773a2=await _0x255c2e[_0x24595f(0x18e)](_0x51929e)[_0x24595f(0xb8)](),_0x149434=_0x5773a2['MountTargetId'];await this[_0x24595f(0x1bc)](_0x255c2e,_0x3a7a0b[_0x24595f(0x1a6)],_0x149434);}}catch(_0x32905d){if(_0x7cd227['tgESE'](_0x7cd227[_0x24595f(0xef)],_0x7cd227['oUBex']))throw new _0x1bbeec(_0x24595f(0x193)+_0x4ac6d2+_0x24595f(0xe4));else logger[_0x24595f(0xce)]('Error\x20creating\x20mount\x20target\x20for\x20subnet\x20'+_0x3a7a0b[_0x24595f(0x1a6)]+':',_0x32905d);}}async[a0_0x3dbea3(0x1bc)](_0x5f58cb,_0xcda19e,_0x76b390){const _0x4e422e=a0_0x3dbea3,_0x467e2f={'usKoO':function(_0x23456f,_0x597b06){return _0x23456f(_0x597b06);},'KcxDg':function(_0x174061,_0x85347){return _0x174061(_0x85347);},'QpyYB':'2016-11-15','qrTAA':function(_0x13b8c8,_0x57cc94){return _0x13b8c8(_0x57cc94);},'IrvEc':function(_0x1877bc,_0x41fc3c){return _0x1877bc!==_0x41fc3c;},'iCBCy':_0x4e422e(0xf8),'eFhtw':function(_0x4b26e2,_0x19fe2b){return _0x4b26e2===_0x19fe2b;},'dvMUU':_0x4e422e(0x1c3),'DgbuF':_0x4e422e(0xf3),'fULLj':_0x4e422e(0xdb),'LXvnY':_0x4e422e(0xae),'viJJP':function(_0x30dff8,_0x521302){return _0x30dff8!==_0x521302;},'rUWte':_0x4e422e(0xed),'ZTqmc':_0x4e422e(0x1ac)};let _0x3ed2cf='';while(_0x467e2f['IrvEc'](_0x3ed2cf,_0x467e2f[_0x4e422e(0x16b)])){if(_0x467e2f['eFhtw'](_0x467e2f['dvMUU'],_0x467e2f[_0x4e422e(0x1d5)])){const _0x5742bd=[],_0x45168b=[];_0x1ba7f3[_0x4e422e(0x135)][_0x4e422e(0x21e)](_0x337799=>{const _0x69e22b=_0x4e422e;_0x5742bd[_0x69e22b(0x12f)](_0x337799[_0x69e22b(0x1e5)]);});const _0x5ea4d6=_0x1847d9[_0x4e422e(0x125)](_0x42c553=>{const _0x4dec15=_0x4e422e;if(_0x5742bd[_0x4dec15(0x126)](_0x42c553[_0x4dec15(0x1a6)]))return!![];return _0x45168b[_0x4dec15(0x12f)](_0x42c553),![];});_0x467e2f[_0x4e422e(0x1e3)](_0x4a2fe4,[_0x5ea4d6,_0x45168b]);}else{const _0x485cb3={};_0x485cb3['MountTargetId']=_0x76b390;const _0x477fb2=await _0x5f58cb[_0x4e422e(0xdc)](_0x485cb3)[_0x4e422e(0xb8)]();_0x3ed2cf=_0x477fb2[_0x4e422e(0x10e)][0x0][_0x4e422e(0x196)];if(_0x467e2f[_0x4e422e(0x11d)](_0x3ed2cf,_0x467e2f[_0x4e422e(0x16b)])){if(_0x467e2f['IrvEc'](_0x467e2f['fULLj'],_0x467e2f[_0x4e422e(0x182)]))_0x4b5c72[_0x4e422e(0x13e)]=![];else{logger[_0x4e422e(0x247)]('Mount\x20target\x20created\x20for\x20subnet:\x20'+_0xcda19e+_0x4e422e(0x154)+_0x76b390+'.');break;}}if(_0x467e2f[_0x4e422e(0x11d)](_0x3ed2cf,_0x467e2f[_0x4e422e(0x1d9)])){if(_0x467e2f['viJJP'](_0x467e2f[_0x4e422e(0x198)],_0x467e2f['ZTqmc']))throw new Error(_0x4e422e(0x193)+_0x76b390+_0x4e422e(0xe4));else{const _0x225546={'qUXai':function(_0x580365,_0x3d82b7){const _0x2a9c8a=_0x4e422e;return _0x467e2f[_0x2a9c8a(0x1a3)](_0x580365,_0x3d82b7);}},_0x5e4dfd={};_0x5e4dfd[_0x4e422e(0x18d)]=[_0x25013e];const _0x38bcd2=_0x5e4dfd;return new _0x23b90b((_0x5e4706,_0x4dc61e)=>{const _0xd10ec6=_0x4e422e,_0x1acfe6={'JVrLG':function(_0x269fc0,_0x27fafb){const _0x391da6=a0_0x4ad6;return _0x467e2f[_0x391da6(0x157)](_0x269fc0,_0x27fafb);}},_0x1c1932={};_0x1c1932[_0xd10ec6(0x16e)]=_0x467e2f[_0xd10ec6(0x221)],_0x1c1932['region']=_0x37231a[_0xd10ec6(0x13b)];const _0xd9e10b=new _0xd93e81[(_0xd10ec6(0x1b9))](_0x1c1932);_0xd9e10b[_0xd10ec6(0x14b)](_0x38bcd2)[_0xd10ec6(0xb8)]()[_0xd10ec6(0x17b)](_0x273aa0=>{_0x225546['qUXai'](_0x5e4706,!![]);})[_0xd10ec6(0x185)](_0x322351=>{const _0x20f8d9=_0xd10ec6;_0x2a6f3a['error'](_0x20f8d9(0x12b)+_0x2dbce6+_0x20f8d9(0xaf)+_0x323ac3[_0x20f8d9(0x13b)]+'.\x20Please\x20Check\x20and\x20try\x20again'),_0x1acfe6[_0x20f8d9(0xd2)](_0x5e4706,![]);});});}}await new Promise(_0x5069c9=>setTimeout(_0x5069c9,0x1388));}}}async[a0_0x3dbea3(0x238)](_0x5ef03a,_0x47add7){const _0x5a9269=a0_0x3dbea3,_0x33dc2b={};_0x33dc2b[_0x5a9269(0x12d)]=[_0x47add7];const _0x176005=await _0x5ef03a['describeSubnets'](_0x33dc2b)['promise']();return _0x176005[_0x5a9269(0x135)][0x0][_0x5a9269(0x181)];}['isVPCPresent'](_0x4331d1){const _0x4e4b6b=a0_0x3dbea3,_0x415634={'QRESx':function(_0x4f315a,_0x4e3deb){return _0x4f315a===_0x4e3deb;},'OkLBA':_0x4e4b6b(0xb2),'JRFBc':_0x4e4b6b(0x21f),'vDVSP':function(_0x7c3d29,_0x7807c4){return _0x7c3d29===_0x7807c4;},'AbQYS':_0x4e4b6b(0xb9),'dVKqs':function(_0x584975,_0x5840fb){return _0x584975(_0x5840fb);},'vfVUb':_0x4e4b6b(0x214),'IYAHo':'MaPif','bRJcS':function(_0x29a5bc,_0x3c3c37){return _0x29a5bc(_0x3c3c37);},'nmrtO':function(_0x500260,_0x42feec){return _0x500260===_0x42feec;},'BGTBe':_0x4e4b6b(0x22a),'oUfjG':_0x4e4b6b(0x179)},_0x227fc8={};_0x227fc8[_0x4e4b6b(0x18d)]=[_0x4331d1];const _0x2a8155=_0x227fc8;return new Promise((_0x43d36c,_0x541983)=>{const _0x505892=_0x4e4b6b,_0x5a2617={'tkFru':function(_0x183642,_0x2130a6){const _0x3ddeaa=a0_0x4ad6;return _0x415634[_0x3ddeaa(0x112)](_0x183642,_0x2130a6);},'inGNq':_0x415634[_0x505892(0xfe)],'RuXRL':function(_0x409c23,_0x16824c){const _0x21bcdf=_0x505892;return _0x415634[_0x21bcdf(0x15d)](_0x409c23,_0x16824c);},'YrJSg':function(_0x5a5b5e,_0x1a3106){const _0xf0a01d=_0x505892;return _0x415634[_0xf0a01d(0x112)](_0x5a5b5e,_0x1a3106);},'RNJXA':_0x415634[_0x505892(0x20f)],'uFTow':_0x415634['IYAHo'],'XDcbW':function(_0x1c3331,_0x68fba9){const _0x5510c0=_0x505892;return _0x415634[_0x5510c0(0x1d0)](_0x1c3331,_0x68fba9);}};if(_0x415634[_0x505892(0x210)](_0x415634[_0x505892(0x15a)],_0x415634['BGTBe'])){const _0xf412d3={};_0xf412d3[_0x505892(0x16e)]=_0x415634[_0x505892(0x1d8)],_0xf412d3['region']=global_registry[_0x505892(0x13b)];const _0x55d51d=new awsSDK['EC2'](_0xf412d3);_0x55d51d['describeVpcs'](_0x2a8155)[_0x505892(0xb8)]()[_0x505892(0x17b)](_0x2fb6f8=>{const _0x3a8666=_0x505892;_0x5a2617[_0x3a8666(0x1ae)](_0x5a2617['inGNq'],_0x5a2617[_0x3a8666(0x110)])?_0x5a2617[_0x3a8666(0xc9)](_0x43d36c,!![]):_0x1baa0a[_0x3a8666(0xce)]('Error\x20creating\x20mount\x20target\x20for\x20subnet\x20'+_0x39d4a1['value']+':',_0x16371c);})[_0x505892(0x185)](_0x5f2163=>{const _0x4091cb=_0x505892;_0x5a2617[_0x4091cb(0x1c9)](_0x5a2617[_0x4091cb(0x13f)],_0x5a2617[_0x4091cb(0x1ee)])?_0x5a2617[_0x4091cb(0xc9)](_0xe2f960,this[_0x4091cb(0x249)]):(logger[_0x4091cb(0xce)](_0x4091cb(0x12b)+_0x4331d1+_0x4091cb(0xaf)+global_registry[_0x4091cb(0x13b)]+_0x4091cb(0x13c)),_0x5a2617[_0x4091cb(0x124)](_0x43d36c,![]));});}else{const _0x53fc6c=_0x4c218e[_0x505892(0xea)][_0x505892(0x183)];return _0x53fc6c&&_0x415634[_0x505892(0xe8)](_0x53fc6c[_0x415634[_0x505892(0x18a)]][_0x505892(0x1dc)](),_0x415634['JRFBc']);}});}[a0_0x3dbea3(0x159)](_0x36169d,_0x59ed36){const _0x1351fc=a0_0x3dbea3,_0x1a9832={'lsLWl':function(_0x26d158,_0x1d2745){return _0x26d158!==_0x1d2745;},'vuPoV':_0x1351fc(0x208),'XoZqi':_0x1351fc(0x222),'NBiPB':function(_0x137657,_0x29f8c1){return _0x137657===_0x29f8c1;},'fUBPF':_0x1351fc(0x103),'QhHlz':_0x1351fc(0x259),'IBHZC':function(_0x44d00f,_0x24a863){return _0x44d00f(_0x24a863);},'QvRtr':_0x1351fc(0x179),'iLomF':_0x1351fc(0xfd),'AvSyr':_0x1351fc(0x1fb),'FOAyR':function(_0x11c5d3,_0x2cb57e){return _0x11c5d3(_0x2cb57e);},'FCEgQ':_0x1351fc(0x1ef),'xgnGI':'Authmap\x20already\x20exists.\x20Not\x20updating','RCWhN':function(_0x5e5282,_0x11f709){return _0x5e5282===_0x11f709;},'sisvN':_0x1351fc(0x14d),'hrTlf':_0x1351fc(0x242)},_0x382ec2={};_0x382ec2['Name']=_0x1a9832[_0x1351fc(0x102)],_0x382ec2[_0x1351fc(0x14f)]=[_0x59ed36];const _0x1d7143={};_0x1d7143[_0x1351fc(0xf9)]=[_0x382ec2];const _0x4b2f25=_0x1d7143;return new Promise((_0x2549f0,_0x22e530)=>{const _0x39d961=_0x1351fc,_0xe63a1={'SEgqa':function(_0x5e2f82,_0x487ca3){return _0x1a9832['lsLWl'](_0x5e2f82,_0x487ca3);},'kuFME':_0x1a9832[_0x39d961(0x217)],'XfmeA':_0x1a9832[_0x39d961(0x172)],'BOPSe':function(_0x377e09,_0x11fa60){const _0x5d71d0=_0x39d961;return _0x1a9832[_0x5d71d0(0x174)](_0x377e09,_0x11fa60);},'PVOvi':_0x1a9832[_0x39d961(0xf4)],'qCTfw':_0x1a9832['QhHlz'],'BpFdH':function(_0x5e0f2f,_0xae3aa9){return _0x1a9832['IBHZC'](_0x5e0f2f,_0xae3aa9);},'YgcAy':_0x1a9832['QvRtr'],'nrTea':function(_0x114800,_0x463566){const _0x59f4c0=_0x39d961;return _0x1a9832[_0x59f4c0(0x139)](_0x114800,_0x463566);},'VMVIx':_0x1a9832[_0x39d961(0x19d)],'KxzFv':function(_0x2626c8,_0x3e4660){const _0x5d0857=_0x39d961;return _0x1a9832[_0x5d0857(0x139)](_0x2626c8,_0x3e4660);},'GwiGA':_0x1a9832['AvSyr'],'ktclQ':function(_0x6afebd,_0x9dec9f){const _0x2fbcb2=_0x39d961;return _0x1a9832[_0x2fbcb2(0x258)](_0x6afebd,_0x9dec9f);},'ZkqEi':function(_0x331a0f,_0x52b633){return _0x1a9832['lsLWl'](_0x331a0f,_0x52b633);},'ckhxJ':_0x1a9832['FCEgQ'],'zYfFt':_0x1a9832[_0x39d961(0x215)]};if(_0x1a9832[_0x39d961(0x200)](_0x1a9832[_0x39d961(0x212)],_0x1a9832['sisvN'])){const _0x3883f3={};_0x3883f3['apiVersion']=_0x1a9832[_0x39d961(0xe1)],_0x3883f3[_0x39d961(0xda)]=global_registry[_0x39d961(0x13b)];const _0x75f368=new awsSDK['EC2'](_0x3883f3);_0x75f368[_0x39d961(0x115)](_0x4b2f25)['promise']()['then'](_0x26a844=>{const _0x4aea03=_0x39d961,_0x4c9073={'KyKCv':function(_0x2f08a2,_0x584d82){return _0xe63a1['BpFdH'](_0x2f08a2,_0x584d82);},'jkyyi':_0xe63a1[_0x4aea03(0x149)],'gHuAh':function(_0x39fe95,_0x18ef15){return _0xe63a1['nrTea'](_0x39fe95,_0x18ef15);},'iHTDn':_0xe63a1['VMVIx']};if(_0xe63a1[_0x4aea03(0x20b)](_0xe63a1[_0x4aea03(0xf2)],_0xe63a1['GwiGA']))return!![];else{const _0x41e58=[],_0x2311f6=[];_0x26a844[_0x4aea03(0x135)][_0x4aea03(0x21e)](_0x298232=>{const _0x2dbdba=_0x4aea03;if(_0x4c9073['gHuAh'](_0x4c9073[_0x2dbdba(0x1b4)],_0x4c9073[_0x2dbdba(0x1b4)])){const _0x591f31={'PUnSM':function(_0x1a1134,_0x6d9196){const _0x2ddaeb=_0x2dbdba;return _0x4c9073[_0x2ddaeb(0x251)](_0x1a1134,_0x6d9196);},'VZbnP':function(_0x59bf57,_0x4ed064){const _0x495f86=_0x2dbdba;return _0x4c9073[_0x495f86(0x251)](_0x59bf57,_0x4ed064);}},_0x5406d1={};_0x5406d1['apiVersion']=_0x4c9073['jkyyi'],_0x5406d1['region']=_0x421a2b[_0x2dbdba(0x13b)];const _0x1f783b=new _0x338e37[(_0x2dbdba(0x1b9))](_0x5406d1);_0x1f783b[_0x2dbdba(0x14b)](_0x24ad8d)['promise']()[_0x2dbdba(0x17b)](_0x1d5680=>{_0x591f31['PUnSM'](_0x8612b3,!![]);})[_0x2dbdba(0x185)](_0x199eae=>{const _0x5a2e5e=_0x2dbdba;_0x33e4d9['error'](_0x5a2e5e(0x12b)+_0x302f45+'\x20in\x20region\x20'+_0x3c4941[_0x5a2e5e(0x13b)]+_0x5a2e5e(0x13c)),_0x591f31[_0x5a2e5e(0x180)](_0x125292,![]);});}else _0x41e58['push'](_0x298232['SubnetId']);});const _0x430d4a=_0x36169d[_0x4aea03(0x125)](_0x75d650=>{const _0x5c17db=_0x4aea03;if(_0xe63a1[_0x5c17db(0x1f4)](_0xe63a1[_0x5c17db(0x151)],_0xe63a1[_0x5c17db(0x166)])){if(_0x41e58[_0x5c17db(0x126)](_0x75d650[_0x5c17db(0x1a6)])){if(_0xe63a1[_0x5c17db(0x1e4)](_0xe63a1[_0x5c17db(0xe6)],_0xe63a1[_0x5c17db(0x165)]))_0x43c524['warn'](_0x18e854);else return!![];}return _0x2311f6['push'](_0x75d650),![];}else _0x4c9073['KyKCv'](_0x3089ac,!![]);});_0xe63a1['BpFdH'](_0x2549f0,[_0x430d4a,_0x2311f6]);}})[_0x39d961(0x185)](_0x23a990=>{const _0x188e7c=_0x39d961,_0x223c47={'Bvpdu':function(_0x53f65e,_0x5b17d){const _0xc839a4=a0_0x4ad6;return _0xe63a1[_0xc839a4(0xb1)](_0x53f65e,_0x5b17d);}};_0xe63a1[_0x188e7c(0x248)](_0xe63a1[_0x188e7c(0xc7)],_0xe63a1[_0x188e7c(0xc7)])?(_0x1b9b2b[_0x188e7c(0xce)](_0x560e34),_0x223c47['Bvpdu'](_0x1adc78,_0x13b7e4)):(logger[_0x188e7c(0xce)](_0x188e7c(0xbd)+_0x36169d+_0x188e7c(0xaf)+global_registry['clusterRegion']+_0x188e7c(0x1a5)+_0x23a990),_0xe63a1[_0x188e7c(0x1cf)](_0x2549f0,[![],[]]));});}else _0x27bda0['info'](_0xe63a1[_0x39d961(0x16f)]);});}async['isCliToolInstalled'](){const _0x2dbc8e=a0_0x3dbea3,_0x62323c={'FSsTJ':function(_0x26a08c,_0x265283){return _0x26a08c(_0x265283);},'dJsrG':'aws-iam-authenticator\x20help','ikdBp':'Intercepted','ZVNPH':'aws-iam-authenticator\x20tool\x20is\x20installed'},_0x277fb7={};_0x277fb7[_0x2dbc8e(0x13e)]=![],_0x277fb7[_0x2dbc8e(0xce)]=null,_0x277fb7[_0x2dbc8e(0x188)]='';const _0x16cf75=_0x277fb7;try{const _0x3afac1=await _0x62323c['FSsTJ'](runCommand,_0x62323c[_0x2dbc8e(0x1c6)]);_0x3afac1['startsWith'](_0x62323c[_0x2dbc8e(0x16c)])?logger[_0x2dbc8e(0xf7)](_0x3afac1):logger[_0x2dbc8e(0x19e)](_0x3afac1),_0x16cf75[_0x2dbc8e(0x13e)]=!![],_0x16cf75[_0x2dbc8e(0x188)]=_0x62323c[_0x2dbc8e(0x15c)];}catch(_0x58aa35){logger['error'](_0x2dbc8e(0x1df)+_0x58aa35+_0x2dbc8e(0x22f)+_0x58aa35[_0x2dbc8e(0xe5)]),_0x16cf75[_0x2dbc8e(0x188)]=_0x2dbc8e(0x224)+_0x58aa35,_0x16cf75[_0x2dbc8e(0xce)]=_0x58aa35;}return _0x16cf75;}async['getPrincipalArn'](){const _0x277c94=a0_0x3dbea3,_0x6c0450={};_0x6c0450['uvVKr']=':role/',_0x6c0450[_0x277c94(0x1f6)]=_0x277c94(0x235);const _0x148b17=_0x6c0450,_0x43ad60=await new awsSDK['STS']()['getCallerIdentity']()[_0x277c94(0xb8)](),{Account:_0x48af71,Arn:_0x475bea}=_0x43ad60,_0x355b39=_0x475bea[_0x277c94(0x126)](_0x148b17[_0x277c94(0x1f7)]),_0x11eed5=_0x355b39?_0x277c94(0x1db)+_0x48af71+_0x277c94(0x232)+_0x475bea[_0x277c94(0x22e)](_0x148b17[_0x277c94(0x1f7)])[0x1]:_0x277c94(0x1db)+_0x48af71+':user/'+_0x475bea[_0x277c94(0x22e)](_0x148b17[_0x277c94(0x1f6)])[0x1];return _0x11eed5;}async['checkAccess'](){const _0x565244=a0_0x3dbea3,_0x53bc80={};_0x53bc80[_0x565244(0x1bb)]=function(_0x292694,_0x10f0cd){return _0x292694!==_0x10f0cd;},_0x53bc80[_0x565244(0x18f)]=_0x565244(0x1c7);const _0x2a95ae=_0x53bc80,_0x383f5a={};_0x383f5a[_0x565244(0x13e)]=![],_0x383f5a[_0x565244(0xce)]=null,_0x383f5a['data']='';const _0x40c774=_0x383f5a;try{const _0x9493e3=await this[_0x565244(0xb5)](),_0x2a7f90={'PolicySourceArn':_0x9493e3,'ActionNames':Object[_0x565244(0x1fa)](PERMISSIONS)},_0x400ffd=await new awsSDK[(_0x565244(0x1cd))]()['simulatePrincipalPolicy'](_0x2a7f90)[_0x565244(0xb8)]();let _0x11bc68='';logger[_0x565244(0x19e)](_0x565244(0x20d)+JSON[_0x565244(0x178)](_0x400ffd)),_0x40c774['status']=!![],_0x400ffd[_0x565244(0xc8)][_0x565244(0x21e)](_0x3a94d4=>{const _0x5c704d=_0x565244,_0x5e7eda=_0x3a94d4[_0x5c704d(0x167)][_0x5c704d(0x22e)](':')[0x0];_0x11bc68+=_0x5c704d(0x1d1)+_0x5e7eda['toUpperCase']()+_0x5c704d(0xcd)+PERMISSIONS[_0x3a94d4['EvalActionName']]+':\x20'+_0x3a94d4[_0x5c704d(0x15f)],_0x2a95ae[_0x5c704d(0x1bb)](_0x3a94d4[_0x5c704d(0x15f)],_0x2a95ae[_0x5c704d(0x18f)])&&(_0x40c774[_0x5c704d(0x13e)]=![]);}),_0x40c774[_0x565244(0x188)]=_0x11bc68;}catch(_0x4dc5e5){_0x40c774['error']=_0x4dc5e5;}return _0x40c774;}}const a0_0x47b72f={};a0_0x47b72f[a0_0x3dbea3(0x1ec)]=AWSCloudProvider,module[a0_0x3dbea3(0x1c4)]=a0_0x47b72f;