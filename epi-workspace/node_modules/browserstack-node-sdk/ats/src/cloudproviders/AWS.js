const a0_0x38ffe7=a0_0x5acd;(function(_0x3dfd24,_0x370e8c){const _0x51c770=a0_0x5acd,_0x13e1b8=_0x3dfd24();while(!![]){try{const _0x12e8be=parseInt(_0x51c770(0x24c))/0x1+parseInt(_0x51c770(0x275))/0x2*(parseInt(_0x51c770(0x201))/0x3)+-parseInt(_0x51c770(0x23e))/0x4*(-parseInt(_0x51c770(0x1aa))/0x5)+parseInt(_0x51c770(0x140))/0x6+-parseInt(_0x51c770(0x144))/0x7*(-parseInt(_0x51c770(0x1ad))/0x8)+parseInt(_0x51c770(0x24a))/0x9+parseInt(_0x51c770(0x1a0))/0xa*(-parseInt(_0x51c770(0x13a))/0xb);if(_0x12e8be===_0x370e8c)break;else _0x13e1b8['push'](_0x13e1b8['shift']());}catch(_0x193421){_0x13e1b8['push'](_0x13e1b8['shift']());}}}(a0_0x250a,0x87b5d));function a0_0x250a(){const _0xea9148=['EcYqK','kkiNM','OrATW','Mounting\x20Target\x20for\x20EFS','uYmws','VpcIds','ADFyM','waitForMountTarget','JIgTX','KShuL','KgYZA','sendResourceDataToHST','HaZJu','Duvpz','../utils/hstUtils','utf-8','jFdnT','MAYQz','.\x20Error:\x20','Please\x20install\x20aws-iam-authenticator\x20tool.\x20Error\x20:\x20','132LNTAQN','VLtIx','PuCxJ','efs-csi-driver-aws.yaml','MVUWh','RUejo','IMeXh','Xczeb','KRAvD','GNPrQ','JAHqy','Intercepted','mnjrU','WCwFs','mNyBW','aHPps','\x20in\x20region\x20','zIEQJ','CxVLM','Subnets\x20=>\x20','createNamespacedConfigMap','writeFileSync','namespace','tAFaA','accessKey','fxPBu','exports','nokjD','QIfHb','MountTargetId','YNsVk','JbAHM','IJELl','jKYqN','mapRoles','Values','qvGBK','TKNSo','label','CPjvt','nodeRole','createStorageClass','qGXBP','Subnets','../config/constants','LmOWF','pZoxC','gdqnB','GuJrf','error\x20:\x20','RoAXR','aws-sdk','ufwVw','accessKeyId','toLowerCase','Outputs','sUMSN','fkMZH','ylTwG','XXetK','listClusters','2261676LoAdOI','cViam','EvalDecision','Creating\x20Autoscaler\x20Role','WHdIJ','secret','deleteCluster','OgpgP','FileSystemId','getPrincipalArn','UNvGp','region','641835PiDFfL','setupAutoscaler','348506JFFGaP','<ARN>','Skipping\x20subnet\x20','Following\x20resources\x20are\x20created:\x20Cluster\x20=>\x20','Following\x20resources\x20are\x20created:','HwOjy','WjdlT','udyxg','EmhIs','SSNeT','OutputValue','LTqqh','ndcAC','Iuxqk','LKuhF','name','GTIPU','LIQKg','AnLwy','gabQM','isBrowserstackCluster','getCallerIdentity','mJjRU','maxNodes','TwvCw','XpXCL','RPWSo','AHqWr','Mount\x20target\x20','IAM','rws','Xttnx','\x20ACCESS\x20KEY:\x20','iGyAt','xebAx',',\x20EFS_FileSystem\x20=>\x20','getUserInput','warning','../utils/utilityMethods','cluster','EFSFileSystemId','5214wsYrwG','replace','arn:aws:iam::','path','nodegroup','Cannot\x20find\x20VPC\x20','tsdOs',',VPC\x20=>\x20','isVPCPresent','./CloudProvider','cloudProviderSecretKey','2016-11-15','toUpperCase',',\x20Subnets\x20=>\x20','KbbXi','certificateAuthority','nvtTV','GxDHt','yiHvk','sendEventToBackend','ingress','WGLTi','\x20|\x20Action\x20:\x20','GENZR','cxNlm','aws-iam-authenticator\x20help','body','\x20SECRET\x20KEY:\x20','describeSubnets','tKOQq','checkClusterCreated',':user/','iMHUJ','ASOwN','describeNodegroup','wdnTg','OutputKey','EvalActionName','WARNING','value','qhfHs','hyzVU','simulatePrincipalPolicy','getClusterInfo','VPC\x20=>\x20','add','LPXdi','bEHyG','vpc-id','wMJAC','SecurityGroups','zPptW','setCachedCredsInRegistry','tags','isClusterPresent','aws-auth-cm.yaml','cwQka','FZUIJ','\x20:\x20','qmYuG','cQozX','CYSUb','createMountTargets','Stacks','vjUEM','available','XUHnn','AHiLg','SecurityGroups\x20=>\x20','brLKH','clusterRegion','SubnetIds','LifeCycleState','toString','ClusterRole\x20=>\x20','DpkqL','oWPUQ','../utils/createClusterStack','iIUMr','then','push','WckeF','cmfpr','createMountTargetAndWait','gtxWM','rlHDm','\x0aaws_secret_access_key\x20=\x20','iTQyi','describeVpcs','sVKXg','RhjoQ','data',',\x20ClusterRole\x20=>\x20','zBjsE','cloudProviderName','XEZWB','qzauK','describeCluster','Cannot\x20find\x20subnets\x20','Filters','cWLqV','\x20because\x20its\x20Availability\x20Zone\x20','wMiQr','mMfBk','UqinD','-NodeGroup','browserstack:managedBy','OsAIE','11eoNNCN','Vbgrd','debug','EFS\x20Controller\x20Role\x20=>\x20','jRiCY','Creating\x20required\x20resources\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','3066354ImKNlw','4|3|2|0|1','createAuthConfigMap','zkWPs','7231zgrGqw','../utils/createAutoscalerStack','eiilx','match','Mount\x20target\x20created\x20for\x20subnet:\x20','status','otgbn','dCYvC','stack','qQSkd','oztIt','SubnetId','gSvYY','TipaK','AWdvs','hnivh','setupHubHa','loadAll','gAQwC','\x20has\x20already\x20been\x20used.','GIZCQ','parameters','OuFbE','allowed','nxyPe','readFileAsync','warn','getAvailabilityZone','ZxaON','bAQsw','fileSystemId','keys','buCAV','STS','NodeRole\x20=>\x20','LPqme','forEach','apiVersion','NBDns','EFSControllerRoleArn','.\x20Please\x20Check\x20and\x20try\x20again','CvrNf','Authmap\x20already\x20exists.\x20Not\x20updating','minNodes','catch','every','../permissions/AWS.json','hostname','Cluster\x20=>\x20','AvailabilityZone','load','endpoint','VIefB','loadBalancer','kube-system','UTOIl','Skipping\x20Autoscaler\x20due\x20to:\x20','aws-iam-authenticator\x20tool\x20is\x20installed','create-grid-called','BjzeX','jLwxl','update','IPPxn','autoscaler-creation-failed','WbgIo','includes','BxMYl','exit','templates','EC2','IFrRO','iaSSt','webSocketUtils','glvaT','4|1|3|2|0','oiTGk','VqpUo','join','fodIP','../utils/gridComponents','storage-class.yaml','Adding\x20EFS\x20CSI\x20Driver','Setting\x20up\x20Hub\x20HA','QGiGK','reportToGalactusAndSendToEDS','GovWJ','fSAHp','imMZC','WwiaI','WkZdy','RacyQ','HmTNq','13516090BOFxYU','isSubnetsValid','error','AWSCloudProvider','NIxQv','ERROR',':role/','cloudProviderAccessKey','uBZIw','MfZjR','5NzZuLN','LOG','config','2296wvrtfZ','\x0a\x09Service:\x20','hoJEy','XiMyK','yGClk','QKOUH','WuSmH','Adding\x20storage\x20class...',',\x20EFS_SecurityGroup\x20=>\x20','promise','cloudProvider','nunlk','wYAOI','hQpCQ','MtvhJ','IsWuW','js-yaml','Name','EKS','.\x20Deleting\x20all\x20the\x20stacks','gNPdW','ZoCyu','rvdzo','YqubV','Error\x20creating\x20mount\x20target\x20for\x20subnet\x20','Creating\x20required\x20dependencies\x20-\x20EKS\x20Role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups\x20and\x20Cluster\x20and\x20Node\x20Group(s)','Creating\x20required\x20dependencies\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','pBHpO','EFS\x20FileSystem\x20=>\x20','GRnim','plzPI','OSuuW','init','GzjTe','ysFNF','HUDOv','clusterName','oaxOA','Creating\x20required\x20resources\x20-\x20EKS\x20role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups,\x20Cluster\x20and\x20Node\x20Group(s)','../utils/createHubHaStack','Following\x20resources\x20are\x20created\x20for\x20Hub\x20HA:\x20EFS_ControllerRoleArn\x20=>\x20','AeQjU','stringify','info','split','xJcgU','fqByY','lWQig','LzbeS','GQDLS','zVruU',',\x20NodeRole\x20=>\x20','hubharesources','Autoscaler\x20Role\x20created.ARN:\x20',',\x20MountTargetId:\x20','aws_credentials','createMountTarget','message','JuWDh','type','vcqNx','ZGUbs','2017-11-01','vAITx'];a0_0x250a=function(){return _0xea9148;};return a0_0x250a();}const fs=require('fs'),path=require(a0_0x38ffe7(0x278)),yaml=require(a0_0x38ffe7(0x1bd)),awsSDK=require(a0_0x38ffe7(0x234)),{logger}=require('../config/logger'),{CloudProvider}=require(a0_0x38ffe7(0x27e)),{sendAWSInfoToHST}=require(a0_0x38ffe7(0x1fb)),{createClusterStack}=require(a0_0x38ffe7(0x11b)),{createHubHaStack}=require(a0_0x38ffe7(0x1d4)),{deleteClusterAndDependencies,deleteRoutingDeps,deleteAgent}=require(a0_0x38ffe7(0x193)),{createAutoscalerStack}=require(a0_0x38ffe7(0x145)),{getDirForConfig,reportToGalactusAndSendToEDS,kubeApply,runCommand}=require(a0_0x38ffe7(0x272)),{IAM_USER_NAME,AWS,WS_EVENTS,global_registry,messageTypes}=require(a0_0x38ffe7(0x22d)),PERMISSIONS=require(a0_0x38ffe7(0x172));class AWSCloudProvider extends CloudProvider{constructor(_0x5a14df,_0x291185,_0x12510e,_0x340fb8){super(AWS,_0x5a14df,_0x291185,_0x12510e,_0x340fb8);}async[a0_0x38ffe7(0x1cd)](){const _0x5867ec=a0_0x38ffe7;await super[_0x5867ec(0x1cd)]();const _0x3e711e={};return _0x3e711e[_0x5867ec(0x249)]=global_registry[_0x5867ec(0x114)],_0x3e711e[_0x5867ec(0x236)]=global_registry['cloudProviderAccessKey'],_0x3e711e['secretAccessKey']=global_registry['cloudProviderSecretKey'],awsSDK[_0x5867ec(0x1ac)][_0x5867ec(0x181)](_0x3e711e),this;}async[a0_0x38ffe7(0x1f8)](){const _0x301b2c=a0_0x38ffe7,_0x20296b={'GRnim':function(_0x34a5d9,_0x1251ad){return _0x34a5d9(_0x1251ad);}};_0x20296b[_0x301b2c(0x1ca)](sendAWSInfoToHST,this[_0x301b2c(0x26a)]);}async[a0_0x38ffe7(0x102)](_0x173383){const _0x7d4034=a0_0x38ffe7;global_registry[_0x7d4034(0x1a7)]=_0x173383[this['cloudProviderName']][_0x7d4034(0x219)],global_registry[_0x7d4034(0x27f)]=_0x173383[this['cloudProviderName']][_0x7d4034(0x243)];}['getGridHostname'](_0x57da25){const _0x421274=a0_0x38ffe7;return _0x57da25[_0x421274(0x149)]['loadBalancer'][_0x421274(0xe2)][0x0][_0x421274(0x173)];}async[a0_0x38ffe7(0x260)](){const _0x8428d=a0_0x38ffe7,_0x5d16af={};_0x5d16af[_0x8428d(0x228)]=function(_0x137ebc,_0x4f3bb8){return _0x137ebc!==_0x4f3bb8;},_0x5d16af[_0x8428d(0x13b)]=_0x8428d(0x15b),_0x5d16af[_0x8428d(0x221)]=function(_0x4fdcbd,_0x12d940){return _0x4fdcbd===_0x12d940;},_0x5d16af[_0x8428d(0x25e)]=_0x8428d(0x21d),_0x5d16af[_0x8428d(0xe0)]='nDisG',_0x5d16af[_0x8428d(0x26e)]=_0x8428d(0xf7),_0x5d16af['glvaT']=function(_0x4bdbf1,_0x4b3e5c){return _0x4bdbf1===_0x4b3e5c;},_0x5d16af[_0x8428d(0x251)]=_0x8428d(0x138),_0x5d16af['NBDns']='browserstack',_0x5d16af[_0x8428d(0x107)]='MWVjJ';const _0x1d4507=_0x5d16af;try{if(_0x1d4507['IJELl'](_0x1d4507['AnLwy'],_0x1d4507[_0x8428d(0x25e)])){const _0x415342=await this[_0x8428d(0xf9)]();if(_0x415342['cluster']){if(_0x1d4507[_0x8428d(0x221)](_0x1d4507[_0x8428d(0xe0)],_0x1d4507[_0x8428d(0x26e)]))_0x1a3b45[_0x8428d(0x11e)](_0x24a64c[_0x8428d(0x14f)]);else{const _0x4f9f09=_0x415342['cluster'][_0x8428d(0x103)];return _0x4f9f09&&_0x1d4507[_0x8428d(0x18d)](_0x4f9f09[_0x1d4507[_0x8428d(0x251)]][_0x8428d(0x237)](),_0x1d4507[_0x8428d(0x16a)]);}}}else{const _0x7011ad=_0xf8a39['EvalActionName'][_0x8428d(0x1d9)](':')[0x0];_0x2b1217+=_0x8428d(0x1ae)+_0x7011ad[_0x8428d(0x281)]()+_0x8428d(0xe4)+_0x535f36[_0x3b2d84[_0x8428d(0xf3)]]+':\x20'+_0x538667[_0x8428d(0x240)],_0x1d4507[_0x8428d(0x228)](_0x1f456d['EvalDecision'],_0x1d4507[_0x8428d(0x13b)])&&(_0x2e6ec3[_0x8428d(0x149)]=![]);}}catch(_0xd6a570){return _0x1d4507['CPjvt'](_0x1d4507[_0x8428d(0x107)],_0x1d4507['FZUIJ'])?this['checkClusterCreated']():![];}return![];}async[a0_0x38ffe7(0x104)](){const _0x34711c=a0_0x38ffe7;return this[_0x34711c(0xec)]();}async[a0_0x38ffe7(0xf9)](){const _0x307c7a=a0_0x38ffe7,_0x204393={};_0x204393[_0x307c7a(0x197)]=_0x307c7a(0x1eb);const _0x4d4fcb=_0x204393,_0x49cb8b={};_0x49cb8b['apiVersion']=_0x4d4fcb[_0x307c7a(0x197)];const _0x3613e0=new awsSDK[(_0x307c7a(0x1bf))](_0x49cb8b),_0x3dd4ed={};return _0x3dd4ed['name']=this[_0x307c7a(0x1d1)],_0x3613e0['describeCluster'](_0x3dd4ed)[_0x307c7a(0x1b6)]();}async[a0_0x38ffe7(0x142)](_0x505357){const _0xb4298=a0_0x38ffe7,_0x4e2e97={};_0x4e2e97[_0xb4298(0x222)]=_0xb4298(0x188),_0x4e2e97[_0xb4298(0x25f)]=_0xb4298(0x105),_0x4e2e97[_0xb4298(0x18a)]=_0xb4298(0x1fc),_0x4e2e97['ASOwN']=_0xb4298(0x24d);const _0x7249fa=_0x4e2e97,_0x4e0881=await fs[_0xb4298(0x15d)](path['join'](__dirname,'..',_0x7249fa[_0xb4298(0x222)],_0x7249fa['gabQM']),_0x7249fa[_0xb4298(0x18a)]),_0x1d5e5a=yaml['load'](_0x4e0881);return _0x1d5e5a[_0xb4298(0x129)][_0xb4298(0x223)]=_0x1d5e5a[_0xb4298(0x129)]['mapRoles'][_0xb4298(0x276)](_0x7249fa[_0xb4298(0xef)],_0x505357),_0x1d5e5a;}async['getNodeGroupInfo'](_0x5decf0){const _0x556b67=a0_0x38ffe7,_0x211ec3={};_0x211ec3['WbgIo']='2017-11-01';const _0x234e89=_0x211ec3,_0x1dbcb2={};_0x1dbcb2[_0x556b67(0x169)]=_0x234e89[_0x556b67(0x184)];const _0x1b95bd=new awsSDK[(_0x556b67(0x1bf))](_0x1dbcb2),_0x112215={};return _0x112215['clusterName']=this[_0x556b67(0x1d1)],_0x112215['nodegroupName']=_0x5decf0,_0x1b95bd['describeNodegroup'](_0x112215)[_0x556b67(0x1b6)]();}async[a0_0x38ffe7(0xec)](){const _0x378a12=a0_0x38ffe7,_0xdeb756={'RoAXR':function(_0x4147d6,_0x3d8579){return _0x4147d6(_0x3d8579);},'hLdNJ':function(_0x5dd66f,_0x25bddc){return _0x5dd66f===_0x25bddc;},'YqubV':'TXJVm','ufwVw':function(_0x1bed91,_0x5180b5){return _0x1bed91===_0x5180b5;},'XDZnP':_0x378a12(0x264),'vAITx':_0x378a12(0x1eb),'nPxfV':function(_0x1b61f8,_0x169d8b){return _0x1b61f8!==_0x169d8b;},'IMeXh':_0x378a12(0x192),'WckeF':_0x378a12(0x19e),'buMlt':function(_0x153786,_0x319eb9){return _0x153786(_0x319eb9);},'AeQjU':_0x378a12(0x14e)};return new Promise((_0x525976,_0x4b9135)=>{const _0x12f4a2=_0x378a12;if(_0xdeb756[_0x12f4a2(0x235)](_0xdeb756[_0x12f4a2(0x1d6)],_0xdeb756[_0x12f4a2(0x1d6)])){const _0x28d909={};_0x28d909['apiVersion']=_0xdeb756[_0x12f4a2(0x1ec)];const _0x107910=new awsSDK[(_0x12f4a2(0x1bf))](_0x28d909);_0x107910[_0x12f4a2(0x23d)]()[_0x12f4a2(0x1b6)]()['then'](_0x2eecaa=>{const _0x1361c3=_0x12f4a2,_0x5ba29b={'pBHpO':function(_0x2eeeb8,_0x41a926){const _0xf364cb=a0_0x5acd;return _0xdeb756[_0xf364cb(0x233)](_0x2eeeb8,_0x41a926);}};_0xdeb756['hLdNJ'](_0xdeb756[_0x1361c3(0x1c4)],_0xdeb756[_0x1361c3(0x1c4)])?(_0x2eecaa['clusters'][_0x1361c3(0x185)](this[_0x1361c3(0x1d1)])&&(_0xdeb756[_0x1361c3(0x235)](_0xdeb756['XDZnP'],_0xdeb756['XDZnP'])?_0xdeb756[_0x1361c3(0x233)](_0x525976,!![]):_0x4cbfb6['debug'](_0x437f39)),_0xdeb756[_0x1361c3(0x233)](_0x525976,![])):(_0x5953ba[_0x1361c3(0x1a2)](_0x24b92a),_0x5ba29b[_0x1361c3(0x1c8)](_0x5b542b,_0x30aceb));})[_0x12f4a2(0x170)](_0x208425=>{const _0x51ac8d=_0x12f4a2,_0x24059e={'MVUWh':function(_0x5ad2dc,_0x52717e){return _0xdeb756['RoAXR'](_0x5ad2dc,_0x52717e);},'CYSUb':_0xdeb756['vAITx']};if(_0xdeb756['nPxfV'](_0xdeb756[_0x51ac8d(0x207)],_0xdeb756[_0x51ac8d(0x11f)]))logger[_0x51ac8d(0x1a2)](_0x208425),_0xdeb756['buMlt'](_0x4b9135,_0x208425);else{const _0x54cb69={'wMiQr':function(_0x30d1dc,_0x290562){const _0x487d26=_0x51ac8d;return _0x24059e[_0x487d26(0x205)](_0x30d1dc,_0x290562);}},_0x5f28cf={};_0x5f28cf[_0x51ac8d(0x169)]=_0x24059e[_0x51ac8d(0x10b)];const _0x51384f=new _0x4f10b4[(_0x51ac8d(0x1bf))](_0x5f28cf);_0x51384f[_0x51ac8d(0x23d)]()[_0x51ac8d(0x1b6)]()[_0x51ac8d(0x11d)](_0x5b70f4=>{const _0x3fb83a=_0x51ac8d;_0x5b70f4['clusters']['includes'](this[_0x3fb83a(0x1d1)])&&_0x54cb69[_0x3fb83a(0x134)](_0x3b2193,!![]),_0x54cb69['wMiQr'](_0x27b807,![]);})[_0x51ac8d(0x170)](_0x1845d4=>{const _0x5ebcd3=_0x51ac8d;_0x37d8dd[_0x5ebcd3(0x1a2)](_0x1845d4),_0x24059e[_0x5ebcd3(0x205)](_0x1b7bfd,_0x1845d4);});}});}else return _0x145b1c[_0x210d37['OutputKey']]=_0x1ca73e['OutputValue'],_0x2d4028;});}async[a0_0x38ffe7(0x270)](_0x2df1d2,_0x41741a){const _0x2d975f=a0_0x38ffe7,_0x4077bd={'AWdvs':function(_0x3a0ee6,_0x300aa1){return _0x3a0ee6(_0x300aa1);}},_0x1a894b=this[_0x2d975f(0x12c)]['toUpperCase'](),_0x2e6c2b=await _0x4077bd['AWdvs'](_0x2df1d2,_0x1a894b+_0x2d975f(0x26c)),_0x47fc55=await _0x4077bd[_0x2d975f(0x152)](_0x2df1d2,_0x1a894b+_0x2d975f(0xe9));global_registry[_0x2d975f(0x1a7)]=_0x2e6c2b,global_registry[_0x2d975f(0x27f)]=_0x47fc55;const _0x27dbdb={};return _0x27dbdb[_0x2d975f(0x219)]=_0x2e6c2b,_0x27dbdb[_0x2d975f(0x243)]=_0x47fc55,_0x41741a[_0x2d975f(0x1b7)][AWS]=_0x27dbdb,_0x41741a;}async['getKubeConfigData'](){const _0xaa28f4=a0_0x38ffe7,_0x63d4bd={'nxyPe':function(_0xa73bb7){return _0xa73bb7();},'CxVLM':_0xaa28f4(0x1e4),'cxNlm':_0xaa28f4(0x188),'cmfpr':'KubeConfigTemplate.yaml'},_0x22f671=_0x63d4bd[_0xaa28f4(0x15c)](getDirForConfig),_0x5dc4d6=await this[_0xaa28f4(0xf9)](),_0x1c15d1=path[_0xaa28f4(0x191)](_0x22f671,_0x63d4bd[_0xaa28f4(0x213)]),_0x10c13a='[ats]\x0aaws_access_key_id\x20=\x20'+global_registry['cloudProviderAccessKey']+_0xaa28f4(0x124)+global_registry[_0xaa28f4(0x27f)];fs[_0xaa28f4(0x216)](_0x1c15d1,_0x10c13a);let _0xde9aa6=await fs[_0xaa28f4(0x15d)](path[_0xaa28f4(0x191)](__dirname,'..',_0x63d4bd[_0xaa28f4(0xe6)],_0x63d4bd[_0xaa28f4(0x120)]));return _0xde9aa6=_0xde9aa6[_0xaa28f4(0x117)](),_0xde9aa6=_0xde9aa6['replace'](/<CLUSTER_NAME>/g,this[_0xaa28f4(0x1d1)]),_0xde9aa6=_0xde9aa6[_0xaa28f4(0x276)](/<CLUSTER_URL>/g,_0x5dc4d6[_0xaa28f4(0x273)][_0xaa28f4(0x177)]),_0xde9aa6=_0xde9aa6[_0xaa28f4(0x276)](/<CERTIFICATE_DATA>/g,_0x5dc4d6[_0xaa28f4(0x273)][_0xaa28f4(0x284)][_0xaa28f4(0x129)]),_0xde9aa6=_0xde9aa6[_0xaa28f4(0x276)](/<CLUSTER_REGION>/g,global_registry[_0xaa28f4(0x114)]),_0xde9aa6=_0xde9aa6[_0xaa28f4(0x276)](/<CLUSTER_NAME_USER>/g,IAM_USER_NAME),_0xde9aa6=_0xde9aa6[_0xaa28f4(0x276)](/<CLOUD_PROVIDER_ACCESS_KEY>/g,global_registry[_0xaa28f4(0x1a7)]),_0xde9aa6=_0xde9aa6['replace'](/<CLOUD_PROVIDER_SECRET>/g,global_registry[_0xaa28f4(0x27f)]),_0xde9aa6=_0xde9aa6[_0xaa28f4(0x276)](/<AWS_CONFIG_FILE_PATH>/g,_0x1c15d1),_0xde9aa6;}async['setupNewCluster'](_0x48d7bc=null,_0x55f552=null){const _0x3e473d=a0_0x38ffe7,_0x5bbfac={'vcqNx':_0x3e473d(0x1eb),'wdnTg':function(_0x27e4f6,_0x1f92f9){return _0x27e4f6===_0x1f92f9;},'TipaK':_0x3e473d(0x138),'EcYqK':'browserstack','dbYES':_0x3e473d(0x1d3),'ZoCyu':_0x3e473d(0x1c6),'XiMyK':function(_0x3f5087,_0x1fd148,_0x2620e7,_0x4dbfd2,_0xdcbe61,_0x3a05b7,_0x4dc50a){return _0x3f5087(_0x1fd148,_0x2620e7,_0x4dbfd2,_0xdcbe61,_0x3a05b7,_0x4dc50a);},'IPPxn':_0x3e473d(0x250),'OgpgP':function(_0x396704,_0x29c64c){return _0x396704===_0x29c64c;},'WkZdy':function(_0x14ec4f,_0x195680){return _0x14ec4f===_0x195680;},'RUejo':_0x3e473d(0x164),'LPqme':_0x3e473d(0xf6),'LIQKg':'MMHvO'},_0x2d379a={};_0x2d379a['type']=WS_EVENTS[_0x3e473d(0x1ab)],_0x2d379a['message']=_0x5bbfac['dbYES'],this[_0x3e473d(0x18c)][_0x3e473d(0xe1)](this[_0x3e473d(0x26a)],_0x2d379a),logger[_0x3e473d(0x1d8)](_0x5bbfac[_0x3e473d(0x1c2)]);const _0x8a0652=global_registry[_0x3e473d(0x16f)],_0x3c0c79=global_registry[_0x3e473d(0x263)],_0x3a41b3=global_registry['clusterAutoUpgrade'],_0x51dc62=await _0x5bbfac[_0x3e473d(0x1b0)](createClusterStack,this[_0x3e473d(0x1d1)],_0x8a0652,_0x3c0c79,_0x48d7bc,_0x55f552,_0x3a41b3),_0x535cff=_0x51dc62[_0x3e473d(0x10d)][0x0][_0x3e473d(0x238)][0x0][_0x3e473d(0x256)][_0x3e473d(0x1d9)](','),_0x4067bc=_0x51dc62['Stacks'][0x0][_0x3e473d(0x238)][0x1]['OutputValue'],_0x54aa30=_0x51dc62[_0x3e473d(0x10d)][0x0][_0x3e473d(0x238)][0x3]['OutputValue'],_0x1a2e90=_0x51dc62[_0x3e473d(0x10d)][0x0][_0x3e473d(0x238)][0x4]['OutputValue'];logger[_0x3e473d(0x1d8)](_0x5bbfac[_0x3e473d(0x182)]),logger['info'](_0x3e473d(0x174)+_0x54aa30+'\x20'),logger[_0x3e473d(0x1d8)](_0x3e473d(0x118)+_0x4067bc+'\x20'),logger[_0x3e473d(0x1d8)](_0x3e473d(0x112)+_0x535cff+'\x20'),logger[_0x3e473d(0x1d8)](_0x3e473d(0x166)+_0x1a2e90+'\x20');let _0x57da05=_0x3e473d(0x24f)+_0x54aa30+_0x3e473d(0x12a)+_0x4067bc+',\x20SecurityGroups\x20=>\x20'+_0x535cff+_0x3e473d(0x1e0)+_0x1a2e90;if(_0x5bbfac[_0x3e473d(0x245)](_0x48d7bc,null)&&_0x5bbfac[_0x3e473d(0x19d)](_0x55f552,null)){if(_0x5bbfac[_0x3e473d(0x245)](_0x5bbfac[_0x3e473d(0x206)],_0x5bbfac[_0x3e473d(0x167)])){const _0x240178={};_0x240178[_0x3e473d(0x169)]=_0x5bbfac[_0x3e473d(0x1e9)];const _0x186aa4=new _0x314cdf[(_0x3e473d(0x1bf))](_0x240178),_0x3aa766={};return _0x3aa766[_0x3e473d(0x25b)]=this[_0x3e473d(0x1d1)],_0x186aa4[_0x3e473d(0x12f)](_0x3aa766)[_0x3e473d(0x1b6)]();}else{const _0x23a11b=_0x51dc62[_0x3e473d(0x10d)][0x0][_0x3e473d(0x238)][0x2][_0x3e473d(0x256)],_0x26c392=_0x51dc62['Stacks'][0x0][_0x3e473d(0x238)][0x5]['OutputValue'][_0x3e473d(0x1d9)](',');_0x48d7bc=_0x23a11b;const _0x19d75f=[];for(const _0x251e48 of _0x26c392){if(_0x5bbfac[_0x3e473d(0xf1)](_0x5bbfac[_0x3e473d(0x25d)],_0x5bbfac['LIQKg'])){const _0x3c8c6e={};_0x3c8c6e[_0x3e473d(0x227)]=_0x251e48,_0x3c8c6e['value']=_0x251e48,_0x19d75f['push'](_0x3c8c6e);}else{const _0x1b31e0=_0x2eae53[_0x3e473d(0x273)][_0x3e473d(0x103)];return _0x1b31e0&&_0x5bbfac['wdnTg'](_0x1b31e0[_0x5bbfac[_0x3e473d(0x151)]][_0x3e473d(0x237)](),_0x5bbfac[_0x3e473d(0x1ed)]);}}_0x55f552=_0x19d75f,logger[_0x3e473d(0x1d8)](_0x3e473d(0xfa)+_0x23a11b+'\x20'),logger[_0x3e473d(0x1d8)](_0x3e473d(0x214)+_0x26c392+'\x20'),_0x57da05+=_0x3e473d(0x27c)+_0x23a11b+',\x20Subnets\x20=>\x20'+_0x26c392+',\x20';}}const _0x326a93={};return _0x326a93['type']=WS_EVENTS[_0x3e473d(0x1ab)],_0x326a93['message']=_0x57da05,this[_0x3e473d(0x18c)][_0x3e473d(0xe1)](this[_0x3e473d(0x26a)],_0x326a93),[_0x48d7bc,_0x55f552];}async[a0_0x38ffe7(0x244)](_0x2c9d76,_0x1246b3){const _0x414503=a0_0x38ffe7,_0x553382={'wMJAC':function(_0x12324a,_0x4c3b9f){return _0x12324a(_0x4c3b9f);},'gtxWM':function(_0x31bc97,_0x51cc69,_0x337fc2){return _0x31bc97(_0x51cc69,_0x337fc2);}};await _0x553382['wMJAC'](deleteAgent,_0x2c9d76),await _0x553382[_0x414503(0xff)](deleteRoutingDeps,_0x2c9d76),await _0x553382[_0x414503(0x122)](deleteClusterAndDependencies,_0x1246b3,this['clusterName']);}async[a0_0x38ffe7(0x24b)](_0x34d591,_0x57dcb8){const _0x83773=a0_0x38ffe7,_0x5d5086={'GIZCQ':function(_0x5861b9,_0x3a6f52){return _0x5861b9(_0x3a6f52);},'vbInV':function(_0x1e29ef,_0x326379){return _0x1e29ef(_0x326379);},'jdKMr':_0x83773(0x280),'KShuL':function(_0x5c9f74,_0x286362){return _0x5c9f74!==_0x286362;},'JAHqy':_0x83773(0x265),'XOgCK':_0x83773(0x230),'xJcgU':_0x83773(0x16e),'gSvYY':_0x83773(0x241),'JuWDh':_0x83773(0x1b9),'BxMYl':function(_0x28de90,_0x21f926){return _0x28de90!==_0x21f926;},'Rbxxr':_0x83773(0x12d),'iGyAt':_0x83773(0x1b3),'UqinD':function(_0x1d3230,_0x323935){return _0x1d3230===_0x323935;},'OrATW':'kjkdE','kkiNM':'uTZKq','bEHyG':function(_0x53114e,_0x449e21,_0x24f378,_0x2de693,_0x3020a3,_0x4d294d,_0x49c98c,_0x595f9c){return _0x53114e(_0x449e21,_0x24f378,_0x2de693,_0x3020a3,_0x4d294d,_0x49c98c,_0x595f9c);},'LzbeS':'create-grid-called','QKOUH':_0x83773(0x198),'BjzeX':_0x83773(0x271),'cwQka':function(_0x296c30,_0x15dbe7){return _0x296c30!==_0x15dbe7;},'WGLTi':_0x83773(0x1ce),'CoSWT':'RQZXX','WwiaI':_0x83773(0x141),'YNsVk':function(_0xff495f,_0x30668e,_0x230219){return _0xff495f(_0x30668e,_0x230219);},'LNwIw':_0x83773(0x183),'imMZC':_0x83773(0x1a2),'jRiCY':_0x83773(0x17a)};let _0x3de3e2,_0x1824e9;const _0x541e26={};_0x541e26[_0x83773(0x1e8)]=WS_EVENTS[_0x83773(0x1ab)],_0x541e26['message']=_0x5d5086['gSvYY'],this[_0x83773(0x18c)][_0x83773(0xe1)](this[_0x83773(0x26a)],_0x541e26),logger[_0x83773(0x1d8)](_0x5d5086[_0x83773(0x150)]);try{if(_0x5d5086[_0x83773(0x1f6)](_0x5d5086['JuWDh'],_0x5d5086[_0x83773(0x1e7)]))_0x5d5086['GIZCQ'](_0x3163ba,!![]);else{const _0x302e2a=await _0x5d5086[_0x83773(0x158)](createAutoscalerStack,this['clusterName']);_0x1824e9=_0x302e2a[_0x83773(0x10d)][0x0][_0x83773(0x238)][0x2]['OutputValue'];const _0x3d978a={};_0x3d978a[_0x83773(0x1e8)]=WS_EVENTS[_0x83773(0x1ab)],_0x3d978a[_0x83773(0x1e6)]=_0x83773(0x1e2)+_0x1824e9+'\x20',this[_0x83773(0x18c)][_0x83773(0xe1)](this[_0x83773(0x26a)],_0x3d978a),logger[_0x83773(0x1d8)](_0x83773(0x1e2)+_0x1824e9+'\x20');}}catch(_0xc2a8ca){if(_0x5d5086[_0x83773(0x186)](_0x5d5086['Rbxxr'],_0x5d5086[_0x83773(0x26d)])){if(_0xc2a8ca?.[_0x83773(0x1e6)]&&_0xc2a8ca[_0x83773(0x1e6)][_0x83773(0x147)](/already exists/)){if(_0x5d5086[_0x83773(0x136)](_0x5d5086[_0x83773(0x1ef)],_0x5d5086[_0x83773(0x1ee)])){const _0x45a259=[],_0x525573=[];_0x43c809['Subnets'][_0x83773(0x168)](_0x3246ef=>{const _0x5aa40b=_0x83773;_0x45a259[_0x5aa40b(0x11e)](_0x3246ef[_0x5aa40b(0x14f)]);});const _0x11aebb=_0x11db57['every'](_0x4daca4=>{const _0x15b91b=_0x83773;if(_0x45a259['includes'](_0x4daca4[_0x15b91b(0xf5)]))return!![];return _0x525573[_0x15b91b(0x11e)](_0x4daca4),![];});_0x5d5086['GIZCQ'](_0x18160a,[_0x11aebb,_0x525573]);}else _0x3de3e2=_0x83773(0x17c)+_0xc2a8ca[_0x83773(0x1e6)],await _0x5d5086[_0x83773(0xfd)](reportToGalactusAndSendToEDS,_0x57dcb8,this[_0x83773(0x26a)],_0x3de3e2,messageTypes[_0x83773(0xf4)],_0x5d5086[_0x83773(0x1dd)],_0x5d5086[_0x83773(0x1b2)],_0x5d5086[_0x83773(0x17f)]),logger[_0x83773(0x15e)](_0x3de3e2);}else{if(_0x5d5086[_0x83773(0x106)](_0x5d5086[_0x83773(0xe3)],_0x5d5086['CoSWT'])){const _0x35e23c=_0x5d5086[_0x83773(0x19c)][_0x83773(0x1d9)]('|');let _0x57d10f=0x0;while(!![]){switch(_0x35e23c[_0x57d10f++]){case'0':await _0x5d5086[_0x83773(0x21f)](deleteClusterAndDependencies,global_registry[_0x83773(0x114)],this[_0x83773(0x1d1)]);continue;case'1':process[_0x83773(0x187)](0x1);continue;case'2':logger['error'](_0x3de3e2);continue;case'3':await _0x5d5086[_0x83773(0xfd)](reportToGalactusAndSendToEDS,_0x57dcb8,this[_0x83773(0x26a)],_0x3de3e2,messageTypes[_0x83773(0x1a5)],_0x5d5086['LzbeS'],_0x5d5086['LNwIw'],_0x5d5086[_0x83773(0x19b)]);continue;case'4':_0x3de3e2='Unable\x20to\x20spawn\x20Autoscaler\x20due\x20to:\x20'+_0xc2a8ca?.[_0x83773(0x1e6)]+_0x83773(0x1c0);continue;}break;}}else return![];}}else{const _0x330500={'iIUMr':function(_0x5c0bfa,_0xaf6487){const _0x4bbdb5=_0x83773;return _0x5d5086[_0x4bbdb5(0x158)](_0x5c0bfa,_0xaf6487);}},_0xd3d2a8={};_0xd3d2a8[_0x83773(0x169)]=_0x5d5086['jdKMr'],_0xd3d2a8[_0x83773(0x249)]=_0x59ae0a[_0x83773(0x114)];const _0x5196e9=new _0x19fd24[(_0x83773(0x189))](_0xd3d2a8);_0x5196e9['describeVpcs'](_0x5701a9)[_0x83773(0x1b6)]()[_0x83773(0x11d)](_0x35de02=>{_0x5d5086['vbInV'](_0x5798d8,!![]);})[_0x83773(0x170)](_0x498fc6=>{const _0x1a7974=_0x83773;_0x51a3d[_0x1a7974(0x1a2)](_0x1a7974(0x27a)+_0x105bd1+_0x1a7974(0x211)+_0x3bb250['clusterRegion']+'.\x20Please\x20Check\x20and\x20try\x20again'),_0x330500[_0x1a7974(0x11c)](_0x2db6c8,![]);});}}const _0xb3c79f=await this['getNodeGroupInfo'](this[_0x83773(0x1d1)]+_0x83773(0x137)),_0x2ddb5d=_0xb3c79f[_0x83773(0x279)][_0x83773(0x229)],_0x5201ce=await this[_0x83773(0x142)](_0x2ddb5d),_0x4238e4={};return _0x4238e4[_0x83773(0x217)]=_0x5d5086[_0x83773(0x13e)],_0x4238e4[_0x83773(0xe8)]=_0x5201ce,await _0x34d591[_0x83773(0x215)](_0x4238e4)[_0x83773(0x170)](_0x43608b=>{const _0x5e5ff4=_0x83773;if(_0x5d5086[_0x5e5ff4(0x1f6)](_0x5d5086[_0x5e5ff4(0x20b)],_0x5d5086['XOgCK']))logger[_0x5e5ff4(0x1d8)](_0x5d5086[_0x5e5ff4(0x1da)]);else return!![];}),_0x1824e9;}async[a0_0x38ffe7(0x154)](_0x56fb19,_0x258263,_0xa94c93,_0x17b165,_0x1f39d2){const _0x29ae71=a0_0x38ffe7,_0x40f079={'BWEty':function(_0x2c4a67,_0x5120e9){return _0x2c4a67!==_0x5120e9;},'Tdqgf':_0x29ae71(0x20e),'bAQsw':_0x29ae71(0x15a),'eSqmo':function(_0x561a29,_0xa1de74){return _0x561a29(_0xa1de74);},'UTOIl':_0x29ae71(0x196),'cQozX':function(_0x2fa39e,_0x4c9b7e){return _0x2fa39e===_0x4c9b7e;},'cViam':_0x29ae71(0xdf),'VcXPd':_0x29ae71(0x1f9),'GTIPU':_0x29ae71(0x13f),'plzPI':_0x29ae71(0x1c7),'nunlk':function(_0x3be6df,_0x1202f8,_0x5cefa9){return _0x3be6df(_0x1202f8,_0x5cefa9);},'qmYuG':_0x29ae71(0x16b),'LTqqh':_0x29ae71(0x274),'DpkqL':'EFSSecurityGroup','JIgTX':'Following\x20resources\x20are\x20created:','vjUEM':_0x29ae71(0x1f0),'fSAHp':'Creating\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','mdAqt':_0x29ae71(0x195),'ylTwG':_0x29ae71(0x188),'qQSkd':_0x29ae71(0x1e1),'OSuuW':_0x29ae71(0x204),'ndcAC':_0x29ae71(0x1fc),'gNPdW':function(_0x277cb5,_0x530a80,_0x3ef957){return _0x277cb5(_0x530a80,_0x3ef957);},'otgbn':'Added\x20EFS\x20CSI\x20Driver','qGXBP':_0x29ae71(0x1b4),'rskPJ':_0x29ae71(0x194),'SDSYU':_0x29ae71(0x162),'YyGVc':'Added\x20storage\x20class.','OsAIE':'Created\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','niPVM':function(_0x1acb57,_0x51024b){return _0x1acb57===_0x51024b;},'HUDOv':'wXOJN','FojAg':_0x29ae71(0x18e),'cWLqV':function(_0x56c2bd,_0x507d57,_0x18d35f,_0x3e4c68,_0x3e04fa,_0x40d228,_0x116c25,_0x2b220e){return _0x56c2bd(_0x507d57,_0x18d35f,_0x3e4c68,_0x3e04fa,_0x40d228,_0x116c25,_0x2b220e);},'EGrWC':_0x29ae71(0x17e),'oiTGk':'hub-ha-aws-setup-failed','WjdlT':'error','lmObu':function(_0x371a8d,_0x36b566,_0x20ea01){return _0x371a8d(_0x36b566,_0x20ea01);}};logger[_0x29ae71(0x1d8)](_0x40f079[_0x29ae71(0x17b)]);let _0x1cb8e3;try{if(_0x40f079[_0x29ae71(0x10a)](_0x40f079[_0x29ae71(0x23f)],_0x40f079['VcXPd']))_0x42c6de[_0x29ae71(0x15e)](_0x3a148a);else{const _0x3e9300={};_0x3e9300[_0x29ae71(0x1e8)]=WS_EVENTS[_0x29ae71(0x1ab)],_0x3e9300[_0x29ae71(0x1e6)]=_0x40f079[_0x29ae71(0x25c)],this[_0x29ae71(0x18c)][_0x29ae71(0xe1)](this[_0x29ae71(0x26a)],_0x3e9300),logger[_0x29ae71(0x1d8)](_0x40f079[_0x29ae71(0x1cb)]);const _0x103d3c=await _0x40f079[_0x29ae71(0x1b8)](createHubHaStack,this['clusterName'],_0x17b165),_0x53505c=_0x103d3c[_0x29ae71(0x10d)][0x0][_0x29ae71(0x238)]['reduce']((_0x56ee09,_0x5c4b29)=>{const _0x3b3d51=_0x29ae71;if(_0x40f079['BWEty'](_0x40f079['Tdqgf'],_0x40f079[_0x3b3d51(0x161)]))return _0x56ee09[_0x5c4b29[_0x3b3d51(0xf2)]]=_0x5c4b29[_0x3b3d51(0x256)],_0x56ee09;else{const _0x34eb3f={};_0x34eb3f[_0x3b3d51(0x227)]=_0x3ed330,_0x34eb3f[_0x3b3d51(0xf5)]=_0x3e699f,_0x3439b9['push'](_0x34eb3f);}},{}),_0x372b4c=_0x53505c[_0x40f079[_0x29ae71(0x109)]],_0x47c8e8=_0x53505c[_0x40f079[_0x29ae71(0x257)]],_0x89b917=_0x53505c[_0x40f079[_0x29ae71(0x119)]];logger[_0x29ae71(0x1d8)](_0x40f079[_0x29ae71(0x1f5)]),logger[_0x29ae71(0x1d8)](_0x29ae71(0x13d)+_0x372b4c),logger[_0x29ae71(0x1d8)]('EFS\x20SecurityGroup\x20=>\x20'+_0x89b917),logger[_0x29ae71(0x1d8)](_0x29ae71(0x1c9)+_0x47c8e8),_0x1cb8e3=_0x29ae71(0x1d5)+_0x372b4c+_0x29ae71(0x1b5)+_0x89b917+_0x29ae71(0x26f)+_0x47c8e8,logger['info'](_0x40f079[_0x29ae71(0x10e)]),await this[_0x29ae71(0x10c)](_0x1f39d2,_0x89b917,_0x47c8e8);const _0x49685a={};_0x49685a[_0x29ae71(0x1e8)]=WS_EVENTS[_0x29ae71(0x1ab)],_0x49685a[_0x29ae71(0x1e6)]=_0x1cb8e3,this['webSocketUtils']['sendEventToBackend'](this[_0x29ae71(0x26a)],_0x49685a);const _0x5ead11={};_0x5ead11[_0x29ae71(0x1e8)]=WS_EVENTS['LOG'],_0x5ead11[_0x29ae71(0x1e6)]=_0x40f079[_0x29ae71(0x19a)],this['webSocketUtils'][_0x29ae71(0xe1)](this[_0x29ae71(0x26a)],_0x5ead11),logger[_0x29ae71(0x1d8)](_0x40f079['mdAqt']);let _0x3d1287=await fs[_0x29ae71(0x15d)](path['join'](__dirname,'..',_0x40f079[_0x29ae71(0x23b)],_0x40f079['qQSkd'],_0x40f079[_0x29ae71(0x1cc)]),_0x40f079[_0x29ae71(0x258)]);_0x3d1287=_0x3d1287[_0x29ae71(0x276)](/<EfsCSIControllerARN>/g,_0x372b4c);const _0x567a48=yaml[_0x29ae71(0x155)](_0x3d1287);await _0x40f079[_0x29ae71(0x1c1)](kubeApply,_0x567a48,_0x258263),logger[_0x29ae71(0x1d8)](_0x40f079[_0x29ae71(0x14a)]),logger[_0x29ae71(0x1d8)](_0x40f079[_0x29ae71(0x22b)]);const _0x7cf523=await fs['readFileAsync'](path['join'](__dirname,'..',_0x40f079[_0x29ae71(0x23b)],_0x40f079[_0x29ae71(0x14d)],_0x40f079['rskPJ']),_0x40f079[_0x29ae71(0x258)]),_0x3a87a8=yaml[_0x29ae71(0x176)](_0x7cf523);_0x3a87a8[_0x29ae71(0x159)][_0x40f079['SDSYU']]=_0x47c8e8;const _0x4bdfad={};_0x4bdfad[_0x29ae71(0xe8)]=_0x3a87a8;const _0x3defee=await _0x56fb19[_0x29ae71(0x22a)](_0x4bdfad);logger['info'](_0x40f079['YyGVc']);const _0x232a37={};_0x232a37[_0x29ae71(0x1e8)]=WS_EVENTS[_0x29ae71(0x1ab)],_0x232a37[_0x29ae71(0x1e6)]=_0x40f079[_0x29ae71(0x139)],this[_0x29ae71(0x18c)][_0x29ae71(0xe1)](this[_0x29ae71(0x26a)],_0x232a37);}}catch(_0x344b52){if(_0x40f079['niPVM'](_0x40f079[_0x29ae71(0x1d0)],_0x40f079[_0x29ae71(0x1d0)])){const _0xec627d=_0x40f079['FojAg']['split']('|');let _0x3d7eff=0x0;while(!![]){switch(_0xec627d[_0x3d7eff++]){case'0':process['exit'](0x1);continue;case'1':await _0x40f079[_0x29ae71(0x132)](reportToGalactusAndSendToEDS,_0xa94c93,this[_0x29ae71(0x26a)],_0x1cb8e3,messageTypes[_0x29ae71(0x1a5)],_0x40f079['EGrWC'],_0x40f079[_0x29ae71(0x18f)],_0x40f079[_0x29ae71(0x252)]);continue;case'2':await _0x40f079['lmObu'](deleteClusterAndDependencies,global_registry['clusterRegion'],this[_0x29ae71(0x1d1)]);continue;case'3':logger[_0x29ae71(0x1a2)](_0x1cb8e3);continue;case'4':_0x1cb8e3='Error\x20occurred\x20while\x20setting\x20up\x20Hub\x20HA\x20infra:\x20'+_0x344b52[_0x29ae71(0x1e6)];continue;}break;}}else _0x395197[_0x29ae71(0x1a2)]('Cannot\x20find\x20subnets\x20'+_0x4b4540+_0x29ae71(0x211)+_0x364763[_0x29ae71(0x114)]+_0x29ae71(0x1ff)+_0x26eae2),_0x40f079['eSqmo'](_0x57dcc4,[![],[]]);}}async[a0_0x38ffe7(0x10c)](_0x3b6702,_0x5f1a8b,_0x355778){const _0x333893=a0_0x38ffe7,_0x1bc6aa={};_0x1bc6aa[_0x333893(0x226)]=function(_0x56a570,_0x1d2d7b){return _0x56a570===_0x1d2d7b;},_0x1bc6aa[_0x333893(0x23a)]=_0x333893(0x267),_0x1bc6aa['JLOvZ']=function(_0x1e1a00,_0x44469b){return _0x1e1a00!==_0x44469b;},_0x1bc6aa[_0x333893(0x259)]=_0x333893(0x1c3),_0x1bc6aa[_0x333893(0xee)]=_0x333893(0x1bc);const _0x1cca13=_0x1bc6aa,_0x40b06e={};_0x40b06e[_0x333893(0x249)]=global_registry[_0x333893(0x114)];const _0x290e98=new awsSDK['EFS'](_0x40b06e),_0x30e7b6={};_0x30e7b6[_0x333893(0x249)]=global_registry[_0x333893(0x114)];const _0x3df1e3=new awsSDK[(_0x333893(0x189))](_0x30e7b6),_0x24326f=new Set(),_0x352492=[];for(const _0x164d50 of _0x3b6702){if(_0x1cca13[_0x333893(0x226)](_0x1cca13['fkMZH'],_0x1cca13['fkMZH'])){const _0x13c68b=await this[_0x333893(0x15f)](_0x3df1e3,_0x164d50[_0x333893(0xf5)]);if(_0x24326f['has'](_0x13c68b)){if(_0x1cca13['JLOvZ'](_0x1cca13[_0x333893(0x259)],_0x1cca13['iMHUJ'])){logger['info'](_0x333893(0x24e)+_0x164d50[_0x333893(0xf5)]+_0x333893(0x133)+_0x13c68b+_0x333893(0x157));continue;}else _0x4c1a47['error']=_0xbfc3f5;}_0x24326f[_0x333893(0xfb)](_0x13c68b),_0x352492[_0x333893(0x11e)](this['createMountTargetAndWait'](_0x290e98,_0x164d50,_0x5f1a8b,_0x355778));}else throw new _0x3bdd7a(_0x333893(0x268)+_0xe1e8fe+'\x20failed\x20to\x20reach\x20the\x20available\x20state.');}await Promise['all'](_0x352492);}async[a0_0x38ffe7(0x121)](_0x3369ac,_0x38eccf,_0x534792,_0x1d1b65){const _0x141fab=a0_0x38ffe7,_0x376670={'eiilx':function(_0x52f527,_0x2d7971){return _0x52f527(_0x2d7971);},'hoJEy':function(_0xe1e136,_0x5265db){return _0xe1e136!==_0x5265db;},'khMXM':_0x141fab(0x239),'UFhsk':'jQDVT','pIBJf':function(_0x3ab3aa,_0x21f765){return _0x3ab3aa===_0x21f765;},'mJjRU':_0x141fab(0x212),'lWQig':_0x141fab(0x208)};try{if(_0x376670[_0x141fab(0x1af)](_0x376670['khMXM'],_0x376670['UFhsk'])){const _0x576595={};_0x576595[_0x141fab(0x246)]=_0x1d1b65,_0x576595[_0x141fab(0x14f)]=_0x38eccf[_0x141fab(0xf5)],_0x576595[_0x141fab(0x100)]=[_0x534792];const _0x187bde=await _0x3369ac[_0x141fab(0x1e5)](_0x576595)[_0x141fab(0x1b6)](),_0x23c915=_0x187bde[_0x141fab(0x21e)];await this[_0x141fab(0x1f4)](_0x3369ac,_0x38eccf[_0x141fab(0xf5)],_0x23c915);}else _0x28ae88[_0x141fab(0x1a2)](_0x141fab(0x1c5)+_0x2a4b92[_0x141fab(0xf5)]+':',_0x8bdd69);}catch(_0x1c8c02){_0x376670['pIBJf'](_0x376670[_0x141fab(0x262)],_0x376670[_0x141fab(0x1dc)])?_0x376670[_0x141fab(0x146)](_0x172954,!![]):logger['error'](_0x141fab(0x1c5)+_0x38eccf[_0x141fab(0xf5)]+':',_0x1c8c02);}}async[a0_0x38ffe7(0x1f4)](_0x4deff4,_0x299e66,_0x1525d8){const _0x5e17d6=a0_0x38ffe7,_0x11817e={'PuCxJ':function(_0x54b8dc,_0x43f833){return _0x54b8dc(_0x43f833);},'qvGBK':_0x5e17d6(0x280),'MfeVg':function(_0xa70a2b,_0xc542ef){return _0xa70a2b!==_0xc542ef;},'VIefB':_0x5e17d6(0x10f),'tKOQq':function(_0x3a74a9,_0x3eb02a){return _0x3a74a9!==_0x3eb02a;},'EmhIs':'sNNXu','mYAvZ':function(_0x20bbdb,_0x221429){return _0x20bbdb===_0x221429;},'iaSSt':_0x5e17d6(0x101),'LPXdi':function(_0x400838,_0x599c34){return _0x400838===_0x599c34;},'MlufS':'failed','VqpUo':_0x5e17d6(0x135),'oaxOA':_0x5e17d6(0x1a9)};let _0x431df1='';while(_0x11817e['MfeVg'](_0x431df1,_0x11817e['VIefB'])){if(_0x11817e[_0x5e17d6(0xeb)](_0x11817e[_0x5e17d6(0x254)],_0x11817e[_0x5e17d6(0x254)])){const _0x18ed29={};_0x18ed29[_0x5e17d6(0x1f2)]=[_0x3bd51c];const _0x17081e=_0x18ed29;return new _0x4c77a4((_0x49e488,_0x2e9bec)=>{const _0x30742b=_0x5e17d6,_0x5a934e={'NIxQv':function(_0x3d7af8,_0x2189bf){const _0x444796=a0_0x5acd;return _0x11817e[_0x444796(0x203)](_0x3d7af8,_0x2189bf);}},_0x5d594f={};_0x5d594f[_0x30742b(0x169)]=_0x11817e[_0x30742b(0x225)],_0x5d594f[_0x30742b(0x249)]=_0x196857[_0x30742b(0x114)];const _0x1c8eb4=new _0x24f291[(_0x30742b(0x189))](_0x5d594f);_0x1c8eb4[_0x30742b(0x126)](_0x17081e)[_0x30742b(0x1b6)]()['then'](_0x52e80=>{const _0x18bade=_0x30742b;_0x5a934e[_0x18bade(0x1a4)](_0x49e488,!![]);})[_0x30742b(0x170)](_0x1e986b=>{const _0x4a6c2f=_0x30742b;_0x1231a7[_0x4a6c2f(0x1a2)](_0x4a6c2f(0x27a)+_0x21f9ab+_0x4a6c2f(0x211)+_0x3da368[_0x4a6c2f(0x114)]+_0x4a6c2f(0x16c)),_0x5a934e['NIxQv'](_0x49e488,![]);});});}else{const _0x469ce4={};_0x469ce4[_0x5e17d6(0x21e)]=_0x1525d8;const _0x259cda=await _0x4deff4['describeMountTargets'](_0x469ce4)[_0x5e17d6(0x1b6)]();_0x431df1=_0x259cda['MountTargets'][0x0][_0x5e17d6(0x116)];if(_0x11817e['mYAvZ'](_0x431df1,_0x11817e[_0x5e17d6(0x178)])){if(_0x11817e['tKOQq'](_0x11817e[_0x5e17d6(0x18b)],_0x11817e[_0x5e17d6(0x18b)])){if(_0x4ff895['includes'](_0x2c4709['value']))return!![];return _0x3735d8['push'](_0x358273),![];}else{logger[_0x5e17d6(0x1d8)](_0x5e17d6(0x148)+_0x299e66+_0x5e17d6(0x1e3)+_0x1525d8+'.');break;}}if(_0x11817e[_0x5e17d6(0xfc)](_0x431df1,_0x11817e['MlufS'])){if(_0x11817e['MfeVg'](_0x11817e[_0x5e17d6(0x190)],_0x11817e[_0x5e17d6(0x1d2)]))throw new Error('Mount\x20target\x20'+_0x1525d8+'\x20failed\x20to\x20reach\x20the\x20available\x20state.');else _0x1d4b20[_0x5e17d6(0x1a2)](_0x5e17d6(0x232)+_0x1e5bdc+_0x5e17d6(0x108)+_0x3a8317[_0x5e17d6(0x14c)]),_0x3cf5c8[_0x5e17d6(0x129)]='Please\x20install\x20aws-iam-authenticator\x20tool.\x20Error\x20:\x20'+_0x270128,_0x428694[_0x5e17d6(0x1a2)]=_0x548ab2;}await new Promise(_0x380ac5=>setTimeout(_0x380ac5,0x1388));}}}async[a0_0x38ffe7(0x15f)](_0x9a88b7,_0x2ad285){const _0xb30f97=a0_0x38ffe7,_0x4c8a4d={};_0x4c8a4d[_0xb30f97(0x115)]=[_0x2ad285];const _0x447e8f=await _0x9a88b7[_0xb30f97(0xea)](_0x4c8a4d)[_0xb30f97(0x1b6)]();return _0x447e8f[_0xb30f97(0x22c)][0x0][_0xb30f97(0x175)];}[a0_0x38ffe7(0x27d)](_0xb5be9c){const _0x54ef3c=a0_0x38ffe7,_0x3c2508={'ZGUbs':function(_0x48a4e2,_0x3e1766){return _0x48a4e2(_0x3e1766);},'Xttnx':_0x54ef3c(0x16e),'LmOWF':function(_0x2a0fc1,_0x5c8d4f){return _0x2a0fc1===_0x5c8d4f;},'FRMgN':_0x54ef3c(0x1df),'RhjoQ':function(_0x48b3ef,_0x35957a){return _0x48b3ef!==_0x35957a;},'XUHnn':_0x54ef3c(0x1db),'uYmws':_0x54ef3c(0x1bb),'GENZR':function(_0x24c532,_0x39bbea){return _0x24c532===_0x39bbea;},'Duvpz':_0x54ef3c(0x202),'konwz':_0x54ef3c(0x280)},_0x2225e8={};_0x2225e8['VpcIds']=[_0xb5be9c];const _0x3c11ae=_0x2225e8;return new Promise((_0x4c39df,_0x1767a2)=>{const _0x4aa4dc=_0x54ef3c,_0x4f818e={'UNvGp':_0x3c2508[_0x4aa4dc(0x26b)],'uBZIw':function(_0x2bd7f8,_0x5dfbee){const _0x17dcac=_0x4aa4dc;return _0x3c2508[_0x17dcac(0x22e)](_0x2bd7f8,_0x5dfbee);},'hQpCQ':_0x3c2508['FRMgN'],'oWPUQ':function(_0x5b9019,_0x418991){const _0x294c3a=_0x4aa4dc;return _0x3c2508[_0x294c3a(0x1ea)](_0x5b9019,_0x418991);},'GuJrf':function(_0x24deaa,_0x1330fa){const _0x1fa31c=_0x4aa4dc;return _0x3c2508[_0x1fa31c(0x128)](_0x24deaa,_0x1330fa);},'nokjD':_0x3c2508[_0x4aa4dc(0x110)],'HmTNq':_0x3c2508[_0x4aa4dc(0x1f1)]};if(_0x3c2508[_0x4aa4dc(0xe5)](_0x3c2508[_0x4aa4dc(0x1fa)],_0x3c2508[_0x4aa4dc(0x1fa)])){const _0x2a188e={};_0x2a188e[_0x4aa4dc(0x169)]=_0x3c2508['konwz'],_0x2a188e[_0x4aa4dc(0x249)]=global_registry[_0x4aa4dc(0x114)];const _0x5502f0=new awsSDK[(_0x4aa4dc(0x189))](_0x2a188e);_0x5502f0[_0x4aa4dc(0x126)](_0x3c11ae)[_0x4aa4dc(0x1b6)]()[_0x4aa4dc(0x11d)](_0x1b63fb=>{const _0x297d01=_0x4aa4dc;_0x4f818e[_0x297d01(0x1a8)](_0x4f818e['hQpCQ'],_0x4f818e[_0x297d01(0x1ba)])?_0x4f818e[_0x297d01(0x11a)](_0x4c39df,!![]):_0x4257ea[_0x297d01(0x1d8)](_0x4f818e[_0x297d01(0x248)]);})[_0x4aa4dc(0x170)](_0x4a2c86=>{const _0x114988=_0x4aa4dc;if(_0x4f818e[_0x114988(0x231)](_0x4f818e[_0x114988(0x21c)],_0x4f818e[_0x114988(0x19f)]))logger[_0x114988(0x1a2)]('Cannot\x20find\x20VPC\x20'+_0xb5be9c+'\x20in\x20region\x20'+global_registry[_0x114988(0x114)]+'.\x20Please\x20Check\x20and\x20try\x20again'),_0x4f818e[_0x114988(0x11a)](_0x4c39df,![]);else{const _0x554896=_0xb392bc['Stacks'][0x0][_0x114988(0x238)][0x2]['OutputValue'],_0x8659cd=_0x4d8ab7[_0x114988(0x10d)][0x0]['Outputs'][0x5]['OutputValue'][_0x114988(0x1d9)](',');_0x1f0e78=_0x554896;const _0x38a706=[];for(const _0x49607a of _0x8659cd){const _0x1f7d72={};_0x1f7d72[_0x114988(0x227)]=_0x49607a,_0x1f7d72[_0x114988(0xf5)]=_0x49607a,_0x38a706[_0x114988(0x11e)](_0x1f7d72);}_0x10606b=_0x38a706,_0x59ce15[_0x114988(0x1d8)](_0x114988(0xfa)+_0x554896+'\x20'),_0x3fd323[_0x114988(0x1d8)](_0x114988(0x214)+_0x8659cd+'\x20'),_0x58b33c+=',VPC\x20=>\x20'+_0x554896+_0x114988(0x282)+_0x8659cd+',\x20';}});}else _0x3c2508[_0x4aa4dc(0x1ea)](_0x4fc1be,this[_0x4aa4dc(0x26a)]);});}[a0_0x38ffe7(0x1a1)](_0x38c38f,_0x3d42af){const _0x4bb78c=a0_0x38ffe7,_0x191002={'BAJYV':function(_0x413030,_0x56dc18){return _0x413030(_0x56dc18);},'WHdIJ':_0x4bb78c(0x1eb),'udyxg':function(_0x2ba340,_0x5b52d7){return _0x2ba340===_0x5b52d7;},'fxPBu':'cKpsY','rlHDm':function(_0x543f02,_0x53a7d8){return _0x543f02!==_0x53a7d8;},'GovWJ':_0x4bb78c(0x20a),'JaPAJ':_0x4bb78c(0x283),'gAQwC':_0x4bb78c(0x12b),'ZxaON':function(_0x2889c9,_0x166bac){return _0x2889c9===_0x166bac;},'sWUgR':_0x4bb78c(0x1de),'MAYQz':function(_0x19d67a,_0x501605){return _0x19d67a(_0x501605);},'FQUaY':_0x4bb78c(0x14b),'hnivh':_0x4bb78c(0x127),'jLwxl':_0x4bb78c(0x27b),'SSNeT':_0x4bb78c(0x280),'DtGqo':_0x4bb78c(0xfe)},_0x39eccc={};_0x39eccc[_0x4bb78c(0x1be)]=_0x191002['DtGqo'],_0x39eccc[_0x4bb78c(0x224)]=[_0x3d42af];const _0x51b667={};_0x51b667[_0x4bb78c(0x131)]=[_0x39eccc];const _0x427f78=_0x51b667;return new Promise((_0x17cd83,_0x108989)=>{const _0x400102=_0x4bb78c,_0x17f293={'tAFaA':function(_0x26840e,_0x2a2b70){return _0x191002['BAJYV'](_0x26840e,_0x2a2b70);},'CvrNf':_0x191002[_0x400102(0x242)],'AHiLg':function(_0x1e448a,_0x2d6259){const _0x3c453e=_0x400102;return _0x191002[_0x3c453e(0x253)](_0x1e448a,_0x2d6259);},'qzauK':_0x191002[_0x400102(0x21a)],'rjzrp':function(_0x16c264,_0x240b07){const _0x2cdf71=_0x400102;return _0x191002[_0x2cdf71(0x123)](_0x16c264,_0x240b07);},'KRAvD':_0x191002[_0x400102(0x199)],'jFdnT':_0x191002['JaPAJ'],'RPWSo':_0x191002[_0x400102(0x156)],'WXxXQ':function(_0x12df9b,_0x49b309){const _0x2826a9=_0x400102;return _0x191002[_0x2826a9(0x160)](_0x12df9b,_0x49b309);},'JbAHM':_0x191002['sWUgR'],'KgYZA':function(_0x23a446,_0x18d7d9){const _0x1e68ab=_0x400102;return _0x191002[_0x1e68ab(0x1fe)](_0x23a446,_0x18d7d9);},'mnjrU':_0x191002['FQUaY'],'mNyBW':function(_0x3347b8,_0x32532c){return _0x191002['MAYQz'](_0x3347b8,_0x32532c);}};if(_0x191002[_0x400102(0x253)](_0x191002[_0x400102(0x153)],_0x191002[_0x400102(0x180)]))_0x298447['clusters'][_0x400102(0x185)](this['clusterName'])&&_0x17f293['tAFaA'](_0x3351c0,!![]),_0x17f293[_0x400102(0x218)](_0x253998,![]);else{const _0x187245={};_0x187245[_0x400102(0x169)]=_0x191002[_0x400102(0x255)],_0x187245['region']=global_registry[_0x400102(0x114)];const _0x4c61fa=new awsSDK[(_0x400102(0x189))](_0x187245);_0x4c61fa[_0x400102(0xea)](_0x427f78)[_0x400102(0x1b6)]()[_0x400102(0x11d)](_0xb62e08=>{const _0x234979=_0x400102,_0x3c2197={'pZoxC':_0x17f293[_0x234979(0x16d)],'ADFyM':function(_0x526d17,_0x2f9351){const _0x1e65c9=_0x234979;return _0x17f293[_0x1e65c9(0x111)](_0x526d17,_0x2f9351);},'XXetK':_0x17f293[_0x234979(0x12e)],'yGClk':function(_0x96699f,_0x34b393){const _0x4b46f4=_0x234979;return _0x17f293[_0x4b46f4(0x218)](_0x96699f,_0x34b393);},'MrGkI':function(_0x1bc5cd,_0x261de9){return _0x17f293['rjzrp'](_0x1bc5cd,_0x261de9);},'YJLfK':_0x17f293[_0x234979(0x209)],'wGFhD':_0x17f293[_0x234979(0x1fd)],'iTQyi':_0x17f293[_0x234979(0x266)]};if(_0x17f293['WXxXQ'](_0x17f293[_0x234979(0x220)],_0x17f293[_0x234979(0x220)])){const _0xe29b3e=[],_0x1fd1b=[];_0xb62e08[_0x234979(0x22c)][_0x234979(0x168)](_0x5b6fa7=>{const _0x29bc75=_0x234979;if(_0x3c2197[_0x29bc75(0x1f3)](_0x3c2197[_0x29bc75(0x23c)],_0x3c2197[_0x29bc75(0x23c)]))_0xe29b3e['push'](_0x5b6fa7[_0x29bc75(0x14f)]);else{const _0x5943e0={};_0x5943e0['apiVersion']=_0x3c2197[_0x29bc75(0x22f)];const _0x5a4372=new _0x322b54[(_0x29bc75(0x1bf))](_0x5943e0),_0x358308={};return _0x358308[_0x29bc75(0x1d1)]=this['clusterName'],_0x358308['nodegroupName']=_0x460c3a,_0x5a4372[_0x29bc75(0xf0)](_0x358308)[_0x29bc75(0x1b6)]();}});const _0x54e654=_0x38c38f[_0x234979(0x171)](_0x5b55d9=>{const _0x1ce6a4=_0x234979;if(_0x3c2197['MrGkI'](_0x3c2197['YJLfK'],_0x3c2197['wGFhD'])){if(_0xe29b3e['includes'](_0x5b55d9[_0x1ce6a4(0xf5)])){if(_0x3c2197[_0x1ce6a4(0x1f3)](_0x3c2197[_0x1ce6a4(0x125)],_0x3c2197[_0x1ce6a4(0x125)]))return!![];else _0x3d3ffb[_0x1ce6a4(0x1a2)](_0x1ce6a4(0x27a)+_0x5452cc+_0x1ce6a4(0x211)+_0x5a9239['clusterRegion']+_0x1ce6a4(0x16c)),_0x3c2197[_0x1ce6a4(0x1b1)](_0x31a784,![]);}return _0x1fd1b[_0x1ce6a4(0x11e)](_0x5b55d9),![];}else return _0x3ccf3f[_0x1ce6a4(0x149)][_0x1ce6a4(0x179)]['ingress'][0x0]['hostname'];});_0x17f293[_0x234979(0x1f7)](_0x17cd83,[_0x54e654,_0x1fd1b]);}else _0xe58014['status']=![];})[_0x400102(0x170)](_0x4cfd20=>{const _0xe29984=_0x400102;_0x17f293['WXxXQ'](_0x17f293[_0xe29984(0x20d)],_0x17f293[_0xe29984(0x20d)])?(logger[_0xe29984(0x1a2)](_0xe29984(0x130)+_0x38c38f+'\x20in\x20region\x20'+global_registry['clusterRegion']+'.\x20Error:\x20'+_0x4cfd20),_0x17f293[_0xe29984(0x20f)](_0x17cd83,[![],[]])):(_0x1c3cdc[_0xe29984(0x1a7)]=_0x1839b5[this[_0xe29984(0x12c)]]['accessKey'],_0x115dac['cloudProviderSecretKey']=_0x97d4b1[this[_0xe29984(0x12c)]][_0xe29984(0x243)]);});}});}async['isCliToolInstalled'](){const _0x378ebb=a0_0x38ffe7,_0x4d9269={'zkWPs':function(_0x169844,_0x2906b1){return _0x169844(_0x2906b1);},'LKuhF':_0x378ebb(0xe7),'rhoOX':_0x378ebb(0x20c),'URCEi':_0x378ebb(0x17d)},_0x41fe10={};_0x41fe10[_0x378ebb(0x149)]=![],_0x41fe10[_0x378ebb(0x1a2)]=null,_0x41fe10[_0x378ebb(0x129)]='';const _0x4e56f3=_0x41fe10;try{const _0x5575e9=await _0x4d9269[_0x378ebb(0x143)](runCommand,_0x4d9269[_0x378ebb(0x25a)]);_0x5575e9['startsWith'](_0x4d9269['rhoOX'])?logger[_0x378ebb(0x15e)](_0x5575e9):logger[_0x378ebb(0x13c)](_0x5575e9),_0x4e56f3[_0x378ebb(0x149)]=!![],_0x4e56f3[_0x378ebb(0x129)]=_0x4d9269['URCEi'];}catch(_0x5d4ea8){logger['error'](_0x378ebb(0x232)+_0x5d4ea8+_0x378ebb(0x108)+_0x5d4ea8[_0x378ebb(0x14c)]),_0x4e56f3['data']=_0x378ebb(0x200)+_0x5d4ea8,_0x4e56f3[_0x378ebb(0x1a2)]=_0x5d4ea8;}return _0x4e56f3;}async[a0_0x38ffe7(0x247)](){const _0x574ca7=a0_0x38ffe7,_0x55a110={};_0x55a110[_0x574ca7(0x210)]=_0x574ca7(0x1a6),_0x55a110[_0x574ca7(0x113)]=_0x574ca7(0xed);const _0x27b1fa=_0x55a110,_0x11c0d4=await new awsSDK[(_0x574ca7(0x165))]()[_0x574ca7(0x261)]()['promise'](),{Account:_0x507baa,Arn:_0x4cfd59}=_0x11c0d4,_0x1096f2=_0x4cfd59['includes'](_0x27b1fa['aHPps']),_0x843f73=_0x1096f2?_0x574ca7(0x277)+_0x507baa+_0x574ca7(0x1a6)+_0x4cfd59['split'](_0x27b1fa[_0x574ca7(0x210)])[0x1]:_0x574ca7(0x277)+_0x507baa+':user/'+_0x4cfd59[_0x574ca7(0x1d9)](_0x27b1fa['brLKH'])[0x1];return _0x843f73;}async['checkAccess'](){const _0x3061f6=a0_0x38ffe7,_0x198dfa={};_0x198dfa[_0x3061f6(0x1cf)]=function(_0x4d9416,_0x5072af){return _0x4d9416!==_0x5072af;},_0x198dfa[_0x3061f6(0x285)]='allowed';const _0x2d18a4=_0x198dfa,_0x74835d={};_0x74835d[_0x3061f6(0x149)]=![],_0x74835d[_0x3061f6(0x1a2)]=null,_0x74835d[_0x3061f6(0x129)]='';const _0x19ad5a=_0x74835d;try{const _0x2f6b7b=await this['getPrincipalArn'](),_0x5a4ec4={'PolicySourceArn':_0x2f6b7b,'ActionNames':Object[_0x3061f6(0x163)](PERMISSIONS)},_0x2306cf=await new awsSDK[(_0x3061f6(0x269))]()[_0x3061f6(0xf8)](_0x5a4ec4)[_0x3061f6(0x1b6)]();let _0x15b38e='';logger[_0x3061f6(0x13c)]('permissions\x20check\x20response:\x20'+JSON[_0x3061f6(0x1d7)](_0x2306cf)),_0x19ad5a[_0x3061f6(0x149)]=!![],_0x2306cf['EvaluationResults']['forEach'](_0x237e35=>{const _0x1e8cca=_0x3061f6,_0x59c12d=_0x237e35[_0x1e8cca(0xf3)][_0x1e8cca(0x1d9)](':')[0x0];_0x15b38e+=_0x1e8cca(0x1ae)+_0x59c12d[_0x1e8cca(0x281)]()+_0x1e8cca(0xe4)+PERMISSIONS[_0x237e35[_0x1e8cca(0xf3)]]+':\x20'+_0x237e35[_0x1e8cca(0x240)],_0x2d18a4[_0x1e8cca(0x1cf)](_0x237e35['EvalDecision'],_0x2d18a4[_0x1e8cca(0x285)])&&(_0x19ad5a[_0x1e8cca(0x149)]=![]);}),_0x19ad5a[_0x3061f6(0x129)]=_0x15b38e;}catch(_0x13951d){_0x19ad5a[_0x3061f6(0x1a2)]=_0x13951d;}return _0x19ad5a;}}function a0_0x5acd(_0x8d265a,_0x2d2e55){const _0x250ab5=a0_0x250a();return a0_0x5acd=function(_0x5acdbe,_0x5e689a){_0x5acdbe=_0x5acdbe-0xdf;let _0x5c3d6d=_0x250ab5[_0x5acdbe];return _0x5c3d6d;},a0_0x5acd(_0x8d265a,_0x2d2e55);}const a0_0x522bb0={};a0_0x522bb0[a0_0x38ffe7(0x1a3)]=AWSCloudProvider,module[a0_0x38ffe7(0x21b)]=a0_0x522bb0;