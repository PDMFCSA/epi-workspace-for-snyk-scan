const a0_0x29e5ea=a0_0x4023;(function(_0x180312,_0x1f8fcf){const _0x526489=a0_0x4023,_0x2a47e7=_0x180312();while(!![]){try{const _0x163d9b=parseInt(_0x526489(0x1ae))/0x1*(parseInt(_0x526489(0x194))/0x2)+-parseInt(_0x526489(0x13a))/0x3*(parseInt(_0x526489(0x24d))/0x4)+-parseInt(_0x526489(0x1d1))/0x5*(-parseInt(_0x526489(0x1c0))/0x6)+-parseInt(_0x526489(0x185))/0x7+parseInt(_0x526489(0x258))/0x8+parseInt(_0x526489(0x218))/0x9*(parseInt(_0x526489(0x18c))/0xa)+-parseInt(_0x526489(0x13c))/0xb*(-parseInt(_0x526489(0x2c3))/0xc);if(_0x163d9b===_0x1f8fcf)break;else _0x2a47e7['push'](_0x2a47e7['shift']());}catch(_0x2aa0ed){_0x2a47e7['push'](_0x2a47e7['shift']());}}}(a0_0x5336,0x2c541));const fs=require('fs'),path=require('path'),yaml=require(a0_0x29e5ea(0x1e6)),awsSDK=require(a0_0x29e5ea(0x273)),{logger}=require(a0_0x29e5ea(0x2b3)),{CloudProvider}=require('./CloudProvider'),{sendAWSInfoToHST}=require(a0_0x29e5ea(0x1d2)),{createClusterStack}=require(a0_0x29e5ea(0x1b5)),{createHubHaStack}=require(a0_0x29e5ea(0x17e)),{deleteClusterAndDependencies,deleteRoutingDeps,deleteAgent}=require('../utils/gridComponents'),{createAutoscalerStack}=require(a0_0x29e5ea(0x1a9)),{getDirForConfig,reportToGalactusAndSendToEDS,kubeApply,runCommand}=require(a0_0x29e5ea(0x2ab)),{IAM_USER_NAME,AWS,WS_EVENTS,global_registry,messageTypes}=require(a0_0x29e5ea(0x1c7)),PERMISSIONS=require('../permissions/AWS.json');function a0_0x4023(_0x5c0338,_0x2a55eb){const _0x533689=a0_0x5336();return a0_0x4023=function(_0x40234d,_0x57a2de){_0x40234d=_0x40234d-0x137;let _0x33797e=_0x533689[_0x40234d];return _0x33797e;},a0_0x4023(_0x5c0338,_0x2a55eb);}function a0_0x5336(){const _0x17b539=['SiaSJ','yArNp','Please\x20install\x20aws-iam-authenticator\x20tool.\x20Error\x20:\x20','Filters','Jfjci','APgDk','createMountTargetAndWait','ZvfaH','allowed','AduXy','browserstack','efs-csi-driver-aws.yaml','TVgCr','suDLO','vShZr','deleteCluster','../utils/utilityMethods','MountTargetId','XlCSb','lMsLo','push','bnHCY','MtGlC','SubnetIds','../config/logger','THsWo','cxBss','error','VVqGL','EohMd','EFS','JUXHh','-NodeGroup','MBaLY','describeVpcs','uwjwK','match','xvydm','hrMME','Adding\x20EFS\x20CSI\x20Driver','444hDvljz','ClKJR','uyEjC','init','pTqYr','ItArC','stringify','JMtae','NaGeW','ulOEc','promise','ysqEH','yrOot','Intercepted','XQVbw','FileSystemId','describeNodegroup','createAuthConfigMap','JRnbS','hKXWJ','4395lRfslA','webSocketUtils','4004cHEsFc','GzmXm','Subnets\x20=>\x20','sMIUI','KrGaI','AWSCloudProvider','rbEtC','DsVoA','aws-auth-cm.yaml','YMtTu','\x20in\x20region\x20','writeFileSync','CRyJF','iJXyy','qIlDS','Mount\x20target\x20created\x20for\x20subnet:\x20','cloudProviderName','ZTDwE','.\x20Please\x20Check\x20and\x20try\x20again','aws-iam-authenticator\x20tool\x20is\x20installed','vSXbi',',\x20MountTargetId:\x20','KMOTz','4|3|1|0|2','STS','getClusterInfo','nHbsa','WARNING','kSxae','cJVwv',',\x20ClusterRole\x20=>\x20','OFykr','jNfIA','isBrowserstackCluster','wdCDV','parameters','zxZiD','startsWith','createNamespacedConfigMap','tVCkJ','vHdOs','Peroq','FQUJR','Subnets','qODSw','\x20failed\x20to\x20reach\x20the\x20available\x20state.','.\x20Deleting\x20all\x20the\x20stacks','GnowD','mkprB','aws-iam-authenticator\x20help','has','utf-8','value','TPUjs','UoFMf','EFS\x20FileSystem\x20=>\x20','SNaSO','xFfrI','juUMQ','listClusters','jcNya','EC2','cwqMz','IDaRD','isSubnetsValid','EvalActionName','../utils/createHubHaStack','exit','dCQbr','Creating\x20Autoscaler\x20Role','Skipping\x20Autoscaler\x20due\x20to:\x20','wsCOA','jDoUP','749721kasKBt','oZZjY','AAWLt','LqXii','SFvSl','WyXLn','keys','1220140yQmbly','amdRD','Autoscaler\x20Role\x20created.ARN:\x20','VPC\x20=>\x20','cloudProviderSecretKey','MCWHd','LeYOS','all','2EKFCCX','TEnOq','isCliToolInstalled','\x20|\x20Action\x20:\x20','eOXgV','UExTO','WCubP','Imgzw','LCKxn','message','type','EvalDecision','kube-system',',\x20EFS_FileSystem\x20=>\x20','\x0aaws_secret_access_key\x20=\x20','\x20:\x20','ERROR','setupHubHa','DVKSE','status','kEVRO','../utils/createAutoscalerStack','LfOnF','xsRpE','Following\x20resources\x20are\x20created:','rws','108893wOLYDH','browserstack:managedBy','Creating\x20required\x20resources\x20-\x20EKS\x20role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups,\x20Cluster\x20and\x20Node\x20Group(s)','WNOKE','checkClusterCreated','PHWCO','nodegroupName','../utils/createClusterStack','Gajtw','EFSSecurityGroup','GrfpH','IFHiw','fZNHp','update','iVVDY','Adding\x20storage\x20class...','SecurityGroups\x20=>\x20','every','15744EikwOP','Added\x20storage\x20class.','2017-11-01','2016-11-15','TSbbl','Outputs','VpcIds','../config/constants','cluster','dvGPV','createMountTarget','setupAutoscaler','IXWbT','getAvailabilityZone','EohxS','waitForMountTarget','hub-ha-aws-setup-failed','60iNdAkW','../utils/hstUtils','replace','ingress','getGridHostname',':role/','QjcuW','[ats]\x0aaws_access_key_id\x20=\x20','create-grid-called','JcFsN','accessKey','getNodeGroupInfo','CoHVS','CRiNL','cObFm','PGEva','UWLRa','region','yNIhY','FHROd','accessKeyId','js-yaml','createMountTargets','XlGzd','sendResourceDataToHST','templates','Creating\x20required\x20dependencies\x20-\x20EKS\x20Role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups\x20and\x20Cluster\x20and\x20Node\x20Group(s)','load','hKAyg','yjTWq','UxVpf','BURQN','djQuh','includes','\x20ACCESS\x20KEY:\x20','okjIH','YEQkX','Cannot\x20find\x20VPC\x20','getKubeConfigData','Mounting\x20Target\x20for\x20EFS',',\x20NodeRole\x20=>\x20','JVKnW','tZudG','Setting\x20up\x20Hub\x20HA','PkBgK','efIAQ','name','hgtRQ','label','secret','PGfzy','certificateAuthority','IBgiY','stack','OQpEt','AvailabilityZone','maxNodes','setCachedCredsInRegistry','body','RIhwh','fNFCf','pnfhx','info',',\x20EFS_SecurityGroup\x20=>\x20','EFS\x20Controller\x20Role\x20=>\x20','NPzQI','\x20has\x20already\x20been\x20used.','Cannot\x20find\x20subnets\x20','MrtYq','forEach','WdtQo','9uJxNDi','nodegroup','pSzrL','EKS','ATefZ','ATmVO',',\x20Subnets\x20=>\x20','getPrincipalArn','Added\x20EFS\x20CSI\x20Driver','permissions\x20check\x20response:\x20','WHbVJ','getUserInput','.\x20Error:\x20','config','dRZaT','EesOe','TazmW','wlOqG','\x20because\x20its\x20Availability\x20Zone\x20','kqmwu','NnXpX','oyEtL','Kcets','LOG','catch','toLowerCase','EFSFileSystemId','SecurityGroups','IfqCe','hubharesources','HydRC','pULyd','warn','IRjfz','MountTargets','then','Mount\x20target\x20','AUpRO','nGsOB','PqNiq','yKvru','yjWyE','cBfhd','Following\x20resources\x20are\x20created\x20for\x20Hub\x20HA:\x20EFS_ControllerRoleArn\x20=>\x20','YlUCS','arn:aws:iam::','cloudProvider','aws_credentials','QOeLK',',\x20SecurityGroups\x20=>\x20','OutputKey','Clfza','sendEventToBackend','924oYjwNF','Following\x20resources\x20are\x20created:\x20Cluster\x20=>\x20','AvcsF','EVjPP','mapRoles','NuDgI','isVPCPresent','clusterName','imMGg','Values','PWjXH','2809792KyYCoT','xcOHx','gdahe','Error\x20creating\x20mount\x20target\x20for\x20subnet\x20','UWQqY','TaJrs','cJyAx','Skipping\x20subnet\x20','Ajjge','debug','Stacks','TKdxi','IAM','PLVde','CawNu','vpc-id','clusters','available','tkwga','getCallerIdentity','Created\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','EvaluationResults','Error\x20occurred\x20while\x20setting\x20up\x20Hub\x20HA\x20infra:\x20','vNDRY','toString','fileSystemId','yhzSK','aws-sdk','autoscaler-creation-failed','dEjeq','readFileAsync','zkfhe','hostname','zqOFM','cloudProviderAccessKey','describeCluster','liCxw','\x0a\x09Service:\x20','ZtLdL','fbCFH','clusterRegion','litlP','NodeRole\x20=>\x20','OutputValue','error\x20:\x20','SubnetId','fRSuC','split','failed','dmYSo','iaDyc','loadBalancer','4|2|0|1|3','mdyyF','gnRzW','LuiLv','apiVersion','qAaXw','data','LSldg','vJFDU','toUpperCase','setupNewCluster','LifeCycleState','Cluster\x20=>\x20','join',':user/'];a0_0x5336=function(){return _0x17b539;};return a0_0x5336();}class AWSCloudProvider extends CloudProvider{constructor(_0x56936f,_0x3f4ef4,_0x302136,_0x52a664){super(AWS,_0x56936f,_0x3f4ef4,_0x302136,_0x52a664);}async[a0_0x29e5ea(0x2c6)](){const _0x35d5ae=a0_0x29e5ea;await super[_0x35d5ae(0x2c6)]();const _0x2ba63d={};return _0x2ba63d[_0x35d5ae(0x1e2)]=global_registry[_0x35d5ae(0x280)],_0x2ba63d[_0x35d5ae(0x1e5)]=global_registry[_0x35d5ae(0x27a)],_0x2ba63d['secretAccessKey']=global_registry[_0x35d5ae(0x190)],awsSDK[_0x35d5ae(0x225)][_0x35d5ae(0x1bb)](_0x2ba63d),this;}async[a0_0x29e5ea(0x1e9)](){const _0x2da24d=a0_0x29e5ea,_0x1215a4={'Ajjge':function(_0x637194,_0x43a77e){return _0x637194(_0x43a77e);}};_0x1215a4[_0x2da24d(0x260)](sendAWSInfoToHST,this['rws']);}async[a0_0x29e5ea(0x20a)](_0x1e8642){const _0xe35619=a0_0x29e5ea;global_registry[_0xe35619(0x27a)]=_0x1e8642[this[_0xe35619(0x14c)]][_0xe35619(0x1db)],global_registry[_0xe35619(0x190)]=_0x1e8642[this[_0xe35619(0x14c)]]['secret'];}[a0_0x29e5ea(0x1d5)](_0x2c0aac){const _0xd2d707=a0_0x29e5ea;return _0x2c0aac[_0xd2d707(0x1a7)]['loadBalancer']['ingress'][0x0][_0xd2d707(0x278)];}async[a0_0x29e5ea(0x15d)](){const _0x22cbc4=a0_0x29e5ea,_0xb34240={'pULyd':function(_0x2f8702,_0x2e721f){return _0x2f8702(_0x2e721f);},'ysqEH':'2016-11-15','YlUCS':function(_0x219ba9,_0x20e62a){return _0x219ba9===_0x20e62a;},'NuDgI':_0x22cbc4(0x255),'CRiNL':function(_0x1cd321,_0x4a2d3e){return _0x1cd321!==_0x4a2d3e;},'wdCDV':'iXlWx','IXWbT':'CozWg','zkfhe':_0x22cbc4(0x1af),'Peroq':'browserstack','KKULW':function(_0x10c966,_0x491de0){return _0x10c966===_0x491de0;},'UxVpf':'ICeLr'};try{if(_0xb34240[_0x22cbc4(0x244)](_0xb34240[_0x22cbc4(0x252)],_0xb34240[_0x22cbc4(0x252)])){const _0x624cb3=await this['getClusterInfo']();if(_0x624cb3[_0x22cbc4(0x1c8)]){if(_0xb34240[_0x22cbc4(0x1de)](_0xb34240[_0x22cbc4(0x15e)],_0xb34240[_0x22cbc4(0x1cc)])){const _0x417b5f=_0x624cb3[_0x22cbc4(0x1c8)]['tags'];return _0x417b5f&&_0xb34240['YlUCS'](_0x417b5f[_0xb34240[_0x22cbc4(0x277)]][_0x22cbc4(0x231)](),_0xb34240[_0x22cbc4(0x165)]);}else{const _0x3d11c9={'IfqCe':function(_0x5e55e4,_0x436161){const _0x4daa8b=_0x22cbc4;return _0xb34240[_0x4daa8b(0x237)](_0x5e55e4,_0x436161);}},_0x19d4a1={};_0x19d4a1[_0x22cbc4(0x1c6)]=[_0x11da09];const _0x2573aa=_0x19d4a1;return new _0x39b276((_0x33d8a9,_0x29f34b)=>{const _0x13afec=_0x22cbc4,_0x54f323={'cBfhd':function(_0x502329,_0x295bf3){const _0x287017=a0_0x4023;return _0xb34240[_0x287017(0x237)](_0x502329,_0x295bf3);}},_0x4b16e9={};_0x4b16e9[_0x13afec(0x290)]=_0xb34240[_0x13afec(0x2ce)],_0x4b16e9[_0x13afec(0x1e2)]=_0x30443b[_0x13afec(0x280)];const _0x177834=new _0x342055[(_0x13afec(0x179))](_0x4b16e9);_0x177834[_0x13afec(0x2bd)](_0x2573aa)['promise']()['then'](_0x526fb9=>{const _0xc4eda4=_0x13afec;_0x3d11c9[_0xc4eda4(0x234)](_0x33d8a9,!![]);})[_0x13afec(0x230)](_0x80c99b=>{const _0x17d7b6=_0x13afec;_0x7668bd['error'](_0x17d7b6(0x1f6)+_0x5d75d8+_0x17d7b6(0x146)+_0x2e30af[_0x17d7b6(0x280)]+'.\x20Please\x20Check\x20and\x20try\x20again'),_0x54f323[_0x17d7b6(0x242)](_0x33d8a9,![]);});});}}}else _0x28ac51[_0x22cbc4(0x27a)]=_0x21f074[this[_0x22cbc4(0x14c)]]['accessKey'],_0x361d9f[_0x22cbc4(0x190)]=_0x332969[this['cloudProviderName']][_0x22cbc4(0x202)];}catch(_0x37e0a0){if(_0xb34240['KKULW'](_0xb34240[_0x22cbc4(0x1ef)],_0xb34240[_0x22cbc4(0x1ef)]))return![];else{const _0x4e260b=_0x54e8d9['Stacks'][0x0][_0x22cbc4(0x1c5)][0x2][_0x22cbc4(0x283)],_0x2a1fde=_0x543a1b['Stacks'][0x0][_0x22cbc4(0x1c5)][0x5][_0x22cbc4(0x283)]['split'](',');_0x5361c5=_0x4e260b;const _0x21fe7e=[];for(const _0x2ee406 of _0x2a1fde){const _0x29de28={};_0x29de28[_0x22cbc4(0x201)]=_0x2ee406,_0x29de28[_0x22cbc4(0x170)]=_0x2ee406,_0x21fe7e[_0x22cbc4(0x2af)](_0x29de28);}_0x16d363=_0x21fe7e,_0x2015eb[_0x22cbc4(0x20f)](_0x22cbc4(0x18f)+_0x4e260b+'\x20'),_0x209f21[_0x22cbc4(0x20f)](_0x22cbc4(0x13e)+_0x2a1fde+'\x20'),_0xef2a82+=',VPC\x20=>\x20'+_0x4e260b+_0x22cbc4(0x21e)+_0x2a1fde+',\x20';}}return![];}async['isClusterPresent'](){return this['checkClusterCreated']();}async[a0_0x29e5ea(0x155)](){const _0x36a4e9=a0_0x29e5ea,_0xa9de90={};_0xa9de90['EJiBA']=_0x36a4e9(0x1c2);const _0x320bde=_0xa9de90,_0x5b6554={};_0x5b6554[_0x36a4e9(0x290)]=_0x320bde['EJiBA'];const _0xf03f60=new awsSDK[(_0x36a4e9(0x21b))](_0x5b6554),_0x37eb55={};return _0x37eb55['name']=this[_0x36a4e9(0x254)],_0xf03f60[_0x36a4e9(0x27b)](_0x37eb55)[_0x36a4e9(0x2cd)]();}async[a0_0x29e5ea(0x137)](_0x1d5469){const _0x163e54=a0_0x29e5ea,_0x3b6961={};_0x3b6961[_0x163e54(0x215)]='templates',_0x3b6961['UWLRa']=_0x163e54(0x144),_0x3b6961[_0x163e54(0x1b1)]='utf-8',_0x3b6961['hgtRQ']='<ARN>';const _0x32f0ab=_0x3b6961,_0x16cdaf=await fs['readFileAsync'](path[_0x163e54(0x299)](__dirname,'..',_0x32f0ab[_0x163e54(0x215)],_0x32f0ab[_0x163e54(0x1e1)]),_0x32f0ab['WNOKE']),_0x4e60d4=yaml[_0x163e54(0x1ec)](_0x16cdaf);return _0x4e60d4[_0x163e54(0x292)][_0x163e54(0x251)]=_0x4e60d4['data'][_0x163e54(0x251)][_0x163e54(0x1d3)](_0x32f0ab[_0x163e54(0x200)],_0x1d5469),_0x4e60d4;}async[a0_0x29e5ea(0x1dc)](_0x5df29e){const _0x1086cc=a0_0x29e5ea,_0x54f888={};_0x54f888[_0x1086cc(0x226)]=_0x1086cc(0x1c2);const _0x5b05e9=_0x54f888,_0x2dfe35={};_0x2dfe35['apiVersion']=_0x5b05e9[_0x1086cc(0x226)];const _0x4364f0=new awsSDK['EKS'](_0x2dfe35),_0xeeeaa9={};return _0xeeeaa9[_0x1086cc(0x254)]=this[_0x1086cc(0x254)],_0xeeeaa9[_0x1086cc(0x1b4)]=_0x5df29e,_0x4364f0[_0x1086cc(0x2d3)](_0xeeeaa9)[_0x1086cc(0x2cd)]();}async[a0_0x29e5ea(0x1b2)](){const _0x2c3454=a0_0x29e5ea,_0x3185af={'NnXpX':function(_0x3b4697,_0x553c1c){return _0x3b4697!==_0x553c1c;},'MtGlC':'ZGttu','yIUyG':_0x2c3454(0x178),'Gajtw':_0x2c3454(0x1b3),'QZAeg':_0x2c3454(0x1f0),'UExTO':function(_0x126a43,_0x211e4d){return _0x126a43(_0x211e4d);},'amdRD':function(_0x1cf0a5,_0xabb6e){return _0x1cf0a5(_0xabb6e);},'AfBMN':_0x2c3454(0x1c3),'iVVDY':function(_0x368693,_0x8301c3){return _0x368693===_0x8301c3;},'eUqVU':_0x2c3454(0x2a7),'PZIDM':'kTMCV','fRSuC':function(_0xeb6d46,_0x44a968){return _0xeb6d46!==_0x44a968;},'yhzSK':_0x2c3454(0x2b5),'caLph':'Sonmk','rbEtC':_0x2c3454(0x1c2)};return new Promise((_0x2b9d69,_0x47de7c)=>{const _0x2416ea=_0x2c3454,_0x48db04={'LfOnF':function(_0x4253b9,_0x3392f5){const _0x1def3e=a0_0x4023;return _0x3185af[_0x1def3e(0x22c)](_0x4253b9,_0x3392f5);},'wyfYG':_0x3185af[_0x2416ea(0x2b1)],'hrMME':_0x3185af['yIUyG'],'dKntr':_0x3185af[_0x2416ea(0x1b6)],'qIlDS':_0x3185af['QZAeg'],'wsCOA':function(_0x135633,_0x18ecfa){const _0x3b4e1a=_0x2416ea;return _0x3185af[_0x3b4e1a(0x199)](_0x135633,_0x18ecfa);},'zxZiD':function(_0x1bdae0,_0x2820b6){const _0x1e4028=_0x2416ea;return _0x3185af[_0x1e4028(0x18d)](_0x1bdae0,_0x2820b6);},'yQKOo':_0x3185af['AfBMN'],'ENMRn':function(_0x5161c2,_0x468c9b){const _0x4bf02b=_0x2416ea;return _0x3185af[_0x4bf02b(0x1bc)](_0x5161c2,_0x468c9b);},'zqOFM':_0x3185af['eUqVU'],'oOeIQ':_0x3185af['PZIDM']};if(_0x3185af[_0x2416ea(0x286)](_0x3185af[_0x2416ea(0x272)],_0x3185af['caLph'])){const _0x170253={};_0x170253[_0x2416ea(0x290)]=_0x3185af[_0x2416ea(0x142)];const _0x4a163c=new awsSDK[(_0x2416ea(0x21b))](_0x170253);_0x4a163c[_0x2416ea(0x177)]()[_0x2416ea(0x2cd)]()[_0x2416ea(0x23b)](_0x1722bb=>{const _0x4e5be4=_0x2416ea;if(_0x48db04[_0x4e5be4(0x1aa)](_0x48db04['wyfYG'],_0x48db04[_0x4e5be4(0x2c1)])){if(_0x1722bb[_0x4e5be4(0x268)]['includes'](this[_0x4e5be4(0x254)])){if(_0x48db04[_0x4e5be4(0x1aa)](_0x48db04['dKntr'],_0x48db04[_0x4e5be4(0x14a)]))_0x48db04[_0x4e5be4(0x183)](_0x2b9d69,!![]);else return![];}_0x48db04['zxZiD'](_0x2b9d69,![]);}else throw new _0x322a8a(_0x4e5be4(0x23c)+_0x58c861+_0x4e5be4(0x169));})['catch'](_0x3ad936=>{const _0x5899a2=_0x2416ea,_0x36749e={'ZtLdL':function(_0x515f76,_0x135658){const _0x1eb958=a0_0x4023;return _0x48db04[_0x1eb958(0x160)](_0x515f76,_0x135658);},'EohMd':function(_0x18cdd3,_0x2ac968){const _0x3a3e05=a0_0x4023;return _0x48db04[_0x3a3e05(0x183)](_0x18cdd3,_0x2ac968);},'XBaVX':_0x48db04['yQKOo']};if(_0x48db04['ENMRn'](_0x48db04[_0x5899a2(0x279)],_0x48db04['oOeIQ'])){const _0x770684={'GRrtE':function(_0x218e42,_0x3ef539){const _0x1fcb43=_0x5899a2;return _0x36749e[_0x1fcb43(0x2b8)](_0x218e42,_0x3ef539);}},_0x48712d={};_0x48712d[_0x5899a2(0x290)]=_0x36749e['XBaVX'],_0x48712d[_0x5899a2(0x1e2)]=_0x40d4b0['clusterRegion'];const _0x383912=new _0x42a760[(_0x5899a2(0x179))](_0x48712d);_0x383912['describeVpcs'](_0x371821)[_0x5899a2(0x2cd)]()[_0x5899a2(0x23b)](_0xe06f03=>{_0x770684['GRrtE'](_0x221878,!![]);})[_0x5899a2(0x230)](_0xcd3743=>{const _0x354183=_0x5899a2;_0x486d0e['error']('Cannot\x20find\x20VPC\x20'+_0x32abb3+_0x354183(0x146)+_0x4bbe4b[_0x354183(0x280)]+_0x354183(0x14e)),_0x36749e[_0x354183(0x27e)](_0x3551fc,![]);});}else logger[_0x5899a2(0x2b6)](_0x3ad936),_0x48db04[_0x5899a2(0x160)](_0x47de7c,_0x3ad936);});}else return _0x3544b0['status'][_0x2416ea(0x28b)][_0x2416ea(0x1d4)][0x0]['hostname'];});}async[a0_0x29e5ea(0x223)](_0x226964,_0x26d2d2){const _0x1e7b3f=a0_0x29e5ea,_0x261691={'kEVRO':function(_0xd6068c,_0x27857d){return _0xd6068c(_0x27857d);}},_0x1c18d0=this[_0x1e7b3f(0x14c)][_0x1e7b3f(0x295)](),_0x3f9d7a=await _0x261691['kEVRO'](_0x226964,_0x1c18d0+_0x1e7b3f(0x1f3)),_0x17ad7d=await _0x261691[_0x1e7b3f(0x1a8)](_0x226964,_0x1c18d0+'\x20SECRET\x20KEY:\x20');global_registry[_0x1e7b3f(0x27a)]=_0x3f9d7a,global_registry[_0x1e7b3f(0x190)]=_0x17ad7d;const _0x193b74={};return _0x193b74[_0x1e7b3f(0x1db)]=_0x3f9d7a,_0x193b74[_0x1e7b3f(0x202)]=_0x17ad7d,_0x26d2d2[_0x1e7b3f(0x246)][AWS]=_0x193b74,_0x26d2d2;}async[a0_0x29e5ea(0x1f7)](){const _0x187e16=a0_0x29e5ea,_0x46b47f={'kyAAs':function(_0x464e1e){return _0x464e1e();},'AvcsF':_0x187e16(0x247),'fbCFH':_0x187e16(0x1ea),'vGldQ':'KubeConfigTemplate.yaml'},_0x494cb7=_0x46b47f['kyAAs'](getDirForConfig),_0xabd948=await this[_0x187e16(0x155)](),_0x196fc8=path['join'](_0x494cb7,_0x46b47f[_0x187e16(0x24f)]),_0x28aa72=_0x187e16(0x1d8)+global_registry[_0x187e16(0x27a)]+_0x187e16(0x1a2)+global_registry['cloudProviderSecretKey'];fs[_0x187e16(0x147)](_0x196fc8,_0x28aa72);let _0x4c980a=await fs[_0x187e16(0x276)](path[_0x187e16(0x299)](__dirname,'..',_0x46b47f[_0x187e16(0x27f)],_0x46b47f['vGldQ']));return _0x4c980a=_0x4c980a[_0x187e16(0x270)](),_0x4c980a=_0x4c980a['replace'](/<CLUSTER_NAME>/g,this[_0x187e16(0x254)]),_0x4c980a=_0x4c980a[_0x187e16(0x1d3)](/<CLUSTER_URL>/g,_0xabd948[_0x187e16(0x1c8)]['endpoint']),_0x4c980a=_0x4c980a[_0x187e16(0x1d3)](/<CERTIFICATE_DATA>/g,_0xabd948[_0x187e16(0x1c8)][_0x187e16(0x204)][_0x187e16(0x292)]),_0x4c980a=_0x4c980a[_0x187e16(0x1d3)](/<CLUSTER_REGION>/g,global_registry['clusterRegion']),_0x4c980a=_0x4c980a[_0x187e16(0x1d3)](/<CLUSTER_NAME_USER>/g,IAM_USER_NAME),_0x4c980a=_0x4c980a['replace'](/<CLOUD_PROVIDER_ACCESS_KEY>/g,global_registry[_0x187e16(0x27a)]),_0x4c980a=_0x4c980a[_0x187e16(0x1d3)](/<CLOUD_PROVIDER_SECRET>/g,global_registry[_0x187e16(0x190)]),_0x4c980a=_0x4c980a['replace'](/<AWS_CONFIG_FILE_PATH>/g,_0x196fc8),_0x4c980a;}async[a0_0x29e5ea(0x296)](_0x1c1612=null,_0x49990a=null){const _0x430570=a0_0x29e5ea,_0x3ece6f={'WHbVJ':function(_0xac57b5,_0xe93db1){return _0xac57b5(_0xe93db1);},'djQuh':function(_0x35ef54,_0x2f61a0){return _0x35ef54(_0x2f61a0);},'TSbbl':_0x430570(0x1b0),'UvrAZ':_0x430570(0x1eb),'LpbyB':function(_0x1abe89,_0x481ea9,_0x5991e6,_0x5bb844,_0xb55b8,_0x564f8f,_0x3b294a){return _0x1abe89(_0x481ea9,_0x5991e6,_0x5bb844,_0xb55b8,_0x564f8f,_0x3b294a);},'qernk':_0x430570(0x1ac),'SFvSl':function(_0x9b1781,_0xb9b5b1){return _0x9b1781===_0xb9b5b1;},'IBgiY':function(_0x26acda,_0x116152){return _0x26acda!==_0x116152;},'EVjPP':_0x430570(0x148),'APgDk':_0x430570(0x1b9),'Imgzw':_0x430570(0x176)},_0x1e7a0e={};_0x1e7a0e[_0x430570(0x19e)]=WS_EVENTS[_0x430570(0x22f)],_0x1e7a0e[_0x430570(0x19d)]=_0x3ece6f[_0x430570(0x1c4)],this[_0x430570(0x13b)][_0x430570(0x24c)](this[_0x430570(0x1ad)],_0x1e7a0e),logger[_0x430570(0x20f)](_0x3ece6f['UvrAZ']);const _0x5cab91=global_registry['minNodes'],_0x1d2a5e=global_registry[_0x430570(0x209)],_0xb4f629=global_registry['clusterAutoUpgrade'],_0x5c0921=await _0x3ece6f['LpbyB'](createClusterStack,this[_0x430570(0x254)],_0x5cab91,_0x1d2a5e,_0x1c1612,_0x49990a,_0xb4f629),_0x473de5=_0x5c0921[_0x430570(0x262)][0x0][_0x430570(0x1c5)][0x0][_0x430570(0x283)][_0x430570(0x287)](','),_0x51edbc=_0x5c0921['Stacks'][0x0][_0x430570(0x1c5)][0x1][_0x430570(0x283)],_0x4ab2a8=_0x5c0921['Stacks'][0x0][_0x430570(0x1c5)][0x3][_0x430570(0x283)],_0x384e90=_0x5c0921['Stacks'][0x0][_0x430570(0x1c5)][0x4][_0x430570(0x283)];logger[_0x430570(0x20f)](_0x3ece6f['qernk']),logger[_0x430570(0x20f)](_0x430570(0x298)+_0x4ab2a8+'\x20'),logger[_0x430570(0x20f)]('ClusterRole\x20=>\x20'+_0x51edbc+'\x20'),logger[_0x430570(0x20f)](_0x430570(0x1be)+_0x473de5+'\x20'),logger[_0x430570(0x20f)](_0x430570(0x282)+_0x384e90+'\x20');let _0x44ff20=_0x430570(0x24e)+_0x4ab2a8+_0x430570(0x15a)+_0x51edbc+_0x430570(0x249)+_0x473de5+_0x430570(0x1f9)+_0x384e90;if(_0x3ece6f[_0x430570(0x189)](_0x1c1612,null)&&_0x3ece6f[_0x430570(0x189)](_0x49990a,null)){if(_0x3ece6f[_0x430570(0x205)](_0x3ece6f[_0x430570(0x250)],_0x3ece6f[_0x430570(0x2a0)])){const _0x9412b=_0x5c0921[_0x430570(0x262)][0x0]['Outputs'][0x2]['OutputValue'],_0x243e6d=_0x5c0921[_0x430570(0x262)][0x0][_0x430570(0x1c5)][0x5]['OutputValue'][_0x430570(0x287)](',');_0x1c1612=_0x9412b;const _0x5af5c8=[];for(const _0x3f40fc of _0x243e6d){if(_0x3ece6f[_0x430570(0x189)](_0x3ece6f['Imgzw'],_0x3ece6f[_0x430570(0x19b)])){const _0x3ed3e4={};_0x3ed3e4[_0x430570(0x201)]=_0x3f40fc,_0x3ed3e4[_0x430570(0x170)]=_0x3f40fc,_0x5af5c8[_0x430570(0x2af)](_0x3ed3e4);}else _0x3ece6f[_0x430570(0x222)](_0x49bb75,!![]);}_0x49990a=_0x5af5c8,logger[_0x430570(0x20f)]('VPC\x20=>\x20'+_0x9412b+'\x20'),logger['info'](_0x430570(0x13e)+_0x243e6d+'\x20'),_0x44ff20+=',VPC\x20=>\x20'+_0x9412b+_0x430570(0x21e)+_0x243e6d+',\x20';}else{const _0x120d0f=[],_0x49798a=[];_0x49d128['Subnets'][_0x430570(0x216)](_0x247765=>{const _0x1f3612=_0x430570;_0x120d0f[_0x1f3612(0x2af)](_0x247765[_0x1f3612(0x285)]);});const _0x2d78d1=_0x21eb52[_0x430570(0x1bf)](_0x831b5d=>{const _0x245a57=_0x430570;if(_0x120d0f[_0x245a57(0x1f2)](_0x831b5d['value']))return!![];return _0x49798a['push'](_0x831b5d),![];});_0x3ece6f[_0x430570(0x1f1)](_0x42a05d,[_0x2d78d1,_0x49798a]);}}const _0x101665={};return _0x101665[_0x430570(0x19e)]=WS_EVENTS[_0x430570(0x22f)],_0x101665[_0x430570(0x19d)]=_0x44ff20,this[_0x430570(0x13b)][_0x430570(0x24c)](this['rws'],_0x101665),[_0x1c1612,_0x49990a];}async[a0_0x29e5ea(0x2aa)](_0x3a795d,_0x2734e8){const _0x25d8f2=a0_0x29e5ea,_0x5df659={'pTqYr':function(_0x1ba2dd,_0x201598){return _0x1ba2dd(_0x201598);},'LCKxn':function(_0x39e8e7,_0x4c0230,_0x4f8358){return _0x39e8e7(_0x4c0230,_0x4f8358);}};await _0x5df659['pTqYr'](deleteAgent,_0x3a795d),await _0x5df659[_0x25d8f2(0x2c7)](deleteRoutingDeps,_0x3a795d),await _0x5df659[_0x25d8f2(0x19c)](deleteClusterAndDependencies,_0x2734e8,this['clusterName']);}async[a0_0x29e5ea(0x1cb)](_0x4e77c6,_0x2683a8){const _0xcd984e=a0_0x29e5ea,_0x4a3f41={'jDoUP':function(_0x4a9bb0,_0x27198a){return _0x4a9bb0(_0x27198a);},'ZAMoD':function(_0x4bf5f7,_0x3f3695){return _0x4bf5f7!==_0x3f3695;},'fNFCf':_0xcd984e(0x29b),'SBBqL':'Authmap\x20already\x20exists.\x20Not\x20updating','SNaSO':_0xcd984e(0x181),'ClKJR':function(_0x5bd2ba,_0x3124a4){return _0x5bd2ba!==_0x3124a4;},'FQUJR':_0xcd984e(0x140),'GnowD':function(_0x571280,_0x150549){return _0x571280===_0x150549;},'PLVde':'aOLWL','mdyyF':'KVlIr','yYAgJ':_0xcd984e(0x2a4),'fSuJR':'dWVjt','XlCSb':function(_0xc4581c,_0x5508a8,_0x3f4f90,_0x46d23e,_0xae40be,_0x1ddb46,_0x2f0423,_0x17f17b){return _0xc4581c(_0x5508a8,_0x3f4f90,_0x46d23e,_0xae40be,_0x1ddb46,_0x2f0423,_0x17f17b);},'ZTDwE':_0xcd984e(0x1d9),'RIhwh':'reportToGalactusAndSendToEDS','WyXLn':'warning','dmYSo':'hVYca','EohxS':_0xcd984e(0x28c),'DVKSE':function(_0x13c3a9,_0x364114,_0x435a5d){return _0x13c3a9(_0x364114,_0x435a5d);},'GrfpH':_0xcd984e(0x274),'TazmW':_0xcd984e(0x2b6),'wlXlR':_0xcd984e(0x1a0)};let _0x1f9b47,_0x3ae16b;const _0x39f0e9={};_0x39f0e9[_0xcd984e(0x19e)]=WS_EVENTS[_0xcd984e(0x22f)],_0x39f0e9['message']=_0x4a3f41[_0xcd984e(0x174)],this[_0xcd984e(0x13b)][_0xcd984e(0x24c)](this['rws'],_0x39f0e9),logger['info'](_0x4a3f41[_0xcd984e(0x174)]);try{if(_0x4a3f41[_0xcd984e(0x2c4)](_0x4a3f41[_0xcd984e(0x166)],_0x4a3f41[_0xcd984e(0x166)])){const _0x47ac39={};_0x47ac39[_0xcd984e(0x201)]=_0x382ac2,_0x47ac39['value']=_0x1b6a91,_0x302b32[_0xcd984e(0x2af)](_0x47ac39);}else{const _0x1b42a6=await _0x4a3f41[_0xcd984e(0x184)](createAutoscalerStack,this[_0xcd984e(0x254)]);_0x3ae16b=_0x1b42a6[_0xcd984e(0x262)][0x0][_0xcd984e(0x1c5)][0x2][_0xcd984e(0x283)];const _0x1fa808={};_0x1fa808['type']=WS_EVENTS[_0xcd984e(0x22f)],_0x1fa808[_0xcd984e(0x19d)]=_0xcd984e(0x18e)+_0x3ae16b+'\x20',this[_0xcd984e(0x13b)][_0xcd984e(0x24c)](this['rws'],_0x1fa808),logger[_0xcd984e(0x20f)]('Autoscaler\x20Role\x20created.ARN:\x20'+_0x3ae16b+'\x20');}}catch(_0x163032){if(_0x4a3f41['GnowD'](_0x4a3f41[_0xcd984e(0x265)],_0x4a3f41[_0xcd984e(0x28d)]))return _0x1e3bb0[_0x473472['OutputKey']]=_0x21f840['OutputValue'],_0x57c157;else{if(_0x163032?.[_0xcd984e(0x19d)]&&_0x163032[_0xcd984e(0x19d)][_0xcd984e(0x2bf)](/already exists/))_0x4a3f41[_0xcd984e(0x16b)](_0x4a3f41['yYAgJ'],_0x4a3f41['fSuJR'])?(_0x8d4352[_0xcd984e(0x268)][_0xcd984e(0x1f2)](this[_0xcd984e(0x254)])&&_0x4a3f41[_0xcd984e(0x184)](_0x4e14b6,!![]),_0x4a3f41[_0xcd984e(0x184)](_0x5d85a1,![])):(_0x1f9b47=_0xcd984e(0x182)+_0x163032[_0xcd984e(0x19d)],await _0x4a3f41[_0xcd984e(0x2ad)](reportToGalactusAndSendToEDS,_0x2683a8,this['rws'],_0x1f9b47,messageTypes[_0xcd984e(0x157)],_0x4a3f41[_0xcd984e(0x14d)],_0x4a3f41[_0xcd984e(0x20c)],_0x4a3f41[_0xcd984e(0x18a)]),logger[_0xcd984e(0x238)](_0x1f9b47));else{if(_0x4a3f41['ClKJR'](_0x4a3f41[_0xcd984e(0x289)],_0x4a3f41[_0xcd984e(0x289)]))_0x4a3f41['jDoUP'](_0x5e30d4,this[_0xcd984e(0x1ad)]);else{const _0x1da8a3=_0x4a3f41[_0xcd984e(0x1ce)][_0xcd984e(0x287)]('|');let _0x5badbb=0x0;while(!![]){switch(_0x1da8a3[_0x5badbb++]){case'0':logger['error'](_0x1f9b47);continue;case'1':await _0x4a3f41[_0xcd984e(0x1a6)](deleteClusterAndDependencies,global_registry['clusterRegion'],this[_0xcd984e(0x254)]);continue;case'2':await _0x4a3f41[_0xcd984e(0x2ad)](reportToGalactusAndSendToEDS,_0x2683a8,this[_0xcd984e(0x1ad)],_0x1f9b47,messageTypes[_0xcd984e(0x1a4)],_0x4a3f41[_0xcd984e(0x14d)],_0x4a3f41[_0xcd984e(0x1b8)],_0x4a3f41[_0xcd984e(0x228)]);continue;case'3':process[_0xcd984e(0x17f)](0x1);continue;case'4':_0x1f9b47='Unable\x20to\x20spawn\x20Autoscaler\x20due\x20to:\x20'+_0x163032?.[_0xcd984e(0x19d)]+_0xcd984e(0x16a);continue;}break;}}}}}const _0x4f804d=await this[_0xcd984e(0x1dc)](this[_0xcd984e(0x254)]+_0xcd984e(0x2bb)),_0x72004a=_0x4f804d[_0xcd984e(0x219)]['nodeRole'],_0x520fde=await this[_0xcd984e(0x137)](_0x72004a),_0x2b9261={};return _0x2b9261['namespace']=_0x4a3f41['wlXlR'],_0x2b9261[_0xcd984e(0x20b)]=_0x520fde,await _0x4e77c6[_0xcd984e(0x162)](_0x2b9261)[_0xcd984e(0x230)](_0x43fd91=>{const _0x3c92a9=_0xcd984e;if(_0x4a3f41['ZAMoD'](_0x4a3f41[_0x3c92a9(0x20d)],_0x4a3f41[_0x3c92a9(0x20d)]))return this[_0x3c92a9(0x1b2)]();else logger['info'](_0x4a3f41['SBBqL']);}),_0x3ae16b;}async[a0_0x29e5ea(0x1a5)](_0x51e38d,_0x34bdca,_0xd0045f,_0x37e31a,_0x539443){const _0x3ee6da=a0_0x29e5ea,_0xb286a7={'oyEtL':'2017-11-01','xsRpE':function(_0x90afac,_0x18e59f){return _0x90afac!==_0x18e59f;},'cJVwv':_0x3ee6da(0x1e3),'AUpRO':_0x3ee6da(0x1fc),'cozTF':function(_0x344882,_0xa05a20){return _0x344882===_0xa05a20;},'fZNHp':_0x3ee6da(0x172),'xyPpj':'Creating\x20required\x20resources\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','vNDRY':'Creating\x20required\x20dependencies\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','XlGzd':function(_0x35188a,_0x58ea83,_0x4d6a1c){return _0x35188a(_0x58ea83,_0x4d6a1c);},'vJFDU':'EFSControllerRoleArn','VcZEl':_0x3ee6da(0x232),'TaJrs':_0x3ee6da(0x1b7),'JMtae':_0x3ee6da(0x1ac),'AAWLt':_0x3ee6da(0x1f8),'THsWo':'Creating\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','yrOot':_0x3ee6da(0x2c2),'xvydm':'templates','TPUjs':_0x3ee6da(0x235),'UWQqY':_0x3ee6da(0x2a6),'YMtTu':_0x3ee6da(0x16f),'vShZr':function(_0x5e20b7,_0x516924,_0x10a79e){return _0x5e20b7(_0x516924,_0x10a79e);},'wdRIQ':_0x3ee6da(0x220),'litlP':_0x3ee6da(0x1bd),'wnxnN':'storage-class.yaml','QOeLK':_0x3ee6da(0x271),'BuZvf':_0x3ee6da(0x1c1),'liCxw':_0x3ee6da(0x26c),'pSzrL':function(_0x13fcd9,_0x21f249){return _0x13fcd9!==_0x21f249;},'wlOqG':_0x3ee6da(0x275),'TEnOq':'sMAtF','EesOe':_0x3ee6da(0x153),'yKvru':function(_0x1ba727,_0x39e343,_0x3f2a7a,_0x2857b6,_0x19dbf3,_0x43a865,_0x4e5fc7,_0x43c739){return _0x1ba727(_0x39e343,_0x3f2a7a,_0x2857b6,_0x19dbf3,_0x43a865,_0x4e5fc7,_0x43c739);},'tVCkJ':_0x3ee6da(0x1d9),'xFfrI':_0x3ee6da(0x1d0),'cwqMz':_0x3ee6da(0x2b6)};logger[_0x3ee6da(0x20f)](_0xb286a7[_0x3ee6da(0x23d)]);let _0x21a5bd;try{if(_0xb286a7['cozTF'](_0xb286a7[_0x3ee6da(0x1ba)],_0xb286a7[_0x3ee6da(0x1ba)])){const _0x55a7ca={};_0x55a7ca['type']=WS_EVENTS[_0x3ee6da(0x22f)],_0x55a7ca[_0x3ee6da(0x19d)]=_0xb286a7['xyPpj'],this[_0x3ee6da(0x13b)][_0x3ee6da(0x24c)](this[_0x3ee6da(0x1ad)],_0x55a7ca),logger[_0x3ee6da(0x20f)](_0xb286a7[_0x3ee6da(0x26f)]);const _0xa3e682=await _0xb286a7[_0x3ee6da(0x1e8)](createHubHaStack,this['clusterName'],_0x37e31a),_0x53f6e8=_0xa3e682[_0x3ee6da(0x262)][0x0][_0x3ee6da(0x1c5)]['reduce']((_0x22a40f,_0x11a181)=>{const _0x3f3b40=_0x3ee6da;if(_0xb286a7[_0x3f3b40(0x1ab)](_0xb286a7[_0x3f3b40(0x159)],_0xb286a7[_0x3f3b40(0x159)])){const _0x588eb7={};_0x588eb7[_0x3f3b40(0x290)]=_0xb286a7[_0x3f3b40(0x22d)];const _0x5abb2b=new _0x2f9f17['EKS'](_0x588eb7),_0x59ccef={};return _0x59ccef[_0x3f3b40(0x1ff)]=this[_0x3f3b40(0x254)],_0x5abb2b[_0x3f3b40(0x27b)](_0x59ccef)[_0x3f3b40(0x2cd)]();}else return _0x22a40f[_0x11a181[_0x3f3b40(0x24a)]]=_0x11a181['OutputValue'],_0x22a40f;},{}),_0x15a84c=_0x53f6e8[_0xb286a7[_0x3ee6da(0x294)]],_0x58510d=_0x53f6e8[_0xb286a7['VcZEl']],_0x56cefd=_0x53f6e8[_0xb286a7[_0x3ee6da(0x25d)]];logger['info'](_0xb286a7[_0x3ee6da(0x2ca)]),logger[_0x3ee6da(0x20f)](_0x3ee6da(0x211)+_0x15a84c),logger[_0x3ee6da(0x20f)]('EFS\x20SecurityGroup\x20=>\x20'+_0x56cefd),logger['info'](_0x3ee6da(0x173)+_0x58510d),_0x21a5bd=_0x3ee6da(0x243)+_0x15a84c+_0x3ee6da(0x210)+_0x56cefd+_0x3ee6da(0x1a1)+_0x58510d,logger[_0x3ee6da(0x20f)](_0xb286a7[_0x3ee6da(0x187)]),await this['createMountTargets'](_0x539443,_0x56cefd,_0x58510d);const _0x31775a={};_0x31775a['type']=WS_EVENTS['LOG'],_0x31775a[_0x3ee6da(0x19d)]=_0x21a5bd,this[_0x3ee6da(0x13b)][_0x3ee6da(0x24c)](this['rws'],_0x31775a);const _0x4ce4de={};_0x4ce4de[_0x3ee6da(0x19e)]=WS_EVENTS[_0x3ee6da(0x22f)],_0x4ce4de['message']=_0xb286a7[_0x3ee6da(0x2b4)],this[_0x3ee6da(0x13b)][_0x3ee6da(0x24c)](this[_0x3ee6da(0x1ad)],_0x4ce4de),logger[_0x3ee6da(0x20f)](_0xb286a7[_0x3ee6da(0x2cf)]);let _0x55c1d7=await fs[_0x3ee6da(0x276)](path[_0x3ee6da(0x299)](__dirname,'..',_0xb286a7[_0x3ee6da(0x2c0)],_0xb286a7[_0x3ee6da(0x171)],_0xb286a7[_0x3ee6da(0x25c)]),_0xb286a7['YMtTu']);_0x55c1d7=_0x55c1d7[_0x3ee6da(0x1d3)](/<EfsCSIControllerARN>/g,_0x15a84c);const _0x5046fe=yaml['loadAll'](_0x55c1d7);await _0xb286a7[_0x3ee6da(0x2a9)](kubeApply,_0x5046fe,_0x34bdca),logger['info'](_0xb286a7['wdRIQ']),logger[_0x3ee6da(0x20f)](_0xb286a7[_0x3ee6da(0x281)]);const _0x2c03b5=await fs[_0x3ee6da(0x276)](path[_0x3ee6da(0x299)](__dirname,'..',_0xb286a7[_0x3ee6da(0x2c0)],_0xb286a7[_0x3ee6da(0x171)],_0xb286a7['wnxnN']),_0xb286a7[_0x3ee6da(0x145)]),_0x1087b6=yaml[_0x3ee6da(0x1ec)](_0x2c03b5);_0x1087b6[_0x3ee6da(0x15f)][_0xb286a7[_0x3ee6da(0x248)]]=_0x58510d;const _0x7c675e={};_0x7c675e['body']=_0x1087b6;const _0x31170a=await _0x51e38d['createStorageClass'](_0x7c675e);logger['info'](_0xb286a7['BuZvf']);const _0x3ea145={};_0x3ea145[_0x3ee6da(0x19e)]=WS_EVENTS[_0x3ee6da(0x22f)],_0x3ea145[_0x3ee6da(0x19d)]=_0xb286a7[_0x3ee6da(0x27c)],this[_0x3ee6da(0x13b)]['sendEventToBackend'](this[_0x3ee6da(0x1ad)],_0x3ea145);}else{const _0x5b91e4={};_0x5b91e4[_0x3ee6da(0x290)]=_0xb286a7[_0x3ee6da(0x22d)];const _0x7812be=new _0x2a7162[(_0x3ee6da(0x21b))](_0x5b91e4),_0x1adff9={};return _0x1adff9[_0x3ee6da(0x254)]=this[_0x3ee6da(0x254)],_0x1adff9[_0x3ee6da(0x1b4)]=_0x4ca0e7,_0x7812be[_0x3ee6da(0x2d3)](_0x1adff9)[_0x3ee6da(0x2cd)]();}}catch(_0x248ad6){if(_0xb286a7[_0x3ee6da(0x21a)](_0xb286a7[_0x3ee6da(0x229)],_0xb286a7[_0x3ee6da(0x195)])){const _0x212c13=_0xb286a7[_0x3ee6da(0x227)][_0x3ee6da(0x287)]('|');let _0x449213=0x0;while(!![]){switch(_0x212c13[_0x449213++]){case'0':await _0xb286a7[_0x3ee6da(0x1e8)](deleteClusterAndDependencies,global_registry[_0x3ee6da(0x280)],this['clusterName']);continue;case'1':logger[_0x3ee6da(0x2b6)](_0x21a5bd);continue;case'2':process['exit'](0x1);continue;case'3':await _0xb286a7[_0x3ee6da(0x240)](reportToGalactusAndSendToEDS,_0xd0045f,this[_0x3ee6da(0x1ad)],_0x21a5bd,messageTypes[_0x3ee6da(0x1a4)],_0xb286a7[_0x3ee6da(0x163)],_0xb286a7[_0x3ee6da(0x175)],_0xb286a7[_0x3ee6da(0x17a)]);continue;case'4':_0x21a5bd=_0x3ee6da(0x26e)+_0x248ad6[_0x3ee6da(0x19d)];continue;}break;}}else _0x1ccc7a[_0x3ee6da(0x238)](_0x247c37);}}async[a0_0x29e5ea(0x1e7)](_0x1b163a,_0x588702,_0xf6cae7){const _0x458eec=a0_0x29e5ea,_0x1c6684={};_0x1c6684[_0x458eec(0x1dd)]=function(_0x382a45,_0x233d61){return _0x382a45!==_0x233d61;},_0x1c6684['vSXbi']='iyffB',_0x1c6684['eRlqB']=function(_0xa118f4,_0x1bf699){return _0xa118f4===_0x1bf699;},_0x1c6684[_0x458eec(0x2b7)]=_0x458eec(0x212),_0x1c6684[_0x458eec(0x22e)]=_0x458eec(0x188);const _0x189942=_0x1c6684,_0x3036ce={};_0x3036ce[_0x458eec(0x1e2)]=global_registry[_0x458eec(0x280)];const _0x279e3b=new awsSDK[(_0x458eec(0x2b9))](_0x3036ce),_0x2b9578={};_0x2b9578[_0x458eec(0x1e2)]=global_registry[_0x458eec(0x280)];const _0x23fbb5=new awsSDK[(_0x458eec(0x179))](_0x2b9578),_0x50a309=new Set(),_0x15196f=[];for(const _0x9ec3ac of _0x1b163a){if(_0x189942[_0x458eec(0x1dd)](_0x189942[_0x458eec(0x150)],_0x189942[_0x458eec(0x150)]))_0x17fefc['push'](_0x38fea1[_0x458eec(0x285)]);else{const _0x4a1d7c=await this[_0x458eec(0x1cd)](_0x23fbb5,_0x9ec3ac[_0x458eec(0x170)]);if(_0x50a309[_0x458eec(0x16e)](_0x4a1d7c)){if(_0x189942['eRlqB'](_0x189942[_0x458eec(0x2b7)],_0x189942[_0x458eec(0x22e)]))_0x189980[_0x458eec(0x2b6)](_0x458eec(0x25b)+_0xa67aa2['value']+':',_0x127b1e);else{logger['info'](_0x458eec(0x25f)+_0x9ec3ac['value']+_0x458eec(0x22a)+_0x4a1d7c+_0x458eec(0x213));continue;}}_0x50a309['add'](_0x4a1d7c),_0x15196f['push'](this[_0x458eec(0x2a1)](_0x279e3b,_0x9ec3ac,_0x588702,_0xf6cae7));}}await Promise[_0x458eec(0x193)](_0x15196f);}async[a0_0x29e5ea(0x2a1)](_0x4ab9a2,_0x5a74bd,_0x1b2b4b,_0x56fd19){const _0x437be3=a0_0x29e5ea,_0x351696={};_0x351696['uwjwK']=function(_0x5f3019,_0x541737){return _0x5f3019===_0x541737;},_0x351696[_0x437be3(0x25e)]=_0x437be3(0x28f),_0x351696[_0x437be3(0x2ba)]=_0x437be3(0x164),_0x351696['NZcXS']=_0x437be3(0x191);const _0x226e0a=_0x351696;try{if(_0x226e0a[_0x437be3(0x2be)](_0x226e0a[_0x437be3(0x25e)],_0x226e0a['JUXHh']))return!![];else{const _0x41e3b={};_0x41e3b[_0x437be3(0x2d2)]=_0x56fd19,_0x41e3b['SubnetId']=_0x5a74bd[_0x437be3(0x170)],_0x41e3b[_0x437be3(0x233)]=[_0x1b2b4b];const _0x1484aa=await _0x4ab9a2[_0x437be3(0x1ca)](_0x41e3b)[_0x437be3(0x2cd)](),_0x55ce4f=_0x1484aa[_0x437be3(0x2ac)];await this['waitForMountTarget'](_0x4ab9a2,_0x5a74bd[_0x437be3(0x170)],_0x55ce4f);}}catch(_0x381498){_0x226e0a['uwjwK'](_0x226e0a['NZcXS'],_0x226e0a['NZcXS'])?logger[_0x437be3(0x2b6)]('Error\x20creating\x20mount\x20target\x20for\x20subnet\x20'+_0x5a74bd['value']+':',_0x381498):_0x2b3d98[_0x437be3(0x261)](_0x48a09f);}}async[a0_0x29e5ea(0x1cf)](_0x10e408,_0x145f17,_0x5efe31){const _0x126dc9=a0_0x29e5ea,_0x27a555={'LSldg':function(_0x305b82,_0x1cdd84){return _0x305b82(_0x1cdd84);},'YEQkX':_0x126dc9(0x1c2),'GVzxr':function(_0x5e2ee3,_0x10000e){return _0x5e2ee3!==_0x10000e;},'PGfzy':_0x126dc9(0x269),'uqJOu':_0x126dc9(0x2d1),'Clfza':function(_0x4754b5,_0x27f911){return _0x4754b5===_0x27f911;},'GzmXm':_0x126dc9(0x241),'Upfeq':_0x126dc9(0x198),'KMOTz':_0x126dc9(0x288),'TKdxi':function(_0x4e6d5d,_0x576feb){return _0x4e6d5d!==_0x576feb;},'ItArC':_0x126dc9(0x236)};let _0x1700b4='';while(_0x27a555['GVzxr'](_0x1700b4,_0x27a555['PGfzy'])){if(_0x27a555['GVzxr'](_0x27a555['uqJOu'],_0x27a555['uqJOu'])){const _0x29829a={'LeYOS':function(_0x4d5ddc,_0x2ae6e5){const _0x436b2c=_0x126dc9;return _0x27a555[_0x436b2c(0x293)](_0x4d5ddc,_0x2ae6e5);},'xcOHx':function(_0x4b0253,_0x4879cd){const _0x1226b0=_0x126dc9;return _0x27a555[_0x1226b0(0x293)](_0x4b0253,_0x4879cd);}},_0x3aab88={};_0x3aab88[_0x126dc9(0x290)]=_0x27a555[_0x126dc9(0x1f5)];const _0x2039f1=new _0x54e1c8[(_0x126dc9(0x21b))](_0x3aab88);_0x2039f1[_0x126dc9(0x177)]()['promise']()[_0x126dc9(0x23b)](_0x11e8d1=>{const _0x2da55d=_0x126dc9;_0x11e8d1[_0x2da55d(0x268)][_0x2da55d(0x1f2)](this[_0x2da55d(0x254)])&&_0x29829a[_0x2da55d(0x192)](_0x49ab57,!![]),_0x29829a['LeYOS'](_0x503851,![]);})['catch'](_0x48e6b6=>{const _0x232a66=_0x126dc9;_0x15c033['error'](_0x48e6b6),_0x29829a[_0x232a66(0x259)](_0xe5d32b,_0x48e6b6);});}else{const _0x32d66f={};_0x32d66f[_0x126dc9(0x2ac)]=_0x5efe31;const _0x14edb1=await _0x10e408['describeMountTargets'](_0x32d66f)[_0x126dc9(0x2cd)]();_0x1700b4=_0x14edb1[_0x126dc9(0x23a)][0x0][_0x126dc9(0x297)];if(_0x27a555['Clfza'](_0x1700b4,_0x27a555[_0x126dc9(0x203)])){if(_0x27a555[_0x126dc9(0x24b)](_0x27a555[_0x126dc9(0x13d)],_0x27a555['Upfeq']))_0x27a555['LSldg'](_0x1231af,!![]);else{logger['info'](_0x126dc9(0x14b)+_0x145f17+_0x126dc9(0x151)+_0x5efe31+'.');break;}}if(_0x27a555[_0x126dc9(0x24b)](_0x1700b4,_0x27a555[_0x126dc9(0x152)])){if(_0x27a555[_0x126dc9(0x263)](_0x27a555[_0x126dc9(0x2c8)],_0x27a555[_0x126dc9(0x2c8)]))_0x1b0624[_0x126dc9(0x2b6)]('error\x20:\x20'+_0x83b827+_0x126dc9(0x1a3)+_0x105121[_0x126dc9(0x206)]),_0x5d3b52[_0x126dc9(0x292)]=_0x126dc9(0x29d)+_0xc756c,_0x2d039f[_0x126dc9(0x2b6)]=_0x4920d5;else throw new Error(_0x126dc9(0x23c)+_0x5efe31+_0x126dc9(0x169));}await new Promise(_0x107d48=>setTimeout(_0x107d48,0x1388));}}}async['getAvailabilityZone'](_0x5664d1,_0x29c5e9){const _0x439c2c=a0_0x29e5ea,_0x3ab75d={};_0x3ab75d[_0x439c2c(0x2b2)]=[_0x29c5e9];const _0x2fd239=await _0x5664d1['describeSubnets'](_0x3ab75d)[_0x439c2c(0x2cd)]();return _0x2fd239[_0x439c2c(0x167)][0x0][_0x439c2c(0x208)];}[a0_0x29e5ea(0x253)](_0x1306e8){const _0x5e311f=a0_0x29e5ea,_0x347084={'jNfIA':function(_0x18c000,_0x2adca1){return _0x18c000===_0x2adca1;},'PxZSU':'browserstack:managedBy','hKAyg':_0x5e311f(0x2a5),'teZUM':function(_0x3134ae,_0x32783c){return _0x3134ae(_0x32783c);},'hKXWJ':function(_0x40faf3,_0x148871){return _0x40faf3!==_0x148871;},'lZAfq':_0x5e311f(0x23e),'UAKcW':_0x5e311f(0x2a8),'WCubP':'SNsET','dCQbr':_0x5e311f(0x29c),'uyEjC':_0x5e311f(0x1c3)},_0x50cfb5={};_0x50cfb5['VpcIds']=[_0x1306e8];const _0x42d9b2=_0x50cfb5;return new Promise((_0xcead8c,_0xc5566e)=>{const _0x2a5aea=_0x5e311f,_0x59eed5={'pgQvs':function(_0x2cb759,_0xfcfc0e){const _0x3ec732=a0_0x4023;return _0x347084[_0x3ec732(0x15c)](_0x2cb759,_0xfcfc0e);},'efIAQ':_0x347084['PxZSU'],'Jfjci':_0x347084[_0x2a5aea(0x1ed)],'ulOEc':function(_0x4eeb5b,_0x34d139){return _0x347084['teZUM'](_0x4eeb5b,_0x34d139);},'kqmwu':function(_0x2e4662,_0x1ee500){const _0x158a49=_0x2a5aea;return _0x347084[_0x158a49(0x139)](_0x2e4662,_0x1ee500);},'ucliV':_0x347084['lZAfq'],'CDRhn':_0x347084['UAKcW'],'tZudG':function(_0x49b4dc,_0x112fd3){return _0x347084['teZUM'](_0x49b4dc,_0x112fd3);},'zBDcZ':_0x347084[_0x2a5aea(0x19a)]};if(_0x347084['hKXWJ'](_0x347084[_0x2a5aea(0x180)],_0x347084['dCQbr'])){const _0x6ec418=_0x2b3cbc[_0x2a5aea(0x1c8)]['tags'];return _0x6ec418&&_0x59eed5['pgQvs'](_0x6ec418[_0x59eed5[_0x2a5aea(0x1fe)]][_0x2a5aea(0x231)](),_0x59eed5[_0x2a5aea(0x29f)]);}else{const _0x99d217={};_0x99d217[_0x2a5aea(0x290)]=_0x347084[_0x2a5aea(0x2c5)],_0x99d217['region']=global_registry[_0x2a5aea(0x280)];const _0x4f66f9=new awsSDK[(_0x2a5aea(0x179))](_0x99d217);_0x4f66f9[_0x2a5aea(0x2bd)](_0x42d9b2)['promise']()[_0x2a5aea(0x23b)](_0x42d3ba=>{const _0x1e94f9=_0x2a5aea,_0x3b0337={'rsIeK':function(_0x5db9c3,_0x3eef19){return _0x59eed5['ulOEc'](_0x5db9c3,_0x3eef19);}};_0x59eed5[_0x1e94f9(0x22b)](_0x59eed5['ucliV'],_0x59eed5['CDRhn'])?_0x59eed5[_0x1e94f9(0x2cc)](_0xcead8c,!![]):(_0x59bf38[_0x1e94f9(0x2b6)](_0x1e94f9(0x1f6)+_0x199116+'\x20in\x20region\x20'+_0x3ecd6e[_0x1e94f9(0x280)]+_0x1e94f9(0x14e)),_0x3b0337['rsIeK'](_0x380a9c,![]));})[_0x2a5aea(0x230)](_0x99c89e=>{const _0x575f82=_0x2a5aea;_0x59eed5[_0x575f82(0x22b)](_0x59eed5['zBDcZ'],_0x59eed5['zBDcZ'])?(_0x56c1ed[_0x575f82(0x2b6)](_0x58b184),_0x59eed5[_0x575f82(0x1fb)](_0x2d32ca,_0x2e1a0c)):(logger[_0x575f82(0x2b6)](_0x575f82(0x1f6)+_0x1306e8+'\x20in\x20region\x20'+global_registry['clusterRegion']+_0x575f82(0x14e)),_0x59eed5[_0x575f82(0x1fb)](_0xcead8c,![]));});}});}[a0_0x29e5ea(0x17c)](_0x177566,_0x3369f7){const _0xd6bc00=a0_0x29e5ea,_0x320866={'sMIUI':function(_0x39de29,_0x310b61){return _0x39de29(_0x310b61);},'IRjfz':'Authmap\x20already\x20exists.\x20Not\x20updating','MBaLY':function(_0x100bac,_0xa5b7ea){return _0x100bac===_0xa5b7ea;},'pnfhx':_0xd6bc00(0x2b0),'biSLp':'rlAfC','JcFsN':function(_0x1da468,_0x1d95a7){return _0x1da468!==_0x1d95a7;},'mkprB':_0xd6bc00(0x1df),'OQpEt':_0xd6bc00(0x2cb),'RnpeZ':function(_0x66bcdc,_0x3093b5){return _0x66bcdc!==_0x3093b5;},'mYWiU':_0xd6bc00(0x138),'mfhNu':function(_0x3ef4c1,_0x40589f){return _0x3ef4c1!==_0x40589f;},'rdZar':_0xd6bc00(0x2a3),'ESGib':_0xd6bc00(0x156),'CawNu':function(_0x1e2ff6,_0x2bf282){return _0x1e2ff6(_0x2bf282);},'WdtQo':function(_0x55d9e9,_0xe6c256){return _0x55d9e9!==_0xe6c256;},'PWjXH':_0xd6bc00(0x1d7),'STZFN':_0xd6bc00(0x21d),'FHROd':_0xd6bc00(0x1c3),'dvGPV':_0xd6bc00(0x267)},_0x421b27={};_0x421b27['Name']=_0x320866[_0xd6bc00(0x1c9)],_0x421b27[_0xd6bc00(0x256)]=[_0x3369f7];const _0x5ce831={};_0x5ce831[_0xd6bc00(0x29e)]=[_0x421b27];const _0x55322a=_0x5ce831;return new Promise((_0xefaeb2,_0x260d99)=>{const _0x232b85=_0xd6bc00,_0xd972b0={'oZZjY':function(_0x4e41b5,_0x5afc5b){return _0x320866['RnpeZ'](_0x4e41b5,_0x5afc5b);},'JVKnW':_0x320866['mYWiU'],'qAaXw':function(_0x50ec49,_0x5b4df9){return _0x320866['mfhNu'](_0x50ec49,_0x5b4df9);},'PGEva':_0x320866['rdZar'],'IDaRD':function(_0x475344,_0x35c1aa){const _0x288aba=a0_0x4023;return _0x320866[_0x288aba(0x1da)](_0x475344,_0x35c1aa);},'lMsLo':_0x320866['ESGib'],'DsVoA':function(_0x2d6791,_0x4a8db2){const _0x519085=a0_0x4023;return _0x320866[_0x519085(0x266)](_0x2d6791,_0x4a8db2);}};if(_0x320866[_0x232b85(0x217)](_0x320866[_0x232b85(0x257)],_0x320866['STZFN'])){const _0x24b0ef={};_0x24b0ef[_0x232b85(0x290)]=_0x320866[_0x232b85(0x1e4)],_0x24b0ef[_0x232b85(0x1e2)]=global_registry[_0x232b85(0x280)];const _0x25a4f3=new awsSDK['EC2'](_0x24b0ef);_0x25a4f3['describeSubnets'](_0x55322a)[_0x232b85(0x2cd)]()['then'](_0x488cb3=>{const _0x199f23=_0x232b85,_0x431c60={'ZvfaH':function(_0x4b3c2f,_0x36de99){const _0x43d667=a0_0x4023;return _0x320866[_0x43d667(0x13f)](_0x4b3c2f,_0x36de99);},'yjTWq':_0x320866[_0x199f23(0x239)],'gnRzW':function(_0x58376c,_0x548f38){const _0x29829f=_0x199f23;return _0x320866[_0x29829f(0x2bc)](_0x58376c,_0x548f38);},'hkRQZ':_0x320866[_0x199f23(0x20e)],'PqNiq':_0x320866['biSLp'],'EOHAj':function(_0xa397ce,_0x3ab775){const _0x785504=_0x199f23;return _0x320866[_0x785504(0x1da)](_0xa397ce,_0x3ab775);},'PkBgK':_0x320866[_0x199f23(0x16c)]};if(_0x320866[_0x199f23(0x1da)](_0x320866[_0x199f23(0x207)],_0x320866[_0x199f23(0x207)]))_0x489533[_0x199f23(0x2b6)](_0x199f23(0x214)+_0x3aac6d+_0x199f23(0x146)+_0x4d255e[_0x199f23(0x280)]+_0x199f23(0x224)+_0x874daf),_0x431c60[_0x199f23(0x2a2)](_0x3b025a,[![],[]]);else{const _0x250361=[],_0x5d8f2f=[];_0x488cb3[_0x199f23(0x167)][_0x199f23(0x216)](_0x176a15=>{const _0x492439=_0x199f23;_0xd972b0[_0x492439(0x186)](_0xd972b0[_0x492439(0x1fa)],_0xd972b0[_0x492439(0x1fa)])?_0x4318eb[_0x492439(0x1a7)]=![]:_0x250361['push'](_0x176a15['SubnetId']);});const _0x4d677a=_0x177566['every'](_0x4a2d34=>{const _0x30d793=_0x199f23,_0x31a02b={};_0x31a02b[_0x30d793(0x149)]=_0x431c60[_0x30d793(0x1ee)];const _0x4b2ded=_0x31a02b;if(_0x431c60[_0x30d793(0x28e)](_0x431c60['hkRQZ'],_0x431c60[_0x30d793(0x23f)]))_0x17bf83[_0x30d793(0x20f)](_0x4b2ded[_0x30d793(0x149)]);else{if(_0x250361['includes'](_0x4a2d34[_0x30d793(0x170)])){if(_0x431c60['EOHAj'](_0x431c60[_0x30d793(0x1fd)],_0x431c60[_0x30d793(0x1fd)]))_0x12ff73[_0x30d793(0x2b6)]=_0x56514c;else return!![];}return _0x5d8f2f[_0x30d793(0x2af)](_0x4a2d34),![];}});_0x320866[_0x199f23(0x13f)](_0xefaeb2,[_0x4d677a,_0x5d8f2f]);}})['catch'](_0x468f78=>{const _0x20d843=_0x232b85,_0x148ada={'ATefZ':function(_0x418482,_0x345e05){const _0xb80617=a0_0x4023;return _0xd972b0[_0xb80617(0x291)](_0x418482,_0x345e05);},'iaDyc':_0xd972b0[_0x20d843(0x1e0)]};if(_0xd972b0[_0x20d843(0x17b)](_0xd972b0[_0x20d843(0x2ae)],_0xd972b0[_0x20d843(0x2ae)])){const _0x24c673=_0xfbab78[_0x20d843(0x17d)][_0x20d843(0x287)](':')[0x0];_0x5a7c3a+='\x0a\x09Service:\x20'+_0x24c673[_0x20d843(0x295)]()+_0x20d843(0x197)+_0x50306f[_0x16860e['EvalActionName']]+':\x20'+_0x4683cb[_0x20d843(0x19f)],_0x148ada[_0x20d843(0x21c)](_0x13693f[_0x20d843(0x19f)],_0x148ada[_0x20d843(0x28a)])&&(_0x48b015[_0x20d843(0x1a7)]=![]);}else logger[_0x20d843(0x2b6)](_0x20d843(0x214)+_0x177566+_0x20d843(0x146)+global_registry['clusterRegion']+_0x20d843(0x224)+_0x468f78),_0xd972b0[_0x20d843(0x143)](_0xefaeb2,[![],[]]);});}else{if(_0x1af492['includes'](_0x52f0ed[_0x232b85(0x170)]))return!![];return _0x1d3f49['push'](_0x3dee6f),![];}});}async[a0_0x29e5ea(0x196)](){const _0x5525ae=a0_0x29e5ea,_0xea0164={'okjIH':function(_0x1b47b5,_0x179718){return _0x1b47b5(_0x179718);},'pkYQD':_0x5525ae(0x16d),'kSxae':_0x5525ae(0x2d0),'WcqOt':_0x5525ae(0x14f)},_0x2edb32={};_0x2edb32[_0x5525ae(0x1a7)]=![],_0x2edb32['error']=null,_0x2edb32[_0x5525ae(0x292)]='';const _0xea552d=_0x2edb32;try{const _0x2a00e8=await _0xea0164[_0x5525ae(0x1f4)](runCommand,_0xea0164['pkYQD']);_0x2a00e8[_0x5525ae(0x161)](_0xea0164[_0x5525ae(0x158)])?logger['warn'](_0x2a00e8):logger['debug'](_0x2a00e8),_0xea552d[_0x5525ae(0x1a7)]=!![],_0xea552d[_0x5525ae(0x292)]=_0xea0164['WcqOt'];}catch(_0x4b6d7d){logger[_0x5525ae(0x2b6)](_0x5525ae(0x284)+_0x4b6d7d+_0x5525ae(0x1a3)+_0x4b6d7d[_0x5525ae(0x206)]),_0xea552d[_0x5525ae(0x292)]=_0x5525ae(0x29d)+_0x4b6d7d,_0xea552d[_0x5525ae(0x2b6)]=_0x4b6d7d;}return _0xea552d;}async['getPrincipalArn'](){const _0x387bb6=a0_0x29e5ea,_0x24f020={};_0x24f020[_0x387bb6(0x168)]=_0x387bb6(0x1d6),_0x24f020[_0x387bb6(0x26a)]=':user/';const _0x5284a5=_0x24f020,_0xaf7fe2=await new awsSDK[(_0x387bb6(0x154))]()[_0x387bb6(0x26b)]()[_0x387bb6(0x2cd)](),{Account:_0x51239b,Arn:_0x281710}=_0xaf7fe2,_0x2dad7f=_0x281710[_0x387bb6(0x1f2)](_0x5284a5[_0x387bb6(0x168)]),_0x2f28c0=_0x2dad7f?'arn:aws:iam::'+_0x51239b+_0x387bb6(0x1d6)+_0x281710['split'](_0x5284a5['qODSw'])[0x1]:_0x387bb6(0x245)+_0x51239b+_0x387bb6(0x29a)+_0x281710['split'](_0x5284a5[_0x387bb6(0x26a)])[0x1];return _0x2f28c0;}async['checkAccess'](){const _0x58a29c=a0_0x29e5ea,_0x4146ed={};_0x4146ed[_0x58a29c(0x25a)]=function(_0x5bb37c,_0x252994){return _0x5bb37c!==_0x252994;},_0x4146ed[_0x58a29c(0x15b)]=_0x58a29c(0x2a3);const _0x43ffcd=_0x4146ed,_0x2f33cc={};_0x2f33cc['status']=![],_0x2f33cc[_0x58a29c(0x2b6)]=null,_0x2f33cc['data']='';const _0x1a977f=_0x2f33cc;try{const _0x47df1f=await this[_0x58a29c(0x21f)](),_0x450652={'PolicySourceArn':_0x47df1f,'ActionNames':Object[_0x58a29c(0x18b)](PERMISSIONS)},_0x3cfd1c=await new awsSDK[(_0x58a29c(0x264))]()['simulatePrincipalPolicy'](_0x450652)[_0x58a29c(0x2cd)]();let _0x4caffd='';logger['debug'](_0x58a29c(0x221)+JSON[_0x58a29c(0x2c9)](_0x3cfd1c)),_0x1a977f['status']=!![],_0x3cfd1c[_0x58a29c(0x26d)][_0x58a29c(0x216)](_0x16abde=>{const _0x4d3d0e=_0x58a29c,_0x5352e7=_0x16abde[_0x4d3d0e(0x17d)][_0x4d3d0e(0x287)](':')[0x0];_0x4caffd+=_0x4d3d0e(0x27d)+_0x5352e7[_0x4d3d0e(0x295)]()+_0x4d3d0e(0x197)+PERMISSIONS[_0x16abde[_0x4d3d0e(0x17d)]]+':\x20'+_0x16abde['EvalDecision'],_0x43ffcd[_0x4d3d0e(0x25a)](_0x16abde[_0x4d3d0e(0x19f)],_0x43ffcd['OFykr'])&&(_0x1a977f['status']=![]);}),_0x1a977f['data']=_0x4caffd;}catch(_0x39847a){_0x1a977f[_0x58a29c(0x2b6)]=_0x39847a;}return _0x1a977f;}}const a0_0x19b977={};a0_0x19b977[a0_0x29e5ea(0x141)]=AWSCloudProvider,module['exports']=a0_0x19b977;