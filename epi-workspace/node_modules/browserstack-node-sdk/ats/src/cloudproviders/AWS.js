const a0_0x28a5f9=a0_0x40aa;(function(_0x4b51df,_0x45d8f2){const _0x14eaba=a0_0x40aa,_0x55b2d2=_0x4b51df();while(!![]){try{const _0x3af4dc=-parseInt(_0x14eaba(0x31a))/0x1+-parseInt(_0x14eaba(0x25f))/0x2+parseInt(_0x14eaba(0x2ac))/0x3+-parseInt(_0x14eaba(0x2c2))/0x4+-parseInt(_0x14eaba(0x1b6))/0x5+-parseInt(_0x14eaba(0x280))/0x6*(-parseInt(_0x14eaba(0x1c4))/0x7)+parseInt(_0x14eaba(0x226))/0x8;if(_0x3af4dc===_0x45d8f2)break;else _0x55b2d2['push'](_0x55b2d2['shift']());}catch(_0x34fc53){_0x55b2d2['push'](_0x55b2d2['shift']());}}}(a0_0x10f5,0x4a907));function a0_0x40aa(_0x106086,_0x22f33c){const _0x10f5cf=a0_0x10f5();return a0_0x40aa=function(_0x40aa6c,_0x57d3da){_0x40aa6c=_0x40aa6c-0x186;let _0x3ef088=_0x10f5cf[_0x40aa6c];return _0x3ef088;},a0_0x40aa(_0x106086,_0x22f33c);}const fs=require('fs'),path=require(a0_0x28a5f9(0x1eb)),yaml=require(a0_0x28a5f9(0x1a3)),awsSDK=require(a0_0x28a5f9(0x1fe)),{logger}=require('../config/logger'),{CloudProvider}=require(a0_0x28a5f9(0x196)),{sendAWSInfoToHST}=require(a0_0x28a5f9(0x30a)),{createClusterStack}=require(a0_0x28a5f9(0x27c)),{createHubHaStack}=require('../utils/createHubHaStack'),{deleteClusterAndDependencies,deleteRoutingDeps,deleteAgent}=require('../utils/gridComponents'),{createAutoscalerStack}=require(a0_0x28a5f9(0x257)),{getDirForConfig,reportToGalactusAndSendToEDS,kubeApply,runCommand}=require('../utils/utilityMethods'),{IAM_USER_NAME,AWS,WS_EVENTS,global_registry,messageTypes}=require(a0_0x28a5f9(0x22e)),PERMISSIONS=require(a0_0x28a5f9(0x1c0));function a0_0x10f5(){const _0x54f9ca=['ClusterRole\x20=>\x20','Subnets','oEpLT','status','error','Cannot\x20find\x20VPC\x20','waitForMountTarget','GjRUq','utf-8','jwwCm','AWSCloudProvider','createMountTargets','cHloj','aYfVp','owysr','Cluster\x20=>\x20','wjOII','Creating\x20required\x20dependencies\x20-\x20EKS\x20Role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups\x20and\x20Cluster\x20and\x20Node\x20Group(s)','pbdXs','Intercepted','then',',VPC\x20=>\x20','NtFkX','zKwes','nwwrU','HOtqt','Mount\x20target\x20created\x20for\x20subnet:\x20','0|3|2|4|1','Adding\x20EFS\x20CSI\x20Driver','4|1|2|0|3','\x20has\x20already\x20been\x20used.','btDck','UlEQk','egOQt','Following\x20resources\x20are\x20created\x20for\x20Hub\x20HA:\x20EFS_ControllerRoleArn\x20=>\x20','uAQnY','JbdtN','EFSControllerRoleArn','Autoscaler\x20Role\x20created.ARN:\x20','zPYKx','93282sLludY','eybaQ','CnSQX','parameters','describeMountTargets','toLowerCase','zgFbv','sJBIy',',\x20SecurityGroups\x20=>\x20','lfxYo','wjxzB','cvkvg','VzMhe','Skipping\x20subnet\x20','rpibM','arn:aws:iam::','Setting\x20up\x20Hub\x20HA','eWmzI','exit','gcxNn','aws-iam-authenticator\x20tool\x20is\x20installed','MRojL','513988mvVumQ','all','bPOam','setupHubHa','Ovhcb','eHcqj','gDNCR','vpc-id','GLsOg','storage-class.yaml','ARqjt','Skipping\x20Autoscaler\x20due\x20to:\x20','\x20|\x20Action\x20:\x20','irblc','aws-iam-authenticator\x20help','BgGay','info','tags','zlEua','UcMxU','apiVersion','aws_credentials','hostname','getCallerIdentity','createNamespacedConfigMap','name','vtNix','sSCdz','jIDyh','cPYZb','Please\x20install\x20aws-iam-authenticator\x20tool.\x20Error\x20:\x20','setupAutoscaler','nDrvh','OjbhF','efs-csi-driver-aws.yaml','EFS\x20FileSystem\x20=>\x20','WEEop','Following\x20resources\x20are\x20created:','isVPCPresent','WbJSU','ZwHQN','describeSubnets','Stacks','EFS','fQFCw','type','qxhcq','fEifx','checkAccess','LkJoF','onmww','createAuthConfigMap','cloudProvider','xeaxH','EgEWY','cloudProviderSecretKey','OutputKey','wUYZe','TZHED','startsWith','hkZwB','nVrWF','jOhhj','\x20in\x20region\x20','update','MgROx','upEFa','qFHXd','\x20:\x20','BoLUv','vIfhW','KgJty','../utils/hstUtils','LVTCq','ToPnQ','QxTaj','clusters','Mount\x20target\x20','error\x20:\x20','tunAz','includes','AwAkF','zjdOj','Error\x20creating\x20mount\x20target\x20for\x20subnet\x20','DoLDd','createMountTargetAndWait','nodegroupName','IVqLR','60053hIpmpD','WjnmM','Values','QtIMX','tTkPB','MountTargetId','SecurityGroups','CIqey','JCigS','message','.\x20Deleting\x20all\x20the\x20stacks','VoYkO',',\x20EFS_SecurityGroup\x20=>\x20','Creating\x20required\x20dependencies\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','isClusterPresent','Name','ODnjw','describeVpcs','qDCfW','\x20failed\x20to\x20reach\x20the\x20available\x20state.','UJZGJ','body','FileSystemId','DNrtA','Adding\x20storage\x20class...','FuYdP','\x20because\x20its\x20Availability\x20Zone\x20','\x0a\x09Service:\x20','.\x20Error:\x20','iBaPI','./CloudProvider','djZAk','KnePC','ZIFcD','NFvtS','rws','MQPtn','oVUzW','aws-auth-cm.yaml','getPrincipalArn','aDaJs','QENVs','debug','js-yaml','xkgQk','wAXnP','EFS\x20SecurityGroup\x20=>\x20','cEsER','VFWex','WisZb','checkClusterCreated','value','-NodeGroup','init','EFSFileSystemId','RrRsd','fileSystemId','writeFileSync','XLTic','.\x20Please\x20Check\x20and\x20try\x20again','vrtQj','gyaGu','2840085rYeBQM','ihHCr','Filters','getKubeConfigData','cdAOt','rfnKR','clusterRegion','JPybz','available','hub-ha-aws-setup-failed','../permissions/AWS.json','getGridHostname','ONNJt','HFxuN','1340297kFwHrh','RjKek','promise','Creating\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','label','nqOOG','QOJHD','nvElh','SecurityGroups\x20=>\x20','failed','GzdHu','HrmhT','deleteCluster','LOG','EvaluationResults','pznpc','XirdI','GZtSw','has','load','lRsfi','setCachedCredsInRegistry','AwZCB','oaZRc','Created\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','rocmW','join','loadAll','Following\x20resources\x20are\x20created:\x20Cluster\x20=>\x20','FKgEK','dNKAy','getClusterInfo','xJDCS','EvalActionName','every','NZDSv','kube-system',',\x20EFS_FileSystem\x20=>\x20','hgDqo','path','xMVTV','pOqvd','accessKey','LifeCycleState',',\x20Subnets\x20=>\x20','obCpz','QyWvR','ASHtn','NfuGb','mazdz','TLDuI','create-grid-called','IGEZv','Dstjm','exports','oTNrg','Mounting\x20Target\x20for\x20EFS','ovBGE','aws-sdk','<ARN>','EKS',',\x20ClusterRole\x20=>\x20','\x20SECRET\x20KEY:\x20','vEcYn','\x0aaws_secret_access_key\x20=\x20','zMQxr','readFileAsync','cMYwb','QTCKq','warn','Outputs','FSkiK','pqyqi','bcdFR','Authmap\x20already\x20exists.\x20Not\x20updating','getAvailabilityZone','Subnets\x20=>\x20','Unyto','2016-11-15','stack','\x20ACCESS\x20KEY:\x20','yuTQn',':role/','KDDxk','Uwenl','browserstack','cluster','Added\x20storage\x20class.','bHxWw','dDYnU','EC2','secret','pAQgG','zIMpp','nSABz','UEQNp','gjeYY','split','9098296FTTlyn','ingress','OGiTQ','push','dMNtu','tMBBf','toString','cloudProviderAccessKey','../config/constants','usGOk','PCUeV','cloudProviderName','HmQDS','WpzBp','HeGhP','data','RhiNq','tUPyF','isCliToolInstalled','EAzZG','yrOko','Ppxiv','TfZCi','WukrG','accessKeyId','IyVuN','keys','hpJKT','SubnetId','ugVFd','lQmmR','JNfYK','clusterName','vhIFr','toUpperCase','AMfRD','EQUDC','qBXnx','listClusters','clusterAutoUpgrade','VpcIds','loadBalancer','2017-11-01','templates','browserstack:managedBy','JqFbB','imuiR','MountTargets','NodeRole\x20=>\x20','../utils/createAutoscalerStack','OutputValue','IvsHz','Unable\x20to\x20spawn\x20Autoscaler\x20due\x20to:\x20','XDWxo','webSocketUtils','allowed','QafVh','978682OLKisd','vQGTj','KOtxL','Cannot\x20find\x20subnets\x20',',\x20NodeRole\x20=>\x20','simulatePrincipalPolicy','stringify','EvalDecision','OsTLt','reportToGalactusAndSendToEDS','uramO','sendResourceDataToHST','xkMPg','secretAccessKey','getNodeGroupInfo','cDjVI','describeNodegroup','forEach','bSfmw','sendEventToBackend','EYIUv','PGQwW','sueTO','SSLZi','kjZjS','endpoint','Rhrbl','replace','FFLxW','../utils/createClusterStack','bQYDR','catch','CwvKm','12zRVyPw','region','uECgU','rvgMQ'];a0_0x10f5=function(){return _0x54f9ca;};return a0_0x10f5();}class AWSCloudProvider extends CloudProvider{constructor(_0x2e0ab3,_0x33bf93,_0x3d950a,_0x59d291){super(AWS,_0x2e0ab3,_0x33bf93,_0x3d950a,_0x59d291);}async[a0_0x28a5f9(0x1ad)](){const _0xecbcaf=a0_0x28a5f9;await super[_0xecbcaf(0x1ad)]();const _0xe376ab={};return _0xe376ab[_0xecbcaf(0x281)]=global_registry[_0xecbcaf(0x1bc)],_0xe376ab[_0xecbcaf(0x23e)]=global_registry[_0xecbcaf(0x22d)],_0xe376ab[_0xecbcaf(0x26c)]=global_registry['cloudProviderSecretKey'],awsSDK['config'][_0xecbcaf(0x302)](_0xe376ab),this;}async[a0_0x28a5f9(0x26a)](){const _0x13407a=a0_0x28a5f9,_0x1c75e6={'jIDyh':function(_0x481736,_0x251b6b){return _0x481736(_0x251b6b);}};_0x1c75e6[_0x13407a(0x2de)](sendAWSInfoToHST,this[_0x13407a(0x19b)]);}async[a0_0x28a5f9(0x1d9)](_0x5eae26){const _0x39ee6c=a0_0x28a5f9;global_registry['cloudProviderAccessKey']=_0x5eae26[this['cloudProviderName']][_0x39ee6c(0x1ee)],global_registry[_0x39ee6c(0x2f9)]=_0x5eae26[this['cloudProviderName']][_0x39ee6c(0x21f)];}[a0_0x28a5f9(0x1c1)](_0x3d18c7){const _0x2dd5af=a0_0x28a5f9;return _0x3d18c7[_0x2dd5af(0x287)]['loadBalancer'][_0x2dd5af(0x227)][0x0]['hostname'];}async['isBrowserstackCluster'](){const _0x57d69f=a0_0x28a5f9,_0x5be05c={'gyaGu':function(_0x1fef1e,_0x5a6fb1){return _0x1fef1e(_0x5a6fb1);},'EYIUv':function(_0x317071,_0x102979){return _0x317071(_0x102979);},'KnePC':function(_0x57f590,_0x1e2dd0){return _0x57f590===_0x1e2dd0;},'LtENA':_0x57d69f(0x197),'zmIXW':'VNQCE','Uwenl':function(_0x4d74ab,_0xf793c8){return _0x4d74ab!==_0xf793c8;},'WukrG':_0x57d69f(0x2e3),'Dstjm':_0x57d69f(0x252),'dMNtu':_0x57d69f(0x219),'UJZGJ':_0x57d69f(0x223)};try{if(_0x5be05c[_0x57d69f(0x198)](_0x5be05c['LtENA'],_0x5be05c['zmIXW']))_0x5be05c[_0x57d69f(0x1b5)](_0x14efe3,this[_0x57d69f(0x19b)]);else{const _0x5aa251=await this[_0x57d69f(0x1e3)]();if(_0x5aa251[_0x57d69f(0x21a)]){if(_0x5be05c[_0x57d69f(0x218)](_0x5be05c[_0x57d69f(0x23d)],_0x5be05c[_0x57d69f(0x23d)]))_0x1a8f10[_0x57d69f(0x288)]=_0x335bd2;else{const _0x57fc85=_0x5aa251['cluster'][_0x57d69f(0x2d3)];return _0x57fc85&&_0x5be05c[_0x57d69f(0x198)](_0x57fc85[_0x5be05c[_0x57d69f(0x1f9)]][_0x57d69f(0x2b1)](),_0x5be05c[_0x57d69f(0x22a)]);}}}}catch(_0x244982){if(_0x5be05c[_0x57d69f(0x198)](_0x5be05c['UJZGJ'],_0x5be05c[_0x57d69f(0x18c)]))return![];else{const _0x120282=[],_0x8fdce0=[];_0x147a20[_0x57d69f(0x285)][_0x57d69f(0x270)](_0x3bafd5=>{const _0x52902f=_0x57d69f;_0x120282[_0x52902f(0x229)](_0x3bafd5['SubnetId']);});const _0x39aacd=_0x16bf7e[_0x57d69f(0x1e6)](_0x3f6742=>{const _0xe2a1b2=_0x57d69f;if(_0x120282[_0xe2a1b2(0x312)](_0x3f6742['value']))return!![];return _0x8fdce0['push'](_0x3f6742),![];});_0x5be05c[_0x57d69f(0x273)](_0xde922d,[_0x39aacd,_0x8fdce0]);}}return![];}async[a0_0x28a5f9(0x186)](){const _0x307754=a0_0x28a5f9;return this[_0x307754(0x1aa)]();}async[a0_0x28a5f9(0x1e3)](){const _0x364cf7=a0_0x28a5f9,_0x3bbb50={};_0x3bbb50[_0x364cf7(0x1a1)]=_0x364cf7(0x250);const _0x1376ec=_0x3bbb50,_0x3c12ca={};_0x3c12ca['apiVersion']=_0x1376ec[_0x364cf7(0x1a1)];const _0x4d95d1=new awsSDK[(_0x364cf7(0x200))](_0x3c12ca),_0x260fe5={};return _0x260fe5['name']=this[_0x364cf7(0x246)],_0x4d95d1['describeCluster'](_0x260fe5)['promise']();}async[a0_0x28a5f9(0x2f5)](_0x21dae0){const _0x17b0b4=a0_0x28a5f9,_0x4bc68c={};_0x4bc68c[_0x17b0b4(0x23c)]=_0x17b0b4(0x251),_0x4bc68c['sJBIy']=_0x17b0b4(0x19e),_0x4bc68c[_0x17b0b4(0x31d)]=_0x17b0b4(0x28c),_0x4bc68c[_0x17b0b4(0x305)]=_0x17b0b4(0x1ff);const _0x50c2f9=_0x4bc68c,_0x1aa3ac=await fs[_0x17b0b4(0x206)](path[_0x17b0b4(0x1de)](__dirname,'..',_0x50c2f9[_0x17b0b4(0x23c)],_0x50c2f9[_0x17b0b4(0x2b3)]),_0x50c2f9['QtIMX']),_0x43708a=yaml[_0x17b0b4(0x1d7)](_0x1aa3ac);return _0x43708a[_0x17b0b4(0x235)]['mapRoles']=_0x43708a[_0x17b0b4(0x235)]['mapRoles']['replace'](_0x50c2f9[_0x17b0b4(0x305)],_0x21dae0),_0x43708a;}async['getNodeGroupInfo'](_0x4f51aa){const _0x1d1875=a0_0x28a5f9,_0x509154={};_0x509154[_0x1d1875(0x27b)]=_0x1d1875(0x250);const _0x3eb53a=_0x509154,_0x1331c0={};_0x1331c0[_0x1d1875(0x2d6)]=_0x3eb53a[_0x1d1875(0x27b)];const _0xdc7141=new awsSDK[(_0x1d1875(0x200))](_0x1331c0),_0x10926b={};return _0x10926b[_0x1d1875(0x246)]=this[_0x1d1875(0x246)],_0x10926b[_0x1d1875(0x318)]=_0x4f51aa,_0xdc7141[_0x1d1875(0x26f)](_0x10926b)[_0x1d1875(0x1c6)]();}async[a0_0x28a5f9(0x1aa)](){const _0x4a4821=a0_0x28a5f9,_0x6d8ac4={'nvElh':function(_0x10a9af,_0xc9873d){return _0x10a9af(_0xc9873d);},'xknpj':function(_0x28ea6c,_0x2190c0){return _0x28ea6c===_0x2190c0;},'uAQnY':_0x4a4821(0x275),'nDrvh':_0x4a4821(0x20e),'imuiR':function(_0x160c42,_0x14d7fd){return _0x160c42(_0x14d7fd);},'agdFh':function(_0x49239d,_0x36bbce){return _0x49239d(_0x36bbce);},'FKgEK':_0x4a4821(0x250),'FuYdP':function(_0x18d636,_0x30a0b3){return _0x18d636===_0x30a0b3;},'yrOko':'lMfTp','nSABz':_0x4a4821(0x24b),'HDVBI':_0x4a4821(0x309),'DNrtA':_0x4a4821(0x212),'dZflZ':function(_0x2d921d,_0x4b99ea){return _0x2d921d!==_0x4b99ea;},'vtNix':_0x4a4821(0x2bd),'TgJgR':_0x4a4821(0x1bb)};return new Promise((_0x5a1fe7,_0x59c4e8)=>{const _0x3e4230=_0x4a4821,_0x29a637={'nqOOG':_0x6d8ac4[_0x3e4230(0x2e2)],'sSCdz':function(_0x2332a7,_0x392925){const _0x25680d=_0x3e4230;return _0x6d8ac4[_0x25680d(0x254)](_0x2332a7,_0x392925);},'LVTCq':function(_0x50f1ab,_0x4cb1fc){return _0x6d8ac4['agdFh'](_0x50f1ab,_0x4cb1fc);},'KOtxL':_0x6d8ac4[_0x3e4230(0x1e1)],'ZIFcD':function(_0x27d1e5,_0x138b46){const _0x310bed=_0x3e4230;return _0x6d8ac4[_0x310bed(0x191)](_0x27d1e5,_0x138b46);},'pOqvd':_0x6d8ac4[_0x3e4230(0x23a)],'EAzZG':_0x6d8ac4[_0x3e4230(0x222)],'lRsfi':_0x6d8ac4['HDVBI'],'cMYwb':_0x6d8ac4[_0x3e4230(0x18f)]};if(_0x6d8ac4['dZflZ'](_0x6d8ac4[_0x3e4230(0x2dc)],_0x6d8ac4['TgJgR'])){const _0x1e85ef={};_0x1e85ef['apiVersion']=_0x6d8ac4['FKgEK'];const _0xa52715=new awsSDK[(_0x3e4230(0x200))](_0x1e85ef);_0xa52715[_0x3e4230(0x24c)]()[_0x3e4230(0x1c6)]()[_0x3e4230(0x298)](_0x5c8772=>{const _0x313a98=_0x3e4230,_0x9cd1fc={'HOtqt':_0x29a637[_0x313a98(0x1c9)],'VFWex':function(_0x39651c,_0x3d6c59){const _0x2ab1c7=_0x313a98;return _0x29a637[_0x2ab1c7(0x2dd)](_0x39651c,_0x3d6c59);},'pAQgG':function(_0x459164,_0x2eac7d){const _0x54fe79=_0x313a98;return _0x29a637[_0x54fe79(0x30b)](_0x459164,_0x2eac7d);},'SSLZi':_0x29a637[_0x313a98(0x261)]};if(_0x29a637[_0x313a98(0x199)](_0x29a637[_0x313a98(0x1ed)],_0x29a637[_0x313a98(0x1ed)]))_0x5c8772[_0x313a98(0x30e)][_0x313a98(0x312)](this[_0x313a98(0x246)])&&(_0x29a637[_0x313a98(0x199)](_0x29a637[_0x313a98(0x239)],_0x29a637[_0x313a98(0x1d8)])?_0x1e5f5f[_0x313a98(0x2d2)](_0x9cd1fc[_0x313a98(0x29d)]):_0x29a637[_0x313a98(0x30b)](_0x5a1fe7,!![])),_0x29a637['sSCdz'](_0x5a1fe7,![]);else{const _0x31e13f={};_0x31e13f['apiVersion']=_0x9cd1fc[_0x313a98(0x276)];const _0x79ec2c=new _0x4bf11f[(_0x313a98(0x200))](_0x31e13f);_0x79ec2c[_0x313a98(0x24c)]()[_0x313a98(0x1c6)]()['then'](_0x3aa8a9=>{const _0x2038eb=_0x313a98;_0x3aa8a9[_0x2038eb(0x30e)][_0x2038eb(0x312)](this[_0x2038eb(0x246)])&&_0x9cd1fc[_0x2038eb(0x1a8)](_0x205ab0,!![]),_0x9cd1fc[_0x2038eb(0x220)](_0x4c2fa2,![]);})[_0x313a98(0x27e)](_0xe79d99=>{const _0x32f5b1=_0x313a98;_0x43d04f['error'](_0xe79d99),_0x9cd1fc[_0x32f5b1(0x220)](_0x546d49,_0xe79d99);});}})[_0x3e4230(0x27e)](_0x1c26e7=>{const _0x160afc=_0x3e4230,_0xce1dc7={'EQUDC':function(_0x555e7c,_0x30533c){const _0x581c4e=a0_0x40aa;return _0x6d8ac4[_0x581c4e(0x1cb)](_0x555e7c,_0x30533c);}};if(_0x6d8ac4['xknpj'](_0x6d8ac4[_0x160afc(0x2a7)],_0x6d8ac4[_0x160afc(0x2a7)]))logger[_0x160afc(0x288)](_0x1c26e7),_0x6d8ac4[_0x160afc(0x1cb)](_0x59c4e8,_0x1c26e7);else{const _0x9136a3={'YCQcE':function(_0x314b9e,_0xcf82e4){const _0x3ca830=_0x160afc;return _0x29a637[_0x3ca830(0x2dd)](_0x314b9e,_0xcf82e4);}},_0x3a790e={};_0x3a790e[_0x160afc(0x2d6)]=_0x29a637[_0x160afc(0x207)],_0x3a790e['region']=_0x892deb[_0x160afc(0x1bc)];const _0x208e95=new _0x590ac6[(_0x160afc(0x21e))](_0x3a790e);_0x208e95[_0x160afc(0x189)](_0x43a58d)['promise']()[_0x160afc(0x298)](_0x11f21b=>{const _0x12d997=_0x160afc;_0xce1dc7[_0x12d997(0x24a)](_0x863ae7,!![]);})[_0x160afc(0x27e)](_0x508556=>{const _0x489d39=_0x160afc;_0x417206[_0x489d39(0x288)](_0x489d39(0x289)+_0x3019ea+_0x489d39(0x301)+_0x45ab84['clusterRegion']+_0x489d39(0x1b3)),_0x9136a3['YCQcE'](_0x1da36a,![]);});}});}else _0x37233c[_0x3e4230(0x30e)][_0x3e4230(0x312)](this[_0x3e4230(0x246)])&&_0x6d8ac4[_0x3e4230(0x1cb)](_0x456b20,!![]),_0x6d8ac4[_0x3e4230(0x1cb)](_0x40af3d,![]);});}async['getUserInput'](_0x39c842,_0x4744e4){const _0x579617=a0_0x28a5f9,_0x352400={'lfxYo':function(_0x4f519f,_0x12d861){return _0x4f519f(_0x12d861);},'JNfYK':function(_0x4ed225,_0x92f9fa){return _0x4ed225(_0x92f9fa);}},_0x1c2e8c=this['cloudProviderName'][_0x579617(0x248)](),_0x19999e=await _0x352400[_0x579617(0x2b5)](_0x39c842,_0x1c2e8c+_0x579617(0x214)),_0x5363b4=await _0x352400[_0x579617(0x245)](_0x39c842,_0x1c2e8c+_0x579617(0x202));global_registry[_0x579617(0x22d)]=_0x19999e,global_registry[_0x579617(0x2f9)]=_0x5363b4;const _0x105e39={};return _0x105e39[_0x579617(0x1ee)]=_0x19999e,_0x105e39[_0x579617(0x21f)]=_0x5363b4,_0x4744e4[_0x579617(0x2f6)][AWS]=_0x105e39,_0x4744e4;}async[a0_0x28a5f9(0x1b9)](){const _0x11aeb1=a0_0x28a5f9,_0x87080b={'PGQwW':function(_0x2efc75){return _0x2efc75();},'VCRoa':_0x11aeb1(0x2d7),'QOMTD':_0x11aeb1(0x251),'fTVAd':'KubeConfigTemplate.yaml'},_0x4c1b9b=_0x87080b[_0x11aeb1(0x274)](getDirForConfig),_0x393953=await this[_0x11aeb1(0x1e3)](),_0x10bf81=path['join'](_0x4c1b9b,_0x87080b['VCRoa']),_0x4b6565='[ats]\x0aaws_access_key_id\x20=\x20'+global_registry[_0x11aeb1(0x22d)]+_0x11aeb1(0x204)+global_registry[_0x11aeb1(0x2f9)];fs[_0x11aeb1(0x1b1)](_0x10bf81,_0x4b6565);let _0xb79535=await fs[_0x11aeb1(0x206)](path[_0x11aeb1(0x1de)](__dirname,'..',_0x87080b['QOMTD'],_0x87080b['fTVAd']));return _0xb79535=_0xb79535[_0x11aeb1(0x22c)](),_0xb79535=_0xb79535[_0x11aeb1(0x27a)](/<CLUSTER_NAME>/g,this[_0x11aeb1(0x246)]),_0xb79535=_0xb79535[_0x11aeb1(0x27a)](/<CLUSTER_URL>/g,_0x393953[_0x11aeb1(0x21a)][_0x11aeb1(0x278)]),_0xb79535=_0xb79535[_0x11aeb1(0x27a)](/<CERTIFICATE_DATA>/g,_0x393953[_0x11aeb1(0x21a)]['certificateAuthority'][_0x11aeb1(0x235)]),_0xb79535=_0xb79535[_0x11aeb1(0x27a)](/<CLUSTER_REGION>/g,global_registry[_0x11aeb1(0x1bc)]),_0xb79535=_0xb79535['replace'](/<CLUSTER_NAME_USER>/g,IAM_USER_NAME),_0xb79535=_0xb79535[_0x11aeb1(0x27a)](/<CLOUD_PROVIDER_ACCESS_KEY>/g,global_registry[_0x11aeb1(0x22d)]),_0xb79535=_0xb79535[_0x11aeb1(0x27a)](/<CLOUD_PROVIDER_SECRET>/g,global_registry[_0x11aeb1(0x2f9)]),_0xb79535=_0xb79535[_0x11aeb1(0x27a)](/<AWS_CONFIG_FILE_PATH>/g,_0x10bf81),_0xb79535;}async['setupNewCluster'](_0x32ce5d=null,_0x2f47a6=null){const _0x2975ea=a0_0x28a5f9,_0xf42b63={'prJsg':'Creating\x20required\x20resources\x20-\x20EKS\x20role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups,\x20Cluster\x20and\x20Node\x20Group(s)','yuTQn':_0x2975ea(0x295),'eybaQ':function(_0x3660ba,_0x142cbb,_0x16cde2,_0x1e5352,_0x843713,_0x181a42,_0x3f4dfa){return _0x3660ba(_0x142cbb,_0x16cde2,_0x1e5352,_0x843713,_0x181a42,_0x3f4dfa);},'PCUeV':'Following\x20resources\x20are\x20created:','XirdI':function(_0x1d2f6c,_0x50f919){return _0x1d2f6c===_0x50f919;},'ySOcQ':function(_0x232c00,_0x2e8e5e){return _0x232c00===_0x2e8e5e;},'uramO':function(_0xbfb835,_0x39ccfc){return _0xbfb835!==_0x39ccfc;},'NfuGb':_0x2975ea(0x260),'Jfksm':_0x2975ea(0x243),'hkZwB':_0x2975ea(0x2e9)},_0x47f46c={};_0x47f46c[_0x2975ea(0x2ef)]=WS_EVENTS[_0x2975ea(0x1d1)],_0x47f46c[_0x2975ea(0x323)]=_0xf42b63['prJsg'],this[_0x2975ea(0x25c)][_0x2975ea(0x272)](this[_0x2975ea(0x19b)],_0x47f46c),logger[_0x2975ea(0x2d2)](_0xf42b63[_0x2975ea(0x215)]);const _0x4cfcd6=global_registry['minNodes'],_0x468b0c=global_registry['maxNodes'],_0x443c83=global_registry[_0x2975ea(0x24d)],_0x15cd11=await _0xf42b63[_0x2975ea(0x2ad)](createClusterStack,this['clusterName'],_0x4cfcd6,_0x468b0c,_0x32ce5d,_0x2f47a6,_0x443c83),_0x4d849d=_0x15cd11[_0x2975ea(0x2ec)][0x0][_0x2975ea(0x20a)][0x0][_0x2975ea(0x258)][_0x2975ea(0x225)](','),_0x1fbaf9=_0x15cd11[_0x2975ea(0x2ec)][0x0][_0x2975ea(0x20a)][0x1][_0x2975ea(0x258)],_0x3f265b=_0x15cd11[_0x2975ea(0x2ec)][0x0][_0x2975ea(0x20a)][0x3]['OutputValue'],_0x482ef0=_0x15cd11['Stacks'][0x0][_0x2975ea(0x20a)][0x4][_0x2975ea(0x258)];logger['info'](_0xf42b63[_0x2975ea(0x230)]),logger['info'](_0x2975ea(0x293)+_0x3f265b+'\x20'),logger[_0x2975ea(0x2d2)](_0x2975ea(0x284)+_0x1fbaf9+'\x20'),logger[_0x2975ea(0x2d2)](_0x2975ea(0x1cc)+_0x4d849d+'\x20'),logger['info'](_0x2975ea(0x256)+_0x482ef0+'\x20');let _0x3b7ab9=_0x2975ea(0x1e0)+_0x3f265b+_0x2975ea(0x201)+_0x1fbaf9+_0x2975ea(0x2b4)+_0x4d849d+_0x2975ea(0x263)+_0x482ef0;if(_0xf42b63[_0x2975ea(0x1d4)](_0x32ce5d,null)&&_0xf42b63['ySOcQ'](_0x2f47a6,null)){if(_0xf42b63[_0x2975ea(0x269)](_0xf42b63[_0x2975ea(0x1f4)],_0xf42b63['Jfksm'])){const _0xf723da=_0x15cd11[_0x2975ea(0x2ec)][0x0][_0x2975ea(0x20a)][0x2]['OutputValue'],_0x1115b8=_0x15cd11[_0x2975ea(0x2ec)][0x0][_0x2975ea(0x20a)][0x5][_0x2975ea(0x258)][_0x2975ea(0x225)](',');_0x32ce5d=_0xf723da;const _0x558c3e=[];for(const _0x4f4099 of _0x1115b8){if(_0xf42b63['uramO'](_0xf42b63[_0x2975ea(0x2fe)],_0xf42b63['hkZwB']))_0x30ec59['status']=![];else{const _0x4cb6dd={};_0x4cb6dd['label']=_0x4f4099,_0x4cb6dd[_0x2975ea(0x1ab)]=_0x4f4099,_0x558c3e[_0x2975ea(0x229)](_0x4cb6dd);}}_0x2f47a6=_0x558c3e,logger[_0x2975ea(0x2d2)]('VPC\x20=>\x20'+_0xf723da+'\x20'),logger[_0x2975ea(0x2d2)](_0x2975ea(0x210)+_0x1115b8+'\x20'),_0x3b7ab9+=',VPC\x20=>\x20'+_0xf723da+_0x2975ea(0x1f0)+_0x1115b8+',\x20';}else return _0x18874e[_0x2975ea(0x287)][_0x2975ea(0x24f)]['ingress'][0x0][_0x2975ea(0x2d8)];}const _0x26af3e={};return _0x26af3e[_0x2975ea(0x2ef)]=WS_EVENTS[_0x2975ea(0x1d1)],_0x26af3e[_0x2975ea(0x323)]=_0x3b7ab9,this[_0x2975ea(0x25c)][_0x2975ea(0x272)](this[_0x2975ea(0x19b)],_0x26af3e),[_0x32ce5d,_0x2f47a6];}async[a0_0x28a5f9(0x1d0)](_0xccd200,_0x571eaf){const _0x455ebd=a0_0x28a5f9,_0x1af0f0={'BoLUv':function(_0x391382,_0x450625){return _0x391382(_0x450625);},'esyJb':function(_0x52f121,_0x377323,_0x266f19){return _0x52f121(_0x377323,_0x266f19);}};await _0x1af0f0[_0x455ebd(0x307)](deleteAgent,_0xccd200),await _0x1af0f0[_0x455ebd(0x307)](deleteRoutingDeps,_0xccd200),await _0x1af0f0['esyJb'](deleteClusterAndDependencies,_0x571eaf,this[_0x455ebd(0x246)]);}async[a0_0x28a5f9(0x2e1)](_0x13d423,_0x20679a){const _0x4040bc=a0_0x28a5f9,_0x554d8b={'OGiTQ':function(_0x4401b2,_0x503f94){return _0x4401b2(_0x503f94);},'kJusp':'2016-11-15','bcdFR':function(_0x2ee533,_0x12cbe1){return _0x2ee533===_0x12cbe1;},'UlEQk':'browserstack:managedBy','QOJHD':_0x4040bc(0x219),'RjKek':function(_0x1c3f3b,_0x1517c9){return _0x1c3f3b!==_0x1517c9;},'Ovhcb':_0x4040bc(0x1a0),'XLTic':_0x4040bc(0x20e),'OsTLt':'Creating\x20Autoscaler\x20Role','zgFbv':function(_0x1921f0,_0x1549d2){return _0x1921f0===_0x1549d2;},'fQFCw':_0x4040bc(0x23f),'AWkGH':_0x4040bc(0x296),'JqFbB':function(_0x51e698,_0x5dbc75){return _0x51e698(_0x5dbc75);},'oVUzW':function(_0x250946,_0x373462){return _0x250946===_0x373462;},'GzdHu':_0x4040bc(0x23b),'srori':_0x4040bc(0x2f1),'tLpZV':function(_0x1e7d77,_0x295aa7){return _0x1e7d77===_0x295aa7;},'vrtQj':'aUsAk','MRojL':function(_0x5b6992,_0x35449e,_0x1bdc26,_0x51bf6f,_0x38b08c,_0x290499,_0x5a2d12,_0x413973){return _0x5b6992(_0x35449e,_0x1bdc26,_0x51bf6f,_0x38b08c,_0x290499,_0x5a2d12,_0x413973);},'cDjVI':_0x4040bc(0x1f7),'VzMhe':_0x4040bc(0x268),'QTCKq':'warning','JbdtN':'EJSwD','zeTFW':_0x4040bc(0x1ea),'XDWxo':_0x4040bc(0x2a1),'Ppxjk':function(_0x1b7d7a,_0x5be2e2,_0x380787){return _0x1b7d7a(_0x5be2e2,_0x380787);},'cEsER':'autoscaler-creation-failed','pznpc':'error','wjxzB':_0x4040bc(0x1e8)};let _0x2aff61,_0x52c0fe;const _0x553170={};_0x553170['type']=WS_EVENTS[_0x4040bc(0x1d1)],_0x553170[_0x4040bc(0x323)]=_0x554d8b[_0x4040bc(0x267)],this[_0x4040bc(0x25c)][_0x4040bc(0x272)](this[_0x4040bc(0x19b)],_0x553170),logger[_0x4040bc(0x2d2)](_0x554d8b[_0x4040bc(0x267)]);try{if(_0x554d8b['zgFbv'](_0x554d8b[_0x4040bc(0x2ee)],_0x554d8b['AWkGH']))return _0x44a5d6[_0x5b86e2[_0x4040bc(0x2fa)]]=_0x3bd920[_0x4040bc(0x258)],_0x350fb9;else{const _0x57d3ab=await _0x554d8b[_0x4040bc(0x253)](createAutoscalerStack,this[_0x4040bc(0x246)]);_0x52c0fe=_0x57d3ab[_0x4040bc(0x2ec)][0x0][_0x4040bc(0x20a)][0x2][_0x4040bc(0x258)];const _0x3a2e59={};_0x3a2e59[_0x4040bc(0x2ef)]=WS_EVENTS['LOG'],_0x3a2e59[_0x4040bc(0x323)]=_0x4040bc(0x2aa)+_0x52c0fe+'\x20',this['webSocketUtils'][_0x4040bc(0x272)](this[_0x4040bc(0x19b)],_0x3a2e59),logger[_0x4040bc(0x2d2)]('Autoscaler\x20Role\x20created.ARN:\x20'+_0x52c0fe+'\x20');}}catch(_0x1cd6b1){if(_0x554d8b[_0x4040bc(0x19d)](_0x554d8b[_0x4040bc(0x1ce)],_0x554d8b['srori'])){const _0x23caf1={'IGEZv':function(_0x251240,_0x294cfa){const _0x25d0ee=_0x4040bc;return _0x554d8b[_0x25d0ee(0x228)](_0x251240,_0x294cfa);},'PhGXZ':function(_0x3efcff,_0x184093){const _0x3444c9=_0x4040bc;return _0x554d8b[_0x3444c9(0x228)](_0x3efcff,_0x184093);},'GZtSw':_0x554d8b['kJusp']},_0xcb4490={};_0xcb4490['VpcIds']=[_0x51e94];const _0x89feff=_0xcb4490;return new _0x4ac63b((_0x49fed7,_0x2f3b28)=>{const _0x220a93=_0x4040bc,_0x2acd3e={};_0x2acd3e['apiVersion']=_0x23caf1[_0x220a93(0x1d5)],_0x2acd3e['region']=_0x27d995['clusterRegion'];const _0x5bcfc1=new _0x417a80['EC2'](_0x2acd3e);_0x5bcfc1[_0x220a93(0x189)](_0x89feff)[_0x220a93(0x1c6)]()[_0x220a93(0x298)](_0x2dfc86=>{const _0x3abd4a=_0x220a93;_0x23caf1[_0x3abd4a(0x1f8)](_0x49fed7,!![]);})[_0x220a93(0x27e)](_0x590d1e=>{const _0x351e7c=_0x220a93;_0x2889f8['error']('Cannot\x20find\x20VPC\x20'+_0x3706d0+_0x351e7c(0x301)+_0x3ee47d['clusterRegion']+_0x351e7c(0x1b3)),_0x23caf1['PhGXZ'](_0x49fed7,![]);});});}else{if(_0x1cd6b1?.[_0x4040bc(0x323)]&&_0x1cd6b1[_0x4040bc(0x323)]['match'](/already exists/))_0x554d8b['tLpZV'](_0x554d8b['vrtQj'],_0x554d8b[_0x4040bc(0x1b4)])?(_0x2aff61=_0x4040bc(0x2cd)+_0x1cd6b1[_0x4040bc(0x323)],await _0x554d8b[_0x4040bc(0x2c1)](reportToGalactusAndSendToEDS,_0x20679a,this[_0x4040bc(0x19b)],_0x2aff61,messageTypes['WARNING'],_0x554d8b['cDjVI'],_0x554d8b[_0x4040bc(0x2b8)],_0x554d8b[_0x4040bc(0x208)]),logger[_0x4040bc(0x209)](_0x2aff61)):_0x554d8b['OGiTQ'](_0x34f9c0,!![]);else{if(_0x554d8b[_0x4040bc(0x2b2)](_0x554d8b[_0x4040bc(0x2a8)],_0x554d8b['zeTFW'])){const _0x56d326=_0xbfd058[_0x4040bc(0x21a)][_0x4040bc(0x2d3)];return _0x56d326&&_0x554d8b[_0x4040bc(0x20d)](_0x56d326[_0x554d8b[_0x4040bc(0x2a4)]][_0x4040bc(0x2b1)](),_0x554d8b[_0x4040bc(0x1ca)]);}else{const _0xe1bb56=_0x554d8b[_0x4040bc(0x25b)][_0x4040bc(0x225)]('|');let _0xfc1a9d=0x0;while(!![]){switch(_0xe1bb56[_0xfc1a9d++]){case'0':await _0x554d8b['Ppxjk'](deleteClusterAndDependencies,global_registry[_0x4040bc(0x1bc)],this[_0x4040bc(0x246)]);continue;case'1':await _0x554d8b['MRojL'](reportToGalactusAndSendToEDS,_0x20679a,this[_0x4040bc(0x19b)],_0x2aff61,messageTypes['ERROR'],_0x554d8b[_0x4040bc(0x26e)],_0x554d8b[_0x4040bc(0x1a7)],_0x554d8b[_0x4040bc(0x1d3)]);continue;case'2':logger['error'](_0x2aff61);continue;case'3':process[_0x4040bc(0x2be)](0x1);continue;case'4':_0x2aff61=_0x4040bc(0x25a)+_0x1cd6b1?.['message']+_0x4040bc(0x324);continue;}break;}}}}}const _0x448c98=await this[_0x4040bc(0x26d)](this[_0x4040bc(0x246)]+_0x4040bc(0x1ac)),_0x3e5683=_0x448c98['nodegroup']['nodeRole'],_0x29e5f1=await this['createAuthConfigMap'](_0x3e5683),_0x4635b1={};return _0x4635b1['namespace']=_0x554d8b[_0x4040bc(0x2b6)],_0x4635b1['body']=_0x29e5f1,await _0x13d423[_0x4040bc(0x2da)](_0x4635b1)[_0x4040bc(0x27e)](_0x2a24dd=>{const _0x5ee8a7=_0x4040bc;_0x554d8b[_0x5ee8a7(0x1c5)](_0x554d8b['Ovhcb'],_0x554d8b[_0x5ee8a7(0x2c6)])?_0x459cae[_0x5ee8a7(0x288)](_0x5ee8a7(0x315)+_0x16cea3[_0x5ee8a7(0x1ab)]+':',_0x2c9460):logger[_0x5ee8a7(0x2d2)](_0x554d8b[_0x5ee8a7(0x1b2)]);}),_0x52c0fe;}async[a0_0x28a5f9(0x2c5)](_0x592a57,_0x4259cf,_0x1cc675,_0x305645,_0x421f0d){const _0x57161a=a0_0x28a5f9,_0x2455f6={'WEEop':function(_0x39d701,_0x1ce0a2){return _0x39d701===_0x1ce0a2;},'MgROx':_0x57161a(0x304),'MQPtn':_0x57161a(0x2bc),'bsIhO':function(_0x388d2e,_0x4126e7){return _0x388d2e!==_0x4126e7;},'UcMxU':'knsXr','onmww':_0x57161a(0x1f5),'bGMlZ':'Creating\x20required\x20resources\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','WpzBp':_0x57161a(0x327),'dDYnU':function(_0xf5ea47,_0x1faf22,_0x19eb9c){return _0xf5ea47(_0x1faf22,_0x19eb9c);},'egOQt':_0x57161a(0x2a9),'cdAOt':_0x57161a(0x1ae),'bSfmw':'EFSSecurityGroup','TjbQH':_0x57161a(0x2e7),'oTweo':_0x57161a(0x1fc),'kCmPQ':_0x57161a(0x1c7),'gDNCR':_0x57161a(0x2a0),'IvsHz':'templates','eHcqj':'hubharesources','QafVh':_0x57161a(0x2e4),'CwvKm':_0x57161a(0x28c),'PAhwa':'Added\x20EFS\x20CSI\x20Driver','irblc':_0x57161a(0x190),'qxhcq':_0x57161a(0x2cb),'Unyto':_0x57161a(0x1b0),'JPybz':_0x57161a(0x21b),'bPOam':_0x57161a(0x1dc),'JCigS':function(_0x2e3f73,_0x5576cf){return _0x2e3f73!==_0x5576cf;},'AwAkF':_0x57161a(0x22b),'RrRsd':'Awowe','obCpz':_0x57161a(0x29f),'tUPyF':function(_0x6db6ca,_0x98ab6a,_0x47cad0,_0x3dba6e,_0x17cb0f,_0x539d0a,_0x551523,_0x4a0bd2){return _0x6db6ca(_0x98ab6a,_0x47cad0,_0x3dba6e,_0x17cb0f,_0x539d0a,_0x551523,_0x4a0bd2);},'ONNJt':_0x57161a(0x1f7),'VmQWc':_0x57161a(0x1bf),'lQmmR':'error'};logger['info'](_0x2455f6[_0x57161a(0x19c)]);let _0x3f6439;try{if(_0x2455f6['bsIhO'](_0x2455f6[_0x57161a(0x2d5)],_0x2455f6[_0x57161a(0x2f4)])){const _0x185469={};_0x185469[_0x57161a(0x2ef)]=WS_EVENTS['LOG'],_0x185469[_0x57161a(0x323)]=_0x2455f6['bGMlZ'],this[_0x57161a(0x25c)][_0x57161a(0x272)](this[_0x57161a(0x19b)],_0x185469),logger['info'](_0x2455f6[_0x57161a(0x233)]);const _0x3556a1=await _0x2455f6['dDYnU'](createHubHaStack,this[_0x57161a(0x246)],_0x305645),_0x29f941=_0x3556a1[_0x57161a(0x2ec)][0x0][_0x57161a(0x20a)]['reduce']((_0x65040e,_0x26b7f2)=>{const _0xd870f0=_0x57161a;return _0x2455f6[_0xd870f0(0x2e6)](_0x2455f6[_0xd870f0(0x303)],_0x2455f6['MgROx'])?(_0x65040e[_0x26b7f2['OutputKey']]=_0x26b7f2[_0xd870f0(0x258)],_0x65040e):this[_0xd870f0(0x1aa)]();},{}),_0x551e1a=_0x29f941[_0x2455f6[_0x57161a(0x2a5)]],_0x4004f5=_0x29f941[_0x2455f6[_0x57161a(0x1ba)]],_0x3794cc=_0x29f941[_0x2455f6[_0x57161a(0x271)]];logger['info'](_0x2455f6['TjbQH']),logger[_0x57161a(0x2d2)]('EFS\x20Controller\x20Role\x20=>\x20'+_0x551e1a),logger[_0x57161a(0x2d2)](_0x57161a(0x1a6)+_0x3794cc),logger[_0x57161a(0x2d2)](_0x57161a(0x2e5)+_0x4004f5),_0x3f6439=_0x57161a(0x2a6)+_0x551e1a+_0x57161a(0x326)+_0x3794cc+_0x57161a(0x1e9)+_0x4004f5,logger[_0x57161a(0x2d2)](_0x2455f6['oTweo']),await this[_0x57161a(0x28f)](_0x421f0d,_0x3794cc,_0x4004f5);const _0x4ecfe2={};_0x4ecfe2[_0x57161a(0x2ef)]=WS_EVENTS[_0x57161a(0x1d1)],_0x4ecfe2[_0x57161a(0x323)]=_0x3f6439,this['webSocketUtils'][_0x57161a(0x272)](this[_0x57161a(0x19b)],_0x4ecfe2);const _0x44a49d={};_0x44a49d['type']=WS_EVENTS[_0x57161a(0x1d1)],_0x44a49d[_0x57161a(0x323)]=_0x2455f6['kCmPQ'],this[_0x57161a(0x25c)][_0x57161a(0x272)](this[_0x57161a(0x19b)],_0x44a49d),logger[_0x57161a(0x2d2)](_0x2455f6[_0x57161a(0x2c8)]);let _0x1778ee=await fs['readFileAsync'](path[_0x57161a(0x1de)](__dirname,'..',_0x2455f6[_0x57161a(0x259)],_0x2455f6[_0x57161a(0x2c7)],_0x2455f6[_0x57161a(0x25e)]),_0x2455f6[_0x57161a(0x27f)]);_0x1778ee=_0x1778ee[_0x57161a(0x27a)](/<EfsCSIControllerARN>/g,_0x551e1a);const _0x4b70ea=yaml[_0x57161a(0x1df)](_0x1778ee);await _0x2455f6[_0x57161a(0x21d)](kubeApply,_0x4b70ea,_0x4259cf),logger[_0x57161a(0x2d2)](_0x2455f6['PAhwa']),logger[_0x57161a(0x2d2)](_0x2455f6[_0x57161a(0x2cf)]);const _0x53c245=await fs['readFileAsync'](path['join'](__dirname,'..',_0x2455f6['IvsHz'],_0x2455f6[_0x57161a(0x2c7)],_0x2455f6[_0x57161a(0x2f0)]),_0x2455f6['CwvKm']),_0x55c673=yaml[_0x57161a(0x1d7)](_0x53c245);_0x55c673[_0x57161a(0x2af)][_0x2455f6[_0x57161a(0x211)]]=_0x4004f5;const _0x1ad80b={};_0x1ad80b[_0x57161a(0x18d)]=_0x55c673;const _0x96aa82=await _0x592a57['createStorageClass'](_0x1ad80b);logger[_0x57161a(0x2d2)](_0x2455f6[_0x57161a(0x1bd)]);const _0x45f30f={};_0x45f30f[_0x57161a(0x2ef)]=WS_EVENTS[_0x57161a(0x1d1)],_0x45f30f[_0x57161a(0x323)]=_0x2455f6[_0x57161a(0x2c4)],this['webSocketUtils'][_0x57161a(0x272)](this[_0x57161a(0x19b)],_0x45f30f);}else throw new _0x1458a7('Mount\x20target\x20'+_0x59d774+_0x57161a(0x18b));}catch(_0x3882cf){if(_0x2455f6[_0x57161a(0x322)](_0x2455f6[_0x57161a(0x313)],_0x2455f6[_0x57161a(0x1af)])){const _0x37f4b8=_0x2455f6[_0x57161a(0x1f1)][_0x57161a(0x225)]('|');let _0x3d5605=0x0;while(!![]){switch(_0x37f4b8[_0x3d5605++]){case'0':_0x3f6439='Error\x20occurred\x20while\x20setting\x20up\x20Hub\x20HA\x20infra:\x20'+_0x3882cf[_0x57161a(0x323)];continue;case'1':process[_0x57161a(0x2be)](0x1);continue;case'2':logger['error'](_0x3f6439);continue;case'3':await _0x2455f6[_0x57161a(0x237)](reportToGalactusAndSendToEDS,_0x1cc675,this[_0x57161a(0x19b)],_0x3f6439,messageTypes['ERROR'],_0x2455f6[_0x57161a(0x1c2)],_0x2455f6['VmQWc'],_0x2455f6[_0x57161a(0x244)]);continue;case'4':await _0x2455f6[_0x57161a(0x21d)](deleteClusterAndDependencies,global_registry[_0x57161a(0x1bc)],this['clusterName']);continue;}break;}}else _0x5823e6['debug'](_0x9851b8);}}async[a0_0x28a5f9(0x28f)](_0x3810f0,_0x47fbfc,_0x8480d2){const _0x185a37=a0_0x28a5f9,_0xb2fb37={};_0xb2fb37[_0x185a37(0x1fb)]=function(_0x29dd17,_0x3472f5){return _0x29dd17===_0x3472f5;},_0xb2fb37[_0x185a37(0x2b7)]='woIGO',_0xb2fb37['dNKAy']=_0x185a37(0x30c),_0xb2fb37[_0x185a37(0x2f7)]=function(_0x5b8a18,_0x1536ba){return _0x5b8a18===_0x1536ba;},_0xb2fb37['TLDuI']=_0x185a37(0x232);const _0x31d54f=_0xb2fb37,_0x27c43f={};_0x27c43f['region']=global_registry['clusterRegion'];const _0xaacf28=new awsSDK[(_0x185a37(0x2ed))](_0x27c43f),_0x2426ca={};_0x2426ca[_0x185a37(0x281)]=global_registry['clusterRegion'];const _0x56ee78=new awsSDK[(_0x185a37(0x21e))](_0x2426ca),_0x45273f=new Set(),_0x4bbcb1=[];for(const _0x538ec3 of _0x3810f0){if(_0x31d54f[_0x185a37(0x1fb)](_0x31d54f[_0x185a37(0x2b7)],_0x31d54f[_0x185a37(0x1e2)]))return!![];else{const _0x405089=await this[_0x185a37(0x20f)](_0x56ee78,_0x538ec3[_0x185a37(0x1ab)]);if(_0x45273f[_0x185a37(0x1d6)](_0x405089)){if(_0x31d54f[_0x185a37(0x2f7)](_0x31d54f[_0x185a37(0x1f6)],_0x31d54f[_0x185a37(0x1f6)])){logger[_0x185a37(0x2d2)](_0x185a37(0x2b9)+_0x538ec3[_0x185a37(0x1ab)]+_0x185a37(0x192)+_0x405089+_0x185a37(0x2a2));continue;}else{const _0x1caeb1={};_0x1caeb1[_0x185a37(0x1c8)]=_0x26aa2f,_0x1caeb1['value']=_0x17666d,_0x937c0c[_0x185a37(0x229)](_0x1caeb1);}}_0x45273f['add'](_0x405089),_0x4bbcb1['push'](this[_0x185a37(0x317)](_0xaacf28,_0x538ec3,_0x47fbfc,_0x8480d2));}}await Promise[_0x185a37(0x2c3)](_0x4bbcb1);}async[a0_0x28a5f9(0x317)](_0x4247cb,_0x68b806,_0x370b7f,_0x4a7c3c){const _0x2c278a=a0_0x28a5f9,_0x4b5958={};_0x4b5958[_0x2c278a(0x26b)]=function(_0x41fd97,_0x412f46){return _0x41fd97===_0x412f46;},_0x4b5958[_0x2c278a(0x279)]=_0x2c278a(0x311),_0x4b5958[_0x2c278a(0x2ba)]=function(_0x562620,_0x50fa12){return _0x562620!==_0x50fa12;},_0x4b5958[_0x2c278a(0x291)]=_0x2c278a(0x319),_0x4b5958[_0x2c278a(0x2ae)]=_0x2c278a(0x2fb);const _0x256c69=_0x4b5958;try{if(_0x256c69[_0x2c278a(0x26b)](_0x256c69['Rhrbl'],_0x256c69[_0x2c278a(0x279)])){const _0x50bb07={};_0x50bb07[_0x2c278a(0x18e)]=_0x4a7c3c,_0x50bb07[_0x2c278a(0x242)]=_0x68b806[_0x2c278a(0x1ab)],_0x50bb07[_0x2c278a(0x320)]=[_0x370b7f];const _0x3cd401=await _0x4247cb['createMountTarget'](_0x50bb07)['promise'](),_0x7049fe=_0x3cd401[_0x2c278a(0x31f)];await this[_0x2c278a(0x28a)](_0x4247cb,_0x68b806[_0x2c278a(0x1ab)],_0x7049fe);}else{const _0x39f075=_0x5c9e17[_0x2c278a(0x2ec)][0x0][_0x2c278a(0x20a)][0x2][_0x2c278a(0x258)],_0x2bd260=_0x50a233['Stacks'][0x0][_0x2c278a(0x20a)][0x5][_0x2c278a(0x258)][_0x2c278a(0x225)](',');_0x152f35=_0x39f075;const _0x52b35c=[];for(const _0xc90d13 of _0x2bd260){const _0x304deb={};_0x304deb[_0x2c278a(0x1c8)]=_0xc90d13,_0x304deb['value']=_0xc90d13,_0x52b35c[_0x2c278a(0x229)](_0x304deb);}_0x56e09a=_0x52b35c,_0x292637[_0x2c278a(0x2d2)]('VPC\x20=>\x20'+_0x39f075+'\x20'),_0x43dd4d[_0x2c278a(0x2d2)](_0x2c278a(0x210)+_0x2bd260+'\x20'),_0x2955b0+=_0x2c278a(0x299)+_0x39f075+',\x20Subnets\x20=>\x20'+_0x2bd260+',\x20';}}catch(_0x3619f6){_0x256c69[_0x2c278a(0x2ba)](_0x256c69[_0x2c278a(0x291)],_0x256c69[_0x2c278a(0x2ae)])?logger[_0x2c278a(0x288)]('Error\x20creating\x20mount\x20target\x20for\x20subnet\x20'+_0x68b806[_0x2c278a(0x1ab)]+':',_0x3619f6):(_0x430255[_0x2c278a(0x288)](_0x2c278a(0x310)+_0x3fa97f+'\x20:\x20'+_0x1d6690[_0x2c278a(0x213)]),_0x8a4b84[_0x2c278a(0x235)]=_0x2c278a(0x2e0)+_0x50294a,_0x162491['error']=_0x4958d0);}}async['waitForMountTarget'](_0x54fb41,_0x11203a,_0x29b671){const _0x434820=a0_0x28a5f9,_0x436917={'NZDSv':function(_0x57f14e,_0x23bd0f){return _0x57f14e(_0x23bd0f);},'ASHtn':function(_0x3436a2,_0x44af52){return _0x3436a2!==_0x44af52;},'ARqjt':_0x434820(0x1be),'zKwes':_0x434820(0x321),'HeGhP':_0x434820(0x29a),'GLsOg':function(_0x189da3,_0x232d9d){return _0x189da3===_0x232d9d;},'NaWhs':'xxFhn','kUCQr':_0x434820(0x1cd),'jwwCm':function(_0x1dcf5b,_0x4f1f75){return _0x1dcf5b!==_0x4f1f75;},'zPYKx':_0x434820(0x2ea),'hpJKT':_0x434820(0x2d1)};let _0x2c6083='';while(_0x436917[_0x434820(0x1f3)](_0x2c6083,_0x436917['ARqjt'])){if(_0x436917[_0x434820(0x1f3)](_0x436917[_0x434820(0x29b)],_0x436917[_0x434820(0x234)])){const _0x4b44ce={};_0x4b44ce[_0x434820(0x31f)]=_0x29b671;const _0x597891=await _0x54fb41[_0x434820(0x2b0)](_0x4b44ce)[_0x434820(0x1c6)]();_0x2c6083=_0x597891[_0x434820(0x255)][0x0][_0x434820(0x1ef)];if(_0x436917[_0x434820(0x2ca)](_0x2c6083,_0x436917[_0x434820(0x2cc)])){if(_0x436917['ASHtn'](_0x436917['NaWhs'],_0x436917['NaWhs'])){if(_0x23d513['includes'](_0x59d609[_0x434820(0x1ab)]))return!![];return _0x1507df['push'](_0x2fc7af),![];}else{logger[_0x434820(0x2d2)](_0x434820(0x29e)+_0x11203a+',\x20MountTargetId:\x20'+_0x29b671+'.');break;}}if(_0x436917[_0x434820(0x2ca)](_0x2c6083,_0x436917['kUCQr'])){if(_0x436917[_0x434820(0x28d)](_0x436917[_0x434820(0x2ab)],_0x436917[_0x434820(0x241)]))throw new Error(_0x434820(0x30f)+_0x29b671+_0x434820(0x18b));else _0x22e31d[_0x434820(0x209)](_0x534692);}await new Promise(_0x533e66=>setTimeout(_0x533e66,0x1388));}else _0x2f7750[_0x434820(0x288)](_0x434820(0x262)+_0x2eebe3+'\x20in\x20region\x20'+_0x4d18c9[_0x434820(0x1bc)]+_0x434820(0x194)+_0x40ea2d),_0x436917[_0x434820(0x1e7)](_0x4deb5e,[![],[]]);}}async[a0_0x28a5f9(0x20f)](_0x44d541,_0x2a7b40){const _0x492024=a0_0x28a5f9,_0x406620={};_0x406620['SubnetIds']=[_0x2a7b40];const _0x478f6b=await _0x44d541[_0x492024(0x2eb)](_0x406620)[_0x492024(0x1c6)]();return _0x478f6b[_0x492024(0x285)][0x0]['AvailabilityZone'];}[a0_0x28a5f9(0x2e8)](_0x25fa20){const _0x35f8d0=a0_0x28a5f9,_0x5af240={'HFxuN':_0x35f8d0(0x250),'LkJoF':function(_0x12a901,_0xd97972){return _0x12a901!==_0xd97972;},'bQYDR':_0x35f8d0(0x22f),'ODnjw':function(_0x255f4c,_0x264bb5){return _0x255f4c(_0x264bb5);},'RhiNq':_0x35f8d0(0x249),'WjnmM':function(_0x3d1e84,_0x240d85){return _0x3d1e84(_0x240d85);},'rvgMQ':function(_0x266b00,_0x557000){return _0x266b00===_0x557000;},'nVrWF':'JHhiQ','NFvtS':_0x35f8d0(0x212)},_0x52af76={};_0x52af76[_0x35f8d0(0x24e)]=[_0x25fa20];const _0x52ee31=_0x52af76;return new Promise((_0x5804e2,_0x22d471)=>{const _0x23f576=_0x35f8d0,_0xf6daf4={'ihHCr':function(_0x2ae036,_0x44eb55){const _0x47980a=a0_0x40aa;return _0x5af240[_0x47980a(0x188)](_0x2ae036,_0x44eb55);}};if(_0x5af240[_0x23f576(0x283)](_0x5af240[_0x23f576(0x2ff)],_0x5af240[_0x23f576(0x2ff)])){const _0x91e2c={};_0x91e2c[_0x23f576(0x2d6)]=_0x5af240[_0x23f576(0x19a)],_0x91e2c[_0x23f576(0x281)]=global_registry['clusterRegion'];const _0x3099c0=new awsSDK[(_0x23f576(0x21e))](_0x91e2c);_0x3099c0[_0x23f576(0x189)](_0x52ee31)['promise']()['then'](_0x1d130a=>{const _0x47843b=_0x23f576,_0x27cf93={};_0x27cf93[_0x47843b(0x205)]=_0x5af240[_0x47843b(0x1c3)];const _0x32342c=_0x27cf93;if(_0x5af240[_0x47843b(0x2f3)](_0x5af240[_0x47843b(0x27d)],_0x5af240[_0x47843b(0x27d)])){const _0x49d465={};_0x49d465[_0x47843b(0x2d6)]=_0x32342c[_0x47843b(0x205)];const _0x2ca3ba=new _0x5ada43[(_0x47843b(0x200))](_0x49d465),_0x103a7b={};return _0x103a7b[_0x47843b(0x2db)]=this[_0x47843b(0x246)],_0x2ca3ba['describeCluster'](_0x103a7b)[_0x47843b(0x1c6)]();}else _0x5af240['ODnjw'](_0x5804e2,!![]);})['catch'](_0x1b4201=>{const _0x9cd52a=_0x23f576;if(_0x5af240[_0x9cd52a(0x2f3)](_0x5af240[_0x9cd52a(0x236)],_0x5af240[_0x9cd52a(0x236)]))return![];else logger[_0x9cd52a(0x288)]('Cannot\x20find\x20VPC\x20'+_0x25fa20+_0x9cd52a(0x301)+global_registry[_0x9cd52a(0x1bc)]+'.\x20Please\x20Check\x20and\x20try\x20again'),_0x5af240[_0x9cd52a(0x31b)](_0x5804e2,![]);});}else _0x36f926[_0x23f576(0x288)](_0x57fbcf),_0xf6daf4[_0x23f576(0x1b7)](_0x3cd276,_0x4182eb);});}['isSubnetsValid'](_0x1c484e,_0x67aa63){const _0x5e85e7=a0_0x28a5f9,_0x49ef8a={'cHloj':function(_0x5e882c,_0x11f58c){return _0x5e882c!==_0x11f58c;},'EgEWY':_0x5e85e7(0x25d),'rocmW':_0x5e85e7(0x30d),'ovBGE':_0x5e85e7(0x286),'gjeYY':function(_0x38f142,_0x7af154){return _0x38f142(_0x7af154);},'DXRIA':function(_0x350d6b,_0x339533){return _0x350d6b!==_0x339533;},'HrmhT':_0x5e85e7(0x1db),'AwZCB':_0x5e85e7(0x250),'zIMpp':function(_0x35dfeb,_0x1a521a){return _0x35dfeb===_0x1a521a;},'wjOII':_0x5e85e7(0x29c),'iBaPI':_0x5e85e7(0x20b),'DugHD':function(_0x398dab,_0xcb78d1){return _0x398dab(_0xcb78d1);},'cPYZb':function(_0x4c9ee4,_0x435004){return _0x4c9ee4(_0x435004);},'pqyqi':_0x5e85e7(0x1f2),'vhIFr':_0x5e85e7(0x292),'IkmlV':_0x5e85e7(0x21c),'gcxNn':_0x5e85e7(0x316),'qDCfW':'2016-11-15','xMVTV':_0x5e85e7(0x2c9)},_0x53aa63={};_0x53aa63[_0x5e85e7(0x187)]=_0x49ef8a[_0x5e85e7(0x1ec)],_0x53aa63[_0x5e85e7(0x31c)]=[_0x67aa63];const _0x340878={};_0x340878[_0x5e85e7(0x1b8)]=[_0x53aa63];const _0x5e9883=_0x340878;return new Promise((_0x5bb91d,_0x47c172)=>{const _0xf2773f=_0x5e85e7,_0x2537e6={'xJDCS':function(_0x3e8e58,_0x3080a7){const _0x1f5743=a0_0x40aa;return _0x49ef8a[_0x1f5743(0x2df)](_0x3e8e58,_0x3080a7);},'zlEua':function(_0x1aaa1f,_0x19839d){const _0x5402c7=a0_0x40aa;return _0x49ef8a[_0x5402c7(0x221)](_0x1aaa1f,_0x19839d);},'uECgU':_0x49ef8a[_0xf2773f(0x20c)],'wAXnP':function(_0x53736a,_0xad3435){const _0x16df97=_0xf2773f;return _0x49ef8a[_0x16df97(0x290)](_0x53736a,_0xad3435);},'WisZb':_0x49ef8a[_0xf2773f(0x247)]};if(_0x49ef8a[_0xf2773f(0x221)](_0x49ef8a['IkmlV'],_0x49ef8a[_0xf2773f(0x2bf)]))_0x4a5953[_0xf2773f(0x229)](_0x1f52da[_0xf2773f(0x242)]);else{const _0x534ebe={};_0x534ebe[_0xf2773f(0x2d6)]=_0x49ef8a[_0xf2773f(0x18a)],_0x534ebe[_0xf2773f(0x281)]=global_registry['clusterRegion'];const _0x4caa95=new awsSDK[(_0xf2773f(0x21e))](_0x534ebe);_0x4caa95[_0xf2773f(0x2eb)](_0x5e9883)[_0xf2773f(0x1c6)]()[_0xf2773f(0x298)](_0x36dd52=>{const _0x4daf0f=_0xf2773f,_0x455935={'APSbg':function(_0x4673a2,_0x31e673){const _0x30ea09=a0_0x40aa;return _0x49ef8a[_0x30ea09(0x290)](_0x4673a2,_0x31e673);},'GjRUq':_0x49ef8a[_0x4daf0f(0x2f8)],'xHWyC':_0x49ef8a[_0x4daf0f(0x1dd)],'VoYkO':_0x49ef8a[_0x4daf0f(0x1fd)],'kjZjS':function(_0x3b7400,_0x456803){const _0x1738f1=_0x4daf0f;return _0x49ef8a[_0x1738f1(0x224)](_0x3b7400,_0x456803);}};if(_0x49ef8a['DXRIA'](_0x49ef8a[_0x4daf0f(0x1cf)],_0x49ef8a[_0x4daf0f(0x1cf)]))_0x4a813b['error'](_0x4daf0f(0x289)+_0x5c8c08+'\x20in\x20region\x20'+_0x419e5c[_0x4daf0f(0x1bc)]+_0x4daf0f(0x1b3)),_0x2537e6[_0x4daf0f(0x1e4)](_0x188c20,![]);else{const _0x47617a=[],_0x4356fa=[];_0x36dd52[_0x4daf0f(0x285)]['forEach'](_0x36f64c=>{const _0xc74552=_0x4daf0f,_0x335698={'btDck':function(_0x59e216,_0x1bceb6){return _0x455935['APSbg'](_0x59e216,_0x1bceb6);},'TZHED':_0x455935[_0xc74552(0x28b)]};if(_0x455935['APSbg'](_0x455935['xHWyC'],_0x455935[_0xc74552(0x325)]))_0x47617a[_0xc74552(0x229)](_0x36f64c[_0xc74552(0x242)]);else{const _0x5954cf=_0x1e1f8a[_0xc74552(0x1e5)][_0xc74552(0x225)](':')[0x0];_0x560a17+=_0xc74552(0x193)+_0x5954cf[_0xc74552(0x248)]()+_0xc74552(0x2ce)+_0x48ad2b[_0x14f067['EvalActionName']]+':\x20'+_0x12e85a['EvalDecision'],_0x335698[_0xc74552(0x2a3)](_0x2fbcd3[_0xc74552(0x266)],_0x335698[_0xc74552(0x2fc)])&&(_0x352f6b['status']=![]);}});const _0x10dd65=_0x1c484e[_0x4daf0f(0x1e6)](_0x33e3e6=>{const _0x4b4b6c=_0x4daf0f;if(_0x2537e6[_0x4b4b6c(0x2d4)](_0x2537e6[_0x4b4b6c(0x282)],_0x2537e6[_0x4b4b6c(0x282)])){if(_0x47617a[_0x4b4b6c(0x312)](_0x33e3e6[_0x4b4b6c(0x1ab)])){if(_0x2537e6[_0x4b4b6c(0x1a5)](_0x2537e6['WisZb'],_0x2537e6[_0x4b4b6c(0x1a9)]))_0x455935[_0x4b4b6c(0x277)](_0x14a85f,!![]);else return!![];}return _0x4356fa[_0x4b4b6c(0x229)](_0x33e3e6),![];}else _0x4c0439[_0x4b4b6c(0x22d)]=_0x35ade9[this[_0x4b4b6c(0x231)]][_0x4b4b6c(0x1ee)],_0x2eec3f['cloudProviderSecretKey']=_0x1457a7[this['cloudProviderName']][_0x4b4b6c(0x21f)];});_0x49ef8a[_0x4daf0f(0x224)](_0x5bb91d,[_0x10dd65,_0x4356fa]);}})[_0xf2773f(0x27e)](_0x2e1f98=>{const _0x34ba65=_0xf2773f,_0x159071={};_0x159071[_0x34ba65(0x308)]=_0x49ef8a[_0x34ba65(0x1da)];const _0x320da9=_0x159071;if(_0x49ef8a[_0x34ba65(0x221)](_0x49ef8a[_0x34ba65(0x294)],_0x49ef8a[_0x34ba65(0x195)])){const _0x53ab6f={};_0x53ab6f[_0x34ba65(0x2d6)]=_0x320da9[_0x34ba65(0x308)];const _0x43c648=new _0x1ca669[(_0x34ba65(0x200))](_0x53ab6f),_0x513bec={};return _0x513bec['clusterName']=this['clusterName'],_0x513bec['nodegroupName']=_0x1ba960,_0x43c648[_0x34ba65(0x26f)](_0x513bec)[_0x34ba65(0x1c6)]();}else logger['error'](_0x34ba65(0x262)+_0x1c484e+_0x34ba65(0x301)+global_registry[_0x34ba65(0x1bc)]+_0x34ba65(0x194)+_0x2e1f98),_0x49ef8a['DugHD'](_0x5bb91d,[![],[]]);});}});}async[a0_0x28a5f9(0x238)](){const _0xdbee01=a0_0x28a5f9,_0x25d867={'tTkPB':function(_0x433550,_0x4ecfb1){return _0x433550(_0x4ecfb1);},'LvKoG':_0xdbee01(0x2d0),'jOhhj':_0xdbee01(0x297),'zjdOj':_0xdbee01(0x2c0)},_0x420593={};_0x420593[_0xdbee01(0x287)]=![],_0x420593[_0xdbee01(0x288)]=null,_0x420593[_0xdbee01(0x235)]='';const _0x347efc=_0x420593;try{const _0x16c9dc=await _0x25d867[_0xdbee01(0x31e)](runCommand,_0x25d867['LvKoG']);_0x16c9dc[_0xdbee01(0x2fd)](_0x25d867[_0xdbee01(0x300)])?logger['warn'](_0x16c9dc):logger[_0xdbee01(0x1a2)](_0x16c9dc),_0x347efc[_0xdbee01(0x287)]=!![],_0x347efc[_0xdbee01(0x235)]=_0x25d867[_0xdbee01(0x314)];}catch(_0x370559){logger[_0xdbee01(0x288)](_0xdbee01(0x310)+_0x370559+_0xdbee01(0x306)+_0x370559['stack']),_0x347efc['data']=_0xdbee01(0x2e0)+_0x370559,_0x347efc['error']=_0x370559;}return _0x347efc;}async[a0_0x28a5f9(0x19f)](){const _0x9998db=a0_0x28a5f9,_0x367928={};_0x367928['xkgQk']=_0x9998db(0x216),_0x367928[_0x9998db(0x217)]=':user/';const _0x4c2fd=_0x367928,_0x3cf4ea=await new awsSDK['STS']()[_0x9998db(0x2d9)]()[_0x9998db(0x1c6)](),{Account:_0x74e3cf,Arn:_0x5db583}=_0x3cf4ea,_0x44734e=_0x5db583[_0x9998db(0x312)](_0x4c2fd['xkgQk']),_0x11aabc=_0x44734e?'arn:aws:iam::'+_0x74e3cf+_0x9998db(0x216)+_0x5db583[_0x9998db(0x225)](_0x4c2fd[_0x9998db(0x1a4)])[0x1]:_0x9998db(0x2bb)+_0x74e3cf+':user/'+_0x5db583['split'](_0x4c2fd[_0x9998db(0x217)])[0x1];return _0x11aabc;}async[a0_0x28a5f9(0x2f2)](){const _0x5e3884=a0_0x28a5f9,_0x4d8e83={};_0x4d8e83[_0x5e3884(0x203)]=function(_0x542372,_0x35057d){return _0x542372!==_0x35057d;},_0x4d8e83['SasCB']=_0x5e3884(0x25d);const _0x14c82f=_0x4d8e83,_0xfd60fa={};_0xfd60fa[_0x5e3884(0x287)]=![],_0xfd60fa[_0x5e3884(0x288)]=null,_0xfd60fa[_0x5e3884(0x235)]='';const _0xd1831=_0xfd60fa;try{const _0xda473b=await this[_0x5e3884(0x19f)](),_0x27e06f={'PolicySourceArn':_0xda473b,'ActionNames':Object[_0x5e3884(0x240)](PERMISSIONS)},_0x236307=await new awsSDK['IAM']()[_0x5e3884(0x264)](_0x27e06f)[_0x5e3884(0x1c6)]();let _0x3aa6a5='';logger[_0x5e3884(0x1a2)]('permissions\x20check\x20response:\x20'+JSON[_0x5e3884(0x265)](_0x236307)),_0xd1831['status']=!![],_0x236307[_0x5e3884(0x1d2)][_0x5e3884(0x270)](_0x136708=>{const _0x5b4fd6=_0x5e3884,_0x12b3bc=_0x136708[_0x5b4fd6(0x1e5)][_0x5b4fd6(0x225)](':')[0x0];_0x3aa6a5+=_0x5b4fd6(0x193)+_0x12b3bc[_0x5b4fd6(0x248)]()+_0x5b4fd6(0x2ce)+PERMISSIONS[_0x136708[_0x5b4fd6(0x1e5)]]+':\x20'+_0x136708[_0x5b4fd6(0x266)],_0x14c82f[_0x5b4fd6(0x203)](_0x136708[_0x5b4fd6(0x266)],_0x14c82f['SasCB'])&&(_0xd1831[_0x5b4fd6(0x287)]=![]);}),_0xd1831[_0x5e3884(0x235)]=_0x3aa6a5;}catch(_0x5a2823){_0xd1831[_0x5e3884(0x288)]=_0x5a2823;}return _0xd1831;}}const a0_0x4c4d9c={};a0_0x4c4d9c[a0_0x28a5f9(0x28e)]=AWSCloudProvider,module[a0_0x28a5f9(0x1fa)]=a0_0x4c4d9c;