function a0_0x1682(_0x26f092,_0x5305f5){const _0x29c275=a0_0x29c2();return a0_0x1682=function(_0x168298,_0x163e63){_0x168298=_0x168298-0x17c;let _0x38a8cd=_0x29c275[_0x168298];return _0x38a8cd;},a0_0x1682(_0x26f092,_0x5305f5);}const a0_0x32b18f=a0_0x1682;(function(_0x22988e,_0x39b6d9){const _0x5b8683=a0_0x1682,_0x1fec3a=_0x22988e();while(!![]){try{const _0x466e7f=-parseInt(_0x5b8683(0x240))/0x1+parseInt(_0x5b8683(0x22c))/0x2+-parseInt(_0x5b8683(0x253))/0x3+parseInt(_0x5b8683(0x2ae))/0x4+parseInt(_0x5b8683(0x1c4))/0x5*(-parseInt(_0x5b8683(0x234))/0x6)+parseInt(_0x5b8683(0x1a0))/0x7*(parseInt(_0x5b8683(0x2c9))/0x8)+-parseInt(_0x5b8683(0x2d4))/0x9*(-parseInt(_0x5b8683(0x284))/0xa);if(_0x466e7f===_0x39b6d9)break;else _0x1fec3a['push'](_0x1fec3a['shift']());}catch(_0x26f201){_0x1fec3a['push'](_0x1fec3a['shift']());}}}(a0_0x29c2,0x699d1));function a0_0x29c2(){const _0x4d3ba4=['webSocketUtils','LTbli','Ethvz','gKKjG','QeEcH','Creating\x20Autoscaler\x20Role',',\x20MountTargetId:\x20','exit','qxtPQ','promise','sQXuW','certificateAuthority','MwMTK','keys','QBVjQ','aws-sdk',':user/','\x20|\x20Action\x20:\x20','vydYu','../utils/utilityMethods','VpcIds','cwqJV','QVGWo','../utils/createHubHaStack','then','200dqBrkG','qDMvR','checkAccess','KvmDW','uVCjV','vNYts','IpoAR','guRJr','vKNWX','update','eLGDI','\x20SECRET\x20KEY:\x20','../permissions/AWS.json','SubnetId','PiKsr','Added\x20EFS\x20CSI\x20Driver','vpc-id','Created\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','FileSystemId','getPrincipalArn','lSFSp','fileSystemId','allowed','ZDMBu','isCliToolInstalled','piotO','LOG','pGOAP','ERjJy','HOUsL','MLqtN','Authmap\x20already\x20exists.\x20Not\x20updating','TLEim','WniwI','tags','LEzsO','cloudProviderSecretKey','GeVCM','OutputValue','NnLCe','PREGq',',\x20ClusterRole\x20=>\x20','1990804MHHDJS','hostname','WFHnE','push','vdFJi','create-grid-called','WARNING','JCump','ETTJq','createAuthConfigMap','describeCluster','HRwkD','kSGcY','Mount\x20target\x20created\x20for\x20subnet:\x20','qRkIi','aws-iam-authenticator\x20tool\x20is\x20installed','cWGen','Stacks','getNodeGroupInfo','Creating\x20required\x20resources\x20-\x20EKS\x20role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups,\x20Cluster\x20and\x20Node\x20Group(s)','FmaaQ','btmeE','hubharesources','browserstack','mqcPp','owwyk','exports','256rHMGWu','rlOeu','yoCLv','\x20has\x20already\x20been\x20used.','includes','rTSlo','EKS','checkClusterCreated','has','Mounting\x20Target\x20for\x20EFS','EYYzo','39195OLEJQe','isClusterPresent','zISFR','EvalActionName','toLowerCase','PGYxR','meJkF','AKlZY','join','EFSSecurityGroup','isVPCPresent','taIAZ','\x0aaws_secret_access_key\x20=\x20','pVBRC','mcgdB','NXDEN','getKubeConfigData','NvaBV','Subnets','Unable\x20to\x20spawn\x20Autoscaler\x20due\x20to:\x20','XxNKS','NODiZ','lxGJi','UDNtH','wylet','Following\x20resources\x20are\x20created\x20for\x20Hub\x20HA:\x20EFS_ControllerRoleArn\x20=>\x20','kube-system','YlcCz','bFRWR','TteDS','kgcUL','mapRoles','getGridHostname','rninn','NodeRole\x20=>\x20','oQZmj','snpPX','NcNlE','mQCGL','MyGDd','serCl','add','fovyK','../config/constants','secret','UKjxC','BjphO','vYWAH','yXryY','gYNKU','FZYdI','toString','iMHxm','xZaYV','fMcCd','Skipping\x20subnet\x20','hdlcZ','createMountTarget','ClusterRole\x20=>\x20','replace','hHEhH','kEhVS','Creating\x20required\x20dependencies\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','forEach','RNEhD','gpilh','../utils/gridComponents','czvCc','toUpperCase','wKSkX','\x0a\x09Service:\x20','init','OwIty','PAMkY','vEhWu','setupAutoscaler','Intercepted','split','Outputs','MIosv','storage-class.yaml','../utils/hstUtils','Tjeyo',':role/','label','yuKfE','kGrNH','secretAccessKey','aKsSy','setupHubHa','OCNaC','dIUoe','zJsaN','TKTqf','cloudProvider','dVSWZ',',\x20Subnets\x20=>\x20','.\x20Please\x20Check\x20and\x20try\x20again','sendResourceDataToHST','templates','uWLHJ','InlXE','rhaJO','EC2','OejHP','simulatePrincipalPolicy','Please\x20install\x20aws-iam-authenticator\x20tool.\x20Error\x20:\x20','waitForMountTarget','vWBbf','MZhXz','catch','type','Adding\x20EFS\x20CSI\x20Driver','ivZcb','crPax','ingress','EvaluationResults','ngENK','rws','oDkhW','prAqF','fTIbE','rUNIB','gQLcC','.\x20Deleting\x20all\x20the\x20stacks','utf-8','97090ilvSak','debug','JjmvX','efs-csi-driver-aws.yaml','MountTargetId','Scmyb','EFSControllerRoleArn','every','nodegroupName','config','cvuWu','UhnIp','zgoNg','Autoscaler\x20Role\x20created.ARN:\x20','SIwSS','WPNcU','sqsel','Adding\x20storage\x20class...','stack','LcflJ','KQpOT','reduce','exXqi','pWgCc','XdjlJ','info','pAISz','js-yaml','warn','getClusterInfo','RqKyg','[ats]\x0aaws_access_key_id\x20=\x20','aws-iam-authenticator\x20help','0|1|4|2|3','NNoFT','region','65TKdnUL','IhBeM','Creating\x20required\x20resources\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','RZpHI','2017-11-01','../utils/createAutoscalerStack','dsprC','jFYEs','vSkZZ','GxDhW','XjNan','xBHsx','aPogq','.\x20Error:\x20','oLsVK','body','ODTCH','../utils/createClusterStack','bOLzD','listClusters','nTtRl','IweWc','error','writeFileSync','dRiWX','HLxlC','namespace','DNZAG','clusters','lhoPA','UCBVS','data','xYOZs','zGVBf','xVhic','Mount\x20target\x20','FwZxo','describeSubnets','readFileAsync','AYTBG','describeMountTargets','error\x20:\x20','csKnB','browserstack:managedBy','Following\x20resources\x20are\x20created:\x20Cluster\x20=>\x20','ERROR','Txrms','maxNodes','createMountTargets','agzwz','VReLn','WfhKK','BNQYt','2016-11-15','ZarSX','EFS\x20Controller\x20Role\x20=>\x20','path','jNaQn','ujRhz','AqtYf','JKhVy','accessKey','DVhjn','HVVuQ','AvailabilityZone','setCachedCredsInRegistry','isSubnetsValid','JlOnT','PSWmf','SecurityGroups\x20=>\x20','pTzXw','apiVersion','mrfax','FmnkQ','accessKeyId','Creating\x20required\x20dependencies\x20-\x20EKS\x20Role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups\x20and\x20Cluster\x20and\x20Node\x20Group(s)','PAivD','STS','utXNL','UsQcv','pzFEr','cluster','RgREA','Added\x20storage\x20class.','value','ijmCK','arn:aws:iam::',',VPC\x20=>\x20','Creating\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','cloudProviderAccessKey','aGhMV','describeNodegroup','HOdDc','describeVpcs','gLGKw','nDQNG','NqTUQ','vAUOQ','getAvailabilityZone','name','NYuMf','hfGcU','PqQEr','fKVWC','1060028CHqVfz','LifeCycleState','load','JrKQl','cloudProviderName','HzNOF','Cannot\x20find\x20VPC\x20','xqcLT','375372heRBfG','tZTTB','clusterName','sendEventToBackend','reportToGalactusAndSendToEDS','SecurityGroups','RoYZj','LiJFM','TFOhu','xcSGh','permissions\x20check\x20response:\x20','SubnetIds','17302KmUzQc','OXivt','createNamespacedConfigMap','../config/logger','EyfHH','clusterRegion',',\x20EFS_SecurityGroup\x20=>\x20','\x20failed\x20to\x20reach\x20the\x20available\x20state.','wyluw','Subnets\x20=>\x20','eUikA','getUserInput','message','zQrlA','autoscaler-creation-failed','nuBHS','BFhot','nUxAI','ONPUH','886362WcqAcD','status',',\x20SecurityGroups\x20=>\x20','rWHXm','VPC\x20=>\x20','jimGW',',\x20EFS_FileSystem\x20=>\x20','uKOgs','EvalDecision','amIBd','PEqyi','EYLMf','\x20:\x20','stringify','Following\x20resources\x20are\x20created:','FVxJn','EufaW','GqYsH','EbbjL','\x20in\x20region\x20','FyUjO','hRwlR','kMngX','IEDrj'];a0_0x29c2=function(){return _0x4d3ba4;};return a0_0x29c2();}const fs=require('fs'),path=require(a0_0x32b18f(0x1fc)),yaml=require(a0_0x32b18f(0x1bb)),awsSDK=require(a0_0x32b18f(0x27a)),{logger}=require(a0_0x32b18f(0x243)),{CloudProvider}=require('./CloudProvider'),{sendAWSInfoToHST}=require(a0_0x32b18f(0x325)),{createClusterStack}=require(a0_0x32b18f(0x1d5)),{createHubHaStack}=require(a0_0x32b18f(0x282)),{deleteClusterAndDependencies,deleteRoutingDeps,deleteAgent}=require(a0_0x32b18f(0x316)),{createAutoscalerStack}=require(a0_0x32b18f(0x1c9)),{getDirForConfig,reportToGalactusAndSendToEDS,kubeApply,runCommand}=require(a0_0x32b18f(0x27e)),{IAM_USER_NAME,AWS,WS_EVENTS,global_registry,messageTypes}=require(a0_0x32b18f(0x2ff)),PERMISSIONS=require(a0_0x32b18f(0x290));class AWSCloudProvider extends CloudProvider{constructor(_0x25a482,_0xbac619,_0x385ad7,_0x139409){super(AWS,_0x25a482,_0xbac619,_0x385ad7,_0x139409);}async[a0_0x32b18f(0x31b)](){const _0x568b10=a0_0x32b18f;await super[_0x568b10(0x31b)]();const _0x2f201e={};return _0x2f201e[_0x568b10(0x1c3)]=global_registry[_0x568b10(0x245)],_0x2f201e[_0x568b10(0x20e)]=global_registry[_0x568b10(0x21d)],_0x2f201e[_0x568b10(0x32b)]=global_registry[_0x568b10(0x2a8)],awsSDK[_0x568b10(0x1a9)][_0x568b10(0x28d)](_0x2f201e),this;}async[a0_0x32b18f(0x184)](){const _0x246838=a0_0x32b18f,_0x3c61f9={'cgaZy':function(_0x588334,_0x163499){return _0x588334(_0x163499);}};_0x3c61f9['cgaZy'](sendAWSInfoToHST,this[_0x246838(0x198)]);}async[a0_0x32b18f(0x205)](_0x481067){const _0x6007a0=a0_0x32b18f;global_registry[_0x6007a0(0x21d)]=_0x481067[this[_0x6007a0(0x230)]]['accessKey'],global_registry[_0x6007a0(0x2a8)]=_0x481067[this[_0x6007a0(0x230)]][_0x6007a0(0x300)];}[a0_0x32b18f(0x2f4)](_0x191bca){const _0x4a011c=a0_0x32b18f;return _0x191bca[_0x4a011c(0x254)]['loadBalancer'][_0x4a011c(0x195)][0x0][_0x4a011c(0x2af)];}async['isBrowserstackCluster'](){const _0x2bf48e=a0_0x32b18f,_0x47a3ff={'LcflJ':function(_0x4c3a46,_0x21fd77){return _0x4c3a46(_0x21fd77);},'jNaQn':function(_0x49e43f,_0x5af50d){return _0x49e43f===_0x5af50d;},'IpoAR':'QqUKt','pTzXw':_0x2bf48e(0x30a),'IweWc':'VECYn','TFOhu':_0x2bf48e(0x1ac),'MLqtN':function(_0x260520,_0x5e00a1){return _0x260520===_0x5e00a1;},'LTbli':_0x2bf48e(0x1ef),'ngENK':_0x2bf48e(0x2c5),'PAivD':function(_0x4670cc,_0x4aeba9){return _0x4670cc!==_0x4aeba9;},'hdlcZ':_0x2bf48e(0x24a)};try{if(_0x47a3ff[_0x2bf48e(0x1fd)](_0x47a3ff[_0x2bf48e(0x28a)],_0x47a3ff[_0x2bf48e(0x20a)]))_0x55cdb5[_0x2bf48e(0x1a1)](_0x3b7fd1);else{const _0x4064ac=await this['getClusterInfo']();if(_0x4064ac[_0x2bf48e(0x215)]){if(_0x47a3ff[_0x2bf48e(0x1fd)](_0x47a3ff[_0x2bf48e(0x1d9)],_0x47a3ff[_0x2bf48e(0x23c)]))_0x47a3ff[_0x2bf48e(0x1b3)](_0x3bb343,!![]);else{const _0x4919bb=_0x4064ac[_0x2bf48e(0x215)][_0x2bf48e(0x2a6)];return _0x4919bb&&_0x47a3ff[_0x2bf48e(0x2a2)](_0x4919bb[_0x47a3ff[_0x2bf48e(0x26c)]][_0x2bf48e(0x2d8)](),_0x47a3ff[_0x2bf48e(0x197)]);}}}}catch(_0x323990){if(_0x47a3ff[_0x2bf48e(0x210)](_0x47a3ff[_0x2bf48e(0x30c)],_0x47a3ff['hdlcZ']))_0x47a3ff['LcflJ'](_0x3acc68,!![]);else return![];}return![];}async[a0_0x32b18f(0x2d5)](){return this['checkClusterCreated']();}async[a0_0x32b18f(0x1bd)](){const _0x118a23=a0_0x32b18f,_0x4016b0={};_0x4016b0['pAISz']=_0x118a23(0x1c8);const _0x449aba=_0x4016b0,_0x156cf4={};_0x156cf4[_0x118a23(0x20b)]=_0x449aba[_0x118a23(0x1ba)];const _0x4f746f=new awsSDK['EKS'](_0x156cf4),_0x4f8391={};return _0x4f8391['name']=this['clusterName'],_0x4f746f[_0x118a23(0x2b8)](_0x4f8391)['promise']();}async[a0_0x32b18f(0x2b7)](_0x8a0efd){const _0x13bd94=a0_0x32b18f,_0x31f769={};_0x31f769[_0x13bd94(0x28b)]=_0x13bd94(0x185),_0x31f769[_0x13bd94(0x29d)]='aws-auth-cm.yaml',_0x31f769[_0x13bd94(0x23a)]=_0x13bd94(0x19f),_0x31f769[_0x13bd94(0x2e9)]='<ARN>';const _0x111c04=_0x31f769,_0x2df37e=await fs[_0x13bd94(0x1ea)](path[_0x13bd94(0x2dc)](__dirname,'..',_0x111c04['guRJr'],_0x111c04[_0x13bd94(0x29d)]),_0x111c04['RoYZj']),_0x33857e=yaml['load'](_0x2df37e);return _0x33857e[_0x13bd94(0x1e3)][_0x13bd94(0x2f3)]=_0x33857e['data'][_0x13bd94(0x2f3)]['replace'](_0x111c04[_0x13bd94(0x2e9)],_0x8a0efd),_0x33857e;}async[a0_0x32b18f(0x2c0)](_0x3e2712){const _0x550395=a0_0x32b18f,_0x42a82f={};_0x42a82f['BENus']=_0x550395(0x1c8);const _0x93e578=_0x42a82f,_0x411647={};_0x411647[_0x550395(0x20b)]=_0x93e578['BENus'];const _0x33a107=new awsSDK[(_0x550395(0x2cf))](_0x411647),_0x4597ef={};return _0x4597ef['clusterName']=this[_0x550395(0x236)],_0x4597ef[_0x550395(0x1a8)]=_0x3e2712,_0x33a107[_0x550395(0x21f)](_0x4597ef)[_0x550395(0x274)]();}async['checkClusterCreated'](){const _0x76e3fd=a0_0x32b18f,_0x59a8b2={'oCIto':function(_0x38a857,_0x564613){return _0x38a857!==_0x564613;},'UhnIp':'allowed','KvmDW':function(_0x3bde17,_0x36f198){return _0x3bde17===_0x36f198;},'Scmyb':_0x76e3fd(0x1ef),'wyluw':_0x76e3fd(0x2c5),'mcgdB':_0x76e3fd(0x2a3),'utXNL':_0x76e3fd(0x29b),'EyfHH':_0x76e3fd(0x1ca),'MyGDd':'YNjNe','rninn':function(_0x337c9e,_0x186a79){return _0x337c9e(_0x186a79);},'ujRhz':function(_0x5f555e,_0x50cc67){return _0x5f555e(_0x50cc67);},'meJkF':'jflVz','cWGen':'lrdFL','yhhzP':function(_0x12c57e,_0x16747c){return _0x12c57e===_0x16747c;},'vKNWX':_0x76e3fd(0x20c),'Ybrkq':_0x76e3fd(0x1c8)};return new Promise((_0x3959bd,_0xdfc4)=>{const _0x354d6c=_0x76e3fd,_0x5aef01={'ijmCK':function(_0x2efba6,_0x322299){const _0x34ffe6=a0_0x1682;return _0x59a8b2[_0x34ffe6(0x287)](_0x2efba6,_0x322299);},'vEhWu':_0x59a8b2[_0x354d6c(0x1a5)],'zQrlA':_0x59a8b2[_0x354d6c(0x248)],'MVfaE':_0x59a8b2[_0x354d6c(0x2e2)],'MwMTK':_0x59a8b2[_0x354d6c(0x212)],'brXNG':function(_0x39be3a,_0x480ae7){const _0x4f877f=_0x354d6c;return _0x59a8b2[_0x4f877f(0x287)](_0x39be3a,_0x480ae7);},'gmxFW':_0x59a8b2[_0x354d6c(0x244)],'UxXUr':_0x59a8b2[_0x354d6c(0x2fb)],'sDdCS':function(_0x3360e2,_0x551921){const _0x3a050a=_0x354d6c;return _0x59a8b2[_0x3a050a(0x2f5)](_0x3360e2,_0x551921);},'XxNKS':function(_0x3537ba,_0x2dc167){const _0x2a8eb1=_0x354d6c;return _0x59a8b2[_0x2a8eb1(0x1fe)](_0x3537ba,_0x2dc167);},'BNQYt':function(_0x1dbf7d,_0x39ed42){return _0x59a8b2['oCIto'](_0x1dbf7d,_0x39ed42);},'vYWAH':_0x59a8b2[_0x354d6c(0x2da)],'UsQcv':_0x59a8b2[_0x354d6c(0x2be)],'gpilh':function(_0x17ab29,_0x2ce50e){const _0x441b0f=_0x354d6c;return _0x59a8b2[_0x441b0f(0x1fe)](_0x17ab29,_0x2ce50e);}};if(_0x59a8b2['yhhzP'](_0x59a8b2[_0x354d6c(0x28c)],_0x59a8b2[_0x354d6c(0x28c)])){const _0x369fe9={};_0x369fe9[_0x354d6c(0x20b)]=_0x59a8b2['Ybrkq'];const _0x31c976=new awsSDK[(_0x354d6c(0x2cf))](_0x369fe9);_0x31c976['listClusters']()['promise']()[_0x354d6c(0x283)](_0x13ecc8=>{const _0x31fbf8=_0x354d6c;if(_0x5aef01[_0x31fbf8(0x219)](_0x5aef01[_0x31fbf8(0x277)],_0x5aef01[_0x31fbf8(0x277)])){if(_0x13ecc8[_0x31fbf8(0x1e0)][_0x31fbf8(0x2cd)](this['clusterName'])){if(_0x5aef01['brXNG'](_0x5aef01['gmxFW'],_0x5aef01['UxXUr'])){const _0x5afb03=_0x3d4191[_0x31fbf8(0x215)]['tags'];return _0x5afb03&&_0x5aef01[_0x31fbf8(0x219)](_0x5afb03[_0x5aef01[_0x31fbf8(0x31e)]][_0x31fbf8(0x2d8)](),_0x5aef01[_0x31fbf8(0x24d)]);}else _0x5aef01['sDdCS'](_0x3959bd,!![]);}_0x5aef01[_0x31fbf8(0x2e8)](_0x3959bd,![]);}else _0x47033c['info'](_0x5aef01['MVfaE']);})[_0x354d6c(0x190)](_0x5bd430=>{const _0x459afe=_0x354d6c;if(_0x5aef01[_0x459afe(0x1f8)](_0x5aef01[_0x459afe(0x303)],_0x5aef01[_0x459afe(0x213)]))logger[_0x459afe(0x1da)](_0x5bd430),_0x5aef01[_0x459afe(0x315)](_0xdfc4,_0x5bd430);else{const _0x3104d7={};_0x3104d7[_0x459afe(0x328)]=_0x278fc4,_0x3104d7[_0x459afe(0x218)]=_0x2015f3,_0x3b0e64['push'](_0x3104d7);}});}else{const _0x116f00=_0x3d87b7['EvalActionName'][_0x354d6c(0x321)](':')[0x0];_0x25512a+=_0x354d6c(0x31a)+_0x116f00[_0x354d6c(0x318)]()+_0x354d6c(0x27c)+_0x4b4af9[_0x3d6126[_0x354d6c(0x2d7)]]+':\x20'+_0x550e85['EvalDecision'],_0x59a8b2['oCIto'](_0x1f98bc[_0x354d6c(0x25b)],_0x59a8b2[_0x354d6c(0x1ab)])&&(_0x60c6c8[_0x354d6c(0x254)]=![]);}});}async[a0_0x32b18f(0x24b)](_0x484647,_0x55e3d5){const _0x5eac97=a0_0x32b18f,_0x319b57={'jFYEs':function(_0x48e687,_0x52b7ea){return _0x48e687(_0x52b7ea);}},_0x54d2a1=this[_0x5eac97(0x230)][_0x5eac97(0x318)](),_0x58344c=await _0x319b57[_0x5eac97(0x1cb)](_0x484647,_0x54d2a1+'\x20ACCESS\x20KEY:\x20'),_0x300009=await _0x319b57[_0x5eac97(0x1cb)](_0x484647,_0x54d2a1+_0x5eac97(0x28f));global_registry['cloudProviderAccessKey']=_0x58344c,global_registry[_0x5eac97(0x2a8)]=_0x300009;const _0x50f92a={};return _0x50f92a[_0x5eac97(0x201)]=_0x58344c,_0x50f92a[_0x5eac97(0x300)]=_0x300009,_0x55e3d5[_0x5eac97(0x180)][AWS]=_0x50f92a,_0x55e3d5;}async[a0_0x32b18f(0x2e4)](){const _0x3aea5b=a0_0x32b18f,_0x34585f={'zISFR':function(_0x3cd93e){return _0x3cd93e();},'sqsel':'aws_credentials','USkqJ':_0x3aea5b(0x185),'MZhXz':'KubeConfigTemplate.yaml'},_0x429650=_0x34585f[_0x3aea5b(0x2d6)](getDirForConfig),_0x17de78=await this['getClusterInfo'](),_0xea1ea5=path['join'](_0x429650,_0x34585f[_0x3aea5b(0x1b0)]),_0x4dba8a=_0x3aea5b(0x1bf)+global_registry[_0x3aea5b(0x21d)]+_0x3aea5b(0x2e0)+global_registry[_0x3aea5b(0x2a8)];fs[_0x3aea5b(0x1db)](_0xea1ea5,_0x4dba8a);let _0x5a0ee0=await fs[_0x3aea5b(0x1ea)](path[_0x3aea5b(0x2dc)](__dirname,'..',_0x34585f['USkqJ'],_0x34585f[_0x3aea5b(0x18f)]));return _0x5a0ee0=_0x5a0ee0[_0x3aea5b(0x307)](),_0x5a0ee0=_0x5a0ee0[_0x3aea5b(0x30f)](/<CLUSTER_NAME>/g,this[_0x3aea5b(0x236)]),_0x5a0ee0=_0x5a0ee0[_0x3aea5b(0x30f)](/<CLUSTER_URL>/g,_0x17de78[_0x3aea5b(0x215)]['endpoint']),_0x5a0ee0=_0x5a0ee0[_0x3aea5b(0x30f)](/<CERTIFICATE_DATA>/g,_0x17de78[_0x3aea5b(0x215)][_0x3aea5b(0x276)][_0x3aea5b(0x1e3)]),_0x5a0ee0=_0x5a0ee0[_0x3aea5b(0x30f)](/<CLUSTER_REGION>/g,global_registry[_0x3aea5b(0x245)]),_0x5a0ee0=_0x5a0ee0['replace'](/<CLUSTER_NAME_USER>/g,IAM_USER_NAME),_0x5a0ee0=_0x5a0ee0[_0x3aea5b(0x30f)](/<CLOUD_PROVIDER_ACCESS_KEY>/g,global_registry[_0x3aea5b(0x21d)]),_0x5a0ee0=_0x5a0ee0[_0x3aea5b(0x30f)](/<CLOUD_PROVIDER_SECRET>/g,global_registry['cloudProviderSecretKey']),_0x5a0ee0=_0x5a0ee0[_0x3aea5b(0x30f)](/<AWS_CONFIG_FILE_PATH>/g,_0xea1ea5),_0x5a0ee0;}async['setupNewCluster'](_0x18cbaa=null,_0x2aee43=null){const _0x213d67=a0_0x32b18f,_0x44432={'HkkmG':_0x213d67(0x2c1),'nuBHS':_0x213d67(0x20f),'qDMvR':function(_0x40dc01,_0x4706c9,_0x31796c,_0xb8bb65,_0x5d72c,_0x42f81a){return _0x40dc01(_0x4706c9,_0x31796c,_0xb8bb65,_0x5d72c,_0x42f81a);},'RZpHI':_0x213d67(0x261),'uMdhm':function(_0x2bf783,_0x219ceb){return _0x2bf783===_0x219ceb;},'JrKQl':function(_0x2c7f26,_0x2ec86d){return _0x2c7f26===_0x2ec86d;},'hHEhH':function(_0x5ebaab,_0x420c46){return _0x5ebaab===_0x420c46;},'fovyK':_0x213d67(0x2d3),'AmGIS':function(_0xd24920,_0x3aeae1){return _0xd24920===_0x3aeae1;},'dRiWX':'MOCZW'},_0x9525d7={};_0x9525d7[_0x213d67(0x191)]=WS_EVENTS[_0x213d67(0x29e)],_0x9525d7['message']=_0x44432['HkkmG'],this[_0x213d67(0x26b)][_0x213d67(0x237)](this[_0x213d67(0x198)],_0x9525d7),logger[_0x213d67(0x1b9)](_0x44432[_0x213d67(0x24f)]);const _0x4ec31c=global_registry['minNodes'],_0x266bc0=global_registry[_0x213d67(0x1f3)],_0x4f591b=await _0x44432[_0x213d67(0x285)](createClusterStack,this[_0x213d67(0x236)],_0x4ec31c,_0x266bc0,_0x18cbaa,_0x2aee43),_0xc5fd46=_0x4f591b[_0x213d67(0x2bf)][0x0][_0x213d67(0x322)][0x0][_0x213d67(0x2aa)][_0x213d67(0x321)](','),_0x21d48b=_0x4f591b['Stacks'][0x0][_0x213d67(0x322)][0x1][_0x213d67(0x2aa)],_0x4af57d=_0x4f591b[_0x213d67(0x2bf)][0x0][_0x213d67(0x322)][0x3][_0x213d67(0x2aa)],_0x532db2=_0x4f591b[_0x213d67(0x2bf)][0x0][_0x213d67(0x322)][0x4][_0x213d67(0x2aa)];logger[_0x213d67(0x1b9)](_0x44432[_0x213d67(0x1c7)]),logger[_0x213d67(0x1b9)]('Cluster\x20=>\x20'+_0x4af57d+'\x20'),logger[_0x213d67(0x1b9)](_0x213d67(0x30e)+_0x21d48b+'\x20'),logger[_0x213d67(0x1b9)](_0x213d67(0x209)+_0xc5fd46+'\x20'),logger[_0x213d67(0x1b9)](_0x213d67(0x2f6)+_0x532db2+'\x20');let _0x3a33a8=_0x213d67(0x1f0)+_0x4af57d+_0x213d67(0x2ad)+_0x21d48b+_0x213d67(0x255)+_0xc5fd46+',\x20NodeRole\x20=>\x20'+_0x532db2;if(_0x44432['uMdhm'](_0x18cbaa,null)&&_0x44432[_0x213d67(0x22f)](_0x2aee43,null)){if(_0x44432[_0x213d67(0x310)](_0x44432['fovyK'],_0x44432[_0x213d67(0x2fe)])){const _0x213ad4=_0x4f591b[_0x213d67(0x2bf)][0x0][_0x213d67(0x322)][0x2][_0x213d67(0x2aa)],_0x34153c=_0x4f591b[_0x213d67(0x2bf)][0x0][_0x213d67(0x322)][0x5][_0x213d67(0x2aa)]['split'](',');_0x18cbaa=_0x213ad4;const _0x1f6e95=[];for(const _0x50173f of _0x34153c){if(_0x44432['AmGIS'](_0x44432[_0x213d67(0x1dc)],_0x44432['dRiWX'])){const _0x7392ec={};_0x7392ec['label']=_0x50173f,_0x7392ec[_0x213d67(0x218)]=_0x50173f,_0x1f6e95['push'](_0x7392ec);}else _0x378f68[_0x213d67(0x254)]=![];}_0x2aee43=_0x1f6e95,logger[_0x213d67(0x1b9)](_0x213d67(0x257)+_0x213ad4+'\x20'),logger[_0x213d67(0x1b9)](_0x213d67(0x249)+_0x34153c+'\x20'),_0x3a33a8+=_0x213d67(0x21b)+_0x213ad4+_0x213d67(0x182)+_0x34153c+',\x20';}else throw new _0x9a6e3a(_0x213d67(0x1e7)+_0x4de0ce+'\x20failed\x20to\x20reach\x20the\x20available\x20state.');}const _0x42860e={};return _0x42860e[_0x213d67(0x191)]=WS_EVENTS['LOG'],_0x42860e['message']=_0x3a33a8,this[_0x213d67(0x26b)][_0x213d67(0x237)](this[_0x213d67(0x198)],_0x42860e),[_0x18cbaa,_0x2aee43];}async['deleteCluster'](_0x2adcd5,_0x25de9d){const _0x50c2d3=a0_0x32b18f,_0x2c28e0={'jheJC':function(_0x1485d9,_0x213466){return _0x1485d9(_0x213466);},'FyUjO':function(_0x4c83a9,_0x17c732){return _0x4c83a9(_0x17c732);},'FZYdI':function(_0x3a6b63,_0x43d51f,_0x4343e1){return _0x3a6b63(_0x43d51f,_0x4343e1);}};await _0x2c28e0['jheJC'](deleteAgent,_0x2adcd5),await _0x2c28e0[_0x50c2d3(0x267)](deleteRoutingDeps,_0x2adcd5),await _0x2c28e0[_0x50c2d3(0x306)](deleteClusterAndDependencies,_0x25de9d,this[_0x50c2d3(0x236)]);}async[a0_0x32b18f(0x31f)](_0x3954cb,_0x3d77f4){const _0x232f74=a0_0x32b18f,_0x381d06={'crPax':function(_0x40f9b0,_0x5e6c04){return _0x40f9b0(_0x5e6c04);},'LEzsO':'2017-11-01','xqcLT':function(_0x38990d,_0x1fdccd){return _0x38990d!==_0x1fdccd;},'xBHsx':'warCa','dEBdh':'GBBKp','amIBd':'Authmap\x20already\x20exists.\x20Not\x20updating','qRkIi':_0x232f74(0x270),'zJsaN':_0x232f74(0x268),'lxGJi':'pmOgT','UDDTm':function(_0x401f43,_0x3c56d6){return _0x401f43(_0x3c56d6);},'ycoZE':function(_0x2de67d,_0x552bdd){return _0x2de67d!==_0x552bdd;},'dVSWZ':_0x232f74(0x2fc),'aPogq':_0x232f74(0x1d4),'Txrms':function(_0x136489,_0x4e99ac){return _0x136489===_0x4e99ac;},'nUxAI':_0x232f74(0x2ca),'tVtzZ':'PTZAM','IEDrj':function(_0xddbe45,_0x4e1cac,_0x5918de,_0x33f5f4,_0x229303,_0x5b5ec1,_0x407fa0,_0x31c3e1){return _0xddbe45(_0x4e1cac,_0x5918de,_0x33f5f4,_0x229303,_0x5b5ec1,_0x407fa0,_0x31c3e1);},'EbbjL':_0x232f74(0x2b3),'lNQvO':_0x232f74(0x238),'prAqF':'warning','oLsVK':function(_0x52b101,_0x32da76){return _0x52b101===_0x32da76;},'QBVjQ':_0x232f74(0x2f0),'GTuGj':_0x232f74(0x193),'rWHXm':'1|4|0|3|2','mQCGL':function(_0x320d94,_0x476159,_0x1d5efc){return _0x320d94(_0x476159,_0x1d5efc);},'NqTUQ':function(_0x34c3d8,_0xbc4cfb,_0x48a25b,_0x102dbe,_0x1e854a,_0x42fd57,_0x1ba488,_0x39cbd8){return _0x34c3d8(_0xbc4cfb,_0x48a25b,_0x102dbe,_0x1e854a,_0x42fd57,_0x1ba488,_0x39cbd8);},'WFHnE':_0x232f74(0x24e),'lSFSp':'error','NcNlE':_0x232f74(0x2ee)};let _0x38ad4b,_0x2ff137;const _0x1f0a8={};_0x1f0a8['type']=WS_EVENTS[_0x232f74(0x29e)],_0x1f0a8[_0x232f74(0x24c)]=_0x381d06[_0x232f74(0x2bc)],this[_0x232f74(0x26b)][_0x232f74(0x237)](this[_0x232f74(0x198)],_0x1f0a8),logger['info'](_0x381d06[_0x232f74(0x2bc)]);try{if(_0x381d06[_0x232f74(0x233)](_0x381d06[_0x232f74(0x17e)],_0x381d06[_0x232f74(0x2ea)])){const _0x45f421=await _0x381d06['UDDTm'](createAutoscalerStack,this[_0x232f74(0x236)]);_0x2ff137=_0x45f421[_0x232f74(0x2bf)][0x0][_0x232f74(0x322)][0x2][_0x232f74(0x2aa)];const _0x257cb4={};_0x257cb4[_0x232f74(0x191)]=WS_EVENTS[_0x232f74(0x29e)],_0x257cb4[_0x232f74(0x24c)]=_0x232f74(0x1ad)+_0x2ff137+'\x20',this[_0x232f74(0x26b)][_0x232f74(0x237)](this['rws'],_0x257cb4),logger[_0x232f74(0x1b9)]('Autoscaler\x20Role\x20created.ARN:\x20'+_0x2ff137+'\x20');}else{const _0x37c76e=_0x2c9ec8[_0x232f74(0x2bf)][0x0]['Outputs'][0x2][_0x232f74(0x2aa)],_0x3bd467=_0x581c03['Stacks'][0x0][_0x232f74(0x322)][0x5][_0x232f74(0x2aa)][_0x232f74(0x321)](',');_0x16f7ab=_0x37c76e;const _0x143341=[];for(const _0x203507 of _0x3bd467){const _0xd71166={};_0xd71166[_0x232f74(0x328)]=_0x203507,_0xd71166[_0x232f74(0x218)]=_0x203507,_0x143341[_0x232f74(0x2b1)](_0xd71166);}_0xc37bb8=_0x143341,_0x52a724[_0x232f74(0x1b9)](_0x232f74(0x257)+_0x37c76e+'\x20'),_0x380136[_0x232f74(0x1b9)](_0x232f74(0x249)+_0x3bd467+'\x20'),_0x16f6c1+=_0x232f74(0x21b)+_0x37c76e+_0x232f74(0x182)+_0x3bd467+',\x20';}}catch(_0x30a125){if(_0x381d06['ycoZE'](_0x381d06[_0x232f74(0x181)],_0x381d06[_0x232f74(0x1d0)])){if(_0x30a125?.[_0x232f74(0x24c)]&&_0x30a125['message']['match'](/already exists/)){if(_0x381d06[_0x232f74(0x1f2)](_0x381d06[_0x232f74(0x251)],_0x381d06['tVtzZ'])){const _0x29c33e={'toAdQ':function(_0x4ae48a,_0xcfc27b){const _0x589812=_0x232f74;return _0x381d06[_0x589812(0x194)](_0x4ae48a,_0xcfc27b);},'OwIty':function(_0x313a24,_0x15efaa){const _0x1cded6=_0x232f74;return _0x381d06[_0x1cded6(0x194)](_0x313a24,_0x15efaa);},'BjphO':function(_0x3553b1,_0x46d28f){const _0x3e575a=_0x232f74;return _0x381d06[_0x3e575a(0x194)](_0x3553b1,_0x46d28f);}},_0x2963bc={};_0x2963bc[_0x232f74(0x20b)]=_0x381d06[_0x232f74(0x2a7)];const _0x5ea491=new _0x232f7b[(_0x232f74(0x2cf))](_0x2963bc);_0x5ea491[_0x232f74(0x1d7)]()[_0x232f74(0x274)]()[_0x232f74(0x283)](_0x34acff=>{const _0x3db314=_0x232f74;_0x34acff[_0x3db314(0x1e0)]['includes'](this[_0x3db314(0x236)])&&_0x29c33e['toAdQ'](_0x4fafe2,!![]),_0x29c33e[_0x3db314(0x31c)](_0x23ebbe,![]);})[_0x232f74(0x190)](_0x2de736=>{const _0x2e0bf1=_0x232f74;_0x52f324[_0x2e0bf1(0x1da)](_0x2de736),_0x29c33e[_0x2e0bf1(0x302)](_0x3efc36,_0x2de736);});}else _0x38ad4b='Skipping\x20Autoscaler\x20due\x20to:\x20'+_0x30a125[_0x232f74(0x24c)],await _0x381d06[_0x232f74(0x26a)](reportToGalactusAndSendToEDS,_0x3d77f4,this['rws'],_0x38ad4b,messageTypes[_0x232f74(0x2b4)],_0x381d06[_0x232f74(0x265)],_0x381d06['lNQvO'],_0x381d06[_0x232f74(0x19a)]),logger['warn'](_0x38ad4b);}else{if(_0x381d06[_0x232f74(0x1d2)](_0x381d06[_0x232f74(0x279)],_0x381d06['GTuGj']))_0x56960b[_0x232f74(0x1da)]('Error\x20creating\x20mount\x20target\x20for\x20subnet\x20'+_0x46b58f[_0x232f74(0x218)]+':',_0x27012d);else{const _0x1bda99=_0x381d06[_0x232f74(0x256)][_0x232f74(0x321)]('|');let _0x4bff05=0x0;while(!![]){switch(_0x1bda99[_0x4bff05++]){case'0':logger[_0x232f74(0x1da)](_0x38ad4b);continue;case'1':_0x38ad4b=_0x232f74(0x2e7)+_0x30a125?.[_0x232f74(0x24c)]+_0x232f74(0x19e);continue;case'2':process[_0x232f74(0x272)](0x1);continue;case'3':await _0x381d06[_0x232f74(0x2fa)](deleteClusterAndDependencies,global_registry['clusterRegion'],this[_0x232f74(0x236)]);continue;case'4':await _0x381d06[_0x232f74(0x224)](reportToGalactusAndSendToEDS,_0x3d77f4,this[_0x232f74(0x198)],_0x38ad4b,messageTypes[_0x232f74(0x1f1)],_0x381d06[_0x232f74(0x265)],_0x381d06[_0x232f74(0x2b0)],_0x381d06[_0x232f74(0x298)]);continue;}break;}}}}else{const _0x5e4da8={};_0x5e4da8['apiVersion']=_0x381d06[_0x232f74(0x2a7)];const _0x296e79=new _0x2ed834[(_0x232f74(0x2cf))](_0x5e4da8),_0x6a5b62={};return _0x6a5b62[_0x232f74(0x227)]=this[_0x232f74(0x236)],_0x296e79[_0x232f74(0x2b8)](_0x6a5b62)[_0x232f74(0x274)]();}}const _0x4a1f95=await this['getNodeGroupInfo'](this[_0x232f74(0x236)]+'-NodeGroup'),_0x3a08d6=_0x4a1f95['nodegroup']['nodeRole'],_0x52e20e=await this[_0x232f74(0x2b7)](_0x3a08d6),_0x301822={};return _0x301822[_0x232f74(0x1de)]=_0x381d06[_0x232f74(0x2f9)],_0x301822[_0x232f74(0x1d3)]=_0x52e20e,await _0x3954cb[_0x232f74(0x242)](_0x301822)[_0x232f74(0x190)](_0x58b00e=>{const _0x388c82=_0x232f74;_0x381d06['xqcLT'](_0x381d06[_0x388c82(0x1cf)],_0x381d06['dEBdh'])?logger['info'](_0x381d06[_0x388c82(0x25c)]):(_0x5259ed[_0x388c82(0x21d)]=_0x441ecd[this[_0x388c82(0x230)]][_0x388c82(0x201)],_0x242f75[_0x388c82(0x2a8)]=_0x49a70f[this['cloudProviderName']][_0x388c82(0x300)]);}),_0x2ff137;}async[a0_0x32b18f(0x32d)](_0x1512ad,_0x3e109e,_0x208b11,_0x27fdb0,_0x5a087a){const _0x2eaf5e=a0_0x32b18f,_0x1d0e52={'cwqJV':_0x2eaf5e(0x1c8),'MIosv':function(_0x3b5d7e,_0x213b20){return _0x3b5d7e!==_0x213b20;},'yXryY':'GjBXK','DNZAG':_0x2eaf5e(0x25d),'CMmXb':'Setting\x20up\x20Hub\x20HA','IhBeM':function(_0x45a3c8,_0x321954){return _0x45a3c8===_0x321954;},'GxDhW':'SdAXL','NnLCe':'jauJu','ONPUH':_0x2eaf5e(0x1c6),'HKuPd':_0x2eaf5e(0x312),'sQXuW':function(_0x28167b,_0x39a983,_0x2fd8bd){return _0x28167b(_0x39a983,_0x2fd8bd);},'rUNIB':_0x2eaf5e(0x1a6),'tZTTB':'EFSFileSystemId','xYOZs':_0x2eaf5e(0x2dd),'bOLzD':'Following\x20resources\x20are\x20created:','ETTJq':_0x2eaf5e(0x2d2),'UKjxC':_0x2eaf5e(0x21c),'RNEhD':_0x2eaf5e(0x192),'qxtPQ':_0x2eaf5e(0x185),'uKOgs':_0x2eaf5e(0x2c4),'WmVAU':_0x2eaf5e(0x1a3),'oQZmj':'utf-8','HVVuQ':_0x2eaf5e(0x293),'vAUOQ':_0x2eaf5e(0x1b1),'vSkZZ':_0x2eaf5e(0x324),'nDQNG':_0x2eaf5e(0x299),'pWgCc':_0x2eaf5e(0x217),'JCump':_0x2eaf5e(0x295),'TLEim':_0x2eaf5e(0x2b2),'JjmvX':_0x2eaf5e(0x1ff),'HOUsL':_0x2eaf5e(0x1c1),'xVhic':function(_0x573a63,_0x2b0139,_0x54fd22,_0x177464,_0xeb71e3,_0x4d1986,_0xb59d7a,_0x1a5406){return _0x573a63(_0x2b0139,_0x54fd22,_0x177464,_0xeb71e3,_0x4d1986,_0xb59d7a,_0x1a5406);},'MnWaC':_0x2eaf5e(0x2b3),'Tjeyo':'hub-ha-aws-setup-failed','iMHxm':'error','agzwz':function(_0x2d666a,_0xe4fb6d,_0x1a9372){return _0x2d666a(_0xe4fb6d,_0x1a9372);}};logger[_0x2eaf5e(0x1b9)](_0x1d0e52['CMmXb']);let _0x2607dc;try{if(_0x1d0e52[_0x2eaf5e(0x1c5)](_0x1d0e52[_0x2eaf5e(0x1cd)],_0x1d0e52[_0x2eaf5e(0x2ab)]))_0x32f1da['error'](_0x2eaf5e(0x1ed)+_0x26bdf7+_0x2eaf5e(0x25f)+_0x5a9c33[_0x2eaf5e(0x1b2)]),_0x38c6ea[_0x2eaf5e(0x1e3)]=_0x2eaf5e(0x18c)+_0x5ef763,_0x5d5687[_0x2eaf5e(0x1da)]=_0x3ac006;else{const _0x2bab83={};_0x2bab83[_0x2eaf5e(0x191)]=WS_EVENTS[_0x2eaf5e(0x29e)],_0x2bab83[_0x2eaf5e(0x24c)]=_0x1d0e52[_0x2eaf5e(0x252)],this[_0x2eaf5e(0x26b)]['sendEventToBackend'](this[_0x2eaf5e(0x198)],_0x2bab83),logger[_0x2eaf5e(0x1b9)](_0x1d0e52['HKuPd']);const _0x100b57=await _0x1d0e52[_0x2eaf5e(0x275)](createHubHaStack,this[_0x2eaf5e(0x236)],_0x27fdb0),_0x4b4f02=_0x100b57[_0x2eaf5e(0x2bf)][0x0][_0x2eaf5e(0x322)][_0x2eaf5e(0x1b5)]((_0x13c20,_0x45a22a)=>{const _0x3e71f3=_0x2eaf5e,_0x29d04b={};_0x29d04b['PAMkY']=_0x1d0e52[_0x3e71f3(0x280)];const _0x76c726=_0x29d04b;if(_0x1d0e52[_0x3e71f3(0x323)](_0x1d0e52[_0x3e71f3(0x304)],_0x1d0e52[_0x3e71f3(0x1df)]))return _0x13c20[_0x45a22a['OutputKey']]=_0x45a22a[_0x3e71f3(0x2aa)],_0x13c20;else{const _0xb53a08={};_0xb53a08[_0x3e71f3(0x20b)]=_0x76c726[_0x3e71f3(0x31d)];const _0x33afef=new _0x290d1a[(_0x3e71f3(0x2cf))](_0xb53a08),_0x9bc66c={};return _0x9bc66c[_0x3e71f3(0x236)]=this[_0x3e71f3(0x236)],_0x9bc66c[_0x3e71f3(0x1a8)]=_0x2657e7,_0x33afef[_0x3e71f3(0x21f)](_0x9bc66c)[_0x3e71f3(0x274)]();}},{}),_0x37d87e=_0x4b4f02[_0x1d0e52[_0x2eaf5e(0x19c)]],_0x36e4f6=_0x4b4f02[_0x1d0e52[_0x2eaf5e(0x235)]],_0x5491e7=_0x4b4f02[_0x1d0e52[_0x2eaf5e(0x1e4)]];logger[_0x2eaf5e(0x1b9)](_0x1d0e52[_0x2eaf5e(0x1d6)]),logger[_0x2eaf5e(0x1b9)](_0x2eaf5e(0x1fb)+_0x37d87e),logger[_0x2eaf5e(0x1b9)]('EFS\x20SecurityGroup\x20=>\x20'+_0x5491e7),logger[_0x2eaf5e(0x1b9)]('EFS\x20FileSystem\x20=>\x20'+_0x36e4f6),_0x2607dc=_0x2eaf5e(0x2ed)+_0x37d87e+_0x2eaf5e(0x246)+_0x5491e7+_0x2eaf5e(0x259)+_0x36e4f6,logger[_0x2eaf5e(0x1b9)](_0x1d0e52[_0x2eaf5e(0x2b6)]),await this[_0x2eaf5e(0x1f4)](_0x5a087a,_0x5491e7,_0x36e4f6);const _0x192b22={};_0x192b22[_0x2eaf5e(0x191)]=WS_EVENTS[_0x2eaf5e(0x29e)],_0x192b22['message']=_0x2607dc,this['webSocketUtils'][_0x2eaf5e(0x237)](this[_0x2eaf5e(0x198)],_0x192b22);const _0x31baf5={};_0x31baf5[_0x2eaf5e(0x191)]=WS_EVENTS[_0x2eaf5e(0x29e)],_0x31baf5[_0x2eaf5e(0x24c)]=_0x1d0e52[_0x2eaf5e(0x301)],this[_0x2eaf5e(0x26b)][_0x2eaf5e(0x237)](this[_0x2eaf5e(0x198)],_0x31baf5),logger[_0x2eaf5e(0x1b9)](_0x1d0e52[_0x2eaf5e(0x314)]);let _0x8603ae=await fs[_0x2eaf5e(0x1ea)](path[_0x2eaf5e(0x2dc)](__dirname,'..',_0x1d0e52['qxtPQ'],_0x1d0e52[_0x2eaf5e(0x25a)],_0x1d0e52['WmVAU']),_0x1d0e52[_0x2eaf5e(0x2f7)]);_0x8603ae=_0x8603ae[_0x2eaf5e(0x30f)](/<EfsCSIControllerARN>/g,_0x37d87e);const _0x2173dd=yaml['loadAll'](_0x8603ae);await _0x1d0e52[_0x2eaf5e(0x275)](kubeApply,_0x2173dd,_0x3e109e),logger[_0x2eaf5e(0x1b9)](_0x1d0e52[_0x2eaf5e(0x203)]),logger[_0x2eaf5e(0x1b9)](_0x1d0e52[_0x2eaf5e(0x225)]);const _0x3e22a4=await fs[_0x2eaf5e(0x1ea)](path['join'](__dirname,'..',_0x1d0e52[_0x2eaf5e(0x273)],_0x1d0e52[_0x2eaf5e(0x25a)],_0x1d0e52[_0x2eaf5e(0x1cc)]),_0x1d0e52[_0x2eaf5e(0x2f7)]),_0x581405=yaml[_0x2eaf5e(0x22e)](_0x3e22a4);_0x581405['parameters'][_0x1d0e52[_0x2eaf5e(0x223)]]=_0x36e4f6;const _0x484bfa={};_0x484bfa['body']=_0x581405;const _0x29ebdd=await _0x1512ad['createStorageClass'](_0x484bfa);logger['info'](_0x1d0e52[_0x2eaf5e(0x1b7)]);const _0xdc4a9d={};_0xdc4a9d[_0x2eaf5e(0x191)]=WS_EVENTS[_0x2eaf5e(0x29e)],_0xdc4a9d[_0x2eaf5e(0x24c)]=_0x1d0e52[_0x2eaf5e(0x2b5)],this[_0x2eaf5e(0x26b)][_0x2eaf5e(0x237)](this[_0x2eaf5e(0x198)],_0xdc4a9d);}}catch(_0x56cb03){if(_0x1d0e52[_0x2eaf5e(0x323)](_0x1d0e52[_0x2eaf5e(0x2a4)],_0x1d0e52[_0x2eaf5e(0x1a2)])){const _0x1b5f70=_0x1d0e52[_0x2eaf5e(0x2a1)][_0x2eaf5e(0x321)]('|');let _0x1cfb5e=0x0;while(!![]){switch(_0x1b5f70[_0x1cfb5e++]){case'0':_0x2607dc='Error\x20occurred\x20while\x20setting\x20up\x20Hub\x20HA\x20infra:\x20'+_0x56cb03['message'];continue;case'1':await _0x1d0e52[_0x2eaf5e(0x1e6)](reportToGalactusAndSendToEDS,_0x208b11,this[_0x2eaf5e(0x198)],_0x2607dc,messageTypes[_0x2eaf5e(0x1f1)],_0x1d0e52['MnWaC'],_0x1d0e52[_0x2eaf5e(0x326)],_0x1d0e52[_0x2eaf5e(0x308)]);continue;case'2':await _0x1d0e52[_0x2eaf5e(0x1f5)](deleteClusterAndDependencies,global_registry[_0x2eaf5e(0x245)],this['clusterName']);continue;case'3':process[_0x2eaf5e(0x272)](0x1);continue;case'4':logger[_0x2eaf5e(0x1da)](_0x2607dc);continue;}break;}}else{if(_0x5a8967[_0x2eaf5e(0x2cd)](_0xc3fbce[_0x2eaf5e(0x218)]))return!![];return _0x46d2de[_0x2eaf5e(0x2b1)](_0x5b68fb),![];}}}async[a0_0x32b18f(0x1f4)](_0x2fadd0,_0x4869e0,_0x34b126){const _0x3b3bea=a0_0x32b18f,_0x5010af={'xcSGh':function(_0x47a86b,_0x2706e1){return _0x47a86b(_0x2706e1);},'exXqi':function(_0xd39011,_0x56eda1){return _0xd39011(_0x56eda1);},'NYuMf':function(_0x4b46d6,_0x594964){return _0x4b46d6===_0x594964;},'PqQEr':_0x3b3bea(0x1ae),'wKQAN':function(_0x2752f0,_0x453e7e){return _0x2752f0!==_0x453e7e;},'tsLBO':_0x3b3bea(0x1fa),'PSWmf':_0x3b3bea(0x231)},_0xe05914={};_0xe05914[_0x3b3bea(0x1c3)]=global_registry[_0x3b3bea(0x245)];const _0x5479cf=new awsSDK['EFS'](_0xe05914),_0x2da3e7={};_0x2da3e7[_0x3b3bea(0x1c3)]=global_registry['clusterRegion'];const _0x382aa3=new awsSDK[(_0x3b3bea(0x189))](_0x2da3e7),_0x2ea8ba=new Set(),_0x40d4fa=[];for(const _0xc23413 of _0x2fadd0){if(_0x5010af[_0x3b3bea(0x228)](_0x5010af[_0x3b3bea(0x22a)],_0x5010af[_0x3b3bea(0x22a)])){const _0x362776=await this[_0x3b3bea(0x226)](_0x382aa3,_0xc23413['value']);if(_0x2ea8ba[_0x3b3bea(0x2d1)](_0x362776)){if(_0x5010af['wKQAN'](_0x5010af['tsLBO'],_0x5010af[_0x3b3bea(0x208)])){logger['info'](_0x3b3bea(0x30b)+_0xc23413[_0x3b3bea(0x218)]+'\x20because\x20its\x20Availability\x20Zone\x20'+_0x362776+_0x3b3bea(0x2cc));continue;}else _0x299ed6[_0x3b3bea(0x1da)](_0x3b3bea(0x232)+_0x4bc49d+_0x3b3bea(0x266)+_0x19e833[_0x3b3bea(0x245)]+_0x3b3bea(0x183)),_0x5010af[_0x3b3bea(0x23d)](_0x1996e9,![]);}_0x2ea8ba[_0x3b3bea(0x2fd)](_0x362776),_0x40d4fa[_0x3b3bea(0x2b1)](this['createMountTargetAndWait'](_0x5479cf,_0xc23413,_0x4869e0,_0x34b126));}else _0x5010af[_0x3b3bea(0x1b6)](_0x1e15a3,this[_0x3b3bea(0x198)]);}await Promise['all'](_0x40d4fa);}async['createMountTargetAndWait'](_0x1a438c,_0x20b4c3,_0x1bddaa,_0x995862){const _0x3f30da=a0_0x32b18f,_0x5a9f31={'Ethvz':function(_0x5aec07,_0x4af28d){return _0x5aec07(_0x4af28d);},'PGYxR':function(_0x361bab,_0x7f86c8){return _0x361bab(_0x7f86c8);},'kMngX':_0x3f30da(0x1f9),'RgREA':function(_0x148b34,_0x1d7e31){return _0x148b34===_0x1d7e31;},'eVMlO':_0x3f30da(0x1e5),'wylet':function(_0x53253b,_0x5508c1){return _0x53253b!==_0x5508c1;},'vydYu':_0x3f30da(0x2c2),'mqcPp':_0x3f30da(0x263)};try{if(_0x5a9f31[_0x3f30da(0x216)](_0x5a9f31['eVMlO'],_0x5a9f31['eVMlO'])){const _0x3059a1={};_0x3059a1[_0x3f30da(0x296)]=_0x995862,_0x3059a1['SubnetId']=_0x20b4c3[_0x3f30da(0x218)],_0x3059a1[_0x3f30da(0x239)]=[_0x1bddaa];const _0x486d73=await _0x1a438c[_0x3f30da(0x30d)](_0x3059a1)[_0x3f30da(0x274)](),_0x2eb1bd=_0x486d73[_0x3f30da(0x1a4)];await this[_0x3f30da(0x18d)](_0x1a438c,_0x20b4c3[_0x3f30da(0x218)],_0x2eb1bd);}else{const _0x3c907f=[],_0x503d25=[];_0x4a2d7e[_0x3f30da(0x2e6)][_0x3f30da(0x313)](_0x3444f9=>{const _0xfba100=_0x3f30da;_0x3c907f[_0xfba100(0x2b1)](_0x3444f9[_0xfba100(0x291)]);});const _0x42024a=_0x5e759a['every'](_0x370f3a=>{const _0x2c0e55=_0x3f30da;if(_0x3c907f[_0x2c0e55(0x2cd)](_0x370f3a[_0x2c0e55(0x218)]))return!![];return _0x503d25[_0x2c0e55(0x2b1)](_0x370f3a),![];});_0x5a9f31[_0x3f30da(0x26d)](_0xecf14b,[_0x42024a,_0x503d25]);}}catch(_0x3dc763){if(_0x5a9f31[_0x3f30da(0x2ec)](_0x5a9f31[_0x3f30da(0x27d)],_0x5a9f31[_0x3f30da(0x2c6)]))logger[_0x3f30da(0x1da)]('Error\x20creating\x20mount\x20target\x20for\x20subnet\x20'+_0x20b4c3[_0x3f30da(0x218)]+':',_0x3dc763);else{const _0x4aa5f3={'rTSlo':function(_0x5b7319,_0x2cb7a5){const _0x37f3c0=_0x3f30da;return _0x5a9f31[_0x37f3c0(0x2d9)](_0x5b7319,_0x2cb7a5);}},_0x495ce1={};_0x495ce1[_0x3f30da(0x20b)]=_0x5a9f31[_0x3f30da(0x269)],_0x495ce1['region']=_0x496cf4[_0x3f30da(0x245)];const _0x43f207=new _0x3be5c8[(_0x3f30da(0x189))](_0x495ce1);_0x43f207[_0x3f30da(0x221)](_0x232532)[_0x3f30da(0x274)]()[_0x3f30da(0x283)](_0x4b4508=>{const _0x2063b0=_0x3f30da;_0x5a9f31[_0x2063b0(0x26d)](_0x3d3650,!![]);})[_0x3f30da(0x190)](_0x32d3c7=>{const _0x57e4ae=_0x3f30da;_0x9249ff[_0x57e4ae(0x1da)](_0x57e4ae(0x232)+_0x46798c+_0x57e4ae(0x266)+_0x4a370e[_0x57e4ae(0x245)]+'.\x20Please\x20Check\x20and\x20try\x20again'),_0x4aa5f3[_0x57e4ae(0x2ce)](_0x5734e8,![]);});}}}async[a0_0x32b18f(0x18d)](_0xa2d2c1,_0x56a87d,_0x58158f){const _0x459136=a0_0x32b18f,_0x14805a={'IaMrV':function(_0x5139bc,_0x28be75){return _0x5139bc(_0x28be75);},'cvuWu':function(_0x28e954,_0x1167c8){return _0x28e954!==_0x1167c8;},'aKsSy':'available','uVCjV':function(_0x275cc6,_0x3cc386){return _0x275cc6!==_0x3cc386;},'taIAZ':_0x459136(0x2e1),'czvCc':function(_0x450f10,_0x103fab){return _0x450f10===_0x103fab;},'kgcUL':function(_0x2d8180,_0x3dfb62){return _0x2d8180!==_0x3dfb62;},'oDkhW':_0x459136(0x319),'WPNcU':'deSmk','fTIbE':function(_0x1aa7fb,_0x5a77ef){return _0x1aa7fb===_0x5a77ef;},'nTtRl':'failed','MliKA':_0x459136(0x29f),'VehnQ':_0x459136(0x17c)};let _0x2647c4='';while(_0x14805a[_0x459136(0x1aa)](_0x2647c4,_0x14805a['aKsSy'])){if(_0x14805a[_0x459136(0x288)](_0x14805a[_0x459136(0x2df)],_0x14805a[_0x459136(0x2df)]))return this[_0x459136(0x2d0)]();else{const _0x49aa91={};_0x49aa91[_0x459136(0x1a4)]=_0x58158f;const _0x162661=await _0xa2d2c1[_0x459136(0x1ec)](_0x49aa91)[_0x459136(0x274)]();_0x2647c4=_0x162661['MountTargets'][0x0][_0x459136(0x22d)];if(_0x14805a[_0x459136(0x317)](_0x2647c4,_0x14805a[_0x459136(0x32c)])){if(_0x14805a[_0x459136(0x2f2)](_0x14805a[_0x459136(0x199)],_0x14805a[_0x459136(0x1af)])){logger['info'](_0x459136(0x2bb)+_0x56a87d+_0x459136(0x271)+_0x58158f+'.');break;}else return![];}if(_0x14805a[_0x459136(0x19b)](_0x2647c4,_0x14805a[_0x459136(0x1d8)])){if(_0x14805a[_0x459136(0x317)](_0x14805a['MliKA'],_0x14805a['VehnQ']))_0xdf4193['error']('Cannot\x20find\x20subnets\x20'+_0x2a6f99+_0x459136(0x266)+_0x46540f[_0x459136(0x245)]+_0x459136(0x1d1)+_0x292da4),_0x14805a['IaMrV'](_0x2fbcd6,[![],[]]);else throw new Error(_0x459136(0x1e7)+_0x58158f+_0x459136(0x247));}await new Promise(_0x5431fd=>setTimeout(_0x5431fd,0x1388));}}}async['getAvailabilityZone'](_0x5cf7dc,_0x2b690f){const _0x91a0bc=a0_0x32b18f,_0x14144e={};_0x14144e[_0x91a0bc(0x23f)]=[_0x2b690f];const _0x481f6c=await _0x5cf7dc[_0x91a0bc(0x1e9)](_0x14144e)[_0x91a0bc(0x274)]();return _0x481f6c[_0x91a0bc(0x2e6)][0x0][_0x91a0bc(0x204)];}[a0_0x32b18f(0x2de)](_0x1a68f4){const _0x59b89f=a0_0x32b18f,_0x31f69a={'yuKfE':function(_0x2012b8,_0x2e9277){return _0x2012b8(_0x2e9277);},'YPeFr':function(_0x589b00,_0x53a8eb){return _0x589b00===_0x53a8eb;},'LiJFM':_0x59b89f(0x258),'JlOnT':function(_0x145612,_0x5c0137){return _0x145612!==_0x5c0137;},'kGrNH':_0x59b89f(0x311),'TKTqf':_0x59b89f(0x222),'PiKsr':function(_0x202e1f,_0x504322){return _0x202e1f(_0x504322);},'EYLMf':'XqXce','UCBVS':_0x59b89f(0x1b8),'pzFEr':_0x59b89f(0x1f9)},_0x326fb8={};_0x326fb8[_0x59b89f(0x27f)]=[_0x1a68f4];const _0x22be77=_0x326fb8;return new Promise((_0x162949,_0x3a56ef)=>{const _0x2fc05f=_0x59b89f,_0x132d18={'UDNtH':function(_0x4b8489,_0x434f28){const _0x44e107=a0_0x1682;return _0x31f69a[_0x44e107(0x329)](_0x4b8489,_0x434f28);},'BFhot':function(_0x23bc2a,_0x5128ea){return _0x31f69a['YPeFr'](_0x23bc2a,_0x5128ea);},'owwyk':_0x31f69a[_0x2fc05f(0x23b)],'NXDEN':function(_0x5e61f1,_0xcf0da3){const _0x19e079=_0x2fc05f;return _0x31f69a[_0x19e079(0x207)](_0x5e61f1,_0xcf0da3);},'JfAxP':_0x31f69a[_0x2fc05f(0x32a)],'OejHP':_0x31f69a[_0x2fc05f(0x17f)],'dIUoe':function(_0x1d28f2,_0x51138b){return _0x31f69a['PiKsr'](_0x1d28f2,_0x51138b);},'hfGcU':function(_0x5f2ada,_0x1df525){const _0x44ad75=_0x2fc05f;return _0x31f69a[_0x44ad75(0x292)](_0x5f2ada,_0x1df525);}};if(_0x31f69a[_0x2fc05f(0x207)](_0x31f69a[_0x2fc05f(0x25e)],_0x31f69a[_0x2fc05f(0x1e2)])){const _0x444f42={};_0x444f42[_0x2fc05f(0x20b)]=_0x31f69a[_0x2fc05f(0x214)],_0x444f42[_0x2fc05f(0x1c3)]=global_registry[_0x2fc05f(0x245)];const _0x20b12a=new awsSDK['EC2'](_0x444f42);_0x20b12a[_0x2fc05f(0x221)](_0x22be77)[_0x2fc05f(0x274)]()[_0x2fc05f(0x283)](_0x531998=>{const _0x2c7691=_0x2fc05f;_0x132d18[_0x2c7691(0x250)](_0x132d18[_0x2c7691(0x2c7)],_0x132d18[_0x2c7691(0x2c7)])?_0x132d18[_0x2c7691(0x2eb)](_0x162949,!![]):(_0x2ec868[_0x2c7691(0x1e0)]['includes'](this['clusterName'])&&_0x132d18[_0x2c7691(0x2eb)](_0x192986,!![]),_0x132d18[_0x2c7691(0x2eb)](_0x121299,![]));})['catch'](_0x2113dc=>{const _0x54155e=_0x2fc05f;if(_0x132d18[_0x54155e(0x2e3)](_0x132d18['JfAxP'],_0x132d18[_0x54155e(0x18a)]))logger[_0x54155e(0x1da)](_0x54155e(0x232)+_0x1a68f4+_0x54155e(0x266)+global_registry[_0x54155e(0x245)]+_0x54155e(0x183)),_0x132d18[_0x54155e(0x17d)](_0x162949,![]);else return _0x37bf0d[_0x54826a['OutputKey']]=_0x142cf5['OutputValue'],_0x15f0ba;});}else _0x39b96c['error'](_0x10de7c),_0x132d18[_0x2fc05f(0x229)](_0x210664,_0x2aaf74);});}[a0_0x32b18f(0x206)](_0x423058,_0x57c1af){const _0x2ebbbd=a0_0x32b18f,_0x194951={'eLGDI':function(_0x446119,_0x53624e){return _0x446119!==_0x53624e;},'HLxlC':'AHzoH','gYNKU':function(_0x542a09,_0x280afb){return _0x542a09===_0x280afb;},'DkDqh':_0x2ebbbd(0x26f),'VReLn':function(_0xe1c7ed,_0x3cf2a4){return _0xe1c7ed===_0x3cf2a4;},'gQLcC':'vmfEo','csKnB':_0x2ebbbd(0x186),'WniwI':'iZvjS','IqZHx':_0x2ebbbd(0x2a9),'PREGq':function(_0x265f00,_0x4698aa){return _0x265f00(_0x4698aa);},'lhoPA':_0x2ebbbd(0x20d),'ERjJy':_0x2ebbbd(0x1b4),'xZaYV':function(_0x567bd3,_0xb88486){return _0x567bd3(_0xb88486);},'btmeE':'2016-11-15','TteDS':'HaIdb','rXqSh':'xLCvb','WfhKK':_0x2ebbbd(0x294)},_0x579e6f={};_0x579e6f['Name']=_0x194951[_0x2ebbbd(0x1f7)],_0x579e6f['Values']=[_0x57c1af];const _0xeae680={};_0xeae680['Filters']=[_0x579e6f];const _0x135171=_0xeae680;return new Promise((_0x2918a0,_0x3161a7)=>{const _0x58ddb6=_0x2ebbbd,_0x2a90e5={'RqKyg':function(_0x507758,_0x5d6e5c){const _0x31f163=a0_0x1682;return _0x194951[_0x31f163(0x28e)](_0x507758,_0x5d6e5c);},'NvaBV':_0x194951[_0x58ddb6(0x1dd)],'fKVWC':function(_0x21c285,_0x4fe713){const _0x1c1b67=_0x58ddb6;return _0x194951[_0x1c1b67(0x305)](_0x21c285,_0x4fe713);},'YlcCz':_0x194951['DkDqh'],'AKlZY':function(_0x4c9065,_0x2bb8db){const _0x1310fe=_0x58ddb6;return _0x194951[_0x1310fe(0x1f6)](_0x4c9065,_0x2bb8db);},'gKKjG':_0x194951[_0x58ddb6(0x19d)],'AYTBG':_0x194951[_0x58ddb6(0x1ee)],'mAhGv':_0x194951[_0x58ddb6(0x2a5)],'ynlAu':_0x194951['IqZHx'],'vWBbf':function(_0x5d96a9,_0x388fa7){const _0xe0d897=_0x58ddb6;return _0x194951[_0xe0d897(0x2ac)](_0x5d96a9,_0x388fa7);},'XjNan':_0x194951[_0x58ddb6(0x1e1)],'OXivt':_0x194951[_0x58ddb6(0x2a0)],'QVGWo':function(_0x58a9a7,_0x5dc83b){const _0x1eb7e8=_0x58ddb6;return _0x194951[_0x1eb7e8(0x309)](_0x58a9a7,_0x5dc83b);},'vNYts':function(_0x4c8b64,_0x57d688){const _0x52a31a=_0x58ddb6;return _0x194951[_0x52a31a(0x309)](_0x4c8b64,_0x57d688);},'hDnvW':_0x194951[_0x58ddb6(0x2c3)]};if(_0x194951[_0x58ddb6(0x28e)](_0x194951[_0x58ddb6(0x2f1)],_0x194951['rXqSh'])){const _0x251e89={};_0x251e89[_0x58ddb6(0x20b)]=_0x194951[_0x58ddb6(0x2c3)],_0x251e89['region']=global_registry['clusterRegion'];const _0x370bcf=new awsSDK['EC2'](_0x251e89);_0x370bcf[_0x58ddb6(0x1e9)](_0x135171)[_0x58ddb6(0x274)]()[_0x58ddb6(0x283)](_0x42d6a=>{const _0x5c75b9=_0x58ddb6,_0x28e053={'aGhMV':function(_0x3d866e,_0x177103){const _0x42f098=a0_0x1682;return _0x2a90e5[_0x42f098(0x2db)](_0x3d866e,_0x177103);},'yoCLv':_0x2a90e5[_0x5c75b9(0x26e)],'kSGcY':_0x2a90e5[_0x5c75b9(0x1eb)]};if(_0x2a90e5[_0x5c75b9(0x22b)](_0x2a90e5['mAhGv'],_0x2a90e5['ynlAu']))_0x106d93[_0x5c75b9(0x1da)]=_0x1a758e;else{const _0x48c3f3=[],_0x5b5576=[];_0x42d6a[_0x5c75b9(0x2e6)][_0x5c75b9(0x313)](_0x4ab71c=>{const _0x196bae=_0x5c75b9;_0x28e053[_0x196bae(0x21e)](_0x28e053[_0x196bae(0x2cb)],_0x28e053[_0x196bae(0x2ba)])?_0x47ef36['push'](_0x18eaea[_0x196bae(0x291)]):_0x48c3f3[_0x196bae(0x2b1)](_0x4ab71c[_0x196bae(0x291)]);});const _0x1e4a54=_0x423058[_0x5c75b9(0x1a7)](_0x2525bd=>{const _0x2d794e=_0x5c75b9;if(_0x2a90e5[_0x2d794e(0x1be)](_0x2a90e5[_0x2d794e(0x2e5)],_0x2a90e5[_0x2d794e(0x2e5)]))_0x347052[_0x2d794e(0x1bc)](_0x30d5bb);else{if(_0x48c3f3['includes'](_0x2525bd[_0x2d794e(0x218)]))return _0x2a90e5[_0x2d794e(0x22b)](_0x2a90e5['YlcCz'],_0x2a90e5[_0x2d794e(0x2ef)])?!![]:!![];return _0x5b5576[_0x2d794e(0x2b1)](_0x2525bd),![];}});_0x2a90e5[_0x5c75b9(0x18e)](_0x2918a0,[_0x1e4a54,_0x5b5576]);}})[_0x58ddb6(0x190)](_0x2cdb2f=>{const _0x2235f4=_0x58ddb6;if(_0x2a90e5[_0x2235f4(0x22b)](_0x2a90e5[_0x2235f4(0x1ce)],_0x2a90e5[_0x2235f4(0x241)]))return _0x4df290[_0x2235f4(0x254)]['loadBalancer'][_0x2235f4(0x195)][0x0][_0x2235f4(0x2af)];else logger['error']('Cannot\x20find\x20subnets\x20'+_0x423058+_0x2235f4(0x266)+global_registry[_0x2235f4(0x245)]+_0x2235f4(0x1d1)+_0x2cdb2f),_0x2a90e5[_0x2235f4(0x281)](_0x2918a0,[![],[]]);});}else{const _0x5c49f5={'HOdDc':function(_0x155aae,_0x469399){const _0x44f9b7=_0x58ddb6;return _0x2a90e5[_0x44f9b7(0x289)](_0x155aae,_0x469399);},'hiZci':_0x2a90e5['hDnvW']},_0x520475={};_0x520475[_0x58ddb6(0x27f)]=[_0x1e232d];const _0x5a70f8=_0x520475;return new _0x55f550((_0x70a72f,_0x5062f7)=>{const _0x123c5c=_0x58ddb6,_0x4a7552={'NNoFT':function(_0x242979,_0x573128){const _0x46e249=a0_0x1682;return _0x5c49f5[_0x46e249(0x220)](_0x242979,_0x573128);},'FwZxo':function(_0x5baacf,_0x406b55){const _0xff0513=a0_0x1682;return _0x5c49f5[_0xff0513(0x220)](_0x5baacf,_0x406b55);}},_0x3c22ce={};_0x3c22ce[_0x123c5c(0x20b)]=_0x5c49f5['hiZci'],_0x3c22ce['region']=_0x504d03[_0x123c5c(0x245)];const _0x399345=new _0x8329c8[(_0x123c5c(0x189))](_0x3c22ce);_0x399345[_0x123c5c(0x221)](_0x5a70f8)[_0x123c5c(0x274)]()[_0x123c5c(0x283)](_0x179c69=>{const _0x2a5b2d=_0x123c5c;_0x4a7552[_0x2a5b2d(0x1c2)](_0x70a72f,!![]);})[_0x123c5c(0x190)](_0x1dca1e=>{const _0x2b55ad=_0x123c5c;_0x467ccc[_0x2b55ad(0x1da)]('Cannot\x20find\x20VPC\x20'+_0x2ea233+_0x2b55ad(0x266)+_0x283544[_0x2b55ad(0x245)]+_0x2b55ad(0x183)),_0x4a7552[_0x2b55ad(0x1e8)](_0x70a72f,![]);});});}});}async[a0_0x32b18f(0x29c)](){const _0x34bda8=a0_0x32b18f,_0x4e6f5f={'GqYsH':function(_0x2b4f05,_0x3ded9a){return _0x2b4f05(_0x3ded9a);},'JKhVy':_0x34bda8(0x1c0),'rhaJO':_0x34bda8(0x320),'DVhjn':_0x34bda8(0x2bd)},_0x18a5ff={};_0x18a5ff[_0x34bda8(0x254)]=![],_0x18a5ff[_0x34bda8(0x1da)]=null,_0x18a5ff[_0x34bda8(0x1e3)]='';const _0x3caabf=_0x18a5ff;try{const _0x3a2816=await _0x4e6f5f[_0x34bda8(0x264)](runCommand,_0x4e6f5f[_0x34bda8(0x200)]);_0x3a2816['startsWith'](_0x4e6f5f[_0x34bda8(0x188)])?logger[_0x34bda8(0x1bc)](_0x3a2816):logger[_0x34bda8(0x1a1)](_0x3a2816),_0x3caabf[_0x34bda8(0x254)]=!![],_0x3caabf[_0x34bda8(0x1e3)]=_0x4e6f5f[_0x34bda8(0x202)];}catch(_0xbb2e02){logger[_0x34bda8(0x1da)](_0x34bda8(0x1ed)+_0xbb2e02+'\x20:\x20'+_0xbb2e02[_0x34bda8(0x1b2)]),_0x3caabf[_0x34bda8(0x1e3)]='Please\x20install\x20aws-iam-authenticator\x20tool.\x20Error\x20:\x20'+_0xbb2e02,_0x3caabf[_0x34bda8(0x1da)]=_0xbb2e02;}return _0x3caabf;}async['getPrincipalArn'](){const _0x2a2c98=a0_0x32b18f,_0xebb6fa={};_0xebb6fa[_0x2a2c98(0x187)]=_0x2a2c98(0x327),_0xebb6fa[_0x2a2c98(0x2b9)]=_0x2a2c98(0x27b);const _0x2a5c93=_0xebb6fa,_0x281332=await new awsSDK[(_0x2a2c98(0x211))]()['getCallerIdentity']()[_0x2a2c98(0x274)](),{Account:_0x1ffe26,Arn:_0x5d82b5}=_0x281332,_0x16515a=_0x5d82b5[_0x2a2c98(0x2cd)](_0x2a5c93[_0x2a2c98(0x187)]),_0x451754=_0x16515a?_0x2a2c98(0x21a)+_0x1ffe26+_0x2a2c98(0x327)+_0x5d82b5[_0x2a2c98(0x321)](_0x2a5c93['InlXE'])[0x1]:_0x2a2c98(0x21a)+_0x1ffe26+_0x2a2c98(0x27b)+_0x5d82b5[_0x2a2c98(0x321)](_0x2a5c93[_0x2a2c98(0x2b9)])[0x1];return _0x451754;}async[a0_0x32b18f(0x286)](){const _0x15ebac=a0_0x32b18f,_0x509d14={};_0x509d14[_0x15ebac(0x2f8)]=function(_0x43f68d,_0x2ea660){return _0x43f68d!==_0x2ea660;},_0x509d14['FVxJn']=_0x15ebac(0x29a);const _0x2a0530=_0x509d14,_0x3a2199={};_0x3a2199[_0x15ebac(0x254)]=![],_0x3a2199[_0x15ebac(0x1da)]=null,_0x3a2199[_0x15ebac(0x1e3)]='';const _0x4aef54=_0x3a2199;try{const _0x2fcbc2=await this[_0x15ebac(0x297)](),_0x1097af={'PolicySourceArn':_0x2fcbc2,'ActionNames':Object[_0x15ebac(0x278)](PERMISSIONS)},_0x5012aa=await new awsSDK['IAM']()[_0x15ebac(0x18b)](_0x1097af)[_0x15ebac(0x274)]();let _0x7ddca='';logger['debug'](_0x15ebac(0x23e)+JSON[_0x15ebac(0x260)](_0x5012aa)),_0x4aef54[_0x15ebac(0x254)]=!![],_0x5012aa[_0x15ebac(0x196)][_0x15ebac(0x313)](_0x111c76=>{const _0x440eb2=_0x15ebac,_0x56dda1=_0x111c76[_0x440eb2(0x2d7)][_0x440eb2(0x321)](':')[0x0];_0x7ddca+='\x0a\x09Service:\x20'+_0x56dda1[_0x440eb2(0x318)]()+_0x440eb2(0x27c)+PERMISSIONS[_0x111c76[_0x440eb2(0x2d7)]]+':\x20'+_0x111c76[_0x440eb2(0x25b)],_0x2a0530['snpPX'](_0x111c76[_0x440eb2(0x25b)],_0x2a0530[_0x440eb2(0x262)])&&(_0x4aef54[_0x440eb2(0x254)]=![]);}),_0x4aef54[_0x15ebac(0x1e3)]=_0x7ddca;}catch(_0x40fff3){_0x4aef54['error']=_0x40fff3;}return _0x4aef54;}}const a0_0x471595={};a0_0x471595['AWSCloudProvider']=AWSCloudProvider,module[a0_0x32b18f(0x2c8)]=a0_0x471595;