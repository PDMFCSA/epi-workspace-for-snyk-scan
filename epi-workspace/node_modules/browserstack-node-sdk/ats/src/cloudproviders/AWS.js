const a0_0x1af5e2=a0_0x1b5f;function a0_0x2909(){const _0x36349c=['match','qHddr','CpdoC','hubharesources','EvalDecision',',VPC\x20=>\x20','VMxAi','tEhxT','getCallerIdentity','../utils/createClusterStack','cluster','autoscaler-creation-failed','CSvrE','nodegroupName','UNiLZ','Outputs','exit','uvLsf','uiCaK','Error\x20occurred\x20while\x20setting\x20up\x20Hub\x20HA\x20infra:\x20','\x20failed\x20to\x20reach\x20the\x20available\x20state.','startsWith','getNodeGroupInfo','warn','describeNodegroup','update','QNYpL','LlofU','available','gouyM','RqeHd','add','qDScr','keys','lIMUp','createNamespacedConfigMap','LotNP','forEach','warning','FZdbU','\x20in\x20region\x20','../config/constants','drZTb','TpFQy','exports','695165GYtWEg','Please\x20install\x20aws-iam-authenticator\x20tool.\x20Error\x20:\x20','BIWgF','clusterName','Added\x20storage\x20class.','Creating\x20required\x20resources\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','\x20|\x20Action\x20:\x20','uPVcZ','Autoscaler\x20Role\x20created.ARN:\x20','../utils/createHubHaStack','OUARY','Cannot\x20find\x20VPC\x20','ERROR','dcuYG','Added\x20EFS\x20CSI\x20Driver','rUbxf','Dvvdh','YtKrJ','SoeyZ','lFFmd','WkOmT','SuHCZ','Mount\x20target\x20','../permissions/AWS.json','cloudProviderSecretKey','268098YPATby','nBrDS','fbbTS','CZCyH','xJVxi','Creating\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','setCachedCredsInRegistry','storage-class.yaml','secretAccessKey','LifeCycleState','-NodeGroup','zlXxI','waitForMountTarget','utf-8','ZaPSR','TPVGy','SubnetId','UlwJT','qFBxv','parameters','SnEqD','KspwJ','namespace','body','iIOCG','MrvGO','gpoJU','../utils/hstUtils','sendResourceDataToHST','FileSystemId','sWJDB','krjBC','templates','BrRiF','xEfuH','Authmap\x20already\x20exists.\x20Not\x20updating','hLlOh','Stacks','NodeRole\x20=>\x20','createAuthConfigMap','xTvtl','ewxuY','evMwY','yrecG','wHlDq','aKRrq','\x0a\x09Service:\x20','loadBalancer','xdcce','moppB','NFBhN','KubeConfigTemplate.yaml','jMxMv','tXucm','FEOtg','has','Sliwv','data','EFSFileSystemId','ingress','Adding\x20storage\x20class...','XhHnz','getKubeConfigData','deleteCluster','toUpperCase','rXkoG','ClcfG','eFHiM','load','error\x20:\x20','OvtGQ','getUserInput','type','../utils/createAutoscalerStack','BgmgR','sNboN',',\x20ClusterRole\x20=>\x20','getGridHostname','uDozi','UAxEA','lOSsm','describeCluster','Cannot\x20find\x20subnets\x20','zRvRn','describeSubnets','UTNdK',':role/','OutputValue','Subnets','xroHV','EFS\x20Controller\x20Role\x20=>\x20','Name','iilAC','reduce','kRupi','KrHpb',',\x20EFS_FileSystem\x20=>\x20','kkAnd','clusters','vpc-id','apiVersion','../config/logger','tags','endpoint','UIoag','CISzV','gWsAQ','then','KNwkd','info','CTfqj','EwXdR','3829326nJBrrI','bUdGg','error','aqQiM','NuWrF','pPbuu','../utils/utilityMethods','loIkD','EFS\x20SecurityGroup\x20=>\x20','Following\x20resources\x20are\x20created:\x20Cluster\x20=>\x20','VpcIds','includes','UzmZB','LshuK','status','./CloudProvider','stack','kBqrP','CpoYZ','VqxPs','LOG','9102912VVBiwG','opAXO','hostname','KIrKO','cloudProviderName','aws-iam-authenticator\x20tool\x20is\x20installed','LThit','createMountTargets','cloudProvider','bqMed','PlMBG','OutputKey','Error\x20creating\x20mount\x20target\x20for\x20subnet\x20','DCWsw','name','push','gzTSv','create-grid-called','\x0aaws_secret_access_key\x20=\x20','YOFCx','init','value','IALvW','TEbyT','message','4FrjUnt','SecurityGroups\x20=>\x20','VndDs','../utils/gridComponents','rWMhp','wUIOI','MpaeB','sZbLU','zdUGu','kube-system','every','eaoGe','label','zSyyr','uOBtB','SIazM','failed','wwaKY','LclZu','maxNodes','checkClusterCreated','Adding\x20EFS\x20CSI\x20Driver','lrevY','oLJFm','sGXYN','all','.\x20Deleting\x20all\x20the\x20stacks','EvalActionName','setupAutoscaler','SiFUP','EnznU','FRcnV','join','accessKey','Intercepted','VMLlW','debug','DmVYW','sKEqA',':user/','SMEKs','Nxigg','createMountTargetAndWait','EC2','2016-11-15','certificateAuthority','Setting\x20up\x20Hub\x20HA','LgIaV','iJPHu','fileSystemId','XxnKY','EJwNI','plnCn','clusterAutoUpgrade','kNOoC','.\x20Please\x20Check\x20and\x20try\x20again','js-yaml','xJHFM','<ARN>','webSocketUtils',',\x20EFS_SecurityGroup\x20=>\x20','0|1|4|3|2','Following\x20resources\x20are\x20created:','IAM','DCZhM','aws_credentials','2017-11-01','EFS','ZuKue','qTZLv','config','checkAccess','simulatePrincipalPolicy','UfiTv','pdasc','catch','USAYE','HllDU','Cluster\x20=>\x20','getClusterInfo','pcpAO','arn:aws:iam::','uzLzS','secret','region','readFileAsync','createStorageClass','Creating\x20required\x20dependencies\x20for\x20Hub\x20HA\x20-\x20IAM\x20Role\x20for\x20EFS\x20CSI\x20Controller,\x20Security\x20Group,\x20EFS','toString','\x20SECRET\x20KEY:\x20','BJbXE','EFSControllerRoleArn','GDQQn','\x20has\x20already\x20been\x20used.','moRzg','NAaPm','7gxfvgo','LBtjZ','KUhcL','1032972oLbpbP','sTaCP','MountTargetId','UUFck','permissions\x20check\x20response:\x20','mSBYw','giCwX','.\x20Error:\x20','aws-iam-authenticator\x20help','kWvNv','jRzvO','Mounting\x20Target\x20for\x20EFS','isVPCPresent','path',',\x20SecurityGroups\x20=>\x20','BWXJB','TbuZq','flPre','toLowerCase','listClusters','replace','fPFLG','oSxXd','Skipping\x20subnet\x20','7189632sWivmI','Bgjct','EKS','gjTyo','hofux','\x20:\x20','setupNewCluster','cloudProviderAccessKey','DjsOF','bgBWf','sendEventToBackend','rws','ZfMMA','createMountTarget','wVAQx','ytTFa','shRHd','fFPGv','XjLKv','KjJeF','Created\x20EFS\x20CSI\x20Driver\x20&\x20Storage\x20Class','UNzjm','IpOMF','SecurityGroups','describeVpcs','VPC\x20=>\x20','promise','mapRoles','tGomr','Mount\x20target\x20created\x20for\x20subnet:\x20','lWDUP','clusterRegion','isSubnetsValid','getAvailabilityZone','minNodes','FqdRo','bFPZg','CEGfW','efs-csi-driver-aws.yaml',',\x20Subnets\x20=>\x20','yFkYp','split','MountTargets','173486kgGoAa','OHXzj','Skipping\x20Autoscaler\x20due\x20to:\x20','uuPVc','iZDJF','OTbGR','OYUHP','describeMountTargets','RQcAn','sdKCY','KcXgy','browserstack:managedBy','getPrincipalArn','psKyQ','XuMUB','EvaluationResults','ImGdL','ImiAm'];a0_0x2909=function(){return _0x36349c;};return a0_0x2909();}(function(_0x947a78,_0x4ff51b){const _0x26c699=a0_0x1b5f,_0xb096be=_0x947a78();while(!![]){try{const _0x3ca376=parseInt(_0x26c699(0x153))/0x1+-parseInt(_0x26c699(0x196))/0x2+parseInt(_0x26c699(0x1ee))/0x3*(parseInt(_0x26c699(0xf0))/0x4)+-parseInt(_0x26c699(0x1d5))/0x5+parseInt(_0x26c699(0xc2))/0x6*(-parseInt(_0x26c699(0x150))/0x7)+parseInt(_0x26c699(0xd7))/0x8+-parseInt(_0x26c699(0x16b))/0x9;if(_0x3ca376===_0x4ff51b)break;else _0xb096be['push'](_0xb096be['shift']());}catch(_0xc3409c){_0xb096be['push'](_0xb096be['shift']());}}}(a0_0x2909,0x91d6d));const fs=require('fs'),path=require(a0_0x1af5e2(0x160)),yaml=require(a0_0x1af5e2(0x128)),awsSDK=require('aws-sdk'),{logger}=require(a0_0x1af5e2(0xb7)),{CloudProvider}=require(a0_0x1af5e2(0xd1)),{sendAWSInfoToHST}=require(a0_0x1af5e2(0x209)),{createClusterStack}=require(a0_0x1af5e2(0x1b1)),{createHubHaStack}=require(a0_0x1af5e2(0x1de)),{deleteClusterAndDependencies,deleteRoutingDeps,deleteAgent}=require(a0_0x1af5e2(0xf3)),{createAutoscalerStack}=require(a0_0x1af5e2(0x237)),{getDirForConfig,reportToGalactusAndSendToEDS,kubeApply,runCommand}=require(a0_0x1af5e2(0xc8)),{IAM_USER_NAME,AWS,WS_EVENTS,global_registry,messageTypes}=require(a0_0x1af5e2(0x1d1)),PERMISSIONS=require(a0_0x1af5e2(0x1ec));function a0_0x1b5f(_0x49fc1c,_0xcc9a7b){const _0x29094a=a0_0x2909();return a0_0x1b5f=function(_0x1b5f84,_0x29e438){_0x1b5f84=_0x1b5f84-0xb1;let _0xd2290=_0x29094a[_0x1b5f84];return _0xd2290;},a0_0x1b5f(_0x49fc1c,_0xcc9a7b);}class AWSCloudProvider extends CloudProvider{constructor(_0x3e4480,_0x12f480,_0x4d6b98,_0x4cda6a){super(AWS,_0x3e4480,_0x12f480,_0x4d6b98,_0x4cda6a);}async[a0_0x1af5e2(0xeb)](){const _0x58f096=a0_0x1af5e2;await super[_0x58f096(0xeb)]();const _0x639a61={};return _0x639a61[_0x58f096(0x144)]=global_registry[_0x58f096(0x18a)],_0x639a61['accessKeyId']=global_registry[_0x58f096(0x172)],_0x639a61[_0x58f096(0x1f6)]=global_registry[_0x58f096(0x1ed)],awsSDK[_0x58f096(0x136)][_0x58f096(0x1c1)](_0x639a61),this;}async[a0_0x1af5e2(0x20a)](){const _0x591c1a=a0_0x1af5e2,_0x514241={'CEGfW':function(_0x170664,_0x284940){return _0x170664(_0x284940);}};_0x514241[_0x591c1a(0x190)](sendAWSInfoToHST,this[_0x591c1a(0x176)]);}async[a0_0x1af5e2(0x1f4)](_0x3aa89c){const _0xfd19f3=a0_0x1af5e2;global_registry[_0xfd19f3(0x172)]=_0x3aa89c[this[_0xfd19f3(0xdb)]][_0xfd19f3(0x111)],global_registry[_0xfd19f3(0x1ed)]=_0x3aa89c[this['cloudProviderName']][_0xfd19f3(0x143)];}[a0_0x1af5e2(0x23b)](_0x2b7428){const _0x4b0636=a0_0x1af5e2;return _0x2b7428[_0x4b0636(0xd0)]['loadBalancer'][_0x4b0636(0x229)][0x0][_0x4b0636(0xd9)];}async['isBrowserstackCluster'](){const _0x5d35fa=a0_0x1af5e2,_0x7b395f={'KspwJ':function(_0x4558dc,_0x275785){return _0x4558dc(_0x275785);},'jurzR':_0x5d35fa(0x11c),'bUdGg':function(_0x565057,_0x45a658){return _0x565057!==_0x45a658;},'XjLKv':_0x5d35fa(0x207),'BIDDG':function(_0x4a48cc,_0x308e76){return _0x4a48cc===_0x308e76;},'eaoGe':_0x5d35fa(0x210),'rWMhp':_0x5d35fa(0x220),'GXrQc':function(_0x5e0db2,_0x14f070){return _0x5e0db2===_0x14f070;},'EuBkD':_0x5d35fa(0x1a1),'zSyyr':'browserstack','CeSQJ':function(_0x1880ac,_0x31f8ed){return _0x1880ac===_0x31f8ed;},'GAnmN':'nQTMd','egHZY':'SZHrP'};try{if(_0x7b395f[_0x5d35fa(0xc3)](_0x7b395f[_0x5d35fa(0x17d)],_0x7b395f[_0x5d35fa(0x17d)]))_0x7b395f['KspwJ'](_0xc5f45c,!![]);else{const _0x3b833a=await this[_0x5d35fa(0x13f)]();if(_0x3b833a[_0x5d35fa(0x1b2)]){if(_0x7b395f['BIDDG'](_0x7b395f[_0x5d35fa(0xfb)],_0x7b395f[_0x5d35fa(0xf4)])){const _0x3c32b9={'lrevY':function(_0xb77376,_0x39ce03){const _0x71e9df=_0x5d35fa;return _0x7b395f[_0x71e9df(0x203)](_0xb77376,_0x39ce03);}},_0x46411c={};_0x46411c[_0x5d35fa(0xcc)]=[_0x1bfe9a];const _0x198c5a=_0x46411c;return new _0x2b5359((_0x48b654,_0x160053)=>{const _0x19edc3=_0x5d35fa,_0x1ed57e={'bFPZg':function(_0x53358a,_0x12e820){const _0x22eebb=a0_0x1b5f;return _0x7b395f[_0x22eebb(0x203)](_0x53358a,_0x12e820);}},_0x34935c={};_0x34935c['apiVersion']=_0x7b395f['jurzR'],_0x34935c[_0x19edc3(0x144)]=_0x1fe78c[_0x19edc3(0x18a)];const _0x53e4a4=new _0x3c0160[(_0x19edc3(0x11b))](_0x34935c);_0x53e4a4[_0x19edc3(0x183)](_0x198c5a)[_0x19edc3(0x185)]()[_0x19edc3(0xbd)](_0x5d7f25=>{const _0x2b7ceb=_0x19edc3;_0x1ed57e[_0x2b7ceb(0x18f)](_0x48b654,!![]);})['catch'](_0x4d052c=>{const _0xc424d4=_0x19edc3;_0x2a3f9b[_0xc424d4(0xc4)]('Cannot\x20find\x20VPC\x20'+_0x450269+_0xc424d4(0x1d0)+_0x113080[_0xc424d4(0x18a)]+'.\x20Please\x20Check\x20and\x20try\x20again'),_0x3c32b9[_0xc424d4(0x106)](_0x48b654,![]);});});}else{const _0x29d643=_0x3b833a['cluster'][_0x5d35fa(0xb8)];return _0x29d643&&_0x7b395f['GXrQc'](_0x29d643[_0x7b395f['EuBkD']][_0x5d35fa(0x165)](),_0x7b395f[_0x5d35fa(0xfd)]);}}}}catch(_0x1e365e){if(_0x7b395f['CeSQJ'](_0x7b395f['GAnmN'],_0x7b395f['egHZY']))_0x21e0f6[_0x5d35fa(0x1bf)](_0x135a20);else return![];}return![];}async['isClusterPresent'](){const _0x4793d2=a0_0x1af5e2;return this[_0x4793d2(0x104)]();}async['getClusterInfo'](){const _0x28df43=a0_0x1af5e2,_0x9d7a2a={};_0x9d7a2a[_0x28df43(0xe7)]='2017-11-01';const _0x1605b2=_0x9d7a2a,_0x2b5efe={};_0x2b5efe[_0x28df43(0xb6)]=_0x1605b2['gzTSv'];const _0xd98f5b=new awsSDK[(_0x28df43(0x16d))](_0x2b5efe),_0x57cffb={};return _0x57cffb[_0x28df43(0xe5)]=this[_0x28df43(0x1d8)],_0xd98f5b[_0x28df43(0x23f)](_0x57cffb)[_0x28df43(0x185)]();}async[a0_0x1af5e2(0x215)](_0x551ea1){const _0x151df2=a0_0x1af5e2,_0x30669f={};_0x30669f[_0x151df2(0x102)]=_0x151df2(0x20e),_0x30669f[_0x151df2(0x24a)]='aws-auth-cm.yaml',_0x30669f[_0x151df2(0x19f)]=_0x151df2(0x1fb),_0x30669f[_0x151df2(0x168)]=_0x151df2(0x12a);const _0x5d0b6a=_0x30669f,_0x5a64c2=await fs[_0x151df2(0x145)](path[_0x151df2(0x110)](__dirname,'..',_0x5d0b6a[_0x151df2(0x102)],_0x5d0b6a['iilAC']),_0x5d0b6a[_0x151df2(0x19f)]),_0x822261=yaml['load'](_0x5a64c2);return _0x822261[_0x151df2(0x227)]['mapRoles']=_0x822261['data'][_0x151df2(0x186)]['replace'](_0x5d0b6a['fPFLG'],_0x551ea1),_0x822261;}async[a0_0x1af5e2(0x1be)](_0x4f1adb){const _0x17337e=a0_0x1af5e2,_0x13ff10={};_0x13ff10[_0x17337e(0x234)]=_0x17337e(0x132);const _0x222ad8=_0x13ff10,_0x43db75={};_0x43db75[_0x17337e(0xb6)]=_0x222ad8[_0x17337e(0x234)];const _0x4043ed=new awsSDK[(_0x17337e(0x16d))](_0x43db75),_0x5c3dbb={};return _0x5c3dbb[_0x17337e(0x1d8)]=this[_0x17337e(0x1d8)],_0x5c3dbb[_0x17337e(0x1b5)]=_0x4f1adb,_0x4043ed[_0x17337e(0x1c0)](_0x5c3dbb)[_0x17337e(0x185)]();}async['checkClusterCreated'](){const _0x541f53=a0_0x1af5e2,_0xcac35f={'SIazM':function(_0x50d5d1,_0x4b61ee){return _0x50d5d1===_0x4b61ee;},'eFHiM':_0x541f53(0xf5),'PlMBG':_0x541f53(0x16f),'YOFCx':function(_0xa04960,_0x5cf0d2){return _0xa04960(_0x5cf0d2);},'VMxAi':_0x541f53(0x132),'jMxMv':function(_0x505025,_0x45810c){return _0x505025!==_0x45810c;},'KzHYt':_0x541f53(0x23c),'qTZLv':function(_0x10bb0d,_0xb5307e){return _0x10bb0d(_0xb5307e);},'iWzpU':_0x541f53(0x11c),'Dvvdh':function(_0x2f1711,_0x5c8f05){return _0x2f1711===_0x5c8f05;},'DmVYW':_0x541f53(0x139)};return new Promise((_0x54644c,_0x2b7d23)=>{const _0x3c2cbb=_0x541f53,_0x5125ba={'nElRq':_0xcac35f[_0x3c2cbb(0x1ae)],'sTaCP':function(_0x14f873,_0x5ba0fc){const _0x3be955=_0x3c2cbb;return _0xcac35f[_0x3be955(0x222)](_0x14f873,_0x5ba0fc);},'KcXgy':_0xcac35f['KzHYt'],'DCWsw':function(_0x1b02fc,_0x1ec41b){const _0x475d8d=_0x3c2cbb;return _0xcac35f[_0x475d8d(0x135)](_0x1b02fc,_0x1ec41b);},'XQPwH':_0xcac35f['iWzpU']};if(_0xcac35f[_0x3c2cbb(0x1e5)](_0xcac35f[_0x3c2cbb(0x115)],_0xcac35f[_0x3c2cbb(0x115)])){const _0x5201e6={};_0x5201e6[_0x3c2cbb(0xb6)]=_0xcac35f[_0x3c2cbb(0x1ae)];const _0x379283=new awsSDK['EKS'](_0x5201e6);_0x379283[_0x3c2cbb(0x166)]()[_0x3c2cbb(0x185)]()['then'](_0x3f2af7=>{const _0x225efb=_0x3c2cbb;if(_0xcac35f[_0x225efb(0xff)](_0xcac35f['eFHiM'],_0xcac35f[_0x225efb(0x231)]))_0x3f2af7[_0x225efb(0xb4)]['includes'](this['clusterName'])&&(_0xcac35f[_0x225efb(0xff)](_0xcac35f['PlMBG'],_0xcac35f[_0x225efb(0xe1)])?_0xcac35f[_0x225efb(0xea)](_0x54644c,!![]):(_0x334c9e['error'](_0x225efb(0x233)+_0x1bfa86+_0x225efb(0x170)+_0x22ef7e['stack']),_0x2c891a['data']='Please\x20install\x20aws-iam-authenticator\x20tool.\x20Error\x20:\x20'+_0x2ebc5a,_0x5efe4f[_0x225efb(0xc4)]=_0x1e8b8f)),_0xcac35f[_0x225efb(0xea)](_0x54644c,![]);else{const _0x2bbac4={};_0x2bbac4[_0x225efb(0xfc)]=_0x144dc1,_0x2bbac4[_0x225efb(0xec)]=_0x566f52,_0x52e6b0['push'](_0x2bbac4);}})[_0x3c2cbb(0x13b)](_0x198b55=>{const _0x173bd2=_0x3c2cbb;if(_0x5125ba[_0x173bd2(0x154)](_0x5125ba[_0x173bd2(0x1a0)],_0x5125ba[_0x173bd2(0x1a0)])){const _0x4472ad={};_0x4472ad[_0x173bd2(0xb6)]=_0x5125ba['nElRq'];const _0x18a2f3=new _0x8f3c74[(_0x173bd2(0x16d))](_0x4472ad),_0x39c031={};return _0x39c031[_0x173bd2(0xe5)]=this['clusterName'],_0x18a2f3[_0x173bd2(0x23f)](_0x39c031)[_0x173bd2(0x185)]();}else logger[_0x173bd2(0xc4)](_0x198b55),_0x5125ba['DCWsw'](_0x2b7d23,_0x198b55);});}else{const _0x3b12a3={};_0x3b12a3[_0x3c2cbb(0xb6)]=_0x5125ba['XQPwH'],_0x3b12a3[_0x3c2cbb(0x144)]=_0x4f43eb[_0x3c2cbb(0x18a)];const _0x388831=new _0x4420e1[(_0x3c2cbb(0x11b))](_0x3b12a3);_0x388831[_0x3c2cbb(0x183)](_0xcc8beb)[_0x3c2cbb(0x185)]()[_0x3c2cbb(0xbd)](_0x8fed63=>{const _0x3890c8=_0x3c2cbb;_0x5125ba[_0x3890c8(0xe4)](_0x3e8247,!![]);})[_0x3c2cbb(0x13b)](_0x11ce75=>{const _0x3bae4d=_0x3c2cbb;_0x482b1a[_0x3bae4d(0xc4)](_0x3bae4d(0x1e0)+_0x1c51f5+_0x3bae4d(0x1d0)+_0x3488ea[_0x3bae4d(0x18a)]+_0x3bae4d(0x127)),_0x5125ba['DCWsw'](_0x25d341,![]);});}});}async[a0_0x1af5e2(0x235)](_0x424f7d,_0x48ee76){const _0x5c0a84=a0_0x1af5e2,_0x2677a0={'iIOCG':function(_0x5edc28,_0x18998e){return _0x5edc28(_0x18998e);}},_0x27503c=this[_0x5c0a84(0xdb)][_0x5c0a84(0x22e)](),_0x50e5eb=await _0x2677a0[_0x5c0a84(0x206)](_0x424f7d,_0x27503c+'\x20ACCESS\x20KEY:\x20'),_0x3697ed=await _0x2677a0['iIOCG'](_0x424f7d,_0x27503c+_0x5c0a84(0x149));global_registry[_0x5c0a84(0x172)]=_0x50e5eb,global_registry[_0x5c0a84(0x1ed)]=_0x3697ed;const _0x36bf37={};return _0x36bf37[_0x5c0a84(0x111)]=_0x50e5eb,_0x36bf37['secret']=_0x3697ed,_0x48ee76[_0x5c0a84(0xdf)][AWS]=_0x36bf37,_0x48ee76;}async[a0_0x1af5e2(0x22c)](){const _0x34fde5=a0_0x1af5e2,_0x34b4e8={'flPre':function(_0x294ed6){return _0x294ed6();},'XxnKY':_0x34fde5(0x131),'psKyQ':_0x34fde5(0x20e),'ruhaY':_0x34fde5(0x221)},_0x5e55a0=_0x34b4e8[_0x34fde5(0x164)](getDirForConfig),_0x1de047=await this['getClusterInfo'](),_0x3ea4d0=path[_0x34fde5(0x110)](_0x5e55a0,_0x34b4e8[_0x34fde5(0x122)]),_0x50d825='[ats]\x0aaws_access_key_id\x20=\x20'+global_registry[_0x34fde5(0x172)]+_0x34fde5(0xe9)+global_registry['cloudProviderSecretKey'];fs['writeFileSync'](_0x3ea4d0,_0x50d825);let _0xc9655f=await fs[_0x34fde5(0x145)](path[_0x34fde5(0x110)](__dirname,'..',_0x34b4e8[_0x34fde5(0x1a3)],_0x34b4e8['ruhaY']));return _0xc9655f=_0xc9655f[_0x34fde5(0x148)](),_0xc9655f=_0xc9655f[_0x34fde5(0x167)](/<CLUSTER_NAME>/g,this[_0x34fde5(0x1d8)]),_0xc9655f=_0xc9655f[_0x34fde5(0x167)](/<CLUSTER_URL>/g,_0x1de047[_0x34fde5(0x1b2)][_0x34fde5(0xb9)]),_0xc9655f=_0xc9655f['replace'](/<CERTIFICATE_DATA>/g,_0x1de047[_0x34fde5(0x1b2)][_0x34fde5(0x11d)][_0x34fde5(0x227)]),_0xc9655f=_0xc9655f[_0x34fde5(0x167)](/<CLUSTER_REGION>/g,global_registry['clusterRegion']),_0xc9655f=_0xc9655f[_0x34fde5(0x167)](/<CLUSTER_NAME_USER>/g,IAM_USER_NAME),_0xc9655f=_0xc9655f[_0x34fde5(0x167)](/<CLOUD_PROVIDER_ACCESS_KEY>/g,global_registry['cloudProviderAccessKey']),_0xc9655f=_0xc9655f[_0x34fde5(0x167)](/<CLOUD_PROVIDER_SECRET>/g,global_registry[_0x34fde5(0x1ed)]),_0xc9655f=_0xc9655f['replace'](/<AWS_CONFIG_FILE_PATH>/g,_0x3ea4d0),_0xc9655f;}async[a0_0x1af5e2(0x171)](_0x302566=null,_0x15d318=null){const _0x1932ac=a0_0x1af5e2,_0x9adb83={'xmqbN':function(_0x14fb7a,_0x3e1596){return _0x14fb7a(_0x3e1596);},'kRupi':'Creating\x20required\x20resources\x20-\x20EKS\x20role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups,\x20Cluster\x20and\x20Node\x20Group(s)','uzLzS':'Creating\x20required\x20dependencies\x20-\x20EKS\x20Role(s),\x20VPC,\x20Subnets,\x20Security\x20Groups\x20and\x20Cluster\x20and\x20Node\x20Group(s)','FqdRo':function(_0x471ec5,_0x801783,_0x133f74,_0x1c0cc9,_0x4bb943,_0x33ed4d,_0x543c40){return _0x471ec5(_0x801783,_0x133f74,_0x1c0cc9,_0x4bb943,_0x33ed4d,_0x543c40);},'rpAgO':_0x1932ac(0x12e),'Bgjct':function(_0xdb8205,_0x504da7){return _0xdb8205===_0x504da7;},'BJbXE':function(_0x5aaa68,_0x7a6d54){return _0x5aaa68!==_0x7a6d54;},'CSvrE':_0x1932ac(0x134),'Cguxw':'zSZHr','xJHFM':_0x1932ac(0x17e),'Nxigg':_0x1932ac(0x20d)},_0x450179={};_0x450179[_0x1932ac(0x236)]=WS_EVENTS[_0x1932ac(0xd6)],_0x450179['message']=_0x9adb83[_0x1932ac(0x24c)],this[_0x1932ac(0x12b)][_0x1932ac(0x175)](this['rws'],_0x450179),logger[_0x1932ac(0xbf)](_0x9adb83[_0x1932ac(0x142)]);const _0x4d6af1=global_registry[_0x1932ac(0x18d)],_0xb38cbc=global_registry[_0x1932ac(0x103)],_0x305803=global_registry[_0x1932ac(0x125)],_0x229cc5=await _0x9adb83[_0x1932ac(0x18e)](createClusterStack,this[_0x1932ac(0x1d8)],_0x4d6af1,_0xb38cbc,_0x302566,_0x15d318,_0x305803),_0x13d3a4=_0x229cc5[_0x1932ac(0x213)][0x0]['Outputs'][0x0][_0x1932ac(0x245)][_0x1932ac(0x194)](','),_0x14f4e3=_0x229cc5[_0x1932ac(0x213)][0x0][_0x1932ac(0x1b7)][0x1]['OutputValue'],_0xf581cf=_0x229cc5[_0x1932ac(0x213)][0x0]['Outputs'][0x3][_0x1932ac(0x245)],_0x730ee0=_0x229cc5[_0x1932ac(0x213)][0x0][_0x1932ac(0x1b7)][0x4][_0x1932ac(0x245)];logger[_0x1932ac(0xbf)](_0x9adb83['rpAgO']),logger[_0x1932ac(0xbf)](_0x1932ac(0x13e)+_0xf581cf+'\x20'),logger[_0x1932ac(0xbf)]('ClusterRole\x20=>\x20'+_0x14f4e3+'\x20'),logger['info'](_0x1932ac(0xf1)+_0x13d3a4+'\x20'),logger[_0x1932ac(0xbf)](_0x1932ac(0x214)+_0x730ee0+'\x20');let _0x4de128=_0x1932ac(0xcb)+_0xf581cf+_0x1932ac(0x23a)+_0x14f4e3+_0x1932ac(0x161)+_0x13d3a4+',\x20NodeRole\x20=>\x20'+_0x730ee0;if(_0x9adb83[_0x1932ac(0x16c)](_0x302566,null)&&_0x9adb83['Bgjct'](_0x15d318,null)){if(_0x9adb83['BJbXE'](_0x9adb83[_0x1932ac(0x1b4)],_0x9adb83['Cguxw'])){const _0x514ec1=_0x229cc5[_0x1932ac(0x213)][0x0][_0x1932ac(0x1b7)][0x2][_0x1932ac(0x245)],_0x20ba71=_0x229cc5[_0x1932ac(0x213)][0x0][_0x1932ac(0x1b7)][0x5]['OutputValue']['split'](',');_0x302566=_0x514ec1;const _0x46b121=[];for(const _0xe638e5 of _0x20ba71){if(_0x9adb83[_0x1932ac(0x14a)](_0x9adb83[_0x1932ac(0x129)],_0x9adb83[_0x1932ac(0x119)])){const _0x5d343d={};_0x5d343d[_0x1932ac(0xfc)]=_0xe638e5,_0x5d343d['value']=_0xe638e5,_0x46b121[_0x1932ac(0xe6)](_0x5d343d);}else throw new _0x2c0c6a(_0x1932ac(0x1eb)+_0x4acbe4+_0x1932ac(0x1bc));}_0x15d318=_0x46b121,logger['info'](_0x1932ac(0x184)+_0x514ec1+'\x20'),logger[_0x1932ac(0xbf)]('Subnets\x20=>\x20'+_0x20ba71+'\x20'),_0x4de128+=_0x1932ac(0x1ad)+_0x514ec1+_0x1932ac(0x192)+_0x20ba71+',\x20';}else{const _0x36606b=[],_0x4b89fa=[];_0x34fa90[_0x1932ac(0x246)][_0x1932ac(0x1cd)](_0x8f6678=>{const _0x3dc40d=_0x1932ac;_0x36606b[_0x3dc40d(0xe6)](_0x8f6678[_0x3dc40d(0x1fe)]);});const _0x3bb9aa=_0x2b526d[_0x1932ac(0xfa)](_0x4318be=>{const _0x4918b4=_0x1932ac;if(_0x36606b[_0x4918b4(0xcd)](_0x4318be[_0x4918b4(0xec)]))return!![];return _0x4b89fa[_0x4918b4(0xe6)](_0x4318be),![];});_0x9adb83['xmqbN'](_0xed80c0,[_0x3bb9aa,_0x4b89fa]);}}const _0x498f30={};return _0x498f30[_0x1932ac(0x236)]=WS_EVENTS[_0x1932ac(0xd6)],_0x498f30[_0x1932ac(0xef)]=_0x4de128,this['webSocketUtils'][_0x1932ac(0x175)](this[_0x1932ac(0x176)],_0x498f30),[_0x302566,_0x15d318];}async[a0_0x1af5e2(0x22d)](_0x1123d7,_0x473ef9){const _0x2b3fca=a0_0x1af5e2,_0x36811d={'EJwNI':function(_0x4d0c40,_0x41cf01){return _0x4d0c40(_0x41cf01);},'lnDSA':function(_0x5ce073,_0x255b26){return _0x5ce073(_0x255b26);},'UNzjm':function(_0x440154,_0x3a78c3,_0x1399e3){return _0x440154(_0x3a78c3,_0x1399e3);}};await _0x36811d[_0x2b3fca(0x123)](deleteAgent,_0x1123d7),await _0x36811d['lnDSA'](deleteRoutingDeps,_0x1123d7),await _0x36811d[_0x2b3fca(0x180)](deleteClusterAndDependencies,_0x473ef9,this['clusterName']);}async[a0_0x1af5e2(0x10c)](_0x70cc96,_0x23eba2){const _0x1e8d34=a0_0x1af5e2,_0xe508b3={'xJVxi':function(_0x5535ef,_0x182f49){return _0x5535ef===_0x182f49;},'SnEqD':_0x1e8d34(0x1a1),'IpOMF':'browserstack','opAXO':_0x1e8d34(0x211),'shRHd':function(_0x3d516d,_0x227264){return _0x3d516d!==_0x227264;},'zRvRn':_0x1e8d34(0x173),'EnznU':'Creating\x20Autoscaler\x20Role','WxKDE':function(_0x1d2d2c,_0x4989f5){return _0x1d2d2c!==_0x4989f5;},'BIWgF':_0x1e8d34(0x116),'SRtkk':function(_0x1405f5,_0x3d08c0){return _0x1405f5(_0x3d08c0);},'rUbxf':function(_0x4555c9,_0x25f580){return _0x4555c9===_0x25f580;},'gpoJU':_0x1e8d34(0x16e),'FZdbU':'bjdNr','RqeHd':_0x1e8d34(0x152),'NAaPm':function(_0x10c74b,_0x557eb5,_0x48782a,_0x3b9b10,_0x17eba4,_0x46401b,_0x406eb2,_0x3b2b54){return _0x10c74b(_0x557eb5,_0x48782a,_0x3b9b10,_0x17eba4,_0x46401b,_0x406eb2,_0x3b2b54);},'UzmZB':'create-grid-called','uuPVc':'reportToGalactusAndSendToEDS','xmXJz':_0x1e8d34(0x1ce),'wwaKY':function(_0x370b69,_0x5e7626){return _0x370b69!==_0x5e7626;},'dqtnL':_0x1e8d34(0x1a9),'loIkD':_0x1e8d34(0x1dc),'gWsAQ':'1|3|2|0|4','GDQQn':function(_0x1bb934,_0x5f45e1,_0x265f9d){return _0x1bb934(_0x5f45e1,_0x265f9d);},'ZgaQR':_0x1e8d34(0x1b3),'evMwY':_0x1e8d34(0xc4),'ZfMMA':_0x1e8d34(0xf9)};let _0x4fbcbc,_0x15c42c;const _0x31f3f0={};_0x31f3f0[_0x1e8d34(0x236)]=WS_EVENTS[_0x1e8d34(0xd6)],_0x31f3f0['message']=_0xe508b3['EnznU'],this[_0x1e8d34(0x12b)][_0x1e8d34(0x175)](this['rws'],_0x31f3f0),logger[_0x1e8d34(0xbf)](_0xe508b3[_0x1e8d34(0x10e)]);try{if(_0xe508b3['WxKDE'](_0xe508b3[_0x1e8d34(0x1d7)],_0xe508b3['BIWgF']))_0x247009[_0x1e8d34(0xe6)](_0x1cbde3['SubnetId']);else{const _0x3117c6=await _0xe508b3['SRtkk'](createAutoscalerStack,this[_0x1e8d34(0x1d8)]);_0x15c42c=_0x3117c6[_0x1e8d34(0x213)][0x0][_0x1e8d34(0x1b7)][0x2][_0x1e8d34(0x245)];const _0x5b9a40={};_0x5b9a40[_0x1e8d34(0x236)]=WS_EVENTS[_0x1e8d34(0xd6)],_0x5b9a40['message']=_0x1e8d34(0x1dd)+_0x15c42c+'\x20',this[_0x1e8d34(0x12b)][_0x1e8d34(0x175)](this['rws'],_0x5b9a40),logger[_0x1e8d34(0xbf)]('Autoscaler\x20Role\x20created.ARN:\x20'+_0x15c42c+'\x20');}}catch(_0x7501ed){if(_0xe508b3[_0x1e8d34(0x1e4)](_0xe508b3[_0x1e8d34(0x208)],_0xe508b3[_0x1e8d34(0x1cf)]))_0x31c921[_0x1e8d34(0x114)](_0x23d033);else{if(_0x7501ed?.[_0x1e8d34(0xef)]&&_0x7501ed[_0x1e8d34(0xef)][_0x1e8d34(0x1a8)](/already exists/)){if(_0xe508b3[_0x1e8d34(0x17b)](_0xe508b3[_0x1e8d34(0x1c6)],_0xe508b3[_0x1e8d34(0x1c6)])){const _0x7c0045=_0x26e390[_0x1e8d34(0x213)][0x0]['Outputs'][0x2][_0x1e8d34(0x245)],_0x269e67=_0x4fddd3[_0x1e8d34(0x213)][0x0][_0x1e8d34(0x1b7)][0x5]['OutputValue']['split'](',');_0x10218b=_0x7c0045;const _0x2ce228=[];for(const _0x74ad68 of _0x269e67){const _0x54d71b={};_0x54d71b[_0x1e8d34(0xfc)]=_0x74ad68,_0x54d71b[_0x1e8d34(0xec)]=_0x74ad68,_0x2ce228[_0x1e8d34(0xe6)](_0x54d71b);}_0x264ddc=_0x2ce228,_0x549172[_0x1e8d34(0xbf)](_0x1e8d34(0x184)+_0x7c0045+'\x20'),_0x57ce3b[_0x1e8d34(0xbf)]('Subnets\x20=>\x20'+_0x269e67+'\x20'),_0x565cfa+=_0x1e8d34(0x1ad)+_0x7c0045+_0x1e8d34(0x192)+_0x269e67+',\x20';}else _0x4fbcbc=_0x1e8d34(0x198)+_0x7501ed[_0x1e8d34(0xef)],await _0xe508b3[_0x1e8d34(0x14f)](reportToGalactusAndSendToEDS,_0x23eba2,this[_0x1e8d34(0x176)],_0x4fbcbc,messageTypes['WARNING'],_0xe508b3[_0x1e8d34(0xce)],_0xe508b3[_0x1e8d34(0x199)],_0xe508b3['xmXJz']),logger[_0x1e8d34(0x1bf)](_0x4fbcbc);}else{if(_0xe508b3[_0x1e8d34(0x101)](_0xe508b3['dqtnL'],_0xe508b3[_0x1e8d34(0xc9)])){const _0x5c9f3d=_0xe508b3[_0x1e8d34(0xbc)][_0x1e8d34(0x194)]('|');let _0xc44ef=0x0;while(!![]){switch(_0x5c9f3d[_0xc44ef++]){case'0':await _0xe508b3[_0x1e8d34(0x14c)](deleteClusterAndDependencies,global_registry[_0x1e8d34(0x18a)],this[_0x1e8d34(0x1d8)]);continue;case'1':_0x4fbcbc='Unable\x20to\x20spawn\x20Autoscaler\x20due\x20to:\x20'+_0x7501ed?.['message']+_0x1e8d34(0x10a);continue;case'2':logger[_0x1e8d34(0xc4)](_0x4fbcbc);continue;case'3':await _0xe508b3[_0x1e8d34(0x14f)](reportToGalactusAndSendToEDS,_0x23eba2,this[_0x1e8d34(0x176)],_0x4fbcbc,messageTypes['ERROR'],_0xe508b3['UzmZB'],_0xe508b3['ZgaQR'],_0xe508b3[_0x1e8d34(0x218)]);continue;case'4':process[_0x1e8d34(0x1b8)](0x1);continue;}break;}}else{const _0x2781da=_0x7c98cf[_0x1e8d34(0x1b2)]['tags'];return _0x2781da&&_0xe508b3[_0x1e8d34(0x1f2)](_0x2781da[_0xe508b3[_0x1e8d34(0x202)]]['toLowerCase'](),_0xe508b3[_0x1e8d34(0x181)]);}}}}const _0x1aaa71=await this[_0x1e8d34(0x1be)](this[_0x1e8d34(0x1d8)]+_0x1e8d34(0x1f8)),_0x4db7e2=_0x1aaa71['nodegroup']['nodeRole'],_0x38fb83=await this['createAuthConfigMap'](_0x4db7e2),_0x188621={};return _0x188621[_0x1e8d34(0x204)]=_0xe508b3[_0x1e8d34(0x177)],_0x188621[_0x1e8d34(0x205)]=_0x38fb83,await _0x70cc96[_0x1e8d34(0x1cb)](_0x188621)[_0x1e8d34(0x13b)](_0x1d10b2=>{const _0x3d3427=_0x1e8d34;_0xe508b3[_0x3d3427(0x17b)](_0xe508b3[_0x3d3427(0x241)],_0xe508b3[_0x3d3427(0x241)])?_0x7fb022['info'](_0xe508b3[_0x3d3427(0xd8)]):logger[_0x3d3427(0xbf)](_0xe508b3[_0x3d3427(0xd8)]);}),_0x15c42c;}async['setupHubHa'](_0xf02c8d,_0x1cbb14,_0x15b077,_0x272aca,_0x2bc1a4){const _0x31187e=a0_0x1af5e2,_0x24a1c9={'MAqct':function(_0x14611d,_0x27872c){return _0x14611d===_0x27872c;},'lOSsm':_0x31187e(0x108),'rXkoG':'PgIiw','LshuK':_0x31187e(0x132),'kNOoC':function(_0x22bd9a,_0x1f9ab5){return _0x22bd9a(_0x1f9ab5);},'kWvNv':function(_0x4081cb,_0x37a719){return _0x4081cb(_0x37a719);},'FRcnV':function(_0xfb0fd0,_0x2ee5f9){return _0xfb0fd0(_0x2ee5f9);},'BWXJB':_0x31187e(0x11e),'zlXxI':function(_0x4a2f49,_0x29b80a){return _0x4a2f49!==_0x29b80a;},'rdhXe':_0x31187e(0x1e6),'LlofU':_0x31187e(0x247),'UNiLZ':_0x31187e(0x1da),'ZfzuV':_0x31187e(0x147),'plnCn':function(_0x430504,_0x56e034,_0x36b7f0){return _0x430504(_0x56e034,_0x36b7f0);},'VndDs':_0x31187e(0x14b),'fFPGv':_0x31187e(0x228),'VMLlW':'EFSSecurityGroup','LotNP':_0x31187e(0x12e),'XuMUB':_0x31187e(0x15e),'gouyM':_0x31187e(0x1f3),'VqxPs':_0x31187e(0x105),'FEOtg':_0x31187e(0x20e),'tXucm':_0x31187e(0x1ab),'aKRrq':_0x31187e(0x191),'SoeyZ':_0x31187e(0x1fb),'RQcAn':_0x31187e(0x1e3),'moppB':_0x31187e(0x22a),'DCZhM':_0x31187e(0x1f5),'pPbuu':_0x31187e(0x121),'iZDJF':_0x31187e(0x1d9),'NQHQj':_0x31187e(0x17f),'ImiAm':_0x31187e(0x187),'CISzV':_0x31187e(0xb1),'txxLA':_0x31187e(0x12d),'CmJko':function(_0x3075c9,_0x32d3e8,_0x244485,_0x428398,_0x18885c,_0x58c18c,_0x44cdd5,_0x4ea3fe){return _0x3075c9(_0x32d3e8,_0x244485,_0x428398,_0x18885c,_0x58c18c,_0x44cdd5,_0x4ea3fe);},'yFkYp':_0x31187e(0xe8),'jburv':'hub-ha-aws-setup-failed','kkAnd':'error','bgBWf':function(_0x1fdb32,_0x503c4e,_0x466e19){return _0x1fdb32(_0x503c4e,_0x466e19);}};logger['info'](_0x24a1c9[_0x31187e(0x162)]);let _0x3e2625;try{if(_0x24a1c9[_0x31187e(0x1f9)](_0x24a1c9['rdhXe'],_0x24a1c9[_0x31187e(0x1c3)])){const _0x150f7c={};_0x150f7c[_0x31187e(0x236)]=WS_EVENTS[_0x31187e(0xd6)],_0x150f7c[_0x31187e(0xef)]=_0x24a1c9[_0x31187e(0x1b6)],this['webSocketUtils'][_0x31187e(0x175)](this[_0x31187e(0x176)],_0x150f7c),logger['info'](_0x24a1c9['ZfzuV']);const _0x34c375=await _0x24a1c9[_0x31187e(0x124)](createHubHaStack,this[_0x31187e(0x1d8)],_0x272aca),_0x18213e=_0x34c375[_0x31187e(0x213)][0x0][_0x31187e(0x1b7)][_0x31187e(0x24b)]((_0x142156,_0xf07fdc)=>{const _0x4906b8=_0x31187e;if(_0x24a1c9['MAqct'](_0x24a1c9[_0x4906b8(0x23e)],_0x24a1c9[_0x4906b8(0x22f)]))_0x8aade6[_0x4906b8(0xc4)](_0x4906b8(0xe3)+_0x11b23e[_0x4906b8(0xec)]+':',_0x51079a);else return _0x142156[_0xf07fdc[_0x4906b8(0xe2)]]=_0xf07fdc[_0x4906b8(0x245)],_0x142156;},{}),_0x44b786=_0x18213e[_0x24a1c9[_0x31187e(0xf2)]],_0x4c5d8c=_0x18213e[_0x24a1c9[_0x31187e(0x17c)]],_0x52c3a9=_0x18213e[_0x24a1c9[_0x31187e(0x113)]];logger[_0x31187e(0xbf)](_0x24a1c9[_0x31187e(0x1cc)]),logger[_0x31187e(0xbf)](_0x31187e(0x248)+_0x44b786),logger[_0x31187e(0xbf)](_0x31187e(0xca)+_0x52c3a9),logger[_0x31187e(0xbf)]('EFS\x20FileSystem\x20=>\x20'+_0x4c5d8c),_0x3e2625='Following\x20resources\x20are\x20created\x20for\x20Hub\x20HA:\x20EFS_ControllerRoleArn\x20=>\x20'+_0x44b786+_0x31187e(0x12c)+_0x52c3a9+_0x31187e(0xb2)+_0x4c5d8c,logger[_0x31187e(0xbf)](_0x24a1c9[_0x31187e(0x1a4)]),await this[_0x31187e(0xde)](_0x2bc1a4,_0x52c3a9,_0x4c5d8c);const _0x7629f2={};_0x7629f2[_0x31187e(0x236)]=WS_EVENTS['LOG'],_0x7629f2['message']=_0x3e2625,this[_0x31187e(0x12b)][_0x31187e(0x175)](this['rws'],_0x7629f2);const _0x28f29d={};_0x28f29d[_0x31187e(0x236)]=WS_EVENTS[_0x31187e(0xd6)],_0x28f29d[_0x31187e(0xef)]=_0x24a1c9[_0x31187e(0x1c5)],this[_0x31187e(0x12b)][_0x31187e(0x175)](this[_0x31187e(0x176)],_0x28f29d),logger[_0x31187e(0xbf)](_0x24a1c9[_0x31187e(0xd5)]);let _0x444c18=await fs['readFileAsync'](path[_0x31187e(0x110)](__dirname,'..',_0x24a1c9[_0x31187e(0x224)],_0x24a1c9[_0x31187e(0x223)],_0x24a1c9[_0x31187e(0x21b)]),_0x24a1c9[_0x31187e(0x1e7)]);_0x444c18=_0x444c18['replace'](/<EfsCSIControllerARN>/g,_0x44b786);const _0x128818=yaml['loadAll'](_0x444c18);await _0x24a1c9[_0x31187e(0x124)](kubeApply,_0x128818,_0x1cbb14),logger['info'](_0x24a1c9[_0x31187e(0x19e)]),logger[_0x31187e(0xbf)](_0x24a1c9[_0x31187e(0x21f)]);const _0x3bd09c=await fs[_0x31187e(0x145)](path[_0x31187e(0x110)](__dirname,'..',_0x24a1c9['FEOtg'],_0x24a1c9[_0x31187e(0x223)],_0x24a1c9[_0x31187e(0x130)]),_0x24a1c9['SoeyZ']),_0x35d734=yaml[_0x31187e(0x232)](_0x3bd09c);_0x35d734[_0x31187e(0x201)][_0x24a1c9[_0x31187e(0xc7)]]=_0x4c5d8c;const _0x350f0c={};_0x350f0c['body']=_0x35d734;const _0x2ee70b=await _0xf02c8d[_0x31187e(0x146)](_0x350f0c);logger[_0x31187e(0xbf)](_0x24a1c9[_0x31187e(0x19a)]);const _0x31ffc3={};_0x31ffc3['type']=WS_EVENTS[_0x31187e(0xd6)],_0x31ffc3[_0x31187e(0xef)]=_0x24a1c9['NQHQj'],this[_0x31187e(0x12b)][_0x31187e(0x175)](this[_0x31187e(0x176)],_0x31ffc3);}else{const _0x4626e0={};_0x4626e0[_0x31187e(0xb6)]=_0x24a1c9['LshuK'];const _0x67aa00=new _0x32da04[(_0x31187e(0x16d))](_0x4626e0),_0x4bf0c8={};return _0x4bf0c8[_0x31187e(0x1d8)]=this[_0x31187e(0x1d8)],_0x4bf0c8[_0x31187e(0x1b5)]=_0x3b4c33,_0x67aa00[_0x31187e(0x1c0)](_0x4bf0c8)[_0x31187e(0x185)]();}}catch(_0x5d80c7){if(_0x24a1c9['zlXxI'](_0x24a1c9[_0x31187e(0x1a7)],_0x24a1c9[_0x31187e(0xbb)])){const _0x4fbb82=_0x24a1c9['txxLA']['split']('|');let _0x3af1a7=0x0;while(!![]){switch(_0x4fbb82[_0x3af1a7++]){case'0':_0x3e2625=_0x31187e(0x1bb)+_0x5d80c7[_0x31187e(0xef)];continue;case'1':await _0x24a1c9['CmJko'](reportToGalactusAndSendToEDS,_0x15b077,this[_0x31187e(0x176)],_0x3e2625,messageTypes[_0x31187e(0x1e1)],_0x24a1c9[_0x31187e(0x193)],_0x24a1c9['jburv'],_0x24a1c9[_0x31187e(0xb3)]);continue;case'2':process['exit'](0x1);continue;case'3':await _0x24a1c9[_0x31187e(0x174)](deleteClusterAndDependencies,global_registry[_0x31187e(0x18a)],this[_0x31187e(0x1d8)]);continue;case'4':logger['error'](_0x3e2625);continue;}break;}}else{const _0x336f7f={};_0x336f7f['apiVersion']=_0x24a1c9[_0x31187e(0xcf)];const _0xebe6fb=new _0x324daa['EKS'](_0x336f7f);_0xebe6fb['listClusters']()[_0x31187e(0x185)]()['then'](_0x2085e8=>{const _0x3a0146=_0x31187e;_0x2085e8['clusters'][_0x3a0146(0xcd)](this[_0x3a0146(0x1d8)])&&_0x24a1c9[_0x3a0146(0x126)](_0x4cebf5,!![]),_0x24a1c9[_0x3a0146(0x15c)](_0x2486e5,![]);})['catch'](_0x9bf914=>{const _0x3409f0=_0x31187e;_0x50df3d[_0x3409f0(0xc4)](_0x9bf914),_0x24a1c9[_0x3409f0(0x10f)](_0x5265e1,_0x9bf914);});}}}async[a0_0x1af5e2(0xde)](_0x4027b7,_0x44ee32,_0xd8b780){const _0x19a1c7=a0_0x1af5e2,_0x4ad0e0={};_0x4ad0e0[_0x19a1c7(0x1ff)]=function(_0xf177ae,_0xc947e6){return _0xf177ae!==_0xc947e6;},_0x4ad0e0[_0x19a1c7(0x1ea)]=_0x19a1c7(0x1df),_0x4ad0e0[_0x19a1c7(0x216)]=function(_0x2283b7,_0x39dfb3){return _0x2283b7===_0x39dfb3;},_0x4ad0e0['IALvW']=_0x19a1c7(0x1e9);const _0x4c6337=_0x4ad0e0,_0x317308={};_0x317308[_0x19a1c7(0x144)]=global_registry[_0x19a1c7(0x18a)];const _0x3ce7ec=new awsSDK[(_0x19a1c7(0x133))](_0x317308),_0x3b1d83={};_0x3b1d83['region']=global_registry[_0x19a1c7(0x18a)];const _0x4f8594=new awsSDK['EC2'](_0x3b1d83),_0x5c0be2=new Set(),_0x2b0319=[];for(const _0x3916f2 of _0x4027b7){if(_0x4c6337[_0x19a1c7(0x1ff)](_0x4c6337[_0x19a1c7(0x1ea)],_0x4c6337[_0x19a1c7(0x1ea)]))_0x452ad9['cloudProviderAccessKey']=_0x2374ab[this[_0x19a1c7(0xdb)]][_0x19a1c7(0x111)],_0x1c5310[_0x19a1c7(0x1ed)]=_0x220f6a[this['cloudProviderName']]['secret'];else{const _0x3dade9=await this[_0x19a1c7(0x18c)](_0x4f8594,_0x3916f2['value']);if(_0x5c0be2[_0x19a1c7(0x225)](_0x3dade9)){if(_0x4c6337['xTvtl'](_0x4c6337['IALvW'],_0x4c6337[_0x19a1c7(0xed)])){logger[_0x19a1c7(0xbf)](_0x19a1c7(0x16a)+_0x3916f2[_0x19a1c7(0xec)]+'\x20because\x20its\x20Availability\x20Zone\x20'+_0x3dade9+_0x19a1c7(0x14d));continue;}else{if(_0xdc3b8f['includes'](_0x48c26f[_0x19a1c7(0xec)]))return!![];return _0xe01f0d['push'](_0x891385),![];}}_0x5c0be2[_0x19a1c7(0x1c7)](_0x3dade9),_0x2b0319[_0x19a1c7(0xe6)](this[_0x19a1c7(0x11a)](_0x3ce7ec,_0x3916f2,_0x44ee32,_0xd8b780));}}await Promise[_0x19a1c7(0x109)](_0x2b0319);}async[a0_0x1af5e2(0x11a)](_0xdd79d,_0x59f23f,_0x223637,_0x1bc6cd){const _0x3a3895=a0_0x1af5e2,_0xe5d728={'uOBtB':function(_0x2eb5fa,_0x406852){return _0x2eb5fa(_0x406852);},'lFFmd':function(_0xb69421,_0x49636b){return _0xb69421!==_0x49636b;},'KIrKO':'fWMHA','ZaPSR':function(_0x543db8,_0x1c5112){return _0x543db8===_0x1c5112;},'xdcce':_0x3a3895(0x140),'aqQiM':_0x3a3895(0x243)};try{if(_0xe5d728[_0x3a3895(0x1e8)](_0xe5d728[_0x3a3895(0xda)],_0xe5d728[_0x3a3895(0xda)]))_0xe5d728[_0x3a3895(0xfe)](_0x40b27d,this[_0x3a3895(0x176)]);else{const _0x45d395={};_0x45d395[_0x3a3895(0x20b)]=_0x1bc6cd,_0x45d395[_0x3a3895(0x1fe)]=_0x59f23f[_0x3a3895(0xec)],_0x45d395[_0x3a3895(0x182)]=[_0x223637];const _0x45d064=await _0xdd79d[_0x3a3895(0x178)](_0x45d395)[_0x3a3895(0x185)](),_0x558a15=_0x45d064['MountTargetId'];await this[_0x3a3895(0x1fa)](_0xdd79d,_0x59f23f[_0x3a3895(0xec)],_0x558a15);}}catch(_0x529b93){if(_0xe5d728[_0x3a3895(0x1fc)](_0xe5d728[_0x3a3895(0x21e)],_0xe5d728[_0x3a3895(0xc5)]))return!![];else logger[_0x3a3895(0xc4)](_0x3a3895(0xe3)+_0x59f23f[_0x3a3895(0xec)]+':',_0x529b93);}}async['waitForMountTarget'](_0x21ea8d,_0x427da6,_0x7a5fbb){const _0x373275=a0_0x1af5e2,_0x521e69={'KNwkd':function(_0x47ffbb,_0x392aab){return _0x47ffbb(_0x392aab);},'bqMed':function(_0x2da5b7,_0x2a69d7){return _0x2da5b7(_0x2a69d7);},'uvLsf':function(_0x35ff8e,_0x34bdf3){return _0x35ff8e!==_0x34bdf3;},'kBqrP':_0x373275(0x1c4),'lWDUP':function(_0x1bf044,_0x22682e){return _0x1bf044===_0x22682e;},'USAYE':_0x373275(0xc1),'ClcfG':function(_0x51b8a6,_0x4eca6d){return _0x51b8a6===_0x4eca6d;},'SiFUP':'GZsXj','TPVGy':'xgjvs','barsx':_0x373275(0x100),'hLlOh':_0x373275(0x13a),'CTfqj':_0x373275(0x197)};let _0x4fc1ae='';while(_0x521e69[_0x373275(0x1b9)](_0x4fc1ae,_0x521e69[_0x373275(0xd3)])){if(_0x521e69[_0x373275(0x189)](_0x521e69['USAYE'],_0x521e69[_0x373275(0x13c)])){const _0x35f88d={};_0x35f88d[_0x373275(0x155)]=_0x7a5fbb;const _0x47ca6b=await _0x21ea8d[_0x373275(0x19d)](_0x35f88d)[_0x373275(0x185)]();_0x4fc1ae=_0x47ca6b[_0x373275(0x195)][0x0][_0x373275(0x1f7)];if(_0x521e69['lWDUP'](_0x4fc1ae,_0x521e69['kBqrP'])){if(_0x521e69[_0x373275(0x230)](_0x521e69[_0x373275(0x10d)],_0x521e69[_0x373275(0x1fd)]))_0x598970[_0x373275(0xc4)]('Cannot\x20find\x20VPC\x20'+_0x3b71ea+_0x373275(0x1d0)+_0x374cc5[_0x373275(0x18a)]+_0x373275(0x127)),_0x521e69[_0x373275(0xbe)](_0x128cb9,![]);else{logger[_0x373275(0xbf)](_0x373275(0x188)+_0x427da6+',\x20MountTargetId:\x20'+_0x7a5fbb+'.');break;}}if(_0x521e69[_0x373275(0x189)](_0x4fc1ae,_0x521e69['barsx'])){if(_0x521e69[_0x373275(0x189)](_0x521e69[_0x373275(0x212)],_0x521e69[_0x373275(0xc0)]))return this[_0x373275(0x104)]();else throw new Error(_0x373275(0x1eb)+_0x7a5fbb+'\x20failed\x20to\x20reach\x20the\x20available\x20state.');}await new Promise(_0x363da2=>setTimeout(_0x363da2,0x1388));}else _0x24053b[_0x373275(0xb4)][_0x373275(0xcd)](this['clusterName'])&&_0x521e69[_0x373275(0xbe)](_0x186fbb,!![]),_0x521e69[_0x373275(0xe0)](_0x11ef92,![]);}}async[a0_0x1af5e2(0x18c)](_0x57ee00,_0x3f5881){const _0x507700=a0_0x1af5e2,_0x2823d2={};_0x2823d2['SubnetIds']=[_0x3f5881];const _0x4b737c=await _0x57ee00[_0x507700(0x242)](_0x2823d2)[_0x507700(0x185)]();return _0x4b737c[_0x507700(0x246)][0x0]['AvailabilityZone'];}[a0_0x1af5e2(0x15f)](_0x8b6d18){const _0x4292c3=a0_0x1af5e2,_0x3c147e={'XhHnz':function(_0x3e15d0,_0x3c4fbb){return _0x3e15d0(_0x3c4fbb);},'UUFck':function(_0x21023d,_0x138d0c){return _0x21023d===_0x138d0c;},'OYUHP':'okuxY','UAxEA':function(_0x30b062,_0x2a51c7){return _0x30b062(_0x2a51c7);},'mSBYw':function(_0x40f144,_0x5d7a7f){return _0x40f144(_0x5d7a7f);},'sWJDB':_0x4292c3(0x20f),'LgIaV':function(_0xc771f2,_0x57f983){return _0xc771f2===_0x57f983;},'iJPHu':_0x4292c3(0x163),'oSxXd':'2016-11-15'},_0x352385={};_0x352385['VpcIds']=[_0x8b6d18];const _0x55bc7d=_0x352385;return new Promise((_0x4d609a,_0x5316f0)=>{const _0x1f285d=_0x4292c3,_0x4ba71f={'TEbyT':function(_0x5ca1d2,_0x5b0914){const _0x2e190a=a0_0x1b5f;return _0x3c147e[_0x2e190a(0x158)](_0x5ca1d2,_0x5b0914);},'YvUeu':function(_0x448f2c,_0x1d2eea){const _0x4aebae=a0_0x1b5f;return _0x3c147e[_0x4aebae(0x156)](_0x448f2c,_0x1d2eea);},'ImGdL':_0x3c147e[_0x1f285d(0x20c)]};if(_0x3c147e[_0x1f285d(0x11f)](_0x3c147e[_0x1f285d(0x120)],_0x3c147e[_0x1f285d(0x120)])){const _0x3cc5cc={};_0x3cc5cc[_0x1f285d(0xb6)]=_0x3c147e[_0x1f285d(0x169)],_0x3cc5cc['region']=global_registry['clusterRegion'];const _0x2b4d2b=new awsSDK[(_0x1f285d(0x11b))](_0x3cc5cc);_0x2b4d2b[_0x1f285d(0x183)](_0x55bc7d)[_0x1f285d(0x185)]()[_0x1f285d(0xbd)](_0x5ef305=>{const _0x28f8b2=_0x1f285d,_0x30760e={'KkJGK':function(_0x3efc6b,_0x264641){const _0x40a7eb=a0_0x1b5f;return _0x3c147e[_0x40a7eb(0x22b)](_0x3efc6b,_0x264641);}};_0x3c147e[_0x28f8b2(0x156)](_0x3c147e[_0x28f8b2(0x19c)],_0x3c147e[_0x28f8b2(0x19c)])?_0x3c147e[_0x28f8b2(0x23d)](_0x4d609a,!![]):_0x30760e['KkJGK'](_0x51271f,!![]);})[_0x1f285d(0x13b)](_0x1b2837=>{const _0x283736=_0x1f285d,_0x448af1={'wHlDq':function(_0x347813,_0x2d9352){const _0x1d0aa7=a0_0x1b5f;return _0x4ba71f[_0x1d0aa7(0xee)](_0x347813,_0x2d9352);}};_0x4ba71f['YvUeu'](_0x4ba71f[_0x283736(0x1a6)],_0x4ba71f[_0x283736(0x1a6)])?(logger[_0x283736(0xc4)]('Cannot\x20find\x20VPC\x20'+_0x8b6d18+_0x283736(0x1d0)+global_registry['clusterRegion']+_0x283736(0x127)),_0x4ba71f[_0x283736(0xee)](_0x4d609a,![])):(_0x69eb85['error'](_0x283736(0x240)+_0x9901d1+_0x283736(0x1d0)+_0x210c84[_0x283736(0x18a)]+_0x283736(0x15a)+_0x2fa069),_0x448af1[_0x283736(0x21a)](_0x45b7ce,[![],[]]));});}else _0x36f4d6['error']=_0x37bd2f;});}[a0_0x1af5e2(0x18b)](_0x497e19,_0x13c29b){const _0x13edce=a0_0x1af5e2,_0x43b216={'LHSsJ':function(_0xe284db,_0x207ea5){return _0xe284db!==_0x207ea5;},'HllDU':_0x13edce(0x107),'LBtjZ':'bUnOx','XvjAu':function(_0x431293,_0x37b0c7){return _0x431293!==_0x37b0c7;},'moRzg':_0x13edce(0x15d),'nBrDS':function(_0x59faab,_0x5073e2){return _0x59faab!==_0x5073e2;},'ypoXr':_0x13edce(0x159),'dcuYG':'allowed','sZbLU':_0x13edce(0x1ca),'TpFQy':function(_0x205595,_0x2c02ff){return _0x205595(_0x2c02ff);},'hWUOK':_0x13edce(0x1f1),'tEhxT':function(_0x180902,_0x409034){return _0x180902!==_0x409034;},'YHRJQ':'oCQVA','MpaeB':'2016-11-15','LThit':_0x13edce(0xb5)},_0x4d65eb={};_0x4d65eb[_0x13edce(0x249)]=_0x43b216[_0x13edce(0xdd)],_0x4d65eb['Values']=[_0x13c29b];const _0x58e7b2={};_0x58e7b2['Filters']=[_0x4d65eb];const _0x3237e9=_0x58e7b2;return new Promise((_0x4ab812,_0x4938ff)=>{const _0x24c30c=_0x13edce,_0x50e876={'QNYpL':function(_0x2fe6bf,_0x3477b7){return _0x43b216['LHSsJ'](_0x2fe6bf,_0x3477b7);},'BgmgR':_0x43b216[_0x24c30c(0x13d)],'OTbGR':_0x43b216[_0x24c30c(0x151)],'sNboN':function(_0xcf5a1b,_0x46f637){return _0x43b216['XvjAu'](_0xcf5a1b,_0x46f637);},'fbbTS':_0x43b216[_0x24c30c(0x14e)],'drZTb':function(_0x1374bb,_0x3ecaa3){const _0xc01c35=_0x24c30c;return _0x43b216[_0xc01c35(0x1ef)](_0x1374bb,_0x3ecaa3);},'wVAQx':_0x43b216['ypoXr'],'wnYjg':_0x43b216[_0x24c30c(0x1e2)],'SMEKs':_0x43b216[_0x24c30c(0xf7)],'qFBxv':function(_0x552f10,_0x20b8bb){const _0x192ef5=_0x24c30c;return _0x43b216[_0x192ef5(0x1d3)](_0x552f10,_0x20b8bb);},'CpdoC':_0x43b216['hWUOK'],'qHbOU':function(_0x1d7e17,_0x488866){const _0x47eb62=_0x24c30c;return _0x43b216[_0x47eb62(0x1d3)](_0x1d7e17,_0x488866);}};if(_0x43b216[_0x24c30c(0x1af)](_0x43b216['YHRJQ'],_0x43b216['YHRJQ']))return![];else{const _0x4520b9={};_0x4520b9[_0x24c30c(0xb6)]=_0x43b216[_0x24c30c(0xf6)],_0x4520b9[_0x24c30c(0x144)]=global_registry[_0x24c30c(0x18a)];const _0x2627b8=new awsSDK['EC2'](_0x4520b9);_0x2627b8[_0x24c30c(0x242)](_0x3237e9)[_0x24c30c(0x185)]()[_0x24c30c(0xbd)](_0x21554b=>{const _0x2e2497=_0x24c30c,_0x433c8f={'uiCaK':function(_0x59970a,_0x537c77){const _0x45d3a2=a0_0x1b5f;return _0x50e876[_0x45d3a2(0x1c2)](_0x59970a,_0x537c77);},'qDScr':_0x50e876['wnYjg']};if(_0x50e876[_0x2e2497(0x1c2)](_0x50e876[_0x2e2497(0x118)],_0x50e876['SMEKs']))return _0x8aed15[_0x17cc3c[_0x2e2497(0xe2)]]=_0x18cb3e[_0x2e2497(0x245)],_0x5f4e97;else{const _0x51fc0f=[],_0x2f6df1=[];_0x21554b[_0x2e2497(0x246)][_0x2e2497(0x1cd)](_0x31a5a1=>{const _0x1915ac=_0x2e2497;if(_0x50e876['QNYpL'](_0x50e876[_0x1915ac(0x238)],_0x50e876[_0x1915ac(0x19b)]))_0x51fc0f[_0x1915ac(0xe6)](_0x31a5a1['SubnetId']);else return _0xf6b2e2['status'][_0x1915ac(0x21d)][_0x1915ac(0x229)][0x0]['hostname'];});const _0x3cc691=_0x497e19['every'](_0x47ff5e=>{const _0x2540dd=_0x2e2497;if(_0x50e876[_0x2540dd(0x239)](_0x50e876[_0x2540dd(0x1f0)],_0x50e876[_0x2540dd(0x1f0)])){const _0x19e95c=_0x2387ca[_0x2540dd(0x10b)][_0x2540dd(0x194)](':')[0x0];_0x35b809+=_0x2540dd(0x21c)+_0x19e95c[_0x2540dd(0x22e)]()+_0x2540dd(0x1db)+_0x459532[_0x5ea1b8[_0x2540dd(0x10b)]]+':\x20'+_0x1ddd43[_0x2540dd(0x1ac)],_0x433c8f[_0x2540dd(0x1ba)](_0x1dbb46[_0x2540dd(0x1ac)],_0x433c8f[_0x2540dd(0x1c8)])&&(_0x47ac4b['status']=![]);}else{if(_0x51fc0f[_0x2540dd(0xcd)](_0x47ff5e[_0x2540dd(0xec)])){if(_0x50e876[_0x2540dd(0x1d2)](_0x50e876[_0x2540dd(0x179)],_0x50e876[_0x2540dd(0x179)]))_0x25f056['status']=![];else return!![];}return _0x2f6df1[_0x2540dd(0xe6)](_0x47ff5e),![];}});_0x50e876[_0x2e2497(0x200)](_0x4ab812,[_0x3cc691,_0x2f6df1]);}})[_0x24c30c(0x13b)](_0x4bc124=>{const _0x19cefe=_0x24c30c,_0x1e3627={'yrecG':function(_0x61747f,_0x2bdb2b){const _0x4415dd=a0_0x1b5f;return _0x50e876[_0x4415dd(0x200)](_0x61747f,_0x2bdb2b);}};_0x50e876[_0x19cefe(0x1d2)](_0x50e876['CpdoC'],_0x50e876[_0x19cefe(0x1aa)])?(_0x2642c5['error'](_0x171c59),_0x1e3627[_0x19cefe(0x219)](_0x149685,_0x247c6b)):(logger[_0x19cefe(0xc4)](_0x19cefe(0x240)+_0x497e19+_0x19cefe(0x1d0)+global_registry[_0x19cefe(0x18a)]+_0x19cefe(0x15a)+_0x4bc124),_0x50e876['qHbOU'](_0x4ab812,[![],[]]));});}});}async['isCliToolInstalled'](){const _0x29b14b=a0_0x1af5e2,_0x3f5034={'ytTFa':function(_0x46e3ee,_0x515a70){return _0x46e3ee(_0x515a70);},'xDhnw':_0x29b14b(0x15b),'ewxuY':_0x29b14b(0x112),'zdUGu':_0x29b14b(0xdc)},_0x229615={};_0x229615[_0x29b14b(0xd0)]=![],_0x229615[_0x29b14b(0xc4)]=null,_0x229615[_0x29b14b(0x227)]='';const _0x3079c9=_0x229615;try{const _0x46e7e5=await _0x3f5034[_0x29b14b(0x17a)](runCommand,_0x3f5034['xDhnw']);_0x46e7e5[_0x29b14b(0x1bd)](_0x3f5034[_0x29b14b(0x217)])?logger[_0x29b14b(0x1bf)](_0x46e7e5):logger[_0x29b14b(0x114)](_0x46e7e5),_0x3079c9[_0x29b14b(0xd0)]=!![],_0x3079c9[_0x29b14b(0x227)]=_0x3f5034[_0x29b14b(0xf8)];}catch(_0xd90f4e){logger[_0x29b14b(0xc4)](_0x29b14b(0x233)+_0xd90f4e+_0x29b14b(0x170)+_0xd90f4e[_0x29b14b(0xd2)]),_0x3079c9['data']=_0x29b14b(0x1d6)+_0xd90f4e,_0x3079c9['error']=_0xd90f4e;}return _0x3079c9;}async['getPrincipalArn'](){const _0x34a367=a0_0x1af5e2,_0x5a2c7e={};_0x5a2c7e[_0x34a367(0xd4)]=':role/',_0x5a2c7e[_0x34a367(0x226)]=_0x34a367(0x117);const _0x288581=_0x5a2c7e,_0xb01b34=await new awsSDK['STS']()[_0x34a367(0x1b0)]()[_0x34a367(0x185)](),{Account:_0x1dc1c2,Arn:_0x3398b2}=_0xb01b34,_0x8302b0=_0x3398b2[_0x34a367(0xcd)](_0x288581[_0x34a367(0xd4)]),_0x3e04c1=_0x8302b0?_0x34a367(0x141)+_0x1dc1c2+_0x34a367(0x244)+_0x3398b2[_0x34a367(0x194)](_0x288581['CpoYZ'])[0x1]:_0x34a367(0x141)+_0x1dc1c2+_0x34a367(0x117)+_0x3398b2['split'](_0x288581[_0x34a367(0x226)])[0x1];return _0x3e04c1;}async[a0_0x1af5e2(0x137)](){const _0x38250d=a0_0x1af5e2,_0x511b1d={};_0x511b1d[_0x38250d(0xc6)]=function(_0x185b5f,_0x5c5851){return _0x185b5f!==_0x5c5851;},_0x511b1d[_0x38250d(0xba)]='allowed';const _0x4d4906=_0x511b1d,_0x3f11ab={};_0x3f11ab[_0x38250d(0xd0)]=![],_0x3f11ab['error']=null,_0x3f11ab['data']='';const _0x52f525=_0x3f11ab;try{const _0x506f9f=await this[_0x38250d(0x1a2)](),_0x5b01e3={'PolicySourceArn':_0x506f9f,'ActionNames':Object[_0x38250d(0x1c9)](PERMISSIONS)},_0x2ac6fe=await new awsSDK[(_0x38250d(0x12f))]()[_0x38250d(0x138)](_0x5b01e3)['promise']();let _0x57183b='';logger[_0x38250d(0x114)](_0x38250d(0x157)+JSON['stringify'](_0x2ac6fe)),_0x52f525[_0x38250d(0xd0)]=!![],_0x2ac6fe[_0x38250d(0x1a5)][_0x38250d(0x1cd)](_0x1d766a=>{const _0x515fc8=_0x38250d,_0x3fef25=_0x1d766a[_0x515fc8(0x10b)][_0x515fc8(0x194)](':')[0x0];_0x57183b+=_0x515fc8(0x21c)+_0x3fef25[_0x515fc8(0x22e)]()+_0x515fc8(0x1db)+PERMISSIONS[_0x1d766a[_0x515fc8(0x10b)]]+':\x20'+_0x1d766a[_0x515fc8(0x1ac)],_0x4d4906[_0x515fc8(0xc6)](_0x1d766a['EvalDecision'],_0x4d4906[_0x515fc8(0xba)])&&(_0x52f525[_0x515fc8(0xd0)]=![]);}),_0x52f525[_0x38250d(0x227)]=_0x57183b;}catch(_0x56a9f3){_0x52f525[_0x38250d(0xc4)]=_0x56a9f3;}return _0x52f525;}}const a0_0x370593={};a0_0x370593['AWSCloudProvider']=AWSCloudProvider,module[a0_0x1af5e2(0x1d4)]=a0_0x370593;