function a21_0x5f1f(){const _0x310333=['default','statusCode','bstackAccesskey','boolean','1629252ePOvMJ','debug','rdSfO','CQNoM','416OEhbLP','options','pHdWK','QWtqM','../../config/logger','parse','pEytA','help','grid','mYLEu','argv','33zeDBDL','WYaBY','1EqLMSF','CnCYR','user','Skip\x20insecure\x20cert\x20verification.','1883049VpvJjq','yqccA','../../config/constants','231150gKKXCv','ERROR','info','JBwNz','command','handler','gridId','stringify','vRnso','password','usage','connectionTimeout','description','TiuQI','skipTlsCertVerify','Browserstack','../../utils/createk8sClient','Stop\x20a\x20running\x20Automation\x20grid.','CTTVC','VJVSh','string','stop-grid-called','../../utils/gridComponents','puUuY','body','31403684OKDYLu','osaiF','invalid-grid-id','readFileSync','server-error','../../utils/utilityMethods','grid-id','xfYoM','type','16bWOcaA','reconnecting-websocket','addListeners','EubEE','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','clusterName','desc','<PasswordPlaceholder>','986324dNUseB','exit','builder','stop','12zOQjWq','existsSync','../../utils/instrumentationUtils','bstackUsername','Cdwar','username','3065WoGHWl','../../cloudproviders/utils','Unable\x20to\x20stop\x20the\x20Grid!\x20Error:\x20','INFO','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20stop','12ZXDIVj','WebSocket','RILaR','replace','Stopping\x20grid\x20','cloudProvider','2146711OwyGfW','skip-tls-cert-verify','jNKDC','init-not-called','Adding\x20Websocket\x20listeners','Grid\x20stoppped.','error','xLDkM','name'];a21_0x5f1f=function(){return _0x310333;};return a21_0x5f1f();}function a21_0x4fb5(_0x5b9ddd,_0x382e0d){const _0x5f1fcb=a21_0x5f1f();return a21_0x4fb5=function(_0x4fb565,_0x45ff38){_0x4fb565=_0x4fb565-0x183;let _0x1ef75e=_0x5f1fcb[_0x4fb565];return _0x1ef75e;},a21_0x4fb5(_0x5b9ddd,_0x382e0d);}const a21_0x3a496a=a21_0x4fb5;(function(_0x3fcffe,_0x4f3d9e){const _0x452832=a21_0x4fb5,_0x3cebac=_0x3fcffe();while(!![]){try{const _0x10bdc5=parseInt(_0x452832(0x1db))/0x1*(-parseInt(_0x452832(0x1a8))/0x2)+-parseInt(_0x452832(0x1df))/0x3+parseInt(_0x452832(0x1ce))/0x4*(parseInt(_0x452832(0x1b2))/0x5)+-parseInt(_0x452832(0x1b7))/0x6*(parseInt(_0x452832(0x1bd))/0x7)+parseInt(_0x452832(0x19f))/0x8*(-parseInt(_0x452832(0x1ca))/0x9)+parseInt(_0x452832(0x1e2))/0xa*(parseInt(_0x452832(0x1d9))/0xb)+parseInt(_0x452832(0x1ac))/0xc*(parseInt(_0x452832(0x196))/0xd);if(_0x10bdc5===_0x4f3d9e)break;else _0x3cebac['push'](_0x3cebac['shift']());}catch(_0x4caf24){_0x3cebac['push'](_0x3cebac['shift']());}}}(a21_0x5f1f,0x6e7a6));const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require(a21_0x3a496a(0x1a0)),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a21_0x3a496a(0x1e1)),{logger}=require(a21_0x3a496a(0x1d2)),{getCredentialsPath,getGridDetails}=require(a21_0x3a496a(0x19b)),{scaleDownHubDeployment}=require(a21_0x3a496a(0x193)),{sendInstrumentationEvent}=require(a21_0x3a496a(0x1ae)),webSocketUtils=require('../../utils/webSocketUtils'),{createK8sClient}=require(a21_0x3a496a(0x18d)),{getCloudProviderObject}=require(a21_0x3a496a(0x1b3));exports[a21_0x3a496a(0x1e6)]=a21_0x3a496a(0x1d6),exports[a21_0x3a496a(0x1a6)]=a21_0x3a496a(0x18e),exports[a21_0x3a496a(0x1aa)]=function(_0x290481){const _0x42ce1d=a21_0x3a496a,_0x3f50a0={};_0x3f50a0[_0x42ce1d(0x1da)]='Pass\x20the\x20ID\x20of\x20the\x20running\x20Automation\x20grid\x20you\x20want\x20to\x20stop.',_0x3f50a0[_0x42ce1d(0x18a)]=_0x42ce1d(0x191),_0x3f50a0[_0x42ce1d(0x194)]=_0x42ce1d(0x1de),_0x3f50a0[_0x42ce1d(0x19d)]=_0x42ce1d(0x1c9),_0x3f50a0[_0x42ce1d(0x1cd)]=_0x42ce1d(0x1d5);const _0x4d9ea3=_0x3f50a0,_0x5d2573={};_0x5d2573[_0x42ce1d(0x189)]=_0x4d9ea3[_0x42ce1d(0x1da)],_0x5d2573['type']=_0x4d9ea3[_0x42ce1d(0x18a)];const _0x56248f={};_0x56248f[_0x42ce1d(0x189)]=_0x4d9ea3['puUuY'],_0x56248f[_0x42ce1d(0x19e)]=_0x4d9ea3[_0x42ce1d(0x19d)],_0x56248f[_0x42ce1d(0x1c6)]=![];const _0x39b54c={};return _0x39b54c[_0x42ce1d(0x19c)]=_0x5d2573,_0x39b54c[_0x42ce1d(0x1be)]=_0x56248f,_0x290481[_0x42ce1d(0x187)](HELP_HEADER_MESSAGE[_0x42ce1d(0x1ab)])['epilogue'](HELP_FOOTER_MESSAGE)[_0x42ce1d(0x1cf)](_0x39b54c)[_0x42ce1d(0x1d5)](_0x4d9ea3['CQNoM'])[_0x42ce1d(0x1d8)];},exports[a21_0x3a496a(0x1e7)]=async function(_0x50accc){const _0x36521c=a21_0x3a496a,_0x46e032={'pEytA':_0x36521c(0x1b6),'pHdWK':function(_0x1267bb){return _0x1267bb();},'xLDkM':'Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','EubEE':function(_0x22672c,_0x3d581e,_0x30066a,_0x54dd24,_0x513b8a,_0xbccf09,_0x19af22){return _0x22672c(_0x3d581e,_0x30066a,_0x54dd24,_0x513b8a,_0xbccf09,_0x19af22);},'vRnso':_0x36521c(0x192),'Cdwar':_0x36521c(0x1c0),'JBwNz':function(_0x32a58c){return _0x32a58c();},'QWtqM':'<UsernamePlaceholder>','VCPjz':_0x36521c(0x1a7),'tMQQv':_0x36521c(0x1c1),'jNKDC':function(_0x3745a8,_0x4c872a,_0x490761,_0x4003b6){return _0x3745a8(_0x4c872a,_0x490761,_0x4003b6);},'HLXBa':function(_0x1b9985,_0x42201a,_0x3775d9){return _0x1b9985(_0x42201a,_0x3775d9);},'tPPkA':function(_0x2a8243,_0x21400a,_0x3b94ba){return _0x2a8243(_0x21400a,_0x3b94ba);},'rdSfO':_0x36521c(0x1c2),'RILaR':function(_0x4bdb56,_0x3b30c6){return _0x4bdb56===_0x3b30c6;},'yqccA':_0x36521c(0x1a4),'CTTVC':'unauthorised','dxLVs':function(_0x26f485,_0x21ea5d){return _0x26f485===_0x21ea5d;},'mYLEu':function(_0x2dfc5d,_0x49abab,_0x1b0b18,_0x31c8af,_0x138427,_0x43d56e,_0x12b589){return _0x2dfc5d(_0x49abab,_0x1b0b18,_0x31c8af,_0x138427,_0x43d56e,_0x12b589);},'CnCYR':_0x36521c(0x198),'VJVSh':function(_0xbf70b8,_0x2f1530,_0x3dd163,_0x3e8b94,_0xcd434e,_0x5bf8e7,_0x4d9ffd){return _0xbf70b8(_0x2f1530,_0x3dd163,_0x3e8b94,_0xcd434e,_0x5bf8e7,_0x4d9ffd);},'osaiF':_0x36521c(0x19a)};let _0x2000c6;try{!_0x50accc['gridId']&&(logger['error'](_0x46e032[_0x36521c(0x1d4)]),process[_0x36521c(0x1a9)](0x1));!fs[_0x36521c(0x1ad)](_0x46e032[_0x36521c(0x1d0)](getCredentialsPath))&&(logger['error'](_0x46e032[_0x36521c(0x1c4)]),await _0x46e032[_0x36521c(0x1a2)](sendInstrumentationEvent,_0x50accc,_0x46e032[_0x36521c(0x185)],messageTypes[_0x36521c(0x1e3)],_0x46e032[_0x36521c(0x1b0)],null,_0x50accc),process[_0x36521c(0x1a9)](0x1));logger[_0x36521c(0x1e4)](_0x36521c(0x1bb)+_0x50accc[_0x36521c(0x183)]),await _0x46e032['EubEE'](sendInstrumentationEvent,_0x50accc,_0x46e032[_0x36521c(0x185)],messageTypes[_0x36521c(0x1b5)],null,null,_0x50accc);const _0x4ad899=JSON[_0x36521c(0x1d3)](fs[_0x36521c(0x199)](_0x46e032[_0x36521c(0x1e5)](getCredentialsPath)));global_registry[_0x36521c(0x1af)]=_0x4ad899['Browserstack'][_0x36521c(0x1b1)],global_registry[_0x36521c(0x1c8)]=_0x4ad899[_0x36521c(0x18c)][_0x36521c(0x186)];const _0x557269=WS_ENDPOINT[_0x36521c(0x1ba)](_0x46e032[_0x36521c(0x1d1)],_0x4ad899[_0x36521c(0x18c)][_0x36521c(0x1b1)])[_0x36521c(0x1ba)](_0x46e032['VCPjz'],_0x4ad899[_0x36521c(0x18c)][_0x36521c(0x186)]),_0x707f7d={};_0x707f7d[_0x36521c(0x1b8)]=ws,_0x707f7d[_0x36521c(0x188)]=0x36ee80,_0x2000c6=new ReconnectingWebSocket(_0x557269,[],_0x707f7d),logger[_0x36521c(0x1cb)](_0x46e032['tMQQv']),webSocketUtils[_0x36521c(0x1a1)](_0x2000c6,_0x50accc[_0x36521c(0x1dd)],_0x50accc[_0x36521c(0x186)]);const [_0x45d1dc,_0x78c153]=await _0x46e032[_0x36521c(0x1bf)](getGridDetails,_0x4ad899[_0x36521c(0x18c)]['username'],_0x4ad899[_0x36521c(0x18c)]['password'],_0x50accc[_0x36521c(0x183)]);if(_0x78c153){const _0x4f3495=_0x78c153[_0x36521c(0x1e4)];global_registry[_0x36521c(0x1bc)]=_0x4f3495[_0x36521c(0x1bc)],global_registry['clusterRegion']=_0x4f3495['region'],global_registry['clusterName']=_0x4f3495[_0x36521c(0x1a5)];const _0x10043c=await _0x46e032[_0x36521c(0x1a2)](getCloudProviderObject,_0x4f3495[_0x36521c(0x1bc)],_0x4f3495[_0x36521c(0x1a5)],_0x4f3495[_0x36521c(0x1c5)],_0x2000c6,webSocketUtils,_0x50accc),[_0x131216,_0x93cfcb,_0xa6e3c2,_0x5db607,_0x345f08,_0x608780]=await _0x46e032['HLXBa'](createK8sClient,_0x10043c,_0x50accc[_0x36521c(0x18b)]);await _0x46e032['tPPkA'](scaleDownHubDeployment,_0x93cfcb,_0x4f3495['name']),logger['info'](_0x46e032[_0x36521c(0x1cc)]),process['exit'](0x0);}_0x46e032[_0x36521c(0x1b9)](_0x45d1dc[_0x36521c(0x1c7)],0x191)&&(logger['error'](_0x46e032[_0x36521c(0x1e0)]),await _0x46e032[_0x36521c(0x1a2)](sendInstrumentationEvent,_0x50accc,_0x46e032[_0x36521c(0x185)],messageTypes[_0x36521c(0x1e3)],_0x46e032[_0x36521c(0x18f)],null,_0x50accc),process[_0x36521c(0x1a9)](0x1)),_0x46e032['dxLVs'](_0x45d1dc[_0x36521c(0x1c7)],0x190)&&(logger[_0x36521c(0x1c3)](JSON[_0x36521c(0x1d3)](_0x45d1dc[_0x36521c(0x195)])['message']),await _0x46e032[_0x36521c(0x1d7)](sendInstrumentationEvent,_0x50accc,_0x46e032[_0x36521c(0x185)],messageTypes[_0x36521c(0x1e3)],_0x46e032[_0x36521c(0x1dc)],null,_0x50accc),process[_0x36521c(0x1a9)](0x1)),logger[_0x36521c(0x1c3)](_0x36521c(0x1a3)+JSON[_0x36521c(0x184)](_0x45d1dc)),await _0x46e032[_0x36521c(0x190)](sendInstrumentationEvent,_0x50accc,_0x46e032[_0x36521c(0x185)],messageTypes[_0x36521c(0x1e3)],_0x46e032[_0x36521c(0x197)],_0x45d1dc,_0x50accc),process[_0x36521c(0x1a9)](0x1);}catch(_0x295cc9){const _0x2d4d9e=_0x36521c(0x1b4)+_0x295cc9+'\x20\x0a'+JSON[_0x36521c(0x184)](_0x295cc9['stack'])+'\x20';logger[_0x36521c(0x1c3)](_0x2d4d9e),process[_0x36521c(0x1a9)](0x1);}};