function a21_0x1428(){const _0x150400=['replace','stringify','jsxmK','bstackAccesskey','yZvAl','argv','Qnikh','KPxng','gjisQ','server-error','statusCode','1965916zbHMJi','ELtpl','skipTlsCertVerify','stBqH','builder','epilogue','642eZKKfq','afykf','unauthorised','readFileSync','PKhaO','KBGyg','grid','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','info','clusterRegion','desc','lUAGU','UAUbk','stack','Grid\x20stoppped.','cloudProvider','user','WebSocket','Stop\x20a\x20running\x20Automation\x20grid.','Browserstack','BdCax','Unable\x20to\x20stop\x20the\x20Grid!\x20Error:\x20','string','usage','description','6725HRpxfu','error','1387162PzVRMv','MfXfj','Pass\x20the\x20ID\x20of\x20the\x20running\x20Automation\x20grid\x20you\x20want\x20to\x20stop.','name','872790KnuyRL','NeTbl','existsSync','tWxsn','../../config/logger','18QPsNgq','password','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','debug','../../utils/gridComponents','command','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20stop','gridId','284867zmfRHJ','84BJnLRH','INFO','2UUZgxB','WkvKd','325854FccUGM','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','type','ExuBS','../../utils/webSocketUtils','Skip\x20insecure\x20cert\x20verification.','invalid-grid-id','handler','zEEBV','16nhljnf','stop-grid-called','CQmAU','Stopping\x20grid\x20','options','jceVC','Adding\x20Websocket\x20listeners','parse','grid-id','exit','ERROR','clusterName','<UsernamePlaceholder>','242143biZebl','connectionTimeout','uGaQV','body','../../utils/createk8sClient','../../utils/utilityMethods','../../cloudproviders/utils'];a21_0x1428=function(){return _0x150400;};return a21_0x1428();}const a21_0x458d13=a21_0xc476;(function(_0x297dc8,_0x459d9c){const _0x37431c=a21_0xc476,_0x407d10=_0x297dc8();while(!![]){try{const _0x44166a=parseInt(_0x37431c(0x1e4))/0x1+-parseInt(_0x37431c(0x1e7))/0x2*(parseInt(_0x37431c(0x1e9))/0x3)+-parseInt(_0x37431c(0x1b2))/0x4+parseInt(_0x37431c(0x1d1))/0x5*(-parseInt(_0x37431c(0x1b8))/0x6)+parseInt(_0x37431c(0x1d3))/0x7*(parseInt(_0x37431c(0x193))/0x8)+-parseInt(_0x37431c(0x1dc))/0x9*(-parseInt(_0x37431c(0x1d7))/0xa)+parseInt(_0x37431c(0x1a0))/0xb*(parseInt(_0x37431c(0x1e5))/0xc);if(_0x44166a===_0x459d9c)break;else _0x407d10['push'](_0x407d10['shift']());}catch(_0x11ee8c){_0x407d10['push'](_0x407d10['shift']());}}}(a21_0x1428,0x40e6c));function a21_0xc476(_0x39198a,_0x68117f){const _0x1428c1=a21_0x1428();return a21_0xc476=function(_0xc476f4,_0x435903){_0xc476f4=_0xc476f4-0x190;let _0x59874c=_0x1428c1[_0xc476f4];return _0x59874c;},a21_0xc476(_0x39198a,_0x68117f);}const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require('reconnecting-websocket'),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require('../../config/constants'),{logger}=require(a21_0x458d13(0x1db)),{getCredentialsPath,getGridDetails}=require(a21_0x458d13(0x1a5)),{scaleDownHubDeployment}=require(a21_0x458d13(0x1e0)),{sendInstrumentationEvent}=require('../../utils/instrumentationUtils'),webSocketUtils=require(a21_0x458d13(0x1ed)),{createK8sClient}=require(a21_0x458d13(0x1a4)),{getCloudProviderObject}=require(a21_0x458d13(0x1a6));exports[a21_0x458d13(0x1e1)]=a21_0x458d13(0x1be),exports[a21_0x458d13(0x1c2)]=a21_0x458d13(0x1ca),exports[a21_0x458d13(0x1b6)]=function(_0xea587c){const _0x4ebf42=a21_0x458d13,_0xb4e155={};_0xb4e155[_0x4ebf42(0x1bc)]=_0x4ebf42(0x1d5),_0xb4e155['KBGyg']=_0x4ebf42(0x1ce),_0xb4e155[_0x4ebf42(0x1cc)]=_0x4ebf42(0x1ee),_0xb4e155[_0x4ebf42(0x1b5)]='boolean',_0xb4e155[_0x4ebf42(0x1c3)]='help';const _0x5a83c4=_0xb4e155,_0x32fe62={};_0x32fe62[_0x4ebf42(0x1d0)]=_0x5a83c4['PKhaO'],_0x32fe62[_0x4ebf42(0x1eb)]=_0x5a83c4[_0x4ebf42(0x1bd)];const _0x123159={};_0x123159[_0x4ebf42(0x1d0)]=_0x5a83c4['BdCax'],_0x123159[_0x4ebf42(0x1eb)]=_0x5a83c4[_0x4ebf42(0x1b5)],_0x123159['default']=![];const _0x1d3187={};return _0x1d3187[_0x4ebf42(0x19b)]=_0x32fe62,_0x1d3187['skip-tls-cert-verify']=_0x123159,_0xea587c[_0x4ebf42(0x1cf)](HELP_HEADER_MESSAGE['stop'])[_0x4ebf42(0x1b7)](HELP_FOOTER_MESSAGE)[_0x4ebf42(0x197)](_0x1d3187)['help'](_0x5a83c4[_0x4ebf42(0x1c3)])[_0x4ebf42(0x1ac)];},exports[a21_0x458d13(0x191)]=async function(_0xa75b54){const _0x388e23=a21_0x458d13,_0x3ddeba={'yZvAl':_0x388e23(0x1e2),'uGaQV':function(_0x459bd8){return _0x459bd8();},'afykf':_0x388e23(0x1de),'NeTbl':function(_0x4de32f,_0x168d2e,_0x4e809c,_0x220bd8,_0x37f070,_0x51f453,_0x380a85){return _0x4de32f(_0x168d2e,_0x4e809c,_0x220bd8,_0x37f070,_0x51f453,_0x380a85);},'gjisQ':_0x388e23(0x194),'CQmAU':'init-not-called','qWQtg':function(_0x8d6f27){return _0x8d6f27();},'tWxsn':_0x388e23(0x19f),'jceVC':'<PasswordPlaceholder>','UAUbk':_0x388e23(0x199),'AqjxX':function(_0x1accd7,_0x35b8f7,_0x45776c,_0x3533fd){return _0x1accd7(_0x35b8f7,_0x45776c,_0x3533fd);},'jsxmK':function(_0x279fb3,_0x2d203f,_0x4b8210,_0x1ffa34,_0x2c1d18,_0x532adb,_0x17d51c){return _0x279fb3(_0x2d203f,_0x4b8210,_0x1ffa34,_0x2c1d18,_0x532adb,_0x17d51c);},'zEEBV':function(_0x434c75,_0x178305,_0x335b7a){return _0x434c75(_0x178305,_0x335b7a);},'QmPaF':function(_0x3c8a83,_0x4766a0,_0x2b68fe){return _0x3c8a83(_0x4766a0,_0x2b68fe);},'MfXfj':_0x388e23(0x1c6),'KPxng':function(_0x1902cd,_0x59b275){return _0x1902cd===_0x59b275;},'HqsRX':_0x388e23(0x1ea),'dgGgW':_0x388e23(0x1ba),'Qnikh':function(_0x437603,_0x176b08){return _0x437603===_0x176b08;},'ExuBS':_0x388e23(0x190),'ELtpl':function(_0x4ef8f1,_0x5127e7,_0x159bde,_0x5c834f,_0x26d268,_0x94c9d7,_0x1548d9){return _0x4ef8f1(_0x5127e7,_0x159bde,_0x5c834f,_0x26d268,_0x94c9d7,_0x1548d9);},'WkvKd':_0x388e23(0x1b0)};let _0x1fb683;try{!_0xa75b54[_0x388e23(0x1e3)]&&(logger[_0x388e23(0x1d2)](_0x3ddeba[_0x388e23(0x1ab)]),process[_0x388e23(0x19c)](0x1));!fs[_0x388e23(0x1d9)](_0x3ddeba[_0x388e23(0x1a2)](getCredentialsPath))&&(logger['error'](_0x3ddeba[_0x388e23(0x1b9)]),await _0x3ddeba[_0x388e23(0x1d8)](sendInstrumentationEvent,_0xa75b54,_0x3ddeba[_0x388e23(0x1af)],messageTypes[_0x388e23(0x19d)],_0x3ddeba[_0x388e23(0x195)],null,_0xa75b54),process['exit'](0x1));logger[_0x388e23(0x1c0)](_0x388e23(0x196)+_0xa75b54[_0x388e23(0x1e3)]),await _0x3ddeba[_0x388e23(0x1d8)](sendInstrumentationEvent,_0xa75b54,_0x3ddeba[_0x388e23(0x1af)],messageTypes[_0x388e23(0x1e6)],null,null,_0xa75b54);const _0x126a36=JSON[_0x388e23(0x19a)](fs[_0x388e23(0x1bb)](_0x3ddeba['qWQtg'](getCredentialsPath)));global_registry['bstackUsername']=_0x126a36[_0x388e23(0x1cb)]['username'],global_registry[_0x388e23(0x1aa)]=_0x126a36['Browserstack'][_0x388e23(0x1dd)];const _0x2564b9=WS_ENDPOINT[_0x388e23(0x1a7)](_0x3ddeba[_0x388e23(0x1da)],_0x126a36['Browserstack']['username'])['replace'](_0x3ddeba[_0x388e23(0x198)],_0x126a36[_0x388e23(0x1cb)]['password']),_0xc05cc={};_0xc05cc[_0x388e23(0x1c9)]=ws,_0xc05cc[_0x388e23(0x1a1)]=0x36ee80,_0x1fb683=new ReconnectingWebSocket(_0x2564b9,[],_0xc05cc),logger[_0x388e23(0x1df)](_0x3ddeba[_0x388e23(0x1c4)]),webSocketUtils['addListeners'](_0x1fb683,_0xa75b54[_0x388e23(0x1c8)],_0xa75b54[_0x388e23(0x1dd)]);const [_0x21c381,_0x7c946e]=await _0x3ddeba['AqjxX'](getGridDetails,_0x126a36[_0x388e23(0x1cb)]['username'],_0x126a36[_0x388e23(0x1cb)][_0x388e23(0x1dd)],_0xa75b54[_0x388e23(0x1e3)]);if(_0x7c946e){const _0x81f620=_0x7c946e['info'];global_registry[_0x388e23(0x1c7)]=_0x81f620['cloudProvider'],global_registry[_0x388e23(0x1c1)]=_0x81f620['region'],global_registry[_0x388e23(0x19e)]=_0x81f620[_0x388e23(0x19e)];const _0x464849=await _0x3ddeba[_0x388e23(0x1a9)](getCloudProviderObject,_0x81f620['cloudProvider'],_0x81f620[_0x388e23(0x19e)],_0x81f620[_0x388e23(0x1d6)],_0x1fb683,webSocketUtils,_0xa75b54),[_0x29c2bd,_0x2236b5,_0x4870f6,_0x44f9a6,_0x49e3f9,_0x2339ba]=await _0x3ddeba[_0x388e23(0x192)](createK8sClient,_0x464849,_0xa75b54[_0x388e23(0x1b4)]);await _0x3ddeba['QmPaF'](scaleDownHubDeployment,_0x2236b5,_0x81f620[_0x388e23(0x1d6)]),logger[_0x388e23(0x1c0)](_0x3ddeba[_0x388e23(0x1d4)]),process['exit'](0x0);}_0x3ddeba[_0x388e23(0x1ae)](_0x21c381[_0x388e23(0x1b1)],0x191)&&(logger[_0x388e23(0x1d2)](_0x3ddeba['HqsRX']),await _0x3ddeba[_0x388e23(0x1d8)](sendInstrumentationEvent,_0xa75b54,_0x3ddeba['gjisQ'],messageTypes['ERROR'],_0x3ddeba['dgGgW'],null,_0xa75b54),process['exit'](0x1)),_0x3ddeba[_0x388e23(0x1ad)](_0x21c381[_0x388e23(0x1b1)],0x190)&&(logger[_0x388e23(0x1d2)](JSON['parse'](_0x21c381[_0x388e23(0x1a3)])['message']),await _0x3ddeba[_0x388e23(0x1d8)](sendInstrumentationEvent,_0xa75b54,_0x3ddeba[_0x388e23(0x1af)],messageTypes[_0x388e23(0x19d)],_0x3ddeba[_0x388e23(0x1ec)],null,_0xa75b54),process[_0x388e23(0x19c)](0x1)),logger[_0x388e23(0x1d2)](_0x388e23(0x1bf)+JSON[_0x388e23(0x1a8)](_0x21c381)),await _0x3ddeba[_0x388e23(0x1b3)](sendInstrumentationEvent,_0xa75b54,_0x3ddeba[_0x388e23(0x1af)],messageTypes[_0x388e23(0x19d)],_0x3ddeba[_0x388e23(0x1e8)],_0x21c381,_0xa75b54),process[_0x388e23(0x19c)](0x1);}catch(_0xb1a742){const _0x7e0299=_0x388e23(0x1cd)+_0xb1a742+'\x20\x0a'+JSON[_0x388e23(0x1a8)](_0xb1a742[_0x388e23(0x1c5)])+'\x20';logger[_0x388e23(0x1d2)](_0x7e0299),process['exit'](0x1);}};