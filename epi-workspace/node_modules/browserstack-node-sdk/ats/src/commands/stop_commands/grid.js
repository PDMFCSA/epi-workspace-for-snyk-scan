function a21_0x5aee(){const _0x2ebdb7=['PijEb','replace','Browserstack','region','../../utils/utilityMethods','password','unauthorised','nsAAI','clusterName','bvmZH','reconnecting-websocket','../../config/constants','11662408JdtXxY','statusCode','11127956vXniLE','gridId','529030bYyqgJ','body','description','builder','iWtpp','18eTlDTG','error','WlTLd','lMkyo','grid','skip-tls-cert-verify','INFO','../../utils/webSocketUtils','stringify','usage','command','addListeners','name','../../config/logger','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','JjGfm','options','stack','default','init-not-called','576GFDrzb','epilogue','handler','Unable\x20to\x20stop\x20the\x20Grid!\x20Error:\x20','4695HzEQWY','existsSync','<PasswordPlaceholder>','bstackUsername','exit','help','info','Adding\x20Websocket\x20listeners','string','397546ORdefY','iCupn','Stopping\x20grid\x20','mdZKm','cloudProvider','iOHoF','OKdhE','parse','../../cloudproviders/utils','../../utils/gridComponents','dEafX','jMCJk','Pass\x20the\x20ID\x20of\x20the\x20running\x20Automation\x20grid\x20you\x20want\x20to\x20stop.','stop','user','../../utils/instrumentationUtils','WebSocket','Skip\x20insecure\x20cert\x20verification.','ERROR','6962682TycFXI','nmEYk','624fmHQLh','connectionTimeout','stop-grid-called','Grid\x20stoppped.','GslLG','username','649370YNHouS'];a21_0x5aee=function(){return _0x2ebdb7;};return a21_0x5aee();}function a21_0x1a01(_0x2a134e,_0x1cd926){const _0x5aee20=a21_0x5aee();return a21_0x1a01=function(_0x1a01cb,_0x3ff460){_0x1a01cb=_0x1a01cb-0x147;let _0x4ebc94=_0x5aee20[_0x1a01cb];return _0x4ebc94;},a21_0x1a01(_0x2a134e,_0x1cd926);}const a21_0x4f64e5=a21_0x1a01;(function(_0xf67c3b,_0x44388f){const _0x49cc29=a21_0x1a01,_0xfae560=_0xf67c3b();while(!![]){try{const _0x5ac163=-parseInt(_0x49cc29(0x15a))/0x1+-parseInt(_0x49cc29(0x186))/0x2*(parseInt(_0x49cc29(0x18b))/0x3)+parseInt(_0x49cc29(0x16f))/0x4*(-parseInt(_0x49cc29(0x151))/0x5)+-parseInt(_0x49cc29(0x16d))/0x6+parseInt(_0x49cc29(0x184))/0x7+-parseInt(_0x49cc29(0x182))/0x8+parseInt(_0x49cc29(0x14d))/0x9*(parseInt(_0x49cc29(0x175))/0xa);if(_0x5ac163===_0x44388f)break;else _0xfae560['push'](_0xfae560['shift']());}catch(_0x34e692){_0xfae560['push'](_0xfae560['shift']());}}}(a21_0x5aee,0xf33d4));const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require(a21_0x4f64e5(0x180)),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a21_0x4f64e5(0x181)),{logger}=require(a21_0x4f64e5(0x198)),{getCredentialsPath,getGridDetails}=require(a21_0x4f64e5(0x17a)),{scaleDownHubDeployment}=require(a21_0x4f64e5(0x163)),{sendInstrumentationEvent}=require(a21_0x4f64e5(0x169)),webSocketUtils=require(a21_0x4f64e5(0x192)),{createK8sClient}=require('../../utils/createk8sClient'),{getCloudProviderObject}=require(a21_0x4f64e5(0x162));exports[a21_0x4f64e5(0x195)]=a21_0x4f64e5(0x18f),exports['desc']='Stop\x20a\x20running\x20Automation\x20grid.',exports[a21_0x4f64e5(0x189)]=function(_0xe935f){const _0x221be2=a21_0x4f64e5,_0x7e3a7b={};_0x7e3a7b[_0x221be2(0x160)]=_0x221be2(0x166),_0x7e3a7b[_0x221be2(0x164)]=_0x221be2(0x159),_0x7e3a7b[_0x221be2(0x176)]=_0x221be2(0x16b),_0x7e3a7b[_0x221be2(0x148)]='boolean',_0x7e3a7b['iCupn']=_0x221be2(0x156);const _0x5d209e=_0x7e3a7b,_0x11e65d={};_0x11e65d[_0x221be2(0x188)]=_0x5d209e[_0x221be2(0x160)],_0x11e65d['type']=_0x5d209e[_0x221be2(0x164)];const _0x5e19f8={};_0x5e19f8['description']=_0x5d209e[_0x221be2(0x176)],_0x5e19f8['type']=_0x5d209e[_0x221be2(0x148)],_0x5e19f8[_0x221be2(0x14b)]=![];const _0x298b0e={};return _0x298b0e['grid-id']=_0x11e65d,_0x298b0e[_0x221be2(0x190)]=_0x5e19f8,_0xe935f[_0x221be2(0x194)](HELP_HEADER_MESSAGE[_0x221be2(0x167)])[_0x221be2(0x14e)](HELP_FOOTER_MESSAGE)[_0x221be2(0x149)](_0x298b0e)[_0x221be2(0x156)](_0x5d209e[_0x221be2(0x15b)])['argv'];},exports[a21_0x4f64e5(0x14f)]=async function(_0x1e4462){const _0x226a78=a21_0x4f64e5,_0x546cfc={'esotT':'Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20stop','HcXmv':function(_0x457edd){return _0x457edd();},'nsAAI':'Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','mdZKm':function(_0x3fec75,_0x51b1e,_0x228adc,_0x2b1327,_0x448fc6,_0x5597e8,_0x377213){return _0x3fec75(_0x51b1e,_0x228adc,_0x2b1327,_0x448fc6,_0x5597e8,_0x377213);},'nmEYk':_0x226a78(0x171),'WlTLd':_0x226a78(0x14c),'gGGcu':'<UsernamePlaceholder>','lMkyo':_0x226a78(0x153),'JZouV':_0x226a78(0x158),'jMCJk':function(_0x38cb29,_0x3b2c73,_0x5e7af7,_0xc32af4){return _0x38cb29(_0x3b2c73,_0x5e7af7,_0xc32af4);},'iWtpp':function(_0x261b0,_0x508f36,_0x38b19b,_0x4ae0f5,_0x1d4352,_0x254646,_0xe14a15){return _0x261b0(_0x508f36,_0x38b19b,_0x4ae0f5,_0x1d4352,_0x254646,_0xe14a15);},'GslLG':function(_0x56374e,_0x2983a1,_0x3dae46){return _0x56374e(_0x2983a1,_0x3dae46);},'ckgEL':function(_0x2103df,_0x14d127,_0x16e7ce){return _0x2103df(_0x14d127,_0x16e7ce);},'WVwqj':_0x226a78(0x172),'bvmZH':function(_0x39e974,_0x15473a){return _0x39e974===_0x15473a;},'uiIZS':_0x226a78(0x147),'iOHoF':function(_0x4698e1,_0x40c349,_0x3679b2,_0x214761,_0x2f256e,_0x4c1ac5,_0x52d8c1){return _0x4698e1(_0x40c349,_0x3679b2,_0x214761,_0x2f256e,_0x4c1ac5,_0x52d8c1);},'FkJua':_0x226a78(0x17c),'uUWcT':'invalid-grid-id','pUqrm':function(_0x23ffae,_0x20307a,_0x376dab,_0x467e8d,_0x4f5fbb,_0x28e4b6,_0x496400){return _0x23ffae(_0x20307a,_0x376dab,_0x467e8d,_0x4f5fbb,_0x28e4b6,_0x496400);},'IKiYT':'server-error'};let _0x45e2d0;try{!_0x1e4462[_0x226a78(0x185)]&&(logger[_0x226a78(0x18c)](_0x546cfc['esotT']),process[_0x226a78(0x155)](0x1));!fs[_0x226a78(0x152)](_0x546cfc['HcXmv'](getCredentialsPath))&&(logger[_0x226a78(0x18c)](_0x546cfc[_0x226a78(0x17d)]),await _0x546cfc[_0x226a78(0x15d)](sendInstrumentationEvent,_0x1e4462,_0x546cfc[_0x226a78(0x16e)],messageTypes[_0x226a78(0x16c)],_0x546cfc[_0x226a78(0x18d)],null,_0x1e4462),process[_0x226a78(0x155)](0x1));logger['info'](_0x226a78(0x15c)+_0x1e4462[_0x226a78(0x185)]),await _0x546cfc[_0x226a78(0x15d)](sendInstrumentationEvent,_0x1e4462,_0x546cfc['nmEYk'],messageTypes[_0x226a78(0x191)],null,null,_0x1e4462);const _0x20e75d=JSON[_0x226a78(0x161)](fs['readFileSync'](_0x546cfc['HcXmv'](getCredentialsPath)));global_registry[_0x226a78(0x154)]=_0x20e75d[_0x226a78(0x178)][_0x226a78(0x174)],global_registry['bstackAccesskey']=_0x20e75d[_0x226a78(0x178)][_0x226a78(0x17b)];const _0x33df21=WS_ENDPOINT[_0x226a78(0x177)](_0x546cfc['gGGcu'],_0x20e75d[_0x226a78(0x178)][_0x226a78(0x174)])[_0x226a78(0x177)](_0x546cfc[_0x226a78(0x18e)],_0x20e75d[_0x226a78(0x178)][_0x226a78(0x17b)]),_0x3ccb32={};_0x3ccb32[_0x226a78(0x16a)]=ws,_0x3ccb32[_0x226a78(0x170)]=0x36ee80,_0x45e2d0=new ReconnectingWebSocket(_0x33df21,[],_0x3ccb32),logger['debug'](_0x546cfc['JZouV']),webSocketUtils[_0x226a78(0x196)](_0x45e2d0,_0x1e4462[_0x226a78(0x168)],_0x1e4462[_0x226a78(0x17b)]);const [_0x4a35bf,_0x42d5a5]=await _0x546cfc[_0x226a78(0x165)](getGridDetails,_0x20e75d[_0x226a78(0x178)]['username'],_0x20e75d[_0x226a78(0x178)][_0x226a78(0x17b)],_0x1e4462[_0x226a78(0x185)]);if(_0x42d5a5){const _0x120adb=_0x42d5a5[_0x226a78(0x157)];global_registry['cloudProvider']=_0x120adb['cloudProvider'],global_registry['clusterRegion']=_0x120adb[_0x226a78(0x179)],global_registry[_0x226a78(0x17e)]=_0x120adb[_0x226a78(0x17e)];const _0xabf778=await _0x546cfc[_0x226a78(0x18a)](getCloudProviderObject,_0x120adb[_0x226a78(0x15e)],_0x120adb[_0x226a78(0x17e)],_0x120adb[_0x226a78(0x197)],_0x45e2d0,webSocketUtils,_0x1e4462),[_0x17801f,_0x44a3a6,_0x450500,_0x588f15,_0x1508dd,_0x268ff3]=await _0x546cfc[_0x226a78(0x173)](createK8sClient,_0xabf778,_0x1e4462['skipTlsCertVerify']);await _0x546cfc['ckgEL'](scaleDownHubDeployment,_0x44a3a6,_0x120adb[_0x226a78(0x197)]),logger['info'](_0x546cfc['WVwqj']),process[_0x226a78(0x155)](0x0);}_0x546cfc[_0x226a78(0x17f)](_0x4a35bf[_0x226a78(0x183)],0x191)&&(logger[_0x226a78(0x18c)](_0x546cfc['uiIZS']),await _0x546cfc[_0x226a78(0x15f)](sendInstrumentationEvent,_0x1e4462,_0x546cfc['nmEYk'],messageTypes[_0x226a78(0x16c)],_0x546cfc['FkJua'],null,_0x1e4462),process[_0x226a78(0x155)](0x1)),_0x546cfc[_0x226a78(0x17f)](_0x4a35bf[_0x226a78(0x183)],0x190)&&(logger['error'](JSON[_0x226a78(0x161)](_0x4a35bf[_0x226a78(0x187)])['message']),await _0x546cfc[_0x226a78(0x15f)](sendInstrumentationEvent,_0x1e4462,_0x546cfc[_0x226a78(0x16e)],messageTypes['ERROR'],_0x546cfc['uUWcT'],null,_0x1e4462),process[_0x226a78(0x155)](0x1)),logger[_0x226a78(0x18c)]('Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20'+JSON[_0x226a78(0x193)](_0x4a35bf)),await _0x546cfc['pUqrm'](sendInstrumentationEvent,_0x1e4462,_0x546cfc[_0x226a78(0x16e)],messageTypes['ERROR'],_0x546cfc['IKiYT'],_0x4a35bf,_0x1e4462),process['exit'](0x1);}catch(_0x542391){const _0x38580b=_0x226a78(0x150)+_0x542391+'\x20\x0a'+JSON['stringify'](_0x542391[_0x226a78(0x14a)])+'\x20';logger[_0x226a78(0x18c)](_0x38580b),process[_0x226a78(0x155)](0x1);}};