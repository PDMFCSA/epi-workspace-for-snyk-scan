function a21_0x1769(){const _0x4b165b=['desc','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','yAybT','YuxKq','../../utils/gridComponents','addListeners','INFO','username','Browserstack','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20stop','ERROR','Stopping\x20grid\x20','statusCode','64734MYTgBP','bdqfL','cloudProvider','ugEPG','../../config/constants','unauthorised','Skip\x20insecure\x20cert\x20verification.','Udmwj','lPeea','nHTyg','skip-tls-cert-verify','parse','readFileSync','stringify','Stop\x20a\x20running\x20Automation\x20grid.','BQQmE','../../utils/instrumentationUtils','<UsernamePlaceholder>','error','40jvUwCA','zBiIx','info','MXuUg','Pass\x20the\x20ID\x20of\x20the\x20running\x20Automation\x20grid\x20you\x20want\x20to\x20stop.','APiWy','1dvUbkT','DmfMo','handler','argv','775902Okmcxe','ZbHrc','clusterName','xwYDE','debug','NsofN','1048915SAzBoH','vURzo','KkoeH','exit','glptx','gridId','../../config/logger','OFpuK','bstackAccesskey','../../utils/webSocketUtils','bstackUsername','region','string','34836NyGRsS','help','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','../../utils/utilityMethods','VBKih','stack','description','default','boolean','594SZwLqh','naDwM','replace','skipTlsCertVerify','invalid-grid-id','message','xRPpP','tWpPg','password','reconnecting-websocket','ohjxu','MAmwU','2508480dNEcVy','type','../../utils/createk8sClient','88ScRBnT','344281jqlCmA','builder','name','epilogue'];a21_0x1769=function(){return _0x4b165b;};return a21_0x1769();}const a21_0x39f54f=a21_0x5819;(function(_0x482f43,_0x4fad98){const _0x10f320=a21_0x5819,_0x55aa46=_0x482f43();while(!![]){try{const _0x1e5f03=-parseInt(_0x10f320(0x212))/0x1*(-parseInt(_0x10f320(0x229))/0x2)+parseInt(_0x10f320(0x1f9))/0x3*(parseInt(_0x10f320(0x20c))/0x4)+parseInt(_0x10f320(0x21c))/0x5+-parseInt(_0x10f320(0x216))/0x6+parseInt(_0x10f320(0x242))/0x7+parseInt(_0x10f320(0x241))/0x8*(-parseInt(_0x10f320(0x232))/0x9)+-parseInt(_0x10f320(0x23e))/0xa;if(_0x1e5f03===_0x4fad98)break;else _0x55aa46['push'](_0x55aa46['shift']());}catch(_0x3000ea){_0x55aa46['push'](_0x55aa46['shift']());}}}(a21_0x1769,0x1b2a9));const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require(a21_0x39f54f(0x23b)),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a21_0x39f54f(0x1fd)),{logger}=require(a21_0x39f54f(0x222)),{getCredentialsPath,getGridDetails}=require(a21_0x39f54f(0x22c)),{scaleDownHubDeployment}=require(a21_0x39f54f(0x24a)),{sendInstrumentationEvent}=require(a21_0x39f54f(0x209)),webSocketUtils=require(a21_0x39f54f(0x225)),{createK8sClient}=require(a21_0x39f54f(0x240)),{getCloudProviderObject}=require('../../cloudproviders/utils');function a21_0x5819(_0x249e78,_0x14a542){const _0x1769f7=a21_0x1769();return a21_0x5819=function(_0x5819b8,_0x5bbf62){_0x5819b8=_0x5819b8-0x1f4;let _0x1a77db=_0x1769f7[_0x5819b8];return _0x1a77db;},a21_0x5819(_0x249e78,_0x14a542);}exports['command']='grid',exports[a21_0x39f54f(0x246)]=a21_0x39f54f(0x207),exports[a21_0x39f54f(0x243)]=function(_0x2ccb1d){const _0x2de010=a21_0x39f54f,_0x5de8c7={};_0x5de8c7[_0x2de010(0x200)]=_0x2de010(0x210),_0x5de8c7['glptx']=_0x2de010(0x228),_0x5de8c7[_0x2de010(0x223)]=_0x2de010(0x1ff),_0x5de8c7[_0x2de010(0x21d)]=_0x2de010(0x231),_0x5de8c7[_0x2de010(0x239)]=_0x2de010(0x22a);const _0x54a668=_0x5de8c7,_0x5ef6a7={};_0x5ef6a7[_0x2de010(0x22f)]=_0x54a668['Udmwj'],_0x5ef6a7[_0x2de010(0x23f)]=_0x54a668[_0x2de010(0x220)];const _0x1b9a76={};_0x1b9a76[_0x2de010(0x22f)]=_0x54a668[_0x2de010(0x223)],_0x1b9a76['type']=_0x54a668[_0x2de010(0x21d)],_0x1b9a76[_0x2de010(0x230)]=![];const _0x2cfb0a={};return _0x2cfb0a['grid-id']=_0x5ef6a7,_0x2cfb0a[_0x2de010(0x203)]=_0x1b9a76,_0x2ccb1d['usage'](HELP_HEADER_MESSAGE['stop'])[_0x2de010(0x245)](HELP_FOOTER_MESSAGE)['options'](_0x2cfb0a)[_0x2de010(0x22a)](_0x54a668[_0x2de010(0x239)])[_0x2de010(0x215)];},exports[a21_0x39f54f(0x214)]=async function(_0xb94272){const _0x560980=a21_0x39f54f,_0x2cca80={'MXuUg':_0x560980(0x1f5),'nHTyg':function(_0x51f445){return _0x51f445();},'NsofN':_0x560980(0x247),'ohjxu':function(_0x5ae9fd,_0x3f120f,_0x36ff45,_0x483aae,_0x3380cc,_0x6e1025,_0x4508d8){return _0x5ae9fd(_0x3f120f,_0x36ff45,_0x483aae,_0x3380cc,_0x6e1025,_0x4508d8);},'KkoeH':'stop-grid-called','APiWy':'init-not-called','lPeea':function(_0x5e5479){return _0x5e5479();},'YuxKq':_0x560980(0x20a),'BDbaW':'<PasswordPlaceholder>','xRPpP':'Adding\x20Websocket\x20listeners','yAybT':function(_0x24b1e8,_0xf56fc8,_0x3074ab,_0x566bf4){return _0x24b1e8(_0xf56fc8,_0x3074ab,_0x566bf4);},'zBiIx':function(_0x511fee,_0x1efa25,_0x4ccb6c,_0x16028d,_0x4eebdb,_0x585efb,_0x1bade5){return _0x511fee(_0x1efa25,_0x4ccb6c,_0x16028d,_0x4eebdb,_0x585efb,_0x1bade5);},'VBKih':function(_0x84e9fb,_0xfc1f39,_0x17768e){return _0x84e9fb(_0xfc1f39,_0x17768e);},'fXRMY':'Grid\x20stoppped.','ugEPG':function(_0x255eb7,_0x353be9){return _0x255eb7===_0x353be9;},'DmfMo':'Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','bdqfL':function(_0x26d40f,_0x3945d0,_0x268b14,_0x5c2e9b,_0x21866f,_0x9f7210,_0x4a2388){return _0x26d40f(_0x3945d0,_0x268b14,_0x5c2e9b,_0x21866f,_0x9f7210,_0x4a2388);},'ZbHrc':_0x560980(0x1fe),'MAmwU':function(_0x5f320a,_0x1010c7){return _0x5f320a===_0x1010c7;},'xwYDE':function(_0x17666a,_0x52ccc3,_0x133c67,_0x54e9f0,_0xa0409a,_0x36a492,_0x49f792){return _0x17666a(_0x52ccc3,_0x133c67,_0x54e9f0,_0xa0409a,_0x36a492,_0x49f792);},'naDwM':_0x560980(0x236),'BQQmE':'server-error'};let _0xedcc7c;try{!_0xb94272['gridId']&&(logger[_0x560980(0x20b)](_0x2cca80[_0x560980(0x20f)]),process[_0x560980(0x21f)](0x1));!fs['existsSync'](_0x2cca80[_0x560980(0x202)](getCredentialsPath))&&(logger[_0x560980(0x20b)](_0x2cca80[_0x560980(0x21b)]),await _0x2cca80[_0x560980(0x23c)](sendInstrumentationEvent,_0xb94272,_0x2cca80[_0x560980(0x21e)],messageTypes[_0x560980(0x1f6)],_0x2cca80[_0x560980(0x211)],null,_0xb94272),process['exit'](0x1));logger[_0x560980(0x20e)](_0x560980(0x1f7)+_0xb94272[_0x560980(0x221)]),await _0x2cca80[_0x560980(0x23c)](sendInstrumentationEvent,_0xb94272,_0x2cca80[_0x560980(0x21e)],messageTypes[_0x560980(0x24c)],null,null,_0xb94272);const _0x3b5ab9=JSON[_0x560980(0x204)](fs[_0x560980(0x205)](_0x2cca80[_0x560980(0x201)](getCredentialsPath)));global_registry[_0x560980(0x226)]=_0x3b5ab9[_0x560980(0x1f4)]['username'],global_registry[_0x560980(0x224)]=_0x3b5ab9[_0x560980(0x1f4)][_0x560980(0x23a)];const _0x1586e8=WS_ENDPOINT[_0x560980(0x234)](_0x2cca80[_0x560980(0x249)],_0x3b5ab9['Browserstack'][_0x560980(0x24d)])[_0x560980(0x234)](_0x2cca80['BDbaW'],_0x3b5ab9[_0x560980(0x1f4)][_0x560980(0x23a)]),_0x4bb584={};_0x4bb584['WebSocket']=ws,_0x4bb584['connectionTimeout']=0x36ee80,_0xedcc7c=new ReconnectingWebSocket(_0x1586e8,[],_0x4bb584),logger[_0x560980(0x21a)](_0x2cca80[_0x560980(0x238)]),webSocketUtils[_0x560980(0x24b)](_0xedcc7c,_0xb94272['user'],_0xb94272['password']);const [_0x5bdc47,_0xac5ab]=await _0x2cca80[_0x560980(0x248)](getGridDetails,_0x3b5ab9['Browserstack'][_0x560980(0x24d)],_0x3b5ab9[_0x560980(0x1f4)]['password'],_0xb94272['gridId']);if(_0xac5ab){const _0x500055=_0xac5ab['info'];global_registry[_0x560980(0x1fb)]=_0x500055['cloudProvider'],global_registry['clusterRegion']=_0x500055[_0x560980(0x227)],global_registry[_0x560980(0x218)]=_0x500055[_0x560980(0x218)];const _0x56220b=await _0x2cca80[_0x560980(0x20d)](getCloudProviderObject,_0x500055[_0x560980(0x1fb)],_0x500055[_0x560980(0x218)],_0x500055[_0x560980(0x244)],_0xedcc7c,webSocketUtils,_0xb94272),[_0x1ddf37,_0x5af86c,_0x4f59b9,_0x281a06,_0x52ef01,_0x16cd09]=await _0x2cca80['VBKih'](createK8sClient,_0x56220b,_0xb94272[_0x560980(0x235)]);await _0x2cca80[_0x560980(0x22d)](scaleDownHubDeployment,_0x5af86c,_0x500055[_0x560980(0x244)]),logger[_0x560980(0x20e)](_0x2cca80['fXRMY']),process[_0x560980(0x21f)](0x0);}_0x2cca80[_0x560980(0x1fc)](_0x5bdc47[_0x560980(0x1f8)],0x191)&&(logger[_0x560980(0x20b)](_0x2cca80[_0x560980(0x213)]),await _0x2cca80[_0x560980(0x1fa)](sendInstrumentationEvent,_0xb94272,_0x2cca80['KkoeH'],messageTypes['ERROR'],_0x2cca80[_0x560980(0x217)],null,_0xb94272),process[_0x560980(0x21f)](0x1)),_0x2cca80[_0x560980(0x23d)](_0x5bdc47['statusCode'],0x190)&&(logger['error'](JSON[_0x560980(0x204)](_0x5bdc47['body'])[_0x560980(0x237)]),await _0x2cca80[_0x560980(0x219)](sendInstrumentationEvent,_0xb94272,_0x2cca80[_0x560980(0x21e)],messageTypes[_0x560980(0x1f6)],_0x2cca80[_0x560980(0x233)],null,_0xb94272),process[_0x560980(0x21f)](0x1)),logger[_0x560980(0x20b)](_0x560980(0x22b)+JSON[_0x560980(0x206)](_0x5bdc47)),await _0x2cca80[_0x560980(0x1fa)](sendInstrumentationEvent,_0xb94272,_0x2cca80[_0x560980(0x21e)],messageTypes[_0x560980(0x1f6)],_0x2cca80[_0x560980(0x208)],_0x5bdc47,_0xb94272),process[_0x560980(0x21f)](0x1);}catch(_0x732f94){const _0x2aec4e='Unable\x20to\x20stop\x20the\x20Grid!\x20Error:\x20'+_0x732f94+'\x20\x0a'+JSON[_0x560980(0x206)](_0x732f94[_0x560980(0x22e)])+'\x20';logger[_0x560980(0x20b)](_0x2aec4e),process['exit'](0x1);}};