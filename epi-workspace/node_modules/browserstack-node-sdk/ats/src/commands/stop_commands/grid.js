function a21_0x525b(_0xa40b8e,_0x40900b){const _0x4985b0=a21_0x4985();return a21_0x525b=function(_0x525b5d,_0x2ec4ec){_0x525b5d=_0x525b5d-0x199;let _0xb24e04=_0x4985b0[_0x525b5d];return _0xb24e04;},a21_0x525b(_0xa40b8e,_0x40900b);}function a21_0x4985(){const _0x34ef5a=['stop-grid-called','gridId','invalid-grid-id','VpVaf','../../cloudproviders/utils','cloudProvider','clusterName','CiTjT','QHIEG','name','replace','handler','builder','grid','stack','VKVhr','../../config/logger','Stop\x20a\x20running\x20Automation\x20grid.','euZjQ','info','zzecj','boolean','grid-id','unauthorised','29587mxSdqx','message','WebSocket','Stopping\x20grid\x20','FXssU','../../config/constants','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','Grid\x20stoppped.','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','6BOAVJG','stringify','VMVeh','../../utils/webSocketUtils','options','bstackUsername','cwPKF','command','MNjxw','40718gRTzSs','jvgeR','existsSync','epilogue','description','JfmNC','stop','../../utils/utilityMethods','<PasswordPlaceholder>','1310410EeujqK','debug','error','connectionTimeout','DzQWc','parse','../../utils/instrumentationUtils','dTWNo','FoEBv','init-not-called','ERROR','QdcVc','argv','clusterRegion','Skip\x20insecure\x20cert\x20verification.','statusCode','username','yJTNh','INFO','region','usage','body','6389595FBIxqO','default','XIKCZ','1915040bgdhfH','../../utils/gridComponents','../../utils/createk8sClient','server-error','type','Browserstack','tiAAT','ngKRk','JKydE','Unable\x20to\x20stop\x20the\x20Grid!\x20Error:\x20','3YsZtAz','skipTlsCertVerify','EXVat','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','3484481mKOazK','exit','skip-tls-cert-verify','password','Adding\x20Websocket\x20listeners','286376eAkZhC','PztYr','desc','help'];a21_0x4985=function(){return _0x34ef5a;};return a21_0x4985();}const a21_0x575bb7=a21_0x525b;(function(_0xd23dd2,_0x36ea57){const _0xc85057=a21_0x525b,_0x4d3da4=_0xd23dd2();while(!![]){try{const _0xba5356=parseInt(_0xc85057(0x1eb))/0x1+-parseInt(_0xc85057(0x19a))/0x2*(parseInt(_0xc85057(0x1c6))/0x3)+parseInt(_0xc85057(0x1cf))/0x4+-parseInt(_0xc85057(0x1a3))/0x5*(parseInt(_0xc85057(0x1f4))/0x6)+-parseInt(_0xc85057(0x1ca))/0x7+parseInt(_0xc85057(0x1bc))/0x8+parseInt(_0xc85057(0x1b9))/0x9;if(_0xba5356===_0x36ea57)break;else _0x4d3da4['push'](_0x4d3da4['shift']());}catch(_0x567abc){_0x4d3da4['push'](_0x4d3da4['shift']());}}}(a21_0x4985,0x41fd4));const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require('reconnecting-websocket'),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a21_0x575bb7(0x1f0)),{logger}=require(a21_0x575bb7(0x1e3)),{getCredentialsPath,getGridDetails}=require(a21_0x575bb7(0x1a1)),{scaleDownHubDeployment}=require(a21_0x575bb7(0x1bd)),{sendInstrumentationEvent}=require(a21_0x575bb7(0x1a9)),webSocketUtils=require(a21_0x575bb7(0x1f7)),{createK8sClient}=require(a21_0x575bb7(0x1be)),{getCloudProviderObject}=require(a21_0x575bb7(0x1d7));exports[a21_0x575bb7(0x1fb)]=a21_0x575bb7(0x1e0),exports[a21_0x575bb7(0x1d1)]=a21_0x575bb7(0x1e4),exports[a21_0x575bb7(0x1df)]=function(_0xb5c8cf){const _0x707ef6=a21_0x575bb7,_0x3ebc94={};_0x3ebc94[_0x707ef6(0x1ae)]='Pass\x20the\x20ID\x20of\x20the\x20running\x20Automation\x20grid\x20you\x20want\x20to\x20stop.',_0x3ebc94[_0x707ef6(0x1da)]='string',_0x3ebc94[_0x707ef6(0x1b4)]=_0x707ef6(0x1b1),_0x3ebc94[_0x707ef6(0x1ef)]=_0x707ef6(0x1e8),_0x3ebc94['dTWNo']=_0x707ef6(0x1d2);const _0x2c4992=_0x3ebc94,_0x29bb8e={};_0x29bb8e[_0x707ef6(0x19e)]=_0x2c4992[_0x707ef6(0x1ae)],_0x29bb8e[_0x707ef6(0x1c0)]=_0x2c4992[_0x707ef6(0x1da)];const _0x166bec={};_0x166bec['description']=_0x2c4992[_0x707ef6(0x1b4)],_0x166bec[_0x707ef6(0x1c0)]=_0x2c4992['FXssU'],_0x166bec[_0x707ef6(0x1ba)]=![];const _0x121650={};return _0x121650[_0x707ef6(0x1e9)]=_0x29bb8e,_0x121650[_0x707ef6(0x1cc)]=_0x166bec,_0xb5c8cf[_0x707ef6(0x1b7)](HELP_HEADER_MESSAGE[_0x707ef6(0x1a0)])[_0x707ef6(0x19d)](HELP_FOOTER_MESSAGE)[_0x707ef6(0x1f8)](_0x121650)[_0x707ef6(0x1d2)](_0x2c4992[_0x707ef6(0x1aa)])[_0x707ef6(0x1af)];},exports[a21_0x575bb7(0x1de)]=async function(_0x44bc43){const _0xd3aae8=a21_0x575bb7,_0x5e0fdd={'zzecj':'Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20stop','DzQWc':function(_0xf13d82){return _0xf13d82();},'VKVhr':_0xd3aae8(0x1f1),'euZjQ':function(_0x3584d6,_0x5a7ac7,_0xb1f4fb,_0x1918c0,_0x3dc60c,_0x4e8400,_0x32ba54){return _0x3584d6(_0x5a7ac7,_0xb1f4fb,_0x1918c0,_0x3dc60c,_0x4e8400,_0x32ba54);},'ngKRk':_0xd3aae8(0x1d3),'VMVeh':_0xd3aae8(0x1ac),'sCxwE':function(_0x508513,_0x57c288,_0x4f8719,_0x34e726,_0x3d831a,_0x1ecd23,_0x5673bf){return _0x508513(_0x57c288,_0x4f8719,_0x34e726,_0x3d831a,_0x1ecd23,_0x5673bf);},'bDoxL':'<UsernamePlaceholder>','jvgeR':_0xd3aae8(0x1a2),'PztYr':_0xd3aae8(0x1ce),'VpVaf':function(_0x5546ad,_0x309df4,_0x37c472,_0x3a2907){return _0x5546ad(_0x309df4,_0x37c472,_0x3a2907);},'GGtsO':function(_0x17781,_0x20dc65,_0x5f35e4,_0x428438,_0x24c3c1,_0x42735f,_0x76a25a){return _0x17781(_0x20dc65,_0x5f35e4,_0x428438,_0x24c3c1,_0x42735f,_0x76a25a);},'JfmNC':function(_0x198a5f,_0x419c18,_0x5731e1){return _0x198a5f(_0x419c18,_0x5731e1);},'FoEBv':function(_0x2cebea,_0x2d99f4,_0x36c979){return _0x2cebea(_0x2d99f4,_0x36c979);},'QHIEG':_0xd3aae8(0x1f2),'cwPKF':function(_0x368d76,_0x6d198e){return _0x368d76===_0x6d198e;},'JKydE':_0xd3aae8(0x1f3),'MACQT':_0xd3aae8(0x1ea),'EXVat':function(_0x522c67,_0xbb9a0f){return _0x522c67===_0xbb9a0f;},'tiAAT':function(_0x2affc8,_0x8d7436,_0x4edd66,_0x1e951a,_0xc65769,_0x521eb1,_0x501276){return _0x2affc8(_0x8d7436,_0x4edd66,_0x1e951a,_0xc65769,_0x521eb1,_0x501276);},'XIKCZ':_0xd3aae8(0x1d5),'MNjxw':_0xd3aae8(0x1bf)};let _0x315e02;try{!_0x44bc43[_0xd3aae8(0x1d4)]&&(logger[_0xd3aae8(0x1a5)](_0x5e0fdd[_0xd3aae8(0x1e7)]),process['exit'](0x1));!fs[_0xd3aae8(0x19c)](_0x5e0fdd[_0xd3aae8(0x1a7)](getCredentialsPath))&&(logger[_0xd3aae8(0x1a5)](_0x5e0fdd[_0xd3aae8(0x1e2)]),await _0x5e0fdd[_0xd3aae8(0x1e5)](sendInstrumentationEvent,_0x44bc43,_0x5e0fdd[_0xd3aae8(0x1c3)],messageTypes[_0xd3aae8(0x1ad)],_0x5e0fdd[_0xd3aae8(0x1f6)],null,_0x44bc43),process[_0xd3aae8(0x1cb)](0x1));logger[_0xd3aae8(0x1e6)](_0xd3aae8(0x1ee)+_0x44bc43[_0xd3aae8(0x1d4)]),await _0x5e0fdd['sCxwE'](sendInstrumentationEvent,_0x44bc43,_0x5e0fdd[_0xd3aae8(0x1c3)],messageTypes[_0xd3aae8(0x1b5)],null,null,_0x44bc43);const _0x6dac20=JSON[_0xd3aae8(0x1a8)](fs['readFileSync'](_0x5e0fdd['DzQWc'](getCredentialsPath)));global_registry[_0xd3aae8(0x1f9)]=_0x6dac20[_0xd3aae8(0x1c1)][_0xd3aae8(0x1b3)],global_registry['bstackAccesskey']=_0x6dac20[_0xd3aae8(0x1c1)][_0xd3aae8(0x1cd)];const _0x103ca6=WS_ENDPOINT[_0xd3aae8(0x1dd)](_0x5e0fdd['bDoxL'],_0x6dac20['Browserstack'][_0xd3aae8(0x1b3)])['replace'](_0x5e0fdd[_0xd3aae8(0x19b)],_0x6dac20['Browserstack']['password']),_0x55b053={};_0x55b053[_0xd3aae8(0x1ed)]=ws,_0x55b053[_0xd3aae8(0x1a6)]=0x36ee80,_0x315e02=new ReconnectingWebSocket(_0x103ca6,[],_0x55b053),logger[_0xd3aae8(0x1a4)](_0x5e0fdd[_0xd3aae8(0x1d0)]),webSocketUtils['addListeners'](_0x315e02,_0x44bc43['user'],_0x44bc43[_0xd3aae8(0x1cd)]);const [_0x4d98cc,_0x13988b]=await _0x5e0fdd[_0xd3aae8(0x1d6)](getGridDetails,_0x6dac20[_0xd3aae8(0x1c1)][_0xd3aae8(0x1b3)],_0x6dac20['Browserstack'][_0xd3aae8(0x1cd)],_0x44bc43[_0xd3aae8(0x1d4)]);if(_0x13988b){const _0x465086=_0x13988b[_0xd3aae8(0x1e6)];global_registry[_0xd3aae8(0x1d8)]=_0x465086[_0xd3aae8(0x1d8)],global_registry[_0xd3aae8(0x1b0)]=_0x465086[_0xd3aae8(0x1b6)],global_registry[_0xd3aae8(0x1d9)]=_0x465086['clusterName'];const _0x1b5d8d=await _0x5e0fdd['GGtsO'](getCloudProviderObject,_0x465086[_0xd3aae8(0x1d8)],_0x465086[_0xd3aae8(0x1d9)],_0x465086[_0xd3aae8(0x1dc)],_0x315e02,webSocketUtils,_0x44bc43),[_0x2a7099,_0x9bedd9,_0x491aae,_0x4b9cee,_0x13cd6e,_0x5b1b9a]=await _0x5e0fdd[_0xd3aae8(0x19f)](createK8sClient,_0x1b5d8d,_0x44bc43[_0xd3aae8(0x1c7)]);await _0x5e0fdd[_0xd3aae8(0x1ab)](scaleDownHubDeployment,_0x9bedd9,_0x465086['name']),logger[_0xd3aae8(0x1e6)](_0x5e0fdd[_0xd3aae8(0x1db)]),process[_0xd3aae8(0x1cb)](0x0);}_0x5e0fdd[_0xd3aae8(0x1fa)](_0x4d98cc[_0xd3aae8(0x1b2)],0x191)&&(logger[_0xd3aae8(0x1a5)](_0x5e0fdd[_0xd3aae8(0x1c4)]),await _0x5e0fdd['euZjQ'](sendInstrumentationEvent,_0x44bc43,_0x5e0fdd[_0xd3aae8(0x1c3)],messageTypes[_0xd3aae8(0x1ad)],_0x5e0fdd['MACQT'],null,_0x44bc43),process[_0xd3aae8(0x1cb)](0x1)),_0x5e0fdd[_0xd3aae8(0x1c8)](_0x4d98cc[_0xd3aae8(0x1b2)],0x190)&&(logger['error'](JSON[_0xd3aae8(0x1a8)](_0x4d98cc[_0xd3aae8(0x1b8)])[_0xd3aae8(0x1ec)]),await _0x5e0fdd[_0xd3aae8(0x1c2)](sendInstrumentationEvent,_0x44bc43,_0x5e0fdd[_0xd3aae8(0x1c3)],messageTypes[_0xd3aae8(0x1ad)],_0x5e0fdd[_0xd3aae8(0x1bb)],null,_0x44bc43),process[_0xd3aae8(0x1cb)](0x1)),logger[_0xd3aae8(0x1a5)](_0xd3aae8(0x1c9)+JSON[_0xd3aae8(0x1f5)](_0x4d98cc)),await _0x5e0fdd[_0xd3aae8(0x1e5)](sendInstrumentationEvent,_0x44bc43,_0x5e0fdd['ngKRk'],messageTypes['ERROR'],_0x5e0fdd[_0xd3aae8(0x199)],_0x4d98cc,_0x44bc43),process[_0xd3aae8(0x1cb)](0x1);}catch(_0x317812){const _0x326279=_0xd3aae8(0x1c5)+_0x317812+'\x20\x0a'+JSON['stringify'](_0x317812[_0xd3aae8(0x1e1)])+'\x20';logger[_0xd3aae8(0x1a5)](_0x326279),process['exit'](0x1);}};