function a21_0x53ba(){const _0x217eb9=['argv','rlOsc','luPqj','stack','init-not-called','skipTlsCertVerify','boolean','type','gridId','username','INFO','debug','unauthorised','Adding\x20Websocket\x20listeners','connectionTimeout','statusCode','exit','5zScNuw','readFileSync','Kivua','handler','name','chRQV','../../config/constants','INeGW','existsSync','clusterName','AaGGH','jvHEy','grid-id','../../utils/createk8sClient','password','505964fOXIij','epilogue','Grid\x20stoppped.','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20stop','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','844590QYVjzU','1812816cxPxAo','addListeners','../../utils/utilityMethods','aVRUo','ERROR','wVTiu','KAWnr','5214591iKfVEw','BiApo','mTyZz','VSpdN','pBTVR','Browserstack','fxHmL','stringify','builder','skip-tls-cert-verify','command','reconnecting-websocket','replace','4650947hogsbX','151423CWAFUn','Lqoha','Pass\x20the\x20ID\x20of\x20the\x20running\x20Automation\x20grid\x20you\x20want\x20to\x20stop.','fBuYe','bstackUsername','parse','<PasswordPlaceholder>','../../utils/webSocketUtils','info','help','ygbVT','options','../../config/logger','OSDjh','BGMoU','BYLLU','stop-grid-called','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','description','../../cloudproviders/utils','RADkN','stop','clusterRegion','Skip\x20insecure\x20cert\x20verification.','../../utils/gridComponents','default','grid','bstackAccesskey','Stop\x20a\x20running\x20Automation\x20grid.','3949704CkySbP','../../utils/instrumentationUtils','error','4QuBVJQ','cloudProvider','<UsernamePlaceholder>'];a21_0x53ba=function(){return _0x217eb9;};return a21_0x53ba();}function a21_0x5639(_0x48290e,_0x254d54){const _0x53ba77=a21_0x53ba();return a21_0x5639=function(_0x5639aa,_0x189db8){_0x5639aa=_0x5639aa-0x8c;let _0x143fd9=_0x53ba77[_0x5639aa];return _0x143fd9;},a21_0x5639(_0x48290e,_0x254d54);}const a21_0x53d01e=a21_0x5639;(function(_0x524875,_0x1f920e){const _0x7035e0=a21_0x5639,_0x3b0bf3=_0x524875();while(!![]){try{const _0x2593cb=-parseInt(_0x7035e0(0xac))/0x1*(-parseInt(_0x7035e0(0xcc))/0x2)+-parseInt(_0x7035e0(0x96))/0x3+-parseInt(_0x7035e0(0x91))/0x4+parseInt(_0x7035e0(0xe0))/0x5*(-parseInt(_0x7035e0(0x97))/0x6)+parseInt(_0x7035e0(0xab))/0x7+-parseInt(_0x7035e0(0xc9))/0x8+parseInt(_0x7035e0(0x9e))/0x9;if(_0x2593cb===_0x1f920e)break;else _0x3b0bf3['push'](_0x3b0bf3['shift']());}catch(_0x722832){_0x3b0bf3['push'](_0x3b0bf3['shift']());}}}(a21_0x53ba,0x53b0c));const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require(a21_0x53d01e(0xa9)),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a21_0x53d01e(0xe6)),{logger}=require(a21_0x53d01e(0xb8)),{getCredentialsPath,getGridDetails}=require(a21_0x53d01e(0x99)),{scaleDownHubDeployment}=require(a21_0x53d01e(0xc4)),{sendInstrumentationEvent}=require(a21_0x53d01e(0xca)),webSocketUtils=require(a21_0x53d01e(0xb3)),{createK8sClient}=require(a21_0x53d01e(0x8f)),{getCloudProviderObject}=require(a21_0x53d01e(0xbf));exports[a21_0x53d01e(0xa8)]=a21_0x53d01e(0xc6),exports['desc']=a21_0x53d01e(0xc8),exports[a21_0x53d01e(0xa6)]=function(_0x589283){const _0x57234e=a21_0x53d01e,_0x4e7ebf={};_0x4e7ebf['ygbVT']=_0x57234e(0xae),_0x4e7ebf[_0x57234e(0xd0)]='string',_0x4e7ebf['Kivua']=_0x57234e(0xc3),_0x4e7ebf[_0x57234e(0x9d)]=_0x57234e(0xd5),_0x4e7ebf[_0x57234e(0xc0)]=_0x57234e(0xb5);const _0x5ba9df=_0x4e7ebf,_0x501435={};_0x501435['description']=_0x5ba9df[_0x57234e(0xb6)],_0x501435[_0x57234e(0xd6)]=_0x5ba9df[_0x57234e(0xd0)];const _0x8c8695={};_0x8c8695[_0x57234e(0xbe)]=_0x5ba9df[_0x57234e(0xe2)],_0x8c8695[_0x57234e(0xd6)]=_0x5ba9df[_0x57234e(0x9d)],_0x8c8695[_0x57234e(0xc5)]=![];const _0x15500f={};return _0x15500f[_0x57234e(0x8e)]=_0x501435,_0x15500f[_0x57234e(0xa7)]=_0x8c8695,_0x589283['usage'](HELP_HEADER_MESSAGE[_0x57234e(0xc1)])[_0x57234e(0x92)](HELP_FOOTER_MESSAGE)[_0x57234e(0xb7)](_0x15500f)[_0x57234e(0xb5)](_0x5ba9df[_0x57234e(0xc0)])[_0x57234e(0xcf)];},exports[a21_0x53d01e(0xe3)]=async function(_0x47fa60){const _0x214a92=a21_0x53d01e,_0x1dc4c0={'BGMoU':_0x214a92(0x94),'BYLLU':function(_0x499193){return _0x499193();},'OSDjh':_0x214a92(0xbd),'wVTiu':function(_0x27545a,_0x75d446,_0x20d3c8,_0x59b36d,_0x405504,_0x1963e5,_0x38c455){return _0x27545a(_0x75d446,_0x20d3c8,_0x59b36d,_0x405504,_0x1963e5,_0x38c455);},'chRQV':_0x214a92(0xbc),'VSpdN':_0x214a92(0xd3),'INeGW':function(_0x209fcb){return _0x209fcb();},'Lqoha':_0x214a92(0xce),'AaGGH':_0x214a92(0xb2),'ITBpr':_0x214a92(0xdc),'nGZyY':function(_0x186387,_0x1082c3,_0x34efbf,_0x379f8a){return _0x186387(_0x1082c3,_0x34efbf,_0x379f8a);},'BiApo':function(_0x4dd050,_0x463a4e,_0x3cf049,_0x23eaa8,_0x188069,_0x2237ab,_0x121dbb){return _0x4dd050(_0x463a4e,_0x3cf049,_0x23eaa8,_0x188069,_0x2237ab,_0x121dbb);},'luPqj':function(_0xd24988,_0x2a1e52,_0x29f2c6){return _0xd24988(_0x2a1e52,_0x29f2c6);},'KxhSs':_0x214a92(0x93),'pBTVR':function(_0x457f92,_0x252efd){return _0x457f92===_0x252efd;},'aVRUo':'Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','mTyZz':function(_0x2cfd22,_0x378c87,_0x1fca73,_0x11cfae,_0x26b6c3,_0x396feb,_0xad8086){return _0x2cfd22(_0x378c87,_0x1fca73,_0x11cfae,_0x26b6c3,_0x396feb,_0xad8086);},'crrAy':_0x214a92(0xdb),'jvHEy':function(_0x3af510,_0x2902ec){return _0x3af510===_0x2902ec;},'fxHmL':function(_0xda6aef,_0x5b379b,_0x41e914,_0x20f677,_0x257287,_0x2ac590,_0x234e6c){return _0xda6aef(_0x5b379b,_0x41e914,_0x20f677,_0x257287,_0x2ac590,_0x234e6c);},'sNFfh':'invalid-grid-id','fBuYe':'server-error'};let _0x10ac0b;try{!_0x47fa60[_0x214a92(0xd7)]&&(logger[_0x214a92(0xcb)](_0x1dc4c0[_0x214a92(0xba)]),process[_0x214a92(0xdf)](0x1));!fs[_0x214a92(0xe8)](_0x1dc4c0[_0x214a92(0xbb)](getCredentialsPath))&&(logger['error'](_0x1dc4c0[_0x214a92(0xb9)]),await _0x1dc4c0[_0x214a92(0x9c)](sendInstrumentationEvent,_0x47fa60,_0x1dc4c0[_0x214a92(0xe5)],messageTypes[_0x214a92(0x9b)],_0x1dc4c0[_0x214a92(0xa1)],null,_0x47fa60),process[_0x214a92(0xdf)](0x1));logger[_0x214a92(0xb4)]('Stopping\x20grid\x20'+_0x47fa60[_0x214a92(0xd7)]),await _0x1dc4c0[_0x214a92(0x9c)](sendInstrumentationEvent,_0x47fa60,_0x1dc4c0['chRQV'],messageTypes[_0x214a92(0xd9)],null,null,_0x47fa60);const _0x5c5891=JSON[_0x214a92(0xb1)](fs[_0x214a92(0xe1)](_0x1dc4c0[_0x214a92(0xe7)](getCredentialsPath)));global_registry[_0x214a92(0xb0)]=_0x5c5891[_0x214a92(0xa3)][_0x214a92(0xd8)],global_registry[_0x214a92(0xc7)]=_0x5c5891['Browserstack'][_0x214a92(0x90)];const _0x1e59e0=WS_ENDPOINT[_0x214a92(0xaa)](_0x1dc4c0[_0x214a92(0xad)],_0x5c5891['Browserstack'][_0x214a92(0xd8)])[_0x214a92(0xaa)](_0x1dc4c0[_0x214a92(0x8c)],_0x5c5891[_0x214a92(0xa3)][_0x214a92(0x90)]),_0x393567={};_0x393567['WebSocket']=ws,_0x393567[_0x214a92(0xdd)]=0x36ee80,_0x10ac0b=new ReconnectingWebSocket(_0x1e59e0,[],_0x393567),logger[_0x214a92(0xda)](_0x1dc4c0['ITBpr']),webSocketUtils[_0x214a92(0x98)](_0x10ac0b,_0x47fa60['user'],_0x47fa60['password']);const [_0x4aee5e,_0x269e1b]=await _0x1dc4c0['nGZyY'](getGridDetails,_0x5c5891['Browserstack']['username'],_0x5c5891[_0x214a92(0xa3)][_0x214a92(0x90)],_0x47fa60[_0x214a92(0xd7)]);if(_0x269e1b){const _0x27839d=_0x269e1b['info'];global_registry[_0x214a92(0xcd)]=_0x27839d[_0x214a92(0xcd)],global_registry[_0x214a92(0xc2)]=_0x27839d['region'],global_registry[_0x214a92(0xe9)]=_0x27839d[_0x214a92(0xe9)];const _0x27ae26=await _0x1dc4c0[_0x214a92(0x9f)](getCloudProviderObject,_0x27839d['cloudProvider'],_0x27839d[_0x214a92(0xe9)],_0x27839d['name'],_0x10ac0b,webSocketUtils,_0x47fa60),[_0x53e2dc,_0x9594b5,_0x303b25,_0x3f9e2f,_0xf917fd,_0x1a7dd5]=await _0x1dc4c0['luPqj'](createK8sClient,_0x27ae26,_0x47fa60[_0x214a92(0xd4)]);await _0x1dc4c0[_0x214a92(0xd1)](scaleDownHubDeployment,_0x9594b5,_0x27839d[_0x214a92(0xe4)]),logger[_0x214a92(0xb4)](_0x1dc4c0['KxhSs']),process['exit'](0x0);}_0x1dc4c0[_0x214a92(0xa2)](_0x4aee5e[_0x214a92(0xde)],0x191)&&(logger['error'](_0x1dc4c0[_0x214a92(0x9a)]),await _0x1dc4c0[_0x214a92(0xa0)](sendInstrumentationEvent,_0x47fa60,_0x1dc4c0[_0x214a92(0xe5)],messageTypes[_0x214a92(0x9b)],_0x1dc4c0['crrAy'],null,_0x47fa60),process[_0x214a92(0xdf)](0x1)),_0x1dc4c0[_0x214a92(0x8d)](_0x4aee5e[_0x214a92(0xde)],0x190)&&(logger['error'](JSON['parse'](_0x4aee5e['body'])['message']),await _0x1dc4c0[_0x214a92(0xa4)](sendInstrumentationEvent,_0x47fa60,_0x1dc4c0[_0x214a92(0xe5)],messageTypes[_0x214a92(0x9b)],_0x1dc4c0['sNFfh'],null,_0x47fa60),process[_0x214a92(0xdf)](0x1)),logger[_0x214a92(0xcb)](_0x214a92(0x95)+JSON[_0x214a92(0xa5)](_0x4aee5e)),await _0x1dc4c0[_0x214a92(0xa4)](sendInstrumentationEvent,_0x47fa60,_0x1dc4c0[_0x214a92(0xe5)],messageTypes[_0x214a92(0x9b)],_0x1dc4c0[_0x214a92(0xaf)],_0x4aee5e,_0x47fa60),process['exit'](0x1);}catch(_0xbcbb03){const _0x5a64b6='Unable\x20to\x20stop\x20the\x20Grid!\x20Error:\x20'+_0xbcbb03+'\x20\x0a'+JSON[_0x214a92(0xa5)](_0xbcbb03[_0x214a92(0xd2)])+'\x20';logger[_0x214a92(0xcb)](_0x5a64b6),process[_0x214a92(0xdf)](0x1);}};