function a21_0x40f2(_0x4f48ff,_0x22ee90){const _0x516fc8=a21_0x516f();return a21_0x40f2=function(_0x40f27a,_0x5adc7c){_0x40f27a=_0x40f27a-0xd5;let _0x5e3c5f=_0x516fc8[_0x40f27a];return _0x5e3c5f;},a21_0x40f2(_0x4f48ff,_0x22ee90);}function a21_0x516f(){const _0x267b63=['7309032fRwWms','reconnecting-websocket','gridId','exit','options','stop-grid-called','server-error','eHlpa','existsSync','debug','string','UhDkW','error','331926KEpPPf','5129411fBqXvL','MAXpi','pbsbp','mIzFa','1848760PVjHQS','user','cloudProvider','description','stack','MGGoY','qUPkM','<UsernamePlaceholder>','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','20OohgHu','username','nktfV','Unable\x20to\x20stop\x20the\x20Grid!\x20Error:\x20','UlVDj','gKglI','1229270djoNHn','oOohM','builder','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20stop','message','help','qpghz','body','parse','2472204clXsll','pzszO','vIMTG','usage','Adding\x20Websocket\x20listeners','name','../../utils/gridComponents','jGwMn','Browserstack','fQhnw','epilogue','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','clusterName','AiVln','handler','stop','EEnvp','statusCode','skip-tls-cert-verify','eHsjy','MaOQe','yoXhZ','Pass\x20the\x20ID\x20of\x20the\x20running\x20Automation\x20grid\x20you\x20want\x20to\x20stop.','<PasswordPlaceholder>','INFO','../../utils/createk8sClient','../../utils/webSocketUtils','ERROR','cTSgq','type','desc','49899CpnQAG','command','connectionTimeout','126XheSkW','bstackUsername','tsNgU','../../utils/utilityMethods','6mpJotC','unauthorised','bstackAccesskey','GwcyJ','boolean','replace','info','VqCsb','password'];a21_0x516f=function(){return _0x267b63;};return a21_0x516f();}const a21_0x584b5c=a21_0x40f2;(function(_0x29fdd5,_0x3cceaa){const _0x5ed562=a21_0x40f2,_0x483d3b=_0x29fdd5();while(!![]){try{const _0x3b1180=parseInt(_0x5ed562(0xd9))/0x1+parseInt(_0x5ed562(0xf6))/0x2+-parseInt(_0x5ed562(0x115))/0x3*(parseInt(_0x5ed562(0xe7))/0x4)+parseInt(_0x5ed562(0xed))/0x5+parseInt(_0x5ed562(0x11c))/0x6*(parseInt(_0x5ed562(0xda))/0x7)+parseInt(_0x5ed562(0x125))/0x8+parseInt(_0x5ed562(0x118))/0x9*(-parseInt(_0x5ed562(0xde))/0xa);if(_0x3b1180===_0x3cceaa)break;else _0x483d3b['push'](_0x483d3b['shift']());}catch(_0x4c67d9){_0x483d3b['push'](_0x483d3b['shift']());}}}(a21_0x516f,0xc0977));const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require(a21_0x584b5c(0x126)),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require('../../config/constants'),{logger}=require('../../config/logger'),{getCredentialsPath,getGridDetails}=require(a21_0x584b5c(0x11b)),{scaleDownHubDeployment}=require(a21_0x584b5c(0xfc)),{sendInstrumentationEvent}=require('../../utils/instrumentationUtils'),webSocketUtils=require(a21_0x584b5c(0x110)),{createK8sClient}=require(a21_0x584b5c(0x10f)),{getCloudProviderObject}=require('../../cloudproviders/utils');exports[a21_0x584b5c(0x116)]='grid',exports[a21_0x584b5c(0x114)]='Stop\x20a\x20running\x20Automation\x20grid.',exports[a21_0x584b5c(0xef)]=function(_0x3eb663){const _0x48bb7e=a21_0x584b5c,_0x61351d={};_0x61351d['vIMTG']=_0x48bb7e(0x10c),_0x61351d[_0x48bb7e(0x10a)]=_0x48bb7e(0xd6),_0x61351d[_0x48bb7e(0xf7)]='Skip\x20insecure\x20cert\x20verification.',_0x61351d['AiVln']=_0x48bb7e(0x120),_0x61351d[_0x48bb7e(0x106)]='help';const _0x372382=_0x61351d,_0x1dbade={};_0x1dbade[_0x48bb7e(0xe1)]=_0x372382[_0x48bb7e(0xf8)],_0x1dbade[_0x48bb7e(0x113)]=_0x372382['MaOQe'];const _0x33afc5={};_0x33afc5[_0x48bb7e(0xe1)]=_0x372382[_0x48bb7e(0xf7)],_0x33afc5[_0x48bb7e(0x113)]=_0x372382[_0x48bb7e(0x103)],_0x33afc5['default']=![];const _0x58c7c9={};return _0x58c7c9['grid-id']=_0x1dbade,_0x58c7c9[_0x48bb7e(0x108)]=_0x33afc5,_0x3eb663[_0x48bb7e(0xf9)](HELP_HEADER_MESSAGE[_0x48bb7e(0x105)])[_0x48bb7e(0x100)](HELP_FOOTER_MESSAGE)[_0x48bb7e(0x129)](_0x58c7c9)[_0x48bb7e(0xf2)](_0x372382[_0x48bb7e(0x106)])['argv'];},exports[a21_0x584b5c(0x104)]=async function(_0x18ee5c){const _0x161248=a21_0x584b5c,_0x515aaa={'qpghz':_0x161248(0xf0),'MGGoY':function(_0x295ff9){return _0x295ff9();},'cTSgq':_0x161248(0x101),'qUPkM':function(_0x4b714f,_0x541818,_0x183a35,_0x5b6ef9,_0x599aff,_0x5a9aae,_0x4123d9){return _0x4b714f(_0x541818,_0x183a35,_0x5b6ef9,_0x599aff,_0x5a9aae,_0x4123d9);},'UlVDj':_0x161248(0x12a),'tNMwM':'init-not-called','gKglI':function(_0x4775bf){return _0x4775bf();},'eHsjy':_0x161248(0xe5),'MAXpi':_0x161248(0x10d),'fQhnw':_0x161248(0xfa),'yoXhZ':function(_0x42e0c8,_0x16df06,_0x4285bd,_0x40e6a4){return _0x42e0c8(_0x16df06,_0x4285bd,_0x40e6a4);},'GVqGr':function(_0x160820,_0x2dec9d,_0x16e4e3,_0xbb756e,_0x4febf5,_0x32cae1,_0x5ef31d){return _0x160820(_0x2dec9d,_0x16e4e3,_0xbb756e,_0x4febf5,_0x32cae1,_0x5ef31d);},'eHlpa':function(_0x357a74,_0x20a372,_0x15fcce){return _0x357a74(_0x20a372,_0x15fcce);},'jGwMn':function(_0x49286b,_0x44bddc,_0x30de5a){return _0x49286b(_0x44bddc,_0x30de5a);},'nktfV':'Grid\x20stoppped.','tsNgU':function(_0x511c66,_0x4f6e15){return _0x511c66===_0x4f6e15;},'VqCsb':'Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','UhDkW':function(_0x4c9ccc,_0x44aa68,_0x2f36a5,_0x372ab1,_0x2f56af,_0x432a39,_0x46afd1){return _0x4c9ccc(_0x44aa68,_0x2f36a5,_0x372ab1,_0x2f56af,_0x432a39,_0x46afd1);},'oOohM':_0x161248(0x11d),'pbsbp':function(_0x34b93c,_0x3b6bbb){return _0x34b93c===_0x3b6bbb;},'GwcyJ':'invalid-grid-id','mIzFa':function(_0x748944,_0x19d3a1,_0x32b76d,_0x66c2df,_0x3b4e06,_0x279049,_0x46c986){return _0x748944(_0x19d3a1,_0x32b76d,_0x66c2df,_0x3b4e06,_0x279049,_0x46c986);},'RHtIA':_0x161248(0x12b)};let _0x1ae269;try{!_0x18ee5c[_0x161248(0x127)]&&(logger[_0x161248(0xd8)](_0x515aaa[_0x161248(0xf3)]),process[_0x161248(0x128)](0x1));!fs[_0x161248(0x12d)](_0x515aaa[_0x161248(0xe3)](getCredentialsPath))&&(logger['error'](_0x515aaa[_0x161248(0x112)]),await _0x515aaa[_0x161248(0xe4)](sendInstrumentationEvent,_0x18ee5c,_0x515aaa[_0x161248(0xeb)],messageTypes[_0x161248(0x111)],_0x515aaa['tNMwM'],null,_0x18ee5c),process['exit'](0x1));logger[_0x161248(0x122)]('Stopping\x20grid\x20'+_0x18ee5c[_0x161248(0x127)]),await _0x515aaa[_0x161248(0xe4)](sendInstrumentationEvent,_0x18ee5c,_0x515aaa[_0x161248(0xeb)],messageTypes[_0x161248(0x10e)],null,null,_0x18ee5c);const _0x1ce4ac=JSON[_0x161248(0xf5)](fs['readFileSync'](_0x515aaa[_0x161248(0xec)](getCredentialsPath)));global_registry[_0x161248(0x119)]=_0x1ce4ac[_0x161248(0xfe)][_0x161248(0xe8)],global_registry[_0x161248(0x11e)]=_0x1ce4ac[_0x161248(0xfe)][_0x161248(0x124)];const _0x4a52ab=WS_ENDPOINT[_0x161248(0x121)](_0x515aaa[_0x161248(0x109)],_0x1ce4ac[_0x161248(0xfe)][_0x161248(0xe8)])[_0x161248(0x121)](_0x515aaa[_0x161248(0xdb)],_0x1ce4ac[_0x161248(0xfe)]['password']),_0x2d9fd8={};_0x2d9fd8['WebSocket']=ws,_0x2d9fd8[_0x161248(0x117)]=0x36ee80,_0x1ae269=new ReconnectingWebSocket(_0x4a52ab,[],_0x2d9fd8),logger[_0x161248(0xd5)](_0x515aaa[_0x161248(0xff)]),webSocketUtils['addListeners'](_0x1ae269,_0x18ee5c[_0x161248(0xdf)],_0x18ee5c[_0x161248(0x124)]);const [_0x4c188f,_0x185cfa]=await _0x515aaa[_0x161248(0x10b)](getGridDetails,_0x1ce4ac[_0x161248(0xfe)][_0x161248(0xe8)],_0x1ce4ac[_0x161248(0xfe)][_0x161248(0x124)],_0x18ee5c[_0x161248(0x127)]);if(_0x185cfa){const _0x37b4cc=_0x185cfa['info'];global_registry['cloudProvider']=_0x37b4cc[_0x161248(0xe0)],global_registry['clusterRegion']=_0x37b4cc['region'],global_registry[_0x161248(0x102)]=_0x37b4cc[_0x161248(0x102)];const _0x15eecd=await _0x515aaa['GVqGr'](getCloudProviderObject,_0x37b4cc[_0x161248(0xe0)],_0x37b4cc[_0x161248(0x102)],_0x37b4cc[_0x161248(0xfb)],_0x1ae269,webSocketUtils,_0x18ee5c),[_0x230613,_0x2e2360,_0x1b694e,_0x4d82c0,_0x40dc8e,_0x345a31]=await _0x515aaa[_0x161248(0x12c)](createK8sClient,_0x15eecd,_0x18ee5c['skipTlsCertVerify']);await _0x515aaa[_0x161248(0xfd)](scaleDownHubDeployment,_0x2e2360,_0x37b4cc['name']),logger[_0x161248(0x122)](_0x515aaa[_0x161248(0xe9)]),process['exit'](0x0);}_0x515aaa[_0x161248(0x11a)](_0x4c188f[_0x161248(0x107)],0x191)&&(logger[_0x161248(0xd8)](_0x515aaa[_0x161248(0x123)]),await _0x515aaa[_0x161248(0xd7)](sendInstrumentationEvent,_0x18ee5c,_0x515aaa['UlVDj'],messageTypes[_0x161248(0x111)],_0x515aaa[_0x161248(0xee)],null,_0x18ee5c),process[_0x161248(0x128)](0x1)),_0x515aaa[_0x161248(0xdc)](_0x4c188f[_0x161248(0x107)],0x190)&&(logger[_0x161248(0xd8)](JSON[_0x161248(0xf5)](_0x4c188f[_0x161248(0xf4)])[_0x161248(0xf1)]),await _0x515aaa[_0x161248(0xe4)](sendInstrumentationEvent,_0x18ee5c,_0x515aaa[_0x161248(0xeb)],messageTypes[_0x161248(0x111)],_0x515aaa[_0x161248(0x11f)],null,_0x18ee5c),process[_0x161248(0x128)](0x1)),logger[_0x161248(0xd8)](_0x161248(0xe6)+JSON['stringify'](_0x4c188f)),await _0x515aaa[_0x161248(0xdd)](sendInstrumentationEvent,_0x18ee5c,_0x515aaa[_0x161248(0xeb)],messageTypes['ERROR'],_0x515aaa['RHtIA'],_0x4c188f,_0x18ee5c),process[_0x161248(0x128)](0x1);}catch(_0x492548){const _0x3c83db=_0x161248(0xea)+_0x492548+'\x20\x0a'+JSON['stringify'](_0x492548[_0x161248(0xe2)])+'\x20';logger[_0x161248(0xd8)](_0x3c83db),process[_0x161248(0x128)](0x1);}};