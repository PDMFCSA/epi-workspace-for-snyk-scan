function a21_0x3f99(){const _0x1f8d6c=['gUeEg','CaWMa','8rqyeDd','5068452OwCbFc','fyRDY','ZEidY','help','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','../../config/logger','addListeners','1250204iUhDUC','kVmRt','region','bstackAccesskey','bstackUsername','info','Browserstack','replace','TtYIq','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','options','../../utils/instrumentationUtils','Stop\x20a\x20running\x20Automation\x20grid.','grid','usage','clusterName','25358040PMFcKm','statusCode','1835082wKnxxp','error','IpjvU','<PasswordPlaceholder>','gridId','NhtiI','default','type','invalid-grid-id','password','Unable\x20to\x20stop\x20the\x20Grid!\x20Error:\x20','grid-id','user','name','CfQtw','stop','<UsernamePlaceholder>','AgwMr','message','WebSocket','ERROR','stringify','init-not-called','../../utils/utilityMethods','argv','description','DOVin','IWfGI','Pass\x20the\x20ID\x20of\x20the\x20running\x20Automation\x20grid\x20you\x20want\x20to\x20stop.','../../config/constants','534331uSGmiM','debug','builder','parse','clusterRegion','../../utils/createk8sClient','LvVAl','1718787ugOfLV','exit','Adding\x20Websocket\x20listeners','WwiYq','epilogue','../../utils/webSocketUtils','YWXoJ','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20stop','CHfFz','wyFEy','existsSync','skipTlsCertVerify','reconnecting-websocket','cloudProvider','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','2209055ymfWGT','string','sKreq','../../utils/gridComponents','NpJun','stop-grid-called','handler','readFileSync','jZYlV','inItf','unauthorised','username','Stopping\x20grid\x20','nfPfW','stack','boolean'];a21_0x3f99=function(){return _0x1f8d6c;};return a21_0x3f99();}function a21_0x1c0a(_0x3eedd3,_0xb4f3ee){const _0x3f9907=a21_0x3f99();return a21_0x1c0a=function(_0x1c0a0a,_0x33fd2e){_0x1c0a0a=_0x1c0a0a-0x17d;let _0x4784dd=_0x3f9907[_0x1c0a0a];return _0x4784dd;},a21_0x1c0a(_0x3eedd3,_0xb4f3ee);}const a21_0x2a26ad=a21_0x1c0a;(function(_0x3fccb4,_0x5a3479){const _0x54492f=a21_0x1c0a,_0x3ecb1f=_0x3fccb4();while(!![]){try{const _0x28b5e0=parseInt(_0x54492f(0x1a5))/0x1+parseInt(_0x54492f(0x1d5))/0x2+parseInt(_0x54492f(0x187))/0x3+-parseInt(_0x54492f(0x1cd))/0x4*(-parseInt(_0x54492f(0x1bb))/0x5)+parseInt(_0x54492f(0x1ce))/0x6+parseInt(_0x54492f(0x1ac))/0x7+-parseInt(_0x54492f(0x185))/0x8;if(_0x28b5e0===_0x5a3479)break;else _0x3ecb1f['push'](_0x3ecb1f['shift']());}catch(_0x4f18c6){_0x3ecb1f['push'](_0x3ecb1f['shift']());}}}(a21_0x3f99,0x8c72d));const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require(a21_0x2a26ad(0x1b8)),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a21_0x2a26ad(0x1a4)),{logger}=require(a21_0x2a26ad(0x1d3)),{getCredentialsPath,getGridDetails}=require(a21_0x2a26ad(0x19e)),{scaleDownHubDeployment}=require(a21_0x2a26ad(0x1be)),{sendInstrumentationEvent}=require(a21_0x2a26ad(0x180)),webSocketUtils=require(a21_0x2a26ad(0x1b1)),{createK8sClient}=require(a21_0x2a26ad(0x1aa)),{getCloudProviderObject}=require('../../cloudproviders/utils');exports['command']=a21_0x2a26ad(0x182),exports['desc']=a21_0x2a26ad(0x181),exports[a21_0x2a26ad(0x1a7)]=function(_0x3f6560){const _0x2c60e7=a21_0x2a26ad,_0x191dfc={};_0x191dfc[_0x2c60e7(0x1c8)]=_0x2c60e7(0x1a3),_0x191dfc[_0x2c60e7(0x1a1)]=_0x2c60e7(0x1bc),_0x191dfc[_0x2c60e7(0x1bd)]='Skip\x20insecure\x20cert\x20verification.',_0x191dfc[_0x2c60e7(0x1cb)]=_0x2c60e7(0x1ca),_0x191dfc['WwiYq']=_0x2c60e7(0x1d1);const _0x114c28=_0x191dfc,_0x4b41f3={};_0x4b41f3[_0x2c60e7(0x1a0)]=_0x114c28['nfPfW'],_0x4b41f3[_0x2c60e7(0x18e)]=_0x114c28[_0x2c60e7(0x1a1)];const _0xb2d253={};_0xb2d253[_0x2c60e7(0x1a0)]=_0x114c28[_0x2c60e7(0x1bd)],_0xb2d253['type']=_0x114c28[_0x2c60e7(0x1cb)],_0xb2d253[_0x2c60e7(0x18d)]=![];const _0x211dfa={};return _0x211dfa[_0x2c60e7(0x192)]=_0x4b41f3,_0x211dfa['skip-tls-cert-verify']=_0xb2d253,_0x3f6560[_0x2c60e7(0x183)](HELP_HEADER_MESSAGE[_0x2c60e7(0x196)])[_0x2c60e7(0x1b0)](HELP_FOOTER_MESSAGE)[_0x2c60e7(0x17f)](_0x211dfa)[_0x2c60e7(0x1d1)](_0x114c28[_0x2c60e7(0x1af)])[_0x2c60e7(0x19f)];},exports[a21_0x2a26ad(0x1c1)]=async function(_0x4e4c10){const _0x59aaad=a21_0x2a26ad,_0x586a5={'CHfFz':_0x59aaad(0x1b3),'AgwMr':function(_0x143063){return _0x143063();},'TtYIq':_0x59aaad(0x1ba),'IWfGI':function(_0x4abf06,_0x267743,_0x191d62,_0x13a08e,_0x8e90d3,_0x336cf8,_0x33b7fe){return _0x4abf06(_0x267743,_0x191d62,_0x13a08e,_0x8e90d3,_0x336cf8,_0x33b7fe);},'inItf':_0x59aaad(0x1c0),'fyRDY':_0x59aaad(0x19d),'SGmDD':function(_0x18db97,_0xa617cb,_0x4c50e0,_0xe2bf92,_0x583d8c,_0xed29f0,_0x265ec6){return _0x18db97(_0xa617cb,_0x4c50e0,_0xe2bf92,_0x583d8c,_0xed29f0,_0x265ec6);},'IpjvU':_0x59aaad(0x197),'NhtiI':_0x59aaad(0x18a),'wyFEy':_0x59aaad(0x1ae),'WVYyo':function(_0x23699d,_0x3f4b53,_0x5d4719,_0x37b258){return _0x23699d(_0x3f4b53,_0x5d4719,_0x37b258);},'CaWMa':function(_0x4f64ab,_0x2b2465,_0x3a018b){return _0x4f64ab(_0x2b2465,_0x3a018b);},'kVmRt':'Grid\x20stoppped.','LvVAl':function(_0x252905,_0x6cbefa){return _0x252905===_0x6cbefa;},'YWXoJ':_0x59aaad(0x17e),'CfQtw':_0x59aaad(0x1c5),'NpJun':function(_0x12b46b,_0x1f6d09,_0x3a2a3d,_0x3de154,_0x15ce54,_0x28ef18,_0x29f366){return _0x12b46b(_0x1f6d09,_0x3a2a3d,_0x3de154,_0x15ce54,_0x28ef18,_0x29f366);},'jZYlV':_0x59aaad(0x18f),'ZEidY':'server-error'};let _0x259eb6;try{!_0x4e4c10[_0x59aaad(0x18b)]&&(logger[_0x59aaad(0x188)](_0x586a5[_0x59aaad(0x1b4)]),process[_0x59aaad(0x1ad)](0x1));!fs[_0x59aaad(0x1b6)](_0x586a5['AgwMr'](getCredentialsPath))&&(logger[_0x59aaad(0x188)](_0x586a5[_0x59aaad(0x17d)]),await _0x586a5[_0x59aaad(0x1a2)](sendInstrumentationEvent,_0x4e4c10,_0x586a5[_0x59aaad(0x1c4)],messageTypes[_0x59aaad(0x19b)],_0x586a5[_0x59aaad(0x1cf)],null,_0x4e4c10),process[_0x59aaad(0x1ad)](0x1));logger[_0x59aaad(0x1da)](_0x59aaad(0x1c7)+_0x4e4c10[_0x59aaad(0x18b)]),await _0x586a5['SGmDD'](sendInstrumentationEvent,_0x4e4c10,_0x586a5['inItf'],messageTypes['INFO'],null,null,_0x4e4c10);const _0x4cf23c=JSON[_0x59aaad(0x1a8)](fs[_0x59aaad(0x1c2)](_0x586a5[_0x59aaad(0x198)](getCredentialsPath)));global_registry[_0x59aaad(0x1d9)]=_0x4cf23c[_0x59aaad(0x1db)][_0x59aaad(0x1c6)],global_registry[_0x59aaad(0x1d8)]=_0x4cf23c[_0x59aaad(0x1db)][_0x59aaad(0x190)];const _0x2eb3b0=WS_ENDPOINT[_0x59aaad(0x1dc)](_0x586a5[_0x59aaad(0x189)],_0x4cf23c[_0x59aaad(0x1db)][_0x59aaad(0x1c6)])[_0x59aaad(0x1dc)](_0x586a5[_0x59aaad(0x18c)],_0x4cf23c[_0x59aaad(0x1db)][_0x59aaad(0x190)]),_0x1b6f96={};_0x1b6f96[_0x59aaad(0x19a)]=ws,_0x1b6f96['connectionTimeout']=0x36ee80,_0x259eb6=new ReconnectingWebSocket(_0x2eb3b0,[],_0x1b6f96),logger[_0x59aaad(0x1a6)](_0x586a5[_0x59aaad(0x1b5)]),webSocketUtils[_0x59aaad(0x1d4)](_0x259eb6,_0x4e4c10[_0x59aaad(0x193)],_0x4e4c10[_0x59aaad(0x190)]);const [_0x34cf8b,_0xe081cb]=await _0x586a5['WVYyo'](getGridDetails,_0x4cf23c[_0x59aaad(0x1db)]['username'],_0x4cf23c[_0x59aaad(0x1db)][_0x59aaad(0x190)],_0x4e4c10[_0x59aaad(0x18b)]);if(_0xe081cb){const _0x197109=_0xe081cb[_0x59aaad(0x1da)];global_registry['cloudProvider']=_0x197109[_0x59aaad(0x1b9)],global_registry[_0x59aaad(0x1a9)]=_0x197109[_0x59aaad(0x1d7)],global_registry[_0x59aaad(0x184)]=_0x197109[_0x59aaad(0x184)];const _0x763ad8=await _0x586a5[_0x59aaad(0x1a2)](getCloudProviderObject,_0x197109[_0x59aaad(0x1b9)],_0x197109[_0x59aaad(0x184)],_0x197109['name'],_0x259eb6,webSocketUtils,_0x4e4c10),[_0xa811ce,_0x51fe58,_0x281e26,_0x41fb13,_0x79162b,_0x59d441]=await _0x586a5['CaWMa'](createK8sClient,_0x763ad8,_0x4e4c10[_0x59aaad(0x1b7)]);await _0x586a5[_0x59aaad(0x1cc)](scaleDownHubDeployment,_0x51fe58,_0x197109[_0x59aaad(0x194)]),logger[_0x59aaad(0x1da)](_0x586a5[_0x59aaad(0x1d6)]),process[_0x59aaad(0x1ad)](0x0);}_0x586a5[_0x59aaad(0x1ab)](_0x34cf8b[_0x59aaad(0x186)],0x191)&&(logger['error'](_0x586a5[_0x59aaad(0x1b2)]),await _0x586a5['SGmDD'](sendInstrumentationEvent,_0x4e4c10,_0x586a5[_0x59aaad(0x1c4)],messageTypes[_0x59aaad(0x19b)],_0x586a5[_0x59aaad(0x195)],null,_0x4e4c10),process[_0x59aaad(0x1ad)](0x1)),_0x586a5[_0x59aaad(0x1ab)](_0x34cf8b[_0x59aaad(0x186)],0x190)&&(logger['error'](JSON[_0x59aaad(0x1a8)](_0x34cf8b['body'])[_0x59aaad(0x199)]),await _0x586a5[_0x59aaad(0x1bf)](sendInstrumentationEvent,_0x4e4c10,_0x586a5[_0x59aaad(0x1c4)],messageTypes[_0x59aaad(0x19b)],_0x586a5[_0x59aaad(0x1c3)],null,_0x4e4c10),process[_0x59aaad(0x1ad)](0x1)),logger[_0x59aaad(0x188)](_0x59aaad(0x1d2)+JSON[_0x59aaad(0x19c)](_0x34cf8b)),await _0x586a5['IWfGI'](sendInstrumentationEvent,_0x4e4c10,_0x586a5['inItf'],messageTypes[_0x59aaad(0x19b)],_0x586a5[_0x59aaad(0x1d0)],_0x34cf8b,_0x4e4c10),process[_0x59aaad(0x1ad)](0x1);}catch(_0x5255d4){const _0x3434b7=_0x59aaad(0x191)+_0x5255d4+'\x20\x0a'+JSON[_0x59aaad(0x19c)](_0x5255d4[_0x59aaad(0x1c9)])+'\x20';logger['error'](_0x3434b7),process[_0x59aaad(0x1ad)](0x1);}};