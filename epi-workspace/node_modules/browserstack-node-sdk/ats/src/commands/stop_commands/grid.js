function a21_0x5e2c(){const _0x36f697=['gridId','../../cloudproviders/utils','../../config/logger','clusterRegion','user','string','ktNmX','region','addListeners','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','epilogue','<PasswordPlaceholder>','type','init-not-called','xtMsd','boolean','../../utils/instrumentationUtils','874308kQwtYY','reconnecting-websocket','debug','56994LYzoIC','105788VLwpHG','connectionTimeout','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','IJtOX','body','builder','stop-grid-called','description','epeoS','KqJZi','Adding\x20Websocket\x20listeners','Pass\x20the\x20ID\x20of\x20the\x20running\x20Automation\x20grid\x20you\x20want\x20to\x20stop.','desc','AccCh','Stopping\x20grid\x20','stringify','grid-id','3404432ZwPqap','cloudProvider','INFO','error','WzVrd','parse','<UsernamePlaceholder>','Browserstack','iZrLu','Grid\x20stoppped.','password','dAejz','stack','../../utils/gridComponents','ohgmJ','iYIXp','SpUGO','BhIjP','exit','../../utils/utilityMethods','unauthorised','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20stop','skipTlsCertVerify','username','options','vZQVJ','../../utils/createk8sClient','2393384KmsoZo','253034mEBfii','jWffN','dGfVd','argv','Skip\x20insecure\x20cert\x20verification.','1015290KldyBI','help','kxSpV','../../config/constants','clusterName','statusCode','../../utils/webSocketUtils','YFgNa','ERROR','command','handler','WebSocket','4VQVelJ','GZUsh','skip-tls-cert-verify','WbZJv','grid','usage','name','HJSaf','readFileSync','replace','info'];a21_0x5e2c=function(){return _0x36f697;};return a21_0x5e2c();}function a21_0x4ad5(_0x359750,_0xcc6e1){const _0x5e2caa=a21_0x5e2c();return a21_0x4ad5=function(_0x4ad5ca,_0x4317e3){_0x4ad5ca=_0x4ad5ca-0x132;let _0x4ec38b=_0x5e2caa[_0x4ad5ca];return _0x4ec38b;},a21_0x4ad5(_0x359750,_0xcc6e1);}const a21_0x37ca2d=a21_0x4ad5;(function(_0x2698bc,_0x442e39){const _0x165be5=a21_0x4ad5,_0x388373=_0x2698bc();while(!![]){try{const _0x219990=-parseInt(_0x165be5(0x13b))/0x1+parseInt(_0x165be5(0x168))/0x2+-parseInt(_0x165be5(0x137))/0x3*(-parseInt(_0x165be5(0x179))/0x4)+-parseInt(_0x165be5(0x16d))/0x5+-parseInt(_0x165be5(0x13a))/0x6+-parseInt(_0x165be5(0x167))/0x7+parseInt(_0x165be5(0x14c))/0x8;if(_0x219990===_0x442e39)break;else _0x388373['push'](_0x388373['shift']());}catch(_0x2ba45d){_0x388373['push'](_0x388373['shift']());}}}(a21_0x5e2c,0x2cbd2));const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require(a21_0x37ca2d(0x138)),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a21_0x37ca2d(0x170)),{logger}=require(a21_0x37ca2d(0x186)),{getCredentialsPath,getGridDetails}=require(a21_0x37ca2d(0x15f)),{scaleDownHubDeployment}=require(a21_0x37ca2d(0x159)),{sendInstrumentationEvent}=require(a21_0x37ca2d(0x136)),webSocketUtils=require(a21_0x37ca2d(0x173)),{createK8sClient}=require(a21_0x37ca2d(0x166)),{getCloudProviderObject}=require(a21_0x37ca2d(0x185));exports[a21_0x37ca2d(0x176)]=a21_0x37ca2d(0x17d),exports[a21_0x37ca2d(0x147)]='Stop\x20a\x20running\x20Automation\x20grid.',exports[a21_0x37ca2d(0x140)]=function(_0x19a0d1){const _0x8ac4d6=a21_0x37ca2d,_0x4cf146={};_0x4cf146['epeoS']=_0x8ac4d6(0x146),_0x4cf146[_0x8ac4d6(0x15d)]=_0x8ac4d6(0x189),_0x4cf146[_0x8ac4d6(0x13e)]=_0x8ac4d6(0x16c),_0x4cf146['gBlhR']=_0x8ac4d6(0x135),_0x4cf146[_0x8ac4d6(0x16a)]=_0x8ac4d6(0x16e);const _0x7848a9=_0x4cf146,_0x62e2c7={};_0x62e2c7[_0x8ac4d6(0x142)]=_0x7848a9[_0x8ac4d6(0x143)],_0x62e2c7[_0x8ac4d6(0x132)]=_0x7848a9[_0x8ac4d6(0x15d)];const _0x562b95={};_0x562b95['description']=_0x7848a9[_0x8ac4d6(0x13e)],_0x562b95['type']=_0x7848a9['gBlhR'],_0x562b95['default']=![];const _0x194b78={};return _0x194b78[_0x8ac4d6(0x14b)]=_0x62e2c7,_0x194b78[_0x8ac4d6(0x17b)]=_0x562b95,_0x19a0d1[_0x8ac4d6(0x17e)](HELP_HEADER_MESSAGE['stop'])[_0x8ac4d6(0x18e)](HELP_FOOTER_MESSAGE)[_0x8ac4d6(0x164)](_0x194b78)[_0x8ac4d6(0x16e)](_0x7848a9[_0x8ac4d6(0x16a)])[_0x8ac4d6(0x16b)];},exports[a21_0x37ca2d(0x177)]=async function(_0x2093bf){const _0x3b5d41=a21_0x37ca2d,_0x579467={'vZQVJ':_0x3b5d41(0x161),'WbZJv':function(_0x41d822){return _0x41d822();},'LbGOj':'Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','iZrLu':function(_0x3029e8,_0x2123af,_0x252523,_0x1aa2ce,_0x5c6c8f,_0x27dec4,_0x625277){return _0x3029e8(_0x2123af,_0x252523,_0x1aa2ce,_0x5c6c8f,_0x27dec4,_0x625277);},'WzVrd':_0x3b5d41(0x141),'dAejz':_0x3b5d41(0x133),'jWffN':function(_0x3fbd07,_0x398672,_0x2228e0,_0x592e97,_0x22de7e,_0x4e0f36,_0x53c359){return _0x3fbd07(_0x398672,_0x2228e0,_0x592e97,_0x22de7e,_0x4e0f36,_0x53c359);},'ktNmX':_0x3b5d41(0x152),'kxSpV':_0x3b5d41(0x18f),'xtMsd':_0x3b5d41(0x145),'NRQGV':function(_0x111782,_0xf5726f,_0x5da09b,_0x2634fc){return _0x111782(_0xf5726f,_0x5da09b,_0x2634fc);},'KqJZi':function(_0x455253,_0x1aaf9b,_0x1a741a){return _0x455253(_0x1aaf9b,_0x1a741a);},'HJSaf':_0x3b5d41(0x155),'AccCh':function(_0x3ba55b,_0x58caae){return _0x3ba55b===_0x58caae;},'GZUsh':_0x3b5d41(0x13d),'YFgNa':_0x3b5d41(0x160),'iYIXp':function(_0x547ddc,_0x464ded,_0x105dce,_0x31d889,_0x8c20f1,_0x43c0b7,_0x5c5267){return _0x547ddc(_0x464ded,_0x105dce,_0x31d889,_0x8c20f1,_0x43c0b7,_0x5c5267);},'ohgmJ':'invalid-grid-id','SpUGO':function(_0x16d90b,_0x33c6e7,_0x4cb933,_0x2b5534,_0x76b0af,_0x1e99a3,_0x5e68d8){return _0x16d90b(_0x33c6e7,_0x4cb933,_0x2b5534,_0x76b0af,_0x1e99a3,_0x5e68d8);},'bNTnV':'server-error'};let _0x59d7fd;try{!_0x2093bf[_0x3b5d41(0x184)]&&(logger[_0x3b5d41(0x14f)](_0x579467[_0x3b5d41(0x165)]),process['exit'](0x1));!fs['existsSync'](_0x579467[_0x3b5d41(0x17c)](getCredentialsPath))&&(logger[_0x3b5d41(0x14f)](_0x579467['LbGOj']),await _0x579467[_0x3b5d41(0x154)](sendInstrumentationEvent,_0x2093bf,_0x579467['WzVrd'],messageTypes['ERROR'],_0x579467[_0x3b5d41(0x157)],null,_0x2093bf),process[_0x3b5d41(0x15e)](0x1));logger['info'](_0x3b5d41(0x149)+_0x2093bf[_0x3b5d41(0x184)]),await _0x579467[_0x3b5d41(0x169)](sendInstrumentationEvent,_0x2093bf,_0x579467[_0x3b5d41(0x150)],messageTypes[_0x3b5d41(0x14e)],null,null,_0x2093bf);const _0x4a4c4c=JSON[_0x3b5d41(0x151)](fs[_0x3b5d41(0x181)](_0x579467[_0x3b5d41(0x17c)](getCredentialsPath)));global_registry['bstackUsername']=_0x4a4c4c[_0x3b5d41(0x153)][_0x3b5d41(0x163)],global_registry['bstackAccesskey']=_0x4a4c4c[_0x3b5d41(0x153)]['password'];const _0x43bb28=WS_ENDPOINT[_0x3b5d41(0x182)](_0x579467[_0x3b5d41(0x18a)],_0x4a4c4c['Browserstack'][_0x3b5d41(0x163)])['replace'](_0x579467[_0x3b5d41(0x16f)],_0x4a4c4c[_0x3b5d41(0x153)][_0x3b5d41(0x156)]),_0x4ebc17={};_0x4ebc17[_0x3b5d41(0x178)]=ws,_0x4ebc17[_0x3b5d41(0x13c)]=0x36ee80,_0x59d7fd=new ReconnectingWebSocket(_0x43bb28,[],_0x4ebc17),logger[_0x3b5d41(0x139)](_0x579467[_0x3b5d41(0x134)]),webSocketUtils[_0x3b5d41(0x18c)](_0x59d7fd,_0x2093bf[_0x3b5d41(0x188)],_0x2093bf[_0x3b5d41(0x156)]);const [_0x4822ba,_0x1cfa9c]=await _0x579467['NRQGV'](getGridDetails,_0x4a4c4c[_0x3b5d41(0x153)]['username'],_0x4a4c4c[_0x3b5d41(0x153)][_0x3b5d41(0x156)],_0x2093bf['gridId']);if(_0x1cfa9c){const _0x2e671c=_0x1cfa9c[_0x3b5d41(0x183)];global_registry[_0x3b5d41(0x14d)]=_0x2e671c[_0x3b5d41(0x14d)],global_registry[_0x3b5d41(0x187)]=_0x2e671c[_0x3b5d41(0x18b)],global_registry[_0x3b5d41(0x171)]=_0x2e671c[_0x3b5d41(0x171)];const _0x27aadc=await _0x579467['iZrLu'](getCloudProviderObject,_0x2e671c[_0x3b5d41(0x14d)],_0x2e671c[_0x3b5d41(0x171)],_0x2e671c['name'],_0x59d7fd,webSocketUtils,_0x2093bf),[_0x122155,_0x34340a,_0x419dc0,_0x1f9fbd,_0x5998b8,_0x3d6312]=await _0x579467[_0x3b5d41(0x144)](createK8sClient,_0x27aadc,_0x2093bf[_0x3b5d41(0x162)]);await _0x579467['KqJZi'](scaleDownHubDeployment,_0x34340a,_0x2e671c[_0x3b5d41(0x17f)]),logger['info'](_0x579467[_0x3b5d41(0x180)]),process[_0x3b5d41(0x15e)](0x0);}_0x579467['AccCh'](_0x4822ba[_0x3b5d41(0x172)],0x191)&&(logger[_0x3b5d41(0x14f)](_0x579467[_0x3b5d41(0x17a)]),await _0x579467[_0x3b5d41(0x154)](sendInstrumentationEvent,_0x2093bf,_0x579467['WzVrd'],messageTypes[_0x3b5d41(0x175)],_0x579467[_0x3b5d41(0x174)],null,_0x2093bf),process[_0x3b5d41(0x15e)](0x1)),_0x579467[_0x3b5d41(0x148)](_0x4822ba[_0x3b5d41(0x172)],0x190)&&(logger['error'](JSON[_0x3b5d41(0x151)](_0x4822ba[_0x3b5d41(0x13f)])['message']),await _0x579467[_0x3b5d41(0x15b)](sendInstrumentationEvent,_0x2093bf,_0x579467[_0x3b5d41(0x150)],messageTypes[_0x3b5d41(0x175)],_0x579467[_0x3b5d41(0x15a)],null,_0x2093bf),process['exit'](0x1)),logger[_0x3b5d41(0x14f)](_0x3b5d41(0x18d)+JSON[_0x3b5d41(0x14a)](_0x4822ba)),await _0x579467[_0x3b5d41(0x15c)](sendInstrumentationEvent,_0x2093bf,_0x579467[_0x3b5d41(0x150)],messageTypes[_0x3b5d41(0x175)],_0x579467['bNTnV'],_0x4822ba,_0x2093bf),process['exit'](0x1);}catch(_0x9a2ffe){const _0x2e2f94='Unable\x20to\x20stop\x20the\x20Grid!\x20Error:\x20'+_0x9a2ffe+'\x20\x0a'+JSON[_0x3b5d41(0x14a)](_0x9a2ffe[_0x3b5d41(0x158)])+'\x20';logger[_0x3b5d41(0x14f)](_0x2e2f94),process[_0x3b5d41(0x15e)](0x1);}};