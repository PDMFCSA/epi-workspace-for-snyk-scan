function a21_0x35d6(){const _0x112b9b=['7640196crdsdH','addListeners','grid-id','69462wyzcEp','name','uBoHy','1146526PhKDkz','euQzl','gridId','ljjkz','3879140POTMHX','reconnecting-websocket','Sppev','dkIyp','fYfeC','WebSocket','connectionTimeout','INFO','eDcAJ','12EHlKYM','existsSync','7cXGKfz','bstackUsername','password','error','1403600HaZzNq','skipTlsCertVerify','region','argv','sIhBS','Adding\x20Websocket\x20listeners','<UsernamePlaceholder>','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','../../config/constants','epilogue','description','stringify','bstackAccesskey','../../config/logger','../../cloudproviders/utils','NbbQX','stop-grid-called','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','gFDwh','Stopping\x20grid\x20','statusCode','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','debug','hafKa','clusterRegion','invalid-grid-id','builder','skip-tls-cert-verify','zSXst','stack','help','wKiMe','<PasswordPlaceholder>','clusterName','replace','QAuFx','desc','ERROR','TPsEJ','default','options','evbVQ','../../utils/instrumentationUtils','863920dFxFpT','string','username','info','body','Lksjs','server-error','678567zrEZlT','../../utils/utilityMethods','Unable\x20to\x20stop\x20the\x20Grid!\x20Error:\x20','command','Bckln','GkKAT','handler','Browserstack','type','UhUQI','unauthorised','../../utils/createk8sClient','sQmSR','parse','160qswwbK','24QAjgvM','readFileSync','cloudProvider','Grid\x20stoppped.','exit'];a21_0x35d6=function(){return _0x112b9b;};return a21_0x35d6();}const a21_0x423811=a21_0x5205;(function(_0x35bd2d,_0x5010df){const _0xe23228=a21_0x5205,_0x28b8ca=_0x35bd2d();while(!![]){try{const _0x1c646d=parseInt(_0xe23228(0x213))/0x1+parseInt(_0xe23228(0x1f2))/0x2+parseInt(_0xe23228(0x1f9))/0x3*(parseInt(_0xe23228(0x1c1))/0x4)+-parseInt(_0xe23228(0x217))/0x5+parseInt(_0xe23228(0x20d))/0x6*(parseInt(_0xe23228(0x1c3))/0x7)+-parseInt(_0xe23228(0x208))/0x8*(parseInt(_0xe23228(0x210))/0x9)+parseInt(_0xe23228(0x207))/0xa*(-parseInt(_0xe23228(0x1c7))/0xb);if(_0x1c646d===_0x5010df)break;else _0x28b8ca['push'](_0x28b8ca['shift']());}catch(_0x4811ba){_0x28b8ca['push'](_0x28b8ca['shift']());}}}(a21_0x35d6,0xa86ad));function a21_0x5205(_0x3e7b40,_0x2c0468){const _0x35d6e0=a21_0x35d6();return a21_0x5205=function(_0x520538,_0x19a56a){_0x520538=_0x520538-0x1bf;let _0x20f7a3=_0x35d6e0[_0x520538];return _0x20f7a3;},a21_0x5205(_0x3e7b40,_0x2c0468);}const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require(a21_0x423811(0x218)),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a21_0x423811(0x1cf)),{logger}=require(a21_0x423811(0x1d4)),{getCredentialsPath,getGridDetails}=require(a21_0x423811(0x1fa)),{scaleDownHubDeployment}=require('../../utils/gridComponents'),{sendInstrumentationEvent}=require(a21_0x423811(0x1f1)),webSocketUtils=require('../../utils/webSocketUtils'),{createK8sClient}=require(a21_0x423811(0x204)),{getCloudProviderObject}=require(a21_0x423811(0x1d5));exports[a21_0x423811(0x1fc)]='grid',exports[a21_0x423811(0x1eb)]='Stop\x20a\x20running\x20Automation\x20grid.',exports[a21_0x423811(0x1e1)]=function(_0x49b56c){const _0x4813e3=a21_0x423811,_0x5bb926={};_0x5bb926['Lksjs']='Pass\x20the\x20ID\x20of\x20the\x20running\x20Automation\x20grid\x20you\x20want\x20to\x20stop.',_0x5bb926[_0x4813e3(0x1ed)]=_0x4813e3(0x1f3),_0x5bb926[_0x4813e3(0x1d6)]='Skip\x20insecure\x20cert\x20verification.',_0x5bb926[_0x4813e3(0x202)]='boolean',_0x5bb926[_0x4813e3(0x219)]=_0x4813e3(0x1e5);const _0x32887c=_0x5bb926,_0x45ccfe={};_0x45ccfe[_0x4813e3(0x1d1)]=_0x32887c[_0x4813e3(0x1f7)],_0x45ccfe[_0x4813e3(0x201)]=_0x32887c['TPsEJ'];const _0x3386da={};_0x3386da[_0x4813e3(0x1d1)]=_0x32887c[_0x4813e3(0x1d6)],_0x3386da['type']=_0x32887c[_0x4813e3(0x202)],_0x3386da[_0x4813e3(0x1ee)]=![];const _0x164459={};return _0x164459[_0x4813e3(0x20f)]=_0x45ccfe,_0x164459[_0x4813e3(0x1e2)]=_0x3386da,_0x49b56c['usage'](HELP_HEADER_MESSAGE['stop'])[_0x4813e3(0x1d0)](HELP_FOOTER_MESSAGE)[_0x4813e3(0x1ef)](_0x164459)[_0x4813e3(0x1e5)](_0x32887c[_0x4813e3(0x219)])[_0x4813e3(0x1ca)];},exports[a21_0x423811(0x1ff)]=async function(_0x4a5f21){const _0x1a8f0c=a21_0x423811,_0x291d4d={'euQzl':'Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20stop','gFDwh':function(_0x169206){return _0x169206();},'opcWi':_0x1a8f0c(0x1ce),'ljjkz':function(_0x323e9a,_0x3faa0a,_0xf1ea44,_0x55e57b,_0x485d07,_0x22f8f8,_0x151292){return _0x323e9a(_0x3faa0a,_0xf1ea44,_0x55e57b,_0x485d07,_0x22f8f8,_0x151292);},'evbVQ':_0x1a8f0c(0x1d7),'eDcAJ':'init-not-called','GkKAT':function(_0x13f295,_0x87ab69,_0x74e74a,_0x5c7573,_0x4be84e,_0x503fa7,_0x209186){return _0x13f295(_0x87ab69,_0x74e74a,_0x5c7573,_0x4be84e,_0x503fa7,_0x209186);},'wKiMe':_0x1a8f0c(0x1cd),'Bckln':_0x1a8f0c(0x1e7),'zSXst':_0x1a8f0c(0x1cc),'sIhBS':function(_0x5d54c9,_0x3feb4d,_0x17d951,_0x2cb718){return _0x5d54c9(_0x3feb4d,_0x17d951,_0x2cb718);},'rarEn':function(_0x36948e,_0x3758e2,_0x264d41){return _0x36948e(_0x3758e2,_0x264d41);},'QAuFx':function(_0x1100b4,_0x20562b,_0x37129a){return _0x1100b4(_0x20562b,_0x37129a);},'RIEGA':_0x1a8f0c(0x20b),'dkIyp':function(_0x547e48,_0x12fb31){return _0x547e48===_0x12fb31;},'hafKa':_0x1a8f0c(0x1d8),'fYfeC':_0x1a8f0c(0x203),'nwbXf':function(_0x588468,_0x291ce4,_0x13e5eb,_0xf329e9,_0xa39a6a,_0x3c8271,_0xed4e5e){return _0x588468(_0x291ce4,_0x13e5eb,_0xf329e9,_0xa39a6a,_0x3c8271,_0xed4e5e);},'uBoHy':_0x1a8f0c(0x1e0),'sQmSR':function(_0x3ee500,_0x22fb90,_0x411022,_0x42de7d,_0x198899,_0x30b0fb,_0x174c6f){return _0x3ee500(_0x22fb90,_0x411022,_0x42de7d,_0x198899,_0x30b0fb,_0x174c6f);},'GtMHP':_0x1a8f0c(0x1f8)};let _0x50e5ac;try{!_0x4a5f21['gridId']&&(logger[_0x1a8f0c(0x1c6)](_0x291d4d[_0x1a8f0c(0x214)]),process[_0x1a8f0c(0x20c)](0x1));!fs[_0x1a8f0c(0x1c2)](_0x291d4d[_0x1a8f0c(0x1d9)](getCredentialsPath))&&(logger[_0x1a8f0c(0x1c6)](_0x291d4d['opcWi']),await _0x291d4d[_0x1a8f0c(0x216)](sendInstrumentationEvent,_0x4a5f21,_0x291d4d[_0x1a8f0c(0x1f0)],messageTypes[_0x1a8f0c(0x1ec)],_0x291d4d[_0x1a8f0c(0x1c0)],null,_0x4a5f21),process['exit'](0x1));logger[_0x1a8f0c(0x1f5)](_0x1a8f0c(0x1da)+_0x4a5f21['gridId']),await _0x291d4d[_0x1a8f0c(0x1fe)](sendInstrumentationEvent,_0x4a5f21,_0x291d4d[_0x1a8f0c(0x1f0)],messageTypes[_0x1a8f0c(0x1bf)],null,null,_0x4a5f21);const _0x199cf8=JSON[_0x1a8f0c(0x206)](fs[_0x1a8f0c(0x209)](_0x291d4d[_0x1a8f0c(0x1d9)](getCredentialsPath)));global_registry[_0x1a8f0c(0x1c4)]=_0x199cf8[_0x1a8f0c(0x200)][_0x1a8f0c(0x1f4)],global_registry[_0x1a8f0c(0x1d3)]=_0x199cf8[_0x1a8f0c(0x200)][_0x1a8f0c(0x1c5)];const _0x587363=WS_ENDPOINT[_0x1a8f0c(0x1e9)](_0x291d4d[_0x1a8f0c(0x1e6)],_0x199cf8['Browserstack']['username'])['replace'](_0x291d4d[_0x1a8f0c(0x1fd)],_0x199cf8[_0x1a8f0c(0x200)]['password']),_0x532aa2={};_0x532aa2[_0x1a8f0c(0x21c)]=ws,_0x532aa2[_0x1a8f0c(0x21d)]=0x36ee80,_0x50e5ac=new ReconnectingWebSocket(_0x587363,[],_0x532aa2),logger[_0x1a8f0c(0x1dd)](_0x291d4d[_0x1a8f0c(0x1e3)]),webSocketUtils[_0x1a8f0c(0x20e)](_0x50e5ac,_0x4a5f21['user'],_0x4a5f21['password']);const [_0x11e37e,_0x3e7248]=await _0x291d4d[_0x1a8f0c(0x1cb)](getGridDetails,_0x199cf8[_0x1a8f0c(0x200)]['username'],_0x199cf8[_0x1a8f0c(0x200)][_0x1a8f0c(0x1c5)],_0x4a5f21[_0x1a8f0c(0x215)]);if(_0x3e7248){const _0x325952=_0x3e7248[_0x1a8f0c(0x1f5)];global_registry[_0x1a8f0c(0x20a)]=_0x325952[_0x1a8f0c(0x20a)],global_registry[_0x1a8f0c(0x1df)]=_0x325952[_0x1a8f0c(0x1c9)],global_registry[_0x1a8f0c(0x1e8)]=_0x325952[_0x1a8f0c(0x1e8)];const _0x146f1d=await _0x291d4d['GkKAT'](getCloudProviderObject,_0x325952['cloudProvider'],_0x325952[_0x1a8f0c(0x1e8)],_0x325952['name'],_0x50e5ac,webSocketUtils,_0x4a5f21),[_0xab951,_0x549d15,_0x2e84fb,_0x4666be,_0x46c296,_0x337ef0]=await _0x291d4d['rarEn'](createK8sClient,_0x146f1d,_0x4a5f21[_0x1a8f0c(0x1c8)]);await _0x291d4d[_0x1a8f0c(0x1ea)](scaleDownHubDeployment,_0x549d15,_0x325952[_0x1a8f0c(0x211)]),logger[_0x1a8f0c(0x1f5)](_0x291d4d['RIEGA']),process[_0x1a8f0c(0x20c)](0x0);}_0x291d4d[_0x1a8f0c(0x21a)](_0x11e37e[_0x1a8f0c(0x1db)],0x191)&&(logger[_0x1a8f0c(0x1c6)](_0x291d4d[_0x1a8f0c(0x1de)]),await _0x291d4d[_0x1a8f0c(0x216)](sendInstrumentationEvent,_0x4a5f21,_0x291d4d[_0x1a8f0c(0x1f0)],messageTypes[_0x1a8f0c(0x1ec)],_0x291d4d[_0x1a8f0c(0x21b)],null,_0x4a5f21),process[_0x1a8f0c(0x20c)](0x1)),_0x291d4d[_0x1a8f0c(0x21a)](_0x11e37e[_0x1a8f0c(0x1db)],0x190)&&(logger['error'](JSON['parse'](_0x11e37e[_0x1a8f0c(0x1f6)])['message']),await _0x291d4d['nwbXf'](sendInstrumentationEvent,_0x4a5f21,_0x291d4d[_0x1a8f0c(0x1f0)],messageTypes['ERROR'],_0x291d4d[_0x1a8f0c(0x212)],null,_0x4a5f21),process[_0x1a8f0c(0x20c)](0x1)),logger[_0x1a8f0c(0x1c6)](_0x1a8f0c(0x1dc)+JSON[_0x1a8f0c(0x1d2)](_0x11e37e)),await _0x291d4d[_0x1a8f0c(0x205)](sendInstrumentationEvent,_0x4a5f21,_0x291d4d['evbVQ'],messageTypes[_0x1a8f0c(0x1ec)],_0x291d4d['GtMHP'],_0x11e37e,_0x4a5f21),process[_0x1a8f0c(0x20c)](0x1);}catch(_0x5cdf7f){const _0xd5bdb2=_0x1a8f0c(0x1fb)+_0x5cdf7f+'\x20\x0a'+JSON[_0x1a8f0c(0x1d2)](_0x5cdf7f[_0x1a8f0c(0x1e4)])+'\x20';logger[_0x1a8f0c(0x1c6)](_0xd5bdb2),process[_0x1a8f0c(0x20c)](0x1);}};