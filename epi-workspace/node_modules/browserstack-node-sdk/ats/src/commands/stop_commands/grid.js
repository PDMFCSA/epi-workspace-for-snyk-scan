function a21_0x286b(_0x8711c0,_0x505ce5){const _0x5c17a8=a21_0x5c17();return a21_0x286b=function(_0x286bd7,_0x455cfa){_0x286bd7=_0x286bd7-0x1c9;let _0x5e0f19=_0x5c17a8[_0x286bd7];return _0x5e0f19;},a21_0x286b(_0x8711c0,_0x505ce5);}const a21_0x30671c=a21_0x286b;function a21_0x5c17(){const _0x22fa74=['description','fYtSz','Unable\x20to\x20stop\x20the\x20Grid!\x20Error:\x20','QxhAM','stringify','144891XtDCSd','24801pHRSWo','897cjkWOo','165354ysHMbE','WWGdU','2sFQmKT','clusterName','UOfkF','tHdrx','327521ivRFJF','skip-tls-cert-verify','help','70lNlclm','256asobSv','gridId','GYiQE','gtSOu','Adding\x20Websocket\x20listeners','HOzNv','../../utils/gridComponents','reconnecting-websocket','message','../../config/constants','string','region','Pass\x20the\x20ID\x20of\x20the\x20running\x20Automation\x20grid\x20you\x20want\x20to\x20stop.','../../utils/webSocketUtils','ZobvD','exit','cYCVl','Tzwgt','error','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','yeIzn','../../utils/utilityMethods','WebSocket','28fgugPP','builder','nYGan','readFileSync','epilogue','Stopping\x20grid\x20','stop','eTOJH','cloudProvider','statusCode','30270jyLsbN','existsSync','66guaxdG','BTWYV','yMcsI','options','default','replace','Browserstack','WQjwE','stop-grid-called','username','password','Stop\x20a\x20running\x20Automation\x20grid.','../../utils/instrumentationUtils','init-not-called','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','server-error','info','clusterRegion','1223616VxwjFb','user','parse','GnysR','grid-id','handler','argv','ERROR','command','addListeners','grid','type','Grid\x20stoppped.','../../utils/createk8sClient','unauthorised','Skip\x20insecure\x20cert\x20verification.','boolean','bstackUsername','565790XSrCWk','name','uWOmK','mNXxE','invalid-grid-id','../../config/logger','OszqP','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20stop','<UsernamePlaceholder>','ftwPz','ecfjj','hKoUt','63vYTzSZ','body'];a21_0x5c17=function(){return _0x22fa74;};return a21_0x5c17();}(function(_0x2b250f,_0x369ba3){const _0x329050=a21_0x286b,_0x2ed703=_0x2b250f();while(!![]){try{const _0x511b5e=-parseInt(_0x329050(0x205))/0x1*(parseInt(_0x329050(0x201))/0x2)+parseInt(_0x329050(0x1fc))/0x3*(parseInt(_0x329050(0x220))/0x4)+-parseInt(_0x329050(0x208))/0x5*(parseInt(_0x329050(0x22a))/0x6)+parseInt(_0x329050(0x1fd))/0x7*(-parseInt(_0x329050(0x209))/0x8)+-parseInt(_0x329050(0x1f5))/0x9*(-parseInt(_0x329050(0x1e9))/0xa)+parseInt(_0x329050(0x22c))/0xb*(-parseInt(_0x329050(0x1d7))/0xc)+-parseInt(_0x329050(0x1fe))/0xd*(-parseInt(_0x329050(0x1ff))/0xe);if(_0x511b5e===_0x369ba3)break;else _0x2ed703['push'](_0x2ed703['shift']());}catch(_0x2dfdd3){_0x2ed703['push'](_0x2ed703['shift']());}}}(a21_0x5c17,0x67f1c));const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require(a21_0x30671c(0x210)),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a21_0x30671c(0x212)),{logger}=require(a21_0x30671c(0x1ee)),{getCredentialsPath,getGridDetails}=require(a21_0x30671c(0x21e)),{scaleDownHubDeployment}=require(a21_0x30671c(0x20f)),{sendInstrumentationEvent}=require(a21_0x30671c(0x1d1)),webSocketUtils=require(a21_0x30671c(0x216)),{createK8sClient}=require(a21_0x30671c(0x1e4)),{getCloudProviderObject}=require('../../cloudproviders/utils');exports[a21_0x30671c(0x1df)]=a21_0x30671c(0x1e1),exports['desc']=a21_0x30671c(0x1d0),exports[a21_0x30671c(0x221)]=function(_0x460a27){const _0x4682ed=a21_0x30671c,_0x353dda={};_0x353dda[_0x4682ed(0x1da)]=_0x4682ed(0x215),_0x353dda['OszqP']=_0x4682ed(0x213),_0x353dda[_0x4682ed(0x200)]=_0x4682ed(0x1e6),_0x353dda[_0x4682ed(0x22d)]=_0x4682ed(0x1e7),_0x353dda[_0x4682ed(0x203)]=_0x4682ed(0x207);const _0x206007=_0x353dda,_0xf5e1c1={};_0xf5e1c1[_0x4682ed(0x1f7)]=_0x206007[_0x4682ed(0x1da)],_0xf5e1c1[_0x4682ed(0x1e2)]=_0x206007[_0x4682ed(0x1ef)];const _0x405063={};_0x405063[_0x4682ed(0x1f7)]=_0x206007[_0x4682ed(0x200)],_0x405063[_0x4682ed(0x1e2)]=_0x206007['BTWYV'],_0x405063[_0x4682ed(0x1c9)]=![];const _0x3af70e={};return _0x3af70e[_0x4682ed(0x1db)]=_0xf5e1c1,_0x3af70e[_0x4682ed(0x206)]=_0x405063,_0x460a27['usage'](HELP_HEADER_MESSAGE[_0x4682ed(0x226)])[_0x4682ed(0x224)](HELP_FOOTER_MESSAGE)[_0x4682ed(0x22f)](_0x3af70e)[_0x4682ed(0x207)](_0x206007[_0x4682ed(0x203)])[_0x4682ed(0x1dd)];},exports[a21_0x30671c(0x1dc)]=async function(_0x69d4e9){const _0x5b402b=a21_0x30671c,_0x377ae2={'qtbkJ':_0x5b402b(0x1f0),'ftwPz':function(_0x254b76){return _0x254b76();},'GYiQE':_0x5b402b(0x1d3),'mNXxE':function(_0x47e132,_0x54d8dc,_0x45e62a,_0x42b238,_0x1482e3,_0x357aee,_0x2a4d88){return _0x47e132(_0x54d8dc,_0x45e62a,_0x42b238,_0x1482e3,_0x357aee,_0x2a4d88);},'cYCVl':_0x5b402b(0x1cd),'yeIzn':_0x5b402b(0x1d2),'yMcsI':function(_0x1e019c,_0x27a992,_0x1e244f,_0x526ba6,_0x43e061,_0x6dc893,_0x5d87bc){return _0x1e019c(_0x27a992,_0x1e244f,_0x526ba6,_0x43e061,_0x6dc893,_0x5d87bc);},'tHdrx':function(_0x5c327d){return _0x5c327d();},'eTOJH':_0x5b402b(0x1f1),'WQjwE':'<PasswordPlaceholder>','nYGan':_0x5b402b(0x20d),'lbvaY':function(_0x717030,_0x12dd70,_0x5fd471,_0x348ce1){return _0x717030(_0x12dd70,_0x5fd471,_0x348ce1);},'hKoUt':function(_0x464ef7,_0x2d5733,_0x285301,_0x3613ff,_0x41b6bd,_0x5e5994,_0x41051e){return _0x464ef7(_0x2d5733,_0x285301,_0x3613ff,_0x41b6bd,_0x5e5994,_0x41051e);},'ZobvD':function(_0x1a8c02,_0x4a5b00,_0x1ffd90){return _0x1a8c02(_0x4a5b00,_0x1ffd90);},'ecfjj':function(_0x545cd8,_0xb5ca3e,_0x57e6c8){return _0x545cd8(_0xb5ca3e,_0x57e6c8);},'fYtSz':_0x5b402b(0x1e3),'QxhAM':function(_0x2dfa14,_0x4cfb18){return _0x2dfa14===_0x4cfb18;},'FKaQh':'Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','gtSOu':_0x5b402b(0x1e5),'HOzNv':function(_0x5a01ff,_0x1da4a4){return _0x5a01ff===_0x1da4a4;},'uWOmK':_0x5b402b(0x1ed),'Tzwgt':_0x5b402b(0x1d4)};let _0x2269f0;try{!_0x69d4e9[_0x5b402b(0x20a)]&&(logger[_0x5b402b(0x21b)](_0x377ae2['qtbkJ']),process[_0x5b402b(0x218)](0x1));!fs[_0x5b402b(0x22b)](_0x377ae2[_0x5b402b(0x1f2)](getCredentialsPath))&&(logger[_0x5b402b(0x21b)](_0x377ae2[_0x5b402b(0x20b)]),await _0x377ae2[_0x5b402b(0x1ec)](sendInstrumentationEvent,_0x69d4e9,_0x377ae2[_0x5b402b(0x219)],messageTypes[_0x5b402b(0x1de)],_0x377ae2[_0x5b402b(0x21d)],null,_0x69d4e9),process[_0x5b402b(0x218)](0x1));logger[_0x5b402b(0x1d5)](_0x5b402b(0x225)+_0x69d4e9[_0x5b402b(0x20a)]),await _0x377ae2['yMcsI'](sendInstrumentationEvent,_0x69d4e9,_0x377ae2[_0x5b402b(0x219)],messageTypes['INFO'],null,null,_0x69d4e9);const _0x33fa1c=JSON['parse'](fs[_0x5b402b(0x223)](_0x377ae2[_0x5b402b(0x204)](getCredentialsPath)));global_registry[_0x5b402b(0x1e8)]=_0x33fa1c['Browserstack'][_0x5b402b(0x1ce)],global_registry['bstackAccesskey']=_0x33fa1c['Browserstack'][_0x5b402b(0x1cf)];const _0x1db281=WS_ENDPOINT[_0x5b402b(0x1ca)](_0x377ae2[_0x5b402b(0x227)],_0x33fa1c[_0x5b402b(0x1cb)][_0x5b402b(0x1ce)])[_0x5b402b(0x1ca)](_0x377ae2[_0x5b402b(0x1cc)],_0x33fa1c[_0x5b402b(0x1cb)][_0x5b402b(0x1cf)]),_0x9a7ffc={};_0x9a7ffc[_0x5b402b(0x21f)]=ws,_0x9a7ffc['connectionTimeout']=0x36ee80,_0x2269f0=new ReconnectingWebSocket(_0x1db281,[],_0x9a7ffc),logger['debug'](_0x377ae2[_0x5b402b(0x222)]),webSocketUtils[_0x5b402b(0x1e0)](_0x2269f0,_0x69d4e9[_0x5b402b(0x1d8)],_0x69d4e9[_0x5b402b(0x1cf)]);const [_0x895841,_0x31ce63]=await _0x377ae2['lbvaY'](getGridDetails,_0x33fa1c[_0x5b402b(0x1cb)]['username'],_0x33fa1c[_0x5b402b(0x1cb)][_0x5b402b(0x1cf)],_0x69d4e9['gridId']);if(_0x31ce63){const _0x110e24=_0x31ce63[_0x5b402b(0x1d5)];global_registry[_0x5b402b(0x228)]=_0x110e24[_0x5b402b(0x228)],global_registry[_0x5b402b(0x1d6)]=_0x110e24[_0x5b402b(0x214)],global_registry[_0x5b402b(0x202)]=_0x110e24['clusterName'];const _0x2c445c=await _0x377ae2['hKoUt'](getCloudProviderObject,_0x110e24['cloudProvider'],_0x110e24[_0x5b402b(0x202)],_0x110e24[_0x5b402b(0x1ea)],_0x2269f0,webSocketUtils,_0x69d4e9),[_0x5918f4,_0x55ca58,_0x4c40e0,_0x409ac7,_0x526305,_0x3eeca2]=await _0x377ae2[_0x5b402b(0x217)](createK8sClient,_0x2c445c,_0x69d4e9['skipTlsCertVerify']);await _0x377ae2[_0x5b402b(0x1f3)](scaleDownHubDeployment,_0x55ca58,_0x110e24[_0x5b402b(0x1ea)]),logger[_0x5b402b(0x1d5)](_0x377ae2[_0x5b402b(0x1f8)]),process['exit'](0x0);}_0x377ae2[_0x5b402b(0x1fa)](_0x895841[_0x5b402b(0x229)],0x191)&&(logger[_0x5b402b(0x21b)](_0x377ae2['FKaQh']),await _0x377ae2[_0x5b402b(0x22e)](sendInstrumentationEvent,_0x69d4e9,_0x377ae2['cYCVl'],messageTypes['ERROR'],_0x377ae2[_0x5b402b(0x20c)],null,_0x69d4e9),process[_0x5b402b(0x218)](0x1)),_0x377ae2[_0x5b402b(0x20e)](_0x895841[_0x5b402b(0x229)],0x190)&&(logger[_0x5b402b(0x21b)](JSON[_0x5b402b(0x1d9)](_0x895841[_0x5b402b(0x1f6)])[_0x5b402b(0x211)]),await _0x377ae2[_0x5b402b(0x1f4)](sendInstrumentationEvent,_0x69d4e9,_0x377ae2[_0x5b402b(0x219)],messageTypes['ERROR'],_0x377ae2[_0x5b402b(0x1eb)],null,_0x69d4e9),process[_0x5b402b(0x218)](0x1)),logger[_0x5b402b(0x21b)](_0x5b402b(0x21c)+JSON[_0x5b402b(0x1fb)](_0x895841)),await _0x377ae2[_0x5b402b(0x22e)](sendInstrumentationEvent,_0x69d4e9,_0x377ae2[_0x5b402b(0x219)],messageTypes[_0x5b402b(0x1de)],_0x377ae2[_0x5b402b(0x21a)],_0x895841,_0x69d4e9),process[_0x5b402b(0x218)](0x1);}catch(_0x4e40d9){const _0x52e05e=_0x5b402b(0x1f9)+_0x4e40d9+'\x20\x0a'+JSON[_0x5b402b(0x1fb)](_0x4e40d9['stack'])+'\x20';logger[_0x5b402b(0x21b)](_0x52e05e),process[_0x5b402b(0x218)](0x1);}};