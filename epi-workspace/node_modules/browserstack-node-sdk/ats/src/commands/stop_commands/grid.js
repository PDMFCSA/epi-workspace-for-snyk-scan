const a19_0x462d07=a19_0x1f6e;function a19_0x1f6e(_0xbcc0b8,_0x132377){const _0x3baeb1=a19_0x3bae();return a19_0x1f6e=function(_0x1f6ea1,_0x344814){_0x1f6ea1=_0x1f6ea1-0x1b4;let _0xbfefaf=_0x3baeb1[_0x1f6ea1];return _0xbfefaf;},a19_0x1f6e(_0xbcc0b8,_0x132377);}(function(_0x3f9e8e,_0x390fc7){const _0x353135=a19_0x1f6e,_0x3e5813=_0x3f9e8e();while(!![]){try{const _0x5d1e49=parseInt(_0x353135(0x1c6))/0x1+-parseInt(_0x353135(0x1fe))/0x2*(parseInt(_0x353135(0x1b8))/0x3)+parseInt(_0x353135(0x201))/0x4+parseInt(_0x353135(0x1c2))/0x5+parseInt(_0x353135(0x1da))/0x6*(-parseInt(_0x353135(0x211))/0x7)+-parseInt(_0x353135(0x1e1))/0x8+parseInt(_0x353135(0x1e9))/0x9*(parseInt(_0x353135(0x1db))/0xa);if(_0x5d1e49===_0x390fc7)break;else _0x3e5813['push'](_0x3e5813['shift']());}catch(_0x27b0be){_0x3e5813['push'](_0x3e5813['shift']());}}}(a19_0x3bae,0x8732a));const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require(a19_0x462d07(0x204)),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a19_0x462d07(0x1f9)),{logger}=require('../../config/logger'),{getCredentialsPath,getGridDetails}=require(a19_0x462d07(0x1f5)),{scaleDownHubDeployment}=require(a19_0x462d07(0x1e5)),{sendInstrumentationEvent}=require(a19_0x462d07(0x214)),webSocketUtils=require(a19_0x462d07(0x1ed)),{createK8sClient}=require(a19_0x462d07(0x1d0)),{getCloudProviderObject}=require(a19_0x462d07(0x20b));exports[a19_0x462d07(0x1f0)]=a19_0x462d07(0x1cf),exports[a19_0x462d07(0x1b7)]=a19_0x462d07(0x1e2),exports[a19_0x462d07(0x1f3)]=function(_0x4fca4a){const _0x2c9e30=a19_0x462d07,_0x3c8f69={};_0x3c8f69[_0x2c9e30(0x1c0)]=_0x2c9e30(0x1c8),_0x3c8f69['MfrCQ']='string',_0x3c8f69[_0x2c9e30(0x1c4)]=_0x2c9e30(0x1ca),_0x3c8f69[_0x2c9e30(0x1e0)]=_0x2c9e30(0x1ee),_0x3c8f69['wtUoh']='help';const _0x29000b=_0x3c8f69,_0x19da4b={};_0x19da4b['description']=_0x29000b[_0x2c9e30(0x1c0)],_0x19da4b['type']=_0x29000b[_0x2c9e30(0x1e3)];const _0x136c81={};_0x136c81[_0x2c9e30(0x1dc)]=_0x29000b['WgokU'],_0x136c81['type']=_0x29000b[_0x2c9e30(0x1e0)],_0x136c81[_0x2c9e30(0x1cd)]=![];const _0x530d9b={};return _0x530d9b[_0x2c9e30(0x1b9)]=_0x19da4b,_0x530d9b[_0x2c9e30(0x1bc)]=_0x136c81,_0x4fca4a[_0x2c9e30(0x1ec)](HELP_HEADER_MESSAGE[_0x2c9e30(0x1c9)])[_0x2c9e30(0x1d8)](HELP_FOOTER_MESSAGE)[_0x2c9e30(0x1c5)](_0x530d9b)[_0x2c9e30(0x20c)](_0x29000b['wtUoh'])[_0x2c9e30(0x1dd)];},exports[a19_0x462d07(0x1d5)]=async function(_0x5eb2e3){const _0x3a9742=a19_0x462d07,_0x20322d={'laasV':_0x3a9742(0x1f2),'TAcHb':function(_0x126453){return _0x126453();},'IBufk':'Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','WFDHO':function(_0x35397e,_0x7140c6,_0x4ad6f3,_0x5a84c2,_0x479701,_0x1bd408,_0x2afaa7){return _0x35397e(_0x7140c6,_0x4ad6f3,_0x5a84c2,_0x479701,_0x1bd408,_0x2afaa7);},'MSMBK':_0x3a9742(0x200),'ZACwT':_0x3a9742(0x1c3),'JyGwZ':function(_0x39e159){return _0x39e159();},'hVXMp':_0x3a9742(0x1bd),'YVRwN':_0x3a9742(0x1be),'dSIxh':_0x3a9742(0x202),'rblAa':function(_0xe2323e,_0x38dc83,_0x10c06c,_0x5f43a0){return _0xe2323e(_0x38dc83,_0x10c06c,_0x5f43a0);},'yACpT':function(_0x6ed2a1,_0xc9c17f,_0x134058,_0x565f61,_0x2798b5,_0x36e337,_0x17f4c1){return _0x6ed2a1(_0xc9c17f,_0x134058,_0x565f61,_0x2798b5,_0x36e337,_0x17f4c1);},'yxSEb':function(_0xb83a8,_0x211be2,_0x30ca79){return _0xb83a8(_0x211be2,_0x30ca79);},'YoFFt':function(_0x48aa89,_0x17dbee,_0x2f80be){return _0x48aa89(_0x17dbee,_0x2f80be);},'YvRmL':_0x3a9742(0x1d3),'cReZq':function(_0x2c1686,_0x22328e){return _0x2c1686===_0x22328e;},'CkykI':_0x3a9742(0x1eb),'reNaU':_0x3a9742(0x20a),'KNKDl':_0x3a9742(0x203),'iGoCj':function(_0x35f91c,_0x111207,_0x2dea1c,_0x3f3dad,_0x432bc8,_0x213449,_0x3cb0d4){return _0x35f91c(_0x111207,_0x2dea1c,_0x3f3dad,_0x432bc8,_0x213449,_0x3cb0d4);},'CmxJe':_0x3a9742(0x1cc)};let _0x37079b;try{!_0x5eb2e3[_0x3a9742(0x1bf)]&&(logger['error'](_0x20322d['laasV']),process['exit'](0x1));!fs[_0x3a9742(0x1ff)](_0x20322d[_0x3a9742(0x210)](getCredentialsPath))&&(logger[_0x3a9742(0x1ea)](_0x20322d[_0x3a9742(0x1fc)]),await _0x20322d['WFDHO'](sendInstrumentationEvent,_0x5eb2e3,_0x20322d[_0x3a9742(0x1e7)],messageTypes[_0x3a9742(0x213)],_0x20322d[_0x3a9742(0x1e6)],null,_0x5eb2e3),process['exit'](0x1));logger[_0x3a9742(0x1d7)](_0x3a9742(0x1fa)+_0x5eb2e3[_0x3a9742(0x1bf)]),await _0x20322d[_0x3a9742(0x1c7)](sendInstrumentationEvent,_0x5eb2e3,_0x20322d[_0x3a9742(0x1e7)],messageTypes[_0x3a9742(0x1fb)],null,null,_0x5eb2e3);const _0x4d1bde=JSON[_0x3a9742(0x215)](fs[_0x3a9742(0x1f1)](_0x20322d['JyGwZ'](getCredentialsPath)));global_registry['bstackUsername']=_0x4d1bde[_0x3a9742(0x1de)][_0x3a9742(0x20e)],global_registry[_0x3a9742(0x1ce)]=_0x4d1bde[_0x3a9742(0x1de)][_0x3a9742(0x20d)];const _0x53b244=WS_ENDPOINT[_0x3a9742(0x1c1)](_0x20322d[_0x3a9742(0x1f7)],_0x4d1bde[_0x3a9742(0x1de)][_0x3a9742(0x20e)])[_0x3a9742(0x1c1)](_0x20322d['YVRwN'],_0x4d1bde['Browserstack'][_0x3a9742(0x20d)]),_0x4b1790={};_0x4b1790[_0x3a9742(0x1b5)]=ws,_0x4b1790['connectionTimeout']=0x36ee80,_0x37079b=new ReconnectingWebSocket(_0x53b244,[],_0x4b1790),logger[_0x3a9742(0x1e8)](_0x20322d[_0x3a9742(0x1d4)]),webSocketUtils[_0x3a9742(0x1bb)](_0x37079b,_0x5eb2e3[_0x3a9742(0x1d1)],_0x5eb2e3[_0x3a9742(0x20d)]);const [_0x372e8f,_0x459e72]=await _0x20322d[_0x3a9742(0x207)](getGridDetails,_0x4d1bde[_0x3a9742(0x1de)][_0x3a9742(0x20e)],_0x4d1bde[_0x3a9742(0x1de)]['password'],_0x5eb2e3[_0x3a9742(0x1bf)]);if(_0x459e72){const _0x55f15b=_0x459e72['info'];global_registry['cloudProvider']=_0x55f15b['cloudProvider'],global_registry['clusterRegion']=_0x55f15b[_0x3a9742(0x1d6)],global_registry[_0x3a9742(0x1e4)]=_0x55f15b['clusterName'];const _0x3c23ce=await _0x20322d[_0x3a9742(0x1f8)](getCloudProviderObject,_0x55f15b['cloudProvider'],_0x55f15b[_0x3a9742(0x1e4)],_0x55f15b[_0x3a9742(0x1d2)],_0x37079b,webSocketUtils,_0x5eb2e3),[_0x2ddc22,_0x529895,_0x87741f,_0x3b5ee4,_0x54c80f,_0x1a3011]=await _0x20322d[_0x3a9742(0x208)](createK8sClient,_0x3c23ce,_0x5eb2e3[_0x3a9742(0x1ef)]);await _0x20322d[_0x3a9742(0x1d9)](scaleDownHubDeployment,_0x529895,_0x55f15b[_0x3a9742(0x1d2)]),logger['info'](_0x20322d[_0x3a9742(0x1b6)]),process[_0x3a9742(0x216)](0x0);}_0x20322d[_0x3a9742(0x1df)](_0x372e8f['statusCode'],0x191)&&(logger[_0x3a9742(0x1ea)](_0x20322d[_0x3a9742(0x212)]),await _0x20322d[_0x3a9742(0x1c7)](sendInstrumentationEvent,_0x5eb2e3,_0x20322d[_0x3a9742(0x1e7)],messageTypes['ERROR'],_0x20322d['reNaU'],null,_0x5eb2e3),process[_0x3a9742(0x216)](0x1)),_0x20322d[_0x3a9742(0x1df)](_0x372e8f[_0x3a9742(0x20f)],0x190)&&(logger[_0x3a9742(0x1ea)](JSON[_0x3a9742(0x215)](_0x372e8f[_0x3a9742(0x205)])[_0x3a9742(0x1b4)]),await _0x20322d['yACpT'](sendInstrumentationEvent,_0x5eb2e3,_0x20322d['MSMBK'],messageTypes[_0x3a9742(0x213)],_0x20322d[_0x3a9742(0x1cb)],null,_0x5eb2e3),process['exit'](0x1)),logger[_0x3a9742(0x1ea)](_0x3a9742(0x206)+JSON[_0x3a9742(0x1fd)](_0x372e8f)),await _0x20322d[_0x3a9742(0x1ba)](sendInstrumentationEvent,_0x5eb2e3,_0x20322d['MSMBK'],messageTypes[_0x3a9742(0x213)],_0x20322d[_0x3a9742(0x1f6)],_0x372e8f,_0x5eb2e3),process['exit'](0x1);}catch(_0x2042f0){const _0x370234=_0x3a9742(0x1f4)+_0x2042f0+'\x20\x0a'+JSON[_0x3a9742(0x1fd)](_0x2042f0[_0x3a9742(0x209)])+'\x20';logger[_0x3a9742(0x1ea)](_0x370234),process[_0x3a9742(0x216)](0x1);}};function a19_0x3bae(){const _0x3ed6cb=['gridId','qAWVS','replace','2511515OGeyBn','init-not-called','WgokU','options','520776vPieAA','WFDHO','Pass\x20the\x20ID\x20of\x20the\x20running\x20Automation\x20grid\x20you\x20want\x20to\x20stop.','stop','Skip\x20insecure\x20cert\x20verification.','KNKDl','server-error','default','bstackAccesskey','grid','../../utils/createk8sClient','user','name','Grid\x20stoppped.','dSIxh','handler','region','info','epilogue','YoFFt','1050zaqxqh','44630VPcbky','description','argv','Browserstack','cReZq','EWCmo','3523192yVjDGp','Stop\x20a\x20running\x20Automation\x20grid.','MfrCQ','clusterName','../../utils/gridComponents','ZACwT','MSMBK','debug','549GYSDWB','error','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','usage','../../utils/webSocketUtils','boolean','skipTlsCertVerify','command','readFileSync','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20stop','builder','Unable\x20to\x20stop\x20the\x20Grid!\x20Error:\x20','../../utils/utilityMethods','CmxJe','hVXMp','yACpT','../../config/constants','Stopping\x20grid\x20','INFO','IBufk','stringify','430DOHrhc','existsSync','stop-grid-called','817128NebONI','Adding\x20Websocket\x20listeners','invalid-grid-id','reconnecting-websocket','body','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','rblAa','yxSEb','stack','unauthorised','../../cloudproviders/utils','help','password','username','statusCode','TAcHb','8057ZvedsZ','CkykI','ERROR','../../utils/instrumentationUtils','parse','exit','message','WebSocket','YvRmL','desc','4242fqyzyV','grid-id','iGoCj','addListeners','skip-tls-cert-verify','<UsernamePlaceholder>','<PasswordPlaceholder>'];a19_0x3bae=function(){return _0x3ed6cb;};return a19_0x3bae();}