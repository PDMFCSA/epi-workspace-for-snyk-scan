const a7_0x2cf8a7=a7_0x29a2;function a7_0x10ff(){const _0x166aaf=['Grid\x20type:\x20Trial','NHBOY','IePKA','We\x20have\x20successfully\x20established\x20a\x20connection\x20between\x20trial\x20grid\x20and\x20your\x20setup.\x20You\x20should\x20be\x20able\x20to\x20start\x20testing\x20your\x20internal\x20development\x20or\x20staging\x20websites.','zfDxW','rvPNh','options','Advance\x20options\x20for\x20Browserstack\x20Local','aTUXX','Zbmxq','Optional\x20boolean\x20argument\x20to\x20create\x20private\x20connection\x20between\x20grid\x20and\x20your\x20existing\x20staging\x20or\x20local\x20development\x20environment.','oeoML','11KsBdZr','73664CWPxwe','ukSlE','Couldn\x27t\x20find\x20username\x20/\x20accesskey,\x20please\x20use\x20--username\x20and\x20--accesskey','isRunning','mAkWj','Pass\x20the\x20ID\x20of\x20the\x20Grid','dZJNU','bjPRK','kJvgL','builder','sEKnx','fNvmH','uzCow','shvyn','TXkdo','bstack-accesskey','argv','RUHeP','276732sKKvHX','bstackAccesskey','command','BqOuN','SIGTERM','help','nocvj','beforeExit','ngVLc','qiXsS','JzKTp','RqrLM','EpVMR','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','advance-options','bstack-username','accessKey','ErhHL','bstackUsername','ZMTXS','usage','string','demandOption','FZwCt','nISnr','gridId','XpLOo','LYBFI','use-staging','true','browserStackLocalOptions','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','5988kIHXby','../../config/constants','32QGCzfe','useStaging','ZyOSF','3183010hWQJgj','2616PfglUO','../../utils/utilityMethods','DocuH','655716YwTieg','zjnQg','Please\x20provide\x20a\x20valid\x20Grid\x20Identifier','NocYf','epilogue','create','exit','grid-id','description','zzkOn','type','cVWFe','BWywg','1971nprMOy','Couldn\x27t\x20establish\x20a\x20private\x20connection\x20with\x20the\x20grid','rhJTP','error','hBjGa','xkwNn','kDjhH','ERjTc','customRepeaters','KwGft','dfPcz','987812CTtdMA','SIGINT','AqUht','info','eTBoa','jgKwI','glYOr','zNotn','aEhNI','35OcsXRj'];a7_0x10ff=function(){return _0x166aaf;};return a7_0x10ff();}(function(_0x2b9618,_0x3957b3){const _0x42bc4c=a7_0x29a2,_0xe60b9b=_0x2b9618();while(!![]){try{const _0x4de6d4=parseInt(_0x42bc4c(0x212))/0x1*(parseInt(_0x42bc4c(0x214))/0x2)+parseInt(_0x42bc4c(0x1f2))/0x3+parseInt(_0x42bc4c(0x1e0))/0x4*(parseInt(_0x42bc4c(0x23c))/0x5)+-parseInt(_0x42bc4c(0x21b))/0x6+parseInt(_0x42bc4c(0x233))/0x7+-parseInt(_0x42bc4c(0x218))/0x8*(-parseInt(_0x42bc4c(0x228))/0x9)+-parseInt(_0x42bc4c(0x217))/0xa*(parseInt(_0x42bc4c(0x1df))/0xb);if(_0x4de6d4===_0x3957b3)break;else _0xe60b9b['push'](_0xe60b9b['shift']());}catch(_0x33636d){_0xe60b9b['push'](_0xe60b9b['shift']());}}}(a7_0x10ff,0x18eda));const {HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE}=require(a7_0x2cf8a7(0x213)),{logger}=require('../../config/logger'),{fetchOrUpdateUserConfig,getGridDetails,startLocalBinarySync,stopLocalBinary}=require(a7_0x2cf8a7(0x219));function a7_0x29a2(_0x3a6587,_0x21e7c1){const _0x10ffd8=a7_0x10ff();return a7_0x29a2=function(_0x29a2e0,_0x49afae){_0x29a2e0=_0x29a2e0-0x1d3;let _0x1e64b0=_0x10ffd8[_0x29a2e0];return _0x1e64b0;},a7_0x29a2(_0x3a6587,_0x21e7c1);}exports[a7_0x2cf8a7(0x1f4)]='grid',exports['desc']='This\x20command\x20will\x20connect\x20the\x20grid\x20with\x20existing\x20VPC',exports[a7_0x2cf8a7(0x1e9)]=_0x10b031=>{const _0x2b78aa=a7_0x2cf8a7,_0xe6bc35={};_0xe6bc35[_0x2b78aa(0x22c)]=_0x2b78aa(0x1ff),_0xe6bc35['zNotn']=_0x2b78aa(0x207),_0xe6bc35[_0x2b78aa(0x209)]=_0x2b78aa(0x211),_0xe6bc35[_0x2b78aa(0x1fe)]=_0x2b78aa(0x1e5),_0xe6bc35[_0x2b78aa(0x1e6)]=_0x2b78aa(0x1dd),_0xe6bc35[_0x2b78aa(0x1ec)]=_0x2b78aa(0x1da),_0xe6bc35[_0x2b78aa(0x1fc)]=_0x2b78aa(0x1f7);const _0x384e3a=_0xe6bc35,_0x4db87a={};_0x4db87a[_0x2b78aa(0x223)]=_0x384e3a['hBjGa'],_0x4db87a['type']=_0x384e3a[_0x2b78aa(0x23a)];const _0x5155f2={};_0x5155f2['description']=_0x384e3a[_0x2b78aa(0x209)],_0x5155f2[_0x2b78aa(0x225)]=_0x384e3a[_0x2b78aa(0x23a)];const _0x24451f={};_0x24451f['demandOption']=!![],_0x24451f['description']=_0x384e3a[_0x2b78aa(0x1fe)],_0x24451f['type']=_0x384e3a['zNotn'];const _0x44930f={};_0x44930f[_0x2b78aa(0x223)]=_0x384e3a[_0x2b78aa(0x1e6)],_0x44930f[_0x2b78aa(0x225)]=_0x384e3a[_0x2b78aa(0x23a)];const _0x19de1c={};_0x19de1c[_0x2b78aa(0x223)]=_0x384e3a[_0x2b78aa(0x1ec)],_0x19de1c[_0x2b78aa(0x225)]=_0x384e3a[_0x2b78aa(0x23a)];const _0x23c9ac={};return _0x23c9ac[_0x2b78aa(0x201)]=_0x4db87a,_0x23c9ac[_0x2b78aa(0x1ef)]=_0x5155f2,_0x23c9ac[_0x2b78aa(0x222)]=_0x24451f,_0x23c9ac['use-staging']=_0x44930f,_0x23c9ac[_0x2b78aa(0x200)]=_0x19de1c,_0x10b031[_0x2b78aa(0x206)](HELP_HEADER_MESSAGE[_0x2b78aa(0x220)])[_0x2b78aa(0x21f)](HELP_FOOTER_MESSAGE)[_0x2b78aa(0x1d9)](_0x23c9ac)['help'](_0x384e3a['JzKTp'])[_0x2b78aa(0x1f0)];},exports['handler']=async _0xc0eee1=>{const _0x5c2342=a7_0x2cf8a7,_0x3b0365={'glYOr':function(_0x17fdd6,_0xb8712a){return _0x17fdd6(_0xb8712a);},'ukSlE':_0x5c2342(0x1f9),'rhJTP':_0x5c2342(0x234),'nISnr':_0x5c2342(0x1f6),'cVWFe':_0x5c2342(0x1d6),'sEKnx':function(_0x11077c,_0x1fa079){return _0x11077c===_0x1fa079;},'xkwNn':function(_0x3d37b4,_0x2516dd){return _0x3d37b4(_0x2516dd);},'dfPcz':function(_0x41b9f2,_0x321c32){return _0x41b9f2!==_0x321c32;},'ERjTc':_0x5c2342(0x231),'ZyOSF':_0x5c2342(0x21d),'ngVLc':function(_0x27cbec,_0x1cc13b){return _0x27cbec(_0x1cc13b);},'eTBoa':_0x5c2342(0x229),'fNvmH':_0x5c2342(0x23b),'NHBOY':_0x5c2342(0x1d5),'RUHeP':function(_0x34e3d4,_0x50c9ed){return _0x34e3d4(_0x50c9ed);},'Zbmxq':_0x5c2342(0x1e2),'jgKwI':function(_0x2d5744,_0x34500b){return _0x2d5744===_0x34500b;},'FOgcm':_0x5c2342(0x1ff),'kDjhH':_0x5c2342(0x207),'kJvgL':_0x5c2342(0x211),'aTUXX':'Pass\x20the\x20ID\x20of\x20the\x20Grid','ZMTXS':_0x5c2342(0x1dd),'nocvj':_0x5c2342(0x1da),'zfDxW':_0x5c2342(0x1f7),'DocuH':function(_0x18ac07,_0x38f0bc,_0x41e4f7){return _0x18ac07(_0x38f0bc,_0x41e4f7);},'mAkWj':function(_0x118dee,_0x52fa04){return _0x118dee&&_0x52fa04;},'BqOuN':'eWRbj','lwSaw':function(_0x5eb450,_0x12fb2e){return _0x5eb450(_0x12fb2e);},'jynCO':function(_0x243a6f,_0x3b9258,_0x4186eb,_0x242730){return _0x243a6f(_0x3b9258,_0x4186eb,_0x242730);},'zjnQg':_0x5c2342(0x1fd),'shvyn':function(_0x117b94,_0x356c8b){return _0x117b94===_0x356c8b;},'LYBFI':_0x5c2342(0x20f),'AqUht':_0x5c2342(0x203),'bjPRK':'ylJHz','rvPNh':_0x5c2342(0x1d3),'WIwwj':function(_0x5471f5,_0x1c593d){return _0x5471f5!==_0x1c593d;},'zzkOn':'wOAkC','TXkdo':_0x5c2342(0x1de),'iMWLI':function(_0x5c63bc,_0x1b0c28){return _0x5c63bc!==_0x1b0c28;},'NocYf':_0x5c2342(0x227),'IfivT':'MMtAL'};let _0x19e252=_0xc0eee1[_0x5c2342(0x204)],_0x3b6e80=_0xc0eee1[_0x5c2342(0x1f3)];const _0x8558e3=_0xc0eee1['advanceOptions'],_0x558eae=_0xf94839=>{const _0x44bf2f=_0x5c2342,_0x3c0004={'XpLOo':function(_0x1896db,_0x4b5a70){return _0x3b0365['sEKnx'](_0x1896db,_0x4b5a70);},'qiXsS':function(_0x58a944,_0x2e59f6){return _0x3b0365['xkwNn'](_0x58a944,_0x2e59f6);}};if(_0x3b0365[_0x44bf2f(0x232)](_0x3b0365[_0x44bf2f(0x22f)],_0x3b0365[_0x44bf2f(0x22f)])){const _0x3183c4={};_0x3183c4[_0x44bf2f(0x202)]=_0x143ff6,_0x3183c4[_0x44bf2f(0x230)]=_0xb0505['customRepeaters'],_0x3183c4[_0x44bf2f(0x210)]=_0x27afd9;const _0x276bf1=_0x3183c4,_0x5dcff8=_0x3b0365[_0x44bf2f(0x239)](_0x55d51b,_0x276bf1);let _0x476a8e=0x0;const _0x48eff4=async()=>{const _0x2214ed=_0x44bf2f;_0x476a8e++,_0x3c0004[_0x2214ed(0x20c)](_0x476a8e,0x1)&&_0x5dcff8&&_0x5dcff8['isRunning']()&&_0x3c0004[_0x2214ed(0x1fb)](_0x51896c,_0x5dcff8);};_0x1fcd8b['on'](_0x3b0365[_0x44bf2f(0x1e1)],_0x48eff4),_0x15565e['on'](_0x3b0365[_0x44bf2f(0x22a)],_0x48eff4),_0x4b8c71['on'](_0x3b0365['nISnr'],_0x48eff4),_0x4af08e=_0x3b0365[_0x44bf2f(0x226)],_0xacd22c['info'](_0x369392);}else logger[_0x44bf2f(0x22b)](_0xf94839),process['exit'](0x1);};[_0x19e252,_0x3b6e80]=_0x3b0365[_0x5c2342(0x21a)](fetchOrUpdateUserConfig,_0x19e252,_0x3b6e80);!_0x3b0365[_0x5c2342(0x1e4)](_0x19e252,_0x3b6e80)&&(_0x3b0365['dfPcz'](_0x3b0365['BqOuN'],_0x3b0365[_0x5c2342(0x1f5)])?_0x3b0365[_0x5c2342(0x239)](_0x3f529c,_0x3b0365[_0x5c2342(0x216)]):_0x3b0365['lwSaw'](_0x558eae,_0x3b0365[_0x5c2342(0x1dc)]));const _0x42812b=_0xc0eee1[_0x5c2342(0x20b)],[_0x188b65,_0x5b78d0]=await _0x3b0365['jynCO'](getGridDetails,_0x19e252,_0x3b6e80,_0x42812b);!_0x5b78d0&&(_0x3b0365[_0x5c2342(0x238)](_0x3b0365['zjnQg'],_0x3b0365[_0x5c2342(0x21c)])?_0x3b0365[_0x5c2342(0x239)](_0x558eae,_0x3b0365[_0x5c2342(0x216)]):_0x3b0365[_0x5c2342(0x1fa)](_0x3bc313,_0x3b0365[_0x5c2342(0x237)]));const _0x38d345=_0x3b0365[_0x5c2342(0x1ed)](_0xc0eee1[_0x5c2342(0x215)],_0x3b0365[_0x5c2342(0x20d)])?!![]:![];if(_0x5b78d0&&_0x5b78d0['isTrialGrid']&&_0x38d345){if(_0x3b0365['dfPcz'](_0x3b0365[_0x5c2342(0x235)],_0x3b0365[_0x5c2342(0x1e7)])){let _0x32347c=_0x3b0365[_0x5c2342(0x1d8)];logger['info'](_0x32347c);try{if(_0x3b0365['WIwwj'](_0x3b0365[_0x5c2342(0x224)],_0x3b0365[_0x5c2342(0x1ee)])){const _0x11c410={};_0x11c410[_0x5c2342(0x202)]=_0x3b6e80,_0x11c410['customRepeaters']=_0x5b78d0[_0x5c2342(0x230)],_0x11c410[_0x5c2342(0x210)]=_0x8558e3;const _0x3bc122=_0x11c410,_0x3f3454=_0x3b0365['RUHeP'](startLocalBinarySync,_0x3bc122);let _0x1c3958=0x0;const _0x4f605a=async()=>{const _0x58241d=_0x5c2342;_0x3b0365[_0x58241d(0x232)](_0x3b0365[_0x58241d(0x1eb)],_0x3b0365[_0x58241d(0x1d4)])?(_0x1c3958++,_0x3b0365[_0x58241d(0x1ea)](_0x1c3958,0x1)&&_0x3f3454&&_0x3f3454['isRunning']()&&_0x3b0365[_0x58241d(0x1f1)](stopLocalBinary,_0x3f3454)):(_0x1bdf8b[_0x58241d(0x22b)](_0x9ba7fb),_0x30afb5[_0x58241d(0x221)](0x1));};process['on'](_0x3b0365[_0x5c2342(0x1e1)],_0x4f605a),process['on'](_0x3b0365[_0x5c2342(0x22a)],_0x4f605a),process['on'](_0x3b0365[_0x5c2342(0x20a)],_0x4f605a),_0x32347c=_0x3b0365['cVWFe'],logger[_0x5c2342(0x236)](_0x32347c);}else _0x3b0365[_0x5c2342(0x1f1)](_0xec0f62,_0x3b0365[_0x5c2342(0x1dc)]);}catch(_0x59d006){_0x3b0365['iMWLI'](_0x3b0365[_0x5c2342(0x21e)],_0x3b0365['IfivT'])?_0x3b0365[_0x5c2342(0x22d)](_0x558eae,_0x3b0365[_0x5c2342(0x237)]):(_0x27ffca++,_0x3b0365['jgKwI'](_0x41dee,0x1)&&_0x4b5b6d&&_0x27044f[_0x5c2342(0x1e3)]()&&_0x3b0365['glYOr'](_0x4d493b,_0x4eef52));}}else{const _0x57ed42={};_0x57ed42[_0x5c2342(0x223)]=_0x3b0365['FOgcm'],_0x57ed42[_0x5c2342(0x225)]=_0x3b0365[_0x5c2342(0x22e)];const _0x4abc6c={};_0x4abc6c['description']=_0x3b0365[_0x5c2342(0x1e8)],_0x4abc6c[_0x5c2342(0x225)]=_0x3b0365[_0x5c2342(0x22e)];const _0x48ebe1={};_0x48ebe1[_0x5c2342(0x208)]=!![],_0x48ebe1['description']=_0x3b0365[_0x5c2342(0x1db)],_0x48ebe1['type']=_0x3b0365[_0x5c2342(0x22e)];const _0x5f262e={};_0x5f262e['description']=_0x3b0365[_0x5c2342(0x205)],_0x5f262e[_0x5c2342(0x225)]=_0x3b0365[_0x5c2342(0x22e)];const _0x59cdcf={};_0x59cdcf[_0x5c2342(0x223)]=_0x3b0365[_0x5c2342(0x1f8)],_0x59cdcf[_0x5c2342(0x225)]=_0x3b0365['kDjhH'];const _0x1328a6={};return _0x1328a6[_0x5c2342(0x201)]=_0x57ed42,_0x1328a6['bstack-accesskey']=_0x4abc6c,_0x1328a6[_0x5c2342(0x222)]=_0x48ebe1,_0x1328a6[_0x5c2342(0x20e)]=_0x5f262e,_0x1328a6[_0x5c2342(0x200)]=_0x59cdcf,_0x287a88[_0x5c2342(0x206)](_0x31144f['create'])['epilogue'](_0x217f15)[_0x5c2342(0x1d9)](_0x1328a6)[_0x5c2342(0x1f7)](_0x3b0365[_0x5c2342(0x1d7)])[_0x5c2342(0x1f0)];}}process[_0x5c2342(0x221)](0x0);};