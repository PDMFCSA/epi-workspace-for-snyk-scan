const a12_0x53575f=a12_0x2fab;function a12_0x2fab(_0x318eae,_0x3295f2){const _0x102e9c=a12_0x102e();return a12_0x2fab=function(_0x2fab16,_0x598286){_0x2fab16=_0x2fab16-0x182;let _0x4733e9=_0x102e9c[_0x2fab16];return _0x4733e9;},a12_0x2fab(_0x318eae,_0x3295f2);}(function(_0x1f5bb8,_0x11c346){const _0x4a97cd=a12_0x2fab,_0xbd687=_0x1f5bb8();while(!![]){try{const _0x22ad85=-parseInt(_0x4a97cd(0x1b1))/0x1+parseInt(_0x4a97cd(0x1d4))/0x2*(-parseInt(_0x4a97cd(0x1ad))/0x3)+parseInt(_0x4a97cd(0x1eb))/0x4*(parseInt(_0x4a97cd(0x1df))/0x5)+parseInt(_0x4a97cd(0x18c))/0x6*(-parseInt(_0x4a97cd(0x1a6))/0x7)+-parseInt(_0x4a97cd(0x1b8))/0x8*(parseInt(_0x4a97cd(0x197))/0x9)+parseInt(_0x4a97cd(0x1d9))/0xa+-parseInt(_0x4a97cd(0x18b))/0xb*(-parseInt(_0x4a97cd(0x18a))/0xc);if(_0x22ad85===_0x11c346)break;else _0xbd687['push'](_0xbd687['shift']());}catch(_0x2618f3){_0xbd687['push'](_0xbd687['shift']());}}}(a12_0x102e,0x33fcb));const fs=require('fs'),util=require(a12_0x53575f(0x185)),got=require(a12_0x53575f(0x1c4)),{v4:uuidv4}=require(a12_0x53575f(0x1e1)),{logger}=require('../config/logger'),{inputBstackKeys}=require(a12_0x53575f(0x1b7)),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require('../config/constants'),{getDirForConfig,getCredentialsPath,getAuthHeader}=require('../utils/utilityMethods'),{sendInstrumentationEvent}=require(a12_0x53575f(0x1a8));function a12_0x102e(){const _0x35445c=['aijem','RxQoy','OxppV','stringify','got','GET','xsCer','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','debug','YecBX','JxfaE','bstack-username','command','mQdUZ','readFileSync','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','PyqRv','bstackAccesskey','lLuwY','mblLx','325562OhzGjB','password','requestId','uWfUf','DGkiC','345370NOWsVq','error','nWbzG','argv','init','SgSBM','95oOMGJS','init-called','uuid','qCyLk','exit','vZLYf','QqHDy','description','ERROR','JUKyu','WbBBi','usage','19664BcXkwR','VYqbl','xuSXe','help','util','mBUIK','qElGD','parse','https://','60EFoTas','1874994dFTbqh','221658kilhko','env','mKezv','YiERb','options','writeFileSync','builder','rbhAC','SHVQV','BIbEE','nkgsk','18cRAGWk','stack','wEfWY','epilogue','type','Browserstack','recommendCommands','xlUFC','CulzF','yqJir','WWjMC','mkdirSync','rWUKg','OBiFe','desc','7mvBZeT','xozbc','../utils/instrumentationUtils','dXHds','Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.','ysdyZ','rQcXf','3rWKcJB','hUTOM','cITmf','INFO','193924fObZDf','BROWSERSTACK_ACCESS_KEY','BROWSERSTACK_USERNAME','wrong-creds','username','bstackUsername','../utils/userInput','1494496aQbJWe','qWUFE','Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','strict','bstack-accesskey','handler','jrkjq','statusCode'];a12_0x102e=function(){return _0x35445c;};return a12_0x102e();}exports[a12_0x53575f(0x1cc)]=a12_0x53575f(0x1dd),exports[a12_0x53575f(0x1a5)]=a12_0x53575f(0x1aa),exports[a12_0x53575f(0x192)]=function(_0x2215f5){const _0x678201=a12_0x53575f,_0x3cec5a={};_0x3cec5a[_0x678201(0x1a3)]=_0x678201(0x1cf),_0x3cec5a[_0x678201(0x1c0)]='string',_0x3cec5a[_0x678201(0x199)]=_0x678201(0x1c7),_0x3cec5a['vZLYf']=_0x678201(0x184);const _0x32ab85=_0x3cec5a,_0x173af2={};_0x173af2['description']=_0x32ab85[_0x678201(0x1a3)],_0x173af2['type']=_0x32ab85[_0x678201(0x1c0)];const _0x3a396b={};_0x3a396b[_0x678201(0x1e6)]=_0x32ab85[_0x678201(0x199)],_0x3a396b['type']=_0x32ab85[_0x678201(0x1c0)];const _0x4039e7={};return _0x4039e7[_0x678201(0x1cb)]=_0x173af2,_0x4039e7[_0x678201(0x1bc)]=_0x3a396b,_0x2215f5[_0x678201(0x1ea)](HELP_HEADER_MESSAGE[_0x678201(0x1dd)])[_0x678201(0x19a)](HELP_FOOTER_MESSAGE)[_0x678201(0x190)](_0x4039e7)[_0x678201(0x19d)]()[_0x678201(0x1bb)]()[_0x678201(0x184)](_0x32ab85[_0x678201(0x1e4)])[_0x678201(0x1dc)];},exports[a12_0x53575f(0x1bd)]=async function(_0x28fb9a){const _0x305b6e=a12_0x53575f,_0x5661e7={'VYqbl':'utf-8','nWbzG':function(_0x2fb83a){return _0x2fb83a();},'rbhAC':'Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','hUTOM':'string','OppoQ':_0x305b6e(0x1c7),'PNZoR':_0x305b6e(0x184),'qCyLk':function(_0x22b4a0){return _0x22b4a0();},'eEomQ':function(_0x47a5bc,_0x1e5f39,_0x4bb55f,_0x1911ad,_0x39ace7,_0x2f28c3,_0x5900b7){return _0x47a5bc(_0x1e5f39,_0x4bb55f,_0x1911ad,_0x39ace7,_0x2f28c3,_0x5900b7);},'cITmf':_0x305b6e(0x1e0),'dXHds':function(_0x158f14){return _0x158f14();},'OBiFe':function(_0x442507,_0x5c986a){return _0x442507!==_0x5c986a;},'PyqRv':'bstfE','xuSXe':_0x305b6e(0x18e),'rQcXf':function(_0x55e1b2,_0x159f0c){return _0x55e1b2===_0x159f0c;},'yqJir':'rOFkb','ZlWsz':_0x305b6e(0x1c9),'WWjMC':_0x305b6e(0x1c2),'xlUFC':_0x305b6e(0x1be),'WbBBi':_0x305b6e(0x1e5),'xozbc':_0x305b6e(0x1ab),'DGkiC':function(_0x10418e,_0x4664c5){return _0x10418e===_0x4664c5;},'mQdUZ':'bLARM','aYlwB':'BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','lLuwY':function(_0x2506a6){return _0x2506a6();},'qElGD':_0x305b6e(0x1c5),'JxfaE':function(_0x344f13,_0xc37a81,_0xef4e28){return _0x344f13(_0xc37a81,_0xef4e28);},'RxQoy':function(_0x5efa84,_0xd4d348,_0x373f46){return _0x5efa84(_0xd4d348,_0x373f46);},'qWUFE':function(_0x33def9,_0x2d2881){return _0x33def9!==_0x2d2881;},'GAjxg':function(_0x3becda,_0x104404){return _0x3becda===_0x104404;},'SHVQV':function(_0x3c3cfe,_0x2b54c1){return _0x3c3cfe!==_0x2b54c1;},'BIbEE':_0x305b6e(0x1d3),'YiERb':'pdnoa','khFLP':function(_0x52f91f,_0x10f2a2){return _0x52f91f!==_0x10f2a2;},'xsCer':_0x305b6e(0x1e8),'mBUIK':_0x305b6e(0x1ba),'SgSBM':function(_0x12b7ed,_0x4c12b1,_0x15f9ac,_0x344015,_0x4c1000,_0x77d7ef,_0xabddc8){return _0x12b7ed(_0x4c12b1,_0x15f9ac,_0x344015,_0x4c1000,_0x77d7ef,_0xabddc8);},'uWfUf':_0x305b6e(0x1b4),'CulzF':function(_0x18db0b,_0x26fc28,_0x661c5,_0x495f7e,_0x537717,_0x2975e9,_0x2a46ee){return _0x18db0b(_0x26fc28,_0x661c5,_0x495f7e,_0x537717,_0x2975e9,_0x2a46ee);},'nkgsk':'unknown-error'};try{global_registry[_0x305b6e(0x1d6)]=_0x5661e7[_0x305b6e(0x1e2)](uuidv4),_0x5661e7['eEomQ'](sendInstrumentationEvent,_0x28fb9a,_0x5661e7[_0x305b6e(0x1af)],messageTypes[_0x305b6e(0x1b0)],null,null,_0x28fb9a);const _0x24ac2=_0x5661e7[_0x305b6e(0x1a9)](getDirForConfig);!fs['existsSync'](_0x24ac2)&&(_0x5661e7[_0x305b6e(0x1a4)](_0x5661e7[_0x305b6e(0x1d0)],_0x5661e7[_0x305b6e(0x183)])?fs[_0x305b6e(0x1a2)](_0x24ac2):_0xf78629=_0x13623f[_0x305b6e(0x18d)]['BROWSERSTACK_USERNAME']);let _0x234e9f,_0x3912f0;process[_0x305b6e(0x18d)]['BROWSERSTACK_USERNAME']&&(_0x5661e7[_0x305b6e(0x1ac)](_0x5661e7[_0x305b6e(0x1a0)],_0x5661e7['ZlWsz'])?_0x4b8da8=!![]:_0x234e9f=process[_0x305b6e(0x18d)][_0x305b6e(0x1b3)]);process['env']['BROWSERSTACK_ACCESS_KEY']&&(_0x5661e7['OBiFe'](_0x5661e7[_0x305b6e(0x1a1)],_0x5661e7[_0x305b6e(0x19e)])?_0x3912f0=process[_0x305b6e(0x18d)][_0x305b6e(0x1b2)]:_0x3957e6=_0x400162[_0x305b6e(0x188)](_0xb36158['readFileSync'](_0x5f2ce7,_0x5661e7['VYqbl'])));_0x28fb9a['bstackUsername']&&(_0x5661e7[_0x305b6e(0x1ac)](_0x5661e7[_0x305b6e(0x1e9)],_0x5661e7[_0x305b6e(0x1e9)])?_0x234e9f=_0x28fb9a[_0x305b6e(0x1b6)]:_0x347576=_0x79a8dc[_0x305b6e(0x1b6)]);if(_0x28fb9a[_0x305b6e(0x1d1)]){if(_0x5661e7[_0x305b6e(0x1a4)](_0x5661e7['xozbc'],_0x5661e7[_0x305b6e(0x1a7)])){let _0x32243b={};const _0x30d3a4=_0x5661e7[_0x305b6e(0x1db)](_0x5c5580);_0xfc25ab['existsSync'](_0x30d3a4)&&(_0x32243b=_0x49cd75[_0x305b6e(0x188)](_0x3f0199[_0x305b6e(0x1ce)](_0x30d3a4,_0x5661e7[_0x305b6e(0x182)])));const _0x52476f={};_0x52476f[_0x305b6e(0x1b5)]=_0x45c630,_0x52476f[_0x305b6e(0x1d5)]=_0x3f186d,_0x32243b[_0x305b6e(0x19c)]=_0x52476f,_0x57b47e[_0x305b6e(0x191)](_0x30d3a4,_0x5c5416[_0x305b6e(0x1c3)](_0x32243b)),_0x307dbe[_0x305b6e(0x1e3)](0x0);}else _0x3912f0=_0x28fb9a[_0x305b6e(0x1d1)];}if(_0x5661e7[_0x305b6e(0x1ac)](_0x234e9f,undefined)||_0x5661e7[_0x305b6e(0x1d8)](_0x3912f0,undefined)){if(_0x5661e7['OBiFe'](_0x5661e7[_0x305b6e(0x1cd)],_0x5661e7['mQdUZ']))_0x1cc31e=_0x433f10['bstackAccesskey'];else{logger[_0x305b6e(0x1c8)](_0x5661e7['aYlwB']);const [_0x5112ea,_0x36d4b8]=await _0x5661e7['lLuwY'](inputBstackKeys);_0x234e9f=_0x5112ea,_0x3912f0=_0x36d4b8;}}let _0x18427a=![];const _0x2fc254=_0x305b6e(0x189)+_0x234e9f+':'+_0x3912f0+'@'+BS_API_URL+'/automate/plan.json',_0x1af127={'method':_0x5661e7[_0x305b6e(0x187)],'headers':_0x5661e7[_0x305b6e(0x1ca)](getAuthHeader,_0x234e9f,_0x3912f0),'throwHttpErrors':![]},_0x599751=await _0x5661e7[_0x305b6e(0x1c1)](got,_0x2fc254,_0x1af127);_0x5661e7[_0x305b6e(0x1a4)](_0x599751,null)&&_0x5661e7[_0x305b6e(0x1b9)](_0x599751,undefined)&&_0x5661e7['GAjxg'](_0x599751[_0x305b6e(0x1bf)],0xc8)&&(_0x5661e7[_0x305b6e(0x194)](_0x5661e7[_0x305b6e(0x195)],_0x5661e7[_0x305b6e(0x195)])?_0x502a7b[_0x305b6e(0x1a2)](_0x285cdd):_0x18427a=!![]);if(_0x18427a){if(_0x5661e7['rQcXf'](_0x5661e7[_0x305b6e(0x18f)],_0x5661e7[_0x305b6e(0x18f)])){let _0x5812c7={};const _0x274656=_0x5661e7[_0x305b6e(0x1d2)](getCredentialsPath);if(fs['existsSync'](_0x274656)){if(_0x5661e7['khFLP'](_0x5661e7[_0x305b6e(0x1c6)],_0x5661e7[_0x305b6e(0x1c6)])){const _0x2f439a={};_0x2f439a['description']=_0x5661e7[_0x305b6e(0x193)],_0x2f439a['type']=_0x5661e7[_0x305b6e(0x1ae)];const _0x1bc47b={};_0x1bc47b['description']=_0x5661e7['OppoQ'],_0x1bc47b[_0x305b6e(0x19b)]=_0x5661e7[_0x305b6e(0x1ae)];const _0x36ea54={};return _0x36ea54[_0x305b6e(0x1cb)]=_0x2f439a,_0x36ea54[_0x305b6e(0x1bc)]=_0x1bc47b,_0x4d3467[_0x305b6e(0x1ea)](_0x2e157e['init'])['epilogue'](_0x2b5b17)[_0x305b6e(0x190)](_0x36ea54)[_0x305b6e(0x19d)]()[_0x305b6e(0x1bb)]()[_0x305b6e(0x184)](_0x5661e7['PNZoR'])[_0x305b6e(0x1dc)];}else _0x5812c7=JSON['parse'](fs[_0x305b6e(0x1ce)](_0x274656,_0x5661e7[_0x305b6e(0x182)]));}const _0x2cbf26={};_0x2cbf26[_0x305b6e(0x1b5)]=_0x234e9f,_0x2cbf26[_0x305b6e(0x1d5)]=_0x3912f0,_0x5812c7['Browserstack']=_0x2cbf26,fs['writeFileSync'](_0x274656,JSON[_0x305b6e(0x1c3)](_0x5812c7)),process[_0x305b6e(0x1e3)](0x0);}else _0x3e4ce5=_0x50d81c['env']['BROWSERSTACK_ACCESS_KEY'];}else logger[_0x305b6e(0x1da)](_0x5661e7[_0x305b6e(0x186)]),await _0x5661e7[_0x305b6e(0x1de)](sendInstrumentationEvent,_0x28fb9a,_0x5661e7[_0x305b6e(0x1af)],messageTypes[_0x305b6e(0x1e7)],_0x5661e7[_0x305b6e(0x1d7)],null,_0x28fb9a),process[_0x305b6e(0x1e3)](0x1);}catch(_0x404e7c){logger[_0x305b6e(0x1da)](_0x404e7c[_0x305b6e(0x198)]),await _0x5661e7[_0x305b6e(0x19f)](sendInstrumentationEvent,_0x28fb9a,_0x5661e7[_0x305b6e(0x1af)],messageTypes[_0x305b6e(0x1e7)],_0x5661e7[_0x305b6e(0x196)],_0x404e7c,_0x28fb9a),process[_0x305b6e(0x1e3)](0x1);}};