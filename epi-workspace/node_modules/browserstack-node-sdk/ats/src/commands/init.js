const a12_0x567512=a12_0x59ee;function a12_0x25e8(){const _0x34e3b8=['792294jnHQeY','frHPT','strict','mkdirSync','zwJGF','help','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','ybXUN','yqIGa','init','stack','unknown-error','621760MscPZK','readFileSync','BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','handler','env','mvTDV','WjQgi','desc','vZFmD','bstack-accesskey','wskwV','Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','description','recommendCommands','dNbzw','BROWSERSTACK_USERNAME','wqawg','6191345qIGQSt','existsSync','../utils/instrumentationUtils','statusCode','plDgE','wrong-creds','yzCsF','dvIME','aGovf','INFO','RqFaE','password','2500002DVEfhi','Xspgq','debug','8ZKiBBj','KVKvw','AXXJj','BROWSERSTACK_ACCESS_KEY','parse','eVBiu','Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.','FHKBS','ERROR','TpCLO','czVnW','19223853vFcKnm','epilogue','wFfcw','VojbP','MkJrs','HnqIS','bstackUsername','https://','string','QKlOM','mNJaY','94524zuYEfy','bstackAccesskey','stringify','15HMoiAZ','tARQy','6890RXqtCx','7UhIZOY','HjpBe','exit','CFlic','VlKcK','../config/logger','wsISj','error','OSRPq','DeXQW','username','command','utf-8','../utils/userInput','aQLog','KEvse','../config/constants','fNfDT','fLVwU','type','10FUvHxe','DdaSp','options','RFcSn','Browserstack','2jKvAPv','OPheo','RaAhF','11256906YEiDpv','HzTkP','aQoHT','writeFileSync','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','uuid','GET','got'];a12_0x25e8=function(){return _0x34e3b8;};return a12_0x25e8();}(function(_0x4eb9c7,_0x2449fc){const _0x34fb27=a12_0x59ee,_0xbc063e=_0x4eb9c7();while(!![]){try{const _0x2d97e2=parseInt(_0x34fb27(0x1e1))/0x1*(parseInt(_0x34fb27(0x1ec))/0x2)+parseInt(_0x34fb27(0x231))/0x3*(-parseInt(_0x34fb27(0x1f8))/0x4)+parseInt(_0x34fb27(0x209))/0x5+-parseInt(_0x34fb27(0x1e4))/0x6*(-parseInt(_0x34fb27(0x234))/0x7)+-parseInt(_0x34fb27(0x218))/0x8*(-parseInt(_0x34fb27(0x215))/0x9)+parseInt(_0x34fb27(0x1dc))/0xa*(parseInt(_0x34fb27(0x223))/0xb)+parseInt(_0x34fb27(0x22e))/0xc*(-parseInt(_0x34fb27(0x233))/0xd);if(_0x2d97e2===_0x2449fc)break;else _0xbc063e['push'](_0xbc063e['shift']());}catch(_0x174099){_0xbc063e['push'](_0xbc063e['shift']());}}}(a12_0x25e8,0xef489));const fs=require('fs'),util=require('util'),got=require(a12_0x567512(0x1eb)),{v4:uuidv4}=require(a12_0x567512(0x1e9)),{logger}=require(a12_0x567512(0x239)),{inputBstackKeys}=require(a12_0x567512(0x241)),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a12_0x567512(0x1d8)),{getDirForConfig,getCredentialsPath,getAuthHeader}=require('../utils/utilityMethods'),{sendInstrumentationEvent}=require(a12_0x567512(0x20b));function a12_0x59ee(_0x31dbc8,_0x51e1d7){const _0x25e810=a12_0x25e8();return a12_0x59ee=function(_0x59ee44,_0x2cc939){_0x59ee44=_0x59ee44-0x1d7;let _0x260cb1=_0x25e810[_0x59ee44];return _0x260cb1;},a12_0x59ee(_0x31dbc8,_0x51e1d7);}exports[a12_0x567512(0x23f)]='init',exports[a12_0x567512(0x1ff)]=a12_0x567512(0x21e),exports['builder']=function(_0x4b5aa3){const _0x4993d3=a12_0x567512,_0x53e575={};_0x53e575[_0x4993d3(0x1ed)]='Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.',_0x53e575[_0x4993d3(0x20f)]='string',_0x53e575[_0x4993d3(0x202)]=_0x4993d3(0x1e8),_0x53e575[_0x4993d3(0x23c)]=_0x4993d3(0x1f1);const _0xd5624e=_0x53e575,_0xee76aa={};_0xee76aa['description']=_0xd5624e[_0x4993d3(0x1ed)],_0xee76aa[_0x4993d3(0x1db)]=_0xd5624e[_0x4993d3(0x20f)];const _0x28b412={};_0x28b412[_0x4993d3(0x204)]=_0xd5624e['wskwV'],_0x28b412[_0x4993d3(0x1db)]=_0xd5624e['yzCsF'];const _0x4c04ed={};return _0x4c04ed['bstack-username']=_0xee76aa,_0x4c04ed[_0x4993d3(0x201)]=_0x28b412,_0x4b5aa3['usage'](HELP_HEADER_MESSAGE[_0x4993d3(0x1f5)])[_0x4993d3(0x224)](HELP_FOOTER_MESSAGE)['options'](_0x4c04ed)[_0x4993d3(0x205)]()[_0x4993d3(0x1ee)]()[_0x4993d3(0x1f1)](_0xd5624e[_0x4993d3(0x23c)])['argv'];},exports[a12_0x567512(0x1fb)]=async function(_0x5e3d75){const _0x8957c0=a12_0x567512,_0x18159d={'tARQy':_0x8957c0(0x240),'eVBiu':function(_0xd786a1){return _0xd786a1();},'fNfDT':_0x8957c0(0x1f2),'WjQgi':_0x8957c0(0x22b),'wsISj':_0x8957c0(0x1e8),'yqIGa':_0x8957c0(0x1f1),'VojbP':function(_0x45dc5b){return _0x45dc5b();},'KEvse':function(_0x339209,_0x24929f,_0x106768,_0x4b4e50,_0x27cea2,_0x19f950,_0x4c6431){return _0x339209(_0x24929f,_0x106768,_0x4b4e50,_0x27cea2,_0x19f950,_0x4c6431);},'dNbzw':'init-called','VlKcK':function(_0x1646f8,_0x391d0d){return _0x1646f8!==_0x391d0d;},'aQoHT':'zTWbK','ybXUN':_0x8957c0(0x213),'czVnW':_0x8957c0(0x1fd),'OYBVb':'xaFjV','UJrir':function(_0x4f8147,_0x1afa4d){return _0x4f8147===_0x1afa4d;},'iejTf':_0x8957c0(0x200),'KXsyW':function(_0x4f8a8c,_0x48cae7){return _0x4f8a8c!==_0x48cae7;},'HnqIS':_0x8957c0(0x1e5),'RFcSn':'OfvKz','FHKBS':function(_0x6a0731,_0x5923c4){return _0x6a0731!==_0x5923c4;},'RaAhF':_0x8957c0(0x216),'QKlOM':function(_0x1d1ae5,_0x20c1b4){return _0x1d1ae5===_0x20c1b4;},'OPheo':function(_0x19caee,_0x126781){return _0x19caee===_0x126781;},'plDgE':'GWBsx','mNJaY':_0x8957c0(0x1fa),'aGovf':_0x8957c0(0x1ea),'dvIME':function(_0x10468b,_0x3110e6,_0x5c7aeb){return _0x10468b(_0x3110e6,_0x5c7aeb);},'oqeJF':function(_0x61514f,_0x5b1b1c,_0x30ada6){return _0x61514f(_0x5b1b1c,_0x30ada6);},'InCfd':function(_0x3cafbb,_0x83fe2){return _0x3cafbb!==_0x83fe2;},'fLVwU':function(_0x3fcda4,_0x4d5210){return _0x3fcda4===_0x4d5210;},'LfUlh':_0x8957c0(0x219),'wFfcw':'zlANi','wqawg':function(_0x17847a,_0x97a19b){return _0x17847a!==_0x97a19b;},'zwJGF':_0x8957c0(0x21a),'HjpBe':function(_0xf08336,_0xbef0a0){return _0xf08336===_0xbef0a0;},'DdaSp':'GMavl','MkJrs':_0x8957c0(0x237),'DWHBX':_0x8957c0(0x203),'TpCLO':_0x8957c0(0x20e),'aQLog':function(_0xb85d4,_0x4a7e8c,_0x25e6d6,_0x58d3c8,_0xdff0ca,_0xd939a,_0x283924){return _0xb85d4(_0x4a7e8c,_0x25e6d6,_0x58d3c8,_0xdff0ca,_0xd939a,_0x283924);},'DeXQW':_0x8957c0(0x1f7)};try{global_registry['requestId']=_0x18159d[_0x8957c0(0x226)](uuidv4),_0x18159d['KEvse'](sendInstrumentationEvent,_0x5e3d75,_0x18159d[_0x8957c0(0x206)],messageTypes[_0x8957c0(0x212)],null,null,_0x5e3d75);const _0x5717b4=_0x18159d[_0x8957c0(0x226)](getDirForConfig);!fs[_0x8957c0(0x20a)](_0x5717b4)&&(_0x18159d[_0x8957c0(0x238)](_0x18159d[_0x8957c0(0x1e6)],_0x18159d[_0x8957c0(0x1f3)])?fs[_0x8957c0(0x1ef)](_0x5717b4):_0x415bda=_0x18a4f5[_0x8957c0(0x21c)](_0x60b756[_0x8957c0(0x1f9)](_0x2bd26e,_0x18159d[_0x8957c0(0x232)])));let _0x4bfe56,_0x4f5323;process[_0x8957c0(0x1fc)][_0x8957c0(0x207)]&&(_0x18159d[_0x8957c0(0x238)](_0x18159d[_0x8957c0(0x222)],_0x18159d['OYBVb'])?_0x4bfe56=process['env']['BROWSERSTACK_USERNAME']:_0x5ef553[_0x8957c0(0x1ef)](_0x37941d));process['env'][_0x8957c0(0x21b)]&&(_0x18159d['UJrir'](_0x18159d['iejTf'],_0x18159d['iejTf'])?_0x4f5323=process[_0x8957c0(0x1fc)][_0x8957c0(0x21b)]:_0x537066=_0x139048[_0x8957c0(0x229)]);_0x5e3d75[_0x8957c0(0x229)]&&(_0x18159d['KXsyW'](_0x18159d[_0x8957c0(0x228)],_0x18159d[_0x8957c0(0x1df)])?_0x4bfe56=_0x5e3d75[_0x8957c0(0x229)]:_0x3d05d5=!![]);if(_0x5e3d75['bstackAccesskey']){if(_0x18159d[_0x8957c0(0x21f)](_0x18159d[_0x8957c0(0x1e3)],_0x18159d[_0x8957c0(0x1e3)])){let _0x28adfe={};const _0x4564d0=_0x18159d[_0x8957c0(0x21d)](_0x5a8582);_0x2f76f6['existsSync'](_0x4564d0)&&(_0x28adfe=_0x1fc278[_0x8957c0(0x21c)](_0x854858[_0x8957c0(0x1f9)](_0x4564d0,_0x18159d[_0x8957c0(0x232)])));const _0x5f8f79={};_0x5f8f79[_0x8957c0(0x23e)]=_0x491b8c,_0x5f8f79[_0x8957c0(0x214)]=_0x1c77dc,_0x28adfe['Browserstack']=_0x5f8f79,_0x1be8cb['writeFileSync'](_0x4564d0,_0x496c6d['stringify'](_0x28adfe)),_0x4a8e40['exit'](0x0);}else _0x4f5323=_0x5e3d75[_0x8957c0(0x22f)];}if(_0x18159d[_0x8957c0(0x22c)](_0x4bfe56,undefined)||_0x18159d[_0x8957c0(0x22c)](_0x4f5323,undefined)){if(_0x18159d[_0x8957c0(0x1e2)](_0x18159d[_0x8957c0(0x20d)],_0x18159d[_0x8957c0(0x20d)])){logger[_0x8957c0(0x217)](_0x18159d[_0x8957c0(0x22d)]);const [_0x4377e3,_0x2b00fa]=await _0x18159d['VojbP'](inputBstackKeys);_0x4bfe56=_0x4377e3,_0x4f5323=_0x2b00fa;}else _0x5df5c3=_0x3704d2[_0x8957c0(0x1fc)][_0x8957c0(0x207)];}let _0x30e3e0=![];const _0x441a57=_0x8957c0(0x22a)+_0x4bfe56+':'+_0x4f5323+'@'+BS_API_URL+'/automate/plan.json',_0x504b73={'method':_0x18159d[_0x8957c0(0x211)],'headers':_0x18159d[_0x8957c0(0x210)](getAuthHeader,_0x4bfe56,_0x4f5323),'throwHttpErrors':![]},_0x34ff0c=await _0x18159d['oqeJF'](got,_0x441a57,_0x504b73);_0x18159d[_0x8957c0(0x238)](_0x34ff0c,null)&&_0x18159d['InCfd'](_0x34ff0c,undefined)&&_0x18159d[_0x8957c0(0x1da)](_0x34ff0c[_0x8957c0(0x20c)],0xc8)&&(_0x18159d[_0x8957c0(0x21f)](_0x18159d['LfUlh'],_0x18159d[_0x8957c0(0x225)])?_0x30e3e0=!![]:_0x27e8ea=_0x233f69[_0x8957c0(0x22f)]);if(_0x30e3e0){if(_0x18159d[_0x8957c0(0x208)](_0x18159d[_0x8957c0(0x1f0)],_0x18159d['zwJGF']))_0x439f3d=_0xac8628[_0x8957c0(0x1fc)][_0x8957c0(0x21b)];else{let _0x1f4313={};const _0x57f37a=_0x18159d['eVBiu'](getCredentialsPath);if(fs['existsSync'](_0x57f37a)){if(_0x18159d[_0x8957c0(0x235)](_0x18159d[_0x8957c0(0x1dd)],_0x18159d[_0x8957c0(0x227)])){const _0x41570b={};_0x41570b[_0x8957c0(0x204)]=_0x18159d[_0x8957c0(0x1d9)],_0x41570b[_0x8957c0(0x1db)]=_0x18159d[_0x8957c0(0x1fe)];const _0x368521={};_0x368521[_0x8957c0(0x204)]=_0x18159d[_0x8957c0(0x23a)],_0x368521[_0x8957c0(0x1db)]=_0x18159d[_0x8957c0(0x1fe)];const _0x2fb910={};return _0x2fb910['bstack-username']=_0x41570b,_0x2fb910[_0x8957c0(0x201)]=_0x368521,_0x29dc7f['usage'](_0xac7186[_0x8957c0(0x1f5)])[_0x8957c0(0x224)](_0x1ed117)[_0x8957c0(0x1de)](_0x2fb910)[_0x8957c0(0x205)]()[_0x8957c0(0x1ee)]()[_0x8957c0(0x1f1)](_0x18159d[_0x8957c0(0x1f4)])['argv'];}else _0x1f4313=JSON[_0x8957c0(0x21c)](fs[_0x8957c0(0x1f9)](_0x57f37a,_0x18159d[_0x8957c0(0x232)]));}const _0x4f90bc={};_0x4f90bc[_0x8957c0(0x23e)]=_0x4bfe56,_0x4f90bc[_0x8957c0(0x214)]=_0x4f5323,_0x1f4313[_0x8957c0(0x1e0)]=_0x4f90bc,fs[_0x8957c0(0x1e7)](_0x57f37a,JSON[_0x8957c0(0x230)](_0x1f4313)),process[_0x8957c0(0x236)](0x0);}}else logger[_0x8957c0(0x23b)](_0x18159d['DWHBX']),await _0x18159d[_0x8957c0(0x1d7)](sendInstrumentationEvent,_0x5e3d75,_0x18159d['dNbzw'],messageTypes['ERROR'],_0x18159d[_0x8957c0(0x221)],null,_0x5e3d75),process[_0x8957c0(0x236)](0x1);}catch(_0x30a89a){logger[_0x8957c0(0x23b)](_0x30a89a[_0x8957c0(0x1f6)]),await _0x18159d[_0x8957c0(0x242)](sendInstrumentationEvent,_0x5e3d75,_0x18159d[_0x8957c0(0x206)],messageTypes[_0x8957c0(0x220)],_0x18159d[_0x8957c0(0x23d)],_0x30a89a,_0x5e3d75),process[_0x8957c0(0x236)](0x1);}};