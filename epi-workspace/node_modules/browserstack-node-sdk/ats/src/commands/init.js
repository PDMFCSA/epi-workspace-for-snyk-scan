const a12_0x4f36dd=a12_0x1f60;function a12_0x1b0f(){const _0x6bd1eb=['qhXro','Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.','sKUmj','../utils/instrumentationUtils','argv','TdbkJ','446481MQFAxu','SsOcf','wrong-creds','MKxME','gldZg','stack','mkdirSync','7889928IHSMIf','owzCy','16aCHNvb','help','SQgAz','JYKjw','DHFXP','129NwzUWg','WozLZ','writeFileSync','ryWCG','fpObq','bstackAccesskey','10ArtROA','type','../config/constants','ERROR','ZYalc','desc','command','AtySi','https://','EgAAJ','KvHhx','exit','/automate/plan.json','bstackUsername','52852620PYKqSk','osBGC','unknown-error','parse','Browserstack','GPEFN','AbSpK','bstack-accesskey','KzEcs','UAClX','BROWSERSTACK_ACCESS_KEY','username','IGyQM','statusCode','readFileSync','1614812hsxyiw','requestId','3493926iWSFAI','biBYN','Ikfvo','pxJYL','3271345zkWYgI','../utils/userInput','erbvS','BBLzz','usage','OFmWa','euioo','QgtvS','LqZQD','INFO','BROWSERSTACK_USERNAME','74390FuxMYz','LGMxo','builder','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','debug','qUPQq','error','stringify','LDckC','util','UyDYT','WuTzU','ghEuP','bstack-username','shZSD','strict','description','handler','utf-8','string','UxBVZ','env','options','../config/logger','fQMQL','fbkSZ','init','LCXMD','recommendCommands','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.'];a12_0x1b0f=function(){return _0x6bd1eb;};return a12_0x1b0f();}function a12_0x1f60(_0x5a6249,_0xf32ac2){const _0x1b0f1f=a12_0x1b0f();return a12_0x1f60=function(_0x1f60ab,_0x32c11f){_0x1f60ab=_0x1f60ab-0x12d;let _0x5b8fd1=_0x1b0f1f[_0x1f60ab];return _0x5b8fd1;},a12_0x1f60(_0x5a6249,_0xf32ac2);}(function(_0x1b9dc7,_0x55dbe9){const _0x4ba035=a12_0x1f60,_0x2617c1=_0x1b9dc7();while(!![]){try{const _0x2a3d93=-parseInt(_0x4ba035(0x13e))/0x1+-parseInt(_0x4ba035(0x180))/0x2*(parseInt(_0x4ba035(0x14c))/0x3)+parseInt(_0x4ba035(0x16f))/0x4*(-parseInt(_0x4ba035(0x152))/0x5)+-parseInt(_0x4ba035(0x145))/0x6+parseInt(_0x4ba035(0x175))/0x7+-parseInt(_0x4ba035(0x147))/0x8*(parseInt(_0x4ba035(0x171))/0x9)+parseInt(_0x4ba035(0x160))/0xa;if(_0x2a3d93===_0x55dbe9)break;else _0x2617c1['push'](_0x2617c1['shift']());}catch(_0x546c30){_0x2617c1['push'](_0x2617c1['shift']());}}}(a12_0x1b0f,0xc53e5));const fs=require('fs'),util=require(a12_0x4f36dd(0x189)),got=require('got'),{v4:uuidv4}=require('uuid'),{logger}=require(a12_0x4f36dd(0x131)),{inputBstackKeys}=require(a12_0x4f36dd(0x176)),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a12_0x4f36dd(0x154)),{getDirForConfig,getCredentialsPath,getAuthHeader}=require('../utils/utilityMethods'),{sendInstrumentationEvent}=require(a12_0x4f36dd(0x13b));exports[a12_0x4f36dd(0x158)]=a12_0x4f36dd(0x134),exports[a12_0x4f36dd(0x157)]=a12_0x4f36dd(0x139),exports[a12_0x4f36dd(0x182)]=function(_0x59a021){const _0x4a20f2=a12_0x4f36dd,_0x4ac849={};_0x4ac849[_0x4a20f2(0x16c)]=_0x4a20f2(0x183),_0x4ac849[_0x4a20f2(0x132)]=_0x4a20f2(0x12d),_0x4ac849[_0x4a20f2(0x133)]=_0x4a20f2(0x137),_0x4ac849[_0x4a20f2(0x174)]=_0x4a20f2(0x148);const _0x1a6a97=_0x4ac849,_0x735383={};_0x735383['description']=_0x1a6a97[_0x4a20f2(0x16c)],_0x735383[_0x4a20f2(0x153)]=_0x1a6a97[_0x4a20f2(0x132)];const _0x500db7={};_0x500db7[_0x4a20f2(0x190)]=_0x1a6a97[_0x4a20f2(0x133)],_0x500db7[_0x4a20f2(0x153)]=_0x1a6a97[_0x4a20f2(0x132)];const _0x4a2828={};return _0x4a2828['bstack-username']=_0x735383,_0x4a2828['bstack-accesskey']=_0x500db7,_0x59a021[_0x4a20f2(0x179)](HELP_HEADER_MESSAGE[_0x4a20f2(0x134)])['epilogue'](HELP_FOOTER_MESSAGE)[_0x4a20f2(0x130)](_0x4a2828)[_0x4a20f2(0x136)]()[_0x4a20f2(0x18f)]()[_0x4a20f2(0x148)](_0x1a6a97[_0x4a20f2(0x174)])[_0x4a20f2(0x13c)];},exports[a12_0x4f36dd(0x191)]=async function(_0x362ea6){const _0x3d1cb5=a12_0x4f36dd,_0x5a673f={'fpObq':function(_0x17d121){return _0x17d121();},'UyDYT':_0x3d1cb5(0x192),'AtySi':_0x3d1cb5(0x183),'WuTzU':_0x3d1cb5(0x12d),'LCXMD':_0x3d1cb5(0x137),'gldZg':_0x3d1cb5(0x148),'qUPQq':function(_0x340d2c,_0xfd756,_0x3de8bb,_0x23f012,_0xdc577c,_0x187efe,_0x304d39){return _0x340d2c(_0xfd756,_0x3de8bb,_0x23f012,_0xdc577c,_0x187efe,_0x304d39);},'ZYalc':'init-called','erbvS':function(_0x21611f,_0x43e9f8){return _0x21611f!==_0x43e9f8;},'BBLzz':'pTBAG','WWsxM':'cclJc','SQgAz':function(_0x43645e,_0x37058d){return _0x43645e===_0x37058d;},'EgAAJ':'EzoCN','sKUmj':function(_0x25cd68,_0x1e27cc){return _0x25cd68!==_0x1e27cc;},'WozLZ':'cLRUm','owzCy':'NGoFT','UAClX':function(_0x2aa914,_0x1a0768){return _0x2aa914===_0x1a0768;},'iBKBL':_0x3d1cb5(0x168),'ghEuP':_0x3d1cb5(0x17d),'AbSpK':_0x3d1cb5(0x14b),'KvHhx':function(_0x301a9a,_0xbfbc00){return _0x301a9a===_0xbfbc00;},'ryWCG':function(_0x3371b4,_0x3126c9){return _0x3371b4===_0x3126c9;},'NvuAU':'QgbTP','osBGC':_0x3d1cb5(0x14a),'qhXro':'BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','GUKVJ':function(_0x19eefc){return _0x19eefc();},'UuYIO':'GET','GPEFN':function(_0xeebaec,_0x3c467e,_0x4ab15a){return _0xeebaec(_0x3c467e,_0x4ab15a);},'SsOcf':function(_0x2d0c3a,_0x2b49bd){return _0x2d0c3a!==_0x2b49bd;},'shZSD':function(_0x5da1f1,_0x3beea8){return _0x5da1f1===_0x3beea8;},'QgtvS':_0x3d1cb5(0x12e),'nYgAb':function(_0x4fedc7,_0x800bc3){return _0x4fedc7!==_0x800bc3;},'Ikfvo':_0x3d1cb5(0x17b),'PWZDT':function(_0x1b1bfc){return _0x1b1bfc();},'OFmWa':_0x3d1cb5(0x13d),'dvkSD':'Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','MKxME':function(_0x246469,_0x10367e,_0x51132f,_0x3838e9,_0x1e8b20,_0x355fc6,_0x544d24){return _0x246469(_0x10367e,_0x51132f,_0x3838e9,_0x1e8b20,_0x355fc6,_0x544d24);},'LDckC':_0x3d1cb5(0x140),'LGMxo':function(_0x1d2e2a,_0x7b11,_0x1c4000,_0x2aefc8,_0x6cb057,_0x428782,_0x26cafa){return _0x1d2e2a(_0x7b11,_0x1c4000,_0x2aefc8,_0x6cb057,_0x428782,_0x26cafa);},'biBYN':_0x3d1cb5(0x162)};try{global_registry[_0x3d1cb5(0x170)]=_0x5a673f[_0x3d1cb5(0x150)](uuidv4),_0x5a673f[_0x3d1cb5(0x185)](sendInstrumentationEvent,_0x362ea6,_0x5a673f['ZYalc'],messageTypes[_0x3d1cb5(0x17e)],null,null,_0x362ea6);const _0x86306f=_0x5a673f[_0x3d1cb5(0x150)](getDirForConfig);!fs['existsSync'](_0x86306f)&&(_0x5a673f[_0x3d1cb5(0x177)](_0x5a673f[_0x3d1cb5(0x178)],_0x5a673f['WWsxM'])?fs['mkdirSync'](_0x86306f):_0x4cc502=_0xd20a7f[_0x3d1cb5(0x12f)][_0x3d1cb5(0x16a)]);let _0x3db558,_0x39f87c;if(process['env']['BROWSERSTACK_USERNAME']){if(_0x5a673f[_0x3d1cb5(0x149)](_0x5a673f[_0x3d1cb5(0x15b)],_0x5a673f['EgAAJ']))_0x3db558=process['env'][_0x3d1cb5(0x17f)];else{let _0x3561d0={};const _0x3cc3a4=_0x5a673f['fpObq'](_0x2f83d2);_0x4019f0['existsSync'](_0x3cc3a4)&&(_0x3561d0=_0x2f0345[_0x3d1cb5(0x163)](_0x318c40[_0x3d1cb5(0x16e)](_0x3cc3a4,_0x5a673f[_0x3d1cb5(0x18a)])));const _0x16ecd9={};_0x16ecd9['username']=_0x4de4e1,_0x16ecd9['password']=_0x22a89d,_0x3561d0[_0x3d1cb5(0x164)]=_0x16ecd9,_0xd131e6['writeFileSync'](_0x3cc3a4,_0x13c6cb[_0x3d1cb5(0x187)](_0x3561d0)),_0x37988f[_0x3d1cb5(0x15d)](0x0);}}if(process[_0x3d1cb5(0x12f)][_0x3d1cb5(0x16a)]){if(_0x5a673f[_0x3d1cb5(0x13a)](_0x5a673f[_0x3d1cb5(0x14d)],_0x5a673f[_0x3d1cb5(0x146)]))_0x39f87c=process['env'][_0x3d1cb5(0x16a)];else{const _0x332365={};_0x332365[_0x3d1cb5(0x190)]=_0x5a673f[_0x3d1cb5(0x159)],_0x332365[_0x3d1cb5(0x153)]=_0x5a673f[_0x3d1cb5(0x18b)];const _0x55b596={};_0x55b596[_0x3d1cb5(0x190)]=_0x5a673f[_0x3d1cb5(0x135)],_0x55b596[_0x3d1cb5(0x153)]=_0x5a673f['WuTzU'];const _0x1eb430={};return _0x1eb430[_0x3d1cb5(0x18d)]=_0x332365,_0x1eb430[_0x3d1cb5(0x167)]=_0x55b596,_0x17f8af[_0x3d1cb5(0x179)](_0x46dcfb[_0x3d1cb5(0x134)])['epilogue'](_0x4eca68)[_0x3d1cb5(0x130)](_0x1eb430)[_0x3d1cb5(0x136)]()['strict']()[_0x3d1cb5(0x148)](_0x5a673f[_0x3d1cb5(0x142)])['argv'];}}_0x362ea6[_0x3d1cb5(0x15f)]&&(_0x5a673f[_0x3d1cb5(0x169)](_0x5a673f['iBKBL'],_0x5a673f['iBKBL'])?_0x3db558=_0x362ea6['bstackUsername']:_0x5acbf3[_0x3d1cb5(0x144)](_0x1e1235));_0x362ea6[_0x3d1cb5(0x151)]&&(_0x5a673f[_0x3d1cb5(0x177)](_0x5a673f[_0x3d1cb5(0x18c)],_0x5a673f[_0x3d1cb5(0x166)])?_0x39f87c=_0x362ea6[_0x3d1cb5(0x151)]:_0x131eea=_0xf7e1e6[_0x3d1cb5(0x12f)]['BROWSERSTACK_USERNAME']);if(_0x5a673f[_0x3d1cb5(0x15c)](_0x3db558,undefined)||_0x5a673f[_0x3d1cb5(0x14f)](_0x39f87c,undefined)){if(_0x5a673f['UAClX'](_0x5a673f['NvuAU'],_0x5a673f[_0x3d1cb5(0x161)]))_0x33d739=!![];else{logger[_0x3d1cb5(0x184)](_0x5a673f[_0x3d1cb5(0x138)]);const [_0x319ac8,_0x4d60cd]=await _0x5a673f['GUKVJ'](inputBstackKeys);_0x3db558=_0x319ac8,_0x39f87c=_0x4d60cd;}}let _0x5c1b86=![];const _0x23928c=_0x3d1cb5(0x15a)+_0x3db558+':'+_0x39f87c+'@'+BS_API_URL+_0x3d1cb5(0x15e),_0x65c07c={'method':_0x5a673f['UuYIO'],'headers':_0x5a673f[_0x3d1cb5(0x165)](getAuthHeader,_0x3db558,_0x39f87c),'throwHttpErrors':![]},_0x1a8e1f=await _0x5a673f[_0x3d1cb5(0x165)](got,_0x23928c,_0x65c07c);_0x5a673f[_0x3d1cb5(0x13f)](_0x1a8e1f,null)&&_0x5a673f[_0x3d1cb5(0x13a)](_0x1a8e1f,undefined)&&_0x5a673f[_0x3d1cb5(0x18e)](_0x1a8e1f[_0x3d1cb5(0x16d)],0xc8)&&(_0x5a673f[_0x3d1cb5(0x14f)](_0x5a673f[_0x3d1cb5(0x17c)],_0x5a673f[_0x3d1cb5(0x17c)])?_0x5c1b86=!![]:_0x21c2be=_0x54b8e2[_0x3d1cb5(0x15f)]);if(_0x5c1b86){if(_0x5a673f['nYgAb'](_0x5a673f[_0x3d1cb5(0x173)],_0x5a673f['Ikfvo']))_0x3b138d=_0x387c8d['bstackAccesskey'];else{let _0x3e29aa={};const _0x3ba8cc=_0x5a673f['PWZDT'](getCredentialsPath);fs['existsSync'](_0x3ba8cc)&&(_0x5a673f[_0x3d1cb5(0x15c)](_0x5a673f[_0x3d1cb5(0x17a)],_0x5a673f[_0x3d1cb5(0x17a)])?_0x3e29aa=JSON['parse'](fs[_0x3d1cb5(0x16e)](_0x3ba8cc,_0x5a673f['UyDYT'])):_0x22b0cb=_0x49c349[_0x3d1cb5(0x163)](_0x5966a7[_0x3d1cb5(0x16e)](_0x438c52,_0x5a673f['UyDYT'])));const _0x594d69={};_0x594d69[_0x3d1cb5(0x16b)]=_0x3db558,_0x594d69['password']=_0x39f87c,_0x3e29aa['Browserstack']=_0x594d69,fs[_0x3d1cb5(0x14e)](_0x3ba8cc,JSON[_0x3d1cb5(0x187)](_0x3e29aa)),process['exit'](0x0);}}else logger[_0x3d1cb5(0x186)](_0x5a673f['dvkSD']),await _0x5a673f[_0x3d1cb5(0x141)](sendInstrumentationEvent,_0x362ea6,_0x5a673f[_0x3d1cb5(0x156)],messageTypes[_0x3d1cb5(0x155)],_0x5a673f[_0x3d1cb5(0x188)],null,_0x362ea6),process[_0x3d1cb5(0x15d)](0x1);}catch(_0x46480f){logger[_0x3d1cb5(0x186)](_0x46480f[_0x3d1cb5(0x143)]),await _0x5a673f[_0x3d1cb5(0x181)](sendInstrumentationEvent,_0x362ea6,_0x5a673f[_0x3d1cb5(0x156)],messageTypes[_0x3d1cb5(0x155)],_0x5a673f[_0x3d1cb5(0x172)],_0x46480f,_0x362ea6),process[_0x3d1cb5(0x15d)](0x1);}};