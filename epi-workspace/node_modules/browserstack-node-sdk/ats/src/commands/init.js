const a12_0x49615e=a12_0x1e3c;(function(_0x431517,_0x4fe6a6){const _0x154975=a12_0x1e3c,_0x4079c9=_0x431517();while(!![]){try{const _0x464532=parseInt(_0x154975(0x12a))/0x1+parseInt(_0x154975(0x110))/0x2+-parseInt(_0x154975(0x154))/0x3*(parseInt(_0x154975(0x136))/0x4)+parseInt(_0x154975(0x12d))/0x5+parseInt(_0x154975(0x100))/0x6*(parseInt(_0x154975(0x161))/0x7)+parseInt(_0x154975(0x132))/0x8+-parseInt(_0x154975(0x144))/0x9;if(_0x464532===_0x4fe6a6)break;else _0x4079c9['push'](_0x4079c9['shift']());}catch(_0x4cee81){_0x4079c9['push'](_0x4079c9['shift']());}}}(a12_0xb04b,0x5f2a2));const fs=require('fs'),util=require(a12_0x49615e(0x11e)),got=require('got'),{v4:uuidv4}=require(a12_0x49615e(0x12c)),{logger}=require('../config/logger'),{inputBstackKeys}=require(a12_0x49615e(0x15b)),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a12_0x49615e(0x10e)),{getDirForConfig,getCredentialsPath,getAuthHeader}=require('../utils/utilityMethods'),{sendInstrumentationEvent}=require(a12_0x49615e(0x14e));function a12_0xb04b(){const _0x3b23a3=['epilogue','qoHst','cSqfr','MhhcI','util','LSLGy','WTAqj','xoQqc','pNReN','dRsXG','INFO','BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','stringify','help','dWvsA','GkeRR','115317khlXol','init','uuid','993695MTwrpV','description','JbLTI','IfEGt','handler','6099448hHlJeq','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','strict','ZBJOM','22760XUjHDT','type','writeFileSync','string','CgAlf','MOEwM','etipl','VMjVw','ImDlY','btovX','FCMrq','YghTL','afGoL','utf-8','12896622Wqfytr','desc','FMxMe','command','utkSk','https://','wrong-creds','CTEWy','pohoV','RiAKV','../utils/instrumentationUtils','HNZsC','UIzsD','VNrom','password','bstack-accesskey','60TfKvub','options','recommendCommands','AdGJw','zURDE','SsPxW','KMlkO','../utils/userInput','env','knPKY','statusCode','kvnbt','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','35WJuNlq','existsSync','zbMMF','readFileSync','Browserstack','BROWSERSTACK_USERNAME','Fhber','eMxyC','UnTZO','stack','ERROR','bstackUsername','424584HaKMQX','init-called','HQcMl','builder','Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.','usage','GET','username','debug','lDRFT','qBKvw','NPHQM','GIzEF','bstack-username','../config/constants','BROWSERSTACK_ACCESS_KEY','1012490bwDIqS','FjNLj','exit','DkOEz','/automate/plan.json','kMVNS','KDULj','Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','gfStU','bstackAccesskey'];a12_0xb04b=function(){return _0x3b23a3;};return a12_0xb04b();}function a12_0x1e3c(_0x35a16c,_0x38c5d5){const _0xb04ba8=a12_0xb04b();return a12_0x1e3c=function(_0x1e3c90,_0x3505f6){_0x1e3c90=_0x1e3c90-0xff;let _0x614109=_0xb04ba8[_0x1e3c90];return _0x614109;},a12_0x1e3c(_0x35a16c,_0x38c5d5);}exports[a12_0x49615e(0x147)]=a12_0x49615e(0x12b),exports[a12_0x49615e(0x145)]=a12_0x49615e(0x104),exports[a12_0x49615e(0x103)]=function(_0x5749b5){const _0x351363=a12_0x49615e,_0x2c0a6a={};_0x2c0a6a['VMjVw']=_0x351363(0x160),_0x2c0a6a[_0x351363(0x168)]='string',_0x2c0a6a[_0x351363(0x142)]='Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.',_0x2c0a6a[_0x351363(0x169)]=_0x351363(0x127);const _0x5d7874=_0x2c0a6a,_0x3dfe8b={};_0x3dfe8b[_0x351363(0x12e)]=_0x5d7874[_0x351363(0x13d)],_0x3dfe8b[_0x351363(0x137)]=_0x5d7874[_0x351363(0x168)];const _0x105bcf={};_0x105bcf[_0x351363(0x12e)]=_0x5d7874[_0x351363(0x142)],_0x105bcf[_0x351363(0x137)]=_0x5d7874['eMxyC'];const _0xe55f02={};return _0xe55f02[_0x351363(0x10d)]=_0x3dfe8b,_0xe55f02[_0x351363(0x153)]=_0x105bcf,_0x5749b5['usage'](HELP_HEADER_MESSAGE[_0x351363(0x12b)])[_0x351363(0x11a)](HELP_FOOTER_MESSAGE)['options'](_0xe55f02)[_0x351363(0x156)]()[_0x351363(0x134)]()[_0x351363(0x127)](_0x5d7874[_0x351363(0x169)])['argv'];},exports[a12_0x49615e(0x131)]=async function(_0x3e7920){const _0x4197dd=a12_0x49615e,_0x533c9d={'FjNLj':_0x4197dd(0x160),'zbMMF':_0x4197dd(0x139),'RiAKV':_0x4197dd(0x133),'MhhcI':_0x4197dd(0x127),'NPHQM':_0x4197dd(0x143),'FCMrq':function(_0x3f4a1e){return _0x3f4a1e();},'hXsbt':function(_0x3f7f63,_0x558d3b,_0x454d42,_0x366ebf,_0x352501,_0x4acfcf,_0x1a299a){return _0x3f7f63(_0x558d3b,_0x454d42,_0x366ebf,_0x352501,_0x4acfcf,_0x1a299a);},'kMVNS':_0x4197dd(0x101),'ZBJOM':function(_0x4927f2){return _0x4927f2();},'dRsXG':function(_0x462eb2,_0xbf420e){return _0x462eb2===_0xbf420e;},'utkSk':_0x4197dd(0x109),'HuXGN':_0x4197dd(0x11b),'etipl':function(_0x340a6d,_0x12ecb0){return _0x340a6d!==_0x12ecb0;},'Fhber':_0x4197dd(0x159),'YghTL':_0x4197dd(0x13b),'cSqfr':_0x4197dd(0x130),'WTAqj':function(_0x1fa1ae,_0x556817){return _0x1fa1ae!==_0x556817;},'DkOEz':_0x4197dd(0x10c),'zURDE':_0x4197dd(0x12f),'IMmGb':'dweSk','UIzsD':_0x4197dd(0x128),'rYBAi':function(_0x20c839,_0x2ee49a){return _0x20c839===_0x2ee49a;},'HQcMl':_0x4197dd(0x13f),'KDULj':_0x4197dd(0x125),'pNReN':function(_0x48f488){return _0x48f488();},'knPKY':_0x4197dd(0x106),'FMxMe':function(_0x4b0128,_0x170638,_0x39c03a){return _0x4b0128(_0x170638,_0x39c03a);},'iMsbj':function(_0x4b0976,_0x4f462a,_0x430585){return _0x4b0976(_0x4f462a,_0x430585);},'HNZsC':function(_0x2b9783,_0x3273b0){return _0x2b9783!==_0x3273b0;},'pohoV':_0x4197dd(0x129),'wvERK':_0x4197dd(0x157),'agbGY':function(_0x3cb30a,_0x17bdfa){return _0x3cb30a===_0x17bdfa;},'CTEWy':_0x4197dd(0x13a),'qBKvw':function(_0x41e0bb){return _0x41e0bb();},'xoQqc':_0x4197dd(0x15a),'kvnbt':_0x4197dd(0x117),'LSLGy':function(_0x498364,_0x104dae,_0x4f6a13,_0xecaf87,_0x571c38,_0x452b61,_0x143ecf){return _0x498364(_0x104dae,_0x4f6a13,_0xecaf87,_0x571c38,_0x452b61,_0x143ecf);},'VNrom':_0x4197dd(0x14a),'ImDlY':function(_0x3039f3,_0x54583c,_0x1f8d0e,_0xe52565,_0x33344c,_0x2636ee,_0x157f7d){return _0x3039f3(_0x54583c,_0x1f8d0e,_0xe52565,_0x33344c,_0x2636ee,_0x157f7d);},'gfStU':'unknown-error'};try{global_registry['requestId']=_0x533c9d[_0x4197dd(0x140)](uuidv4),_0x533c9d['hXsbt'](sendInstrumentationEvent,_0x3e7920,_0x533c9d[_0x4197dd(0x115)],messageTypes[_0x4197dd(0x124)],null,null,_0x3e7920);const _0x2e0d83=_0x533c9d[_0x4197dd(0x135)](getDirForConfig);if(!fs[_0x4197dd(0x162)](_0x2e0d83)){if(_0x533c9d['dRsXG'](_0x533c9d[_0x4197dd(0x148)],_0x533c9d['HuXGN'])){const _0x21f648={};_0x21f648[_0x4197dd(0x12e)]=_0x533c9d[_0x4197dd(0x111)],_0x21f648[_0x4197dd(0x137)]=_0x533c9d['zbMMF'];const _0x349fcf={};_0x349fcf[_0x4197dd(0x12e)]=_0x533c9d[_0x4197dd(0x14d)],_0x349fcf[_0x4197dd(0x137)]=_0x533c9d[_0x4197dd(0x163)];const _0x333a3c={};return _0x333a3c[_0x4197dd(0x10d)]=_0x21f648,_0x333a3c[_0x4197dd(0x153)]=_0x349fcf,_0x455150[_0x4197dd(0x105)](_0x20c0a5[_0x4197dd(0x12b)])['epilogue'](_0x23ad8b)[_0x4197dd(0x155)](_0x333a3c)[_0x4197dd(0x156)]()[_0x4197dd(0x134)]()[_0x4197dd(0x127)](_0x533c9d[_0x4197dd(0x11d)])['argv'];}else fs['mkdirSync'](_0x2e0d83);}let _0x45e9d9,_0xf6aea2;process['env'][_0x4197dd(0x166)]&&(_0x533c9d[_0x4197dd(0x13c)](_0x533c9d[_0x4197dd(0x167)],_0x533c9d[_0x4197dd(0x141)])?_0x45e9d9=process[_0x4197dd(0x15c)]['BROWSERSTACK_USERNAME']:_0x914ec6=_0x3555fd[_0x4197dd(0x119)]);process[_0x4197dd(0x15c)]['BROWSERSTACK_ACCESS_KEY']&&(_0x533c9d[_0x4197dd(0x123)](_0x533c9d[_0x4197dd(0x11c)],_0x533c9d[_0x4197dd(0x11c)])?_0xf6aea2=process['env'][_0x4197dd(0x10f)]:_0x3c64e0=_0x1f2735[_0x4197dd(0x15c)][_0x4197dd(0x166)]);_0x3e7920[_0x4197dd(0xff)]&&(_0x533c9d[_0x4197dd(0x120)](_0x533c9d[_0x4197dd(0x113)],_0x533c9d[_0x4197dd(0x158)])?_0x45e9d9=_0x3e7920[_0x4197dd(0xff)]:_0x329a7e=_0x19732e[_0x4197dd(0xff)]);_0x3e7920[_0x4197dd(0x119)]&&(_0x533c9d[_0x4197dd(0x120)](_0x533c9d['IMmGb'],_0x533c9d[_0x4197dd(0x150)])?_0xf6aea2=_0x3e7920[_0x4197dd(0x119)]:_0x133a6c=_0x565310['parse'](_0xd1ca6d[_0x4197dd(0x164)](_0x1558fe,_0x533c9d[_0x4197dd(0x10b)])));if(_0x533c9d[_0x4197dd(0x123)](_0x45e9d9,undefined)||_0x533c9d[_0x4197dd(0x123)](_0xf6aea2,undefined)){if(_0x533c9d['rYBAi'](_0x533c9d[_0x4197dd(0x102)],_0x533c9d[_0x4197dd(0x102)])){logger[_0x4197dd(0x108)](_0x533c9d[_0x4197dd(0x116)]);const [_0x1a0113,_0x46f90c]=await _0x533c9d[_0x4197dd(0x122)](inputBstackKeys);_0x45e9d9=_0x1a0113,_0xf6aea2=_0x46f90c;}else _0x1ae3cc=_0x85b96f[_0x4197dd(0x15c)][_0x4197dd(0x10f)];}let _0x2bcee7=![];const _0x35262f=_0x4197dd(0x149)+_0x45e9d9+':'+_0xf6aea2+'@'+BS_API_URL+_0x4197dd(0x114),_0x3d1892={'method':_0x533c9d[_0x4197dd(0x15d)],'headers':_0x533c9d[_0x4197dd(0x146)](getAuthHeader,_0x45e9d9,_0xf6aea2),'throwHttpErrors':![]},_0xc2e08b=await _0x533c9d['iMsbj'](got,_0x35262f,_0x3d1892);_0x533c9d[_0x4197dd(0x14f)](_0xc2e08b,null)&&_0x533c9d[_0x4197dd(0x13c)](_0xc2e08b,undefined)&&_0x533c9d['dRsXG'](_0xc2e08b[_0x4197dd(0x15e)],0xc8)&&(_0x533c9d['rYBAi'](_0x533c9d[_0x4197dd(0x14c)],_0x533c9d['wvERK'])?_0x23b438['mkdirSync'](_0x326dbe):_0x2bcee7=!![]);if(_0x2bcee7){if(_0x533c9d['agbGY'](_0x533c9d[_0x4197dd(0x14b)],_0x533c9d[_0x4197dd(0x14b)])){let _0x2d2fb3={};const _0x1793a5=_0x533c9d[_0x4197dd(0x10a)](getCredentialsPath);fs['existsSync'](_0x1793a5)&&(_0x533c9d['dRsXG'](_0x533c9d[_0x4197dd(0x121)],_0x533c9d[_0x4197dd(0x121)])?_0x2d2fb3=JSON['parse'](fs[_0x4197dd(0x164)](_0x1793a5,_0x533c9d[_0x4197dd(0x10b)])):_0x3171e9=!![]);const _0x1261b3={};_0x1261b3[_0x4197dd(0x107)]=_0x45e9d9,_0x1261b3[_0x4197dd(0x152)]=_0xf6aea2,_0x2d2fb3[_0x4197dd(0x165)]=_0x1261b3,fs[_0x4197dd(0x138)](_0x1793a5,JSON[_0x4197dd(0x126)](_0x2d2fb3)),process['exit'](0x0);}else{let _0x3d5524={};const _0x55eedd=_0x533c9d[_0x4197dd(0x140)](_0x8b3250);_0x13aead[_0x4197dd(0x162)](_0x55eedd)&&(_0x3d5524=_0x526c92['parse'](_0x4da9dd['readFileSync'](_0x55eedd,_0x533c9d[_0x4197dd(0x10b)])));const _0x3fbe30={};_0x3fbe30[_0x4197dd(0x107)]=_0x1fbf96,_0x3fbe30[_0x4197dd(0x152)]=_0x4f444d,_0x3d5524['Browserstack']=_0x3fbe30,_0x128e36[_0x4197dd(0x138)](_0x55eedd,_0x5ef47e[_0x4197dd(0x126)](_0x3d5524)),_0x56cbcf[_0x4197dd(0x112)](0x0);}}else logger['error'](_0x533c9d[_0x4197dd(0x15f)]),await _0x533c9d[_0x4197dd(0x11f)](sendInstrumentationEvent,_0x3e7920,_0x533c9d[_0x4197dd(0x115)],messageTypes[_0x4197dd(0x16b)],_0x533c9d[_0x4197dd(0x151)],null,_0x3e7920),process[_0x4197dd(0x112)](0x1);}catch(_0x13027d){logger['error'](_0x13027d[_0x4197dd(0x16a)]),await _0x533c9d[_0x4197dd(0x13e)](sendInstrumentationEvent,_0x3e7920,_0x533c9d['kMVNS'],messageTypes['ERROR'],_0x533c9d[_0x4197dd(0x118)],_0x13027d,_0x3e7920),process['exit'](0x1);}};