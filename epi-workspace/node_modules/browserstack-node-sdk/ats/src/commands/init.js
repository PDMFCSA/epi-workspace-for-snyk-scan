const a12_0x2f2895=a12_0x16e8;function a12_0x16e8(_0x2c0f97,_0x28c85e){const _0x5e9e48=a12_0x5e9e();return a12_0x16e8=function(_0x16e8f9,_0x2e2190){_0x16e8f9=_0x16e8f9-0xb3;let _0x3a7c9e=_0x5e9e48[_0x16e8f9];return _0x3a7c9e;},a12_0x16e8(_0x2c0f97,_0x28c85e);}function a12_0x5e9e(){const _0xd7c18e=['4fwHFFb','Elbtv','Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','dYucI','got','ZDdPb','string','56016SBCWRw','vHEHu','WTstk','lxxxf','lEIDA','argv','wrong-creds','MgkKY','recommendCommands','232RKbBZY','password','burQN','mkdirSync','options','builder','BROWSERSTACK_ACCESS_KEY','writeFileSync','SvINB','bstack-accesskey','description','stringify','pRdEO','XJzZU','ZGuvS','530132rskYEs','IlmKW','286135gMcObg','username','QSLey','help','bstackUsername','strict','env','qsgBS','wrgUe','yZJtO','4519356UAKEsh','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','https://','type','bstackAccesskey','12PGSszJ','qGmXB','BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','INFO','bVzDe','NTerg','kThVf','Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.','OfiAA','epilogue','Ixums','upgpD','9229239UthJUM','init-called','XvUkZ','10DHpFpd','debug','init','3568qMqCaC','mxIhh','rEQwt','wFhFw','error','../config/logger','8634032juHarD','ERROR','utf-8','handler','oUmhm','BROWSERSTACK_USERNAME','FKUwT','12453xxYkGc','SnMLG','wryVp','bstack-username','ZQcUj','/automate/plan.json','FiyEa','YCYXo','gEvCi','parse','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','ajnlC','tghpJ','eRiUj','HCDLy','existsSync','jxsWd','AkKhi','uZFlR','exit','readFileSync','Browserstack','util'];a12_0x5e9e=function(){return _0xd7c18e;};return a12_0x5e9e();}(function(_0xa2c067,_0x2fbb1){const _0xe0fb38=a12_0x16e8,_0x57c5de=_0xa2c067();while(!![]){try{const _0x9f034d=-parseInt(_0xe0fb38(0xff))/0x1*(parseInt(_0xe0fb38(0xe0))/0x2)+-parseInt(_0xe0fb38(0xe7))/0x3*(-parseInt(_0xe0fb38(0xf0))/0x4)+parseInt(_0xe0fb38(0x101))/0x5*(-parseInt(_0xe0fb38(0x110))/0x6)+parseInt(_0xe0fb38(0xc9))/0x7*(-parseInt(_0xe0fb38(0xbc))/0x8)+parseInt(_0xe0fb38(0xb6))/0x9+parseInt(_0xe0fb38(0xb9))/0xa*(parseInt(_0xe0fb38(0xc2))/0xb)+-parseInt(_0xe0fb38(0x10b))/0xc;if(_0x9f034d===_0x2fbb1)break;else _0x57c5de['push'](_0x57c5de['shift']());}catch(_0x36ff06){_0x57c5de['push'](_0x57c5de['shift']());}}}(a12_0x5e9e,0x85ef2));const fs=require('fs'),util=require(a12_0x2f2895(0xdf)),got=require(a12_0x2f2895(0xe4)),{v4:uuidv4}=require('uuid'),{logger}=require(a12_0x2f2895(0xc1)),{inputBstackKeys}=require('../utils/userInput'),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require('../config/constants'),{getDirForConfig,getCredentialsPath,getAuthHeader}=require('../utils/utilityMethods'),{sendInstrumentationEvent}=require('../utils/instrumentationUtils');exports['command']='init',exports['desc']=a12_0x2f2895(0x117),exports[a12_0x2f2895(0xf5)]=function(_0x490ead){const _0x4e9ddc=a12_0x2f2895,_0x2d55bc={};_0x2d55bc[_0x4e9ddc(0xeb)]=_0x4e9ddc(0x10c),_0x2d55bc[_0x4e9ddc(0xc6)]=_0x4e9ddc(0xe6),_0x2d55bc[_0x4e9ddc(0xcd)]=_0x4e9ddc(0xd3),_0x2d55bc[_0x4e9ddc(0xcf)]='help';const _0x5bd349=_0x2d55bc,_0x15c650={};_0x15c650[_0x4e9ddc(0xfa)]=_0x5bd349[_0x4e9ddc(0xeb)],_0x15c650[_0x4e9ddc(0x10e)]=_0x5bd349['oUmhm'];const _0x321c53={};_0x321c53[_0x4e9ddc(0xfa)]=_0x5bd349[_0x4e9ddc(0xcd)],_0x321c53[_0x4e9ddc(0x10e)]=_0x5bd349['oUmhm'];const _0x200fa4={};return _0x200fa4['bstack-username']=_0x15c650,_0x200fa4[_0x4e9ddc(0xf9)]=_0x321c53,_0x490ead['usage'](HELP_HEADER_MESSAGE[_0x4e9ddc(0xbb)])[_0x4e9ddc(0xb3)](HELP_FOOTER_MESSAGE)[_0x4e9ddc(0xf4)](_0x200fa4)[_0x4e9ddc(0xef)]()[_0x4e9ddc(0x106)]()[_0x4e9ddc(0x104)](_0x5bd349[_0x4e9ddc(0xcf)])[_0x4e9ddc(0xec)];},exports[a12_0x2f2895(0xc5)]=async function(_0xb7ac7c){const _0x5ddaea=a12_0x2f2895,_0x2fb712={'CQsKy':_0x5ddaea(0x10c),'SvINB':_0x5ddaea(0xe6),'Ixums':'Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','DTnHw':_0x5ddaea(0x104),'Elbtv':function(_0x5f4932){return _0x5f4932();},'MgkKY':_0x5ddaea(0xc4),'wrgUe':function(_0xbfeb36,_0x52f08c,_0x5b5ba2,_0x32efb2,_0x11a116,_0x5d62ac,_0x2d91ba){return _0xbfeb36(_0x52f08c,_0x5b5ba2,_0x32efb2,_0x11a116,_0x5d62ac,_0x2d91ba);},'wryVp':_0x5ddaea(0xb7),'kIJXq':function(_0x1b25c1){return _0x1b25c1();},'ajnlC':function(_0x458bb8,_0x140892){return _0x458bb8===_0x140892;},'mxIhh':_0x5ddaea(0xfe),'uDtZT':function(_0x57d7a5,_0x5e0460){return _0x57d7a5===_0x5e0460;},'uZFlR':_0x5ddaea(0xe8),'frWCv':_0x5ddaea(0x116),'FKUwT':_0x5ddaea(0xe9),'YCYXo':_0x5ddaea(0xfd),'ibOGo':_0x5ddaea(0x115),'yZJtO':_0x5ddaea(0xf2),'bVzDe':function(_0x441341,_0x1bf4ee){return _0x441341===_0x1bf4ee;},'HCDLy':function(_0x52558e,_0x1e77d4){return _0x52558e!==_0x1e77d4;},'XvUkZ':_0x5ddaea(0xea),'IlmKW':_0x5ddaea(0x118),'QSLey':_0x5ddaea(0x112),'QJEdW':'GET','jxsWd':function(_0x5989d2,_0x5b781e,_0x42f442){return _0x5989d2(_0x5b781e,_0x42f442);},'SnMLG':function(_0xcdc152,_0x47b1d8){return _0xcdc152!==_0x47b1d8;},'pRdEO':_0x5ddaea(0xb5),'qGmXB':_0x5ddaea(0xda),'eRiUj':_0x5ddaea(0xe5),'dYucI':function(_0x1ad8d8,_0x51cda2){return _0x1ad8d8===_0x51cda2;},'AGNRc':_0x5ddaea(0xbe),'oAygL':_0x5ddaea(0xd1),'Ftfna':_0x5ddaea(0xe2),'qsgBS':function(_0x5a36f6,_0x1fcce4,_0x240049,_0x45ddbf,_0xc443bc,_0x28df99,_0x5caff9){return _0x5a36f6(_0x1fcce4,_0x240049,_0x45ddbf,_0xc443bc,_0x28df99,_0x5caff9);},'wFhFw':_0x5ddaea(0xed),'tghpJ':'unknown-error'};try{global_registry['requestId']=_0x2fb712[_0x5ddaea(0xe1)](uuidv4),_0x2fb712[_0x5ddaea(0x109)](sendInstrumentationEvent,_0xb7ac7c,_0x2fb712[_0x5ddaea(0xcb)],messageTypes[_0x5ddaea(0x113)],null,null,_0xb7ac7c);const _0x25e3b5=_0x2fb712['kIJXq'](getDirForConfig);!fs['existsSync'](_0x25e3b5)&&(_0x2fb712[_0x5ddaea(0xd4)](_0x2fb712[_0x5ddaea(0xbd)],_0x2fb712[_0x5ddaea(0xbd)])?fs[_0x5ddaea(0xf3)](_0x25e3b5):_0xa8ab01=_0x13d424[_0x5ddaea(0x107)][_0x5ddaea(0xf6)]);let _0x49e5aa,_0xc4cc8c;process[_0x5ddaea(0x107)][_0x5ddaea(0xc7)]&&(_0x2fb712['uDtZT'](_0x2fb712['uZFlR'],_0x2fb712[_0x5ddaea(0xdb)])?_0x49e5aa=process[_0x5ddaea(0x107)][_0x5ddaea(0xc7)]:_0x5f5b38=_0x3ec886[_0x5ddaea(0x105)]);if(process[_0x5ddaea(0x107)]['BROWSERSTACK_ACCESS_KEY']){if(_0x2fb712[_0x5ddaea(0xd4)](_0x2fb712['frWCv'],_0x2fb712[_0x5ddaea(0xc8)])){const _0x22a191={};_0x22a191[_0x5ddaea(0xfa)]=_0x2fb712['CQsKy'],_0x22a191[_0x5ddaea(0x10e)]=_0x2fb712[_0x5ddaea(0xf8)];const _0x3aca58={};_0x3aca58[_0x5ddaea(0xfa)]=_0x2fb712[_0x5ddaea(0xb4)],_0x3aca58[_0x5ddaea(0x10e)]=_0x2fb712[_0x5ddaea(0xf8)];const _0x2c39bb={};return _0x2c39bb[_0x5ddaea(0xcc)]=_0x22a191,_0x2c39bb[_0x5ddaea(0xf9)]=_0x3aca58,_0x38a66e['usage'](_0x59461e[_0x5ddaea(0xbb)])['epilogue'](_0x5ac1c1)[_0x5ddaea(0xf4)](_0x2c39bb)[_0x5ddaea(0xef)]()['strict']()[_0x5ddaea(0x104)](_0x2fb712['DTnHw'])[_0x5ddaea(0xec)];}else _0xc4cc8c=process['env'][_0x5ddaea(0xf6)];}_0xb7ac7c[_0x5ddaea(0x105)]&&(_0x2fb712[_0x5ddaea(0xd4)](_0x2fb712[_0x5ddaea(0xd0)],_0x2fb712['ibOGo'])?_0x2d3e42=!![]:_0x49e5aa=_0xb7ac7c['bstackUsername']);if(_0xb7ac7c[_0x5ddaea(0x10f)]){if(_0x2fb712[_0x5ddaea(0xd4)](_0x2fb712['yZJtO'],_0x2fb712[_0x5ddaea(0x10a)]))_0xc4cc8c=_0xb7ac7c[_0x5ddaea(0x10f)];else{let _0x2173f8={};const _0x1bf365=_0x2fb712[_0x5ddaea(0xe1)](_0x39e18f);_0x173fb0[_0x5ddaea(0xd8)](_0x1bf365)&&(_0x2173f8=_0x2c4f49[_0x5ddaea(0xd2)](_0x16a5f8[_0x5ddaea(0xdd)](_0x1bf365,_0x2fb712[_0x5ddaea(0xee)])));const _0xfea79c={};_0xfea79c[_0x5ddaea(0x102)]=_0x3cb5a8,_0xfea79c[_0x5ddaea(0xf1)]=_0x36d85b,_0x2173f8[_0x5ddaea(0xde)]=_0xfea79c,_0x2465c4[_0x5ddaea(0xf7)](_0x1bf365,_0x6c0c80['stringify'](_0x2173f8)),_0x50be93['exit'](0x0);}}if(_0x2fb712[_0x5ddaea(0x114)](_0x49e5aa,undefined)||_0x2fb712[_0x5ddaea(0xd4)](_0xc4cc8c,undefined)){if(_0x2fb712[_0x5ddaea(0xd7)](_0x2fb712[_0x5ddaea(0xb8)],_0x2fb712[_0x5ddaea(0x100)])){logger[_0x5ddaea(0xba)](_0x2fb712[_0x5ddaea(0x103)]);const [_0x287457,_0x529aff]=await _0x2fb712['Elbtv'](inputBstackKeys);_0x49e5aa=_0x287457,_0xc4cc8c=_0x529aff;}else _0x21ceaf=_0x1139cc['bstackAccesskey'];}let _0x47cd34=![];const _0x2d7232=_0x5ddaea(0x10d)+_0x49e5aa+':'+_0xc4cc8c+'@'+BS_API_URL+_0x5ddaea(0xce),_0x426c46={'method':_0x2fb712['QJEdW'],'headers':_0x2fb712[_0x5ddaea(0xd9)](getAuthHeader,_0x49e5aa,_0xc4cc8c),'throwHttpErrors':![]},_0x8cc941=await _0x2fb712[_0x5ddaea(0xd9)](got,_0x2d7232,_0x426c46);_0x2fb712['HCDLy'](_0x8cc941,null)&&_0x2fb712[_0x5ddaea(0xca)](_0x8cc941,undefined)&&_0x2fb712[_0x5ddaea(0xd4)](_0x8cc941['statusCode'],0xc8)&&(_0x2fb712['uDtZT'](_0x2fb712[_0x5ddaea(0xfc)],_0x2fb712[_0x5ddaea(0xfc)])?_0x47cd34=!![]:_0x3590ec=_0x2c796c[_0x5ddaea(0xd2)](_0x5593cb[_0x5ddaea(0xdd)](_0x13a7e0,_0x2fb712['MgkKY'])));if(_0x47cd34){if(_0x2fb712[_0x5ddaea(0xca)](_0x2fb712[_0x5ddaea(0x111)],_0x2fb712[_0x5ddaea(0xd6)])){let _0x51647b={};const _0x88bf9b=_0x2fb712[_0x5ddaea(0xe1)](getCredentialsPath);fs[_0x5ddaea(0xd8)](_0x88bf9b)&&(_0x2fb712[_0x5ddaea(0xe3)](_0x2fb712['AGNRc'],_0x2fb712['oAygL'])?_0x123f46=_0x5c0b56[_0x5ddaea(0x107)][_0x5ddaea(0xc7)]:_0x51647b=JSON[_0x5ddaea(0xd2)](fs[_0x5ddaea(0xdd)](_0x88bf9b,_0x2fb712['MgkKY'])));const _0x559d85={};_0x559d85[_0x5ddaea(0x102)]=_0x49e5aa,_0x559d85['password']=_0xc4cc8c,_0x51647b[_0x5ddaea(0xde)]=_0x559d85,fs[_0x5ddaea(0xf7)](_0x88bf9b,JSON[_0x5ddaea(0xfb)](_0x51647b)),process[_0x5ddaea(0xdc)](0x0);}else _0xa7ea8e[_0x5ddaea(0xf3)](_0x2d4b56);}else logger[_0x5ddaea(0xc0)](_0x2fb712['Ftfna']),await _0x2fb712[_0x5ddaea(0x108)](sendInstrumentationEvent,_0xb7ac7c,_0x2fb712[_0x5ddaea(0xcb)],messageTypes[_0x5ddaea(0xc3)],_0x2fb712[_0x5ddaea(0xbf)],null,_0xb7ac7c),process['exit'](0x1);}catch(_0x30d0b0){logger[_0x5ddaea(0xc0)](_0x30d0b0['stack']),await _0x2fb712[_0x5ddaea(0x108)](sendInstrumentationEvent,_0xb7ac7c,_0x2fb712['wryVp'],messageTypes[_0x5ddaea(0xc3)],_0x2fb712[_0x5ddaea(0xd5)],_0x30d0b0,_0xb7ac7c),process[_0x5ddaea(0xdc)](0x1);}};