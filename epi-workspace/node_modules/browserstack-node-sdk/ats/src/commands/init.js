const a12_0x3933f2=a12_0x380a;(function(_0x4ebf40,_0x3b1867){const _0x17748c=a12_0x380a,_0x56c46e=_0x4ebf40();while(!![]){try{const _0x1117b1=-parseInt(_0x17748c(0x1e5))/0x1*(-parseInt(_0x17748c(0x1f5))/0x2)+parseInt(_0x17748c(0x218))/0x3+parseInt(_0x17748c(0x1f4))/0x4+parseInt(_0x17748c(0x207))/0x5*(-parseInt(_0x17748c(0x1f8))/0x6)+parseInt(_0x17748c(0x204))/0x7+parseInt(_0x17748c(0x21c))/0x8+-parseInt(_0x17748c(0x205))/0x9;if(_0x1117b1===_0x3b1867)break;else _0x56c46e['push'](_0x56c46e['shift']());}catch(_0x183335){_0x56c46e['push'](_0x56c46e['shift']());}}}(a12_0x46b0,0xd6e1f));const fs=require('fs'),util=require(a12_0x3933f2(0x1de)),got=require(a12_0x3933f2(0x1d5)),{v4:uuidv4}=require('uuid'),{logger}=require(a12_0x3933f2(0x21b)),{inputBstackKeys}=require(a12_0x3933f2(0x203)),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require('../config/constants'),{getDirForConfig,getCredentialsPath,getAuthHeader}=require(a12_0x3933f2(0x215)),{sendInstrumentationEvent}=require(a12_0x3933f2(0x1fb));function a12_0x380a(_0x564706,_0xc15614){const _0x46b027=a12_0x46b0();return a12_0x380a=function(_0x380a44,_0x7f30d5){_0x380a44=_0x380a44-0x1bb;let _0x722acc=_0x46b027[_0x380a44];return _0x722acc;},a12_0x380a(_0x564706,_0xc15614);}function a12_0x46b0(){const _0x361372=['BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','string','MghZW','password','wrong-creds','dfltS','LVEvS','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','desc','init','HcqWS','NkAKa','LumQs','../utils/utilityMethods','LYMfP','epilogue','4833513kDnMKw','BROWSERSTACK_USERNAME','qErkR','../config/logger','9824568vugqUB','eTIec','zoyuZ','builder','utf-8','username','azLvV','IUUGR','fJHZO','GcPhj','miqMf','argv','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.','AZbsT','Qzbfr','iYbZJ','spGdK','KIozv','irQZu','strict','help','Browserstack','WqyBg','bstack-username','options','handler','cMngJ','PTqpI','lqBdY','chQMN','DxvTZ','LsaHr','exit','mkdirSync','got','ZDIgf','INFO','rqeQW','readFileSync','vwRoD','WsZqj','tmImp','BROWSERSTACK_ACCESS_KEY','util','atKAf','JVeaC','RvqNU','type','GET','ERROR','93crBqDQ','bstack-accesskey','QfCYd','env','usage','description','Mwjxb','ftoSO','AgwOB','pssIr','bstackAccesskey','rTmFg','parse','sRPpg','existsSync','3121548CtpRfV','1466xaGnfp','qZBcu','Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','3738nZHUCY','vtici','stringify','../utils/instrumentationUtils','writeFileSync','bstackUsername','rkVGK','atVec','unknown-error','command','NNgQU','../utils/userInput','7186543PaIRTT','22728285gLoFxz','error','10505ZACbTc'];a12_0x46b0=function(){return _0x361372;};return a12_0x46b0();}exports[a12_0x3933f2(0x201)]=a12_0x3933f2(0x211),exports[a12_0x3933f2(0x210)]=a12_0x3933f2(0x1bf),exports[a12_0x3933f2(0x21f)]=function(_0x179ae4){const _0x22906e=a12_0x3933f2,_0x5e6157={};_0x5e6157[_0x22906e(0x1eb)]=_0x22906e(0x20f),_0x5e6157[_0x22906e(0x1f2)]=_0x22906e(0x209),_0x5e6157[_0x22906e(0x1d0)]=_0x22906e(0x1be),_0x5e6157[_0x22906e(0x20e)]=_0x22906e(0x1c7);const _0x50f4df=_0x5e6157,_0x19045b={};_0x19045b[_0x22906e(0x1ea)]=_0x50f4df[_0x22906e(0x1eb)],_0x19045b['type']=_0x50f4df[_0x22906e(0x1f2)];const _0x1e7f1b={};_0x1e7f1b['description']=_0x50f4df[_0x22906e(0x1d0)],_0x1e7f1b[_0x22906e(0x1e2)]=_0x50f4df[_0x22906e(0x1f2)];const _0xf2de83={};return _0xf2de83[_0x22906e(0x1ca)]=_0x19045b,_0xf2de83[_0x22906e(0x1e6)]=_0x1e7f1b,_0x179ae4[_0x22906e(0x1e9)](HELP_HEADER_MESSAGE[_0x22906e(0x211)])[_0x22906e(0x217)](HELP_FOOTER_MESSAGE)[_0x22906e(0x1cb)](_0xf2de83)['recommendCommands']()[_0x22906e(0x1c6)]()[_0x22906e(0x1c7)](_0x50f4df[_0x22906e(0x20e)])[_0x22906e(0x1bd)];},exports[a12_0x3933f2(0x1cc)]=async function(_0x2ff803){const _0x584e31=a12_0x3933f2,_0x4737c0={'UeQqH':_0x584e31(0x20f),'IUUGR':_0x584e31(0x209),'LsaHr':_0x584e31(0x1be),'ftoSO':_0x584e31(0x1c7),'MghZW':function(_0x44d5ae){return _0x44d5ae();},'vwRoD':_0x584e31(0x220),'rTmFg':function(_0x15b2b6){return _0x15b2b6();},'atVec':function(_0x29406d,_0x43149e,_0x357898,_0x3572d5,_0x10fecc,_0x356944,_0xb84c03){return _0x29406d(_0x43149e,_0x357898,_0x3572d5,_0x10fecc,_0x356944,_0xb84c03);},'zoyuZ':'init-called','rqeQW':function(_0x5b1c7a,_0x27f5ec){return _0x5b1c7a===_0x27f5ec;},'azLvV':_0x584e31(0x1c3),'yAhuX':'mVapA','NNgQU':function(_0x31fb99,_0x16f6ef){return _0x31fb99===_0x16f6ef;},'KIozv':'JSrKb','HcqWS':function(_0x1c6503,_0x4b72f5){return _0x1c6503===_0x4b72f5;},'fJHZO':_0x584e31(0x1bb),'atKAf':_0x584e31(0x1dc),'LYMfP':_0x584e31(0x1d6),'PTqpI':function(_0x373799,_0x59da3e){return _0x373799!==_0x59da3e;},'Qzbfr':'rmxML','RvqNU':function(_0x33743c,_0x457da4){return _0x33743c===_0x457da4;},'rkVGK':_0x584e31(0x1ed),'LumQs':_0x584e31(0x1d1),'FVZgK':_0x584e31(0x208),'qZBcu':_0x584e31(0x1e3),'pssIr':function(_0x370020,_0x3ab2a1,_0x44b150){return _0x370020(_0x3ab2a1,_0x44b150);},'vtici':function(_0x196071,_0x381f27,_0x1dc682){return _0x196071(_0x381f27,_0x1dc682);},'dKjux':function(_0x242d7c,_0x2d02c5){return _0x242d7c!==_0x2d02c5;},'WsZqj':_0x584e31(0x1cd),'iYbZJ':_0x584e31(0x1c5),'lqBdY':function(_0x4fb293,_0x497425){return _0x4fb293!==_0x497425;},'WqyBg':_0x584e31(0x21d),'NkAKa':_0x584e31(0x20d),'EPExg':function(_0x599bb6){return _0x599bb6();},'qErkR':'KOvcv','jIdAZ':_0x584e31(0x1f7),'miqMf':function(_0x36ce76,_0x38230a,_0x5d3f4e,_0x5b0732,_0x1c6647,_0x41d09d,_0x5a3b7f){return _0x36ce76(_0x38230a,_0x5d3f4e,_0x5b0732,_0x1c6647,_0x41d09d,_0x5a3b7f);},'JVeaC':_0x584e31(0x20c),'QfCYd':function(_0x48fbb9,_0x5a9b66,_0x5e1642,_0x5f472e,_0x2a2bca,_0x32cb97,_0x357398){return _0x48fbb9(_0x5a9b66,_0x5e1642,_0x5f472e,_0x2a2bca,_0x32cb97,_0x357398);},'AZbsT':_0x584e31(0x200)};try{global_registry['requestId']=_0x4737c0[_0x584e31(0x1f0)](uuidv4),_0x4737c0[_0x584e31(0x1ff)](sendInstrumentationEvent,_0x2ff803,_0x4737c0['zoyuZ'],messageTypes[_0x584e31(0x1d7)],null,null,_0x2ff803);const _0x20fc83=_0x4737c0[_0x584e31(0x1f0)](getDirForConfig);if(!fs[_0x584e31(0x1f3)](_0x20fc83)){if(_0x4737c0[_0x584e31(0x1d8)](_0x4737c0[_0x584e31(0x222)],_0x4737c0['yAhuX'])){const _0x128ce6={};_0x128ce6[_0x584e31(0x1ea)]=_0x4737c0['UeQqH'],_0x128ce6[_0x584e31(0x1e2)]=_0x4737c0[_0x584e31(0x223)];const _0x547308={};_0x547308['description']=_0x4737c0[_0x584e31(0x1d2)],_0x547308[_0x584e31(0x1e2)]=_0x4737c0[_0x584e31(0x223)];const _0x205ae4={};return _0x205ae4[_0x584e31(0x1ca)]=_0x128ce6,_0x205ae4['bstack-accesskey']=_0x547308,_0xe6c186['usage'](_0xa113f0[_0x584e31(0x211)])[_0x584e31(0x217)](_0xed4f2f)[_0x584e31(0x1cb)](_0x205ae4)['recommendCommands']()[_0x584e31(0x1c6)]()['help'](_0x4737c0[_0x584e31(0x1ec)])[_0x584e31(0x1bd)];}else fs[_0x584e31(0x1d4)](_0x20fc83);}let _0x2d210e,_0x360d3b;process['env'][_0x584e31(0x219)]&&(_0x4737c0['NNgQU'](_0x4737c0[_0x584e31(0x1c4)],_0x4737c0[_0x584e31(0x1c4)])?_0x2d210e=process[_0x584e31(0x1e8)][_0x584e31(0x219)]:_0x50ed47=_0x3fa3be[_0x584e31(0x1e8)][_0x584e31(0x1dd)]);process[_0x584e31(0x1e8)][_0x584e31(0x1dd)]&&(_0x4737c0[_0x584e31(0x212)](_0x4737c0[_0x584e31(0x224)],_0x4737c0[_0x584e31(0x224)])?_0x360d3b=process[_0x584e31(0x1e8)][_0x584e31(0x1dd)]:_0x3fc65c=!![]);if(_0x2ff803['bstackUsername']){if(_0x4737c0[_0x584e31(0x1d8)](_0x4737c0[_0x584e31(0x1df)],_0x4737c0[_0x584e31(0x216)])){let _0xa7ba88={};const _0x4477d4=_0x4737c0[_0x584e31(0x20a)](_0x5682e5);_0x160d28[_0x584e31(0x1f3)](_0x4477d4)&&(_0xa7ba88=_0x37dc32[_0x584e31(0x1f1)](_0x5f2970[_0x584e31(0x1d9)](_0x4477d4,_0x4737c0['vwRoD'])));const _0xe6d638={};_0xe6d638['username']=_0x39f5ef,_0xe6d638[_0x584e31(0x20b)]=_0x485277,_0xa7ba88[_0x584e31(0x1c8)]=_0xe6d638,_0x137991[_0x584e31(0x1fc)](_0x4477d4,_0x42be17[_0x584e31(0x1fa)](_0xa7ba88)),_0x24f4be[_0x584e31(0x1d3)](0x0);}else _0x2d210e=_0x2ff803[_0x584e31(0x1fd)];}_0x2ff803[_0x584e31(0x1ef)]&&(_0x4737c0[_0x584e31(0x1ce)](_0x4737c0[_0x584e31(0x1c1)],_0x4737c0[_0x584e31(0x1c1)])?_0x2f167a=_0x3e8161[_0x584e31(0x1f1)](_0x53021a[_0x584e31(0x1d9)](_0x454372,_0x4737c0[_0x584e31(0x1da)])):_0x360d3b=_0x2ff803[_0x584e31(0x1ef)]);if(_0x4737c0[_0x584e31(0x202)](_0x2d210e,undefined)||_0x4737c0[_0x584e31(0x212)](_0x360d3b,undefined)){if(_0x4737c0[_0x584e31(0x1e1)](_0x4737c0[_0x584e31(0x1fe)],_0x4737c0[_0x584e31(0x214)]))_0x31fbe7=_0x4bd574[_0x584e31(0x1ef)];else{logger['debug'](_0x4737c0['FVZgK']);const [_0x2f0695,_0x32d1a4]=await _0x4737c0[_0x584e31(0x1f0)](inputBstackKeys);_0x2d210e=_0x2f0695,_0x360d3b=_0x32d1a4;}}let _0x45cd62=![];const _0x25dfa9='https://'+_0x2d210e+':'+_0x360d3b+'@'+BS_API_URL+'/automate/plan.json',_0x1bf6d5={'method':_0x4737c0[_0x584e31(0x1f6)],'headers':_0x4737c0[_0x584e31(0x1ee)](getAuthHeader,_0x2d210e,_0x360d3b),'throwHttpErrors':![]},_0x5f4fee=await _0x4737c0[_0x584e31(0x1f9)](got,_0x25dfa9,_0x1bf6d5);_0x4737c0['PTqpI'](_0x5f4fee,null)&&_0x4737c0[_0x584e31(0x1ce)](_0x5f4fee,undefined)&&_0x4737c0[_0x584e31(0x1e1)](_0x5f4fee['statusCode'],0xc8)&&(_0x4737c0['dKjux'](_0x4737c0[_0x584e31(0x1db)],_0x4737c0[_0x584e31(0x1c2)])?_0x45cd62=!![]:_0x1920d6=_0x4e0e9b['env']['BROWSERSTACK_USERNAME']);if(_0x45cd62){if(_0x4737c0[_0x584e31(0x1cf)](_0x4737c0[_0x584e31(0x1c9)],_0x4737c0[_0x584e31(0x213)])){let _0x4e70cf={};const _0x30a255=_0x4737c0['EPExg'](getCredentialsPath);fs[_0x584e31(0x1f3)](_0x30a255)&&(_0x4737c0[_0x584e31(0x1ce)](_0x4737c0[_0x584e31(0x21a)],_0x4737c0['qErkR'])?_0x341811=_0x448532['bstackUsername']:_0x4e70cf=JSON['parse'](fs[_0x584e31(0x1d9)](_0x30a255,_0x4737c0[_0x584e31(0x1da)])));const _0x37d106={};_0x37d106[_0x584e31(0x221)]=_0x2d210e,_0x37d106['password']=_0x360d3b,_0x4e70cf[_0x584e31(0x1c8)]=_0x37d106,fs[_0x584e31(0x1fc)](_0x30a255,JSON['stringify'](_0x4e70cf)),process['exit'](0x0);}else _0x14d2fc[_0x584e31(0x1d4)](_0x3e5b80);}else logger[_0x584e31(0x206)](_0x4737c0['jIdAZ']),await _0x4737c0[_0x584e31(0x1bc)](sendInstrumentationEvent,_0x2ff803,_0x4737c0[_0x584e31(0x21e)],messageTypes[_0x584e31(0x1e4)],_0x4737c0[_0x584e31(0x1e0)],null,_0x2ff803),process[_0x584e31(0x1d3)](0x1);}catch(_0x4a5884){logger[_0x584e31(0x206)](_0x4a5884['stack']),await _0x4737c0[_0x584e31(0x1e7)](sendInstrumentationEvent,_0x2ff803,_0x4737c0[_0x584e31(0x21e)],messageTypes[_0x584e31(0x1e4)],_0x4737c0[_0x584e31(0x1c0)],_0x4a5884,_0x2ff803),process[_0x584e31(0x1d3)](0x1);}};