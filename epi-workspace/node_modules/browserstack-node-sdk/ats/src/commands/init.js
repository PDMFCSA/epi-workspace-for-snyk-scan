const a12_0x16f34f=a12_0x220f;(function(_0x311c8e,_0x5aa3c3){const _0x1654fb=a12_0x220f,_0x2bd39e=_0x311c8e();while(!![]){try{const _0x1b44e3=parseInt(_0x1654fb(0x1a7))/0x1*(-parseInt(_0x1654fb(0x1c9))/0x2)+parseInt(_0x1654fb(0x1a6))/0x3+-parseInt(_0x1654fb(0x1e0))/0x4*(-parseInt(_0x1654fb(0x1a3))/0x5)+parseInt(_0x1654fb(0x1d1))/0x6*(parseInt(_0x1654fb(0x1d4))/0x7)+-parseInt(_0x1654fb(0x1c7))/0x8*(parseInt(_0x1654fb(0x1b4))/0x9)+parseInt(_0x1654fb(0x19a))/0xa+parseInt(_0x1654fb(0x1bd))/0xb;if(_0x1b44e3===_0x5aa3c3)break;else _0x2bd39e['push'](_0x2bd39e['shift']());}catch(_0x51bc99){_0x2bd39e['push'](_0x2bd39e['shift']());}}}(a12_0x2a32,0xf0cb9));function a12_0x2a32(){const _0x398354=['BROWSERSTACK_USERNAME','unknown-error','OSZxp','INFO','writeFileSync','description','TVwQf','sOQKo','type','56048zoVLkq','bstack-username','XjFgZ','mkdirSync','usage','Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.','GexLF','coacx','IDbQq','zFLPZ','GdYcz','init','RVSJk','stringify','EeFKf','exit','../config/constants','qRsgX','uGBYL','DFpCW','pzItd','ydsoO','qQahx','password','../utils/utilityMethods','nPGeX','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','BZFDD','1830330FGwfPE','ojuxt','fuwwD','yFpkl','gAJPU','bstackUsername','OFoIH','stack','strict','150vhQwST','RmVOz','init-called','2011698VjUpkw','1FKQiwO','eUuOp','kctkq','aZprB','ERROR','hMbiF','Browserstack','AnpDt','parse','../utils/userInput','cdnRh','Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','oxFlZ','720JjbbzQ','NLsGv','YVuNP','iUycG','bstackAccesskey','readFileSync','/automate/plan.json','options','BROWSERSTACK_ACCESS_KEY','7837940sCsQBr','recommendCommands','uuid','username','bstack-accesskey','env','statusCode','help','QIJgf','utf-8','113736fHbjSu','command','1334890vyRzpl','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','error','qAjCj','CBSSq','ZEMVm','argv','FRzxa','6jjaSMr','string','FdciN','5632221VPBqUU','existsSync','epilogue'];a12_0x2a32=function(){return _0x398354;};return a12_0x2a32();}const fs=require('fs'),util=require('util'),got=require('got'),{v4:uuidv4}=require(a12_0x16f34f(0x1bf)),{logger}=require('../config/logger'),{inputBstackKeys}=require(a12_0x16f34f(0x1b0)),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a12_0x16f34f(0x18e)),{getDirForConfig,getCredentialsPath,getAuthHeader}=require(a12_0x16f34f(0x196)),{sendInstrumentationEvent}=require('../utils/instrumentationUtils');function a12_0x220f(_0x4ae050,_0x4c9272){const _0x2a32fe=a12_0x2a32();return a12_0x220f=function(_0x220f2d,_0xac97d6){_0x220f2d=_0x220f2d-0x183;let _0x1f0c9e=_0x2a32fe[_0x220f2d];return _0x1f0c9e;},a12_0x220f(_0x4ae050,_0x4c9272);}exports[a12_0x16f34f(0x1c8)]=a12_0x16f34f(0x189),exports['desc']=a12_0x16f34f(0x183),exports['builder']=function(_0x38d862){const _0x529c6e=a12_0x16f34f,_0x42eb8f={};_0x42eb8f[_0x529c6e(0x1a8)]=_0x529c6e(0x1ca),_0x42eb8f[_0x529c6e(0x18f)]=_0x529c6e(0x1d2),_0x42eb8f[_0x529c6e(0x1e2)]=_0x529c6e(0x198),_0x42eb8f[_0x529c6e(0x192)]=_0x529c6e(0x1c4);const _0x1089f6=_0x42eb8f,_0x40ae3c={};_0x40ae3c[_0x529c6e(0x1dc)]=_0x1089f6[_0x529c6e(0x1a8)],_0x40ae3c[_0x529c6e(0x1df)]=_0x1089f6['qRsgX'];const _0x1b10f4={};_0x1b10f4[_0x529c6e(0x1dc)]=_0x1089f6['XjFgZ'],_0x1b10f4[_0x529c6e(0x1df)]=_0x1089f6[_0x529c6e(0x18f)];const _0x7294d5={};return _0x7294d5[_0x529c6e(0x1e1)]=_0x40ae3c,_0x7294d5[_0x529c6e(0x1c1)]=_0x1b10f4,_0x38d862[_0x529c6e(0x1e4)](HELP_HEADER_MESSAGE[_0x529c6e(0x189)])[_0x529c6e(0x1d6)](HELP_FOOTER_MESSAGE)[_0x529c6e(0x1bb)](_0x7294d5)[_0x529c6e(0x1be)]()[_0x529c6e(0x1a2)]()[_0x529c6e(0x1c4)](_0x1089f6[_0x529c6e(0x192)])[_0x529c6e(0x1cf)];},exports['handler']=async function(_0x2fb021){const _0x1ebec3=a12_0x16f34f,_0x5375b5={'sOQKo':_0x1ebec3(0x1c6),'yFpkl':function(_0x4a658b){return _0x4a658b();},'NLsGv':'Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','oxFlZ':_0x1ebec3(0x1d2),'ojuxt':_0x1ebec3(0x198),'CGwsY':_0x1ebec3(0x1c4),'cdnRh':function(_0x1630fc,_0xcf03e6,_0xff2f94,_0x3838b4,_0x399d02,_0x2e14ce,_0x46e9b4){return _0x1630fc(_0xcf03e6,_0xff2f94,_0x3838b4,_0x399d02,_0x2e14ce,_0x46e9b4);},'hMbiF':_0x1ebec3(0x1a5),'QIJgf':function(_0x129646,_0x360513){return _0x129646===_0x360513;},'RVSJk':_0x1ebec3(0x18c),'IDbQq':_0x1ebec3(0x1cd),'zFLPZ':function(_0x354f73,_0x34af0a){return _0x354f73!==_0x34af0a;},'coacx':_0x1ebec3(0x190),'BUWJJ':'UllSX','gAJPU':function(_0x8d5567,_0x46b0a1){return _0x8d5567===_0x46b0a1;},'AnpDt':'bFsta','GexLF':function(_0x51ab33,_0xf9b6c4){return _0x51ab33===_0xf9b6c4;},'ZEMVm':function(_0x3b5dfc,_0x469555){return _0x3b5dfc!==_0x469555;},'FRzxa':'xQWVu','oqcLE':'BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','GdYcz':'GET','DFpCW':function(_0x3e8dfc,_0x1c7378,_0x49fd2c){return _0x3e8dfc(_0x1c7378,_0x49fd2c);},'iUycG':function(_0x12acfd,_0x23a437,_0x2c9d75){return _0x12acfd(_0x23a437,_0x2c9d75);},'qQahx':function(_0x3f68e1,_0x405799){return _0x3f68e1!==_0x405799;},'TVwQf':function(_0x5d9dfe,_0x5a1db6){return _0x5d9dfe===_0x5a1db6;},'ydsoO':_0x1ebec3(0x1cc),'RmVOz':function(_0x424a33,_0x363f7b){return _0x424a33!==_0x363f7b;},'OSZxp':_0x1ebec3(0x1b6),'aZprB':function(_0x386c1c){return _0x386c1c();},'ksKqa':_0x1ebec3(0x1a0),'fuwwD':_0x1ebec3(0x197),'kctkq':_0x1ebec3(0x1b2),'BZFDD':'wrong-creds','FdciN':_0x1ebec3(0x1d8)};try{global_registry['requestId']=_0x5375b5[_0x1ebec3(0x19d)](uuidv4),_0x5375b5[_0x1ebec3(0x1b1)](sendInstrumentationEvent,_0x2fb021,_0x5375b5['hMbiF'],messageTypes[_0x1ebec3(0x1da)],null,null,_0x2fb021);const _0x540381=_0x5375b5['yFpkl'](getDirForConfig);!fs[_0x1ebec3(0x1d5)](_0x540381)&&(_0x5375b5[_0x1ebec3(0x1c5)](_0x5375b5[_0x1ebec3(0x18a)],_0x5375b5[_0x1ebec3(0x18a)])?fs[_0x1ebec3(0x1e3)](_0x540381):_0x4ee712=_0x2d8640['parse'](_0x34c7b5['readFileSync'](_0x3b7a99,_0x5375b5[_0x1ebec3(0x1de)])));let _0x2d4838,_0x2a9c33;process[_0x1ebec3(0x1c2)][_0x1ebec3(0x1d7)]&&(_0x5375b5['QIJgf'](_0x5375b5[_0x1ebec3(0x186)],_0x5375b5[_0x1ebec3(0x186)])?_0x2d4838=process[_0x1ebec3(0x1c2)][_0x1ebec3(0x1d7)]:_0x24c861=_0x2e4e27[_0x1ebec3(0x19f)]);process[_0x1ebec3(0x1c2)][_0x1ebec3(0x1bc)]&&(_0x5375b5[_0x1ebec3(0x187)](_0x5375b5['coacx'],_0x5375b5[_0x1ebec3(0x185)])?_0xd923ff=!![]:_0x2a9c33=process[_0x1ebec3(0x1c2)][_0x1ebec3(0x1bc)]);_0x2fb021['bstackUsername']&&(_0x5375b5[_0x1ebec3(0x1c5)](_0x5375b5['BUWJJ'],_0x5375b5['BUWJJ'])?_0x2d4838=_0x2fb021[_0x1ebec3(0x19f)]:_0x1812b3[_0x1ebec3(0x1e3)](_0x577ee8));_0x2fb021['bstackAccesskey']&&(_0x5375b5['gAJPU'](_0x5375b5[_0x1ebec3(0x1ae)],_0x5375b5[_0x1ebec3(0x1ae)])?_0x2a9c33=_0x2fb021['bstackAccesskey']:_0x233e64=_0xf634d1['env'][_0x1ebec3(0x1d7)]);if(_0x5375b5['QIJgf'](_0x2d4838,undefined)||_0x5375b5[_0x1ebec3(0x184)](_0x2a9c33,undefined)){if(_0x5375b5[_0x1ebec3(0x1ce)](_0x5375b5[_0x1ebec3(0x1d0)],_0x5375b5[_0x1ebec3(0x1d0)])){let _0x53cf73={};const _0x3da7ca=_0x5375b5['yFpkl'](_0x2b3b95);_0x2d8fb4['existsSync'](_0x3da7ca)&&(_0x53cf73=_0x2f69a4[_0x1ebec3(0x1af)](_0x202c47[_0x1ebec3(0x1b9)](_0x3da7ca,_0x5375b5['sOQKo'])));const _0x2dd00a={};_0x2dd00a['username']=_0x5c2c02,_0x2dd00a[_0x1ebec3(0x195)]=_0x15c620,_0x53cf73[_0x1ebec3(0x1ad)]=_0x2dd00a,_0x571883[_0x1ebec3(0x1db)](_0x3da7ca,_0x26de60['stringify'](_0x53cf73)),_0x2ef509[_0x1ebec3(0x18d)](0x0);}else{logger['debug'](_0x5375b5['oqcLE']);const [_0x1f1e8e,_0x29a8b9]=await _0x5375b5[_0x1ebec3(0x19d)](inputBstackKeys);_0x2d4838=_0x1f1e8e,_0x2a9c33=_0x29a8b9;}}let _0x4f635f=![];const _0x1ca842='https://'+_0x2d4838+':'+_0x2a9c33+'@'+BS_API_URL+_0x1ebec3(0x1ba),_0x37bd51={'method':_0x5375b5[_0x1ebec3(0x188)],'headers':_0x5375b5[_0x1ebec3(0x191)](getAuthHeader,_0x2d4838,_0x2a9c33),'throwHttpErrors':![]},_0xb8049d=await _0x5375b5[_0x1ebec3(0x1b7)](got,_0x1ca842,_0x37bd51);_0x5375b5['zFLPZ'](_0xb8049d,null)&&_0x5375b5[_0x1ebec3(0x194)](_0xb8049d,undefined)&&_0x5375b5[_0x1ebec3(0x19e)](_0xb8049d[_0x1ebec3(0x1c3)],0xc8)&&(_0x5375b5[_0x1ebec3(0x1dd)](_0x5375b5[_0x1ebec3(0x193)],_0x5375b5['ydsoO'])?_0x4f635f=!![]:_0x3fe78d=_0x685c8f[_0x1ebec3(0x1b8)]);if(_0x4f635f){if(_0x5375b5[_0x1ebec3(0x1a4)](_0x5375b5[_0x1ebec3(0x1d9)],_0x5375b5[_0x1ebec3(0x1d9)])){const _0x11e197={};_0x11e197[_0x1ebec3(0x1dc)]=_0x5375b5[_0x1ebec3(0x1b5)],_0x11e197[_0x1ebec3(0x1df)]=_0x5375b5[_0x1ebec3(0x1b3)];const _0x328151={};_0x328151[_0x1ebec3(0x1dc)]=_0x5375b5[_0x1ebec3(0x19b)],_0x328151[_0x1ebec3(0x1df)]=_0x5375b5['oxFlZ'];const _0x1669c8={};return _0x1669c8[_0x1ebec3(0x1e1)]=_0x11e197,_0x1669c8[_0x1ebec3(0x1c1)]=_0x328151,_0x2fdee8[_0x1ebec3(0x1e4)](_0x79b676[_0x1ebec3(0x189)])[_0x1ebec3(0x1d6)](_0x3a26d0)[_0x1ebec3(0x1bb)](_0x1669c8)[_0x1ebec3(0x1be)]()[_0x1ebec3(0x1a2)]()['help'](_0x5375b5['CGwsY'])[_0x1ebec3(0x1cf)];}else{let _0xa45174={};const _0x3a5a12=_0x5375b5[_0x1ebec3(0x1aa)](getCredentialsPath);fs[_0x1ebec3(0x1d5)](_0x3a5a12)&&(_0x5375b5['gAJPU'](_0x5375b5['ksKqa'],_0x5375b5[_0x1ebec3(0x19c)])?_0x46179f=_0x2928c[_0x1ebec3(0x1c2)][_0x1ebec3(0x1bc)]:_0xa45174=JSON[_0x1ebec3(0x1af)](fs[_0x1ebec3(0x1b9)](_0x3a5a12,_0x5375b5[_0x1ebec3(0x1de)])));const _0x28d693={};_0x28d693[_0x1ebec3(0x1c0)]=_0x2d4838,_0x28d693[_0x1ebec3(0x195)]=_0x2a9c33,_0xa45174['Browserstack']=_0x28d693,fs[_0x1ebec3(0x1db)](_0x3a5a12,JSON[_0x1ebec3(0x18b)](_0xa45174)),process['exit'](0x0);}}else logger[_0x1ebec3(0x1cb)](_0x5375b5[_0x1ebec3(0x1a9)]),await _0x5375b5['cdnRh'](sendInstrumentationEvent,_0x2fb021,_0x5375b5[_0x1ebec3(0x1ac)],messageTypes['ERROR'],_0x5375b5[_0x1ebec3(0x199)],null,_0x2fb021),process[_0x1ebec3(0x18d)](0x1);}catch(_0x9e500c){logger['error'](_0x9e500c[_0x1ebec3(0x1a1)]),await _0x5375b5[_0x1ebec3(0x1b1)](sendInstrumentationEvent,_0x2fb021,_0x5375b5['hMbiF'],messageTypes[_0x1ebec3(0x1ab)],_0x5375b5[_0x1ebec3(0x1d3)],_0x9e500c,_0x2fb021),process['exit'](0x1);}};