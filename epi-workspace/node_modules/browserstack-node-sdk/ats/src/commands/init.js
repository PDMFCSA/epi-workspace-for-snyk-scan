const a12_0x26004c=a12_0x33fc;function a12_0x1609(){const _0x420811=['handler','UbjdI','wZLMd','ZThjV','iEoAM','strict','CmhHr','WfxQf','285048pEqyDq','2963070HHnoYr','Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','parse','epilogue','debug','IpVfw','QYJAi','../utils/userInput','9267475rlmucr','dcvMc','RZhay','bstackUsername','options','bstackAccesskey','../utils/utilityMethods','stack','env','BROWSERSTACK_ACCESS_KEY','type','yxPIH','RfBJI','HRKAF','pWXUo','bLYJR','help','tkDab','stringify','got','ykpkB','Xqoyy','init-called','error','5828850uNXNoA','mkdirSync','dwOLx','rgUkz','LTcJl','bhGhQ','password','wrong-creds','bstack-accesskey','https://','3567015PJMvcq','GET','344Rudxqp','plXRh','exit','kzePK','usage','EwlGQ','INFO','readFileSync','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','string','existsSync','mENpl','zROzK','gMaDc','BROWSERSTACK_USERNAME','statusCode','DSKfD','LKoJf','BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.','Browserstack','bstack-username','desc','WQfdt','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','utf-8','fVpBE','requestId','KSABo','VUBnW','../config/constants','hVGiS','command','bRnIi','../config/logger','wgBer','rjOZP','init','510vPclGb','username','1341471cbuwOV','oZnWk','/automate/plan.json','ERROR','util','description','qBLtt','YgxRw','OuVFG','recommendCommands','writeFileSync','builder','unknown-error','UbNYJ'];a12_0x1609=function(){return _0x420811;};return a12_0x1609();}(function(_0xcf77d2,_0x274739){const _0x4bf578=a12_0x33fc,_0x5eeae2=_0xcf77d2();while(!![]){try{const _0x373126=-parseInt(_0x4bf578(0x7b))/0x1+parseInt(_0x4bf578(0x92))/0x2+parseInt(_0x4bf578(0xbc))/0x3+parseInt(_0x4bf578(0xbe))/0x4*(-parseInt(_0x4bf578(0x79))/0x5)+parseInt(_0x4bf578(0xb2))/0x6+-parseInt(_0x4bf578(0x9a))/0x7+-parseInt(_0x4bf578(0x91))/0x8;if(_0x373126===_0x274739)break;else _0x5eeae2['push'](_0x5eeae2['shift']());}catch(_0x5d4141){_0x5eeae2['push'](_0x5eeae2['shift']());}}}(a12_0x1609,0xe3978));function a12_0x33fc(_0x540bd9,_0x513a46){const _0x1609ce=a12_0x1609();return a12_0x33fc=function(_0x33fc65,_0x4dae22){_0x33fc65=_0x33fc65-0x71;let _0xa4dc5d=_0x1609ce[_0x33fc65];return _0xa4dc5d;},a12_0x33fc(_0x540bd9,_0x513a46);}const fs=require('fs'),util=require(a12_0x26004c(0x7f)),got=require(a12_0x26004c(0xad)),{v4:uuidv4}=require('uuid'),{logger}=require(a12_0x26004c(0x75)),{inputBstackKeys}=require(a12_0x26004c(0x99)),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a12_0x26004c(0x71)),{getDirForConfig,getCredentialsPath,getAuthHeader}=require(a12_0x26004c(0xa0)),{sendInstrumentationEvent}=require('../utils/instrumentationUtils');exports[a12_0x26004c(0x73)]=a12_0x26004c(0x78),exports[a12_0x26004c(0xd4)]=a12_0x26004c(0xd1),exports[a12_0x26004c(0x86)]=function(_0x3933bb){const _0x4f29a0=a12_0x26004c,_0x1e6dd2={};_0x1e6dd2[_0x4f29a0(0x97)]=_0x4f29a0(0xd6),_0x1e6dd2[_0x4f29a0(0xca)]='string',_0x1e6dd2['LTcJl']=_0x4f29a0(0xc6),_0x1e6dd2[_0x4f29a0(0x8c)]=_0x4f29a0(0xaa);const _0x3aa290=_0x1e6dd2,_0x136404={};_0x136404[_0x4f29a0(0x80)]=_0x3aa290[_0x4f29a0(0x97)],_0x136404[_0x4f29a0(0xa4)]=_0x3aa290[_0x4f29a0(0xca)];const _0x5eeb50={};_0x5eeb50[_0x4f29a0(0x80)]=_0x3aa290[_0x4f29a0(0xb6)],_0x5eeb50[_0x4f29a0(0xa4)]=_0x3aa290[_0x4f29a0(0xca)];const _0xd4be1b={};return _0xd4be1b[_0x4f29a0(0xd3)]=_0x136404,_0xd4be1b[_0x4f29a0(0xba)]=_0x5eeb50,_0x3933bb[_0x4f29a0(0xc2)](HELP_HEADER_MESSAGE[_0x4f29a0(0x78)])[_0x4f29a0(0x95)](HELP_FOOTER_MESSAGE)[_0x4f29a0(0x9e)](_0xd4be1b)[_0x4f29a0(0x84)]()[_0x4f29a0(0x8e)]()[_0x4f29a0(0xaa)](_0x3aa290[_0x4f29a0(0x8c)])['argv'];},exports[a12_0x26004c(0x89)]=async function(_0x772764){const _0x3b09c4=a12_0x26004c,_0x35c7d8={'euYdr':'Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','yhCIV':_0x3b09c4(0xc7),'VUBnW':'Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','plXRh':'help','DSKfD':function(_0x1b4b2e){return _0x1b4b2e();},'EwlGQ':_0x3b09c4(0xd7),'WQfdt':function(_0x4c2875){return _0x4c2875();},'dwOLx':function(_0x31084f,_0x30fe1e,_0x2681fc,_0x245562,_0x3f1922,_0x39573b,_0x49bb73){return _0x31084f(_0x30fe1e,_0x2681fc,_0x245562,_0x3f1922,_0x39573b,_0x49bb73);},'bLYJR':_0x3b09c4(0xb0),'dcvMc':function(_0x17b344,_0x24fc97){return _0x17b344!==_0x24fc97;},'Xqoyy':_0x3b09c4(0xcb),'qBLtt':'OkwRC','WfxQf':_0x3b09c4(0x8f),'rgUkz':_0x3b09c4(0xd8),'KSABo':function(_0x30f573,_0x272b35){return _0x30f573===_0x272b35;},'wgBer':_0x3b09c4(0xa7),'NIaZv':'XFgsm','jUxjF':_0x3b09c4(0xa5),'pWXUo':'pTCCo','hVGiS':function(_0x421afb,_0x34626c){return _0x421afb===_0x34626c;},'iEoAM':'XGKbd','rjOZP':_0x3b09c4(0x88),'mENpl':_0x3b09c4(0xd0),'RfBJI':_0x3b09c4(0xbd),'CCqWg':function(_0x1a18a1,_0x38235f,_0x5cf57d){return _0x1a18a1(_0x38235f,_0x5cf57d);},'wZLMd':function(_0x2cf2a8,_0x3bf6aa,_0x4e95ba){return _0x2cf2a8(_0x3bf6aa,_0x4e95ba);},'QYJAi':function(_0x4e783d,_0x2130ad){return _0x4e783d!==_0x2130ad;},'UbjdI':'htXTF','tkDab':function(_0x1fae34,_0x57312d){return _0x1fae34===_0x57312d;},'OuVFG':_0x3b09c4(0x74),'OvjFZ':_0x3b09c4(0xc1),'YgxRw':function(_0x4c7963){return _0x4c7963();},'RZhay':_0x3b09c4(0xb7),'fYnPZ':_0x3b09c4(0x93),'oZnWk':function(_0x1bf26,_0x289434,_0x1ea5ea,_0x1ee0bd,_0x47bede,_0xdf5065,_0x14d564){return _0x1bf26(_0x289434,_0x1ea5ea,_0x1ee0bd,_0x47bede,_0xdf5065,_0x14d564);},'ykpkB':_0x3b09c4(0xb9),'hZbva':function(_0x225c52,_0x2a3cf3,_0x24c2c4,_0xbac624,_0x12842e,_0x45e2a0,_0x4af251){return _0x225c52(_0x2a3cf3,_0x24c2c4,_0xbac624,_0x12842e,_0x45e2a0,_0x4af251);},'LKoJf':_0x3b09c4(0x87)};try{global_registry[_0x3b09c4(0xd9)]=_0x35c7d8[_0x3b09c4(0xd5)](uuidv4),_0x35c7d8[_0x3b09c4(0xb4)](sendInstrumentationEvent,_0x772764,_0x35c7d8[_0x3b09c4(0xa9)],messageTypes[_0x3b09c4(0xc4)],null,null,_0x772764);const _0x16ce58=_0x35c7d8['WQfdt'](getDirForConfig);!fs[_0x3b09c4(0xc8)](_0x16ce58)&&(_0x35c7d8['dcvMc'](_0x35c7d8[_0x3b09c4(0xaf)],_0x35c7d8[_0x3b09c4(0xaf)])?_0x1f0412=_0x519b43[_0x3b09c4(0x9d)]:fs[_0x3b09c4(0xb3)](_0x16ce58));let _0x89425d,_0x1d1910;if(process[_0x3b09c4(0xa2)]['BROWSERSTACK_USERNAME']){if(_0x35c7d8[_0x3b09c4(0x9b)](_0x35c7d8[_0x3b09c4(0x81)],_0x35c7d8[_0x3b09c4(0x90)]))_0x89425d=process[_0x3b09c4(0xa2)][_0x3b09c4(0xcc)];else{const _0x4d8101={};_0x4d8101[_0x3b09c4(0x80)]=_0x35c7d8['euYdr'],_0x4d8101[_0x3b09c4(0xa4)]=_0x35c7d8['yhCIV'];const _0x22d8a9={};_0x22d8a9[_0x3b09c4(0x80)]=_0x35c7d8[_0x3b09c4(0xdb)],_0x22d8a9['type']=_0x35c7d8['yhCIV'];const _0x181d34={};return _0x181d34['bstack-username']=_0x4d8101,_0x181d34[_0x3b09c4(0xba)]=_0x22d8a9,_0x372f2a[_0x3b09c4(0xc2)](_0x133a27[_0x3b09c4(0x78)])[_0x3b09c4(0x95)](_0x166bbb)[_0x3b09c4(0x9e)](_0x181d34)['recommendCommands']()['strict']()[_0x3b09c4(0xaa)](_0x35c7d8[_0x3b09c4(0xbf)])['argv'];}}if(process[_0x3b09c4(0xa2)][_0x3b09c4(0xa3)]){if(_0x35c7d8[_0x3b09c4(0x9b)](_0x35c7d8[_0x3b09c4(0xb5)],_0x35c7d8[_0x3b09c4(0xb5)])){let _0x5eb809={};const _0x35f5f1=_0x35c7d8[_0x3b09c4(0xce)](_0x3de956);_0x792fa0[_0x3b09c4(0xc8)](_0x35f5f1)&&(_0x5eb809=_0x172281[_0x3b09c4(0x94)](_0x244bc7['readFileSync'](_0x35f5f1,_0x35c7d8[_0x3b09c4(0xc3)])));const _0x4d46eb={};_0x4d46eb[_0x3b09c4(0x7a)]=_0x2f8ed9,_0x4d46eb[_0x3b09c4(0xb8)]=_0x36dd2e,_0x5eb809[_0x3b09c4(0xd2)]=_0x4d46eb,_0x21f4f2[_0x3b09c4(0x85)](_0x35f5f1,_0x150e81[_0x3b09c4(0xac)](_0x5eb809)),_0x1670db[_0x3b09c4(0xc0)](0x0);}else _0x1d1910=process[_0x3b09c4(0xa2)][_0x3b09c4(0xa3)];}_0x772764[_0x3b09c4(0x9d)]&&(_0x35c7d8[_0x3b09c4(0xda)](_0x35c7d8[_0x3b09c4(0x76)],_0x35c7d8['NIaZv'])?_0x57b261=_0x186cf4['env'][_0x3b09c4(0xcc)]:_0x89425d=_0x772764['bstackUsername']);_0x772764[_0x3b09c4(0x9f)]&&(_0x35c7d8[_0x3b09c4(0x9b)](_0x35c7d8['jUxjF'],_0x35c7d8[_0x3b09c4(0xa8)])?_0x1d1910=_0x772764[_0x3b09c4(0x9f)]:_0x4c3dfd=_0x2f09b5['bstackAccesskey']);if(_0x35c7d8[_0x3b09c4(0x72)](_0x89425d,undefined)||_0x35c7d8[_0x3b09c4(0xda)](_0x1d1910,undefined)){if(_0x35c7d8[_0x3b09c4(0x9b)](_0x35c7d8[_0x3b09c4(0x8d)],_0x35c7d8[_0x3b09c4(0x77)])){logger[_0x3b09c4(0x96)](_0x35c7d8[_0x3b09c4(0xc9)]);const [_0x3a54df,_0x2102f0]=await _0x35c7d8[_0x3b09c4(0xd5)](inputBstackKeys);_0x89425d=_0x3a54df,_0x1d1910=_0x2102f0;}else _0x3d7be8=_0x1aac2b[_0x3b09c4(0xa2)][_0x3b09c4(0xa3)];}let _0xcd7793=![];const _0x3cce7c=_0x3b09c4(0xbb)+_0x89425d+':'+_0x1d1910+'@'+BS_API_URL+_0x3b09c4(0x7d),_0x36b3ec={'method':_0x35c7d8[_0x3b09c4(0xa6)],'headers':_0x35c7d8['CCqWg'](getAuthHeader,_0x89425d,_0x1d1910),'throwHttpErrors':![]},_0x41812a=await _0x35c7d8[_0x3b09c4(0x8b)](got,_0x3cce7c,_0x36b3ec);_0x35c7d8[_0x3b09c4(0x98)](_0x41812a,null)&&_0x35c7d8['dcvMc'](_0x41812a,undefined)&&_0x35c7d8['hVGiS'](_0x41812a[_0x3b09c4(0xcd)],0xc8)&&(_0x35c7d8[_0x3b09c4(0x72)](_0x35c7d8[_0x3b09c4(0x8a)],_0x35c7d8[_0x3b09c4(0x8a)])?_0xcd7793=!![]:_0x427efe=_0x5599cb[_0x3b09c4(0x94)](_0x576adb[_0x3b09c4(0xc5)](_0x1ce639,_0x35c7d8['EwlGQ'])));if(_0xcd7793){if(_0x35c7d8['tkDab'](_0x35c7d8[_0x3b09c4(0x83)],_0x35c7d8['OvjFZ']))_0x8fd6f2['mkdirSync'](_0x12734e);else{let _0xe22c11={};const _0x5296c7=_0x35c7d8[_0x3b09c4(0x82)](getCredentialsPath);fs[_0x3b09c4(0xc8)](_0x5296c7)&&(_0x35c7d8[_0x3b09c4(0xab)](_0x35c7d8[_0x3b09c4(0x9c)],_0x35c7d8[_0x3b09c4(0x9c)])?_0xe22c11=JSON[_0x3b09c4(0x94)](fs[_0x3b09c4(0xc5)](_0x5296c7,_0x35c7d8['EwlGQ'])):_0x44c799=!![]);const _0x1846d9={};_0x1846d9[_0x3b09c4(0x7a)]=_0x89425d,_0x1846d9['password']=_0x1d1910,_0xe22c11[_0x3b09c4(0xd2)]=_0x1846d9,fs[_0x3b09c4(0x85)](_0x5296c7,JSON[_0x3b09c4(0xac)](_0xe22c11)),process['exit'](0x0);}}else logger[_0x3b09c4(0xb1)](_0x35c7d8['fYnPZ']),await _0x35c7d8[_0x3b09c4(0x7c)](sendInstrumentationEvent,_0x772764,_0x35c7d8[_0x3b09c4(0xa9)],messageTypes[_0x3b09c4(0x7e)],_0x35c7d8[_0x3b09c4(0xae)],null,_0x772764),process['exit'](0x1);}catch(_0x3e6fe5){logger[_0x3b09c4(0xb1)](_0x3e6fe5[_0x3b09c4(0xa1)]),await _0x35c7d8['hZbva'](sendInstrumentationEvent,_0x772764,_0x35c7d8['bLYJR'],messageTypes[_0x3b09c4(0x7e)],_0x35c7d8[_0x3b09c4(0xcf)],_0x3e6fe5,_0x772764),process['exit'](0x1);}};