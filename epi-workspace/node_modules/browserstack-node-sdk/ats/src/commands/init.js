const a12_0xe3d3ab=a12_0x4320;function a12_0x2a1d(){const _0x1465a0=['unknown-error','init-called','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','readFileSync','MkjFJ','ZPWuG','command','lUTvg','stringify','init','tzqdI','tYNQz','153967gorsxq','KNNdk','bstack-username','fDYWX','JohgT','zkgla','kpChA','../config/logger','fGJKK','strict','UGJnl','recommendCommands','type','epQzJ','GvcGJ','PXqoM','4250EaMGMZ','bstackAccesskey','3218070gcupse','exit','7658408ePMPmE','fdFPk','bstack-accesskey','password','LetDc','253JMtTkk','BROWSERSTACK_ACCESS_KEY','pQJZT','wtZWw','aMvCN','writeFileSync','epilogue','zjeCP','iAtxH','QUdUJ','argv','Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.','usage','../config/constants','requestId','parse','string','TNGSR','123FYnSPC','Tifbv','xPWhJ','got','handler','../utils/instrumentationUtils','../utils/userInput','irpfb','bycmH','EbSvf','GBrBW','existsSync','statusCode','INFO','5007436LEMsXW','env','description','mkdirSync','130UgNaSR','GET','851841pqfdqs','QOfFI','824cEczIc','desc','KXtYY','help','username','BROWSERSTACK_USERNAME','giYBg','CySwM','5wUiceC','DBJpy','KdYgN','Browserstack','VFdAf','options','bstackUsername','/automate/plan.json','scPZa','vanEp','ERROR','uuid','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','XXSDE','builder','AYcNz'];a12_0x2a1d=function(){return _0x1465a0;};return a12_0x2a1d();}(function(_0xc453e8,_0x5dc23b){const _0x10d5cd=a12_0x4320,_0x4aa5de=_0xc453e8();while(!![]){try{const _0x222e5d=parseInt(_0x10d5cd(0x226))/0x1*(-parseInt(_0x10d5cd(0x21d))/0x2)+parseInt(_0x10d5cd(0x238))/0x3*(parseInt(_0x10d5cd(0x24e))/0x4)+parseInt(_0x10d5cd(0x1f1))/0x5*(-parseInt(_0x10d5cd(0x21f))/0x6)+parseInt(_0x10d5cd(0x246))/0x7+parseInt(_0x10d5cd(0x221))/0x8+-parseInt(_0x10d5cd(0x24c))/0x9+-parseInt(_0x10d5cd(0x24a))/0xa*(-parseInt(_0x10d5cd(0x20d))/0xb);if(_0x222e5d===_0x5dc23b)break;else _0x4aa5de['push'](_0x4aa5de['shift']());}catch(_0x52be0e){_0x4aa5de['push'](_0x4aa5de['shift']());}}}(a12_0x2a1d,0xa98a5));const fs=require('fs'),util=require('util'),got=require(a12_0xe3d3ab(0x23b)),{v4:uuidv4}=require(a12_0xe3d3ab(0x1fc)),{logger}=require(a12_0xe3d3ab(0x214)),{inputBstackKeys}=require(a12_0xe3d3ab(0x23e)),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a12_0xe3d3ab(0x233)),{getDirForConfig,getCredentialsPath,getAuthHeader}=require('../utils/utilityMethods'),{sendInstrumentationEvent}=require(a12_0xe3d3ab(0x23d));function a12_0x4320(_0x12373a,_0x5cedf9){const _0x2a1d20=a12_0x2a1d();return a12_0x4320=function(_0x4320ef,_0x27463e){_0x4320ef=_0x4320ef-0x1ec;let _0x52af84=_0x2a1d20[_0x4320ef];return _0x52af84;},a12_0x4320(_0x12373a,_0x5cedf9);}exports[a12_0xe3d3ab(0x207)]=a12_0xe3d3ab(0x20a),exports[a12_0xe3d3ab(0x24f)]=a12_0xe3d3ab(0x231),exports[a12_0xe3d3ab(0x1ff)]=function(_0x3ce4b8){const _0x4e199c=a12_0xe3d3ab,_0x2173b6={};_0x2173b6['Tifbv']=_0x4e199c(0x203),_0x2173b6['epQzJ']=_0x4e199c(0x236),_0x2173b6[_0x4e199c(0x23f)]=_0x4e199c(0x1fd),_0x2173b6[_0x4e199c(0x22d)]=_0x4e199c(0x1ec);const _0x654e37=_0x2173b6,_0x20d394={};_0x20d394[_0x4e199c(0x248)]=_0x654e37[_0x4e199c(0x239)],_0x20d394[_0x4e199c(0x219)]=_0x654e37['epQzJ'];const _0x45616e={};_0x45616e[_0x4e199c(0x248)]=_0x654e37[_0x4e199c(0x23f)],_0x45616e[_0x4e199c(0x219)]=_0x654e37[_0x4e199c(0x21a)];const _0x81c12={};return _0x81c12[_0x4e199c(0x20f)]=_0x20d394,_0x81c12[_0x4e199c(0x223)]=_0x45616e,_0x3ce4b8[_0x4e199c(0x232)](HELP_HEADER_MESSAGE[_0x4e199c(0x20a)])[_0x4e199c(0x22c)](HELP_FOOTER_MESSAGE)[_0x4e199c(0x1f6)](_0x81c12)[_0x4e199c(0x218)]()[_0x4e199c(0x216)]()[_0x4e199c(0x1ec)](_0x654e37[_0x4e199c(0x22d)])[_0x4e199c(0x230)];},exports[a12_0xe3d3ab(0x23c)]=async function(_0x60544e){const _0x2ba1b7=a12_0xe3d3ab,_0x1e21aa={'ZPWuG':'utf-8','KdYgN':function(_0x18cd86){return _0x18cd86();},'GvcGJ':_0x2ba1b7(0x203),'LDDzT':_0x2ba1b7(0x236),'ivowp':_0x2ba1b7(0x1fd),'MkjFJ':'help','foxSw':function(_0x21db61){return _0x21db61();},'ArXlR':function(_0x56ec11,_0x5d4333,_0x2316d0,_0x2219ea,_0x29da8c,_0x5f03de,_0x1f7666){return _0x56ec11(_0x5d4333,_0x2316d0,_0x2219ea,_0x29da8c,_0x5f03de,_0x1f7666);},'KNNdk':_0x2ba1b7(0x202),'lUTvg':function(_0x586c21,_0xcc1ae1){return _0x586c21!==_0xcc1ae1;},'TNGSR':_0x2ba1b7(0x22f),'giYBg':_0x2ba1b7(0x1fa),'fdFPk':function(_0x16431b,_0x5d9d64){return _0x16431b===_0x5d9d64;},'VFdAf':'kGMth','pQJZT':_0x2ba1b7(0x23a),'KXtYY':function(_0x529886,_0x1aab4f){return _0x529886===_0x1aab4f;},'jfNOO':_0x2ba1b7(0x213),'fGJKK':'HSpqY','ezMUA':_0x2ba1b7(0x1f9),'CySwM':_0x2ba1b7(0x1fe),'uubCK':function(_0xe8cf09,_0x402d8a){return _0xe8cf09===_0x402d8a;},'LetDc':_0x2ba1b7(0x217),'tzqdI':'BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','bycmH':_0x2ba1b7(0x24b),'wtZWw':function(_0x1f16b9,_0x5ab1aa,_0x1e82ac){return _0x1f16b9(_0x5ab1aa,_0x1e82ac);},'ZdYdr':function(_0x2e1163,_0x23171f,_0x1f8864){return _0x2e1163(_0x23171f,_0x1f8864);},'JohgT':function(_0x594204,_0x45821e){return _0x594204!==_0x45821e;},'Xaers':function(_0x58e7db,_0x4232b6){return _0x58e7db!==_0x4232b6;},'fDYWX':_0x2ba1b7(0x200),'QOfFI':'hUjPv','GBrBW':_0x2ba1b7(0x22e),'zkgla':'IJUgG','aMvCN':_0x2ba1b7(0x241),'DBJpy':'Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','tYNQz':function(_0x57f381,_0x487cf7,_0x22e6a7,_0x178359,_0x5e83aa,_0x54a0a0,_0x45931e){return _0x57f381(_0x487cf7,_0x22e6a7,_0x178359,_0x5e83aa,_0x54a0a0,_0x45931e);},'WgpEc':'wrong-creds','PXqoM':_0x2ba1b7(0x201)};try{global_registry[_0x2ba1b7(0x234)]=_0x1e21aa['foxSw'](uuidv4),_0x1e21aa['ArXlR'](sendInstrumentationEvent,_0x60544e,_0x1e21aa[_0x2ba1b7(0x20e)],messageTypes[_0x2ba1b7(0x245)],null,null,_0x60544e);const _0x1958f4=_0x1e21aa[_0x2ba1b7(0x1f3)](getDirForConfig);!fs[_0x2ba1b7(0x243)](_0x1958f4)&&(_0x1e21aa['lUTvg'](_0x1e21aa[_0x2ba1b7(0x237)],_0x1e21aa[_0x2ba1b7(0x1ef)])?fs[_0x2ba1b7(0x249)](_0x1958f4):_0x54a323=_0x2070ac[_0x2ba1b7(0x247)]['BROWSERSTACK_ACCESS_KEY']);let _0x5857f6,_0xcc4f2e;process[_0x2ba1b7(0x247)][_0x2ba1b7(0x1ee)]&&(_0x1e21aa['fdFPk'](_0x1e21aa[_0x2ba1b7(0x1f5)],_0x1e21aa[_0x2ba1b7(0x1f5)])?_0x5857f6=process[_0x2ba1b7(0x247)][_0x2ba1b7(0x1ee)]:_0x17959f=_0xbf4594[_0x2ba1b7(0x1f7)]);process[_0x2ba1b7(0x247)][_0x2ba1b7(0x227)]&&(_0x1e21aa['fdFPk'](_0x1e21aa[_0x2ba1b7(0x228)],_0x1e21aa[_0x2ba1b7(0x228)])?_0xcc4f2e=process[_0x2ba1b7(0x247)]['BROWSERSTACK_ACCESS_KEY']:_0x1d623a['mkdirSync'](_0x221419));_0x60544e[_0x2ba1b7(0x1f7)]&&(_0x1e21aa[_0x2ba1b7(0x250)](_0x1e21aa['jfNOO'],_0x1e21aa[_0x2ba1b7(0x215)])?_0x4faca0=!![]:_0x5857f6=_0x60544e['bstackUsername']);_0x60544e[_0x2ba1b7(0x21e)]&&(_0x1e21aa[_0x2ba1b7(0x250)](_0x1e21aa['ezMUA'],_0x1e21aa[_0x2ba1b7(0x1f0)])?_0x3ba4f4=_0x2a900a[_0x2ba1b7(0x235)](_0x10231f['readFileSync'](_0x21c0cd,_0x1e21aa[_0x2ba1b7(0x206)])):_0xcc4f2e=_0x60544e[_0x2ba1b7(0x21e)]);if(_0x1e21aa[_0x2ba1b7(0x222)](_0x5857f6,undefined)||_0x1e21aa['uubCK'](_0xcc4f2e,undefined)){if(_0x1e21aa[_0x2ba1b7(0x208)](_0x1e21aa[_0x2ba1b7(0x225)],_0x1e21aa['LetDc'])){let _0x5734f5={};const _0x33c348=_0x1e21aa['KdYgN'](_0x149980);_0x339d9b['existsSync'](_0x33c348)&&(_0x5734f5=_0x18f3f0[_0x2ba1b7(0x235)](_0x246f5b[_0x2ba1b7(0x204)](_0x33c348,_0x1e21aa[_0x2ba1b7(0x206)])));const _0x6a2123={};_0x6a2123['username']=_0x11eb6f,_0x6a2123['password']=_0x122ef1,_0x5734f5[_0x2ba1b7(0x1f4)]=_0x6a2123,_0x1ef32d['writeFileSync'](_0x33c348,_0x5ceda6['stringify'](_0x5734f5)),_0x2257ee['exit'](0x0);}else{logger['debug'](_0x1e21aa[_0x2ba1b7(0x20b)]);const [_0x58d86c,_0x54d15d]=await _0x1e21aa['foxSw'](inputBstackKeys);_0x5857f6=_0x58d86c,_0xcc4f2e=_0x54d15d;}}let _0x4d984f=![];const _0x3b6fbf='https://'+_0x5857f6+':'+_0xcc4f2e+'@'+BS_API_URL+_0x2ba1b7(0x1f8),_0x16cf12={'method':_0x1e21aa[_0x2ba1b7(0x240)],'headers':_0x1e21aa[_0x2ba1b7(0x229)](getAuthHeader,_0x5857f6,_0xcc4f2e),'throwHttpErrors':![]},_0x52d22c=await _0x1e21aa['ZdYdr'](got,_0x3b6fbf,_0x16cf12);_0x1e21aa[_0x2ba1b7(0x211)](_0x52d22c,null)&&_0x1e21aa['Xaers'](_0x52d22c,undefined)&&_0x1e21aa[_0x2ba1b7(0x250)](_0x52d22c[_0x2ba1b7(0x244)],0xc8)&&(_0x1e21aa['KXtYY'](_0x1e21aa[_0x2ba1b7(0x210)],_0x1e21aa[_0x2ba1b7(0x24d)])?_0x1b7fc8=_0x1e7a47[_0x2ba1b7(0x247)]['BROWSERSTACK_USERNAME']:_0x4d984f=!![]);if(_0x4d984f){if(_0x1e21aa['JohgT'](_0x1e21aa[_0x2ba1b7(0x242)],_0x1e21aa[_0x2ba1b7(0x212)])){let _0x278f12={};const _0x53374c=_0x1e21aa[_0x2ba1b7(0x1f3)](getCredentialsPath);fs[_0x2ba1b7(0x243)](_0x53374c)&&(_0x1e21aa[_0x2ba1b7(0x250)](_0x1e21aa[_0x2ba1b7(0x22a)],_0x1e21aa['aMvCN'])?_0x278f12=JSON[_0x2ba1b7(0x235)](fs['readFileSync'](_0x53374c,_0x1e21aa[_0x2ba1b7(0x206)])):_0x4b2ddc=_0x2c617f[_0x2ba1b7(0x21e)]);const _0x2771df={};_0x2771df[_0x2ba1b7(0x1ed)]=_0x5857f6,_0x2771df[_0x2ba1b7(0x224)]=_0xcc4f2e,_0x278f12['Browserstack']=_0x2771df,fs[_0x2ba1b7(0x22b)](_0x53374c,JSON[_0x2ba1b7(0x209)](_0x278f12)),process['exit'](0x0);}else{const _0x40ae80={};_0x40ae80[_0x2ba1b7(0x248)]=_0x1e21aa[_0x2ba1b7(0x21b)],_0x40ae80[_0x2ba1b7(0x219)]=_0x1e21aa['LDDzT'];const _0x8acc93={};_0x8acc93['description']=_0x1e21aa['ivowp'],_0x8acc93[_0x2ba1b7(0x219)]=_0x1e21aa['LDDzT'];const _0x513e3d={};return _0x513e3d[_0x2ba1b7(0x20f)]=_0x40ae80,_0x513e3d[_0x2ba1b7(0x223)]=_0x8acc93,_0x4547d3[_0x2ba1b7(0x232)](_0x5879fc[_0x2ba1b7(0x20a)])['epilogue'](_0x1a97de)['options'](_0x513e3d)[_0x2ba1b7(0x218)]()[_0x2ba1b7(0x216)]()[_0x2ba1b7(0x1ec)](_0x1e21aa[_0x2ba1b7(0x205)])[_0x2ba1b7(0x230)];}}else logger['error'](_0x1e21aa[_0x2ba1b7(0x1f2)]),await _0x1e21aa['tYNQz'](sendInstrumentationEvent,_0x60544e,_0x1e21aa[_0x2ba1b7(0x20e)],messageTypes['ERROR'],_0x1e21aa['WgpEc'],null,_0x60544e),process[_0x2ba1b7(0x220)](0x1);}catch(_0x25c23d){logger['error'](_0x25c23d['stack']),await _0x1e21aa[_0x2ba1b7(0x20c)](sendInstrumentationEvent,_0x60544e,_0x1e21aa[_0x2ba1b7(0x20e)],messageTypes[_0x2ba1b7(0x1fb)],_0x1e21aa[_0x2ba1b7(0x21c)],_0x25c23d,_0x60544e),process[_0x2ba1b7(0x220)](0x1);}};