const a12_0x2ade79=a12_0x276b;function a12_0x276b(_0x5e8264,_0x1c84b9){const _0x434280=a12_0x4342();return a12_0x276b=function(_0x276bbb,_0x595ce5){_0x276bbb=_0x276bbb-0x123;let _0x2eb59d=_0x434280[_0x276bbb];return _0x2eb59d;},a12_0x276b(_0x5e8264,_0x1c84b9);}function a12_0x4342(){const _0x57c47d=['command','GVezK','vkGnq','exit','ueRMg','OQkRK','2412UXkGpc','usage','hAPZp','3864wyQYjr','ERROR','BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','RJhMj','aLNwy','nrKBt','5576210qUaWci','3674082GekRFi','epilogue','MIYFH','SsUlk','INFO','Orwpr','JPEfb','EPjiA','description','AtVOf','mkdirSync','ibVPF','pkIkQ','GiHQS','zsbMK','slJbk','pQPpJ','password','stringify','sblEL','qtMuB','154EqrlMk','EvnwA','desc','recommendCommands','readFileSync','bstackUsername','bstackAccesskey','type','JfiaH','2mUUQFd','ugpMU','statusCode','KaMZe','PeroR','wrong-creds','NaaZu','Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','Browserstack','writeFileSync','bstack-accesskey','BROWSERSTACK_USERNAME','BROWSERSTACK_ACCESS_KEY','rYBWB','KhNIv','MXrMK','mKpeK','string','VEAwx','../config/logger','init','env','options','qKSBI','utf-8','FEzhd','UnjUF','kEKtK','1125624jkSUNX','existsSync','error','URvta','SEXhX','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','username','strict','PpZeb','475482JAmxvD','../utils/instrumentationUtils','ctMBq','parse','/automate/plan.json','haLvX','help','avZzr','573304uJhAuK','lqNCR','builder','bstack-username','247653GZXNuH','got','DuJSC','../utils/utilityMethods','requestId','lOVQJ','wNJnc','hmdQM','init-called','handler','util','CqFSr','7kLwfuX','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','unknown-error','10oEfxCi','argv'];a12_0x4342=function(){return _0x57c47d;};return a12_0x4342();}(function(_0x79a903,_0x2414de){const _0x4c76a1=a12_0x276b,_0x43e565=_0x79a903();while(!![]){try{const _0x199d8d=parseInt(_0x4c76a1(0x166))/0x1*(-parseInt(_0x4c76a1(0x18b))/0x2)+-parseInt(_0x4c76a1(0x13e))/0x3*(parseInt(_0x4c76a1(0x141))/0x4)+parseInt(_0x4c76a1(0x147))/0x5+parseInt(_0x4c76a1(0x148))/0x6*(-parseInt(_0x4c76a1(0x133))/0x7)+parseInt(_0x4c76a1(0x123))/0x8+parseInt(_0x4c76a1(0x127))/0x9*(-parseInt(_0x4c76a1(0x136))/0xa)+-parseInt(_0x4c76a1(0x15d))/0xb*(-parseInt(_0x4c76a1(0x182))/0xc);if(_0x199d8d===_0x2414de)break;else _0x43e565['push'](_0x43e565['shift']());}catch(_0x400ada){_0x43e565['push'](_0x43e565['shift']());}}}(a12_0x4342,0x9477b));const fs=require('fs'),util=require(a12_0x2ade79(0x131)),got=require(a12_0x2ade79(0x128)),{v4:uuidv4}=require('uuid'),{logger}=require(a12_0x2ade79(0x179)),{inputBstackKeys}=require('../utils/userInput'),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require('../config/constants'),{getDirForConfig,getCredentialsPath,getAuthHeader}=require(a12_0x2ade79(0x12a)),{sendInstrumentationEvent}=require(a12_0x2ade79(0x18c));exports[a12_0x2ade79(0x138)]=a12_0x2ade79(0x17a),exports[a12_0x2ade79(0x15f)]='Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.',exports[a12_0x2ade79(0x125)]=function(_0xaae269){const _0x19572a=a12_0x2ade79,_0x2a655f={};_0x2a655f['vkGnq']=_0x19572a(0x134),_0x2a655f['udoin']=_0x19572a(0x177),_0x2a655f[_0x19572a(0x153)]=_0x19572a(0x187),_0x2a655f[_0x19572a(0x157)]='help';const _0x253567=_0x2a655f,_0x5a7855={};_0x5a7855[_0x19572a(0x150)]=_0x253567[_0x19572a(0x13a)],_0x5a7855[_0x19572a(0x164)]=_0x253567['udoin'];const _0x5e76ac={};_0x5e76ac[_0x19572a(0x150)]=_0x253567['ibVPF'],_0x5e76ac[_0x19572a(0x164)]=_0x253567['udoin'];const _0x5f1342={};return _0x5f1342[_0x19572a(0x126)]=_0x5a7855,_0x5f1342[_0x19572a(0x170)]=_0x5e76ac,_0xaae269[_0x19572a(0x13f)](HELP_HEADER_MESSAGE[_0x19572a(0x17a)])[_0x19572a(0x149)](HELP_FOOTER_MESSAGE)['options'](_0x5f1342)[_0x19572a(0x160)]()[_0x19572a(0x189)]()[_0x19572a(0x191)](_0x253567[_0x19572a(0x157)])[_0x19572a(0x137)];},exports[a12_0x2ade79(0x130)]=async function(_0x319167){const _0x39fe15=a12_0x2ade79,_0x520f5b={'wIfRv':_0x39fe15(0x134),'FEzhd':_0x39fe15(0x177),'zsbMK':_0x39fe15(0x187),'MXrMK':'help','mKpeK':function(_0x23469e){return _0x23469e();},'PpZeb':_0x39fe15(0x17e),'EvnwA':function(_0x2d53da){return _0x2d53da();},'OQkRK':function(_0x322be9,_0x3bab7b,_0x3ae5ee,_0x4df736,_0x402d9f,_0x59131f,_0x56570a){return _0x322be9(_0x3bab7b,_0x3ae5ee,_0x4df736,_0x402d9f,_0x59131f,_0x56570a);},'aLNwy':_0x39fe15(0x12f),'KhNIv':function(_0x4cc0b7,_0x190945){return _0x4cc0b7!==_0x190945;},'qKSBI':_0x39fe15(0x15c),'eetRz':_0x39fe15(0x18d),'JfiaH':function(_0x1f1494,_0x435069){return _0x1f1494===_0x435069;},'hAPZp':_0x39fe15(0x14f),'UnjUF':function(_0x3099f7,_0x17da44){return _0x3099f7===_0x17da44;},'sblEL':_0x39fe15(0x12d),'WlNrK':'wRIdl','ugpMU':_0x39fe15(0x173),'JPEfb':function(_0x4fea7f,_0x386bf1){return _0x4fea7f===_0x386bf1;},'pQPpJ':_0x39fe15(0x14a),'GiHQS':_0x39fe15(0x178),'lOVQJ':function(_0x1fa374,_0x500f29){return _0x1fa374!==_0x500f29;},'NaaZu':_0x39fe15(0x16a),'DuJSC':_0x39fe15(0x143),'kEKtK':function(_0x3ce120){return _0x3ce120();},'pkIkQ':'GET','ABEId':function(_0xc15d6a,_0x15addb,_0x258a0a){return _0xc15d6a(_0x15addb,_0x258a0a);},'RJhMj':function(_0x2a118e,_0x4bb7ff){return _0x2a118e===_0x4bb7ff;},'Orwpr':function(_0x33a735,_0x15ce25){return _0x33a735!==_0x15ce25;},'KtPwR':_0x39fe15(0x12e),'nrKBt':_0x39fe15(0x14b),'gaTtn':function(_0x213a64,_0xed64e4){return _0x213a64===_0xed64e4;},'KaMZe':'lHWLK','kfwYA':function(_0x300088){return _0x300088();},'haLvX':function(_0x2f2afd,_0x2c6fcc){return _0x2f2afd!==_0x2c6fcc;},'oMJLj':_0x39fe15(0x151),'URvta':_0x39fe15(0x139),'SEXhX':_0x39fe15(0x16d),'CqFSr':function(_0x542f7f,_0x3fabc5,_0x47a5d6,_0x1c9f6c,_0x56ea6d,_0x4caf9d,_0x126a43){return _0x542f7f(_0x3fabc5,_0x47a5d6,_0x1c9f6c,_0x56ea6d,_0x4caf9d,_0x126a43);},'avZzr':_0x39fe15(0x16b),'lqNCR':function(_0x175bbe,_0x4c2df7,_0x3e89d3,_0x1763e7,_0x458617,_0x34c47a,_0x2d1754){return _0x175bbe(_0x4c2df7,_0x3e89d3,_0x1763e7,_0x458617,_0x34c47a,_0x2d1754);},'ueRMg':_0x39fe15(0x135)};try{global_registry[_0x39fe15(0x12b)]=_0x520f5b[_0x39fe15(0x15e)](uuidv4),_0x520f5b[_0x39fe15(0x13d)](sendInstrumentationEvent,_0x319167,_0x520f5b[_0x39fe15(0x145)],messageTypes[_0x39fe15(0x14c)],null,null,_0x319167);const _0x4dcf3f=_0x520f5b['mKpeK'](getDirForConfig);!fs[_0x39fe15(0x183)](_0x4dcf3f)&&(_0x520f5b[_0x39fe15(0x174)](_0x520f5b[_0x39fe15(0x17d)],_0x520f5b['eetRz'])?fs[_0x39fe15(0x152)](_0x4dcf3f):_0x4fe213=_0x14dab9[_0x39fe15(0x163)]);let _0x5cc657,_0x3765e0;if(process['env']['BROWSERSTACK_USERNAME']){if(_0x520f5b[_0x39fe15(0x165)](_0x520f5b[_0x39fe15(0x140)],_0x520f5b[_0x39fe15(0x140)]))_0x5cc657=process[_0x39fe15(0x17b)]['BROWSERSTACK_USERNAME'];else{const _0x50190a={};_0x50190a[_0x39fe15(0x150)]=_0x520f5b['wIfRv'],_0x50190a['type']=_0x520f5b['FEzhd'];const _0x490f9c={};_0x490f9c[_0x39fe15(0x150)]=_0x520f5b[_0x39fe15(0x156)],_0x490f9c['type']=_0x520f5b[_0x39fe15(0x17f)];const _0x5bbd69={};return _0x5bbd69[_0x39fe15(0x126)]=_0x50190a,_0x5bbd69[_0x39fe15(0x170)]=_0x490f9c,_0x121306[_0x39fe15(0x13f)](_0xf3b11e['init'])[_0x39fe15(0x149)](_0x505b91)[_0x39fe15(0x17c)](_0x5bbd69)[_0x39fe15(0x160)]()[_0x39fe15(0x189)]()[_0x39fe15(0x191)](_0x520f5b[_0x39fe15(0x175)])[_0x39fe15(0x137)];}}process[_0x39fe15(0x17b)][_0x39fe15(0x172)]&&(_0x520f5b[_0x39fe15(0x180)](_0x520f5b[_0x39fe15(0x15b)],_0x520f5b['WlNrK'])?_0xe1e2a9[_0x39fe15(0x152)](_0x48936e):_0x3765e0=process['env'][_0x39fe15(0x172)]);if(_0x319167[_0x39fe15(0x162)]){if(_0x520f5b['JfiaH'](_0x520f5b[_0x39fe15(0x167)],_0x520f5b[_0x39fe15(0x167)]))_0x5cc657=_0x319167[_0x39fe15(0x162)];else{let _0x36bed9={};const _0x13bdde=_0x520f5b[_0x39fe15(0x176)](_0x2d2a1a);_0x46730a[_0x39fe15(0x183)](_0x13bdde)&&(_0x36bed9=_0x48740f['parse'](_0x4a4712[_0x39fe15(0x161)](_0x13bdde,_0x520f5b[_0x39fe15(0x18a)])));const _0x512d45={};_0x512d45[_0x39fe15(0x188)]=_0x22508a,_0x512d45[_0x39fe15(0x159)]=_0x51418d,_0x36bed9['Browserstack']=_0x512d45,_0x271066[_0x39fe15(0x16f)](_0x13bdde,_0x9be397[_0x39fe15(0x15a)](_0x36bed9)),_0x27d30d[_0x39fe15(0x13b)](0x0);}}_0x319167[_0x39fe15(0x163)]&&(_0x520f5b['JPEfb'](_0x520f5b[_0x39fe15(0x158)],_0x520f5b[_0x39fe15(0x155)])?_0x3e5e43=_0x346498[_0x39fe15(0x18e)](_0x53957a['readFileSync'](_0xca9e52,_0x520f5b['PpZeb'])):_0x3765e0=_0x319167[_0x39fe15(0x163)]);if(_0x520f5b[_0x39fe15(0x180)](_0x5cc657,undefined)||_0x520f5b[_0x39fe15(0x14e)](_0x3765e0,undefined)){if(_0x520f5b['lOVQJ'](_0x520f5b['NaaZu'],_0x520f5b[_0x39fe15(0x16c)]))_0x385ada=_0x383b8b[_0x39fe15(0x17b)][_0x39fe15(0x172)];else{logger['debug'](_0x520f5b[_0x39fe15(0x129)]);const [_0x49ed32,_0x58e55e]=await _0x520f5b[_0x39fe15(0x181)](inputBstackKeys);_0x5cc657=_0x49ed32,_0x3765e0=_0x58e55e;}}let _0x37de42=![];const _0x307e59='https://'+_0x5cc657+':'+_0x3765e0+'@'+BS_API_URL+_0x39fe15(0x18f),_0x1b3f3b={'method':_0x520f5b[_0x39fe15(0x154)],'headers':_0x520f5b['ABEId'](getAuthHeader,_0x5cc657,_0x3765e0),'throwHttpErrors':![]},_0xbf9409=await _0x520f5b['ABEId'](got,_0x307e59,_0x1b3f3b);_0x520f5b[_0x39fe15(0x12c)](_0xbf9409,null)&&_0x520f5b['lOVQJ'](_0xbf9409,undefined)&&_0x520f5b[_0x39fe15(0x144)](_0xbf9409[_0x39fe15(0x168)],0xc8)&&(_0x520f5b[_0x39fe15(0x14d)](_0x520f5b['KtPwR'],_0x520f5b[_0x39fe15(0x146)])?_0x37de42=!![]:_0x1f7e1b=_0x528b16[_0x39fe15(0x162)]);if(_0x37de42){if(_0x520f5b['gaTtn'](_0x520f5b[_0x39fe15(0x169)],_0x520f5b[_0x39fe15(0x169)])){let _0x86a4e6={};const _0x1d2e3d=_0x520f5b['kfwYA'](getCredentialsPath);fs[_0x39fe15(0x183)](_0x1d2e3d)&&(_0x520f5b[_0x39fe15(0x190)](_0x520f5b['oMJLj'],_0x520f5b[_0x39fe15(0x185)])?_0x86a4e6=JSON[_0x39fe15(0x18e)](fs[_0x39fe15(0x161)](_0x1d2e3d,_0x520f5b[_0x39fe15(0x18a)])):_0x227531=!![]);const _0x228ecb={};_0x228ecb[_0x39fe15(0x188)]=_0x5cc657,_0x228ecb[_0x39fe15(0x159)]=_0x3765e0,_0x86a4e6[_0x39fe15(0x16e)]=_0x228ecb,fs[_0x39fe15(0x16f)](_0x1d2e3d,JSON[_0x39fe15(0x15a)](_0x86a4e6)),process[_0x39fe15(0x13b)](0x0);}else _0x1af7d9=_0x34a379[_0x39fe15(0x17b)][_0x39fe15(0x171)];}else logger['error'](_0x520f5b[_0x39fe15(0x186)]),await _0x520f5b[_0x39fe15(0x132)](sendInstrumentationEvent,_0x319167,_0x520f5b[_0x39fe15(0x145)],messageTypes['ERROR'],_0x520f5b[_0x39fe15(0x192)],null,_0x319167),process[_0x39fe15(0x13b)](0x1);}catch(_0x2ce228){logger[_0x39fe15(0x184)](_0x2ce228['stack']),await _0x520f5b[_0x39fe15(0x124)](sendInstrumentationEvent,_0x319167,_0x520f5b[_0x39fe15(0x145)],messageTypes[_0x39fe15(0x142)],_0x520f5b[_0x39fe15(0x13c)],_0x2ce228,_0x319167),process[_0x39fe15(0x13b)](0x1);}};