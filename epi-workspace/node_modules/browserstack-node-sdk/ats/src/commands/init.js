const a12_0x317613=a12_0x1351;function a12_0x1351(_0x1202cb,_0x8f580b){const _0x5248f8=a12_0x5248();return a12_0x1351=function(_0x1351f7,_0x48067c){_0x1351f7=_0x1351f7-0x13c;let _0x1e66a1=_0x5248f8[_0x1351f7];return _0x1e66a1;},a12_0x1351(_0x1202cb,_0x8f580b);}(function(_0x5a431a,_0x368ac0){const _0x13d602=a12_0x1351,_0x1763b1=_0x5a431a();while(!![]){try{const _0x2a5c90=-parseInt(_0x13d602(0x151))/0x1+parseInt(_0x13d602(0x152))/0x2*(parseInt(_0x13d602(0x16c))/0x3)+-parseInt(_0x13d602(0x16e))/0x4*(parseInt(_0x13d602(0x14c))/0x5)+-parseInt(_0x13d602(0x171))/0x6+-parseInt(_0x13d602(0x193))/0x7+parseInt(_0x13d602(0x13e))/0x8*(parseInt(_0x13d602(0x13d))/0x9)+-parseInt(_0x13d602(0x164))/0xa*(-parseInt(_0x13d602(0x19b))/0xb);if(_0x2a5c90===_0x368ac0)break;else _0x1763b1['push'](_0x1763b1['shift']());}catch(_0xe350d){_0x1763b1['push'](_0x1763b1['shift']());}}}(a12_0x5248,0x490ff));const fs=require('fs'),util=require(a12_0x317613(0x15d)),got=require(a12_0x317613(0x18e)),{v4:uuidv4}=require(a12_0x317613(0x173)),{logger}=require(a12_0x317613(0x167)),{inputBstackKeys}=require(a12_0x317613(0x186)),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a12_0x317613(0x1a1)),{getDirForConfig,getCredentialsPath,getAuthHeader}=require(a12_0x317613(0x154)),{sendInstrumentationEvent}=require(a12_0x317613(0x161));exports[a12_0x317613(0x149)]='init',exports['desc']='Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.',exports[a12_0x317613(0x166)]=function(_0x2a4afe){const _0x4fb129=a12_0x317613,_0x163bdb={};_0x163bdb[_0x4fb129(0x188)]=_0x4fb129(0x14a),_0x163bdb[_0x4fb129(0x192)]=_0x4fb129(0x197),_0x163bdb[_0x4fb129(0x157)]=_0x4fb129(0x174),_0x163bdb[_0x4fb129(0x146)]=_0x4fb129(0x141);const _0x2c719e=_0x163bdb,_0x3e3e5d={};_0x3e3e5d[_0x4fb129(0x185)]=_0x2c719e[_0x4fb129(0x188)],_0x3e3e5d[_0x4fb129(0x181)]=_0x2c719e[_0x4fb129(0x192)];const _0x858455={};_0x858455['description']=_0x2c719e[_0x4fb129(0x157)],_0x858455[_0x4fb129(0x181)]=_0x2c719e[_0x4fb129(0x192)];const _0xec67b={};return _0xec67b[_0x4fb129(0x17c)]=_0x3e3e5d,_0xec67b[_0x4fb129(0x18c)]=_0x858455,_0x2a4afe[_0x4fb129(0x17e)](HELP_HEADER_MESSAGE[_0x4fb129(0x184)])[_0x4fb129(0x15b)](HELP_FOOTER_MESSAGE)[_0x4fb129(0x170)](_0xec67b)[_0x4fb129(0x175)]()[_0x4fb129(0x19d)]()[_0x4fb129(0x141)](_0x2c719e[_0x4fb129(0x146)])[_0x4fb129(0x15a)];},exports['handler']=async function(_0x2bdd0d){const _0x26dd7b=a12_0x317613,_0x3e124e={'MalAD':_0x26dd7b(0x14a),'zYogn':_0x26dd7b(0x197),'hLUob':_0x26dd7b(0x174),'FkHpO':_0x26dd7b(0x141),'SWdAD':function(_0xeaf648){return _0xeaf648();},'VhjwF':_0x26dd7b(0x144),'JHaoj':function(_0x4ace95){return _0x4ace95();},'XYHas':function(_0x38f9da,_0x4e8b2a,_0x10764f,_0x3b2e53,_0x5522d5,_0x531f5b,_0x4dd806){return _0x38f9da(_0x4e8b2a,_0x10764f,_0x3b2e53,_0x5522d5,_0x531f5b,_0x4dd806);},'mnQjv':_0x26dd7b(0x18f),'BtaUQ':function(_0x3c81b1){return _0x3c81b1();},'ndvSp':function(_0x3ec0ff,_0x523d85){return _0x3ec0ff===_0x523d85;},'aOlWE':_0x26dd7b(0x165),'zvgsF':_0x26dd7b(0x18b),'mjThV':function(_0x307226,_0x3f52d9){return _0x307226!==_0x3f52d9;},'QfPQl':'nXHnQ','LxxOm':_0x26dd7b(0x190),'iFIYs':_0x26dd7b(0x182),'NOxjc':function(_0x3ff775,_0x129edd){return _0x3ff775!==_0x129edd;},'ZqwGx':'aZBRO','KCKpY':function(_0x41f521,_0x537dcc){return _0x41f521===_0x537dcc;},'eXuam':function(_0x821fac,_0x12422b){return _0x821fac===_0x12422b;},'enIkt':function(_0x422521,_0x19a5fd){return _0x422521===_0x19a5fd;},'qfhvp':'lqLsi','SsnKl':_0x26dd7b(0x145),'OrHgi':_0x26dd7b(0x17a),'iyuzv':function(_0x34763f){return _0x34763f();},'gGtMI':_0x26dd7b(0x196),'OMPyw':function(_0x582e65,_0x29ac80,_0x1052f0){return _0x582e65(_0x29ac80,_0x1052f0);},'lgkQm':function(_0x3b357d,_0x292a99,_0x33b0da){return _0x3b357d(_0x292a99,_0x33b0da);},'mHgDe':function(_0x39a216,_0x4f3a8e){return _0x39a216===_0x4f3a8e;},'RExlA':_0x26dd7b(0x153),'SnrZu':_0x26dd7b(0x199),'xjIOv':'afDyv','NRdMl':function(_0x5539d7,_0x4e89c9){return _0x5539d7!==_0x4e89c9;},'KBoZG':_0x26dd7b(0x19a),'lxjeL':'HCmKX','UvNqE':'Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','asiaG':_0x26dd7b(0x16f),'qzvTE':_0x26dd7b(0x183)};try{global_registry['requestId']=_0x3e124e[_0x26dd7b(0x187)](uuidv4),_0x3e124e[_0x26dd7b(0x147)](sendInstrumentationEvent,_0x2bdd0d,_0x3e124e[_0x26dd7b(0x18d)],messageTypes['INFO'],null,null,_0x2bdd0d);const _0x2e83a4=_0x3e124e['BtaUQ'](getDirForConfig);!fs[_0x26dd7b(0x16d)](_0x2e83a4)&&(_0x3e124e[_0x26dd7b(0x140)](_0x3e124e[_0x26dd7b(0x158)],_0x3e124e[_0x26dd7b(0x160)])?_0x1614d6['mkdirSync'](_0x127bf5):fs[_0x26dd7b(0x17d)](_0x2e83a4));let _0x37a742,_0x1c18ae;if(process['env'][_0x26dd7b(0x19f)]){if(_0x3e124e['mjThV'](_0x3e124e[_0x26dd7b(0x15f)],_0x3e124e[_0x26dd7b(0x15f)])){const _0x51f231={};_0x51f231[_0x26dd7b(0x185)]=_0x3e124e[_0x26dd7b(0x150)],_0x51f231[_0x26dd7b(0x181)]=_0x3e124e[_0x26dd7b(0x17f)];const _0x4ae85b={};_0x4ae85b['description']=_0x3e124e[_0x26dd7b(0x177)],_0x4ae85b[_0x26dd7b(0x181)]=_0x3e124e[_0x26dd7b(0x17f)];const _0x1f55bc={};return _0x1f55bc[_0x26dd7b(0x17c)]=_0x51f231,_0x1f55bc[_0x26dd7b(0x18c)]=_0x4ae85b,_0x24f332[_0x26dd7b(0x17e)](_0x38cdec['init'])[_0x26dd7b(0x15b)](_0x1cf01d)[_0x26dd7b(0x170)](_0x1f55bc)[_0x26dd7b(0x175)]()['strict']()[_0x26dd7b(0x141)](_0x3e124e['FkHpO'])[_0x26dd7b(0x15a)];}else _0x37a742=process['env']['BROWSERSTACK_USERNAME'];}if(process['env'][_0x26dd7b(0x162)]){if(_0x3e124e['mjThV'](_0x3e124e[_0x26dd7b(0x168)],_0x3e124e[_0x26dd7b(0x168)])){let _0x1395c0={};const _0x4777fd=_0x3e124e[_0x26dd7b(0x143)](_0x485095);_0x351142['existsSync'](_0x4777fd)&&(_0x1395c0=_0x50f351['parse'](_0x3b75fc[_0x26dd7b(0x16b)](_0x4777fd,_0x3e124e[_0x26dd7b(0x178)])));const _0x22f4a5={};_0x22f4a5[_0x26dd7b(0x14f)]=_0x20f9dd,_0x22f4a5[_0x26dd7b(0x159)]=_0x3338d7,_0x1395c0[_0x26dd7b(0x189)]=_0x22f4a5,_0x496c76[_0x26dd7b(0x14d)](_0x4777fd,_0x5656aa['stringify'](_0x1395c0)),_0x3bb27c['exit'](0x0);}else _0x1c18ae=process[_0x26dd7b(0x198)][_0x26dd7b(0x162)];}_0x2bdd0d[_0x26dd7b(0x169)]&&(_0x3e124e[_0x26dd7b(0x13f)](_0x3e124e[_0x26dd7b(0x191)],_0x3e124e[_0x26dd7b(0x191)])?_0x4002e7=_0x2696f8[_0x26dd7b(0x194)](_0x122e1f[_0x26dd7b(0x16b)](_0x8283c8,_0x3e124e[_0x26dd7b(0x178)])):_0x37a742=_0x2bdd0d[_0x26dd7b(0x169)]);_0x2bdd0d['bstackAccesskey']&&(_0x3e124e[_0x26dd7b(0x15e)](_0x3e124e[_0x26dd7b(0x18a)],_0x3e124e[_0x26dd7b(0x18a)])?_0x37797d=_0x248aea[_0x26dd7b(0x198)][_0x26dd7b(0x19f)]:_0x1c18ae=_0x2bdd0d['bstackAccesskey']);if(_0x3e124e[_0x26dd7b(0x176)](_0x37a742,undefined)||_0x3e124e[_0x26dd7b(0x19e)](_0x1c18ae,undefined)){if(_0x3e124e[_0x26dd7b(0x19c)](_0x3e124e[_0x26dd7b(0x13c)],_0x3e124e[_0x26dd7b(0x156)]))_0x1bc4ef=_0x5503d4[_0x26dd7b(0x169)];else{logger[_0x26dd7b(0x15c)](_0x3e124e[_0x26dd7b(0x1a0)]);const [_0x452ae9,_0x2cd699]=await _0x3e124e['iyuzv'](inputBstackKeys);_0x37a742=_0x452ae9,_0x1c18ae=_0x2cd699;}}let _0x442064=![];const _0x4c245e='https://'+_0x37a742+':'+_0x1c18ae+'@'+BS_API_URL+'/automate/plan.json',_0x4444b0={'method':_0x3e124e[_0x26dd7b(0x17b)],'headers':_0x3e124e[_0x26dd7b(0x1a2)](getAuthHeader,_0x37a742,_0x1c18ae),'throwHttpErrors':![]},_0x3dca5f=await _0x3e124e[_0x26dd7b(0x195)](got,_0x4c245e,_0x4444b0);_0x3e124e['NOxjc'](_0x3dca5f,null)&&_0x3e124e[_0x26dd7b(0x15e)](_0x3dca5f,undefined)&&_0x3e124e['mHgDe'](_0x3dca5f[_0x26dd7b(0x180)],0xc8)&&(_0x3e124e[_0x26dd7b(0x15e)](_0x3e124e[_0x26dd7b(0x155)],_0x3e124e['RExlA'])?_0x47282e=!![]:_0x442064=!![]);if(_0x442064){if(_0x3e124e['mHgDe'](_0x3e124e['SnrZu'],_0x3e124e['xjIOv']))_0x4f3b98=_0x5a3782[_0x26dd7b(0x172)];else{let _0x5a7e3a={};const _0xe00a0c=_0x3e124e[_0x26dd7b(0x187)](getCredentialsPath);fs[_0x26dd7b(0x16d)](_0xe00a0c)&&(_0x3e124e[_0x26dd7b(0x142)](_0x3e124e['KBoZG'],_0x3e124e[_0x26dd7b(0x148)])?_0x5a7e3a=JSON[_0x26dd7b(0x194)](fs[_0x26dd7b(0x16b)](_0xe00a0c,_0x3e124e['VhjwF'])):_0x1b5a15=_0x5dad41[_0x26dd7b(0x198)][_0x26dd7b(0x162)]);const _0x3e9f28={};_0x3e9f28[_0x26dd7b(0x14f)]=_0x37a742,_0x3e9f28[_0x26dd7b(0x159)]=_0x1c18ae,_0x5a7e3a['Browserstack']=_0x3e9f28,fs['writeFileSync'](_0xe00a0c,JSON[_0x26dd7b(0x179)](_0x5a7e3a)),process[_0x26dd7b(0x16a)](0x0);}}else logger[_0x26dd7b(0x163)](_0x3e124e['UvNqE']),await _0x3e124e['XYHas'](sendInstrumentationEvent,_0x2bdd0d,_0x3e124e[_0x26dd7b(0x18d)],messageTypes[_0x26dd7b(0x14e)],_0x3e124e['asiaG'],null,_0x2bdd0d),process[_0x26dd7b(0x16a)](0x1);}catch(_0x278ad3){logger[_0x26dd7b(0x163)](_0x278ad3[_0x26dd7b(0x14b)]),await _0x3e124e[_0x26dd7b(0x147)](sendInstrumentationEvent,_0x2bdd0d,_0x3e124e[_0x26dd7b(0x18d)],messageTypes['ERROR'],_0x3e124e['qzvTE'],_0x278ad3,_0x2bdd0d),process[_0x26dd7b(0x16a)](0x1);}};function a12_0x5248(){const _0x1d0533=['../config/logger','LxxOm','bstackUsername','exit','readFileSync','3zdZQVn','existsSync','12XZFJlu','wrong-creds','options','513390hiHnkF','bstackAccesskey','uuid','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','recommendCommands','KCKpY','hLUob','VhjwF','stringify','BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','gGtMI','bstack-username','mkdirSync','usage','zYogn','statusCode','type','CBHUC','unknown-error','init','description','../utils/userInput','JHaoj','BgaQe','Browserstack','ZqwGx','wtsfw','bstack-accesskey','mnQjv','got','init-called','ckBwG','iFIYs','uqXZm','4106634tHzwwR','parse','lgkQm','GET','string','env','lUVYe','ODCEz','18117yKCizy','enIkt','strict','eXuam','BROWSERSTACK_USERNAME','OrHgi','../config/constants','OMPyw','qfhvp','2820087QGzMAB','8qqQecX','mjThV','ndvSp','help','NRdMl','SWdAD','utf-8','GQcCD','DZseA','XYHas','lxjeL','command','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','stack','479585OVGcbM','writeFileSync','ERROR','username','MalAD','438088iTQNyp','300766xUAixt','sWTee','../utils/utilityMethods','RExlA','SsnKl','SnoBs','aOlWE','password','argv','epilogue','debug','util','NOxjc','QfPQl','zvgsF','../utils/instrumentationUtils','BROWSERSTACK_ACCESS_KEY','error','7490lcTdts','UxIAo','builder'];a12_0x5248=function(){return _0x1d0533;};return a12_0x5248();}