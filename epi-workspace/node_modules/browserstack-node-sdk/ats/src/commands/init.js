const a12_0x38a214=a12_0x18d6;function a12_0x486f(){const _0x4c67ad=['looxG','5AJAJSI','HFtfi','env','MEyvP','bstack-username','kmTtR','tTRVb','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','SAZpa','uuid','readFileSync','/automate/plan.json','stack','esSiS','1642564OHoxWB','3328530sThEsz','string','wRDjk','stringify','BwEdH','BvJog','283792dqgrwP','CQadA','bstackAccesskey','Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.','KXsLk','../config/constants','password','command','ajBHA','options','NRlRA','../utils/userInput','epilogue','strict','wrong-creds','bstackUsername','LrtKF','statusCode','https://','usage','eRAuB','username','cpFiB','XhFEA','1865143oOJfxr','mkdirSync','12uEhQpx','jxNjT','mWYZR','GET','INFO','type','handler','277122MYIOXV','argv','WjqlH','exit','recommendCommands','parse','uYcsn','BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','description','Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','IjDXY','qXssM','ZECNf','builder','IUaHb','KRZVA','niFgO','6521373OQysuB','qQLgL','lYWny','desc','qFTST','1309701ACPMyw','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','lKWyg','ERROR','CEWsR','Browserstack','OOrNd','cMRJy','KgGmh','VqRVm','aJXYa','XDTAp','bElAI','requestId','../utils/utilityMethods','SXcyE','bFXGY','init','2NNqAiX','init-called','help','UwbXa','BROWSERSTACK_ACCESS_KEY','brczC','existsSync','unknown-error','bstack-accesskey','UgHKu','TPxLN','writeFileSync','dXObA','BROWSERSTACK_USERNAME','error'];a12_0x486f=function(){return _0x4c67ad;};return a12_0x486f();}(function(_0x3d95c4,_0x3ce423){const _0x3d97f7=a12_0x18d6,_0x10eb71=_0x3d95c4();while(!![]){try{const _0x40611c=parseInt(_0x3d97f7(0x213))/0x1+-parseInt(_0x3d97f7(0x23b))/0x2*(parseInt(_0x3d97f7(0x229))/0x3)+-parseInt(_0x3d97f7(0x1eb))/0x4*(parseInt(_0x3d97f7(0x24b))/0x5)+-parseInt(_0x3d97f7(0x20c))/0x6*(-parseInt(_0x3d97f7(0x20a))/0x7)+parseInt(_0x3d97f7(0x1f2))/0x8+parseInt(_0x3d97f7(0x224))/0x9+-parseInt(_0x3d97f7(0x1ec))/0xa;if(_0x40611c===_0x3ce423)break;else _0x10eb71['push'](_0x10eb71['shift']());}catch(_0x24294b){_0x10eb71['push'](_0x10eb71['shift']());}}}(a12_0x486f,0x5f38e));const fs=require('fs'),util=require('util'),got=require('got'),{v4:uuidv4}=require(a12_0x38a214(0x1e6)),{logger}=require('../config/logger'),{inputBstackKeys}=require(a12_0x38a214(0x1fd)),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a12_0x38a214(0x1f7)),{getDirForConfig,getCredentialsPath,getAuthHeader}=require(a12_0x38a214(0x237)),{sendInstrumentationEvent}=require('../utils/instrumentationUtils');function a12_0x18d6(_0x11351e,_0x2b36f1){const _0x486f33=a12_0x486f();return a12_0x18d6=function(_0x18d659,_0x1f7953){_0x18d659=_0x18d659-0x1e5;let _0x1e7914=_0x486f33[_0x18d659];return _0x1e7914;},a12_0x18d6(_0x11351e,_0x2b36f1);}exports[a12_0x38a214(0x1f9)]='init',exports[a12_0x38a214(0x227)]=a12_0x38a214(0x1f5),exports[a12_0x38a214(0x220)]=function(_0x25269c){const _0x11c8fe=a12_0x38a214,_0x30cc56={};_0x30cc56[_0x11c8fe(0x21d)]='Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.',_0x30cc56[_0x11c8fe(0x21e)]=_0x11c8fe(0x1ed),_0x30cc56[_0x11c8fe(0x1f1)]=_0x11c8fe(0x252),_0x30cc56[_0x11c8fe(0x22d)]=_0x11c8fe(0x23d);const _0x1caae7=_0x30cc56,_0x3db5c5={};_0x3db5c5[_0x11c8fe(0x21b)]=_0x1caae7[_0x11c8fe(0x21d)],_0x3db5c5['type']=_0x1caae7[_0x11c8fe(0x21e)];const _0x1564bf={};_0x1564bf[_0x11c8fe(0x21b)]=_0x1caae7[_0x11c8fe(0x1f1)],_0x1564bf[_0x11c8fe(0x211)]=_0x1caae7[_0x11c8fe(0x21e)];const _0x1b1f50={};return _0x1b1f50[_0x11c8fe(0x24f)]=_0x3db5c5,_0x1b1f50[_0x11c8fe(0x243)]=_0x1564bf,_0x25269c['usage'](HELP_HEADER_MESSAGE[_0x11c8fe(0x23a)])[_0x11c8fe(0x1fe)](HELP_FOOTER_MESSAGE)[_0x11c8fe(0x1fb)](_0x1b1f50)[_0x11c8fe(0x217)]()[_0x11c8fe(0x1ff)]()[_0x11c8fe(0x23d)](_0x1caae7[_0x11c8fe(0x22d)])[_0x11c8fe(0x214)];},exports[a12_0x38a214(0x212)]=async function(_0x40c89c){const _0x2be7fc=a12_0x38a214,_0x381e06={'laquJ':_0x2be7fc(0x22a),'ajBHA':_0x2be7fc(0x1ed),'JjMOG':_0x2be7fc(0x252),'XDTAp':_0x2be7fc(0x23d),'bElAI':'utf-8','VqRVm':function(_0x13a2b7){return _0x13a2b7();},'esSiS':function(_0x5461ad){return _0x5461ad();},'cMRJy':function(_0x13fdcf,_0x2e3323,_0x54afb6,_0x1cf43f,_0x4ecf70,_0xcf833b,_0x3029e8){return _0x13fdcf(_0x2e3323,_0x54afb6,_0x1cf43f,_0x4ecf70,_0xcf833b,_0x3029e8);},'KXsLk':_0x2be7fc(0x23c),'kDcQY':function(_0x1881b2){return _0x1881b2();},'dXObA':function(_0x280f4a,_0x5ad963){return _0x280f4a===_0x5ad963;},'XhFEA':_0x2be7fc(0x240),'CQadA':_0x2be7fc(0x238),'KgGmh':_0x2be7fc(0x222),'SAZpa':_0x2be7fc(0x1fc),'wRDjk':function(_0x8107e6,_0x447a9b){return _0x8107e6!==_0x447a9b;},'aJXYa':_0x2be7fc(0x251),'cpFiB':_0x2be7fc(0x202),'lKWyg':'XEOis','qQLgL':function(_0x50acfe,_0x56e61c){return _0x50acfe===_0x56e61c;},'uYcsn':function(_0x150c7d,_0x224fbe){return _0x150c7d===_0x224fbe;},'ZECNf':'oBFdQ','jQIoQ':_0x2be7fc(0x21a),'nzqFd':_0x2be7fc(0x20f),'jxNjT':function(_0x296855,_0x30ed37,_0x2f7e34){return _0x296855(_0x30ed37,_0x2f7e34);},'HFtfi':function(_0x370da3,_0x7a9e4f){return _0x370da3!==_0x7a9e4f;},'kmTtR':function(_0x10e380,_0x6b83b0){return _0x10e380!==_0x6b83b0;},'BwEdH':function(_0x17f755,_0x590d32){return _0x17f755===_0x590d32;},'UgHKu':_0x2be7fc(0x206),'UwbXa':'IUTnY','IUaHb':_0x2be7fc(0x22f),'niFgO':_0x2be7fc(0x20e),'qFTST':function(_0x315ed2,_0xb0af85){return _0x315ed2===_0xb0af85;},'WjqlH':_0x2be7fc(0x24a),'bFXGY':_0x2be7fc(0x226),'TPxLN':_0x2be7fc(0x21c),'zDnNb':_0x2be7fc(0x200),'MEyvP':_0x2be7fc(0x242)};try{global_registry[_0x2be7fc(0x236)]=_0x381e06[_0x2be7fc(0x1ea)](uuidv4),_0x381e06[_0x2be7fc(0x230)](sendInstrumentationEvent,_0x40c89c,_0x381e06[_0x2be7fc(0x1f6)],messageTypes[_0x2be7fc(0x210)],null,null,_0x40c89c);const _0x4bb99a=_0x381e06['kDcQY'](getDirForConfig);!fs[_0x2be7fc(0x241)](_0x4bb99a)&&(_0x381e06['dXObA'](_0x381e06[_0x2be7fc(0x209)],_0x381e06[_0x2be7fc(0x1f3)])?_0x4426e2=_0x2c7052[_0x2be7fc(0x24d)][_0x2be7fc(0x23f)]:fs[_0x2be7fc(0x20b)](_0x4bb99a));let _0xeb80e1,_0x6582b6;if(process[_0x2be7fc(0x24d)][_0x2be7fc(0x248)]){if(_0x381e06[_0x2be7fc(0x247)](_0x381e06[_0x2be7fc(0x231)],_0x381e06[_0x2be7fc(0x231)]))_0xeb80e1=process[_0x2be7fc(0x24d)][_0x2be7fc(0x248)];else{const _0x48dbcb={};_0x48dbcb[_0x2be7fc(0x21b)]=_0x381e06['laquJ'],_0x48dbcb['type']=_0x381e06['ajBHA'];const _0x59ba82={};_0x59ba82[_0x2be7fc(0x21b)]=_0x381e06['JjMOG'],_0x59ba82[_0x2be7fc(0x211)]=_0x381e06[_0x2be7fc(0x1fa)];const _0x2aafd2={};return _0x2aafd2['bstack-username']=_0x48dbcb,_0x2aafd2[_0x2be7fc(0x243)]=_0x59ba82,_0x417fb6[_0x2be7fc(0x205)](_0x4d3173[_0x2be7fc(0x23a)])[_0x2be7fc(0x1fe)](_0x3b80f0)['options'](_0x2aafd2)[_0x2be7fc(0x217)]()[_0x2be7fc(0x1ff)]()['help'](_0x381e06[_0x2be7fc(0x234)])['argv'];}}process[_0x2be7fc(0x24d)][_0x2be7fc(0x23f)]&&(_0x381e06[_0x2be7fc(0x247)](_0x381e06[_0x2be7fc(0x1e5)],_0x381e06[_0x2be7fc(0x1e5)])?_0x6582b6=process[_0x2be7fc(0x24d)][_0x2be7fc(0x23f)]:_0x1693ff=_0x5b7455[_0x2be7fc(0x24d)][_0x2be7fc(0x248)]);_0x40c89c[_0x2be7fc(0x201)]&&(_0x381e06[_0x2be7fc(0x1ee)](_0x381e06[_0x2be7fc(0x233)],_0x381e06[_0x2be7fc(0x208)])?_0xeb80e1=_0x40c89c[_0x2be7fc(0x201)]:_0x361109=_0x54ad9f['bstackAccesskey']);_0x40c89c[_0x2be7fc(0x1f4)]&&(_0x381e06[_0x2be7fc(0x1ee)](_0x381e06[_0x2be7fc(0x22b)],_0x381e06['lKWyg'])?_0x5f0c53[_0x2be7fc(0x20b)](_0x3a2374):_0x6582b6=_0x40c89c[_0x2be7fc(0x1f4)]);if(_0x381e06[_0x2be7fc(0x225)](_0xeb80e1,undefined)||_0x381e06[_0x2be7fc(0x219)](_0x6582b6,undefined)){if(_0x381e06[_0x2be7fc(0x1ee)](_0x381e06[_0x2be7fc(0x21f)],_0x381e06[_0x2be7fc(0x21f)]))_0x1747a5=!![];else{logger['debug'](_0x381e06['jQIoQ']);const [_0x214b7f,_0x5ab2f3]=await _0x381e06['kDcQY'](inputBstackKeys);_0xeb80e1=_0x214b7f,_0x6582b6=_0x5ab2f3;}}let _0x191981=![];const _0x390c50=_0x2be7fc(0x204)+_0xeb80e1+':'+_0x6582b6+'@'+BS_API_URL+_0x2be7fc(0x1e8),_0x11e7c8={'method':_0x381e06['nzqFd'],'headers':_0x381e06['jxNjT'](getAuthHeader,_0xeb80e1,_0x6582b6),'throwHttpErrors':![]},_0x53f49b=await _0x381e06[_0x2be7fc(0x20d)](got,_0x390c50,_0x11e7c8);_0x381e06[_0x2be7fc(0x24c)](_0x53f49b,null)&&_0x381e06[_0x2be7fc(0x250)](_0x53f49b,undefined)&&_0x381e06[_0x2be7fc(0x1f0)](_0x53f49b[_0x2be7fc(0x203)],0xc8)&&(_0x381e06[_0x2be7fc(0x24c)](_0x381e06[_0x2be7fc(0x244)],_0x381e06[_0x2be7fc(0x23e)])?_0x191981=!![]:_0xd076b1=_0x20cc42[_0x2be7fc(0x201)]);if(_0x191981){if(_0x381e06[_0x2be7fc(0x1ee)](_0x381e06[_0x2be7fc(0x221)],_0x381e06[_0x2be7fc(0x223)])){let _0x386636={};const _0x4fed2e=_0x381e06[_0x2be7fc(0x232)](getCredentialsPath);fs[_0x2be7fc(0x241)](_0x4fed2e)&&(_0x381e06[_0x2be7fc(0x228)](_0x381e06[_0x2be7fc(0x215)],_0x381e06[_0x2be7fc(0x239)])?_0x1fc2b5=_0x141e93['parse'](_0x2e58fa[_0x2be7fc(0x1e7)](_0x339090,_0x381e06[_0x2be7fc(0x235)])):_0x386636=JSON[_0x2be7fc(0x218)](fs[_0x2be7fc(0x1e7)](_0x4fed2e,_0x381e06[_0x2be7fc(0x235)])));const _0x1598b1={};_0x1598b1[_0x2be7fc(0x207)]=_0xeb80e1,_0x1598b1[_0x2be7fc(0x1f8)]=_0x6582b6,_0x386636[_0x2be7fc(0x22e)]=_0x1598b1,fs[_0x2be7fc(0x246)](_0x4fed2e,JSON[_0x2be7fc(0x1ef)](_0x386636)),process['exit'](0x0);}else{let _0x2b3b57={};const _0xe1be21=_0x381e06[_0x2be7fc(0x232)](_0x2abf25);_0x312f6b[_0x2be7fc(0x241)](_0xe1be21)&&(_0x2b3b57=_0x45507e['parse'](_0x8c2f63[_0x2be7fc(0x1e7)](_0xe1be21,_0x381e06['bElAI'])));const _0x5433d2={};_0x5433d2[_0x2be7fc(0x207)]=_0x310f58,_0x5433d2[_0x2be7fc(0x1f8)]=_0x37feac,_0x2b3b57[_0x2be7fc(0x22e)]=_0x5433d2,_0xadd0d6['writeFileSync'](_0xe1be21,_0x3a1f06['stringify'](_0x2b3b57)),_0xd82332[_0x2be7fc(0x216)](0x0);}}else logger[_0x2be7fc(0x249)](_0x381e06[_0x2be7fc(0x245)]),await _0x381e06[_0x2be7fc(0x230)](sendInstrumentationEvent,_0x40c89c,_0x381e06['KXsLk'],messageTypes[_0x2be7fc(0x22c)],_0x381e06['zDnNb'],null,_0x40c89c),process[_0x2be7fc(0x216)](0x1);}catch(_0x2f1f21){logger[_0x2be7fc(0x249)](_0x2f1f21[_0x2be7fc(0x1e9)]),await _0x381e06[_0x2be7fc(0x230)](sendInstrumentationEvent,_0x40c89c,_0x381e06[_0x2be7fc(0x1f6)],messageTypes[_0x2be7fc(0x22c)],_0x381e06[_0x2be7fc(0x24e)],_0x2f1f21,_0x40c89c),process['exit'](0x1);}};