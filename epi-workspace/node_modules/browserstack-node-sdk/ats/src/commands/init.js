const a12_0xf4516a=a12_0x2f41;(function(_0x2d8deb,_0x49ac53){const _0x1b3629=a12_0x2f41,_0xe55418=_0x2d8deb();while(!![]){try{const _0x21ab1f=-parseInt(_0x1b3629(0xe8))/0x1*(-parseInt(_0x1b3629(0xff))/0x2)+parseInt(_0x1b3629(0xf6))/0x3+parseInt(_0x1b3629(0x111))/0x4+parseInt(_0x1b3629(0xd3))/0x5+parseInt(_0x1b3629(0xe7))/0x6*(parseInt(_0x1b3629(0x110))/0x7)+-parseInt(_0x1b3629(0xcc))/0x8*(parseInt(_0x1b3629(0xcd))/0x9)+-parseInt(_0x1b3629(0xdb))/0xa;if(_0x21ab1f===_0x49ac53)break;else _0xe55418['push'](_0xe55418['shift']());}catch(_0x37748b){_0xe55418['push'](_0xe55418['shift']());}}}(a12_0x2179,0x81541));function a12_0x2f41(_0x7ab3e5,_0x3659c8){const _0x2179f7=a12_0x2179();return a12_0x2f41=function(_0x2f4183,_0x3d1cb0){_0x2f4183=_0x2f4183-0xb5;let _0x5a3632=_0x2179f7[_0x2f4183];return _0x5a3632;},a12_0x2f41(_0x7ab3e5,_0x3659c8);}function a12_0x2179(){const _0x495de9=['exit','help','784194TZoJYE','721aCRpnU','uuid','NBaZo','../utils/userInput','TspzU','parse','hkfYo','Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.','pGsjt','readFileSync','description','wrong-creds','bstackUsername','got','255318WQJyvK','string','handler','stringify','bstack-username','TRFbM','HAwUI','recommendCommands','bITxf','2684OZOGdI','debug','usage','GET','/automate/plan.json','XiYEL','gsVyw','jlmbm','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','DiBIo','bstack-accesskey','command','argv','unknown-error','jBLaq','../config/logger','../config/constants','14lswzsr','3361104pANTIm','IZGRf','tgueK','VvRJA','ESTWz','lfSWa','Browserstack','util','BROWSERSTACK_USERNAME','BySmy','type','username','pLZyL','rmNqB','csrjE','utf-8','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','error','SVnxv','fuqac','eZWsu','NtZfJ','existsSync','Kltkr','rONFO','yEUEV','zdffs','tbqtR','OzQDv','GrGJb','../utils/instrumentationUtils','AGCFf','password','55480npBtWD','1278goizXm','stack','builder','TcGYC','kRlbg','ERROR','2406235riVnXk','BROWSERSTACK_ACCESS_KEY','OWWuo','yOaCP','DJLit','BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','options','XiOCn','11211100FbfMic','IgGdw','strict','desc','writeFileSync','INFO','bstackAccesskey','env','epilogue','ARdvN'];a12_0x2179=function(){return _0x495de9;};return a12_0x2179();}const fs=require('fs'),util=require(a12_0xf4516a(0x118)),got=require(a12_0xf4516a(0xf5)),{v4:uuidv4}=require(a12_0xf4516a(0xe9)),{logger}=require(a12_0xf4516a(0x10e)),{inputBstackKeys}=require(a12_0xf4516a(0xeb)),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a12_0xf4516a(0x10f)),{getDirForConfig,getCredentialsPath,getAuthHeader}=require('../utils/utilityMethods'),{sendInstrumentationEvent}=require(a12_0xf4516a(0xc9));exports[a12_0xf4516a(0x10a)]='init',exports[a12_0xf4516a(0xde)]=a12_0xf4516a(0xef),exports[a12_0xf4516a(0xcf)]=function(_0x54408a){const _0x2c25dc=a12_0xf4516a,_0x2934a0={};_0x2934a0[_0x2c25dc(0x11a)]=_0x2c25dc(0xbb),_0x2934a0[_0x2c25dc(0xbf)]='string',_0x2934a0[_0x2c25dc(0xf0)]=_0x2c25dc(0x107),_0x2934a0[_0x2c25dc(0xee)]=_0x2c25dc(0xe6);const _0x3a10a8=_0x2934a0,_0x291c26={};_0x291c26[_0x2c25dc(0xf2)]=_0x3a10a8[_0x2c25dc(0x11a)],_0x291c26['type']=_0x3a10a8[_0x2c25dc(0xbf)];const _0x8f365a={};_0x8f365a[_0x2c25dc(0xf2)]=_0x3a10a8['pGsjt'],_0x8f365a['type']=_0x3a10a8[_0x2c25dc(0xbf)];const _0x654aba={};return _0x654aba[_0x2c25dc(0xfa)]=_0x291c26,_0x654aba[_0x2c25dc(0x109)]=_0x8f365a,_0x54408a[_0x2c25dc(0x101)](HELP_HEADER_MESSAGE['init'])[_0x2c25dc(0xe3)](HELP_FOOTER_MESSAGE)[_0x2c25dc(0xd9)](_0x654aba)[_0x2c25dc(0xfd)]()[_0x2c25dc(0xdd)]()[_0x2c25dc(0xe6)](_0x3a10a8['hkfYo'])['argv'];},exports[a12_0xf4516a(0xf8)]=async function(_0x2c04e2){const _0x1a943c=a12_0xf4516a,_0x74d501={'tgueK':'Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','jlmbm':_0x1a943c(0xf7),'DJLit':_0x1a943c(0x107),'buKTE':'help','OzQDv':_0x1a943c(0xba),'XiOCn':function(_0x15ffc0){return _0x15ffc0();},'SVnxv':function(_0x1dd6e5){return _0x1dd6e5();},'ARdvN':function(_0x30b45c,_0x24f00a,_0x3d88b1,_0x715925,_0x274d6c,_0x568c75,_0x2b92af){return _0x30b45c(_0x24f00a,_0x3d88b1,_0x715925,_0x274d6c,_0x568c75,_0x2b92af);},'gsVyw':'init-called','DiBIo':function(_0x16184a,_0x349aec){return _0x16184a===_0x349aec;},'zdffs':'ZTrvZ','VQdVI':function(_0x40ca3f,_0x139b95){return _0x40ca3f!==_0x139b95;},'GrGJb':_0x1a943c(0xc2),'IgGdw':_0x1a943c(0x10d),'NtZfJ':function(_0x5e3763,_0x224f82){return _0x5e3763!==_0x224f82;},'tbqtR':'hpezM','TspzU':_0x1a943c(0xb8),'ZCgbo':function(_0x5c9b45,_0x15bca5){return _0x5c9b45===_0x15bca5;},'lfSWa':'NPzdf','csrjE':'MbZfx','TcGYC':function(_0x8dc37c,_0x45c2a1){return _0x8dc37c===_0x45c2a1;},'IZGRf':function(_0xbf089,_0x1c715b){return _0xbf089===_0x1c715b;},'fuqac':'pUzQg','lyoDp':_0x1a943c(0xd8),'pLZyL':_0x1a943c(0x102),'HAwUI':function(_0x3c9825,_0x40faed,_0x51df24){return _0x3c9825(_0x40faed,_0x51df24);},'AGCFf':function(_0x50982a,_0x215514){return _0x50982a!==_0x215514;},'NBaZo':function(_0x54c126,_0x34f9d8){return _0x54c126===_0x34f9d8;},'LRGvL':_0x1a943c(0xc3),'fgbMb':_0x1a943c(0xd5),'VvRJA':'oQIyC','yOaCP':'qDXIj','TRFbM':function(_0x5e8350){return _0x5e8350();},'bITxf':function(_0x47f761,_0x10242e){return _0x47f761===_0x10242e;},'kRlbg':_0x1a943c(0x104),'yEUEV':'Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','yrXse':function(_0x57303a,_0x324003,_0x37c44e,_0x5c2b05,_0x5bcb97,_0x268d96,_0x176f39){return _0x57303a(_0x324003,_0x37c44e,_0x5c2b05,_0x5bcb97,_0x268d96,_0x176f39);},'pbSJh':_0x1a943c(0xf3),'ESTWz':_0x1a943c(0x10c)};try{global_registry['requestId']=_0x74d501['SVnxv'](uuidv4),_0x74d501[_0x1a943c(0xe4)](sendInstrumentationEvent,_0x2c04e2,_0x74d501['gsVyw'],messageTypes[_0x1a943c(0xe0)],null,null,_0x2c04e2);const _0x490365=_0x74d501[_0x1a943c(0xda)](getDirForConfig);!fs[_0x1a943c(0xc1)](_0x490365)&&(_0x74d501[_0x1a943c(0x108)](_0x74d501[_0x1a943c(0xc5)],_0x74d501[_0x1a943c(0xc5)])?fs['mkdirSync'](_0x490365):_0x2b4a5=!![]);let _0x21d474,_0x5190d1;if(process['env'][_0x1a943c(0x119)]){if(_0x74d501['VQdVI'](_0x74d501[_0x1a943c(0xc8)],_0x74d501[_0x1a943c(0xdc)]))_0x21d474=process[_0x1a943c(0xe2)][_0x1a943c(0x119)];else{const _0x48f6e7={};_0x48f6e7[_0x1a943c(0xf2)]=_0x74d501[_0x1a943c(0x113)],_0x48f6e7[_0x1a943c(0xb5)]=_0x74d501[_0x1a943c(0x106)];const _0x132286={};_0x132286[_0x1a943c(0xf2)]=_0x74d501[_0x1a943c(0xd7)],_0x132286[_0x1a943c(0xb5)]=_0x74d501['jlmbm'];const _0x2ef2bd={};return _0x2ef2bd['bstack-username']=_0x48f6e7,_0x2ef2bd['bstack-accesskey']=_0x132286,_0x17e55[_0x1a943c(0x101)](_0x571cfd['init'])[_0x1a943c(0xe3)](_0x336c15)['options'](_0x2ef2bd)['recommendCommands']()[_0x1a943c(0xdd)]()[_0x1a943c(0xe6)](_0x74d501['buKTE'])[_0x1a943c(0x10b)];}}process[_0x1a943c(0xe2)][_0x1a943c(0xd4)]&&(_0x74d501['NtZfJ'](_0x74d501[_0x1a943c(0xc6)],_0x74d501[_0x1a943c(0xec)])?_0x5190d1=process[_0x1a943c(0xe2)][_0x1a943c(0xd4)]:_0x4f04a3['mkdirSync'](_0x2248a8));_0x2c04e2[_0x1a943c(0xf4)]&&(_0x74d501['ZCgbo'](_0x74d501[_0x1a943c(0x116)],_0x74d501['lfSWa'])?_0x21d474=_0x2c04e2[_0x1a943c(0xf4)]:_0x3bcd0f=_0x445a37[_0x1a943c(0xe1)]);_0x2c04e2[_0x1a943c(0xe1)]&&(_0x74d501[_0x1a943c(0xc0)](_0x74d501[_0x1a943c(0xb9)],_0x74d501[_0x1a943c(0xb9)])?_0x3d6d99=_0xc1c61b['parse'](_0x472240[_0x1a943c(0xf1)](_0x3e03e6,_0x74d501['OzQDv'])):_0x5190d1=_0x2c04e2[_0x1a943c(0xe1)]);if(_0x74d501[_0x1a943c(0xd0)](_0x21d474,undefined)||_0x74d501[_0x1a943c(0x112)](_0x5190d1,undefined)){if(_0x74d501[_0x1a943c(0xc0)](_0x74d501[_0x1a943c(0xbe)],_0x74d501['fuqac']))_0x44c4ce=_0x3db3b4[_0x1a943c(0xf4)];else{logger[_0x1a943c(0x100)](_0x74d501['lyoDp']);const [_0x51f787,_0x192172]=await _0x74d501[_0x1a943c(0xbd)](inputBstackKeys);_0x21d474=_0x51f787,_0x5190d1=_0x192172;}}let _0x3522b7=![];const _0x4f930a='https://'+_0x21d474+':'+_0x5190d1+'@'+BS_API_URL+_0x1a943c(0x103),_0x32a8a2={'method':_0x74d501[_0x1a943c(0xb7)],'headers':_0x74d501['HAwUI'](getAuthHeader,_0x21d474,_0x5190d1),'throwHttpErrors':![]},_0x48c24a=await _0x74d501[_0x1a943c(0xfc)](got,_0x4f930a,_0x32a8a2);_0x74d501['AGCFf'](_0x48c24a,null)&&_0x74d501[_0x1a943c(0xca)](_0x48c24a,undefined)&&_0x74d501[_0x1a943c(0xea)](_0x48c24a['statusCode'],0xc8)&&(_0x74d501['TcGYC'](_0x74d501['LRGvL'],_0x74d501['fgbMb'])?_0xc4ddc0=_0x46f459[_0x1a943c(0xe2)][_0x1a943c(0xd4)]:_0x3522b7=!![]);if(_0x3522b7){if(_0x74d501[_0x1a943c(0xc0)](_0x74d501[_0x1a943c(0x114)],_0x74d501[_0x1a943c(0xd6)])){let _0x4b297b={};const _0x1be187=_0x74d501[_0x1a943c(0xfb)](getCredentialsPath);fs[_0x1a943c(0xc1)](_0x1be187)&&(_0x74d501[_0x1a943c(0xfe)](_0x74d501[_0x1a943c(0xd1)],_0x74d501[_0x1a943c(0xd1)])?_0x4b297b=JSON[_0x1a943c(0xed)](fs[_0x1a943c(0xf1)](_0x1be187,_0x74d501[_0x1a943c(0xc7)])):_0x2a6949=_0x638360[_0x1a943c(0xe2)]['BROWSERSTACK_USERNAME']);const _0xd6ae58={};_0xd6ae58[_0x1a943c(0xb6)]=_0x21d474,_0xd6ae58[_0x1a943c(0xcb)]=_0x5190d1,_0x4b297b['Browserstack']=_0xd6ae58,fs[_0x1a943c(0xdf)](_0x1be187,JSON[_0x1a943c(0xf9)](_0x4b297b)),process[_0x1a943c(0xe5)](0x0);}else{let _0x53a9b9={};const _0x5caaad=_0x74d501[_0x1a943c(0xda)](_0x4b5f3d);_0x2d7de7['existsSync'](_0x5caaad)&&(_0x53a9b9=_0x2f9b51[_0x1a943c(0xed)](_0x504b43[_0x1a943c(0xf1)](_0x5caaad,_0x74d501[_0x1a943c(0xc7)])));const _0x4e7e04={};_0x4e7e04['username']=_0xb3e1e5,_0x4e7e04[_0x1a943c(0xcb)]=_0x387a96,_0x53a9b9[_0x1a943c(0x117)]=_0x4e7e04,_0x2fa61b[_0x1a943c(0xdf)](_0x5caaad,_0x35df79[_0x1a943c(0xf9)](_0x53a9b9)),_0xfe0fa9['exit'](0x0);}}else logger['error'](_0x74d501[_0x1a943c(0xc4)]),await _0x74d501['yrXse'](sendInstrumentationEvent,_0x2c04e2,_0x74d501[_0x1a943c(0x105)],messageTypes[_0x1a943c(0xd2)],_0x74d501['pbSJh'],null,_0x2c04e2),process['exit'](0x1);}catch(_0x37dab4){logger[_0x1a943c(0xbc)](_0x37dab4[_0x1a943c(0xce)]),await _0x74d501[_0x1a943c(0xe4)](sendInstrumentationEvent,_0x2c04e2,_0x74d501['gsVyw'],messageTypes[_0x1a943c(0xd2)],_0x74d501[_0x1a943c(0x115)],_0x37dab4,_0x2c04e2),process['exit'](0x1);}};