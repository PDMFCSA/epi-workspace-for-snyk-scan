const a12_0xad5d08=a12_0x545a;function a12_0x512a(){const _0x2c3650=['../config/constants','description','MLJsb','usage','5359140BNzoQk','Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.','password','stack','GET','qegfs','bstack-accesskey','uuid','MprDB','dmmLj','AtyQI','stringify','bstackUsername','BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','help','../utils/instrumentationUtils','string','zpvVP','25595487zolpTh','utf-8','readFileSync','kwJBl','FEKei','writeFileSync','Browserstack','3227772YKHtht','YesoT','ngkwO','TvPQo','INFO','5310LpKgqz','parse','argv','SiGqG','AEdtc','jWzFX','AYdIl','cirHq','wFyuP','../utils/userInput','options','epilogue','bstackAccesskey','debug','util','nmSVD','bRGCC','EZkOV','VSPdI','ctqgE','DZYuv','init','ERROR','BROWSERSTACK_USERNAME','init-called','14635nIIoin','bstack-username','RrtCt','Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','adCoe','WNiUq','adpCg','WZPyh','248wgHrpT','UyCcc','statusCode','builder','strict','2849896OZkmrO','requestId','iNFJy','Ikuqk','exit','existsSync','type','error','88nNthxn','got','../utils/utilityMethods','wrong-creds','SUyYD','desc','Juclo','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','unknown-error','BPYbe','handler','rlodn','MqqgL','ggirL','../config/logger','BROWSERSTACK_ACCESS_KEY','FQxZQ','WRGYJ','mkdirSync','WkwQr','env','272776LYISGT','command','AISSi','username'];a12_0x512a=function(){return _0x2c3650;};return a12_0x512a();}function a12_0x545a(_0x322d81,_0x11910c){const _0x512a5e=a12_0x512a();return a12_0x545a=function(_0x545a83,_0x82cf6f){_0x545a83=_0x545a83-0x11c;let _0x38471d=_0x512a5e[_0x545a83];return _0x38471d;},a12_0x545a(_0x322d81,_0x11910c);}(function(_0xc943a5,_0x54fa0f){const _0x4603f8=a12_0x545a,_0x5b993f=_0xc943a5();while(!![]){try{const _0x93ac5a=parseInt(_0x4603f8(0x166))/0x1+-parseInt(_0x4603f8(0x123))/0x2+-parseInt(_0x4603f8(0x161))/0x3+parseInt(_0x4603f8(0x12b))/0x4*(parseInt(_0x4603f8(0x17f))/0x5)+-parseInt(_0x4603f8(0x148))/0x6+-parseInt(_0x4603f8(0x140))/0x7*(-parseInt(_0x4603f8(0x11e))/0x8)+parseInt(_0x4603f8(0x15a))/0x9;if(_0x93ac5a===_0x54fa0f)break;else _0x5b993f['push'](_0x5b993f['shift']());}catch(_0x35adbd){_0x5b993f['push'](_0x5b993f['shift']());}}}(a12_0x512a,0xb1a29));const fs=require('fs'),util=require(a12_0xad5d08(0x174)),got=require(a12_0xad5d08(0x12c)),{v4:uuidv4}=require(a12_0xad5d08(0x14f)),{logger}=require(a12_0xad5d08(0x139)),{inputBstackKeys}=require(a12_0xad5d08(0x16f)),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a12_0xad5d08(0x144)),{getDirForConfig,getCredentialsPath,getAuthHeader}=require(a12_0xad5d08(0x12d)),{sendInstrumentationEvent}=require(a12_0xad5d08(0x157));exports[a12_0xad5d08(0x141)]=a12_0xad5d08(0x17b),exports[a12_0xad5d08(0x130)]=a12_0xad5d08(0x149),exports[a12_0xad5d08(0x121)]=function(_0x29a9ab){const _0x1c4222=a12_0xad5d08,_0x4bb035={};_0x4bb035[_0x1c4222(0x176)]=_0x1c4222(0x132),_0x4bb035[_0x1c4222(0x17a)]=_0x1c4222(0x158),_0x4bb035['rlodn']='Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.',_0x4bb035[_0x1c4222(0x177)]='help';const _0x157712=_0x4bb035,_0x168fca={};_0x168fca[_0x1c4222(0x145)]=_0x157712[_0x1c4222(0x176)],_0x168fca[_0x1c4222(0x129)]=_0x157712[_0x1c4222(0x17a)];const _0x20a03d={};_0x20a03d[_0x1c4222(0x145)]=_0x157712[_0x1c4222(0x136)],_0x20a03d['type']=_0x157712[_0x1c4222(0x17a)];const _0x3e7539={};return _0x3e7539['bstack-username']=_0x168fca,_0x3e7539[_0x1c4222(0x14e)]=_0x20a03d,_0x29a9ab['usage'](HELP_HEADER_MESSAGE['init'])['epilogue'](HELP_FOOTER_MESSAGE)[_0x1c4222(0x170)](_0x3e7539)['recommendCommands']()[_0x1c4222(0x122)]()[_0x1c4222(0x156)](_0x157712['EZkOV'])[_0x1c4222(0x168)];},exports[a12_0xad5d08(0x135)]=async function(_0x1acfc4){const _0x68e0e8=a12_0xad5d08,_0x20e203={'VKgOP':_0x68e0e8(0x132),'BPYbe':_0x68e0e8(0x158),'RrtCt':'Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','RsWYC':_0x68e0e8(0x156),'dmmLj':function(_0x1c5525){return _0x1c5525();},'WNiUq':_0x68e0e8(0x15b),'TvPQo':function(_0x786dd2,_0x4d5f8d,_0x1606b1,_0x54d17a,_0x1cdd16,_0x3fc3db,_0x4d7cf5){return _0x786dd2(_0x4d5f8d,_0x1606b1,_0x54d17a,_0x1cdd16,_0x3fc3db,_0x4d7cf5);},'iNFJy':_0x68e0e8(0x17e),'AISSi':function(_0x4d18a0,_0x1addd0){return _0x4d18a0!==_0x1addd0;},'MLJsb':_0x68e0e8(0x152),'YesoT':function(_0xaa182a,_0x2ce5fd){return _0xaa182a===_0x2ce5fd;},'kwJBl':_0x68e0e8(0x11d),'njXEU':function(_0x4b0349,_0xc614a9){return _0x4b0349!==_0xc614a9;},'ggirL':'QTIDb','rXmmA':_0x68e0e8(0x16c),'ngkwO':'fwbnt','MqqgL':_0x68e0e8(0x11c),'rYlfh':function(_0x630abc,_0x50670a){return _0x630abc===_0x50670a;},'FQxZQ':_0x68e0e8(0x16d),'FrWie':_0x68e0e8(0x155),'ctqgE':_0x68e0e8(0x14c),'UyCcc':function(_0x28f6fd,_0x3049c5,_0x5063e2){return _0x28f6fd(_0x3049c5,_0x5063e2);},'WkwQr':function(_0x3896b2,_0xdb451c){return _0x3896b2!==_0xdb451c;},'qegfs':function(_0x256190,_0x4baca0){return _0x256190!==_0x4baca0;},'zpvVP':function(_0x3fb660,_0x15b1e4){return _0x3fb660===_0x15b1e4;},'ZGqDr':_0x68e0e8(0x16b),'Juclo':_0x68e0e8(0x16e),'MprDB':function(_0x3866f0,_0x3b268d){return _0x3866f0===_0x3b268d;},'AEdtc':_0x68e0e8(0x126),'WRGYJ':function(_0x2b6ebf){return _0x2b6ebf();},'SUyYD':function(_0x3fa66b,_0x239a74){return _0x3fa66b===_0x239a74;},'adCoe':_0x68e0e8(0x169),'XuyCP':_0x68e0e8(0x182),'FEKei':_0x68e0e8(0x12e),'nmSVD':function(_0x24f5ca,_0x3bb280,_0x146ecb,_0x6be64a,_0x38c5e2,_0x481345,_0x432745){return _0x24f5ca(_0x3bb280,_0x146ecb,_0x6be64a,_0x38c5e2,_0x481345,_0x432745);},'VSPdI':_0x68e0e8(0x133)};try{global_registry[_0x68e0e8(0x124)]=_0x20e203[_0x68e0e8(0x151)](uuidv4),_0x20e203[_0x68e0e8(0x164)](sendInstrumentationEvent,_0x1acfc4,_0x20e203[_0x68e0e8(0x125)],messageTypes[_0x68e0e8(0x165)],null,null,_0x1acfc4);const _0x2092eb=_0x20e203['dmmLj'](getDirForConfig);if(!fs[_0x68e0e8(0x128)](_0x2092eb)){if(_0x20e203['AISSi'](_0x20e203[_0x68e0e8(0x146)],_0x20e203[_0x68e0e8(0x146)])){const _0x3f1d69={};_0x3f1d69['description']=_0x20e203['VKgOP'],_0x3f1d69[_0x68e0e8(0x129)]=_0x20e203[_0x68e0e8(0x134)];const _0x411d11={};_0x411d11[_0x68e0e8(0x145)]=_0x20e203[_0x68e0e8(0x181)],_0x411d11[_0x68e0e8(0x129)]=_0x20e203[_0x68e0e8(0x134)];const _0x33362c={};return _0x33362c[_0x68e0e8(0x180)]=_0x3f1d69,_0x33362c[_0x68e0e8(0x14e)]=_0x411d11,_0x2ddf28[_0x68e0e8(0x147)](_0x4f8220[_0x68e0e8(0x17b)])[_0x68e0e8(0x171)](_0x3d62e0)[_0x68e0e8(0x170)](_0x33362c)['recommendCommands']()['strict']()['help'](_0x20e203['RsWYC'])['argv'];}else fs['mkdirSync'](_0x2092eb);}let _0x2b1488,_0x2a677c;process[_0x68e0e8(0x13f)][_0x68e0e8(0x17d)]&&(_0x20e203[_0x68e0e8(0x162)](_0x20e203[_0x68e0e8(0x15d)],_0x20e203['kwJBl'])?_0x2b1488=process[_0x68e0e8(0x13f)][_0x68e0e8(0x17d)]:_0x48dc38=_0x261d89[_0x68e0e8(0x172)]);process[_0x68e0e8(0x13f)]['BROWSERSTACK_ACCESS_KEY']&&(_0x20e203['njXEU'](_0x20e203[_0x68e0e8(0x138)],_0x20e203['ggirL'])?_0x3acac3=_0x5ccb56['bstackUsername']:_0x2a677c=process[_0x68e0e8(0x13f)][_0x68e0e8(0x13a)]);_0x1acfc4[_0x68e0e8(0x154)]&&(_0x20e203[_0x68e0e8(0x142)](_0x20e203['rXmmA'],_0x20e203[_0x68e0e8(0x163)])?_0x2b1488=_0x1acfc4[_0x68e0e8(0x154)]:_0x47d3ac[_0x68e0e8(0x13d)](_0x5c678e));_0x1acfc4[_0x68e0e8(0x172)]&&(_0x20e203[_0x68e0e8(0x162)](_0x20e203[_0x68e0e8(0x137)],_0x20e203[_0x68e0e8(0x137)])?_0x2a677c=_0x1acfc4[_0x68e0e8(0x172)]:_0x516c38=!![]);if(_0x20e203[_0x68e0e8(0x162)](_0x2b1488,undefined)||_0x20e203['rYlfh'](_0x2a677c,undefined)){if(_0x20e203[_0x68e0e8(0x162)](_0x20e203[_0x68e0e8(0x13b)],_0x20e203['FQxZQ'])){logger[_0x68e0e8(0x173)](_0x20e203['FrWie']);const [_0x38c7c5,_0x32fc7c]=await _0x20e203[_0x68e0e8(0x151)](inputBstackKeys);_0x2b1488=_0x38c7c5,_0x2a677c=_0x32fc7c;}else{let _0x5489ff={};const _0x4577f0=_0x20e203['dmmLj'](_0x5421e9);_0x39492b[_0x68e0e8(0x128)](_0x4577f0)&&(_0x5489ff=_0xadf5fc[_0x68e0e8(0x167)](_0x194fa0[_0x68e0e8(0x15c)](_0x4577f0,_0x20e203[_0x68e0e8(0x184)])));const _0xb27f73={};_0xb27f73[_0x68e0e8(0x143)]=_0x3d03a0,_0xb27f73[_0x68e0e8(0x14a)]=_0x170fb4,_0x5489ff[_0x68e0e8(0x160)]=_0xb27f73,_0x349c00[_0x68e0e8(0x15f)](_0x4577f0,_0x322bd5[_0x68e0e8(0x153)](_0x5489ff)),_0x428b09[_0x68e0e8(0x127)](0x0);}}let _0x4605b6=![];const _0x2cb8bd='https://'+_0x2b1488+':'+_0x2a677c+'@'+BS_API_URL+'/automate/plan.json',_0x12b3f5={'method':_0x20e203[_0x68e0e8(0x179)],'headers':_0x20e203[_0x68e0e8(0x11f)](getAuthHeader,_0x2b1488,_0x2a677c),'throwHttpErrors':![]},_0x4e5287=await _0x20e203[_0x68e0e8(0x11f)](got,_0x2cb8bd,_0x12b3f5);_0x20e203[_0x68e0e8(0x13e)](_0x4e5287,null)&&_0x20e203[_0x68e0e8(0x14d)](_0x4e5287,undefined)&&_0x20e203[_0x68e0e8(0x159)](_0x4e5287[_0x68e0e8(0x120)],0xc8)&&(_0x20e203[_0x68e0e8(0x159)](_0x20e203['ZGqDr'],_0x20e203[_0x68e0e8(0x131)])?_0x44d4da=_0x6850c3[_0x68e0e8(0x13f)][_0x68e0e8(0x17d)]:_0x4605b6=!![]);if(_0x4605b6){if(_0x20e203[_0x68e0e8(0x150)](_0x20e203[_0x68e0e8(0x16a)],_0x20e203[_0x68e0e8(0x16a)])){let _0x300622={};const _0x274edd=_0x20e203[_0x68e0e8(0x13c)](getCredentialsPath);fs['existsSync'](_0x274edd)&&(_0x20e203[_0x68e0e8(0x12f)](_0x20e203[_0x68e0e8(0x183)],_0x20e203[_0x68e0e8(0x183)])?_0x300622=JSON[_0x68e0e8(0x167)](fs[_0x68e0e8(0x15c)](_0x274edd,_0x20e203[_0x68e0e8(0x184)])):_0x340875=_0x4bd2f5['env']['BROWSERSTACK_ACCESS_KEY']);const _0x379cb4={};_0x379cb4[_0x68e0e8(0x143)]=_0x2b1488,_0x379cb4[_0x68e0e8(0x14a)]=_0x2a677c,_0x300622[_0x68e0e8(0x160)]=_0x379cb4,fs['writeFileSync'](_0x274edd,JSON['stringify'](_0x300622)),process[_0x68e0e8(0x127)](0x0);}else _0x1c0acb=_0x20e963[_0x68e0e8(0x167)](_0x439f22[_0x68e0e8(0x15c)](_0x159ed1,_0x20e203['WNiUq']));}else logger[_0x68e0e8(0x12a)](_0x20e203['XuyCP']),await _0x20e203[_0x68e0e8(0x164)](sendInstrumentationEvent,_0x1acfc4,_0x20e203[_0x68e0e8(0x125)],messageTypes[_0x68e0e8(0x17c)],_0x20e203[_0x68e0e8(0x15e)],null,_0x1acfc4),process[_0x68e0e8(0x127)](0x1);}catch(_0x2a2a42){logger[_0x68e0e8(0x12a)](_0x2a2a42[_0x68e0e8(0x14b)]),await _0x20e203[_0x68e0e8(0x175)](sendInstrumentationEvent,_0x1acfc4,_0x20e203[_0x68e0e8(0x125)],messageTypes['ERROR'],_0x20e203[_0x68e0e8(0x178)],_0x2a2a42,_0x1acfc4),process[_0x68e0e8(0x127)](0x1);}};