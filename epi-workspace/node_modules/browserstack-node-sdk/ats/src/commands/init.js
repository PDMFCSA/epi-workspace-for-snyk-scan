const a12_0x16f09f=a12_0x8990;function a12_0x8990(_0x44fdcc,_0x481f23){const _0x514670=a12_0x5146();return a12_0x8990=function(_0x8990dd,_0x130792){_0x8990dd=_0x8990dd-0x1e7;let _0x222aa3=_0x514670[_0x8990dd];return _0x222aa3;},a12_0x8990(_0x44fdcc,_0x481f23);}(function(_0x50d1f0,_0x1bc10b){const _0x3b93d4=a12_0x8990,_0x218a9c=_0x50d1f0();while(!![]){try{const _0xa37225=parseInt(_0x3b93d4(0x245))/0x1+-parseInt(_0x3b93d4(0x219))/0x2+parseInt(_0x3b93d4(0x240))/0x3+parseInt(_0x3b93d4(0x1f7))/0x4+parseInt(_0x3b93d4(0x22a))/0x5*(-parseInt(_0x3b93d4(0x227))/0x6)+parseInt(_0x3b93d4(0x231))/0x7+-parseInt(_0x3b93d4(0x242))/0x8;if(_0xa37225===_0x1bc10b)break;else _0x218a9c['push'](_0x218a9c['shift']());}catch(_0x46c998){_0x218a9c['push'](_0x218a9c['shift']());}}}(a12_0x5146,0x3cda9));function a12_0x5146(){const _0x4aeef2=['BROWSERSTACK_USERNAME','util','gFAEF','existsSync','/automate/plan.json','debug','builder','requestId','aqWVG','HwFBv','tSttE','lVDyn','pdxIo','oTvcG','789114eMKpJB','../utils/utilityMethods','4511416WCwrRN','nHcaY','epilogue','490745lMYdvh','ERROR','cHEBT','help','../config/logger','parse','uuid','INFO','readFileSync','uAhXw','jGXvW','dPQbz','lQOZk','TINWt','PWuOE','writeFileSync','KUmjm','wrong-creds','RPazb','error','jYJcr','MaZfu','handler','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','jxLzj','1396508sDBQUL','Browserstack','../utils/instrumentationUtils','description','GueuH','hhnHh','command','sAkCB','GET','EZbOp','gujmy','FCDNR','username','strict','string','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','env','stringify','type','rrhIY','init-called','bstack-accesskey','nDeDp','argv','jxHUg','bstackAccesskey','https://','bstackUsername','exit','TkStS','YmpSS','oyIUD','usage','options','92824zMZRSe','desc','bOhXK','hkamj','../config/constants','NGVZK','JIuyk','../utils/userInput','init','mkdirSync','NKmvU','statusCode','syPsK','bstack-username','6DhUnBn','recommendCommands','ZUsWO','2475695QhKAkj','BROWSERSTACK_ACCESS_KEY','KXSpA','HzsGR','Siini','utf-8','xJlVY','1762775SHEous'];a12_0x5146=function(){return _0x4aeef2;};return a12_0x5146();}const fs=require('fs'),util=require(a12_0x16f09f(0x233)),got=require('got'),{v4:uuidv4}=require(a12_0x16f09f(0x24b)),{logger}=require(a12_0x16f09f(0x249)),{inputBstackKeys}=require(a12_0x16f09f(0x220)),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a12_0x16f09f(0x21d)),{getDirForConfig,getCredentialsPath,getAuthHeader}=require(a12_0x16f09f(0x241)),{sendInstrumentationEvent}=require(a12_0x16f09f(0x1f9));exports[a12_0x16f09f(0x1fd)]=a12_0x16f09f(0x221),exports[a12_0x16f09f(0x21a)]='Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.',exports[a12_0x16f09f(0x238)]=function(_0x68ef37){const _0x3ab087=a12_0x16f09f,_0x564993={};_0x564993[_0x3ab087(0x247)]=_0x3ab087(0x206),_0x564993['TINWt']=_0x3ab087(0x205),_0x564993['aqWVG']=_0x3ab087(0x1f5),_0x564993[_0x3ab087(0x1e9)]='help';const _0x5d07c2=_0x564993,_0x25aa03={};_0x25aa03[_0x3ab087(0x1fa)]=_0x5d07c2['cHEBT'],_0x25aa03['type']=_0x5d07c2[_0x3ab087(0x1eb)];const _0xab4763={};_0xab4763[_0x3ab087(0x1fa)]=_0x5d07c2[_0x3ab087(0x23a)],_0xab4763[_0x3ab087(0x209)]=_0x5d07c2[_0x3ab087(0x1eb)];const _0x3200e0={};return _0x3200e0[_0x3ab087(0x226)]=_0x25aa03,_0x3200e0['bstack-accesskey']=_0xab4763,_0x68ef37[_0x3ab087(0x217)](HELP_HEADER_MESSAGE['init'])['epilogue'](HELP_FOOTER_MESSAGE)[_0x3ab087(0x218)](_0x3200e0)[_0x3ab087(0x228)]()['strict']()[_0x3ab087(0x248)](_0x5d07c2[_0x3ab087(0x1e9)])[_0x3ab087(0x20e)];},exports[a12_0x16f09f(0x1f4)]=async function(_0x2ace43){const _0x418f9a=a12_0x16f09f,_0x2c48c9={'RPazb':function(_0x50002e){return _0x50002e();},'EZbOp':_0x418f9a(0x22f),'QoIcQ':_0x418f9a(0x206),'gFAEF':'string','sAkCB':'Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','rrhIY':'help','FCDNR':function(_0x2a25e6){return _0x2a25e6();},'lVDyn':function(_0x1b1336,_0x6c225d,_0x8fc1d7,_0x124cec,_0x4d3b2a,_0x23431b,_0x5640c3){return _0x1b1336(_0x6c225d,_0x8fc1d7,_0x124cec,_0x4d3b2a,_0x23431b,_0x5640c3);},'tSttE':_0x418f9a(0x20b),'DhIrZ':function(_0x1b2039,_0x3a2355){return _0x1b2039!==_0x3a2355;},'WhVwP':_0x418f9a(0x1fb),'hSwZh':_0x418f9a(0x1e7),'Siini':function(_0x2fc669,_0x38b27b){return _0x2fc669!==_0x38b27b;},'ZUsWO':_0x418f9a(0x225),'NGVZK':function(_0x37f4f9,_0xc42521){return _0x37f4f9!==_0xc42521;},'YmpSS':_0x418f9a(0x22d),'xJlVY':function(_0x2228dc,_0x4a9de1){return _0x2228dc!==_0x4a9de1;},'jGXvW':_0x418f9a(0x23f),'pdxIo':'Xkdyo','hkamj':function(_0x2ba92b,_0x591840){return _0x2ba92b!==_0x591840;},'bOhXK':_0x418f9a(0x1fc),'NKmvU':function(_0xa8b9b9,_0x1ec452){return _0xa8b9b9===_0x1ec452;},'oyIUD':_0x418f9a(0x201),'AlXOK':'BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','tuJKv':function(_0x544a43){return _0x544a43();},'nDeDp':_0x418f9a(0x1ff),'JIuyk':function(_0x2d879f,_0x387ff3,_0x1365e9){return _0x2d879f(_0x387ff3,_0x1365e9);},'bljVx':function(_0x147b29,_0x25624){return _0x147b29!==_0x25624;},'jxHUg':function(_0x4ca030,_0xa1a5a6){return _0x4ca030!==_0xa1a5a6;},'TkStS':_0x418f9a(0x1f6),'KUmjm':'GQPuA','HwFBv':_0x418f9a(0x243),'JWlRs':function(_0x59ff06,_0x4e525c){return _0x59ff06===_0x4e525c;},'jYJcr':_0x418f9a(0x1ec),'MaZfu':'Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','Vrgfa':function(_0x4fe703,_0x1373e1,_0x104ea9,_0x1c5ed8,_0x152a63,_0x58f62b,_0x323bb8){return _0x4fe703(_0x1373e1,_0x104ea9,_0x1c5ed8,_0x152a63,_0x58f62b,_0x323bb8);},'lQOZk':_0x418f9a(0x1ef),'KXSpA':'unknown-error'};try{global_registry[_0x418f9a(0x239)]=_0x2c48c9[_0x418f9a(0x202)](uuidv4),_0x2c48c9[_0x418f9a(0x23d)](sendInstrumentationEvent,_0x2ace43,_0x2c48c9[_0x418f9a(0x23c)],messageTypes[_0x418f9a(0x24c)],null,null,_0x2ace43);const _0x497402=_0x2c48c9[_0x418f9a(0x1f0)](getDirForConfig);!fs[_0x418f9a(0x235)](_0x497402)&&(_0x2c48c9['DhIrZ'](_0x2c48c9['WhVwP'],_0x2c48c9['hSwZh'])?fs[_0x418f9a(0x222)](_0x497402):_0x3dd493=!![]);let _0x440d15,_0x4ceda9;process[_0x418f9a(0x207)]['BROWSERSTACK_USERNAME']&&(_0x2c48c9[_0x418f9a(0x22e)](_0x2c48c9[_0x418f9a(0x229)],_0x2c48c9[_0x418f9a(0x229)])?_0x4053d2=_0x4372c1['env'][_0x418f9a(0x232)]:_0x440d15=process[_0x418f9a(0x207)][_0x418f9a(0x232)]);if(process[_0x418f9a(0x207)][_0x418f9a(0x22b)]){if(_0x2c48c9[_0x418f9a(0x21e)](_0x2c48c9['YmpSS'],_0x2c48c9[_0x418f9a(0x215)])){let _0x5d1144={};const _0x343b89=_0x2c48c9['RPazb'](_0x460784);_0x4ad7fb['existsSync'](_0x343b89)&&(_0x5d1144=_0x4a345a[_0x418f9a(0x24a)](_0x7f30ce['readFileSync'](_0x343b89,_0x2c48c9[_0x418f9a(0x200)])));const _0xba99b9={};_0xba99b9[_0x418f9a(0x203)]=_0x10e476,_0xba99b9['password']=_0x2f2e82,_0x5d1144[_0x418f9a(0x1f8)]=_0xba99b9,_0x58a251['writeFileSync'](_0x343b89,_0x3efcf6[_0x418f9a(0x208)](_0x5d1144)),_0xf98de4[_0x418f9a(0x213)](0x0);}else _0x4ceda9=process['env'][_0x418f9a(0x22b)];}_0x2ace43[_0x418f9a(0x212)]&&(_0x2c48c9[_0x418f9a(0x230)](_0x2c48c9[_0x418f9a(0x1e8)],_0x2c48c9[_0x418f9a(0x23e)])?_0x440d15=_0x2ace43[_0x418f9a(0x212)]:_0x3aa6a4=_0x220d12[_0x418f9a(0x24a)](_0x41ed95[_0x418f9a(0x24d)](_0x3bfe49,_0x2c48c9['EZbOp'])));if(_0x2ace43[_0x418f9a(0x210)]){if(_0x2c48c9[_0x418f9a(0x21c)](_0x2c48c9[_0x418f9a(0x21b)],_0x2c48c9[_0x418f9a(0x21b)])){const _0x3549a9={};_0x3549a9[_0x418f9a(0x1fa)]=_0x2c48c9['QoIcQ'],_0x3549a9[_0x418f9a(0x209)]=_0x2c48c9[_0x418f9a(0x234)];const _0x405686={};_0x405686[_0x418f9a(0x1fa)]=_0x2c48c9[_0x418f9a(0x1fe)],_0x405686[_0x418f9a(0x209)]=_0x2c48c9[_0x418f9a(0x234)];const _0x338626={};return _0x338626[_0x418f9a(0x226)]=_0x3549a9,_0x338626[_0x418f9a(0x20c)]=_0x405686,_0xa551f8['usage'](_0x36a192[_0x418f9a(0x221)])[_0x418f9a(0x244)](_0x2fb801)[_0x418f9a(0x218)](_0x338626)['recommendCommands']()[_0x418f9a(0x204)]()[_0x418f9a(0x248)](_0x2c48c9[_0x418f9a(0x20a)])[_0x418f9a(0x20e)];}else _0x4ceda9=_0x2ace43['bstackAccesskey'];}if(_0x2c48c9[_0x418f9a(0x223)](_0x440d15,undefined)||_0x2c48c9['NKmvU'](_0x4ceda9,undefined)){if(_0x2c48c9[_0x418f9a(0x223)](_0x2c48c9[_0x418f9a(0x216)],_0x2c48c9[_0x418f9a(0x216)])){logger[_0x418f9a(0x237)](_0x2c48c9['AlXOK']);const [_0x355010,_0x1e5aea]=await _0x2c48c9['tuJKv'](inputBstackKeys);_0x440d15=_0x355010,_0x4ceda9=_0x1e5aea;}else _0x5b58c0=_0x341084[_0x418f9a(0x210)];}let _0x4e56da=![];const _0x3d7c47=_0x418f9a(0x211)+_0x440d15+':'+_0x4ceda9+'@'+BS_API_URL+_0x418f9a(0x236),_0x34522e={'method':_0x2c48c9[_0x418f9a(0x20d)],'headers':_0x2c48c9['JIuyk'](getAuthHeader,_0x440d15,_0x4ceda9),'throwHttpErrors':![]},_0x35e145=await _0x2c48c9[_0x418f9a(0x21f)](got,_0x3d7c47,_0x34522e);_0x2c48c9['bljVx'](_0x35e145,null)&&_0x2c48c9[_0x418f9a(0x20f)](_0x35e145,undefined)&&_0x2c48c9[_0x418f9a(0x223)](_0x35e145[_0x418f9a(0x224)],0xc8)&&(_0x2c48c9[_0x418f9a(0x223)](_0x2c48c9[_0x418f9a(0x214)],_0x2c48c9[_0x418f9a(0x1ee)])?_0x59a610=_0x454c10[_0x418f9a(0x207)][_0x418f9a(0x22b)]:_0x4e56da=!![]);if(_0x4e56da){if(_0x2c48c9['NKmvU'](_0x2c48c9[_0x418f9a(0x23b)],_0x2c48c9[_0x418f9a(0x23b)])){let _0x512d1f={};const _0x27f931=_0x2c48c9[_0x418f9a(0x1f0)](getCredentialsPath);fs[_0x418f9a(0x235)](_0x27f931)&&(_0x2c48c9['JWlRs'](_0x2c48c9['jYJcr'],_0x2c48c9[_0x418f9a(0x1f2)])?_0x512d1f=JSON['parse'](fs[_0x418f9a(0x24d)](_0x27f931,_0x2c48c9[_0x418f9a(0x200)])):_0x2da789[_0x418f9a(0x222)](_0x910050));const _0x269451={};_0x269451['username']=_0x440d15,_0x269451['password']=_0x4ceda9,_0x512d1f['Browserstack']=_0x269451,fs[_0x418f9a(0x1ed)](_0x27f931,JSON['stringify'](_0x512d1f)),process['exit'](0x0);}else _0x4258c5=_0x3b52d3[_0x418f9a(0x212)];}else logger[_0x418f9a(0x1f1)](_0x2c48c9[_0x418f9a(0x1f3)]),await _0x2c48c9['Vrgfa'](sendInstrumentationEvent,_0x2ace43,_0x2c48c9[_0x418f9a(0x23c)],messageTypes['ERROR'],_0x2c48c9[_0x418f9a(0x1ea)],null,_0x2ace43),process[_0x418f9a(0x213)](0x1);}catch(_0x4fad53){logger[_0x418f9a(0x1f1)](_0x4fad53['stack']),await _0x2c48c9[_0x418f9a(0x23d)](sendInstrumentationEvent,_0x2ace43,_0x2c48c9[_0x418f9a(0x23c)],messageTypes[_0x418f9a(0x246)],_0x2c48c9[_0x418f9a(0x22c)],_0x4fad53,_0x2ace43),process[_0x418f9a(0x213)](0x1);}};