const a12_0x45e60b=a12_0x3d75;(function(_0x1da8a5,_0x33f115){const _0xd23b38=a12_0x3d75,_0x2b0dbe=_0x1da8a5();while(!![]){try{const _0x280bc9=-parseInt(_0xd23b38(0xd8))/0x1+parseInt(_0xd23b38(0xa3))/0x2+parseInt(_0xd23b38(0xbf))/0x3+parseInt(_0xd23b38(0x9f))/0x4+-parseInt(_0xd23b38(0xa9))/0x5*(-parseInt(_0xd23b38(0xb8))/0x6)+-parseInt(_0xd23b38(0xad))/0x7+parseInt(_0xd23b38(0x9a))/0x8*(-parseInt(_0xd23b38(0xdd))/0x9);if(_0x280bc9===_0x33f115)break;else _0x2b0dbe['push'](_0x2b0dbe['shift']());}catch(_0x4e173e){_0x2b0dbe['push'](_0x2b0dbe['shift']());}}}(a12_0xad02,0xccc32));function a12_0x3d75(_0x1d3384,_0x3d933e){const _0xad0275=a12_0xad02();return a12_0x3d75=function(_0x3d751a,_0x6ddd7a){_0x3d751a=_0x3d751a-0x7f;let _0xb02ce=_0xad0275[_0x3d751a];return _0xb02ce;},a12_0x3d75(_0x1d3384,_0x3d933e);}const fs=require('fs'),util=require(a12_0x45e60b(0xae)),got=require('got'),{v4:uuidv4}=require(a12_0x45e60b(0xa4)),{logger}=require('../config/logger'),{inputBstackKeys}=require(a12_0x45e60b(0xb6)),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a12_0x45e60b(0xce)),{getDirForConfig,getCredentialsPath,getAuthHeader}=require('../utils/utilityMethods'),{sendInstrumentationEvent}=require(a12_0x45e60b(0xd3));function a12_0xad02(){const _0x1e50b1=['216583Xvjdep','readFileSync','bstackUsername','bstackAccesskey','FNFiR','9fqZZWh','BROWSERSTACK_ACCESS_KEY','type','bstack-accesskey','VWKyb','help','XpuOX','kCaWB','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','vcSIM','szJuu','kybGa','SGFAK','existsSync','string','Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','utf-8','usage','oguEo','parse','dCjOa','SkOfH','eVluA','requestId','writeFileSync','SxnUY','FlEuc','Browserstack','kMZBt','qeKto','env','YpKsb','init','strict','SGCSI','SpoKp','14323112sHQQvw','dxLSV','/automate/plan.json','PYDCs','init-called','5477968iiqcKB','tlDQl','GET','password','1754152SRZsHU','uuid','lIJFN','OCcqU','desc','iUYIF','24425aUllUy','zlEbp','XXxPG','recommendCommands','7235473sgVwnz','util','username','debug','TiVUq','exit','ERROR','BROWSERSTACK_USERNAME','mCAdd','../utils/userInput','KsRqm','288bXhyZJ','oqtqQ','uhHCS','GYSnF','nPUSe','epilogue','builder','4194807XcWssH','XohDU','Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.','wrong-creds','NtRDG','BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','bstack-username','ZKZbp','wtVIS','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','description','uVSnB','mkdirSync','stringify','handler','../config/constants','options','vXxRL','CEXRt','tQtGH','../utils/instrumentationUtils','CjRfL','command','TeCWy','uNtQc'];a12_0xad02=function(){return _0x1e50b1;};return a12_0xad02();}exports[a12_0x45e60b(0xd5)]=a12_0x45e60b(0x96),exports[a12_0x45e60b(0xa7)]=a12_0x45e60b(0xc1),exports[a12_0x45e60b(0xbe)]=function(_0x73dccf){const _0xd867b=a12_0x45e60b,_0x4de6f0={};_0x4de6f0[_0xd867b(0xab)]='Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.',_0x4de6f0[_0xd867b(0x90)]=_0xd867b(0x84),_0x4de6f0['tQtGH']=_0xd867b(0xc8),_0x4de6f0[_0xd867b(0x80)]=_0xd867b(0xe2);const _0x5baa34=_0x4de6f0,_0x3ee654={};_0x3ee654[_0xd867b(0xc9)]=_0x5baa34[_0xd867b(0xab)],_0x3ee654[_0xd867b(0xdf)]=_0x5baa34[_0xd867b(0x90)];const _0x17c72a={};_0x17c72a[_0xd867b(0xc9)]=_0x5baa34[_0xd867b(0xd2)],_0x17c72a[_0xd867b(0xdf)]=_0x5baa34[_0xd867b(0x90)];const _0x15fa6b={};return _0x15fa6b[_0xd867b(0xc5)]=_0x3ee654,_0x15fa6b[_0xd867b(0xe0)]=_0x17c72a,_0x73dccf[_0xd867b(0x87)](HELP_HEADER_MESSAGE[_0xd867b(0x96)])[_0xd867b(0xbd)](HELP_FOOTER_MESSAGE)[_0xd867b(0xcf)](_0x15fa6b)['recommendCommands']()[_0xd867b(0x97)]()[_0xd867b(0xe2)](_0x5baa34[_0xd867b(0x80)])['argv'];},exports[a12_0x45e60b(0xcd)]=async function(_0x2d8aa1){const _0x908e2=a12_0x45e60b,_0x550d0b={'oqtqQ':_0x908e2(0x86),'SGCSI':function(_0x6755d2){return _0x6755d2();},'kybGa':_0x908e2(0xe5),'CEXRt':_0x908e2(0x84),'bLHOZ':'Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','nOoQh':_0x908e2(0xe2),'SGFAK':function(_0xbc8180,_0x1baf68,_0x97c45,_0x4c5d30,_0x530c03,_0x18dd69,_0x3bd3d6){return _0xbc8180(_0x1baf68,_0x97c45,_0x4c5d30,_0x530c03,_0x18dd69,_0x3bd3d6);},'wtVIS':_0x908e2(0x9e),'KsRqm':function(_0xdb29bb,_0x200442){return _0xdb29bb===_0x200442;},'roiYY':_0x908e2(0x99),'YpKsb':_0x908e2(0xa6),'vXxRL':function(_0x3985c5,_0x430e71){return _0x3985c5!==_0x430e71;},'XpuOX':_0x908e2(0xe1),'CjRfL':_0x908e2(0xca),'pQvas':function(_0x1dfda1,_0xd250c6){return _0x1dfda1!==_0xd250c6;},'mCAdd':_0x908e2(0xbc),'FNFiR':_0x908e2(0x8a),'kMZBt':function(_0x18a518,_0x2d2824){return _0x18a518!==_0x2d2824;},'SkOfH':_0x908e2(0xd6),'PYDCs':function(_0x3be424,_0x43da4e){return _0x3be424===_0x43da4e;},'TiVUq':'pdHGF','kCaWB':_0x908e2(0xc3),'tlDQl':_0x908e2(0xba),'LxZNB':_0x908e2(0xc4),'wPnSB':function(_0x45aeba){return _0x45aeba();},'dxLSV':_0x908e2(0xa1),'ZKZbp':function(_0x563924,_0x51a4ce,_0x292eaa){return _0x563924(_0x51a4ce,_0x292eaa);},'SxnUY':function(_0x567615,_0x16c1ce,_0xa961b6){return _0x567615(_0x16c1ce,_0xa961b6);},'lIJFN':function(_0x4936db,_0x77597e){return _0x4936db!==_0x77597e;},'aCUOt':function(_0x1bcce8,_0xcc1c68){return _0x1bcce8!==_0xcc1c68;},'XohDU':'aTBVa','bKTKZ':_0x908e2(0x7f),'ujLNH':_0x908e2(0x8c),'zlEbp':_0x908e2(0xa8),'rgVLV':function(_0x54eefa){return _0x54eefa();},'oguEo':_0x908e2(0xbb),'dFmaW':_0x908e2(0xd7),'nTiVp':_0x908e2(0x85),'BhdBg':_0x908e2(0xc2),'TbyVj':function(_0x4be1bf,_0x56dcf1,_0x32ec60,_0x10beee,_0x222161,_0x55960e,_0x1605b6){return _0x4be1bf(_0x56dcf1,_0x32ec60,_0x10beee,_0x222161,_0x55960e,_0x1605b6);},'qeKto':'unknown-error'};try{global_registry[_0x908e2(0x8d)]=_0x550d0b['SGCSI'](uuidv4),_0x550d0b[_0x908e2(0x82)](sendInstrumentationEvent,_0x2d8aa1,_0x550d0b[_0x908e2(0xc7)],messageTypes['INFO'],null,null,_0x2d8aa1);const _0x5873e8=_0x550d0b[_0x908e2(0x98)](getDirForConfig);!fs[_0x908e2(0x83)](_0x5873e8)&&(_0x550d0b[_0x908e2(0xb7)](_0x550d0b['roiYY'],_0x550d0b[_0x908e2(0x95)])?_0x5999e9[_0x908e2(0xcb)](_0x22cdf8):fs[_0x908e2(0xcb)](_0x5873e8));let _0x133903,_0x46c686;process[_0x908e2(0x94)]['BROWSERSTACK_USERNAME']&&(_0x550d0b[_0x908e2(0xd0)](_0x550d0b[_0x908e2(0xe3)],_0x550d0b[_0x908e2(0xd4)])?_0x133903=process[_0x908e2(0x94)]['BROWSERSTACK_USERNAME']:_0x2a3c50=_0x35113f[_0x908e2(0x89)](_0x9b9afd[_0x908e2(0xd9)](_0x2993bf,_0x550d0b[_0x908e2(0xb9)])));process[_0x908e2(0x94)][_0x908e2(0xde)]&&(_0x550d0b['pQvas'](_0x550d0b[_0x908e2(0xb5)],_0x550d0b[_0x908e2(0xdc)])?_0x46c686=process[_0x908e2(0x94)][_0x908e2(0xde)]:_0x219977=_0x23c196[_0x908e2(0x94)][_0x908e2(0xb4)]);_0x2d8aa1[_0x908e2(0xda)]&&(_0x550d0b[_0x908e2(0x92)](_0x550d0b[_0x908e2(0x8b)],_0x550d0b[_0x908e2(0x8b)])?_0x241a86=_0x133645[_0x908e2(0xdb)]:_0x133903=_0x2d8aa1[_0x908e2(0xda)]);_0x2d8aa1[_0x908e2(0xdb)]&&(_0x550d0b[_0x908e2(0x9d)](_0x550d0b[_0x908e2(0xb1)],_0x550d0b[_0x908e2(0xb1)])?_0x46c686=_0x2d8aa1[_0x908e2(0xdb)]:_0x329262=_0x5ba4ab[_0x908e2(0x94)][_0x908e2(0xde)]);if(_0x550d0b[_0x908e2(0x9d)](_0x133903,undefined)||_0x550d0b[_0x908e2(0xb7)](_0x46c686,undefined)){if(_0x550d0b[_0x908e2(0xb7)](_0x550d0b[_0x908e2(0xe4)],_0x550d0b[_0x908e2(0xa0)]))_0x27a812=_0x1aabca[_0x908e2(0xda)];else{logger[_0x908e2(0xb0)](_0x550d0b['LxZNB']);const [_0x4fe335,_0x49cdc1]=await _0x550d0b['wPnSB'](inputBstackKeys);_0x133903=_0x4fe335,_0x46c686=_0x49cdc1;}}let _0x3074c7=![];const _0x348765='https://'+_0x133903+':'+_0x46c686+'@'+BS_API_URL+_0x908e2(0x9c),_0x2b0916={'method':_0x550d0b[_0x908e2(0x9b)],'headers':_0x550d0b[_0x908e2(0xc6)](getAuthHeader,_0x133903,_0x46c686),'throwHttpErrors':![]},_0x1ac63b=await _0x550d0b[_0x908e2(0x8f)](got,_0x348765,_0x2b0916);_0x550d0b[_0x908e2(0xa5)](_0x1ac63b,null)&&_0x550d0b['aCUOt'](_0x1ac63b,undefined)&&_0x550d0b[_0x908e2(0x9d)](_0x1ac63b['statusCode'],0xc8)&&(_0x550d0b[_0x908e2(0xb7)](_0x550d0b[_0x908e2(0xc0)],_0x550d0b['bKTKZ'])?_0x38cf74=!![]:_0x3074c7=!![]);if(_0x3074c7){if(_0x550d0b['kMZBt'](_0x550d0b['ujLNH'],_0x550d0b[_0x908e2(0xaa)])){let _0x398c65={};const _0x5ade54=_0x550d0b['rgVLV'](getCredentialsPath);if(fs[_0x908e2(0x83)](_0x5ade54)){if(_0x550d0b[_0x908e2(0xb7)](_0x550d0b[_0x908e2(0x88)],_0x550d0b['dFmaW'])){let _0xd5009={};const _0x2cfd45=_0x550d0b['SGCSI'](_0x263973);_0x257d2f['existsSync'](_0x2cfd45)&&(_0xd5009=_0x1556c3[_0x908e2(0x89)](_0xfe0ff6[_0x908e2(0xd9)](_0x2cfd45,_0x550d0b['oqtqQ'])));const _0xd85d06={};_0xd85d06['username']=_0x44b3e9,_0xd85d06[_0x908e2(0xa2)]=_0xdb02c7,_0xd5009['Browserstack']=_0xd85d06,_0x243238[_0x908e2(0x8e)](_0x2cfd45,_0x533cbd[_0x908e2(0xcc)](_0xd5009)),_0x2f7572[_0x908e2(0xb2)](0x0);}else _0x398c65=JSON[_0x908e2(0x89)](fs[_0x908e2(0xd9)](_0x5ade54,_0x550d0b[_0x908e2(0xb9)]));}const _0x249ffe={};_0x249ffe[_0x908e2(0xaf)]=_0x133903,_0x249ffe[_0x908e2(0xa2)]=_0x46c686,_0x398c65[_0x908e2(0x91)]=_0x249ffe,fs[_0x908e2(0x8e)](_0x5ade54,JSON['stringify'](_0x398c65)),process[_0x908e2(0xb2)](0x0);}else{const _0x1964dc={};_0x1964dc[_0x908e2(0xc9)]=_0x550d0b[_0x908e2(0x81)],_0x1964dc[_0x908e2(0xdf)]=_0x550d0b[_0x908e2(0xd1)];const _0xbbb393={};_0xbbb393[_0x908e2(0xc9)]=_0x550d0b['bLHOZ'],_0xbbb393['type']=_0x550d0b['CEXRt'];const _0x33ed62={};return _0x33ed62[_0x908e2(0xc5)]=_0x1964dc,_0x33ed62[_0x908e2(0xe0)]=_0xbbb393,_0x410f54[_0x908e2(0x87)](_0x141404[_0x908e2(0x96)])['epilogue'](_0x27ce14)['options'](_0x33ed62)[_0x908e2(0xac)]()['strict']()[_0x908e2(0xe2)](_0x550d0b['nOoQh'])['argv'];}}else logger['error'](_0x550d0b['nTiVp']),await _0x550d0b[_0x908e2(0x82)](sendInstrumentationEvent,_0x2d8aa1,_0x550d0b[_0x908e2(0xc7)],messageTypes[_0x908e2(0xb3)],_0x550d0b['BhdBg'],null,_0x2d8aa1),process[_0x908e2(0xb2)](0x1);}catch(_0x39db5e){logger['error'](_0x39db5e['stack']),await _0x550d0b['TbyVj'](sendInstrumentationEvent,_0x2d8aa1,_0x550d0b[_0x908e2(0xc7)],messageTypes[_0x908e2(0xb3)],_0x550d0b[_0x908e2(0x93)],_0x39db5e,_0x2d8aa1),process[_0x908e2(0xb2)](0x1);}};