const a12_0x3fe1c8=a12_0x2701;function a12_0x2701(_0x50011b,_0xdfc672){const _0x5ab0e4=a12_0x5ab0();return a12_0x2701=function(_0x270195,_0x9ee4ec){_0x270195=_0x270195-0x1de;let _0x11cd94=_0x5ab0e4[_0x270195];return _0x11cd94;},a12_0x2701(_0x50011b,_0xdfc672);}(function(_0x4bdd11,_0x32330b){const _0x374140=a12_0x2701,_0x43a851=_0x4bdd11();while(!![]){try{const _0x138913=-parseInt(_0x374140(0x22a))/0x1+-parseInt(_0x374140(0x220))/0x2+-parseInt(_0x374140(0x1e7))/0x3*(parseInt(_0x374140(0x1e2))/0x4)+-parseInt(_0x374140(0x204))/0x5*(parseInt(_0x374140(0x214))/0x6)+-parseInt(_0x374140(0x235))/0x7*(parseInt(_0x374140(0x212))/0x8)+parseInt(_0x374140(0x1f3))/0x9*(-parseInt(_0x374140(0x23a))/0xa)+parseInt(_0x374140(0x1fb))/0xb*(parseInt(_0x374140(0x238))/0xc);if(_0x138913===_0x32330b)break;else _0x43a851['push'](_0x43a851['shift']());}catch(_0x14a728){_0x43a851['push'](_0x43a851['shift']());}}}(a12_0x5ab0,0x80629));const fs=require('fs'),util=require(a12_0x3fe1c8(0x216)),got=require(a12_0x3fe1c8(0x236)),{v4:uuidv4}=require(a12_0x3fe1c8(0x240)),{logger}=require(a12_0x3fe1c8(0x229)),{inputBstackKeys}=require('../utils/userInput'),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a12_0x3fe1c8(0x237)),{getDirForConfig,getCredentialsPath,getAuthHeader}=require('../utils/utilityMethods'),{sendInstrumentationEvent}=require('../utils/instrumentationUtils');function a12_0x5ab0(){const _0x40a4af=['recommendCommands','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','GgugU','ZxTBR','fFyee','3074536MEqdfF','bstack-accesskey','6uzczCR','kqPol','util','asxDi','username','grpWx','CmABf','xsNWI','statusCode','vGZxS','password','parse','1991426cuFNbU','strict','rGWaa','epilogue','OBzAJ','utf-8','description','BROWSERSTACK_USERNAME','FjDEy','../config/logger','84642aCyISr','usage','bstackUsername','string','coeWs','GHGMx','MhnEi','dsfmE','vBcRt','jTlcQ','command','7lNWImF','got','../config/constants','84156kTrZlr','https://','84030FljKWL','kGGrf','mkdirSync','writeFileSync','WbhkC','BROWSERSTACK_ACCESS_KEY','uuid','rTJMX','zAvRC','AJltr','mjWqs','saFyB','FlHAJ','bstack-username','HYIxO','16OsEBJE','tQTPo','itzpw','RQRcG','jVsEe','591912xdJXyu','MAylD','EwUPE','debug','DTpul','env','options','error','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','stack','TKgOE','Browserstack','1089qxCLft','bstackAccesskey','Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.','vHBjz','existsSync','lvGUg','GET','help','6875NbYNZE','uQuCa','JriWo','init','Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','XHQkF','readFileSync','Vbgfb','init-called','2933045EULzzp','type','VGOUR','ERROR','INFO','BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','argv','exit','eouPc'];a12_0x5ab0=function(){return _0x40a4af;};return a12_0x5ab0();}exports[a12_0x3fe1c8(0x234)]='init',exports['desc']=a12_0x3fe1c8(0x1f5),exports['builder']=function(_0x480a8a){const _0x444634=a12_0x3fe1c8,_0x433035={};_0x433035[_0x444634(0x1f8)]='Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.',_0x433035[_0x444634(0x202)]=_0x444634(0x22d),_0x433035['jVsEe']=_0x444634(0x20e),_0x433035[_0x444634(0x1e8)]=_0x444634(0x1fa);const _0x3c4adc=_0x433035,_0xe1f88c={};_0xe1f88c[_0x444634(0x226)]=_0x3c4adc[_0x444634(0x1f8)],_0xe1f88c['type']=_0x3c4adc[_0x444634(0x202)];const _0x31f05a={};_0x31f05a[_0x444634(0x226)]=_0x3c4adc[_0x444634(0x1e6)],_0x31f05a[_0x444634(0x205)]=_0x3c4adc[_0x444634(0x202)];const _0x3344ee={};return _0x3344ee['bstack-username']=_0xe1f88c,_0x3344ee[_0x444634(0x213)]=_0x31f05a,_0x480a8a[_0x444634(0x22b)](HELP_HEADER_MESSAGE[_0x444634(0x1fe)])[_0x444634(0x223)](HELP_FOOTER_MESSAGE)[_0x444634(0x1ed)](_0x3344ee)[_0x444634(0x20d)]()[_0x444634(0x221)]()[_0x444634(0x1fa)](_0x3c4adc[_0x444634(0x1e8)])[_0x444634(0x20a)];},exports['handler']=async function(_0x15afe7){const _0x25a86b=a12_0x3fe1c8,_0xe87861={'ZxTBR':_0x25a86b(0x225),'FjDEy':_0x25a86b(0x1ef),'vBcRt':_0x25a86b(0x22d),'AYCjB':_0x25a86b(0x20e),'OBzAJ':_0x25a86b(0x1fa),'kqPol':function(_0x4c0747){return _0x4c0747();},'uQuCa':function(_0x4ac714){return _0x4ac714();},'GHGMx':function(_0x48eaa6,_0x2b0cc3,_0x4b3580,_0x2304af,_0x4044b2,_0x3abd3f,_0x27ec5c){return _0x48eaa6(_0x2b0cc3,_0x4b3580,_0x2304af,_0x4044b2,_0x3abd3f,_0x27ec5c);},'FlHAJ':_0x25a86b(0x203),'RQRcG':function(_0x5685b6,_0x47f5fc){return _0x5685b6!==_0x47f5fc;},'vGZxS':'bpBon','saFyB':function(_0x313eb7,_0x46b83d){return _0x313eb7!==_0x46b83d;},'dsfmE':_0x25a86b(0x20f),'grpWx':_0x25a86b(0x22e),'EwUPE':function(_0xea39a2,_0x39f4be){return _0xea39a2!==_0x39f4be;},'DTpul':_0x25a86b(0x243),'BhMAH':_0x25a86b(0x1f1),'WbhkC':'QUrQR','vHBjz':_0x25a86b(0x200),'jTlcQ':function(_0x30c3ec,_0x12ef1e){return _0x30c3ec===_0x12ef1e;},'mthfp':function(_0x26f6d0,_0xfaf759){return _0x26f6d0===_0xfaf759;},'xsNWI':_0x25a86b(0x244),'CmABf':_0x25a86b(0x1e1),'itzpw':_0x25a86b(0x209),'sdHPE':function(_0x14fd75){return _0x14fd75();},'DzvVG':_0x25a86b(0x1f9),'rGWaa':function(_0x4b1de9,_0x54c155,_0x24a79a){return _0x4b1de9(_0x54c155,_0x24a79a);},'asxDi':function(_0x3cdbba,_0x3bbc8b){return _0x3cdbba===_0x3bbc8b;},'zAvRC':function(_0x506c43,_0xae2f89){return _0x506c43===_0xae2f89;},'MhnEi':_0x25a86b(0x211),'AgglS':function(_0x1c28df,_0x39f3ce){return _0x1c28df===_0x39f3ce;},'gOpQj':_0x25a86b(0x23b),'eouPc':'ArZbV','rzfsf':_0x25a86b(0x1fd),'reahb':_0x25a86b(0x1ff),'rTJMX':'wrong-creds','VGOUR':function(_0x14b4eb,_0x358f1a,_0xb502,_0x40a1aa,_0x18ee7d,_0x4b1a83,_0x4c3ff2){return _0x14b4eb(_0x358f1a,_0xb502,_0x40a1aa,_0x18ee7d,_0x4b1a83,_0x4c3ff2);},'tQTPo':'unknown-error'};try{global_registry['requestId']=_0xe87861[_0x25a86b(0x1fc)](uuidv4),_0xe87861['GHGMx'](sendInstrumentationEvent,_0x15afe7,_0xe87861[_0x25a86b(0x1df)],messageTypes[_0x25a86b(0x208)],null,null,_0x15afe7);const _0x511756=_0xe87861['kqPol'](getDirForConfig);!fs[_0x25a86b(0x1f7)](_0x511756)&&(_0xe87861[_0x25a86b(0x1e5)](_0xe87861[_0x25a86b(0x21d)],_0xe87861[_0x25a86b(0x21d)])?_0x337898=_0x384f3e[_0x25a86b(0x1f4)]:fs['mkdirSync'](_0x511756));let _0x24bf96,_0x45f293;process[_0x25a86b(0x1ec)]['BROWSERSTACK_USERNAME']&&(_0xe87861['saFyB'](_0xe87861[_0x25a86b(0x231)],_0xe87861[_0x25a86b(0x219)])?_0x24bf96=process[_0x25a86b(0x1ec)][_0x25a86b(0x227)]:_0x280732=_0x4d612b[_0x25a86b(0x22c)]);process[_0x25a86b(0x1ec)][_0x25a86b(0x23f)]&&(_0xe87861[_0x25a86b(0x1e9)](_0xe87861[_0x25a86b(0x1eb)],_0xe87861['BhMAH'])?_0x45f293=process[_0x25a86b(0x1ec)][_0x25a86b(0x23f)]:_0x2d2fd1=_0x4adac4[_0x25a86b(0x21f)](_0x361426[_0x25a86b(0x201)](_0x33a94d,_0xe87861[_0x25a86b(0x210)])));_0x15afe7['bstackUsername']&&(_0xe87861[_0x25a86b(0x1de)](_0xe87861[_0x25a86b(0x23e)],_0xe87861[_0x25a86b(0x23e)])?_0x33ac9e=_0x1e335f['env']['BROWSERSTACK_ACCESS_KEY']:_0x24bf96=_0x15afe7['bstackUsername']);if(_0x15afe7[_0x25a86b(0x1f4)]){if(_0xe87861['RQRcG'](_0xe87861[_0x25a86b(0x1f6)],_0xe87861[_0x25a86b(0x1f6)])){const _0x496abc={};_0x496abc[_0x25a86b(0x226)]=_0xe87861[_0x25a86b(0x228)],_0x496abc['type']=_0xe87861[_0x25a86b(0x232)];const _0x4788b1={};_0x4788b1['description']=_0xe87861['AYCjB'],_0x4788b1[_0x25a86b(0x205)]=_0xe87861[_0x25a86b(0x232)];const _0x2b7e2a={};return _0x2b7e2a[_0x25a86b(0x1e0)]=_0x496abc,_0x2b7e2a[_0x25a86b(0x213)]=_0x4788b1,_0xc616a0[_0x25a86b(0x22b)](_0x2e66af['init'])[_0x25a86b(0x223)](_0xa48003)[_0x25a86b(0x1ed)](_0x2b7e2a)[_0x25a86b(0x20d)]()[_0x25a86b(0x221)]()['help'](_0xe87861[_0x25a86b(0x224)])[_0x25a86b(0x20a)];}else _0x45f293=_0x15afe7[_0x25a86b(0x1f4)];}if(_0xe87861['jTlcQ'](_0x24bf96,undefined)||_0xe87861['mthfp'](_0x45f293,undefined)){if(_0xe87861['jTlcQ'](_0xe87861[_0x25a86b(0x21b)],_0xe87861[_0x25a86b(0x21a)]))_0x1541d2=!![];else{logger[_0x25a86b(0x1ea)](_0xe87861[_0x25a86b(0x1e4)]);const [_0x2340d0,_0x45cd1e]=await _0xe87861['sdHPE'](inputBstackKeys);_0x24bf96=_0x2340d0,_0x45f293=_0x45cd1e;}}let _0x1cacb5=![];const _0x1e9def=_0x25a86b(0x239)+_0x24bf96+':'+_0x45f293+'@'+BS_API_URL+'/automate/plan.json',_0x4e4c31={'method':_0xe87861['DzvVG'],'headers':_0xe87861[_0x25a86b(0x222)](getAuthHeader,_0x24bf96,_0x45f293),'throwHttpErrors':![]},_0x30df6e=await _0xe87861[_0x25a86b(0x222)](got,_0x1e9def,_0x4e4c31);_0xe87861['saFyB'](_0x30df6e,null)&&_0xe87861[_0x25a86b(0x1e9)](_0x30df6e,undefined)&&_0xe87861[_0x25a86b(0x217)](_0x30df6e[_0x25a86b(0x21c)],0xc8)&&(_0xe87861[_0x25a86b(0x242)](_0xe87861[_0x25a86b(0x230)],_0xe87861['MhnEi'])?_0x1cacb5=!![]:_0x2096d3[_0x25a86b(0x23c)](_0x5788ef));if(_0x1cacb5){if(_0xe87861['AgglS'](_0xe87861['gOpQj'],_0xe87861[_0x25a86b(0x20c)])){let _0x11f0b0={};const _0x274610=_0xe87861[_0x25a86b(0x215)](_0x1b5007);_0x246a0d[_0x25a86b(0x1f7)](_0x274610)&&(_0x11f0b0=_0x49a40d[_0x25a86b(0x21f)](_0x67040f[_0x25a86b(0x201)](_0x274610,_0xe87861['ZxTBR'])));const _0x4e7f51={};_0x4e7f51['username']=_0x5842d5,_0x4e7f51[_0x25a86b(0x21e)]=_0x20b4a4,_0x11f0b0[_0x25a86b(0x1f2)]=_0x4e7f51,_0x362c79[_0x25a86b(0x23d)](_0x274610,_0x2d52d1['stringify'](_0x11f0b0)),_0x5ed7b0[_0x25a86b(0x20b)](0x0);}else{let _0x33f94d={};const _0x25730c=_0xe87861[_0x25a86b(0x1fc)](getCredentialsPath);fs['existsSync'](_0x25730c)&&(_0xe87861[_0x25a86b(0x233)](_0xe87861['rzfsf'],_0xe87861['rzfsf'])?_0x33f94d=JSON[_0x25a86b(0x21f)](fs['readFileSync'](_0x25730c,_0xe87861[_0x25a86b(0x210)])):_0x4f2b8d=_0x162aa2[_0x25a86b(0x1ec)]['BROWSERSTACK_USERNAME']);const _0x85e759={};_0x85e759[_0x25a86b(0x218)]=_0x24bf96,_0x85e759[_0x25a86b(0x21e)]=_0x45f293,_0x33f94d[_0x25a86b(0x1f2)]=_0x85e759,fs[_0x25a86b(0x23d)](_0x25730c,JSON['stringify'](_0x33f94d)),process['exit'](0x0);}}else logger[_0x25a86b(0x1ee)](_0xe87861['reahb']),await _0xe87861[_0x25a86b(0x22f)](sendInstrumentationEvent,_0x15afe7,_0xe87861['FlHAJ'],messageTypes[_0x25a86b(0x207)],_0xe87861[_0x25a86b(0x241)],null,_0x15afe7),process['exit'](0x1);}catch(_0x1eda9a){logger[_0x25a86b(0x1ee)](_0x1eda9a[_0x25a86b(0x1f0)]),await _0xe87861[_0x25a86b(0x206)](sendInstrumentationEvent,_0x15afe7,_0xe87861['FlHAJ'],messageTypes['ERROR'],_0xe87861[_0x25a86b(0x1e3)],_0x1eda9a,_0x15afe7),process[_0x25a86b(0x20b)](0x1);}};