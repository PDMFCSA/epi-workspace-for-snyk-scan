const a12_0x1266dc=a12_0x19b9;function a12_0x19b9(_0x566701,_0x33649f){const _0x546bc1=a12_0x546b();return a12_0x19b9=function(_0x19b9a7,_0x4d34e3){_0x19b9a7=_0x19b9a7-0xcb;let _0x19858e=_0x546bc1[_0x19b9a7];return _0x19858e;},a12_0x19b9(_0x566701,_0x33649f);}(function(_0x33c212,_0x5236ad){const _0x4f2aaa=a12_0x19b9,_0x224501=_0x33c212();while(!![]){try{const _0x39ae8b=parseInt(_0x4f2aaa(0x11d))/0x1+parseInt(_0x4f2aaa(0x12e))/0x2+-parseInt(_0x4f2aaa(0xe4))/0x3+-parseInt(_0x4f2aaa(0xe9))/0x4+-parseInt(_0x4f2aaa(0xf2))/0x5+parseInt(_0x4f2aaa(0x10f))/0x6+parseInt(_0x4f2aaa(0x10e))/0x7;if(_0x39ae8b===_0x5236ad)break;else _0x224501['push'](_0x224501['shift']());}catch(_0x4fc5cc){_0x224501['push'](_0x224501['shift']());}}}(a12_0x546b,0x67045));const fs=require('fs'),util=require(a12_0x1266dc(0xd8)),got=require(a12_0x1266dc(0x11c)),{v4:uuidv4}=require('uuid'),{logger}=require('../config/logger'),{inputBstackKeys}=require(a12_0x1266dc(0x122)),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a12_0x1266dc(0x11e)),{getDirForConfig,getCredentialsPath,getAuthHeader}=require(a12_0x1266dc(0xfa)),{sendInstrumentationEvent}=require(a12_0x1266dc(0xd3));exports[a12_0x1266dc(0x10d)]=a12_0x1266dc(0xfc),exports[a12_0x1266dc(0x101)]=a12_0x1266dc(0x104),exports[a12_0x1266dc(0x10b)]=function(_0x54f1e1){const _0x4b4059=a12_0x1266dc,_0x354ed0={};_0x354ed0['zAUuJ']=_0x4b4059(0xe2),_0x354ed0['gsZfI']=_0x4b4059(0x128),_0x354ed0[_0x4b4059(0xfd)]='Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.',_0x354ed0[_0x4b4059(0xd1)]=_0x4b4059(0x111);const _0x271d8b=_0x354ed0,_0x5a91e7={};_0x5a91e7['description']=_0x271d8b['zAUuJ'],_0x5a91e7[_0x4b4059(0x112)]=_0x271d8b[_0x4b4059(0x108)];const _0x52e513={};_0x52e513[_0x4b4059(0xea)]=_0x271d8b[_0x4b4059(0xfd)],_0x52e513[_0x4b4059(0x112)]=_0x271d8b['gsZfI'];const _0x20dcc3={};return _0x20dcc3[_0x4b4059(0xde)]=_0x5a91e7,_0x20dcc3[_0x4b4059(0xe3)]=_0x52e513,_0x54f1e1[_0x4b4059(0xd5)](HELP_HEADER_MESSAGE[_0x4b4059(0xfc)])[_0x4b4059(0xf0)](HELP_FOOTER_MESSAGE)[_0x4b4059(0xcf)](_0x20dcc3)['recommendCommands']()['strict']()['help'](_0x271d8b['HPzim'])['argv'];},exports['handler']=async function(_0x196966){const _0x583e38=a12_0x1266dc,_0x36d251={'pWPkz':_0x583e38(0x12b),'rpgwr':function(_0x5c47d9){return _0x5c47d9();},'UaRnY':'Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','XkmlE':_0x583e38(0x128),'xPKMH':_0x583e38(0x12a),'kYtBf':'help','ARNKn':function(_0x4d7a03,_0x5ea136,_0x55070a,_0x415ddb,_0x2e6e99,_0x5a1f75,_0x394481){return _0x4d7a03(_0x5ea136,_0x55070a,_0x415ddb,_0x2e6e99,_0x5a1f75,_0x394481);},'fyYbN':_0x583e38(0xd0),'gCEcL':function(_0x466c52,_0x1cead7){return _0x466c52!==_0x1cead7;},'ihSxl':_0x583e38(0x117),'FqRXL':'sWeZy','MCNUm':_0x583e38(0x126),'CpfLF':_0x583e38(0x105),'terrL':function(_0x2ca4df,_0x23281f){return _0x2ca4df!==_0x23281f;},'WkxNZ':_0x583e38(0xf6),'FSCLK':_0x583e38(0x110),'qkZAS':function(_0x14eb76,_0x4fd59a){return _0x14eb76!==_0x4fd59a;},'flefM':_0x583e38(0xe8),'LuRaj':function(_0x194761,_0x3502f8){return _0x194761===_0x3502f8;},'akoUY':_0x583e38(0xcb),'kRNRK':function(_0x111804,_0x4fbe0f){return _0x111804===_0x4fbe0f;},'fnCtN':_0x583e38(0xd4),'apafx':_0x583e38(0x107),'tUyUu':function(_0x3ffca5){return _0x3ffca5();},'OWzkb':_0x583e38(0xf3),'utDuN':function(_0x15acf7,_0x79df27,_0x547021){return _0x15acf7(_0x79df27,_0x547021);},'tZoTQ':function(_0x163e86,_0x234356,_0x4a0c03){return _0x163e86(_0x234356,_0x4a0c03);},'odjLU':_0x583e38(0xce),'sfpGI':'FGCGI','SWVCk':_0x583e38(0xed),'hXleV':function(_0x4f125a){return _0x4f125a();},'LQJfv':function(_0x236b6e,_0x2448ea){return _0x236b6e===_0x2448ea;},'MwlqH':_0x583e38(0xd9),'RYWMe':_0x583e38(0x12c),'Dexrp':function(_0xf534db,_0x3523f8,_0x47ca42,_0x12aa2e,_0x3babf0,_0x1ba15e,_0x5c1e46){return _0xf534db(_0x3523f8,_0x47ca42,_0x12aa2e,_0x3babf0,_0x1ba15e,_0x5c1e46);},'Gnynk':'wrong-creds','sxSbq':function(_0xe2b781,_0x4d1ac8,_0x3b1239,_0xd4b265,_0x9ced0b,_0x291f4a,_0x1de14f){return _0xe2b781(_0x4d1ac8,_0x3b1239,_0xd4b265,_0x9ced0b,_0x291f4a,_0x1de14f);},'mwNMv':_0x583e38(0x11a)};try{global_registry[_0x583e38(0xef)]=_0x36d251[_0x583e38(0xfe)](uuidv4),_0x36d251[_0x583e38(0xe5)](sendInstrumentationEvent,_0x196966,_0x36d251[_0x583e38(0x10a)],messageTypes[_0x583e38(0xcd)],null,null,_0x196966);const _0x58b463=_0x36d251[_0x583e38(0xfe)](getDirForConfig);!fs[_0x583e38(0xcc)](_0x58b463)&&(_0x36d251['gCEcL'](_0x36d251[_0x583e38(0xec)],_0x36d251['FqRXL'])?fs[_0x583e38(0x100)](_0x58b463):_0x428540=!![]);let _0x19ab20,_0x2a1198;process[_0x583e38(0xf5)][_0x583e38(0x106)]&&(_0x36d251[_0x583e38(0x120)](_0x36d251['MCNUm'],_0x36d251[_0x583e38(0xee)])?_0x19ab20=process[_0x583e38(0xf5)]['BROWSERSTACK_USERNAME']:_0x27bad3=_0xf95b98[_0x583e38(0xdc)](_0x3e7e68['readFileSync'](_0x37f35d,_0x36d251['pWPkz'])));process[_0x583e38(0xf5)][_0x583e38(0xdf)]&&(_0x36d251[_0x583e38(0xda)](_0x36d251['WkxNZ'],_0x36d251[_0x583e38(0x114)])?_0x2a1198=process[_0x583e38(0xf5)][_0x583e38(0xdf)]:_0x42cabd=_0x74d205[_0x583e38(0xf5)][_0x583e38(0xdf)]);if(_0x196966[_0x583e38(0x109)]){if(_0x36d251[_0x583e38(0xf9)](_0x36d251['flefM'],_0x36d251['flefM'])){let _0x511219={};const _0x280f08=_0x36d251[_0x583e38(0xfe)](_0x2821a3);_0x3eac2e[_0x583e38(0xcc)](_0x280f08)&&(_0x511219=_0x313550[_0x583e38(0xdc)](_0x58ac2b[_0x583e38(0x127)](_0x280f08,_0x36d251[_0x583e38(0x10c)])));const _0x7ac6a3={};_0x7ac6a3[_0x583e38(0x116)]=_0x3cb88e,_0x7ac6a3[_0x583e38(0x11b)]=_0x277e12,_0x511219[_0x583e38(0x125)]=_0x7ac6a3,_0x36d90a[_0x583e38(0xdb)](_0x280f08,_0xe458c2[_0x583e38(0xf7)](_0x511219)),_0x23e0c4['exit'](0x0);}else _0x19ab20=_0x196966['bstackUsername'];}_0x196966[_0x583e38(0xf4)]&&(_0x36d251[_0x583e38(0x113)](_0x36d251[_0x583e38(0x121)],_0x36d251[_0x583e38(0x121)])?_0x2a1198=_0x196966[_0x583e38(0xf4)]:_0x4bd21e['mkdirSync'](_0x48cded));if(_0x36d251[_0x583e38(0xe0)](_0x19ab20,undefined)||_0x36d251['kRNRK'](_0x2a1198,undefined)){if(_0x36d251['LuRaj'](_0x36d251[_0x583e38(0xe7)],_0x36d251[_0x583e38(0xe7)])){logger[_0x583e38(0x12d)](_0x36d251[_0x583e38(0x119)]);const [_0x3bad4c,_0x5a8faf]=await _0x36d251[_0x583e38(0xe1)](inputBstackKeys);_0x19ab20=_0x3bad4c,_0x2a1198=_0x5a8faf;}else{const _0x40f548={};_0x40f548['description']=_0x36d251[_0x583e38(0xe6)],_0x40f548[_0x583e38(0x112)]=_0x36d251[_0x583e38(0x124)];const _0x5d24c6={};_0x5d24c6[_0x583e38(0xea)]=_0x36d251[_0x583e38(0x102)],_0x5d24c6[_0x583e38(0x112)]=_0x36d251['XkmlE'];const _0x43c1b1={};return _0x43c1b1[_0x583e38(0xde)]=_0x40f548,_0x43c1b1['bstack-accesskey']=_0x5d24c6,_0x533511[_0x583e38(0xd5)](_0x11a902[_0x583e38(0xfc)])['epilogue'](_0x392abe)['options'](_0x43c1b1)['recommendCommands']()[_0x583e38(0xf8)]()[_0x583e38(0x111)](_0x36d251[_0x583e38(0x118)])['argv'];}}let _0x36d07=![];const _0x428223='https://'+_0x19ab20+':'+_0x2a1198+'@'+BS_API_URL+'/automate/plan.json',_0xb38790={'method':_0x36d251[_0x583e38(0x129)],'headers':_0x36d251[_0x583e38(0xfb)](getAuthHeader,_0x19ab20,_0x2a1198),'throwHttpErrors':![]},_0x9c117f=await _0x36d251[_0x583e38(0xd7)](got,_0x428223,_0xb38790);_0x36d251['terrL'](_0x9c117f,null)&&_0x36d251[_0x583e38(0xf9)](_0x9c117f,undefined)&&_0x36d251[_0x583e38(0x113)](_0x9c117f['statusCode'],0xc8)&&(_0x36d251[_0x583e38(0x120)](_0x36d251[_0x583e38(0xeb)],_0x36d251['odjLU'])?_0x4c697e=_0xba501[_0x583e38(0xf5)][_0x583e38(0x106)]:_0x36d07=!![]);if(_0x36d07){if(_0x36d251[_0x583e38(0x120)](_0x36d251[_0x583e38(0x123)],_0x36d251['SWVCk'])){let _0x50610b={};const _0x21333a=_0x36d251[_0x583e38(0x11f)](getCredentialsPath);fs['existsSync'](_0x21333a)&&(_0x36d251['LQJfv'](_0x36d251[_0x583e38(0xd2)],_0x36d251[_0x583e38(0xd2)])?_0x50610b=JSON[_0x583e38(0xdc)](fs[_0x583e38(0x127)](_0x21333a,_0x36d251[_0x583e38(0x10c)])):_0x2bfa7a=_0x2d8c9a[_0x583e38(0x109)]);const _0xa8a5c1={};_0xa8a5c1['username']=_0x19ab20,_0xa8a5c1[_0x583e38(0x11b)]=_0x2a1198,_0x50610b[_0x583e38(0x125)]=_0xa8a5c1,fs[_0x583e38(0xdb)](_0x21333a,JSON['stringify'](_0x50610b)),process[_0x583e38(0x103)](0x0);}else _0x162788=_0x4ca371[_0x583e38(0xf4)];}else logger[_0x583e38(0xff)](_0x36d251['RYWMe']),await _0x36d251[_0x583e38(0x115)](sendInstrumentationEvent,_0x196966,_0x36d251['fyYbN'],messageTypes[_0x583e38(0xd6)],_0x36d251[_0x583e38(0xf1)],null,_0x196966),process[_0x583e38(0x103)](0x1);}catch(_0x154853){logger[_0x583e38(0xff)](_0x154853[_0x583e38(0xdd)]),await _0x36d251['sxSbq'](sendInstrumentationEvent,_0x196966,_0x36d251['fyYbN'],messageTypes[_0x583e38(0xd6)],_0x36d251['mwNMv'],_0x154853,_0x196966),process[_0x583e38(0x103)](0x1);}};function a12_0x546b(){const _0x3c88c8=['tZoTQ','util','KcktP','terrL','writeFileSync','parse','stack','bstack-username','BROWSERSTACK_ACCESS_KEY','kRNRK','tUyUu','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','bstack-accesskey','423963ObLTaW','ARNKn','UaRnY','fnCtN','YVBVe','1212312qaSqFS','description','odjLU','ihSxl','vvzkN','CpfLF','requestId','epilogue','Gnynk','2993615aCZPud','GET','bstackAccesskey','env','aYOxW','stringify','strict','qkZAS','../utils/utilityMethods','utDuN','init','Gpaib','rpgwr','error','mkdirSync','desc','xPKMH','exit','Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.','onBMI','BROWSERSTACK_USERNAME','BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','gsZfI','bstackUsername','fyYbN','builder','pWPkz','command','4816434GzeGoa','563328ZOWPHV','SYGYJ','help','type','LuRaj','FSCLK','Dexrp','username','tKqCT','kYtBf','apafx','unknown-error','password','got','134474XTXXil','../config/constants','hXleV','gCEcL','akoUY','../utils/userInput','sfpGI','XkmlE','Browserstack','qveai','readFileSync','string','OWzkb','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','utf-8','Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','debug','1097310hwaRhy','fDtzH','existsSync','INFO','fgCQf','options','init-called','HPzim','MwlqH','../utils/instrumentationUtils','ffpMI','usage','ERROR'];a12_0x546b=function(){return _0x3c88c8;};return a12_0x546b();}