const a12_0x4f122e=a12_0x1e3d;function a12_0xe900(){const _0x26b101=['bstack-username','UDiey','627519SHdPMF','recommendCommands','stack','hUAPu','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','RiZTn','yvGLl','luVUT','parse','NGbxU','655FRyIJJ','ciUvB','bstackUsername','DPBew','https://','rfmrs','username','WcQjm','usage','WGRaw','../utils/instrumentationUtils','zSrZl','got','1046772qSXSfq','Browserstack','debug','bstackAccesskey','string','BROWSERSTACK_ACCESS_KEY','strict','writeFileSync','ujHCR','Gaoaz','EBnnk','ZpgzH','NhOlC','readFileSync','uSQdB','dSfKT','IdUvs','jdCFp','ERROR','cWEEm','aYBTM','QItZO','../config/logger','init-called','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','WNqOp','IkxNM','iTGUX','jEwvZ','bIgDl','VYXLx','unknown-error','help','aLPyZ','9VGqvrC','handler','exit','util','lXfFm','vdTJm','qyhkj','8824SEzXYM','mkdirSync','utf-8','error','argv','init','3064171JZbYef','zXlkZ','389570YETIyk','468097GMnboA','NKvki','existsSync','bstack-accesskey','stringify','GET','smyqz','NIabG','/automate/plan.json','nnZzv','4764GgLRQx','BROWSERSTACK_USERNAME','jrpui','epilogue','Yaihb','70iSoGyf','Gzofu','../config/constants','options','JhAzO','32SwYwzt','ElKyd','Uwqwn','oQdPm','LtVWQ','description','WMfSl','env','password','wrong-creds','HuPzU','tdZyx','type'];a12_0xe900=function(){return _0x26b101;};return a12_0xe900();}function a12_0x1e3d(_0xd6f2f3,_0x212137){const _0xe90041=a12_0xe900();return a12_0x1e3d=function(_0x1e3d93,_0x34966b){_0x1e3d93=_0x1e3d93-0x1da;let _0x27dc9e=_0xe90041[_0x1e3d93];return _0x27dc9e;},a12_0x1e3d(_0xd6f2f3,_0x212137);}(function(_0x245ba6,_0x4fb1e2){const _0x3b4630=a12_0x1e3d,_0xa8bd2e=_0x245ba6();while(!![]){try{const _0x5db9cf=parseInt(_0x3b4630(0x234))/0x1*(-parseInt(_0x3b4630(0x1e0))/0x2)+parseInt(_0x3b4630(0x1f4))/0x3+parseInt(_0x3b4630(0x20b))/0x4+-parseInt(_0x3b4630(0x1fe))/0x5*(-parseInt(_0x3b4630(0x1db))/0x6)+parseInt(_0x3b4630(0x23d))/0x7*(parseInt(_0x3b4630(0x1e5))/0x8)+parseInt(_0x3b4630(0x22d))/0x9*(-parseInt(_0x3b4630(0x23c))/0xa)+-parseInt(_0x3b4630(0x23a))/0xb;if(_0x5db9cf===_0x4fb1e2)break;else _0xa8bd2e['push'](_0xa8bd2e['shift']());}catch(_0x210ab0){_0xa8bd2e['push'](_0xa8bd2e['shift']());}}}(a12_0xe900,0x34bc6));const fs=require('fs'),util=require(a12_0x4f122e(0x230)),got=require(a12_0x4f122e(0x20a)),{v4:uuidv4}=require('uuid'),{logger}=require(a12_0x4f122e(0x221)),{inputBstackKeys}=require('../utils/userInput'),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a12_0x4f122e(0x1e2)),{getDirForConfig,getCredentialsPath,getAuthHeader}=require('../utils/utilityMethods'),{sendInstrumentationEvent}=require(a12_0x4f122e(0x208));exports['command']=a12_0x4f122e(0x239),exports['desc']='Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.',exports['builder']=function(_0x13783f){const _0x25a276=a12_0x4f122e,_0x510cbc={};_0x510cbc['Gzofu']=_0x25a276(0x223),_0x510cbc[_0x25a276(0x228)]=_0x25a276(0x20f),_0x510cbc[_0x25a276(0x213)]=_0x25a276(0x1f8),_0x510cbc['cWEEm']='help';const _0x5f1783=_0x510cbc,_0x5e2ad3={};_0x5e2ad3['description']=_0x5f1783[_0x25a276(0x1e1)],_0x5e2ad3[_0x25a276(0x1f1)]=_0x5f1783[_0x25a276(0x228)];const _0x1697c6={};_0x1697c6[_0x25a276(0x1ea)]=_0x5f1783['ujHCR'],_0x1697c6[_0x25a276(0x1f1)]=_0x5f1783[_0x25a276(0x228)];const _0x1d6bc9={};return _0x1d6bc9[_0x25a276(0x1f2)]=_0x5e2ad3,_0x1d6bc9['bstack-accesskey']=_0x1697c6,_0x13783f[_0x25a276(0x206)](HELP_HEADER_MESSAGE[_0x25a276(0x239)])[_0x25a276(0x1de)](HELP_FOOTER_MESSAGE)[_0x25a276(0x1e3)](_0x1d6bc9)[_0x25a276(0x1f5)]()['strict']()[_0x25a276(0x22b)](_0x5f1783[_0x25a276(0x21e)])[_0x25a276(0x238)];},exports[a12_0x4f122e(0x22e)]=async function(_0x20438e){const _0x2ac3b4=a12_0x4f122e,_0x5ec841={'MdWKd':_0x2ac3b4(0x223),'QItZO':_0x2ac3b4(0x20f),'YfCvR':'Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','MlcxF':'help','ciUvB':_0x2ac3b4(0x236),'aLPyZ':function(_0x415057){return _0x415057();},'NhOlC':function(_0x9ff68c){return _0x9ff68c();},'RiZTn':function(_0x245279,_0x1f20e9,_0xb2cbfb,_0x2393fa,_0x1aba59,_0x25fda0,_0x547dd9){return _0x245279(_0x1f20e9,_0xb2cbfb,_0x2393fa,_0x1aba59,_0x25fda0,_0x547dd9);},'IkxNM':_0x2ac3b4(0x222),'luVUT':function(_0x482114){return _0x482114();},'vdTJm':function(_0x2e337d,_0x290d76){return _0x2e337d===_0x290d76;},'Uwqwn':'mIZgv','jEwvZ':'fwVva','EBnnk':function(_0x3a2bc7,_0x2170fd){return _0x3a2bc7!==_0x2170fd;},'nnZzv':_0x2ac3b4(0x203),'jrpui':_0x2ac3b4(0x229),'yvGLl':_0x2ac3b4(0x1eb),'NGbxU':_0x2ac3b4(0x233),'dSfKT':function(_0x53bb12,_0x25b6e3){return _0x53bb12===_0x25b6e3;},'Yaihb':'wmQWF','tdZyx':'ZPgfP','UDiey':'nBBmE','ElKyd':function(_0x199df1,_0x2c2a4f){return _0x199df1===_0x2c2a4f;},'HuPzU':function(_0x5a1bab,_0x5a3bba){return _0x5a1bab===_0x5a3bba;},'oQdPm':_0x2ac3b4(0x21f),'uSQdB':'BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','iTGUX':function(_0x2d76d6){return _0x2d76d6();},'WcQjm':_0x2ac3b4(0x242),'NIabG':function(_0x815bfb,_0x330cce,_0x2bb325){return _0x815bfb(_0x330cce,_0x2bb325);},'IdUvs':function(_0x2b1441,_0x5ddd73){return _0x2b1441!==_0x5ddd73;},'ZpgzH':function(_0x593bea,_0x4277a3){return _0x593bea!==_0x4277a3;},'hUAPu':function(_0x51e98b,_0x34714a){return _0x51e98b===_0x34714a;},'JhAzO':'Bhhbs','LtVWQ':_0x2ac3b4(0x23b),'jdCFp':function(_0x46fb15,_0x286b0a){return _0x46fb15===_0x286b0a;},'smyqz':_0x2ac3b4(0x207),'zSrZl':'xZvlX','lXfFm':function(_0x279682){return _0x279682();},'Gaoaz':_0x2ac3b4(0x201),'NKvki':'Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','OORyg':_0x2ac3b4(0x1ee),'WNqOp':function(_0x63d104,_0x1c1443,_0x1a9bd4,_0xcb5000,_0x45ac0b,_0xc1d468,_0x5409fc){return _0x63d104(_0x1c1443,_0x1a9bd4,_0xcb5000,_0x45ac0b,_0xc1d468,_0x5409fc);},'AxcYc':_0x2ac3b4(0x22a)};try{global_registry['requestId']=_0x5ec841[_0x2ac3b4(0x217)](uuidv4),_0x5ec841[_0x2ac3b4(0x1f9)](sendInstrumentationEvent,_0x20438e,_0x5ec841['IkxNM'],messageTypes['INFO'],null,null,_0x20438e);const _0x353713=_0x5ec841[_0x2ac3b4(0x1fb)](getDirForConfig);if(!fs['existsSync'](_0x353713)){if(_0x5ec841[_0x2ac3b4(0x232)](_0x5ec841[_0x2ac3b4(0x1e7)],_0x5ec841[_0x2ac3b4(0x227)])){const _0x3ffcdd={};_0x3ffcdd[_0x2ac3b4(0x1ea)]=_0x5ec841['MdWKd'],_0x3ffcdd['type']=_0x5ec841[_0x2ac3b4(0x220)];const _0x4a89f1={};_0x4a89f1[_0x2ac3b4(0x1ea)]=_0x5ec841['YfCvR'],_0x4a89f1['type']=_0x5ec841['QItZO'];const _0x2c2d41={};return _0x2c2d41[_0x2ac3b4(0x1f2)]=_0x3ffcdd,_0x2c2d41[_0x2ac3b4(0x240)]=_0x4a89f1,_0x233659[_0x2ac3b4(0x206)](_0x5edd7d[_0x2ac3b4(0x239)])[_0x2ac3b4(0x1de)](_0x307ef6)[_0x2ac3b4(0x1e3)](_0x2c2d41)[_0x2ac3b4(0x1f5)]()[_0x2ac3b4(0x211)]()[_0x2ac3b4(0x22b)](_0x5ec841['MlcxF'])[_0x2ac3b4(0x238)];}else fs['mkdirSync'](_0x353713);}let _0x3939bf,_0x41b629;process[_0x2ac3b4(0x1ec)][_0x2ac3b4(0x1dc)]&&(_0x5ec841[_0x2ac3b4(0x215)](_0x5ec841[_0x2ac3b4(0x1da)],_0x5ec841[_0x2ac3b4(0x1dd)])?_0x3939bf=process[_0x2ac3b4(0x1ec)][_0x2ac3b4(0x1dc)]:_0x20c273=_0x1eb9c2[_0x2ac3b4(0x20e)]);process[_0x2ac3b4(0x1ec)][_0x2ac3b4(0x210)]&&(_0x5ec841[_0x2ac3b4(0x232)](_0x5ec841[_0x2ac3b4(0x1fa)],_0x5ec841[_0x2ac3b4(0x1fd)])?_0x25d793=_0x337ea4[_0x2ac3b4(0x1fc)](_0x40f908[_0x2ac3b4(0x218)](_0x5df010,_0x5ec841[_0x2ac3b4(0x1ff)])):_0x41b629=process[_0x2ac3b4(0x1ec)][_0x2ac3b4(0x210)]);_0x20438e[_0x2ac3b4(0x200)]&&(_0x5ec841['dSfKT'](_0x5ec841[_0x2ac3b4(0x1df)],_0x5ec841[_0x2ac3b4(0x1df)])?_0x3939bf=_0x20438e['bstackUsername']:_0x38dda1=_0x52be48[_0x2ac3b4(0x1ec)][_0x2ac3b4(0x1dc)]);_0x20438e[_0x2ac3b4(0x20e)]&&(_0x5ec841[_0x2ac3b4(0x232)](_0x5ec841[_0x2ac3b4(0x1f0)],_0x5ec841[_0x2ac3b4(0x1f3)])?_0x5b5b4f[_0x2ac3b4(0x235)](_0x265873):_0x41b629=_0x20438e[_0x2ac3b4(0x20e)]);if(_0x5ec841[_0x2ac3b4(0x21a)](_0x3939bf,undefined)||_0x5ec841[_0x2ac3b4(0x1e6)](_0x41b629,undefined)){if(_0x5ec841[_0x2ac3b4(0x1ef)](_0x5ec841[_0x2ac3b4(0x1e8)],_0x5ec841[_0x2ac3b4(0x1e8)])){logger[_0x2ac3b4(0x20d)](_0x5ec841[_0x2ac3b4(0x219)]);const [_0x4d0a02,_0x2c11d1]=await _0x5ec841[_0x2ac3b4(0x226)](inputBstackKeys);_0x3939bf=_0x4d0a02,_0x41b629=_0x2c11d1;}else _0xcb6558=!![];}let _0xb8f30=![];const _0x285ae1=_0x2ac3b4(0x202)+_0x3939bf+':'+_0x41b629+'@'+BS_API_URL+_0x2ac3b4(0x245),_0x2d88c1={'method':_0x5ec841[_0x2ac3b4(0x205)],'headers':_0x5ec841[_0x2ac3b4(0x244)](getAuthHeader,_0x3939bf,_0x41b629),'throwHttpErrors':![]},_0x301690=await _0x5ec841[_0x2ac3b4(0x244)](got,_0x285ae1,_0x2d88c1);_0x5ec841[_0x2ac3b4(0x21b)](_0x301690,null)&&_0x5ec841[_0x2ac3b4(0x216)](_0x301690,undefined)&&_0x5ec841[_0x2ac3b4(0x1f7)](_0x301690['statusCode'],0xc8)&&(_0x5ec841[_0x2ac3b4(0x1f7)](_0x5ec841[_0x2ac3b4(0x1e4)],_0x5ec841[_0x2ac3b4(0x1e9)])?_0x19aced=_0x435305[_0x2ac3b4(0x200)]:_0xb8f30=!![]);if(_0xb8f30){if(_0x5ec841[_0x2ac3b4(0x21c)](_0x5ec841[_0x2ac3b4(0x243)],_0x5ec841[_0x2ac3b4(0x209)]))_0x16295e=_0x35efcd[_0x2ac3b4(0x1ec)][_0x2ac3b4(0x210)];else{let _0x4926e1={};const _0x3e6471=_0x5ec841[_0x2ac3b4(0x231)](getCredentialsPath);if(fs[_0x2ac3b4(0x23f)](_0x3e6471)){if(_0x5ec841['jdCFp'](_0x5ec841[_0x2ac3b4(0x214)],_0x5ec841[_0x2ac3b4(0x214)]))_0x4926e1=JSON[_0x2ac3b4(0x1fc)](fs[_0x2ac3b4(0x218)](_0x3e6471,_0x5ec841[_0x2ac3b4(0x1ff)]));else{let _0x198729={};const _0x3a5e87=_0x5ec841[_0x2ac3b4(0x22c)](_0x43f8fb);_0xe2a074[_0x2ac3b4(0x23f)](_0x3a5e87)&&(_0x198729=_0x39373d[_0x2ac3b4(0x1fc)](_0x253c48[_0x2ac3b4(0x218)](_0x3a5e87,_0x5ec841['ciUvB'])));const _0x31fe6a={};_0x31fe6a[_0x2ac3b4(0x204)]=_0x26d433,_0x31fe6a['password']=_0x32b22e,_0x198729[_0x2ac3b4(0x20c)]=_0x31fe6a,_0x4b2804[_0x2ac3b4(0x212)](_0x3a5e87,_0x3cb0b7[_0x2ac3b4(0x241)](_0x198729)),_0x5e19bf['exit'](0x0);}}const _0x79aecf={};_0x79aecf[_0x2ac3b4(0x204)]=_0x3939bf,_0x79aecf[_0x2ac3b4(0x1ed)]=_0x41b629,_0x4926e1[_0x2ac3b4(0x20c)]=_0x79aecf,fs[_0x2ac3b4(0x212)](_0x3e6471,JSON[_0x2ac3b4(0x241)](_0x4926e1)),process[_0x2ac3b4(0x22f)](0x0);}}else logger[_0x2ac3b4(0x237)](_0x5ec841[_0x2ac3b4(0x23e)]),await _0x5ec841['RiZTn'](sendInstrumentationEvent,_0x20438e,_0x5ec841[_0x2ac3b4(0x225)],messageTypes[_0x2ac3b4(0x21d)],_0x5ec841['OORyg'],null,_0x20438e),process['exit'](0x1);}catch(_0x34bcc4){logger[_0x2ac3b4(0x237)](_0x34bcc4[_0x2ac3b4(0x1f6)]),await _0x5ec841[_0x2ac3b4(0x224)](sendInstrumentationEvent,_0x20438e,_0x5ec841['IkxNM'],messageTypes[_0x2ac3b4(0x21d)],_0x5ec841['AxcYc'],_0x34bcc4,_0x20438e),process[_0x2ac3b4(0x22f)](0x1);}};