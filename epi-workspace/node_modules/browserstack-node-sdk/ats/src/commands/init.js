const a12_0x31b430=a12_0x45f4;(function(_0x3ad606,_0x3b0e6a){const _0x28eb1=a12_0x45f4,_0x32da66=_0x3ad606();while(!![]){try{const _0x163667=-parseInt(_0x28eb1(0x18c))/0x1+-parseInt(_0x28eb1(0x183))/0x2*(-parseInt(_0x28eb1(0x165))/0x3)+parseInt(_0x28eb1(0x187))/0x4+-parseInt(_0x28eb1(0x193))/0x5*(parseInt(_0x28eb1(0x1ab))/0x6)+-parseInt(_0x28eb1(0x1a9))/0x7+parseInt(_0x28eb1(0x199))/0x8*(parseInt(_0x28eb1(0x1c6))/0x9)+parseInt(_0x28eb1(0x175))/0xa*(-parseInt(_0x28eb1(0x1b3))/0xb);if(_0x163667===_0x3b0e6a)break;else _0x32da66['push'](_0x32da66['shift']());}catch(_0xc63f6a){_0x32da66['push'](_0x32da66['shift']());}}}(a12_0x2153,0x36a04));function a12_0x2153(){const _0x49a050=['18lyzKre','../config/constants','xiMrH','../utils/instrumentationUtils','jSOFV','username','bstack-accesskey','description','1391170RWQjzM','rwaJh','bKkWH','wrong-creds','CnKHM','tbweR','stringify','fjNvP','password','XjooY','recommendCommands','Browserstack','dnOHi','env','util','help','zUykr','debug','mctrN','36AsfmOg','BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','init','orldN','Pivzp','utf-8','DvZQn','JLNIO','qxJEo','unknown-error','bjchE','wvjay','../config/logger','desc','NvWwf','HlmPn','BMwcV','options','3tAdmAl','ByNXt','writeFileSync','ERROR','readFileSync','error','BROWSERSTACK_ACCESS_KEY','DyQlY','hEaBy','bstackAccesskey','exit','CwsEa','handler','lUwqP','Pssvb','pBzjg','10VgRPxQ','CvbcN','FXxRV','GET','bstack-username','string','WryVQ','UlUfQ','JFYFh','tEDwS','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','AwmPQ','mkdirSync','type','374284vkctOM','argv','strict','command','1674200kOfjiK','tcNlK','../utils/utilityMethods','WliEI','epilogue','67037uIMipo','dgUWl','ahLyZ','LCJGf','yFkXd','YYqMF','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','332265opxPSo','uuid','ElhCc','HLXgr','ILFNY','/automate/plan.json','807416prUVzE','cIdBE','builder','existsSync','UGlsM','init-called','WLJfl','stack','bstackUsername','BROWSERSTACK_USERNAME','nEtCn','https://','parse','INFO','TeRUj','requestId','2749502oKScdz','got'];a12_0x2153=function(){return _0x49a050;};return a12_0x2153();}const fs=require('fs'),util=require(a12_0x31b430(0x1c1)),got=require(a12_0x31b430(0x1aa)),{v4:uuidv4}=require(a12_0x31b430(0x194)),{logger}=require(a12_0x31b430(0x1d2)),{inputBstackKeys}=require('../utils/userInput'),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a12_0x31b430(0x1ac)),{getDirForConfig,getCredentialsPath,getAuthHeader}=require(a12_0x31b430(0x189)),{sendInstrumentationEvent}=require(a12_0x31b430(0x1ae));function a12_0x45f4(_0x3c9f0d,_0xf0a166){const _0x2153d2=a12_0x2153();return a12_0x45f4=function(_0x45f4e6,_0x41acee){_0x45f4e6=_0x45f4e6-0x163;let _0x19ffa5=_0x2153d2[_0x45f4e6];return _0x19ffa5;},a12_0x45f4(_0x3c9f0d,_0xf0a166);}exports[a12_0x31b430(0x186)]=a12_0x31b430(0x1c8),exports[a12_0x31b430(0x1d3)]='Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.',exports[a12_0x31b430(0x19b)]=function(_0x3337d2){const _0x27af6f=a12_0x31b430,_0x158bf9={};_0x158bf9[_0x27af6f(0x18e)]=_0x27af6f(0x192),_0x158bf9[_0x27af6f(0x1ba)]='string',_0x158bf9['TeRUj']=_0x27af6f(0x17f),_0x158bf9[_0x27af6f(0x1d0)]=_0x27af6f(0x1c2);const _0x402fef=_0x158bf9,_0x37c4f0={};_0x37c4f0[_0x27af6f(0x1b2)]=_0x402fef['ahLyZ'],_0x37c4f0['type']=_0x402fef[_0x27af6f(0x1ba)];const _0x280501={};_0x280501[_0x27af6f(0x1b2)]=_0x402fef[_0x27af6f(0x1a7)],_0x280501[_0x27af6f(0x182)]=_0x402fef[_0x27af6f(0x1ba)];const _0xdac108={};return _0xdac108['bstack-username']=_0x37c4f0,_0xdac108[_0x27af6f(0x1b1)]=_0x280501,_0x3337d2['usage'](HELP_HEADER_MESSAGE[_0x27af6f(0x1c8)])[_0x27af6f(0x18b)](HELP_FOOTER_MESSAGE)[_0x27af6f(0x164)](_0xdac108)[_0x27af6f(0x1bd)]()[_0x27af6f(0x185)]()[_0x27af6f(0x1c2)](_0x402fef[_0x27af6f(0x1d0)])[_0x27af6f(0x184)];},exports[a12_0x31b430(0x171)]=async function(_0x99221b){const _0x3a9b27=a12_0x31b430,_0x384c4e={'qxJEo':_0x3a9b27(0x192),'ByNXt':_0x3a9b27(0x17a),'WryVQ':_0x3a9b27(0x17f),'lUwqP':'help','DyQlY':function(_0x3f5eae){return _0x3f5eae();},'tEDwS':_0x3a9b27(0x1cb),'Pssvb':function(_0x48558e,_0xd51a55,_0x151d5f,_0x5f0e0a,_0x107a92,_0x2371be,_0x3e7f3d){return _0x48558e(_0xd51a55,_0x151d5f,_0x5f0e0a,_0x107a92,_0x2371be,_0x3e7f3d);},'HlmPn':_0x3a9b27(0x19e),'JFYFh':function(_0x2ed03c,_0x50fd0d){return _0x2ed03c===_0x50fd0d;},'zUykr':_0x3a9b27(0x17c),'orldN':_0x3a9b27(0x163),'AwmPQ':function(_0x2e5c7e,_0x4265e5){return _0x2e5c7e!==_0x4265e5;},'Pivzp':_0x3a9b27(0x1cc),'EFYCV':'hYShM','mUFcR':_0x3a9b27(0x1ad),'JLNIO':_0x3a9b27(0x1d1),'cIdBE':function(_0x335869,_0x46bac0){return _0x335869!==_0x46bac0;},'lXzGG':_0x3a9b27(0x1bc),'NvWwf':_0x3a9b27(0x19f),'dgUWl':_0x3a9b27(0x191),'pBzjg':_0x3a9b27(0x1af),'xVXQD':function(_0x2c7ca8,_0x5a8c64){return _0x2c7ca8===_0x5a8c64;},'nEtCn':function(_0x12f638,_0x2df3c4){return _0x12f638===_0x2df3c4;},'UGlsM':_0x3a9b27(0x177),'CnKHM':_0x3a9b27(0x1c7),'ObvDy':_0x3a9b27(0x178),'WliEI':function(_0xea2a29,_0x5f49a1,_0x4d1b23){return _0xea2a29(_0x5f49a1,_0x4d1b23);},'rwaJh':function(_0x3d85c6,_0x10b47c,_0x8fff04){return _0x3d85c6(_0x10b47c,_0x8fff04);},'ElhCc':function(_0x34ed55,_0x8c3a03){return _0x34ed55!==_0x8c3a03;},'tlMQz':function(_0x466392,_0x11a791){return _0x466392===_0x11a791;},'HLXgr':function(_0x38c2ac,_0x3be8a6){return _0x38c2ac===_0x3be8a6;},'hEaBy':_0x3a9b27(0x1c5),'bKkWH':_0x3a9b27(0x190),'tcNlK':_0x3a9b27(0x170),'LCJGf':_0x3a9b27(0x176),'dnOHi':'Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','ILFNY':function(_0xfd41ca,_0x4aff28,_0x410d53,_0xeccbc2,_0x336975,_0x717c9b,_0x35a29d){return _0xfd41ca(_0x4aff28,_0x410d53,_0xeccbc2,_0x336975,_0x717c9b,_0x35a29d);},'eLdlc':_0x3a9b27(0x1b6),'tbweR':_0x3a9b27(0x1cf)};try{global_registry[_0x3a9b27(0x1a8)]=_0x384c4e['DyQlY'](uuidv4),_0x384c4e[_0x3a9b27(0x173)](sendInstrumentationEvent,_0x99221b,_0x384c4e['HlmPn'],messageTypes[_0x3a9b27(0x1a6)],null,null,_0x99221b);const _0x212cff=_0x384c4e['DyQlY'](getDirForConfig);!fs[_0x3a9b27(0x19c)](_0x212cff)&&(_0x384c4e[_0x3a9b27(0x17d)](_0x384c4e[_0x3a9b27(0x1c3)],_0x384c4e[_0x3a9b27(0x1c9)])?_0x3a7a48=_0x4a66de[_0x3a9b27(0x16e)]:fs[_0x3a9b27(0x181)](_0x212cff));let _0xd00dab,_0x363a32;if(process[_0x3a9b27(0x1c0)][_0x3a9b27(0x1a2)]){if(_0x384c4e[_0x3a9b27(0x180)](_0x384c4e[_0x3a9b27(0x1ca)],_0x384c4e['EFYCV']))_0xd00dab=process[_0x3a9b27(0x1c0)][_0x3a9b27(0x1a2)];else{const _0x3f3962={};_0x3f3962[_0x3a9b27(0x1b2)]=_0x384c4e[_0x3a9b27(0x1ce)],_0x3f3962[_0x3a9b27(0x182)]=_0x384c4e['ByNXt'];const _0x86c8d1={};_0x86c8d1['description']=_0x384c4e[_0x3a9b27(0x17b)],_0x86c8d1[_0x3a9b27(0x182)]=_0x384c4e[_0x3a9b27(0x166)];const _0x147c79={};return _0x147c79[_0x3a9b27(0x179)]=_0x3f3962,_0x147c79['bstack-accesskey']=_0x86c8d1,_0x4e2010['usage'](_0x3679d6[_0x3a9b27(0x1c8)])[_0x3a9b27(0x18b)](_0x3cfc2b)['options'](_0x147c79)[_0x3a9b27(0x1bd)]()[_0x3a9b27(0x185)]()[_0x3a9b27(0x1c2)](_0x384c4e[_0x3a9b27(0x172)])[_0x3a9b27(0x184)];}}if(process[_0x3a9b27(0x1c0)][_0x3a9b27(0x16b)]){if(_0x384c4e[_0x3a9b27(0x17d)](_0x384c4e['mUFcR'],_0x384c4e[_0x3a9b27(0x1cd)])){let _0x358b56={};const _0xb202fc=_0x384c4e[_0x3a9b27(0x16c)](_0x59b3d4);_0x7c6002[_0x3a9b27(0x19c)](_0xb202fc)&&(_0x358b56=_0x3e2478[_0x3a9b27(0x1a5)](_0xd77f86[_0x3a9b27(0x169)](_0xb202fc,_0x384c4e[_0x3a9b27(0x17e)])));const _0x504b03={};_0x504b03['username']=_0x5d9af4,_0x504b03[_0x3a9b27(0x1bb)]=_0x2328de,_0x358b56[_0x3a9b27(0x1be)]=_0x504b03,_0x4f5f79[_0x3a9b27(0x167)](_0xb202fc,_0x2f5da1[_0x3a9b27(0x1b9)](_0x358b56)),_0x46c7c8[_0x3a9b27(0x16f)](0x0);}else _0x363a32=process[_0x3a9b27(0x1c0)][_0x3a9b27(0x16b)];}_0x99221b[_0x3a9b27(0x1a1)]&&(_0x384c4e[_0x3a9b27(0x19a)](_0x384c4e['lXzGG'],_0x384c4e[_0x3a9b27(0x1d4)])?_0xd00dab=_0x99221b[_0x3a9b27(0x1a1)]:_0x463610['mkdirSync'](_0x7f35a8));_0x99221b['bstackAccesskey']&&(_0x384c4e[_0x3a9b27(0x19a)](_0x384c4e[_0x3a9b27(0x18d)],_0x384c4e[_0x3a9b27(0x174)])?_0x363a32=_0x99221b[_0x3a9b27(0x16e)]:_0x32201d=_0x1d19a3['env']['BROWSERSTACK_ACCESS_KEY']);if(_0x384c4e['xVXQD'](_0xd00dab,undefined)||_0x384c4e[_0x3a9b27(0x1a3)](_0x363a32,undefined)){if(_0x384c4e[_0x3a9b27(0x19a)](_0x384c4e[_0x3a9b27(0x19d)],_0x384c4e[_0x3a9b27(0x19d)]))_0x14345f=_0xcdc7e2['bstackUsername'];else{logger[_0x3a9b27(0x1c4)](_0x384c4e[_0x3a9b27(0x1b7)]);const [_0x188790,_0x430e10]=await _0x384c4e[_0x3a9b27(0x16c)](inputBstackKeys);_0xd00dab=_0x188790,_0x363a32=_0x430e10;}}let _0x3727f7=![];const _0x40ac28=_0x3a9b27(0x1a4)+_0xd00dab+':'+_0x363a32+'@'+BS_API_URL+_0x3a9b27(0x198),_0x11caf6={'method':_0x384c4e['ObvDy'],'headers':_0x384c4e[_0x3a9b27(0x18a)](getAuthHeader,_0xd00dab,_0x363a32),'throwHttpErrors':![]},_0x1fefa7=await _0x384c4e[_0x3a9b27(0x1b4)](got,_0x40ac28,_0x11caf6);_0x384c4e['cIdBE'](_0x1fefa7,null)&&_0x384c4e[_0x3a9b27(0x195)](_0x1fefa7,undefined)&&_0x384c4e['tlMQz'](_0x1fefa7['statusCode'],0xc8)&&(_0x384c4e[_0x3a9b27(0x196)](_0x384c4e[_0x3a9b27(0x16d)],_0x384c4e[_0x3a9b27(0x16d)])?_0x3727f7=!![]:_0xd5a8d6=_0x4e480c[_0x3a9b27(0x1c0)][_0x3a9b27(0x1a2)]);if(_0x3727f7){if(_0x384c4e['cIdBE'](_0x384c4e[_0x3a9b27(0x1b5)],_0x384c4e[_0x3a9b27(0x188)])){let _0x34ba11={};const _0x23d043=_0x384c4e[_0x3a9b27(0x16c)](getCredentialsPath);fs[_0x3a9b27(0x19c)](_0x23d043)&&(_0x384c4e[_0x3a9b27(0x19a)](_0x384c4e[_0x3a9b27(0x18f)],_0x384c4e['LCJGf'])?_0x316f51=_0x3870ea[_0x3a9b27(0x1a5)](_0x39775d[_0x3a9b27(0x169)](_0x108fe7,_0x384c4e[_0x3a9b27(0x17e)])):_0x34ba11=JSON[_0x3a9b27(0x1a5)](fs[_0x3a9b27(0x169)](_0x23d043,_0x384c4e[_0x3a9b27(0x17e)])));const _0x28dfb4={};_0x28dfb4[_0x3a9b27(0x1b0)]=_0xd00dab,_0x28dfb4[_0x3a9b27(0x1bb)]=_0x363a32,_0x34ba11[_0x3a9b27(0x1be)]=_0x28dfb4,fs['writeFileSync'](_0x23d043,JSON[_0x3a9b27(0x1b9)](_0x34ba11)),process[_0x3a9b27(0x16f)](0x0);}else _0xc64e92=!![];}else logger['error'](_0x384c4e[_0x3a9b27(0x1bf)]),await _0x384c4e[_0x3a9b27(0x197)](sendInstrumentationEvent,_0x99221b,_0x384c4e[_0x3a9b27(0x1d5)],messageTypes[_0x3a9b27(0x168)],_0x384c4e['eLdlc'],null,_0x99221b),process[_0x3a9b27(0x16f)](0x1);}catch(_0x771870){logger[_0x3a9b27(0x16a)](_0x771870[_0x3a9b27(0x1a0)]),await _0x384c4e[_0x3a9b27(0x197)](sendInstrumentationEvent,_0x99221b,_0x384c4e[_0x3a9b27(0x1d5)],messageTypes[_0x3a9b27(0x168)],_0x384c4e[_0x3a9b27(0x1b8)],_0x771870,_0x99221b),process[_0x3a9b27(0x16f)](0x1);}};