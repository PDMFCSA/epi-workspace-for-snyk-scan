const a12_0x8e0644=a12_0x5aa3;function a12_0x4b57(){const _0x26e5f5=['env','KAKaP','ZUtce','https://','recommendCommands','htqfA','utf-8','tNTxL','TXzCl','uvsGx','bstack-username','../utils/instrumentationUtils','YoVUJ','util','../config/logger','21168040JVEXkl','GYytg','rDTTh','desc','parse','tJgeL','1960308WFEqNB','QGYHW','mkdirSync','nWERC','got','EYRmD','argv','DXjNL','355809prbQWk','writeFileSync','statusCode','FEUhq','bstackAccesskey','EkJeK','existsSync','bstackUsername','1372419nZEFQM','unknown-error','IwapN','3145736nMSsbG','jxLPE','1272odnFKe','stringify','BROWSERSTACK_ACCESS_KEY','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','WRGWN','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','stack','../utils/userInput','string','DIfja','JDIVc','type','oZZWw','uuid','Browserstack','PIsdT','help','ttQrQ','6055wZcHCz','username','/automate/plan.json','../utils/utilityMethods','strict','BROWSERSTACK_USERNAME','INFO','GPFkE','BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','sVGoz','Psoxt','readFileSync','builder','OtToj','2RmOEaU','password','1081101foEath','hCqNk','jlEkT','BvFMc','usage','epilogue','ERROR','init','16IUaCXm','AOTJD','error','options','command','Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.','init-called','rvYcQ','exit','bstack-accesskey','description','rAfDe','wrong-creds'];a12_0x4b57=function(){return _0x26e5f5;};return a12_0x4b57();}(function(_0x53770d,_0x1138f4){const _0x47007f=a12_0x5aa3,_0xbe241f=_0x53770d();while(!![]){try{const _0x48ca79=parseInt(_0x47007f(0x1b3))/0x1+parseInt(_0x47007f(0x17f))/0x2*(parseInt(_0x47007f(0x1ab))/0x3)+parseInt(_0x47007f(0x1be))/0x4+-parseInt(_0x47007f(0x1d2))/0x5*(-parseInt(_0x47007f(0x1c0))/0x6)+parseInt(_0x47007f(0x181))/0x7*(parseInt(_0x47007f(0x189))/0x8)+parseInt(_0x47007f(0x1bb))/0x9+-parseInt(_0x47007f(0x1a5))/0xa;if(_0x48ca79===_0x1138f4)break;else _0xbe241f['push'](_0xbe241f['shift']());}catch(_0xf07e4b){_0xbe241f['push'](_0xbe241f['shift']());}}}(a12_0x4b57,0x60eb8));const fs=require('fs'),util=require(a12_0x8e0644(0x1a3)),got=require(a12_0x8e0644(0x1af)),{v4:uuidv4}=require(a12_0x8e0644(0x1cd)),{logger}=require(a12_0x8e0644(0x1a4)),{inputBstackKeys}=require(a12_0x8e0644(0x1c7)),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require('../config/constants'),{getDirForConfig,getCredentialsPath,getAuthHeader}=require(a12_0x8e0644(0x1d5)),{sendInstrumentationEvent}=require(a12_0x8e0644(0x1a1));function a12_0x5aa3(_0x2b8977,_0x48491f){const _0x4b57a1=a12_0x4b57();return a12_0x5aa3=function(_0x5aa3db,_0x447477){_0x5aa3db=_0x5aa3db-0x17d;let _0x1c7797=_0x4b57a1[_0x5aa3db];return _0x1c7797;},a12_0x5aa3(_0x2b8977,_0x48491f);}exports[a12_0x8e0644(0x18d)]=a12_0x8e0644(0x188),exports[a12_0x8e0644(0x1a8)]=a12_0x8e0644(0x18e),exports[a12_0x8e0644(0x17d)]=function(_0x298b4f){const _0x28a3ac=a12_0x8e0644,_0x1a864a={};_0x1a864a[_0x28a3ac(0x1b0)]='Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.',_0x1a864a[_0x28a3ac(0x1d9)]='string',_0x1a864a[_0x28a3ac(0x1ae)]=_0x28a3ac(0x1c3),_0x1a864a[_0x28a3ac(0x1c4)]='help';const _0x4111fc=_0x1a864a,_0x11d14e={};_0x11d14e[_0x28a3ac(0x193)]=_0x4111fc[_0x28a3ac(0x1b0)],_0x11d14e[_0x28a3ac(0x1cb)]=_0x4111fc[_0x28a3ac(0x1d9)];const _0x2936f7={};_0x2936f7['description']=_0x4111fc[_0x28a3ac(0x1ae)],_0x2936f7['type']=_0x4111fc[_0x28a3ac(0x1d9)];const _0x476734={};return _0x476734['bstack-username']=_0x11d14e,_0x476734['bstack-accesskey']=_0x2936f7,_0x298b4f['usage'](HELP_HEADER_MESSAGE[_0x28a3ac(0x188)])[_0x28a3ac(0x186)](HELP_FOOTER_MESSAGE)['options'](_0x476734)[_0x28a3ac(0x19a)]()[_0x28a3ac(0x1d6)]()[_0x28a3ac(0x1d0)](_0x4111fc['WRGWN'])[_0x28a3ac(0x1b1)];},exports['handler']=async function(_0x4d3ea8){const _0x189451=a12_0x8e0644,_0x5e4a9f={'rDTTh':_0x189451(0x1c5),'ttQrQ':_0x189451(0x1c8),'YoVUJ':_0x189451(0x1c3),'TBvak':_0x189451(0x1d0),'QGYHW':_0x189451(0x19c),'tNTxL':function(_0x395bc1){return _0x395bc1();},'uvsGx':function(_0x1da693,_0x8fc799,_0x456bd8,_0x4f453c,_0x4a991c,_0x2a5cf4,_0x23ff95){return _0x1da693(_0x8fc799,_0x456bd8,_0x4f453c,_0x4a991c,_0x2a5cf4,_0x23ff95);},'DIfja':_0x189451(0x18f),'BvFMc':function(_0x802a63){return _0x802a63();},'hCqNk':function(_0x19c8bf,_0x58c60c){return _0x19c8bf===_0x58c60c;},'kcQzX':'pPrYO','jlEkT':_0x189451(0x1b2),'htqfA':'pJnwF','oZZWw':function(_0x24f838,_0x11c8b6){return _0x24f838!==_0x11c8b6;},'jxLPE':'zvKmT','EPfAI':'ahWam','FiHPP':_0x189451(0x1b6),'AOTJD':function(_0x33f715,_0x4eb3c0){return _0x33f715===_0x4eb3c0;},'rvYcQ':_0x189451(0x198),'rAfDe':_0x189451(0x1da),'tJgeL':'GET','TXzCl':function(_0x23ef83,_0x6b7f80,_0x2d5401){return _0x23ef83(_0x6b7f80,_0x2d5401);},'OtToj':_0x189451(0x197),'PIsdT':_0x189451(0x1db),'WZIJw':_0x189451(0x1a6),'IwapN':_0x189451(0x1dc),'EkJeK':'Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','JDIVc':function(_0x2a8aed,_0x453a8d,_0x583604,_0x372618,_0x328701,_0x5d8016,_0x1b9094){return _0x2a8aed(_0x453a8d,_0x583604,_0x372618,_0x328701,_0x5d8016,_0x1b9094);},'EUBpn':_0x189451(0x195),'YNseK':_0x189451(0x1bc)};try{global_registry['requestId']=_0x5e4a9f[_0x189451(0x19d)](uuidv4),_0x5e4a9f[_0x189451(0x19f)](sendInstrumentationEvent,_0x4d3ea8,_0x5e4a9f[_0x189451(0x1c9)],messageTypes[_0x189451(0x1d8)],null,null,_0x4d3ea8);const _0x36cd72=_0x5e4a9f[_0x189451(0x184)](getDirForConfig);!fs[_0x189451(0x1b9)](_0x36cd72)&&(_0x5e4a9f[_0x189451(0x182)](_0x5e4a9f['kcQzX'],_0x5e4a9f['kcQzX'])?fs['mkdirSync'](_0x36cd72):_0x3ea5b5[_0x189451(0x1ad)](_0x1828c4));let _0x456617,_0xeb4df1;if(process[_0x189451(0x196)][_0x189451(0x1d7)]){if(_0x5e4a9f[_0x189451(0x182)](_0x5e4a9f[_0x189451(0x183)],_0x5e4a9f['jlEkT']))_0x456617=process['env']['BROWSERSTACK_USERNAME'];else{const _0x53fa1={};_0x53fa1[_0x189451(0x193)]=_0x5e4a9f[_0x189451(0x1a7)],_0x53fa1['type']=_0x5e4a9f[_0x189451(0x1d1)];const _0x46d112={};_0x46d112[_0x189451(0x193)]=_0x5e4a9f[_0x189451(0x1a2)],_0x46d112[_0x189451(0x1cb)]=_0x5e4a9f[_0x189451(0x1d1)];const _0x223651={};return _0x223651[_0x189451(0x1a0)]=_0x53fa1,_0x223651[_0x189451(0x192)]=_0x46d112,_0x5c5352[_0x189451(0x185)](_0xee4152[_0x189451(0x188)])[_0x189451(0x186)](_0x2f77e6)[_0x189451(0x18c)](_0x223651)['recommendCommands']()[_0x189451(0x1d6)]()['help'](_0x5e4a9f['TBvak'])['argv'];}}process[_0x189451(0x196)][_0x189451(0x1c2)]&&(_0x5e4a9f[_0x189451(0x182)](_0x5e4a9f[_0x189451(0x19b)],_0x5e4a9f[_0x189451(0x19b)])?_0xeb4df1=process[_0x189451(0x196)][_0x189451(0x1c2)]:_0x21eaa2=_0x5f1772[_0x189451(0x1a9)](_0x31f488['readFileSync'](_0x2a5820,_0x5e4a9f[_0x189451(0x1ac)])));_0x4d3ea8[_0x189451(0x1ba)]&&(_0x5e4a9f[_0x189451(0x1cc)](_0x5e4a9f[_0x189451(0x1bf)],_0x5e4a9f[_0x189451(0x1bf)])?_0x48ddc5=!![]:_0x456617=_0x4d3ea8[_0x189451(0x1ba)]);_0x4d3ea8['bstackAccesskey']&&(_0x5e4a9f[_0x189451(0x182)](_0x5e4a9f['EPfAI'],_0x5e4a9f['FiHPP'])?_0x5c61b6=_0xb19033[_0x189451(0x196)][_0x189451(0x1c2)]:_0xeb4df1=_0x4d3ea8[_0x189451(0x1b7)]);if(_0x5e4a9f[_0x189451(0x18a)](_0x456617,undefined)||_0x5e4a9f[_0x189451(0x182)](_0xeb4df1,undefined)){if(_0x5e4a9f[_0x189451(0x1cc)](_0x5e4a9f[_0x189451(0x190)],_0x5e4a9f[_0x189451(0x190)]))_0x3e35fe=_0x1823cf[_0x189451(0x196)]['BROWSERSTACK_USERNAME'];else{logger['debug'](_0x5e4a9f[_0x189451(0x194)]);const [_0x3523ec,_0x5d78e9]=await _0x5e4a9f[_0x189451(0x184)](inputBstackKeys);_0x456617=_0x3523ec,_0xeb4df1=_0x5d78e9;}}let _0x30a1d8=![];const _0x40bb91=_0x189451(0x199)+_0x456617+':'+_0xeb4df1+'@'+BS_API_URL+_0x189451(0x1d4),_0x5a169c={'method':_0x5e4a9f[_0x189451(0x1aa)],'headers':_0x5e4a9f[_0x189451(0x19e)](getAuthHeader,_0x456617,_0xeb4df1),'throwHttpErrors':![]},_0x297e19=await _0x5e4a9f['TXzCl'](got,_0x40bb91,_0x5a169c);if(_0x5e4a9f[_0x189451(0x1cc)](_0x297e19,null)&&_0x5e4a9f[_0x189451(0x1cc)](_0x297e19,undefined)&&_0x5e4a9f['AOTJD'](_0x297e19[_0x189451(0x1b5)],0xc8)){if(_0x5e4a9f[_0x189451(0x18a)](_0x5e4a9f[_0x189451(0x17e)],_0x5e4a9f['OtToj']))_0x30a1d8=!![];else{let _0xc95a42={};const _0x82c7a8=_0x5e4a9f[_0x189451(0x19d)](_0x4ea1cb);_0x5591d8[_0x189451(0x1b9)](_0x82c7a8)&&(_0xc95a42=_0x343bfe[_0x189451(0x1a9)](_0x4aee4f[_0x189451(0x1dd)](_0x82c7a8,_0x5e4a9f[_0x189451(0x1ac)])));const _0x118373={};_0x118373[_0x189451(0x1d3)]=_0x4cc405,_0x118373[_0x189451(0x180)]=_0x1071f8,_0xc95a42[_0x189451(0x1ce)]=_0x118373,_0x2f56da[_0x189451(0x1b4)](_0x82c7a8,_0x1dd967['stringify'](_0xc95a42)),_0x574b90[_0x189451(0x191)](0x0);}}if(_0x30a1d8){if(_0x5e4a9f['oZZWw'](_0x5e4a9f[_0x189451(0x1cf)],_0x5e4a9f['WZIJw'])){let _0x1747f8={};const _0x5a46c7=_0x5e4a9f[_0x189451(0x19d)](getCredentialsPath);fs['existsSync'](_0x5a46c7)&&(_0x5e4a9f[_0x189451(0x1cc)](_0x5e4a9f[_0x189451(0x1bd)],_0x5e4a9f[_0x189451(0x1bd)])?_0xed523e=_0x1aee69[_0x189451(0x1b7)]:_0x1747f8=JSON[_0x189451(0x1a9)](fs[_0x189451(0x1dd)](_0x5a46c7,_0x5e4a9f[_0x189451(0x1ac)])));const _0x2c1412={};_0x2c1412[_0x189451(0x1d3)]=_0x456617,_0x2c1412['password']=_0xeb4df1,_0x1747f8[_0x189451(0x1ce)]=_0x2c1412,fs[_0x189451(0x1b4)](_0x5a46c7,JSON[_0x189451(0x1c1)](_0x1747f8)),process['exit'](0x0);}else _0x5aa4a4=_0x3dbd34[_0x189451(0x1ba)];}else logger['error'](_0x5e4a9f[_0x189451(0x1b8)]),await _0x5e4a9f[_0x189451(0x1ca)](sendInstrumentationEvent,_0x4d3ea8,_0x5e4a9f[_0x189451(0x1c9)],messageTypes[_0x189451(0x187)],_0x5e4a9f['EUBpn'],null,_0x4d3ea8),process['exit'](0x1);}catch(_0x48d219){logger[_0x189451(0x18b)](_0x48d219[_0x189451(0x1c6)]),await _0x5e4a9f[_0x189451(0x19f)](sendInstrumentationEvent,_0x4d3ea8,_0x5e4a9f[_0x189451(0x1c9)],messageTypes[_0x189451(0x187)],_0x5e4a9f['YNseK'],_0x48d219,_0x4d3ea8),process[_0x189451(0x191)](0x1);}};