const a12_0x45b649=a12_0x2b16;function a12_0x2b16(_0x18fc26,_0x4a3752){const _0x20c25e=a12_0x20c2();return a12_0x2b16=function(_0x2b160f,_0x1c6b16){_0x2b160f=_0x2b160f-0xa4;let _0x160599=_0x20c25e[_0x2b160f];return _0x160599;},a12_0x2b16(_0x18fc26,_0x4a3752);}function a12_0x20c2(){const _0x50d705=['NbVeW','aHZce','../utils/utilityMethods','ERROR','FMlCr','BROWSERSTACK_USERNAME','desc','3399636VGBhCI','ypYVj','stack','hUdQU','2083788ylmetw','Browserstack','handler','init-called','ufoYA','writeFileSync','78cDpFph','statusCode','recommendCommands','init','help','mkdirSync','SUILz','epilogue','rJvJx','sDKhA','CpEmh','CNyCd','GET','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','WVwzZ','argv','7494054zwofZd','bstack-username','debug','lBJNB','Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.','ndaFC','requestId','LWAgx','exit','xvNnv','type','bstackUsername','env','lPGWj','PSmOK','error','816381ADntHh','description','vmqVH','1483500fTaeyd','stringify','bstackAccesskey','strict','AyDlT','40eQUeSE','OfShl','existsSync','../utils/userInput','oNRqO','../config/logger','mbjnl','DSNwz','ZRpxf','FTCqn','91829eUmOqO','password','options','xogTF','77uNoPko','HINrP','41067VyuECj','../utils/instrumentationUtils','KqmJA','5jXDYKw','FFOSO','/automate/plan.json','SwFOX','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','INFO','command','bstack-accesskey','plOEh','kWYZR','parse','string','Kvsic','qewdu','https://','EzTsz','BROWSERSTACK_ACCESS_KEY','ZyXHl','DpfUM','CqspJ','olwun','username','TOEQL','GKCba','usage','oEPTP','MhftN','hIVAO'];a12_0x20c2=function(){return _0x50d705;};return a12_0x20c2();}(function(_0x301874,_0x5ab592){const _0x18ee09=a12_0x2b16,_0xe8d891=_0x301874();while(!![]){try{const _0x469ef3=parseInt(_0x18ee09(0xfc))/0x1+parseInt(_0x18ee09(0xca))/0x2*(-parseInt(_0x18ee09(0x102))/0x3)+-parseInt(_0x18ee09(0xc0))/0x4*(-parseInt(_0x18ee09(0x105))/0x5)+parseInt(_0x18ee09(0xda))/0x6+-parseInt(_0x18ee09(0xc4))/0x7+parseInt(_0x18ee09(0xf2))/0x8*(parseInt(_0x18ee09(0xea))/0x9)+-parseInt(_0x18ee09(0xed))/0xa*(parseInt(_0x18ee09(0x100))/0xb);if(_0x469ef3===_0x5ab592)break;else _0xe8d891['push'](_0xe8d891['shift']());}catch(_0x535c7f){_0xe8d891['push'](_0xe8d891['shift']());}}}(a12_0x20c2,0xbd08f));const fs=require('fs'),util=require('util'),got=require('got'),{v4:uuidv4}=require('uuid'),{logger}=require(a12_0x45b649(0xf7)),{inputBstackKeys}=require(a12_0x45b649(0xf5)),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require('../config/constants'),{getDirForConfig,getCredentialsPath,getAuthHeader}=require(a12_0x45b649(0xbb)),{sendInstrumentationEvent}=require(a12_0x45b649(0x103));exports[a12_0x45b649(0x10b)]='init',exports[a12_0x45b649(0xbf)]=a12_0x45b649(0xde),exports['builder']=function(_0x5796d8){const _0xf9d93=a12_0x45b649,_0x25339c={};_0x25339c['lBJNB']=_0xf9d93(0xd7),_0x25339c[_0xf9d93(0xf6)]=_0xf9d93(0xa8),_0x25339c[_0xf9d93(0xc8)]=_0xf9d93(0x109),_0x25339c['yCyvo']=_0xf9d93(0xce);const _0x4731e7=_0x25339c,_0x574409={};_0x574409['description']=_0x4731e7[_0xf9d93(0xdd)],_0x574409['type']=_0x4731e7[_0xf9d93(0xf6)];const _0x48b1a6={};_0x48b1a6['description']=_0x4731e7['ufoYA'],_0x48b1a6[_0xf9d93(0xe4)]=_0x4731e7[_0xf9d93(0xf6)];const _0x35dc53={};return _0x35dc53[_0xf9d93(0xdb)]=_0x574409,_0x35dc53[_0xf9d93(0xa4)]=_0x48b1a6,_0x5796d8[_0xf9d93(0xb5)](HELP_HEADER_MESSAGE[_0xf9d93(0xcd)])[_0xf9d93(0xd1)](HELP_FOOTER_MESSAGE)[_0xf9d93(0xfe)](_0x35dc53)[_0xf9d93(0xcc)]()[_0xf9d93(0xf0)]()[_0xf9d93(0xce)](_0x4731e7['yCyvo'])['argv'];},exports[a12_0x45b649(0xc6)]=async function(_0x5c3182){const _0x45fb99=a12_0x45b649,_0xaca257={'PSmOK':function(_0x34093c){return _0x34093c();},'WVwzZ':'utf-8','ypYVj':_0x45fb99(0xd7),'Kvsic':_0x45fb99(0xa8),'HINrP':_0x45fb99(0x109),'CqspJ':_0x45fb99(0xce),'rJvJx':function(_0xceb476,_0x475ecd,_0x1854e6,_0x431713,_0x2ff5d4,_0x27f0c7,_0x30371d){return _0xceb476(_0x475ecd,_0x1854e6,_0x431713,_0x2ff5d4,_0x27f0c7,_0x30371d);},'ZyXHl':_0x45fb99(0xc7),'FTCqn':function(_0xd527fb){return _0xd527fb();},'mbjnl':function(_0x57c795,_0x5dc878){return _0x57c795===_0x5dc878;},'TOEQL':_0x45fb99(0xb7),'hUdQU':_0x45fb99(0xfa),'qewdu':function(_0x546212,_0xb7f8f7){return _0x546212===_0xb7f8f7;},'aHZce':'OCIjB','vmqVH':function(_0xc93137,_0x15dbf7){return _0xc93137===_0x15dbf7;},'lPGWj':_0x45fb99(0xf9),'DpfUM':_0x45fb99(0xb8),'xogTF':function(_0x30c125,_0x61cda4){return _0x30c125!==_0x61cda4;},'AyDlT':_0x45fb99(0xa5),'ndaFC':function(_0x4264fd,_0x1862e1){return _0x4264fd!==_0x1862e1;},'SUILz':_0x45fb99(0xd4),'xvNnv':'BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','sDKhA':function(_0x39179f){return _0x39179f();},'kWYZR':_0x45fb99(0xd6),'LWAgx':function(_0x1a2ef2,_0x279ed2,_0x55d4a6){return _0x1a2ef2(_0x279ed2,_0x55d4a6);},'EzTsz':function(_0x52248c,_0x11ea0a){return _0x52248c!==_0x11ea0a;},'FFOSO':function(_0xf7c5e6,_0x5cf482){return _0xf7c5e6===_0x5cf482;},'dPLMG':_0x45fb99(0xd5),'NbVeW':_0x45fb99(0xb1),'RWrxO':function(_0x1be263){return _0x1be263();},'oEPTP':function(_0xa65f3,_0x549106){return _0xa65f3!==_0x549106;},'OfShl':_0x45fb99(0xb4),'KqmJA':'Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','kNGny':function(_0xd481f4,_0x470268,_0x2331b9,_0x2b7696,_0x16ffd4,_0x51687c,_0x259591){return _0xd481f4(_0x470268,_0x2331b9,_0x2b7696,_0x16ffd4,_0x51687c,_0x259591);},'NSEGQ':'wrong-creds','FMlCr':function(_0x263a0a,_0x53b6e0,_0x15b553,_0x46c0a6,_0x1d376e,_0x30cc37,_0x2e8c7a){return _0x263a0a(_0x53b6e0,_0x15b553,_0x46c0a6,_0x1d376e,_0x30cc37,_0x2e8c7a);},'SwFOX':'unknown-error'};try{global_registry[_0x45fb99(0xe0)]=_0xaca257[_0x45fb99(0xe8)](uuidv4),_0xaca257[_0x45fb99(0xd2)](sendInstrumentationEvent,_0x5c3182,_0xaca257[_0x45fb99(0xae)],messageTypes[_0x45fb99(0x10a)],null,null,_0x5c3182);const _0x3f25b8=_0xaca257[_0x45fb99(0xfb)](getDirForConfig);if(!fs[_0x45fb99(0xf4)](_0x3f25b8)){if(_0xaca257['mbjnl'](_0xaca257['TOEQL'],_0xaca257[_0x45fb99(0xb3)]))fs[_0x45fb99(0xcf)](_0x3f25b8);else{let _0x3e53cf={};const _0x4d392c=_0xaca257[_0x45fb99(0xe8)](_0x236e74);_0x5506f7[_0x45fb99(0xf4)](_0x4d392c)&&(_0x3e53cf=_0x234a04[_0x45fb99(0xa7)](_0x2f8916['readFileSync'](_0x4d392c,_0xaca257[_0x45fb99(0xd8)])));const _0x2c1c91={};_0x2c1c91[_0x45fb99(0xb2)]=_0x442b82,_0x2c1c91[_0x45fb99(0xfd)]=_0x5e0ade,_0x3e53cf[_0x45fb99(0xc5)]=_0x2c1c91,_0x4f878d[_0x45fb99(0xc9)](_0x4d392c,_0x4eb067[_0x45fb99(0xee)](_0x3e53cf)),_0x13c7fa[_0x45fb99(0xe2)](0x0);}}let _0x6d665e,_0x4f568e;process[_0x45fb99(0xe6)][_0x45fb99(0xbe)]&&(_0xaca257[_0x45fb99(0xf8)](_0xaca257[_0x45fb99(0xc3)],_0xaca257[_0x45fb99(0xc3)])?_0x6d665e=process[_0x45fb99(0xe6)]['BROWSERSTACK_USERNAME']:_0x1d3eb4=!![]);process[_0x45fb99(0xe6)][_0x45fb99(0xad)]&&(_0xaca257[_0x45fb99(0xaa)](_0xaca257[_0x45fb99(0xba)],_0xaca257[_0x45fb99(0xba)])?_0x4f568e=process[_0x45fb99(0xe6)][_0x45fb99(0xad)]:_0x128c7d=_0x4623b9[_0x45fb99(0xe6)][_0x45fb99(0xad)]);_0x5c3182[_0x45fb99(0xe5)]&&(_0xaca257[_0x45fb99(0xec)](_0xaca257[_0x45fb99(0xe7)],_0xaca257[_0x45fb99(0xaf)])?_0x5c2c6e[_0x45fb99(0xcf)](_0x199224):_0x6d665e=_0x5c3182['bstackUsername']);if(_0x5c3182[_0x45fb99(0xef)]){if(_0xaca257[_0x45fb99(0xff)](_0xaca257[_0x45fb99(0xf1)],_0xaca257[_0x45fb99(0xf1)])){const _0x3ae5b1={};_0x3ae5b1[_0x45fb99(0xeb)]=_0xaca257[_0x45fb99(0xc1)],_0x3ae5b1[_0x45fb99(0xe4)]=_0xaca257['Kvsic'];const _0x34dadb={};_0x34dadb[_0x45fb99(0xeb)]=_0xaca257[_0x45fb99(0x101)],_0x34dadb[_0x45fb99(0xe4)]=_0xaca257[_0x45fb99(0xa9)];const _0x20838f={};return _0x20838f[_0x45fb99(0xdb)]=_0x3ae5b1,_0x20838f[_0x45fb99(0xa4)]=_0x34dadb,_0x53c982[_0x45fb99(0xb5)](_0x60eac3['init'])[_0x45fb99(0xd1)](_0x319506)[_0x45fb99(0xfe)](_0x20838f)['recommendCommands']()['strict']()['help'](_0xaca257[_0x45fb99(0xb0)])[_0x45fb99(0xd9)];}else _0x4f568e=_0x5c3182[_0x45fb99(0xef)];}if(_0xaca257[_0x45fb99(0xec)](_0x6d665e,undefined)||_0xaca257[_0x45fb99(0xf8)](_0x4f568e,undefined)){if(_0xaca257[_0x45fb99(0xdf)](_0xaca257['SUILz'],_0xaca257[_0x45fb99(0xd0)]))_0x50a25b=_0x1d0a73[_0x45fb99(0xe6)][_0x45fb99(0xbe)];else{logger[_0x45fb99(0xdc)](_0xaca257[_0x45fb99(0xe3)]);const [_0x40df02,_0x3e9e26]=await _0xaca257[_0x45fb99(0xd3)](inputBstackKeys);_0x6d665e=_0x40df02,_0x4f568e=_0x3e9e26;}}let _0x15c5ed=![];const _0x39f687=_0x45fb99(0xab)+_0x6d665e+':'+_0x4f568e+'@'+BS_API_URL+_0x45fb99(0x107),_0x16325e={'method':_0xaca257[_0x45fb99(0xa6)],'headers':_0xaca257['LWAgx'](getAuthHeader,_0x6d665e,_0x4f568e),'throwHttpErrors':![]},_0x4180c8=await _0xaca257[_0x45fb99(0xe1)](got,_0x39f687,_0x16325e);_0xaca257[_0x45fb99(0xac)](_0x4180c8,null)&&_0xaca257[_0x45fb99(0xff)](_0x4180c8,undefined)&&_0xaca257[_0x45fb99(0xaa)](_0x4180c8[_0x45fb99(0xcb)],0xc8)&&(_0xaca257[_0x45fb99(0x106)](_0xaca257['dPLMG'],_0xaca257['dPLMG'])?_0x15c5ed=!![]:_0x5e6dd9=_0xd75c68['bstackUsername']);if(_0x15c5ed){if(_0xaca257[_0x45fb99(0xf8)](_0xaca257[_0x45fb99(0xb9)],_0xaca257[_0x45fb99(0xb9)])){let _0x506e04={};const _0x3c1bb5=_0xaca257['RWrxO'](getCredentialsPath);fs[_0x45fb99(0xf4)](_0x3c1bb5)&&(_0xaca257[_0x45fb99(0xb6)](_0xaca257[_0x45fb99(0xf3)],_0xaca257[_0x45fb99(0xf3)])?_0x2d4bec=_0x899c25[_0x45fb99(0xa7)](_0x396e39['readFileSync'](_0x49e552,_0xaca257[_0x45fb99(0xd8)])):_0x506e04=JSON['parse'](fs['readFileSync'](_0x3c1bb5,_0xaca257['WVwzZ'])));const _0x1f5cd0={};_0x1f5cd0[_0x45fb99(0xb2)]=_0x6d665e,_0x1f5cd0['password']=_0x4f568e,_0x506e04[_0x45fb99(0xc5)]=_0x1f5cd0,fs[_0x45fb99(0xc9)](_0x3c1bb5,JSON[_0x45fb99(0xee)](_0x506e04)),process[_0x45fb99(0xe2)](0x0);}else _0x5aabc1=_0x29c0ed[_0x45fb99(0xef)];}else logger[_0x45fb99(0xe9)](_0xaca257[_0x45fb99(0x104)]),await _0xaca257['kNGny'](sendInstrumentationEvent,_0x5c3182,_0xaca257[_0x45fb99(0xae)],messageTypes[_0x45fb99(0xbc)],_0xaca257['NSEGQ'],null,_0x5c3182),process[_0x45fb99(0xe2)](0x1);}catch(_0x5ab3ee){logger[_0x45fb99(0xe9)](_0x5ab3ee[_0x45fb99(0xc2)]),await _0xaca257[_0x45fb99(0xbd)](sendInstrumentationEvent,_0x5c3182,_0xaca257[_0x45fb99(0xae)],messageTypes[_0x45fb99(0xbc)],_0xaca257[_0x45fb99(0x108)],_0x5ab3ee,_0x5c3182),process['exit'](0x1);}};