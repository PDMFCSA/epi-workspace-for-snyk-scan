const a12_0x11bcd0=a12_0x9476;(function(_0x12f65d,_0x24d520){const _0x2b3afe=a12_0x9476,_0x11810e=_0x12f65d();while(!![]){try{const _0x44efec=-parseInt(_0x2b3afe(0x203))/0x1+parseInt(_0x2b3afe(0x211))/0x2*(-parseInt(_0x2b3afe(0x1c5))/0x3)+parseInt(_0x2b3afe(0x1f8))/0x4+-parseInt(_0x2b3afe(0x1f0))/0x5+parseInt(_0x2b3afe(0x1d3))/0x6+parseInt(_0x2b3afe(0x213))/0x7*(-parseInt(_0x2b3afe(0x1c2))/0x8)+-parseInt(_0x2b3afe(0x209))/0x9;if(_0x44efec===_0x24d520)break;else _0x11810e['push'](_0x11810e['shift']());}catch(_0x2a2b3c){_0x11810e['push'](_0x11810e['shift']());}}}(a12_0x3afb,0xe1ce9));function a12_0x9476(_0x1260f8,_0x5244be){const _0x3afbd9=a12_0x3afb();return a12_0x9476=function(_0x9476ba,_0x29f2a4){_0x9476ba=_0x9476ba-0x1b8;let _0x186c97=_0x3afbd9[_0x9476ba];return _0x186c97;},a12_0x9476(_0x1260f8,_0x5244be);}const fs=require('fs'),util=require('util'),got=require(a12_0x11bcd0(0x1bc)),{v4:uuidv4}=require(a12_0x11bcd0(0x1da)),{logger}=require('../config/logger'),{inputBstackKeys}=require(a12_0x11bcd0(0x1d5)),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a12_0x11bcd0(0x21b)),{getDirForConfig,getCredentialsPath,getAuthHeader}=require(a12_0x11bcd0(0x1c0)),{sendInstrumentationEvent}=require(a12_0x11bcd0(0x221));function a12_0x3afb(){const _0x54e756=['parse','1647215LfAOZI','NBZZm','wrong-creds','OOpLW','WtnuB','ERROR','NNdxM','desc','6798860ykQSMT','writeFileSync','klszI','AXnUN','FsAuF','SOXoW','strict','LaFAi','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','utf-8','Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','32891tVnywl','string','stack','recommendCommands','existsSync','bcjLo','5386437DWEeUj','env','BROWSERSTACK_USERNAME','HZLWP','zyiQv','krYbX','KsApJ','oVCZN','4zpQLlX','stringify','73409rijBxs','lxiFP','init','BROWSERSTACK_ACCESS_KEY','bstack-username','QKEDJ','usage','zKUNp','../config/constants','AmNyM','nrLls','GET','xoKpd','IyoTE','../utils/instrumentationUtils','help','options','lJrQe','FsNrF','hiCZh','got','onBjv','debug','dntEL','../utils/utilityMethods','kHxwq','472AOYpGI','cUjqn','argv','680991DsQbTH','statusCode','error','ybvWV','DlzGf','gLyWt','bstackAccesskey','PiPFr','QABDG','epilogue','JCBuJ','type','username','builder','7552464weLJQE','Browserstack','../utils/userInput','INFO','yiaPz','eEwdF','edggU','uuid','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','readFileSync','description','password','BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','mOBpt','exit','command','handler','requestId','bstackUsername','nmShI','pGtaY','axDZG','EsvUu','lURFB','QGGZO','TtlLJ','mkdirSync','unknown-error'];a12_0x3afb=function(){return _0x54e756;};return a12_0x3afb();}exports[a12_0x11bcd0(0x1e2)]=a12_0x11bcd0(0x215),exports[a12_0x11bcd0(0x1f7)]='Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.',exports[a12_0x11bcd0(0x1d2)]=function(_0x27a1a0){const _0x4a778a=a12_0x11bcd0,_0x3cb294={};_0x3cb294[_0x4a778a(0x208)]=_0x4a778a(0x1db),_0x3cb294[_0x4a778a(0x1c3)]='string',_0x3cb294[_0x4a778a(0x1cf)]='Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.',_0x3cb294[_0x4a778a(0x20d)]=_0x4a778a(0x222);const _0x5d281d=_0x3cb294,_0x5e390b={};_0x5e390b[_0x4a778a(0x1dd)]=_0x5d281d['bcjLo'],_0x5e390b[_0x4a778a(0x1d0)]=_0x5d281d[_0x4a778a(0x1c3)];const _0x19e83c={};_0x19e83c[_0x4a778a(0x1dd)]=_0x5d281d[_0x4a778a(0x1cf)],_0x19e83c[_0x4a778a(0x1d0)]=_0x5d281d[_0x4a778a(0x1c3)];const _0x44b15d={};return _0x44b15d[_0x4a778a(0x217)]=_0x5e390b,_0x44b15d['bstack-accesskey']=_0x19e83c,_0x27a1a0[_0x4a778a(0x219)](HELP_HEADER_MESSAGE[_0x4a778a(0x215)])[_0x4a778a(0x1ce)](HELP_FOOTER_MESSAGE)[_0x4a778a(0x1b8)](_0x44b15d)[_0x4a778a(0x206)]()['strict']()[_0x4a778a(0x222)](_0x5d281d[_0x4a778a(0x20d)])[_0x4a778a(0x1c4)];},exports[a12_0x11bcd0(0x1e3)]=async function(_0x42e138){const _0x8640b4=a12_0x11bcd0,_0x30d0fc={'FsNrF':_0x8640b4(0x201),'WtnuB':function(_0x366b03){return _0x366b03();},'LaFAi':_0x8640b4(0x1db),'lJrQe':_0x8640b4(0x204),'oVCZN':_0x8640b4(0x200),'lKhVJ':_0x8640b4(0x222),'krYbX':function(_0x589d0a,_0x23e75d,_0x356598,_0x392258,_0x4ed846,_0x1113d3,_0x577a23){return _0x589d0a(_0x23e75d,_0x356598,_0x392258,_0x4ed846,_0x1113d3,_0x577a23);},'onBjv':'init-called','eEwdF':function(_0x354646,_0x39e4f9){return _0x354646===_0x39e4f9;},'PiPFr':_0x8640b4(0x1ca),'IyoTE':function(_0x174bd0,_0x91505b){return _0x174bd0!==_0x91505b;},'nrLls':_0x8640b4(0x218),'OOpLW':function(_0x47e0fb,_0x17c099){return _0x47e0fb!==_0x17c099;},'TtlLJ':_0x8640b4(0x1fd),'DlzGf':_0x8640b4(0x1c8),'AmNyM':_0x8640b4(0x1cd),'hiCZh':_0x8640b4(0x1fa),'lxiFP':_0x8640b4(0x1d9),'kHxwq':function(_0x23b978,_0x4fe663){return _0x23b978===_0x4fe663;},'FsAuF':_0x8640b4(0x1e9),'xoKpd':_0x8640b4(0x1df),'AXnUN':function(_0x1e064c){return _0x1e064c();},'HZLWP':_0x8640b4(0x21e),'NNdxM':function(_0x28b6f0,_0x4099ed,_0x41653){return _0x28b6f0(_0x4099ed,_0x41653);},'SQpVL':function(_0x5410e7,_0x43c9c3){return _0x5410e7===_0x43c9c3;},'zKUNp':function(_0x258984,_0x88842){return _0x258984!==_0x88842;},'mOBpt':_0x8640b4(0x1bf),'pGtaY':_0x8640b4(0x20f),'TXVCd':'BIsty','nmShI':function(_0x5204f5){return _0x5204f5();},'NBZZm':function(_0x59ecfd,_0x342a17){return _0x59ecfd!==_0x342a17;},'QGGZO':'iSRas','axDZG':_0x8640b4(0x202),'RSIxW':function(_0x424644,_0x254772,_0x52ab34,_0x4d22c7,_0x1df8d1,_0x1554dd,_0x12cde5){return _0x424644(_0x254772,_0x52ab34,_0x4d22c7,_0x1df8d1,_0x1554dd,_0x12cde5);},'lURFB':_0x8640b4(0x1f2),'OFLco':function(_0x347d55,_0x2fcc4b,_0xdce7ea,_0x37bcf2,_0x4ceaf6,_0x321cf4,_0x43bd90){return _0x347d55(_0x2fcc4b,_0xdce7ea,_0x37bcf2,_0x4ceaf6,_0x321cf4,_0x43bd90);},'yiaPz':_0x8640b4(0x1ee)};try{global_registry[_0x8640b4(0x1e4)]=_0x30d0fc[_0x8640b4(0x1f4)](uuidv4),_0x30d0fc[_0x8640b4(0x20e)](sendInstrumentationEvent,_0x42e138,_0x30d0fc[_0x8640b4(0x1bd)],messageTypes[_0x8640b4(0x1d6)],null,null,_0x42e138);const _0x5572d8=_0x30d0fc[_0x8640b4(0x1f4)](getDirForConfig);!fs[_0x8640b4(0x207)](_0x5572d8)&&(_0x30d0fc['eEwdF'](_0x30d0fc[_0x8640b4(0x1cc)],_0x30d0fc[_0x8640b4(0x1cc)])?fs[_0x8640b4(0x1ed)](_0x5572d8):_0x46625f=_0x24c6e4[_0x8640b4(0x1ef)](_0xf00233[_0x8640b4(0x1dc)](_0x2c5a65,_0x30d0fc[_0x8640b4(0x1ba)])));let _0x5dcb32,_0x5d04aa;if(process[_0x8640b4(0x20a)][_0x8640b4(0x20b)]){if(_0x30d0fc[_0x8640b4(0x220)](_0x30d0fc['nrLls'],_0x30d0fc[_0x8640b4(0x21d)])){let _0x883a7e={};const _0x1a0f14=_0x30d0fc['WtnuB'](_0x23ab80);_0x4fd7fb['existsSync'](_0x1a0f14)&&(_0x883a7e=_0x3d8298['parse'](_0x4f5436[_0x8640b4(0x1dc)](_0x1a0f14,_0x30d0fc[_0x8640b4(0x1ba)])));const _0x4a0a7b={};_0x4a0a7b[_0x8640b4(0x1d1)]=_0x313f1b,_0x4a0a7b[_0x8640b4(0x1de)]=_0x134283,_0x883a7e[_0x8640b4(0x1d4)]=_0x4a0a7b,_0x5cc43b[_0x8640b4(0x1f9)](_0x1a0f14,_0x35f696[_0x8640b4(0x212)](_0x883a7e)),_0x39469b[_0x8640b4(0x1e1)](0x0);}else _0x5dcb32=process['env'][_0x8640b4(0x20b)];}process[_0x8640b4(0x20a)]['BROWSERSTACK_ACCESS_KEY']&&(_0x30d0fc[_0x8640b4(0x1f3)](_0x30d0fc[_0x8640b4(0x1ec)],_0x30d0fc[_0x8640b4(0x1c9)])?_0x5d04aa=process['env'][_0x8640b4(0x216)]:_0x531e19=_0xd6ae6b[_0x8640b4(0x20a)]['BROWSERSTACK_USERNAME']);_0x42e138[_0x8640b4(0x1e5)]&&(_0x30d0fc['OOpLW'](_0x30d0fc[_0x8640b4(0x21c)],_0x30d0fc[_0x8640b4(0x1bb)])?_0x5dcb32=_0x42e138[_0x8640b4(0x1e5)]:_0x560e27[_0x8640b4(0x1ed)](_0x2a298b));_0x42e138['bstackAccesskey']&&(_0x30d0fc[_0x8640b4(0x220)](_0x30d0fc[_0x8640b4(0x214)],_0x30d0fc[_0x8640b4(0x214)])?_0xcecb08=!![]:_0x5d04aa=_0x42e138['bstackAccesskey']);if(_0x30d0fc[_0x8640b4(0x1c1)](_0x5dcb32,undefined)||_0x30d0fc[_0x8640b4(0x1d8)](_0x5d04aa,undefined)){if(_0x30d0fc[_0x8640b4(0x220)](_0x30d0fc['FsAuF'],_0x30d0fc[_0x8640b4(0x1fc)]))_0x1dacbf=_0x1daabb[_0x8640b4(0x1cb)];else{logger[_0x8640b4(0x1be)](_0x30d0fc[_0x8640b4(0x21f)]);const [_0x422366,_0x56b03e]=await _0x30d0fc[_0x8640b4(0x1fb)](inputBstackKeys);_0x5dcb32=_0x422366,_0x5d04aa=_0x56b03e;}}let _0x5d289c=![];const _0x38de5c='https://'+_0x5dcb32+':'+_0x5d04aa+'@'+BS_API_URL+'/automate/plan.json',_0x2b30db={'method':_0x30d0fc[_0x8640b4(0x20c)],'headers':_0x30d0fc[_0x8640b4(0x1f6)](getAuthHeader,_0x5dcb32,_0x5d04aa),'throwHttpErrors':![]},_0x51f080=await _0x30d0fc['NNdxM'](got,_0x38de5c,_0x2b30db);_0x30d0fc['OOpLW'](_0x51f080,null)&&_0x30d0fc[_0x8640b4(0x220)](_0x51f080,undefined)&&_0x30d0fc['SQpVL'](_0x51f080[_0x8640b4(0x1c6)],0xc8)&&(_0x30d0fc[_0x8640b4(0x21a)](_0x30d0fc['mOBpt'],_0x30d0fc[_0x8640b4(0x1e0)])?_0x1f0764=_0x12181f[_0x8640b4(0x20a)][_0x8640b4(0x216)]:_0x5d289c=!![]);if(_0x5d289c){if(_0x30d0fc[_0x8640b4(0x1c1)](_0x30d0fc[_0x8640b4(0x1e7)],_0x30d0fc['TXVCd'])){const _0x15f682={};_0x15f682[_0x8640b4(0x1dd)]=_0x30d0fc[_0x8640b4(0x1ff)],_0x15f682[_0x8640b4(0x1d0)]=_0x30d0fc[_0x8640b4(0x1b9)];const _0x381002={};_0x381002['description']=_0x30d0fc[_0x8640b4(0x210)],_0x381002[_0x8640b4(0x1d0)]=_0x30d0fc['lJrQe'];const _0x22541d={};return _0x22541d['bstack-username']=_0x15f682,_0x22541d['bstack-accesskey']=_0x381002,_0x45919d['usage'](_0x49823b[_0x8640b4(0x215)])[_0x8640b4(0x1ce)](_0x120efd)[_0x8640b4(0x1b8)](_0x22541d)[_0x8640b4(0x206)]()[_0x8640b4(0x1fe)]()['help'](_0x30d0fc['lKhVJ'])[_0x8640b4(0x1c4)];}else{let _0x597fd0={};const _0x522bf3=_0x30d0fc[_0x8640b4(0x1e6)](getCredentialsPath);fs['existsSync'](_0x522bf3)&&(_0x30d0fc[_0x8640b4(0x1f1)](_0x30d0fc[_0x8640b4(0x1eb)],_0x30d0fc['QGGZO'])?_0xab1c1a=_0x242ca6[_0x8640b4(0x1e5)]:_0x597fd0=JSON[_0x8640b4(0x1ef)](fs[_0x8640b4(0x1dc)](_0x522bf3,_0x30d0fc['FsNrF'])));const _0x29c9f7={};_0x29c9f7[_0x8640b4(0x1d1)]=_0x5dcb32,_0x29c9f7[_0x8640b4(0x1de)]=_0x5d04aa,_0x597fd0[_0x8640b4(0x1d4)]=_0x29c9f7,fs['writeFileSync'](_0x522bf3,JSON[_0x8640b4(0x212)](_0x597fd0)),process[_0x8640b4(0x1e1)](0x0);}}else logger[_0x8640b4(0x1c7)](_0x30d0fc[_0x8640b4(0x1e8)]),await _0x30d0fc['RSIxW'](sendInstrumentationEvent,_0x42e138,_0x30d0fc['onBjv'],messageTypes[_0x8640b4(0x1f5)],_0x30d0fc[_0x8640b4(0x1ea)],null,_0x42e138),process[_0x8640b4(0x1e1)](0x1);}catch(_0x31c909){logger[_0x8640b4(0x1c7)](_0x31c909[_0x8640b4(0x205)]),await _0x30d0fc['OFLco'](sendInstrumentationEvent,_0x42e138,_0x30d0fc[_0x8640b4(0x1bd)],messageTypes[_0x8640b4(0x1f5)],_0x30d0fc[_0x8640b4(0x1d7)],_0x31c909,_0x42e138),process[_0x8640b4(0x1e1)](0x1);}};