const a12_0x208f2a=a12_0x5b6a;function a12_0x5b6a(_0x1c9040,_0x2df92a){const _0x4f7f71=a12_0x4f7f();return a12_0x5b6a=function(_0x5b6ae2,_0xa3260b){_0x5b6ae2=_0x5b6ae2-0xd4;let _0x50b44e=_0x4f7f71[_0x5b6ae2];return _0x50b44e;},a12_0x5b6a(_0x1c9040,_0x2df92a);}(function(_0x52793b,_0x37222a){const _0x4643ed=a12_0x5b6a,_0xb6910=_0x52793b();while(!![]){try{const _0x5c11d0=-parseInt(_0x4643ed(0xe5))/0x1+-parseInt(_0x4643ed(0xf2))/0x2+parseInt(_0x4643ed(0x12e))/0x3+parseInt(_0x4643ed(0x11d))/0x4+parseInt(_0x4643ed(0xfb))/0x5*(parseInt(_0x4643ed(0xdf))/0x6)+-parseInt(_0x4643ed(0x111))/0x7*(-parseInt(_0x4643ed(0x121))/0x8)+-parseInt(_0x4643ed(0xf9))/0x9*(parseInt(_0x4643ed(0x120))/0xa);if(_0x5c11d0===_0x37222a)break;else _0xb6910['push'](_0xb6910['shift']());}catch(_0x325965){_0xb6910['push'](_0xb6910['shift']());}}}(a12_0x4f7f,0xa0ed5));function a12_0x4f7f(){const _0x57a881=['1069972eOHSSk','parse','qzdwM','QQrlj','Dbaxn','epilogue','CQTIq','298197hbHrRN','CRvFj','180ifzklv','uuid','AjNqp','../utils/userInput','JbEQI','GIyXm','desc','options','qTzyl','password','../utils/utilityMethods','uFskf','DtBwx','error','bstackAccesskey','init-called','unknown-error','DMNEy','kmUcf','type','nhVfW','string','791ndJNgc','wXAHR','qhbFm','utf-8','GET','jsawr','recommendCommands','qPVQt','bstackUsername','debug','env','../utils/instrumentationUtils','5002484OKWCAX','hqbGF','exit','610QsLBJR','69096kFSUHr','XqHNz','username','readFileSync','../config/logger','stringify','YkfkM','nuTFI','got','https://','iFKQn','command','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','668880XPAAjn','YzCHv','init','mkdirSync','builder','ScBGA','requestId','YbtmL','BSslk','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','dTQKJ','statusCode','spvcW','WKqPk','zTytq','ERROR','../config/constants','LJcsC','Browserstack','existsSync','VfJkS','bstack-username','MxOsG','172236YjndeS','usage','ZFMYj','help','YiJtX','BROWSERSTACK_ACCESS_KEY','267722pANzXr','rhDuW','strict','bstack-accesskey','wrong-creds','description','BROWSERSTACK_USERNAME','fIXbH','mUXJj','argv','OTxnA','ccbAU','writeFileSync'];a12_0x4f7f=function(){return _0x57a881;};return a12_0x4f7f();}const fs=require('fs'),util=require('util'),got=require(a12_0x208f2a(0x129)),{v4:uuidv4}=require(a12_0x208f2a(0xfc)),{logger}=require(a12_0x208f2a(0x125)),{inputBstackKeys}=require(a12_0x208f2a(0xfe)),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a12_0x208f2a(0xd8)),{getDirForConfig,getCredentialsPath,getAuthHeader}=require(a12_0x208f2a(0x105)),{sendInstrumentationEvent}=require(a12_0x208f2a(0x11c));exports[a12_0x208f2a(0x12c)]=a12_0x208f2a(0x130),exports[a12_0x208f2a(0x101)]='Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.',exports[a12_0x208f2a(0x132)]=function(_0x357d71){const _0x54e520=a12_0x208f2a,_0x4f4c9e={};_0x4f4c9e[_0x54e520(0xff)]=_0x54e520(0x12d),_0x4f4c9e[_0x54e520(0x122)]=_0x54e520(0x110),_0x4f4c9e['dSTgU']=_0x54e520(0x137),_0x4f4c9e[_0x54e520(0x12f)]=_0x54e520(0xe2);const _0x5213de=_0x4f4c9e,_0x38097f={};_0x38097f[_0x54e520(0xea)]=_0x5213de[_0x54e520(0xff)],_0x38097f[_0x54e520(0x10e)]=_0x5213de[_0x54e520(0x122)];const _0x524ac0={};_0x524ac0['description']=_0x5213de['dSTgU'],_0x524ac0[_0x54e520(0x10e)]=_0x5213de[_0x54e520(0x122)];const _0x21e478={};return _0x21e478[_0x54e520(0xdd)]=_0x38097f,_0x21e478['bstack-accesskey']=_0x524ac0,_0x357d71[_0x54e520(0xe0)](HELP_HEADER_MESSAGE[_0x54e520(0x130)])[_0x54e520(0xf7)](HELP_FOOTER_MESSAGE)[_0x54e520(0x102)](_0x21e478)['recommendCommands']()[_0x54e520(0xe7)]()['help'](_0x5213de[_0x54e520(0x12f)])[_0x54e520(0xee)];},exports['handler']=async function(_0x1e0d13){const _0x20a546=a12_0x208f2a,_0xc6fea5={'spvcW':_0x20a546(0x114),'cFtws':'Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','WKqPk':_0x20a546(0x110),'oomhG':_0x20a546(0x137),'YbtmL':_0x20a546(0xe2),'dTQKJ':function(_0x3a5064){return _0x3a5064();},'zTytq':function(_0x2d1e08,_0x31d836,_0x231a52,_0x5b9aca,_0x5a1637,_0x2943ba,_0x1d6e2a){return _0x2d1e08(_0x31d836,_0x231a52,_0x5b9aca,_0x5a1637,_0x2943ba,_0x1d6e2a);},'ZFMYj':_0x20a546(0x10a),'mRyCO':function(_0x1c9c03){return _0x1c9c03();},'VfJkS':function(_0x39497e,_0x22fd20){return _0x39497e===_0x22fd20;},'sjLDN':'zXcIc','nuTFI':function(_0x34cb67,_0x1e4123){return _0x34cb67!==_0x1e4123;},'CQTIq':_0x20a546(0x112),'ZfutY':_0x20a546(0x133),'kmUcf':function(_0xefc9e7,_0x1d9f8b){return _0xefc9e7!==_0x1d9f8b;},'qmXmd':_0x20a546(0xde),'DtBwx':_0x20a546(0x10f),'AjNqp':function(_0x8816fb,_0x59cb62){return _0x8816fb!==_0x59cb62;},'Fiwjw':_0x20a546(0xe6),'mUXJj':'qTNfw','OTxnA':_0x20a546(0x106),'GIyXm':function(_0x5f4b6d,_0x45dc){return _0x5f4b6d===_0x45dc;},'ztXTS':_0x20a546(0xfa),'DMNEy':'rhFCG','YiJtX':'BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','pjiXj':_0x20a546(0x115),'LJcsC':function(_0x5dadb5,_0xb2354e,_0x2d2513){return _0x5dadb5(_0xb2354e,_0x2d2513);},'BSslk':function(_0x31154c,_0x13ef66){return _0x31154c!==_0x13ef66;},'tvtyf':function(_0x3718dc,_0x5a6e78){return _0x3718dc!==_0x5a6e78;},'qzdwM':function(_0x587c1f,_0x76e37e){return _0x587c1f===_0x76e37e;},'iFKQn':'PCBhV','fIXbH':_0x20a546(0x118),'ccbAU':function(_0xff085b,_0x239893){return _0xff085b!==_0x239893;},'qhbFm':'nRvCr','qTzyl':_0x20a546(0x127),'Dbaxn':'azDWt','wetAO':'Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','QQrlj':function(_0x2912e9,_0xca45b5,_0x125a16,_0x1dac5b,_0x30ecdb,_0x837831,_0x484e2b){return _0x2912e9(_0xca45b5,_0x125a16,_0x1dac5b,_0x30ecdb,_0x837831,_0x484e2b);},'hqbGF':_0x20a546(0xe9),'jsawr':_0x20a546(0x10b)};try{global_registry[_0x20a546(0x134)]=_0xc6fea5[_0x20a546(0x138)](uuidv4),_0xc6fea5[_0x20a546(0xd6)](sendInstrumentationEvent,_0x1e0d13,_0xc6fea5[_0x20a546(0xe1)],messageTypes['INFO'],null,null,_0x1e0d13);const _0x51b5cf=_0xc6fea5['mRyCO'](getDirForConfig);!fs[_0x20a546(0xdb)](_0x51b5cf)&&(_0xc6fea5[_0x20a546(0xdc)](_0xc6fea5['sjLDN'],_0xc6fea5['sjLDN'])?fs[_0x20a546(0x131)](_0x51b5cf):_0x5640e8=_0x2a2bba[_0x20a546(0xf3)](_0x3b26e5[_0x20a546(0x124)](_0x32a093,_0xc6fea5[_0x20a546(0xd4)])));let _0x17d115,_0x4e8a11;if(process[_0x20a546(0x11b)][_0x20a546(0xeb)]){if(_0xc6fea5[_0x20a546(0x128)](_0xc6fea5[_0x20a546(0xf8)],_0xc6fea5['ZfutY']))_0x17d115=process[_0x20a546(0x11b)][_0x20a546(0xeb)];else{const _0x5dc7b9={};_0x5dc7b9['description']=_0xc6fea5['cFtws'],_0x5dc7b9[_0x20a546(0x10e)]=_0xc6fea5[_0x20a546(0xd5)];const _0x26dbfc={};_0x26dbfc[_0x20a546(0xea)]=_0xc6fea5['oomhG'],_0x26dbfc['type']=_0xc6fea5[_0x20a546(0xd5)];const _0x530c03={};return _0x530c03[_0x20a546(0xdd)]=_0x5dc7b9,_0x530c03[_0x20a546(0xe8)]=_0x26dbfc,_0x316037[_0x20a546(0xe0)](_0x1422fe[_0x20a546(0x130)])[_0x20a546(0xf7)](_0x37fd60)[_0x20a546(0x102)](_0x530c03)[_0x20a546(0x117)]()['strict']()['help'](_0xc6fea5[_0x20a546(0x135)])[_0x20a546(0xee)];}}process[_0x20a546(0x11b)][_0x20a546(0xe4)]&&(_0xc6fea5[_0x20a546(0x10d)](_0xc6fea5['qmXmd'],_0xc6fea5[_0x20a546(0x107)])?_0x4e8a11=process[_0x20a546(0x11b)][_0x20a546(0xe4)]:_0x2e625e=_0x1aafa7[_0x20a546(0x11b)][_0x20a546(0xeb)]);_0x1e0d13[_0x20a546(0x119)]&&(_0xc6fea5[_0x20a546(0xfd)](_0xc6fea5['Fiwjw'],_0xc6fea5['Fiwjw'])?_0x22d734[_0x20a546(0x131)](_0x9604c):_0x17d115=_0x1e0d13[_0x20a546(0x119)]);_0x1e0d13[_0x20a546(0x109)]&&(_0xc6fea5[_0x20a546(0xfd)](_0xc6fea5[_0x20a546(0xed)],_0xc6fea5[_0x20a546(0xef)])?_0x4e8a11=_0x1e0d13[_0x20a546(0x109)]:_0x5db83b=_0x356ddf[_0x20a546(0x119)]);if(_0xc6fea5[_0x20a546(0x100)](_0x17d115,undefined)||_0xc6fea5['VfJkS'](_0x4e8a11,undefined)){if(_0xc6fea5['GIyXm'](_0xc6fea5['ztXTS'],_0xc6fea5[_0x20a546(0x10c)]))_0x9f114a=_0x4650f4[_0x20a546(0x11b)][_0x20a546(0xe4)];else{logger[_0x20a546(0x11a)](_0xc6fea5[_0x20a546(0xe3)]);const [_0x486ef0,_0x482366]=await _0xc6fea5['mRyCO'](inputBstackKeys);_0x17d115=_0x486ef0,_0x4e8a11=_0x482366;}}let _0x2f1af8=![];const _0x1de549=_0x20a546(0x12a)+_0x17d115+':'+_0x4e8a11+'@'+BS_API_URL+'/automate/plan.json',_0x58a0e7={'method':_0xc6fea5['pjiXj'],'headers':_0xc6fea5[_0x20a546(0xd9)](getAuthHeader,_0x17d115,_0x4e8a11),'throwHttpErrors':![]},_0x3d5b34=await _0xc6fea5[_0x20a546(0xd9)](got,_0x1de549,_0x58a0e7);_0xc6fea5[_0x20a546(0x136)](_0x3d5b34,null)&&_0xc6fea5['tvtyf'](_0x3d5b34,undefined)&&_0xc6fea5[_0x20a546(0x100)](_0x3d5b34[_0x20a546(0x139)],0xc8)&&(_0xc6fea5[_0x20a546(0xf4)](_0xc6fea5[_0x20a546(0x12b)],_0xc6fea5[_0x20a546(0xec)])?_0x968d5d=!![]:_0x2f1af8=!![]);if(_0x2f1af8){if(_0xc6fea5[_0x20a546(0xf0)](_0xc6fea5[_0x20a546(0x113)],_0xc6fea5[_0x20a546(0x113)]))_0x2831a1=_0x1efd29[_0x20a546(0x109)];else{let _0x59ec9a={};const _0x9e7ef6=_0xc6fea5[_0x20a546(0x138)](getCredentialsPath);if(fs[_0x20a546(0xdb)](_0x9e7ef6)){if(_0xc6fea5[_0x20a546(0xf4)](_0xc6fea5[_0x20a546(0x103)],_0xc6fea5[_0x20a546(0xf6)])){let _0x37c505={};const _0x19790f=_0xc6fea5[_0x20a546(0x138)](_0x158b4b);_0x127380[_0x20a546(0xdb)](_0x19790f)&&(_0x37c505=_0x4c42e0[_0x20a546(0xf3)](_0x30071c[_0x20a546(0x124)](_0x19790f,_0xc6fea5['spvcW'])));const _0x4a29ed={};_0x4a29ed[_0x20a546(0x123)]=_0x6158a9,_0x4a29ed[_0x20a546(0x104)]=_0xffaedd,_0x37c505[_0x20a546(0xda)]=_0x4a29ed,_0x4eae6e[_0x20a546(0xf1)](_0x19790f,_0x57f6fb[_0x20a546(0x126)](_0x37c505)),_0x1126ac[_0x20a546(0x11f)](0x0);}else _0x59ec9a=JSON[_0x20a546(0xf3)](fs[_0x20a546(0x124)](_0x9e7ef6,_0xc6fea5[_0x20a546(0xd4)]));}const _0x187205={};_0x187205[_0x20a546(0x123)]=_0x17d115,_0x187205['password']=_0x4e8a11,_0x59ec9a[_0x20a546(0xda)]=_0x187205,fs['writeFileSync'](_0x9e7ef6,JSON['stringify'](_0x59ec9a)),process[_0x20a546(0x11f)](0x0);}}else logger[_0x20a546(0x108)](_0xc6fea5['wetAO']),await _0xc6fea5[_0x20a546(0xf5)](sendInstrumentationEvent,_0x1e0d13,_0xc6fea5[_0x20a546(0xe1)],messageTypes['ERROR'],_0xc6fea5[_0x20a546(0x11e)],null,_0x1e0d13),process['exit'](0x1);}catch(_0x2b55e4){logger['error'](_0x2b55e4['stack']),await _0xc6fea5[_0x20a546(0xf5)](sendInstrumentationEvent,_0x1e0d13,_0xc6fea5[_0x20a546(0xe1)],messageTypes[_0x20a546(0xd7)],_0xc6fea5[_0x20a546(0x116)],_0x2b55e4,_0x1e0d13),process[_0x20a546(0x11f)](0x1);}};