const a12_0x4078e9=a12_0xdefa;(function(_0x441dc8,_0x474669){const _0x2949ea=a12_0xdefa,_0x3c253a=_0x441dc8();while(!![]){try{const _0x1a3615=parseInt(_0x2949ea(0x149))/0x1*(-parseInt(_0x2949ea(0x180))/0x2)+-parseInt(_0x2949ea(0x18e))/0x3*(parseInt(_0x2949ea(0x194))/0x4)+parseInt(_0x2949ea(0x169))/0x5+-parseInt(_0x2949ea(0x16b))/0x6+parseInt(_0x2949ea(0x142))/0x7*(parseInt(_0x2949ea(0x187))/0x8)+-parseInt(_0x2949ea(0x183))/0x9+-parseInt(_0x2949ea(0x17f))/0xa*(-parseInt(_0x2949ea(0x165))/0xb);if(_0x1a3615===_0x474669)break;else _0x3c253a['push'](_0x3c253a['shift']());}catch(_0x543830){_0x3c253a['push'](_0x3c253a['shift']());}}}(a12_0x4537,0x6ee30));const fs=require('fs'),util=require(a12_0x4078e9(0x153)),got=require(a12_0x4078e9(0x16c)),{v4:uuidv4}=require(a12_0x4078e9(0x14c)),{logger}=require(a12_0x4078e9(0x18f)),{inputBstackKeys}=require('../utils/userInput'),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a12_0x4078e9(0x141)),{getDirForConfig,getCredentialsPath,getAuthHeader}=require('../utils/utilityMethods'),{sendInstrumentationEvent}=require(a12_0x4078e9(0x19b));function a12_0xdefa(_0x50c3e6,_0x351643){const _0x4537fd=a12_0x4537();return a12_0xdefa=function(_0xdefa0a,_0x4b3fe1){_0xdefa0a=_0xdefa0a-0x139;let _0x1bf876=_0x4537fd[_0xdefa0a];return _0x1bf876;},a12_0xdefa(_0x50c3e6,_0x351643);}exports[a12_0x4078e9(0x175)]=a12_0x4078e9(0x15b),exports['desc']='Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.',exports[a12_0x4078e9(0x170)]=function(_0x2cc00e){const _0x2fdcd7=a12_0x4078e9,_0x424ea6={};_0x424ea6['rbvWy']='Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.',_0x424ea6[_0x2fdcd7(0x191)]=_0x2fdcd7(0x15a),_0x424ea6[_0x2fdcd7(0x181)]='Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.',_0x424ea6[_0x2fdcd7(0x189)]=_0x2fdcd7(0x140);const _0x5309fa=_0x424ea6,_0x1f9158={};_0x1f9158[_0x2fdcd7(0x179)]=_0x5309fa[_0x2fdcd7(0x13d)],_0x1f9158[_0x2fdcd7(0x148)]=_0x5309fa['AKsMF'];const _0x304bd0={};_0x304bd0[_0x2fdcd7(0x179)]=_0x5309fa['ZplVO'],_0x304bd0[_0x2fdcd7(0x148)]=_0x5309fa[_0x2fdcd7(0x191)];const _0x584578={};return _0x584578['bstack-username']=_0x1f9158,_0x584578[_0x2fdcd7(0x17a)]=_0x304bd0,_0x2cc00e['usage'](HELP_HEADER_MESSAGE[_0x2fdcd7(0x15b)])[_0x2fdcd7(0x18b)](HELP_FOOTER_MESSAGE)[_0x2fdcd7(0x18a)](_0x584578)[_0x2fdcd7(0x164)]()[_0x2fdcd7(0x151)]()[_0x2fdcd7(0x140)](_0x5309fa[_0x2fdcd7(0x189)])[_0x2fdcd7(0x18d)];},exports[a12_0x4078e9(0x14a)]=async function(_0x50d1e7){const _0x383217=a12_0x4078e9,_0x2560ea={'ikBwl':function(_0x4bca0d){return _0x4bca0d();},'jcGIe':_0x383217(0x193),'vkmay':'Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','wHUIa':_0x383217(0x15a),'NAPwV':_0x383217(0x171),'qQiBd':_0x383217(0x140),'xGPVz':function(_0x2729a9,_0x563dd5,_0x18779c,_0x2bb1b3,_0x2b4c13,_0x43cec7,_0x297e6e){return _0x2729a9(_0x563dd5,_0x18779c,_0x2bb1b3,_0x2b4c13,_0x43cec7,_0x297e6e);},'nqAVU':'init-called','RhcoP':function(_0x20a5e4){return _0x20a5e4();},'gOJhL':function(_0x246078,_0x3f49cd){return _0x246078===_0x3f49cd;},'kUyNb':'ZejKg','mAPVX':_0x383217(0x162),'XfLbJ':function(_0x1d9ecb,_0x131981){return _0x1d9ecb!==_0x131981;},'MAPPa':'uDfMB','HGfyu':_0x383217(0x14e),'hlieh':function(_0x1ee625,_0x30e4fc){return _0x1ee625!==_0x30e4fc;},'uVOSn':_0x383217(0x1a1),'ChrHH':_0x383217(0x15f),'nmPkP':_0x383217(0x16e),'zgQJz':_0x383217(0x190),'klKeQ':function(_0x5ad860,_0x46919f){return _0x5ad860===_0x46919f;},'oNSLo':function(_0x143276,_0x3580fc){return _0x143276===_0x3580fc;},'PvrWM':'sIZPf','STcad':_0x383217(0x192),'iJQVo':'BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','yJeRo':function(_0x90b9b4){return _0x90b9b4();},'IySoH':_0x383217(0x160),'pqdfU':function(_0x330691,_0x49e5cd,_0x4d98f0){return _0x330691(_0x49e5cd,_0x4d98f0);},'MNfHc':function(_0x21d779,_0x496574){return _0x21d779!==_0x496574;},'eSyoM':function(_0x16243f,_0x5d3071){return _0x16243f===_0x5d3071;},'vjmZU':'xLaIH','ssczl':'qHbPa','dMgUA':_0x383217(0x184),'lLAou':function(_0x5f27da){return _0x5f27da();},'BrRrT':'dQIfT','sbrIz':_0x383217(0x146),'MSmwb':function(_0x2d4611,_0x1bdf63,_0x1091db,_0x1b1a48,_0x52dad,_0x1c837c,_0x2d3188){return _0x2d4611(_0x1bdf63,_0x1091db,_0x1b1a48,_0x52dad,_0x1c837c,_0x2d3188);},'DYHTJ':'wrong-creds','akjaB':_0x383217(0x17e)};try{global_registry[_0x383217(0x186)]=_0x2560ea[_0x383217(0x147)](uuidv4),_0x2560ea[_0x383217(0x13c)](sendInstrumentationEvent,_0x50d1e7,_0x2560ea[_0x383217(0x177)],messageTypes[_0x383217(0x16a)],null,null,_0x50d1e7);const _0x12acea=_0x2560ea[_0x383217(0x196)](getDirForConfig);if(!fs[_0x383217(0x158)](_0x12acea)){if(_0x2560ea[_0x383217(0x19a)](_0x2560ea[_0x383217(0x198)],_0x2560ea[_0x383217(0x15d)])){let _0x42080e={};const _0x126ea3=_0x2560ea[_0x383217(0x147)](_0x59734e);_0x468a98[_0x383217(0x158)](_0x126ea3)&&(_0x42080e=_0x1fedad[_0x383217(0x15c)](_0x4f6498[_0x383217(0x168)](_0x126ea3,_0x2560ea[_0x383217(0x188)])));const _0x796482={};_0x796482[_0x383217(0x182)]=_0xcacf92,_0x796482['password']=_0x4bf337,_0x42080e[_0x383217(0x157)]=_0x796482,_0x4a1b95[_0x383217(0x152)](_0x126ea3,_0x1cf90d[_0x383217(0x14d)](_0x42080e)),_0x1d300b[_0x383217(0x16f)](0x0);}else fs[_0x383217(0x174)](_0x12acea);}let _0x3cf0d9,_0x3aa7f6;process[_0x383217(0x163)][_0x383217(0x16d)]&&(_0x2560ea['XfLbJ'](_0x2560ea['MAPPa'],_0x2560ea[_0x383217(0x13b)])?_0x3cf0d9=process[_0x383217(0x163)][_0x383217(0x16d)]:_0x41e0d9=_0x4c9e31[_0x383217(0x195)]);process['env'][_0x383217(0x185)]&&(_0x2560ea[_0x383217(0x166)](_0x2560ea[_0x383217(0x143)],_0x2560ea[_0x383217(0x150)])?_0x3aa7f6=process[_0x383217(0x163)][_0x383217(0x185)]:_0xe6e2bc=!![]);_0x50d1e7['bstackUsername']&&(_0x2560ea[_0x383217(0x199)](_0x2560ea[_0x383217(0x172)],_0x2560ea[_0x383217(0x172)])?_0x3b9fe9[_0x383217(0x174)](_0x46d247):_0x3cf0d9=_0x50d1e7['bstackUsername']);_0x50d1e7['bstackAccesskey']&&(_0x2560ea[_0x383217(0x166)](_0x2560ea[_0x383217(0x144)],_0x2560ea[_0x383217(0x144)])?_0x4e233a=_0x1e09a6[_0x383217(0x156)]:_0x3aa7f6=_0x50d1e7[_0x383217(0x195)]);if(_0x2560ea[_0x383217(0x13a)](_0x3cf0d9,undefined)||_0x2560ea[_0x383217(0x15e)](_0x3aa7f6,undefined)){if(_0x2560ea[_0x383217(0x166)](_0x2560ea['PvrWM'],_0x2560ea['STcad'])){logger[_0x383217(0x14b)](_0x2560ea['iJQVo']);const [_0x2edea4,_0x2f2f34]=await _0x2560ea['yJeRo'](inputBstackKeys);_0x3cf0d9=_0x2edea4,_0x3aa7f6=_0x2f2f34;}else _0x9c74eb=_0x10aefa[_0x383217(0x15c)](_0x5a8f7e[_0x383217(0x168)](_0x28a82a,_0x2560ea[_0x383217(0x188)]));}let _0x123d26=![];const _0x38a236=_0x383217(0x197)+_0x3cf0d9+':'+_0x3aa7f6+'@'+BS_API_URL+_0x383217(0x18c),_0x4414d4={'method':_0x2560ea[_0x383217(0x167)],'headers':_0x2560ea[_0x383217(0x19c)](getAuthHeader,_0x3cf0d9,_0x3aa7f6),'throwHttpErrors':![]},_0x55edfe=await _0x2560ea[_0x383217(0x19c)](got,_0x38a236,_0x4414d4);if(_0x2560ea[_0x383217(0x17d)](_0x55edfe,null)&&_0x2560ea['XfLbJ'](_0x55edfe,undefined)&&_0x2560ea[_0x383217(0x19d)](_0x55edfe[_0x383217(0x1a0)],0xc8)){if(_0x2560ea['hlieh'](_0x2560ea[_0x383217(0x139)],_0x2560ea[_0x383217(0x139)])){const _0x5e6eb8={};_0x5e6eb8[_0x383217(0x179)]=_0x2560ea[_0x383217(0x159)],_0x5e6eb8['type']=_0x2560ea[_0x383217(0x145)];const _0x1495e5={};_0x1495e5['description']=_0x2560ea[_0x383217(0x19e)],_0x1495e5[_0x383217(0x148)]=_0x2560ea[_0x383217(0x145)];const _0x547ba1={};return _0x547ba1[_0x383217(0x178)]=_0x5e6eb8,_0x547ba1[_0x383217(0x17a)]=_0x1495e5,_0x36800c[_0x383217(0x13f)](_0x3f72ea[_0x383217(0x15b)])[_0x383217(0x18b)](_0x4a3a9a)['options'](_0x547ba1)[_0x383217(0x164)]()[_0x383217(0x151)]()[_0x383217(0x140)](_0x2560ea['qQiBd'])[_0x383217(0x18d)];}else _0x123d26=!![];}if(_0x123d26){if(_0x2560ea[_0x383217(0x19a)](_0x2560ea[_0x383217(0x14f)],_0x2560ea['dMgUA']))_0x4ee097=_0x483b2d['env'][_0x383217(0x16d)];else{let _0x3f5b70={};const _0x199423=_0x2560ea['lLAou'](getCredentialsPath);fs['existsSync'](_0x199423)&&(_0x2560ea[_0x383217(0x19d)](_0x2560ea['BrRrT'],_0x2560ea[_0x383217(0x173)])?_0x3f5b70=JSON['parse'](fs[_0x383217(0x168)](_0x199423,_0x2560ea[_0x383217(0x188)])):_0x23fa0b=_0x39f4cd[_0x383217(0x163)]['BROWSERSTACK_ACCESS_KEY']);const _0x1dc727={};_0x1dc727['username']=_0x3cf0d9,_0x1dc727[_0x383217(0x17c)]=_0x3aa7f6,_0x3f5b70[_0x383217(0x157)]=_0x1dc727,fs[_0x383217(0x152)](_0x199423,JSON['stringify'](_0x3f5b70)),process['exit'](0x0);}}else logger[_0x383217(0x19f)](_0x2560ea[_0x383217(0x176)]),await _0x2560ea[_0x383217(0x161)](sendInstrumentationEvent,_0x50d1e7,_0x2560ea['nqAVU'],messageTypes[_0x383217(0x17b)],_0x2560ea[_0x383217(0x154)],null,_0x50d1e7),process[_0x383217(0x16f)](0x1);}catch(_0x5c69ed){logger[_0x383217(0x19f)](_0x5c69ed[_0x383217(0x13e)]),await _0x2560ea[_0x383217(0x161)](sendInstrumentationEvent,_0x50d1e7,_0x2560ea[_0x383217(0x177)],messageTypes[_0x383217(0x17b)],_0x2560ea[_0x383217(0x155)],_0x5c69ed,_0x50d1e7),process[_0x383217(0x16f)](0x1);}};function a12_0x4537(){const _0x5d5097=['YGYXw','exit','builder','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','nmPkP','BrRrT','mkdirSync','command','sbrIz','nqAVU','bstack-username','description','bstack-accesskey','ERROR','password','MNfHc','unknown-error','5539060VnWdiS','77426VCivIb','ZplVO','username','6879051cSuosY','WwrWu','BROWSERSTACK_ACCESS_KEY','requestId','32nVhDlj','jcGIe','VprHj','options','epilogue','/automate/plan.json','argv','1326PRHdUZ','../config/logger','NSRja','AKsMF','PVEZR','utf-8','1116cVQbmv','bstackAccesskey','RhcoP','https://','kUyNb','XfLbJ','gOJhL','../utils/instrumentationUtils','pqdfU','eSyoM','NAPwV','error','statusCode','vRzdP','vjmZU','klKeQ','HGfyu','xGPVz','rbvWy','stack','usage','help','../config/constants','790895GQMVBc','uVOSn','zgQJz','wHUIa','Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','ikBwl','type','2TeYBTw','handler','debug','uuid','stringify','mahwZ','ssczl','ChrHH','strict','writeFileSync','util','DYHTJ','akjaB','bstackUsername','Browserstack','existsSync','vkmay','string','init','parse','mAPVX','oNSLo','kcQrm','GET','MSmwb','XLwEK','env','recommendCommands','11rzmiOM','hlieh','IySoH','readFileSync','2582965LmfTBH','INFO','618984jjqIEQ','got','BROWSERSTACK_USERNAME'];a12_0x4537=function(){return _0x5d5097;};return a12_0x4537();}