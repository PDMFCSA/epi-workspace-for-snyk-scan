const a12_0x2089cc=a12_0x2770;(function(_0x1bb0c5,_0x22af08){const _0x4af983=a12_0x2770,_0x144727=_0x1bb0c5();while(!![]){try{const _0x4d091e=-parseInt(_0x4af983(0xee))/0x1*(parseInt(_0x4af983(0xcb))/0x2)+-parseInt(_0x4af983(0x112))/0x3+parseInt(_0x4af983(0x109))/0x4*(-parseInt(_0x4af983(0xb7))/0x5)+parseInt(_0x4af983(0xe9))/0x6*(-parseInt(_0x4af983(0xdd))/0x7)+-parseInt(_0x4af983(0x11a))/0x8*(parseInt(_0x4af983(0xc4))/0x9)+-parseInt(_0x4af983(0xdf))/0xa*(-parseInt(_0x4af983(0xac))/0xb)+-parseInt(_0x4af983(0xea))/0xc*(-parseInt(_0x4af983(0xe4))/0xd);if(_0x4d091e===_0x22af08)break;else _0x144727['push'](_0x144727['shift']());}catch(_0x44fe55){_0x144727['push'](_0x144727['shift']());}}}(a12_0x3326,0xb06e2));function a12_0x2770(_0x53bd6e,_0x3e0806){const _0x332665=a12_0x3326();return a12_0x2770=function(_0x277004,_0x432bc9){_0x277004=_0x277004-0xac;let _0x2112b1=_0x332665[_0x277004];return _0x2112b1;},a12_0x2770(_0x53bd6e,_0x3e0806);}const fs=require('fs'),util=require('util'),got=require('got'),{v4:uuidv4}=require('uuid'),{logger}=require('../config/logger'),{inputBstackKeys}=require(a12_0x2089cc(0x104)),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a12_0x2089cc(0xcf)),{getDirForConfig,getCredentialsPath,getAuthHeader}=require(a12_0x2089cc(0xc8)),{sendInstrumentationEvent}=require('../utils/instrumentationUtils');exports[a12_0x2089cc(0xf4)]='init',exports[a12_0x2089cc(0xf7)]=a12_0x2089cc(0x10d),exports[a12_0x2089cc(0xeb)]=function(_0x1aeb08){const _0x12cf5a=a12_0x2089cc,_0x5c5085={};_0x5c5085['kEEgG']=_0x12cf5a(0x118),_0x5c5085[_0x12cf5a(0xf5)]=_0x12cf5a(0x105),_0x5c5085['Knveu']=_0x12cf5a(0xd2),_0x5c5085[_0x12cf5a(0xd8)]=_0x12cf5a(0xfe);const _0x535c8c=_0x5c5085,_0x11c15e={};_0x11c15e['description']=_0x535c8c['kEEgG'],_0x11c15e['type']=_0x535c8c[_0x12cf5a(0xf5)];const _0x4f80f1={};_0x4f80f1[_0x12cf5a(0xb6)]=_0x535c8c['Knveu'],_0x4f80f1[_0x12cf5a(0xce)]=_0x535c8c[_0x12cf5a(0xf5)];const _0x3f2bb8={};return _0x3f2bb8[_0x12cf5a(0xdc)]=_0x11c15e,_0x3f2bb8[_0x12cf5a(0xfd)]=_0x4f80f1,_0x1aeb08[_0x12cf5a(0xc7)](HELP_HEADER_MESSAGE[_0x12cf5a(0xd5)])['epilogue'](HELP_FOOTER_MESSAGE)[_0x12cf5a(0xde)](_0x3f2bb8)[_0x12cf5a(0xcc)]()[_0x12cf5a(0xcd)]()[_0x12cf5a(0xfe)](_0x535c8c['qfyUY'])[_0x12cf5a(0xca)];},exports['handler']=async function(_0x4bcfaf){const _0x2f081f=a12_0x2089cc,_0x57cdec={'sNGHc':function(_0x537651){return _0x537651();},'EbWgz':_0x2f081f(0xf6),'AgxxL':_0x2f081f(0x118),'EPFPE':_0x2f081f(0x105),'uWYyL':_0x2f081f(0xd2),'sPNUw':_0x2f081f(0xfe),'PPXhM':function(_0x43f2ff){return _0x43f2ff();},'pxSdc':function(_0x59f351,_0x31fe67,_0x14e81c,_0x417036,_0x4bb645,_0x24065b,_0x509879){return _0x59f351(_0x31fe67,_0x14e81c,_0x417036,_0x4bb645,_0x24065b,_0x509879);},'TQWCS':_0x2f081f(0xd0),'haqom':function(_0x592ffe){return _0x592ffe();},'MFAzn':function(_0x3d53c8,_0x54befb){return _0x3d53c8!==_0x54befb;},'pCIjM':'CDQOY','eBMRV':_0x2f081f(0xf3),'ZScDX':function(_0x51980e,_0x5091ac){return _0x51980e===_0x5091ac;},'vSsEA':_0x2f081f(0x103),'nfxCQ':'YxLfV','NzRkn':_0x2f081f(0xc2),'PKKAF':'oBRnr','wPJQz':_0x2f081f(0xc5),'ufEOZ':function(_0x17fe9c,_0x176e07){return _0x17fe9c===_0x176e07;},'QuLfH':_0x2f081f(0xbd),'vVZwr':function(_0x5a5c40,_0x17faee){return _0x5a5c40===_0x17faee;},'mMaYA':_0x2f081f(0x114),'IlFpz':'tsshP','onuZk':_0x2f081f(0xc6),'XxsQO':_0x2f081f(0xe8),'lnYFN':function(_0x13c876,_0x1549e0,_0x5c831d){return _0x13c876(_0x1549e0,_0x5c831d);},'KpFyk':function(_0x57885e,_0x2b8b5e,_0x3ab72e){return _0x57885e(_0x2b8b5e,_0x3ab72e);},'OPfZM':function(_0x1c21a1,_0x473379){return _0x1c21a1!==_0x473379;},'VrsNd':function(_0xd2b635,_0x243a8b){return _0xd2b635!==_0x243a8b;},'nfrco':_0x2f081f(0xd9),'NQBiQ':_0x2f081f(0xf0),'IQhNk':_0x2f081f(0xe2),'fPrLl':_0x2f081f(0xad),'fkFLN':'TwnRv','QhxQv':_0x2f081f(0xae),'dVDMF':_0x2f081f(0xda),'jtGxI':function(_0x50eb90,_0x23d13d,_0x487085,_0x14a2d5,_0x34a526,_0x165909,_0x3971fa){return _0x50eb90(_0x23d13d,_0x487085,_0x14a2d5,_0x34a526,_0x165909,_0x3971fa);},'hJWIB':_0x2f081f(0x115),'ueCYR':function(_0x29521c,_0x183c87,_0x26063e,_0xa15b3b,_0x5dbb11,_0x53b665,_0x32dde2){return _0x29521c(_0x183c87,_0x26063e,_0xa15b3b,_0x5dbb11,_0x53b665,_0x32dde2);},'MDEKi':_0x2f081f(0xe1)};try{global_registry[_0x2f081f(0xe3)]=_0x57cdec[_0x2f081f(0x101)](uuidv4),_0x57cdec[_0x2f081f(0xc9)](sendInstrumentationEvent,_0x4bcfaf,_0x57cdec[_0x2f081f(0x100)],messageTypes[_0x2f081f(0xb3)],null,null,_0x4bcfaf);const _0x1905c0=_0x57cdec[_0x2f081f(0xb5)](getDirForConfig);if(!fs[_0x2f081f(0xed)](_0x1905c0)){if(_0x57cdec[_0x2f081f(0x108)](_0x57cdec[_0x2f081f(0xd6)],_0x57cdec[_0x2f081f(0xfc)]))fs['mkdirSync'](_0x1905c0);else{let _0x1ff29b={};const _0x3618a7=_0x57cdec[_0x2f081f(0x107)](_0x455669);_0x125a2f[_0x2f081f(0xed)](_0x3618a7)&&(_0x1ff29b=_0x87537b[_0x2f081f(0xff)](_0x4ea87e['readFileSync'](_0x3618a7,_0x57cdec['EbWgz'])));const _0x4c55fe={};_0x4c55fe[_0x2f081f(0xf9)]=_0x5382fa,_0x4c55fe[_0x2f081f(0xd3)]=_0x3f8291,_0x1ff29b[_0x2f081f(0xaf)]=_0x4c55fe,_0x5080b5[_0x2f081f(0xe0)](_0x3618a7,_0xe077c4[_0x2f081f(0xdb)](_0x1ff29b)),_0x46e193[_0x2f081f(0x111)](0x0);}}let _0x24f48d,_0x1b9c8f;process['env']['BROWSERSTACK_USERNAME']&&(_0x57cdec[_0x2f081f(0xe7)](_0x57cdec[_0x2f081f(0x113)],_0x57cdec[_0x2f081f(0x113)])?_0x24f48d=process[_0x2f081f(0x116)][_0x2f081f(0xec)]:_0x490d63=_0x36d260[_0x2f081f(0xd1)]);process[_0x2f081f(0x116)][_0x2f081f(0x117)]&&(_0x57cdec[_0x2f081f(0x108)](_0x57cdec[_0x2f081f(0x102)],_0x57cdec[_0x2f081f(0xb0)])?_0x1b9c8f=process[_0x2f081f(0x116)][_0x2f081f(0x117)]:_0xb024a6[_0x2f081f(0xef)](_0x51211c));_0x4bcfaf['bstackUsername']&&(_0x57cdec[_0x2f081f(0xe7)](_0x57cdec[_0x2f081f(0x10c)],_0x57cdec[_0x2f081f(0xbf)])?_0x2015eb=!![]:_0x24f48d=_0x4bcfaf[_0x2f081f(0xd1)]);_0x4bcfaf[_0x2f081f(0xfa)]&&(_0x57cdec[_0x2f081f(0xba)](_0x57cdec[_0x2f081f(0xe5)],_0x57cdec[_0x2f081f(0xe5)])?_0x1b9c8f=_0x4bcfaf['bstackAccesskey']:_0x577778=_0x2df2e3[_0x2f081f(0x116)][_0x2f081f(0xec)]);if(_0x57cdec[_0x2f081f(0xe7)](_0x24f48d,undefined)||_0x57cdec[_0x2f081f(0xc3)](_0x1b9c8f,undefined)){if(_0x57cdec[_0x2f081f(0x108)](_0x57cdec[_0x2f081f(0xbc)],_0x57cdec['IlFpz'])){logger[_0x2f081f(0xd4)](_0x57cdec['onuZk']);const [_0x2f1fd4,_0x1a4aff]=await _0x57cdec[_0x2f081f(0x101)](inputBstackKeys);_0x24f48d=_0x2f1fd4,_0x1b9c8f=_0x1a4aff;}else _0x17cc31=_0x2e5d90[_0x2f081f(0xff)](_0x32ed8e['readFileSync'](_0xdfe505,_0x57cdec['EbWgz']));}let _0x3e2ee3=![];const _0x5a8828='https://'+_0x24f48d+':'+_0x1b9c8f+'@'+BS_API_URL+'/automate/plan.json',_0x45400d={'method':_0x57cdec[_0x2f081f(0xb4)],'headers':_0x57cdec['lnYFN'](getAuthHeader,_0x24f48d,_0x1b9c8f),'throwHttpErrors':![]},_0x225294=await _0x57cdec[_0x2f081f(0xd7)](got,_0x5a8828,_0x45400d);if(_0x57cdec['MFAzn'](_0x225294,null)&&_0x57cdec[_0x2f081f(0xfb)](_0x225294,undefined)&&_0x57cdec[_0x2f081f(0xe7)](_0x225294[_0x2f081f(0x119)],0xc8)){if(_0x57cdec[_0x2f081f(0x106)](_0x57cdec[_0x2f081f(0x10f)],_0x57cdec[_0x2f081f(0xf1)]))_0x3e2ee3=!![];else{const _0x4646b5={};_0x4646b5['description']=_0x57cdec['AgxxL'],_0x4646b5[_0x2f081f(0xce)]=_0x57cdec[_0x2f081f(0xb1)];const _0x537df0={};_0x537df0[_0x2f081f(0xb6)]=_0x57cdec[_0x2f081f(0xc1)],_0x537df0[_0x2f081f(0xce)]=_0x57cdec[_0x2f081f(0xb1)];const _0x5430f4={};return _0x5430f4[_0x2f081f(0xdc)]=_0x4646b5,_0x5430f4[_0x2f081f(0xfd)]=_0x537df0,_0x2ed432['usage'](_0x53e957[_0x2f081f(0xd5)])[_0x2f081f(0xb8)](_0xf6eab6)[_0x2f081f(0xde)](_0x5430f4)['recommendCommands']()[_0x2f081f(0xcd)]()[_0x2f081f(0xfe)](_0x57cdec[_0x2f081f(0xb9)])[_0x2f081f(0xca)];}}if(_0x3e2ee3){if(_0x57cdec[_0x2f081f(0xc3)](_0x57cdec[_0x2f081f(0xbb)],_0x57cdec['fPrLl']))_0x553f90=_0x1ff05a[_0x2f081f(0x116)][_0x2f081f(0x117)];else{let _0x17bb54={};const _0x5a74bc=_0x57cdec['PPXhM'](getCredentialsPath);fs[_0x2f081f(0xed)](_0x5a74bc)&&(_0x57cdec['OPfZM'](_0x57cdec[_0x2f081f(0xbe)],_0x57cdec[_0x2f081f(0xc0)])?_0x17bb54=JSON[_0x2f081f(0xff)](fs[_0x2f081f(0xb2)](_0x5a74bc,_0x57cdec[_0x2f081f(0xf2)])):_0x8e2638=_0x11bb0f[_0x2f081f(0xfa)]);const _0x3217c0={};_0x3217c0[_0x2f081f(0xf9)]=_0x24f48d,_0x3217c0['password']=_0x1b9c8f,_0x17bb54[_0x2f081f(0xaf)]=_0x3217c0,fs[_0x2f081f(0xe0)](_0x5a74bc,JSON[_0x2f081f(0xdb)](_0x17bb54)),process[_0x2f081f(0x111)](0x0);}}else logger[_0x2f081f(0x110)](_0x57cdec[_0x2f081f(0xf8)]),await _0x57cdec[_0x2f081f(0xe6)](sendInstrumentationEvent,_0x4bcfaf,_0x57cdec[_0x2f081f(0x100)],messageTypes['ERROR'],_0x57cdec[_0x2f081f(0x10e)],null,_0x4bcfaf),process[_0x2f081f(0x111)](0x1);}catch(_0x17b2a8){logger[_0x2f081f(0x110)](_0x17b2a8['stack']),await _0x57cdec[_0x2f081f(0x10a)](sendInstrumentationEvent,_0x4bcfaf,_0x57cdec['TQWCS'],messageTypes['ERROR'],_0x57cdec[_0x2f081f(0x10b)],_0x17b2a8,_0x4bcfaf),process['exit'](0x1);}};function a12_0x3326(){const _0x510b3b=['MDEKi','PKKAF','Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.','hJWIB','nfrco','error','exit','3152490PDqQKB','vSsEA','UmIIg','wrong-creds','env','BROWSERSTACK_ACCESS_KEY','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','statusCode','616XfCdKC','11TMEgWB','IeRZE','eyOiU','Browserstack','NzRkn','EPFPE','readFileSync','INFO','XxsQO','haqom','description','2711985osAbzk','epilogue','sPNUw','ufEOZ','IQhNk','mMaYA','DglAz','fkFLN','wPJQz','QhxQv','uWYyL','BUzHc','vVZwr','160092JKnEuU','wBFDU','BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','usage','../utils/utilityMethods','pxSdc','argv','1615638NhaCCs','recommendCommands','strict','type','../config/constants','init-called','bstackUsername','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','password','debug','init','pCIjM','KpFyk','qfyUY','gUIVt','Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','stringify','bstack-username','507409mrLuVN','options','5293570bSDtMR','writeFileSync','unknown-error','flbJJ','requestId','13IUqUBG','QuLfH','jtGxI','ZScDX','GET','18XHKadq','56686572glrjmz','builder','BROWSERSTACK_USERNAME','existsSync','1msxtXt','mkdirSync','jqWqL','NQBiQ','EbWgz','kTWrv','command','YPvVt','utf-8','desc','dVDMF','username','bstackAccesskey','OPfZM','eBMRV','bstack-accesskey','help','parse','TQWCS','PPXhM','nfxCQ','FpKjp','../utils/userInput','string','VrsNd','sNGHc','MFAzn','8JZcoso','ueCYR'];a12_0x3326=function(){return _0x510b3b;};return a12_0x3326();}