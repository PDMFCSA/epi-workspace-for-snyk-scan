const a12_0x216390=a12_0x44d2;(function(_0x1a6756,_0x49cdb2){const _0x5cf300=a12_0x44d2,_0x15c31a=_0x1a6756();while(!![]){try{const _0x1f310f=parseInt(_0x5cf300(0x17b))/0x1+parseInt(_0x5cf300(0x173))/0x2*(-parseInt(_0x5cf300(0x162))/0x3)+-parseInt(_0x5cf300(0x142))/0x4*(parseInt(_0x5cf300(0x18d))/0x5)+-parseInt(_0x5cf300(0x16b))/0x6*(-parseInt(_0x5cf300(0x14e))/0x7)+parseInt(_0x5cf300(0x165))/0x8+-parseInt(_0x5cf300(0x181))/0x9+-parseInt(_0x5cf300(0x178))/0xa*(-parseInt(_0x5cf300(0x154))/0xb);if(_0x1f310f===_0x49cdb2)break;else _0x15c31a['push'](_0x15c31a['shift']());}catch(_0x1d2ad2){_0x15c31a['push'](_0x15c31a['shift']());}}}(a12_0x98db,0x2e7bf));const fs=require('fs'),util=require(a12_0x216390(0x136)),got=require(a12_0x216390(0x183)),{v4:uuidv4}=require(a12_0x216390(0x137)),{logger}=require(a12_0x216390(0x149)),{inputBstackKeys}=require(a12_0x216390(0x132)),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a12_0x216390(0x175)),{getDirForConfig,getCredentialsPath,getAuthHeader}=require(a12_0x216390(0x180)),{sendInstrumentationEvent}=require(a12_0x216390(0x166));function a12_0x44d2(_0x530d27,_0x5bb6eb){const _0x98dbbb=a12_0x98db();return a12_0x44d2=function(_0x44d2fb,_0x5e0e32){_0x44d2fb=_0x44d2fb-0x130;let _0x328870=_0x98dbbb[_0x44d2fb];return _0x328870;},a12_0x44d2(_0x530d27,_0x5bb6eb);}function a12_0x98db(){const _0x179b63=['343238xMRZON','unknown-error','gQGJu','myqqq','INFO','../utils/utilityMethods','2713761wjTKmn','error','got','writeFileSync','readFileSync','bFcnO','recommendCommands','Gklkf','password','IbHVC','MGvnn','strict','120HaOPwM','stringify','GET','KxOLw','mnJnW','/automate/plan.json','utf-8','existsSync','builder','BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','ZBwIy','jGOsb','username','BROWSERSTACK_USERNAME','handler','../utils/userInput','FLpBP','ZZwnt','init','util','uuid','EoqXF','Browserstack','bstack-username','RBgKf','himub','string','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','description','XVhxi','env','50956tNirqF','PjlMF','YmoSB','zwBso','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','epilogue','init-called','../config/logger','type','exit','bukpM','meRlq','266rsTSJG','bstackUsername','OQZhP','BIcHG','DfXdc','AhEYa','715cfHhho','https://','stack','gjTtm','hkFyt','ERROR','KXPBo','bstackAccesskey','aJqFe','ouRbm','parse','requestId','ZWmVt','bstack-accesskey','6411LuMrTF','options','zcKjs','2773856euLDEs','../utils/instrumentationUtils','hjCZQ','BROWSERSTACK_ACCESS_KEY','ZAztu','wrong-creds','20226HNbMET','AnQQV','argv','ujrSE','usage','help','tsbRU','nBeUL','294sAccGZ','kthCn','../config/constants','mkdirSync','HjMJX','45190hnGYTU','statusCode','kVwGQ'];a12_0x98db=function(){return _0x179b63;};return a12_0x98db();}exports['command']=a12_0x216390(0x135),exports['desc']='Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.',exports[a12_0x216390(0x195)]=function(_0x1b6a4b){const _0x1540d9=a12_0x216390,_0x80f6f3={};_0x80f6f3[_0x1540d9(0x160)]=_0x1540d9(0x13e),_0x80f6f3['ouRbm']='string',_0x80f6f3['bFcnO']='Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.',_0x80f6f3[_0x1540d9(0x169)]=_0x1540d9(0x170);const _0x4bb25e=_0x80f6f3,_0x33d95b={};_0x33d95b[_0x1540d9(0x13f)]=_0x4bb25e[_0x1540d9(0x160)],_0x33d95b[_0x1540d9(0x14a)]=_0x4bb25e[_0x1540d9(0x15d)];const _0xe4db19={};_0xe4db19['description']=_0x4bb25e[_0x1540d9(0x186)],_0xe4db19['type']=_0x4bb25e[_0x1540d9(0x15d)];const _0x560919={};return _0x560919['bstack-username']=_0x33d95b,_0x560919['bstack-accesskey']=_0xe4db19,_0x1b6a4b['usage'](HELP_HEADER_MESSAGE['init'])['epilogue'](HELP_FOOTER_MESSAGE)[_0x1540d9(0x163)](_0x560919)[_0x1540d9(0x187)]()[_0x1540d9(0x18c)]()[_0x1540d9(0x170)](_0x4bb25e[_0x1540d9(0x169)])[_0x1540d9(0x16d)];},exports[a12_0x216390(0x131)]=async function(_0x3c64ef){const _0x1744c4=a12_0x216390,_0x4068ae={'jGOsb':function(_0x481ec5){return _0x481ec5();},'IbHVC':_0x1744c4(0x193),'HjMJX':'Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','PjlMF':_0x1744c4(0x13d),'AplNF':_0x1744c4(0x146),'KXPBo':_0x1744c4(0x170),'XrBdm':function(_0x26887b,_0x251475,_0x44eb2f,_0x59590d,_0x444ca7,_0x3e67e5,_0x3b2802){return _0x26887b(_0x251475,_0x44eb2f,_0x59590d,_0x444ca7,_0x3e67e5,_0x3b2802);},'AnQQV':_0x1744c4(0x148),'himub':function(_0x3977e4,_0x4ac826){return _0x3977e4!==_0x4ac826;},'aJqFe':_0x1744c4(0x167),'AhEYa':_0x1744c4(0x150),'kVwGQ':function(_0x5466ec,_0x1943c0){return _0x5466ec===_0x1943c0;},'myqqq':'UmOUS','ujrSE':'fWzXV','ZBwIy':'gPGTm','DfXdc':function(_0x238825,_0x7a5a0a){return _0x238825===_0x7a5a0a;},'ZZwnt':_0x1744c4(0x17d),'zwBso':function(_0x167894,_0x5c1f7c){return _0x167894===_0x5c1f7c;},'nBeUL':function(_0x253562,_0x358fd1){return _0x253562!==_0x358fd1;},'dhDaT':'qlePS','gjTtm':_0x1744c4(0x196),'meRlq':_0x1744c4(0x18f),'hkFyt':function(_0x4f5a3f,_0x19f4aa,_0x213dd5){return _0x4f5a3f(_0x19f4aa,_0x213dd5);},'tsbRU':function(_0x189537,_0xc5145d){return _0x189537!==_0xc5145d;},'SPLeH':function(_0x1756c0,_0x488c58){return _0x1756c0!==_0x488c58;},'XVhxi':function(_0x5f03e8,_0x3b6ec6){return _0x5f03e8===_0x3b6ec6;},'bukpM':function(_0x741f95,_0x58cd03){return _0x741f95===_0x58cd03;},'EoqXF':_0x1744c4(0x174),'MGvnn':_0x1744c4(0x13b),'Gklkf':_0x1744c4(0x191),'KxOLw':function(_0x3fdb48,_0x53d059){return _0x3fdb48!==_0x53d059;},'YmoSB':_0x1744c4(0x133),'abIBT':'Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','BIcHG':function(_0xcc6cd2,_0x212d2c,_0x4c4179,_0x300676,_0x286a6c,_0x518a25,_0x1720a7){return _0xcc6cd2(_0x212d2c,_0x4c4179,_0x300676,_0x286a6c,_0x518a25,_0x1720a7);},'lqFoT':_0x1744c4(0x16a),'zcKjs':_0x1744c4(0x17c)};try{global_registry[_0x1744c4(0x15f)]=_0x4068ae[_0x1744c4(0x198)](uuidv4),_0x4068ae['XrBdm'](sendInstrumentationEvent,_0x3c64ef,_0x4068ae[_0x1744c4(0x16c)],messageTypes[_0x1744c4(0x17f)],null,null,_0x3c64ef);const _0x135865=_0x4068ae[_0x1744c4(0x198)](getDirForConfig);if(!fs['existsSync'](_0x135865)){if(_0x4068ae[_0x1744c4(0x13c)](_0x4068ae[_0x1744c4(0x15c)],_0x4068ae[_0x1744c4(0x15c)])){let _0x3180cc={};const _0x596c5e=_0x4068ae[_0x1744c4(0x198)](_0x5df786);_0x5177ac['existsSync'](_0x596c5e)&&(_0x3180cc=_0x107c04['parse'](_0x23e394[_0x1744c4(0x185)](_0x596c5e,_0x4068ae[_0x1744c4(0x18a)])));const _0x195f3b={};_0x195f3b[_0x1744c4(0x199)]=_0x3e5271,_0x195f3b[_0x1744c4(0x189)]=_0x16be62,_0x3180cc[_0x1744c4(0x139)]=_0x195f3b,_0x4d90db[_0x1744c4(0x184)](_0x596c5e,_0x3c13cf[_0x1744c4(0x18e)](_0x3180cc)),_0x34ecc4[_0x1744c4(0x14b)](0x0);}else fs[_0x1744c4(0x176)](_0x135865);}let _0x4b7e68,_0x15cd0b;if(process[_0x1744c4(0x141)]['BROWSERSTACK_USERNAME']){if(_0x4068ae[_0x1744c4(0x13c)](_0x4068ae['AhEYa'],_0x4068ae[_0x1744c4(0x153)])){const _0x23f18a={};_0x23f18a['description']=_0x4068ae[_0x1744c4(0x177)],_0x23f18a['type']=_0x4068ae[_0x1744c4(0x143)];const _0xd6c917={};_0xd6c917[_0x1744c4(0x13f)]=_0x4068ae['AplNF'],_0xd6c917[_0x1744c4(0x14a)]=_0x4068ae['PjlMF'];const _0x1877c6={};return _0x1877c6[_0x1744c4(0x13a)]=_0x23f18a,_0x1877c6[_0x1744c4(0x161)]=_0xd6c917,_0x30e986[_0x1744c4(0x16f)](_0x2ac460[_0x1744c4(0x135)])[_0x1744c4(0x147)](_0x378127)['options'](_0x1877c6)[_0x1744c4(0x187)]()['strict']()['help'](_0x4068ae[_0x1744c4(0x15a)])[_0x1744c4(0x16d)];}else _0x4b7e68=process[_0x1744c4(0x141)][_0x1744c4(0x130)];}process[_0x1744c4(0x141)][_0x1744c4(0x168)]&&(_0x4068ae[_0x1744c4(0x17a)](_0x4068ae[_0x1744c4(0x17e)],_0x4068ae[_0x1744c4(0x17e)])?_0x15cd0b=process[_0x1744c4(0x141)][_0x1744c4(0x168)]:_0x54055e[_0x1744c4(0x176)](_0x1259b2));_0x3c64ef[_0x1744c4(0x14f)]&&(_0x4068ae[_0x1744c4(0x13c)](_0x4068ae[_0x1744c4(0x16e)],_0x4068ae[_0x1744c4(0x197)])?_0x4b7e68=_0x3c64ef[_0x1744c4(0x14f)]:_0xb3b6fc=!![]);_0x3c64ef[_0x1744c4(0x15b)]&&(_0x4068ae[_0x1744c4(0x152)](_0x4068ae[_0x1744c4(0x134)],_0x4068ae[_0x1744c4(0x134)])?_0x15cd0b=_0x3c64ef[_0x1744c4(0x15b)]:_0x5c625e=_0x2ea14e[_0x1744c4(0x141)][_0x1744c4(0x168)]);if(_0x4068ae[_0x1744c4(0x145)](_0x4b7e68,undefined)||_0x4068ae['zwBso'](_0x15cd0b,undefined)){if(_0x4068ae[_0x1744c4(0x172)](_0x4068ae['dhDaT'],_0x4068ae['dhDaT']))_0xf4dec3=_0x3d9a8b[_0x1744c4(0x15e)](_0x2bb5c1[_0x1744c4(0x185)](_0x1d3a9a,_0x4068ae['IbHVC']));else{logger['debug'](_0x4068ae[_0x1744c4(0x157)]);const [_0xfd5596,_0x135729]=await _0x4068ae['jGOsb'](inputBstackKeys);_0x4b7e68=_0xfd5596,_0x15cd0b=_0x135729;}}let _0x11a276=![];const _0x487974=_0x1744c4(0x155)+_0x4b7e68+':'+_0x15cd0b+'@'+BS_API_URL+_0x1744c4(0x192),_0x4b3465={'method':_0x4068ae[_0x1744c4(0x14d)],'headers':_0x4068ae['hkFyt'](getAuthHeader,_0x4b7e68,_0x15cd0b),'throwHttpErrors':![]},_0x28746a=await _0x4068ae[_0x1744c4(0x158)](got,_0x487974,_0x4b3465);_0x4068ae[_0x1744c4(0x171)](_0x28746a,null)&&_0x4068ae['SPLeH'](_0x28746a,undefined)&&_0x4068ae[_0x1744c4(0x140)](_0x28746a[_0x1744c4(0x179)],0xc8)&&(_0x4068ae[_0x1744c4(0x14c)](_0x4068ae[_0x1744c4(0x138)],_0x4068ae[_0x1744c4(0x138)])?_0x11a276=!![]:_0x210365=_0x104d83['bstackUsername']);if(_0x11a276){if(_0x4068ae[_0x1744c4(0x171)](_0x4068ae[_0x1744c4(0x18b)],_0x4068ae[_0x1744c4(0x188)])){let _0x17f063={};const _0x512931=_0x4068ae['jGOsb'](getCredentialsPath);fs[_0x1744c4(0x194)](_0x512931)&&(_0x4068ae[_0x1744c4(0x190)](_0x4068ae[_0x1744c4(0x144)],_0x4068ae[_0x1744c4(0x144)])?_0x4f78b5=_0x5dc825[_0x1744c4(0x141)][_0x1744c4(0x130)]:_0x17f063=JSON['parse'](fs[_0x1744c4(0x185)](_0x512931,_0x4068ae[_0x1744c4(0x18a)])));const _0x38c6ff={};_0x38c6ff['username']=_0x4b7e68,_0x38c6ff[_0x1744c4(0x189)]=_0x15cd0b,_0x17f063[_0x1744c4(0x139)]=_0x38c6ff,fs[_0x1744c4(0x184)](_0x512931,JSON['stringify'](_0x17f063)),process[_0x1744c4(0x14b)](0x0);}else _0x3b9ac7=_0x4afffd[_0x1744c4(0x15b)];}else logger[_0x1744c4(0x182)](_0x4068ae['abIBT']),await _0x4068ae[_0x1744c4(0x151)](sendInstrumentationEvent,_0x3c64ef,_0x4068ae[_0x1744c4(0x16c)],messageTypes['ERROR'],_0x4068ae['lqFoT'],null,_0x3c64ef),process['exit'](0x1);}catch(_0x302980){logger[_0x1744c4(0x182)](_0x302980[_0x1744c4(0x156)]),await _0x4068ae['BIcHG'](sendInstrumentationEvent,_0x3c64ef,_0x4068ae[_0x1744c4(0x16c)],messageTypes[_0x1744c4(0x159)],_0x4068ae[_0x1744c4(0x164)],_0x302980,_0x3c64ef),process['exit'](0x1);}};