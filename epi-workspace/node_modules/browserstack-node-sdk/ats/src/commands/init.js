const a12_0x15a421=a12_0x3163;(function(_0x3ad8f1,_0xd3b5ed){const _0x25b6f0=a12_0x3163,_0x42041b=_0x3ad8f1();while(!![]){try{const _0x155f1f=parseInt(_0x25b6f0(0x18e))/0x1+-parseInt(_0x25b6f0(0x18c))/0x2+-parseInt(_0x25b6f0(0x1b1))/0x3*(parseInt(_0x25b6f0(0x1bb))/0x4)+parseInt(_0x25b6f0(0x1d5))/0x5*(parseInt(_0x25b6f0(0x1b9))/0x6)+parseInt(_0x25b6f0(0x1ac))/0x7+parseInt(_0x25b6f0(0x1ce))/0x8*(parseInt(_0x25b6f0(0x1a2))/0x9)+parseInt(_0x25b6f0(0x16c))/0xa*(-parseInt(_0x25b6f0(0x1cc))/0xb);if(_0x155f1f===_0xd3b5ed)break;else _0x42041b['push'](_0x42041b['shift']());}catch(_0x1e826c){_0x42041b['push'](_0x42041b['shift']());}}}(a12_0x4196,0x8fbcc));const fs=require('fs'),util=require(a12_0x15a421(0x19d)),got=require(a12_0x15a421(0x1a0)),{v4:uuidv4}=require(a12_0x15a421(0x1c6)),{logger}=require('../config/logger'),{inputBstackKeys}=require(a12_0x15a421(0x1d6)),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a12_0x15a421(0x199)),{getDirForConfig,getCredentialsPath,getAuthHeader}=require('../utils/utilityMethods'),{sendInstrumentationEvent}=require('../utils/instrumentationUtils');function a12_0x3163(_0x34f553,_0x1b47e4){const _0x41967d=a12_0x4196();return a12_0x3163=function(_0x3163e2,_0x14bfcc){_0x3163e2=_0x3163e2-0x169;let _0x2ddc00=_0x41967d[_0x3163e2];return _0x2ddc00;},a12_0x3163(_0x34f553,_0x1b47e4);}function a12_0x4196(){const _0x5520f1=['ojZsL','command','qFuwk','readFileSync','cYdhJ','6JIXCix','Xaktl','1252ruMIxW','baWrL','wNbLk','jwLmG','DGaYU','UEbOQ','stack','gndmf','alQFO','ERROR','username','uuid','gCsYS','MgFqW','usage','grbzF','epilogue','22rRuVBL','existsSync','48opmTKU','ROhyE','requestId','BFgqi','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','FnjWu','WUJSM','100105jesjjk','../utils/userInput','options','Pskte','zwOcX','BROWSERSTACK_USERNAME','faHHr','writeFileSync','740150BTWcxE','dEofA','handler','yMnUD','bqvvC','IHYWU','WUKJb','strict','init','Lnkbs','fgOaG','SBTWl','mndDe','FxGDd','init-called','mkdirSync','stringify','error','argv','builder','DHDZG','string','bstack-accesskey','UZgSF','WuJRD','exit','env','wrong-creds','iCtHu','VUxgg','RwACd','aDlbT','2242568YclvGd','parse','1137795OazmYs','gjJEW','unknown-error','LfuGc','debug','type','zSuoJ','password','BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','laIFQ','description','../config/constants','BZHhN','bstackUsername','GjdUx','util','INFO','Kiogz','got','IMBxK','1156149KSjMwu','utf-8','waWxu','FqpGa','BROWSERSTACK_ACCESS_KEY','desc','crPGU','bstackAccesskey','HfFET','Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.','2738085BhoERN','/automate/plan.json','help','statusCode','lbKxq','4425jWsDpq','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','sigep'];a12_0x4196=function(){return _0x5520f1;};return a12_0x4196();}exports[a12_0x15a421(0x1b5)]=a12_0x15a421(0x174),exports[a12_0x15a421(0x1a7)]=a12_0x15a421(0x1ab),exports[a12_0x15a421(0x17f)]=function(_0x4674e9){const _0x2e78f9=a12_0x15a421,_0x124dd8={};_0x124dd8[_0x2e78f9(0x1a5)]=_0x2e78f9(0x1b2),_0x124dd8['DGaYU']=_0x2e78f9(0x181),_0x124dd8[_0x2e78f9(0x178)]=_0x2e78f9(0x1d2),_0x124dd8[_0x2e78f9(0x1bd)]='help';const _0x5908dc=_0x124dd8,_0x52e551={};_0x52e551[_0x2e78f9(0x198)]=_0x5908dc[_0x2e78f9(0x1a5)],_0x52e551['type']=_0x5908dc[_0x2e78f9(0x1bf)];const _0x2dd2fd={};_0x2dd2fd[_0x2e78f9(0x198)]=_0x5908dc[_0x2e78f9(0x178)],_0x2dd2fd[_0x2e78f9(0x193)]=_0x5908dc['DGaYU'];const _0x47f809={};return _0x47f809['bstack-username']=_0x52e551,_0x47f809[_0x2e78f9(0x182)]=_0x2dd2fd,_0x4674e9[_0x2e78f9(0x1c9)](HELP_HEADER_MESSAGE[_0x2e78f9(0x174)])[_0x2e78f9(0x1cb)](HELP_FOOTER_MESSAGE)[_0x2e78f9(0x1d7)](_0x47f809)['recommendCommands']()[_0x2e78f9(0x173)]()[_0x2e78f9(0x1ae)](_0x5908dc['wNbLk'])[_0x2e78f9(0x17e)];},exports[a12_0x15a421(0x16e)]=async function(_0xc6d9aa){const _0x334872=a12_0x15a421,_0x27a990={'FnjWu':_0x334872(0x1b2),'IMBxK':_0x334872(0x181),'yMnUD':'Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','bqvvC':_0x334872(0x1ae),'lbKxq':function(_0x3238cc){return _0x3238cc();},'WUJSM':_0x334872(0x1a3),'crPGU':function(_0x113e8e,_0x13b66b,_0x29d5c6,_0x453eee,_0xf8d2bc,_0x5c15cf,_0x2e14a0){return _0x113e8e(_0x13b66b,_0x29d5c6,_0x453eee,_0xf8d2bc,_0x5c15cf,_0x2e14a0);},'faHHr':_0x334872(0x17a),'RwACd':function(_0x126c0e,_0x14de69){return _0x126c0e===_0x14de69;},'SBTWl':_0x334872(0x19c),'dEofA':_0x334872(0x1b3),'alQFO':function(_0x548e0d,_0x37b9d4){return _0x548e0d===_0x37b9d4;},'Lnkbs':'wPgIk','UEbOQ':function(_0x4c51e6,_0x59d832){return _0x4c51e6!==_0x59d832;},'gCsYS':_0x334872(0x1ca),'pmWBa':function(_0x3e6eba,_0x48a449){return _0x3e6eba===_0x48a449;},'LfuGc':_0x334872(0x171),'DHDZG':_0x334872(0x1d1),'cYdhJ':function(_0x568317,_0x447c0d){return _0x568317!==_0x447c0d;},'seMhG':'RDAGi','ROhyE':_0x334872(0x1b6),'dgvHA':function(_0x33f9c5,_0x4ab97c){return _0x33f9c5===_0x4ab97c;},'zwOcX':_0x334872(0x1bc),'MgFqW':_0x334872(0x194),'HfFET':_0x334872(0x196),'aDlbT':'GET','Xaktl':function(_0x1936b5,_0x57e82e,_0x10e200){return _0x1936b5(_0x57e82e,_0x10e200);},'cSBIz':function(_0x179b3f,_0x29fb83,_0x537c2a){return _0x179b3f(_0x29fb83,_0x537c2a);},'WUKJb':function(_0x3987e8,_0x45e352){return _0x3987e8!==_0x45e352;},'gjJEW':function(_0x536100,_0x53308a){return _0x536100===_0x53308a;},'Pskte':function(_0x51b8a0,_0x2b3d13){return _0x51b8a0===_0x2b3d13;},'gndmf':_0x334872(0x183),'WuJRD':function(_0x5c934d,_0x2c3348){return _0x5c934d===_0x2c3348;},'JPQps':_0x334872(0x19f),'ojZsL':_0x334872(0x179),'jwLmG':_0x334872(0x19a),'iCtHu':_0x334872(0x1a4),'fgOaG':'Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','VUxgg':_0x334872(0x187),'laIFQ':_0x334872(0x190)};try{global_registry[_0x334872(0x1d0)]=_0x27a990[_0x334872(0x1b0)](uuidv4),_0x27a990[_0x334872(0x1a8)](sendInstrumentationEvent,_0xc6d9aa,_0x27a990[_0x334872(0x16a)],messageTypes[_0x334872(0x19e)],null,null,_0xc6d9aa);const _0x622562=_0x27a990['lbKxq'](getDirForConfig);!fs[_0x334872(0x1cd)](_0x622562)&&(_0x27a990['RwACd'](_0x27a990[_0x334872(0x177)],_0x27a990[_0x334872(0x16d)])?_0x545c1e=_0x5e15d7[_0x334872(0x19b)]:fs[_0x334872(0x17b)](_0x622562));let _0x33cfb5,_0x4d4653;process[_0x334872(0x186)][_0x334872(0x169)]&&(_0x27a990[_0x334872(0x1c3)](_0x27a990[_0x334872(0x175)],_0x27a990['Lnkbs'])?_0x33cfb5=process['env']['BROWSERSTACK_USERNAME']:_0x2e9512=_0xfc0118[_0x334872(0x1a9)]);process['env'][_0x334872(0x1a6)]&&(_0x27a990[_0x334872(0x1c0)](_0x27a990[_0x334872(0x1c7)],_0x27a990[_0x334872(0x1c7)])?_0x2fe6a8[_0x334872(0x17b)](_0x5d5234):_0x4d4653=process[_0x334872(0x186)][_0x334872(0x1a6)]);if(_0xc6d9aa[_0x334872(0x19b)]){if(_0x27a990['pmWBa'](_0x27a990[_0x334872(0x191)],_0x27a990[_0x334872(0x180)])){const _0x3f97ba={};_0x3f97ba[_0x334872(0x198)]=_0x27a990[_0x334872(0x1d3)],_0x3f97ba['type']=_0x27a990['IMBxK'];const _0x2ea0a7={};_0x2ea0a7[_0x334872(0x198)]=_0x27a990[_0x334872(0x16f)],_0x2ea0a7[_0x334872(0x193)]=_0x27a990[_0x334872(0x1a1)];const _0x27f3a8={};return _0x27f3a8['bstack-username']=_0x3f97ba,_0x27f3a8['bstack-accesskey']=_0x2ea0a7,_0x15803d[_0x334872(0x1c9)](_0x4e99ae[_0x334872(0x174)])[_0x334872(0x1cb)](_0x40087b)[_0x334872(0x1d7)](_0x27f3a8)['recommendCommands']()[_0x334872(0x173)]()[_0x334872(0x1ae)](_0x27a990[_0x334872(0x170)])[_0x334872(0x17e)];}else _0x33cfb5=_0xc6d9aa[_0x334872(0x19b)];}if(_0xc6d9aa['bstackAccesskey']){if(_0x27a990[_0x334872(0x1b8)](_0x27a990['seMhG'],_0x27a990[_0x334872(0x1cf)]))_0x4d4653=_0xc6d9aa['bstackAccesskey'];else{let _0x97b796={};const _0x1e3665=_0x27a990[_0x334872(0x1b0)](_0x3f8f12);_0x2ecc5b[_0x334872(0x1cd)](_0x1e3665)&&(_0x97b796=_0x116ae5[_0x334872(0x18d)](_0x4ed248['readFileSync'](_0x1e3665,_0x27a990[_0x334872(0x1d4)])));const _0x140888={};_0x140888['username']=_0x5cfa0,_0x140888['password']=_0x12816a,_0x97b796['Browserstack']=_0x140888,_0x55aafd[_0x334872(0x16b)](_0x1e3665,_0x4e79bd[_0x334872(0x17c)](_0x97b796)),_0xeb13ff[_0x334872(0x185)](0x0);}}if(_0x27a990['dgvHA'](_0x33cfb5,undefined)||_0x27a990[_0x334872(0x18a)](_0x4d4653,undefined)){if(_0x27a990[_0x334872(0x1b8)](_0x27a990[_0x334872(0x1d9)],_0x27a990[_0x334872(0x1c8)])){logger[_0x334872(0x192)](_0x27a990[_0x334872(0x1aa)]);const [_0x564e7f,_0x5b2dcd]=await _0x27a990[_0x334872(0x1b0)](inputBstackKeys);_0x33cfb5=_0x564e7f,_0x4d4653=_0x5b2dcd;}else _0x4e438f=_0x2469f6['env'][_0x334872(0x1a6)];}let _0x8d5d0c=![];const _0x38bd94='https://'+_0x33cfb5+':'+_0x4d4653+'@'+BS_API_URL+_0x334872(0x1ad),_0x2fe6cb={'method':_0x27a990[_0x334872(0x18b)],'headers':_0x27a990[_0x334872(0x1ba)](getAuthHeader,_0x33cfb5,_0x4d4653),'throwHttpErrors':![]},_0x4eeb8c=await _0x27a990['cSBIz'](got,_0x38bd94,_0x2fe6cb);_0x27a990[_0x334872(0x1c0)](_0x4eeb8c,null)&&_0x27a990[_0x334872(0x172)](_0x4eeb8c,undefined)&&_0x27a990[_0x334872(0x18f)](_0x4eeb8c[_0x334872(0x1af)],0xc8)&&(_0x27a990[_0x334872(0x1d8)](_0x27a990[_0x334872(0x1c2)],_0x27a990['gndmf'])?_0x8d5d0c=!![]:_0x191f3e=_0x134a9a[_0x334872(0x186)][_0x334872(0x169)]);if(_0x8d5d0c){if(_0x27a990[_0x334872(0x184)](_0x27a990['JPQps'],_0x27a990[_0x334872(0x1b4)]))_0xefa87a=_0x464086['parse'](_0x2baf0a['readFileSync'](_0x526c25,_0x27a990[_0x334872(0x1d4)]));else{let _0x3e5335={};const _0x2720bb=_0x27a990[_0x334872(0x1b0)](getCredentialsPath);fs[_0x334872(0x1cd)](_0x2720bb)&&(_0x27a990[_0x334872(0x1b8)](_0x27a990[_0x334872(0x1be)],_0x27a990[_0x334872(0x188)])?_0x3e5335=JSON[_0x334872(0x18d)](fs[_0x334872(0x1b7)](_0x2720bb,_0x27a990['WUJSM'])):_0x2c4ced=!![]);const _0x5c2ba9={};_0x5c2ba9[_0x334872(0x1c5)]=_0x33cfb5,_0x5c2ba9[_0x334872(0x195)]=_0x4d4653,_0x3e5335['Browserstack']=_0x5c2ba9,fs[_0x334872(0x16b)](_0x2720bb,JSON[_0x334872(0x17c)](_0x3e5335)),process[_0x334872(0x185)](0x0);}}else logger[_0x334872(0x17d)](_0x27a990[_0x334872(0x176)]),await _0x27a990[_0x334872(0x1a8)](sendInstrumentationEvent,_0xc6d9aa,_0x27a990[_0x334872(0x16a)],messageTypes[_0x334872(0x1c4)],_0x27a990[_0x334872(0x189)],null,_0xc6d9aa),process[_0x334872(0x185)](0x1);}catch(_0x5a2ec5){logger[_0x334872(0x17d)](_0x5a2ec5[_0x334872(0x1c1)]),await _0x27a990[_0x334872(0x1a8)](sendInstrumentationEvent,_0xc6d9aa,_0x27a990['faHHr'],messageTypes['ERROR'],_0x27a990[_0x334872(0x197)],_0x5a2ec5,_0xc6d9aa),process[_0x334872(0x185)](0x1);}};