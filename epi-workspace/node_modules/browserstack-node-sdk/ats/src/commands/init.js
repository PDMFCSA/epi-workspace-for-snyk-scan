const a12_0x51caee=a12_0x34ea;function a12_0x34ea(_0x99e3fc,_0x1e5417){const _0x439770=a12_0x4397();return a12_0x34ea=function(_0x34ea3f,_0x2147c5){_0x34ea3f=_0x34ea3f-0x1eb;let _0x3524cc=_0x439770[_0x34ea3f];return _0x3524cc;},a12_0x34ea(_0x99e3fc,_0x1e5417);}function a12_0x4397(){const _0x571676=['VIJpl','JmVxW','wZwPj','string','eYkog','BROWSERSTACK_USERNAME','password','1107827UulkJt','caXhk','uGZdC','sdDVN','oTfnc','1952344whHQMg','command','EuAWU','2800852HfGDIC','2916900IQKDJu','bHgjS','KAlxw','90XgVXqV','options','got','exit','type','recommendCommands','../utils/userInput','KEaYt','MEiHu','jRSRo','fOXre','bhVQW','readFileSync','env','WnjXQ','EcNfV','parse','ERROR','fUfHc','requestId','VKruW','ypfHZ','uuid','username','INFO','jOBAx','30NlgGSo','epilogue','881035ehjteA','init','aNLgs','BROWSERSTACK_ACCESS_KEY','Browserstack','225860StSdKk','OBqWP','bstackAccesskey','rWeZM','description','GET','NyFWQ','MbHYW','../config/constants','bstack-username','cUKIO','strict','mkdirSync','gLVDE','1656482oZyJET','dFkaW','bstackUsername','fnrrt','ZjUUu','builder','LEQam','argv','YqeWf','existsSync','stringify','/automate/plan.json','writeFileSync','statusCode','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.','xWCSy','QGprm','util','usage','UtUgn','help','mKyEQ','https://','../utils/instrumentationUtils','JwgLs','error','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','CSqIH','../config/logger','UnmFr','wrong-creds','xkhaV','flpMW','GKXYZ','Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','RfFCl','VZWvt'];a12_0x4397=function(){return _0x571676;};return a12_0x4397();}(function(_0x51d77a,_0x35ac59){const _0x6c698=a12_0x34ea,_0x23d286=_0x51d77a();while(!![]){try{const _0x1c697b=-parseInt(_0x6c698(0x236))/0x1+-parseInt(_0x6c698(0x244))/0x2+parseInt(_0x6c698(0x212))/0x3+-parseInt(_0x6c698(0x211))/0x4+parseInt(_0x6c698(0x231))/0x5*(-parseInt(_0x6c698(0x22f))/0x6)+-parseInt(_0x6c698(0x209))/0x7+-parseInt(_0x6c698(0x20e))/0x8*(-parseInt(_0x6c698(0x215))/0x9);if(_0x1c697b===_0x35ac59)break;else _0x23d286['push'](_0x23d286['shift']());}catch(_0x258e12){_0x23d286['push'](_0x23d286['shift']());}}}(a12_0x4397,0x97270));const fs=require('fs'),util=require(a12_0x51caee(0x1ee)),got=require(a12_0x51caee(0x217)),{v4:uuidv4}=require(a12_0x51caee(0x22b)),{logger}=require(a12_0x51caee(0x1f9)),{inputBstackKeys}=require(a12_0x51caee(0x21b)),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a12_0x51caee(0x23e)),{getDirForConfig,getCredentialsPath,getAuthHeader}=require('../utils/utilityMethods'),{sendInstrumentationEvent}=require(a12_0x51caee(0x1f4));exports[a12_0x51caee(0x20f)]=a12_0x51caee(0x232),exports['desc']=a12_0x51caee(0x1eb),exports[a12_0x51caee(0x249)]=function(_0x1ef2c6){const _0x519162=a12_0x51caee,_0x263c15={};_0x263c15[_0x519162(0x22e)]=_0x519162(0x1f7),_0x263c15[_0x519162(0x23c)]=_0x519162(0x205),_0x263c15[_0x519162(0x21f)]='Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.',_0x263c15['KAlxw']=_0x519162(0x1f1);const _0x15737f=_0x263c15,_0x371f42={};_0x371f42[_0x519162(0x23a)]=_0x15737f[_0x519162(0x22e)],_0x371f42['type']=_0x15737f[_0x519162(0x23c)];const _0x19187b={};_0x19187b['description']=_0x15737f[_0x519162(0x21f)],_0x19187b[_0x519162(0x219)]=_0x15737f[_0x519162(0x23c)];const _0xc4b01b={};return _0xc4b01b[_0x519162(0x23f)]=_0x371f42,_0xc4b01b['bstack-accesskey']=_0x19187b,_0x1ef2c6[_0x519162(0x1ef)](HELP_HEADER_MESSAGE['init'])['epilogue'](HELP_FOOTER_MESSAGE)[_0x519162(0x216)](_0xc4b01b)[_0x519162(0x21a)]()[_0x519162(0x241)]()[_0x519162(0x1f1)](_0x15737f[_0x519162(0x214)])[_0x519162(0x24b)];},exports['handler']=async function(_0x5e67fa){const _0x52f267=a12_0x51caee,_0x3efa57={'dFkaW':'utf-8','cUKIO':_0x52f267(0x1f7),'wZwPj':_0x52f267(0x205),'CSqIH':_0x52f267(0x252),'KEaYt':_0x52f267(0x1f1),'gLVDE':function(_0x234010){return _0x234010();},'JmVxW':function(_0x1bcaee,_0x4da115,_0x12295a,_0x44ef31,_0x2dc9f5,_0xd22abf,_0x5c610c){return _0x1bcaee(_0x4da115,_0x12295a,_0x44ef31,_0x2dc9f5,_0xd22abf,_0x5c610c);},'eYkog':'init-called','YqeWf':function(_0x254172){return _0x254172();},'JwgLs':function(_0x4c044c,_0x4bf71a){return _0x4c044c===_0x4bf71a;},'aNLgs':_0x52f267(0x200),'uGZdC':_0x52f267(0x20d),'xTMTv':function(_0x43f3f5,_0x1cb719){return _0x43f3f5!==_0x1cb719;},'UnmFr':_0x52f267(0x220),'fnrrt':_0x52f267(0x229),'xkhaV':function(_0x3071b3,_0x43b92c){return _0x3071b3===_0x43b92c;},'QGprm':_0x52f267(0x1fd),'EuAWU':_0x52f267(0x21d),'xWCSy':_0x52f267(0x227),'YBoWl':'jcwNE','LEQam':function(_0x432c2d,_0x3d684b){return _0x432c2d===_0x3d684b;},'rWeZM':_0x52f267(0x202),'WnjXQ':'BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','jRSRo':function(_0x49c1d9){return _0x49c1d9();},'Dzfjl':_0x52f267(0x23b),'mKyEQ':function(_0x3042f8,_0x1b2f26,_0x23d7d0){return _0x3042f8(_0x1b2f26,_0x23d7d0);},'yfJfX':function(_0x37d08c,_0x417acb,_0x222644){return _0x37d08c(_0x417acb,_0x222644);},'ypfHZ':function(_0x13b1f3,_0x5aebab){return _0x13b1f3!==_0x5aebab;},'bHgjS':function(_0x288534,_0x42220d){return _0x288534!==_0x42220d;},'sdDVN':'brHjG','caXhk':function(_0x16b105,_0x59fda4){return _0x16b105!==_0x59fda4;},'VZWvt':'KYuwL','ozNIW':function(_0x5acb8e){return _0x5acb8e();},'MbHYW':function(_0x1c7f4b,_0x438554){return _0x1c7f4b===_0x438554;},'UtUgn':_0x52f267(0x1fe),'ZjUUu':'BNvZB','OBqWP':_0x52f267(0x1ff),'zLvxv':_0x52f267(0x1fb),'EcNfV':function(_0x2ff1a0,_0x549c7e,_0x3a0396,_0x14793b,_0xe48dbd,_0x4386de,_0x5213dc){return _0x2ff1a0(_0x549c7e,_0x3a0396,_0x14793b,_0xe48dbd,_0x4386de,_0x5213dc);},'uqZOn':'unknown-error'};try{global_registry[_0x52f267(0x228)]=_0x3efa57[_0x52f267(0x243)](uuidv4),_0x3efa57[_0x52f267(0x203)](sendInstrumentationEvent,_0x5e67fa,_0x3efa57['eYkog'],messageTypes[_0x52f267(0x22d)],null,null,_0x5e67fa);const _0x2df62f=_0x3efa57[_0x52f267(0x24c)](getDirForConfig);!fs[_0x52f267(0x24d)](_0x2df62f)&&(_0x3efa57[_0x52f267(0x1f5)](_0x3efa57[_0x52f267(0x233)],_0x3efa57[_0x52f267(0x233)])?fs[_0x52f267(0x242)](_0x2df62f):_0x3813d7=!![]);let _0x59f6ad,_0x1383bc;process[_0x52f267(0x222)][_0x52f267(0x207)]&&(_0x3efa57['JwgLs'](_0x3efa57['uGZdC'],_0x3efa57[_0x52f267(0x20b)])?_0x59f6ad=process[_0x52f267(0x222)][_0x52f267(0x207)]:_0x3c2cdd=_0x3a6b12[_0x52f267(0x225)](_0x31875f[_0x52f267(0x221)](_0x20dd2f,_0x3efa57[_0x52f267(0x245)])));process[_0x52f267(0x222)][_0x52f267(0x234)]&&(_0x3efa57['xTMTv'](_0x3efa57[_0x52f267(0x1fa)],_0x3efa57[_0x52f267(0x247)])?_0x1383bc=process['env'][_0x52f267(0x234)]:_0x31142b=_0xf9d812[_0x52f267(0x222)]['BROWSERSTACK_USERNAME']);if(_0x5e67fa['bstackUsername']){if(_0x3efa57[_0x52f267(0x1fc)](_0x3efa57[_0x52f267(0x1ed)],_0x3efa57[_0x52f267(0x210)])){const _0x10985a={};_0x10985a['description']=_0x3efa57[_0x52f267(0x240)],_0x10985a[_0x52f267(0x219)]=_0x3efa57[_0x52f267(0x204)];const _0x4680f6={};_0x4680f6[_0x52f267(0x23a)]=_0x3efa57[_0x52f267(0x1f8)],_0x4680f6[_0x52f267(0x219)]=_0x3efa57[_0x52f267(0x204)];const _0x3c19b7={};return _0x3c19b7[_0x52f267(0x23f)]=_0x10985a,_0x3c19b7['bstack-accesskey']=_0x4680f6,_0x1afb91[_0x52f267(0x1ef)](_0x31be45[_0x52f267(0x232)])[_0x52f267(0x230)](_0x17287c)[_0x52f267(0x216)](_0x3c19b7)['recommendCommands']()[_0x52f267(0x241)]()[_0x52f267(0x1f1)](_0x3efa57[_0x52f267(0x21c)])[_0x52f267(0x24b)];}else _0x59f6ad=_0x5e67fa[_0x52f267(0x246)];}_0x5e67fa['bstackAccesskey']&&(_0x3efa57[_0x52f267(0x1f5)](_0x3efa57[_0x52f267(0x1ec)],_0x3efa57['YBoWl'])?_0x6a0ea7=_0x4f8724[_0x52f267(0x222)][_0x52f267(0x234)]:_0x1383bc=_0x5e67fa[_0x52f267(0x238)]);if(_0x3efa57[_0x52f267(0x1f5)](_0x59f6ad,undefined)||_0x3efa57[_0x52f267(0x1fc)](_0x1383bc,undefined)){if(_0x3efa57['LEQam'](_0x3efa57[_0x52f267(0x239)],_0x3efa57[_0x52f267(0x239)])){logger['debug'](_0x3efa57[_0x52f267(0x223)]);const [_0x8b705b,_0x503ff1]=await _0x3efa57[_0x52f267(0x21e)](inputBstackKeys);_0x59f6ad=_0x8b705b,_0x1383bc=_0x503ff1;}else _0x1f62ef=_0x5e0feb[_0x52f267(0x238)];}let _0x2f73af=![];const _0x4676ef=_0x52f267(0x1f3)+_0x59f6ad+':'+_0x1383bc+'@'+BS_API_URL+_0x52f267(0x24f),_0x2c5807={'method':_0x3efa57['Dzfjl'],'headers':_0x3efa57[_0x52f267(0x1f2)](getAuthHeader,_0x59f6ad,_0x1383bc),'throwHttpErrors':![]},_0x38484d=await _0x3efa57['yfJfX'](got,_0x4676ef,_0x2c5807);if(_0x3efa57[_0x52f267(0x22a)](_0x38484d,null)&&_0x3efa57[_0x52f267(0x213)](_0x38484d,undefined)&&_0x3efa57[_0x52f267(0x1f5)](_0x38484d[_0x52f267(0x251)],0xc8)){if(_0x3efa57[_0x52f267(0x24a)](_0x3efa57[_0x52f267(0x20c)],_0x3efa57['sdDVN']))_0x2f73af=!![];else{let _0x296a41={};const _0x1535ea=_0x3efa57[_0x52f267(0x243)](_0x2929a1);_0x567522[_0x52f267(0x24d)](_0x1535ea)&&(_0x296a41=_0x4bde45[_0x52f267(0x225)](_0xc69783['readFileSync'](_0x1535ea,_0x3efa57['dFkaW'])));const _0xfe7bea={};_0xfe7bea[_0x52f267(0x22c)]=_0x21ef18,_0xfe7bea[_0x52f267(0x208)]=_0xee97d5,_0x296a41[_0x52f267(0x235)]=_0xfe7bea,_0xa60937[_0x52f267(0x250)](_0x1535ea,_0x4c0a2c[_0x52f267(0x24e)](_0x296a41)),_0x390f2a[_0x52f267(0x218)](0x0);}}if(_0x2f73af){if(_0x3efa57[_0x52f267(0x20a)](_0x3efa57[_0x52f267(0x201)],_0x3efa57[_0x52f267(0x201)]))_0x303c16['mkdirSync'](_0x513574);else{let _0x2ddaee={};const _0x2ee01f=_0x3efa57['ozNIW'](getCredentialsPath);fs[_0x52f267(0x24d)](_0x2ee01f)&&(_0x3efa57[_0x52f267(0x23d)](_0x3efa57[_0x52f267(0x1f0)],_0x3efa57[_0x52f267(0x248)])?_0x2aaa22=_0x2fdd97[_0x52f267(0x246)]:_0x2ddaee=JSON[_0x52f267(0x225)](fs['readFileSync'](_0x2ee01f,_0x3efa57['dFkaW'])));const _0x39de98={};_0x39de98[_0x52f267(0x22c)]=_0x59f6ad,_0x39de98[_0x52f267(0x208)]=_0x1383bc,_0x2ddaee[_0x52f267(0x235)]=_0x39de98,fs[_0x52f267(0x250)](_0x2ee01f,JSON[_0x52f267(0x24e)](_0x2ddaee)),process[_0x52f267(0x218)](0x0);}}else logger[_0x52f267(0x1f6)](_0x3efa57[_0x52f267(0x237)]),await _0x3efa57[_0x52f267(0x203)](sendInstrumentationEvent,_0x5e67fa,_0x3efa57[_0x52f267(0x206)],messageTypes[_0x52f267(0x226)],_0x3efa57['zLvxv'],null,_0x5e67fa),process[_0x52f267(0x218)](0x1);}catch(_0x35e475){logger['error'](_0x35e475['stack']),await _0x3efa57[_0x52f267(0x224)](sendInstrumentationEvent,_0x5e67fa,_0x3efa57[_0x52f267(0x206)],messageTypes['ERROR'],_0x3efa57['uqZOn'],_0x35e475,_0x5e67fa),process[_0x52f267(0x218)](0x1);}};