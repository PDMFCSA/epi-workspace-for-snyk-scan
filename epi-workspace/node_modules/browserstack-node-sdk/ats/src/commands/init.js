const a12_0x3d3fc9=a12_0x1fe0;(function(_0x15f637,_0x2c1433){const _0x2ad902=a12_0x1fe0,_0x281c5a=_0x15f637();while(!![]){try{const _0x4525d0=-parseInt(_0x2ad902(0xf8))/0x1*(-parseInt(_0x2ad902(0x16b))/0x2)+parseInt(_0x2ad902(0x16a))/0x3*(parseInt(_0x2ad902(0x14a))/0x4)+parseInt(_0x2ad902(0x137))/0x5*(parseInt(_0x2ad902(0x149))/0x6)+-parseInt(_0x2ad902(0x157))/0x7*(-parseInt(_0x2ad902(0x162))/0x8)+-parseInt(_0x2ad902(0x150))/0x9+parseInt(_0x2ad902(0x146))/0xa*(parseInt(_0x2ad902(0x115))/0xb)+parseInt(_0x2ad902(0x106))/0xc*(-parseInt(_0x2ad902(0x142))/0xd);if(_0x4525d0===_0x2c1433)break;else _0x281c5a['push'](_0x281c5a['shift']());}catch(_0x2550f9){_0x281c5a['push'](_0x281c5a['shift']());}}}(a12_0x24f5,0xded2e));const fs=require('fs'),util=require('util'),got=require(a12_0x3d3fc9(0xf5)),{v4:uuidv4}=require(a12_0x3d3fc9(0x13e)),{logger}=require(a12_0x3d3fc9(0x15b)),{inputBstackKeys}=require(a12_0x3d3fc9(0x10d)),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require('../config/constants'),{getDirForConfig,getCredentialsPath,getAuthHeader}=require(a12_0x3d3fc9(0x126)),{sendInstrumentationEvent}=require(a12_0x3d3fc9(0x151));exports[a12_0x3d3fc9(0x111)]=a12_0x3d3fc9(0x147),exports[a12_0x3d3fc9(0x145)]=a12_0x3d3fc9(0x12a),exports[a12_0x3d3fc9(0x14f)]=function(_0xdc419b){const _0x559497=a12_0x3d3fc9,_0x4959e8={};_0x4959e8[_0x559497(0x10c)]=_0x559497(0x13b),_0x4959e8['JekXy']=_0x559497(0x166),_0x4959e8[_0x559497(0x125)]='Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.',_0x4959e8['RPRRb']=_0x559497(0x105);const _0xcd37ef=_0x4959e8,_0x5d21de={};_0x5d21de[_0x559497(0x141)]=_0xcd37ef['jPiGq'],_0x5d21de[_0x559497(0x13a)]=_0xcd37ef[_0x559497(0x127)];const _0x4ee30a={};_0x4ee30a[_0x559497(0x141)]=_0xcd37ef[_0x559497(0x125)],_0x4ee30a[_0x559497(0x13a)]=_0xcd37ef['JekXy'];const _0x5c7a91={};return _0x5c7a91[_0x559497(0x11a)]=_0x5d21de,_0x5c7a91[_0x559497(0x117)]=_0x4ee30a,_0xdc419b[_0x559497(0x163)](HELP_HEADER_MESSAGE[_0x559497(0x147)])[_0x559497(0x148)](HELP_FOOTER_MESSAGE)[_0x559497(0x10b)](_0x5c7a91)[_0x559497(0x13f)]()[_0x559497(0x113)]()[_0x559497(0x105)](_0xcd37ef[_0x559497(0x12c)])[_0x559497(0x110)];},exports['handler']=async function(_0x171c8a){const _0x56b953=a12_0x3d3fc9,_0x508abd={'NNYck':_0x56b953(0x12b),'weFzT':'Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','JESoO':_0x56b953(0x166),'MdtMp':'Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','EiVNw':_0x56b953(0x105),'FhYde':function(_0x56f4e8){return _0x56f4e8();},'bUemV':function(_0x52f765){return _0x52f765();},'EEufi':function(_0x759010,_0x184e4e,_0x203027,_0x34013e,_0x453aff,_0x32bffe,_0x73bc6f){return _0x759010(_0x184e4e,_0x203027,_0x34013e,_0x453aff,_0x32bffe,_0x73bc6f);},'DKQvS':_0x56b953(0x154),'uoBYE':function(_0x554bf6,_0x3bf4aa){return _0x554bf6===_0x3bf4aa;},'YYydg':_0x56b953(0x122),'aBZrP':_0x56b953(0x155),'rFfNq':function(_0x3a6349,_0x16f1a7){return _0x3a6349===_0x16f1a7;},'yxHRd':_0x56b953(0x128),'OBTIc':_0x56b953(0x156),'hGLdF':function(_0x3ea4b2,_0x2f8836){return _0x3ea4b2!==_0x2f8836;},'gFBBf':'DqOgo','NtbiC':_0x56b953(0x15f),'dKypw':function(_0x415a6f,_0x1b66fa){return _0x415a6f===_0x1b66fa;},'ZqMev':'YdHiN','ZQrXa':function(_0x5de626,_0xcbf442){return _0x5de626===_0xcbf442;},'zeTel':_0x56b953(0x104),'YNmQX':function(_0xb910f,_0x22f853){return _0xb910f===_0x22f853;},'FhMhF':function(_0x4a7dd0,_0x1e5bf9){return _0x4a7dd0===_0x1e5bf9;},'ZSUHG':'WstjO','BKoRW':_0x56b953(0x168),'mxodw':'BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','mITav':_0x56b953(0x100),'uoGmF':function(_0x575c11,_0x6408d4,_0x34597a){return _0x575c11(_0x6408d4,_0x34597a);},'IvSIe':function(_0x5da447,_0x54f9f7){return _0x5da447!==_0x54f9f7;},'IGYgY':function(_0x2ff567,_0x4658c6){return _0x2ff567===_0x4658c6;},'iidVW':function(_0x1059c5,_0x525a9a){return _0x1059c5===_0x525a9a;},'mnkMV':_0x56b953(0x15c),'ueqoB':_0x56b953(0x114),'AqYHE':function(_0x1facba,_0x414ef1){return _0x1facba!==_0x414ef1;},'lHXtG':_0x56b953(0x12d),'DZKLd':_0x56b953(0x13d),'CiSkL':_0x56b953(0x169),'pEKJG':'rjLit','ZXURw':_0x56b953(0x167),'hXych':'wrong-creds','MpspP':function(_0x3f1b20,_0x2f3920,_0x200225,_0xab55c2,_0x24a17d,_0x3b0883,_0x134b9f){return _0x3f1b20(_0x2f3920,_0x200225,_0xab55c2,_0x24a17d,_0x3b0883,_0x134b9f);},'YDHYE':_0x56b953(0xfe)};try{global_registry[_0x56b953(0x102)]=_0x508abd[_0x56b953(0x123)](uuidv4),_0x508abd[_0x56b953(0x11e)](sendInstrumentationEvent,_0x171c8a,_0x508abd['DKQvS'],messageTypes[_0x56b953(0x12f)],null,null,_0x171c8a);const _0xcf1328=_0x508abd[_0x56b953(0x14d)](getDirForConfig);!fs[_0x56b953(0x10e)](_0xcf1328)&&(_0x508abd[_0x56b953(0x109)](_0x508abd[_0x56b953(0x121)],_0x508abd['aBZrP'])?_0xa1b1['mkdirSync'](_0x29c51a):fs[_0x56b953(0xff)](_0xcf1328));let _0x298e70,_0x4f41cb;process[_0x56b953(0x160)][_0x56b953(0x159)]&&(_0x508abd[_0x56b953(0x136)](_0x508abd[_0x56b953(0x133)],_0x508abd[_0x56b953(0x164)])?_0x579437=_0x2fc1f6[_0x56b953(0x10a)]:_0x298e70=process[_0x56b953(0x160)][_0x56b953(0x159)]);process[_0x56b953(0x160)][_0x56b953(0x132)]&&(_0x508abd[_0x56b953(0xf6)](_0x508abd[_0x56b953(0x165)],_0x508abd['NtbiC'])?_0x4f41cb=process[_0x56b953(0x160)]['BROWSERSTACK_ACCESS_KEY']:_0x3b1865=_0x9d80[_0x56b953(0x11b)](_0x25c91f[_0x56b953(0x161)](_0x81ff9,_0x508abd[_0x56b953(0xfd)])));_0x171c8a['bstackUsername']&&(_0x508abd['dKypw'](_0x508abd[_0x56b953(0xf7)],_0x508abd['ZqMev'])?_0x298e70=_0x171c8a[_0x56b953(0x10a)]:_0x17a966=_0x309bbc[_0x56b953(0x160)]['BROWSERSTACK_ACCESS_KEY']);if(_0x171c8a['bstackAccesskey']){if(_0x508abd[_0x56b953(0xfb)](_0x508abd[_0x56b953(0x107)],_0x508abd['zeTel']))_0x4f41cb=_0x171c8a[_0x56b953(0x143)];else{const _0xbc67dc={};_0xbc67dc['description']=_0x508abd[_0x56b953(0x129)],_0xbc67dc[_0x56b953(0x13a)]=_0x508abd[_0x56b953(0x140)];const _0x959b74={};_0x959b74[_0x56b953(0x141)]=_0x508abd['MdtMp'],_0x959b74[_0x56b953(0x13a)]=_0x508abd[_0x56b953(0x140)];const _0x14dc1e={};return _0x14dc1e['bstack-username']=_0xbc67dc,_0x14dc1e[_0x56b953(0x117)]=_0x959b74,_0x4dab4a[_0x56b953(0x163)](_0x33cebb[_0x56b953(0x147)])[_0x56b953(0x148)](_0x35fdbe)[_0x56b953(0x10b)](_0x14dc1e)[_0x56b953(0x13f)]()[_0x56b953(0x113)]()[_0x56b953(0x105)](_0x508abd[_0x56b953(0x118)])[_0x56b953(0x110)];}}if(_0x508abd[_0x56b953(0x116)](_0x298e70,undefined)||_0x508abd[_0x56b953(0x11d)](_0x4f41cb,undefined)){if(_0x508abd[_0x56b953(0x139)](_0x508abd[_0x56b953(0x112)],_0x508abd[_0x56b953(0x14b)]))_0x555ee7=_0x44c413[_0x56b953(0x143)];else{logger[_0x56b953(0x11f)](_0x508abd[_0x56b953(0x14c)]);const [_0x4a39f1,_0x4f839e]=await _0x508abd[_0x56b953(0x123)](inputBstackKeys);_0x298e70=_0x4a39f1,_0x4f41cb=_0x4f839e;}}let _0x33a34e=![];const _0x521bec=_0x56b953(0x15e)+_0x298e70+':'+_0x4f41cb+'@'+BS_API_URL+_0x56b953(0x15a),_0x1d8664={'method':_0x508abd[_0x56b953(0x158)],'headers':_0x508abd[_0x56b953(0x144)](getAuthHeader,_0x298e70,_0x4f41cb),'throwHttpErrors':![]},_0x372438=await _0x508abd['uoGmF'](got,_0x521bec,_0x1d8664);if(_0x508abd[_0x56b953(0xf6)](_0x372438,null)&&_0x508abd[_0x56b953(0x124)](_0x372438,undefined)&&_0x508abd['IGYgY'](_0x372438[_0x56b953(0xfa)],0xc8)){if(_0x508abd['iidVW'](_0x508abd[_0x56b953(0x101)],_0x508abd[_0x56b953(0x108)])){let _0x2d6a1d={};const _0x4b525e=_0x508abd[_0x56b953(0x14d)](_0x482b3a);_0x22c5e4[_0x56b953(0x10e)](_0x4b525e)&&(_0x2d6a1d=_0x1330a5[_0x56b953(0x11b)](_0x40a46e[_0x56b953(0x161)](_0x4b525e,_0x508abd[_0x56b953(0xfd)])));const _0x360179={};_0x360179[_0x56b953(0x103)]=_0x16a7f4,_0x360179[_0x56b953(0x12e)]=_0x42afe5,_0x2d6a1d[_0x56b953(0x10f)]=_0x360179,_0x3ca308['writeFileSync'](_0x4b525e,_0x4c796b[_0x56b953(0x152)](_0x2d6a1d)),_0x197fca[_0x56b953(0x153)](0x0);}else _0x33a34e=!![];}if(_0x33a34e){if(_0x508abd[_0x56b953(0x130)](_0x508abd[_0x56b953(0x14e)],_0x508abd[_0x56b953(0x134)])){let _0x4af8e0={};const _0x3cd848=_0x508abd['FhYde'](getCredentialsPath);fs[_0x56b953(0x10e)](_0x3cd848)&&(_0x508abd['IvSIe'](_0x508abd[_0x56b953(0x131)],_0x508abd[_0x56b953(0x119)])?_0x4af8e0=JSON[_0x56b953(0x11b)](fs[_0x56b953(0x161)](_0x3cd848,_0x508abd['NNYck'])):_0x212443=!![]);const _0x151c6b={};_0x151c6b['username']=_0x298e70,_0x151c6b['password']=_0x4f41cb,_0x4af8e0[_0x56b953(0x10f)]=_0x151c6b,fs['writeFileSync'](_0x3cd848,JSON[_0x56b953(0x152)](_0x4af8e0)),process[_0x56b953(0x153)](0x0);}else _0x76ba95=_0x3e9139['env'][_0x56b953(0x159)];}else logger['error'](_0x508abd[_0x56b953(0x11c)]),await _0x508abd[_0x56b953(0x11e)](sendInstrumentationEvent,_0x171c8a,_0x508abd[_0x56b953(0x120)],messageTypes[_0x56b953(0x138)],_0x508abd[_0x56b953(0x13c)],null,_0x171c8a),process[_0x56b953(0x153)](0x1);}catch(_0x249e60){logger[_0x56b953(0x135)](_0x249e60[_0x56b953(0xfc)]),await _0x508abd[_0x56b953(0x15d)](sendInstrumentationEvent,_0x171c8a,_0x508abd['DKQvS'],messageTypes[_0x56b953(0x138)],_0x508abd[_0x56b953(0xf9)],_0x249e60,_0x171c8a),process['exit'](0x1);}};function a12_0x1fe0(_0x47b8f3,_0x425da2){const _0x24f552=a12_0x24f5();return a12_0x1fe0=function(_0x1fe07f,_0x5793f6){_0x1fe07f=_0x1fe07f-0xf5;let _0x3cd415=_0x24f552[_0x1fe07f];return _0x3cd415;},a12_0x1fe0(_0x47b8f3,_0x425da2);}function a12_0x24f5(){const _0x2c607f=['FhYde','lHXtG','builder','6763221GWqRwB','../utils/instrumentationUtils','stringify','exit','init-called','eyDWy','kmhEU','35YHpYJw','mITav','BROWSERSTACK_USERNAME','/automate/plan.json','../config/logger','UypHr','MpspP','https://','cYgPy','env','readFileSync','775136nOzINF','usage','OBTIc','gFBBf','string','Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','uvsFZ','xKNfT','439077yUVFAr','4qjlvLH','got','hGLdF','ZqMev','800731rborCX','YDHYE','statusCode','ZQrXa','stack','NNYck','unknown-error','mkdirSync','GET','mnkMV','requestId','username','uZLCd','help','302628OcjokG','zeTel','ueqoB','uoBYE','bstackUsername','options','jPiGq','../utils/userInput','existsSync','Browserstack','argv','command','ZSUHG','strict','hMmBv','1734073Wxssms','YNmQX','bstack-accesskey','EiVNw','pEKJG','bstack-username','parse','ZXURw','dKypw','EEufi','debug','DKQvS','YYydg','VplFD','bUemV','IvSIe','HlnfD','../utils/utilityMethods','JekXy','WbMFr','weFzT','Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.','utf-8','RPRRb','YvLZe','password','INFO','AqYHE','CiSkL','BROWSERSTACK_ACCESS_KEY','yxHRd','DZKLd','error','rFfNq','5UHLFRD','ERROR','FhMhF','type','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','hXych','BsbtS','uuid','recommendCommands','JESoO','description','494GedZAQ','bstackAccesskey','uoGmF','desc','10pFhNcz','init','epilogue','1395318FWWIzd','4qUxRVS','BKoRW','mxodw'];a12_0x24f5=function(){return _0x2c607f;};return a12_0x24f5();}