const a12_0x245d47=a12_0x3d35;function a12_0x50b6(){const _0x16d5c5=['utf-8','recommendCommands','../config/constants','rnBEf','bstackAccesskey','9069894fySUaV','4653645EWcdhI','help','Iirhy','requestId','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','490gwWFsi','string','https://','init-called','140198OuHauU','writeFileSync','OsGRn','Rzcrm','HNvqN','BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','IEGsS','23200PibcJm','description','aZBCs','rmunl','../config/logger','LdKGh','Ggjuc','debug','XSvCw','CErzl','unknown-error','parse','tJAci','uqwoJ','tFBMA','sEylu','error','QHGaS','epilogue','782112nzeVtd','pMGfQ','26870poFpPP','dhIWO','exit','stringify','ujnYI','strict','ERROR','ojxyr','init','CJxVL','../utils/instrumentationUtils','mLcMo','Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','miold','username','Browserstack','nMbNg','uuid','desc','lRwVm','../utils/utilityMethods','57bjvLHl','jJRIf','kAXtA','RQzJp','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','usage','existsSync','hqvar','GoNTx','1813485cnzvSW','tlmIQ','BROWSERSTACK_ACCESS_KEY','handler','zQVtA','iXrVr','Ygjsc','env','bstackUsername','Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.','options','INFO','type','TMlJN','3663uBEuIU','bstack-username','command','readFileSync','8NOnTjM','AUrDV','password','argv','jxMsL','BROWSERSTACK_USERNAME','statusCode','FilwA','kVlLi','bstack-accesskey'];a12_0x50b6=function(){return _0x16d5c5;};return a12_0x50b6();}(function(_0x3c8083,_0x287540){const _0x391691=a12_0x3d35,_0x4ba100=_0x3c8083();while(!![]){try{const _0x555673=-parseInt(_0x391691(0x235))/0x1+parseInt(_0x391691(0x1fb))/0x2*(-parseInt(_0x391691(0x22c))/0x3)+-parseInt(_0x391691(0x247))/0x4*(-parseInt(_0x391691(0x1f2))/0x5)+parseInt(_0x391691(0x215))/0x6+-parseInt(_0x391691(0x1f7))/0x7*(-parseInt(_0x391691(0x202))/0x8)+parseInt(_0x391691(0x1f1))/0x9+-parseInt(_0x391691(0x217))/0xa*(-parseInt(_0x391691(0x243))/0xb);if(_0x555673===_0x287540)break;else _0x4ba100['push'](_0x4ba100['shift']());}catch(_0x466e50){_0x4ba100['push'](_0x4ba100['shift']());}}}(a12_0x50b6,0xe86ad));const fs=require('fs'),util=require('util'),got=require('got'),{v4:uuidv4}=require(a12_0x245d47(0x228)),{logger}=require(a12_0x245d47(0x206)),{inputBstackKeys}=require('../utils/userInput'),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a12_0x245d47(0x1ee)),{getDirForConfig,getCredentialsPath,getAuthHeader}=require(a12_0x245d47(0x22b)),{sendInstrumentationEvent}=require(a12_0x245d47(0x221));function a12_0x3d35(_0x36295a,_0x2d2a5d){const _0x50b6fc=a12_0x50b6();return a12_0x3d35=function(_0x3d353d,_0x19124d){_0x3d353d=_0x3d353d-0x1e4;let _0x533263=_0x50b6fc[_0x3d353d];return _0x533263;},a12_0x3d35(_0x36295a,_0x2d2a5d);}exports[a12_0x245d47(0x245)]='init',exports[a12_0x245d47(0x229)]=a12_0x245d47(0x23e),exports['builder']=function(_0x269cb){const _0xdddfae=a12_0x245d47,_0x57259b={};_0x57259b['Ggjuc']=_0xdddfae(0x1f6),_0x57259b['kAXtA']='string',_0x57259b['lRwVm']='Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.',_0x57259b[_0xdddfae(0x1f4)]=_0xdddfae(0x1f3);const _0x5803a5=_0x57259b,_0xe52bb9={};_0xe52bb9['description']=_0x5803a5[_0xdddfae(0x208)],_0xe52bb9['type']=_0x5803a5['kAXtA'];const _0x51f189={};_0x51f189[_0xdddfae(0x203)]=_0x5803a5[_0xdddfae(0x22a)],_0x51f189[_0xdddfae(0x241)]=_0x5803a5[_0xdddfae(0x22e)];const _0x2f512b={};return _0x2f512b[_0xdddfae(0x244)]=_0xe52bb9,_0x2f512b[_0xdddfae(0x1eb)]=_0x51f189,_0x269cb['usage'](HELP_HEADER_MESSAGE['init'])[_0xdddfae(0x214)](HELP_FOOTER_MESSAGE)[_0xdddfae(0x23f)](_0x2f512b)[_0xdddfae(0x1ed)]()['strict']()['help'](_0x5803a5[_0xdddfae(0x1f4)])[_0xdddfae(0x1e5)];},exports[a12_0x245d47(0x238)]=async function(_0xf97036){const _0x30ccbd=a12_0x245d47,_0x41d3de={'tFBMA':_0x30ccbd(0x1ec),'jxMsL':'Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','mLcMo':_0x30ccbd(0x1f8),'Rzcrm':_0x30ccbd(0x230),'tlmIQ':_0x30ccbd(0x1f3),'jJRIf':function(_0x174a95){return _0x174a95();},'ujnYI':function(_0x24e27b,_0x11c4ef,_0xe54d14,_0x44f638,_0x4b0759,_0x51b610,_0x5d9fdd){return _0x24e27b(_0x11c4ef,_0xe54d14,_0x44f638,_0x4b0759,_0x51b610,_0x5d9fdd);},'hqvar':_0x30ccbd(0x1fa),'kVlLi':function(_0x3a0550){return _0x3a0550();},'zQVtA':function(_0x5aa3ab,_0x7c599f){return _0x5aa3ab===_0x7c599f;},'uqwoJ':_0x30ccbd(0x224),'hAeut':_0x30ccbd(0x234),'sEylu':function(_0x16eb05,_0x194664){return _0x16eb05!==_0x194664;},'Ygjsc':_0x30ccbd(0x201),'rnBEf':_0x30ccbd(0x204),'YGGNl':_0x30ccbd(0x242),'fpfzG':'GtqUN','ogVvJ':_0x30ccbd(0x1ff),'OsGRn':function(_0xa547cf,_0x120bd9){return _0xa547cf===_0x120bd9;},'GtyhQ':_0x30ccbd(0x216),'nMbNg':function(_0x3fb5cc,_0xbc95a7){return _0x3fb5cc===_0xbc95a7;},'tJAci':'VJWtI','AUrDV':_0x30ccbd(0x200),'HtIHL':'GET','rmunl':function(_0x34204a,_0x31ce51,_0x1f0194){return _0x34204a(_0x31ce51,_0x1f0194);},'iXrVr':function(_0x8d1ded,_0x1789e5){return _0x8d1ded===_0x1789e5;},'wKUMv':function(_0x2fd3e1,_0x3167c9){return _0x2fd3e1===_0x3167c9;},'LdKGh':_0x30ccbd(0x20a),'FilwA':'BJYQE','RQzJp':function(_0x28a9d0,_0x1be40b){return _0x28a9d0!==_0x1be40b;},'QHGaS':_0x30ccbd(0x218),'SUpSd':_0x30ccbd(0x220),'ZxVaZ':_0x30ccbd(0x223),'CErzl':'wrong-creds','ojxyr':_0x30ccbd(0x20c)};try{global_registry[_0x30ccbd(0x1f5)]=_0x41d3de[_0x30ccbd(0x22d)](uuidv4),_0x41d3de[_0x30ccbd(0x21b)](sendInstrumentationEvent,_0xf97036,_0x41d3de[_0x30ccbd(0x233)],messageTypes[_0x30ccbd(0x240)],null,null,_0xf97036);const _0xa85941=_0x41d3de[_0x30ccbd(0x1ea)](getDirForConfig);!fs[_0x30ccbd(0x232)](_0xa85941)&&(_0x41d3de[_0x30ccbd(0x239)](_0x41d3de[_0x30ccbd(0x20f)],_0x41d3de['hAeut'])?_0x2424c2=_0x546bd9[_0x30ccbd(0x20d)](_0x2a6f8e['readFileSync'](_0x44ab92,_0x41d3de['tFBMA'])):fs['mkdirSync'](_0xa85941));let _0x1cd782,_0x1228ce;if(process[_0x30ccbd(0x23c)][_0x30ccbd(0x1e7)]){if(_0x41d3de['sEylu'](_0x41d3de[_0x30ccbd(0x23b)],_0x41d3de[_0x30ccbd(0x23b)])){const _0x32429e={};_0x32429e[_0x30ccbd(0x203)]=_0x41d3de[_0x30ccbd(0x1e6)],_0x32429e[_0x30ccbd(0x241)]=_0x41d3de[_0x30ccbd(0x222)];const _0x514514={};_0x514514[_0x30ccbd(0x203)]=_0x41d3de[_0x30ccbd(0x1fe)],_0x514514['type']=_0x41d3de[_0x30ccbd(0x222)];const _0x1e7935={};return _0x1e7935['bstack-username']=_0x32429e,_0x1e7935[_0x30ccbd(0x1eb)]=_0x514514,_0x505a3c[_0x30ccbd(0x231)](_0x2818a7[_0x30ccbd(0x21f)])[_0x30ccbd(0x214)](_0x55939d)[_0x30ccbd(0x23f)](_0x1e7935)['recommendCommands']()[_0x30ccbd(0x21c)]()[_0x30ccbd(0x1f3)](_0x41d3de[_0x30ccbd(0x236)])['argv'];}else _0x1cd782=process['env'][_0x30ccbd(0x1e7)];}process['env'][_0x30ccbd(0x237)]&&(_0x41d3de[_0x30ccbd(0x211)](_0x41d3de[_0x30ccbd(0x1ef)],_0x41d3de['YGGNl'])?_0x1228ce=process[_0x30ccbd(0x23c)]['BROWSERSTACK_ACCESS_KEY']:_0x5b91f9['mkdirSync'](_0x48cc5a));if(_0xf97036[_0x30ccbd(0x23d)]){if(_0x41d3de[_0x30ccbd(0x211)](_0x41d3de['fpfzG'],_0x41d3de['ogVvJ']))_0x1cd782=_0xf97036['bstackUsername'];else{let _0x19c504={};const _0x24f417=_0x41d3de[_0x30ccbd(0x22d)](_0x414ad3);_0x4ce598['existsSync'](_0x24f417)&&(_0x19c504=_0x1c7de5[_0x30ccbd(0x20d)](_0xa58b42['readFileSync'](_0x24f417,_0x41d3de['tFBMA'])));const _0x200dfa={};_0x200dfa['username']=_0x83a615,_0x200dfa[_0x30ccbd(0x1e4)]=_0x36b5dc,_0x19c504[_0x30ccbd(0x226)]=_0x200dfa,_0x47cd27[_0x30ccbd(0x1fc)](_0x24f417,_0x6c2ac5['stringify'](_0x19c504)),_0x5e7a98[_0x30ccbd(0x219)](0x0);}}_0xf97036[_0x30ccbd(0x1f0)]&&(_0x41d3de[_0x30ccbd(0x1fd)](_0x41d3de['GtyhQ'],_0x41d3de['GtyhQ'])?_0x1228ce=_0xf97036['bstackAccesskey']:_0x1c5882=_0x530956[_0x30ccbd(0x23c)][_0x30ccbd(0x1e7)]);if(_0x41d3de['nMbNg'](_0x1cd782,undefined)||_0x41d3de['zQVtA'](_0x1228ce,undefined)){if(_0x41d3de[_0x30ccbd(0x227)](_0x41d3de[_0x30ccbd(0x20e)],_0x41d3de[_0x30ccbd(0x20e)])){logger[_0x30ccbd(0x209)](_0x41d3de[_0x30ccbd(0x248)]);const [_0x692248,_0x3c14c8]=await _0x41d3de[_0x30ccbd(0x22d)](inputBstackKeys);_0x1cd782=_0x692248,_0x1228ce=_0x3c14c8;}else _0x4560c0=_0x4b75a8[_0x30ccbd(0x23c)][_0x30ccbd(0x237)];}let _0x11c1e3=![];const _0x347803=_0x30ccbd(0x1f9)+_0x1cd782+':'+_0x1228ce+'@'+BS_API_URL+'/automate/plan.json',_0x68aa86={'method':_0x41d3de['HtIHL'],'headers':_0x41d3de[_0x30ccbd(0x205)](getAuthHeader,_0x1cd782,_0x1228ce),'throwHttpErrors':![]},_0x15edb1=await _0x41d3de[_0x30ccbd(0x205)](got,_0x347803,_0x68aa86);_0x41d3de[_0x30ccbd(0x211)](_0x15edb1,null)&&_0x41d3de[_0x30ccbd(0x211)](_0x15edb1,undefined)&&_0x41d3de[_0x30ccbd(0x23a)](_0x15edb1[_0x30ccbd(0x1e8)],0xc8)&&(_0x41d3de['wKUMv'](_0x41d3de[_0x30ccbd(0x207)],_0x41d3de[_0x30ccbd(0x1e9)])?_0x5373c8=_0x3c6299['bstackAccesskey']:_0x11c1e3=!![]);if(_0x11c1e3){if(_0x41d3de[_0x30ccbd(0x22f)](_0x41d3de[_0x30ccbd(0x213)],_0x41d3de[_0x30ccbd(0x213)]))_0x1ea363=_0x1935f7[_0x30ccbd(0x23d)];else{let _0x11c96e={};const _0xc454d=_0x41d3de[_0x30ccbd(0x1ea)](getCredentialsPath);fs[_0x30ccbd(0x232)](_0xc454d)&&(_0x41d3de[_0x30ccbd(0x22f)](_0x41d3de['SUpSd'],_0x41d3de['SUpSd'])?_0x4e4372=!![]:_0x11c96e=JSON[_0x30ccbd(0x20d)](fs[_0x30ccbd(0x246)](_0xc454d,_0x41d3de[_0x30ccbd(0x210)])));const _0x519ea0={};_0x519ea0[_0x30ccbd(0x225)]=_0x1cd782,_0x519ea0[_0x30ccbd(0x1e4)]=_0x1228ce,_0x11c96e['Browserstack']=_0x519ea0,fs[_0x30ccbd(0x1fc)](_0xc454d,JSON[_0x30ccbd(0x21a)](_0x11c96e)),process[_0x30ccbd(0x219)](0x0);}}else logger[_0x30ccbd(0x212)](_0x41d3de['ZxVaZ']),await _0x41d3de[_0x30ccbd(0x21b)](sendInstrumentationEvent,_0xf97036,_0x41d3de[_0x30ccbd(0x233)],messageTypes[_0x30ccbd(0x21d)],_0x41d3de[_0x30ccbd(0x20b)],null,_0xf97036),process[_0x30ccbd(0x219)](0x1);}catch(_0x3a9cd2){logger[_0x30ccbd(0x212)](_0x3a9cd2['stack']),await _0x41d3de[_0x30ccbd(0x21b)](sendInstrumentationEvent,_0xf97036,_0x41d3de['hqvar'],messageTypes[_0x30ccbd(0x21d)],_0x41d3de[_0x30ccbd(0x21e)],_0x3a9cd2,_0xf97036),process[_0x30ccbd(0x219)](0x1);}};