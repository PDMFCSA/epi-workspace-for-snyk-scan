const a12_0x5ed69c=a12_0x1ba6;function a12_0x1ba6(_0x29a14e,_0x48c109){const _0xb18825=a12_0xb188();return a12_0x1ba6=function(_0x1ba624,_0x4a4f36){_0x1ba624=_0x1ba624-0xf1;let _0x5610cb=_0xb18825[_0x1ba624];return _0x5610cb;},a12_0x1ba6(_0x29a14e,_0x48c109);}(function(_0x2ad0f6,_0x12af8e){const _0x23194e=a12_0x1ba6,_0x27f54d=_0x2ad0f6();while(!![]){try{const _0x46123b=parseInt(_0x23194e(0x123))/0x1+parseInt(_0x23194e(0x128))/0x2+parseInt(_0x23194e(0x137))/0x3*(parseInt(_0x23194e(0x102))/0x4)+parseInt(_0x23194e(0xf6))/0x5*(-parseInt(_0x23194e(0x139))/0x6)+-parseInt(_0x23194e(0x14c))/0x7+parseInt(_0x23194e(0x133))/0x8+parseInt(_0x23194e(0x10d))/0x9*(-parseInt(_0x23194e(0xf3))/0xa);if(_0x46123b===_0x12af8e)break;else _0x27f54d['push'](_0x27f54d['shift']());}catch(_0x1445d5){_0x27f54d['push'](_0x27f54d['shift']());}}}(a12_0xb188,0x700c6));const fs=require('fs'),util=require('util'),got=require(a12_0x5ed69c(0x104)),{v4:uuidv4}=require(a12_0x5ed69c(0x14e)),{logger}=require(a12_0x5ed69c(0x115)),{inputBstackKeys}=require(a12_0x5ed69c(0x13e)),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require('../config/constants'),{getDirForConfig,getCredentialsPath,getAuthHeader}=require('../utils/utilityMethods'),{sendInstrumentationEvent}=require(a12_0x5ed69c(0x135));function a12_0xb188(){const _0x35b024=['exit','xWNuF','init','464742PxGLFK','description','type','usage','desc','YtlIi','handler','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','../config/logger','fxCPz','DdgFj','bstackUsername','builder','mIbAp','lROxm','LcHtb','env','BROWSERSTACK_USERNAME','bstack-username','mJWmg','unknown-error','readFileSync','123569axMzgF','options','bxmcK','tvhCC','vpjYo','1443544FOlWvM','eOHRV','dFAJS','Browserstack','existsSync','Pbgsl','bstackAccesskey','strict','UDXbc','argv','password','402168YwztVQ','INFO','../utils/instrumentationUtils','parse','4458ozABDP','epilogue','1493766XuxoVE','GET','Rkzvw','Nqshy','Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.','../utils/userInput','jbqVE','yRiVI','debug','sWxmM','qvAmF','utf-8','mLbsA','help','xmmAY','recommendCommands','qPlwr','qGCiK','CCqOL','4637353ykWhwf','ERROR','uuid','FdmoY','AJdve','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','LXRJc','keKfH','PYtis','username','huFBN','requestId','Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','ULodx','fsNHJ','20UvBROM','VLQGm','BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','5pZbIBx','statusCode','NrSxf','stringify','error','bstack-accesskey','mkdirSync','pahRV','WDaAT','BROWSERSTACK_ACCESS_KEY','TnilS','RhlLE','1556luuvJT','cwmEM','got','oiLQl','string','XfiOp','/automate/plan.json','XiZkM'];a12_0xb188=function(){return _0x35b024;};return a12_0xb188();}exports['command']='init',exports[a12_0x5ed69c(0x111)]=a12_0x5ed69c(0x13d),exports[a12_0x5ed69c(0x119)]=function(_0x2a0375){const _0x52e003=a12_0x5ed69c,_0x160bde={};_0x160bde[_0x52e003(0x140)]=_0x52e003(0x114),_0x160bde[_0x52e003(0x126)]=_0x52e003(0x106),_0x160bde['xWNuF']=_0x52e003(0x151),_0x160bde[_0x52e003(0x109)]='help';const _0x3473ec=_0x160bde,_0x147288={};_0x147288['description']=_0x3473ec['yRiVI'],_0x147288[_0x52e003(0x10f)]=_0x3473ec[_0x52e003(0x126)];const _0x483cb6={};_0x483cb6[_0x52e003(0x10e)]=_0x3473ec[_0x52e003(0x10b)],_0x483cb6[_0x52e003(0x10f)]=_0x3473ec[_0x52e003(0x126)];const _0x53fa27={};return _0x53fa27['bstack-username']=_0x147288,_0x53fa27['bstack-accesskey']=_0x483cb6,_0x2a0375[_0x52e003(0x110)](HELP_HEADER_MESSAGE[_0x52e003(0x10c)])[_0x52e003(0x138)](HELP_FOOTER_MESSAGE)['options'](_0x53fa27)[_0x52e003(0x148)]()[_0x52e003(0x12f)]()[_0x52e003(0x146)](_0x3473ec[_0x52e003(0x109)])['argv'];},exports[a12_0x5ed69c(0x113)]=async function(_0x271b8c){const _0x5512b8=a12_0x5ed69c,_0x5a9a3d={'vpjYo':function(_0x658b44){return _0x658b44();},'FdmoY':_0x5512b8(0x144),'cwmEM':_0x5512b8(0x114),'AJdve':_0x5512b8(0x106),'KMPES':_0x5512b8(0x151),'UDXbc':_0x5512b8(0x146),'Rkzvw':function(_0x125bd5,_0x42c8d7,_0x3ee200,_0x1553f8,_0x2d9d85,_0x2e4dff,_0x1d9437){return _0x125bd5(_0x42c8d7,_0x3ee200,_0x1553f8,_0x2d9d85,_0x2e4dff,_0x1d9437);},'huFBN':'init-called','LcHtb':function(_0x590512,_0x27bd4c){return _0x590512!==_0x27bd4c;},'fsNHJ':_0x5512b8(0x142),'NrSxf':function(_0x3d592c,_0x232c71){return _0x3d592c===_0x232c71;},'Nqshy':'hPsIB','keKfH':function(_0x3f0cc6,_0x22c518){return _0x3f0cc6===_0x22c518;},'qGCiK':_0x5512b8(0x11a),'HxsBt':function(_0x686b97,_0x54ff27){return _0x686b97===_0x54ff27;},'ULodx':'EbAsY','pahRV':_0x5512b8(0x125),'LXRJc':function(_0x149e2f,_0x4997ee){return _0x149e2f!==_0x4997ee;},'mLbsA':_0x5512b8(0x116),'Pbgsl':_0x5512b8(0x101),'oiLQl':function(_0x41e815,_0x3d4968){return _0x41e815===_0x3d4968;},'YtlIi':_0x5512b8(0x11b),'dFAJS':'kOHBi','yBMnO':_0x5512b8(0xf5),'npOXs':function(_0x19be53){return _0x19be53();},'VLQGm':_0x5512b8(0x13a),'qPlwr':function(_0x4403fb,_0x5d6d2c,_0x527156){return _0x4403fb(_0x5d6d2c,_0x527156);},'xmmAY':function(_0x3ddb8a,_0x3a8d81){return _0x3ddb8a!==_0x3a8d81;},'mJWmg':_0x5512b8(0xfe),'eOHRV':_0x5512b8(0x154),'fjlMF':_0x5512b8(0x14b),'jbqVE':'IGAnV','qvAmF':function(_0x599554){return _0x599554();},'TnilS':function(_0x35352c,_0x516d43){return _0x35352c===_0x516d43;},'KjOlq':'cXVsH','YxECC':_0x5512b8(0x158),'ftyFz':function(_0x43ea0b,_0x4f890b,_0x65aa07,_0x3f7632,_0x4ec5f7,_0x2964dc,_0x313d02){return _0x43ea0b(_0x4f890b,_0x65aa07,_0x3f7632,_0x4ec5f7,_0x2964dc,_0x313d02);},'DdgFj':'wrong-creds','XfiOp':_0x5512b8(0x121)};try{global_registry[_0x5512b8(0x157)]=_0x5a9a3d[_0x5512b8(0x127)](uuidv4),_0x5a9a3d[_0x5512b8(0x13b)](sendInstrumentationEvent,_0x271b8c,_0x5a9a3d['huFBN'],messageTypes[_0x5512b8(0x134)],null,null,_0x271b8c);const _0x3238c1=_0x5a9a3d[_0x5512b8(0x127)](getDirForConfig);!fs['existsSync'](_0x3238c1)&&(_0x5a9a3d[_0x5512b8(0x11c)](_0x5a9a3d[_0x5512b8(0xf2)],_0x5a9a3d['fsNHJ'])?_0x557e4e=_0x11929c[_0x5512b8(0x11d)][_0x5512b8(0x11e)]:fs[_0x5512b8(0xfc)](_0x3238c1));let _0x44c462,_0xcd408a;process[_0x5512b8(0x11d)][_0x5512b8(0x11e)]&&(_0x5a9a3d[_0x5512b8(0xf8)](_0x5a9a3d['Nqshy'],_0x5a9a3d[_0x5512b8(0x13c)])?_0x44c462=process[_0x5512b8(0x11d)][_0x5512b8(0x11e)]:_0x1d9a12=!![]);if(process['env']['BROWSERSTACK_ACCESS_KEY']){if(_0x5a9a3d[_0x5512b8(0x153)](_0x5a9a3d[_0x5512b8(0x14a)],_0x5a9a3d[_0x5512b8(0x14a)]))_0xcd408a=process[_0x5512b8(0x11d)][_0x5512b8(0xff)];else{let _0x1e5698={};const _0x54626f=_0x5a9a3d[_0x5512b8(0x127)](_0x58fd63);_0x2fed67[_0x5512b8(0x12c)](_0x54626f)&&(_0x1e5698=_0x46c39f['parse'](_0x431307[_0x5512b8(0x122)](_0x54626f,_0x5a9a3d[_0x5512b8(0x14f)])));const _0x43f514={};_0x43f514[_0x5512b8(0x155)]=_0x337b0d,_0x43f514['password']=_0x4ac2ef,_0x1e5698[_0x5512b8(0x12b)]=_0x43f514,_0x1da05b['writeFileSync'](_0x54626f,_0x3d0ad0['stringify'](_0x1e5698)),_0x6047fa[_0x5512b8(0x10a)](0x0);}}_0x271b8c[_0x5512b8(0x118)]&&(_0x5a9a3d['HxsBt'](_0x5a9a3d[_0x5512b8(0xf1)],_0x5a9a3d[_0x5512b8(0xfd)])?_0x3a7d39=_0x246c44[_0x5512b8(0x12e)]:_0x44c462=_0x271b8c['bstackUsername']);_0x271b8c[_0x5512b8(0x12e)]&&(_0x5a9a3d['LXRJc'](_0x5a9a3d[_0x5512b8(0x145)],_0x5a9a3d[_0x5512b8(0x12d)])?_0xcd408a=_0x271b8c[_0x5512b8(0x12e)]:_0x553424=_0xb1727f['parse'](_0xae6e73['readFileSync'](_0x5eb547,_0x5a9a3d[_0x5512b8(0x14f)])));if(_0x5a9a3d[_0x5512b8(0x153)](_0x44c462,undefined)||_0x5a9a3d['oiLQl'](_0xcd408a,undefined)){if(_0x5a9a3d['LXRJc'](_0x5a9a3d[_0x5512b8(0x112)],_0x5a9a3d[_0x5512b8(0x12a)])){logger[_0x5512b8(0x141)](_0x5a9a3d['yBMnO']);const [_0x52f7c6,_0x1b6907]=await _0x5a9a3d['npOXs'](inputBstackKeys);_0x44c462=_0x52f7c6,_0xcd408a=_0x1b6907;}else{const _0x4048b6={};_0x4048b6['description']=_0x5a9a3d[_0x5512b8(0x103)],_0x4048b6[_0x5512b8(0x10f)]=_0x5a9a3d[_0x5512b8(0x150)];const _0x174dc3={};_0x174dc3[_0x5512b8(0x10e)]=_0x5a9a3d['KMPES'],_0x174dc3[_0x5512b8(0x10f)]=_0x5a9a3d['AJdve'];const _0x102e16={};return _0x102e16[_0x5512b8(0x11f)]=_0x4048b6,_0x102e16[_0x5512b8(0xfb)]=_0x174dc3,_0x1f2f6d[_0x5512b8(0x110)](_0x16c419[_0x5512b8(0x10c)])[_0x5512b8(0x138)](_0x1abc7b)[_0x5512b8(0x124)](_0x102e16)[_0x5512b8(0x148)]()[_0x5512b8(0x12f)]()[_0x5512b8(0x146)](_0x5a9a3d[_0x5512b8(0x130)])[_0x5512b8(0x131)];}}let _0x188ef2=![];const _0x377b15='https://'+_0x44c462+':'+_0xcd408a+'@'+BS_API_URL+_0x5512b8(0x108),_0x1087cd={'method':_0x5a9a3d[_0x5512b8(0xf4)],'headers':_0x5a9a3d[_0x5512b8(0x149)](getAuthHeader,_0x44c462,_0xcd408a),'throwHttpErrors':![]},_0x9340af=await _0x5a9a3d[_0x5512b8(0x149)](got,_0x377b15,_0x1087cd);_0x5a9a3d[_0x5512b8(0x152)](_0x9340af,null)&&_0x5a9a3d['LcHtb'](_0x9340af,undefined)&&_0x5a9a3d[_0x5512b8(0x105)](_0x9340af[_0x5512b8(0xf7)],0xc8)&&(_0x5a9a3d[_0x5512b8(0x147)](_0x5a9a3d[_0x5512b8(0x120)],_0x5a9a3d[_0x5512b8(0x129)])?_0x188ef2=!![]:_0x320507[_0x5512b8(0xfc)](_0x22ce68));if(_0x188ef2){if(_0x5a9a3d[_0x5512b8(0x147)](_0x5a9a3d['fjlMF'],_0x5a9a3d[_0x5512b8(0x13f)])){let _0x22e9f0={};const _0x5005a1=_0x5a9a3d[_0x5512b8(0x143)](getCredentialsPath);fs[_0x5512b8(0x12c)](_0x5005a1)&&(_0x5a9a3d[_0x5512b8(0x100)](_0x5a9a3d['KjOlq'],_0x5a9a3d['KjOlq'])?_0x22e9f0=JSON[_0x5512b8(0x136)](fs[_0x5512b8(0x122)](_0x5005a1,_0x5a9a3d[_0x5512b8(0x14f)])):_0x3c54f1=_0x3e6ea7[_0x5512b8(0x11d)][_0x5512b8(0xff)]);const _0x3fab89={};_0x3fab89['username']=_0x44c462,_0x3fab89[_0x5512b8(0x132)]=_0xcd408a,_0x22e9f0[_0x5512b8(0x12b)]=_0x3fab89,fs['writeFileSync'](_0x5005a1,JSON[_0x5512b8(0xf9)](_0x22e9f0)),process['exit'](0x0);}else _0x532a79=_0xd88822[_0x5512b8(0x118)];}else logger['error'](_0x5a9a3d['YxECC']),await _0x5a9a3d['ftyFz'](sendInstrumentationEvent,_0x271b8c,_0x5a9a3d[_0x5512b8(0x156)],messageTypes[_0x5512b8(0x14d)],_0x5a9a3d[_0x5512b8(0x117)],null,_0x271b8c),process['exit'](0x1);}catch(_0x2c5aae){logger[_0x5512b8(0xfa)](_0x2c5aae['stack']),await _0x5a9a3d[_0x5512b8(0x13b)](sendInstrumentationEvent,_0x271b8c,_0x5a9a3d[_0x5512b8(0x156)],messageTypes[_0x5512b8(0x14d)],_0x5a9a3d[_0x5512b8(0x107)],_0x2c5aae,_0x271b8c),process[_0x5512b8(0x10a)](0x1);}};