const a12_0x471411=a12_0x2d16;function a12_0x2d16(_0x23d29a,_0x403ef3){const _0x3ec500=a12_0x3ec5();return a12_0x2d16=function(_0x2d16d7,_0x17b1fd){_0x2d16d7=_0x2d16d7-0x1ad;let _0x52026b=_0x3ec500[_0x2d16d7];return _0x52026b;},a12_0x2d16(_0x23d29a,_0x403ef3);}function a12_0x3ec5(){const _0x3d774d=['exit','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','AqcOZ','bstack-username','UMdGm','gyWhQ','parse','util','LBqTI','got','bstackAccesskey','wrong-creds','InXil','1Qifqgd','vkLdh','argv','bstack-accesskey','utf-8','writeFileSync','GET','24834WubJOd','bstackUsername','qkJGc','OrbWQ','EfmLI','BROWSERSTACK_ACCESS_KEY','uYGtn','Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','sEhCL','nvgWn','wWych','301qJYFVj','password','../config/constants','kVBdR','cEqJs','NyYGU','../utils/instrumentationUtils','VZeRd','7832440iuFrLy','string','LkexS','JdCUs','jJjtc','https://','PGlRH','ocScw','init','bugvA','env','UhJGC','2483560GTPykJ','../config/logger','command','dVydw','Browserstack','qhjAo','ERROR','options','uHCuY','jpLyR','UvDKO','2607219iHiUjs','rNjKK','usage','../utils/userInput','uuid','INFO','FfTnI','existsSync','tWCjX','pTefj','BROWSERSTACK_USERNAME','statusCode','mdIet','recommendCommands','help','readFileSync','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','UAPyU','type','685ziEsKF','mkdirSync','error','description','username','ZyIIf','epilogue','kzvBf','1132xKSXsu','267834wMCmEb','eBHNW','269046HKqGQP','requestId','Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.','builder','UlUWA'];a12_0x3ec5=function(){return _0x3d774d;};return a12_0x3ec5();}(function(_0x34b61b,_0x2e94b7){const _0x2a1021=a12_0x2d16,_0x7efb96=_0x34b61b();while(!![]){try{const _0x3a6d41=parseInt(_0x2a1021(0x1df))/0x1*(parseInt(_0x2a1021(0x1cb))/0x2)+parseInt(_0x2a1021(0x1cd))/0x3+-parseInt(_0x2a1021(0x1ca))/0x4*(parseInt(_0x2a1021(0x1c2))/0x5)+-parseInt(_0x2a1021(0x1e6))/0x6*(-parseInt(_0x2a1021(0x1f1))/0x7)+parseInt(_0x2a1021(0x205))/0x8+parseInt(_0x2a1021(0x1ae))/0x9+-parseInt(_0x2a1021(0x1f9))/0xa;if(_0x3a6d41===_0x2e94b7)break;else _0x7efb96['push'](_0x7efb96['shift']());}catch(_0x3467e6){_0x7efb96['push'](_0x7efb96['shift']());}}}(a12_0x3ec5,0x2bdf1));const fs=require('fs'),util=require(a12_0x471411(0x1d9)),got=require(a12_0x471411(0x1db)),{v4:uuidv4}=require(a12_0x471411(0x1b2)),{logger}=require(a12_0x471411(0x206)),{inputBstackKeys}=require(a12_0x471411(0x1b1)),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a12_0x471411(0x1f3)),{getDirForConfig,getCredentialsPath,getAuthHeader}=require('../utils/utilityMethods'),{sendInstrumentationEvent}=require(a12_0x471411(0x1f7));exports[a12_0x471411(0x207)]='init',exports['desc']=a12_0x471411(0x1cf),exports[a12_0x471411(0x1d0)]=function(_0x5f9b05){const _0x561ea9=a12_0x471411,_0x39d7f2={};_0x39d7f2['gyWhQ']='Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.',_0x39d7f2['ZyIIf']=_0x561ea9(0x1fa),_0x39d7f2[_0x561ea9(0x1ee)]=_0x561ea9(0x1d3),_0x39d7f2['kzvBf']=_0x561ea9(0x1bc);const _0x424be1=_0x39d7f2,_0x4b0d9a={};_0x4b0d9a['description']=_0x424be1[_0x561ea9(0x1d7)],_0x4b0d9a[_0x561ea9(0x1c1)]=_0x424be1[_0x561ea9(0x1c7)];const _0x1f107f={};_0x1f107f[_0x561ea9(0x1c5)]=_0x424be1['sEhCL'],_0x1f107f[_0x561ea9(0x1c1)]=_0x424be1[_0x561ea9(0x1c7)];const _0x41a6ea={};return _0x41a6ea[_0x561ea9(0x1d5)]=_0x4b0d9a,_0x41a6ea[_0x561ea9(0x1e2)]=_0x1f107f,_0x5f9b05[_0x561ea9(0x1b0)](HELP_HEADER_MESSAGE[_0x561ea9(0x201)])['epilogue'](HELP_FOOTER_MESSAGE)[_0x561ea9(0x20c)](_0x41a6ea)[_0x561ea9(0x1bb)]()['strict']()[_0x561ea9(0x1bc)](_0x424be1[_0x561ea9(0x1c9)])[_0x561ea9(0x1e1)];},exports['handler']=async function(_0x426306){const _0x501302=a12_0x471411,_0x305a15={'xuabh':_0x501302(0x1be),'AqcOZ':_0x501302(0x1fa),'bffJF':'Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','EIvcz':'help','JdCUs':function(_0x470189){return _0x470189();},'PGlRH':_0x501302(0x1e3),'wWych':function(_0x2c131e,_0x6e283d,_0x4a3cbe,_0x357490,_0x13aa3c,_0x2a79d3,_0x4d2808){return _0x2c131e(_0x6e283d,_0x4a3cbe,_0x357490,_0x13aa3c,_0x2a79d3,_0x4d2808);},'LkexS':'init-called','kVBdR':function(_0x3d3424,_0x5f5248){return _0x3d3424!==_0x5f5248;},'uHCuY':'dmgtE','VZeRd':_0x501302(0x204),'ocScw':function(_0x2383ce,_0x29e203){return _0x2383ce===_0x29e203;},'Atmnm':_0x501302(0x1ea),'jpLyR':_0x501302(0x1ba),'uYGtn':_0x501302(0x1f5),'qhjAo':_0x501302(0x1d1),'FfTnI':function(_0x15c473,_0x9ba7cf){return _0x15c473===_0x9ba7cf;},'NyYGU':_0x501302(0x1ef),'WyLBq':_0x501302(0x1fd),'MPnVJ':_0x501302(0x1bf),'UvDKO':function(_0x1f0226){return _0x1f0226();},'gVKHo':_0x501302(0x1e5),'vkLdh':function(_0x5389f8,_0x206b63,_0x10ce63){return _0x5389f8(_0x206b63,_0x10ce63);},'qkJGc':function(_0x3c51a0,_0x2cec98,_0x5cb3a0){return _0x3c51a0(_0x2cec98,_0x5cb3a0);},'LBqTI':function(_0x1ca944,_0x58cd3b){return _0x1ca944===_0x58cd3b;},'UAPyU':_0x501302(0x1cc),'rNjKK':'aVluy','bugvA':_0x501302(0x208),'Fgdba':function(_0x3290e0,_0x375533){return _0x3290e0!==_0x375533;},'CNTNH':_0x501302(0x1e9),'UMdGm':'PXNTm','pTefj':_0x501302(0x1ed),'tWCjX':_0x501302(0x1dd),'InXil':'unknown-error'};try{global_registry[_0x501302(0x1ce)]=_0x305a15[_0x501302(0x1fc)](uuidv4),_0x305a15[_0x501302(0x1f0)](sendInstrumentationEvent,_0x426306,_0x305a15['LkexS'],messageTypes[_0x501302(0x1b3)],null,null,_0x426306);const _0x39bab1=_0x305a15[_0x501302(0x1fc)](getDirForConfig);!fs[_0x501302(0x1b5)](_0x39bab1)&&(_0x305a15[_0x501302(0x1f4)](_0x305a15['uHCuY'],_0x305a15[_0x501302(0x20d)])?_0x5f0472=!![]:fs[_0x501302(0x1c3)](_0x39bab1));let _0x3bc3e8,_0x537e29;if(process['env'][_0x501302(0x1b8)]){if(_0x305a15[_0x501302(0x1f4)](_0x305a15[_0x501302(0x1f8)],_0x305a15[_0x501302(0x1f8)])){const _0x3fda6b={};_0x3fda6b[_0x501302(0x1c5)]=_0x305a15['xuabh'],_0x3fda6b[_0x501302(0x1c1)]=_0x305a15[_0x501302(0x1d4)];const _0x4f036b={};_0x4f036b['description']=_0x305a15['bffJF'],_0x4f036b['type']=_0x305a15[_0x501302(0x1d4)];const _0x411184={};return _0x411184[_0x501302(0x1d5)]=_0x3fda6b,_0x411184['bstack-accesskey']=_0x4f036b,_0x3022f4['usage'](_0x17e4f2[_0x501302(0x201)])[_0x501302(0x1c8)](_0x2a86a1)['options'](_0x411184)[_0x501302(0x1bb)]()['strict']()[_0x501302(0x1bc)](_0x305a15['EIvcz'])[_0x501302(0x1e1)];}else _0x3bc3e8=process[_0x501302(0x203)][_0x501302(0x1b8)];}process[_0x501302(0x203)]['BROWSERSTACK_ACCESS_KEY']&&(_0x305a15[_0x501302(0x200)](_0x305a15['Atmnm'],_0x305a15[_0x501302(0x20e)])?_0x22b69c=_0x17815d['env'][_0x501302(0x1eb)]:_0x537e29=process[_0x501302(0x203)][_0x501302(0x1eb)]);_0x426306[_0x501302(0x1e7)]&&(_0x305a15[_0x501302(0x200)](_0x305a15[_0x501302(0x1ec)],_0x305a15['uYGtn'])?_0x3bc3e8=_0x426306[_0x501302(0x1e7)]:_0xf36fce=_0x13fead['env'][_0x501302(0x1b8)]);if(_0x426306[_0x501302(0x1dc)]){if(_0x305a15['ocScw'](_0x305a15[_0x501302(0x20a)],_0x305a15[_0x501302(0x20a)]))_0x537e29=_0x426306[_0x501302(0x1dc)];else{let _0x48e74c={};const _0x5482e3=_0x305a15[_0x501302(0x1fc)](_0x5a5a03);_0x1ea582[_0x501302(0x1b5)](_0x5482e3)&&(_0x48e74c=_0x404434[_0x501302(0x1d8)](_0x25fcb9[_0x501302(0x1bd)](_0x5482e3,_0x305a15['PGlRH'])));const _0x4ee260={};_0x4ee260[_0x501302(0x1c6)]=_0x1ca770,_0x4ee260[_0x501302(0x1f2)]=_0xa0fd99,_0x48e74c[_0x501302(0x209)]=_0x4ee260,_0x152635[_0x501302(0x1e4)](_0x5482e3,_0x1ed6ff['stringify'](_0x48e74c)),_0x1f1d32[_0x501302(0x1d2)](0x0);}}if(_0x305a15[_0x501302(0x200)](_0x3bc3e8,undefined)||_0x305a15[_0x501302(0x1b4)](_0x537e29,undefined)){if(_0x305a15[_0x501302(0x1b4)](_0x305a15[_0x501302(0x1f6)],_0x305a15['WyLBq']))_0x30fb46=_0x2d0536['bstackUsername'];else{logger['debug'](_0x305a15['MPnVJ']);const [_0x4a1397,_0x19fed4]=await _0x305a15[_0x501302(0x1ad)](inputBstackKeys);_0x3bc3e8=_0x4a1397,_0x537e29=_0x19fed4;}}let _0x36917f=![];const _0x18b1e4=_0x501302(0x1fe)+_0x3bc3e8+':'+_0x537e29+'@'+BS_API_URL+'/automate/plan.json',_0xd133be={'method':_0x305a15['gVKHo'],'headers':_0x305a15[_0x501302(0x1e0)](getAuthHeader,_0x3bc3e8,_0x537e29),'throwHttpErrors':![]},_0x251d0a=await _0x305a15[_0x501302(0x1e8)](got,_0x18b1e4,_0xd133be);_0x305a15[_0x501302(0x1f4)](_0x251d0a,null)&&_0x305a15[_0x501302(0x1f4)](_0x251d0a,undefined)&&_0x305a15[_0x501302(0x1da)](_0x251d0a[_0x501302(0x1b9)],0xc8)&&(_0x305a15[_0x501302(0x1da)](_0x305a15[_0x501302(0x1c0)],_0x305a15['UAPyU'])?_0x36917f=!![]:_0x1b01ee=_0x41ad75[_0x501302(0x1dc)]);if(_0x36917f){if(_0x305a15[_0x501302(0x200)](_0x305a15[_0x501302(0x1af)],_0x305a15[_0x501302(0x202)]))_0x403ee2=_0x2a3ed1[_0x501302(0x1d8)](_0x1d13e3[_0x501302(0x1bd)](_0x3b1dc1,_0x305a15[_0x501302(0x1ff)]));else{let _0x26b44b={};const _0x57fd20=_0x305a15['UvDKO'](getCredentialsPath);fs[_0x501302(0x1b5)](_0x57fd20)&&(_0x305a15['Fgdba'](_0x305a15['CNTNH'],_0x305a15[_0x501302(0x1d6)])?_0x26b44b=JSON['parse'](fs[_0x501302(0x1bd)](_0x57fd20,_0x305a15[_0x501302(0x1ff)])):_0x197ae2[_0x501302(0x1c3)](_0x48639f));const _0x30d6b4={};_0x30d6b4[_0x501302(0x1c6)]=_0x3bc3e8,_0x30d6b4['password']=_0x537e29,_0x26b44b[_0x501302(0x209)]=_0x30d6b4,fs[_0x501302(0x1e4)](_0x57fd20,JSON['stringify'](_0x26b44b)),process[_0x501302(0x1d2)](0x0);}}else logger['error'](_0x305a15[_0x501302(0x1b7)]),await _0x305a15[_0x501302(0x1f0)](sendInstrumentationEvent,_0x426306,_0x305a15[_0x501302(0x1fb)],messageTypes[_0x501302(0x20b)],_0x305a15[_0x501302(0x1b6)],null,_0x426306),process[_0x501302(0x1d2)](0x1);}catch(_0x559949){logger[_0x501302(0x1c4)](_0x559949['stack']),await _0x305a15[_0x501302(0x1f0)](sendInstrumentationEvent,_0x426306,_0x305a15[_0x501302(0x1fb)],messageTypes[_0x501302(0x20b)],_0x305a15[_0x501302(0x1de)],_0x559949,_0x426306),process[_0x501302(0x1d2)](0x1);}};