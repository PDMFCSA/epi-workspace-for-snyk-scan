const a12_0x3500d9=a12_0x2ae2;function a12_0x2ae2(_0x3277c5,_0x4af7f8){const _0x17d87a=a12_0x17d8();return a12_0x2ae2=function(_0x2ae2cf,_0x255d24){_0x2ae2cf=_0x2ae2cf-0x1d8;let _0x219511=_0x17d87a[_0x2ae2cf];return _0x219511;},a12_0x2ae2(_0x3277c5,_0x4af7f8);}(function(_0x1f6cd4,_0x3ff986){const _0x4d3a2f=a12_0x2ae2,_0x855763=_0x1f6cd4();while(!![]){try{const _0x58cc1e=parseInt(_0x4d3a2f(0x225))/0x1*(parseInt(_0x4d3a2f(0x1ff))/0x2)+parseInt(_0x4d3a2f(0x214))/0x3*(parseInt(_0x4d3a2f(0x20a))/0x4)+parseInt(_0x4d3a2f(0x1e9))/0x5+-parseInt(_0x4d3a2f(0x1fb))/0x6+parseInt(_0x4d3a2f(0x219))/0x7*(-parseInt(_0x4d3a2f(0x206))/0x8)+parseInt(_0x4d3a2f(0x243))/0x9*(-parseInt(_0x4d3a2f(0x21b))/0xa)+parseInt(_0x4d3a2f(0x207))/0xb;if(_0x58cc1e===_0x3ff986)break;else _0x855763['push'](_0x855763['shift']());}catch(_0x1f3e5a){_0x855763['push'](_0x855763['shift']());}}}(a12_0x17d8,0x63dc8));const fs=require('fs'),util=require(a12_0x3500d9(0x1e5)),got=require(a12_0x3500d9(0x22c)),{v4:uuidv4}=require(a12_0x3500d9(0x220)),{logger}=require(a12_0x3500d9(0x20c)),{inputBstackKeys}=require('../utils/userInput'),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a12_0x3500d9(0x23b)),{getDirForConfig,getCredentialsPath,getAuthHeader}=require('../utils/utilityMethods'),{sendInstrumentationEvent}=require(a12_0x3500d9(0x215));exports[a12_0x3500d9(0x201)]=a12_0x3500d9(0x211),exports[a12_0x3500d9(0x1f1)]=a12_0x3500d9(0x1fc),exports['builder']=function(_0x3337ed){const _0x57355c=a12_0x3500d9,_0x3d30e1={};_0x3d30e1[_0x57355c(0x22a)]=_0x57355c(0x21f),_0x3d30e1[_0x57355c(0x1e0)]=_0x57355c(0x1fd),_0x3d30e1['OpqdN']='Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.',_0x3d30e1[_0x57355c(0x21c)]=_0x57355c(0x1e4);const _0x411422=_0x3d30e1,_0x30216a={};_0x30216a[_0x57355c(0x1dd)]=_0x411422[_0x57355c(0x22a)],_0x30216a['type']=_0x411422[_0x57355c(0x1e0)];const _0x18f14b={};_0x18f14b[_0x57355c(0x1dd)]=_0x411422[_0x57355c(0x238)],_0x18f14b[_0x57355c(0x232)]=_0x411422[_0x57355c(0x1e0)];const _0x16cbe7={};return _0x16cbe7[_0x57355c(0x1e3)]=_0x30216a,_0x16cbe7['bstack-accesskey']=_0x18f14b,_0x3337ed[_0x57355c(0x234)](HELP_HEADER_MESSAGE[_0x57355c(0x211)])[_0x57355c(0x1f9)](HELP_FOOTER_MESSAGE)[_0x57355c(0x1ea)](_0x16cbe7)['recommendCommands']()[_0x57355c(0x1f5)]()[_0x57355c(0x1e4)](_0x411422[_0x57355c(0x21c)])['argv'];},exports['handler']=async function(_0x26b9df){const _0x1581cf=a12_0x3500d9,_0x3226f7={'CZWLr':'Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','bvGIW':'string','EmBMS':'Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','TaHPt':_0x1581cf(0x1e4),'fkuHF':function(_0x583e8c){return _0x583e8c();},'iwyUG':_0x1581cf(0x1fa),'dzdEx':function(_0x6256fa){return _0x6256fa();},'hUzuk':function(_0x225327,_0x2e0a5e,_0x21778a,_0x22acc1,_0x5b712c,_0x4ca64c,_0x482e3d){return _0x225327(_0x2e0a5e,_0x21778a,_0x22acc1,_0x5b712c,_0x4ca64c,_0x482e3d);},'acaer':_0x1581cf(0x1e2),'ZINcG':function(_0x2b680d){return _0x2b680d();},'cMXRx':function(_0x1a4c0e,_0x289631){return _0x1a4c0e===_0x289631;},'wxbSh':_0x1581cf(0x233),'vBAwj':function(_0x51bf22,_0x44a494){return _0x51bf22!==_0x44a494;},'cJapK':_0x1581cf(0x200),'LfhnT':'Cvkov','ZXmPO':_0x1581cf(0x20b),'gRdei':_0x1581cf(0x1f2),'FVteh':function(_0xa5d848,_0x1f81c8){return _0xa5d848===_0x1f81c8;},'kRpQy':'kndpQ','GCtKr':_0x1581cf(0x230),'QSaOL':function(_0x2b5f18,_0x44e2f4){return _0x2b5f18!==_0x44e2f4;},'voaoG':'Yrvqp','BXosG':function(_0x2c5eb7,_0x550845){return _0x2c5eb7===_0x550845;},'oMPKm':function(_0x1a92f5,_0x1bcc9c){return _0x1a92f5===_0x1bcc9c;},'CDsJY':function(_0x32d7dd,_0x49d280){return _0x32d7dd!==_0x49d280;},'pAXGR':_0x1581cf(0x23a),'KkvuV':_0x1581cf(0x236),'oLukM':_0x1581cf(0x20f),'OFLSn':function(_0x162052){return _0x162052();},'hYsmH':_0x1581cf(0x218),'WwRAA':function(_0x155a88,_0x52df67,_0x4b2ca6){return _0x155a88(_0x52df67,_0x4b2ca6);},'WhOjQ':function(_0x3870da,_0x117fb1){return _0x3870da===_0x117fb1;},'oeQTd':_0x1581cf(0x23d),'bmVhv':'DZdEA','kdPMn':_0x1581cf(0x226),'sNRQc':_0x1581cf(0x1db),'kIFni':'Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','missy':_0x1581cf(0x240),'ijlPM':_0x1581cf(0x202)};try{global_registry[_0x1581cf(0x1ec)]=_0x3226f7['dzdEx'](uuidv4),_0x3226f7[_0x1581cf(0x228)](sendInstrumentationEvent,_0x26b9df,_0x3226f7[_0x1581cf(0x223)],messageTypes[_0x1581cf(0x1e1)],null,null,_0x26b9df);const _0x2b828d=_0x3226f7[_0x1581cf(0x1ed)](getDirForConfig);!fs['existsSync'](_0x2b828d)&&(_0x3226f7[_0x1581cf(0x217)](_0x3226f7['wxbSh'],_0x3226f7['wxbSh'])?fs[_0x1581cf(0x21e)](_0x2b828d):_0x308c93=_0x219ac2['env'][_0x1581cf(0x1da)]);let _0x6bb82f,_0x446027;if(process[_0x1581cf(0x20e)]['BROWSERSTACK_USERNAME']){if(_0x3226f7[_0x1581cf(0x242)](_0x3226f7[_0x1581cf(0x1ee)],_0x3226f7[_0x1581cf(0x208)]))_0x6bb82f=process[_0x1581cf(0x20e)][_0x1581cf(0x1f3)];else{const _0x4da8bd={};_0x4da8bd[_0x1581cf(0x1dd)]=_0x3226f7[_0x1581cf(0x209)],_0x4da8bd[_0x1581cf(0x232)]=_0x3226f7[_0x1581cf(0x239)];const _0x3e30c4={};_0x3e30c4[_0x1581cf(0x1dd)]=_0x3226f7[_0x1581cf(0x231)],_0x3e30c4[_0x1581cf(0x232)]=_0x3226f7[_0x1581cf(0x239)];const _0x404508={};return _0x404508[_0x1581cf(0x1e3)]=_0x4da8bd,_0x404508[_0x1581cf(0x21d)]=_0x3e30c4,_0x372ac4[_0x1581cf(0x234)](_0x2673be[_0x1581cf(0x211)])[_0x1581cf(0x1f9)](_0x3232d3)[_0x1581cf(0x1ea)](_0x404508)[_0x1581cf(0x244)]()[_0x1581cf(0x1f5)]()['help'](_0x3226f7[_0x1581cf(0x1df)])[_0x1581cf(0x1f8)];}}process[_0x1581cf(0x20e)][_0x1581cf(0x1da)]&&(_0x3226f7[_0x1581cf(0x242)](_0x3226f7[_0x1581cf(0x1f7)],_0x3226f7[_0x1581cf(0x227)])?_0x446027=process['env'][_0x1581cf(0x1da)]:_0x1d303f=_0x12593c[_0x1581cf(0x1f6)]);_0x26b9df['bstackUsername']&&(_0x3226f7[_0x1581cf(0x23c)](_0x3226f7[_0x1581cf(0x1e7)],_0x3226f7['GCtKr'])?_0x1e97da['mkdirSync'](_0x24c8a9):_0x6bb82f=_0x26b9df[_0x1581cf(0x1f6)]);_0x26b9df[_0x1581cf(0x21a)]&&(_0x3226f7[_0x1581cf(0x22d)](_0x3226f7[_0x1581cf(0x1f0)],_0x3226f7[_0x1581cf(0x1f0)])?_0x1c4f0f=!![]:_0x446027=_0x26b9df[_0x1581cf(0x21a)]);if(_0x3226f7['BXosG'](_0x6bb82f,undefined)||_0x3226f7['oMPKm'](_0x446027,undefined)){if(_0x3226f7[_0x1581cf(0x229)](_0x3226f7[_0x1581cf(0x1de)],_0x3226f7[_0x1581cf(0x1fe)])){logger[_0x1581cf(0x1e6)](_0x3226f7[_0x1581cf(0x216)]);const [_0x40b574,_0x5d0c61]=await _0x3226f7[_0x1581cf(0x241)](inputBstackKeys);_0x6bb82f=_0x40b574,_0x446027=_0x5d0c61;}else{let _0x40117e={};const _0x1b5844=_0x3226f7[_0x1581cf(0x22f)](_0x57d9fb);_0x999758[_0x1581cf(0x221)](_0x1b5844)&&(_0x40117e=_0x322728[_0x1581cf(0x222)](_0x2eafde['readFileSync'](_0x1b5844,_0x3226f7[_0x1581cf(0x22e)])));const _0x488672={};_0x488672[_0x1581cf(0x1eb)]=_0x543037,_0x488672['password']=_0x3b4bfe,_0x40117e[_0x1581cf(0x23e)]=_0x488672,_0x3124d2[_0x1581cf(0x22b)](_0x1b5844,_0xaa0c3f['stringify'](_0x40117e)),_0x5487ec[_0x1581cf(0x1d9)](0x0);}}let _0x365360=![];const _0x410191=_0x1581cf(0x1dc)+_0x6bb82f+':'+_0x446027+'@'+BS_API_URL+_0x1581cf(0x212),_0x38d5ff={'method':_0x3226f7[_0x1581cf(0x203)],'headers':_0x3226f7[_0x1581cf(0x224)](getAuthHeader,_0x6bb82f,_0x446027),'throwHttpErrors':![]},_0x51a8f2=await _0x3226f7[_0x1581cf(0x224)](got,_0x410191,_0x38d5ff);_0x3226f7[_0x1581cf(0x242)](_0x51a8f2,null)&&_0x3226f7[_0x1581cf(0x229)](_0x51a8f2,undefined)&&_0x3226f7['WhOjQ'](_0x51a8f2[_0x1581cf(0x237)],0xc8)&&(_0x3226f7[_0x1581cf(0x229)](_0x3226f7['oeQTd'],_0x3226f7[_0x1581cf(0x1e8)])?_0x228ad7=_0x5892b1[_0x1581cf(0x21a)]:_0x365360=!![]);if(_0x365360){if(_0x3226f7[_0x1581cf(0x242)](_0x3226f7[_0x1581cf(0x1ef)],_0x3226f7[_0x1581cf(0x210)])){let _0x5331dd={};const _0x9c93ec=_0x3226f7[_0x1581cf(0x241)](getCredentialsPath);fs['existsSync'](_0x9c93ec)&&(_0x3226f7[_0x1581cf(0x217)](_0x3226f7[_0x1581cf(0x20d)],_0x3226f7[_0x1581cf(0x20d)])?_0x5331dd=JSON['parse'](fs[_0x1581cf(0x213)](_0x9c93ec,_0x3226f7[_0x1581cf(0x22e)])):_0x285320=_0x1845a7[_0x1581cf(0x20e)][_0x1581cf(0x1f3)]);const _0x3de1f5={};_0x3de1f5['username']=_0x6bb82f,_0x3de1f5[_0x1581cf(0x204)]=_0x446027,_0x5331dd['Browserstack']=_0x3de1f5,fs['writeFileSync'](_0x9c93ec,JSON['stringify'](_0x5331dd)),process['exit'](0x0);}else _0x4e3e7f=_0x33286a['parse'](_0x414199[_0x1581cf(0x213)](_0x418913,_0x3226f7[_0x1581cf(0x22e)]));}else logger[_0x1581cf(0x1f4)](_0x3226f7['kIFni']),await _0x3226f7[_0x1581cf(0x228)](sendInstrumentationEvent,_0x26b9df,_0x3226f7[_0x1581cf(0x223)],messageTypes[_0x1581cf(0x235)],_0x3226f7[_0x1581cf(0x23f)],null,_0x26b9df),process[_0x1581cf(0x1d9)](0x1);}catch(_0x5ca783){logger[_0x1581cf(0x1f4)](_0x5ca783[_0x1581cf(0x205)]),await _0x3226f7[_0x1581cf(0x228)](sendInstrumentationEvent,_0x26b9df,_0x3226f7['acaer'],messageTypes[_0x1581cf(0x235)],_0x3226f7[_0x1581cf(0x1d8)],_0x5ca783,_0x26b9df),process[_0x1581cf(0x1d9)](0x1);}};function a12_0x17d8(){const _0x44e67a=['tHapZ','writeFileSync','got','QSaOL','iwyUG','fkuHF','IfKKD','EmBMS','type','HDqgJ','usage','ERROR','UdoGq','statusCode','OpqdN','bvGIW','Foytt','../config/constants','FVteh','BFNZR','Browserstack','missy','wrong-creds','OFLSn','vBAwj','9BxcEhY','recommendCommands','ijlPM','exit','BROWSERSTACK_ACCESS_KEY','fIsOv','https://','description','pAXGR','TaHPt','oaQgF','INFO','init-called','bstack-username','help','util','debug','kRpQy','oeQTd','867355WUJdwG','options','username','requestId','ZINcG','cJapK','bmVhv','voaoG','desc','bvotw','BROWSERSTACK_USERNAME','error','strict','bstackUsername','ZXmPO','argv','epilogue','utf-8','4556490CKwUjY','Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.','string','KkvuV','622992BTaxYX','pWqBC','command','unknown-error','hYsmH','password','stack','136VWFvge','18277292ixfPCX','LfhnT','CZWLr','19520TNFLwb','xAeFG','../config/logger','sNRQc','env','BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','kdPMn','init','/automate/plan.json','readFileSync','3KojrkG','../utils/instrumentationUtils','oLukM','cMXRx','GET','248934zlgdkz','bstackAccesskey','3784180uUCbBg','eyDSr','bstack-accesskey','mkdirSync','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','uuid','existsSync','parse','acaer','WwRAA','1IMmRku','AZNWr','gRdei','hUzuk','CDsJY'];a12_0x17d8=function(){return _0x44e67a;};return a12_0x17d8();}