const a12_0x9d4a73=a12_0x1833;function a12_0x1925(){const _0x1e53f3=['HVJEK','kPLPE','recommendCommands','readFileSync','5975048jKiVAH','password','parse','strict','../utils/userInput','rzMyP','wrong-creds','help','tOjRB','DnPzK','BGWej','string','../utils/utilityMethods','statusCode','BrowserStack\x20username\x20and\x20password\x20neither\x20passed\x20in\x20command\x20line\x20arguments\x20nor\x20set\x20as\x20environment\x20variables.\x20Raising\x20a\x20prompt\x20to\x20get\x20the\x20details.','rYyoj','exit','TJAGu','wMbnc','ypzbo','bstack-username','BROWSERSTACK_USERNAME','Wrong\x20credentials\x20passed.\x20Please\x20try\x20again\x20with\x20correct\x20credentials!','error','2731310wkOXAY','mevMR','Use\x20username\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','bstackUsername','env','command','BROWSERSTACK_ACCESS_KEY','type','528745crVkhE','6723856gxZuDP','vlfpe','argv','util','uuid','builder','aZsaQ','jTeqA','../utils/instrumentationUtils','tIxfc','iVikn','init','mkdirSync','bjfoZ','YorRV','LLqDb','KeZXp','description','hvtFG','NUEQh','hvddC','nKfpU','epilogue','https://','username','66wykFNb','utf-8','4TEQCGe','7OEPQVP','hVjSj','desc','960003SpqOPE','bstackAccesskey','unknown-error','iabUo','aCVFJ','ERROR','137816ngdPJE','PkkKt','existsSync','got','owYwv','fuoUX','KCKfj','RAAtE','xiarg','Browserstack','sVALp','stack','10663965MYRCtA','Use\x20corresponding\x20access-key\x20to\x20configure\x20the\x20CLI\x20for\x20future\x20actions.','eAbbj','dLQpB','usage','vJiTd','wDxed','kSgnx','TgNPN','../config/constants','bstack-accesskey','Jtkys','options','INFO','init-called'];a12_0x1925=function(){return _0x1e53f3;};return a12_0x1925();}(function(_0x7846d3,_0x28c5ce){const _0x2a5926=a12_0x1833,_0x41fa1c=_0x7846d3();while(!![]){try{const _0x1e589f=-parseInt(_0x2a5926(0x13a))/0x1+-parseInt(_0x2a5926(0x130))/0x2*(-parseInt(_0x2a5926(0x134))/0x3)+parseInt(_0x2a5926(0x159))/0x4+parseInt(_0x2a5926(0x114))/0x5*(-parseInt(_0x2a5926(0x12e))/0x6)+-parseInt(_0x2a5926(0x131))/0x7*(parseInt(_0x2a5926(0x115))/0x8)+parseInt(_0x2a5926(0x146))/0x9+-parseInt(_0x2a5926(0x10c))/0xa;if(_0x1e589f===_0x28c5ce)break;else _0x41fa1c['push'](_0x41fa1c['shift']());}catch(_0x5401ab){_0x41fa1c['push'](_0x41fa1c['shift']());}}}(a12_0x1925,0xdcb2d));const fs=require('fs'),util=require(a12_0x9d4a73(0x118)),got=require(a12_0x9d4a73(0x13d)),{v4:uuidv4}=require(a12_0x9d4a73(0x119)),{logger}=require('../config/logger'),{inputBstackKeys}=require(a12_0x9d4a73(0xf8)),{BS_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a12_0x9d4a73(0x14f)),{getDirForConfig,getCredentialsPath,getAuthHeader}=require(a12_0x9d4a73(0x100)),{sendInstrumentationEvent}=require(a12_0x9d4a73(0x11d));function a12_0x1833(_0x4a440f,_0x4ff038){const _0x1925ca=a12_0x1925();return a12_0x1833=function(_0x1833e4,_0x3c87c8){_0x1833e4=_0x1833e4-0xf7;let _0x2eaf03=_0x1925ca[_0x1833e4];return _0x2eaf03;},a12_0x1833(_0x4a440f,_0x4ff038);}exports[a12_0x9d4a73(0x111)]=a12_0x9d4a73(0x120),exports[a12_0x9d4a73(0x133)]='Initialise\x20the\x20BrowserStack\x20CLI\x20with\x20appropriate\x20credentials.',exports[a12_0x9d4a73(0x11a)]=function(_0x4ab59a){const _0x4144c5=a12_0x9d4a73,_0x48bda3={};_0x48bda3[_0x4144c5(0x11e)]=_0x4144c5(0x10e),_0x48bda3[_0x4144c5(0x10d)]=_0x4144c5(0xff),_0x48bda3['Jtkys']=_0x4144c5(0x147),_0x48bda3[_0x4144c5(0x13e)]='help';const _0x35c9f5=_0x48bda3,_0x2775fc={};_0x2775fc[_0x4144c5(0x126)]=_0x35c9f5[_0x4144c5(0x11e)],_0x2775fc[_0x4144c5(0x113)]=_0x35c9f5['mevMR'];const _0x200f61={};_0x200f61['description']=_0x35c9f5[_0x4144c5(0x151)],_0x200f61[_0x4144c5(0x113)]=_0x35c9f5[_0x4144c5(0x10d)];const _0x23aa47={};return _0x23aa47[_0x4144c5(0x108)]=_0x2775fc,_0x23aa47[_0x4144c5(0x150)]=_0x200f61,_0x4ab59a[_0x4144c5(0x14a)](HELP_HEADER_MESSAGE['init'])[_0x4144c5(0x12b)](HELP_FOOTER_MESSAGE)[_0x4144c5(0x152)](_0x23aa47)[_0x4144c5(0x157)]()[_0x4144c5(0xf7)]()[_0x4144c5(0xfb)](_0x35c9f5['owYwv'])[_0x4144c5(0x117)];},exports['handler']=async function(_0x139c9e){const _0xca123b=a12_0x9d4a73,_0x4baad5={'jTeqA':_0xca123b(0x12f),'kPLPE':_0xca123b(0x10e),'RAAtE':'string','YorRV':_0xca123b(0x147),'aCVFJ':_0xca123b(0xfb),'aZsaQ':function(_0x18b9db){return _0x18b9db();},'KeZXp':function(_0x2b00a9){return _0x2b00a9();},'hvtFG':function(_0x249bdb,_0x51d72b,_0x3277e6,_0x2d826a,_0x51f78b,_0x2ee1a3,_0x405ee7){return _0x249bdb(_0x51d72b,_0x3277e6,_0x2d826a,_0x51f78b,_0x2ee1a3,_0x405ee7);},'TJAGu':_0xca123b(0x154),'sVALp':function(_0x325276){return _0x325276();},'vJiTd':function(_0x5a7a5e,_0x2f2cee){return _0x5a7a5e===_0x2f2cee;},'tOjRB':_0xca123b(0x140),'dLQpB':function(_0x30cb85,_0x5699fd){return _0x30cb85===_0x5699fd;},'hVjSj':_0xca123b(0xfd),'iabUo':function(_0x526297,_0x6f6af4){return _0x526297!==_0x6f6af4;},'PkkKt':_0xca123b(0x14e),'fuoUX':_0xca123b(0x103),'kRiXH':'eAgea','vlfpe':_0xca123b(0xfe),'NUEQh':function(_0x393333,_0x1ce6bc){return _0x393333===_0x1ce6bc;},'rzMyP':function(_0x4bfc9c,_0x275046){return _0x4bfc9c!==_0x275046;},'eAbbj':_0xca123b(0x106),'ZPSGW':_0xca123b(0x102),'kSgnx':'GET','okjpb':function(_0x23511d,_0x1d4139,_0x107887){return _0x23511d(_0x1d4139,_0x107887);},'wDxed':'cLqdw','nKqvg':function(_0x3924d5,_0x505cec){return _0x3924d5!==_0x505cec;},'ypzbo':'NbEaa','nKfpU':_0xca123b(0x155),'hvddC':function(_0x29e869,_0x4f7eee){return _0x29e869===_0x4f7eee;},'xiarg':_0xca123b(0x122),'LLqDb':'RjoIC','iVikn':_0xca123b(0x10a),'MxWAK':_0xca123b(0xfa),'nfioK':_0xca123b(0x136)};try{global_registry['requestId']=_0x4baad5[_0xca123b(0x125)](uuidv4),_0x4baad5[_0xca123b(0x127)](sendInstrumentationEvent,_0x139c9e,_0x4baad5[_0xca123b(0x105)],messageTypes[_0xca123b(0x153)],null,null,_0x139c9e);const _0x41eb51=_0x4baad5[_0xca123b(0x144)](getDirForConfig);!fs[_0xca123b(0x13c)](_0x41eb51)&&(_0x4baad5[_0xca123b(0x14b)](_0x4baad5[_0xca123b(0xfc)],_0x4baad5[_0xca123b(0xfc)])?fs[_0xca123b(0x121)](_0x41eb51):_0x37e46a['mkdirSync'](_0x6810cc));let _0x3c4bf0,_0xbaa278;process[_0xca123b(0x110)][_0xca123b(0x109)]&&(_0x4baad5[_0xca123b(0x149)](_0x4baad5[_0xca123b(0x132)],_0x4baad5[_0xca123b(0x132)])?_0x3c4bf0=process[_0xca123b(0x110)][_0xca123b(0x109)]:_0x39e0a6=_0x53fdd5[_0xca123b(0x10f)]);process[_0xca123b(0x110)][_0xca123b(0x112)]&&(_0x4baad5[_0xca123b(0x137)](_0x4baad5[_0xca123b(0x13b)],_0x4baad5[_0xca123b(0x13b)])?_0x5bf2b7=_0x41cd5b[_0xca123b(0x15b)](_0x85207e['readFileSync'](_0x3d262b,_0x4baad5[_0xca123b(0x11c)])):_0xbaa278=process[_0xca123b(0x110)][_0xca123b(0x112)]);if(_0x139c9e['bstackUsername']){if(_0x4baad5['iabUo'](_0x4baad5[_0xca123b(0x13f)],_0x4baad5['fuoUX'])){const _0x2022ed={};_0x2022ed[_0xca123b(0x126)]=_0x4baad5[_0xca123b(0x156)],_0x2022ed[_0xca123b(0x113)]=_0x4baad5[_0xca123b(0x141)];const _0x485249={};_0x485249[_0xca123b(0x126)]=_0x4baad5[_0xca123b(0x123)],_0x485249['type']=_0x4baad5[_0xca123b(0x141)];const _0xced4cb={};return _0xced4cb[_0xca123b(0x108)]=_0x2022ed,_0xced4cb['bstack-accesskey']=_0x485249,_0x29eccf[_0xca123b(0x14a)](_0x201d60[_0xca123b(0x120)])[_0xca123b(0x12b)](_0x29f343)[_0xca123b(0x152)](_0xced4cb)[_0xca123b(0x157)]()[_0xca123b(0xf7)]()[_0xca123b(0xfb)](_0x4baad5[_0xca123b(0x138)])[_0xca123b(0x117)];}else _0x3c4bf0=_0x139c9e[_0xca123b(0x10f)];}_0x139c9e[_0xca123b(0x135)]&&(_0x4baad5[_0xca123b(0x149)](_0x4baad5['kRiXH'],_0x4baad5[_0xca123b(0x116)])?_0x31d29d=_0x33ccb9[_0xca123b(0x135)]:_0xbaa278=_0x139c9e[_0xca123b(0x135)]);if(_0x4baad5[_0xca123b(0x128)](_0x3c4bf0,undefined)||_0x4baad5[_0xca123b(0x14b)](_0xbaa278,undefined)){if(_0x4baad5[_0xca123b(0xf9)](_0x4baad5[_0xca123b(0x148)],_0x4baad5[_0xca123b(0x148)]))_0x274948=!![];else{logger['debug'](_0x4baad5['ZPSGW']);const [_0x39f25b,_0x3d942e]=await _0x4baad5['sVALp'](inputBstackKeys);_0x3c4bf0=_0x39f25b,_0xbaa278=_0x3d942e;}}let _0x298a07=![];const _0x1b32ad=_0xca123b(0x12c)+_0x3c4bf0+':'+_0xbaa278+'@'+BS_API_URL+'/automate/plan.json',_0x1a92ff={'method':_0x4baad5[_0xca123b(0x14d)],'headers':_0x4baad5['okjpb'](getAuthHeader,_0x3c4bf0,_0xbaa278),'throwHttpErrors':![]},_0xd26392=await _0x4baad5['okjpb'](got,_0x1b32ad,_0x1a92ff);_0x4baad5[_0xca123b(0xf9)](_0xd26392,null)&&_0x4baad5[_0xca123b(0xf9)](_0xd26392,undefined)&&_0x4baad5[_0xca123b(0x149)](_0xd26392[_0xca123b(0x101)],0xc8)&&(_0x4baad5[_0xca123b(0x149)](_0x4baad5['wDxed'],_0x4baad5[_0xca123b(0x14c)])?_0x298a07=!![]:_0x297ec9=_0x34fc79[_0xca123b(0x110)][_0xca123b(0x112)]);if(_0x298a07){if(_0x4baad5['nKqvg'](_0x4baad5[_0xca123b(0x107)],_0x4baad5[_0xca123b(0x12a)])){let _0x52e8bc={};const _0xd60614=_0x4baad5['aZsaQ'](getCredentialsPath);if(fs['existsSync'](_0xd60614)){if(_0x4baad5[_0xca123b(0x129)](_0x4baad5[_0xca123b(0x142)],_0x4baad5[_0xca123b(0x124)])){let _0x481391={};const _0x1fcaba=_0x4baad5[_0xca123b(0x11b)](_0x15d2c6);_0x1aedc6[_0xca123b(0x13c)](_0x1fcaba)&&(_0x481391=_0x540b3d['parse'](_0x3f3849[_0xca123b(0x158)](_0x1fcaba,_0x4baad5['jTeqA'])));const _0x8f48d4={};_0x8f48d4['username']=_0xc498fa,_0x8f48d4[_0xca123b(0x15a)]=_0x27a170,_0x481391[_0xca123b(0x143)]=_0x8f48d4,_0x6c9501['writeFileSync'](_0x1fcaba,_0x1160d2['stringify'](_0x481391)),_0x3ecbf1[_0xca123b(0x104)](0x0);}else _0x52e8bc=JSON[_0xca123b(0x15b)](fs[_0xca123b(0x158)](_0xd60614,_0x4baad5[_0xca123b(0x11c)]));}const _0x2a1f1a={};_0x2a1f1a[_0xca123b(0x12d)]=_0x3c4bf0,_0x2a1f1a[_0xca123b(0x15a)]=_0xbaa278,_0x52e8bc['Browserstack']=_0x2a1f1a,fs['writeFileSync'](_0xd60614,JSON['stringify'](_0x52e8bc)),process['exit'](0x0);}else _0x28be7b=_0x59e2bd['env'][_0xca123b(0x109)];}else logger[_0xca123b(0x10b)](_0x4baad5[_0xca123b(0x11f)]),await _0x4baad5[_0xca123b(0x127)](sendInstrumentationEvent,_0x139c9e,_0x4baad5[_0xca123b(0x105)],messageTypes['ERROR'],_0x4baad5['MxWAK'],null,_0x139c9e),process[_0xca123b(0x104)](0x1);}catch(_0x449df7){logger[_0xca123b(0x10b)](_0x449df7[_0xca123b(0x145)]),await _0x4baad5['hvtFG'](sendInstrumentationEvent,_0x139c9e,_0x4baad5[_0xca123b(0x105)],messageTypes[_0xca123b(0x139)],_0x4baad5['nfioK'],_0x449df7,_0x139c9e),process[_0xca123b(0x104)](0x1);}};