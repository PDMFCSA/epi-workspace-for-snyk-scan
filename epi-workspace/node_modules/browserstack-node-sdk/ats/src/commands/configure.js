const a5_0x3f9d39=a5_0x5a3e;function a5_0x5a3e(_0x59fc96,_0x5e7dc0){const _0x5acf39=a5_0x5acf();return a5_0x5a3e=function(_0x5a3e7e,_0x1749db){_0x5a3e7e=_0x5a3e7e-0xf7;let _0x451021=_0x5acf39[_0x5a3e7e];return _0x451021;},a5_0x5a3e(_0x59fc96,_0x5e7dc0);}(function(_0x3f0ec6,_0x4158af){const _0x17b8ba=a5_0x5a3e,_0x21c45e=_0x3f0ec6();while(!![]){try{const _0x455b53=-parseInt(_0x17b8ba(0x124))/0x1+-parseInt(_0x17b8ba(0x120))/0x2*(-parseInt(_0x17b8ba(0xfd))/0x3)+parseInt(_0x17b8ba(0x11c))/0x4+parseInt(_0x17b8ba(0x14a))/0x5*(-parseInt(_0x17b8ba(0x13f))/0x6)+-parseInt(_0x17b8ba(0x10c))/0x7+-parseInt(_0x17b8ba(0x15b))/0x8*(parseInt(_0x17b8ba(0x104))/0x9)+-parseInt(_0x17b8ba(0x12a))/0xa*(-parseInt(_0x17b8ba(0x11f))/0xb);if(_0x455b53===_0x4158af)break;else _0x21c45e['push'](_0x21c45e['shift']());}catch(_0x582c5f){_0x21c45e['push'](_0x21c45e['shift']());}}}(a5_0x5acf,0x5777f));function a5_0x5acf(){const _0x2dfaac=['help','profileId','argv','../config/constants','username','Failed\x20to\x20update\x20grid\x20profile.\x20Unauthorized\x20request!','wfayh','toLowerCase','usage','configure','748705VmIHSB','Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','PUT','stringify','Browserstack','Updated\x20default\x20Grid\x20Profile\x20successfully','init-not-called','RmaDI','TIMCG','Elhpi','nWXgo','qLdGc','handler','gQhBg','\x0aCurrent\x20configured\x20automation\x20grid\x20settings\x20are:','invalid-input','RpwZI','69016lwtyZV','LXwBu','name','Nbkqu','gBoPy','INFO','OfGYr','ERROR','body','21pLvTlr','Failed\x20to\x20update\x20grid\x20profile.\x20Response\x20from\x20server:\x20','OBcpD','GET','../utils/utilityMethods','qJAxl','cKtvj','513oQomSN','epilogue','imSIi','https://','json','nUngv','configure-called','yVojF','1786379HmlitI','qGGiU','QANIQ','unauthorised','recommendCommands','sXbic','stack','Do\x20you\x20want\x20to\x20change\x20the\x20default\x20grid-profile\x20(y/n)?','\x20\x20username:\x20','existsSync','oeoVz','Jmjvc','requestId','unknown-error','What\x20Grid\x20profile\x20will\x20you\x20make\x20as\x20default?','got','755488Xyvkrm','KWqez','statusCode','62007GtTrpg','189734LCpWBM','list','Kpcem','JnZny','431548bYriiV','password','length','HVDiB','error','strict','2010xLfYJp','bJWdy','jVQwx','YEuOi','aCSXZ','ZEvrU','ZeWbY','active','log','nEtmf','OQsJm','lcaAo','server-error','builder','utXFC','RsEVy','LufFB','vuEcb','desc','exit','core:','18KudAUr'];a5_0x5acf=function(){return _0x2dfaac;};return a5_0x5acf();}const fs=require('fs'),got=require(a5_0x3f9d39(0x11b)),{v4:uuidv4}=require('uuid'),{inputConfirmation,closeInput}=require('../utils/userInput'),{AG_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a5_0x3f9d39(0x143)),{getCredentialsPath,getAuthHeader}=require(a5_0x3f9d39(0x101)),{sendInstrumentationEvent}=require('../utils/instrumentationUtils');exports['command']=a5_0x3f9d39(0x149),exports[a5_0x3f9d39(0x13c)]='Configure\x20the\x20default\x20automation\x20grid\x20profiles\x20on\x20BrowserStack\x20CLI.',exports[a5_0x3f9d39(0x137)]=function(_0x43a415){const _0x1e0b83=a5_0x3f9d39,_0x2106c9={};_0x2106c9[_0x1e0b83(0xf7)]=_0x1e0b83(0x140);const _0x1bbde0=_0x2106c9;return _0x43a415[_0x1e0b83(0x148)](HELP_HEADER_MESSAGE[_0x1e0b83(0x149)])[_0x1e0b83(0x105)](HELP_FOOTER_MESSAGE)['help'](_0x1bbde0[_0x1e0b83(0xf7)])[_0x1e0b83(0x110)]()[_0x1e0b83(0x129)]()[_0x1e0b83(0x142)];},exports[a5_0x3f9d39(0x156)]=async function(_0xa56bbd){const _0x1c7d46=a5_0x3f9d39,_0x26ef18={'LXwBu':function(_0x7b8f57){return _0x7b8f57();},'Elhpi':function(_0x2fbf54){return _0x2fbf54();},'orvxJ':'Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','cKtvj':function(_0x475208,_0x43d399,_0x50d028,_0x2a47f0,_0x5d53b0,_0x105c9d,_0x2e555f){return _0x475208(_0x43d399,_0x50d028,_0x2a47f0,_0x5d53b0,_0x105c9d,_0x2e555f);},'nWXgo':_0x1c7d46(0x10a),'ZeWbY':_0x1c7d46(0x150),'Jmjvc':function(_0xd3ef92,_0x2f5ab0,_0x4e173d,_0x492cd1,_0x5385d6,_0x5090d8,_0x5b7870){return _0xd3ef92(_0x2f5ab0,_0x4e173d,_0x492cd1,_0x5385d6,_0x5090d8,_0x5b7870);},'ActfC':_0x1c7d46(0x100),'qGGiU':function(_0x4e3afa,_0x34fc87,_0x3eec52){return _0x4e3afa(_0x34fc87,_0x3eec52);},'LufFB':function(_0x1aee70,_0x150e08){return _0x1aee70!==_0x150e08;},'fEgIA':function(_0x23a6ff,_0x5c168c){return _0x23a6ff!==_0x5c168c;},'OBcpD':function(_0x39ec87,_0x455639){return _0x39ec87===_0x455639;},'YEuOi':_0x1c7d46(0x158),'qJAxl':_0x1c7d46(0x13e),'QANIQ':function(_0x3daf18,_0x1b8d22){return _0x3daf18(_0x1b8d22);},'HVDiB':_0x1c7d46(0x113),'qLdGc':function(_0x16ad84,_0x30a9ed){return _0x16ad84===_0x30a9ed;},'RsEVy':function(_0x2ce7f4,_0x4c4b82){return _0x2ce7f4===_0x4c4b82;},'OQsJm':'Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','nEtmf':function(_0x46566f,_0x3fd5da,_0x3c7ec3,_0x248972,_0x209942,_0x2c877c,_0x593e7f){return _0x46566f(_0x3fd5da,_0x3c7ec3,_0x248972,_0x209942,_0x2c877c,_0x593e7f);},'bJWdy':_0x1c7d46(0x159),'wfayh':_0x1c7d46(0x11a),'aCSXZ':function(_0x11e533,_0x3d1deb){return _0x11e533<_0x3d1deb;},'jVQwx':function(_0x1ffabe,_0x6ae840){return _0x1ffabe+_0x6ae840;},'KWqez':function(_0x806679,_0x39181b){return _0x806679(_0x39181b);},'ZEvrU':'Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item)','nPvNq':function(_0x33b6aa,_0x5aca3b){return _0x33b6aa(_0x5aca3b);},'sXbic':function(_0x39738a,_0x6c7ca6){return _0x39738a<=_0x6c7ca6;},'xAyOc':function(_0x51c071,_0x3efbd3){return _0x51c071>_0x3efbd3;},'RpwZI':'invalid-selection','TIMCG':function(_0x2aefa7,_0x4dd2d8){return _0x2aefa7-_0x4dd2d8;},'lcaAo':_0x1c7d46(0x14c),'gBoPy':function(_0x5cd53f,_0x36b5f0,_0x1f2446){return _0x5cd53f(_0x36b5f0,_0x1f2446);},'utXFC':_0x1c7d46(0x108),'imSIi':function(_0x2fea09,_0x1c18ed){return _0x2fea09===_0x1c18ed;},'vuEcb':_0x1c7d46(0x14f),'JnZny':function(_0x55b01a,_0x3c6782){return _0x55b01a===_0x3c6782;},'gQhBg':_0x1c7d46(0x145),'yVojF':function(_0x499de6,_0x43f02e,_0x3ba132,_0x55fc15,_0xff4b53,_0x169b75,_0x45023e){return _0x499de6(_0x43f02e,_0x3ba132,_0x55fc15,_0xff4b53,_0x169b75,_0x45023e);},'nUngv':_0x1c7d46(0x10f),'fuPbP':function(_0x596d95,_0x536f3e,_0x50f635,_0x61fb56,_0x50d040,_0x5d1fac,_0x1d3a91){return _0x596d95(_0x536f3e,_0x50f635,_0x61fb56,_0x50d040,_0x5d1fac,_0x1d3a91);},'RmaDI':_0x1c7d46(0x136),'oeoVz':_0x1c7d46(0x14b),'OfGYr':function(_0x2499c4,_0x47c4d2,_0x5e24d6,_0x2416a5,_0x4ffd6f,_0x45cc64,_0x527039){return _0x2499c4(_0x47c4d2,_0x5e24d6,_0x2416a5,_0x4ffd6f,_0x45cc64,_0x527039);},'Kpcem':_0x1c7d46(0x119)};try{global_registry[_0x1c7d46(0x118)]=_0x26ef18[_0x1c7d46(0x15c)](uuidv4);const _0x41202e=_0x1c7d46(0x107)+AG_API_URL+'/packages/cli/configure';!fs[_0x1c7d46(0x115)](_0x26ef18['Elhpi'](getCredentialsPath))&&(console['error'](_0x26ef18['orvxJ']),await _0x26ef18[_0x1c7d46(0x103)](sendInstrumentationEvent,_0xa56bbd,_0x26ef18['nWXgo'],messageTypes['ERROR'],_0x26ef18[_0x1c7d46(0x130)],null,_0xa56bbd),process[_0x1c7d46(0x13d)](0x1));await _0x26ef18[_0x1c7d46(0x117)](sendInstrumentationEvent,_0xa56bbd,_0x26ef18[_0x1c7d46(0x154)],messageTypes[_0x1c7d46(0xf9)],null,null,_0xa56bbd);const _0x1ff9a2=JSON['parse'](fs['readFileSync'](_0x26ef18[_0x1c7d46(0x153)](getCredentialsPath))),_0x19a443={'method':_0x26ef18['ActfC'],'headers':_0x26ef18['qGGiU'](getAuthHeader,_0x1ff9a2[_0x1c7d46(0x14e)][_0x1c7d46(0x144)],_0x1ff9a2[_0x1c7d46(0x14e)][_0x1c7d46(0x125)]),'throwHttpErrors':![]},_0x3e2a82=await _0x26ef18['qGGiU'](got,_0x41202e,_0x19a443);if(_0x26ef18[_0x1c7d46(0x13a)](_0x3e2a82,null)&&_0x26ef18['fEgIA'](_0x3e2a82,undefined)&&_0x26ef18['OBcpD'](_0x3e2a82[_0x1c7d46(0x11e)],0xc8)){const _0x8fa375=JSON['parse'](_0x3e2a82[_0x1c7d46(0xfc)]);console[_0x1c7d46(0x132)](_0x26ef18[_0x1c7d46(0x12d)]),console[_0x1c7d46(0x132)](_0x26ef18[_0x1c7d46(0x102)]),console['log'](_0x1c7d46(0x114)+_0x1ff9a2[_0x1c7d46(0x14e)][_0x1c7d46(0x144)]),console[_0x1c7d46(0x132)]('\x20\x20grid-profile:\x20'+_0x8fa375[_0x1c7d46(0x131)][_0x1c7d46(0x15d)]);const _0xd8157d=await _0x26ef18[_0x1c7d46(0x10e)](inputConfirmation,_0x26ef18[_0x1c7d46(0x127)]);(_0x26ef18[_0x1c7d46(0xff)](_0xd8157d,undefined)||_0x26ef18['qLdGc'](_0xd8157d,null)||!(_0x26ef18[_0x1c7d46(0x155)](_0xd8157d[_0x1c7d46(0x147)](),'y')||_0x26ef18[_0x1c7d46(0x139)](_0xd8157d[_0x1c7d46(0x147)](),'n')))&&(console[_0x1c7d46(0x128)](_0x26ef18['OQsJm']),await _0x26ef18[_0x1c7d46(0x133)](sendInstrumentationEvent,_0xa56bbd,_0x26ef18[_0x1c7d46(0x154)],messageTypes[_0x1c7d46(0xfb)],_0x26ef18[_0x1c7d46(0x12b)],null,_0xa56bbd),process[_0x1c7d46(0x13d)](0x1));_0x26ef18['RsEVy'](_0xd8157d['toLowerCase'](),'n')&&process[_0x1c7d46(0x13d)](0x0);console[_0x1c7d46(0x132)](_0x26ef18[_0x1c7d46(0x146)]);const _0x43bb84=_0x8fa375[_0x1c7d46(0x121)][_0x1c7d46(0x126)];for(let _0x19f575=0x0;_0x26ef18[_0x1c7d46(0x12e)](_0x19f575,_0x43bb84);_0x19f575+=0x1){console[_0x1c7d46(0x132)]('['+_0x26ef18[_0x1c7d46(0x12c)](_0x19f575,0x1)+']\x20'+_0x8fa375['list'][_0x19f575][_0x1c7d46(0x15d)]);}const _0x2a1b6e=await _0x26ef18['KWqez'](inputConfirmation,_0x26ef18[_0x1c7d46(0x12f)]),_0x2f4b40=_0x26ef18['nPvNq'](Number,_0x2a1b6e);(_0x26ef18[_0x1c7d46(0x11d)](isNaN,_0x2f4b40)||_0x26ef18[_0x1c7d46(0x111)](_0x2f4b40,0x0)||_0x26ef18['xAyOc'](_0x2f4b40,_0x43bb84))&&(console[_0x1c7d46(0x128)](_0x26ef18[_0x1c7d46(0x134)]),await _0x26ef18['Jmjvc'](sendInstrumentationEvent,_0xa56bbd,_0x26ef18['nWXgo'],messageTypes['ERROR'],_0x26ef18[_0x1c7d46(0x15a)],null,_0xa56bbd),process[_0x1c7d46(0x13d)](0x1));_0x26ef18[_0x1c7d46(0x153)](closeInput);const _0x358928=_0x8fa375['list'][_0x26ef18[_0x1c7d46(0x152)](_0x2f4b40,0x1)]['id'],_0x16430b={};_0x16430b[_0x1c7d46(0x141)]=_0x358928;const _0x1aa357={'method':_0x26ef18[_0x1c7d46(0x135)],'headers':_0x26ef18[_0x1c7d46(0xf8)](getAuthHeader,_0x1ff9a2[_0x1c7d46(0x14e)][_0x1c7d46(0x144)],_0x1ff9a2[_0x1c7d46(0x14e)][_0x1c7d46(0x125)]),'json':_0x16430b,'responseType':_0x26ef18[_0x1c7d46(0x138)],'throwHttpErrors':![]},_0x1e5b26=await _0x26ef18[_0x1c7d46(0x10d)](got,_0x41202e,_0x1aa357);_0x26ef18['LufFB'](_0x1e5b26,null)&&_0x26ef18['fEgIA'](_0x1e5b26,undefined)&&_0x26ef18[_0x1c7d46(0x106)](_0x1e5b26[_0x1c7d46(0x11e)],0xc8)&&(console[_0x1c7d46(0x132)](_0x26ef18[_0x1c7d46(0x13b)]),process['exit'](0x0)),_0x26ef18[_0x1c7d46(0x123)](_0x1e5b26[_0x1c7d46(0x11e)],0x191)&&(console[_0x1c7d46(0x128)](_0x26ef18[_0x1c7d46(0x157)]),await _0x26ef18[_0x1c7d46(0x10b)](sendInstrumentationEvent,_0xa56bbd,_0x26ef18['nWXgo'],messageTypes[_0x1c7d46(0xfb)],_0x26ef18[_0x1c7d46(0x109)],null,_0xa56bbd),process['exit'](0x1)),console[_0x1c7d46(0x128)](_0x1c7d46(0xfe)+JSON[_0x1c7d46(0x14d)](_0x1e5b26)),await _0x26ef18['fuPbP'](sendInstrumentationEvent,_0xa56bbd,_0x26ef18[_0x1c7d46(0x154)],messageTypes[_0x1c7d46(0xfb)],_0x26ef18['RmaDI'],_0x1e5b26,_0xa56bbd),process[_0x1c7d46(0x13d)](0x1);}_0x26ef18['JnZny'](_0x3e2a82[_0x1c7d46(0x11e)],0x191)&&(console['error'](_0x26ef18[_0x1c7d46(0x116)]),await _0x26ef18[_0x1c7d46(0x10b)](sendInstrumentationEvent,_0xa56bbd,_0x26ef18[_0x1c7d46(0x154)],messageTypes['ERROR'],_0x26ef18[_0x1c7d46(0x109)],null,_0xa56bbd),process[_0x1c7d46(0x13d)](0x1)),console[_0x1c7d46(0x128)]('Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20'+JSON['stringify'](_0x3e2a82)),await _0x26ef18[_0x1c7d46(0xfa)](sendInstrumentationEvent,_0xa56bbd,_0x26ef18[_0x1c7d46(0x154)],messageTypes[_0x1c7d46(0xfb)],_0x26ef18[_0x1c7d46(0x151)],_0x3e2a82,_0xa56bbd),process[_0x1c7d46(0x13d)](0x1);}catch(_0x3d8f02){console[_0x1c7d46(0x128)]('Failed\x20to\x20configure\x20resources!\x20Error:\x20'+_0x3d8f02[_0x1c7d46(0x112)]),await _0x26ef18['OfGYr'](sendInstrumentationEvent,_0xa56bbd,_0x26ef18[_0x1c7d46(0x154)],messageTypes['ERROR'],_0x26ef18[_0x1c7d46(0x122)],_0x3d8f02,_0xa56bbd),process['exit'](0x1);}};