const a5_0x3421d2=a5_0x14db;function a5_0x14db(_0x19c7a0,_0x298767){const _0x1f0f1e=a5_0x1f0f();return a5_0x14db=function(_0x14dbfa,_0x1c84ee){_0x14dbfa=_0x14dbfa-0x194;let _0x4b2f17=_0x1f0f1e[_0x14dbfa];return _0x4b2f17;},a5_0x14db(_0x19c7a0,_0x298767);}function a5_0x1f0f(){const _0x29caca=['EKmyq','jWfoh','INFO','28YvLeWd','../utils/instrumentationUtils','yITsx','requestId','NqWWm','Configure\x20the\x20default\x20automation\x20grid\x20profiles\x20on\x20BrowserStack\x20CLI.','profileId','invalid-input','2160780HxeADq','epilogue','isyay','../config/constants','wLUkW','Browserstack','uuid','317350YHbiKN','6450190TLWyZA','Failed\x20to\x20configure\x20resources!\x20Error:\x20','builder','/packages/cli/configure','exit','password','bVKLP','GelFM','SeBwu','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','tliZj','Failed\x20to\x20update\x20grid\x20profile.\x20Unauthorized\x20request!','CXcdy','154938mCoTAQ','desc','hSdDN','oEjzq','statusCode','stringify','json','PvaGX','length','\x20\x20username:\x20','116McNKmQ','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item)','zZchq','error','xSXRp','313687GGBTit','PUT','63LIxoRX','Kfcdi','argv','existsSync','server-error','handler','log','SjWQo','VrDuF','OlmrA','HdUvg','Do\x20you\x20want\x20to\x20change\x20the\x20default\x20grid-profile\x20(y/n)?','ecJAc','Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','toLowerCase','YiOCt','core:','hnoYK','invalid-selection','yPgZB','rfvOS','sbHEi','\x0aCurrent\x20configured\x20automation\x20grid\x20settings\x20are:','GET','520PYKvVv','../utils/utilityMethods','name','1718082JXVIYE','ERROR','jrPLg','parse','usage','hWHBv','active','htkdO','Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','init-not-called','qbZJc','username','sGkYp','list','535112YFdfke','configure-called','LaLCD','cNpuv','configure','help','strict','unknown-error','jxvsW','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','MKWmd','veesc'];a5_0x1f0f=function(){return _0x29caca;};return a5_0x1f0f();}(function(_0x68b831,_0x3b0ade){const _0x25896b=a5_0x14db,_0x715d60=_0x68b831();while(!![]){try{const _0x39da3c=-parseInt(_0x25896b(0x1ed))/0x1+parseInt(_0x25896b(0x1c1))/0x2+parseInt(_0x25896b(0x195))/0x3*(-parseInt(_0x25896b(0x19f))/0x4)+parseInt(_0x25896b(0x1ee))/0x5+parseInt(_0x25896b(0x1e6))/0x6*(-parseInt(_0x25896b(0x1de))/0x7)+-parseInt(_0x25896b(0x1cf))/0x8*(-parseInt(_0x25896b(0x1a6))/0x9)+-parseInt(_0x25896b(0x1be))/0xa*(-parseInt(_0x25896b(0x1a4))/0xb);if(_0x39da3c===_0x3b0ade)break;else _0x715d60['push'](_0x715d60['shift']());}catch(_0x2ba95d){_0x715d60['push'](_0x715d60['shift']());}}}(a5_0x1f0f,0xce326));const fs=require('fs'),got=require('got'),{v4:uuidv4}=require(a5_0x3421d2(0x1ec)),{inputConfirmation,closeInput}=require('../utils/userInput'),{AG_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a5_0x3421d2(0x1e9)),{getCredentialsPath,getAuthHeader}=require(a5_0x3421d2(0x1bf)),{sendInstrumentationEvent}=require(a5_0x3421d2(0x1df));exports['command']=a5_0x3421d2(0x1d3),exports[a5_0x3421d2(0x196)]=a5_0x3421d2(0x1e3),exports[a5_0x3421d2(0x1f0)]=function(_0x2e21e0){const _0xf47a47=a5_0x3421d2,_0x421370={};_0x421370[_0xf47a47(0x1b9)]=_0xf47a47(0x1d4);const _0x2d9c1a=_0x421370;return _0x2e21e0[_0xf47a47(0x1c5)](HELP_HEADER_MESSAGE[_0xf47a47(0x1d3)])[_0xf47a47(0x1e7)](HELP_FOOTER_MESSAGE)[_0xf47a47(0x1d4)](_0x2d9c1a['yPgZB'])['recommendCommands']()[_0xf47a47(0x1d5)]()[_0xf47a47(0x1a8)];},exports[a5_0x3421d2(0x1ab)]=async function(_0x219ac1){const _0x3272d6=a5_0x3421d2,_0xcbccd0={'zZchq':function(_0xe13afc){return _0xe13afc();},'tgkce':_0x3272d6(0x1f7),'HdUvg':function(_0x39f465,_0x5ea9a9,_0x5cd273,_0x3ae351,_0x23ae72,_0x62bf9,_0x45b306){return _0x39f465(_0x5ea9a9,_0x5cd273,_0x3ae351,_0x23ae72,_0x62bf9,_0x45b306);},'cNpuv':_0x3272d6(0x1d0),'dozKG':_0x3272d6(0x1ca),'bVKLP':_0x3272d6(0x1bd),'yITsx':function(_0x182b60,_0x12e417,_0xabd736){return _0x182b60(_0x12e417,_0xabd736);},'LaLCD':function(_0x3d3eb3,_0x4fa745){return _0x3d3eb3!==_0x4fa745;},'YiOCt':function(_0x50a4c0,_0x4ec28f){return _0x50a4c0!==_0x4ec28f;},'CXcdy':function(_0x158196,_0x4b72e9){return _0x158196===_0x4b72e9;},'SjWQo':_0x3272d6(0x1bc),'rfvOS':_0x3272d6(0x1b6),'jrPLg':function(_0x4ff3ef,_0x2a0fc5){return _0x4ff3ef(_0x2a0fc5);},'jxvsW':_0x3272d6(0x1b1),'GelFM':function(_0x999257,_0x3d92f0){return _0x999257===_0x3d92f0;},'Kfcdi':function(_0xb272d8,_0x32a15f){return _0xb272d8===_0x32a15f;},'sGkYp':_0x3272d6(0x1d8),'sbHEi':_0x3272d6(0x1e5),'oEjzq':function(_0x492890,_0x203565){return _0x492890===_0x203565;},'GfPfY':'What\x20Grid\x20profile\x20will\x20you\x20make\x20as\x20default?','EKmyq':function(_0x27c020,_0xaa965e){return _0x27c020<_0xaa965e;},'bahqn':function(_0x19d806,_0x481b3e){return _0x19d806+_0x481b3e;},'htkdO':function(_0x2267a6,_0x2267eb){return _0x2267a6(_0x2267eb);},'VrDuF':_0x3272d6(0x1a0),'jeYwX':function(_0x282ee7,_0x3b242b){return _0x282ee7(_0x3b242b);},'jWfoh':function(_0x14a545,_0x565af3){return _0x14a545<=_0x565af3;},'hSdDN':function(_0x511029,_0x4e2354){return _0x511029>_0x4e2354;},'veesc':function(_0x1c1946,_0x31a56b,_0x58eb8e,_0x660442,_0x4f04d9,_0x2e6cec,_0x18000e){return _0x1c1946(_0x31a56b,_0x58eb8e,_0x660442,_0x4f04d9,_0x2e6cec,_0x18000e);},'xSXRp':_0x3272d6(0x1b8),'MKWmd':function(_0x547898,_0x493dbc){return _0x547898-_0x493dbc;},'OlmrA':_0x3272d6(0x1a5),'PvaGX':_0x3272d6(0x19b),'CQyni':function(_0x5985d7,_0x55cbcf){return _0x5985d7!==_0x55cbcf;},'ecJAc':function(_0x37fadd,_0x4581bb){return _0x37fadd===_0x4581bb;},'wLUkW':'Updated\x20default\x20Grid\x20Profile\x20successfully','tliZj':function(_0x1e30d3,_0x377d3c){return _0x1e30d3===_0x377d3c;},'SeBwu':_0x3272d6(0x1f9),'qbZJc':'unauthorised','hnoYK':function(_0x1b3062,_0x3e71e7,_0x2290dc,_0xa0e273,_0x34e755,_0x292df6,_0x2752cd){return _0x1b3062(_0x3e71e7,_0x2290dc,_0xa0e273,_0x34e755,_0x292df6,_0x2752cd);},'Uumlp':_0x3272d6(0x1aa),'BLrCl':function(_0x2ea8ef,_0x2e9085){return _0x2ea8ef===_0x2e9085;},'isyay':_0x3272d6(0x1b3),'NqWWm':function(_0x4aaa6a,_0x30ef2e,_0x507a42,_0x34573b,_0x138f43,_0x565529,_0x35606d){return _0x4aaa6a(_0x30ef2e,_0x507a42,_0x34573b,_0x138f43,_0x565529,_0x35606d);},'hWHBv':_0x3272d6(0x1d6)};try{global_registry[_0x3272d6(0x1e1)]=_0xcbccd0['zZchq'](uuidv4);const _0x45e6a3='https://'+AG_API_URL+_0x3272d6(0x1f1);!fs[_0x3272d6(0x1a9)](_0xcbccd0[_0x3272d6(0x1a1)](getCredentialsPath))&&(console['error'](_0xcbccd0['tgkce']),await _0xcbccd0[_0x3272d6(0x1b0)](sendInstrumentationEvent,_0x219ac1,_0xcbccd0[_0x3272d6(0x1d2)],messageTypes[_0x3272d6(0x1c2)],_0xcbccd0['dozKG'],null,_0x219ac1),process[_0x3272d6(0x1f2)](0x1));await _0xcbccd0[_0x3272d6(0x1b0)](sendInstrumentationEvent,_0x219ac1,_0xcbccd0[_0x3272d6(0x1d2)],messageTypes[_0x3272d6(0x1dd)],null,null,_0x219ac1);const _0x2402ce=JSON[_0x3272d6(0x1c4)](fs['readFileSync'](_0xcbccd0[_0x3272d6(0x1a1)](getCredentialsPath))),_0x4bd275={'method':_0xcbccd0[_0x3272d6(0x1f4)],'headers':_0xcbccd0[_0x3272d6(0x1e0)](getAuthHeader,_0x2402ce['Browserstack'][_0x3272d6(0x1cc)],_0x2402ce['Browserstack'][_0x3272d6(0x1f3)]),'throwHttpErrors':![]},_0x20046f=await _0xcbccd0[_0x3272d6(0x1e0)](got,_0x45e6a3,_0x4bd275);if(_0xcbccd0[_0x3272d6(0x1d1)](_0x20046f,null)&&_0xcbccd0[_0x3272d6(0x1b5)](_0x20046f,undefined)&&_0xcbccd0[_0x3272d6(0x194)](_0x20046f[_0x3272d6(0x199)],0xc8)){const _0x46de27=JSON[_0x3272d6(0x1c4)](_0x20046f['body']);console[_0x3272d6(0x1ac)](_0xcbccd0[_0x3272d6(0x1ad)]),console['log'](_0xcbccd0[_0x3272d6(0x1ba)]),console['log'](_0x3272d6(0x19e)+_0x2402ce[_0x3272d6(0x1eb)]['username']),console['log']('\x20\x20grid-profile:\x20'+_0x46de27[_0x3272d6(0x1c7)]['name']);const _0x347f39=await _0xcbccd0[_0x3272d6(0x1c3)](inputConfirmation,_0xcbccd0[_0x3272d6(0x1d7)]);(_0xcbccd0[_0x3272d6(0x194)](_0x347f39,undefined)||_0xcbccd0[_0x3272d6(0x1f5)](_0x347f39,null)||!(_0xcbccd0[_0x3272d6(0x1a7)](_0x347f39['toLowerCase'](),'y')||_0xcbccd0['GelFM'](_0x347f39[_0x3272d6(0x1b4)](),'n')))&&(console['error'](_0xcbccd0['sGkYp']),await _0xcbccd0[_0x3272d6(0x1b0)](sendInstrumentationEvent,_0x219ac1,_0xcbccd0[_0x3272d6(0x1d2)],messageTypes['ERROR'],_0xcbccd0[_0x3272d6(0x1bb)],null,_0x219ac1),process[_0x3272d6(0x1f2)](0x1));_0xcbccd0[_0x3272d6(0x198)](_0x347f39[_0x3272d6(0x1b4)](),'n')&&process[_0x3272d6(0x1f2)](0x0);console[_0x3272d6(0x1ac)](_0xcbccd0['GfPfY']);const _0x660883=_0x46de27[_0x3272d6(0x1ce)][_0x3272d6(0x19d)];for(let _0x5b5dc7=0x0;_0xcbccd0[_0x3272d6(0x1db)](_0x5b5dc7,_0x660883);_0x5b5dc7+=0x1){console[_0x3272d6(0x1ac)]('['+_0xcbccd0['bahqn'](_0x5b5dc7,0x1)+']\x20'+_0x46de27['list'][_0x5b5dc7][_0x3272d6(0x1c0)]);}const _0xdbe8ab=await _0xcbccd0[_0x3272d6(0x1c8)](inputConfirmation,_0xcbccd0[_0x3272d6(0x1ae)]),_0x378e83=_0xcbccd0[_0x3272d6(0x1c8)](Number,_0xdbe8ab);(_0xcbccd0['jeYwX'](isNaN,_0x378e83)||_0xcbccd0[_0x3272d6(0x1dc)](_0x378e83,0x0)||_0xcbccd0[_0x3272d6(0x197)](_0x378e83,_0x660883))&&(console['error'](_0xcbccd0[_0x3272d6(0x1cd)]),await _0xcbccd0[_0x3272d6(0x1da)](sendInstrumentationEvent,_0x219ac1,_0xcbccd0[_0x3272d6(0x1d2)],messageTypes[_0x3272d6(0x1c2)],_0xcbccd0[_0x3272d6(0x1a3)],null,_0x219ac1),process[_0x3272d6(0x1f2)](0x1));_0xcbccd0[_0x3272d6(0x1a1)](closeInput);const _0x2e4327=_0x46de27[_0x3272d6(0x1ce)][_0xcbccd0[_0x3272d6(0x1d9)](_0x378e83,0x1)]['id'],_0xc224f3={};_0xc224f3[_0x3272d6(0x1e4)]=_0x2e4327;const _0x145d5d={'method':_0xcbccd0[_0x3272d6(0x1af)],'headers':_0xcbccd0[_0x3272d6(0x1e0)](getAuthHeader,_0x2402ce[_0x3272d6(0x1eb)][_0x3272d6(0x1cc)],_0x2402ce[_0x3272d6(0x1eb)]['password']),'json':_0xc224f3,'responseType':_0xcbccd0[_0x3272d6(0x19c)],'throwHttpErrors':![]},_0xc12a11=await _0xcbccd0[_0x3272d6(0x1e0)](got,_0x45e6a3,_0x145d5d);_0xcbccd0[_0x3272d6(0x1b5)](_0xc12a11,null)&&_0xcbccd0['CQyni'](_0xc12a11,undefined)&&_0xcbccd0[_0x3272d6(0x1b2)](_0xc12a11[_0x3272d6(0x199)],0xc8)&&(console[_0x3272d6(0x1ac)](_0xcbccd0[_0x3272d6(0x1ea)]),process[_0x3272d6(0x1f2)](0x0)),_0xcbccd0[_0x3272d6(0x1f8)](_0xc12a11[_0x3272d6(0x199)],0x191)&&(console[_0x3272d6(0x1a2)](_0xcbccd0[_0x3272d6(0x1f6)]),await _0xcbccd0[_0x3272d6(0x1b0)](sendInstrumentationEvent,_0x219ac1,_0xcbccd0['cNpuv'],messageTypes[_0x3272d6(0x1c2)],_0xcbccd0[_0x3272d6(0x1cb)],null,_0x219ac1),process[_0x3272d6(0x1f2)](0x1)),console['error']('Failed\x20to\x20update\x20grid\x20profile.\x20Response\x20from\x20server:\x20'+JSON[_0x3272d6(0x19a)](_0xc12a11)),await _0xcbccd0[_0x3272d6(0x1b7)](sendInstrumentationEvent,_0x219ac1,_0xcbccd0[_0x3272d6(0x1d2)],messageTypes[_0x3272d6(0x1c2)],_0xcbccd0['Uumlp'],_0xc12a11,_0x219ac1),process['exit'](0x1);}_0xcbccd0['BLrCl'](_0x20046f[_0x3272d6(0x199)],0x191)&&(console[_0x3272d6(0x1a2)](_0xcbccd0[_0x3272d6(0x1e8)]),await _0xcbccd0[_0x3272d6(0x1b0)](sendInstrumentationEvent,_0x219ac1,_0xcbccd0['cNpuv'],messageTypes[_0x3272d6(0x1c2)],_0xcbccd0[_0x3272d6(0x1cb)],null,_0x219ac1),process[_0x3272d6(0x1f2)](0x1)),console[_0x3272d6(0x1a2)](_0x3272d6(0x1c9)+JSON['stringify'](_0x20046f)),await _0xcbccd0[_0x3272d6(0x1da)](sendInstrumentationEvent,_0x219ac1,_0xcbccd0['cNpuv'],messageTypes[_0x3272d6(0x1c2)],_0xcbccd0['Uumlp'],_0x20046f,_0x219ac1),process['exit'](0x1);}catch(_0x5809e2){console[_0x3272d6(0x1a2)](_0x3272d6(0x1ef)+_0x5809e2['stack']),await _0xcbccd0[_0x3272d6(0x1e2)](sendInstrumentationEvent,_0x219ac1,_0xcbccd0[_0x3272d6(0x1d2)],messageTypes[_0x3272d6(0x1c2)],_0xcbccd0[_0x3272d6(0x1c6)],_0x5809e2,_0x219ac1),process[_0x3272d6(0x1f2)](0x1);}};