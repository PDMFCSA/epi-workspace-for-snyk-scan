const a5_0x116d69=a5_0x1c67;(function(_0x451db1,_0x3f1033){const _0x213147=a5_0x1c67,_0x581727=_0x451db1();while(!![]){try{const _0x1910e1=parseInt(_0x213147(0x170))/0x1+parseInt(_0x213147(0x162))/0x2+-parseInt(_0x213147(0x168))/0x3+-parseInt(_0x213147(0x19a))/0x4+-parseInt(_0x213147(0x176))/0x5*(parseInt(_0x213147(0x15d))/0x6)+-parseInt(_0x213147(0x180))/0x7+-parseInt(_0x213147(0x145))/0x8*(-parseInt(_0x213147(0x14d))/0x9);if(_0x1910e1===_0x3f1033)break;else _0x581727['push'](_0x581727['shift']());}catch(_0x31cbf9){_0x581727['push'](_0x581727['shift']());}}}(a5_0x1e07,0x7e63e));const fs=require('fs'),got=require('got'),{v4:uuidv4}=require(a5_0x116d69(0x154)),{inputConfirmation,closeInput}=require(a5_0x116d69(0x174)),{AG_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a5_0x116d69(0x152)),{getCredentialsPath,getAuthHeader}=require(a5_0x116d69(0x151)),{sendInstrumentationEvent}=require(a5_0x116d69(0x147));function a5_0x1c67(_0x2286c7,_0x5b7cd8){const _0x1e0773=a5_0x1e07();return a5_0x1c67=function(_0x1c6727,_0x398af6){_0x1c6727=_0x1c6727-0x143;let _0x155156=_0x1e0773[_0x1c6727];return _0x155156;},a5_0x1c67(_0x2286c7,_0x5b7cd8);}exports['command']=a5_0x116d69(0x189),exports[a5_0x116d69(0x150)]=a5_0x116d69(0x19d),exports[a5_0x116d69(0x161)]=function(_0xec16f){const _0x3146f3=a5_0x116d69,_0x39667e={};_0x39667e[_0x3146f3(0x193)]='help';const _0x5e8215=_0x39667e;return _0xec16f[_0x3146f3(0x17d)](HELP_HEADER_MESSAGE[_0x3146f3(0x189)])[_0x3146f3(0x15b)](HELP_FOOTER_MESSAGE)[_0x3146f3(0x163)](_0x5e8215[_0x3146f3(0x193)])[_0x3146f3(0x18b)]()[_0x3146f3(0x14e)]()[_0x3146f3(0x160)];},exports['handler']=async function(_0x3b502a){const _0x353973=a5_0x116d69,_0xb98f6d={'wjOlD':function(_0x14bec3){return _0x14bec3();},'yogFK':'Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','tLejo':function(_0x1b95ff,_0x2aef74,_0x4b7b86,_0x192a1f,_0x303cf7,_0x4d8b73,_0x472e21){return _0x1b95ff(_0x2aef74,_0x4b7b86,_0x192a1f,_0x303cf7,_0x4d8b73,_0x472e21);},'PAHtR':_0x353973(0x173),'mWSWj':'init-not-called','nJjDn':function(_0x41967a,_0x8c4c7,_0x2fbfb4,_0x104249,_0x24cbc1,_0x552047,_0x342987){return _0x41967a(_0x8c4c7,_0x2fbfb4,_0x104249,_0x24cbc1,_0x552047,_0x342987);},'RKVFk':function(_0x53c567){return _0x53c567();},'cTymx':_0x353973(0x169),'BbeCS':function(_0x70b39b,_0x5f5c57,_0x151237){return _0x70b39b(_0x5f5c57,_0x151237);},'OCqSl':function(_0x12d75d,_0x5a11e9,_0x3c13c9){return _0x12d75d(_0x5a11e9,_0x3c13c9);},'uUMKn':function(_0x50ccf6,_0x41782b){return _0x50ccf6!==_0x41782b;},'BNuLB':function(_0x12280a,_0x486fc2){return _0x12280a!==_0x486fc2;},'LuVPN':function(_0x4a4315,_0x5ce95d){return _0x4a4315===_0x5ce95d;},'HJRiS':_0x353973(0x14c),'SLNFS':'core:','bMyhz':function(_0x4185aa,_0xf68323){return _0x4185aa(_0xf68323);},'qcLOv':_0x353973(0x177),'HgEfv':function(_0x307606,_0x18c0dd){return _0x307606===_0x18c0dd;},'nCHlu':'Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','UdfpJ':function(_0x1a962a,_0x4379b8,_0x473e7e,_0x139e6f,_0x2d0b4e,_0x6035cb,_0x367306){return _0x1a962a(_0x4379b8,_0x473e7e,_0x139e6f,_0x2d0b4e,_0x6035cb,_0x367306);},'lTydg':'invalid-input','rkCEA':_0x353973(0x143),'SoDnF':function(_0x19192c,_0x56a4cc){return _0x19192c<_0x56a4cc;},'wWMSP':function(_0x23bb4f,_0x598d32){return _0x23bb4f+_0x598d32;},'ACmuL':function(_0x21ba52,_0x25ee8f){return _0x21ba52(_0x25ee8f);},'IOsRj':_0x353973(0x15a),'dcniA':function(_0x5653d7,_0x29726b){return _0x5653d7<=_0x29726b;},'MtcUE':function(_0xb2e843,_0x3823ed){return _0xb2e843>_0x3823ed;},'nFkaI':function(_0x1aa254,_0x99787a,_0x32d1fc,_0x1d0c13,_0x4e1154,_0x1647ec,_0x2da57d){return _0x1aa254(_0x99787a,_0x32d1fc,_0x1d0c13,_0x4e1154,_0x1647ec,_0x2da57d);},'eLNtc':_0x353973(0x19b),'ofyuQ':function(_0x84f71a){return _0x84f71a();},'eoEfE':function(_0x1d253b,_0x418c6d){return _0x1d253b-_0x418c6d;},'UlCyS':_0x353973(0x182),'jQBBX':_0x353973(0x153),'AWlgO':function(_0x1760f8,_0x310c52){return _0x1760f8!==_0x310c52;},'lydBQ':function(_0x299d7b,_0x35384c){return _0x299d7b!==_0x35384c;},'iQgAD':_0x353973(0x14b),'KbhuA':'Failed\x20to\x20update\x20grid\x20profile.\x20Unauthorized\x20request!','zjhpo':function(_0x5176e4,_0x45376d,_0x1e9345,_0x3203fe,_0x1dfd55,_0x3236d4,_0x32d39d){return _0x5176e4(_0x45376d,_0x1e9345,_0x3203fe,_0x1dfd55,_0x3236d4,_0x32d39d);},'ynnRh':'unauthorised','HXlwR':function(_0x55d816,_0x1c0565,_0x39a9eb,_0x48935a,_0x4bbb5e,_0x3a2faf,_0x52e62a){return _0x55d816(_0x1c0565,_0x39a9eb,_0x48935a,_0x4bbb5e,_0x3a2faf,_0x52e62a);},'Jjxfs':_0x353973(0x18c),'komOz':'Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','TpRFU':_0x353973(0x172)};try{global_registry['requestId']=_0xb98f6d[_0x353973(0x175)](uuidv4);const _0x47c0e7='https://'+AG_API_URL+'/packages/cli/configure';!fs[_0x353973(0x197)](_0xb98f6d['wjOlD'](getCredentialsPath))&&(console['error'](_0xb98f6d[_0x353973(0x17e)]),await _0xb98f6d[_0x353973(0x194)](sendInstrumentationEvent,_0x3b502a,_0xb98f6d[_0x353973(0x196)],messageTypes['ERROR'],_0xb98f6d[_0x353973(0x14a)],null,_0x3b502a),process[_0x353973(0x18f)](0x1));await _0xb98f6d[_0x353973(0x14f)](sendInstrumentationEvent,_0x3b502a,_0xb98f6d['PAHtR'],messageTypes['INFO'],null,null,_0x3b502a);const _0x12d397=JSON[_0x353973(0x167)](fs['readFileSync'](_0xb98f6d[_0x353973(0x198)](getCredentialsPath))),_0x407691={'method':_0xb98f6d[_0x353973(0x16c)],'headers':_0xb98f6d[_0x353973(0x18a)](getAuthHeader,_0x12d397['Browserstack'][_0x353973(0x191)],_0x12d397[_0x353973(0x155)]['password']),'throwHttpErrors':![]},_0x317177=await _0xb98f6d[_0x353973(0x186)](got,_0x47c0e7,_0x407691);if(_0xb98f6d[_0x353973(0x16a)](_0x317177,null)&&_0xb98f6d[_0x353973(0x181)](_0x317177,undefined)&&_0xb98f6d[_0x353973(0x17b)](_0x317177['statusCode'],0xc8)){const _0x513f55=JSON[_0x353973(0x167)](_0x317177[_0x353973(0x17a)]);console[_0x353973(0x17c)](_0xb98f6d[_0x353973(0x190)]),console[_0x353973(0x17c)](_0xb98f6d[_0x353973(0x164)]),console[_0x353973(0x17c)](_0x353973(0x17f)+_0x12d397[_0x353973(0x155)][_0x353973(0x191)]),console[_0x353973(0x17c)]('\x20\x20grid-profile:\x20'+_0x513f55['active'][_0x353973(0x165)]);const _0x573b01=await _0xb98f6d[_0x353973(0x144)](inputConfirmation,_0xb98f6d['qcLOv']);(_0xb98f6d[_0x353973(0x17b)](_0x573b01,undefined)||_0xb98f6d[_0x353973(0x17b)](_0x573b01,null)||!(_0xb98f6d[_0x353973(0x159)](_0x573b01['toLowerCase'](),'y')||_0xb98f6d[_0x353973(0x159)](_0x573b01['toLowerCase'](),'n')))&&(console[_0x353973(0x15c)](_0xb98f6d[_0x353973(0x18e)]),await _0xb98f6d['UdfpJ'](sendInstrumentationEvent,_0x3b502a,_0xb98f6d[_0x353973(0x196)],messageTypes[_0x353973(0x149)],_0xb98f6d[_0x353973(0x16b)],null,_0x3b502a),process[_0x353973(0x18f)](0x1));_0xb98f6d[_0x353973(0x159)](_0x573b01['toLowerCase'](),'n')&&process[_0x353973(0x18f)](0x0);console['log'](_0xb98f6d[_0x353973(0x171)]);const _0x585dc0=_0x513f55[_0x353973(0x16d)][_0x353973(0x16e)];for(let _0x4e2191=0x0;_0xb98f6d[_0x353973(0x158)](_0x4e2191,_0x585dc0);_0x4e2191+=0x1){console[_0x353973(0x17c)]('['+_0xb98f6d[_0x353973(0x146)](_0x4e2191,0x1)+']\x20'+_0x513f55[_0x353973(0x16d)][_0x4e2191][_0x353973(0x165)]);}const _0x4a1f2c=await _0xb98f6d[_0x353973(0x185)](inputConfirmation,_0xb98f6d[_0x353973(0x192)]),_0x47b6ee=_0xb98f6d[_0x353973(0x144)](Number,_0x4a1f2c);(_0xb98f6d[_0x353973(0x185)](isNaN,_0x47b6ee)||_0xb98f6d[_0x353973(0x18d)](_0x47b6ee,0x0)||_0xb98f6d['MtcUE'](_0x47b6ee,_0x585dc0))&&(console[_0x353973(0x15c)](_0xb98f6d[_0x353973(0x18e)]),await _0xb98f6d[_0x353973(0x166)](sendInstrumentationEvent,_0x3b502a,_0xb98f6d[_0x353973(0x196)],messageTypes['ERROR'],_0xb98f6d[_0x353973(0x157)],null,_0x3b502a),process[_0x353973(0x18f)](0x1));_0xb98f6d['ofyuQ'](closeInput);const _0x4c1371=_0x513f55[_0x353973(0x16d)][_0xb98f6d[_0x353973(0x188)](_0x47b6ee,0x1)]['id'],_0x35454a={};_0x35454a['profileId']=_0x4c1371;const _0xe90ff7={'method':_0xb98f6d['UlCyS'],'headers':_0xb98f6d['BbeCS'](getAuthHeader,_0x12d397[_0x353973(0x155)][_0x353973(0x191)],_0x12d397['Browserstack']['password']),'json':_0x35454a,'responseType':_0xb98f6d[_0x353973(0x184)],'throwHttpErrors':![]},_0x1dbbff=await _0xb98f6d[_0x353973(0x186)](got,_0x47c0e7,_0xe90ff7);_0xb98f6d[_0x353973(0x156)](_0x1dbbff,null)&&_0xb98f6d[_0x353973(0x179)](_0x1dbbff,undefined)&&_0xb98f6d['LuVPN'](_0x1dbbff[_0x353973(0x195)],0xc8)&&(console[_0x353973(0x17c)](_0xb98f6d[_0x353973(0x178)]),process[_0x353973(0x18f)](0x0)),_0xb98f6d[_0x353973(0x17b)](_0x1dbbff['statusCode'],0x191)&&(console['error'](_0xb98f6d[_0x353973(0x15e)]),await _0xb98f6d[_0x353973(0x187)](sendInstrumentationEvent,_0x3b502a,_0xb98f6d[_0x353973(0x196)],messageTypes[_0x353973(0x149)],_0xb98f6d[_0x353973(0x15f)],null,_0x3b502a),process['exit'](0x1)),console[_0x353973(0x15c)]('Failed\x20to\x20update\x20grid\x20profile.\x20Response\x20from\x20server:\x20'+JSON[_0x353973(0x148)](_0x1dbbff)),await _0xb98f6d['HXlwR'](sendInstrumentationEvent,_0x3b502a,_0xb98f6d[_0x353973(0x196)],messageTypes[_0x353973(0x149)],_0xb98f6d[_0x353973(0x199)],_0x1dbbff,_0x3b502a),process[_0x353973(0x18f)](0x1);}_0xb98f6d['LuVPN'](_0x317177[_0x353973(0x195)],0x191)&&(console['error'](_0xb98f6d[_0x353973(0x16f)]),await _0xb98f6d['tLejo'](sendInstrumentationEvent,_0x3b502a,_0xb98f6d[_0x353973(0x196)],messageTypes['ERROR'],_0xb98f6d[_0x353973(0x15f)],null,_0x3b502a),process[_0x353973(0x18f)](0x1)),console[_0x353973(0x15c)](_0x353973(0x183)+JSON[_0x353973(0x148)](_0x317177)),await _0xb98f6d[_0x353973(0x187)](sendInstrumentationEvent,_0x3b502a,_0xb98f6d[_0x353973(0x196)],messageTypes[_0x353973(0x149)],_0xb98f6d[_0x353973(0x199)],_0x317177,_0x3b502a),process[_0x353973(0x18f)](0x1);}catch(_0x4c8fc6){console[_0x353973(0x15c)](_0x353973(0x19c)+_0x4c8fc6['stack']),await _0xb98f6d[_0x353973(0x166)](sendInstrumentationEvent,_0x3b502a,_0xb98f6d[_0x353973(0x196)],messageTypes[_0x353973(0x149)],_0xb98f6d['TpRFU'],_0x4c8fc6,_0x3b502a),process['exit'](0x1);}};function a5_0x1e07(){const _0x3e4270=['configure','BbeCS','recommendCommands','server-error','dcniA','nCHlu','exit','HJRiS','username','IOsRj','GFlLT','tLejo','statusCode','PAHtR','existsSync','RKVFk','Jjxfs','533712nVAmFe','invalid-selection','Failed\x20to\x20configure\x20resources!\x20Error:\x20','Configure\x20the\x20default\x20automation\x20grid\x20profiles\x20on\x20BrowserStack\x20CLI.','What\x20Grid\x20profile\x20will\x20you\x20make\x20as\x20default?','bMyhz','53464hZfOeo','wWMSP','../utils/instrumentationUtils','stringify','ERROR','mWSWj','Updated\x20default\x20Grid\x20Profile\x20successfully','\x0aCurrent\x20configured\x20automation\x20grid\x20settings\x20are:','2979BGCChj','strict','nJjDn','desc','../utils/utilityMethods','../config/constants','json','uuid','Browserstack','AWlgO','eLNtc','SoDnF','HgEfv','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item)','epilogue','error','138OUOVVj','KbhuA','ynnRh','argv','builder','3304DqeqvC','help','SLNFS','name','nFkaI','parse','2503227xbuEAi','GET','uUMKn','lTydg','cTymx','list','length','komOz','504163fyRnRe','rkCEA','unknown-error','configure-called','../utils/userInput','wjOlD','149995gMJvHN','Do\x20you\x20want\x20to\x20change\x20the\x20default\x20grid-profile\x20(y/n)?','iQgAD','lydBQ','body','LuVPN','log','usage','yogFK','\x20\x20username:\x20','3796660tgYkdo','BNuLB','PUT','Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','jQBBX','ACmuL','OCqSl','zjhpo','eoEfE'];a5_0x1e07=function(){return _0x3e4270;};return a5_0x1e07();}