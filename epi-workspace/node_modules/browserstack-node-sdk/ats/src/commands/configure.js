const a5_0x4038ab=a5_0x32b5;(function(_0x29eee7,_0x2ddfc2){const _0x2d453c=a5_0x32b5,_0x4ca08d=_0x29eee7();while(!![]){try{const _0x2ad454=-parseInt(_0x2d453c(0x174))/0x1*(parseInt(_0x2d453c(0x183))/0x2)+parseInt(_0x2d453c(0x171))/0x3+parseInt(_0x2d453c(0x19d))/0x4+parseInt(_0x2d453c(0x176))/0x5+parseInt(_0x2d453c(0x1a1))/0x6+-parseInt(_0x2d453c(0x1ac))/0x7+parseInt(_0x2d453c(0x1ae))/0x8*(-parseInt(_0x2d453c(0x164))/0x9);if(_0x2ad454===_0x2ddfc2)break;else _0x4ca08d['push'](_0x4ca08d['shift']());}catch(_0x1a7222){_0x4ca08d['push'](_0x4ca08d['shift']());}}}(a5_0x5453,0x73195));const fs=require('fs'),got=require('got'),{v4:uuidv4}=require('uuid'),{inputConfirmation,closeInput}=require(a5_0x4038ab(0x16a)),{AG_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a5_0x4038ab(0x182)),{getCredentialsPath,getAuthHeader}=require(a5_0x4038ab(0x1a0)),{sendInstrumentationEvent}=require('../utils/instrumentationUtils');function a5_0x5453(){const _0x25a5e9=['pvmQE','UxufI','desc','YleLj','server-error','lhdnK','epilogue','json','JdYSW','requestId','svDPm','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item)','\x20\x20username:\x20','/packages/cli/configure','NiPvE','DixJs','exit','EzlcL','KCAYZ','toLowerCase','recommendCommands','162btovjN','Updated\x20default\x20Grid\x20Profile\x20successfully','list','cSzlF','ToRcW','core:','../utils/userInput','statusCode','INFO','HxXic','Do\x20you\x20want\x20to\x20change\x20the\x20default\x20grid-profile\x20(y/n)?','bJRqx','profileId','2608743FGpNzB','OpILv','Browserstack','542759kCQcxj','aWNPG','1617845MGmdZQ','HuhuZ','Failed\x20to\x20update\x20grid\x20profile.\x20Unauthorized\x20request!','parse','AsSnt','stringify','ReskU','\x0aCurrent\x20configured\x20automation\x20grid\x20settings\x20are:','sVxsS','Configure\x20the\x20default\x20automation\x20grid\x20profiles\x20on\x20BrowserStack\x20CLI.','stack','configure-called','../config/constants','2wUplPX','jwzGa','invalid-selection','PUT','NCDln','OZPbp','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','command','\x20\x20grid-profile:\x20','strict','eeykT','Pules','name','ZRZGg','ERROR','vqUaz','UAucb','length','oQnpf','configure','readFileSync','hLIBv','afTnL','Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','usage','password','1248172TKVYxL','help','ZLMQn','../utils/utilityMethods','2918838WTWlXH','sYtkV','jntyJ','error','log','gNhTm','Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','body','Failed\x20to\x20configure\x20resources!\x20Error:\x20','builder','nDwRe','3501596vBdbkN','oHoAf','212104CjCEyj','username','GET','AkTwx','RCHAK'];a5_0x5453=function(){return _0x25a5e9;};return a5_0x5453();}function a5_0x32b5(_0x411ae9,_0x2b24e0){const _0x545351=a5_0x5453();return a5_0x32b5=function(_0x32b5fc,_0x2c51ae){_0x32b5fc=_0x32b5fc-0x15c;let _0x5cda8f=_0x545351[_0x32b5fc];return _0x5cda8f;},a5_0x32b5(_0x411ae9,_0x2b24e0);}exports[a5_0x4038ab(0x18a)]=a5_0x4038ab(0x196),exports[a5_0x4038ab(0x1b5)]=a5_0x4038ab(0x17f),exports[a5_0x4038ab(0x1aa)]=function(_0xea6d17){const _0x159c65=a5_0x4038ab,_0x5098dc={};_0x5098dc[_0x159c65(0x192)]=_0x159c65(0x19e);const _0x1b9d3=_0x5098dc;return _0xea6d17[_0x159c65(0x19b)](HELP_HEADER_MESSAGE[_0x159c65(0x196)])[_0x159c65(0x1b9)](HELP_FOOTER_MESSAGE)[_0x159c65(0x19e)](_0x1b9d3[_0x159c65(0x192)])[_0x159c65(0x163)]()[_0x159c65(0x18c)]()['argv'];},exports['handler']=async function(_0x53060e){const _0x4f61b9=a5_0x4038ab,_0x4c0bc9={'ZLMQn':function(_0xf4e2d4){return _0xf4e2d4();},'jntyJ':function(_0x5edc18){return _0x5edc18();},'KCAYZ':'Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','wklDj':function(_0x23fc84,_0x41123b,_0x46a222,_0x3475b2,_0x12ae85,_0x48f52e,_0x4d241b){return _0x23fc84(_0x41123b,_0x46a222,_0x3475b2,_0x12ae85,_0x48f52e,_0x4d241b);},'aWNPG':_0x4f61b9(0x181),'NCDln':'init-not-called','AkTwx':function(_0xaa8e68,_0xb84b80,_0x509452,_0x454552,_0x57b066,_0xcadca8,_0x34b03b){return _0xaa8e68(_0xb84b80,_0x509452,_0x454552,_0x57b066,_0xcadca8,_0x34b03b);},'OpILv':_0x4f61b9(0x1b0),'eeykT':function(_0x150c51,_0x3770f1,_0x435546){return _0x150c51(_0x3770f1,_0x435546);},'ToRcW':function(_0x150f4d,_0x2f6ebb){return _0x150f4d!==_0x2f6ebb;},'oQnpf':function(_0x2fc439,_0x9e9198){return _0x2fc439!==_0x9e9198;},'ReskU':function(_0x540e48,_0x5e3f3d){return _0x540e48===_0x5e3f3d;},'jwzGa':_0x4f61b9(0x17d),'hLIBv':_0x4f61b9(0x169),'eemna':function(_0x4f1eb4,_0x3c77e1){return _0x4f1eb4(_0x3c77e1);},'JdYSW':_0x4f61b9(0x16e),'ZRZGg':function(_0x445227,_0x3b4482){return _0x445227===_0x3b4482;},'lhdnK':function(_0x2f7b31,_0x1f3c26){return _0x2f7b31===_0x1f3c26;},'sVxsS':_0x4f61b9(0x189),'HxXic':'invalid-input','sYtkV':function(_0x56c87c,_0x943300){return _0x56c87c===_0x943300;},'EzlcL':'What\x20Grid\x20profile\x20will\x20you\x20make\x20as\x20default?','gsodF':function(_0xbc7240,_0x151e75){return _0xbc7240<_0x151e75;},'PLhuI':function(_0x44aaec,_0x1859e9){return _0x44aaec+_0x1859e9;},'NiPvE':function(_0x52edcf,_0x459008){return _0x52edcf(_0x459008);},'OZPbp':_0x4f61b9(0x1be),'nDwRe':function(_0x2e204a,_0x234f95){return _0x2e204a<=_0x234f95;},'ZXByh':function(_0x4e8e82,_0x5b26a3){return _0x4e8e82>_0x5b26a3;},'cSzlF':function(_0x45b3f9,_0xa868ce,_0x558bc4,_0x73e0f7,_0x788c9d,_0xd12be,_0x3bae27){return _0x45b3f9(_0xa868ce,_0x558bc4,_0x73e0f7,_0x788c9d,_0xd12be,_0x3bae27);},'gNhTm':_0x4f61b9(0x185),'JhQDE':function(_0x303b0d){return _0x303b0d();},'DixJs':function(_0xaea3e0,_0x2124d4){return _0xaea3e0-_0x2124d4;},'RCHAK':_0x4f61b9(0x186),'UxufI':function(_0xc3ce0d,_0x3bae5a,_0x3a2589){return _0xc3ce0d(_0x3bae5a,_0x3a2589);},'Pules':_0x4f61b9(0x1ba),'ojRnT':function(_0x4299b5,_0x4adb0a,_0x51b6ea){return _0x4299b5(_0x4adb0a,_0x51b6ea);},'svDPm':function(_0x97523e,_0x44a1ff){return _0x97523e!==_0x44a1ff;},'YleLj':_0x4f61b9(0x165),'AuICx':function(_0x499390,_0x27f9bd){return _0x499390===_0x27f9bd;},'aZLAI':_0x4f61b9(0x178),'oHoAf':function(_0x3c50b3,_0x482188,_0x132c33,_0x4b5f82,_0x16e421,_0x34d4ed,_0x11e69d){return _0x3c50b3(_0x482188,_0x132c33,_0x4b5f82,_0x16e421,_0x34d4ed,_0x11e69d);},'pvmQE':'unauthorised','HuhuZ':function(_0x10d8cf,_0x4c901c,_0x20a4dd,_0x2ceb51,_0x30d14a,_0x372f8d,_0x813eb8){return _0x10d8cf(_0x4c901c,_0x20a4dd,_0x2ceb51,_0x30d14a,_0x372f8d,_0x813eb8);},'afTnL':_0x4f61b9(0x1b7),'AsSnt':_0x4f61b9(0x1a7),'UAucb':function(_0x350ad1,_0x3059e4,_0x3b2001,_0x5b35a0,_0x101349,_0x53ef42,_0x15612e){return _0x350ad1(_0x3059e4,_0x3b2001,_0x5b35a0,_0x101349,_0x53ef42,_0x15612e);},'bJRqx':'unknown-error'};try{global_registry[_0x4f61b9(0x1bc)]=_0x4c0bc9[_0x4f61b9(0x19f)](uuidv4);const _0x4502c8='https://'+AG_API_URL+_0x4f61b9(0x15c);!fs['existsSync'](_0x4c0bc9['jntyJ'](getCredentialsPath))&&(console[_0x4f61b9(0x1a4)](_0x4c0bc9[_0x4f61b9(0x161)]),await _0x4c0bc9['wklDj'](sendInstrumentationEvent,_0x53060e,_0x4c0bc9['aWNPG'],messageTypes[_0x4f61b9(0x191)],_0x4c0bc9[_0x4f61b9(0x187)],null,_0x53060e),process[_0x4f61b9(0x15f)](0x1));await _0x4c0bc9[_0x4f61b9(0x1b1)](sendInstrumentationEvent,_0x53060e,_0x4c0bc9['aWNPG'],messageTypes[_0x4f61b9(0x16c)],null,null,_0x53060e);const _0x14680a=JSON['parse'](fs[_0x4f61b9(0x197)](_0x4c0bc9[_0x4f61b9(0x1a3)](getCredentialsPath))),_0x286543={'method':_0x4c0bc9[_0x4f61b9(0x172)],'headers':_0x4c0bc9[_0x4f61b9(0x18d)](getAuthHeader,_0x14680a[_0x4f61b9(0x173)][_0x4f61b9(0x1af)],_0x14680a[_0x4f61b9(0x173)]['password']),'throwHttpErrors':![]},_0x17cb9c=await _0x4c0bc9[_0x4f61b9(0x18d)](got,_0x4502c8,_0x286543);if(_0x4c0bc9['ToRcW'](_0x17cb9c,null)&&_0x4c0bc9[_0x4f61b9(0x195)](_0x17cb9c,undefined)&&_0x4c0bc9[_0x4f61b9(0x17c)](_0x17cb9c[_0x4f61b9(0x16b)],0xc8)){const _0xb11034=JSON[_0x4f61b9(0x179)](_0x17cb9c[_0x4f61b9(0x1a8)]);console[_0x4f61b9(0x1a5)](_0x4c0bc9[_0x4f61b9(0x184)]),console['log'](_0x4c0bc9[_0x4f61b9(0x198)]),console['log'](_0x4f61b9(0x1bf)+_0x14680a[_0x4f61b9(0x173)]['username']),console[_0x4f61b9(0x1a5)](_0x4f61b9(0x18b)+_0xb11034['active']['name']);const _0x277108=await _0x4c0bc9['eemna'](inputConfirmation,_0x4c0bc9[_0x4f61b9(0x1bb)]);(_0x4c0bc9['ReskU'](_0x277108,undefined)||_0x4c0bc9['ReskU'](_0x277108,null)||!(_0x4c0bc9[_0x4f61b9(0x190)](_0x277108[_0x4f61b9(0x162)](),'y')||_0x4c0bc9['lhdnK'](_0x277108[_0x4f61b9(0x162)](),'n')))&&(console['error'](_0x4c0bc9[_0x4f61b9(0x17e)]),await _0x4c0bc9[_0x4f61b9(0x1b1)](sendInstrumentationEvent,_0x53060e,_0x4c0bc9[_0x4f61b9(0x175)],messageTypes[_0x4f61b9(0x191)],_0x4c0bc9[_0x4f61b9(0x16d)],null,_0x53060e),process[_0x4f61b9(0x15f)](0x1));_0x4c0bc9[_0x4f61b9(0x1a2)](_0x277108[_0x4f61b9(0x162)](),'n')&&process[_0x4f61b9(0x15f)](0x0);console[_0x4f61b9(0x1a5)](_0x4c0bc9[_0x4f61b9(0x160)]);const _0x517192=_0xb11034['list'][_0x4f61b9(0x194)];for(let _0x55901e=0x0;_0x4c0bc9['gsodF'](_0x55901e,_0x517192);_0x55901e+=0x1){console[_0x4f61b9(0x1a5)]('['+_0x4c0bc9['PLhuI'](_0x55901e,0x1)+']\x20'+_0xb11034[_0x4f61b9(0x166)][_0x55901e][_0x4f61b9(0x18f)]);}const _0x2b3542=await _0x4c0bc9['NiPvE'](inputConfirmation,_0x4c0bc9[_0x4f61b9(0x188)]),_0x50412a=_0x4c0bc9[_0x4f61b9(0x15d)](Number,_0x2b3542);(_0x4c0bc9[_0x4f61b9(0x15d)](isNaN,_0x50412a)||_0x4c0bc9[_0x4f61b9(0x1ab)](_0x50412a,0x0)||_0x4c0bc9['ZXByh'](_0x50412a,_0x517192))&&(console['error'](_0x4c0bc9[_0x4f61b9(0x17e)]),await _0x4c0bc9[_0x4f61b9(0x167)](sendInstrumentationEvent,_0x53060e,_0x4c0bc9['aWNPG'],messageTypes[_0x4f61b9(0x191)],_0x4c0bc9[_0x4f61b9(0x1a6)],null,_0x53060e),process[_0x4f61b9(0x15f)](0x1));_0x4c0bc9['JhQDE'](closeInput);const _0x4b8f87=_0xb11034['list'][_0x4c0bc9[_0x4f61b9(0x15e)](_0x50412a,0x1)]['id'],_0x5bc5de={};_0x5bc5de[_0x4f61b9(0x170)]=_0x4b8f87;const _0x2c1e70={'method':_0x4c0bc9[_0x4f61b9(0x1b2)],'headers':_0x4c0bc9[_0x4f61b9(0x1b4)](getAuthHeader,_0x14680a['Browserstack'][_0x4f61b9(0x1af)],_0x14680a[_0x4f61b9(0x173)][_0x4f61b9(0x19c)]),'json':_0x5bc5de,'responseType':_0x4c0bc9[_0x4f61b9(0x18e)],'throwHttpErrors':![]},_0x27319f=await _0x4c0bc9['ojRnT'](got,_0x4502c8,_0x2c1e70);_0x4c0bc9[_0x4f61b9(0x168)](_0x27319f,null)&&_0x4c0bc9[_0x4f61b9(0x1bd)](_0x27319f,undefined)&&_0x4c0bc9[_0x4f61b9(0x1b8)](_0x27319f[_0x4f61b9(0x16b)],0xc8)&&(console[_0x4f61b9(0x1a5)](_0x4c0bc9[_0x4f61b9(0x1b6)]),process[_0x4f61b9(0x15f)](0x0)),_0x4c0bc9['AuICx'](_0x27319f['statusCode'],0x191)&&(console[_0x4f61b9(0x1a4)](_0x4c0bc9['aZLAI']),await _0x4c0bc9[_0x4f61b9(0x1ad)](sendInstrumentationEvent,_0x53060e,_0x4c0bc9['aWNPG'],messageTypes[_0x4f61b9(0x191)],_0x4c0bc9[_0x4f61b9(0x1b3)],null,_0x53060e),process[_0x4f61b9(0x15f)](0x1)),console[_0x4f61b9(0x1a4)]('Failed\x20to\x20update\x20grid\x20profile.\x20Response\x20from\x20server:\x20'+JSON['stringify'](_0x27319f)),await _0x4c0bc9[_0x4f61b9(0x177)](sendInstrumentationEvent,_0x53060e,_0x4c0bc9['aWNPG'],messageTypes[_0x4f61b9(0x191)],_0x4c0bc9[_0x4f61b9(0x199)],_0x27319f,_0x53060e),process[_0x4f61b9(0x15f)](0x1);}_0x4c0bc9[_0x4f61b9(0x17c)](_0x17cb9c['statusCode'],0x191)&&(console[_0x4f61b9(0x1a4)](_0x4c0bc9[_0x4f61b9(0x17a)]),await _0x4c0bc9[_0x4f61b9(0x193)](sendInstrumentationEvent,_0x53060e,_0x4c0bc9[_0x4f61b9(0x175)],messageTypes[_0x4f61b9(0x191)],_0x4c0bc9[_0x4f61b9(0x1b3)],null,_0x53060e),process[_0x4f61b9(0x15f)](0x1)),console[_0x4f61b9(0x1a4)](_0x4f61b9(0x19a)+JSON[_0x4f61b9(0x17b)](_0x17cb9c)),await _0x4c0bc9['AkTwx'](sendInstrumentationEvent,_0x53060e,_0x4c0bc9[_0x4f61b9(0x175)],messageTypes[_0x4f61b9(0x191)],_0x4c0bc9[_0x4f61b9(0x199)],_0x17cb9c,_0x53060e),process[_0x4f61b9(0x15f)](0x1);}catch(_0xc8dd00){console[_0x4f61b9(0x1a4)](_0x4f61b9(0x1a9)+_0xc8dd00[_0x4f61b9(0x180)]),await _0x4c0bc9[_0x4f61b9(0x177)](sendInstrumentationEvent,_0x53060e,_0x4c0bc9[_0x4f61b9(0x175)],messageTypes[_0x4f61b9(0x191)],_0x4c0bc9[_0x4f61b9(0x16f)],_0xc8dd00,_0x53060e),process[_0x4f61b9(0x15f)](0x1);}};