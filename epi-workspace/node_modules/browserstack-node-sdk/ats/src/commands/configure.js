const a5_0x25a603=a5_0x4e7f;function a5_0x4e7f(_0x17dd2b,_0xb446a4){const _0x179759=a5_0x1797();return a5_0x4e7f=function(_0x4e7fa8,_0x3b9e2e){_0x4e7fa8=_0x4e7fa8-0x154;let _0x47a996=_0x179759[_0x4e7fa8];return _0x47a996;},a5_0x4e7f(_0x17dd2b,_0xb446a4);}(function(_0x53cadd,_0x20a973){const _0x50dc9d=a5_0x4e7f,_0x2e7f24=_0x53cadd();while(!![]){try{const _0x16736a=parseInt(_0x50dc9d(0x1a0))/0x1+-parseInt(_0x50dc9d(0x17a))/0x2+parseInt(_0x50dc9d(0x19a))/0x3+-parseInt(_0x50dc9d(0x16b))/0x4+-parseInt(_0x50dc9d(0x19e))/0x5+parseInt(_0x50dc9d(0x19d))/0x6+-parseInt(_0x50dc9d(0x15c))/0x7*(-parseInt(_0x50dc9d(0x15a))/0x8);if(_0x16736a===_0x20a973)break;else _0x2e7f24['push'](_0x2e7f24['shift']());}catch(_0x1cea9c){_0x2e7f24['push'](_0x2e7f24['shift']());}}}(a5_0x1797,0xd63a0));function a5_0x1797(){const _0x2ee52c=['Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item)','/packages/cli/configure','uJZPj','configure-called','MwDwr','prytq','pGXuc','existsSync','aosci','3103876XvNWCE','username','invalid-selection','KoVVz','requestId','server-error','recommendCommands','RFJZI','HSWII','GdSFx','qnpOQ','NRhtM','toLowerCase','uuid','init-not-called','1195764OJGgJi','builder','JJwfA','\x20\x20grid-profile:\x20','OPJqZ','cuLYG','Failed\x20to\x20update\x20grid\x20profile.\x20Response\x20from\x20server:\x20','zcEva','olHTc','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','Failed\x20to\x20configure\x20resources!\x20Error:\x20','length','Failed\x20to\x20update\x20grid\x20profile.\x20Unauthorized\x20request!','epilogue','\x20\x20username:\x20','giNWu','INFO','\x0aCurrent\x20configured\x20automation\x20grid\x20settings\x20are:','parse','GET','YafCg','active','exit','HkXQU','Wcryc','body','HPFtn','Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','help','XUyaJ','stack','mNEZL','4093278qiEhEd','../utils/userInput','core:','92214pmoakI','4938185gcXNUN','ERROR','1037304wXKyPv','Do\x20you\x20want\x20to\x20change\x20the\x20default\x20grid-profile\x20(y/n)?','invalid-input','vuaHP','log','PUT','got','hdnik','xfNJw','unknown-error','ZhHJk','SAKip','usage','FJojt','error','INXef','handler','../utils/utilityMethods','../utils/instrumentationUtils','json','list','jNvGY','argv','readFileSync','RSzqE','Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','statusCode','IqjLz','8CXJfWW','QGMCP','5753027KdJUpA','name','password','dkgYD','configure','Browserstack'];a5_0x1797=function(){return _0x2ee52c;};return a5_0x1797();}const fs=require('fs'),got=require(a5_0x25a603(0x1a6)),{v4:uuidv4}=require(a5_0x25a603(0x178)),{inputConfirmation,closeInput}=require(a5_0x25a603(0x19b)),{AG_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require('../config/constants'),{getCredentialsPath,getAuthHeader}=require(a5_0x25a603(0x1b1)),{sendInstrumentationEvent}=require(a5_0x25a603(0x1b2));exports['command']=a5_0x25a603(0x160),exports['desc']='Configure\x20the\x20default\x20automation\x20grid\x20profiles\x20on\x20BrowserStack\x20CLI.',exports[a5_0x25a603(0x17b)]=function(_0x57d40e){const _0x541132=a5_0x25a603,_0x2f87e3={};_0x2f87e3[_0x541132(0x194)]=_0x541132(0x196);const _0x339562=_0x2f87e3;return _0x57d40e[_0x541132(0x1ac)](HELP_HEADER_MESSAGE[_0x541132(0x160)])[_0x541132(0x187)](HELP_FOOTER_MESSAGE)[_0x541132(0x196)](_0x339562['HPFtn'])[_0x541132(0x171)]()['strict']()[_0x541132(0x154)];},exports[a5_0x25a603(0x1b0)]=async function(_0x40ff8e){const _0x265fcd=a5_0x25a603,_0x265d1e={'SAKip':function(_0x3d0aa4){return _0x3d0aa4();},'dkgYD':'Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','RSzqE':function(_0x1e96eb,_0x11caf9,_0x4ae013,_0x279b86,_0x18d9d0,_0xd97244,_0x391559){return _0x1e96eb(_0x11caf9,_0x4ae013,_0x279b86,_0x18d9d0,_0xd97244,_0x391559);},'GdSFx':_0x265fcd(0x165),'Wcryc':_0x265fcd(0x179),'XUyaJ':_0x265fcd(0x18d),'olHTc':function(_0x3f24c6,_0x586a7a,_0x352e3b){return _0x3f24c6(_0x586a7a,_0x352e3b);},'HkXQU':function(_0x3615d1,_0x276e28,_0x2bc35b){return _0x3615d1(_0x276e28,_0x2bc35b);},'mNEZL':function(_0xe50011,_0x660967){return _0xe50011!==_0x660967;},'IqjLz':function(_0x56e7ca,_0x246c21){return _0x56e7ca===_0x246c21;},'tjCoz':_0x265fcd(0x18b),'pGXuc':_0x265fcd(0x19c),'JJwfA':function(_0x2b7f0b,_0x1a5b92){return _0x2b7f0b(_0x1a5b92);},'uJZPj':_0x265fcd(0x1a1),'giNWu':function(_0x5c8f4e,_0x122ba8){return _0x5c8f4e===_0x122ba8;},'uBJsh':_0x265fcd(0x183),'cuLYG':function(_0x2c19b9,_0x15a1a6,_0xe63c56,_0x348e3e,_0xed3de3,_0x16c631,_0x26e954){return _0x2c19b9(_0x15a1a6,_0xe63c56,_0x348e3e,_0xed3de3,_0x16c631,_0x26e954);},'tNAUP':_0x265fcd(0x1a2),'ZhHJk':function(_0x3d0644,_0x3daa06){return _0x3d0644===_0x3daa06;},'prytq':'What\x20Grid\x20profile\x20will\x20you\x20make\x20as\x20default?','xfNJw':function(_0x2fb792,_0x4cd8e3){return _0x2fb792<_0x4cd8e3;},'KoVVz':function(_0x3866ad,_0x3271d8){return _0x3866ad+_0x3271d8;},'FJojt':_0x265fcd(0x162),'INXef':function(_0x388040,_0x2b0a16){return _0x388040(_0x2b0a16);},'vmkIN':function(_0x210c9a,_0x58ca89){return _0x210c9a(_0x58ca89);},'QGMCP':function(_0x2ff618,_0x38b0cf){return _0x2ff618<=_0x38b0cf;},'hdnik':function(_0x227428,_0x19c192){return _0x227428>_0x19c192;},'aosci':function(_0x53ea88,_0x4ce3b5,_0xfe3fcd,_0x28cff3,_0x4a98ba,_0x4f2509,_0x32d42f){return _0x53ea88(_0x4ce3b5,_0xfe3fcd,_0x28cff3,_0x4a98ba,_0x4f2509,_0x32d42f);},'jNvGY':_0x265fcd(0x16d),'YafCg':function(_0x92851a){return _0x92851a();},'qnpOQ':function(_0x572cb7,_0x59be3d){return _0x572cb7-_0x59be3d;},'tJCQX':_0x265fcd(0x1a5),'OPJqZ':function(_0x5bab1f,_0x4f0728,_0x36f197){return _0x5bab1f(_0x4f0728,_0x36f197);},'jKMmw':_0x265fcd(0x1b3),'vuaHP':function(_0x437fc9,_0x10ded6){return _0x437fc9!==_0x10ded6;},'ohtMT':'Updated\x20default\x20Grid\x20Profile\x20successfully','cIUhB':function(_0x1ba438,_0x186c32){return _0x1ba438===_0x186c32;},'HSWII':_0x265fcd(0x186),'NRhtM':'unauthorised','JlZEM':function(_0x2f6a8a,_0x4ea04b,_0x55f512,_0x56d858,_0x4c2b76,_0x561051,_0x2f9cc1){return _0x2f6a8a(_0x4ea04b,_0x55f512,_0x56d858,_0x4c2b76,_0x561051,_0x2f9cc1);},'NgoXH':_0x265fcd(0x170),'pfLwq':function(_0xc2022e,_0x143a47){return _0xc2022e===_0x143a47;},'MwDwr':_0x265fcd(0x195),'RFJZI':function(_0x531182,_0x493569,_0x2d5ce8,_0x3c8592,_0x4a647b,_0x582fa0,_0xdf76b8){return _0x531182(_0x493569,_0x2d5ce8,_0x3c8592,_0x4a647b,_0x582fa0,_0xdf76b8);},'zcEva':_0x265fcd(0x1a9)};try{global_registry[_0x265fcd(0x16f)]=_0x265d1e[_0x265fcd(0x1ab)](uuidv4);const _0x485f14='https://'+AG_API_URL+_0x265fcd(0x163);!fs[_0x265fcd(0x169)](_0x265d1e[_0x265fcd(0x1ab)](getCredentialsPath))&&(console[_0x265fcd(0x1ae)](_0x265d1e[_0x265fcd(0x15f)]),await _0x265d1e['RSzqE'](sendInstrumentationEvent,_0x40ff8e,_0x265d1e[_0x265fcd(0x174)],messageTypes[_0x265fcd(0x19f)],_0x265d1e[_0x265fcd(0x192)],null,_0x40ff8e),process[_0x265fcd(0x190)](0x1));await _0x265d1e[_0x265fcd(0x156)](sendInstrumentationEvent,_0x40ff8e,_0x265d1e['GdSFx'],messageTypes[_0x265fcd(0x18a)],null,null,_0x40ff8e);const _0x149e89=JSON[_0x265fcd(0x18c)](fs[_0x265fcd(0x155)](_0x265d1e[_0x265fcd(0x1ab)](getCredentialsPath))),_0x40b7e9={'method':_0x265d1e[_0x265fcd(0x197)],'headers':_0x265d1e[_0x265fcd(0x182)](getAuthHeader,_0x149e89['Browserstack'][_0x265fcd(0x16c)],_0x149e89['Browserstack']['password']),'throwHttpErrors':![]},_0xe356f5=await _0x265d1e[_0x265fcd(0x191)](got,_0x485f14,_0x40b7e9);if(_0x265d1e[_0x265fcd(0x199)](_0xe356f5,null)&&_0x265d1e[_0x265fcd(0x199)](_0xe356f5,undefined)&&_0x265d1e[_0x265fcd(0x159)](_0xe356f5[_0x265fcd(0x158)],0xc8)){const _0x61fe96=JSON[_0x265fcd(0x18c)](_0xe356f5[_0x265fcd(0x193)]);console[_0x265fcd(0x1a4)](_0x265d1e['tjCoz']),console[_0x265fcd(0x1a4)](_0x265d1e[_0x265fcd(0x168)]),console[_0x265fcd(0x1a4)](_0x265fcd(0x188)+_0x149e89[_0x265fcd(0x161)][_0x265fcd(0x16c)]),console[_0x265fcd(0x1a4)](_0x265fcd(0x17d)+_0x61fe96[_0x265fcd(0x18f)][_0x265fcd(0x15d)]);const _0x3fccb7=await _0x265d1e[_0x265fcd(0x17c)](inputConfirmation,_0x265d1e[_0x265fcd(0x164)]);(_0x265d1e[_0x265fcd(0x159)](_0x3fccb7,undefined)||_0x265d1e[_0x265fcd(0x159)](_0x3fccb7,null)||!(_0x265d1e[_0x265fcd(0x159)](_0x3fccb7[_0x265fcd(0x177)](),'y')||_0x265d1e[_0x265fcd(0x189)](_0x3fccb7[_0x265fcd(0x177)](),'n')))&&(console[_0x265fcd(0x1ae)](_0x265d1e['uBJsh']),await _0x265d1e['cuLYG'](sendInstrumentationEvent,_0x40ff8e,_0x265d1e[_0x265fcd(0x174)],messageTypes['ERROR'],_0x265d1e['tNAUP'],null,_0x40ff8e),process[_0x265fcd(0x190)](0x1));_0x265d1e[_0x265fcd(0x1aa)](_0x3fccb7[_0x265fcd(0x177)](),'n')&&process[_0x265fcd(0x190)](0x0);console['log'](_0x265d1e[_0x265fcd(0x167)]);const _0x51dfdc=_0x61fe96[_0x265fcd(0x1b4)][_0x265fcd(0x185)];for(let _0x4ca04e=0x0;_0x265d1e[_0x265fcd(0x1a8)](_0x4ca04e,_0x51dfdc);_0x4ca04e+=0x1){console[_0x265fcd(0x1a4)]('['+_0x265d1e[_0x265fcd(0x16e)](_0x4ca04e,0x1)+']\x20'+_0x61fe96[_0x265fcd(0x1b4)][_0x4ca04e][_0x265fcd(0x15d)]);}const _0x4b4d08=await _0x265d1e[_0x265fcd(0x17c)](inputConfirmation,_0x265d1e[_0x265fcd(0x1ad)]),_0x141394=_0x265d1e[_0x265fcd(0x1af)](Number,_0x4b4d08);(_0x265d1e['vmkIN'](isNaN,_0x141394)||_0x265d1e[_0x265fcd(0x15b)](_0x141394,0x0)||_0x265d1e[_0x265fcd(0x1a7)](_0x141394,_0x51dfdc))&&(console[_0x265fcd(0x1ae)](_0x265d1e['uBJsh']),await _0x265d1e[_0x265fcd(0x16a)](sendInstrumentationEvent,_0x40ff8e,_0x265d1e[_0x265fcd(0x174)],messageTypes[_0x265fcd(0x19f)],_0x265d1e[_0x265fcd(0x1b5)],null,_0x40ff8e),process['exit'](0x1));_0x265d1e[_0x265fcd(0x18e)](closeInput);const _0x3d60fa=_0x61fe96[_0x265fcd(0x1b4)][_0x265d1e[_0x265fcd(0x175)](_0x141394,0x1)]['id'],_0x16a71f={};_0x16a71f['profileId']=_0x3d60fa;const _0x134507={'method':_0x265d1e['tJCQX'],'headers':_0x265d1e[_0x265fcd(0x17e)](getAuthHeader,_0x149e89['Browserstack']['username'],_0x149e89['Browserstack'][_0x265fcd(0x15e)]),'json':_0x16a71f,'responseType':_0x265d1e['jKMmw'],'throwHttpErrors':![]},_0x4ccadc=await _0x265d1e[_0x265fcd(0x17e)](got,_0x485f14,_0x134507);_0x265d1e[_0x265fcd(0x1a3)](_0x4ccadc,null)&&_0x265d1e[_0x265fcd(0x1a3)](_0x4ccadc,undefined)&&_0x265d1e[_0x265fcd(0x159)](_0x4ccadc[_0x265fcd(0x158)],0xc8)&&(console['log'](_0x265d1e['ohtMT']),process['exit'](0x0)),_0x265d1e['cIUhB'](_0x4ccadc[_0x265fcd(0x158)],0x191)&&(console['error'](_0x265d1e[_0x265fcd(0x173)]),await _0x265d1e[_0x265fcd(0x16a)](sendInstrumentationEvent,_0x40ff8e,_0x265d1e[_0x265fcd(0x174)],messageTypes[_0x265fcd(0x19f)],_0x265d1e[_0x265fcd(0x176)],null,_0x40ff8e),process['exit'](0x1)),console['error'](_0x265fcd(0x180)+JSON['stringify'](_0x4ccadc)),await _0x265d1e['JlZEM'](sendInstrumentationEvent,_0x40ff8e,_0x265d1e[_0x265fcd(0x174)],messageTypes[_0x265fcd(0x19f)],_0x265d1e['NgoXH'],_0x4ccadc,_0x40ff8e),process[_0x265fcd(0x190)](0x1);}_0x265d1e['pfLwq'](_0xe356f5[_0x265fcd(0x158)],0x191)&&(console['error'](_0x265d1e[_0x265fcd(0x166)]),await _0x265d1e[_0x265fcd(0x17f)](sendInstrumentationEvent,_0x40ff8e,_0x265d1e[_0x265fcd(0x174)],messageTypes[_0x265fcd(0x19f)],_0x265d1e[_0x265fcd(0x176)],null,_0x40ff8e),process[_0x265fcd(0x190)](0x1)),console['error'](_0x265fcd(0x157)+JSON['stringify'](_0xe356f5)),await _0x265d1e[_0x265fcd(0x16a)](sendInstrumentationEvent,_0x40ff8e,_0x265d1e[_0x265fcd(0x174)],messageTypes[_0x265fcd(0x19f)],_0x265d1e['NgoXH'],_0xe356f5,_0x40ff8e),process['exit'](0x1);}catch(_0x1b899f){console['error'](_0x265fcd(0x184)+_0x1b899f[_0x265fcd(0x198)]),await _0x265d1e[_0x265fcd(0x172)](sendInstrumentationEvent,_0x40ff8e,_0x265d1e[_0x265fcd(0x174)],messageTypes[_0x265fcd(0x19f)],_0x265d1e[_0x265fcd(0x181)],_0x1b899f,_0x40ff8e),process[_0x265fcd(0x190)](0x1);}};