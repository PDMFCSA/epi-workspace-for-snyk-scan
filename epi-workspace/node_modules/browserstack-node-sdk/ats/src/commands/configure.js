const a5_0x2f3896=a5_0x3a1a;(function(_0x1d70fc,_0xb70470){const _0xe775c=a5_0x3a1a,_0x21291a=_0x1d70fc();while(!![]){try{const _0x5acbb9=parseInt(_0xe775c(0xed))/0x1*(-parseInt(_0xe775c(0xef))/0x2)+-parseInt(_0xe775c(0xec))/0x3*(-parseInt(_0xe775c(0x130))/0x4)+parseInt(_0xe775c(0x118))/0x5*(-parseInt(_0xe775c(0x142))/0x6)+-parseInt(_0xe775c(0x13c))/0x7*(-parseInt(_0xe775c(0x11f))/0x8)+-parseInt(_0xe775c(0x13e))/0x9*(-parseInt(_0xe775c(0x116))/0xa)+parseInt(_0xe775c(0x132))/0xb+-parseInt(_0xe775c(0x11a))/0xc;if(_0x5acbb9===_0xb70470)break;else _0x21291a['push'](_0x21291a['shift']());}catch(_0x5c52de){_0x21291a['push'](_0x21291a['shift']());}}}(a5_0x2d61,0x69d42));function a5_0x2d61(){const _0x4eb887=['QTyPe','Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','\x20\x20username:\x20','yezrZ','QgSin','vxBlf','length','requestId','ZBPKL','AZhyG','configure-called','username','ePBjM','error','list','1076kjkbZo','HgGYy','3792437XshCtb','unknown-error','VRGKk','profileId','vRqtP','\x20\x20grid-profile:\x20','Configure\x20the\x20default\x20automation\x20grid\x20profiles\x20on\x20BrowserStack\x20CLI.','help','../config/constants','FUCzZ','307006Pcgeuy','SedFw','9jQLdPL','../utils/userInput','existsSync','../utils/instrumentationUtils','56604JzYmSw','core:','init-not-called','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item)','nbRTK','bkjnP','uRgmc','password','Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','https://','Vhvmh','parse','417XUOunq','2658NKaqfP','WEbCw','86MkOgMJ','unauthorised','\x0aCurrent\x20configured\x20automation\x20grid\x20settings\x20are:','exit','Browserstack','statusCode','TnoMx','log','toLowerCase','usage','wKqBg','ABxvA','KKcKZ','stack','TbbRU','Failed\x20to\x20update\x20grid\x20profile.\x20Response\x20from\x20server:\x20','Failed\x20to\x20configure\x20resources!\x20Error:\x20','SxmIV','GET','ylXts','readFileSync','builder','JIytG','ZHkMm','name','stringify','Pkplj','ERROR','vKScl','recommendCommands','Failed\x20to\x20update\x20grid\x20profile.\x20Unauthorized\x20request!','Updated\x20default\x20Grid\x20Profile\x20successfully','wFDBw','json','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','What\x20Grid\x20profile\x20will\x20you\x20make\x20as\x20default?','DAzEr','SUOeO','desc','6457510nomOwQ','LMmGh','240hxRAsT','CmfJQ','7169556fwGwFT','../utils/utilityMethods','command','configure','PAkXp','104LzkFRk','NJdlI'];a5_0x2d61=function(){return _0x4eb887;};return a5_0x2d61();}const fs=require('fs'),got=require('got'),{v4:uuidv4}=require('uuid'),{inputConfirmation,closeInput}=require(a5_0x2f3896(0x13f)),{AG_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a5_0x2f3896(0x13a)),{getCredentialsPath,getAuthHeader}=require(a5_0x2f3896(0x11b)),{sendInstrumentationEvent}=require(a5_0x2f3896(0x141));function a5_0x3a1a(_0x255a64,_0x4616bf){const _0x2d61ce=a5_0x2d61();return a5_0x3a1a=function(_0x3a1a7a,_0x518625){_0x3a1a7a=_0x3a1a7a-0xe0;let _0x12a972=_0x2d61ce[_0x3a1a7a];return _0x12a972;},a5_0x3a1a(_0x255a64,_0x4616bf);}exports[a5_0x2f3896(0x11c)]='configure',exports[a5_0x2f3896(0x115)]=a5_0x2f3896(0x138),exports[a5_0x2f3896(0x104)]=function(_0x10a6ed){const _0x112547=a5_0x2f3896,_0x4c4c79={};_0x4c4c79[_0x112547(0x131)]=_0x112547(0x139);const _0x354a72=_0x4c4c79;return _0x10a6ed[_0x112547(0xf8)](HELP_HEADER_MESSAGE[_0x112547(0x11d)])['epilogue'](HELP_FOOTER_MESSAGE)[_0x112547(0x139)](_0x354a72['HgGYy'])[_0x112547(0x10c)]()['strict']()['argv'];},exports['handler']=async function(_0x34318e){const _0x5c8cd4=a5_0x2f3896,_0x4333c7={'hdePi':function(_0x25c03f){return _0x25c03f();},'LMmGh':function(_0x38ca64){return _0x38ca64();},'ZHkMm':_0x5c8cd4(0xe8),'TnoMx':function(_0xc0124d,_0x229b93,_0x2f3d10,_0x1d4ae4,_0x2ec432,_0x1e5305,_0x219f54){return _0xc0124d(_0x229b93,_0x2f3d10,_0x1d4ae4,_0x2ec432,_0x1e5305,_0x219f54);},'PAkXp':_0x5c8cd4(0x12b),'Pkplj':_0x5c8cd4(0xe1),'DAzEr':function(_0x354d29){return _0x354d29();},'Vhvmh':_0x5c8cd4(0x101),'uRgmc':function(_0x5d801f,_0x44e1ef,_0x44e5e6){return _0x5d801f(_0x44e1ef,_0x44e5e6);},'SPoKl':function(_0x33d13e,_0x557cf5,_0x559fdd){return _0x33d13e(_0x557cf5,_0x559fdd);},'AZhyG':function(_0x1867a3,_0x4616d3){return _0x1867a3!==_0x4616d3;},'yezrZ':function(_0x4fc2b2,_0x2fdc10){return _0x4fc2b2===_0x2fdc10;},'SUOeO':_0x5c8cd4(0xf1),'wKqBg':_0x5c8cd4(0xe0),'TbbRU':function(_0x43eebb,_0x1867c9){return _0x43eebb(_0x1867c9);},'VRGKk':'Do\x20you\x20want\x20to\x20change\x20the\x20default\x20grid-profile\x20(y/n)?','vKScl':function(_0x430a16,_0x310ec3){return _0x430a16===_0x310ec3;},'QTyPe':_0x5c8cd4(0x111),'bkjnP':function(_0xd12478,_0x790b18,_0x420cb7,_0x4c6832,_0x1a2a3c,_0x1046b9,_0x1deea0){return _0xd12478(_0x790b18,_0x420cb7,_0x4c6832,_0x1a2a3c,_0x1046b9,_0x1deea0);},'vxBlf':'invalid-input','gpECP':_0x5c8cd4(0x112),'cKEiy':function(_0x229ce9,_0x48b6c9){return _0x229ce9<_0x48b6c9;},'ylXts':function(_0x1b132d,_0x5065e6){return _0x1b132d+_0x5065e6;},'SedFw':_0x5c8cd4(0xe2),'KKcKZ':function(_0x42d39d,_0xe2f546){return _0x42d39d(_0xe2f546);},'FUCzZ':function(_0x15edf4,_0x4f2205){return _0x15edf4<=_0x4f2205;},'ZBPKL':function(_0x274caf,_0x47e9a9){return _0x274caf>_0x47e9a9;},'vRqtP':'invalid-selection','WEbCw':function(_0x21183f,_0x2fbde6){return _0x21183f-_0x2fbde6;},'uempx':'PUT','SxmIV':function(_0x41df81,_0x176ac9,_0x43f9bb){return _0x41df81(_0x176ac9,_0x43f9bb);},'JIytG':_0x5c8cd4(0x110),'tNmIa':function(_0x2eec13,_0xb75bdc){return _0x2eec13!==_0xb75bdc;},'ABxvA':function(_0x481792,_0x12c992){return _0x481792===_0x12c992;},'hyXeM':_0x5c8cd4(0x10e),'yqMaw':function(_0x25bb2c,_0xfa20c3){return _0x25bb2c===_0xfa20c3;},'nbRTK':_0x5c8cd4(0x10d),'wFDBw':_0x5c8cd4(0xf0),'QgSin':'server-error','CmfJQ':function(_0x6dac81,_0x1fcead){return _0x6dac81===_0x1fcead;},'NJdlI':_0x5c8cd4(0xe7),'ePBjM':function(_0x14a59c,_0x406f29,_0x35c370,_0x5a9660,_0x139a7b,_0x4683ca,_0x46cdaf){return _0x14a59c(_0x406f29,_0x35c370,_0x5a9660,_0x139a7b,_0x4683ca,_0x46cdaf);},'WHFvr':_0x5c8cd4(0x133)};try{global_registry[_0x5c8cd4(0x128)]=_0x4333c7['hdePi'](uuidv4);const _0xc7f90b=_0x5c8cd4(0xe9)+AG_API_URL+'/packages/cli/configure';!fs[_0x5c8cd4(0x140)](_0x4333c7['LMmGh'](getCredentialsPath))&&(console[_0x5c8cd4(0x12e)](_0x4333c7[_0x5c8cd4(0x106)]),await _0x4333c7[_0x5c8cd4(0xf5)](sendInstrumentationEvent,_0x34318e,_0x4333c7['PAkXp'],messageTypes['ERROR'],_0x4333c7[_0x5c8cd4(0x109)],null,_0x34318e),process[_0x5c8cd4(0xf2)](0x1));await _0x4333c7['TnoMx'](sendInstrumentationEvent,_0x34318e,_0x4333c7[_0x5c8cd4(0x11e)],messageTypes['INFO'],null,null,_0x34318e);const _0x3edde9=JSON[_0x5c8cd4(0xeb)](fs[_0x5c8cd4(0x103)](_0x4333c7[_0x5c8cd4(0x113)](getCredentialsPath))),_0x75c42c={'method':_0x4333c7[_0x5c8cd4(0xea)],'headers':_0x4333c7[_0x5c8cd4(0xe5)](getAuthHeader,_0x3edde9['Browserstack']['username'],_0x3edde9['Browserstack']['password']),'throwHttpErrors':![]},_0x19ced7=await _0x4333c7['SPoKl'](got,_0xc7f90b,_0x75c42c);if(_0x4333c7[_0x5c8cd4(0x12a)](_0x19ced7,null)&&_0x4333c7[_0x5c8cd4(0x12a)](_0x19ced7,undefined)&&_0x4333c7[_0x5c8cd4(0x124)](_0x19ced7[_0x5c8cd4(0xf4)],0xc8)){const _0x23d0ad=JSON[_0x5c8cd4(0xeb)](_0x19ced7['body']);console[_0x5c8cd4(0xf6)](_0x4333c7[_0x5c8cd4(0x114)]),console[_0x5c8cd4(0xf6)](_0x4333c7[_0x5c8cd4(0xf9)]),console[_0x5c8cd4(0xf6)](_0x5c8cd4(0x123)+_0x3edde9['Browserstack'][_0x5c8cd4(0x12c)]),console[_0x5c8cd4(0xf6)](_0x5c8cd4(0x137)+_0x23d0ad['active'][_0x5c8cd4(0x107)]);const _0xdfe3d5=await _0x4333c7['TbbRU'](inputConfirmation,_0x4333c7[_0x5c8cd4(0x134)]);(_0x4333c7[_0x5c8cd4(0x124)](_0xdfe3d5,undefined)||_0x4333c7[_0x5c8cd4(0x124)](_0xdfe3d5,null)||!(_0x4333c7[_0x5c8cd4(0x10b)](_0xdfe3d5['toLowerCase'](),'y')||_0x4333c7[_0x5c8cd4(0x124)](_0xdfe3d5[_0x5c8cd4(0xf7)](),'n')))&&(console['error'](_0x4333c7['QTyPe']),await _0x4333c7[_0x5c8cd4(0xe4)](sendInstrumentationEvent,_0x34318e,_0x4333c7[_0x5c8cd4(0x11e)],messageTypes[_0x5c8cd4(0x10a)],_0x4333c7[_0x5c8cd4(0x126)],null,_0x34318e),process[_0x5c8cd4(0xf2)](0x1));_0x4333c7['vKScl'](_0xdfe3d5[_0x5c8cd4(0xf7)](),'n')&&process[_0x5c8cd4(0xf2)](0x0);console[_0x5c8cd4(0xf6)](_0x4333c7['gpECP']);const _0x1ad261=_0x23d0ad[_0x5c8cd4(0x12f)][_0x5c8cd4(0x127)];for(let _0x4f34e3=0x0;_0x4333c7['cKEiy'](_0x4f34e3,_0x1ad261);_0x4f34e3+=0x1){console[_0x5c8cd4(0xf6)]('['+_0x4333c7[_0x5c8cd4(0x102)](_0x4f34e3,0x1)+']\x20'+_0x23d0ad[_0x5c8cd4(0x12f)][_0x4f34e3][_0x5c8cd4(0x107)]);}const _0x5d1002=await _0x4333c7['TbbRU'](inputConfirmation,_0x4333c7[_0x5c8cd4(0x13d)]),_0xa69eb6=_0x4333c7[_0x5c8cd4(0xfb)](Number,_0x5d1002);(_0x4333c7[_0x5c8cd4(0xfd)](isNaN,_0xa69eb6)||_0x4333c7[_0x5c8cd4(0x13b)](_0xa69eb6,0x0)||_0x4333c7[_0x5c8cd4(0x129)](_0xa69eb6,_0x1ad261))&&(console[_0x5c8cd4(0x12e)](_0x4333c7[_0x5c8cd4(0x121)]),await _0x4333c7[_0x5c8cd4(0xf5)](sendInstrumentationEvent,_0x34318e,_0x4333c7[_0x5c8cd4(0x11e)],messageTypes[_0x5c8cd4(0x10a)],_0x4333c7[_0x5c8cd4(0x136)],null,_0x34318e),process['exit'](0x1));_0x4333c7[_0x5c8cd4(0x117)](closeInput);const _0xd95e91=_0x23d0ad['list'][_0x4333c7[_0x5c8cd4(0xee)](_0xa69eb6,0x1)]['id'],_0x21061e={};_0x21061e[_0x5c8cd4(0x135)]=_0xd95e91;const _0x1cb2f7={'method':_0x4333c7['uempx'],'headers':_0x4333c7['SxmIV'](getAuthHeader,_0x3edde9[_0x5c8cd4(0xf3)]['username'],_0x3edde9[_0x5c8cd4(0xf3)][_0x5c8cd4(0xe6)]),'json':_0x21061e,'responseType':_0x4333c7[_0x5c8cd4(0x105)],'throwHttpErrors':![]},_0x18e2f5=await _0x4333c7[_0x5c8cd4(0x100)](got,_0xc7f90b,_0x1cb2f7);_0x4333c7['tNmIa'](_0x18e2f5,null)&&_0x4333c7[_0x5c8cd4(0x12a)](_0x18e2f5,undefined)&&_0x4333c7[_0x5c8cd4(0xfa)](_0x18e2f5[_0x5c8cd4(0xf4)],0xc8)&&(console[_0x5c8cd4(0xf6)](_0x4333c7['hyXeM']),process[_0x5c8cd4(0xf2)](0x0)),_0x4333c7['yqMaw'](_0x18e2f5[_0x5c8cd4(0xf4)],0x191)&&(console[_0x5c8cd4(0x12e)](_0x4333c7[_0x5c8cd4(0xe3)]),await _0x4333c7[_0x5c8cd4(0xf5)](sendInstrumentationEvent,_0x34318e,_0x4333c7[_0x5c8cd4(0x11e)],messageTypes[_0x5c8cd4(0x10a)],_0x4333c7[_0x5c8cd4(0x10f)],null,_0x34318e),process['exit'](0x1)),console[_0x5c8cd4(0x12e)](_0x5c8cd4(0xfe)+JSON[_0x5c8cd4(0x108)](_0x18e2f5)),await _0x4333c7[_0x5c8cd4(0xf5)](sendInstrumentationEvent,_0x34318e,_0x4333c7[_0x5c8cd4(0x11e)],messageTypes[_0x5c8cd4(0x10a)],_0x4333c7[_0x5c8cd4(0x125)],_0x18e2f5,_0x34318e),process['exit'](0x1);}_0x4333c7[_0x5c8cd4(0x119)](_0x19ced7[_0x5c8cd4(0xf4)],0x191)&&(console[_0x5c8cd4(0x12e)](_0x4333c7[_0x5c8cd4(0x120)]),await _0x4333c7[_0x5c8cd4(0xf5)](sendInstrumentationEvent,_0x34318e,_0x4333c7[_0x5c8cd4(0x11e)],messageTypes['ERROR'],_0x4333c7[_0x5c8cd4(0x10f)],null,_0x34318e),process[_0x5c8cd4(0xf2)](0x1)),console[_0x5c8cd4(0x12e)](_0x5c8cd4(0x122)+JSON[_0x5c8cd4(0x108)](_0x19ced7)),await _0x4333c7[_0x5c8cd4(0x12d)](sendInstrumentationEvent,_0x34318e,_0x4333c7[_0x5c8cd4(0x11e)],messageTypes['ERROR'],_0x4333c7[_0x5c8cd4(0x125)],_0x19ced7,_0x34318e),process['exit'](0x1);}catch(_0x58cced){console[_0x5c8cd4(0x12e)](_0x5c8cd4(0xff)+_0x58cced[_0x5c8cd4(0xfc)]),await _0x4333c7['bkjnP'](sendInstrumentationEvent,_0x34318e,_0x4333c7[_0x5c8cd4(0x11e)],messageTypes[_0x5c8cd4(0x10a)],_0x4333c7['WHFvr'],_0x58cced,_0x34318e),process[_0x5c8cd4(0xf2)](0x1);}};