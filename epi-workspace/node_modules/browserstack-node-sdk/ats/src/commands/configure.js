const a5_0x4da640=a5_0x1ff2;(function(_0x56b2fc,_0x1a22c3){const _0x1953b3=a5_0x1ff2,_0x133683=_0x56b2fc();while(!![]){try{const _0xfb0d88=-parseInt(_0x1953b3(0x148))/0x1*(parseInt(_0x1953b3(0x16d))/0x2)+parseInt(_0x1953b3(0x127))/0x3*(-parseInt(_0x1953b3(0x164))/0x4)+parseInt(_0x1953b3(0x166))/0x5*(parseInt(_0x1953b3(0x154))/0x6)+parseInt(_0x1953b3(0x11e))/0x7*(parseInt(_0x1953b3(0x10d))/0x8)+parseInt(_0x1953b3(0x155))/0x9+parseInt(_0x1953b3(0x168))/0xa+-parseInt(_0x1953b3(0x14e))/0xb;if(_0xfb0d88===_0x1a22c3)break;else _0x133683['push'](_0x133683['shift']());}catch(_0x3f96a1){_0x133683['push'](_0x133683['shift']());}}}(a5_0x5bb8,0x1a382));function a5_0x1ff2(_0x1fd7c3,_0xea2956){const _0x5bb80f=a5_0x5bb8();return a5_0x1ff2=function(_0x1ff23d,_0x5acfdd){_0x1ff23d=_0x1ff23d-0x107;let _0x3483ad=_0x5bb80f[_0x1ff23d];return _0x3483ad;},a5_0x1ff2(_0x1fd7c3,_0xea2956);}const fs=require('fs'),got=require('got'),{v4:uuidv4}=require('uuid'),{inputConfirmation,closeInput}=require(a5_0x4da640(0x152)),{AG_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require('../config/constants'),{getCredentialsPath,getAuthHeader}=require(a5_0x4da640(0x125)),{sendInstrumentationEvent}=require(a5_0x4da640(0x13c));exports[a5_0x4da640(0x11b)]='configure',exports[a5_0x4da640(0x15e)]=a5_0x4da640(0x12d),exports[a5_0x4da640(0x120)]=function(_0x11fae4){const _0x42b1ec=a5_0x4da640,_0x5514cd={};_0x5514cd[_0x42b1ec(0x114)]=_0x42b1ec(0x140);const _0x286647=_0x5514cd;return _0x11fae4[_0x42b1ec(0x13d)](HELP_HEADER_MESSAGE[_0x42b1ec(0x14a)])['epilogue'](HELP_FOOTER_MESSAGE)[_0x42b1ec(0x140)](_0x286647[_0x42b1ec(0x114)])[_0x42b1ec(0x118)]()[_0x42b1ec(0x129)]()[_0x42b1ec(0x13b)];},exports['handler']=async function(_0x1ac267){const _0x24350a=a5_0x4da640,_0x4f02f0={'SqyLo':function(_0x3bf2e5){return _0x3bf2e5();},'yqexq':_0x24350a(0x12e),'hJZuQ':function(_0x25a77c,_0x125639,_0x1198fd,_0x11e314,_0x1d833e,_0x32af87,_0x4834ce){return _0x25a77c(_0x125639,_0x1198fd,_0x11e314,_0x1d833e,_0x32af87,_0x4834ce);},'txaxg':'configure-called','iDqFX':_0x24350a(0x157),'WRkVh':'GET','QwXEF':function(_0x3aac2a,_0x4efc00,_0x440cd5){return _0x3aac2a(_0x4efc00,_0x440cd5);},'YYbUM':function(_0x15cd22,_0x3f8735,_0x3a99e3){return _0x15cd22(_0x3f8735,_0x3a99e3);},'vusPg':function(_0x32fb3e,_0x38dae0){return _0x32fb3e!==_0x38dae0;},'WSzkk':function(_0x1c4191,_0xadd80f){return _0x1c4191!==_0xadd80f;},'uouCr':function(_0x3273d8,_0x1f84ad){return _0x3273d8===_0x1f84ad;},'ATOBx':_0x24350a(0x15b),'tXiVP':'core:','wyAaX':function(_0x4caa6d,_0x3b7d92){return _0x4caa6d(_0x3b7d92);},'CFOMd':_0x24350a(0x13e),'LCiAc':function(_0x32fea6,_0x2b38cd){return _0x32fea6===_0x2b38cd;},'akQcm':function(_0x550ba0,_0x5883e9){return _0x550ba0===_0x5883e9;},'IQfAD':function(_0x43ae72,_0x326913){return _0x43ae72===_0x326913;},'lJvma':function(_0x2b8301,_0x1a1443){return _0x2b8301===_0x1a1443;},'sTwsU':_0x24350a(0x15d),'JgaMY':function(_0xc03b,_0x1340f5,_0x1df018,_0x21dede,_0x6a8059,_0x14b500,_0x5c5037){return _0xc03b(_0x1340f5,_0x1df018,_0x21dede,_0x6a8059,_0x14b500,_0x5c5037);},'rfBKN':'invalid-input','bMrgT':function(_0x3179e1,_0x44a6f5){return _0x3179e1===_0x44a6f5;},'OrEkT':_0x24350a(0x12b),'fNGav':function(_0x24204f,_0x28bbd){return _0x24204f<_0x28bbd;},'VCyYE':function(_0x102b5f,_0x161f08){return _0x102b5f+_0x161f08;},'wmGbF':function(_0xd6e2ae,_0x3cd4cd){return _0xd6e2ae(_0x3cd4cd);},'Cgoob':'Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item)','VKfCj':function(_0x44ae0f,_0x261662){return _0x44ae0f(_0x261662);},'FoRVB':function(_0x594e1a,_0x51a32e){return _0x594e1a<=_0x51a32e;},'OIsiA':function(_0xab5844,_0x410133){return _0xab5844>_0x410133;},'mhhny':_0x24350a(0x167),'ZEBlY':function(_0x467b9d){return _0x467b9d();},'pSwmE':function(_0x3f4f19,_0x2a5865){return _0x3f4f19-_0x2a5865;},'MdXzL':_0x24350a(0x16c),'odVHj':_0x24350a(0x12f),'xXmRw':function(_0x4eadbc,_0x1df648){return _0x4eadbc!==_0x1df648;},'tlUFi':function(_0x39e93b,_0x5dd90e){return _0x39e93b!==_0x5dd90e;},'JXtRR':_0x24350a(0x128),'UwtSX':function(_0x55dc9d,_0x55fe06){return _0x55dc9d===_0x55fe06;},'SOeut':_0x24350a(0x149),'mZBPs':_0x24350a(0x126),'pZdlf':_0x24350a(0x112),'jsjFl':function(_0x2c4088,_0xe78ed){return _0x2c4088===_0xe78ed;},'ShFTz':_0x24350a(0x110),'hJcPV':function(_0x40409e,_0x303135,_0x1b8f19,_0x23cdad,_0x5ebb16,_0x16be65,_0x2bb717){return _0x40409e(_0x303135,_0x1b8f19,_0x23cdad,_0x5ebb16,_0x16be65,_0x2bb717);},'WHHfS':_0x24350a(0x14b)};try{global_registry[_0x24350a(0x131)]=_0x4f02f0[_0x24350a(0x160)](uuidv4);const _0x330c9d=_0x24350a(0x147)+AG_API_URL+_0x24350a(0x159);!fs[_0x24350a(0x151)](_0x4f02f0['SqyLo'](getCredentialsPath))&&(console[_0x24350a(0x141)](_0x4f02f0[_0x24350a(0x121)]),await _0x4f02f0[_0x24350a(0x145)](sendInstrumentationEvent,_0x1ac267,_0x4f02f0[_0x24350a(0x108)],messageTypes[_0x24350a(0x143)],_0x4f02f0[_0x24350a(0x123)],null,_0x1ac267),process[_0x24350a(0x10f)](0x1));await _0x4f02f0[_0x24350a(0x145)](sendInstrumentationEvent,_0x1ac267,_0x4f02f0[_0x24350a(0x108)],messageTypes[_0x24350a(0x12c)],null,null,_0x1ac267);const _0x25f819=JSON[_0x24350a(0x14d)](fs[_0x24350a(0x139)](_0x4f02f0[_0x24350a(0x160)](getCredentialsPath))),_0x451384={'method':_0x4f02f0['WRkVh'],'headers':_0x4f02f0[_0x24350a(0x133)](getAuthHeader,_0x25f819[_0x24350a(0x153)][_0x24350a(0x15a)],_0x25f819[_0x24350a(0x153)][_0x24350a(0x11c)]),'throwHttpErrors':![]},_0x3e2dc3=await _0x4f02f0[_0x24350a(0x122)](got,_0x330c9d,_0x451384);if(_0x4f02f0['vusPg'](_0x3e2dc3,null)&&_0x4f02f0[_0x24350a(0x14f)](_0x3e2dc3,undefined)&&_0x4f02f0[_0x24350a(0x14c)](_0x3e2dc3[_0x24350a(0x150)],0xc8)){const _0x16a46d=JSON['parse'](_0x3e2dc3[_0x24350a(0x144)]);console['log'](_0x4f02f0[_0x24350a(0x10e)]),console[_0x24350a(0x134)](_0x4f02f0[_0x24350a(0x124)]),console[_0x24350a(0x134)](_0x24350a(0x13a)+_0x25f819[_0x24350a(0x153)][_0x24350a(0x15a)]),console['log'](_0x24350a(0x107)+_0x16a46d[_0x24350a(0x132)][_0x24350a(0x11f)]);const _0x210e47=await _0x4f02f0[_0x24350a(0x119)](inputConfirmation,_0x4f02f0['CFOMd']);(_0x4f02f0[_0x24350a(0x136)](_0x210e47,undefined)||_0x4f02f0[_0x24350a(0x156)](_0x210e47,null)||!(_0x4f02f0[_0x24350a(0x138)](_0x210e47[_0x24350a(0x15c)](),'y')||_0x4f02f0[_0x24350a(0x16b)](_0x210e47[_0x24350a(0x15c)](),'n')))&&(console[_0x24350a(0x141)](_0x4f02f0[_0x24350a(0x169)]),await _0x4f02f0[_0x24350a(0x13f)](sendInstrumentationEvent,_0x1ac267,_0x4f02f0[_0x24350a(0x108)],messageTypes[_0x24350a(0x143)],_0x4f02f0[_0x24350a(0x162)],null,_0x1ac267),process[_0x24350a(0x10f)](0x1));_0x4f02f0[_0x24350a(0x130)](_0x210e47[_0x24350a(0x15c)](),'n')&&process[_0x24350a(0x10f)](0x0);console[_0x24350a(0x134)](_0x4f02f0[_0x24350a(0x117)]);const _0x873d30=_0x16a46d['list']['length'];for(let _0x40d359=0x0;_0x4f02f0[_0x24350a(0x146)](_0x40d359,_0x873d30);_0x40d359+=0x1){console[_0x24350a(0x134)]('['+_0x4f02f0['VCyYE'](_0x40d359,0x1)+']\x20'+_0x16a46d[_0x24350a(0x15f)][_0x40d359]['name']);}const _0x568fc0=await _0x4f02f0[_0x24350a(0x163)](inputConfirmation,_0x4f02f0['Cgoob']),_0x555bf3=_0x4f02f0[_0x24350a(0x119)](Number,_0x568fc0);(_0x4f02f0['VKfCj'](isNaN,_0x555bf3)||_0x4f02f0['FoRVB'](_0x555bf3,0x0)||_0x4f02f0['OIsiA'](_0x555bf3,_0x873d30))&&(console['error'](_0x4f02f0[_0x24350a(0x169)]),await _0x4f02f0['hJZuQ'](sendInstrumentationEvent,_0x1ac267,_0x4f02f0['txaxg'],messageTypes['ERROR'],_0x4f02f0[_0x24350a(0x10b)],null,_0x1ac267),process[_0x24350a(0x10f)](0x1));_0x4f02f0[_0x24350a(0x11d)](closeInput);const _0xfd6bc4=_0x16a46d['list'][_0x4f02f0[_0x24350a(0x113)](_0x555bf3,0x1)]['id'],_0x568fc9={};_0x568fc9[_0x24350a(0x158)]=_0xfd6bc4;const _0x4716fc={'method':_0x4f02f0[_0x24350a(0x165)],'headers':_0x4f02f0[_0x24350a(0x133)](getAuthHeader,_0x25f819[_0x24350a(0x153)][_0x24350a(0x15a)],_0x25f819[_0x24350a(0x153)][_0x24350a(0x11c)]),'json':_0x568fc9,'responseType':_0x4f02f0[_0x24350a(0x11a)],'throwHttpErrors':![]},_0x344ee8=await _0x4f02f0['YYbUM'](got,_0x330c9d,_0x4716fc);_0x4f02f0[_0x24350a(0x142)](_0x344ee8,null)&&_0x4f02f0[_0x24350a(0x161)](_0x344ee8,undefined)&&_0x4f02f0['LCiAc'](_0x344ee8[_0x24350a(0x150)],0xc8)&&(console[_0x24350a(0x134)](_0x4f02f0[_0x24350a(0x10c)]),process[_0x24350a(0x10f)](0x0)),_0x4f02f0['UwtSX'](_0x344ee8['statusCode'],0x191)&&(console[_0x24350a(0x141)](_0x4f02f0['SOeut']),await _0x4f02f0[_0x24350a(0x145)](sendInstrumentationEvent,_0x1ac267,_0x4f02f0[_0x24350a(0x108)],messageTypes[_0x24350a(0x143)],_0x4f02f0[_0x24350a(0x135)],null,_0x1ac267),process[_0x24350a(0x10f)](0x1)),console[_0x24350a(0x141)](_0x24350a(0x111)+JSON[_0x24350a(0x116)](_0x344ee8)),await _0x4f02f0[_0x24350a(0x145)](sendInstrumentationEvent,_0x1ac267,_0x4f02f0[_0x24350a(0x108)],messageTypes[_0x24350a(0x143)],_0x4f02f0[_0x24350a(0x109)],_0x344ee8,_0x1ac267),process['exit'](0x1);}_0x4f02f0[_0x24350a(0x115)](_0x3e2dc3[_0x24350a(0x150)],0x191)&&(console['error'](_0x4f02f0[_0x24350a(0x10a)]),await _0x4f02f0['JgaMY'](sendInstrumentationEvent,_0x1ac267,_0x4f02f0[_0x24350a(0x108)],messageTypes[_0x24350a(0x143)],_0x4f02f0[_0x24350a(0x135)],null,_0x1ac267),process[_0x24350a(0x10f)](0x1)),console['error'](_0x24350a(0x12a)+JSON[_0x24350a(0x116)](_0x3e2dc3)),await _0x4f02f0[_0x24350a(0x16a)](sendInstrumentationEvent,_0x1ac267,_0x4f02f0[_0x24350a(0x108)],messageTypes[_0x24350a(0x143)],_0x4f02f0[_0x24350a(0x109)],_0x3e2dc3,_0x1ac267),process[_0x24350a(0x10f)](0x1);}catch(_0x15f804){console[_0x24350a(0x141)]('Failed\x20to\x20configure\x20resources!\x20Error:\x20'+_0x15f804[_0x24350a(0x137)]),await _0x4f02f0['hJcPV'](sendInstrumentationEvent,_0x1ac267,_0x4f02f0[_0x24350a(0x108)],messageTypes[_0x24350a(0x143)],_0x4f02f0['WHHfS'],_0x15f804,_0x1ac267),process[_0x24350a(0x10f)](0x1);}};function a5_0x5bb8(){const _0x362fd1=['xXmRw','ERROR','body','hJZuQ','fNGav','https://','47192OwyEfZ','Failed\x20to\x20update\x20grid\x20profile.\x20Unauthorized\x20request!','configure','unknown-error','uouCr','parse','5010192mzAseH','WSzkk','statusCode','existsSync','../utils/userInput','Browserstack','30XlvXsS','1609110xTvpxr','akQcm','init-not-called','profileId','/packages/cli/configure','username','\x0aCurrent\x20configured\x20automation\x20grid\x20settings\x20are:','toLowerCase','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','desc','list','SqyLo','tlUFi','rfBKN','wmGbF','103924FUddUg','MdXzL','191135VugOEs','invalid-selection','874430WaYvwx','sTwsU','hJcPV','lJvma','PUT','2mDvWqw','\x20\x20grid-profile:\x20','txaxg','pZdlf','ShFTz','mhhny','JXtRR','1637216UckEhn','ATOBx','exit','Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','Failed\x20to\x20update\x20grid\x20profile.\x20Response\x20from\x20server:\x20','server-error','pSwmE','ebsId','jsjFl','stringify','OrEkT','recommendCommands','wyAaX','odVHj','command','password','ZEBlY','7kGsjix','name','builder','yqexq','YYbUM','iDqFX','tXiVP','../utils/utilityMethods','unauthorised','6AiqePn','Updated\x20default\x20Grid\x20Profile\x20successfully','strict','Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','What\x20Grid\x20profile\x20will\x20you\x20make\x20as\x20default?','INFO','Configure\x20the\x20default\x20automation\x20grid\x20profiles\x20on\x20BrowserStack\x20CLI.','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','json','bMrgT','requestId','active','QwXEF','log','mZBPs','LCiAc','stack','IQfAD','readFileSync','\x20\x20username:\x20','argv','../utils/instrumentationUtils','usage','Do\x20you\x20want\x20to\x20change\x20the\x20default\x20grid-profile\x20(y/n)?','JgaMY','help','error'];a5_0x5bb8=function(){return _0x362fd1;};return a5_0x5bb8();}