const a5_0x18e5f6=a5_0x25ab;function a5_0x25ab(_0x210802,_0xfb56df){const _0x1b429a=a5_0x1b42();return a5_0x25ab=function(_0x25ab09,_0x340060){_0x25ab09=_0x25ab09-0x12b;let _0x5dbb2b=_0x1b429a[_0x25ab09];return _0x5dbb2b;},a5_0x25ab(_0x210802,_0xfb56df);}(function(_0x4943e2,_0x1d8b5f){const _0x4e5ad6=a5_0x25ab,_0x949b8f=_0x4943e2();while(!![]){try{const _0x3313f5=-parseInt(_0x4e5ad6(0x181))/0x1+parseInt(_0x4e5ad6(0x164))/0x2+-parseInt(_0x4e5ad6(0x134))/0x3+-parseInt(_0x4e5ad6(0x16c))/0x4+parseInt(_0x4e5ad6(0x150))/0x5+-parseInt(_0x4e5ad6(0x15c))/0x6+-parseInt(_0x4e5ad6(0x145))/0x7*(-parseInt(_0x4e5ad6(0x185))/0x8);if(_0x3313f5===_0x1d8b5f)break;else _0x949b8f['push'](_0x949b8f['shift']());}catch(_0x283a4c){_0x949b8f['push'](_0x949b8f['shift']());}}}(a5_0x1b42,0x830ea));function a5_0x1b42(){const _0x3feac5=['unknown-error','statusCode','OrYuw','requestId','49HmAqjv','recommendCommands','slBUx','length','Do\x20you\x20want\x20to\x20change\x20the\x20default\x20grid-profile\x20(y/n)?','DJweS','configure','builder','body','pVtDT','wzVzX','2870935tMMyhF','command','UoOMV','CxCGO','core:','YrLwl','Failed\x20to\x20update\x20grid\x20profile.\x20Unauthorized\x20request!','KvSlU','log','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item)','/packages/cli/configure','vofql','1096446WKkIXr','help','usage','desc','stringify','zoGAc','lUcjZ','UXyGt','2130162qTmYtj','profileId','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','NuivN','password','LxeMw','argv','vKXyX','4292420BVTwVr','existsSync','../utils/instrumentationUtils','username','WkRZz','ANyzT','error','hkwqn','Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','list','exit','ctmZJ','Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','Browserstack','got','PUT','Failed\x20to\x20configure\x20resources!\x20Error:\x20','server-error','../config/constants','pdvMa','invalid-input','624075iodUbK','active','TDmNh','parse','1809664KFnITO','Configure\x20the\x20default\x20automation\x20grid\x20profiles\x20on\x20BrowserStack\x20CLI.','ocELJ','https://','WXgkj','HGFZU','UcuDc','zIHhW','cdPDE','yInLm','zezaw','name','nWdju','Failed\x20to\x20update\x20grid\x20profile.\x20Response\x20from\x20server:\x20','readFileSync','2417979AAggZA','AwewN','RzVmM','../utils/userInput','INFO','bxRHB','ERROR','json','nVsKB','toLowerCase','\x20\x20username:\x20','strict','invalid-selection'];a5_0x1b42=function(){return _0x3feac5;};return a5_0x1b42();}const fs=require('fs'),got=require(a5_0x18e5f6(0x17a)),{v4:uuidv4}=require('uuid'),{inputConfirmation,closeInput}=require(a5_0x18e5f6(0x137)),{AG_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a5_0x18e5f6(0x17e)),{getCredentialsPath,getAuthHeader}=require('../utils/utilityMethods'),{sendInstrumentationEvent}=require(a5_0x18e5f6(0x16e));exports[a5_0x18e5f6(0x151)]='configure',exports[a5_0x18e5f6(0x15f)]=a5_0x18e5f6(0x186),exports[a5_0x18e5f6(0x14c)]=function(_0x7cd3f3){const _0x175957=a5_0x18e5f6,_0x4fc410={};_0x4fc410['TffuE']='help';const _0x5b3154=_0x4fc410;return _0x7cd3f3[_0x175957(0x15e)](HELP_HEADER_MESSAGE[_0x175957(0x14b)])['epilogue'](HELP_FOOTER_MESSAGE)[_0x175957(0x15d)](_0x5b3154['TffuE'])[_0x175957(0x146)]()[_0x175957(0x13f)]()[_0x175957(0x16a)];},exports['handler']=async function(_0x338620){const _0x5ffff4=a5_0x18e5f6,_0x57eae3={'pdvMa':function(_0x3f3d64){return _0x3f3d64();},'BgYan':function(_0x1b4781){return _0x1b4781();},'vofql':'Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','wzVzX':function(_0x388fa1,_0x327976,_0x5448f1,_0x35f24d,_0x3b93df,_0x5e3075,_0xba35a2){return _0x388fa1(_0x327976,_0x5448f1,_0x35f24d,_0x3b93df,_0x5e3075,_0xba35a2);},'cdPDE':'configure-called','lZusi':'init-not-called','lUcjZ':'GET','CxCGO':function(_0x2a658d,_0x2ed325,_0x33f35a){return _0x2a658d(_0x2ed325,_0x33f35a);},'lgulb':function(_0x3b8ec8,_0x26487b){return _0x3b8ec8!==_0x26487b;},'slBUx':function(_0x2c5cce,_0x2e3ebd){return _0x2c5cce!==_0x2e3ebd;},'bxRHB':function(_0x26161c,_0xc971a3){return _0x26161c===_0xc971a3;},'WXgkj':'\x0aCurrent\x20configured\x20automation\x20grid\x20settings\x20are:','zoGAc':_0x5ffff4(0x154),'ctmZJ':function(_0x37f0b6,_0x54925c){return _0x37f0b6(_0x54925c);},'OrYuw':_0x5ffff4(0x149),'nVsKB':function(_0x20aafd,_0x2e301f){return _0x20aafd===_0x2e301f;},'YrLwl':_0x5ffff4(0x166),'LxeMw':function(_0x634607,_0x53e064,_0x30ffc5,_0x58fd48,_0x4ab434,_0x146d0f,_0x24bc53){return _0x634607(_0x53e064,_0x30ffc5,_0x58fd48,_0x4ab434,_0x146d0f,_0x24bc53);},'tKobo':_0x5ffff4(0x180),'ocELJ':function(_0x34662d,_0x3a2f0b){return _0x34662d===_0x3a2f0b;},'DJweS':'What\x20Grid\x20profile\x20will\x20you\x20make\x20as\x20default?','zIHhW':function(_0x14b246,_0x2e4343){return _0x14b246<_0x2e4343;},'UXyGt':function(_0x4221a2,_0x1f4c5c){return _0x4221a2+_0x1f4c5c;},'HGFZU':_0x5ffff4(0x159),'nWdju':function(_0x50f538,_0x2d7ed7){return _0x50f538(_0x2d7ed7);},'yInLm':function(_0xd05d05,_0x444f44){return _0xd05d05(_0x444f44);},'zezaw':function(_0x3d74a8,_0x2c9382){return _0x3d74a8<=_0x2c9382;},'SydlK':function(_0x2e6862,_0x569f65){return _0x2e6862>_0x569f65;},'AwewN':_0x5ffff4(0x140),'ctdll':function(_0x34e90f,_0x6b928){return _0x34e90f-_0x6b928;},'WkRZz':_0x5ffff4(0x17b),'RzVmM':_0x5ffff4(0x13b),'TDmNh':function(_0x17d54c,_0x499120){return _0x17d54c!==_0x499120;},'pVtDT':function(_0x2268c4,_0x3221b6){return _0x2268c4===_0x3221b6;},'KvSlU':'Updated\x20default\x20Grid\x20Profile\x20successfully','UIFcv':_0x5ffff4(0x156),'hkwqn':'unauthorised','UoOMV':_0x5ffff4(0x17d),'vKXyX':function(_0x50cc96,_0x5e281f){return _0x50cc96===_0x5e281f;},'eYlds':_0x5ffff4(0x174),'ANyzT':function(_0x5b7173,_0x34a0d5,_0x5ed92f,_0x4b3b94,_0x28bb8f,_0x379d02,_0x1975b5){return _0x5b7173(_0x34a0d5,_0x5ed92f,_0x4b3b94,_0x28bb8f,_0x379d02,_0x1975b5);},'sJbyV':function(_0x5e5a79,_0xee91b4,_0x12135e,_0x409878,_0xb87856,_0x9d350d,_0x1cbeb6){return _0x5e5a79(_0xee91b4,_0x12135e,_0x409878,_0xb87856,_0x9d350d,_0x1cbeb6);},'NuivN':function(_0x41bfe2,_0x2e560e,_0x1d62c6,_0x4785d5,_0x4149b7,_0x14de12,_0x4e2e57){return _0x41bfe2(_0x2e560e,_0x1d62c6,_0x4785d5,_0x4149b7,_0x14de12,_0x4e2e57);},'UcuDc':_0x5ffff4(0x141)};try{global_registry[_0x5ffff4(0x144)]=_0x57eae3[_0x5ffff4(0x17f)](uuidv4);const _0x479bb5=_0x5ffff4(0x188)+AG_API_URL+_0x5ffff4(0x15a);!fs[_0x5ffff4(0x16d)](_0x57eae3['BgYan'](getCredentialsPath))&&(console['error'](_0x57eae3[_0x5ffff4(0x15b)]),await _0x57eae3[_0x5ffff4(0x14f)](sendInstrumentationEvent,_0x338620,_0x57eae3['cdPDE'],messageTypes['ERROR'],_0x57eae3['lZusi'],null,_0x338620),process[_0x5ffff4(0x176)](0x1));await _0x57eae3[_0x5ffff4(0x14f)](sendInstrumentationEvent,_0x338620,_0x57eae3[_0x5ffff4(0x12d)],messageTypes[_0x5ffff4(0x138)],null,null,_0x338620);const _0x47cfa5=JSON['parse'](fs[_0x5ffff4(0x133)](_0x57eae3['BgYan'](getCredentialsPath))),_0x3c19d1={'method':_0x57eae3[_0x5ffff4(0x162)],'headers':_0x57eae3[_0x5ffff4(0x153)](getAuthHeader,_0x47cfa5[_0x5ffff4(0x179)][_0x5ffff4(0x16f)],_0x47cfa5['Browserstack'][_0x5ffff4(0x168)]),'throwHttpErrors':![]},_0x407797=await _0x57eae3[_0x5ffff4(0x153)](got,_0x479bb5,_0x3c19d1);if(_0x57eae3['lgulb'](_0x407797,null)&&_0x57eae3[_0x5ffff4(0x147)](_0x407797,undefined)&&_0x57eae3[_0x5ffff4(0x139)](_0x407797[_0x5ffff4(0x142)],0xc8)){const _0x22f85f=JSON[_0x5ffff4(0x184)](_0x407797[_0x5ffff4(0x14d)]);console[_0x5ffff4(0x158)](_0x57eae3[_0x5ffff4(0x189)]),console[_0x5ffff4(0x158)](_0x57eae3[_0x5ffff4(0x161)]),console[_0x5ffff4(0x158)](_0x5ffff4(0x13e)+_0x47cfa5[_0x5ffff4(0x179)][_0x5ffff4(0x16f)]),console[_0x5ffff4(0x158)]('\x20\x20grid-profile:\x20'+_0x22f85f[_0x5ffff4(0x182)][_0x5ffff4(0x130)]);const _0x51c4b9=await _0x57eae3[_0x5ffff4(0x177)](inputConfirmation,_0x57eae3[_0x5ffff4(0x143)]);(_0x57eae3[_0x5ffff4(0x139)](_0x51c4b9,undefined)||_0x57eae3['bxRHB'](_0x51c4b9,null)||!(_0x57eae3['bxRHB'](_0x51c4b9['toLowerCase'](),'y')||_0x57eae3[_0x5ffff4(0x13c)](_0x51c4b9['toLowerCase'](),'n')))&&(console['error'](_0x57eae3[_0x5ffff4(0x155)]),await _0x57eae3[_0x5ffff4(0x169)](sendInstrumentationEvent,_0x338620,_0x57eae3[_0x5ffff4(0x12d)],messageTypes[_0x5ffff4(0x13a)],_0x57eae3['tKobo'],null,_0x338620),process[_0x5ffff4(0x176)](0x1));_0x57eae3[_0x5ffff4(0x187)](_0x51c4b9[_0x5ffff4(0x13d)](),'n')&&process['exit'](0x0);console[_0x5ffff4(0x158)](_0x57eae3[_0x5ffff4(0x14a)]);const _0x55c4ac=_0x22f85f[_0x5ffff4(0x175)][_0x5ffff4(0x148)];for(let _0x5090dd=0x0;_0x57eae3[_0x5ffff4(0x12c)](_0x5090dd,_0x55c4ac);_0x5090dd+=0x1){console[_0x5ffff4(0x158)]('['+_0x57eae3[_0x5ffff4(0x163)](_0x5090dd,0x1)+']\x20'+_0x22f85f[_0x5ffff4(0x175)][_0x5090dd][_0x5ffff4(0x130)]);}const _0x59f1d1=await _0x57eae3[_0x5ffff4(0x177)](inputConfirmation,_0x57eae3[_0x5ffff4(0x18a)]),_0x1eb5ad=_0x57eae3[_0x5ffff4(0x131)](Number,_0x59f1d1);(_0x57eae3[_0x5ffff4(0x12e)](isNaN,_0x1eb5ad)||_0x57eae3[_0x5ffff4(0x12f)](_0x1eb5ad,0x0)||_0x57eae3['SydlK'](_0x1eb5ad,_0x55c4ac))&&(console[_0x5ffff4(0x172)](_0x57eae3[_0x5ffff4(0x155)]),await _0x57eae3[_0x5ffff4(0x14f)](sendInstrumentationEvent,_0x338620,_0x57eae3[_0x5ffff4(0x12d)],messageTypes['ERROR'],_0x57eae3[_0x5ffff4(0x135)],null,_0x338620),process['exit'](0x1));_0x57eae3['BgYan'](closeInput);const _0x22b713=_0x22f85f['list'][_0x57eae3['ctdll'](_0x1eb5ad,0x1)]['id'],_0x3a1d95={};_0x3a1d95[_0x5ffff4(0x165)]=_0x22b713;const _0x29607f={'method':_0x57eae3[_0x5ffff4(0x170)],'headers':_0x57eae3[_0x5ffff4(0x153)](getAuthHeader,_0x47cfa5[_0x5ffff4(0x179)][_0x5ffff4(0x16f)],_0x47cfa5[_0x5ffff4(0x179)][_0x5ffff4(0x168)]),'json':_0x3a1d95,'responseType':_0x57eae3[_0x5ffff4(0x136)],'throwHttpErrors':![]},_0x849493=await _0x57eae3[_0x5ffff4(0x153)](got,_0x479bb5,_0x29607f);_0x57eae3[_0x5ffff4(0x147)](_0x849493,null)&&_0x57eae3[_0x5ffff4(0x183)](_0x849493,undefined)&&_0x57eae3[_0x5ffff4(0x14e)](_0x849493[_0x5ffff4(0x142)],0xc8)&&(console[_0x5ffff4(0x158)](_0x57eae3[_0x5ffff4(0x157)]),process[_0x5ffff4(0x176)](0x0)),_0x57eae3[_0x5ffff4(0x14e)](_0x849493[_0x5ffff4(0x142)],0x191)&&(console[_0x5ffff4(0x172)](_0x57eae3['UIFcv']),await _0x57eae3[_0x5ffff4(0x169)](sendInstrumentationEvent,_0x338620,_0x57eae3['cdPDE'],messageTypes[_0x5ffff4(0x13a)],_0x57eae3[_0x5ffff4(0x173)],null,_0x338620),process[_0x5ffff4(0x176)](0x1)),console[_0x5ffff4(0x172)](_0x5ffff4(0x132)+JSON[_0x5ffff4(0x160)](_0x849493)),await _0x57eae3['LxeMw'](sendInstrumentationEvent,_0x338620,_0x57eae3['cdPDE'],messageTypes[_0x5ffff4(0x13a)],_0x57eae3[_0x5ffff4(0x152)],_0x849493,_0x338620),process['exit'](0x1);}_0x57eae3[_0x5ffff4(0x16b)](_0x407797[_0x5ffff4(0x142)],0x191)&&(console[_0x5ffff4(0x172)](_0x57eae3['eYlds']),await _0x57eae3[_0x5ffff4(0x171)](sendInstrumentationEvent,_0x338620,_0x57eae3[_0x5ffff4(0x12d)],messageTypes[_0x5ffff4(0x13a)],_0x57eae3[_0x5ffff4(0x173)],null,_0x338620),process[_0x5ffff4(0x176)](0x1)),console[_0x5ffff4(0x172)](_0x5ffff4(0x178)+JSON[_0x5ffff4(0x160)](_0x407797)),await _0x57eae3['sJbyV'](sendInstrumentationEvent,_0x338620,_0x57eae3[_0x5ffff4(0x12d)],messageTypes[_0x5ffff4(0x13a)],_0x57eae3[_0x5ffff4(0x152)],_0x407797,_0x338620),process['exit'](0x1);}catch(_0xac71fd){console[_0x5ffff4(0x172)](_0x5ffff4(0x17c)+_0xac71fd['stack']),await _0x57eae3[_0x5ffff4(0x167)](sendInstrumentationEvent,_0x338620,_0x57eae3[_0x5ffff4(0x12d)],messageTypes[_0x5ffff4(0x13a)],_0x57eae3[_0x5ffff4(0x12b)],_0xac71fd,_0x338620),process[_0x5ffff4(0x176)](0x1);}};