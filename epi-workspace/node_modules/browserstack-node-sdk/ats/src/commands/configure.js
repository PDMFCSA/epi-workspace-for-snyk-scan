const a5_0x3d71d6=a5_0x20ee;(function(_0x3a7b7f,_0x506cad){const _0x2bb495=a5_0x20ee,_0x2d250b=_0x3a7b7f();while(!![]){try{const _0x57a311=parseInt(_0x2bb495(0x1e1))/0x1*(parseInt(_0x2bb495(0x211))/0x2)+parseInt(_0x2bb495(0x1e3))/0x3+parseInt(_0x2bb495(0x1f2))/0x4+-parseInt(_0x2bb495(0x22b))/0x5+-parseInt(_0x2bb495(0x23d))/0x6+parseInt(_0x2bb495(0x20a))/0x7*(-parseInt(_0x2bb495(0x228))/0x8)+-parseInt(_0x2bb495(0x1df))/0x9*(-parseInt(_0x2bb495(0x20b))/0xa);if(_0x57a311===_0x506cad)break;else _0x2d250b['push'](_0x2d250b['shift']());}catch(_0x50a6c4){_0x2d250b['push'](_0x2d250b['shift']());}}}(a5_0x1e0b,0xf159a));function a5_0x1e0b(){const _0x473b40=['IBJpQ','uuid','../config/constants','../utils/instrumentationUtils','GpEmO','owkmX','unknown-error','Browserstack','got','GGZge','5136764brjyOM','https://','name','FpbkC','FmTPA','profileId','oaWzN','wzGzu','invalid-input','ZkVGv','hHLGs','xzCaw','help','ERROR','tplLg','INFO','\x0aCurrent\x20configured\x20automation\x20grid\x20settings\x20are:','Failed\x20to\x20update\x20grid\x20profile.\x20Unauthorized\x20request!','list','LdwRF','error','exit','length','Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','28PrDgqO','130OdklUk','Updated\x20default\x20Grid\x20Profile\x20successfully','readFileSync','argv','CBGJh','body','16774qtwqwt','parse','requestId','ZjQVe','builder','strict','CTcoM','../utils/userInput','configure-called','qVaAA','VrQlm','Failed\x20to\x20configure\x20resources!\x20Error:\x20','unauthorised','log','HvBKP','Palbm','json','\x20\x20username:\x20','uRNwS','pMTTY','tpifb','usage','jQWyv','1914280kaaIrT','Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','statusCode','5811470hMFAIF','wdKol','init-not-called','EnoQF','KhHFM','TRNzm','HmAfT','stringify','pcGhI','password','existsSync','GOchR','ajqYF','/packages/cli/configure','toLowerCase','SlnRJ','username','RGdfA','2447496MXBYTW','command','What\x20Grid\x20profile\x20will\x20you\x20make\x20as\x20default?','zsoXe','server-error','919683qaDNdS','VqKCF','71IsbHca','hYOuU','923463JNtrsO','core:','NnRXl','oVjTg','vzidf'];a5_0x1e0b=function(){return _0x473b40;};return a5_0x1e0b();}function a5_0x20ee(_0x1785c0,_0x5c3f9e){const _0x1e0b30=a5_0x1e0b();return a5_0x20ee=function(_0x20ee22,_0x274158){_0x20ee22=_0x20ee22-0x1db;let _0x218f57=_0x1e0b30[_0x20ee22];return _0x218f57;},a5_0x20ee(_0x1785c0,_0x5c3f9e);}const fs=require('fs'),got=require(a5_0x3d71d6(0x1f0)),{v4:uuidv4}=require(a5_0x3d71d6(0x1e9)),{inputConfirmation,closeInput}=require(a5_0x3d71d6(0x218)),{AG_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a5_0x3d71d6(0x1ea)),{getCredentialsPath,getAuthHeader}=require('../utils/utilityMethods'),{sendInstrumentationEvent}=require(a5_0x3d71d6(0x1eb));exports[a5_0x3d71d6(0x1db)]='configure',exports['desc']='Configure\x20the\x20default\x20automation\x20grid\x20profiles\x20on\x20BrowserStack\x20CLI.',exports[a5_0x3d71d6(0x215)]=function(_0x6f7303){const _0x2acad8=a5_0x3d71d6,_0x4d4f15={};_0x4d4f15['ZkVGv']=_0x2acad8(0x1fe);const _0x3f2b2a=_0x4d4f15;return _0x6f7303[_0x2acad8(0x226)](HELP_HEADER_MESSAGE['configure'])['epilogue'](HELP_FOOTER_MESSAGE)[_0x2acad8(0x1fe)](_0x3f2b2a[_0x2acad8(0x1fb)])['recommendCommands']()[_0x2acad8(0x216)]()[_0x2acad8(0x20e)];},exports['handler']=async function(_0x1bbd59){const _0xf544e8=a5_0x3d71d6,_0x9caad7={'owkmX':function(_0xa86569){return _0xa86569();},'AVDNm':'Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','oaWzN':function(_0x3b73b7,_0x1b11ed,_0xe93d1f,_0x243603,_0x547446,_0x8b4723,_0x47e7db){return _0x3b73b7(_0x1b11ed,_0xe93d1f,_0x243603,_0x547446,_0x8b4723,_0x47e7db);},'HvBKP':_0xf544e8(0x219),'NnRXl':_0xf544e8(0x22d),'QhQUJ':function(_0x22dc2d,_0x2d3695,_0x5d9410,_0x3b3113,_0x48a726,_0x5d3cae,_0x414e6c){return _0x22dc2d(_0x2d3695,_0x5d9410,_0x3b3113,_0x48a726,_0x5d3cae,_0x414e6c);},'yTMZy':function(_0x4b0856){return _0x4b0856();},'iPCAd':'GET','CBGJh':function(_0x4f289d,_0x7ab4b4,_0x41b5c2){return _0x4f289d(_0x7ab4b4,_0x41b5c2);},'KhHFM':function(_0x2465d1,_0x2a94d2,_0x242c2c){return _0x2465d1(_0x2a94d2,_0x242c2c);},'pcGhI':function(_0x303c43,_0x38bca2){return _0x303c43!==_0x38bca2;},'TRNzm':function(_0x40eb9c,_0x42e069){return _0x40eb9c===_0x42e069;},'TStCm':_0xf544e8(0x202),'oVjTg':_0xf544e8(0x1e4),'EnoQF':function(_0x5c9848,_0x3f0fa2){return _0x5c9848(_0x3f0fa2);},'CTcoM':'Do\x20you\x20want\x20to\x20change\x20the\x20default\x20grid-profile\x20(y/n)?','pMTTY':function(_0x1bedcb,_0x281aeb){return _0x1bedcb===_0x281aeb;},'zsoXe':function(_0x118cc7,_0x3269cf){return _0x118cc7===_0x3269cf;},'ZjQVe':function(_0x4b4f5c,_0x422cd6){return _0x4b4f5c===_0x422cd6;},'wzGzu':'Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','GGZge':function(_0x5e7c7d,_0x2f5eb9,_0x3f92c7,_0x38570a,_0x31d26a,_0x4f53dd,_0x2c3a0a){return _0x5e7c7d(_0x2f5eb9,_0x3f92c7,_0x38570a,_0x31d26a,_0x4f53dd,_0x2c3a0a);},'cEMvX':_0xf544e8(0x1fa),'QbHjF':_0xf544e8(0x1dc),'VqKCF':function(_0x178b11,_0x17f388){return _0x178b11<_0x17f388;},'LdwRF':function(_0x237450,_0x254c7c){return _0x237450+_0x254c7c;},'tplLg':'Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item)','vzidf':function(_0x366a7e,_0x3a50ce){return _0x366a7e(_0x3a50ce);},'HmAfT':function(_0x1dfbe2,_0x316f40){return _0x1dfbe2(_0x316f40);},'VrQlm':function(_0x18238f,_0xce160){return _0x18238f<=_0xce160;},'wdKol':function(_0x2b0c17,_0x13cfcc){return _0x2b0c17>_0x13cfcc;},'RGdfA':function(_0x46beb9,_0x10ede1,_0x40050a,_0x5a86a2,_0x189001,_0x36dc3c,_0x4461a8){return _0x46beb9(_0x10ede1,_0x40050a,_0x5a86a2,_0x189001,_0x36dc3c,_0x4461a8);},'jQWyv':'invalid-selection','GpEmO':function(_0x418adb){return _0x418adb();},'GOchR':function(_0x372996,_0x284de7){return _0x372996-_0x284de7;},'RzaDb':'PUT','FpbkC':_0xf544e8(0x221),'FmTPA':function(_0x3c8d0e,_0x37a99d){return _0x3c8d0e!==_0x37a99d;},'tpifb':function(_0x59fbed,_0x539ac9){return _0x59fbed!==_0x539ac9;},'hYOuU':_0xf544e8(0x20c),'SlnRJ':_0xf544e8(0x203),'Palbm':_0xf544e8(0x21d),'hHLGs':function(_0x441b1e,_0xe76230,_0xb25bba,_0x2f90fc,_0x1eaa67,_0x1bf6a0,_0x4f3d87){return _0x441b1e(_0xe76230,_0xb25bba,_0x2f90fc,_0x1eaa67,_0x1bf6a0,_0x4f3d87);},'IBJpQ':_0xf544e8(0x1de),'qVaAA':_0xf544e8(0x229),'xzCaw':function(_0x556c04,_0x226582,_0x34f806,_0x3f5bae,_0x39b66b,_0x4f8e5f,_0x1c557c){return _0x556c04(_0x226582,_0x34f806,_0x3f5bae,_0x39b66b,_0x4f8e5f,_0x1c557c);},'ajqYF':function(_0x517d0d,_0x523ac1,_0x4c779b,_0x3cd990,_0x2fd93f,_0x13abf7,_0x1768f5){return _0x517d0d(_0x523ac1,_0x4c779b,_0x3cd990,_0x2fd93f,_0x13abf7,_0x1768f5);},'uRNwS':_0xf544e8(0x1ee)};try{global_registry[_0xf544e8(0x213)]=_0x9caad7[_0xf544e8(0x1ed)](uuidv4);const _0x47f8fd=_0xf544e8(0x1f3)+AG_API_URL+_0xf544e8(0x238);!fs[_0xf544e8(0x235)](_0x9caad7[_0xf544e8(0x1ed)](getCredentialsPath))&&(console['error'](_0x9caad7['AVDNm']),await _0x9caad7[_0xf544e8(0x1f8)](sendInstrumentationEvent,_0x1bbd59,_0x9caad7['HvBKP'],messageTypes[_0xf544e8(0x1ff)],_0x9caad7[_0xf544e8(0x1e5)],null,_0x1bbd59),process[_0xf544e8(0x207)](0x1));await _0x9caad7['QhQUJ'](sendInstrumentationEvent,_0x1bbd59,_0x9caad7[_0xf544e8(0x21f)],messageTypes[_0xf544e8(0x201)],null,null,_0x1bbd59);const _0x19789e=JSON['parse'](fs[_0xf544e8(0x20d)](_0x9caad7['yTMZy'](getCredentialsPath))),_0x4a8220={'method':_0x9caad7['iPCAd'],'headers':_0x9caad7[_0xf544e8(0x20f)](getAuthHeader,_0x19789e[_0xf544e8(0x1ef)]['username'],_0x19789e[_0xf544e8(0x1ef)][_0xf544e8(0x234)]),'throwHttpErrors':![]},_0x3a8164=await _0x9caad7[_0xf544e8(0x22f)](got,_0x47f8fd,_0x4a8220);if(_0x9caad7[_0xf544e8(0x233)](_0x3a8164,null)&&_0x9caad7[_0xf544e8(0x233)](_0x3a8164,undefined)&&_0x9caad7['TRNzm'](_0x3a8164[_0xf544e8(0x22a)],0xc8)){const _0x4a4e62=JSON[_0xf544e8(0x212)](_0x3a8164[_0xf544e8(0x210)]);console[_0xf544e8(0x21e)](_0x9caad7['TStCm']),console['log'](_0x9caad7[_0xf544e8(0x1e6)]),console[_0xf544e8(0x21e)](_0xf544e8(0x222)+_0x19789e[_0xf544e8(0x1ef)][_0xf544e8(0x23b)]),console[_0xf544e8(0x21e)]('\x20\x20grid-profile:\x20'+_0x4a4e62['active'][_0xf544e8(0x1f4)]);const _0x914a86=await _0x9caad7[_0xf544e8(0x22e)](inputConfirmation,_0x9caad7[_0xf544e8(0x217)]);(_0x9caad7[_0xf544e8(0x224)](_0x914a86,undefined)||_0x9caad7['zsoXe'](_0x914a86,null)||!(_0x9caad7[_0xf544e8(0x214)](_0x914a86['toLowerCase'](),'y')||_0x9caad7['TRNzm'](_0x914a86[_0xf544e8(0x239)](),'n')))&&(console[_0xf544e8(0x206)](_0x9caad7[_0xf544e8(0x1f9)]),await _0x9caad7[_0xf544e8(0x1f1)](sendInstrumentationEvent,_0x1bbd59,_0x9caad7['HvBKP'],messageTypes[_0xf544e8(0x1ff)],_0x9caad7['cEMvX'],null,_0x1bbd59),process['exit'](0x1));_0x9caad7[_0xf544e8(0x230)](_0x914a86[_0xf544e8(0x239)](),'n')&&process[_0xf544e8(0x207)](0x0);console['log'](_0x9caad7['QbHjF']);const _0x5a0d1e=_0x4a4e62['list'][_0xf544e8(0x208)];for(let _0x177b91=0x0;_0x9caad7[_0xf544e8(0x1e0)](_0x177b91,_0x5a0d1e);_0x177b91+=0x1){console['log']('['+_0x9caad7[_0xf544e8(0x205)](_0x177b91,0x1)+']\x20'+_0x4a4e62[_0xf544e8(0x204)][_0x177b91][_0xf544e8(0x1f4)]);}const _0x4adc21=await _0x9caad7[_0xf544e8(0x22e)](inputConfirmation,_0x9caad7[_0xf544e8(0x200)]),_0x51290a=_0x9caad7[_0xf544e8(0x1e7)](Number,_0x4adc21);(_0x9caad7[_0xf544e8(0x231)](isNaN,_0x51290a)||_0x9caad7[_0xf544e8(0x21b)](_0x51290a,0x0)||_0x9caad7[_0xf544e8(0x22c)](_0x51290a,_0x5a0d1e))&&(console[_0xf544e8(0x206)](_0x9caad7[_0xf544e8(0x1f9)]),await _0x9caad7[_0xf544e8(0x23c)](sendInstrumentationEvent,_0x1bbd59,_0x9caad7[_0xf544e8(0x21f)],messageTypes[_0xf544e8(0x1ff)],_0x9caad7[_0xf544e8(0x227)],null,_0x1bbd59),process[_0xf544e8(0x207)](0x1));_0x9caad7[_0xf544e8(0x1ec)](closeInput);const _0x185bd1=_0x4a4e62[_0xf544e8(0x204)][_0x9caad7[_0xf544e8(0x236)](_0x51290a,0x1)]['id'],_0x58ad21={};_0x58ad21[_0xf544e8(0x1f7)]=_0x185bd1;const _0x53f3e4={'method':_0x9caad7['RzaDb'],'headers':_0x9caad7[_0xf544e8(0x22f)](getAuthHeader,_0x19789e[_0xf544e8(0x1ef)]['username'],_0x19789e[_0xf544e8(0x1ef)]['password']),'json':_0x58ad21,'responseType':_0x9caad7[_0xf544e8(0x1f5)],'throwHttpErrors':![]},_0x17fa8b=await _0x9caad7[_0xf544e8(0x22f)](got,_0x47f8fd,_0x53f3e4);_0x9caad7[_0xf544e8(0x1f6)](_0x17fa8b,null)&&_0x9caad7[_0xf544e8(0x225)](_0x17fa8b,undefined)&&_0x9caad7[_0xf544e8(0x224)](_0x17fa8b['statusCode'],0xc8)&&(console['log'](_0x9caad7[_0xf544e8(0x1e2)]),process[_0xf544e8(0x207)](0x0)),_0x9caad7[_0xf544e8(0x1dd)](_0x17fa8b[_0xf544e8(0x22a)],0x191)&&(console[_0xf544e8(0x206)](_0x9caad7[_0xf544e8(0x23a)]),await _0x9caad7['RGdfA'](sendInstrumentationEvent,_0x1bbd59,_0x9caad7[_0xf544e8(0x21f)],messageTypes[_0xf544e8(0x1ff)],_0x9caad7['Palbm'],null,_0x1bbd59),process[_0xf544e8(0x207)](0x1)),console['error']('Failed\x20to\x20update\x20grid\x20profile.\x20Response\x20from\x20server:\x20'+JSON[_0xf544e8(0x232)](_0x17fa8b)),await _0x9caad7[_0xf544e8(0x1fc)](sendInstrumentationEvent,_0x1bbd59,_0x9caad7['HvBKP'],messageTypes['ERROR'],_0x9caad7[_0xf544e8(0x1e8)],_0x17fa8b,_0x1bbd59),process[_0xf544e8(0x207)](0x1);}_0x9caad7[_0xf544e8(0x1dd)](_0x3a8164[_0xf544e8(0x22a)],0x191)&&(console[_0xf544e8(0x206)](_0x9caad7[_0xf544e8(0x21a)]),await _0x9caad7[_0xf544e8(0x1fd)](sendInstrumentationEvent,_0x1bbd59,_0x9caad7['HvBKP'],messageTypes[_0xf544e8(0x1ff)],_0x9caad7[_0xf544e8(0x220)],null,_0x1bbd59),process[_0xf544e8(0x207)](0x1)),console[_0xf544e8(0x206)](_0xf544e8(0x209)+JSON[_0xf544e8(0x232)](_0x3a8164)),await _0x9caad7[_0xf544e8(0x1f8)](sendInstrumentationEvent,_0x1bbd59,_0x9caad7[_0xf544e8(0x21f)],messageTypes[_0xf544e8(0x1ff)],_0x9caad7['IBJpQ'],_0x3a8164,_0x1bbd59),process['exit'](0x1);}catch(_0x5b1492){console[_0xf544e8(0x206)](_0xf544e8(0x21c)+_0x5b1492['stack']),await _0x9caad7[_0xf544e8(0x237)](sendInstrumentationEvent,_0x1bbd59,_0x9caad7['HvBKP'],messageTypes[_0xf544e8(0x1ff)],_0x9caad7[_0xf544e8(0x223)],_0x5b1492,_0x1bbd59),process[_0xf544e8(0x207)](0x1);}};