const a5_0x834e5a=a5_0x562f;function a5_0x562f(_0x4f216e,_0x108926){const _0x481f51=a5_0x481f();return a5_0x562f=function(_0x562f18,_0x50d9d3){_0x562f18=_0x562f18-0x142;let _0x13dff2=_0x481f51[_0x562f18];return _0x13dff2;},a5_0x562f(_0x4f216e,_0x108926);}function a5_0x481f(){const _0xc8572c=['UApyH','../utils/utilityMethods','joqHN','\x20\x20grid-profile:\x20','AyeKW','body','What\x20Grid\x20profile\x20will\x20you\x20make\x20as\x20default?','620711neiaRZ','HDSSA','Browserstack','Failed\x20to\x20configure\x20resources!\x20Error:\x20','1193983jzBlzC','LMQPG','oXobl','core:','8951590HHmAgB','npwtH','help','LqpUc','existsSync','VwDnG','tgGod','configure-called','voZVN','RwkJD','BmCgR','Failed\x20to\x20update\x20grid\x20profile.\x20Unauthorized\x20request!','ERROR','AYMMs','Failed\x20to\x20update\x20grid\x20profile.\x20Response\x20from\x20server:\x20','24dlXTlh','jMyql','HbhNY','1868075sfPEhL','../utils/instrumentationUtils','mKATW','ZcTkB','GET','username','length','usage','2224422SxFGto','EpKpf','AhPXR','nRyZP','yIurb','list','Do\x20you\x20want\x20to\x20change\x20the\x20default\x20grid-profile\x20(y/n)?','password','Configure\x20the\x20default\x20automation\x20grid\x20profiles\x20on\x20BrowserStack\x20CLI.','bodmS','strict','unauthorised','configure','URDWA','stack','desc','error','unknown-error','invalid-selection','\x20\x20username:\x20','json','toLowerCase','PUT','exit','statusCode','8YJYZIx','vpJQn','rMxaD','tECfB','XiYCl','33onQnQb','uuid','Updated\x20default\x20Grid\x20Profile\x20successfully','builder','qnzat','got','njpLi','readFileSync','vHydH','14wcYHfb','Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','name','4727388SMpqgf','parse','requestId','ErXXl','argv','BOZFh','init-not-called','IpGQj','log','yTmSl','wOWUD','kJHpG','274740PVcFIG','tRpiq','ayRLi','recommendCommands','sdali','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item)'];a5_0x481f=function(){return _0xc8572c;};return a5_0x481f();}(function(_0x319410,_0x3902f7){const _0x36dc94=a5_0x562f,_0x3d0ce6=_0x319410();while(!![]){try{const _0x5a38c6=-parseInt(_0x36dc94(0x195))/0x1+parseInt(_0x36dc94(0x174))/0x2*(-parseInt(_0x36dc94(0x184))/0x3)+parseInt(_0x36dc94(0x178))/0x4+-parseInt(_0x36dc94(0x145))/0x5*(parseInt(_0x36dc94(0x142))/0x6)+-parseInt(_0x36dc94(0x191))/0x7*(-parseInt(_0x36dc94(0x166))/0x8)+parseInt(_0x36dc94(0x14d))/0x9+-parseInt(_0x36dc94(0x199))/0xa*(-parseInt(_0x36dc94(0x16b))/0xb);if(_0x5a38c6===_0x3902f7)break;else _0x3d0ce6['push'](_0x3d0ce6['shift']());}catch(_0x21f2ad){_0x3d0ce6['push'](_0x3d0ce6['shift']());}}}(a5_0x481f,0xd54b4));const fs=require('fs'),got=require(a5_0x834e5a(0x170)),{v4:uuidv4}=require(a5_0x834e5a(0x16c)),{inputConfirmation,closeInput}=require('../utils/userInput'),{AG_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require('../config/constants'),{getCredentialsPath,getAuthHeader}=require(a5_0x834e5a(0x18b)),{sendInstrumentationEvent}=require(a5_0x834e5a(0x146));exports['command']=a5_0x834e5a(0x159),exports[a5_0x834e5a(0x15c)]=a5_0x834e5a(0x155),exports[a5_0x834e5a(0x16e)]=function(_0x5cc8b6){const _0x39709b=a5_0x834e5a,_0x4525d1={};_0x4525d1[_0x39709b(0x144)]='help';const _0x33d7f5=_0x4525d1;return _0x5cc8b6[_0x39709b(0x14c)](HELP_HEADER_MESSAGE[_0x39709b(0x159)])['epilogue'](HELP_FOOTER_MESSAGE)[_0x39709b(0x19b)](_0x33d7f5[_0x39709b(0x144)])[_0x39709b(0x187)]()[_0x39709b(0x157)]()[_0x39709b(0x17c)];},exports['handler']=async function(_0x498465){const _0x9b699d=a5_0x834e5a,_0x49e4ca={'XiYCl':function(_0x3303ba){return _0x3303ba();},'wOWUD':function(_0x473b9){return _0x473b9();},'kJHpG':_0x9b699d(0x176),'tRpiq':function(_0x67f5c6,_0x2b56cd,_0x166f2c,_0x1fb505,_0x24dbb5,_0x1787aa,_0x556a95){return _0x67f5c6(_0x2b56cd,_0x166f2c,_0x1fb505,_0x24dbb5,_0x1787aa,_0x556a95);},'npwtH':_0x9b699d(0x1a0),'XJmBS':_0x9b699d(0x17e),'rMxaD':_0x9b699d(0x149),'tgGod':function(_0x3cce3e,_0x57d678,_0x226567){return _0x3cce3e(_0x57d678,_0x226567);},'iEoup':function(_0x5a04d2,_0x3f7a8b,_0x17a8e8){return _0x5a04d2(_0x3f7a8b,_0x17a8e8);},'oXobl':function(_0x2daad1,_0x5e820e){return _0x2daad1!==_0x5e820e;},'ZcTkB':function(_0x680656,_0x3244b9){return _0x680656===_0x3244b9;},'ErXXl':'\x0aCurrent\x20configured\x20automation\x20grid\x20settings\x20are:','LqpUc':_0x9b699d(0x198),'UApyH':function(_0x16034e,_0x15c473){return _0x16034e(_0x15c473);},'EpKpf':_0x9b699d(0x153),'yIurb':function(_0x16c0d2,_0x26276a){return _0x16c0d2===_0x26276a;},'BOZFh':function(_0x4c7b64,_0x35a382){return _0x4c7b64===_0x35a382;},'iLVlw':function(_0x31c147,_0x3576a1){return _0x31c147===_0x3576a1;},'bodmS':'Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','voZVN':'invalid-input','njpLi':function(_0x598011,_0xe3806){return _0x598011===_0xe3806;},'RwkJD':_0x9b699d(0x190),'ApvWL':function(_0x1e84cc,_0x5e65a9){return _0x1e84cc<_0x5e65a9;},'vpJQn':function(_0x4095dc,_0x489c7b){return _0x4095dc+_0x489c7b;},'URDWA':function(_0x32ce4f,_0x4e73f2){return _0x32ce4f(_0x4e73f2);},'gZapK':_0x9b699d(0x189),'ayRLi':function(_0x494364,_0xfad022){return _0x494364<=_0xfad022;},'joqHN':function(_0x224ee1,_0x36eb87){return _0x224ee1>_0x36eb87;},'AhPXR':function(_0x49c020,_0x4fc033,_0x21265f,_0x4989fa,_0x9cab7a,_0x59fb1a,_0x3681fe){return _0x49c020(_0x4fc033,_0x21265f,_0x4989fa,_0x9cab7a,_0x59fb1a,_0x3681fe);},'LMQPG':_0x9b699d(0x15f),'BmCgR':function(_0x47ec8e){return _0x47ec8e();},'qnzat':function(_0x349626,_0x165b54){return _0x349626-_0x165b54;},'IpGQj':_0x9b699d(0x163),'nRyZP':_0x9b699d(0x161),'jMyql':function(_0x17abc2,_0x349177){return _0x17abc2!==_0x349177;},'AYMMs':function(_0x238a56,_0x358d7d){return _0x238a56!==_0x358d7d;},'VwDnG':_0x9b699d(0x16d),'AyeKW':_0x9b699d(0x1a4),'tECfB':function(_0x53df60,_0x2e0aca,_0xf146c1,_0x53069b,_0x9b244b,_0x19c353,_0x36b320){return _0x53df60(_0x2e0aca,_0xf146c1,_0x53069b,_0x9b244b,_0x19c353,_0x36b320);},'sdali':_0x9b699d(0x158),'HDSSA':function(_0x1632d6,_0xdafe9,_0x2dc152,_0xfdc9a0,_0x2283c0,_0x29876e,_0x8799fb){return _0x1632d6(_0xdafe9,_0x2dc152,_0xfdc9a0,_0x2283c0,_0x29876e,_0x8799fb);},'vHydH':'server-error','vuUvW':function(_0x14a129,_0x474876){return _0x14a129===_0x474876;},'UBUiR':_0x9b699d(0x175),'yTmSl':function(_0x12aad2,_0x4fe34e,_0x38fa14,_0xccfe9f,_0x23b483,_0xc84991,_0x65aee3){return _0x12aad2(_0x4fe34e,_0x38fa14,_0xccfe9f,_0x23b483,_0xc84991,_0x65aee3);},'mKATW':_0x9b699d(0x15e)};try{global_registry[_0x9b699d(0x17a)]=_0x49e4ca[_0x9b699d(0x16a)](uuidv4);const _0x3ba597='https://'+AG_API_URL+'/packages/cli/configure';!fs[_0x9b699d(0x19d)](_0x49e4ca[_0x9b699d(0x182)](getCredentialsPath))&&(console[_0x9b699d(0x15d)](_0x49e4ca[_0x9b699d(0x183)]),await _0x49e4ca[_0x9b699d(0x185)](sendInstrumentationEvent,_0x498465,_0x49e4ca[_0x9b699d(0x19a)],messageTypes[_0x9b699d(0x1a5)],_0x49e4ca['XJmBS'],null,_0x498465),process[_0x9b699d(0x164)](0x1));await _0x49e4ca[_0x9b699d(0x185)](sendInstrumentationEvent,_0x498465,_0x49e4ca[_0x9b699d(0x19a)],messageTypes['INFO'],null,null,_0x498465);const _0x407eb5=JSON[_0x9b699d(0x179)](fs[_0x9b699d(0x172)](_0x49e4ca[_0x9b699d(0x182)](getCredentialsPath))),_0x2c554c={'method':_0x49e4ca[_0x9b699d(0x168)],'headers':_0x49e4ca[_0x9b699d(0x19f)](getAuthHeader,_0x407eb5[_0x9b699d(0x193)][_0x9b699d(0x14a)],_0x407eb5[_0x9b699d(0x193)]['password']),'throwHttpErrors':![]},_0x4492da=await _0x49e4ca['iEoup'](got,_0x3ba597,_0x2c554c);if(_0x49e4ca[_0x9b699d(0x197)](_0x4492da,null)&&_0x49e4ca['oXobl'](_0x4492da,undefined)&&_0x49e4ca[_0x9b699d(0x148)](_0x4492da[_0x9b699d(0x165)],0xc8)){const _0x52164c=JSON['parse'](_0x4492da[_0x9b699d(0x18f)]);console[_0x9b699d(0x180)](_0x49e4ca[_0x9b699d(0x17b)]),console['log'](_0x49e4ca[_0x9b699d(0x19c)]),console[_0x9b699d(0x180)](_0x9b699d(0x160)+_0x407eb5[_0x9b699d(0x193)][_0x9b699d(0x14a)]),console[_0x9b699d(0x180)](_0x9b699d(0x18d)+_0x52164c['active'][_0x9b699d(0x177)]);const _0x150ef6=await _0x49e4ca[_0x9b699d(0x18a)](inputConfirmation,_0x49e4ca[_0x9b699d(0x14e)]);(_0x49e4ca[_0x9b699d(0x148)](_0x150ef6,undefined)||_0x49e4ca[_0x9b699d(0x151)](_0x150ef6,null)||!(_0x49e4ca[_0x9b699d(0x17d)](_0x150ef6[_0x9b699d(0x162)](),'y')||_0x49e4ca['iLVlw'](_0x150ef6['toLowerCase'](),'n')))&&(console[_0x9b699d(0x15d)](_0x49e4ca[_0x9b699d(0x156)]),await _0x49e4ca[_0x9b699d(0x185)](sendInstrumentationEvent,_0x498465,_0x49e4ca[_0x9b699d(0x19a)],messageTypes[_0x9b699d(0x1a5)],_0x49e4ca[_0x9b699d(0x1a1)],null,_0x498465),process[_0x9b699d(0x164)](0x1));_0x49e4ca[_0x9b699d(0x171)](_0x150ef6['toLowerCase'](),'n')&&process[_0x9b699d(0x164)](0x0);console['log'](_0x49e4ca[_0x9b699d(0x1a2)]);const _0x4e28ce=_0x52164c['list'][_0x9b699d(0x14b)];for(let _0x4e2192=0x0;_0x49e4ca['ApvWL'](_0x4e2192,_0x4e28ce);_0x4e2192+=0x1){console['log']('['+_0x49e4ca[_0x9b699d(0x167)](_0x4e2192,0x1)+']\x20'+_0x52164c[_0x9b699d(0x152)][_0x4e2192][_0x9b699d(0x177)]);}const _0x408048=await _0x49e4ca[_0x9b699d(0x15a)](inputConfirmation,_0x49e4ca['gZapK']),_0x1e1d6b=_0x49e4ca[_0x9b699d(0x18a)](Number,_0x408048);(_0x49e4ca['URDWA'](isNaN,_0x1e1d6b)||_0x49e4ca[_0x9b699d(0x186)](_0x1e1d6b,0x0)||_0x49e4ca[_0x9b699d(0x18c)](_0x1e1d6b,_0x4e28ce))&&(console[_0x9b699d(0x15d)](_0x49e4ca['bodmS']),await _0x49e4ca[_0x9b699d(0x14f)](sendInstrumentationEvent,_0x498465,_0x49e4ca[_0x9b699d(0x19a)],messageTypes[_0x9b699d(0x1a5)],_0x49e4ca[_0x9b699d(0x196)],null,_0x498465),process[_0x9b699d(0x164)](0x1));_0x49e4ca[_0x9b699d(0x1a3)](closeInput);const _0x5590fd=_0x52164c[_0x9b699d(0x152)][_0x49e4ca[_0x9b699d(0x16f)](_0x1e1d6b,0x1)]['id'],_0x5478cd={};_0x5478cd['profileId']=_0x5590fd;const _0x4acce4={'method':_0x49e4ca[_0x9b699d(0x17f)],'headers':_0x49e4ca['tgGod'](getAuthHeader,_0x407eb5[_0x9b699d(0x193)][_0x9b699d(0x14a)],_0x407eb5[_0x9b699d(0x193)][_0x9b699d(0x154)]),'json':_0x5478cd,'responseType':_0x49e4ca[_0x9b699d(0x150)],'throwHttpErrors':![]},_0x12a0b2=await _0x49e4ca[_0x9b699d(0x19f)](got,_0x3ba597,_0x4acce4);_0x49e4ca[_0x9b699d(0x143)](_0x12a0b2,null)&&_0x49e4ca[_0x9b699d(0x1a6)](_0x12a0b2,undefined)&&_0x49e4ca[_0x9b699d(0x171)](_0x12a0b2[_0x9b699d(0x165)],0xc8)&&(console['log'](_0x49e4ca[_0x9b699d(0x19e)]),process[_0x9b699d(0x164)](0x0)),_0x49e4ca[_0x9b699d(0x148)](_0x12a0b2[_0x9b699d(0x165)],0x191)&&(console[_0x9b699d(0x15d)](_0x49e4ca[_0x9b699d(0x18e)]),await _0x49e4ca[_0x9b699d(0x169)](sendInstrumentationEvent,_0x498465,_0x49e4ca[_0x9b699d(0x19a)],messageTypes[_0x9b699d(0x1a5)],_0x49e4ca[_0x9b699d(0x188)],null,_0x498465),process[_0x9b699d(0x164)](0x1)),console[_0x9b699d(0x15d)](_0x9b699d(0x1a7)+JSON['stringify'](_0x12a0b2)),await _0x49e4ca[_0x9b699d(0x192)](sendInstrumentationEvent,_0x498465,_0x49e4ca[_0x9b699d(0x19a)],messageTypes[_0x9b699d(0x1a5)],_0x49e4ca[_0x9b699d(0x173)],_0x12a0b2,_0x498465),process[_0x9b699d(0x164)](0x1);}_0x49e4ca['vuUvW'](_0x4492da[_0x9b699d(0x165)],0x191)&&(console[_0x9b699d(0x15d)](_0x49e4ca['UBUiR']),await _0x49e4ca['tRpiq'](sendInstrumentationEvent,_0x498465,_0x49e4ca['npwtH'],messageTypes[_0x9b699d(0x1a5)],_0x49e4ca[_0x9b699d(0x188)],null,_0x498465),process[_0x9b699d(0x164)](0x1)),console[_0x9b699d(0x15d)]('Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20'+JSON['stringify'](_0x4492da)),await _0x49e4ca[_0x9b699d(0x192)](sendInstrumentationEvent,_0x498465,_0x49e4ca['npwtH'],messageTypes['ERROR'],_0x49e4ca[_0x9b699d(0x173)],_0x4492da,_0x498465),process['exit'](0x1);}catch(_0x58df3d){console[_0x9b699d(0x15d)](_0x9b699d(0x194)+_0x58df3d[_0x9b699d(0x15b)]),await _0x49e4ca[_0x9b699d(0x181)](sendInstrumentationEvent,_0x498465,_0x49e4ca['npwtH'],messageTypes['ERROR'],_0x49e4ca[_0x9b699d(0x147)],_0x58df3d,_0x498465),process[_0x9b699d(0x164)](0x1);}};