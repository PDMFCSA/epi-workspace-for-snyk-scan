const a5_0x5569de=a5_0xc3d6;function a5_0x2d98(){const _0x106026=['log','4fPhloO','statusCode','stack','793445KMYllj','Failed\x20to\x20update\x20grid\x20profile.\x20Response\x20from\x20server:\x20','NimXe','invalid-input','../utils/instrumentationUtils','DqPRe','FxMKw','existsSync','help','riELP','203tKCszU','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','8VRLAdv','XitBV','tTxgx','94301MzCHdR','UuEWU','fLrFa','invalid-selection','XmvNa','Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item)','epilogue','vDLCL','command','What\x20Grid\x20profile\x20will\x20you\x20make\x20as\x20default?','dgaeb','server-error','profileId','704272yWMzNT','36940lsDMEV','FmpJu','builder','username','MXCDW','usage','toLowerCase','desc','exit','INFO','821538IbdZKF','UzXYw','strict','argv','readFileSync','json','stringify','diDYx','uefpl','\x0aCurrent\x20configured\x20automation\x20grid\x20settings\x20are:','GET','MeeNt','configure-called','hjhkg','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','\x20\x20username:\x20','EFHnH','TQacD','IpAyS','active','vKLRM','../config/constants','rxjAo','49434XCNIzK','https://','MEfJu','czRvI','list','PUT','186651wpMSMS','Jjzix','fWVLm','pOpWh','raSwa','recommendCommands','DhIIS','parse','Djtar','Failed\x20to\x20configure\x20resources!\x20Error:\x20','Updated\x20default\x20Grid\x20Profile\x20successfully','name','error','password','rUMXD','../utils/userInput','NxQCn','Configure\x20the\x20default\x20automation\x20grid\x20profiles\x20on\x20BrowserStack\x20CLI.','got','ikXNs','ERROR','Do\x20you\x20want\x20to\x20change\x20the\x20default\x20grid-profile\x20(y/n)?','requestId','CrctX','/packages/cli/configure','Browserstack','unknown-error','configure'];a5_0x2d98=function(){return _0x106026;};return a5_0x2d98();}(function(_0x270523,_0x2ac1c7){const _0x55db2e=a5_0xc3d6,_0x47856b=_0x270523();while(!![]){try{const _0x146873=parseInt(_0x55db2e(0x152))/0x1*(-parseInt(_0x55db2e(0x140))/0x2)+parseInt(_0x55db2e(0x16b))/0x3+parseInt(_0x55db2e(0x160))/0x4+parseInt(_0x55db2e(0x143))/0x5+parseInt(_0x55db2e(0x182))/0x6*(-parseInt(_0x55db2e(0x14d))/0x7)+parseInt(_0x55db2e(0x14f))/0x8*(-parseInt(_0x55db2e(0x123))/0x9)+parseInt(_0x55db2e(0x161))/0xa;if(_0x146873===_0x2ac1c7)break;else _0x47856b['push'](_0x47856b['shift']());}catch(_0x1cde4e){_0x47856b['push'](_0x47856b['shift']());}}}(a5_0x2d98,0x280b9));function a5_0xc3d6(_0x3d4bc6,_0x7f2122){const _0x2d9891=a5_0x2d98();return a5_0xc3d6=function(_0xc3d6b5,_0x393d8b){_0xc3d6b5=_0xc3d6b5-0x121;let _0x5a8d56=_0x2d9891[_0xc3d6b5];return _0x5a8d56;},a5_0xc3d6(_0x3d4bc6,_0x7f2122);}const fs=require('fs'),got=require(a5_0x5569de(0x135)),{v4:uuidv4}=require('uuid'),{inputConfirmation,closeInput}=require(a5_0x5569de(0x132)),{AG_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a5_0x5569de(0x180)),{getCredentialsPath,getAuthHeader}=require('../utils/utilityMethods'),{sendInstrumentationEvent}=require(a5_0x5569de(0x147));exports[a5_0x5569de(0x15b)]=a5_0x5569de(0x13e),exports[a5_0x5569de(0x168)]=a5_0x5569de(0x134),exports[a5_0x5569de(0x163)]=function(_0x5dc549){const _0x148ec2=a5_0x5569de,_0x1a5f4e={};_0x1a5f4e[_0x148ec2(0x125)]='help';const _0x50c8d0=_0x1a5f4e;return _0x5dc549[_0x148ec2(0x166)](HELP_HEADER_MESSAGE['configure'])[_0x148ec2(0x159)](HELP_FOOTER_MESSAGE)[_0x148ec2(0x14b)](_0x50c8d0[_0x148ec2(0x125)])[_0x148ec2(0x128)]()[_0x148ec2(0x16d)]()[_0x148ec2(0x16e)];},exports['handler']=async function(_0x469f64){const _0x194dec=a5_0x5569de,_0x13874d={'ZRjVc':function(_0x3b6b09){return _0x3b6b09();},'NimXe':_0x194dec(0x14e),'raSwa':function(_0x5739e4,_0x15c586,_0x5ca033,_0x3c8f90,_0x36f54d,_0x285589,_0x593e99){return _0x5739e4(_0x15c586,_0x5ca033,_0x3c8f90,_0x36f54d,_0x285589,_0x593e99);},'CrctX':_0x194dec(0x177),'DqPRe':'init-not-called','UuEWU':function(_0x285b58){return _0x285b58();},'Jjzix':_0x194dec(0x175),'dgaeb':function(_0x38196e,_0x1bb99c,_0x1400f9){return _0x38196e(_0x1bb99c,_0x1400f9);},'Djtar':function(_0x5eaca0,_0x37079f,_0x4c79e8){return _0x5eaca0(_0x37079f,_0x4c79e8);},'uefpl':function(_0x44bbd1,_0x520376){return _0x44bbd1!==_0x520376;},'DhIIS':function(_0x3b5ce4,_0x2a1456){return _0x3b5ce4!==_0x2a1456;},'tTxgx':function(_0x1f040e,_0x1e3f3e){return _0x1f040e===_0x1e3f3e;},'rUMXD':_0x194dec(0x174),'MeeNt':'core:','vDLCL':function(_0xd6ea77,_0x3e0faa){return _0xd6ea77(_0x3e0faa);},'vKLRM':_0x194dec(0x138),'IpAyS':_0x194dec(0x179),'EFHnH':function(_0x1cdcd5,_0x5c4d8b,_0x1e697a,_0x12e5d9,_0xe469b5,_0x5664a8,_0x4dfaa8){return _0x1cdcd5(_0x5c4d8b,_0x1e697a,_0x12e5d9,_0xe469b5,_0x5664a8,_0x4dfaa8);},'XmvNa':_0x194dec(0x146),'pOpWh':function(_0x3453eb,_0x4408d6){return _0x3453eb===_0x4408d6;},'jQmKJ':_0x194dec(0x15c),'diDYx':function(_0x18784d,_0x209a34){return _0x18784d<_0x209a34;},'MXCDW':function(_0x3086fe,_0x3e3e62){return _0x3086fe+_0x3e3e62;},'riELP':_0x194dec(0x158),'NxQCn':function(_0x19a69c,_0xf15298){return _0x19a69c(_0xf15298);},'NKpWQ':function(_0x1247cf,_0x115877){return _0x1247cf<=_0x115877;},'czRvI':function(_0x2ad3ad,_0x42c4b5){return _0x2ad3ad>_0x42c4b5;},'TQacD':function(_0x2619a2,_0x179816,_0x51a763,_0x306cf7,_0x56a8a6,_0x4330c8,_0x19787c){return _0x2619a2(_0x179816,_0x51a763,_0x306cf7,_0x56a8a6,_0x4330c8,_0x19787c);},'ykDVy':_0x194dec(0x155),'hjhkg':function(_0x5f6d59,_0x15765e){return _0x5f6d59-_0x15765e;},'MEfJu':_0x194dec(0x122),'XitBV':_0x194dec(0x170),'GQome':function(_0x3f8e04,_0x1aa6a6){return _0x3f8e04!==_0x1aa6a6;},'FxMKw':_0x194dec(0x12d),'fLrFa':'Failed\x20to\x20update\x20grid\x20profile.\x20Unauthorized\x20request!','rxjAo':function(_0x19c1db,_0x5501cd,_0x38c7e5,_0x432310,_0x50c89e,_0x2a252,_0x359765){return _0x19c1db(_0x5501cd,_0x38c7e5,_0x432310,_0x50c89e,_0x2a252,_0x359765);},'NvMeZ':'unauthorised','FmpJu':_0x194dec(0x15e),'UzXYw':'Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','ihMpI':function(_0x22ddfc,_0x56c44f,_0x101502,_0x3785b8,_0x4f7bd3,_0x297b12,_0x362ad9){return _0x22ddfc(_0x56c44f,_0x101502,_0x3785b8,_0x4f7bd3,_0x297b12,_0x362ad9);},'ikXNs':_0x194dec(0x13d)};try{global_registry[_0x194dec(0x139)]=_0x13874d['ZRjVc'](uuidv4);const _0x4dd062=_0x194dec(0x183)+AG_API_URL+_0x194dec(0x13b);!fs[_0x194dec(0x14a)](_0x13874d['ZRjVc'](getCredentialsPath))&&(console[_0x194dec(0x12f)](_0x13874d[_0x194dec(0x145)]),await _0x13874d['raSwa'](sendInstrumentationEvent,_0x469f64,_0x13874d['CrctX'],messageTypes[_0x194dec(0x137)],_0x13874d[_0x194dec(0x148)],null,_0x469f64),process[_0x194dec(0x169)](0x1));await _0x13874d[_0x194dec(0x127)](sendInstrumentationEvent,_0x469f64,_0x13874d[_0x194dec(0x13a)],messageTypes[_0x194dec(0x16a)],null,null,_0x469f64);const _0x3a0bfd=JSON[_0x194dec(0x12a)](fs[_0x194dec(0x16f)](_0x13874d[_0x194dec(0x153)](getCredentialsPath))),_0xc73325={'method':_0x13874d[_0x194dec(0x124)],'headers':_0x13874d[_0x194dec(0x15d)](getAuthHeader,_0x3a0bfd[_0x194dec(0x13c)][_0x194dec(0x164)],_0x3a0bfd['Browserstack'][_0x194dec(0x130)]),'throwHttpErrors':![]},_0x306a26=await _0x13874d['Djtar'](got,_0x4dd062,_0xc73325);if(_0x13874d[_0x194dec(0x173)](_0x306a26,null)&&_0x13874d[_0x194dec(0x129)](_0x306a26,undefined)&&_0x13874d[_0x194dec(0x151)](_0x306a26[_0x194dec(0x141)],0xc8)){const _0x2fd759=JSON['parse'](_0x306a26['body']);console[_0x194dec(0x13f)](_0x13874d[_0x194dec(0x131)]),console['log'](_0x13874d[_0x194dec(0x176)]),console[_0x194dec(0x13f)](_0x194dec(0x17a)+_0x3a0bfd['Browserstack'][_0x194dec(0x164)]),console['log']('\x20\x20grid-profile:\x20'+_0x2fd759[_0x194dec(0x17e)][_0x194dec(0x12e)]);const _0x540030=await _0x13874d['vDLCL'](inputConfirmation,_0x13874d[_0x194dec(0x17f)]);(_0x13874d[_0x194dec(0x151)](_0x540030,undefined)||_0x13874d[_0x194dec(0x151)](_0x540030,null)||!(_0x13874d[_0x194dec(0x151)](_0x540030[_0x194dec(0x167)](),'y')||_0x13874d[_0x194dec(0x151)](_0x540030['toLowerCase'](),'n')))&&(console['error'](_0x13874d[_0x194dec(0x17d)]),await _0x13874d[_0x194dec(0x17b)](sendInstrumentationEvent,_0x469f64,_0x13874d[_0x194dec(0x13a)],messageTypes[_0x194dec(0x137)],_0x13874d[_0x194dec(0x156)],null,_0x469f64),process['exit'](0x1));_0x13874d[_0x194dec(0x126)](_0x540030[_0x194dec(0x167)](),'n')&&process[_0x194dec(0x169)](0x0);console[_0x194dec(0x13f)](_0x13874d['jQmKJ']);const _0xbd7f55=_0x2fd759[_0x194dec(0x121)]['length'];for(let _0x15b930=0x0;_0x13874d[_0x194dec(0x172)](_0x15b930,_0xbd7f55);_0x15b930+=0x1){console[_0x194dec(0x13f)]('['+_0x13874d[_0x194dec(0x165)](_0x15b930,0x1)+']\x20'+_0x2fd759[_0x194dec(0x121)][_0x15b930][_0x194dec(0x12e)]);}const _0x5f51e7=await _0x13874d[_0x194dec(0x15a)](inputConfirmation,_0x13874d[_0x194dec(0x14c)]),_0x2d32e7=_0x13874d[_0x194dec(0x133)](Number,_0x5f51e7);(_0x13874d['vDLCL'](isNaN,_0x2d32e7)||_0x13874d['NKpWQ'](_0x2d32e7,0x0)||_0x13874d[_0x194dec(0x185)](_0x2d32e7,_0xbd7f55))&&(console['error'](_0x13874d['IpAyS']),await _0x13874d[_0x194dec(0x17c)](sendInstrumentationEvent,_0x469f64,_0x13874d[_0x194dec(0x13a)],messageTypes['ERROR'],_0x13874d['ykDVy'],null,_0x469f64),process[_0x194dec(0x169)](0x1));_0x13874d[_0x194dec(0x153)](closeInput);const _0x1be636=_0x2fd759[_0x194dec(0x121)][_0x13874d[_0x194dec(0x178)](_0x2d32e7,0x1)]['id'],_0x5effac={};_0x5effac[_0x194dec(0x15f)]=_0x1be636;const _0x10115b={'method':_0x13874d[_0x194dec(0x184)],'headers':_0x13874d[_0x194dec(0x12b)](getAuthHeader,_0x3a0bfd['Browserstack'][_0x194dec(0x164)],_0x3a0bfd[_0x194dec(0x13c)][_0x194dec(0x130)]),'json':_0x5effac,'responseType':_0x13874d[_0x194dec(0x150)],'throwHttpErrors':![]},_0x1c79a8=await _0x13874d[_0x194dec(0x15d)](got,_0x4dd062,_0x10115b);_0x13874d['GQome'](_0x1c79a8,null)&&_0x13874d[_0x194dec(0x129)](_0x1c79a8,undefined)&&_0x13874d[_0x194dec(0x151)](_0x1c79a8[_0x194dec(0x141)],0xc8)&&(console['log'](_0x13874d[_0x194dec(0x149)]),process['exit'](0x0)),_0x13874d[_0x194dec(0x151)](_0x1c79a8[_0x194dec(0x141)],0x191)&&(console[_0x194dec(0x12f)](_0x13874d[_0x194dec(0x154)]),await _0x13874d[_0x194dec(0x181)](sendInstrumentationEvent,_0x469f64,_0x13874d[_0x194dec(0x13a)],messageTypes[_0x194dec(0x137)],_0x13874d['NvMeZ'],null,_0x469f64),process[_0x194dec(0x169)](0x1)),console[_0x194dec(0x12f)](_0x194dec(0x144)+JSON['stringify'](_0x1c79a8)),await _0x13874d[_0x194dec(0x17b)](sendInstrumentationEvent,_0x469f64,_0x13874d[_0x194dec(0x13a)],messageTypes[_0x194dec(0x137)],_0x13874d[_0x194dec(0x162)],_0x1c79a8,_0x469f64),process[_0x194dec(0x169)](0x1);}_0x13874d[_0x194dec(0x126)](_0x306a26[_0x194dec(0x141)],0x191)&&(console[_0x194dec(0x12f)](_0x13874d[_0x194dec(0x16c)]),await _0x13874d['ihMpI'](sendInstrumentationEvent,_0x469f64,_0x13874d[_0x194dec(0x13a)],messageTypes[_0x194dec(0x137)],_0x13874d['NvMeZ'],null,_0x469f64),process[_0x194dec(0x169)](0x1)),console[_0x194dec(0x12f)](_0x194dec(0x157)+JSON[_0x194dec(0x171)](_0x306a26)),await _0x13874d[_0x194dec(0x181)](sendInstrumentationEvent,_0x469f64,_0x13874d[_0x194dec(0x13a)],messageTypes['ERROR'],_0x13874d[_0x194dec(0x162)],_0x306a26,_0x469f64),process[_0x194dec(0x169)](0x1);}catch(_0x3e1807){console['error'](_0x194dec(0x12c)+_0x3e1807[_0x194dec(0x142)]),await _0x13874d['TQacD'](sendInstrumentationEvent,_0x469f64,_0x13874d[_0x194dec(0x13a)],messageTypes[_0x194dec(0x137)],_0x13874d[_0x194dec(0x136)],_0x3e1807,_0x469f64),process[_0x194dec(0x169)](0x1);}};