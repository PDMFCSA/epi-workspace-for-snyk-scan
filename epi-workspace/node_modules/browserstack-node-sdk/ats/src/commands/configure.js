const a5_0x4dcb8c=a5_0x32fa;function a5_0x32fa(_0x517043,_0x4b5487){const _0x24cf38=a5_0x24cf();return a5_0x32fa=function(_0x32faed,_0x257da){_0x32faed=_0x32faed-0x1d7;let _0x28f6fc=_0x24cf38[_0x32faed];return _0x28f6fc;},a5_0x32fa(_0x517043,_0x4b5487);}(function(_0x440d89,_0x5244c8){const _0x3d0ffb=a5_0x32fa,_0x49f621=_0x440d89();while(!![]){try{const _0x2fddc0=-parseInt(_0x3d0ffb(0x1fa))/0x1*(-parseInt(_0x3d0ffb(0x1df))/0x2)+parseInt(_0x3d0ffb(0x1f4))/0x3+parseInt(_0x3d0ffb(0x22e))/0x4*(-parseInt(_0x3d0ffb(0x232))/0x5)+-parseInt(_0x3d0ffb(0x205))/0x6*(-parseInt(_0x3d0ffb(0x1fb))/0x7)+parseInt(_0x3d0ffb(0x221))/0x8*(-parseInt(_0x3d0ffb(0x1f7))/0x9)+parseInt(_0x3d0ffb(0x1e9))/0xa*(-parseInt(_0x3d0ffb(0x226))/0xb)+-parseInt(_0x3d0ffb(0x1ee))/0xc;if(_0x2fddc0===_0x5244c8)break;else _0x49f621['push'](_0x49f621['shift']());}catch(_0x46fa85){_0x49f621['push'](_0x49f621['shift']());}}}(a5_0x24cf,0x97aed));function a5_0x24cf(){const _0x130b86=['active','Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','readFileSync','iBHpY','2cjIeXG','profileId','Configure\x20the\x20default\x20automation\x20grid\x20profiles\x20on\x20BrowserStack\x20CLI.','toLowerCase','command','../utils/instrumentationUtils','unknown-error','invalid-input','/packages/cli/configure','\x20\x20username:\x20','10WNYOxF','argv','QiwfM','DsKlk','Browserstack','713304ozUXws','\x20\x20grid-profile:\x20','lLjoc','vlcyo','cslLd','existsSync','1389780jAByMd','stack','length','325161eMXefG','GKdtW','ofjvp','1143049pCFreU','14GeLIpZ','kXYod','help','strict','BzslP','KveXb','HsrOQ','vqpvD','error','zBNTV','2806476Avcpzs','list','CZmjR','log','rEtTx','parse','OfAbs','nVITw','epilogue','json','eICxj','statusCode','Do\x20you\x20want\x20to\x20change\x20the\x20default\x20grid-profile\x20(y/n)?','yBFOI','rsows','xRUah','NWjkn','Failed\x20to\x20update\x20grid\x20profile.\x20Response\x20from\x20server:\x20','CgnhI','Kqvyu','XUzSK','password','username','ERROR','stringify','QIqqK','unauthorised','uuid','216XNTuCG','GET','INFO','Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','AEBlg','9026369hRDeFB','body','name','exit','tGgfN','configure-called','ycjmy','configure','12UKizAq','mhueq','arlrw','invalid-selection','108340FuBOcN','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','oStsG','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item)','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','init-not-called','requestId','xgfkT'];a5_0x24cf=function(){return _0x130b86;};return a5_0x24cf();}const fs=require('fs'),got=require('got'),{v4:uuidv4}=require(a5_0x4dcb8c(0x220)),{inputConfirmation,closeInput}=require('../utils/userInput'),{AG_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require('../config/constants'),{getCredentialsPath,getAuthHeader}=require('../utils/utilityMethods'),{sendInstrumentationEvent}=require(a5_0x4dcb8c(0x1e4));exports[a5_0x4dcb8c(0x1e3)]=a5_0x4dcb8c(0x22d),exports['desc']=a5_0x4dcb8c(0x1e1),exports['builder']=function(_0x4edecb){const _0x5c63ef=a5_0x4dcb8c,_0x3b5ee7={};_0x3b5ee7[_0x5c63ef(0x1f9)]='help';const _0x4e27a7=_0x3b5ee7;return _0x4edecb['usage'](HELP_HEADER_MESSAGE['configure'])[_0x5c63ef(0x20d)](HELP_FOOTER_MESSAGE)[_0x5c63ef(0x1fd)](_0x4e27a7['ofjvp'])['recommendCommands']()[_0x5c63ef(0x1fe)]()[_0x5c63ef(0x1ea)];},exports['handler']=async function(_0x3b8536){const _0x1f3c16=a5_0x4dcb8c,_0x565817={'DsKlk':function(_0x36c370){return _0x36c370();},'HzNXV':_0x1f3c16(0x233),'oStsG':function(_0x5087b6,_0x28f1f1,_0x32158f,_0x180847,_0x2366bb,_0xc734c9,_0x176bb2){return _0x5087b6(_0x28f1f1,_0x32158f,_0x180847,_0x2366bb,_0xc734c9,_0x176bb2);},'HsrOQ':_0x1f3c16(0x22b),'kXYod':_0x1f3c16(0x1d8),'uNqRy':_0x1f3c16(0x222),'QiwfM':function(_0x5cf89f,_0x52d981,_0x3c55b8){return _0x5cf89f(_0x52d981,_0x3c55b8);},'CgnhI':function(_0x411b16,_0x4cc7e2,_0x4db2a1){return _0x411b16(_0x4cc7e2,_0x4db2a1);},'cslLd':function(_0x2df102,_0x3e0f09){return _0x2df102!==_0x3e0f09;},'XUzSK':function(_0x336c94,_0x34645a){return _0x336c94!==_0x34645a;},'KveXb':function(_0x30700f,_0x10fb3b){return _0x30700f===_0x10fb3b;},'xgfkT':'\x0aCurrent\x20configured\x20automation\x20grid\x20settings\x20are:','arlrw':'core:','rsows':function(_0x3f3e36,_0x2d3d51){return _0x3f3e36(_0x2d3d51);},'zBNTV':_0x1f3c16(0x211),'OfAbs':_0x1f3c16(0x1d7),'xycaK':function(_0x1e4a3a,_0x4d28ca,_0x3ec906,_0x3f7270,_0x1eaab7,_0x1af81a,_0x38bac1){return _0x1e4a3a(_0x4d28ca,_0x3ec906,_0x3f7270,_0x1eaab7,_0x1af81a,_0x38bac1);},'GKdtW':_0x1f3c16(0x1e6),'fbxQT':'What\x20Grid\x20profile\x20will\x20you\x20make\x20as\x20default?','tGgfN':function(_0x96507b,_0x706ddb){return _0x96507b<_0x706ddb;},'mhueq':function(_0x76fe28,_0x3af39c){return _0x76fe28+_0x3af39c;},'eICxj':_0x1f3c16(0x235),'vlcyo':function(_0x24d367,_0x3c33c8){return _0x24d367(_0x3c33c8);},'IpJYk':function(_0x5ee409,_0x14697f){return _0x5ee409(_0x14697f);},'yBFOI':function(_0x4bb959,_0x283d2d){return _0x4bb959<=_0x283d2d;},'vqpvD':function(_0x134fbb,_0x45399f){return _0x134fbb>_0x45399f;},'BzslP':function(_0xa66a49,_0x885e1f,_0x561bb5,_0x37ee59,_0x10dfb6,_0xc58ddb,_0x1c600a){return _0xa66a49(_0x885e1f,_0x561bb5,_0x37ee59,_0x10dfb6,_0xc58ddb,_0x1c600a);},'Kqvyu':_0x1f3c16(0x231),'lLjoc':function(_0x40ffab){return _0x40ffab();},'SWrzj':function(_0x2f8c13,_0x11baf5){return _0x2f8c13-_0x11baf5;},'KYCuG':'PUT','ycjmy':_0x1f3c16(0x20e),'nVITw':function(_0x31c516,_0x1a5846){return _0x31c516===_0x1a5846;},'NWjkn':'Updated\x20default\x20Grid\x20Profile\x20successfully','NklZw':'Failed\x20to\x20update\x20grid\x20profile.\x20Unauthorized\x20request!','AEBlg':_0x1f3c16(0x21f),'CZmjR':function(_0x331c01,_0x17a6c6,_0x1895fb,_0x4eac1d,_0x5f4931,_0x2a74d8,_0x16feec){return _0x331c01(_0x17a6c6,_0x1895fb,_0x4eac1d,_0x5f4931,_0x2a74d8,_0x16feec);},'rEtTx':'server-error','jgnLE':function(_0x3f5153,_0x3565c5){return _0x3f5153===_0x3565c5;},'iBHpY':_0x1f3c16(0x224),'QIqqK':function(_0x482da8,_0x9db7bd,_0x3cfe22,_0x10b070,_0x28496f,_0x531af3,_0x3d6692){return _0x482da8(_0x9db7bd,_0x3cfe22,_0x10b070,_0x28496f,_0x531af3,_0x3d6692);},'xRUah':function(_0x4cf5f0,_0x190e48,_0x1674cc,_0x13599c,_0x588677,_0xb67e6e,_0x66baf0){return _0x4cf5f0(_0x190e48,_0x1674cc,_0x13599c,_0x588677,_0xb67e6e,_0x66baf0);},'PqZqt':_0x1f3c16(0x1e5)};try{global_registry[_0x1f3c16(0x1d9)]=_0x565817[_0x1f3c16(0x1ec)](uuidv4);const _0x45a898='https://'+AG_API_URL+_0x1f3c16(0x1e7);!fs[_0x1f3c16(0x1f3)](_0x565817[_0x1f3c16(0x1ec)](getCredentialsPath))&&(console[_0x1f3c16(0x203)](_0x565817['HzNXV']),await _0x565817[_0x1f3c16(0x234)](sendInstrumentationEvent,_0x3b8536,_0x565817[_0x1f3c16(0x201)],messageTypes[_0x1f3c16(0x21c)],_0x565817[_0x1f3c16(0x1fc)],null,_0x3b8536),process[_0x1f3c16(0x229)](0x1));await _0x565817[_0x1f3c16(0x234)](sendInstrumentationEvent,_0x3b8536,_0x565817[_0x1f3c16(0x201)],messageTypes[_0x1f3c16(0x223)],null,null,_0x3b8536);const _0x3cfa01=JSON['parse'](fs[_0x1f3c16(0x1dd)](_0x565817['DsKlk'](getCredentialsPath))),_0x9c2dfd={'method':_0x565817['uNqRy'],'headers':_0x565817[_0x1f3c16(0x1eb)](getAuthHeader,_0x3cfa01[_0x1f3c16(0x1ed)]['username'],_0x3cfa01[_0x1f3c16(0x1ed)][_0x1f3c16(0x21a)]),'throwHttpErrors':![]},_0x139a8f=await _0x565817[_0x1f3c16(0x217)](got,_0x45a898,_0x9c2dfd);if(_0x565817[_0x1f3c16(0x1f2)](_0x139a8f,null)&&_0x565817[_0x1f3c16(0x219)](_0x139a8f,undefined)&&_0x565817[_0x1f3c16(0x200)](_0x139a8f[_0x1f3c16(0x210)],0xc8)){const _0x1ae46c=JSON[_0x1f3c16(0x20a)](_0x139a8f[_0x1f3c16(0x227)]);console[_0x1f3c16(0x208)](_0x565817[_0x1f3c16(0x1da)]),console[_0x1f3c16(0x208)](_0x565817[_0x1f3c16(0x230)]),console[_0x1f3c16(0x208)](_0x1f3c16(0x1e8)+_0x3cfa01[_0x1f3c16(0x1ed)][_0x1f3c16(0x21b)]),console[_0x1f3c16(0x208)](_0x1f3c16(0x1ef)+_0x1ae46c[_0x1f3c16(0x1db)][_0x1f3c16(0x228)]);const _0x58e712=await _0x565817[_0x1f3c16(0x213)](inputConfirmation,_0x565817[_0x1f3c16(0x204)]);(_0x565817[_0x1f3c16(0x200)](_0x58e712,undefined)||_0x565817['KveXb'](_0x58e712,null)||!(_0x565817[_0x1f3c16(0x200)](_0x58e712[_0x1f3c16(0x1e2)](),'y')||_0x565817[_0x1f3c16(0x200)](_0x58e712[_0x1f3c16(0x1e2)](),'n')))&&(console[_0x1f3c16(0x203)](_0x565817[_0x1f3c16(0x20b)]),await _0x565817['xycaK'](sendInstrumentationEvent,_0x3b8536,_0x565817['HsrOQ'],messageTypes[_0x1f3c16(0x21c)],_0x565817[_0x1f3c16(0x1f8)],null,_0x3b8536),process[_0x1f3c16(0x229)](0x1));_0x565817['KveXb'](_0x58e712[_0x1f3c16(0x1e2)](),'n')&&process[_0x1f3c16(0x229)](0x0);console[_0x1f3c16(0x208)](_0x565817['fbxQT']);const _0x31055c=_0x1ae46c[_0x1f3c16(0x206)][_0x1f3c16(0x1f6)];for(let _0x24816e=0x0;_0x565817[_0x1f3c16(0x22a)](_0x24816e,_0x31055c);_0x24816e+=0x1){console['log']('['+_0x565817[_0x1f3c16(0x22f)](_0x24816e,0x1)+']\x20'+_0x1ae46c[_0x1f3c16(0x206)][_0x24816e][_0x1f3c16(0x228)]);}const _0x1210f3=await _0x565817['rsows'](inputConfirmation,_0x565817[_0x1f3c16(0x20f)]),_0x1cd396=_0x565817[_0x1f3c16(0x1f1)](Number,_0x1210f3);(_0x565817['IpJYk'](isNaN,_0x1cd396)||_0x565817[_0x1f3c16(0x212)](_0x1cd396,0x0)||_0x565817[_0x1f3c16(0x202)](_0x1cd396,_0x31055c))&&(console['error'](_0x565817['OfAbs']),await _0x565817[_0x1f3c16(0x1ff)](sendInstrumentationEvent,_0x3b8536,_0x565817[_0x1f3c16(0x201)],messageTypes[_0x1f3c16(0x21c)],_0x565817[_0x1f3c16(0x218)],null,_0x3b8536),process[_0x1f3c16(0x229)](0x1));_0x565817[_0x1f3c16(0x1f0)](closeInput);const _0x5601a4=_0x1ae46c[_0x1f3c16(0x206)][_0x565817['SWrzj'](_0x1cd396,0x1)]['id'],_0x956fc2={};_0x956fc2[_0x1f3c16(0x1e0)]=_0x5601a4;const _0x5b09b4={'method':_0x565817['KYCuG'],'headers':_0x565817[_0x1f3c16(0x217)](getAuthHeader,_0x3cfa01[_0x1f3c16(0x1ed)]['username'],_0x3cfa01['Browserstack'][_0x1f3c16(0x21a)]),'json':_0x956fc2,'responseType':_0x565817[_0x1f3c16(0x22c)],'throwHttpErrors':![]},_0x154e03=await _0x565817[_0x1f3c16(0x1eb)](got,_0x45a898,_0x5b09b4);_0x565817[_0x1f3c16(0x219)](_0x154e03,null)&&_0x565817['cslLd'](_0x154e03,undefined)&&_0x565817[_0x1f3c16(0x20c)](_0x154e03[_0x1f3c16(0x210)],0xc8)&&(console[_0x1f3c16(0x208)](_0x565817[_0x1f3c16(0x215)]),process[_0x1f3c16(0x229)](0x0)),_0x565817[_0x1f3c16(0x20c)](_0x154e03[_0x1f3c16(0x210)],0x191)&&(console[_0x1f3c16(0x203)](_0x565817['NklZw']),await _0x565817['BzslP'](sendInstrumentationEvent,_0x3b8536,_0x565817[_0x1f3c16(0x201)],messageTypes['ERROR'],_0x565817['AEBlg'],null,_0x3b8536),process[_0x1f3c16(0x229)](0x1)),console[_0x1f3c16(0x203)](_0x1f3c16(0x216)+JSON[_0x1f3c16(0x21d)](_0x154e03)),await _0x565817[_0x1f3c16(0x207)](sendInstrumentationEvent,_0x3b8536,_0x565817[_0x1f3c16(0x201)],messageTypes[_0x1f3c16(0x21c)],_0x565817['rEtTx'],_0x154e03,_0x3b8536),process[_0x1f3c16(0x229)](0x1);}_0x565817['jgnLE'](_0x139a8f[_0x1f3c16(0x210)],0x191)&&(console[_0x1f3c16(0x203)](_0x565817[_0x1f3c16(0x1de)]),await _0x565817[_0x1f3c16(0x207)](sendInstrumentationEvent,_0x3b8536,_0x565817[_0x1f3c16(0x201)],messageTypes[_0x1f3c16(0x21c)],_0x565817[_0x1f3c16(0x225)],null,_0x3b8536),process[_0x1f3c16(0x229)](0x1)),console[_0x1f3c16(0x203)](_0x1f3c16(0x1dc)+JSON[_0x1f3c16(0x21d)](_0x139a8f)),await _0x565817[_0x1f3c16(0x21e)](sendInstrumentationEvent,_0x3b8536,_0x565817[_0x1f3c16(0x201)],messageTypes[_0x1f3c16(0x21c)],_0x565817[_0x1f3c16(0x209)],_0x139a8f,_0x3b8536),process[_0x1f3c16(0x229)](0x1);}catch(_0x539c4a){console[_0x1f3c16(0x203)]('Failed\x20to\x20configure\x20resources!\x20Error:\x20'+_0x539c4a[_0x1f3c16(0x1f5)]),await _0x565817[_0x1f3c16(0x214)](sendInstrumentationEvent,_0x3b8536,_0x565817[_0x1f3c16(0x201)],messageTypes['ERROR'],_0x565817['PqZqt'],_0x539c4a,_0x3b8536),process[_0x1f3c16(0x229)](0x1);}};