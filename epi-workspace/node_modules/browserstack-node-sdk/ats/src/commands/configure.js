const a5_0x2c73f5=a5_0x3fca;function a5_0x2d9b(){const _0x56a0b=['length','/packages/cli/configure','NjpRX','oFOCk','Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','dUthb','epilogue','Failed\x20to\x20update\x20grid\x20profile.\x20Unauthorized\x20request!','invalid-input','unauthorised','\x20\x20username:\x20','INFO','iRPHM','toLowerCase','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item)','requestId','ERROR','qmtli','Browserstack','BHEDK','uuid','jSGTG','1639832CIVHNP','5838530TYvokS','json','3LvtItv','exit','recommendCommands','desc','argv','aXrnF','statusCode','password','name','\x0aCurrent\x20configured\x20automation\x20grid\x20settings\x20are:','10669592tKJiLl','GET','\x20\x20grid-profile:\x20','qTRcV','HMDON','builder','Meqmt','body','handler','active','Failed\x20to\x20update\x20grid\x20profile.\x20Response\x20from\x20server:\x20','CTsxg','VOaAs','usage','23923520UlrQvl','username','LgLdN','PVtwn','strict','vWxCG','Hippz','7qeHvGW','Afqkn','iuSJB','WOKJq','error','DnWZN','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','log','init-not-called','parse','529769epGTfy','FbVsT','stack','9XhmJRt','vChAB','3295740hUzjBo','VYNrQ','invalid-selection','XpKvk','Failed\x20to\x20configure\x20resources!\x20Error:\x20','existsSync','../utils/instrumentationUtils','hkVmI','../utils/userInput','readFileSync','ThaOV','PUT','Bjdwl','YhnVb','help','list','2172938hhUhkd','Jupgo','usmhx'];a5_0x2d9b=function(){return _0x56a0b;};return a5_0x2d9b();}function a5_0x3fca(_0x59d70f,_0x5df63f){const _0x2d9bf7=a5_0x2d9b();return a5_0x3fca=function(_0x3fca4b,_0x18c8f0){_0x3fca4b=_0x3fca4b-0x10b;let _0x443586=_0x2d9bf7[_0x3fca4b];return _0x443586;},a5_0x3fca(_0x59d70f,_0x5df63f);}(function(_0x56f026,_0x97bcc3){const _0x224a4c=a5_0x3fca,_0x46e1d0=_0x56f026();while(!![]){try{const _0x2d434e=-parseInt(_0x224a4c(0x137))/0x1+parseInt(_0x224a4c(0x14c))/0x2*(-parseInt(_0x224a4c(0x10d))/0x3)+-parseInt(_0x224a4c(0x165))/0x4+parseInt(_0x224a4c(0x10b))/0x5+parseInt(_0x224a4c(0x13c))/0x6*(parseInt(_0x224a4c(0x12c))/0x7)+parseInt(_0x224a4c(0x117))/0x8*(-parseInt(_0x224a4c(0x13a))/0x9)+parseInt(_0x224a4c(0x125))/0xa;if(_0x2d434e===_0x97bcc3)break;else _0x46e1d0['push'](_0x46e1d0['shift']());}catch(_0x4a13f8){_0x46e1d0['push'](_0x46e1d0['shift']());}}}(a5_0x2d9b,0xb6f8d));const fs=require('fs'),got=require('got'),{v4:uuidv4}=require(a5_0x2c73f5(0x163)),{inputConfirmation,closeInput}=require(a5_0x2c73f5(0x144)),{AG_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require('../config/constants'),{getCredentialsPath,getAuthHeader}=require('../utils/utilityMethods'),{sendInstrumentationEvent}=require(a5_0x2c73f5(0x142));exports['command']='configure',exports[a5_0x2c73f5(0x110)]='Configure\x20the\x20default\x20automation\x20grid\x20profiles\x20on\x20BrowserStack\x20CLI.',exports[a5_0x2c73f5(0x11c)]=function(_0x1d945f){const _0x3f5805=a5_0x2c73f5,_0x46dc85={};_0x46dc85[_0x3f5805(0x11b)]=_0x3f5805(0x14a);const _0x1d8c22=_0x46dc85;return _0x1d945f[_0x3f5805(0x124)](HELP_HEADER_MESSAGE['configure'])[_0x3f5805(0x155)](HELP_FOOTER_MESSAGE)['help'](_0x1d8c22[_0x3f5805(0x11b)])[_0x3f5805(0x10f)]()[_0x3f5805(0x129)]()[_0x3f5805(0x111)];},exports[a5_0x2c73f5(0x11f)]=async function(_0x16d7da){const _0x4f43fb=a5_0x2c73f5,_0x20771c={'Jupgo':function(_0x40c667){return _0x40c667();},'yXgfE':_0x4f43fb(0x133),'VYNrQ':function(_0x3af18e,_0x3b348e,_0x20d763,_0x5a98ec,_0x1bbc3f,_0x421204,_0x35f9a9){return _0x3af18e(_0x3b348e,_0x20d763,_0x5a98ec,_0x1bbc3f,_0x421204,_0x35f9a9);},'WOKJq':'configure-called','QlzNN':_0x4f43fb(0x135),'BHEDK':function(_0xd7d051,_0x2879e8,_0x24629f,_0xfb49ed,_0x9634db,_0xbeb735,_0x5dd5c8){return _0xd7d051(_0x2879e8,_0x24629f,_0xfb49ed,_0x9634db,_0xbeb735,_0x5dd5c8);},'qlpCG':_0x4f43fb(0x118),'LgLdN':function(_0x8f5ea5,_0x2deb4,_0x566ac4){return _0x8f5ea5(_0x2deb4,_0x566ac4);},'qmtli':function(_0xc4ba28,_0x4d4829,_0x5d284d){return _0xc4ba28(_0x4d4829,_0x5d284d);},'YhnVb':function(_0x52399b,_0x166fcf){return _0x52399b!==_0x166fcf;},'hkVmI':function(_0x159293,_0x1acad6){return _0x159293!==_0x1acad6;},'XpKvk':function(_0x49ac6f,_0x105613){return _0x49ac6f===_0x105613;},'ThaOV':_0x4f43fb(0x116),'Hippz':'core:','oFOCk':function(_0x4e5cc4,_0x58ca6c){return _0x4e5cc4(_0x58ca6c);},'DnWZN':'Do\x20you\x20want\x20to\x20change\x20the\x20default\x20grid-profile\x20(y/n)?','aujsC':function(_0x51cb8d,_0x254b22){return _0x51cb8d===_0x254b22;},'VOaAs':function(_0x21e07c,_0x19ac99){return _0x21e07c===_0x19ac99;},'KRfZg':function(_0xe13e3f,_0x44b208){return _0xe13e3f===_0x44b208;},'Bjdwl':_0x4f43fb(0x132),'ynOjY':_0x4f43fb(0x157),'FbVsT':'What\x20Grid\x20profile\x20will\x20you\x20make\x20as\x20default?','NjpRX':function(_0x157132,_0x36efec){return _0x157132<_0x36efec;},'usmhx':function(_0x5f25aa,_0x3ece51){return _0x5f25aa+_0x3ece51;},'qTRcV':_0x4f43fb(0x15d),'aWitf':function(_0x51f919,_0x360dea){return _0x51f919(_0x360dea);},'Meqmt':function(_0x2325a4,_0x362803){return _0x2325a4<=_0x362803;},'MeBCX':function(_0x3b2795,_0x364892){return _0x3b2795>_0x364892;},'Afqkn':_0x4f43fb(0x13e),'lgpxF':function(_0x5bb758,_0x1f23e1){return _0x5bb758-_0x1f23e1;},'NpeEe':_0x4f43fb(0x147),'LBhMI':_0x4f43fb(0x10c),'BJifV':function(_0x16d25d,_0x4f304e){return _0x16d25d!==_0x4f304e;},'dUthb':function(_0x304424,_0x3c6a79){return _0x304424!==_0x3c6a79;},'vWxCG':function(_0x55e056,_0x18ea0f){return _0x55e056===_0x18ea0f;},'jSGTG':'Updated\x20default\x20Grid\x20Profile\x20successfully','iRPHM':function(_0x59245a,_0x32e78){return _0x59245a===_0x32e78;},'iuSJB':_0x4f43fb(0x156),'aXrnF':_0x4f43fb(0x158),'LNuzk':function(_0x4a17c5,_0x44b086,_0x5fe6f9,_0x5b8751,_0x52c9b7,_0x36a36,_0x228024){return _0x4a17c5(_0x44b086,_0x5fe6f9,_0x5b8751,_0x52c9b7,_0x36a36,_0x228024);},'PVtwn':'server-error','CTsxg':_0x4f43fb(0x153),'vChAB':function(_0x4f75a2,_0x34cb06,_0x4279c9,_0x9360b9,_0x1b73bb,_0x58359a,_0x51472e){return _0x4f75a2(_0x34cb06,_0x4279c9,_0x9360b9,_0x1b73bb,_0x58359a,_0x51472e);},'dAnMW':'unknown-error'};try{global_registry[_0x4f43fb(0x15e)]=_0x20771c[_0x4f43fb(0x14d)](uuidv4);const _0x27742f='https://'+AG_API_URL+_0x4f43fb(0x150);!fs[_0x4f43fb(0x141)](_0x20771c[_0x4f43fb(0x14d)](getCredentialsPath))&&(console[_0x4f43fb(0x130)](_0x20771c['yXgfE']),await _0x20771c[_0x4f43fb(0x13d)](sendInstrumentationEvent,_0x16d7da,_0x20771c[_0x4f43fb(0x12f)],messageTypes['ERROR'],_0x20771c['QlzNN'],null,_0x16d7da),process['exit'](0x1));await _0x20771c[_0x4f43fb(0x162)](sendInstrumentationEvent,_0x16d7da,_0x20771c[_0x4f43fb(0x12f)],messageTypes[_0x4f43fb(0x15a)],null,null,_0x16d7da);const _0x4699a=JSON[_0x4f43fb(0x136)](fs[_0x4f43fb(0x145)](_0x20771c[_0x4f43fb(0x14d)](getCredentialsPath))),_0x5c2e08={'method':_0x20771c['qlpCG'],'headers':_0x20771c[_0x4f43fb(0x127)](getAuthHeader,_0x4699a[_0x4f43fb(0x161)]['username'],_0x4699a[_0x4f43fb(0x161)][_0x4f43fb(0x114)]),'throwHttpErrors':![]},_0x5265da=await _0x20771c[_0x4f43fb(0x160)](got,_0x27742f,_0x5c2e08);if(_0x20771c[_0x4f43fb(0x149)](_0x5265da,null)&&_0x20771c[_0x4f43fb(0x143)](_0x5265da,undefined)&&_0x20771c['XpKvk'](_0x5265da[_0x4f43fb(0x113)],0xc8)){const _0x455b61=JSON[_0x4f43fb(0x136)](_0x5265da[_0x4f43fb(0x11e)]);console[_0x4f43fb(0x134)](_0x20771c[_0x4f43fb(0x146)]),console[_0x4f43fb(0x134)](_0x20771c[_0x4f43fb(0x12b)]),console[_0x4f43fb(0x134)](_0x4f43fb(0x159)+_0x4699a[_0x4f43fb(0x161)]['username']),console[_0x4f43fb(0x134)](_0x4f43fb(0x119)+_0x455b61[_0x4f43fb(0x120)][_0x4f43fb(0x115)]);const _0x2a79e9=await _0x20771c[_0x4f43fb(0x152)](inputConfirmation,_0x20771c[_0x4f43fb(0x131)]);(_0x20771c[_0x4f43fb(0x13f)](_0x2a79e9,undefined)||_0x20771c['aujsC'](_0x2a79e9,null)||!(_0x20771c[_0x4f43fb(0x123)](_0x2a79e9[_0x4f43fb(0x15c)](),'y')||_0x20771c['KRfZg'](_0x2a79e9[_0x4f43fb(0x15c)](),'n')))&&(console['error'](_0x20771c['Bjdwl']),await _0x20771c['VYNrQ'](sendInstrumentationEvent,_0x16d7da,_0x20771c[_0x4f43fb(0x12f)],messageTypes[_0x4f43fb(0x15f)],_0x20771c['ynOjY'],null,_0x16d7da),process[_0x4f43fb(0x10e)](0x1));_0x20771c['aujsC'](_0x2a79e9[_0x4f43fb(0x15c)](),'n')&&process[_0x4f43fb(0x10e)](0x0);console[_0x4f43fb(0x134)](_0x20771c[_0x4f43fb(0x138)]);const _0x321604=_0x455b61[_0x4f43fb(0x14b)][_0x4f43fb(0x14f)];for(let _0x4bcdf2=0x0;_0x20771c[_0x4f43fb(0x151)](_0x4bcdf2,_0x321604);_0x4bcdf2+=0x1){console[_0x4f43fb(0x134)]('['+_0x20771c[_0x4f43fb(0x14e)](_0x4bcdf2,0x1)+']\x20'+_0x455b61[_0x4f43fb(0x14b)][_0x4bcdf2][_0x4f43fb(0x115)]);}const _0x45c0af=await _0x20771c[_0x4f43fb(0x152)](inputConfirmation,_0x20771c[_0x4f43fb(0x11a)]),_0x1f9ff2=_0x20771c[_0x4f43fb(0x152)](Number,_0x45c0af);(_0x20771c['aWitf'](isNaN,_0x1f9ff2)||_0x20771c[_0x4f43fb(0x11d)](_0x1f9ff2,0x0)||_0x20771c['MeBCX'](_0x1f9ff2,_0x321604))&&(console['error'](_0x20771c[_0x4f43fb(0x148)]),await _0x20771c[_0x4f43fb(0x162)](sendInstrumentationEvent,_0x16d7da,_0x20771c[_0x4f43fb(0x12f)],messageTypes[_0x4f43fb(0x15f)],_0x20771c[_0x4f43fb(0x12d)],null,_0x16d7da),process[_0x4f43fb(0x10e)](0x1));_0x20771c['Jupgo'](closeInput);const _0x4f1b3a=_0x455b61[_0x4f43fb(0x14b)][_0x20771c['lgpxF'](_0x1f9ff2,0x1)]['id'],_0x577291={};_0x577291['profileId']=_0x4f1b3a;const _0xb4d849={'method':_0x20771c['NpeEe'],'headers':_0x20771c[_0x4f43fb(0x160)](getAuthHeader,_0x4699a[_0x4f43fb(0x161)][_0x4f43fb(0x126)],_0x4699a[_0x4f43fb(0x161)][_0x4f43fb(0x114)]),'json':_0x577291,'responseType':_0x20771c['LBhMI'],'throwHttpErrors':![]},_0x1c3081=await _0x20771c[_0x4f43fb(0x160)](got,_0x27742f,_0xb4d849);_0x20771c['BJifV'](_0x1c3081,null)&&_0x20771c[_0x4f43fb(0x154)](_0x1c3081,undefined)&&_0x20771c[_0x4f43fb(0x12a)](_0x1c3081[_0x4f43fb(0x113)],0xc8)&&(console['log'](_0x20771c[_0x4f43fb(0x164)]),process['exit'](0x0)),_0x20771c[_0x4f43fb(0x15b)](_0x1c3081['statusCode'],0x191)&&(console[_0x4f43fb(0x130)](_0x20771c[_0x4f43fb(0x12e)]),await _0x20771c[_0x4f43fb(0x13d)](sendInstrumentationEvent,_0x16d7da,_0x20771c[_0x4f43fb(0x12f)],messageTypes[_0x4f43fb(0x15f)],_0x20771c['aXrnF'],null,_0x16d7da),process['exit'](0x1)),console[_0x4f43fb(0x130)](_0x4f43fb(0x121)+JSON['stringify'](_0x1c3081)),await _0x20771c['LNuzk'](sendInstrumentationEvent,_0x16d7da,_0x20771c[_0x4f43fb(0x12f)],messageTypes[_0x4f43fb(0x15f)],_0x20771c['PVtwn'],_0x1c3081,_0x16d7da),process['exit'](0x1);}_0x20771c[_0x4f43fb(0x13f)](_0x5265da[_0x4f43fb(0x113)],0x191)&&(console['error'](_0x20771c[_0x4f43fb(0x122)]),await _0x20771c['LNuzk'](sendInstrumentationEvent,_0x16d7da,_0x20771c[_0x4f43fb(0x12f)],messageTypes[_0x4f43fb(0x15f)],_0x20771c[_0x4f43fb(0x112)],null,_0x16d7da),process['exit'](0x1)),console[_0x4f43fb(0x130)]('Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20'+JSON['stringify'](_0x5265da)),await _0x20771c['LNuzk'](sendInstrumentationEvent,_0x16d7da,_0x20771c[_0x4f43fb(0x12f)],messageTypes[_0x4f43fb(0x15f)],_0x20771c[_0x4f43fb(0x128)],_0x5265da,_0x16d7da),process[_0x4f43fb(0x10e)](0x1);}catch(_0x38c1da){console[_0x4f43fb(0x130)](_0x4f43fb(0x140)+_0x38c1da[_0x4f43fb(0x139)]),await _0x20771c[_0x4f43fb(0x13b)](sendInstrumentationEvent,_0x16d7da,_0x20771c[_0x4f43fb(0x12f)],messageTypes[_0x4f43fb(0x15f)],_0x20771c['dAnMW'],_0x38c1da,_0x16d7da),process[_0x4f43fb(0x10e)](0x1);}};