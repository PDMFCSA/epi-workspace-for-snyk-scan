const a5_0x4fabf9=a5_0x4472;(function(_0x4ace7f,_0x2dad2f){const _0x25fa73=a5_0x4472,_0xf82dc2=_0x4ace7f();while(!![]){try{const _0x1f80fe=parseInt(_0x25fa73(0x107))/0x1*(parseInt(_0x25fa73(0xee))/0x2)+parseInt(_0x25fa73(0xf2))/0x3*(parseInt(_0x25fa73(0xf5))/0x4)+-parseInt(_0x25fa73(0x13b))/0x5*(parseInt(_0x25fa73(0xf7))/0x6)+parseInt(_0x25fa73(0x122))/0x7+-parseInt(_0x25fa73(0x13d))/0x8*(-parseInt(_0x25fa73(0x10c))/0x9)+-parseInt(_0x25fa73(0x133))/0xa*(parseInt(_0x25fa73(0x121))/0xb)+-parseInt(_0x25fa73(0xf0))/0xc*(-parseInt(_0x25fa73(0xef))/0xd);if(_0x1f80fe===_0x2dad2f)break;else _0xf82dc2['push'](_0xf82dc2['shift']());}catch(_0x317092){_0xf82dc2['push'](_0xf82dc2['shift']());}}}(a5_0x59cd,0x6b83a));function a5_0x4472(_0x410911,_0x14eacf){const _0x59cdbd=a5_0x59cd();return a5_0x4472=function(_0x4472a8,_0x9be5d8){_0x4472a8=_0x4472a8-0xee;let _0x20dacb=_0x59cdbd[_0x4472a8];return _0x20dacb;},a5_0x4472(_0x410911,_0x14eacf);}const fs=require('fs'),got=require('got'),{v4:uuidv4}=require(a5_0x4fabf9(0x132)),{inputConfirmation,closeInput}=require(a5_0x4fabf9(0x11d)),{AG_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a5_0x4fabf9(0x125)),{getCredentialsPath,getAuthHeader}=require('../utils/utilityMethods'),{sendInstrumentationEvent}=require(a5_0x4fabf9(0x115));function a5_0x59cd(){const _0x5689db=['ehTzX','statusCode','telNH','5VxfGUR','YTZTr','248SSBboe','xhCbz','yYdnF','vgzhX','https://','active','vpKlC','KDTbC','stack','YxcKa','list','PUT','oiBTq','CwNnS','parse','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','requestId','SpEPZ','invalid-input','HdOXq','body','DZoZo','Browserstack','cOQZs','163928mvYxml','7787RftQTB','12156zXPwGw','CZfHi','460857AaJhzl','What\x20Grid\x20profile\x20will\x20you\x20make\x20as\x20default?','kawRn','4lRpmyR','/packages/cli/configure','3688494FlixdO','URCnM','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item)','Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','uEjJo','ERROR','XnRdl','aBcYA','exit','eizdr','invalid-selection','recommendCommands','help','Failed\x20to\x20update\x20grid\x20profile.\x20Response\x20from\x20server:\x20','vhCkK','wrYgA','4nvIPgm','stringify','Configure\x20the\x20default\x20automation\x20grid\x20profiles\x20on\x20BrowserStack\x20CLI.','argv','Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','41598yYPkER','readFileSync','tsHAc','toLowerCase','zPsLZ','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','desc','\x0aCurrent\x20configured\x20automation\x20grid\x20settings\x20are:','\x20\x20username:\x20','../utils/instrumentationUtils','gyXwV','iaKbv','error','log','Failed\x20to\x20configure\x20resources!\x20Error:\x20','password','ywRAR','../utils/userInput','vnVoJ','username','VUrqo','4147187tnQzWc','1404200bsWFbO','jGtwR','oMcSI','../config/constants','configure','nzBrp','aavRZ','OPJet','INFO','CHRxO','Failed\x20to\x20update\x20grid\x20profile.\x20Unauthorized\x20request!','profileId','uJVDo','name','jcpGf','command','uuid','10cNyZex','core:','unknown-error','ayxsW','configure-called'];a5_0x59cd=function(){return _0x5689db;};return a5_0x59cd();}exports[a5_0x4fabf9(0x131)]=a5_0x4fabf9(0x126),exports[a5_0x4fabf9(0x112)]=a5_0x4fabf9(0x109),exports['builder']=function(_0x61b7f1){const _0x112fff=a5_0x4fabf9,_0x4faba6={};_0x4faba6[_0x112fff(0x10e)]=_0x112fff(0x103);const _0xbe9588=_0x4faba6;return _0x61b7f1['usage'](HELP_HEADER_MESSAGE[_0x112fff(0x126)])['epilogue'](HELP_FOOTER_MESSAGE)[_0x112fff(0x103)](_0xbe9588[_0x112fff(0x10e)])[_0x112fff(0x102)]()['strict']()[_0x112fff(0x10a)];},exports['handler']=async function(_0x37dbeb){const _0x387700=a5_0x4fabf9,_0x1a0c4f={'kawRn':function(_0x33450d){return _0x33450d();},'ehTzX':_0x387700(0x14c),'vnVoJ':function(_0x378372,_0x3d1bb3,_0x20e3a7,_0x401dfd,_0x36c791,_0x297f7f,_0x31e59b){return _0x378372(_0x3d1bb3,_0x20e3a7,_0x401dfd,_0x36c791,_0x297f7f,_0x31e59b);},'yYdnF':_0x387700(0x137),'vgzhX':'init-not-called','CZfHi':'GET','uJVDo':function(_0x1dcf55,_0x1b7150,_0x5c37c5){return _0x1dcf55(_0x1b7150,_0x5c37c5);},'gyXwV':function(_0x3737c6,_0x4fb00b,_0x35af53){return _0x3737c6(_0x4fb00b,_0x35af53);},'jcpGf':function(_0x3892f8,_0x4aae17){return _0x3892f8!==_0x4aae17;},'ywRAR':function(_0x4d7885,_0xa90249){return _0x4d7885===_0xa90249;},'zPsLZ':_0x387700(0x113),'DZoZo':_0x387700(0x134),'uEjJo':function(_0x179349,_0x53df26){return _0x179349(_0x53df26);},'HdOXq':'Do\x20you\x20want\x20to\x20change\x20the\x20default\x20grid-profile\x20(y/n)?','VUrqo':function(_0x535922,_0x4cfd5e){return _0x535922===_0x4cfd5e;},'iaKbv':function(_0x2a3fe7,_0x544c00){return _0x2a3fe7===_0x544c00;},'YTZTr':_0x387700(0x111),'cOQZs':_0x387700(0x14f),'EMoZO':function(_0x48fe2a,_0x24fd3e){return _0x48fe2a===_0x24fd3e;},'aavRZ':_0x387700(0xf3),'oMcSI':function(_0x5a14bc,_0x3e87a6){return _0x5a14bc<_0x3e87a6;},'YxcKa':function(_0x32ea77,_0x48931a){return _0x32ea77+_0x48931a;},'CHRxO':function(_0x3f0a35,_0xd4b864){return _0x3f0a35(_0xd4b864);},'ayxsW':_0x387700(0xf9),'qaqNK':function(_0xf65bd8,_0x2e0f2a){return _0xf65bd8<=_0x2e0f2a;},'QNzzv':function(_0x3737f9,_0x28d512){return _0x3737f9>_0x28d512;},'CwNnS':function(_0x3c9641,_0x1c1e4e,_0x1be068,_0xd817bb,_0x5ea42b,_0xf8267c,_0x3d6567){return _0x3c9641(_0x1c1e4e,_0x1be068,_0xd817bb,_0x5ea42b,_0xf8267c,_0x3d6567);},'KDTbC':_0x387700(0x101),'URCnM':function(_0x4f49cc){return _0x4f49cc();},'XTQze':function(_0xa99fa0,_0x564e58){return _0xa99fa0-_0x564e58;},'vpKlC':_0x387700(0x148),'NOxuA':'json','jGtwR':function(_0x247d10,_0x5eaa10){return _0x247d10!==_0x5eaa10;},'eizdr':function(_0x2fc39a,_0x26eadf){return _0x2fc39a!==_0x26eadf;},'xhCbz':'Updated\x20default\x20Grid\x20Profile\x20successfully','vhCkK':function(_0x3d22c4,_0x44465f){return _0x3d22c4===_0x44465f;},'wrYgA':_0x387700(0x12c),'XnRdl':'unauthorised','OPJet':function(_0xb40eb0,_0x5c5fa1,_0x5e6eef,_0x283b30,_0x40baa5,_0x4b2b59,_0x4548ec){return _0xb40eb0(_0x5c5fa1,_0x5e6eef,_0x283b30,_0x40baa5,_0x4b2b59,_0x4548ec);},'aBcYA':'server-error','SpEPZ':function(_0x41b697,_0x5b5b15){return _0x41b697===_0x5b5b15;},'oFPWz':_0x387700(0x10b),'oiBTq':function(_0x405daf,_0x425cac,_0x782d2b,_0x208f6b,_0x38da4a,_0x5aef03,_0x5c1d26){return _0x405daf(_0x425cac,_0x782d2b,_0x208f6b,_0x38da4a,_0x5aef03,_0x5c1d26);},'telNH':function(_0x41eb1e,_0x4f98e2,_0x2d521f,_0x316ef3,_0x3dec21,_0x15373a,_0x3bdd90){return _0x41eb1e(_0x4f98e2,_0x2d521f,_0x316ef3,_0x3dec21,_0x15373a,_0x3bdd90);},'nzBrp':_0x387700(0x135)};try{global_registry[_0x387700(0x14d)]=_0x1a0c4f[_0x387700(0xf4)](uuidv4);const _0x190243=_0x387700(0x141)+AG_API_URL+_0x387700(0xf6);!fs['existsSync'](_0x1a0c4f['kawRn'](getCredentialsPath))&&(console[_0x387700(0x118)](_0x1a0c4f[_0x387700(0x138)]),await _0x1a0c4f[_0x387700(0x11e)](sendInstrumentationEvent,_0x37dbeb,_0x1a0c4f[_0x387700(0x13f)],messageTypes[_0x387700(0xfc)],_0x1a0c4f[_0x387700(0x140)],null,_0x37dbeb),process[_0x387700(0xff)](0x1));await _0x1a0c4f[_0x387700(0x11e)](sendInstrumentationEvent,_0x37dbeb,_0x1a0c4f[_0x387700(0x13f)],messageTypes[_0x387700(0x12a)],null,null,_0x37dbeb);const _0x2acb97=JSON[_0x387700(0x14b)](fs[_0x387700(0x10d)](_0x1a0c4f[_0x387700(0xf4)](getCredentialsPath))),_0x1f7bd8={'method':_0x1a0c4f[_0x387700(0xf1)],'headers':_0x1a0c4f[_0x387700(0x12e)](getAuthHeader,_0x2acb97[_0x387700(0x153)][_0x387700(0x11f)],_0x2acb97['Browserstack']['password']),'throwHttpErrors':![]},_0x518bb4=await _0x1a0c4f[_0x387700(0x116)](got,_0x190243,_0x1f7bd8);if(_0x1a0c4f['jcpGf'](_0x518bb4,null)&&_0x1a0c4f[_0x387700(0x130)](_0x518bb4,undefined)&&_0x1a0c4f[_0x387700(0x11c)](_0x518bb4[_0x387700(0x139)],0xc8)){const _0x1455ee=JSON[_0x387700(0x14b)](_0x518bb4[_0x387700(0x151)]);console[_0x387700(0x119)](_0x1a0c4f[_0x387700(0x110)]),console[_0x387700(0x119)](_0x1a0c4f[_0x387700(0x152)]),console[_0x387700(0x119)](_0x387700(0x114)+_0x2acb97[_0x387700(0x153)][_0x387700(0x11f)]),console['log']('\x20\x20grid-profile:\x20'+_0x1455ee[_0x387700(0x142)][_0x387700(0x12f)]);const _0x56e7d0=await _0x1a0c4f[_0x387700(0xfb)](inputConfirmation,_0x1a0c4f[_0x387700(0x150)]);(_0x1a0c4f[_0x387700(0x120)](_0x56e7d0,undefined)||_0x1a0c4f[_0x387700(0x117)](_0x56e7d0,null)||!(_0x1a0c4f[_0x387700(0x120)](_0x56e7d0[_0x387700(0x10f)](),'y')||_0x1a0c4f[_0x387700(0x11c)](_0x56e7d0[_0x387700(0x10f)](),'n')))&&(console[_0x387700(0x118)](_0x1a0c4f[_0x387700(0x13c)]),await _0x1a0c4f[_0x387700(0x11e)](sendInstrumentationEvent,_0x37dbeb,_0x1a0c4f[_0x387700(0x13f)],messageTypes['ERROR'],_0x1a0c4f[_0x387700(0x154)],null,_0x37dbeb),process['exit'](0x1));_0x1a0c4f['EMoZO'](_0x56e7d0[_0x387700(0x10f)](),'n')&&process[_0x387700(0xff)](0x0);console[_0x387700(0x119)](_0x1a0c4f[_0x387700(0x128)]);const _0x459e26=_0x1455ee[_0x387700(0x147)]['length'];for(let _0x1af61b=0x0;_0x1a0c4f[_0x387700(0x124)](_0x1af61b,_0x459e26);_0x1af61b+=0x1){console[_0x387700(0x119)]('['+_0x1a0c4f[_0x387700(0x146)](_0x1af61b,0x1)+']\x20'+_0x1455ee[_0x387700(0x147)][_0x1af61b][_0x387700(0x12f)]);}const _0x2439c8=await _0x1a0c4f['CHRxO'](inputConfirmation,_0x1a0c4f[_0x387700(0x136)]),_0x5e0f90=_0x1a0c4f[_0x387700(0x12b)](Number,_0x2439c8);(_0x1a0c4f[_0x387700(0x12b)](isNaN,_0x5e0f90)||_0x1a0c4f['qaqNK'](_0x5e0f90,0x0)||_0x1a0c4f['QNzzv'](_0x5e0f90,_0x459e26))&&(console[_0x387700(0x118)](_0x1a0c4f[_0x387700(0x13c)]),await _0x1a0c4f[_0x387700(0x14a)](sendInstrumentationEvent,_0x37dbeb,_0x1a0c4f[_0x387700(0x13f)],messageTypes['ERROR'],_0x1a0c4f[_0x387700(0x144)],null,_0x37dbeb),process['exit'](0x1));_0x1a0c4f[_0x387700(0xf8)](closeInput);const _0x2ed97f=_0x1455ee[_0x387700(0x147)][_0x1a0c4f['XTQze'](_0x5e0f90,0x1)]['id'],_0xd99979={};_0xd99979[_0x387700(0x12d)]=_0x2ed97f;const _0xe0c0a5={'method':_0x1a0c4f[_0x387700(0x143)],'headers':_0x1a0c4f[_0x387700(0x116)](getAuthHeader,_0x2acb97[_0x387700(0x153)][_0x387700(0x11f)],_0x2acb97[_0x387700(0x153)][_0x387700(0x11b)]),'json':_0xd99979,'responseType':_0x1a0c4f['NOxuA'],'throwHttpErrors':![]},_0x452394=await _0x1a0c4f['gyXwV'](got,_0x190243,_0xe0c0a5);_0x1a0c4f[_0x387700(0x123)](_0x452394,null)&&_0x1a0c4f[_0x387700(0x100)](_0x452394,undefined)&&_0x1a0c4f['iaKbv'](_0x452394[_0x387700(0x139)],0xc8)&&(console[_0x387700(0x119)](_0x1a0c4f[_0x387700(0x13e)]),process['exit'](0x0)),_0x1a0c4f[_0x387700(0x105)](_0x452394[_0x387700(0x139)],0x191)&&(console[_0x387700(0x118)](_0x1a0c4f[_0x387700(0x106)]),await _0x1a0c4f[_0x387700(0x14a)](sendInstrumentationEvent,_0x37dbeb,_0x1a0c4f['yYdnF'],messageTypes['ERROR'],_0x1a0c4f[_0x387700(0xfd)],null,_0x37dbeb),process[_0x387700(0xff)](0x1)),console[_0x387700(0x118)](_0x387700(0x104)+JSON[_0x387700(0x108)](_0x452394)),await _0x1a0c4f[_0x387700(0x129)](sendInstrumentationEvent,_0x37dbeb,_0x1a0c4f[_0x387700(0x13f)],messageTypes[_0x387700(0xfc)],_0x1a0c4f[_0x387700(0xfe)],_0x452394,_0x37dbeb),process[_0x387700(0xff)](0x1);}_0x1a0c4f[_0x387700(0x14e)](_0x518bb4[_0x387700(0x139)],0x191)&&(console[_0x387700(0x118)](_0x1a0c4f['oFPWz']),await _0x1a0c4f[_0x387700(0x149)](sendInstrumentationEvent,_0x37dbeb,_0x1a0c4f['yYdnF'],messageTypes[_0x387700(0xfc)],_0x1a0c4f[_0x387700(0xfd)],null,_0x37dbeb),process['exit'](0x1)),console[_0x387700(0x118)](_0x387700(0xfa)+JSON[_0x387700(0x108)](_0x518bb4)),await _0x1a0c4f[_0x387700(0x13a)](sendInstrumentationEvent,_0x37dbeb,_0x1a0c4f[_0x387700(0x13f)],messageTypes[_0x387700(0xfc)],_0x1a0c4f[_0x387700(0xfe)],_0x518bb4,_0x37dbeb),process[_0x387700(0xff)](0x1);}catch(_0x57f39e){console['error'](_0x387700(0x11a)+_0x57f39e[_0x387700(0x145)]),await _0x1a0c4f['vnVoJ'](sendInstrumentationEvent,_0x37dbeb,_0x1a0c4f[_0x387700(0x13f)],messageTypes['ERROR'],_0x1a0c4f[_0x387700(0x127)],_0x57f39e,_0x37dbeb),process['exit'](0x1);}};