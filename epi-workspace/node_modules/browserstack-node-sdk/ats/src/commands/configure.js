const a5_0x490064=a5_0xc646;(function(_0x46b04f,_0x52802c){const _0x4ceedc=a5_0xc646,_0x2d0c08=_0x46b04f();while(!![]){try{const _0x24bffe=parseInt(_0x4ceedc(0x85))/0x1+-parseInt(_0x4ceedc(0x9e))/0x2+-parseInt(_0x4ceedc(0x91))/0x3*(-parseInt(_0x4ceedc(0xd3))/0x4)+parseInt(_0x4ceedc(0xc6))/0x5*(parseInt(_0x4ceedc(0x8d))/0x6)+-parseInt(_0x4ceedc(0x7e))/0x7+-parseInt(_0x4ceedc(0xd1))/0x8*(-parseInt(_0x4ceedc(0xbc))/0x9)+-parseInt(_0x4ceedc(0xbf))/0xa;if(_0x24bffe===_0x52802c)break;else _0x2d0c08['push'](_0x2d0c08['shift']());}catch(_0x18b3ea){_0x2d0c08['push'](_0x2d0c08['shift']());}}}(a5_0x237c,0xe3e88));function a5_0xc646(_0x84c25b,_0x165401){const _0x237c15=a5_0x237c();return a5_0xc646=function(_0xc646c0,_0x6aca8e){_0xc646c0=_0xc646c0-0x7e;let _0x32f628=_0x237c15[_0xc646c0];return _0x32f628;},a5_0xc646(_0x84c25b,_0x165401);}const fs=require('fs'),got=require(a5_0x490064(0xad)),{v4:uuidv4}=require(a5_0x490064(0xd6)),{inputConfirmation,closeInput}=require(a5_0x490064(0x88)),{AG_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a5_0x490064(0xc2)),{getCredentialsPath,getAuthHeader}=require(a5_0x490064(0x8a)),{sendInstrumentationEvent}=require(a5_0x490064(0xb1));function a5_0x237c(){const _0xdf574d=['Failed\x20to\x20update\x20grid\x20profile.\x20Response\x20from\x20server:\x20','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','body','XDbSq','server-error','log','got','stack','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item)','gMKkn','../utils/instrumentationUtils','Bjwll','ddXeq','dwynS','configure-called','itsKM','Configure\x20the\x20default\x20automation\x20grid\x20profiles\x20on\x20BrowserStack\x20CLI.','list','argv','uKMgk','stringify','13768497AXKgJx','eYbwv','kQTMA','4766350XJblBj','jDieX','NvVFy','../config/constants','xixBi','OReUS','Browserstack','45nyqwMY','Failed\x20to\x20configure\x20resources!\x20Error:\x20','unknown-error','What\x20Grid\x20profile\x20will\x20you\x20make\x20as\x20default?','CYaXp','unauthorised','jrYVl','toLowerCase','rjmki','PshuM','error','8tBxiYK','HZZyk','4dSLsoa','help','psWks','uuid','GET','configure','invalid-input','pyxsk','ozeyG','ByGQZ','bJOrH','kmUsu','12408501OvtYsi','readFileSync','exit','fRiEf','json','SxdDA','EJrCw','435226PBEVyi','statusCode','https://','../utils/userInput','builder','../utils/utilityMethods','pAWRU','name','550038QWhXqv','Failed\x20to\x20update\x20grid\x20profile.\x20Unauthorized\x20request!','yrHid','epilogue','2465691FPkQOo','\x20\x20grid-profile:\x20','ZyTtp','agSnw','dXzPY','parse','core:','INFO','password','requestId','username','FzVYJ','PoZrm','858446bBLbOE','ERROR','jnQoT','hulKh','spPcm','EMXXH','strict','active','WKdyL'];a5_0x237c=function(){return _0xdf574d;};return a5_0x237c();}exports['command']=a5_0x490064(0xd8),exports['desc']=a5_0x490064(0xb7),exports[a5_0x490064(0x89)]=function(_0x3a1689){const _0x437d8d=a5_0x490064,_0x1e4b48={};_0x1e4b48['NvVFy']=_0x437d8d(0xd4);const _0x59b26d=_0x1e4b48;return _0x3a1689['usage'](HELP_HEADER_MESSAGE['configure'])[_0x437d8d(0x90)](HELP_FOOTER_MESSAGE)[_0x437d8d(0xd4)](_0x59b26d[_0x437d8d(0xc1)])['recommendCommands']()[_0x437d8d(0xa4)]()[_0x437d8d(0xb9)];},exports['handler']=async function(_0x37c2b2){const _0x1f2968=a5_0x490064,_0x33fa51={'gMKkn':function(_0x58fa5f){return _0x58fa5f();},'Nybbt':function(_0x32a5e1){return _0x32a5e1();},'kQTMA':_0x1f2968(0xa8),'hulKh':function(_0xfd6a74,_0x5ae637,_0x5ddf60,_0x15234e,_0x144e32,_0x278249,_0x274315){return _0xfd6a74(_0x5ae637,_0x5ddf60,_0x15234e,_0x144e32,_0x278249,_0x274315);},'itsKM':_0x1f2968(0xb5),'OReUS':'init-not-called','kmUsu':_0x1f2968(0xd7),'xixBi':function(_0x47fec6,_0x5333ef,_0x4d492e){return _0x47fec6(_0x5333ef,_0x4d492e);},'pAWRU':function(_0x9a3104,_0x439431){return _0x9a3104!==_0x439431;},'eYbwv':function(_0x246bdc,_0x4101bc){return _0x246bdc===_0x4101bc;},'ZyTtp':'\x0aCurrent\x20configured\x20automation\x20grid\x20settings\x20are:','SxdDA':_0x1f2968(0x97),'yrHid':function(_0x46f4b1,_0x58da47){return _0x46f4b1(_0x58da47);},'jDieX':'Do\x20you\x20want\x20to\x20change\x20the\x20default\x20grid-profile\x20(y/n)?','CYaXp':function(_0x1a333b,_0x91e293){return _0x1a333b===_0x91e293;},'uKMgk':'Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','ozeyG':_0x1f2968(0xd9),'dzfKY':_0x1f2968(0xc9),'spPcm':function(_0x55c689,_0x19509e){return _0x55c689<_0x19509e;},'Bjwll':function(_0x2661cd,_0x5beb58){return _0x2661cd+_0x5beb58;},'HCrCb':function(_0x54e425,_0x19e06b){return _0x54e425(_0x19e06b);},'PoZrm':_0x1f2968(0xaf),'FzVYJ':function(_0x57c3af,_0x5eeece){return _0x57c3af(_0x5eeece);},'WKdyL':function(_0x65fa46,_0x5d4cb8){return _0x65fa46<=_0x5d4cb8;},'ZYGii':function(_0x1401b8,_0x48a4f1){return _0x1401b8>_0x48a4f1;},'PshuM':'invalid-selection','ByGQZ':function(_0x481ffe){return _0x481ffe();},'HZZyk':function(_0x4a4672,_0x2497ca){return _0x4a4672-_0x2497ca;},'EMXXH':'PUT','rjmki':function(_0x2d35b3,_0x21c433,_0x4ecc68){return _0x2d35b3(_0x21c433,_0x4ecc68);},'bJOrH':_0x1f2968(0x82),'agSnw':function(_0x1d6242,_0x5343c9,_0xcc1691){return _0x1d6242(_0x5343c9,_0xcc1691);},'XDbSq':'Updated\x20default\x20Grid\x20Profile\x20successfully','fRiEf':function(_0xd72067,_0x3cbdfd){return _0xd72067===_0x3cbdfd;},'pyxsk':_0x1f2968(0x8e),'ddXeq':_0x1f2968(0xcb),'EJrCw':function(_0x198199,_0x2c2a39,_0x25a0ad,_0xf2fdda,_0x29052d,_0x2da160,_0xf082e){return _0x198199(_0x2c2a39,_0x25a0ad,_0xf2fdda,_0x29052d,_0x2da160,_0xf082e);},'jrYVl':_0x1f2968(0xab),'dwynS':function(_0x65b757,_0x14faa7){return _0x65b757===_0x14faa7;},'STIIx':'Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','dXzPY':function(_0x24f890,_0x19473d,_0x2dafe8,_0x3bfc1b,_0x5a6fb8,_0x429905,_0x295ce1){return _0x24f890(_0x19473d,_0x2dafe8,_0x3bfc1b,_0x5a6fb8,_0x429905,_0x295ce1);},'jnQoT':function(_0x2a4a36,_0x572f10,_0x5aee17,_0x1c2e08,_0x3dcbfa,_0x583b67,_0x59ef37){return _0x2a4a36(_0x572f10,_0x5aee17,_0x1c2e08,_0x3dcbfa,_0x583b67,_0x59ef37);},'psWks':_0x1f2968(0xc8)};try{global_registry[_0x1f2968(0x9a)]=_0x33fa51[_0x1f2968(0xb0)](uuidv4);const _0x598f7b=_0x1f2968(0x87)+AG_API_URL+'/packages/cli/configure';!fs['existsSync'](_0x33fa51['Nybbt'](getCredentialsPath))&&(console[_0x1f2968(0xd0)](_0x33fa51[_0x1f2968(0xbe)]),await _0x33fa51['hulKh'](sendInstrumentationEvent,_0x37c2b2,_0x33fa51['itsKM'],messageTypes['ERROR'],_0x33fa51[_0x1f2968(0xc4)],null,_0x37c2b2),process[_0x1f2968(0x80)](0x1));await _0x33fa51['hulKh'](sendInstrumentationEvent,_0x37c2b2,_0x33fa51['itsKM'],messageTypes[_0x1f2968(0x98)],null,null,_0x37c2b2);const _0x4c87b3=JSON[_0x1f2968(0x96)](fs[_0x1f2968(0x7f)](_0x33fa51[_0x1f2968(0xb0)](getCredentialsPath))),_0x1d6570={'method':_0x33fa51[_0x1f2968(0xde)],'headers':_0x33fa51[_0x1f2968(0xc3)](getAuthHeader,_0x4c87b3[_0x1f2968(0xc5)][_0x1f2968(0x9b)],_0x4c87b3[_0x1f2968(0xc5)][_0x1f2968(0x99)]),'throwHttpErrors':![]},_0x60bfa9=await _0x33fa51[_0x1f2968(0xc3)](got,_0x598f7b,_0x1d6570);if(_0x33fa51[_0x1f2968(0x8b)](_0x60bfa9,null)&&_0x33fa51['pAWRU'](_0x60bfa9,undefined)&&_0x33fa51[_0x1f2968(0xbd)](_0x60bfa9[_0x1f2968(0x86)],0xc8)){const _0x1cb250=JSON[_0x1f2968(0x96)](_0x60bfa9[_0x1f2968(0xa9)]);console[_0x1f2968(0xac)](_0x33fa51[_0x1f2968(0x93)]),console[_0x1f2968(0xac)](_0x33fa51[_0x1f2968(0x83)]),console[_0x1f2968(0xac)]('\x20\x20username:\x20'+_0x4c87b3[_0x1f2968(0xc5)][_0x1f2968(0x9b)]),console['log'](_0x1f2968(0x92)+_0x1cb250[_0x1f2968(0xa5)][_0x1f2968(0x8c)]);const _0x37bd1b=await _0x33fa51[_0x1f2968(0x8f)](inputConfirmation,_0x33fa51[_0x1f2968(0xc0)]);(_0x33fa51[_0x1f2968(0xbd)](_0x37bd1b,undefined)||_0x33fa51[_0x1f2968(0xca)](_0x37bd1b,null)||!(_0x33fa51[_0x1f2968(0xca)](_0x37bd1b[_0x1f2968(0xcd)](),'y')||_0x33fa51['CYaXp'](_0x37bd1b[_0x1f2968(0xcd)](),'n')))&&(console[_0x1f2968(0xd0)](_0x33fa51[_0x1f2968(0xba)]),await _0x33fa51[_0x1f2968(0xa1)](sendInstrumentationEvent,_0x37c2b2,_0x33fa51['itsKM'],messageTypes['ERROR'],_0x33fa51[_0x1f2968(0xdb)],null,_0x37c2b2),process['exit'](0x1));_0x33fa51[_0x1f2968(0xbd)](_0x37bd1b[_0x1f2968(0xcd)](),'n')&&process[_0x1f2968(0x80)](0x0);console[_0x1f2968(0xac)](_0x33fa51['dzfKY']);const _0x2ff33f=_0x1cb250['list']['length'];for(let _0x44aaa5=0x0;_0x33fa51[_0x1f2968(0xa2)](_0x44aaa5,_0x2ff33f);_0x44aaa5+=0x1){console[_0x1f2968(0xac)]('['+_0x33fa51[_0x1f2968(0xb2)](_0x44aaa5,0x1)+']\x20'+_0x1cb250['list'][_0x44aaa5][_0x1f2968(0x8c)]);}const _0x18c143=await _0x33fa51['HCrCb'](inputConfirmation,_0x33fa51[_0x1f2968(0x9d)]),_0x549fa4=_0x33fa51[_0x1f2968(0x8f)](Number,_0x18c143);(_0x33fa51[_0x1f2968(0x9c)](isNaN,_0x549fa4)||_0x33fa51[_0x1f2968(0xa6)](_0x549fa4,0x0)||_0x33fa51['ZYGii'](_0x549fa4,_0x2ff33f))&&(console[_0x1f2968(0xd0)](_0x33fa51[_0x1f2968(0xba)]),await _0x33fa51[_0x1f2968(0xa1)](sendInstrumentationEvent,_0x37c2b2,_0x33fa51[_0x1f2968(0xb6)],messageTypes[_0x1f2968(0x9f)],_0x33fa51[_0x1f2968(0xcf)],null,_0x37c2b2),process['exit'](0x1));_0x33fa51[_0x1f2968(0xdc)](closeInput);const _0x410390=_0x1cb250[_0x1f2968(0xb8)][_0x33fa51[_0x1f2968(0xd2)](_0x549fa4,0x1)]['id'],_0xecc45e={};_0xecc45e['profileId']=_0x410390;const _0x2a6490={'method':_0x33fa51[_0x1f2968(0xa3)],'headers':_0x33fa51[_0x1f2968(0xce)](getAuthHeader,_0x4c87b3[_0x1f2968(0xc5)][_0x1f2968(0x9b)],_0x4c87b3[_0x1f2968(0xc5)][_0x1f2968(0x99)]),'json':_0xecc45e,'responseType':_0x33fa51[_0x1f2968(0xdd)],'throwHttpErrors':![]},_0x18d8b8=await _0x33fa51[_0x1f2968(0x94)](got,_0x598f7b,_0x2a6490);_0x33fa51[_0x1f2968(0x8b)](_0x18d8b8,null)&&_0x33fa51['pAWRU'](_0x18d8b8,undefined)&&_0x33fa51[_0x1f2968(0xca)](_0x18d8b8[_0x1f2968(0x86)],0xc8)&&(console[_0x1f2968(0xac)](_0x33fa51[_0x1f2968(0xaa)]),process[_0x1f2968(0x80)](0x0)),_0x33fa51[_0x1f2968(0x81)](_0x18d8b8[_0x1f2968(0x86)],0x191)&&(console[_0x1f2968(0xd0)](_0x33fa51[_0x1f2968(0xda)]),await _0x33fa51[_0x1f2968(0xa1)](sendInstrumentationEvent,_0x37c2b2,_0x33fa51['itsKM'],messageTypes[_0x1f2968(0x9f)],_0x33fa51['ddXeq'],null,_0x37c2b2),process[_0x1f2968(0x80)](0x1)),console[_0x1f2968(0xd0)](_0x1f2968(0xa7)+JSON['stringify'](_0x18d8b8)),await _0x33fa51[_0x1f2968(0x84)](sendInstrumentationEvent,_0x37c2b2,_0x33fa51[_0x1f2968(0xb6)],messageTypes[_0x1f2968(0x9f)],_0x33fa51[_0x1f2968(0xcc)],_0x18d8b8,_0x37c2b2),process['exit'](0x1);}_0x33fa51[_0x1f2968(0xb4)](_0x60bfa9[_0x1f2968(0x86)],0x191)&&(console['error'](_0x33fa51['STIIx']),await _0x33fa51[_0x1f2968(0x95)](sendInstrumentationEvent,_0x37c2b2,_0x33fa51[_0x1f2968(0xb6)],messageTypes[_0x1f2968(0x9f)],_0x33fa51[_0x1f2968(0xb3)],null,_0x37c2b2),process[_0x1f2968(0x80)](0x1)),console[_0x1f2968(0xd0)]('Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20'+JSON[_0x1f2968(0xbb)](_0x60bfa9)),await _0x33fa51[_0x1f2968(0xa1)](sendInstrumentationEvent,_0x37c2b2,_0x33fa51[_0x1f2968(0xb6)],messageTypes['ERROR'],_0x33fa51[_0x1f2968(0xcc)],_0x60bfa9,_0x37c2b2),process['exit'](0x1);}catch(_0x36e94e){console[_0x1f2968(0xd0)](_0x1f2968(0xc7)+_0x36e94e[_0x1f2968(0xae)]),await _0x33fa51[_0x1f2968(0xa0)](sendInstrumentationEvent,_0x37c2b2,_0x33fa51[_0x1f2968(0xb6)],messageTypes[_0x1f2968(0x9f)],_0x33fa51[_0x1f2968(0xd5)],_0x36e94e,_0x37c2b2),process[_0x1f2968(0x80)](0x1);}};