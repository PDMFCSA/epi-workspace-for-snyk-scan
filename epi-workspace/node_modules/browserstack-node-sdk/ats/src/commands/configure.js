const a5_0x39179e=a5_0x4fc8;function a5_0x4fc8(_0x238a54,_0x34c7d6){const _0x4d8a15=a5_0x4d8a();return a5_0x4fc8=function(_0x4fc8fd,_0x134ec5){_0x4fc8fd=_0x4fc8fd-0x1b9;let _0x12a951=_0x4d8a15[_0x4fc8fd];return _0x12a951;},a5_0x4fc8(_0x238a54,_0x34c7d6);}(function(_0x2f1650,_0x47d308){const _0x368666=a5_0x4fc8,_0xa6a758=_0x2f1650();while(!![]){try{const _0x569568=-parseInt(_0x368666(0x1f4))/0x1*(-parseInt(_0x368666(0x1f7))/0x2)+-parseInt(_0x368666(0x204))/0x3*(-parseInt(_0x368666(0x201))/0x4)+-parseInt(_0x368666(0x1c6))/0x5+-parseInt(_0x368666(0x1d0))/0x6*(-parseInt(_0x368666(0x206))/0x7)+-parseInt(_0x368666(0x1dd))/0x8*(-parseInt(_0x368666(0x1e1))/0x9)+-parseInt(_0x368666(0x1c2))/0xa*(-parseInt(_0x368666(0x21b))/0xb)+parseInt(_0x368666(0x1d5))/0xc*(-parseInt(_0x368666(0x20e))/0xd);if(_0x569568===_0x47d308)break;else _0xa6a758['push'](_0xa6a758['shift']());}catch(_0x590865){_0xa6a758['push'](_0xa6a758['shift']());}}}(a5_0x4d8a,0xd807f));function a5_0x4d8a(){const _0x19e854=['rprUw','Updated\x20default\x20Grid\x20Profile\x20successfully','wmAbg','2212986kfTqYo','ERROR','unknown-error','xjyUu','password','372jAVuBb','argv','existsSync','ucGeq','FoYOG','XoIVv','odsic','https://','320PbqmaZ','toLowerCase','GET','usage','121626dUkuME','bstjW','json','\x0aCurrent\x20configured\x20automation\x20grid\x20settings\x20are:','tVmvw','PUT','SokKI','What\x20Grid\x20profile\x20will\x20you\x20make\x20as\x20default?','MlBFg','parse','configure-called','\x20\x20grid-profile:\x20','bxrHp','Failed\x20to\x20update\x20grid\x20profile.\x20Response\x20from\x20server:\x20','handler','qGtMV','LroUz','fDtFP','../utils/userInput','3bYqJaZ','Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','error','991316XHwbAL','YDzPX','stringify','builder','stack','Jjqqy','TXNYG','Do\x20you\x20want\x20to\x20change\x20the\x20default\x20grid-profile\x20(y/n)?','iSlJL','snbGU','728pFyjHQ','YbGaa','INFO','24249nwgIHj','active','7wEMzug','kWWXz','XOBMt','configure','rASVP','log','cPHLF','oWiVL','1386047LMWFVu','username','strict','\x20\x20username:\x20','iZoQo','ZQHnK','statusCode','EfuZa','yvoBw','qToCU','Browserstack','Failed\x20to\x20update\x20grid\x20profile.\x20Unauthorized\x20request!','body','913jViKqP','Configure\x20the\x20default\x20automation\x20grid\x20profiles\x20on\x20BrowserStack\x20CLI.','list','length','bMuKJ','recommendCommands','../config/constants','profileId','name','VTlKD','TKjnC','CbZcT','49010xQXHJM','desc','TezAg','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','421010QFRbHF','WTmam','../utils/utilityMethods','invalid-selection','exit','core:','got'];a5_0x4d8a=function(){return _0x19e854;};return a5_0x4d8a();}const fs=require('fs'),got=require(a5_0x39179e(0x1cc)),{v4:uuidv4}=require('uuid'),{inputConfirmation,closeInput}=require(a5_0x39179e(0x1f3)),{AG_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a5_0x39179e(0x1bc)),{getCredentialsPath,getAuthHeader}=require(a5_0x39179e(0x1c8)),{sendInstrumentationEvent}=require('../utils/instrumentationUtils');exports['command']='configure',exports[a5_0x39179e(0x1c3)]=a5_0x39179e(0x21c),exports[a5_0x39179e(0x1fa)]=function(_0x3b9251){const _0x2d51a8=a5_0x39179e,_0x13084e={};_0x13084e['iZoQo']='help';const _0x355e51=_0x13084e;return _0x3b9251[_0x2d51a8(0x1e0)](HELP_HEADER_MESSAGE[_0x2d51a8(0x209)])['epilogue'](HELP_FOOTER_MESSAGE)['help'](_0x355e51[_0x2d51a8(0x212)])[_0x2d51a8(0x1bb)]()[_0x2d51a8(0x210)]()[_0x2d51a8(0x1d6)];},exports[a5_0x39179e(0x1ef)]=async function(_0x41cc57){const _0x4e0f92=a5_0x39179e,_0x300a1c={'bMuKJ':function(_0x42d478){return _0x42d478();},'TKXWk':'Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','CbZcT':function(_0x3c9730,_0x304224,_0x4100b4,_0x2c5e1a,_0x46e293,_0xc56d54,_0x49cf1f){return _0x3c9730(_0x304224,_0x4100b4,_0x2c5e1a,_0x46e293,_0xc56d54,_0x49cf1f);},'yvoBw':_0x4e0f92(0x1eb),'xjyUu':'init-not-called','qToCU':function(_0x5cac82,_0x7ff2be,_0x2a894c,_0x348151,_0x2deeb5,_0x184e56,_0x420b1d){return _0x5cac82(_0x7ff2be,_0x2a894c,_0x348151,_0x2deeb5,_0x184e56,_0x420b1d);},'TKjnC':function(_0x18911f){return _0x18911f();},'rprUw':_0x4e0f92(0x1df),'VTlKD':function(_0x2e64a2,_0x159bbb,_0x5ec113){return _0x2e64a2(_0x159bbb,_0x5ec113);},'bstjW':function(_0x264d5c,_0x2af27c){return _0x264d5c!==_0x2af27c;},'SokKI':function(_0x1f818f,_0x2e059e){return _0x1f818f!==_0x2e059e;},'TXNYG':function(_0x373879,_0x5d623f){return _0x373879===_0x5d623f;},'gBTqr':_0x4e0f92(0x1e4),'oBjDM':_0x4e0f92(0x1cb),'fDtFP':function(_0x208e3d,_0x2ab932){return _0x208e3d(_0x2ab932);},'RNIMb':_0x4e0f92(0x1fe),'iSlJL':function(_0x44968e,_0x51eecb){return _0x44968e===_0x51eecb;},'odsic':function(_0x5b08af,_0xb175b3){return _0x5b08af===_0xb175b3;},'XOBMt':_0x4e0f92(0x1c5),'rASVP':function(_0x3e8c72,_0x28b545,_0x6afd18,_0x1a6a9e,_0x4d7537,_0x354531,_0x47324d){return _0x3e8c72(_0x28b545,_0x6afd18,_0x1a6a9e,_0x4d7537,_0x354531,_0x47324d);},'TezAg':'invalid-input','snbGU':function(_0x3833bf,_0x4b315d){return _0x3833bf===_0x4b315d;},'YDzPX':_0x4e0f92(0x1e8),'ZQHnK':function(_0x2a94ea,_0x6ee0a1){return _0x2a94ea<_0x6ee0a1;},'MpKQx':function(_0x48b6bb,_0x2b1afd){return _0x48b6bb+_0x2b1afd;},'EfuZa':function(_0x49f101,_0x27337d){return _0x49f101(_0x27337d);},'cPHLF':'Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item)','wmAbg':function(_0x575816,_0x27920f){return _0x575816(_0x27920f);},'kWWXz':function(_0x5dbe1b,_0x53b80a){return _0x5dbe1b<=_0x53b80a;},'oWiVL':function(_0x2e5fc5,_0x17eaab){return _0x2e5fc5>_0x17eaab;},'mTDKI':_0x4e0f92(0x1c9),'tVmvw':function(_0x22fc6b){return _0x22fc6b();},'Jjqqy':function(_0x4e69fc,_0x10f8bb){return _0x4e69fc-_0x10f8bb;},'kcDAz':_0x4e0f92(0x1e6),'LroUz':_0x4e0f92(0x1e3),'mVCiW':function(_0x206c42,_0x1b1dcb,_0x57f251){return _0x206c42(_0x1b1dcb,_0x57f251);},'qGtMV':function(_0x478cba,_0x223272){return _0x478cba!==_0x223272;},'tPUvu':_0x4e0f92(0x1ce),'XoIVv':_0x4e0f92(0x219),'YbGaa':'unauthorised','WTmam':'server-error','ucGeq':function(_0x111b4b,_0x66d9fb){return _0x111b4b===_0x66d9fb;},'bxrHp':_0x4e0f92(0x1f5),'FoYOG':function(_0x21521c,_0x3d410d,_0x4b37f2,_0x16006b,_0x3c54ad,_0xee005d,_0x1cab09){return _0x21521c(_0x3d410d,_0x4b37f2,_0x16006b,_0x3c54ad,_0xee005d,_0x1cab09);},'ARNfC':function(_0x150482,_0x3ebe6c,_0x3a4be8,_0x313593,_0x28ea09,_0x4fd358,_0x1e3f55){return _0x150482(_0x3ebe6c,_0x3a4be8,_0x313593,_0x28ea09,_0x4fd358,_0x1e3f55);},'MlBFg':_0x4e0f92(0x1d2)};try{global_registry['requestId']=_0x300a1c[_0x4e0f92(0x1ba)](uuidv4);const _0x451c6e=_0x4e0f92(0x1dc)+AG_API_URL+'/packages/cli/configure';!fs[_0x4e0f92(0x1d7)](_0x300a1c[_0x4e0f92(0x1ba)](getCredentialsPath))&&(console[_0x4e0f92(0x1f6)](_0x300a1c['TKXWk']),await _0x300a1c[_0x4e0f92(0x1c1)](sendInstrumentationEvent,_0x41cc57,_0x300a1c[_0x4e0f92(0x216)],messageTypes[_0x4e0f92(0x1d1)],_0x300a1c[_0x4e0f92(0x1d3)],null,_0x41cc57),process[_0x4e0f92(0x1ca)](0x1));await _0x300a1c['qToCU'](sendInstrumentationEvent,_0x41cc57,_0x300a1c[_0x4e0f92(0x216)],messageTypes[_0x4e0f92(0x203)],null,null,_0x41cc57);const _0x59a7d9=JSON['parse'](fs['readFileSync'](_0x300a1c[_0x4e0f92(0x1c0)](getCredentialsPath))),_0x62cf9b={'method':_0x300a1c[_0x4e0f92(0x1cd)],'headers':_0x300a1c[_0x4e0f92(0x1bf)](getAuthHeader,_0x59a7d9['Browserstack']['username'],_0x59a7d9[_0x4e0f92(0x218)][_0x4e0f92(0x1d4)]),'throwHttpErrors':![]},_0x397a2a=await _0x300a1c[_0x4e0f92(0x1bf)](got,_0x451c6e,_0x62cf9b);if(_0x300a1c[_0x4e0f92(0x1e2)](_0x397a2a,null)&&_0x300a1c[_0x4e0f92(0x1e7)](_0x397a2a,undefined)&&_0x300a1c[_0x4e0f92(0x1fd)](_0x397a2a['statusCode'],0xc8)){const _0x40b53b=JSON[_0x4e0f92(0x1ea)](_0x397a2a[_0x4e0f92(0x21a)]);console[_0x4e0f92(0x20b)](_0x300a1c['gBTqr']),console[_0x4e0f92(0x20b)](_0x300a1c['oBjDM']),console[_0x4e0f92(0x20b)](_0x4e0f92(0x211)+_0x59a7d9[_0x4e0f92(0x218)][_0x4e0f92(0x20f)]),console[_0x4e0f92(0x20b)](_0x4e0f92(0x1ec)+_0x40b53b[_0x4e0f92(0x205)][_0x4e0f92(0x1be)]);const _0x421b77=await _0x300a1c[_0x4e0f92(0x1f2)](inputConfirmation,_0x300a1c['RNIMb']);(_0x300a1c[_0x4e0f92(0x1ff)](_0x421b77,undefined)||_0x300a1c[_0x4e0f92(0x1ff)](_0x421b77,null)||!(_0x300a1c[_0x4e0f92(0x1db)](_0x421b77[_0x4e0f92(0x1de)](),'y')||_0x300a1c[_0x4e0f92(0x1db)](_0x421b77[_0x4e0f92(0x1de)](),'n')))&&(console[_0x4e0f92(0x1f6)](_0x300a1c[_0x4e0f92(0x208)]),await _0x300a1c['rASVP'](sendInstrumentationEvent,_0x41cc57,_0x300a1c[_0x4e0f92(0x216)],messageTypes[_0x4e0f92(0x1d1)],_0x300a1c[_0x4e0f92(0x1c4)],null,_0x41cc57),process['exit'](0x1));_0x300a1c[_0x4e0f92(0x200)](_0x421b77[_0x4e0f92(0x1de)](),'n')&&process[_0x4e0f92(0x1ca)](0x0);console[_0x4e0f92(0x20b)](_0x300a1c[_0x4e0f92(0x1f8)]);const _0x469838=_0x40b53b['list'][_0x4e0f92(0x1b9)];for(let _0xc8497d=0x0;_0x300a1c[_0x4e0f92(0x213)](_0xc8497d,_0x469838);_0xc8497d+=0x1){console[_0x4e0f92(0x20b)]('['+_0x300a1c['MpKQx'](_0xc8497d,0x1)+']\x20'+_0x40b53b[_0x4e0f92(0x21d)][_0xc8497d][_0x4e0f92(0x1be)]);}const _0x3b8035=await _0x300a1c[_0x4e0f92(0x215)](inputConfirmation,_0x300a1c[_0x4e0f92(0x20c)]),_0x114feb=_0x300a1c[_0x4e0f92(0x1f2)](Number,_0x3b8035);(_0x300a1c[_0x4e0f92(0x1cf)](isNaN,_0x114feb)||_0x300a1c[_0x4e0f92(0x207)](_0x114feb,0x0)||_0x300a1c[_0x4e0f92(0x20d)](_0x114feb,_0x469838))&&(console[_0x4e0f92(0x1f6)](_0x300a1c[_0x4e0f92(0x208)]),await _0x300a1c['rASVP'](sendInstrumentationEvent,_0x41cc57,_0x300a1c['yvoBw'],messageTypes[_0x4e0f92(0x1d1)],_0x300a1c['mTDKI'],null,_0x41cc57),process[_0x4e0f92(0x1ca)](0x1));_0x300a1c[_0x4e0f92(0x1e5)](closeInput);const _0x25997c=_0x40b53b[_0x4e0f92(0x21d)][_0x300a1c[_0x4e0f92(0x1fc)](_0x114feb,0x1)]['id'],_0x3161be={};_0x3161be[_0x4e0f92(0x1bd)]=_0x25997c;const _0x3e3b97={'method':_0x300a1c['kcDAz'],'headers':_0x300a1c[_0x4e0f92(0x1bf)](getAuthHeader,_0x59a7d9[_0x4e0f92(0x218)][_0x4e0f92(0x20f)],_0x59a7d9[_0x4e0f92(0x218)][_0x4e0f92(0x1d4)]),'json':_0x3161be,'responseType':_0x300a1c[_0x4e0f92(0x1f1)],'throwHttpErrors':![]},_0x381a45=await _0x300a1c['mVCiW'](got,_0x451c6e,_0x3e3b97);_0x300a1c['SokKI'](_0x381a45,null)&&_0x300a1c[_0x4e0f92(0x1f0)](_0x381a45,undefined)&&_0x300a1c[_0x4e0f92(0x1ff)](_0x381a45['statusCode'],0xc8)&&(console['log'](_0x300a1c['tPUvu']),process['exit'](0x0)),_0x300a1c[_0x4e0f92(0x1fd)](_0x381a45[_0x4e0f92(0x214)],0x191)&&(console['error'](_0x300a1c[_0x4e0f92(0x1da)]),await _0x300a1c[_0x4e0f92(0x20a)](sendInstrumentationEvent,_0x41cc57,_0x300a1c[_0x4e0f92(0x216)],messageTypes[_0x4e0f92(0x1d1)],_0x300a1c['YbGaa'],null,_0x41cc57),process['exit'](0x1)),console[_0x4e0f92(0x1f6)](_0x4e0f92(0x1ee)+JSON[_0x4e0f92(0x1f9)](_0x381a45)),await _0x300a1c[_0x4e0f92(0x217)](sendInstrumentationEvent,_0x41cc57,_0x300a1c['yvoBw'],messageTypes[_0x4e0f92(0x1d1)],_0x300a1c[_0x4e0f92(0x1c7)],_0x381a45,_0x41cc57),process[_0x4e0f92(0x1ca)](0x1);}_0x300a1c[_0x4e0f92(0x1d8)](_0x397a2a[_0x4e0f92(0x214)],0x191)&&(console[_0x4e0f92(0x1f6)](_0x300a1c[_0x4e0f92(0x1ed)]),await _0x300a1c[_0x4e0f92(0x1d9)](sendInstrumentationEvent,_0x41cc57,_0x300a1c['yvoBw'],messageTypes['ERROR'],_0x300a1c[_0x4e0f92(0x202)],null,_0x41cc57),process['exit'](0x1)),console[_0x4e0f92(0x1f6)]('Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20'+JSON[_0x4e0f92(0x1f9)](_0x397a2a)),await _0x300a1c[_0x4e0f92(0x20a)](sendInstrumentationEvent,_0x41cc57,_0x300a1c[_0x4e0f92(0x216)],messageTypes['ERROR'],_0x300a1c[_0x4e0f92(0x1c7)],_0x397a2a,_0x41cc57),process[_0x4e0f92(0x1ca)](0x1);}catch(_0x4f0ece){console[_0x4e0f92(0x1f6)]('Failed\x20to\x20configure\x20resources!\x20Error:\x20'+_0x4f0ece[_0x4e0f92(0x1fb)]),await _0x300a1c['ARNfC'](sendInstrumentationEvent,_0x41cc57,_0x300a1c['yvoBw'],messageTypes[_0x4e0f92(0x1d1)],_0x300a1c[_0x4e0f92(0x1e9)],_0x4f0ece,_0x41cc57),process[_0x4e0f92(0x1ca)](0x1);}};