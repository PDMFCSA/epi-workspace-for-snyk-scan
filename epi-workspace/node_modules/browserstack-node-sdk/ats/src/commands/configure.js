const a5_0x3e2ce1=a5_0x3a6b;function a5_0x3a6b(_0x136893,_0x1d3e21){const _0x3e5eac=a5_0x3e5e();return a5_0x3a6b=function(_0x3a6b07,_0x3f6c02){_0x3a6b07=_0x3a6b07-0x15f;let _0x418c7e=_0x3e5eac[_0x3a6b07];return _0x418c7e;},a5_0x3a6b(_0x136893,_0x1d3e21);}(function(_0x2324e2,_0x43f1ad){const _0x5da623=a5_0x3a6b,_0x309212=_0x2324e2();while(!![]){try{const _0x17a337=-parseInt(_0x5da623(0x183))/0x1+-parseInt(_0x5da623(0x1b8))/0x2*(-parseInt(_0x5da623(0x1b4))/0x3)+parseInt(_0x5da623(0x160))/0x4+-parseInt(_0x5da623(0x16e))/0x5+parseInt(_0x5da623(0x1ab))/0x6+parseInt(_0x5da623(0x178))/0x7+-parseInt(_0x5da623(0x19f))/0x8;if(_0x17a337===_0x43f1ad)break;else _0x309212['push'](_0x309212['shift']());}catch(_0xf17cf2){_0x309212['push'](_0x309212['shift']());}}}(a5_0x3e5e,0x6cd7b));function a5_0x3e5e(){const _0x2ed65d=['handler','GRtkF','list','invalid-selection','usage','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item)','invalid-input','JWhBJ','FwKOi','unauthorised','Browserstack','Fxtao','oSJaQ','HQfdc','NbwBI','parse','7533880RiRJMf','LJsJl','uyeMZ','XuCuY','mEbNq','statusCode','kRQWR','XqlYj','Updated\x20default\x20Grid\x20Profile\x20successfully','username','DSZcR','ERROR','729390UfPwoE','stringify','../utils/userInput','body','configure-called','haeXA','kCirW','mstyw','uuid','750qKMmwc','strict','MjZOe','cKYpG','5650zIyVGp','Failed\x20to\x20update\x20grid\x20profile.\x20Response\x20from\x20server:\x20','json','configure','What\x20Grid\x20profile\x20will\x20you\x20make\x20as\x20default?','MHymy','active','../utils/instrumentationUtils','CkWqL','fkwIa','Failed\x20to\x20update\x20grid\x20profile.\x20Unauthorized\x20request!','VpveC','error','2548444jhZqxQ','Do\x20you\x20want\x20to\x20change\x20the\x20default\x20grid-profile\x20(y/n)?','ruySx','TmDIp','eEtBh','recommendCommands','Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','init-not-called','requestId','nfpOs','readFileSync','JdlyP','profileId','qweWt','3305830RLfmGZ','ECiQr','help','\x20\x20grid-profile:\x20','exit','PuHNb','existsSync','GET','unknown-error','AMSlj','4693556yJrXav','../config/constants','epilogue','/packages/cli/configure','xpDiP','vdZKs','GsTzz','password','wUewg','log','PUT','86714ZQcfdE','lGHKM','INFO','lgdPb','toLowerCase','core:','JPxfX','JIwYN','name','TzGTS','wEOhd'];a5_0x3e5e=function(){return _0x2ed65d;};return a5_0x3e5e();}const fs=require('fs'),got=require('got'),{v4:uuidv4}=require(a5_0x3e2ce1(0x1b3)),{inputConfirmation,closeInput}=require(a5_0x3e2ce1(0x1ad)),{AG_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require(a5_0x3e2ce1(0x179)),{getCredentialsPath,getAuthHeader}=require('../utils/utilityMethods'),{sendInstrumentationEvent}=require(a5_0x3e2ce1(0x1bf));exports['command']=a5_0x3e2ce1(0x1bb),exports['desc']='Configure\x20the\x20default\x20automation\x20grid\x20profiles\x20on\x20BrowserStack\x20CLI.',exports['builder']=function(_0xb9912){const _0x34c120=a5_0x3e2ce1,_0x3285a9={};_0x3285a9['ruySx']=_0x34c120(0x170);const _0x39026c=_0x3285a9;return _0xb9912[_0x34c120(0x192)](HELP_HEADER_MESSAGE[_0x34c120(0x1bb)])[_0x34c120(0x17a)](HELP_FOOTER_MESSAGE)[_0x34c120(0x170)](_0x39026c[_0x34c120(0x162)])[_0x34c120(0x165)]()[_0x34c120(0x1b5)]()['argv'];},exports[a5_0x3e2ce1(0x18e)]=async function(_0x4209a3){const _0x395b35=a5_0x3e2ce1,_0x420909={'AMSlj':function(_0x3bf186){return _0x3bf186();},'lGHKM':function(_0x54a76d){return _0x54a76d();},'VpveC':_0x395b35(0x193),'wEOhd':function(_0x3e5184,_0x45d6f5,_0x53c19b,_0x33bbaf,_0x54e053,_0x5baf6a,_0x5df7d4){return _0x3e5184(_0x45d6f5,_0x53c19b,_0x33bbaf,_0x54e053,_0x5baf6a,_0x5df7d4);},'FwKOi':_0x395b35(0x1af),'xpDiP':_0x395b35(0x167),'qweWt':function(_0x3697aa,_0xf76ad7,_0x29112d,_0x4719a7,_0x1955d1,_0x250681,_0x1e9d83){return _0x3697aa(_0xf76ad7,_0x29112d,_0x4719a7,_0x1955d1,_0x250681,_0x1e9d83);},'wlYtd':_0x395b35(0x175),'DSZcR':function(_0x2a170f,_0x1dc2ae,_0x342611){return _0x2a170f(_0x1dc2ae,_0x342611);},'mEbNq':function(_0x274109,_0x3c8ed3,_0x1da9be){return _0x274109(_0x3c8ed3,_0x1da9be);},'fkwIa':function(_0x15281e,_0x3f79cd){return _0x15281e!==_0x3f79cd;},'JPxfX':function(_0x5366d0,_0x5219d0){return _0x5366d0===_0x5219d0;},'JlDOz':'\x0aCurrent\x20configured\x20automation\x20grid\x20settings\x20are:','GRtkF':_0x395b35(0x188),'HQfdc':function(_0x3cdf5e,_0x252289){return _0x3cdf5e(_0x252289);},'kRQWR':_0x395b35(0x161),'GsTzz':function(_0x219caf,_0x4fb25a){return _0x219caf===_0x4fb25a;},'kCirW':function(_0x57eb4d,_0x2cd7da){return _0x57eb4d===_0x2cd7da;},'lgdPb':function(_0x247861,_0x529166){return _0x247861===_0x529166;},'TmDIp':'Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','CkWqL':_0x395b35(0x195),'eEtBh':_0x395b35(0x1bc),'vdZKs':function(_0x494a46,_0x5966b6){return _0x494a46<_0x5966b6;},'mstyw':function(_0xbe6822,_0x5315e1){return _0xbe6822+_0x5315e1;},'haeXA':function(_0x1f2353,_0x2e554e){return _0x1f2353(_0x2e554e);},'wUewg':_0x395b35(0x194),'MjZOe':function(_0x14c343,_0x58d00f){return _0x14c343(_0x58d00f);},'MHymy':function(_0x32a8a6,_0x21862b){return _0x32a8a6<=_0x21862b;},'oTFYy':function(_0x4aefe6,_0x4880d3){return _0x4aefe6>_0x4880d3;},'tjIlz':function(_0x2d8fcc,_0xe7715f,_0x21084a,_0x49f3b5,_0x3b1258,_0x243f5c,_0x2a6abd){return _0x2d8fcc(_0xe7715f,_0x21084a,_0x49f3b5,_0x3b1258,_0x243f5c,_0x2a6abd);},'ECiQr':_0x395b35(0x191),'uyeMZ':function(_0x19419a,_0x431b57){return _0x19419a-_0x431b57;},'LJsJl':_0x395b35(0x182),'JIwYN':_0x395b35(0x1ba),'TzGTS':function(_0x22da82,_0x4e15d6){return _0x22da82!==_0x4e15d6;},'oSJaQ':_0x395b35(0x1a7),'JWhBJ':_0x395b35(0x1c2),'nfpOs':function(_0x23088d,_0x57ccdd,_0x3746d1,_0x367162,_0x9e2107,_0x24443c,_0x148f01){return _0x23088d(_0x57ccdd,_0x3746d1,_0x367162,_0x9e2107,_0x24443c,_0x148f01);},'XuCuY':_0x395b35(0x198),'cKYpG':function(_0x567c09,_0x115a46,_0x339011,_0xf2103a,_0x200c76,_0x5d5713,_0x4cf335){return _0x567c09(_0x115a46,_0x339011,_0xf2103a,_0x200c76,_0x5d5713,_0x4cf335);},'JdlyP':'server-error','PuHNb':function(_0x43f8fd,_0x550645){return _0x43f8fd===_0x550645;},'XqlYj':_0x395b35(0x166),'NbwBI':function(_0x10b538,_0x39aa10,_0x422c86,_0x3323bb,_0x205d4a,_0x4a4467,_0x33f339){return _0x10b538(_0x39aa10,_0x422c86,_0x3323bb,_0x205d4a,_0x4a4467,_0x33f339);},'bHVzD':function(_0x1be348,_0x4ddb67,_0xb0be6e,_0x16098a,_0x19ad8e,_0x2d6b8c,_0x541c1b){return _0x1be348(_0x4ddb67,_0xb0be6e,_0x16098a,_0x19ad8e,_0x2d6b8c,_0x541c1b);},'Fxtao':_0x395b35(0x176)};try{global_registry[_0x395b35(0x168)]=_0x420909[_0x395b35(0x177)](uuidv4);const _0x2fab21='https://'+AG_API_URL+_0x395b35(0x17b);!fs[_0x395b35(0x174)](_0x420909[_0x395b35(0x184)](getCredentialsPath))&&(console[_0x395b35(0x15f)](_0x420909[_0x395b35(0x1c3)]),await _0x420909[_0x395b35(0x18d)](sendInstrumentationEvent,_0x4209a3,_0x420909['FwKOi'],messageTypes[_0x395b35(0x1aa)],_0x420909[_0x395b35(0x17c)],null,_0x4209a3),process[_0x395b35(0x172)](0x1));await _0x420909[_0x395b35(0x16d)](sendInstrumentationEvent,_0x4209a3,_0x420909[_0x395b35(0x197)],messageTypes[_0x395b35(0x185)],null,null,_0x4209a3);const _0x2a91c4=JSON[_0x395b35(0x19e)](fs[_0x395b35(0x16a)](_0x420909[_0x395b35(0x184)](getCredentialsPath))),_0x37f3f7={'method':_0x420909['wlYtd'],'headers':_0x420909[_0x395b35(0x1a9)](getAuthHeader,_0x2a91c4[_0x395b35(0x199)][_0x395b35(0x1a8)],_0x2a91c4['Browserstack'][_0x395b35(0x17f)]),'throwHttpErrors':![]},_0x4c35a0=await _0x420909[_0x395b35(0x1a3)](got,_0x2fab21,_0x37f3f7);if(_0x420909[_0x395b35(0x1c1)](_0x4c35a0,null)&&_0x420909[_0x395b35(0x1c1)](_0x4c35a0,undefined)&&_0x420909[_0x395b35(0x189)](_0x4c35a0[_0x395b35(0x1a4)],0xc8)){const _0x231163=JSON['parse'](_0x4c35a0[_0x395b35(0x1ae)]);console[_0x395b35(0x181)](_0x420909['JlDOz']),console[_0x395b35(0x181)](_0x420909[_0x395b35(0x18f)]),console[_0x395b35(0x181)]('\x20\x20username:\x20'+_0x2a91c4['Browserstack'][_0x395b35(0x1a8)]),console[_0x395b35(0x181)](_0x395b35(0x171)+_0x231163[_0x395b35(0x1be)][_0x395b35(0x18b)]);const _0x4e6fb0=await _0x420909[_0x395b35(0x19c)](inputConfirmation,_0x420909[_0x395b35(0x1a5)]);(_0x420909[_0x395b35(0x17e)](_0x4e6fb0,undefined)||_0x420909[_0x395b35(0x1b1)](_0x4e6fb0,null)||!(_0x420909[_0x395b35(0x186)](_0x4e6fb0[_0x395b35(0x187)](),'y')||_0x420909['lgdPb'](_0x4e6fb0[_0x395b35(0x187)](),'n')))&&(console['error'](_0x420909['TmDIp']),await _0x420909[_0x395b35(0x18d)](sendInstrumentationEvent,_0x4209a3,_0x420909[_0x395b35(0x197)],messageTypes['ERROR'],_0x420909[_0x395b35(0x1c0)],null,_0x4209a3),process[_0x395b35(0x172)](0x1));_0x420909['JPxfX'](_0x4e6fb0['toLowerCase'](),'n')&&process[_0x395b35(0x172)](0x0);console['log'](_0x420909[_0x395b35(0x164)]);const _0x27e555=_0x231163['list']['length'];for(let _0xd0895e=0x0;_0x420909[_0x395b35(0x17d)](_0xd0895e,_0x27e555);_0xd0895e+=0x1){console[_0x395b35(0x181)]('['+_0x420909[_0x395b35(0x1b2)](_0xd0895e,0x1)+']\x20'+_0x231163[_0x395b35(0x190)][_0xd0895e][_0x395b35(0x18b)]);}const _0x16cc26=await _0x420909[_0x395b35(0x1b0)](inputConfirmation,_0x420909[_0x395b35(0x180)]),_0x2ea12d=_0x420909[_0x395b35(0x1b0)](Number,_0x16cc26);(_0x420909[_0x395b35(0x1b6)](isNaN,_0x2ea12d)||_0x420909[_0x395b35(0x1bd)](_0x2ea12d,0x0)||_0x420909['oTFYy'](_0x2ea12d,_0x27e555))&&(console['error'](_0x420909[_0x395b35(0x163)]),await _0x420909['tjIlz'](sendInstrumentationEvent,_0x4209a3,_0x420909['FwKOi'],messageTypes[_0x395b35(0x1aa)],_0x420909[_0x395b35(0x16f)],null,_0x4209a3),process[_0x395b35(0x172)](0x1));_0x420909['AMSlj'](closeInput);const _0x139b89=_0x231163[_0x395b35(0x190)][_0x420909[_0x395b35(0x1a1)](_0x2ea12d,0x1)]['id'],_0x5e7153={};_0x5e7153[_0x395b35(0x16c)]=_0x139b89;const _0x354c14={'method':_0x420909[_0x395b35(0x1a0)],'headers':_0x420909['mEbNq'](getAuthHeader,_0x2a91c4[_0x395b35(0x199)][_0x395b35(0x1a8)],_0x2a91c4['Browserstack'][_0x395b35(0x17f)]),'json':_0x5e7153,'responseType':_0x420909[_0x395b35(0x18a)],'throwHttpErrors':![]},_0x41e399=await _0x420909[_0x395b35(0x1a3)](got,_0x2fab21,_0x354c14);_0x420909[_0x395b35(0x1c1)](_0x41e399,null)&&_0x420909[_0x395b35(0x18c)](_0x41e399,undefined)&&_0x420909[_0x395b35(0x186)](_0x41e399[_0x395b35(0x1a4)],0xc8)&&(console['log'](_0x420909[_0x395b35(0x19b)]),process[_0x395b35(0x172)](0x0)),_0x420909['GsTzz'](_0x41e399['statusCode'],0x191)&&(console[_0x395b35(0x15f)](_0x420909[_0x395b35(0x196)]),await _0x420909[_0x395b35(0x169)](sendInstrumentationEvent,_0x4209a3,_0x420909[_0x395b35(0x197)],messageTypes[_0x395b35(0x1aa)],_0x420909[_0x395b35(0x1a2)],null,_0x4209a3),process[_0x395b35(0x172)](0x1)),console[_0x395b35(0x15f)](_0x395b35(0x1b9)+JSON['stringify'](_0x41e399)),await _0x420909[_0x395b35(0x1b7)](sendInstrumentationEvent,_0x4209a3,_0x420909[_0x395b35(0x197)],messageTypes[_0x395b35(0x1aa)],_0x420909[_0x395b35(0x16b)],_0x41e399,_0x4209a3),process['exit'](0x1);}_0x420909[_0x395b35(0x173)](_0x4c35a0[_0x395b35(0x1a4)],0x191)&&(console[_0x395b35(0x15f)](_0x420909[_0x395b35(0x1a6)]),await _0x420909[_0x395b35(0x19d)](sendInstrumentationEvent,_0x4209a3,_0x420909[_0x395b35(0x197)],messageTypes['ERROR'],_0x420909[_0x395b35(0x1a2)],null,_0x4209a3),process[_0x395b35(0x172)](0x1)),console[_0x395b35(0x15f)]('Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20'+JSON[_0x395b35(0x1ac)](_0x4c35a0)),await _0x420909[_0x395b35(0x19d)](sendInstrumentationEvent,_0x4209a3,_0x420909[_0x395b35(0x197)],messageTypes[_0x395b35(0x1aa)],_0x420909[_0x395b35(0x16b)],_0x4c35a0,_0x4209a3),process[_0x395b35(0x172)](0x1);}catch(_0x3a93b8){console[_0x395b35(0x15f)]('Failed\x20to\x20configure\x20resources!\x20Error:\x20'+_0x3a93b8['stack']),await _0x420909['bHVzD'](sendInstrumentationEvent,_0x4209a3,_0x420909[_0x395b35(0x197)],messageTypes[_0x395b35(0x1aa)],_0x420909[_0x395b35(0x19a)],_0x3a93b8,_0x4209a3),process[_0x395b35(0x172)](0x1);}};