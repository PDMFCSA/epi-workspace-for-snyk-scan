const a5_0x305719=a5_0x10a4;(function(_0x3b93c6,_0x38fec2){const _0x22581d=a5_0x10a4,_0x3a1bbe=_0x3b93c6();while(!![]){try{const _0x39bdb0=parseInt(_0x22581d(0x1ae))/0x1+parseInt(_0x22581d(0x1df))/0x2*(-parseInt(_0x22581d(0x1cf))/0x3)+parseInt(_0x22581d(0x1a5))/0x4*(-parseInt(_0x22581d(0x1f2))/0x5)+parseInt(_0x22581d(0x1b1))/0x6+parseInt(_0x22581d(0x1b0))/0x7*(parseInt(_0x22581d(0x1aa))/0x8)+-parseInt(_0x22581d(0x1e6))/0x9+-parseInt(_0x22581d(0x1e4))/0xa*(parseInt(_0x22581d(0x19e))/0xb);if(_0x39bdb0===_0x38fec2)break;else _0x3a1bbe['push'](_0x3a1bbe['shift']());}catch(_0xcad01d){_0x3a1bbe['push'](_0x3a1bbe['shift']());}}}(a5_0x4d4c,0xb8fcf));function a5_0x10a4(_0x30ebbd,_0x3ef7ef){const _0x4d4c35=a5_0x4d4c();return a5_0x10a4=function(_0x10a440,_0x484b2c){_0x10a440=_0x10a440-0x194;let _0x4d1905=_0x4d4c35[_0x10a440];return _0x4d1905;},a5_0x10a4(_0x30ebbd,_0x3ef7ef);}const fs=require('fs'),got=require(a5_0x305719(0x1db)),{v4:uuidv4}=require(a5_0x305719(0x1c5)),{inputConfirmation,closeInput}=require('../utils/userInput'),{AG_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require('../config/constants'),{getCredentialsPath,getAuthHeader}=require(a5_0x305719(0x1a1)),{sendInstrumentationEvent}=require(a5_0x305719(0x1d1));function a5_0x4d4c(){const _0x2cd325=['vjuPq','existsSync','VGsZI','statusCode','rAhjl','toLowerCase','wKOdE','readFileSync','ULAXi','xlIyW','uuid','length','ZHvXT','dEmeG','fUIAt','grtgy','exit','handler','init-not-called','Updated\x20default\x20Grid\x20Profile\x20successfully','3321ZyAsHR','password','../utils/instrumentationUtils','\x20\x20grid-profile:\x20','configure-called','HcObg','WkgGs','unknown-error','profileId','invalid-selection','Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','builder','got','Failed\x20to\x20update\x20grid\x20profile.\x20Response\x20from\x20server:\x20','requestId','twHxT','716OIugGi','desc','core:','RdnoH','strict','230cKBAku','ZqrFf','4505220QsLTmm','ixPCZ','INFO','bUfpu','ofhkR','username','error','MtqpF','command','jacUC','unauthorised','rqIRD','5DePjAq','ERROR','gXkmH','recommendCommands','QMfLs','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','Do\x20you\x20want\x20to\x20change\x20the\x20default\x20grid-profile\x20(y/n)?','Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','help','TTFTz','epilogue','/packages/cli/configure','159951ZJebrq','stringify','XDdal','../utils/utilityMethods','json','parse','ykqun','2299064kNBKNx','\x0aCurrent\x20configured\x20automation\x20grid\x20settings\x20are:','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','argv','usage','87200bbnMyX','GET','list','log','1475490JGdQMg','cFCub','511ObdOwV','1755696CrgRle','name','gHZSH','Browserstack','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item)','configure','dwmqp','\x20\x20username:\x20','FiIck','body'];a5_0x4d4c=function(){return _0x2cd325;};return a5_0x4d4c();}exports[a5_0x305719(0x1ee)]=a5_0x305719(0x1b6),exports[a5_0x305719(0x1e0)]='Configure\x20the\x20default\x20automation\x20grid\x20profiles\x20on\x20BrowserStack\x20CLI.',exports[a5_0x305719(0x1da)]=function(_0x287b3b){const _0x2362d1=a5_0x305719,_0x3cf5ad={};_0x3cf5ad[_0x2362d1(0x1b3)]=_0x2362d1(0x19a);const _0x4b7e58=_0x3cf5ad;return _0x287b3b[_0x2362d1(0x1a9)](HELP_HEADER_MESSAGE[_0x2362d1(0x1b6)])[_0x2362d1(0x19c)](HELP_FOOTER_MESSAGE)[_0x2362d1(0x19a)](_0x4b7e58[_0x2362d1(0x1b3)])[_0x2362d1(0x195)]()[_0x2362d1(0x1e3)]()[_0x2362d1(0x1a8)];},exports[a5_0x305719(0x1cc)]=async function(_0x3590b4){const _0x5da9c2=a5_0x305719,_0x3eebc7={'RdnoH':function(_0x1d3084){return _0x1d3084();},'QMfLs':_0x5da9c2(0x197),'rAhjl':function(_0x1aebd1,_0x24aec4,_0x5be7d4,_0x2f3e4e,_0x234e3b,_0x5806d4,_0x3f0df2){return _0x1aebd1(_0x24aec4,_0x5be7d4,_0x2f3e4e,_0x234e3b,_0x5806d4,_0x3f0df2);},'VGsZI':_0x5da9c2(0x1d3),'fUIAt':_0x5da9c2(0x1cd),'WkgGs':function(_0x2a82e2,_0x52758d,_0x321120,_0x5ddfa9,_0x4de1d4,_0x3b7229,_0x58ec9c){return _0x2a82e2(_0x52758d,_0x321120,_0x5ddfa9,_0x4de1d4,_0x3b7229,_0x58ec9c);},'lpwSl':_0x5da9c2(0x1ab),'TTFTz':function(_0x415fd8,_0xbbc5e0,_0x32c27a){return _0x415fd8(_0xbbc5e0,_0x32c27a);},'ofhkR':function(_0x8b60c0,_0x4417b2){return _0x8b60c0!==_0x4417b2;},'dwmqp':function(_0x6c7c29,_0x253b45){return _0x6c7c29===_0x253b45;},'bUfpu':_0x5da9c2(0x1a6),'rqIRD':_0x5da9c2(0x1e1),'twHxT':function(_0x4b9ab7,_0x42f510){return _0x4b9ab7(_0x42f510);},'ZqrFf':_0x5da9c2(0x198),'ZHvXT':function(_0x469238,_0x2cf8c4){return _0x469238===_0x2cf8c4;},'MtqpF':function(_0x38f42f,_0x368198){return _0x38f42f===_0x368198;},'ixPCZ':_0x5da9c2(0x1a7),'DzAJt':'invalid-input','WZyrB':function(_0x4a4c08,_0x1c2f73){return _0x4a4c08===_0x1c2f73;},'vjuPq':'What\x20Grid\x20profile\x20will\x20you\x20make\x20as\x20default?','cFCub':function(_0x254169,_0x247908){return _0x254169<_0x247908;},'muDUy':function(_0x2fa592,_0x5da777){return _0x2fa592+_0x5da777;},'wetys':function(_0x23e17e,_0x500233){return _0x23e17e(_0x500233);},'ltNju':_0x5da9c2(0x1b5),'vkaNf':function(_0x42c5d7,_0x580652){return _0x42c5d7<=_0x580652;},'XDdal':function(_0x5b41ef,_0x1b6e84){return _0x5b41ef>_0x1b6e84;},'FiIck':_0x5da9c2(0x1d8),'jacUC':function(_0x14a889){return _0x14a889();},'dEmeG':function(_0xb09539,_0xf6e3a0){return _0xb09539-_0xf6e3a0;},'gXkmH':'PUT','bHjeM':_0x5da9c2(0x1a2),'wKOdE':function(_0x3d1f7c,_0x5931e8,_0x168966){return _0x3d1f7c(_0x5931e8,_0x168966);},'HcObg':_0x5da9c2(0x1ce),'ykqun':'Failed\x20to\x20update\x20grid\x20profile.\x20Unauthorized\x20request!','ULAXi':_0x5da9c2(0x1f0),'grtgy':'server-error','xlIyW':_0x5da9c2(0x1d9),'odQpj':function(_0x320b12,_0x10e3bc,_0x3dcccc,_0x16df33,_0x333c51,_0xc7e70e,_0x5cb8e8){return _0x320b12(_0x10e3bc,_0x3dcccc,_0x16df33,_0x333c51,_0xc7e70e,_0x5cb8e8);},'RomIy':function(_0x26534a,_0x1d695a,_0x4ae3d5,_0x127dcc,_0x3a0ca9,_0x5d959a,_0x52b794){return _0x26534a(_0x1d695a,_0x4ae3d5,_0x127dcc,_0x3a0ca9,_0x5d959a,_0x52b794);},'muvon':_0x5da9c2(0x1d6)};try{global_registry[_0x5da9c2(0x1dd)]=_0x3eebc7['RdnoH'](uuidv4);const _0x436f0c='https://'+AG_API_URL+_0x5da9c2(0x19d);!fs[_0x5da9c2(0x1bc)](_0x3eebc7['RdnoH'](getCredentialsPath))&&(console[_0x5da9c2(0x1ec)](_0x3eebc7[_0x5da9c2(0x196)]),await _0x3eebc7['rAhjl'](sendInstrumentationEvent,_0x3590b4,_0x3eebc7[_0x5da9c2(0x1bd)],messageTypes['ERROR'],_0x3eebc7[_0x5da9c2(0x1c9)],null,_0x3590b4),process['exit'](0x1));await _0x3eebc7[_0x5da9c2(0x1d5)](sendInstrumentationEvent,_0x3590b4,_0x3eebc7[_0x5da9c2(0x1bd)],messageTypes[_0x5da9c2(0x1e8)],null,null,_0x3590b4);const _0x16a517=JSON[_0x5da9c2(0x1a3)](fs[_0x5da9c2(0x1c2)](_0x3eebc7[_0x5da9c2(0x1e2)](getCredentialsPath))),_0x12c548={'method':_0x3eebc7['lpwSl'],'headers':_0x3eebc7['TTFTz'](getAuthHeader,_0x16a517['Browserstack'][_0x5da9c2(0x1eb)],_0x16a517['Browserstack'][_0x5da9c2(0x1d0)]),'throwHttpErrors':![]},_0x4d0cc7=await _0x3eebc7[_0x5da9c2(0x19b)](got,_0x436f0c,_0x12c548);if(_0x3eebc7[_0x5da9c2(0x1ea)](_0x4d0cc7,null)&&_0x3eebc7[_0x5da9c2(0x1ea)](_0x4d0cc7,undefined)&&_0x3eebc7[_0x5da9c2(0x1b7)](_0x4d0cc7[_0x5da9c2(0x1be)],0xc8)){const _0x53de35=JSON['parse'](_0x4d0cc7[_0x5da9c2(0x1ba)]);console[_0x5da9c2(0x1ad)](_0x3eebc7[_0x5da9c2(0x1e9)]),console['log'](_0x3eebc7[_0x5da9c2(0x1f1)]),console[_0x5da9c2(0x1ad)](_0x5da9c2(0x1b8)+_0x16a517[_0x5da9c2(0x1b4)][_0x5da9c2(0x1eb)]),console[_0x5da9c2(0x1ad)](_0x5da9c2(0x1d2)+_0x53de35['active'][_0x5da9c2(0x1b2)]);const _0x197830=await _0x3eebc7[_0x5da9c2(0x1de)](inputConfirmation,_0x3eebc7[_0x5da9c2(0x1e5)]);(_0x3eebc7[_0x5da9c2(0x1c7)](_0x197830,undefined)||_0x3eebc7['dwmqp'](_0x197830,null)||!(_0x3eebc7[_0x5da9c2(0x1c7)](_0x197830[_0x5da9c2(0x1c0)](),'y')||_0x3eebc7[_0x5da9c2(0x1ed)](_0x197830[_0x5da9c2(0x1c0)](),'n')))&&(console['error'](_0x3eebc7[_0x5da9c2(0x1e7)]),await _0x3eebc7['rAhjl'](sendInstrumentationEvent,_0x3590b4,_0x3eebc7[_0x5da9c2(0x1bd)],messageTypes[_0x5da9c2(0x1f3)],_0x3eebc7['DzAJt'],null,_0x3590b4),process[_0x5da9c2(0x1cb)](0x1));_0x3eebc7['WZyrB'](_0x197830[_0x5da9c2(0x1c0)](),'n')&&process['exit'](0x0);console['log'](_0x3eebc7[_0x5da9c2(0x1bb)]);const _0x51d57c=_0x53de35[_0x5da9c2(0x1ac)][_0x5da9c2(0x1c6)];for(let _0x23c8cd=0x0;_0x3eebc7[_0x5da9c2(0x1af)](_0x23c8cd,_0x51d57c);_0x23c8cd+=0x1){console[_0x5da9c2(0x1ad)]('['+_0x3eebc7['muDUy'](_0x23c8cd,0x1)+']\x20'+_0x53de35[_0x5da9c2(0x1ac)][_0x23c8cd][_0x5da9c2(0x1b2)]);}const _0x2a5a61=await _0x3eebc7['wetys'](inputConfirmation,_0x3eebc7['ltNju']),_0x539111=_0x3eebc7['wetys'](Number,_0x2a5a61);(_0x3eebc7[_0x5da9c2(0x1de)](isNaN,_0x539111)||_0x3eebc7['vkaNf'](_0x539111,0x0)||_0x3eebc7[_0x5da9c2(0x1a0)](_0x539111,_0x51d57c))&&(console['error'](_0x3eebc7['ixPCZ']),await _0x3eebc7[_0x5da9c2(0x1bf)](sendInstrumentationEvent,_0x3590b4,_0x3eebc7['VGsZI'],messageTypes[_0x5da9c2(0x1f3)],_0x3eebc7[_0x5da9c2(0x1b9)],null,_0x3590b4),process[_0x5da9c2(0x1cb)](0x1));_0x3eebc7[_0x5da9c2(0x1ef)](closeInput);const _0x20409f=_0x53de35['list'][_0x3eebc7[_0x5da9c2(0x1c8)](_0x539111,0x1)]['id'],_0xa4e5ce={};_0xa4e5ce[_0x5da9c2(0x1d7)]=_0x20409f;const _0x311b08={'method':_0x3eebc7[_0x5da9c2(0x194)],'headers':_0x3eebc7[_0x5da9c2(0x19b)](getAuthHeader,_0x16a517[_0x5da9c2(0x1b4)]['username'],_0x16a517[_0x5da9c2(0x1b4)]['password']),'json':_0xa4e5ce,'responseType':_0x3eebc7['bHjeM'],'throwHttpErrors':![]},_0x132c81=await _0x3eebc7[_0x5da9c2(0x1c1)](got,_0x436f0c,_0x311b08);_0x3eebc7[_0x5da9c2(0x1ea)](_0x132c81,null)&&_0x3eebc7[_0x5da9c2(0x1ea)](_0x132c81,undefined)&&_0x3eebc7[_0x5da9c2(0x1b7)](_0x132c81[_0x5da9c2(0x1be)],0xc8)&&(console['log'](_0x3eebc7[_0x5da9c2(0x1d4)]),process[_0x5da9c2(0x1cb)](0x0)),_0x3eebc7['ZHvXT'](_0x132c81['statusCode'],0x191)&&(console[_0x5da9c2(0x1ec)](_0x3eebc7[_0x5da9c2(0x1a4)]),await _0x3eebc7[_0x5da9c2(0x1d5)](sendInstrumentationEvent,_0x3590b4,_0x3eebc7[_0x5da9c2(0x1bd)],messageTypes[_0x5da9c2(0x1f3)],_0x3eebc7[_0x5da9c2(0x1c3)],null,_0x3590b4),process[_0x5da9c2(0x1cb)](0x1)),console['error'](_0x5da9c2(0x1dc)+JSON['stringify'](_0x132c81)),await _0x3eebc7[_0x5da9c2(0x1bf)](sendInstrumentationEvent,_0x3590b4,_0x3eebc7[_0x5da9c2(0x1bd)],messageTypes[_0x5da9c2(0x1f3)],_0x3eebc7[_0x5da9c2(0x1ca)],_0x132c81,_0x3590b4),process[_0x5da9c2(0x1cb)](0x1);}_0x3eebc7[_0x5da9c2(0x1c7)](_0x4d0cc7['statusCode'],0x191)&&(console['error'](_0x3eebc7[_0x5da9c2(0x1c4)]),await _0x3eebc7[_0x5da9c2(0x1bf)](sendInstrumentationEvent,_0x3590b4,_0x3eebc7[_0x5da9c2(0x1bd)],messageTypes['ERROR'],_0x3eebc7[_0x5da9c2(0x1c3)],null,_0x3590b4),process[_0x5da9c2(0x1cb)](0x1)),console[_0x5da9c2(0x1ec)](_0x5da9c2(0x199)+JSON[_0x5da9c2(0x19f)](_0x4d0cc7)),await _0x3eebc7['odQpj'](sendInstrumentationEvent,_0x3590b4,_0x3eebc7['VGsZI'],messageTypes[_0x5da9c2(0x1f3)],_0x3eebc7['grtgy'],_0x4d0cc7,_0x3590b4),process[_0x5da9c2(0x1cb)](0x1);}catch(_0xd75154){console[_0x5da9c2(0x1ec)]('Failed\x20to\x20configure\x20resources!\x20Error:\x20'+_0xd75154['stack']),await _0x3eebc7['RomIy'](sendInstrumentationEvent,_0x3590b4,_0x3eebc7['VGsZI'],messageTypes[_0x5da9c2(0x1f3)],_0x3eebc7['muvon'],_0xd75154,_0x3590b4),process['exit'](0x1);}};