const a5_0x14d1ec=a5_0x2e0b;function a5_0x2e0b(_0x25cdff,_0x1d7682){const _0x44082f=a5_0x4408();return a5_0x2e0b=function(_0x2e0b51,_0x3c5079){_0x2e0b51=_0x2e0b51-0x12f;let _0x412c03=_0x44082f[_0x2e0b51];return _0x412c03;},a5_0x2e0b(_0x25cdff,_0x1d7682);}(function(_0x427f91,_0x1f1880){const _0x5ee368=a5_0x2e0b,_0x533ba2=_0x427f91();while(!![]){try{const _0x5de0a8=-parseInt(_0x5ee368(0x162))/0x1+-parseInt(_0x5ee368(0x165))/0x2*(-parseInt(_0x5ee368(0x156))/0x3)+parseInt(_0x5ee368(0x181))/0x4+-parseInt(_0x5ee368(0x152))/0x5+parseInt(_0x5ee368(0x138))/0x6*(-parseInt(_0x5ee368(0x12f))/0x7)+parseInt(_0x5ee368(0x163))/0x8*(-parseInt(_0x5ee368(0x133))/0x9)+parseInt(_0x5ee368(0x160))/0xa;if(_0x5de0a8===_0x1f1880)break;else _0x533ba2['push'](_0x533ba2['shift']());}catch(_0x38cd14){_0x533ba2['push'](_0x533ba2['shift']());}}}(a5_0x4408,0x66462));function a5_0x4408(){const _0x375cdb=['ALmnU','NduyB','parse','UFgmE','JjoyO','readFileSync','builder','21gqMAzh','core:','ERROR','help','153FcYvyt','sfkvl','hLzfp','invalid-input','vVQQp','1596054nprwtM','INFO','YVstZ','CggeZ','WxrGp','KWlrE','Please\x20enter\x20numeric\x20choice\x20(must\x20exactly\x20match\x20list\x20item)','list','nGDCC','got','Configure\x20the\x20default\x20automation\x20grid\x20profiles\x20on\x20BrowserStack\x20CLI.','bNgGT','QhZbh','Oubed','profileId','epilogue','stack','jtWVW','server-error','VxwJu','TdNCk','existsSync','Bgtjw','yliTe','CJRlL','strict','1326030lDClJN','QNJlq','Failed\x20to\x20configure\x20resources!\x20Error:\x20','YfylY','2095923QbWUfO','Wrong\x20input!\x20Please\x20try\x20again\x20with\x20a\x20valid\x20input.','../utils/userInput','unknown-error','desc','error','json','configure','JDgSJ','What\x20Grid\x20profile\x20will\x20you\x20make\x20as\x20default?','13290710skmQju','SwdpB','326215PhwsFH','261424dshyVw','../utils/utilityMethods','2eqHgTF','zxpWr','Browserstack','AqQLb','name','exit','WpYSA','\x20\x20username:\x20','\x20\x20grid-profile:\x20','invalid-selection','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','SEcmQ','configure-called','unauthorised','length','username','statusCode','init-not-called','GiUDO','rMCjZ','https://','password','bqPVR','Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','log','Do\x20you\x20want\x20to\x20change\x20the\x20default\x20grid-profile\x20(y/n)?','recommendCommands','active','1344704tHkBTe','xIobZ','sKrkr','stringify','argv','/packages/cli/configure','tigfd','toLowerCase','\x0aCurrent\x20configured\x20automation\x20grid\x20settings\x20are:'];a5_0x4408=function(){return _0x375cdb;};return a5_0x4408();}const fs=require('fs'),got=require(a5_0x14d1ec(0x141)),{v4:uuidv4}=require('uuid'),{inputConfirmation,closeInput}=require(a5_0x14d1ec(0x158)),{AG_API_URL,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes}=require('../config/constants'),{getCredentialsPath,getAuthHeader}=require(a5_0x14d1ec(0x164)),{sendInstrumentationEvent}=require('../utils/instrumentationUtils');exports['command']=a5_0x14d1ec(0x15d),exports[a5_0x14d1ec(0x15a)]=a5_0x14d1ec(0x142),exports[a5_0x14d1ec(0x190)]=function(_0x3a7782){const _0x56e7f9=a5_0x14d1ec,_0x360081={};_0x360081[_0x56e7f9(0x16b)]=_0x56e7f9(0x132);const _0x1f7765=_0x360081;return _0x3a7782['usage'](HELP_HEADER_MESSAGE[_0x56e7f9(0x15d)])[_0x56e7f9(0x147)](HELP_FOOTER_MESSAGE)[_0x56e7f9(0x132)](_0x1f7765['WpYSA'])[_0x56e7f9(0x17f)]()[_0x56e7f9(0x151)]()[_0x56e7f9(0x185)];},exports['handler']=async function(_0x382c74){const _0x20ddf3=a5_0x14d1ec,_0x483190={'Oubed':function(_0x5d81e0){return _0x5d81e0();},'KWlrE':function(_0x35652b){return _0x35652b();},'ALmnU':_0x20ddf3(0x16f),'QNJlq':function(_0xa1b798,_0x2920c6,_0x4a536f,_0x54ec7c,_0x5d7487,_0x42ef02,_0x4b3b66){return _0xa1b798(_0x2920c6,_0x4a536f,_0x54ec7c,_0x5d7487,_0x42ef02,_0x4b3b66);},'SwdpB':_0x20ddf3(0x171),'tigfd':_0x20ddf3(0x176),'SEcmQ':function(_0x50779b,_0x266ae9,_0x146541,_0x577b68,_0x167072,_0x27ece0,_0x4b7513){return _0x50779b(_0x266ae9,_0x146541,_0x577b68,_0x167072,_0x27ece0,_0x4b7513);},'sKrkr':'GET','CggeZ':function(_0x18c857,_0x14b354,_0x2058f5){return _0x18c857(_0x14b354,_0x2058f5);},'sfkvl':function(_0x442f94,_0x1e612a,_0x230855){return _0x442f94(_0x1e612a,_0x230855);},'nGDCC':function(_0x5d2127,_0x4e9146){return _0x5d2127!==_0x4e9146;},'CJRlL':function(_0xff2fb9,_0x5baaf6){return _0xff2fb9!==_0x5baaf6;},'YVstZ':function(_0x5a7ed1,_0x4e3be1){return _0x5a7ed1===_0x4e3be1;},'WxrGp':_0x20ddf3(0x189),'Zuarl':_0x20ddf3(0x130),'hLzfp':function(_0x5ede41,_0x2929aa){return _0x5ede41(_0x2929aa);},'jXbww':_0x20ddf3(0x17e),'zxpWr':function(_0x4541c7,_0x4912d3){return _0x4541c7===_0x4912d3;},'QhZbh':_0x20ddf3(0x157),'yliTe':_0x20ddf3(0x136),'AqQLb':_0x20ddf3(0x15f),'UFgmE':function(_0x264503,_0x3f5d05){return _0x264503<_0x3f5d05;},'QSnyB':function(_0x2cb911,_0x4c3038){return _0x2cb911+_0x4c3038;},'oAeiG':_0x20ddf3(0x13e),'YfylY':function(_0x4d9542,_0x1c4267){return _0x4d9542(_0x1c4267);},'JDgSJ':function(_0x4e8d6b,_0x4823ae){return _0x4e8d6b<=_0x4823ae;},'GiUDO':function(_0x354de0,_0x1afe91){return _0x354de0>_0x1afe91;},'NduyB':function(_0x34dd1e,_0x4a7b5c,_0x47ef45,_0x32c8d9,_0x434f8c,_0x5156cc,_0x4dd002){return _0x34dd1e(_0x4a7b5c,_0x47ef45,_0x32c8d9,_0x434f8c,_0x5156cc,_0x4dd002);},'XzPFz':_0x20ddf3(0x16e),'xIobZ':function(_0x57391f){return _0x57391f();},'vVQQp':function(_0x4103dc,_0x13cba1){return _0x4103dc-_0x13cba1;},'bNgGT':'PUT','vcnOj':_0x20ddf3(0x15c),'rMCjZ':'Updated\x20default\x20Grid\x20Profile\x20successfully','lmjDP':function(_0xa453b5,_0x2d0858){return _0xa453b5===_0x2d0858;},'TdNCk':'Failed\x20to\x20update\x20grid\x20profile.\x20Unauthorized\x20request!','jtWVW':_0x20ddf3(0x172),'bqPVR':_0x20ddf3(0x14a),'DTUBq':function(_0x21e0de,_0x2566ab){return _0x21e0de===_0x2566ab;},'vkYaL':_0x20ddf3(0x17c),'kInbT':function(_0x25d81f,_0x2a3a21,_0x18152d,_0x16b98f,_0xb66b0e,_0x46553f,_0x667a94){return _0x25d81f(_0x2a3a21,_0x18152d,_0x16b98f,_0xb66b0e,_0x46553f,_0x667a94);},'VxwJu':function(_0x1a146d,_0x3fd68b,_0x46572e,_0x10b07c,_0x48a569,_0x95b391,_0x17968e){return _0x1a146d(_0x3fd68b,_0x46572e,_0x10b07c,_0x48a569,_0x95b391,_0x17968e);},'Bgtjw':function(_0x22a22c,_0x284cf5,_0xd694b3,_0x26c3e7,_0x529ee4,_0x26c12d,_0x9370b4){return _0x22a22c(_0x284cf5,_0xd694b3,_0x26c3e7,_0x529ee4,_0x26c12d,_0x9370b4);},'JjoyO':_0x20ddf3(0x159)};try{global_registry['requestId']=_0x483190[_0x20ddf3(0x145)](uuidv4);const _0x4c5da9=_0x20ddf3(0x179)+AG_API_URL+_0x20ddf3(0x186);!fs[_0x20ddf3(0x14d)](_0x483190[_0x20ddf3(0x13d)](getCredentialsPath))&&(console[_0x20ddf3(0x15b)](_0x483190[_0x20ddf3(0x18a)]),await _0x483190[_0x20ddf3(0x153)](sendInstrumentationEvent,_0x382c74,_0x483190[_0x20ddf3(0x161)],messageTypes['ERROR'],_0x483190[_0x20ddf3(0x187)],null,_0x382c74),process[_0x20ddf3(0x16a)](0x1));await _0x483190[_0x20ddf3(0x170)](sendInstrumentationEvent,_0x382c74,_0x483190['SwdpB'],messageTypes[_0x20ddf3(0x139)],null,null,_0x382c74);const _0x24c24b=JSON[_0x20ddf3(0x18c)](fs[_0x20ddf3(0x18f)](_0x483190[_0x20ddf3(0x145)](getCredentialsPath))),_0x5e6b65={'method':_0x483190[_0x20ddf3(0x183)],'headers':_0x483190['CggeZ'](getAuthHeader,_0x24c24b['Browserstack'][_0x20ddf3(0x174)],_0x24c24b[_0x20ddf3(0x167)][_0x20ddf3(0x17a)]),'throwHttpErrors':![]},_0x5ccb1a=await _0x483190[_0x20ddf3(0x134)](got,_0x4c5da9,_0x5e6b65);if(_0x483190[_0x20ddf3(0x140)](_0x5ccb1a,null)&&_0x483190[_0x20ddf3(0x150)](_0x5ccb1a,undefined)&&_0x483190[_0x20ddf3(0x13a)](_0x5ccb1a[_0x20ddf3(0x175)],0xc8)){const _0xa6c15a=JSON[_0x20ddf3(0x18c)](_0x5ccb1a['body']);console[_0x20ddf3(0x17d)](_0x483190[_0x20ddf3(0x13c)]),console['log'](_0x483190['Zuarl']),console[_0x20ddf3(0x17d)](_0x20ddf3(0x16c)+_0x24c24b[_0x20ddf3(0x167)][_0x20ddf3(0x174)]),console[_0x20ddf3(0x17d)](_0x20ddf3(0x16d)+_0xa6c15a[_0x20ddf3(0x180)][_0x20ddf3(0x169)]);const _0x434937=await _0x483190[_0x20ddf3(0x135)](inputConfirmation,_0x483190['jXbww']);(_0x483190[_0x20ddf3(0x13a)](_0x434937,undefined)||_0x483190[_0x20ddf3(0x13a)](_0x434937,null)||!(_0x483190[_0x20ddf3(0x13a)](_0x434937[_0x20ddf3(0x188)](),'y')||_0x483190['zxpWr'](_0x434937[_0x20ddf3(0x188)](),'n')))&&(console['error'](_0x483190[_0x20ddf3(0x144)]),await _0x483190['QNJlq'](sendInstrumentationEvent,_0x382c74,_0x483190[_0x20ddf3(0x161)],messageTypes[_0x20ddf3(0x131)],_0x483190[_0x20ddf3(0x14f)],null,_0x382c74),process[_0x20ddf3(0x16a)](0x1));_0x483190[_0x20ddf3(0x166)](_0x434937['toLowerCase'](),'n')&&process[_0x20ddf3(0x16a)](0x0);console[_0x20ddf3(0x17d)](_0x483190[_0x20ddf3(0x168)]);const _0x3d6ae2=_0xa6c15a[_0x20ddf3(0x13f)][_0x20ddf3(0x173)];for(let _0x4477e1=0x0;_0x483190[_0x20ddf3(0x18d)](_0x4477e1,_0x3d6ae2);_0x4477e1+=0x1){console[_0x20ddf3(0x17d)]('['+_0x483190['QSnyB'](_0x4477e1,0x1)+']\x20'+_0xa6c15a['list'][_0x4477e1]['name']);}const _0x1396e0=await _0x483190[_0x20ddf3(0x135)](inputConfirmation,_0x483190['oAeiG']),_0x29a49c=_0x483190[_0x20ddf3(0x135)](Number,_0x1396e0);(_0x483190[_0x20ddf3(0x155)](isNaN,_0x29a49c)||_0x483190[_0x20ddf3(0x15e)](_0x29a49c,0x0)||_0x483190[_0x20ddf3(0x177)](_0x29a49c,_0x3d6ae2))&&(console['error'](_0x483190[_0x20ddf3(0x144)]),await _0x483190[_0x20ddf3(0x18b)](sendInstrumentationEvent,_0x382c74,_0x483190['SwdpB'],messageTypes['ERROR'],_0x483190['XzPFz'],null,_0x382c74),process[_0x20ddf3(0x16a)](0x1));_0x483190[_0x20ddf3(0x182)](closeInput);const _0xdfc421=_0xa6c15a[_0x20ddf3(0x13f)][_0x483190[_0x20ddf3(0x137)](_0x29a49c,0x1)]['id'],_0x1146b2={};_0x1146b2[_0x20ddf3(0x146)]=_0xdfc421;const _0x2fc815={'method':_0x483190[_0x20ddf3(0x143)],'headers':_0x483190[_0x20ddf3(0x13b)](getAuthHeader,_0x24c24b['Browserstack'][_0x20ddf3(0x174)],_0x24c24b[_0x20ddf3(0x167)][_0x20ddf3(0x17a)]),'json':_0x1146b2,'responseType':_0x483190['vcnOj'],'throwHttpErrors':![]},_0xb3f131=await _0x483190['CggeZ'](got,_0x4c5da9,_0x2fc815);_0x483190['nGDCC'](_0xb3f131,null)&&_0x483190[_0x20ddf3(0x150)](_0xb3f131,undefined)&&_0x483190['zxpWr'](_0xb3f131[_0x20ddf3(0x175)],0xc8)&&(console[_0x20ddf3(0x17d)](_0x483190[_0x20ddf3(0x178)]),process[_0x20ddf3(0x16a)](0x0)),_0x483190['lmjDP'](_0xb3f131['statusCode'],0x191)&&(console[_0x20ddf3(0x15b)](_0x483190[_0x20ddf3(0x14c)]),await _0x483190['NduyB'](sendInstrumentationEvent,_0x382c74,_0x483190[_0x20ddf3(0x161)],messageTypes['ERROR'],_0x483190[_0x20ddf3(0x149)],null,_0x382c74),process[_0x20ddf3(0x16a)](0x1)),console[_0x20ddf3(0x15b)]('Failed\x20to\x20update\x20grid\x20profile.\x20Response\x20from\x20server:\x20'+JSON[_0x20ddf3(0x184)](_0xb3f131)),await _0x483190['QNJlq'](sendInstrumentationEvent,_0x382c74,_0x483190[_0x20ddf3(0x161)],messageTypes[_0x20ddf3(0x131)],_0x483190[_0x20ddf3(0x17b)],_0xb3f131,_0x382c74),process[_0x20ddf3(0x16a)](0x1);}_0x483190['DTUBq'](_0x5ccb1a['statusCode'],0x191)&&(console[_0x20ddf3(0x15b)](_0x483190['vkYaL']),await _0x483190['kInbT'](sendInstrumentationEvent,_0x382c74,_0x483190['SwdpB'],messageTypes[_0x20ddf3(0x131)],_0x483190['jtWVW'],null,_0x382c74),process[_0x20ddf3(0x16a)](0x1)),console[_0x20ddf3(0x15b)]('Failed\x20to\x20fetch\x20grid\x20profile\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20'+JSON[_0x20ddf3(0x184)](_0x5ccb1a)),await _0x483190[_0x20ddf3(0x14b)](sendInstrumentationEvent,_0x382c74,_0x483190['SwdpB'],messageTypes[_0x20ddf3(0x131)],_0x483190['bqPVR'],_0x5ccb1a,_0x382c74),process['exit'](0x1);}catch(_0x3612ad){console[_0x20ddf3(0x15b)](_0x20ddf3(0x154)+_0x3612ad[_0x20ddf3(0x148)]),await _0x483190[_0x20ddf3(0x14e)](sendInstrumentationEvent,_0x382c74,_0x483190[_0x20ddf3(0x161)],messageTypes['ERROR'],_0x483190[_0x20ddf3(0x18e)],_0x3612ad,_0x382c74),process[_0x20ddf3(0x16a)](0x1);}};