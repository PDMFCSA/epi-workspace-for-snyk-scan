const a9_0x46b615=a9_0x1b37;(function(_0x1dbd60,_0xc7c922){const _0x234ef3=a9_0x1b37,_0x5360c8=_0x1dbd60();while(!![]){try{const _0x45ab41=-parseInt(_0x234ef3(0x102))/0x1+-parseInt(_0x234ef3(0x186))/0x2+-parseInt(_0x234ef3(0x1ec))/0x3*(parseInt(_0x234ef3(0x211))/0x4)+-parseInt(_0x234ef3(0x1e1))/0x5*(-parseInt(_0x234ef3(0xca))/0x6)+-parseInt(_0x234ef3(0x19c))/0x7*(parseInt(_0x234ef3(0x1c9))/0x8)+-parseInt(_0x234ef3(0x191))/0x9*(-parseInt(_0x234ef3(0x217))/0xa)+parseInt(_0x234ef3(0x25b))/0xb;if(_0x45ab41===_0xc7c922)break;else _0x5360c8['push'](_0x5360c8['shift']());}catch(_0x5d9ffe){_0x5360c8['push'](_0x5360c8['shift']());}}}(a9_0x509f,0xf33ba));const fs=require('fs'),ws=require('ws'),path=require(a9_0x46b615(0x19b)),yaml=require(a9_0x46b615(0xfc)),ReconnectingWebSocket=require(a9_0x46b615(0x1de)),got=require(a9_0x46b615(0x1eb)),{v4:uuidv4}=require('uuid'),webSocketUtils=require(a9_0x46b615(0x242)),{logger}=require('../../config/logger'),{getCredentialsPath,updateGlobalRegistryWithConfig,updateGlobalRegistryForHubHa,kebabCase,reportToGalactusAndSendToEDS,getAuthHeader,waitForDeployment,kubeApply,encodeBase64}=require(a9_0x46b615(0x21c)),{getCloudProviderObject}=require(a9_0x46b615(0x12e)),{AWS,WS_EVENTS,global_registry,WS_ENDPOINT,DEFAULT_GRID_NAME,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,messageTypes,AG_API_URL,AZURE,GCP,TURBOSCALE_DEPLOYMENT}=require(a9_0x46b615(0x1e0)),{addGridComponents,removeGridComponents,getNamespaceUID,namespaceExists,createNamespace}=require(a9_0x46b615(0xc6)),{createK8sClient}=require(a9_0x46b615(0xfa)),{sendInstrumentationEvent}=require('../../utils/instrumentationUtils');function a9_0x1b37(_0x267dc8,_0x349e69){const _0x509f0c=a9_0x509f();return a9_0x1b37=function(_0x1b37c8,_0xa57a69){_0x1b37c8=_0x1b37c8-0xc0;let _0x810d87=_0x509f0c[_0x1b37c8];return _0x810d87;},a9_0x1b37(_0x267dc8,_0x349e69);}exports['command']='grid',exports[a9_0x46b615(0x1c4)]=a9_0x46b615(0x22a),exports[a9_0x46b615(0x15e)]=function(_0x391ea9){const _0x1d5931=a9_0x46b615,_0x4c6d4c={};_0x4c6d4c[_0x1d5931(0x116)]=_0x1d5931(0x1d6),_0x4c6d4c[_0x1d5931(0xe9)]=_0x1d5931(0x246),_0x4c6d4c[_0x1d5931(0x155)]='Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.',_0x4c6d4c[_0x1d5931(0x1c8)]=_0x1d5931(0x228),_0x4c6d4c['GpFtL']=_0x1d5931(0x20b),_0x4c6d4c[_0x1d5931(0xcc)]=_0x1d5931(0x1e7),_0x4c6d4c[_0x1d5931(0x1f3)]=_0x1d5931(0x22f),_0x4c6d4c['ZSaGU']=_0x1d5931(0x16d),_0x4c6d4c[_0x1d5931(0x261)]='boolean',_0x4c6d4c[_0x1d5931(0x1ef)]='Flag\x20to\x20enable\x20Hub\x20HA',_0x4c6d4c['fHErg']=_0x1d5931(0x248);const _0x28c09e=_0x4c6d4c,_0x539712={};_0x539712[_0x1d5931(0x220)]=_0x28c09e[_0x1d5931(0x116)],_0x539712[_0x1d5931(0x224)]=_0x28c09e['TjdVp'];const _0x5cc96a={};_0x5cc96a[_0x1d5931(0x220)]=_0x28c09e[_0x1d5931(0x155)],_0x5cc96a[_0x1d5931(0x224)]=_0x28c09e[_0x1d5931(0xe9)];const _0x1cfc87={};_0x1cfc87[_0x1d5931(0x220)]=_0x28c09e[_0x1d5931(0x1c8)],_0x1cfc87['type']=_0x28c09e[_0x1d5931(0xe9)];const _0x300d66={};_0x300d66['description']=_0x28c09e[_0x1d5931(0xe1)],_0x300d66[_0x1d5931(0x224)]=_0x28c09e[_0x1d5931(0xe9)];const _0x99c0f6={};_0x99c0f6[_0x1d5931(0x220)]=_0x28c09e[_0x1d5931(0xcc)],_0x99c0f6[_0x1d5931(0x224)]=_0x28c09e[_0x1d5931(0xe9)];const _0x238210={};_0x238210[_0x1d5931(0x220)]=_0x28c09e[_0x1d5931(0x1f3)],_0x238210[_0x1d5931(0x224)]=_0x28c09e[_0x1d5931(0xe9)];const _0x4bc543={};_0x4bc543[_0x1d5931(0x220)]=_0x28c09e[_0x1d5931(0x179)],_0x4bc543['type']=_0x28c09e[_0x1d5931(0x261)],_0x4bc543[_0x1d5931(0x1df)]=![];const _0x19c959={};_0x19c959['description']=_0x28c09e[_0x1d5931(0x1ef)],_0x19c959[_0x1d5931(0x224)]=_0x28c09e[_0x1d5931(0x261)],_0x19c959['default']=![];const _0x32241e={};return _0x32241e[_0x1d5931(0x23b)]=_0x539712,_0x32241e[_0x1d5931(0xd5)]=_0x5cc96a,_0x32241e[_0x1d5931(0x1b7)]=_0x1cfc87,_0x32241e[_0x1d5931(0x161)]=_0x300d66,_0x32241e[_0x1d5931(0xfe)]=_0x99c0f6,_0x32241e[_0x1d5931(0x145)]=_0x238210,_0x32241e['skip-tls-cert-verify']=_0x4bc543,_0x32241e[_0x1d5931(0x1f2)]=_0x19c959,_0x391ea9['usage'](HELP_HEADER_MESSAGE['create'])[_0x1d5931(0x1a6)](HELP_FOOTER_MESSAGE)[_0x1d5931(0xe2)](_0x32241e)[_0x1d5931(0x248)](_0x28c09e[_0x1d5931(0xf0)])[_0x1d5931(0x114)];},exports['handler']=async function(_0x59867a){const _0x1afb92=a9_0x46b615,_0x5c71a4={'mcgwS':_0x1afb92(0x198),'LkNIs':_0x1afb92(0x22c),'MAfTs':_0x1afb92(0x1df),'gmVtu':_0x1afb92(0xd2),'uyJDq':function(_0x299efe,_0x300ea3){return _0x299efe===_0x300ea3;},'bogFg':_0x1afb92(0x140),'YEAfH':function(_0x428246,_0x210f11){return _0x428246(_0x210f11);},'qXslW':'azurefile-csi-premium','VHuyJ':_0x1afb92(0x25d),'rtsCS':'CLI\x20run\x20started','GrIne':_0x1afb92(0x1d6),'hktIy':'string','ebYPT':'Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','HhUwO':_0x1afb92(0x228),'fcqxj':_0x1afb92(0x20b),'HIfKO':_0x1afb92(0x1e7),'aHQRg':_0x1afb92(0x22f),'xpwvp':_0x1afb92(0x16d),'eHIOw':_0x1afb92(0x173),'fEBOM':_0x1afb92(0x249),'GDZiA':'help','oXAXy':_0x1afb92(0x1f0),'rvQEN':_0x1afb92(0xec),'vRWrF':function(_0x5a7169,_0x172a51){return _0x5a7169!==_0x172a51;},'TPOFU':function(_0x3fcac9,_0x3b3a26,_0xd9eaa8,_0xcaacc4,_0xe06dae,_0x5099fe,_0x4f1dca,_0x36ef8d,_0x22fc6d,_0x4b44f4,_0x9e732d,_0x289458){return _0x3fcac9(_0x3b3a26,_0xd9eaa8,_0xcaacc4,_0xe06dae,_0x5099fe,_0x4f1dca,_0x36ef8d,_0x22fc6d,_0x4b44f4,_0x9e732d,_0x289458);},'iVNlv':function(_0x1d6043,_0x5f7021){return _0x1d6043(_0x5f7021);},'QhpCX':_0x1afb92(0x252),'rwPLJ':_0x1afb92(0x247),'xVJDo':_0x1afb92(0x202),'xCHRL':_0x1afb92(0x137),'VxYYI':'Enabling\x20Hub\x20HA\x20flow','rzvjr':'Epyd5nXbRK','dkkgg':function(_0x2c51c2){return _0x2c51c2();},'enGqD':function(_0x4518d3,_0xfb662){return _0x4518d3!==_0xfb662;},'lqiKf':'OBrXw','ACFII':'tvmrP','AFVjh':_0x1afb92(0x131),'qzZJV':function(_0x284f0a,_0x36b3fd,_0x106384,_0x38aff3,_0x2a2708,_0x33879d,_0x1d80cd){return _0x284f0a(_0x36b3fd,_0x106384,_0x38aff3,_0x2a2708,_0x33879d,_0x1d80cd);},'LjwCX':_0x1afb92(0x1ea),'guPFS':_0x1afb92(0x10c),'mwafg':function(_0x2426ed,_0xc6e7d3,_0x32c4da,_0x3529ea,_0x3aab0c,_0x45ffed,_0x3aded2){return _0x2426ed(_0xc6e7d3,_0x32c4da,_0x3529ea,_0x3aab0c,_0x45ffed,_0x3aded2);},'jLHCU':function(_0x3439e4){return _0x3439e4();},'IVALd':_0x1afb92(0x24f),'GkRQT':'<PasswordPlaceholder>','mlSdf':_0x1afb92(0x159),'JjNOG':_0x1afb92(0x23c),'TnkQV':_0x1afb92(0xd4),'wDtja':_0x1afb92(0x10a),'qPhuk':_0x1afb92(0xc7),'FMfdO':_0x1afb92(0x24d),'gDguy':function(_0x353c62,_0x37203d,_0x5ed0a8,_0x3462bd,_0x144889,_0x1dbcd2,_0x3ae0c4,_0x3f9590){return _0x353c62(_0x37203d,_0x5ed0a8,_0x3462bd,_0x144889,_0x1dbcd2,_0x3ae0c4,_0x3f9590);},'ZqITo':_0x1afb92(0x104),'QggOM':function(_0x32afef,_0x4d5761){return _0x32afef===_0x4d5761;},'INMon':_0x1afb92(0xc0),'psuoa':_0x1afb92(0x101),'SXzyx':function(_0x3419f8,_0x537a60,_0xd4c83f,_0x1436f2,_0x308407,_0x93ab4f,_0x5d234a,_0xa3c7aa){return _0x3419f8(_0x537a60,_0xd4c83f,_0x1436f2,_0x308407,_0x93ab4f,_0x5d234a,_0xa3c7aa);},'HFhqC':_0x1afb92(0xc8),'kloWX':function(_0x49c157,_0x494146){return _0x49c157===_0x494146;},'OnuTF':function(_0x13828e,_0x3d4a79){return _0x13828e!==_0x3d4a79;},'zaxrC':_0x1afb92(0xd8),'slVAc':_0x1afb92(0x260),'jIpIi':_0x1afb92(0x17b),'soDsy':_0x1afb92(0xef),'xqCSN':_0x1afb92(0x1fb),'askQL':_0x1afb92(0x123),'PzcJO':function(_0x4dd024,_0x3752ca,_0x2b63e5){return _0x4dd024(_0x3752ca,_0x2b63e5);},'vJIzc':function(_0xe4cf3b,_0x32988d){return _0xe4cf3b===_0x32988d;},'FRvPa':_0x1afb92(0x129),'uOhQJ':_0x1afb92(0x156),'MJsbe':function(_0x1ad48e,_0x5892b9,_0x5a170f){return _0x1ad48e(_0x5892b9,_0x5a170f);},'lSRwv':function(_0x54bae1,_0x20f770){return _0x54bae1===_0x20f770;},'WmuiN':'MAegR','zpUqO':_0x1afb92(0x210),'ddHHf':_0x1afb92(0xf6),'dioYc':function(_0x548458,_0x1a84a7){return _0x548458===_0x1a84a7;},'KaecB':'NIGta','LWwLZ':'Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Unauthorized\x20request!','IPtyn':'create-grid-checks-auth-failed','lLPMC':function(_0xc5099a,_0x5ef773){return _0xc5099a!==_0x5ef773;},'yPiCW':function(_0x169a4c,_0x479d61){return _0x169a4c!==_0x479d61;},'RoppO':_0x1afb92(0x151),'iqdNa':_0x1afb92(0x10e),'sfaEq':_0x1afb92(0x1c3),'TsJvJ':_0x1afb92(0xee),'RTble':_0x1afb92(0x166),'Iguht':_0x1afb92(0x147),'CEhHk':_0x1afb92(0x1da),'uvUHM':_0x1afb92(0xe7),'MnWlm':function(_0x3ac6e0,_0x53e448){return _0x3ac6e0!==_0x53e448;},'JLhyo':_0x1afb92(0x1d2),'OQRaP':_0x1afb92(0x11e),'nSzNo':function(_0x99b2be,_0x5f43cc){return _0x99b2be===_0x5f43cc;},'GgaTm':'CQIrW','kYKUA':_0x1afb92(0x1fc),'hMLhn':function(_0x177677,_0x1538b){return _0x177677!==_0x1538b;},'IeTPo':'OUxcM','MaNLI':_0x1afb92(0x12a),'KKOGx':_0x1afb92(0x15a),'tfnDW':function(_0xc0429e,_0x14eebb,_0x574690,_0x3945f5,_0x345777,_0xe3c6c8,_0x4004c9,_0x4ce5fd){return _0xc0429e(_0x14eebb,_0x574690,_0x3945f5,_0x345777,_0xe3c6c8,_0x4004c9,_0x4ce5fd);},'ESPep':_0x1afb92(0x189),'GRfTG':function(_0x4e35d3,_0x4c7589){return _0x4e35d3===_0x4c7589;},'HGCNK':function(_0x5b7005,_0x528660){return _0x5b7005!==_0x528660;},'ZZJXu':_0x1afb92(0x143),'TOyAK':_0x1afb92(0x13e),'Jiljy':_0x1afb92(0x205),'UBmDR':_0x1afb92(0x20a),'CzogN':function(_0x52673c,_0x9a2ffd,_0x4f6b48,_0x24dd4c,_0x53279a,_0x543192,_0x18dd05,_0x6d8e4f,_0x379a08,_0x5d3358,_0x229773,_0x1fc09e){return _0x52673c(_0x9a2ffd,_0x4f6b48,_0x24dd4c,_0x53279a,_0x543192,_0x18dd05,_0x6d8e4f,_0x379a08,_0x5d3358,_0x229773,_0x1fc09e);},'eCgJp':function(_0x1fc274,_0x36e271){return _0x1fc274===_0x36e271;},'HrWLw':_0x1afb92(0x1b4),'qsPNF':function(_0x4c4fbb,_0x4ec884){return _0x4c4fbb(_0x4ec884);},'KHqJi':function(_0x582a0c,_0x514a83){return _0x582a0c===_0x514a83;},'PReuu':_0x1afb92(0x160),'quXaJ':function(_0x44d935,_0x24d6d5){return _0x44d935!==_0x24d6d5;},'KQZoa':function(_0x1fc75a,_0x43892a){return _0x1fc75a===_0x43892a;},'DcHSs':'LSurI','kMyEY':_0x1afb92(0x20f),'SjJwQ':function(_0x1a4621,_0x31f4c3){return _0x1a4621===_0x31f4c3;},'aksgA':_0x1afb92(0x1ac),'qSPhl':function(_0xe996b2,_0x5c7e6b){return _0xe996b2(_0x5c7e6b);},'vEOGt':_0x1afb92(0xe3),'goHgR':_0x1afb92(0x196),'WbLxO':_0x1afb92(0xf4),'yucGU':function(_0x51e989,_0x4572c1){return _0x51e989!==_0x4572c1;},'iviMa':function(_0x186677,_0x532e08){return _0x186677===_0x532e08;},'SYOtW':_0x1afb92(0x11f),'UAATR':'LPJnt','OsChk':_0x1afb92(0x22e),'EUTBS':_0x1afb92(0xf8),'ScTfg':'rWpHj','IxwKI':'Cluster\x20not\x20found.\x20Proceeding\x20with\x20creating\x20required\x20resources.','ZqIQW':function(_0x226429,_0x16b8f4){return _0x226429!=_0x16b8f4;},'ggMfQ':function(_0xb753b0,_0x13683c){return _0xb753b0!==_0x13683c;},'wmrvq':function(_0x484129,_0x34641b){return _0x484129>_0x34641b;},'UdeMC':_0x1afb92(0x24a),'yGEEs':_0x1afb92(0x103),'IbqQl':'VPC\x20selected\x20does\x20not\x20exist.\x20Please\x20try\x20again','Dwkxg':_0x1afb92(0x139),'euMmV':_0x1afb92(0xcb),'zswbQ':_0x1afb92(0xd7),'rTjrC':'Cluster\x20created\x20successfully','PyZsI':_0x1afb92(0xf9),'YCsaE':function(_0xd403d8,_0x242776){return _0xd403d8===_0x242776;},'grUXH':function(_0x2debc9,_0x43ab1d){return _0x2debc9===_0x43ab1d;},'xfBhO':function(_0x3b50a1,_0x29a72d){return _0x3b50a1===_0x29a72d;},'vpUem':_0x1afb92(0x267),'BmrTO':function(_0x225b96,_0x3766f6,_0x19d158){return _0x225b96(_0x3766f6,_0x19d158);},'wFZxF':_0x1afb92(0xff),'YFAiR':_0x1afb92(0x232),'eOrNd':'templates','jpVWq':_0x1afb92(0x1c7),'jEXSI':_0x1afb92(0x229),'IpgII':_0x1afb92(0x107),'ZXtvM':function(_0x531961,_0x542b02){return _0x531961(_0x542b02);},'PWAJW':function(_0x5b9154,_0x5f31cd){return _0x5b9154(_0x5f31cd);},'uShFd':function(_0x35dbb2,_0xadd7eb,_0x2ae443){return _0x35dbb2(_0xadd7eb,_0x2ae443);},'cNsJl':_0x1afb92(0x1e9),'QCAOK':_0x1afb92(0x204),'iNUWl':function(_0x4a4d9b,_0x5d1c59){return _0x4a4d9b===_0x5d1c59;},'GGDqk':_0x1afb92(0x1fd),'UVHKk':_0x1afb92(0x174),'RtUwU':_0x1afb92(0x1be),'AhEBR':'Adding\x20Kafka\x20deployment...','jMCTA':'bitnami-kafka.yaml','ZwEXN':function(_0x39a21e,_0x38f05d,_0x196535){return _0x39a21e(_0x38f05d,_0x196535);},'lsjqg':_0x1afb92(0x1a9),'PCStm':'Adding\x20Turboscale\x20Uploader\x20deployment...','Lorrx':_0x1afb92(0x1e2),'IRjCZ':_0x1afb92(0x11b),'aEBwG':_0x1afb92(0x146),'oOaMX':'Hub\x20HA\x20setup\x20completed\x20successfully.','wqsxB':_0x1afb92(0x23a),'KVqeO':'hub-ha-deployments-failed','YiCuQ':function(_0x517222,_0x19e442){return _0x517222(_0x19e442);},'xdbLQ':_0x1afb92(0x168),'mCzLx':_0x1afb92(0x20d),'GeNko':'Namespace\x20Created','xfpDS':'Namespace\x20created','MwHQu':_0x1afb92(0x1d4),'DmTUI':_0x1afb92(0x234),'vQPQa':function(_0x380e1b,_0xab9552,_0x46e098,_0x5c897e,_0x14cdfc,_0x3493d0,_0xfea099,_0x306188,_0x5fa5f,_0x1cff3b,_0x83e85c){return _0x380e1b(_0xab9552,_0x46e098,_0x5c897e,_0x14cdfc,_0x3493d0,_0xfea099,_0x306188,_0x5fa5f,_0x1cff3b,_0x83e85c);},'SncRy':'Grid\x20spawned\x20on\x20the\x20cluster','rFEEA':_0x1afb92(0x215),'mLQIV':function(_0x22bedd,_0x817ffd,_0x4b726c,_0x150ce1,_0xe11ce4){return _0x22bedd(_0x817ffd,_0x4b726c,_0x150ce1,_0xe11ce4);},'MaazX':'private-ingress-nginx-controller','RLUAv':_0x1afb92(0x223),'lqRgs':_0x1afb92(0xe0),'NzhhE':function(_0x5542a5,_0x1712fa,_0x187b97){return _0x5542a5(_0x1712fa,_0x187b97);},'mCwAG':function(_0x515e8f,_0x1d5359){return _0x515e8f===_0x1d5359;},'NFCih':function(_0x5240f1,_0x2c2f5f){return _0x5240f1===_0x2c2f5f;},'dhWfP':_0x1afb92(0x235),'YuFel':function(_0x15ef13,_0x261881,_0x3c29ac,_0xd8332f,_0xc3428a,_0x220b32,_0x307003,_0x23a26a){return _0x15ef13(_0x261881,_0x3c29ac,_0xd8332f,_0xc3428a,_0x220b32,_0x307003,_0x23a26a);},'QZmHm':_0x1afb92(0x122),'IZqZM':function(_0x50fc73,_0x2c4c39){return _0x50fc73===_0x2c4c39;},'UAywX':_0x1afb92(0x23e),'WUxVt':function(_0x48902d,_0x5c32dc,_0x2727a4,_0xa939aa,_0x19265e,_0x10af5a,_0x2afe2d,_0x1fe81c){return _0x48902d(_0x5c32dc,_0x2727a4,_0xa939aa,_0x19265e,_0x10af5a,_0x2afe2d,_0x1fe81c);},'esKqf':_0x1afb92(0x190),'ROEba':function(_0x3c9e37,_0x2e03a2,_0x30c242,_0x1ac7a9,_0x3f80e1,_0x21ecd5,_0x15cc34,_0x4090fe){return _0x3c9e37(_0x2e03a2,_0x30c242,_0x1ac7a9,_0x3f80e1,_0x21ecd5,_0x15cc34,_0x4090fe);},'aJrUI':'get-grid-url-non-200','QpBeH':_0x1afb92(0x256),'rWWWJ':function(_0x51ad86,_0x10e798,_0x4de5e3,_0x48e115,_0x1c4f21,_0x291994){return _0x51ad86(_0x10e798,_0x4de5e3,_0x48e115,_0x1c4f21,_0x291994);},'GXQLz':_0x1afb92(0xc4)};let _0x1fefd3=![],_0x246659=![],_0x59287b,_0x2373ab,_0x2f62dd,_0x3de44c,_0xe0d30b,_0x2c4da4,_0x2a53d3,_0x59a19a,_0x581844,_0x4d5b49,_0x3371a5,_0x520f95,_0x265537,_0x4e0016,_0x4cd6a6=0x1,_0x1f0cb5=0xe;try{global_registry[_0x1afb92(0x1a7)]=_0x5c71a4[_0x1afb92(0x25a)](uuidv4),global_registry[_0x1afb92(0x16f)]=![];!fs[_0x1afb92(0x266)](_0x5c71a4[_0x1afb92(0x25a)](getCredentialsPath))&&(_0x5c71a4['enGqD'](_0x5c71a4[_0x1afb92(0x192)],_0x5c71a4[_0x1afb92(0x13b)])?(console['error'](_0x5c71a4['AFVjh']),await _0x5c71a4[_0x1afb92(0x184)](sendInstrumentationEvent,_0x59867a,_0x5c71a4['LjwCX'],messageTypes[_0x1afb92(0x221)],_0x5c71a4['guPFS'],null,_0x59867a),process[_0x1afb92(0x17c)](0x1)):_0x31f509[_0x1afb92(0x252)]('Failed\x20to\x20delete\x20the\x20CloudFormation\x20Stacks\x20and\x20other\x20spawned\x20components.\x20Error:\x20\x20'+_0x383ba8+'\x20\x0a'+_0x1b7579[_0x1afb92(0x1b3)](_0x2425b3[_0x1afb92(0x178)])));await _0x5c71a4['mwafg'](sendInstrumentationEvent,_0x59867a,_0x5c71a4[_0x1afb92(0x21a)],messageTypes[_0x1afb92(0x209)],null,null,_0x59867a);const _0xb8ce7e=JSON[_0x1afb92(0x18e)](fs[_0x1afb92(0x1ee)](_0x5c71a4[_0x1afb92(0x118)](getCredentialsPath)));global_registry[_0x1afb92(0xf5)]=_0xb8ce7e[_0x1afb92(0x20d)][_0x1afb92(0x177)],global_registry['bstackAccesskey']=_0xb8ce7e[_0x1afb92(0x20d)][_0x1afb92(0x22d)];const _0x11b2ae=WS_ENDPOINT['replace'](_0x5c71a4[_0x1afb92(0x22b)],_0xb8ce7e[_0x1afb92(0x20d)]['username'])[_0x1afb92(0x1cb)](_0x5c71a4[_0x1afb92(0x1e4)],_0xb8ce7e[_0x1afb92(0x20d)][_0x1afb92(0x22d)]),_0x59f32f={};_0x59f32f[_0x1afb92(0x185)]=ws,_0x59f32f['connectionTimeout']=0x36ee80,_0x520f95=new ReconnectingWebSocket(_0x11b2ae,[],_0x59f32f),logger[_0x1afb92(0x10f)](_0x5c71a4['mlSdf']),webSocketUtils[_0x1afb92(0x1bc)](_0x520f95,_0x59867a[_0x1afb92(0x241)],_0x59867a[_0x1afb92(0x22d)]);const _0x2878e7=_0x59867a[_0x1afb92(0x19a)]||DEFAULT_GRID_NAME;if(_0x59867a[_0x1afb92(0x1db)]||_0x59867a[_0x1afb92(0x1d3)]||_0x59867a['region']){if(_0x5c71a4[_0x1afb92(0x25c)](_0x5c71a4[_0x1afb92(0x244)],_0x5c71a4[_0x1afb92(0x1e5)]))_0x202846=_0x5c71a4[_0x1afb92(0x1d7)];else{if(!(_0x59867a[_0x1afb92(0x1db)]&&_0x59867a[_0x1afb92(0x1d3)]&&_0x59867a['region'])){if(_0x5c71a4[_0x1afb92(0x25c)](_0x5c71a4[_0x1afb92(0x269)],_0x5c71a4[_0x1afb92(0x1a0)])){const _0x354d59={'azure.workload.identity/use':_0x5c71a4[_0x1afb92(0xfb)],..._0x2eb69f[0x0]['spec'][_0x1afb92(0xdb)][_0x1afb92(0x1f1)][_0x1afb92(0x262)]};_0x2a324a[0x0][_0x1afb92(0x164)][_0x1afb92(0xdb)][_0x1afb92(0x1f1)]['labels']=_0x354d59,_0x5866b8[0x0][_0x1afb92(0x164)]['template'][_0x1afb92(0x164)][_0x1afb92(0x1aa)]=_0x5c71a4['MAfTs'];}else _0x59287b=_0x5c71a4[_0x1afb92(0x212)],await _0x5c71a4['gDguy'](reportToGalactusAndSendToEDS,_0x59867a,_0x520f95,_0x59287b,messageTypes[_0x1afb92(0x221)],_0x5c71a4[_0x1afb92(0x21a)],_0x5c71a4['ZqITo'],_0x5c71a4['QhpCX']),logger['error'](_0x59287b),process[_0x1afb92(0x17c)](0x1);}![AWS,AZURE,GCP][_0x1afb92(0xc1)](_0x59867a[_0x1afb92(0x1d3)]['toLowerCase']())&&(_0x5c71a4[_0x1afb92(0xfd)](_0x5c71a4['INMon'],_0x5c71a4[_0x1afb92(0x16c)])?(_0x59287b=_0x5c71a4[_0x1afb92(0x240)],await _0x5c71a4[_0x1afb92(0x109)](reportToGalactusAndSendToEDS,_0x59867a,_0x520f95,_0x59287b,messageTypes[_0x1afb92(0x221)],_0x5c71a4[_0x1afb92(0x21a)],_0x5c71a4[_0x1afb92(0x162)],_0x5c71a4[_0x1afb92(0x154)]),logger[_0x1afb92(0x252)](_0x59287b),process[_0x1afb92(0x17c)](0x1)):_0xc9df5a[_0x1afb92(0x16f)]=!![]);_0x59867a[_0x1afb92(0x15c)]&&_0x5c71a4[_0x1afb92(0x20e)](_0x59867a[_0x1afb92(0x15c)][_0x1afb92(0x152)](),_0x5c71a4[_0x1afb92(0xfb)])&&(_0x5c71a4[_0x1afb92(0x130)](_0x5c71a4['zaxrC'],_0x5c71a4['zaxrC'])?_0xcc24bd['gridProfile']=_0x2a60f1['gridProfile']:global_registry[_0x1afb92(0x16f)]=!![]);global_registry[_0x1afb92(0x1d3)]=_0x59867a['cloudProvider'],global_registry[_0x1afb92(0x132)]=_0x59867a[_0x1afb92(0xfe)],global_registry[_0x1afb92(0x1db)]=_0x59867a[_0x1afb92(0x1db)];const _0x5833ff=await _0x5c71a4[_0x1afb92(0x184)](getCloudProviderObject,_0x59867a['cloudProvider'],_0x59867a['clusterName'],_0x2878e7,_0x520f95,webSocketUtils,_0x59867a),_0x187f5b=await _0x5833ff[_0x1afb92(0x187)]();if(!_0x187f5b){if(_0x5c71a4['uyJDq'](_0x5c71a4[_0x1afb92(0x144)],_0x5c71a4[_0x1afb92(0x12b)])){const _0x230696={};_0x230696['type']=_0x2813e6[_0x1afb92(0x136)],_0x230696['message']=_0x1afb92(0x1b8)+_0x27fd4f+_0x1afb92(0xf3),_0x341ac0[_0x1afb92(0x163)](_0x3803f4,_0x230696,_0x5c71a4[_0x1afb92(0x112)]),_0x13fa4f['info'](_0x1afb92(0x1b8)+_0x14d44e+_0x1afb92(0xf3)),_0x1e0e80=!![];if(_0x5c71a4[_0x1afb92(0x25c)](_0x2c24bf,!![]))throw new _0x4dfc58('Cluster\x20'+_0x156eda+_0x1afb92(0xdc));}else logger[_0x1afb92(0x1a1)](_0x1afb92(0x259)+_0x59867a[_0x1afb92(0x1db)]+'\x20doesn\x27t\x20exist.\x20Proceeding\x20with\x20creating\x20a\x20new\x20cluster'),_0x1fefd3=![],_0x246659=!![];}else _0x5c71a4[_0x1afb92(0x18a)](_0x5c71a4[_0x1afb92(0x1e6)],_0x5c71a4[_0x1afb92(0x1e6)])?_0xe2e32b=null:_0x1fefd3=!![];_0x2f62dd=_0x59867a['clusterName'],_0x2373ab=_0x59867a[_0x1afb92(0x1d3)][_0x1afb92(0x152)](),_0x3de44c=_0x59867a[_0x1afb92(0xfe)];}}else _0x59867a[_0x1afb92(0xdd)]&&(_0x5c71a4[_0x1afb92(0x14a)](_0x5c71a4['xqCSN'],_0x5c71a4[_0x1afb92(0x121)])?_0x4d28e4=_0x5df5e9[_0x14d3f0[_0x1afb92(0xdd)]]:global_registry[_0x1afb92(0xdd)]=_0x59867a[_0x1afb92(0xdd)]);global_registry[_0x1afb92(0x19a)]=_0x59867a[_0x1afb92(0x19a)];const _0x4ffe96={'method':_0x5c71a4[_0x1afb92(0xc9)],'headers':_0x5c71a4['PzcJO'](getAuthHeader,_0xb8ce7e[_0x1afb92(0x20d)][_0x1afb92(0x177)],_0xb8ce7e[_0x1afb92(0x20d)][_0x1afb92(0x22d)]),'throwHttpErrors':![]},_0xf11829={};_0xf11829[_0x1afb92(0x19a)]=_0x2878e7;const _0x2ed550=_0xf11829;_0x246659&&(_0x5c71a4[_0x1afb92(0x236)](_0x5c71a4[_0x1afb92(0x1cc)],_0x5c71a4['uOhQJ'])?_0x3e1bba[_0x1afb92(0x1fe)]():(_0x2ed550[_0x1afb92(0xfe)]=_0x3de44c,_0x2ed550[_0x1afb92(0x1d3)]=_0x2373ab,_0x2ed550[_0x1afb92(0x17d)]=!![]));const _0x5a5e77=_0x1afb92(0x1c2)+AG_API_URL+'/packages/cli/create-grid-checks',_0x5dec39={'searchParams':_0x2ed550,'throwHttpErrors':![],..._0x4ffe96},_0x554468=_0x5dec39,_0x3e240d=await _0x5c71a4[_0x1afb92(0x225)](got,_0x5a5e77,_0x554468);(_0x5c71a4['QggOM'](_0x3e240d,null)||_0x5c71a4[_0x1afb92(0x1ba)](_0x3e240d,undefined))&&(_0x5c71a4[_0x1afb92(0x18a)](_0x5c71a4[_0x1afb92(0xe5)],_0x5c71a4[_0x1afb92(0xe5)])?_0x3adb84=_0x5c71a4[_0x1afb92(0x11c)]:(_0x59287b=_0x5c71a4['zpUqO'],await _0x5c71a4[_0x1afb92(0x263)](reportToGalactusAndSendToEDS,_0x59867a,_0x520f95,_0x59287b,messageTypes[_0x1afb92(0x221)],_0x5c71a4[_0x1afb92(0x21a)],_0x5c71a4[_0x1afb92(0x231)],_0x5c71a4[_0x1afb92(0x154)]),logger['error'](_0x59287b),process[_0x1afb92(0x17c)](0x1)));_0x5c71a4[_0x1afb92(0xd9)](_0x3e240d['statusCode'],0x191)&&(_0x5c71a4[_0x1afb92(0x130)](_0x5c71a4[_0x1afb92(0x15b)],_0x5c71a4[_0x1afb92(0x15b)])?(_0x2d20f[_0x1afb92(0x1a1)](_0x1afb92(0x259)+_0x3249e2[_0x1afb92(0x1db)]+'\x20doesn\x27t\x20exist.\x20Proceeding\x20with\x20creating\x20a\x20new\x20cluster'),_0x540697=![],_0x6447a3=!![]):(_0x59287b=_0x5c71a4[_0x1afb92(0x255)],await _0x5c71a4[_0x1afb92(0x263)](reportToGalactusAndSendToEDS,_0x59867a,_0x520f95,_0x59287b,messageTypes[_0x1afb92(0x221)],_0x5c71a4[_0x1afb92(0x21a)],_0x5c71a4[_0x1afb92(0x1f7)],_0x5c71a4[_0x1afb92(0x154)]),logger['error'](_0x59287b),process[_0x1afb92(0x17c)](0x1)));_0x5c71a4[_0x1afb92(0x251)](_0x3e240d[_0x1afb92(0x142)],0xc8)&&(_0x5c71a4[_0x1afb92(0x218)](_0x5c71a4[_0x1afb92(0x1e3)],_0x5c71a4['iqdNa'])?(_0x59287b='Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Non\x20200\x20response\x20from\x20server!\x20'+JSON[_0x1afb92(0x1b3)](_0x3e240d[_0x1afb92(0xf7)]),await _0x5c71a4[_0x1afb92(0x263)](reportToGalactusAndSendToEDS,_0x59867a,_0x520f95,_0x59287b,messageTypes[_0x1afb92(0x221)],_0x5c71a4[_0x1afb92(0x21a)],_0x5c71a4['sfaEq'],_0x5c71a4[_0x1afb92(0x154)]),logger[_0x1afb92(0x252)](_0x59287b),process[_0x1afb92(0x17c)](0x1)):_0x46cf83['info'](_0x1afb92(0x15d)+_0x13441b+'\x20'));const _0x462909=JSON[_0x1afb92(0x18e)](_0x3e240d[_0x1afb92(0xf7)]),_0x3264a2={};_0x3264a2['type']=WS_EVENTS['CLI_RUN_STARTED'],_0x3264a2[_0x1afb92(0x1a3)]=_0x5c71a4[_0x1afb92(0x239)],webSocketUtils[_0x1afb92(0x163)](_0x520f95,_0x3264a2);const _0x100e9f={};_0x100e9f[_0x1afb92(0x224)]=WS_EVENTS[_0x1afb92(0x136)],_0x100e9f[_0x1afb92(0x1a3)]=_0x5c71a4['TsJvJ'],webSocketUtils['sendEventToBackend'](_0x520f95,_0x100e9f);_0x462909['alreadyPresent']&&(_0x5c71a4[_0x1afb92(0x14a)](_0x5c71a4[_0x1afb92(0x213)],_0x5c71a4[_0x1afb92(0x213)])?_0x5c71a4[_0x1afb92(0xc3)](_0xeff51f,_0x110b3d[_0x1afb92(0x13a)]):(_0x59287b=_0x1afb92(0xd1)+_0x2878e7+_0x1afb92(0x208),await _0x5c71a4[_0x1afb92(0x263)](reportToGalactusAndSendToEDS,_0x59867a,_0x520f95,_0x59287b,messageTypes[_0x1afb92(0x221)],_0x5c71a4['LjwCX'],_0x5c71a4[_0x1afb92(0x175)],_0x5c71a4[_0x1afb92(0x154)]),logger['error'](_0x59287b),process['exit'](0x1)));const _0x68a94f=_0x462909[_0x1afb92(0x150)];let _0x4a7877=_0x68a94f[_0x462909[_0x1afb92(0x1c5)]];_0x59867a['gridProfile']&&(_0x5c71a4['uyJDq'](_0x5c71a4['CEhHk'],_0x5c71a4[_0x1afb92(0x21e)])?_0x451ca1=_0x5c71a4[_0x1afb92(0x138)]:_0x4a7877=_0x68a94f[_0x59867a[_0x1afb92(0xdd)]]);global_registry['enableHubHa']=![];if(_0x59867a[_0x1afb92(0x1ed)]){if(_0x5c71a4[_0x1afb92(0x14b)](_0x5c71a4[_0x1afb92(0x18c)],_0x5c71a4['JLhyo'])){const _0x5a49d2=_0x5c71a4[_0x1afb92(0x226)][_0x1afb92(0x12c)]('|');let _0x32f219=0x0;while(!![]){switch(_0x5a49d2[_0x32f219++]){case'0':_0x3b562f['clusterRegion']=_0xd9f45b;continue;case'1':_0x52856e[_0x1afb92(0x17e)]=_0x105681[_0x1afb92(0x17e)];continue;case'2':const _0x545a84={};_0x545a84[_0x1afb92(0x224)]=_0x553a5b[_0x1afb92(0x136)],_0x545a84[_0x1afb92(0x1a3)]=_0x1fd109,_0x387b99[_0x1afb92(0x163)](_0x41415e,_0x545a84);continue;case'3':_0x241f34[_0x1afb92(0x1d3)]=_0x1f2a4e;continue;case'4':_0x284cd9[_0x1afb92(0x1ff)]=_0x5161d6[_0x1afb92(0x1ff)];continue;case'5':_0x5f2cc3[_0x1afb92(0x1db)]=_0x3af3e2;continue;case'6':_0x55af5a=_0x1afb92(0x201)+_0x4f4aaa+_0x1afb92(0xea)+_0x2f577b+'\x27';continue;case'7':const _0x35eb16={};_0x35eb16['type']=_0x127cb0[_0x1afb92(0x23d)],_0x35eb16[_0x1afb92(0x1a3)]=_0x5c71a4[_0x1afb92(0x239)],_0x4c0b9a[_0x1afb92(0x163)](_0x26737f,_0x35eb16);continue;case'8':_0x1146ab['info'](_0x3a1642);continue;}break;}}else{const _0x1a1f59=_0x5c71a4[_0x1afb92(0x19f)][_0x1afb92(0x12c)]('|');let _0x25d4ac=0x0;while(!![]){switch(_0x1a1f59[_0x25d4ac++]){case'0':global_registry[_0x1afb92(0x170)]=!![];continue;case'1':logger[_0x1afb92(0x1a1)](_0x5c71a4[_0x1afb92(0x254)]);continue;case'2':global_registry['hubHaNameSpace']=_0x5c71a4[_0x1afb92(0xd0)];continue;case'3':global_registry[_0x1afb92(0x238)]=_0x5c71a4[_0x1afb92(0xd3)];continue;case'4':global_registry[_0x1afb92(0x1bb)]=_0x5c71a4[_0x1afb92(0x1d0)];continue;}break;}}}if(_0x5c71a4[_0x1afb92(0x1b6)](_0x1fefd3,![])&&_0x5c71a4['uyJDq'](_0x246659,![])){if(_0x5c71a4['kloWX'](_0x5c71a4[_0x1afb92(0x25f)],_0x5c71a4[_0x1afb92(0x126)])){const _0x1a6b3a={};_0x1a6b3a[_0x1afb92(0x220)]=_0x5c71a4['GrIne'],_0x1a6b3a[_0x1afb92(0x224)]=_0x5c71a4['hktIy'];const _0x21a77b={};_0x21a77b[_0x1afb92(0x220)]=_0x5c71a4[_0x1afb92(0x18d)],_0x21a77b['type']=_0x5c71a4[_0x1afb92(0x26a)];const _0x903406={};_0x903406[_0x1afb92(0x220)]=_0x5c71a4[_0x1afb92(0x14f)],_0x903406[_0x1afb92(0x224)]=_0x5c71a4[_0x1afb92(0x26a)];const _0x36e719={};_0x36e719['description']=_0x5c71a4['fcqxj'],_0x36e719[_0x1afb92(0x224)]=_0x5c71a4['hktIy'];const _0xcfb68={};_0xcfb68['description']=_0x5c71a4[_0x1afb92(0x1a2)],_0xcfb68[_0x1afb92(0x224)]=_0x5c71a4[_0x1afb92(0x26a)];const _0x98d93d={};_0x98d93d[_0x1afb92(0x220)]=_0x5c71a4['aHQRg'],_0x98d93d[_0x1afb92(0x224)]=_0x5c71a4['hktIy'];const _0x47bb2e={};_0x47bb2e[_0x1afb92(0x220)]=_0x5c71a4[_0x1afb92(0x18f)],_0x47bb2e[_0x1afb92(0x224)]=_0x5c71a4[_0x1afb92(0x180)],_0x47bb2e[_0x1afb92(0x1df)]=![];const _0x53e389={};_0x53e389[_0x1afb92(0x220)]=_0x5c71a4[_0x1afb92(0x1ad)],_0x53e389[_0x1afb92(0x224)]=_0x5c71a4[_0x1afb92(0x180)],_0x53e389[_0x1afb92(0x1df)]=![];const _0x2a3fe0={};return _0x2a3fe0[_0x1afb92(0x23b)]=_0x1a6b3a,_0x2a3fe0['grid-profile']=_0x21a77b,_0x2a3fe0[_0x1afb92(0x1b7)]=_0x903406,_0x2a3fe0[_0x1afb92(0x161)]=_0x36e719,_0x2a3fe0[_0x1afb92(0xfe)]=_0xcfb68,_0x2a3fe0[_0x1afb92(0x145)]=_0x98d93d,_0x2a3fe0[_0x1afb92(0x195)]=_0x47bb2e,_0x2a3fe0[_0x1afb92(0x1f2)]=_0x53e389,_0x3e101d[_0x1afb92(0x1b9)](_0x220cdc[_0x1afb92(0x250)])[_0x1afb92(0x1a6)](_0x39c008)[_0x1afb92(0xe2)](_0x2a3fe0)[_0x1afb92(0x248)](_0x5c71a4['GDZiA'])[_0x1afb92(0x114)];}else{_0x5c71a4[_0x1afb92(0x20e)](_0x4a7877,undefined)&&(_0x5c71a4['hMLhn'](_0x5c71a4[_0x1afb92(0x253)],_0x5c71a4[_0x1afb92(0x257)])?(_0x59287b=_0x5c71a4['KKOGx'],await _0x5c71a4[_0x1afb92(0xe4)](reportToGalactusAndSendToEDS,_0x59867a,_0x520f95,_0x59287b,messageTypes[_0x1afb92(0x221)],_0x5c71a4[_0x1afb92(0x21a)],_0x5c71a4[_0x1afb92(0x119)],_0x5c71a4[_0x1afb92(0x154)]),logger[_0x1afb92(0x252)](_0x59287b),process[_0x1afb92(0x17c)](0x1)):(_0x238d77['region']=_0x5de2ef,_0x17d92['cloudProvider']=_0x511d8d,_0x5203ee['newCluster']=!![]));global_registry[_0x1afb92(0x148)]=_0x4a7877['id'],_0x59287b=_0x1afb92(0xcd)+_0x2878e7+'\x20using\x20\x27'+_0x4a7877[_0x1afb92(0xda)]+'\x27\x20grid\x20profile',logger[_0x1afb92(0x1a1)](_0x59287b);const _0x460a57={};_0x460a57[_0x1afb92(0x224)]=WS_EVENTS[_0x1afb92(0x136)],_0x460a57[_0x1afb92(0x1a3)]=_0x59287b,webSocketUtils['sendEventToBackend'](_0x520f95,_0x460a57),_0x2373ab=_0x4a7877[_0x1afb92(0x1d3)],_0x2f62dd=_0x4a7877[_0x1afb92(0x1db)],_0x3de44c=_0x4a7877[_0x1afb92(0xfe)],_0xe0d30b=_0x4a7877[_0x1afb92(0x11a)],_0x2c4da4=_0x4a7877[_0x1afb92(0x16b)],_0x2a53d3=_0x4a7877[_0x1afb92(0x227)],_0x59a19a=_0x4a7877[_0x1afb92(0x245)],_0x581844=_0x4a7877[_0x1afb92(0x19e)],_0x4d5b49=_0x4a7877[_0x1afb92(0x24c)],_0x4cd6a6=_0x4a7877[_0x1afb92(0x21b)],_0x1f0cb5=_0x4a7877[_0x1afb92(0x194)],_0x265537=_0x462909[_0x1afb92(0x1ff)],_0x4e0016=_0x462909[_0x1afb92(0x17e)],_0x2a53d3&&_0x5c71a4[_0x1afb92(0x1b5)](_0x2a53d3[_0x1afb92(0x1bd)],0x0)&&(_0x5c71a4[_0x1afb92(0x18b)](_0x5c71a4[_0x1afb92(0x25e)],_0x5c71a4[_0x1afb92(0x25e)])?_0x1b9c3e=null:_0x2a53d3=null),_0x581844&&_0x5c71a4[_0x1afb92(0x25c)](_0x581844['length'],0x0)&&(_0x5c71a4[_0x1afb92(0x1b6)](_0x5c71a4[_0x1afb92(0xd6)],_0x5c71a4[_0x1afb92(0x108)])?_0x1e01f5=!![]:_0x581844=null),_0x5c71a4['MnWlm'](_0x4a7877[_0x1afb92(0x15c)],undefined)&&_0x4a7877[_0x1afb92(0x15c)]&&(_0x5c71a4[_0x1afb92(0x18b)](_0x5c71a4[_0x1afb92(0x1f4)],_0x5c71a4['UBmDR'])?(_0x5e28ee=_0x25cfe0[_0x1afb92(0x268)],_0x36347d=_0x5c71a4['oXAXy']):global_registry[_0x1afb92(0x16f)]=!![]),_0x5c71a4[_0x1afb92(0x172)](updateGlobalRegistryWithConfig,_0x2373ab,_0x2f62dd,_0x3de44c,_0xe0d30b,_0x2c4da4,_0x4d5b49,_0x4a7877,_0x265537,_0x4e0016,_0x4cd6a6,_0x1f0cb5),global_registry[_0x1afb92(0x170)]&&(_0x5c71a4[_0x1afb92(0x237)](_0x5c71a4[_0x1afb92(0x1d9)],_0x5c71a4['HrWLw'])?_0x5c71a4[_0x1afb92(0x110)](updateGlobalRegistryForHubHa,_0x462909[_0x1afb92(0x14c)]):_0x358e6f[_0x1afb92(0x1a1)](_0x1afb92(0x111)+_0x50871b[_0x1afb92(0x1b3)](_0x1c3256)+'\x20'));}}else{if(_0x5c71a4[_0x1afb92(0x24e)](_0x246659,!![])){if(_0x5c71a4[_0x1afb92(0x18a)](_0x5c71a4[_0x1afb92(0x1c1)],_0x5c71a4[_0x1afb92(0x1c1)])){const _0x15a35e=_0x5c71a4['rvQEN'][_0x1afb92(0x12c)]('|');let _0x59cc03=0x0;while(!![]){switch(_0x15a35e[_0x59cc03++]){case'0':_0x3c976c=null;continue;case'1':_0x2e4de2=_0x36e382[_0x1afb92(0x1ff)];continue;case'2':_0x311902[_0x1afb92(0x1a1)](_0x5280f7);continue;case'3':const _0x4324b3={};_0x4324b3[_0x1afb92(0x224)]=_0x3bdde4[_0x1afb92(0x136)],_0x4324b3[_0x1afb92(0x1a3)]=_0x27b397,_0x55a302[_0x1afb92(0x163)](_0x3e0ffc,_0x4324b3);continue;case'4':_0x32e50a=_0x2f4c19[_0x1afb92(0x194)];continue;case'5':_0x174411=_0xda2c42[_0x1afb92(0x11a)];continue;case'6':_0x204901=_0x276eec[_0x1afb92(0x21b)];continue;case'7':_0x5c71a4[_0x1afb92(0x14a)](_0x4701e2[_0x1afb92(0x15c)],_0x15ad70)&&_0x40cffa[_0x1afb92(0x15c)]&&(_0x44904e[_0x1afb92(0x16f)]=!![]);continue;case'8':_0x183412=null;continue;case'9':_0x4ac59b=null;continue;case'10':_0x2e3c0a=_0x465903[_0x1afb92(0x16b)];continue;case'11':_0x2b0363['enableHubHa']&&_0x5c71a4[_0x1afb92(0xc3)](_0x42ebc2,_0x417233[_0x1afb92(0x13a)]);continue;case'12':_0x365d46=_0x28fca0[_0x1afb92(0x24c)];continue;case'13':_0x5c71a4[_0x1afb92(0x141)](_0x3b7bc1,_0x35535f,_0x1ead72,_0x25feeb,_0x44c6b0,_0x5e6b3f,_0x341c48,_0x499bad,_0x122cf2,_0x45ae7b,_0x11ba9a,_0x528da1);continue;case'14':_0x4eee44=_0x1afb92(0x1b1)+_0x54d30a;continue;case'15':_0x220dd9=_0x40ad4c['browserVersion'];continue;}break;}}else{_0x59287b='Will\x20be\x20spawning\x20a\x20new\x20cluster\x20and\x20the\x20grid\x20'+_0x2878e7,logger['info'](_0x59287b);const _0x39ff90={};_0x39ff90[_0x1afb92(0x224)]=WS_EVENTS[_0x1afb92(0x136)],_0x39ff90[_0x1afb92(0x1a3)]=_0x59287b,webSocketUtils[_0x1afb92(0x163)](_0x520f95,_0x39ff90),_0xe0d30b=_0x4a7877[_0x1afb92(0x11a)],_0x2c4da4=_0x4a7877[_0x1afb92(0x16b)],_0x2a53d3=null,_0x59a19a=null,_0x581844=null,_0x4d5b49=_0x4a7877[_0x1afb92(0x24c)],_0x4cd6a6=_0x4a7877[_0x1afb92(0x21b)],_0x1f0cb5=_0x4a7877[_0x1afb92(0x194)],_0x265537=_0x462909[_0x1afb92(0x1ff)],_0x4e0016=_0x462909[_0x1afb92(0x17e)];_0x5c71a4['quXaJ'](_0x4a7877['privateGrid'],undefined)&&_0x4a7877[_0x1afb92(0x15c)]&&(_0x5c71a4[_0x1afb92(0xdf)](_0x5c71a4[_0x1afb92(0x1f8)],_0x5c71a4[_0x1afb92(0x265)])?_0x5c71a4['iVNlv'](_0xa67929,_0x376c30[_0x1afb92(0x14c)]):global_registry['isPrivateGrid']=!![]);_0x5c71a4[_0x1afb92(0x141)](updateGlobalRegistryWithConfig,_0x2373ab,_0x2f62dd,_0x3de44c,_0xe0d30b,_0x2c4da4,_0x4d5b49,_0x4a7877,_0x265537,_0x4e0016,_0x4cd6a6,_0x1f0cb5);if(global_registry[_0x1afb92(0x170)]){if(_0x5c71a4[_0x1afb92(0x127)](_0x5c71a4[_0x1afb92(0x264)],_0x5c71a4[_0x1afb92(0x264)]))_0x5c71a4[_0x1afb92(0x243)](updateGlobalRegistryForHubHa,_0x462909[_0x1afb92(0x13a)]);else{const _0x2e7425={};_0x2e7425[_0x1afb92(0x224)]=_0x5eebd1[_0x1afb92(0x136)],_0x2e7425['message']=_0x32026e,_0x583a68['sendEventToBackend'](_0x436bde,_0x2e7425,_0x5c71a4[_0x1afb92(0x154)],!![]);}}}}else{if(_0x5c71a4['MnWlm'](_0x5c71a4[_0x1afb92(0x1c0)],_0x5c71a4[_0x1afb92(0x214)])){const _0x3d8745=_0x5c71a4[_0x1afb92(0x11d)][_0x1afb92(0x12c)]('|');let _0x16cc3b=0x0;while(!![]){switch(_0x3d8745[_0x16cc3b++]){case'0':logger[_0x1afb92(0x1a1)](_0x59287b);continue;case'1':_0x59287b=_0x1afb92(0x201)+_0x2878e7+_0x1afb92(0xea)+_0x2f62dd+'\x27';continue;case'2':global_registry['clusterRegion']=_0x3de44c;continue;case'3':global_registry[_0x1afb92(0x1ff)]=_0x462909[_0x1afb92(0x1ff)];continue;case'4':global_registry[_0x1afb92(0x17e)]=_0x462909['browserVersion'];continue;case'5':const _0x1d5daa={};_0x1d5daa['type']=WS_EVENTS[_0x1afb92(0x136)],_0x1d5daa['message']=_0x59287b,webSocketUtils[_0x1afb92(0x163)](_0x520f95,_0x1d5daa);continue;case'6':const _0x48ae35={};_0x48ae35[_0x1afb92(0x224)]=WS_EVENTS[_0x1afb92(0x23d)],_0x48ae35[_0x1afb92(0x1a3)]=_0x5c71a4['rtsCS'],webSocketUtils[_0x1afb92(0x163)](_0x520f95,_0x48ae35);continue;case'7':global_registry[_0x1afb92(0x1db)]=_0x2f62dd;continue;case'8':global_registry[_0x1afb92(0x1d3)]=_0x2373ab;continue;}break;}}else _0x54ab5e[_0x1afb92(0x16f)]=!![];}}const _0x4422e4=await _0x5c71a4[_0x1afb92(0x184)](getCloudProviderObject,_0x2373ab,_0x2f62dd,_0x2878e7,_0x520f95,webSocketUtils,_0x59867a);if(_0x5c71a4['yucGU'](_0x2373ab,AZURE)){if(_0x5c71a4['iviMa'](_0x5c71a4['SYOtW'],_0x5c71a4[_0x1afb92(0x1ae)])){const _0x1aa598=_0x5c71a4['rwPLJ']['split']('|');let _0x405dba=0x0;while(!![]){switch(_0x1aa598[_0x405dba++]){case'0':_0x33a9c8[_0x1afb92(0x238)]=_0x5c71a4[_0x1afb92(0xd3)];continue;case'1':_0x422079[_0x1afb92(0x1bf)]=_0x5c71a4[_0x1afb92(0xd0)];continue;case'2':_0x49c837['enableHubHa']=!![];continue;case'3':_0x344d7b[_0x1afb92(0x1a1)](_0x5c71a4[_0x1afb92(0x254)]);continue;case'4':_0x33a9f7[_0x1afb92(0x1bb)]=_0x5c71a4[_0x1afb92(0x1d0)];continue;}break;}}else _0x4422e4[_0x1afb92(0x1fe)]();}let _0x209d61;if(_0x5c71a4[_0x1afb92(0x1ba)](_0x1fefd3,![])){_0x59287b=_0x1afb92(0x1b2)+_0x3de44c+').';const _0x496fb7={};_0x496fb7[_0x1afb92(0x224)]=WS_EVENTS[_0x1afb92(0x136)],_0x496fb7[_0x1afb92(0x1a3)]=_0x59287b,webSocketUtils[_0x1afb92(0x163)](_0x520f95,_0x496fb7),logger[_0x1afb92(0x1a1)](_0x59287b);const _0x4a95d4=await _0x4422e4[_0x1afb92(0x187)]();if(_0x4a95d4){if(_0x5c71a4[_0x1afb92(0xdf)](_0x5c71a4[_0x1afb92(0x21d)],_0x5c71a4[_0x1afb92(0x21d)])){const _0x181253={};_0x181253[_0x1afb92(0x224)]=WS_EVENTS[_0x1afb92(0x136)],_0x181253['message']='Cluster\x20'+_0x2f62dd+_0x1afb92(0xf3),webSocketUtils['sendEventToBackend'](_0x520f95,_0x181253,_0x5c71a4[_0x1afb92(0x112)]),logger['info']('Cluster\x20'+_0x2f62dd+_0x1afb92(0xf3)),_0x1fefd3=!![];if(_0x5c71a4[_0x1afb92(0x1b6)](_0x246659,!![])){if(_0x5c71a4[_0x1afb92(0x127)](_0x5c71a4[_0x1afb92(0x17a)],_0x5c71a4[_0x1afb92(0x222)]))throw new _0x12b474(_0x1afb92(0x1b8)+_0x1fd982+_0x1afb92(0xdc));else throw new Error(_0x1afb92(0x1b8)+_0x2f62dd+'\x20is\x20already\x20present.\x20Cannot\x20spawn\x20a\x20new\x20cluster');}}else _0x4581be[_0x1afb92(0x16f)]=!![];}else{const _0x350b42={};_0x350b42['type']=WS_EVENTS[_0x1afb92(0x136)],_0x350b42[_0x1afb92(0x1a3)]=_0x5c71a4[_0x1afb92(0x13c)],webSocketUtils[_0x1afb92(0x163)](_0x520f95,_0x350b42),logger['info'](_0x5c71a4['IxwKI']);const _0x4a8916=_0x5c71a4[_0x1afb92(0x183)](_0x2a53d3,null)&&_0x5c71a4[_0x1afb92(0x251)](_0x2a53d3,undefined),_0x30b2ec=_0x5c71a4[_0x1afb92(0x183)](_0x581844,null)&&_0x5c71a4['ggMfQ'](_0x581844,undefined)&&_0x5c71a4[_0x1afb92(0x100)](_0x581844['length'],0x0);if(_0x4a8916){_0x5c71a4['iviMa'](_0x30b2ec,![])&&(_0x59287b=_0x5c71a4['UdeMC'],await _0x5c71a4['SXzyx'](reportToGalactusAndSendToEDS,_0x59867a,_0x520f95,_0x59287b,messageTypes['ERROR'],_0x5c71a4[_0x1afb92(0x21a)],_0x5c71a4['yGEEs'],_0x5c71a4['QhpCX']),logger['error'](_0x59287b),process[_0x1afb92(0x17c)](0x1));const _0x1ed985=await _0x4422e4[_0x1afb92(0x134)](_0x2a53d3);_0x5c71a4[_0x1afb92(0x127)](_0x1ed985,![])?(_0x59287b=_0x5c71a4['IbqQl'],await _0x5c71a4[_0x1afb92(0x263)](reportToGalactusAndSendToEDS,_0x59867a,_0x520f95,_0x59287b,messageTypes['ERROR'],_0x5c71a4[_0x1afb92(0x21a)],_0x5c71a4['Dwkxg'],_0x5c71a4['QhpCX']),logger[_0x1afb92(0x252)](_0x59287b),process[_0x1afb92(0x17c)](0x1)):logger['info']('Found\x20VPC:\x20'+_0x2a53d3+'\x20');const _0xde473e=await _0x4422e4['isSubnetsValid'](_0x581844,_0x2a53d3);_0x5c71a4[_0x1afb92(0x24e)](_0xde473e[0x0],![])?(_0x59287b=_0x1afb92(0x258)+JSON[_0x1afb92(0x1b3)](_0xde473e[0x1])+_0x1afb92(0x1a5)+_0x2a53d3+_0x1afb92(0x1ca),await _0x5c71a4[_0x1afb92(0x109)](reportToGalactusAndSendToEDS,_0x59867a,_0x520f95,_0x59287b,messageTypes[_0x1afb92(0x221)],_0x5c71a4[_0x1afb92(0x21a)],_0x5c71a4[_0x1afb92(0x120)],_0x5c71a4[_0x1afb92(0x154)]),logger[_0x1afb92(0x252)](_0x59287b),process[_0x1afb92(0x17c)](0x1)):logger[_0x1afb92(0x1a1)]('Found\x20Subnets:\x20'+JSON[_0x1afb92(0x1b3)](_0x581844)+'\x20'),[_0x2a53d3,_0x581844]=await _0x4422e4['setupNewCluster'](_0x2a53d3,_0x581844);}else{const _0x1b614c=_0x5c71a4['zswbQ'][_0x1afb92(0x12c)]('|');let _0x218ec7=0x0;while(!![]){switch(_0x1b614c[_0x218ec7++]){case'0':const _0x289ead={};_0x289ead[_0x1afb92(0x224)]=WS_EVENTS['LOG'],_0x289ead['message']=_0x5c71a4['rTjrC'],webSocketUtils[_0x1afb92(0x163)](_0x520f95,_0x289ead);continue;case'1':logger[_0x1afb92(0x1a1)](_0x5c71a4[_0x1afb92(0x1cd)]);continue;case'2':logger['info'](_0x5c71a4[_0x1afb92(0x1d5)]);continue;case'3':[_0x2a53d3,_0x581844]=await _0x4422e4['setupNewCluster'](_0x2a53d3,_0x581844);continue;case'4':const _0x6e800={};_0x6e800[_0x1afb92(0x224)]=WS_EVENTS['LOG'],_0x6e800[_0x1afb92(0x1a3)]=_0x5c71a4[_0x1afb92(0x1d5)],webSocketUtils[_0x1afb92(0x163)](_0x520f95,_0x6e800);continue;}break;}}}}_0x1fefd3&&_0x5c71a4['dioYc'](_0x2373ab,AZURE)&&(await _0x4422e4[_0x1afb92(0x115)](),await _0x4422e4['createOtherResources']());const [_0x2f9d83,_0x2f4cfb,_0x53f910,_0x3fc42b,_0x43172b,_0x192140,_0x5c8cbd]=await _0x5c71a4[_0x1afb92(0x225)](createK8sClient,_0x4422e4,_0x59867a[_0x1afb92(0x219)]);_0x5c71a4[_0x1afb92(0x10b)](_0x1fefd3,![])&&_0x5c71a4[_0x1afb92(0x1fa)](_0x2373ab,AWS)&&(global_registry[_0x1afb92(0x167)]=!![],_0x209d61=await _0x4422e4[_0x1afb92(0x128)](_0x2f9d83,_0x59867a));if(_0x5c71a4[_0x1afb92(0x158)](_0x1fefd3,![])&&global_registry[_0x1afb92(0x170)])try{await _0x4422e4['setupHubHa'](_0x192140,_0x5c8cbd,_0x59867a,_0x2a53d3,_0x581844);const _0x5c6589={};_0x5c6589['type']=WS_EVENTS[_0x1afb92(0x136)],_0x5c6589[_0x1afb92(0x1a3)]=_0x5c71a4['vpUem'],webSocketUtils[_0x1afb92(0x163)](_0x520f95,_0x5c6589);!await _0x5c71a4['MJsbe'](namespaceExists,_0x2f9d83,global_registry[_0x1afb92(0x1bf)])&&await _0x5c71a4[_0x1afb92(0x125)](createNamespace,_0x2f9d83,global_registry['hubHaNameSpace']);logger[_0x1afb92(0x1a1)](_0x5c71a4[_0x1afb92(0x182)]);let _0x27fba3=await fs[_0x1afb92(0xce)](path[_0x1afb92(0x207)](__dirname,_0x5c71a4[_0x1afb92(0x16e)],_0x5c71a4[_0x1afb92(0xed)],_0x5c71a4['jpVWq'],_0x5c71a4['jEXSI']),_0x5c71a4['IpgII']);_0x27fba3=_0x27fba3['replace'](/<RedisClientPassword>/g,_0x5c71a4[_0x1afb92(0x15f)](encodeBase64,global_registry[_0x1afb92(0x238)])),_0x27fba3=_0x27fba3[_0x1afb92(0x1cb)](/<KafkaClientPassword>/g,_0x5c71a4[_0x1afb92(0x243)](encodeBase64,global_registry[_0x1afb92(0x1bb)])),_0x27fba3=_0x27fba3['replace'](/<BstackUsername>/g,_0x5c71a4[_0x1afb92(0xc3)](encodeBase64,global_registry[_0x1afb92(0xf5)])),_0x27fba3=_0x27fba3[_0x1afb92(0x1cb)](/<BstackAccessKey>/g,_0x5c71a4[_0x1afb92(0x1b0)](encodeBase64,global_registry[_0x1afb92(0x165)]));const _0x127581=yaml[_0x1afb92(0x1dc)](_0x27fba3);await _0x5c71a4[_0x1afb92(0x1ab)](kubeApply,_0x127581,_0x5c8cbd),logger['info'](_0x5c71a4[_0x1afb92(0x216)]);let _0x48bf60=_0x5c71a4[_0x1afb92(0x135)];if(_0x5c71a4[_0x1afb92(0x24e)](_0x2373ab,AZURE))_0x48bf60=_0x5c71a4[_0x1afb92(0x138)];else _0x5c71a4[_0x1afb92(0x14d)](_0x2373ab,GCP)&&(_0x48bf60=_0x5c71a4['mcgwS']);logger[_0x1afb92(0x1a1)](_0x5c71a4[_0x1afb92(0x1d8)]);let _0x5870ce=await fs[_0x1afb92(0xce)](path['join'](__dirname,_0x5c71a4[_0x1afb92(0x16e)],_0x5c71a4[_0x1afb92(0xed)],_0x5c71a4[_0x1afb92(0x169)],_0x5c71a4[_0x1afb92(0x23f)]),_0x5c71a4[_0x1afb92(0x1a4)]);_0x5870ce=_0x5870ce[_0x1afb92(0x1cb)](/<HubHaNameSpace>/g,global_registry['hubHaNameSpace']),_0x5870ce=_0x5870ce[_0x1afb92(0x1cb)](/<StorageClassName>/g,_0x48bf60);const _0x4e79b6=yaml['loadAll'](_0x5870ce);await _0x5c71a4[_0x1afb92(0x225)](kubeApply,_0x4e79b6,_0x5c8cbd),logger[_0x1afb92(0x1a1)](_0x5c71a4[_0x1afb92(0x203)]),logger[_0x1afb92(0x1a1)](_0x5c71a4[_0x1afb92(0x12d)]);let _0xe26736=await fs[_0x1afb92(0xce)](path[_0x1afb92(0x207)](__dirname,_0x5c71a4['YFAiR'],_0x5c71a4[_0x1afb92(0xed)],_0x5c71a4[_0x1afb92(0x169)],_0x5c71a4[_0x1afb92(0x17f)]),_0x5c71a4[_0x1afb92(0x1a4)]);_0xe26736=_0xe26736[_0x1afb92(0x1cb)](/<HubHaNameSpace>/g,global_registry[_0x1afb92(0x1bf)]),_0xe26736=_0xe26736[_0x1afb92(0x1cb)](/<StorageClassName>/g,_0x48bf60);const _0x2ca15e=yaml[_0x1afb92(0x1dc)](_0xe26736);await _0x5c71a4[_0x1afb92(0x206)](kubeApply,_0x2ca15e,_0x5c8cbd),logger[_0x1afb92(0x1a1)](_0x5c71a4[_0x1afb92(0xc5)]),logger[_0x1afb92(0x1a1)](_0x5c71a4['PCStm']);let _0x41f4d0=await fs[_0x1afb92(0xce)](path[_0x1afb92(0x207)](__dirname,_0x5c71a4['YFAiR'],_0x5c71a4[_0x1afb92(0xed)],_0x5c71a4[_0x1afb92(0x169)],_0x5c71a4[_0x1afb92(0x133)]),_0x5c71a4['IpgII']);_0x41f4d0=_0x41f4d0['replace'](/<UploaderImageVersion>/g,global_registry[_0x1afb92(0x12f)]),_0x41f4d0=_0x41f4d0[_0x1afb92(0x1cb)](/<HubHaNameSpace>/g,global_registry[_0x1afb92(0x1bf)]);const _0x5ba70f=yaml[_0x1afb92(0x1dc)](_0x41f4d0);_0x5c71a4[_0x1afb92(0x158)](global_registry[_0x1afb92(0x1d3)],AZURE)&&(_0x5ba70f[0x0][_0x1afb92(0x164)]['template']['metadata'][_0x1afb92(0x262)]={'azure.workload.identity/use':_0x5c71a4[_0x1afb92(0xfb)],..._0x5ba70f[0x0]['spec'][_0x1afb92(0xdb)][_0x1afb92(0x1f1)][_0x1afb92(0x262)]},_0x5ba70f[0x0][_0x1afb92(0x164)]['template']['spec'][_0x1afb92(0x1aa)]=_0x5c71a4[_0x1afb92(0xde)]);await _0x5c71a4[_0x1afb92(0x1dd)](kubeApply,_0x5ba70f,_0x5c8cbd),logger[_0x1afb92(0x1a1)](_0x5c71a4['IRjCZ']);const _0xe66312={};_0xe66312[_0x1afb92(0x224)]=WS_EVENTS[_0x1afb92(0x136)],_0xe66312[_0x1afb92(0x1a3)]=_0x5c71a4[_0x1afb92(0x1cf)],webSocketUtils[_0x1afb92(0x163)](_0x520f95,_0xe66312),logger[_0x1afb92(0x1a1)](_0x5c71a4['oOaMX']);}catch(_0x25c30c){const _0x1d3e9d=_0x5c71a4[_0x1afb92(0x1ce)]['split']('|');let _0x265fe1=0x0;while(!![]){switch(_0x1d3e9d[_0x265fe1++]){case'0':await _0x4422e4[_0x1afb92(0x1f5)](_0x2f9d83,global_registry[_0x1afb92(0x132)]);continue;case'1':_0x59287b=_0x1afb92(0x10d)+_0x25c30c[_0x1afb92(0x1a3)];continue;case'2':process['exit'](0x1);continue;case'3':logger[_0x1afb92(0x252)](_0x59287b);continue;case'4':await _0x5c71a4['SXzyx'](reportToGalactusAndSendToEDS,_0x59867a,_0x520f95,_0x59287b,messageTypes['ERROR'],_0x5c71a4[_0x1afb92(0x21a)],_0x5c71a4[_0x1afb92(0xe8)],_0x5c71a4['QhpCX']);continue;}break;}}try{_0x3371a5=_0x5c71a4['YiCuQ'](kebabCase,_0x2878e7),logger[_0x1afb92(0x1a1)](_0x5c71a4['xdbLQ']);const _0x20fbc1={};_0x20fbc1[_0x1afb92(0x224)]=WS_EVENTS[_0x1afb92(0x136)],_0x20fbc1['message']=_0x5c71a4[_0x1afb92(0x19d)],webSocketUtils['sendEventToBackend'](_0x520f95,_0x20fbc1);if(_0x5c71a4[_0x1afb92(0x14a)](_0x3371a5,_0x5c71a4['MAfTs'])){const _0x2565a6={};_0x2565a6[_0x1afb92(0xc2)]=_0x5c71a4[_0x1afb92(0x1d1)],_0x2565a6[_0x1afb92(0xcf)]=_0x5c71a4[_0x1afb92(0x1d1)];const _0x3dda6c={};_0x3dda6c[_0x1afb92(0xda)]=_0x3371a5,_0x3dda6c['annotations']=_0x2565a6;const _0x54b0bf={};_0x54b0bf['metadata']=_0x3dda6c;const _0x11cbde=_0x54b0bf,_0x2b58e3={};_0x2b58e3['body']=_0x11cbde,await _0x2f9d83[_0x1afb92(0x157)](_0x2b58e3),logger[_0x1afb92(0x1a1)](_0x5c71a4[_0x1afb92(0x153)]);}const _0x3e6def={};_0x3e6def['type']=WS_EVENTS['LOG'],_0x3e6def[_0x1afb92(0x1a3)]=_0x5c71a4[_0x1afb92(0x200)],webSocketUtils['sendEventToBackend'](_0x520f95,_0x3e6def);const _0xbd264f={};_0xbd264f[_0x1afb92(0x224)]=WS_EVENTS[_0x1afb92(0x136)],_0xbd264f['message']=_0x5c71a4[_0x1afb92(0x13f)],webSocketUtils[_0x1afb92(0x163)](_0x520f95,_0xbd264f),logger[_0x1afb92(0x1a1)](_0x5c71a4[_0x1afb92(0x13d)]);let _0x222135={};_0x5c71a4[_0x1afb92(0x14d)](_0x2373ab,AZURE)&&(_0x222135={'clientId':await _0x4422e4['getResourceClientId'](_0x1afb92(0xf2)+_0x2f62dd)});await _0x5c71a4['vQPQa'](addGridComponents,_0x2f9d83,_0x2f4cfb,_0x53f910,_0x3fc42b,_0x3371a5,_0x2f62dd,_0x209d61,_0x43172b,_0x5c8cbd,_0x222135),_0x59287b=_0x5c71a4[_0x1afb92(0x21f)],logger[_0x1afb92(0x1a1)](_0x59287b);const _0x525750={};_0x525750[_0x1afb92(0x224)]=WS_EVENTS[_0x1afb92(0x136)],_0x525750[_0x1afb92(0x1a3)]=_0x59287b,webSocketUtils[_0x1afb92(0x163)](_0x520f95,_0x525750),_0x59287b=_0x5c71a4['rFEEA'],logger['info'](_0x59287b);const _0x20a6e1={};_0x20a6e1['type']=WS_EVENTS[_0x1afb92(0x136)],_0x20a6e1['message']=_0x59287b,webSocketUtils[_0x1afb92(0x163)](_0x520f95,_0x20a6e1),await _0x5c71a4[_0x1afb92(0xeb)](waitForDeployment,_0x2f4cfb,_0x3371a5,TURBOSCALE_DEPLOYMENT,0x1d4c0);const _0x3e4fdf=await _0x5c71a4[_0x1afb92(0x1ab)](getNamespaceUID,_0x2f9d83,_0x3371a5),_0x5e92b1=global_registry['isPrivateGrid']?_0x5c71a4['MaazX']:_0x5c71a4['RLUAv'],_0x56c8c2={};_0x56c8c2[_0x1afb92(0xda)]=_0x5e92b1,_0x56c8c2['namespace']=_0x5c71a4[_0x1afb92(0x171)];const _0x59e493=await _0x2f9d83[_0x1afb92(0x149)](_0x56c8c2);let _0x3f41c0=_0x4422e4['getGridHostname'](_0x59e493)+'/'+_0x3371a5,_0x1823b8=_0x5c71a4[_0x1afb92(0x11c)];try{const _0x5aaa4a=_0x1afb92(0x1c2)+AG_API_URL+_0x1afb92(0x1a8)+_0x3e4fdf,_0x27d62b=await _0x5c71a4[_0x1afb92(0x1e8)](got,_0x5aaa4a,_0x4ffe96);(_0x5c71a4[_0x1afb92(0x230)](_0x27d62b,null)||_0x5c71a4['NFCih'](_0x27d62b,undefined))&&(_0x59287b=_0x5c71a4['dhWfP'],await _0x5c71a4[_0x1afb92(0x181)](reportToGalactusAndSendToEDS,_0x59867a,_0x520f95,_0x59287b,messageTypes['ERROR'],_0x5c71a4[_0x1afb92(0x21a)],_0x5c71a4[_0x1afb92(0xe6)],_0x5c71a4[_0x1afb92(0x154)]),logger[_0x1afb92(0x252)](_0x59287b),process[_0x1afb92(0x17c)](0x1));_0x5c71a4[_0x1afb92(0x197)](_0x27d62b[_0x1afb92(0x142)],0x191)&&(_0x59287b=_0x5c71a4['UAywX'],await _0x5c71a4[_0x1afb92(0x193)](reportToGalactusAndSendToEDS,_0x59867a,_0x520f95,_0x59287b,messageTypes[_0x1afb92(0x221)],_0x5c71a4[_0x1afb92(0x21a)],_0x5c71a4[_0x1afb92(0x1f6)],_0x5c71a4[_0x1afb92(0x154)]),logger[_0x1afb92(0x252)](_0x59287b),process[_0x1afb92(0x17c)](0x1));_0x5c71a4[_0x1afb92(0x113)](_0x27d62b[_0x1afb92(0x142)],0xc8)&&(_0x59287b=_0x1afb92(0x176)+JSON[_0x1afb92(0x1b3)](_0x27d62b),await _0x5c71a4[_0x1afb92(0x1c6)](reportToGalactusAndSendToEDS,_0x59867a,_0x520f95,_0x59287b,messageTypes['ERROR'],_0x5c71a4['LjwCX'],_0x5c71a4[_0x1afb92(0x1f9)],_0x5c71a4[_0x1afb92(0x154)]),logger['error'](_0x59287b),process[_0x1afb92(0x17c)](0x1));const _0x1c315a=JSON['parse'](_0x27d62b[_0x1afb92(0xf7)]);_0x1c315a['route53']&&(_0x3f41c0=_0x1c315a[_0x1afb92(0x268)],_0x1823b8=_0x5c71a4[_0x1afb92(0x199)]),global_registry[_0x1afb92(0x16f)]&&(_0x1823b8=_0x5c71a4[_0x1afb92(0x11c)]);}catch(_0x4e9771){}_0x59287b=_0x1afb92(0x1af)+_0x3f41c0+'\x20',logger[_0x1afb92(0x1a1)](_0x59287b);const _0x8e257e={};_0x8e257e[_0x1afb92(0x224)]=WS_EVENTS[_0x1afb92(0x136)],_0x8e257e[_0x1afb92(0x1a3)]=_0x59287b,webSocketUtils[_0x1afb92(0x163)](_0x520f95,_0x8e257e),_0x59287b=_0x1afb92(0x24b)+_0x1823b8+_0x1afb92(0x124)+_0x3f41c0+_0x1afb92(0x105),logger[_0x1afb92(0x1a1)](_0x59287b);const _0x874da9={};_0x874da9['type']=WS_EVENTS['LOG'],_0x874da9[_0x1afb92(0x1a3)]=_0x59287b,webSocketUtils['sendEventToBackend'](_0x520f95,_0x874da9);const _0x4d425b={};_0x4d425b['type']=WS_EVENTS[_0x1afb92(0x106)],_0x4d425b[_0x1afb92(0x1a3)]=_0x1afb92(0x16a)+_0x3f41c0,webSocketUtils[_0x1afb92(0x163)](_0x520f95,_0x4d425b),await webSocketUtils[_0x1afb92(0x117)](0x7d0);}catch(_0x1c33cf){logger['error'](_0x1afb92(0xf1)+_0x1c33cf+'\x20\x0a'+JSON[_0x1afb92(0x1b3)](_0x1c33cf[_0x1afb92(0x178)]));if(_0x5c71a4[_0x1afb92(0x25c)](_0x1fefd3,![]))try{logger['info'](_0x5c71a4[_0x1afb92(0x14e)]),await _0x5c71a4['rWWWJ'](removeGridComponents,_0x2f9d83,_0x2f4cfb,_0x53f910,_0x3fc42b,_0x3371a5),await _0x4422e4['deleteCluster'](_0x2f9d83,global_registry[_0x1afb92(0x132)]);}catch(_0x45acc2){logger[_0x1afb92(0x252)](_0x1afb92(0x188)+_0x45acc2+'\x20\x0a'+JSON[_0x1afb92(0x1b3)](_0x45acc2['stack']));}throw _0x1c33cf;}}catch(_0x178d21){const _0x5ecde6=_0x1afb92(0x233)+_0x178d21+'\x20\x0a'+JSON[_0x1afb92(0x1b3)](_0x178d21[_0x1afb92(0x178)]);if(_0x520f95){const _0x1b15cb={};_0x1b15cb[_0x1afb92(0x224)]=WS_EVENTS[_0x1afb92(0x136)],_0x1b15cb[_0x1afb92(0x1a3)]=_0x5ecde6,webSocketUtils[_0x1afb92(0x163)](_0x520f95,_0x1b15cb,_0x5c71a4[_0x1afb92(0x154)],!![]);}await webSocketUtils['delay'](0x7d0);const _0x317248={};_0x317248['error']=_0x5ecde6,await _0x5c71a4['mwafg'](sendInstrumentationEvent,_0x59867a,_0x5c71a4['LjwCX'],messageTypes[_0x1afb92(0x221)],_0x5c71a4[_0x1afb92(0x20c)],_0x317248,_0x59867a),logger[_0x1afb92(0x252)](_0x5ecde6);}process[_0x1afb92(0x17c)](0x0);};function a9_0x509f(){const _0x4450a3=['HhUwO','gridProfiles','kIAwD','toLowerCase','GeNko','QhpCX','XCvaM','CSdBW','createNamespace','xfBhO','Adding\x20Websocket\x20listeners','Invalid\x20Grid\x20Profile.Exiting\x20the\x20CLI.','KaecB','privateGrid','Found\x20VPC:\x20','builder','ZXtvM','iLmMp','cloud-provider','HFhqC','sendEventToBackend','spec','bstackAccesskey','cRppR','isNewAWSCluster','Creating\x20namespace','jpVWq','CLI\x20run\x20finished:\x20','instanceType','INMon','Skip\x20insecure\x20cert\x20verification.','YFAiR','isPrivateGrid','enableHubHa','lqRgs','CzogN','boolean','bitnami-redis.yaml','Iguht','Failed\x20to\x20get\x20grid\x20url\x20from\x20the\x20server.\x20Non\x20200\x20response\x20from\x20server!\x20','username','stack','ZSaGU','EUTBS','kjfdG','exit','newCluster','browserVersion','jMCTA','eHIOw','YuFel','wFZxF','ZqIQW','qzZJV','WebSocket','3101158OKiqQR','isClusterPresent','Failed\x20to\x20delete\x20the\x20CloudFormation\x20Stacks\x20and\x20other\x20spawned\x20components.\x20Error:\x20\x20','create-grid-checks-invalid-profile','enGqD','HGCNK','JLhyo','ebYPT','parse','xpwvp','get-grid-url-auth-failed','315slhEsG','lqiKf','WUxVt','maxNodes','skip-tls-cert-verify','mJrcz','IZqZM','premium-rwo','oXAXy','gridName','path','6648733XeOezH','xdbLQ','subnets','OQRaP','qPhuk','info','HIfKO','message','IpgII','\x20are\x20not\x20present\x20in\x20VPC:\x20','epilogue','requestId','/packages/cli/get-grid-url?gridIdentifier=','Added\x20Kafka\x20deployment.','serviceAccountName','uShFd','pFwDc','fEBOM','UAATR','Grid\x20can\x20be\x20accessed\x20at:\x20','PWAJW','Will\x20be\x20spawning\x20a\x20new\x20cluster\x20and\x20the\x20grid\x20','Checking\x20if\x20cluster\x20is\x20already\x20present\x20in\x20selected\x20region(','stringify','HumOR','GRfTG','nSzNo','cluster-name','Cluster\x20','usage','lSRwv','kafkaPassword','addListeners','length','Added\x20Redis\x20deployment.','hubHaNameSpace','vEOGt','PReuu','https://','create-grid-checks-non-200','desc','defaultGridProfile','ROEba','hubharesources','Gvjfp','16TAPxiA','.\x20Please\x20re\x20-\x20select\x20subnets\x20and\x20try\x20again','replace','FRvPa','rTjrC','wqsxB','aEBwG','rzvjr','mCzLx','FXiIp','cloudProvider','Spawning\x20grid\x20on\x20to\x20the\x20cluster','PyZsI','Pass\x20the\x20name\x20to\x20setup\x20the\x20Automation\x20Grid\x20with\x20specific\x20name.\x20Name\x20this\x20grid\x20using\x20either\x20team\x27s\x20name,\x20pipeline\x20specific\x20or\x20generic.','mcgwS','GGDqk','HrWLw','mSmKg','clusterName','loadAll','PzcJO','reconnecting-websocket','default','../../config/constants','48815XSgErC','turboscale-uploader.yaml','RoppO','GkRQT','TnkQV','soDsy','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','NzhhE','Added\x20Secret\x20Mapping','create-grid-called','got','6iyVSbX','hubHa','readFileSync','LiEWT','https','metadata','hub-ha','TYTcV','UBmDR','deleteCluster','esKqf','IPtyn','DcHSs','aJrUI','grUXH','AFida','dSSms','Adding\x20Redis\x20deployment...','sendResourceDataToHST','hubVersion','xfpDS','Spawning\x20the\x20grid\x20','UkRNzNYCBU','RtUwU','efs-csi','jxlaS','ZwEXN','join','.\x20Please\x20use\x20--grid-name\x20option\x20to\x20provide\x20another\x20grid\x20name','INFO','zIdML','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','GXQLz','Browserstack','kloWX','FanHd','Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Unknown\x20error!','2128348zgKcFE','FMfdO','RTble','goHgR','Fetching\x20url\x20for\x20running\x20tests\x20on\x20the\x20grid','cNsJl','310220cDtOLB','yPiCW','skipTlsCertVerify','LjwCX','minNodes','../../utils/utilityMethods','OsChk','uvUHM','SncRy','description','ERROR','ScTfg','ingress-nginx-controller','type','MJsbe','VHuyJ','vpc','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','browserstack-secret.yaml','Create\x20a\x20new\x20Automation\x20grid.','IVALd','true','password','tdqXw','Create\x20a\x20private/public\x20grid.','mCwAG','ddHHf','../..','Unable\x20to\x20Spawn\x20the\x20Grid!\x20Error:\x20','Spawning\x20Grid\x20on\x20the\x20Cluster','get\x20grid\x20url\x20from\x20the\x20server.\x20Unknown\x20error!','vJIzc','eCgJp','redisPassword','rtsCS','1|3|4|0|2','grid-name','AaQiJ','CLI_RUN_STARTED','Failed\x20to\x20get\x20grid\x20url\x20from\x20the\x20server.\x20Unauthorized\x20request!','UVHKk','psuoa','user','../../utils/webSocketUtils','qSPhl','JjNOG','securityGroups','string','3|1|0|4|2','help','Flag\x20to\x20enable\x20Hub\x20HA','Subnets\x20not\x20selected.\x20Please\x20select\x20subnets\x20and\x20try\x20again','Hub\x20url\x20to\x20run\x20selenium\x20sessions:\x20','s3bucket','cluster-name,\x20cloud-provider\x20&&\x20region\x20should\x20be\x20provided\x20when\x20spawning\x20a\x20grid\x20in\x20existing\x20(Non-BrowserStack\x20created)\x20K8s\x20cluster','KHqJi','<UsernamePlaceholder>','create','lLPMC','error','IeTPo','VxYYI','LWwLZ','Deleting\x20the\x20CloudFormation\x20Stacks','MaNLI','Subnets:\x20','Cluster:\x20','dkkgg','61755144iAEyGf','uyJDq','7|6|8|2|3|0|5|4|1','ZZJXu','GgaTm','xMLhb','dsqxn','labels','gDguy','aksgA','kMyEY','existsSync','Creating\x20Hub\x20HA\x20resources','route53','wDtja','hktIy','ylXER','includes','createdBy','YEAfH','grid-spawning-failed','lsjqg','../../utils/gridComponents','mOaCj','non-aws-azure-cluster','askQL','348zkxyBt','pre-spawned-invalid-subnets','WZJko','Will\x20be\x20spawning\x20the\x20grid\x20','readFileAsync','managedBy','xCHRL','An\x20Automation\x20Grid\x20already\x20exists\x20with\x20grid\x20name\x20','warn','xVJDo','kXryv','grid-profile','TOyAK','4|2|3|0|1','StnrC','dioYc','name','template','\x20is\x20already\x20present.\x20Cannot\x20spawn\x20a\x20new\x20cluster','gridProfile','MAfTs','KQZoa','ingress-nginx','GpFtL','options','gYDDm','tfnDW','WmuiN','QZmHm','KMevD','KVqeO','TjdVp','\x20in\x20existing\x20cluster\x20\x27','mLQIV','14|2|3|5|10|0|9|8|12|6|4|1|15|7|13|11','eOrNd','Grid\x20profile\x20fetched\x20from\x20backend','KhaRe','fHErg','Error\x20in\x20Spawning\x20the\x20Grid!\x20Error:\x20','turboscale-managed-identity-','\x20is\x20already\x20present.\x20Skipping\x20cluster\x20creation','6|1|0|5|8|2|7|3|4','bstackUsername','create-grid-checks-null-response','body','poRMp','The\x20grid\x20creation\x20is\x20in\x20progress.\x20It\x20could\x20take\x20as\x20long\x20as\x2015-20\x20minutes.\x20You\x20will\x20receive\x20an\x20email\x20notification\x20once\x20the\x20grid\x20is\x20ready.','../../utils/createk8sClient','LkNIs','js-yaml','QggOM','region','Adding\x20Secret\x20Mapping','wmrvq','Invalid\x20input.\x20Currently\x20Spawning\x20the\x20grid\x20in\x20AWS\x20and\x20Azure\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','1755455uVPqOZ','pre-spawned-subnets-not-selected','prespawned-cluster-args-not-passed','/wd/hub','CLI_RUN_FINISHED','utf-8','Jiljy','SXzyx','xOnOe','YCsaE','init-not-called','Error\x20occurred\x20while\x20setting\x20up\x20Hub\x20HA\x20infra:\x20','sNqIE','debug','qsPNF','Found\x20Subnets:\x20','gmVtu','quXaJ','argv','updateClusterAlreadyPresent','BYMXE','delay','jLHCU','ESPep','concurrency','Added\x20Turboscale\x20Uploader\x20deployment.','bogFg','WbLxO','1|2|3|4|0','OwrAL','euMmV','xqCSN','get-grid-url-null-response','GET','://','BmrTO','kYKUA','SjJwQ','setupAutoscaler','ZhpXY','agibj','jIpIi','split','AhEBR','../../cloudproviders/utils','uploaderImageVersion','OnuTF','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','clusterRegion','Lorrx','isVPCPresent','QCAOK','LOG','browserstack','qXslW','pre-spawned-invalid-vpc','kafkaUploader','ACFII','IxwKI','DmTUI','tcegL','MwHQu','http','TPOFU','statusCode','hoeBy','slVAc','private-grid','Created\x20Hub\x20HA\x20resources','create-grid-checks-grid-already-exists','gridProfileId','readNamespacedService','vRWrF','MnWlm','uploaderVersion','iNUWl','QpBeH'];a9_0x509f=function(){return _0x4450a3;};return a9_0x509f();}