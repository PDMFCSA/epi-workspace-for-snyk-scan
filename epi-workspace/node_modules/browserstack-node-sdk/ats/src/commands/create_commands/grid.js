function a9_0x1d37(_0xef5c40,_0x46bee3){const _0x8e0b54=a9_0x8e0b();return a9_0x1d37=function(_0x1d372b,_0x39963f){_0x1d372b=_0x1d372b-0xd6;let _0x479211=_0x8e0b54[_0x1d372b];return _0x479211;},a9_0x1d37(_0xef5c40,_0x46bee3);}const a9_0x5b7668=a9_0x1d37;(function(_0x528a14,_0x300551){const _0x4845c1=a9_0x1d37,_0x1805cd=_0x528a14();while(!![]){try{const _0x517c9b=-parseInt(_0x4845c1(0x257))/0x1*(parseInt(_0x4845c1(0x137))/0x2)+-parseInt(_0x4845c1(0x224))/0x3*(-parseInt(_0x4845c1(0x110))/0x4)+parseInt(_0x4845c1(0x150))/0x5*(parseInt(_0x4845c1(0xe0))/0x6)+parseInt(_0x4845c1(0x212))/0x7*(-parseInt(_0x4845c1(0x1c1))/0x8)+parseInt(_0x4845c1(0x1a6))/0x9*(parseInt(_0x4845c1(0x11f))/0xa)+parseInt(_0x4845c1(0x220))/0xb+-parseInt(_0x4845c1(0x271))/0xc;if(_0x517c9b===_0x300551)break;else _0x1805cd['push'](_0x1805cd['shift']());}catch(_0x38214a){_0x1805cd['push'](_0x1805cd['shift']());}}}(a9_0x8e0b,0xdfe30));const fs=require('fs'),ws=require('ws'),path=require(a9_0x5b7668(0x159)),yaml=require(a9_0x5b7668(0x286)),ReconnectingWebSocket=require('reconnecting-websocket'),got=require(a9_0x5b7668(0x216)),{v4:uuidv4}=require(a9_0x5b7668(0x215)),webSocketUtils=require(a9_0x5b7668(0x1c9)),{logger}=require(a9_0x5b7668(0x136)),{getCredentialsPath,updateGlobalRegistryWithConfig,updateGlobalRegistryForHubHa,kebabCase,reportToGalactusAndSendToEDS,getAuthHeader,waitForDeployment,kubeApply,encodeBase64}=require(a9_0x5b7668(0x26e)),{getCloudProviderObject}=require(a9_0x5b7668(0x250)),{AWS,WS_EVENTS,global_registry,WS_ENDPOINT,DEFAULT_GRID_NAME,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,messageTypes,AG_API_URL,AZURE,GCP,TURBOSCALE_DEPLOYMENT}=require(a9_0x5b7668(0xe2)),{addGridComponents,removeGridComponents,getNamespaceUID,namespaceExists,createNamespace}=require(a9_0x5b7668(0x1bc)),{createK8sClient}=require(a9_0x5b7668(0xd7)),{sendInstrumentationEvent}=require(a9_0x5b7668(0x16d));function a9_0x8e0b(){const _0x2a0dfc=['qgBqv','uuid','got','deHnC','UHPNx','RSbvA','addListeners','grid-profile','bQuvM','FzMKk','\x20is\x20already\x20present.\x20Skipping\x20cluster\x20creation','<PasswordPlaceholder>','6970964FkJUXO','join','lsgir','password','18651xlWkFY','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','clusterAutoupgrade','Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Unauthorized\x20request!','MLHgg','asZgW','ROwMn','instanceType','updateClusterAlreadyPresent','LvqLL','Cluster\x20created\x20successfully','eauyf','wjwJg','kUiIt','OjBlO','lyUno','region','info','deleteCluster','bmkYU','IdwUI','RHFxv','browserstack-secret.yaml','RaZSL','IiFom','get-grid-url-null-response','hjNHS','KyhrU','wXfKT','builder','NVOmr','body','Subnets:\x20','bjJzT','Grewt','INFO','nxsQA','agAyt','XjZqk','TQotk','oMgQp','pHCuC','ENkYA','OaZTA','../../cloudproviders/utils','VPC\x20selected\x20does\x20not\x20exist.\x20Please\x20try\x20again','Spawning\x20grid\x20on\x20to\x20the\x20cluster','hub-ha-deployments-failed','command','Will\x20be\x20spawning\x20a\x20new\x20cluster\x20and\x20the\x20grid\x20','Failed\x20to\x20get\x20grid\x20url\x20from\x20the\x20server.\x20Unauthorized\x20request!','9WLiSRF','rSSVG','JthLl','Grid\x20can\x20be\x20accessed\x20at:\x20','DuTNP','NljfZ','oLsFi','IgfNB','hMRvy','DrzPa','UkRNzNYCBU','gridProfiles','skipTlsCertVerify','tGweD','bstackAccesskey','ZWXtc','fGDJb','Cluster:\x20','jCPhQ','hubHaNameSpace','ToqVX','ddgBk','slXgO','../../utils/utilityMethods','Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Unknown\x20error!','nVsKw','1353864isRUzf','dUnqn','DQgKM','kafkaPassword','create-grid-checks-grid-already-exists','.\x20Please\x20re\x20-\x20select\x20subnets\x20and\x20try\x20again','DAidB','nbkFN','vtHYe','stringify','JzgDb','fTjHC','kdvgC','readFileAsync','Added\x20Kafka\x20deployment.','statusCode','createNamespace','hHAsV','GqFoR','help','OfPsj','js-yaml','.\x20Please\x20use\x20--grid-name\x20option\x20to\x20provide\x20another\x20grid\x20name','../../utils/createk8sClient','CKpof','readNamespacedService','epilogue','gDQOI','puNsm','mFAqc','Epyd5nXbRK','hgDGt','5808hcImuq','lQZBE','../../config/constants','IsVPc','LmpQs','jiPpz','Namespace\x20Created','zmqjX','EBCBE','wBwjB','AErVG','/packages/cli/create-grid-checks','LOG','get\x20grid\x20url\x20from\x20the\x20server.\x20Unknown\x20error!','0|3|2|1|4','rtLXv','IqJqk','azurefile-csi-premium','TUSve','mRyKJ','get-grid-url-auth-failed','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','MgLtv','private-ingress-nginx-controller','hxiSY','HxRwt','Adding\x20Websocket\x20listeners','aVUww','kafkaUploader','sghJA','://','serviceAccountName','WebSocket','ULIzs','The\x20grid\x20creation\x20is\x20in\x20progress.\x20It\x20could\x20take\x20as\x20long\x20as\x2015-20\x20minutes.\x20You\x20will\x20receive\x20an\x20email\x20notification\x20once\x20the\x20grid\x20is\x20ready.','2|1|3|4|0','Found\x20VPC:\x20','HrszP','furFl','Namespace\x20created','nuieh','Error\x20in\x20Spawning\x20the\x20Grid!\x20Error:\x20','namespace','sbKKI','CLI\x20run\x20finished:\x20','PGbBj','Creating\x20Hub\x20HA\x20resources','TJnUT','136mCGDZu','XRuTM','hubVersion','jkgmc','ERROR','NhtAu','DpzWy','VTcwL','gWnKl','subnets','labels','iRTVa','gridProfileId','PReJJ','requestId','10LKtgkY','jrsUa','create-grid-checks-invalid-profile','exit','createdBy','hxcnF','GOqGP','UcraC','LruTJ','rXxxb','heSbv','pZtHV','WgWVl','enableHubHa','Grid\x20profile\x20fetched\x20from\x20backend','cluster-name,\x20cloud-provider\x20&&\x20region\x20should\x20be\x20provided\x20when\x20spawning\x20a\x20grid\x20in\x20existing\x20(Non-BrowserStack\x20created)\x20K8s\x20cluster','newCluster','boolean','tSPxu','VcTDL','Vkjen','BoDdZ','cluster-name','../../config/logger','155870UNJHJu','Spawning\x20Grid\x20on\x20the\x20Cluster','VZvAi','delay','FdujG','/packages/cli/get-grid-url?gridIdentifier=','toLowerCase','vpc','Found\x20Subnets:\x20','replace','eDjQg','bOZnR','CLI_RUN_STARTED','loadAll','/wd/hub','bstackUsername','KQzrH','length','yIRwp','hubharesources','Adding\x20Redis\x20deployment...','nWhEG','rGBAU','ptPxz','PzQwi','9360IeTpUo','KbpvV','Added\x20Secret\x20Mapping','rDUid','huZfN','kzfgZ','prespawned-cluster-args-not-passed','ingress-nginx-controller','isSubnetsValid','path','MRAyg','pqQfm','rUVsE','clusterRegion','Checking\x20if\x20cluster\x20is\x20already\x20present\x20in\x20selected\x20region(','\x20using\x20\x27','browserVersion','oZWti','isPrivateGrid','BsyvP','JZsZK','bitnami-kafka.yaml','vkSih','Skip\x20insecure\x20cert\x20verification.','vBObs','managedBy','sendEventToBackend','XRsXo','ylOrJ','../../utils/instrumentationUtils','privateGrid','CzGyy','user','CjXbI','1|2|7|8|11|4|10|3|5|14|6|13|9|15|12|0','MGaWU','description','xziDb','4|3|0|2|1','5|4|7|3|2|1|6|8|0','McrvL','Flag\x20to\x20enable\x20cluster\x20auto-upgrade','usage','sJSwc','hubHa','clusterAutoUpgrade','cluster-autoupgrade','Create\x20a\x20private/public\x20grid.','xlJxX','Mqblv','cnwSI','string','HSDKz','tnbyM','wwHOJ','../..','clusterName','zmSyM','An\x20Automation\x20Grid\x20already\x20exists\x20with\x20grid\x20name\x20','AjDLA','tSmVB','Esrob','QWHwA','4|0|3|1|2','OHhMo','ulmBf','eqkEl','split','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','debug','Cluster\x20','wZboT','grid','setupAutoscaler','minNodes','gridName','Invalid\x20input.\x20Currently\x20Spawning\x20the\x20grid\x20in\x20AWS\x20and\x20Azure\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','eaQJr','jELso','stack','ZLdst','wKszD','true','NtLGp','Adding\x20Turboscale\x20Uploader\x20deployment...','Cluster\x20not\x20found.\x20Proceeding\x20with\x20creating\x20required\x20resources.','7133337ITgwYn','LuYju','argv','cloud-provider','Error\x20occurred\x20while\x20setting\x20up\x20Hub\x20HA\x20infra:\x20','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','CLI\x20run\x20started','UnioN','NonqH','SrdJb','BbMmW','metadata','Cluster\x20Auto\x20Upgrade\x20is\x20enabled','error','xhaLF','create','drhNQ','username','wlsmz','s3bucket','Adding\x20Kafka\x20deployment...','pGroy','../../utils/gridComponents','GET','parse','sDBlr','uVVcl','42696yaCQak','COCpb','raBtB','Adding\x20Secret\x20Mapping','name','SdgpI','bitnami-redis.yaml','Spawning\x20the\x20grid\x20','../../utils/webSocketUtils','ruEnZ','YibSz','Create\x20a\x20new\x20Automation\x20grid.','JQvSw','PNSys','maxNodes','concurrency','gridProfile','template','Hub\x20HA\x20setup\x20completed\x20successfully.','BVBxL','http','Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Non\x20200\x20response\x20from\x20server!\x20','fvVVv','cloudProvider','grid-spawning-failed','Chwto','existsSync','LWnCr','zVbIP','create-grid-checks-auth-failed','private-grid','Browserstack','spec','warn','Hub\x20url\x20to\x20run\x20selenium\x20sessions:\x20','annotations','wuDje','Failed\x20to\x20delete\x20the\x20CloudFormation\x20Stacks\x20and\x20other\x20spawned\x20components.\x20Error:\x20\x20','route53','DwCrm','DOyFs','srLza','vapWS','KQxcu','XbwvI','skip-tls-cert-verify','yjNcZ','redisPassword','Pass\x20the\x20name\x20to\x20setup\x20the\x20Automation\x20Grid\x20with\x20specific\x20name.\x20Name\x20this\x20grid\x20using\x20either\x20team\x27s\x20name,\x20pipeline\x20specific\x20or\x20generic.','kABCt','type','VUOgd','DckuO','Invalid\x20Grid\x20Profile.Exiting\x20the\x20CLI.','isClusterPresent','default','lkNTl','pre-spawned-invalid-subnets','https://','efs-csi','wnFWV','Added\x20Turboscale\x20Uploader\x20deployment.','dqlSO','pXNsH','message','\x20is\x20already\x20present.\x20Cannot\x20spawn\x20a\x20new\x20cluster','isNewAWSCluster','sendResourceDataToHST','wfagr','\x27\x20grid\x20profile','JvpsB','browserstack','uploaderVersion','setupNewCluster','VKFjN','lTGWc','Fetching\x20url\x20for\x20running\x20tests\x20on\x20the\x20grid','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','utf-8','https','getResourceClientId','2254cHLNUn','WHuaz'];a9_0x8e0b=function(){return _0x2a0dfc;};return a9_0x8e0b();}exports[a9_0x5b7668(0x254)]=a9_0x5b7668(0x198),exports['desc']=a9_0x5b7668(0x1cc),exports[a9_0x5b7668(0x241)]=function(_0x45b80f){const _0x6daa6d=a9_0x5b7668,_0x2d5059={};_0x2d5059[_0x6daa6d(0x1af)]=_0x6daa6d(0x1f1),_0x2d5059[_0x6daa6d(0xe7)]=_0x6daa6d(0x183),_0x2d5059['jELso']='Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.',_0x2d5059[_0x6daa6d(0x270)]=_0x6daa6d(0x20e),_0x2d5059[_0x6daa6d(0x1ae)]=_0x6daa6d(0x194),_0x2d5059[_0x6daa6d(0x1bf)]='Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.',_0x2d5059[_0x6daa6d(0x1ca)]=_0x6daa6d(0x17f),_0x2d5059[_0x6daa6d(0x283)]=_0x6daa6d(0x167),_0x2d5059[_0x6daa6d(0x22a)]=_0x6daa6d(0x130),_0x2d5059[_0x6daa6d(0x108)]='Flag\x20to\x20enable\x20Hub\x20HA',_0x2d5059[_0x6daa6d(0x1a0)]='Flag\x20to\x20enable\x20cluster\x20auto-upgrade',_0x2d5059['asZgW']='help';const _0x96c17a=_0x2d5059,_0x272b79={};_0x272b79[_0x6daa6d(0x174)]=_0x96c17a[_0x6daa6d(0x1af)],_0x272b79[_0x6daa6d(0x1f3)]=_0x96c17a['zmqjX'];const _0x3424ee={};_0x3424ee[_0x6daa6d(0x174)]=_0x96c17a[_0x6daa6d(0x19e)],_0x3424ee['type']=_0x96c17a['zmqjX'];const _0x2d7482={};_0x2d7482[_0x6daa6d(0x174)]=_0x96c17a[_0x6daa6d(0x270)],_0x2d7482[_0x6daa6d(0x1f3)]=_0x96c17a['zmqjX'];const _0x336b74={};_0x336b74[_0x6daa6d(0x174)]=_0x96c17a[_0x6daa6d(0x1ae)],_0x336b74[_0x6daa6d(0x1f3)]=_0x96c17a[_0x6daa6d(0xe7)];const _0x1269e6={};_0x1269e6[_0x6daa6d(0x174)]=_0x96c17a['sDBlr'],_0x1269e6[_0x6daa6d(0x1f3)]=_0x96c17a[_0x6daa6d(0xe7)];const _0x5e11b9={};_0x5e11b9[_0x6daa6d(0x174)]=_0x96c17a[_0x6daa6d(0x1ca)],_0x5e11b9['type']=_0x96c17a[_0x6daa6d(0xe7)];const _0x21315e={};_0x21315e['description']=_0x96c17a[_0x6daa6d(0x283)],_0x21315e[_0x6daa6d(0x1f3)]=_0x96c17a[_0x6daa6d(0x22a)],_0x21315e[_0x6daa6d(0x1f8)]=![];const _0x4c450d={};_0x4c450d[_0x6daa6d(0x174)]=_0x96c17a['nuieh'],_0x4c450d[_0x6daa6d(0x1f3)]=_0x96c17a[_0x6daa6d(0x22a)],_0x4c450d['default']=![];const _0x5b0686={};_0x5b0686['description']=_0x96c17a[_0x6daa6d(0x1a0)],_0x5b0686[_0x6daa6d(0x1f3)]=_0x96c17a[_0x6daa6d(0x22a)],_0x5b0686[_0x6daa6d(0x1f8)]=![];const _0x5f07d2={};return _0x5f07d2['grid-name']=_0x272b79,_0x5f07d2[_0x6daa6d(0x21b)]=_0x3424ee,_0x5f07d2[_0x6daa6d(0x135)]=_0x2d7482,_0x5f07d2[_0x6daa6d(0x1a9)]=_0x336b74,_0x5f07d2['region']=_0x1269e6,_0x5f07d2[_0x6daa6d(0x1df)]=_0x5e11b9,_0x5f07d2[_0x6daa6d(0x1ee)]=_0x21315e,_0x5f07d2['hub-ha']=_0x4c450d,_0x5f07d2[_0x6daa6d(0x17e)]=_0x5b0686,_0x45b80f[_0x6daa6d(0x17a)](HELP_HEADER_MESSAGE[_0x6daa6d(0x1b5)])[_0x6daa6d(0xda)](HELP_FOOTER_MESSAGE)['options'](_0x5f07d2)['help'](_0x96c17a[_0x6daa6d(0x229)])[_0x6daa6d(0x1a8)];},exports['handler']=async function(_0x33e0b5){const _0x501377=a9_0x5b7668,_0x5af784={'wZboT':function(_0x44f52a,_0x263391){return _0x44f52a(_0x263391);},'LvqLL':_0x501377(0x172),'WXSxd':function(_0x11b8a0,_0x2aafbc){return _0x11b8a0(_0x2aafbc);},'kUiIt':function(_0x4d4e4b,_0x11fcad,_0x4a0e0d,_0x35dad2,_0x3f1edc,_0x5df510,_0x1a99a7,_0x22433b,_0x3dc993,_0x2e3ca5,_0x5750a8,_0x3f00b4,_0x1df65d){return _0x4d4e4b(_0x11fcad,_0x4a0e0d,_0x35dad2,_0x3f1edc,_0x5df510,_0x1a99a7,_0x22433b,_0x3dc993,_0x2e3ca5,_0x5750a8,_0x3f00b4,_0x1df65d);},'hxiSY':function(_0x4ce902,_0x28ee2d){return _0x4ce902!==_0x28ee2d;},'LmpQs':'5|1|6|8|3|0|7|2|4','BgYZU':_0x501377(0x1ac),'OHhMo':_0x501377(0x1b3),'VcTDL':_0x501377(0x1d5),'VKFjN':_0x501377(0x103),'VTcwL':_0x501377(0x208),'mTKep':'Enabling\x20Hub\x20HA\x20flow','JQvSw':_0x501377(0x261),'wuDje':_0x501377(0xde),'mRyKJ':_0x501377(0x1b2),'JzgDb':_0x501377(0xf1),'XRsXo':'premium-rwo','MgLtv':_0x501377(0x1a2),'ZWXtc':_0x501377(0x1f8),'huZfN':_0x501377(0x210),'qgBqv':'Pass\x20the\x20name\x20to\x20setup\x20the\x20Automation\x20Grid\x20with\x20specific\x20name.\x20Name\x20this\x20grid\x20using\x20either\x20team\x27s\x20name,\x20pipeline\x20specific\x20or\x20generic.','TJnUT':'string','srLza':_0x501377(0x1ab),'ptPxz':_0x501377(0x20e),'DwCrm':'Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','NtLGp':_0x501377(0xf5),'jFLSj':_0x501377(0x17f),'JvpsB':_0x501377(0x167),'TUSve':'boolean','GOqGP':'Flag\x20to\x20enable\x20Hub\x20HA','drhNQ':_0x501377(0x179),'bQuvM':_0x501377(0x284),'vBObs':_0x501377(0x1e2),'rDUid':function(_0x3d349d,_0x1481d7){return _0x3d349d===_0x1481d7;},'WgWVl':function(_0x282b11){return _0x282b11();},'lQZBE':function(_0x184dbd,_0x3b4327){return _0x184dbd===_0x3b4327;},'TQotk':_0x501377(0x111),'NynsM':_0x501377(0x225),'mCQmE':function(_0x30b942,_0x5b294d,_0x3854ef,_0x55d38c,_0x308fc8,_0x3c7d99,_0x5b5f40){return _0x30b942(_0x5b294d,_0x3854ef,_0x55d38c,_0x308fc8,_0x3c7d99,_0x5b5f40);},'vkSih':'create-grid-called','ENkYA':'init-not-called','pGroy':function(_0x55d8c9,_0x231274,_0x24c463,_0x4b998b,_0x3e17d8,_0x2555fe,_0x3962d1){return _0x55d8c9(_0x231274,_0x24c463,_0x4b998b,_0x3e17d8,_0x2555fe,_0x3962d1);},'mkaEx':function(_0x502733){return _0x502733();},'yIRwp':'<UsernamePlaceholder>','NljfZ':_0x501377(0x21f),'MeMLN':_0x501377(0xfa),'KbpvV':function(_0xf72630,_0x28088e){return _0xf72630!==_0x28088e;},'KyhrU':_0x501377(0xe3),'LYsXG':'bCmLF','xPNbu':function(_0x4ccfbb,_0x28c3f8){return _0x4ccfbb!==_0x28c3f8;},'aVUww':_0x501377(0x245),'uVVcl':_0x501377(0x12e),'DAidB':function(_0x547922,_0x4df768,_0x22a962,_0x292d87,_0x2c91ca,_0x3f68a3,_0x4e8bd6,_0x3c3b3c){return _0x547922(_0x4df768,_0x22a962,_0x292d87,_0x2c91ca,_0x3f68a3,_0x4e8bd6,_0x3c3b3c);},'kzfgZ':_0x501377(0x156),'RHFxv':'okVds','wwAUf':_0x501377(0x14f),'BaVge':_0x501377(0x19c),'wXfKT':function(_0x4a04aa,_0x46fd85,_0x36ce10,_0x102fa9,_0x2be0a7,_0x2ae5b5,_0x53abd2,_0xfc50a){return _0x4a04aa(_0x46fd85,_0x36ce10,_0x102fa9,_0x2be0a7,_0x2ae5b5,_0x53abd2,_0xfc50a);},'ulmBf':'non-aws-azure-cluster','wnFWV':function(_0x3a9453,_0xd137cb){return _0x3a9453!==_0xd137cb;},'ZPnFq':_0x501377(0x27c),'wjwJg':_0x501377(0x1ef),'GhgOg':function(_0x477062,_0x38f6f7,_0x10ca0e,_0x1f793d,_0x447fe5,_0x231b70,_0x18c5b5){return _0x477062(_0x38f6f7,_0x10ca0e,_0x1f793d,_0x447fe5,_0x231b70,_0x18c5b5);},'UcraC':'tUdez','LruTJ':function(_0x245485,_0x2b9557){return _0x245485===_0x2b9557;},'hgDGt':_0x501377(0x213),'rEKNN':_0x501377(0xea),'pXNsH':_0x501377(0x222),'SkqWc':_0x501377(0x14d),'PhGQx':_0x501377(0x1bd),'gWnKl':function(_0x1ea0ff,_0x2e33dd,_0x16bf1c){return _0x1ea0ff(_0x2e33dd,_0x16bf1c);},'LRQMq':function(_0x13e5b7,_0x5ca5bb){return _0x13e5b7!==_0x5ca5bb;},'HxRwt':_0x501377(0x1e9),'DpzWy':function(_0x4bd78f,_0x448524){return _0x4bd78f!==_0x448524;},'HrszP':_0x501377(0x260),'KQxcu':function(_0x8379db,_0x1ce5c7){return _0x8379db===_0x1ce5c7;},'DuTNP':_0x501377(0x18c),'krRYZ':_0x501377(0x178),'xziDb':_0x501377(0x26f),'jiPpz':'create-grid-checks-null-response','Mqblv':_0x501377(0x120),'bmkYU':_0x501377(0x227),'slXgO':_0x501377(0x1de),'vapWS':function(_0x3e24af,_0x3be48a){return _0x3e24af!==_0x3be48a;},'ToqVX':function(_0x3b3364,_0x464717){return _0x3b3364===_0x464717;},'raBtB':_0x501377(0x22f),'IQnlu':_0x501377(0x233),'NhtAu':function(_0x3661b2,_0x2c5415,_0x1aafc8,_0xc1b394,_0x29feb8,_0x520c1f,_0x5a368a,_0x45d6b1){return _0x3661b2(_0x2c5415,_0x1aafc8,_0xc1b394,_0x29feb8,_0x520c1f,_0x5a368a,_0x45d6b1);},'eqkEl':'create-grid-checks-non-200','LuYju':_0x501377(0x12d),'SdgpI':_0x501377(0x180),'RSbvA':function(_0x499295,_0x23c4ec,_0x5c4eb8,_0x512345,_0x239580,_0x2b5a38,_0x488029,_0x5ac9b4){return _0x499295(_0x23c4ec,_0x5c4eb8,_0x512345,_0x239580,_0x2b5a38,_0x488029,_0x5ac9b4);},'wKszD':_0x501377(0x275),'RCObH':function(_0xc731cf,_0x249cc6){return _0xc731cf!==_0x249cc6;},'nWhEG':_0x501377(0x184),'VUOgd':_0x501377(0x1ce),'AjDLA':_0x501377(0xee),'oZWti':function(_0x5d11bc,_0x2b5c59){return _0x5d11bc===_0x2b5c59;},'eDjQg':function(_0x5e5859,_0xb307f5){return _0x5e5859===_0xb307f5;},'IiFom':_0x501377(0x273),'heSbv':function(_0x26c1b2,_0x1f1678){return _0x26c1b2===_0x1f1678;},'FdujG':_0x501377(0x1ad),'IdwUI':_0x501377(0x1f6),'ZhpDv':_0x501377(0x121),'JthLl':function(_0x19ef42,_0x47fe46){return _0x19ef42===_0x47fe46;},'dUnqn':function(_0x48c0d3,_0x409221){return _0x48c0d3===_0x409221;},'MLHgg':'djEaD','BoDdZ':function(_0x566473,_0x1122d0){return _0x566473===_0x1122d0;},'zxPOd':_0x501377(0x24d),'fvVVv':_0x501377(0x15c),'BVBxL':_0x501377(0x1c2),'YibSz':'dfwyX','UHPNx':_0x501377(0x1da),'RaZSL':function(_0x559a2f,_0x2be2a4){return _0x559a2f(_0x2be2a4);},'CjXbI':function(_0x5dea1c,_0x126570){return _0x5dea1c===_0x126570;},'hMRvy':function(_0x34940c,_0x105ae2){return _0x34940c===_0x105ae2;},'fGDJb':'EIAoG','XbwvI':'COqkD','hjNHS':function(_0x546db1,_0xc4db8f){return _0x546db1===_0xc4db8f;},'IqJqk':'BgVJv','puNsm':function(_0xb760b6,_0x1c5031){return _0xb760b6!==_0x1c5031;},'tSPxu':_0x501377(0x11d),'sJSwc':function(_0x2707d7,_0x4bd8af){return _0x2707d7(_0x4bd8af);},'OjBlO':'QOjOZ','akHNW':_0x501377(0x177),'VZvAi':function(_0x5ed41c,_0x2a9934,_0x354078,_0x508053,_0x54c1a1,_0x27435f,_0x54e2ba){return _0x5ed41c(_0x2a9934,_0x354078,_0x508053,_0x54c1a1,_0x27435f,_0x54e2ba);},'ULIzs':function(_0x5090e8,_0x5a7472){return _0x5090e8!==_0x5a7472;},'mFAqc':'dhHRg','fRBbv':function(_0x36f1c9,_0x314f4e){return _0x36f1c9===_0x314f4e;},'OaZTA':function(_0x4f14be,_0x36423c){return _0x4f14be!==_0x36423c;},'rSSVG':_0x501377(0x11b),'oLsFi':function(_0x343701,_0x5845c3){return _0x343701===_0x5845c3;},'lkNTl':_0x501377(0x278),'Vkjen':_0x501377(0x1a5),'MZIpC':function(_0x5af081,_0x4ac9d8){return _0x5af081!=_0x4ac9d8;},'JZsZK':function(_0x3b05f6,_0x30caae){return _0x3b05f6!=_0x30caae;},'rXxxb':function(_0x366a16,_0x92737d){return _0x366a16!==_0x92737d;},'xhaLF':function(_0x5473c0,_0x1fec1e){return _0x5473c0>_0x1fec1e;},'BoMVI':function(_0x1a177b,_0x46d895){return _0x1a177b===_0x46d895;},'sghJA':'Subnets\x20not\x20selected.\x20Please\x20select\x20subnets\x20and\x20try\x20again','zVbIP':function(_0x4546d4,_0x51b42c,_0xfc72f1,_0x4d1cfa,_0x1cbb26,_0x529465,_0x2561e4,_0x33b3df){return _0x4546d4(_0x51b42c,_0xfc72f1,_0x4d1cfa,_0x1cbb26,_0x529465,_0x2561e4,_0x33b3df);},'QMZPM':'pre-spawned-subnets-not-selected','cnwSI':function(_0x4e6681,_0xd2f800){return _0x4e6681===_0xd2f800;},'kMZeV':_0x501377(0x251),'BpjmP':'pre-spawned-invalid-vpc','nxsQA':function(_0x12ef27,_0x5f4fd0,_0x506dcb,_0x2a6022,_0x36e0e4,_0xe899a1,_0x2e801d,_0x5b6a2d){return _0x12ef27(_0x5f4fd0,_0x506dcb,_0x2a6022,_0x36e0e4,_0xe899a1,_0x2e801d,_0x5b6a2d);},'wBwjB':_0x501377(0x1fa),'ylOrJ':_0x501377(0x18f),'wlsmz':_0x501377(0x102),'BbMmW':_0x501377(0x22e),'oSfnI':function(_0x38d3ae,_0x57403a){return _0x38d3ae===_0x57403a;},'vtHYe':function(_0x158c02,_0xf6438,_0xd288ee){return _0x158c02(_0xf6438,_0xd288ee);},'wwHOJ':function(_0x47d26a,_0x43c3c2){return _0x47d26a===_0x43c3c2;},'iOTJC':function(_0x3582b8,_0x9af79c){return _0x3582b8===_0x9af79c;},'GgsUZ':_0x501377(0x10e),'KQzrH':_0x501377(0x1c4),'rtLXv':_0x501377(0x187),'ddgBk':'templates','wfagr':_0x501377(0x14a),'hvshq':_0x501377(0x23a),'kdvgC':_0x501377(0x20f),'agAyt':function(_0x43faf0,_0x2c78a3){return _0x43faf0(_0x2c78a3);},'furFl':function(_0xa63d55,_0x28ef3a,_0x37df40){return _0xa63d55(_0x28ef3a,_0x37df40);},'hxcnF':_0x501377(0x152),'EBCBE':_0x501377(0x1fc),'iFIBR':function(_0x3d554f,_0x4ed06a){return _0x3d554f===_0x4ed06a;},'CKpof':_0x501377(0x14b),'kABCt':_0x501377(0x1c7),'MRAyg':function(_0x4942e0,_0x45ab8a,_0x3a9e09){return _0x4942e0(_0x45ab8a,_0x3a9e09);},'Grewt':'Added\x20Redis\x20deployment.','tGweD':_0x501377(0x1ba),'rbZmO':_0x501377(0x165),'hHAsV':function(_0x2b1f5b,_0x14fd71,_0x2e56ea){return _0x2b1f5b(_0x14fd71,_0x2e56ea);},'MGaWU':_0x501377(0x27f),'XjZqk':_0x501377(0x1a4),'NVOmr':'turboscale-uploader.yaml','QfOuv':function(_0x4f23fb,_0x41d938){return _0x4f23fb===_0x41d938;},'lTGWc':_0x501377(0x1fe),'sbKKI':'Created\x20Hub\x20HA\x20resources','PGbBj':_0x501377(0x1d3),'BsyvP':_0x501377(0x176),'gDQOI':_0x501377(0x253),'bOZnR':function(_0x127a85,_0x33c52f){return _0x127a85(_0x33c52f);},'QWHwA':'Creating\x20namespace','FzMKk':_0x501377(0x1e0),'OfPsj':_0x501377(0xe6),'YKenC':_0x501377(0x107),'DckuO':_0x501377(0x252),'jCPhQ':_0x501377(0x138),'Esrob':function(_0x3612cd,_0x3a0705){return _0x3612cd===_0x3a0705;},'CzGyy':function(_0x174f35,_0x20e045,_0x66dccd,_0x39a3f6,_0x4ec5f9,_0x4a7a39,_0x4b5a6a,_0x4e7ac0,_0x37bb31,_0x3ca82d,_0x536f01){return _0x174f35(_0x20e045,_0x66dccd,_0x39a3f6,_0x4ec5f9,_0x4a7a39,_0x4b5a6a,_0x4e7ac0,_0x37bb31,_0x3ca82d,_0x536f01);},'oMgQp':'Grid\x20spawned\x20on\x20the\x20cluster','XyqoP':_0x501377(0x20d),'eXwVf':function(_0x41e788,_0x458ed1,_0x4e0899,_0x2612aa,_0x3bab98){return _0x41e788(_0x458ed1,_0x4e0899,_0x2612aa,_0x3bab98);},'LWnCr':_0x501377(0xf7),'XtmhU':_0x501377(0x157),'dqlSO':'ingress-nginx','zmSyM':function(_0x1b4fd8,_0x506537,_0x139301){return _0x1b4fd8(_0x506537,_0x139301);},'jkgmc':function(_0x420ac7,_0x133ff9){return _0x420ac7===_0x133ff9;},'Yavhb':function(_0x142680,_0x2b28fc){return _0x142680===_0x2b28fc;},'eaQJr':_0x501377(0xed),'deHnC':_0x501377(0x23d),'aTBUq':function(_0x34ac79,_0x58ba6a){return _0x34ac79===_0x58ba6a;},'BkmSt':_0x501377(0x256),'tnbyM':function(_0x30d492,_0x63645d,_0x38ce75,_0xec3634,_0x14de0f,_0x4124ff,_0x5c6b97,_0x5c2987){return _0x30d492(_0x63645d,_0x38ce75,_0xec3634,_0x14de0f,_0x4124ff,_0x5c6b97,_0x5c2987);},'DmDhn':_0x501377(0xf4),'IgfNB':function(_0x335d30,_0x380537,_0x1d2cb6,_0x330813,_0x5d6531,_0x1f4712,_0x25fb79,_0x48fceb){return _0x335d30(_0x380537,_0x1d2cb6,_0x330813,_0x5d6531,_0x1f4712,_0x25fb79,_0x48fceb);},'pZtHV':'get-grid-url-non-200','pqQfm':'Deleting\x20the\x20CloudFormation\x20Stacks','FOJLI':function(_0x39516c,_0x452adc,_0xce3c3a,_0x20d442,_0x562c70,_0x77726a){return _0x39516c(_0x452adc,_0xce3c3a,_0x20d442,_0x562c70,_0x77726a);},'RWUFM':_0x501377(0x1d9)};let _0x14ff5c=![],_0x4eb223=![],_0x181d90,_0x4f0e66,_0x205830,_0x3d22ea,_0x1ee571,_0x32fb45,_0xfc63d1,_0x16a916,_0x1fb092,_0x38d212,_0x3e65a1,_0x3b2ae6,_0x47632c,_0x459608,_0x5caf06=0x1,_0x8e1a5c=0xe;try{global_registry[_0x501377(0x11e)]=_0x5af784[_0x501377(0x12b)](uuidv4),global_registry[_0x501377(0x162)]=![];!fs[_0x501377(0x1db)](_0x5af784[_0x501377(0x12b)](getCredentialsPath))&&(_0x5af784[_0x501377(0xe1)](_0x5af784['TQotk'],_0x5af784[_0x501377(0x24b)])?(console[_0x501377(0x1b3)](_0x5af784['NynsM']),await _0x5af784['mCQmE'](sendInstrumentationEvent,_0x33e0b5,_0x5af784[_0x501377(0x166)],messageTypes[_0x501377(0x114)],_0x5af784[_0x501377(0x24e)],null,_0x33e0b5),process[_0x501377(0x122)](0x1)):_0x34cfce=!![]);await _0x5af784[_0x501377(0x1bb)](sendInstrumentationEvent,_0x33e0b5,_0x5af784[_0x501377(0x166)],messageTypes[_0x501377(0x247)],null,null,_0x33e0b5);const _0x311fad=JSON[_0x501377(0x1be)](fs['readFileSync'](_0x5af784['mkaEx'](getCredentialsPath)));global_registry['bstackUsername']=_0x311fad['Browserstack']['username'],global_registry['bstackAccesskey']=_0x311fad[_0x501377(0x1e0)]['password'];const _0x1495be=WS_ENDPOINT[_0x501377(0x140)](_0x5af784[_0x501377(0x149)],_0x311fad[_0x501377(0x1e0)][_0x501377(0x1b7)])[_0x501377(0x140)](_0x5af784[_0x501377(0x25c)],_0x311fad[_0x501377(0x1e0)][_0x501377(0x223)]),_0x592ba5={};_0x592ba5[_0x501377(0x100)]=ws,_0x592ba5['connectionTimeout']=0x36ee80,_0x3b2ae6=new ReconnectingWebSocket(_0x1495be,[],_0x592ba5),logger[_0x501377(0x195)](_0x5af784['MeMLN']),webSocketUtils[_0x501377(0x21a)](_0x3b2ae6,_0x33e0b5[_0x501377(0x170)],_0x33e0b5[_0x501377(0x223)]);const _0x22b126=_0x33e0b5[_0x501377(0x19b)]||DEFAULT_GRID_NAME;if(_0x33e0b5[_0x501377(0x188)]||_0x33e0b5[_0x501377(0x1d8)]||_0x33e0b5[_0x501377(0x234)]){if(_0x5af784[_0x501377(0x151)](_0x5af784[_0x501377(0x23f)],_0x5af784['LYsXG'])){!(_0x33e0b5['clusterName']&&_0x33e0b5[_0x501377(0x1d8)]&&_0x33e0b5[_0x501377(0x234)])&&(_0x5af784['xPNbu'](_0x5af784[_0x501377(0xfb)],_0x5af784[_0x501377(0xfb)])?_0x186e7b[_0x501377(0x1d1)]=_0x10fafb['gridProfile']:(_0x181d90=_0x5af784[_0x501377(0x1c0)],await _0x5af784['DAidB'](reportToGalactusAndSendToEDS,_0x33e0b5,_0x3b2ae6,_0x181d90,messageTypes['ERROR'],_0x5af784[_0x501377(0x166)],_0x5af784[_0x501377(0x155)],_0x5af784[_0x501377(0x190)]),logger[_0x501377(0x1b3)](_0x181d90),process[_0x501377(0x122)](0x1)));![AWS,AZURE,GCP]['includes'](_0x33e0b5['cloudProvider']['toLowerCase']())&&(_0x5af784[_0x501377(0x153)](_0x5af784[_0x501377(0x239)],_0x5af784['wwAUf'])?_0x5af784['wZboT'](_0x57a2b2,_0x1ac857[_0x501377(0x209)]):(_0x181d90=_0x5af784['BaVge'],await _0x5af784[_0x501377(0x240)](reportToGalactusAndSendToEDS,_0x33e0b5,_0x3b2ae6,_0x181d90,messageTypes[_0x501377(0x114)],_0x5af784[_0x501377(0x166)],_0x5af784[_0x501377(0x191)],_0x5af784['OHhMo']),logger[_0x501377(0x1b3)](_0x181d90),process[_0x501377(0x122)](0x1)));if(_0x33e0b5[_0x501377(0x16e)]&&_0x5af784['rDUid'](_0x33e0b5['privateGrid'][_0x501377(0x13d)](),_0x5af784['MgLtv'])){if(_0x5af784[_0x501377(0x1fd)](_0x5af784['ZPnFq'],_0x5af784[_0x501377(0x230)]))global_registry[_0x501377(0x162)]=!![];else{const _0x94e871=_0x5af784[_0x501377(0x22d)]['split']('|');let _0x5bf771=0x0;while(!![]){switch(_0x94e871[_0x5bf771++]){case'0':_0x1f996b[_0x501377(0x12c)]&&_0x5af784['WXSxd'](_0x28e006,_0x578629[_0x501377(0xfc)]);continue;case'1':_0x3b2f74=_0x501377(0x255)+_0x4e69ad;continue;case'2':_0x352b95[_0x501377(0x235)](_0x2541e0);continue;case'3':_0x5c146d=null;continue;case'4':_0x18fca9=null;continue;case'5':_0x2809f1=_0x4b45a8[_0x501377(0x1b9)];continue;case'6':_0x35b251=_0x92906d[_0x501377(0x1cf)];continue;case'7':const _0x4d9dcd={};_0x4d9dcd[_0x501377(0x1f3)]=_0x458a9e[_0x501377(0xec)],_0x4d9dcd[_0x501377(0x201)]=_0xe46a74,_0x36c40f['sendEventToBackend'](_0x2b0fb5,_0x4d9dcd);continue;case'8':_0x2db0ff=_0x3844c0[_0x501377(0x1d0)];continue;case'9':_0x81bf5f=_0x199b1f['browserVersion'];continue;case'10':_0x5479eb=null;continue;case'11':_0xf173be=_0x826d5f[_0x501377(0x22b)];continue;case'12':_0x5af784['kUiIt'](_0x23f88b,_0x2bd3aa,_0x4947a1,_0x3cb261,_0x4491a1,_0x2001a9,_0x3cb6e0,_0x5766a3,_0x48a0be,_0x34a2ca,_0x1faad7,_0x5a8a6d,_0x1d39ac['clusterAutoupgrade']);continue;case'13':_0x532d89=_0x517431[_0x501377(0x112)];continue;case'14':_0x44df47=_0x4e8846[_0x501377(0x19a)];continue;case'15':_0x5af784[_0x501377(0xf8)](_0x55e286[_0x501377(0x16e)],_0x3e1083)&&_0x2ba919[_0x501377(0x16e)]&&(_0x22c5a4[_0x501377(0x162)]=!![]);continue;}break;}}}global_registry[_0x501377(0x1d8)]=_0x33e0b5[_0x501377(0x1d8)],global_registry[_0x501377(0x15d)]=_0x33e0b5['region'],global_registry['clusterName']=_0x33e0b5[_0x501377(0x188)];const _0x2f2389=await _0x5af784['GhgOg'](getCloudProviderObject,_0x33e0b5['cloudProvider'],_0x33e0b5[_0x501377(0x188)],_0x22b126,_0x3b2ae6,webSocketUtils,_0x33e0b5),_0x419dbf=await _0x2f2389['isClusterPresent']();if(!_0x419dbf){if(_0x5af784[_0x501377(0xe1)](_0x5af784[_0x501377(0x126)],_0x5af784[_0x501377(0x126)]))logger[_0x501377(0x235)](_0x501377(0x268)+_0x33e0b5['clusterName']+'\x20doesn\x27t\x20exist.\x20Proceeding\x20with\x20creating\x20a\x20new\x20cluster'),_0x14ff5c=![],_0x4eb223=!![];else{const _0x45ac0f=_0x5af784[_0x501377(0xe4)][_0x501377(0x193)]('|');let _0x2b2639=0x0;while(!![]){switch(_0x45ac0f[_0x2b2639++]){case'0':_0x30b9e7['clusterRegion']=_0x2d820d;continue;case'1':_0x1b302a=_0x501377(0x1c8)+_0x1f6856+'\x20in\x20existing\x20cluster\x20\x27'+_0x2bdbb0+'\x27';continue;case'2':_0x19db17[_0x501377(0x112)]=_0x510fd6[_0x501377(0x112)];continue;case'3':_0x12915c[_0x501377(0x1d8)]=_0x5df7b0;continue;case'4':_0x5c44a5[_0x501377(0x160)]=_0xf9f0a[_0x501377(0x160)];continue;case'5':const _0x38d55c={};_0x38d55c[_0x501377(0x1f3)]=_0x283e11['CLI_RUN_STARTED'],_0x38d55c[_0x501377(0x201)]=_0x5af784['BgYZU'],_0x82a456[_0x501377(0x16a)](_0x2bef7f,_0x38d55c);continue;case'6':_0x2c8814[_0x501377(0x235)](_0x3b07ea);continue;case'7':_0x541955[_0x501377(0x188)]=_0x15965a;continue;case'8':const _0x17c349={};_0x17c349[_0x501377(0x1f3)]=_0xab467b[_0x501377(0xec)],_0x17c349['message']=_0x21dced,_0x4cd21d[_0x501377(0x16a)](_0x82c2d4,_0x17c349);continue;}break;}}}else{if(_0x5af784[_0x501377(0x127)](_0x5af784[_0x501377(0xdf)],_0x5af784['rEKNN'])){const _0x452dcd={};_0x452dcd['type']=_0x41cd88[_0x501377(0xec)],_0x452dcd['message']=_0x3bcd94,_0x4343ae['sendEventToBackend'](_0x2777f2,_0x452dcd,_0x5af784['OHhMo'],!![]);}else _0x14ff5c=!![];}_0x205830=_0x33e0b5['clusterName'],_0x4f0e66=_0x33e0b5[_0x501377(0x1d8)][_0x501377(0x13d)](),_0x3d22ea=_0x33e0b5[_0x501377(0x234)];}else _0x121a03[_0x501377(0x1b3)](_0x501377(0x1e6)+_0x4796db+'\x20\x0a'+_0x65ec3d[_0x501377(0x27a)](_0x5599d7[_0x501377(0x19f)]));}else _0x33e0b5[_0x501377(0x1d1)]&&(_0x5af784['xPNbu'](_0x5af784[_0x501377(0x200)],_0x5af784['SkqWc'])?global_registry[_0x501377(0x1d1)]=_0x33e0b5[_0x501377(0x1d1)]:_0x2378f8=_0x5af784[_0x501377(0x132)]);global_registry[_0x501377(0x19b)]=_0x33e0b5[_0x501377(0x19b)];const _0x23816b={'method':_0x5af784['PhGQx'],'headers':_0x5af784['gWnKl'](getAuthHeader,_0x311fad[_0x501377(0x1e0)][_0x501377(0x1b7)],_0x311fad[_0x501377(0x1e0)]['password']),'throwHttpErrors':![]},_0x14deb0={};_0x14deb0[_0x501377(0x19b)]=_0x22b126;const _0x419f51=_0x14deb0;_0x4eb223&&(_0x5af784['LRQMq'](_0x5af784[_0x501377(0xf9)],_0x5af784[_0x501377(0xf9)])?_0x5af784[_0x501377(0x197)](_0x6dc226,_0x50de6a[_0x501377(0xfc)]):(_0x419f51[_0x501377(0x234)]=_0x3d22ea,_0x419f51[_0x501377(0x1d8)]=_0x4f0e66,_0x419f51[_0x501377(0x12f)]=!![],_0x419f51[_0x501377(0x17d)]=_0x33e0b5[_0x501377(0x226)]));_0x33e0b5[_0x501377(0x226)]&&(_0x5af784[_0x501377(0x116)](_0x5af784['HrszP'],_0x5af784[_0x501377(0x105)])?_0x1af7dc[_0x501377(0x162)]=!![]:logger[_0x501377(0x235)](_0x5af784[_0x501377(0xf3)]));const _0x4358ba='https://'+AG_API_URL+_0x501377(0xeb),_0x571a23={'searchParams':_0x419f51,'throwHttpErrors':![],..._0x23816b},_0x1a43a0=_0x571a23,_0x5d7012=await _0x5af784[_0x501377(0x118)](got,_0x4358ba,_0x1a43a0);(_0x5af784[_0x501377(0xe1)](_0x5d7012,null)||_0x5af784[_0x501377(0x127)](_0x5d7012,undefined))&&(_0x5af784[_0x501377(0x1ec)](_0x5af784[_0x501377(0x25b)],_0x5af784['krRYZ'])?_0x43015a=null:(_0x181d90=_0x5af784[_0x501377(0x175)],await _0x5af784['DAidB'](reportToGalactusAndSendToEDS,_0x33e0b5,_0x3b2ae6,_0x181d90,messageTypes[_0x501377(0x114)],_0x5af784[_0x501377(0x166)],_0x5af784[_0x501377(0xe5)],_0x5af784[_0x501377(0x190)]),logger[_0x501377(0x1b3)](_0x181d90),process[_0x501377(0x122)](0x1)));_0x5af784['rDUid'](_0x5d7012[_0x501377(0x280)],0x191)&&(_0x5af784['hxiSY'](_0x5af784['Mqblv'],_0x5af784[_0x501377(0x181)])?_0xc3ae4e=_0x3c6b0e[_0x575819[_0x501377(0x1d1)]]:(_0x181d90=_0x5af784[_0x501377(0x237)],await _0x5af784[_0x501377(0x277)](reportToGalactusAndSendToEDS,_0x33e0b5,_0x3b2ae6,_0x181d90,messageTypes[_0x501377(0x114)],_0x5af784[_0x501377(0x166)],_0x5af784[_0x501377(0x26d)],_0x5af784[_0x501377(0x190)]),logger[_0x501377(0x1b3)](_0x181d90),process[_0x501377(0x122)](0x1)));_0x5af784['vapWS'](_0x5d7012[_0x501377(0x280)],0xc8)&&(_0x5af784[_0x501377(0x26b)](_0x5af784[_0x501377(0x1c3)],_0x5af784['IQnlu'])?_0x302c9d[_0x501377(0x162)]=!![]:(_0x181d90=_0x501377(0x1d6)+JSON[_0x501377(0x27a)](_0x5d7012[_0x501377(0x243)]),await _0x5af784[_0x501377(0x115)](reportToGalactusAndSendToEDS,_0x33e0b5,_0x3b2ae6,_0x181d90,messageTypes[_0x501377(0x114)],_0x5af784[_0x501377(0x166)],_0x5af784[_0x501377(0x192)],_0x5af784['OHhMo']),logger['error'](_0x181d90),process[_0x501377(0x122)](0x1)));const _0x139060=JSON[_0x501377(0x1be)](_0x5d7012['body']),_0x52344e={};_0x52344e[_0x501377(0x1f3)]=WS_EVENTS[_0x501377(0x143)],_0x52344e['message']=_0x5af784['BgYZU'],webSocketUtils['sendEventToBackend'](_0x3b2ae6,_0x52344e);const _0x339375={};_0x339375[_0x501377(0x1f3)]=WS_EVENTS['LOG'],_0x339375[_0x501377(0x201)]=_0x5af784[_0x501377(0x1a7)],webSocketUtils[_0x501377(0x16a)](_0x3b2ae6,_0x339375);_0x139060['alreadyPresent']&&(_0x5af784[_0x501377(0x26b)](_0x5af784[_0x501377(0x1c6)],_0x5af784['SdgpI'])?(_0x181d90=_0x501377(0x18a)+_0x22b126+_0x501377(0xd6),await _0x5af784[_0x501377(0x219)](reportToGalactusAndSendToEDS,_0x33e0b5,_0x3b2ae6,_0x181d90,messageTypes[_0x501377(0x114)],_0x5af784['vkSih'],_0x5af784[_0x501377(0x1a1)],_0x5af784['OHhMo']),logger['error'](_0x181d90),process[_0x501377(0x122)](0x1)):(_0x2d33cb[_0x501377(0x235)](_0x501377(0x268)+_0x19bf40['clusterName']+'\x20doesn\x27t\x20exist.\x20Proceeding\x20with\x20creating\x20a\x20new\x20cluster'),_0x48276e=![],_0x2e9af9=!![]));const _0x3633b9=_0x139060[_0x501377(0x262)];let _0x5eaa88=_0x3633b9[_0x139060['defaultGridProfile']];if(_0x33e0b5[_0x501377(0x1d1)]){if(_0x5af784['RCObH'](_0x5af784[_0x501377(0x14c)],_0x5af784['nWhEG'])){const _0x113c56=_0x5af784[_0x501377(0x20b)]['split']('|');let _0x1f6494=0x0;while(!![]){switch(_0x113c56[_0x1f6494++]){case'0':_0x584e42[_0x501377(0x12c)]=!![];continue;case'1':_0x4a1062[_0x501377(0x26a)]=_0x5af784[_0x501377(0x117)];continue;case'2':_0x198cf7[_0x501377(0x235)](_0x5af784['mTKep']);continue;case'3':_0x4742a3[_0x501377(0x1f0)]=_0x5af784[_0x501377(0x1cd)];continue;case'4':_0x2b308b[_0x501377(0x274)]=_0x5af784[_0x501377(0x1e5)];continue;}break;}}else _0x5eaa88=_0x3633b9[_0x33e0b5['gridProfile']];}global_registry[_0x501377(0x12c)]=![];if(_0x33e0b5[_0x501377(0x17c)]){if(_0x5af784[_0x501377(0x153)](_0x5af784['VUOgd'],_0x5af784[_0x501377(0x1f4)])){const _0x49f96a=_0x5af784[_0x501377(0x18b)]['split']('|');let _0x5d6f8e=0x0;while(!![]){switch(_0x49f96a[_0x5d6f8e++]){case'0':logger['info'](_0x5af784['mTKep']);continue;case'1':global_registry[_0x501377(0x274)]=_0x5af784[_0x501377(0x1e5)];continue;case'2':global_registry[_0x501377(0x1f0)]=_0x5af784[_0x501377(0x1cd)];continue;case'3':global_registry[_0x501377(0x26a)]=_0x5af784['VTcwL'];continue;case'4':global_registry[_0x501377(0x12c)]=!![];continue;}break;}}else _0x472b8e['info'](_0x5af784[_0x501377(0xf3)]);}if(_0x5af784[_0x501377(0x127)](_0x14ff5c,![])&&_0x5af784[_0x501377(0x161)](_0x4eb223,![])){if(_0x5af784[_0x501377(0x141)](_0x5af784[_0x501377(0x23c)],_0x5af784[_0x501377(0x23c)])){_0x5af784['heSbv'](_0x5eaa88,undefined)&&(_0x5af784['LruTJ'](_0x5af784[_0x501377(0x13b)],_0x5af784[_0x501377(0x13b)])?(_0x181d90=_0x5af784[_0x501377(0x238)],await _0x5af784[_0x501377(0x219)](reportToGalactusAndSendToEDS,_0x33e0b5,_0x3b2ae6,_0x181d90,messageTypes[_0x501377(0x114)],_0x5af784[_0x501377(0x166)],_0x5af784['ZhpDv'],_0x5af784['OHhMo']),logger[_0x501377(0x1b3)](_0x181d90),process[_0x501377(0x122)](0x1)):(_0x36bead[_0x501377(0x234)]=_0x3bb391,_0x32165b['cloudProvider']=_0x5980ee,_0x33c592[_0x501377(0x12f)]=!![],_0x433b9b['clusterAutoUpgrade']=_0x5b01ec['clusterAutoupgrade']));global_registry[_0x501377(0x11c)]=_0x5eaa88['id'],_0x181d90='Will\x20be\x20spawning\x20the\x20grid\x20'+_0x22b126+_0x501377(0x15f)+_0x5eaa88['name']+_0x501377(0x206),logger['info'](_0x181d90);const _0x58232f={};_0x58232f[_0x501377(0x1f3)]=WS_EVENTS['LOG'],_0x58232f[_0x501377(0x201)]=_0x181d90,webSocketUtils[_0x501377(0x16a)](_0x3b2ae6,_0x58232f),_0x4f0e66=_0x5eaa88[_0x501377(0x1d8)],_0x205830=_0x5eaa88[_0x501377(0x188)],_0x3d22ea=_0x5eaa88[_0x501377(0x234)],_0x1ee571=_0x5eaa88[_0x501377(0x1d0)],_0x32fb45=_0x5eaa88[_0x501377(0x22b)],_0xfc63d1=_0x5eaa88[_0x501377(0x13e)],_0x16a916=_0x5eaa88['securityGroups'],_0x1fb092=_0x5eaa88[_0x501377(0x119)],_0x38d212=_0x5eaa88['s3bucket'],_0x5caf06=_0x5eaa88[_0x501377(0x19a)],_0x8e1a5c=_0x5eaa88[_0x501377(0x1cf)],_0x47632c=_0x139060[_0x501377(0x112)],_0x459608=_0x139060['browserVersion'];_0xfc63d1&&_0x5af784[_0x501377(0x259)](_0xfc63d1[_0x501377(0x148)],0x0)&&(_0x5af784['dUnqn'](_0x5af784[_0x501377(0x228)],_0x5af784[_0x501377(0x228)])?_0xfc63d1=null:_0x514421=_0x5af784[_0x501377(0x27b)]);_0x1fb092&&_0x5af784[_0x501377(0x134)](_0x1fb092[_0x501377(0x148)],0x0)&&(_0x5af784[_0x501377(0x127)](_0x5af784['zxPOd'],_0x5af784[_0x501377(0x1d7)])?_0x304514[_0x501377(0x204)]():_0x1fb092=null);if(_0x5af784['vapWS'](_0x5eaa88[_0x501377(0x16e)],undefined)&&_0x5eaa88[_0x501377(0x16e)]){if(_0x5af784[_0x501377(0x26b)](_0x5af784[_0x501377(0x1d4)],_0x5af784[_0x501377(0x1cb)]))throw new _0x2fd36d(_0x501377(0x196)+_0x22f837+'\x20is\x20already\x20present.\x20Cannot\x20spawn\x20a\x20new\x20cluster');else global_registry[_0x501377(0x162)]=!![];}_0x5af784[_0x501377(0x231)](updateGlobalRegistryWithConfig,_0x4f0e66,_0x205830,_0x3d22ea,_0x1ee571,_0x32fb45,_0x38d212,_0x5eaa88,_0x47632c,_0x459608,_0x5caf06,_0x8e1a5c,_0x33e0b5['clusterAutoupgrade']),global_registry[_0x501377(0x12c)]&&(_0x5af784[_0x501377(0x129)](_0x5af784[_0x501377(0x218)],_0x5af784[_0x501377(0x218)])?_0x5af784['RaZSL'](updateGlobalRegistryForHubHa,_0x139060[_0x501377(0x209)]):_0x3bcba1['isPrivateGrid']=!![]);}else _0x587cca=_0x5af784[_0x501377(0x16b)];}else{if(_0x5af784['CjXbI'](_0x4eb223,!![])){if(_0x5af784[_0x501377(0x25f)](_0x5af784[_0x501377(0x267)],_0x5af784[_0x501377(0x1ed)])){const _0xa3b001={'azure.workload.identity/use':_0x5af784[_0x501377(0xf6)],..._0x39bc97[0x0][_0x501377(0x1e1)][_0x501377(0x1d2)][_0x501377(0x1b1)]['labels']};_0x536da3[0x0]['spec'][_0x501377(0x1d2)]['metadata'][_0x501377(0x11a)]=_0xa3b001,_0x391a25[0x0][_0x501377(0x1e1)][_0x501377(0x1d2)]['spec']['serviceAccountName']=_0x5af784[_0x501377(0x266)];}else{_0x181d90=_0x501377(0x255)+_0x22b126,logger[_0x501377(0x235)](_0x181d90);const _0x5b9099={};_0x5b9099[_0x501377(0x1f3)]=WS_EVENTS['LOG'],_0x5b9099['message']=_0x181d90,webSocketUtils['sendEventToBackend'](_0x3b2ae6,_0x5b9099),_0x1ee571=_0x5eaa88[_0x501377(0x1d0)],_0x32fb45=_0x5eaa88[_0x501377(0x22b)],_0xfc63d1=null,_0x16a916=null,_0x1fb092=null,_0x38d212=_0x5eaa88[_0x501377(0x1b9)],_0x5caf06=_0x5eaa88[_0x501377(0x19a)],_0x8e1a5c=_0x5eaa88[_0x501377(0x1cf)],_0x47632c=_0x139060[_0x501377(0x112)],_0x459608=_0x139060[_0x501377(0x160)],_0x5af784[_0x501377(0x1eb)](_0x5eaa88[_0x501377(0x16e)],undefined)&&_0x5eaa88[_0x501377(0x16e)]&&(_0x5af784[_0x501377(0x23e)](_0x5af784[_0x501377(0xf0)],_0x5af784[_0x501377(0xf0)])?global_registry[_0x501377(0x162)]=!![]:_0x282c82=null),_0x5af784['kUiIt'](updateGlobalRegistryWithConfig,_0x4f0e66,_0x205830,_0x3d22ea,_0x1ee571,_0x32fb45,_0x38d212,_0x5eaa88,_0x47632c,_0x459608,_0x5caf06,_0x8e1a5c,_0x33e0b5[_0x501377(0x226)]),global_registry[_0x501377(0x12c)]&&(_0x5af784[_0x501377(0xdc)](_0x5af784['tSPxu'],_0x5af784[_0x501377(0x131)])?_0x14ec1a[_0x501377(0x235)](_0x501377(0x104)+_0x8ed172+'\x20'):_0x5af784[_0x501377(0x17b)](updateGlobalRegistryForHubHa,_0x139060['kafkaUploader']));}}else{if(_0x5af784[_0x501377(0x127)](_0x5af784[_0x501377(0x232)],_0x5af784[_0x501377(0x232)])){const _0x138bc9=_0x5af784['akHNW'][_0x501377(0x193)]('|');let _0x27857a=0x0;while(!![]){switch(_0x138bc9[_0x27857a++]){case'0':global_registry[_0x501377(0x160)]=_0x139060[_0x501377(0x160)];continue;case'1':global_registry[_0x501377(0x15d)]=_0x3d22ea;continue;case'2':global_registry[_0x501377(0x1d8)]=_0x4f0e66;continue;case'3':const _0x52bffc={};_0x52bffc[_0x501377(0x1f3)]=WS_EVENTS[_0x501377(0xec)],_0x52bffc[_0x501377(0x201)]=_0x181d90,webSocketUtils[_0x501377(0x16a)](_0x3b2ae6,_0x52bffc);continue;case'4':_0x181d90=_0x501377(0x1c8)+_0x22b126+'\x20in\x20existing\x20cluster\x20\x27'+_0x205830+'\x27';continue;case'5':const _0x35c7cf={};_0x35c7cf[_0x501377(0x1f3)]=WS_EVENTS[_0x501377(0x143)],_0x35c7cf[_0x501377(0x201)]=_0x5af784['BgYZU'],webSocketUtils[_0x501377(0x16a)](_0x3b2ae6,_0x35c7cf);continue;case'6':global_registry[_0x501377(0x188)]=_0x205830;continue;case'7':logger[_0x501377(0x235)](_0x181d90);continue;case'8':global_registry[_0x501377(0x112)]=_0x139060[_0x501377(0x112)];continue;}break;}}else _0x47539f=_0x5d8a56[_0x501377(0x1e7)],_0x3e7f30=_0x5af784[_0x501377(0x154)];}}const _0x361cc3=await _0x5af784[_0x501377(0x139)](getCloudProviderObject,_0x4f0e66,_0x205830,_0x22b126,_0x3b2ae6,webSocketUtils,_0x33e0b5);if(_0x5af784[_0x501377(0x101)](_0x4f0e66,AZURE)){if(_0x5af784['JthLl'](_0x5af784[_0x501377(0xdd)],_0x5af784[_0x501377(0xdd)]))_0x361cc3[_0x501377(0x204)]();else{const _0x53b6b5={};_0x53b6b5[_0x501377(0x174)]=_0x5af784[_0x501377(0x214)],_0x53b6b5[_0x501377(0x1f3)]=_0x5af784[_0x501377(0x10f)];const _0xf2f075={};_0xf2f075[_0x501377(0x174)]=_0x5af784[_0x501377(0x1ea)],_0xf2f075[_0x501377(0x1f3)]=_0x5af784[_0x501377(0x10f)];const _0x3c7005={};_0x3c7005['description']=_0x5af784[_0x501377(0x14e)],_0x3c7005['type']=_0x5af784['TJnUT'];const _0x2abd0b={};_0x2abd0b[_0x501377(0x174)]=_0x5af784[_0x501377(0x1e8)],_0x2abd0b[_0x501377(0x1f3)]=_0x5af784[_0x501377(0x10f)];const _0x1461ff={};_0x1461ff[_0x501377(0x174)]=_0x5af784[_0x501377(0x1a3)],_0x1461ff[_0x501377(0x1f3)]=_0x5af784[_0x501377(0x10f)];const _0x188694={};_0x188694['description']=_0x5af784['jFLSj'],_0x188694[_0x501377(0x1f3)]=_0x5af784[_0x501377(0x10f)];const _0x53a482={};_0x53a482[_0x501377(0x174)]=_0x5af784[_0x501377(0x207)],_0x53a482[_0x501377(0x1f3)]=_0x5af784[_0x501377(0xf2)],_0x53a482[_0x501377(0x1f8)]=![];const _0x4c0562={};_0x4c0562[_0x501377(0x174)]=_0x5af784[_0x501377(0x125)],_0x4c0562[_0x501377(0x1f3)]=_0x5af784[_0x501377(0xf2)],_0x4c0562[_0x501377(0x1f8)]=![];const _0x352b1e={};_0x352b1e[_0x501377(0x174)]=_0x5af784[_0x501377(0x1b6)],_0x352b1e[_0x501377(0x1f3)]=_0x5af784['TUSve'],_0x352b1e['default']=![];const _0x1c4d94={};return _0x1c4d94['grid-name']=_0x53b6b5,_0x1c4d94[_0x501377(0x21b)]=_0xf2f075,_0x1c4d94['cluster-name']=_0x3c7005,_0x1c4d94[_0x501377(0x1a9)]=_0x2abd0b,_0x1c4d94['region']=_0x1461ff,_0x1c4d94[_0x501377(0x1df)]=_0x188694,_0x1c4d94[_0x501377(0x1ee)]=_0x53a482,_0x1c4d94['hub-ha']=_0x4c0562,_0x1c4d94[_0x501377(0x17e)]=_0x352b1e,_0x3add32[_0x501377(0x17a)](_0x47fa0d[_0x501377(0x1b5)])[_0x501377(0xda)](_0x380c43)['options'](_0x1c4d94)['help'](_0x5af784[_0x501377(0x21c)])[_0x501377(0x1a8)];}}let _0x5efb90;if(_0x5af784['fRBbv'](_0x14ff5c,![])){_0x181d90=_0x501377(0x15e)+_0x3d22ea+').';const _0x18d64c={};_0x18d64c[_0x501377(0x1f3)]=WS_EVENTS[_0x501377(0xec)],_0x18d64c[_0x501377(0x201)]=_0x181d90,webSocketUtils[_0x501377(0x16a)](_0x3b2ae6,_0x18d64c),logger['info'](_0x181d90);const _0x4d4aee=await _0x361cc3[_0x501377(0x1f7)]();if(_0x4d4aee){if(_0x5af784[_0x501377(0x24f)](_0x5af784[_0x501377(0x258)],_0x5af784[_0x501377(0x258)]))_0x2e4220[_0x501377(0x235)]('Found\x20Subnets:\x20'+_0x3de1ba[_0x501377(0x27a)](_0x39b83a)+'\x20');else{const _0x5ad776={};_0x5ad776[_0x501377(0x1f3)]=WS_EVENTS[_0x501377(0xec)],_0x5ad776[_0x501377(0x201)]=_0x501377(0x196)+_0x205830+_0x501377(0x21e),webSocketUtils['sendEventToBackend'](_0x3b2ae6,_0x5ad776,_0x5af784[_0x501377(0x168)]),logger[_0x501377(0x235)](_0x501377(0x196)+_0x205830+_0x501377(0x21e)),_0x14ff5c=!![];if(_0x5af784[_0x501377(0x25d)](_0x4eb223,!![])){if(_0x5af784[_0x501377(0x272)](_0x5af784[_0x501377(0x1f9)],_0x5af784[_0x501377(0x1f9)]))throw new Error('Cluster\x20'+_0x205830+_0x501377(0x202));else{const _0x1c5322={};_0x1c5322['type']=_0x596cbb[_0x501377(0xec)],_0x1c5322[_0x501377(0x201)]=_0x501377(0x196)+_0xdbfc77+_0x501377(0x21e),_0x2df9c7[_0x501377(0x16a)](_0x278184,_0x1c5322,_0x5af784[_0x501377(0x168)]),_0x33d497[_0x501377(0x235)]('Cluster\x20'+_0x177107+_0x501377(0x21e)),_0x64eac7=!![];if(_0x5af784[_0x501377(0x153)](_0x58f54e,!![]))throw new _0x35b4ef('Cluster\x20'+_0x164e97+_0x501377(0x202));}}}}else{const _0x2bf14e={};_0x2bf14e[_0x501377(0x1f3)]=WS_EVENTS[_0x501377(0xec)],_0x2bf14e['message']=_0x5af784[_0x501377(0x133)],webSocketUtils[_0x501377(0x16a)](_0x3b2ae6,_0x2bf14e),logger[_0x501377(0x235)](_0x5af784['Vkjen']);const _0x2b44f5=_0x5af784['MZIpC'](_0xfc63d1,null)&&_0x5af784['vapWS'](_0xfc63d1,undefined),_0x37a45b=_0x5af784[_0x501377(0x164)](_0x1fb092,null)&&_0x5af784[_0x501377(0x128)](_0x1fb092,undefined)&&_0x5af784[_0x501377(0x1b4)](_0x1fb092[_0x501377(0x148)],0x0);if(_0x2b44f5){_0x5af784['BoMVI'](_0x37a45b,![])&&(_0x181d90=_0x5af784[_0x501377(0xfd)],await _0x5af784[_0x501377(0x1dd)](reportToGalactusAndSendToEDS,_0x33e0b5,_0x3b2ae6,_0x181d90,messageTypes[_0x501377(0x114)],_0x5af784[_0x501377(0x166)],_0x5af784['QMZPM'],_0x5af784[_0x501377(0x190)]),logger[_0x501377(0x1b3)](_0x181d90),process['exit'](0x1));const _0x30f0a5=await _0x361cc3['isVPCPresent'](_0xfc63d1);_0x5af784[_0x501377(0x182)](_0x30f0a5,![])?(_0x181d90=_0x5af784['kMZeV'],await _0x5af784['wXfKT'](reportToGalactusAndSendToEDS,_0x33e0b5,_0x3b2ae6,_0x181d90,messageTypes[_0x501377(0x114)],_0x5af784[_0x501377(0x166)],_0x5af784['BpjmP'],_0x5af784['OHhMo']),logger[_0x501377(0x1b3)](_0x181d90),process[_0x501377(0x122)](0x1)):logger[_0x501377(0x235)](_0x501377(0x104)+_0xfc63d1+'\x20');const _0x3be838=await _0x361cc3[_0x501377(0x158)](_0x1fb092,_0xfc63d1);_0x5af784[_0x501377(0x171)](_0x3be838[0x0],![])?(_0x181d90=_0x501377(0x244)+JSON['stringify'](_0x3be838[0x1])+'\x20are\x20not\x20present\x20in\x20VPC:\x20'+_0xfc63d1+_0x501377(0x276),await _0x5af784[_0x501377(0x248)](reportToGalactusAndSendToEDS,_0x33e0b5,_0x3b2ae6,_0x181d90,messageTypes[_0x501377(0x114)],_0x5af784[_0x501377(0x166)],_0x5af784[_0x501377(0xe9)],_0x5af784['OHhMo']),logger[_0x501377(0x1b3)](_0x181d90),process['exit'](0x1)):logger[_0x501377(0x235)](_0x501377(0x13f)+JSON[_0x501377(0x27a)](_0x1fb092)+'\x20'),[_0xfc63d1,_0x1fb092]=await _0x361cc3[_0x501377(0x20a)](_0xfc63d1,_0x1fb092);}else{const _0x104060=_0x5af784[_0x501377(0x16c)][_0x501377(0x193)]('|');let _0x5cdc0b=0x0;while(!![]){switch(_0x104060[_0x5cdc0b++]){case'0':logger[_0x501377(0x235)](_0x5af784[_0x501377(0x1b8)]);continue;case'1':const _0x51d7dd={};_0x51d7dd[_0x501377(0x1f3)]=WS_EVENTS['LOG'],_0x51d7dd[_0x501377(0x201)]=_0x5af784[_0x501377(0x1b0)],webSocketUtils[_0x501377(0x16a)](_0x3b2ae6,_0x51d7dd);continue;case'2':logger['info'](_0x5af784['BbMmW']);continue;case'3':[_0xfc63d1,_0x1fb092]=await _0x361cc3[_0x501377(0x20a)](_0xfc63d1,_0x1fb092);continue;case'4':const _0x337bfa={};_0x337bfa['type']=WS_EVENTS[_0x501377(0xec)],_0x337bfa[_0x501377(0x201)]=_0x5af784['wlsmz'],webSocketUtils[_0x501377(0x16a)](_0x3b2ae6,_0x337bfa);continue;}break;}}}}_0x14ff5c&&_0x5af784['oSfnI'](_0x4f0e66,AZURE)&&(await _0x361cc3[_0x501377(0x22c)](),await _0x361cc3['createOtherResources']());const [_0x5782e4,_0x54215e,_0x56c769,_0x5cf6e8,_0x3f81e1,_0x38800d,_0x5d691b]=await _0x5af784[_0x501377(0x279)](createK8sClient,_0x361cc3,_0x33e0b5[_0x501377(0x263)]);_0x5af784[_0x501377(0x186)](_0x14ff5c,![])&&_0x5af784['iOTJC'](_0x4f0e66,AWS)&&(global_registry[_0x501377(0x203)]=!![],_0x5efb90=await _0x361cc3[_0x501377(0x199)](_0x5782e4,_0x33e0b5));if(_0x5af784[_0x501377(0x129)](_0x14ff5c,![])&&global_registry['enableHubHa'])try{await _0x361cc3['setupHubHa'](_0x38800d,_0x5d691b,_0x33e0b5,_0xfc63d1,_0x1fb092);const _0x49fa30={};_0x49fa30[_0x501377(0x1f3)]=WS_EVENTS[_0x501377(0xec)],_0x49fa30[_0x501377(0x201)]=_0x5af784['GgsUZ'],webSocketUtils[_0x501377(0x16a)](_0x3b2ae6,_0x49fa30);!await _0x5af784[_0x501377(0x118)](namespaceExists,_0x5782e4,global_registry['hubHaNameSpace'])&&await _0x5af784[_0x501377(0x279)](createNamespace,_0x5782e4,global_registry[_0x501377(0x26a)]);logger[_0x501377(0x235)](_0x5af784[_0x501377(0x147)]);let _0x41fb91=await fs[_0x501377(0x27e)](path[_0x501377(0x221)](__dirname,_0x5af784['rtLXv'],_0x5af784[_0x501377(0x26c)],_0x5af784[_0x501377(0x205)],_0x5af784['hvshq']),_0x5af784[_0x501377(0x27d)]);_0x41fb91=_0x41fb91['replace'](/<RedisClientPassword>/g,_0x5af784[_0x501377(0x17b)](encodeBase64,global_registry[_0x501377(0x1f0)])),_0x41fb91=_0x41fb91['replace'](/<KafkaClientPassword>/g,_0x5af784[_0x501377(0x23b)](encodeBase64,global_registry[_0x501377(0x274)])),_0x41fb91=_0x41fb91[_0x501377(0x140)](/<BstackUsername>/g,_0x5af784[_0x501377(0x23b)](encodeBase64,global_registry[_0x501377(0x146)])),_0x41fb91=_0x41fb91[_0x501377(0x140)](/<BstackAccessKey>/g,_0x5af784[_0x501377(0x249)](encodeBase64,global_registry[_0x501377(0x265)]));const _0x30337b=yaml[_0x501377(0x144)](_0x41fb91);await _0x5af784[_0x501377(0x106)](kubeApply,_0x30337b,_0x5d691b),logger[_0x501377(0x235)](_0x5af784[_0x501377(0x124)]);let _0x47c271=_0x5af784[_0x501377(0xe8)];if(_0x5af784[_0x501377(0x134)](_0x4f0e66,AZURE))_0x47c271=_0x5af784[_0x501377(0x27b)];else _0x5af784['iFIBR'](_0x4f0e66,GCP)&&(_0x47c271=_0x5af784['XRsXo']);logger[_0x501377(0x235)](_0x5af784[_0x501377(0xd8)]);let _0x4dd440=await fs[_0x501377(0x27e)](path[_0x501377(0x221)](__dirname,_0x5af784[_0x501377(0xef)],_0x5af784[_0x501377(0x26c)],_0x5af784[_0x501377(0x205)],_0x5af784[_0x501377(0x1f2)]),_0x5af784[_0x501377(0x27d)]);_0x4dd440=_0x4dd440['replace'](/<HubHaNameSpace>/g,global_registry[_0x501377(0x26a)]),_0x4dd440=_0x4dd440[_0x501377(0x140)](/<StorageClassName>/g,_0x47c271);const _0x2a94fb=yaml[_0x501377(0x144)](_0x4dd440);await _0x5af784[_0x501377(0x15a)](kubeApply,_0x2a94fb,_0x5d691b),logger[_0x501377(0x235)](_0x5af784[_0x501377(0x246)]),logger[_0x501377(0x235)](_0x5af784[_0x501377(0x264)]);let _0x374848=await fs['readFileAsync'](path[_0x501377(0x221)](__dirname,_0x5af784[_0x501377(0xef)],_0x5af784[_0x501377(0x26c)],_0x5af784[_0x501377(0x205)],_0x5af784['rbZmO']),_0x5af784['kdvgC']);_0x374848=_0x374848[_0x501377(0x140)](/<HubHaNameSpace>/g,global_registry[_0x501377(0x26a)]),_0x374848=_0x374848['replace'](/<StorageClassName>/g,_0x47c271);const _0x50c1f4=yaml[_0x501377(0x144)](_0x374848);await _0x5af784['hHAsV'](kubeApply,_0x50c1f4,_0x5d691b),logger[_0x501377(0x235)](_0x5af784[_0x501377(0x173)]),logger['info'](_0x5af784[_0x501377(0x24a)]);let _0x4a5833=await fs[_0x501377(0x27e)](path['join'](__dirname,_0x5af784[_0x501377(0xef)],_0x5af784[_0x501377(0x26c)],_0x5af784['wfagr'],_0x5af784[_0x501377(0x242)]),_0x5af784[_0x501377(0x27d)]);_0x4a5833=_0x4a5833[_0x501377(0x140)](/<UploaderImageVersion>/g,global_registry['uploaderImageVersion']),_0x4a5833=_0x4a5833[_0x501377(0x140)](/<HubHaNameSpace>/g,global_registry[_0x501377(0x26a)]);const _0x2fe305=yaml[_0x501377(0x144)](_0x4a5833);_0x5af784['QfOuv'](global_registry['cloudProvider'],AZURE)&&(_0x2fe305[0x0]['spec'][_0x501377(0x1d2)]['metadata'][_0x501377(0x11a)]={'azure.workload.identity/use':_0x5af784[_0x501377(0xf6)],..._0x2fe305[0x0][_0x501377(0x1e1)][_0x501377(0x1d2)]['metadata'][_0x501377(0x11a)]},_0x2fe305[0x0][_0x501377(0x1e1)]['template'][_0x501377(0x1e1)][_0x501377(0xff)]=_0x5af784[_0x501377(0x266)]);await _0x5af784['hHAsV'](kubeApply,_0x2fe305,_0x5d691b),logger['info'](_0x5af784[_0x501377(0x20c)]);const _0x90a1d4={};_0x90a1d4[_0x501377(0x1f3)]=WS_EVENTS[_0x501377(0xec)],_0x90a1d4[_0x501377(0x201)]=_0x5af784[_0x501377(0x10b)],webSocketUtils['sendEventToBackend'](_0x3b2ae6,_0x90a1d4),logger[_0x501377(0x235)](_0x5af784[_0x501377(0x10d)]);}catch(_0x4c03b4){const _0x31fbc5=_0x5af784[_0x501377(0x163)][_0x501377(0x193)]('|');let _0x1af212=0x0;while(!![]){switch(_0x31fbc5[_0x1af212++]){case'0':await _0x5af784[_0x501377(0x219)](reportToGalactusAndSendToEDS,_0x33e0b5,_0x3b2ae6,_0x181d90,messageTypes[_0x501377(0x114)],_0x5af784['vkSih'],_0x5af784[_0x501377(0xdb)],_0x5af784[_0x501377(0x190)]);continue;case'1':process[_0x501377(0x122)](0x1);continue;case'2':await _0x361cc3[_0x501377(0x236)](_0x5782e4,global_registry[_0x501377(0x15d)]);continue;case'3':logger[_0x501377(0x1b3)](_0x181d90);continue;case'4':_0x181d90=_0x501377(0x1aa)+_0x4c03b4[_0x501377(0x201)];continue;}break;}}try{_0x3e65a1=_0x5af784[_0x501377(0x142)](kebabCase,_0x22b126),logger[_0x501377(0x235)](_0x5af784[_0x501377(0x18e)]);const _0x5b0946={};_0x5b0946[_0x501377(0x1f3)]=WS_EVENTS[_0x501377(0xec)],_0x5b0946[_0x501377(0x201)]=_0x5af784[_0x501377(0x18e)],webSocketUtils[_0x501377(0x16a)](_0x3b2ae6,_0x5b0946);if(_0x5af784[_0x501377(0xf8)](_0x3e65a1,_0x5af784[_0x501377(0x266)])){const _0x121490={};_0x121490[_0x501377(0x123)]=_0x5af784[_0x501377(0x21d)],_0x121490[_0x501377(0x169)]=_0x5af784[_0x501377(0x21d)];const _0x46db75={};_0x46db75[_0x501377(0x1c5)]=_0x3e65a1,_0x46db75[_0x501377(0x1e4)]=_0x121490;const _0xed4bea={};_0xed4bea[_0x501377(0x1b1)]=_0x46db75;const _0x27ca7c=_0xed4bea,_0x2ef725={};_0x2ef725[_0x501377(0x243)]=_0x27ca7c,await _0x5782e4[_0x501377(0x281)](_0x2ef725),logger[_0x501377(0x235)](_0x5af784[_0x501377(0x285)]);}const _0x12dd2f={};_0x12dd2f[_0x501377(0x1f3)]=WS_EVENTS[_0x501377(0xec)],_0x12dd2f[_0x501377(0x201)]=_0x5af784['YKenC'],webSocketUtils[_0x501377(0x16a)](_0x3b2ae6,_0x12dd2f);const _0xeb1bc6={};_0xeb1bc6[_0x501377(0x1f3)]=WS_EVENTS[_0x501377(0xec)],_0xeb1bc6[_0x501377(0x201)]=_0x5af784[_0x501377(0x1f5)],webSocketUtils[_0x501377(0x16a)](_0x3b2ae6,_0xeb1bc6),logger[_0x501377(0x235)](_0x5af784[_0x501377(0x269)]);let _0x20ccd7={};_0x5af784[_0x501377(0x18d)](_0x4f0e66,AZURE)&&(_0x20ccd7={'clientId':await _0x361cc3[_0x501377(0x211)]('turboscale-managed-identity-'+_0x205830)});await _0x5af784[_0x501377(0x16f)](addGridComponents,_0x5782e4,_0x54215e,_0x56c769,_0x5cf6e8,_0x3e65a1,_0x205830,_0x5efb90,_0x3f81e1,_0x5d691b,_0x20ccd7),_0x181d90=_0x5af784[_0x501377(0x24c)],logger[_0x501377(0x235)](_0x181d90);const _0x19daf9={};_0x19daf9['type']=WS_EVENTS[_0x501377(0xec)],_0x19daf9[_0x501377(0x201)]=_0x181d90,webSocketUtils[_0x501377(0x16a)](_0x3b2ae6,_0x19daf9),_0x181d90=_0x5af784['XyqoP'],logger[_0x501377(0x235)](_0x181d90);const _0x2f47a5={};_0x2f47a5[_0x501377(0x1f3)]=WS_EVENTS[_0x501377(0xec)],_0x2f47a5[_0x501377(0x201)]=_0x181d90,webSocketUtils[_0x501377(0x16a)](_0x3b2ae6,_0x2f47a5),await _0x5af784['eXwVf'](waitForDeployment,_0x54215e,_0x3e65a1,TURBOSCALE_DEPLOYMENT,0x1d4c0);const _0x3f12d9=await _0x5af784[_0x501377(0x282)](getNamespaceUID,_0x5782e4,_0x3e65a1),_0x627a27=global_registry[_0x501377(0x162)]?_0x5af784[_0x501377(0x1dc)]:_0x5af784['XtmhU'],_0x41d6b2={};_0x41d6b2[_0x501377(0x1c5)]=_0x627a27,_0x41d6b2[_0x501377(0x10a)]=_0x5af784[_0x501377(0x1ff)];const _0x9fd654=await _0x5782e4[_0x501377(0xd9)](_0x41d6b2);let _0x4d6de6=_0x361cc3['getGridHostname'](_0x9fd654)+'/'+_0x3e65a1,_0xfefee3=_0x5af784[_0x501377(0x132)];try{const _0x691faf=_0x501377(0x1fb)+AG_API_URL+_0x501377(0x13c)+_0x3f12d9,_0x3cf2d6=await _0x5af784[_0x501377(0x189)](got,_0x691faf,_0x23816b);(_0x5af784[_0x501377(0x113)](_0x3cf2d6,null)||_0x5af784['Yavhb'](_0x3cf2d6,undefined))&&(_0x181d90=_0x5af784[_0x501377(0x19d)],await _0x5af784[_0x501377(0x1dd)](reportToGalactusAndSendToEDS,_0x33e0b5,_0x3b2ae6,_0x181d90,messageTypes['ERROR'],_0x5af784[_0x501377(0x166)],_0x5af784[_0x501377(0x217)],_0x5af784[_0x501377(0x190)]),logger['error'](_0x181d90),process[_0x501377(0x122)](0x1));_0x5af784['aTBUq'](_0x3cf2d6[_0x501377(0x280)],0x191)&&(_0x181d90=_0x5af784['BkmSt'],await _0x5af784[_0x501377(0x185)](reportToGalactusAndSendToEDS,_0x33e0b5,_0x3b2ae6,_0x181d90,messageTypes[_0x501377(0x114)],_0x5af784['vkSih'],_0x5af784['DmDhn'],_0x5af784[_0x501377(0x190)]),logger[_0x501377(0x1b3)](_0x181d90),process[_0x501377(0x122)](0x1));_0x5af784['DpzWy'](_0x3cf2d6['statusCode'],0xc8)&&(_0x181d90='Failed\x20to\x20get\x20grid\x20url\x20from\x20the\x20server.\x20Non\x20200\x20response\x20from\x20server!\x20'+JSON[_0x501377(0x27a)](_0x3cf2d6),await _0x5af784[_0x501377(0x25e)](reportToGalactusAndSendToEDS,_0x33e0b5,_0x3b2ae6,_0x181d90,messageTypes[_0x501377(0x114)],_0x5af784[_0x501377(0x166)],_0x5af784[_0x501377(0x12a)],_0x5af784['OHhMo']),logger[_0x501377(0x1b3)](_0x181d90),process[_0x501377(0x122)](0x1));const _0x1990a0=JSON[_0x501377(0x1be)](_0x3cf2d6['body']);_0x1990a0[_0x501377(0x1e7)]&&(_0x4d6de6=_0x1990a0[_0x501377(0x1e7)],_0xfefee3=_0x5af784[_0x501377(0x154)]),global_registry[_0x501377(0x162)]&&(_0xfefee3=_0x5af784['VcTDL']);}catch(_0x529c3e){}_0x181d90=_0x501377(0x25a)+_0x4d6de6+'\x20',logger[_0x501377(0x235)](_0x181d90);const _0x45d1d6={};_0x45d1d6[_0x501377(0x1f3)]=WS_EVENTS[_0x501377(0xec)],_0x45d1d6['message']=_0x181d90,webSocketUtils['sendEventToBackend'](_0x3b2ae6,_0x45d1d6),_0x181d90=_0x501377(0x1e3)+_0xfefee3+_0x501377(0xfe)+_0x4d6de6+_0x501377(0x145),logger[_0x501377(0x235)](_0x181d90);const _0xc94990={};_0xc94990[_0x501377(0x1f3)]=WS_EVENTS[_0x501377(0xec)],_0xc94990[_0x501377(0x201)]=_0x181d90,webSocketUtils['sendEventToBackend'](_0x3b2ae6,_0xc94990);const _0x4dc45e={};_0x4dc45e[_0x501377(0x1f3)]=WS_EVENTS['CLI_RUN_FINISHED'],_0x4dc45e[_0x501377(0x201)]=_0x501377(0x10c)+_0x4d6de6,webSocketUtils[_0x501377(0x16a)](_0x3b2ae6,_0x4dc45e),await webSocketUtils[_0x501377(0x13a)](0x7d0);}catch(_0x149663){logger[_0x501377(0x1b3)](_0x501377(0x109)+_0x149663+'\x20\x0a'+JSON[_0x501377(0x27a)](_0x149663[_0x501377(0x19f)]));if(_0x5af784[_0x501377(0x259)](_0x14ff5c,![]))try{logger['info'](_0x5af784[_0x501377(0x15b)]),await _0x5af784['FOJLI'](removeGridComponents,_0x5782e4,_0x54215e,_0x56c769,_0x5cf6e8,_0x3e65a1),await _0x361cc3['deleteCluster'](_0x5782e4,global_registry['clusterRegion']);}catch(_0x5231eb){logger['error'](_0x501377(0x1e6)+_0x5231eb+'\x20\x0a'+JSON[_0x501377(0x27a)](_0x5231eb[_0x501377(0x19f)]));}throw _0x149663;}}catch(_0x3099d3){const _0xec0d22='Unable\x20to\x20Spawn\x20the\x20Grid!\x20Error:\x20'+_0x3099d3+'\x20\x0a'+JSON[_0x501377(0x27a)](_0x3099d3[_0x501377(0x19f)]);if(_0x3b2ae6){const _0x381eef={};_0x381eef[_0x501377(0x1f3)]=WS_EVENTS[_0x501377(0xec)],_0x381eef[_0x501377(0x201)]=_0xec0d22,webSocketUtils[_0x501377(0x16a)](_0x3b2ae6,_0x381eef,_0x5af784[_0x501377(0x190)],!![]);}await webSocketUtils[_0x501377(0x13a)](0x7d0);const _0x5f1ac={};_0x5f1ac[_0x501377(0x1b3)]=_0xec0d22,await _0x5af784[_0x501377(0x139)](sendInstrumentationEvent,_0x33e0b5,_0x5af784['vkSih'],messageTypes[_0x501377(0x114)],_0x5af784['RWUFM'],_0x5f1ac,_0x33e0b5),logger['error'](_0xec0d22);}process['exit'](0x0);};