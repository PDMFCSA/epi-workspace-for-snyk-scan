const a9_0x242879=a9_0x1c4e;(function(_0x46e193,_0x40ac94){const _0x4630e5=a9_0x1c4e,_0x26a9a9=_0x46e193();while(!![]){try{const _0xe573dc=-parseInt(_0x4630e5(0x281))/0x1+parseInt(_0x4630e5(0x2a2))/0x2+-parseInt(_0x4630e5(0x2dc))/0x3+parseInt(_0x4630e5(0x35d))/0x4+-parseInt(_0x4630e5(0x20e))/0x5+-parseInt(_0x4630e5(0x2f8))/0x6+parseInt(_0x4630e5(0x240))/0x7*(-parseInt(_0x4630e5(0x35b))/0x8);if(_0xe573dc===_0x40ac94)break;else _0x26a9a9['push'](_0x26a9a9['shift']());}catch(_0x122bcb){_0x26a9a9['push'](_0x26a9a9['shift']());}}}(a9_0x264c,0x88376));const fs=require('fs'),ws=require('ws'),path=require(a9_0x242879(0x317)),yaml=require(a9_0x242879(0x29e)),ReconnectingWebSocket=require('reconnecting-websocket'),got=require(a9_0x242879(0x2c4)),{v4:uuidv4}=require(a9_0x242879(0x280)),webSocketUtils=require(a9_0x242879(0x2ea)),{logger}=require('../../config/logger'),{getCredentialsPath,updateGlobalRegistryWithConfig,updateGlobalRegistryForHubHa,kebabCase,reportToGalactusAndSendToEDS,getAuthHeader,waitForDeployment,kubeApply,encodeBase64}=require(a9_0x242879(0x2e8)),{getCloudProviderObject}=require(a9_0x242879(0x2de)),{AWS,WS_EVENTS,global_registry,WS_ENDPOINT,DEFAULT_GRID_NAME,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,messageTypes,AG_API_URL,AZURE,GCP,TURBOSCALE_DEPLOYMENT}=require(a9_0x242879(0x1f7)),{addGridComponents,removeGridComponents,getNamespaceUID,namespaceExists,createNamespace}=require('../../utils/gridComponents'),{createK8sClient}=require(a9_0x242879(0x390)),{sendInstrumentationEvent}=require(a9_0x242879(0x300));function a9_0x1c4e(_0x4019bf,_0x37cff6){const _0x264c5f=a9_0x264c();return a9_0x1c4e=function(_0x1c4e3c,_0x42fb16){_0x1c4e3c=_0x1c4e3c-0x1e7;let _0x4a71a0=_0x264c5f[_0x1c4e3c];return _0x4a71a0;},a9_0x1c4e(_0x4019bf,_0x37cff6);}function a9_0x264c(){const _0x1dcedb=['template','sendResourceDataToHST','behyM','argv','https://','KiWKr','kafkaPassword','Hub\x20HA\x20setup\x20completed\x20successfully.','nwsYj','FoHdL','bGeDY','DdqDn','QRSBF','hubVersion','clusterAutoupgrade','stack','cluster-name','CjdTG','zrwEP','cEahA','\x20doesn\x27t\x20exist.\x20Proceeding\x20with\x20creating\x20a\x20new\x20cluster','statusCode','CLI_RUN_FINISHED','iUlBF','pkCwA','kYxrU','turboscale-uploader.yaml','gBnuL','sjdju','OZQWF','bBepT','Adding\x20Websocket\x20listeners','24031qkPYkc','hgjZD','create-grid-checks-invalid-profile','cluster-name,\x20cloud-provider\x20&&\x20region\x20should\x20be\x20provided\x20when\x20spawning\x20a\x20grid\x20in\x20existing\x20(Non-BrowserStack\x20created)\x20K8s\x20cluster','RmXGK','NjXfe','mFqaF','\x20are\x20not\x20present\x20in\x20VPC:\x20','ESbVE','TkOto','Spawning\x20the\x20grid\x20','grid-spawning-failed','create-grid-checks-auth-failed','/packages/cli/create-grid-checks','gioie','JweRl','SVwcX','GET','Checking\x20if\x20cluster\x20is\x20already\x20present\x20in\x20selected\x20region(','aELPw','nFFJU','WsbKO','PQuVm','XPPFr','zSSzd','hub-ha-deployments-failed','uULnf','nZgkP','SoyTa','Adding\x20Kafka\x20deployment...','bitnami-redis.yaml','RogWa','help','gbGNj','hrGaY','Cluster:\x20','\x20is\x20already\x20present.\x20Cannot\x20spawn\x20a\x20new\x20cluster','yuvEP','command','readFileAsync','Browserstack','CLI\x20run\x20finished:\x20','Hub\x20url\x20to\x20run\x20selenium\x20sessions:\x20','.\x20Please\x20re\x20-\x20select\x20subnets\x20and\x20try\x20again','description','clusterAutoUpgrade','defaultGridProfile','jevlM','toLowerCase','Spawning\x20grid\x20on\x20to\x20the\x20cluster','RLHSg','YHuAm','prespawned-cluster-args-not-passed','get-grid-url-null-response','Namespace\x20Created','uploaderImageVersion','\x27\x20grid\x20profile','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','EmHQR','../..','BjgSP','4|0|2|3|1','Created\x20Hub\x20HA\x20resources','CLI_RUN_STARTED','uuid','258643PtVkAl','cloud-provider','bitnami-kafka.yaml','clusterRegion','gaDCB','AvqAC','fuFho','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','vfnzH','SOmiE','newCluster','IAaAA','LOG','AyyFy','OnYDv','UqvvT','oIHxe','templates','KZXWN','comai','isPrivateGrid','EbYfV','bgmeJ','Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Unauthorized\x20request!','hDiPB','bstackUsername','Found\x20VPC:\x20','cmnOX','gapKe','js-yaml','gaohQ','Cluster\x20created\x20successfully','An\x20Automation\x20Grid\x20already\x20exists\x20with\x20grid\x20name\x20','1924858AkXuKC','Fewez','create-grid-called','loadAll','Unable\x20to\x20Spawn\x20the\x20Grid!\x20Error:\x20','Cluster\x20','GvrmU','getGridHostname','oAvRt','CWzUs','connectionTimeout','FrYpJ','YwmOE','UEBbE','skipTlsCertVerify','vLVUB','rgZNn','Cluster\x20not\x20found.\x20Proceeding\x20with\x20creating\x20required\x20resources.','TepIW','HIRbR','privateGrid','vvByz','pre-spawned-invalid-subnets','pre-spawned-subnets-not-selected','stXNg','Pass\x20the\x20name\x20to\x20setup\x20the\x20Automation\x20Grid\x20with\x20specific\x20name.\x20Name\x20this\x20grid\x20using\x20either\x20team\x27s\x20name,\x20pipeline\x20specific\x20or\x20generic.','serviceAccountName','Qmjqz','Flag\x20to\x20enable\x20cluster\x20auto-upgrade','BCabf','ERROR','MByTn','kqXsA','RbOrz','got','kENEq','xoljD','DYwya','private-grid','hubHa','yOiWR','EueZM','pre-spawned-invalid-vpc','create-grid-checks-grid-already-exists','body','oITPJ','LUWSM','IWbnW','Grid\x20can\x20be\x20accessed\x20at:\x20','The\x20grid\x20creation\x20is\x20in\x20progress.\x20It\x20could\x20take\x20as\x20long\x20as\x2015-20\x20minutes.\x20You\x20will\x20receive\x20an\x20email\x20notification\x20once\x20the\x20grid\x20is\x20ready.','split','Added\x20Kafka\x20deployment.','Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Non\x20200\x20response\x20from\x20server!\x20','NCXpq','fscnx','Invalid\x20input.\x20Currently\x20Spawning\x20the\x20grid\x20in\x20AWS\x20and\x20Azure\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','WebSocket','message','124299mACFFx','exit','../../cloudproviders/utils','region','LHuzG','FhWpA','RkukI','BUmKD','utftB','Failed\x20to\x20get\x20grid\x20url\x20from\x20the\x20server.\x20Non\x20200\x20response\x20from\x20server!\x20','bHLpy','hubharesources','../../utils/utilityMethods','Create\x20a\x20private/public\x20grid.','../../utils/webSocketUtils','maxNodes','https','DgzyU','NfXYW','readNamespacedService','Adding\x20Turboscale\x20Uploader\x20deployment...','cvQoZ','qONce','PaunZ','setupNewCluster','hubHaNameSpace','WIHeO','annotations','4061034DFkppc','includes','error','iHYOA','hFGFV','createOtherResources','dLqeq','Epyd5nXbRK','../../utils/instrumentationUtils','redisPassword','Cluster\x20Auto\x20Upgrade\x20is\x20enabled','length','niaZj','0|3|1|2|4','<UsernamePlaceholder>','hUatW','bmIuZ','uinrd','concurrency','MBDhS','AWMyq','zRzOx','nwTjy','gVhXy','TGYOc','Hxcga','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','http','join','labels','iyiya','path','FcJYr','DKxgH','yLXic','hPakB','\x20is\x20already\x20present.\x20Skipping\x20cluster\x20creation','IVdyN','spec','HVbzj','.\x20Please\x20use\x20--grid-name\x20option\x20to\x20provide\x20another\x20grid\x20name','fTCTK','LBzJi','yIAoM','HwHbU','avDtW','minNodes','tpZaG','FuKmS','sendEventToBackend','lehDp','init-not-called','options','info','NfEdL','kJxdv','UAPsU','zLGMl','zSPUY','Will\x20be\x20spawning\x20the\x20grid\x20','browserVersion','kIvab','delay','desc','VPC\x20selected\x20does\x20not\x20exist.\x20Please\x20try\x20again','hub-ha','cluster-autoupgrade','private-ingress-nginx-controller','grsrH','gridProfile','GEmUC','FGbdm','clusterName','enableHubHa','CXpqb','ASonb','cloudProvider','rJhVn','iLPTb','huXsD','password','ouptB','type','updateClusterAlreadyPresent','kFDUo','aykma','zTOwK','requestId','cfwVW','TMyuI','gridName','ckahw','AzgOw','get-grid-url-non-200','ByLBI','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','5|7|2|0|4|8|6|1|3','boolean','readFileSync','368GnkWwJ','oOemt','3932220XhRpBt','mOdkh','AncOQ','HIhhp','qfTPO','Adding\x20Redis\x20deployment...','ulIWP','hVhgB','isSubnetsValid','grid-name','Failed\x20to\x20delete\x20the\x20CloudFormation\x20Stacks\x20and\x20other\x20spawned\x20components.\x20Error:\x20\x20','wALAj','://','create','createNamespace','zljZm','keAaW','epilogue','oSfWR','kafkaUploader','mQHna','wkWca','get-grid-url-auth-failed','vLVaW','HIemF','managedBy','MpMvL','hWXSG','svHPp','Spawning\x20Grid\x20on\x20the\x20Cluster','bstackAccesskey','lLpTm','zIMnA','tHvTF','vgZcd','oZxzv','route53','efs-csi','setupHubHa','create-grid-checks-non-200','Flag\x20to\x20enable\x20Hub\x20HA','caBgm','wUHAz','URanR','YJxCd','akPbO','tSPqh','Found\x20Subnets:\x20','wUXgn','Error\x20in\x20Spawning\x20the\x20Grid!\x20Error:\x20','BmqSs','../../utils/createk8sClient','default','NvHNL','KEKUo','uploaderVersion','replace','name','BmRBd','HjJnO','uJZHE','grid-profile','nzrcz','vWMNf','geRti','usage','Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Unknown\x20error!','tatxc','deleteCluster','../../config/constants','ingress-nginx','lAYGB','HDxxy','stringify','parse','Will\x20be\x20spawning\x20a\x20new\x20cluster\x20and\x20the\x20grid\x20','vdMMe','Added\x20Turboscale\x20Uploader\x20deployment.','addListeners','AaRoA','oknIF','UkRNzNYCBU','Fetching\x20url\x20for\x20running\x20tests\x20on\x20the\x20grid','browserstack','CLktA','xGOmk','7|11|5|6|13|4|15|12|1|10|14|9|0|2|8|3','securityGroups','metadata','2|1|0|4|3','namespace','\x20using\x20\x27','1263545jwSTor','gridProfileId','username','hZsLJ','XyQIg','jTNae','twXxM','VZNSX','Added\x20Secret\x20Mapping','Grid\x20profile\x20fetched\x20from\x20backend','CIKQQ','instanceType','NfBgu','SMOUz','<PasswordPlaceholder>','Added\x20Redis\x20deployment.','Skip\x20insecure\x20cert\x20verification.','nDIaA'];a9_0x264c=function(){return _0x1dcedb;};return a9_0x264c();}exports[a9_0x242879(0x266)]='grid',exports[a9_0x242879(0x337)]='Create\x20a\x20new\x20Automation\x20grid.',exports['builder']=function(_0x2c8ed3){const _0x48f773=a9_0x242879,_0x2a97c6={};_0x2a97c6[_0x48f773(0x265)]=_0x48f773(0x2bb),_0x2a97c6['huXsD']='string',_0x2a97c6[_0x48f773(0x250)]='Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.',_0x2a97c6[_0x48f773(0x38f)]=_0x48f773(0x312),_0x2a97c6[_0x48f773(0x28f)]=_0x48f773(0x279),_0x2a97c6['cfwVW']='Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.',_0x2a97c6[_0x48f773(0x32e)]=_0x48f773(0x2e9),_0x2a97c6['eXYGM']=_0x48f773(0x21e),_0x2a97c6['ESbVE']=_0x48f773(0x359),_0x2a97c6[_0x48f773(0x2b2)]='Flag\x20to\x20enable\x20Hub\x20HA',_0x2a97c6[_0x48f773(0x335)]=_0x48f773(0x2be),_0x2a97c6[_0x48f773(0x38a)]=_0x48f773(0x260);const _0x210f8d=_0x2a97c6,_0x4cfb19={};_0x4cfb19['description']=_0x210f8d[_0x48f773(0x265)],_0x4cfb19['type']=_0x210f8d[_0x48f773(0x347)];const _0x16d322={};_0x16d322[_0x48f773(0x26c)]=_0x210f8d[_0x48f773(0x250)],_0x16d322[_0x48f773(0x34a)]=_0x210f8d[_0x48f773(0x347)];const _0x3df57b={};_0x3df57b['description']=_0x210f8d[_0x48f773(0x38f)],_0x3df57b['type']=_0x210f8d['huXsD'];const _0x5e4a39={};_0x5e4a39[_0x48f773(0x26c)]=_0x210f8d[_0x48f773(0x28f)],_0x5e4a39['type']=_0x210f8d['huXsD'];const _0x8e3313={};_0x8e3313[_0x48f773(0x26c)]=_0x210f8d[_0x48f773(0x350)],_0x8e3313[_0x48f773(0x34a)]=_0x210f8d['huXsD'];const _0x1e857b={};_0x1e857b['description']=_0x210f8d[_0x48f773(0x32e)],_0x1e857b[_0x48f773(0x34a)]=_0x210f8d['huXsD'];const _0x548537={};_0x548537[_0x48f773(0x26c)]=_0x210f8d['eXYGM'],_0x548537['type']=_0x210f8d[_0x48f773(0x248)],_0x548537['default']=![];const _0x2db61b={};_0x2db61b[_0x48f773(0x26c)]=_0x210f8d[_0x48f773(0x2b2)],_0x2db61b[_0x48f773(0x34a)]=_0x210f8d[_0x48f773(0x248)],_0x2db61b[_0x48f773(0x391)]=![];const _0x36b1b7={};_0x36b1b7[_0x48f773(0x26c)]=_0x210f8d[_0x48f773(0x335)],_0x36b1b7['type']=_0x210f8d[_0x48f773(0x248)],_0x36b1b7[_0x48f773(0x391)]=![];const _0x28967d={};return _0x28967d[_0x48f773(0x366)]=_0x4cfb19,_0x28967d[_0x48f773(0x1ef)]=_0x16d322,_0x28967d[_0x48f773(0x230)]=_0x3df57b,_0x28967d[_0x48f773(0x282)]=_0x5e4a39,_0x28967d[_0x48f773(0x2df)]=_0x8e3313,_0x28967d[_0x48f773(0x2c8)]=_0x1e857b,_0x28967d['skip-tls-cert-verify']=_0x548537,_0x28967d[_0x48f773(0x339)]=_0x2db61b,_0x28967d[_0x48f773(0x33a)]=_0x36b1b7,_0x2c8ed3[_0x48f773(0x1f3)](HELP_HEADER_MESSAGE[_0x48f773(0x36a)])[_0x48f773(0x36e)](HELP_FOOTER_MESSAGE)[_0x48f773(0x32c)](_0x28967d)['help'](_0x210f8d[_0x48f773(0x38a)])[_0x48f773(0x223)];},exports['handler']=async function(_0x5d87f7){const _0x1697da=a9_0x242879,_0x22ed56={'gaDCB':'4|3|5|1|7|8|6|2|0','hWXSG':'CLI\x20run\x20started','RmXGK':_0x1697da(0x2fa),'gbGNj':'true','TGYOc':_0x1697da(0x391),'RLHSg':_0x1697da(0x313),'rJhVn':_0x1697da(0x2ec),'gioie':'Pass\x20the\x20name\x20to\x20setup\x20the\x20Automation\x20Grid\x20with\x20specific\x20name.\x20Name\x20this\x20grid\x20using\x20either\x20team\x27s\x20name,\x20pipeline\x20specific\x20or\x20generic.','HDxxy':'string','RogWa':_0x1697da(0x288),'dlzIg':_0x1697da(0x312),'nDIaA':_0x1697da(0x279),'SoyTa':'Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','CIKQQ':'Create\x20a\x20private/public\x20grid.','MByTn':_0x1697da(0x21e),'gaohQ':'boolean','xoljD':_0x1697da(0x385),'IZDia':_0x1697da(0x2be),'LcmTA':_0x1697da(0x260),'vWMNf':'azurefile-csi-premium','uinrd':_0x1697da(0x20b),'yLXic':_0x1697da(0x203),'IVdyN':_0x1697da(0x205),'ASonb':'Enabling\x20Hub\x20HA\x20flow','hPakB':_0x1697da(0x2ff),'hcCUS':_0x1697da(0x208),'tpZaG':function(_0x1590a0,_0x2c7191){return _0x1590a0!==_0x2c7191;},'tHvTF':function(_0x52c17b,_0x311b2a){return _0x52c17b(_0x311b2a);},'RbOrz':function(_0x5ea1eb,_0x4b4e44,_0x35e030,_0x262945,_0x5061e9,_0x49dbe0,_0x360ed1,_0x244118,_0x23ba69,_0x39d04d,_0x1938ca,_0x3e34ae,_0x451c36){return _0x5ea1eb(_0x4b4e44,_0x35e030,_0x262945,_0x5061e9,_0x49dbe0,_0x360ed1,_0x244118,_0x23ba69,_0x39d04d,_0x1938ca,_0x3e34ae,_0x451c36);},'cmnOX':'warn','AvqAC':function(_0x379392,_0x4e8141){return _0x379392===_0x4e8141;},'vgZcd':function(_0x4f6296,_0x8509cd){return _0x4f6296(_0x8509cd);},'azgfb':_0x1697da(0x302),'kqXsA':'premium-rwo','HVbzj':function(_0x5b81b7){return _0x5b81b7();},'EmHQR':_0x1697da(0x387),'mQHna':_0x1697da(0x35e),'zrwEP':_0x1697da(0x357),'zRzOx':function(_0x44bcc5,_0x46572c,_0xdb2358,_0x1b7af7,_0x480404,_0x5e315f,_0x39ffff){return _0x44bcc5(_0x46572c,_0xdb2358,_0x1b7af7,_0x480404,_0x5e315f,_0x39ffff);},'aELPw':_0x1697da(0x2a4),'HIhhp':_0x1697da(0x32b),'XPPFr':function(_0x5064be,_0x49b577,_0x30b7f2,_0x3d3142,_0x54e51d,_0x49051b,_0x3d76ee){return _0x5064be(_0x49b577,_0x30b7f2,_0x3d3142,_0x54e51d,_0x49051b,_0x3d76ee);},'nZgkP':_0x1697da(0x306),'TMyuI':_0x1697da(0x21c),'CjdTG':_0x1697da(0x23f),'FrYpJ':function(_0x1107d1,_0x451885){return _0x1107d1!==_0x451885;},'BjgSP':'nFJLC','GvrmU':_0x1697da(0x321),'PaunZ':function(_0x2648fd,_0x2e32ff){return _0x2648fd!==_0x2e32ff;},'grsrH':_0x1697da(0x2e3),'UAPsU':_0x1697da(0x361),'ttWxA':_0x1697da(0x243),'zSPUY':function(_0x387a11,_0xd20243,_0x326fb4,_0x100560,_0x2ba401,_0x32618a,_0x4e73da,_0x2cdd2b){return _0x387a11(_0xd20243,_0x326fb4,_0x100560,_0x2ba401,_0x32618a,_0x4e73da,_0x2cdd2b);},'oOemt':_0x1697da(0x274),'FGbdm':function(_0x18415f,_0xad1ad3){return _0x18415f!==_0xad1ad3;},'jevlM':'JVmuf','gBnuL':'iVmMf','DYwya':_0x1697da(0x2d9),'OaQvF':'non-aws-azure-cluster','KZXWN':function(_0x39645a,_0x1742bf){return _0x39645a!==_0x1742bf;},'hVhgB':'Psmbd','elGhy':function(_0x59f1ef,_0x18ea04){return _0x59f1ef===_0x18ea04;},'wkWca':_0x1697da(0x2ee),'lAYGB':function(_0x48276d,_0x4deb3c){return _0x48276d===_0x4deb3c;},'zljZm':'hARQO','JkjIT':_0x1697da(0x245),'bHLpy':_0x1697da(0x2f1),'YwmOE':_0x1697da(0x251),'JweRl':function(_0x3e5a05,_0x403226,_0x37f1c8){return _0x3e5a05(_0x403226,_0x37f1c8);},'niaZj':'pvPoN','kJxdv':function(_0x557f92,_0xa45273){return _0x557f92!==_0xa45273;},'bBepT':'vVWNS','BmRBd':_0x1697da(0x324),'kFDUo':function(_0x5e1a3f,_0x51b906,_0x485b47){return _0x5e1a3f(_0x51b906,_0x485b47);},'tatxc':_0x1697da(0x386),'svHPp':_0x1697da(0x1f4),'HjJnO':function(_0x2f0be0,_0x4e9ef5,_0x334d84,_0x4c3c4b,_0x4fd8c8,_0x43ea9d,_0x2c8bda,_0x6b08ad){return _0x2f0be0(_0x4e9ef5,_0x334d84,_0x4c3c4b,_0x4fd8c8,_0x43ea9d,_0x2c8bda,_0x6b08ad);},'PCrPi':'create-grid-checks-null-response','vLVUB':function(_0x352f2e,_0x5b3966){return _0x352f2e===_0x5b3966;},'dvvVZ':function(_0x136a84,_0x517f33){return _0x136a84===_0x517f33;},'zLGMl':_0x1697da(0x1f0),'pOfyk':'XyYVk','HIRbR':_0x1697da(0x298),'YHuAm':_0x1697da(0x24c),'oSfWR':function(_0x3570f8,_0x5e09cd){return _0x3570f8!==_0x5e09cd;},'lehDp':_0x1697da(0x290),'XyQIg':function(_0x5dce6d,_0x2d7135,_0x40d326,_0xcce537,_0x4fb58b,_0x5c810e,_0x283dcc,_0x4910d3){return _0x5dce6d(_0x2d7135,_0x40d326,_0xcce537,_0x4fb58b,_0x5c810e,_0x283dcc,_0x4910d3);},'ouptB':_0x1697da(0x384),'oZxzv':_0x1697da(0x217),'gGFrJ':'NuicY','twLfg':'hRteK','AyyFy':function(_0x41c347,_0x1d3f15,_0x4536b4,_0x452dbb,_0x1bd67a,_0x4e0cc2,_0x22983d,_0x2d18e0){return _0x41c347(_0x1d3f15,_0x4536b4,_0x452dbb,_0x1bd67a,_0x4e0cc2,_0x22983d,_0x2d18e0);},'nFFJU':_0x1697da(0x2cd),'KiWKr':function(_0x5af8c8,_0x53b9a1){return _0x5af8c8===_0x53b9a1;},'yIAoM':'ZUNkZ','zSSzd':'aNsHV','ckahw':'WIgCb','geRti':_0x1697da(0x27d),'aOxdq':function(_0x433631,_0x2fb284){return _0x433631===_0x2fb284;},'FhWpA':_0x1697da(0x23d),'Fckbk':_0x1697da(0x22b),'vLVaW':_0x1697da(0x2e4),'kYxrU':'Invalid\x20Grid\x20Profile.Exiting\x20the\x20CLI.','vfnzH':function(_0x3986b6,_0x57640d,_0x40d56a,_0x256fc9,_0x480294,_0x51aaa8,_0xa46109,_0x137382){return _0x3986b6(_0x57640d,_0x40d56a,_0x256fc9,_0x480294,_0x51aaa8,_0xa46109,_0x137382);},'MUtIn':_0x1697da(0x242),'NfBgu':function(_0x1a0843,_0x2d8b19){return _0x1a0843===_0x2d8b19;},'SMOUz':'xYGBz','oIHxe':_0x1697da(0x37c),'QRSBF':_0x1697da(0x2cf),'FuKmS':function(_0x47386a,_0x25e10c){return _0x47386a!==_0x25e10c;},'yOiWR':_0x1697da(0x249),'oAvRt':'UqRei','xGOmk':function(_0x8078b,_0x40bd27){return _0x8078b===_0x40bd27;},'SOmiE':_0x1697da(0x375),'IWbnW':_0x1697da(0x1e8),'comai':function(_0x27a164,_0x3b42be){return _0x27a164===_0x3b42be;},'qONce':_0x1697da(0x23c),'SdvYI':function(_0x694cab,_0x4e933e){return _0x694cab!==_0x4e933e;},'fuFho':_0x1697da(0x34d),'mFqaF':_0x1697da(0x325),'URanR':function(_0x36329a,_0x51b79c,_0x30e0c0,_0xf1c5e3,_0x59369d,_0x1862ba,_0x38cb99,_0xfe6a2c,_0x4ffa80,_0x1bb6d9,_0x5a82fc,_0x5968fc,_0x4602f4){return _0x36329a(_0x51b79c,_0x30e0c0,_0xf1c5e3,_0x59369d,_0x1862ba,_0x38cb99,_0xfe6a2c,_0x4ffa80,_0x1bb6d9,_0x5a82fc,_0x5968fc,_0x4602f4);},'AaRoA':function(_0x60a5be,_0x50d8c2){return _0x60a5be!==_0x50d8c2;},'vvByz':_0x1697da(0x33e),'DgzyU':function(_0x7b550d,_0x26e9ae){return _0x7b550d!==_0x26e9ae;},'SEmgo':_0x1697da(0x38d),'LHuzG':_0x1697da(0x358),'yjCqp':function(_0x4ff802,_0x426835,_0x1e2a4c,_0x5803b4,_0x1e6326,_0x3dc4da,_0x320b02){return _0x4ff802(_0x426835,_0x1e2a4c,_0x5803b4,_0x1e6326,_0x3dc4da,_0x320b02);},'zTOwK':function(_0xb601b2,_0x5da82c){return _0xb601b2!==_0x5da82c;},'kENEq':'YlRMv','hrGaY':_0x1697da(0x25a),'hDiPB':function(_0xa08c,_0x2ea3c1){return _0xa08c===_0x2ea3c1;},'hgHwD':_0x1697da(0x296),'FoHdL':_0x1697da(0x2b3),'CLktA':function(_0x3f6760,_0x2fe1fa){return _0x3f6760!=_0x2fe1fa;},'NQHcA':function(_0x119ab2,_0x4b124b){return _0x119ab2!==_0x4b124b;},'ByLBI':function(_0x43c4c3,_0x596665){return _0x43c4c3>_0x596665;},'stXNg':'Subnets\x20not\x20selected.\x20Please\x20select\x20subnets\x20and\x20try\x20again','WIHeO':function(_0x1d2f3e,_0xa0b3da,_0x3400e4,_0xd201a1,_0x184811,_0x4b21b3,_0x14371f,_0x15f8e6){return _0x1d2f3e(_0xa0b3da,_0x3400e4,_0xd201a1,_0x184811,_0x4b21b3,_0x14371f,_0x15f8e6);},'pXOwz':_0x1697da(0x2b9),'iUlBF':function(_0x1bdf24,_0x2440b2){return _0x1bdf24===_0x2440b2;},'LBzJi':_0x1697da(0x338),'iHYOA':_0x1697da(0x2cc),'wALAj':function(_0x3eaec1,_0x297399,_0x26e572,_0x17d1ea,_0x583914,_0x4d11cc,_0x5c442e,_0x1da88d){return _0x3eaec1(_0x297399,_0x26e572,_0x17d1ea,_0x583914,_0x4d11cc,_0x5c442e,_0x1da88d);},'AncOQ':_0x1697da(0x2b8),'fXolw':'0|2|4|3|1','cEahA':_0x1697da(0x2d3),'DKxgH':_0x1697da(0x2a0),'iFdze':function(_0x10cead,_0x1c200b){return _0x10cead===_0x1c200b;},'EueZM':function(_0x11c59c,_0x3d54c3,_0x35f047){return _0x11c59c(_0x3d54c3,_0x35f047);},'behyM':function(_0x59da52,_0x28d632){return _0x59da52===_0x28d632;},'mhShP':function(_0xe95d7d,_0x4142c3){return _0xe95d7d===_0x4142c3;},'NvHNL':'Creating\x20Hub\x20HA\x20resources','fscnx':function(_0x203d8b,_0x370850,_0x444f93){return _0x203d8b(_0x370850,_0x444f93);},'AzgOw':'Adding\x20Secret\x20Mapping','MpMvL':_0x1697da(0x27b),'pkCwA':_0x1697da(0x292),'PQuVm':_0x1697da(0x2e7),'FcJYr':'browserstack-secret.yaml','AWMyq':'utf-8','Fewez':function(_0x418d25,_0x168eeb){return _0x418d25(_0x168eeb);},'bGeDY':function(_0x5c9fdc,_0x2f38d3){return _0x5c9fdc(_0x2f38d3);},'CXpqb':function(_0x268ba3,_0x3a5fe3,_0x15f096){return _0x268ba3(_0x3a5fe3,_0x15f096);},'vdMMe':_0x1697da(0x216),'CWzUs':_0x1697da(0x382),'LUWSM':function(_0x47dc80,_0x4e5041){return _0x47dc80===_0x4e5041;},'fpYIM':_0x1697da(0x362),'oknIF':_0x1697da(0x25e),'jTNae':_0x1697da(0x21d),'TepIW':_0x1697da(0x25d),'ulIWP':_0x1697da(0x283),'hZsLJ':function(_0x52df81,_0x234684,_0x115a8c){return _0x52df81(_0x234684,_0x115a8c);},'RkukI':_0x1697da(0x2d5),'bmIuZ':_0x1697da(0x2f0),'MBDhS':_0x1697da(0x23a),'YvDDM':function(_0x148651,_0x11e926){return _0x148651===_0x11e926;},'Qmjqz':_0x1697da(0x1ff),'ITcoN':_0x1697da(0x27e),'NCXpq':_0x1697da(0x227),'cczSk':_0x1697da(0x305),'tSPqh':function(_0x21c786,_0x28cc37,_0x505053,_0x21c51a,_0x43fd18,_0x1668b1,_0x571fd7,_0x30c445){return _0x21c786(_0x28cc37,_0x505053,_0x21c51a,_0x43fd18,_0x1668b1,_0x571fd7,_0x30c445);},'twXxM':_0x1697da(0x259),'WsbKO':'Creating\x20namespace','bgmeJ':function(_0x46ef81,_0x4417eb){return _0x46ef81!==_0x4417eb;},'gVhXy':_0x1697da(0x268),'RCgZm':_0x1697da(0x276),'iLPTb':'Namespace\x20created','UntlK':_0x1697da(0x271),'hFGFV':_0x1697da(0x37a),'uOPVq':function(_0x3aa568,_0x5b06a0){return _0x3aa568===_0x5b06a0;},'iyiya':function(_0x2caff4,_0x5e8d16,_0x2edc95,_0x130c29,_0x3f2ef8,_0x1dde94,_0x432f85,_0x2c1b2d,_0x3d5c42,_0x1a7bb4,_0x387f20){return _0x2caff4(_0x5e8d16,_0x2edc95,_0x130c29,_0x3f2ef8,_0x1dde94,_0x432f85,_0x2c1b2d,_0x3d5c42,_0x1a7bb4,_0x387f20);},'Hxcga':'Grid\x20spawned\x20on\x20the\x20cluster','YJxCd':_0x1697da(0x204),'keAaW':function(_0x2bf5b2,_0x3287c4,_0x134fba,_0x5cf096,_0x5adfe1){return _0x2bf5b2(_0x3287c4,_0x134fba,_0x5cf096,_0x5adfe1);},'zIMnA':_0x1697da(0x33b),'gapKe':'ingress-nginx-controller','aXCnk':_0x1697da(0x1f8),'vGrip':function(_0x556430,_0x9f2479){return _0x556430===_0x9f2479;},'IAaAA':'get\x20grid\x20url\x20from\x20the\x20server.\x20Unknown\x20error!','nwsYj':function(_0x5840b9,_0x3ef2c5,_0x6d3d42,_0x15df1c,_0x6f131d,_0x2840a1,_0x17c2eb,_0x764ef3){return _0x5840b9(_0x3ef2c5,_0x6d3d42,_0x15df1c,_0x6f131d,_0x2840a1,_0x17c2eb,_0x764ef3);},'hgjZD':_0x1697da(0x275),'uJZHE':'Failed\x20to\x20get\x20grid\x20url\x20from\x20the\x20server.\x20Unauthorized\x20request!','UEBbE':_0x1697da(0x373),'VZNSX':function(_0x4cee6e,_0x4f3e20){return _0x4cee6e!==_0x4f3e20;},'BCabf':function(_0x5661e6,_0x516750,_0xf17346,_0x4b11d1,_0x49d431,_0x459b8b,_0x47fdd5,_0x5f0fd5){return _0x5661e6(_0x516750,_0xf17346,_0x4b11d1,_0x49d431,_0x459b8b,_0x47fdd5,_0x5f0fd5);},'dLqeq':_0x1697da(0x355),'eRjmg':'Deleting\x20the\x20CloudFormation\x20Stacks','nwTjy':function(_0x3a0bc3,_0x4094e8,_0x10325b,_0x1f160f,_0x43ae91,_0x583136){return _0x3a0bc3(_0x4094e8,_0x10325b,_0x1f160f,_0x43ae91,_0x583136);},'hUatW':function(_0x3d9e02,_0x204071,_0xb23509,_0x451269,_0x4a589d,_0x4550a3,_0x247081){return _0x3d9e02(_0x204071,_0xb23509,_0x451269,_0x4a589d,_0x4550a3,_0x247081);},'oFfxl':_0x1697da(0x24b)};let _0x47d8e9=![],_0x99ee22=![],_0x40fc5d,_0x2f55b5,_0x58eaeb,_0x49d3c8,_0x21c236,_0x59ea2e,_0x30baac,_0x362fa3,_0x2124f0,_0x237ccd,_0x5ef63c,_0x5cd4f5,_0x30e714,_0x4602d8,_0x2a7191=0x1,_0x31ce10=0xe;try{global_registry[_0x1697da(0x34f)]=_0x22ed56[_0x1697da(0x31f)](uuidv4),global_registry[_0x1697da(0x295)]=![];!fs['existsSync'](_0x22ed56[_0x1697da(0x31f)](getCredentialsPath))&&(_0x22ed56['AvqAC'](_0x22ed56[_0x1697da(0x27a)],_0x22ed56[_0x1697da(0x371)])?_0x4bc8dc[_0x1697da(0x221)]():(console[_0x1697da(0x2fa)](_0x22ed56[_0x1697da(0x232)]),await _0x22ed56[_0x1697da(0x30d)](sendInstrumentationEvent,_0x5d87f7,_0x22ed56[_0x1697da(0x253)],messageTypes[_0x1697da(0x2c0)],_0x22ed56[_0x1697da(0x360)],null,_0x5d87f7),process[_0x1697da(0x2dd)](0x1)));await _0x22ed56[_0x1697da(0x257)](sendInstrumentationEvent,_0x5d87f7,_0x22ed56[_0x1697da(0x253)],messageTypes['INFO'],null,null,_0x5d87f7);const _0x5bee5=JSON[_0x1697da(0x1fc)](fs[_0x1697da(0x35a)](_0x22ed56[_0x1697da(0x31f)](getCredentialsPath)));global_registry['bstackUsername']=_0x5bee5[_0x1697da(0x268)]['username'],global_registry['bstackAccesskey']=_0x5bee5[_0x1697da(0x268)][_0x1697da(0x348)];const _0x16db22=WS_ENDPOINT['replace'](_0x22ed56[_0x1697da(0x25b)],_0x5bee5[_0x1697da(0x268)][_0x1697da(0x210)])[_0x1697da(0x1ea)](_0x22ed56[_0x1697da(0x351)],_0x5bee5[_0x1697da(0x268)][_0x1697da(0x348)]),_0x2eea81={};_0x2eea81[_0x1697da(0x2da)]=ws,_0x2eea81[_0x1697da(0x2ac)]=0x36ee80,_0x5cd4f5=new ReconnectingWebSocket(_0x16db22,[],_0x2eea81),logger['debug'](_0x22ed56[_0x1697da(0x231)]),webSocketUtils[_0x1697da(0x200)](_0x5cd4f5,_0x5d87f7['user'],_0x5d87f7[_0x1697da(0x348)]);const _0x2c2947=_0x5d87f7[_0x1697da(0x352)]||DEFAULT_GRID_NAME;if(_0x5d87f7['clusterName']||_0x5d87f7[_0x1697da(0x344)]||_0x5d87f7['region']){if(_0x22ed56[_0x1697da(0x2ad)](_0x22ed56[_0x1697da(0x27c)],_0x22ed56[_0x1697da(0x2a8)])){!(_0x5d87f7[_0x1697da(0x340)]&&_0x5d87f7[_0x1697da(0x344)]&&_0x5d87f7[_0x1697da(0x2df)])&&(_0x22ed56[_0x1697da(0x2f3)](_0x22ed56[_0x1697da(0x33c)],_0x22ed56[_0x1697da(0x330)])?(_0x40fc5d=_0x22ed56['ttWxA'],await _0x22ed56[_0x1697da(0x332)](reportToGalactusAndSendToEDS,_0x5d87f7,_0x5cd4f5,_0x40fc5d,messageTypes['ERROR'],_0x22ed56['aELPw'],_0x22ed56[_0x1697da(0x35c)],_0x22ed56['RmXGK']),logger[_0x1697da(0x2fa)](_0x40fc5d),process[_0x1697da(0x2dd)](0x1)):_0x345283[_0x1697da(0x32d)]('Found\x20VPC:\x20'+_0x370a67+'\x20'));if(![AWS,AZURE,GCP][_0x1697da(0x2f9)](_0x5d87f7[_0x1697da(0x344)][_0x1697da(0x270)]())){if(_0x22ed56[_0x1697da(0x33f)](_0x22ed56[_0x1697da(0x26f)],_0x22ed56[_0x1697da(0x23b)]))_0x40fc5d=_0x22ed56[_0x1697da(0x2c7)],await _0x22ed56['zSPUY'](reportToGalactusAndSendToEDS,_0x5d87f7,_0x5cd4f5,_0x40fc5d,messageTypes[_0x1697da(0x2c0)],_0x22ed56[_0x1697da(0x253)],_0x22ed56['OaQvF'],_0x22ed56[_0x1697da(0x244)]),logger[_0x1697da(0x2fa)](_0x40fc5d),process[_0x1697da(0x2dd)](0x1);else{const _0x1dea39=_0x22ed56[_0x1697da(0x285)][_0x1697da(0x2d4)]('|');let _0x1cf698=0x0;while(!![]){switch(_0x1dea39[_0x1cf698++]){case'0':_0x31b01b[_0x1697da(0x334)]=_0x3ba9af['browserVersion'];continue;case'1':const _0x51d64b={};_0x51d64b[_0x1697da(0x34a)]=_0x5f4e5f[_0x1697da(0x28d)],_0x51d64b[_0x1697da(0x2db)]=_0x46e6f3,_0xd8c0b[_0x1697da(0x329)](_0x56cfbf,_0x51d64b);continue;case'2':_0xfa4747['hubVersion']=_0x445060['hubVersion'];continue;case'3':_0x2248b8=_0x1697da(0x24a)+_0x48c5ca+'\x20in\x20existing\x20cluster\x20\x27'+_0xab56fc+'\x27';continue;case'4':const _0x16af4c={};_0x16af4c[_0x1697da(0x34a)]=_0x26ab1[_0x1697da(0x27f)],_0x16af4c[_0x1697da(0x2db)]=_0x22ed56[_0x1697da(0x378)],_0x3973a8['sendEventToBackend'](_0x551aaa,_0x16af4c);continue;case'5':_0x26efa7[_0x1697da(0x32d)](_0xa6c1a5);continue;case'6':_0x2a014f[_0x1697da(0x340)]=_0x81f5d9;continue;case'7':_0x42c0cb[_0x1697da(0x344)]=_0x11032d;continue;case'8':_0x5cb461[_0x1697da(0x284)]=_0x25d294;continue;}break;}}}_0x5d87f7[_0x1697da(0x2b6)]&&_0x22ed56['AvqAC'](_0x5d87f7[_0x1697da(0x2b6)][_0x1697da(0x270)](),_0x22ed56['gbGNj'])&&(_0x22ed56[_0x1697da(0x293)](_0x22ed56[_0x1697da(0x364)],_0x22ed56[_0x1697da(0x364)])?_0x4dc22c[_0x1697da(0x2fa)](_0x1697da(0x367)+_0xdef5e+'\x20\x0a'+_0x5ca378[_0x1697da(0x1fb)](_0x5e5b20[_0x1697da(0x22f)])):global_registry[_0x1697da(0x295)]=!![]);global_registry['cloudProvider']=_0x5d87f7['cloudProvider'],global_registry[_0x1697da(0x284)]=_0x5d87f7[_0x1697da(0x2df)],global_registry[_0x1697da(0x340)]=_0x5d87f7['clusterName'];const _0x4ee4c6=await _0x22ed56[_0x1697da(0x30d)](getCloudProviderObject,_0x5d87f7[_0x1697da(0x344)],_0x5d87f7[_0x1697da(0x340)],_0x2c2947,_0x5cd4f5,webSocketUtils,_0x5d87f7),_0x41d76f=await _0x4ee4c6['isClusterPresent']();if(!_0x41d76f){if(_0x22ed56['elGhy'](_0x22ed56[_0x1697da(0x372)],_0x22ed56['wkWca']))logger[_0x1697da(0x32d)](_0x1697da(0x263)+_0x5d87f7[_0x1697da(0x340)]+'\x20doesn\x27t\x20exist.\x20Proceeding\x20with\x20creating\x20a\x20new\x20cluster'),_0x47d8e9=![],_0x99ee22=!![];else{const _0xfc4975={};_0xfc4975[_0x1697da(0x34a)]=_0x179d59[_0x1697da(0x28d)],_0xfc4975[_0x1697da(0x2db)]=_0x4ad9dd,_0xce9a34['sendEventToBackend'](_0xce2bcb,_0xfc4975,_0x22ed56[_0x1697da(0x244)],!![]);}}else{if(_0x22ed56[_0x1697da(0x1f9)](_0x22ed56[_0x1697da(0x36c)],_0x22ed56['JkjIT'])){const _0x230ba2={'azure.workload.identity/use':_0x22ed56[_0x1697da(0x261)],..._0xc53ba3[0x0][_0x1697da(0x31e)][_0x1697da(0x220)]['metadata'][_0x1697da(0x315)]};_0x81ac63[0x0][_0x1697da(0x31e)][_0x1697da(0x220)]['metadata'][_0x1697da(0x315)]=_0x230ba2,_0x322e32[0x0]['spec'][_0x1697da(0x220)][_0x1697da(0x31e)][_0x1697da(0x2bc)]=_0x22ed56[_0x1697da(0x310)];}else _0x47d8e9=!![];}_0x58eaeb=_0x5d87f7[_0x1697da(0x340)],_0x2f55b5=_0x5d87f7[_0x1697da(0x344)][_0x1697da(0x270)](),_0x49d3c8=_0x5d87f7[_0x1697da(0x2df)];}else _0x4cc96b['isPrivateGrid']=!![];}else _0x5d87f7['gridProfile']&&(_0x22ed56[_0x1697da(0x1f9)](_0x22ed56[_0x1697da(0x2e6)],_0x22ed56[_0x1697da(0x2e6)])?global_registry[_0x1697da(0x33d)]=_0x5d87f7['gridProfile']:_0x419432=!![]);global_registry[_0x1697da(0x352)]=_0x5d87f7[_0x1697da(0x352)];const _0x2c050b={'method':_0x22ed56[_0x1697da(0x2ae)],'headers':_0x22ed56[_0x1697da(0x24f)](getAuthHeader,_0x5bee5[_0x1697da(0x268)][_0x1697da(0x210)],_0x5bee5[_0x1697da(0x268)][_0x1697da(0x348)]),'throwHttpErrors':![]},_0x28919d={};_0x28919d[_0x1697da(0x352)]=_0x2c2947;const _0x9512da=_0x28919d;_0x99ee22&&(_0x22ed56[_0x1697da(0x286)](_0x22ed56[_0x1697da(0x304)],_0x22ed56['niaZj'])?(_0x9512da[_0x1697da(0x2df)]=_0x49d3c8,_0x9512da[_0x1697da(0x344)]=_0x2f55b5,_0x9512da[_0x1697da(0x28b)]=!![],_0x9512da['clusterAutoUpgrade']=_0x5d87f7['clusterAutoupgrade']):(_0x553ee3[_0x1697da(0x32d)](_0x1697da(0x263)+_0x1664a4[_0x1697da(0x340)]+_0x1697da(0x234)),_0x186bcf=![],_0x327366=!![]));_0x5d87f7[_0x1697da(0x22e)]&&(_0x22ed56[_0x1697da(0x32f)](_0x22ed56[_0x1697da(0x23e)],_0x22ed56[_0x1697da(0x1ec)])?logger[_0x1697da(0x32d)](_0x22ed56['azgfb']):_0x2214be=_0x22ed56[_0x1697da(0x272)]);const _0x376ef4=_0x1697da(0x224)+AG_API_URL+_0x1697da(0x24d),_0x3568df={'searchParams':_0x9512da,'throwHttpErrors':![],..._0x2c050b},_0x4a440f=_0x3568df,_0x293249=await _0x22ed56[_0x1697da(0x34c)](got,_0x376ef4,_0x4a440f);(_0x22ed56[_0x1697da(0x1f9)](_0x293249,null)||_0x22ed56[_0x1697da(0x1f9)](_0x293249,undefined))&&(_0x22ed56[_0x1697da(0x1f9)](_0x22ed56[_0x1697da(0x1f5)],_0x22ed56['tatxc'])?(_0x40fc5d=_0x22ed56[_0x1697da(0x379)],await _0x22ed56['HjJnO'](reportToGalactusAndSendToEDS,_0x5d87f7,_0x5cd4f5,_0x40fc5d,messageTypes[_0x1697da(0x2c0)],_0x22ed56[_0x1697da(0x253)],_0x22ed56['PCrPi'],_0x22ed56[_0x1697da(0x244)]),logger[_0x1697da(0x2fa)](_0x40fc5d),process['exit'](0x1)):(_0x192303[_0x1697da(0x2df)]=_0x59b7b2,_0x265ed5['cloudProvider']=_0x2f7983,_0x561d6c[_0x1697da(0x28b)]=!![],_0x57837b[_0x1697da(0x26d)]=_0x5441d4['clusterAutoupgrade']));_0x22ed56[_0x1697da(0x2b1)](_0x293249['statusCode'],0x191)&&(_0x22ed56['dvvVZ'](_0x22ed56[_0x1697da(0x331)],_0x22ed56['pOfyk'])?(_0x4267d6=_0x5af0ca[_0x1697da(0x381)],_0x2b619a=_0x22ed56[_0x1697da(0x345)]):(_0x40fc5d=_0x22ed56[_0x1697da(0x2b5)],await _0x22ed56[_0x1697da(0x1ed)](reportToGalactusAndSendToEDS,_0x5d87f7,_0x5cd4f5,_0x40fc5d,messageTypes[_0x1697da(0x2c0)],_0x22ed56[_0x1697da(0x253)],_0x22ed56[_0x1697da(0x273)],_0x22ed56[_0x1697da(0x244)]),logger['error'](_0x40fc5d),process['exit'](0x1)));_0x22ed56[_0x1697da(0x293)](_0x293249['statusCode'],0xc8)&&(_0x22ed56[_0x1697da(0x36f)](_0x22ed56[_0x1697da(0x32a)],_0x22ed56[_0x1697da(0x32a)])?_0x1b5156=null:(_0x40fc5d=_0x1697da(0x2d6)+JSON[_0x1697da(0x1fb)](_0x293249[_0x1697da(0x2ce)]),await _0x22ed56[_0x1697da(0x212)](reportToGalactusAndSendToEDS,_0x5d87f7,_0x5cd4f5,_0x40fc5d,messageTypes[_0x1697da(0x2c0)],_0x22ed56[_0x1697da(0x253)],_0x22ed56[_0x1697da(0x349)],_0x22ed56[_0x1697da(0x244)]),logger[_0x1697da(0x2fa)](_0x40fc5d),process[_0x1697da(0x2dd)](0x1)));const _0x5e74c1=JSON['parse'](_0x293249[_0x1697da(0x2ce)]),_0x146ec0={};_0x146ec0[_0x1697da(0x34a)]=WS_EVENTS['CLI_RUN_STARTED'],_0x146ec0[_0x1697da(0x2db)]=_0x22ed56[_0x1697da(0x378)],webSocketUtils[_0x1697da(0x329)](_0x5cd4f5,_0x146ec0);const _0x2aaf9b={};_0x2aaf9b[_0x1697da(0x34a)]=WS_EVENTS[_0x1697da(0x28d)],_0x2aaf9b[_0x1697da(0x2db)]=_0x22ed56[_0x1697da(0x380)],webSocketUtils[_0x1697da(0x329)](_0x5cd4f5,_0x2aaf9b);if(_0x5e74c1['alreadyPresent']){if(_0x22ed56[_0x1697da(0x286)](_0x22ed56['gGFrJ'],_0x22ed56['twLfg']))throw new _0x5d9af9('Cluster\x20'+_0x2ccdb8+'\x20is\x20already\x20present.\x20Cannot\x20spawn\x20a\x20new\x20cluster');else _0x40fc5d=_0x1697da(0x2a1)+_0x2c2947+_0x1697da(0x320),await _0x22ed56[_0x1697da(0x28e)](reportToGalactusAndSendToEDS,_0x5d87f7,_0x5cd4f5,_0x40fc5d,messageTypes[_0x1697da(0x2c0)],_0x22ed56[_0x1697da(0x253)],_0x22ed56[_0x1697da(0x254)],_0x22ed56[_0x1697da(0x244)]),logger[_0x1697da(0x2fa)](_0x40fc5d),process[_0x1697da(0x2dd)](0x1);}const _0x13f93d=_0x5e74c1['gridProfiles'];let _0x78dea8=_0x13f93d[_0x5e74c1[_0x1697da(0x26e)]];_0x5d87f7['gridProfile']&&(_0x22ed56[_0x1697da(0x225)](_0x22ed56[_0x1697da(0x323)],_0x22ed56[_0x1697da(0x258)])?_0x2efbdd=_0x2bbd1c[_0x3cf1da[_0x1697da(0x33d)]]:_0x78dea8=_0x13f93d[_0x5d87f7[_0x1697da(0x33d)]]);global_registry[_0x1697da(0x341)]=![];if(_0x5d87f7[_0x1697da(0x2c9)]){if(_0x22ed56[_0x1697da(0x286)](_0x22ed56['ckahw'],_0x22ed56[_0x1697da(0x353)])){const _0x3bb46f=_0x22ed56[_0x1697da(0x1f2)]['split']('|');let _0x38c30d=0x0;while(!![]){switch(_0x3bb46f[_0x38c30d++]){case'0':global_registry['hubHaNameSpace']=_0x22ed56[_0x1697da(0x31d)];continue;case'1':global_registry['enableHubHa']=!![];continue;case'2':global_registry[_0x1697da(0x301)]=_0x22ed56[_0x1697da(0x31a)];continue;case'3':global_registry[_0x1697da(0x226)]=_0x22ed56[_0x1697da(0x31b)];continue;case'4':logger['info'](_0x22ed56[_0x1697da(0x343)]);continue;}break;}}else{const _0x1f0e5b={};_0x1f0e5b['description']=_0x22ed56[_0x1697da(0x24e)],_0x1f0e5b['type']=_0x22ed56[_0x1697da(0x1fa)];const _0x15d4ae={};_0x15d4ae[_0x1697da(0x26c)]=_0x22ed56[_0x1697da(0x25f)],_0x15d4ae['type']=_0x22ed56[_0x1697da(0x1fa)];const _0x4be37a={};_0x4be37a[_0x1697da(0x26c)]=_0x22ed56['dlzIg'],_0x4be37a[_0x1697da(0x34a)]=_0x22ed56[_0x1697da(0x1fa)];const _0x1ee4d1={};_0x1ee4d1['description']=_0x22ed56[_0x1697da(0x21f)],_0x1ee4d1['type']=_0x22ed56[_0x1697da(0x1fa)];const _0x5b1415={};_0x5b1415[_0x1697da(0x26c)]=_0x22ed56[_0x1697da(0x25c)],_0x5b1415[_0x1697da(0x34a)]=_0x22ed56['HDxxy'];const _0x54bacd={};_0x54bacd[_0x1697da(0x26c)]=_0x22ed56[_0x1697da(0x218)],_0x54bacd[_0x1697da(0x34a)]=_0x22ed56[_0x1697da(0x1fa)];const _0x13c648={};_0x13c648[_0x1697da(0x26c)]=_0x22ed56[_0x1697da(0x2c1)],_0x13c648['type']=_0x22ed56['gaohQ'],_0x13c648[_0x1697da(0x391)]=![];const _0x59df53={};_0x59df53[_0x1697da(0x26c)]=_0x22ed56[_0x1697da(0x2c6)],_0x59df53[_0x1697da(0x34a)]=_0x22ed56['gaohQ'],_0x59df53['default']=![];const _0x5582db={};_0x5582db[_0x1697da(0x26c)]=_0x22ed56['IZDia'],_0x5582db[_0x1697da(0x34a)]=_0x22ed56[_0x1697da(0x29f)],_0x5582db[_0x1697da(0x391)]=![];const _0x42ba57={};return _0x42ba57[_0x1697da(0x366)]=_0x1f0e5b,_0x42ba57[_0x1697da(0x1ef)]=_0x15d4ae,_0x42ba57[_0x1697da(0x230)]=_0x4be37a,_0x42ba57[_0x1697da(0x282)]=_0x1ee4d1,_0x42ba57['region']=_0x5b1415,_0x42ba57[_0x1697da(0x2c8)]=_0x54bacd,_0x42ba57['skip-tls-cert-verify']=_0x13c648,_0x42ba57['hub-ha']=_0x59df53,_0x42ba57[_0x1697da(0x33a)]=_0x5582db,_0xb5e48d[_0x1697da(0x1f3)](_0x4da067[_0x1697da(0x36a)])[_0x1697da(0x36e)](_0x321bae)[_0x1697da(0x32c)](_0x42ba57)[_0x1697da(0x260)](_0x22ed56['LcmTA'])[_0x1697da(0x223)];}}if(_0x22ed56['aOxdq'](_0x47d8e9,![])&&_0x22ed56[_0x1697da(0x2b1)](_0x99ee22,![])){if(_0x22ed56[_0x1697da(0x327)](_0x22ed56['FhWpA'],_0x22ed56[_0x1697da(0x2e1)]))_0x376299=_0x22ed56['vWMNf'];else{if(_0x22ed56['elGhy'](_0x78dea8,undefined)){if(_0x22ed56[_0x1697da(0x225)](_0x22ed56['Fckbk'],_0x22ed56[_0x1697da(0x374)])){const _0xd6d896=_0x22ed56[_0x1697da(0x309)][_0x1697da(0x2d4)]('|');let _0x34ae81=0x0;while(!![]){switch(_0xd6d896[_0x34ae81++]){case'0':_0x372f54[_0x1697da(0x301)]=_0x22ed56[_0x1697da(0x31a)];continue;case'1':_0xe55f63[_0x1697da(0x2f5)]=_0x22ed56[_0x1697da(0x31d)];continue;case'2':_0x39793a['info'](_0x22ed56[_0x1697da(0x343)]);continue;case'3':_0x30ca26['enableHubHa']=!![];continue;case'4':_0xae3918[_0x1697da(0x226)]=_0x22ed56[_0x1697da(0x31b)];continue;}break;}}else _0x40fc5d=_0x22ed56[_0x1697da(0x239)],await _0x22ed56[_0x1697da(0x289)](reportToGalactusAndSendToEDS,_0x5d87f7,_0x5cd4f5,_0x40fc5d,messageTypes[_0x1697da(0x2c0)],_0x22ed56[_0x1697da(0x253)],_0x22ed56['MUtIn'],_0x22ed56['RmXGK']),logger[_0x1697da(0x2fa)](_0x40fc5d),process[_0x1697da(0x2dd)](0x1);}global_registry[_0x1697da(0x20f)]=_0x78dea8['id'],_0x40fc5d=_0x1697da(0x333)+_0x2c2947+_0x1697da(0x20d)+_0x78dea8[_0x1697da(0x1eb)]+_0x1697da(0x278),logger[_0x1697da(0x32d)](_0x40fc5d);const _0x3a678f={};_0x3a678f['type']=WS_EVENTS[_0x1697da(0x28d)],_0x3a678f[_0x1697da(0x2db)]=_0x40fc5d,webSocketUtils[_0x1697da(0x329)](_0x5cd4f5,_0x3a678f),_0x2f55b5=_0x78dea8[_0x1697da(0x344)],_0x58eaeb=_0x78dea8['clusterName'],_0x49d3c8=_0x78dea8[_0x1697da(0x2df)],_0x21c236=_0x78dea8[_0x1697da(0x30a)],_0x59ea2e=_0x78dea8[_0x1697da(0x219)],_0x30baac=_0x78dea8['vpc'],_0x362fa3=_0x78dea8[_0x1697da(0x209)],_0x2124f0=_0x78dea8['subnets'],_0x237ccd=_0x78dea8['s3bucket'],_0x2a7191=_0x78dea8['minNodes'],_0x31ce10=_0x78dea8[_0x1697da(0x2eb)],_0x30e714=_0x5e74c1[_0x1697da(0x22d)],_0x4602d8=_0x5e74c1[_0x1697da(0x334)];if(_0x30baac&&_0x22ed56['dvvVZ'](_0x30baac[_0x1697da(0x303)],0x0)){if(_0x22ed56['NfBgu'](_0x22ed56[_0x1697da(0x21b)],_0x22ed56['SMOUz']))_0x30baac=null;else{const _0x1d62be=_0x22ed56['hcCUS'][_0x1697da(0x2d4)]('|');let _0x21bee3=0x0;while(!![]){switch(_0x1d62be[_0x21bee3++]){case'0':_0x17343a=_0x11181e['browserVersion'];continue;case'1':_0x3aed24=_0x25cc4d['s3bucket'];continue;case'2':_0x22ed56[_0x1697da(0x327)](_0x4f76ee['privateGrid'],_0x20c83a)&&_0x4127c8[_0x1697da(0x2b6)]&&(_0x55c419[_0x1697da(0x295)]=!![]);continue;case'3':_0x59ad50[_0x1697da(0x341)]&&_0x22ed56[_0x1697da(0x37e)](_0x2f7e73,_0x2d0deb['kafkaUploader']);continue;case'4':_0x23f848=null;continue;case'5':const _0x48d12e={};_0x48d12e['type']=_0x593143['LOG'],_0x48d12e[_0x1697da(0x2db)]=_0x1c7362,_0x57074b['sendEventToBackend'](_0x3364bd,_0x48d12e);continue;case'6':_0x3a7849=_0x4533d6[_0x1697da(0x30a)];continue;case'7':_0x3ed3f6=_0x1697da(0x1fd)+_0x1cbea8;continue;case'8':_0x22ed56[_0x1697da(0x2c3)](_0x4f07c5,_0x270ce4,_0x4ea727,_0x8413ca,_0x2790fa,_0x214871,_0x1cac80,_0x5bf03a,_0x4a3e84,_0x33db25,_0x58dcc9,_0x2617a2,_0x3f1bdd[_0x1697da(0x22e)]);continue;case'9':_0x2c27e1=_0x37aa7c[_0x1697da(0x22d)];continue;case'10':_0x4a74c5=_0xd4360d[_0x1697da(0x326)];continue;case'11':_0x42188b[_0x1697da(0x32d)](_0x1e4f01);continue;case'12':_0x5e71de=null;continue;case'13':_0x219560=_0xf31b0[_0x1697da(0x219)];continue;case'14':_0x5cfd07=_0xdb2929[_0x1697da(0x2eb)];continue;case'15':_0xf4cd38=null;continue;}break;}}}_0x2124f0&&_0x22ed56[_0x1697da(0x1f9)](_0x2124f0[_0x1697da(0x303)],0x0)&&(_0x22ed56[_0x1697da(0x286)](_0x22ed56[_0x1697da(0x291)],_0x22ed56[_0x1697da(0x22c)])?_0x106edb[_0x1697da(0x295)]=!![]:_0x2124f0=null);_0x22ed56[_0x1697da(0x328)](_0x78dea8[_0x1697da(0x2b6)],undefined)&&_0x78dea8[_0x1697da(0x2b6)]&&(_0x22ed56['oSfWR'](_0x22ed56[_0x1697da(0x2ca)],_0x22ed56[_0x1697da(0x2aa)])?global_registry[_0x1697da(0x295)]=!![]:_0x22ed56[_0x1697da(0x37e)](_0x6027ca,_0x2b49ce[_0x1697da(0x1e9)]));_0x22ed56[_0x1697da(0x2c3)](updateGlobalRegistryWithConfig,_0x2f55b5,_0x58eaeb,_0x49d3c8,_0x21c236,_0x59ea2e,_0x237ccd,_0x78dea8,_0x30e714,_0x4602d8,_0x2a7191,_0x31ce10,_0x5d87f7[_0x1697da(0x22e)]);if(global_registry['enableHubHa']){if(_0x22ed56[_0x1697da(0x207)](_0x22ed56[_0x1697da(0x28a)],_0x22ed56[_0x1697da(0x2d1)])){const _0x29d283={};_0x29d283['type']=_0x3d8f93[_0x1697da(0x28d)],_0x29d283['message']=_0x1697da(0x2a7)+_0x50c34e+_0x1697da(0x31c),_0x495e4b[_0x1697da(0x329)](_0x5a58e7,_0x29d283,_0x22ed56[_0x1697da(0x29c)]),_0x38adc0[_0x1697da(0x32d)](_0x1697da(0x2a7)+_0x47d954+_0x1697da(0x31c)),_0x33f29c=!![];if(_0x22ed56[_0x1697da(0x286)](_0xf76e30,!![]))throw new _0x3180db('Cluster\x20'+_0x449e16+_0x1697da(0x264));}else _0x22ed56[_0x1697da(0x37e)](updateGlobalRegistryForHubHa,_0x5e74c1['uploaderVersion']);}}}else{if(_0x22ed56[_0x1697da(0x294)](_0x99ee22,!![])){if(_0x22ed56[_0x1697da(0x293)](_0x22ed56[_0x1697da(0x2f2)],_0x22ed56[_0x1697da(0x2f2)]))_0x2ea4ae[_0x1697da(0x32d)](_0x1697da(0x38c)+_0x2db53e[_0x1697da(0x1fb)](_0x578e71)+'\x20');else{_0x40fc5d=_0x1697da(0x1fd)+_0x2c2947,logger[_0x1697da(0x32d)](_0x40fc5d);const _0x44c994={};_0x44c994[_0x1697da(0x34a)]=WS_EVENTS[_0x1697da(0x28d)],_0x44c994[_0x1697da(0x2db)]=_0x40fc5d,webSocketUtils['sendEventToBackend'](_0x5cd4f5,_0x44c994),_0x21c236=_0x78dea8[_0x1697da(0x30a)],_0x59ea2e=_0x78dea8[_0x1697da(0x219)],_0x30baac=null,_0x362fa3=null,_0x2124f0=null,_0x237ccd=_0x78dea8['s3bucket'],_0x2a7191=_0x78dea8[_0x1697da(0x326)],_0x31ce10=_0x78dea8[_0x1697da(0x2eb)],_0x30e714=_0x5e74c1[_0x1697da(0x22d)],_0x4602d8=_0x5e74c1[_0x1697da(0x334)],_0x22ed56['SdvYI'](_0x78dea8['privateGrid'],undefined)&&_0x78dea8[_0x1697da(0x2b6)]&&(_0x22ed56[_0x1697da(0x207)](_0x22ed56[_0x1697da(0x287)],_0x22ed56[_0x1697da(0x246)])?_0x135d57=null:global_registry[_0x1697da(0x295)]=!![]),_0x22ed56[_0x1697da(0x388)](updateGlobalRegistryWithConfig,_0x2f55b5,_0x58eaeb,_0x49d3c8,_0x21c236,_0x59ea2e,_0x237ccd,_0x78dea8,_0x30e714,_0x4602d8,_0x2a7191,_0x31ce10,_0x5d87f7[_0x1697da(0x22e)]),global_registry[_0x1697da(0x341)]&&(_0x22ed56[_0x1697da(0x201)](_0x22ed56['vvByz'],_0x22ed56[_0x1697da(0x2b7)])?_0x4c3043[_0x1697da(0x295)]=!![]:_0x22ed56['tHvTF'](updateGlobalRegistryForHubHa,_0x5e74c1[_0x1697da(0x370)]));}}else{if(_0x22ed56[_0x1697da(0x2ed)](_0x22ed56['SEmgo'],_0x22ed56['SEmgo']))_0x22ed56[_0x1697da(0x37f)](_0x1cdd05,_0x28d626['kafkaUploader']);else{const _0x3bce43=_0x22ed56[_0x1697da(0x2e0)]['split']('|');let _0x4c179c=0x0;while(!![]){switch(_0x3bce43[_0x4c179c++]){case'0':const _0x18adbe={};_0x18adbe[_0x1697da(0x34a)]=WS_EVENTS[_0x1697da(0x28d)],_0x18adbe[_0x1697da(0x2db)]=_0x40fc5d,webSocketUtils[_0x1697da(0x329)](_0x5cd4f5,_0x18adbe);continue;case'1':global_registry[_0x1697da(0x22d)]=_0x5e74c1['hubVersion'];continue;case'2':logger[_0x1697da(0x32d)](_0x40fc5d);continue;case'3':global_registry[_0x1697da(0x334)]=_0x5e74c1[_0x1697da(0x334)];continue;case'4':global_registry[_0x1697da(0x344)]=_0x2f55b5;continue;case'5':const _0x5f34d1={};_0x5f34d1[_0x1697da(0x34a)]=WS_EVENTS[_0x1697da(0x27f)],_0x5f34d1[_0x1697da(0x2db)]=_0x22ed56[_0x1697da(0x378)],webSocketUtils[_0x1697da(0x329)](_0x5cd4f5,_0x5f34d1);continue;case'6':global_registry[_0x1697da(0x340)]=_0x58eaeb;continue;case'7':_0x40fc5d=_0x1697da(0x24a)+_0x2c2947+'\x20in\x20existing\x20cluster\x20\x27'+_0x58eaeb+'\x27';continue;case'8':global_registry['clusterRegion']=_0x49d3c8;continue;}break;}}}}const _0xb6cf6d=await _0x22ed56['yjCqp'](getCloudProviderObject,_0x2f55b5,_0x58eaeb,_0x2c2947,_0x5cd4f5,webSocketUtils,_0x5d87f7);_0x22ed56[_0x1697da(0x34e)](_0x2f55b5,AZURE)&&(_0x22ed56[_0x1697da(0x327)](_0x22ed56['kENEq'],_0x22ed56[_0x1697da(0x2c5)])?_0x566c26[_0x1697da(0x32d)](_0x22ed56['azgfb']):_0xb6cf6d[_0x1697da(0x221)]());let _0x396d96;if(_0x22ed56['xGOmk'](_0x47d8e9,![])){_0x40fc5d=_0x1697da(0x252)+_0x49d3c8+').';const _0x162e57={};_0x162e57[_0x1697da(0x34a)]=WS_EVENTS[_0x1697da(0x28d)],_0x162e57[_0x1697da(0x2db)]=_0x40fc5d,webSocketUtils['sendEventToBackend'](_0x5cd4f5,_0x162e57),logger[_0x1697da(0x32d)](_0x40fc5d);const _0x3dda35=await _0xb6cf6d['isClusterPresent']();if(_0x3dda35){if(_0x22ed56[_0x1697da(0x201)](_0x22ed56[_0x1697da(0x262)],_0x22ed56[_0x1697da(0x262)]))_0x180aed=_0x22ed56[_0x1697da(0x2c2)];else{const _0x524c0c={};_0x524c0c[_0x1697da(0x34a)]=WS_EVENTS[_0x1697da(0x28d)],_0x524c0c[_0x1697da(0x2db)]='Cluster\x20'+_0x58eaeb+_0x1697da(0x31c),webSocketUtils[_0x1697da(0x329)](_0x5cd4f5,_0x524c0c,_0x22ed56[_0x1697da(0x29c)]),logger[_0x1697da(0x32d)](_0x1697da(0x2a7)+_0x58eaeb+_0x1697da(0x31c)),_0x47d8e9=!![];if(_0x22ed56[_0x1697da(0x299)](_0x99ee22,!![])){if(_0x22ed56[_0x1697da(0x294)](_0x22ed56['hgHwD'],_0x22ed56['hgHwD']))throw new Error(_0x1697da(0x2a7)+_0x58eaeb+'\x20is\x20already\x20present.\x20Cannot\x20spawn\x20a\x20new\x20cluster');else _0x2b7acd[_0x1697da(0x33d)]=_0x42523a['gridProfile'];}}}else{const _0x5597a1={};_0x5597a1[_0x1697da(0x34a)]=WS_EVENTS[_0x1697da(0x28d)],_0x5597a1[_0x1697da(0x2db)]=_0x22ed56[_0x1697da(0x229)],webSocketUtils[_0x1697da(0x329)](_0x5cd4f5,_0x5597a1),logger[_0x1697da(0x32d)](_0x22ed56[_0x1697da(0x229)]);const _0x22b1c6=_0x22ed56[_0x1697da(0x206)](_0x30baac,null)&&_0x22ed56['NQHcA'](_0x30baac,undefined),_0x2ee12a=_0x22ed56[_0x1697da(0x206)](_0x2124f0,null)&&_0x22ed56[_0x1697da(0x327)](_0x2124f0,undefined)&&_0x22ed56[_0x1697da(0x356)](_0x2124f0[_0x1697da(0x303)],0x0);if(_0x22b1c6){_0x22ed56['vLVUB'](_0x2ee12a,![])&&(_0x40fc5d=_0x22ed56[_0x1697da(0x2ba)],await _0x22ed56[_0x1697da(0x2f6)](reportToGalactusAndSendToEDS,_0x5d87f7,_0x5cd4f5,_0x40fc5d,messageTypes['ERROR'],_0x22ed56['aELPw'],_0x22ed56['pXOwz'],_0x22ed56[_0x1697da(0x244)]),logger['error'](_0x40fc5d),process[_0x1697da(0x2dd)](0x1));const _0x57d89d=await _0xb6cf6d['isVPCPresent'](_0x30baac);_0x22ed56[_0x1697da(0x237)](_0x57d89d,![])?(_0x40fc5d=_0x22ed56[_0x1697da(0x322)],await _0x22ed56['WIHeO'](reportToGalactusAndSendToEDS,_0x5d87f7,_0x5cd4f5,_0x40fc5d,messageTypes[_0x1697da(0x2c0)],_0x22ed56[_0x1697da(0x253)],_0x22ed56[_0x1697da(0x2fb)],_0x22ed56['RmXGK']),logger[_0x1697da(0x2fa)](_0x40fc5d),process[_0x1697da(0x2dd)](0x1)):logger['info'](_0x1697da(0x29b)+_0x30baac+'\x20');const _0x1ad0fe=await _0xb6cf6d[_0x1697da(0x365)](_0x2124f0,_0x30baac);_0x22ed56[_0x1697da(0x21a)](_0x1ad0fe[0x0],![])?(_0x40fc5d='Subnets:\x20'+JSON['stringify'](_0x1ad0fe[0x1])+_0x1697da(0x247)+_0x30baac+_0x1697da(0x26b),await _0x22ed56[_0x1697da(0x368)](reportToGalactusAndSendToEDS,_0x5d87f7,_0x5cd4f5,_0x40fc5d,messageTypes['ERROR'],_0x22ed56[_0x1697da(0x253)],_0x22ed56[_0x1697da(0x35f)],_0x22ed56[_0x1697da(0x244)]),logger['error'](_0x40fc5d),process[_0x1697da(0x2dd)](0x1)):logger[_0x1697da(0x32d)](_0x1697da(0x38c)+JSON[_0x1697da(0x1fb)](_0x2124f0)+'\x20'),[_0x30baac,_0x2124f0]=await _0xb6cf6d[_0x1697da(0x2f4)](_0x30baac,_0x2124f0);}else{const _0x519270=_0x22ed56['fXolw'][_0x1697da(0x2d4)]('|');let _0x109d89=0x0;while(!![]){switch(_0x519270[_0x109d89++]){case'0':const _0x3827a9={};_0x3827a9[_0x1697da(0x34a)]=WS_EVENTS[_0x1697da(0x28d)],_0x3827a9['message']=_0x22ed56[_0x1697da(0x233)],webSocketUtils[_0x1697da(0x329)](_0x5cd4f5,_0x3827a9);continue;case'1':logger[_0x1697da(0x32d)](_0x22ed56[_0x1697da(0x319)]);continue;case'2':logger[_0x1697da(0x32d)](_0x22ed56[_0x1697da(0x233)]);continue;case'3':const _0x1ba5a7={};_0x1ba5a7[_0x1697da(0x34a)]=WS_EVENTS[_0x1697da(0x28d)],_0x1ba5a7['message']=_0x22ed56[_0x1697da(0x319)],webSocketUtils[_0x1697da(0x329)](_0x5cd4f5,_0x1ba5a7);continue;case'4':[_0x30baac,_0x2124f0]=await _0xb6cf6d[_0x1697da(0x2f4)](_0x30baac,_0x2124f0);continue;}break;}}}}_0x47d8e9&&_0x22ed56['iFdze'](_0x2f55b5,AZURE)&&(await _0xb6cf6d[_0x1697da(0x34b)](),await _0xb6cf6d[_0x1697da(0x2fd)]());const [_0x277da3,_0x314345,_0x24fe8a,_0xa2cb20,_0x4b046a,_0x5a585b,_0x599faf]=await _0x22ed56[_0x1697da(0x2cb)](createK8sClient,_0xb6cf6d,_0x5d87f7[_0x1697da(0x2b0)]);_0x22ed56['dvvVZ'](_0x47d8e9,![])&&_0x22ed56[_0x1697da(0x222)](_0x2f55b5,AWS)&&(global_registry['isNewAWSCluster']=!![],_0x396d96=await _0xb6cf6d['setupAutoscaler'](_0x277da3,_0x5d87f7));if(_0x22ed56['mhShP'](_0x47d8e9,![])&&global_registry[_0x1697da(0x341)])try{await _0xb6cf6d[_0x1697da(0x383)](_0x5a585b,_0x599faf,_0x5d87f7,_0x30baac,_0x2124f0);const _0x134015={};_0x134015[_0x1697da(0x34a)]=WS_EVENTS[_0x1697da(0x28d)],_0x134015['message']=_0x22ed56[_0x1697da(0x1e7)],webSocketUtils[_0x1697da(0x329)](_0x5cd4f5,_0x134015);!await _0x22ed56['EueZM'](namespaceExists,_0x277da3,global_registry[_0x1697da(0x2f5)])&&await _0x22ed56['fscnx'](createNamespace,_0x277da3,global_registry[_0x1697da(0x2f5)]);logger[_0x1697da(0x32d)](_0x22ed56[_0x1697da(0x354)]);let _0x40a9ce=await fs['readFileAsync'](path[_0x1697da(0x314)](__dirname,_0x22ed56[_0x1697da(0x377)],_0x22ed56[_0x1697da(0x238)],_0x22ed56['PQuVm'],_0x22ed56[_0x1697da(0x318)]),_0x22ed56[_0x1697da(0x30c)]);_0x40a9ce=_0x40a9ce['replace'](/<RedisClientPassword>/g,_0x22ed56[_0x1697da(0x37f)](encodeBase64,global_registry[_0x1697da(0x301)])),_0x40a9ce=_0x40a9ce['replace'](/<KafkaClientPassword>/g,_0x22ed56[_0x1697da(0x37f)](encodeBase64,global_registry[_0x1697da(0x226)])),_0x40a9ce=_0x40a9ce['replace'](/<BstackUsername>/g,_0x22ed56[_0x1697da(0x2a3)](encodeBase64,global_registry[_0x1697da(0x29a)])),_0x40a9ce=_0x40a9ce[_0x1697da(0x1ea)](/<BstackAccessKey>/g,_0x22ed56[_0x1697da(0x22a)](encodeBase64,global_registry[_0x1697da(0x37b)]));const _0x1cd88d=yaml['loadAll'](_0x40a9ce);await _0x22ed56[_0x1697da(0x342)](kubeApply,_0x1cd88d,_0x599faf),logger[_0x1697da(0x32d)](_0x22ed56[_0x1697da(0x1fe)]);let _0x86fbad=_0x22ed56[_0x1697da(0x2ab)];if(_0x22ed56[_0x1697da(0x21a)](_0x2f55b5,AZURE))_0x86fbad=_0x22ed56[_0x1697da(0x1f1)];else _0x22ed56['LUWSM'](_0x2f55b5,GCP)&&(_0x86fbad=_0x22ed56[_0x1697da(0x2c2)]);logger[_0x1697da(0x32d)](_0x22ed56['fpYIM']);let _0x37839d=await fs['readFileAsync'](path['join'](__dirname,_0x22ed56['MpMvL'],_0x22ed56[_0x1697da(0x238)],_0x22ed56['PQuVm'],_0x22ed56[_0x1697da(0x202)]),_0x22ed56[_0x1697da(0x30c)]);_0x37839d=_0x37839d['replace'](/<HubHaNameSpace>/g,global_registry[_0x1697da(0x2f5)]),_0x37839d=_0x37839d[_0x1697da(0x1ea)](/<StorageClassName>/g,_0x86fbad);const _0x2aed57=yaml['loadAll'](_0x37839d);await _0x22ed56[_0x1697da(0x34c)](kubeApply,_0x2aed57,_0x599faf),logger[_0x1697da(0x32d)](_0x22ed56[_0x1697da(0x213)]),logger['info'](_0x22ed56[_0x1697da(0x2b4)]);let _0x1193a0=await fs[_0x1697da(0x267)](path['join'](__dirname,_0x22ed56[_0x1697da(0x377)],_0x22ed56[_0x1697da(0x238)],_0x22ed56[_0x1697da(0x256)],_0x22ed56[_0x1697da(0x363)]),_0x22ed56[_0x1697da(0x30c)]);_0x1193a0=_0x1193a0[_0x1697da(0x1ea)](/<HubHaNameSpace>/g,global_registry[_0x1697da(0x2f5)]),_0x1193a0=_0x1193a0[_0x1697da(0x1ea)](/<StorageClassName>/g,_0x86fbad);const _0x2fad58=yaml[_0x1697da(0x2a5)](_0x1193a0);await _0x22ed56[_0x1697da(0x211)](kubeApply,_0x2fad58,_0x599faf),logger[_0x1697da(0x32d)](_0x22ed56[_0x1697da(0x2e2)]),logger[_0x1697da(0x32d)](_0x22ed56[_0x1697da(0x308)]);let _0x24c075=await fs[_0x1697da(0x267)](path['join'](__dirname,_0x22ed56[_0x1697da(0x377)],_0x22ed56[_0x1697da(0x238)],_0x22ed56['PQuVm'],_0x22ed56[_0x1697da(0x30b)]),_0x22ed56[_0x1697da(0x30c)]);_0x24c075=_0x24c075[_0x1697da(0x1ea)](/<UploaderImageVersion>/g,global_registry[_0x1697da(0x277)]),_0x24c075=_0x24c075[_0x1697da(0x1ea)](/<HubHaNameSpace>/g,global_registry[_0x1697da(0x2f5)]);const _0x781fb2=yaml[_0x1697da(0x2a5)](_0x24c075);_0x22ed56['YvDDM'](global_registry['cloudProvider'],AZURE)&&(_0x781fb2[0x0][_0x1697da(0x31e)][_0x1697da(0x220)][_0x1697da(0x20a)][_0x1697da(0x315)]={'azure.workload.identity/use':_0x22ed56[_0x1697da(0x261)],..._0x781fb2[0x0][_0x1697da(0x31e)][_0x1697da(0x220)][_0x1697da(0x20a)][_0x1697da(0x315)]},_0x781fb2[0x0][_0x1697da(0x31e)][_0x1697da(0x220)][_0x1697da(0x31e)][_0x1697da(0x2bc)]=_0x22ed56[_0x1697da(0x310)]);await _0x22ed56[_0x1697da(0x2d8)](kubeApply,_0x781fb2,_0x599faf),logger[_0x1697da(0x32d)](_0x22ed56[_0x1697da(0x2bd)]);const _0x22c3e6={};_0x22c3e6['type']=WS_EVENTS['LOG'],_0x22c3e6['message']=_0x22ed56['ITcoN'],webSocketUtils[_0x1697da(0x329)](_0x5cd4f5,_0x22c3e6),logger['info'](_0x22ed56[_0x1697da(0x2d7)]);}catch(_0x152066){const _0x5c244d=_0x22ed56['cczSk'][_0x1697da(0x2d4)]('|');let _0x21cc11=0x0;while(!![]){switch(_0x5c244d[_0x21cc11++]){case'0':_0x40fc5d='Error\x20occurred\x20while\x20setting\x20up\x20Hub\x20HA\x20infra:\x20'+_0x152066[_0x1697da(0x2db)];continue;case'1':await _0x22ed56[_0x1697da(0x38b)](reportToGalactusAndSendToEDS,_0x5d87f7,_0x5cd4f5,_0x40fc5d,messageTypes[_0x1697da(0x2c0)],_0x22ed56[_0x1697da(0x253)],_0x22ed56[_0x1697da(0x214)],_0x22ed56[_0x1697da(0x244)]);continue;case'2':await _0xb6cf6d[_0x1697da(0x1f6)](_0x277da3,global_registry[_0x1697da(0x284)]);continue;case'3':logger[_0x1697da(0x2fa)](_0x40fc5d);continue;case'4':process[_0x1697da(0x2dd)](0x1);continue;}break;}}try{_0x5ef63c=_0x22ed56[_0x1697da(0x2a3)](kebabCase,_0x2c2947),logger[_0x1697da(0x32d)](_0x22ed56[_0x1697da(0x255)]);const _0x2dc74a={};_0x2dc74a[_0x1697da(0x34a)]=WS_EVENTS['LOG'],_0x2dc74a[_0x1697da(0x2db)]=_0x22ed56[_0x1697da(0x255)],webSocketUtils['sendEventToBackend'](_0x5cd4f5,_0x2dc74a);if(_0x22ed56[_0x1697da(0x297)](_0x5ef63c,_0x22ed56[_0x1697da(0x310)])){const _0x36722c={};_0x36722c['createdBy']=_0x22ed56[_0x1697da(0x30f)],_0x36722c[_0x1697da(0x376)]=_0x22ed56[_0x1697da(0x30f)];const _0x2b7bc3={};_0x2b7bc3[_0x1697da(0x1eb)]=_0x5ef63c,_0x2b7bc3[_0x1697da(0x2f7)]=_0x36722c;const _0x2e8583={};_0x2e8583[_0x1697da(0x20a)]=_0x2b7bc3;const _0x1fedb8=_0x2e8583,_0x4c0391={};_0x4c0391[_0x1697da(0x2ce)]=_0x1fedb8,await _0x277da3[_0x1697da(0x36b)](_0x4c0391),logger[_0x1697da(0x32d)](_0x22ed56['RCgZm']);}const _0x223cc2={};_0x223cc2[_0x1697da(0x34a)]=WS_EVENTS[_0x1697da(0x28d)],_0x223cc2['message']=_0x22ed56[_0x1697da(0x346)],webSocketUtils[_0x1697da(0x329)](_0x5cd4f5,_0x223cc2);const _0x2e9ef2={};_0x2e9ef2['type']=WS_EVENTS[_0x1697da(0x28d)],_0x2e9ef2[_0x1697da(0x2db)]=_0x22ed56['UntlK'],webSocketUtils[_0x1697da(0x329)](_0x5cd4f5,_0x2e9ef2),logger[_0x1697da(0x32d)](_0x22ed56[_0x1697da(0x2fc)]);let _0x476123={};_0x22ed56['uOPVq'](_0x2f55b5,AZURE)&&(_0x476123={'clientId':await _0xb6cf6d['getResourceClientId']('turboscale-managed-identity-'+_0x58eaeb)});await _0x22ed56[_0x1697da(0x316)](addGridComponents,_0x277da3,_0x314345,_0x24fe8a,_0xa2cb20,_0x5ef63c,_0x58eaeb,_0x396d96,_0x4b046a,_0x599faf,_0x476123),_0x40fc5d=_0x22ed56[_0x1697da(0x311)],logger[_0x1697da(0x32d)](_0x40fc5d);const _0x3bf040={};_0x3bf040['type']=WS_EVENTS[_0x1697da(0x28d)],_0x3bf040[_0x1697da(0x2db)]=_0x40fc5d,webSocketUtils['sendEventToBackend'](_0x5cd4f5,_0x3bf040),_0x40fc5d=_0x22ed56[_0x1697da(0x389)],logger[_0x1697da(0x32d)](_0x40fc5d);const _0x4241ed={};_0x4241ed['type']=WS_EVENTS['LOG'],_0x4241ed[_0x1697da(0x2db)]=_0x40fc5d,webSocketUtils[_0x1697da(0x329)](_0x5cd4f5,_0x4241ed),await _0x22ed56[_0x1697da(0x36d)](waitForDeployment,_0x314345,_0x5ef63c,TURBOSCALE_DEPLOYMENT,0x1d4c0);const _0x171185=await _0x22ed56['CXpqb'](getNamespaceUID,_0x277da3,_0x5ef63c),_0x1e91d0=global_registry[_0x1697da(0x295)]?_0x22ed56[_0x1697da(0x37d)]:_0x22ed56[_0x1697da(0x29d)],_0xbf8679={};_0xbf8679['name']=_0x1e91d0,_0xbf8679[_0x1697da(0x20c)]=_0x22ed56['aXCnk'];const _0x25be2b=await _0x277da3[_0x1697da(0x2ef)](_0xbf8679);let _0x4738d4=_0xb6cf6d[_0x1697da(0x2a9)](_0x25be2b)+'/'+_0x5ef63c,_0x357fda=_0x22ed56['RLHSg'];try{const _0x3fbeba='https://'+AG_API_URL+'/packages/cli/get-grid-url?gridIdentifier='+_0x171185,_0xd54cee=await _0x22ed56[_0x1697da(0x342)](got,_0x3fbeba,_0x2c050b);(_0x22ed56['vGrip'](_0xd54cee,null)||_0x22ed56['aOxdq'](_0xd54cee,undefined))&&(_0x40fc5d=_0x22ed56[_0x1697da(0x28c)],await _0x22ed56[_0x1697da(0x228)](reportToGalactusAndSendToEDS,_0x5d87f7,_0x5cd4f5,_0x40fc5d,messageTypes[_0x1697da(0x2c0)],_0x22ed56['aELPw'],_0x22ed56[_0x1697da(0x241)],_0x22ed56[_0x1697da(0x244)]),logger[_0x1697da(0x2fa)](_0x40fc5d),process[_0x1697da(0x2dd)](0x1));_0x22ed56['iFdze'](_0xd54cee['statusCode'],0x191)&&(_0x40fc5d=_0x22ed56[_0x1697da(0x1ee)],await _0x22ed56[_0x1697da(0x2f6)](reportToGalactusAndSendToEDS,_0x5d87f7,_0x5cd4f5,_0x40fc5d,messageTypes[_0x1697da(0x2c0)],_0x22ed56['aELPw'],_0x22ed56[_0x1697da(0x2af)],_0x22ed56['RmXGK']),logger['error'](_0x40fc5d),process[_0x1697da(0x2dd)](0x1));_0x22ed56[_0x1697da(0x215)](_0xd54cee[_0x1697da(0x235)],0xc8)&&(_0x40fc5d=_0x1697da(0x2e5)+JSON['stringify'](_0xd54cee),await _0x22ed56[_0x1697da(0x2bf)](reportToGalactusAndSendToEDS,_0x5d87f7,_0x5cd4f5,_0x40fc5d,messageTypes[_0x1697da(0x2c0)],_0x22ed56['aELPw'],_0x22ed56[_0x1697da(0x2fe)],_0x22ed56[_0x1697da(0x244)]),logger[_0x1697da(0x2fa)](_0x40fc5d),process['exit'](0x1));const _0x27e91a=JSON[_0x1697da(0x1fc)](_0xd54cee[_0x1697da(0x2ce)]);_0x27e91a[_0x1697da(0x381)]&&(_0x4738d4=_0x27e91a[_0x1697da(0x381)],_0x357fda=_0x22ed56[_0x1697da(0x345)]),global_registry['isPrivateGrid']&&(_0x357fda=_0x22ed56[_0x1697da(0x272)]);}catch(_0xcb0622){}_0x40fc5d=_0x1697da(0x2d2)+_0x4738d4+'\x20',logger[_0x1697da(0x32d)](_0x40fc5d);const _0x4eecc4={};_0x4eecc4[_0x1697da(0x34a)]=WS_EVENTS[_0x1697da(0x28d)],_0x4eecc4[_0x1697da(0x2db)]=_0x40fc5d,webSocketUtils[_0x1697da(0x329)](_0x5cd4f5,_0x4eecc4),_0x40fc5d=_0x1697da(0x26a)+_0x357fda+_0x1697da(0x369)+_0x4738d4+'/wd/hub',logger[_0x1697da(0x32d)](_0x40fc5d);const _0x54ba28={};_0x54ba28['type']=WS_EVENTS['LOG'],_0x54ba28[_0x1697da(0x2db)]=_0x40fc5d,webSocketUtils[_0x1697da(0x329)](_0x5cd4f5,_0x54ba28);const _0x114bae={};_0x114bae[_0x1697da(0x34a)]=WS_EVENTS[_0x1697da(0x236)],_0x114bae[_0x1697da(0x2db)]=_0x1697da(0x269)+_0x4738d4,webSocketUtils[_0x1697da(0x329)](_0x5cd4f5,_0x114bae),await webSocketUtils[_0x1697da(0x336)](0x7d0);}catch(_0x4ba89b){logger[_0x1697da(0x2fa)](_0x1697da(0x38e)+_0x4ba89b+'\x20\x0a'+JSON[_0x1697da(0x1fb)](_0x4ba89b[_0x1697da(0x22f)]));if(_0x22ed56[_0x1697da(0x2d0)](_0x47d8e9,![]))try{logger[_0x1697da(0x32d)](_0x22ed56['eRjmg']),await _0x22ed56[_0x1697da(0x30e)](removeGridComponents,_0x277da3,_0x314345,_0x24fe8a,_0xa2cb20,_0x5ef63c),await _0xb6cf6d['deleteCluster'](_0x277da3,global_registry[_0x1697da(0x284)]);}catch(_0x179744){logger['error'](_0x1697da(0x367)+_0x179744+'\x20\x0a'+JSON['stringify'](_0x179744['stack']));}throw _0x4ba89b;}}catch(_0x47eea6){const _0x4390ae=_0x1697da(0x2a6)+_0x47eea6+'\x20\x0a'+JSON[_0x1697da(0x1fb)](_0x47eea6[_0x1697da(0x22f)]);if(_0x5cd4f5){const _0x36dd20={};_0x36dd20[_0x1697da(0x34a)]=WS_EVENTS[_0x1697da(0x28d)],_0x36dd20[_0x1697da(0x2db)]=_0x4390ae,webSocketUtils[_0x1697da(0x329)](_0x5cd4f5,_0x36dd20,_0x22ed56[_0x1697da(0x244)],!![]);}await webSocketUtils[_0x1697da(0x336)](0x7d0);const _0x11a261={};_0x11a261[_0x1697da(0x2fa)]=_0x4390ae,await _0x22ed56[_0x1697da(0x307)](sendInstrumentationEvent,_0x5d87f7,_0x22ed56[_0x1697da(0x253)],messageTypes[_0x1697da(0x2c0)],_0x22ed56['oFfxl'],_0x11a261,_0x5d87f7),logger['error'](_0x4390ae);}process[_0x1697da(0x2dd)](0x0);};