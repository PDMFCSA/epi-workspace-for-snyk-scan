const a9_0x3134bd=a9_0x1f2d;function a9_0x1f2d(_0x3e7793,_0x7b3ea3){const _0x57a089=a9_0x57a0();return a9_0x1f2d=function(_0x1f2d79,_0x3676ea){_0x1f2d79=_0x1f2d79-0x15c;let _0x2c6f87=_0x57a089[_0x1f2d79];return _0x2c6f87;},a9_0x1f2d(_0x3e7793,_0x7b3ea3);}(function(_0x325810,_0x16471d){const _0x11efc0=a9_0x1f2d,_0x2179f2=_0x325810();while(!![]){try{const _0xba1bde=-parseInt(_0x11efc0(0x254))/0x1+-parseInt(_0x11efc0(0x2ac))/0x2+parseInt(_0x11efc0(0x253))/0x3*(parseInt(_0x11efc0(0x1c3))/0x4)+-parseInt(_0x11efc0(0x1c9))/0x5*(-parseInt(_0x11efc0(0x1b5))/0x6)+parseInt(_0x11efc0(0x1c8))/0x7*(-parseInt(_0x11efc0(0x267))/0x8)+-parseInt(_0x11efc0(0x313))/0x9+parseInt(_0x11efc0(0x285))/0xa;if(_0xba1bde===_0x16471d)break;else _0x2179f2['push'](_0x2179f2['shift']());}catch(_0x24db39){_0x2179f2['push'](_0x2179f2['shift']());}}}(a9_0x57a0,0xf054f));const fs=require('fs'),ws=require('ws'),path=require(a9_0x3134bd(0x295)),yaml=require(a9_0x3134bd(0x315)),ReconnectingWebSocket=require(a9_0x3134bd(0x1ce)),got=require(a9_0x3134bd(0x2a2)),{v4:uuidv4}=require(a9_0x3134bd(0x274)),webSocketUtils=require(a9_0x3134bd(0x2ff)),{logger}=require(a9_0x3134bd(0x228)),{getCredentialsPath,updateGlobalRegistryWithConfig,updateGlobalRegistryForHubHa,kebabCase,reportToGalactusAndSendToEDS,getAuthHeader,waitForDeployment,kubeApply,encodeBase64}=require(a9_0x3134bd(0x2e3)),{getCloudProviderObject}=require(a9_0x3134bd(0x24b)),{AWS,WS_EVENTS,global_registry,WS_ENDPOINT,DEFAULT_GRID_NAME,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,messageTypes,AG_API_URL,AZURE,GCP,TURBOSCALE_DEPLOYMENT}=require(a9_0x3134bd(0x30c)),{addGridComponents,removeGridComponents,getNamespaceUID,namespaceExists,createNamespace}=require(a9_0x3134bd(0x182)),{createK8sClient}=require(a9_0x3134bd(0x32d)),{sendInstrumentationEvent}=require('../../utils/instrumentationUtils');exports['command']=a9_0x3134bd(0x19b),exports[a9_0x3134bd(0x17c)]=a9_0x3134bd(0x199),exports[a9_0x3134bd(0x184)]=function(_0xe7dd63){const _0x3ffe30=a9_0x3134bd,_0x249061={};_0x249061[_0x3ffe30(0x263)]=_0x3ffe30(0x2df),_0x249061[_0x3ffe30(0x297)]=_0x3ffe30(0x305),_0x249061[_0x3ffe30(0x2aa)]=_0x3ffe30(0x1a4),_0x249061['DRdSj']='Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.',_0x249061[_0x3ffe30(0x1ab)]=_0x3ffe30(0x1e3),_0x249061[_0x3ffe30(0x185)]=_0x3ffe30(0x1bf),_0x249061[_0x3ffe30(0x18e)]=_0x3ffe30(0x1c1),_0x249061[_0x3ffe30(0x1b3)]=_0x3ffe30(0x269),_0x249061[_0x3ffe30(0x2de)]='boolean',_0x249061[_0x3ffe30(0x204)]=_0x3ffe30(0x1f3),_0x249061[_0x3ffe30(0x1ec)]='Flag\x20to\x20enable\x20cluster\x20auto-upgrade',_0x249061[_0x3ffe30(0x1f8)]=_0x3ffe30(0x278);const _0x4a7a80=_0x249061,_0x54b661={};_0x54b661['description']=_0x4a7a80[_0x3ffe30(0x263)],_0x54b661[_0x3ffe30(0x2d9)]=_0x4a7a80['BrzET'];const _0x590532={};_0x590532[_0x3ffe30(0x21b)]=_0x4a7a80[_0x3ffe30(0x2aa)],_0x590532[_0x3ffe30(0x2d9)]=_0x4a7a80[_0x3ffe30(0x297)];const _0x2d3460={};_0x2d3460[_0x3ffe30(0x21b)]=_0x4a7a80[_0x3ffe30(0x30a)],_0x2d3460[_0x3ffe30(0x2d9)]=_0x4a7a80[_0x3ffe30(0x297)];const _0x3da5d6={};_0x3da5d6['description']=_0x4a7a80[_0x3ffe30(0x1ab)],_0x3da5d6['type']=_0x4a7a80['BrzET'];const _0x5a01db={};_0x5a01db[_0x3ffe30(0x21b)]=_0x4a7a80[_0x3ffe30(0x185)],_0x5a01db['type']=_0x4a7a80[_0x3ffe30(0x297)];const _0x3ef0f5={};_0x3ef0f5[_0x3ffe30(0x21b)]=_0x4a7a80[_0x3ffe30(0x18e)],_0x3ef0f5[_0x3ffe30(0x2d9)]=_0x4a7a80['BrzET'];const _0x390140={};_0x390140[_0x3ffe30(0x21b)]=_0x4a7a80['AIeEc'],_0x390140[_0x3ffe30(0x2d9)]=_0x4a7a80['jcjbA'],_0x390140['default']=![];const _0x1232a3={};_0x1232a3['description']=_0x4a7a80['fVtFP'],_0x1232a3[_0x3ffe30(0x2d9)]=_0x4a7a80[_0x3ffe30(0x2de)],_0x1232a3['default']=![];const _0x4f53ca={};_0x4f53ca[_0x3ffe30(0x21b)]=_0x4a7a80[_0x3ffe30(0x1ec)],_0x4f53ca[_0x3ffe30(0x2d9)]=_0x4a7a80[_0x3ffe30(0x2de)],_0x4f53ca[_0x3ffe30(0x2c4)]=![];const _0x5bc570={};return _0x5bc570['grid-name']=_0x54b661,_0x5bc570[_0x3ffe30(0x15c)]=_0x590532,_0x5bc570[_0x3ffe30(0x23a)]=_0x2d3460,_0x5bc570[_0x3ffe30(0x17e)]=_0x3da5d6,_0x5bc570[_0x3ffe30(0x252)]=_0x5a01db,_0x5bc570[_0x3ffe30(0x163)]=_0x3ef0f5,_0x5bc570[_0x3ffe30(0x29f)]=_0x390140,_0x5bc570[_0x3ffe30(0x31c)]=_0x1232a3,_0x5bc570[_0x3ffe30(0x270)]=_0x4f53ca,_0xe7dd63[_0x3ffe30(0x216)](HELP_HEADER_MESSAGE['create'])[_0x3ffe30(0x240)](HELP_FOOTER_MESSAGE)[_0x3ffe30(0x2da)](_0x5bc570)[_0x3ffe30(0x278)](_0x4a7a80[_0x3ffe30(0x1f8)])['argv'];},exports[a9_0x3134bd(0x1d1)]=async function(_0xaeee0f){const _0x36b331=a9_0x3134bd,_0x34cf43={'gLZjT':'error','KIJwY':_0x36b331(0x2df),'vnHus':_0x36b331(0x305),'BYLml':'Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','VmTJc':_0x36b331(0x2ec),'eCrjo':_0x36b331(0x1e3),'HqHyd':_0x36b331(0x1bf),'PWhjQ':_0x36b331(0x1c1),'hboLt':_0x36b331(0x269),'NTWsI':_0x36b331(0x2a4),'FhXQR':_0x36b331(0x1f3),'XwpKt':_0x36b331(0x233),'EfOGf':'help','DmaXF':_0x36b331(0x2fa),'MeOqq':function(_0xde3691,_0x209832){return _0xde3691===_0x209832;},'OKRVu':function(_0x1d3877,_0x41c36a){return _0x1d3877(_0x41c36a);},'ewLPe':_0x36b331(0x1a7),'CWGLe':function(_0x58c8a9,_0x477a01){return _0x58c8a9(_0x477a01);},'dCXtT':_0x36b331(0x1ef),'GNCTo':_0x36b331(0x1c0),'QPKJX':_0x36b331(0x2c4),'rjpau':_0x36b331(0x265),'zHXCo':_0x36b331(0x1fd),'eRrZS':_0x36b331(0x25b),'EbAZG':_0x36b331(0x259),'iCAAT':_0x36b331(0x31b),'WNuYP':_0x36b331(0x17b),'azsmb':_0x36b331(0x26c),'rZfxb':'https','EpxsL':_0x36b331(0x227),'BAOlO':_0x36b331(0x2ed),'caaKt':_0x36b331(0x2d4),'vaKZk':function(_0x28e2fe,_0x1830de){return _0x28e2fe(_0x1830de);},'GSkVY':function(_0x415f84,_0x1f5974,_0x52830a,_0x4dea3b,_0x3909cd,_0x5a426e,_0x2c8c90,_0x2cf4a1,_0x89b554,_0x1e5e6a,_0x5cadae,_0x4a18ba,_0x4cc538){return _0x415f84(_0x1f5974,_0x52830a,_0x4dea3b,_0x3909cd,_0x5a426e,_0x2c8c90,_0x2cf4a1,_0x89b554,_0x1e5e6a,_0x5cadae,_0x4a18ba,_0x4cc538);},'lryeK':function(_0x521e0b,_0x16de5d){return _0x521e0b!==_0x16de5d;},'EnrhX':function(_0xd87d11){return _0xd87d11();},'eNtEh':function(_0x46e5c7){return _0x46e5c7();},'PFLqe':function(_0x565109,_0x7a0949){return _0x565109!==_0x7a0949;},'UfGID':_0x36b331(0x2ca),'FZrIM':_0x36b331(0x1e6),'Oxsxc':_0x36b331(0x173),'GWsjK':function(_0x59f052,_0x3a2f91,_0x434254,_0x30f647,_0x3bf42a,_0x3aff30,_0x537e7d){return _0x59f052(_0x3a2f91,_0x434254,_0x30f647,_0x3bf42a,_0x3aff30,_0x537e7d);},'FVAJu':_0x36b331(0x27f),'PheFJ':'init-not-called','kZZQs':function(_0x5e7631){return _0x5e7631();},'oaBsZ':_0x36b331(0x1a2),'EyeqD':_0x36b331(0x266),'uCnGV':_0x36b331(0x257),'ymGef':'yMzVD','ahJAC':_0x36b331(0x203),'HwGWJ':function(_0x47a158,_0x37ac29){return _0x47a158===_0x37ac29;},'FnaVg':_0x36b331(0x1da),'iWoPS':'KuIRK','eNJAg':_0x36b331(0x316),'XmhSY':function(_0x4dd119,_0x4af6bc,_0x445044,_0x28cd8b,_0x46e4f5,_0xa5c06e,_0x2caf5f,_0x3656e9){return _0x4dd119(_0x4af6bc,_0x445044,_0x28cd8b,_0x46e4f5,_0xa5c06e,_0x2caf5f,_0x3656e9);},'LsAJU':_0x36b331(0x1bd),'nHove':'Zmznh','UUsmY':_0x36b331(0x1e9),'LfeqM':function(_0x429c93,_0x42ad0a,_0x178d77,_0x457584,_0x44aadd,_0x28cb15,_0x1633a1,_0x29f505){return _0x429c93(_0x42ad0a,_0x178d77,_0x457584,_0x44aadd,_0x28cb15,_0x1633a1,_0x29f505);},'DFWKP':_0x36b331(0x2c1),'wBQWA':function(_0x51d374,_0x16e7f0){return _0x51d374===_0x16e7f0;},'wIdpW':function(_0x31a2d2,_0x48789d){return _0x31a2d2===_0x48789d;},'oSuCd':_0x36b331(0x327),'LzjOd':function(_0x4372a1,_0x38d826,_0x35e584,_0x133353,_0x16bd19,_0x30ab3,_0x252057){return _0x4372a1(_0x38d826,_0x35e584,_0x133353,_0x16bd19,_0x30ab3,_0x252057);},'NSEVG':'asHVx','XeWQJ':_0x36b331(0x192),'flsyY':'MMKFh','TGkIv':_0x36b331(0x176),'fOjJB':_0x36b331(0x21c),'EZoyM':'GET','qvZeL':function(_0xee2755,_0x356b6b,_0x2a4028){return _0xee2755(_0x356b6b,_0x2a4028);},'WcMcg':'KemSp','bwPXY':_0x36b331(0x25e),'UHBtW':'iSTnw','UGYJP':_0x36b331(0x323),'nsmDe':function(_0x1dfb9c,_0xfada6b,_0x1fe420){return _0x1dfb9c(_0xfada6b,_0x1fe420);},'yYoym':function(_0x1edbef,_0x1a438a){return _0x1edbef===_0x1a438a;},'eaANG':function(_0x1a248c,_0x430b11){return _0x1a248c===_0x430b11;},'hdsHD':'aXsJK','zIKsL':_0x36b331(0x1de),'YCRWF':'Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Unknown\x20error!','xJNRv':function(_0x1749d3,_0x4af01d,_0x386808,_0x4acbd4,_0x46904d,_0x1bafe4,_0x236aab,_0x1b9066){return _0x1749d3(_0x4af01d,_0x386808,_0x4acbd4,_0x46904d,_0x1bafe4,_0x236aab,_0x1b9066);},'aPCDx':_0x36b331(0x26e),'dtVUg':function(_0x21b558,_0x35ef01){return _0x21b558===_0x35ef01;},'BbkKT':_0x36b331(0x1d5),'SuVlv':_0x36b331(0x1a6),'cbASG':_0x36b331(0x248),'ygzJy':function(_0x458c93,_0x29f386){return _0x458c93!==_0x29f386;},'IaAAN':function(_0x2d7527,_0x587882){return _0x2d7527===_0x587882;},'PBcBU':_0x36b331(0x1ed),'jgwYW':_0x36b331(0x32a),'Wlpun':_0x36b331(0x246),'tXErR':_0x36b331(0x2ab),'zVVlR':_0x36b331(0x2a6),'obRjL':_0x36b331(0x1b1),'ptbXX':_0x36b331(0x1ca),'KjpwV':_0x36b331(0x271),'GlTNd':_0x36b331(0x20c),'qUBSg':'KALdt','WeKTQ':_0x36b331(0x18d),'ubFIq':function(_0x515ef8,_0x11f230){return _0x515ef8===_0x11f230;},'dlWsE':function(_0x242067,_0x2d51ee){return _0x242067===_0x2d51ee;},'jiSVr':_0x36b331(0x2d3),'CQajh':_0x36b331(0x1ea),'mErAk':function(_0xcf6ec2,_0x332453){return _0xcf6ec2===_0x332453;},'Zhwiv':_0x36b331(0x1b7),'mKmvf':_0x36b331(0x302),'rGCSF':function(_0x1b2127,_0x47a0f2,_0x32e83d,_0x1a9d3c,_0x2591c4,_0x3c0599,_0x21ae5e,_0x480c94){return _0x1b2127(_0x47a0f2,_0x32e83d,_0x1a9d3c,_0x2591c4,_0x3c0599,_0x21ae5e,_0x480c94);},'nJSZL':_0x36b331(0x249),'CJCcP':function(_0x4db309,_0x8bf376){return _0x4db309===_0x8bf376;},'xklFg':function(_0x35010b,_0x3a4895){return _0x35010b!==_0x3a4895;},'asjvc':_0x36b331(0x243),'dJgqt':function(_0x5ddd81,_0x127cfc){return _0x5ddd81===_0x127cfc;},'AaxDH':function(_0x3adc35,_0x365352){return _0x3adc35!==_0x365352;},'cptsN':'mOYvS','tQDvm':_0x36b331(0x19d),'owqIK':_0x36b331(0x1a8),'xRuef':_0x36b331(0x26d),'nGiGM':function(_0x233eb9,_0x1ba180){return _0x233eb9(_0x1ba180);},'WvWrh':function(_0x1fb4de,_0x327cce){return _0x1fb4de===_0x327cce;},'OpwvD':function(_0x42c136,_0x108e62){return _0x42c136!==_0x108e62;},'hKqgK':_0x36b331(0x32c),'CTOAj':'GIczY','JIKZj':function(_0x54bdb4,_0x2d29a0){return _0x54bdb4===_0x2d29a0;},'dFkxF':_0x36b331(0x23e),'oziog':function(_0x165eff,_0x1b1d11){return _0x165eff===_0x1b1d11;},'spgSD':_0x36b331(0x251),'lGgAR':_0x36b331(0x211),'vgdqx':function(_0x4f02c1,_0x468d44){return _0x4f02c1(_0x468d44);},'iZAgx':_0x36b331(0x180),'apBxm':_0x36b331(0x276),'yPaZu':function(_0x2b9acb,_0x2e3069,_0x5b33e1,_0x8c7877,_0x3142c9,_0x263986,_0x5849dd){return _0x2b9acb(_0x2e3069,_0x5b33e1,_0x8c7877,_0x3142c9,_0x263986,_0x5849dd);},'nAyef':function(_0x1b7989,_0x3ce33f){return _0x1b7989!==_0x3ce33f;},'njTDM':function(_0x818e4,_0x589d2f){return _0x818e4===_0x589d2f;},'HPIXD':'stMQk','QliLX':_0x36b331(0x2f3),'eOwqQ':function(_0x229f6a,_0x403586){return _0x229f6a!==_0x403586;},'hkfTV':_0x36b331(0x229),'qJaMB':'njPrh','VlbQP':_0x36b331(0x174),'PTJoO':function(_0x36bb87,_0x4041e1){return _0x36bb87!=_0x4041e1;},'rDHIW':function(_0x27965f,_0x533760){return _0x27965f!=_0x533760;},'RaUbl':function(_0x5c1ed6,_0x17b836){return _0x5c1ed6!==_0x17b836;},'yBYNA':function(_0x47858c,_0x2c8975){return _0x47858c>_0x2c8975;},'YvnWL':_0x36b331(0x328),'csUOS':_0x36b331(0x2af),'lYxOb':function(_0x2f4e58,_0x3e2909){return _0x2f4e58===_0x3e2909;},'cYZZY':'VPC\x20selected\x20does\x20not\x20exist.\x20Please\x20try\x20again','fttKD':function(_0x35cf85,_0x19d2b3,_0x31291c,_0x382e7c,_0x420222,_0x34cdfa,_0x5a22b1,_0x34ef4e){return _0x35cf85(_0x19d2b3,_0x31291c,_0x382e7c,_0x420222,_0x34cdfa,_0x5a22b1,_0x34ef4e);},'VuKRr':_0x36b331(0x30f),'yrQBs':function(_0x35afb7,_0x46e018){return _0x35afb7===_0x46e018;},'EOORo':function(_0x2b9662,_0x2f9c32,_0x484c58,_0x5588f9,_0x306b98,_0x40b568,_0x49552b,_0xec4f8d){return _0x2b9662(_0x2f9c32,_0x484c58,_0x5588f9,_0x306b98,_0x40b568,_0x49552b,_0xec4f8d);},'Ekinm':_0x36b331(0x165),'XSTIL':_0x36b331(0x16e),'xLXvi':_0x36b331(0x288),'OIKNh':_0x36b331(0x32b),'nrtPN':function(_0x287fe8,_0x45215e){return _0x287fe8===_0x45215e;},'ZQzde':_0x36b331(0x25a),'BcluD':_0x36b331(0x2c0),'efQxr':_0x36b331(0x22b),'UcMnE':_0x36b331(0x20f),'VfrRS':_0x36b331(0x213),'ksLvx':_0x36b331(0x30b),'PoBpV':_0x36b331(0x1a0),'BNJSf':function(_0x1608f7,_0x5bd6f0){return _0x1608f7(_0x5bd6f0);},'EXNkd':function(_0x62ba29,_0x34b9c8){return _0x62ba29(_0x34b9c8);},'qBxaU':_0x36b331(0x1ee),'DHPcn':_0x36b331(0x2a9),'YFMxW':function(_0xfe185c,_0x3ef1d5){return _0xfe185c===_0x3ef1d5;},'JxyWp':function(_0x109f1f,_0x22cde2){return _0x109f1f===_0x22cde2;},'TfxFg':_0x36b331(0x231),'tJViA':_0x36b331(0x1e7),'SWbQo':function(_0x414869,_0x30fddd,_0xef3759){return _0x414869(_0x30fddd,_0xef3759);},'liXSM':'Added\x20Redis\x20deployment.','HMpaC':_0x36b331(0x201),'MzAPm':_0x36b331(0x282),'keMIn':function(_0x48b2ce,_0xa86a7d,_0x2f681a){return _0x48b2ce(_0xa86a7d,_0x2f681a);},'dyQPl':_0x36b331(0x24d),'UQroW':_0x36b331(0x1b2),'zZdAs':_0x36b331(0x1cb),'EWmdC':function(_0x4b326f,_0x160a54){return _0x4b326f===_0x160a54;},'euBrj':_0x36b331(0x306),'UlehV':'Created\x20Hub\x20HA\x20resources','tIrIn':_0x36b331(0x255),'CEtZk':_0x36b331(0x261),'aughQ':function(_0xd57983,_0x23326d,_0x2ab94c,_0x558163,_0x421896,_0x4eff2e,_0x1d46c7,_0x4a313a){return _0xd57983(_0x23326d,_0x2ab94c,_0x558163,_0x421896,_0x4eff2e,_0x1d46c7,_0x4a313a);},'DBODV':_0x36b331(0x2c8),'Osxhr':_0x36b331(0x287),'pcAhe':_0x36b331(0x2b8),'zbaKl':_0x36b331(0x318),'ONxWF':'Namespace\x20created','tyzgD':_0x36b331(0x301),'TYDeN':_0x36b331(0x25f),'HaHrT':function(_0x33c9c7,_0x11a8fa,_0xdab1df,_0xca27ba,_0x264bf5,_0xe621ae,_0x4c5aee,_0x529fce,_0x13f468,_0x2a5780,_0x5e4ad2){return _0x33c9c7(_0x11a8fa,_0xdab1df,_0xca27ba,_0x264bf5,_0xe621ae,_0x4c5aee,_0x529fce,_0x13f468,_0x2a5780,_0x5e4ad2);},'eJtwh':_0x36b331(0x214),'AHOXM':'Fetching\x20url\x20for\x20running\x20tests\x20on\x20the\x20grid','CPtoH':function(_0x2a54d9,_0xf9a0,_0x4e253e,_0x4ae874,_0x1a483d){return _0x2a54d9(_0xf9a0,_0x4e253e,_0x4ae874,_0x1a483d);},'nwGpI':function(_0x498ca5,_0x216739,_0x142d07){return _0x498ca5(_0x216739,_0x142d07);},'IbHxm':_0x36b331(0x1f4),'CAiQp':_0x36b331(0x177),'Kzpno':_0x36b331(0x1ff),'ZNhHG':function(_0x191097,_0x45f59f){return _0x191097===_0x45f59f;},'dFNEH':function(_0x1db181,_0x2c1667){return _0x1db181===_0x2c1667;},'mBuZm':_0x36b331(0x260),'eglmW':_0x36b331(0x283),'GbZpj':function(_0x55af42,_0x4b7121){return _0x55af42===_0x4b7121;},'ewxdA':'Failed\x20to\x20get\x20grid\x20url\x20from\x20the\x20server.\x20Unauthorized\x20request!','Eyjsu':'get-grid-url-auth-failed','ueDNO':_0x36b331(0x1cd),'doZTF':_0x36b331(0x2b7),'zkvRa':function(_0x4c74dc,_0x133494,_0x33753f,_0x5583c1,_0x1c4e97,_0x1e6ffa){return _0x4c74dc(_0x133494,_0x33753f,_0x5583c1,_0x1c4e97,_0x1e6ffa);},'LrslB':'grid-spawning-failed'};let _0x27cec8=![],_0x4e5797=![],_0x2c32af,_0x1bef3b,_0x584687,_0x21316f,_0x4f6527,_0x1c1e5c,_0x13b88e,_0x208b67,_0x5a35e2,_0x4a0b02,_0x3a8d6e,_0x505785,_0x36ea1a,_0x5de909,_0x119547=0x1,_0x1c956e=0xe;try{global_registry[_0x36b331(0x1db)]=_0x34cf43[_0x36b331(0x30d)](uuidv4),global_registry[_0x36b331(0x26b)]=![];!fs[_0x36b331(0x2d5)](_0x34cf43['eNtEh'](getCredentialsPath))&&(_0x34cf43[_0x36b331(0x2cd)](_0x34cf43[_0x36b331(0x1d6)],_0x34cf43[_0x36b331(0x218)])?(console['error'](_0x34cf43['Oxsxc']),await _0x34cf43[_0x36b331(0x1d9)](sendInstrumentationEvent,_0xaeee0f,_0x34cf43[_0x36b331(0x28d)],messageTypes[_0x36b331(0x2f7)],_0x34cf43[_0x36b331(0x220)],null,_0xaeee0f),process[_0x36b331(0x17d)](0x1)):_0x383200['gridProfile']=_0x5e406c[_0x36b331(0x239)]);await _0x34cf43['GWsjK'](sendInstrumentationEvent,_0xaeee0f,_0x34cf43[_0x36b331(0x28d)],messageTypes[_0x36b331(0x208)],null,null,_0xaeee0f);const _0x458d08=JSON['parse'](fs[_0x36b331(0x2b2)](_0x34cf43[_0x36b331(0x207)](getCredentialsPath)));global_registry[_0x36b331(0x2bf)]=_0x458d08[_0x36b331(0x2b8)]['username'],global_registry[_0x36b331(0x2d2)]=_0x458d08['Browserstack'][_0x36b331(0x1ad)];const _0x11ed94=WS_ENDPOINT[_0x36b331(0x21e)](_0x34cf43[_0x36b331(0x219)],_0x458d08[_0x36b331(0x2b8)]['username'])['replace'](_0x34cf43[_0x36b331(0x195)],_0x458d08[_0x36b331(0x2b8)][_0x36b331(0x1ad)]),_0x130f7a={};_0x130f7a[_0x36b331(0x22f)]=ws,_0x130f7a[_0x36b331(0x166)]=0x36ee80,_0x505785=new ReconnectingWebSocket(_0x11ed94,[],_0x130f7a),logger[_0x36b331(0x2b1)](_0x34cf43['uCnGV']),webSocketUtils[_0x36b331(0x2a3)](_0x505785,_0xaeee0f[_0x36b331(0x294)],_0xaeee0f[_0x36b331(0x1ad)]);const _0x4586e0=_0xaeee0f[_0x36b331(0x2fc)]||DEFAULT_GRID_NAME;if(_0xaeee0f['clusterName']||_0xaeee0f[_0x36b331(0x19f)]||_0xaeee0f['region']){if(_0x34cf43[_0x36b331(0x29a)](_0x34cf43[_0x36b331(0x29b)],_0x34cf43[_0x36b331(0x1cc)]))_0x29c6f3=null;else{!(_0xaeee0f[_0x36b331(0x1e4)]&&_0xaeee0f[_0x36b331(0x19f)]&&_0xaeee0f[_0x36b331(0x252)])&&(_0x34cf43[_0x36b331(0x247)](_0x34cf43[_0x36b331(0x230)],_0x34cf43[_0x36b331(0x27d)])?_0x25d393[_0x36b331(0x284)](_0x36b331(0x2a5)+_0x5c8c54[_0x36b331(0x1f5)](_0x26370f)+'\x20'):(_0x2c32af=_0x34cf43[_0x36b331(0x1b6)],await _0x34cf43[_0x36b331(0x2cb)](reportToGalactusAndSendToEDS,_0xaeee0f,_0x505785,_0x2c32af,messageTypes[_0x36b331(0x2f7)],_0x34cf43[_0x36b331(0x28d)],_0x34cf43[_0x36b331(0x238)],_0x34cf43[_0x36b331(0x319)]),logger[_0x36b331(0x2ad)](_0x2c32af),process[_0x36b331(0x17d)](0x1)));if(![AWS,AZURE,GCP][_0x36b331(0x1c6)](_0xaeee0f[_0x36b331(0x19f)]['toLowerCase']())){if(_0x34cf43[_0x36b331(0x2cd)](_0x34cf43[_0x36b331(0x20e)],_0x34cf43[_0x36b331(0x20e)])){const _0x5c8718={};_0x5c8718[_0x36b331(0x2d9)]=_0x4b4969['LOG'],_0x5c8718[_0x36b331(0x188)]=_0x1d0241,_0xa81d76[_0x36b331(0x281)](_0x5ada36,_0x5c8718,_0x34cf43[_0x36b331(0x319)],!![]);}else _0x2c32af=_0x34cf43[_0x36b331(0x2c2)],await _0x34cf43['LfeqM'](reportToGalactusAndSendToEDS,_0xaeee0f,_0x505785,_0x2c32af,messageTypes['ERROR'],_0x34cf43[_0x36b331(0x28d)],_0x34cf43[_0x36b331(0x179)],_0x34cf43['gLZjT']),logger['error'](_0x2c32af),process[_0x36b331(0x17d)](0x1);}_0xaeee0f[_0x36b331(0x2a1)]&&_0x34cf43['wBQWA'](_0xaeee0f[_0x36b331(0x2a1)][_0x36b331(0x2e1)](),_0x34cf43[_0x36b331(0x15e)])&&(_0x34cf43[_0x36b331(0x191)](_0x34cf43[_0x36b331(0x2f2)],_0x34cf43[_0x36b331(0x2f2)])?global_registry[_0x36b331(0x26b)]=!![]:_0x578bff['isPrivateGrid']=!![]);global_registry['cloudProvider']=_0xaeee0f[_0x36b331(0x19f)],global_registry[_0x36b331(0x2fd)]=_0xaeee0f[_0x36b331(0x252)],global_registry[_0x36b331(0x1e4)]=_0xaeee0f['clusterName'];const _0x161717=await _0x34cf43['LzjOd'](getCloudProviderObject,_0xaeee0f['cloudProvider'],_0xaeee0f['clusterName'],_0x4586e0,_0x505785,webSocketUtils,_0xaeee0f),_0x2bee9d=await _0x161717[_0x36b331(0x2a8)]();if(!_0x2bee9d){if(_0x34cf43[_0x36b331(0x191)](_0x34cf43[_0x36b331(0x1f1)],_0x34cf43[_0x36b331(0x1f1)]))logger['info']('Cluster:\x20'+_0xaeee0f[_0x36b331(0x1e4)]+'\x20doesn\x27t\x20exist.\x20Proceeding\x20with\x20creating\x20a\x20new\x20cluster'),_0x27cec8=![],_0x4e5797=!![];else{const _0x5a88c4={};_0x5a88c4[_0x36b331(0x21b)]=_0x34cf43['KIJwY'],_0x5a88c4[_0x36b331(0x2d9)]=_0x34cf43[_0x36b331(0x232)];const _0x40ef67={};_0x40ef67['description']=_0x34cf43[_0x36b331(0x21a)],_0x40ef67[_0x36b331(0x2d9)]=_0x34cf43['vnHus'];const _0x4876cb={};_0x4876cb[_0x36b331(0x21b)]=_0x34cf43[_0x36b331(0x250)],_0x4876cb[_0x36b331(0x2d9)]=_0x34cf43[_0x36b331(0x232)];const _0x2f37ab={};_0x2f37ab[_0x36b331(0x21b)]=_0x34cf43[_0x36b331(0x292)],_0x2f37ab[_0x36b331(0x2d9)]=_0x34cf43['vnHus'];const _0x36e931={};_0x36e931['description']=_0x34cf43[_0x36b331(0x290)],_0x36e931['type']=_0x34cf43[_0x36b331(0x232)];const _0xc050b3={};_0xc050b3[_0x36b331(0x21b)]=_0x34cf43[_0x36b331(0x28e)],_0xc050b3[_0x36b331(0x2d9)]=_0x34cf43['vnHus'];const _0x54153d={};_0x54153d[_0x36b331(0x21b)]=_0x34cf43[_0x36b331(0x2b4)],_0x54153d[_0x36b331(0x2d9)]=_0x34cf43['NTWsI'],_0x54153d[_0x36b331(0x2c4)]=![];const _0x105b79={};_0x105b79[_0x36b331(0x21b)]=_0x34cf43[_0x36b331(0x223)],_0x105b79[_0x36b331(0x2d9)]=_0x34cf43[_0x36b331(0x256)],_0x105b79[_0x36b331(0x2c4)]=![];const _0x4bc7d3={};_0x4bc7d3[_0x36b331(0x21b)]=_0x34cf43[_0x36b331(0x1b4)],_0x4bc7d3['type']=_0x34cf43[_0x36b331(0x256)],_0x4bc7d3[_0x36b331(0x2c4)]=![];const _0x1200de={};return _0x1200de[_0x36b331(0x16b)]=_0x5a88c4,_0x1200de['grid-profile']=_0x40ef67,_0x1200de[_0x36b331(0x23a)]=_0x4876cb,_0x1200de['cloud-provider']=_0x2f37ab,_0x1200de[_0x36b331(0x252)]=_0x36e931,_0x1200de[_0x36b331(0x163)]=_0xc050b3,_0x1200de[_0x36b331(0x29f)]=_0x54153d,_0x1200de['hub-ha']=_0x105b79,_0x1200de[_0x36b331(0x270)]=_0x4bc7d3,_0x3084c6[_0x36b331(0x216)](_0x52d3d6['create'])[_0x36b331(0x240)](_0x11991b)[_0x36b331(0x2da)](_0x1200de)['help'](_0x34cf43[_0x36b331(0x1dc)])[_0x36b331(0x2fe)];}}else _0x34cf43[_0x36b331(0x29a)](_0x34cf43[_0x36b331(0x1a1)],_0x34cf43[_0x36b331(0x1bb)])?_0x53779b[_0x36b331(0x1f0)]():_0x27cec8=!![];_0x584687=_0xaeee0f[_0x36b331(0x1e4)],_0x1bef3b=_0xaeee0f[_0x36b331(0x19f)][_0x36b331(0x2e1)](),_0x21316f=_0xaeee0f[_0x36b331(0x252)];}}else{if(_0xaeee0f[_0x36b331(0x239)]){if(_0x34cf43[_0x36b331(0x27c)](_0x34cf43[_0x36b331(0x1df)],_0x34cf43[_0x36b331(0x20b)]))global_registry[_0x36b331(0x239)]=_0xaeee0f['gridProfile'];else{const _0xe9b9bd={};_0xe9b9bd[_0x36b331(0x2d9)]=_0x49b6eb[_0x36b331(0x181)],_0xe9b9bd[_0x36b331(0x188)]='Cluster\x20'+_0x3be8dd+_0x36b331(0x1aa),_0x5d5a38[_0x36b331(0x281)](_0x54b602,_0xe9b9bd,_0x34cf43['DmaXF']),_0x36b2e7[_0x36b331(0x284)](_0x36b331(0x31d)+_0x7bda9e+_0x36b331(0x1aa)),_0x38ff99=!![];if(_0x34cf43[_0x36b331(0x29a)](_0x56ce40,!![]))throw new _0x287bf5(_0x36b331(0x31d)+_0x4b59d1+'\x20is\x20already\x20present.\x20Cannot\x20spawn\x20a\x20new\x20cluster');}}}global_registry[_0x36b331(0x2fc)]=_0xaeee0f[_0x36b331(0x2fc)];const _0x5b6dd9={'method':_0x34cf43[_0x36b331(0x160)],'headers':_0x34cf43['qvZeL'](getAuthHeader,_0x458d08[_0x36b331(0x2b8)][_0x36b331(0x193)],_0x458d08['Browserstack']['password']),'throwHttpErrors':![]},_0x578dd4={};_0x578dd4['gridName']=_0x4586e0;const _0x94f2a3=_0x578dd4;_0x4e5797&&(_0x34cf43[_0x36b331(0x27c)](_0x34cf43[_0x36b331(0x2cc)],_0x34cf43[_0x36b331(0x2c3)])?(_0x94f2a3[_0x36b331(0x252)]=_0x21316f,_0x94f2a3[_0x36b331(0x19f)]=_0x1bef3b,_0x94f2a3[_0x36b331(0x329)]=!![],_0x94f2a3[_0x36b331(0x2b0)]=_0xaeee0f[_0x36b331(0x1ba)]):_0x34cf43[_0x36b331(0x279)](_0x3ffa99,_0x1c1e1f[_0x36b331(0x19c)]));_0xaeee0f[_0x36b331(0x1ba)]&&(_0x34cf43[_0x36b331(0x2cd)](_0x34cf43[_0x36b331(0x206)],_0x34cf43[_0x36b331(0x258)])?logger[_0x36b331(0x284)](_0x34cf43['BAOlO']):_0x4f6f9a[_0x36b331(0x2ad)](_0x36b331(0x1d8)+_0x39db2e+'\x20\x0a'+_0x5733ee[_0x36b331(0x1f5)](_0x4a3127[_0x36b331(0x17f)])));const _0x4e3728=_0x36b331(0x2db)+AG_API_URL+_0x36b331(0x1d4),_0x38cec8={'searchParams':_0x94f2a3,'throwHttpErrors':![],..._0x5b6dd9},_0x30cfa9=_0x38cec8,_0x54992c=await _0x34cf43[_0x36b331(0x2d8)](got,_0x4e3728,_0x30cfa9);(_0x34cf43[_0x36b331(0x29a)](_0x54992c,null)||_0x34cf43[_0x36b331(0x23b)](_0x54992c,undefined))&&(_0x34cf43['eaANG'](_0x34cf43[_0x36b331(0x296)],_0x34cf43['zIKsL'])?_0x3669bd=_0x34cf43[_0x36b331(0x22c)]:(_0x2c32af=_0x34cf43[_0x36b331(0x162)],await _0x34cf43['xJNRv'](reportToGalactusAndSendToEDS,_0xaeee0f,_0x505785,_0x2c32af,messageTypes[_0x36b331(0x2f7)],_0x34cf43[_0x36b331(0x28d)],_0x34cf43['aPCDx'],_0x34cf43[_0x36b331(0x319)]),logger[_0x36b331(0x2ad)](_0x2c32af),process[_0x36b331(0x17d)](0x1)));if(_0x34cf43[_0x36b331(0x1f7)](_0x54992c[_0x36b331(0x18c)],0x191)){if(_0x34cf43[_0x36b331(0x2f0)](_0x34cf43[_0x36b331(0x31a)],_0x34cf43[_0x36b331(0x31a)]))_0x2c32af=_0x34cf43[_0x36b331(0x170)],await _0x34cf43['xJNRv'](reportToGalactusAndSendToEDS,_0xaeee0f,_0x505785,_0x2c32af,messageTypes[_0x36b331(0x2f7)],_0x34cf43[_0x36b331(0x28d)],_0x34cf43['cbASG'],_0x34cf43[_0x36b331(0x319)]),logger[_0x36b331(0x2ad)](_0x2c32af),process[_0x36b331(0x17d)](0x1);else throw new _0xfa9ea('Cluster\x20'+_0x1c1aac+_0x36b331(0x1f2));}_0x34cf43[_0x36b331(0x237)](_0x54992c[_0x36b331(0x18c)],0xc8)&&(_0x34cf43[_0x36b331(0x2e9)](_0x34cf43[_0x36b331(0x273)],_0x34cf43[_0x36b331(0x210)])?_0x34cf43['CWGLe'](_0x15d77a,_0x32908e[_0x36b331(0x16a)]):(_0x2c32af='Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Non\x20200\x20response\x20from\x20server!\x20'+JSON[_0x36b331(0x1f5)](_0x54992c['body']),await _0x34cf43[_0x36b331(0x2cb)](reportToGalactusAndSendToEDS,_0xaeee0f,_0x505785,_0x2c32af,messageTypes[_0x36b331(0x2f7)],_0x34cf43[_0x36b331(0x28d)],_0x34cf43['Wlpun'],_0x34cf43['gLZjT']),logger[_0x36b331(0x2ad)](_0x2c32af),process['exit'](0x1)));const _0x34b575=JSON['parse'](_0x54992c[_0x36b331(0x24e)]),_0x595688={};_0x595688[_0x36b331(0x2d9)]=WS_EVENTS[_0x36b331(0x293)],_0x595688[_0x36b331(0x188)]=_0x34cf43[_0x36b331(0x2ef)],webSocketUtils[_0x36b331(0x281)](_0x505785,_0x595688);const _0x13a8c9={};_0x13a8c9[_0x36b331(0x2d9)]=WS_EVENTS[_0x36b331(0x181)],_0x13a8c9[_0x36b331(0x188)]=_0x34cf43[_0x36b331(0x2ae)],webSocketUtils[_0x36b331(0x281)](_0x505785,_0x13a8c9);_0x34b575[_0x36b331(0x19a)]&&(_0x34cf43[_0x36b331(0x237)](_0x34cf43[_0x36b331(0x29c)],_0x34cf43[_0x36b331(0x226)])?(_0x2c32af=_0x36b331(0x1b0)+_0x4586e0+_0x36b331(0x1af),await _0x34cf43[_0x36b331(0x1d7)](reportToGalactusAndSendToEDS,_0xaeee0f,_0x505785,_0x2c32af,messageTypes[_0x36b331(0x2f7)],_0x34cf43[_0x36b331(0x28d)],_0x34cf43['ptbXX'],_0x34cf43['gLZjT']),logger[_0x36b331(0x2ad)](_0x2c32af),process[_0x36b331(0x17d)](0x1)):_0x17cc10=!![]);const _0x5346a7=_0x34b575['gridProfiles'];let _0x33f76b=_0x5346a7[_0x34b575[_0x36b331(0x2b5)]];_0xaeee0f[_0x36b331(0x239)]&&(_0x34cf43['HwGWJ'](_0x34cf43['KjpwV'],_0x34cf43[_0x36b331(0x205)])?_0x33f76b=_0x5346a7[_0xaeee0f['gridProfile']]:_0x519881=_0x34cf43[_0x36b331(0x307)]);global_registry[_0x36b331(0x1e8)]=![];if(_0xaeee0f[_0x36b331(0x1b9)]){if(_0x34cf43[_0x36b331(0x23b)](_0x34cf43['GlTNd'],_0x34cf43[_0x36b331(0x1a3)])){const _0x56d80e={'azure.workload.identity/use':_0x34cf43[_0x36b331(0x15e)],..._0x22bd12[0x0][_0x36b331(0x24a)][_0x36b331(0x1fa)][_0x36b331(0x2ce)][_0x36b331(0x222)]};_0x354efe[0x0][_0x36b331(0x24a)]['template'][_0x36b331(0x2ce)]['labels']=_0x56d80e,_0x4b6f9b[0x0][_0x36b331(0x24a)]['template'][_0x36b331(0x24a)][_0x36b331(0x2b3)]=_0x34cf43[_0x36b331(0x299)];}else{const _0x3e7c95=_0x34cf43[_0x36b331(0x183)]['split']('|');let _0x1d209d=0x0;while(!![]){switch(_0x3e7c95[_0x1d209d++]){case'0':global_registry[_0x36b331(0x2e8)]=_0x34cf43[_0x36b331(0x317)];continue;case'1':global_registry[_0x36b331(0x1e8)]=!![];continue;case'2':global_registry['redisPassword']=_0x34cf43['azsmb'];continue;case'3':global_registry[_0x36b331(0x311)]=_0x34cf43[_0x36b331(0x22e)];continue;case'4':logger[_0x36b331(0x284)](_0x34cf43[_0x36b331(0x2e4)]);continue;}break;}}}if(_0x34cf43[_0x36b331(0x314)](_0x27cec8,![])&&_0x34cf43[_0x36b331(0x314)](_0x4e5797,![])){if(_0x34cf43['dlWsE'](_0x34cf43[_0x36b331(0x187)],_0x34cf43[_0x36b331(0x28b)]))_0x2d9cbb=_0x6d0216[_0x47fdd2[_0x36b331(0x239)]];else{_0x34cf43[_0x36b331(0x2f5)](_0x33f76b,undefined)&&(_0x34cf43['IaAAN'](_0x34cf43[_0x36b331(0x23c)],_0x34cf43[_0x36b331(0x23c)])?(_0x2c32af=_0x34cf43[_0x36b331(0x25d)],await _0x34cf43[_0x36b331(0x2ea)](reportToGalactusAndSendToEDS,_0xaeee0f,_0x505785,_0x2c32af,messageTypes[_0x36b331(0x2f7)],_0x34cf43[_0x36b331(0x28d)],_0x34cf43[_0x36b331(0x2e7)],_0x34cf43['gLZjT']),logger[_0x36b331(0x2ad)](_0x2c32af),process['exit'](0x1)):_0x46bcaa=null);global_registry['gridProfileId']=_0x33f76b['id'],_0x2c32af=_0x36b331(0x322)+_0x4586e0+_0x36b331(0x2e0)+_0x33f76b[_0x36b331(0x198)]+_0x36b331(0x28c),logger['info'](_0x2c32af);const _0x35966e={};_0x35966e[_0x36b331(0x2d9)]=WS_EVENTS[_0x36b331(0x181)],_0x35966e['message']=_0x2c32af,webSocketUtils[_0x36b331(0x281)](_0x505785,_0x35966e),_0x1bef3b=_0x33f76b[_0x36b331(0x19f)],_0x584687=_0x33f76b[_0x36b331(0x1e4)],_0x21316f=_0x33f76b[_0x36b331(0x252)],_0x4f6527=_0x33f76b[_0x36b331(0x2f4)],_0x1c1e5c=_0x33f76b[_0x36b331(0x2c9)],_0x13b88e=_0x33f76b[_0x36b331(0x26f)],_0x208b67=_0x33f76b[_0x36b331(0x161)],_0x5a35e2=_0x33f76b[_0x36b331(0x2e6)],_0x4a0b02=_0x33f76b[_0x36b331(0x2e2)],_0x119547=_0x33f76b[_0x36b331(0x2fb)],_0x1c956e=_0x33f76b[_0x36b331(0x1dd)],_0x36ea1a=_0x34b575[_0x36b331(0x31e)],_0x5de909=_0x34b575[_0x36b331(0x2dc)];_0x13b88e&&_0x34cf43[_0x36b331(0x20d)](_0x13b88e[_0x36b331(0x262)],0x0)&&(_0x34cf43[_0x36b331(0x1c7)](_0x34cf43['asjvc'],_0x34cf43[_0x36b331(0x1ac)])?_0x1ac1c5[_0x36b331(0x26b)]=!![]:_0x13b88e=null);_0x5a35e2&&_0x34cf43[_0x36b331(0x2f1)](_0x5a35e2[_0x36b331(0x262)],0x0)&&(_0x34cf43['AaxDH'](_0x34cf43[_0x36b331(0x202)],_0x34cf43[_0x36b331(0x202)])?_0x17b22a[_0x36b331(0x284)](_0x36b331(0x2c7)+_0x241465+'\x20'):_0x5a35e2=null);if(_0x34cf43['xklFg'](_0x33f76b[_0x36b331(0x2a1)],undefined)&&_0x33f76b[_0x36b331(0x2a1)]){if(_0x34cf43[_0x36b331(0x237)](_0x34cf43[_0x36b331(0x31f)],_0x34cf43[_0x36b331(0x24c)]))global_registry[_0x36b331(0x26b)]=!![];else{const _0x4f9fd6=_0x34cf43[_0x36b331(0x16c)][_0x36b331(0x175)]('|');let _0x3e976b=0x0;while(!![]){switch(_0x4f9fd6[_0x3e976b++]){case'0':_0x2e15f5['cloudProvider']=_0x59f40f;continue;case'1':const _0x2af865={};_0x2af865[_0x36b331(0x2d9)]=_0x57464e[_0x36b331(0x181)],_0x2af865[_0x36b331(0x188)]=_0x21074e,_0x17fb3e[_0x36b331(0x281)](_0x418cc5,_0x2af865);continue;case'2':_0x54f86c[_0x36b331(0x2fd)]=_0x5ac747;continue;case'3':_0x121ef7[_0x36b331(0x284)](_0x9d5ef7);continue;case'4':_0x3cab5e=_0x36b331(0x1cf)+_0x307c1f+_0x36b331(0x264)+_0x7e0148+'\x27';continue;case'5':const _0x28b956={};_0x28b956[_0x36b331(0x2d9)]=_0x6d2076[_0x36b331(0x293)],_0x28b956[_0x36b331(0x188)]=_0x34cf43[_0x36b331(0x2ef)],_0x39e2cc[_0x36b331(0x281)](_0x1e91e5,_0x28b956);continue;case'6':_0x24e3c9[_0x36b331(0x1e4)]=_0x3f46a6;continue;case'7':_0x2417b9['browserVersion']=_0x138252['browserVersion'];continue;case'8':_0x434fec[_0x36b331(0x31e)]=_0x1c7013[_0x36b331(0x31e)];continue;}break;}}}_0x34cf43[_0x36b331(0x1d2)](updateGlobalRegistryWithConfig,_0x1bef3b,_0x584687,_0x21316f,_0x4f6527,_0x1c1e5c,_0x4a0b02,_0x33f76b,_0x36ea1a,_0x5de909,_0x119547,_0x1c956e,_0xaeee0f[_0x36b331(0x1ba)]),global_registry[_0x36b331(0x1e8)]&&(_0x34cf43[_0x36b331(0x1c7)](_0x34cf43[_0x36b331(0x20a)],_0x34cf43[_0x36b331(0x20a)])?(_0x3ac0d1['info']('Cluster:\x20'+_0x5783ca[_0x36b331(0x1e4)]+_0x36b331(0x196)),_0x192d3f=![],_0x42bcd1=!![]):_0x34cf43[_0x36b331(0x224)](updateGlobalRegistryForHubHa,_0x34b575[_0x36b331(0x16a)]));}}else{if(_0x34cf43[_0x36b331(0x18b)](_0x4e5797,!![])){if(_0x34cf43[_0x36b331(0x1f6)](_0x34cf43['hKqgK'],_0x34cf43[_0x36b331(0x244)])){_0x2c32af=_0x36b331(0x27e)+_0x4586e0,logger[_0x36b331(0x284)](_0x2c32af);const _0x588d43={};_0x588d43['type']=WS_EVENTS[_0x36b331(0x181)],_0x588d43[_0x36b331(0x188)]=_0x2c32af,webSocketUtils['sendEventToBackend'](_0x505785,_0x588d43),_0x4f6527=_0x33f76b[_0x36b331(0x2f4)],_0x1c1e5c=_0x33f76b['instanceType'],_0x13b88e=null,_0x208b67=null,_0x5a35e2=null,_0x4a0b02=_0x33f76b[_0x36b331(0x2e2)],_0x119547=_0x33f76b['minNodes'],_0x1c956e=_0x33f76b[_0x36b331(0x1dd)],_0x36ea1a=_0x34b575[_0x36b331(0x31e)],_0x5de909=_0x34b575[_0x36b331(0x2dc)];if(_0x34cf43[_0x36b331(0x1c7)](_0x33f76b[_0x36b331(0x2a1)],undefined)&&_0x33f76b['privateGrid']){if(_0x34cf43[_0x36b331(0x168)](_0x34cf43[_0x36b331(0x1d3)],_0x34cf43[_0x36b331(0x1d3)]))global_registry[_0x36b331(0x26b)]=!![];else{const _0x33eaa8=_0x34cf43[_0x36b331(0x2b9)]['split']('|');let _0x4993e=0x0;while(!![]){switch(_0x33eaa8[_0x4993e++]){case'0':_0x2c79c8[_0x36b331(0x311)]=_0x34cf43[_0x36b331(0x22e)];continue;case'1':_0x237d06[_0x36b331(0x2e8)]=_0x34cf43['iCAAT'];continue;case'2':_0x3126c7[_0x36b331(0x284)](_0x34cf43['WNuYP']);continue;case'3':_0x275f6c[_0x36b331(0x1e8)]=!![];continue;case'4':_0x3df886[_0x36b331(0x298)]=_0x34cf43[_0x36b331(0x1e0)];continue;}break;}}}_0x34cf43['GSkVY'](updateGlobalRegistryWithConfig,_0x1bef3b,_0x584687,_0x21316f,_0x4f6527,_0x1c1e5c,_0x4a0b02,_0x33f76b,_0x36ea1a,_0x5de909,_0x119547,_0x1c956e,_0xaeee0f[_0x36b331(0x1ba)]),global_registry['enableHubHa']&&(_0x34cf43[_0x36b331(0x325)](_0x34cf43[_0x36b331(0x1fb)],_0x34cf43['lGgAR'])?(_0xc9d5=_0x3af24c['route53'],_0x57f5ae=_0x34cf43[_0x36b331(0x1e2)]):_0x34cf43[_0x36b331(0x268)](updateGlobalRegistryForHubHa,_0x34b575[_0x36b331(0x19c)]));}else _0x15a471=_0x34cf43[_0x36b331(0x21d)];}else{if(_0x34cf43[_0x36b331(0x2e5)](_0x34cf43[_0x36b331(0x1fe)],_0x34cf43[_0x36b331(0x1fe)]))_0x1e28c2[_0x36b331(0x252)]=_0x39dbf8,_0x181995['cloudProvider']=_0x1d2e15,_0x3a507e[_0x36b331(0x329)]=!![],_0x4f5f5a[_0x36b331(0x2b0)]=_0x3d36d9[_0x36b331(0x1ba)];else{const _0x43c8ff=_0x34cf43[_0x36b331(0x1a9)]['split']('|');let _0x39877c=0x0;while(!![]){switch(_0x43c8ff[_0x39877c++]){case'0':global_registry['browserVersion']=_0x34b575[_0x36b331(0x2dc)];continue;case'1':global_registry['clusterRegion']=_0x21316f;continue;case'2':global_registry[_0x36b331(0x19f)]=_0x1bef3b;continue;case'3':logger['info'](_0x2c32af);continue;case'4':global_registry[_0x36b331(0x1e4)]=_0x584687;continue;case'5':_0x2c32af=_0x36b331(0x1cf)+_0x4586e0+_0x36b331(0x264)+_0x584687+'\x27';continue;case'6':global_registry[_0x36b331(0x31e)]=_0x34b575[_0x36b331(0x31e)];continue;case'7':const _0xa86393={};_0xa86393[_0x36b331(0x2d9)]=WS_EVENTS[_0x36b331(0x181)],_0xa86393[_0x36b331(0x188)]=_0x2c32af,webSocketUtils[_0x36b331(0x281)](_0x505785,_0xa86393);continue;case'8':const _0x41ef39={};_0x41ef39[_0x36b331(0x2d9)]=WS_EVENTS[_0x36b331(0x293)],_0x41ef39[_0x36b331(0x188)]=_0x34cf43[_0x36b331(0x2ef)],webSocketUtils[_0x36b331(0x281)](_0x505785,_0x41ef39);continue;}break;}}}}const _0x1927c4=await _0x34cf43[_0x36b331(0x309)](getCloudProviderObject,_0x1bef3b,_0x584687,_0x4586e0,_0x505785,webSocketUtils,_0xaeee0f);_0x34cf43[_0x36b331(0x289)](_0x1bef3b,AZURE)&&(_0x34cf43[_0x36b331(0x1d0)](_0x34cf43[_0x36b331(0x2bd)],_0x34cf43['HPIXD'])?_0x1927c4[_0x36b331(0x1f0)]():_0x23055a[_0x36b331(0x284)](_0x34cf43[_0x36b331(0x1ae)]));let _0x57a48e;if(_0x34cf43[_0x36b331(0x169)](_0x27cec8,![])){_0x2c32af=_0x36b331(0x16f)+_0x21316f+').';const _0x509254={};_0x509254['type']=WS_EVENTS[_0x36b331(0x181)],_0x509254[_0x36b331(0x188)]=_0x2c32af,webSocketUtils[_0x36b331(0x281)](_0x505785,_0x509254),logger[_0x36b331(0x284)](_0x2c32af);const _0x193617=await _0x1927c4[_0x36b331(0x2a8)]();if(_0x193617){if(_0x34cf43[_0x36b331(0x1f7)](_0x34cf43[_0x36b331(0x272)],_0x34cf43[_0x36b331(0x272)])){const _0x10dbaf={};_0x10dbaf[_0x36b331(0x2d9)]=WS_EVENTS['LOG'],_0x10dbaf[_0x36b331(0x188)]=_0x36b331(0x31d)+_0x584687+'\x20is\x20already\x20present.\x20Skipping\x20cluster\x20creation',webSocketUtils['sendEventToBackend'](_0x505785,_0x10dbaf,_0x34cf43[_0x36b331(0x1c5)]),logger[_0x36b331(0x284)]('Cluster\x20'+_0x584687+_0x36b331(0x1aa)),_0x27cec8=!![];if(_0x34cf43[_0x36b331(0x191)](_0x4e5797,!![])){if(_0x34cf43[_0x36b331(0x200)](_0x34cf43[_0x36b331(0x16d)],_0x34cf43[_0x36b331(0x2f8)]))throw new Error(_0x36b331(0x31d)+_0x584687+_0x36b331(0x1f2));else _0x17c3b5[_0x36b331(0x26b)]=!![];}}else{const _0x1c9702=_0x34cf43[_0x36b331(0x23f)][_0x36b331(0x175)]('|');let _0x2fbcb2=0x0;while(!![]){switch(_0x1c9702[_0x2fbcb2++]){case'0':const _0x586dd7={};_0x586dd7[_0x36b331(0x2d9)]=_0x3aac71[_0x36b331(0x181)],_0x586dd7[_0x36b331(0x188)]=_0x215c7b,_0x3a60f8[_0x36b331(0x281)](_0x128193,_0x586dd7);continue;case'1':_0x3df7af[_0x36b331(0x1e8)]&&_0x34cf43[_0x36b331(0x18a)](_0xb4bb18,_0x31f29a['kafkaUploader']);continue;case'2':_0x5d07d3=_0x99d61[_0x36b331(0x2fb)];continue;case'3':_0x46625d='Will\x20be\x20spawning\x20a\x20new\x20cluster\x20and\x20the\x20grid\x20'+_0x5ba9e6;continue;case'4':_0x2377ba[_0x36b331(0x284)](_0x2ee0bd);continue;case'5':_0x34cf43[_0x36b331(0x1d2)](_0xde1b39,_0x49ad74,_0x5606e8,_0x491515,_0x1d1888,_0xeb5aaa,_0x54d827,_0x32c999,_0xedbada,_0x3433c4,_0x47f468,_0x137912,_0x7435[_0x36b331(0x1ba)]);continue;case'6':_0x2aef5f=_0x14a65f[_0x36b331(0x2dc)];continue;case'7':_0x6b98e0=null;continue;case'8':_0x1383b0=null;continue;case'9':_0x431c3a=_0x4f86ac[_0x36b331(0x2e2)];continue;case'10':_0x3a8de1=_0x104f6d[_0x36b331(0x31e)];continue;case'11':_0x11e16d=_0x20f8f6[_0x36b331(0x2c9)];continue;case'12':_0x46371e=null;continue;case'13':_0x34cf43[_0x36b331(0x27c)](_0xa7bc8e['privateGrid'],_0x4ffea8)&&_0x265efb[_0x36b331(0x2a1)]&&(_0x32b3d1[_0x36b331(0x26b)]=!![]);continue;case'14':_0x556c88=_0x8dafc6[_0x36b331(0x2f4)];continue;case'15':_0x1254b3=_0x29b57b[_0x36b331(0x1dd)];continue;}break;}}}else{const _0x3283b7={};_0x3283b7[_0x36b331(0x2d9)]=WS_EVENTS[_0x36b331(0x181)],_0x3283b7[_0x36b331(0x188)]=_0x34cf43[_0x36b331(0x2bc)],webSocketUtils[_0x36b331(0x281)](_0x505785,_0x3283b7),logger[_0x36b331(0x284)](_0x34cf43[_0x36b331(0x2bc)]);const _0x7494f5=_0x34cf43[_0x36b331(0x2b6)](_0x13b88e,null)&&_0x34cf43['ygzJy'](_0x13b88e,undefined),_0x15830a=_0x34cf43['rDHIW'](_0x5a35e2,null)&&_0x34cf43['RaUbl'](_0x5a35e2,undefined)&&_0x34cf43[_0x36b331(0x22d)](_0x5a35e2['length'],0x0);if(_0x7494f5){_0x34cf43[_0x36b331(0x168)](_0x15830a,![])&&(_0x2c32af=_0x34cf43[_0x36b331(0x2ee)],await _0x34cf43[_0x36b331(0x1d7)](reportToGalactusAndSendToEDS,_0xaeee0f,_0x505785,_0x2c32af,messageTypes[_0x36b331(0x2f7)],_0x34cf43[_0x36b331(0x28d)],_0x34cf43[_0x36b331(0x2a0)],_0x34cf43[_0x36b331(0x319)]),logger[_0x36b331(0x2ad)](_0x2c32af),process[_0x36b331(0x17d)](0x1));const _0x429be9=await _0x1927c4['isVPCPresent'](_0x13b88e);_0x34cf43[_0x36b331(0x2a7)](_0x429be9,![])?(_0x2c32af=_0x34cf43['cYZZY'],await _0x34cf43['fttKD'](reportToGalactusAndSendToEDS,_0xaeee0f,_0x505785,_0x2c32af,messageTypes[_0x36b331(0x2f7)],_0x34cf43[_0x36b331(0x28d)],_0x34cf43[_0x36b331(0x25c)],_0x34cf43[_0x36b331(0x319)]),logger['error'](_0x2c32af),process[_0x36b331(0x17d)](0x1)):logger[_0x36b331(0x284)](_0x36b331(0x2c7)+_0x13b88e+'\x20');const _0xdb54f1=await _0x1927c4[_0x36b331(0x2d0)](_0x5a35e2,_0x13b88e);_0x34cf43[_0x36b331(0x23d)](_0xdb54f1[0x0],![])?(_0x2c32af='Subnets:\x20'+JSON[_0x36b331(0x1f5)](_0xdb54f1[0x1])+_0x36b331(0x312)+_0x13b88e+_0x36b331(0x320),await _0x34cf43[_0x36b331(0x242)](reportToGalactusAndSendToEDS,_0xaeee0f,_0x505785,_0x2c32af,messageTypes[_0x36b331(0x2f7)],_0x34cf43['FVAJu'],_0x34cf43[_0x36b331(0x286)],_0x34cf43[_0x36b331(0x319)]),logger[_0x36b331(0x2ad)](_0x2c32af),process['exit'](0x1)):logger[_0x36b331(0x284)]('Found\x20Subnets:\x20'+JSON['stringify'](_0x5a35e2)+'\x20'),[_0x13b88e,_0x5a35e2]=await _0x1927c4[_0x36b331(0x245)](_0x13b88e,_0x5a35e2);}else{const _0x320428=_0x34cf43[_0x36b331(0x18f)]['split']('|');let _0x5bd982=0x0;while(!![]){switch(_0x320428[_0x5bd982++]){case'0':const _0x574d0a={};_0x574d0a['type']=WS_EVENTS[_0x36b331(0x181)],_0x574d0a[_0x36b331(0x188)]=_0x34cf43[_0x36b331(0x1c4)],webSocketUtils['sendEventToBackend'](_0x505785,_0x574d0a);continue;case'1':[_0x13b88e,_0x5a35e2]=await _0x1927c4[_0x36b331(0x245)](_0x13b88e,_0x5a35e2);continue;case'2':logger[_0x36b331(0x284)](_0x34cf43['xLXvi']);continue;case'3':const _0x3b2639={};_0x3b2639[_0x36b331(0x2d9)]=WS_EVENTS[_0x36b331(0x181)],_0x3b2639[_0x36b331(0x188)]=_0x34cf43[_0x36b331(0x1eb)],webSocketUtils['sendEventToBackend'](_0x505785,_0x3b2639);continue;case'4':logger['info'](_0x34cf43[_0x36b331(0x1eb)]);continue;}break;}}}}_0x27cec8&&_0x34cf43[_0x36b331(0x23b)](_0x1bef3b,AZURE)&&(await _0x1927c4[_0x36b331(0x215)](),await _0x1927c4['createOtherResources']());const [_0x5e030c,_0x56ab87,_0x424e4c,_0x52871e,_0x252704,_0xe3924a,_0x139c8f]=await _0x34cf43[_0x36b331(0x2d8)](createK8sClient,_0x1927c4,_0xaeee0f['skipTlsCertVerify']);_0x34cf43['WvWrh'](_0x27cec8,![])&&_0x34cf43[_0x36b331(0x275)](_0x1bef3b,AWS)&&(global_registry['isNewAWSCluster']=!![],_0x57a48e=await _0x1927c4['setupAutoscaler'](_0x5e030c,_0xaeee0f));if(_0x34cf43['lYxOb'](_0x27cec8,![])&&global_registry[_0x36b331(0x1e8)])try{await _0x1927c4[_0x36b331(0x30e)](_0xe3924a,_0x139c8f,_0xaeee0f,_0x13b88e,_0x5a35e2);const _0xed62ba={};_0xed62ba[_0x36b331(0x2d9)]=WS_EVENTS[_0x36b331(0x181)],_0xed62ba[_0x36b331(0x188)]=_0x34cf43[_0x36b331(0x172)],webSocketUtils[_0x36b331(0x281)](_0x505785,_0xed62ba);!await _0x34cf43[_0x36b331(0x2d8)](namespaceExists,_0x5e030c,global_registry['hubHaNameSpace'])&&await _0x34cf43[_0x36b331(0x1fc)](createNamespace,_0x5e030c,global_registry['hubHaNameSpace']);logger[_0x36b331(0x284)](_0x34cf43['BcluD']);let _0x20f56e=await fs[_0x36b331(0x27a)](path[_0x36b331(0x28f)](__dirname,_0x34cf43[_0x36b331(0x22a)],_0x34cf43[_0x36b331(0x234)],_0x34cf43[_0x36b331(0x2c5)],_0x34cf43['ksLvx']),_0x34cf43[_0x36b331(0x21f)]);_0x20f56e=_0x20f56e['replace'](/<RedisClientPassword>/g,_0x34cf43[_0x36b331(0x224)](encodeBase64,global_registry[_0x36b331(0x298)])),_0x20f56e=_0x20f56e[_0x36b331(0x21e)](/<KafkaClientPassword>/g,_0x34cf43[_0x36b331(0x1bc)](encodeBase64,global_registry[_0x36b331(0x2e8)])),_0x20f56e=_0x20f56e[_0x36b331(0x21e)](/<BstackUsername>/g,_0x34cf43[_0x36b331(0x236)](encodeBase64,global_registry[_0x36b331(0x2bf)])),_0x20f56e=_0x20f56e[_0x36b331(0x21e)](/<BstackAccessKey>/g,_0x34cf43[_0x36b331(0x27b)](encodeBase64,global_registry['bstackAccesskey']));const _0xadc87=yaml['loadAll'](_0x20f56e);await _0x34cf43[_0x36b331(0x2d8)](kubeApply,_0xadc87,_0x139c8f),logger['info'](_0x34cf43[_0x36b331(0x241)]);let _0x3aa03e=_0x34cf43[_0x36b331(0x24f)];if(_0x34cf43[_0x36b331(0x321)](_0x1bef3b,AZURE))_0x3aa03e=_0x34cf43['dCXtT'];else _0x34cf43['JxyWp'](_0x1bef3b,GCP)&&(_0x3aa03e=_0x34cf43[_0x36b331(0x21d)]);logger[_0x36b331(0x284)](_0x34cf43[_0x36b331(0x1e5)]);let _0x4fd14=await fs[_0x36b331(0x27a)](path[_0x36b331(0x28f)](__dirname,_0x34cf43[_0x36b331(0x22a)],_0x34cf43[_0x36b331(0x234)],_0x34cf43['VfrRS'],_0x34cf43[_0x36b331(0x221)]),_0x34cf43[_0x36b331(0x21f)]);_0x4fd14=_0x4fd14[_0x36b331(0x21e)](/<HubHaNameSpace>/g,global_registry[_0x36b331(0x311)]),_0x4fd14=_0x4fd14[_0x36b331(0x21e)](/<StorageClassName>/g,_0x3aa03e);const _0x5231a7=yaml[_0x36b331(0x225)](_0x4fd14);await _0x34cf43[_0x36b331(0x1c2)](kubeApply,_0x5231a7,_0x139c8f),logger['info'](_0x34cf43[_0x36b331(0x19e)]),logger[_0x36b331(0x284)](_0x34cf43['HMpaC']);let _0x54648d=await fs[_0x36b331(0x27a)](path[_0x36b331(0x28f)](__dirname,_0x34cf43[_0x36b331(0x22a)],_0x34cf43['UcMnE'],_0x34cf43[_0x36b331(0x2c5)],_0x34cf43['MzAPm']),_0x34cf43[_0x36b331(0x21f)]);_0x54648d=_0x54648d[_0x36b331(0x21e)](/<HubHaNameSpace>/g,global_registry[_0x36b331(0x311)]),_0x54648d=_0x54648d['replace'](/<StorageClassName>/g,_0x3aa03e);const _0x2d6138=yaml[_0x36b331(0x225)](_0x54648d);await _0x34cf43['keMIn'](kubeApply,_0x2d6138,_0x139c8f),logger[_0x36b331(0x284)](_0x34cf43[_0x36b331(0x2f6)]),logger['info'](_0x34cf43[_0x36b331(0x1b8)]);let _0x246cf0=await fs[_0x36b331(0x27a)](path['join'](__dirname,_0x34cf43['efQxr'],_0x34cf43[_0x36b331(0x234)],_0x34cf43[_0x36b331(0x2c5)],_0x34cf43[_0x36b331(0x26a)]),_0x34cf43['PoBpV']);_0x246cf0=_0x246cf0[_0x36b331(0x21e)](/<UploaderImageVersion>/g,global_registry[_0x36b331(0x2d1)]),_0x246cf0=_0x246cf0[_0x36b331(0x21e)](/<HubHaNameSpace>/g,global_registry[_0x36b331(0x311)]);const _0x26d154=yaml[_0x36b331(0x225)](_0x246cf0);_0x34cf43['EWmdC'](global_registry[_0x36b331(0x19f)],AZURE)&&(_0x26d154[0x0][_0x36b331(0x24a)][_0x36b331(0x1fa)][_0x36b331(0x2ce)][_0x36b331(0x222)]={'azure.workload.identity/use':_0x34cf43[_0x36b331(0x15e)],..._0x26d154[0x0][_0x36b331(0x24a)][_0x36b331(0x1fa)][_0x36b331(0x2ce)][_0x36b331(0x222)]},_0x26d154[0x0][_0x36b331(0x24a)][_0x36b331(0x1fa)][_0x36b331(0x24a)][_0x36b331(0x2b3)]=_0x34cf43[_0x36b331(0x299)]);await _0x34cf43['qvZeL'](kubeApply,_0x26d154,_0x139c8f),logger['info'](_0x34cf43[_0x36b331(0x2bb)]);const _0x3c0d00={};_0x3c0d00[_0x36b331(0x2d9)]=WS_EVENTS[_0x36b331(0x181)],_0x3c0d00['message']=_0x34cf43['UlehV'],webSocketUtils[_0x36b331(0x281)](_0x505785,_0x3c0d00),logger['info'](_0x34cf43[_0x36b331(0x189)]);}catch(_0x4b2038){const _0x568a04=_0x34cf43['CEtZk'][_0x36b331(0x175)]('|');let _0x5b811f=0x0;while(!![]){switch(_0x568a04[_0x5b811f++]){case'0':_0x2c32af=_0x36b331(0x2d6)+_0x4b2038['message'];continue;case'1':process[_0x36b331(0x17d)](0x1);continue;case'2':await _0x34cf43[_0x36b331(0x171)](reportToGalactusAndSendToEDS,_0xaeee0f,_0x505785,_0x2c32af,messageTypes[_0x36b331(0x2f7)],_0x34cf43['FVAJu'],_0x34cf43[_0x36b331(0x310)],_0x34cf43[_0x36b331(0x319)]);continue;case'3':await _0x1927c4['deleteCluster'](_0x5e030c,global_registry['clusterRegion']);continue;case'4':logger[_0x36b331(0x2ad)](_0x2c32af);continue;}break;}}try{_0x3a8d6e=_0x34cf43[_0x36b331(0x27b)](kebabCase,_0x4586e0),logger[_0x36b331(0x284)](_0x34cf43[_0x36b331(0x300)]);const _0x580b02={};_0x580b02[_0x36b331(0x2d9)]=WS_EVENTS[_0x36b331(0x181)],_0x580b02['message']=_0x34cf43[_0x36b331(0x300)],webSocketUtils[_0x36b331(0x281)](_0x505785,_0x580b02);if(_0x34cf43[_0x36b331(0x2e5)](_0x3a8d6e,_0x34cf43[_0x36b331(0x299)])){const _0x32d8eb={};_0x32d8eb[_0x36b331(0x1e1)]=_0x34cf43['pcAhe'],_0x32d8eb[_0x36b331(0x308)]=_0x34cf43[_0x36b331(0x324)];const _0x17e811={};_0x17e811['name']=_0x3a8d6e,_0x17e811[_0x36b331(0x29e)]=_0x32d8eb;const _0x4b80a6={};_0x4b80a6[_0x36b331(0x2ce)]=_0x17e811;const _0x403531=_0x4b80a6,_0x40304a={};_0x40304a[_0x36b331(0x24e)]=_0x403531,await _0x5e030c[_0x36b331(0x209)](_0x40304a),logger[_0x36b331(0x284)](_0x34cf43[_0x36b331(0x1f9)]);}const _0x54d88c={};_0x54d88c[_0x36b331(0x2d9)]=WS_EVENTS['LOG'],_0x54d88c[_0x36b331(0x188)]=_0x34cf43['ONxWF'],webSocketUtils[_0x36b331(0x281)](_0x505785,_0x54d88c);const _0x1bd3e9={};_0x1bd3e9[_0x36b331(0x2d9)]=WS_EVENTS[_0x36b331(0x181)],_0x1bd3e9[_0x36b331(0x188)]=_0x34cf43['tyzgD'],webSocketUtils[_0x36b331(0x281)](_0x505785,_0x1bd3e9),logger[_0x36b331(0x284)](_0x34cf43['TYDeN']);let _0x4ae577={};_0x34cf43[_0x36b331(0x190)](_0x1bef3b,AZURE)&&(_0x4ae577={'clientId':await _0x1927c4[_0x36b331(0x17a)]('turboscale-managed-identity-'+_0x584687)});await _0x34cf43[_0x36b331(0x1a5)](addGridComponents,_0x5e030c,_0x56ab87,_0x424e4c,_0x52871e,_0x3a8d6e,_0x584687,_0x57a48e,_0x252704,_0x139c8f,_0x4ae577),_0x2c32af=_0x34cf43[_0x36b331(0x217)],logger[_0x36b331(0x284)](_0x2c32af);const _0x1b26ed={};_0x1b26ed['type']=WS_EVENTS[_0x36b331(0x181)],_0x1b26ed[_0x36b331(0x188)]=_0x2c32af,webSocketUtils['sendEventToBackend'](_0x505785,_0x1b26ed),_0x2c32af=_0x34cf43[_0x36b331(0x2d7)],logger[_0x36b331(0x284)](_0x2c32af);const _0x364e39={};_0x364e39['type']=WS_EVENTS[_0x36b331(0x181)],_0x364e39[_0x36b331(0x188)]=_0x2c32af,webSocketUtils[_0x36b331(0x281)](_0x505785,_0x364e39),await _0x34cf43[_0x36b331(0x2c6)](waitForDeployment,_0x56ab87,_0x3a8d6e,TURBOSCALE_DEPLOYMENT,0x1d4c0);const _0x5219dc=await _0x34cf43['nwGpI'](getNamespaceUID,_0x5e030c,_0x3a8d6e),_0x4262e7=global_registry[_0x36b331(0x26b)]?_0x34cf43[_0x36b331(0x15d)]:_0x34cf43['CAiQp'],_0x23f3db={};_0x23f3db[_0x36b331(0x198)]=_0x4262e7,_0x23f3db[_0x36b331(0x2f9)]=_0x34cf43[_0x36b331(0x235)];const _0x5e006d=await _0x5e030c[_0x36b331(0x197)](_0x23f3db);let _0x17f668=_0x1927c4['getGridHostname'](_0x5e006d)+'/'+_0x3a8d6e,_0x54612c=_0x34cf43[_0x36b331(0x22c)];try{const _0x3cd38f='https://'+AG_API_URL+'/packages/cli/get-grid-url?gridIdentifier='+_0x5219dc,_0x220659=await _0x34cf43[_0x36b331(0x29d)](got,_0x3cd38f,_0x5b6dd9);(_0x34cf43[_0x36b331(0x167)](_0x220659,null)||_0x34cf43[_0x36b331(0x303)](_0x220659,undefined))&&(_0x2c32af=_0x34cf43[_0x36b331(0x186)],await _0x34cf43[_0x36b331(0x178)](reportToGalactusAndSendToEDS,_0xaeee0f,_0x505785,_0x2c32af,messageTypes['ERROR'],_0x34cf43['FVAJu'],_0x34cf43['eglmW'],_0x34cf43[_0x36b331(0x319)]),logger[_0x36b331(0x2ad)](_0x2c32af),process['exit'](0x1));_0x34cf43[_0x36b331(0x28a)](_0x220659[_0x36b331(0x18c)],0x191)&&(_0x2c32af=_0x34cf43[_0x36b331(0x212)],await _0x34cf43['aughQ'](reportToGalactusAndSendToEDS,_0xaeee0f,_0x505785,_0x2c32af,messageTypes['ERROR'],_0x34cf43[_0x36b331(0x28d)],_0x34cf43[_0x36b331(0x1be)],_0x34cf43[_0x36b331(0x319)]),logger[_0x36b331(0x2ad)](_0x2c32af),process[_0x36b331(0x17d)](0x1));_0x34cf43['PFLqe'](_0x220659[_0x36b331(0x18c)],0xc8)&&(_0x2c32af='Failed\x20to\x20get\x20grid\x20url\x20from\x20the\x20server.\x20Non\x20200\x20response\x20from\x20server!\x20'+JSON[_0x36b331(0x1f5)](_0x220659),await _0x34cf43[_0x36b331(0x2ea)](reportToGalactusAndSendToEDS,_0xaeee0f,_0x505785,_0x2c32af,messageTypes['ERROR'],_0x34cf43[_0x36b331(0x28d)],_0x34cf43[_0x36b331(0x326)],_0x34cf43[_0x36b331(0x319)]),logger[_0x36b331(0x2ad)](_0x2c32af),process[_0x36b331(0x17d)](0x1));const _0x4b63ea=JSON['parse'](_0x220659[_0x36b331(0x24e)]);_0x4b63ea[_0x36b331(0x2be)]&&(_0x17f668=_0x4b63ea[_0x36b331(0x2be)],_0x54612c=_0x34cf43[_0x36b331(0x1e2)]),global_registry['isPrivateGrid']&&(_0x54612c=_0x34cf43[_0x36b331(0x22c)]);}catch(_0x338a15){}_0x2c32af=_0x36b331(0x2dd)+_0x17f668+'\x20',logger[_0x36b331(0x284)](_0x2c32af);const _0xbd08e1={};_0xbd08e1[_0x36b331(0x2d9)]=WS_EVENTS[_0x36b331(0x181)],_0xbd08e1[_0x36b331(0x188)]=_0x2c32af,webSocketUtils['sendEventToBackend'](_0x505785,_0xbd08e1),_0x2c32af=_0x36b331(0x194)+_0x54612c+_0x36b331(0x280)+_0x17f668+_0x36b331(0x2cf),logger[_0x36b331(0x284)](_0x2c32af);const _0x27a73c={};_0x27a73c[_0x36b331(0x2d9)]=WS_EVENTS[_0x36b331(0x181)],_0x27a73c[_0x36b331(0x188)]=_0x2c32af,webSocketUtils['sendEventToBackend'](_0x505785,_0x27a73c);const _0x2737f2={};_0x2737f2[_0x36b331(0x2d9)]=WS_EVENTS[_0x36b331(0x15f)],_0x2737f2[_0x36b331(0x188)]='CLI\x20run\x20finished:\x20'+_0x17f668,webSocketUtils[_0x36b331(0x281)](_0x505785,_0x2737f2),await webSocketUtils[_0x36b331(0x164)](0x7d0);}catch(_0x385620){logger['error'](_0x36b331(0x304)+_0x385620+'\x20\x0a'+JSON['stringify'](_0x385620[_0x36b331(0x17f)]));if(_0x34cf43['CJCcP'](_0x27cec8,![]))try{logger[_0x36b331(0x284)](_0x34cf43[_0x36b331(0x291)]),await _0x34cf43['zkvRa'](removeGridComponents,_0x5e030c,_0x56ab87,_0x424e4c,_0x52871e,_0x3a8d6e),await _0x1927c4[_0x36b331(0x2ba)](_0x5e030c,global_registry[_0x36b331(0x2fd)]);}catch(_0x33f511){logger['error']('Failed\x20to\x20delete\x20the\x20CloudFormation\x20Stacks\x20and\x20other\x20spawned\x20components.\x20Error:\x20\x20'+_0x33f511+'\x20\x0a'+JSON[_0x36b331(0x1f5)](_0x33f511[_0x36b331(0x17f)]));}throw _0x385620;}}catch(_0x17af7b){const _0x4d72e3=_0x36b331(0x2eb)+_0x17af7b+'\x20\x0a'+JSON[_0x36b331(0x1f5)](_0x17af7b[_0x36b331(0x17f)]);if(_0x505785){const _0x33e6c3={};_0x33e6c3[_0x36b331(0x2d9)]=WS_EVENTS['LOG'],_0x33e6c3[_0x36b331(0x188)]=_0x4d72e3,webSocketUtils[_0x36b331(0x281)](_0x505785,_0x33e6c3,_0x34cf43[_0x36b331(0x319)],!![]);}await webSocketUtils['delay'](0x7d0);const _0x904c4a={};_0x904c4a[_0x36b331(0x2ad)]=_0x4d72e3,await _0x34cf43[_0x36b331(0x1d9)](sendInstrumentationEvent,_0xaeee0f,_0x34cf43['FVAJu'],messageTypes[_0x36b331(0x2f7)],_0x34cf43[_0x36b331(0x277)],_0x904c4a,_0xaeee0f),logger[_0x36b331(0x2ad)](_0x4d72e3);}process['exit'](0x0);};function a9_0x57a0(){const _0x32808e=['EnrhX','setupHubHa','pre-spawned-invalid-vpc','DBODV','hubHaNameSpace','\x20are\x20not\x20present\x20in\x20VPC:\x20','10248777SnFSgX','ubFIq','js-yaml','cluster-name,\x20cloud-provider\x20&&\x20region\x20should\x20be\x20provided\x20when\x20spawning\x20a\x20grid\x20in\x20existing\x20(Non-BrowserStack\x20created)\x20K8s\x20cluster','iCAAT','Namespace\x20Created','gLZjT','BbkKT','Epyd5nXbRK','hub-ha','Cluster\x20','hubVersion','tQDvm','.\x20Please\x20re\x20-\x20select\x20subnets\x20and\x20try\x20again','YFMxW','Will\x20be\x20spawning\x20the\x20grid\x20','GxUjS','pcAhe','oziog','ueDNO','FgBLu','Subnets\x20not\x20selected.\x20Please\x20select\x20subnets\x20and\x20try\x20again','newCluster','YTFvX','Cluster\x20created\x20successfully','IirKC','../../utils/createk8sClient','grid-profile','IbHxm','GNCTo','CLI_RUN_FINISHED','EZoyM','securityGroups','YCRWF','private-grid','delay','pre-spawned-invalid-subnets','connectionTimeout','ZNhHG','JIKZj','wBQWA','uploaderVersion','grid-name','rjpau','hkfTV','0|2|1|3|4','Checking\x20if\x20cluster\x20is\x20already\x20present\x20in\x20selected\x20region(','SuVlv','aughQ','ZQzde','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','Cluster\x20not\x20found.\x20Proceeding\x20with\x20creating\x20required\x20resources.','split','dVzUb','ingress-nginx-controller','LfeqM','DFWKP','getResourceClientId','Enabling\x20Hub\x20HA\x20flow','desc','exit','cloud-provider','stack','uhdex','LOG','../../utils/gridComponents','WeKTQ','builder','VGiBc','mBuZm','jiSVr','message','tIrIn','vaKZk','WvWrh','statusCode','4|3|2|0|1','ldejB','XSTIL','JxyWp','wIdpW','sKySF','username','Hub\x20url\x20to\x20run\x20selenium\x20sessions:\x20','EyeqD','\x20doesn\x27t\x20exist.\x20Proceeding\x20with\x20creating\x20a\x20new\x20cluster','readNamespacedService','name','Create\x20a\x20new\x20Automation\x20grid.','alreadyPresent','grid','kafkaUploader','YWBaU','liXSM','cloudProvider','utf-8','XeWQJ','<UsernamePlaceholder>','qUBSg','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','HaHrT','Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Unauthorized\x20request!','http','iajnB','apBxm','\x20is\x20already\x20present.\x20Skipping\x20cluster\x20creation','GmgOP','asjvc','password','BAOlO','.\x20Please\x20use\x20--grid-name\x20option\x20to\x20provide\x20another\x20grid\x20name','An\x20Automation\x20Grid\x20already\x20exists\x20with\x20grid\x20name\x20','wuAYt','Adding\x20Turboscale\x20Uploader\x20deployment...','AIeEc','XwpKt','133344tgKCGM','eNJAg','HmXfw','UQroW','hubHa','clusterAutoupgrade','flsyY','BNJSf','prespawned-cluster-args-not-passed','Eyjsu','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','true','Create\x20a\x20private/public\x20grid.','SWbQo','523372wcltdV','xLXvi','DmaXF','includes','xklFg','1513736FBvolx','415GNOOAG','create-grid-checks-grid-already-exists','turboscale-uploader.yaml','ahJAC','get-grid-url-non-200','reconnecting-websocket','Spawning\x20the\x20grid\x20','njTDM','handler','GSkVY','dFkxF','/packages/cli/create-grid-checks','WmMUt','UfGID','xJNRv','Failed\x20to\x20delete\x20the\x20CloudFormation\x20Stacks\x20and\x20other\x20spawned\x20components.\x20Error:\x20\x20','GWsjK','nQmbU','requestId','EfOGf','maxNodes','kPHIW','TGkIv','azsmb','createdBy','rZfxb','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','clusterName','TfxFg','YhjJM','bitnami-redis.yaml','enableHubHa','Invalid\x20input.\x20Currently\x20Spawning\x20the\x20grid\x20in\x20AWS\x20and\x20Azure\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','SfGya','OIKNh','sxjrR','KTKHi','Added\x20Secret\x20Mapping','azurefile-csi-premium','sendResourceDataToHST','NSEVG','\x20is\x20already\x20present.\x20Cannot\x20spawn\x20a\x20new\x20cluster','Flag\x20to\x20enable\x20Hub\x20HA','private-ingress-nginx-controller','stringify','OpwvD','dtVUg','alhSk','zbaKl','template','spgSD','qvZeL','CLI\x20run\x20started','iZAgx','ingress-nginx','eOwqQ','Adding\x20Kafka\x20deployment...','cptsN','jtJIz','fVtFP','KjpwV','UHBtW','kZZQs','INFO','createNamespace','xRuef','fOjJB','iwvER','CJCcP','nHove','templates','jgwYW','Cpaba','ewxdA','hubharesources','Grid\x20spawned\x20on\x20the\x20cluster','updateClusterAlreadyPresent','usage','eJtwh','FZrIM','oaBsZ','BYLml','description','FUYCG','EpxsL','replace','PoBpV','PheFJ','tJViA','labels','FhXQR','nGiGM','loadAll','obRjL','premium-rwo','../../config/logger','IeAgN','efQxr','../..','ewLPe','yBYNA','EbAZG','WebSocket','FnaVg','Adding\x20Redis\x20deployment...','vnHus','Flag\x20to\x20enable\x20cluster\x20auto-upgrade','UcMnE','Kzpno','CWGLe','ygzJy','LsAJU','gridProfile','cluster-name','yYoym','Zhwiv','yrQBs','dgmha','caaKt','epilogue','qBxaU','EOORo','YTVQT','CTOAj','setupNewCluster','create-grid-checks-non-200','HwGWJ','create-grid-checks-auth-failed','create-grid-checks-invalid-profile','spec','../../cloudproviders/utils','owqIK','Added\x20Kafka\x20deployment.','body','DHPcn','VmTJc','VNJEi','region','42XOzcCg','1958120QcqfQm','Hub\x20HA\x20setup\x20completed\x20successfully.','NTWsI','Adding\x20Websocket\x20listeners','UGYJP','browserstack','Creating\x20Hub\x20HA\x20resources','2|0|4|1|3','VuKRr','mKmvf','vJpxs','Spawning\x20Grid\x20on\x20the\x20Cluster','get\x20grid\x20url\x20from\x20the\x20server.\x20Unknown\x20error!','0|4|2|3|1','length','iwdiz','\x20in\x20existing\x20cluster\x20\x27','5|4|3|1|0|2|6|8|7','<PasswordPlaceholder>','16nBMHJw','vgdqx','Skip\x20insecure\x20cert\x20verification.','zZdAs','isPrivateGrid','UkRNzNYCBU','UixQx','create-grid-checks-null-response','vpc','cluster-autoupgrade','AfLxZ','QliLX','PBcBU','uuid','nrtPN','8|5|3|7|2|1|4|6|0','LrslB','help','OKRVu','readFileAsync','EXNkd','lryeK','iWoPS','Will\x20be\x20spawning\x20a\x20new\x20cluster\x20and\x20the\x20grid\x20','create-grid-called','://','sendEventToBackend','bitnami-kafka.yaml','get-grid-url-null-response','info','20348900FbJUld','Ekinm','Creating\x20namespace','The\x20grid\x20creation\x20is\x20in\x20progress.\x20It\x20could\x20take\x20as\x20long\x20as\x2015-20\x20minutes.\x20You\x20will\x20receive\x20an\x20email\x20notification\x20once\x20the\x20grid\x20is\x20ready.','nAyef','GbZpj','CQajh','\x27\x20grid\x20profile','FVAJu','PWhjQ','join','HqHyd','doZTF','eCrjo','CLI_RUN_STARTED','user','path','hdsHD','BrzET','redisPassword','QPKJX','MeOqq','ymGef','zVVlR','nwGpI','annotations','skip-tls-cert-verify','csUOS','privateGrid','got','addListeners','boolean','Found\x20Subnets:\x20','ydQOy','lYxOb','isClusterPresent','efs-csi','rKHXA','Grid\x20profile\x20fetched\x20from\x20backend','2395032SziwkE','error','tXErR','pre-spawned-subnets-not-selected','clusterAutoUpgrade','debug','readFileSync','serviceAccountName','hboLt','defaultGridProfile','PTJoO','Deleting\x20the\x20CloudFormation\x20Stacks','Browserstack','eRrZS','deleteCluster','euBrj','VlbQP','HPIXD','route53','bstackUsername','Adding\x20Secret\x20Mapping','non-aws-azure-cluster','UUsmY','bwPXY','default','VfrRS','CPtoH','Found\x20VPC:\x20','hub-ha-deployments-failed','instanceType','KMGpA','XmhSY','WcMcg','PFLqe','metadata','/wd/hub','isSubnetsValid','uploaderImageVersion','bstackAccesskey','PgnRD','3|4|0|14|11|7|8|12|9|2|15|10|6|13|5|1','existsSync','Error\x20occurred\x20while\x20setting\x20up\x20Hub\x20HA\x20infra:\x20','AHOXM','nsmDe','type','options','https://','browserVersion','Grid\x20can\x20be\x20accessed\x20at:\x20','jcjbA','Pass\x20the\x20name\x20to\x20setup\x20the\x20Automation\x20Grid\x20with\x20specific\x20name.\x20Name\x20this\x20grid\x20using\x20either\x20team\x27s\x20name,\x20pipeline\x20specific\x20or\x20generic.','\x20using\x20\x27','toLowerCase','s3bucket','../../utils/utilityMethods','WNuYP','AaxDH','subnets','nJSZL','kafkaPassword','IaAAN','rGCSF','Unable\x20to\x20Spawn\x20the\x20Grid!\x20Error:\x20','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','Cluster\x20Auto\x20Upgrade\x20is\x20enabled','YvnWL','zHXCo','eaANG','dJgqt','oSuCd','GSLQz','concurrency','mErAk','dyQPl','ERROR','qJaMB','namespace','warn','minNodes','gridName','clusterRegion','argv','../../utils/webSocketUtils','Osxhr','Spawning\x20grid\x20on\x20to\x20the\x20cluster','Invalid\x20Grid\x20Profile.Exiting\x20the\x20CLI.','dFNEH','Error\x20in\x20Spawning\x20the\x20Grid!\x20Error:\x20','string','Added\x20Turboscale\x20Uploader\x20deployment.','dCXtT','managedBy','yPaZu','DRdSj','browserstack-secret.yaml','../../config/constants'];a9_0x57a0=function(){return _0x32808e;};return a9_0x57a0();}