const a9_0xe4e268=a9_0x1230;function a9_0x1230(_0x4ad5fa,_0xc25812){const _0x2a9d50=a9_0x2a9d();return a9_0x1230=function(_0x12307c,_0x1ac722){_0x12307c=_0x12307c-0x1c2;let _0x125930=_0x2a9d50[_0x12307c];return _0x125930;},a9_0x1230(_0x4ad5fa,_0xc25812);}(function(_0x59a75a,_0xfa08aa){const _0x1eaecb=a9_0x1230,_0x297ae5=_0x59a75a();while(!![]){try{const _0x3a5597=parseInt(_0x1eaecb(0x376))/0x1*(-parseInt(_0x1eaecb(0x2b7))/0x2)+-parseInt(_0x1eaecb(0x1d8))/0x3*(parseInt(_0x1eaecb(0x2fb))/0x4)+-parseInt(_0x1eaecb(0x320))/0x5*(parseInt(_0x1eaecb(0x2d8))/0x6)+-parseInt(_0x1eaecb(0x267))/0x7+-parseInt(_0x1eaecb(0x1ec))/0x8*(-parseInt(_0x1eaecb(0x292))/0x9)+-parseInt(_0x1eaecb(0x21f))/0xa*(parseInt(_0x1eaecb(0x352))/0xb)+parseInt(_0x1eaecb(0x2ba))/0xc*(parseInt(_0x1eaecb(0x383))/0xd);if(_0x3a5597===_0xfa08aa)break;else _0x297ae5['push'](_0x297ae5['shift']());}catch(_0x308792){_0x297ae5['push'](_0x297ae5['shift']());}}}(a9_0x2a9d,0x92466));const fs=require('fs'),ws=require('ws'),path=require(a9_0xe4e268(0x268)),yaml=require('js-yaml'),ReconnectingWebSocket=require(a9_0xe4e268(0x30b)),got=require(a9_0xe4e268(0x385)),{v4:uuidv4}=require(a9_0xe4e268(0x24f)),webSocketUtils=require(a9_0xe4e268(0x36c)),{logger}=require(a9_0xe4e268(0x264)),{getCredentialsPath,updateGlobalRegistryWithConfig,updateGlobalRegistryForHubHa,kebabCase,reportToGalactusAndSendToEDS,getAuthHeader,waitForDeployment,kubeApply,encodeBase64}=require('../../utils/utilityMethods'),{getCloudProviderObject}=require('../../cloudproviders/utils'),{AWS,WS_EVENTS,global_registry,WS_ENDPOINT,DEFAULT_GRID_NAME,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,messageTypes,AG_API_URL,AZURE,GCP,TURBOSCALE_DEPLOYMENT}=require('../../config/constants'),{addGridComponents,removeGridComponents,getNamespaceUID,namespaceExists,createNamespace}=require(a9_0xe4e268(0x2ac)),{createK8sClient}=require(a9_0xe4e268(0x2fa)),{sendInstrumentationEvent}=require(a9_0xe4e268(0x202));exports[a9_0xe4e268(0x21b)]=a9_0xe4e268(0x21e),exports[a9_0xe4e268(0x229)]=a9_0xe4e268(0x343),exports['builder']=function(_0x183683){const _0x30c53b=a9_0xe4e268,_0x3325ad={};_0x3325ad[_0x30c53b(0x2eb)]='Pass\x20the\x20name\x20to\x20setup\x20the\x20Automation\x20Grid\x20with\x20specific\x20name.\x20Name\x20this\x20grid\x20using\x20either\x20team\x27s\x20name,\x20pipeline\x20specific\x20or\x20generic.',_0x3325ad[_0x30c53b(0x2e9)]=_0x30c53b(0x26e),_0x3325ad['RKYQw']=_0x30c53b(0x2ea),_0x3325ad[_0x30c53b(0x24d)]=_0x30c53b(0x306),_0x3325ad[_0x30c53b(0x2cd)]=_0x30c53b(0x210),_0x3325ad[_0x30c53b(0x350)]=_0x30c53b(0x2d6),_0x3325ad[_0x30c53b(0x37d)]=_0x30c53b(0x384),_0x3325ad[_0x30c53b(0x27c)]='Skip\x20insecure\x20cert\x20verification.',_0x3325ad[_0x30c53b(0x35e)]=_0x30c53b(0x366),_0x3325ad[_0x30c53b(0x1e9)]=_0x30c53b(0x31c),_0x3325ad[_0x30c53b(0x33c)]=_0x30c53b(0x217),_0x3325ad['kghkS']='help';const _0x5b4bc4=_0x3325ad,_0x3e09cb={};_0x3e09cb[_0x30c53b(0x200)]=_0x5b4bc4['CNfTz'],_0x3e09cb[_0x30c53b(0x25d)]=_0x5b4bc4[_0x30c53b(0x2e9)];const _0x1723a7={};_0x1723a7[_0x30c53b(0x200)]=_0x5b4bc4[_0x30c53b(0x1e2)],_0x1723a7['type']=_0x5b4bc4[_0x30c53b(0x2e9)];const _0xb8a873={};_0xb8a873[_0x30c53b(0x200)]=_0x5b4bc4[_0x30c53b(0x24d)],_0xb8a873['type']=_0x5b4bc4[_0x30c53b(0x2e9)];const _0x3d8c5f={};_0x3d8c5f['description']=_0x5b4bc4[_0x30c53b(0x2cd)],_0x3d8c5f[_0x30c53b(0x25d)]=_0x5b4bc4['YqBGX'];const _0x23f657={};_0x23f657[_0x30c53b(0x200)]=_0x5b4bc4[_0x30c53b(0x350)],_0x23f657[_0x30c53b(0x25d)]=_0x5b4bc4[_0x30c53b(0x2e9)];const _0x56f2a3={};_0x56f2a3[_0x30c53b(0x200)]=_0x5b4bc4[_0x30c53b(0x37d)],_0x56f2a3[_0x30c53b(0x25d)]=_0x5b4bc4[_0x30c53b(0x2e9)];const _0x4a070a={};_0x4a070a['description']=_0x5b4bc4['KUdTi'],_0x4a070a['type']=_0x5b4bc4[_0x30c53b(0x35e)],_0x4a070a[_0x30c53b(0x2c9)]=![];const _0x996071={};_0x996071[_0x30c53b(0x200)]=_0x5b4bc4[_0x30c53b(0x1e9)],_0x996071[_0x30c53b(0x25d)]=_0x5b4bc4[_0x30c53b(0x35e)],_0x996071[_0x30c53b(0x2c9)]=![];const _0x17978e={};_0x17978e[_0x30c53b(0x200)]=_0x5b4bc4[_0x30c53b(0x33c)],_0x17978e[_0x30c53b(0x25d)]=_0x5b4bc4[_0x30c53b(0x35e)],_0x17978e['default']=![];const _0x3430eb={};return _0x3430eb['grid-name']=_0x3e09cb,_0x3430eb[_0x30c53b(0x234)]=_0x1723a7,_0x3430eb['cluster-name']=_0xb8a873,_0x3430eb[_0x30c53b(0x286)]=_0x3d8c5f,_0x3430eb['region']=_0x23f657,_0x3430eb[_0x30c53b(0x247)]=_0x56f2a3,_0x3430eb[_0x30c53b(0x252)]=_0x4a070a,_0x3430eb[_0x30c53b(0x308)]=_0x996071,_0x3430eb[_0x30c53b(0x30c)]=_0x17978e,_0x183683['usage'](HELP_HEADER_MESSAGE[_0x30c53b(0x278)])['epilogue'](HELP_FOOTER_MESSAGE)[_0x30c53b(0x28b)](_0x3430eb)[_0x30c53b(0x35b)](_0x5b4bc4[_0x30c53b(0x214)])[_0x30c53b(0x25f)];},exports[a9_0xe4e268(0x228)]=async function(_0x541a28){const _0x35481a=a9_0xe4e268,_0x5784a7={'sDJVf':_0x35481a(0x30e),'YRAup':function(_0x3821cc,_0x3fa4c5,_0x4c8968,_0x4a4957,_0x581d6e,_0x178958,_0x19d51d,_0x243b01,_0x4f6330,_0x354b34,_0x3ee9ca,_0x1d942d,_0x3f7d2e){return _0x3821cc(_0x3fa4c5,_0x4c8968,_0x4a4957,_0x581d6e,_0x178958,_0x19d51d,_0x243b01,_0x4f6330,_0x354b34,_0x3ee9ca,_0x1d942d,_0x3f7d2e);},'YzQZu':function(_0x59c77e,_0x523a51){return _0x59c77e(_0x523a51);},'Vpnvw':function(_0x3761f9,_0x41f095){return _0x3761f9!==_0x41f095;},'GdlkR':function(_0x25e71a,_0xa0cb60){return _0x25e71a(_0xa0cb60);},'Zargz':_0x35481a(0x26b),'YCDBs':_0x35481a(0x2c9),'bNVEt':_0x35481a(0x212),'JlXZc':'Epyd5nXbRK','JSRPS':_0x35481a(0x2fe),'eiZGz':_0x35481a(0x1cd),'syOTO':_0x35481a(0x325),'YBgbV':'Cluster\x20Auto\x20Upgrade\x20is\x20enabled','TcEZQ':_0x35481a(0x203),'HGRVo':function(_0x54542f,_0x1a1e8c){return _0x54542f===_0x1a1e8c;},'jTltg':_0x35481a(0x316),'ksISY':_0x35481a(0x37f),'YqHJk':_0x35481a(0x304),'HXWtM':_0x35481a(0x1ea),'Cvypn':_0x35481a(0x36b),'EOunf':_0x35481a(0x1c5),'TwhMc':function(_0x265ed8,_0x49f8a0){return _0x265ed8(_0x49f8a0);},'LVkmw':_0x35481a(0x2bc),'UEWJq':_0x35481a(0x369),'rfNsW':_0x35481a(0x26e),'ujPAT':_0x35481a(0x2ea),'uQtFK':_0x35481a(0x306),'bQDzV':_0x35481a(0x210),'YhaVM':_0x35481a(0x2d6),'Nvkos':_0x35481a(0x384),'CGrIP':_0x35481a(0x256),'CBWAF':'boolean','SSBpi':_0x35481a(0x31c),'bOPuM':_0x35481a(0x217),'wnqeo':'help','XqMdx':function(_0x3a83af){return _0x3a83af();},'mjJDQ':function(_0x26abb6){return _0x26abb6();},'HXlmK':_0x35481a(0x297),'Okvsw':_0x35481a(0x248),'IeTLy':_0x35481a(0x25a),'lWkxh':function(_0x4dadba,_0x28f1c1,_0x183b23,_0x5d57c0,_0x1a1fcc,_0x3cd751,_0x60f7bd){return _0x4dadba(_0x28f1c1,_0x183b23,_0x5d57c0,_0x1a1fcc,_0x3cd751,_0x60f7bd);},'TvoFn':_0x35481a(0x1fb),'lyLaJ':_0x35481a(0x2c6),'MjYIF':function(_0x3b7be5,_0x1d30fc,_0x5e386b,_0xffc03f,_0x40a694,_0x3b81e1,_0x12f442){return _0x3b7be5(_0x1d30fc,_0x5e386b,_0xffc03f,_0x40a694,_0x3b81e1,_0x12f442);},'eDMQB':function(_0x19544e){return _0x19544e();},'jFUTJ':'<UsernamePlaceholder>','TzTKG':_0x35481a(0x373),'Ysabp':_0x35481a(0x2fc),'yJZtu':function(_0x45e219,_0x5e23c5){return _0x45e219!==_0x5e23c5;},'cngTu':_0x35481a(0x237),'aXkIg':_0x35481a(0x32d),'gDybW':'ymnHg','FTjjZ':'mZekK','vHaLh':_0x35481a(0x32c),'ReqKz':function(_0x38de09,_0x20f19a,_0x2ff08a,_0x1d80cb,_0x101915,_0x23ec4e,_0x1a87aa,_0x3baee1){return _0x38de09(_0x20f19a,_0x2ff08a,_0x1d80cb,_0x101915,_0x23ec4e,_0x1a87aa,_0x3baee1);},'enVgn':'prespawned-cluster-args-not-passed','rleKe':function(_0x6e95aa,_0x4d3674){return _0x6e95aa!==_0x4d3674;},'jOVFH':_0x35481a(0x326),'OpRyN':_0x35481a(0x23a),'uUGLG':_0x35481a(0x33f),'zfrZl':_0x35481a(0x263),'LIJTV':'qpcBk','YYZKK':function(_0x1d44dc,_0xb82482,_0xf98837,_0x39c1cc,_0xa10e25,_0x17e547,_0x4911f8){return _0x1d44dc(_0xb82482,_0xf98837,_0x39c1cc,_0xa10e25,_0x17e547,_0x4911f8);},'RXvLt':function(_0x2bbd11,_0x27a8ab){return _0x2bbd11!==_0x27a8ab;},'uKFED':'KvbJA','bmPpj':function(_0x3f0516,_0x415e3b){return _0x3f0516!==_0x415e3b;},'yqBlO':_0x35481a(0x362),'hVDfw':'UbDNS','HnGdX':'iiIua','lavws':'pGKoT','SDBFu':_0x35481a(0x1de),'niVDO':function(_0x26c832,_0x5d2671,_0xb0d5e2){return _0x26c832(_0x5d2671,_0xb0d5e2);},'MehcV':function(_0x56fe89,_0x333183){return _0x56fe89!==_0x333183;},'zSkbJ':_0x35481a(0x30f),'TwQxt':_0x35481a(0x294),'yRXqy':_0x35481a(0x273),'maCFH':function(_0x6f0335,_0x53802c,_0x2fc146){return _0x6f0335(_0x53802c,_0x2fc146);},'fhQuK':function(_0x9171f1,_0x1dd5e8){return _0x9171f1===_0x1dd5e8;},'AoUGZ':function(_0x54ee08,_0x3a5892){return _0x54ee08===_0x3a5892;},'mmrmS':function(_0x5af45b,_0x30cc78){return _0x5af45b===_0x30cc78;},'Idovh':'bHRll','qsqoT':'Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Unknown\x20error!','MFKFg':'create-grid-checks-null-response','adNzi':function(_0x4fa5b4,_0x496f5e){return _0x4fa5b4===_0x496f5e;},'nuxpm':function(_0x2c5b34,_0x5cee3c){return _0x2c5b34!==_0x5cee3c;},'KUzyd':_0x35481a(0x328),'Mlytc':_0x35481a(0x235),'RmLYb':_0x35481a(0x295),'fVFoW':_0x35481a(0x222),'wXoou':function(_0x27101c,_0x52161a){return _0x27101c===_0x52161a;},'FnHlU':_0x35481a(0x29e),'ZOLzb':_0x35481a(0x300),'sryBa':_0x35481a(0x2ab),'HjLVS':'Grid\x20profile\x20fetched\x20from\x20backend','fNcNr':function(_0x3112f8,_0x209fc1){return _0x3112f8===_0x209fc1;},'PPdMI':_0x35481a(0x22e),'DGUsL':_0x35481a(0x32a),'HRxIj':_0x35481a(0x250),'djOqI':'knKEK','HjRoo':_0x35481a(0x277),'jkQeQ':_0x35481a(0x299),'rpkCw':'3|0|2|4|1','tcdhD':function(_0x971cc6,_0x5354c9){return _0x971cc6===_0x5354c9;},'lePOc':_0x35481a(0x27d),'RnmUN':_0x35481a(0x296),'XsQfE':_0x35481a(0x2a8),'uzmlm':_0x35481a(0x339),'HgEAO':_0x35481a(0x1cc),'HNRlH':function(_0x350687,_0x102aa9){return _0x350687===_0x102aa9;},'fmdhi':function(_0x505b7f,_0x12b0c5){return _0x505b7f!==_0x12b0c5;},'tLPHt':_0x35481a(0x1c2),'CzuLM':function(_0x6ab999,_0x2bcaf5){return _0x6ab999===_0x2bcaf5;},'zyfaM':_0x35481a(0x32f),'wEELh':'MWmMV','OKFWs':function(_0x4d349e,_0x877f8d){return _0x4d349e!==_0x877f8d;},'BnaUk':'FEOLH','OzWRz':function(_0x14bf09,_0x2de41d){return _0x14bf09!==_0x2de41d;},'YyRRD':_0x35481a(0x347),'oXAlq':function(_0x189612,_0x5da03f){return _0x189612(_0x5da03f);},'JXQIX':function(_0x5ca849,_0x57c627){return _0x5ca849===_0x57c627;},'QRdvc':function(_0x4f8d63,_0xa27484){return _0x4f8d63!==_0xa27484;},'pcrWk':_0x35481a(0x1d2),'Nidru':function(_0x5d23ff,_0x9f6d2e){return _0x5d23ff!==_0x9f6d2e;},'fNbYN':_0x35481a(0x378),'FOlfp':'nNTTB','BnUPS':function(_0x1231e4,_0x3ca6e0){return _0x1231e4===_0x3ca6e0;},'gvTVt':_0x35481a(0x258),'LmFJA':function(_0x47b6a3,_0x262a27){return _0x47b6a3(_0x262a27);},'VwBwJ':_0x35481a(0x1eb),'mMmlM':_0x35481a(0x27b),'LmImH':function(_0xe520ef,_0x3dc686,_0x626433,_0x4f0ecf,_0x284891,_0x4f496e,_0x33f1e0){return _0xe520ef(_0x3dc686,_0x626433,_0x4f0ecf,_0x284891,_0x4f496e,_0x33f1e0);},'GfvWQ':function(_0x420fbf,_0x394cc1){return _0x420fbf===_0x394cc1;},'iasRU':'hoqGe','cFutP':function(_0x477626,_0x4802e3){return _0x477626===_0x4802e3;},'BzHeV':_0x35481a(0x2b5),'TRIdl':_0x35481a(0x349),'olzMS':_0x35481a(0x29c),'iplTH':_0x35481a(0x34f),'LuUNN':_0x35481a(0x207),'kaFyP':function(_0xcde59b,_0x3e5d7a){return _0xcde59b!=_0x3e5d7a;},'Kcjjz':function(_0x323d0a,_0x19022c){return _0x323d0a>_0x19022c;},'fzRam':'Subnets\x20not\x20selected.\x20Please\x20select\x20subnets\x20and\x20try\x20again','Gscmg':_0x35481a(0x1f8),'cpFbR':_0x35481a(0x2ae),'yCdvo':'pre-spawned-invalid-vpc','rfmLD':function(_0x1aa6b5,_0x204443,_0x2cf414,_0x38b0ea,_0x18cebc,_0x357a39,_0x20f603,_0x3a79af){return _0x1aa6b5(_0x204443,_0x2cf414,_0x38b0ea,_0x18cebc,_0x357a39,_0x20f603,_0x3a79af);},'uGSBc':_0x35481a(0x34d),'VgFIg':'2|3|1|0|4','BgcrF':_0x35481a(0x2b6),'jgFge':'The\x20grid\x20creation\x20is\x20in\x20progress.\x20It\x20could\x20take\x20as\x20long\x20as\x2015-20\x20minutes.\x20You\x20will\x20receive\x20an\x20email\x20notification\x20once\x20the\x20grid\x20is\x20ready.','hfVKS':function(_0xc2c13f,_0x44749e){return _0xc2c13f===_0x44749e;},'AXCjJ':function(_0x4f7cca,_0xfcd638){return _0x4f7cca===_0xfcd638;},'WFyvA':function(_0x4bd4b2,_0x1b3ef3){return _0x4bd4b2===_0x1b3ef3;},'lEJBJ':_0x35481a(0x322),'nyAJJ':_0x35481a(0x291),'Rmkqc':_0x35481a(0x33d),'LUVfo':_0x35481a(0x309),'gVHvz':_0x35481a(0x239),'xvlZz':_0x35481a(0x1d9),'XTDJS':'utf-8','xfREC':function(_0x8d7db5,_0x30db8b){return _0x8d7db5(_0x30db8b);},'lxRUC':function(_0x4ef8a3,_0x424cb6){return _0x4ef8a3(_0x424cb6);},'knseC':'Added\x20Secret\x20Mapping','KDdBA':'efs-csi','acDNK':'Adding\x20Redis\x20deployment...','RcaCQ':'bitnami-redis.yaml','FpMGm':function(_0x2cfeee,_0xb71250,_0x292147){return _0x2cfeee(_0xb71250,_0x292147);},'HTADj':_0x35481a(0x249),'YmrYy':_0x35481a(0x34c),'HVDfn':_0x35481a(0x312),'eBanU':_0x35481a(0x2bb),'SYimD':'Adding\x20Turboscale\x20Uploader\x20deployment...','nUNLH':_0x35481a(0x2cc),'zQFOl':function(_0x5ec795,_0x47fd97,_0x46e55f){return _0x5ec795(_0x47fd97,_0x46e55f);},'BGCJe':_0x35481a(0x280),'bMQnD':_0x35481a(0x2b0),'Pqyjy':_0x35481a(0x274),'VpEGw':'3|1|2|0|4','OXGLk':_0x35481a(0x1f5),'Reyyf':function(_0x50528d,_0x68d14d){return _0x50528d(_0x68d14d);},'gLSLY':_0x35481a(0x1f2),'EwlVm':'Browserstack','eEaQJ':_0x35481a(0x2de),'SFkow':_0x35481a(0x34e),'fIlsX':_0x35481a(0x272),'EUxhU':_0x35481a(0x2aa),'WnhMm':function(_0x57d614,_0x209a6a){return _0x57d614===_0x209a6a;},'FYuVZ':function(_0x69e255,_0xa091f7,_0xe4faac,_0x5ded85,_0x225b72,_0xd7be96,_0x5e5ce1,_0x38d21c,_0x12f946,_0x3f1e30,_0x194a1d){return _0x69e255(_0xa091f7,_0xe4faac,_0x5ded85,_0x225b72,_0xd7be96,_0x5e5ce1,_0x38d21c,_0x12f946,_0x3f1e30,_0x194a1d);},'EjoTN':_0x35481a(0x1ca),'MlJmc':_0x35481a(0x1fa),'pMImP':function(_0xf0ade8,_0x292a62,_0x53f74f,_0x23b1f3,_0x4ce09f){return _0xf0ade8(_0x292a62,_0x53f74f,_0x23b1f3,_0x4ce09f);},'cXTgW':_0x35481a(0x293),'NIffG':_0x35481a(0x29f),'IxdOm':_0x35481a(0x2b4),'UpavR':function(_0x5dc574,_0x548f11){return _0x5dc574===_0x548f11;},'pfJoe':'get\x20grid\x20url\x20from\x20the\x20server.\x20Unknown\x20error!','VtgPW':_0x35481a(0x35d),'lGNIh':function(_0x2d760c,_0xbb447d){return _0x2d760c===_0xbb447d;},'YQXrK':_0x35481a(0x224),'TXpDy':'get-grid-url-auth-failed','fFefk':_0x35481a(0x348),'KxSBq':function(_0x134f06,_0x43a038){return _0x134f06===_0x43a038;},'rIRNS':_0x35481a(0x35a),'ELkzB':function(_0x4075eb,_0x2a38d2,_0x24ec43,_0x4ef7c9,_0x4ab83c,_0x185d86){return _0x4075eb(_0x2a38d2,_0x24ec43,_0x4ef7c9,_0x4ab83c,_0x185d86);},'RoIgX':_0x35481a(0x354)};let _0x51a03f=![],_0x3424e3=![],_0x21de31,_0x5c88b7,_0x375d4f,_0x42c56a,_0x38fbbf,_0x412d01,_0x5ec3b2,_0x19e05a,_0x2d23cb,_0x306858,_0x11c022,_0x28fdf6,_0x3609bf,_0x2f45ad,_0x1d2f24=0x1,_0x17cc09=0xe;try{global_registry[_0x35481a(0x1e5)]=_0x5784a7['XqMdx'](uuidv4),global_registry[_0x35481a(0x34a)]=![];!fs[_0x35481a(0x1f9)](_0x5784a7[_0x35481a(0x21c)](getCredentialsPath))&&(_0x5784a7[_0x35481a(0x2f0)](_0x5784a7['HXlmK'],_0x5784a7[_0x35481a(0x337)])?(console[_0x35481a(0x2bc)](_0x5784a7[_0x35481a(0x31a)]),await _0x5784a7[_0x35481a(0x26a)](sendInstrumentationEvent,_0x541a28,_0x5784a7[_0x35481a(0x382)],messageTypes[_0x35481a(0x2c3)],_0x5784a7[_0x35481a(0x2b8)],null,_0x541a28),process[_0x35481a(0x34b)](0x1)):_0x358d2a[_0x35481a(0x270)]('Found\x20Subnets:\x20'+_0x1e1b94[_0x35481a(0x379)](_0x4eaf92)+'\x20'));await _0x5784a7[_0x35481a(0x302)](sendInstrumentationEvent,_0x541a28,_0x5784a7[_0x35481a(0x382)],messageTypes[_0x35481a(0x213)],null,null,_0x541a28);const _0x53c00d=JSON['parse'](fs['readFileSync'](_0x5784a7[_0x35481a(0x246)](getCredentialsPath)));global_registry['bstackUsername']=_0x53c00d[_0x35481a(0x23b)][_0x35481a(0x20a)],global_registry[_0x35481a(0x31b)]=_0x53c00d[_0x35481a(0x23b)][_0x35481a(0x386)];const _0x57be48=WS_ENDPOINT[_0x35481a(0x2f1)](_0x5784a7['jFUTJ'],_0x53c00d[_0x35481a(0x23b)][_0x35481a(0x20a)])[_0x35481a(0x2f1)](_0x5784a7[_0x35481a(0x31d)],_0x53c00d[_0x35481a(0x23b)][_0x35481a(0x386)]),_0x3d2e11={};_0x3d2e11[_0x35481a(0x1dd)]=ws,_0x3d2e11['connectionTimeout']=0x36ee80,_0x28fdf6=new ReconnectingWebSocket(_0x57be48,[],_0x3d2e11),logger[_0x35481a(0x24e)](_0x5784a7['Ysabp']),webSocketUtils[_0x35481a(0x208)](_0x28fdf6,_0x541a28[_0x35481a(0x319)],_0x541a28[_0x35481a(0x386)]);const _0x1550c5=_0x541a28[_0x35481a(0x2a4)]||DEFAULT_GRID_NAME;if(_0x541a28[_0x35481a(0x346)]||_0x541a28[_0x35481a(0x365)]||_0x541a28[_0x35481a(0x275)]){if(_0x5784a7['yJZtu'](_0x5784a7[_0x35481a(0x282)],_0x5784a7['aXkIg'])){if(!(_0x541a28[_0x35481a(0x346)]&&_0x541a28[_0x35481a(0x365)]&&_0x541a28[_0x35481a(0x275)])){if(_0x5784a7[_0x35481a(0x21a)](_0x5784a7['gDybW'],_0x5784a7['FTjjZ']))throw new _0x5ad4f0(_0x35481a(0x220)+_0x240ca4+_0x35481a(0x2d3));else _0x21de31=_0x5784a7[_0x35481a(0x1d7)],await _0x5784a7[_0x35481a(0x2d4)](reportToGalactusAndSendToEDS,_0x541a28,_0x28fdf6,_0x21de31,messageTypes['ERROR'],_0x5784a7[_0x35481a(0x382)],_0x5784a7[_0x35481a(0x1f1)],_0x5784a7[_0x35481a(0x2cf)]),logger['error'](_0x21de31),process[_0x35481a(0x34b)](0x1);}if(![AWS,AZURE,GCP][_0x35481a(0x345)](_0x541a28[_0x35481a(0x365)]['toLowerCase']())){if(_0x5784a7[_0x35481a(0x375)](_0x5784a7[_0x35481a(0x1ee)],_0x5784a7['jOVFH'])){const _0x3625e8=_0x5784a7['sDJVf'][_0x35481a(0x1ce)]('|');let _0x5cf2c7=0x0;while(!![]){switch(_0x3625e8[_0x5cf2c7++]){case'0':_0x16cc5e=_0x54b918[_0x35481a(0x225)];continue;case'1':_0x3bb414=_0x36c276['s3bucket'];continue;case'2':_0x5784a7[_0x35481a(0x1d4)](_0x11583e,_0x3a74af,_0x2cf19d,_0x373e17,_0x587ab0,_0x2cf623,_0x14e497,_0x1821af,_0x28f1bd,_0x92109f,_0x3f6896,_0x3e176d,_0x3e2f52[_0x35481a(0x233)]);continue;case'3':_0x29da43=_0x287cfb[_0x35481a(0x2dd)];continue;case'4':_0x4405d3['info'](_0x23af60);continue;case'5':_0x33f659=_0x4d0289[_0x35481a(0x253)];continue;case'6':_0x15aa6e[_0x35481a(0x1c6)]&&_0x5784a7['YzQZu'](_0x936d71,_0x58cebe['kafkaUploader']);continue;case'7':_0x5034e7=null;continue;case'8':_0x3e525d=_0x5ac75c[_0x35481a(0x2f4)];continue;case'9':_0x5784a7['Vpnvw'](_0x377200[_0x35481a(0x27e)],_0x18fff8)&&_0x52dcc7[_0x35481a(0x27e)]&&(_0x3d6d36[_0x35481a(0x34a)]=!![]);continue;case'10':_0x55877f=_0x35481a(0x2e2)+_0x28d8a5;continue;case'11':_0xa0643e=null;continue;case'12':_0xac87ea=_0x373f49[_0x35481a(0x2ce)];continue;case'13':const _0x139535={};_0x139535[_0x35481a(0x25d)]=_0x36eb4d['LOG'],_0x139535[_0x35481a(0x22d)]=_0x826257,_0x9bd0ac[_0x35481a(0x310)](_0x4edb20,_0x139535);continue;case'14':_0xfe5b9c=null;continue;case'15':_0x5639d6=_0x5340aa[_0x35481a(0x242)];continue;}break;}}else _0x21de31=_0x5784a7[_0x35481a(0x1f6)],await _0x5784a7[_0x35481a(0x2d4)](reportToGalactusAndSendToEDS,_0x541a28,_0x28fdf6,_0x21de31,messageTypes['ERROR'],_0x5784a7[_0x35481a(0x382)],_0x5784a7[_0x35481a(0x2a6)],_0x5784a7[_0x35481a(0x2cf)]),logger[_0x35481a(0x2bc)](_0x21de31),process[_0x35481a(0x34b)](0x1);}_0x541a28[_0x35481a(0x27e)]&&_0x5784a7[_0x35481a(0x21a)](_0x541a28[_0x35481a(0x27e)][_0x35481a(0x201)](),_0x5784a7[_0x35481a(0x303)])&&(_0x5784a7[_0x35481a(0x21a)](_0x5784a7[_0x35481a(0x2d5)],_0x5784a7[_0x35481a(0x2e1)])?_0x5784a7[_0x35481a(0x265)](_0x41fba0,_0x4e2b08[_0x35481a(0x204)]):global_registry[_0x35481a(0x34a)]=!![]);global_registry[_0x35481a(0x365)]=_0x541a28[_0x35481a(0x365)],global_registry[_0x35481a(0x259)]=_0x541a28[_0x35481a(0x275)],global_registry[_0x35481a(0x346)]=_0x541a28[_0x35481a(0x346)];const _0x490c3a=await _0x5784a7[_0x35481a(0x329)](getCloudProviderObject,_0x541a28['cloudProvider'],_0x541a28[_0x35481a(0x346)],_0x1550c5,_0x28fdf6,webSocketUtils,_0x541a28),_0x2145a7=await _0x490c3a[_0x35481a(0x344)]();!_0x2145a7?_0x5784a7[_0x35481a(0x269)](_0x5784a7['uKFED'],_0x5784a7[_0x35481a(0x36a)])?_0x54748d[_0x35481a(0x2bc)]('Failed\x20to\x20delete\x20the\x20CloudFormation\x20Stacks\x20and\x20other\x20spawned\x20components.\x20Error:\x20\x20'+_0x4ed994+'\x20\x0a'+_0x24781f[_0x35481a(0x379)](_0x1dbe50[_0x35481a(0x22b)])):(logger[_0x35481a(0x270)](_0x35481a(0x33e)+_0x541a28[_0x35481a(0x346)]+_0x35481a(0x2c2)),_0x51a03f=![],_0x3424e3=!![]):_0x5784a7[_0x35481a(0x37e)](_0x5784a7[_0x35481a(0x28d)],_0x5784a7[_0x35481a(0x2a5)])?_0x51a03f=!![]:_0x13763e=null,_0x375d4f=_0x541a28[_0x35481a(0x346)],_0x5c88b7=_0x541a28[_0x35481a(0x365)][_0x35481a(0x201)](),_0x42c56a=_0x541a28[_0x35481a(0x275)];}else _0x12d1c7[_0x35481a(0x270)]('Found\x20VPC:\x20'+_0x2ce65e+'\x20');}else _0x541a28['gridProfile']&&(_0x5784a7['yJZtu'](_0x5784a7['HnGdX'],_0x5784a7[_0x35481a(0x2b9)])?global_registry['gridProfile']=_0x541a28[_0x35481a(0x321)]:(_0x810dfb[_0x35481a(0x275)]=_0xa1644b,_0x23b658['cloudProvider']=_0x14cbbb,_0x16ded4[_0x35481a(0x32b)]=!![],_0x1533a6[_0x35481a(0x260)]=_0x279dc9['clusterAutoupgrade']));global_registry[_0x35481a(0x2a4)]=_0x541a28['gridName'];const _0x545c56={'method':_0x5784a7[_0x35481a(0x35c)],'headers':_0x5784a7[_0x35481a(0x230)](getAuthHeader,_0x53c00d[_0x35481a(0x23b)][_0x35481a(0x20a)],_0x53c00d['Browserstack'][_0x35481a(0x386)]),'throwHttpErrors':![]},_0x37448c={};_0x37448c['gridName']=_0x1550c5;const _0x5477af=_0x37448c;_0x3424e3&&(_0x5784a7[_0x35481a(0x2ee)](_0x5784a7[_0x35481a(0x25b)],_0x5784a7[_0x35481a(0x1df)])?(_0x5477af[_0x35481a(0x275)]=_0x42c56a,_0x5477af[_0x35481a(0x365)]=_0x5c88b7,_0x5477af['newCluster']=!![],_0x5477af[_0x35481a(0x260)]=_0x541a28[_0x35481a(0x233)]):_0x25343e['isPrivateGrid']=!![]);if(_0x541a28['clusterAutoupgrade']){if(_0x5784a7[_0x35481a(0x375)](_0x5784a7[_0x35481a(0x20b)],_0x5784a7['yRXqy'])){const _0x210eba={'azure.workload.identity/use':_0x5784a7[_0x35481a(0x303)],..._0x24b7d0[0x0][_0x35481a(0x313)][_0x35481a(0x290)]['metadata']['labels']};_0xacaa44[0x0][_0x35481a(0x313)][_0x35481a(0x290)][_0x35481a(0x27a)][_0x35481a(0x2f5)]=_0x210eba,_0x914ca4[0x0][_0x35481a(0x313)][_0x35481a(0x290)][_0x35481a(0x313)][_0x35481a(0x2e6)]=_0x5784a7[_0x35481a(0x23e)];}else logger[_0x35481a(0x270)](_0x5784a7[_0x35481a(0x327)]);}const _0x4258d6=_0x35481a(0x30d)+AG_API_URL+'/packages/cli/create-grid-checks',_0x126e09={'searchParams':_0x5477af,'throwHttpErrors':![],..._0x545c56},_0x5c912a=_0x126e09,_0x4c2a9e=await _0x5784a7[_0x35481a(0x2d2)](got,_0x4258d6,_0x5c912a);if(_0x5784a7[_0x35481a(0x243)](_0x4c2a9e,null)||_0x5784a7[_0x35481a(0x271)](_0x4c2a9e,undefined)){if(_0x5784a7[_0x35481a(0x332)](_0x5784a7['Idovh'],_0x5784a7[_0x35481a(0x37c)]))_0x21de31=_0x5784a7[_0x35481a(0x262)],await _0x5784a7[_0x35481a(0x2d4)](reportToGalactusAndSendToEDS,_0x541a28,_0x28fdf6,_0x21de31,messageTypes[_0x35481a(0x2c3)],_0x5784a7[_0x35481a(0x382)],_0x5784a7[_0x35481a(0x2b3)],_0x5784a7[_0x35481a(0x2cf)]),logger[_0x35481a(0x2bc)](_0x21de31),process[_0x35481a(0x34b)](0x1);else{const _0x1ac50a=_0x5784a7[_0x35481a(0x36d)][_0x35481a(0x1ce)]('|');let _0x6d6452=0x0;while(!![]){switch(_0x1ac50a[_0x6d6452++]){case'0':_0x5164a5['enableHubHa']=!![];continue;case'1':_0x3a05ac['kafkaPassword']=_0x5784a7['JlXZc'];continue;case'2':_0x3afd89[_0x35481a(0x270)](_0x5784a7[_0x35481a(0x2f8)]);continue;case'3':_0x34dad6['redisPassword']=_0x5784a7[_0x35481a(0x335)];continue;case'4':_0x186502[_0x35481a(0x372)]=_0x5784a7[_0x35481a(0x283)];continue;}break;}}}_0x5784a7[_0x35481a(0x22c)](_0x4c2a9e[_0x35481a(0x342)],0x191)&&(_0x5784a7[_0x35481a(0x2df)](_0x5784a7[_0x35481a(0x381)],_0x5784a7['Mlytc'])?(_0x21de31=_0x5784a7[_0x35481a(0x33b)],await _0x5784a7[_0x35481a(0x2d4)](reportToGalactusAndSendToEDS,_0x541a28,_0x28fdf6,_0x21de31,messageTypes[_0x35481a(0x2c3)],_0x5784a7[_0x35481a(0x382)],_0x5784a7[_0x35481a(0x2cb)],_0x5784a7[_0x35481a(0x2cf)]),logger[_0x35481a(0x2bc)](_0x21de31),process['exit'](0x1)):_0x51a224[_0x35481a(0x270)](_0x5784a7[_0x35481a(0x327)]));if(_0x5784a7[_0x35481a(0x375)](_0x4c2a9e[_0x35481a(0x342)],0xc8)){if(_0x5784a7['wXoou'](_0x5784a7['FnHlU'],_0x5784a7[_0x35481a(0x317)])){const _0x98f266={};_0x98f266[_0x35481a(0x25d)]=_0x1f7643[_0x35481a(0x305)],_0x98f266[_0x35481a(0x22d)]=_0x35481a(0x220)+_0x513613+_0x35481a(0x29b),_0x5a07a9[_0x35481a(0x310)](_0x3eb3ef,_0x98f266,_0x5784a7[_0x35481a(0x333)]),_0x3c6572[_0x35481a(0x270)](_0x35481a(0x220)+_0x52366e+_0x35481a(0x29b)),_0x339fd8=!![];if(_0x5784a7[_0x35481a(0x21a)](_0x4e56cb,!![]))throw new _0x5caba5('Cluster\x20'+_0x300b90+_0x35481a(0x2d3));}else _0x21de31='Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Non\x20200\x20response\x20from\x20server!\x20'+JSON[_0x35481a(0x379)](_0x4c2a9e[_0x35481a(0x1fc)]),await _0x5784a7['ReqKz'](reportToGalactusAndSendToEDS,_0x541a28,_0x28fdf6,_0x21de31,messageTypes['ERROR'],_0x5784a7[_0x35481a(0x382)],_0x5784a7[_0x35481a(0x261)],_0x5784a7[_0x35481a(0x2cf)]),logger[_0x35481a(0x2bc)](_0x21de31),process[_0x35481a(0x34b)](0x1);}const _0x37fc1d=JSON[_0x35481a(0x336)](_0x4c2a9e[_0x35481a(0x1fc)]),_0x38a455={};_0x38a455[_0x35481a(0x25d)]=WS_EVENTS[_0x35481a(0x360)],_0x38a455[_0x35481a(0x22d)]=_0x5784a7[_0x35481a(0x211)],webSocketUtils[_0x35481a(0x310)](_0x28fdf6,_0x38a455);const _0x33446a={};_0x33446a[_0x35481a(0x25d)]=WS_EVENTS['LOG'],_0x33446a['message']=_0x5784a7[_0x35481a(0x2ca)],webSocketUtils[_0x35481a(0x310)](_0x28fdf6,_0x33446a);_0x37fc1d[_0x35481a(0x1d6)]&&(_0x5784a7[_0x35481a(0x2bf)](_0x5784a7[_0x35481a(0x2ed)],_0x5784a7[_0x35481a(0x216)])?(_0x1b960e=_0x5b4729[_0x35481a(0x279)],_0x2f625d=_0x5784a7[_0x35481a(0x341)]):(_0x21de31='An\x20Automation\x20Grid\x20already\x20exists\x20with\x20grid\x20name\x20'+_0x1550c5+_0x35481a(0x23d),await _0x5784a7[_0x35481a(0x2d4)](reportToGalactusAndSendToEDS,_0x541a28,_0x28fdf6,_0x21de31,messageTypes[_0x35481a(0x2c3)],_0x5784a7['TvoFn'],_0x5784a7[_0x35481a(0x311)],_0x5784a7[_0x35481a(0x2cf)]),logger[_0x35481a(0x2bc)](_0x21de31),process[_0x35481a(0x34b)](0x1)));const _0x1f1777=_0x37fc1d[_0x35481a(0x1f3)];let _0x37efb7=_0x1f1777[_0x37fc1d[_0x35481a(0x221)]];_0x541a28[_0x35481a(0x321)]&&(_0x5784a7[_0x35481a(0x37e)](_0x5784a7['djOqI'],_0x5784a7[_0x35481a(0x1c3)])?_0x37efb7=_0x1f1777[_0x541a28[_0x35481a(0x321)]]:_0x1bbe8f=!![]);global_registry[_0x35481a(0x1c6)]=![];if(_0x541a28[_0x35481a(0x238)]){if(_0x5784a7[_0x35481a(0x269)](_0x5784a7[_0x35481a(0x377)],_0x5784a7['jkQeQ']))_0x1acc5b=_0x5784a7['ksISY'];else{const _0x5e41ec=_0x5784a7[_0x35481a(0x31e)][_0x35481a(0x1ce)]('|');let _0x2b92ce=0x0;while(!![]){switch(_0x5e41ec[_0x2b92ce++]){case'0':global_registry[_0x35481a(0x372)]=_0x5784a7['syOTO'];continue;case'1':global_registry['enableHubHa']=!![];continue;case'2':global_registry[_0x35481a(0x20e)]=_0x5784a7['eiZGz'];continue;case'3':logger[_0x35481a(0x270)](_0x5784a7[_0x35481a(0x2f8)]);continue;case'4':global_registry[_0x35481a(0x257)]=_0x5784a7[_0x35481a(0x24c)];continue;}break;}}}if(_0x5784a7[_0x35481a(0x22c)](_0x51a03f,![])&&_0x5784a7[_0x35481a(0x271)](_0x3424e3,![])){if(_0x5784a7[_0x35481a(0x28e)](_0x5784a7[_0x35481a(0x2ec)],_0x5784a7[_0x35481a(0x338)]))_0x3095e3[_0x35481a(0x34a)]=!![];else{_0x5784a7[_0x35481a(0x28e)](_0x37efb7,undefined)&&(_0x5784a7[_0x35481a(0x251)](_0x5784a7['XsQfE'],_0x5784a7[_0x35481a(0x2e0)])?(_0x21de31=_0x5784a7['uzmlm'],await _0x5784a7['ReqKz'](reportToGalactusAndSendToEDS,_0x541a28,_0x28fdf6,_0x21de31,messageTypes[_0x35481a(0x2c3)],_0x5784a7[_0x35481a(0x382)],_0x5784a7[_0x35481a(0x2c1)],_0x5784a7[_0x35481a(0x2cf)]),logger[_0x35481a(0x2bc)](_0x21de31),process['exit'](0x1)):_0xdbaf87[_0x35481a(0x34a)]=!![]);global_registry[_0x35481a(0x370)]=_0x37efb7['id'],_0x21de31=_0x35481a(0x215)+_0x1550c5+_0x35481a(0x1ed)+_0x37efb7[_0x35481a(0x227)]+_0x35481a(0x1c7),logger['info'](_0x21de31);const _0xec4e0d={};_0xec4e0d[_0x35481a(0x25d)]=WS_EVENTS[_0x35481a(0x305)],_0xec4e0d['message']=_0x21de31,webSocketUtils['sendEventToBackend'](_0x28fdf6,_0xec4e0d),_0x5c88b7=_0x37efb7['cloudProvider'],_0x375d4f=_0x37efb7[_0x35481a(0x346)],_0x42c56a=_0x37efb7['region'],_0x38fbbf=_0x37efb7['concurrency'],_0x412d01=_0x37efb7[_0x35481a(0x225)],_0x5ec3b2=_0x37efb7[_0x35481a(0x236)],_0x19e05a=_0x37efb7[_0x35481a(0x1da)],_0x2d23cb=_0x37efb7['subnets'],_0x306858=_0x37efb7['s3bucket'],_0x1d2f24=_0x37efb7[_0x35481a(0x253)],_0x17cc09=_0x37efb7[_0x35481a(0x2ce)],_0x3609bf=_0x37fc1d[_0x35481a(0x242)],_0x2f45ad=_0x37fc1d[_0x35481a(0x2f4)];if(_0x5ec3b2&&_0x5784a7[_0x35481a(0x231)](_0x5ec3b2[_0x35481a(0x2ef)],0x0)){if(_0x5784a7['fmdhi'](_0x5784a7[_0x35481a(0x2d9)],_0x5784a7['tLPHt'])){const _0x3c1246=_0x5784a7[_0x35481a(0x2a3)][_0x35481a(0x1ce)]('|');let _0x19bc1b=0x0;while(!![]){switch(_0x3c1246[_0x19bc1b++]){case'0':_0x43d460[_0x35481a(0x242)]=_0x36b176['hubVersion'];continue;case'1':_0x41c793[_0x35481a(0x2f4)]=_0xf00cff[_0x35481a(0x2f4)];continue;case'2':_0x16ea0a[_0x35481a(0x270)](_0x632462);continue;case'3':const _0x10a92f={};_0x10a92f[_0x35481a(0x25d)]=_0x231398[_0x35481a(0x305)],_0x10a92f['message']=_0x53eec6,_0x171bb6[_0x35481a(0x310)](_0xd9cdf0,_0x10a92f);continue;case'4':const _0x40ee8e={};_0x40ee8e[_0x35481a(0x25d)]=_0x3d9936['CLI_RUN_STARTED'],_0x40ee8e[_0x35481a(0x22d)]=_0x5784a7[_0x35481a(0x211)],_0x36545a['sendEventToBackend'](_0x46a51d,_0x40ee8e);continue;case'5':_0x5624e5[_0x35481a(0x259)]=_0x28fc4e;continue;case'6':_0x3a7718['cloudProvider']=_0x4d47bf;continue;case'7':_0x56b2c7[_0x35481a(0x346)]=_0x2fb5c9;continue;case'8':_0x11ddc0=_0x35481a(0x285)+_0x2a5660+_0x35481a(0x2ff)+_0x180493+'\x27';continue;}break;}}else _0x5ec3b2=null;}_0x2d23cb&&_0x5784a7[_0x35481a(0x240)](_0x2d23cb['length'],0x0)&&(_0x5784a7[_0x35481a(0x231)](_0x5784a7[_0x35481a(0x32e)],_0x5784a7[_0x35481a(0x23f)])?_0x498d0e=_0x1dae5e[_0x170bb4['gridProfile']]:_0x2d23cb=null),_0x5784a7[_0x35481a(0x307)](_0x37efb7['privateGrid'],undefined)&&_0x37efb7[_0x35481a(0x27e)]&&(_0x5784a7[_0x35481a(0x2bf)](_0x5784a7[_0x35481a(0x355)],_0x5784a7[_0x35481a(0x355)])?global_registry[_0x35481a(0x34a)]=!![]:_0x4a9a93=_0x5784a7[_0x35481a(0x334)]),_0x5784a7[_0x35481a(0x1d4)](updateGlobalRegistryWithConfig,_0x5c88b7,_0x375d4f,_0x42c56a,_0x38fbbf,_0x412d01,_0x306858,_0x37efb7,_0x3609bf,_0x2f45ad,_0x1d2f24,_0x17cc09,_0x541a28['clusterAutoupgrade']),global_registry['enableHubHa']&&(_0x5784a7['OzWRz'](_0x5784a7['YyRRD'],_0x5784a7[_0x35481a(0x28a)])?_0x224cba=_0x5784a7[_0x35481a(0x20d)]:_0x5784a7['oXAlq'](updateGlobalRegistryForHubHa,_0x37fc1d[_0x35481a(0x204)]));}}else{if(_0x5784a7[_0x35481a(0x226)](_0x3424e3,!![])){if(_0x5784a7['QRdvc'](_0x5784a7[_0x35481a(0x1ef)],_0x5784a7[_0x35481a(0x1ef)]))_0x5784a7[_0x35481a(0x380)](_0x336222,_0x384dfc[_0x35481a(0x1d0)]);else{_0x21de31='Will\x20be\x20spawning\x20a\x20new\x20cluster\x20and\x20the\x20grid\x20'+_0x1550c5,logger[_0x35481a(0x270)](_0x21de31);const _0x2d8004={};_0x2d8004['type']=WS_EVENTS[_0x35481a(0x305)],_0x2d8004[_0x35481a(0x22d)]=_0x21de31,webSocketUtils[_0x35481a(0x310)](_0x28fdf6,_0x2d8004),_0x38fbbf=_0x37efb7[_0x35481a(0x2dd)],_0x412d01=_0x37efb7[_0x35481a(0x225)],_0x5ec3b2=null,_0x19e05a=null,_0x2d23cb=null,_0x306858=_0x37efb7[_0x35481a(0x2af)],_0x1d2f24=_0x37efb7[_0x35481a(0x253)],_0x17cc09=_0x37efb7[_0x35481a(0x2ce)],_0x3609bf=_0x37fc1d[_0x35481a(0x242)],_0x2f45ad=_0x37fc1d[_0x35481a(0x2f4)];_0x5784a7[_0x35481a(0x307)](_0x37efb7[_0x35481a(0x27e)],undefined)&&_0x37efb7[_0x35481a(0x27e)]&&(_0x5784a7['Nidru'](_0x5784a7[_0x35481a(0x1fe)],_0x5784a7[_0x35481a(0x1e7)])?global_registry[_0x35481a(0x34a)]=!![]:(_0x4b9bbf['info'](_0x35481a(0x33e)+_0x1f48cc['clusterName']+_0x35481a(0x2c2)),_0x4d8a30=![],_0x5e1dd9=!![]));_0x5784a7[_0x35481a(0x1d4)](updateGlobalRegistryWithConfig,_0x5c88b7,_0x375d4f,_0x42c56a,_0x38fbbf,_0x412d01,_0x306858,_0x37efb7,_0x3609bf,_0x2f45ad,_0x1d2f24,_0x17cc09,_0x541a28[_0x35481a(0x233)]);if(global_registry[_0x35481a(0x1c6)]){if(_0x5784a7[_0x35481a(0x223)](_0x5784a7[_0x35481a(0x1f4)],_0x5784a7['gvTVt']))_0x5784a7['LmFJA'](updateGlobalRegistryForHubHa,_0x37fc1d['kafkaUploader']);else{const _0x1567d2={};_0x1567d2[_0x35481a(0x25d)]=_0x216669['LOG'],_0x1567d2[_0x35481a(0x22d)]=_0x54b88a,_0x4b1a55[_0x35481a(0x310)](_0x36064b,_0x1567d2,_0x5784a7[_0x35481a(0x2cf)],!![]);}}}}else{if(_0x5784a7[_0x35481a(0x2f0)](_0x5784a7[_0x35481a(0x1cb)],_0x5784a7[_0x35481a(0x1cb)])){const _0x104986={};_0x104986[_0x35481a(0x200)]=_0x5784a7[_0x35481a(0x28c)],_0x104986[_0x35481a(0x25d)]=_0x5784a7[_0x35481a(0x289)];const _0x52a2fa={};_0x52a2fa[_0x35481a(0x200)]=_0x5784a7[_0x35481a(0x1d1)],_0x52a2fa['type']=_0x5784a7[_0x35481a(0x289)];const _0x20019d={};_0x20019d[_0x35481a(0x200)]=_0x5784a7[_0x35481a(0x284)],_0x20019d[_0x35481a(0x25d)]=_0x5784a7[_0x35481a(0x289)];const _0x1232db={};_0x1232db[_0x35481a(0x200)]=_0x5784a7[_0x35481a(0x2f2)],_0x1232db[_0x35481a(0x25d)]=_0x5784a7['rfNsW'];const _0x84b74a={};_0x84b74a[_0x35481a(0x200)]=_0x5784a7[_0x35481a(0x2b1)],_0x84b74a[_0x35481a(0x25d)]=_0x5784a7['rfNsW'];const _0x4dd9dd={};_0x4dd9dd[_0x35481a(0x200)]=_0x5784a7[_0x35481a(0x1c9)],_0x4dd9dd[_0x35481a(0x25d)]=_0x5784a7[_0x35481a(0x289)];const _0x5b9724={};_0x5b9724[_0x35481a(0x200)]=_0x5784a7[_0x35481a(0x22f)],_0x5b9724[_0x35481a(0x25d)]=_0x5784a7[_0x35481a(0x254)],_0x5b9724[_0x35481a(0x2c9)]=![];const _0x2626e0={};_0x2626e0[_0x35481a(0x200)]=_0x5784a7[_0x35481a(0x318)],_0x2626e0[_0x35481a(0x25d)]=_0x5784a7[_0x35481a(0x254)],_0x2626e0[_0x35481a(0x2c9)]=![];const _0x95fb4f={};_0x95fb4f[_0x35481a(0x200)]=_0x5784a7['bOPuM'],_0x95fb4f[_0x35481a(0x25d)]=_0x5784a7['CBWAF'],_0x95fb4f[_0x35481a(0x2c9)]=![];const _0x326b3e={};return _0x326b3e['grid-name']=_0x104986,_0x326b3e['grid-profile']=_0x52a2fa,_0x326b3e[_0x35481a(0x232)]=_0x20019d,_0x326b3e[_0x35481a(0x286)]=_0x1232db,_0x326b3e['region']=_0x84b74a,_0x326b3e[_0x35481a(0x247)]=_0x4dd9dd,_0x326b3e['skip-tls-cert-verify']=_0x5b9724,_0x326b3e[_0x35481a(0x308)]=_0x2626e0,_0x326b3e[_0x35481a(0x30c)]=_0x95fb4f,_0xea2046[_0x35481a(0x2d7)](_0x5e7bed[_0x35481a(0x278)])[_0x35481a(0x2c7)](_0x444743)['options'](_0x326b3e)[_0x35481a(0x35b)](_0x5784a7[_0x35481a(0x2db)])[_0x35481a(0x25f)];}else{const _0x4f03e0=_0x5784a7[_0x35481a(0x301)][_0x35481a(0x1ce)]('|');let _0x307b7d=0x0;while(!![]){switch(_0x4f03e0[_0x307b7d++]){case'0':_0x21de31=_0x35481a(0x285)+_0x1550c5+_0x35481a(0x2ff)+_0x375d4f+'\x27';continue;case'1':const _0x2d6b8c={};_0x2d6b8c['type']=WS_EVENTS['CLI_RUN_STARTED'],_0x2d6b8c[_0x35481a(0x22d)]=_0x5784a7[_0x35481a(0x211)],webSocketUtils[_0x35481a(0x310)](_0x28fdf6,_0x2d6b8c);continue;case'2':global_registry['hubVersion']=_0x37fc1d[_0x35481a(0x242)];continue;case'3':global_registry[_0x35481a(0x346)]=_0x375d4f;continue;case'4':global_registry[_0x35481a(0x365)]=_0x5c88b7;continue;case'5':global_registry['browserVersion']=_0x37fc1d[_0x35481a(0x2f4)];continue;case'6':logger[_0x35481a(0x270)](_0x21de31);continue;case'7':const _0xc4cb65={};_0xc4cb65[_0x35481a(0x25d)]=WS_EVENTS[_0x35481a(0x305)],_0xc4cb65['message']=_0x21de31,webSocketUtils['sendEventToBackend'](_0x28fdf6,_0xc4cb65);continue;case'8':global_registry[_0x35481a(0x259)]=_0x42c56a;continue;}break;}}}}const _0xeaea68=await _0x5784a7[_0x35481a(0x25e)](getCloudProviderObject,_0x5c88b7,_0x375d4f,_0x1550c5,_0x28fdf6,webSocketUtils,_0x541a28);_0x5784a7[_0x35481a(0x269)](_0x5c88b7,AZURE)&&(_0x5784a7[_0x35481a(0x359)](_0x5784a7['iasRU'],_0x5784a7[_0x35481a(0x356)])?_0xeaea68[_0x35481a(0x35f)]():_0x11b160['gridProfile']=_0x272396[_0x35481a(0x321)]);let _0x22216a;if(_0x5784a7[_0x35481a(0x353)](_0x51a03f,![])){_0x21de31=_0x35481a(0x209)+_0x42c56a+').';const _0x5d170b={};_0x5d170b[_0x35481a(0x25d)]=WS_EVENTS['LOG'],_0x5d170b['message']=_0x21de31,webSocketUtils[_0x35481a(0x310)](_0x28fdf6,_0x5d170b),logger[_0x35481a(0x270)](_0x21de31);const _0x1db9a7=await _0xeaea68[_0x35481a(0x344)]();if(_0x1db9a7){if(_0x5784a7[_0x35481a(0x2f0)](_0x5784a7[_0x35481a(0x36e)],_0x5784a7[_0x35481a(0x2c8)])){const _0x21daf2={};_0x21daf2[_0x35481a(0x25d)]=WS_EVENTS[_0x35481a(0x305)],_0x21daf2[_0x35481a(0x22d)]=_0x35481a(0x220)+_0x375d4f+_0x35481a(0x29b),webSocketUtils['sendEventToBackend'](_0x28fdf6,_0x21daf2,_0x5784a7[_0x35481a(0x333)]),logger[_0x35481a(0x270)](_0x35481a(0x220)+_0x375d4f+'\x20is\x20already\x20present.\x20Skipping\x20cluster\x20creation'),_0x51a03f=!![];if(_0x5784a7[_0x35481a(0x2bf)](_0x3424e3,!![])){if(_0x5784a7[_0x35481a(0x324)](_0x5784a7[_0x35481a(0x368)],_0x5784a7[_0x35481a(0x2c4)]))throw new Error('Cluster\x20'+_0x375d4f+'\x20is\x20already\x20present.\x20Cannot\x20spawn\x20a\x20new\x20cluster');else _0x5ceacb[_0x35481a(0x35f)]();}}else _0x4b6973=null;}else{const _0x4f9850={};_0x4f9850[_0x35481a(0x25d)]=WS_EVENTS[_0x35481a(0x305)],_0x4f9850[_0x35481a(0x22d)]=_0x5784a7[_0x35481a(0x2c5)],webSocketUtils[_0x35481a(0x310)](_0x28fdf6,_0x4f9850),logger[_0x35481a(0x270)](_0x5784a7[_0x35481a(0x2c5)]);const _0x2a08fd=_0x5784a7[_0x35481a(0x1e6)](_0x5ec3b2,null)&&_0x5784a7['bmPpj'](_0x5ec3b2,undefined),_0x96fcc=_0x5784a7[_0x35481a(0x1e6)](_0x2d23cb,null)&&_0x5784a7[_0x35481a(0x29d)](_0x2d23cb,undefined)&&_0x5784a7[_0x35481a(0x1d3)](_0x2d23cb[_0x35481a(0x2ef)],0x0);if(_0x2a08fd){_0x5784a7[_0x35481a(0x240)](_0x96fcc,![])&&(_0x21de31=_0x5784a7[_0x35481a(0x2da)],await _0x5784a7[_0x35481a(0x2d4)](reportToGalactusAndSendToEDS,_0x541a28,_0x28fdf6,_0x21de31,messageTypes[_0x35481a(0x2c3)],_0x5784a7['TvoFn'],_0x5784a7[_0x35481a(0x298)],_0x5784a7['LVkmw']),logger[_0x35481a(0x2bc)](_0x21de31),process['exit'](0x1));const _0x2ddc5a=await _0xeaea68[_0x35481a(0x331)](_0x5ec3b2);_0x5784a7[_0x35481a(0x243)](_0x2ddc5a,![])?(_0x21de31=_0x5784a7[_0x35481a(0x31f)],await _0x5784a7[_0x35481a(0x2d4)](reportToGalactusAndSendToEDS,_0x541a28,_0x28fdf6,_0x21de31,messageTypes[_0x35481a(0x2c3)],_0x5784a7[_0x35481a(0x382)],_0x5784a7[_0x35481a(0x1fd)],_0x5784a7[_0x35481a(0x2cf)]),logger[_0x35481a(0x2bc)](_0x21de31),process[_0x35481a(0x34b)](0x1)):logger[_0x35481a(0x270)](_0x35481a(0x315)+_0x5ec3b2+'\x20');const _0x50c24c=await _0xeaea68[_0x35481a(0x20c)](_0x2d23cb,_0x5ec3b2);_0x5784a7[_0x35481a(0x243)](_0x50c24c[0x0],![])?(_0x21de31=_0x35481a(0x314)+JSON[_0x35481a(0x379)](_0x50c24c[0x1])+_0x35481a(0x367)+_0x5ec3b2+_0x35481a(0x2a2),await _0x5784a7[_0x35481a(0x26c)](reportToGalactusAndSendToEDS,_0x541a28,_0x28fdf6,_0x21de31,messageTypes[_0x35481a(0x2c3)],_0x5784a7['TvoFn'],_0x5784a7[_0x35481a(0x323)],_0x5784a7[_0x35481a(0x2cf)]),logger['error'](_0x21de31),process[_0x35481a(0x34b)](0x1)):logger[_0x35481a(0x270)](_0x35481a(0x357)+JSON['stringify'](_0x2d23cb)+'\x20'),[_0x5ec3b2,_0x2d23cb]=await _0xeaea68['setupNewCluster'](_0x5ec3b2,_0x2d23cb);}else{const _0x12481e=_0x5784a7[_0x35481a(0x37a)]['split']('|');let _0x29d2dd=0x0;while(!![]){switch(_0x12481e[_0x29d2dd++]){case'0':const _0xc73656={};_0xc73656[_0x35481a(0x25d)]=WS_EVENTS[_0x35481a(0x305)],_0xc73656[_0x35481a(0x22d)]=_0x5784a7['BgcrF'],webSocketUtils[_0x35481a(0x310)](_0x28fdf6,_0xc73656);continue;case'1':[_0x5ec3b2,_0x2d23cb]=await _0xeaea68[_0x35481a(0x2e4)](_0x5ec3b2,_0x2d23cb);continue;case'2':const _0x4b6942={};_0x4b6942['type']=WS_EVENTS[_0x35481a(0x305)],_0x4b6942[_0x35481a(0x22d)]=_0x5784a7[_0x35481a(0x245)],webSocketUtils[_0x35481a(0x310)](_0x28fdf6,_0x4b6942);continue;case'3':logger[_0x35481a(0x270)](_0x5784a7[_0x35481a(0x245)]);continue;case'4':logger['info'](_0x5784a7[_0x35481a(0x363)]);continue;}break;}}}}_0x51a03f&&_0x5784a7[_0x35481a(0x21d)](_0x5c88b7,AZURE)&&(await _0xeaea68['updateClusterAlreadyPresent'](),await _0xeaea68[_0x35481a(0x26d)]());const [_0x4a3dba,_0x44aaa3,_0x3d0038,_0x33ba69,_0x16fe99,_0x42be5f,_0x30d6e7]=await _0x5784a7['niVDO'](createK8sClient,_0xeaea68,_0x541a28[_0x35481a(0x1c4)]);_0x5784a7['AXCjJ'](_0x51a03f,![])&&_0x5784a7['AoUGZ'](_0x5c88b7,AWS)&&(global_registry[_0x35481a(0x2d0)]=!![],_0x22216a=await _0xeaea68[_0x35481a(0x23c)](_0x4a3dba,_0x541a28));if(_0x5784a7['WFyvA'](_0x51a03f,![])&&global_registry['enableHubHa'])try{await _0xeaea68[_0x35481a(0x330)](_0x42be5f,_0x30d6e7,_0x541a28,_0x5ec3b2,_0x2d23cb);const _0x43c383={};_0x43c383['type']=WS_EVENTS['LOG'],_0x43c383['message']=_0x5784a7[_0x35481a(0x2ad)],webSocketUtils['sendEventToBackend'](_0x28fdf6,_0x43c383);!await _0x5784a7[_0x35481a(0x230)](namespaceExists,_0x4a3dba,global_registry[_0x35481a(0x372)])&&await _0x5784a7[_0x35481a(0x230)](createNamespace,_0x4a3dba,global_registry[_0x35481a(0x372)]);logger['info'](_0x5784a7['nyAJJ']);let _0x38a492=await fs[_0x35481a(0x1e4)](path[_0x35481a(0x374)](__dirname,_0x5784a7[_0x35481a(0x287)],_0x5784a7['LUVfo'],_0x5784a7['gVHvz'],_0x5784a7[_0x35481a(0x1e1)]),_0x5784a7[_0x35481a(0x2f3)]);_0x38a492=_0x38a492[_0x35481a(0x2f1)](/<RedisClientPassword>/g,_0x5784a7[_0x35481a(0x380)](encodeBase64,global_registry[_0x35481a(0x20e)])),_0x38a492=_0x38a492[_0x35481a(0x2f1)](/<KafkaClientPassword>/g,_0x5784a7[_0x35481a(0x1d5)](encodeBase64,global_registry['kafkaPassword'])),_0x38a492=_0x38a492[_0x35481a(0x2f1)](/<BstackUsername>/g,_0x5784a7[_0x35481a(0x37b)](encodeBase64,global_registry[_0x35481a(0x2d1)])),_0x38a492=_0x38a492[_0x35481a(0x2f1)](/<BstackAccessKey>/g,_0x5784a7['TwhMc'](encodeBase64,global_registry[_0x35481a(0x31b)]));const _0x58e81c=yaml[_0x35481a(0x20f)](_0x38a492);await _0x5784a7[_0x35481a(0x230)](kubeApply,_0x58e81c,_0x30d6e7),logger[_0x35481a(0x270)](_0x5784a7[_0x35481a(0x24a)]);let _0x25f183=_0x5784a7['KDdBA'];if(_0x5784a7[_0x35481a(0x251)](_0x5c88b7,AZURE))_0x25f183=_0x5784a7[_0x35481a(0x2be)];else _0x5784a7[_0x35481a(0x271)](_0x5c88b7,GCP)&&(_0x25f183=_0x5784a7[_0x35481a(0x334)]);logger[_0x35481a(0x270)](_0x5784a7[_0x35481a(0x2c0)]);let _0x38bc85=await fs['readFileAsync'](path[_0x35481a(0x374)](__dirname,_0x5784a7[_0x35481a(0x287)],_0x5784a7[_0x35481a(0x1e3)],_0x5784a7['gVHvz'],_0x5784a7[_0x35481a(0x206)]),_0x5784a7[_0x35481a(0x2f3)]);_0x38bc85=_0x38bc85[_0x35481a(0x2f1)](/<HubHaNameSpace>/g,global_registry[_0x35481a(0x372)]),_0x38bc85=_0x38bc85[_0x35481a(0x2f1)](/<StorageClassName>/g,_0x25f183);const _0x4d99ab=yaml[_0x35481a(0x20f)](_0x38bc85);await _0x5784a7[_0x35481a(0x36f)](kubeApply,_0x4d99ab,_0x30d6e7),logger['info'](_0x5784a7[_0x35481a(0x340)]),logger[_0x35481a(0x270)](_0x5784a7[_0x35481a(0x26f)]);let _0x1a1b0f=await fs[_0x35481a(0x1e4)](path[_0x35481a(0x374)](__dirname,_0x5784a7[_0x35481a(0x287)],_0x5784a7[_0x35481a(0x1e3)],_0x5784a7[_0x35481a(0x1e0)],_0x5784a7[_0x35481a(0x1db)]),_0x5784a7['XTDJS']);_0x1a1b0f=_0x1a1b0f[_0x35481a(0x2f1)](/<HubHaNameSpace>/g,global_registry[_0x35481a(0x372)]),_0x1a1b0f=_0x1a1b0f['replace'](/<StorageClassName>/g,_0x25f183);const _0x4f84c2=yaml[_0x35481a(0x20f)](_0x1a1b0f);await _0x5784a7[_0x35481a(0x230)](kubeApply,_0x4f84c2,_0x30d6e7),logger[_0x35481a(0x270)](_0x5784a7[_0x35481a(0x288)]),logger[_0x35481a(0x270)](_0x5784a7[_0x35481a(0x1c8)]);let _0x31ce44=await fs[_0x35481a(0x1e4)](path[_0x35481a(0x374)](__dirname,_0x5784a7['Rmkqc'],_0x5784a7[_0x35481a(0x1e3)],_0x5784a7[_0x35481a(0x1e0)],_0x5784a7[_0x35481a(0x351)]),_0x5784a7[_0x35481a(0x2f3)]);_0x31ce44=_0x31ce44['replace'](/<UploaderImageVersion>/g,global_registry['uploaderImageVersion']),_0x31ce44=_0x31ce44[_0x35481a(0x2f1)](/<HubHaNameSpace>/g,global_registry[_0x35481a(0x372)]);const _0x44a18a=yaml[_0x35481a(0x20f)](_0x31ce44);_0x5784a7['tcdhD'](global_registry['cloudProvider'],AZURE)&&(_0x44a18a[0x0][_0x35481a(0x313)][_0x35481a(0x290)][_0x35481a(0x27a)][_0x35481a(0x2f5)]={'azure.workload.identity/use':_0x5784a7[_0x35481a(0x303)],..._0x44a18a[0x0]['spec'][_0x35481a(0x290)][_0x35481a(0x27a)][_0x35481a(0x2f5)]},_0x44a18a[0x0][_0x35481a(0x313)][_0x35481a(0x290)][_0x35481a(0x313)]['serviceAccountName']=_0x5784a7[_0x35481a(0x23e)]);await _0x5784a7['zQFOl'](kubeApply,_0x44a18a,_0x30d6e7),logger[_0x35481a(0x270)](_0x5784a7[_0x35481a(0x2a9)]);const _0x3998fb={};_0x3998fb['type']=WS_EVENTS['LOG'],_0x3998fb[_0x35481a(0x22d)]=_0x5784a7['bMQnD'],webSocketUtils[_0x35481a(0x310)](_0x28fdf6,_0x3998fb),logger[_0x35481a(0x270)](_0x5784a7[_0x35481a(0x205)]);}catch(_0x5bee48){const _0x3c5347=_0x5784a7['VpEGw']['split']('|');let _0x107596=0x0;while(!![]){switch(_0x3c5347[_0x107596++]){case'0':await _0xeaea68['deleteCluster'](_0x4a3dba,global_registry[_0x35481a(0x259)]);continue;case'1':logger['error'](_0x21de31);continue;case'2':await _0x5784a7[_0x35481a(0x26c)](reportToGalactusAndSendToEDS,_0x541a28,_0x28fdf6,_0x21de31,messageTypes[_0x35481a(0x2c3)],_0x5784a7['TvoFn'],_0x5784a7[_0x35481a(0x2a1)],_0x5784a7[_0x35481a(0x2cf)]);continue;case'3':_0x21de31='Error\x20occurred\x20while\x20setting\x20up\x20Hub\x20HA\x20infra:\x20'+_0x5bee48[_0x35481a(0x22d)];continue;case'4':process[_0x35481a(0x34b)](0x1);continue;}break;}}try{_0x11c022=_0x5784a7[_0x35481a(0x2fd)](kebabCase,_0x1550c5),logger[_0x35481a(0x270)](_0x5784a7['gLSLY']);const _0x2b3d79={};_0x2b3d79[_0x35481a(0x25d)]=WS_EVENTS[_0x35481a(0x305)],_0x2b3d79[_0x35481a(0x22d)]=_0x5784a7[_0x35481a(0x1cf)],webSocketUtils[_0x35481a(0x310)](_0x28fdf6,_0x2b3d79);if(_0x5784a7['OzWRz'](_0x11c022,_0x5784a7['YCDBs'])){const _0x38c63e={};_0x38c63e[_0x35481a(0x2e3)]=_0x5784a7[_0x35481a(0x2a0)],_0x38c63e[_0x35481a(0x29a)]=_0x5784a7[_0x35481a(0x2a0)];const _0x93d85e={};_0x93d85e[_0x35481a(0x227)]=_0x11c022,_0x93d85e['annotations']=_0x38c63e;const _0x592230={};_0x592230[_0x35481a(0x27a)]=_0x93d85e;const _0x5a2fb5=_0x592230,_0x301025={};_0x301025[_0x35481a(0x1fc)]=_0x5a2fb5,await _0x4a3dba[_0x35481a(0x276)](_0x301025),logger[_0x35481a(0x270)](_0x5784a7[_0x35481a(0x2dc)]);}const _0xb0cc5a={};_0xb0cc5a[_0x35481a(0x25d)]=WS_EVENTS['LOG'],_0xb0cc5a['message']=_0x5784a7[_0x35481a(0x2e8)],webSocketUtils[_0x35481a(0x310)](_0x28fdf6,_0xb0cc5a);const _0x5b134b={};_0x5b134b[_0x35481a(0x25d)]=WS_EVENTS[_0x35481a(0x305)],_0x5b134b['message']=_0x5784a7[_0x35481a(0x1f0)],webSocketUtils[_0x35481a(0x310)](_0x28fdf6,_0x5b134b),logger['info'](_0x5784a7[_0x35481a(0x219)]);let _0xd6fe17={};_0x5784a7[_0x35481a(0x2a7)](_0x5c88b7,AZURE)&&(_0xd6fe17={'clientId':await _0xeaea68[_0x35481a(0x1dc)](_0x35481a(0x24b)+_0x375d4f)});await _0x5784a7[_0x35481a(0x2bd)](addGridComponents,_0x4a3dba,_0x44aaa3,_0x3d0038,_0x33ba69,_0x11c022,_0x375d4f,_0x22216a,_0x16fe99,_0x30d6e7,_0xd6fe17),_0x21de31=_0x5784a7[_0x35481a(0x281)],logger[_0x35481a(0x270)](_0x21de31);const _0x9d8f55={};_0x9d8f55[_0x35481a(0x25d)]=WS_EVENTS[_0x35481a(0x305)],_0x9d8f55['message']=_0x21de31,webSocketUtils[_0x35481a(0x310)](_0x28fdf6,_0x9d8f55),_0x21de31=_0x5784a7[_0x35481a(0x2f7)],logger['info'](_0x21de31);const _0x28a058={};_0x28a058[_0x35481a(0x25d)]=WS_EVENTS['LOG'],_0x28a058[_0x35481a(0x22d)]=_0x21de31,webSocketUtils[_0x35481a(0x310)](_0x28fdf6,_0x28a058),await _0x5784a7[_0x35481a(0x30a)](waitForDeployment,_0x44aaa3,_0x11c022,TURBOSCALE_DEPLOYMENT,0x1d4c0);const _0x5b8b21=await _0x5784a7['zQFOl'](getNamespaceUID,_0x4a3dba,_0x11c022),_0xa96e97=global_registry[_0x35481a(0x34a)]?_0x5784a7[_0x35481a(0x255)]:_0x5784a7['NIffG'],_0x2f4d8d={};_0x2f4d8d[_0x35481a(0x227)]=_0xa96e97,_0x2f4d8d[_0x35481a(0x2e5)]=_0x5784a7['IxdOm'];const _0x148ac1=await _0x4a3dba[_0x35481a(0x2b2)](_0x2f4d8d);let _0x4be5b5=_0xeaea68['getGridHostname'](_0x148ac1)+'/'+_0x11c022,_0x2191f4=_0x5784a7[_0x35481a(0x20d)];try{const _0x4cb9b6='https://'+AG_API_URL+_0x35481a(0x28f)+_0x5b8b21,_0x511d06=await _0x5784a7[_0x35481a(0x2d2)](got,_0x4cb9b6,_0x545c56);(_0x5784a7[_0x35481a(0x2e7)](_0x511d06,null)||_0x5784a7[_0x35481a(0x359)](_0x511d06,undefined))&&(_0x21de31=_0x5784a7[_0x35481a(0x2f6)],await _0x5784a7[_0x35481a(0x26c)](reportToGalactusAndSendToEDS,_0x541a28,_0x28fdf6,_0x21de31,messageTypes[_0x35481a(0x2c3)],_0x5784a7[_0x35481a(0x382)],_0x5784a7['VtgPW'],_0x5784a7[_0x35481a(0x2cf)]),logger[_0x35481a(0x2bc)](_0x21de31),process[_0x35481a(0x34b)](0x1));_0x5784a7[_0x35481a(0x371)](_0x511d06[_0x35481a(0x342)],0x191)&&(_0x21de31=_0x5784a7[_0x35481a(0x2f9)],await _0x5784a7['rfmLD'](reportToGalactusAndSendToEDS,_0x541a28,_0x28fdf6,_0x21de31,messageTypes['ERROR'],_0x5784a7[_0x35481a(0x382)],_0x5784a7[_0x35481a(0x1e8)],_0x5784a7[_0x35481a(0x2cf)]),logger[_0x35481a(0x2bc)](_0x21de31),process[_0x35481a(0x34b)](0x1));_0x5784a7[_0x35481a(0x37e)](_0x511d06[_0x35481a(0x342)],0xc8)&&(_0x21de31=_0x35481a(0x358)+JSON[_0x35481a(0x379)](_0x511d06),await _0x5784a7['rfmLD'](reportToGalactusAndSendToEDS,_0x541a28,_0x28fdf6,_0x21de31,messageTypes[_0x35481a(0x2c3)],_0x5784a7[_0x35481a(0x382)],_0x5784a7[_0x35481a(0x1ff)],_0x5784a7[_0x35481a(0x2cf)]),logger[_0x35481a(0x2bc)](_0x21de31),process['exit'](0x1));const _0x4e49cf=JSON['parse'](_0x511d06[_0x35481a(0x1fc)]);_0x4e49cf[_0x35481a(0x279)]&&(_0x4be5b5=_0x4e49cf[_0x35481a(0x279)],_0x2191f4=_0x5784a7[_0x35481a(0x341)]),global_registry['isPrivateGrid']&&(_0x2191f4=_0x5784a7[_0x35481a(0x20d)]);}catch(_0x20037c){}_0x21de31=_0x35481a(0x22a)+_0x4be5b5+'\x20',logger[_0x35481a(0x270)](_0x21de31);const _0x2109a3={};_0x2109a3[_0x35481a(0x25d)]=WS_EVENTS[_0x35481a(0x305)],_0x2109a3[_0x35481a(0x22d)]=_0x21de31,webSocketUtils[_0x35481a(0x310)](_0x28fdf6,_0x2109a3),_0x21de31='Hub\x20url\x20to\x20run\x20selenium\x20sessions:\x20'+_0x2191f4+_0x35481a(0x25c)+_0x4be5b5+_0x35481a(0x364),logger[_0x35481a(0x270)](_0x21de31);const _0x409d18={};_0x409d18[_0x35481a(0x25d)]=WS_EVENTS[_0x35481a(0x305)],_0x409d18[_0x35481a(0x22d)]=_0x21de31,webSocketUtils[_0x35481a(0x310)](_0x28fdf6,_0x409d18);const _0x4fac4c={};_0x4fac4c[_0x35481a(0x25d)]=WS_EVENTS[_0x35481a(0x361)],_0x4fac4c['message']=_0x35481a(0x33a)+_0x4be5b5,webSocketUtils['sendEventToBackend'](_0x28fdf6,_0x4fac4c),await webSocketUtils['delay'](0x7d0);}catch(_0x2cc298){logger[_0x35481a(0x2bc)]('Error\x20in\x20Spawning\x20the\x20Grid!\x20Error:\x20'+_0x2cc298+'\x20\x0a'+JSON[_0x35481a(0x379)](_0x2cc298[_0x35481a(0x22b)]));if(_0x5784a7[_0x35481a(0x244)](_0x51a03f,![]))try{logger[_0x35481a(0x270)](_0x5784a7['rIRNS']),await _0x5784a7[_0x35481a(0x241)](removeGridComponents,_0x4a3dba,_0x44aaa3,_0x3d0038,_0x33ba69,_0x11c022),await _0xeaea68['deleteCluster'](_0x4a3dba,global_registry[_0x35481a(0x259)]);}catch(_0x1fc946){logger[_0x35481a(0x2bc)](_0x35481a(0x218)+_0x1fc946+'\x20\x0a'+JSON[_0x35481a(0x379)](_0x1fc946[_0x35481a(0x22b)]));}throw _0x2cc298;}}catch(_0x528198){const _0x4ba748=_0x35481a(0x1f7)+_0x528198+'\x20\x0a'+JSON[_0x35481a(0x379)](_0x528198['stack']);if(_0x28fdf6){const _0x3a829e={};_0x3a829e[_0x35481a(0x25d)]=WS_EVENTS['LOG'],_0x3a829e[_0x35481a(0x22d)]=_0x4ba748,webSocketUtils[_0x35481a(0x310)](_0x28fdf6,_0x3a829e,_0x5784a7[_0x35481a(0x2cf)],!![]);}await webSocketUtils[_0x35481a(0x27f)](0x7d0);const _0x1a056b={};_0x1a056b[_0x35481a(0x2bc)]=_0x4ba748,await _0x5784a7[_0x35481a(0x26a)](sendInstrumentationEvent,_0x541a28,_0x5784a7[_0x35481a(0x382)],messageTypes[_0x35481a(0x2c3)],_0x5784a7[_0x35481a(0x266)],_0x1a056b,_0x541a28),logger['error'](_0x4ba748);}process[_0x35481a(0x34b)](0x0);};function a9_0x2a9d(){const _0x208b4b=['Failed\x20to\x20get\x20grid\x20url\x20from\x20the\x20server.\x20Unauthorized\x20request!','instanceType','JXQIX','name','handler','desc','Grid\x20can\x20be\x20accessed\x20at:\x20','stack','adNzi','message','pzRkI','CGrIP','niVDO','HNRlH','cluster-name','clusterAutoupgrade','grid-profile','POipO','vpc','InBVv','hubHa','hubharesources','Invalid\x20input.\x20Currently\x20Spawning\x20the\x20grid\x20in\x20AWS\x20and\x20Azure\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','Browserstack','setupAutoscaler','.\x20Please\x20use\x20--grid-name\x20option\x20to\x20provide\x20another\x20grid\x20name','YCDBs','wEELh','CzuLM','ELkzB','hubVersion','fhQuK','KxSBq','jgFge','eDMQB','private-grid','Bhldd','Added\x20Redis\x20deployment.','knseC','turboscale-managed-identity-','JlXZc','CcdYL','debug','uuid','create-grid-checks-grid-already-exists','wXoou','skip-tls-cert-verify','minNodes','CBWAF','cXTgW','Skip\x20insecure\x20cert\x20verification.','kafkaPassword','TiMOu','clusterRegion','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','zSkbJ','://','type','LmImH','argv','clusterAutoUpgrade','sryBa','qsqoT','LUtDj','../../config/logger','GdlkR','RoIgX','4205516FWrwnH','path','RXvLt','lWkxh','true','rfmLD','createOtherResources','string','YmrYy','info','AoUGZ','Spawning\x20grid\x20on\x20to\x20the\x20cluster','kvGzy','Hub\x20HA\x20setup\x20completed\x20successfully.','region','createNamespace','pUrbO','create','route53','metadata','1|0|6|7|4|8|3|2|5','KUdTi','NJCfS','privateGrid','delay','Added\x20Turboscale\x20Uploader\x20deployment.','EjoTN','cngTu','syOTO','uQtFK','Spawning\x20the\x20grid\x20','cloud-provider','Rmkqc','eBanU','rfNsW','YyRRD','options','UEWJq','yqBlO','tcdhD','/packages/cli/get-grid-url?gridIdentifier=','template','Adding\x20Secret\x20Mapping','234OgpiCS','private-ingress-nginx-controller','yuksq','Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Unauthorized\x20request!','KJfuY','MizSr','Gscmg','bwRWG','managedBy','\x20is\x20already\x20present.\x20Skipping\x20cluster\x20creation','iSWIs','Nidru','COfPM','ingress-nginx-controller','EwlVm','OXGLk','.\x20Please\x20re\x20-\x20select\x20subnets\x20and\x20try\x20again','YqHJk','gridName','hVDfw','uUGLG','WnhMm','tUfGK','BGCJe','Spawning\x20Grid\x20on\x20the\x20Cluster','create-grid-checks-non-200','../../utils/gridComponents','lEJBJ','VPC\x20selected\x20does\x20not\x20exist.\x20Please\x20try\x20again','s3bucket','Created\x20Hub\x20HA\x20resources','YhaVM','readNamespacedService','MFKFg','ingress-nginx','ufcly','Cluster\x20created\x20successfully','402SXeVoP','lyLaJ','lavws','4128ksmjsy','Added\x20Kafka\x20deployment.','error','FYuVZ','ksISY','fNcNr','acDNK','HgEAO','\x20doesn\x27t\x20exist.\x20Proceeding\x20with\x20creating\x20a\x20new\x20cluster','ERROR','iplTH','LuUNN','init-not-called','epilogue','TRIdl','default','HjLVS','fVFoW','turboscale-uploader.yaml','ghUYj','maxNodes','LVkmw','isNewAWSCluster','bstackUsername','maCFH','\x20is\x20already\x20present.\x20Cannot\x20spawn\x20a\x20new\x20cluster','ReqKz','zfrZl','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','usage','4362HHSqCD','tLPHt','fzRam','wnqeo','eEaQJ','concurrency','Namespace\x20Created','nuxpm','XsQfE','LIJTV','Will\x20be\x20spawning\x20a\x20new\x20cluster\x20and\x20the\x20grid\x20','createdBy','setupNewCluster','namespace','serviceAccountName','UpavR','SFkow','YqBGX','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','CNfTz','lePOc','PPdMI','MehcV','length','Vpnvw','replace','bQDzV','XTDJS','browserVersion','labels','pfJoe','MlJmc','JSRPS','YQXrK','../../utils/createk8sClient','2937012XkurCs','Adding\x20Websocket\x20listeners','Reyyf','Enabling\x20Hub\x20HA\x20flow','\x20in\x20existing\x20cluster\x20\x27','moGLV','mMmlM','MjYIF','Zargz','4|8|2|3|6|5|7|0|1','LOG','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','OKFWs','hub-ha','templates','pMImP','reconnecting-websocket','cluster-autoupgrade','https://','10|4|13|3|0|14|7|11|1|5|12|15|8|9|2|6','BsLCn','sendEventToBackend','HRxIj','bitnami-kafka.yaml','spec','Subnets:\x20','Found\x20VPC:\x20','https','ZOLzb','SSBpi','user','IeTLy','bstackAccesskey','Flag\x20to\x20enable\x20Hub\x20HA','TzTKG','rpkCw','cpFbR','5930UUNZkX','gridProfile','Creating\x20Hub\x20HA\x20resources','uGSBc','OzWRz','browserstack','sTanF','YBgbV','MOlva','YYZKK','SfLwr','newCluster','cluster-name,\x20cloud-provider\x20&&\x20region\x20should\x20be\x20provided\x20when\x20spawning\x20a\x20grid\x20in\x20existing\x20(Non-BrowserStack\x20created)\x20K8s\x20cluster','Rxkdw','zyfaM','wXohM','setupHubHa','isVPCPresent','mmrmS','TcEZQ','Cvypn','eiZGz','parse','Okvsw','RnmUN','Invalid\x20Grid\x20Profile.Exiting\x20the\x20CLI.','CLI\x20run\x20finished:\x20','RmLYb','WCBeJ','../..','Cluster:\x20','non-aws-azure-cluster','HTADj','jTltg','statusCode','Create\x20a\x20new\x20Automation\x20grid.','isClusterPresent','includes','clusterName','fdOXX','get-grid-url-non-200','GlXVQ','isPrivateGrid','exit','Adding\x20Kafka\x20deployment...','pre-spawned-invalid-subnets','Namespace\x20created','yrdsK','wznha','nUNLH','1342352eYVUNR','cFutP','grid-spawning-failed','BnaUk','iasRU','Found\x20Subnets:\x20','Failed\x20to\x20get\x20grid\x20url\x20from\x20the\x20server.\x20Non\x20200\x20response\x20from\x20server!\x20','GfvWQ','Deleting\x20the\x20CloudFormation\x20Stacks','help','SDBFu','get-grid-url-null-response','mFKxE','sendResourceDataToHST','CLI_RUN_STARTED','CLI_RUN_FINISHED','WxLPb','BgcrF','/wd/hub','cloudProvider','boolean','\x20are\x20not\x20present\x20in\x20VPC:\x20','olzMS','Pass\x20the\x20name\x20to\x20setup\x20the\x20Automation\x20Grid\x20with\x20specific\x20name.\x20Name\x20this\x20grid\x20using\x20either\x20team\x27s\x20name,\x20pipeline\x20specific\x20or\x20generic.','uKFED','premium-rwo','../../utils/webSocketUtils','bNVEt','BzHeV','FpMGm','gridProfileId','lGNIh','hubHaNameSpace','<PasswordPlaceholder>','join','rleKe','3681FdrZGm','jkQeQ','DBnns','stringify','VgFIg','lxRUC','Idovh','ORito','bmPpj','azurefile-csi-premium','TwhMc','KUzyd','TvoFn','131573WFXMYU','Create\x20a\x20private/public\x20grid.','got','password','tWHUb','HjRoo','skipTlsCertVerify','http','enableHubHa','\x27\x20grid\x20profile','SYimD','Nvkos','Grid\x20spawned\x20on\x20the\x20cluster','VwBwJ','create-grid-checks-invalid-profile','UkRNzNYCBU','split','gLSLY','kafkaUploader','ujPAT','sWYpX','Kcjjz','YRAup','xfREC','alreadyPresent','vHaLh','3yIOjfD','browserstack-secret.yaml','securityGroups','HVDfn','getResourceClientId','WebSocket','GET','TwQxt','gVHvz','xvlZz','RKYQw','LUVfo','readFileAsync','requestId','kaFyP','FOlfp','TXpDy','DdIAb','CLI\x20run\x20started','vszkH','129464bDvSRL','\x20using\x20\x27','jOVFH','pcrWk','fIlsX','enVgn','Creating\x20namespace','gridProfiles','gvTVt','hub-ha-deployments-failed','OpRyN','Unable\x20to\x20Spawn\x20the\x20Grid!\x20Error:\x20','pre-spawned-subnets-not-selected','existsSync','Fetching\x20url\x20for\x20running\x20tests\x20on\x20the\x20grid','create-grid-called','body','yCdvo','fNbYN','fFefk','description','toLowerCase','../../utils/instrumentationUtils','warn','uploaderVersion','Pqyjy','RcaCQ','Cluster\x20not\x20found.\x20Proceeding\x20with\x20creating\x20required\x20resources.','addListeners','Checking\x20if\x20cluster\x20is\x20already\x20present\x20in\x20selected\x20region(','username','yRXqy','isSubnetsValid','EOunf','redisPassword','loadAll','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','HXWtM','2|4|3|1|0','INFO','kghkS','Will\x20be\x20spawning\x20the\x20grid\x20','DGUsL','Flag\x20to\x20enable\x20cluster\x20auto-upgrade','Failed\x20to\x20delete\x20the\x20CloudFormation\x20Stacks\x20and\x20other\x20spawned\x20components.\x20Error:\x20\x20','EUxhU','HGRVo','command','mjJDQ','hfVKS','grid','30xGqOYX','Cluster\x20','defaultGridProfile','create-grid-checks-auth-failed','BnUPS'];a9_0x2a9d=function(){return _0x208b4b;};return a9_0x2a9d();}