const a9_0x384dba=a9_0x4ab6;function a9_0x3186(){const _0x47f9c0=['lOTHU','../../utils/createk8sClient','create','velka','XrUAz','Jdymr','sswrU','oiSMi','turboscale-managed-identity-','Cluster\x20','pre-spawned-invalid-vpc','YVvYc','Failed\x20to\x20get\x20grid\x20url\x20from\x20the\x20server.\x20Unauthorized\x20request!','\x20doesn\x27t\x20exist.\x20Proceeding\x20with\x20creating\x20a\x20new\x20cluster','newCluster','owgVx','../../utils/gridComponents','osfzR','help','QEpMu','Namespace\x20Created','statusCode','message','Found\x20Subnets:\x20','yqptv','yDdzH','CiFxO','fObnD','MrEGD','DzPDU','get-grid-url-null-response','EzVGL','CEoQj','CLI_RUN_STARTED','annotations','includes','qibMO','VpoJF','skip-tls-cert-verify','../../cloudproviders/utils','AyvOP','858072OvZrpt','Spawning\x20the\x20grid\x20','gNdpy','Created\x20Hub\x20HA\x20resources','DAwQL','HnxIm','spec','wDMri','Failed\x20to\x20delete\x20the\x20CloudFormation\x20Stacks\x20and\x20other\x20spawned\x20components.\x20Error:\x20\x20','JEdWN','create-grid-checks-auth-failed','FvrhU','vUmjF','createNamespace','route53','KHZtq','DvyYz','zFRYx','YgurV','zZGGf','lazgk','eInJz','Error\x20occurred\x20while\x20setting\x20up\x20Hub\x20HA\x20infra:\x20','../../utils/webSocketUtils','labels','browserVersion','mfSGY','ihrBI','Adding\x20Secret\x20Mapping','private-ingress-nginx-controller','non-aws-azure-cluster','0|1|8|2|6|4|7|5|3','lwlDK','error','tfgQv','GET','HYzRW','\x20is\x20already\x20present.\x20Skipping\x20cluster\x20creation','ntgXs','sendResourceDataToHST','VPC\x20selected\x20does\x20not\x20exist.\x20Please\x20try\x20again','.\x20Please\x20re\x20-\x20select\x20subnets\x20and\x20try\x20again','gilLe','\x20in\x20existing\x20cluster\x20\x27','setupNewCluster','ibFuG','WebSocket','LSCCB','Pass\x20the\x20name\x20to\x20setup\x20the\x20Automation\x20Grid\x20with\x20specific\x20name.\x20Name\x20this\x20grid\x20using\x20either\x20team\x27s\x20name,\x20pipeline\x20specific\x20or\x20generic.','REPpd','ZmUCv','browserstack-secret.yaml','updateClusterAlreadyPresent','CDNVj','KzRmT','prespawned-cluster-args-not-passed','QgQZs','warn','wfxKo','XIlUS','body','getResourceClientId','.\x20Please\x20use\x20--grid-name\x20option\x20to\x20provide\x20another\x20grid\x20name','INFO','rZARo','loadAll','VpoPY','2224000KBBdUa','CLI\x20run\x20started','Fetching\x20url\x20for\x20running\x20tests\x20on\x20the\x20grid','rckEp','create-grid-called','\x20are\x20not\x20present\x20in\x20VPC:\x20','Adding\x20Kafka\x20deployment...','boolean','npeIc','wgLpP','<PasswordPlaceholder>','default','desc','utQJQ','HmPbl','length','lhPTW','argv','namespace','create-grid-checks-invalid-profile','MnkLv','tWUvp','IeYwe','https://','grid','hZCqV','minNodes','uploaderImageVersion','yKzar','WDaWj','sendEventToBackend','vSVwg','serviceAccountName','lHeJb','Cluster:\x20','hBJqI','uNnoe','ingress-nginx','MpuUU','FzNhc','isClusterPresent','Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Unauthorized\x20request!','setupHubHa','yQEpk','NUUEb','debug','js-yaml','Epyd5nXbRK','Creating\x20namespace','uploaderVersion','exit','iLMkk','ingress-nginx-controller','QjAhi','uqpnL','clusterName','srQxt','cluster-name','create-grid-checks-null-response','bstackUsername','Creating\x20Hub\x20HA\x20resources','RwPqD','HqelS','Skip\x20insecure\x20cert\x20verification.','Subnets:\x20','readNamespacedService','POPma','TCYzG','delay','http','pre-spawned-invalid-subnets','RBTYw','Grid\x20profile\x20fetched\x20from\x20backend','type','JswaG','maxNodes','QSihU','3|15|0|11|7|4|1|12|10|8|2|14|9|6|5|13','xNPzn','enableHubHa','DQRrm','info','1|2|4|0|3','mIPaD','GubCJ','kaXOH','bkXMv','PNkhS','pcBjw','JAKaa','tFFLh','description','hzUbg','options','string','Will\x20be\x20spawning\x20a\x20new\x20cluster\x20and\x20the\x20grid\x20','setupAutoscaler','kafkaPassword','region','OyUBl','wmYFu','SFpSZ','ppefw','toLowerCase','isNewAWSCluster','mgKFH','Eilbl','KiweR','redisPassword','zXAhn','managedBy','Yjcrx','Added\x20Redis\x20deployment.','OaooH','PLFSP','cloud-provider','129746gFLPXt','hgoyP','TzaMe','usage','private-grid','Inxpl','parse','bstackAccesskey','PDeHh','bUVeT','qtLec','Adding\x20Redis\x20deployment...','TyvXv','iiMBH','qtjNn','VhDQN','DAHYm','LuOVe','defaultGridProfile','uuid','AKioA','ERROR','\x20is\x20already\x20present.\x20Cannot\x20spawn\x20a\x20new\x20cluster','bitnami-redis.yaml','premium-rwo','qtJnJ','turboscale-uploader.yaml','builder','stringify','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','DGvhL','oinYd','Flag\x20to\x20enable\x20Hub\x20HA','true','hiHat','eexCX','gridName','Deleting\x20the\x20CloudFormation\x20Stacks','readFileAsync','efs-csi','RFbeS','xywsa','create-grid-checks-grid-already-exists','Invalid\x20input.\x20Currently\x20Spawning\x20the\x20grid\x20in\x20AWS\x20and\x20Azure\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','qhgVR','hUNhW','nMKvG','../..','ejDbR','wqZnJ','aqsug','LOG','NJUjz','pklLJ','concurrency','Cluster\x20not\x20found.\x20Proceeding\x20with\x20creating\x20required\x20resources.','LGVJy','template','pre-spawned-subnets-not-selected','JNgKJ','Browserstack','handler','CqERN','ZMEgS','hubVersion','bNdCZ','https','bnAZn','jGeli','PzDDT','gridProfileId','rLVyz','guZzW','clusterRegion','Mzdhi','yZnPI','QRYaZ','JkQnJ','Error\x20in\x20Spawning\x20the\x20Grid!\x20Error:\x20','cjVwd','deleteCluster','Added\x20Turboscale\x20Uploader\x20deployment.','EDuxM','split','nQPsk','Found\x20VPC:\x20','xqcdj','jSsVF','VHCXq','join','readFileSync','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','LbTBz','replace','/wd/hub','path','CnHvS','7sqVQbu','qwqWW','ooNCl','322080kHdUVk','hubHa','username','init-not-called','isPrivateGrid','VSjvI','DuFWt','password','KKbfp','Pbiye','stack','GQraU','cdBnz','hubharesources','createOtherResources','raaIK','instanceType','Checking\x20if\x20cluster\x20is\x20already\x20present\x20in\x20selected\x20region(','jAleJ','/packages/cli/get-grid-url?gridIdentifier=','UGaMM','AvIxF','Will\x20be\x20spawning\x20the\x20grid\x20','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','epilogue','cCPNo','oUGCe','CLI\x20run\x20finished:\x20','zTDou','eJdDl','Ltddw','SLHLg','cloudProvider','luABi','243738xjLYen','caQdz','privateGrid','exQZU','KhGQz','addListeners','Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Non\x20200\x20response\x20from\x20server!\x20','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','KglCf','EnCLv','reconnecting-websocket','ULnOj','metadata','hub-ha','JKDPo','gridProfile','kcuDs','user','vpc','createdBy','../../utils/instrumentationUtils','bitnami-kafka.yaml','gridProfiles','\x27\x20grid\x20profile','kafkaUploader','3|1|4|2|0','IxBDD','1116330MEetny','Grid\x20can\x20be\x20accessed\x20at:\x20','SIKpR','PBZMB','503016WKbTID','LZUyn','hubHaNameSpace','MoHiw','iVBtg','Added\x20Kafka\x20deployment.','iawmG','ZwADc','Added\x20Secret\x20Mapping','ufgcv','existsSync','nkEPT','Subnets\x20not\x20selected.\x20Please\x20select\x20subnets\x20and\x20try\x20again','Xmiey','yfOYF','The\x20grid\x20creation\x20is\x20in\x20progress.\x20It\x20could\x20take\x20as\x20long\x20as\x2015-20\x20minutes.\x20You\x20will\x20receive\x20an\x20email\x20notification\x20once\x20the\x20grid\x20is\x20ready.','Spawning\x20grid\x20on\x20to\x20the\x20cluster','gCjcc','Unable\x20to\x20Spawn\x20the\x20Grid!\x20Error:\x20','s3bucket','wxoAZ','OnMQh','QmvBm','get\x20grid\x20url\x20from\x20the\x20server.\x20Unknown\x20error!','lHQWU','Create\x20a\x20private/public\x20grid.','grid-name','Failed\x20to\x20get\x20grid\x20url\x20from\x20the\x20server.\x20Non\x20200\x20response\x20from\x20server!\x20','fSIas','MzZYl','jkSiO','eCNhK','SoklW','HRGKN','NqLIo','An\x20Automation\x20Grid\x20already\x20exists\x20with\x20grid\x20name\x20','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','Grid\x20spawned\x20on\x20the\x20cluster','name','ESFaW','hNHrm','uBVRd','RNGTK','requestId','bzZtq','PMfSX','Adding\x20Turboscale\x20Uploader\x20deployment...','Invalid\x20Grid\x20Profile.Exiting\x20the\x20CLI.','CNtBb','EEFBf','pzGRO'];a9_0x3186=function(){return _0x47f9c0;};return a9_0x3186();}(function(_0x5d8b5b,_0x5e63c3){const _0x1ed95f=a9_0x4ab6,_0x27a58b=_0x5d8b5b();while(!![]){try{const _0x2b03df=parseInt(_0x1ed95f(0x16d))/0x1+-parseInt(_0x1ed95f(0x212))/0x2+parseInt(_0x1ed95f(0x1f3))/0x3+parseInt(_0x1ed95f(0xb6))/0x4+parseInt(_0x1ed95f(0x1d1))/0x5+parseInt(_0x1ed95f(0x20e))/0x6*(parseInt(_0x1ed95f(0x1ce))/0x7)+-parseInt(_0x1ed95f(0xf9))/0x8;if(_0x2b03df===_0x5e63c3)break;else _0x27a58b['push'](_0x27a58b['shift']());}catch(_0x571c26){_0x27a58b['push'](_0x27a58b['shift']());}}}(a9_0x3186,0x23c29));const fs=require('fs'),ws=require('ws'),path=require(a9_0x384dba(0x1cc)),yaml=require(a9_0x384dba(0x127)),ReconnectingWebSocket=require(a9_0x384dba(0x1fd)),got=require('got'),{v4:uuidv4}=require(a9_0x384dba(0x180)),webSocketUtils=require(a9_0x384dba(0xcd)),{logger}=require('../../config/logger'),{getCredentialsPath,updateGlobalRegistryWithConfig,updateGlobalRegistryForHubHa,kebabCase,reportToGalactusAndSendToEDS,getAuthHeader,waitForDeployment,kubeApply,encodeBase64}=require('../../utils/utilityMethods'),{getCloudProviderObject}=require(a9_0x384dba(0xb4)),{AWS,WS_EVENTS,global_registry,WS_ENDPOINT,DEFAULT_GRID_NAME,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,messageTypes,AG_API_URL,AZURE,GCP,TURBOSCALE_DEPLOYMENT}=require('../../config/constants'),{addGridComponents,removeGridComponents,getNamespaceUID,namespaceExists,createNamespace}=require(a9_0x384dba(0x9d)),{createK8sClient}=require(a9_0x384dba(0x8e)),{sendInstrumentationEvent}=require(a9_0x384dba(0x207));function a9_0x4ab6(_0x2e0c60,_0x507540){const _0x318668=a9_0x3186();return a9_0x4ab6=function(_0x4ab6fc,_0x7c3c1d){_0x4ab6fc=_0x4ab6fc-0x83;let _0x1eaf40=_0x318668[_0x4ab6fc];return _0x1eaf40;},a9_0x4ab6(_0x2e0c60,_0x507540);}exports['command']=a9_0x384dba(0x111),exports[a9_0x384dba(0x105)]='Create\x20a\x20new\x20Automation\x20grid.',exports[a9_0x384dba(0x188)]=function(_0x181888){const _0x194454=a9_0x384dba,_0x7303e4={};_0x7303e4['nWbly']=_0x194454(0xe6),_0x7303e4[_0x194454(0x19e)]=_0x194454(0x157),_0x7303e4[_0x194454(0xc7)]='Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.',_0x7303e4[_0x194454(0x166)]=_0x194454(0x236),_0x7303e4[_0x194454(0x1dc)]=_0x194454(0x18a),_0x7303e4[_0x194454(0x1ee)]=_0x194454(0x1e8),_0x7303e4[_0x194454(0x17d)]=_0x194454(0x22b),_0x7303e4[_0x194454(0xe8)]=_0x194454(0x138),_0x7303e4['RwPqD']=_0x194454(0x100),_0x7303e4[_0x194454(0xd0)]=_0x194454(0x18d),_0x7303e4[_0x194454(0x226)]='help';const _0x5586f0=_0x7303e4,_0x4d7b7a={};_0x4d7b7a[_0x194454(0x154)]=_0x5586f0['nWbly'],_0x4d7b7a[_0x194454(0x142)]=_0x5586f0[_0x194454(0x19e)];const _0x5ab5cf={};_0x5ab5cf[_0x194454(0x154)]=_0x5586f0[_0x194454(0xc7)],_0x5ab5cf[_0x194454(0x142)]=_0x5586f0[_0x194454(0x19e)];const _0xf092db={};_0xf092db[_0x194454(0x154)]=_0x5586f0['zXAhn'],_0xf092db[_0x194454(0x142)]=_0x5586f0[_0x194454(0x19e)];const _0x4c9a78={};_0x4c9a78[_0x194454(0x154)]=_0x5586f0[_0x194454(0x1dc)],_0x4c9a78['type']=_0x5586f0['wqZnJ'];const _0x50c202={};_0x50c202[_0x194454(0x154)]=_0x5586f0['eJdDl'],_0x50c202[_0x194454(0x142)]=_0x5586f0[_0x194454(0x19e)];const _0x3313cf={};_0x3313cf[_0x194454(0x154)]=_0x5586f0['DAHYm'],_0x3313cf['type']=_0x5586f0[_0x194454(0x19e)];const _0xa755c5={};_0xa755c5[_0x194454(0x154)]=_0x5586f0[_0x194454(0xe8)],_0xa755c5['type']=_0x5586f0['RwPqD'],_0xa755c5[_0x194454(0x104)]=![];const _0x152081={};_0x152081[_0x194454(0x154)]=_0x5586f0['mfSGY'],_0x152081[_0x194454(0x142)]=_0x5586f0[_0x194454(0x136)],_0x152081[_0x194454(0x104)]=![];const _0x5c09ed={};return _0x5c09ed[_0x194454(0x22c)]=_0x4d7b7a,_0x5c09ed['grid-profile']=_0x5ab5cf,_0x5c09ed[_0x194454(0x132)]=_0xf092db,_0x5c09ed[_0x194454(0x16c)]=_0x4c9a78,_0x5c09ed['region']=_0x50c202,_0x5c09ed[_0x194454(0x171)]=_0x3313cf,_0x5c09ed['skip-tls-cert-verify']=_0xa755c5,_0x5c09ed[_0x194454(0x200)]=_0x152081,_0x181888[_0x194454(0x170)](HELP_HEADER_MESSAGE[_0x194454(0x8f)])[_0x194454(0x1e9)](HELP_FOOTER_MESSAGE)[_0x194454(0x156)](_0x5c09ed)[_0x194454(0x9f)](_0x5586f0[_0x194454(0x226)])['argv'];},exports[a9_0x384dba(0x1aa)]=async function(_0x5ecbca){const _0x34348f=a9_0x384dba,_0xc37465={'eexCX':_0x34348f(0x185),'Ltddw':_0x34348f(0x146),'CnHvS':function(_0x4c364a,_0x3194d1,_0x1176cf,_0x2cbc87,_0x509380,_0x2b3989,_0x10f8a8,_0x5e9326,_0x4d4e93,_0x23a56f,_0x297f2f,_0x7934b2){return _0x4c364a(_0x3194d1,_0x1176cf,_0x2cbc87,_0x509380,_0x2b3989,_0x10f8a8,_0x5e9326,_0x4d4e93,_0x23a56f,_0x297f2f,_0x7934b2);},'WDaWj':function(_0x395f3f,_0x130300){return _0x395f3f!==_0x130300;},'Eilbl':function(_0x379b71,_0x58cae9){return _0x379b71(_0x58cae9);},'KhGQz':_0x34348f(0x18e),'qtLec':_0x34348f(0x104),'uBVRd':_0x34348f(0xef),'sswrU':function(_0x319bfa,_0x442bf5){return _0x319bfa===_0x442bf5;},'VhDQN':_0x34348f(0xe6),'KzRmT':_0x34348f(0x157),'ttJXB':_0x34348f(0x1fa),'HmPbl':_0x34348f(0x236),'EDuxM':_0x34348f(0x18a),'aqsug':_0x34348f(0x1e8),'KHZtq':'Create\x20a\x20private/public\x20grid.','iiMBH':_0x34348f(0x138),'DuFWt':_0x34348f(0x100),'XrUAz':_0x34348f(0x18d),'caQdz':_0x34348f(0x9f),'oiSMi':_0x34348f(0xd5),'bnAZn':_0x34348f(0xfa),'pklLJ':'azurefile-csi-premium','rZARo':_0x34348f(0x13e),'YgurV':_0x34348f(0xd7),'eCNhK':function(_0x96b80,_0x28c3ac){return _0x96b80(_0x28c3ac);},'ppefw':'3|4|1|0|2','YVvYc':_0x34348f(0x128),'qibMO':'UkRNzNYCBU','ntgXs':'Enabling\x20Hub\x20HA\x20flow','VSjvI':'browserstack','PMfSX':_0x34348f(0x1af),'hUNhW':function(_0x20f21c){return _0x20f21c();},'MzZYl':function(_0x402e22){return _0x402e22();},'JkQnJ':function(_0x1bb2c2,_0x235b51){return _0x1bb2c2===_0x235b51;},'QgQZs':_0x34348f(0x1cf),'vKYZZ':_0x34348f(0x1c8),'yZnPI':function(_0x5aeef0,_0x4d183f,_0x6ce0d8,_0x2fd33a,_0x225c98,_0x4d93d4,_0x17f3a3){return _0x5aeef0(_0x4d183f,_0x6ce0d8,_0x2fd33a,_0x225c98,_0x4d93d4,_0x17f3a3);},'JswaG':_0x34348f(0xfd),'kcuDs':_0x34348f(0x1d4),'DGvhL':function(_0x2d94b2){return _0x2d94b2();},'CDNVj':'<UsernamePlaceholder>','MsiAK':_0x34348f(0x103),'DzPDU':'Adding\x20Websocket\x20listeners','qtjNn':_0x34348f(0x232),'MFKAT':_0x34348f(0x11d),'QRYaZ':'cluster-name,\x20cloud-provider\x20&&\x20region\x20should\x20be\x20provided\x20when\x20spawning\x20a\x20grid\x20in\x20existing\x20(Non-BrowserStack\x20created)\x20K8s\x20cluster','wmYFu':function(_0xb7e2df,_0x2f36fe,_0x4163d9,_0x284ef4,_0x4ad9ea,_0x4f9675,_0x438ab8,_0x32f063){return _0xb7e2df(_0x2f36fe,_0x4163d9,_0x284ef4,_0x4ad9ea,_0x4f9675,_0x438ab8,_0x32f063);},'Xmiey':_0x34348f(0xed),'VpoPY':function(_0x17a8e3,_0x40829b){return _0x17a8e3!==_0x40829b;},'FxSLa':'SfaSF','QSihU':'JSRRj','jnaSR':_0x34348f(0x198),'IxBDD':function(_0x3bdb04,_0x4c45bc,_0xbd66df,_0x327f6e,_0x9e6c79,_0x3dbdfa,_0xbdddbd,_0xb684d0){return _0x3bdb04(_0x4c45bc,_0xbd66df,_0x327f6e,_0x9e6c79,_0x3dbdfa,_0xbdddbd,_0xb684d0);},'iawmG':_0x34348f(0xd4),'TzaMe':'iLNhW','wgLpP':'lHffP','NJUjz':function(_0x3c73d7,_0x7ef72b,_0x116a45,_0x1dd271,_0x4d9e2e,_0x14bc97,_0x43491d){return _0x3c73d7(_0x7ef72b,_0x116a45,_0x1dd271,_0x4d9e2e,_0x14bc97,_0x43491d);},'utQJQ':'jqGPQ','IivVQ':_0x34348f(0x1c4),'PLFSP':'wJHUK','QdMIj':_0x34348f(0x1b5),'cdBnz':_0x34348f(0xd9),'uqpnL':function(_0x5efb00,_0x58e88f,_0x2cfd56){return _0x5efb00(_0x58e88f,_0x2cfd56);},'pcBjw':function(_0x12e617,_0x541612){return _0x12e617===_0x541612;},'jAleJ':_0x34348f(0x233),'AKioA':'QkCFW','LuOVe':function(_0x18c9d9,_0x3cc192,_0x563f85){return _0x18c9d9(_0x3cc192,_0x563f85);},'nQPsk':function(_0x19fefe,_0xc0c530){return _0x19fefe===_0xc0c530;},'hNHrm':function(_0x24d882,_0x27f88e){return _0x24d882===_0x27f88e;},'yfOYF':_0x34348f(0x125),'MYlMz':_0x34348f(0x210),'bNdCZ':'Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Unknown\x20error!','velka':function(_0x491dd5,_0x449965,_0x5f58cd,_0x127aab,_0x1d000c,_0x1a4941,_0x466aeb,_0x5eea36){return _0x491dd5(_0x449965,_0x5f58cd,_0x127aab,_0x1d000c,_0x1a4941,_0x466aeb,_0x5eea36);},'Yjcrx':_0x34348f(0x133),'luABi':function(_0x5e65f2,_0x5795de){return _0x5e65f2!==_0x5795de;},'trfnu':'EgUSV','VpoJF':_0x34348f(0x1c3),'Inxpl':_0x34348f(0x122),'XIlUS':function(_0x454dbc,_0x102582,_0x4bb29a,_0x4a129a,_0x15fdc1,_0x972541,_0xa14421,_0x578f53){return _0x454dbc(_0x102582,_0x4bb29a,_0x4a129a,_0x15fdc1,_0x972541,_0xa14421,_0x578f53);},'LSCCB':_0x34348f(0xc0),'Mzdhi':function(_0x3d58b7,_0x45bf19){return _0x3d58b7===_0x45bf19;},'JNgKJ':_0x34348f(0x16a),'jGeli':_0x34348f(0x1c5),'srQxt':function(_0xea3024,_0x3610db,_0x4c83dc,_0x44bab8,_0x362678,_0x219b11,_0xcefee1,_0x1d6e70){return _0xea3024(_0x3610db,_0x4c83dc,_0x44bab8,_0x362678,_0x219b11,_0xcefee1,_0x1d6e70);},'yKzar':'create-grid-checks-non-200','hZCqV':_0x34348f(0x141),'xNPzn':function(_0x5da71f,_0x37b8c3){return _0x5da71f===_0x37b8c3;},'ejDbR':'ZnnAk','rckEp':_0x34348f(0xa8),'DQRrm':_0x34348f(0x197),'ihrBI':_0x34348f(0xa7),'kaXOH':_0x34348f(0x18f),'OnMQh':_0x34348f(0x14d),'EnCLv':_0x34348f(0x20c),'ibFuG':function(_0x398950,_0x29c7eb){return _0x398950===_0x29c7eb;},'KKbfp':function(_0x17ba18,_0x10a4d3){return _0x17ba18===_0x10a4d3;},'LGVJy':'RdiEb','lHQWU':function(_0x35bc0b,_0x2d5b8f){return _0x35bc0b!==_0x2d5b8f;},'REPpd':_0x34348f(0x228),'PBZMB':_0x34348f(0x150),'JKDPo':_0x34348f(0x89),'Jdymr':function(_0x5e9e0b,_0x648567,_0x48fce0,_0x2a1d2a,_0x43cf6e,_0x3dcfb8,_0xc01678,_0x5572ba){return _0x5e9e0b(_0x648567,_0x48fce0,_0x2a1d2a,_0x43cf6e,_0x3dcfb8,_0xc01678,_0x5572ba);},'lrJvI':_0x34348f(0x10c),'Pbiye':_0x34348f(0xc6),'MnkLv':_0x34348f(0x10f),'lwlDK':function(_0x5eebbe,_0x5da606){return _0x5eebbe===_0x5da606;},'eInJz':function(_0x2211b3,_0x3433dd){return _0x2211b3===_0x3433dd;},'YmMmD':_0x34348f(0x21b),'npeIc':_0x34348f(0xd8),'cmLxw':function(_0x4926cc,_0x5dbd03){return _0x4926cc===_0x5dbd03;},'lOTHU':'XrnXY','otLfm':'Hvchc','icmBb':_0x34348f(0x1e6),'EmYKO':_0x34348f(0x1ac),'RFbeS':function(_0xf152fb,_0x5f474b){return _0xf152fb===_0x5f474b;},'nMKvG':_0x34348f(0x1d0),'jlXUU':_0x34348f(0x8c),'DAwQL':_0x34348f(0x140),'RNGTK':_0x34348f(0x176),'SFpSZ':'lDHMU','CEoQj':function(_0x59eeeb,_0x1d8fbe){return _0x59eeeb!==_0x1d8fbe;},'gilLe':'xpxNV','MrEGD':'8|5|7|6|3|2|0|1|4','vSVwg':function(_0x2d6a2b,_0x1ced9a,_0x1b7ca7,_0xde0cda,_0x27cae0,_0x5ceb4e,_0x2f2037){return _0x2d6a2b(_0x1ced9a,_0x1b7ca7,_0xde0cda,_0x27cae0,_0x5ceb4e,_0x2f2037);},'ULnOj':function(_0x385696,_0x60c58){return _0x385696!==_0x60c58;},'MpuUU':_0x34348f(0x1ed),'iLMkk':_0x34348f(0x8a),'jkSiO':_0x34348f(0x9c),'TyvXv':'YogAJ','qtJnJ':function(_0x5bbf54,_0x5166d8){return _0x5bbf54===_0x5166d8;},'exQZU':function(_0x24e16d,_0x237bd3){return _0x24e16d===_0x237bd3;},'KglCf':_0x34348f(0xa6),'lHeJb':'IkHye','yqptv':_0x34348f(0x1a4),'raaIK':function(_0x22c1e5,_0x2f5290){return _0x22c1e5!=_0x2f5290;},'hgoyP':function(_0x479775,_0x4290fa){return _0x479775!==_0x4290fa;},'OyUBl':function(_0x3e9e59,_0x1ffce7){return _0x3e9e59!==_0x1ffce7;},'FvrhU':function(_0x4dd0bc,_0x212dd5){return _0x4dd0bc>_0x212dd5;},'zZGGf':_0x34348f(0x21e),'bkXMv':function(_0xa591d4,_0x33ad0b,_0x265e2c,_0x3ccf8b,_0x2ab613,_0x55c0aa,_0x12b51b,_0x310ae8){return _0xa591d4(_0x33ad0b,_0x265e2c,_0x3ccf8b,_0x2ab613,_0x55c0aa,_0x12b51b,_0x310ae8);},'TCYzG':_0x34348f(0x1a7),'EEFBf':function(_0xaf010c,_0x2b1287){return _0xaf010c===_0x2b1287;},'mKQTa':_0x34348f(0xde),'lDggH':function(_0x179e43,_0x140109,_0x1274d4,_0xe73a5d,_0x5887c7,_0x54e433,_0x59c010,_0x53a0c4){return _0x179e43(_0x140109,_0x1274d4,_0xe73a5d,_0x5887c7,_0x54e433,_0x59c010,_0x53a0c4);},'FzNhc':_0x34348f(0x97),'PzDDT':function(_0x316ce9,_0x50ce97){return _0x316ce9===_0x50ce97;},'EzVGL':function(_0x26bc5f,_0x5841ea,_0x18962b,_0x5d4b41,_0x1b93e8,_0x324282,_0x5d68f7,_0x3ee7c8){return _0x26bc5f(_0x5841ea,_0x18962b,_0x5d4b41,_0x1b93e8,_0x324282,_0x5d68f7,_0x3ee7c8);},'QxEXx':_0x34348f(0x13f),'cEVNu':'3|1|0|2|4','PDeHh':_0x34348f(0x221),'cjVwd':'Cluster\x20created\x20successfully','bzZtq':function(_0x21ea3f,_0x4c21cc){return _0x21ea3f===_0x4c21cc;},'QEpMu':_0x34348f(0x135),'rLVyz':_0x34348f(0xd2),'UGaMM':_0x34348f(0x19c),'lazgk':'templates','vUmjF':_0x34348f(0x1de),'POPma':_0x34348f(0xe9),'fSIas':'utf-8','HYzRW':function(_0x52c13d,_0x5d31f8){return _0x52c13d(_0x5d31f8);},'NqLIo':function(_0x593bdc,_0x528653,_0x424c47){return _0x593bdc(_0x528653,_0x424c47);},'nkEPT':_0x34348f(0x21a),'ABNht':_0x34348f(0x194),'tWUvp':function(_0x217905,_0x3d31a3){return _0x217905===_0x3d31a3;},'mgKFH':_0x34348f(0x178),'gNdpy':_0x34348f(0x184),'DJasg':_0x34348f(0x169),'tTIDI':_0x34348f(0xff),'cCPNo':_0x34348f(0x208),'FmxHb':function(_0x5c23cd,_0x2cc846,_0x543a20){return _0x5c23cd(_0x2cc846,_0x543a20);},'tFFLh':_0x34348f(0x217),'JAKaa':_0x34348f(0x88),'CqERN':_0x34348f(0x187),'hzUbg':_0x34348f(0x1be),'NfTJl':_0x34348f(0xb9),'gCjcc':'Hub\x20HA\x20setup\x20completed\x20successfully.','FZSld':_0x34348f(0x14b),'hBJqI':'hub-ha-deployments-failed','HqelS':_0x34348f(0x129),'SLHLg':'Browserstack','oUGCe':_0x34348f(0xa1),'wDMri':'Namespace\x20created','AyvOP':_0x34348f(0x222),'wfxKo':'Spawning\x20Grid\x20on\x20the\x20Cluster','MoHiw':function(_0x4f86ae,_0x39e927,_0x7ed65e,_0x31a4ef,_0x5b4ad6,_0x89b327,_0x51e3e2,_0x4b6c21,_0x562a73,_0x55487b,_0x43227c){return _0x4f86ae(_0x39e927,_0x7ed65e,_0x31a4ef,_0x5b4ad6,_0x89b327,_0x51e3e2,_0x4b6c21,_0x562a73,_0x55487b,_0x43227c);},'SunVs':_0x34348f(0x237),'KiweR':_0x34348f(0xfb),'qhgVR':function(_0x49bca9,_0x3ff906,_0x28d9a2,_0x5a0ac2,_0xc51c81){return _0x49bca9(_0x3ff906,_0x28d9a2,_0x5a0ac2,_0xc51c81);},'LZUyn':_0x34348f(0xd3),'ZwADc':_0x34348f(0x12d),'yQEpk':_0x34348f(0x11e),'mIPaD':function(_0x1308c0,_0x5e1214){return _0x1308c0===_0x5e1214;},'ESFaW':_0x34348f(0x229),'LbTBz':_0x34348f(0xab),'iVBtg':_0x34348f(0x99),'CgiZh':function(_0x1614f8,_0x16151a,_0x16e3ae,_0x47f204,_0x1ce4b7,_0x42420b,_0x4dd0a0,_0x536f59){return _0x1614f8(_0x16151a,_0x16e3ae,_0x47f204,_0x1ce4b7,_0x42420b,_0x4dd0a0,_0x536f59);},'QjAhi':'get-grid-url-auth-failed','HnxIm':function(_0x15f1e7,_0x496a21){return _0x15f1e7!==_0x496a21;},'xywsa':'get-grid-url-non-200','lhPTW':function(_0x6b0e10,_0x1afa61){return _0x6b0e10===_0x1afa61;},'JEdWN':_0x34348f(0x192),'oinYd':function(_0x3357e0,_0x278c90,_0x1c2d43,_0x44d7e0,_0x32ff4a,_0x49c171){return _0x3357e0(_0x278c90,_0x1c2d43,_0x44d7e0,_0x32ff4a,_0x49c171);},'osfzR':'grid-spawning-failed'};let _0xd0a16a=![],_0x4db3ae=![],_0x490f64,_0x46a9b9,_0x3d05d7,_0x41b364,_0x44c9b2,_0x4cd33e,_0x5e70da,_0x54dba4,_0xba8b71,_0x3a8d73,_0x21b985,_0x1dfbd3,_0x2e3e0f,_0xfefcf7,_0x11ed15=0x1,_0x5872fc=0xe;try{global_registry[_0x34348f(0x85)]=_0xc37465[_0x34348f(0x19a)](uuidv4),global_registry[_0x34348f(0x1d5)]=![];!fs[_0x34348f(0x21c)](_0xc37465[_0x34348f(0x22f)](getCredentialsPath))&&(_0xc37465[_0x34348f(0x1ba)](_0xc37465[_0x34348f(0xee)],_0xc37465[_0x34348f(0xee)])?(console[_0x34348f(0xd7)](_0xc37465['vKYZZ']),await _0xc37465[_0x34348f(0x1b8)](sendInstrumentationEvent,_0x5ecbca,_0xc37465[_0x34348f(0x143)],messageTypes['ERROR'],_0xc37465[_0x34348f(0x203)],null,_0x5ecbca),process['exit'](0x1)):_0x27f8f6=_0xc37465[_0x34348f(0x190)]);await _0xc37465[_0x34348f(0x1b8)](sendInstrumentationEvent,_0x5ecbca,_0xc37465[_0x34348f(0x143)],messageTypes[_0x34348f(0xf5)],null,null,_0x5ecbca);const _0x481485=JSON['parse'](fs[_0x34348f(0x1c7)](_0xc37465[_0x34348f(0x18b)](getCredentialsPath)));global_registry[_0x34348f(0x134)]=_0x481485[_0x34348f(0x1a9)]['username'],global_registry[_0x34348f(0x174)]=_0x481485[_0x34348f(0x1a9)][_0x34348f(0x1d8)];const _0x4fc443=WS_ENDPOINT[_0x34348f(0x1ca)](_0xc37465[_0x34348f(0xeb)],_0x481485[_0x34348f(0x1a9)][_0x34348f(0x1d3)])['replace'](_0xc37465['MsiAK'],_0x481485['Browserstack'][_0x34348f(0x1d8)]),_0x3ce0c9={};_0x3ce0c9[_0x34348f(0xe4)]=ws,_0x3ce0c9['connectionTimeout']=0x36ee80,_0x1dfbd3=new ReconnectingWebSocket(_0x4fc443,[],_0x3ce0c9),logger[_0x34348f(0x126)](_0xc37465[_0x34348f(0xaa)]),webSocketUtils[_0x34348f(0x1f8)](_0x1dfbd3,_0x5ecbca[_0x34348f(0x204)],_0x5ecbca['password']);const _0x33d40d=_0x5ecbca['gridName']||DEFAULT_GRID_NAME;if(_0x5ecbca[_0x34348f(0x130)]||_0x5ecbca['cloudProvider']||_0x5ecbca[_0x34348f(0x15b)]){if(_0xc37465[_0x34348f(0x116)](_0xc37465['qtjNn'],_0xc37465[_0x34348f(0x17b)]))_0x5daa81=_0x27affb[_0x4c361b[_0x34348f(0x202)]];else{if(!(_0x5ecbca[_0x34348f(0x130)]&&_0x5ecbca['cloudProvider']&&_0x5ecbca[_0x34348f(0x15b)])){if(_0xc37465[_0x34348f(0x93)](_0xc37465['MFKAT'],_0xc37465['MFKAT']))_0x490f64=_0xc37465[_0x34348f(0x1b9)],await _0xc37465[_0x34348f(0x15d)](reportToGalactusAndSendToEDS,_0x5ecbca,_0x1dfbd3,_0x490f64,messageTypes['ERROR'],_0xc37465[_0x34348f(0x143)],_0xc37465[_0x34348f(0x21f)],_0xc37465[_0x34348f(0xc8)]),logger[_0x34348f(0xd7)](_0x490f64),process[_0x34348f(0x12b)](0x1);else{const _0x5939e3=_0xc37465[_0x34348f(0x1ef)][_0x34348f(0x1c0)]('|');let _0x1b2574=0x0;while(!![]){switch(_0x5939e3[_0x1b2574++]){case'0':const _0x427a96={};_0x427a96[_0x34348f(0x142)]=_0x1bfcd0['LOG'],_0x427a96[_0x34348f(0xa3)]=_0x337ab6,_0x513ca1[_0x34348f(0x117)](_0x5c4218,_0x427a96);continue;case'1':_0x4da9e9=null;continue;case'2':_0x551092=_0x4dfae9[_0x34348f(0x144)];continue;case'3':_0x3078b3=_0x34348f(0x158)+_0x1560ef;continue;case'4':_0x381a11=null;continue;case'5':_0xc37465[_0x34348f(0x1cd)](_0x33fd9f,_0x39ee0a,_0x138e1c,_0x2dc3aa,_0x3285d4,_0x5f0ed4,_0x49004f,_0x14d7a6,_0x4752a8,_0xf10fa1,_0x490eb2,_0x3a538e);continue;case'6':_0xc37465['WDaWj'](_0x5b8e1f[_0x34348f(0x1f5)],_0x3aa503)&&_0x35c8a7[_0x34348f(0x1f5)]&&(_0x3b038d[_0x34348f(0x1d5)]=!![]);continue;case'7':_0x23992d=_0x402145['instanceType'];continue;case'8':_0x529346=_0x472ca0[_0x34348f(0x113)];continue;case'9':_0x23eec9=_0x1632fb['browserVersion'];continue;case'10':_0x5d5f88=_0x7be40a[_0x34348f(0x225)];continue;case'11':_0x55a139=_0x3e7f9e[_0x34348f(0x1a3)];continue;case'12':_0x4fa013=null;continue;case'13':_0x2abbf0[_0x34348f(0x148)]&&_0xc37465[_0x34348f(0x163)](_0x5574ea,_0x3b44b[_0x34348f(0x20b)]);continue;case'14':_0xa7ddba=_0x4e6de2[_0x34348f(0x1ad)];continue;case'15':_0xa19510[_0x34348f(0x14a)](_0xc32f49);continue;}break;}}}![AWS,AZURE,GCP][_0x34348f(0xb0)](_0x5ecbca[_0x34348f(0x1f1)][_0x34348f(0x160)]())&&(_0xc37465['VpoPY'](_0xc37465['FxSLa'],_0xc37465[_0x34348f(0x145)])?(_0x490f64=_0xc37465['jnaSR'],await _0xc37465[_0x34348f(0x20d)](reportToGalactusAndSendToEDS,_0x5ecbca,_0x1dfbd3,_0x490f64,messageTypes[_0x34348f(0x182)],_0xc37465[_0x34348f(0x143)],_0xc37465[_0x34348f(0x218)],_0xc37465[_0x34348f(0xc8)]),logger[_0x34348f(0xd7)](_0x490f64),process[_0x34348f(0x12b)](0x1)):(_0x37649[_0x34348f(0x14a)](_0x34348f(0x11b)+_0xff4a7a[_0x34348f(0x130)]+_0x34348f(0x9a)),_0x170b05=![],_0x362ae8=!![]));_0x5ecbca['privateGrid']&&_0xc37465[_0x34348f(0x93)](_0x5ecbca['privateGrid'][_0x34348f(0x160)](),_0xc37465['KhGQz'])&&(_0xc37465['JkQnJ'](_0xc37465[_0x34348f(0x16f)],_0xc37465[_0x34348f(0x102)])?_0x3e8548[_0x34348f(0xdd)]():global_registry[_0x34348f(0x1d5)]=!![]);global_registry['cloudProvider']=_0x5ecbca[_0x34348f(0x1f1)],global_registry[_0x34348f(0x1b6)]=_0x5ecbca[_0x34348f(0x15b)],global_registry[_0x34348f(0x130)]=_0x5ecbca[_0x34348f(0x130)];const _0x44ee46=await _0xc37465[_0x34348f(0x1a1)](getCloudProviderObject,_0x5ecbca[_0x34348f(0x1f1)],_0x5ecbca[_0x34348f(0x130)],_0x33d40d,_0x1dfbd3,webSocketUtils,_0x5ecbca),_0x15b121=await _0x44ee46[_0x34348f(0x121)]();if(!_0x15b121){if(_0xc37465[_0x34348f(0x93)](_0xc37465['utQJQ'],_0xc37465[_0x34348f(0x106)]))logger[_0x34348f(0x14a)](_0x34348f(0x11b)+_0x5ecbca[_0x34348f(0x130)]+'\x20doesn\x27t\x20exist.\x20Proceeding\x20with\x20creating\x20a\x20new\x20cluster'),_0xd0a16a=![],_0x4db3ae=!![];else{const _0x32b15e={'azure.workload.identity/use':_0xc37465['KhGQz'],..._0x58a6a8[0x0]['spec']['template'][_0x34348f(0x1ff)]['labels']};_0x5a7ee8[0x0][_0x34348f(0xbc)]['template'][_0x34348f(0x1ff)][_0x34348f(0xce)]=_0x32b15e,_0x29bfc0[0x0][_0x34348f(0xbc)][_0x34348f(0x1a6)][_0x34348f(0xbc)][_0x34348f(0x119)]=_0xc37465[_0x34348f(0x177)];}}else{if(_0xc37465[_0x34348f(0x116)](_0xc37465['IivVQ'],_0xc37465[_0x34348f(0x16b)]))_0xd0a16a=!![];else{const _0x5d688b={};_0x5d688b['type']=_0xbe7935['LOG'],_0x5d688b[_0x34348f(0xa3)]=_0x34348f(0x96)+_0x59a0d8+_0x34348f(0xdb),_0x18a39c[_0x34348f(0x117)](_0x2e1b0e,_0x5d688b,_0xc37465[_0x34348f(0x83)]),_0x317f65[_0x34348f(0x14a)]('Cluster\x20'+_0x37299f+'\x20is\x20already\x20present.\x20Skipping\x20cluster\x20creation'),_0x1d5c43=!![];if(_0xc37465[_0x34348f(0x93)](_0x2dac39,!![]))throw new _0x4a9be0('Cluster\x20'+_0x47f69d+'\x20is\x20already\x20present.\x20Cannot\x20spawn\x20a\x20new\x20cluster');}}_0x3d05d7=_0x5ecbca['clusterName'],_0x46a9b9=_0x5ecbca[_0x34348f(0x1f1)][_0x34348f(0x160)](),_0x41b364=_0x5ecbca[_0x34348f(0x15b)];}}else{if(_0x5ecbca[_0x34348f(0x202)]){if(_0xc37465[_0x34348f(0xf8)](_0xc37465['QdMIj'],_0xc37465['QdMIj'])){const _0x42fed0={};_0x42fed0[_0x34348f(0x154)]=_0xc37465[_0x34348f(0x17c)],_0x42fed0[_0x34348f(0x142)]=_0xc37465[_0x34348f(0xec)];const _0x3ff7fc={};_0x3ff7fc[_0x34348f(0x154)]=_0xc37465['ttJXB'],_0x3ff7fc['type']=_0xc37465[_0x34348f(0xec)];const _0xb024a4={};_0xb024a4['description']=_0xc37465[_0x34348f(0x107)],_0xb024a4[_0x34348f(0x142)]=_0xc37465['KzRmT'];const _0x52a0c8={};_0x52a0c8['description']=_0xc37465[_0x34348f(0x1bf)],_0x52a0c8[_0x34348f(0x142)]=_0xc37465[_0x34348f(0xec)];const _0x4c427c={};_0x4c427c[_0x34348f(0x154)]=_0xc37465[_0x34348f(0x19f)],_0x4c427c['type']=_0xc37465[_0x34348f(0xec)];const _0x38c9db={};_0x38c9db['description']=_0xc37465[_0x34348f(0xc5)],_0x38c9db[_0x34348f(0x142)]=_0xc37465[_0x34348f(0xec)];const _0x19200e={};_0x19200e[_0x34348f(0x154)]=_0xc37465[_0x34348f(0x17a)],_0x19200e['type']=_0xc37465[_0x34348f(0x1d7)],_0x19200e[_0x34348f(0x104)]=![];const _0x5169f5={};_0x5169f5['description']=_0xc37465[_0x34348f(0x91)],_0x5169f5[_0x34348f(0x142)]=_0xc37465['DuFWt'],_0x5169f5[_0x34348f(0x104)]=![];const _0x46d55b={};return _0x46d55b[_0x34348f(0x22c)]=_0x42fed0,_0x46d55b['grid-profile']=_0x3ff7fc,_0x46d55b[_0x34348f(0x132)]=_0xb024a4,_0x46d55b['cloud-provider']=_0x52a0c8,_0x46d55b['region']=_0x4c427c,_0x46d55b['private-grid']=_0x38c9db,_0x46d55b[_0x34348f(0xb3)]=_0x19200e,_0x46d55b[_0x34348f(0x200)]=_0x5169f5,_0x1fcfeb['usage'](_0x4e1dc0[_0x34348f(0x8f)])[_0x34348f(0x1e9)](_0x3b02db)['options'](_0x46d55b)[_0x34348f(0x9f)](_0xc37465[_0x34348f(0x1f4)])[_0x34348f(0x10a)];}else global_registry[_0x34348f(0x202)]=_0x5ecbca[_0x34348f(0x202)];}}global_registry[_0x34348f(0x191)]=_0x5ecbca[_0x34348f(0x191)];const _0x3f07df={'method':_0xc37465[_0x34348f(0x1dd)],'headers':_0xc37465['uqpnL'](getAuthHeader,_0x481485['Browserstack'][_0x34348f(0x1d3)],_0x481485['Browserstack'][_0x34348f(0x1d8)]),'throwHttpErrors':![]},_0x3c63d8={};_0x3c63d8['gridName']=_0x33d40d;const _0xee5acb=_0x3c63d8;if(_0x4db3ae){if(_0xc37465['pcBjw'](_0xc37465[_0x34348f(0x1e3)],_0xc37465[_0x34348f(0x181)])){const _0x5d57d5=_0xc37465[_0x34348f(0x94)][_0x34348f(0x1c0)]('|');let _0x31a5db=0x0;while(!![]){switch(_0x5d57d5[_0x31a5db++]){case'0':const _0x25cf0a={};_0x25cf0a[_0x34348f(0x142)]=_0x113981[_0x34348f(0xae)],_0x25cf0a['message']=_0xc37465[_0x34348f(0x1b0)],_0x446a0f[_0x34348f(0x117)](_0x534db8,_0x25cf0a);continue;case'1':_0x35763f='Spawning\x20the\x20grid\x20'+_0x4d5375+'\x20in\x20existing\x20cluster\x20\x27'+_0x3d83b5+'\x27';continue;case'2':const _0x48de6e={};_0x48de6e[_0x34348f(0x142)]=_0x29440c['LOG'],_0x48de6e['message']=_0xdb8818,_0x411e09[_0x34348f(0x117)](_0x8b08e9,_0x48de6e);continue;case'3':_0x3eebb1[_0x34348f(0xcf)]=_0x23eb94[_0x34348f(0xcf)];continue;case'4':_0x2c241e['clusterRegion']=_0x17e7f6;continue;case'5':_0x3ec020[_0x34348f(0x1ad)]=_0xfbf533['hubVersion'];continue;case'6':_0x21f3ad['cloudProvider']=_0x4ab132;continue;case'7':_0x460bb7[_0x34348f(0x130)]=_0x1ff4c9;continue;case'8':_0x576026[_0x34348f(0x14a)](_0x3278aa);continue;}break;}}else _0xee5acb[_0x34348f(0x15b)]=_0x41b364,_0xee5acb[_0x34348f(0x1f1)]=_0x46a9b9,_0xee5acb[_0x34348f(0x9b)]=!![];}const _0xadb803=_0x34348f(0x110)+AG_API_URL+'/packages/cli/create-grid-checks',_0x54588a={'searchParams':_0xee5acb,'throwHttpErrors':![],..._0x3f07df},_0x34fb36=_0x54588a,_0x3e88cc=await _0xc37465[_0x34348f(0x17e)](got,_0xadb803,_0x34fb36);(_0xc37465[_0x34348f(0x93)](_0x3e88cc,null)||_0xc37465[_0x34348f(0x1c1)](_0x3e88cc,undefined))&&(_0xc37465[_0x34348f(0x23a)](_0xc37465[_0x34348f(0x220)],_0xc37465['MYlMz'])?_0x133c86[_0x34348f(0x1d5)]=!![]:(_0x490f64=_0xc37465[_0x34348f(0x1ae)],await _0xc37465[_0x34348f(0x90)](reportToGalactusAndSendToEDS,_0x5ecbca,_0x1dfbd3,_0x490f64,messageTypes['ERROR'],_0xc37465[_0x34348f(0x143)],_0xc37465[_0x34348f(0x168)],_0xc37465[_0x34348f(0xc8)]),logger['error'](_0x490f64),process[_0x34348f(0x12b)](0x1)));_0xc37465[_0x34348f(0x1c1)](_0x3e88cc[_0x34348f(0xa2)],0x191)&&(_0xc37465[_0x34348f(0x1f2)](_0xc37465['trfnu'],_0xc37465[_0x34348f(0xb2)])?(_0x490f64=_0xc37465[_0x34348f(0x172)],await _0xc37465[_0x34348f(0xf1)](reportToGalactusAndSendToEDS,_0x5ecbca,_0x1dfbd3,_0x490f64,messageTypes[_0x34348f(0x182)],_0xc37465[_0x34348f(0x143)],_0xc37465[_0x34348f(0xe5)],_0xc37465[_0x34348f(0xc8)]),logger[_0x34348f(0xd7)](_0x490f64),process[_0x34348f(0x12b)](0x1)):_0x2227f6[_0x34348f(0x14a)](_0x34348f(0x1c2)+_0x198fd6+'\x20'));_0xc37465[_0x34348f(0xf8)](_0x3e88cc[_0x34348f(0xa2)],0xc8)&&(_0xc37465[_0x34348f(0x1b7)](_0xc37465[_0x34348f(0x1a8)],_0xc37465[_0x34348f(0x1b1)])?_0x1600dc=_0xc37465[_0x34348f(0x1a2)]:(_0x490f64=_0x34348f(0x1f9)+JSON[_0x34348f(0x189)](_0x3e88cc[_0x34348f(0xf2)]),await _0xc37465[_0x34348f(0x131)](reportToGalactusAndSendToEDS,_0x5ecbca,_0x1dfbd3,_0x490f64,messageTypes['ERROR'],_0xc37465[_0x34348f(0x143)],_0xc37465[_0x34348f(0x115)],_0xc37465['YgurV']),logger[_0x34348f(0xd7)](_0x490f64),process[_0x34348f(0x12b)](0x1)));const _0x4b5733=JSON[_0x34348f(0x173)](_0x3e88cc['body']),_0x1ff368={};_0x1ff368['type']=WS_EVENTS[_0x34348f(0xae)],_0x1ff368['message']=_0xc37465[_0x34348f(0x1b0)],webSocketUtils[_0x34348f(0x117)](_0x1dfbd3,_0x1ff368);const _0x145a1b={};_0x145a1b['type']=WS_EVENTS[_0x34348f(0x1a0)],_0x145a1b['message']=_0xc37465[_0x34348f(0x112)],webSocketUtils[_0x34348f(0x117)](_0x1dfbd3,_0x145a1b);_0x4b5733['alreadyPresent']&&(_0xc37465[_0x34348f(0x147)](_0xc37465[_0x34348f(0x19d)],_0xc37465[_0x34348f(0xfc)])?_0x29a56e=null:(_0x490f64=_0x34348f(0x235)+_0x33d40d+_0x34348f(0xf4),await _0xc37465[_0x34348f(0x15d)](reportToGalactusAndSendToEDS,_0x5ecbca,_0x1dfbd3,_0x490f64,messageTypes[_0x34348f(0x182)],_0xc37465[_0x34348f(0x143)],_0xc37465[_0x34348f(0x149)],_0xc37465[_0x34348f(0xc8)]),logger[_0x34348f(0xd7)](_0x490f64),process[_0x34348f(0x12b)](0x1)));const _0x670b35=_0x4b5733[_0x34348f(0x209)];let _0xe703ba=_0x670b35[_0x4b5733[_0x34348f(0x17f)]];_0x5ecbca[_0x34348f(0x202)]&&(_0xc37465['VpoPY'](_0xc37465[_0x34348f(0xd1)],_0xc37465[_0x34348f(0xd1)])?_0xc37465[_0x34348f(0x163)](_0x3fb0fe,_0x1b80e3[_0x34348f(0x12a)]):_0xe703ba=_0x670b35[_0x5ecbca[_0x34348f(0x202)]]);global_registry[_0x34348f(0x148)]=![];if(_0x5ecbca[_0x34348f(0x1d2)]){if(_0xc37465[_0x34348f(0xf8)](_0xc37465[_0x34348f(0x14e)],_0xc37465[_0x34348f(0x227)])){const _0x35b8eb=_0xc37465[_0x34348f(0x1fc)][_0x34348f(0x1c0)]('|');let _0x2274a2=0x0;while(!![]){switch(_0x35b8eb[_0x2274a2++]){case'0':global_registry['enableHubHa']=!![];continue;case'1':global_registry[_0x34348f(0x214)]=_0xc37465[_0x34348f(0x1d6)];continue;case'2':global_registry[_0x34348f(0x15a)]=_0xc37465[_0x34348f(0x98)];continue;case'3':logger[_0x34348f(0x14a)](_0xc37465[_0x34348f(0xdc)]);continue;case'4':global_registry[_0x34348f(0x165)]=_0xc37465[_0x34348f(0xb1)];continue;}break;}}else _0x20baba=_0xc37465['rZARo'];}if(_0xc37465[_0x34348f(0xe3)](_0xd0a16a,![])&&_0xc37465[_0x34348f(0x1d9)](_0x4db3ae,![])){if(_0xc37465[_0x34348f(0xf8)](_0xc37465[_0x34348f(0x1a5)],_0xc37465[_0x34348f(0x1a5)])){const _0x35a3d5={};_0x35a3d5[_0x34348f(0x142)]=_0x1b5633[_0x34348f(0x1a0)],_0x35a3d5['message']=_0x463ee6,_0x467ae7[_0x34348f(0x117)](_0xe93c57,_0x35a3d5,_0xc37465[_0x34348f(0xc8)],!![]);}else{_0xc37465['JkQnJ'](_0xe703ba,undefined)&&(_0xc37465[_0x34348f(0x22a)](_0xc37465[_0x34348f(0xe7)],_0xc37465[_0x34348f(0x211)])?(_0x490f64=_0xc37465[_0x34348f(0x201)],await _0xc37465[_0x34348f(0x92)](reportToGalactusAndSendToEDS,_0x5ecbca,_0x1dfbd3,_0x490f64,messageTypes['ERROR'],_0xc37465[_0x34348f(0x143)],_0xc37465['lrJvI'],_0xc37465[_0x34348f(0xc8)]),logger[_0x34348f(0xd7)](_0x490f64),process[_0x34348f(0x12b)](0x1)):_0x946c4[_0x34348f(0x14a)](_0x34348f(0xa4)+_0x399c66[_0x34348f(0x189)](_0xf5b19e)+'\x20'));global_registry[_0x34348f(0x1b3)]=_0xe703ba['id'],_0x490f64=_0x34348f(0x1e7)+_0x33d40d+'\x20using\x20\x27'+_0xe703ba['name']+_0x34348f(0x20a),logger[_0x34348f(0x14a)](_0x490f64);const _0x53ad84={};_0x53ad84['type']=WS_EVENTS[_0x34348f(0x1a0)],_0x53ad84[_0x34348f(0xa3)]=_0x490f64,webSocketUtils[_0x34348f(0x117)](_0x1dfbd3,_0x53ad84),_0x46a9b9=_0xe703ba['cloudProvider'],_0x3d05d7=_0xe703ba[_0x34348f(0x130)],_0x41b364=_0xe703ba[_0x34348f(0x15b)],_0x44c9b2=_0xe703ba['concurrency'],_0x4cd33e=_0xe703ba[_0x34348f(0x1e1)],_0x5e70da=_0xe703ba[_0x34348f(0x205)],_0x54dba4=_0xe703ba['securityGroups'],_0xba8b71=_0xe703ba['subnets'],_0x3a8d73=_0xe703ba[_0x34348f(0x225)],_0x11ed15=_0xe703ba['minNodes'],_0x5872fc=_0xe703ba[_0x34348f(0x144)],_0x2e3e0f=_0x4b5733['hubVersion'],_0xfefcf7=_0x4b5733[_0x34348f(0xcf)];_0x5e70da&&_0xc37465[_0x34348f(0x151)](_0x5e70da[_0x34348f(0x108)],0x0)&&(_0xc37465[_0x34348f(0x1f2)](_0xc37465[_0x34348f(0x1da)],_0xc37465[_0x34348f(0x10d)])?_0x5e70da=null:_0xc37465['eCNhK'](_0x1972ab,_0x21ab31['kafkaUploader']));if(_0xba8b71&&_0xc37465[_0x34348f(0xd6)](_0xba8b71[_0x34348f(0x108)],0x0)){if(_0xc37465[_0x34348f(0xcb)](_0xc37465['YmMmD'],_0xc37465[_0x34348f(0x101)])){const _0x3f1f39=_0xc37465[_0x34348f(0x15f)][_0x34348f(0x1c0)]('|');let _0x2e5574=0x0;while(!![]){switch(_0x3f1f39[_0x2e5574++]){case'0':_0x4ff428['kafkaPassword']=_0xc37465[_0x34348f(0x98)];continue;case'1':_0x44c01e['redisPassword']=_0xc37465['qibMO'];continue;case'2':_0x1378b1[_0x34348f(0x148)]=!![];continue;case'3':_0x17817a[_0x34348f(0x14a)](_0xc37465[_0x34348f(0xdc)]);continue;case'4':_0x2908a5[_0x34348f(0x214)]=_0xc37465[_0x34348f(0x1d6)];continue;}break;}}else _0xba8b71=null;}_0xc37465[_0x34348f(0xf8)](_0xe703ba[_0x34348f(0x1f5)],undefined)&&_0xe703ba['privateGrid']&&(_0xc37465['cmLxw'](_0xc37465[_0x34348f(0x8d)],_0xc37465['otLfm'])?(_0x2b9f8a=_0x55d31d['route53'],_0x349b6e=_0xc37465[_0x34348f(0x87)]):global_registry[_0x34348f(0x1d5)]=!![]),_0xc37465[_0x34348f(0x1cd)](updateGlobalRegistryWithConfig,_0x46a9b9,_0x3d05d7,_0x41b364,_0x44c9b2,_0x4cd33e,_0x3a8d73,_0xe703ba,_0x2e3e0f,_0xfefcf7,_0x11ed15,_0x5872fc),global_registry['enableHubHa']&&(_0xc37465[_0x34348f(0x93)](_0xc37465['icmBb'],_0xc37465['EmYKO'])?_0x9c0f2d=null:_0xc37465[_0x34348f(0x163)](updateGlobalRegistryForHubHa,_0x4b5733[_0x34348f(0x12a)]));}}else{if(_0xc37465[_0x34348f(0x195)](_0x4db3ae,!![])){if(_0xc37465[_0x34348f(0x23a)](_0xc37465[_0x34348f(0x19b)],_0xc37465['jlXUU']))_0x2ccf5b=!![];else{_0x490f64='Will\x20be\x20spawning\x20a\x20new\x20cluster\x20and\x20the\x20grid\x20'+_0x33d40d,logger[_0x34348f(0x14a)](_0x490f64);const _0x550165={};_0x550165[_0x34348f(0x142)]=WS_EVENTS['LOG'],_0x550165[_0x34348f(0xa3)]=_0x490f64,webSocketUtils[_0x34348f(0x117)](_0x1dfbd3,_0x550165),_0x44c9b2=_0xe703ba[_0x34348f(0x1a3)],_0x4cd33e=_0xe703ba[_0x34348f(0x1e1)],_0x5e70da=null,_0x54dba4=null,_0xba8b71=null,_0x3a8d73=_0xe703ba[_0x34348f(0x225)],_0x11ed15=_0xe703ba[_0x34348f(0x113)],_0x5872fc=_0xe703ba[_0x34348f(0x144)],_0x2e3e0f=_0x4b5733[_0x34348f(0x1ad)],_0xfefcf7=_0x4b5733[_0x34348f(0xcf)],_0xc37465[_0x34348f(0xf8)](_0xe703ba[_0x34348f(0x1f5)],undefined)&&_0xe703ba[_0x34348f(0x1f5)]&&(_0xc37465[_0x34348f(0x22a)](_0xc37465[_0x34348f(0xba)],_0xc37465[_0x34348f(0x84)])?global_registry[_0x34348f(0x1d5)]=!![]:_0x41968f[_0x34348f(0x1d5)]=!![]),_0xc37465[_0x34348f(0x1cd)](updateGlobalRegistryWithConfig,_0x46a9b9,_0x3d05d7,_0x41b364,_0x44c9b2,_0x4cd33e,_0x3a8d73,_0xe703ba,_0x2e3e0f,_0xfefcf7,_0x11ed15,_0x5872fc),global_registry[_0x34348f(0x148)]&&(_0xc37465[_0x34348f(0xcb)](_0xc37465[_0x34348f(0x15e)],_0xc37465[_0x34348f(0x15e)])?_0xc37465[_0x34348f(0x163)](updateGlobalRegistryForHubHa,_0x4b5733[_0x34348f(0x20b)]):_0x38d424[_0x34348f(0xd7)]('Failed\x20to\x20delete\x20the\x20CloudFormation\x20Stacks\x20and\x20other\x20spawned\x20components.\x20Error:\x20\x20'+_0xaed2fb+'\x20\x0a'+_0x3d4b76[_0x34348f(0x189)](_0x42ff60['stack'])));}}else{if(_0xc37465[_0x34348f(0xad)](_0xc37465[_0x34348f(0xe0)],_0xc37465[_0x34348f(0xe0)]))_0xf0fec8[_0x34348f(0x202)]=_0x53df38[_0x34348f(0x202)];else{const _0x45b350=_0xc37465[_0x34348f(0xa9)][_0x34348f(0x1c0)]('|');let _0x127966=0x0;while(!![]){switch(_0x45b350[_0x127966++]){case'0':global_registry['clusterName']=_0x3d05d7;continue;case'1':global_registry[_0x34348f(0x1ad)]=_0x4b5733[_0x34348f(0x1ad)];continue;case'2':global_registry['clusterRegion']=_0x41b364;continue;case'3':global_registry['cloudProvider']=_0x46a9b9;continue;case'4':global_registry[_0x34348f(0xcf)]=_0x4b5733[_0x34348f(0xcf)];continue;case'5':_0x490f64=_0x34348f(0xb7)+_0x33d40d+_0x34348f(0xe1)+_0x3d05d7+'\x27';continue;case'6':const _0x29af6b={};_0x29af6b[_0x34348f(0x142)]=WS_EVENTS[_0x34348f(0x1a0)],_0x29af6b[_0x34348f(0xa3)]=_0x490f64,webSocketUtils[_0x34348f(0x117)](_0x1dfbd3,_0x29af6b);continue;case'7':logger[_0x34348f(0x14a)](_0x490f64);continue;case'8':const _0x4a13b2={};_0x4a13b2[_0x34348f(0x142)]=WS_EVENTS['CLI_RUN_STARTED'],_0x4a13b2[_0x34348f(0xa3)]=_0xc37465[_0x34348f(0x1b0)],webSocketUtils[_0x34348f(0x117)](_0x1dfbd3,_0x4a13b2);continue;}break;}}}}const _0x2a6ef7=await _0xc37465[_0x34348f(0x118)](getCloudProviderObject,_0x46a9b9,_0x3d05d7,_0x33d40d,_0x1dfbd3,webSocketUtils,_0x5ecbca);_0xc37465[_0x34348f(0x1fe)](_0x46a9b9,AZURE)&&(_0xc37465[_0x34348f(0x116)](_0xc37465[_0x34348f(0x11f)],_0xc37465[_0x34348f(0x12c)])?_0x2a6ef7['sendResourceDataToHST']():(_0x3edfcb[_0x34348f(0x15b)]=_0x372220,_0x3af208[_0x34348f(0x1f1)]=_0x2e8047,_0x1cdd4e['newCluster']=!![]));let _0x282ef5;if(_0xc37465[_0x34348f(0x1c1)](_0xd0a16a,![])){_0x490f64=_0x34348f(0x1e2)+_0x41b364+').';const _0x33fb88={};_0x33fb88[_0x34348f(0x142)]=WS_EVENTS[_0x34348f(0x1a0)],_0x33fb88[_0x34348f(0xa3)]=_0x490f64,webSocketUtils[_0x34348f(0x117)](_0x1dfbd3,_0x33fb88),logger[_0x34348f(0x14a)](_0x490f64);const _0x2aae65=await _0x2a6ef7[_0x34348f(0x121)]();if(_0x2aae65){if(_0xc37465[_0x34348f(0x1b7)](_0xc37465[_0x34348f(0x230)],_0xc37465[_0x34348f(0x179)]))_0x53be25[_0x34348f(0x1d5)]=!![];else{const _0x234157={};_0x234157['type']=WS_EVENTS[_0x34348f(0x1a0)],_0x234157[_0x34348f(0xa3)]=_0x34348f(0x96)+_0x3d05d7+_0x34348f(0xdb),webSocketUtils[_0x34348f(0x117)](_0x1dfbd3,_0x234157,_0xc37465[_0x34348f(0x83)]),logger['info'](_0x34348f(0x96)+_0x3d05d7+_0x34348f(0xdb)),_0xd0a16a=!![];if(_0xc37465[_0x34348f(0x186)](_0x4db3ae,!![])){if(_0xc37465['exQZU'](_0xc37465[_0x34348f(0x1fb)],_0xc37465[_0x34348f(0x11a)]))throw new _0x53d85d(_0x34348f(0x96)+_0x4adbea+_0x34348f(0x183));else throw new Error(_0x34348f(0x96)+_0x3d05d7+_0x34348f(0x183));}}}else{const _0x36b485={};_0x36b485[_0x34348f(0x142)]=WS_EVENTS[_0x34348f(0x1a0)],_0x36b485['message']=_0xc37465[_0x34348f(0xa5)],webSocketUtils['sendEventToBackend'](_0x1dfbd3,_0x36b485),logger[_0x34348f(0x14a)](_0xc37465[_0x34348f(0xa5)]);const _0x1f3b27=_0xc37465[_0x34348f(0x1e0)](_0x5e70da,null)&&_0xc37465['hgoyP'](_0x5e70da,undefined),_0x2be9b4=_0xc37465[_0x34348f(0x1e0)](_0xba8b71,null)&&_0xc37465[_0x34348f(0x15c)](_0xba8b71,undefined)&&_0xc37465[_0x34348f(0xc1)](_0xba8b71[_0x34348f(0x108)],0x0);if(_0x1f3b27){_0xc37465['KKbfp'](_0x2be9b4,![])&&(_0x490f64=_0xc37465[_0x34348f(0xc9)],await _0xc37465[_0x34348f(0x14f)](reportToGalactusAndSendToEDS,_0x5ecbca,_0x1dfbd3,_0x490f64,messageTypes[_0x34348f(0x182)],_0xc37465[_0x34348f(0x143)],_0xc37465[_0x34348f(0x13c)],_0xc37465[_0x34348f(0xc8)]),logger[_0x34348f(0xd7)](_0x490f64),process['exit'](0x1));const _0x2d22ad=await _0x2a6ef7['isVPCPresent'](_0x5e70da);_0xc37465[_0x34348f(0x8b)](_0x2d22ad,![])?(_0x490f64=_0xc37465['mKQTa'],await _0xc37465['lDggH'](reportToGalactusAndSendToEDS,_0x5ecbca,_0x1dfbd3,_0x490f64,messageTypes[_0x34348f(0x182)],_0xc37465[_0x34348f(0x143)],_0xc37465[_0x34348f(0x120)],_0xc37465['YgurV']),logger['error'](_0x490f64),process[_0x34348f(0x12b)](0x1)):logger[_0x34348f(0x14a)]('Found\x20VPC:\x20'+_0x5e70da+'\x20');const _0x294e0a=await _0x2a6ef7['isSubnetsValid'](_0xba8b71,_0x5e70da);_0xc37465['PzDDT'](_0x294e0a[0x0],![])?(_0x490f64=_0x34348f(0x139)+JSON[_0x34348f(0x189)](_0x294e0a[0x1])+_0x34348f(0xfe)+_0x5e70da+_0x34348f(0xdf),await _0xc37465[_0x34348f(0xac)](reportToGalactusAndSendToEDS,_0x5ecbca,_0x1dfbd3,_0x490f64,messageTypes['ERROR'],_0xc37465['JswaG'],_0xc37465['QxEXx'],_0xc37465[_0x34348f(0xc8)]),logger[_0x34348f(0xd7)](_0x490f64),process[_0x34348f(0x12b)](0x1)):logger[_0x34348f(0x14a)]('Found\x20Subnets:\x20'+JSON['stringify'](_0xba8b71)+'\x20'),[_0x5e70da,_0xba8b71]=await _0x2a6ef7[_0x34348f(0xe2)](_0x5e70da,_0xba8b71);}else{const _0x4b8c1d=_0xc37465['cEVNu'][_0x34348f(0x1c0)]('|');let _0x2ca90f=0x0;while(!![]){switch(_0x4b8c1d[_0x2ca90f++]){case'0':[_0x5e70da,_0xba8b71]=await _0x2a6ef7[_0x34348f(0xe2)](_0x5e70da,_0xba8b71);continue;case'1':logger['info'](_0xc37465[_0x34348f(0x175)]);continue;case'2':const _0x56c059={};_0x56c059[_0x34348f(0x142)]=WS_EVENTS[_0x34348f(0x1a0)],_0x56c059[_0x34348f(0xa3)]=_0xc37465['cjVwd'],webSocketUtils['sendEventToBackend'](_0x1dfbd3,_0x56c059);continue;case'3':const _0x2f008f={};_0x2f008f[_0x34348f(0x142)]=WS_EVENTS[_0x34348f(0x1a0)],_0x2f008f[_0x34348f(0xa3)]=_0xc37465['PDeHh'],webSocketUtils[_0x34348f(0x117)](_0x1dfbd3,_0x2f008f);continue;case'4':logger['info'](_0xc37465[_0x34348f(0x1bc)]);continue;}break;}}}}_0xd0a16a&&_0xc37465[_0x34348f(0x1f6)](_0x46a9b9,AZURE)&&(await _0x2a6ef7[_0x34348f(0xea)](),await _0x2a6ef7[_0x34348f(0x1df)]());const [_0x1b8084,_0x4b90cf,_0x3ccb11,_0x2af7bb,_0x380ab1,_0x554dbf,_0x3b0630]=await _0xc37465[_0x34348f(0x12f)](createK8sClient,_0x2a6ef7,_0x5ecbca['skipTlsCertVerify']);_0xc37465[_0x34348f(0x86)](_0xd0a16a,![])&&_0xc37465[_0x34348f(0xcb)](_0x46a9b9,AWS)&&(global_registry[_0x34348f(0x161)]=!![],_0x282ef5=await _0x2a6ef7[_0x34348f(0x159)](_0x1b8084,_0x5ecbca));if(_0xc37465[_0x34348f(0x86)](_0xd0a16a,![])&&global_registry[_0x34348f(0x148)])try{await _0x2a6ef7[_0x34348f(0x123)](_0x554dbf,_0x3b0630,_0x5ecbca,_0x5e70da,_0xba8b71);const _0x159d1a={};_0x159d1a['type']=WS_EVENTS[_0x34348f(0x1a0)],_0x159d1a[_0x34348f(0xa3)]=_0xc37465[_0x34348f(0xa0)],webSocketUtils[_0x34348f(0x117)](_0x1dfbd3,_0x159d1a);!await _0xc37465[_0x34348f(0x12f)](namespaceExists,_0x1b8084,global_registry['hubHaNameSpace'])&&await _0xc37465['uqpnL'](createNamespace,_0x1b8084,global_registry[_0x34348f(0x214)]);logger[_0x34348f(0x14a)](_0xc37465[_0x34348f(0x1b4)]);let _0x204162=await fs['readFileAsync'](path[_0x34348f(0x1c6)](__dirname,_0xc37465['UGaMM'],_0xc37465[_0x34348f(0xca)],_0xc37465['vUmjF'],_0xc37465[_0x34348f(0x13b)]),_0xc37465[_0x34348f(0x22e)]);_0x204162=_0x204162[_0x34348f(0x1ca)](/<RedisClientPassword>/g,_0xc37465[_0x34348f(0x163)](encodeBase64,global_registry[_0x34348f(0x165)])),_0x204162=_0x204162[_0x34348f(0x1ca)](/<KafkaClientPassword>/g,_0xc37465[_0x34348f(0x231)](encodeBase64,global_registry[_0x34348f(0x15a)])),_0x204162=_0x204162['replace'](/<BstackUsername>/g,_0xc37465[_0x34348f(0xda)](encodeBase64,global_registry[_0x34348f(0x134)])),_0x204162=_0x204162[_0x34348f(0x1ca)](/<BstackAccessKey>/g,_0xc37465[_0x34348f(0xda)](encodeBase64,global_registry['bstackAccesskey']));const _0x351aa2=yaml[_0x34348f(0xf7)](_0x204162);await _0xc37465[_0x34348f(0x234)](kubeApply,_0x351aa2,_0x3b0630),logger[_0x34348f(0x14a)](_0xc37465[_0x34348f(0x21d)]);let _0x43d250=_0xc37465['ABNht'];if(_0xc37465[_0x34348f(0x8b)](_0x46a9b9,AZURE))_0x43d250=_0xc37465[_0x34348f(0x1a2)];else _0xc37465[_0x34348f(0x10e)](_0x46a9b9,GCP)&&(_0x43d250=_0xc37465[_0x34348f(0x190)]);logger[_0x34348f(0x14a)](_0xc37465[_0x34348f(0x162)]);let _0x2f01f6=await fs[_0x34348f(0x193)](path[_0x34348f(0x1c6)](__dirname,_0xc37465[_0x34348f(0x1e5)],_0xc37465[_0x34348f(0xca)],_0xc37465['vUmjF'],_0xc37465[_0x34348f(0xb8)]),_0xc37465[_0x34348f(0x22e)]);_0x2f01f6=_0x2f01f6[_0x34348f(0x1ca)](/<HubHaNameSpace>/g,global_registry['hubHaNameSpace']),_0x2f01f6=_0x2f01f6['replace'](/<StorageClassName>/g,_0x43d250);const _0x367533=yaml[_0x34348f(0xf7)](_0x2f01f6);await _0xc37465[_0x34348f(0x234)](kubeApply,_0x367533,_0x3b0630),logger[_0x34348f(0x14a)](_0xc37465['DJasg']),logger[_0x34348f(0x14a)](_0xc37465['tTIDI']);let _0x1de292=await fs[_0x34348f(0x193)](path[_0x34348f(0x1c6)](__dirname,_0xc37465[_0x34348f(0x1e5)],_0xc37465[_0x34348f(0xca)],_0xc37465[_0x34348f(0xc2)],_0xc37465[_0x34348f(0x1ea)]),_0xc37465[_0x34348f(0x22e)]);_0x1de292=_0x1de292[_0x34348f(0x1ca)](/<HubHaNameSpace>/g,global_registry[_0x34348f(0x214)]),_0x1de292=_0x1de292[_0x34348f(0x1ca)](/<StorageClassName>/g,_0x43d250);const _0x613273=yaml['loadAll'](_0x1de292);await _0xc37465['FmxHb'](kubeApply,_0x613273,_0x3b0630),logger[_0x34348f(0x14a)](_0xc37465[_0x34348f(0x153)]),logger['info'](_0xc37465[_0x34348f(0x152)]);let _0x148376=await fs[_0x34348f(0x193)](path[_0x34348f(0x1c6)](__dirname,_0xc37465[_0x34348f(0x1e5)],_0xc37465[_0x34348f(0xca)],_0xc37465[_0x34348f(0xc2)],_0xc37465[_0x34348f(0x1ab)]),_0xc37465[_0x34348f(0x22e)]);_0x148376=_0x148376[_0x34348f(0x1ca)](/<UploaderImageVersion>/g,global_registry[_0x34348f(0x114)]),_0x148376=_0x148376[_0x34348f(0x1ca)](/<HubHaNameSpace>/g,global_registry['hubHaNameSpace']);const _0x539558=yaml['loadAll'](_0x148376);_0xc37465[_0x34348f(0x1b2)](global_registry[_0x34348f(0x1f1)],AZURE)&&(_0x539558[0x0][_0x34348f(0xbc)]['template'][_0x34348f(0x1ff)][_0x34348f(0xce)]={'azure.workload.identity/use':_0xc37465[_0x34348f(0x1f7)],..._0x539558[0x0]['spec'][_0x34348f(0x1a6)][_0x34348f(0x1ff)]['labels']},_0x539558[0x0][_0x34348f(0xbc)][_0x34348f(0x1a6)]['spec'][_0x34348f(0x119)]=_0xc37465['qtLec']);await _0xc37465[_0x34348f(0x234)](kubeApply,_0x539558,_0x3b0630),logger[_0x34348f(0x14a)](_0xc37465[_0x34348f(0x155)]);const _0x19b187={};_0x19b187['type']=WS_EVENTS[_0x34348f(0x1a0)],_0x19b187[_0x34348f(0xa3)]=_0xc37465['NfTJl'],webSocketUtils['sendEventToBackend'](_0x1dfbd3,_0x19b187),logger[_0x34348f(0x14a)](_0xc37465[_0x34348f(0x223)]);}catch(_0x4e36b9){const _0x2aeb90=_0xc37465['FZSld'][_0x34348f(0x1c0)]('|');let _0x5ee870=0x0;while(!![]){switch(_0x2aeb90[_0x5ee870++]){case'0':await _0x2a6ef7[_0x34348f(0x1bd)](_0x1b8084,global_registry[_0x34348f(0x1b6)]);continue;case'1':_0x490f64=_0x34348f(0xcc)+_0x4e36b9[_0x34348f(0xa3)];continue;case'2':logger[_0x34348f(0xd7)](_0x490f64);continue;case'3':process[_0x34348f(0x12b)](0x1);continue;case'4':await _0xc37465[_0x34348f(0x14f)](reportToGalactusAndSendToEDS,_0x5ecbca,_0x1dfbd3,_0x490f64,messageTypes[_0x34348f(0x182)],_0xc37465[_0x34348f(0x143)],_0xc37465[_0x34348f(0x11c)],_0xc37465['YgurV']);continue;}break;}}try{_0x21b985=_0xc37465[_0x34348f(0x231)](kebabCase,_0x33d40d),logger[_0x34348f(0x14a)](_0xc37465[_0x34348f(0x137)]);const _0x585feb={};_0x585feb[_0x34348f(0x142)]=WS_EVENTS[_0x34348f(0x1a0)],_0x585feb['message']=_0xc37465[_0x34348f(0x137)],webSocketUtils[_0x34348f(0x117)](_0x1dfbd3,_0x585feb);if(_0xc37465[_0x34348f(0x16e)](_0x21b985,_0xc37465[_0x34348f(0x177)])){const _0x96a733={};_0x96a733[_0x34348f(0x206)]=_0xc37465[_0x34348f(0x1f0)],_0x96a733[_0x34348f(0x167)]=_0xc37465[_0x34348f(0x1f0)];const _0x338742={};_0x338742[_0x34348f(0x238)]=_0x21b985,_0x338742[_0x34348f(0xaf)]=_0x96a733;const _0x5807e9={};_0x5807e9['metadata']=_0x338742;const _0x3722c1=_0x5807e9,_0x5d057d={};_0x5d057d[_0x34348f(0xf2)]=_0x3722c1,await _0x1b8084[_0x34348f(0xc3)](_0x5d057d),logger[_0x34348f(0x14a)](_0xc37465[_0x34348f(0x1eb)]);}const _0x327d8c={};_0x327d8c[_0x34348f(0x142)]=WS_EVENTS['LOG'],_0x327d8c[_0x34348f(0xa3)]=_0xc37465[_0x34348f(0xbd)],webSocketUtils[_0x34348f(0x117)](_0x1dfbd3,_0x327d8c);const _0x4443f4={};_0x4443f4[_0x34348f(0x142)]=WS_EVENTS['LOG'],_0x4443f4[_0x34348f(0xa3)]=_0xc37465[_0x34348f(0xb5)],webSocketUtils[_0x34348f(0x117)](_0x1dfbd3,_0x4443f4),logger[_0x34348f(0x14a)](_0xc37465[_0x34348f(0xf0)]);let _0x5897f8={};_0xc37465['Mzdhi'](_0x46a9b9,AZURE)&&(_0x5897f8={'clientId':await _0x2a6ef7[_0x34348f(0xf3)](_0x34348f(0x95)+_0x3d05d7)});await _0xc37465[_0x34348f(0x215)](addGridComponents,_0x1b8084,_0x4b90cf,_0x3ccb11,_0x2af7bb,_0x21b985,_0x3d05d7,_0x282ef5,_0x380ab1,_0x3b0630,_0x5897f8),_0x490f64=_0xc37465['SunVs'],logger[_0x34348f(0x14a)](_0x490f64);const _0x26ecc2={};_0x26ecc2[_0x34348f(0x142)]=WS_EVENTS[_0x34348f(0x1a0)],_0x26ecc2['message']=_0x490f64,webSocketUtils['sendEventToBackend'](_0x1dfbd3,_0x26ecc2),_0x490f64=_0xc37465[_0x34348f(0x164)],logger[_0x34348f(0x14a)](_0x490f64);const _0x143a4f={};_0x143a4f[_0x34348f(0x142)]=WS_EVENTS['LOG'],_0x143a4f['message']=_0x490f64,webSocketUtils[_0x34348f(0x117)](_0x1dfbd3,_0x143a4f),await _0xc37465[_0x34348f(0x199)](waitForDeployment,_0x4b90cf,_0x21b985,TURBOSCALE_DEPLOYMENT,0x1d4c0);const _0x26e06f=await _0xc37465[_0x34348f(0x17e)](getNamespaceUID,_0x1b8084,_0x21b985),_0x16a077=global_registry['isPrivateGrid']?_0xc37465[_0x34348f(0x213)]:_0xc37465[_0x34348f(0x219)],_0x25d1f4={};_0x25d1f4['name']=_0x16a077,_0x25d1f4[_0x34348f(0x10b)]=_0xc37465[_0x34348f(0x124)];const _0x2946ef=await _0x1b8084[_0x34348f(0x13a)](_0x25d1f4);let _0x3c7f79=_0x2a6ef7['getGridHostname'](_0x2946ef)+'/'+_0x21b985,_0x3a55bd=_0xc37465[_0x34348f(0xf6)];try{const _0x328f45=_0x34348f(0x110)+AG_API_URL+_0x34348f(0x1e4)+_0x26e06f,_0x50cdf9=await _0xc37465[_0x34348f(0x12f)](got,_0x328f45,_0x3f07df);(_0xc37465[_0x34348f(0x1d9)](_0x50cdf9,null)||_0xc37465[_0x34348f(0x14c)](_0x50cdf9,undefined))&&(_0x490f64=_0xc37465[_0x34348f(0x239)],await _0xc37465[_0x34348f(0x20d)](reportToGalactusAndSendToEDS,_0x5ecbca,_0x1dfbd3,_0x490f64,messageTypes[_0x34348f(0x182)],_0xc37465[_0x34348f(0x143)],_0xc37465[_0x34348f(0x1c9)],_0xc37465[_0x34348f(0xc8)]),logger[_0x34348f(0xd7)](_0x490f64),process['exit'](0x1));_0xc37465[_0x34348f(0x151)](_0x50cdf9[_0x34348f(0xa2)],0x191)&&(_0x490f64=_0xc37465[_0x34348f(0x216)],await _0xc37465['CgiZh'](reportToGalactusAndSendToEDS,_0x5ecbca,_0x1dfbd3,_0x490f64,messageTypes[_0x34348f(0x182)],_0xc37465[_0x34348f(0x143)],_0xc37465[_0x34348f(0x12e)],_0xc37465[_0x34348f(0xc8)]),logger[_0x34348f(0xd7)](_0x490f64),process['exit'](0x1));_0xc37465[_0x34348f(0xbb)](_0x50cdf9[_0x34348f(0xa2)],0xc8)&&(_0x490f64=_0x34348f(0x22d)+JSON[_0x34348f(0x189)](_0x50cdf9),await _0xc37465[_0x34348f(0x15d)](reportToGalactusAndSendToEDS,_0x5ecbca,_0x1dfbd3,_0x490f64,messageTypes[_0x34348f(0x182)],_0xc37465[_0x34348f(0x143)],_0xc37465[_0x34348f(0x196)],_0xc37465['YgurV']),logger[_0x34348f(0xd7)](_0x490f64),process[_0x34348f(0x12b)](0x1));const _0x45e7ad=JSON[_0x34348f(0x173)](_0x50cdf9[_0x34348f(0xf2)]);_0x45e7ad[_0x34348f(0xc4)]&&(_0x3c7f79=_0x45e7ad[_0x34348f(0xc4)],_0x3a55bd=_0xc37465[_0x34348f(0x87)]),global_registry['isPrivateGrid']&&(_0x3a55bd=_0xc37465[_0x34348f(0xf6)]);}catch(_0x52d673){}_0x490f64=_0x34348f(0x20f)+_0x3c7f79+'\x20',logger[_0x34348f(0x14a)](_0x490f64);const _0x2b6632={};_0x2b6632[_0x34348f(0x142)]=WS_EVENTS['LOG'],_0x2b6632[_0x34348f(0xa3)]=_0x490f64,webSocketUtils[_0x34348f(0x117)](_0x1dfbd3,_0x2b6632),_0x490f64='Hub\x20url\x20to\x20run\x20selenium\x20sessions:\x20'+_0x3a55bd+'://'+_0x3c7f79+_0x34348f(0x1cb),logger[_0x34348f(0x14a)](_0x490f64);const _0xf2252={};_0xf2252[_0x34348f(0x142)]=WS_EVENTS[_0x34348f(0x1a0)],_0xf2252[_0x34348f(0xa3)]=_0x490f64,webSocketUtils[_0x34348f(0x117)](_0x1dfbd3,_0xf2252);const _0x561ba4={};_0x561ba4[_0x34348f(0x142)]=WS_EVENTS['CLI_RUN_FINISHED'],_0x561ba4[_0x34348f(0xa3)]=_0x34348f(0x1ec)+_0x3c7f79,webSocketUtils['sendEventToBackend'](_0x1dfbd3,_0x561ba4),await webSocketUtils[_0x34348f(0x13d)](0x7d0);}catch(_0x501b1e){logger[_0x34348f(0xd7)](_0x34348f(0x1bb)+_0x501b1e+'\x20\x0a'+JSON[_0x34348f(0x189)](_0x501b1e[_0x34348f(0x1db)]));if(_0xc37465[_0x34348f(0x109)](_0xd0a16a,![]))try{logger[_0x34348f(0x14a)](_0xc37465[_0x34348f(0xbf)]),await _0xc37465[_0x34348f(0x18c)](removeGridComponents,_0x1b8084,_0x4b90cf,_0x3ccb11,_0x2af7bb,_0x21b985),await _0x2a6ef7['deleteCluster'](_0x1b8084,global_registry['clusterRegion']);}catch(_0x1b1029){logger[_0x34348f(0xd7)](_0x34348f(0xbe)+_0x1b1029+'\x20\x0a'+JSON[_0x34348f(0x189)](_0x1b1029['stack']));}throw _0x501b1e;}}catch(_0x13c755){const _0x1488b3=_0x34348f(0x224)+_0x13c755+'\x20\x0a'+JSON['stringify'](_0x13c755[_0x34348f(0x1db)]);if(_0x1dfbd3){const _0x6aeaaa={};_0x6aeaaa['type']=WS_EVENTS[_0x34348f(0x1a0)],_0x6aeaaa[_0x34348f(0xa3)]=_0x1488b3,webSocketUtils[_0x34348f(0x117)](_0x1dfbd3,_0x6aeaaa,_0xc37465['YgurV'],!![]);}await webSocketUtils[_0x34348f(0x13d)](0x7d0);const _0x5edc12={};_0x5edc12[_0x34348f(0xd7)]=_0x1488b3,await _0xc37465[_0x34348f(0x118)](sendInstrumentationEvent,_0x5ecbca,_0xc37465[_0x34348f(0x143)],messageTypes['ERROR'],_0xc37465[_0x34348f(0x9e)],_0x5edc12,_0x5ecbca),logger[_0x34348f(0xd7)](_0x1488b3);}process[_0x34348f(0x12b)](0x0);};