const a9_0x3810c9=a9_0x4d0e;(function(_0x29da5c,_0x18db63){const _0x496c31=a9_0x4d0e,_0x59d1ee=_0x29da5c();while(!![]){try{const _0x479787=-parseInt(_0x496c31(0x1c8))/0x1+-parseInt(_0x496c31(0x27e))/0x2+-parseInt(_0x496c31(0x22f))/0x3*(parseInt(_0x496c31(0x28e))/0x4)+-parseInt(_0x496c31(0x328))/0x5+parseInt(_0x496c31(0x243))/0x6*(-parseInt(_0x496c31(0x2d2))/0x7)+-parseInt(_0x496c31(0x1bf))/0x8*(-parseInt(_0x496c31(0x2a0))/0x9)+-parseInt(_0x496c31(0x2fd))/0xa*(-parseInt(_0x496c31(0x368))/0xb);if(_0x479787===_0x18db63)break;else _0x59d1ee['push'](_0x59d1ee['shift']());}catch(_0x29c0d7){_0x59d1ee['push'](_0x59d1ee['shift']());}}}(a9_0xe967,0x4ccf3));function a9_0x4d0e(_0x47d9d1,_0x2e43e5){const _0xe96728=a9_0xe967();return a9_0x4d0e=function(_0x4d0ea5,_0x2c48a0){_0x4d0ea5=_0x4d0ea5-0x1be;let _0x425ba4=_0xe96728[_0x4d0ea5];return _0x425ba4;},a9_0x4d0e(_0x47d9d1,_0x2e43e5);}const fs=require('fs'),ws=require('ws'),path=require('path'),yaml=require(a9_0x3810c9(0x349)),ReconnectingWebSocket=require('reconnecting-websocket'),got=require('got'),{v4:uuidv4}=require(a9_0x3810c9(0x316)),webSocketUtils=require(a9_0x3810c9(0x235)),{logger}=require(a9_0x3810c9(0x373)),{getCredentialsPath,updateGlobalRegistryWithConfig,updateGlobalRegistryForHubHa,kebabCase,reportToGalactusAndSendToEDS,getAuthHeader,waitForDeployment,kubeApply,encodeBase64}=require('../../utils/utilityMethods'),{getCloudProviderObject}=require(a9_0x3810c9(0x374)),{AWS,WS_EVENTS,global_registry,WS_ENDPOINT,DEFAULT_GRID_NAME,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,messageTypes,AG_API_URL,AZURE,GCP,TURBOSCALE_DEPLOYMENT}=require('../../config/constants'),{addGridComponents,removeGridComponents,getNamespaceUID,namespaceExists,createNamespace}=require(a9_0x3810c9(0x2c2)),{createK8sClient}=require('../../utils/createk8sClient'),{sendInstrumentationEvent}=require('../../utils/instrumentationUtils');exports[a9_0x3810c9(0x34b)]=a9_0x3810c9(0x1f9),exports[a9_0x3810c9(0x1fd)]='Create\x20a\x20new\x20Automation\x20grid.',exports['builder']=function(_0x197ba3){const _0x4e67d4=a9_0x3810c9,_0x1f9cb6={};_0x1f9cb6['KFuEc']=_0x4e67d4(0x2e0),_0x1f9cb6[_0x4e67d4(0x233)]=_0x4e67d4(0x35c),_0x1f9cb6[_0x4e67d4(0x25f)]='Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.',_0x1f9cb6[_0x4e67d4(0x335)]='Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.',_0x1f9cb6[_0x4e67d4(0x273)]=_0x4e67d4(0x376),_0x1f9cb6[_0x4e67d4(0x219)]=_0x4e67d4(0x2d0),_0x1f9cb6[_0x4e67d4(0x322)]='Create\x20a\x20private/public\x20grid.',_0x1f9cb6[_0x4e67d4(0x2a3)]=_0x4e67d4(0x297),_0x1f9cb6[_0x4e67d4(0x375)]=_0x4e67d4(0x2b7),_0x1f9cb6[_0x4e67d4(0x378)]=_0x4e67d4(0x34d),_0x1f9cb6[_0x4e67d4(0x213)]=_0x4e67d4(0x29c),_0x1f9cb6['gZYvh']=_0x4e67d4(0x1df);const _0x5c8c22=_0x1f9cb6,_0x5abf1f={};_0x5abf1f[_0x4e67d4(0x2a9)]=_0x5c8c22['KFuEc'],_0x5abf1f[_0x4e67d4(0x284)]=_0x5c8c22[_0x4e67d4(0x233)];const _0x28b036={};_0x28b036[_0x4e67d4(0x2a9)]=_0x5c8c22[_0x4e67d4(0x25f)],_0x28b036[_0x4e67d4(0x284)]=_0x5c8c22['lzChC'];const _0x2ea070={};_0x2ea070['description']=_0x5c8c22[_0x4e67d4(0x335)],_0x2ea070[_0x4e67d4(0x284)]=_0x5c8c22[_0x4e67d4(0x233)];const _0x5c2d34={};_0x5c2d34['description']=_0x5c8c22[_0x4e67d4(0x273)],_0x5c2d34['type']=_0x5c8c22['lzChC'];const _0x28a7c5={};_0x28a7c5[_0x4e67d4(0x2a9)]=_0x5c8c22['UjASn'],_0x28a7c5[_0x4e67d4(0x284)]=_0x5c8c22[_0x4e67d4(0x233)];const _0x55e8f1={};_0x55e8f1[_0x4e67d4(0x2a9)]=_0x5c8c22['VkEgB'],_0x55e8f1['type']=_0x5c8c22[_0x4e67d4(0x233)];const _0x5a6c7a={};_0x5a6c7a[_0x4e67d4(0x2a9)]=_0x5c8c22[_0x4e67d4(0x2a3)],_0x5a6c7a[_0x4e67d4(0x284)]=_0x5c8c22[_0x4e67d4(0x375)],_0x5a6c7a[_0x4e67d4(0x24c)]=![];const _0x173ad3={};_0x173ad3[_0x4e67d4(0x2a9)]=_0x5c8c22[_0x4e67d4(0x378)],_0x173ad3[_0x4e67d4(0x284)]=_0x5c8c22[_0x4e67d4(0x375)],_0x173ad3[_0x4e67d4(0x24c)]=![];const _0x53f67b={};_0x53f67b[_0x4e67d4(0x2a9)]=_0x5c8c22[_0x4e67d4(0x213)],_0x53f67b['type']=_0x5c8c22['Scrdb'],_0x53f67b[_0x4e67d4(0x24c)]=![];const _0x348062={};return _0x348062[_0x4e67d4(0x290)]=_0x5abf1f,_0x348062['grid-profile']=_0x28b036,_0x348062[_0x4e67d4(0x254)]=_0x2ea070,_0x348062[_0x4e67d4(0x20c)]=_0x5c2d34,_0x348062[_0x4e67d4(0x361)]=_0x28a7c5,_0x348062[_0x4e67d4(0x24e)]=_0x55e8f1,_0x348062[_0x4e67d4(0x321)]=_0x5a6c7a,_0x348062[_0x4e67d4(0x2f4)]=_0x173ad3,_0x348062[_0x4e67d4(0x33a)]=_0x53f67b,_0x197ba3[_0x4e67d4(0x1f5)](HELP_HEADER_MESSAGE[_0x4e67d4(0x342)])['epilogue'](HELP_FOOTER_MESSAGE)[_0x4e67d4(0x296)](_0x348062)['help'](_0x5c8c22[_0x4e67d4(0x364)])['argv'];},exports[a9_0x3810c9(0x1f0)]=async function(_0x15de6f){const _0x2c4840=a9_0x3810c9,_0x2a815c={'DtBdF':_0x2c4840(0x295),'fRhZG':_0x2c4840(0x1e4),'PyVis':_0x2c4840(0x304),'yonEl':_0x2c4840(0x27f),'SMMng':_0x2c4840(0x337),'jSMDR':'Enabling\x20Hub\x20HA\x20flow','bMHTB':'error','kBdcf':'Pass\x20the\x20name\x20to\x20setup\x20the\x20Automation\x20Grid\x20with\x20specific\x20name.\x20Name\x20this\x20grid\x20using\x20either\x20team\x27s\x20name,\x20pipeline\x20specific\x20or\x20generic.','PBonD':_0x2c4840(0x35c),'dLiDR':_0x2c4840(0x2dd),'arWKn':_0x2c4840(0x320),'MSxdm':_0x2c4840(0x376),'YWhbU':'Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','wHveb':_0x2c4840(0x357),'qUCEj':_0x2c4840(0x297),'XoqDM':'boolean','TtGjt':'Flag\x20to\x20enable\x20Hub\x20HA','ijnvT':_0x2c4840(0x29c),'tdjMC':'help','ciMdY':_0x2c4840(0x333),'CeRSi':_0x2c4840(0x2e5),'NiWjm':_0x2c4840(0x287),'VBuDW':_0x2c4840(0x2af),'wtFZI':'azurefile-csi-premium','QdLqk':_0x2c4840(0x35f),'Fvkof':function(_0x37cdc2,_0x1e2047){return _0x37cdc2!==_0x1e2047;},'dcWSa':function(_0x6f2136,_0x5692c6,_0x422de2,_0x334bce,_0x23cd70,_0x40ab33,_0x2c2ef2,_0x2cee5a,_0x2e9348,_0x166ba9,_0x6b54dc,_0x17858e,_0xf9559b){return _0x6f2136(_0x5692c6,_0x422de2,_0x334bce,_0x23cd70,_0x40ab33,_0x2c2ef2,_0x2cee5a,_0x2e9348,_0x166ba9,_0x6b54dc,_0x17858e,_0xf9559b);},'LknKP':function(_0x3dc4cd,_0x4947da){return _0x3dc4cd(_0x4947da);},'ZKscB':_0x2c4840(0x33f),'Xqirz':function(_0x1cab29,_0x388022){return _0x1cab29===_0x388022;},'XmgmK':'premium-rwo','nWVgm':'true','hZlrm':'default','CMwpv':function(_0x3904bb,_0x278a95){return _0x3904bb(_0x278a95);},'KWqLO':function(_0x49be95){return _0x49be95();},'jmfYJ':_0x2c4840(0x267),'XUpeC':_0x2c4840(0x30a),'iEudR':_0x2c4840(0x340),'PrYIJ':function(_0x3b45e5,_0x3c8c8c,_0x44ea39,_0x596c87,_0x28d1ae,_0xc59d2e,_0x8698ac){return _0x3b45e5(_0x3c8c8c,_0x44ea39,_0x596c87,_0x28d1ae,_0xc59d2e,_0x8698ac);},'zDAgG':_0x2c4840(0x1eb),'sufhp':_0x2c4840(0x234),'nxksp':_0x2c4840(0x24f),'dGGpL':_0x2c4840(0x301),'wpcVR':_0x2c4840(0x22e),'LEJLZ':function(_0x3dbfe3,_0x499f76){return _0x3dbfe3===_0x499f76;},'gcYyf':_0x2c4840(0x31d),'bevLn':_0x2c4840(0x226),'RPQJL':function(_0x23d597,_0x1bfb60){return _0x23d597!==_0x1bfb60;},'XEkSG':'GyOpl','CQhyo':_0x2c4840(0x294),'NuKQB':function(_0xfe7e70,_0x195407,_0xb3766c,_0x12f663,_0x32c266,_0x2be267,_0x1089e8,_0x103ed4){return _0xfe7e70(_0x195407,_0xb3766c,_0x12f663,_0x32c266,_0x2be267,_0x1089e8,_0x103ed4);},'YqWJQ':_0x2c4840(0x2d9),'MnVNg':'sGwDx','jDvRK':_0x2c4840(0x1d9),'uDOzT':_0x2c4840(0x262),'tkaKw':_0x2c4840(0x37b),'VHEJO':_0x2c4840(0x276),'BqTZx':function(_0x383675,_0x37b14d,_0x2c3d46,_0x575208,_0x404ef3,_0x2f6d8e,_0x1c0363){return _0x383675(_0x37b14d,_0x2c3d46,_0x575208,_0x404ef3,_0x2f6d8e,_0x1c0363);},'xEDWw':_0x2c4840(0x230),'cbLlr':'fLxln','WkmXt':_0x2c4840(0x362),'PtKxc':'iGBhi','iPoCX':_0x2c4840(0x29a),'UOUTY':function(_0x1e9bf2,_0x1d9a1e,_0x128681){return _0x1e9bf2(_0x1d9a1e,_0x128681);},'AMgCo':function(_0x4fc9c9,_0x61134e){return _0x4fc9c9===_0x61134e;},'bsmgw':_0x2c4840(0x216),'bAIGk':_0x2c4840(0x260),'SjDGf':_0x2c4840(0x214),'tJkEX':'cLugK','fUaHK':function(_0x35e0dd,_0x22fca4){return _0x35e0dd===_0x22fca4;},'ozFdo':function(_0x5ca4b2,_0x6784f2){return _0x5ca4b2===_0x6784f2;},'AKqZm':_0x2c4840(0x2ce),'oUXRT':_0x2c4840(0x2c5),'TwwpF':_0x2c4840(0x242),'ritcg':function(_0x2e724f,_0x4fca13){return _0x2e724f===_0x4fca13;},'HMaku':_0x2c4840(0x25d),'iXPUX':'Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Unauthorized\x20request!','WNVgu':function(_0x203958,_0x592098,_0x591d36,_0x53dc45,_0x334afb,_0x3cfc28,_0x30aebe,_0x2a7626){return _0x203958(_0x592098,_0x591d36,_0x53dc45,_0x334afb,_0x3cfc28,_0x30aebe,_0x2a7626);},'MgoDe':_0x2c4840(0x255),'CwcDt':_0x2c4840(0x2e4),'CKXRg':_0x2c4840(0x231),'obYyM':function(_0x9eab2d,_0x401978,_0x1c3ff8,_0x3405a1,_0x711a56,_0x57c88f,_0x496298,_0x413819){return _0x9eab2d(_0x401978,_0x1c3ff8,_0x3405a1,_0x711a56,_0x57c88f,_0x496298,_0x413819);},'bQnAX':_0x2c4840(0x261),'iJzgM':_0x2c4840(0x1d7),'jehYV':function(_0x514abd,_0x64545b){return _0x514abd===_0x64545b;},'kVcrE':'IXgdD','gtmBS':'create-grid-checks-grid-already-exists','OyDIL':function(_0x5386a2,_0x14718c){return _0x5386a2===_0x14718c;},'YpGrl':'agqdG','NPHaN':_0x2c4840(0x1f8),'KKWCO':function(_0x2eec08,_0x476a6b){return _0x2eec08===_0x476a6b;},'YtCPW':'amHry','GEWLL':_0x2c4840(0x21a),'ahIMl':function(_0x20f6cb,_0x2b72be){return _0x20f6cb===_0x2b72be;},'IwHVt':_0x2c4840(0x2f1),'Rtxsr':function(_0xb249f2,_0x2d3189){return _0xb249f2===_0x2d3189;},'pGCyN':function(_0x1ca393,_0x56df34){return _0x1ca393===_0x56df34;},'gNihx':_0x2c4840(0x338),'QYeMc':_0x2c4840(0x204),'pFCAZ':_0x2c4840(0x1d1),'kQqrp':_0x2c4840(0x2b5),'ZzanN':function(_0x26e918,_0xf53ed){return _0x26e918===_0xf53ed;},'sLVaD':function(_0x1760f2,_0x4a72e5){return _0x1760f2!==_0x4a72e5;},'kujfe':'HUhDl','DXbTv':function(_0x3fff16,_0x10bc75){return _0x3fff16!==_0x10bc75;},'BjAaM':_0x2c4840(0x356),'JZfKt':function(_0x44b725,_0x21749e,_0x1767b9,_0x3d0fb3,_0x19571c,_0x564503,_0x4cd40e,_0x4ead0e,_0x6ba2c5,_0x9c4eb7,_0x243f28,_0x16cdb5,_0x5ad803){return _0x44b725(_0x21749e,_0x1767b9,_0x3d0fb3,_0x19571c,_0x564503,_0x4cd40e,_0x4ead0e,_0x6ba2c5,_0x9c4eb7,_0x243f28,_0x16cdb5,_0x5ad803);},'eMHQK':function(_0x3ea0c9,_0x44b12b){return _0x3ea0c9===_0x44b12b;},'RabYf':_0x2c4840(0x326),'ANiLr':_0x2c4840(0x24b),'facfD':function(_0x3069bf,_0x4c47a0){return _0x3069bf===_0x4c47a0;},'zriCT':function(_0x4e6039,_0x4e9554){return _0x4e6039===_0x4e9554;},'XdtPK':_0x2c4840(0x34a),'oEGCj':function(_0x11da64,_0x25eb52){return _0x11da64!==_0x25eb52;},'GBahj':_0x2c4840(0x277),'zTxDK':'kDFru','IJBBK':function(_0x2e4845,_0x4146a2,_0x22cdfb,_0x12bc61,_0xc5aaf0,_0x3288cd,_0x56b7e8,_0x158121,_0x3e001a,_0x1725c7,_0x48ee0c,_0x31da78,_0x26257f){return _0x2e4845(_0x4146a2,_0x22cdfb,_0x12bc61,_0xc5aaf0,_0x3288cd,_0x56b7e8,_0x158121,_0x3e001a,_0x1725c7,_0x48ee0c,_0x31da78,_0x26257f);},'ozvUd':function(_0x119350,_0x3f96e9){return _0x119350!==_0x3f96e9;},'LjImB':_0x2c4840(0x360),'eVNqH':function(_0x2d6057,_0x3cae91){return _0x2d6057(_0x3cae91);},'eCERT':function(_0x5d3b71,_0x5b3c6a){return _0x5d3b71!==_0x5b3c6a;},'lrQrb':'gIykb','MIayl':_0x2c4840(0x30b),'FFnph':function(_0x5d562c,_0x552d7a,_0x17fa6a,_0x3cedd9,_0x435dfa,_0x21d291,_0x2b7bbc){return _0x5d562c(_0x552d7a,_0x17fa6a,_0x3cedd9,_0x435dfa,_0x21d291,_0x2b7bbc);},'WPuKX':function(_0x3d7dc0,_0x38282e){return _0x3d7dc0!==_0x38282e;},'LNPDZ':function(_0x2a43aa,_0x5713cb){return _0x2a43aa!==_0x5713cb;},'VHCTH':_0x2c4840(0x34c),'YdUJA':_0x2c4840(0x20d),'YznLz':function(_0x56b461,_0x5871f9){return _0x56b461===_0x5871f9;},'dyYXt':_0x2c4840(0x253),'HRuOT':'rpUAy','YCkVz':_0x2c4840(0x237),'PhTgS':_0x2c4840(0x23a),'OPxmW':_0x2c4840(0x298),'Stfmn':function(_0x4f8ce6,_0x25d913){return _0x4f8ce6!=_0x25d913;},'PFuoB':function(_0x3a3178,_0xf9961c){return _0x3a3178!==_0xf9961c;},'TFyBp':function(_0x1062c1,_0x49de0c){return _0x1062c1!==_0x49de0c;},'Ihawr':function(_0x4e12c2,_0x16d481){return _0x4e12c2>_0x16d481;},'OQMuc':'Subnets\x20not\x20selected.\x20Please\x20select\x20subnets\x20and\x20try\x20again','vngrJ':function(_0x2e792b,_0x26a2e0,_0xfe9fce,_0x42c581,_0x5ae770,_0x28ab9f,_0x51fcc5,_0x353c83){return _0x2e792b(_0x26a2e0,_0xfe9fce,_0x42c581,_0x5ae770,_0x28ab9f,_0x51fcc5,_0x353c83);},'KkDlu':_0x2c4840(0x2cc),'RMUPM':function(_0x4b2716,_0x1ac51d){return _0x4b2716===_0x1ac51d;},'znTRZ':_0x2c4840(0x2d6),'hvOvm':function(_0xd6b4cd,_0x123437,_0x11f0f0,_0x1a4e98,_0x48021c,_0x34d0b7,_0x1aee73,_0x877d2c){return _0xd6b4cd(_0x123437,_0x11f0f0,_0x1a4e98,_0x48021c,_0x34d0b7,_0x1aee73,_0x877d2c);},'fFooU':_0x2c4840(0x265),'MDxtO':function(_0x35218a,_0x33e6ac){return _0x35218a===_0x33e6ac;},'GXlpn':_0x2c4840(0x26e),'gyWbm':_0x2c4840(0x28d),'RNEXc':_0x2c4840(0x28f),'ZSZgR':_0x2c4840(0x1be),'iXHPX':function(_0x49f70c,_0x243a90,_0x15b4e0){return _0x49f70c(_0x243a90,_0x15b4e0);},'qHWru':function(_0x2643c8,_0xd19453){return _0x2643c8===_0xd19453;},'rMSvo':'Creating\x20Hub\x20HA\x20resources','yfWTO':function(_0x4f74b3,_0x397c48,_0x36ce66){return _0x4f74b3(_0x397c48,_0x36ce66);},'DfyPG':function(_0x36c7a3,_0x4256ae,_0x5ae6a3){return _0x36c7a3(_0x4256ae,_0x5ae6a3);},'IOdqT':_0x2c4840(0x2ba),'qsime':_0x2c4840(0x32f),'lVTja':_0x2c4840(0x358),'tGxjg':_0x2c4840(0x22c),'dkqar':_0x2c4840(0x1da),'xJlzx':'utf-8','EsWpS':function(_0x3447fc,_0x361f4a){return _0x3447fc(_0x361f4a);},'UdEBU':function(_0x272655,_0x3c3978){return _0x272655(_0x3c3978);},'JUGpW':function(_0x52a6cc,_0x290eec,_0xa13e10){return _0x52a6cc(_0x290eec,_0xa13e10);},'hDhWV':_0x2c4840(0x2ff),'WYBMb':'efs-csi','HiXmE':function(_0x27f755,_0x4d4148){return _0x27f755===_0x4d4148;},'vRmNV':'Adding\x20Redis\x20deployment...','MrVIr':_0x2c4840(0x21e),'SZOkE':function(_0x84b3ad,_0x2c2b00,_0x42bfe5){return _0x84b3ad(_0x2c2b00,_0x42bfe5);},'MsKgm':'Added\x20Redis\x20deployment.','htKvZ':'Adding\x20Kafka\x20deployment...','SDQBr':_0x2c4840(0x241),'iKbbJ':function(_0x50c2ce,_0x14a385,_0x3046fa){return _0x50c2ce(_0x14a385,_0x3046fa);},'xATfq':_0x2c4840(0x2fc),'NOCTt':_0x2c4840(0x1f2),'xbHwD':_0x2c4840(0x249),'KQLrn':function(_0x443dbe,_0x1bada3,_0x4a1ec0){return _0x443dbe(_0x1bada3,_0x4a1ec0);},'LNoID':_0x2c4840(0x1d8),'FWLQG':_0x2c4840(0x302),'MjJzf':_0x2c4840(0x1ff),'oQGJG':'1|0|4|3|2','zaRUV':function(_0x2690fc,_0xce18c2,_0xd0f65d,_0x2765d7,_0x1bfe10,_0x43487b,_0xb2a04a,_0x3905f1){return _0x2690fc(_0xce18c2,_0xd0f65d,_0x2765d7,_0x1bfe10,_0x43487b,_0xb2a04a,_0x3905f1);},'kzdBu':_0x2c4840(0x2c7),'MjcYL':function(_0x4b7e40,_0x36edd1){return _0x4b7e40(_0x36edd1);},'JIdzG':_0x2c4840(0x2ab),'JXccy':function(_0x319c75,_0x4e67f5){return _0x319c75!==_0x4e67f5;},'GvGBN':_0x2c4840(0x221),'aVPwj':_0x2c4840(0x209),'ctogQ':_0x2c4840(0x305),'GAgyh':_0x2c4840(0x282),'KGIaf':_0x2c4840(0x33e),'WtaJT':function(_0x4546a6,_0x334124,_0x618ae0,_0x555793,_0x587fd4,_0x74e1a1,_0x114195,_0x3428cc,_0x4f10c5,_0x23e9c4,_0xbc454){return _0x4546a6(_0x334124,_0x618ae0,_0x555793,_0x587fd4,_0x74e1a1,_0x114195,_0x3428cc,_0x4f10c5,_0x23e9c4,_0xbc454);},'qSJbf':'Grid\x20spawned\x20on\x20the\x20cluster','wZCUh':_0x2c4840(0x29f),'CWToU':function(_0xa166ce,_0x3aa06e,_0xfc4685,_0x277a08,_0x18e361){return _0xa166ce(_0x3aa06e,_0xfc4685,_0x277a08,_0x18e361);},'wHgGY':function(_0x36a51d,_0x34ee5f,_0x36d422){return _0x36a51d(_0x34ee5f,_0x36d422);},'mvqgQ':_0x2c4840(0x2bd),'ERPgQ':'ingress-nginx-controller','amWgP':'ingress-nginx','jssJU':function(_0x35a96f,_0x247cfa){return _0x35a96f===_0x247cfa;},'HHwEB':_0x2c4840(0x2eb),'lGSBG':_0x2c4840(0x2e7),'stvrE':function(_0x3e22fb,_0x504b64){return _0x3e22fb===_0x504b64;},'bznbw':_0x2c4840(0x2cd),'qJZxl':function(_0x4df9b5,_0x11256e,_0x58d213,_0x1864bb,_0x27f68d,_0x5b613f,_0xd15f4b,_0x54ca05){return _0x4df9b5(_0x11256e,_0x58d213,_0x1864bb,_0x27f68d,_0x5b613f,_0xd15f4b,_0x54ca05);},'XxTin':_0x2c4840(0x1d3),'yCQLz':function(_0x2eae2b,_0x2d4163){return _0x2eae2b!==_0x2d4163;},'GLwQD':function(_0x2abc5e,_0x8b370e,_0x5f1f69,_0x5f0457,_0x4108e3,_0x58e889,_0x3ec715,_0x5e36ec){return _0x2abc5e(_0x8b370e,_0x5f1f69,_0x5f0457,_0x4108e3,_0x58e889,_0x3ec715,_0x5e36ec);},'aKERQ':_0x2c4840(0x355),'GNmkI':function(_0x3b8bcf,_0x16dfdc){return _0x3b8bcf===_0x16dfdc;},'jgjFV':_0x2c4840(0x24a),'fbuHx':function(_0x4dbc02,_0x41c4ae,_0x5c8b1d,_0x51ba72,_0x37189e,_0x3004d0){return _0x4dbc02(_0x41c4ae,_0x5c8b1d,_0x51ba72,_0x37189e,_0x3004d0);},'lttxP':function(_0xdf6ef1,_0x59d1d6,_0x206f58,_0x5e8cb9,_0x25972f,_0x4838ea,_0xc6c06b){return _0xdf6ef1(_0x59d1d6,_0x206f58,_0x5e8cb9,_0x25972f,_0x4838ea,_0xc6c06b);},'bPInR':'grid-spawning-failed'};let _0x5e0b97=![],_0x716cbe=![],_0x5f4213,_0x1a49ac,_0x3ed1c9,_0xdf087a,_0x5a2a4c,_0x2d086a,_0x3be07e,_0x2b461b,_0x1aa6d7,_0x23d71b,_0xb8373,_0x4bb881,_0xbb645c,_0x2c8ab6,_0x382360=0x1,_0x3a3cc0=0xe;try{global_registry['requestId']=_0x2a815c[_0x2c4840(0x1fe)](uuidv4),global_registry[_0x2c4840(0x2a2)]=![];!fs[_0x2c4840(0x2fb)](_0x2a815c[_0x2c4840(0x1fe)](getCredentialsPath))&&(_0x2a815c[_0x2c4840(0x370)](_0x2a815c[_0x2c4840(0x317)],_0x2a815c['XUpeC'])?(console[_0x2c4840(0x2a7)](_0x2a815c[_0x2c4840(0x21b)]),await _0x2a815c[_0x2c4840(0x33d)](sendInstrumentationEvent,_0x15de6f,_0x2a815c[_0x2c4840(0x2d5)],messageTypes[_0x2c4840(0x2d7)],_0x2a815c['sufhp'],null,_0x15de6f),process[_0x2c4840(0x330)](0x1)):_0x40a5a5=_0x2a815c[_0x2c4840(0x2e9)]);await _0x2a815c[_0x2c4840(0x33d)](sendInstrumentationEvent,_0x15de6f,_0x2a815c[_0x2c4840(0x2d5)],messageTypes['INFO'],null,null,_0x15de6f);const _0x5096c3=JSON[_0x2c4840(0x2b1)](fs['readFileSync'](_0x2a815c[_0x2c4840(0x1fe)](getCredentialsPath)));global_registry[_0x2c4840(0x28b)]=_0x5096c3['Browserstack']['username'],global_registry[_0x2c4840(0x1d4)]=_0x5096c3[_0x2c4840(0x221)]['password'];const _0x1d8ea5=WS_ENDPOINT[_0x2c4840(0x2b0)](_0x2a815c[_0x2c4840(0x27b)],_0x5096c3[_0x2c4840(0x221)][_0x2c4840(0x353)])[_0x2c4840(0x2b0)](_0x2a815c[_0x2c4840(0x263)],_0x5096c3[_0x2c4840(0x221)][_0x2c4840(0x280)]),_0x2ba835={};_0x2ba835['WebSocket']=ws,_0x2ba835[_0x2c4840(0x2be)]=0x36ee80,_0x4bb881=new ReconnectingWebSocket(_0x1d8ea5,[],_0x2ba835),logger['debug'](_0x2a815c[_0x2c4840(0x31f)]),webSocketUtils[_0x2c4840(0x1cf)](_0x4bb881,_0x15de6f[_0x2c4840(0x33b)],_0x15de6f['password']);const _0x35c715=_0x15de6f[_0x2c4840(0x2d4)]||DEFAULT_GRID_NAME;if(_0x15de6f['clusterName']||_0x15de6f[_0x2c4840(0x341)]||_0x15de6f[_0x2c4840(0x361)]){if(_0x2a815c[_0x2c4840(0x1c9)](_0x2a815c[_0x2c4840(0x1e2)],_0x2a815c[_0x2c4840(0x23e)]))_0xa432d2=_0x2cdd8a[_0x5b3b33[_0x2c4840(0x217)]];else{if(!(_0x15de6f[_0x2c4840(0x2da)]&&_0x15de6f[_0x2c4840(0x341)]&&_0x15de6f[_0x2c4840(0x361)])){if(_0x2a815c[_0x2c4840(0x271)](_0x2a815c[_0x2c4840(0x1f1)],_0x2a815c[_0x2c4840(0x1f1)])){const _0x10b308=_0x2a815c['fRhZG'][_0x2c4840(0x2e2)]('|');let _0x1c0cfe=0x0;while(!![]){switch(_0x10b308[_0x1c0cfe++]){case'0':_0x5b0e38[_0x2c4840(0x366)]=!![];continue;case'1':_0x46b5a5[_0x2c4840(0x36b)]=_0x2a815c[_0x2c4840(0x306)];continue;case'2':_0x3ff23e['redisPassword']=_0x2a815c[_0x2c4840(0x25e)];continue;case'3':_0x52e3a8[_0x2c4840(0x1f4)]=_0x2a815c[_0x2c4840(0x215)];continue;case'4':_0x1abb9f[_0x2c4840(0x1ef)](_0x2a815c[_0x2c4840(0x33c)]);continue;}break;}}else _0x5f4213=_0x2a815c[_0x2c4840(0x1cc)],await _0x2a815c[_0x2c4840(0x244)](reportToGalactusAndSendToEDS,_0x15de6f,_0x4bb881,_0x5f4213,messageTypes[_0x2c4840(0x2d7)],_0x2a815c['zDAgG'],_0x2a815c[_0x2c4840(0x2ae)],_0x2a815c['bMHTB']),logger[_0x2c4840(0x2a7)](_0x5f4213),process[_0x2c4840(0x330)](0x1);}![AWS,AZURE,GCP][_0x2c4840(0x2c4)](_0x15de6f[_0x2c4840(0x341)][_0x2c4840(0x201)]())&&(_0x2a815c[_0x2c4840(0x370)](_0x2a815c[_0x2c4840(0x36d)],_0x2a815c[_0x2c4840(0x2f9)])?(_0x5f4213=_0x2a815c[_0x2c4840(0x1fc)],await _0x2a815c[_0x2c4840(0x244)](reportToGalactusAndSendToEDS,_0x15de6f,_0x4bb881,_0x5f4213,messageTypes[_0x2c4840(0x2d7)],_0x2a815c[_0x2c4840(0x2d5)],_0x2a815c[_0x2c4840(0x2b6)],_0x2a815c[_0x2c4840(0x365)]),logger[_0x2c4840(0x2a7)](_0x5f4213),process[_0x2c4840(0x330)](0x1)):(_0x58d27d[_0x2c4840(0x361)]=_0x2e4569,_0x162167['cloudProvider']=_0x80c4c,_0x387131[_0x2c4840(0x2a6)]=!![],_0x54a170[_0x2c4840(0x200)]=_0x1dfcef[_0x2c4840(0x293)]));if(_0x15de6f[_0x2c4840(0x266)]&&_0x2a815c['Xqirz'](_0x15de6f[_0x2c4840(0x266)][_0x2c4840(0x201)](),_0x2a815c[_0x2c4840(0x288)])){if(_0x2a815c[_0x2c4840(0x271)](_0x2a815c[_0x2c4840(0x25c)],_0x2a815c['VHEJO'])){const _0x52a671={};_0x52a671[_0x2c4840(0x284)]=_0x23b81f[_0x2c4840(0x35b)],_0x52a671['message']=_0x1da374,_0x3df818[_0x2c4840(0x222)](_0x670a9d,_0x52a671,_0x2a815c[_0x2c4840(0x365)],!![]);}else global_registry[_0x2c4840(0x2a2)]=!![];}global_registry[_0x2c4840(0x341)]=_0x15de6f[_0x2c4840(0x341)],global_registry[_0x2c4840(0x1c5)]=_0x15de6f[_0x2c4840(0x361)],global_registry[_0x2c4840(0x2da)]=_0x15de6f[_0x2c4840(0x2da)];const _0x3513ec=await _0x2a815c['BqTZx'](getCloudProviderObject,_0x15de6f[_0x2c4840(0x341)],_0x15de6f[_0x2c4840(0x2da)],_0x35c715,_0x4bb881,webSocketUtils,_0x15de6f),_0xfc72fa=await _0x3513ec['isClusterPresent']();!_0xfc72fa?_0x2a815c[_0x2c4840(0x1c9)](_0x2a815c[_0x2c4840(0x1f6)],_0x2a815c[_0x2c4840(0x25a)])?(_0x57ecf4[_0x2c4840(0x1ef)](_0x2c4840(0x250)+_0x48c640['clusterName']+_0x2c4840(0x309)),_0x4811a7=![],_0x277297=!![]):(logger['info'](_0x2c4840(0x250)+_0x15de6f['clusterName']+_0x2c4840(0x309)),_0x5e0b97=![],_0x716cbe=!![]):_0x2a815c[_0x2c4840(0x271)](_0x2a815c['WkmXt'],_0x2a815c['WkmXt'])?_0x5aadc6[_0x2c4840(0x217)]=_0x1d1aa5[_0x2c4840(0x217)]:_0x5e0b97=!![],_0x3ed1c9=_0x15de6f['clusterName'],_0x1a49ac=_0x15de6f[_0x2c4840(0x341)]['toLowerCase'](),_0xdf087a=_0x15de6f[_0x2c4840(0x361)];}}else _0x15de6f[_0x2c4840(0x217)]&&(_0x2a815c[_0x2c4840(0x2b4)](_0x2a815c['PtKxc'],_0x2a815c['PtKxc'])?global_registry['gridProfile']=_0x15de6f['gridProfile']:_0x2751c2[_0x2c4840(0x2ec)]());global_registry['gridName']=_0x15de6f[_0x2c4840(0x2d4)];const _0x974b4e={'method':_0x2a815c[_0x2c4840(0x246)],'headers':_0x2a815c['UOUTY'](getAuthHeader,_0x5096c3[_0x2c4840(0x221)][_0x2c4840(0x353)],_0x5096c3['Browserstack'][_0x2c4840(0x280)]),'throwHttpErrors':![]},_0x380a1c={};_0x380a1c[_0x2c4840(0x2d4)]=_0x35c715;const _0x20f416=_0x380a1c;if(_0x716cbe){if(_0x2a815c[_0x2c4840(0x300)](_0x2a815c[_0x2c4840(0x240)],_0x2a815c[_0x2c4840(0x30d)])){const _0x1b6cde={};_0x1b6cde[_0x2c4840(0x2a9)]=_0x2a815c['kBdcf'],_0x1b6cde[_0x2c4840(0x284)]=_0x2a815c['PBonD'];const _0xe77e50={};_0xe77e50[_0x2c4840(0x2a9)]=_0x2a815c[_0x2c4840(0x1c7)],_0xe77e50['type']=_0x2a815c[_0x2c4840(0x1de)];const _0x5ae1d2={};_0x5ae1d2['description']=_0x2a815c[_0x2c4840(0x2aa)],_0x5ae1d2[_0x2c4840(0x284)]=_0x2a815c[_0x2c4840(0x1de)];const _0x29df5f={};_0x29df5f[_0x2c4840(0x2a9)]=_0x2a815c['MSxdm'],_0x29df5f[_0x2c4840(0x284)]=_0x2a815c[_0x2c4840(0x1de)];const _0x350b28={};_0x350b28[_0x2c4840(0x2a9)]=_0x2a815c[_0x2c4840(0x256)],_0x350b28['type']=_0x2a815c[_0x2c4840(0x1de)];const _0x2c8fc4={};_0x2c8fc4['description']=_0x2a815c[_0x2c4840(0x32e)],_0x2c8fc4[_0x2c4840(0x284)]=_0x2a815c[_0x2c4840(0x1de)];const _0x2d4784={};_0x2d4784[_0x2c4840(0x2a9)]=_0x2a815c['qUCEj'],_0x2d4784['type']=_0x2a815c[_0x2c4840(0x32d)],_0x2d4784['default']=![];const _0x2e669d={};_0x2e669d[_0x2c4840(0x2a9)]=_0x2a815c[_0x2c4840(0x1e9)],_0x2e669d['type']=_0x2a815c['XoqDM'],_0x2e669d[_0x2c4840(0x24c)]=![];const _0x5dc2b0={};_0x5dc2b0[_0x2c4840(0x2a9)]=_0x2a815c[_0x2c4840(0x29b)],_0x5dc2b0[_0x2c4840(0x284)]=_0x2a815c[_0x2c4840(0x32d)],_0x5dc2b0[_0x2c4840(0x24c)]=![];const _0x47cbe3={};return _0x47cbe3[_0x2c4840(0x290)]=_0x1b6cde,_0x47cbe3[_0x2c4840(0x1fb)]=_0xe77e50,_0x47cbe3[_0x2c4840(0x254)]=_0x5ae1d2,_0x47cbe3[_0x2c4840(0x20c)]=_0x29df5f,_0x47cbe3[_0x2c4840(0x361)]=_0x350b28,_0x47cbe3[_0x2c4840(0x24e)]=_0x2c8fc4,_0x47cbe3['skip-tls-cert-verify']=_0x2d4784,_0x47cbe3[_0x2c4840(0x2f4)]=_0x2e669d,_0x47cbe3[_0x2c4840(0x33a)]=_0x5dc2b0,_0xe50c23['usage'](_0xce9520['create'])[_0x2c4840(0x2bb)](_0x35fadd)[_0x2c4840(0x296)](_0x47cbe3)[_0x2c4840(0x1df)](_0x2a815c['tdjMC'])['argv'];}else _0x20f416[_0x2c4840(0x361)]=_0xdf087a,_0x20f416[_0x2c4840(0x341)]=_0x1a49ac,_0x20f416[_0x2c4840(0x2a6)]=!![],_0x20f416[_0x2c4840(0x200)]=_0x15de6f[_0x2c4840(0x293)];}_0x15de6f[_0x2c4840(0x293)]&&(_0x2a815c[_0x2c4840(0x300)](_0x2a815c[_0x2c4840(0x2a8)],_0x2a815c[_0x2c4840(0x269)])?_0x36bfc9['error'](_0x2c4840(0x27c)+_0x5daa27+'\x20\x0a'+_0x18021d[_0x2c4840(0x30c)](_0x232c0c['stack'])):logger['info'](_0x2a815c[_0x2c4840(0x2c9)]));const _0x31fe9b='https://'+AG_API_URL+_0x2c4840(0x314),_0xa20cc4={'searchParams':_0x20f416,'throwHttpErrors':![],..._0x974b4e},_0x17571d=_0xa20cc4,_0x1dfa79=await _0x2a815c[_0x2c4840(0x2f3)](got,_0x31fe9b,_0x17571d);if(_0x2a815c[_0x2c4840(0x2d8)](_0x1dfa79,null)||_0x2a815c[_0x2c4840(0x21d)](_0x1dfa79,undefined)){if(_0x2a815c[_0x2c4840(0x21d)](_0x2a815c[_0x2c4840(0x245)],_0x2a815c[_0x2c4840(0x245)]))_0x5f4213=_0x2a815c[_0x2c4840(0x29e)],await _0x2a815c[_0x2c4840(0x244)](reportToGalactusAndSendToEDS,_0x15de6f,_0x4bb881,_0x5f4213,messageTypes['ERROR'],_0x2a815c[_0x2c4840(0x2d5)],_0x2a815c[_0x2c4840(0x259)],_0x2a815c[_0x2c4840(0x365)]),logger[_0x2c4840(0x2a7)](_0x5f4213),process['exit'](0x1);else{const _0x326c84=_0x2a815c[_0x2c4840(0x206)][_0x2c4840(0x2e2)]('|');let _0x396539=0x0;while(!![]){switch(_0x326c84[_0x396539++]){case'0':_0x219a39['info'](_0x11cab4);continue;case'1':_0x4b81c5='Spawning\x20the\x20grid\x20'+_0x45861a+_0x2c4840(0x1e6)+_0x51e274+'\x27';continue;case'2':_0x10a043[_0x2c4840(0x1c3)]=_0x4c298b['hubVersion'];continue;case'3':_0x120189['cloudProvider']=_0x428963;continue;case'4':const _0x4fa8fe={};_0x4fa8fe[_0x2c4840(0x284)]=_0x1b84dd['CLI_RUN_STARTED'],_0x4fa8fe[_0x2c4840(0x2cb)]=_0x2a815c['CeRSi'],_0xfd263a['sendEventToBackend'](_0x4f509b,_0x4fa8fe);continue;case'5':_0x5e74bd[_0x2c4840(0x2da)]=_0x583af1;continue;case'6':_0x30da8c[_0x2c4840(0x1c5)]=_0x10e355;continue;case'7':_0x1e8c52[_0x2c4840(0x247)]=_0xace702[_0x2c4840(0x247)];continue;case'8':const _0x214dff={};_0x214dff[_0x2c4840(0x284)]=_0x394d9d['LOG'],_0x214dff['message']=_0x4bf366,_0x52ea9e[_0x2c4840(0x222)](_0x219dce,_0x214dff);continue;}break;}}}_0x2a815c[_0x2c4840(0x1c9)](_0x1dfa79['statusCode'],0x191)&&(_0x2a815c[_0x2c4840(0x323)](_0x2a815c[_0x2c4840(0x2d3)],_0x2a815c[_0x2c4840(0x2d3)])?(_0x5f4213=_0x2a815c[_0x2c4840(0x32c)],await _0x2a815c['WNVgu'](reportToGalactusAndSendToEDS,_0x15de6f,_0x4bb881,_0x5f4213,messageTypes[_0x2c4840(0x2d7)],_0x2a815c[_0x2c4840(0x2d5)],_0x2a815c[_0x2c4840(0x278)],_0x2a815c['bMHTB']),logger[_0x2c4840(0x2a7)](_0x5f4213),process[_0x2c4840(0x330)](0x1)):_0x58cdee[_0x2c4840(0x1ef)]('Found\x20VPC:\x20'+_0x541792+'\x20'));_0x2a815c[_0x2c4840(0x271)](_0x1dfa79[_0x2c4840(0x1ee)],0xc8)&&(_0x2a815c[_0x2c4840(0x323)](_0x2a815c[_0x2c4840(0x1ce)],_0x2a815c[_0x2c4840(0x224)])?_0x3f5b8a[_0x2c4840(0x1ef)]('Found\x20Subnets:\x20'+_0x356d83[_0x2c4840(0x30c)](_0x596753)+'\x20'):(_0x5f4213='Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Non\x20200\x20response\x20from\x20server!\x20'+JSON[_0x2c4840(0x30c)](_0x1dfa79[_0x2c4840(0x377)]),await _0x2a815c['obYyM'](reportToGalactusAndSendToEDS,_0x15de6f,_0x4bb881,_0x5f4213,messageTypes['ERROR'],_0x2a815c[_0x2c4840(0x2d5)],_0x2a815c[_0x2c4840(0x31b)],_0x2a815c['bMHTB']),logger[_0x2c4840(0x2a7)](_0x5f4213),process[_0x2c4840(0x330)](0x1)));const _0x3f23a7=JSON['parse'](_0x1dfa79[_0x2c4840(0x377)]),_0xe8bea0={};_0xe8bea0[_0x2c4840(0x284)]=WS_EVENTS[_0x2c4840(0x232)],_0xe8bea0['message']=_0x2a815c[_0x2c4840(0x2db)],webSocketUtils[_0x2c4840(0x222)](_0x4bb881,_0xe8bea0);const _0x45cc53={};_0x45cc53['type']=WS_EVENTS[_0x2c4840(0x35b)],_0x45cc53[_0x2c4840(0x2cb)]=_0x2a815c[_0x2c4840(0x2fe)],webSocketUtils[_0x2c4840(0x222)](_0x4bb881,_0x45cc53);_0x3f23a7[_0x2c4840(0x258)]&&(_0x2a815c['jehYV'](_0x2a815c[_0x2c4840(0x352)],_0x2a815c[_0x2c4840(0x352)])?(_0x5f4213=_0x2c4840(0x35e)+_0x35c715+_0x2c4840(0x1dc),await _0x2a815c[_0x2c4840(0x348)](reportToGalactusAndSendToEDS,_0x15de6f,_0x4bb881,_0x5f4213,messageTypes[_0x2c4840(0x2d7)],_0x2a815c[_0x2c4840(0x2d5)],_0x2a815c[_0x2c4840(0x1d6)],_0x2a815c['bMHTB']),logger[_0x2c4840(0x2a7)](_0x5f4213),process[_0x2c4840(0x330)](0x1)):_0xa4b77b['isPrivateGrid']=!![]);const _0x1d3952=_0x3f23a7['gridProfiles'];let _0x1951df=_0x1d3952[_0x3f23a7[_0x2c4840(0x208)]];_0x15de6f['gridProfile']&&(_0x2a815c[_0x2c4840(0x347)](_0x2a815c['YpGrl'],_0x2a815c['NPHaN'])?_0x2d150c=null:_0x1951df=_0x1d3952[_0x15de6f['gridProfile']]);global_registry[_0x2c4840(0x366)]=![];if(_0x15de6f['hubHa']){if(_0x2a815c['KKWCO'](_0x2a815c[_0x2c4840(0x239)],_0x2a815c[_0x2c4840(0x239)])){const _0x23c416=_0x2a815c[_0x2c4840(0x32b)]['split']('|');let _0x517154=0x0;while(!![]){switch(_0x23c416[_0x517154++]){case'0':global_registry['redisPassword']=_0x2a815c[_0x2c4840(0x25e)];continue;case'1':global_registry[_0x2c4840(0x1f4)]=_0x2a815c['SMMng'];continue;case'2':logger['info'](_0x2a815c[_0x2c4840(0x33c)]);continue;case'3':global_registry[_0x2c4840(0x366)]=!![];continue;case'4':global_registry[_0x2c4840(0x36b)]=_0x2a815c[_0x2c4840(0x306)];continue;}break;}}else _0x4f4e6a=!![];}if(_0x2a815c[_0x2c4840(0x347)](_0x5e0b97,![])&&_0x2a815c['AMgCo'](_0x716cbe,![])){if(_0x2a815c[_0x2c4840(0x371)](_0x2a815c[_0x2c4840(0x1f7)],_0x2a815c[_0x2c4840(0x1f7)])){_0x2a815c[_0x2c4840(0x1e7)](_0x1951df,undefined)&&(_0x2a815c[_0x2c4840(0x2f5)](_0x2a815c[_0x2c4840(0x2f6)],_0x2a815c[_0x2c4840(0x2f6)])?(_0x5f4213=_0x2a815c[_0x2c4840(0x205)],await _0x2a815c['WNVgu'](reportToGalactusAndSendToEDS,_0x15de6f,_0x4bb881,_0x5f4213,messageTypes[_0x2c4840(0x2d7)],_0x2a815c[_0x2c4840(0x2d5)],_0x2a815c[_0x2c4840(0x339)],_0x2a815c[_0x2c4840(0x365)]),logger[_0x2c4840(0x2a7)](_0x5f4213),process['exit'](0x1)):_0x5854fc['isPrivateGrid']=!![]);global_registry['gridProfileId']=_0x1951df['id'],_0x5f4213=_0x2c4840(0x30e)+_0x35c715+'\x20using\x20\x27'+_0x1951df[_0x2c4840(0x2a5)]+_0x2c4840(0x218),logger[_0x2c4840(0x1ef)](_0x5f4213);const _0x319ff1={};_0x319ff1[_0x2c4840(0x284)]=WS_EVENTS[_0x2c4840(0x35b)],_0x319ff1['message']=_0x5f4213,webSocketUtils[_0x2c4840(0x222)](_0x4bb881,_0x319ff1),_0x1a49ac=_0x1951df[_0x2c4840(0x341)],_0x3ed1c9=_0x1951df[_0x2c4840(0x2da)],_0xdf087a=_0x1951df[_0x2c4840(0x361)],_0x5a2a4c=_0x1951df['concurrency'],_0x2d086a=_0x1951df[_0x2c4840(0x2bf)],_0x3be07e=_0x1951df[_0x2c4840(0x351)],_0x2b461b=_0x1951df[_0x2c4840(0x1cd)],_0x1aa6d7=_0x1951df['subnets'],_0x23d71b=_0x1951df[_0x2c4840(0x211)],_0x382360=_0x1951df[_0x2c4840(0x2d1)],_0x3a3cc0=_0x1951df['maxNodes'],_0xbb645c=_0x3f23a7['hubVersion'],_0x2c8ab6=_0x3f23a7['browserVersion'],_0x3be07e&&_0x2a815c[_0x2c4840(0x347)](_0x3be07e[_0x2c4840(0x21c)],0x0)&&(_0x2a815c[_0x2c4840(0x2b4)](_0x2a815c['kQqrp'],_0x2a815c[_0x2c4840(0x313)])?_0x3be07e=null:(_0x3088ab=_0x5f03a[_0x2c4840(0x2f8)],_0x38d0fd=_0x2a815c['NiWjm'])),_0x1aa6d7&&_0x2a815c[_0x2c4840(0x1ed)](_0x1aa6d7['length'],0x0)&&(_0x2a815c[_0x2c4840(0x1dd)](_0x2a815c[_0x2c4840(0x331)],_0x2a815c['kujfe'])?_0xe154c2[_0x2c4840(0x1ef)](_0x2a815c[_0x2c4840(0x2c9)]):_0x1aa6d7=null),_0x2a815c[_0x2c4840(0x370)](_0x1951df[_0x2c4840(0x266)],undefined)&&_0x1951df['privateGrid']&&(_0x2a815c[_0x2c4840(0x36c)](_0x2a815c[_0x2c4840(0x2b2)],_0x2a815c['BjAaM'])?_0x2ff1e0=_0x2a815c[_0x2c4840(0x1c2)]:global_registry[_0x2c4840(0x2a2)]=!![]),_0x2a815c[_0x2c4840(0x283)](updateGlobalRegistryWithConfig,_0x1a49ac,_0x3ed1c9,_0xdf087a,_0x5a2a4c,_0x2d086a,_0x23d71b,_0x1951df,_0xbb645c,_0x2c8ab6,_0x382360,_0x3a3cc0,_0x15de6f['clusterAutoupgrade']),global_registry[_0x2c4840(0x366)]&&(_0x2a815c[_0x2c4840(0x369)](_0x2a815c[_0x2c4840(0x32a)],_0x2a815c[_0x2c4840(0x36e)])?_0x3ca2bf['isPrivateGrid']=!![]:_0x2a815c[_0x2c4840(0x1fa)](updateGlobalRegistryForHubHa,_0x3f23a7[_0x2c4840(0x28c)]));}else{const _0x5a0011=_0x2a815c[_0x2c4840(0x2b9)][_0x2c4840(0x2e2)]('|');let _0x2f92a9=0x0;while(!![]){switch(_0x5a0011[_0x2f92a9++]){case'0':_0x2a815c[_0x2c4840(0x370)](_0x57a93f[_0x2c4840(0x266)],_0x18518f)&&_0x15b55d['privateGrid']&&(_0x1eadad[_0x2c4840(0x2a2)]=!![]);continue;case'1':_0x115990[_0x2c4840(0x1ef)](_0x112a77);continue;case'2':_0x36980d=_0x47c457[_0x2c4840(0x2d1)];continue;case'3':_0x1af11e=_0x4e9af0[_0x2c4840(0x1c3)];continue;case'4':_0xc0a638=_0x3af7cc['browserVersion'];continue;case'5':_0x2a815c[_0x2c4840(0x252)](_0x585b01,_0x48e81d,_0x3cec07,_0x361c3a,_0x1d6c8,_0x1a0863,_0x73d3ca,_0xe88639,_0x25c29d,_0x4a6f13,_0x39ddf7,_0x2c6d60,_0x2626e4[_0x2c4840(0x293)]);continue;case'6':_0x2835ef['enableHubHa']&&_0x2a815c[_0x2c4840(0x2a1)](_0xdf3b6f,_0x6b451b[_0x2c4840(0x2ea)]);continue;case'7':const _0x3cdeda={};_0x3cdeda[_0x2c4840(0x284)]=_0x5d07ae[_0x2c4840(0x35b)],_0x3cdeda[_0x2c4840(0x2cb)]=_0x1eb424,_0x4d6355[_0x2c4840(0x222)](_0x2755ac,_0x3cdeda);continue;case'8':_0x49036a=_0x266ab7[_0x2c4840(0x220)];continue;case'9':_0x288ef1=null;continue;case'10':_0xe7bdcf=_0x2f9fef[_0x2c4840(0x37a)];continue;case'11':_0x278ee8=null;continue;case'12':_0x588b00=_0x441562[_0x2c4840(0x2bf)];continue;case'13':_0x73cae4=_0x2c4840(0x327)+_0x3ecd46;continue;case'14':_0x1eba1a=null;continue;case'15':_0x143eaa=_0xc1e469[_0x2c4840(0x211)];continue;}break;}}}else{if(_0x2a815c['facfD'](_0x716cbe,!![])){if(_0x2a815c[_0x2c4840(0x281)](_0x2a815c['XdtPK'],_0x2a815c[_0x2c4840(0x274)])){_0x5f4213=_0x2c4840(0x327)+_0x35c715,logger[_0x2c4840(0x1ef)](_0x5f4213);const _0x1885e9={};_0x1885e9[_0x2c4840(0x284)]=WS_EVENTS[_0x2c4840(0x35b)],_0x1885e9['message']=_0x5f4213,webSocketUtils['sendEventToBackend'](_0x4bb881,_0x1885e9),_0x5a2a4c=_0x1951df['concurrency'],_0x2d086a=_0x1951df[_0x2c4840(0x2bf)],_0x3be07e=null,_0x2b461b=null,_0x1aa6d7=null,_0x23d71b=_0x1951df['s3bucket'],_0x382360=_0x1951df['minNodes'],_0x3a3cc0=_0x1951df[_0x2c4840(0x37a)],_0xbb645c=_0x3f23a7[_0x2c4840(0x1c3)],_0x2c8ab6=_0x3f23a7['browserVersion'];_0x2a815c[_0x2c4840(0x2b3)](_0x1951df[_0x2c4840(0x266)],undefined)&&_0x1951df['privateGrid']&&(_0x2a815c[_0x2c4840(0x300)](_0x2a815c['GBahj'],_0x2a815c[_0x2c4840(0x1d2)])?_0x2a815c[_0x2c4840(0x2a1)](_0x2c431a,_0x236713[_0x2c4840(0x2ea)]):global_registry[_0x2c4840(0x2a2)]=!![]);_0x2a815c[_0x2c4840(0x2cf)](updateGlobalRegistryWithConfig,_0x1a49ac,_0x3ed1c9,_0xdf087a,_0x5a2a4c,_0x2d086a,_0x23d71b,_0x1951df,_0xbb645c,_0x2c8ab6,_0x382360,_0x3a3cc0,_0x15de6f['clusterAutoupgrade']);if(global_registry[_0x2c4840(0x366)]){if(_0x2a815c[_0x2c4840(0x311)](_0x2a815c['LjImB'],_0x2a815c[_0x2c4840(0x2f7)])){const _0x1aab13={};_0x1aab13['type']=_0x1c06ee[_0x2c4840(0x35b)],_0x1aab13['message']=_0x2c4840(0x303)+_0x57d9b4+_0x2c4840(0x203),_0x1f7217['sendEventToBackend'](_0x2a14fb,_0x1aab13,_0x2a815c[_0x2c4840(0x210)]),_0x8f80c[_0x2c4840(0x1ef)](_0x2c4840(0x303)+_0x25e1ef+_0x2c4840(0x203)),_0xd7f072=!![];if(_0x2a815c['Xqirz'](_0x4714d0,!![]))throw new _0x41edea(_0x2c4840(0x303)+_0x2b69b+_0x2c4840(0x2ac));}else _0x2a815c[_0x2c4840(0x268)](updateGlobalRegistryForHubHa,_0x3f23a7['kafkaUploader']);}}else _0x188dc6=_0x2a815c['XmgmK'];}else{if(_0x2a815c['eCERT'](_0x2a815c[_0x2c4840(0x319)],_0x2a815c[_0x2c4840(0x319)])){const _0x59a91={'azure.workload.identity/use':_0x2a815c[_0x2c4840(0x288)],..._0x2d7adb[0x0][_0x2c4840(0x334)][_0x2c4840(0x257)]['metadata'][_0x2c4840(0x1d0)]};_0x343c2c[0x0][_0x2c4840(0x334)][_0x2c4840(0x257)][_0x2c4840(0x2ef)][_0x2c4840(0x1d0)]=_0x59a91,_0x4bf082[0x0][_0x2c4840(0x334)][_0x2c4840(0x257)][_0x2c4840(0x334)]['serviceAccountName']=_0x2a815c[_0x2c4840(0x1c4)];}else{const _0x4fb181=_0x2a815c[_0x2c4840(0x22d)][_0x2c4840(0x2e2)]('|');let _0x58599e=0x0;while(!![]){switch(_0x4fb181[_0x58599e++]){case'0':logger[_0x2c4840(0x1ef)](_0x5f4213);continue;case'1':global_registry[_0x2c4840(0x1c3)]=_0x3f23a7['hubVersion'];continue;case'2':global_registry[_0x2c4840(0x2da)]=_0x3ed1c9;continue;case'3':global_registry['browserVersion']=_0x3f23a7[_0x2c4840(0x247)];continue;case'4':const _0x138c80={};_0x138c80[_0x2c4840(0x284)]=WS_EVENTS[_0x2c4840(0x35b)],_0x138c80[_0x2c4840(0x2cb)]=_0x5f4213,webSocketUtils[_0x2c4840(0x222)](_0x4bb881,_0x138c80);continue;case'5':_0x5f4213=_0x2c4840(0x20f)+_0x35c715+'\x20in\x20existing\x20cluster\x20\x27'+_0x3ed1c9+'\x27';continue;case'6':global_registry[_0x2c4840(0x341)]=_0x1a49ac;continue;case'7':global_registry[_0x2c4840(0x1c5)]=_0xdf087a;continue;case'8':const _0x14eec5={};_0x14eec5[_0x2c4840(0x284)]=WS_EVENTS[_0x2c4840(0x232)],_0x14eec5['message']=_0x2a815c['CeRSi'],webSocketUtils[_0x2c4840(0x222)](_0x4bb881,_0x14eec5);continue;}break;}}}}const _0x5b9e5c=await _0x2a815c[_0x2c4840(0x20e)](getCloudProviderObject,_0x1a49ac,_0x3ed1c9,_0x35c715,_0x4bb881,webSocketUtils,_0x15de6f);_0x2a815c['WPuKX'](_0x1a49ac,AZURE)&&(_0x2a815c['LNPDZ'](_0x2a815c[_0x2c4840(0x1f3)],_0x2a815c[_0x2c4840(0x2de)])?_0x5b9e5c[_0x2c4840(0x2ec)]():_0x6cafef=null);let _0x21b7ea;if(_0x2a815c[_0x2c4840(0x2f5)](_0x5e0b97,![])){_0x5f4213='Checking\x20if\x20cluster\x20is\x20already\x20present\x20in\x20selected\x20region('+_0xdf087a+').';const _0x4dfbf2={};_0x4dfbf2[_0x2c4840(0x284)]=WS_EVENTS[_0x2c4840(0x35b)],_0x4dfbf2[_0x2c4840(0x2cb)]=_0x5f4213,webSocketUtils[_0x2c4840(0x222)](_0x4bb881,_0x4dfbf2),logger[_0x2c4840(0x1ef)](_0x5f4213);const _0x1860c7=await _0x5b9e5c[_0x2c4840(0x2c0)]();if(_0x1860c7){if(_0x2a815c[_0x2c4840(0x359)](_0x2a815c['dyYXt'],_0x2a815c[_0x2c4840(0x225)]))_0x2a815c[_0x2c4840(0x1fa)](_0x7e6ea4,_0x57e138[_0x2c4840(0x28c)]);else{const _0x40bb34={};_0x40bb34[_0x2c4840(0x284)]=WS_EVENTS[_0x2c4840(0x35b)],_0x40bb34['message']=_0x2c4840(0x303)+_0x3ed1c9+'\x20is\x20already\x20present.\x20Skipping\x20cluster\x20creation',webSocketUtils[_0x2c4840(0x222)](_0x4bb881,_0x40bb34,_0x2a815c[_0x2c4840(0x210)]),logger[_0x2c4840(0x1ef)](_0x2c4840(0x303)+_0x3ed1c9+_0x2c4840(0x203)),_0x5e0b97=!![];if(_0x2a815c[_0x2c4840(0x281)](_0x716cbe,!![])){if(_0x2a815c['eMHQK'](_0x2a815c[_0x2c4840(0x2c3)],_0x2a815c['PhTgS']))throw new _0xebe0fd(_0x2c4840(0x303)+_0x551ae1+'\x20is\x20already\x20present.\x20Cannot\x20spawn\x20a\x20new\x20cluster');else throw new Error('Cluster\x20'+_0x3ed1c9+_0x2c4840(0x2ac));}}}else{const _0x5d74d7={};_0x5d74d7['type']=WS_EVENTS[_0x2c4840(0x35b)],_0x5d74d7[_0x2c4840(0x2cb)]=_0x2a815c[_0x2c4840(0x350)],webSocketUtils['sendEventToBackend'](_0x4bb881,_0x5d74d7),logger[_0x2c4840(0x1ef)](_0x2a815c[_0x2c4840(0x350)]);const _0x43cf9e=_0x2a815c[_0x2c4840(0x272)](_0x3be07e,null)&&_0x2a815c[_0x2c4840(0x289)](_0x3be07e,undefined),_0x39f4b7=_0x2a815c[_0x2c4840(0x272)](_0x1aa6d7,null)&&_0x2a815c[_0x2c4840(0x20a)](_0x1aa6d7,undefined)&&_0x2a815c[_0x2c4840(0x26d)](_0x1aa6d7[_0x2c4840(0x21c)],0x0);if(_0x43cf9e){_0x2a815c[_0x2c4840(0x354)](_0x39f4b7,![])&&(_0x5f4213=_0x2a815c[_0x2c4840(0x26a)],await _0x2a815c[_0x2c4840(0x21f)](reportToGalactusAndSendToEDS,_0x15de6f,_0x4bb881,_0x5f4213,messageTypes['ERROR'],_0x2a815c['zDAgG'],_0x2a815c[_0x2c4840(0x248)],_0x2a815c[_0x2c4840(0x365)]),logger[_0x2c4840(0x2a7)](_0x5f4213),process[_0x2c4840(0x330)](0x1));const _0x483151=await _0x5b9e5c[_0x2c4840(0x275)](_0x3be07e);_0x2a815c[_0x2c4840(0x27d)](_0x483151,![])?(_0x5f4213=_0x2a815c[_0x2c4840(0x312)],await _0x2a815c['hvOvm'](reportToGalactusAndSendToEDS,_0x15de6f,_0x4bb881,_0x5f4213,messageTypes['ERROR'],_0x2a815c[_0x2c4840(0x2d5)],_0x2a815c[_0x2c4840(0x2ca)],_0x2a815c[_0x2c4840(0x365)]),logger[_0x2c4840(0x2a7)](_0x5f4213),process[_0x2c4840(0x330)](0x1)):logger[_0x2c4840(0x1ef)](_0x2c4840(0x325)+_0x3be07e+'\x20');const _0x33b4ec=await _0x5b9e5c['isSubnetsValid'](_0x1aa6d7,_0x3be07e);_0x2a815c[_0x2c4840(0x2e6)](_0x33b4ec[0x0],![])?(_0x5f4213=_0x2c4840(0x310)+JSON['stringify'](_0x33b4ec[0x1])+'\x20are\x20not\x20present\x20in\x20VPC:\x20'+_0x3be07e+_0x2c4840(0x20b),await _0x2a815c['vngrJ'](reportToGalactusAndSendToEDS,_0x15de6f,_0x4bb881,_0x5f4213,messageTypes[_0x2c4840(0x2d7)],_0x2a815c[_0x2c4840(0x2d5)],_0x2a815c['GXlpn'],_0x2a815c[_0x2c4840(0x365)]),logger[_0x2c4840(0x2a7)](_0x5f4213),process[_0x2c4840(0x330)](0x1)):logger[_0x2c4840(0x1ef)]('Found\x20Subnets:\x20'+JSON[_0x2c4840(0x30c)](_0x1aa6d7)+'\x20'),[_0x3be07e,_0x1aa6d7]=await _0x5b9e5c[_0x2c4840(0x1e1)](_0x3be07e,_0x1aa6d7);}else{const _0x5c572b=_0x2a815c[_0x2c4840(0x1e5)][_0x2c4840(0x2e2)]('|');let _0x4507a2=0x0;while(!![]){switch(_0x5c572b[_0x4507a2++]){case'0':const _0x2983b9={};_0x2983b9[_0x2c4840(0x284)]=WS_EVENTS[_0x2c4840(0x35b)],_0x2983b9['message']=_0x2a815c[_0x2c4840(0x329)],webSocketUtils[_0x2c4840(0x222)](_0x4bb881,_0x2983b9);continue;case'1':logger[_0x2c4840(0x1ef)](_0x2a815c[_0x2c4840(0x329)]);continue;case'2':logger[_0x2c4840(0x1ef)](_0x2a815c[_0x2c4840(0x25b)]);continue;case'3':[_0x3be07e,_0x1aa6d7]=await _0x5b9e5c[_0x2c4840(0x1e1)](_0x3be07e,_0x1aa6d7);continue;case'4':const _0x349ec7={};_0x349ec7[_0x2c4840(0x284)]=WS_EVENTS[_0x2c4840(0x35b)],_0x349ec7[_0x2c4840(0x2cb)]=_0x2a815c[_0x2c4840(0x25b)],webSocketUtils[_0x2c4840(0x222)](_0x4bb881,_0x349ec7);continue;}break;}}}}_0x5e0b97&&_0x2a815c[_0x2c4840(0x281)](_0x1a49ac,AZURE)&&(await _0x5b9e5c[_0x2c4840(0x1c1)](),await _0x5b9e5c[_0x2c4840(0x270)]());const [_0x19023a,_0x2cb871,_0x2a7035,_0x102fef,_0x44f4cc,_0x12a19d,_0x462fdd]=await _0x2a815c['iXHPX'](createK8sClient,_0x5b9e5c,_0x15de6f[_0x2c4840(0x22b)]);_0x2a815c[_0x2c4840(0x2c1)](_0x5e0b97,![])&&_0x2a815c[_0x2c4840(0x1ed)](_0x1a49ac,AWS)&&(global_registry[_0x2c4840(0x36f)]=!![],_0x21b7ea=await _0x5b9e5c[_0x2c4840(0x363)](_0x19023a,_0x15de6f));if(_0x2a815c[_0x2c4840(0x223)](_0x5e0b97,![])&&global_registry['enableHubHa'])try{await _0x5b9e5c[_0x2c4840(0x264)](_0x12a19d,_0x462fdd,_0x15de6f,_0x3be07e,_0x1aa6d7);const _0x491bbd={};_0x491bbd[_0x2c4840(0x284)]=WS_EVENTS[_0x2c4840(0x35b)],_0x491bbd[_0x2c4840(0x2cb)]=_0x2a815c[_0x2c4840(0x29d)],webSocketUtils[_0x2c4840(0x222)](_0x4bb881,_0x491bbd);!await _0x2a815c['yfWTO'](namespaceExists,_0x19023a,global_registry['hubHaNameSpace'])&&await _0x2a815c['DfyPG'](createNamespace,_0x19023a,global_registry[_0x2c4840(0x1f4)]);logger[_0x2c4840(0x1ef)](_0x2a815c[_0x2c4840(0x31c)]);let _0xd97038=await fs['readFileAsync'](path[_0x2c4840(0x2b8)](__dirname,_0x2a815c['qsime'],_0x2a815c[_0x2c4840(0x1e3)],_0x2a815c['tGxjg'],_0x2a815c[_0x2c4840(0x344)]),_0x2a815c['xJlzx']);_0xd97038=_0xd97038[_0x2c4840(0x2b0)](/<RedisClientPassword>/g,_0x2a815c['LknKP'](encodeBase64,global_registry[_0x2c4840(0x2a4)])),_0xd97038=_0xd97038['replace'](/<KafkaClientPassword>/g,_0x2a815c[_0x2c4840(0x299)](encodeBase64,global_registry[_0x2c4840(0x36b)])),_0xd97038=_0xd97038[_0x2c4840(0x2b0)](/<BstackUsername>/g,_0x2a815c[_0x2c4840(0x26b)](encodeBase64,global_registry[_0x2c4840(0x28b)])),_0xd97038=_0xd97038['replace'](/<BstackAccessKey>/g,_0x2a815c[_0x2c4840(0x299)](encodeBase64,global_registry['bstackAccesskey']));const _0x2644dd=yaml[_0x2c4840(0x35d)](_0xd97038);await _0x2a815c[_0x2c4840(0x285)](kubeApply,_0x2644dd,_0x462fdd),logger['info'](_0x2a815c[_0x2c4840(0x307)]);let _0x522cc2=_0x2a815c[_0x2c4840(0x23d)];if(_0x2a815c[_0x2c4840(0x354)](_0x1a49ac,AZURE))_0x522cc2=_0x2a815c[_0x2c4840(0x1c2)];else _0x2a815c['HiXmE'](_0x1a49ac,GCP)&&(_0x522cc2=_0x2a815c['XmgmK']);logger[_0x2c4840(0x1ef)](_0x2a815c[_0x2c4840(0x2df)]);let _0x129459=await fs[_0x2c4840(0x1e0)](path[_0x2c4840(0x2b8)](__dirname,_0x2a815c[_0x2c4840(0x30f)],_0x2a815c[_0x2c4840(0x1e3)],_0x2a815c[_0x2c4840(0x1ea)],_0x2a815c['MrVIr']),_0x2a815c[_0x2c4840(0x372)]);_0x129459=_0x129459[_0x2c4840(0x2b0)](/<HubHaNameSpace>/g,global_registry[_0x2c4840(0x1f4)]),_0x129459=_0x129459['replace'](/<StorageClassName>/g,_0x522cc2);const _0x20dc24=yaml[_0x2c4840(0x35d)](_0x129459);await _0x2a815c['SZOkE'](kubeApply,_0x20dc24,_0x462fdd),logger[_0x2c4840(0x1ef)](_0x2a815c[_0x2c4840(0x251)]),logger[_0x2c4840(0x1ef)](_0x2a815c['htKvZ']);let _0x349881=await fs['readFileAsync'](path['join'](__dirname,_0x2a815c['qsime'],_0x2a815c['lVTja'],_0x2a815c[_0x2c4840(0x1ea)],_0x2a815c[_0x2c4840(0x34e)]),_0x2a815c['xJlzx']);_0x349881=_0x349881[_0x2c4840(0x2b0)](/<HubHaNameSpace>/g,global_registry[_0x2c4840(0x1f4)]),_0x349881=_0x349881[_0x2c4840(0x2b0)](/<StorageClassName>/g,_0x522cc2);const _0x5251a9=yaml[_0x2c4840(0x35d)](_0x349881);await _0x2a815c[_0x2c4840(0x35a)](kubeApply,_0x5251a9,_0x462fdd),logger[_0x2c4840(0x1ef)](_0x2a815c['xATfq']),logger[_0x2c4840(0x1ef)](_0x2a815c[_0x2c4840(0x2dc)]);let _0x25b500=await fs[_0x2c4840(0x1e0)](path['join'](__dirname,_0x2a815c[_0x2c4840(0x30f)],_0x2a815c[_0x2c4840(0x1e3)],_0x2a815c[_0x2c4840(0x1ea)],_0x2a815c[_0x2c4840(0x207)]),_0x2a815c[_0x2c4840(0x372)]);_0x25b500=_0x25b500[_0x2c4840(0x2b0)](/<UploaderImageVersion>/g,global_registry['uploaderImageVersion']),_0x25b500=_0x25b500['replace'](/<HubHaNameSpace>/g,global_registry['hubHaNameSpace']);const _0x2a29ea=yaml[_0x2c4840(0x35d)](_0x25b500);_0x2a815c[_0x2c4840(0x359)](global_registry[_0x2c4840(0x341)],AZURE)&&(_0x2a29ea[0x0][_0x2c4840(0x334)]['template'][_0x2c4840(0x2ef)]['labels']={'azure.workload.identity/use':_0x2a815c[_0x2c4840(0x288)],..._0x2a29ea[0x0][_0x2c4840(0x334)][_0x2c4840(0x257)][_0x2c4840(0x2ef)][_0x2c4840(0x1d0)]},_0x2a29ea[0x0][_0x2c4840(0x334)][_0x2c4840(0x257)][_0x2c4840(0x334)][_0x2c4840(0x24d)]=_0x2a815c[_0x2c4840(0x1c4)]);await _0x2a815c[_0x2c4840(0x1ec)](kubeApply,_0x2a29ea,_0x462fdd),logger[_0x2c4840(0x1ef)](_0x2a815c[_0x2c4840(0x228)]);const _0x50d8bd={};_0x50d8bd['type']=WS_EVENTS['LOG'],_0x50d8bd[_0x2c4840(0x2cb)]=_0x2a815c[_0x2c4840(0x292)],webSocketUtils['sendEventToBackend'](_0x4bb881,_0x50d8bd),logger[_0x2c4840(0x1ef)](_0x2a815c[_0x2c4840(0x2ad)]);}catch(_0x4f1208){const _0x1d3b5a=_0x2a815c['oQGJG'][_0x2c4840(0x2e2)]('|');let _0x2ce347=0x0;while(!![]){switch(_0x1d3b5a[_0x2ce347++]){case'0':logger[_0x2c4840(0x2a7)](_0x5f4213);continue;case'1':_0x5f4213=_0x2c4840(0x229)+_0x4f1208[_0x2c4840(0x2cb)];continue;case'2':process[_0x2c4840(0x330)](0x1);continue;case'3':await _0x5b9e5c['deleteCluster'](_0x19023a,global_registry['clusterRegion']);continue;case'4':await _0x2a815c[_0x2c4840(0x346)](reportToGalactusAndSendToEDS,_0x15de6f,_0x4bb881,_0x5f4213,messageTypes[_0x2c4840(0x2d7)],_0x2a815c['zDAgG'],_0x2a815c[_0x2c4840(0x27a)],_0x2a815c[_0x2c4840(0x365)]);continue;}break;}}try{_0xb8373=_0x2a815c[_0x2c4840(0x2e1)](kebabCase,_0x35c715),logger['info'](_0x2a815c['JIdzG']);const _0x3e8fc1={};_0x3e8fc1[_0x2c4840(0x284)]=WS_EVENTS[_0x2c4840(0x35b)],_0x3e8fc1['message']=_0x2a815c['JIdzG'],webSocketUtils[_0x2c4840(0x222)](_0x4bb881,_0x3e8fc1);if(_0x2a815c[_0x2c4840(0x308)](_0xb8373,_0x2a815c[_0x2c4840(0x1c4)])){const _0x1fa0c4={};_0x1fa0c4[_0x2c4840(0x23c)]=_0x2a815c[_0x2c4840(0x291)],_0x1fa0c4[_0x2c4840(0x23b)]=_0x2a815c['GvGBN'];const _0x350a24={};_0x350a24['name']=_0xb8373,_0x350a24[_0x2c4840(0x23f)]=_0x1fa0c4;const _0x1bbbac={};_0x1bbbac[_0x2c4840(0x2ef)]=_0x350a24;const _0x37a0a8=_0x1bbbac,_0x46bb60={};_0x46bb60[_0x2c4840(0x377)]=_0x37a0a8,await _0x19023a['createNamespace'](_0x46bb60),logger[_0x2c4840(0x1ef)](_0x2a815c[_0x2c4840(0x1e8)]);}const _0x3e8169={};_0x3e8169['type']=WS_EVENTS[_0x2c4840(0x35b)],_0x3e8169['message']=_0x2a815c[_0x2c4840(0x2fa)],webSocketUtils['sendEventToBackend'](_0x4bb881,_0x3e8169);const _0x33078c={};_0x33078c[_0x2c4840(0x284)]=WS_EVENTS[_0x2c4840(0x35b)],_0x33078c[_0x2c4840(0x2cb)]=_0x2a815c[_0x2c4840(0x202)],webSocketUtils['sendEventToBackend'](_0x4bb881,_0x33078c),logger[_0x2c4840(0x1ef)](_0x2a815c[_0x2c4840(0x31e)]);let _0x400c46={};_0x2a815c['Xqirz'](_0x1a49ac,AZURE)&&(_0x400c46={'clientId':await _0x5b9e5c[_0x2c4840(0x315)]('turboscale-managed-identity-'+_0x3ed1c9)});await _0x2a815c[_0x2c4840(0x324)](addGridComponents,_0x19023a,_0x2cb871,_0x2a7035,_0x102fef,_0xb8373,_0x3ed1c9,_0x21b7ea,_0x44f4cc,_0x462fdd,_0x400c46),_0x5f4213=_0x2a815c[_0x2c4840(0x227)],logger[_0x2c4840(0x1ef)](_0x5f4213);const _0x64e003={};_0x64e003[_0x2c4840(0x284)]=WS_EVENTS[_0x2c4840(0x35b)],_0x64e003[_0x2c4840(0x2cb)]=_0x5f4213,webSocketUtils[_0x2c4840(0x222)](_0x4bb881,_0x64e003),_0x5f4213=_0x2a815c[_0x2c4840(0x1c0)],logger[_0x2c4840(0x1ef)](_0x5f4213);const _0x378005={};_0x378005[_0x2c4840(0x284)]=WS_EVENTS[_0x2c4840(0x35b)],_0x378005['message']=_0x5f4213,webSocketUtils['sendEventToBackend'](_0x4bb881,_0x378005),await _0x2a815c['CWToU'](waitForDeployment,_0x2cb871,_0xb8373,TURBOSCALE_DEPLOYMENT,0x1d4c0);const _0x3a63e0=await _0x2a815c[_0x2c4840(0x1c6)](getNamespaceUID,_0x19023a,_0xb8373),_0x5e9494=global_registry[_0x2c4840(0x2a2)]?_0x2a815c[_0x2c4840(0x2ed)]:_0x2a815c[_0x2c4840(0x332)],_0x1111fd={};_0x1111fd[_0x2c4840(0x2a5)]=_0x5e9494,_0x1111fd[_0x2c4840(0x31a)]=_0x2a815c[_0x2c4840(0x286)];const _0x5cba2b=await _0x19023a[_0x2c4840(0x2e8)](_0x1111fd);let _0x1e3b4c=_0x5b9e5c[_0x2c4840(0x26c)](_0x5cba2b)+'/'+_0xb8373,_0x296834=_0x2a815c[_0x2c4840(0x2e9)];try{const _0x46e85b=_0x2c4840(0x2f0)+AG_API_URL+_0x2c4840(0x2e3)+_0x3a63e0,_0x5bb59e=await _0x2a815c[_0x2c4840(0x35a)](got,_0x46e85b,_0x974b4e);(_0x2a815c[_0x2c4840(0x2ee)](_0x5bb59e,null)||_0x2a815c[_0x2c4840(0x223)](_0x5bb59e,undefined))&&(_0x5f4213=_0x2a815c[_0x2c4840(0x34f)],await _0x2a815c[_0x2c4840(0x279)](reportToGalactusAndSendToEDS,_0x15de6f,_0x4bb881,_0x5f4213,messageTypes[_0x2c4840(0x2d7)],_0x2a815c[_0x2c4840(0x2d5)],_0x2a815c[_0x2c4840(0x367)],_0x2a815c[_0x2c4840(0x365)]),logger['error'](_0x5f4213),process[_0x2c4840(0x330)](0x1));_0x2a815c[_0x2c4840(0x1db)](_0x5bb59e['statusCode'],0x191)&&(_0x5f4213=_0x2a815c[_0x2c4840(0x36a)],await _0x2a815c[_0x2c4840(0x345)](reportToGalactusAndSendToEDS,_0x15de6f,_0x4bb881,_0x5f4213,messageTypes[_0x2c4840(0x2d7)],_0x2a815c[_0x2c4840(0x2d5)],_0x2a815c[_0x2c4840(0x2bc)],_0x2a815c['bMHTB']),logger[_0x2c4840(0x2a7)](_0x5f4213),process[_0x2c4840(0x330)](0x1));_0x2a815c[_0x2c4840(0x212)](_0x5bb59e[_0x2c4840(0x1ee)],0xc8)&&(_0x5f4213=_0x2c4840(0x2c6)+JSON['stringify'](_0x5bb59e),await _0x2a815c[_0x2c4840(0x1ca)](reportToGalactusAndSendToEDS,_0x15de6f,_0x4bb881,_0x5f4213,messageTypes['ERROR'],_0x2a815c[_0x2c4840(0x2d5)],_0x2a815c[_0x2c4840(0x1d5)],_0x2a815c[_0x2c4840(0x365)]),logger[_0x2c4840(0x2a7)](_0x5f4213),process[_0x2c4840(0x330)](0x1));const _0x3ab9d9=JSON[_0x2c4840(0x2b1)](_0x5bb59e[_0x2c4840(0x377)]);_0x3ab9d9[_0x2c4840(0x2f8)]&&(_0x1e3b4c=_0x3ab9d9[_0x2c4840(0x2f8)],_0x296834=_0x2a815c[_0x2c4840(0x22a)]),global_registry[_0x2c4840(0x2a2)]&&(_0x296834=_0x2a815c[_0x2c4840(0x2e9)]);}catch(_0x570468){}_0x5f4213='Grid\x20can\x20be\x20accessed\x20at:\x20'+_0x1e3b4c+'\x20',logger[_0x2c4840(0x1ef)](_0x5f4213);const _0x5a3252={};_0x5a3252[_0x2c4840(0x284)]=WS_EVENTS[_0x2c4840(0x35b)],_0x5a3252[_0x2c4840(0x2cb)]=_0x5f4213,webSocketUtils[_0x2c4840(0x222)](_0x4bb881,_0x5a3252),_0x5f4213=_0x2c4840(0x2f2)+_0x296834+_0x2c4840(0x318)+_0x1e3b4c+_0x2c4840(0x2c8),logger['info'](_0x5f4213);const _0x4c44ac={};_0x4c44ac[_0x2c4840(0x284)]=WS_EVENTS[_0x2c4840(0x35b)],_0x4c44ac[_0x2c4840(0x2cb)]=_0x5f4213,webSocketUtils[_0x2c4840(0x222)](_0x4bb881,_0x4c44ac);const _0x1a8d9d={};_0x1a8d9d['type']=WS_EVENTS['CLI_RUN_FINISHED'],_0x1a8d9d[_0x2c4840(0x2cb)]=_0x2c4840(0x1cb)+_0x1e3b4c,webSocketUtils[_0x2c4840(0x222)](_0x4bb881,_0x1a8d9d),await webSocketUtils[_0x2c4840(0x343)](0x7d0);}catch(_0x28fa66){logger['error'](_0x2c4840(0x28a)+_0x28fa66+'\x20\x0a'+JSON[_0x2c4840(0x30c)](_0x28fa66[_0x2c4840(0x379)]));if(_0x2a815c['GNmkI'](_0x5e0b97,![]))try{logger[_0x2c4840(0x1ef)](_0x2a815c[_0x2c4840(0x26f)]),await _0x2a815c[_0x2c4840(0x238)](removeGridComponents,_0x19023a,_0x2cb871,_0x2a7035,_0x102fef,_0xb8373),await _0x5b9e5c[_0x2c4840(0x236)](_0x19023a,global_registry[_0x2c4840(0x1c5)]);}catch(_0x321497){logger[_0x2c4840(0x2a7)](_0x2c4840(0x27c)+_0x321497+'\x20\x0a'+JSON[_0x2c4840(0x30c)](_0x321497[_0x2c4840(0x379)]));}throw _0x28fa66;}}catch(_0x2e6ec3){const _0x240166='Unable\x20to\x20Spawn\x20the\x20Grid!\x20Error:\x20'+_0x2e6ec3+'\x20\x0a'+JSON[_0x2c4840(0x30c)](_0x2e6ec3[_0x2c4840(0x379)]);if(_0x4bb881){const _0x3030b2={};_0x3030b2[_0x2c4840(0x284)]=WS_EVENTS[_0x2c4840(0x35b)],_0x3030b2[_0x2c4840(0x2cb)]=_0x240166,webSocketUtils['sendEventToBackend'](_0x4bb881,_0x3030b2,_0x2a815c[_0x2c4840(0x365)],!![]);}await webSocketUtils[_0x2c4840(0x343)](0x7d0);const _0x2ec8db={};_0x2ec8db['error']=_0x240166,await _0x2a815c['lttxP'](sendInstrumentationEvent,_0x15de6f,_0x2a815c['zDAgG'],messageTypes[_0x2c4840(0x2d7)],_0x2a815c[_0x2c4840(0x336)],_0x2ec8db,_0x15de6f),logger[_0x2c4840(0x2a7)](_0x240166);}process['exit'](0x0);};function a9_0xe967(){const _0x5528a8=['options','Skip\x20insecure\x20cert\x20verification.','Cluster\x20not\x20found.\x20Proceeding\x20with\x20creating\x20required\x20resources.','EsWpS','GET','ijnvT','Flag\x20to\x20enable\x20cluster\x20auto-upgrade','rMSvo','oUXRT','Fetching\x20url\x20for\x20running\x20tests\x20on\x20the\x20grid','84402bCXbAf','LknKP','isPrivateGrid','lMIOA','redisPassword','name','newCluster','error','SjDGf','description','arWKn','Creating\x20namespace','\x20is\x20already\x20present.\x20Cannot\x20spawn\x20a\x20new\x20cluster','MjJzf','YqWJQ','Cluster\x20Auto\x20Upgrade\x20is\x20enabled','replace','parse','BjAaM','oEGCj','Xqirz','HGPTp','tkaKw','boolean','join','QdLqk','Adding\x20Secret\x20Mapping','epilogue','XxTin','private-ingress-nginx-controller','connectionTimeout','instanceType','isClusterPresent','qHWru','../../utils/gridComponents','YCkVz','includes','Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Unknown\x20error!','Failed\x20to\x20get\x20grid\x20url\x20from\x20the\x20server.\x20Non\x20200\x20response\x20from\x20server!\x20','hub-ha-deployments-failed','/wd/hub','VBuDW','fFooU','message','pre-spawned-subnets-not-selected','Failed\x20to\x20get\x20grid\x20url\x20from\x20the\x20server.\x20Unauthorized\x20request!','zeBUE','IJBBK','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','minNodes','168497JVdDjk','HMaku','gridName','zDAgG','VPC\x20selected\x20does\x20not\x20exist.\x20Please\x20try\x20again','ERROR','fUaHK','prespawned-cluster-args-not-passed','clusterName','CeRSi','NOCTt','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','YdUJA','vRmNV','Pass\x20the\x20name\x20to\x20setup\x20the\x20Automation\x20Grid\x20with\x20specific\x20name.\x20Name\x20this\x20grid\x20using\x20either\x20team\x27s\x20name,\x20pipeline\x20specific\x20or\x20generic.','MjcYL','split','/packages/cli/get-grid-url?gridIdentifier=','aWtSq','CLI\x20run\x20started','MDxtO','get-grid-url-null-response','readNamespacedService','DtBdF','kafkaUploader','get\x20grid\x20url\x20from\x20the\x20server.\x20Unknown\x20error!','sendResourceDataToHST','mvqgQ','jssJU','metadata','https://','mWFOq','Hub\x20url\x20to\x20run\x20selenium\x20sessions:\x20','UOUTY','hub-ha','pGCyN','gNihx','LjImB','route53','jDvRK','ctogQ','existsSync','Added\x20Kafka\x20deployment.','6088490IijcXX','iJzgM','Added\x20Secret\x20Mapping','AMgCo','<PasswordPlaceholder>','Created\x20Hub\x20HA\x20resources','Cluster\x20','Epyd5nXbRK','Namespace\x20created','PyVis','hDhWV','JXccy','\x20doesn\x27t\x20exist.\x20Proceeding\x20with\x20creating\x20a\x20new\x20cluster','LpSSH','8|5|0|4|6|7|2|1|3','stringify','bAIGk','Will\x20be\x20spawning\x20the\x20grid\x20','qsime','Subnets:\x20','ozvUd','znTRZ','kQqrp','/packages/cli/create-grid-checks','getResourceClientId','uuid','jmfYJ','://','lrQrb','namespace','bQnAX','IOdqT','bhPYx','KGIaf','wpcVR','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','skip-tls-cert-verify','VkEgB','ritcg','WtaJT','Found\x20VPC:\x20','msZrq','Will\x20be\x20spawning\x20a\x20new\x20cluster\x20and\x20the\x20grid\x20','2445380YZGFsg','RNEXc','RabYf','GEWLL','iXPUX','XoqDM','wHveb','../..','exit','kujfe','ERPgQ','4|1|0|8|3|6|5|2|7','spec','cpeGk','bPInR','browserstack','lRXCr','pFCAZ','cluster-autoupgrade','user','jSMDR','PrYIJ','Spawning\x20Grid\x20on\x20the\x20Cluster','warn','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','cloudProvider','create','delay','dkqar','qJZxl','zaRUV','OyDIL','WNVgu','js-yaml','vRYjM','command','mxGMl','Flag\x20to\x20enable\x20Hub\x20HA','SDQBr','HHwEB','OPxmW','vpc','kVcrE','username','KKWCO','get-grid-url-non-200','LLPKm','Create\x20a\x20private/public\x20grid.','templates','YznLz','iKbbJ','LOG','string','loadAll','An\x20Automation\x20Grid\x20already\x20exists\x20with\x20grid\x20name\x20','13|1|7|8|12|9|14|11|15|2|10|3|4|0|5|6','NOWyZ','region','EPMKF','setupAutoscaler','gZYvh','bMHTB','enableHubHa','lGSBG','22MGsDYt','eMHQK','bznbw','kafkaPassword','DXbTv','MnVNg','ANiLr','isNewAWSCluster','Fvkof','ahIMl','xJlzx','../../config/logger','../../cloudproviders/utils','Scrdb','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','body','GmKid','stack','maxNodes','non-aws-azure-cluster','Cluster\x20created\x20successfully','32ACWKXQ','wZCUh','updateClusterAlreadyPresent','wtFZI','hubVersion','hZlrm','clusterRegion','wHgGY','dLiDR','245520OaRvQi','LEJLZ','GLwQD','CLI\x20run\x20finished:\x20','CQhyo','securityGroups','CwcDt','addListeners','labels','create-grid-checks-invalid-profile','zTxDK','get-grid-url-auth-failed','bstackAccesskey','aKERQ','gtmBS','Grid\x20profile\x20fetched\x20from\x20backend','Added\x20Turboscale\x20Uploader\x20deployment.','sdHyb','browserstack-secret.yaml','stvrE','.\x20Please\x20use\x20--grid-name\x20option\x20to\x20provide\x20another\x20grid\x20name','sLVaD','PBonD','help','readFileAsync','setupNewCluster','gcYyf','lVTja','4|3|2|1|0','gyWbm','\x20in\x20existing\x20cluster\x20\x27','Rtxsr','aVPwj','TtGjt','tGxjg','create-grid-called','KQLrn','ZzanN','statusCode','info','handler','XEkSG','Adding\x20Turboscale\x20Uploader\x20deployment...','VHCTH','hubHaNameSpace','usage','xEDWw','IwHVt','iQmon','grid','CMwpv','grid-profile','uDOzT','desc','KWqLO','Hub\x20HA\x20setup\x20completed\x20successfully.','clusterAutoUpgrade','toLowerCase','GAgyh','\x20is\x20already\x20present.\x20Skipping\x20cluster\x20creation','Invalid\x20Grid\x20Profile.Exiting\x20the\x20CLI.','QYeMc','ciMdY','xbHwD','defaultGridProfile','Namespace\x20Created','TFyBp','.\x20Please\x20re\x20-\x20select\x20subnets\x20and\x20try\x20again','cloud-provider','oLbxK','FFnph','Spawning\x20the\x20grid\x20','ZKscB','s3bucket','yCQLz','fchdg','PpmgK','SMMng','uAYDg','gridProfile','\x27\x20grid\x20profile','UjASn','2|1|0|4|3','iEudR','length','ozFdo','bitnami-redis.yaml','vngrJ','concurrency','Browserstack','sendEventToBackend','jehYV','CKXRg','HRuOT','WjmIu','qSJbf','LNoID','Error\x20occurred\x20while\x20setting\x20up\x20Hub\x20HA\x20infra:\x20','NiWjm','skipTlsCertVerify','hubharesources','MIayl','Adding\x20Websocket\x20listeners','102flzKGi','fkqjR','ObHlg','CLI_RUN_STARTED','lzChC','init-not-called','../../utils/webSocketUtils','deleteCluster','EIdlQ','fbuHx','YtCPW','tVmuM','managedBy','createdBy','WYBMb','bevLn','annotations','bsmgw','bitnami-kafka.yaml','create-grid-checks-null-response','18vFrOjJ','NuKQB','AKqZm','iPoCX','browserVersion','KkDlu','turboscale-uploader.yaml','Deleting\x20the\x20CloudFormation\x20Stacks','FMCwF','default','serviceAccountName','private-grid','<UsernamePlaceholder>','Cluster:\x20','MsKgm','dcWSa','awqUj','cluster-name','create-grid-checks-auth-failed','YWhbU','template','alreadyPresent','TwwpF','cbLlr','ZSZgR','VHEJO','hjivq','yonEl','ixWeP','QrIuk','create-grid-checks-non-200','Invalid\x20input.\x20Currently\x20Spawning\x20the\x20grid\x20in\x20AWS\x20and\x20Azure\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','dGGpL','setupHubHa','pre-spawned-invalid-vpc','privateGrid','zbqQT','eVNqH','tJkEX','OQMuc','UdEBU','getGridHostname','Ihawr','pre-spawned-invalid-subnets','jgjFV','createOtherResources','RPQJL','Stfmn','SYjuF','XdtPK','isVPCPresent','mUHKu','WPuvg','MgoDe','hvOvm','kzdBu','nxksp','Failed\x20to\x20delete\x20the\x20CloudFormation\x20Stacks\x20and\x20other\x20spawned\x20components.\x20Error:\x20\x20','RMUPM','128588jNjjoj','UkRNzNYCBU','password','zriCT','Spawning\x20grid\x20on\x20to\x20the\x20cluster','JZfKt','type','JUGpW','amWgP','https','nWVgm','PFuoB','Error\x20in\x20Spawning\x20the\x20Grid!\x20Error:\x20','bstackUsername','uploaderVersion','0|1|3|4|2','8176uYmJEM','The\x20grid\x20creation\x20is\x20in\x20progress.\x20It\x20could\x20take\x20as\x20long\x20as\x2015-20\x20minutes.\x20You\x20will\x20receive\x20an\x20email\x20notification\x20once\x20the\x20grid\x20is\x20ready.','grid-name','GvGBN','FWLQG','clusterAutoupgrade','cluster-name,\x20cloud-provider\x20&&\x20region\x20should\x20be\x20provided\x20when\x20spawning\x20a\x20grid\x20in\x20existing\x20(Non-BrowserStack\x20created)\x20K8s\x20cluster','http'];a9_0xe967=function(){return _0x5528a8;};return a9_0xe967();}