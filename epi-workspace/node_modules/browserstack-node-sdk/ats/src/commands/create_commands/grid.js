const a9_0x384c35=a9_0x828b;(function(_0x4a84ba,_0x184ecc){const _0x584d00=a9_0x828b,_0x1bd2e4=_0x4a84ba();while(!![]){try{const _0x42558b=-parseInt(_0x584d00(0x2aa))/0x1*(-parseInt(_0x584d00(0x2bb))/0x2)+parseInt(_0x584d00(0x265))/0x3*(-parseInt(_0x584d00(0x1da))/0x4)+parseInt(_0x584d00(0x289))/0x5+-parseInt(_0x584d00(0x2a5))/0x6*(-parseInt(_0x584d00(0x1ef))/0x7)+parseInt(_0x584d00(0x2a1))/0x8+-parseInt(_0x584d00(0x178))/0x9+parseInt(_0x584d00(0x276))/0xa*(-parseInt(_0x584d00(0x248))/0xb);if(_0x42558b===_0x184ecc)break;else _0x1bd2e4['push'](_0x1bd2e4['shift']());}catch(_0x1db057){_0x1bd2e4['push'](_0x1bd2e4['shift']());}}}(a9_0x56db,0xb2ab5));function a9_0x828b(_0x299974,_0x1da4dd){const _0x56dbe6=a9_0x56db();return a9_0x828b=function(_0x828b3e,_0x2951a1){_0x828b3e=_0x828b3e-0x12e;let _0x49a90b=_0x56dbe6[_0x828b3e];return _0x49a90b;},a9_0x828b(_0x299974,_0x1da4dd);}const fs=require('fs'),ws=require('ws'),path=require(a9_0x384c35(0x1ea)),yaml=require('js-yaml'),ReconnectingWebSocket=require(a9_0x384c35(0x13e)),got=require(a9_0x384c35(0x1fc)),{v4:uuidv4}=require(a9_0x384c35(0x2cf)),webSocketUtils=require('../../utils/webSocketUtils'),{logger}=require('../../config/logger'),{getCredentialsPath,updateGlobalRegistryWithConfig,updateGlobalRegistryForHubHa,kebabCase,reportToGalactusAndSendToEDS,getAuthHeader,waitForDeployment,kubeApply,encodeBase64}=require(a9_0x384c35(0x22d)),{getCloudProviderObject}=require('../../cloudproviders/utils'),{AWS,WS_EVENTS,global_registry,WS_ENDPOINT,DEFAULT_GRID_NAME,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,messageTypes,AG_API_URL,AZURE,GCP,TURBOSCALE_DEPLOYMENT}=require('../../config/constants'),{addGridComponents,removeGridComponents,getNamespaceUID,namespaceExists,createNamespace}=require('../../utils/gridComponents'),{createK8sClient}=require(a9_0x384c35(0x1fa)),{sendInstrumentationEvent}=require(a9_0x384c35(0x1b5));exports[a9_0x384c35(0x19d)]='grid',exports[a9_0x384c35(0x233)]=a9_0x384c35(0x20e),exports['builder']=function(_0x4420e3){const _0xe90088=a9_0x384c35,_0x115bd2={};_0x115bd2[_0xe90088(0x24a)]=_0xe90088(0x21b),_0x115bd2[_0xe90088(0x26b)]=_0xe90088(0x294),_0x115bd2[_0xe90088(0x16a)]=_0xe90088(0x250),_0x115bd2['gOFDB']=_0xe90088(0x1ff),_0x115bd2[_0xe90088(0x206)]=_0xe90088(0x292),_0x115bd2[_0xe90088(0x2c5)]='Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.',_0x115bd2['oiRvf']=_0xe90088(0x245),_0x115bd2['CQzVx']=_0xe90088(0x27a),_0x115bd2[_0xe90088(0x2c7)]=_0xe90088(0x165),_0x115bd2['AZCBP']=_0xe90088(0x181),_0x115bd2[_0xe90088(0x293)]='Flag\x20to\x20enable\x20cluster\x20auto-upgrade',_0x115bd2[_0xe90088(0x298)]=_0xe90088(0x23c);const _0x5a60eb=_0x115bd2,_0x35f4b9={};_0x35f4b9[_0xe90088(0x21c)]=_0x5a60eb['tUwUr'],_0x35f4b9[_0xe90088(0x1f0)]=_0x5a60eb['UKfEE'];const _0x2e13eb={};_0x2e13eb[_0xe90088(0x21c)]=_0x5a60eb['NzddK'],_0x2e13eb[_0xe90088(0x1f0)]=_0x5a60eb[_0xe90088(0x26b)];const _0x201970={};_0x201970[_0xe90088(0x21c)]=_0x5a60eb[_0xe90088(0x272)],_0x201970[_0xe90088(0x1f0)]=_0x5a60eb['UKfEE'];const _0x58c32e={};_0x58c32e[_0xe90088(0x21c)]=_0x5a60eb[_0xe90088(0x206)],_0x58c32e['type']=_0x5a60eb[_0xe90088(0x26b)];const _0x197f86={};_0x197f86[_0xe90088(0x21c)]=_0x5a60eb[_0xe90088(0x2c5)],_0x197f86['type']=_0x5a60eb['UKfEE'];const _0x568c16={};_0x568c16[_0xe90088(0x21c)]=_0x5a60eb[_0xe90088(0x2a4)],_0x568c16['type']=_0x5a60eb[_0xe90088(0x26b)];const _0x42c0f4={};_0x42c0f4[_0xe90088(0x21c)]=_0x5a60eb[_0xe90088(0x213)],_0x42c0f4['type']=_0x5a60eb['dsduI'],_0x42c0f4[_0xe90088(0x167)]=![];const _0x199827={};_0x199827[_0xe90088(0x21c)]=_0x5a60eb[_0xe90088(0x254)],_0x199827[_0xe90088(0x1f0)]=_0x5a60eb[_0xe90088(0x2c7)],_0x199827[_0xe90088(0x167)]=![];const _0x648264={};_0x648264[_0xe90088(0x21c)]=_0x5a60eb[_0xe90088(0x293)],_0x648264[_0xe90088(0x1f0)]=_0x5a60eb[_0xe90088(0x2c7)],_0x648264[_0xe90088(0x167)]=![];const _0x27baa6={};return _0x27baa6['grid-name']=_0x35f4b9,_0x27baa6['grid-profile']=_0x2e13eb,_0x27baa6[_0xe90088(0x22e)]=_0x201970,_0x27baa6[_0xe90088(0x2c9)]=_0x58c32e,_0x27baa6[_0xe90088(0x12f)]=_0x197f86,_0x27baa6[_0xe90088(0x1ab)]=_0x568c16,_0x27baa6[_0xe90088(0x1c8)]=_0x42c0f4,_0x27baa6[_0xe90088(0x27f)]=_0x199827,_0x27baa6[_0xe90088(0x172)]=_0x648264,_0x4420e3[_0xe90088(0x1b4)](HELP_HEADER_MESSAGE['create'])['epilogue'](HELP_FOOTER_MESSAGE)[_0xe90088(0x171)](_0x27baa6)[_0xe90088(0x23c)](_0x5a60eb[_0xe90088(0x298)])[_0xe90088(0x14c)];},exports[a9_0x384c35(0x144)]=async function(_0x3447f5){const _0x118079=a9_0x384c35,_0x232841={'GuGqj':_0x118079(0x281),'Wryhe':function(_0xd848ea,_0x3988eb){return _0xd848ea===_0x3988eb;},'xSYnU':'premium-rwo','cIQBR':_0x118079(0x21b),'akTLA':_0x118079(0x294),'lJttT':_0x118079(0x250),'nDELt':'Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','MYzCB':'Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','pbVbV':_0x118079(0x275),'BDXzq':'Create\x20a\x20private/public\x20grid.','oKTLh':_0x118079(0x27a),'nGexh':_0x118079(0x165),'igXyk':_0x118079(0x181),'TWlPG':'Flag\x20to\x20enable\x20cluster\x20auto-upgrade','Tvwwg':_0x118079(0x23c),'YBvtM':_0x118079(0x148),'CCBJA':function(_0x251e9e,_0x55ad5e,_0x38d706,_0x5e5190,_0x3ddf93,_0x523652,_0x3565eb,_0x50465c,_0x59c119,_0x561d03,_0x3dafff,_0x13f767,_0x5e7919){return _0x251e9e(_0x55ad5e,_0x38d706,_0x5e5190,_0x3ddf93,_0x523652,_0x3565eb,_0x50465c,_0x59c119,_0x561d03,_0x3dafff,_0x13f767,_0x5e7919);},'IymlZ':function(_0x2af881,_0x3ea378){return _0x2af881(_0x3ea378);},'JiqfG':function(_0x572b5e,_0x3b9f2f){return _0x572b5e!==_0x3b9f2f;},'IvetC':_0x118079(0x2c0),'jBpwx':_0x118079(0x278),'yZFss':'CLI\x20run\x20started','nALzZ':function(_0xb7d302,_0x4cd9b6){return _0xb7d302(_0x4cd9b6);},'RFNbL':_0x118079(0x2ac),'SNThE':_0x118079(0x167),'lzQol':_0x118079(0x1a2),'nxwxR':_0x118079(0x23e),'ytnQN':_0x118079(0x1d1),'JavsZ':_0x118079(0x17a),'HeLCe':_0x118079(0x2e0),'mXkpg':'browserstack','cnNPS':_0x118079(0x259),'JDZhc':_0x118079(0x1a8),'BAQwI':_0x118079(0x180),'zFTSF':function(_0x23b3a4){return _0x23b3a4();},'ORHIG':function(_0x4e271e){return _0x4e271e();},'CLwuk':'cHaBg','ZqQdH':_0x118079(0x215),'VzbES':_0x118079(0x139),'pcFjB':function(_0x5626e3,_0x58bea7,_0x3dc8d7,_0x5f0761,_0x2c771b,_0x3cbdb0,_0x3eda9f){return _0x5626e3(_0x58bea7,_0x3dc8d7,_0x5f0761,_0x2c771b,_0x3cbdb0,_0x3eda9f);},'TkrfI':_0x118079(0x2db),'ZeSdE':_0x118079(0x18c),'psakk':function(_0x1cb337,_0x3d24f7,_0xf2f350,_0x5b5ff2,_0x421a3e,_0x5d0111,_0x39949a){return _0x1cb337(_0x3d24f7,_0xf2f350,_0x5b5ff2,_0x421a3e,_0x5d0111,_0x39949a);},'AMyfu':function(_0x13afda){return _0x13afda();},'nVIUw':_0x118079(0x2d2),'pLqTn':'<PasswordPlaceholder>','HynbL':'Adding\x20Websocket\x20listeners','UcuOi':_0x118079(0x2d4),'NpkeK':_0x118079(0x1ae),'FEyEq':function(_0x522e63,_0x23ccf5){return _0x522e63!==_0x23ccf5;},'FtVkH':_0x118079(0x228),'ADyFH':'ivKOt','dNRxa':_0x118079(0x284),'KRxUm':function(_0x1dd4b0,_0xb76e44,_0x2f25a7,_0x47f079,_0x32b17a,_0x2a7d0b,_0x53ea5a,_0xccc89f){return _0x1dd4b0(_0xb76e44,_0x2f25a7,_0x47f079,_0x32b17a,_0x2a7d0b,_0x53ea5a,_0xccc89f);},'CbAlJ':'prespawned-cluster-args-not-passed','pPpzp':_0x118079(0x14b),'BbfOI':_0x118079(0x2d6),'rwLyo':function(_0x1b550c,_0x5c0f30,_0x14f897,_0x4b25bc,_0x21fdcb,_0x310434,_0x4bc125,_0x34cd21){return _0x1b550c(_0x5c0f30,_0x14f897,_0x4b25bc,_0x21fdcb,_0x310434,_0x4bc125,_0x34cd21);},'ZukSj':'non-aws-azure-cluster','OUumi':function(_0x41053a,_0x5594ca){return _0x41053a!==_0x5594ca;},'Guoyt':_0x118079(0x1e3),'fPkle':_0x118079(0x25f),'zEbtS':function(_0x418c11,_0x51e946){return _0x418c11===_0x51e946;},'rqiTm':_0x118079(0x197),'heUFK':_0x118079(0x13b),'qlkbj':'RcNgs','DLywb':_0x118079(0x14a),'CwrIz':_0x118079(0x17f),'aiIqB':_0x118079(0x216),'GJsHd':function(_0x3d3594,_0x31211a,_0xf15166){return _0x3d3594(_0x31211a,_0xf15166);},'eSbZW':'NOXTZ','sBmCK':'sDomu','Ikefl':_0x118079(0x2a6),'UMpYC':_0x118079(0x1f8),'mIzHm':function(_0x4cdd9f,_0x21dae5){return _0x4cdd9f===_0x21dae5;},'SiJQZ':function(_0x5b1c3e,_0x702f7d){return _0x5b1c3e===_0x702f7d;},'SsXEr':_0x118079(0x22b),'KzorC':_0x118079(0x2a3),'mSIzm':'create-grid-checks-null-response','LMCYk':_0x118079(0x15b),'gkWJC':_0x118079(0x1cb),'Kgbna':_0x118079(0x29c),'cgIcQ':function(_0x5a82e3,_0x574f88){return _0x5a82e3===_0x574f88;},'XgOph':_0x118079(0x16e),'ueEyR':_0x118079(0x28b),'ELwEk':function(_0x36a76b,_0x3ae020,_0x187cd5,_0x458b19,_0x553fbe,_0x3f3d16,_0x17e79a,_0x4ae0c1){return _0x36a76b(_0x3ae020,_0x187cd5,_0x458b19,_0x553fbe,_0x3f3d16,_0x17e79a,_0x4ae0c1);},'RDxxm':_0x118079(0x2bc),'TOrUQ':'Grid\x20profile\x20fetched\x20from\x20backend','PQpYK':function(_0x18b5d1,_0x5b68e8){return _0x18b5d1!==_0x5b68e8;},'OUBae':_0x118079(0x18a),'OeBDM':_0x118079(0x1b0),'YXFze':'create-grid-checks-grid-already-exists','xDptq':_0x118079(0x243),'eDdiF':_0x118079(0x2a2),'rHUqN':'sSdqe','uwUpb':_0x118079(0x1fe),'wzQmL':function(_0x59edfa,_0x152fae){return _0x59edfa===_0x152fae;},'ixONU':function(_0x1f7279,_0x4333dc){return _0x1f7279===_0x4333dc;},'dUCeR':_0x118079(0x134),'jJveo':function(_0x14f2fe,_0x373195){return _0x14f2fe===_0x373195;},'DczVr':_0x118079(0x26e),'KoYYk':'Invalid\x20Grid\x20Profile.Exiting\x20the\x20CLI.','xuBmw':_0x118079(0x253),'SIXYj':function(_0x5b9372,_0x3b64fd){return _0x5b9372===_0x3b64fd;},'wxLmE':'weIqN','ArSfx':function(_0x5bfd7e,_0x14935f){return _0x5bfd7e===_0x14935f;},'YUCkx':function(_0xb3ea99,_0x4f68af){return _0xb3ea99===_0x4f68af;},'KVjWj':_0x118079(0x2ae),'PPGZs':function(_0x11f5c7,_0x461190){return _0x11f5c7===_0x461190;},'asiVS':_0x118079(0x2ba),'cGRUD':_0x118079(0x174),'qCKWH':function(_0x3aa274,_0x432cd0,_0x5ebca6,_0x26cfc5,_0x1caa65,_0x53bfc2,_0xe7a006,_0x832ffd,_0xf3aff1,_0x1d20a4,_0x40489d,_0x268296,_0x21f9b7){return _0x3aa274(_0x432cd0,_0x5ebca6,_0x26cfc5,_0x1caa65,_0x53bfc2,_0xe7a006,_0x832ffd,_0xf3aff1,_0x1d20a4,_0x40489d,_0x268296,_0x21f9b7);},'rxohH':_0x118079(0x224),'iBeJn':function(_0x2b7c80,_0x2334f7){return _0x2b7c80===_0x2334f7;},'cjZTx':_0x118079(0x16f),'mtPsd':_0x118079(0x234),'KOmco':function(_0x4f0f86,_0xf880a9){return _0x4f0f86!==_0xf880a9;},'AjFtd':_0x118079(0x1e8),'wzLTo':'kbaQZ','yBTtY':'GjIjV','cFOkv':function(_0x4e6214,_0x2d24f6){return _0x4e6214(_0x2d24f6);},'fEcqc':'JkdEM','StCpo':_0x118079(0x152),'foHDc':_0x118079(0x15a),'SapWB':function(_0x3fac97,_0x56a570){return _0x3fac97!==_0x56a570;},'AUudc':function(_0x2127ad,_0x55b295){return _0x2127ad!==_0x55b295;},'GLkNl':'zitbs','hnInr':function(_0x3bbb23,_0x95132d){return _0x3bbb23===_0x95132d;},'lVFtF':function(_0x5d23dc,_0x31ec34){return _0x5d23dc!==_0x31ec34;},'gmOuZ':'xPXcD','bMCkd':_0x118079(0x227),'UapXl':function(_0x564fd,_0x156099){return _0x564fd===_0x156099;},'nEbpR':_0x118079(0x13a),'VDGfT':'Cluster\x20not\x20found.\x20Proceeding\x20with\x20creating\x20required\x20resources.','QKOUk':function(_0x5bc677,_0x1e13f0){return _0x5bc677!=_0x1e13f0;},'qQvGw':function(_0x2e31ac,_0x317fb1){return _0x2e31ac!==_0x317fb1;},'nTtjN':function(_0x1b20e3,_0x800777){return _0x1b20e3>_0x800777;},'brfsw':_0x118079(0x190),'muMIl':function(_0x236013,_0x1e659d,_0x12a9a3,_0x359389,_0x95f875,_0x528d67,_0x3573fa,_0x53f080){return _0x236013(_0x1e659d,_0x12a9a3,_0x359389,_0x95f875,_0x528d67,_0x3573fa,_0x53f080);},'retIg':_0x118079(0x1c7),'PzXCH':function(_0x582980,_0x59a13d){return _0x582980===_0x59a13d;},'Idmgy':_0x118079(0x1a1),'PCYke':function(_0x4e5998,_0xfb196e,_0x3afebb,_0xc6a35a,_0x2559b5,_0x46af92,_0x47b501,_0x2e5f0c){return _0x4e5998(_0xfb196e,_0x3afebb,_0xc6a35a,_0x2559b5,_0x46af92,_0x47b501,_0x2e5f0c);},'yhuAy':_0x118079(0x23b),'ybagL':_0x118079(0x287),'HNZgf':'1|0|4|3|2','WEuJj':_0x118079(0x13d),'zxZJC':_0x118079(0x25e),'RRKYA':function(_0x4610a1,_0x4f828a){return _0x4610a1===_0x4f828a;},'LFhpD':function(_0xe64574,_0x1e86eb,_0x512007){return _0xe64574(_0x1e86eb,_0x512007);},'cKiPW':function(_0x297f00,_0x72e6e5){return _0x297f00===_0x72e6e5;},'YpZWD':'Creating\x20Hub\x20HA\x20resources','YXwYH':function(_0x3c145a,_0x15367e,_0x51b2c4){return _0x3c145a(_0x15367e,_0x51b2c4);},'JACbl':_0x118079(0x2d0),'yVNvX':_0x118079(0x18e),'pTdvJ':_0x118079(0x1d8),'iSDDo':_0x118079(0x238),'FhePz':_0x118079(0x196),'lyRQW':'utf-8','Nzrsx':function(_0x3231ab,_0x5deb88){return _0x3231ab(_0x5deb88);},'sYDUr':function(_0x4ac134,_0x3c5b24){return _0x4ac134(_0x3c5b24);},'hxfNg':function(_0xef9b1b,_0x184a12,_0x5d81f9){return _0xef9b1b(_0x184a12,_0x5d81f9);},'wjsFL':_0x118079(0x22a),'ujTrV':'efs-csi','AtHqe':function(_0x3f99d2,_0x404531){return _0x3f99d2===_0x404531;},'ybzQc':function(_0x56b1a0,_0x1c6402){return _0x56b1a0===_0x1c6402;},'dPkPj':_0x118079(0x161),'qheXx':_0x118079(0x222),'GMUYN':function(_0xb9a2c4,_0x330604,_0x178f01){return _0xb9a2c4(_0x330604,_0x178f01);},'LvsqE':_0x118079(0x290),'ypmmY':_0x118079(0x20b),'okLhv':_0x118079(0x169),'WqhAy':function(_0x3db00e,_0x17847f,_0xeb9fa){return _0x3db00e(_0x17847f,_0xeb9fa);},'ZBfxI':_0x118079(0x258),'QCooj':_0x118079(0x1a9),'FedOz':_0x118079(0x24d),'mdqvP':function(_0x5bf3ad,_0x16346e){return _0x5bf3ad===_0x16346e;},'bEmya':_0x118079(0x202),'vGrvt':'Created\x20Hub\x20HA\x20resources','YGvxp':_0x118079(0x1c1),'jEDWv':'4|0|2|3|1','VhJUG':_0x118079(0x166),'jqsdj':_0x118079(0x1ed),'cpmVZ':function(_0x281aee,_0x144d9e){return _0x281aee!==_0x144d9e;},'sUtBs':_0x118079(0x286),'nNZMM':_0x118079(0x1d4),'PNJXY':_0x118079(0x15c),'Yqwgd':'Spawning\x20grid\x20on\x20to\x20the\x20cluster','vYjjF':_0x118079(0x235),'Skcak':function(_0x1d9528,_0x4d519b){return _0x1d9528===_0x4d519b;},'zRlcV':function(_0x13f7b1,_0x58b415,_0x3732e1,_0x21bd9b,_0x10c139,_0x122708,_0x279558,_0x56839b,_0x1f7ca2,_0x2fa10f,_0x3bfc15){return _0x13f7b1(_0x58b415,_0x3732e1,_0x21bd9b,_0x10c139,_0x122708,_0x279558,_0x56839b,_0x1f7ca2,_0x2fa10f,_0x3bfc15);},'zOIOV':'Grid\x20spawned\x20on\x20the\x20cluster','TrQlR':_0x118079(0x2d8),'UCIzy':function(_0x2b7d3b,_0x1a2e4e,_0x3b3833,_0x46a2b6,_0x15f286){return _0x2b7d3b(_0x1a2e4e,_0x3b3833,_0x46a2b6,_0x15f286);},'ucgVr':_0x118079(0x185),'dSVuM':_0x118079(0x1af),'ryFvB':_0x118079(0x212),'enSWG':function(_0x26eb2f,_0x157e81,_0x390d50){return _0x26eb2f(_0x157e81,_0x390d50);},'BDKhw':function(_0x4f60d9,_0x59a128){return _0x4f60d9===_0x59a128;},'rZNgc':function(_0x522811,_0x54d5e6){return _0x522811===_0x54d5e6;},'oNMkp':_0x118079(0x25c),'bqoer':_0x118079(0x2d9),'KvIsR':_0x118079(0x170),'pQlWK':function(_0x574186,_0x4241a5,_0x27e9d8,_0x1133f3,_0x90c7e,_0x11d8cf,_0x32672a,_0x2b4cc1){return _0x574186(_0x4241a5,_0x27e9d8,_0x1133f3,_0x90c7e,_0x11d8cf,_0x32672a,_0x2b4cc1);},'wOcwX':_0x118079(0x1d3),'PAlBu':'get-grid-url-non-200','HpFrf':function(_0x1f4422,_0xb976b9){return _0x1f4422===_0xb976b9;},'lMFei':_0x118079(0x191),'AEuPX':function(_0x5733c0,_0x45f427,_0x5e4e46,_0x23245c,_0x4a44a2,_0x1c74ff){return _0x5733c0(_0x45f427,_0x5e4e46,_0x23245c,_0x4a44a2,_0x1c74ff);},'jozEr':function(_0x25e883,_0x4136d8,_0x3e3a8c,_0x5546fc,_0x2d2726,_0x2d551e,_0x2f1e60){return _0x25e883(_0x4136d8,_0x3e3a8c,_0x5546fc,_0x2d2726,_0x2d551e,_0x2f1e60);},'fDjkl':_0x118079(0x2cd)};let _0x2f16d5=![],_0x8f6a08=![],_0x28de3d,_0xdd6719,_0x1069bb,_0xa6fb2a,_0x80bbe,_0x429e89,_0x3f6b7d,_0x1e8783,_0x3a8825,_0x4f600d,_0x38e9b5,_0x2bfb9a,_0x3efe3b,_0x14cc25,_0x3f79cb=0x1,_0x330a56=0xe;try{global_registry[_0x118079(0x189)]=_0x232841[_0x118079(0x21a)](uuidv4),global_registry['isPrivateGrid']=![];if(!fs[_0x118079(0x15f)](_0x232841[_0x118079(0x279)](getCredentialsPath))){if(_0x232841[_0x118079(0x1a4)](_0x232841[_0x118079(0x223)],_0x232841[_0x118079(0x183)])){const _0x439c80={};_0x439c80['type']=_0x4e4b48[_0x118079(0x288)],_0x439c80[_0x118079(0x1b1)]=_0x118079(0x131)+_0x33badf+_0x118079(0x1e1),_0x8342b7['sendEventToBackend'](_0x8868,_0x439c80,_0x232841[_0x118079(0x14f)]),_0x13bfbe['info'](_0x118079(0x131)+_0x17e663+_0x118079(0x1e1)),_0x424f83=!![];if(_0x232841['Wryhe'](_0xcb4bc0,!![]))throw new _0xbcacd6('Cluster\x20'+_0x539d88+'\x20is\x20already\x20present.\x20Cannot\x20spawn\x20a\x20new\x20cluster');}else console[_0x118079(0x23e)](_0x232841[_0x118079(0x205)]),await _0x232841[_0x118079(0x264)](sendInstrumentationEvent,_0x3447f5,_0x232841['TkrfI'],messageTypes[_0x118079(0x2a9)],_0x232841[_0x118079(0x1ec)],null,_0x3447f5),process[_0x118079(0x1c9)](0x1);}await _0x232841[_0x118079(0x28d)](sendInstrumentationEvent,_0x3447f5,_0x232841[_0x118079(0x1a7)],messageTypes[_0x118079(0x24c)],null,null,_0x3447f5);const _0x5afeb9=JSON['parse'](fs[_0x118079(0x194)](_0x232841[_0x118079(0x146)](getCredentialsPath)));global_registry[_0x118079(0x2c1)]=_0x5afeb9[_0x118079(0x286)][_0x118079(0x157)],global_registry[_0x118079(0x232)]=_0x5afeb9[_0x118079(0x286)][_0x118079(0x1e9)];const _0x5757c5=WS_ENDPOINT[_0x118079(0x263)](_0x232841[_0x118079(0x1bb)],_0x5afeb9[_0x118079(0x286)][_0x118079(0x157)])[_0x118079(0x263)](_0x232841['pLqTn'],_0x5afeb9[_0x118079(0x286)][_0x118079(0x1e9)]),_0x23062a={};_0x23062a[_0x118079(0x273)]=ws,_0x23062a[_0x118079(0x2b7)]=0x36ee80,_0x2bfb9a=new ReconnectingWebSocket(_0x5757c5,[],_0x23062a),logger['debug'](_0x232841['HynbL']),webSocketUtils[_0x118079(0x1ac)](_0x2bfb9a,_0x3447f5[_0x118079(0x14e)],_0x3447f5['password']);const _0x484c15=_0x3447f5[_0x118079(0x1e4)]||DEFAULT_GRID_NAME;if(_0x3447f5[_0x118079(0x19b)]||_0x3447f5[_0x118079(0x295)]||_0x3447f5[_0x118079(0x12f)]){if(_0x232841[_0x118079(0x1a4)](_0x232841[_0x118079(0x27b)],_0x232841['NpkeK']))_0x3cedd0['isPrivateGrid']=!![];else{!(_0x3447f5[_0x118079(0x19b)]&&_0x3447f5[_0x118079(0x295)]&&_0x3447f5[_0x118079(0x12f)])&&(_0x232841[_0x118079(0x2be)](_0x232841[_0x118079(0x130)],_0x232841[_0x118079(0x164)])?(_0x28de3d=_0x232841[_0x118079(0x1ba)],await _0x232841['KRxUm'](reportToGalactusAndSendToEDS,_0x3447f5,_0x2bfb9a,_0x28de3d,messageTypes[_0x118079(0x2a9)],_0x232841[_0x118079(0x1a7)],_0x232841[_0x118079(0x182)],_0x232841[_0x118079(0x2d5)]),logger[_0x118079(0x23e)](_0x28de3d),process[_0x118079(0x1c9)](0x1)):_0x1cda84[_0x118079(0x142)]());![AWS,AZURE,GCP][_0x118079(0x1bf)](_0x3447f5[_0x118079(0x295)][_0x118079(0x2c2)]())&&(_0x232841['Wryhe'](_0x232841['pPpzp'],_0x232841[_0x118079(0x271)])?(_0x28de3d=_0x232841[_0x118079(0x156)],await _0x232841[_0x118079(0x274)](reportToGalactusAndSendToEDS,_0x3447f5,_0x2bfb9a,_0x28de3d,messageTypes[_0x118079(0x2a9)],_0x232841['TkrfI'],_0x232841[_0x118079(0x262)],_0x232841['nxwxR']),logger[_0x118079(0x23e)](_0x28de3d),process[_0x118079(0x1c9)](0x1)):_0x53937c=_0x47173b[_0x1e3c9d[_0x118079(0x1ad)]]);_0x3447f5[_0x118079(0x2c8)]&&_0x232841[_0x118079(0x1a4)](_0x3447f5['privateGrid'][_0x118079(0x2c2)](),_0x232841[_0x118079(0x1d6)])&&(_0x232841['OUumi'](_0x232841[_0x118079(0x199)],_0x232841[_0x118079(0x23d)])?global_registry[_0x118079(0x255)]=!![]:_0x16db0e=_0x232841[_0x118079(0x21d)]);global_registry[_0x118079(0x295)]=_0x3447f5['cloudProvider'],global_registry[_0x118079(0x1f5)]=_0x3447f5[_0x118079(0x12f)],global_registry[_0x118079(0x19b)]=_0x3447f5['clusterName'];const _0x1a3ebb=await _0x232841[_0x118079(0x264)](getCloudProviderObject,_0x3447f5[_0x118079(0x295)],_0x3447f5[_0x118079(0x19b)],_0x484c15,_0x2bfb9a,webSocketUtils,_0x3447f5),_0x171a65=await _0x1a3ebb['isClusterPresent']();if(!_0x171a65){if(_0x232841[_0x118079(0x26a)](_0x232841[_0x118079(0x19a)],_0x232841[_0x118079(0x19a)]))logger['info']('Cluster:\x20'+_0x3447f5['clusterName']+'\x20doesn\x27t\x20exist.\x20Proceeding\x20with\x20creating\x20a\x20new\x20cluster'),_0x2f16d5=![],_0x8f6a08=!![];else{const _0x344610={};_0x344610[_0x118079(0x21c)]=_0x232841[_0x118079(0x20d)],_0x344610['type']=_0x232841[_0x118079(0x1b8)];const _0x29d82b={};_0x29d82b['description']=_0x232841[_0x118079(0x270)],_0x29d82b[_0x118079(0x1f0)]=_0x232841[_0x118079(0x1b8)];const _0x16ca26={};_0x16ca26[_0x118079(0x21c)]=_0x232841[_0x118079(0x20c)],_0x16ca26[_0x118079(0x1f0)]=_0x232841[_0x118079(0x1b8)];const _0x2fb0e3={};_0x2fb0e3['description']=_0x232841[_0x118079(0x1ee)],_0x2fb0e3[_0x118079(0x1f0)]=_0x232841[_0x118079(0x1b8)];const _0x4618fe={};_0x4618fe[_0x118079(0x21c)]=_0x232841[_0x118079(0x1d2)],_0x4618fe[_0x118079(0x1f0)]=_0x232841[_0x118079(0x1b8)];const _0x907bc7={};_0x907bc7[_0x118079(0x21c)]=_0x232841['BDXzq'],_0x907bc7[_0x118079(0x1f0)]=_0x232841[_0x118079(0x1b8)];const _0x226a01={};_0x226a01[_0x118079(0x21c)]=_0x232841[_0x118079(0x26c)],_0x226a01[_0x118079(0x1f0)]=_0x232841[_0x118079(0x12e)],_0x226a01[_0x118079(0x167)]=![];const _0x18f261={};_0x18f261[_0x118079(0x21c)]=_0x232841[_0x118079(0x1f6)],_0x18f261['type']=_0x232841[_0x118079(0x12e)],_0x18f261[_0x118079(0x167)]=![];const _0x2adf1e={};_0x2adf1e[_0x118079(0x21c)]=_0x232841[_0x118079(0x25d)],_0x2adf1e['type']=_0x232841[_0x118079(0x12e)],_0x2adf1e['default']=![];const _0x1182fc={};return _0x1182fc['grid-name']=_0x344610,_0x1182fc[_0x118079(0x201)]=_0x29d82b,_0x1182fc['cluster-name']=_0x16ca26,_0x1182fc[_0x118079(0x2c9)]=_0x2fb0e3,_0x1182fc['region']=_0x4618fe,_0x1182fc[_0x118079(0x1ab)]=_0x907bc7,_0x1182fc[_0x118079(0x1c8)]=_0x226a01,_0x1182fc[_0x118079(0x27f)]=_0x18f261,_0x1182fc[_0x118079(0x172)]=_0x2adf1e,_0xade14[_0x118079(0x1b4)](_0x1bee2b[_0x118079(0x1cc)])[_0x118079(0x208)](_0x1025de)[_0x118079(0x171)](_0x1182fc)['help'](_0x232841[_0x118079(0x26f)])[_0x118079(0x14c)];}}else{if(_0x232841['FEyEq'](_0x232841[_0x118079(0x2b6)],_0x232841['qlkbj']))_0x2f16d5=!![];else{const _0x5814c8=_0x232841[_0x118079(0x28a)][_0x118079(0x237)]('|');let _0xdb51e7=0x0;while(!![]){switch(_0x5814c8[_0xdb51e7++]){case'0':_0x2ccc50=_0x4d4693[_0x118079(0x162)];continue;case'1':_0x577670=_0x1a01fe['minNodes'];continue;case'2':_0x232841['CCBJA'](_0x4683cd,_0x3770b5,_0x1c77e7,_0x5285cf,_0x94810f,_0x2282ef,_0x1cb9fc,_0x15dd0c,_0x57b75a,_0x8ddd80,_0x4b660b,_0x1ec1d3,_0xfa4ee8[_0x118079(0x141)]);continue;case'3':_0x4ecf1b=_0x15c816[_0x118079(0x2cc)];continue;case'4':const _0x5e5955={};_0x5e5955[_0x118079(0x1f0)]=_0x242fb9[_0x118079(0x288)],_0x5e5955[_0x118079(0x1b1)]=_0x110473,_0x569573['sendEventToBackend'](_0x4df704,_0x5e5955);continue;case'5':_0x3afae7=_0x17aefd['s3bucket'];continue;case'6':_0x1ead22=_0x3f31c0[_0x118079(0x21f)];continue;case'7':_0x1b1e0d=null;continue;case'8':_0x46a777=_0x118079(0x1c5)+_0x47e5da;continue;case'9':_0x3e7fc2[_0x118079(0x1b9)]&&_0x232841[_0x118079(0x136)](_0x4325ba,_0x4dc10b[_0x118079(0x1f7)]);continue;case'10':_0x232841[_0x118079(0x22c)](_0x4f27be[_0x118079(0x2c8)],_0x1ce758)&&_0xfb345e[_0x118079(0x2c8)]&&(_0x36090a[_0x118079(0x255)]=!![]);continue;case'11':_0xd32439=_0x9651ab['concurrency'];continue;case'12':_0x419662=_0x274eb0[_0x118079(0x260)];continue;case'13':_0x2eff06=null;continue;case'14':_0x21641b=null;continue;case'15':_0x466f54['info'](_0xf3337f);continue;}break;}}}_0x1069bb=_0x3447f5['clusterName'],_0xdd6719=_0x3447f5[_0x118079(0x295)][_0x118079(0x2c2)](),_0xa6fb2a=_0x3447f5['region'];}}else _0x3447f5['gridProfile']&&(_0x232841[_0x118079(0x1a4)](_0x232841[_0x118079(0x299)],_0x232841[_0x118079(0x230)])?_0x2c9888[_0x118079(0x255)]=!![]:global_registry['gridProfile']=_0x3447f5[_0x118079(0x1ad)]);global_registry[_0x118079(0x1e4)]=_0x3447f5[_0x118079(0x1e4)];const _0x150591={'method':_0x232841[_0x118079(0x2d3)],'headers':_0x232841[_0x118079(0x2d1)](getAuthHeader,_0x5afeb9[_0x118079(0x286)]['username'],_0x5afeb9[_0x118079(0x286)]['password']),'throwHttpErrors':![]},_0x5c521f={};_0x5c521f[_0x118079(0x1e4)]=_0x484c15;const _0x7c3d72=_0x5c521f;_0x8f6a08&&(_0x232841[_0x118079(0x2be)](_0x232841['eSbZW'],_0x232841[_0x118079(0x249)])?(_0x7c3d72[_0x118079(0x12f)]=_0xa6fb2a,_0x7c3d72[_0x118079(0x295)]=_0xdd6719,_0x7c3d72['newCluster']=!![],_0x7c3d72[_0x118079(0x173)]=_0x3447f5[_0x118079(0x141)]):_0x14fcb8=null);_0x3447f5[_0x118079(0x141)]&&(_0x232841['JiqfG'](_0x232841[_0x118079(0x1bd)],_0x232841[_0x118079(0x1a3)])?logger[_0x118079(0x151)](_0x232841[_0x118079(0x1cf)]):(_0xc3cddb['info'](_0x118079(0x28e)+_0x315fe5[_0x118079(0x19b)]+_0x118079(0x1e5)),_0x4c2b03=![],_0x598d3e=!![]));const _0x3567b0=_0x118079(0x244)+AG_API_URL+_0x118079(0x1c4),_0x8b3936={'searchParams':_0x7c3d72,'throwHttpErrors':![],..._0x150591},_0xdf0d3c=_0x8b3936,_0x52b11a=await _0x232841[_0x118079(0x2d1)](got,_0x3567b0,_0xdf0d3c);(_0x232841[_0x118079(0x26a)](_0x52b11a,null)||_0x232841[_0x118079(0x17c)](_0x52b11a,undefined))&&(_0x232841[_0x118079(0x1df)](_0x232841[_0x118079(0x188)],_0x232841[_0x118079(0x188)])?(_0x28de3d=_0x232841[_0x118079(0x1dc)],await _0x232841['KRxUm'](reportToGalactusAndSendToEDS,_0x3447f5,_0x2bfb9a,_0x28de3d,messageTypes[_0x118079(0x2a9)],_0x232841[_0x118079(0x1a7)],_0x232841[_0x118079(0x19c)],_0x232841['nxwxR']),logger['error'](_0x28de3d),process[_0x118079(0x1c9)](0x1)):_0x4d63e2[_0x118079(0x151)](_0x232841['IvetC']));_0x232841['zEbtS'](_0x52b11a[_0x118079(0x29d)],0x191)&&(_0x232841[_0x118079(0x1df)](_0x232841[_0x118079(0x18f)],_0x232841[_0x118079(0x18f)])?(_0x28de3d=_0x232841[_0x118079(0x1a0)],await _0x232841[_0x118079(0x274)](reportToGalactusAndSendToEDS,_0x3447f5,_0x2bfb9a,_0x28de3d,messageTypes[_0x118079(0x2a9)],_0x232841[_0x118079(0x1a7)],_0x232841['Kgbna'],_0x232841[_0x118079(0x2d5)]),logger[_0x118079(0x23e)](_0x28de3d),process[_0x118079(0x1c9)](0x1)):_0x5b8fa1[_0x118079(0x23e)](_0x118079(0x163)+_0x530e1f+'\x20\x0a'+_0x3339ab[_0x118079(0x20a)](_0x26fb1c[_0x118079(0x158)])));_0x232841[_0x118079(0x2be)](_0x52b11a['statusCode'],0xc8)&&(_0x232841[_0x118079(0x256)](_0x232841['XgOph'],_0x232841[_0x118079(0x2b9)])?_0x3ff671=!![]:(_0x28de3d=_0x118079(0x133)+JSON['stringify'](_0x52b11a[_0x118079(0x280)]),await _0x232841['ELwEk'](reportToGalactusAndSendToEDS,_0x3447f5,_0x2bfb9a,_0x28de3d,messageTypes[_0x118079(0x2a9)],_0x232841[_0x118079(0x1a7)],_0x232841[_0x118079(0x153)],_0x232841[_0x118079(0x2d5)]),logger[_0x118079(0x23e)](_0x28de3d),process['exit'](0x1)));const _0x172254=JSON['parse'](_0x52b11a[_0x118079(0x280)]),_0x4f0bc7={};_0x4f0bc7['type']=WS_EVENTS[_0x118079(0x29a)],_0x4f0bc7[_0x118079(0x1b1)]=_0x232841[_0x118079(0x177)],webSocketUtils[_0x118079(0x140)](_0x2bfb9a,_0x4f0bc7);const _0x42205e={};_0x42205e['type']=WS_EVENTS[_0x118079(0x288)],_0x42205e[_0x118079(0x1b1)]=_0x232841[_0x118079(0x2c6)],webSocketUtils[_0x118079(0x140)](_0x2bfb9a,_0x42205e);if(_0x172254['alreadyPresent']){if(_0x232841[_0x118079(0x2d7)](_0x232841['OUBae'],_0x232841[_0x118079(0x2e2)]))_0x28de3d=_0x118079(0x1aa)+_0x484c15+_0x118079(0x16b),await _0x232841[_0x118079(0x15e)](reportToGalactusAndSendToEDS,_0x3447f5,_0x2bfb9a,_0x28de3d,messageTypes[_0x118079(0x2a9)],_0x232841[_0x118079(0x1a7)],_0x232841[_0x118079(0x1be)],_0x232841[_0x118079(0x2d5)]),logger['error'](_0x28de3d),process[_0x118079(0x1c9)](0x1);else{const _0x24d16f=_0x232841['jBpwx'][_0x118079(0x237)]('|');let _0x55120f=0x0;while(!![]){switch(_0x24d16f[_0x55120f++]){case'0':_0x42df02[_0x118079(0x1f5)]=_0x34ddca;continue;case'1':const _0x57d92a={};_0x57d92a[_0x118079(0x1f0)]=_0x36dad1[_0x118079(0x288)],_0x57d92a[_0x118079(0x1b1)]=_0x3676dd,_0xe3c587[_0x118079(0x140)](_0xbe9300,_0x57d92a);continue;case'2':_0x111015['hubVersion']=_0x2dc5d7[_0x118079(0x260)];continue;case'3':_0x28d812=_0x118079(0x1c6)+_0x1c30ae+'\x20in\x20existing\x20cluster\x20\x27'+_0x4763fc+'\x27';continue;case'4':_0x3bb606[_0x118079(0x151)](_0x3a9a90);continue;case'5':_0x3dec4e[_0x118079(0x295)]=_0x5702c6;continue;case'6':_0x17a596[_0x118079(0x19b)]=_0x1dc44f;continue;case'7':const _0x30d910={};_0x30d910[_0x118079(0x1f0)]=_0x28f28d[_0x118079(0x29a)],_0x30d910['message']=_0x232841[_0x118079(0x177)],_0x58ab2a['sendEventToBackend'](_0x5e06da,_0x30d910);continue;case'8':_0x32d092[_0x118079(0x21f)]=_0x22c058[_0x118079(0x21f)];continue;}break;}}}const _0x24826a=_0x172254['gridProfiles'];let _0x4b61db=_0x24826a[_0x172254[_0x118079(0x1b2)]];_0x3447f5['gridProfile']&&(_0x232841[_0x118079(0x26a)](_0x232841['xDptq'],_0x232841[_0x118079(0x154)])?_0x232841[_0x118079(0x240)](_0x55fcc1,_0x26faef[_0x118079(0x1f7)]):_0x4b61db=_0x24826a[_0x3447f5[_0x118079(0x1ad)]]);global_registry['enableHubHa']=![];if(_0x3447f5[_0x118079(0x1e6)]){if(_0x232841[_0x118079(0x2d7)](_0x232841[_0x118079(0x229)],_0x232841[_0x118079(0x229)]))_0xed89c1[_0x118079(0x255)]=!![];else{const _0x310f4c=_0x232841[_0x118079(0x184)][_0x118079(0x237)]('|');let _0x5d827d=0x0;while(!![]){switch(_0x310f4c[_0x5d827d++]){case'0':global_registry[_0x118079(0x1b9)]=!![];continue;case'1':global_registry['hubHaNameSpace']=_0x232841[_0x118079(0x247)];continue;case'2':global_registry[_0x118079(0x2dd)]=_0x232841['cnNPS'];continue;case'3':logger['info'](_0x232841[_0x118079(0x200)]);continue;case'4':global_registry[_0x118079(0x135)]=_0x232841[_0x118079(0x2b1)];continue;}break;}}}if(_0x232841[_0x118079(0x256)](_0x2f16d5,![])&&_0x232841[_0x118079(0x203)](_0x8f6a08,![])){if(_0x232841[_0x118079(0x14d)](_0x232841[_0x118079(0x29f)],_0x232841['dUCeR'])){if(_0x232841['wzQmL'](_0x4b61db,undefined)){if(_0x232841[_0x118079(0x1d9)](_0x232841[_0x118079(0x132)],_0x232841['DczVr']))_0x28de3d=_0x232841[_0x118079(0x2a8)],await _0x232841[_0x118079(0x15e)](reportToGalactusAndSendToEDS,_0x3447f5,_0x2bfb9a,_0x28de3d,messageTypes[_0x118079(0x2a9)],_0x232841['TkrfI'],_0x232841[_0x118079(0x242)],_0x232841[_0x118079(0x2d5)]),logger['error'](_0x28de3d),process['exit'](0x1);else{const _0x5be861={'azure.workload.identity/use':_0x232841[_0x118079(0x1d6)],..._0x26955d[0x0]['spec']['template'][_0x118079(0x27e)][_0x118079(0x195)]};_0x3b8e32[0x0][_0x118079(0x231)]['template'][_0x118079(0x27e)][_0x118079(0x195)]=_0x5be861,_0xb639b9[0x0]['spec']['template'][_0x118079(0x231)]['serviceAccountName']=_0x232841[_0x118079(0x2cb)];}}global_registry[_0x118079(0x18b)]=_0x4b61db['id'],_0x28de3d=_0x118079(0x145)+_0x484c15+_0x118079(0x138)+_0x4b61db[_0x118079(0x2af)]+_0x118079(0x1d0),logger['info'](_0x28de3d);const _0x3d32a8={};_0x3d32a8[_0x118079(0x1f0)]=WS_EVENTS[_0x118079(0x288)],_0x3d32a8[_0x118079(0x1b1)]=_0x28de3d,webSocketUtils[_0x118079(0x140)](_0x2bfb9a,_0x3d32a8),_0xdd6719=_0x4b61db[_0x118079(0x295)],_0x1069bb=_0x4b61db[_0x118079(0x19b)],_0xa6fb2a=_0x4b61db['region'],_0x80bbe=_0x4b61db[_0x118079(0x13f)],_0x429e89=_0x4b61db['instanceType'],_0x3f6b7d=_0x4b61db['vpc'],_0x1e8783=_0x4b61db['securityGroups'],_0x3a8825=_0x4b61db[_0x118079(0x209)],_0x4f600d=_0x4b61db['s3bucket'],_0x3f79cb=_0x4b61db['minNodes'],_0x330a56=_0x4b61db[_0x118079(0x2cc)],_0x3efe3b=_0x172254['hubVersion'],_0x14cc25=_0x172254[_0x118079(0x21f)];_0x3f6b7d&&_0x232841[_0x118079(0x28f)](_0x3f6b7d['length'],0x0)&&(_0x232841[_0x118079(0x2be)](_0x232841['wxLmE'],_0x232841['wxLmE'])?_0x516b68=_0x232841[_0x118079(0x13c)]:_0x3f6b7d=null);_0x3a8825&&_0x232841[_0x118079(0x283)](_0x3a8825['length'],0x0)&&(_0x232841[_0x118079(0x192)](_0x232841['KVjWj'],_0x232841[_0x118079(0x25a)])?_0x3a8825=null:_0x15fabb['info'](_0x118079(0x2b3)+_0x4ed90c+'\x20'));_0x232841[_0x118079(0x2d7)](_0x4b61db[_0x118079(0x2c8)],undefined)&&_0x4b61db['privateGrid']&&(_0x232841[_0x118079(0x2b5)](_0x232841[_0x118079(0x186)],_0x232841[_0x118079(0x1ce)])?_0x5e1113['gridProfile']=_0x3d63ba[_0x118079(0x1ad)]:global_registry['isPrivateGrid']=!![]);_0x232841[_0x118079(0x2e1)](updateGlobalRegistryWithConfig,_0xdd6719,_0x1069bb,_0xa6fb2a,_0x80bbe,_0x429e89,_0x4f600d,_0x4b61db,_0x3efe3b,_0x14cc25,_0x3f79cb,_0x330a56,_0x3447f5[_0x118079(0x141)]);if(global_registry[_0x118079(0x1b9)]){if(_0x232841[_0x118079(0x2d7)](_0x232841[_0x118079(0x1bc)],_0x232841[_0x118079(0x1bc)])){const _0x4402d4={};_0x4402d4[_0x118079(0x1f0)]=_0x32f7d0[_0x118079(0x288)],_0x4402d4[_0x118079(0x1b1)]=_0x38d8b5,_0x21368b[_0x118079(0x140)](_0x315539,_0x4402d4,_0x232841[_0x118079(0x2d5)],!![]);}else _0x232841['IymlZ'](updateGlobalRegistryForHubHa,_0x172254[_0x118079(0x1b3)]);}}else _0x232841[_0x118079(0x136)](_0x3a5a5b,_0x28b08a[_0x118079(0x1b3)]);}else{if(_0x232841[_0x118079(0x225)](_0x8f6a08,!![])){if(_0x232841[_0x118079(0x22c)](_0x232841['cjZTx'],_0x232841['mtPsd'])){_0x28de3d=_0x118079(0x1c5)+_0x484c15,logger[_0x118079(0x151)](_0x28de3d);const _0x35ec7c={};_0x35ec7c[_0x118079(0x1f0)]=WS_EVENTS[_0x118079(0x288)],_0x35ec7c[_0x118079(0x1b1)]=_0x28de3d,webSocketUtils[_0x118079(0x140)](_0x2bfb9a,_0x35ec7c),_0x80bbe=_0x4b61db[_0x118079(0x13f)],_0x429e89=_0x4b61db[_0x118079(0x162)],_0x3f6b7d=null,_0x1e8783=null,_0x3a8825=null,_0x4f600d=_0x4b61db[_0x118079(0x1f3)],_0x3f79cb=_0x4b61db[_0x118079(0x2bf)],_0x330a56=_0x4b61db[_0x118079(0x2cc)],_0x3efe3b=_0x172254[_0x118079(0x260)],_0x14cc25=_0x172254[_0x118079(0x21f)],_0x232841['KOmco'](_0x4b61db['privateGrid'],undefined)&&_0x4b61db[_0x118079(0x2c8)]&&(_0x232841[_0x118079(0x22c)](_0x232841[_0x118079(0x2df)],_0x232841[_0x118079(0x2df)])?_0x3e2861=null:global_registry['isPrivateGrid']=!![]),_0x232841[_0x118079(0x2e1)](updateGlobalRegistryWithConfig,_0xdd6719,_0x1069bb,_0xa6fb2a,_0x80bbe,_0x429e89,_0x4f600d,_0x4b61db,_0x3efe3b,_0x14cc25,_0x3f79cb,_0x330a56,_0x3447f5[_0x118079(0x141)]),global_registry[_0x118079(0x1b9)]&&(_0x232841[_0x118079(0x26a)](_0x232841['wzLTo'],_0x232841[_0x118079(0x1de)])?(_0x634d5c['region']=_0x3a546b,_0x222b11[_0x118079(0x295)]=_0x1366a6,_0x4747bb[_0x118079(0x2bd)]=!![],_0x3dea8b['clusterAutoUpgrade']=_0x1e946b[_0x118079(0x141)]):_0x232841['cFOkv'](updateGlobalRegistryForHubHa,_0x172254[_0x118079(0x1f7)]));}else throw new _0x5bcef4('Cluster\x20'+_0x44a73d+_0x118079(0x176));}else{if(_0x232841[_0x118079(0x1db)](_0x232841[_0x118079(0x2c3)],_0x232841[_0x118079(0x29b)])){const _0xd9fb64=_0x232841['foHDc'][_0x118079(0x237)]('|');let _0x15f722=0x0;while(!![]){switch(_0xd9fb64[_0x15f722++]){case'0':global_registry['clusterRegion']=_0xa6fb2a;continue;case'1':logger[_0x118079(0x151)](_0x28de3d);continue;case'2':global_registry['clusterName']=_0x1069bb;continue;case'3':global_registry[_0x118079(0x21f)]=_0x172254[_0x118079(0x21f)];continue;case'4':const _0x57a880={};_0x57a880['type']=WS_EVENTS[_0x118079(0x29a)],_0x57a880[_0x118079(0x1b1)]=_0x232841['yZFss'],webSocketUtils[_0x118079(0x140)](_0x2bfb9a,_0x57a880);continue;case'5':_0x28de3d=_0x118079(0x1c6)+_0x484c15+_0x118079(0x1ca)+_0x1069bb+'\x27';continue;case'6':global_registry['hubVersion']=_0x172254[_0x118079(0x260)];continue;case'7':const _0x4aad5c={};_0x4aad5c['type']=WS_EVENTS['LOG'],_0x4aad5c[_0x118079(0x1b1)]=_0x28de3d,webSocketUtils[_0x118079(0x140)](_0x2bfb9a,_0x4aad5c);continue;case'8':global_registry['cloudProvider']=_0xdd6719;continue;}break;}}else _0x36676e=_0x232841[_0x118079(0x24b)];}}const _0x5bd047=await _0x232841[_0x118079(0x264)](getCloudProviderObject,_0xdd6719,_0x1069bb,_0x484c15,_0x2bfb9a,webSocketUtils,_0x3447f5);_0x232841[_0x118079(0x221)](_0xdd6719,AZURE)&&(_0x232841[_0x118079(0x187)](_0x232841[_0x118079(0x2c4)],_0x232841[_0x118079(0x2c4)])?(_0x114494=_0x38164d[_0x118079(0x25b)],_0x44a140=_0x232841[_0x118079(0x269)]):_0x5bd047[_0x118079(0x142)]());let _0x5787b5;if(_0x232841[_0x118079(0x159)](_0x2f16d5,![])){_0x28de3d=_0x118079(0x27c)+_0xa6fb2a+').';const _0x332f32={};_0x332f32['type']=WS_EVENTS[_0x118079(0x288)],_0x332f32[_0x118079(0x1b1)]=_0x28de3d,webSocketUtils['sendEventToBackend'](_0x2bfb9a,_0x332f32),logger[_0x118079(0x151)](_0x28de3d);const _0x5dc875=await _0x5bd047['isClusterPresent']();if(_0x5dc875){if(_0x232841[_0x118079(0x19e)](_0x232841[_0x118079(0x1cd)],_0x232841[_0x118079(0x150)])){const _0x59d7d2={};_0x59d7d2[_0x118079(0x1f0)]=WS_EVENTS[_0x118079(0x288)],_0x59d7d2['message']='Cluster\x20'+_0x1069bb+'\x20is\x20already\x20present.\x20Skipping\x20cluster\x20creation',webSocketUtils[_0x118079(0x140)](_0x2bfb9a,_0x59d7d2,_0x232841[_0x118079(0x14f)]),logger[_0x118079(0x151)](_0x118079(0x131)+_0x1069bb+_0x118079(0x1e1)),_0x2f16d5=!![];if(_0x232841['UapXl'](_0x8f6a08,!![])){if(_0x232841['lVFtF'](_0x232841['nEbpR'],_0x232841[_0x118079(0x179)])){const _0x3a59ae=_0x232841[_0x118079(0x1f2)][_0x118079(0x237)]('|');let _0x407505=0x0;while(!![]){switch(_0x3a59ae[_0x407505++]){case'0':_0x1c9b66[_0x118079(0x1c0)]=_0x232841['mXkpg'];continue;case'1':_0x4355b2[_0x118079(0x2dd)]=_0x232841[_0x118079(0x175)];continue;case'2':_0x322f20['info'](_0x232841[_0x118079(0x200)]);continue;case'3':_0x553c27[_0x118079(0x135)]=_0x232841['BAQwI'];continue;case'4':_0x501bdc[_0x118079(0x1b9)]=!![];continue;}break;}}else throw new Error(_0x118079(0x131)+_0x1069bb+_0x118079(0x176));}}else _0x179b85[_0x118079(0x151)](_0x118079(0x2b4)+_0x54eb7c[_0x118079(0x20a)](_0x80650)+'\x20');}else{const _0x23faea={};_0x23faea[_0x118079(0x1f0)]=WS_EVENTS[_0x118079(0x288)],_0x23faea[_0x118079(0x1b1)]=_0x232841[_0x118079(0x26d)],webSocketUtils[_0x118079(0x140)](_0x2bfb9a,_0x23faea),logger[_0x118079(0x151)](_0x232841['VDGfT']);const _0x2e2cba=_0x232841[_0x118079(0x1f1)](_0x3f6b7d,null)&&_0x232841[_0x118079(0x221)](_0x3f6b7d,undefined),_0x431f16=_0x232841[_0x118079(0x1f1)](_0x3a8825,null)&&_0x232841[_0x118079(0x1b6)](_0x3a8825,undefined)&&_0x232841[_0x118079(0x268)](_0x3a8825[_0x118079(0x17d)],0x0);if(_0x2e2cba){_0x232841[_0x118079(0x26a)](_0x431f16,![])&&(_0x28de3d=_0x232841[_0x118079(0x21e)],await _0x232841[_0x118079(0x291)](reportToGalactusAndSendToEDS,_0x3447f5,_0x2bfb9a,_0x28de3d,messageTypes['ERROR'],_0x232841['TkrfI'],_0x232841[_0x118079(0x1fb)],_0x232841[_0x118079(0x2d5)]),logger[_0x118079(0x23e)](_0x28de3d),process[_0x118079(0x1c9)](0x1));const _0x556843=await _0x5bd047[_0x118079(0x193)](_0x3f6b7d);_0x232841[_0x118079(0x285)](_0x556843,![])?(_0x28de3d=_0x232841[_0x118079(0x211)],await _0x232841[_0x118079(0x19f)](reportToGalactusAndSendToEDS,_0x3447f5,_0x2bfb9a,_0x28de3d,messageTypes['ERROR'],_0x232841['TkrfI'],_0x232841[_0x118079(0x160)],_0x232841['nxwxR']),logger[_0x118079(0x23e)](_0x28de3d),process[_0x118079(0x1c9)](0x1)):logger[_0x118079(0x151)](_0x118079(0x2b3)+_0x3f6b7d+'\x20');const _0x352eb5=await _0x5bd047[_0x118079(0x1e2)](_0x3a8825,_0x3f6b7d);_0x232841['ixONU'](_0x352eb5[0x0],![])?(_0x28de3d=_0x118079(0x24f)+JSON[_0x118079(0x20a)](_0x352eb5[0x1])+'\x20are\x20not\x20present\x20in\x20VPC:\x20'+_0x3f6b7d+'.\x20Please\x20re\x20-\x20select\x20subnets\x20and\x20try\x20again',await _0x232841[_0x118079(0x291)](reportToGalactusAndSendToEDS,_0x3447f5,_0x2bfb9a,_0x28de3d,messageTypes[_0x118079(0x2a9)],_0x232841[_0x118079(0x1a7)],_0x232841['ybagL'],_0x232841[_0x118079(0x2d5)]),logger['error'](_0x28de3d),process[_0x118079(0x1c9)](0x1)):logger[_0x118079(0x151)](_0x118079(0x2b4)+JSON[_0x118079(0x20a)](_0x3a8825)+'\x20'),[_0x3f6b7d,_0x3a8825]=await _0x5bd047[_0x118079(0x214)](_0x3f6b7d,_0x3a8825);}else{const _0x248b8f=_0x232841[_0x118079(0x226)]['split']('|');let _0x3cdef0=0x0;while(!![]){switch(_0x248b8f[_0x3cdef0++]){case'0':logger[_0x118079(0x151)](_0x232841[_0x118079(0x2dc)]);continue;case'1':const _0x3a5a6a={};_0x3a5a6a['type']=WS_EVENTS[_0x118079(0x288)],_0x3a5a6a['message']=_0x232841[_0x118079(0x2dc)],webSocketUtils['sendEventToBackend'](_0x2bfb9a,_0x3a5a6a);continue;case'2':logger[_0x118079(0x151)](_0x232841[_0x118079(0x17b)]);continue;case'3':const _0x17f318={};_0x17f318[_0x118079(0x1f0)]=WS_EVENTS[_0x118079(0x288)],_0x17f318[_0x118079(0x1b1)]=_0x232841['zxZJC'],webSocketUtils[_0x118079(0x140)](_0x2bfb9a,_0x17f318);continue;case'4':[_0x3f6b7d,_0x3a8825]=await _0x5bd047[_0x118079(0x214)](_0x3f6b7d,_0x3a8825);continue;}break;}}}}_0x2f16d5&&_0x232841[_0x118079(0x2b0)](_0xdd6719,AZURE)&&(await _0x5bd047['updateClusterAlreadyPresent'](),await _0x5bd047[_0x118079(0x1d7)]());const [_0x382cf4,_0x34a3e7,_0x585456,_0x4dfbfa,_0x1cae1a,_0x50dc47,_0x4f5344]=await _0x232841[_0x118079(0x1e7)](createK8sClient,_0x5bd047,_0x3447f5['skipTlsCertVerify']);_0x232841['cgIcQ'](_0x2f16d5,![])&&_0x232841[_0x118079(0x1a4)](_0xdd6719,AWS)&&(global_registry[_0x118079(0x17e)]=!![],_0x5787b5=await _0x5bd047[_0x118079(0x267)](_0x382cf4,_0x3447f5));if(_0x232841['cKiPW'](_0x2f16d5,![])&&global_registry['enableHubHa'])try{await _0x5bd047[_0x118079(0x2de)](_0x50dc47,_0x4f5344,_0x3447f5,_0x3f6b7d,_0x3a8825);const _0x3ef325={};_0x3ef325[_0x118079(0x1f0)]=WS_EVENTS[_0x118079(0x288)],_0x3ef325['message']=_0x232841[_0x118079(0x1d5)],webSocketUtils[_0x118079(0x140)](_0x2bfb9a,_0x3ef325);!await _0x232841['LFhpD'](namespaceExists,_0x382cf4,global_registry[_0x118079(0x1c0)])&&await _0x232841[_0x118079(0x2b8)](createNamespace,_0x382cf4,global_registry[_0x118079(0x1c0)]);logger[_0x118079(0x151)](_0x232841[_0x118079(0x143)]);let _0x44c89a=await fs[_0x118079(0x261)](path[_0x118079(0x239)](__dirname,_0x232841['yVNvX'],_0x232841['pTdvJ'],_0x232841[_0x118079(0x236)],_0x232841[_0x118079(0x219)]),_0x232841[_0x118079(0x204)]);_0x44c89a=_0x44c89a[_0x118079(0x263)](/<RedisClientPassword>/g,_0x232841[_0x118079(0x136)](encodeBase64,global_registry[_0x118079(0x135)])),_0x44c89a=_0x44c89a[_0x118079(0x263)](/<KafkaClientPassword>/g,_0x232841[_0x118079(0x1eb)](encodeBase64,global_registry[_0x118079(0x2dd)])),_0x44c89a=_0x44c89a['replace'](/<BstackUsername>/g,_0x232841['sYDUr'](encodeBase64,global_registry[_0x118079(0x2c1)])),_0x44c89a=_0x44c89a[_0x118079(0x263)](/<BstackAccessKey>/g,_0x232841[_0x118079(0x240)](encodeBase64,global_registry[_0x118079(0x232)]));const _0x4d659f=yaml['loadAll'](_0x44c89a);await _0x232841[_0x118079(0x277)](kubeApply,_0x4d659f,_0x4f5344),logger[_0x118079(0x151)](_0x232841[_0x118079(0x24e)]);let _0x321b4b=_0x232841[_0x118079(0x246)];if(_0x232841['AtHqe'](_0xdd6719,AZURE))_0x321b4b=_0x232841['lzQol'];else _0x232841['ybzQc'](_0xdd6719,GCP)&&(_0x321b4b=_0x232841['xSYnU']);logger['info'](_0x232841[_0x118079(0x297)]);let _0x35eb5c=await fs[_0x118079(0x261)](path['join'](__dirname,_0x232841[_0x118079(0x23a)],_0x232841['pTdvJ'],_0x232841['iSDDo'],_0x232841[_0x118079(0x252)]),_0x232841['lyRQW']);_0x35eb5c=_0x35eb5c[_0x118079(0x263)](/<HubHaNameSpace>/g,global_registry[_0x118079(0x1c0)]),_0x35eb5c=_0x35eb5c[_0x118079(0x263)](/<StorageClassName>/g,_0x321b4b);const _0xea3389=yaml[_0x118079(0x22f)](_0x35eb5c);await _0x232841['GMUYN'](kubeApply,_0xea3389,_0x4f5344),logger[_0x118079(0x151)](_0x232841[_0x118079(0x2da)]),logger[_0x118079(0x151)](_0x232841[_0x118079(0x1a5)]);let _0x234f91=await fs[_0x118079(0x261)](path[_0x118079(0x239)](__dirname,_0x232841[_0x118079(0x23a)],_0x232841[_0x118079(0x147)],_0x232841[_0x118079(0x236)],_0x232841[_0x118079(0x2ab)]),_0x232841[_0x118079(0x204)]);_0x234f91=_0x234f91[_0x118079(0x263)](/<HubHaNameSpace>/g,global_registry[_0x118079(0x1c0)]),_0x234f91=_0x234f91[_0x118079(0x263)](/<StorageClassName>/g,_0x321b4b);const _0x5bc4ba=yaml['loadAll'](_0x234f91);await _0x232841[_0x118079(0x28c)](kubeApply,_0x5bc4ba,_0x4f5344),logger[_0x118079(0x151)](_0x232841[_0x118079(0x198)]),logger[_0x118079(0x151)](_0x232841[_0x118079(0x282)]);let _0x388bf9=await fs[_0x118079(0x261)](path[_0x118079(0x239)](__dirname,_0x232841[_0x118079(0x23a)],_0x232841[_0x118079(0x147)],_0x232841[_0x118079(0x236)],_0x232841[_0x118079(0x1dd)]),_0x232841['lyRQW']);_0x388bf9=_0x388bf9[_0x118079(0x263)](/<UploaderImageVersion>/g,global_registry['uploaderImageVersion']),_0x388bf9=_0x388bf9[_0x118079(0x263)](/<HubHaNameSpace>/g,global_registry[_0x118079(0x1c0)]);const _0x4f121c=yaml[_0x118079(0x22f)](_0x388bf9);_0x232841['mdqvP'](global_registry['cloudProvider'],AZURE)&&(_0x4f121c[0x0][_0x118079(0x231)][_0x118079(0x1f9)][_0x118079(0x27e)]['labels']={'azure.workload.identity/use':_0x232841[_0x118079(0x1d6)],..._0x4f121c[0x0][_0x118079(0x231)][_0x118079(0x1f9)]['metadata'][_0x118079(0x195)]},_0x4f121c[0x0]['spec']['template'][_0x118079(0x231)]['serviceAccountName']=_0x232841[_0x118079(0x2cb)]);await _0x232841[_0x118079(0x2d1)](kubeApply,_0x4f121c,_0x4f5344),logger[_0x118079(0x151)](_0x232841['bEmya']);const _0x16b787={};_0x16b787[_0x118079(0x1f0)]=WS_EVENTS[_0x118079(0x288)],_0x16b787[_0x118079(0x1b1)]=_0x232841['vGrvt'],webSocketUtils[_0x118079(0x140)](_0x2bfb9a,_0x16b787),logger[_0x118079(0x151)](_0x232841['YGvxp']);}catch(_0x4f96c3){const _0x237b71=_0x232841[_0x118079(0x1b7)][_0x118079(0x237)]('|');let _0x3c7a79=0x0;while(!![]){switch(_0x237b71[_0x3c7a79++]){case'0':logger[_0x118079(0x23e)](_0x28de3d);continue;case'1':process[_0x118079(0x1c9)](0x1);continue;case'2':await _0x232841[_0x118079(0x274)](reportToGalactusAndSendToEDS,_0x3447f5,_0x2bfb9a,_0x28de3d,messageTypes[_0x118079(0x2a9)],_0x232841['TkrfI'],_0x232841[_0x118079(0x257)],_0x232841[_0x118079(0x2d5)]);continue;case'3':await _0x5bd047[_0x118079(0x1e0)](_0x382cf4,global_registry[_0x118079(0x1f5)]);continue;case'4':_0x28de3d='Error\x20occurred\x20while\x20setting\x20up\x20Hub\x20HA\x20infra:\x20'+_0x4f96c3[_0x118079(0x1b1)];continue;}break;}}try{_0x38e9b5=_0x232841[_0x118079(0x218)](kebabCase,_0x484c15),logger[_0x118079(0x151)](_0x232841[_0x118079(0x168)]);const _0x137e82={};_0x137e82['type']=WS_EVENTS['LOG'],_0x137e82[_0x118079(0x1b1)]=_0x232841[_0x118079(0x168)],webSocketUtils[_0x118079(0x140)](_0x2bfb9a,_0x137e82);if(_0x232841[_0x118079(0x220)](_0x38e9b5,_0x232841[_0x118079(0x2cb)])){const _0x30fcdc={};_0x30fcdc[_0x118079(0x155)]=_0x232841[_0x118079(0x1c3)],_0x30fcdc['managedBy']=_0x232841[_0x118079(0x1c3)];const _0x20fb26={};_0x20fb26[_0x118079(0x2af)]=_0x38e9b5,_0x20fb26[_0x118079(0x207)]=_0x30fcdc;const _0x5e7590={};_0x5e7590['metadata']=_0x20fb26;const _0x1d84ad=_0x5e7590,_0x4a3fe5={};_0x4a3fe5[_0x118079(0x280)]=_0x1d84ad,await _0x382cf4['createNamespace'](_0x4a3fe5),logger['info'](_0x232841['nNZMM']);}const _0x171bba={};_0x171bba[_0x118079(0x1f0)]=WS_EVENTS[_0x118079(0x288)],_0x171bba[_0x118079(0x1b1)]=_0x232841['PNJXY'],webSocketUtils[_0x118079(0x140)](_0x2bfb9a,_0x171bba);const _0x33403c={};_0x33403c[_0x118079(0x1f0)]=WS_EVENTS[_0x118079(0x288)],_0x33403c[_0x118079(0x1b1)]=_0x232841['Yqwgd'],webSocketUtils['sendEventToBackend'](_0x2bfb9a,_0x33403c),logger[_0x118079(0x151)](_0x232841[_0x118079(0x251)]);let _0x5e7650={};_0x232841[_0x118079(0x2a7)](_0xdd6719,AZURE)&&(_0x5e7650={'clientId':await _0x5bd047[_0x118079(0x1fd)]('turboscale-managed-identity-'+_0x1069bb)});await _0x232841[_0x118079(0x29e)](addGridComponents,_0x382cf4,_0x34a3e7,_0x585456,_0x4dfbfa,_0x38e9b5,_0x1069bb,_0x5787b5,_0x1cae1a,_0x4f5344,_0x5e7650),_0x28de3d=_0x232841[_0x118079(0x1f4)],logger[_0x118079(0x151)](_0x28de3d);const _0x29a6f={};_0x29a6f[_0x118079(0x1f0)]=WS_EVENTS[_0x118079(0x288)],_0x29a6f['message']=_0x28de3d,webSocketUtils[_0x118079(0x140)](_0x2bfb9a,_0x29a6f),_0x28de3d=_0x232841['TrQlR'],logger[_0x118079(0x151)](_0x28de3d);const _0x44c0ac={};_0x44c0ac['type']=WS_EVENTS['LOG'],_0x44c0ac[_0x118079(0x1b1)]=_0x28de3d,webSocketUtils['sendEventToBackend'](_0x2bfb9a,_0x44c0ac),await _0x232841[_0x118079(0x241)](waitForDeployment,_0x34a3e7,_0x38e9b5,TURBOSCALE_DEPLOYMENT,0x1d4c0);const _0x18f4e6=await _0x232841['YXwYH'](getNamespaceUID,_0x382cf4,_0x38e9b5),_0x3d3e32=global_registry[_0x118079(0x255)]?_0x232841['ucgVr']:_0x232841[_0x118079(0x18d)],_0xc2d235={};_0xc2d235['name']=_0x3d3e32,_0xc2d235[_0x118079(0x16c)]=_0x232841[_0x118079(0x137)];const _0x2ae2c7=await _0x382cf4[_0x118079(0x15d)](_0xc2d235);let _0x216c49=_0x5bd047['getGridHostname'](_0x2ae2c7)+'/'+_0x38e9b5,_0x4b5f0b=_0x232841[_0x118079(0x24b)];try{const _0x381b13=_0x118079(0x244)+AG_API_URL+_0x118079(0x2ad)+_0x18f4e6,_0x3eb6e0=await _0x232841[_0x118079(0x2ca)](got,_0x381b13,_0x150591);(_0x232841[_0x118079(0x296)](_0x3eb6e0,null)||_0x232841['rZNgc'](_0x3eb6e0,undefined))&&(_0x28de3d=_0x232841[_0x118079(0x20f)],await _0x232841[_0x118079(0x15e)](reportToGalactusAndSendToEDS,_0x3447f5,_0x2bfb9a,_0x28de3d,messageTypes['ERROR'],_0x232841[_0x118079(0x1a7)],_0x232841['bqoer'],_0x232841[_0x118079(0x2d5)]),logger[_0x118079(0x23e)](_0x28de3d),process[_0x118079(0x1c9)](0x1));_0x232841[_0x118079(0x17c)](_0x3eb6e0[_0x118079(0x29d)],0x191)&&(_0x28de3d=_0x232841[_0x118079(0x210)],await _0x232841[_0x118079(0x149)](reportToGalactusAndSendToEDS,_0x3447f5,_0x2bfb9a,_0x28de3d,messageTypes[_0x118079(0x2a9)],_0x232841[_0x118079(0x1a7)],_0x232841[_0x118079(0x217)],_0x232841[_0x118079(0x2d5)]),logger[_0x118079(0x23e)](_0x28de3d),process['exit'](0x1));_0x232841['FEyEq'](_0x3eb6e0[_0x118079(0x29d)],0xc8)&&(_0x28de3d='Failed\x20to\x20get\x20grid\x20url\x20from\x20the\x20server.\x20Non\x20200\x20response\x20from\x20server!\x20'+JSON[_0x118079(0x20a)](_0x3eb6e0),await _0x232841[_0x118079(0x149)](reportToGalactusAndSendToEDS,_0x3447f5,_0x2bfb9a,_0x28de3d,messageTypes[_0x118079(0x2a9)],_0x232841[_0x118079(0x1a7)],_0x232841['PAlBu'],_0x232841[_0x118079(0x2d5)]),logger[_0x118079(0x23e)](_0x28de3d),process[_0x118079(0x1c9)](0x1));const _0x17b2b0=JSON[_0x118079(0x16d)](_0x3eb6e0['body']);_0x17b2b0[_0x118079(0x25b)]&&(_0x216c49=_0x17b2b0['route53'],_0x4b5f0b=_0x232841['JavsZ']),global_registry[_0x118079(0x255)]&&(_0x4b5f0b=_0x232841[_0x118079(0x24b)]);}catch(_0x59c94b){}_0x28de3d='Grid\x20can\x20be\x20accessed\x20at:\x20'+_0x216c49+'\x20',logger[_0x118079(0x151)](_0x28de3d);const _0xae7780={};_0xae7780[_0x118079(0x1f0)]=WS_EVENTS[_0x118079(0x288)],_0xae7780[_0x118079(0x1b1)]=_0x28de3d,webSocketUtils[_0x118079(0x140)](_0x2bfb9a,_0xae7780),_0x28de3d='Hub\x20url\x20to\x20run\x20selenium\x20sessions:\x20'+_0x4b5f0b+'://'+_0x216c49+_0x118079(0x2ce),logger[_0x118079(0x151)](_0x28de3d);const _0x488d22={};_0x488d22['type']=WS_EVENTS['LOG'],_0x488d22[_0x118079(0x1b1)]=_0x28de3d,webSocketUtils[_0x118079(0x140)](_0x2bfb9a,_0x488d22);const _0xee3460={};_0xee3460[_0x118079(0x1f0)]=WS_EVENTS['CLI_RUN_FINISHED'],_0xee3460[_0x118079(0x1b1)]=_0x118079(0x2b2)+_0x216c49,webSocketUtils[_0x118079(0x140)](_0x2bfb9a,_0xee3460),await webSocketUtils[_0x118079(0x2a0)](0x7d0);}catch(_0x4391c0){logger['error'](_0x118079(0x27d)+_0x4391c0+'\x20\x0a'+JSON['stringify'](_0x4391c0['stack']));if(_0x232841[_0x118079(0x266)](_0x2f16d5,![]))try{logger[_0x118079(0x151)](_0x232841[_0x118079(0x1a6)]),await _0x232841[_0x118079(0x1c2)](removeGridComponents,_0x382cf4,_0x34a3e7,_0x585456,_0x4dfbfa,_0x38e9b5),await _0x5bd047['deleteCluster'](_0x382cf4,global_registry[_0x118079(0x1f5)]);}catch(_0x499b45){logger[_0x118079(0x23e)](_0x118079(0x163)+_0x499b45+'\x20\x0a'+JSON[_0x118079(0x20a)](_0x499b45['stack']));}throw _0x4391c0;}}catch(_0x6febd9){const _0x244a23='Unable\x20to\x20Spawn\x20the\x20Grid!\x20Error:\x20'+_0x6febd9+'\x20\x0a'+JSON[_0x118079(0x20a)](_0x6febd9[_0x118079(0x158)]);if(_0x2bfb9a){const _0x536e1a={};_0x536e1a[_0x118079(0x1f0)]=WS_EVENTS[_0x118079(0x288)],_0x536e1a[_0x118079(0x1b1)]=_0x244a23,webSocketUtils[_0x118079(0x140)](_0x2bfb9a,_0x536e1a,_0x232841[_0x118079(0x2d5)],!![]);}await webSocketUtils[_0x118079(0x2a0)](0x7d0);const _0x2b0ad0={};_0x2b0ad0['error']=_0x244a23,await _0x232841['jozEr'](sendInstrumentationEvent,_0x3447f5,_0x232841[_0x118079(0x1a7)],messageTypes[_0x118079(0x2a9)],_0x232841[_0x118079(0x23f)],_0x2b0ad0,_0x3447f5),logger[_0x118079(0x23e)](_0x244a23);}process['exit'](0x0);};function a9_0x56db(){const _0x455cff=['ingress-nginx-controller','gnyMn','message','defaultGridProfile','uploaderVersion','usage','../../utils/instrumentationUtils','qQvGw','jEDWv','akTLA','enableHubHa','dNRxa','nVIUw','rxohH','Ikefl','YXFze','includes','hubHaNameSpace','Hub\x20HA\x20setup\x20completed\x20successfully.','AEuPX','sUtBs','/packages/cli/create-grid-checks','Will\x20be\x20spawning\x20a\x20new\x20cluster\x20and\x20the\x20grid\x20','Spawning\x20the\x20grid\x20','pre-spawned-subnets-not-selected','skip-tls-cert-verify','exit','\x20in\x20existing\x20cluster\x20\x27','Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Unauthorized\x20request!','create','gmOuZ','cGRUD','IvetC','\x27\x20grid\x20profile','http','pbVbV','get-grid-url-auth-failed','Namespace\x20Created','YpZWD','RFNbL','createOtherResources','templates','jJveo','134256PvXPMe','OUumi','KzorC','FedOz','yBTtY','SiJQZ','deleteCluster','\x20is\x20already\x20present.\x20Skipping\x20cluster\x20creation','isSubnetsValid','vtioc','gridName','\x20doesn\x27t\x20exist.\x20Proceeding\x20with\x20creating\x20a\x20new\x20cluster','hubHa','LFhpD','vvkkl','password','path','Nzrsx','ZeSdE','Creating\x20namespace','MYzCB','37569dRmPze','type','QKOUk','HeLCe','s3bucket','zOIOV','clusterRegion','igXyk','kafkaUploader','FPVos','template','../../utils/createk8sClient','retIg','got','getResourceClientId','3|1|4|2|0','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','JDZhc','grid-profile','Added\x20Turboscale\x20Uploader\x20deployment.','wzQmL','lyRQW','VzbES','XNeDI','annotations','epilogue','subnets','stringify','Adding\x20Kafka\x20deployment...','nDELt','cIQBR','Create\x20a\x20new\x20Automation\x20grid.','oNMkp','KvIsR','Idmgy','ingress-nginx','CQzVx','setupNewCluster','hPyeb','GET','wOcwX','cFOkv','FhePz','zFTSF','Pass\x20the\x20name\x20to\x20setup\x20the\x20Automation\x20Grid\x20with\x20specific\x20name.\x20Name\x20this\x20grid\x20using\x20either\x20team\x27s\x20name,\x20pipeline\x20specific\x20or\x20generic.','description','xSYnU','brfsw','browserVersion','cpmVZ','SapWB','bitnami-redis.yaml','CLwuk','OoAFL','iBeJn','HNZgf','iGSmW','GSHyq','rHUqN','Added\x20Secret\x20Mapping','LOBUZ','JiqfG','../../utils/utilityMethods','cluster-name','loadAll','CwrIz','spec','bstackAccesskey','desc','uuxWE','Spawning\x20Grid\x20on\x20the\x20Cluster','iSDDo','split','hubharesources','join','yVNvX','pre-spawned-invalid-vpc','help','fPkle','error','fDjkl','nALzZ','UCIzy','xuBmw','KiIKL','https://','Create\x20a\x20private/public\x20grid.','ujTrV','mXkpg','3729OHWiFF','sBmCK','tUwUr','ytnQN','INFO','turboscale-uploader.yaml','wjsFL','Subnets:\x20','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','vYjjF','qheXx','create-grid-checks-invalid-profile','AZCBP','isPrivateGrid','cgIcQ','VhJUG','Added\x20Kafka\x20deployment.','Epyd5nXbRK','KVjWj','route53','get\x20grid\x20url\x20from\x20the\x20server.\x20Unknown\x20error!','TWlPG','Cluster\x20created\x20successfully','HAYMQ','hubVersion','readFileAsync','ZukSj','replace','pcFjB','36tkNhMC','HpFrf','setupAutoscaler','nTtjN','JavsZ','zEbtS','UKfEE','oKTLh','VDGfT','xUYIR','Tvwwg','lJttT','pPpzp','gOFDB','WebSocket','rwLyo','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','9990GGpTOG','hxfNg','7|3|4|1|5|0|6|2|8','ORHIG','Skip\x20insecure\x20cert\x20verification.','UcuOi','Checking\x20if\x20cluster\x20is\x20already\x20present\x20in\x20selected\x20region(','Error\x20in\x20Spawning\x20the\x20Grid!\x20Error:\x20','metadata','hub-ha','body','warn','QCooj','ArSfx','cluster-name,\x20cloud-provider\x20&&\x20region\x20should\x20be\x20provided\x20when\x20spawning\x20a\x20grid\x20in\x20existing\x20(Non-BrowserStack\x20created)\x20K8s\x20cluster','PzXCH','Browserstack','pre-spawned-invalid-subnets','LOG','6723165vbRtqv','YBvtM','jwHIa','WqhAy','psakk','Cluster:\x20','SIXYj','Added\x20Redis\x20deployment.','muMIl','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','oskfl','string','cloudProvider','BDKhw','dPkPj','eRIOH','DLywb','CLI_RUN_STARTED','StCpo','create-grid-checks-auth-failed','statusCode','zRlcV','dUCeR','delay','1491744XAaery','eUqUP','Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Unknown\x20error!','oiRvf','492ACeknz','MyXiM','Skcak','KoYYk','ERROR','43zKDakX','okLhv','true','/packages/cli/get-grid-url?gridIdentifier=','OrsvR','name','RRKYA','BAQwI','CLI\x20run\x20finished:\x20','Found\x20VPC:\x20','Found\x20Subnets:\x20','PPGZs','heUFK','connectionTimeout','YXwYH','ueEyR','SmmCq','22elitTj','create-grid-checks-non-200','newCluster','FEyEq','minNodes','Cluster\x20Auto\x20Upgrade\x20is\x20enabled','bstackUsername','toLowerCase','fEcqc','GLkNl','GmhZD','TOrUQ','dsduI','privateGrid','cloud-provider','enSWG','SNThE','maxNodes','grid-spawning-failed','/wd/hub','uuid','Adding\x20Secret\x20Mapping','GJsHd','<UsernamePlaceholder>','aiIqB','gTXEN','nxwxR','Invalid\x20input.\x20Currently\x20Spawning\x20the\x20grid\x20in\x20AWS\x20and\x20Azure\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','PQpYK','Fetching\x20url\x20for\x20running\x20tests\x20on\x20the\x20grid','get-grid-url-null-response','LvsqE','create-grid-called','WEuJj','kafkaPassword','setupHubHa','AjFtd','2|0|3|1|4','qCKWH','OeBDM','nGexh','region','FtVkH','Cluster\x20','DczVr','Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Non\x20200\x20response\x20from\x20server!\x20','nlFPO','redisPassword','IymlZ','ryFvB','\x20using\x20\x27','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','WTxhC','HtqoJ','lzQol','The\x20grid\x20creation\x20is\x20in\x20progress.\x20It\x20could\x20take\x20as\x20long\x20as\x2015-20\x20minutes.\x20You\x20will\x20receive\x20an\x20email\x20notification\x20once\x20the\x20grid\x20is\x20ready.','reconnecting-websocket','concurrency','sendEventToBackend','clusterAutoupgrade','sendResourceDataToHST','JACbl','handler','Will\x20be\x20spawning\x20the\x20grid\x20','AMyfu','pTdvJ','8|15|4|11|0|13|7|14|5|1|3|12|6|10|2|9','pQlWK','BofMU','iReKe','argv','ixONU','user','GuGqj','bMCkd','info','IJxZB','RDxxm','eDdiF','createdBy','BbfOI','username','stack','hnInr','4|5|1|7|8|0|2|6|3','vEYWJ','Namespace\x20created','readNamespacedService','KRxUm','existsSync','yhuAy','Adding\x20Redis\x20deployment...','instanceType','Failed\x20to\x20delete\x20the\x20CloudFormation\x20Stacks\x20and\x20other\x20spawned\x20components.\x20Error:\x20\x20','ADyFH','boolean','hub-ha-deployments-failed','default','jqsdj','bitnami-kafka.yaml','NzddK','.\x20Please\x20use\x20--grid-name\x20option\x20to\x20provide\x20another\x20grid\x20name','namespace','parse','sDJvX','WEOap','Failed\x20to\x20get\x20grid\x20url\x20from\x20the\x20server.\x20Unauthorized\x20request!','options','cluster-autoupgrade','clusterAutoUpgrade','FXBgC','cnNPS','\x20is\x20already\x20present.\x20Cannot\x20spawn\x20a\x20new\x20cluster','yZFss','4485690YkkYYo','nEbpR','https','zxZJC','mIzHm','length','isNewAWSCluster','SHljj','UkRNzNYCBU','Flag\x20to\x20enable\x20Hub\x20HA','CbAlJ','ZqQdH','uwUpb','private-ingress-nginx-controller','asiVS','AUudc','SsXEr','requestId','xoxbG','gridProfileId','init-not-called','dSVuM','../..','LMCYk','Subnets\x20not\x20selected.\x20Please\x20select\x20subnets\x20and\x20try\x20again','Deleting\x20the\x20CloudFormation\x20Stacks','YUCkx','isVPCPresent','readFileSync','labels','browserstack-secret.yaml','yagUR','ZBfxI','Guoyt','rqiTm','clusterName','mSIzm','command','lVFtF','PCYke','gkWJC','VPC\x20selected\x20does\x20not\x20exist.\x20Please\x20try\x20again','azurefile-csi-premium','UMpYC','Wryhe','ypmmY','lMFei','TkrfI','Enabling\x20Hub\x20HA\x20flow','Adding\x20Turboscale\x20Uploader\x20deployment...','An\x20Automation\x20Grid\x20already\x20exists\x20with\x20grid\x20name\x20','private-grid','addListeners','gridProfile','AwkWX'];a9_0x56db=function(){return _0x455cff;};return a9_0x56db();}