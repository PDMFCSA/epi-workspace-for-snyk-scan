const a9_0x2fc98e=a9_0x4a9e;(function(_0x493c49,_0x5bd340){const _0x46affb=a9_0x4a9e,_0x1c61fd=_0x493c49();while(!![]){try{const _0x10248e=parseInt(_0x46affb(0x293))/0x1*(-parseInt(_0x46affb(0x22c))/0x2)+-parseInt(_0x46affb(0x287))/0x3+-parseInt(_0x46affb(0x1dd))/0x4+parseInt(_0x46affb(0x240))/0x5*(parseInt(_0x46affb(0x1c1))/0x6)+parseInt(_0x46affb(0x2c6))/0x7*(-parseInt(_0x46affb(0x2c9))/0x8)+-parseInt(_0x46affb(0x204))/0x9*(parseInt(_0x46affb(0x251))/0xa)+-parseInt(_0x46affb(0x321))/0xb*(-parseInt(_0x46affb(0x26a))/0xc);if(_0x10248e===_0x5bd340)break;else _0x1c61fd['push'](_0x1c61fd['shift']());}catch(_0xb946d2){_0x1c61fd['push'](_0x1c61fd['shift']());}}}(a9_0x20dc,0xcd68c));function a9_0x20dc(){const _0x3a4911=['warn','rIAlN','Namespace\x20created','JhZET','VuiGg','Failed\x20to\x20delete\x20the\x20CloudFormation\x20Stacks\x20and\x20other\x20spawned\x20components.\x20Error:\x20\x20','Adding\x20Websocket\x20listeners','CLI\x20run\x20finished:\x20','info','cluster-name','spec','ypbtq','yEDON','3|7|5|2|4|1|0|6|8','oidSx','PiYtQ','DXbKc','Spawning\x20the\x20grid\x20','annotations','ABRGA','Geyjs','toLowerCase','clusterRegion','isClusterPresent','WBjWJ','bWRIs','../../utils/utilityMethods','Cluster\x20','uTzwu','1|0|4|3|2','QflvI','5|3|6|7|0|2|4|1|8','stack','includes','BzlyU','updateClusterAlreadyPresent','argv','yxjBC','TQYXM','efs-csi','EZUkF','message','gFyjX','HEmsy','azurefile-csi-premium','TQCgf','WyWzn','hJUiS','../..','.\x20Please\x20use\x20--grid-name\x20option\x20to\x20provide\x20another\x20grid\x20name','\x27\x20grid\x20profile','MZgZv','JZOPP','BokoO','getGridHostname','Subnets:\x20','kpqjw','deleteCluster','KPDxc','description','boolean','SmxbP','110xczIiY','kafkaUploader','DxtcG','KmiRA','skip-tls-cert-verify','vgytM','uploaderVersion','cwiFE','xjPgq','namespace','WkwBA','atGAw','CnViO','premium-rwo','help','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','Invalid\x20Grid\x20Profile.Exiting\x20the\x20CLI.','REtkg','CbXSz','ZfNwI','JvhiL','Errwg','replace','BRHMr','Created\x20Hub\x20HA\x20resources','Pass\x20the\x20name\x20to\x20setup\x20the\x20Automation\x20Grid\x20with\x20specific\x20name.\x20Name\x20this\x20grid\x20using\x20either\x20team\x27s\x20name,\x20pipeline\x20specific\x20or\x20generic.','MtWVL','privateGrid','template','command','create-grid-checks-null-response','GaIRU','\x20doesn\x27t\x20exist.\x20Proceeding\x20with\x20creating\x20a\x20new\x20cluster','<PasswordPlaceholder>','vMpVE','non-aws-azure-cluster','vfaFY','4|0|2|1|3','bstackAccesskey','../../utils/instrumentationUtils','YHYTW','LKOOw','sHkhP','tdIKW','syUdS','Skip\x20insecure\x20cert\x20verification.','hub-ha','browserstack','newCluster','addListeners','DzvbN','QbSIB','connectionTimeout','IiiIA','length','waDVU','Added\x20Kafka\x20deployment.','cluster-name,\x20cloud-provider\x20&&\x20region\x20should\x20be\x20provided\x20when\x20spawning\x20a\x20grid\x20in\x20existing\x20(Non-BrowserStack\x20created)\x20K8s\x20cluster','INFO','uKhOv','229002cwnISM','xDevN','HFcfC','eLhlu','zMgco','default','readFileAsync','Ctkpj','RStwi','duzCi','akXNU','FYxVL','pre-spawned-subnets-not-selected','KEdHO','QJrGW','jBUqm','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','BLheG','sHrWd','\x20using\x20\x27','create','NvYlW','parse','rpToR','iItRd','dAmvx','ZnUDr','private-grid','656644pxPlEy','Hub\x20url\x20to\x20run\x20selenium\x20sessions:\x20','awPbV','tyacH','Found\x20VPC:\x20','JbNoB','opwQX','dgrol','route53','7|8|4|3|14|0|11|15|9|1|6|5|10|13|2|12','NaCPB','WebSocket','epilogue','statusCode','MiTfN','turboscale-managed-identity-','path','Hub\x20HA\x20setup\x20completed\x20successfully.','private-ingress-nginx-controller','ZefsG','browserstack-secret.yaml','Adding\x20Redis\x20deployment...','CLI_RUN_STARTED','JxtPH','isPrivateGrid','JpLRA','create-grid-checks-invalid-profile','gridProfileId','LOG','alreadyPresent','hubHa','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','Grid\x20profile\x20fetched\x20from\x20backend','mqfJj','Found\x20Subnets:\x20','get-grid-url-auth-failed','WjPGP','sendEventToBackend','desc','2407644CSVcQp','HVGqA','getResourceClientId','loadAll','JlmoL','../../cloudproviders/utils','createOtherResources','jQDBa','setupAutoscaler','options','hub-ha-deployments-failed','JDZgv','shIms','js-yaml','ERROR','qpfpe','DICRh','string','Adding\x20Turboscale\x20Uploader\x20deployment...','aEXMb','pvjOY','vCkXF','pEull','UWxGa','Spawning\x20Grid\x20on\x20the\x20Cluster','FVhZe','0|1|4|2|3','dRYQo','get-grid-url-non-200','WXqSM','kafkaPassword','ingress-nginx-controller','get\x20grid\x20url\x20from\x20the\x20server.\x20Unknown\x20error!','subnets','Fdpnr','Enabling\x20Hub\x20HA\x20flow','dBYvG','Subnets\x20not\x20selected.\x20Please\x20select\x20subnets\x20and\x20try\x20again','enableHubHa','split','485086vvCBoh','region','An\x20Automation\x20Grid\x20already\x20exists\x20with\x20grid\x20name\x20','Uggnz','GsFck','sendResourceDataToHST','debug','exit','kmvEY','type','wVOKM','bGbaV','concurrency','EYmGW','create-grid-checks-auth-failed','Create\x20a\x20new\x20Automation\x20grid.','error','Qlxrr','OgHFV','KqvXs','95hCWPJB','Adding\x20Secret\x20Mapping','../../config/constants','XKMZf','uwKsK','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','oLOoq','qxDNd','maxNodes','<UsernamePlaceholder>','ubIMy','pRmHy','body','UIykA','wuCIk','minNodes','grid-spawning-failed','30ZRTjsk','PGznn','DFeQw','okZUS','XmpqQ','yzBJK','tLiuS','aELbb','Cluster:\x20','uploaderImageVersion','password','hjdlv','builder','serviceAccountName','IBodl','UKIql','eKDqE','FkzyP','isNewAWSCluster','OEwha','usage','Added\x20Secret\x20Mapping','LcnuA','NUBVS','GMLJs','4465572qGoJbI','/wd/hub','UMfzI','fbjlQ','Flag\x20to\x20enable\x20Hub\x20HA','Spawning\x20grid\x20on\x20to\x20the\x20cluster','YqxHd','instanceType','TNYII','SNzHY','Create\x20a\x20private/public\x20grid.','QmyCp','hubHaNameSpace','\x20is\x20already\x20present.\x20Cannot\x20spawn\x20a\x20new\x20cluster','cloudProvider','Creating\x20Hub\x20HA\x20resources','UluTu','browserVersion','IeizJ','createNamespace','pzLVv','XUjrV','potru','AYzht','createdBy','xZrbr','metadata','\x20is\x20already\x20present.\x20Skipping\x20cluster\x20creation','BKKDT','2969961lwaDMw','CLI\x20run\x20started','qjPqX','create-grid-checks-grid-already-exists','xZTLc','init-not-called','https://','bstackUsername','AHWZw','delay','Browserstack','DkzMi','3JDvMWT','\x20in\x20existing\x20cluster\x20\x27','ybVoa','grid-name','defaultGridProfile','CqLjo','NpDBC','OznxX','../../utils/gridComponents','ogGPZ','Failed\x20to\x20get\x20grid\x20url\x20from\x20the\x20server.\x20Unauthorized\x20request!','zdTcn','ZGnPP','true','redisPassword','rOPnC','Grid\x20can\x20be\x20accessed\x20at:\x20','mfIct','readFileSync','VQKWq','stringify','cXTVx','got','://','jmCpx','clusterName','EfFnY','IucYZ','http','handler','Cluster\x20created\x20successfully','Failed\x20to\x20get\x20grid\x20url\x20from\x20the\x20server.\x20Non\x20200\x20response\x20from\x20server!\x20','Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Unauthorized\x20request!','wTYtW','ingress-nginx','vNFmO','join','3|0|2|1|4','labels','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','mAIYG','Deleting\x20the\x20CloudFormation\x20Stacks','RDifu','ewqeK','existsSync','DldCd','CtDgC','CLI_RUN_FINISHED','OVSsx','QmoQx','username','77658TLMZQe','Invalid\x20input.\x20Currently\x20Spawning\x20the\x20grid\x20in\x20AWS\x20and\x20Azure\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','NqmtB','664ZJRetZ','name','FPvIs','gridProfile','fgLUA','UgJTb','oqPzb','hubVersion','Cluster\x20not\x20found.\x20Proceeding\x20with\x20creating\x20required\x20resources.','s3bucket','setupNewCluster','../../utils/createk8sClient','managedBy','kCKKZ','UGYDj','REPKQ','cloud-provider','../../utils/webSocketUtils','DuTNb','get-grid-url-null-response','UdMfJ','nbrYy','rQKwv','aDEEe','pnjbU','oqPza'];a9_0x20dc=function(){return _0x3a4911;};return a9_0x20dc();}function a9_0x4a9e(_0x47d3d1,_0x185ddd){const _0x20dc25=a9_0x20dc();return a9_0x4a9e=function(_0x4a9e6d,_0x3f738a){_0x4a9e6d=_0x4a9e6d-0x19b;let _0x3da268=_0x20dc25[_0x4a9e6d];return _0x3da268;},a9_0x4a9e(_0x47d3d1,_0x185ddd);}const fs=require('fs'),ws=require('ws'),path=require(a9_0x2fc98e(0x1ed)),yaml=require(a9_0x2fc98e(0x211)),ReconnectingWebSocket=require('reconnecting-websocket'),got=require(a9_0x2fc98e(0x2a9)),{v4:uuidv4}=require('uuid'),webSocketUtils=require(a9_0x2fc98e(0x2da)),{logger}=require('../../config/logger'),{getCredentialsPath,updateGlobalRegistryWithConfig,updateGlobalRegistryForHubHa,kebabCase,reportToGalactusAndSendToEDS,getAuthHeader,waitForDeployment,kubeApply,encodeBase64}=require(a9_0x2fc98e(0x2fd)),{getCloudProviderObject}=require(a9_0x2fc98e(0x209)),{AWS,WS_EVENTS,global_registry,WS_ENDPOINT,DEFAULT_GRID_NAME,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,messageTypes,AG_API_URL,AZURE,GCP,TURBOSCALE_DEPLOYMENT}=require(a9_0x2fc98e(0x242)),{addGridComponents,removeGridComponents,getNamespaceUID,namespaceExists,createNamespace}=require(a9_0x2fc98e(0x29b)),{createK8sClient}=require(a9_0x2fc98e(0x2d4)),{sendInstrumentationEvent}=require(a9_0x2fc98e(0x1ac));exports[a9_0x2fc98e(0x1a2)]='grid',exports[a9_0x2fc98e(0x203)]=a9_0x2fc98e(0x23b),exports[a9_0x2fc98e(0x25d)]=function(_0x91d4bd){const _0x2e292c=a9_0x2fc98e,_0x150ea7={};_0x150ea7[_0x2e292c(0x2cb)]='Pass\x20the\x20name\x20to\x20setup\x20the\x20Automation\x20Grid\x20with\x20specific\x20name.\x20Name\x20this\x20grid\x20using\x20either\x20team\x27s\x20name,\x20pipeline\x20specific\x20or\x20generic.',_0x150ea7[_0x2e292c(0x1db)]=_0x2e292c(0x215),_0x150ea7['rIbXQ']=_0x2e292c(0x2ba),_0x150ea7['iItRd']='Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.',_0x150ea7[_0x2e292c(0x217)]='Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.',_0x150ea7[_0x2e292c(0x1c4)]=_0x2e292c(0x1d1),_0x150ea7[_0x2e292c(0x2e6)]=_0x2e292c(0x274),_0x150ea7[_0x2e292c(0x26d)]=_0x2e292c(0x1b2),_0x150ea7[_0x2e292c(0x205)]=_0x2e292c(0x31f),_0x150ea7[_0x2e292c(0x237)]='Flag\x20to\x20enable\x20Hub\x20HA',_0x150ea7['OEwha']=_0x2e292c(0x32f);const _0x3539c6=_0x150ea7,_0x4b0c41={};_0x4b0c41[_0x2e292c(0x31e)]=_0x3539c6[_0x2e292c(0x2cb)],_0x4b0c41[_0x2e292c(0x235)]=_0x3539c6[_0x2e292c(0x1db)];const _0x266983={};_0x266983[_0x2e292c(0x31e)]=_0x3539c6['rIbXQ'],_0x266983[_0x2e292c(0x235)]=_0x3539c6['ZnUDr'];const _0x66d851={};_0x66d851[_0x2e292c(0x31e)]=_0x3539c6[_0x2e292c(0x1d9)],_0x66d851[_0x2e292c(0x235)]=_0x3539c6[_0x2e292c(0x1db)];const _0x1b4181={};_0x1b4181['description']=_0x3539c6[_0x2e292c(0x217)],_0x1b4181[_0x2e292c(0x235)]=_0x3539c6[_0x2e292c(0x1db)];const _0x20fb10={};_0x20fb10[_0x2e292c(0x31e)]=_0x3539c6[_0x2e292c(0x1c4)],_0x20fb10[_0x2e292c(0x235)]=_0x3539c6[_0x2e292c(0x1db)];const _0x101012={};_0x101012['description']=_0x3539c6['JhZET'],_0x101012[_0x2e292c(0x235)]=_0x3539c6[_0x2e292c(0x1db)];const _0x433467={};_0x433467[_0x2e292c(0x31e)]=_0x3539c6[_0x2e292c(0x26d)],_0x433467[_0x2e292c(0x235)]=_0x3539c6[_0x2e292c(0x205)],_0x433467[_0x2e292c(0x1c6)]=![];const _0x59deb8={};_0x59deb8[_0x2e292c(0x31e)]=_0x3539c6[_0x2e292c(0x237)],_0x59deb8[_0x2e292c(0x235)]=_0x3539c6[_0x2e292c(0x205)],_0x59deb8[_0x2e292c(0x1c6)]=![];const _0x2342e5={};return _0x2342e5[_0x2e292c(0x296)]=_0x4b0c41,_0x2342e5['grid-profile']=_0x266983,_0x2342e5[_0x2e292c(0x2ec)]=_0x66d851,_0x2342e5['cloud-provider']=_0x1b4181,_0x2342e5[_0x2e292c(0x22d)]=_0x20fb10,_0x2342e5[_0x2e292c(0x1dc)]=_0x101012,_0x2342e5[_0x2e292c(0x325)]=_0x433467,_0x2342e5[_0x2e292c(0x1b3)]=_0x59deb8,_0x91d4bd[_0x2e292c(0x265)](HELP_HEADER_MESSAGE[_0x2e292c(0x1d5)])['epilogue'](HELP_FOOTER_MESSAGE)[_0x2e292c(0x20d)](_0x2342e5)[_0x2e292c(0x32f)](_0x3539c6[_0x2e292c(0x264)])['argv'];},exports[a9_0x2fc98e(0x2b0)]=async function(_0x4b1077){const _0x47fc6d=a9_0x2fc98e,_0x31bb19={'XKMZf':function(_0x49fe52,_0x56fb33){return _0x49fe52(_0x56fb33);},'XUjrV':_0x47fc6d(0x2a0),'ogGPZ':'default','CqLjo':_0x47fc6d(0x2e3),'VuiGg':function(_0x101385,_0x5f0ad9){return _0x101385===_0x5f0ad9;},'LYBwC':_0x47fc6d(0x1e6),'QmoQx':function(_0x13d3da,_0x4f7cb1,_0x6f6e4b,_0x43f335,_0x5be070,_0x3b3983,_0x3a2fa3,_0x89fd0e,_0x30d615,_0x3998eb,_0x11cc7b,_0x2c15da){return _0x13d3da(_0x4f7cb1,_0x6f6e4b,_0x43f335,_0x5be070,_0x3b3983,_0x3a2fa3,_0x89fd0e,_0x30d615,_0x3998eb,_0x11cc7b,_0x2c15da);},'PiYtQ':function(_0x40cf80,_0xb3abea){return _0x40cf80!==_0xb3abea;},'IBodl':'https','myODC':_0x47fc6d(0x32e),'IeizJ':_0x47fc6d(0x2af),'tyacH':_0x47fc6d(0x21e),'aDEEe':_0x47fc6d(0x227),'kmvEY':_0x47fc6d(0x1b4),'dBYvG':'Epyd5nXbRK','KmiRA':'UkRNzNYCBU','TXHrE':function(_0x1595a8,_0x52d943){return _0x1595a8(_0x52d943);},'cXTVx':_0x47fc6d(0x2f0),'zMgco':_0x47fc6d(0x288),'ybVoa':_0x47fc6d(0x30f),'mqfJj':_0x47fc6d(0x23c),'jZvlE':_0x47fc6d(0x19e),'DkzMi':_0x47fc6d(0x215),'qxDNd':_0x47fc6d(0x2ba),'RStwi':_0x47fc6d(0x330),'XePWr':_0x47fc6d(0x245),'DXbKc':'Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','Fdpnr':'Create\x20a\x20private/public\x20grid.','GaIRU':_0x47fc6d(0x1b2),'QbSIB':_0x47fc6d(0x31f),'NmCZw':_0x47fc6d(0x26e),'mfIct':_0x47fc6d(0x32f),'BKKDT':function(_0x16ee16){return _0x16ee16();},'opwQX':_0x47fc6d(0x32d),'dAmvx':_0x47fc6d(0x1fc),'ocrMw':function(_0x3ba60f,_0x54f219,_0xac2d6f,_0x1246da,_0x555742,_0x83d420,_0x3ba7a6){return _0x3ba60f(_0x54f219,_0xac2d6f,_0x1246da,_0x555742,_0x83d420,_0x3ba7a6);},'oqPzb':'create-grid-called','JvhiL':_0x47fc6d(0x28c),'vNFmO':function(_0x44b562,_0x8301ea,_0x204897,_0x5bf673,_0x22dafc,_0x29250c,_0x4733da){return _0x44b562(_0x8301ea,_0x204897,_0x5bf673,_0x22dafc,_0x29250c,_0x4733da);},'sNzXL':_0x47fc6d(0x249),'xZrbr':_0x47fc6d(0x1a6),'EfFnY':_0x47fc6d(0x2e9),'EZUkF':function(_0xd4c925,_0x1e6e7c){return _0xd4c925===_0x1e6e7c;},'SmxbP':_0x47fc6d(0x253),'FYxVL':'GHcqs','Ctkpj':_0x47fc6d(0x210),'okZUS':_0x47fc6d(0x1be),'syUdS':function(_0x41f263,_0x2bf0de,_0x2a2021,_0x4383e6,_0x54fcac,_0x4d232c,_0x5e8343,_0x304dfb){return _0x41f263(_0x2bf0de,_0x2a2021,_0x4383e6,_0x54fcac,_0x4d232c,_0x5e8343,_0x304dfb);},'cGccj':'prespawned-cluster-args-not-passed','UluTu':_0x47fc6d(0x29e),'tdIKW':_0x47fc6d(0x2c7),'bWRIs':_0x47fc6d(0x1a8),'NqmtB':function(_0xb8dbb7,_0x2c871a){return _0xb8dbb7===_0x2c871a;},'pEull':function(_0x35a131,_0x519cda){return _0x35a131===_0x519cda;},'uKhOv':_0x47fc6d(0x1e4),'rQKwv':function(_0xa8daa4,_0x5e0a39){return _0xa8daa4===_0x5e0a39;},'UWxGa':_0x47fc6d(0x255),'jQDBa':_0x47fc6d(0x1df),'tLiuS':_0x47fc6d(0x333),'KnkLs':'GET','QmyCp':function(_0x55adcf,_0x310260,_0x56666b){return _0x55adcf(_0x310260,_0x56666b);},'BLheG':function(_0x454f12,_0x347b47){return _0x454f12===_0x347b47;},'ZGnPP':_0x47fc6d(0x262),'wVOKM':function(_0x433071,_0x3921be){return _0x433071===_0x3921be;},'IucYZ':_0x47fc6d(0x336),'rpToR':'Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Unknown\x20error!','NpDBC':_0x47fc6d(0x1a3),'ewqeK':function(_0x44d65f,_0x1579f5){return _0x44d65f!==_0x1579f5;},'dRYQo':'npRMS','jaCGJ':_0x47fc6d(0x2d7),'xDevN':_0x47fc6d(0x2b3),'qpfpe':function(_0x27a803,_0x3607df,_0x4e1b07,_0x4e87a7,_0x5b9ac4,_0x5c52e5,_0x2b6344,_0x2897c6){return _0x27a803(_0x3607df,_0x4e1b07,_0x4e87a7,_0x5b9ac4,_0x5c52e5,_0x2b6344,_0x2897c6);},'RDifu':_0x47fc6d(0x23a),'REtkg':'eeNYG','cYzWL':'create-grid-checks-non-200','NUBVS':_0x47fc6d(0x1fd),'JDZgv':_0x47fc6d(0x218),'UMfzI':function(_0x51ff82,_0xcd8cb,_0xb3375b,_0x5bd403,_0x540485,_0x4f5651,_0x17b039,_0x3d6ebd){return _0x51ff82(_0xcd8cb,_0xb3375b,_0x5bd403,_0x540485,_0x4f5651,_0x17b039,_0x3d6ebd);},'Jznzb':_0x47fc6d(0x28a),'AhfmW':_0x47fc6d(0x21d),'pnjbU':_0x47fc6d(0x261),'BRHMr':_0x47fc6d(0x23e),'NvYlW':_0x47fc6d(0x2b8),'yEDON':function(_0x1fee99,_0x15c67a){return _0x1fee99===_0x15c67a;},'HFcfC':'fKKgw','QJrGW':_0x47fc6d(0x239),'UKIql':function(_0x11cfd8,_0x47eae0){return _0x11cfd8===_0x47eae0;},'YgYWZ':'nhNgB','suxDr':'TAkna','uLohO':_0x47fc6d(0x331),'KPDxc':_0x47fc6d(0x1f7),'PLSuU':function(_0x2dc201,_0x408c3c){return _0x2dc201===_0x408c3c;},'MYnAO':_0x47fc6d(0x308),'SNzHY':_0x47fc6d(0x24e),'JxtPH':'YspsT','KEdHO':_0x47fc6d(0x252),'duzCi':_0x47fc6d(0x28f),'CtDgC':function(_0x16b375,_0x2d76e2,_0x347380,_0x29cc77,_0xb7e928,_0x38a631,_0x192402,_0x1e9eb6,_0x298b6f,_0x206894,_0x3f8ea4,_0x1dd03f){return _0x16b375(_0x2d76e2,_0x347380,_0x29cc77,_0xb7e928,_0x38a631,_0x192402,_0x1e9eb6,_0x298b6f,_0x206894,_0x3f8ea4,_0x1dd03f);},'potru':_0x47fc6d(0x2ee),'Geyjs':_0x47fc6d(0x326),'UgJTb':function(_0x27b0d6,_0x4449d1){return _0x27b0d6===_0x4449d1;},'hjdlv':function(_0x534ed6,_0x9281b9){return _0x534ed6!==_0x9281b9;},'HEmsy':_0x47fc6d(0x301),'yDYsD':_0x47fc6d(0x267),'TQYXM':_0x47fc6d(0x2d8),'rIAlN':'fdbWB','dlZad':_0x47fc6d(0x19f),'Qlxrr':function(_0x53442a,_0x3a289b){return _0x53442a(_0x3a289b);},'jmCpx':_0x47fc6d(0x22f),'JlmoL':_0x47fc6d(0x302),'NaCPB':function(_0x339f18,_0x867c9e){return _0x339f18===_0x867c9e;},'OznxX':_0x47fc6d(0x2ff),'MZgZv':_0x47fc6d(0x2cd),'atGAw':function(_0x5054c8,_0x56f688){return _0x5054c8===_0x56f688;},'wTYtW':_0x47fc6d(0x311),'DzvbN':_0x47fc6d(0x219),'sHkhP':_0x47fc6d(0x24d),'ABRGA':_0x47fc6d(0x2d1),'yzBJK':function(_0x57612e,_0x33b4c8){return _0x57612e!=_0x33b4c8;},'DldCd':function(_0x55aef8,_0x1658d7){return _0x55aef8!==_0x1658d7;},'JZOPP':function(_0x407c6c,_0x1336f6){return _0x407c6c>_0x1336f6;},'KmYsq':function(_0x1db885,_0x54468d){return _0x1db885===_0x54468d;},'TLHay':_0x47fc6d(0x229),'vMpVE':_0x47fc6d(0x1cd),'BokoO':'VPC\x20selected\x20does\x20not\x20exist.\x20Please\x20try\x20again','OMHjb':'pre-spawned-invalid-vpc','rOPnC':'pre-spawned-invalid-subnets','ZNjGZ':_0x47fc6d(0x300),'AYzht':'The\x20grid\x20creation\x20is\x20in\x20progress.\x20It\x20could\x20take\x20as\x20long\x20as\x2015-20\x20minutes.\x20You\x20will\x20receive\x20an\x20email\x20notification\x20once\x20the\x20grid\x20is\x20ready.','YHYTW':_0x47fc6d(0x2b1),'GMLJs':function(_0x2ca1e3,_0x851d33){return _0x2ca1e3===_0x851d33;},'kCKKZ':function(_0x4c248d,_0x2fc82d){return _0x4c248d===_0x2fc82d;},'VQKWq':_0x47fc6d(0x279),'BzlyU':function(_0x329ae9,_0xdb33a0,_0x35b038){return _0x329ae9(_0xdb33a0,_0x35b038);},'KqvXs':_0x47fc6d(0x241),'sHrWd':_0x47fc6d(0x313),'ZefsG':'templates','cwiFE':'hubharesources','fGuzw':_0x47fc6d(0x1f1),'DICRh':'utf-8','pRmHy':function(_0x2f38aa,_0x3af757){return _0x2f38aa(_0x3af757);},'ubIMy':function(_0x3feaf3,_0x39513c){return _0x3feaf3(_0x39513c);},'IIxWl':_0x47fc6d(0x266),'wktmG':_0x47fc6d(0x30a),'OVSsx':function(_0x1264f4,_0x70e9f2){return _0x1264f4===_0x70e9f2;},'aELbb':_0x47fc6d(0x1f2),'vfaFY':'bitnami-redis.yaml','uwKsK':'Added\x20Redis\x20deployment.','qjPqX':'Adding\x20Kafka\x20deployment...','DuTNb':'bitnami-kafka.yaml','waDVU':function(_0x4bb741,_0x338382,_0x476adc){return _0x4bb741(_0x338382,_0x476adc);},'TNYII':_0x47fc6d(0x1bd),'eCMxP':_0x47fc6d(0x216),'oLOoq':'turboscale-uploader.yaml','EKOWJ':function(_0x286294,_0x392bc2){return _0x286294===_0x392bc2;},'WBjWJ':function(_0x4ef2d3,_0x2b414e,_0x295132){return _0x4ef2d3(_0x2b414e,_0x295132);},'JbNoB':'Added\x20Turboscale\x20Uploader\x20deployment.','nbrYy':_0x47fc6d(0x19d),'WXqSM':_0x47fc6d(0x1ee),'DxtcG':_0x47fc6d(0x1aa),'hJUiS':_0x47fc6d(0x20e),'NhqMX':function(_0x151c80,_0x5dc0b5){return _0x151c80(_0x5dc0b5);},'xZTLc':'Creating\x20namespace','xjPgq':_0x47fc6d(0x291),'gmheM':'Namespace\x20Created','MiTfN':_0x47fc6d(0x2e5),'YqxHd':_0x47fc6d(0x26f),'XwDcx':_0x47fc6d(0x21c),'LKOOw':function(_0x4dd299,_0x5921fd){return _0x4dd299===_0x5921fd;},'oqPza':function(_0x890d57,_0x3a11f7,_0x27094e,_0x49b98a,_0xcfc39f,_0x2eb069,_0x36ebc2,_0x25b8ce,_0x2f7f1a,_0x3f5aa4,_0x4c0743){return _0x890d57(_0x3a11f7,_0x27094e,_0x49b98a,_0xcfc39f,_0x2eb069,_0x36ebc2,_0x25b8ce,_0x2f7f1a,_0x3f5aa4,_0x4c0743);},'XSmOw':'Grid\x20spawned\x20on\x20the\x20cluster','mAIYG':'Fetching\x20url\x20for\x20running\x20tests\x20on\x20the\x20grid','kpqjw':function(_0x28d664,_0x16b739,_0x56c5ee,_0x1c2cff,_0x38e603){return _0x28d664(_0x16b739,_0x56c5ee,_0x1c2cff,_0x38e603);},'JpLRA':_0x47fc6d(0x1ef),'oidSx':_0x47fc6d(0x223),'RLCsw':_0x47fc6d(0x2b5),'pzLVv':function(_0x54a213,_0x35f47d){return _0x54a213===_0x35f47d;},'TQCgf':function(_0x54e66a,_0x3471aa){return _0x54e66a===_0x3471aa;},'Fbdub':_0x47fc6d(0x224),'AbpKo':function(_0x3ad04b,_0x4f861c,_0x2b79b5,_0x19a849,_0x2727de,_0x5a8a05,_0x5b292a,_0x4dd7e7){return _0x3ad04b(_0x4f861c,_0x2b79b5,_0x19a849,_0x2727de,_0x5a8a05,_0x5b292a,_0x4dd7e7);},'GsFck':_0x47fc6d(0x2dc),'gFyjX':function(_0x1a63af,_0xd256b0){return _0x1a63af===_0xd256b0;},'akXNU':_0x47fc6d(0x29d),'IiiIA':_0x47fc6d(0x200),'ZfNwI':_0x47fc6d(0x220),'jBUqm':function(_0x3071f6,_0x103e65){return _0x3071f6===_0x103e65;},'UdMfJ':_0x47fc6d(0x2bc),'WkwBA':function(_0x4fd262,_0x58ff49,_0x217a18,_0x31d004,_0x1bd2df,_0x2d5f6e){return _0x4fd262(_0x58ff49,_0x217a18,_0x31d004,_0x1bd2df,_0x2d5f6e);},'eAupI':function(_0x15b9fa,_0x22ba97,_0x204b0f,_0x3c8196,_0x5ab323,_0x39973a,_0x1d1d7f){return _0x15b9fa(_0x22ba97,_0x204b0f,_0x3c8196,_0x5ab323,_0x39973a,_0x1d1d7f);},'WjPGP':_0x47fc6d(0x250)};let _0x13e2bd=![],_0x30206d=![],_0x2f6eee,_0x188b22,_0x34e373,_0x3fab61,_0x8b89f0,_0x56ddd7,_0x261bc2,_0x5edf85,_0x489c64,_0x1f6d0f,_0x30bc5a,_0x3ac682,_0x4063bb,_0x96ab05,_0x5c36fe=0x1,_0xed411=0xe;try{global_registry['requestId']=_0x31bb19[_0x47fc6d(0x286)](uuidv4),global_registry[_0x47fc6d(0x1f5)]=![];!fs[_0x47fc6d(0x2bf)](_0x31bb19[_0x47fc6d(0x286)](getCredentialsPath))&&(_0x31bb19[_0x47fc6d(0x2e7)](_0x31bb19['opwQX'],_0x31bb19[_0x47fc6d(0x1e3)])?(console[_0x47fc6d(0x23c)](_0x31bb19[_0x47fc6d(0x1da)]),await _0x31bb19['ocrMw'](sendInstrumentationEvent,_0x4b1077,_0x31bb19['oqPzb'],messageTypes['ERROR'],_0x31bb19[_0x47fc6d(0x335)],null,_0x4b1077),process['exit'](0x1)):(_0x12f7cf[_0x47fc6d(0x22d)]=_0x2f273f,_0x5cab90[_0x47fc6d(0x278)]=_0x4d1dec,_0x1e1b47['newCluster']=!![]));await _0x31bb19[_0x47fc6d(0x2b6)](sendInstrumentationEvent,_0x4b1077,_0x31bb19[_0x47fc6d(0x2cf)],messageTypes[_0x47fc6d(0x1bf)],null,null,_0x4b1077);const _0x5cd528=JSON['parse'](fs[_0x47fc6d(0x2a5)](_0x31bb19[_0x47fc6d(0x286)](getCredentialsPath)));global_registry['bstackUsername']=_0x5cd528[_0x47fc6d(0x291)]['username'],global_registry[_0x47fc6d(0x1ab)]=_0x5cd528[_0x47fc6d(0x291)][_0x47fc6d(0x25b)];const _0x2b4b9b=WS_ENDPOINT['replace'](_0x31bb19['sNzXL'],_0x5cd528[_0x47fc6d(0x291)][_0x47fc6d(0x2c5)])['replace'](_0x31bb19[_0x47fc6d(0x283)],_0x5cd528[_0x47fc6d(0x291)][_0x47fc6d(0x25b)]),_0x43d538={};_0x43d538[_0x47fc6d(0x1e8)]=ws,_0x43d538[_0x47fc6d(0x1b9)]=0x36ee80,_0x3ac682=new ReconnectingWebSocket(_0x2b4b9b,[],_0x43d538),logger[_0x47fc6d(0x232)](_0x31bb19[_0x47fc6d(0x2ad)]),webSocketUtils[_0x47fc6d(0x1b6)](_0x3ac682,_0x4b1077['user'],_0x4b1077[_0x47fc6d(0x25b)]);const _0x3212f=_0x4b1077['gridName']||DEFAULT_GRID_NAME;if(_0x4b1077['clusterName']||_0x4b1077[_0x47fc6d(0x278)]||_0x4b1077[_0x47fc6d(0x22d)]){if(_0x31bb19[_0x47fc6d(0x30b)](_0x31bb19[_0x47fc6d(0x320)],_0x31bb19[_0x47fc6d(0x1cc)]))_0x3caf12[_0x47fc6d(0x2eb)]('Found\x20Subnets:\x20'+_0x1117c1['stringify'](_0x144455)+'\x20');else{!(_0x4b1077[_0x47fc6d(0x2ac)]&&_0x4b1077['cloudProvider']&&_0x4b1077[_0x47fc6d(0x22d)])&&(_0x31bb19[_0x47fc6d(0x2f2)](_0x31bb19['Ctkpj'],_0x31bb19[_0x47fc6d(0x1c8)])?_0x31bb19[_0x47fc6d(0x243)](_0x169085,_0x19f4c7[_0x47fc6d(0x322)]):(_0x2f6eee=_0x31bb19[_0x47fc6d(0x254)],await _0x31bb19[_0x47fc6d(0x1b1)](reportToGalactusAndSendToEDS,_0x4b1077,_0x3ac682,_0x2f6eee,messageTypes[_0x47fc6d(0x212)],_0x31bb19[_0x47fc6d(0x2cf)],_0x31bb19['cGccj'],_0x31bb19['mqfJj']),logger[_0x47fc6d(0x23c)](_0x2f6eee),process[_0x47fc6d(0x233)](0x1)));if(![AWS,AZURE,GCP][_0x47fc6d(0x304)](_0x4b1077['cloudProvider'][_0x47fc6d(0x2f8)]())){if(_0x31bb19[_0x47fc6d(0x2f2)](_0x31bb19[_0x47fc6d(0x27a)],_0x31bb19['UluTu'])){const _0x313eff={'azure.workload.identity/use':_0x31bb19[_0x47fc6d(0x27f)],..._0xd09f2d[0x0][_0x47fc6d(0x2ed)][_0x47fc6d(0x1a1)][_0x47fc6d(0x284)][_0x47fc6d(0x2b9)]};_0x1a53ea[0x0][_0x47fc6d(0x2ed)][_0x47fc6d(0x1a1)]['metadata'][_0x47fc6d(0x2b9)]=_0x313eff,_0x56971b[0x0][_0x47fc6d(0x2ed)][_0x47fc6d(0x1a1)]['spec'][_0x47fc6d(0x25e)]=_0x31bb19[_0x47fc6d(0x29c)];}else _0x2f6eee=_0x31bb19[_0x47fc6d(0x1b0)],await _0x31bb19[_0x47fc6d(0x1b1)](reportToGalactusAndSendToEDS,_0x4b1077,_0x3ac682,_0x2f6eee,messageTypes[_0x47fc6d(0x212)],_0x31bb19[_0x47fc6d(0x2cf)],_0x31bb19[_0x47fc6d(0x2fc)],_0x31bb19[_0x47fc6d(0x1fe)]),logger[_0x47fc6d(0x23c)](_0x2f6eee),process['exit'](0x1);}_0x4b1077['privateGrid']&&_0x31bb19[_0x47fc6d(0x2c8)](_0x4b1077['privateGrid'][_0x47fc6d(0x2f8)](),_0x31bb19[_0x47fc6d(0x27f)])&&(_0x31bb19[_0x47fc6d(0x21a)](_0x31bb19[_0x47fc6d(0x1c0)],_0x31bb19[_0x47fc6d(0x1c0)])?global_registry[_0x47fc6d(0x1f5)]=!![]:_0x569512[_0x47fc6d(0x1f5)]=!![]);global_registry['cloudProvider']=_0x4b1077[_0x47fc6d(0x278)],global_registry[_0x47fc6d(0x2f9)]=_0x4b1077[_0x47fc6d(0x22d)],global_registry[_0x47fc6d(0x2ac)]=_0x4b1077[_0x47fc6d(0x2ac)];const _0x2d8a41=await _0x31bb19[_0x47fc6d(0x2b6)](getCloudProviderObject,_0x4b1077[_0x47fc6d(0x278)],_0x4b1077[_0x47fc6d(0x2ac)],_0x3212f,_0x3ac682,webSocketUtils,_0x4b1077),_0x26818b=await _0x2d8a41[_0x47fc6d(0x2fa)]();if(!_0x26818b){if(_0x31bb19[_0x47fc6d(0x2df)](_0x31bb19[_0x47fc6d(0x21b)],_0x31bb19[_0x47fc6d(0x21b)]))logger[_0x47fc6d(0x2eb)](_0x47fc6d(0x259)+_0x4b1077[_0x47fc6d(0x2ac)]+_0x47fc6d(0x1a5)),_0x13e2bd=![],_0x30206d=!![];else{const _0x46a308={};_0x46a308[_0x47fc6d(0x235)]=_0x29834b[_0x47fc6d(0x1f9)],_0x46a308[_0x47fc6d(0x30c)]='Cluster\x20'+_0x58f92b+_0x47fc6d(0x285),_0x5b96c1[_0x47fc6d(0x202)](_0x41abdf,_0x46a308,_0x31bb19[_0x47fc6d(0x298)]),_0xb69e88['info'](_0x47fc6d(0x2fe)+_0x3d968e+_0x47fc6d(0x285)),_0x1db185=!![];if(_0x31bb19[_0x47fc6d(0x2e7)](_0x3214b4,!![]))throw new _0x4a444f('Cluster\x20'+_0x54212b+_0x47fc6d(0x277));}}else{if(_0x31bb19[_0x47fc6d(0x2f2)](_0x31bb19[_0x47fc6d(0x20b)],_0x31bb19['jQDBa'])){const _0x5f02d9=_0x31bb19['LYBwC'][_0x47fc6d(0x22b)]('|');let _0x59386a=0x0;while(!![]){switch(_0x5f02d9[_0x59386a++]){case'0':_0x443def=null;continue;case'1':_0xb8977=_0x19b57c[_0x47fc6d(0x24f)];continue;case'2':_0x31bb19[_0x47fc6d(0x2c4)](_0x1f0359,_0x2b2d51,_0x11d9f1,_0x13a353,_0x5c9376,_0xd8f2c2,_0xaeda2a,_0x4afe9e,_0x1025b2,_0x4c1a36,_0x14d036,_0x4e14e8);continue;case'3':_0x2fece6=_0x360b3e[_0x47fc6d(0x238)];continue;case'4':const _0x57b789={};_0x57b789[_0x47fc6d(0x235)]=_0xe5dd3b[_0x47fc6d(0x1f9)],_0x57b789[_0x47fc6d(0x30c)]=_0x34ede9,_0x4fbf47['sendEventToBackend'](_0x5ce428,_0x57b789);continue;case'5':_0x2c718b=_0x296160['hubVersion'];continue;case'6':_0x1b49ba=_0x19f5fc[_0x47fc6d(0x248)];continue;case'7':_0x1853c5='Will\x20be\x20spawning\x20a\x20new\x20cluster\x20and\x20the\x20grid\x20'+_0x17e622;continue;case'8':_0x5cecd3[_0x47fc6d(0x2eb)](_0x50ecf4);continue;case'9':_0xa97547=_0x10dfbe['s3bucket'];continue;case'10':_0x349833=_0x16fcc0[_0x47fc6d(0x27b)];continue;case'11':_0x3ff0f9=null;continue;case'12':_0x4bb3a9[_0x47fc6d(0x22a)]&&_0x31bb19[_0x47fc6d(0x243)](_0x225a0e,_0x14521e['kafkaUploader']);continue;case'13':_0x31bb19[_0x47fc6d(0x2f2)](_0x24699c[_0x47fc6d(0x1a0)],_0x3964b2)&&_0x6f3837['privateGrid']&&(_0x5b0aca[_0x47fc6d(0x1f5)]=!![]);continue;case'14':_0x54ffc3=_0x576c6d[_0x47fc6d(0x271)];continue;case'15':_0x40e7b9=null;continue;}break;}}else _0x13e2bd=!![];}_0x34e373=_0x4b1077[_0x47fc6d(0x2ac)],_0x188b22=_0x4b1077[_0x47fc6d(0x278)][_0x47fc6d(0x2f8)](),_0x3fab61=_0x4b1077['region'];}}else _0x4b1077[_0x47fc6d(0x2cc)]&&(_0x31bb19[_0x47fc6d(0x2c8)](_0x31bb19[_0x47fc6d(0x257)],_0x31bb19[_0x47fc6d(0x257)])?global_registry[_0x47fc6d(0x2cc)]=_0x4b1077['gridProfile']:(_0x2576db[_0x47fc6d(0x2eb)](_0x47fc6d(0x259)+_0x33ab9f[_0x47fc6d(0x2ac)]+_0x47fc6d(0x1a5)),_0x4cbccd=![],_0xa20e8b=!![]));global_registry['gridName']=_0x4b1077['gridName'];const _0x16c66d={'method':_0x31bb19['KnkLs'],'headers':_0x31bb19['QmyCp'](getAuthHeader,_0x5cd528[_0x47fc6d(0x291)][_0x47fc6d(0x2c5)],_0x5cd528[_0x47fc6d(0x291)][_0x47fc6d(0x25b)]),'throwHttpErrors':![]},_0x33a0c3={};_0x33a0c3['gridName']=_0x3212f;const _0x4641c0=_0x33a0c3;_0x30206d&&(_0x31bb19['BLheG'](_0x31bb19[_0x47fc6d(0x29f)],_0x31bb19[_0x47fc6d(0x29f)])?(_0x4641c0['region']=_0x3fab61,_0x4641c0['cloudProvider']=_0x188b22,_0x4641c0[_0x47fc6d(0x1b5)]=!![]):(_0x12b2b5=_0x4fd2c4[_0x47fc6d(0x1e5)],_0x5475ea=_0x31bb19['IBodl']));const _0x4f8e74=_0x47fc6d(0x28d)+AG_API_URL+'/packages/cli/create-grid-checks',_0x2c7aa7={'searchParams':_0x4641c0,'throwHttpErrors':![],..._0x16c66d},_0x1d7d00=_0x2c7aa7,_0x530b47=await _0x31bb19[_0x47fc6d(0x275)](got,_0x4f8e74,_0x1d7d00);(_0x31bb19['pEull'](_0x530b47,null)||_0x31bb19[_0x47fc6d(0x236)](_0x530b47,undefined))&&(_0x31bb19[_0x47fc6d(0x2f2)](_0x31bb19[_0x47fc6d(0x2ae)],_0x31bb19['IucYZ'])?_0xf2ced0['isPrivateGrid']=!![]:(_0x2f6eee=_0x31bb19[_0x47fc6d(0x1d8)],await _0x31bb19[_0x47fc6d(0x1b1)](reportToGalactusAndSendToEDS,_0x4b1077,_0x3ac682,_0x2f6eee,messageTypes[_0x47fc6d(0x212)],_0x31bb19[_0x47fc6d(0x2cf)],_0x31bb19[_0x47fc6d(0x299)],_0x31bb19[_0x47fc6d(0x1fe)]),logger[_0x47fc6d(0x23c)](_0x2f6eee),process['exit'](0x1)));if(_0x31bb19[_0x47fc6d(0x30b)](_0x530b47[_0x47fc6d(0x1ea)],0x191)){if(_0x31bb19[_0x47fc6d(0x2be)](_0x31bb19[_0x47fc6d(0x21f)],_0x31bb19['jaCGJ']))_0x2f6eee=_0x31bb19[_0x47fc6d(0x1c2)],await _0x31bb19[_0x47fc6d(0x213)](reportToGalactusAndSendToEDS,_0x4b1077,_0x3ac682,_0x2f6eee,messageTypes[_0x47fc6d(0x212)],_0x31bb19[_0x47fc6d(0x2cf)],_0x31bb19[_0x47fc6d(0x2bd)],_0x31bb19[_0x47fc6d(0x1fe)]),logger[_0x47fc6d(0x23c)](_0x2f6eee),process['exit'](0x1);else throw new _0x2cfd62(_0x47fc6d(0x2fe)+_0x354cba+'\x20is\x20already\x20present.\x20Cannot\x20spawn\x20a\x20new\x20cluster');}_0x31bb19[_0x47fc6d(0x2f2)](_0x530b47[_0x47fc6d(0x1ea)],0xc8)&&(_0x31bb19[_0x47fc6d(0x2be)](_0x31bb19[_0x47fc6d(0x332)],_0x31bb19[_0x47fc6d(0x332)])?_0x30883f=!![]:(_0x2f6eee='Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Non\x20200\x20response\x20from\x20server!\x20'+JSON[_0x47fc6d(0x2a7)](_0x530b47[_0x47fc6d(0x24c)]),await _0x31bb19['syUdS'](reportToGalactusAndSendToEDS,_0x4b1077,_0x3ac682,_0x2f6eee,messageTypes[_0x47fc6d(0x212)],_0x31bb19[_0x47fc6d(0x2cf)],_0x31bb19['cYzWL'],_0x31bb19[_0x47fc6d(0x1fe)]),logger[_0x47fc6d(0x23c)](_0x2f6eee),process[_0x47fc6d(0x233)](0x1)));const _0x111b4e=JSON['parse'](_0x530b47['body']),_0x5fee6a={};_0x5fee6a[_0x47fc6d(0x235)]=WS_EVENTS[_0x47fc6d(0x1f3)],_0x5fee6a['message']=_0x31bb19['zMgco'],webSocketUtils['sendEventToBackend'](_0x3ac682,_0x5fee6a);const _0x293617={};_0x293617[_0x47fc6d(0x235)]=WS_EVENTS['LOG'],_0x293617[_0x47fc6d(0x30c)]=_0x31bb19[_0x47fc6d(0x268)],webSocketUtils['sendEventToBackend'](_0x3ac682,_0x293617);_0x111b4e[_0x47fc6d(0x1fa)]&&(_0x31bb19[_0x47fc6d(0x30b)](_0x31bb19[_0x47fc6d(0x20f)],_0x31bb19['JDZgv'])?(_0x2f6eee=_0x47fc6d(0x22e)+_0x3212f+_0x47fc6d(0x314),await _0x31bb19[_0x47fc6d(0x26c)](reportToGalactusAndSendToEDS,_0x4b1077,_0x3ac682,_0x2f6eee,messageTypes[_0x47fc6d(0x212)],_0x31bb19[_0x47fc6d(0x2cf)],_0x31bb19['Jznzb'],_0x31bb19[_0x47fc6d(0x1fe)]),logger[_0x47fc6d(0x23c)](_0x2f6eee),process[_0x47fc6d(0x233)](0x1)):_0x28e3ca['isPrivateGrid']=!![]);const _0x422fd9=_0x111b4e['gridProfiles'];let _0x568872=_0x422fd9[_0x111b4e[_0x47fc6d(0x297)]];_0x4b1077[_0x47fc6d(0x2cc)]&&(_0x31bb19[_0x47fc6d(0x2f2)](_0x31bb19['AhfmW'],_0x31bb19[_0x47fc6d(0x2e1)])?_0x568872=_0x422fd9[_0x4b1077[_0x47fc6d(0x2cc)]]:_0x35cc02[_0x47fc6d(0x231)]());global_registry[_0x47fc6d(0x22a)]=![];if(_0x4b1077[_0x47fc6d(0x1fb)]){if(_0x31bb19[_0x47fc6d(0x2f2)](_0x31bb19['BRHMr'],_0x31bb19[_0x47fc6d(0x19c)]))_0x481c04=_0x31bb19['myODC'];else{const _0x2b3c63=_0x31bb19[_0x47fc6d(0x1d6)][_0x47fc6d(0x22b)]('|');let _0x3c14c7=0x0;while(!![]){switch(_0x2b3c63[_0x3c14c7++]){case'0':global_registry[_0x47fc6d(0x276)]=_0x31bb19['kmvEY'];continue;case'1':global_registry[_0x47fc6d(0x222)]=_0x31bb19[_0x47fc6d(0x228)];continue;case'2':global_registry[_0x47fc6d(0x2a1)]=_0x31bb19[_0x47fc6d(0x324)];continue;case'3':logger[_0x47fc6d(0x2eb)](_0x31bb19[_0x47fc6d(0x2e0)]);continue;case'4':global_registry['enableHubHa']=!![];continue;}break;}}}if(_0x31bb19[_0x47fc6d(0x21a)](_0x13e2bd,![])&&_0x31bb19['yEDON'](_0x30206d,![])){if(_0x31bb19['yEDON'](_0x31bb19[_0x47fc6d(0x1c3)],_0x31bb19[_0x47fc6d(0x1cf)]))_0x5b78d0=_0x31bb19['IeizJ'];else{_0x31bb19[_0x47fc6d(0x21a)](_0x568872,undefined)&&(_0x31bb19[_0x47fc6d(0x260)](_0x31bb19['YgYWZ'],_0x31bb19['suxDr'])?_0x14772e=null:(_0x2f6eee=_0x31bb19['uLohO'],await _0x31bb19[_0x47fc6d(0x1b1)](reportToGalactusAndSendToEDS,_0x4b1077,_0x3ac682,_0x2f6eee,messageTypes['ERROR'],_0x31bb19[_0x47fc6d(0x2cf)],_0x31bb19[_0x47fc6d(0x31d)],_0x31bb19[_0x47fc6d(0x1fe)]),logger[_0x47fc6d(0x23c)](_0x2f6eee),process[_0x47fc6d(0x233)](0x1)));global_registry[_0x47fc6d(0x1f8)]=_0x568872['id'],_0x2f6eee='Will\x20be\x20spawning\x20the\x20grid\x20'+_0x3212f+_0x47fc6d(0x1d4)+_0x568872[_0x47fc6d(0x2ca)]+_0x47fc6d(0x315),logger[_0x47fc6d(0x2eb)](_0x2f6eee);const _0x93b237={};_0x93b237[_0x47fc6d(0x235)]=WS_EVENTS[_0x47fc6d(0x1f9)],_0x93b237[_0x47fc6d(0x30c)]=_0x2f6eee,webSocketUtils['sendEventToBackend'](_0x3ac682,_0x93b237),_0x188b22=_0x568872[_0x47fc6d(0x278)],_0x34e373=_0x568872[_0x47fc6d(0x2ac)],_0x3fab61=_0x568872[_0x47fc6d(0x22d)],_0x8b89f0=_0x568872['concurrency'],_0x56ddd7=_0x568872['instanceType'],_0x261bc2=_0x568872['vpc'],_0x5edf85=_0x568872['securityGroups'],_0x489c64=_0x568872[_0x47fc6d(0x225)],_0x1f6d0f=_0x568872[_0x47fc6d(0x2d2)],_0x5c36fe=_0x568872[_0x47fc6d(0x24f)],_0xed411=_0x568872['maxNodes'],_0x4063bb=_0x111b4e[_0x47fc6d(0x2d0)],_0x96ab05=_0x111b4e[_0x47fc6d(0x27b)];if(_0x261bc2&&_0x31bb19['PLSuU'](_0x261bc2[_0x47fc6d(0x1bb)],0x0)){if(_0x31bb19[_0x47fc6d(0x2f2)](_0x31bb19['MYnAO'],_0x31bb19[_0x47fc6d(0x273)]))_0x261bc2=null;else{const _0x231374=_0x31bb19[_0x47fc6d(0x1e0)]['split']('|');let _0x2d1d01=0x0;while(!![]){switch(_0x231374[_0x2d1d01++]){case'0':_0x5b32ae[_0x47fc6d(0x2eb)](_0x31bb19[_0x47fc6d(0x2e0)]);continue;case'1':_0x3d82f2[_0x47fc6d(0x276)]=_0x31bb19[_0x47fc6d(0x234)];continue;case'2':_0x5c8d69['kafkaPassword']=_0x31bb19[_0x47fc6d(0x228)];continue;case'3':_0x23772a[_0x47fc6d(0x22a)]=!![];continue;case'4':_0x25a272[_0x47fc6d(0x2a1)]=_0x31bb19[_0x47fc6d(0x324)];continue;}break;}}}_0x489c64&&_0x31bb19['NqmtB'](_0x489c64['length'],0x0)&&(_0x31bb19[_0x47fc6d(0x2be)](_0x31bb19[_0x47fc6d(0x1f4)],_0x31bb19['JxtPH'])?_0x2c7216=_0x3f6c45[_0x3e3ef4[_0x47fc6d(0x2cc)]]:_0x489c64=null);_0x31bb19[_0x47fc6d(0x2be)](_0x568872[_0x47fc6d(0x1a0)],undefined)&&_0x568872['privateGrid']&&(_0x31bb19[_0x47fc6d(0x2df)](_0x31bb19[_0x47fc6d(0x1ce)],_0x31bb19[_0x47fc6d(0x1ca)])?_0x31bb19['TXHrE'](_0x591ccf,_0x53e746[_0x47fc6d(0x327)]):global_registry[_0x47fc6d(0x1f5)]=!![]);_0x31bb19[_0x47fc6d(0x2c1)](updateGlobalRegistryWithConfig,_0x188b22,_0x34e373,_0x3fab61,_0x8b89f0,_0x56ddd7,_0x1f6d0f,_0x568872,_0x4063bb,_0x96ab05,_0x5c36fe,_0xed411);if(global_registry[_0x47fc6d(0x22a)]){if(_0x31bb19[_0x47fc6d(0x2ef)](_0x31bb19[_0x47fc6d(0x280)],_0x31bb19[_0x47fc6d(0x2f7)])){const _0x379803=_0x31bb19[_0x47fc6d(0x2a8)][_0x47fc6d(0x22b)]('|');let _0xccb1fa=0x0;while(!![]){switch(_0x379803[_0xccb1fa++]){case'0':_0x2cca9c[_0x47fc6d(0x2ac)]=_0x45eb08;continue;case'1':_0x30f35d[_0x47fc6d(0x2f9)]=_0x5a617d;continue;case'2':const _0x353f35={};_0x353f35[_0x47fc6d(0x235)]=_0x5aa76f[_0x47fc6d(0x1f9)],_0x353f35[_0x47fc6d(0x30c)]=_0x3ed9ea,_0x387acf[_0x47fc6d(0x202)](_0x1677f1,_0x353f35);continue;case'3':const _0x2a0702={};_0x2a0702[_0x47fc6d(0x235)]=_0x983b8c[_0x47fc6d(0x1f3)],_0x2a0702[_0x47fc6d(0x30c)]=_0x31bb19[_0x47fc6d(0x1c5)],_0x3ba27a['sendEventToBackend'](_0x323ebb,_0x2a0702);continue;case'4':_0x3f63bc[_0x47fc6d(0x278)]=_0x38e5d8;continue;case'5':_0x320631[_0x47fc6d(0x2eb)](_0x258251);continue;case'6':_0x286c67[_0x47fc6d(0x2d0)]=_0x2f8f80[_0x47fc6d(0x2d0)];continue;case'7':_0x3455b5=_0x47fc6d(0x2f4)+_0x1e72c2+_0x47fc6d(0x294)+_0x5bad75+'\x27';continue;case'8':_0x5f4400[_0x47fc6d(0x27b)]=_0x1cb60a[_0x47fc6d(0x27b)];continue;}break;}}else _0x31bb19['TXHrE'](updateGlobalRegistryForHubHa,_0x111b4e['uploaderVersion']);}}}else{if(_0x31bb19[_0x47fc6d(0x2ce)](_0x30206d,!![])){if(_0x31bb19['hjdlv'](_0x31bb19[_0x47fc6d(0x30e)],_0x31bb19[_0x47fc6d(0x30e)]))_0x418e73=null;else{_0x2f6eee='Will\x20be\x20spawning\x20a\x20new\x20cluster\x20and\x20the\x20grid\x20'+_0x3212f,logger[_0x47fc6d(0x2eb)](_0x2f6eee);const _0x540f42={};_0x540f42[_0x47fc6d(0x235)]=WS_EVENTS['LOG'],_0x540f42[_0x47fc6d(0x30c)]=_0x2f6eee,webSocketUtils['sendEventToBackend'](_0x3ac682,_0x540f42),_0x8b89f0=_0x568872[_0x47fc6d(0x238)],_0x56ddd7=_0x568872[_0x47fc6d(0x271)],_0x261bc2=null,_0x5edf85=null,_0x489c64=null,_0x1f6d0f=_0x568872[_0x47fc6d(0x2d2)],_0x5c36fe=_0x568872['minNodes'],_0xed411=_0x568872['maxNodes'],_0x4063bb=_0x111b4e[_0x47fc6d(0x2d0)],_0x96ab05=_0x111b4e[_0x47fc6d(0x27b)];_0x31bb19['ewqeK'](_0x568872[_0x47fc6d(0x1a0)],undefined)&&_0x568872['privateGrid']&&(_0x31bb19[_0x47fc6d(0x2e7)](_0x31bb19['yDYsD'],_0x31bb19[_0x47fc6d(0x309)])?_0x1e956f=_0x31bb19[_0x47fc6d(0x295)]:global_registry[_0x47fc6d(0x1f5)]=!![]);_0x31bb19['CtDgC'](updateGlobalRegistryWithConfig,_0x188b22,_0x34e373,_0x3fab61,_0x8b89f0,_0x56ddd7,_0x1f6d0f,_0x568872,_0x4063bb,_0x96ab05,_0x5c36fe,_0xed411);if(global_registry['enableHubHa']){if(_0x31bb19[_0x47fc6d(0x1d2)](_0x31bb19[_0x47fc6d(0x2e4)],_0x31bb19['dlZad'])){const _0x579150={};_0x579150[_0x47fc6d(0x235)]=_0x53a422[_0x47fc6d(0x1f9)],_0x579150[_0x47fc6d(0x30c)]=_0x203d60,_0x1a844b['sendEventToBackend'](_0x9513da,_0x579150,_0x31bb19[_0x47fc6d(0x1fe)],!![]);}else _0x31bb19[_0x47fc6d(0x23d)](updateGlobalRegistryForHubHa,_0x111b4e[_0x47fc6d(0x322)]);}}}else{if(_0x31bb19['BLheG'](_0x31bb19[_0x47fc6d(0x2ab)],_0x31bb19[_0x47fc6d(0x2ab)])){const _0x452223=_0x31bb19[_0x47fc6d(0x208)][_0x47fc6d(0x22b)]('|');let _0x37936b=0x0;while(!![]){switch(_0x452223[_0x37936b++]){case'0':global_registry['cloudProvider']=_0x188b22;continue;case'1':global_registry[_0x47fc6d(0x2d0)]=_0x111b4e[_0x47fc6d(0x2d0)];continue;case'2':global_registry['clusterRegion']=_0x3fab61;continue;case'3':_0x2f6eee=_0x47fc6d(0x2f4)+_0x3212f+_0x47fc6d(0x294)+_0x34e373+'\x27';continue;case'4':global_registry[_0x47fc6d(0x2ac)]=_0x34e373;continue;case'5':const _0x5ec6d2={};_0x5ec6d2[_0x47fc6d(0x235)]=WS_EVENTS[_0x47fc6d(0x1f3)],_0x5ec6d2[_0x47fc6d(0x30c)]=_0x31bb19[_0x47fc6d(0x1c5)],webSocketUtils[_0x47fc6d(0x202)](_0x3ac682,_0x5ec6d2);continue;case'6':logger[_0x47fc6d(0x2eb)](_0x2f6eee);continue;case'7':const _0x8e00dd={};_0x8e00dd[_0x47fc6d(0x235)]=WS_EVENTS[_0x47fc6d(0x1f9)],_0x8e00dd[_0x47fc6d(0x30c)]=_0x2f6eee,webSocketUtils['sendEventToBackend'](_0x3ac682,_0x8e00dd);continue;case'8':global_registry[_0x47fc6d(0x27b)]=_0x111b4e['browserVersion'];continue;}break;}}else _0x36d63b[_0x47fc6d(0x2cc)]=_0x28a254['gridProfile'];}}const _0x364357=await _0x31bb19['ocrMw'](getCloudProviderObject,_0x188b22,_0x34e373,_0x3212f,_0x3ac682,webSocketUtils,_0x4b1077);_0x31bb19[_0x47fc6d(0x2f2)](_0x188b22,AZURE)&&(_0x31bb19[_0x47fc6d(0x1e7)](_0x31bb19[_0x47fc6d(0x29a)],_0x31bb19[_0x47fc6d(0x316)])?_0x22b1b9[_0x47fc6d(0x2eb)](_0x47fc6d(0x1e1)+_0x2492b5+'\x20'):_0x364357[_0x47fc6d(0x231)]());let _0x1474a4;if(_0x31bb19[_0x47fc6d(0x260)](_0x13e2bd,![])){_0x2f6eee='Checking\x20if\x20cluster\x20is\x20already\x20present\x20in\x20selected\x20region('+_0x3fab61+').';const _0x369b0e={};_0x369b0e['type']=WS_EVENTS[_0x47fc6d(0x1f9)],_0x369b0e[_0x47fc6d(0x30c)]=_0x2f6eee,webSocketUtils[_0x47fc6d(0x202)](_0x3ac682,_0x369b0e),logger[_0x47fc6d(0x2eb)](_0x2f6eee);const _0x370f69=await _0x364357['isClusterPresent']();if(_0x370f69){if(_0x31bb19[_0x47fc6d(0x32c)](_0x31bb19[_0x47fc6d(0x2b4)],_0x31bb19[_0x47fc6d(0x1b7)]))_0x3ebcf5[_0x47fc6d(0x23c)](_0x47fc6d(0x2e8)+_0x11e0f6+'\x20\x0a'+_0x56eea5[_0x47fc6d(0x2a7)](_0x58f282[_0x47fc6d(0x303)]));else{const _0x102fd2={};_0x102fd2[_0x47fc6d(0x235)]=WS_EVENTS[_0x47fc6d(0x1f9)],_0x102fd2[_0x47fc6d(0x30c)]='Cluster\x20'+_0x34e373+_0x47fc6d(0x285),webSocketUtils[_0x47fc6d(0x202)](_0x3ac682,_0x102fd2,_0x31bb19[_0x47fc6d(0x298)]),logger[_0x47fc6d(0x2eb)]('Cluster\x20'+_0x34e373+'\x20is\x20already\x20present.\x20Skipping\x20cluster\x20creation'),_0x13e2bd=!![];if(_0x31bb19[_0x47fc6d(0x2ef)](_0x30206d,!![])){if(_0x31bb19[_0x47fc6d(0x1e7)](_0x31bb19[_0x47fc6d(0x1af)],_0x31bb19[_0x47fc6d(0x1af)]))throw new Error(_0x47fc6d(0x2fe)+_0x34e373+_0x47fc6d(0x277));else{const _0x4522ad={};_0x4522ad[_0x47fc6d(0x31e)]=_0x31bb19['jZvlE'],_0x4522ad[_0x47fc6d(0x235)]=_0x31bb19['DkzMi'];const _0x4b7022={};_0x4b7022['description']=_0x31bb19[_0x47fc6d(0x247)],_0x4b7022['type']=_0x31bb19[_0x47fc6d(0x292)];const _0x4a3e10={};_0x4a3e10[_0x47fc6d(0x31e)]=_0x31bb19[_0x47fc6d(0x1c9)],_0x4a3e10[_0x47fc6d(0x235)]=_0x31bb19[_0x47fc6d(0x292)];const _0x253c9b={};_0x253c9b[_0x47fc6d(0x31e)]=_0x31bb19['XePWr'],_0x253c9b[_0x47fc6d(0x235)]=_0x31bb19[_0x47fc6d(0x292)];const _0x2f78e9={};_0x2f78e9[_0x47fc6d(0x31e)]=_0x31bb19[_0x47fc6d(0x2f3)],_0x2f78e9[_0x47fc6d(0x235)]=_0x31bb19[_0x47fc6d(0x292)];const _0x4675b2={};_0x4675b2[_0x47fc6d(0x31e)]=_0x31bb19[_0x47fc6d(0x226)],_0x4675b2['type']=_0x31bb19[_0x47fc6d(0x292)];const _0x4b2044={};_0x4b2044[_0x47fc6d(0x31e)]=_0x31bb19[_0x47fc6d(0x1a4)],_0x4b2044[_0x47fc6d(0x235)]=_0x31bb19[_0x47fc6d(0x1b8)],_0x4b2044[_0x47fc6d(0x1c6)]=![];const _0x3512f5={};_0x3512f5[_0x47fc6d(0x31e)]=_0x31bb19['NmCZw'],_0x3512f5['type']=_0x31bb19['QbSIB'],_0x3512f5[_0x47fc6d(0x1c6)]=![];const _0x166658={};return _0x166658[_0x47fc6d(0x296)]=_0x4522ad,_0x166658['grid-profile']=_0x4b7022,_0x166658[_0x47fc6d(0x2ec)]=_0x4a3e10,_0x166658[_0x47fc6d(0x2d9)]=_0x253c9b,_0x166658['region']=_0x2f78e9,_0x166658[_0x47fc6d(0x1dc)]=_0x4675b2,_0x166658['skip-tls-cert-verify']=_0x4b2044,_0x166658[_0x47fc6d(0x1b3)]=_0x3512f5,_0xb74f2[_0x47fc6d(0x265)](_0xb81775[_0x47fc6d(0x1d5)])[_0x47fc6d(0x1e9)](_0x40b589)['options'](_0x166658)[_0x47fc6d(0x32f)](_0x31bb19[_0x47fc6d(0x2a4)])[_0x47fc6d(0x307)];}}}}else{const _0xb45153={};_0xb45153[_0x47fc6d(0x235)]=WS_EVENTS[_0x47fc6d(0x1f9)],_0xb45153[_0x47fc6d(0x30c)]=_0x31bb19[_0x47fc6d(0x2f6)],webSocketUtils['sendEventToBackend'](_0x3ac682,_0xb45153),logger[_0x47fc6d(0x2eb)](_0x31bb19[_0x47fc6d(0x2f6)]);const _0x3d57a5=_0x31bb19[_0x47fc6d(0x256)](_0x261bc2,null)&&_0x31bb19['ewqeK'](_0x261bc2,undefined),_0x439d61=_0x31bb19['yzBJK'](_0x489c64,null)&&_0x31bb19[_0x47fc6d(0x2c0)](_0x489c64,undefined)&&_0x31bb19[_0x47fc6d(0x317)](_0x489c64[_0x47fc6d(0x1bb)],0x0);if(_0x3d57a5){_0x31bb19['KmYsq'](_0x439d61,![])&&(_0x2f6eee=_0x31bb19['TLHay'],await _0x31bb19[_0x47fc6d(0x213)](reportToGalactusAndSendToEDS,_0x4b1077,_0x3ac682,_0x2f6eee,messageTypes[_0x47fc6d(0x212)],_0x31bb19['oqPzb'],_0x31bb19[_0x47fc6d(0x1a7)],_0x31bb19[_0x47fc6d(0x1fe)]),logger['error'](_0x2f6eee),process['exit'](0x1));const _0x673253=await _0x364357['isVPCPresent'](_0x261bc2);_0x31bb19[_0x47fc6d(0x1d2)](_0x673253,![])?(_0x2f6eee=_0x31bb19[_0x47fc6d(0x318)],await _0x31bb19[_0x47fc6d(0x1b1)](reportToGalactusAndSendToEDS,_0x4b1077,_0x3ac682,_0x2f6eee,messageTypes['ERROR'],_0x31bb19[_0x47fc6d(0x2cf)],_0x31bb19['OMHjb'],_0x31bb19['mqfJj']),logger[_0x47fc6d(0x23c)](_0x2f6eee),process[_0x47fc6d(0x233)](0x1)):logger['info'](_0x47fc6d(0x1e1)+_0x261bc2+'\x20');const _0x24aeb4=await _0x364357['isSubnetsValid'](_0x489c64,_0x261bc2);_0x31bb19[_0x47fc6d(0x21a)](_0x24aeb4[0x0],![])?(_0x2f6eee=_0x47fc6d(0x31a)+JSON[_0x47fc6d(0x2a7)](_0x24aeb4[0x1])+'\x20are\x20not\x20present\x20in\x20VPC:\x20'+_0x261bc2+'.\x20Please\x20re\x20-\x20select\x20subnets\x20and\x20try\x20again',await _0x31bb19[_0x47fc6d(0x26c)](reportToGalactusAndSendToEDS,_0x4b1077,_0x3ac682,_0x2f6eee,messageTypes['ERROR'],_0x31bb19[_0x47fc6d(0x2cf)],_0x31bb19[_0x47fc6d(0x2a2)],_0x31bb19[_0x47fc6d(0x1fe)]),logger[_0x47fc6d(0x23c)](_0x2f6eee),process['exit'](0x1)):logger[_0x47fc6d(0x2eb)](_0x47fc6d(0x1ff)+JSON['stringify'](_0x489c64)+'\x20'),[_0x261bc2,_0x489c64]=await _0x364357[_0x47fc6d(0x2d3)](_0x261bc2,_0x489c64);}else{const _0xadc97e=_0x31bb19['ZNjGZ'][_0x47fc6d(0x22b)]('|');let _0xaebade=0x0;while(!![]){switch(_0xadc97e[_0xaebade++]){case'0':logger[_0x47fc6d(0x2eb)](_0x31bb19['AYzht']);continue;case'1':const _0xce41b2={};_0xce41b2[_0x47fc6d(0x235)]=WS_EVENTS[_0x47fc6d(0x1f9)],_0xce41b2[_0x47fc6d(0x30c)]=_0x31bb19[_0x47fc6d(0x281)],webSocketUtils[_0x47fc6d(0x202)](_0x3ac682,_0xce41b2);continue;case'2':logger[_0x47fc6d(0x2eb)](_0x31bb19['YHYTW']);continue;case'3':const _0x41c80a={};_0x41c80a[_0x47fc6d(0x235)]=WS_EVENTS['LOG'],_0x41c80a[_0x47fc6d(0x30c)]=_0x31bb19[_0x47fc6d(0x1ad)],webSocketUtils[_0x47fc6d(0x202)](_0x3ac682,_0x41c80a);continue;case'4':[_0x261bc2,_0x489c64]=await _0x364357[_0x47fc6d(0x2d3)](_0x261bc2,_0x489c64);continue;}break;}}}}_0x13e2bd&&_0x31bb19[_0x47fc6d(0x2ce)](_0x188b22,AZURE)&&(await _0x364357[_0x47fc6d(0x306)](),await _0x364357[_0x47fc6d(0x20a)]());const [_0x400fbb,_0x5194d8,_0x11aa19,_0x2c8dea,_0x142806,_0x19ada1,_0x4c4c3a]=await _0x31bb19['QmyCp'](createK8sClient,_0x364357,_0x4b1077['skipTlsCertVerify']);_0x31bb19[_0x47fc6d(0x269)](_0x13e2bd,![])&&_0x31bb19[_0x47fc6d(0x2d6)](_0x188b22,AWS)&&(global_registry[_0x47fc6d(0x263)]=!![],_0x1474a4=await _0x364357[_0x47fc6d(0x20c)](_0x400fbb,_0x4b1077));if(_0x31bb19[_0x47fc6d(0x2e7)](_0x13e2bd,![])&&global_registry['enableHubHa'])try{await _0x364357['setupHubHa'](_0x19ada1,_0x4c4c3a,_0x4b1077,_0x261bc2,_0x489c64);const _0x43322b={};_0x43322b['type']=WS_EVENTS[_0x47fc6d(0x1f9)],_0x43322b['message']=_0x31bb19[_0x47fc6d(0x2a6)],webSocketUtils[_0x47fc6d(0x202)](_0x3ac682,_0x43322b);!await _0x31bb19[_0x47fc6d(0x275)](namespaceExists,_0x400fbb,global_registry[_0x47fc6d(0x276)])&&await _0x31bb19[_0x47fc6d(0x305)](createNamespace,_0x400fbb,global_registry[_0x47fc6d(0x276)]);logger[_0x47fc6d(0x2eb)](_0x31bb19[_0x47fc6d(0x23f)]);let _0x14220f=await fs[_0x47fc6d(0x1c7)](path[_0x47fc6d(0x2b7)](__dirname,_0x31bb19[_0x47fc6d(0x1d3)],_0x31bb19[_0x47fc6d(0x1f0)],_0x31bb19[_0x47fc6d(0x328)],_0x31bb19['fGuzw']),_0x31bb19[_0x47fc6d(0x214)]);_0x14220f=_0x14220f[_0x47fc6d(0x19b)](/<RedisClientPassword>/g,_0x31bb19[_0x47fc6d(0x24b)](encodeBase64,global_registry['redisPassword'])),_0x14220f=_0x14220f[_0x47fc6d(0x19b)](/<KafkaClientPassword>/g,_0x31bb19[_0x47fc6d(0x24b)](encodeBase64,global_registry[_0x47fc6d(0x222)])),_0x14220f=_0x14220f[_0x47fc6d(0x19b)](/<BstackUsername>/g,_0x31bb19[_0x47fc6d(0x23d)](encodeBase64,global_registry[_0x47fc6d(0x28e)])),_0x14220f=_0x14220f[_0x47fc6d(0x19b)](/<BstackAccessKey>/g,_0x31bb19[_0x47fc6d(0x24a)](encodeBase64,global_registry[_0x47fc6d(0x1ab)]));const _0x3306d5=yaml[_0x47fc6d(0x207)](_0x14220f);await _0x31bb19[_0x47fc6d(0x305)](kubeApply,_0x3306d5,_0x4c4c3a),logger['info'](_0x31bb19['IIxWl']);let _0x41a7fb=_0x31bb19['wktmG'];if(_0x31bb19[_0x47fc6d(0x2ce)](_0x188b22,AZURE))_0x41a7fb=_0x31bb19[_0x47fc6d(0x295)];else _0x31bb19[_0x47fc6d(0x2c3)](_0x188b22,GCP)&&(_0x41a7fb=_0x31bb19['myODC']);logger['info'](_0x31bb19[_0x47fc6d(0x258)]);let _0x1073cd=await fs[_0x47fc6d(0x1c7)](path[_0x47fc6d(0x2b7)](__dirname,_0x31bb19['sHrWd'],_0x31bb19['ZefsG'],_0x31bb19[_0x47fc6d(0x328)],_0x31bb19[_0x47fc6d(0x1a9)]),_0x31bb19[_0x47fc6d(0x214)]);_0x1073cd=_0x1073cd[_0x47fc6d(0x19b)](/<HubHaNameSpace>/g,global_registry[_0x47fc6d(0x276)]),_0x1073cd=_0x1073cd[_0x47fc6d(0x19b)](/<StorageClassName>/g,_0x41a7fb);const _0x1fadf2=yaml[_0x47fc6d(0x207)](_0x1073cd);await _0x31bb19[_0x47fc6d(0x275)](kubeApply,_0x1fadf2,_0x4c4c3a),logger[_0x47fc6d(0x2eb)](_0x31bb19[_0x47fc6d(0x244)]),logger[_0x47fc6d(0x2eb)](_0x31bb19[_0x47fc6d(0x289)]);let _0xdfd46d=await fs[_0x47fc6d(0x1c7)](path[_0x47fc6d(0x2b7)](__dirname,_0x31bb19[_0x47fc6d(0x1d3)],_0x31bb19[_0x47fc6d(0x1f0)],_0x31bb19['cwiFE'],_0x31bb19[_0x47fc6d(0x2db)]),_0x31bb19[_0x47fc6d(0x214)]);_0xdfd46d=_0xdfd46d['replace'](/<HubHaNameSpace>/g,global_registry[_0x47fc6d(0x276)]),_0xdfd46d=_0xdfd46d[_0x47fc6d(0x19b)](/<StorageClassName>/g,_0x41a7fb);const _0x5374a3=yaml[_0x47fc6d(0x207)](_0xdfd46d);await _0x31bb19[_0x47fc6d(0x1bc)](kubeApply,_0x5374a3,_0x4c4c3a),logger[_0x47fc6d(0x2eb)](_0x31bb19[_0x47fc6d(0x272)]),logger[_0x47fc6d(0x2eb)](_0x31bb19['eCMxP']);let _0x1e55d4=await fs['readFileAsync'](path[_0x47fc6d(0x2b7)](__dirname,_0x31bb19[_0x47fc6d(0x1d3)],_0x31bb19['ZefsG'],_0x31bb19['cwiFE'],_0x31bb19[_0x47fc6d(0x246)]),_0x31bb19[_0x47fc6d(0x214)]);_0x1e55d4=_0x1e55d4[_0x47fc6d(0x19b)](/<UploaderImageVersion>/g,global_registry[_0x47fc6d(0x25a)]),_0x1e55d4=_0x1e55d4[_0x47fc6d(0x19b)](/<HubHaNameSpace>/g,global_registry[_0x47fc6d(0x276)]);const _0x16e710=yaml[_0x47fc6d(0x207)](_0x1e55d4);_0x31bb19['EKOWJ'](global_registry[_0x47fc6d(0x278)],AZURE)&&(_0x16e710[0x0][_0x47fc6d(0x2ed)]['template'][_0x47fc6d(0x284)][_0x47fc6d(0x2b9)]={'azure.workload.identity/use':_0x31bb19['XUjrV'],..._0x16e710[0x0][_0x47fc6d(0x2ed)][_0x47fc6d(0x1a1)][_0x47fc6d(0x284)]['labels']},_0x16e710[0x0][_0x47fc6d(0x2ed)][_0x47fc6d(0x1a1)]['spec']['serviceAccountName']=_0x31bb19[_0x47fc6d(0x29c)]);await _0x31bb19[_0x47fc6d(0x2fb)](kubeApply,_0x16e710,_0x4c4c3a),logger['info'](_0x31bb19[_0x47fc6d(0x1e2)]);const _0x15fdba={};_0x15fdba[_0x47fc6d(0x235)]=WS_EVENTS[_0x47fc6d(0x1f9)],_0x15fdba[_0x47fc6d(0x30c)]=_0x31bb19[_0x47fc6d(0x2de)],webSocketUtils[_0x47fc6d(0x202)](_0x3ac682,_0x15fdba),logger[_0x47fc6d(0x2eb)](_0x31bb19[_0x47fc6d(0x221)]);}catch(_0x543558){const _0x501a57=_0x31bb19[_0x47fc6d(0x323)]['split']('|');let _0x294b1a=0x0;while(!![]){switch(_0x501a57[_0x294b1a++]){case'0':logger['error'](_0x2f6eee);continue;case'1':await _0x364357['deleteCluster'](_0x400fbb,global_registry[_0x47fc6d(0x2f9)]);continue;case'2':await _0x31bb19['syUdS'](reportToGalactusAndSendToEDS,_0x4b1077,_0x3ac682,_0x2f6eee,messageTypes[_0x47fc6d(0x212)],_0x31bb19['oqPzb'],_0x31bb19[_0x47fc6d(0x312)],_0x31bb19[_0x47fc6d(0x1fe)]);continue;case'3':process[_0x47fc6d(0x233)](0x1);continue;case'4':_0x2f6eee='Error\x20occurred\x20while\x20setting\x20up\x20Hub\x20HA\x20infra:\x20'+_0x543558[_0x47fc6d(0x30c)];continue;}break;}}try{_0x30bc5a=_0x31bb19['NhqMX'](kebabCase,_0x3212f),logger[_0x47fc6d(0x2eb)](_0x31bb19[_0x47fc6d(0x28b)]);const _0xb7441d={};_0xb7441d[_0x47fc6d(0x235)]=WS_EVENTS[_0x47fc6d(0x1f9)],_0xb7441d[_0x47fc6d(0x30c)]=_0x31bb19[_0x47fc6d(0x28b)],webSocketUtils['sendEventToBackend'](_0x3ac682,_0xb7441d);if(_0x31bb19[_0x47fc6d(0x25c)](_0x30bc5a,_0x31bb19[_0x47fc6d(0x29c)])){const _0x68fce1={};_0x68fce1[_0x47fc6d(0x282)]=_0x31bb19[_0x47fc6d(0x329)],_0x68fce1[_0x47fc6d(0x2d5)]=_0x31bb19[_0x47fc6d(0x329)];const _0x4a246f={};_0x4a246f['name']=_0x30bc5a,_0x4a246f[_0x47fc6d(0x2f5)]=_0x68fce1;const _0x1271d9={};_0x1271d9[_0x47fc6d(0x284)]=_0x4a246f;const _0x112224=_0x1271d9,_0x238f58={};_0x238f58['body']=_0x112224,await _0x400fbb[_0x47fc6d(0x27d)](_0x238f58),logger[_0x47fc6d(0x2eb)](_0x31bb19['gmheM']);}const _0x3344b0={};_0x3344b0[_0x47fc6d(0x235)]=WS_EVENTS['LOG'],_0x3344b0[_0x47fc6d(0x30c)]=_0x31bb19[_0x47fc6d(0x1eb)],webSocketUtils[_0x47fc6d(0x202)](_0x3ac682,_0x3344b0);const _0x4c4cec={};_0x4c4cec['type']=WS_EVENTS[_0x47fc6d(0x1f9)],_0x4c4cec[_0x47fc6d(0x30c)]=_0x31bb19[_0x47fc6d(0x270)],webSocketUtils[_0x47fc6d(0x202)](_0x3ac682,_0x4c4cec),logger[_0x47fc6d(0x2eb)](_0x31bb19['XwDcx']);let _0x544067={};_0x31bb19[_0x47fc6d(0x1ae)](_0x188b22,AZURE)&&(_0x544067={'clientId':await _0x364357[_0x47fc6d(0x206)](_0x47fc6d(0x1ec)+_0x34e373)});await _0x31bb19[_0x47fc6d(0x2e2)](addGridComponents,_0x400fbb,_0x5194d8,_0x11aa19,_0x2c8dea,_0x30bc5a,_0x34e373,_0x1474a4,_0x142806,_0x4c4c3a,_0x544067),_0x2f6eee=_0x31bb19['XSmOw'],logger[_0x47fc6d(0x2eb)](_0x2f6eee);const _0x533a5d={};_0x533a5d['type']=WS_EVENTS['LOG'],_0x533a5d[_0x47fc6d(0x30c)]=_0x2f6eee,webSocketUtils['sendEventToBackend'](_0x3ac682,_0x533a5d),_0x2f6eee=_0x31bb19[_0x47fc6d(0x2bb)],logger['info'](_0x2f6eee);const _0x25a592={};_0x25a592[_0x47fc6d(0x235)]=WS_EVENTS[_0x47fc6d(0x1f9)],_0x25a592[_0x47fc6d(0x30c)]=_0x2f6eee,webSocketUtils[_0x47fc6d(0x202)](_0x3ac682,_0x25a592),await _0x31bb19[_0x47fc6d(0x31b)](waitForDeployment,_0x5194d8,_0x30bc5a,TURBOSCALE_DEPLOYMENT,0x1d4c0);const _0x4cab4f=await _0x31bb19[_0x47fc6d(0x305)](getNamespaceUID,_0x400fbb,_0x30bc5a),_0x238a24=global_registry[_0x47fc6d(0x1f5)]?_0x31bb19[_0x47fc6d(0x1f6)]:_0x31bb19[_0x47fc6d(0x2f1)],_0x3435b7={};_0x3435b7[_0x47fc6d(0x2ca)]=_0x238a24,_0x3435b7[_0x47fc6d(0x32a)]=_0x31bb19['RLCsw'];const _0xb718a3=await _0x400fbb['readNamespacedService'](_0x3435b7);let _0x4c15af=_0x364357[_0x47fc6d(0x319)](_0xb718a3)+'/'+_0x30bc5a,_0x52d82f=_0x31bb19[_0x47fc6d(0x27c)];try{const _0x23021e=_0x47fc6d(0x28d)+AG_API_URL+'/packages/cli/get-grid-url?gridIdentifier='+_0x4cab4f,_0x2daa1c=await _0x31bb19[_0x47fc6d(0x305)](got,_0x23021e,_0x16c66d);(_0x31bb19[_0x47fc6d(0x27e)](_0x2daa1c,null)||_0x31bb19[_0x47fc6d(0x310)](_0x2daa1c,undefined))&&(_0x2f6eee=_0x31bb19['Fbdub'],await _0x31bb19['AbpKo'](reportToGalactusAndSendToEDS,_0x4b1077,_0x3ac682,_0x2f6eee,messageTypes[_0x47fc6d(0x212)],_0x31bb19[_0x47fc6d(0x2cf)],_0x31bb19[_0x47fc6d(0x230)],_0x31bb19['mqfJj']),logger[_0x47fc6d(0x23c)](_0x2f6eee),process[_0x47fc6d(0x233)](0x1));_0x31bb19[_0x47fc6d(0x30d)](_0x2daa1c['statusCode'],0x191)&&(_0x2f6eee=_0x31bb19[_0x47fc6d(0x1cb)],await _0x31bb19[_0x47fc6d(0x26c)](reportToGalactusAndSendToEDS,_0x4b1077,_0x3ac682,_0x2f6eee,messageTypes[_0x47fc6d(0x212)],_0x31bb19[_0x47fc6d(0x2cf)],_0x31bb19[_0x47fc6d(0x1ba)],_0x31bb19['mqfJj']),logger[_0x47fc6d(0x23c)](_0x2f6eee),process[_0x47fc6d(0x233)](0x1));_0x31bb19['PiYtQ'](_0x2daa1c[_0x47fc6d(0x1ea)],0xc8)&&(_0x2f6eee=_0x47fc6d(0x2b2)+JSON[_0x47fc6d(0x2a7)](_0x2daa1c),await _0x31bb19[_0x47fc6d(0x213)](reportToGalactusAndSendToEDS,_0x4b1077,_0x3ac682,_0x2f6eee,messageTypes['ERROR'],_0x31bb19[_0x47fc6d(0x2cf)],_0x31bb19[_0x47fc6d(0x334)],_0x31bb19[_0x47fc6d(0x1fe)]),logger['error'](_0x2f6eee),process[_0x47fc6d(0x233)](0x1));const _0x218ac9=JSON[_0x47fc6d(0x1d7)](_0x2daa1c['body']);_0x218ac9[_0x47fc6d(0x1e5)]&&(_0x4c15af=_0x218ac9[_0x47fc6d(0x1e5)],_0x52d82f=_0x31bb19[_0x47fc6d(0x25f)]),global_registry[_0x47fc6d(0x1f5)]&&(_0x52d82f=_0x31bb19['IeizJ']);}catch(_0x36eace){}_0x2f6eee=_0x47fc6d(0x2a3)+_0x4c15af+'\x20',logger['info'](_0x2f6eee);const _0x1eafcd={};_0x1eafcd[_0x47fc6d(0x235)]=WS_EVENTS[_0x47fc6d(0x1f9)],_0x1eafcd[_0x47fc6d(0x30c)]=_0x2f6eee,webSocketUtils[_0x47fc6d(0x202)](_0x3ac682,_0x1eafcd),_0x2f6eee=_0x47fc6d(0x1de)+_0x52d82f+_0x47fc6d(0x2aa)+_0x4c15af+_0x47fc6d(0x26b),logger['info'](_0x2f6eee);const _0x42a688={};_0x42a688[_0x47fc6d(0x235)]=WS_EVENTS['LOG'],_0x42a688[_0x47fc6d(0x30c)]=_0x2f6eee,webSocketUtils['sendEventToBackend'](_0x3ac682,_0x42a688);const _0x3001d0={};_0x3001d0['type']=WS_EVENTS[_0x47fc6d(0x2c2)],_0x3001d0['message']=_0x47fc6d(0x2ea)+_0x4c15af,webSocketUtils[_0x47fc6d(0x202)](_0x3ac682,_0x3001d0),await webSocketUtils['delay'](0x7d0);}catch(_0x2776ae){logger[_0x47fc6d(0x23c)]('Error\x20in\x20Spawning\x20the\x20Grid!\x20Error:\x20'+_0x2776ae+'\x20\x0a'+JSON['stringify'](_0x2776ae[_0x47fc6d(0x303)]));if(_0x31bb19[_0x47fc6d(0x1d0)](_0x13e2bd,![]))try{logger[_0x47fc6d(0x2eb)](_0x31bb19[_0x47fc6d(0x2dd)]),await _0x31bb19[_0x47fc6d(0x32b)](removeGridComponents,_0x400fbb,_0x5194d8,_0x11aa19,_0x2c8dea,_0x30bc5a),await _0x364357[_0x47fc6d(0x31c)](_0x400fbb,global_registry[_0x47fc6d(0x2f9)]);}catch(_0x149f50){logger[_0x47fc6d(0x23c)]('Failed\x20to\x20delete\x20the\x20CloudFormation\x20Stacks\x20and\x20other\x20spawned\x20components.\x20Error:\x20\x20'+_0x149f50+'\x20\x0a'+JSON[_0x47fc6d(0x2a7)](_0x149f50['stack']));}throw _0x2776ae;}}catch(_0x5608d1){const _0x42a8b='Unable\x20to\x20Spawn\x20the\x20Grid!\x20Error:\x20'+_0x5608d1+'\x20\x0a'+JSON[_0x47fc6d(0x2a7)](_0x5608d1[_0x47fc6d(0x303)]);if(_0x3ac682){const _0x479595={};_0x479595['type']=WS_EVENTS[_0x47fc6d(0x1f9)],_0x479595['message']=_0x42a8b,webSocketUtils[_0x47fc6d(0x202)](_0x3ac682,_0x479595,_0x31bb19[_0x47fc6d(0x1fe)],!![]);}await webSocketUtils[_0x47fc6d(0x290)](0x7d0);const _0x9ecf93={};_0x9ecf93[_0x47fc6d(0x23c)]=_0x42a8b,await _0x31bb19['eAupI'](sendInstrumentationEvent,_0x4b1077,_0x31bb19[_0x47fc6d(0x2cf)],messageTypes[_0x47fc6d(0x212)],_0x31bb19[_0x47fc6d(0x201)],_0x9ecf93,_0x4b1077),logger[_0x47fc6d(0x23c)](_0x42a8b);}process['exit'](0x0);};