const a9_0x1ab5db=a9_0x4bdd;(function(_0x44d136,_0x45f851){const _0x5616ff=a9_0x4bdd,_0x31dee5=_0x44d136();while(!![]){try{const _0x404f82=-parseInt(_0x5616ff(0xb6))/0x1*(parseInt(_0x5616ff(0x10f))/0x2)+-parseInt(_0x5616ff(0x12c))/0x3*(parseInt(_0x5616ff(0x158))/0x4)+parseInt(_0x5616ff(0x1c6))/0x5*(parseInt(_0x5616ff(0x1eb))/0x6)+parseInt(_0x5616ff(0x132))/0x7+-parseInt(_0x5616ff(0x160))/0x8+parseInt(_0x5616ff(0x149))/0x9*(-parseInt(_0x5616ff(0xe9))/0xa)+parseInt(_0x5616ff(0xbf))/0xb;if(_0x404f82===_0x45f851)break;else _0x31dee5['push'](_0x31dee5['shift']());}catch(_0x1b69b4){_0x31dee5['push'](_0x31dee5['shift']());}}}(a9_0x5e19,0xdf27f));function a9_0x4bdd(_0x371b30,_0x140b5e){const _0x5e1938=a9_0x5e19();return a9_0x4bdd=function(_0x4bddff,_0x1beb19){_0x4bddff=_0x4bddff-0x78;let _0x4ad899=_0x5e1938[_0x4bddff];return _0x4ad899;},a9_0x4bdd(_0x371b30,_0x140b5e);}const fs=require('fs'),ws=require('ws'),path=require(a9_0x1ab5db(0x1fe)),yaml=require(a9_0x1ab5db(0xfe)),ReconnectingWebSocket=require(a9_0x1ab5db(0x1f1)),got=require(a9_0x1ab5db(0x1f4)),{v4:uuidv4}=require(a9_0x1ab5db(0x16e)),webSocketUtils=require(a9_0x1ab5db(0xf8)),{logger}=require(a9_0x1ab5db(0x20a)),{getCredentialsPath,updateGlobalRegistryWithConfig,updateGlobalRegistryForHubHa,kebabCase,reportToGalactusAndSendToEDS,getAuthHeader,waitForDeployment,kubeApply,encodeBase64}=require(a9_0x1ab5db(0x154)),{getCloudProviderObject}=require(a9_0x1ab5db(0x1b6)),{AWS,WS_EVENTS,global_registry,WS_ENDPOINT,DEFAULT_GRID_NAME,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,messageTypes,AG_API_URL,AZURE,GCP,TURBOSCALE_DEPLOYMENT}=require(a9_0x1ab5db(0xcc)),{addGridComponents,removeGridComponents,getNamespaceUID,namespaceExists,createNamespace}=require('../../utils/gridComponents'),{createK8sClient}=require('../../utils/createk8sClient'),{sendInstrumentationEvent}=require(a9_0x1ab5db(0x9d));exports['command']=a9_0x1ab5db(0x164),exports[a9_0x1ab5db(0x211)]='Create\x20a\x20new\x20Automation\x20grid.',exports[a9_0x1ab5db(0x91)]=function(_0x566185){const _0x8c4e28=a9_0x1ab5db,_0x4d86a6={};_0x4d86a6[_0x8c4e28(0x109)]=_0x8c4e28(0x204),_0x4d86a6[_0x8c4e28(0x1fd)]=_0x8c4e28(0x97),_0x4d86a6[_0x8c4e28(0x83)]=_0x8c4e28(0x1af),_0x4d86a6['eLsRI']=_0x8c4e28(0x128),_0x4d86a6[_0x8c4e28(0xdc)]=_0x8c4e28(0x14d),_0x4d86a6[_0x8c4e28(0x94)]=_0x8c4e28(0xb5),_0x4d86a6[_0x8c4e28(0x173)]=_0x8c4e28(0x1c8),_0x4d86a6[_0x8c4e28(0x88)]=_0x8c4e28(0x108),_0x4d86a6[_0x8c4e28(0x100)]=_0x8c4e28(0xce),_0x4d86a6[_0x8c4e28(0x16a)]='Flag\x20to\x20enable\x20Hub\x20HA',_0x4d86a6['nXLoL']=_0x8c4e28(0x1ad),_0x4d86a6['VuTic']=_0x8c4e28(0x14c);const _0x55c8b0=_0x4d86a6,_0x5a514c={};_0x5a514c['description']=_0x55c8b0[_0x8c4e28(0x109)],_0x5a514c[_0x8c4e28(0xaa)]=_0x55c8b0[_0x8c4e28(0x1fd)];const _0x57eab1={};_0x57eab1['description']=_0x55c8b0[_0x8c4e28(0x83)],_0x57eab1[_0x8c4e28(0xaa)]=_0x55c8b0[_0x8c4e28(0x1fd)];const _0x35ff3b={};_0x35ff3b[_0x8c4e28(0x136)]=_0x55c8b0[_0x8c4e28(0x103)],_0x35ff3b['type']=_0x55c8b0[_0x8c4e28(0x1fd)];const _0x3113fe={};_0x3113fe[_0x8c4e28(0x136)]=_0x55c8b0[_0x8c4e28(0xdc)],_0x3113fe[_0x8c4e28(0xaa)]=_0x55c8b0[_0x8c4e28(0x1fd)];const _0x2b6dc5={};_0x2b6dc5[_0x8c4e28(0x136)]=_0x55c8b0[_0x8c4e28(0x94)],_0x2b6dc5[_0x8c4e28(0xaa)]=_0x55c8b0[_0x8c4e28(0x1fd)];const _0x545d9e={};_0x545d9e[_0x8c4e28(0x136)]=_0x55c8b0['zGHmz'],_0x545d9e['type']=_0x55c8b0[_0x8c4e28(0x1fd)];const _0x39730a={};_0x39730a[_0x8c4e28(0x136)]=_0x55c8b0['EHqAp'],_0x39730a[_0x8c4e28(0xaa)]=_0x55c8b0[_0x8c4e28(0x100)],_0x39730a[_0x8c4e28(0x150)]=![];const _0xb992cf={};_0xb992cf[_0x8c4e28(0x136)]=_0x55c8b0[_0x8c4e28(0x16a)],_0xb992cf[_0x8c4e28(0xaa)]=_0x55c8b0['LbSmD'],_0xb992cf['default']=![];const _0x5ad978={};_0x5ad978[_0x8c4e28(0x136)]=_0x55c8b0[_0x8c4e28(0xfc)],_0x5ad978[_0x8c4e28(0xaa)]=_0x55c8b0[_0x8c4e28(0x100)],_0x5ad978['default']=![];const _0x492f04={};return _0x492f04['grid-name']=_0x5a514c,_0x492f04[_0x8c4e28(0xc7)]=_0x57eab1,_0x492f04[_0x8c4e28(0x90)]=_0x35ff3b,_0x492f04[_0x8c4e28(0xdf)]=_0x3113fe,_0x492f04[_0x8c4e28(0x10b)]=_0x2b6dc5,_0x492f04[_0x8c4e28(0x9c)]=_0x545d9e,_0x492f04[_0x8c4e28(0xf1)]=_0x39730a,_0x492f04[_0x8c4e28(0x1a0)]=_0xb992cf,_0x492f04['cluster-autoupgrade']=_0x5ad978,_0x566185[_0x8c4e28(0x1e6)](HELP_HEADER_MESSAGE[_0x8c4e28(0x18e)])[_0x8c4e28(0xde)](HELP_FOOTER_MESSAGE)['options'](_0x492f04)[_0x8c4e28(0x14c)](_0x55c8b0['VuTic'])[_0x8c4e28(0x114)];},exports[a9_0x1ab5db(0x1ca)]=async function(_0x1e0c52){const _0x484335=a9_0x1ab5db,_0x5b74a0={'HHZuO':function(_0x41cf82,_0x2d7721){return _0x41cf82(_0x2d7721);},'RYAma':_0x484335(0x204),'AmeWO':_0x484335(0x97),'IZGPw':_0x484335(0x1af),'jTzNy':_0x484335(0x128),'QUCrv':_0x484335(0x14d),'HVgWb':_0x484335(0xb5),'iVLtE':_0x484335(0x1c8),'IlXcs':_0x484335(0x108),'HQmvs':_0x484335(0xce),'MCyNt':'Flag\x20to\x20enable\x20Hub\x20HA','NftmV':_0x484335(0x1ad),'ODQaW':_0x484335(0x14c),'epmKt':_0x484335(0x202),'iQUfq':_0x484335(0x163),'OiOhp':_0x484335(0x1b1),'NxIuu':_0x484335(0x118),'xgIbp':_0x484335(0x93),'Ogaow':_0x484335(0x10e),'OYBcY':'true','jPwkk':_0x484335(0x150),'ZWgNB':_0x484335(0xb9),'kfoeL':_0x484335(0x125),'guSlF':'CLI\x20run\x20started','AiVxH':function(_0x5e1dd1,_0x4b9d96){return _0x5e1dd1(_0x4b9d96);},'XkUDj':_0x484335(0x1c3),'NyLFI':_0x484335(0x155),'AqDVp':_0x484335(0x15f),'wxJJf':_0x484335(0xdb),'CFYOK':_0x484335(0x122),'GuoaM':function(_0x317962,_0x19a8d0){return _0x317962===_0x19a8d0;},'brWmS':_0x484335(0x191),'WPedt':function(_0x3ed614,_0x3fa61b,_0x484957,_0x93fbce,_0x520302,_0x41b1b6,_0x20f4e3,_0x467b79,_0x2ec96b,_0x3ed327,_0x33fb94,_0x22fff6,_0x511ae4){return _0x3ed614(_0x3fa61b,_0x484957,_0x93fbce,_0x520302,_0x41b1b6,_0x20f4e3,_0x467b79,_0x2ec96b,_0x3ed327,_0x33fb94,_0x22fff6,_0x511ae4);},'OLHCG':function(_0x50674f,_0x19e4e9){return _0x50674f(_0x19e4e9);},'guhGj':function(_0x1decf4,_0x118775){return _0x1decf4!==_0x118775;},'wfAiH':function(_0x1dd9ca){return _0x1dd9ca();},'VSAbU':_0x484335(0x124),'OPGKo':'vRnGo','BybFB':_0x484335(0x96),'Dtfie':function(_0x57262a,_0x125b04,_0x4ee959,_0x560378,_0x8e508c,_0xbf1d9,_0x21a4b9){return _0x57262a(_0x125b04,_0x4ee959,_0x560378,_0x8e508c,_0xbf1d9,_0x21a4b9);},'KwwOa':_0x484335(0x168),'ATxVs':_0x484335(0x12f),'BQpYN':function(_0x377821){return _0x377821();},'QAIji':'<UsernamePlaceholder>','MRiRt':'<PasswordPlaceholder>','zUYTb':_0x484335(0x1a6),'BxIoX':function(_0x3298f9,_0x165329){return _0x3298f9!==_0x165329;},'CLnTj':_0x484335(0x18a),'SviOt':function(_0x28a379,_0x4e0921){return _0x28a379!==_0x4e0921;},'peAea':'oXdig','XDKDU':_0x484335(0x8c),'fzRWY':function(_0x145e1c,_0x157815,_0x3161ce,_0xd5c45b,_0x1a2c2f,_0x40a2d3,_0x26e343,_0x12a53d){return _0x145e1c(_0x157815,_0x3161ce,_0xd5c45b,_0x1a2c2f,_0x40a2d3,_0x26e343,_0x12a53d);},'kQgCQ':_0x484335(0x166),'DskfQ':function(_0x39feaa,_0x2764ac){return _0x39feaa===_0x2764ac;},'zXyco':_0x484335(0x17c),'eGdYW':'BaweK','cpnzk':'Invalid\x20input.\x20Currently\x20Spawning\x20the\x20grid\x20in\x20AWS\x20and\x20Azure\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','jKciy':function(_0x3056a2,_0x10580e,_0x2c9c03,_0x5d7741,_0x34b7ff,_0x53aa24,_0x311df3,_0x32f1ca){return _0x3056a2(_0x10580e,_0x2c9c03,_0x5d7741,_0x34b7ff,_0x53aa24,_0x311df3,_0x32f1ca);},'GDIgJ':_0x484335(0x1a8),'JrGWu':function(_0x15121c,_0x435a84){return _0x15121c===_0x435a84;},'nShbJ':'drjKj','iVJqq':_0x484335(0xe7),'pYwYz':_0x484335(0xff),'fGylv':function(_0x25936c,_0x1bee8f){return _0x25936c===_0x1bee8f;},'SOlPJ':'OAIXF','BBVIQ':_0x484335(0xbb),'vynpH':'ubURo','qXEBT':_0x484335(0x123),'Hdecj':function(_0x5ea894,_0x31a31e,_0x5b28c2){return _0x5ea894(_0x31a31e,_0x5b28c2);},'iKgwz':function(_0x3855ca,_0x550113){return _0x3855ca!==_0x550113;},'IaVGE':_0x484335(0x1c9),'inOoy':_0x484335(0x101),'Kfcde':_0x484335(0x15a),'txROS':_0x484335(0x131),'ubpsu':function(_0x252ec4,_0x3d6dde,_0x2e5aa9){return _0x252ec4(_0x3d6dde,_0x2e5aa9);},'XlRJz':function(_0x390661,_0xe9d739){return _0x390661===_0xe9d739;},'NKEmZ':'oWuiZ','huoXo':_0x484335(0x10c),'qvelM':'Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Unknown\x20error!','fwEyT':_0x484335(0x222),'bcyoM':function(_0x29282a,_0x5dbdc2){return _0x29282a===_0x5dbdc2;},'bZsoJ':_0x484335(0x207),'JYMeu':_0x484335(0x1d8),'NhOFz':_0x484335(0x16c),'CaFWw':function(_0x5eee94,_0x1bddcd,_0x2583d5,_0x154a6d,_0x18deae,_0x54ab7d,_0x8cca45,_0x4588df){return _0x5eee94(_0x1bddcd,_0x2583d5,_0x154a6d,_0x18deae,_0x54ab7d,_0x8cca45,_0x4588df);},'UjIzP':_0x484335(0x19a),'TxMJd':_0x484335(0xd1),'RUsFI':_0x484335(0xf4),'ZzPlo':_0x484335(0xc4),'rRweQ':function(_0x3bebd6,_0x9a3587){return _0x3bebd6!==_0x9a3587;},'IUOLu':_0x484335(0x1e9),'VpisM':_0x484335(0x138),'qeOTb':function(_0x452f20,_0x110361,_0x4823ba,_0x3d93b1,_0x60580d,_0xab88fc,_0x294601,_0x63d3c6){return _0x452f20(_0x110361,_0x4823ba,_0x3d93b1,_0x60580d,_0xab88fc,_0x294601,_0x63d3c6);},'fHmXO':'create-grid-checks-grid-already-exists','bMMME':_0x484335(0xb4),'ezTMt':'xewyr','rySLa':function(_0x2e56c6,_0x5cb038){return _0x2e56c6===_0x5cb038;},'PuDBT':_0x484335(0x1cb),'YLdiv':'ZZIpy','mgBwS':'1|3|0|2|4','TEZkZ':function(_0x4fed6d,_0x3bcc9c){return _0x4fed6d===_0x3bcc9c;},'JZqQn':function(_0x35deb0,_0x36dd93){return _0x35deb0===_0x36dd93;},'yBdCZ':_0x484335(0x119),'qYjSm':'QbXNY','iFNou':function(_0x49c7f7,_0x27603b){return _0x49c7f7===_0x27603b;},'GRRxR':function(_0x88faee,_0x185373){return _0x88faee===_0x185373;},'soNCE':_0x484335(0x137),'icuhc':'VgjHj','fLpRh':_0x484335(0xe4),'Wxdud':function(_0x26aaee,_0x5639a2,_0x5f0e16,_0x291c5e,_0x582a8d,_0x40c856,_0x4a9fb3,_0xd8dad6){return _0x26aaee(_0x5639a2,_0x5f0e16,_0x291c5e,_0x582a8d,_0x40c856,_0x4a9fb3,_0xd8dad6);},'hWWhv':_0x484335(0x20f),'XtWyc':_0x484335(0x14b),'CIRkj':'lwkkd','pPwDk':_0x484335(0x197),'CeBaf':function(_0x24368d,_0x9178b5){return _0x24368d===_0x9178b5;},'SooEk':_0x484335(0x102),'CWyBO':function(_0x1b10d2,_0x41b7c7,_0xcc1edf,_0x3ea97b,_0x35cdca,_0x288c60,_0x115aaa,_0x769ada,_0x5a68c5,_0x49c9b6,_0xcc7601,_0x5c60b3,_0x22ba88){return _0x1b10d2(_0x41b7c7,_0xcc1edf,_0x3ea97b,_0x35cdca,_0x288c60,_0x115aaa,_0x769ada,_0x5a68c5,_0x49c9b6,_0xcc7601,_0x5c60b3,_0x22ba88);},'jQddp':_0x484335(0xf6),'NMxWd':function(_0x1ab9ea,_0x1cac34){return _0x1ab9ea===_0x1cac34;},'sQKeb':'qoVeO','Kidfa':'rrcZh','Sxcvv':function(_0x52238d,_0x5579b6){return _0x52238d!==_0x5579b6;},'qtMWU':_0x484335(0x161),'RpTyr':_0x484335(0x1b2),'MDzcc':function(_0x359089,_0x50b3de){return _0x359089(_0x50b3de);},'YUYtV':_0x484335(0x116),'lSxYp':'TqrOv','Ynguk':_0x484335(0x174),'bgUId':'QGhrK','JIcJk':function(_0x210290,_0xdb3525){return _0x210290===_0xdb3525;},'sGPKI':'zRqmh','bdGLh':_0x484335(0x82),'itzxa':_0x484335(0x7f),'eoUTR':_0x484335(0x127),'jYuXQ':'Cluster\x20not\x20found.\x20Proceeding\x20with\x20creating\x20required\x20resources.','nOnpz':function(_0x1f8589,_0x4d1702){return _0x1f8589!=_0x4d1702;},'ShNGX':function(_0x66ab64,_0x400a06){return _0x66ab64!=_0x400a06;},'CaRMU':function(_0x8104e9,_0x17012e){return _0x8104e9!==_0x17012e;},'bTzeH':function(_0x1a160e,_0x346022){return _0x1a160e>_0x346022;},'BnGaL':_0x484335(0x1e2),'TGpjG':_0x484335(0x214),'WiJPS':function(_0x541858,_0x449ce5){return _0x541858===_0x449ce5;},'Cemjn':_0x484335(0xd6),'lojKh':function(_0x1951a0,_0x55271d,_0x20482a,_0x320cb9,_0x256699,_0x4414a4,_0x247f00,_0x317053){return _0x1951a0(_0x55271d,_0x20482a,_0x320cb9,_0x256699,_0x4414a4,_0x247f00,_0x317053);},'taIWE':'pre-spawned-invalid-vpc','VOukz':_0x484335(0xac),'hdfAq':'1|4|3|2|0','yMEaW':'Cluster\x20created\x20successfully','VuSiD':_0x484335(0xc3),'eOENU':function(_0x292d8e,_0x58803b){return _0x292d8e===_0x58803b;},'HDTFt':'Creating\x20Hub\x20HA\x20resources','bXNtm':_0x484335(0x22a),'KwuyF':_0x484335(0x178),'LBnoV':'templates','OvJQi':'hubharesources','tPznW':'browserstack-secret.yaml','PawEy':_0x484335(0x170),'eyAdg':function(_0x19a720,_0x345ff1,_0x47c002){return _0x19a720(_0x345ff1,_0x47c002);},'fwGFS':'Added\x20Secret\x20Mapping','sbzwb':'efs-csi','VRIIv':function(_0x5a05cf,_0x20cb17){return _0x5a05cf===_0x20cb17;},'yPKgD':_0x484335(0x13c),'lFmdF':_0x484335(0x1f8),'ocsgM':_0x484335(0x1fa),'HoANL':_0x484335(0x1a1),'GRBuM':_0x484335(0x1c4),'eAoKW':_0x484335(0x1a7),'qPewB':_0x484335(0x159),'USpqB':_0x484335(0x8d),'YPXye':function(_0x393470,_0x565fb9,_0x274f5a){return _0x393470(_0x565fb9,_0x274f5a);},'odYxs':_0x484335(0x227),'JsTeR':_0x484335(0xe6),'UnklD':_0x484335(0xcb),'BEHCB':_0x484335(0x198),'VsHTC':function(_0x15e05e,_0x60db28,_0x355e80,_0x5262bd,_0x842ea1,_0x1c3e97,_0x4d3ae0,_0x4b795d){return _0x15e05e(_0x60db28,_0x355e80,_0x5262bd,_0x842ea1,_0x1c3e97,_0x4d3ae0,_0x4b795d);},'DdIeu':_0x484335(0x21d),'vcXaW':function(_0x4707cd,_0xeec82a){return _0x4707cd(_0xeec82a);},'wfvGZ':_0x484335(0x89),'pfPnG':'Browserstack','IUnDQ':_0x484335(0x146),'ICQnO':_0x484335(0x1c5),'DQRRf':_0x484335(0x1da),'aPOOl':_0x484335(0x1be),'GiNmi':function(_0x4665f6,_0x5d8803){return _0x4665f6===_0x5d8803;},'dVpQw':function(_0x3bd799,_0x1e6161,_0x1227c0,_0x568fd4,_0x83039b,_0x53e43c,_0x2fe46c,_0x4dc2b5,_0x29faed,_0x337017,_0x4bba73){return _0x3bd799(_0x1e6161,_0x1227c0,_0x568fd4,_0x83039b,_0x53e43c,_0x2fe46c,_0x4dc2b5,_0x29faed,_0x337017,_0x4bba73);},'NCqsL':_0x484335(0xe5),'yNjSD':'Fetching\x20url\x20for\x20running\x20tests\x20on\x20the\x20grid','BGTci':function(_0x338ae4,_0x3c8966,_0x567370,_0x4a74b6,_0x13c4a9){return _0x338ae4(_0x3c8966,_0x567370,_0x4a74b6,_0x13c4a9);},'xMeWc':function(_0x3a1013,_0x5ef683,_0x4b849c){return _0x3a1013(_0x5ef683,_0x4b849c);},'LiABG':_0x484335(0x7d),'AylxT':_0x484335(0x1dc),'KKotf':'ingress-nginx','AqFav':function(_0xe44299,_0x4b42d5){return _0xe44299===_0x4b42d5;},'BDemS':_0x484335(0x1b8),'DGXlG':function(_0x2160f7,_0xa5ccbd,_0x20a297,_0x1762b2,_0x17a1cb,_0x335d6f,_0x4e2c75,_0x269509){return _0x2160f7(_0xa5ccbd,_0x20a297,_0x1762b2,_0x17a1cb,_0x335d6f,_0x4e2c75,_0x269509);},'BbjQG':_0x484335(0x1ba),'XeHVo':function(_0x5147de,_0x2f8731){return _0x5147de===_0x2f8731;},'UBXPu':'Failed\x20to\x20get\x20grid\x20url\x20from\x20the\x20server.\x20Unauthorized\x20request!','YoTEu':_0x484335(0x18f),'AHcwc':function(_0x35f465,_0x220e67){return _0x35f465!==_0x220e67;},'OImUI':function(_0x1d10ea,_0x5c70b3,_0x3f53fb,_0x54390d,_0x5c88de,_0x5347e4,_0x22b40a,_0x32eba4){return _0x1d10ea(_0x5c70b3,_0x3f53fb,_0x54390d,_0x5c88de,_0x5347e4,_0x22b40a,_0x32eba4);},'EUPiX':_0x484335(0x1ef),'gaxIJ':function(_0x1418ab,_0xb6efa5){return _0x1418ab===_0xb6efa5;},'PIdWp':_0x484335(0x21e),'TGbWi':function(_0xda6a6a,_0x4c15f0,_0x3906eb,_0x31b18d,_0x5e6f33,_0x3a0927){return _0xda6a6a(_0x4c15f0,_0x3906eb,_0x31b18d,_0x5e6f33,_0x3a0927);},'dMJSH':function(_0x4adaa1,_0x470b0a,_0x142d5d,_0x348f61,_0x49ca96,_0xaf7397,_0x5b4c85){return _0x4adaa1(_0x470b0a,_0x142d5d,_0x348f61,_0x49ca96,_0xaf7397,_0x5b4c85);},'PeooS':_0x484335(0xab)};let _0xf0dbd8=![],_0x554f87=![],_0x1c5d43,_0x24a942,_0x349080,_0x4f48bc,_0x3df37e,_0x3676c2,_0x4bd24a,_0x959a50,_0x350422,_0x232572,_0x194053,_0xf83b41,_0x4172f8,_0x5ef327,_0x4c6c04=0x1,_0x151c51=0xe;try{global_registry['requestId']=_0x5b74a0[_0x484335(0x179)](uuidv4),global_registry[_0x484335(0xa1)]=![];!fs[_0x484335(0x1a3)](_0x5b74a0['wfAiH'](getCredentialsPath))&&(_0x5b74a0['guhGj'](_0x5b74a0['VSAbU'],_0x5b74a0[_0x484335(0x1b3)])?(console['error'](_0x5b74a0[_0x484335(0xa5)]),await _0x5b74a0[_0x484335(0x1f2)](sendInstrumentationEvent,_0x1e0c52,_0x5b74a0['KwwOa'],messageTypes[_0x484335(0xb8)],_0x5b74a0['ATxVs'],null,_0x1e0c52),process[_0x484335(0xe8)](0x1)):_0x5b74a0[_0x484335(0x78)](_0x423f47,_0xecad37['uploaderVersion']));await _0x5b74a0[_0x484335(0x1f2)](sendInstrumentationEvent,_0x1e0c52,_0x5b74a0[_0x484335(0x15b)],messageTypes[_0x484335(0x201)],null,null,_0x1e0c52);const _0x25bdda=JSON[_0x484335(0xe0)](fs[_0x484335(0x134)](_0x5b74a0[_0x484335(0x1b4)](getCredentialsPath)));global_registry['bstackUsername']=_0x25bdda[_0x484335(0x113)][_0x484335(0x110)],global_registry[_0x484335(0xa2)]=_0x25bdda[_0x484335(0x113)][_0x484335(0x14e)];const _0x28c636=WS_ENDPOINT[_0x484335(0x1e1)](_0x5b74a0['QAIji'],_0x25bdda[_0x484335(0x113)][_0x484335(0x110)])['replace'](_0x5b74a0[_0x484335(0xd9)],_0x25bdda['Browserstack']['password']),_0x262c95={};_0x262c95['WebSocket']=ws,_0x262c95['connectionTimeout']=0x36ee80,_0xf83b41=new ReconnectingWebSocket(_0x28c636,[],_0x262c95),logger['debug'](_0x5b74a0['zUYTb']),webSocketUtils[_0x484335(0x13a)](_0xf83b41,_0x1e0c52[_0x484335(0x220)],_0x1e0c52[_0x484335(0x14e)]);const _0x963fc0=_0x1e0c52[_0x484335(0x152)]||DEFAULT_GRID_NAME;if(_0x1e0c52[_0x484335(0x169)]||_0x1e0c52[_0x484335(0x1d3)]||_0x1e0c52['region']){if(_0x5b74a0[_0x484335(0x80)](_0x5b74a0[_0x484335(0xec)],_0x5b74a0[_0x484335(0xec)])){const _0x314cfa={};_0x314cfa[_0x484335(0x136)]=_0x5b74a0[_0x484335(0xc0)],_0x314cfa['type']=_0x5b74a0[_0x484335(0x7a)];const _0x5b0861={};_0x5b0861[_0x484335(0x136)]=_0x5b74a0[_0x484335(0x219)],_0x5b0861[_0x484335(0xaa)]=_0x5b74a0[_0x484335(0x7a)];const _0x5ba94d={};_0x5ba94d[_0x484335(0x136)]=_0x5b74a0[_0x484335(0x215)],_0x5ba94d[_0x484335(0xaa)]=_0x5b74a0[_0x484335(0x7a)];const _0x49f5ee={};_0x49f5ee[_0x484335(0x136)]=_0x5b74a0[_0x484335(0x99)],_0x49f5ee[_0x484335(0xaa)]=_0x5b74a0[_0x484335(0x7a)];const _0x56b947={};_0x56b947[_0x484335(0x136)]=_0x5b74a0[_0x484335(0x181)],_0x56b947[_0x484335(0xaa)]=_0x5b74a0[_0x484335(0x7a)];const _0x3dd644={};_0x3dd644['description']=_0x5b74a0[_0x484335(0xc5)],_0x3dd644[_0x484335(0xaa)]=_0x5b74a0[_0x484335(0x7a)];const _0x48333e={};_0x48333e[_0x484335(0x136)]=_0x5b74a0[_0x484335(0x1c1)],_0x48333e[_0x484335(0xaa)]=_0x5b74a0['HQmvs'],_0x48333e[_0x484335(0x150)]=![];const _0x3ac46f={};_0x3ac46f['description']=_0x5b74a0[_0x484335(0xb2)],_0x3ac46f[_0x484335(0xaa)]=_0x5b74a0[_0x484335(0xa0)],_0x3ac46f[_0x484335(0x150)]=![];const _0x45c7d8={};_0x45c7d8[_0x484335(0x136)]=_0x5b74a0[_0x484335(0x225)],_0x45c7d8[_0x484335(0xaa)]=_0x5b74a0['HQmvs'],_0x45c7d8['default']=![];const _0x582cdc={};return _0x582cdc[_0x484335(0x1d0)]=_0x314cfa,_0x582cdc['grid-profile']=_0x5b0861,_0x582cdc[_0x484335(0x90)]=_0x5ba94d,_0x582cdc['cloud-provider']=_0x49f5ee,_0x582cdc[_0x484335(0x10b)]=_0x56b947,_0x582cdc['private-grid']=_0x3dd644,_0x582cdc[_0x484335(0xf1)]=_0x48333e,_0x582cdc[_0x484335(0x1a0)]=_0x3ac46f,_0x582cdc[_0x484335(0x7e)]=_0x45c7d8,_0x5b64f1['usage'](_0x5e8306[_0x484335(0x18e)])[_0x484335(0xde)](_0x5a1683)['options'](_0x582cdc)['help'](_0x5b74a0['ODQaW'])['argv'];}else{if(!(_0x1e0c52[_0x484335(0x169)]&&_0x1e0c52[_0x484335(0x1d3)]&&_0x1e0c52[_0x484335(0x10b)])){if(_0x5b74a0[_0x484335(0x171)](_0x5b74a0['peAea'],_0x5b74a0[_0x484335(0xb3)])){const _0x24bdf3=_0x5b74a0['epmKt']['split']('|');let _0x56fe53=0x0;while(!![]){switch(_0x24bdf3[_0x56fe53++]){case'0':_0x1a910d[_0x484335(0x1fb)]=_0x5b74a0[_0x484335(0x183)];continue;case'1':_0x3980c8[_0x484335(0x17a)]=_0x5b74a0[_0x484335(0x19f)];continue;case'2':_0x1193b5[_0x484335(0x1d5)](_0x5b74a0[_0x484335(0x194)]);continue;case'3':_0x63378f[_0x484335(0xc2)]=!![];continue;case'4':_0xb8ee1e[_0x484335(0x1f3)]=_0x5b74a0['xgIbp'];continue;}break;}}else _0x1c5d43=_0x5b74a0[_0x484335(0x228)],await _0x5b74a0[_0x484335(0x21c)](reportToGalactusAndSendToEDS,_0x1e0c52,_0xf83b41,_0x1c5d43,messageTypes[_0x484335(0xb8)],_0x5b74a0[_0x484335(0x15b)],_0x5b74a0['kQgCQ'],_0x5b74a0[_0x484335(0x1a2)]),logger[_0x484335(0xb9)](_0x1c5d43),process[_0x484335(0xe8)](0x1);}![AWS,AZURE,GCP][_0x484335(0x1df)](_0x1e0c52[_0x484335(0x1d3)][_0x484335(0xae)]())&&(_0x5b74a0[_0x484335(0x223)](_0x5b74a0[_0x484335(0x98)],_0x5b74a0['eGdYW'])?_0x2cb0cb[_0x484335(0x1d5)](_0x484335(0xbd)+_0x1ae21f[_0x484335(0xca)](_0x256c65)+'\x20'):(_0x1c5d43=_0x5b74a0[_0x484335(0x20d)],await _0x5b74a0[_0x484335(0x144)](reportToGalactusAndSendToEDS,_0x1e0c52,_0xf83b41,_0x1c5d43,messageTypes['ERROR'],_0x5b74a0['KwwOa'],_0x5b74a0[_0x484335(0x112)],_0x5b74a0[_0x484335(0x1a2)]),logger[_0x484335(0xb9)](_0x1c5d43),process[_0x484335(0xe8)](0x1)));_0x1e0c52[_0x484335(0x1e5)]&&_0x5b74a0[_0x484335(0x105)](_0x1e0c52[_0x484335(0x1e5)][_0x484335(0xae)](),_0x5b74a0['OYBcY'])&&(_0x5b74a0[_0x484335(0x80)](_0x5b74a0['nShbJ'],_0x5b74a0[_0x484335(0x9b)])?_0x31a2f7[_0x484335(0x1d5)](_0x484335(0x218)+_0x2619f6+'\x20'):global_registry[_0x484335(0xa1)]=!![]);global_registry[_0x484335(0x1d3)]=_0x1e0c52[_0x484335(0x1d3)],global_registry[_0x484335(0x1e0)]=_0x1e0c52[_0x484335(0x10b)],global_registry[_0x484335(0x169)]=_0x1e0c52[_0x484335(0x169)];const _0x2ccda8=await _0x5b74a0[_0x484335(0x1f2)](getCloudProviderObject,_0x1e0c52[_0x484335(0x1d3)],_0x1e0c52[_0x484335(0x169)],_0x963fc0,_0xf83b41,webSocketUtils,_0x1e0c52),_0x51ba44=await _0x2ccda8[_0x484335(0x1a4)]();if(!_0x51ba44)_0x5b74a0[_0x484335(0x193)](_0x5b74a0[_0x484335(0xd0)],_0x5b74a0[_0x484335(0x1b0)])?(logger[_0x484335(0x1d5)](_0x484335(0x187)+_0x1e0c52[_0x484335(0x169)]+'\x20doesn\x27t\x20exist.\x20Proceeding\x20with\x20creating\x20a\x20new\x20cluster'),_0xf0dbd8=![],_0x554f87=!![]):_0x221509=_0x5b74a0['Ogaow'];else{if(_0x5b74a0[_0x484335(0x217)](_0x5b74a0[_0x484335(0x1dd)],_0x5b74a0[_0x484335(0x1e3)])){const _0x34c067={'azure.workload.identity/use':_0x5b74a0[_0x484335(0x1ce)],..._0x5865a6[0x0]['spec'][_0x484335(0x21a)][_0x484335(0x180)][_0x484335(0xaf)]};_0x58da39[0x0]['spec'][_0x484335(0x21a)][_0x484335(0x180)][_0x484335(0xaf)]=_0x34c067,_0x3b3dbc[0x0][_0x484335(0xa7)][_0x484335(0x21a)][_0x484335(0xa7)][_0x484335(0x18c)]=_0x5b74a0[_0x484335(0x15d)];}else _0xf0dbd8=!![];}_0x349080=_0x1e0c52[_0x484335(0x169)],_0x24a942=_0x1e0c52[_0x484335(0x1d3)][_0x484335(0xae)](),_0x4f48bc=_0x1e0c52['region'];}}else{if(_0x1e0c52[_0x484335(0x19d)]){if(_0x5b74a0[_0x484335(0x217)](_0x5b74a0[_0x484335(0xa6)],_0x5b74a0[_0x484335(0xa6)]))global_registry[_0x484335(0x19d)]=_0x1e0c52[_0x484335(0x19d)];else{const _0x2a8e17={};_0x2a8e17[_0x484335(0xaa)]=_0x19b6a6['LOG'],_0x2a8e17['message']=_0xf7b396,_0x3313b8[_0x484335(0x1c7)](_0x20ed38,_0x2a8e17,_0x5b74a0[_0x484335(0x1a2)],!![]);}}}global_registry[_0x484335(0x152)]=_0x1e0c52[_0x484335(0x152)];const _0xb097e7={'method':_0x5b74a0[_0x484335(0x139)],'headers':_0x5b74a0[_0x484335(0x92)](getAuthHeader,_0x25bdda[_0x484335(0x113)][_0x484335(0x110)],_0x25bdda[_0x484335(0x113)][_0x484335(0x14e)]),'throwHttpErrors':![]},_0x2d1d67={};_0x2d1d67['gridName']=_0x963fc0;const _0x26a4a9=_0x2d1d67;_0x554f87&&(_0x5b74a0[_0x484335(0x165)](_0x5b74a0['IaVGE'],_0x5b74a0[_0x484335(0x1b5)])?(_0x26a4a9['region']=_0x4f48bc,_0x26a4a9[_0x484335(0x1d3)]=_0x24a942,_0x26a4a9['newCluster']=!![],_0x26a4a9[_0x484335(0x1d1)]=_0x1e0c52['clusterAutoupgrade']):_0xf79a57=null);_0x1e0c52['clusterAutoupgrade']&&(_0x5b74a0[_0x484335(0x105)](_0x5b74a0[_0x484335(0x1f6)],_0x5b74a0['txROS'])?_0x1b1a39=!![]:logger[_0x484335(0x1d5)](_0x5b74a0['XkUDj']));const _0xcd4bb7=_0x484335(0x104)+AG_API_URL+_0x484335(0x95),_0x3c1c44={'searchParams':_0x26a4a9,'throwHttpErrors':![],..._0xb097e7},_0x57958d=_0x3c1c44,_0x37d149=await _0x5b74a0[_0x484335(0xfd)](got,_0xcd4bb7,_0x57958d);(_0x5b74a0[_0x484335(0x1ae)](_0x37d149,null)||_0x5b74a0['GuoaM'](_0x37d149,undefined))&&(_0x5b74a0[_0x484335(0x193)](_0x5b74a0[_0x484335(0x1c0)],_0x5b74a0['huoXo'])?(_0x1c5d43=_0x5b74a0['qvelM'],await _0x5b74a0[_0x484335(0x21c)](reportToGalactusAndSendToEDS,_0x1e0c52,_0xf83b41,_0x1c5d43,messageTypes['ERROR'],_0x5b74a0[_0x484335(0x15b)],_0x5b74a0[_0x484335(0x205)],_0x5b74a0[_0x484335(0x1a2)]),logger['error'](_0x1c5d43),process[_0x484335(0xe8)](0x1)):_0x3eb2ad[_0x484335(0xa1)]=!![]);_0x5b74a0['bcyoM'](_0x37d149[_0x484335(0x175)],0x191)&&(_0x5b74a0[_0x484335(0x80)](_0x5b74a0[_0x484335(0x1a9)],_0x5b74a0['JYMeu'])?(_0x1c5d43=_0x5b74a0['NhOFz'],await _0x5b74a0['CaFWw'](reportToGalactusAndSendToEDS,_0x1e0c52,_0xf83b41,_0x1c5d43,messageTypes['ERROR'],_0x5b74a0['KwwOa'],_0x5b74a0[_0x484335(0x14f)],_0x5b74a0['ZWgNB']),logger['error'](_0x1c5d43),process[_0x484335(0xe8)](0x1)):(_0x57bc41['region']=_0x8fa31f,_0x2765cf[_0x484335(0x1d3)]=_0x414ec9,_0x46c8e5[_0x484335(0x20c)]=!![],_0x3da6ea[_0x484335(0x1d1)]=_0x5a86ca[_0x484335(0x1bd)]));_0x5b74a0[_0x484335(0x80)](_0x37d149[_0x484335(0x175)],0xc8)&&(_0x5b74a0['JrGWu'](_0x5b74a0[_0x484335(0xe3)],_0x5b74a0[_0x484335(0xe3)])?(_0x1c5d43=_0x484335(0xfb)+JSON[_0x484335(0xca)](_0x37d149[_0x484335(0x126)]),await _0x5b74a0[_0x484335(0x21c)](reportToGalactusAndSendToEDS,_0x1e0c52,_0xf83b41,_0x1c5d43,messageTypes[_0x484335(0xb8)],_0x5b74a0[_0x484335(0x15b)],_0x5b74a0[_0x484335(0x1e7)],_0x5b74a0[_0x484335(0x1a2)]),logger['error'](_0x1c5d43),process['exit'](0x1)):_0x1d534b['isPrivateGrid']=!![]);const _0x3fc923=JSON[_0x484335(0xe0)](_0x37d149['body']),_0x3a7a91={};_0x3a7a91[_0x484335(0xaa)]=WS_EVENTS[_0x484335(0x145)],_0x3a7a91['message']=_0x5b74a0['guSlF'],webSocketUtils[_0x484335(0x1c7)](_0xf83b41,_0x3a7a91);const _0x4c34eb={};_0x4c34eb['type']=WS_EVENTS[_0x484335(0x151)],_0x4c34eb[_0x484335(0xad)]=_0x5b74a0[_0x484335(0x135)],webSocketUtils[_0x484335(0x1c7)](_0xf83b41,_0x4c34eb);if(_0x3fc923['alreadyPresent']){if(_0x5b74a0[_0x484335(0x14a)](_0x5b74a0['IUOLu'],_0x5b74a0[_0x484335(0x1bf)]))_0x1c5d43=_0x484335(0x1ec)+_0x963fc0+_0x484335(0x106),await _0x5b74a0[_0x484335(0x12b)](reportToGalactusAndSendToEDS,_0x1e0c52,_0xf83b41,_0x1c5d43,messageTypes[_0x484335(0xb8)],_0x5b74a0[_0x484335(0x15b)],_0x5b74a0['fHmXO'],_0x5b74a0[_0x484335(0x1a2)]),logger[_0x484335(0xb9)](_0x1c5d43),process[_0x484335(0xe8)](0x1);else{const _0x19c567=_0x5b74a0['kfoeL'][_0x484335(0x12a)]('|');let _0x16df33=0x0;while(!![]){switch(_0x19c567[_0x16df33++]){case'0':const _0x556a37={};_0x556a37[_0x484335(0xaa)]=_0x2eb133[_0x484335(0x145)],_0x556a37[_0x484335(0xad)]=_0x5b74a0[_0x484335(0x176)],_0x4c321b[_0x484335(0x1c7)](_0x34ceb2,_0x556a37);continue;case'1':_0x18a543[_0x484335(0x19b)]=_0x92bb56[_0x484335(0x19b)];continue;case'2':_0xdab6ff[_0x484335(0x1e0)]=_0x354eba;continue;case'3':_0x179129='Spawning\x20the\x20grid\x20'+_0x187416+'\x20in\x20existing\x20cluster\x20\x27'+_0x4247f5+'\x27';continue;case'4':_0x4e73dc['hubVersion']=_0x45dca0[_0x484335(0x1d7)];continue;case'5':const _0x4ae32a={};_0x4ae32a[_0x484335(0xaa)]=_0x4fa5ab[_0x484335(0x151)],_0x4ae32a[_0x484335(0xad)]=_0xb38a3f,_0xd55a41[_0x484335(0x1c7)](_0xdddf52,_0x4ae32a);continue;case'6':_0x2bb5cd[_0x484335(0x1d3)]=_0x49a28e;continue;case'7':_0x409ae5[_0x484335(0x1d5)](_0x107681);continue;case'8':_0x1c9859['clusterName']=_0x367b73;continue;}break;}}}const _0x426bdd=_0x3fc923['gridProfiles'];let _0xe52201=_0x426bdd[_0x3fc923['defaultGridProfile']];_0x1e0c52[_0x484335(0x19d)]&&(_0x5b74a0[_0x484335(0x193)](_0x5b74a0['bMMME'],_0x5b74a0['ezTMt'])?_0xe52201=_0x426bdd[_0x1e0c52[_0x484335(0x19d)]]:_0x20d541=_0x282a3a[_0x357a22['gridProfile']]);global_registry[_0x484335(0xc2)]=![];if(_0x1e0c52[_0x484335(0x115)]){if(_0x5b74a0['rySLa'](_0x5b74a0[_0x484335(0x84)],_0x5b74a0[_0x484335(0x210)]))_0x5b74a0[_0x484335(0x21f)](_0x2d8ecd,_0xffeac5['kafkaUploader']);else{const _0x49641a=_0x5b74a0['mgBwS'][_0x484335(0x12a)]('|');let _0x38cd9b=0x0;while(!![]){switch(_0x49641a[_0x38cd9b++]){case'0':global_registry['redisPassword']=_0x5b74a0[_0x484335(0x190)];continue;case'1':logger['info'](_0x5b74a0[_0x484335(0x194)]);continue;case'2':global_registry[_0x484335(0x17a)]=_0x5b74a0[_0x484335(0x19f)];continue;case'3':global_registry[_0x484335(0x1fb)]=_0x5b74a0[_0x484335(0x183)];continue;case'4':global_registry[_0x484335(0xc2)]=!![];continue;}break;}}}if(_0x5b74a0['TEZkZ'](_0xf0dbd8,![])&&_0x5b74a0['JZqQn'](_0x554f87,![])){if(_0x5b74a0[_0x484335(0x165)](_0x5b74a0[_0x484335(0xb1)],_0x5b74a0[_0x484335(0x7b)])){if(_0x5b74a0[_0x484335(0x11f)](_0xe52201,undefined)){if(_0x5b74a0[_0x484335(0x200)](_0x5b74a0['soNCE'],_0x5b74a0[_0x484335(0xda)]))throw new _0x43ead7(_0x484335(0x1d4)+_0x31b4fe+_0x484335(0x86));else _0x1c5d43=_0x5b74a0[_0x484335(0x17f)],await _0x5b74a0['Wxdud'](reportToGalactusAndSendToEDS,_0x1e0c52,_0xf83b41,_0x1c5d43,messageTypes[_0x484335(0xb8)],_0x5b74a0['KwwOa'],_0x5b74a0[_0x484335(0x140)],_0x5b74a0[_0x484335(0x1a2)]),logger['error'](_0x1c5d43),process['exit'](0x1);}global_registry[_0x484335(0x1f9)]=_0xe52201['id'],_0x1c5d43=_0x484335(0xd3)+_0x963fc0+_0x484335(0xed)+_0xe52201['name']+_0x484335(0x1ee),logger['info'](_0x1c5d43);const _0x2aac40={};_0x2aac40[_0x484335(0xaa)]=WS_EVENTS[_0x484335(0x151)],_0x2aac40[_0x484335(0xad)]=_0x1c5d43,webSocketUtils[_0x484335(0x1c7)](_0xf83b41,_0x2aac40),_0x24a942=_0xe52201[_0x484335(0x1d3)],_0x349080=_0xe52201[_0x484335(0x169)],_0x4f48bc=_0xe52201[_0x484335(0x10b)],_0x3df37e=_0xe52201['concurrency'],_0x3676c2=_0xe52201[_0x484335(0xd2)],_0x4bd24a=_0xe52201[_0x484335(0x182)],_0x959a50=_0xe52201[_0x484335(0xbc)],_0x350422=_0xe52201[_0x484335(0x1c2)],_0x232572=_0xe52201[_0x484335(0x15e)],_0x4c6c04=_0xe52201['minNodes'],_0x151c51=_0xe52201['maxNodes'],_0x4172f8=_0x3fc923[_0x484335(0x1d7)],_0x5ef327=_0x3fc923[_0x484335(0x19b)],_0x4bd24a&&_0x5b74a0[_0x484335(0x17b)](_0x4bd24a['length'],0x0)&&(_0x5b74a0[_0x484335(0x217)](_0x5b74a0[_0x484335(0xa9)],_0x5b74a0[_0x484335(0xa9)])?_0x4bd24a=null:_0x2116e6[_0x484335(0x19d)]=_0x1ea36e['gridProfile']),_0x350422&&_0x5b74a0['XlRJz'](_0x350422['length'],0x0)&&(_0x5b74a0[_0x484335(0x171)](_0x5b74a0[_0x484335(0x13d)],_0x5b74a0[_0x484335(0x1ff)])?_0x350422=null:_0x171234['info'](_0x5b74a0[_0x484335(0xf9)])),_0x5b74a0[_0x484335(0x193)](_0xe52201[_0x484335(0x1e5)],undefined)&&_0xe52201[_0x484335(0x1e5)]&&(_0x5b74a0[_0x484335(0xf0)](_0x5b74a0['SooEk'],_0x5b74a0[_0x484335(0x18d)])?global_registry[_0x484335(0xa1)]=!![]:_0x3a8434[_0x484335(0xa1)]=!![]),_0x5b74a0[_0x484335(0x12d)](updateGlobalRegistryWithConfig,_0x24a942,_0x349080,_0x4f48bc,_0x3df37e,_0x3676c2,_0x232572,_0xe52201,_0x4172f8,_0x5ef327,_0x4c6c04,_0x151c51,_0x1e0c52[_0x484335(0x1bd)]),global_registry[_0x484335(0xc2)]&&(_0x5b74a0[_0x484335(0xd4)](_0x5b74a0[_0x484335(0xc6)],_0x5b74a0[_0x484335(0xc6)])?_0x5b74a0[_0x484335(0x142)](updateGlobalRegistryForHubHa,_0x3fc923[_0x484335(0x172)]):_0x5342e5['error'](_0x484335(0xbe)+_0x13b8d4+'\x20\x0a'+_0x26e765[_0x484335(0xca)](_0x2f35b4[_0x484335(0x209)])));}else _0x300e31[_0x484335(0x1d5)]('Cluster:\x20'+_0x57a047[_0x484335(0x169)]+'\x20doesn\x27t\x20exist.\x20Proceeding\x20with\x20creating\x20a\x20new\x20cluster'),_0x1dc21e=![],_0x55dde5=!![];}else{if(_0x5b74a0['XlRJz'](_0x554f87,!![])){if(_0x5b74a0[_0x484335(0x1a5)](_0x5b74a0[_0x484335(0x20e)],_0x5b74a0[_0x484335(0x9f)]))_0x3ad404=_0x5d5aaa[_0x484335(0x85)],_0x199afa=_0x5b74a0[_0x484335(0xfa)];else{_0x1c5d43=_0x484335(0x11b)+_0x963fc0,logger['info'](_0x1c5d43);const _0x429f0c={};_0x429f0c['type']=WS_EVENTS[_0x484335(0x151)],_0x429f0c[_0x484335(0xad)]=_0x1c5d43,webSocketUtils['sendEventToBackend'](_0xf83b41,_0x429f0c),_0x3df37e=_0xe52201[_0x484335(0x229)],_0x3676c2=_0xe52201[_0x484335(0xd2)],_0x4bd24a=null,_0x959a50=null,_0x350422=null,_0x232572=_0xe52201[_0x484335(0x15e)],_0x4c6c04=_0xe52201[_0x484335(0x224)],_0x151c51=_0xe52201[_0x484335(0xba)],_0x4172f8=_0x3fc923['hubVersion'],_0x5ef327=_0x3fc923[_0x484335(0x19b)],_0x5b74a0[_0x484335(0x1e4)](_0xe52201[_0x484335(0x1e5)],undefined)&&_0xe52201[_0x484335(0x1e5)]&&(_0x5b74a0[_0x484335(0x1e4)](_0x5b74a0[_0x484335(0x133)],_0x5b74a0[_0x484335(0x133)])?_0x101de0[_0x484335(0x15c)]():global_registry[_0x484335(0xa1)]=!![]),_0x5b74a0['CWyBO'](updateGlobalRegistryWithConfig,_0x24a942,_0x349080,_0x4f48bc,_0x3df37e,_0x3676c2,_0x232572,_0xe52201,_0x4172f8,_0x5ef327,_0x4c6c04,_0x151c51,_0x1e0c52[_0x484335(0x1bd)]),global_registry['enableHubHa']&&(_0x5b74a0[_0x484335(0xa8)](_0x5b74a0['RpTyr'],_0x5b74a0[_0x484335(0xcd)])?_0x5b74a0[_0x484335(0xf5)](updateGlobalRegistryForHubHa,_0x3fc923[_0x484335(0x87)]):_0x15d35c=null);}}else{if(_0x5b74a0[_0x484335(0x14a)](_0x5b74a0['YUYtV'],_0x5b74a0[_0x484335(0x8f)])){const _0x5d0ba5=_0x5b74a0['Ynguk']['split']('|');let _0x3eb2a7=0x0;while(!![]){switch(_0x5d0ba5[_0x3eb2a7++]){case'0':_0x1c5d43='Spawning\x20the\x20grid\x20'+_0x963fc0+'\x20in\x20existing\x20cluster\x20\x27'+_0x349080+'\x27';continue;case'1':const _0x282f2e={};_0x282f2e[_0x484335(0xaa)]=WS_EVENTS[_0x484335(0x145)],_0x282f2e[_0x484335(0xad)]=_0x5b74a0[_0x484335(0x176)],webSocketUtils[_0x484335(0x1c7)](_0xf83b41,_0x282f2e);continue;case'2':global_registry['browserVersion']=_0x3fc923[_0x484335(0x19b)];continue;case'3':const _0x4dc452={};_0x4dc452['type']=WS_EVENTS[_0x484335(0x151)],_0x4dc452[_0x484335(0xad)]=_0x1c5d43,webSocketUtils[_0x484335(0x1c7)](_0xf83b41,_0x4dc452);continue;case'4':global_registry[_0x484335(0x1d3)]=_0x24a942;continue;case'5':logger[_0x484335(0x1d5)](_0x1c5d43);continue;case'6':global_registry[_0x484335(0x169)]=_0x349080;continue;case'7':global_registry[_0x484335(0x1d7)]=_0x3fc923['hubVersion'];continue;case'8':global_registry[_0x484335(0x1e0)]=_0x4f48bc;continue;}break;}}else _0x460faa=_0x5b74a0['AqDVp'];}}const _0x269dd8=await _0x5b74a0['Dtfie'](getCloudProviderObject,_0x24a942,_0x349080,_0x963fc0,_0xf83b41,webSocketUtils,_0x1e0c52);_0x5b74a0[_0x484335(0x14a)](_0x24a942,AZURE)&&(_0x5b74a0['JrGWu'](_0x5b74a0['bgUId'],_0x5b74a0[_0x484335(0x199)])?_0x269dd8[_0x484335(0x15c)]():_0xfd5d47=_0x5b74a0[_0x484335(0x153)]);let _0x3ca1fc;if(_0x5b74a0[_0x484335(0x1cc)](_0xf0dbd8,![])){_0x1c5d43=_0x484335(0x216)+_0x4f48bc+').';const _0x1278ff={};_0x1278ff['type']=WS_EVENTS[_0x484335(0x151)],_0x1278ff[_0x484335(0xad)]=_0x1c5d43,webSocketUtils['sendEventToBackend'](_0xf83b41,_0x1278ff),logger[_0x484335(0x1d5)](_0x1c5d43);const _0x1e7ebb=await _0x269dd8['isClusterPresent']();if(_0x1e7ebb){if(_0x5b74a0[_0x484335(0x171)](_0x5b74a0[_0x484335(0x167)],_0x5b74a0['bdGLh'])){const _0x1e944a={};_0x1e944a[_0x484335(0xaa)]=WS_EVENTS[_0x484335(0x151)],_0x1e944a['message']=_0x484335(0x1d4)+_0x349080+'\x20is\x20already\x20present.\x20Skipping\x20cluster\x20creation',webSocketUtils[_0x484335(0x1c7)](_0xf83b41,_0x1e944a,_0x5b74a0[_0x484335(0x212)]),logger[_0x484335(0x1d5)](_0x484335(0x1d4)+_0x349080+_0x484335(0xe2)),_0xf0dbd8=!![];if(_0x5b74a0[_0x484335(0x200)](_0x554f87,!![])){if(_0x5b74a0[_0x484335(0x165)](_0x5b74a0[_0x484335(0xb7)],_0x5b74a0[_0x484335(0x11e)]))throw new Error(_0x484335(0x1d4)+_0x349080+'\x20is\x20already\x20present.\x20Cannot\x20spawn\x20a\x20new\x20cluster');else{const _0x159fdb={};_0x159fdb[_0x484335(0xaa)]=_0x536740[_0x484335(0x151)],_0x159fdb[_0x484335(0xad)]='Cluster\x20'+_0x3dd785+_0x484335(0xe2),_0xb46092['sendEventToBackend'](_0x103354,_0x159fdb,_0x5b74a0[_0x484335(0x212)]),_0x21d0bd[_0x484335(0x1d5)](_0x484335(0x1d4)+_0x193046+_0x484335(0xe2)),_0x5d7fb6=!![];if(_0x5b74a0[_0x484335(0xa8)](_0x353d97,!![]))throw new _0x2adca0(_0x484335(0x1d4)+_0x552766+_0x484335(0x86));}}}else{const _0x2c09d0=_0x5b74a0[_0x484335(0xd5)]['split']('|');let _0x5393bc=0x0;while(!![]){switch(_0x2c09d0[_0x5393bc++]){case'0':_0x568ef7=_0x182ae0[_0x484335(0x224)];continue;case'1':_0x5b74a0[_0x484335(0x1f7)](_0x1d6741,_0x2cb6cd,_0x3e7276,_0x51f415,_0x2fff8f,_0x5d2db8,_0x1af2e7,_0x281557,_0x2917d7,_0x373685,_0x17f6bf,_0x23229f,_0x4a24cd[_0x484335(0x1bd)]);continue;case'2':_0x395248[_0x484335(0xc2)]&&_0x5b74a0['OLHCG'](_0x4013c3,_0xe41104[_0x484335(0x87)]);continue;case'3':_0x2b2085=_0x484335(0x11b)+_0x264ba0;continue;case'4':_0xc070e4=_0x32741a[_0x484335(0xba)];continue;case'5':_0x1105d2=_0x1351d8['browserVersion'];continue;case'6':_0x5b74a0['guhGj'](_0x4801c4[_0x484335(0x1e5)],_0x599c0a)&&_0x32a9cc[_0x484335(0x1e5)]&&(_0x4bdcd0[_0x484335(0xa1)]=!![]);continue;case'7':_0x27039b=_0x507d94[_0x484335(0xd2)];continue;case'8':_0x2ff755=_0x4783b6[_0x484335(0x1d7)];continue;case'9':_0x3f7c21=_0x4a7c90[_0x484335(0x15e)];continue;case'10':_0x742027=null;continue;case'11':_0x577761[_0x484335(0x1d5)](_0x4691d6);continue;case'12':_0x2793d2=null;continue;case'13':_0x2ace30=null;continue;case'14':const _0x4c29de={};_0x4c29de[_0x484335(0xaa)]=_0x27cf35[_0x484335(0x151)],_0x4c29de[_0x484335(0xad)]=_0x26fe36,_0x367331['sendEventToBackend'](_0x154dac,_0x4c29de);continue;case'15':_0x2405f7=_0x3d9791['concurrency'];continue;}break;}}}else{const _0x54c0d4={};_0x54c0d4[_0x484335(0xaa)]=WS_EVENTS[_0x484335(0x151)],_0x54c0d4[_0x484335(0xad)]=_0x5b74a0['jYuXQ'],webSocketUtils[_0x484335(0x1c7)](_0xf83b41,_0x54c0d4),logger[_0x484335(0x1d5)](_0x5b74a0['jYuXQ']);const _0x46cd3b=_0x5b74a0[_0x484335(0x8e)](_0x4bd24a,null)&&_0x5b74a0[_0x484335(0x14a)](_0x4bd24a,undefined),_0x4caba3=_0x5b74a0[_0x484335(0x195)](_0x350422,null)&&_0x5b74a0[_0x484335(0x1ac)](_0x350422,undefined)&&_0x5b74a0[_0x484335(0x10d)](_0x350422[_0x484335(0x13b)],0x0);if(_0x46cd3b){_0x5b74a0['bcyoM'](_0x4caba3,![])&&(_0x1c5d43=_0x5b74a0['BnGaL'],await _0x5b74a0['fzRWY'](reportToGalactusAndSendToEDS,_0x1e0c52,_0xf83b41,_0x1c5d43,messageTypes[_0x484335(0xb8)],_0x5b74a0[_0x484335(0x15b)],_0x5b74a0[_0x484335(0x1cd)],_0x5b74a0['ZWgNB']),logger[_0x484335(0xb9)](_0x1c5d43),process['exit'](0x1));const _0x695d46=await _0x269dd8[_0x484335(0x7c)](_0x4bd24a);_0x5b74a0[_0x484335(0x1bc)](_0x695d46,![])?(_0x1c5d43=_0x5b74a0[_0x484335(0x157)],await _0x5b74a0[_0x484335(0x111)](reportToGalactusAndSendToEDS,_0x1e0c52,_0xf83b41,_0x1c5d43,messageTypes[_0x484335(0xb8)],_0x5b74a0[_0x484335(0x15b)],_0x5b74a0['taIWE'],_0x5b74a0[_0x484335(0x1a2)]),logger['error'](_0x1c5d43),process[_0x484335(0xe8)](0x1)):logger['info'](_0x484335(0x218)+_0x4bd24a+'\x20');const _0x751f78=await _0x269dd8[_0x484335(0x156)](_0x350422,_0x4bd24a);_0x5b74a0[_0x484335(0x1b9)](_0x751f78[0x0],![])?(_0x1c5d43=_0x484335(0x147)+JSON[_0x484335(0xca)](_0x751f78[0x1])+_0x484335(0x20b)+_0x4bd24a+'.\x20Please\x20re\x20-\x20select\x20subnets\x20and\x20try\x20again',await _0x5b74a0[_0x484335(0x21c)](reportToGalactusAndSendToEDS,_0x1e0c52,_0xf83b41,_0x1c5d43,messageTypes[_0x484335(0xb8)],_0x5b74a0[_0x484335(0x15b)],_0x5b74a0['VOukz'],_0x5b74a0['ZWgNB']),logger['error'](_0x1c5d43),process['exit'](0x1)):logger['info'](_0x484335(0xbd)+JSON[_0x484335(0xca)](_0x350422)+'\x20'),[_0x4bd24a,_0x350422]=await _0x269dd8[_0x484335(0x12e)](_0x4bd24a,_0x350422);}else{const _0xb8ba87=_0x5b74a0[_0x484335(0x177)][_0x484335(0x12a)]('|');let _0x52d26b=0x0;while(!![]){switch(_0xb8ba87[_0x52d26b++]){case'0':logger['info'](_0x5b74a0[_0x484335(0x17d)]);continue;case'1':const _0x480b3f={};_0x480b3f[_0x484335(0xaa)]=WS_EVENTS[_0x484335(0x151)],_0x480b3f[_0x484335(0xad)]=_0x5b74a0[_0x484335(0x226)],webSocketUtils['sendEventToBackend'](_0xf83b41,_0x480b3f);continue;case'2':const _0x3ddf46={};_0x3ddf46['type']=WS_EVENTS[_0x484335(0x151)],_0x3ddf46[_0x484335(0xad)]=_0x5b74a0['yMEaW'],webSocketUtils[_0x484335(0x1c7)](_0xf83b41,_0x3ddf46);continue;case'3':[_0x4bd24a,_0x350422]=await _0x269dd8['setupNewCluster'](_0x4bd24a,_0x350422);continue;case'4':logger[_0x484335(0x1d5)](_0x5b74a0[_0x484335(0x226)]);continue;}break;}}}}_0xf0dbd8&&_0x5b74a0[_0x484335(0x1db)](_0x24a942,AZURE)&&(await _0x269dd8[_0x484335(0x1ed)](),await _0x269dd8['createOtherResources']());const [_0x31c7ea,_0x254fdd,_0x12927d,_0x3832bc,_0x527e27,_0x401299,_0x7b5ad0]=await _0x5b74a0[_0x484335(0x92)](createK8sClient,_0x269dd8,_0x1e0c52[_0x484335(0x143)]);_0x5b74a0[_0x484335(0x162)](_0xf0dbd8,![])&&_0x5b74a0[_0x484335(0x1bc)](_0x24a942,AWS)&&(global_registry[_0x484335(0x185)]=!![],_0x3ca1fc=await _0x269dd8[_0x484335(0x11d)](_0x31c7ea,_0x1e0c52));if(_0x5b74a0['GRRxR'](_0xf0dbd8,![])&&global_registry[_0x484335(0xc2)])try{await _0x269dd8['setupHubHa'](_0x401299,_0x7b5ad0,_0x1e0c52,_0x4bd24a,_0x350422);const _0x532be9={};_0x532be9[_0x484335(0xaa)]=WS_EVENTS['LOG'],_0x532be9[_0x484335(0xad)]=_0x5b74a0[_0x484335(0x1ea)],webSocketUtils['sendEventToBackend'](_0xf83b41,_0x532be9);!await _0x5b74a0['ubpsu'](namespaceExists,_0x31c7ea,global_registry[_0x484335(0x1fb)])&&await _0x5b74a0[_0x484335(0xfd)](createNamespace,_0x31c7ea,global_registry[_0x484335(0x1fb)]);logger[_0x484335(0x1d5)](_0x5b74a0['bXNtm']);let _0x55b27d=await fs[_0x484335(0x1f0)](path[_0x484335(0x11a)](__dirname,_0x5b74a0[_0x484335(0xf3)],_0x5b74a0[_0x484335(0x1ab)],_0x5b74a0[_0x484335(0x129)],_0x5b74a0[_0x484335(0x117)]),_0x5b74a0['PawEy']);_0x55b27d=_0x55b27d[_0x484335(0x1e1)](/<RedisClientPassword>/g,_0x5b74a0[_0x484335(0x78)](encodeBase64,global_registry['redisPassword'])),_0x55b27d=_0x55b27d[_0x484335(0x1e1)](/<KafkaClientPassword>/g,_0x5b74a0[_0x484335(0x142)](encodeBase64,global_registry['kafkaPassword'])),_0x55b27d=_0x55b27d['replace'](/<BstackUsername>/g,_0x5b74a0[_0x484335(0x78)](encodeBase64,global_registry[_0x484335(0x188)])),_0x55b27d=_0x55b27d[_0x484335(0x1e1)](/<BstackAccessKey>/g,_0x5b74a0[_0x484335(0xf5)](encodeBase64,global_registry[_0x484335(0xa2)]));const _0x505ba3=yaml[_0x484335(0x203)](_0x55b27d);await _0x5b74a0[_0x484335(0x19c)](kubeApply,_0x505ba3,_0x7b5ad0),logger['info'](_0x5b74a0[_0x484335(0x189)]);let _0x13a5e3=_0x5b74a0[_0x484335(0x18b)];if(_0x5b74a0[_0x484335(0x1db)](_0x24a942,AZURE))_0x13a5e3=_0x5b74a0['Ogaow'];else _0x5b74a0['VRIIv'](_0x24a942,GCP)&&(_0x13a5e3=_0x5b74a0['wxJJf']);logger[_0x484335(0x1d5)](_0x5b74a0['yPKgD']);let _0x212e20=await fs[_0x484335(0x1f0)](path[_0x484335(0x11a)](__dirname,_0x5b74a0[_0x484335(0xf3)],_0x5b74a0['LBnoV'],_0x5b74a0[_0x484335(0x129)],_0x5b74a0[_0x484335(0xc8)]),_0x5b74a0[_0x484335(0x16d)]);_0x212e20=_0x212e20[_0x484335(0x1e1)](/<HubHaNameSpace>/g,global_registry[_0x484335(0x1fb)]),_0x212e20=_0x212e20['replace'](/<StorageClassName>/g,_0x13a5e3);const _0x344db3=yaml[_0x484335(0x203)](_0x212e20);await _0x5b74a0[_0x484335(0x19c)](kubeApply,_0x344db3,_0x7b5ad0),logger['info'](_0x5b74a0[_0x484335(0x13f)]),logger[_0x484335(0x1d5)](_0x5b74a0[_0x484335(0xe1)]);let _0x46180a=await fs['readFileAsync'](path[_0x484335(0x11a)](__dirname,_0x5b74a0[_0x484335(0xf3)],_0x5b74a0[_0x484335(0x1ab)],_0x5b74a0[_0x484335(0x129)],_0x5b74a0[_0x484335(0xf2)]),_0x5b74a0['PawEy']);_0x46180a=_0x46180a[_0x484335(0x1e1)](/<HubHaNameSpace>/g,global_registry[_0x484335(0x1fb)]),_0x46180a=_0x46180a[_0x484335(0x1e1)](/<StorageClassName>/g,_0x13a5e3);const _0x57e7c6=yaml[_0x484335(0x203)](_0x46180a);await _0x5b74a0['Hdecj'](kubeApply,_0x57e7c6,_0x7b5ad0),logger[_0x484335(0x1d5)](_0x5b74a0[_0x484335(0x17e)]),logger[_0x484335(0x1d5)](_0x5b74a0[_0x484335(0x213)]);let _0x5d99db=await fs[_0x484335(0x1f0)](path[_0x484335(0x11a)](__dirname,_0x5b74a0[_0x484335(0xf3)],_0x5b74a0[_0x484335(0x1ab)],_0x5b74a0[_0x484335(0x129)],_0x5b74a0[_0x484335(0xd8)]),_0x5b74a0[_0x484335(0x16d)]);_0x5d99db=_0x5d99db[_0x484335(0x1e1)](/<UploaderImageVersion>/g,global_registry[_0x484335(0x1f5)]),_0x5d99db=_0x5d99db[_0x484335(0x1e1)](/<HubHaNameSpace>/g,global_registry[_0x484335(0x1fb)]);const _0x4077d8=yaml[_0x484335(0x203)](_0x5d99db);_0x5b74a0[_0x484335(0xd4)](global_registry['cloudProvider'],AZURE)&&(_0x4077d8[0x0]['spec']['template'][_0x484335(0x180)][_0x484335(0xaf)]={'azure.workload.identity/use':_0x5b74a0['OYBcY'],..._0x4077d8[0x0]['spec'][_0x484335(0x21a)][_0x484335(0x180)][_0x484335(0xaf)]},_0x4077d8[0x0][_0x484335(0xa7)]['template'][_0x484335(0xa7)][_0x484335(0x18c)]=_0x5b74a0[_0x484335(0x15d)]);await _0x5b74a0['YPXye'](kubeApply,_0x4077d8,_0x7b5ad0),logger[_0x484335(0x1d5)](_0x5b74a0[_0x484335(0x208)]);const _0xeeabb2={};_0xeeabb2[_0x484335(0xaa)]=WS_EVENTS[_0x484335(0x151)],_0xeeabb2[_0x484335(0xad)]=_0x5b74a0['JsTeR'],webSocketUtils[_0x484335(0x1c7)](_0xf83b41,_0xeeabb2),logger[_0x484335(0x1d5)](_0x5b74a0['UnklD']);}catch(_0x35b39d){const _0x158c6c=_0x5b74a0[_0x484335(0xea)]['split']('|');let _0x26c0a5=0x0;while(!![]){switch(_0x158c6c[_0x26c0a5++]){case'0':logger[_0x484335(0xb9)](_0x1c5d43);continue;case'1':await _0x269dd8[_0x484335(0xd7)](_0x31c7ea,global_registry['clusterRegion']);continue;case'2':_0x1c5d43=_0x484335(0x79)+_0x35b39d[_0x484335(0xad)];continue;case'3':await _0x5b74a0[_0x484335(0x81)](reportToGalactusAndSendToEDS,_0x1e0c52,_0xf83b41,_0x1c5d43,messageTypes[_0x484335(0xb8)],_0x5b74a0[_0x484335(0x15b)],_0x5b74a0[_0x484335(0x130)],_0x5b74a0[_0x484335(0x1a2)]);continue;case'4':process[_0x484335(0xe8)](0x1);continue;}break;}}try{_0x194053=_0x5b74a0[_0x484335(0x16f)](kebabCase,_0x963fc0),logger['info'](_0x5b74a0[_0x484335(0xf7)]);const _0x1126fe={};_0x1126fe[_0x484335(0xaa)]=WS_EVENTS[_0x484335(0x151)],_0x1126fe[_0x484335(0xad)]=_0x5b74a0[_0x484335(0xf7)],webSocketUtils[_0x484335(0x1c7)](_0xf83b41,_0x1126fe);if(_0x5b74a0['CaRMU'](_0x194053,_0x5b74a0[_0x484335(0x15d)])){const _0x5d4465={};_0x5d4465[_0x484335(0x192)]=_0x5b74a0[_0x484335(0x1de)],_0x5d4465['managedBy']=_0x5b74a0[_0x484335(0x1de)];const _0x1075fd={};_0x1075fd['name']=_0x194053,_0x1075fd[_0x484335(0x1e8)]=_0x5d4465;const _0x220cd7={};_0x220cd7[_0x484335(0x180)]=_0x1075fd;const _0x3adf1d=_0x220cd7,_0xbb7815={};_0xbb7815[_0x484335(0x126)]=_0x3adf1d,await _0x31c7ea[_0x484335(0x221)](_0xbb7815),logger['info'](_0x5b74a0[_0x484335(0x1aa)]);}const _0x14c8a2={};_0x14c8a2[_0x484335(0xaa)]=WS_EVENTS[_0x484335(0x151)],_0x14c8a2[_0x484335(0xad)]=_0x5b74a0['ICQnO'],webSocketUtils[_0x484335(0x1c7)](_0xf83b41,_0x14c8a2);const _0x5b69cd={};_0x5b69cd[_0x484335(0xaa)]=WS_EVENTS[_0x484335(0x151)],_0x5b69cd[_0x484335(0xad)]=_0x5b74a0[_0x484335(0x1bb)],webSocketUtils[_0x484335(0x1c7)](_0xf83b41,_0x5b69cd),logger[_0x484335(0x1d5)](_0x5b74a0[_0x484335(0x141)]);let _0x448857={};_0x5b74a0[_0x484335(0xc9)](_0x24a942,AZURE)&&(_0x448857={'clientId':await _0x269dd8[_0x484335(0x10a)]('turboscale-managed-identity-'+_0x349080)});await _0x5b74a0[_0x484335(0x16b)](addGridComponents,_0x31c7ea,_0x254fdd,_0x12927d,_0x3832bc,_0x194053,_0x349080,_0x3ca1fc,_0x527e27,_0x7b5ad0,_0x448857),_0x1c5d43=_0x5b74a0[_0x484335(0xcf)],logger[_0x484335(0x1d5)](_0x1c5d43);const _0x51173f={};_0x51173f[_0x484335(0xaa)]=WS_EVENTS[_0x484335(0x151)],_0x51173f[_0x484335(0xad)]=_0x1c5d43,webSocketUtils['sendEventToBackend'](_0xf83b41,_0x51173f),_0x1c5d43=_0x5b74a0[_0x484335(0x186)],logger[_0x484335(0x1d5)](_0x1c5d43);const _0x4ca255={};_0x4ca255[_0x484335(0xaa)]=WS_EVENTS[_0x484335(0x151)],_0x4ca255[_0x484335(0xad)]=_0x1c5d43,webSocketUtils[_0x484335(0x1c7)](_0xf83b41,_0x4ca255),await _0x5b74a0[_0x484335(0x8a)](waitForDeployment,_0x254fdd,_0x194053,TURBOSCALE_DEPLOYMENT,0x1d4c0);const _0x511eb1=await _0x5b74a0[_0x484335(0xeb)](getNamespaceUID,_0x31c7ea,_0x194053),_0x39de47=global_registry['isPrivateGrid']?_0x5b74a0[_0x484335(0xee)]:_0x5b74a0[_0x484335(0x1d9)],_0x368824={};_0x368824[_0x484335(0x21b)]=_0x39de47,_0x368824[_0x484335(0xa4)]=_0x5b74a0['KKotf'];const _0x12d82f=await _0x31c7ea[_0x484335(0x148)](_0x368824);let _0x5b958e=_0x269dd8['getGridHostname'](_0x12d82f)+'/'+_0x194053,_0x3445c8=_0x5b74a0['AqDVp'];try{const _0x5e91be=_0x484335(0x104)+AG_API_URL+_0x484335(0x8b)+_0x511eb1,_0x249661=await _0x5b74a0['eyAdg'](got,_0x5e91be,_0xb097e7);(_0x5b74a0['NMxWd'](_0x249661,null)||_0x5b74a0[_0x484335(0x184)](_0x249661,undefined))&&(_0x1c5d43=_0x5b74a0[_0x484335(0x9a)],await _0x5b74a0['DGXlG'](reportToGalactusAndSendToEDS,_0x1e0c52,_0xf83b41,_0x1c5d43,messageTypes[_0x484335(0xb8)],_0x5b74a0[_0x484335(0x15b)],_0x5b74a0['BbjQG'],_0x5b74a0[_0x484335(0x1a2)]),logger[_0x484335(0xb9)](_0x1c5d43),process['exit'](0x1));_0x5b74a0[_0x484335(0x11c)](_0x249661['statusCode'],0x191)&&(_0x1c5d43=_0x5b74a0[_0x484335(0x9e)],await _0x5b74a0['VsHTC'](reportToGalactusAndSendToEDS,_0x1e0c52,_0xf83b41,_0x1c5d43,messageTypes['ERROR'],_0x5b74a0['KwwOa'],_0x5b74a0[_0x484335(0xa3)],_0x5b74a0[_0x484335(0x1a2)]),logger[_0x484335(0xb9)](_0x1c5d43),process['exit'](0x1));_0x5b74a0[_0x484335(0x1b7)](_0x249661[_0x484335(0x175)],0xc8)&&(_0x1c5d43=_0x484335(0x13e)+JSON[_0x484335(0xca)](_0x249661),await _0x5b74a0[_0x484335(0xef)](reportToGalactusAndSendToEDS,_0x1e0c52,_0xf83b41,_0x1c5d43,messageTypes[_0x484335(0xb8)],_0x5b74a0[_0x484335(0x15b)],_0x5b74a0[_0x484335(0x120)],_0x5b74a0[_0x484335(0x1a2)]),logger[_0x484335(0xb9)](_0x1c5d43),process[_0x484335(0xe8)](0x1));const _0x1b1af5=JSON[_0x484335(0xe0)](_0x249661[_0x484335(0x126)]);_0x1b1af5['route53']&&(_0x5b958e=_0x1b1af5[_0x484335(0x85)],_0x3445c8=_0x5b74a0['NyLFI']),global_registry['isPrivateGrid']&&(_0x3445c8=_0x5b74a0['AqDVp']);}catch(_0xbd61f4){}_0x1c5d43=_0x484335(0x1d2)+_0x5b958e+'\x20',logger[_0x484335(0x1d5)](_0x1c5d43);const _0x54218d={};_0x54218d[_0x484335(0xaa)]=WS_EVENTS[_0x484335(0x151)],_0x54218d[_0x484335(0xad)]=_0x1c5d43,webSocketUtils[_0x484335(0x1c7)](_0xf83b41,_0x54218d),_0x1c5d43=_0x484335(0x1cf)+_0x3445c8+_0x484335(0x107)+_0x5b958e+_0x484335(0x206),logger['info'](_0x1c5d43);const _0x4a7f3e={};_0x4a7f3e[_0x484335(0xaa)]=WS_EVENTS['LOG'],_0x4a7f3e[_0x484335(0xad)]=_0x1c5d43,webSocketUtils[_0x484335(0x1c7)](_0xf83b41,_0x4a7f3e);const _0x332fa4={};_0x332fa4[_0x484335(0xaa)]=WS_EVENTS[_0x484335(0xdd)],_0x332fa4[_0x484335(0xad)]='CLI\x20run\x20finished:\x20'+_0x5b958e,webSocketUtils[_0x484335(0x1c7)](_0xf83b41,_0x332fa4),await webSocketUtils['delay'](0x7d0);}catch(_0x15a938){logger[_0x484335(0xb9)](_0x484335(0x196)+_0x15a938+'\x20\x0a'+JSON[_0x484335(0xca)](_0x15a938[_0x484335(0x209)]));if(_0x5b74a0[_0x484335(0x19e)](_0xf0dbd8,![]))try{logger['info'](_0x5b74a0[_0x484335(0xb0)]),await _0x5b74a0[_0x484335(0x1fc)](removeGridComponents,_0x31c7ea,_0x254fdd,_0x12927d,_0x3832bc,_0x194053),await _0x269dd8[_0x484335(0xd7)](_0x31c7ea,global_registry[_0x484335(0x1e0)]);}catch(_0x886a98){logger[_0x484335(0xb9)]('Failed\x20to\x20delete\x20the\x20CloudFormation\x20Stacks\x20and\x20other\x20spawned\x20components.\x20Error:\x20\x20'+_0x886a98+'\x20\x0a'+JSON['stringify'](_0x886a98[_0x484335(0x209)]));}throw _0x15a938;}}catch(_0x266ac3){const _0x165c8d='Unable\x20to\x20Spawn\x20the\x20Grid!\x20Error:\x20'+_0x266ac3+'\x20\x0a'+JSON[_0x484335(0xca)](_0x266ac3[_0x484335(0x209)]);if(_0xf83b41){const _0x289453={};_0x289453[_0x484335(0xaa)]=WS_EVENTS[_0x484335(0x151)],_0x289453[_0x484335(0xad)]=_0x165c8d,webSocketUtils[_0x484335(0x1c7)](_0xf83b41,_0x289453,_0x5b74a0['ZWgNB'],!![]);}await webSocketUtils[_0x484335(0x1d6)](0x7d0);const _0x32e9bf={};_0x32e9bf[_0x484335(0xb9)]=_0x165c8d,await _0x5b74a0[_0x484335(0xc1)](sendInstrumentationEvent,_0x1e0c52,_0x5b74a0['KwwOa'],messageTypes['ERROR'],_0x5b74a0[_0x484335(0x121)],_0x32e9bf,_0x1e0c52),logger[_0x484335(0xb9)](_0x165c8d);}process['exit'](0x0);};function a9_0x5e19(){const _0x33bafe=['iQUfq','AqFav','isNewAWSCluster','yNjSD','Cluster:\x20','bstackUsername','fwGFS','Sbqhj','sbzwb','serviceAccountName','SooEk','create','get-grid-url-auth-failed','xgIbp','3|11|14|15|7|13|10|12|9|0|4|8|5|6|1|2','createdBy','guhGj','NxIuu','ShNGX','Error\x20in\x20Spawning\x20the\x20Grid!\x20Error:\x20','SOglX','2|0|3|1|4','bgUId','create-grid-checks-auth-failed','browserVersion','eyAdg','gridProfile','gaxIJ','OiOhp','hub-ha','Adding\x20Kafka\x20deployment...','ZWgNB','existsSync','isClusterPresent','NMxWd','Adding\x20Websocket\x20listeners','Added\x20Kafka\x20deployment.','non-aws-azure-cluster','bZsoJ','IUnDQ','LBnoV','CaRMU','Flag\x20to\x20enable\x20cluster\x20auto-upgrade','XlRJz','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','pYwYz','Epyd5nXbRK','ZaGBT','OPGKo','BQpYN','inOoy','../../cloudproviders/utils','AHcwc','get\x20grid\x20url\x20from\x20the\x20server.\x20Unknown\x20error!','rySLa','get-grid-url-null-response','DQRRf','WiJPS','clusterAutoupgrade','Spawning\x20Grid\x20on\x20the\x20Cluster','VpisM','NKEmZ','IlXcs','subnets','Cluster\x20Auto\x20Upgrade\x20is\x20enabled','bitnami-kafka.yaml','Namespace\x20created','14475moXIns','sendEventToBackend','Create\x20a\x20private/public\x20grid.','esQRD','handler','WiRDW','JIcJk','TGpjG','OYBcY','Hub\x20url\x20to\x20run\x20selenium\x20sessions:\x20','grid-name','clusterAutoUpgrade','Grid\x20can\x20be\x20accessed\x20at:\x20','cloudProvider','Cluster\x20','info','delay','hubVersion','AlAoM','AylxT','Spawning\x20grid\x20on\x20to\x20the\x20cluster','eOENU','ingress-nginx-controller','SOlPJ','pfPnG','includes','clusterRegion','replace','Subnets\x20not\x20selected.\x20Please\x20select\x20subnets\x20and\x20try\x20again','BBVIQ','Sxcvv','privateGrid','usage','RUsFI','annotations','GTSBa','HDTFt','186taodHJ','An\x20Automation\x20Grid\x20already\x20exists\x20with\x20grid\x20name\x20','updateClusterAlreadyPresent','\x27\x20grid\x20profile','get-grid-url-non-200','readFileAsync','reconnecting-websocket','Dtfie','redisPassword','got','uploaderImageVersion','Kfcde','WPedt','bitnami-redis.yaml','gridProfileId','Added\x20Redis\x20deployment.','hubHaNameSpace','TGbWi','FltTz','path','pPwDk','GRRxR','INFO','2|0|4|1|3','loadAll','Pass\x20the\x20name\x20to\x20setup\x20the\x20Automation\x20Grid\x20with\x20specific\x20name.\x20Name\x20this\x20grid\x20using\x20either\x20team\x27s\x20name,\x20pipeline\x20specific\x20or\x20generic.','fwEyT','/wd/hub','tjwPH','odYxs','stack','../../config/logger','\x20are\x20not\x20present\x20in\x20VPC:\x20','newCluster','cpnzk','sQKeb','create-grid-checks-invalid-profile','YLdiv','desc','CFYOK','qPewB','pre-spawned-subnets-not-selected','jTzNy','Checking\x20if\x20cluster\x20is\x20already\x20present\x20in\x20selected\x20region(','fGylv','Found\x20VPC:\x20','IZGPw','template','name','fzRWY','hub-ha-deployments-failed','Deleting\x20the\x20CloudFormation\x20Stacks','AiVxH','user','createNamespace','create-grid-checks-null-response','DskfQ','minNodes','NftmV','VuSiD','Added\x20Turboscale\x20Uploader\x20deployment.','XDKDU','concurrency','Adding\x20Secret\x20Mapping','HHZuO','Error\x20occurred\x20while\x20setting\x20up\x20Hub\x20HA\x20infra:\x20','AmeWO','qYjSm','isVPCPresent','private-ingress-nginx-controller','cluster-autoupgrade','yIFqd','BxIoX','VsHTC','GhEhz','bWobP','PuDBT','route53','\x20is\x20already\x20present.\x20Cannot\x20spawn\x20a\x20new\x20cluster','kafkaUploader','EHqAp','Creating\x20namespace','BGTci','/packages/cli/get-grid-url?gridIdentifier=','cluster-name,\x20cloud-provider\x20&&\x20region\x20should\x20be\x20provided\x20when\x20spawning\x20a\x20grid\x20in\x20existing\x20(Non-BrowserStack\x20created)\x20K8s\x20cluster','turboscale-uploader.yaml','nOnpz','lSxYp','cluster-name','builder','Hdecj','UkRNzNYCBU','yygTf','/packages/cli/create-grid-checks','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','string','zXyco','QUCrv','BDemS','nShbJ','private-grid','../../utils/instrumentationUtils','UBXPu','Kidfa','HQmvs','isPrivateGrid','bstackAccesskey','YoTEu','namespace','BybFB','vynpH','spec','GuoaM','XtWyc','type','grid-spawning-failed','pre-spawned-invalid-subnets','message','toLowerCase','labels','PIdWp','yBdCZ','MCyNt','peAea','cnXon','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','1XTjgjQ','itzxa','ERROR','error','maxNodes','QJMxB','securityGroups','Found\x20Subnets:\x20','Failed\x20to\x20delete\x20the\x20CloudFormation\x20Stacks\x20and\x20other\x20spawned\x20components.\x20Error:\x20\x20','46556829YbYHkd','RYAma','dMJSH','enableHubHa','The\x20grid\x20creation\x20is\x20in\x20progress.\x20It\x20could\x20take\x20as\x20long\x20as\x2015-20\x20minutes.\x20You\x20will\x20receive\x20an\x20email\x20notification\x20once\x20the\x20grid\x20is\x20ready.','Grid\x20profile\x20fetched\x20from\x20backend','iVLtE','jQddp','grid-profile','lFmdF','GiNmi','stringify','Hub\x20HA\x20setup\x20completed\x20successfully.','../../config/constants','RpTyr','boolean','NCqsL','iVJqq','nLzaA','instanceType','Will\x20be\x20spawning\x20the\x20grid\x20','TEZkZ','brWmS','VPC\x20selected\x20does\x20not\x20exist.\x20Please\x20try\x20again','deleteCluster','USpqB','MRiRt','icuhc','premium-rwo','TPaFC','CLI_RUN_FINISHED','epilogue','cloud-provider','parse','HoANL','\x20is\x20already\x20present.\x20Skipping\x20cluster\x20creation','TxMJd','Invalid\x20Grid\x20Profile.Exiting\x20the\x20CLI.','Grid\x20spawned\x20on\x20the\x20cluster','Created\x20Hub\x20HA\x20resources','XdoPU','exit','370urcvek','BEHCB','xMeWc','CLnTj','\x20using\x20\x27','LiABG','OImUI','CeBaf','skip-tls-cert-verify','GRBuM','KwuyF','create-grid-checks-non-200','MDzcc','iRgmS','wfvGZ','../../utils/webSocketUtils','XkUDj','NyLFI','Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Non\x20200\x20response\x20from\x20server!\x20','nXLoL','ubpsu','js-yaml','ijKeG','LbSmD','pgQgi','wCCjF','eLsRI','https://','JrGWu','.\x20Please\x20use\x20--grid-name\x20option\x20to\x20provide\x20another\x20grid\x20name','://','Skip\x20insecure\x20cert\x20verification.','Oualc','getResourceClientId','region','RFWPa','bTzeH','azurefile-csi-premium','3529490QHBnOQ','username','lojKh','GDIgJ','Browserstack','argv','hubHa','jUvRE','tPznW','Enabling\x20Hub\x20HA\x20flow','yqHCQ','join','Will\x20be\x20spawning\x20a\x20new\x20cluster\x20and\x20the\x20grid\x20','XeHVo','setupAutoscaler','eoUTR','iFNou','EUPiX','PeooS','warn','GET','mcFtQ','0|3|7|5|6|2|8|4|1','body','jZmMn','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','OvJQi','split','qeOTb','556362AuxlOd','CWyBO','setupNewCluster','init-not-called','DdIeu','GVUup','1488046LGzUcG','qtMWU','readFileSync','ZzPlo','description','jDpCk','tNeVo','qXEBT','addListeners','length','Adding\x20Redis\x20deployment...','CIRkj','Failed\x20to\x20get\x20grid\x20url\x20from\x20the\x20server.\x20Non\x20200\x20response\x20from\x20server!\x20','ocsgM','hWWhv','aPOOl','OLHCG','skipTlsCertVerify','jKciy','CLI_RUN_STARTED','Namespace\x20Created','Subnets:\x20','readNamespacedService','23004OKqaLh','rRweQ','tUBMm','help','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','password','UjIzP','default','LOG','gridName','wxJJf','../../utils/utilityMethods','https','isSubnetsValid','Cemjn','16CuhOyd','Adding\x20Turboscale\x20Uploader\x20deployment...','xbdbd','KwwOa','sendResourceDataToHST','jPwkk','s3bucket','http','8156656ygGuRv','QuLcw','bcyoM','browserstack','grid','iKgwz','prespawned-cluster-args-not-passed','sGPKI','create-grid-called','clusterName','usvwG','dVpQw','Failed\x20to\x20validate\x20grid\x20checks\x20from\x20the\x20server.\x20Unauthorized\x20request!','PawEy','uuid','vcXaW','utf-8','SviOt','uploaderVersion','zGHmz','1|0|5|3|4|8|6|7|2','statusCode','guSlF','hdfAq','../..','wfAiH','kafkaPassword','JZqQn','mNSPm','yMEaW','eAoKW','fLpRh','metadata','HVgWb','vpc'];a9_0x5e19=function(){return _0x33bafe;};return a9_0x5e19();}