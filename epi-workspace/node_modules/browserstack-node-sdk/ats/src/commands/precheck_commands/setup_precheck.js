const a17_0x3e02de=a17_0x2381;function a17_0x2381(_0x4d56af,_0xfa3ec3){const _0x338ef2=a17_0x338e();return a17_0x2381=function(_0x23813e,_0xf8af56){_0x23813e=_0x23813e-0x167;let _0x36bb29=_0x338ef2[_0x23813e];return _0x36bb29;},a17_0x2381(_0x4d56af,_0xfa3ec3);}(function(_0x2b68df,_0x151197){const _0x25761a=a17_0x2381,_0x2e60b0=_0x2b68df();while(!![]){try{const _0x3578a5=-parseInt(_0x25761a(0x21f))/0x1*(-parseInt(_0x25761a(0x21d))/0x2)+parseInt(_0x25761a(0x23a))/0x3*(parseInt(_0x25761a(0x228))/0x4)+parseInt(_0x25761a(0x177))/0x5*(parseInt(_0x25761a(0x1c5))/0x6)+parseInt(_0x25761a(0x21a))/0x7*(parseInt(_0x25761a(0x24a))/0x8)+parseInt(_0x25761a(0x1de))/0x9+-parseInt(_0x25761a(0x1dd))/0xa+-parseInt(_0x25761a(0x190))/0xb;if(_0x3578a5===_0x151197)break;else _0x2e60b0['push'](_0x2e60b0['shift']());}catch(_0x4f9e77){_0x2e60b0['push'](_0x2e60b0['shift']());}}}(a17_0x338e,0x22aaa));const fs=require('fs'),ws=require('ws'),got=require(a17_0x3e02de(0x218)),{v4:uuidv4}=require(a17_0x3e02de(0x19a)),ReconnectingWebSocket=require(a17_0x3e02de(0x1f1)),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require('../../utils/utilityMethods'),{logger}=require('../../config/logger'),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require(a17_0x3e02de(0x1d3)),{getCloudProviderObjectWithOutInit}=require(a17_0x3e02de(0x1b4)),webSocketUtils=require(a17_0x3e02de(0x254)),{sendInstrumentationEvent}=require('../../utils/instrumentationUtils');exports[a17_0x3e02de(0x25e)]=a17_0x3e02de(0x229),exports[a17_0x3e02de(0x18b)]=a17_0x3e02de(0x1ec),exports[a17_0x3e02de(0x20c)]=function(_0x271be6){const _0x287a05=a17_0x3e02de,_0x5c5616={};_0x5c5616[_0x287a05(0x1db)]=_0x287a05(0x21e),_0x5c5616[_0x287a05(0x1cc)]=_0x287a05(0x1ce),_0x5c5616[_0x287a05(0x1c3)]=_0x287a05(0x192),_0x5c5616[_0x287a05(0x1a9)]=_0x287a05(0x18a),_0x5c5616[_0x287a05(0x18c)]=_0x287a05(0x23e),_0x5c5616[_0x287a05(0x207)]=_0x287a05(0x1bc);const _0x158a60=_0x5c5616,_0x55342b={};_0x55342b[_0x287a05(0x191)]=_0x158a60[_0x287a05(0x1db)],_0x55342b[_0x287a05(0x184)]=_0x158a60['eusPr'];const _0x3c71c8={};_0x3c71c8[_0x287a05(0x191)]=_0x158a60[_0x287a05(0x1c3)],_0x3c71c8[_0x287a05(0x184)]=_0x158a60[_0x287a05(0x1cc)];const _0x33c807={};_0x33c807[_0x287a05(0x191)]=_0x158a60[_0x287a05(0x1a9)],_0x33c807[_0x287a05(0x184)]=_0x158a60[_0x287a05(0x1cc)];const _0x41e46b={};_0x41e46b[_0x287a05(0x191)]=_0x158a60[_0x287a05(0x18c)],_0x41e46b['type']=_0x158a60[_0x287a05(0x1cc)];const _0xc42868={};return _0xc42868['cluster-name']=_0x55342b,_0xc42868[_0x287a05(0x1f3)]=_0x3c71c8,_0xc42868[_0x287a05(0x1eb)]=_0x33c807,_0xc42868[_0x287a05(0x19f)]=_0x41e46b,_0x271be6[_0x287a05(0x1ff)](HELP_HEADER_MESSAGE['pre_check'])['epilogue'](HELP_FOOTER_MESSAGE)[_0x287a05(0x1b0)](_0xc42868)[_0x287a05(0x1bc)](_0x158a60[_0x287a05(0x207)])[_0x287a05(0x25a)];};async function inputValidation(_0x552483,_0x2ec854){const _0x484fa4=a17_0x3e02de,_0xbd3c1={'OLvhJ':function(_0x412217,_0xb8d2a){return _0x412217+_0xb8d2a;},'ebVmK':_0x484fa4(0x239),'iNySX':_0x484fa4(0x22d),'yyUbs':function(_0xb5e552,_0x2c72c9){return _0xb5e552||_0x2c72c9;},'RmKIL':_0x484fa4(0x25d),'XZwhk':_0x484fa4(0x215),'GLShy':_0x484fa4(0x269),'XqSCQ':_0x484fa4(0x1e6),'qKUVg':_0x484fa4(0x20a),'xGshs':'cloud-provider','RIJfY':_0x484fa4(0x1eb),'HNeIS':'Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','TibXJ':_0x484fa4(0x1ce),'nmchv':'Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','QTOwe':_0x484fa4(0x18a),'GYZjB':_0x484fa4(0x23e),'tLCUc':_0x484fa4(0x1bc),'ggkzA':function(_0x404866,_0x5f5cda){return _0x404866===_0x5f5cda;},'cakMm':_0x484fa4(0x261),'BEYiY':_0x484fa4(0x1a7),'jcwPU':function(_0x18cc10,_0x39b9dd){return _0x18cc10!==_0x39b9dd;},'bbglh':_0x484fa4(0x1e0),'YpCoZ':function(_0x41a5a7,_0x1ab781){return _0x41a5a7===_0x1ab781;},'neogl':_0x484fa4(0x1af),'aJeIQ':_0x484fa4(0x1ea),'OZEBH':_0x484fa4(0x22a),'TkZIx':'PEwkl','BCcpH':function(_0x83d4d1,_0x1df3f3){return _0x83d4d1>_0x1df3f3;},'LrpRY':function(_0x18ba04,_0x2df2ba){return _0x18ba04!==_0x2df2ba;},'vGtrq':_0x484fa4(0x238),'ucmGg':function(_0x484d49,_0x36688a,_0x3dcd1c,_0x5f352c,_0x247883,_0x39ca7c,_0x568d05,_0x147797){return _0x484d49(_0x36688a,_0x3dcd1c,_0x5f352c,_0x247883,_0x39ca7c,_0x568d05,_0x147797);},'UOlie':_0x484fa4(0x213),'rIzqP':_0x484fa4(0x256),'osyIz':_0x484fa4(0x1c9),'ybjLm':_0x484fa4(0x202),'TyWzo':'cloud-provider-not-supported','WCaTT':function(_0x4f0646,_0x55b0b6){return _0x4f0646===_0x55b0b6;},'gRPYS':_0x484fa4(0x16c),'gCgzv':'YeBwj','gauTj':_0x484fa4(0x1be),'hXgfx':'GET','TTqAs':function(_0x4a3bb6,_0x524899,_0x65bb0e){return _0x4a3bb6(_0x524899,_0x65bb0e);},'HYcbG':function(_0x2850cb,_0xe2307a,_0x219adf,_0x238df9,_0x2e8098,_0x3a195a){return _0x2850cb(_0xe2307a,_0x219adf,_0x238df9,_0x2e8098,_0x3a195a);},'nUJpU':_0x484fa4(0x167),'HMNlS':_0x484fa4(0x19f),'ZmzqY':function(_0x377f45,_0x587b51){return _0x377f45!==_0x587b51;},'EdryL':_0x484fa4(0x210),'ZTkJs':'DekJs','grUhR':function(_0x19654b,_0x51e819){return _0x19654b(_0x51e819);},'NSIfJ':_0x484fa4(0x250),'EzsQB':_0x484fa4(0x1b5),'IsIpn':function(_0x35ae3e,_0x241c33,_0x163fed,_0x175052,_0x30e804,_0xb305b3,_0x24c04d,_0x3d8f3b){return _0x35ae3e(_0x241c33,_0x163fed,_0x175052,_0x30e804,_0xb305b3,_0x24c04d,_0x3d8f3b);},'fIPPL':_0x484fa4(0x231),'SdLxX':function(_0x44f6d4,_0x2f141f){return _0x44f6d4!==_0x2f141f;},'WFWuQ':_0x484fa4(0x247),'sZVSv':'nqCEg','MzMIx':_0x484fa4(0x1a2),'wibTH':'DzDPU','FObic':_0x484fa4(0x236),'frGVi':function(_0x15af6d,_0x41748e){return _0x15af6d===_0x41748e;},'pkmkw':'Xrjwi','sAzmG':_0x484fa4(0x199),'vHhsc':function(_0x4703e1,_0x41d7c9){return _0x4703e1===_0x41d7c9;},'VwvzY':_0x484fa4(0x19e),'rXqjP':_0x484fa4(0x24e),'dzLDD':function(_0x1bd356,_0x16dfbc,_0x217f9c,_0x31de68,_0x3fc715,_0x43b427,_0x157435,_0x5f4d87){return _0x1bd356(_0x16dfbc,_0x217f9c,_0x31de68,_0x3fc715,_0x43b427,_0x157435,_0x5f4d87);}};let _0x2aa9fb;try{if(_0xbd3c1[_0x484fa4(0x1f6)](_0xbd3c1[_0x484fa4(0x223)],_0xbd3c1[_0x484fa4(0x1a1)])){const {header:_0x3bd19e,response:_0x25fd48}=_0x5c1fbb,{status:_0x1c40df,data:_0x282b4c,error:_0x1df45a}=_0x25fd48;_0x29f2d6+=_0x3bd19e+'\x20#'+_0xbd3c1[_0x484fa4(0x17c)](_0x25b6d1,0x1)+'\x0a',_0x1bc785+=_0x484fa4(0x265)+(_0x1c40df?_0xbd3c1[_0x484fa4(0x240)]:_0xbd3c1[_0x484fa4(0x237)])+'\x0a',_0x13da9b+=_0x484fa4(0x1d5)+_0xbd3c1[_0x484fa4(0x266)](_0x282b4c,_0xbd3c1[_0x484fa4(0x1ba)])+'\x0a',_0x1df45a&&(_0x3ed9df+=_0xbd3c1[_0x484fa4(0x168)],_0x94beb7+=_0x484fa4(0x1c7)+(_0x1df45a[_0x484fa4(0x21c)]||_0xbd3c1[_0x484fa4(0x1ba)])+'\x0a',_0x26d242+=_0x484fa4(0x1f2)+(_0x1df45a['code']||_0xbd3c1[_0x484fa4(0x1ba)])+'\x0a',_0x2765bf+=_0x484fa4(0x249)+(_0x1df45a['stack']||_0xbd3c1[_0x484fa4(0x1ba)])+'\x0a'),_0xdc27ce+='\x0a\x0a';}else{if(_0x552483[_0x484fa4(0x214)]||_0x552483[_0x484fa4(0x189)]||_0x552483[_0x484fa4(0x1eb)]){if(_0xbd3c1[_0x484fa4(0x1ae)](_0xbd3c1[_0x484fa4(0x217)],_0xbd3c1['bbglh']))_0x1e955c[_0x484fa4(0x197)]('['+_0x51347e+_0x484fa4(0x172)+_0x59d903[_0x484fa4(0x253)]+_0x484fa4(0x183)+_0x488ac6[_0x484fa4(0x198)]+'\x20error\x20:\x20'+_0x54a69b['error']),_0x15d5b2[_0x484fa4(0x20a)]&&_0x56863['error'](_0x484fa4(0x208)+_0x359885['error'][_0x484fa4(0x186)]);else{const _0xf28f9c=[];!_0x552483['clusterName']&&(_0xbd3c1[_0x484fa4(0x246)](_0xbd3c1[_0x484fa4(0x1e9)],_0xbd3c1[_0x484fa4(0x1dc)])?_0x212436+=_0x484fa4(0x1e1)+_0x55db09[_0x484fa4(0x214)]+_0x484fa4(0x23b):_0xf28f9c[_0x484fa4(0x262)](_0xbd3c1[_0x484fa4(0x1b6)]));;!_0x552483[_0x484fa4(0x189)]&&(_0xbd3c1[_0x484fa4(0x246)](_0xbd3c1[_0x484fa4(0x196)],_0xbd3c1[_0x484fa4(0x196)])?_0xf28f9c[_0x484fa4(0x262)](_0xbd3c1['xGshs']):_0x4e0477[_0x484fa4(0x262)](_0xbd3c1['GLShy']));;!_0x552483[_0x484fa4(0x1eb)]&&(_0xbd3c1['jcwPU'](_0xbd3c1[_0x484fa4(0x187)],_0xbd3c1[_0x484fa4(0x187)])?(_0x1d2859['error'](_0xbd3c1[_0x484fa4(0x1e8)]),_0x108ae2[_0x484fa4(0x201)](0x1)):_0xf28f9c[_0x484fa4(0x262)](_0xbd3c1[_0x484fa4(0x220)]));;_0xbd3c1[_0x484fa4(0x185)](_0xf28f9c[_0x484fa4(0x25b)],0x0)&&(_0xbd3c1[_0x484fa4(0x18f)](_0xbd3c1[_0x484fa4(0x1b9)],_0xbd3c1[_0x484fa4(0x1b9)])?_0x357fc6[_0x484fa4(0x201)](0x1):(_0x2aa9fb='Missing\x20required\x20arguments:\x20'+_0xf28f9c[_0x484fa4(0x1f8)](',\x20')+_0x484fa4(0x23d),await _0xbd3c1[_0x484fa4(0x19b)](reportToGalactusAndSendToEDS,_0x552483,_0x2ec854,_0x2aa9fb,messageTypes[_0x484fa4(0x23c)],_0xbd3c1[_0x484fa4(0x241)],_0xbd3c1[_0x484fa4(0x1c8)],_0xbd3c1['qKUVg']),logger['error'](_0x2aa9fb),process['exit'](0x1)));if(!ALL_SUPPORTED_CLOUD_PROVIDERS[_0x484fa4(0x25c)](_0x552483['cloudProvider'][_0x484fa4(0x1f5)]())){if(_0xbd3c1[_0x484fa4(0x18f)](_0xbd3c1[_0x484fa4(0x1b3)],_0xbd3c1[_0x484fa4(0x1b3)])){const _0xb875b4={};_0xb875b4[_0x484fa4(0x184)]=_0x34ba9b['LOG'],_0xb875b4[_0x484fa4(0x21c)]=_0x265b64,_0x4c76c2[_0x484fa4(0x17d)](_0x2f110b,_0xb875b4,_0xbd3c1['qKUVg'],!![]);}else _0x2aa9fb=_0xbd3c1[_0x484fa4(0x1d8)],await _0xbd3c1[_0x484fa4(0x19b)](reportToGalactusAndSendToEDS,_0x552483,_0x2ec854,_0x2aa9fb,messageTypes['ERROR'],_0xbd3c1['UOlie'],_0xbd3c1['TyWzo'],_0xbd3c1[_0x484fa4(0x1f0)]),logger[_0x484fa4(0x20a)](_0x2aa9fb),!_0x552483[_0x484fa4(0x189)]&&(_0xbd3c1[_0x484fa4(0x252)](_0xbd3c1[_0x484fa4(0x17e)],_0xbd3c1[_0x484fa4(0x235)])?(_0x567686+=_0xbd3c1[_0x484fa4(0x168)],_0x2f5bd0+=_0x484fa4(0x1c7)+(_0x534079['message']||_0xbd3c1[_0x484fa4(0x1ba)])+'\x0a',_0x593bf3+=_0x484fa4(0x1f2)+(_0x9ac67c[_0x484fa4(0x188)]||_0xbd3c1[_0x484fa4(0x1ba)])+'\x0a',_0x333627+=_0x484fa4(0x249)+(_0x2e9cf2[_0x484fa4(0x186)]||_0xbd3c1[_0x484fa4(0x1ba)])+'\x0a'):(logger[_0x484fa4(0x197)](_0x484fa4(0x1f4)+DEFAULT_CLUSTER_DETAILS[_0x484fa4(0x1b8)]+'\x20'),_0x552483['cloudProvider']=DEFAULT_CLUSTER_DETAILS['CLOUD_PROVIDER']));}global_registry['clusterName']=_0x552483[_0x484fa4(0x214)],global_registry[_0x484fa4(0x189)]=_0x552483['cloudProvider'],global_registry[_0x484fa4(0x1aa)]=_0x552483[_0x484fa4(0x1eb)];}}else{if(_0x552483['gridProfile']){if(_0xbd3c1['jcwPU'](_0xbd3c1['gauTj'],_0xbd3c1['gauTj']))_0x444508['push'](_0xbd3c1['xGshs']);else{global_registry[_0x484fa4(0x193)]=_0x552483[_0x484fa4(0x193)],logger['debug']('grid\x20profile\x20flow\x20'+_0x552483[_0x484fa4(0x193)]);const _0x3a3226=_0x484fa4(0x180)+AG_API_URL+_0x484fa4(0x1ef),_0x591bab={};_0x591bab['method']=_0xbd3c1['hXgfx'],_0x591bab[_0x484fa4(0x170)]=global_registry[_0x484fa4(0x200)],_0x591bab[_0x484fa4(0x24b)]=![];const _0x5eafa8=_0x591bab,_0x312394=await _0xbd3c1['TTqAs'](got,_0x3a3226,_0x5eafa8),_0xaad640=await _0xbd3c1[_0x484fa4(0x20b)](responseValidation,_0x312394,_0xbd3c1[_0x484fa4(0x260)],_0xbd3c1[_0x484fa4(0x23f)],_0x552483,_0x2ec854);let _0x1bb07e={};if(_0xbd3c1[_0x484fa4(0x252)](_0xaad640,0xc8)){if(_0xbd3c1[_0x484fa4(0x1b2)](_0xbd3c1['EdryL'],_0xbd3c1['ZTkJs'])){const _0x5de70b=JSON[_0x484fa4(0x1d6)](_0x312394[_0x484fa4(0x16f)]),_0x48e489=_0x5de70b[_0x484fa4(0x1cd)](_0x34dc1a=>_0x34dc1a[_0x484fa4(0x1bb)]===_0x552483[_0x484fa4(0x193)])||null;if(_0xbd3c1[_0x484fa4(0x1fc)](isUndefined,_0x48e489))_0xbd3c1[_0x484fa4(0x246)](_0xbd3c1['NSIfJ'],_0xbd3c1[_0x484fa4(0x243)])?_0x1007cc['push'](_0xbd3c1[_0x484fa4(0x220)]):(_0x2aa9fb=_0x484fa4(0x232)+_0x552483['gridProfile']+_0x484fa4(0x257),await _0xbd3c1[_0x484fa4(0x26a)](reportToGalactusAndSendToEDS,_0x552483,_0x2ec854,_0x2aa9fb,messageTypes['ERROR'],_0xbd3c1[_0x484fa4(0x241)],_0xbd3c1['fIPPL'],_0xbd3c1[_0x484fa4(0x1f0)]),logger['error'](_0x2aa9fb),process[_0x484fa4(0x201)](0x1));else{if(_0xbd3c1['SdLxX'](_0xbd3c1[_0x484fa4(0x21b)],_0xbd3c1['sZVSv']))_0x1bb07e=_0x48e489;else{const _0x43cb49={};_0x43cb49['description']=_0xbd3c1['HNeIS'],_0x43cb49[_0x484fa4(0x184)]=_0xbd3c1['TibXJ'];const _0x33ca13={};_0x33ca13['description']=_0xbd3c1['nmchv'],_0x33ca13[_0x484fa4(0x184)]=_0xbd3c1[_0x484fa4(0x1d9)];const _0x311a72={};_0x311a72['description']=_0xbd3c1[_0x484fa4(0x206)],_0x311a72[_0x484fa4(0x184)]=_0xbd3c1[_0x484fa4(0x1d9)];const _0x86f485={};_0x86f485[_0x484fa4(0x191)]=_0xbd3c1[_0x484fa4(0x216)],_0x86f485[_0x484fa4(0x184)]=_0xbd3c1[_0x484fa4(0x1d9)];const _0x81fcf0={};return _0x81fcf0['cluster-name']=_0x43cb49,_0x81fcf0[_0x484fa4(0x1f3)]=_0x33ca13,_0x81fcf0[_0x484fa4(0x1eb)]=_0x311a72,_0x81fcf0[_0x484fa4(0x19f)]=_0x86f485,_0x452b5a[_0x484fa4(0x1ff)](_0xd9c437[_0x484fa4(0x1a0)])[_0x484fa4(0x1c1)](_0x43a96b)[_0x484fa4(0x1b0)](_0x81fcf0)[_0x484fa4(0x1bc)](_0xbd3c1[_0x484fa4(0x221)])[_0x484fa4(0x25a)];}}}else _0x5cb0cb[_0x484fa4(0x197)]('Cluster\x20`'+_0x4e314e[_0x484fa4(0x214)]+_0x484fa4(0x1a4));}else _0xbd3c1[_0x484fa4(0x1d1)](_0xbd3c1[_0x484fa4(0x169)],_0xbd3c1[_0x484fa4(0x1ac)])?process[_0x484fa4(0x201)](0x1):(_0x53bc53[_0x484fa4(0x197)](_0x484fa4(0x1f4)+_0x21a661[_0x484fa4(0x1b8)]+'\x20'),_0x4f66f2[_0x484fa4(0x189)]=_0x31739e[_0x484fa4(0x1b8)]);const _0x2a2c07={};_0x2a2c07['type']=WS_EVENTS[_0x484fa4(0x264)],_0x2a2c07[_0x484fa4(0x21c)]=_0xbd3c1[_0x484fa4(0x174)],webSocketUtils[_0x484fa4(0x17d)](_0x2ec854,_0x2a2c07),global_registry[_0x484fa4(0x189)]=_0x1bb07e['cloudProvider'],global_registry[_0x484fa4(0x1aa)]=_0x1bb07e[_0x484fa4(0x1eb)],global_registry[_0x484fa4(0x214)]=_0x1bb07e[_0x484fa4(0x214)];}}else _0xbd3c1[_0x484fa4(0x227)](_0xbd3c1[_0x484fa4(0x24d)],_0xbd3c1['sAzmG'])?_0x381287['error'](_0x484fa4(0x208)+_0x35b448[_0x484fa4(0x20a)]['stack']):(logger['error'](_0xbd3c1[_0x484fa4(0x1e8)]),process['exit'](0x1));}}}catch(_0x486d81){_0xbd3c1['vHhsc'](_0xbd3c1[_0x484fa4(0x267)],_0xbd3c1['rXqjP'])?_0x5804bb=_0x4cfee3:(_0x2aa9fb=_0x484fa4(0x224)+_0x486d81+':\x20'+_0x486d81[_0x484fa4(0x186)],logger['error'](_0x2aa9fb),await _0xbd3c1['dzLDD'](reportToGalactusAndSendToEDS,_0x552483,_0x2ec854,_0x2aa9fb,messageTypes['ERROR'],_0xbd3c1[_0x484fa4(0x241)],_0xbd3c1[_0x484fa4(0x24c)],_0xbd3c1[_0x484fa4(0x1f0)]),process[_0x484fa4(0x201)](0x1));}}function printResponse(_0x34d5a8,_0xc34124){const _0x466a5c=a17_0x3e02de,_0x1193f9={};_0x1193f9[_0x466a5c(0x176)]='is\x20already\x20present',_0x1193f9[_0x466a5c(0x1c6)]=_0x466a5c(0x1b1),_0x1193f9[_0x466a5c(0x1bf)]=function(_0x545a74,_0x4d88ae){return _0x545a74!==_0x4d88ae;},_0x1193f9[_0x466a5c(0x1e4)]=_0x466a5c(0x226);const _0x33975b=_0x1193f9;logger[_0x466a5c(0x197)]('['+_0x34d5a8+']\x20status\x20:\x20'+_0xc34124[_0x466a5c(0x253)]+_0x466a5c(0x183)+_0xc34124[_0x466a5c(0x198)]+_0x466a5c(0x233)+_0xc34124[_0x466a5c(0x20a)]),_0xc34124[_0x466a5c(0x20a)]&&(_0x33975b[_0x466a5c(0x1bf)](_0x33975b[_0x466a5c(0x1e4)],_0x33975b['nwPuQ'])?_0x1de563+=_0x466a5c(0x1e1)+_0x5a9e1d[_0x466a5c(0x214)]+'\x20'+(_0xa5931?_0x33975b[_0x466a5c(0x176)]:_0x33975b[_0x466a5c(0x1c6)])+'\x0a\x0a':logger[_0x466a5c(0x20a)](_0x466a5c(0x208)+_0xc34124['error'][_0x466a5c(0x186)]));}async function generateReport(_0x3ae5fd,_0x4f8cf3){const _0x449404=a17_0x3e02de,_0x3e55b7={'qmpdv':function(_0x1a2428,_0x470290){return _0x1a2428+_0x470290;},'FLiBM':_0x449404(0x239),'lIkFk':'Failure','vVexC':function(_0x3de529,_0x2b702a){return _0x3de529||_0x2b702a;},'slPMu':_0x449404(0x25d),'SYNcP':_0x449404(0x215),'pZMac':_0x449404(0x1c4),'XuPUX':function(_0x259000,_0x3f7818){return _0x259000!=_0x3f7818;},'viJxK':'is\x20already\x20present','ZKkje':'will\x20be\x20created','MsCFN':function(_0x127f23){return _0x127f23();}};let _0x4907a6=_0x449404(0x1ab)+global_registry['cloudProvider']+_0x449404(0x230);return _0x3ae5fd[_0x449404(0x1f7)]((_0x48d307,_0x51e141)=>{const _0x13debc=_0x449404,{header:_0x228fc3,response:_0x50e561}=_0x48d307,{status:_0x2f429d,data:_0x316266,error:_0x554608}=_0x50e561;_0x4907a6+=_0x228fc3+'\x20#'+_0x3e55b7[_0x13debc(0x1fa)](_0x51e141,0x1)+'\x0a',_0x4907a6+=_0x13debc(0x265)+(_0x2f429d?_0x3e55b7[_0x13debc(0x1c0)]:_0x3e55b7[_0x13debc(0x22b)])+'\x0a',_0x4907a6+=_0x13debc(0x1d5)+_0x3e55b7[_0x13debc(0x203)](_0x316266,_0x3e55b7['slPMu'])+'\x0a',_0x554608&&(_0x4907a6+=_0x3e55b7[_0x13debc(0x20d)],_0x4907a6+=_0x13debc(0x1c7)+(_0x554608[_0x13debc(0x21c)]||_0x3e55b7[_0x13debc(0x1cb)])+'\x0a',_0x4907a6+=_0x13debc(0x1f2)+(_0x554608[_0x13debc(0x188)]||_0x3e55b7['slPMu'])+'\x0a',_0x4907a6+=_0x13debc(0x249)+(_0x554608[_0x13debc(0x186)]||_0x3e55b7[_0x13debc(0x1cb)])+'\x0a'),_0x4907a6+='\x0a\x0a';}),_0x4907a6+=_0x3e55b7['pZMac'],_0x3e55b7[_0x449404(0x1f9)](_0x4f8cf3,null)?_0x4907a6+='Cluster\x20'+global_registry[_0x449404(0x214)]+'\x20'+(_0x4f8cf3?_0x3e55b7[_0x449404(0x1a5)]:_0x3e55b7[_0x449404(0x22c)])+'\x0a\x0a':_0x4907a6+=_0x449404(0x1e1)+global_registry[_0x449404(0x214)]+_0x449404(0x23b),_0x4907a6+=_0x3e55b7['MsCFN'](getSystemMetaData),_0x4907a6;};exports['handler']=async function(_0x3d6d28){const _0x1a2d1f=a17_0x3e02de,_0x263b3f={'Jeduw':function(_0x5e0b3b){return _0x5e0b3b();},'vLgKM':function(_0xd4014b){return _0xd4014b();},'ILFID':_0x1a2d1f(0x1a6),'sySWw':function(_0x2591e5,_0x4377ff,_0x38cf8b,_0x83998c,_0x1a7aa0,_0x2938f1,_0x32d84b,_0x2e55dc){return _0x2591e5(_0x4377ff,_0x38cf8b,_0x83998c,_0x1a7aa0,_0x2938f1,_0x32d84b,_0x2e55dc);},'nsblp':_0x1a2d1f(0x213),'baclH':_0x1a2d1f(0x268),'XFEDr':_0x1a2d1f(0x20a),'FNTUH':function(_0x1414fe,_0x866e55,_0x1283ad,_0x58dcb0,_0x361ff5,_0x1fc7aa,_0x49e62e){return _0x1414fe(_0x866e55,_0x1283ad,_0x58dcb0,_0x361ff5,_0x1fc7aa,_0x49e62e);},'zIcwE':function(_0x392412){return _0x392412();},'dwhjF':'<UsernamePlaceholder>','aSWlf':_0x1a2d1f(0x181),'wdLPU':function(_0x50b511,_0x54a5c7,_0x3a3c4f){return _0x50b511(_0x54a5c7,_0x3a3c4f);},'BdYuY':function(_0x244604,_0xe9a945,_0x410091){return _0x244604(_0xe9a945,_0x410091);},'aDtJT':function(_0x6b5d1c,_0x1676e5,_0x41f2a1,_0x2fb5f2,_0x382279,_0x5c0b1e,_0x4515e7){return _0x6b5d1c(_0x1676e5,_0x41f2a1,_0x2fb5f2,_0x382279,_0x5c0b1e,_0x4515e7);},'ntXxv':'dummy-grid','axBkK':'toolInstalledResp','IQIAO':_0x1a2d1f(0x19d),'gjJuA':function(_0x2ae546,_0x282756,_0x55859d){return _0x2ae546(_0x282756,_0x55859d);},'UMlmV':_0x1a2d1f(0x222),'xjDAQ':function(_0x1f7d76,_0x22fca4,_0x579bb9){return _0x1f7d76(_0x22fca4,_0x579bb9);},'CJULG':'isTrialGridAccessible','sGSQQ':function(_0x8eee7d,_0xdbdec6){return _0x8eee7d(_0xdbdec6);},'csdFK':_0x1a2d1f(0x1d0),'svpQR':_0x1a2d1f(0x1ee),'kQmqs':_0x1a2d1f(0x1d4),'IjmuW':_0x1a2d1f(0x22f),'ZtyeM':_0x1a2d1f(0x18e),'zMRZW':_0x1a2d1f(0x212),'mWasZ':function(_0x2a721a,_0x45715c){return _0x2a721a+_0x45715c;},'IasWl':_0x1a2d1f(0x1c2),'EmoXR':function(_0x363c71,_0x12b4d1,_0x4c33c3,_0x5eeda5,_0xcfdd14,_0x420837,_0x3f386f){return _0x363c71(_0x12b4d1,_0x4c33c3,_0x5eeda5,_0xcfdd14,_0x420837,_0x3f386f);},'AUZBr':_0x1a2d1f(0x1e2)};let _0x69cf25,_0x5ac80d;try{global_registry[_0x1a2d1f(0x173)]=_0x263b3f[_0x1a2d1f(0x178)](uuidv4);!fs[_0x1a2d1f(0x18d)](_0x263b3f[_0x1a2d1f(0x17f)](getCredentialsPath))&&(_0x5ac80d=_0x263b3f['ILFID'],logger[_0x1a2d1f(0x20a)](_0x5ac80d),await _0x263b3f[_0x1a2d1f(0x1cf)](reportToGalactusAndSendToEDS,_0x3d6d28,_0x69cf25,_0x5ac80d,messageTypes[_0x1a2d1f(0x23c)],_0x263b3f['nsblp'],_0x263b3f['baclH'],_0x263b3f['XFEDr']),process['exit'](0x1));_0x263b3f[_0x1a2d1f(0x209)](sendInstrumentationEvent,_0x3d6d28,_0x263b3f[_0x1a2d1f(0x1e3)],messageTypes[_0x1a2d1f(0x22e)],null,null,_0x3d6d28);const _0x4b3733=JSON['parse'](fs['readFileSync'](_0x263b3f['zIcwE'](getCredentialsPath)));global_registry[_0x1a2d1f(0x16b)]=_0x4b3733[_0x1a2d1f(0x248)][_0x1a2d1f(0x195)],global_registry['bstackAccesskey']=_0x4b3733[_0x1a2d1f(0x248)][_0x1a2d1f(0x179)];const _0x434427=WS_ENDPOINT[_0x1a2d1f(0x1a8)](_0x263b3f[_0x1a2d1f(0x17a)],_0x4b3733[_0x1a2d1f(0x248)][_0x1a2d1f(0x195)])[_0x1a2d1f(0x1a8)](_0x263b3f[_0x1a2d1f(0x1fe)],_0x4b3733['Browserstack']['password']),_0x356104={};_0x356104[_0x1a2d1f(0x245)]=ws,_0x356104[_0x1a2d1f(0x16e)]=0x36ee80,_0x69cf25=new ReconnectingWebSocket(_0x434427,[],_0x356104),global_registry[_0x1a2d1f(0x200)]=_0x263b3f[_0x1a2d1f(0x1ca)](getAuthHeader,global_registry['bstackUsername'],global_registry['bstackAccesskey']),await _0x263b3f['BdYuY'](inputValidation,_0x3d6d28,_0x69cf25),logger['info'](_0x1a2d1f(0x1e5)+global_registry['cloudProvider']+_0x1a2d1f(0x1df)+global_registry[_0x1a2d1f(0x1aa)]);let _0x53de70=await _0x263b3f['aDtJT'](getCloudProviderObjectWithOutInit,global_registry[_0x1a2d1f(0x189)],global_registry[_0x1a2d1f(0x214)],_0x263b3f[_0x1a2d1f(0x263)],_0x69cf25,webSocketUtils,_0x3d6d28);const _0x5e03e4=await _0x53de70[_0x1a2d1f(0x258)]();_0x263b3f[_0x1a2d1f(0x1ca)](printResponse,_0x263b3f[_0x1a2d1f(0x242)],_0x5e03e4),_0x53de70=await _0x53de70['init']();let _0x11e368=![];try{_0x11e368=await _0x53de70[_0x1a2d1f(0x1bd)]();}catch(_0x23d0d0){const _0x450fd7=_0x263b3f['IQIAO']['split']('|');let _0xca2d0b=0x0;while(!![]){switch(_0x450fd7[_0xca2d0b++]){case'0':logger['error'](_0x5ac80d);continue;case'1':_0x5ac80d=_0x1a2d1f(0x1fb)+global_registry[_0x1a2d1f(0x214)]+_0x1a2d1f(0x25f)+global_registry[_0x1a2d1f(0x1aa)]+_0x1a2d1f(0x24f)+_0x23d0d0;continue;case'2':_0x5ac80d+='\x0a'+JSON[_0x1a2d1f(0x234)](_0x23d0d0['stack']);continue;case'3':await _0x263b3f['sySWw'](reportToGalactusAndSendToEDS,_0x3d6d28,_0x69cf25,_0x5ac80d,messageTypes[_0x1a2d1f(0x23c)],_0x263b3f[_0x1a2d1f(0x1e3)],_0x1a2d1f(0x244)+global_registry['cloudProvider'],_0x263b3f[_0x1a2d1f(0x1d2)]);continue;case'4':_0x11e368=null;continue;}break;}}_0x11e368&&logger[_0x1a2d1f(0x197)](_0x1a2d1f(0x16d)+global_registry[_0x1a2d1f(0x214)]+_0x1a2d1f(0x1a4));const _0x48c7ca=await _0x53de70[_0x1a2d1f(0x259)]();_0x263b3f[_0x1a2d1f(0x205)](printResponse,_0x263b3f[_0x1a2d1f(0x16a)],_0x48c7ca);const _0x4b5f3f=await _0x263b3f['zIcwE'](curlRequest);_0x263b3f[_0x1a2d1f(0x1e7)](printResponse,_0x263b3f['CJULG'],_0x4b5f3f);const _0x1f7b9c=await _0x263b3f[_0x1a2d1f(0x1fd)](isTlsSupported,_0x263b3f[_0x1a2d1f(0x1b7)]);_0x263b3f[_0x1a2d1f(0x1ca)](printResponse,_0x263b3f[_0x1a2d1f(0x1d7)],_0x1f7b9c);const _0x3b9655={};_0x3b9655['header']=_0x263b3f[_0x1a2d1f(0x20e)],_0x3b9655[_0x1a2d1f(0x204)]=_0x5e03e4;const _0x57570b={};_0x57570b[_0x1a2d1f(0x19c)]=_0x263b3f['IjmuW'],_0x57570b[_0x1a2d1f(0x204)]=_0x48c7ca;const _0x2478e8={};_0x2478e8[_0x1a2d1f(0x19c)]=_0x263b3f[_0x1a2d1f(0x182)],_0x2478e8[_0x1a2d1f(0x204)]=_0x4b5f3f;const _0x4ab0c5={};_0x4ab0c5['header']=_0x263b3f[_0x1a2d1f(0x211)],_0x4ab0c5[_0x1a2d1f(0x204)]=_0x1f7b9c;const _0x8f5b90=[_0x3b9655,_0x57570b,_0x2478e8,_0x4ab0c5],_0x3c99c6=await _0x263b3f[_0x1a2d1f(0x1a3)](generateReport,_0x8f5b90,_0x11e368),_0x2d4ca3=new Date(),_0x265f18=_0x2d4ca3[_0x1a2d1f(0x175)]()+'_'+_0x263b3f['mWasZ'](_0x2d4ca3[_0x1a2d1f(0x171)](),0x1)+'_'+_0x2d4ca3[_0x1a2d1f(0x219)]()+'_'+_0x2d4ca3['getUTCHours']()+'_'+_0x2d4ca3[_0x1a2d1f(0x1da)](),_0xb2c401=_0x1a2d1f(0x194)+_0x265f18+_0x1a2d1f(0x255);fs['writeFileSync'](_0xb2c401,_0x3c99c6,_0x263b3f['IasWl']),logger[_0x1a2d1f(0x197)](_0x1a2d1f(0x17b)+_0xb2c401),process['exit'](0x0);}catch(_0xf31e34){let _0x413ae=_0x1a2d1f(0x1ad)+_0xf31e34+'\x20';logger[_0x1a2d1f(0x20a)](_0x413ae),_0x413ae+='\x0a'+JSON[_0x1a2d1f(0x234)](_0xf31e34['stack']),logger[_0x1a2d1f(0x20f)](_0x1a2d1f(0x251)+_0xf31e34[_0x1a2d1f(0x186)]);if(_0x69cf25){const _0x128612={};_0x128612[_0x1a2d1f(0x184)]=WS_EVENTS[_0x1a2d1f(0x264)],_0x128612['message']=_0x413ae,webSocketUtils[_0x1a2d1f(0x17d)](_0x69cf25,_0x128612,_0x263b3f[_0x1a2d1f(0x1d2)],!![]);}await webSocketUtils['delay'](0x7d0);const _0x5e27fb={};_0x5e27fb[_0x1a2d1f(0x20a)]=_0x413ae,await _0x263b3f[_0x1a2d1f(0x1ed)](sendInstrumentationEvent,_0x3d6d28,_0x263b3f[_0x1a2d1f(0x1e3)],messageTypes[_0x1a2d1f(0x23c)],_0x263b3f[_0x1a2d1f(0x225)],_0x5e27fb,_0x3d6d28),process[_0x1a2d1f(0x201)](0x1);}};function a17_0x338e(){const _0x3aa0f5=['BdYuY','`\x20already\x20exists','viJxK','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','MikuR','replace','bdhUz','clusterRegion','===\x20Precheck\x20Report\x20-\x20','wibTH','Failed\x20in\x20pre-check!\x20Error:\x20','jcwPU','AFMLU','options','will\x20be\x20created','ZmzqY','osyIz','../../cloudproviders/utils','supAD','GLShy','csdFK','CLOUD_PROVIDER','vGtrq','RmKIL','name','help','isClusterPresent','hmKzH','UfjEU','FLiBM','epilogue','utf-8','Ozrbs','Cluster\x20details\x0a-----------------------\x0a','1321746BmHgXM','URFph','\x20\x20Message:\x20','rIzqP','MDGnL','wdLPU','slPMu','eusPr','find','string','sySWw','TLSv1_2_client_method','SdLxX','XFEDr','../../config/constants','Tool\x20Installed','Message:\x20','parse','svpQR','ybjLm','TibXJ','getUTCMinutes','hrKen','aJeIQ','2399540zZAJIo','1057968SJCvzL','\x20region\x20-\x20','ITNCw','Cluster\x20','pre-check-failed','nsblp','nwPuQ','Pre-check\x20running\x20for\x20Cloud\x20-\x20','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','xjDAQ','XqSCQ','neogl','BJsHV','region','Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup','EmoXR','isTls1_2_SUPPORTED','/packages/cli/get-all-grid-profiles','qKUVg','reconnecting-websocket','\x20\x20Code:\x20','cloud-provider','Setting\x20cloud\x20provider\x20as\x20','toLowerCase','ggkzA','forEach','join','XuPUX','qmpdv','unable\x20to\x20verify\x20if\x20cluster\x20`','grUhR','sGSQQ','aSWlf','usage','authHeader','exit','Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','vVexC','response','gjJuA','QTOwe','iZTGA','error\x20stack\x20:\x20','FNTUH','error','HYcbG','builder','SYNcP','kQmqs','debug','BXnKF','zMRZW','SSL\x20Configured','pre-check-grid-called','clusterName','Error\x20Details:\x0a','GYZjB','bbglh','got','getUTCDate','7QZejsv','WFWuQ','message','2FMTEZJ','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','165101njhlmd','RIJfY','tLCUc','accessResp','cakMm','Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20','AUZBr','bZUaD','frGVi','228PbZkVb','grid','qGDeq','lIkFk','ZKkje','Failure','INFO','User\x20Access','\x20===\x0a\x0a','pre-check-grid-profile-empty','Invalid\x20input.\x20grid\x20profiles:\x20','\x20error\x20:\x20','stringify','gCgzv','Grid\x20profile\x20fetched\x20for\x20pre-check','iNySX','OHdkS','Success','9003DcAzsA','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','ERROR','.\x20Please\x20provide\x20all\x20required\x20arguments.','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','HMNlS','ebVmK','UOlie','axBkK','EzsQB','cluster-check-failed-','WebSocket','YpCoZ','kVArf','Browserstack','\x20\x20Stack:\x20','40448FgLwDq','throwHttpErrors','TyWzo','pkmkw','JEOcP','`\x20,error\x20:\x20','SYBkx','stack\x20trace\x20','WCaTT','status','../../utils/webSocketUtils','.txt','pre-check-cluster-args-not-passed','.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again','isCliToolInstalled','checkAccess','argv','length','includes','N/A','command','`\x20is\x20present\x20in\x20region\x20`','nUJpU','vnMMf','push','ntXxv','LOG','Status:\x20','yyUbs','VwvzY','credential-not-found','cluster-name','IsIpn','pre-check','XZwhk','MzMIx','UMlmV','bstackUsername','akWum','Cluster\x20`','connectionTimeout','body','headers','getUTCMonth',']\x20status\x20:\x20','requestId','FObic','getUTCFullYear','uBMBy','5gfQSXm','Jeduw','password','dwhjF','Report\x20saved\x20in\x20','OLvhJ','sendEventToBackend','gRPYS','vLgKM','https://','<PasswordPlaceholder>','ZtyeM','\x20data\x20:\x20','type','BCcpH','stack','TkZIx','code','cloudProvider','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','desc','Rjttc','existsSync','Whitelisted\x20browserstack','LrpRY','3268199ixFsXj','description','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','gridProfile','log/report_','username','OZEBH','info','data','pIdVp','uuid','ucmGg','header','1|4|0|2|3','kxPLB','grid-profile','pre_check','BEYiY','atZBN'];a17_0x338e=function(){return _0x3aa0f5;};return a17_0x338e();}