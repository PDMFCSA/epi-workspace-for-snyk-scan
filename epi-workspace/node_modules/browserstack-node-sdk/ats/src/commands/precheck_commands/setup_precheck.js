const a17_0x145cd4=a17_0x1a88;(function(_0x29e310,_0x683593){const _0x51d620=a17_0x1a88,_0x239abb=_0x29e310();while(!![]){try{const _0x17615c=-parseInt(_0x51d620(0x207))/0x1+-parseInt(_0x51d620(0x1b9))/0x2*(parseInt(_0x51d620(0x268))/0x3)+parseInt(_0x51d620(0x1f2))/0x4*(-parseInt(_0x51d620(0x1dd))/0x5)+parseInt(_0x51d620(0x21e))/0x6+-parseInt(_0x51d620(0x276))/0x7*(parseInt(_0x51d620(0x1a1))/0x8)+parseInt(_0x51d620(0x1dc))/0x9*(-parseInt(_0x51d620(0x184))/0xa)+parseInt(_0x51d620(0x1d0))/0xb*(parseInt(_0x51d620(0x1ed))/0xc);if(_0x17615c===_0x683593)break;else _0x239abb['push'](_0x239abb['shift']());}catch(_0x78732a){_0x239abb['push'](_0x239abb['shift']());}}}(a17_0x5800,0x5f09d));function a17_0x5800(){const _0x5a1ba6=['rjvkb','RDEcL','vbTzQ','Invalid\x20input.\x20grid\x20profiles:\x20','Tool\x20Installed','XyuEt','forEach','2092092aCSUDt','../../utils/webSocketUtils','\x20region\x20-\x20','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','UfQBB','toolInstalledResp','GET','RdwRp','`\x20already\x20exists','coIzP','YpYfh','fFUln','options','pre_check','jcrPH','kkrSK','Whitelisted\x20browserstack','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','nQoAY','ICbQs','rpgnm','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','lqRDV','pUFsZ','yCvmV','iaeTP','olGWN','TaUlg','clusterName','throwHttpErrors','help','JWJrl','ZVvzI','readFileSync','DRMTD','status','bstackAccesskey','vvUBp','SSL\x20Configured','`\x20,error\x20:\x20','epilogue','DffnC','osdpY','hhRMT','usage','region','bstackUsername','WbnJg','.txt','fffjE','wIxZc','code','type','getUTCHours','writeFileSync','checkAccess','getUTCFullYear','PITnw','kdNhL','EvCqs','MczQR','lRRog','grid\x20profile\x20flow\x20','<PasswordPlaceholder>','Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20','cloudProvider','debug','ykxmi','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','command','ukJSF','SVdNH','ivnNh','PrQpL','41958JncJQb','body','SbrUe','zUIcW','zwFIl','find','replace','qqjFw','dQlif','Browserstack','qUgNt','qSbuj','UCxaQ','getUTCMonth','13111IgVJiJ','xEiFV','handler','jwzck','User\x20Access','will\x20be\x20created','Setting\x20cloud\x20provider\x20as\x20','GQGMA','QRnZH','headers','AqScU','/packages/cli/get-all-grid-profiles','UaQza','`\x20is\x20present\x20in\x20region\x20`','YZqWg','2240BTcsgC','Failure','.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again','parse','../../config/constants','\x20\x20Code:\x20','includes','../../utils/instrumentationUtils','ZxWFg','xxoth','LOG','split','Cluster\x20','WebSocket','getUTCMinutes','getUTCDate','vEhxj','YUTjX','tCgHh','quqqQ','uuid','response','muIhh','KspEG','eizDd','pre-check-failed','HJqAH','tyEFL','HHscG','1648jKcBKo','FsqqP','tVijO','length','Fuiyt',']\x20status\x20:\x20','argv','===\x20Precheck\x20Report\x20-\x20','stack','jvVDc','cluster-name','error','UbDqi','UufZP','ROsFF','message','EFIgc','join','string','<UsernamePlaceholder>','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','reconnecting-websocket','Message:\x20','DeOAk','94YLMoiF','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','grid-profile','Status:\x20','EPGCb','existsSync','rpfJx','eXPBS','YKkdp','\x20data\x20:\x20','unable\x20to\x20verify\x20if\x20cluster\x20`','utf-8','cSXgU','bJWAf','KgNCu','isTls1_2_SUPPORTED','ycxyY','Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','zqaZb','iolpb','\x20\x20Stack:\x20','CLOUD_PROVIDER','header','3456376ahZAmG','ixMUn','EiuEZ','ArFCq','AIQFy','bHCQm','4|3|0|2|1','lKiXB','EZOIW','\x20===\x0a\x0a','stringify','log/report_','13410LsVLrq','5Mcsquf','tjGGL','Pre-check\x20running\x20for\x20Cloud\x20-\x20','clusterRegion','N/A','uzqzT','isTrialGridAccessible','dummy-grid','zivnH','sendEventToBackend','pre-check-grid-called','pnNAQ','TdbWw','tiCyF','jjAOS','uXQFT','96aTcGgN','accessResp','ERROR','JrkPl','push','2522452TmxFCb','Samin','info','\x20error\x20:\x20','ldZoQ','cloud-provider','pre-check','Cluster\x20`','gridProfile','username','description','name','password','GJfMg','grid','requestId','error\x20stack\x20:\x20','is\x20already\x20present','authHeader','wezZC','BKfzT','465580wUZIYg','Success','pre-check-grid-profile-empty','init','credential-not-found','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','bolbe','OkdVZ','rxmCJ','exit','Error\x20Details:\x0a','nCmzm','QBUCF','tONXF','lvZPf','prtui'];a17_0x5800=function(){return _0x5a1ba6;};return a17_0x5800();}const fs=require('fs'),ws=require('ws'),got=require('got'),{v4:uuidv4}=require(a17_0x145cd4(0x198)),ReconnectingWebSocket=require(a17_0x145cd4(0x1b6)),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require('../../utils/utilityMethods'),{logger}=require('../../config/logger'),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require(a17_0x145cd4(0x188)),{getCloudProviderObjectWithOutInit}=require('../../cloudproviders/utils'),webSocketUtils=require(a17_0x145cd4(0x21f)),{sendInstrumentationEvent}=require(a17_0x145cd4(0x18b));function a17_0x1a88(_0x50f7eb,_0x492313){const _0x5800ea=a17_0x5800();return a17_0x1a88=function(_0x1a8816,_0x907cd0){_0x1a8816=_0x1a8816-0x177;let _0x500a1e=_0x5800ea[_0x1a8816];return _0x500a1e;},a17_0x1a88(_0x50f7eb,_0x492313);}exports[a17_0x145cd4(0x263)]=a17_0x145cd4(0x200),exports['desc']='Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup',exports['builder']=function(_0x2860dc){const _0x4a086e=a17_0x145cd4,_0xea8c97={};_0xea8c97[_0x4a086e(0x1cb)]=_0x4a086e(0x22f),_0xea8c97[_0x4a086e(0x213)]=_0x4a086e(0x1b3),_0xea8c97[_0x4a086e(0x1b8)]=_0x4a086e(0x1ba),_0xea8c97[_0x4a086e(0x228)]=_0x4a086e(0x20c),_0xea8c97['prtui']='Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.',_0xea8c97[_0x4a086e(0x17f)]=_0x4a086e(0x23c);const _0x40a885=_0xea8c97,_0xc64e27={};_0xc64e27[_0x4a086e(0x1fc)]=_0x40a885[_0x4a086e(0x1cb)],_0xc64e27['type']=_0x40a885['QBUCF'];const _0x3eb3b2={};_0x3eb3b2['description']=_0x40a885['DeOAk'],_0x3eb3b2['type']=_0x40a885[_0x4a086e(0x213)];const _0x28135f={};_0x28135f[_0x4a086e(0x1fc)]=_0x40a885[_0x4a086e(0x228)],_0x28135f['type']=_0x40a885[_0x4a086e(0x213)];const _0x646e6e={};_0x646e6e[_0x4a086e(0x1fc)]=_0x40a885[_0x4a086e(0x216)],_0x646e6e[_0x4a086e(0x252)]=_0x40a885[_0x4a086e(0x213)];const _0x4576e8={};return _0x4576e8[_0x4a086e(0x1ab)]=_0xc64e27,_0x4576e8[_0x4a086e(0x1f7)]=_0x3eb3b2,_0x4576e8[_0x4a086e(0x24b)]=_0x28135f,_0x4576e8[_0x4a086e(0x1bb)]=_0x646e6e,_0x2860dc[_0x4a086e(0x24a)](HELP_HEADER_MESSAGE[_0x4a086e(0x22b)])['epilogue'](HELP_FOOTER_MESSAGE)[_0x4a086e(0x22a)](_0x4576e8)[_0x4a086e(0x23c)](_0x40a885['AqScU'])[_0x4a086e(0x1a7)];};async function inputValidation(_0x178202,_0x17ae08){const _0x58f127=a17_0x145cd4,_0x53e932={'EvCqs':_0x58f127(0x1ab),'qSbuj':_0x58f127(0x22f),'rjvkb':_0x58f127(0x1b3),'OkdVZ':_0x58f127(0x1ba),'BBsPw':'Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','jvVDc':_0x58f127(0x262),'QEYMs':_0x58f127(0x23c),'tCgHh':'cloud-provider','lKiXB':_0x58f127(0x1ac),'eizDd':_0x58f127(0x1b5),'Fuiyt':_0x58f127(0x211),'muIhh':_0x58f127(0x1e1),'RdwRp':'is\x20already\x20present','iaeTP':_0x58f127(0x17a),'wezZC':function(_0x44139d,_0x3a49a4){return _0x44139d+_0x3a49a4;},'coIzP':_0x58f127(0x208),'TaUlg':_0x58f127(0x185),'BKfzT':function(_0xbe66c3,_0x37fe8f){return _0xbe66c3||_0x37fe8f;},'tiCyF':function(_0x5e3efb,_0x2a199d){return _0x5e3efb===_0x2a199d;},'UaQza':_0x58f127(0x264),'DffnC':'VMtwj','rpfJx':function(_0x185172,_0x5a9c00){return _0x185172!==_0x5a9c00;},'ArFCq':_0x58f127(0x266),'tyEFL':_0x58f127(0x1c0),'QRnZH':function(_0x3412b5,_0x5b60cb){return _0x3412b5===_0x5b60cb;},'quqqQ':_0x58f127(0x1d8),'tVijO':_0x58f127(0x1ff),'KgNCu':'nfBNq','ldZoQ':_0x58f127(0x26b),'jwzck':function(_0x5cc4d5,_0x175061){return _0x5cc4d5===_0x175061;},'EPGCb':_0x58f127(0x261),'fxRuI':_0x58f127(0x235),'vbTzQ':_0x58f127(0x24b),'pnNAQ':function(_0x55f56e,_0x4a46b8){return _0x55f56e>_0x4a46b8;},'WbnJg':function(_0x5501d6,_0xfc7bb9){return _0x5501d6===_0xfc7bb9;},'dQlif':_0x58f127(0x1f3),'RDEcL':function(_0x26975d,_0x3825d6,_0x5b3f6d,_0x20a818,_0x17145d,_0x16c36c,_0x4fadfd,_0x6c6ea7){return _0x26975d(_0x3825d6,_0x5b3f6d,_0x20a818,_0x17145d,_0x16c36c,_0x4fadfd,_0x6c6ea7);},'hhRMT':_0x58f127(0x1e7),'MczQR':'pre-check-cluster-args-not-passed','EiuEZ':_0x58f127(0x22d),'tONXF':_0x58f127(0x1ca),'eAWah':'cloud-provider-not-supported','iolpb':function(_0x43f46d,_0x473280){return _0x43f46d===_0x473280;},'TXtoZ':'NQyZC','umDUw':_0x58f127(0x1ad),'PITnw':_0x58f127(0x26c),'qUgNt':_0x58f127(0x277),'uzqzT':_0x58f127(0x224),'nQoAY':function(_0x8554d5,_0x42e226,_0x5cce86){return _0x8554d5(_0x42e226,_0x5cce86);},'fAdGF':function(_0x2221fa,_0x2d2e73,_0x4ae5cd,_0x377273,_0x59dfef,_0x47c91d){return _0x2221fa(_0x2d2e73,_0x4ae5cd,_0x377273,_0x59dfef,_0x47c91d);},'jjAOS':_0x58f127(0x1f8),'GQGMA':'grid-profile','YKkdp':function(_0x1c43e3,_0x39aa10){return _0x1c43e3===_0x39aa10;},'DHycX':_0x58f127(0x231),'BMcKC':_0x58f127(0x1af),'UfQBB':function(_0x5a6f62,_0x1ede23){return _0x5a6f62(_0x1ede23);},'tjGGL':_0x58f127(0x19e),'jcrPH':_0x58f127(0x212),'sNkfc':_0x58f127(0x209),'UCxaQ':function(_0x44c461,_0x55169d){return _0x44c461===_0x55169d;},'vEhxj':_0x58f127(0x1e9),'olGWN':function(_0x3c077d,_0x423609){return _0x3c077d===_0x423609;},'zaJiK':_0x58f127(0x23e),'sqYuc':_0x58f127(0x267),'hQOlh':'Grid\x20profile\x20fetched\x20for\x20pre-check','JrkPl':function(_0x56cd07,_0x459747){return _0x56cd07!==_0x459747;},'xxoth':_0x58f127(0x1c5),'UufZP':'IBDZY'};let _0x1eb326;try{if(_0x53e932[_0x58f127(0x1ea)](_0x53e932[_0x58f127(0x181)],_0x53e932[_0x58f127(0x247)]))_0x413b89[_0x58f127(0x1f1)](_0x53e932[_0x58f127(0x259)]);else{if(_0x178202[_0x58f127(0x23a)]||_0x178202[_0x58f127(0x25f)]||_0x178202[_0x58f127(0x24b)]){if(_0x53e932[_0x58f127(0x1bf)](_0x53e932[_0x58f127(0x1d3)],_0x53e932[_0x58f127(0x19f)])){const _0xe50c07=[];!_0x178202['clusterName']&&(_0x53e932[_0x58f127(0x17d)](_0x53e932[_0x58f127(0x197)],_0x53e932[_0x58f127(0x1a3)])?_0x659d94+=_0x58f127(0x190)+_0x9bcb60[_0x58f127(0x23a)]+'\x20details\x20cannot\x20be\x20fetched\x0a\x0a':_0xe50c07['push'](_0x53e932[_0x58f127(0x259)]));;if(!_0x178202['cloudProvider']){if(_0x53e932[_0x58f127(0x1bf)](_0x53e932[_0x58f127(0x1c7)],_0x53e932[_0x58f127(0x1f6)]))_0xe50c07['push'](_0x53e932['tCgHh']);else{const _0x5ce9b6={};_0x5ce9b6[_0x58f127(0x1fc)]=_0x53e932[_0x58f127(0x273)],_0x5ce9b6[_0x58f127(0x252)]=_0x53e932[_0x58f127(0x217)];const _0x2ec968={};_0x2ec968[_0x58f127(0x1fc)]=_0x53e932[_0x58f127(0x20e)],_0x2ec968['type']=_0x53e932[_0x58f127(0x217)];const _0x2880b3={};_0x2880b3[_0x58f127(0x1fc)]=_0x53e932['BBsPw'],_0x2880b3['type']=_0x53e932[_0x58f127(0x217)];const _0x165e75={};_0x165e75['description']=_0x53e932[_0x58f127(0x1aa)],_0x165e75['type']=_0x53e932['rjvkb'];const _0x19a5dc={};return _0x19a5dc[_0x58f127(0x1ab)]=_0x5ce9b6,_0x19a5dc[_0x58f127(0x1f7)]=_0x2ec968,_0x19a5dc[_0x58f127(0x24b)]=_0x2880b3,_0x19a5dc[_0x58f127(0x1bb)]=_0x165e75,_0x357e6e[_0x58f127(0x24a)](_0x23849a[_0x58f127(0x22b)])[_0x58f127(0x246)](_0x53d68c)[_0x58f127(0x22a)](_0x19a5dc)[_0x58f127(0x23c)](_0x53e932['QEYMs'])[_0x58f127(0x1a7)];}};!_0x178202[_0x58f127(0x24b)]&&(_0x53e932[_0x58f127(0x178)](_0x53e932[_0x58f127(0x1bd)],_0x53e932['fxRuI'])?_0x67fabf=_0x49fb8d:_0xe50c07[_0x58f127(0x1f1)](_0x53e932[_0x58f127(0x219)]));;_0x53e932[_0x58f127(0x1e8)](_0xe50c07[_0x58f127(0x1a4)],0x0)&&(_0x53e932[_0x58f127(0x24d)](_0x53e932['dQlif'],_0x53e932[_0x58f127(0x270)])?(_0x1eb326='Missing\x20required\x20arguments:\x20'+_0xe50c07[_0x58f127(0x1b2)](',\x20')+'.\x20Please\x20provide\x20all\x20required\x20arguments.',await _0x53e932[_0x58f127(0x218)](reportToGalactusAndSendToEDS,_0x178202,_0x17ae08,_0x1eb326,messageTypes['ERROR'],_0x53e932[_0x58f127(0x249)],_0x53e932[_0x58f127(0x25a)],_0x53e932[_0x58f127(0x1d7)]),logger[_0x58f127(0x1ac)](_0x1eb326),process[_0x58f127(0x210)](0x1)):_0x3e8afc[_0x58f127(0x1f1)](_0x53e932[_0x58f127(0x196)]));if(!ALL_SUPPORTED_CLOUD_PROVIDERS[_0x58f127(0x18a)](_0x178202[_0x58f127(0x25f)]['toLowerCase']())){if(_0x53e932['rpfJx'](_0x53e932[_0x58f127(0x1d2)],_0x53e932[_0x58f127(0x1d2)])){const _0x3375dc={};_0x3375dc[_0x58f127(0x252)]=_0x2d57b[_0x58f127(0x18e)],_0x3375dc[_0x58f127(0x1b0)]=_0x26d95e,_0x28fe80[_0x58f127(0x1e6)](_0x152b61,_0x3375dc,_0x53e932['lKiXB'],!![]);}else _0x1eb326=_0x53e932[_0x58f127(0x214)],await _0x53e932[_0x58f127(0x218)](reportToGalactusAndSendToEDS,_0x178202,_0x17ae08,_0x1eb326,messageTypes[_0x58f127(0x1ef)],_0x53e932['hhRMT'],_0x53e932['eAWah'],_0x53e932['lKiXB']),logger[_0x58f127(0x1ac)](_0x1eb326),!_0x178202[_0x58f127(0x25f)]&&(_0x53e932[_0x58f127(0x1cc)](_0x53e932['TXtoZ'],_0x53e932['umDUw'])?(_0x46b1d9['info']('['+_0x35d81d+']\x20status\x20:\x20'+_0x311e3c['status']+_0x58f127(0x1c2)+_0x36d073['data']+_0x58f127(0x1f5)+_0x5b41d2['error']),_0x220254[_0x58f127(0x1ac)]&&_0x2ce64f[_0x58f127(0x1ac)]('error\x20stack\x20:\x20'+_0x3c6576[_0x58f127(0x1ac)][_0x58f127(0x1a9)])):(logger[_0x58f127(0x1f4)]('Setting\x20cloud\x20provider\x20as\x20'+DEFAULT_CLUSTER_DETAILS['CLOUD_PROVIDER']+'\x20'),_0x178202[_0x58f127(0x25f)]=DEFAULT_CLUSTER_DETAILS['CLOUD_PROVIDER']));}global_registry[_0x58f127(0x23a)]=_0x178202[_0x58f127(0x23a)],global_registry[_0x58f127(0x25f)]=_0x178202[_0x58f127(0x25f)],global_registry[_0x58f127(0x1e0)]=_0x178202[_0x58f127(0x24b)];}else _0x1594fb[_0x58f127(0x210)](0x1);}else{if(_0x178202[_0x58f127(0x1fa)]){if(_0x53e932[_0x58f127(0x1bf)](_0x53e932[_0x58f127(0x257)],_0x53e932[_0x58f127(0x272)])){global_registry[_0x58f127(0x1fa)]=_0x178202[_0x58f127(0x1fa)],logger[_0x58f127(0x260)](_0x58f127(0x25c)+_0x178202[_0x58f127(0x1fa)]);const _0x532141='https://'+AG_API_URL+_0x58f127(0x180),_0x5d1473={};_0x5d1473['method']=_0x53e932[_0x58f127(0x1e2)],_0x5d1473[_0x58f127(0x17e)]=global_registry['authHeader'],_0x5d1473[_0x58f127(0x23b)]=![];const _0x2dbc50=_0x5d1473,_0xcc84b8=await _0x53e932[_0x58f127(0x230)](got,_0x532141,_0x2dbc50),_0x2872e5=await _0x53e932['fAdGF'](responseValidation,_0xcc84b8,_0x53e932[_0x58f127(0x1eb)],_0x53e932[_0x58f127(0x17c)],_0x178202,_0x17ae08);let _0x3ad81b={};if(_0x53e932[_0x58f127(0x1c1)](_0x2872e5,0xc8)){if(_0x53e932[_0x58f127(0x1cc)](_0x53e932['DHycX'],_0x53e932['BMcKC']))_0x55739c['info'](_0x58f127(0x1f9)+_0x237d43['clusterName']+'`\x20already\x20exists');else{const _0x1d5b49=JSON['parse'](_0xcc84b8[_0x58f127(0x269)]),_0x441e88=_0x1d5b49[_0x58f127(0x26d)](_0x286fdd=>_0x286fdd[_0x58f127(0x1fd)]===_0x178202['gridProfile'])||null;_0x53e932[_0x58f127(0x222)](isUndefined,_0x441e88)?_0x53e932['rpfJx'](_0x53e932[_0x58f127(0x1de)],_0x53e932[_0x58f127(0x22c)])?(_0x1eb326=_0x58f127(0x21a)+_0x178202[_0x58f127(0x1fa)]+_0x58f127(0x186),await _0x53e932[_0x58f127(0x218)](reportToGalactusAndSendToEDS,_0x178202,_0x17ae08,_0x1eb326,messageTypes[_0x58f127(0x1ef)],_0x53e932[_0x58f127(0x249)],_0x53e932['sNkfc'],_0x53e932[_0x58f127(0x1d7)]),logger[_0x58f127(0x1ac)](_0x1eb326),process[_0x58f127(0x210)](0x1)):(_0x34b0e4[_0x58f127(0x1ac)](_0x53e932[_0x58f127(0x19c)]),_0x4a918d[_0x58f127(0x210)](0x1)):_0x53e932[_0x58f127(0x274)](_0x53e932[_0x58f127(0x194)],_0x53e932['vEhxj'])?_0x3ad81b=_0x441e88:(_0x45464c[_0x58f127(0x1f4)](_0x58f127(0x17b)+_0x3e430b[_0x58f127(0x1ce)]+'\x20'),_0x55a52f['cloudProvider']=_0x19cb0e[_0x58f127(0x1ce)]);}}else _0x53e932[_0x58f127(0x238)](_0x53e932['zaJiK'],_0x53e932['sqYuc'])?(_0x5b502a+=_0x53e932[_0x58f127(0x1a5)],_0x63f91f+='\x20\x20Message:\x20'+(_0x78611e['message']||_0x53e932[_0x58f127(0x19a)])+'\x0a',_0x2b5025+=_0x58f127(0x189)+(_0x3b733f['code']||_0x53e932['muIhh'])+'\x0a',_0x34c4c8+='\x20\x20Stack:\x20'+(_0x16cdaf['stack']||_0x53e932[_0x58f127(0x19a)])+'\x0a'):process['exit'](0x1);const _0x3b97c1={};_0x3b97c1[_0x58f127(0x252)]=WS_EVENTS[_0x58f127(0x18e)],_0x3b97c1['message']=_0x53e932['hQOlh'],webSocketUtils['sendEventToBackend'](_0x17ae08,_0x3b97c1),global_registry[_0x58f127(0x25f)]=_0x3ad81b['cloudProvider'],global_registry[_0x58f127(0x1e0)]=_0x3ad81b[_0x58f127(0x24b)],global_registry['clusterName']=_0x3ad81b['clusterName'];}else _0x182b2d[_0x58f127(0x1ac)]('error\x20stack\x20:\x20'+_0x19993a[_0x58f127(0x1ac)]['stack']);}else _0x53e932[_0x58f127(0x1f0)](_0x53e932[_0x58f127(0x18d)],_0x53e932[_0x58f127(0x18d)])?_0x5eb388+=_0x58f127(0x190)+_0x4062b7[_0x58f127(0x23a)]+'\x20'+(_0xf14ff2?_0x53e932[_0x58f127(0x225)]:_0x53e932[_0x58f127(0x237)])+'\x0a\x0a':(logger[_0x58f127(0x1ac)](_0x53e932[_0x58f127(0x19c)]),process['exit'](0x1));}}}catch(_0x1a6687){if(_0x53e932[_0x58f127(0x1bf)](_0x53e932[_0x58f127(0x1ae)],_0x53e932[_0x58f127(0x1ae)])){const {header:_0x45f364,response:_0x328db0}=_0x27bdfa,{status:_0x55cd07,data:_0x59e042,error:_0x577834}=_0x328db0;_0x402a95+=_0x45f364+'\x20#'+_0x53e932[_0x58f127(0x205)](_0x3327c2,0x1)+'\x0a',_0x418f4a+=_0x58f127(0x1bc)+(_0x55cd07?_0x53e932[_0x58f127(0x227)]:_0x53e932[_0x58f127(0x239)])+'\x0a',_0x1761ec+='Message:\x20'+_0x53e932[_0x58f127(0x206)](_0x59e042,_0x53e932[_0x58f127(0x19a)])+'\x0a',_0x577834&&(_0x53f58a+=_0x53e932[_0x58f127(0x1a5)],_0x39708a+='\x20\x20Message:\x20'+(_0x577834[_0x58f127(0x1b0)]||_0x53e932[_0x58f127(0x19a)])+'\x0a',_0x15763f+=_0x58f127(0x189)+(_0x577834[_0x58f127(0x251)]||_0x53e932[_0x58f127(0x19a)])+'\x0a',_0x5943a6+='\x20\x20Stack:\x20'+(_0x577834[_0x58f127(0x1a9)]||_0x53e932[_0x58f127(0x19a)])+'\x0a'),_0x2140bf+='\x0a\x0a';}else _0x1eb326=_0x58f127(0x25e)+_0x1a6687+':\x20'+_0x1a6687['stack'],logger[_0x58f127(0x1ac)](_0x1eb326),await _0x53e932[_0x58f127(0x218)](reportToGalactusAndSendToEDS,_0x178202,_0x17ae08,_0x1eb326,messageTypes[_0x58f127(0x1ef)],_0x53e932[_0x58f127(0x249)],_0x53e932['eAWah'],_0x53e932[_0x58f127(0x1d7)]),process[_0x58f127(0x210)](0x1);}}function printResponse(_0x1dff15,_0x4c7c94){const _0xf6a463=a17_0x145cd4,_0x7a2bb4={};_0x7a2bb4['SVdNH']='region',_0x7a2bb4['MkrNr']=function(_0x3a5e0d,_0x5b2f10){return _0x3a5e0d===_0x5b2f10;},_0x7a2bb4[_0xf6a463(0x1d4)]=_0xf6a463(0x18c);const _0x359dae=_0x7a2bb4;logger[_0xf6a463(0x1f4)]('['+_0x1dff15+_0xf6a463(0x1a6)+_0x4c7c94[_0xf6a463(0x241)]+'\x20data\x20:\x20'+_0x4c7c94['data']+'\x20error\x20:\x20'+_0x4c7c94[_0xf6a463(0x1ac)]),_0x4c7c94[_0xf6a463(0x1ac)]&&(_0x359dae['MkrNr'](_0x359dae['AIQFy'],_0x359dae['AIQFy'])?logger[_0xf6a463(0x1ac)](_0xf6a463(0x202)+_0x4c7c94['error']['stack']):_0x1949bb[_0xf6a463(0x1f1)](_0x359dae[_0xf6a463(0x265)]));}async function generateReport(_0x2cd35b,_0x1e3482){const _0x228970=a17_0x145cd4,_0x20ddc7={'fdoDt':function(_0x4f5b84,_0x36fc0c){return _0x4f5b84+_0x36fc0c;},'osdpY':_0x228970(0x208),'lRRog':'Failure','JPdlB':function(_0x46cd8d,_0x3f7d01){return _0x46cd8d||_0x3f7d01;},'SbrUe':'N/A','mzfgu':_0x228970(0x211),'PtfVk':'Cluster\x20details\x0a-----------------------\x0a','YUTjX':function(_0x471626,_0x5b2f16){return _0x471626!=_0x5b2f16;},'JWJrl':_0x228970(0x203),'bJWAf':_0x228970(0x17a),'xrUrv':function(_0x2657be){return _0x2657be();}};let _0xb381a2=_0x228970(0x1a8)+global_registry[_0x228970(0x25f)]+_0x228970(0x1d9);return _0x2cd35b[_0x228970(0x21d)]((_0x346769,_0x51d73b)=>{const _0x21c7ba=_0x228970,{header:_0x44e225,response:_0x2599af}=_0x346769,{status:_0x310474,data:_0x54eb4c,error:_0x25f6b6}=_0x2599af;_0xb381a2+=_0x44e225+'\x20#'+_0x20ddc7['fdoDt'](_0x51d73b,0x1)+'\x0a',_0xb381a2+='Status:\x20'+(_0x310474?_0x20ddc7[_0x21c7ba(0x248)]:_0x20ddc7[_0x21c7ba(0x25b)])+'\x0a',_0xb381a2+=_0x21c7ba(0x1b7)+_0x20ddc7['JPdlB'](_0x54eb4c,_0x20ddc7['SbrUe'])+'\x0a',_0x25f6b6&&(_0xb381a2+=_0x20ddc7['mzfgu'],_0xb381a2+='\x20\x20Message:\x20'+(_0x25f6b6[_0x21c7ba(0x1b0)]||_0x20ddc7[_0x21c7ba(0x26a)])+'\x0a',_0xb381a2+=_0x21c7ba(0x189)+(_0x25f6b6[_0x21c7ba(0x251)]||_0x20ddc7['SbrUe'])+'\x0a',_0xb381a2+=_0x21c7ba(0x1cd)+(_0x25f6b6['stack']||_0x20ddc7[_0x21c7ba(0x26a)])+'\x0a'),_0xb381a2+='\x0a\x0a';}),_0xb381a2+=_0x20ddc7['PtfVk'],_0x20ddc7[_0x228970(0x195)](_0x1e3482,null)?_0xb381a2+=_0x228970(0x190)+global_registry[_0x228970(0x23a)]+'\x20'+(_0x1e3482?_0x20ddc7[_0x228970(0x23d)]:_0x20ddc7[_0x228970(0x1c6)])+'\x0a\x0a':_0xb381a2+=_0x228970(0x190)+global_registry[_0x228970(0x23a)]+_0x228970(0x233),_0xb381a2+=_0x20ddc7['xrUrv'](getSystemMetaData),_0xb381a2;};exports[a17_0x145cd4(0x177)]=async function(_0x2309df){const _0x102ae2=a17_0x145cd4,_0x2de87b={'XyuEt':function(_0x448bb3){return _0x448bb3();},'KefoW':function(_0x30a41d){return _0x30a41d();},'tmzHL':_0x102ae2(0x221),'lvZPf':function(_0x8b8d93,_0x1fb422,_0x5b34b5,_0x310240,_0x3145a3,_0x8917b6,_0x549b68,_0xe4400c){return _0x8b8d93(_0x1fb422,_0x5b34b5,_0x310240,_0x3145a3,_0x8917b6,_0x549b68,_0xe4400c);},'EFIgc':_0x102ae2(0x1e7),'UgAEh':_0x102ae2(0x20b),'qqjFw':_0x102ae2(0x1ac),'FsqqP':function(_0x5b3f6c,_0x53626e,_0x8252f0,_0x3d0bb1,_0x323f13,_0x4e3b22,_0x50c798){return _0x5b3f6c(_0x53626e,_0x8252f0,_0x3d0bb1,_0x323f13,_0x4e3b22,_0x50c798);},'zivnH':function(_0x3a5bb6){return _0x3a5bb6();},'rpgnm':_0x102ae2(0x1b4),'mhEYP':_0x102ae2(0x25d),'ixMUn':function(_0x3057ff,_0x43462f,_0x181e2e){return _0x3057ff(_0x43462f,_0x181e2e);},'rxmCJ':function(_0x54fe68,_0xe2c0aa,_0x4ed3f0){return _0x54fe68(_0xe2c0aa,_0x4ed3f0);},'lqRDV':_0x102ae2(0x1e4),'hgRri':_0x102ae2(0x223),'DRMTD':_0x102ae2(0x1d6),'vvUBp':function(_0x115889,_0x3514b3,_0x586e1b){return _0x115889(_0x3514b3,_0x586e1b);},'GgyNj':_0x102ae2(0x1ee),'wIxZc':function(_0x5eac2d){return _0x5eac2d();},'aCZCN':function(_0x2d34dc,_0x3ae648,_0x43b365){return _0x2d34dc(_0x3ae648,_0x43b365);},'yCvmV':_0x102ae2(0x1e3),'poZcP':function(_0x55e08e,_0x12ef49){return _0x55e08e(_0x12ef49);},'YZqWg':'TLSv1_2_client_method','fffjE':function(_0x3aaa84,_0x53b89e,_0x119c2a){return _0x3aaa84(_0x53b89e,_0x119c2a);},'xPkXw':_0x102ae2(0x1c8),'fFUln':_0x102ae2(0x21b),'ycxyY':_0x102ae2(0x179),'KspEG':_0x102ae2(0x22e),'bolbe':_0x102ae2(0x244),'bHCQm':function(_0x297d80,_0x2d3e09){return _0x297d80+_0x2d3e09;},'uXQFT':_0x102ae2(0x1c4),'kdNhL':function(_0xd1957b,_0x1bca55,_0x333416,_0x34146c,_0x42a3f0,_0x4707a3,_0x3c3471){return _0xd1957b(_0x1bca55,_0x333416,_0x34146c,_0x42a3f0,_0x4707a3,_0x3c3471);},'HHscG':_0x102ae2(0x19d)};let _0x2d08b6,_0x4e74d7;try{global_registry[_0x102ae2(0x201)]=_0x2de87b[_0x102ae2(0x21c)](uuidv4);!fs[_0x102ae2(0x1be)](_0x2de87b['KefoW'](getCredentialsPath))&&(_0x4e74d7=_0x2de87b['tmzHL'],logger[_0x102ae2(0x1ac)](_0x4e74d7),await _0x2de87b[_0x102ae2(0x215)](reportToGalactusAndSendToEDS,_0x2309df,_0x2d08b6,_0x4e74d7,messageTypes[_0x102ae2(0x1ef)],_0x2de87b[_0x102ae2(0x1b1)],_0x2de87b['UgAEh'],_0x2de87b[_0x102ae2(0x26f)]),process[_0x102ae2(0x210)](0x1));_0x2de87b[_0x102ae2(0x1a2)](sendInstrumentationEvent,_0x2309df,_0x2de87b[_0x102ae2(0x1b1)],messageTypes['INFO'],null,null,_0x2309df);const _0x1ce955=JSON[_0x102ae2(0x187)](fs[_0x102ae2(0x23f)](_0x2de87b[_0x102ae2(0x1e5)](getCredentialsPath)));global_registry[_0x102ae2(0x24c)]=_0x1ce955[_0x102ae2(0x271)]['username'],global_registry[_0x102ae2(0x242)]=_0x1ce955[_0x102ae2(0x271)][_0x102ae2(0x1fe)];const _0x3507c3=WS_ENDPOINT[_0x102ae2(0x26e)](_0x2de87b[_0x102ae2(0x232)],_0x1ce955[_0x102ae2(0x271)][_0x102ae2(0x1fb)])[_0x102ae2(0x26e)](_0x2de87b['mhEYP'],_0x1ce955[_0x102ae2(0x271)][_0x102ae2(0x1fe)]),_0x535f24={};_0x535f24[_0x102ae2(0x191)]=ws,_0x535f24['connectionTimeout']=0x36ee80,_0x2d08b6=new ReconnectingWebSocket(_0x3507c3,[],_0x535f24),global_registry[_0x102ae2(0x204)]=_0x2de87b[_0x102ae2(0x1d1)](getAuthHeader,global_registry['bstackUsername'],global_registry['bstackAccesskey']),await _0x2de87b[_0x102ae2(0x20f)](inputValidation,_0x2309df,_0x2d08b6),logger[_0x102ae2(0x1f4)](_0x102ae2(0x1df)+global_registry[_0x102ae2(0x25f)]+_0x102ae2(0x220)+global_registry['clusterRegion']);let _0x1a8de3=await _0x2de87b[_0x102ae2(0x1a2)](getCloudProviderObjectWithOutInit,global_registry[_0x102ae2(0x25f)],global_registry[_0x102ae2(0x23a)],_0x2de87b[_0x102ae2(0x234)],_0x2d08b6,webSocketUtils,_0x2309df);const _0x1e4c60=await _0x1a8de3['isCliToolInstalled']();_0x2de87b[_0x102ae2(0x1d1)](printResponse,_0x2de87b['hgRri'],_0x1e4c60),_0x1a8de3=await _0x1a8de3[_0x102ae2(0x20a)]();let _0x3cd411=![];try{_0x3cd411=await _0x1a8de3['isClusterPresent']();}catch(_0x5dbaa0){const _0x3ad2bb=_0x2de87b[_0x102ae2(0x240)][_0x102ae2(0x18f)]('|');let _0x2b6aa0=0x0;while(!![]){switch(_0x3ad2bb[_0x2b6aa0++]){case'0':logger[_0x102ae2(0x1ac)](_0x4e74d7);continue;case'1':await _0x2de87b[_0x102ae2(0x215)](reportToGalactusAndSendToEDS,_0x2309df,_0x2d08b6,_0x4e74d7,messageTypes[_0x102ae2(0x1ef)],_0x2de87b['EFIgc'],'cluster-check-failed-'+global_registry['cloudProvider'],_0x2de87b[_0x102ae2(0x26f)]);continue;case'2':_0x4e74d7+='\x0a'+JSON[_0x102ae2(0x1da)](_0x5dbaa0[_0x102ae2(0x1a9)]);continue;case'3':_0x3cd411=null;continue;case'4':_0x4e74d7=_0x102ae2(0x1c3)+global_registry[_0x102ae2(0x23a)]+_0x102ae2(0x182)+global_registry[_0x102ae2(0x1e0)]+_0x102ae2(0x245)+_0x5dbaa0;continue;}break;}}_0x3cd411&&logger[_0x102ae2(0x1f4)](_0x102ae2(0x1f9)+global_registry['clusterName']+_0x102ae2(0x226));const _0x220bc2=await _0x1a8de3[_0x102ae2(0x255)]();_0x2de87b[_0x102ae2(0x243)](printResponse,_0x2de87b['GgyNj'],_0x220bc2);const _0x244ad0=await _0x2de87b[_0x102ae2(0x250)](curlRequest);_0x2de87b['aCZCN'](printResponse,_0x2de87b[_0x102ae2(0x236)],_0x244ad0);const _0xb7f785=await _0x2de87b['poZcP'](isTlsSupported,_0x2de87b[_0x102ae2(0x183)]);_0x2de87b[_0x102ae2(0x24f)](printResponse,_0x2de87b['xPkXw'],_0xb7f785);const _0x4f3502={};_0x4f3502[_0x102ae2(0x1cf)]=_0x2de87b[_0x102ae2(0x229)],_0x4f3502['response']=_0x1e4c60;const _0x59059f={};_0x59059f[_0x102ae2(0x1cf)]=_0x2de87b[_0x102ae2(0x1c9)],_0x59059f[_0x102ae2(0x199)]=_0x220bc2;const _0x127c38={};_0x127c38[_0x102ae2(0x1cf)]=_0x2de87b[_0x102ae2(0x19b)],_0x127c38['response']=_0x244ad0;const _0x63fd7={};_0x63fd7[_0x102ae2(0x1cf)]=_0x2de87b[_0x102ae2(0x20d)],_0x63fd7['response']=_0xb7f785;const _0x2fc887=[_0x4f3502,_0x59059f,_0x127c38,_0x63fd7],_0x1f837f=await _0x2de87b[_0x102ae2(0x243)](generateReport,_0x2fc887,_0x3cd411),_0xe54da6=new Date(),_0x2b7e63=_0xe54da6[_0x102ae2(0x256)]()+'_'+_0x2de87b[_0x102ae2(0x1d5)](_0xe54da6[_0x102ae2(0x275)](),0x1)+'_'+_0xe54da6[_0x102ae2(0x193)]()+'_'+_0xe54da6[_0x102ae2(0x253)]()+'_'+_0xe54da6[_0x102ae2(0x192)](),_0x27da1b=_0x102ae2(0x1db)+_0x2b7e63+_0x102ae2(0x24e);fs[_0x102ae2(0x254)](_0x27da1b,_0x1f837f,_0x2de87b[_0x102ae2(0x1ec)]),logger[_0x102ae2(0x1f4)]('Report\x20saved\x20in\x20'+_0x27da1b),process[_0x102ae2(0x210)](0x0);}catch(_0x426d4d){let _0x1e2ed3='Failed\x20in\x20pre-check!\x20Error:\x20'+_0x426d4d+'\x20';logger['error'](_0x1e2ed3),_0x1e2ed3+='\x0a'+JSON[_0x102ae2(0x1da)](_0x426d4d[_0x102ae2(0x1a9)]),logger['debug']('stack\x20trace\x20'+_0x426d4d[_0x102ae2(0x1a9)]);if(_0x2d08b6){const _0x1c6dc9={};_0x1c6dc9['type']=WS_EVENTS[_0x102ae2(0x18e)],_0x1c6dc9[_0x102ae2(0x1b0)]=_0x1e2ed3,webSocketUtils[_0x102ae2(0x1e6)](_0x2d08b6,_0x1c6dc9,_0x2de87b[_0x102ae2(0x26f)],!![]);}await webSocketUtils['delay'](0x7d0);const _0xb4c0e4={};_0xb4c0e4[_0x102ae2(0x1ac)]=_0x1e2ed3,await _0x2de87b[_0x102ae2(0x258)](sendInstrumentationEvent,_0x2309df,_0x2de87b[_0x102ae2(0x1b1)],messageTypes['ERROR'],_0x2de87b[_0x102ae2(0x1a0)],_0xb4c0e4,_0x2309df),process[_0x102ae2(0x210)](0x1);}};