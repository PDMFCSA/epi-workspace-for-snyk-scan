const a17_0x369331=a17_0x2aa8;(function(_0x4ed792,_0x11db61){const _0x424f7a=a17_0x2aa8,_0x19f625=_0x4ed792();while(!![]){try{const _0x3e6ce7=-parseInt(_0x424f7a(0x1aa))/0x1+-parseInt(_0x424f7a(0x134))/0x2*(parseInt(_0x424f7a(0xd7))/0x3)+-parseInt(_0x424f7a(0x16c))/0x4+parseInt(_0x424f7a(0xf8))/0x5+-parseInt(_0x424f7a(0x13b))/0x6*(-parseInt(_0x424f7a(0x1ce))/0x7)+parseInt(_0x424f7a(0x177))/0x8+-parseInt(_0x424f7a(0x189))/0x9*(parseInt(_0x424f7a(0x121))/0xa);if(_0x3e6ce7===_0x11db61)break;else _0x19f625['push'](_0x19f625['shift']());}catch(_0x1256ed){_0x19f625['push'](_0x19f625['shift']());}}}(a17_0x437a,0xcc4bc));const fs=require('fs'),ws=require('ws'),got=require(a17_0x369331(0xee)),{v4:uuidv4}=require(a17_0x369331(0x187)),ReconnectingWebSocket=require('reconnecting-websocket'),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require('../../utils/utilityMethods'),{logger}=require(a17_0x369331(0xf0)),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require('../../config/constants'),{getCloudProviderObjectWithOutInit}=require(a17_0x369331(0x18c)),webSocketUtils=require(a17_0x369331(0xf9)),{sendInstrumentationEvent}=require(a17_0x369331(0x184));exports[a17_0x369331(0x191)]='grid',exports[a17_0x369331(0xda)]=a17_0x369331(0x11b),exports[a17_0x369331(0x14d)]=function(_0x17118e){const _0x1fbf96=a17_0x369331,_0x4fe24f={};_0x4fe24f[_0x1fbf96(0x115)]=_0x1fbf96(0xf1),_0x4fe24f['HmZHO']=_0x1fbf96(0xe0),_0x4fe24f[_0x1fbf96(0x1cf)]=_0x1fbf96(0xe4),_0x4fe24f['SssXJ']='Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.',_0x4fe24f[_0x1fbf96(0xf3)]=_0x1fbf96(0x141),_0x4fe24f[_0x1fbf96(0x175)]='help';const _0x2e7fc2=_0x4fe24f,_0x37e3e5={};_0x37e3e5['description']=_0x2e7fc2[_0x1fbf96(0x115)],_0x37e3e5['type']=_0x2e7fc2['HmZHO'];const _0x4e01f5={};_0x4e01f5[_0x1fbf96(0x13a)]=_0x2e7fc2[_0x1fbf96(0x1cf)],_0x4e01f5[_0x1fbf96(0xe5)]=_0x2e7fc2['HmZHO'];const _0x577120={};_0x577120[_0x1fbf96(0x13a)]=_0x2e7fc2[_0x1fbf96(0x133)],_0x577120['type']=_0x2e7fc2[_0x1fbf96(0x1b8)];const _0x5e7a0a={};_0x5e7a0a[_0x1fbf96(0x13a)]=_0x2e7fc2[_0x1fbf96(0xf3)],_0x5e7a0a[_0x1fbf96(0xe5)]=_0x2e7fc2[_0x1fbf96(0x1b8)];const _0x110c85={};return _0x110c85[_0x1fbf96(0x159)]=_0x37e3e5,_0x110c85[_0x1fbf96(0x1c7)]=_0x4e01f5,_0x110c85['region']=_0x577120,_0x110c85[_0x1fbf96(0x167)]=_0x5e7a0a,_0x17118e['usage'](HELP_HEADER_MESSAGE['pre_check'])['epilogue'](HELP_FOOTER_MESSAGE)[_0x1fbf96(0x1c8)](_0x110c85)['help'](_0x2e7fc2[_0x1fbf96(0x175)])[_0x1fbf96(0x199)];};async function inputValidation(_0x749c5b,_0x30ea22){const _0x19fbf4=a17_0x369331,_0x415140={'eUtvU':_0x19fbf4(0xf1),'mdUiN':_0x19fbf4(0xe0),'cnMfj':_0x19fbf4(0xe4),'JUvrL':_0x19fbf4(0x10f),'kKulY':_0x19fbf4(0x141),'eaMGF':_0x19fbf4(0x1af),'sXqLa':_0x19fbf4(0x1c7),'GcDcQ':_0x19fbf4(0x146),'Crmyo':'N/A','ikVrT':_0x19fbf4(0x17b),'AlOKm':_0x19fbf4(0x159),'vOCDY':_0x19fbf4(0x1b3),'CrKSS':_0x19fbf4(0xea),'XDXWe':function(_0x3ca53a,_0x6ffb83){return _0x3ca53a+_0x6ffb83;},'IyFoM':_0x19fbf4(0x1c6),'bpMcd':_0x19fbf4(0x10d),'hUpoo':function(_0x2e85ea,_0x4441ff){return _0x2e85ea||_0x4441ff;},'yjbjR':function(_0x23bdae,_0xd26dc1){return _0x23bdae!==_0xd26dc1;},'fvspi':_0x19fbf4(0x158),'FDrci':function(_0x1d7f22,_0x47764e){return _0x1d7f22!==_0x47764e;},'KrQQt':'hSngc','vsbdq':_0x19fbf4(0xeb),'QdVgs':'ZGJOv','SIuGF':function(_0x2e2cfc,_0x5cf2dd){return _0x2e2cfc===_0x5cf2dd;},'WDwnb':_0x19fbf4(0x148),'lcndT':_0x19fbf4(0x12a),'wlhgF':function(_0x13db46,_0x3a9e94){return _0x13db46!==_0x3a9e94;},'dUWCL':_0x19fbf4(0x1a4),'LFtls':function(_0x427489,_0x106147){return _0x427489>_0x106147;},'nmpMl':_0x19fbf4(0x111),'xPkAw':function(_0x4e4f9b,_0x33cac7,_0x3dbe6c,_0x84d77e,_0x510f8e,_0x233b01,_0x2e6bdc,_0x255807){return _0x4e4f9b(_0x33cac7,_0x3dbe6c,_0x84d77e,_0x510f8e,_0x233b01,_0x2e6bdc,_0x255807);},'frAUm':_0x19fbf4(0xde),'wAPXC':_0x19fbf4(0x157),'HjtJI':'keMhG','nLArL':_0x19fbf4(0xe9),'fkSPe':function(_0x41bfd6,_0x254e4b,_0x1f5b06,_0x52efd4,_0x3cb003,_0x20646b,_0x42c3a2,_0x5ac103){return _0x41bfd6(_0x254e4b,_0x1f5b06,_0x52efd4,_0x3cb003,_0x20646b,_0x42c3a2,_0x5ac103);},'mdtNy':_0x19fbf4(0xfb),'JoPad':function(_0x4d6f6d,_0x56bbc2){return _0x4d6f6d===_0x56bbc2;},'zyLJu':_0x19fbf4(0x185),'yDYym':_0x19fbf4(0x195),'qtsRP':_0x19fbf4(0x12b),'jlXAH':function(_0x370c6f,_0x50a136,_0x269249){return _0x370c6f(_0x50a136,_0x269249);},'ScbnR':function(_0x248461,_0x1ae715,_0x147c63,_0x1db962,_0x57c546,_0xeddc57){return _0x248461(_0x1ae715,_0x147c63,_0x1db962,_0x57c546,_0xeddc57);},'VUzvn':'pre-check','vNRyS':'grid-profile','UUFWy':_0x19fbf4(0xfc),'kPQSg':function(_0x297549,_0x168eda){return _0x297549(_0x168eda);},'hFKIG':function(_0x36fce6,_0x2cf298){return _0x36fce6!==_0x2cf298;},'Zzvre':_0x19fbf4(0x156),'sHpJq':_0x19fbf4(0xe3),'Ibgtm':_0x19fbf4(0x100),'eWFBS':_0x19fbf4(0x1cc),'GJNVz':_0x19fbf4(0x129),'uPRGQ':_0x19fbf4(0xec),'AmuPk':_0x19fbf4(0x106),'dXfGS':_0x19fbf4(0x1a1),'rWCSw':function(_0x155e3c,_0x80e68c){return _0x155e3c!==_0x80e68c;},'rTRvq':'vOwHf','UCeBq':'QHshU','PkwaV':function(_0x2d7110,_0x543c77,_0x3544f3,_0x54fea9,_0x505621,_0x54e427,_0x11c284,_0x497d08){return _0x2d7110(_0x543c77,_0x3544f3,_0x54fea9,_0x505621,_0x54e427,_0x11c284,_0x497d08);}};let _0x4f9222;try{if(_0x415140[_0x19fbf4(0x151)](_0x415140['fvspi'],_0x415140[_0x19fbf4(0x1ae)]))_0x15984a+='Cluster\x20'+_0x73fd80[_0x19fbf4(0x169)]+_0x19fbf4(0xdd);else{if(_0x749c5b[_0x19fbf4(0x169)]||_0x749c5b[_0x19fbf4(0x126)]||_0x749c5b['region']){if(_0x415140[_0x19fbf4(0x15f)](_0x415140[_0x19fbf4(0x1a5)],_0x415140['KrQQt']))_0x518fbe=_0x1d5c33;else{const _0x49870a=[];if(!_0x749c5b[_0x19fbf4(0x169)]){if(_0x415140[_0x19fbf4(0x151)](_0x415140[_0x19fbf4(0xd5)],_0x415140[_0x19fbf4(0x107)]))_0x49870a[_0x19fbf4(0x188)](_0x415140[_0x19fbf4(0x1bb)]);else{const _0x14c5f7={};_0x14c5f7[_0x19fbf4(0x13a)]=_0x415140[_0x19fbf4(0x10c)],_0x14c5f7[_0x19fbf4(0xe5)]=_0x415140['mdUiN'];const _0x323e4c={};_0x323e4c['description']=_0x415140[_0x19fbf4(0x101)],_0x323e4c[_0x19fbf4(0xe5)]=_0x415140['mdUiN'];const _0x52b567={};_0x52b567[_0x19fbf4(0x13a)]=_0x415140[_0x19fbf4(0x14a)],_0x52b567[_0x19fbf4(0xe5)]=_0x415140[_0x19fbf4(0x1b7)];const _0x46985f={};_0x46985f[_0x19fbf4(0x13a)]=_0x415140['kKulY'],_0x46985f[_0x19fbf4(0xe5)]=_0x415140[_0x19fbf4(0x1b7)];const _0x41ca7f={};return _0x41ca7f['cluster-name']=_0x14c5f7,_0x41ca7f['cloud-provider']=_0x323e4c,_0x41ca7f[_0x19fbf4(0x1b3)]=_0x52b567,_0x41ca7f[_0x19fbf4(0x167)]=_0x46985f,_0x1f3adb[_0x19fbf4(0x154)](_0x53c8bb[_0x19fbf4(0x1b5)])[_0x19fbf4(0x1d0)](_0x210de1)[_0x19fbf4(0x1c8)](_0x41ca7f)[_0x19fbf4(0x1af)](_0x415140['eaMGF'])['argv'];}};!_0x749c5b[_0x19fbf4(0x126)]&&(_0x415140[_0x19fbf4(0x14c)](_0x415140['WDwnb'],_0x415140['lcndT'])?_0x35ab87['info'](_0x19fbf4(0x136)+_0x12324c[_0x19fbf4(0x169)]+_0x19fbf4(0x18d)):_0x49870a['push'](_0x415140[_0x19fbf4(0x15a)]));;!_0x749c5b['region']&&(_0x415140[_0x19fbf4(0x160)](_0x415140['dUWCL'],_0x415140[_0x19fbf4(0x19c)])?_0x424b8[_0x19fbf4(0x1c9)](0x1):_0x49870a[_0x19fbf4(0x188)](_0x415140[_0x19fbf4(0x178)]));;_0x415140[_0x19fbf4(0xe8)](_0x49870a[_0x19fbf4(0x17f)],0x0)&&(_0x415140[_0x19fbf4(0x15f)](_0x415140[_0x19fbf4(0x15d)],_0x415140[_0x19fbf4(0x15d)])?(_0x4e2be9['info'](_0x19fbf4(0xdf)+_0x28503e[_0x19fbf4(0x127)]+'\x20'),_0xdb94c['cloudProvider']=_0x5347b8[_0x19fbf4(0x127)]):(_0x4f9222=_0x19fbf4(0x116)+_0x49870a[_0x19fbf4(0xd8)](',\x20')+_0x19fbf4(0x12f),await _0x415140[_0x19fbf4(0xed)](reportToGalactusAndSendToEDS,_0x749c5b,_0x30ea22,_0x4f9222,messageTypes['ERROR'],_0x415140[_0x19fbf4(0x13d)],_0x415140[_0x19fbf4(0xff)],_0x415140[_0x19fbf4(0x174)]),logger[_0x19fbf4(0xea)](_0x4f9222),process[_0x19fbf4(0x1c9)](0x1))),!ALL_SUPPORTED_CLOUD_PROVIDERS[_0x19fbf4(0x150)](_0x749c5b[_0x19fbf4(0x126)][_0x19fbf4(0x176)]())&&(_0x415140[_0x19fbf4(0x151)](_0x415140['HjtJI'],_0x415140[_0x19fbf4(0xf6)])?_0x56beb4['error'](_0x19fbf4(0x144)+_0x12b64d['error'][_0x19fbf4(0x137)]):(_0x4f9222=_0x415140[_0x19fbf4(0x10b)],await _0x415140[_0x19fbf4(0x170)](reportToGalactusAndSendToEDS,_0x749c5b,_0x30ea22,_0x4f9222,messageTypes[_0x19fbf4(0x17c)],_0x415140[_0x19fbf4(0x13d)],_0x415140[_0x19fbf4(0x1ba)],_0x415140[_0x19fbf4(0x174)]),logger['error'](_0x4f9222),!_0x749c5b[_0x19fbf4(0x126)]&&(_0x415140[_0x19fbf4(0x179)](_0x415140[_0x19fbf4(0x1ad)],_0x415140['zyLJu'])?(logger[_0x19fbf4(0x1c2)](_0x19fbf4(0xdf)+DEFAULT_CLUSTER_DETAILS[_0x19fbf4(0x127)]+'\x20'),_0x749c5b['cloudProvider']=DEFAULT_CLUSTER_DETAILS[_0x19fbf4(0x127)]):_0x25eb98[_0x19fbf4(0x188)](_0x415140['sXqLa'])))),global_registry['clusterName']=_0x749c5b['clusterName'],global_registry[_0x19fbf4(0x126)]=_0x749c5b[_0x19fbf4(0x126)],global_registry['clusterRegion']=_0x749c5b[_0x19fbf4(0x1b3)];}}else{if(_0x749c5b[_0x19fbf4(0x16d)]){if(_0x415140['FDrci'](_0x415140[_0x19fbf4(0x198)],_0x415140[_0x19fbf4(0x198)]))_0x30b641+=_0x415140['GcDcQ'],_0x4daaf2+='\x20\x20Message:\x20'+(_0x19b0f3[_0x19fbf4(0x19e)]||_0x415140[_0x19fbf4(0x180)])+'\x0a',_0x44affd+='\x20\x20Code:\x20'+(_0x24e892['code']||_0x415140[_0x19fbf4(0x180)])+'\x0a',_0x560c8a+=_0x19fbf4(0x17a)+(_0x1632ba['stack']||_0x415140[_0x19fbf4(0x180)])+'\x0a';else{global_registry[_0x19fbf4(0x16d)]=_0x749c5b['gridProfile'],logger[_0x19fbf4(0x1a2)](_0x19fbf4(0x14b)+_0x749c5b[_0x19fbf4(0x16d)]);const _0x5276cb='https://'+AG_API_URL+_0x19fbf4(0x1ca),_0x2d98e9={};_0x2d98e9[_0x19fbf4(0x17d)]=_0x415140['qtsRP'],_0x2d98e9[_0x19fbf4(0x16b)]=global_registry['authHeader'],_0x2d98e9[_0x19fbf4(0x1a0)]=![];const _0x80fcc3=_0x2d98e9,_0x346792=await _0x415140['jlXAH'](got,_0x5276cb,_0x80fcc3),_0x5c7a2b=await _0x415140[_0x19fbf4(0x1ab)](responseValidation,_0x346792,_0x415140[_0x19fbf4(0x1b2)],_0x415140[_0x19fbf4(0x172)],_0x749c5b,_0x30ea22);let _0x50206a={};if(_0x415140[_0x19fbf4(0x179)](_0x5c7a2b,0xc8)){if(_0x415140['FDrci'](_0x415140[_0x19fbf4(0x192)],_0x415140[_0x19fbf4(0x192)]))_0x239a1b['error'](_0x415140[_0x19fbf4(0x113)]),_0x59f6cb['exit'](0x1);else{const _0x32c1a5=JSON[_0x19fbf4(0xe1)](_0x346792[_0x19fbf4(0x14f)]),_0x11e7d2=_0x32c1a5[_0x19fbf4(0x16f)](_0x373097=>_0x373097[_0x19fbf4(0x138)]===_0x749c5b[_0x19fbf4(0x16d)])||null;_0x415140[_0x19fbf4(0xf2)](isUndefined,_0x11e7d2)?_0x415140[_0x19fbf4(0x163)](_0x415140['Zzvre'],_0x415140['sHpJq'])?(_0x4f9222=_0x19fbf4(0x12c)+_0x749c5b[_0x19fbf4(0x16d)]+_0x19fbf4(0x147),await _0x415140[_0x19fbf4(0xed)](reportToGalactusAndSendToEDS,_0x749c5b,_0x30ea22,_0x4f9222,messageTypes['ERROR'],_0x415140['frAUm'],_0x415140['Ibgtm'],_0x415140['CrKSS']),logger['error'](_0x4f9222),process['exit'](0x1)):_0x31e3c8[_0x19fbf4(0x188)](_0x415140['AlOKm']):_0x415140[_0x19fbf4(0x15f)](_0x415140['eWFBS'],_0x415140[_0x19fbf4(0x123)])?_0x50206a=_0x11e7d2:_0x458039[_0x19fbf4(0x188)](_0x415140[_0x19fbf4(0x178)]);}}else _0x415140['yjbjR'](_0x415140[_0x19fbf4(0xe2)],_0x415140[_0x19fbf4(0x173)])?process['exit'](0x1):(_0x3227f8[_0x19fbf4(0x1c2)]('['+_0x281174+_0x19fbf4(0xf5)+_0x48d1f0[_0x19fbf4(0x10e)]+_0x19fbf4(0x164)+_0x110cb2['data']+'\x20error\x20:\x20'+_0x5516e0[_0x19fbf4(0xea)]),_0x283fa2['error']&&_0x54df68['error'](_0x19fbf4(0x144)+_0x3a8f43[_0x19fbf4(0xea)][_0x19fbf4(0x137)]));const _0x539397={};_0x539397[_0x19fbf4(0xe5)]=WS_EVENTS[_0x19fbf4(0x1cd)],_0x539397[_0x19fbf4(0x19e)]=_0x415140[_0x19fbf4(0x1ac)],webSocketUtils[_0x19fbf4(0x15c)](_0x30ea22,_0x539397),global_registry[_0x19fbf4(0x126)]=_0x50206a[_0x19fbf4(0x126)],global_registry['clusterRegion']=_0x50206a[_0x19fbf4(0x1b3)],global_registry[_0x19fbf4(0x169)]=_0x50206a[_0x19fbf4(0x169)];}}else{if(_0x415140[_0x19fbf4(0x15e)](_0x415140[_0x19fbf4(0x149)],_0x415140['rTRvq'])){const _0x423269={};_0x423269[_0x19fbf4(0xe5)]=_0xc0ca15[_0x19fbf4(0x1cd)],_0x423269[_0x19fbf4(0x19e)]=_0x4b9f9e,_0x59f37f[_0x19fbf4(0x15c)](_0x5884d1,_0x423269,_0x415140[_0x19fbf4(0x174)],!![]);}else logger['error'](_0x415140[_0x19fbf4(0x113)]),process[_0x19fbf4(0x1c9)](0x1);}}}}catch(_0x4a7975){if(_0x415140[_0x19fbf4(0x151)](_0x415140[_0x19fbf4(0x18f)],_0x415140[_0x19fbf4(0x18f)])){const {header:_0x5d759d,response:_0x517c64}=_0x616c92,{status:_0x13b397,data:_0x158cc8,error:_0x1723b2}=_0x517c64;_0x356a4c+=_0x5d759d+'\x20#'+_0x415140[_0x19fbf4(0x1c5)](_0xf3afd4,0x1)+'\x0a',_0x90dd07+=_0x19fbf4(0x11c)+(_0x13b397?_0x415140['IyFoM']:_0x415140['bpMcd'])+'\x0a',_0x2e5e9f+=_0x19fbf4(0x114)+_0x415140[_0x19fbf4(0x165)](_0x158cc8,_0x415140['Crmyo'])+'\x0a',_0x1723b2&&(_0x228c1e+=_0x415140[_0x19fbf4(0xd9)],_0x2867f6+=_0x19fbf4(0x152)+(_0x1723b2[_0x19fbf4(0x19e)]||_0x415140[_0x19fbf4(0x180)])+'\x0a',_0x24d1b2+=_0x19fbf4(0x145)+(_0x1723b2['code']||_0x415140['Crmyo'])+'\x0a',_0x3c63b4+='\x20\x20Stack:\x20'+(_0x1723b2[_0x19fbf4(0x137)]||_0x415140[_0x19fbf4(0x180)])+'\x0a'),_0x2146d6+='\x0a\x0a';}else _0x4f9222='Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20'+_0x4a7975+':\x20'+_0x4a7975[_0x19fbf4(0x137)],logger[_0x19fbf4(0xea)](_0x4f9222),await _0x415140[_0x19fbf4(0x19b)](reportToGalactusAndSendToEDS,_0x749c5b,_0x30ea22,_0x4f9222,messageTypes['ERROR'],_0x415140[_0x19fbf4(0x13d)],_0x415140[_0x19fbf4(0x1ba)],_0x415140[_0x19fbf4(0x174)]),process[_0x19fbf4(0x1c9)](0x1);}}function a17_0x2aa8(_0x19a49c,_0x4129fe){const _0x437a39=a17_0x437a();return a17_0x2aa8=function(_0x2aa82a,_0x44ee91){_0x2aa82a=_0x2aa82a-0xd5;let _0x4c91bb=_0x437a39[_0x2aa82a];return _0x4c91bb;},a17_0x2aa8(_0x19a49c,_0x4129fe);}function printResponse(_0x5b29e0,_0x3919fa){const _0x2ca0c2=a17_0x369331,_0xdf3131={};_0xdf3131[_0x2ca0c2(0x16a)]='is\x20already\x20present',_0xdf3131['qsHJC']=_0x2ca0c2(0x1a6),_0xdf3131['lBesy']=function(_0x3479b5,_0x57a5cb){return _0x3479b5===_0x57a5cb;},_0xdf3131[_0x2ca0c2(0x132)]=_0x2ca0c2(0x19d),_0xdf3131[_0x2ca0c2(0x1c4)]=_0x2ca0c2(0x1bd);const _0x217cae=_0xdf3131;logger['info']('['+_0x5b29e0+_0x2ca0c2(0xf5)+_0x3919fa['status']+_0x2ca0c2(0x164)+_0x3919fa[_0x2ca0c2(0x13f)]+_0x2ca0c2(0x1be)+_0x3919fa[_0x2ca0c2(0xea)]),_0x3919fa['error']&&(_0x217cae[_0x2ca0c2(0x108)](_0x217cae[_0x2ca0c2(0x132)],_0x217cae['wWCSD'])?_0x1b4071+='Cluster\x20'+_0x3f66fe['clusterName']+'\x20'+(_0x111ea2?_0x217cae[_0x2ca0c2(0x16a)]:_0x217cae['qsHJC'])+'\x0a\x0a':logger[_0x2ca0c2(0xea)]('error\x20stack\x20:\x20'+_0x3919fa[_0x2ca0c2(0xea)][_0x2ca0c2(0x137)]));}async function generateReport(_0x556360,_0x44cc15){const _0x3a264f=a17_0x369331,_0xfb8ac0={'YBWuy':function(_0x300f76,_0x4ad93c){return _0x300f76+_0x4ad93c;},'BGhTv':_0x3a264f(0x1c6),'YYlTI':_0x3a264f(0x10d),'beKir':function(_0x26d732,_0x5b7239){return _0x26d732||_0x5b7239;},'dNmRj':'N/A','ezpwu':_0x3a264f(0x146),'ZMXFF':_0x3a264f(0x12d),'Thvod':function(_0x46413a,_0x53b410){return _0x46413a!=_0x53b410;},'USzhp':_0x3a264f(0xdc),'XtFyP':_0x3a264f(0x1a6),'zqfIE':function(_0x3605a3){return _0x3605a3();}};let _0x3c47f1='===\x20Precheck\x20Report\x20-\x20'+global_registry[_0x3a264f(0x126)]+'\x20===\x0a\x0a';return _0x556360[_0x3a264f(0xe6)]((_0x251232,_0x2f6bc8)=>{const _0x265a51=_0x3a264f,{header:_0x387185,response:_0x3eaeab}=_0x251232,{status:_0x462c77,data:_0x2fffc2,error:_0x1a0be6}=_0x3eaeab;_0x3c47f1+=_0x387185+'\x20#'+_0xfb8ac0[_0x265a51(0x110)](_0x2f6bc8,0x1)+'\x0a',_0x3c47f1+='Status:\x20'+(_0x462c77?_0xfb8ac0[_0x265a51(0xef)]:_0xfb8ac0[_0x265a51(0x183)])+'\x0a',_0x3c47f1+=_0x265a51(0x114)+_0xfb8ac0[_0x265a51(0x13e)](_0x2fffc2,_0xfb8ac0[_0x265a51(0x118)])+'\x0a',_0x1a0be6&&(_0x3c47f1+=_0xfb8ac0[_0x265a51(0x104)],_0x3c47f1+=_0x265a51(0x152)+(_0x1a0be6[_0x265a51(0x19e)]||_0xfb8ac0[_0x265a51(0x118)])+'\x0a',_0x3c47f1+=_0x265a51(0x145)+(_0x1a0be6[_0x265a51(0x112)]||_0xfb8ac0[_0x265a51(0x118)])+'\x0a',_0x3c47f1+=_0x265a51(0x17a)+(_0x1a0be6[_0x265a51(0x137)]||_0xfb8ac0[_0x265a51(0x118)])+'\x0a'),_0x3c47f1+='\x0a\x0a';}),_0x3c47f1+=_0xfb8ac0[_0x3a264f(0x102)],_0xfb8ac0[_0x3a264f(0x171)](_0x44cc15,null)?_0x3c47f1+=_0x3a264f(0x119)+global_registry['clusterName']+'\x20'+(_0x44cc15?_0xfb8ac0[_0x3a264f(0xfe)]:_0xfb8ac0[_0x3a264f(0x197)])+'\x0a\x0a':_0x3c47f1+=_0x3a264f(0x119)+global_registry[_0x3a264f(0x169)]+_0x3a264f(0xdd),_0x3c47f1+=_0xfb8ac0[_0x3a264f(0x194)](getSystemMetaData),_0x3c47f1;}function a17_0x437a(){const _0x1ed872=['sendEventToBackend','nmpMl','rWCSw','FDrci','wlhgF','GNmfS','igdUh','hFKIG','\x20data\x20:\x20','hUpoo','stringify','grid-profile','InJMo','clusterName','jpnKJ','headers','2097352gcLoaY','gridProfile','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','find','fkSPe','Thvod','vNRyS','AmuPk','CrKSS','mXRpc','toLowerCase','13003952cqehLg','vOCDY','JoPad','\x20\x20Stack:\x20','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','ERROR','method','dummy-grid','length','Crmyo','getUTCFullYear','Whitelisted\x20browserstack','YYlTI','../../utils/instrumentationUtils','cmiqN','WebSocket','uuid','push','1323441hxWOHR','requestId','connectionTimeout','../../cloudproviders/utils','`\x20already\x20exists','init','UCeBq','response','command','UUFWy','SSL\x20Configured','zqfIE','YtdyV','BscKO','XtFyP','yDYym','argv','getUTCMinutes','PkwaV','dUWCL','yLCRx','message','handler','throwHttpErrors','Grid\x20profile\x20fetched\x20for\x20pre-check','debug','ZRSXe','BZAFn','KrQQt','will\x20be\x20created','cIviT','PWeTM','Pre-check\x20running\x20for\x20Cloud\x20-\x20','85214HhsRDj','ScbnR','dXfGS','zyLJu','fvspi','help','bstackUsername','utf-8','VUzvn','region','Report\x20saved\x20in\x20','pre_check','existsSync','mdUiN','HmZHO','PSlbm','mdtNy','AlOKm','isClusterPresent','NhLLi','\x20error\x20:\x20','EdFlx','CZlSn','2|3|4|0|1','info','eBqUo','wWCSD','XDXWe','Success','cloud-provider','options','exit','/packages/cli/get-all-grid-profiles','replace','KLtHG','LOG','413rwJnXY','eQuOI','epilogue','vsbdq','readFileSync','2405331MVvkgB','join','GcDcQ','desc','`\x20,error\x20:\x20','is\x20already\x20present','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','pre-check-grid-called','Setting\x20cloud\x20provider\x20as\x20','string','parse','uPRGQ','FvgeW','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','type','forEach','accessResp','LFtls','Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','error','SxmKv','TxVvn','xPkAw','got','BGhTv','../../config/logger','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','kPQSg','FXqHT','ZUHOX',']\x20status\x20:\x20','HjtJI','MSUlc','4912315aOPBHy','../../utils/webSocketUtils','\x20region\x20-\x20','cloud-provider-not-supported','NJKPZ','User\x20Access','USzhp','wAPXC','pre-check-grid-profile-empty','cnMfj','ZMXFF','getUTCHours','ezpwu','stack\x20trace\x20','PQMiB','QdVgs','lBesy','authHeader','<UsernamePlaceholder>','nLArL','eUtvU','Failure','status','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','YBWuy','LkKGT','code','ikVrT','Message:\x20','IocxJ','Missing\x20required\x20arguments:\x20','bstackAccesskey','dNmRj','Cluster\x20','Browserstack','Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup','Status:\x20','JrDwh','clusterRegion','rpjNM','getUTCDate','80SWAHgF','dRwtA','GJNVz','<PasswordPlaceholder>','password','cloudProvider','CLOUD_PROVIDER','header','uDLwY','BfIIv','GET','Invalid\x20input.\x20grid\x20profiles:\x20','Cluster\x20details\x0a-----------------------\x0a','GZhkx','.\x20Please\x20provide\x20all\x20required\x20arguments.','HXGbA','unable\x20to\x20verify\x20if\x20cluster\x20`','RAdfg','SssXJ','2OILIjI','credential-not-found','Cluster\x20`','stack','name','KkWaS','description','83040tILEOO','isTrialGridAccessible','frAUm','beKir','data','`\x20is\x20present\x20in\x20region\x20`','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','igplG','TLSv1_2_client_method','error\x20stack\x20:\x20','\x20\x20Code:\x20','Error\x20Details:\x0a','.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again','BqaFH','rTRvq','JUvrL','grid\x20profile\x20flow\x20','SIuGF','builder','.txt','body','includes','yjbjR','\x20\x20Message:\x20','split','usage','delay','Xpzaw','pre-check-cluster-args-not-passed','hjwOg','cluster-name','sXqLa','Tool\x20Installed'];a17_0x437a=function(){return _0x1ed872;};return a17_0x437a();};exports[a17_0x369331(0x19f)]=async function(_0x120a2b){const _0x32a33c=a17_0x369331,_0x6ca629={'HXGbA':function(_0x540a8d){return _0x540a8d();},'GZhkx':_0x32a33c(0x16e),'HwemP':function(_0x58b507,_0x4e0346,_0x51b154,_0x36282b,_0x3d10ee,_0x141fa8,_0xbc5ae9,_0x42860a){return _0x58b507(_0x4e0346,_0x51b154,_0x36282b,_0x3d10ee,_0x141fa8,_0xbc5ae9,_0x42860a);},'igplG':'pre-check-grid-called','yrjPU':_0x32a33c(0x135),'ZRSXe':_0x32a33c(0xea),'KkWaS':function(_0xb58382,_0x557c24,_0x1f800f,_0x1fdb81,_0x11ee35,_0x1481be,_0x48d04b){return _0xb58382(_0x557c24,_0x1f800f,_0x1fdb81,_0x11ee35,_0x1481be,_0x48d04b);},'igdUh':_0x32a33c(0x10a),'kLVsi':_0x32a33c(0x124),'JrDwh':function(_0xed41b3,_0x1cdfb2,_0x105875){return _0xed41b3(_0x1cdfb2,_0x105875);},'PSlbm':function(_0x3f2a85,_0xa833d8,_0x5be9ca){return _0x3f2a85(_0xa833d8,_0x5be9ca);},'BscKO':_0x32a33c(0x17e),'pVKhD':function(_0x399c35,_0x3a6463,_0x5a9b04){return _0x399c35(_0x3a6463,_0x5a9b04);},'rDMfT':'toolInstalledResp','CZlSn':_0x32a33c(0x1c1),'ZRkTm':_0x32a33c(0xe7),'eBqUo':_0x32a33c(0x13c),'PWeTM':function(_0x1e988d,_0x941a59){return _0x1e988d(_0x941a59);},'GNmfS':_0x32a33c(0x143),'ZUHOX':function(_0x569d63,_0x29c399,_0x4a3c74){return _0x569d63(_0x29c399,_0x4a3c74);},'MDwpy':'isTls1_2_SUPPORTED','SCdXD':_0x32a33c(0x15b),'MSUlc':_0x32a33c(0xfd),'dRwtA':_0x32a33c(0x182),'rpjNM':_0x32a33c(0x193),'InJMo':function(_0x20022d,_0x4d549){return _0x20022d+_0x4d549;},'EdFlx':_0x32a33c(0x1b1),'EQhbg':function(_0x4ac255,_0x4d1b8a,_0x13b690,_0x54362e,_0x3267e2,_0x3b68af,_0x768696){return _0x4ac255(_0x4d1b8a,_0x13b690,_0x54362e,_0x3267e2,_0x3b68af,_0x768696);},'cIviT':'pre-check-failed'};let _0x283734,_0x4a7847;try{global_registry[_0x32a33c(0x18a)]=_0x6ca629['HXGbA'](uuidv4);!fs[_0x32a33c(0x1b6)](_0x6ca629['HXGbA'](getCredentialsPath))&&(_0x4a7847=_0x6ca629[_0x32a33c(0x12e)],logger[_0x32a33c(0xea)](_0x4a7847),await _0x6ca629['HwemP'](reportToGalactusAndSendToEDS,_0x120a2b,_0x283734,_0x4a7847,messageTypes[_0x32a33c(0x17c)],_0x6ca629['igplG'],_0x6ca629['yrjPU'],_0x6ca629['ZRSXe']),process['exit'](0x1));_0x6ca629[_0x32a33c(0x139)](sendInstrumentationEvent,_0x120a2b,_0x6ca629[_0x32a33c(0x142)],messageTypes['INFO'],null,null,_0x120a2b);const _0x3f949d=JSON[_0x32a33c(0xe1)](fs[_0x32a33c(0xd6)](_0x6ca629['HXGbA'](getCredentialsPath)));global_registry[_0x32a33c(0x1b0)]=_0x3f949d[_0x32a33c(0x11a)]['username'],global_registry[_0x32a33c(0x117)]=_0x3f949d[_0x32a33c(0x11a)][_0x32a33c(0x125)];const _0x4b5432=WS_ENDPOINT[_0x32a33c(0x1cb)](_0x6ca629[_0x32a33c(0x162)],_0x3f949d[_0x32a33c(0x11a)]['username'])[_0x32a33c(0x1cb)](_0x6ca629['kLVsi'],_0x3f949d[_0x32a33c(0x11a)][_0x32a33c(0x125)]),_0x354f49={};_0x354f49[_0x32a33c(0x186)]=ws,_0x354f49[_0x32a33c(0x18b)]=0x36ee80,_0x283734=new ReconnectingWebSocket(_0x4b5432,[],_0x354f49),global_registry[_0x32a33c(0x109)]=_0x6ca629[_0x32a33c(0x11d)](getAuthHeader,global_registry[_0x32a33c(0x1b0)],global_registry[_0x32a33c(0x117)]),await _0x6ca629[_0x32a33c(0x1b9)](inputValidation,_0x120a2b,_0x283734),logger['info'](_0x32a33c(0x1a9)+global_registry[_0x32a33c(0x126)]+_0x32a33c(0xfa)+global_registry['clusterRegion']);let _0x3c8793=await _0x6ca629['KkWaS'](getCloudProviderObjectWithOutInit,global_registry[_0x32a33c(0x126)],global_registry['clusterName'],_0x6ca629[_0x32a33c(0x196)],_0x283734,webSocketUtils,_0x120a2b);const _0x5b89a=await _0x3c8793['isCliToolInstalled']();_0x6ca629['pVKhD'](printResponse,_0x6ca629['rDMfT'],_0x5b89a),_0x3c8793=await _0x3c8793[_0x32a33c(0x18e)]();let _0x4dae12=![];try{_0x4dae12=await _0x3c8793[_0x32a33c(0x1bc)]();}catch(_0x521071){const _0x93935d=_0x6ca629[_0x32a33c(0x1c0)][_0x32a33c(0x153)]('|');let _0x19cf0e=0x0;while(!![]){switch(_0x93935d[_0x19cf0e++]){case'0':_0x4a7847+='\x0a'+JSON[_0x32a33c(0x166)](_0x521071[_0x32a33c(0x137)]);continue;case'1':await _0x6ca629['HwemP'](reportToGalactusAndSendToEDS,_0x120a2b,_0x283734,_0x4a7847,messageTypes[_0x32a33c(0x17c)],_0x6ca629['igplG'],'cluster-check-failed-'+global_registry[_0x32a33c(0x126)],_0x6ca629['ZRSXe']);continue;case'2':_0x4a7847=_0x32a33c(0x131)+global_registry[_0x32a33c(0x169)]+_0x32a33c(0x140)+global_registry[_0x32a33c(0x11e)]+_0x32a33c(0xdb)+_0x521071;continue;case'3':_0x4dae12=null;continue;case'4':logger[_0x32a33c(0xea)](_0x4a7847);continue;}break;}}_0x4dae12&&logger[_0x32a33c(0x1c2)]('Cluster\x20`'+global_registry[_0x32a33c(0x169)]+_0x32a33c(0x18d));const _0x557fb3=await _0x3c8793['checkAccess']();_0x6ca629[_0x32a33c(0x11d)](printResponse,_0x6ca629['ZRkTm'],_0x557fb3);const _0x9be928=await _0x6ca629[_0x32a33c(0x130)](curlRequest);_0x6ca629[_0x32a33c(0x1b9)](printResponse,_0x6ca629[_0x32a33c(0x1c3)],_0x9be928);const _0x52630a=await _0x6ca629[_0x32a33c(0x1a8)](isTlsSupported,_0x6ca629[_0x32a33c(0x161)]);_0x6ca629[_0x32a33c(0xf4)](printResponse,_0x6ca629['MDwpy'],_0x52630a);const _0xb82b6={};_0xb82b6[_0x32a33c(0x128)]=_0x6ca629['SCdXD'],_0xb82b6[_0x32a33c(0x190)]=_0x5b89a;const _0xeccfc={};_0xeccfc['header']=_0x6ca629[_0x32a33c(0xf7)],_0xeccfc[_0x32a33c(0x190)]=_0x557fb3;const _0x31889b={};_0x31889b['header']=_0x6ca629[_0x32a33c(0x122)],_0x31889b[_0x32a33c(0x190)]=_0x9be928;const _0x447eb1={};_0x447eb1[_0x32a33c(0x128)]=_0x6ca629[_0x32a33c(0x11f)],_0x447eb1[_0x32a33c(0x190)]=_0x52630a;const _0x5998a7=[_0xb82b6,_0xeccfc,_0x31889b,_0x447eb1],_0x5a4564=await _0x6ca629['PSlbm'](generateReport,_0x5998a7,_0x4dae12),_0x36c43a=new Date(),_0x14f54b=_0x36c43a[_0x32a33c(0x181)]()+'_'+_0x6ca629[_0x32a33c(0x168)](_0x36c43a['getUTCMonth'](),0x1)+'_'+_0x36c43a[_0x32a33c(0x120)]()+'_'+_0x36c43a[_0x32a33c(0x103)]()+'_'+_0x36c43a[_0x32a33c(0x19a)](),_0x11d528='log/report_'+_0x14f54b+_0x32a33c(0x14e);fs['writeFileSync'](_0x11d528,_0x5a4564,_0x6ca629[_0x32a33c(0x1bf)]),logger[_0x32a33c(0x1c2)](_0x32a33c(0x1b4)+_0x11d528),process[_0x32a33c(0x1c9)](0x0);}catch(_0x5e94a1){let _0xf59662='Failed\x20in\x20pre-check!\x20Error:\x20'+_0x5e94a1+'\x20';logger[_0x32a33c(0xea)](_0xf59662),_0xf59662+='\x0a'+JSON[_0x32a33c(0x166)](_0x5e94a1['stack']),logger[_0x32a33c(0x1a2)](_0x32a33c(0x105)+_0x5e94a1[_0x32a33c(0x137)]);if(_0x283734){const _0x4262e0={};_0x4262e0[_0x32a33c(0xe5)]=WS_EVENTS[_0x32a33c(0x1cd)],_0x4262e0['message']=_0xf59662,webSocketUtils['sendEventToBackend'](_0x283734,_0x4262e0,_0x6ca629[_0x32a33c(0x1a3)],!![]);}await webSocketUtils[_0x32a33c(0x155)](0x7d0);const _0x3f20d5={};_0x3f20d5['error']=_0xf59662,await _0x6ca629['EQhbg'](sendInstrumentationEvent,_0x120a2b,_0x6ca629[_0x32a33c(0x142)],messageTypes['ERROR'],_0x6ca629[_0x32a33c(0x1a7)],_0x3f20d5,_0x120a2b),process[_0x32a33c(0x1c9)](0x1);}};