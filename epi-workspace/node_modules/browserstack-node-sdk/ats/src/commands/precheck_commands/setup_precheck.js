const a17_0x1d8b65=a17_0x4f60;(function(_0x2f0389,_0x39b04f){const _0x2e9fe0=a17_0x4f60,_0x392098=_0x2f0389();while(!![]){try{const _0x39a6a4=-parseInt(_0x2e9fe0(0x155))/0x1+parseInt(_0x2e9fe0(0x16b))/0x2*(parseInt(_0x2e9fe0(0x141))/0x3)+parseInt(_0x2e9fe0(0x10e))/0x4*(parseInt(_0x2e9fe0(0x1c3))/0x5)+parseInt(_0x2e9fe0(0x1d2))/0x6+-parseInt(_0x2e9fe0(0x101))/0x7*(-parseInt(_0x2e9fe0(0x19e))/0x8)+-parseInt(_0x2e9fe0(0x122))/0x9*(-parseInt(_0x2e9fe0(0xf9))/0xa)+-parseInt(_0x2e9fe0(0x127))/0xb;if(_0x39a6a4===_0x39b04f)break;else _0x392098['push'](_0x392098['shift']());}catch(_0x5c0074){_0x392098['push'](_0x392098['shift']());}}}(a17_0x4a25,0x60f26));const fs=require('fs'),ws=require('ws'),got=require(a17_0x1d8b65(0x162)),{v4:uuidv4}=require('uuid'),ReconnectingWebSocket=require(a17_0x1d8b65(0x167)),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require(a17_0x1d8b65(0x11b)),{logger}=require('../../config/logger'),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require(a17_0x1d8b65(0x1e2)),{getCloudProviderObjectWithOutInit}=require(a17_0x1d8b65(0x13c)),webSocketUtils=require(a17_0x1d8b65(0x1bb)),{sendInstrumentationEvent}=require(a17_0x1d8b65(0x10f));exports[a17_0x1d8b65(0x10a)]=a17_0x1d8b65(0x1ca),exports[a17_0x1d8b65(0x138)]='Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup',exports[a17_0x1d8b65(0x192)]=function(_0xad1d25){const _0xd6cc6a=a17_0x1d8b65,_0x338c11={};_0x338c11[_0xd6cc6a(0x114)]=_0xd6cc6a(0x1b7),_0x338c11['Ynlll']=_0xd6cc6a(0x102),_0x338c11[_0xd6cc6a(0x16f)]=_0xd6cc6a(0x1c2),_0x338c11[_0xd6cc6a(0x123)]=_0xd6cc6a(0x170),_0x338c11[_0xd6cc6a(0x128)]='Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.',_0x338c11[_0xd6cc6a(0xe5)]=_0xd6cc6a(0x193);const _0x16e15a=_0x338c11,_0xb84d93={};_0xb84d93['description']=_0x16e15a[_0xd6cc6a(0x114)],_0xb84d93[_0xd6cc6a(0x186)]=_0x16e15a[_0xd6cc6a(0x182)];const _0x331389={};_0x331389[_0xd6cc6a(0xeb)]=_0x16e15a['fvOsY'],_0x331389[_0xd6cc6a(0x186)]=_0x16e15a[_0xd6cc6a(0x182)];const _0xfd3e99={};_0xfd3e99[_0xd6cc6a(0xeb)]=_0x16e15a[_0xd6cc6a(0x123)],_0xfd3e99[_0xd6cc6a(0x186)]=_0x16e15a['Ynlll'];const _0x2434c9={};_0x2434c9[_0xd6cc6a(0xeb)]=_0x16e15a[_0xd6cc6a(0x128)],_0x2434c9['type']=_0x16e15a[_0xd6cc6a(0x182)];const _0x2d541b={};return _0x2d541b[_0xd6cc6a(0xed)]=_0xb84d93,_0x2d541b['cloud-provider']=_0x331389,_0x2d541b[_0xd6cc6a(0x1b0)]=_0xfd3e99,_0x2d541b[_0xd6cc6a(0x11d)]=_0x2434c9,_0xad1d25[_0xd6cc6a(0x129)](HELP_HEADER_MESSAGE[_0xd6cc6a(0x168)])[_0xd6cc6a(0x109)](HELP_FOOTER_MESSAGE)['options'](_0x2d541b)[_0xd6cc6a(0x193)](_0x16e15a[_0xd6cc6a(0xe5)])[_0xd6cc6a(0x17d)];};async function inputValidation(_0x498655,_0x3a1481){const _0x4fc7d2=a17_0x1d8b65,_0x4b23f3={'PVxZp':_0x4fc7d2(0xed),'qMXUS':_0x4fc7d2(0x1b5),'yEkCV':_0x4fc7d2(0x145),'zHAMM':function(_0x27c2c6,_0x15e35d){return _0x27c2c6+_0x15e35d;},'sitMx':_0x4fc7d2(0x100),'fKARq':_0x4fc7d2(0x188),'pBFAK':function(_0x2dc786,_0x5c4712){return _0x2dc786||_0x5c4712;},'WFHIv':_0x4fc7d2(0x18d),'CJEPr':'cloud-provider','rLzTD':'error','kBQSx':'region','bcGDS':_0x4fc7d2(0x1b7),'UjCUs':_0x4fc7d2(0x102),'dDJvs':_0x4fc7d2(0x1c2),'wpSuH':_0x4fc7d2(0x170),'fFCDm':_0x4fc7d2(0x125),'QJOVH':_0x4fc7d2(0x193),'AUuPP':function(_0x3c6839,_0x29c886){return _0x3c6839===_0x29c886;},'JIUku':_0x4fc7d2(0x153),'fYGsa':_0x4fc7d2(0x108),'KzizO':function(_0x5ca08b,_0x30684e){return _0x5ca08b!==_0x30684e;},'WQDeM':_0x4fc7d2(0x1db),'srKpA':function(_0x4d8cec,_0x385187){return _0x4d8cec!==_0x385187;},'IbeUE':'NWRBa','qnjsb':_0x4fc7d2(0x10c),'vBdLL':function(_0x66c2c2,_0x176efb){return _0x66c2c2!==_0x176efb;},'jzwIH':_0x4fc7d2(0x187),'OjrCb':_0x4fc7d2(0x1dc),'RZxos':function(_0x33792a,_0x45cc83){return _0x33792a===_0x45cc83;},'DArFI':_0x4fc7d2(0x146),'JKUIn':'BZPOr','bNAne':function(_0x55570d,_0x5773fe){return _0x55570d>_0x5773fe;},'WmmEr':_0x4fc7d2(0x1a3),'pHCvM':_0x4fc7d2(0xf0),'SliTX':function(_0x272423,_0x325469,_0x54e00a,_0x529b98,_0x47487e,_0x1790bb,_0x429a86,_0x12fff1){return _0x272423(_0x325469,_0x54e00a,_0x529b98,_0x47487e,_0x1790bb,_0x429a86,_0x12fff1);},'tFMTz':_0x4fc7d2(0x135),'fQLiZ':'pre-check-cluster-args-not-passed','wgdeI':_0x4fc7d2(0x18e),'KgpPM':_0x4fc7d2(0x181),'NUrtY':function(_0xd076a7,_0x47f3f5,_0x3e8e3a,_0x558603,_0x3fd94f,_0x4b84fc,_0x2297c4,_0x4fea2c){return _0xd076a7(_0x47f3f5,_0x3e8e3a,_0x558603,_0x3fd94f,_0x4b84fc,_0x2297c4,_0x4fea2c);},'CiPRl':_0x4fc7d2(0x196),'zvcyq':function(_0x3827a4,_0x59c950){return _0x3827a4!==_0x59c950;},'zUotZ':_0x4fc7d2(0x1cd),'EzjfR':_0x4fc7d2(0xf2),'hlfIS':'Wswxp','YaJav':_0x4fc7d2(0x150),'octVf':function(_0x459212,_0xe94633,_0x36394c){return _0x459212(_0xe94633,_0x36394c);},'fmuQE':function(_0x343b6a,_0x3d716f,_0x16d1dc,_0x4d22e0,_0x170314,_0x5da1ff){return _0x343b6a(_0x3d716f,_0x16d1dc,_0x4d22e0,_0x170314,_0x5da1ff);},'rdTGg':_0x4fc7d2(0x151),'wPCQE':_0x4fc7d2(0x11d),'qKXUE':function(_0x3a2004,_0xfc9944){return _0x3a2004===_0xfc9944;},'fvPzy':_0x4fc7d2(0x185),'TbQNN':function(_0x3fd958,_0x3fc160){return _0x3fd958(_0x3fc160);},'KaegT':_0x4fc7d2(0x1c5),'lwvGM':'ekois','tqIJx':function(_0x3bf182,_0x31e4c2,_0x556752,_0x4b0ce0,_0x3c5dc1,_0x46b519,_0x268fc0,_0x352539){return _0x3bf182(_0x31e4c2,_0x556752,_0x4b0ce0,_0x3c5dc1,_0x46b519,_0x268fc0,_0x352539);},'XJsrq':_0x4fc7d2(0x13e),'KjaTP':_0x4fc7d2(0xe6),'cDxiO':_0x4fc7d2(0x105),'xicZL':_0x4fc7d2(0x139),'OqPcv':_0x4fc7d2(0x1ad),'ZWkug':'HabFk','VTmnj':_0x4fc7d2(0x1c9),'PHhQK':function(_0x5aafad,_0x34880e){return _0x5aafad===_0x34880e;},'GrLiI':_0x4fc7d2(0xf1),'oGYOd':function(_0x129b2d,_0x162670,_0x1a6bc7,_0x4a36e9,_0x137a8c,_0x2af003,_0xa59398,_0x3cf3aa){return _0x129b2d(_0x162670,_0x1a6bc7,_0x4a36e9,_0x137a8c,_0x2af003,_0xa59398,_0x3cf3aa);}};let _0x6d20c9;try{if(_0x4b23f3[_0x4fc7d2(0x156)](_0x4b23f3[_0x4fc7d2(0x1a2)],_0x4b23f3[_0x4fc7d2(0x178)]))_0x483722+='Cluster\x20'+_0x14f12e[_0x4fc7d2(0x1a6)]+_0x4fc7d2(0x18b);else{if(_0x498655[_0x4fc7d2(0x1a6)]||_0x498655['cloudProvider']||_0x498655[_0x4fc7d2(0x1b0)]){if(_0x4b23f3[_0x4fc7d2(0x11f)](_0x4b23f3['WQDeM'],_0x4b23f3[_0x4fc7d2(0x110)]))_0x42d617['push'](_0x4b23f3[_0x4fc7d2(0x1a1)]);else{const _0x1abc61=[];!_0x498655[_0x4fc7d2(0x1a6)]&&(_0x4b23f3[_0x4fc7d2(0x1d6)](_0x4b23f3[_0x4fc7d2(0x12f)],_0x4b23f3[_0x4fc7d2(0x13f)])?_0x1abc61['push'](_0x4b23f3[_0x4fc7d2(0x1a1)]):(_0x2014b6+=_0x4b23f3['qMXUS'],_0x3b263f+=_0x4fc7d2(0x174)+(_0x5d2ded[_0x4fc7d2(0x1d9)]||_0x4b23f3[_0x4fc7d2(0x10d)])+'\x0a',_0x3ee2cd+=_0x4fc7d2(0x158)+(_0x5b6df2[_0x4fc7d2(0x136)]||_0x4b23f3[_0x4fc7d2(0x10d)])+'\x0a',_0x16ed4d+=_0x4fc7d2(0x16d)+(_0x5222f9[_0x4fc7d2(0x1c6)]||_0x4b23f3['yEkCV'])+'\x0a'));;if(!_0x498655[_0x4fc7d2(0x179)]){if(_0x4b23f3['vBdLL'](_0x4b23f3[_0x4fc7d2(0xea)],_0x4b23f3[_0x4fc7d2(0x15b)]))_0x1abc61[_0x4fc7d2(0xec)](_0x4b23f3['CJEPr']);else{const {header:_0x1a342f,response:_0x41a781}=_0x587c64,{status:_0x195cca,data:_0x958e82,error:_0x16d026}=_0x41a781;_0x509f7e+=_0x1a342f+'\x20#'+_0x4b23f3['zHAMM'](_0x5a3d7a,0x1)+'\x0a',_0x15968f+=_0x4fc7d2(0x184)+(_0x195cca?_0x4b23f3[_0x4fc7d2(0x14e)]:_0x4b23f3['fKARq'])+'\x0a',_0x2d3387+='Message:\x20'+_0x4b23f3['pBFAK'](_0x958e82,_0x4b23f3['yEkCV'])+'\x0a',_0x16d026&&(_0x147eb1+=_0x4b23f3['qMXUS'],_0x122006+=_0x4fc7d2(0x174)+(_0x16d026[_0x4fc7d2(0x1d9)]||_0x4b23f3[_0x4fc7d2(0x10d)])+'\x0a',_0x292f0f+='\x20\x20Code:\x20'+(_0x16d026[_0x4fc7d2(0x136)]||_0x4b23f3[_0x4fc7d2(0x10d)])+'\x0a',_0x24d8e5+=_0x4fc7d2(0x16d)+(_0x16d026[_0x4fc7d2(0x1c6)]||_0x4b23f3['yEkCV'])+'\x0a'),_0x402a16+='\x0a\x0a';}};!_0x498655[_0x4fc7d2(0x1b0)]&&(_0x4b23f3['RZxos'](_0x4b23f3[_0x4fc7d2(0x195)],_0x4b23f3[_0x4fc7d2(0x164)])?(_0x4e1168[_0x4fc7d2(0x147)](_0x4fc7d2(0x1ce)+_0x2fc570[_0x4fc7d2(0x148)]+'\x20'),_0x3c91fe[_0x4fc7d2(0x179)]=_0x54dec4['CLOUD_PROVIDER']):_0x1abc61[_0x4fc7d2(0xec)](_0x4b23f3[_0x4fc7d2(0x113)]));;_0x4b23f3[_0x4fc7d2(0x1c0)](_0x1abc61[_0x4fc7d2(0x190)],0x0)&&(_0x4b23f3[_0x4fc7d2(0x156)](_0x4b23f3[_0x4fc7d2(0x1d4)],_0x4b23f3[_0x4fc7d2(0x161)])?(_0x115a99[_0x4fc7d2(0x111)](_0x4b23f3['WFHIv']),_0x15d58b['exit'](0x1)):(_0x6d20c9=_0x4fc7d2(0xe4)+_0x1abc61[_0x4fc7d2(0x1cf)](',\x20')+'.\x20Please\x20provide\x20all\x20required\x20arguments.',await _0x4b23f3[_0x4fc7d2(0x1b1)](reportToGalactusAndSendToEDS,_0x498655,_0x3a1481,_0x6d20c9,messageTypes[_0x4fc7d2(0x1cb)],_0x4b23f3[_0x4fc7d2(0x149)],_0x4b23f3[_0x4fc7d2(0x191)],_0x4b23f3[_0x4fc7d2(0xf7)]),logger[_0x4fc7d2(0x111)](_0x6d20c9),process[_0x4fc7d2(0x1d7)](0x1))),!ALL_SUPPORTED_CLOUD_PROVIDERS['includes'](_0x498655[_0x4fc7d2(0x179)][_0x4fc7d2(0x1a8)]())&&(_0x4b23f3[_0x4fc7d2(0xfc)](_0x4b23f3['wgdeI'],_0x4b23f3['wgdeI'])?_0x185e60[_0x4fc7d2(0x147)](_0x4fc7d2(0x17f)+_0x197737[_0x4fc7d2(0x1a6)]+_0x4fc7d2(0x13d)):(_0x6d20c9=_0x4b23f3[_0x4fc7d2(0x1bd)],await _0x4b23f3[_0x4fc7d2(0x152)](reportToGalactusAndSendToEDS,_0x498655,_0x3a1481,_0x6d20c9,messageTypes[_0x4fc7d2(0x1cb)],_0x4b23f3[_0x4fc7d2(0x149)],_0x4b23f3['CiPRl'],_0x4b23f3[_0x4fc7d2(0xf7)]),logger[_0x4fc7d2(0x111)](_0x6d20c9),!_0x498655['cloudProvider']&&(_0x4b23f3[_0x4fc7d2(0x18c)](_0x4b23f3[_0x4fc7d2(0x199)],_0x4b23f3['EzjfR'])?(logger[_0x4fc7d2(0x147)](_0x4fc7d2(0x1ce)+DEFAULT_CLUSTER_DETAILS[_0x4fc7d2(0x148)]+'\x20'),_0x498655[_0x4fc7d2(0x179)]=DEFAULT_CLUSTER_DETAILS['CLOUD_PROVIDER']):_0x15b08b['push'](_0x4b23f3[_0x4fc7d2(0x1cc)])))),global_registry[_0x4fc7d2(0x1a6)]=_0x498655[_0x4fc7d2(0x1a6)],global_registry[_0x4fc7d2(0x179)]=_0x498655[_0x4fc7d2(0x179)],global_registry['clusterRegion']=_0x498655['region'];}}else{if(_0x498655[_0x4fc7d2(0x1af)]){if(_0x4b23f3[_0x4fc7d2(0x1d6)](_0x4b23f3[_0x4fc7d2(0x19a)],_0x4b23f3[_0x4fc7d2(0x19a)]))_0x44630c=_0x1ed477;else{global_registry[_0x4fc7d2(0x1af)]=_0x498655[_0x4fc7d2(0x1af)],logger[_0x4fc7d2(0x104)](_0x4fc7d2(0x118)+_0x498655['gridProfile']);const _0x30d2d9='https://'+AG_API_URL+'/packages/cli/get-all-grid-profiles',_0x4a0e52={};_0x4a0e52[_0x4fc7d2(0x1a7)]=_0x4b23f3[_0x4fc7d2(0xf3)],_0x4a0e52[_0x4fc7d2(0x134)]=global_registry[_0x4fc7d2(0x11e)],_0x4a0e52[_0x4fc7d2(0x1c8)]=![];const _0x57dc78=_0x4a0e52,_0x397956=await _0x4b23f3[_0x4fc7d2(0xe8)](got,_0x30d2d9,_0x57dc78),_0x1ea4d0=await _0x4b23f3['fmuQE'](responseValidation,_0x397956,_0x4b23f3[_0x4fc7d2(0x142)],_0x4b23f3[_0x4fc7d2(0x1d5)],_0x498655,_0x3a1481);let _0x46ecdc={};if(_0x4b23f3[_0x4fc7d2(0x121)](_0x1ea4d0,0xc8)){if(_0x4b23f3['qKXUE'](_0x4b23f3[_0x4fc7d2(0x13b)],_0x4b23f3[_0x4fc7d2(0x13b)])){const _0x98601a=JSON['parse'](_0x397956[_0x4fc7d2(0x11c)]),_0x3a5895=_0x98601a[_0x4fc7d2(0xef)](_0x4bb9ce=>_0x4bb9ce[_0x4fc7d2(0x12d)]===_0x498655[_0x4fc7d2(0x1af)])||null;if(_0x4b23f3[_0x4fc7d2(0xfb)](isUndefined,_0x3a5895)){if(_0x4b23f3[_0x4fc7d2(0x18c)](_0x4b23f3['KaegT'],_0x4b23f3[_0x4fc7d2(0x103)]))_0x6d20c9=_0x4fc7d2(0x154)+_0x498655[_0x4fc7d2(0x1af)]+'.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again',await _0x4b23f3['tqIJx'](reportToGalactusAndSendToEDS,_0x498655,_0x3a1481,_0x6d20c9,messageTypes[_0x4fc7d2(0x1cb)],_0x4b23f3['tFMTz'],_0x4b23f3[_0x4fc7d2(0x19c)],_0x4b23f3['rLzTD']),logger['error'](_0x6d20c9),process[_0x4fc7d2(0x1d7)](0x1);else{const _0x7b88ca={};_0x7b88ca['type']=_0x6f0b92[_0x4fc7d2(0x165)],_0x7b88ca[_0x4fc7d2(0x1d9)]=_0x329545,_0x19f9b8[_0x4fc7d2(0x175)](_0x457fcf,_0x7b88ca,_0x4b23f3[_0x4fc7d2(0xf7)],!![]);}}else _0x4b23f3[_0x4fc7d2(0x1da)](_0x4b23f3[_0x4fc7d2(0xf4)],_0x4b23f3['KjaTP'])?_0x46ecdc=_0x3a5895:(_0xb8a7e0[_0x4fc7d2(0x147)]('['+_0x3ca34e+_0x4fc7d2(0x1ac)+_0x48a5b7[_0x4fc7d2(0x107)]+_0x4fc7d2(0x157)+_0x17261a['data']+_0x4fc7d2(0x133)+_0x44cd08[_0x4fc7d2(0x111)]),_0x61ad23[_0x4fc7d2(0x111)]&&_0x21c57e['error']('error\x20stack\x20:\x20'+_0x37c54f[_0x4fc7d2(0x111)][_0x4fc7d2(0x1c6)]));}else _0x3a1b7b['push'](_0x4b23f3[_0x4fc7d2(0x113)]);}else _0x4b23f3[_0x4fc7d2(0x18c)](_0x4b23f3['cDxiO'],_0x4b23f3[_0x4fc7d2(0x14a)])?process[_0x4fc7d2(0x1d7)](0x1):_0x9f2198[_0x4fc7d2(0x1d7)](0x1);const _0x5e72ad={};_0x5e72ad[_0x4fc7d2(0x186)]=WS_EVENTS['LOG'],_0x5e72ad[_0x4fc7d2(0x1d9)]=_0x4b23f3[_0x4fc7d2(0x1b9)],webSocketUtils[_0x4fc7d2(0x175)](_0x3a1481,_0x5e72ad),global_registry[_0x4fc7d2(0x179)]=_0x46ecdc[_0x4fc7d2(0x179)],global_registry['clusterRegion']=_0x46ecdc[_0x4fc7d2(0x1b0)],global_registry[_0x4fc7d2(0x1a6)]=_0x46ecdc[_0x4fc7d2(0x1a6)];}}else _0x4b23f3[_0x4fc7d2(0x1da)](_0x4b23f3[_0x4fc7d2(0x159)],_0x4b23f3['VTmnj'])?_0x108f7e[_0x4fc7d2(0x111)](_0x4fc7d2(0x131)+_0x232726[_0x4fc7d2(0x111)]['stack']):(logger['error'](_0x4b23f3['WFHIv']),process[_0x4fc7d2(0x1d7)](0x1));}}}catch(_0x19be6a){if(_0x4b23f3[_0x4fc7d2(0x172)](_0x4b23f3['GrLiI'],_0x4b23f3[_0x4fc7d2(0xf5)]))_0x6d20c9=_0x4fc7d2(0x112)+_0x19be6a+':\x20'+_0x19be6a['stack'],logger[_0x4fc7d2(0x111)](_0x6d20c9),await _0x4b23f3[_0x4fc7d2(0x1ba)](reportToGalactusAndSendToEDS,_0x498655,_0x3a1481,_0x6d20c9,messageTypes[_0x4fc7d2(0x1cb)],_0x4b23f3['tFMTz'],_0x4b23f3['CiPRl'],_0x4b23f3[_0x4fc7d2(0xf7)]),process[_0x4fc7d2(0x1d7)](0x1);else{const _0x3ae8a6={};_0x3ae8a6['description']=_0x4b23f3[_0x4fc7d2(0x14c)],_0x3ae8a6['type']=_0x4b23f3[_0x4fc7d2(0x1e1)];const _0x54f2bb={};_0x54f2bb[_0x4fc7d2(0xeb)]=_0x4b23f3[_0x4fc7d2(0x17e)],_0x54f2bb['type']=_0x4b23f3[_0x4fc7d2(0x1e1)];const _0x24bef2={};_0x24bef2[_0x4fc7d2(0xeb)]=_0x4b23f3[_0x4fc7d2(0x12e)],_0x24bef2[_0x4fc7d2(0x186)]=_0x4b23f3[_0x4fc7d2(0x1e1)];const _0x4bb83b={};_0x4bb83b[_0x4fc7d2(0xeb)]=_0x4b23f3['fFCDm'],_0x4bb83b[_0x4fc7d2(0x186)]=_0x4b23f3[_0x4fc7d2(0x1e1)];const _0x2d0fde={};return _0x2d0fde[_0x4fc7d2(0xed)]=_0x3ae8a6,_0x2d0fde[_0x4fc7d2(0x18f)]=_0x54f2bb,_0x2d0fde[_0x4fc7d2(0x1b0)]=_0x24bef2,_0x2d0fde[_0x4fc7d2(0x11d)]=_0x4bb83b,_0x4e8b6e[_0x4fc7d2(0x129)](_0x25da62[_0x4fc7d2(0x168)])[_0x4fc7d2(0x109)](_0x58ad08)[_0x4fc7d2(0x1b6)](_0x2d0fde)[_0x4fc7d2(0x193)](_0x4b23f3[_0x4fc7d2(0x1ae)])[_0x4fc7d2(0x17d)];}}}function printResponse(_0x530cfa,_0x276e48){const _0x4204a1=a17_0x1d8b65,_0x38ef1f={};_0x38ef1f[_0x4204a1(0x14b)]=_0x4204a1(0x1b8),_0x38ef1f[_0x4204a1(0x1d8)]='will\x20be\x20created',_0x38ef1f[_0x4204a1(0x173)]=function(_0xff68f1,_0x461c84){return _0xff68f1!==_0x461c84;},_0x38ef1f[_0x4204a1(0x120)]='YDrkj';const _0x4e95c6=_0x38ef1f;logger[_0x4204a1(0x147)]('['+_0x530cfa+_0x4204a1(0x1ac)+_0x276e48[_0x4204a1(0x107)]+_0x4204a1(0x157)+_0x276e48[_0x4204a1(0x15c)]+'\x20error\x20:\x20'+_0x276e48[_0x4204a1(0x111)]),_0x276e48['error']&&(_0x4e95c6[_0x4204a1(0x173)](_0x4e95c6[_0x4204a1(0x120)],_0x4e95c6[_0x4204a1(0x120)])?_0x2b680b+=_0x4204a1(0x137)+_0x29ed83[_0x4204a1(0x1a6)]+'\x20'+(_0x57309d?_0x4e95c6[_0x4204a1(0x14b)]:_0x4e95c6['nCRfd'])+'\x0a\x0a':logger[_0x4204a1(0x111)](_0x4204a1(0x131)+_0x276e48[_0x4204a1(0x111)][_0x4204a1(0x1c6)]));}async function generateReport(_0xc06c27,_0x56ccb4){const _0x984a60=a17_0x1d8b65,_0x32e759={'dWeev':function(_0x26eb05,_0x9633d2){return _0x26eb05+_0x9633d2;},'GGMxL':_0x984a60(0x100),'pCDgk':_0x984a60(0x188),'PEWaD':function(_0x490e68,_0xf2e73){return _0x490e68||_0xf2e73;},'LzmMO':_0x984a60(0x145),'MDZXm':_0x984a60(0x1b5),'fahwk':_0x984a60(0xfa),'MeEWO':function(_0x3bb436,_0x2038b1){return _0x3bb436!=_0x2038b1;},'XVSRl':_0x984a60(0x1b8),'ZZglk':'will\x20be\x20created','VaYbj':function(_0x37cfe2){return _0x37cfe2();}};let _0x3e0874='===\x20Precheck\x20Report\x20-\x20'+global_registry[_0x984a60(0x179)]+'\x20===\x0a\x0a';return _0xc06c27[_0x984a60(0x117)]((_0x462ae1,_0x1163bd)=>{const _0x354e49=_0x984a60,{header:_0x480f02,response:_0x1d9925}=_0x462ae1,{status:_0x3387f2,data:_0xd269d9,error:_0x20828d}=_0x1d9925;_0x3e0874+=_0x480f02+'\x20#'+_0x32e759['dWeev'](_0x1163bd,0x1)+'\x0a',_0x3e0874+='Status:\x20'+(_0x3387f2?_0x32e759[_0x354e49(0x16a)]:_0x32e759[_0x354e49(0x171)])+'\x0a',_0x3e0874+='Message:\x20'+_0x32e759[_0x354e49(0x132)](_0xd269d9,_0x32e759[_0x354e49(0x15f)])+'\x0a',_0x20828d&&(_0x3e0874+=_0x32e759[_0x354e49(0x106)],_0x3e0874+=_0x354e49(0x174)+(_0x20828d[_0x354e49(0x1d9)]||_0x32e759[_0x354e49(0x15f)])+'\x0a',_0x3e0874+='\x20\x20Code:\x20'+(_0x20828d[_0x354e49(0x136)]||_0x32e759[_0x354e49(0x15f)])+'\x0a',_0x3e0874+=_0x354e49(0x16d)+(_0x20828d['stack']||_0x32e759[_0x354e49(0x15f)])+'\x0a'),_0x3e0874+='\x0a\x0a';}),_0x3e0874+=_0x32e759['fahwk'],_0x32e759[_0x984a60(0x10b)](_0x56ccb4,null)?_0x3e0874+=_0x984a60(0x137)+global_registry['clusterName']+'\x20'+(_0x56ccb4?_0x32e759['XVSRl']:_0x32e759[_0x984a60(0x1ab)])+'\x0a\x0a':_0x3e0874+=_0x984a60(0x137)+global_registry[_0x984a60(0x1a6)]+_0x984a60(0x18b),_0x3e0874+=_0x32e759[_0x984a60(0x130)](getSystemMetaData),_0x3e0874;}function a17_0x4a25(){const _0x2bc0b5=['fvOsY','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','pCDgk','PHhQK','GcaoN','\x20\x20Message:\x20','sendEventToBackend','User\x20Access','readFileSync','fYGsa','cloudProvider','Cpzrn','delay','3|4|2|1|0','argv','dDJvs','Cluster\x20`','Tool\x20Installed','Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','Ynlll','`\x20,error\x20:\x20','Status:\x20','omgNa','type','JqmRL','Failure','dsfFV','SSL\x20Configured','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','zvcyq','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','vpWaq','cloud-provider','length','fQLiZ','builder','help','Pre-check\x20running\x20for\x20Cloud\x20-\x20','DArFI','cloud-provider-not-supported','cxGrh','LsJdq','zUotZ','hlfIS','IKuZC','XJsrq','PgUQJ','8bZrmoC','existsSync','init','PVxZp','JIUku','ZhRlg','split','Failed\x20in\x20pre-check!\x20Error:\x20','clusterName','method','toLowerCase','rCUdm','RHDaA','ZZglk',']\x20status\x20:\x20','Grid\x20profile\x20fetched\x20for\x20pre-check','QJOVH','gridProfile','region','SliTX','isCliToolInstalled','getUTCHours','.txt','Error\x20Details:\x0a','options','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','is\x20already\x20present','OqPcv','oGYOd','../../utils/webSocketUtils','getUTCMinutes','KgpPM','stringify','isTls1_2_SUPPORTED','bNAne','replace','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','6730orqnFW','INFO','NOnna','stack','writeFileSync','throwHttpErrors','YxdlV','grid','ERROR','CJEPr','KlJJh','Setting\x20cloud\x20provider\x20as\x20','join','toolInstalledResp','TLSv1_2_client_method','1672782kqnzlK','xspFh','WmmEr','wPCQE','srKpA','exit','nCRfd','message','qKXUE','VwffW','xxhGj','MawVF','zFmIN','bstackUsername','bstackAccesskey','UjCUs','../../config/constants','zpVnW','Missing\x20required\x20arguments:\x20','BubDU','DvoiA','username','octVf','isClusterPresent','jzwIH','description','push','cluster-name','Report\x20saved\x20in\x20','find','kgzzC','QrUyl','dwxLi','YaJav','KjaTP','GrLiI','unable\x20to\x20verify\x20if\x20cluster\x20`','rLzTD','pxvKK','79270uOitmF','Cluster\x20details\x0a-----------------------\x0a','TbQNN','vBdLL','credential-not-found','gVzkO','response','Success','2765931kiUgcR','string','lwvGM','debug','hzwkA','MDZXm','status','xTmLO','epilogue','command','MeEWO','OwYeO','yEkCV','236dnhNal','../../utils/instrumentationUtils','WQDeM','error','Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20','kBQSx','fPqgg','dummy-grid','requestId','forEach','grid\x20profile\x20flow\x20','kRLvn','clusterRegion','../../utils/utilityMethods','body','grid-profile','authHeader','KzizO','Hixhu','RZxos','711bYTPvO','zXsMW','zuWHZ','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','`\x20is\x20present\x20in\x20region\x20`','8743977gbTCWs','mEwrn','usage','isTrialGridAccessible','MrVOS','XEiOv','name','wpSuH','IbeUE','VaYbj','error\x20stack\x20:\x20','PEWaD','\x20error\x20:\x20','headers','pre-check-grid-called','code','Cluster\x20','desc','EVUXK','OdfUM','fvPzy','../../cloudproviders/utils','`\x20already\x20exists','pre-check-grid-profile-empty','qnjsb','DCwFH','687RpwIIX','rdTGg','Browserstack','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','N/A','xjYKb','info','CLOUD_PROVIDER','tFMTz','xicZL','EmXwI','bcGDS','header','sitMx','stack\x20trace\x20','GET','pre-check','NUrtY','QPQOM','Invalid\x20input.\x20grid\x20profiles:\x20','750687JCTxze','AUuPP','\x20data\x20:\x20','\x20\x20Code:\x20','ZWkug','SMckm','OjrCb','data','accessResp','parse','LzmMO','gLoIc','pHCvM','got','pre-check-failed','JKUIn','LOG','tvoLe','reconnecting-websocket','pre_check','<UsernamePlaceholder>','GGMxL','4918WlsURg','fkzfJ','\x20\x20Stack:\x20','cluster-check-failed-'];a17_0x4a25=function(){return _0x2bc0b5;};return a17_0x4a25();}function a17_0x4f60(_0x1f1ce8,_0x28c4c1){const _0x4a25b7=a17_0x4a25();return a17_0x4f60=function(_0x4f60e7,_0x562f0c){_0x4f60e7=_0x4f60e7-0xe4;let _0x303c83=_0x4a25b7[_0x4f60e7];return _0x303c83;},a17_0x4f60(_0x1f1ce8,_0x28c4c1);};exports['handler']=async function(_0xa157c5){const _0x1ef3fc=a17_0x1d8b65,_0x3dede5={'zFmIN':function(_0x464e61){return _0x464e61();},'ChhrD':function(_0x1edf7c){return _0x1edf7c();},'fkzfJ':_0x1ef3fc(0x144),'IKuZC':function(_0x338fb2,_0x408e26,_0x58a110,_0x38a517,_0x1f0c1e,_0x35b26a,_0x3d7f4b,_0x34fdf5){return _0x338fb2(_0x408e26,_0x58a110,_0x38a517,_0x1f0c1e,_0x35b26a,_0x3d7f4b,_0x34fdf5);},'xspFh':'pre-check-grid-called','cxGrh':_0x1ef3fc(0xfd),'fLxFE':_0x1ef3fc(0x111),'rCUdm':function(_0x3a10c8,_0x1a4668,_0x13fcfe,_0x22935a,_0x2ebf89,_0x3733ea,_0x14f347){return _0x3a10c8(_0x1a4668,_0x13fcfe,_0x22935a,_0x2ebf89,_0x3733ea,_0x14f347);},'XEiOv':_0x1ef3fc(0x169),'QPUZZ':'<PasswordPlaceholder>','MawVF':function(_0x20c2f9,_0xa89b5e,_0x4cc6da){return _0x20c2f9(_0xa89b5e,_0x4cc6da);},'pxvKK':function(_0x25c556,_0x5caac3,_0x2e1def){return _0x25c556(_0x5caac3,_0x2e1def);},'PCAUB':function(_0x366cf5,_0x2f9f34,_0x4b9c4e,_0x2ab9c6,_0xaf74af,_0x24ce35,_0x35cb65){return _0x366cf5(_0x2f9f34,_0x4b9c4e,_0x2ab9c6,_0xaf74af,_0x24ce35,_0x35cb65);},'PgUQJ':_0x1ef3fc(0x115),'SMckm':function(_0x47ade1,_0x5472d3,_0x36997c){return _0x47ade1(_0x5472d3,_0x36997c);},'dsfFV':_0x1ef3fc(0x1d0),'gLoIc':_0x1ef3fc(0x17c),'zpVnW':_0x1ef3fc(0x15d),'gVzkO':function(_0x29b005){return _0x29b005();},'LsJdq':function(_0xd27509,_0xa18fa7,_0x26fe80){return _0xd27509(_0xa18fa7,_0x26fe80);},'tvoLe':_0x1ef3fc(0x12a),'ApNUB':function(_0x4a6520,_0x36dd04){return _0x4a6520(_0x36dd04);},'Cpzrn':_0x1ef3fc(0x1d1),'JDTqi':function(_0x5d1ce8,_0x5d0471,_0x33332c){return _0x5d1ce8(_0x5d0471,_0x33332c);},'RHDaA':_0x1ef3fc(0x1bf),'EchBy':_0x1ef3fc(0x180),'OdfUM':_0x1ef3fc(0x176),'MrVOS':'Whitelisted\x20browserstack','kRLvn':_0x1ef3fc(0x18a),'zuWHZ':function(_0x1cfdbe,_0x531e0a){return _0x1cfdbe+_0x531e0a;},'DCwFH':'utf-8','NhHRs':_0x1ef3fc(0x163)};let _0x3410b7,_0x452d3c;try{global_registry[_0x1ef3fc(0x116)]=_0x3dede5[_0x1ef3fc(0x1de)](uuidv4);!fs[_0x1ef3fc(0x19f)](_0x3dede5['ChhrD'](getCredentialsPath))&&(_0x452d3c=_0x3dede5[_0x1ef3fc(0x16c)],logger[_0x1ef3fc(0x111)](_0x452d3c),await _0x3dede5[_0x1ef3fc(0x19b)](reportToGalactusAndSendToEDS,_0xa157c5,_0x3410b7,_0x452d3c,messageTypes[_0x1ef3fc(0x1cb)],_0x3dede5[_0x1ef3fc(0x1d3)],_0x3dede5[_0x1ef3fc(0x197)],_0x3dede5['fLxFE']),process[_0x1ef3fc(0x1d7)](0x1));_0x3dede5[_0x1ef3fc(0x1a9)](sendInstrumentationEvent,_0xa157c5,_0x3dede5[_0x1ef3fc(0x1d3)],messageTypes[_0x1ef3fc(0x1c4)],null,null,_0xa157c5);const _0x53aedc=JSON[_0x1ef3fc(0x15e)](fs[_0x1ef3fc(0x177)](_0x3dede5['zFmIN'](getCredentialsPath)));global_registry[_0x1ef3fc(0x1df)]=_0x53aedc['Browserstack'][_0x1ef3fc(0xe7)],global_registry[_0x1ef3fc(0x1e0)]=_0x53aedc[_0x1ef3fc(0x143)]['password'];const _0x2b9daf=WS_ENDPOINT[_0x1ef3fc(0x1c1)](_0x3dede5[_0x1ef3fc(0x12c)],_0x53aedc[_0x1ef3fc(0x143)][_0x1ef3fc(0xe7)])['replace'](_0x3dede5['QPUZZ'],_0x53aedc[_0x1ef3fc(0x143)]['password']),_0x1ed37c={};_0x1ed37c['WebSocket']=ws,_0x1ed37c['connectionTimeout']=0x36ee80,_0x3410b7=new ReconnectingWebSocket(_0x2b9daf,[],_0x1ed37c),global_registry['authHeader']=_0x3dede5[_0x1ef3fc(0x1dd)](getAuthHeader,global_registry[_0x1ef3fc(0x1df)],global_registry[_0x1ef3fc(0x1e0)]),await _0x3dede5[_0x1ef3fc(0xf8)](inputValidation,_0xa157c5,_0x3410b7),logger[_0x1ef3fc(0x147)](_0x1ef3fc(0x194)+global_registry[_0x1ef3fc(0x179)]+'\x20region\x20-\x20'+global_registry[_0x1ef3fc(0x11a)]);let _0x1c9942=await _0x3dede5['PCAUB'](getCloudProviderObjectWithOutInit,global_registry['cloudProvider'],global_registry[_0x1ef3fc(0x1a6)],_0x3dede5[_0x1ef3fc(0x19d)],_0x3410b7,webSocketUtils,_0xa157c5);const _0x15ce5e=await _0x1c9942[_0x1ef3fc(0x1b2)]();_0x3dede5[_0x1ef3fc(0x15a)](printResponse,_0x3dede5[_0x1ef3fc(0x189)],_0x15ce5e),_0x1c9942=await _0x1c9942[_0x1ef3fc(0x1a0)]();let _0x4025c7=![];try{_0x4025c7=await _0x1c9942[_0x1ef3fc(0xe9)]();}catch(_0x418539){const _0x874d51=_0x3dede5[_0x1ef3fc(0x160)][_0x1ef3fc(0x1a4)]('|');let _0x3f4d31=0x0;while(!![]){switch(_0x874d51[_0x3f4d31++]){case'0':await _0x3dede5[_0x1ef3fc(0x19b)](reportToGalactusAndSendToEDS,_0xa157c5,_0x3410b7,_0x452d3c,messageTypes['ERROR'],_0x3dede5[_0x1ef3fc(0x1d3)],_0x1ef3fc(0x16e)+global_registry['cloudProvider'],_0x3dede5['fLxFE']);continue;case'1':_0x452d3c+='\x0a'+JSON[_0x1ef3fc(0x1be)](_0x418539[_0x1ef3fc(0x1c6)]);continue;case'2':logger[_0x1ef3fc(0x111)](_0x452d3c);continue;case'3':_0x452d3c=_0x1ef3fc(0xf6)+global_registry['clusterName']+_0x1ef3fc(0x126)+global_registry[_0x1ef3fc(0x11a)]+_0x1ef3fc(0x183)+_0x418539;continue;case'4':_0x4025c7=null;continue;}break;}}_0x4025c7&&logger[_0x1ef3fc(0x147)](_0x1ef3fc(0x17f)+global_registry[_0x1ef3fc(0x1a6)]+_0x1ef3fc(0x13d));const _0x33e402=await _0x1c9942['checkAccess']();_0x3dede5['SMckm'](printResponse,_0x3dede5[_0x1ef3fc(0x1e3)],_0x33e402);const _0x2e9e35=await _0x3dede5[_0x1ef3fc(0xfe)](curlRequest);_0x3dede5[_0x1ef3fc(0x198)](printResponse,_0x3dede5[_0x1ef3fc(0x166)],_0x2e9e35);const _0x5b94e8=await _0x3dede5['ApNUB'](isTlsSupported,_0x3dede5[_0x1ef3fc(0x17a)]);_0x3dede5['JDTqi'](printResponse,_0x3dede5[_0x1ef3fc(0x1aa)],_0x5b94e8);const _0x422060={};_0x422060[_0x1ef3fc(0x14d)]=_0x3dede5['EchBy'],_0x422060['response']=_0x15ce5e;const _0x20b106={};_0x20b106[_0x1ef3fc(0x14d)]=_0x3dede5[_0x1ef3fc(0x13a)],_0x20b106[_0x1ef3fc(0xff)]=_0x33e402;const _0x1706ae={};_0x1706ae[_0x1ef3fc(0x14d)]=_0x3dede5[_0x1ef3fc(0x12b)],_0x1706ae[_0x1ef3fc(0xff)]=_0x2e9e35;const _0x386704={};_0x386704[_0x1ef3fc(0x14d)]=_0x3dede5[_0x1ef3fc(0x119)],_0x386704[_0x1ef3fc(0xff)]=_0x5b94e8;const _0x15aaf9=[_0x422060,_0x20b106,_0x1706ae,_0x386704],_0x3db0bd=await _0x3dede5['LsJdq'](generateReport,_0x15aaf9,_0x4025c7),_0x34e02b=new Date(),_0x5bcb28=_0x34e02b['getUTCFullYear']()+'_'+_0x3dede5[_0x1ef3fc(0x124)](_0x34e02b['getUTCMonth'](),0x1)+'_'+_0x34e02b['getUTCDate']()+'_'+_0x34e02b[_0x1ef3fc(0x1b3)]()+'_'+_0x34e02b[_0x1ef3fc(0x1bc)](),_0x25e437='log/report_'+_0x5bcb28+_0x1ef3fc(0x1b4);fs[_0x1ef3fc(0x1c7)](_0x25e437,_0x3db0bd,_0x3dede5[_0x1ef3fc(0x140)]),logger['info'](_0x1ef3fc(0xee)+_0x25e437),process[_0x1ef3fc(0x1d7)](0x0);}catch(_0x1395a9){let _0xaec0c6=_0x1ef3fc(0x1a5)+_0x1395a9+'\x20';logger['error'](_0xaec0c6),_0xaec0c6+='\x0a'+JSON[_0x1ef3fc(0x1be)](_0x1395a9[_0x1ef3fc(0x1c6)]),logger['debug'](_0x1ef3fc(0x14f)+_0x1395a9['stack']);if(_0x3410b7){const _0x161580={};_0x161580['type']=WS_EVENTS['LOG'],_0x161580[_0x1ef3fc(0x1d9)]=_0xaec0c6,webSocketUtils['sendEventToBackend'](_0x3410b7,_0x161580,_0x3dede5['fLxFE'],!![]);}await webSocketUtils[_0x1ef3fc(0x17b)](0x7d0);const _0x25e188={};_0x25e188[_0x1ef3fc(0x111)]=_0xaec0c6,await _0x3dede5[_0x1ef3fc(0x1a9)](sendInstrumentationEvent,_0xa157c5,_0x3dede5[_0x1ef3fc(0x1d3)],messageTypes[_0x1ef3fc(0x1cb)],_0x3dede5['NhHRs'],_0x25e188,_0xa157c5),process[_0x1ef3fc(0x1d7)](0x1);}};