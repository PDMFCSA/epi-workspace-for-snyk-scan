const a17_0x4d6df3=a17_0x3fdd;(function(_0x15f132,_0x46d99b){const _0x46f14d=a17_0x3fdd,_0x3d12b9=_0x15f132();while(!![]){try{const _0xb05938=parseInt(_0x46f14d(0x23c))/0x1*(parseInt(_0x46f14d(0x25a))/0x2)+-parseInt(_0x46f14d(0x1d1))/0x3+-parseInt(_0x46f14d(0x261))/0x4*(parseInt(_0x46f14d(0x1fd))/0x5)+parseInt(_0x46f14d(0x228))/0x6*(-parseInt(_0x46f14d(0x23b))/0x7)+-parseInt(_0x46f14d(0x273))/0x8*(-parseInt(_0x46f14d(0x290))/0x9)+-parseInt(_0x46f14d(0x244))/0xa*(-parseInt(_0x46f14d(0x2a3))/0xb)+parseInt(_0x46f14d(0x2aa))/0xc*(parseInt(_0x46f14d(0x1fa))/0xd);if(_0xb05938===_0x46d99b)break;else _0x3d12b9['push'](_0x3d12b9['shift']());}catch(_0x26dc7f){_0x3d12b9['push'](_0x3d12b9['shift']());}}}(a17_0x364d,0xe012b));const fs=require('fs'),ws=require('ws'),got=require(a17_0x4d6df3(0x238)),{v4:uuidv4}=require('uuid'),ReconnectingWebSocket=require(a17_0x4d6df3(0x294)),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require(a17_0x4d6df3(0x219)),{logger}=require('../../config/logger'),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require(a17_0x4d6df3(0x275)),{getCloudProviderObjectWithOutInit}=require(a17_0x4d6df3(0x270)),webSocketUtils=require(a17_0x4d6df3(0x1de)),{sendInstrumentationEvent}=require(a17_0x4d6df3(0x2b9));exports['command']=a17_0x4d6df3(0x1f0),exports[a17_0x4d6df3(0x279)]='Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup',exports[a17_0x4d6df3(0x1fb)]=function(_0x5e9b16){const _0x1bcafa=a17_0x4d6df3,_0x59e248={};_0x59e248['UkJEA']=_0x1bcafa(0x24e),_0x59e248[_0x1bcafa(0x204)]=_0x1bcafa(0x1fe),_0x59e248['mlRwR']=_0x1bcafa(0x24d),_0x59e248[_0x1bcafa(0x2a6)]=_0x1bcafa(0x232),_0x59e248[_0x1bcafa(0x1f5)]=_0x1bcafa(0x1ed),_0x59e248[_0x1bcafa(0x285)]='help';const _0x547f2f=_0x59e248,_0x38dbeb={};_0x38dbeb[_0x1bcafa(0x281)]=_0x547f2f[_0x1bcafa(0x236)],_0x38dbeb[_0x1bcafa(0x200)]=_0x547f2f[_0x1bcafa(0x204)];const _0x43cb46={};_0x43cb46[_0x1bcafa(0x281)]=_0x547f2f[_0x1bcafa(0x222)],_0x43cb46[_0x1bcafa(0x200)]=_0x547f2f['yxVis'];const _0x173a31={};_0x173a31[_0x1bcafa(0x281)]=_0x547f2f[_0x1bcafa(0x2a6)],_0x173a31[_0x1bcafa(0x200)]=_0x547f2f[_0x1bcafa(0x204)];const _0x689bda={};_0x689bda[_0x1bcafa(0x281)]=_0x547f2f[_0x1bcafa(0x1f5)],_0x689bda['type']=_0x547f2f[_0x1bcafa(0x204)];const _0x1dd168={};return _0x1dd168['cluster-name']=_0x38dbeb,_0x1dd168['cloud-provider']=_0x43cb46,_0x1dd168[_0x1bcafa(0x2b2)]=_0x173a31,_0x1dd168[_0x1bcafa(0x20f)]=_0x689bda,_0x5e9b16['usage'](HELP_HEADER_MESSAGE['pre_check'])[_0x1bcafa(0x21d)](HELP_FOOTER_MESSAGE)['options'](_0x1dd168)['help'](_0x547f2f['MoRHl'])[_0x1bcafa(0x29b)];};function a17_0x3fdd(_0x406177,_0x319f1e){const _0x364dd5=a17_0x364d();return a17_0x3fdd=function(_0x3fddb9,_0x550af8){_0x3fddb9=_0x3fddb9-0x1cf;let _0x552530=_0x364dd5[_0x3fddb9];return _0x552530;},a17_0x3fdd(_0x406177,_0x319f1e);}async function inputValidation(_0x3b6867,_0x57765b){const _0x2a14b9=a17_0x4d6df3,_0x1a08af={'APeQN':'Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','SKnBh':'string','vNoGX':_0x2a14b9(0x24d),'wHZba':'Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','KIvJx':'Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','bdfoN':_0x2a14b9(0x28c),'ZKfPC':_0x2a14b9(0x2b2),'HUGxW':function(_0x25fea7,_0x43bd43){return _0x25fea7+_0x43bd43;},'suRIz':'Success','yUCCy':'Failure','xwOLl':function(_0x2e10f2,_0x252441){return _0x2e10f2||_0x252441;},'pPVgu':'N/A','cazCM':'Error\x20Details:\x0a','LnXUQ':_0x2a14b9(0x1e4),'LPmsC':_0x2a14b9(0x1dd),'YXNzK':'will\x20be\x20created','Duzul':_0x2a14b9(0x1ef),'pNdQa':_0x2a14b9(0x2c0),'wRhkY':_0x2a14b9(0x26a),'mtnlj':function(_0x2351a8,_0x22eb14){return _0x2351a8!==_0x22eb14;},'ZwYMr':'nGqfN','fQprI':function(_0x57c49d,_0x1c4c18){return _0x57c49d!==_0x1c4c18;},'FGdEe':_0x2a14b9(0x1d3),'TYVGb':function(_0x520cd6,_0xa254a0){return _0x520cd6!==_0xa254a0;},'QUFyX':_0x2a14b9(0x234),'aGBmC':function(_0x3b92b0,_0x2ef9c8){return _0x3b92b0===_0x2ef9c8;},'mLBPk':_0x2a14b9(0x20b),'ZEAuf':_0x2a14b9(0x2b4),'CWyKy':_0x2a14b9(0x283),'HxMsO':function(_0x49abdb,_0x231ba3){return _0x49abdb>_0x231ba3;},'CIAea':_0x2a14b9(0x27d),'EXArD':'qFgQR','huWvO':function(_0x379f82,_0x4d5de0,_0x502df1,_0xbe7a89,_0x56ab1c,_0x192457,_0x56afee,_0x23cd27){return _0x379f82(_0x4d5de0,_0x502df1,_0xbe7a89,_0x56ab1c,_0x192457,_0x56afee,_0x23cd27);},'dROKC':_0x2a14b9(0x257),'fYoQh':'pre-check-cluster-args-not-passed','fIxlN':function(_0x18c409,_0x2f1f71){return _0x18c409!==_0x2f1f71;},'Rsxjx':_0x2a14b9(0x1f3),'Pkwld':_0x2a14b9(0x272),'SKzpr':function(_0x2682de,_0x1ee2c4,_0x5d4cc5,_0x19b6c7,_0x518d6d,_0x33a71b,_0x392ff9,_0x59596a){return _0x2682de(_0x1ee2c4,_0x5d4cc5,_0x19b6c7,_0x518d6d,_0x33a71b,_0x392ff9,_0x59596a);},'sedev':_0x2a14b9(0x2a0),'dxAEs':'aNsgx','vujzH':function(_0x454bfc,_0x28d8a3){return _0x454bfc===_0x28d8a3;},'vHgog':_0x2a14b9(0x1e6),'HhpIf':_0x2a14b9(0x231),'fOeoD':function(_0x3b157b,_0x43eb5e,_0x438211){return _0x3b157b(_0x43eb5e,_0x438211);},'eGSNu':function(_0x4cb2c3,_0xef1a82,_0x4ff17c,_0x34c035,_0x294399,_0x503148){return _0x4cb2c3(_0xef1a82,_0x4ff17c,_0x34c035,_0x294399,_0x503148);},'twZdc':'pre-check','KhHpg':_0x2a14b9(0x20f),'TuXia':function(_0x131493,_0x441218){return _0x131493!==_0x441218;},'MiMfz':'ZYGXc','muuUr':function(_0x331f80,_0x155585){return _0x331f80(_0x155585);},'OaYlA':_0x2a14b9(0x21a),'eEdwH':function(_0x1b5f2e,_0x47d967,_0x489ac9,_0x59c375,_0x312d28,_0x4667c1,_0x4df4ad,_0x1634e9){return _0x1b5f2e(_0x47d967,_0x489ac9,_0x59c375,_0x312d28,_0x4667c1,_0x4df4ad,_0x1634e9);},'BoQAX':_0x2a14b9(0x288),'fwgon':_0x2a14b9(0x2b8),'ccfUA':function(_0x47d77a,_0x19e634){return _0x47d77a!==_0x19e634;},'sjPRP':_0x2a14b9(0x27c),'NuVgG':_0x2a14b9(0x28f),'pTKHH':_0x2a14b9(0x252),'gDvjv':_0x2a14b9(0x245),'ZobGi':_0x2a14b9(0x28d),'NSpNl':_0x2a14b9(0x276),'LcqAx':function(_0x2daa8a,_0x3bfee6,_0x581b84,_0x541ea8,_0x170cc4,_0xe8968a,_0x5a3d47,_0x4817f2){return _0x2daa8a(_0x3bfee6,_0x581b84,_0x541ea8,_0x170cc4,_0xe8968a,_0x5a3d47,_0x4817f2);}};let _0x3c09ea;try{if(_0x1a08af[_0x2a14b9(0x202)](_0x1a08af[_0x2a14b9(0x2a8)],_0x1a08af[_0x2a14b9(0x2a8)]))_0xa25d0f=_0x458c4f;else{if(_0x3b6867[_0x2a14b9(0x2b7)]||_0x3b6867[_0x2a14b9(0x2c1)]||_0x3b6867[_0x2a14b9(0x2b2)]){if(_0x1a08af['fQprI'](_0x1a08af[_0x2a14b9(0x23f)],_0x1a08af[_0x2a14b9(0x23f)]))_0x213b4[_0x2a14b9(0x26a)]('error\x20stack\x20:\x20'+_0x52e497[_0x2a14b9(0x26a)][_0x2a14b9(0x229)]);else{const _0x229224=[];if(!_0x3b6867['clusterName']){if(_0x1a08af[_0x2a14b9(0x1fc)](_0x1a08af[_0x2a14b9(0x250)],_0x1a08af[_0x2a14b9(0x250)])){const _0x4d5ecc={};_0x4d5ecc[_0x2a14b9(0x281)]=_0x1a08af[_0x2a14b9(0x227)],_0x4d5ecc[_0x2a14b9(0x200)]=_0x1a08af[_0x2a14b9(0x258)];const _0x46dd97={};_0x46dd97[_0x2a14b9(0x281)]=_0x1a08af[_0x2a14b9(0x20a)],_0x46dd97['type']=_0x1a08af[_0x2a14b9(0x258)];const _0x3baed9={};_0x3baed9[_0x2a14b9(0x281)]=_0x1a08af['wHZba'],_0x3baed9[_0x2a14b9(0x200)]=_0x1a08af[_0x2a14b9(0x258)];const _0x509be0={};_0x509be0[_0x2a14b9(0x281)]=_0x1a08af[_0x2a14b9(0x237)],_0x509be0['type']=_0x1a08af['SKnBh'];const _0x31ff01={};return _0x31ff01[_0x2a14b9(0x2c0)]=_0x4d5ecc,_0x31ff01['cloud-provider']=_0x46dd97,_0x31ff01[_0x2a14b9(0x2b2)]=_0x3baed9,_0x31ff01[_0x2a14b9(0x20f)]=_0x509be0,_0x2381bd[_0x2a14b9(0x24c)](_0x3cbd5e['pre_check'])[_0x2a14b9(0x21d)](_0x5c4064)[_0x2a14b9(0x2c5)](_0x31ff01)[_0x2a14b9(0x28c)](_0x1a08af[_0x2a14b9(0x247)])[_0x2a14b9(0x29b)];}else _0x229224[_0x2a14b9(0x280)](_0x1a08af[_0x2a14b9(0x1d6)]);};!_0x3b6867['cloudProvider']&&(_0x1a08af[_0x2a14b9(0x211)](_0x1a08af[_0x2a14b9(0x25c)],_0x1a08af[_0x2a14b9(0x25c)])?_0x229224[_0x2a14b9(0x280)](_0x1a08af[_0x2a14b9(0x292)]):_0x22b796[_0x2a14b9(0x280)](_0x1a08af[_0x2a14b9(0x1e3)]));;if(!_0x3b6867[_0x2a14b9(0x2b2)]){if(_0x1a08af[_0x2a14b9(0x211)](_0x1a08af['ZEAuf'],_0x1a08af[_0x2a14b9(0x262)])){const {header:_0x36fa24,response:_0xeddc0a}=_0xcec3e3,{status:_0x5c812a,data:_0x17f55d,error:_0x362e7f}=_0xeddc0a;_0x49150f+=_0x36fa24+'\x20#'+_0x1a08af[_0x2a14b9(0x23d)](_0x5e908d,0x1)+'\x0a',_0x49231a+=_0x2a14b9(0x241)+(_0x5c812a?_0x1a08af['suRIz']:_0x1a08af[_0x2a14b9(0x259)])+'\x0a',_0x385d90+=_0x2a14b9(0x21f)+_0x1a08af[_0x2a14b9(0x214)](_0x17f55d,_0x1a08af[_0x2a14b9(0x1d7)])+'\x0a',_0x362e7f&&(_0x520cc1+=_0x1a08af[_0x2a14b9(0x249)],_0x51406c+=_0x2a14b9(0x2bd)+(_0x362e7f[_0x2a14b9(0x1ea)]||_0x1a08af[_0x2a14b9(0x1d7)])+'\x0a',_0x412f23+=_0x2a14b9(0x2b5)+(_0x362e7f[_0x2a14b9(0x2be)]||_0x1a08af[_0x2a14b9(0x1d7)])+'\x0a',_0xba085f+=_0x2a14b9(0x2b6)+(_0x362e7f[_0x2a14b9(0x229)]||_0x1a08af['pPVgu'])+'\x0a'),_0x22b236+='\x0a\x0a';}else _0x229224[_0x2a14b9(0x280)](_0x1a08af[_0x2a14b9(0x1e3)]);};_0x1a08af[_0x2a14b9(0x299)](_0x229224['length'],0x0)&&(_0x1a08af[_0x2a14b9(0x1e5)](_0x1a08af[_0x2a14b9(0x201)],_0x1a08af[_0x2a14b9(0x2c6)])?(_0x3c09ea=_0x2a14b9(0x26d)+_0x229224[_0x2a14b9(0x1dc)](',\x20')+'.\x20Please\x20provide\x20all\x20required\x20arguments.',await _0x1a08af['huWvO'](reportToGalactusAndSendToEDS,_0x3b6867,_0x57765b,_0x3c09ea,messageTypes[_0x2a14b9(0x278)],_0x1a08af[_0x2a14b9(0x254)],_0x1a08af['fYoQh'],_0x1a08af[_0x2a14b9(0x216)]),logger[_0x2a14b9(0x26a)](_0x3c09ea),process['exit'](0x1)):_0x47715d[_0x2a14b9(0x280)](_0x1a08af[_0x2a14b9(0x292)])),!ALL_SUPPORTED_CLOUD_PROVIDERS[_0x2a14b9(0x2ac)](_0x3b6867[_0x2a14b9(0x2c1)][_0x2a14b9(0x1db)]())&&(_0x1a08af[_0x2a14b9(0x274)](_0x1a08af['Rsxjx'],_0x1a08af[_0x2a14b9(0x2a9)])?_0x23a087+=_0x2a14b9(0x2a5)+_0x3238af[_0x2a14b9(0x2b7)]+'\x20'+(_0x3a4ad2?_0x1a08af[_0x2a14b9(0x284)]:_0x1a08af[_0x2a14b9(0x253)])+'\x0a\x0a':(_0x3c09ea=_0x1a08af[_0x2a14b9(0x265)],await _0x1a08af[_0x2a14b9(0x1f4)](reportToGalactusAndSendToEDS,_0x3b6867,_0x57765b,_0x3c09ea,messageTypes['ERROR'],_0x1a08af['dROKC'],_0x1a08af['sedev'],_0x1a08af['wRhkY']),logger['error'](_0x3c09ea),!_0x3b6867[_0x2a14b9(0x2c1)]&&(_0x1a08af[_0x2a14b9(0x211)](_0x1a08af[_0x2a14b9(0x1d2)],_0x1a08af[_0x2a14b9(0x1d2)])?(logger['info'](_0x2a14b9(0x1d0)+DEFAULT_CLUSTER_DETAILS[_0x2a14b9(0x225)]+'\x20'),_0x3b6867[_0x2a14b9(0x2c1)]=DEFAULT_CLUSTER_DETAILS['CLOUD_PROVIDER']):(_0x28f793['error'](_0x1a08af['Duzul']),_0xf1a2f9[_0x2a14b9(0x29d)](0x1))))),global_registry[_0x2a14b9(0x2b7)]=_0x3b6867[_0x2a14b9(0x2b7)],global_registry['cloudProvider']=_0x3b6867[_0x2a14b9(0x2c1)],global_registry[_0x2a14b9(0x1e9)]=_0x3b6867[_0x2a14b9(0x2b2)];}}else{if(_0x3b6867[_0x2a14b9(0x2a1)]){if(_0x1a08af[_0x2a14b9(0x282)](_0x1a08af[_0x2a14b9(0x2ad)],_0x1a08af[_0x2a14b9(0x2ad)])){global_registry[_0x2a14b9(0x2a1)]=_0x3b6867[_0x2a14b9(0x2a1)],logger[_0x2a14b9(0x2b3)]('grid\x20profile\x20flow\x20'+_0x3b6867[_0x2a14b9(0x2a1)]);const _0x18d8df=_0x2a14b9(0x26b)+AG_API_URL+_0x2a14b9(0x295),_0x433329={};_0x433329[_0x2a14b9(0x263)]=_0x1a08af['HhpIf'],_0x433329[_0x2a14b9(0x29a)]=global_registry[_0x2a14b9(0x1e7)],_0x433329[_0x2a14b9(0x230)]=![];const _0x5039de=_0x433329,_0x3c248f=await _0x1a08af[_0x2a14b9(0x26e)](got,_0x18d8df,_0x5039de),_0x43e436=await _0x1a08af[_0x2a14b9(0x2c4)](responseValidation,_0x3c248f,_0x1a08af['twZdc'],_0x1a08af['KhHpg'],_0x3b6867,_0x57765b);let _0x241ef2={};if(_0x1a08af['vujzH'](_0x43e436,0xc8)){if(_0x1a08af['TuXia'](_0x1a08af['MiMfz'],_0x1a08af[_0x2a14b9(0x29c)]))_0x2c1bc8['push'](_0x1a08af[_0x2a14b9(0x1d6)]);else{const _0x2d76ff=JSON['parse'](_0x3c248f[_0x2a14b9(0x23e)]),_0x57a7e7=_0x2d76ff['find'](_0x535ec5=>_0x535ec5[_0x2a14b9(0x26f)]===_0x3b6867[_0x2a14b9(0x2a1)])||null;_0x1a08af[_0x2a14b9(0x25e)](isUndefined,_0x57a7e7)?_0x1a08af[_0x2a14b9(0x282)](_0x1a08af['OaYlA'],_0x1a08af[_0x2a14b9(0x242)])?(_0x3c09ea=_0x2a14b9(0x21e)+_0x3b6867[_0x2a14b9(0x2a1)]+'.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again',await _0x1a08af[_0x2a14b9(0x286)](reportToGalactusAndSendToEDS,_0x3b6867,_0x57765b,_0x3c09ea,messageTypes[_0x2a14b9(0x278)],_0x1a08af['dROKC'],_0x1a08af[_0x2a14b9(0x205)],_0x1a08af[_0x2a14b9(0x216)]),logger[_0x2a14b9(0x26a)](_0x3c09ea),process[_0x2a14b9(0x29d)](0x1)):(_0x3d93df[_0x2a14b9(0x26c)](_0x2a14b9(0x1d0)+_0x32b07d[_0x2a14b9(0x225)]+'\x20'),_0x4f2d84[_0x2a14b9(0x2c1)]=_0x5bd71f[_0x2a14b9(0x225)]):_0x1a08af[_0x2a14b9(0x1fc)](_0x1a08af[_0x2a14b9(0x2c9)],_0x1a08af[_0x2a14b9(0x2c9)])?(_0xa721b0['info']('['+_0x3580ad+']\x20status\x20:\x20'+_0x320b74[_0x2a14b9(0x1cf)]+_0x2a14b9(0x27a)+_0x59b8a8['data']+_0x2a14b9(0x267)+_0x3b9aca['error']),_0x3bfeb2['error']&&_0x1ab45b[_0x2a14b9(0x26a)]('error\x20stack\x20:\x20'+_0x345165[_0x2a14b9(0x26a)][_0x2a14b9(0x229)])):_0x241ef2=_0x57a7e7;}}else _0x1a08af[_0x2a14b9(0x25b)](_0x1a08af['sjPRP'],_0x1a08af[_0x2a14b9(0x264)])?(_0x1ca978+=_0x1a08af[_0x2a14b9(0x249)],_0x373b15+=_0x2a14b9(0x2bd)+(_0x3c80d4[_0x2a14b9(0x1ea)]||_0x1a08af[_0x2a14b9(0x1d7)])+'\x0a',_0x414f84+='\x20\x20Code:\x20'+(_0x31144a['code']||_0x1a08af[_0x2a14b9(0x1d7)])+'\x0a',_0x2dea12+=_0x2a14b9(0x2b6)+(_0x4abcc2[_0x2a14b9(0x229)]||_0x1a08af[_0x2a14b9(0x1d7)])+'\x0a'):process[_0x2a14b9(0x29d)](0x1);const _0x40342a={};_0x40342a[_0x2a14b9(0x200)]=WS_EVENTS[_0x2a14b9(0x21b)],_0x40342a[_0x2a14b9(0x1ea)]=_0x1a08af[_0x2a14b9(0x240)],webSocketUtils[_0x2a14b9(0x20c)](_0x57765b,_0x40342a),global_registry[_0x2a14b9(0x2c1)]=_0x241ef2[_0x2a14b9(0x2c1)],global_registry[_0x2a14b9(0x1e9)]=_0x241ef2['region'],global_registry[_0x2a14b9(0x2b7)]=_0x241ef2[_0x2a14b9(0x2b7)];}else{const _0x2fc54a={};_0x2fc54a['type']=_0x51d96b[_0x2a14b9(0x21b)],_0x2fc54a[_0x2a14b9(0x1ea)]=_0x2dc081,_0x477924[_0x2a14b9(0x20c)](_0x5b10e1,_0x2fc54a,_0x1a08af[_0x2a14b9(0x216)],!![]);}}else _0x1a08af[_0x2a14b9(0x202)](_0x1a08af[_0x2a14b9(0x218)],_0x1a08af[_0x2a14b9(0x2ae)])?(logger[_0x2a14b9(0x26a)](_0x1a08af[_0x2a14b9(0x224)]),process[_0x2a14b9(0x29d)](0x1)):_0x1e67e3+=_0x2a14b9(0x2a5)+_0x290148['clusterName']+'\x20details\x20cannot\x20be\x20fetched\x0a\x0a';}}}catch(_0x35f2be){_0x1a08af[_0x2a14b9(0x1fc)](_0x1a08af[_0x2a14b9(0x1ec)],_0x1a08af[_0x2a14b9(0x2ab)])?(_0x3c09ea=_0x2a14b9(0x2bf)+_0x35f2be+':\x20'+_0x35f2be[_0x2a14b9(0x229)],logger['error'](_0x3c09ea),await _0x1a08af[_0x2a14b9(0x1d9)](reportToGalactusAndSendToEDS,_0x3b6867,_0x57765b,_0x3c09ea,messageTypes['ERROR'],_0x1a08af[_0x2a14b9(0x254)],_0x1a08af['sedev'],_0x1a08af[_0x2a14b9(0x216)]),process['exit'](0x1)):_0x18947a['exit'](0x1);}}function printResponse(_0x1e5db1,_0x83dbe2){const _0x537c8e=a17_0x4d6df3,_0x16a829={};_0x16a829[_0x537c8e(0x243)]=function(_0x193631,_0x4892be){return _0x193631!==_0x4892be;},_0x16a829[_0x537c8e(0x266)]=_0x537c8e(0x2b1);const _0x4d9779=_0x16a829;logger[_0x537c8e(0x26c)]('['+_0x1e5db1+_0x537c8e(0x221)+_0x83dbe2[_0x537c8e(0x1cf)]+'\x20data\x20:\x20'+_0x83dbe2['data']+_0x537c8e(0x267)+_0x83dbe2[_0x537c8e(0x26a)]),_0x83dbe2[_0x537c8e(0x26a)]&&(_0x4d9779[_0x537c8e(0x243)](_0x4d9779['FTYRu'],_0x4d9779[_0x537c8e(0x266)])?_0x3966eb[_0x537c8e(0x26c)]('Cluster\x20`'+_0x154679[_0x537c8e(0x2b7)]+_0x537c8e(0x235)):logger[_0x537c8e(0x26a)](_0x537c8e(0x251)+_0x83dbe2[_0x537c8e(0x26a)][_0x537c8e(0x229)]));}async function generateReport(_0x19b5ac,_0x5d22e2){const _0x26aebe=a17_0x4d6df3,_0x55676c={'vpyPd':function(_0x33aae0,_0xfe317){return _0x33aae0+_0xfe317;},'CnGaF':_0x26aebe(0x1eb),'CmudR':'Failure','gQdtZ':function(_0x109b02,_0x596243){return _0x109b02||_0x596243;},'wlVKC':_0x26aebe(0x203),'StLEi':_0x26aebe(0x291),'JORSb':_0x26aebe(0x2a2),'DLShW':function(_0x8e1ce6,_0x525966){return _0x8e1ce6!=_0x525966;},'DCFIa':_0x26aebe(0x1dd),'XroFh':_0x26aebe(0x2ca),'mWJDH':function(_0x57959a){return _0x57959a();}};let _0x3956b4=_0x26aebe(0x1e0)+global_registry[_0x26aebe(0x2c1)]+_0x26aebe(0x1e1);return _0x19b5ac[_0x26aebe(0x213)]((_0x36bfc8,_0xf64a61)=>{const _0x27d67e=_0x26aebe,{header:_0x31423b,response:_0x357d08}=_0x36bfc8,{status:_0x7b9ab7,data:_0x15eadf,error:_0x43f327}=_0x357d08;_0x3956b4+=_0x31423b+'\x20#'+_0x55676c[_0x27d67e(0x2a7)](_0xf64a61,0x1)+'\x0a',_0x3956b4+=_0x27d67e(0x241)+(_0x7b9ab7?_0x55676c[_0x27d67e(0x28a)]:_0x55676c[_0x27d67e(0x1d5)])+'\x0a',_0x3956b4+=_0x27d67e(0x21f)+_0x55676c[_0x27d67e(0x298)](_0x15eadf,_0x55676c[_0x27d67e(0x206)])+'\x0a',_0x43f327&&(_0x3956b4+=_0x55676c['StLEi'],_0x3956b4+=_0x27d67e(0x2bd)+(_0x43f327[_0x27d67e(0x1ea)]||_0x55676c[_0x27d67e(0x206)])+'\x0a',_0x3956b4+='\x20\x20Code:\x20'+(_0x43f327[_0x27d67e(0x2be)]||_0x55676c[_0x27d67e(0x206)])+'\x0a',_0x3956b4+=_0x27d67e(0x2b6)+(_0x43f327[_0x27d67e(0x229)]||_0x55676c['wlVKC'])+'\x0a'),_0x3956b4+='\x0a\x0a';}),_0x3956b4+=_0x55676c[_0x26aebe(0x28e)],_0x55676c[_0x26aebe(0x297)](_0x5d22e2,null)?_0x3956b4+='Cluster\x20'+global_registry[_0x26aebe(0x2b7)]+'\x20'+(_0x5d22e2?_0x55676c[_0x26aebe(0x1e2)]:_0x55676c['XroFh'])+'\x0a\x0a':_0x3956b4+=_0x26aebe(0x2a5)+global_registry['clusterName']+_0x26aebe(0x29e),_0x3956b4+=_0x55676c['mWJDH'](getSystemMetaData),_0x3956b4;};exports[a17_0x4d6df3(0x20e)]=async function(_0x2e9872){const _0xb54a63=a17_0x4d6df3,_0x19a3db={'lzvXv':function(_0xd0d7f6){return _0xd0d7f6();},'atWVT':_0xb54a63(0x1d8),'AHHOC':function(_0x5ca483,_0x3d0e9e,_0x4c61b1,_0x2590b4,_0xe52a0b,_0x138813,_0x2e662c,_0x293f15){return _0x5ca483(_0x3d0e9e,_0x4c61b1,_0x2590b4,_0xe52a0b,_0x138813,_0x2e662c,_0x293f15);},'BOnTR':'pre-check-grid-called','RoumY':_0xb54a63(0x209),'IHpbU':'error','XEngu':function(_0x16944f,_0x1e8508,_0x54211c,_0x421dba,_0x489dec,_0x20120d,_0x517ec8){return _0x16944f(_0x1e8508,_0x54211c,_0x421dba,_0x489dec,_0x20120d,_0x517ec8);},'lXjeO':_0xb54a63(0x23a),'XQmAX':_0xb54a63(0x22f),'hIcBH':function(_0x54c30c,_0x5c7295,_0x351393){return _0x54c30c(_0x5c7295,_0x351393);},'maIAg':'dummy-grid','zceQA':_0xb54a63(0x1f1),'jVzov':_0xb54a63(0x248),'MMUvF':function(_0x54874c,_0x1c6a7e,_0x47223a,_0x4b36d0,_0x301075,_0x3e1125,_0x2beeaa,_0x41583a){return _0x54874c(_0x1c6a7e,_0x47223a,_0x4b36d0,_0x301075,_0x3e1125,_0x2beeaa,_0x41583a);},'yVWZA':'accessResp','ZZnTf':function(_0x56d800){return _0x56d800();},'vGOhu':_0xb54a63(0x1f2),'MhDhI':function(_0x4675d5,_0x21a0e6){return _0x4675d5(_0x21a0e6);},'JWYaj':_0xb54a63(0x22c),'rkEXa':function(_0x112513,_0x53562d,_0x210737){return _0x112513(_0x53562d,_0x210737);},'TPPLu':_0xb54a63(0x2bb),'Ztfyb':_0xb54a63(0x27e),'wuDyv':'User\x20Access','SgsFw':_0xb54a63(0x1f7),'HwuWa':_0xb54a63(0x24b),'nkDVI':function(_0x5a0835,_0x3fbef8,_0x1eed5a){return _0x5a0835(_0x3fbef8,_0x1eed5a);},'tlaKC':function(_0x1b52a2,_0x13fb79){return _0x1b52a2+_0x13fb79;},'GmEBK':'utf-8','WFSgp':_0xb54a63(0x1d4)};let _0x507988,_0x269a69;try{global_registry[_0xb54a63(0x1da)]=_0x19a3db[_0xb54a63(0x212)](uuidv4);!fs[_0xb54a63(0x287)](_0x19a3db['lzvXv'](getCredentialsPath))&&(_0x269a69=_0x19a3db[_0xb54a63(0x27b)],logger[_0xb54a63(0x26a)](_0x269a69),await _0x19a3db[_0xb54a63(0x1f8)](reportToGalactusAndSendToEDS,_0x2e9872,_0x507988,_0x269a69,messageTypes[_0xb54a63(0x278)],_0x19a3db['BOnTR'],_0x19a3db[_0xb54a63(0x29f)],_0x19a3db[_0xb54a63(0x223)]),process[_0xb54a63(0x29d)](0x1));_0x19a3db['XEngu'](sendInstrumentationEvent,_0x2e9872,_0x19a3db[_0xb54a63(0x24a)],messageTypes['INFO'],null,null,_0x2e9872);const _0x1af972=JSON['parse'](fs[_0xb54a63(0x22a)](_0x19a3db[_0xb54a63(0x212)](getCredentialsPath)));global_registry[_0xb54a63(0x210)]=_0x1af972[_0xb54a63(0x289)][_0xb54a63(0x246)],global_registry['bstackAccesskey']=_0x1af972[_0xb54a63(0x289)][_0xb54a63(0x1ee)];const _0x137067=WS_ENDPOINT['replace'](_0x19a3db['lXjeO'],_0x1af972[_0xb54a63(0x289)][_0xb54a63(0x246)])[_0xb54a63(0x27f)](_0x19a3db[_0xb54a63(0x2ba)],_0x1af972['Browserstack']['password']),_0x459130={};_0x459130[_0xb54a63(0x217)]=ws,_0x459130[_0xb54a63(0x2c3)]=0x36ee80,_0x507988=new ReconnectingWebSocket(_0x137067,[],_0x459130),global_registry[_0xb54a63(0x1e7)]=_0x19a3db['hIcBH'](getAuthHeader,global_registry[_0xb54a63(0x210)],global_registry[_0xb54a63(0x255)]),await _0x19a3db[_0xb54a63(0x226)](inputValidation,_0x2e9872,_0x507988),logger[_0xb54a63(0x26c)](_0xb54a63(0x277)+global_registry[_0xb54a63(0x2c1)]+'\x20region\x20-\x20'+global_registry[_0xb54a63(0x1e9)]);let _0x4a8531=await _0x19a3db[_0xb54a63(0x2c2)](getCloudProviderObjectWithOutInit,global_registry['cloudProvider'],global_registry['clusterName'],_0x19a3db['maIAg'],_0x507988,webSocketUtils,_0x2e9872);const _0x4b21c8=await _0x4a8531[_0xb54a63(0x2bc)]();_0x19a3db['hIcBH'](printResponse,_0x19a3db[_0xb54a63(0x260)],_0x4b21c8),_0x4a8531=await _0x4a8531[_0xb54a63(0x21c)]();let _0x20189a=![];try{_0x20189a=await _0x4a8531[_0xb54a63(0x269)]();}catch(_0x339e97){const _0xb27ef4=_0x19a3db[_0xb54a63(0x256)][_0xb54a63(0x20d)]('|');let _0x3ebd0a=0x0;while(!![]){switch(_0xb27ef4[_0x3ebd0a++]){case'0':_0x269a69=_0xb54a63(0x296)+global_registry[_0xb54a63(0x2b7)]+_0xb54a63(0x293)+global_registry[_0xb54a63(0x1e9)]+_0xb54a63(0x28b)+_0x339e97;continue;case'1':await _0x19a3db[_0xb54a63(0x2c8)](reportToGalactusAndSendToEDS,_0x2e9872,_0x507988,_0x269a69,messageTypes[_0xb54a63(0x278)],_0x19a3db[_0xb54a63(0x24a)],_0xb54a63(0x239)+global_registry[_0xb54a63(0x2c1)],_0x19a3db[_0xb54a63(0x223)]);continue;case'2':logger['error'](_0x269a69);continue;case'3':_0x269a69+='\x0a'+JSON[_0xb54a63(0x2a4)](_0x339e97['stack']);continue;case'4':_0x20189a=null;continue;}break;}}_0x20189a&&logger[_0xb54a63(0x26c)](_0xb54a63(0x2af)+global_registry[_0xb54a63(0x2b7)]+_0xb54a63(0x235));const _0x5fe091=await _0x4a8531[_0xb54a63(0x208)]();_0x19a3db[_0xb54a63(0x226)](printResponse,_0x19a3db[_0xb54a63(0x271)],_0x5fe091);const _0x45fd0d=await _0x19a3db[_0xb54a63(0x207)](curlRequest);_0x19a3db[_0xb54a63(0x226)](printResponse,_0x19a3db[_0xb54a63(0x220)],_0x45fd0d);const _0x8155b1=await _0x19a3db[_0xb54a63(0x1ff)](isTlsSupported,_0x19a3db['JWYaj']);_0x19a3db[_0xb54a63(0x1e8)](printResponse,_0x19a3db['TPPLu'],_0x8155b1);const _0x46d97b={};_0x46d97b['header']=_0x19a3db[_0xb54a63(0x215)],_0x46d97b[_0xb54a63(0x22e)]=_0x4b21c8;const _0x5143c1={};_0x5143c1['header']=_0x19a3db[_0xb54a63(0x1f6)],_0x5143c1[_0xb54a63(0x22e)]=_0x5fe091;const _0x24263d={};_0x24263d[_0xb54a63(0x233)]=_0x19a3db[_0xb54a63(0x2c7)],_0x24263d[_0xb54a63(0x22e)]=_0x45fd0d;const _0x1043e6={};_0x1043e6['header']=_0x19a3db[_0xb54a63(0x24f)],_0x1043e6[_0xb54a63(0x22e)]=_0x8155b1;const _0x14e7e2=[_0x46d97b,_0x5143c1,_0x24263d,_0x1043e6],_0x26a62f=await _0x19a3db['nkDVI'](generateReport,_0x14e7e2,_0x20189a),_0x597133=new Date(),_0x3b5e32=_0x597133['getUTCFullYear']()+'_'+_0x19a3db[_0xb54a63(0x25d)](_0x597133['getUTCMonth'](),0x1)+'_'+_0x597133[_0xb54a63(0x1f9)]()+'_'+_0x597133['getUTCHours']()+'_'+_0x597133['getUTCMinutes'](),_0x4a41c2=_0xb54a63(0x1df)+_0x3b5e32+'.txt';fs[_0xb54a63(0x268)](_0x4a41c2,_0x26a62f,_0x19a3db[_0xb54a63(0x22d)]),logger[_0xb54a63(0x26c)]('Report\x20saved\x20in\x20'+_0x4a41c2),process[_0xb54a63(0x29d)](0x0);}catch(_0x33dc8b){let _0x4b50b3=_0xb54a63(0x22b)+_0x33dc8b+'\x20';logger['error'](_0x4b50b3),_0x4b50b3+='\x0a'+JSON[_0xb54a63(0x2a4)](_0x33dc8b[_0xb54a63(0x229)]),logger[_0xb54a63(0x2b3)]('stack\x20trace\x20'+_0x33dc8b[_0xb54a63(0x229)]);if(_0x507988){const _0x188a0b={};_0x188a0b[_0xb54a63(0x200)]=WS_EVENTS['LOG'],_0x188a0b['message']=_0x4b50b3,webSocketUtils[_0xb54a63(0x20c)](_0x507988,_0x188a0b,_0x19a3db['IHpbU'],!![]);}await webSocketUtils[_0xb54a63(0x2b0)](0x7d0);const _0x26b355={};_0x26b355['error']=_0x4b50b3,await _0x19a3db[_0xb54a63(0x2c2)](sendInstrumentationEvent,_0x2e9872,_0x19a3db[_0xb54a63(0x24a)],messageTypes[_0xb54a63(0x278)],_0x19a3db[_0xb54a63(0x25f)],_0x26b355,_0x2e9872),process[_0xb54a63(0x29d)](0x1);}};function a17_0x364d(){const _0x2b2097=['aGBmC','lzvXv','forEach','xwOLl','Ztfyb','wRhkY','WebSocket','pTKHH','../../utils/utilityMethods','ZQnEw','LOG','init','epilogue','Invalid\x20input.\x20grid\x20profiles:\x20','Message:\x20','vGOhu',']\x20status\x20:\x20','mlRwR','IHpbU','Duzul','CLOUD_PROVIDER','hIcBH','APeQN','6tqNPZU','stack','readFileSync','Failed\x20in\x20pre-check!\x20Error:\x20','TLSv1_2_client_method','GmEBK','response','<PasswordPlaceholder>','throwHttpErrors','GET','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','header','AYvUy','`\x20already\x20exists','UkJEA','KIvJx','got','cluster-check-failed-','<UsernamePlaceholder>','9989357EcXKzx','1wIHlMs','HUGxW','body','FGdEe','NuVgG','Status:\x20','OaYlA','WYktm','290JJBfuC','BJOSt','username','bdfoN','0|4|2|3|1','cazCM','BOnTR','SSL\x20Configured','usage','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','HwuWa','QUFyX','error\x20stack\x20:\x20','ceOlh','YXNzK','dROKC','bstackAccesskey','jVzov','pre-check-grid-called','SKnBh','yUCCy','2627356qXVNUu','ccfUA','mLBPk','tlaKC','muuUr','WFSgp','zceQA','4yfwQwq','CWyKy','method','sjPRP','Pkwld','FTYRu','\x20error\x20:\x20','writeFileSync','isClusterPresent','error','https://','info','Missing\x20required\x20arguments:\x20','fOeoD','name','../../cloudproviders/utils','yVWZA','Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','1708456pwGCFX','fIxlN','../../config/constants','GaAoS','Pre-check\x20running\x20for\x20Cloud\x20-\x20','ERROR','desc','\x20data\x20:\x20','atWVT','cwmue','moUtD','Tool\x20Installed','replace','push','description','vujzH','vgCnM','LPmsC','MoRHl','eEdwH','existsSync','pre-check-grid-profile-empty','Browserstack','CnGaF','`\x20,error\x20:\x20','help','jaogq','JORSb','Grid\x20profile\x20fetched\x20for\x20pre-check','72aeBFpE','Error\x20Details:\x0a','LnXUQ','`\x20is\x20present\x20in\x20region\x20`','reconnecting-websocket','/packages/cli/get-all-grid-profiles','unable\x20to\x20verify\x20if\x20cluster\x20`','DLShW','gQdtZ','HxMsO','headers','argv','MiMfz','exit','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','RoumY','cloud-provider-not-supported','gridProfile','Cluster\x20details\x0a-----------------------\x0a','247346TDySDT','stringify','Cluster\x20','TFhbi','vpyPd','ZwYMr','Rsxjx','6626784CVQswV','NSpNl','includes','vHgog','gDvjv','Cluster\x20`','delay','atNsv','region','debug','hZnaJ','\x20\x20Code:\x20','\x20\x20Stack:\x20','clusterName','xNXBy','../../utils/instrumentationUtils','XQmAX','isTls1_2_SUPPORTED','isCliToolInstalled','\x20\x20Message:\x20','code','Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20','cluster-name','cloudProvider','XEngu','connectionTimeout','eGSNu','options','EXArD','SgsFw','MMUvF','fwgon','will\x20be\x20created','status','Setting\x20cloud\x20provider\x20as\x20','1832025EFhDhn','dxAEs','fXdaM','pre-check-failed','CmudR','pNdQa','pPVgu','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','LcqAx','requestId','toLowerCase','join','is\x20already\x20present','../../utils/webSocketUtils','log/report_','===\x20Precheck\x20Report\x20-\x20','\x20===\x0a\x0a','DCFIa','ZKfPC','cloud-provider','fQprI','PqVrR','authHeader','rkEXa','clusterRegion','message','Success','ZobGi','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','password','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','grid','toolInstalledResp','isTrialGridAccessible','mOAEF','SKzpr','INVFL','wuDyv','Whitelisted\x20browserstack','AHHOC','getUTCDate','13ZSSaQC','builder','TYVGb','6354655LsHuVZ','string','MhDhI','type','CIAea','mtnlj','N/A','yxVis','BoQAX','wlVKC','ZZnTf','checkAccess','credential-not-found','vNoGX','UCjvn','sendEventToBackend','split','handler','grid-profile','bstackUsername'];a17_0x364d=function(){return _0x2b2097;};return a17_0x364d();}