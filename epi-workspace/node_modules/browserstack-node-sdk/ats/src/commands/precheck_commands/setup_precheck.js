const a17_0x8b31d0=a17_0x5285;(function(_0x256991,_0x2528f8){const _0x18edd5=a17_0x5285,_0x545758=_0x256991();while(!![]){try{const _0x44a9e6=-parseInt(_0x18edd5(0x17a))/0x1+parseInt(_0x18edd5(0x204))/0x2+parseInt(_0x18edd5(0x18f))/0x3+-parseInt(_0x18edd5(0x20a))/0x4*(-parseInt(_0x18edd5(0x22b))/0x5)+parseInt(_0x18edd5(0x164))/0x6*(-parseInt(_0x18edd5(0x193))/0x7)+parseInt(_0x18edd5(0x1e5))/0x8+-parseInt(_0x18edd5(0x1bf))/0x9;if(_0x44a9e6===_0x2528f8)break;else _0x545758['push'](_0x545758['shift']());}catch(_0xa2aa2c){_0x545758['push'](_0x545758['shift']());}}}(a17_0x5d69,0xbdca9));const fs=require('fs'),ws=require('ws'),got=require(a17_0x8b31d0(0x1f9)),{v4:uuidv4}=require(a17_0x8b31d0(0x170)),ReconnectingWebSocket=require(a17_0x8b31d0(0x1eb)),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require(a17_0x8b31d0(0x1ab)),{logger}=require('../../config/logger'),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require(a17_0x8b31d0(0x210)),{getCloudProviderObjectWithOutInit}=require('../../cloudproviders/utils'),webSocketUtils=require(a17_0x8b31d0(0x1f6)),{sendInstrumentationEvent}=require(a17_0x8b31d0(0x1a2));exports[a17_0x8b31d0(0x17d)]=a17_0x8b31d0(0x22f),exports['desc']=a17_0x8b31d0(0x200),exports['builder']=function(_0x35df93){const _0x8701e9=a17_0x8b31d0,_0xe38d84={};_0xe38d84[_0x8701e9(0x1f8)]=_0x8701e9(0x22d),_0xe38d84[_0x8701e9(0x1e6)]=_0x8701e9(0x18a),_0xe38d84['KFsJh']=_0x8701e9(0x21c),_0xe38d84[_0x8701e9(0x1f1)]=_0x8701e9(0x241),_0xe38d84[_0x8701e9(0x1ca)]=_0x8701e9(0x165),_0xe38d84[_0x8701e9(0x243)]=_0x8701e9(0x242);const _0x47d9fb=_0xe38d84,_0x54a2b1={};_0x54a2b1['description']=_0x47d9fb['ZxTkV'],_0x54a2b1[_0x8701e9(0x238)]=_0x47d9fb[_0x8701e9(0x1e6)];const _0x81c288={};_0x81c288['description']=_0x47d9fb[_0x8701e9(0x245)],_0x81c288[_0x8701e9(0x238)]=_0x47d9fb[_0x8701e9(0x1e6)];const _0x2153c3={};_0x2153c3['description']=_0x47d9fb[_0x8701e9(0x1f1)],_0x2153c3[_0x8701e9(0x238)]=_0x47d9fb[_0x8701e9(0x1e6)];const _0x2c2cf5={};_0x2c2cf5['description']=_0x47d9fb[_0x8701e9(0x1ca)],_0x2c2cf5[_0x8701e9(0x238)]=_0x47d9fb[_0x8701e9(0x1e6)];const _0x43c971={};return _0x43c971[_0x8701e9(0x154)]=_0x54a2b1,_0x43c971[_0x8701e9(0x23f)]=_0x81c288,_0x43c971[_0x8701e9(0x235)]=_0x2153c3,_0x43c971[_0x8701e9(0x1a7)]=_0x2c2cf5,_0x35df93[_0x8701e9(0x20e)](HELP_HEADER_MESSAGE['pre_check'])[_0x8701e9(0x1b3)](HELP_FOOTER_MESSAGE)[_0x8701e9(0x18b)](_0x43c971)['help'](_0x47d9fb[_0x8701e9(0x243)])[_0x8701e9(0x175)];};async function inputValidation(_0xf4c44d,_0x53694f){const _0x2477db=a17_0x8b31d0,_0x4d16cc={'aBUUA':'region','PMFmw':'cluster-name','jVRLJ':'is\x20already\x20present','JXhBM':_0x2477db(0x1dc),'LmhTk':_0x2477db(0x209),'sFspH':function(_0x2c03a2,_0x4faf69){return _0x2c03a2+_0x4faf69;},'cMiKD':_0x2477db(0x231),'jgqVh':_0x2477db(0x17e),'MXfYs':function(_0x92185b,_0x300200){return _0x92185b||_0x300200;},'zkSKt':_0x2477db(0x1f5),'poMSe':_0x2477db(0x1c5),'WFjDo':_0x2477db(0x23f),'pVbgy':_0x2477db(0x22d),'pFYjo':'string','YIfbv':_0x2477db(0x21c),'wsnod':'Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','HGwgO':_0x2477db(0x165),'IHwfB':_0x2477db(0x242),'kekYk':_0x2477db(0x15c),'bxjxe':function(_0x172ca0,_0x431a7d){return _0x172ca0===_0x431a7d;},'woCTU':_0x2477db(0x1e7),'gKVip':function(_0x27e698,_0x315f47){return _0x27e698===_0x315f47;},'AfWEZ':_0x2477db(0x197),'ovYVx':_0x2477db(0x1ec),'yQSAw':function(_0x361e1c,_0xb24374){return _0x361e1c!==_0xb24374;},'bvMzh':_0x2477db(0x1c8),'RHMvy':_0x2477db(0x1d0),'SRTSF':function(_0x12ff02,_0x204a19){return _0x12ff02!==_0x204a19;},'pkgrT':_0x2477db(0x16b),'GJNve':_0x2477db(0x236),'BDrHq':function(_0x1377da,_0x4520f9){return _0x1377da>_0x4520f9;},'LsUUd':function(_0x2e3ec3,_0x4c3d57){return _0x2e3ec3!==_0x4c3d57;},'fatFv':_0x2477db(0x1fc),'iguJf':function(_0x34d11f,_0x227a31,_0x108ea4,_0x8c1952,_0x4ba99a,_0x324a8b,_0x30bcc6,_0x16c900){return _0x34d11f(_0x227a31,_0x108ea4,_0x8c1952,_0x4ba99a,_0x324a8b,_0x30bcc6,_0x16c900);},'FSBIq':_0x2477db(0x18e),'bsNjF':_0x2477db(0x169),'RBNEj':'puNiG','zZJWy':'Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','kdMeM':function(_0x23fdbc,_0x3faa85,_0x160d7e,_0x51c3ce,_0x2e8f69,_0x40ee5f,_0x2735cb,_0x5bb5d8){return _0x23fdbc(_0x3faa85,_0x160d7e,_0x51c3ce,_0x2e8f69,_0x40ee5f,_0x2735cb,_0x5bb5d8);},'jmTJC':_0x2477db(0x23a),'lVMYv':function(_0x577ebd,_0x223f0a){return _0x577ebd===_0x223f0a;},'DCIOt':'vWqvK','CDOxG':_0x2477db(0x240),'uURwG':'rkyaV','FADEZ':'MaRJP','zXoxS':'GET','qLIwg':function(_0x2c0b3c,_0x27972e,_0x400ef6){return _0x2c0b3c(_0x27972e,_0x400ef6);},'zskdf':function(_0x537e2b,_0x2a753f,_0x3628dd,_0xf0ca46,_0x31ef08,_0x5ee338){return _0x537e2b(_0x2a753f,_0x3628dd,_0xf0ca46,_0x31ef08,_0x5ee338);},'rxRvd':'pre-check','Eztud':_0x2477db(0x1a7),'fYmBt':function(_0xa8b4af,_0x21c55a){return _0xa8b4af===_0x21c55a;},'aMYdH':function(_0x5bc6aa,_0x5093c5){return _0x5bc6aa===_0x5093c5;},'TOaom':_0x2477db(0x161),'odiFv':_0x2477db(0x1e4),'fSTdF':function(_0x77bea1,_0xe1ff4b){return _0x77bea1(_0xe1ff4b);},'ltwJb':function(_0x5e3475,_0x182b8a){return _0x5e3475!==_0x182b8a;},'SPYPE':_0x2477db(0x1b4),'iyWVC':'RaFby','xVGhR':_0x2477db(0x1b8),'PGpnb':_0x2477db(0x21b),'YkNDd':_0x2477db(0x195),'uCNTr':_0x2477db(0x1e9),'HViiw':function(_0x334811,_0x2df25f){return _0x334811===_0x2df25f;},'dlpQs':_0x2477db(0x229),'EgKfx':_0x2477db(0x246),'AnrDL':'bSzNp','wjxRu':'yJqVT','KjIts':function(_0x58dac9,_0x10be9a,_0x1f1ddd,_0x554fad,_0x23061b,_0x4b8cf6,_0x42534a,_0xc3cd8c){return _0x58dac9(_0x10be9a,_0x1f1ddd,_0x554fad,_0x23061b,_0x4b8cf6,_0x42534a,_0xc3cd8c);}};let _0x2acd3c;try{if(_0x4d16cc['bxjxe'](_0x4d16cc['woCTU'],_0x4d16cc[_0x2477db(0x18c)])){if(_0xf4c44d['clusterName']||_0xf4c44d[_0x2477db(0x186)]||_0xf4c44d['region']){if(_0x4d16cc['gKVip'](_0x4d16cc['AfWEZ'],_0x4d16cc[_0x2477db(0x1a8)])){const _0x3fe216=[];!_0xf4c44d[_0x2477db(0x1c0)]&&(_0x4d16cc['gKVip'](_0x4d16cc[_0x2477db(0x1e2)],_0x4d16cc[_0x2477db(0x1e2)])?_0x3fe216[_0x2477db(0x1a3)](_0x4d16cc[_0x2477db(0x1d8)]):(_0x3b06c0[_0x2477db(0x181)](_0x2477db(0x168)+_0x3eaf61[_0x2477db(0x177)]+'\x20'),_0x300597[_0x2477db(0x186)]=_0x7bac82[_0x2477db(0x177)]));;!_0xf4c44d['cloudProvider']&&(_0x4d16cc['yQSAw'](_0x4d16cc['bvMzh'],_0x4d16cc['RHMvy'])?_0x3fe216['push'](_0x4d16cc[_0x2477db(0x16f)]):_0x4ccb4c['push'](_0x4d16cc[_0x2477db(0x247)]));;!_0xf4c44d[_0x2477db(0x235)]&&(_0x4d16cc['SRTSF'](_0x4d16cc[_0x2477db(0x219)],_0x4d16cc[_0x2477db(0x173)])?_0x3fe216['push'](_0x4d16cc[_0x2477db(0x247)]):_0x31b36c[_0x2477db(0x1a3)](_0x4d16cc[_0x2477db(0x1d8)]));;_0x4d16cc[_0x2477db(0x16d)](_0x3fe216['length'],0x0)&&(_0x4d16cc['LsUUd'](_0x4d16cc['fatFv'],_0x4d16cc[_0x2477db(0x1e0)])?_0x467ac8+='Cluster\x20'+_0x79057[_0x2477db(0x1c0)]+'\x20'+(_0x5a99dc?_0x4d16cc[_0x2477db(0x174)]:_0x4d16cc[_0x2477db(0x180)])+'\x0a\x0a':(_0x2acd3c=_0x2477db(0x20b)+_0x3fe216['join'](',\x20')+_0x2477db(0x17f),await _0x4d16cc['iguJf'](reportToGalactusAndSendToEDS,_0xf4c44d,_0x53694f,_0x2acd3c,messageTypes['ERROR'],_0x4d16cc[_0x2477db(0x1e3)],_0x4d16cc[_0x2477db(0x1ea)],_0x4d16cc[_0x2477db(0x1d2)]),logger['error'](_0x2acd3c),process[_0x2477db(0x233)](0x1)));if(!ALL_SUPPORTED_CLOUD_PROVIDERS[_0x2477db(0x211)](_0xf4c44d[_0x2477db(0x186)][_0x2477db(0x1c1)]())){if(_0x4d16cc['gKVip'](_0x4d16cc[_0x2477db(0x22e)],_0x4d16cc['RBNEj']))_0x2acd3c=_0x4d16cc[_0x2477db(0x172)],await _0x4d16cc['kdMeM'](reportToGalactusAndSendToEDS,_0xf4c44d,_0x53694f,_0x2acd3c,messageTypes['ERROR'],_0x4d16cc[_0x2477db(0x1e3)],_0x4d16cc[_0x2477db(0x21a)],_0x4d16cc[_0x2477db(0x1d2)]),logger['error'](_0x2acd3c),!_0xf4c44d[_0x2477db(0x186)]&&(_0x4d16cc[_0x2477db(0x15a)](_0x4d16cc[_0x2477db(0x222)],_0x4d16cc['CDOxG'])?(_0x53f418[_0x2477db(0x15c)](_0x4d16cc[_0x2477db(0x19d)]),_0x121777[_0x2477db(0x233)](0x1)):(logger['info'](_0x2477db(0x168)+DEFAULT_CLUSTER_DETAILS['CLOUD_PROVIDER']+'\x20'),_0xf4c44d['cloudProvider']=DEFAULT_CLUSTER_DETAILS[_0x2477db(0x177)]));else{const {header:_0x1b27b3,response:_0x5e28a1}=_0xf7036f,{status:_0x458bce,data:_0x191a3a,error:_0x2f1b29}=_0x5e28a1;_0x4bdd36+=_0x1b27b3+'\x20#'+_0x4d16cc[_0x2477db(0x162)](_0x48da66,0x1)+'\x0a',_0x369379+='Status:\x20'+(_0x458bce?_0x4d16cc[_0x2477db(0x228)]:_0x4d16cc['jgqVh'])+'\x0a',_0x46eacc+=_0x2477db(0x23c)+_0x4d16cc[_0x2477db(0x179)](_0x191a3a,_0x4d16cc[_0x2477db(0x1bd)])+'\x0a',_0x2f1b29&&(_0x366925+=_0x4d16cc[_0x2477db(0x158)],_0x497946+='\x20\x20Message:\x20'+(_0x2f1b29['message']||_0x4d16cc[_0x2477db(0x1bd)])+'\x0a',_0x198569+=_0x2477db(0x1c4)+(_0x2f1b29[_0x2477db(0x192)]||_0x4d16cc[_0x2477db(0x1bd)])+'\x0a',_0x2a64b2+=_0x2477db(0x1b9)+(_0x2f1b29[_0x2477db(0x1df)]||_0x4d16cc[_0x2477db(0x1bd)])+'\x0a'),_0x4f9674+='\x0a\x0a';}}global_registry[_0x2477db(0x1c0)]=_0xf4c44d['clusterName'],global_registry['cloudProvider']=_0xf4c44d[_0x2477db(0x186)],global_registry['clusterRegion']=_0xf4c44d[_0x2477db(0x235)];}else _0x3cab07[_0x2477db(0x1a3)](_0x4d16cc[_0x2477db(0x16f)]);}else{if(_0xf4c44d['gridProfile']){if(_0x4d16cc[_0x2477db(0x15a)](_0x4d16cc[_0x2477db(0x189)],_0x4d16cc[_0x2477db(0x214)]))_0x5ec9dc+='Cluster\x20'+_0x1a965[_0x2477db(0x1c0)]+_0x2477db(0x237);else{global_registry[_0x2477db(0x160)]=_0xf4c44d[_0x2477db(0x160)],logger[_0x2477db(0x232)](_0x2477db(0x1dd)+_0xf4c44d[_0x2477db(0x160)]);const _0x502646=_0x2477db(0x19e)+AG_API_URL+'/packages/cli/get-all-grid-profiles',_0x41c0de={};_0x41c0de[_0x2477db(0x1ae)]=_0x4d16cc[_0x2477db(0x1bb)],_0x41c0de[_0x2477db(0x1db)]=global_registry['authHeader'],_0x41c0de['throwHttpErrors']=![];const _0x1ba420=_0x41c0de,_0x461618=await _0x4d16cc['qLIwg'](got,_0x502646,_0x1ba420),_0xbda082=await _0x4d16cc[_0x2477db(0x218)](responseValidation,_0x461618,_0x4d16cc['rxRvd'],_0x4d16cc['Eztud'],_0xf4c44d,_0x53694f);let _0xbb9fcb={};if(_0x4d16cc[_0x2477db(0x221)](_0xbda082,0xc8)){if(_0x4d16cc['aMYdH'](_0x4d16cc[_0x2477db(0x1ee)],_0x4d16cc[_0x2477db(0x1b5)])){const _0x2276d2={};_0x2276d2[_0x2477db(0x227)]=_0x4d16cc['pVbgy'],_0x2276d2[_0x2477db(0x238)]=_0x4d16cc[_0x2477db(0x152)];const _0xf7e36b={};_0xf7e36b[_0x2477db(0x227)]=_0x4d16cc[_0x2477db(0x19b)],_0xf7e36b['type']=_0x4d16cc[_0x2477db(0x152)];const _0x2ee33c={};_0x2ee33c[_0x2477db(0x227)]=_0x4d16cc[_0x2477db(0x166)],_0x2ee33c[_0x2477db(0x238)]=_0x4d16cc[_0x2477db(0x152)];const _0x1a76ab={};_0x1a76ab[_0x2477db(0x227)]=_0x4d16cc[_0x2477db(0x1d9)],_0x1a76ab['type']=_0x4d16cc['pFYjo'];const _0x22c097={};return _0x22c097[_0x2477db(0x154)]=_0x2276d2,_0x22c097[_0x2477db(0x23f)]=_0xf7e36b,_0x22c097[_0x2477db(0x235)]=_0x2ee33c,_0x22c097[_0x2477db(0x1a7)]=_0x1a76ab,_0x233a52[_0x2477db(0x20e)](_0x278caf[_0x2477db(0x20c)])[_0x2477db(0x1b3)](_0x17049c)[_0x2477db(0x18b)](_0x22c097)[_0x2477db(0x242)](_0x4d16cc['IHwfB'])[_0x2477db(0x175)];}else{const _0x182686=JSON[_0x2477db(0x23e)](_0x461618[_0x2477db(0x1a0)]),_0x5b33ad=_0x182686[_0x2477db(0x1bc)](_0x267b61=>_0x267b61[_0x2477db(0x216)]===_0xf4c44d[_0x2477db(0x160)])||null;if(_0x4d16cc['fSTdF'](isUndefined,_0x5b33ad))_0x4d16cc['ltwJb'](_0x4d16cc[_0x2477db(0x1cf)],_0x4d16cc[_0x2477db(0x1c6)])?(_0x2acd3c=_0x2477db(0x16c)+_0xf4c44d['gridProfile']+_0x2477db(0x207),await _0x4d16cc[_0x2477db(0x225)](reportToGalactusAndSendToEDS,_0xf4c44d,_0x53694f,_0x2acd3c,messageTypes[_0x2477db(0x213)],_0x4d16cc['FSBIq'],_0x4d16cc[_0x2477db(0x1fa)],_0x4d16cc[_0x2477db(0x1d2)]),logger[_0x2477db(0x15c)](_0x2acd3c),process[_0x2477db(0x233)](0x1)):_0x57c207[_0x2477db(0x233)](0x1);else{if(_0x4d16cc[_0x2477db(0x1de)](_0x4d16cc[_0x2477db(0x21e)],_0x4d16cc[_0x2477db(0x21e)]))_0xbb9fcb=_0x5b33ad;else{const _0x1c84d6={};_0x1c84d6[_0x2477db(0x238)]=_0x2b3d88[_0x2477db(0x157)],_0x1c84d6[_0x2477db(0x1c7)]=_0x4f0e43,_0xb4b888[_0x2477db(0x1ff)](_0x2b7ec9,_0x1c84d6,_0x4d16cc['kekYk'],!![]);}}}}else _0x4d16cc[_0x2477db(0x1de)](_0x4d16cc[_0x2477db(0x191)],_0x4d16cc['YkNDd'])?process[_0x2477db(0x233)](0x1):(_0x264be0['info']('['+_0x3c7fe0+_0x2477db(0x182)+_0x4ff867[_0x2477db(0x15b)]+_0x2477db(0x1d6)+_0x1381a7[_0x2477db(0x22a)]+_0x2477db(0x196)+_0x318564[_0x2477db(0x15c)]),_0xf99a41[_0x2477db(0x15c)]&&_0xce1469[_0x2477db(0x15c)](_0x2477db(0x1cb)+_0x590827['error'][_0x2477db(0x1df)]));const _0x48dff2={};_0x48dff2[_0x2477db(0x238)]=WS_EVENTS[_0x2477db(0x157)],_0x48dff2[_0x2477db(0x1c7)]=_0x4d16cc['uCNTr'],webSocketUtils[_0x2477db(0x1ff)](_0x53694f,_0x48dff2),global_registry[_0x2477db(0x186)]=_0xbb9fcb[_0x2477db(0x186)],global_registry[_0x2477db(0x1a4)]=_0xbb9fcb['region'],global_registry[_0x2477db(0x1c0)]=_0xbb9fcb[_0x2477db(0x1c0)];}}else _0x4d16cc['HViiw'](_0x4d16cc[_0x2477db(0x217)],_0x4d16cc[_0x2477db(0x194)])?_0x29e0b6['info'](_0x2477db(0x234)+_0x5ba43d[_0x2477db(0x1c0)]+_0x2477db(0x1c9)):(logger[_0x2477db(0x15c)](_0x4d16cc[_0x2477db(0x19d)]),process[_0x2477db(0x233)](0x1));}}else _0x2bead4=_0x346ac7;}catch(_0x3166aa){_0x4d16cc[_0x2477db(0x15a)](_0x4d16cc[_0x2477db(0x244)],_0x4d16cc[_0x2477db(0x188)])?_0x23ecf4['error'](_0x2477db(0x1cb)+_0x1b4e37[_0x2477db(0x15c)]['stack']):(_0x2acd3c=_0x2477db(0x155)+_0x3166aa+':\x20'+_0x3166aa[_0x2477db(0x1df)],logger[_0x2477db(0x15c)](_0x2acd3c),await _0x4d16cc[_0x2477db(0x21d)](reportToGalactusAndSendToEDS,_0xf4c44d,_0x53694f,_0x2acd3c,messageTypes['ERROR'],_0x4d16cc[_0x2477db(0x1e3)],_0x4d16cc[_0x2477db(0x21a)],_0x4d16cc[_0x2477db(0x1d2)]),process[_0x2477db(0x233)](0x1));}}function a17_0x5d69(){const _0x210711=['FSBIq','mzfwK','761968BvFCTQ','yhGBu','jftDS','rlkkW','Grid\x20profile\x20fetched\x20for\x20pre-check','bsNjF','reconnecting-websocket','zzpJg','gedIj','TOaom','cOHSB','split','lhxfO','isClusterPresent','stack\x20trace\x20','.txt','N/A','../../utils/webSocketUtils','username','ZxTkV','got','xVGhR','0|1|3|2|4','LHXtY','utf-8','AXVGY','sendEventToBackend','Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup','replace','credential-not-found','QhiCi','2194354dCFyXw','isCliToolInstalled','VSbGq','.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again','readFileSync','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','38084HUUyhj','Missing\x20required\x20arguments:\x20','pre_check','writeFileSync','usage','is\x20already\x20present','../../config/constants','includes','EQNJQ','ERROR','FADEZ','SSL\x20Configured','name','dlpQs','zskdf','pkgrT','jmTJC','UEDIZ','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','KjIts','PGpnb','DpLWQ','TLSv1_2_client_method','fYmBt','DCIOt','header','existsSync','iguJf','RtSTf','description','cMiKD','XlWLn','data','505VZBxXC','getUTCDate','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','RBNEj','grid','getUTCMinutes','Success','debug','exit','Cluster\x20`','region','XTVwF','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','type','EDbIf','cloud-provider-not-supported','User\x20Access','Message:\x20','\x20\x20Message:\x20','parse','cloud-provider','CrxMM','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','help','iqhEy','AnrDL','KFsJh','PSDjL','aBUUA','OQQFd','pFYjo','dsYBT','cluster-name','Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20','PwLVc','LOG','poMSe','\x20===\x0a\x0a','lVMYv','status','error','pre-check-failed','getUTCMonth','pKEEb','gridProfile','WMiAA','sFspH','biLjR','7662IwPLkh','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','wsnod','getUTCHours','Setting\x20cloud\x20provider\x20as\x20','pre-check-cluster-args-not-passed','aPaNv','cnoEP','Invalid\x20input.\x20grid\x20profiles:\x20','BDrHq','Cluster\x20','WFjDo','uuid','WebSocket','zZJWy','GJNve','jVRLJ','argv','BZwKh','CLOUD_PROVIDER','PbIuk','MXfYs','1047440rFYZni','zlGeo','xauPu','command','Failure','.\x20Please\x20provide\x20all\x20required\x20arguments.','JXhBM','info',']\x20status\x20:\x20','CwaWW','unable\x20to\x20verify\x20if\x20cluster\x20`','getUTCFullYear','cloudProvider','\x20region\x20-\x20','wjxRu','uURwG','string','options','woCTU','response','pre-check-grid-called','2593947jePwNj','HZCtj','YkNDd','code','1351UIfMyH','EgKfx','dlcWC','\x20error\x20:\x20','HYJEP','bstackAccesskey','Pre-check\x20running\x20for\x20Cloud\x20-\x20','Whitelisted\x20browserstack','YIfbv','tSsmx','LmhTk','https://','`\x20is\x20present\x20in\x20region\x20`','body','JdUiK','../../utils/instrumentationUtils','push','clusterRegion','JpbxE','isTrialGridAccessible','grid-profile','AfWEZ','odINg','RGCrd','../../utils/utilityMethods','atWjJ','fSOom','method','Report\x20saved\x20in\x20','forEach','connectionTimeout','Browserstack','epilogue','ZnYBa','odiFv','Xjoyt','bstackUsername','pre-check-grid-profile-empty','\x20\x20Stack:\x20','HCqsi','zXoxS','find','zkSKt','log/report_','8526663UtXwZf','clusterName','toLowerCase','accessResp','requestId','\x20\x20Code:\x20','Error\x20Details:\x0a','iyWVC','message','jBFZm','`\x20already\x20exists','Dopik','error\x20stack\x20:\x20','password','Failed\x20in\x20pre-check!\x20Error:\x20','zpQgl','SPYPE','UaRqk','DJuhG','kekYk','bQZTX','ljpWp','ZlzXw','\x20data\x20:\x20','gTOCi','PMFmw','HGwgO','Status:\x20','headers','will\x20be\x20created','grid\x20profile\x20flow\x20','aMYdH','stack','fatFv','stringify','ovYVx'];a17_0x5d69=function(){return _0x210711;};return a17_0x5d69();}function printResponse(_0xae28bd,_0x38d182){const _0x3864c4=a17_0x8b31d0,_0x54da30={};_0x54da30[_0x3864c4(0x1ce)]='Error\x20Details:\x0a',_0x54da30[_0x3864c4(0x239)]='N/A',_0x54da30[_0x3864c4(0x151)]=function(_0x25f381,_0x4417f6){return _0x25f381!==_0x4417f6;},_0x54da30[_0x3864c4(0x1a5)]=_0x3864c4(0x1ac);const _0x409b58=_0x54da30;logger[_0x3864c4(0x181)]('['+_0xae28bd+_0x3864c4(0x182)+_0x38d182[_0x3864c4(0x15b)]+'\x20data\x20:\x20'+_0x38d182['data']+'\x20error\x20:\x20'+_0x38d182['error']),_0x38d182[_0x3864c4(0x15c)]&&(_0x409b58[_0x3864c4(0x151)](_0x409b58[_0x3864c4(0x1a5)],_0x409b58[_0x3864c4(0x1a5)])?(_0x3c8bb7+=_0x409b58['zpQgl'],_0x12a62a+=_0x3864c4(0x23d)+(_0x41dac6['message']||_0x409b58[_0x3864c4(0x239)])+'\x0a',_0x37e58c+=_0x3864c4(0x1c4)+(_0x507cc5[_0x3864c4(0x192)]||_0x409b58[_0x3864c4(0x239)])+'\x0a',_0x2f6c3b+='\x20\x20Stack:\x20'+(_0x1dcaaa['stack']||_0x409b58[_0x3864c4(0x239)])+'\x0a'):logger[_0x3864c4(0x15c)](_0x3864c4(0x1cb)+_0x38d182[_0x3864c4(0x15c)]['stack']));}async function generateReport(_0x1768d2,_0x20091e){const _0x24745e=a17_0x8b31d0,_0x446351={'PbIuk':function(_0x1026c6,_0x2760e5){return _0x1026c6+_0x2760e5;},'PwLVc':'Success','fSOom':_0x24745e(0x17e),'xnayb':function(_0x32ed1b,_0x2cb2b3){return _0x32ed1b||_0x2cb2b3;},'tSsmx':_0x24745e(0x1f5),'xauPu':'Error\x20Details:\x0a','VZrAl':'Cluster\x20details\x0a-----------------------\x0a','JURRw':function(_0x1477be,_0xd52564){return _0x1477be!=_0xd52564;},'GFbSh':_0x24745e(0x20f),'zqbsp':_0x24745e(0x1dc),'gedIj':function(_0x19b420){return _0x19b420();}};let _0x29a475='===\x20Precheck\x20Report\x20-\x20'+global_registry['cloudProvider']+_0x24745e(0x159);return _0x1768d2[_0x24745e(0x1b0)]((_0x38d76e,_0x272c93)=>{const _0x4f7784=_0x24745e,{header:_0x439adc,response:_0x9dadd4}=_0x38d76e,{status:_0x11e84f,data:_0x319919,error:_0x477405}=_0x9dadd4;_0x29a475+=_0x439adc+'\x20#'+_0x446351[_0x4f7784(0x178)](_0x272c93,0x1)+'\x0a',_0x29a475+=_0x4f7784(0x1da)+(_0x11e84f?_0x446351[_0x4f7784(0x156)]:_0x446351[_0x4f7784(0x1ad)])+'\x0a',_0x29a475+='Message:\x20'+_0x446351['xnayb'](_0x319919,_0x446351[_0x4f7784(0x19c)])+'\x0a',_0x477405&&(_0x29a475+=_0x446351[_0x4f7784(0x17c)],_0x29a475+=_0x4f7784(0x23d)+(_0x477405[_0x4f7784(0x1c7)]||_0x446351['tSsmx'])+'\x0a',_0x29a475+=_0x4f7784(0x1c4)+(_0x477405['code']||_0x446351[_0x4f7784(0x19c)])+'\x0a',_0x29a475+=_0x4f7784(0x1b9)+(_0x477405[_0x4f7784(0x1df)]||_0x446351[_0x4f7784(0x19c)])+'\x0a'),_0x29a475+='\x0a\x0a';}),_0x29a475+=_0x446351['VZrAl'],_0x446351['JURRw'](_0x20091e,null)?_0x29a475+=_0x24745e(0x16e)+global_registry[_0x24745e(0x1c0)]+'\x20'+(_0x20091e?_0x446351['GFbSh']:_0x446351['zqbsp'])+'\x0a\x0a':_0x29a475+=_0x24745e(0x16e)+global_registry['clusterName']+'\x20details\x20cannot\x20be\x20fetched\x0a\x0a',_0x29a475+=_0x446351[_0x24745e(0x1ed)](getSystemMetaData),_0x29a475;};function a17_0x5285(_0x356f5b,_0x3da2cb){const _0x5d6934=a17_0x5d69();return a17_0x5285=function(_0x5285a7,_0x63607){_0x5285a7=_0x5285a7-0x151;let _0x340600=_0x5d6934[_0x5285a7];return _0x340600;},a17_0x5285(_0x356f5b,_0x3da2cb);}exports['handler']=async function(_0x1361bb){const _0x5d8a78=a17_0x8b31d0,_0x5092d4={'CwaWW':function(_0x260438){return _0x260438();},'EQNJQ':function(_0x382d9f){return _0x382d9f();},'DpLWQ':'Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','dsYBT':function(_0x19fad9,_0x20fa51,_0x141bda,_0x343a47,_0x1f85e1,_0x30d4af,_0x294796,_0x146777){return _0x19fad9(_0x20fa51,_0x141bda,_0x343a47,_0x1f85e1,_0x30d4af,_0x294796,_0x146777);},'pKEEb':'pre-check-grid-called','BpEyo':_0x5d8a78(0x202),'HCqsi':_0x5d8a78(0x15c),'odINg':function(_0x448cee,_0x15460a,_0x405337,_0x47857b,_0x390401,_0x37e240,_0x16355f){return _0x448cee(_0x15460a,_0x405337,_0x47857b,_0x390401,_0x37e240,_0x16355f);},'RGCrd':'<UsernamePlaceholder>','VSbGq':'<PasswordPlaceholder>','ZlzXw':function(_0x4c9ea8,_0x3b6f4c,_0x35123d){return _0x4c9ea8(_0x3b6f4c,_0x35123d);},'AXVGY':function(_0x183881,_0x33a116,_0x29b347){return _0x183881(_0x33a116,_0x29b347);},'biLjR':function(_0x3b584c,_0x18eeb1,_0x31398a,_0x189341,_0x22e7c7,_0xe839c8,_0x51367f){return _0x3b584c(_0x18eeb1,_0x31398a,_0x189341,_0x22e7c7,_0xe839c8,_0x51367f);},'Xjoyt':'dummy-grid','aPaNv':function(_0x2f1af9,_0x157e2c,_0x29720f){return _0x2f1af9(_0x157e2c,_0x29720f);},'zlGeo':'toolInstalledResp','JdUiK':_0x5d8a78(0x1fb),'DJuhG':function(_0x56344c,_0x120dee,_0x195e53,_0x2574cc,_0x19ae3d,_0x5a9ee0,_0x184597,_0x1c2106){return _0x56344c(_0x120dee,_0x195e53,_0x2574cc,_0x19ae3d,_0x5a9ee0,_0x184597,_0x1c2106);},'cOHSB':_0x5d8a78(0x1c2),'bQZTX':function(_0x2202e6,_0x18bba1,_0x3518ac){return _0x2202e6(_0x18bba1,_0x3518ac);},'moHog':_0x5d8a78(0x1a6),'BZwKh':function(_0x4d90d0,_0x145f07){return _0x4d90d0(_0x145f07);},'sFTGJ':_0x5d8a78(0x220),'QhiCi':'isTls1_2_SUPPORTED','nbchf':'Tool\x20Installed','gTOCi':_0x5d8a78(0x23b),'HZCtj':_0x5d8a78(0x19a),'RtSTf':_0x5d8a78(0x215),'QYdBi':function(_0x3c92e8,_0x2d4161){return _0x3c92e8+_0x2d4161;},'rlkkW':_0x5d8a78(0x1fd),'ljpWp':_0x5d8a78(0x15d)};let _0xdf1550,_0x4e8d03;try{global_registry[_0x5d8a78(0x1c3)]=_0x5092d4[_0x5d8a78(0x183)](uuidv4);!fs[_0x5d8a78(0x224)](_0x5092d4[_0x5d8a78(0x212)](getCredentialsPath))&&(_0x4e8d03=_0x5092d4[_0x5d8a78(0x21f)],logger[_0x5d8a78(0x15c)](_0x4e8d03),await _0x5092d4[_0x5d8a78(0x153)](reportToGalactusAndSendToEDS,_0x1361bb,_0xdf1550,_0x4e8d03,messageTypes[_0x5d8a78(0x213)],_0x5092d4['pKEEb'],_0x5092d4['BpEyo'],_0x5092d4[_0x5d8a78(0x1ba)]),process[_0x5d8a78(0x233)](0x1));_0x5092d4[_0x5d8a78(0x1a9)](sendInstrumentationEvent,_0x1361bb,_0x5092d4[_0x5d8a78(0x15f)],messageTypes['INFO'],null,null,_0x1361bb);const _0x2f8f51=JSON[_0x5d8a78(0x23e)](fs[_0x5d8a78(0x208)](_0x5092d4[_0x5d8a78(0x212)](getCredentialsPath)));global_registry[_0x5d8a78(0x1b7)]=_0x2f8f51[_0x5d8a78(0x1b2)]['username'],global_registry['bstackAccesskey']=_0x2f8f51[_0x5d8a78(0x1b2)][_0x5d8a78(0x1cc)];const _0x35e9cb=WS_ENDPOINT[_0x5d8a78(0x201)](_0x5092d4[_0x5d8a78(0x1aa)],_0x2f8f51[_0x5d8a78(0x1b2)][_0x5d8a78(0x1f7)])[_0x5d8a78(0x201)](_0x5092d4[_0x5d8a78(0x206)],_0x2f8f51[_0x5d8a78(0x1b2)]['password']),_0x13eb1e={};_0x13eb1e[_0x5d8a78(0x171)]=ws,_0x13eb1e[_0x5d8a78(0x1b1)]=0x36ee80,_0xdf1550=new ReconnectingWebSocket(_0x35e9cb,[],_0x13eb1e),global_registry['authHeader']=_0x5092d4[_0x5d8a78(0x1d5)](getAuthHeader,global_registry[_0x5d8a78(0x1b7)],global_registry[_0x5d8a78(0x198)]),await _0x5092d4[_0x5d8a78(0x1fe)](inputValidation,_0x1361bb,_0xdf1550),logger[_0x5d8a78(0x181)](_0x5d8a78(0x199)+global_registry[_0x5d8a78(0x186)]+_0x5d8a78(0x187)+global_registry['clusterRegion']);let _0x482238=await _0x5092d4[_0x5d8a78(0x163)](getCloudProviderObjectWithOutInit,global_registry[_0x5d8a78(0x186)],global_registry[_0x5d8a78(0x1c0)],_0x5092d4[_0x5d8a78(0x1b6)],_0xdf1550,webSocketUtils,_0x1361bb);const _0x2d41bd=await _0x482238[_0x5d8a78(0x205)]();_0x5092d4[_0x5d8a78(0x16a)](printResponse,_0x5092d4[_0x5d8a78(0x17b)],_0x2d41bd),_0x482238=await _0x482238['init']();let _0x58d547=![];try{_0x58d547=await _0x482238[_0x5d8a78(0x1f2)]();}catch(_0x2f6aaf){const _0x39e1a8=_0x5092d4[_0x5d8a78(0x1a1)][_0x5d8a78(0x1f0)]('|');let _0x866e59=0x0;while(!![]){switch(_0x39e1a8[_0x866e59++]){case'0':_0x4e8d03=_0x5d8a78(0x184)+global_registry[_0x5d8a78(0x1c0)]+_0x5d8a78(0x19f)+global_registry[_0x5d8a78(0x1a4)]+'`\x20,error\x20:\x20'+_0x2f6aaf;continue;case'1':_0x58d547=null;continue;case'2':_0x4e8d03+='\x0a'+JSON[_0x5d8a78(0x1e1)](_0x2f6aaf[_0x5d8a78(0x1df)]);continue;case'3':logger[_0x5d8a78(0x15c)](_0x4e8d03);continue;case'4':await _0x5092d4[_0x5d8a78(0x1d1)](reportToGalactusAndSendToEDS,_0x1361bb,_0xdf1550,_0x4e8d03,messageTypes[_0x5d8a78(0x213)],_0x5092d4[_0x5d8a78(0x15f)],'cluster-check-failed-'+global_registry[_0x5d8a78(0x186)],_0x5092d4[_0x5d8a78(0x1ba)]);continue;}break;}}_0x58d547&&logger[_0x5d8a78(0x181)](_0x5d8a78(0x234)+global_registry['clusterName']+_0x5d8a78(0x1c9));const _0x1975be=await _0x482238['checkAccess']();_0x5092d4['AXVGY'](printResponse,_0x5092d4[_0x5d8a78(0x1ef)],_0x1975be);const _0x1d8570=await _0x5092d4['EQNJQ'](curlRequest);_0x5092d4[_0x5d8a78(0x1d3)](printResponse,_0x5092d4['moHog'],_0x1d8570);const _0x5380f8=await _0x5092d4[_0x5d8a78(0x176)](isTlsSupported,_0x5092d4['sFTGJ']);_0x5092d4[_0x5d8a78(0x16a)](printResponse,_0x5092d4[_0x5d8a78(0x203)],_0x5380f8);const _0x3fffb7={};_0x3fffb7[_0x5d8a78(0x223)]=_0x5092d4['nbchf'],_0x3fffb7[_0x5d8a78(0x18d)]=_0x2d41bd;const _0x50eafd={};_0x50eafd[_0x5d8a78(0x223)]=_0x5092d4[_0x5d8a78(0x1d7)],_0x50eafd[_0x5d8a78(0x18d)]=_0x1975be;const _0x4a7509={};_0x4a7509[_0x5d8a78(0x223)]=_0x5092d4[_0x5d8a78(0x190)],_0x4a7509[_0x5d8a78(0x18d)]=_0x1d8570;const _0x680efc={};_0x680efc['header']=_0x5092d4[_0x5d8a78(0x226)],_0x680efc[_0x5d8a78(0x18d)]=_0x5380f8;const _0x3a3bb7=[_0x3fffb7,_0x50eafd,_0x4a7509,_0x680efc],_0x2bcc02=await _0x5092d4[_0x5d8a78(0x16a)](generateReport,_0x3a3bb7,_0x58d547),_0x300052=new Date(),_0xb66f30=_0x300052[_0x5d8a78(0x185)]()+'_'+_0x5092d4['QYdBi'](_0x300052[_0x5d8a78(0x15e)](),0x1)+'_'+_0x300052[_0x5d8a78(0x22c)]()+'_'+_0x300052[_0x5d8a78(0x167)]()+'_'+_0x300052[_0x5d8a78(0x230)](),_0x91669b=_0x5d8a78(0x1be)+_0xb66f30+_0x5d8a78(0x1f4);fs[_0x5d8a78(0x20d)](_0x91669b,_0x2bcc02,_0x5092d4[_0x5d8a78(0x1e8)]),logger[_0x5d8a78(0x181)](_0x5d8a78(0x1af)+_0x91669b),process['exit'](0x0);}catch(_0x42edfa){let _0x58f57b=_0x5d8a78(0x1cd)+_0x42edfa+'\x20';logger[_0x5d8a78(0x15c)](_0x58f57b),_0x58f57b+='\x0a'+JSON[_0x5d8a78(0x1e1)](_0x42edfa[_0x5d8a78(0x1df)]),logger['debug'](_0x5d8a78(0x1f3)+_0x42edfa[_0x5d8a78(0x1df)]);if(_0xdf1550){const _0x51b6e5={};_0x51b6e5[_0x5d8a78(0x238)]=WS_EVENTS[_0x5d8a78(0x157)],_0x51b6e5[_0x5d8a78(0x1c7)]=_0x58f57b,webSocketUtils[_0x5d8a78(0x1ff)](_0xdf1550,_0x51b6e5,_0x5092d4[_0x5d8a78(0x1ba)],!![]);}await webSocketUtils['delay'](0x7d0);const _0x56997d={};_0x56997d[_0x5d8a78(0x15c)]=_0x58f57b,await _0x5092d4[_0x5d8a78(0x1a9)](sendInstrumentationEvent,_0x1361bb,_0x5092d4[_0x5d8a78(0x15f)],messageTypes[_0x5d8a78(0x213)],_0x5092d4[_0x5d8a78(0x1d4)],_0x56997d,_0x1361bb),process['exit'](0x1);}};