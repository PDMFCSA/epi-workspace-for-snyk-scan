const a17_0x504e3b=a17_0x277f;function a17_0x277f(_0x19810c,_0x1ee17d){const _0x1f08f6=a17_0x1f08();return a17_0x277f=function(_0x277f61,_0x4dc587){_0x277f61=_0x277f61-0xb3;let _0x360a78=_0x1f08f6[_0x277f61];return _0x360a78;},a17_0x277f(_0x19810c,_0x1ee17d);}(function(_0x465ca3,_0x21d051){const _0x48d5ec=a17_0x277f,_0x57580b=_0x465ca3();while(!![]){try{const _0x21c901=parseInt(_0x48d5ec(0xec))/0x1+-parseInt(_0x48d5ec(0xf8))/0x2*(parseInt(_0x48d5ec(0xcb))/0x3)+-parseInt(_0x48d5ec(0xbe))/0x4*(parseInt(_0x48d5ec(0x1b1))/0x5)+parseInt(_0x48d5ec(0x184))/0x6*(-parseInt(_0x48d5ec(0x1a6))/0x7)+parseInt(_0x48d5ec(0x1bb))/0x8*(parseInt(_0x48d5ec(0x107))/0x9)+-parseInt(_0x48d5ec(0xdb))/0xa+parseInt(_0x48d5ec(0x131))/0xb;if(_0x21c901===_0x21d051)break;else _0x57580b['push'](_0x57580b['shift']());}catch(_0x59a8e9){_0x57580b['push'](_0x57580b['shift']());}}}(a17_0x1f08,0xcfa8d));const fs=require('fs'),ws=require('ws'),got=require(a17_0x504e3b(0x193)),{v4:uuidv4}=require(a17_0x504e3b(0x126)),ReconnectingWebSocket=require(a17_0x504e3b(0x1a3)),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require(a17_0x504e3b(0x12f)),{logger}=require(a17_0x504e3b(0x122)),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require(a17_0x504e3b(0x190)),{getCloudProviderObjectWithOutInit}=require(a17_0x504e3b(0xb6)),webSocketUtils=require(a17_0x504e3b(0x12c)),{sendInstrumentationEvent}=require('../../utils/instrumentationUtils');exports[a17_0x504e3b(0x148)]=a17_0x504e3b(0xd2),exports[a17_0x504e3b(0x129)]=a17_0x504e3b(0x136),exports[a17_0x504e3b(0x121)]=function(_0x43c406){const _0x58c538=a17_0x504e3b,_0x42810c={};_0x42810c[_0x58c538(0x10e)]=_0x58c538(0x10a),_0x42810c[_0x58c538(0xb7)]=_0x58c538(0x18e),_0x42810c[_0x58c538(0x11b)]=_0x58c538(0x143),_0x42810c[_0x58c538(0x14e)]=_0x58c538(0xb3),_0x42810c[_0x58c538(0x1ad)]=_0x58c538(0x110),_0x42810c[_0x58c538(0x16c)]=_0x58c538(0xc7);const _0x2da8e0=_0x42810c,_0x34ff93={};_0x34ff93['description']=_0x2da8e0[_0x58c538(0x10e)],_0x34ff93[_0x58c538(0x1a7)]=_0x2da8e0[_0x58c538(0xb7)];const _0x5b7aac={};_0x5b7aac[_0x58c538(0x127)]=_0x2da8e0[_0x58c538(0x11b)],_0x5b7aac[_0x58c538(0x1a7)]=_0x2da8e0[_0x58c538(0xb7)];const _0x194b64={};_0x194b64[_0x58c538(0x127)]=_0x2da8e0[_0x58c538(0x14e)],_0x194b64['type']=_0x2da8e0['NjjGZ'];const _0x3dd7af={};_0x3dd7af[_0x58c538(0x127)]=_0x2da8e0[_0x58c538(0x1ad)],_0x3dd7af[_0x58c538(0x1a7)]=_0x2da8e0[_0x58c538(0xb7)];const _0x306b70={};return _0x306b70[_0x58c538(0x1ae)]=_0x34ff93,_0x306b70['cloud-provider']=_0x5b7aac,_0x306b70['region']=_0x194b64,_0x306b70[_0x58c538(0x10f)]=_0x3dd7af,_0x43c406['usage'](HELP_HEADER_MESSAGE['pre_check'])[_0x58c538(0xc0)](HELP_FOOTER_MESSAGE)['options'](_0x306b70)['help'](_0x2da8e0[_0x58c538(0x16c)])['argv'];};async function inputValidation(_0x57afd8,_0xcce019){const _0x18c23b=a17_0x504e3b,_0x5dddee={'AOMGi':_0x18c23b(0x10a),'ZmDCN':_0x18c23b(0x18e),'qkpZv':_0x18c23b(0x143),'lpFVn':_0x18c23b(0xb3),'ImEok':_0x18c23b(0x110),'ecvQB':_0x18c23b(0xc7),'gSmhd':_0x18c23b(0xce),'cwKHl':_0x18c23b(0xe3),'nuYwu':'cloud-provider','eeMMw':_0x18c23b(0xff),'SGdHn':_0x18c23b(0x103),'qSlBl':_0x18c23b(0xbc),'AYmdp':_0x18c23b(0xde),'MdJiG':_0x18c23b(0x18b),'VsxMg':function(_0x2aac6d,_0x2e1333){return _0x2aac6d+_0x2e1333;},'wqeAs':_0x18c23b(0x10c),'iMPWH':_0x18c23b(0xe6),'WKPjZ':function(_0x48e7d0,_0x21398b){return _0x48e7d0||_0x21398b;},'VtoqK':'cluster-name','Nceao':function(_0x5658a5,_0x1e045d){return _0x5658a5===_0x1e045d;},'Tfttk':_0x18c23b(0x16e),'ykiAB':function(_0x4ec643,_0x5b5f2b){return _0x4ec643!==_0x5b5f2b;},'MzaIz':'upEAx','ctYGl':_0x18c23b(0x15c),'oUxIA':function(_0x175672,_0x2fb028){return _0x175672===_0x2fb028;},'NfRtJ':_0x18c23b(0x113),'BtVjp':function(_0x33e6e9,_0x12a7f1){return _0x33e6e9!==_0x12a7f1;},'lTzoN':_0x18c23b(0x1ba),'mPxxc':'ZnkeH','bUeIo':_0x18c23b(0x166),'yeOgJ':function(_0x254a49,_0x3d66b4){return _0x254a49>_0x3d66b4;},'HHjAS':_0x18c23b(0x19f),'TmzJR':_0x18c23b(0x104),'wgFhO':function(_0x2471c3,_0x3c2b87,_0x482749,_0x12e12a,_0x2dda55,_0x6e519c,_0x2dda18,_0x36432e){return _0x2471c3(_0x3c2b87,_0x482749,_0x12e12a,_0x2dda55,_0x6e519c,_0x2dda18,_0x36432e);},'jyZsM':_0x18c23b(0x15e),'rJJTQ':_0x18c23b(0x115),'IQwbp':_0x18c23b(0x171),'fzQxU':_0x18c23b(0x101),'erpXn':_0x18c23b(0x18d),'aovYh':function(_0x5c46c4,_0x381556,_0xc794f7,_0x45a3a3,_0x5c7a36,_0x376a06,_0x621e58,_0x5510de){return _0x5c46c4(_0x381556,_0xc794f7,_0x45a3a3,_0x5c7a36,_0x376a06,_0x621e58,_0x5510de);},'KgaPv':_0x18c23b(0xd9),'UWsro':_0x18c23b(0x1ab),'PvWTo':'xYeWZ','XIUHj':function(_0x5fc5a0,_0x52ab1a){return _0x5fc5a0===_0x52ab1a;},'tTyca':_0x18c23b(0xdc),'RfOaU':_0x18c23b(0xef),'rWbFj':_0x18c23b(0x10b),'DGTnH':function(_0x576d4a,_0x21d7a4,_0x465cb1){return _0x576d4a(_0x21d7a4,_0x465cb1);},'zdXYB':function(_0x948368,_0x3277e2,_0x1f6801,_0x2bd351,_0x56e61c,_0x51e221){return _0x948368(_0x3277e2,_0x1f6801,_0x2bd351,_0x56e61c,_0x51e221);},'ThKlb':'pre-check','NUFsI':_0x18c23b(0x10f),'ENfJH':function(_0x46e66a,_0x2495ee){return _0x46e66a===_0x2495ee;},'JZCZA':_0x18c23b(0x1b4),'FCxKr':'VNEgZ','DgEam':function(_0x524213,_0x25499a){return _0x524213(_0x25499a);},'eqYNd':function(_0x2acebc,_0x1ada38){return _0x2acebc===_0x1ada38;},'nVDDe':_0x18c23b(0x19d),'ZCuVT':_0x18c23b(0x179),'cxgUz':function(_0x2621f2,_0x57e6ed,_0x4e5077,_0x2f1cb7,_0x102fb8,_0x5f0060,_0x5adc92,_0x26c65d){return _0x2621f2(_0x57e6ed,_0x4e5077,_0x2f1cb7,_0x102fb8,_0x5f0060,_0x5adc92,_0x26c65d);},'yrwxW':_0x18c23b(0x13f),'pOCNV':function(_0x3edf0a,_0x2ac322){return _0x3edf0a===_0x2ac322;},'zGVGh':'OJiHz','UQBYV':function(_0x28424d,_0x500dac){return _0x28424d===_0x500dac;},'qjvEh':_0x18c23b(0x102),'EVPcA':_0x18c23b(0xca),'SgisX':function(_0x5ba8e5,_0x14df51){return _0x5ba8e5===_0x14df51;},'DEIBv':'kQDKx','VWuWR':_0x18c23b(0x11e),'TvItc':_0x18c23b(0x141)};let _0x248afd;try{if(_0x5dddee[_0x18c23b(0xdd)](_0x5dddee[_0x18c23b(0x15a)],_0x5dddee['Tfttk'])){if(_0x57afd8[_0x18c23b(0x105)]||_0x57afd8['cloudProvider']||_0x57afd8[_0x18c23b(0x103)]){if(_0x5dddee[_0x18c23b(0xe9)](_0x5dddee['MzaIz'],_0x5dddee['ctYGl'])){const _0x43c8c9=[];!_0x57afd8['clusterName']&&(_0x5dddee[_0x18c23b(0x16d)](_0x5dddee[_0x18c23b(0x169)],_0x5dddee[_0x18c23b(0x169)])?_0x43c8c9[_0x18c23b(0x118)](_0x5dddee[_0x18c23b(0xf0)]):_0x2ec3a5=_0x4e7837);;if(!_0x57afd8[_0x18c23b(0x16a)]){if(_0x5dddee[_0x18c23b(0x146)](_0x5dddee[_0x18c23b(0xb8)],_0x5dddee[_0x18c23b(0x162)]))_0x43c8c9['push'](_0x5dddee[_0x18c23b(0xb4)]);else{const _0xee6807={};_0xee6807[_0x18c23b(0x127)]=_0x5dddee[_0x18c23b(0x153)],_0xee6807['type']=_0x5dddee['ZmDCN'];const _0x4e6ee9={};_0x4e6ee9[_0x18c23b(0x127)]=_0x5dddee['qkpZv'],_0x4e6ee9[_0x18c23b(0x1a7)]=_0x5dddee['ZmDCN'];const _0x42bafc={};_0x42bafc[_0x18c23b(0x127)]=_0x5dddee[_0x18c23b(0x11f)],_0x42bafc[_0x18c23b(0x1a7)]=_0x5dddee[_0x18c23b(0x177)];const _0x5d6bd8={};_0x5d6bd8['description']=_0x5dddee[_0x18c23b(0x13a)],_0x5d6bd8['type']=_0x5dddee[_0x18c23b(0x177)];const _0x3cf3fb={};return _0x3cf3fb[_0x18c23b(0x1ae)]=_0xee6807,_0x3cf3fb[_0x18c23b(0x1bc)]=_0x4e6ee9,_0x3cf3fb['region']=_0x42bafc,_0x3cf3fb['grid-profile']=_0x5d6bd8,_0x3f7e80[_0x18c23b(0x123)](_0xe7277c[_0x18c23b(0x120)])[_0x18c23b(0xc0)](_0x513782)[_0x18c23b(0x142)](_0x3cf3fb)[_0x18c23b(0xc7)](_0x5dddee['ecvQB'])[_0x18c23b(0xd8)];}};!_0x57afd8['region']&&(_0x5dddee[_0x18c23b(0xe9)](_0x5dddee['bUeIo'],_0x5dddee[_0x18c23b(0xf3)])?(_0x3cfc8f+=_0x5dddee[_0x18c23b(0x167)],_0x3480a4+=_0x18c23b(0x181)+(_0x52ba8e[_0x18c23b(0x1b3)]||_0x5dddee[_0x18c23b(0x18a)])+'\x0a',_0x47ae44+='\x20\x20Code:\x20'+(_0x409f49[_0x18c23b(0x19a)]||_0x5dddee[_0x18c23b(0x18a)])+'\x0a',_0x49b5e1+=_0x18c23b(0x10d)+(_0x1ffc04['stack']||_0x5dddee['cwKHl'])+'\x0a'):_0x43c8c9[_0x18c23b(0x118)](_0x5dddee[_0x18c23b(0xee)]));;_0x5dddee[_0x18c23b(0x114)](_0x43c8c9['length'],0x0)&&(_0x5dddee[_0x18c23b(0xdd)](_0x5dddee[_0x18c23b(0x1a1)],_0x5dddee[_0x18c23b(0xd5)])?(_0x3cf911['info']('Setting\x20cloud\x20provider\x20as\x20'+_0x51820a[_0x18c23b(0xe7)]+'\x20'),_0x16b206[_0x18c23b(0x16a)]=_0x1a9987[_0x18c23b(0xe7)]):(_0x248afd=_0x18c23b(0xe0)+_0x43c8c9[_0x18c23b(0x16b)](',\x20')+'.\x20Please\x20provide\x20all\x20required\x20arguments.',await _0x5dddee['wgFhO'](reportToGalactusAndSendToEDS,_0x57afd8,_0xcce019,_0x248afd,messageTypes[_0x18c23b(0x13d)],_0x5dddee[_0x18c23b(0x17d)],_0x5dddee['rJJTQ'],_0x5dddee[_0x18c23b(0xcc)]),logger[_0x18c23b(0x18b)](_0x248afd),process[_0x18c23b(0x195)](0x1))),!ALL_SUPPORTED_CLOUD_PROVIDERS[_0x18c23b(0xbf)](_0x57afd8[_0x18c23b(0x16a)]['toLowerCase']())&&(_0x5dddee[_0x18c23b(0x146)](_0x5dddee['IQwbp'],_0x5dddee[_0x18c23b(0x158)])?(_0x248afd=_0x5dddee[_0x18c23b(0xf9)],await _0x5dddee[_0x18c23b(0x164)](reportToGalactusAndSendToEDS,_0x57afd8,_0xcce019,_0x248afd,messageTypes[_0x18c23b(0x13d)],_0x5dddee[_0x18c23b(0x17d)],_0x5dddee[_0x18c23b(0x106)],_0x5dddee[_0x18c23b(0xcc)]),logger[_0x18c23b(0x18b)](_0x248afd),!_0x57afd8[_0x18c23b(0x16a)]&&(_0x5dddee[_0x18c23b(0xe9)](_0x5dddee['UWsro'],_0x5dddee[_0x18c23b(0x1bd)])?(logger['info']('Setting\x20cloud\x20provider\x20as\x20'+DEFAULT_CLUSTER_DETAILS[_0x18c23b(0xe7)]+'\x20'),_0x57afd8[_0x18c23b(0x16a)]=DEFAULT_CLUSTER_DETAILS[_0x18c23b(0xe7)]):_0x42d913[_0x18c23b(0x118)](_0x5dddee[_0x18c23b(0xb4)]))):(_0xf24bd2[_0x18c23b(0x18b)](_0x5dddee[_0x18c23b(0x13e)]),_0x532b57[_0x18c23b(0x195)](0x1))),global_registry[_0x18c23b(0x105)]=_0x57afd8['clusterName'],global_registry[_0x18c23b(0x16a)]=_0x57afd8[_0x18c23b(0x16a)],global_registry[_0x18c23b(0x157)]=_0x57afd8[_0x18c23b(0x103)];}else _0x154cef[_0x18c23b(0x118)](_0x5dddee[_0x18c23b(0xee)]);}else{if(_0x57afd8[_0x18c23b(0xdf)]){if(_0x5dddee[_0x18c23b(0xc6)](_0x5dddee['tTyca'],_0x5dddee[_0x18c23b(0x17f)]))_0x54d025[_0x18c23b(0x14d)]('Cluster\x20`'+_0x3b0e3e[_0x18c23b(0x105)]+_0x18c23b(0x173));else{global_registry['gridProfile']=_0x57afd8[_0x18c23b(0xdf)],logger[_0x18c23b(0x137)](_0x18c23b(0x116)+_0x57afd8[_0x18c23b(0xdf)]);const _0x50e2d0=_0x18c23b(0xe1)+AG_API_URL+'/packages/cli/get-all-grid-profiles',_0x5c8fd3={};_0x5c8fd3[_0x18c23b(0x109)]=_0x5dddee[_0x18c23b(0xb9)],_0x5c8fd3['headers']=global_registry['authHeader'],_0x5c8fd3[_0x18c23b(0x161)]=![];const _0x535558=_0x5c8fd3,_0x396ba5=await _0x5dddee['DGTnH'](got,_0x50e2d0,_0x535558),_0x1a8883=await _0x5dddee[_0x18c23b(0xbd)](responseValidation,_0x396ba5,_0x5dddee[_0x18c23b(0x19e)],_0x5dddee[_0x18c23b(0xc3)],_0x57afd8,_0xcce019);let _0x104241={};if(_0x5dddee['ENfJH'](_0x1a8883,0xc8)){if(_0x5dddee[_0x18c23b(0x146)](_0x5dddee[_0x18c23b(0x14b)],_0x5dddee[_0x18c23b(0xba)])){const _0x206df9=JSON[_0x18c23b(0x138)](_0x396ba5['body']),_0x6ec06a=_0x206df9[_0x18c23b(0xd6)](_0x2ed34a=>_0x2ed34a[_0x18c23b(0xc4)]===_0x57afd8[_0x18c23b(0xdf)])||null;_0x5dddee[_0x18c23b(0x165)](isUndefined,_0x6ec06a)?_0x5dddee[_0x18c23b(0x180)](_0x5dddee['nVDDe'],_0x5dddee[_0x18c23b(0xf2)])?_0x55f229+='Cluster\x20'+_0x2d5a31[_0x18c23b(0x105)]+'\x20'+(_0x35e0da?_0x5dddee[_0x18c23b(0x152)]:_0x5dddee[_0x18c23b(0x1b8)])+'\x0a\x0a':(_0x248afd='Invalid\x20input.\x20grid\x20profiles:\x20'+_0x57afd8[_0x18c23b(0xdf)]+_0x18c23b(0x172),await _0x5dddee[_0x18c23b(0x175)](reportToGalactusAndSendToEDS,_0x57afd8,_0xcce019,_0x248afd,messageTypes[_0x18c23b(0x13d)],_0x5dddee[_0x18c23b(0x17d)],_0x5dddee['yrwxW'],_0x5dddee[_0x18c23b(0xcc)]),logger['error'](_0x248afd),process[_0x18c23b(0x195)](0x1)):_0x5dddee[_0x18c23b(0x128)](_0x5dddee[_0x18c23b(0x132)],_0x5dddee[_0x18c23b(0x132)])?_0x104241=_0x6ec06a:(_0x2bce60[_0x18c23b(0x14d)]('['+_0x5b0b08+']\x20status\x20:\x20'+_0x17b4b1[_0x18c23b(0x18c)]+_0x18c23b(0x1a5)+_0x281f21[_0x18c23b(0x139)]+_0x18c23b(0x194)+_0xd9090c[_0x18c23b(0x18b)]),_0x486cf8[_0x18c23b(0x18b)]&&_0x294658[_0x18c23b(0x18b)](_0x18c23b(0x192)+_0x3e5246[_0x18c23b(0x18b)][_0x18c23b(0x170)]));}else{const _0x58fcd2={};_0x58fcd2['type']=_0x59c3b8[_0x18c23b(0xfe)],_0x58fcd2[_0x18c23b(0x1b3)]=_0x2828dc,_0x4bc8a3[_0x18c23b(0x16f)](_0x259fc3,_0x58fcd2,_0x5dddee[_0x18c23b(0xcc)],!![]);}}else{if(_0x5dddee[_0x18c23b(0x117)](_0x5dddee[_0x18c23b(0x182)],_0x5dddee[_0x18c23b(0x182)]))process['exit'](0x1);else{const {header:_0x276890,response:_0xa121ad}=_0x29da26,{status:_0x428d55,data:_0x53ec64,error:_0x171faa}=_0xa121ad;_0x3c026b+=_0x276890+'\x20#'+_0x5dddee[_0x18c23b(0x174)](_0x5f4945,0x1)+'\x0a',_0x6c6629+=_0x18c23b(0xd7)+(_0x428d55?_0x5dddee[_0x18c23b(0x187)]:_0x5dddee[_0x18c23b(0xf6)])+'\x0a',_0x322593+=_0x18c23b(0x17e)+_0x5dddee[_0x18c23b(0xc1)](_0x53ec64,_0x5dddee[_0x18c23b(0x18a)])+'\x0a',_0x171faa&&(_0x3639c7+=_0x5dddee[_0x18c23b(0x167)],_0x41f888+='\x20\x20Message:\x20'+(_0x171faa['message']||_0x5dddee[_0x18c23b(0x18a)])+'\x0a',_0x3d9dbc+=_0x18c23b(0x18f)+(_0x171faa[_0x18c23b(0x19a)]||_0x5dddee['cwKHl'])+'\x0a',_0x484699+=_0x18c23b(0x10d)+(_0x171faa[_0x18c23b(0x170)]||_0x5dddee[_0x18c23b(0x18a)])+'\x0a'),_0x110fa1+='\x0a\x0a';}}const _0x20cd2a={};_0x20cd2a[_0x18c23b(0x1a7)]=WS_EVENTS[_0x18c23b(0xfe)],_0x20cd2a[_0x18c23b(0x1b3)]=_0x5dddee[_0x18c23b(0x144)],webSocketUtils[_0x18c23b(0x16f)](_0xcce019,_0x20cd2a),global_registry['cloudProvider']=_0x104241[_0x18c23b(0x16a)],global_registry['clusterRegion']=_0x104241[_0x18c23b(0x103)],global_registry[_0x18c23b(0x105)]=_0x104241[_0x18c23b(0x105)];}}else _0x5dddee[_0x18c23b(0x147)](_0x5dddee['DEIBv'],_0x5dddee[_0x18c23b(0x1ac)])?(logger[_0x18c23b(0x18b)](_0x5dddee[_0x18c23b(0x13e)]),process[_0x18c23b(0x195)](0x1)):_0x182051+=_0x18c23b(0x19b)+_0x42c658[_0x18c23b(0x105)]+'\x20details\x20cannot\x20be\x20fetched\x0a\x0a';}}else _0x1422ed[_0x18c23b(0x118)](_0x5dddee[_0x18c23b(0xf0)]);}catch(_0x42a0c1){_0x5dddee[_0x18c23b(0xe9)](_0x5dddee[_0x18c23b(0x1aa)],_0x5dddee[_0x18c23b(0xed)])?(_0x248afd=_0x18c23b(0x145)+_0x42a0c1+':\x20'+_0x42a0c1[_0x18c23b(0x170)],logger['error'](_0x248afd),await _0x5dddee[_0x18c23b(0x164)](reportToGalactusAndSendToEDS,_0x57afd8,_0xcce019,_0x248afd,messageTypes['ERROR'],_0x5dddee[_0x18c23b(0x17d)],_0x5dddee['KgaPv'],_0x5dddee['MdJiG']),process[_0x18c23b(0x195)](0x1)):_0x415108[_0x18c23b(0x18b)](_0x18c23b(0x192)+_0x25bbff['error'][_0x18c23b(0x170)]);}}function printResponse(_0x1135d0,_0x29d3c9){const _0x438cbc=a17_0x504e3b,_0xdd9c16={};_0xdd9c16[_0x438cbc(0x19c)]=function(_0x451cbc,_0x1db6a7){return _0x451cbc!==_0x1db6a7;},_0xdd9c16[_0x438cbc(0x11d)]=_0x438cbc(0x135),_0xdd9c16[_0x438cbc(0xfd)]=_0x438cbc(0x186);const _0x55c983=_0xdd9c16;logger[_0x438cbc(0x14d)]('['+_0x1135d0+_0x438cbc(0x189)+_0x29d3c9['status']+_0x438cbc(0x1a5)+_0x29d3c9[_0x438cbc(0x139)]+_0x438cbc(0x194)+_0x29d3c9[_0x438cbc(0x18b)]),_0x29d3c9[_0x438cbc(0x18b)]&&(_0x55c983[_0x438cbc(0x19c)](_0x55c983[_0x438cbc(0x11d)],_0x55c983[_0x438cbc(0xfd)])?logger[_0x438cbc(0x18b)]('error\x20stack\x20:\x20'+_0x29d3c9[_0x438cbc(0x18b)][_0x438cbc(0x170)]):_0x3b593c[_0x438cbc(0x195)](0x1));}async function generateReport(_0x4d9719,_0x18e826){const _0xe64ec2=a17_0x504e3b,_0x3420f0={'siWUt':function(_0x34969a,_0x2a3c68){return _0x34969a+_0x2a3c68;},'tzUnX':_0xe64ec2(0x10c),'HLEzs':_0xe64ec2(0xe6),'lmrui':function(_0x3b64f8,_0x73c7a4){return _0x3b64f8||_0x73c7a4;},'Tsyxr':_0xe64ec2(0xe3),'eFlkc':_0xe64ec2(0xce),'Izpvq':_0xe64ec2(0xe4),'KSkYD':function(_0x3f532e,_0x374e49){return _0x3f532e!=_0x374e49;},'otpvg':_0xe64ec2(0xbc),'xBVUu':_0xe64ec2(0xde),'gFIdZ':function(_0x73a17a){return _0x73a17a();}};let _0x17b967=_0xe64ec2(0x1b5)+global_registry['cloudProvider']+'\x20===\x0a\x0a';return _0x4d9719['forEach']((_0x333427,_0x186fdf)=>{const _0x13a5c2=_0xe64ec2,{header:_0x4b748a,response:_0x2db544}=_0x333427,{status:_0xf485bd,data:_0x4271ad,error:_0x3a1e98}=_0x2db544;_0x17b967+=_0x4b748a+'\x20#'+_0x3420f0[_0x13a5c2(0x150)](_0x186fdf,0x1)+'\x0a',_0x17b967+=_0x13a5c2(0xd7)+(_0xf485bd?_0x3420f0[_0x13a5c2(0x14a)]:_0x3420f0['HLEzs'])+'\x0a',_0x17b967+=_0x13a5c2(0x17e)+_0x3420f0[_0x13a5c2(0x176)](_0x4271ad,_0x3420f0[_0x13a5c2(0x112)])+'\x0a',_0x3a1e98&&(_0x17b967+=_0x3420f0[_0x13a5c2(0xbb)],_0x17b967+=_0x13a5c2(0x181)+(_0x3a1e98[_0x13a5c2(0x1b3)]||_0x3420f0[_0x13a5c2(0x112)])+'\x0a',_0x17b967+=_0x13a5c2(0x18f)+(_0x3a1e98[_0x13a5c2(0x19a)]||_0x3420f0[_0x13a5c2(0x112)])+'\x0a',_0x17b967+=_0x13a5c2(0x10d)+(_0x3a1e98[_0x13a5c2(0x170)]||_0x3420f0[_0x13a5c2(0x112)])+'\x0a'),_0x17b967+='\x0a\x0a';}),_0x17b967+=_0x3420f0[_0xe64ec2(0xd0)],_0x3420f0[_0xe64ec2(0x134)](_0x18e826,null)?_0x17b967+=_0xe64ec2(0x19b)+global_registry[_0xe64ec2(0x105)]+'\x20'+(_0x18e826?_0x3420f0[_0xe64ec2(0x1b9)]:_0x3420f0[_0xe64ec2(0xe2)])+'\x0a\x0a':_0x17b967+='Cluster\x20'+global_registry['clusterName']+_0xe64ec2(0xd3),_0x17b967+=_0x3420f0[_0xe64ec2(0x1a9)](getSystemMetaData),_0x17b967;}function a17_0x1f08(){const _0x2cb2b6=['ERROR','eeMMw','pre-check-grid-profile-empty','hYtKv','AlcVy','options','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','EVPcA','Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20','BtVjp','SgisX','command','\x20region\x20-\x20','tzUnX','JZCZA','mvpUl','info','namEW','isTls1_2_SUPPORTED','siWUt','connectionTimeout','qSlBl','AOMGi','gQQsd','split','password','clusterRegion','fzQxU','isTrialGridAccessible','Tfttk','delay','QCDwP','unable\x20to\x20verify\x20if\x20cluster\x20`','pre-check-grid-called','2|0|1|4|3','pyBiU','throwHttpErrors','mPxxc','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','aovYh','DgEam','xHVvx','gSmhd','uyYNU','NfRtJ','cloudProvider','join','xzfGU','oUxIA','DaTRg','sendEventToBackend','stack','OxmXv','.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again','`\x20already\x20exists','VsxMg','cxgUz','lmrui','ZmDCN','`\x20is\x20present\x20in\x20region\x20`','akCav','Cluster\x20`','CZnHQ','<UsernamePlaceholder>','jyZsM','Message:\x20','RfOaU','eqYNd','\x20\x20Message:\x20','qjvEh','tjZcP','4396242uMsSxN','init','FzXKm','wqeAs','RhQJL',']\x20status\x20:\x20','cwKHl','error','status','Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','string','\x20\x20Code:\x20','../../config/constants','Failed\x20in\x20pre-check!\x20Error:\x20','error\x20stack\x20:\x20','got','\x20error\x20:\x20','exit','username','getUTCHours','Pre-check\x20running\x20for\x20Cloud\x20-\x20','dTlPI','code','Cluster\x20','PCjFO','KetMv','ThKlb','iSdUz','checkAccess','HHjAS','JhaVt','reconnecting-websocket','header','\x20data\x20:\x20','14AGmNWI','type','getUTCMonth','gFIdZ','VWuWR','NBshj','DEIBv','BwsGC','cluster-name','cluster-check-failed-','TLSv1_2_client_method','7459715BddxuR','toolInstalledResp','message','twHit','===\x20Precheck\x20Report\x20-\x20','CaQSK','handler','AYmdp','otpvg','pjOwO','272hkPrNf','cloud-provider','PvWTo','<PasswordPlaceholder>','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','nuYwu','pre-check-failed','../../cloudproviders/utils','NjjGZ','lTzoN','rWbFj','FCxKr','eFlkc','is\x20already\x20present','zdXYB','4gdvomN','includes','epilogue','WKPjZ','Browserstack','NUFsI','name','WebSocket','XIUHj','help','log/report_','Report\x20saved\x20in\x20','Grid\x20profile\x20fetched\x20for\x20pre-check','923862oOZgXM','MdJiG','mEmGN','Error\x20Details:\x0a','existsSync','Izpvq','accessResp','grid','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','XodIp','TmzJR','find','Status:\x20','argv','cloud-provider-not-supported','pONuB','196260SvzICe','IQujv','Nceao','will\x20be\x20created','gridProfile','Missing\x20required\x20arguments:\x20','https://','xBVUu','N/A','Cluster\x20details\x0a-----------------------\x0a','Glbfe','Failure','CLOUD_PROVIDER','requestId','ykiAB','zjmmL','Tool\x20Installed','1314931lqmmiV','TvItc','SGdHn','vDggD','VtoqK','readFileSync','ZCuVT','bUeIo','replace','Trvuw','iMPWH','INFO','10OlcNgq','erpXn','RLdUn','bstackAccesskey','stack\x20trace\x20','EsESC','LOG','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','Whitelisted\x20browserstack','pSIvS','wsIXn','region','jjwOd','clusterName','KgaPv','147681RtwRBJ','bstackUsername','method','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','GET','Success','\x20\x20Stack:\x20','BoyLz','grid-profile','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','authHeader','Tsyxr','rPkhL','yeOgJ','pre-check-cluster-args-not-passed','grid\x20profile\x20flow\x20','UQBYV','push','isClusterPresent','getUTCFullYear','gpOap','isCliToolInstalled','FqAZo','mzTIm','lpFVn','pre_check','builder','../../config/logger','usage','GuPpI','ohPxF','uuid','description','pOCNV','desc','response','getUTCDate','../../utils/webSocketUtils','aNeUg','SSL\x20Configured','../../utils/utilityMethods','User\x20Access','38439379sBRtgC','zGVGh','BZnlV','KSkYD','Qgdph','Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup','debug','parse','data','ImEok','.txt','LgsYW'];a17_0x1f08=function(){return _0x2cb2b6;};return a17_0x1f08();};exports[a17_0x504e3b(0x1b7)]=async function(_0x1778bd){const _0xf217f8=a17_0x504e3b,_0x4b7cf2={'Hmuvs':function(_0x4811c5){return _0x4811c5();},'pONuB':function(_0x4d4aaf){return _0x4d4aaf();},'RLdUn':_0xf217f8(0x163),'LTNzr':function(_0x31694f,_0x5c2889,_0x45f281,_0x35c8da,_0x4143e4,_0x51e404,_0x4fffca,_0x5d59f9){return _0x31694f(_0x5c2889,_0x45f281,_0x35c8da,_0x4143e4,_0x51e404,_0x4fffca,_0x5d59f9);},'mvpUl':_0xf217f8(0x15e),'RhQJL':'credential-not-found','gQQsd':_0xf217f8(0x18b),'zjmmL':function(_0x44614b,_0x1401e9,_0x41597a,_0x5cc7f6,_0x1196fb,_0x438841,_0x45c06f){return _0x44614b(_0x1401e9,_0x41597a,_0x5cc7f6,_0x1196fb,_0x438841,_0x45c06f);},'hYtKv':function(_0x468905){return _0x468905();},'ohPxF':_0xf217f8(0x17c),'Mlitr':_0xf217f8(0x1be),'aNeUg':function(_0x261e8e,_0x4031da,_0x200f9b){return _0x261e8e(_0x4031da,_0x200f9b);},'pyBiU':function(_0x5a8a81,_0x1cbc8e,_0x4b0673,_0x4b1fcc,_0x115764,_0x260003,_0x582b33){return _0x5a8a81(_0x1cbc8e,_0x4b0673,_0x4b1fcc,_0x115764,_0x260003,_0x582b33);},'Trvuw':'dummy-grid','ciTjT':_0xf217f8(0x1b2),'tjZcP':_0xf217f8(0x15f),'CZnHQ':function(_0x14c135,_0x47da6e,_0x16002d){return _0x14c135(_0x47da6e,_0x16002d);},'CaQSK':_0xf217f8(0xd1),'JhaVt':function(_0x123b44,_0x3bb000,_0x5064c6){return _0x123b44(_0x3bb000,_0x5064c6);},'znzuW':_0xf217f8(0x159),'dTlPI':function(_0x59bb9c,_0x2fa5c9){return _0x59bb9c(_0x2fa5c9);},'uyYNU':_0xf217f8(0x1b0),'LgsYW':_0xf217f8(0x14f),'mEmGN':_0xf217f8(0xeb),'JXQPA':_0xf217f8(0x130),'bghup':_0xf217f8(0x100),'SaCzQ':_0xf217f8(0x12e),'XodIp':function(_0x455a9c,_0x10834e,_0x2a5f26){return _0x455a9c(_0x10834e,_0x2a5f26);},'Glbfe':function(_0x5a0a95,_0x328743){return _0x5a0a95+_0x328743;},'Tydge':'utf-8','BZnlV':function(_0x592d98,_0x2213d5,_0x4caafd,_0x1e03d3,_0x51c62e,_0x30f598,_0x2aa082){return _0x592d98(_0x2213d5,_0x4caafd,_0x1e03d3,_0x51c62e,_0x30f598,_0x2aa082);},'GuPpI':_0xf217f8(0xb5)};let _0x11a16d,_0xa789f5;try{global_registry[_0xf217f8(0xe8)]=_0x4b7cf2['Hmuvs'](uuidv4);!fs[_0xf217f8(0xcf)](_0x4b7cf2[_0xf217f8(0xda)](getCredentialsPath))&&(_0xa789f5=_0x4b7cf2[_0xf217f8(0xfa)],logger['error'](_0xa789f5),await _0x4b7cf2['LTNzr'](reportToGalactusAndSendToEDS,_0x1778bd,_0x11a16d,_0xa789f5,messageTypes[_0xf217f8(0x13d)],_0x4b7cf2[_0xf217f8(0x14c)],_0x4b7cf2[_0xf217f8(0x188)],_0x4b7cf2['gQQsd']),process[_0xf217f8(0x195)](0x1));_0x4b7cf2[_0xf217f8(0xea)](sendInstrumentationEvent,_0x1778bd,_0x4b7cf2['mvpUl'],messageTypes[_0xf217f8(0xf7)],null,null,_0x1778bd);const _0x5005ab=JSON[_0xf217f8(0x138)](fs[_0xf217f8(0xf1)](_0x4b7cf2[_0xf217f8(0x140)](getCredentialsPath)));global_registry[_0xf217f8(0x108)]=_0x5005ab['Browserstack']['username'],global_registry[_0xf217f8(0xfb)]=_0x5005ab[_0xf217f8(0xc2)]['password'];const _0x4572f1=WS_ENDPOINT[_0xf217f8(0xf4)](_0x4b7cf2[_0xf217f8(0x125)],_0x5005ab[_0xf217f8(0xc2)][_0xf217f8(0x196)])['replace'](_0x4b7cf2['Mlitr'],_0x5005ab[_0xf217f8(0xc2)][_0xf217f8(0x156)]),_0x3a07bb={};_0x3a07bb[_0xf217f8(0xc5)]=ws,_0x3a07bb[_0xf217f8(0x151)]=0x36ee80,_0x11a16d=new ReconnectingWebSocket(_0x4572f1,[],_0x3a07bb),global_registry[_0xf217f8(0x111)]=_0x4b7cf2[_0xf217f8(0x12d)](getAuthHeader,global_registry[_0xf217f8(0x108)],global_registry[_0xf217f8(0xfb)]),await _0x4b7cf2[_0xf217f8(0x12d)](inputValidation,_0x1778bd,_0x11a16d),logger[_0xf217f8(0x14d)](_0xf217f8(0x198)+global_registry[_0xf217f8(0x16a)]+_0xf217f8(0x149)+global_registry[_0xf217f8(0x157)]);let _0x5f0e13=await _0x4b7cf2[_0xf217f8(0x160)](getCloudProviderObjectWithOutInit,global_registry[_0xf217f8(0x16a)],global_registry[_0xf217f8(0x105)],_0x4b7cf2[_0xf217f8(0xf5)],_0x11a16d,webSocketUtils,_0x1778bd);const _0x6bf230=await _0x5f0e13[_0xf217f8(0x11c)]();_0x4b7cf2[_0xf217f8(0x12d)](printResponse,_0x4b7cf2['ciTjT'],_0x6bf230),_0x5f0e13=await _0x5f0e13[_0xf217f8(0x185)]();let _0x3c346d=![];try{_0x3c346d=await _0x5f0e13[_0xf217f8(0x119)]();}catch(_0x5adeb4){const _0x10c1b7=_0x4b7cf2[_0xf217f8(0x183)][_0xf217f8(0x155)]('|');let _0x5374b6=0x0;while(!![]){switch(_0x10c1b7[_0x5374b6++]){case'0':_0x3c346d=null;continue;case'1':logger[_0xf217f8(0x18b)](_0xa789f5);continue;case'2':_0xa789f5=_0xf217f8(0x15d)+global_registry[_0xf217f8(0x105)]+_0xf217f8(0x178)+global_registry[_0xf217f8(0x157)]+'`\x20,error\x20:\x20'+_0x5adeb4;continue;case'3':await _0x4b7cf2['LTNzr'](reportToGalactusAndSendToEDS,_0x1778bd,_0x11a16d,_0xa789f5,messageTypes[_0xf217f8(0x13d)],_0x4b7cf2[_0xf217f8(0x14c)],_0xf217f8(0x1af)+global_registry[_0xf217f8(0x16a)],_0x4b7cf2[_0xf217f8(0x154)]);continue;case'4':_0xa789f5+='\x0a'+JSON['stringify'](_0x5adeb4[_0xf217f8(0x170)]);continue;}break;}}_0x3c346d&&logger[_0xf217f8(0x14d)](_0xf217f8(0x17a)+global_registry[_0xf217f8(0x105)]+'`\x20already\x20exists');const _0x35a4a7=await _0x5f0e13[_0xf217f8(0x1a0)]();_0x4b7cf2[_0xf217f8(0x17b)](printResponse,_0x4b7cf2[_0xf217f8(0x1b6)],_0x35a4a7);const _0x1f7aad=await _0x4b7cf2[_0xf217f8(0x140)](curlRequest);_0x4b7cf2[_0xf217f8(0x1a2)](printResponse,_0x4b7cf2['znzuW'],_0x1f7aad);const _0x2dc92e=await _0x4b7cf2[_0xf217f8(0x199)](isTlsSupported,_0x4b7cf2[_0xf217f8(0x168)]);_0x4b7cf2['aNeUg'](printResponse,_0x4b7cf2[_0xf217f8(0x13c)],_0x2dc92e);const _0x1f34cd={};_0x1f34cd[_0xf217f8(0x1a4)]=_0x4b7cf2[_0xf217f8(0xcd)],_0x1f34cd[_0xf217f8(0x12a)]=_0x6bf230;const _0x15784e={};_0x15784e['header']=_0x4b7cf2['JXQPA'],_0x15784e[_0xf217f8(0x12a)]=_0x35a4a7;const _0x255e66={};_0x255e66[_0xf217f8(0x1a4)]=_0x4b7cf2['bghup'],_0x255e66[_0xf217f8(0x12a)]=_0x1f7aad;const _0x42dd90={};_0x42dd90[_0xf217f8(0x1a4)]=_0x4b7cf2['SaCzQ'],_0x42dd90[_0xf217f8(0x12a)]=_0x2dc92e;const _0x15280d=[_0x1f34cd,_0x15784e,_0x255e66,_0x42dd90],_0x4f2ba6=await _0x4b7cf2[_0xf217f8(0xd4)](generateReport,_0x15280d,_0x3c346d),_0x11fd03=new Date(),_0x147d77=_0x11fd03[_0xf217f8(0x11a)]()+'_'+_0x4b7cf2[_0xf217f8(0xe5)](_0x11fd03[_0xf217f8(0x1a8)](),0x1)+'_'+_0x11fd03[_0xf217f8(0x12b)]()+'_'+_0x11fd03[_0xf217f8(0x197)]()+'_'+_0x11fd03['getUTCMinutes'](),_0x3fec41=_0xf217f8(0xc8)+_0x147d77+_0xf217f8(0x13b);fs['writeFileSync'](_0x3fec41,_0x4f2ba6,_0x4b7cf2['Tydge']),logger[_0xf217f8(0x14d)](_0xf217f8(0xc9)+_0x3fec41),process['exit'](0x0);}catch(_0xfcb228){let _0x1c95a5=_0xf217f8(0x191)+_0xfcb228+'\x20';logger[_0xf217f8(0x18b)](_0x1c95a5),_0x1c95a5+='\x0a'+JSON['stringify'](_0xfcb228[_0xf217f8(0x170)]),logger[_0xf217f8(0x137)](_0xf217f8(0xfc)+_0xfcb228[_0xf217f8(0x170)]);if(_0x11a16d){const _0x512be2={};_0x512be2[_0xf217f8(0x1a7)]=WS_EVENTS[_0xf217f8(0xfe)],_0x512be2[_0xf217f8(0x1b3)]=_0x1c95a5,webSocketUtils['sendEventToBackend'](_0x11a16d,_0x512be2,_0x4b7cf2[_0xf217f8(0x154)],!![]);}await webSocketUtils[_0xf217f8(0x15b)](0x7d0);const _0x331244={};_0x331244[_0xf217f8(0x18b)]=_0x1c95a5,await _0x4b7cf2[_0xf217f8(0x133)](sendInstrumentationEvent,_0x1778bd,_0x4b7cf2[_0xf217f8(0x14c)],messageTypes[_0xf217f8(0x13d)],_0x4b7cf2[_0xf217f8(0x124)],_0x331244,_0x1778bd),process[_0xf217f8(0x195)](0x1);}};