const a17_0x49f2ea=a17_0x5483;(function(_0x230235,_0x270c1e){const _0x2aa32a=a17_0x5483,_0x54a403=_0x230235();while(!![]){try{const _0xc76012=-parseInt(_0x2aa32a(0x1fa))/0x1*(parseInt(_0x2aa32a(0x275))/0x2)+parseInt(_0x2aa32a(0x22c))/0x3*(-parseInt(_0x2aa32a(0x2ab))/0x4)+-parseInt(_0x2aa32a(0x26e))/0x5*(-parseInt(_0x2aa32a(0x25d))/0x6)+parseInt(_0x2aa32a(0x1ed))/0x7*(-parseInt(_0x2aa32a(0x22b))/0x8)+parseInt(_0x2aa32a(0x2b9))/0x9*(-parseInt(_0x2aa32a(0x2cb))/0xa)+parseInt(_0x2aa32a(0x1e4))/0xb+parseInt(_0x2aa32a(0x1e0))/0xc;if(_0xc76012===_0x270c1e)break;else _0x54a403['push'](_0x54a403['shift']());}catch(_0x25509e){_0x54a403['push'](_0x54a403['shift']());}}}(a17_0xeb77,0x1a7c9));const fs=require('fs'),ws=require('ws'),got=require(a17_0x49f2ea(0x2c5)),{v4:uuidv4}=require(a17_0x49f2ea(0x271)),ReconnectingWebSocket=require(a17_0x49f2ea(0x2cd)),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require(a17_0x49f2ea(0x29c)),{logger}=require(a17_0x49f2ea(0x243)),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require(a17_0x49f2ea(0x21e)),{getCloudProviderObjectWithOutInit}=require(a17_0x49f2ea(0x2c4)),webSocketUtils=require(a17_0x49f2ea(0x25c)),{sendInstrumentationEvent}=require(a17_0x49f2ea(0x2d3));exports[a17_0x49f2ea(0x237)]=a17_0x49f2ea(0x213),exports['desc']=a17_0x49f2ea(0x244),exports[a17_0x49f2ea(0x232)]=function(_0x378695){const _0x57e908=a17_0x49f2ea,_0x116635={};_0x116635[_0x57e908(0x287)]=_0x57e908(0x248),_0x116635[_0x57e908(0x2d1)]='string',_0x116635[_0x57e908(0x22a)]='Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.',_0x116635['BDqQC']=_0x57e908(0x253),_0x116635['VbLQq']=_0x57e908(0x1f3),_0x116635[_0x57e908(0x1f9)]=_0x57e908(0x296);const _0x16deca=_0x116635,_0x886235={};_0x886235[_0x57e908(0x29b)]=_0x16deca[_0x57e908(0x287)],_0x886235['type']=_0x16deca[_0x57e908(0x2d1)];const _0x24acec={};_0x24acec[_0x57e908(0x29b)]=_0x16deca[_0x57e908(0x22a)],_0x24acec[_0x57e908(0x1f2)]=_0x16deca[_0x57e908(0x2d1)];const _0x4c3cd1={};_0x4c3cd1[_0x57e908(0x29b)]=_0x16deca[_0x57e908(0x25f)],_0x4c3cd1[_0x57e908(0x1f2)]=_0x16deca['jEBPw'];const _0x477c1c={};_0x477c1c[_0x57e908(0x29b)]=_0x16deca['VbLQq'],_0x477c1c[_0x57e908(0x1f2)]=_0x16deca[_0x57e908(0x2d1)];const _0x3bffc5={};return _0x3bffc5[_0x57e908(0x228)]=_0x886235,_0x3bffc5[_0x57e908(0x1f6)]=_0x24acec,_0x3bffc5[_0x57e908(0x28d)]=_0x4c3cd1,_0x3bffc5[_0x57e908(0x276)]=_0x477c1c,_0x378695[_0x57e908(0x22f)](HELP_HEADER_MESSAGE[_0x57e908(0x1df)])[_0x57e908(0x217)](HELP_FOOTER_MESSAGE)[_0x57e908(0x2b6)](_0x3bffc5)['help'](_0x16deca['oalGX'])[_0x57e908(0x1f0)];};async function inputValidation(_0x1d260b,_0x23d439){const _0x2591b7=a17_0x49f2ea,_0x45fb09={'DOCwQ':_0x2591b7(0x1e2),'Nimpc':_0x2591b7(0x259),'FTgkw':_0x2591b7(0x2a4),'IpfHb':'will\x20be\x20created','LQNwW':_0x2591b7(0x228),'tgqrb':_0x2591b7(0x28d),'EUlWG':'Error\x20Details:\x0a','GuXEu':_0x2591b7(0x200),'cWSzK':'Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','YHBsp':_0x2591b7(0x229),'cWcHr':_0x2591b7(0x247),'oFRty':_0x2591b7(0x253),'NLUaN':'Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','gDpkT':_0x2591b7(0x296),'DjJNi':_0x2591b7(0x1f6),'EfhzD':function(_0xc94b6,_0x2649f4){return _0xc94b6+_0x2649f4;},'XKeTo':_0x2591b7(0x28e),'ZYjHb':_0x2591b7(0x25a),'kzwvA':function(_0x4eb643,_0x37e569){return _0x4eb643||_0x37e569;},'MJIWh':function(_0x122027,_0x2f84ab){return _0x122027===_0x2f84ab;},'wEwTD':_0x2591b7(0x260),'tHXEc':'EwWJt','ksDMx':function(_0x3f46ef,_0x7e0b7f){return _0x3f46ef===_0x7e0b7f;},'YFeFK':_0x2591b7(0x1ef),'yfFkI':_0x2591b7(0x295),'eRFdu':'RzkQD','BAMOU':function(_0x59d0a1,_0x12350a){return _0x59d0a1!==_0x12350a;},'gjdSR':_0x2591b7(0x1fe),'CuoXI':function(_0x49d811,_0x4611eb){return _0x49d811===_0x4611eb;},'UGDSh':_0x2591b7(0x273),'VtzAK':function(_0x395d31,_0x584e73){return _0x395d31>_0x584e73;},'idjyd':function(_0x1e5a65,_0x3b3560){return _0x1e5a65!==_0x3b3560;},'rgLHq':_0x2591b7(0x245),'EDPRC':function(_0x1aeb2a,_0x479892,_0xab927d,_0x5d8477,_0x22b583,_0x5b6f7d,_0x3089b5,_0x455fc1){return _0x1aeb2a(_0x479892,_0xab927d,_0x5d8477,_0x22b583,_0x5b6f7d,_0x3089b5,_0x455fc1);},'NTzvk':'pre-check-grid-called','OjiQt':_0x2591b7(0x2c8),'mBIwC':function(_0x32d642,_0x34614f){return _0x32d642===_0x34614f;},'IYjrX':'MtykY','pdZXt':'Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','MrOta':function(_0x11ec9b,_0x52b18c,_0x2269fd,_0x3720ed,_0x12a6d3,_0x17db43,_0x264520,_0x45f5f8){return _0x11ec9b(_0x52b18c,_0x2269fd,_0x3720ed,_0x12a6d3,_0x17db43,_0x264520,_0x45f5f8);},'fSpxp':_0x2591b7(0x265),'ivpdo':_0x2591b7(0x269),'eqRoU':function(_0x2de8ad,_0x584405){return _0x2de8ad===_0x584405;},'NtHLs':_0x2591b7(0x2d6),'vyTWP':'GET','JGAVz':function(_0x20b0b0,_0x139018,_0x45d14e){return _0x20b0b0(_0x139018,_0x45d14e);},'KPZZx':function(_0x12c904,_0x2d74f9,_0x1b343b,_0x224214,_0x2bfd05,_0x367c4e){return _0x12c904(_0x2d74f9,_0x1b343b,_0x224214,_0x2bfd05,_0x367c4e);},'rXxjd':_0x2591b7(0x21b),'pyTGb':'grid-profile','dewWL':_0x2591b7(0x26a),'dCgmd':_0x2591b7(0x209),'vVilG':function(_0x1b1338,_0x882772){return _0x1b1338(_0x882772);},'UKikU':_0x2591b7(0x29e),'fYBiD':'pre-check-grid-profile-empty','iCqdU':function(_0x5e4770,_0x3c5e25){return _0x5e4770!==_0x3c5e25;},'slTMI':_0x2591b7(0x24f),'behSf':_0x2591b7(0x264),'WWEQy':_0x2591b7(0x290),'yUrdh':_0x2591b7(0x219),'QlbnA':'hitYE','ejNlG':function(_0x5acf1b,_0x4febef){return _0x5acf1b!==_0x4febef;},'ibnMe':'QEWVR','GcKgr':_0x2591b7(0x206)};let _0x7dc24f;try{if(_0x45fb09[_0x2591b7(0x22d)](_0x45fb09['wEwTD'],_0x45fb09[_0x2591b7(0x2ae)])){const _0x2015b3={};_0x2015b3['type']=_0x14ab5d[_0x2591b7(0x26b)],_0x2015b3[_0x2591b7(0x249)]=_0x2af2fd,_0x1fd0ff['sendEventToBackend'](_0x5952fa,_0x2015b3,_0x45fb09[_0x2591b7(0x1f4)],!![]);}else{if(_0x1d260b[_0x2591b7(0x23c)]||_0x1d260b[_0x2591b7(0x2c9)]||_0x1d260b[_0x2591b7(0x28d)]){if(_0x45fb09[_0x2591b7(0x2d8)](_0x45fb09[_0x2591b7(0x24d)],_0x45fb09[_0x2591b7(0x222)]))_0x318c4c[_0x2591b7(0x1e2)](_0x45fb09[_0x2591b7(0x262)]),_0x29dc3d[_0x2591b7(0x224)](0x1);else{const _0x35d54b=[];!_0x1d260b[_0x2591b7(0x23c)]&&(_0x45fb09[_0x2591b7(0x2d8)](_0x45fb09[_0x2591b7(0x205)],_0x45fb09['eRFdu'])?_0x35d54b[_0x2591b7(0x2ad)](_0x45fb09[_0x2591b7(0x24c)]):_0x307141+=_0x2591b7(0x246)+_0x42d948[_0x2591b7(0x23c)]+'\x20'+(_0x40fb29?_0x45fb09[_0x2591b7(0x2a3)]:_0x45fb09['IpfHb'])+'\x0a\x0a');;!_0x1d260b[_0x2591b7(0x2c9)]&&(_0x45fb09[_0x2591b7(0x284)](_0x45fb09[_0x2591b7(0x204)],_0x45fb09[_0x2591b7(0x204)])?(_0x18a385[_0x2591b7(0x288)]('['+_0x4c84c2+_0x2591b7(0x2a5)+_0x30fb56[_0x2591b7(0x226)]+_0x2591b7(0x23b)+_0x1ef57c[_0x2591b7(0x24e)]+_0x2591b7(0x239)+_0x43b9ed[_0x2591b7(0x1e2)]),_0x4aba20['error']&&_0x3991dd[_0x2591b7(0x1e2)](_0x2591b7(0x1f7)+_0x54b63b['error'][_0x2591b7(0x241)])):_0x35d54b[_0x2591b7(0x2ad)](_0x45fb09[_0x2591b7(0x1de)]));;!_0x1d260b['region']&&(_0x45fb09[_0x2591b7(0x230)](_0x45fb09['UGDSh'],_0x45fb09[_0x2591b7(0x2b8)])?_0x35d54b[_0x2591b7(0x2ad)](_0x45fb09[_0x2591b7(0x1eb)]):_0x3a1055[_0x2591b7(0x2ad)](_0x45fb09[_0x2591b7(0x24c)]));;_0x45fb09[_0x2591b7(0x2be)](_0x35d54b[_0x2591b7(0x251)],0x0)&&(_0x45fb09[_0x2591b7(0x283)](_0x45fb09[_0x2591b7(0x26d)],_0x45fb09[_0x2591b7(0x26d)])?_0x443a0b[_0x2591b7(0x2ad)](_0x45fb09['tgqrb']):(_0x7dc24f=_0x2591b7(0x281)+_0x35d54b[_0x2591b7(0x203)](',\x20')+'.\x20Please\x20provide\x20all\x20required\x20arguments.',await _0x45fb09[_0x2591b7(0x236)](reportToGalactusAndSendToEDS,_0x1d260b,_0x23d439,_0x7dc24f,messageTypes['ERROR'],_0x45fb09[_0x2591b7(0x21d)],_0x45fb09[_0x2591b7(0x23d)],_0x45fb09[_0x2591b7(0x1f4)]),logger[_0x2591b7(0x1e2)](_0x7dc24f),process['exit'](0x1))),!ALL_SUPPORTED_CLOUD_PROVIDERS[_0x2591b7(0x285)](_0x1d260b['cloudProvider'][_0x2591b7(0x1f5)]())&&(_0x45fb09[_0x2591b7(0x208)](_0x45fb09['IYjrX'],_0x45fb09['IYjrX'])?(_0x7dc24f=_0x45fb09['pdZXt'],await _0x45fb09[_0x2591b7(0x211)](reportToGalactusAndSendToEDS,_0x1d260b,_0x23d439,_0x7dc24f,messageTypes['ERROR'],_0x45fb09[_0x2591b7(0x21d)],_0x45fb09[_0x2591b7(0x21f)],_0x45fb09[_0x2591b7(0x1f4)]),logger[_0x2591b7(0x1e2)](_0x7dc24f),!_0x1d260b[_0x2591b7(0x2c9)]&&(_0x45fb09[_0x2591b7(0x208)](_0x45fb09[_0x2591b7(0x2bb)],_0x45fb09['ivpdo'])?(logger[_0x2591b7(0x288)](_0x2591b7(0x2d7)+DEFAULT_CLUSTER_DETAILS[_0x2591b7(0x279)]+'\x20'),_0x1d260b[_0x2591b7(0x2c9)]=DEFAULT_CLUSTER_DETAILS['CLOUD_PROVIDER']):_0x5cd51f[_0x2591b7(0x1e2)](_0x2591b7(0x1f7)+_0x2ba36f[_0x2591b7(0x1e2)][_0x2591b7(0x241)]))):_0x14ddec['info']('Cluster\x20`'+_0x5cd7cd[_0x2591b7(0x23c)]+_0x2591b7(0x293))),global_registry[_0x2591b7(0x23c)]=_0x1d260b['clusterName'],global_registry[_0x2591b7(0x2c9)]=_0x1d260b[_0x2591b7(0x2c9)],global_registry[_0x2591b7(0x2bc)]=_0x1d260b[_0x2591b7(0x28d)];}}else{if(_0x1d260b[_0x2591b7(0x2b2)]){if(_0x45fb09[_0x2591b7(0x1fd)](_0x45fb09['NtHLs'],_0x45fb09['NtHLs'])){global_registry[_0x2591b7(0x2b2)]=_0x1d260b[_0x2591b7(0x2b2)],logger['debug'](_0x2591b7(0x1e6)+_0x1d260b[_0x2591b7(0x2b2)]);const _0x1da64f=_0x2591b7(0x28c)+AG_API_URL+_0x2591b7(0x29a),_0x4bafa2={};_0x4bafa2[_0x2591b7(0x2a7)]=_0x45fb09[_0x2591b7(0x2d2)],_0x4bafa2[_0x2591b7(0x267)]=global_registry[_0x2591b7(0x250)],_0x4bafa2['throwHttpErrors']=![];const _0x159ddf=_0x4bafa2,_0x211509=await _0x45fb09[_0x2591b7(0x1fc)](got,_0x1da64f,_0x159ddf),_0x43dfd2=await _0x45fb09[_0x2591b7(0x2cc)](responseValidation,_0x211509,_0x45fb09[_0x2591b7(0x22e)],_0x45fb09[_0x2591b7(0x216)],_0x1d260b,_0x23d439);let _0x4c9187={};if(_0x45fb09['CuoXI'](_0x43dfd2,0xc8)){if(_0x45fb09['idjyd'](_0x45fb09[_0x2591b7(0x266)],_0x45fb09['dCgmd'])){const _0x298604=JSON[_0x2591b7(0x1ff)](_0x211509[_0x2591b7(0x2af)]),_0x343599=_0x298604[_0x2591b7(0x242)](_0x558d80=>_0x558d80[_0x2591b7(0x20e)]===_0x1d260b[_0x2591b7(0x2b2)])||null;if(_0x45fb09[_0x2591b7(0x1ee)](isUndefined,_0x343599))_0x45fb09['BAMOU'](_0x45fb09[_0x2591b7(0x26f)],_0x45fb09['UKikU'])?(_0x67cf1f+=_0x45fb09[_0x2591b7(0x23a)],_0x795aa7+=_0x2591b7(0x2b7)+(_0x10e8c9[_0x2591b7(0x249)]||_0x45fb09['GuXEu'])+'\x0a',_0x1102d5+=_0x2591b7(0x270)+(_0x371a77['code']||_0x45fb09[_0x2591b7(0x27a)])+'\x0a',_0x3e7208+=_0x2591b7(0x20c)+(_0x26966b[_0x2591b7(0x241)]||_0x45fb09[_0x2591b7(0x27a)])+'\x0a'):(_0x7dc24f=_0x2591b7(0x21c)+_0x1d260b[_0x2591b7(0x2b2)]+'.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again',await _0x45fb09[_0x2591b7(0x236)](reportToGalactusAndSendToEDS,_0x1d260b,_0x23d439,_0x7dc24f,messageTypes[_0x2591b7(0x2c7)],_0x45fb09[_0x2591b7(0x21d)],_0x45fb09[_0x2591b7(0x28b)],_0x45fb09[_0x2591b7(0x1f4)]),logger['error'](_0x7dc24f),process[_0x2591b7(0x224)](0x1));else{if(_0x45fb09['iCqdU'](_0x45fb09[_0x2591b7(0x258)],_0x45fb09[_0x2591b7(0x258)])){const _0x571b60={};_0x571b60['description']=_0x45fb09['cWSzK'],_0x571b60[_0x2591b7(0x1f2)]=_0x45fb09[_0x2591b7(0x2ba)];const _0xd4bb01={};_0xd4bb01[_0x2591b7(0x29b)]=_0x45fb09[_0x2591b7(0x278)],_0xd4bb01[_0x2591b7(0x1f2)]=_0x45fb09[_0x2591b7(0x2ba)];const _0x4e63b2={};_0x4e63b2[_0x2591b7(0x29b)]=_0x45fb09['oFRty'],_0x4e63b2[_0x2591b7(0x1f2)]=_0x45fb09[_0x2591b7(0x2ba)];const _0x1e0dd3={};_0x1e0dd3['description']=_0x45fb09[_0x2591b7(0x2b3)],_0x1e0dd3[_0x2591b7(0x1f2)]=_0x45fb09[_0x2591b7(0x2ba)];const _0x43a56f={};return _0x43a56f['cluster-name']=_0x571b60,_0x43a56f[_0x2591b7(0x1f6)]=_0xd4bb01,_0x43a56f['region']=_0x4e63b2,_0x43a56f[_0x2591b7(0x276)]=_0x1e0dd3,_0x3b4b7f['usage'](_0x4a714b[_0x2591b7(0x1df)])['epilogue'](_0x211d35)['options'](_0x43a56f)[_0x2591b7(0x296)](_0x45fb09['gDpkT'])[_0x2591b7(0x1f0)];}else _0x4c9187=_0x343599;}}else _0x121fa6[_0x2591b7(0x2ad)](_0x45fb09[_0x2591b7(0x1de)]);}else _0x45fb09[_0x2591b7(0x2a8)](_0x45fb09[_0x2591b7(0x1e3)],_0x45fb09['WWEQy'])?process['exit'](0x1):_0x121799=_0x226fe4;const _0x2ecc32={};_0x2ecc32[_0x2591b7(0x1f2)]=WS_EVENTS[_0x2591b7(0x26b)],_0x2ecc32['message']=_0x45fb09['yUrdh'],webSocketUtils[_0x2591b7(0x240)](_0x23d439,_0x2ecc32),global_registry[_0x2591b7(0x2c9)]=_0x4c9187[_0x2591b7(0x2c9)],global_registry['clusterRegion']=_0x4c9187[_0x2591b7(0x28d)],global_registry[_0x2591b7(0x23c)]=_0x4c9187[_0x2591b7(0x23c)];}else _0x408a6b+='Cluster\x20'+_0x35b382[_0x2591b7(0x23c)]+_0x2591b7(0x202);}else{if(_0x45fb09[_0x2591b7(0x208)](_0x45fb09[_0x2591b7(0x252)],_0x45fb09[_0x2591b7(0x252)]))logger[_0x2591b7(0x1e2)](_0x45fb09[_0x2591b7(0x262)]),process[_0x2591b7(0x224)](0x1);else{const {header:_0x1488ac,response:_0xf082b5}=_0x617884,{status:_0x424028,data:_0xd6b94,error:_0x549fd3}=_0xf082b5;_0x54d6c9+=_0x1488ac+'\x20#'+_0x45fb09[_0x2591b7(0x2a0)](_0x3527d8,0x1)+'\x0a',_0x53fbbe+=_0x2591b7(0x1e1)+(_0x424028?_0x45fb09[_0x2591b7(0x1e7)]:_0x45fb09[_0x2591b7(0x2ce)])+'\x0a',_0x1425a7+=_0x2591b7(0x2a6)+_0x45fb09[_0x2591b7(0x233)](_0xd6b94,_0x45fb09[_0x2591b7(0x27a)])+'\x0a',_0x549fd3&&(_0x397b53+=_0x45fb09[_0x2591b7(0x23a)],_0x1a336e+=_0x2591b7(0x2b7)+(_0x549fd3[_0x2591b7(0x249)]||_0x45fb09[_0x2591b7(0x27a)])+'\x0a',_0x9f3f27+=_0x2591b7(0x270)+(_0x549fd3[_0x2591b7(0x2a9)]||_0x45fb09[_0x2591b7(0x27a)])+'\x0a',_0x2bb9b2+=_0x2591b7(0x20c)+(_0x549fd3[_0x2591b7(0x241)]||_0x45fb09[_0x2591b7(0x27a)])+'\x0a'),_0x306d07+='\x0a\x0a';}}}}}catch(_0xf778dd){_0x45fb09['ejNlG'](_0x45fb09[_0x2591b7(0x20a)],_0x45fb09[_0x2591b7(0x23e)])?(_0x7dc24f=_0x2591b7(0x2da)+_0xf778dd+':\x20'+_0xf778dd['stack'],logger[_0x2591b7(0x1e2)](_0x7dc24f),await _0x45fb09[_0x2591b7(0x211)](reportToGalactusAndSendToEDS,_0x1d260b,_0x23d439,_0x7dc24f,messageTypes[_0x2591b7(0x2c7)],_0x45fb09[_0x2591b7(0x21d)],_0x45fb09['fSpxp'],_0x45fb09[_0x2591b7(0x1f4)]),process[_0x2591b7(0x224)](0x1)):_0x34df3c[_0x2591b7(0x224)](0x1);}}function a17_0x5483(_0x13e3f1,_0x1ac464){const _0xeb77f4=a17_0xeb77();return a17_0x5483=function(_0x54836b,_0xd0b05){_0x54836b=_0x54836b-0x1de;let _0x105eac=_0xeb77f4[_0x54836b];return _0x105eac;},a17_0x5483(_0x13e3f1,_0x1ac464);}function printResponse(_0x409d36,_0x47b9ff){const _0x1026de=a17_0x49f2ea,_0x50e2a4={};_0x50e2a4['yOjcU']=function(_0x5d1f6a,_0x43ffb8){return _0x5d1f6a===_0x43ffb8;},_0x50e2a4[_0x1026de(0x25b)]='bJbjs';const _0x6ad678=_0x50e2a4;logger['info']('['+_0x409d36+_0x1026de(0x2a5)+_0x47b9ff[_0x1026de(0x226)]+'\x20data\x20:\x20'+_0x47b9ff[_0x1026de(0x24e)]+_0x1026de(0x239)+_0x47b9ff[_0x1026de(0x1e2)]),_0x47b9ff[_0x1026de(0x1e2)]&&(_0x6ad678[_0x1026de(0x2b5)](_0x6ad678[_0x1026de(0x25b)],_0x6ad678[_0x1026de(0x25b)])?logger[_0x1026de(0x1e2)]('error\x20stack\x20:\x20'+_0x47b9ff[_0x1026de(0x1e2)][_0x1026de(0x241)]):(_0x80d7ea[_0x1026de(0x288)](_0x1026de(0x2d7)+_0x3ec9ab[_0x1026de(0x279)]+'\x20'),_0x58f6b0['cloudProvider']=_0x3fb7de[_0x1026de(0x279)]));}async function generateReport(_0x2c6af2,_0x16ceff){const _0x5436c1=a17_0x49f2ea,_0x72cc14={'vtSFO':function(_0x2869ba,_0x455a65){return _0x2869ba+_0x455a65;},'UqUSD':_0x5436c1(0x28e),'bVOTP':_0x5436c1(0x25a),'KWOAK':function(_0x2ce9b7,_0x273509){return _0x2ce9b7||_0x273509;},'QNzuk':_0x5436c1(0x200),'sxyLi':_0x5436c1(0x282),'GwXaH':'Cluster\x20details\x0a-----------------------\x0a','UuVIp':function(_0xbe71f3,_0x568ab7){return _0xbe71f3!=_0x568ab7;},'lvccp':'is\x20already\x20present','iQWeO':_0x5436c1(0x272),'saihk':function(_0x56b796){return _0x56b796();}};let _0x357028='===\x20Precheck\x20Report\x20-\x20'+global_registry[_0x5436c1(0x2c9)]+_0x5436c1(0x27f);return _0x2c6af2[_0x5436c1(0x2c2)]((_0xdb6c7c,_0x4680e9)=>{const _0x1550cb=_0x5436c1,{header:_0x126550,response:_0x3679f4}=_0xdb6c7c,{status:_0x456634,data:_0x3af873,error:_0x1bde30}=_0x3679f4;_0x357028+=_0x126550+'\x20#'+_0x72cc14[_0x1550cb(0x2ca)](_0x4680e9,0x1)+'\x0a',_0x357028+=_0x1550cb(0x1e1)+(_0x456634?_0x72cc14['UqUSD']:_0x72cc14['bVOTP'])+'\x0a',_0x357028+=_0x1550cb(0x2a6)+_0x72cc14[_0x1550cb(0x2a1)](_0x3af873,_0x72cc14[_0x1550cb(0x1f1)])+'\x0a',_0x1bde30&&(_0x357028+=_0x72cc14[_0x1550cb(0x294)],_0x357028+=_0x1550cb(0x2b7)+(_0x1bde30[_0x1550cb(0x249)]||_0x72cc14['QNzuk'])+'\x0a',_0x357028+=_0x1550cb(0x270)+(_0x1bde30[_0x1550cb(0x2a9)]||_0x72cc14[_0x1550cb(0x1f1)])+'\x0a',_0x357028+=_0x1550cb(0x20c)+(_0x1bde30[_0x1550cb(0x241)]||_0x72cc14[_0x1550cb(0x1f1)])+'\x0a'),_0x357028+='\x0a\x0a';}),_0x357028+=_0x72cc14['GwXaH'],_0x72cc14[_0x5436c1(0x23f)](_0x16ceff,null)?_0x357028+=_0x5436c1(0x246)+global_registry['clusterName']+'\x20'+(_0x16ceff?_0x72cc14['lvccp']:_0x72cc14[_0x5436c1(0x29f)])+'\x0a\x0a':_0x357028+=_0x5436c1(0x246)+global_registry['clusterName']+'\x20details\x20cannot\x20be\x20fetched\x0a\x0a',_0x357028+=_0x72cc14[_0x5436c1(0x280)](getSystemMetaData),_0x357028;};function a17_0xeb77(){const _0x1e3028=['aEbYI','rVlos','2mRRkIG','grid-profile','connectionTimeout','cWcHr','CLOUD_PROVIDER','GuXEu','fPuNg','isTrialGridAccessible','log/report_','JqxMg','\x20===\x0a\x0a','saihk','Missing\x20required\x20arguments:\x20','Error\x20Details:\x0a','idjyd','BAMOU','includes','split','XxJgi','info','Pre-check\x20running\x20for\x20Cloud\x20-\x20','lYeov','fYBiD','https://','region','Success','npsVN','MGNCU','isCliToolInstalled','readFileSync','`\x20already\x20exists','sxyLi','jgMAd','help','DAWPq','sdCgB','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','/packages/cli/get-all-grid-profiles','description','../../utils/utilityMethods','Report\x20saved\x20in\x20','aoTSZ','iQWeO','EfhzD','KWOAK','oLOjO','FTgkw','is\x20already\x20present',']\x20status\x20:\x20','Message:\x20','method','iCqdU','code','credential-not-found','1272uJoGfi','replace','push','tHXEc','body','pre-check-grid-called','utf-8','gridProfile','NLUaN','fSMHv','yOjcU','options','\x20\x20Message:\x20','UGDSh','1622763RdFUyh','YHBsp','ivpdo','clusterRegion','existsSync','VtzAK','accessResp','LCLAD','skpzu','forEach','getUTCMinutes','../../cloudproviders/utils','got','response','ERROR','pre-check-cluster-args-not-passed','cloudProvider','vtSFO','10eThBgd','KPZZx','reconnecting-websocket','ZYjHb','Browserstack','toolInstalledResp','jEBPw','vyTWP','../../utils/instrumentationUtils','isTls1_2_SUPPORTED','Cluster\x20`','ertpX','Setting\x20cloud\x20provider\x20as\x20','ksDMx','dummy-grid','Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20','DjJNi','pre_check','7773180AxTGRD','Status:\x20','error','behSf','560802oxHSXF','\x20region\x20-\x20','grid\x20profile\x20flow\x20','XKeTo','exWqb','TLSv1_2_client_method','stack\x20trace\x20','tgqrb','<PasswordPlaceholder>','1347563CyJtrI','vVilG','HVTiQ','argv','QNzuk','type','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','DOCwQ','toLowerCase','cloud-provider','error\x20stack\x20:\x20','username','oalGX','93365eViPLj','Zvdhe','JGAVz','eqRoU','poOdG','parse','N/A','password','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','join','gjdSR','eRFdu','HluWT','wIxlw','mBIwC','IYzrl','ibnMe','vWmQW','\x20\x20Stack:\x20','User\x20Access','name','RhZXa','vzJNl','MrOta','header','grid','SSL\x20Configured','HFTlC','pyTGb','epilogue','bstackUsername','Grid\x20profile\x20fetched\x20for\x20pre-check','getUTCMonth','pre-check','Invalid\x20input.\x20grid\x20profiles:\x20','NTzvk','../../config/constants','fSpxp','isClusterPresent','`\x20,error\x20:\x20','yfFkI','KHgVn','exit','<UsernamePlaceholder>','status','debug','cluster-name','string','GkhjL','8YmAnNG','1287XCPzXD','MJIWh','rXxjd','usage','CuoXI','pre-check-failed','builder','kzwvA','DAxVa','scsSb','EDPRC','command','getUTCDate','\x20error\x20:\x20','EUlWG','\x20data\x20:\x20','clusterName','OjiQt','GcKgr','UuVIp','sendEventToBackend','stack','find','../../config/logger','Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup','YlOaR','Cluster\x20','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','message','stringify','FErYT','LQNwW','YFeFK','data','aHxgj','authHeader','length','QlbnA','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','4|0|2|1|3','bstackAccesskey','LmtdR','zWSlC','slTMI','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','Failure','dLJwq','../../utils/webSocketUtils','6VKIMCG','WebSocket','BDqQC','BUhdC','INFO','Nimpc','VtJEa','Owibm','cloud-provider-not-supported','dewWL','headers','cluster-check-failed-','pgguM','tSSqw','LOG','unable\x20to\x20verify\x20if\x20cluster\x20`','rgLHq','61725EtdrRf','UKikU','\x20\x20Code:\x20','uuid','will\x20be\x20created'];a17_0xeb77=function(){return _0x1e3028;};return a17_0xeb77();}exports['handler']=async function(_0x358cf6){const _0xf93b62=a17_0x49f2ea,_0x352c0c={'VtJEa':function(_0xf85169){return _0xf85169();},'fPuNg':_0xf93b62(0x299),'skpzu':function(_0x20259e,_0x5910b1,_0x4f95ce,_0x4381a0,_0x22ce13,_0x3f241c,_0x36aade,_0x5269d3){return _0x20259e(_0x5910b1,_0x4f95ce,_0x4381a0,_0x22ce13,_0x3f241c,_0x36aade,_0x5269d3);},'Zvdhe':_0xf93b62(0x2b0),'RhZXa':_0xf93b62(0x2aa),'exWqb':'error','lnOsA':function(_0x14ae78,_0x32101c,_0x2edc37,_0x1433db,_0x1d32bd,_0x29ce5f,_0x3b3a1f){return _0x14ae78(_0x32101c,_0x2edc37,_0x1433db,_0x1d32bd,_0x29ce5f,_0x3b3a1f);},'JqxMg':function(_0x4c5a91){return _0x4c5a91();},'aTcyR':_0xf93b62(0x225),'FErYT':_0xf93b62(0x1ec),'rVlos':function(_0x11ff7d,_0xa38f58,_0x10ed53){return _0x11ff7d(_0xa38f58,_0x10ed53);},'KHgVn':function(_0x1b2cab,_0x5d87da,_0xad0d01,_0x2d27ec,_0x209246,_0x35753e,_0x897029){return _0x1b2cab(_0x5d87da,_0xad0d01,_0x2d27ec,_0x209246,_0x35753e,_0x897029);},'HFTlC':_0xf93b62(0x2d9),'DAWPq':function(_0x40cef7,_0x5da921,_0x575c09){return _0x40cef7(_0x5da921,_0x575c09);},'WaZFu':_0xf93b62(0x2d0),'scsSb':_0xf93b62(0x254),'LCLAD':function(_0x4a1794,_0x566aae,_0x5d1f0e){return _0x4a1794(_0x566aae,_0x5d1f0e);},'RRDBW':_0xf93b62(0x2bf),'CNMZl':function(_0x2d9a8c,_0x1dad0b,_0x18a24d){return _0x2d9a8c(_0x1dad0b,_0x18a24d);},'npgBY':_0xf93b62(0x27c),'zWSlC':function(_0x2bc840,_0x5863dc){return _0x2bc840(_0x5863dc);},'oLOjO':_0xf93b62(0x1e9),'DAxVa':_0xf93b62(0x2d4),'fSMHv':'Tool\x20Installed','vWmQW':_0xf93b62(0x20d),'wIxlw':'Whitelisted\x20browserstack','LmtdR':_0xf93b62(0x214),'lYeov':function(_0x372606,_0x3760d2,_0x39db66){return _0x372606(_0x3760d2,_0x39db66);},'npsVN':function(_0x468e85,_0x385ba5){return _0x468e85+_0x385ba5;},'AisZn':_0xf93b62(0x2b1),'vzJNl':function(_0x45e382,_0x2337d3,_0x2fd1e7,_0x151f28,_0x115de4,_0x71351b,_0x39f96d){return _0x45e382(_0x2337d3,_0x2fd1e7,_0x151f28,_0x115de4,_0x71351b,_0x39f96d);},'sdCgB':_0xf93b62(0x231)};let _0xd9f20d,_0x43e498;try{global_registry['requestId']=_0x352c0c[_0xf93b62(0x263)](uuidv4);!fs[_0xf93b62(0x2bd)](_0x352c0c[_0xf93b62(0x263)](getCredentialsPath))&&(_0x43e498=_0x352c0c[_0xf93b62(0x27b)],logger[_0xf93b62(0x1e2)](_0x43e498),await _0x352c0c[_0xf93b62(0x2c1)](reportToGalactusAndSendToEDS,_0x358cf6,_0xd9f20d,_0x43e498,messageTypes['ERROR'],_0x352c0c[_0xf93b62(0x1fb)],_0x352c0c[_0xf93b62(0x20f)],_0x352c0c[_0xf93b62(0x1e8)]),process['exit'](0x1));_0x352c0c['lnOsA'](sendInstrumentationEvent,_0x358cf6,_0x352c0c[_0xf93b62(0x1fb)],messageTypes[_0xf93b62(0x261)],null,null,_0x358cf6);const _0x46bc02=JSON[_0xf93b62(0x1ff)](fs[_0xf93b62(0x292)](_0x352c0c[_0xf93b62(0x27e)](getCredentialsPath)));global_registry[_0xf93b62(0x218)]=_0x46bc02[_0xf93b62(0x2cf)]['username'],global_registry[_0xf93b62(0x255)]=_0x46bc02[_0xf93b62(0x2cf)][_0xf93b62(0x201)];const _0x4c4fb0=WS_ENDPOINT['replace'](_0x352c0c['aTcyR'],_0x46bc02[_0xf93b62(0x2cf)][_0xf93b62(0x1f8)])[_0xf93b62(0x2ac)](_0x352c0c[_0xf93b62(0x24b)],_0x46bc02[_0xf93b62(0x2cf)][_0xf93b62(0x201)]),_0x5df3ad={};_0x5df3ad[_0xf93b62(0x25e)]=ws,_0x5df3ad[_0xf93b62(0x277)]=0x36ee80,_0xd9f20d=new ReconnectingWebSocket(_0x4c4fb0,[],_0x5df3ad),global_registry[_0xf93b62(0x250)]=_0x352c0c[_0xf93b62(0x274)](getAuthHeader,global_registry[_0xf93b62(0x218)],global_registry[_0xf93b62(0x255)]),await _0x352c0c['rVlos'](inputValidation,_0x358cf6,_0xd9f20d),logger[_0xf93b62(0x288)](_0xf93b62(0x289)+global_registry[_0xf93b62(0x2c9)]+_0xf93b62(0x1e5)+global_registry[_0xf93b62(0x2bc)]);let _0x5e3554=await _0x352c0c[_0xf93b62(0x223)](getCloudProviderObjectWithOutInit,global_registry[_0xf93b62(0x2c9)],global_registry['clusterName'],_0x352c0c[_0xf93b62(0x215)],_0xd9f20d,webSocketUtils,_0x358cf6);const _0x3357f7=await _0x5e3554[_0xf93b62(0x291)]();_0x352c0c[_0xf93b62(0x297)](printResponse,_0x352c0c['WaZFu'],_0x3357f7),_0x5e3554=await _0x5e3554['init']();let _0x4a16fb=![];try{_0x4a16fb=await _0x5e3554[_0xf93b62(0x220)]();}catch(_0x176a42){const _0xcf592=_0x352c0c[_0xf93b62(0x235)][_0xf93b62(0x286)]('|');let _0x50acf0=0x0;while(!![]){switch(_0xcf592[_0x50acf0++]){case'0':_0x4a16fb=null;continue;case'1':_0x43e498+='\x0a'+JSON[_0xf93b62(0x24a)](_0x176a42['stack']);continue;case'2':logger[_0xf93b62(0x1e2)](_0x43e498);continue;case'3':await _0x352c0c[_0xf93b62(0x2c1)](reportToGalactusAndSendToEDS,_0x358cf6,_0xd9f20d,_0x43e498,messageTypes[_0xf93b62(0x2c7)],_0x352c0c[_0xf93b62(0x1fb)],_0xf93b62(0x268)+global_registry[_0xf93b62(0x2c9)],_0x352c0c[_0xf93b62(0x1e8)]);continue;case'4':_0x43e498=_0xf93b62(0x26c)+global_registry['clusterName']+'`\x20is\x20present\x20in\x20region\x20`'+global_registry[_0xf93b62(0x2bc)]+_0xf93b62(0x221)+_0x176a42;continue;}break;}}_0x4a16fb&&logger[_0xf93b62(0x288)](_0xf93b62(0x2d5)+global_registry[_0xf93b62(0x23c)]+_0xf93b62(0x293));const _0x41ff4b=await _0x5e3554['checkAccess']();_0x352c0c[_0xf93b62(0x2c0)](printResponse,_0x352c0c['RRDBW'],_0x41ff4b);const _0x4870de=await _0x352c0c[_0xf93b62(0x27e)](curlRequest);_0x352c0c['CNMZl'](printResponse,_0x352c0c['npgBY'],_0x4870de);const _0x3d1642=await _0x352c0c[_0xf93b62(0x257)](isTlsSupported,_0x352c0c[_0xf93b62(0x2a2)]);_0x352c0c[_0xf93b62(0x297)](printResponse,_0x352c0c[_0xf93b62(0x234)],_0x3d1642);const _0x2b5b57={};_0x2b5b57[_0xf93b62(0x212)]=_0x352c0c[_0xf93b62(0x2b4)],_0x2b5b57[_0xf93b62(0x2c6)]=_0x3357f7;const _0xd1dad6={};_0xd1dad6[_0xf93b62(0x212)]=_0x352c0c[_0xf93b62(0x20b)],_0xd1dad6[_0xf93b62(0x2c6)]=_0x41ff4b;const _0x4b9d5d={};_0x4b9d5d['header']=_0x352c0c[_0xf93b62(0x207)],_0x4b9d5d['response']=_0x4870de;const _0x35897e={};_0x35897e[_0xf93b62(0x212)]=_0x352c0c[_0xf93b62(0x256)],_0x35897e[_0xf93b62(0x2c6)]=_0x3d1642;const _0x3b2995=[_0x2b5b57,_0xd1dad6,_0x4b9d5d,_0x35897e],_0xb8a1bf=await _0x352c0c[_0xf93b62(0x28a)](generateReport,_0x3b2995,_0x4a16fb),_0x383f7a=new Date(),_0x4e6cd4=_0x383f7a['getUTCFullYear']()+'_'+_0x352c0c[_0xf93b62(0x28f)](_0x383f7a[_0xf93b62(0x21a)](),0x1)+'_'+_0x383f7a[_0xf93b62(0x238)]()+'_'+_0x383f7a['getUTCHours']()+'_'+_0x383f7a[_0xf93b62(0x2c3)](),_0x33d1ba=_0xf93b62(0x27d)+_0x4e6cd4+'.txt';fs['writeFileSync'](_0x33d1ba,_0xb8a1bf,_0x352c0c['AisZn']),logger[_0xf93b62(0x288)](_0xf93b62(0x29d)+_0x33d1ba),process[_0xf93b62(0x224)](0x0);}catch(_0x90047a){let _0x3324a5='Failed\x20in\x20pre-check!\x20Error:\x20'+_0x90047a+'\x20';logger['error'](_0x3324a5),_0x3324a5+='\x0a'+JSON['stringify'](_0x90047a[_0xf93b62(0x241)]),logger[_0xf93b62(0x227)](_0xf93b62(0x1ea)+_0x90047a[_0xf93b62(0x241)]);if(_0xd9f20d){const _0x483814={};_0x483814['type']=WS_EVENTS['LOG'],_0x483814['message']=_0x3324a5,webSocketUtils[_0xf93b62(0x240)](_0xd9f20d,_0x483814,_0x352c0c[_0xf93b62(0x1e8)],!![]);}await webSocketUtils['delay'](0x7d0);const _0x394938={};_0x394938[_0xf93b62(0x1e2)]=_0x3324a5,await _0x352c0c[_0xf93b62(0x210)](sendInstrumentationEvent,_0x358cf6,_0x352c0c[_0xf93b62(0x1fb)],messageTypes['ERROR'],_0x352c0c[_0xf93b62(0x298)],_0x394938,_0x358cf6),process[_0xf93b62(0x224)](0x1);}};