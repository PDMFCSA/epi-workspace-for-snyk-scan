const a17_0x47b4e3=a17_0x12bc;(function(_0xb99a3c,_0x323072){const _0x5442ee=a17_0x12bc,_0x1bf918=_0xb99a3c();while(!![]){try{const _0x8cee9b=parseInt(_0x5442ee(0x187))/0x1*(parseInt(_0x5442ee(0xe1))/0x2)+parseInt(_0x5442ee(0x11f))/0x3*(parseInt(_0x5442ee(0x139))/0x4)+parseInt(_0x5442ee(0x1bf))/0x5*(-parseInt(_0x5442ee(0x119))/0x6)+-parseInt(_0x5442ee(0xfb))/0x7+-parseInt(_0x5442ee(0x116))/0x8+-parseInt(_0x5442ee(0xdd))/0x9*(parseInt(_0x5442ee(0x10b))/0xa)+parseInt(_0x5442ee(0x167))/0xb;if(_0x8cee9b===_0x323072)break;else _0x1bf918['push'](_0x1bf918['shift']());}catch(_0x61ea65){_0x1bf918['push'](_0x1bf918['shift']());}}}(a17_0x145c,0x96f48));const fs=require('fs'),ws=require('ws'),got=require(a17_0x47b4e3(0x181)),{v4:uuidv4}=require('uuid'),ReconnectingWebSocket=require(a17_0x47b4e3(0x14b)),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require('../../utils/utilityMethods'),{logger}=require(a17_0x47b4e3(0x124)),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require('../../config/constants'),{getCloudProviderObjectWithOutInit}=require(a17_0x47b4e3(0x158)),webSocketUtils=require('../../utils/webSocketUtils'),{sendInstrumentationEvent}=require('../../utils/instrumentationUtils');exports[a17_0x47b4e3(0xd4)]=a17_0x47b4e3(0xd0),exports[a17_0x47b4e3(0x17f)]=a17_0x47b4e3(0x13f),exports[a17_0x47b4e3(0x126)]=function(_0x981c5e){const _0x4c41f7=a17_0x47b4e3,_0x4b2e07={};_0x4b2e07['jeeqT']=_0x4c41f7(0x17c),_0x4b2e07[_0x4c41f7(0x18d)]='string',_0x4b2e07['npogF']=_0x4c41f7(0x1bb),_0x4b2e07[_0x4c41f7(0x19d)]=_0x4c41f7(0x1a3),_0x4b2e07['WsAOr']='Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.',_0x4b2e07[_0x4c41f7(0x198)]=_0x4c41f7(0x134);const _0x58c596=_0x4b2e07,_0x49c9e8={};_0x49c9e8[_0x4c41f7(0xd5)]=_0x58c596['jeeqT'],_0x49c9e8['type']=_0x58c596[_0x4c41f7(0x18d)];const _0xc8ddf={};_0xc8ddf['description']=_0x58c596[_0x4c41f7(0x194)],_0xc8ddf[_0x4c41f7(0xef)]=_0x58c596[_0x4c41f7(0x18d)];const _0x19334e={};_0x19334e[_0x4c41f7(0xd5)]=_0x58c596[_0x4c41f7(0x19d)],_0x19334e['type']=_0x58c596[_0x4c41f7(0x18d)];const _0x2cb601={};_0x2cb601['description']=_0x58c596['WsAOr'],_0x2cb601[_0x4c41f7(0xef)]=_0x58c596['BbTKc'];const _0x156f86={};return _0x156f86[_0x4c41f7(0x1b5)]=_0x49c9e8,_0x156f86[_0x4c41f7(0xd9)]=_0xc8ddf,_0x156f86['region']=_0x19334e,_0x156f86[_0x4c41f7(0x108)]=_0x2cb601,_0x981c5e[_0x4c41f7(0x11b)](HELP_HEADER_MESSAGE['pre_check'])[_0x4c41f7(0x151)](HELP_FOOTER_MESSAGE)[_0x4c41f7(0x11a)](_0x156f86)['help'](_0x58c596[_0x4c41f7(0x198)])[_0x4c41f7(0x1af)];};function a17_0x12bc(_0x252f83,_0x2248aa){const _0x145c0f=a17_0x145c();return a17_0x12bc=function(_0x12bc8a,_0x276f1a){_0x12bc8a=_0x12bc8a-0xcf;let _0x27b042=_0x145c0f[_0x12bc8a];return _0x27b042;},a17_0x12bc(_0x252f83,_0x2248aa);}async function inputValidation(_0x26d856,_0x39d18f){const _0x3a6e63=a17_0x47b4e3,_0x24c1c8={'ulVdl':_0x3a6e63(0xda),'xuyrT':_0x3a6e63(0x177),'ppobE':function(_0x1232c6,_0x16d0bc){return _0x1232c6+_0x16d0bc;},'tUhzf':_0x3a6e63(0xf5),'UrsXG':_0x3a6e63(0xe0),'RUfkL':function(_0x4656d4,_0x75b68c){return _0x4656d4||_0x75b68c;},'dxUDW':'is\x20already\x20present','hQJJY':_0x3a6e63(0x178),'vfKbf':_0x3a6e63(0x1b5),'XAxkP':_0x3a6e63(0x1a5),'vdtCk':_0x3a6e63(0x17c),'krijj':'string','EqNLi':_0x3a6e63(0x1bb),'NBhVU':_0x3a6e63(0x1a3),'FGbIV':'Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','igsuC':_0x3a6e63(0x134),'hCBVe':_0x3a6e63(0x1a8),'vlbHV':_0x3a6e63(0xd9),'MMCSs':_0x3a6e63(0x145),'DSXiE':function(_0x22a29f,_0x5a8ca7){return _0x22a29f===_0x5a8ca7;},'mcOGj':_0x3a6e63(0x16d),'ogDlA':function(_0x1223ea,_0x3ba9c3){return _0x1223ea!==_0x3ba9c3;},'HvXHu':_0x3a6e63(0x14c),'dQYeC':_0x3a6e63(0x147),'HOZIb':function(_0x418361,_0x395dbc){return _0x418361===_0x395dbc;},'rSQiX':_0x3a6e63(0x1ae),'WRxoe':function(_0x23c352,_0x4fa7f9){return _0x23c352===_0x4fa7f9;},'rqius':_0x3a6e63(0x16f),'pRxUH':function(_0x57f98c,_0x51968d){return _0x57f98c!==_0x51968d;},'ByyYA':_0x3a6e63(0x13a),'JLcxX':_0x3a6e63(0x1ba),'iBccG':function(_0x13be65,_0x34ed9a){return _0x13be65>_0x34ed9a;},'gOWTI':function(_0x17c680,_0x12f230){return _0x17c680!==_0x12f230;},'GumVC':_0x3a6e63(0x166),'AGCSv':function(_0x2d5f49,_0x3caa39,_0x2595b5,_0x8f055c,_0x39f524,_0x73ca10,_0x28cff8,_0x94af2){return _0x2d5f49(_0x3caa39,_0x2595b5,_0x8f055c,_0x39f524,_0x73ca10,_0x28cff8,_0x94af2);},'irQQU':'pre-check-grid-called','OmgYa':'pre-check-cluster-args-not-passed','IPTrv':_0x3a6e63(0x18a),'HwGbJ':'DpYOu','ibLNf':'Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','YDNKi':function(_0x1ef1ee,_0x3b841e,_0x43bf89,_0x3ad88b,_0x20122f,_0x3196fd,_0x14fc8b,_0x3486d8){return _0x1ef1ee(_0x3b841e,_0x43bf89,_0x3ad88b,_0x20122f,_0x3196fd,_0x14fc8b,_0x3486d8);},'Glenx':'cloud-provider-not-supported','WQbvU':_0x3a6e63(0x171),'aMtPx':function(_0x466215,_0x398d30){return _0x466215===_0x398d30;},'FXaMZ':_0x3a6e63(0x179),'THFEc':_0x3a6e63(0xec),'tqrPq':function(_0x4ae163,_0x4e94e3,_0x40b1f7){return _0x4ae163(_0x4e94e3,_0x40b1f7);},'hpwrJ':function(_0x557107,_0x34f0cc,_0x1d244b,_0x4f3f9,_0x358ca6,_0x155ffe){return _0x557107(_0x34f0cc,_0x1d244b,_0x4f3f9,_0x358ca6,_0x155ffe);},'prUHI':_0x3a6e63(0x12e),'eJYMb':_0x3a6e63(0x108),'MCHAe':function(_0x53a6ea,_0x40d095){return _0x53a6ea===_0x40d095;},'YhvUi':_0x3a6e63(0x19f),'eBVJy':function(_0x5e918f,_0x13ef89){return _0x5e918f(_0x13ef89);},'hyttO':_0x3a6e63(0x17a),'Lhcbl':_0x3a6e63(0x164),'dHHSQ':function(_0x178b6d,_0xa700bc,_0x335b64,_0x297aed,_0x183b81,_0x203b8f,_0x63bba6,_0x4d15e1){return _0x178b6d(_0xa700bc,_0x335b64,_0x297aed,_0x183b81,_0x203b8f,_0x63bba6,_0x4d15e1);},'dSagW':'pre-check-grid-profile-empty','DBFQg':'zvvHd','QtFyS':function(_0x838189,_0xa66c81){return _0x838189!==_0xa66c81;},'KUMSN':'mVnsv','JkWQc':_0x3a6e63(0x1bc),'CRXIO':_0x3a6e63(0xcf),'PuKCv':function(_0xf89ce3,_0x32896d){return _0xf89ce3===_0x32896d;},'GJDBT':_0x3a6e63(0x161)};let _0x5b5d2e;try{if(_0x24c1c8[_0x3a6e63(0x123)](_0x24c1c8['mcOGj'],_0x24c1c8[_0x3a6e63(0x1b3)])){if(_0x26d856[_0x3a6e63(0x193)]||_0x26d856[_0x3a6e63(0xf7)]||_0x26d856[_0x3a6e63(0x145)]){if(_0x24c1c8['ogDlA'](_0x24c1c8[_0x3a6e63(0x175)],_0x24c1c8[_0x3a6e63(0xf3)])){const _0x42841a=[];!_0x26d856['clusterName']&&(_0x24c1c8[_0x3a6e63(0x10a)](_0x24c1c8[_0x3a6e63(0x15a)],_0x24c1c8[_0x3a6e63(0x15a)])?_0x42841a['push'](_0x24c1c8['vfKbf']):(_0x42e45e+=_0x24c1c8[_0x3a6e63(0x13c)],_0xb75de7+=_0x3a6e63(0x109)+(_0x2e2681[_0x3a6e63(0x1b7)]||_0x24c1c8[_0x3a6e63(0x102)])+'\x0a',_0x3af793+=_0x3a6e63(0x103)+(_0x44bc8c['code']||_0x24c1c8[_0x3a6e63(0x102)])+'\x0a',_0x598150+=_0x3a6e63(0x1b2)+(_0x417b20[_0x3a6e63(0xf2)]||_0x24c1c8[_0x3a6e63(0x102)])+'\x0a'));;!_0x26d856[_0x3a6e63(0xf7)]&&(_0x24c1c8[_0x3a6e63(0x12c)](_0x24c1c8[_0x3a6e63(0x159)],_0x24c1c8[_0x3a6e63(0x159)])?_0x42841a[_0x3a6e63(0x186)](_0x24c1c8['vlbHV']):(_0x35eb4f['info']('['+_0xd8a4f0+_0x3a6e63(0x1b9)+_0xf62de0[_0x3a6e63(0x113)]+_0x3a6e63(0x15f)+_0x295a04[_0x3a6e63(0x131)]+_0x3a6e63(0x107)+_0x284e58['error']),_0x53c2f3[_0x3a6e63(0x1a8)]&&_0xc86dd1[_0x3a6e63(0x1a8)](_0x3a6e63(0x104)+_0x52506a['error']['stack'])));;if(!_0x26d856[_0x3a6e63(0x145)]){if(_0x24c1c8[_0x3a6e63(0x157)](_0x24c1c8[_0x3a6e63(0x1bd)],_0x24c1c8[_0x3a6e63(0x11e)]))_0x42841a[_0x3a6e63(0x186)](_0x24c1c8['MMCSs']);else{const {header:_0x5588aa,response:_0x9391d2}=_0x43a81e,{status:_0x3b5ab0,data:_0x50a056,error:_0x242046}=_0x9391d2;_0x336c70+=_0x5588aa+'\x20#'+_0x24c1c8['ppobE'](_0x3e241c,0x1)+'\x0a',_0x273c59+=_0x3a6e63(0x140)+(_0x3b5ab0?_0x24c1c8[_0x3a6e63(0x110)]:_0x24c1c8[_0x3a6e63(0x199)])+'\x0a',_0x342c64+=_0x3a6e63(0xe8)+_0x24c1c8[_0x3a6e63(0x132)](_0x50a056,_0x24c1c8['xuyrT'])+'\x0a',_0x242046&&(_0x49c03a+=_0x24c1c8[_0x3a6e63(0x13c)],_0x4073dc+=_0x3a6e63(0x109)+(_0x242046[_0x3a6e63(0x1b7)]||_0x24c1c8[_0x3a6e63(0x102)])+'\x0a',_0x58c8fb+='\x20\x20Code:\x20'+(_0x242046['code']||_0x24c1c8[_0x3a6e63(0x102)])+'\x0a',_0x3bfb48+=_0x3a6e63(0x1b2)+(_0x242046['stack']||_0x24c1c8[_0x3a6e63(0x102)])+'\x0a'),_0xab190f+='\x0a\x0a';}};_0x24c1c8['iBccG'](_0x42841a[_0x3a6e63(0x138)],0x0)&&(_0x24c1c8[_0x3a6e63(0xfc)](_0x24c1c8[_0x3a6e63(0x155)],_0x24c1c8['GumVC'])?_0x5854c8+=_0x3a6e63(0x1b8)+_0x41aaed[_0x3a6e63(0x193)]+'\x20'+(_0x72fe91?_0x24c1c8[_0x3a6e63(0x19c)]:_0x24c1c8['hQJJY'])+'\x0a\x0a':(_0x5b5d2e='Missing\x20required\x20arguments:\x20'+_0x42841a[_0x3a6e63(0x19e)](',\x20')+_0x3a6e63(0x120),await _0x24c1c8[_0x3a6e63(0x105)](reportToGalactusAndSendToEDS,_0x26d856,_0x39d18f,_0x5b5d2e,messageTypes[_0x3a6e63(0x13d)],_0x24c1c8[_0x3a6e63(0x17d)],_0x24c1c8[_0x3a6e63(0x180)],_0x24c1c8['hCBVe']),logger[_0x3a6e63(0x1a8)](_0x5b5d2e),process[_0x3a6e63(0xd2)](0x1))),!ALL_SUPPORTED_CLOUD_PROVIDERS[_0x3a6e63(0x14e)](_0x26d856['cloudProvider']['toLowerCase']())&&(_0x24c1c8['DSXiE'](_0x24c1c8[_0x3a6e63(0x144)],_0x24c1c8['HwGbJ'])?_0x35723f[_0x3a6e63(0x186)](_0x24c1c8['vfKbf']):(_0x5b5d2e=_0x24c1c8[_0x3a6e63(0xd1)],await _0x24c1c8['YDNKi'](reportToGalactusAndSendToEDS,_0x26d856,_0x39d18f,_0x5b5d2e,messageTypes[_0x3a6e63(0x13d)],_0x24c1c8[_0x3a6e63(0x17d)],_0x24c1c8[_0x3a6e63(0x16c)],_0x24c1c8[_0x3a6e63(0xdb)]),logger[_0x3a6e63(0x1a8)](_0x5b5d2e),!_0x26d856[_0x3a6e63(0xf7)]&&(_0x24c1c8[_0x3a6e63(0x18f)](_0x24c1c8[_0x3a6e63(0x148)],_0x24c1c8[_0x3a6e63(0x148)])?_0x1f52d2=_0x23ff0f:(logger['info']('Setting\x20cloud\x20provider\x20as\x20'+DEFAULT_CLUSTER_DETAILS['CLOUD_PROVIDER']+'\x20'),_0x26d856['cloudProvider']=DEFAULT_CLUSTER_DETAILS[_0x3a6e63(0x15d)])))),global_registry[_0x3a6e63(0x193)]=_0x26d856[_0x3a6e63(0x193)],global_registry['cloudProvider']=_0x26d856['cloudProvider'],global_registry[_0x3a6e63(0x10d)]=_0x26d856[_0x3a6e63(0x145)];}else _0x3d43fe[_0x3a6e63(0x1a8)](_0x24c1c8[_0x3a6e63(0xe4)]),_0x505b4b[_0x3a6e63(0xd2)](0x1);}else{if(_0x26d856[_0x3a6e63(0x14a)]){if(_0x24c1c8['aMtPx'](_0x24c1c8[_0x3a6e63(0x191)],_0x24c1c8[_0x3a6e63(0x191)])){global_registry[_0x3a6e63(0x14a)]=_0x26d856['gridProfile'],logger['debug']('grid\x20profile\x20flow\x20'+_0x26d856[_0x3a6e63(0x14a)]);const _0x12bc6b='https://'+AG_API_URL+'/packages/cli/get-all-grid-profiles',_0x1dc763={};_0x1dc763[_0x3a6e63(0x160)]=_0x24c1c8[_0x3a6e63(0xe2)],_0x1dc763['headers']=global_registry[_0x3a6e63(0x1b4)],_0x1dc763[_0x3a6e63(0x13b)]=![];const _0x4f8773=_0x1dc763,_0x3f3e7e=await _0x24c1c8['tqrPq'](got,_0x12bc6b,_0x4f8773),_0x49813e=await _0x24c1c8['hpwrJ'](responseValidation,_0x3f3e7e,_0x24c1c8[_0x3a6e63(0x150)],_0x24c1c8[_0x3a6e63(0x156)],_0x26d856,_0x39d18f);let _0x23cddf={};if(_0x24c1c8[_0x3a6e63(0x12c)](_0x49813e,0xc8)){if(_0x24c1c8['MCHAe'](_0x24c1c8[_0x3a6e63(0x130)],_0x24c1c8[_0x3a6e63(0x130)])){const _0x558e54=JSON['parse'](_0x3f3e7e[_0x3a6e63(0x128)]),_0x5b5534=_0x558e54[_0x3a6e63(0xf9)](_0x54763a=>_0x54763a[_0x3a6e63(0x14d)]===_0x26d856[_0x3a6e63(0x14a)])||null;if(_0x24c1c8[_0x3a6e63(0xe5)](isUndefined,_0x5b5534)){if(_0x24c1c8[_0x3a6e63(0x18f)](_0x24c1c8['hyttO'],_0x24c1c8[_0x3a6e63(0x149)]))_0x5b5d2e=_0x3a6e63(0xff)+_0x26d856[_0x3a6e63(0x14a)]+_0x3a6e63(0x1ad),await _0x24c1c8[_0x3a6e63(0x182)](reportToGalactusAndSendToEDS,_0x26d856,_0x39d18f,_0x5b5d2e,messageTypes[_0x3a6e63(0x13d)],_0x24c1c8[_0x3a6e63(0x17d)],_0x24c1c8[_0x3a6e63(0xd7)],_0x24c1c8[_0x3a6e63(0xdb)]),logger[_0x3a6e63(0x1a8)](_0x5b5d2e),process[_0x3a6e63(0xd2)](0x1);else{const _0x5f38ac={};_0x5f38ac[_0x3a6e63(0xd5)]=_0x24c1c8[_0x3a6e63(0x111)],_0x5f38ac[_0x3a6e63(0xef)]=_0x24c1c8['krijj'];const _0x3807eb={};_0x3807eb['description']=_0x24c1c8['EqNLi'],_0x3807eb[_0x3a6e63(0xef)]=_0x24c1c8['krijj'];const _0x12bc1b={};_0x12bc1b[_0x3a6e63(0xd5)]=_0x24c1c8[_0x3a6e63(0x153)],_0x12bc1b[_0x3a6e63(0xef)]=_0x24c1c8[_0x3a6e63(0x16a)];const _0x23d298={};_0x23d298[_0x3a6e63(0xd5)]=_0x24c1c8[_0x3a6e63(0x122)],_0x23d298[_0x3a6e63(0xef)]=_0x24c1c8[_0x3a6e63(0x16a)];const _0x1dfb85={};return _0x1dfb85['cluster-name']=_0x5f38ac,_0x1dfb85[_0x3a6e63(0xd9)]=_0x3807eb,_0x1dfb85[_0x3a6e63(0x145)]=_0x12bc1b,_0x1dfb85[_0x3a6e63(0x108)]=_0x23d298,_0x5357af[_0x3a6e63(0x11b)](_0x349383[_0x3a6e63(0x170)])[_0x3a6e63(0x151)](_0x117c5b)['options'](_0x1dfb85)['help'](_0x24c1c8[_0x3a6e63(0x1aa)])[_0x3a6e63(0x1af)];}}else _0x24c1c8[_0x3a6e63(0x12b)](_0x24c1c8['DBFQg'],_0x24c1c8[_0x3a6e63(0x1a9)])?_0x23cddf=_0x5b5534:(_0x4b5c9e[_0x3a6e63(0x143)](_0x3a6e63(0x184)+_0x4fc2c8[_0x3a6e63(0x15d)]+'\x20'),_0x64f72c[_0x3a6e63(0xf7)]=_0x1147be['CLOUD_PROVIDER']);}else{const _0x274079={};_0x274079[_0x3a6e63(0xef)]=_0x580c91[_0x3a6e63(0x15c)],_0x274079[_0x3a6e63(0x1b7)]=_0x3a9f05,_0x1e13ad[_0x3a6e63(0xea)](_0x381917,_0x274079,_0x24c1c8[_0x3a6e63(0xdb)],!![]);}}else _0x24c1c8['QtFyS'](_0x24c1c8[_0x3a6e63(0xee)],_0x24c1c8[_0x3a6e63(0xee)])?_0x4c5da8[_0x3a6e63(0x143)](_0x3a6e63(0x163)+_0x2e3a21[_0x3a6e63(0x193)]+_0x3a6e63(0x1b1)):process[_0x3a6e63(0xd2)](0x1);const _0x1eb35b={};_0x1eb35b[_0x3a6e63(0xef)]=WS_EVENTS[_0x3a6e63(0x15c)],_0x1eb35b['message']=_0x24c1c8[_0x3a6e63(0x10e)],webSocketUtils[_0x3a6e63(0xea)](_0x39d18f,_0x1eb35b),global_registry[_0x3a6e63(0xf7)]=_0x23cddf['cloudProvider'],global_registry[_0x3a6e63(0x10d)]=_0x23cddf[_0x3a6e63(0x145)],global_registry['clusterName']=_0x23cddf[_0x3a6e63(0x193)];}else _0x324305['push'](_0x24c1c8['vlbHV']);}else _0x24c1c8[_0x3a6e63(0xfc)](_0x24c1c8[_0x3a6e63(0x18c)],_0x24c1c8['CRXIO'])?_0x184ce1+=_0x3a6e63(0x1b8)+_0x3b0828[_0x3a6e63(0x193)]+'\x20details\x20cannot\x20be\x20fetched\x0a\x0a':(logger[_0x3a6e63(0x1a8)](_0x24c1c8['XAxkP']),process[_0x3a6e63(0xd2)](0x1));}}else _0x7ef4a7[_0x3a6e63(0x186)](_0x24c1c8['MMCSs']);}catch(_0x93e803){_0x24c1c8[_0x3a6e63(0x168)](_0x24c1c8[_0x3a6e63(0x11d)],_0x24c1c8['GJDBT'])?(_0x5b5d2e=_0x3a6e63(0x19a)+_0x93e803+':\x20'+_0x93e803['stack'],logger[_0x3a6e63(0x1a8)](_0x5b5d2e),await _0x24c1c8[_0x3a6e63(0x105)](reportToGalactusAndSendToEDS,_0x26d856,_0x39d18f,_0x5b5d2e,messageTypes[_0x3a6e63(0x13d)],_0x24c1c8[_0x3a6e63(0x17d)],_0x24c1c8[_0x3a6e63(0x16c)],_0x24c1c8['hCBVe']),process[_0x3a6e63(0xd2)](0x1)):_0x14ffd8['exit'](0x1);}}function printResponse(_0x35c15f,_0x4a12d9){const _0x503ccf=a17_0x47b4e3,_0x58694a={};_0x58694a[_0x503ccf(0x11c)]=function(_0x3c5738,_0x8a955f){return _0x3c5738===_0x8a955f;},_0x58694a[_0x503ccf(0x127)]=_0x503ccf(0x15e);const _0x5010be=_0x58694a;logger['info']('['+_0x35c15f+_0x503ccf(0x1b9)+_0x4a12d9[_0x503ccf(0x113)]+_0x503ccf(0x15f)+_0x4a12d9[_0x503ccf(0x131)]+_0x503ccf(0x107)+_0x4a12d9[_0x503ccf(0x1a8)]),_0x4a12d9[_0x503ccf(0x1a8)]&&(_0x5010be['AtGvj'](_0x5010be[_0x503ccf(0x127)],_0x5010be['yavjR'])?logger['error']('error\x20stack\x20:\x20'+_0x4a12d9['error']['stack']):_0x2514c7[_0x503ccf(0x1a8)](_0x503ccf(0x104)+_0x2f2740[_0x503ccf(0x1a8)][_0x503ccf(0xf2)]));}async function generateReport(_0x4c8669,_0x44d17a){const _0x4f803a=a17_0x47b4e3,_0x34b9b2={'aTOMc':function(_0x27cd4f,_0x3790b0){return _0x27cd4f+_0x3790b0;},'giIXx':'Success','lQGEj':_0x4f803a(0xe0),'CJKpJ':function(_0x6aa046,_0x3ee531){return _0x6aa046||_0x3ee531;},'WQghx':_0x4f803a(0x177),'oiGzc':_0x4f803a(0xda),'rceZz':'Cluster\x20details\x0a-----------------------\x0a','gatbO':function(_0x3e4f86,_0xfc7ada){return _0x3e4f86!=_0xfc7ada;},'hzmjh':_0x4f803a(0x197),'ZyIqx':_0x4f803a(0x178),'qhkUm':function(_0xe599a3){return _0xe599a3();}};let _0x170c2f=_0x4f803a(0x1ac)+global_registry[_0x4f803a(0xf7)]+_0x4f803a(0xe9);return _0x4c8669['forEach']((_0x36737f,_0x10cd79)=>{const _0x233f2f=_0x4f803a,{header:_0x50a5b9,response:_0x1100ea}=_0x36737f,{status:_0x4ab9eb,data:_0x402323,error:_0x3d6d68}=_0x1100ea;_0x170c2f+=_0x50a5b9+'\x20#'+_0x34b9b2['aTOMc'](_0x10cd79,0x1)+'\x0a',_0x170c2f+=_0x233f2f(0x140)+(_0x4ab9eb?_0x34b9b2[_0x233f2f(0x137)]:_0x34b9b2[_0x233f2f(0x100)])+'\x0a',_0x170c2f+=_0x233f2f(0xe8)+_0x34b9b2[_0x233f2f(0x19b)](_0x402323,_0x34b9b2[_0x233f2f(0x17b)])+'\x0a',_0x3d6d68&&(_0x170c2f+=_0x34b9b2[_0x233f2f(0x174)],_0x170c2f+='\x20\x20Message:\x20'+(_0x3d6d68[_0x233f2f(0x1b7)]||_0x34b9b2[_0x233f2f(0x17b)])+'\x0a',_0x170c2f+='\x20\x20Code:\x20'+(_0x3d6d68[_0x233f2f(0x154)]||_0x34b9b2[_0x233f2f(0x17b)])+'\x0a',_0x170c2f+=_0x233f2f(0x1b2)+(_0x3d6d68[_0x233f2f(0xf2)]||_0x34b9b2[_0x233f2f(0x17b)])+'\x0a'),_0x170c2f+='\x0a\x0a';}),_0x170c2f+=_0x34b9b2[_0x4f803a(0x192)],_0x34b9b2[_0x4f803a(0x1b6)](_0x44d17a,null)?_0x170c2f+=_0x4f803a(0x1b8)+global_registry['clusterName']+'\x20'+(_0x44d17a?_0x34b9b2[_0x4f803a(0x106)]:_0x34b9b2['ZyIqx'])+'\x0a\x0a':_0x170c2f+='Cluster\x20'+global_registry[_0x4f803a(0x193)]+_0x4f803a(0x13e),_0x170c2f+=_0x34b9b2[_0x4f803a(0xdf)](getSystemMetaData),_0x170c2f;}function a17_0x145c(){const _0xfbf22c=['MQLuT','join','xDcyp','wHDfP','credential-not-found','Pre-check\x20running\x20for\x20Cloud\x20-\x20','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','`\x20is\x20present\x20in\x20region\x20`','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','split','stack\x20trace\x20','error','DBFQg','igsuC','esHQy','===\x20Precheck\x20Report\x20-\x20','.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again','Caolo','argv','.txt','`\x20already\x20exists','\x20\x20Stack:\x20','mcOGj','authHeader','cluster-name','gatbO','message','Cluster\x20',']\x20status\x20:\x20','ohqQK','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','Grid\x20profile\x20fetched\x20for\x20pre-check','ByyYA','getUTCDate','3686770XsMpRF','readFileSync','eBZGX','grid','ibLNf','exit','WebSocket','command','description','QFKca','dSagW','bstackUsername','cloud-provider','Error\x20Details:\x0a','hCBVe','mOiHb','9BGbqvO','PIvOz','qhkUm','Failure','262414XaodEH','THFEc','Dhsyg','XAxkP','eBVJy','checkAccess','tkjtp','Message:\x20','\x20===\x0a\x0a','sendEventToBackend','cluster-check-failed-','GET','SrNEl','KUMSN','type','getUTCFullYear','toolInstalledResp','stack','dQYeC','handler','Success','TLSv1_2_client_method','cloudProvider','SSL\x20Configured','find','vHxgN','7456015ZzwRDa','gOWTI','isCliToolInstalled','writeFileSync','Invalid\x20input.\x20grid\x20profiles:\x20','lQGEj','accessResp','xuyrT','\x20\x20Code:\x20','error\x20stack\x20:\x20','AGCSv','hzmjh','\x20error\x20:\x20','grid-profile','\x20\x20Message:\x20','HOZIb','7706470dnPxmS','username','clusterRegion','JkWQc','Whitelisted\x20browserstack','tUhzf','vdtCk','XTjmf','status','tXTzi','Qvwhc','7344592dlyAjN','stringify','kLhTv','6tRiEBg','options','usage','AtGvj','GJDBT','JLcxX','18FLmIZy','.\x20Please\x20provide\x20all\x20required\x20arguments.','\x20region\x20-\x20','FGbIV','DSXiE','../../config/logger','delay','builder','yavjR','body','rWbHc','existsSync','aMtPx','WRxoe','YwZFI','pre-check','bstackAccesskey','YhvUi','data','RUfkL','utf-8','help','replace','getUTCMonth','giIXx','length','141268PRGymb','ECTfZ','throwHttpErrors','ulVdl','ERROR','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup','Status:\x20','header','pre-check-grid-called','info','IPTrv','region','vGbvF','ozKNv','WQbvU','Lhcbl','gridProfile','reconnecting-websocket','kfdea','name','includes','PNSsa','prUHI','epilogue','dummy-grid','NBhVU','code','GumVC','eJYMb','pRxUH','../../cloudproviders/utils','rqius','rSQiX','bozjh','LOG','CLOUD_PROVIDER','hEFKt','\x20data\x20:\x20','method','uWXQd','isTrialGridAccessible','Cluster\x20`','UeDFq','jgirV','AdKEg','41430653wsMNra','PuKCv','getUTCHours','krijj','bPyId','Glenx','nJtVr','gvUAZ','HKMZG','pre_check','Cvlyy','debug','atVYp','oiGzc','HvXHu','dKchE','N/A','will\x20be\x20created','OoRrT','scwxg','WQghx','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','irQQU','FvyXW','desc','OmgYa','got','dHHSQ','response','Setting\x20cloud\x20provider\x20as\x20','pre-check-failed','push','1uFQSBp','Tool\x20Installed','Browserstack','CAYRD','requestId','CRXIO','BbTKc','1|3|0|4|2','ogDlA','password','FXaMZ','rceZz','clusterName','npogF','PoCDP','`\x20,error\x20:\x20','is\x20already\x20present','NqJvv','UrsXG','Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20','CJKpJ','dxUDW'];a17_0x145c=function(){return _0xfbf22c;};return a17_0x145c();};exports[a17_0x47b4e3(0xf4)]=async function(_0x26209b){const _0x2b8489=a17_0x47b4e3,_0x20da74={'vHxgN':function(_0x3e281f){return _0x3e281f();},'NhRje':'Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','jgirV':function(_0x363dff,_0x5581f7,_0x897d90,_0x18292e,_0x9428b3,_0x171cda,_0x2f321a,_0xd78ab8){return _0x363dff(_0x5581f7,_0x897d90,_0x18292e,_0x9428b3,_0x171cda,_0x2f321a,_0xd78ab8);},'dKchE':_0x2b8489(0x142),'Qvwhc':_0x2b8489(0x1a1),'FvyXW':_0x2b8489(0x1a8),'SrNEl':function(_0x55a26a,_0x2fe790,_0x10363d,_0x11609b,_0x224643,_0xbeb39a,_0x4fe75e){return _0x55a26a(_0x2fe790,_0x10363d,_0x11609b,_0x224643,_0xbeb39a,_0x4fe75e);},'bozjh':'<UsernamePlaceholder>','bPyId':'<PasswordPlaceholder>','YwZFI':function(_0x4df1c4,_0x3e1a7b,_0x1a8e8c){return _0x4df1c4(_0x3e1a7b,_0x1a8e8c);},'RFGZy':function(_0x34c52d,_0x489e65,_0x92232d){return _0x34c52d(_0x489e65,_0x92232d);},'PNSsa':_0x2b8489(0x152),'tXTzi':function(_0x3bfffb,_0x2d5915,_0x3ecc6f){return _0x3bfffb(_0x2d5915,_0x3ecc6f);},'RyStD':_0x2b8489(0xf1),'bmake':_0x2b8489(0x18e),'tkjtp':function(_0xf532a,_0x2ada2f,_0x50620b,_0x18524f,_0x293599,_0x5628a2,_0x59e299,_0x25cdd8){return _0xf532a(_0x2ada2f,_0x50620b,_0x18524f,_0x293599,_0x5628a2,_0x59e299,_0x25cdd8);},'vGbvF':_0x2b8489(0x101),'Dhsyg':function(_0x1edd82){return _0x1edd82();},'QFKca':_0x2b8489(0x162),'rWbHc':function(_0x1b8544,_0x477c9f){return _0x1b8544(_0x477c9f);},'kLhTv':_0x2b8489(0xf6),'XTjmf':function(_0x45a1ae,_0x7ac5ab,_0x28abb8){return _0x45a1ae(_0x7ac5ab,_0x28abb8);},'rsqgw':'isTls1_2_SUPPORTED','PIvOz':_0x2b8489(0x188),'PFmQE':'User\x20Access','gvUAZ':_0x2b8489(0x10f),'mOiHb':_0x2b8489(0xf8),'PoCDP':function(_0x49fa9b,_0xf869e0,_0x4be895){return _0x49fa9b(_0xf869e0,_0x4be895);},'wHDfP':function(_0x4e850f,_0x57aa7f){return _0x4e850f+_0x57aa7f;},'atVYp':_0x2b8489(0x133),'Wabes':function(_0x393a3a,_0x5d2d4e,_0x219b63,_0x4d8cc9,_0x4de5bd,_0x555ee1,_0x2949cc){return _0x393a3a(_0x5d2d4e,_0x219b63,_0x4d8cc9,_0x4de5bd,_0x555ee1,_0x2949cc);},'esHQy':_0x2b8489(0x185)};let _0x2c89a0,_0x25fbeb;try{global_registry[_0x2b8489(0x18b)]=_0x20da74[_0x2b8489(0xfa)](uuidv4);!fs[_0x2b8489(0x12a)](_0x20da74[_0x2b8489(0xfa)](getCredentialsPath))&&(_0x25fbeb=_0x20da74['NhRje'],logger['error'](_0x25fbeb),await _0x20da74[_0x2b8489(0x165)](reportToGalactusAndSendToEDS,_0x26209b,_0x2c89a0,_0x25fbeb,messageTypes['ERROR'],_0x20da74[_0x2b8489(0x176)],_0x20da74[_0x2b8489(0x115)],_0x20da74[_0x2b8489(0x17e)]),process['exit'](0x1));_0x20da74[_0x2b8489(0xed)](sendInstrumentationEvent,_0x26209b,_0x20da74[_0x2b8489(0x176)],messageTypes['INFO'],null,null,_0x26209b);const _0x19dae7=JSON['parse'](fs[_0x2b8489(0x1c0)](_0x20da74[_0x2b8489(0xfa)](getCredentialsPath)));global_registry[_0x2b8489(0xd8)]=_0x19dae7[_0x2b8489(0x189)][_0x2b8489(0x10c)],global_registry[_0x2b8489(0x12f)]=_0x19dae7[_0x2b8489(0x189)][_0x2b8489(0x190)];const _0x5de2b0=WS_ENDPOINT[_0x2b8489(0x135)](_0x20da74[_0x2b8489(0x15b)],_0x19dae7[_0x2b8489(0x189)]['username'])[_0x2b8489(0x135)](_0x20da74[_0x2b8489(0x16b)],_0x19dae7[_0x2b8489(0x189)][_0x2b8489(0x190)]),_0x476ba4={};_0x476ba4[_0x2b8489(0xd3)]=ws,_0x476ba4['connectionTimeout']=0x36ee80,_0x2c89a0=new ReconnectingWebSocket(_0x5de2b0,[],_0x476ba4),global_registry[_0x2b8489(0x1b4)]=_0x20da74[_0x2b8489(0x12d)](getAuthHeader,global_registry[_0x2b8489(0xd8)],global_registry[_0x2b8489(0x12f)]),await _0x20da74['RFGZy'](inputValidation,_0x26209b,_0x2c89a0),logger['info'](_0x2b8489(0x1a2)+global_registry[_0x2b8489(0xf7)]+_0x2b8489(0x121)+global_registry['clusterRegion']);let _0x57daaa=await _0x20da74[_0x2b8489(0xed)](getCloudProviderObjectWithOutInit,global_registry[_0x2b8489(0xf7)],global_registry[_0x2b8489(0x193)],_0x20da74[_0x2b8489(0x14f)],_0x2c89a0,webSocketUtils,_0x26209b);const _0x3024ae=await _0x57daaa[_0x2b8489(0xfd)]();_0x20da74[_0x2b8489(0x114)](printResponse,_0x20da74['RyStD'],_0x3024ae),_0x57daaa=await _0x57daaa['init']();let _0x2a9da5=![];try{_0x2a9da5=await _0x57daaa['isClusterPresent']();}catch(_0x24749b){const _0x2abdc7=_0x20da74['bmake'][_0x2b8489(0x1a6)]('|');let _0xb6c744=0x0;while(!![]){switch(_0x2abdc7[_0xb6c744++]){case'0':logger[_0x2b8489(0x1a8)](_0x25fbeb);continue;case'1':_0x25fbeb='unable\x20to\x20verify\x20if\x20cluster\x20`'+global_registry['clusterName']+_0x2b8489(0x1a4)+global_registry[_0x2b8489(0x10d)]+_0x2b8489(0x196)+_0x24749b;continue;case'2':await _0x20da74[_0x2b8489(0xe7)](reportToGalactusAndSendToEDS,_0x26209b,_0x2c89a0,_0x25fbeb,messageTypes[_0x2b8489(0x13d)],_0x20da74[_0x2b8489(0x176)],_0x2b8489(0xeb)+global_registry[_0x2b8489(0xf7)],_0x20da74[_0x2b8489(0x17e)]);continue;case'3':_0x2a9da5=null;continue;case'4':_0x25fbeb+='\x0a'+JSON[_0x2b8489(0x117)](_0x24749b[_0x2b8489(0xf2)]);continue;}break;}}_0x2a9da5&&logger[_0x2b8489(0x143)](_0x2b8489(0x163)+global_registry[_0x2b8489(0x193)]+_0x2b8489(0x1b1));const _0x110792=await _0x57daaa[_0x2b8489(0xe6)]();_0x20da74['tXTzi'](printResponse,_0x20da74[_0x2b8489(0x146)],_0x110792);const _0x504d65=await _0x20da74[_0x2b8489(0xe3)](curlRequest);_0x20da74['YwZFI'](printResponse,_0x20da74[_0x2b8489(0xd6)],_0x504d65);const _0x4b3e8c=await _0x20da74[_0x2b8489(0x129)](isTlsSupported,_0x20da74[_0x2b8489(0x118)]);_0x20da74[_0x2b8489(0x112)](printResponse,_0x20da74['rsqgw'],_0x4b3e8c);const _0xc4203a={};_0xc4203a[_0x2b8489(0x141)]=_0x20da74[_0x2b8489(0xde)],_0xc4203a[_0x2b8489(0x183)]=_0x3024ae;const _0x2cfc27={};_0x2cfc27['header']=_0x20da74['PFmQE'],_0x2cfc27[_0x2b8489(0x183)]=_0x110792;const _0x47fd08={};_0x47fd08[_0x2b8489(0x141)]=_0x20da74[_0x2b8489(0x16e)],_0x47fd08['response']=_0x504d65;const _0x21a34c={};_0x21a34c[_0x2b8489(0x141)]=_0x20da74[_0x2b8489(0xdc)],_0x21a34c[_0x2b8489(0x183)]=_0x4b3e8c;const _0x172648=[_0xc4203a,_0x2cfc27,_0x47fd08,_0x21a34c],_0x150f59=await _0x20da74[_0x2b8489(0x195)](generateReport,_0x172648,_0x2a9da5),_0x5f17b5=new Date(),_0x3f3317=_0x5f17b5[_0x2b8489(0xf0)]()+'_'+_0x20da74[_0x2b8489(0x1a0)](_0x5f17b5[_0x2b8489(0x136)](),0x1)+'_'+_0x5f17b5[_0x2b8489(0x1be)]()+'_'+_0x5f17b5[_0x2b8489(0x169)]()+'_'+_0x5f17b5['getUTCMinutes'](),_0x2aef52='log/report_'+_0x3f3317+_0x2b8489(0x1b0);fs[_0x2b8489(0xfe)](_0x2aef52,_0x150f59,_0x20da74[_0x2b8489(0x173)]),logger[_0x2b8489(0x143)]('Report\x20saved\x20in\x20'+_0x2aef52),process[_0x2b8489(0xd2)](0x0);}catch(_0x3f1efc){let _0x4d019e='Failed\x20in\x20pre-check!\x20Error:\x20'+_0x3f1efc+'\x20';logger[_0x2b8489(0x1a8)](_0x4d019e),_0x4d019e+='\x0a'+JSON[_0x2b8489(0x117)](_0x3f1efc[_0x2b8489(0xf2)]),logger[_0x2b8489(0x172)](_0x2b8489(0x1a7)+_0x3f1efc[_0x2b8489(0xf2)]);if(_0x2c89a0){const _0x1d9e51={};_0x1d9e51[_0x2b8489(0xef)]=WS_EVENTS[_0x2b8489(0x15c)],_0x1d9e51[_0x2b8489(0x1b7)]=_0x4d019e,webSocketUtils['sendEventToBackend'](_0x2c89a0,_0x1d9e51,_0x20da74[_0x2b8489(0x17e)],!![]);}await webSocketUtils[_0x2b8489(0x125)](0x7d0);const _0x1a0723={};_0x1a0723['error']=_0x4d019e,await _0x20da74['Wabes'](sendInstrumentationEvent,_0x26209b,_0x20da74[_0x2b8489(0x176)],messageTypes[_0x2b8489(0x13d)],_0x20da74[_0x2b8489(0x1ab)],_0x1a0723,_0x26209b),process[_0x2b8489(0xd2)](0x1);}};