const a17_0x7329e3=a17_0x58c7;(function(_0xc14e35,_0x2cad4e){const _0x503257=a17_0x58c7,_0x2bf0c5=_0xc14e35();while(!![]){try{const _0x598f52=parseInt(_0x503257(0x188))/0x1*(parseInt(_0x503257(0x16b))/0x2)+parseInt(_0x503257(0x19b))/0x3*(parseInt(_0x503257(0x128))/0x4)+-parseInt(_0x503257(0x16f))/0x5+parseInt(_0x503257(0x158))/0x6+parseInt(_0x503257(0x186))/0x7+parseInt(_0x503257(0x1d1))/0x8*(-parseInt(_0x503257(0x1fe))/0x9)+-parseInt(_0x503257(0x1fa))/0xa;if(_0x598f52===_0x2cad4e)break;else _0x2bf0c5['push'](_0x2bf0c5['shift']());}catch(_0x27c242){_0x2bf0c5['push'](_0x2bf0c5['shift']());}}}(a17_0x1545,0x81d0a));const fs=require('fs'),ws=require('ws'),got=require(a17_0x7329e3(0x210)),{v4:uuidv4}=require(a17_0x7329e3(0x167)),ReconnectingWebSocket=require(a17_0x7329e3(0x181)),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require(a17_0x7329e3(0x1a4)),{logger}=require('../../config/logger'),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require('../../config/constants'),{getCloudProviderObjectWithOutInit}=require(a17_0x7329e3(0x196)),webSocketUtils=require(a17_0x7329e3(0x222)),{sendInstrumentationEvent}=require(a17_0x7329e3(0x1dc));exports[a17_0x7329e3(0x1e4)]=a17_0x7329e3(0x143),exports[a17_0x7329e3(0x1b2)]=a17_0x7329e3(0x1f1),exports[a17_0x7329e3(0x173)]=function(_0x2f76a9){const _0x46b286=a17_0x7329e3,_0x1b4cfe={};_0x1b4cfe[_0x46b286(0x224)]=_0x46b286(0x183),_0x1b4cfe[_0x46b286(0x155)]=_0x46b286(0x178),_0x1b4cfe[_0x46b286(0x1c4)]=_0x46b286(0x192),_0x1b4cfe[_0x46b286(0x1eb)]=_0x46b286(0x197),_0x1b4cfe[_0x46b286(0x13f)]='Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.',_0x1b4cfe[_0x46b286(0x132)]=_0x46b286(0x161);const _0x3e732d=_0x1b4cfe,_0x302653={};_0x302653[_0x46b286(0x13e)]=_0x3e732d['MgVkY'],_0x302653[_0x46b286(0x1c8)]=_0x3e732d['hAawb'];const _0x29cefc={};_0x29cefc['description']=_0x3e732d[_0x46b286(0x1c4)],_0x29cefc[_0x46b286(0x1c8)]=_0x3e732d[_0x46b286(0x155)];const _0x4a4270={};_0x4a4270['description']=_0x3e732d[_0x46b286(0x1eb)],_0x4a4270['type']=_0x3e732d[_0x46b286(0x155)];const _0x199ace={};_0x199ace[_0x46b286(0x13e)]=_0x3e732d[_0x46b286(0x13f)],_0x199ace[_0x46b286(0x1c8)]=_0x3e732d['hAawb'];const _0x29c5b9={};return _0x29c5b9['cluster-name']=_0x302653,_0x29c5b9[_0x46b286(0x1b5)]=_0x29cefc,_0x29c5b9[_0x46b286(0x21b)]=_0x4a4270,_0x29c5b9[_0x46b286(0x205)]=_0x199ace,_0x2f76a9[_0x46b286(0x166)](HELP_HEADER_MESSAGE[_0x46b286(0x1d6)])['epilogue'](HELP_FOOTER_MESSAGE)[_0x46b286(0x15d)](_0x29c5b9)[_0x46b286(0x161)](_0x3e732d[_0x46b286(0x132)])[_0x46b286(0x17e)];};function a17_0x58c7(_0x2df0dc,_0x592f5a){const _0x154584=a17_0x1545();return a17_0x58c7=function(_0x58c704,_0x14b4b0){_0x58c704=_0x58c704-0x127;let _0x25ad17=_0x154584[_0x58c704];return _0x25ad17;},a17_0x58c7(_0x2df0dc,_0x592f5a);}async function inputValidation(_0x1f6fd3,_0x1d60d2){const _0x9ff242=a17_0x7329e3,_0x3e641a={'fObsz':_0x9ff242(0x1cd),'FVlrP':'cluster-name','KyegZ':_0x9ff242(0x1b5),'IfMFV':_0x9ff242(0x183),'JRgco':_0x9ff242(0x178),'VoTsG':_0x9ff242(0x192),'HUVIV':_0x9ff242(0x197),'nhKGT':'Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','ZUHHs':_0x9ff242(0x161),'iSmVr':_0x9ff242(0x1f5),'qRUps':_0x9ff242(0x156),'ayXyX':'error','lusax':_0x9ff242(0x1d0),'EsQjF':_0x9ff242(0x1db),'AtMAQ':'region','rEUKQ':function(_0x101a64,_0x51e6e5){return _0x101a64+_0x51e6e5;},'cVCRJ':_0x9ff242(0x1ee),'AXwjR':_0x9ff242(0x17d),'fgslF':function(_0x2f6c0b,_0x162b72){return _0x2f6c0b||_0x162b72;},'drSTN':function(_0x59ef12,_0xa12954){return _0x59ef12!==_0xa12954;},'qCLTw':_0x9ff242(0x1f4),'EJzQB':_0x9ff242(0x211),'hcMRj':_0x9ff242(0x17b),'NktUH':function(_0x28a1ce,_0x92141){return _0x28a1ce!==_0x92141;},'oRDdP':_0x9ff242(0x225),'pMjha':_0x9ff242(0x20d),'BbbJk':function(_0x340ae5,_0x2be785){return _0x340ae5!==_0x2be785;},'voUno':_0x9ff242(0x15e),'JOsUP':function(_0x6333b8,_0x51e66d){return _0x6333b8===_0x51e66d;},'wAQau':'aPEqr','TfJad':'esEMK','YLYZC':function(_0x3c79bc,_0x544a30){return _0x3c79bc>_0x544a30;},'thiSf':function(_0x15d903,_0xbf9470){return _0x15d903!==_0xbf9470;},'SJTNK':_0x9ff242(0x170),'lLFdZ':_0x9ff242(0x144),'sbXbD':function(_0x3cf1e1,_0x2ab2af,_0x2c7059,_0x41990a,_0x406316,_0x5579ce,_0x4b9ebb,_0x5ac267){return _0x3cf1e1(_0x2ab2af,_0x2c7059,_0x41990a,_0x406316,_0x5579ce,_0x4b9ebb,_0x5ac267);},'hSBhb':_0x9ff242(0x1a5),'qCAFd':_0x9ff242(0x12a),'oyneF':_0x9ff242(0x223),'NKuDg':'DbwEw','fBlrm':'Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','MZRDx':_0x9ff242(0x16e),'IDIcr':_0x9ff242(0x1ad),'xrjBo':function(_0x588d70,_0x294c20){return _0x588d70===_0x294c20;},'XQVOn':'dWoCw','IMNbV':_0x9ff242(0x1e5),'rRAOL':_0x9ff242(0x14e),'YRYIn':function(_0x12ee0a,_0x5722cb,_0x2a69a2){return _0x12ee0a(_0x5722cb,_0x2a69a2);},'CoXKU':function(_0x19f240,_0x287609,_0x508801,_0x1ed333,_0x8be365,_0x5638fa){return _0x19f240(_0x287609,_0x508801,_0x1ed333,_0x8be365,_0x5638fa);},'RtYJO':_0x9ff242(0x12b),'xFuAR':'grid-profile','uDJBM':function(_0x478db6,_0x51fdde){return _0x478db6===_0x51fdde;},'sHXyf':function(_0xaa332f,_0x5bb110){return _0xaa332f!==_0x5bb110;},'ETHjV':'wDaFU','UapqK':function(_0x28e2ff,_0x2977a2){return _0x28e2ff(_0x2977a2);},'AKcah':function(_0x26a014,_0x40d298){return _0x26a014!==_0x40d298;},'hvamb':'CmVdF','FFCGZ':function(_0x5ba1f1,_0xeb0564,_0x155c5d,_0x187b0c,_0x3d66a6,_0x26d0ff,_0x43db50,_0x509be8){return _0x5ba1f1(_0xeb0564,_0x155c5d,_0x187b0c,_0x3d66a6,_0x26d0ff,_0x43db50,_0x509be8);},'oYcsw':_0x9ff242(0x1fc),'VSsBA':_0x9ff242(0x163),'kIRDZ':_0x9ff242(0x145),'AwXvN':function(_0xf93089,_0x94aa7f){return _0xf93089===_0x94aa7f;},'cxiHW':'suWMi','tmIjn':_0x9ff242(0x151),'yCHDg':_0x9ff242(0x1bd),'IzfXe':'DejBn','dFMXF':function(_0x2b26e8,_0x39b2ad){return _0x2b26e8!==_0x39b2ad;},'WqTrE':_0x9ff242(0x162),'FdlYj':_0x9ff242(0x1d8)};let _0x29c0d6;try{if(_0x3e641a[_0x9ff242(0x20a)](_0x3e641a[_0x9ff242(0x19a)],_0x3e641a['qCLTw']))_0xbdd599[_0x9ff242(0x199)](_0x3e641a[_0x9ff242(0x1fb)]),_0x5791d6[_0x9ff242(0x160)](0x1);else{if(_0x1f6fd3[_0x9ff242(0x1b6)]||_0x1f6fd3[_0x9ff242(0x1d2)]||_0x1f6fd3[_0x9ff242(0x21b)]){if(_0x3e641a[_0x9ff242(0x20a)](_0x3e641a[_0x9ff242(0x209)],_0x3e641a[_0x9ff242(0x18f)])){const _0x55ed86=[];!_0x1f6fd3['clusterName']&&(_0x3e641a[_0x9ff242(0x21d)](_0x3e641a['oRDdP'],_0x3e641a[_0x9ff242(0x1ec)])?_0x55ed86[_0x9ff242(0x1d3)](_0x3e641a[_0x9ff242(0x203)]):_0xbd040c=_0x25e570);;!_0x1f6fd3['cloudProvider']&&(_0x3e641a[_0x9ff242(0x165)](_0x3e641a['voUno'],_0x3e641a[_0x9ff242(0x16d)])?_0x3b6a08['error'](_0x9ff242(0x198)+_0x23bf38[_0x9ff242(0x199)][_0x9ff242(0x1f0)]):_0x55ed86[_0x9ff242(0x1d3)](_0x3e641a['KyegZ']));;!_0x1f6fd3['region']&&(_0x3e641a['JOsUP'](_0x3e641a[_0x9ff242(0x20e)],_0x3e641a['TfJad'])?_0x1efabd[_0x9ff242(0x1d3)](_0x3e641a['FVlrP']):_0x55ed86[_0x9ff242(0x1d3)](_0x3e641a[_0x9ff242(0x1bf)]));;_0x3e641a[_0x9ff242(0x184)](_0x55ed86[_0x9ff242(0x20b)],0x0)&&(_0x3e641a['thiSf'](_0x3e641a[_0x9ff242(0x212)],_0x3e641a[_0x9ff242(0x19c)])?(_0x29c0d6=_0x9ff242(0x146)+_0x55ed86[_0x9ff242(0x1f6)](',\x20')+_0x9ff242(0x168),await _0x3e641a[_0x9ff242(0x20f)](reportToGalactusAndSendToEDS,_0x1f6fd3,_0x1d60d2,_0x29c0d6,messageTypes[_0x9ff242(0x14c)],_0x3e641a['hSBhb'],_0x3e641a[_0x9ff242(0x12d)],_0x3e641a[_0x9ff242(0x1a0)]),logger[_0x9ff242(0x199)](_0x29c0d6),process[_0x9ff242(0x160)](0x1)):_0xd9f093[_0x9ff242(0x1b4)](_0x9ff242(0x1c0)+_0x34e02f[_0x9ff242(0x1b6)]+_0x9ff242(0x180))),!ALL_SUPPORTED_CLOUD_PROVIDERS[_0x9ff242(0x149)](_0x1f6fd3[_0x9ff242(0x1d2)][_0x9ff242(0x1e6)]())&&(_0x3e641a[_0x9ff242(0x1b8)](_0x3e641a[_0x9ff242(0x18e)],_0x3e641a[_0x9ff242(0x1f7)])?(_0x29c0d6=_0x3e641a[_0x9ff242(0x1d9)],await _0x3e641a[_0x9ff242(0x20f)](reportToGalactusAndSendToEDS,_0x1f6fd3,_0x1d60d2,_0x29c0d6,messageTypes['ERROR'],_0x3e641a[_0x9ff242(0x14a)],_0x3e641a['MZRDx'],_0x3e641a['ayXyX']),logger[_0x9ff242(0x199)](_0x29c0d6),!_0x1f6fd3[_0x9ff242(0x1d2)]&&(_0x3e641a[_0x9ff242(0x21d)](_0x3e641a[_0x9ff242(0x148)],_0x3e641a[_0x9ff242(0x148)])?_0x3a1946[_0x9ff242(0x1d3)](_0x3e641a[_0x9ff242(0x133)]):(logger[_0x9ff242(0x1b4)]('Setting\x20cloud\x20provider\x20as\x20'+DEFAULT_CLUSTER_DETAILS[_0x9ff242(0x17a)]+'\x20'),_0x1f6fd3[_0x9ff242(0x1d2)]=DEFAULT_CLUSTER_DETAILS['CLOUD_PROVIDER']))):(_0x4b5427[_0x9ff242(0x1b4)]('['+_0x383733+_0x9ff242(0x13b)+_0xc70ccb['status']+_0x9ff242(0x15a)+_0x5874b6[_0x9ff242(0x14f)]+_0x9ff242(0x1bc)+_0x596eda[_0x9ff242(0x199)]),_0x26d4b2[_0x9ff242(0x199)]&&_0x724f1b['error'](_0x9ff242(0x198)+_0x10599b[_0x9ff242(0x199)]['stack']))),global_registry[_0x9ff242(0x1b6)]=_0x1f6fd3[_0x9ff242(0x1b6)],global_registry[_0x9ff242(0x1d2)]=_0x1f6fd3[_0x9ff242(0x1d2)],global_registry[_0x9ff242(0x1e0)]=_0x1f6fd3[_0x9ff242(0x21b)];}else{const _0xaa7290={};_0xaa7290[_0x9ff242(0x13e)]=_0x3e641a[_0x9ff242(0x177)],_0xaa7290[_0x9ff242(0x1c8)]=_0x3e641a['JRgco'];const _0x4b25a8={};_0x4b25a8['description']=_0x3e641a['VoTsG'],_0x4b25a8[_0x9ff242(0x1c8)]=_0x3e641a[_0x9ff242(0x159)];const _0x30e5be={};_0x30e5be[_0x9ff242(0x13e)]=_0x3e641a[_0x9ff242(0x157)],_0x30e5be[_0x9ff242(0x1c8)]=_0x3e641a[_0x9ff242(0x159)];const _0xf5eb81={};_0xf5eb81[_0x9ff242(0x13e)]=_0x3e641a[_0x9ff242(0x1ed)],_0xf5eb81[_0x9ff242(0x1c8)]=_0x3e641a[_0x9ff242(0x159)];const _0x2a14eb={};return _0x2a14eb[_0x9ff242(0x1b9)]=_0xaa7290,_0x2a14eb[_0x9ff242(0x1b5)]=_0x4b25a8,_0x2a14eb[_0x9ff242(0x21b)]=_0x30e5be,_0x2a14eb[_0x9ff242(0x205)]=_0xf5eb81,_0x231cb7['usage'](_0x49b490['pre_check'])[_0x9ff242(0x1b7)](_0xa498c2)['options'](_0x2a14eb)[_0x9ff242(0x161)](_0x3e641a['ZUHHs'])[_0x9ff242(0x17e)];}}else{if(_0x1f6fd3[_0x9ff242(0x176)]){if(_0x3e641a[_0x9ff242(0x1a6)](_0x3e641a[_0x9ff242(0x136)],_0x3e641a[_0x9ff242(0x17c)]))_0x43d6d7+=_0x9ff242(0x175)+_0x576658[_0x9ff242(0x1b6)]+'\x20details\x20cannot\x20be\x20fetched\x0a\x0a';else{global_registry[_0x9ff242(0x176)]=_0x1f6fd3['gridProfile'],logger['debug'](_0x9ff242(0x1c7)+_0x1f6fd3[_0x9ff242(0x176)]);const _0x38ae55=_0x9ff242(0x174)+AG_API_URL+_0x9ff242(0x1fd),_0x5b1831={};_0x5b1831[_0x9ff242(0x1be)]=_0x3e641a[_0x9ff242(0x1d4)],_0x5b1831[_0x9ff242(0x1ae)]=global_registry[_0x9ff242(0x194)],_0x5b1831[_0x9ff242(0x228)]=![];const _0x718815=_0x5b1831,_0x20941a=await _0x3e641a['YRYIn'](got,_0x38ae55,_0x718815),_0xfd5d50=await _0x3e641a['CoXKU'](responseValidation,_0x20941a,_0x3e641a[_0x9ff242(0x21a)],_0x3e641a[_0x9ff242(0x191)],_0x1f6fd3,_0x1d60d2);let _0x330eae={};if(_0x3e641a['uDJBM'](_0xfd5d50,0xc8)){if(_0x3e641a[_0x9ff242(0x21f)](_0x3e641a[_0x9ff242(0x1e8)],_0x3e641a[_0x9ff242(0x1e8)]))_0x3c6872+=_0x3e641a[_0x9ff242(0x1c3)],_0x1cb076+=_0x9ff242(0x131)+(_0x44c1df[_0x9ff242(0x1dd)]||_0x3e641a[_0x9ff242(0x17f)])+'\x0a',_0x40f54c+='\x20\x20Code:\x20'+(_0x2e8667[_0x9ff242(0x19f)]||_0x3e641a['qRUps'])+'\x0a',_0x2f8d76+=_0x9ff242(0x1aa)+(_0x1e9088[_0x9ff242(0x1f0)]||_0x3e641a[_0x9ff242(0x17f)])+'\x0a';else{const _0x43b0ef=JSON[_0x9ff242(0x18d)](_0x20941a[_0x9ff242(0x1ff)]),_0x24d98d=_0x43b0ef[_0x9ff242(0x1c2)](_0x4ad4ea=>_0x4ad4ea['name']===_0x1f6fd3[_0x9ff242(0x176)])||null;if(_0x3e641a[_0x9ff242(0x1b0)](isUndefined,_0x24d98d)){if(_0x3e641a['AKcah'](_0x3e641a[_0x9ff242(0x1ab)],_0x3e641a[_0x9ff242(0x1ab)])){const _0x440de1={};_0x440de1[_0x9ff242(0x1c8)]=_0x57b382[_0x9ff242(0x1f3)],_0x440de1[_0x9ff242(0x1dd)]=_0x3fb2d6,_0x5c79fb['sendEventToBackend'](_0x442b7d,_0x440de1,_0x3e641a['ayXyX'],!![]);}else _0x29c0d6=_0x9ff242(0x226)+_0x1f6fd3['gridProfile']+_0x9ff242(0x141),await _0x3e641a[_0x9ff242(0x172)](reportToGalactusAndSendToEDS,_0x1f6fd3,_0x1d60d2,_0x29c0d6,messageTypes[_0x9ff242(0x14c)],_0x3e641a['hSBhb'],_0x3e641a[_0x9ff242(0x213)],_0x3e641a[_0x9ff242(0x1a0)]),logger[_0x9ff242(0x199)](_0x29c0d6),process[_0x9ff242(0x160)](0x1);}else _0x3e641a['drSTN'](_0x3e641a[_0x9ff242(0x15f)],_0x3e641a[_0x9ff242(0x127)])?_0x330eae=_0x24d98d:_0x2e87bb+=_0x9ff242(0x175)+_0x9be643[_0x9ff242(0x1b6)]+'\x20'+(_0x5db94d?_0x3e641a[_0x9ff242(0x139)]:_0x3e641a[_0x9ff242(0x208)])+'\x0a\x0a';}}else _0x3e641a[_0x9ff242(0x207)](_0x3e641a[_0x9ff242(0x1d5)],_0x3e641a[_0x9ff242(0x1d5)])?process[_0x9ff242(0x160)](0x1):_0x369721['push'](_0x3e641a[_0x9ff242(0x1bf)]);const _0xdbba4e={};_0xdbba4e[_0x9ff242(0x1c8)]=WS_EVENTS[_0x9ff242(0x1f3)],_0xdbba4e['message']=_0x3e641a[_0x9ff242(0x12e)],webSocketUtils[_0x9ff242(0x164)](_0x1d60d2,_0xdbba4e),global_registry[_0x9ff242(0x1d2)]=_0x330eae[_0x9ff242(0x1d2)],global_registry[_0x9ff242(0x1e0)]=_0x330eae[_0x9ff242(0x21b)],global_registry[_0x9ff242(0x1b6)]=_0x330eae[_0x9ff242(0x1b6)];}}else _0x3e641a['AwXvN'](_0x3e641a[_0x9ff242(0x219)],_0x3e641a[_0x9ff242(0x187)])?_0xc7f568[_0x9ff242(0x160)](0x1):(logger['error'](_0x3e641a[_0x9ff242(0x1fb)]),process[_0x9ff242(0x160)](0x1));}}}catch(_0x4134bb){if(_0x3e641a['dFMXF'](_0x3e641a[_0x9ff242(0x1ce)],_0x3e641a[_0x9ff242(0x1d7)]))_0x29c0d6='Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20'+_0x4134bb+':\x20'+_0x4134bb['stack'],logger[_0x9ff242(0x199)](_0x29c0d6),await _0x3e641a[_0x9ff242(0x20f)](reportToGalactusAndSendToEDS,_0x1f6fd3,_0x1d60d2,_0x29c0d6,messageTypes[_0x9ff242(0x14c)],_0x3e641a['hSBhb'],_0x3e641a[_0x9ff242(0x16c)],_0x3e641a['ayXyX']),process[_0x9ff242(0x160)](0x1);else{const {header:_0x5c7b68,response:_0xd35e8f}=_0x52c00d,{status:_0x3e5668,data:_0x2c6af5,error:_0x57427f}=_0xd35e8f;_0x52d7e5+=_0x5c7b68+'\x20#'+_0x3e641a['rEUKQ'](_0x2cd163,0x1)+'\x0a',_0x11800c+=_0x9ff242(0x140)+(_0x3e5668?_0x3e641a['cVCRJ']:_0x3e641a[_0x9ff242(0x1cb)])+'\x0a',_0x4050f1+=_0x9ff242(0x18a)+_0x3e641a[_0x9ff242(0x134)](_0x2c6af5,_0x3e641a['qRUps'])+'\x0a',_0x57427f&&(_0x221657+=_0x3e641a[_0x9ff242(0x1c3)],_0xfd501f+='\x20\x20Message:\x20'+(_0x57427f[_0x9ff242(0x1dd)]||_0x3e641a[_0x9ff242(0x17f)])+'\x0a',_0x121196+=_0x9ff242(0x1a1)+(_0x57427f[_0x9ff242(0x19f)]||_0x3e641a[_0x9ff242(0x17f)])+'\x0a',_0x57410e+=_0x9ff242(0x1aa)+(_0x57427f['stack']||_0x3e641a[_0x9ff242(0x17f)])+'\x0a'),_0x5a4759+='\x0a\x0a';}}}function printResponse(_0x1e9748,_0x18474b){const _0x50007a=a17_0x7329e3,_0x2448b6={};_0x2448b6[_0x50007a(0x1c5)]=function(_0x217ea2,_0x131a88){return _0x217ea2!==_0x131a88;},_0x2448b6[_0x50007a(0x1bb)]='TXwgk',_0x2448b6[_0x50007a(0x12c)]='nFdqa';const _0x5801d8=_0x2448b6;logger['info']('['+_0x1e9748+_0x50007a(0x13b)+_0x18474b[_0x50007a(0x142)]+_0x50007a(0x15a)+_0x18474b[_0x50007a(0x14f)]+_0x50007a(0x1bc)+_0x18474b[_0x50007a(0x199)]),_0x18474b[_0x50007a(0x199)]&&(_0x5801d8[_0x50007a(0x1c5)](_0x5801d8[_0x50007a(0x1bb)],_0x5801d8['iRZlu'])?logger['error'](_0x50007a(0x198)+_0x18474b['error'][_0x50007a(0x1f0)]):(_0x1ac11c[_0x50007a(0x1b4)](_0x50007a(0x14d)+_0x7eaa9a[_0x50007a(0x17a)]+'\x20'),_0x12f5c3[_0x50007a(0x1d2)]=_0x208c40[_0x50007a(0x17a)]));}async function generateReport(_0x6deb65,_0x360d91){const _0x4d2e27=a17_0x7329e3,_0x100a05={'fdNLH':function(_0x1e467a,_0x460e4c){return _0x1e467a+_0x460e4c;},'rLtJk':_0x4d2e27(0x1ee),'dmwJs':_0x4d2e27(0x17d),'EMPIw':function(_0x382aea,_0x484a71){return _0x382aea||_0x484a71;},'Yyamw':'N/A','tPVlW':_0x4d2e27(0x1f5),'mlrmN':_0x4d2e27(0x217),'xISkJ':function(_0xa26a5b,_0x3004f2){return _0xa26a5b!=_0x3004f2;},'YIuip':_0x4d2e27(0x1d0),'ONVKY':_0x4d2e27(0x1db),'MsGwk':function(_0x57c726){return _0x57c726();}};let _0x28182f='===\x20Precheck\x20Report\x20-\x20'+global_registry[_0x4d2e27(0x1d2)]+'\x20===\x0a\x0a';return _0x6deb65['forEach']((_0x594f9a,_0x5ed7db)=>{const _0x12a3f2=_0x4d2e27,{header:_0x445e2b,response:_0x1fcecb}=_0x594f9a,{status:_0x26a8ea,data:_0xdd9c9f,error:_0x5265eb}=_0x1fcecb;_0x28182f+=_0x445e2b+'\x20#'+_0x100a05[_0x12a3f2(0x1cf)](_0x5ed7db,0x1)+'\x0a',_0x28182f+=_0x12a3f2(0x140)+(_0x26a8ea?_0x100a05[_0x12a3f2(0x20c)]:_0x100a05[_0x12a3f2(0x206)])+'\x0a',_0x28182f+='Message:\x20'+_0x100a05['EMPIw'](_0xdd9c9f,_0x100a05[_0x12a3f2(0x19e)])+'\x0a',_0x5265eb&&(_0x28182f+=_0x100a05[_0x12a3f2(0x1b3)],_0x28182f+='\x20\x20Message:\x20'+(_0x5265eb[_0x12a3f2(0x1dd)]||_0x100a05[_0x12a3f2(0x19e)])+'\x0a',_0x28182f+='\x20\x20Code:\x20'+(_0x5265eb[_0x12a3f2(0x19f)]||_0x100a05['Yyamw'])+'\x0a',_0x28182f+='\x20\x20Stack:\x20'+(_0x5265eb['stack']||_0x100a05[_0x12a3f2(0x19e)])+'\x0a'),_0x28182f+='\x0a\x0a';}),_0x28182f+=_0x100a05['mlrmN'],_0x100a05['xISkJ'](_0x360d91,null)?_0x28182f+=_0x4d2e27(0x175)+global_registry[_0x4d2e27(0x1b6)]+'\x20'+(_0x360d91?_0x100a05[_0x4d2e27(0x171)]:_0x100a05[_0x4d2e27(0x130)])+'\x0a\x0a':_0x28182f+='Cluster\x20'+global_registry[_0x4d2e27(0x1b6)]+'\x20details\x20cannot\x20be\x20fetched\x0a\x0a',_0x28182f+=_0x100a05['MsGwk'](getSystemMetaData),_0x28182f;};function a17_0x1545(){const _0x4917e3=['toLowerCase','SSL\x20Configured','ETHjV','qTssy','2|3|0|1|4','MCqOM','pMjha','nhKGT','Success','isTls1_2_SUPPORTED','stack','Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup','WebSocket','LOG','cymke','Error\x20Details:\x0a','join','NKuDg','password','isCliToolInstalled','19914180ylvAHW','fObsz','pre-check-grid-profile-empty','/packages/cli/get-all-grid-profiles','936kYVNAX','body','cjrlh','mmkWm','Browserstack','FVlrP','getUTCHours','grid-profile','dmwJs','AwXvN','EsQjF','EJzQB','drSTN','length','rLtJk','Hklkr','wAQau','sbXbD','got','XXBGi','SJTNK','oYcsw','toolInstalledResp','lPBfR','.txt','Cluster\x20details\x0a-----------------------\x0a','pre-check-failed','yCHDg','RtYJO','region','`\x20is\x20present\x20in\x20region\x20`','NktUH','credential-not-found','sHXyf','debug','aQDjr','../../utils/webSocketUtils','ZWZIZ','MgVkY','SQNdt','Invalid\x20input.\x20grid\x20profiles:\x20','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','throwHttpErrors','kIRDZ','3989912QougTv','ENcSs','pre-check-cluster-args-not-passed','pre-check','iRZlu','qCAFd','tmIjn','requestId','ONVKY','\x20\x20Message:\x20','eLLvk','KyegZ','fgslF','xAcPf','XQVOn','`\x20,error\x20:\x20','BPVvz','lusax','bOhzt',']\x20status\x20:\x20','oOXWs','wiCxn','description','NKVEZ','Status:\x20','.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again','status','grid','KabuD','UDNro','Missing\x20required\x20arguments:\x20','connectionTimeout','IDIcr','includes','hSBhb','replace','ERROR','Setting\x20cloud\x20provider\x20as\x20','GET','data','username','Grid\x20profile\x20fetched\x20for\x20pre-check','XrTmk','Report\x20saved\x20in\x20','UMilG','hAawb','N/A','HUVIV','4392888mGQpRf','JRgco','\x20data\x20:\x20','split','bstackAccesskey','options','aVGIh','VSsBA','exit','help','puGwu','oSmmH','sendEventToBackend','BbbJk','usage','uuid','.\x20Please\x20provide\x20all\x20required\x20arguments.','dummy-grid','PXAbA','822480uFYqdF','MZRDx','voUno','cloud-provider-not-supported','984065AgZrhL','dKVJb','YIuip','FFCGZ','builder','https://','Cluster\x20','gridProfile','IfMFV','string','ijrAS','CLOUD_PROVIDER','jFEHF','IMNbV','Failure','argv','qRUps','`\x20already\x20exists','reconnecting-websocket','nZlGK','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','YLYZC','getUTCMinutes','2073281eSKKGu','IzfXe','2DCSiko','<PasswordPlaceholder>','Message:\x20','isClusterPresent','stack\x20trace\x20','parse','oyneF','hcMRj','SXiWE','xFuAR','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','Whitelisted\x20browserstack','authHeader','bstackUsername','../../cloudproviders/utils','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','error\x20stack\x20:\x20','error','qCLTw','3BNwgFs','lLFdZ','response','Yyamw','code','ayXyX','\x20\x20Code:\x20','init','<UsernamePlaceholder>','../../utils/utilityMethods','pre-check-grid-called','xrjBo','getUTCDate','cPipk','stringify','\x20\x20Stack:\x20','hvamb','getUTCFullYear','iCPix','headers','WWVCO','UapqK','KVkoY','desc','tPVlW','info','cloud-provider','clusterName','epilogue','thiSf','cluster-name','vIwfT','zRnBt','\x20error\x20:\x20','xhqHu','method','AtMAQ','Cluster\x20`','INFO','find','iSmVr','ifXtw','GHrPk','zNvtK','grid\x20profile\x20flow\x20','type','handler','aVEdD','AXwjR','unable\x20to\x20verify\x20if\x20cluster\x20`','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','WqTrE','fdNLH','is\x20already\x20present','9872vgxrTr','cloudProvider','push','rRAOL','cxiHW','pre_check','FdlYj','QKEPJ','fBlrm','User\x20Access','will\x20be\x20created','../../utils/instrumentationUtils','message','Failed\x20in\x20pre-check!\x20Error:\x20','header','clusterRegion','delay','cnAun','utf-8','command','YemlK'];a17_0x1545=function(){return _0x4917e3;};return a17_0x1545();}exports[a17_0x7329e3(0x1c9)]=async function(_0x1e463e){const _0x276b38=a17_0x7329e3,_0x3d7f44={'vIwfT':function(_0x2d70bf){return _0x2d70bf();},'XrTmk':_0x276b38(0x227),'oOXWs':function(_0x4d1bd7,_0x3c4be3,_0x278232,_0x1c84ef,_0x37d3a1,_0x2dcca1,_0x23fbb2,_0x5c4ab9){return _0x4d1bd7(_0x3c4be3,_0x278232,_0x1c84ef,_0x37d3a1,_0x2dcca1,_0x23fbb2,_0x5c4ab9);},'xAcPf':_0x276b38(0x1a5),'BPVvz':_0x276b38(0x21e),'PXAbA':_0x276b38(0x199),'KVkoY':function(_0x597798,_0xf9d476,_0x51a68a,_0x59ddb5,_0x31205f,_0x549659,_0x39ed47){return _0x597798(_0xf9d476,_0x51a68a,_0x59ddb5,_0x31205f,_0x549659,_0x39ed47);},'MsLWo':_0x276b38(0x1a3),'bOhzt':_0x276b38(0x189),'cnAun':function(_0x42428d,_0x583d75,_0x67cb3b){return _0x42428d(_0x583d75,_0x67cb3b);},'SXiWE':_0x276b38(0x169),'aVEdD':_0x276b38(0x214),'zlOZa':_0x276b38(0x1ea),'qTssy':'accessResp','cPipk':function(_0x25936f,_0x2bd26a,_0x3498ef){return _0x25936f(_0x2bd26a,_0x3498ef);},'neKZL':'isTrialGridAccessible','lPBfR':function(_0x17722a,_0x1d4cd0){return _0x17722a(_0x1d4cd0);},'UMilG':'TLSv1_2_client_method','mmkWm':function(_0xfe14a3,_0x102b3c,_0x516f39){return _0xfe14a3(_0x102b3c,_0x516f39);},'PRyXz':_0x276b38(0x1ef),'YpmyH':'Tool\x20Installed','zNvtK':_0x276b38(0x1da),'wiCxn':_0x276b38(0x193),'aQDjr':_0x276b38(0x1e7),'nZlGK':function(_0x2d710b,_0x5bc6b9,_0xd1dfbd){return _0x2d710b(_0x5bc6b9,_0xd1dfbd);},'WWVCO':function(_0x5e0f00,_0x552cda){return _0x5e0f00+_0x552cda;},'ijrAS':_0x276b38(0x1e3),'ENcSs':function(_0x207e83,_0x3042d2,_0x4beb24,_0x145ba8,_0x32e322,_0x37ba8e,_0x29be54){return _0x207e83(_0x3042d2,_0x4beb24,_0x145ba8,_0x32e322,_0x37ba8e,_0x29be54);},'cjrlh':_0x276b38(0x218)};let _0x51d464,_0x766148;try{global_registry[_0x276b38(0x12f)]=_0x3d7f44['vIwfT'](uuidv4);!fs['existsSync'](_0x3d7f44[_0x276b38(0x1ba)](getCredentialsPath))&&(_0x766148=_0x3d7f44[_0x276b38(0x152)],logger[_0x276b38(0x199)](_0x766148),await _0x3d7f44[_0x276b38(0x13c)](reportToGalactusAndSendToEDS,_0x1e463e,_0x51d464,_0x766148,messageTypes[_0x276b38(0x14c)],_0x3d7f44[_0x276b38(0x135)],_0x3d7f44[_0x276b38(0x138)],_0x3d7f44[_0x276b38(0x16a)]),process['exit'](0x1));_0x3d7f44[_0x276b38(0x1b1)](sendInstrumentationEvent,_0x1e463e,_0x3d7f44[_0x276b38(0x135)],messageTypes[_0x276b38(0x1c1)],null,null,_0x1e463e);const _0x1fb24a=JSON[_0x276b38(0x18d)](fs['readFileSync'](_0x3d7f44['vIwfT'](getCredentialsPath)));global_registry[_0x276b38(0x195)]=_0x1fb24a[_0x276b38(0x202)][_0x276b38(0x150)],global_registry['bstackAccesskey']=_0x1fb24a['Browserstack'][_0x276b38(0x1f8)];const _0x118e0b=WS_ENDPOINT[_0x276b38(0x14b)](_0x3d7f44['MsLWo'],_0x1fb24a[_0x276b38(0x202)]['username'])[_0x276b38(0x14b)](_0x3d7f44[_0x276b38(0x13a)],_0x1fb24a[_0x276b38(0x202)]['password']),_0x45e87e={};_0x45e87e[_0x276b38(0x1f2)]=ws,_0x45e87e[_0x276b38(0x147)]=0x36ee80,_0x51d464=new ReconnectingWebSocket(_0x118e0b,[],_0x45e87e),global_registry[_0x276b38(0x194)]=_0x3d7f44[_0x276b38(0x1e2)](getAuthHeader,global_registry[_0x276b38(0x195)],global_registry[_0x276b38(0x15c)]),await _0x3d7f44[_0x276b38(0x1e2)](inputValidation,_0x1e463e,_0x51d464),logger[_0x276b38(0x1b4)]('Pre-check\x20running\x20for\x20Cloud\x20-\x20'+global_registry[_0x276b38(0x1d2)]+'\x20region\x20-\x20'+global_registry[_0x276b38(0x1e0)]);let _0x31909c=await _0x3d7f44[_0x276b38(0x1b1)](getCloudProviderObjectWithOutInit,global_registry['cloudProvider'],global_registry[_0x276b38(0x1b6)],_0x3d7f44[_0x276b38(0x190)],_0x51d464,webSocketUtils,_0x1e463e);const _0x4f7128=await _0x31909c[_0x276b38(0x1f9)]();_0x3d7f44['cnAun'](printResponse,_0x3d7f44[_0x276b38(0x1ca)],_0x4f7128),_0x31909c=await _0x31909c[_0x276b38(0x1a2)]();let _0x31e653=![];try{_0x31e653=await _0x31909c[_0x276b38(0x18b)]();}catch(_0x5cdb90){const _0x2d432c=_0x3d7f44['zlOZa'][_0x276b38(0x15b)]('|');let _0x44d71a=0x0;while(!![]){switch(_0x2d432c[_0x44d71a++]){case'0':logger[_0x276b38(0x199)](_0x766148);continue;case'1':_0x766148+='\x0a'+JSON['stringify'](_0x5cdb90['stack']);continue;case'2':_0x766148=_0x276b38(0x1cc)+global_registry[_0x276b38(0x1b6)]+_0x276b38(0x21c)+global_registry['clusterRegion']+_0x276b38(0x137)+_0x5cdb90;continue;case'3':_0x31e653=null;continue;case'4':await _0x3d7f44[_0x276b38(0x13c)](reportToGalactusAndSendToEDS,_0x1e463e,_0x51d464,_0x766148,messageTypes[_0x276b38(0x14c)],_0x3d7f44[_0x276b38(0x135)],'cluster-check-failed-'+global_registry[_0x276b38(0x1d2)],_0x3d7f44['PXAbA']);continue;}break;}}_0x31e653&&logger[_0x276b38(0x1b4)]('Cluster\x20`'+global_registry[_0x276b38(0x1b6)]+'`\x20already\x20exists');const _0x156295=await _0x31909c['checkAccess']();_0x3d7f44[_0x276b38(0x1e2)](printResponse,_0x3d7f44[_0x276b38(0x1e9)],_0x156295);const _0x5895e7=await _0x3d7f44[_0x276b38(0x1ba)](curlRequest);_0x3d7f44[_0x276b38(0x1a8)](printResponse,_0x3d7f44['neKZL'],_0x5895e7);const _0x5784c1=await _0x3d7f44[_0x276b38(0x215)](isTlsSupported,_0x3d7f44[_0x276b38(0x154)]);_0x3d7f44[_0x276b38(0x201)](printResponse,_0x3d7f44['PRyXz'],_0x5784c1);const _0x577db1={};_0x577db1[_0x276b38(0x1df)]=_0x3d7f44['YpmyH'],_0x577db1[_0x276b38(0x19d)]=_0x4f7128;const _0x32bb25={};_0x32bb25[_0x276b38(0x1df)]=_0x3d7f44[_0x276b38(0x1c6)],_0x32bb25[_0x276b38(0x19d)]=_0x156295;const _0x24eeae={};_0x24eeae[_0x276b38(0x1df)]=_0x3d7f44[_0x276b38(0x13d)],_0x24eeae[_0x276b38(0x19d)]=_0x5895e7;const _0x336b00={};_0x336b00[_0x276b38(0x1df)]=_0x3d7f44[_0x276b38(0x221)],_0x336b00[_0x276b38(0x19d)]=_0x5784c1;const _0x74d147=[_0x577db1,_0x32bb25,_0x24eeae,_0x336b00],_0x2ef780=await _0x3d7f44[_0x276b38(0x182)](generateReport,_0x74d147,_0x31e653),_0x267408=new Date(),_0x3f1cdd=_0x267408[_0x276b38(0x1ac)]()+'_'+_0x3d7f44[_0x276b38(0x1af)](_0x267408['getUTCMonth'](),0x1)+'_'+_0x267408[_0x276b38(0x1a7)]()+'_'+_0x267408[_0x276b38(0x204)]()+'_'+_0x267408[_0x276b38(0x185)](),_0xcf4f9a='log/report_'+_0x3f1cdd+_0x276b38(0x216);fs['writeFileSync'](_0xcf4f9a,_0x2ef780,_0x3d7f44[_0x276b38(0x179)]),logger['info'](_0x276b38(0x153)+_0xcf4f9a),process[_0x276b38(0x160)](0x0);}catch(_0x5eeaee){let _0x57b2c3=_0x276b38(0x1de)+_0x5eeaee+'\x20';logger[_0x276b38(0x199)](_0x57b2c3),_0x57b2c3+='\x0a'+JSON[_0x276b38(0x1a9)](_0x5eeaee[_0x276b38(0x1f0)]),logger[_0x276b38(0x220)](_0x276b38(0x18c)+_0x5eeaee[_0x276b38(0x1f0)]);if(_0x51d464){const _0x4eb11c={};_0x4eb11c[_0x276b38(0x1c8)]=WS_EVENTS[_0x276b38(0x1f3)],_0x4eb11c[_0x276b38(0x1dd)]=_0x57b2c3,webSocketUtils[_0x276b38(0x164)](_0x51d464,_0x4eb11c,_0x3d7f44[_0x276b38(0x16a)],!![]);}await webSocketUtils[_0x276b38(0x1e1)](0x7d0);const _0x506569={};_0x506569['error']=_0x57b2c3,await _0x3d7f44[_0x276b38(0x129)](sendInstrumentationEvent,_0x1e463e,_0x3d7f44[_0x276b38(0x135)],messageTypes[_0x276b38(0x14c)],_0x3d7f44[_0x276b38(0x200)],_0x506569,_0x1e463e),process[_0x276b38(0x160)](0x1);}};