const a17_0x3600dd=a17_0x386e;function a17_0x386e(_0x38f9b3,_0x4f3d93){const _0xb0b1ed=a17_0xb0b1();return a17_0x386e=function(_0x386e09,_0x412db8){_0x386e09=_0x386e09-0x12b;let _0x4a6a37=_0xb0b1ed[_0x386e09];return _0x4a6a37;},a17_0x386e(_0x38f9b3,_0x4f3d93);}function a17_0xb0b1(){const _0x5db3bb=['../../utils/utilityMethods','QILce','desc','sfZvT','bstackAccesskey','string','6917512zUMhOh','3|0|2|1|4','stringify','yFnxc','hSToY','XVPUN','isClusterPresent','agjRD','FvezU','../../config/constants','wjXAJ','\x20\x20Message:\x20','usage','1690rQajsN','Success','body','oKTDz','LsHxL','Message:\x20','eSeym','gqspF','data','kDuFv','forEach','`\x20is\x20present\x20in\x20region\x20`','ypYwU','omRfR','getUTCFullYear','cloudProvider','pre-check-cluster-args-not-passed','LeVbw','Browserstack','847777krzxDs','xMAPQ','bstackUsername','password','../../cloudproviders/utils','credential-not-found','Cluster\x20details\x0a-----------------------\x0a','SqnBJ','CrHDd','AGOMU','yFMpc','Failure','help','KHkts','WzRfL','description','NgMFt','rdgrS','reconnecting-websocket','FlITM','GyApI','got','RmFHn','connectionTimeout','cluster-check-failed-','writeFileSync','stack\x20trace\x20','RMBns','\x20\x20Stack:\x20','Cluster\x20`','aujUW','DnSux','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','Missing\x20required\x20arguments:\x20','Invalid\x20input.\x20grid\x20profiles:\x20','lmiTM','IwBFA','AZtVH','yTaes','keBVj','Htbev','grid','dzHBG','DEaOe','.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again','zWvZD','RdiYw','RTbvv','FvWuy','ERROR','bKkom','getUTCDate','clusterRegion','\x20region\x20-\x20','pADyF','PgNmC','21813PgHHtD','Cluster\x20','981608CdISCr','TSFHy','parse','YxBEG','oOprK','IyEKM','WGHaG','includes','grid\x20profile\x20flow\x20','message','xflfg','\x20\x20Code:\x20','aqYGc','vwLBL','username','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','\x20error\x20:\x20','ptRVy','XrfSJ','uRUWu','utf-8','ONsSF','bNgLb','KvBsw','749145HdMpXz','pre-check-grid-called','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','lxZjf','GHiUu','exit','argv','DOkrL','Pre-check\x20running\x20for\x20Cloud\x20-\x20','nUuLN','sHBMF','isCliToolInstalled','stack','uQpjC','cluster-name','isTrialGridAccessible','<UsernamePlaceholder>','toolInstalledResp','lOOXm','.\x20Please\x20provide\x20all\x20required\x20arguments.','SXbMG','qDzru','LOG','ETPyZ','QUNjY','method','name','header','throwHttpErrors','code','grid-profile','Qcujq','99NebTdY','nFcJs','wHzsG','DJWFJ','push','will\x20be\x20created','requestId','isTls1_2_SUPPORTED','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','error\x20stack\x20:\x20','yXTec','log/report_','219fRlvuX','hasZb','RmmvV','pre_check','epilogue','gVAHV','info','authHeader','21556UVXIkY','unable\x20to\x20verify\x20if\x20cluster\x20`','type','gtaGT','N/A','command','QPHWw','dummy-grid','WebSocket','uuMCx','`\x20,error\x20:\x20','region','uuid','getUTCHours','clusterName','arHrI','coMhd','find','mNcIx','vpNID','Status:\x20','mJXou',']\x20status\x20:\x20','pre-check-grid-profile-empty','xKVfj','Grid\x20profile\x20fetched\x20for\x20pre-check','6JsJgnJ','FRxvj','../../utils/webSocketUtils','KYdDq','Report\x20saved\x20in\x20','sQUye','builder','GET','cloud-provider-not-supported','lxBNv','gridProfile','pVIPa','Tool\x20Installed','fmgIY','lAxVV','join','wOzfY','getUTCMinutes','PprTL','accessResp','existsSync','TLSv1_2_client_method','replace','status','OuCEH','Error\x20Details:\x0a','srOeC','is\x20already\x20present','gujxS','qDGWJ','\x20===\x0a\x0a','fDWKz','qDybo','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','<PasswordPlaceholder>','SSL\x20Configured','response','Setting\x20cloud\x20provider\x20as\x20','`\x20already\x20exists','delay','User\x20Access','../../utils/instrumentationUtils','options','wONst','squCa','LnVuc','cloud-provider','Vgicg','AyMxq','error','aFLdL','vhkhO','split','tFTJG','DoJrm','bKpXz','debug','MyOpr','handler','ITsyM','lKWtu','KBQcc','3401895Nnyamx','UVBDZ','CLOUD_PROVIDER','sendEventToBackend','mIYGg','KgRaH'];a17_0xb0b1=function(){return _0x5db3bb;};return a17_0xb0b1();}(function(_0x57163e,_0x426974){const _0x19e0aa=a17_0x386e,_0x5ec322=_0x57163e();while(!![]){try{const _0x136460=-parseInt(_0x19e0aa(0x18b))/0x1+-parseInt(_0x19e0aa(0x1c0))/0x2*(-parseInt(_0x19e0aa(0x1b8))/0x3)+parseInt(_0x19e0aa(0x224))/0x4+parseInt(_0x19e0aa(0x218))/0x5+parseInt(_0x19e0aa(0x1da))/0x6*(parseInt(_0x19e0aa(0x139))/0x7)+-parseInt(_0x19e0aa(0x173))/0x8*(parseInt(_0x19e0aa(0x1ab))/0x9)+-parseInt(_0x19e0aa(0x231))/0xa*(parseInt(_0x19e0aa(0x171))/0xb);if(_0x136460===_0x426974)break;else _0x5ec322['push'](_0x5ec322['shift']());}catch(_0x2d43b7){_0x5ec322['push'](_0x5ec322['shift']());}}}(a17_0xb0b1,0xd7bdf));const fs=require('fs'),ws=require('ws'),got=require(a17_0x3600dd(0x14e)),{v4:uuidv4}=require(a17_0x3600dd(0x1cc)),ReconnectingWebSocket=require(a17_0x3600dd(0x14b)),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require(a17_0x3600dd(0x21e)),{logger}=require('../../config/logger'),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require(a17_0x3600dd(0x22d)),{getCloudProviderObjectWithOutInit}=require(a17_0x3600dd(0x13d)),webSocketUtils=require(a17_0x3600dd(0x1dc)),{sendInstrumentationEvent}=require(a17_0x3600dd(0x203));exports[a17_0x3600dd(0x1c5)]=a17_0x3600dd(0x162),exports[a17_0x3600dd(0x220)]='Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup',exports[a17_0x3600dd(0x1e0)]=function(_0x178285){const _0x2ae05c=a17_0x3600dd,_0x276b79={};_0x276b79['wOzfY']='Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.',_0x276b79[_0x2ae05c(0x179)]=_0x2ae05c(0x223),_0x276b79['vpNID']=_0x2ae05c(0x1b3),_0x276b79[_0x2ae05c(0x18e)]='Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.',_0x276b79[_0x2ae05c(0x1db)]=_0x2ae05c(0x18d),_0x276b79[_0x2ae05c(0x221)]=_0x2ae05c(0x145);const _0x2dcedd=_0x276b79,_0x4af7a6={};_0x4af7a6[_0x2ae05c(0x148)]=_0x2dcedd[_0x2ae05c(0x1ea)],_0x4af7a6[_0x2ae05c(0x1c2)]=_0x2dcedd['WGHaG'];const _0x2a21d3={};_0x2a21d3[_0x2ae05c(0x148)]=_0x2dcedd[_0x2ae05c(0x1d3)],_0x2a21d3[_0x2ae05c(0x1c2)]=_0x2dcedd[_0x2ae05c(0x179)];const _0x52eb7c={};_0x52eb7c[_0x2ae05c(0x148)]=_0x2dcedd['lxZjf'],_0x52eb7c[_0x2ae05c(0x1c2)]=_0x2dcedd[_0x2ae05c(0x179)];const _0x3bee1f={};_0x3bee1f[_0x2ae05c(0x148)]=_0x2dcedd['FRxvj'],_0x3bee1f[_0x2ae05c(0x1c2)]=_0x2dcedd[_0x2ae05c(0x179)];const _0x52c77a={};return _0x52c77a[_0x2ae05c(0x199)]=_0x4af7a6,_0x52c77a[_0x2ae05c(0x208)]=_0x2a21d3,_0x52c77a['region']=_0x52eb7c,_0x52c77a[_0x2ae05c(0x1a9)]=_0x3bee1f,_0x178285[_0x2ae05c(0x230)](HELP_HEADER_MESSAGE[_0x2ae05c(0x1bb)])[_0x2ae05c(0x1bc)](HELP_FOOTER_MESSAGE)[_0x2ae05c(0x204)](_0x52c77a)['help'](_0x2dcedd['sfZvT'])[_0x2ae05c(0x191)];};async function inputValidation(_0x2ef519,_0x5c1faa){const _0xeaea6=a17_0x3600dd,_0x4ddc38={'LnVuc':_0xeaea6(0x1f3),'sHBMF':_0xeaea6(0x1c4),'DEaOe':'Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','pVIPa':_0xeaea6(0x20b),'mNcIx':function(_0x14239b,_0x31133c){return _0x14239b+_0x31133c;},'qDybo':_0xeaea6(0x232),'cICGc':_0xeaea6(0x144),'zWvZD':function(_0x4f35b3,_0x20451e){return _0x4f35b3||_0x20451e;},'AZtVH':_0xeaea6(0x208),'HMOCm':_0xeaea6(0x182),'xKVfj':_0xeaea6(0x223),'mJXou':'Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','yTaes':'Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','RmmvV':_0xeaea6(0x18d),'bZZDU':_0xeaea6(0x145),'qDGWJ':_0xeaea6(0x1f5),'fDWKz':'will\x20be\x20created','LsHxL':_0xeaea6(0x199),'sQUye':_0xeaea6(0x1cb),'srOeC':function(_0x50b2e0,_0x45aca0){return _0x50b2e0===_0x45aca0;},'TROjw':_0xeaea6(0x22e),'RdiYw':_0xeaea6(0x158),'rokKW':_0xeaea6(0x216),'xflfg':'yDHlv','IwBFA':function(_0x543b26,_0x282bb){return _0x543b26!==_0x282bb;},'RmFHn':_0xeaea6(0x192),'qDzru':_0xeaea6(0x215),'MyOpr':function(_0xb1ee92,_0x4cda76){return _0xb1ee92===_0x4cda76;},'mIYGg':_0xeaea6(0x15c),'NgMFt':_0xeaea6(0x1aa),'yFnxc':_0xeaea6(0x1e8),'kDuFv':'qABmP','xYoke':function(_0x4256d6,_0x34f421){return _0x4256d6>_0x34f421;},'uRUWu':_0xeaea6(0x1c6),'mtvzb':function(_0x4b52ec,_0xfd1d6a,_0x526692,_0x319979,_0x32f861,_0x1453f8,_0x429159,_0x58c697){return _0x4b52ec(_0xfd1d6a,_0x526692,_0x319979,_0x32f861,_0x1453f8,_0x429159,_0x58c697);},'bNgLb':_0xeaea6(0x18c),'aqYGc':_0xeaea6(0x136),'hasZb':function(_0x30deb2,_0x338762){return _0x30deb2===_0x338762;},'YxBEG':_0xeaea6(0x132),'AyMxq':_0xeaea6(0x1b4),'gVAHV':function(_0x4d4138,_0x2b652e,_0x49c78d,_0x3bbcb9,_0x425b13,_0x3d8b51,_0x40bf52,_0x2b50ff){return _0x4d4138(_0x2b652e,_0x49c78d,_0x3bbcb9,_0x425b13,_0x3d8b51,_0x40bf52,_0x2b50ff);},'DoJrm':_0xeaea6(0x1e2),'XrfSJ':function(_0x1863a2,_0x366f06){return _0x1863a2!==_0x366f06;},'eSeym':_0xeaea6(0x157),'hSToY':_0xeaea6(0x1f6),'KgRaH':function(_0x4ec5e0,_0x266f79){return _0x4ec5e0!==_0x266f79;},'SqnBJ':_0xeaea6(0x20f),'Tqwox':_0xeaea6(0x1e1),'pADyF':function(_0x2027f6,_0x13ef6e,_0x40fc83){return _0x2027f6(_0x13ef6e,_0x40fc83);},'FvezU':function(_0x5bdb26,_0x45eb7c,_0x23919a,_0x1b44e5,_0x31d2fd,_0x28f47b){return _0x5bdb26(_0x45eb7c,_0x23919a,_0x1b44e5,_0x31d2fd,_0x28f47b);},'PprTL':'pre-check','ETPyZ':'grid-profile','fmgIY':function(_0x517f33,_0x2d4085){return _0x517f33===_0x2d4085;},'gtaGT':'UghEc','nUuLN':function(_0xd356d8,_0xb21ffb){return _0xd356d8(_0xb21ffb);},'squCa':function(_0x227ba2,_0x191c72){return _0x227ba2===_0x191c72;},'FlITM':_0xeaea6(0x170),'wONst':_0xeaea6(0x180),'yXTec':function(_0x2e8e7d,_0x59926a,_0xf03638,_0x43d7f2,_0x1a47f9,_0x32f9bf,_0x433ad6,_0x26032b){return _0x2e8e7d(_0x59926a,_0xf03638,_0x43d7f2,_0x1a47f9,_0x32f9bf,_0x433ad6,_0x26032b);},'gmvgJ':_0xeaea6(0x1d7),'TSFHy':_0xeaea6(0x143),'wHzsG':function(_0x58d718,_0x15311f){return _0x58d718===_0x15311f;},'oKTDz':_0xeaea6(0x163),'EZAGl':'jOLQj','HJyJo':_0xeaea6(0x1d9),'GyApI':_0xeaea6(0x19f),'QUNjY':_0xeaea6(0x1e3),'AGOMU':_0xeaea6(0x184),'keBVj':function(_0x22e9b6,_0xa311b0,_0x1cefee,_0x5c1066,_0x10d496,_0x249e3e,_0xfbc36e,_0x5126be){return _0x22e9b6(_0xa311b0,_0x1cefee,_0x5c1066,_0x10d496,_0x249e3e,_0xfbc36e,_0x5126be);}};let _0x5aa525;try{if(_0x4ddc38[_0xeaea6(0x1f4)](_0x4ddc38['TROjw'],_0x4ddc38[_0xeaea6(0x167)]))_0x4d8220+=_0x4ddc38[_0xeaea6(0x207)],_0x5b52ac+='\x20\x20Message:\x20'+(_0x5a3efa[_0xeaea6(0x17c)]||_0x4ddc38['sHBMF'])+'\x0a',_0x5a4722+=_0xeaea6(0x17e)+(_0x2dae3b[_0xeaea6(0x1a8)]||_0x4ddc38['sHBMF'])+'\x0a',_0xb3e41c+=_0xeaea6(0x155)+(_0x4f29a5['stack']||_0x4ddc38[_0xeaea6(0x195)])+'\x0a';else{if(_0x2ef519[_0xeaea6(0x1ce)]||_0x2ef519['cloudProvider']||_0x2ef519[_0xeaea6(0x1cb)]){if(_0x4ddc38[_0xeaea6(0x1f4)](_0x4ddc38['rokKW'],_0x4ddc38[_0xeaea6(0x17d)]))_0x4ac263[_0xeaea6(0x20b)](_0x4ddc38[_0xeaea6(0x164)]),_0x54b19f['exit'](0x1);else{const _0x5488a4=[];if(!_0x2ef519[_0xeaea6(0x1ce)]){if(_0x4ddc38[_0xeaea6(0x15d)](_0x4ddc38[_0xeaea6(0x14f)],_0x4ddc38[_0xeaea6(0x1a0)]))_0x5488a4[_0xeaea6(0x1af)](_0x4ddc38[_0xeaea6(0x235)]);else{const _0x58b793={};_0x58b793[_0xeaea6(0x1c2)]=_0xf622e3[_0xeaea6(0x1a1)],_0x58b793[_0xeaea6(0x17c)]=_0x44da2d,_0x4147a5[_0xeaea6(0x21b)](_0xdbdd7,_0x58b793,_0x4ddc38['pVIPa'],!![]);}};if(!_0x2ef519['cloudProvider']){if(_0x4ddc38[_0xeaea6(0x213)](_0x4ddc38[_0xeaea6(0x21c)],_0x4ddc38[_0xeaea6(0x149)])){const {header:_0x13a356,response:_0x437539}=_0x364479,{status:_0x140071,data:_0x37a314,error:_0x1d6d80}=_0x437539;_0x5affa8+=_0x13a356+'\x20#'+_0x4ddc38[_0xeaea6(0x1d2)](_0x216b82,0x1)+'\x0a',_0x1fa6b4+=_0xeaea6(0x1d4)+(_0x140071?_0x4ddc38[_0xeaea6(0x1fa)]:_0x4ddc38['cICGc'])+'\x0a',_0x18baca+=_0xeaea6(0x12b)+_0x4ddc38[_0xeaea6(0x166)](_0x37a314,_0x4ddc38['sHBMF'])+'\x0a',_0x1d6d80&&(_0x30379a+=_0x4ddc38[_0xeaea6(0x207)],_0x39314f+=_0xeaea6(0x22f)+(_0x1d6d80['message']||_0x4ddc38[_0xeaea6(0x195)])+'\x0a',_0xf92005+=_0xeaea6(0x17e)+(_0x1d6d80[_0xeaea6(0x1a8)]||_0x4ddc38['sHBMF'])+'\x0a',_0x48ad50+='\x20\x20Stack:\x20'+(_0x1d6d80[_0xeaea6(0x197)]||_0x4ddc38[_0xeaea6(0x195)])+'\x0a'),_0x1256ed+='\x0a\x0a';}else _0x5488a4[_0xeaea6(0x1af)](_0x4ddc38[_0xeaea6(0x15e)]);};!_0x2ef519[_0xeaea6(0x1cb)]&&(_0x4ddc38['MyOpr'](_0x4ddc38[_0xeaea6(0x227)],_0x4ddc38[_0xeaea6(0x12f)])?_0x4fa0d8+=_0xeaea6(0x172)+_0x32dc78['clusterName']+_0xeaea6(0x1fb):_0x5488a4[_0xeaea6(0x1af)](_0x4ddc38[_0xeaea6(0x1df)]));;_0x4ddc38['xYoke'](_0x5488a4['length'],0x0)&&(_0x4ddc38[_0xeaea6(0x1f4)](_0x4ddc38['uRUWu'],_0x4ddc38[_0xeaea6(0x186)])?(_0x5aa525=_0xeaea6(0x15a)+_0x5488a4[_0xeaea6(0x1e9)](',\x20')+_0xeaea6(0x19e),await _0x4ddc38['mtvzb'](reportToGalactusAndSendToEDS,_0x2ef519,_0x5c1faa,_0x5aa525,messageTypes[_0xeaea6(0x16a)],_0x4ddc38['bNgLb'],_0x4ddc38[_0xeaea6(0x17f)],_0x4ddc38[_0xeaea6(0x1e5)]),logger[_0xeaea6(0x20b)](_0x5aa525),process[_0xeaea6(0x190)](0x1)):_0x2a5b74[_0xeaea6(0x1af)](_0x4ddc38['AZtVH']));if(!ALL_SUPPORTED_CLOUD_PROVIDERS[_0xeaea6(0x17a)](_0x2ef519[_0xeaea6(0x135)]['toLowerCase']())){if(_0x4ddc38[_0xeaea6(0x1b9)](_0x4ddc38[_0xeaea6(0x176)],_0x4ddc38[_0xeaea6(0x176)]))_0x5aa525=_0x4ddc38[_0xeaea6(0x20a)],await _0x4ddc38[_0xeaea6(0x1bd)](reportToGalactusAndSendToEDS,_0x2ef519,_0x5c1faa,_0x5aa525,messageTypes['ERROR'],_0x4ddc38[_0xeaea6(0x189)],_0x4ddc38[_0xeaea6(0x210)],_0x4ddc38[_0xeaea6(0x1e5)]),logger[_0xeaea6(0x20b)](_0x5aa525),!_0x2ef519[_0xeaea6(0x135)]&&(_0x4ddc38[_0xeaea6(0x185)](_0x4ddc38[_0xeaea6(0x12c)],_0x4ddc38[_0xeaea6(0x228)])?(logger['info'](_0xeaea6(0x1ff)+DEFAULT_CLUSTER_DETAILS[_0xeaea6(0x21a)]+'\x20'),_0x2ef519[_0xeaea6(0x135)]=DEFAULT_CLUSTER_DETAILS[_0xeaea6(0x21a)]):(_0x1cb576[_0xeaea6(0x1be)]('Setting\x20cloud\x20provider\x20as\x20'+_0x5c8937['CLOUD_PROVIDER']+'\x20'),_0x2d345d['cloudProvider']=_0x5aae98[_0xeaea6(0x21a)]));else{const _0x27f91b={};_0x27f91b[_0xeaea6(0x148)]=_0x4ddc38['HMOCm'],_0x27f91b[_0xeaea6(0x1c2)]=_0x4ddc38[_0xeaea6(0x1d8)];const _0x37d64e={};_0x37d64e[_0xeaea6(0x148)]=_0x4ddc38[_0xeaea6(0x1d5)],_0x37d64e[_0xeaea6(0x1c2)]=_0x4ddc38[_0xeaea6(0x1d8)];const _0x16c27f={};_0x16c27f[_0xeaea6(0x148)]=_0x4ddc38[_0xeaea6(0x15f)],_0x16c27f['type']=_0x4ddc38[_0xeaea6(0x1d8)];const _0x6d490a={};_0x6d490a[_0xeaea6(0x148)]=_0x4ddc38[_0xeaea6(0x1ba)],_0x6d490a['type']=_0x4ddc38[_0xeaea6(0x1d8)];const _0x53411d={};return _0x53411d[_0xeaea6(0x199)]=_0x27f91b,_0x53411d['cloud-provider']=_0x37d64e,_0x53411d[_0xeaea6(0x1cb)]=_0x16c27f,_0x53411d['grid-profile']=_0x6d490a,_0x720a3e[_0xeaea6(0x230)](_0x485fc1[_0xeaea6(0x1bb)])[_0xeaea6(0x1bc)](_0x568b0c)['options'](_0x53411d)[_0xeaea6(0x145)](_0x4ddc38['bZZDU'])[_0xeaea6(0x191)];}}global_registry[_0xeaea6(0x1ce)]=_0x2ef519[_0xeaea6(0x1ce)],global_registry['cloudProvider']=_0x2ef519['cloudProvider'],global_registry[_0xeaea6(0x16d)]=_0x2ef519[_0xeaea6(0x1cb)];}}else{if(_0x2ef519[_0xeaea6(0x1e4)]){if(_0x4ddc38[_0xeaea6(0x21d)](_0x4ddc38[_0xeaea6(0x140)],_0x4ddc38['SqnBJ']))_0x59971a[_0xeaea6(0x190)](0x1);else{global_registry['gridProfile']=_0x2ef519[_0xeaea6(0x1e4)],logger[_0xeaea6(0x212)](_0xeaea6(0x17b)+_0x2ef519[_0xeaea6(0x1e4)]);const _0x16b1a7='https://'+AG_API_URL+'/packages/cli/get-all-grid-profiles',_0x4eb570={};_0x4eb570[_0xeaea6(0x1a4)]=_0x4ddc38['Tqwox'],_0x4eb570['headers']=global_registry[_0xeaea6(0x1bf)],_0x4eb570[_0xeaea6(0x1a7)]=![];const _0x3db3da=_0x4eb570,_0x2347f7=await _0x4ddc38[_0xeaea6(0x16f)](got,_0x16b1a7,_0x3db3da),_0x54c1da=await _0x4ddc38[_0xeaea6(0x22c)](responseValidation,_0x2347f7,_0x4ddc38[_0xeaea6(0x1ec)],_0x4ddc38[_0xeaea6(0x1a2)],_0x2ef519,_0x5c1faa);let _0x451876={};if(_0x4ddc38[_0xeaea6(0x1f4)](_0x54c1da,0xc8)){if(_0x4ddc38[_0xeaea6(0x1e7)](_0x4ddc38[_0xeaea6(0x1c3)],_0x4ddc38[_0xeaea6(0x1c3)])){const _0x6906a2=JSON[_0xeaea6(0x175)](_0x2347f7[_0xeaea6(0x233)]),_0x1952b4=_0x6906a2[_0xeaea6(0x1d1)](_0x1f9925=>_0x1f9925[_0xeaea6(0x1a5)]===_0x2ef519[_0xeaea6(0x1e4)])||null;_0x4ddc38[_0xeaea6(0x194)](isUndefined,_0x1952b4)?_0x4ddc38[_0xeaea6(0x206)](_0x4ddc38[_0xeaea6(0x14c)],_0x4ddc38[_0xeaea6(0x205)])?_0x36cd50=_0x4e0f22:(_0x5aa525=_0xeaea6(0x15b)+_0x2ef519[_0xeaea6(0x1e4)]+_0xeaea6(0x165),await _0x4ddc38[_0xeaea6(0x1b6)](reportToGalactusAndSendToEDS,_0x2ef519,_0x5c1faa,_0x5aa525,messageTypes[_0xeaea6(0x16a)],_0x4ddc38[_0xeaea6(0x189)],_0x4ddc38['gmvgJ'],_0x4ddc38[_0xeaea6(0x1e5)]),logger['error'](_0x5aa525),process[_0xeaea6(0x190)](0x1)):_0x4ddc38[_0xeaea6(0x15d)](_0x4ddc38[_0xeaea6(0x174)],_0x4ddc38['TSFHy'])?_0xbb79e0[_0xeaea6(0x1be)]('Cluster\x20`'+_0x507198[_0xeaea6(0x1ce)]+_0xeaea6(0x200)):_0x451876=_0x1952b4;}else _0x468228+='Cluster\x20'+_0x4c03f4[_0xeaea6(0x1ce)]+'\x20'+(_0x159a1e?_0x4ddc38[_0xeaea6(0x1f7)]:_0x4ddc38[_0xeaea6(0x1f9)])+'\x0a\x0a';}else _0x4ddc38[_0xeaea6(0x1ad)](_0x4ddc38[_0xeaea6(0x234)],_0x4ddc38['EZAGl'])?_0x5e41fb[_0xeaea6(0x1af)](_0x4ddc38[_0xeaea6(0x235)]):process[_0xeaea6(0x190)](0x1);const _0x3f9bfa={};_0x3f9bfa[_0xeaea6(0x1c2)]=WS_EVENTS[_0xeaea6(0x1a1)],_0x3f9bfa[_0xeaea6(0x17c)]=_0x4ddc38['HJyJo'],webSocketUtils[_0xeaea6(0x21b)](_0x5c1faa,_0x3f9bfa),global_registry[_0xeaea6(0x135)]=_0x451876['cloudProvider'],global_registry[_0xeaea6(0x16d)]=_0x451876[_0xeaea6(0x1cb)],global_registry['clusterName']=_0x451876['clusterName'];}}else _0x4ddc38['XrfSJ'](_0x4ddc38[_0xeaea6(0x14d)],_0x4ddc38[_0xeaea6(0x14d)])?_0x3497e3['push'](_0x4ddc38['sQUye']):(logger[_0xeaea6(0x20b)](_0x4ddc38[_0xeaea6(0x164)]),process['exit'](0x1));}}}catch(_0x5982c9){_0x4ddc38[_0xeaea6(0x21d)](_0x4ddc38[_0xeaea6(0x1a3)],_0x4ddc38[_0xeaea6(0x142)])?(_0x5aa525='Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20'+_0x5982c9+':\x20'+_0x5982c9[_0xeaea6(0x197)],logger[_0xeaea6(0x20b)](_0x5aa525),await _0x4ddc38[_0xeaea6(0x160)](reportToGalactusAndSendToEDS,_0x2ef519,_0x5c1faa,_0x5aa525,messageTypes['ERROR'],_0x4ddc38[_0xeaea6(0x189)],_0x4ddc38['DoJrm'],_0x4ddc38[_0xeaea6(0x1e5)]),process[_0xeaea6(0x190)](0x1)):(_0x5ce9ad[_0xeaea6(0x1be)]('['+_0x424f84+']\x20status\x20:\x20'+_0x30990b[_0xeaea6(0x1f1)]+'\x20data\x20:\x20'+_0x54096c[_0xeaea6(0x12e)]+_0xeaea6(0x183)+_0x11f1e4['error']),_0x1ac1d9[_0xeaea6(0x20b)]&&_0x23e859[_0xeaea6(0x20b)](_0xeaea6(0x1b5)+_0x2a29cc[_0xeaea6(0x20b)][_0xeaea6(0x197)]));}}function printResponse(_0x4e7f7e,_0x1d866b){const _0x260de5=a17_0x3600dd,_0x105b10={};_0x105b10[_0x260de5(0x19d)]=function(_0x13c8f3,_0x50ce38){return _0x13c8f3!==_0x50ce38;},_0x105b10[_0x260de5(0x16b)]=_0x260de5(0x219),_0x105b10[_0x260de5(0x146)]='KaJgR';const _0x49e14e=_0x105b10;logger[_0x260de5(0x1be)]('['+_0x4e7f7e+_0x260de5(0x1d6)+_0x1d866b[_0x260de5(0x1f1)]+'\x20data\x20:\x20'+_0x1d866b[_0x260de5(0x12e)]+'\x20error\x20:\x20'+_0x1d866b[_0x260de5(0x20b)]),_0x1d866b[_0x260de5(0x20b)]&&(_0x49e14e['lOOXm'](_0x49e14e[_0x260de5(0x16b)],_0x49e14e[_0x260de5(0x146)])?logger[_0x260de5(0x20b)]('error\x20stack\x20:\x20'+_0x1d866b[_0x260de5(0x20b)][_0x260de5(0x197)]):_0x16c9b1[_0x260de5(0x20b)](_0x260de5(0x1b5)+_0x1b10fa[_0x260de5(0x20b)]['stack']));}async function generateReport(_0x373ea1,_0x4013c9){const _0xc2e980=a17_0x3600dd,_0x105873={'KBQcc':function(_0x197c50,_0x445fec){return _0x197c50+_0x445fec;},'QILce':_0xc2e980(0x232),'Nejho':_0xc2e980(0x144),'rdgrS':function(_0xb412ac,_0x5b613b){return _0xb412ac||_0x5b613b;},'oOprK':_0xc2e980(0x1c4),'uQpjC':'Error\x20Details:\x0a','pgIUI':_0xc2e980(0x13f),'agjRD':function(_0x281e38,_0x582145){return _0x281e38!=_0x582145;},'siFNx':_0xc2e980(0x1f5),'bKpXz':_0xc2e980(0x1b0),'Vgicg':function(_0x13f771){return _0x13f771();}};let _0x1d239a='===\x20Precheck\x20Report\x20-\x20'+global_registry[_0xc2e980(0x135)]+_0xc2e980(0x1f8);return _0x373ea1[_0xc2e980(0x130)]((_0x4f9faf,_0x350430)=>{const _0x194260=_0xc2e980,{header:_0x65213f,response:_0x258857}=_0x4f9faf,{status:_0x53057d,data:_0x240363,error:_0x3a4094}=_0x258857;_0x1d239a+=_0x65213f+'\x20#'+_0x105873[_0x194260(0x217)](_0x350430,0x1)+'\x0a',_0x1d239a+=_0x194260(0x1d4)+(_0x53057d?_0x105873[_0x194260(0x21f)]:_0x105873['Nejho'])+'\x0a',_0x1d239a+=_0x194260(0x12b)+_0x105873[_0x194260(0x14a)](_0x240363,_0x105873[_0x194260(0x177)])+'\x0a',_0x3a4094&&(_0x1d239a+=_0x105873[_0x194260(0x198)],_0x1d239a+='\x20\x20Message:\x20'+(_0x3a4094['message']||_0x105873[_0x194260(0x177)])+'\x0a',_0x1d239a+='\x20\x20Code:\x20'+(_0x3a4094['code']||_0x105873[_0x194260(0x177)])+'\x0a',_0x1d239a+=_0x194260(0x155)+(_0x3a4094['stack']||_0x105873['oOprK'])+'\x0a'),_0x1d239a+='\x0a\x0a';}),_0x1d239a+=_0x105873['pgIUI'],_0x105873[_0xc2e980(0x22b)](_0x4013c9,null)?_0x1d239a+=_0xc2e980(0x172)+global_registry['clusterName']+'\x20'+(_0x4013c9?_0x105873['siFNx']:_0x105873[_0xc2e980(0x211)])+'\x0a\x0a':_0x1d239a+=_0xc2e980(0x172)+global_registry[_0xc2e980(0x1ce)]+_0xc2e980(0x1fb),_0x1d239a+=_0x105873[_0xc2e980(0x209)](getSystemMetaData),_0x1d239a;};exports[a17_0x3600dd(0x214)]=async function(_0x3c0a08){const _0x48f7b5=a17_0x3600dd,_0x575811={'RTbvv':function(_0x559e0e){return _0x559e0e();},'FvWuy':_0x48f7b5(0x159),'WzRfL':function(_0x388231,_0x1be990,_0x4fbafc,_0x5147c0,_0xf84254,_0x381c70,_0x28fedf,_0x44aa81){return _0x388231(_0x1be990,_0x4fbafc,_0x5147c0,_0xf84254,_0x381c70,_0x28fedf,_0x44aa81);},'gqspF':_0x48f7b5(0x18c),'vhkhO':_0x48f7b5(0x13e),'arHrI':_0x48f7b5(0x20b),'GHiUu':function(_0x48283b,_0x34b5fb,_0x3a4cef,_0x241b5d,_0x2ded83,_0xcc390c,_0x42f252){return _0x48283b(_0x34b5fb,_0x3a4cef,_0x241b5d,_0x2ded83,_0xcc390c,_0x42f252);},'PpIUf':_0x48f7b5(0x19b),'QVdFt':_0x48f7b5(0x1fc),'Htbev':function(_0x248c16,_0x16c4bb,_0x3e834c){return _0x248c16(_0x16c4bb,_0x3e834c);},'uuMCx':_0x48f7b5(0x1c7),'CrHDd':function(_0x41dd00,_0x5e9fb6,_0x8deb23){return _0x41dd00(_0x5e9fb6,_0x8deb23);},'xMAPQ':_0x48f7b5(0x19c),'IyEKM':_0x48f7b5(0x225),'DJWFJ':_0x48f7b5(0x1ed),'omRfR':function(_0x530538,_0xf19e3e,_0x5cf202){return _0x530538(_0xf19e3e,_0x5cf202);},'KvBsw':_0x48f7b5(0x19a),'Qigbu':function(_0x3431d5,_0x44678d){return _0x3431d5(_0x44678d);},'oVMFA':_0x48f7b5(0x1ef),'nFcJs':function(_0xa9e25c,_0x8bff9d,_0x3ae103){return _0xa9e25c(_0x8bff9d,_0x3ae103);},'ONsSF':_0x48f7b5(0x1b2),'coMhd':_0x48f7b5(0x1e6),'LeVbw':_0x48f7b5(0x202),'RMBns':'Whitelisted\x20browserstack','rquRU':_0x48f7b5(0x1fd),'KYdDq':function(_0x25e258,_0x46a350,_0x24fd58){return _0x25e258(_0x46a350,_0x24fd58);},'XVPUN':function(_0x23ac12,_0x1110ad){return _0x23ac12+_0x1110ad;},'aFLdL':_0x48f7b5(0x187),'OuCEH':function(_0x4a14f2,_0x4b108c,_0x2ba5fb,_0x20c2e8,_0x555db2,_0x52fa0d,_0x27e72e){return _0x4a14f2(_0x4b108c,_0x2ba5fb,_0x20c2e8,_0x555db2,_0x52fa0d,_0x27e72e);},'mFBOH':'pre-check-failed'};let _0x12a78e,_0x27f97c;try{global_registry[_0x48f7b5(0x1b1)]=_0x575811[_0x48f7b5(0x168)](uuidv4);!fs[_0x48f7b5(0x1ee)](_0x575811[_0x48f7b5(0x168)](getCredentialsPath))&&(_0x27f97c=_0x575811[_0x48f7b5(0x169)],logger[_0x48f7b5(0x20b)](_0x27f97c),await _0x575811[_0x48f7b5(0x147)](reportToGalactusAndSendToEDS,_0x3c0a08,_0x12a78e,_0x27f97c,messageTypes[_0x48f7b5(0x16a)],_0x575811[_0x48f7b5(0x12d)],_0x575811[_0x48f7b5(0x20d)],_0x575811[_0x48f7b5(0x1cf)]),process[_0x48f7b5(0x190)](0x1));_0x575811[_0x48f7b5(0x18f)](sendInstrumentationEvent,_0x3c0a08,_0x575811[_0x48f7b5(0x12d)],messageTypes['INFO'],null,null,_0x3c0a08);const _0x2ef61c=JSON[_0x48f7b5(0x175)](fs['readFileSync'](_0x575811[_0x48f7b5(0x168)](getCredentialsPath)));global_registry[_0x48f7b5(0x13b)]=_0x2ef61c[_0x48f7b5(0x138)][_0x48f7b5(0x181)],global_registry[_0x48f7b5(0x222)]=_0x2ef61c[_0x48f7b5(0x138)]['password'];const _0x5827ac=WS_ENDPOINT['replace'](_0x575811['PpIUf'],_0x2ef61c[_0x48f7b5(0x138)][_0x48f7b5(0x181)])[_0x48f7b5(0x1f0)](_0x575811['QVdFt'],_0x2ef61c[_0x48f7b5(0x138)][_0x48f7b5(0x13c)]),_0xa61a38={};_0xa61a38[_0x48f7b5(0x1c8)]=ws,_0xa61a38[_0x48f7b5(0x150)]=0x36ee80,_0x12a78e=new ReconnectingWebSocket(_0x5827ac,[],_0xa61a38),global_registry[_0x48f7b5(0x1bf)]=_0x575811[_0x48f7b5(0x161)](getAuthHeader,global_registry[_0x48f7b5(0x13b)],global_registry[_0x48f7b5(0x222)]),await _0x575811[_0x48f7b5(0x161)](inputValidation,_0x3c0a08,_0x12a78e),logger[_0x48f7b5(0x1be)](_0x48f7b5(0x193)+global_registry[_0x48f7b5(0x135)]+_0x48f7b5(0x16e)+global_registry[_0x48f7b5(0x16d)]);let _0x5a0ebe=await _0x575811[_0x48f7b5(0x18f)](getCloudProviderObjectWithOutInit,global_registry[_0x48f7b5(0x135)],global_registry[_0x48f7b5(0x1ce)],_0x575811[_0x48f7b5(0x1c9)],_0x12a78e,webSocketUtils,_0x3c0a08);const _0x5e60dd=await _0x5a0ebe[_0x48f7b5(0x196)]();_0x575811[_0x48f7b5(0x141)](printResponse,_0x575811[_0x48f7b5(0x13a)],_0x5e60dd),_0x5a0ebe=await _0x5a0ebe['init']();let _0x4279fd=![];try{_0x4279fd=await _0x5a0ebe[_0x48f7b5(0x22a)]();}catch(_0x539b5d){const _0x34ce47=_0x575811[_0x48f7b5(0x178)][_0x48f7b5(0x20e)]('|');let _0x5df1c9=0x0;while(!![]){switch(_0x34ce47[_0x5df1c9++]){case'0':_0x4279fd=null;continue;case'1':_0x27f97c+='\x0a'+JSON[_0x48f7b5(0x226)](_0x539b5d['stack']);continue;case'2':logger[_0x48f7b5(0x20b)](_0x27f97c);continue;case'3':_0x27f97c=_0x48f7b5(0x1c1)+global_registry[_0x48f7b5(0x1ce)]+_0x48f7b5(0x131)+global_registry[_0x48f7b5(0x16d)]+_0x48f7b5(0x1ca)+_0x539b5d;continue;case'4':await _0x575811[_0x48f7b5(0x147)](reportToGalactusAndSendToEDS,_0x3c0a08,_0x12a78e,_0x27f97c,messageTypes['ERROR'],_0x575811[_0x48f7b5(0x12d)],_0x48f7b5(0x151)+global_registry[_0x48f7b5(0x135)],_0x575811[_0x48f7b5(0x1cf)]);continue;}break;}}_0x4279fd&&logger[_0x48f7b5(0x1be)](_0x48f7b5(0x156)+global_registry[_0x48f7b5(0x1ce)]+_0x48f7b5(0x200));const _0x305e3d=await _0x5a0ebe['checkAccess']();_0x575811[_0x48f7b5(0x141)](printResponse,_0x575811[_0x48f7b5(0x1ae)],_0x305e3d);const _0xd82c74=await _0x575811['RTbvv'](curlRequest);_0x575811[_0x48f7b5(0x133)](printResponse,_0x575811[_0x48f7b5(0x18a)],_0xd82c74);const _0x50b675=await _0x575811['Qigbu'](isTlsSupported,_0x575811['oVMFA']);_0x575811[_0x48f7b5(0x1ac)](printResponse,_0x575811[_0x48f7b5(0x188)],_0x50b675);const _0x3384c4={};_0x3384c4['header']=_0x575811[_0x48f7b5(0x1d0)],_0x3384c4['response']=_0x5e60dd;const _0x3230e9={};_0x3230e9['header']=_0x575811[_0x48f7b5(0x137)],_0x3230e9[_0x48f7b5(0x1fe)]=_0x305e3d;const _0x250583={};_0x250583[_0x48f7b5(0x1a6)]=_0x575811[_0x48f7b5(0x154)],_0x250583[_0x48f7b5(0x1fe)]=_0xd82c74;const _0x2e4057={};_0x2e4057['header']=_0x575811['rquRU'],_0x2e4057[_0x48f7b5(0x1fe)]=_0x50b675;const _0x566533=[_0x3384c4,_0x3230e9,_0x250583,_0x2e4057],_0x162935=await _0x575811[_0x48f7b5(0x1dd)](generateReport,_0x566533,_0x4279fd),_0x394929=new Date(),_0x2d6041=_0x394929[_0x48f7b5(0x134)]()+'_'+_0x575811[_0x48f7b5(0x229)](_0x394929['getUTCMonth'](),0x1)+'_'+_0x394929[_0x48f7b5(0x16c)]()+'_'+_0x394929[_0x48f7b5(0x1cd)]()+'_'+_0x394929[_0x48f7b5(0x1eb)](),_0x307e5d=_0x48f7b5(0x1b7)+_0x2d6041+'.txt';fs[_0x48f7b5(0x152)](_0x307e5d,_0x162935,_0x575811[_0x48f7b5(0x20c)]),logger['info'](_0x48f7b5(0x1de)+_0x307e5d),process[_0x48f7b5(0x190)](0x0);}catch(_0x4c9560){let _0x5a1a33='Failed\x20in\x20pre-check!\x20Error:\x20'+_0x4c9560+'\x20';logger['error'](_0x5a1a33),_0x5a1a33+='\x0a'+JSON['stringify'](_0x4c9560[_0x48f7b5(0x197)]),logger[_0x48f7b5(0x212)](_0x48f7b5(0x153)+_0x4c9560[_0x48f7b5(0x197)]);if(_0x12a78e){const _0x276308={};_0x276308['type']=WS_EVENTS[_0x48f7b5(0x1a1)],_0x276308[_0x48f7b5(0x17c)]=_0x5a1a33,webSocketUtils[_0x48f7b5(0x21b)](_0x12a78e,_0x276308,_0x575811[_0x48f7b5(0x1cf)],!![]);}await webSocketUtils[_0x48f7b5(0x201)](0x7d0);const _0x3012af={};_0x3012af[_0x48f7b5(0x20b)]=_0x5a1a33,await _0x575811[_0x48f7b5(0x1f2)](sendInstrumentationEvent,_0x3c0a08,_0x575811[_0x48f7b5(0x12d)],messageTypes['ERROR'],_0x575811['mFBOH'],_0x3012af,_0x3c0a08),process[_0x48f7b5(0x190)](0x1);}};