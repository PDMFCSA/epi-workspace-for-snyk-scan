const a17_0x388418=a17_0x9c1d;(function(_0x1c6099,_0x3b4fe4){const _0xb1b472=a17_0x9c1d,_0x51d366=_0x1c6099();while(!![]){try{const _0x54ca0a=-parseInt(_0xb1b472(0x25a))/0x1*(parseInt(_0xb1b472(0x25f))/0x2)+-parseInt(_0xb1b472(0x1f2))/0x3+parseInt(_0xb1b472(0x271))/0x4*(-parseInt(_0xb1b472(0x1a7))/0x5)+-parseInt(_0xb1b472(0x1d1))/0x6+-parseInt(_0xb1b472(0x1fe))/0x7*(parseInt(_0xb1b472(0x18c))/0x8)+parseInt(_0xb1b472(0x208))/0x9*(-parseInt(_0xb1b472(0x1f1))/0xa)+parseInt(_0xb1b472(0x1df))/0xb;if(_0x54ca0a===_0x3b4fe4)break;else _0x51d366['push'](_0x51d366['shift']());}catch(_0x3af1ee){_0x51d366['push'](_0x51d366['shift']());}}}(a17_0x584a,0x274cd));const fs=require('fs'),ws=require('ws'),got=require(a17_0x388418(0x20e)),{v4:uuidv4}=require('uuid'),ReconnectingWebSocket=require(a17_0x388418(0x1f4)),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require(a17_0x388418(0x21f)),{logger}=require('../../config/logger'),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require(a17_0x388418(0x28c)),{getCloudProviderObjectWithOutInit}=require(a17_0x388418(0x246)),webSocketUtils=require(a17_0x388418(0x1bf)),{sendInstrumentationEvent}=require(a17_0x388418(0x1e6));exports[a17_0x388418(0x1fb)]=a17_0x388418(0x25b),exports['desc']=a17_0x388418(0x1c8),exports[a17_0x388418(0x1bd)]=function(_0x31a475){const _0x520de2=a17_0x388418,_0x4a0389={};_0x4a0389[_0x520de2(0x1a2)]=_0x520de2(0x1c1),_0x4a0389[_0x520de2(0x1c5)]=_0x520de2(0x22d),_0x4a0389[_0x520de2(0x272)]='Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.',_0x4a0389[_0x520de2(0x223)]=_0x520de2(0x268),_0x4a0389['oUhIT']=_0x520de2(0x1be),_0x4a0389['hKiHE']=_0x520de2(0x1ec);const _0x4e847c=_0x4a0389,_0x266437={};_0x266437['description']=_0x4e847c[_0x520de2(0x1a2)],_0x266437[_0x520de2(0x1ac)]=_0x4e847c[_0x520de2(0x1c5)];const _0x3dfe4f={};_0x3dfe4f[_0x520de2(0x1e7)]=_0x4e847c['AdjPV'],_0x3dfe4f['type']=_0x4e847c[_0x520de2(0x1c5)];const _0x535065={};_0x535065[_0x520de2(0x1e7)]=_0x4e847c[_0x520de2(0x223)],_0x535065[_0x520de2(0x1ac)]=_0x4e847c['uxDgH'];const _0x9db109={};_0x9db109[_0x520de2(0x1e7)]=_0x4e847c[_0x520de2(0x200)],_0x9db109['type']=_0x4e847c[_0x520de2(0x1c5)];const _0x29b5b5={};return _0x29b5b5['cluster-name']=_0x266437,_0x29b5b5[_0x520de2(0x23e)]=_0x3dfe4f,_0x29b5b5['region']=_0x535065,_0x29b5b5['grid-profile']=_0x9db109,_0x31a475[_0x520de2(0x203)](HELP_HEADER_MESSAGE[_0x520de2(0x21e)])[_0x520de2(0x1c3)](HELP_FOOTER_MESSAGE)['options'](_0x29b5b5)[_0x520de2(0x1ec)](_0x4e847c[_0x520de2(0x221)])['argv'];};async function inputValidation(_0x3bae52,_0x392294){const _0x469a67=a17_0x388418,_0x527303={'RJMSa':_0x469a67(0x198),'jtriU':_0x469a67(0x1c1),'tOtbm':_0x469a67(0x22d),'vSKrK':_0x469a67(0x1e8),'uIoso':'Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','ThZxc':_0x469a67(0x1be),'mypLB':'help','OUvTM':'is\x20already\x20present','qJFJo':_0x469a67(0x1b2),'cOfCM':_0x469a67(0x1e9),'NrrCO':_0x469a67(0x23e),'mgOVV':'Error\x20Details:\x0a','hrgUU':_0x469a67(0x1a3),'WbCPW':'cluster-name','bykVU':_0x469a67(0x276),'PlohP':function(_0x3a359d,_0xa0e1b7){return _0x3a359d===_0xa0e1b7;},'VfWoh':_0x469a67(0x202),'kKlxt':_0x469a67(0x1ad),'RYEwl':function(_0x2035c3,_0x5b5e16){return _0x2035c3!==_0x5b5e16;},'MUHun':_0x469a67(0x1b7),'FiTZN':'Blitf','xTgXa':_0x469a67(0x21b),'EaNrO':_0x469a67(0x1cc),'mAgZu':function(_0xc5fbca,_0xb23b90){return _0xc5fbca===_0xb23b90;},'Orcxm':_0x469a67(0x26b),'KtUat':_0x469a67(0x21d),'XOeJM':_0x469a67(0x233),'PBKyp':function(_0x412c2d,_0x5b3866){return _0x412c2d>_0x5b3866;},'yzBbI':function(_0x51057e,_0x407c55){return _0x51057e===_0x407c55;},'XWnyh':_0x469a67(0x26e),'XVizu':function(_0x3fa42a,_0x12d728,_0x2fbcf0,_0x312a81,_0x25e717,_0x2a4549,_0x78d1f3,_0x18bee8){return _0x3fa42a(_0x12d728,_0x2fbcf0,_0x312a81,_0x25e717,_0x2a4549,_0x78d1f3,_0x18bee8);},'xWoxJ':_0x469a67(0x241),'loEYR':_0x469a67(0x1f3),'VkmcQ':_0x469a67(0x1c9),'rgikL':_0x469a67(0x288),'lvStb':'Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','tHiAs':function(_0x35c54e,_0x15147a,_0x5d7ad9,_0x2c5e72,_0x2566f5,_0x3a4499,_0x5a1125,_0x430387){return _0x35c54e(_0x15147a,_0x5d7ad9,_0x2c5e72,_0x2566f5,_0x3a4499,_0x5a1125,_0x430387);},'qTfcv':_0x469a67(0x1f5),'hwkwt':_0x469a67(0x25e),'VoPHs':_0x469a67(0x1b1),'rgNbH':'eTmVY','SNFln':_0x469a67(0x1a5),'UWsrB':function(_0x313cc0,_0x416f21,_0x38413a){return _0x313cc0(_0x416f21,_0x38413a);},'fDFKJ':function(_0x4a89f7,_0xf3f6c5,_0x5192dd,_0x1d3328,_0x9baa53,_0xd4d627){return _0x4a89f7(_0xf3f6c5,_0x5192dd,_0x1d3328,_0x9baa53,_0xd4d627);},'xPrOj':'pre-check','hdKQs':_0x469a67(0x191),'orByk':function(_0x5324a7,_0x3f35a1){return _0x5324a7===_0x3f35a1;},'qRDpp':_0x469a67(0x23d),'DvBoR':_0x469a67(0x1bc),'WAgtm':function(_0x182a2f,_0xbdb111){return _0x182a2f(_0xbdb111);},'PTqWi':function(_0x259748,_0x1a0acf){return _0x259748!==_0x1a0acf;},'fFltH':'NYVKt','lemEq':function(_0x1e77b4,_0x354f13,_0x124a69,_0x389a22,_0x15d030,_0x125ae0,_0x1750ac,_0x2593f0){return _0x1e77b4(_0x354f13,_0x124a69,_0x389a22,_0x15d030,_0x125ae0,_0x1750ac,_0x2593f0);},'tJaKo':_0x469a67(0x1f7),'uunNq':_0x469a67(0x1a4),'ixrNt':function(_0x395d7f,_0x423d4c){return _0x395d7f!==_0x423d4c;},'Oylcj':_0x469a67(0x1ee),'FkkKF':_0x469a67(0x281),'FtgCi':_0x469a67(0x1b3),'wwrQi':function(_0x2dbbcb,_0x5b5154){return _0x2dbbcb!==_0x5b5154;},'YTECB':_0x469a67(0x20d),'uxzox':_0x469a67(0x265),'fLPqo':function(_0x2773b5,_0xe65936,_0x3adabe,_0x12713b,_0x1bfd2a,_0x918aa5,_0xd3f07a,_0x541877){return _0x2773b5(_0xe65936,_0x3adabe,_0x12713b,_0x1bfd2a,_0x918aa5,_0xd3f07a,_0x541877);}};let _0x2d023c;try{if(_0x527303[_0x469a67(0x245)](_0x527303['VfWoh'],_0x527303[_0x469a67(0x26d)]))_0x5c95a7[_0x469a67(0x276)](_0x469a67(0x1ff)+_0x4e81a2[_0x469a67(0x276)]['stack']);else{if(_0x3bae52[_0x469a67(0x226)]||_0x3bae52['cloudProvider']||_0x3bae52[_0x469a67(0x198)]){if(_0x527303['RYEwl'](_0x527303[_0x469a67(0x219)],_0x527303[_0x469a67(0x214)])){const _0x313f90=[];!_0x3bae52[_0x469a67(0x226)]&&(_0x527303[_0x469a67(0x1f6)](_0x527303[_0x469a67(0x284)],_0x527303[_0x469a67(0x237)])?_0x313f90[_0x469a67(0x18d)](_0x527303[_0x469a67(0x1cf)]):_0x26e44a['push'](_0x527303['RJMSa']));;if(!_0x3bae52[_0x469a67(0x1a1)]){if(_0x527303['mAgZu'](_0x527303[_0x469a67(0x24c)],_0x527303['KtUat'])){const _0x18fb87={};_0x18fb87[_0x469a67(0x1e7)]=_0x527303['jtriU'],_0x18fb87[_0x469a67(0x1ac)]=_0x527303[_0x469a67(0x275)];const _0x26aeea={};_0x26aeea['description']=_0x527303[_0x469a67(0x201)],_0x26aeea[_0x469a67(0x1ac)]=_0x527303[_0x469a67(0x275)];const _0x3aea31={};_0x3aea31[_0x469a67(0x1e7)]=_0x527303[_0x469a67(0x1d8)],_0x3aea31[_0x469a67(0x1ac)]=_0x527303[_0x469a67(0x275)];const _0xf7ec3f={};_0xf7ec3f[_0x469a67(0x1e7)]=_0x527303[_0x469a67(0x1eb)],_0xf7ec3f[_0x469a67(0x1ac)]=_0x527303['tOtbm'];const _0x5ca896={};return _0x5ca896[_0x469a67(0x255)]=_0x18fb87,_0x5ca896[_0x469a67(0x23e)]=_0x26aeea,_0x5ca896[_0x469a67(0x198)]=_0x3aea31,_0x5ca896[_0x469a67(0x191)]=_0xf7ec3f,_0x257c88[_0x469a67(0x203)](_0x58302a['pre_check'])['epilogue'](_0x30f820)[_0x469a67(0x22c)](_0x5ca896)[_0x469a67(0x1ec)](_0x527303[_0x469a67(0x264)])['argv'];}else _0x313f90[_0x469a67(0x18d)](_0x527303['NrrCO']);};!_0x3bae52[_0x469a67(0x198)]&&(_0x527303[_0x469a67(0x1f6)](_0x527303[_0x469a67(0x1cb)],_0x527303[_0x469a67(0x1cb)])?_0x12465d+=_0x469a67(0x261)+_0x28dc41['clusterName']+'\x20'+(_0x4be80f?_0x527303[_0x469a67(0x252)]:_0x527303['qJFJo'])+'\x0a\x0a':_0x313f90[_0x469a67(0x18d)](_0x527303[_0x469a67(0x277)]));;_0x527303[_0x469a67(0x192)](_0x313f90[_0x469a67(0x238)],0x0)&&(_0x527303['yzBbI'](_0x527303[_0x469a67(0x236)],_0x527303[_0x469a67(0x236)])?(_0x2d023c=_0x469a67(0x1f8)+_0x313f90['join'](',\x20')+'.\x20Please\x20provide\x20all\x20required\x20arguments.',await _0x527303[_0x469a67(0x1fd)](reportToGalactusAndSendToEDS,_0x3bae52,_0x392294,_0x2d023c,messageTypes[_0x469a67(0x1ce)],_0x527303[_0x469a67(0x1b9)],_0x527303[_0x469a67(0x18e)],_0x527303[_0x469a67(0x1ab)]),logger[_0x469a67(0x276)](_0x2d023c),process[_0x469a67(0x1d6)](0x1)):_0x17f21a=_0x3ae813),!ALL_SUPPORTED_CLOUD_PROVIDERS['includes'](_0x3bae52[_0x469a67(0x1a1)][_0x469a67(0x1c0)]())&&(_0x527303['RYEwl'](_0x527303[_0x469a67(0x199)],_0x527303['rgikL'])?(_0x2d023c=_0x527303[_0x469a67(0x1f0)],await _0x527303['tHiAs'](reportToGalactusAndSendToEDS,_0x3bae52,_0x392294,_0x2d023c,messageTypes['ERROR'],_0x527303[_0x469a67(0x1b9)],_0x527303[_0x469a67(0x196)],_0x527303[_0x469a67(0x1ab)]),logger[_0x469a67(0x276)](_0x2d023c),!_0x3bae52[_0x469a67(0x1a1)]&&(_0x527303[_0x469a67(0x1f6)](_0x527303[_0x469a67(0x254)],_0x527303['VoPHs'])?(logger[_0x469a67(0x1e4)](_0x469a67(0x23a)+DEFAULT_CLUSTER_DETAILS[_0x469a67(0x207)]+'\x20'),_0x3bae52[_0x469a67(0x1a1)]=DEFAULT_CLUSTER_DETAILS[_0x469a67(0x207)]):_0x43c4d8[_0x469a67(0x1e4)](_0x469a67(0x209)+_0x45b708[_0x469a67(0x226)]+_0x469a67(0x1d7)))):_0x4d04b7+=_0x469a67(0x261)+_0x218666[_0x469a67(0x226)]+_0x469a67(0x1c7)),global_registry[_0x469a67(0x226)]=_0x3bae52[_0x469a67(0x226)],global_registry['cloudProvider']=_0x3bae52[_0x469a67(0x1a1)],global_registry[_0x469a67(0x1d3)]=_0x3bae52[_0x469a67(0x198)];}else _0x256b36['error'](_0x527303[_0x469a67(0x1f9)]),_0x1bb8f3['exit'](0x1);}else{if(_0x3bae52[_0x469a67(0x1e1)]){if(_0x527303[_0x469a67(0x1f6)](_0x527303[_0x469a67(0x28d)],_0x527303[_0x469a67(0x28d)]))_0x3a2b8b['push'](_0x527303[_0x469a67(0x1e0)]);else{global_registry[_0x469a67(0x1e1)]=_0x3bae52[_0x469a67(0x1e1)],logger[_0x469a67(0x24a)](_0x469a67(0x210)+_0x3bae52[_0x469a67(0x1e1)]);const _0x5c69f1=_0x469a67(0x287)+AG_API_URL+'/packages/cli/get-all-grid-profiles',_0x15723f={};_0x15723f[_0x469a67(0x1ba)]=_0x527303['SNFln'],_0x15723f[_0x469a67(0x24b)]=global_registry[_0x469a67(0x1e2)],_0x15723f[_0x469a67(0x24e)]=![];const _0x4a55eb=_0x15723f,_0x12fac0=await _0x527303[_0x469a67(0x19d)](got,_0x5c69f1,_0x4a55eb),_0x4e7633=await _0x527303['fDFKJ'](responseValidation,_0x12fac0,_0x527303['xPrOj'],_0x527303[_0x469a67(0x18f)],_0x3bae52,_0x392294);let _0x41fc85={};if(_0x527303['orByk'](_0x4e7633,0xc8)){if(_0x527303[_0x469a67(0x21a)](_0x527303[_0x469a67(0x1b0)],_0x527303[_0x469a67(0x27f)]))_0x3a1b6f[_0x469a67(0x1d6)](0x1);else{const _0x275e1a=JSON['parse'](_0x12fac0[_0x469a67(0x19f)]),_0x2d4649=_0x275e1a[_0x469a67(0x228)](_0xb73403=>_0xb73403[_0x469a67(0x1d5)]===_0x3bae52[_0x469a67(0x1e1)])||null;_0x527303[_0x469a67(0x1ed)](isUndefined,_0x2d4649)?_0x527303[_0x469a67(0x20a)](_0x527303[_0x469a67(0x1ea)],_0x527303['fFltH'])?(_0x3dbd84[_0x469a67(0x1e4)]('['+_0x4e1200+_0x469a67(0x1a8)+_0x160768[_0x469a67(0x1bb)]+_0x469a67(0x1fa)+_0x4a0b16[_0x469a67(0x27d)]+_0x469a67(0x282)+_0x2b4edf[_0x469a67(0x276)]),_0x3ff0a4['error']&&_0x538b38[_0x469a67(0x276)](_0x469a67(0x1ff)+_0x48ba59[_0x469a67(0x276)][_0x469a67(0x18b)])):(_0x2d023c=_0x469a67(0x19a)+_0x3bae52['gridProfile']+_0x469a67(0x213),await _0x527303[_0x469a67(0x239)](reportToGalactusAndSendToEDS,_0x3bae52,_0x392294,_0x2d023c,messageTypes[_0x469a67(0x1ce)],_0x527303[_0x469a67(0x1b9)],_0x527303[_0x469a67(0x1e3)],_0x527303[_0x469a67(0x1ab)]),logger[_0x469a67(0x276)](_0x2d023c),process['exit'](0x1)):_0x527303[_0x469a67(0x1f6)](_0x527303['uunNq'],_0x527303[_0x469a67(0x220)])?(_0x960bb+=_0x527303[_0x469a67(0x1dc)],_0x417aa6+=_0x469a67(0x224)+(_0x4934ec['message']||_0x527303[_0x469a67(0x27b)])+'\x0a',_0xaab5ac+='\x20\x20Code:\x20'+(_0x2a5b02[_0x469a67(0x230)]||_0x527303['hrgUU'])+'\x0a',_0x4892a7+='\x20\x20Stack:\x20'+(_0x4976ec[_0x469a67(0x18b)]||_0x527303[_0x469a67(0x27b)])+'\x0a'):_0x41fc85=_0x2d4649;}}else _0x527303[_0x469a67(0x1a0)](_0x527303[_0x469a67(0x23f)],_0x527303[_0x469a67(0x23f)])?_0x5026ed['push'](_0x527303[_0x469a67(0x1cf)]):process['exit'](0x1);const _0x36e92f={};_0x36e92f['type']=WS_EVENTS[_0x469a67(0x22f)],_0x36e92f[_0x469a67(0x26c)]=_0x527303[_0x469a67(0x266)],webSocketUtils[_0x469a67(0x206)](_0x392294,_0x36e92f),global_registry[_0x469a67(0x1a1)]=_0x41fc85[_0x469a67(0x1a1)],global_registry[_0x469a67(0x1d3)]=_0x41fc85['region'],global_registry[_0x469a67(0x226)]=_0x41fc85[_0x469a67(0x226)];}}else{if(_0x527303[_0x469a67(0x1f6)](_0x527303[_0x469a67(0x244)],_0x527303['FtgCi'])){const _0x453a9f={};_0x453a9f['type']=_0x124fec[_0x469a67(0x22f)],_0x453a9f[_0x469a67(0x26c)]=_0x4b9633,_0x3de6b9['sendEventToBackend'](_0x51bcce,_0x453a9f,_0x527303[_0x469a67(0x1ab)],!![]);}else logger['error'](_0x527303[_0x469a67(0x1f9)]),process['exit'](0x1);}}}}catch(_0x3d70fe){_0x527303[_0x469a67(0x260)](_0x527303['YTECB'],_0x527303['uxzox'])?(_0x2d023c='Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20'+_0x3d70fe+':\x20'+_0x3d70fe[_0x469a67(0x18b)],logger[_0x469a67(0x276)](_0x2d023c),await _0x527303[_0x469a67(0x258)](reportToGalactusAndSendToEDS,_0x3bae52,_0x392294,_0x2d023c,messageTypes[_0x469a67(0x1ce)],_0x527303[_0x469a67(0x1b9)],_0x527303[_0x469a67(0x196)],_0x527303[_0x469a67(0x1ab)]),process[_0x469a67(0x1d6)](0x1)):(_0x5af0f1[_0x469a67(0x1e4)](_0x469a67(0x23a)+_0x1c7397[_0x469a67(0x207)]+'\x20'),_0x480357['cloudProvider']=_0x2894ff[_0x469a67(0x207)]);}}function printResponse(_0x4d2908,_0x40ddd9){const _0x437691=a17_0x388418,_0x50530e={};_0x50530e['tfecG']=function(_0x9358b8,_0x57dc7c){return _0x9358b8+_0x57dc7c;},_0x50530e[_0x437691(0x26a)]='Success',_0x50530e['KONGI']='Failure',_0x50530e[_0x437691(0x1da)]=function(_0x279238,_0x286dcc){return _0x279238||_0x286dcc;},_0x50530e[_0x437691(0x278)]=_0x437691(0x1a3),_0x50530e['oyFJc']=_0x437691(0x194),_0x50530e[_0x437691(0x1d4)]=function(_0x46f61b,_0x51cbd5){return _0x46f61b===_0x51cbd5;},_0x50530e[_0x437691(0x280)]=_0x437691(0x26f),_0x50530e['WVQhi']=_0x437691(0x1ca);const _0x510d4d=_0x50530e;logger[_0x437691(0x1e4)]('['+_0x4d2908+']\x20status\x20:\x20'+_0x40ddd9['status']+_0x437691(0x1fa)+_0x40ddd9[_0x437691(0x27d)]+_0x437691(0x282)+_0x40ddd9[_0x437691(0x276)]);if(_0x40ddd9[_0x437691(0x276)]){if(_0x510d4d[_0x437691(0x1d4)](_0x510d4d[_0x437691(0x280)],_0x510d4d[_0x437691(0x1b8)])){const {header:_0xf2c23b,response:_0xe78c4}=_0x5f12fa,{status:_0xdb078f,data:_0x132e1d,error:_0xc3ea81}=_0xe78c4;_0x52d32c+=_0xf2c23b+'\x20#'+_0x510d4d[_0x437691(0x243)](_0x22c356,0x1)+'\x0a',_0xc5509b+=_0x437691(0x267)+(_0xdb078f?_0x510d4d[_0x437691(0x26a)]:_0x510d4d['KONGI'])+'\x0a',_0x1d83bf+='Message:\x20'+_0x510d4d[_0x437691(0x1da)](_0x132e1d,_0x510d4d['xQqxL'])+'\x0a',_0xc3ea81&&(_0x62b95+=_0x510d4d[_0x437691(0x225)],_0x291a4d+=_0x437691(0x224)+(_0xc3ea81['message']||_0x510d4d['xQqxL'])+'\x0a',_0x27f5f5+='\x20\x20Code:\x20'+(_0xc3ea81[_0x437691(0x230)]||_0x510d4d['xQqxL'])+'\x0a',_0x108363+=_0x437691(0x289)+(_0xc3ea81[_0x437691(0x18b)]||_0x510d4d['xQqxL'])+'\x0a'),_0x2fbe82+='\x0a\x0a';}else logger[_0x437691(0x276)](_0x437691(0x1ff)+_0x40ddd9['error'][_0x437691(0x18b)]);}}function a17_0x584a(){const _0xbebba0=['got','lHEGX','grid\x20profile\x20flow\x20','.txt','<PasswordPlaceholder>','.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again','FiTZN','`\x20,error\x20:\x20','Failed\x20in\x20pre-check!\x20Error:\x20','SSL\x20Configured','cluster-check-failed-','MUHun','yzBbI','hfVjj','delay','EJwpZ','pre_check','../../utils/utilityMethods','uunNq','hKiHE','TLSv1_2_client_method','kqetC','\x20\x20Message:\x20','oyFJc','clusterName','lYdmA','find','TYdIM','RVedI','Success','options','string','gncun','LOG','code','readFileSync','getUTCHours','VtmMC','<UsernamePlaceholder>','split','XWnyh','EaNrO','length','lemEq','Setting\x20cloud\x20provider\x20as\x20','\x20region\x20-\x20','parse','BouoH','cloud-provider','Oylcj','jxAnn','pre-check-grid-called','INFO','tfecG','FtgCi','PlohP','../../cloudproviders/utils','rdxWF','VnkKR','pre-check-failed','debug','headers','Orcxm','connectionTimeout','throwHttpErrors','response','SQgBW','QuxiP','OUvTM','dummy-grid','hwkwt','cluster-name','credential-not-found','Message:\x20','fLPqo','Tool\x20Installed','1qSVoRg','grid','yVtiV','JBefc','lMYCH','174606QAVrEs','wwrQi','Cluster\x20','header','isClusterPresent','mypLB','CQCPt','FkkKF','Status:\x20','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','Cluster\x20details\x0a-----------------------\x0a','zzSrP','BorTp','message','kKlxt','yPfFo','xelkq','toolInstalledResp','304ynvygF','AdjPV','init','GufAE','tOtbm','error','RJMSa','xQqxL','CFOek','replace','hrgUU','KlbeU','data','existsSync','DvBoR','fJdAM','Grid\x20profile\x20fetched\x20for\x20pre-check','\x20error\x20:\x20','requestId','xTgXa','KYCfT','kGqey','https://','lfaXm','\x20\x20Stack:\x20','bstackUsername','isTrialGridAccessible','../../config/constants','rgNbH','stack','8FcAvAd','push','loEYR','hdKQs','pDere','grid-profile','PBKyp','IUHue','Error\x20Details:\x0a','stringify','qTfcv','NoWoG','region','VkmcQ','Invalid\x20input.\x20grid\x20profiles:\x20','`\x20is\x20present\x20in\x20region\x20`','uPWIm','UWsrB','Browserstack','body','ixrNt','cloudProvider','BmLhg','N/A','ptvlw','GET','stack\x20trace\x20','18550ApdbPW',']\x20status\x20:\x20','vMEVv','utf-8','bykVU','type','yphdx','XTNkT','accessResp','qRDpp','XvKiI','will\x20be\x20created','rLzVY','unable\x20to\x20verify\x20if\x20cluster\x20`','getUTCDate','RNXlg','sxSVq','WVQhi','xWoxJ','method','status','ENCAk','builder','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','../../utils/webSocketUtils','toLowerCase','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','Ctrkr','epilogue','===\x20Precheck\x20Report\x20-\x20','uxDgH','log/report_','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup','SoviC','QMYBX','XOeJM','QXtMM','Failure','ERROR','WbCPW','HzuOh','1897506iSQjtn','isCliToolInstalled','clusterRegion','uHmrt','name','exit','`\x20already\x20exists','uIoso','getUTCMonth','qFSNi','OhnAi','mgOVV','PoRZN','ROOOX','16757092bPlEbO','NrrCO','gridProfile','authHeader','tJaKo','info','username','../../utils/instrumentationUtils','description','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','fFltH','ThZxc','help','WAgtm','YeAhS','Whitelisted\x20browserstack','lvStb','44150YHrlfA','241737pLpnEx','pre-check-cluster-args-not-passed','reconnecting-websocket','cloud-provider-not-supported','RYEwl','pre-check-grid-profile-empty','Missing\x20required\x20arguments:\x20','cOfCM','\x20data\x20:\x20','command','isTls1_2_SUPPORTED','XVizu','2103507ARVmsW','error\x20stack\x20:\x20','oUhIT','vSKrK','UmpOd','usage','wFLoB','NTBjN','sendEventToBackend','CLOUD_PROVIDER','603QvaPhN','Cluster\x20`','PTqWi','getUTCMinutes','password','WxKBw'];a17_0x584a=function(){return _0xbebba0;};return a17_0x584a();}function a17_0x9c1d(_0x2d3089,_0x18385c){const _0x584a4a=a17_0x584a();return a17_0x9c1d=function(_0x9c1d15,_0x441d7a){_0x9c1d15=_0x9c1d15-0x18b;let _0x1dc11b=_0x584a4a[_0x9c1d15];return _0x1dc11b;},a17_0x9c1d(_0x2d3089,_0x18385c);}async function generateReport(_0x4adfec,_0x35363d){const _0x867d5f=a17_0x388418,_0x4d2368={'gncun':function(_0x430448,_0xd00a5){return _0x430448+_0xd00a5;},'stdsi':_0x867d5f(0x22b),'GufAE':_0x867d5f(0x1cd),'OhnAi':function(_0x2e98f8,_0xda5ad8){return _0x2e98f8||_0xda5ad8;},'KYCfT':_0x867d5f(0x1a3),'wFLoB':_0x867d5f(0x194),'HzuOh':_0x867d5f(0x269),'Ctrkr':function(_0x1e6a26,_0x534625){return _0x1e6a26!=_0x534625;},'MDJZb':'is\x20already\x20present','jsHwS':_0x867d5f(0x1b2),'pDere':function(_0x20c2e5){return _0x20c2e5();}};let _0x5c0fda=_0x867d5f(0x1c4)+global_registry[_0x867d5f(0x1a1)]+'\x20===\x0a\x0a';return _0x4adfec['forEach']((_0x10d9b1,_0x37123e)=>{const _0x401bc6=_0x867d5f,{header:_0x266c84,response:_0x4af7b2}=_0x10d9b1,{status:_0xaa18eb,data:_0x179a61,error:_0x1df88}=_0x4af7b2;_0x5c0fda+=_0x266c84+'\x20#'+_0x4d2368[_0x401bc6(0x22e)](_0x37123e,0x1)+'\x0a',_0x5c0fda+='Status:\x20'+(_0xaa18eb?_0x4d2368['stdsi']:_0x4d2368[_0x401bc6(0x274)])+'\x0a',_0x5c0fda+=_0x401bc6(0x257)+_0x4d2368[_0x401bc6(0x1db)](_0x179a61,_0x4d2368[_0x401bc6(0x285)])+'\x0a',_0x1df88&&(_0x5c0fda+=_0x4d2368[_0x401bc6(0x204)],_0x5c0fda+=_0x401bc6(0x224)+(_0x1df88['message']||_0x4d2368[_0x401bc6(0x285)])+'\x0a',_0x5c0fda+='\x20\x20Code:\x20'+(_0x1df88[_0x401bc6(0x230)]||_0x4d2368[_0x401bc6(0x285)])+'\x0a',_0x5c0fda+=_0x401bc6(0x289)+(_0x1df88['stack']||_0x4d2368[_0x401bc6(0x285)])+'\x0a'),_0x5c0fda+='\x0a\x0a';}),_0x5c0fda+=_0x4d2368[_0x867d5f(0x1d0)],_0x4d2368[_0x867d5f(0x1c2)](_0x35363d,null)?_0x5c0fda+='Cluster\x20'+global_registry[_0x867d5f(0x226)]+'\x20'+(_0x35363d?_0x4d2368['MDJZb']:_0x4d2368['jsHwS'])+'\x0a\x0a':_0x5c0fda+='Cluster\x20'+global_registry[_0x867d5f(0x226)]+_0x867d5f(0x1c7),_0x5c0fda+=_0x4d2368[_0x867d5f(0x190)](getSystemMetaData),_0x5c0fda;};exports['handler']=async function(_0x3cdb4e){const _0x5cc0b8=a17_0x388418,_0x241daf={'KlbeU':function(_0x1573d9){return _0x1573d9();},'jxAnn':function(_0x5bc4e4){return _0x5bc4e4();},'jszKM':'Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','VMhbj':function(_0x51860a,_0x58b250,_0x3ecda5,_0x2452fd,_0x1c7e51,_0x365673,_0x328e42,_0x150fe){return _0x51860a(_0x58b250,_0x3ecda5,_0x2452fd,_0x1c7e51,_0x365673,_0x328e42,_0x150fe);},'kGqey':_0x5cc0b8(0x241),'uPWIm':_0x5cc0b8(0x256),'lYdmA':_0x5cc0b8(0x276),'yVtiV':function(_0x514f17,_0x3ced25,_0x3f549c,_0x1f1e03,_0x400116,_0x2593bd,_0x31f2f8){return _0x514f17(_0x3ced25,_0x3f549c,_0x1f1e03,_0x400116,_0x2593bd,_0x31f2f8);},'ZIvLu':function(_0x4989da){return _0x4989da();},'NoWoG':_0x5cc0b8(0x234),'JBefc':_0x5cc0b8(0x212),'TYdIM':function(_0x4c58f6,_0x34d83d,_0xd3bfc5){return _0x4c58f6(_0x34d83d,_0xd3bfc5);},'QwhqM':function(_0x21da97,_0x5a98dc,_0x239781,_0x5437a4,_0x4dc25e,_0x1c3ba8,_0x3b543a){return _0x21da97(_0x5a98dc,_0x239781,_0x5437a4,_0x4dc25e,_0x1c3ba8,_0x3b543a);},'RVedI':_0x5cc0b8(0x253),'vVTBr':function(_0x536adf,_0x334dee,_0x322a96){return _0x536adf(_0x334dee,_0x322a96);},'lHEGX':_0x5cc0b8(0x270),'PoRZN':'3|0|2|4|1','VnkKR':_0x5cc0b8(0x1af),'CFOek':function(_0x9d760a,_0x8b852a,_0x68e143){return _0x9d760a(_0x8b852a,_0x68e143);},'SQgBW':_0x5cc0b8(0x28b),'HmqSn':function(_0x51f7b4,_0x523ba4){return _0x51f7b4(_0x523ba4);},'XTNkT':_0x5cc0b8(0x222),'ROOOX':_0x5cc0b8(0x1fc),'NTBjN':_0x5cc0b8(0x259),'IUHue':'User\x20Access','QuxiP':_0x5cc0b8(0x1ef),'rdxWF':_0x5cc0b8(0x217),'vMEVv':function(_0x3afe2b,_0x24c3e9){return _0x3afe2b+_0x24c3e9;},'dzEln':_0x5cc0b8(0x1aa),'RNXlg':_0x5cc0b8(0x249)};let _0xd46cf9,_0x114338;try{global_registry[_0x5cc0b8(0x283)]=_0x241daf[_0x5cc0b8(0x27c)](uuidv4);!fs[_0x5cc0b8(0x27e)](_0x241daf['jxAnn'](getCredentialsPath))&&(_0x114338=_0x241daf['jszKM'],logger[_0x5cc0b8(0x276)](_0x114338),await _0x241daf['VMhbj'](reportToGalactusAndSendToEDS,_0x3cdb4e,_0xd46cf9,_0x114338,messageTypes[_0x5cc0b8(0x1ce)],_0x241daf['kGqey'],_0x241daf[_0x5cc0b8(0x19c)],_0x241daf[_0x5cc0b8(0x227)]),process['exit'](0x1));_0x241daf[_0x5cc0b8(0x25c)](sendInstrumentationEvent,_0x3cdb4e,_0x241daf[_0x5cc0b8(0x286)],messageTypes[_0x5cc0b8(0x242)],null,null,_0x3cdb4e);const _0xb75963=JSON[_0x5cc0b8(0x23c)](fs[_0x5cc0b8(0x231)](_0x241daf['ZIvLu'](getCredentialsPath)));global_registry[_0x5cc0b8(0x28a)]=_0xb75963[_0x5cc0b8(0x19e)][_0x5cc0b8(0x1e5)],global_registry['bstackAccesskey']=_0xb75963[_0x5cc0b8(0x19e)][_0x5cc0b8(0x20c)];const _0xd3e530=WS_ENDPOINT[_0x5cc0b8(0x27a)](_0x241daf[_0x5cc0b8(0x197)],_0xb75963[_0x5cc0b8(0x19e)][_0x5cc0b8(0x1e5)])['replace'](_0x241daf[_0x5cc0b8(0x25d)],_0xb75963['Browserstack']['password']),_0x5f56e7={};_0x5f56e7['WebSocket']=ws,_0x5f56e7[_0x5cc0b8(0x24d)]=0x36ee80,_0xd46cf9=new ReconnectingWebSocket(_0xd3e530,[],_0x5f56e7),global_registry[_0x5cc0b8(0x1e2)]=_0x241daf[_0x5cc0b8(0x229)](getAuthHeader,global_registry['bstackUsername'],global_registry['bstackAccesskey']),await _0x241daf['TYdIM'](inputValidation,_0x3cdb4e,_0xd46cf9),logger['info']('Pre-check\x20running\x20for\x20Cloud\x20-\x20'+global_registry['cloudProvider']+_0x5cc0b8(0x23b)+global_registry['clusterRegion']);let _0x2ad88b=await _0x241daf['QwhqM'](getCloudProviderObjectWithOutInit,global_registry[_0x5cc0b8(0x1a1)],global_registry[_0x5cc0b8(0x226)],_0x241daf[_0x5cc0b8(0x22a)],_0xd46cf9,webSocketUtils,_0x3cdb4e);const _0x3d41f5=await _0x2ad88b[_0x5cc0b8(0x1d2)]();_0x241daf['vVTBr'](printResponse,_0x241daf[_0x5cc0b8(0x20f)],_0x3d41f5),_0x2ad88b=await _0x2ad88b[_0x5cc0b8(0x273)]();let _0x4b8b47=![];try{_0x4b8b47=await _0x2ad88b[_0x5cc0b8(0x263)]();}catch(_0x32ee78){const _0x10340d=_0x241daf[_0x5cc0b8(0x1dd)][_0x5cc0b8(0x235)]('|');let _0x1bfffe=0x0;while(!![]){switch(_0x10340d[_0x1bfffe++]){case'0':_0x4b8b47=null;continue;case'1':await _0x241daf['VMhbj'](reportToGalactusAndSendToEDS,_0x3cdb4e,_0xd46cf9,_0x114338,messageTypes[_0x5cc0b8(0x1ce)],_0x241daf['kGqey'],_0x5cc0b8(0x218)+global_registry[_0x5cc0b8(0x1a1)],_0x241daf['lYdmA']);continue;case'2':logger['error'](_0x114338);continue;case'3':_0x114338=_0x5cc0b8(0x1b4)+global_registry[_0x5cc0b8(0x226)]+_0x5cc0b8(0x19b)+global_registry[_0x5cc0b8(0x1d3)]+_0x5cc0b8(0x215)+_0x32ee78;continue;case'4':_0x114338+='\x0a'+JSON['stringify'](_0x32ee78[_0x5cc0b8(0x18b)]);continue;}break;}}_0x4b8b47&&logger[_0x5cc0b8(0x1e4)](_0x5cc0b8(0x209)+global_registry[_0x5cc0b8(0x226)]+'`\x20already\x20exists');const _0x35117e=await _0x2ad88b['checkAccess']();_0x241daf['vVTBr'](printResponse,_0x241daf[_0x5cc0b8(0x248)],_0x35117e);const _0x24fd05=await _0x241daf[_0x5cc0b8(0x240)](curlRequest);_0x241daf[_0x5cc0b8(0x279)](printResponse,_0x241daf[_0x5cc0b8(0x250)],_0x24fd05);const _0x370230=await _0x241daf['HmqSn'](isTlsSupported,_0x241daf[_0x5cc0b8(0x1ae)]);_0x241daf[_0x5cc0b8(0x229)](printResponse,_0x241daf[_0x5cc0b8(0x1de)],_0x370230);const _0x26df26={};_0x26df26[_0x5cc0b8(0x262)]=_0x241daf[_0x5cc0b8(0x205)],_0x26df26[_0x5cc0b8(0x24f)]=_0x3d41f5;const _0x37336d={};_0x37336d['header']=_0x241daf[_0x5cc0b8(0x193)],_0x37336d[_0x5cc0b8(0x24f)]=_0x35117e;const _0x4e0e7b={};_0x4e0e7b[_0x5cc0b8(0x262)]=_0x241daf[_0x5cc0b8(0x251)],_0x4e0e7b[_0x5cc0b8(0x24f)]=_0x24fd05;const _0x135d8c={};_0x135d8c[_0x5cc0b8(0x262)]=_0x241daf[_0x5cc0b8(0x247)],_0x135d8c[_0x5cc0b8(0x24f)]=_0x370230;const _0x7841ad=[_0x26df26,_0x37336d,_0x4e0e7b,_0x135d8c],_0x1583e5=await _0x241daf[_0x5cc0b8(0x279)](generateReport,_0x7841ad,_0x4b8b47),_0x5dfa39=new Date(),_0x5e434f=_0x5dfa39['getUTCFullYear']()+'_'+_0x241daf[_0x5cc0b8(0x1a9)](_0x5dfa39[_0x5cc0b8(0x1d9)](),0x1)+'_'+_0x5dfa39[_0x5cc0b8(0x1b5)]()+'_'+_0x5dfa39[_0x5cc0b8(0x232)]()+'_'+_0x5dfa39[_0x5cc0b8(0x20b)](),_0x7c6283=_0x5cc0b8(0x1c6)+_0x5e434f+_0x5cc0b8(0x211);fs['writeFileSync'](_0x7c6283,_0x1583e5,_0x241daf['dzEln']),logger['info']('Report\x20saved\x20in\x20'+_0x7c6283),process[_0x5cc0b8(0x1d6)](0x0);}catch(_0x5b4e40){let _0x361aa6=_0x5cc0b8(0x216)+_0x5b4e40+'\x20';logger[_0x5cc0b8(0x276)](_0x361aa6),_0x361aa6+='\x0a'+JSON[_0x5cc0b8(0x195)](_0x5b4e40[_0x5cc0b8(0x18b)]),logger[_0x5cc0b8(0x24a)](_0x5cc0b8(0x1a6)+_0x5b4e40[_0x5cc0b8(0x18b)]);if(_0xd46cf9){const _0x486712={};_0x486712[_0x5cc0b8(0x1ac)]=WS_EVENTS['LOG'],_0x486712['message']=_0x361aa6,webSocketUtils['sendEventToBackend'](_0xd46cf9,_0x486712,_0x241daf[_0x5cc0b8(0x227)],!![]);}await webSocketUtils[_0x5cc0b8(0x21c)](0x7d0);const _0x227d45={};_0x227d45[_0x5cc0b8(0x276)]=_0x361aa6,await _0x241daf[_0x5cc0b8(0x25c)](sendInstrumentationEvent,_0x3cdb4e,_0x241daf[_0x5cc0b8(0x286)],messageTypes['ERROR'],_0x241daf[_0x5cc0b8(0x1b6)],_0x227d45,_0x3cdb4e),process[_0x5cc0b8(0x1d6)](0x1);}};