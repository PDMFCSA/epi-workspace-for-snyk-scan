const a17_0x21cb24=a17_0x2c0a;(function(_0x475d15,_0x297d64){const _0x5e0f93=a17_0x2c0a,_0x4164ff=_0x475d15();while(!![]){try{const _0x52c6e0=parseInt(_0x5e0f93(0x189))/0x1+-parseInt(_0x5e0f93(0x19b))/0x2+parseInt(_0x5e0f93(0x123))/0x3+parseInt(_0x5e0f93(0x1c9))/0x4*(-parseInt(_0x5e0f93(0x13d))/0x5)+parseInt(_0x5e0f93(0x1e4))/0x6+parseInt(_0x5e0f93(0x148))/0x7+-parseInt(_0x5e0f93(0x1d8))/0x8;if(_0x52c6e0===_0x297d64)break;else _0x4164ff['push'](_0x4164ff['shift']());}catch(_0x41693c){_0x4164ff['push'](_0x4164ff['shift']());}}}(a17_0x231c,0x2fdf0));const fs=require('fs'),ws=require('ws'),got=require(a17_0x21cb24(0x203)),{v4:uuidv4}=require(a17_0x21cb24(0x1c3)),ReconnectingWebSocket=require('reconnecting-websocket'),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require('../../utils/utilityMethods'),{logger}=require('../../config/logger'),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require(a17_0x21cb24(0x1b9)),{getCloudProviderObjectWithOutInit}=require(a17_0x21cb24(0x132)),webSocketUtils=require('../../utils/webSocketUtils'),{sendInstrumentationEvent}=require('../../utils/instrumentationUtils');exports[a17_0x21cb24(0x108)]=a17_0x21cb24(0x14a),exports['desc']=a17_0x21cb24(0x147),exports[a17_0x21cb24(0x12d)]=function(_0x488722){const _0x130171=a17_0x21cb24,_0x2ac674={};_0x2ac674['OMDhS']=_0x130171(0x106),_0x2ac674['BpBqd']='string',_0x2ac674['RRJeE']='Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.',_0x2ac674[_0x130171(0x1c2)]=_0x130171(0x139),_0x2ac674[_0x130171(0x201)]=_0x130171(0x1bc),_0x2ac674[_0x130171(0x112)]=_0x130171(0x1da);const _0x1b033d=_0x2ac674,_0x333433={};_0x333433['description']=_0x1b033d['OMDhS'],_0x333433[_0x130171(0x170)]=_0x1b033d[_0x130171(0x152)];const _0x203cca={};_0x203cca[_0x130171(0x1c4)]=_0x1b033d[_0x130171(0x166)],_0x203cca[_0x130171(0x170)]=_0x1b033d['BpBqd'];const _0x2e573e={};_0x2e573e[_0x130171(0x1c4)]=_0x1b033d[_0x130171(0x1c2)],_0x2e573e['type']=_0x1b033d[_0x130171(0x152)];const _0xc10a21={};_0xc10a21[_0x130171(0x1c4)]=_0x1b033d['htyQp'],_0xc10a21['type']=_0x1b033d['BpBqd'];const _0x379039={};return _0x379039[_0x130171(0x167)]=_0x333433,_0x379039[_0x130171(0x184)]=_0x203cca,_0x379039['region']=_0x2e573e,_0x379039[_0x130171(0x1af)]=_0xc10a21,_0x488722['usage'](HELP_HEADER_MESSAGE[_0x130171(0x143)])['epilogue'](HELP_FOOTER_MESSAGE)[_0x130171(0x168)](_0x379039)[_0x130171(0x1da)](_0x1b033d['FXBvs'])['argv'];};async function inputValidation(_0x44b505,_0x2fa191){const _0x3c8a5e=a17_0x21cb24,_0x27142b={'PDtax':_0x3c8a5e(0x167),'sCkeL':_0x3c8a5e(0x106),'iXzHq':_0x3c8a5e(0x1f6),'oPTAS':_0x3c8a5e(0x1c0),'ihiPs':_0x3c8a5e(0x139),'yCXSh':'Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','JnOhe':'help','ORgsF':'error','YgPqD':_0x3c8a5e(0x171),'RUOZP':_0x3c8a5e(0x184),'bNHSI':'is\x20already\x20present','OHSlD':'will\x20be\x20created','vkLiy':_0x3c8a5e(0x121),'cGbkT':_0x3c8a5e(0x158),'tsckX':_0x3c8a5e(0x15d),'MsYMP':function(_0x3aec17,_0x3d7f04){return _0x3aec17+_0x3d7f04;},'fPWwU':_0x3c8a5e(0x205),'ToFPo':_0x3c8a5e(0x1f1),'zebEH':function(_0x27c190,_0x266609){return _0x27c190||_0x266609;},'ZHlNf':function(_0xe10f62,_0x50a778){return _0xe10f62===_0x50a778;},'UupRK':_0x3c8a5e(0x122),'tFgBN':_0x3c8a5e(0x105),'wYsEB':function(_0x344685,_0x39bbe7){return _0x344685!==_0x39bbe7;},'JIQHv':'ijuxH','jhctB':function(_0x2b90c7,_0x5ead75){return _0x2b90c7===_0x5ead75;},'pnfAG':_0x3c8a5e(0x1f2),'BzPXt':_0x3c8a5e(0x179),'BvpcE':_0x3c8a5e(0x1b2),'LZPGi':function(_0x45813c,_0x334912){return _0x45813c!==_0x334912;},'qTUJu':_0x3c8a5e(0x18b),'sOZuJ':_0x3c8a5e(0x19e),'KmapL':function(_0x46dff7,_0x178df7){return _0x46dff7>_0x178df7;},'vWBAK':_0x3c8a5e(0x1a3),'SYVYS':_0x3c8a5e(0x15a),'KDWcq':function(_0x522142,_0x1e7e71,_0x374a39,_0x227a66,_0x4f6d59,_0x4df007,_0x157964,_0xc232c3){return _0x522142(_0x1e7e71,_0x374a39,_0x227a66,_0x4f6d59,_0x4df007,_0x157964,_0xc232c3);},'UjTHO':'pre-check-grid-called','slOYS':_0x3c8a5e(0x204),'QOMrx':function(_0x561502,_0x13964e){return _0x561502!==_0x13964e;},'sIVin':_0x3c8a5e(0x186),'RZRfK':_0x3c8a5e(0x13e),'WrKYt':function(_0x192628,_0x306bc8,_0x47a804,_0x22617a,_0x28c01d,_0x412e4e,_0x81497b,_0x25e65c){return _0x192628(_0x306bc8,_0x47a804,_0x22617a,_0x28c01d,_0x412e4e,_0x81497b,_0x25e65c);},'DVEsC':_0x3c8a5e(0x1f8),'lAwFD':function(_0x1a823f,_0x39c688){return _0x1a823f===_0x39c688;},'npWmn':_0x3c8a5e(0x137),'NjlZD':_0x3c8a5e(0x195),'vYycc':function(_0x41a0e5,_0x4c787d){return _0x41a0e5===_0x4c787d;},'pIXgW':_0x3c8a5e(0x120),'UqRFZ':_0x3c8a5e(0x1cd),'UMvTR':function(_0x55a9d9,_0x2348c0,_0x230869){return _0x55a9d9(_0x2348c0,_0x230869);},'SuDiG':function(_0x1cf28c,_0x1481e2,_0x24bbe0,_0x43583c,_0x1bba61,_0x4cf6e7){return _0x1cf28c(_0x1481e2,_0x24bbe0,_0x43583c,_0x1bba61,_0x4cf6e7);},'zYALl':'pre-check','NRZwJ':_0x3c8a5e(0x1af),'lYnfe':function(_0xcd730b,_0x4f18a3){return _0xcd730b!==_0x4f18a3;},'NPrSv':'tdgxM','KiRwR':function(_0x2085dc,_0x10a5e5){return _0x2085dc(_0x10a5e5);},'Rcbpc':function(_0x4b21be,_0x1be5af){return _0x4b21be===_0x1be5af;},'ZTrvU':'TPLkM','ZtQqy':_0x3c8a5e(0x1e3),'lbHHm':function(_0x183390,_0x2f6aac){return _0x183390===_0x2f6aac;},'PKaEZ':_0x3c8a5e(0x176),'EvMPj':'TWssr','QoxPo':_0x3c8a5e(0x14d),'IyCgZ':_0x3c8a5e(0x174),'AJprn':_0x3c8a5e(0xff),'BIPqK':'YzXZy','DNasr':function(_0x3f059f,_0x405ae9){return _0x3f059f===_0x405ae9;},'zQinc':_0x3c8a5e(0x1a2),'BwfgK':_0x3c8a5e(0x116),'bJDwT':function(_0xbd4067,_0x38341f,_0x481abf,_0x63495,_0x25b62a,_0x1714aa,_0x1f55e8,_0x1e7652){return _0xbd4067(_0x38341f,_0x481abf,_0x63495,_0x25b62a,_0x1714aa,_0x1f55e8,_0x1e7652);}};let _0x1e9a8a;try{if(_0x27142b[_0x3c8a5e(0x12c)](_0x27142b[_0x3c8a5e(0x1f5)],_0x27142b[_0x3c8a5e(0x1a1)]))_0x366839[_0x3c8a5e(0x144)](_0x27142b[_0x3c8a5e(0xfc)]);else{if(_0x44b505[_0x3c8a5e(0x1e7)]||_0x44b505['cloudProvider']||_0x44b505[_0x3c8a5e(0x171)]){if(_0x27142b['wYsEB'](_0x27142b[_0x3c8a5e(0x1e2)],_0x27142b['JIQHv'])){const _0x58890e={};_0x58890e[_0x3c8a5e(0x1c4)]=_0x27142b[_0x3c8a5e(0x1b4)],_0x58890e[_0x3c8a5e(0x170)]=_0x27142b[_0x3c8a5e(0x1c6)];const _0x43918e={};_0x43918e['description']=_0x27142b[_0x3c8a5e(0x1c8)],_0x43918e[_0x3c8a5e(0x170)]=_0x27142b[_0x3c8a5e(0x1c6)];const _0x923d19={};_0x923d19[_0x3c8a5e(0x1c4)]=_0x27142b[_0x3c8a5e(0x1ad)],_0x923d19['type']=_0x27142b[_0x3c8a5e(0x1c6)];const _0x404a91={};_0x404a91[_0x3c8a5e(0x1c4)]=_0x27142b['yCXSh'],_0x404a91[_0x3c8a5e(0x170)]=_0x27142b['iXzHq'];const _0x5533bc={};return _0x5533bc['cluster-name']=_0x58890e,_0x5533bc[_0x3c8a5e(0x184)]=_0x43918e,_0x5533bc[_0x3c8a5e(0x171)]=_0x923d19,_0x5533bc[_0x3c8a5e(0x1af)]=_0x404a91,_0x2c8e91['usage'](_0xf2e350[_0x3c8a5e(0x143)])[_0x3c8a5e(0x135)](_0x4b62d2)['options'](_0x5533bc)[_0x3c8a5e(0x1da)](_0x27142b['JnOhe'])[_0x3c8a5e(0x16a)];}else{const _0x4a941c=[];if(!_0x44b505[_0x3c8a5e(0x1e7)]){if(_0x27142b[_0x3c8a5e(0x103)](_0x27142b['pnfAG'],_0x27142b[_0x3c8a5e(0x1fe)]))_0x4a941c[_0x3c8a5e(0x144)](_0x27142b[_0x3c8a5e(0xfc)]);else{const _0x38fb14={};_0x38fb14[_0x3c8a5e(0x170)]=_0x414cfd[_0x3c8a5e(0x111)],_0x38fb14['message']=_0x248690,_0x4ea18a['sendEventToBackend'](_0x5ba51a,_0x38fb14,_0x27142b[_0x3c8a5e(0x1b7)],!![]);}};!_0x44b505[_0x3c8a5e(0x18a)]&&(_0x27142b[_0x3c8a5e(0x126)](_0x27142b[_0x3c8a5e(0x131)],_0x27142b[_0x3c8a5e(0x10c)])?_0x4a941c[_0x3c8a5e(0x144)](_0x27142b[_0x3c8a5e(0x15c)]):_0x3f2fe3['push'](_0x27142b[_0x3c8a5e(0x17d)]));;!_0x44b505[_0x3c8a5e(0x171)]&&(_0x27142b['LZPGi'](_0x27142b[_0x3c8a5e(0x196)],_0x27142b[_0x3c8a5e(0x1a9)])?_0x4a941c['push'](_0x27142b[_0x3c8a5e(0x17d)]):_0x1de742[_0x3c8a5e(0x144)](_0x27142b[_0x3c8a5e(0x15c)]));;_0x27142b['KmapL'](_0x4a941c['length'],0x0)&&(_0x27142b[_0x3c8a5e(0x12c)](_0x27142b[_0x3c8a5e(0x188)],_0x27142b[_0x3c8a5e(0x13b)])?_0x4df143+=_0x3c8a5e(0x16e)+_0x42b92c[_0x3c8a5e(0x1e7)]+'\x20'+(_0x32e8f5?_0x27142b[_0x3c8a5e(0x1ba)]:_0x27142b[_0x3c8a5e(0x1ca)])+'\x0a\x0a':(_0x1e9a8a=_0x3c8a5e(0x150)+_0x4a941c[_0x3c8a5e(0x1a8)](',\x20')+_0x3c8a5e(0x13a),await _0x27142b[_0x3c8a5e(0x156)](reportToGalactusAndSendToEDS,_0x44b505,_0x2fa191,_0x1e9a8a,messageTypes[_0x3c8a5e(0x159)],_0x27142b[_0x3c8a5e(0x101)],_0x27142b[_0x3c8a5e(0x17c)],_0x27142b[_0x3c8a5e(0x1b7)]),logger['error'](_0x1e9a8a),process[_0x3c8a5e(0x163)](0x1))),!ALL_SUPPORTED_CLOUD_PROVIDERS[_0x3c8a5e(0x18c)](_0x44b505['cloudProvider'][_0x3c8a5e(0x1ee)]())&&(_0x27142b[_0x3c8a5e(0x1bd)](_0x27142b[_0x3c8a5e(0x12a)],_0x27142b[_0x3c8a5e(0x12a)])?(_0x37d572+=_0x27142b[_0x3c8a5e(0x18d)],_0x535d5b+=_0x3c8a5e(0x1e8)+(_0x5c6a25[_0x3c8a5e(0x165)]||_0x27142b[_0x3c8a5e(0x202)])+'\x0a',_0x981f6f+='\x20\x20Code:\x20'+(_0x4d5112[_0x3c8a5e(0xfd)]||_0x27142b['cGbkT'])+'\x0a',_0x4bf6dc+=_0x3c8a5e(0x153)+(_0x1534d6[_0x3c8a5e(0x1ab)]||_0x27142b[_0x3c8a5e(0x202)])+'\x0a'):(_0x1e9a8a=_0x27142b[_0x3c8a5e(0x1fb)],await _0x27142b[_0x3c8a5e(0x1be)](reportToGalactusAndSendToEDS,_0x44b505,_0x2fa191,_0x1e9a8a,messageTypes[_0x3c8a5e(0x159)],_0x27142b[_0x3c8a5e(0x101)],_0x27142b[_0x3c8a5e(0x12f)],_0x27142b[_0x3c8a5e(0x1b7)]),logger[_0x3c8a5e(0x104)](_0x1e9a8a),!_0x44b505[_0x3c8a5e(0x18a)]&&(_0x27142b[_0x3c8a5e(0x142)](_0x27142b['npWmn'],_0x27142b[_0x3c8a5e(0x127)])?_0x504f83[_0x3c8a5e(0x141)](_0x3c8a5e(0x15e)+_0x3035c6[_0x3c8a5e(0x1e7)]+_0x3c8a5e(0x180)):(logger['info'](_0x3c8a5e(0x130)+DEFAULT_CLUSTER_DETAILS[_0x3c8a5e(0x1db)]+'\x20'),_0x44b505['cloudProvider']=DEFAULT_CLUSTER_DETAILS['CLOUD_PROVIDER'])))),global_registry[_0x3c8a5e(0x1e7)]=_0x44b505[_0x3c8a5e(0x1e7)],global_registry[_0x3c8a5e(0x18a)]=_0x44b505[_0x3c8a5e(0x18a)],global_registry[_0x3c8a5e(0x1cc)]=_0x44b505['region'];}}else{if(_0x44b505[_0x3c8a5e(0x164)]){if(_0x27142b['vYycc'](_0x27142b[_0x3c8a5e(0x15b)],_0x27142b[_0x3c8a5e(0x15b)])){global_registry[_0x3c8a5e(0x164)]=_0x44b505['gridProfile'],logger[_0x3c8a5e(0x1a7)](_0x3c8a5e(0x15f)+_0x44b505[_0x3c8a5e(0x164)]);const _0x5ca9c9='https://'+AG_API_URL+_0x3c8a5e(0x1a5),_0x3bf1a6={};_0x3bf1a6[_0x3c8a5e(0x10f)]=_0x27142b['UqRFZ'],_0x3bf1a6[_0x3c8a5e(0x109)]=global_registry[_0x3c8a5e(0x1b0)],_0x3bf1a6[_0x3c8a5e(0x155)]=![];const _0x2a7286=_0x3bf1a6,_0x26ac5d=await _0x27142b[_0x3c8a5e(0x1f9)](got,_0x5ca9c9,_0x2a7286),_0x42b5a8=await _0x27142b['SuDiG'](responseValidation,_0x26ac5d,_0x27142b[_0x3c8a5e(0x1c7)],_0x27142b[_0x3c8a5e(0x1ef)],_0x44b505,_0x2fa191);let _0x7341a7={};if(_0x27142b[_0x3c8a5e(0x103)](_0x42b5a8,0xc8)){if(_0x27142b[_0x3c8a5e(0x1f0)](_0x27142b[_0x3c8a5e(0x1ae)],_0x27142b[_0x3c8a5e(0x1ae)]))_0x25261d['error'](_0x27142b['tsckX']),_0x2ddfcb[_0x3c8a5e(0x163)](0x1);else{const _0x527780=JSON[_0x3c8a5e(0x1fa)](_0x26ac5d[_0x3c8a5e(0x1de)]),_0x3a53e8=_0x527780['find'](_0x4d0239=>_0x4d0239[_0x3c8a5e(0x11a)]===_0x44b505[_0x3c8a5e(0x164)])||null;_0x27142b[_0x3c8a5e(0x1b6)](isUndefined,_0x3a53e8)?_0x27142b[_0x3c8a5e(0x1fd)](_0x27142b[_0x3c8a5e(0x177)],_0x27142b[_0x3c8a5e(0x177)])?(_0x1e9a8a='Invalid\x20input.\x20grid\x20profiles:\x20'+_0x44b505['gridProfile']+_0x3c8a5e(0x1e9),await _0x27142b['KDWcq'](reportToGalactusAndSendToEDS,_0x44b505,_0x2fa191,_0x1e9a8a,messageTypes[_0x3c8a5e(0x159)],_0x27142b[_0x3c8a5e(0x101)],_0x27142b[_0x3c8a5e(0x13f)],_0x27142b[_0x3c8a5e(0x1b7)]),logger[_0x3c8a5e(0x104)](_0x1e9a8a),process[_0x3c8a5e(0x163)](0x1)):_0x3e1319[_0x3c8a5e(0x104)]('error\x20stack\x20:\x20'+_0x57395a[_0x3c8a5e(0x104)][_0x3c8a5e(0x1ab)]):_0x27142b[_0x3c8a5e(0x17b)](_0x27142b[_0x3c8a5e(0x173)],_0x27142b[_0x3c8a5e(0x173)])?_0x7341a7=_0x3a53e8:_0x50e420[_0x3c8a5e(0x163)](0x1);}}else _0x27142b[_0x3c8a5e(0x1f0)](_0x27142b[_0x3c8a5e(0x1ff)],_0x27142b[_0x3c8a5e(0x107)])?process[_0x3c8a5e(0x163)](0x1):_0x1a39cc=_0x5540bd;const _0x443da6={};_0x443da6['type']=WS_EVENTS[_0x3c8a5e(0x111)],_0x443da6[_0x3c8a5e(0x165)]=_0x27142b[_0x3c8a5e(0x1df)],webSocketUtils[_0x3c8a5e(0x124)](_0x2fa191,_0x443da6),global_registry[_0x3c8a5e(0x18a)]=_0x7341a7[_0x3c8a5e(0x18a)],global_registry[_0x3c8a5e(0x1cc)]=_0x7341a7[_0x3c8a5e(0x171)],global_registry['clusterName']=_0x7341a7[_0x3c8a5e(0x1e7)];}else _0xe9518c['info']('['+_0x388298+_0x3c8a5e(0x16b)+_0x39c79d[_0x3c8a5e(0x17e)]+'\x20data\x20:\x20'+_0x41b5c7[_0x3c8a5e(0x1ec)]+'\x20error\x20:\x20'+_0x4f052d[_0x3c8a5e(0x104)]),_0x291bbf['error']&&_0x341789[_0x3c8a5e(0x104)](_0x3c8a5e(0x162)+_0x5d3e6a['error']['stack']);}else{if(_0x27142b[_0x3c8a5e(0x1f0)](_0x27142b['AJprn'],_0x27142b[_0x3c8a5e(0x119)]))logger['error'](_0x27142b['tsckX']),process[_0x3c8a5e(0x163)](0x1);else{const {header:_0x33969e,response:_0x2adadf}=_0x2f93fc,{status:_0xf0b35b,data:_0x5ecdf2,error:_0x141128}=_0x2adadf;_0x878ba1+=_0x33969e+'\x20#'+_0x27142b[_0x3c8a5e(0x14b)](_0x411f18,0x1)+'\x0a',_0x4b7c51+=_0x3c8a5e(0x1a6)+(_0xf0b35b?_0x27142b[_0x3c8a5e(0x13c)]:_0x27142b[_0x3c8a5e(0x160)])+'\x0a',_0x5393ce+=_0x3c8a5e(0x1fc)+_0x27142b[_0x3c8a5e(0x1f7)](_0x5ecdf2,_0x27142b['cGbkT'])+'\x0a',_0x141128&&(_0x3b3e0e+=_0x27142b[_0x3c8a5e(0x18d)],_0x19ae8c+=_0x3c8a5e(0x1e8)+(_0x141128['message']||_0x27142b['cGbkT'])+'\x0a',_0x1bad25+='\x20\x20Code:\x20'+(_0x141128[_0x3c8a5e(0xfd)]||_0x27142b[_0x3c8a5e(0x202)])+'\x0a',_0x44e07f+=_0x3c8a5e(0x153)+(_0x141128[_0x3c8a5e(0x1ab)]||_0x27142b[_0x3c8a5e(0x202)])+'\x0a'),_0x2a90e7+='\x0a\x0a';}}}}}catch(_0x1da53b){_0x27142b[_0x3c8a5e(0x183)](_0x27142b['zQinc'],_0x27142b[_0x3c8a5e(0x11e)])?(_0x30c115[_0x3c8a5e(0x141)](_0x3c8a5e(0x130)+_0x4dcd45[_0x3c8a5e(0x1db)]+'\x20'),_0x28805c['cloudProvider']=_0x514609[_0x3c8a5e(0x1db)]):(_0x1e9a8a=_0x3c8a5e(0x1c5)+_0x1da53b+':\x20'+_0x1da53b[_0x3c8a5e(0x1ab)],logger[_0x3c8a5e(0x104)](_0x1e9a8a),await _0x27142b[_0x3c8a5e(0x1e5)](reportToGalactusAndSendToEDS,_0x44b505,_0x2fa191,_0x1e9a8a,messageTypes[_0x3c8a5e(0x159)],_0x27142b[_0x3c8a5e(0x101)],_0x27142b['DVEsC'],_0x27142b[_0x3c8a5e(0x1b7)]),process[_0x3c8a5e(0x163)](0x1));}}function printResponse(_0x5818e7,_0x3eaaca){const _0x3776d3=a17_0x21cb24,_0x177f11={};_0x177f11['reHql']=function(_0x4a339c,_0x555eef){return _0x4a339c!==_0x555eef;},_0x177f11[_0x3776d3(0x1b3)]=_0x3776d3(0x1b5),_0x177f11[_0x3776d3(0x12e)]=_0x3776d3(0x157);const _0x30bcde=_0x177f11;logger['info']('['+_0x5818e7+']\x20status\x20:\x20'+_0x3eaaca[_0x3776d3(0x17e)]+_0x3776d3(0x1b1)+_0x3eaaca[_0x3776d3(0x1ec)]+'\x20error\x20:\x20'+_0x3eaaca['error']),_0x3eaaca[_0x3776d3(0x104)]&&(_0x30bcde[_0x3776d3(0x1ac)](_0x30bcde['ufDxj'],_0x30bcde[_0x3776d3(0x12e)])?logger[_0x3776d3(0x104)](_0x3776d3(0x162)+_0x3eaaca['error']['stack']):_0x1094e3+='Cluster\x20'+_0x402161[_0x3776d3(0x1e7)]+_0x3776d3(0x1eb));}function a17_0x231c(){const _0x1b586a=['SRuCE','username','password','wenyx','pre-check-grid-called','existsSync','heIPI','qTUJu','XPczr','HLshN','\x20===\x0a\x0a','getUTCDate','380814wwQKoc','init','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','EyVMV','forEach','xIFJG','tFgBN','CHnEi','pYOnx','<UsernamePlaceholder>','/packages/cli/get-all-grid-profiles','Status:\x20','debug','join','sOZuJ','isTls1_2_SUPPORTED','stack','reHql','ihiPs','NPrSv','grid-profile','authHeader','\x20data\x20:\x20','UykAY','ufDxj','sCkeL','wQWYO','KiRwR','ORgsF','ZTPvt','../../config/constants','bNHSI','hdcaq','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','QOMrx','WrKYt','mxRhm','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','log/report_','kzSIY','uuid','description','Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20','iXzHq','zYALl','oPTAS','20caZvNb','OHSlD','requestId','clusterRegion','GET','2|3|1|0|4','dummy-grid','ZoFRV','\x20\x20Code:\x20','unable\x20to\x20verify\x20if\x20cluster\x20`','checkAccess','<PasswordPlaceholder>','hKndY','FLVUC','VvNga','7705440rjeABo','FrTzC','help','CLOUD_PROVIDER','will\x20be\x20created','OUZmX','body','IyCgZ','SSL\x20Configured','\x20region\x20-\x20','JIQHv','pre-check-grid-profile-empty','2195742YDHpqq','bJDwT','QMjtf','clusterName','\x20\x20Message:\x20','.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again','delay','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','data','header','toLowerCase','NRZwJ','lYnfe','Failure','zoyFa','swafr','sUvtC','UupRK','string','zebEH','cloud-provider-not-supported','UMvTR','parse','RZRfK','Message:\x20','Rcbpc','pnfAG','EvMPj','bstackAccesskey','htyQp','cGbkT','got','pre-check-cluster-args-not-passed','Success','PDtax','code','AKIsL','TPjUH','credential-not-found','UjTHO','KBzfU','jhctB','error','wMsOV','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','QoxPo','command','headers','Pre-check\x20running\x20for\x20Cloud\x20-\x20','sCcOE','BvpcE','stringify','stack\x20trace\x20','method','IsRPt','LOG','FXBvs','`\x20,error\x20:\x20','utf-8','yuLtL','vHoNR','isTrialGridAccessible','MBdOP','BIPqK','name','cluster-check-failed-','handler','bstackUsername','BwfgK','getUTCHours','FtCQa','Error\x20Details:\x0a','KfjFp','1149579nLcKXM','sendEventToBackend','myQfn','wYsEB','NjlZD','fdGkh','INFO','sIVin','is\x20already\x20present','ZHlNf','builder','WUfrE','DVEsC','Setting\x20cloud\x20provider\x20as\x20','BzPXt','../../cloudproviders/utils','RBdQF','Cluster\x20details\x0a-----------------------\x0a','epilogue','FkBAS','XjVpx','Browserstack','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','.\x20Please\x20provide\x20all\x20required\x20arguments.','SYVYS','fPWwU','97315pXkttc','Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','ZtQqy','accessResp','info','lAwFD','pre_check','push','JuNnc','getUTCMonth','Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup','2671816yGCCzW','writeFileSync','grid','MsYMP','rhefO','LPGda','mnjBT','LAfpj','Missing\x20required\x20arguments:\x20','response','BpBqd','\x20\x20Stack:\x20','toolInstalledResp','throwHttpErrors','KDWcq','mesGX','N/A','ERROR','MOMeG','pIXgW','RUOZP','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','Cluster\x20`','grid\x20profile\x20flow\x20','ToFPo','hiyFU','error\x20stack\x20:\x20','exit','gridProfile','message','RRJeE','cluster-name','options','replace','argv',']\x20status\x20:\x20','getUTCFullYear','bbxYn','Cluster\x20','Report\x20saved\x20in\x20','type','region','WebSocket','PKaEZ','Grid\x20profile\x20fetched\x20for\x20pre-check','mvIuz','miEcl','ZTrvU','connectionTimeout','shAuj','xjGaa','lbHHm','slOYS','YgPqD','status','pre-check-failed','`\x20already\x20exists','oVxLD','isClusterPresent','DNasr','cloud-provider','PWGYV','IKqeC','POzxO','vWBAK','316144DyzvkB','cloudProvider','DKYoD','includes','vkLiy','Failed\x20in\x20pre-check!\x20Error:\x20'];a17_0x231c=function(){return _0x1b586a;};return a17_0x231c();}async function generateReport(_0x80e4c2,_0x47e4b0){const _0x46fee2=a17_0x21cb24,_0x2dde1d={'xjGaa':function(_0x2c439e,_0x2a78b8){return _0x2c439e+_0x2a78b8;},'sCcOE':_0x46fee2(0x205),'fLDqe':_0x46fee2(0x1f1),'QMjtf':function(_0x46d18d,_0x5ab1c3){return _0x46d18d||_0x5ab1c3;},'fdGkh':_0x46fee2(0x158),'hdcaq':_0x46fee2(0x121),'oVxLD':_0x46fee2(0x134),'myQfn':function(_0x178a90,_0x3bfde2){return _0x178a90!=_0x3bfde2;},'OUZmX':_0x46fee2(0x12b),'SRuCE':_0x46fee2(0x1dc),'JuNnc':function(_0x12acbd){return _0x12acbd();}};let _0x35ae89='===\x20Precheck\x20Report\x20-\x20'+global_registry[_0x46fee2(0x18a)]+_0x46fee2(0x199);return _0x80e4c2[_0x46fee2(0x19f)]((_0x43116d,_0x1ddd0f)=>{const _0x268797=_0x46fee2,{header:_0x5a2dad,response:_0x253d7d}=_0x43116d,{status:_0x1d7456,data:_0x1297f5,error:_0x426c89}=_0x253d7d;_0x35ae89+=_0x5a2dad+'\x20#'+_0x2dde1d[_0x268797(0x17a)](_0x1ddd0f,0x1)+'\x0a',_0x35ae89+='Status:\x20'+(_0x1d7456?_0x2dde1d[_0x268797(0x10b)]:_0x2dde1d['fLDqe'])+'\x0a',_0x35ae89+=_0x268797(0x1fc)+_0x2dde1d[_0x268797(0x1e6)](_0x1297f5,_0x2dde1d['fdGkh'])+'\x0a',_0x426c89&&(_0x35ae89+=_0x2dde1d[_0x268797(0x1bb)],_0x35ae89+=_0x268797(0x1e8)+(_0x426c89[_0x268797(0x165)]||_0x2dde1d[_0x268797(0x128)])+'\x0a',_0x35ae89+=_0x268797(0x1d1)+(_0x426c89['code']||_0x2dde1d['fdGkh'])+'\x0a',_0x35ae89+='\x20\x20Stack:\x20'+(_0x426c89[_0x268797(0x1ab)]||_0x2dde1d[_0x268797(0x128)])+'\x0a'),_0x35ae89+='\x0a\x0a';}),_0x35ae89+=_0x2dde1d[_0x46fee2(0x181)],_0x2dde1d[_0x46fee2(0x125)](_0x47e4b0,null)?_0x35ae89+=_0x46fee2(0x16e)+global_registry[_0x46fee2(0x1e7)]+'\x20'+(_0x47e4b0?_0x2dde1d[_0x46fee2(0x1dd)]:_0x2dde1d[_0x46fee2(0x18f)])+'\x0a\x0a':_0x35ae89+=_0x46fee2(0x16e)+global_registry['clusterName']+_0x46fee2(0x1eb),_0x35ae89+=_0x2dde1d[_0x46fee2(0x145)](getSystemMetaData),_0x35ae89;}function a17_0x2c0a(_0x544b39,_0x338c1c){const _0x231c73=a17_0x231c();return a17_0x2c0a=function(_0x2c0a50,_0x474688){_0x2c0a50=_0x2c0a50-0xfc;let _0x45424e=_0x231c73[_0x2c0a50];return _0x45424e;},a17_0x2c0a(_0x544b39,_0x338c1c);};exports[a17_0x21cb24(0x11c)]=async function(_0x1493d6){const _0x4f7620=a17_0x21cb24,_0x164d2b={'FLVUC':function(_0x32616c){return _0x32616c();},'FrTzC':function(_0xba974a){return _0xba974a();},'HLshN':_0x4f7620(0x19d),'hiyFU':function(_0x118fa7,_0x4a37ea,_0x12804d,_0x4d0ed1,_0x5ef7cc,_0x2f8440,_0x2505ad,_0x2c6429){return _0x118fa7(_0x4a37ea,_0x12804d,_0x4d0ed1,_0x5ef7cc,_0x2f8440,_0x2505ad,_0x2c6429);},'VvNga':_0x4f7620(0x193),'mxRhm':_0x4f7620(0x100),'mvIuz':_0x4f7620(0x104),'mnjBT':function(_0x3a0415,_0x1dcafc,_0x4dffe2,_0x37c018,_0x247a92,_0x879c8a,_0xb6c406){return _0x3a0415(_0x1dcafc,_0x4dffe2,_0x37c018,_0x247a92,_0x879c8a,_0xb6c406);},'xIFJG':function(_0x3f82d8){return _0x3f82d8();},'wenyx':_0x4f7620(0x1a4),'POzxO':_0x4f7620(0x1d4),'FkBAS':function(_0x2c4685,_0x27a471,_0x3376ce){return _0x2c4685(_0x27a471,_0x3376ce);},'rhefO':function(_0x3dc21e,_0xc70d5d,_0x41c13c){return _0x3dc21e(_0xc70d5d,_0x41c13c);},'RBdQF':_0x4f7620(0x1cf),'yuLtL':_0x4f7620(0x154),'sUvtC':_0x4f7620(0x1ce),'XPczr':function(_0x2286a2,_0x143350,_0x48e9e1,_0x7942e1,_0x2f4ed6,_0x385897,_0x7c2804,_0x301d54){return _0x2286a2(_0x143350,_0x48e9e1,_0x7942e1,_0x2f4ed6,_0x385897,_0x7c2804,_0x301d54);},'bbxYn':function(_0x430a35,_0x40df72,_0x556356){return _0x430a35(_0x40df72,_0x556356);},'UteIi':_0x4f7620(0x140),'ZTPvt':function(_0x4b851f,_0x3af877,_0xde50fd){return _0x4b851f(_0x3af877,_0xde50fd);},'IsRPt':_0x4f7620(0x117),'hKndY':function(_0x2a8796,_0xc0af65){return _0x2a8796(_0xc0af65);},'UZdHx':'TLSv1_2_client_method','AKIsL':function(_0x2698e9,_0x659909,_0x13ab92){return _0x2698e9(_0x659909,_0x13ab92);},'ACIux':_0x4f7620(0x1aa),'MBdOP':'Tool\x20Installed','PWGYV':'User\x20Access','EgRNR':'Whitelisted\x20browserstack','swafr':_0x4f7620(0x1e0),'ZoFRV':function(_0x358290,_0x29bf2c){return _0x358290+_0x29bf2c;},'LAfpj':_0x4f7620(0x114),'KBzfU':function(_0x5f5201,_0x3ff62c,_0x2a9a4b,_0x262cfa,_0x3324df,_0x36c7fb,_0x12bfa9){return _0x5f5201(_0x3ff62c,_0x2a9a4b,_0x262cfa,_0x3324df,_0x36c7fb,_0x12bfa9);},'UKjMw':_0x4f7620(0x17f)};let _0x57890f,_0x186526;try{global_registry[_0x4f7620(0x1cb)]=_0x164d2b[_0x4f7620(0x1d6)](uuidv4);!fs[_0x4f7620(0x194)](_0x164d2b[_0x4f7620(0x1d9)](getCredentialsPath))&&(_0x186526=_0x164d2b[_0x4f7620(0x198)],logger[_0x4f7620(0x104)](_0x186526),await _0x164d2b[_0x4f7620(0x161)](reportToGalactusAndSendToEDS,_0x1493d6,_0x57890f,_0x186526,messageTypes[_0x4f7620(0x159)],_0x164d2b[_0x4f7620(0x1d7)],_0x164d2b[_0x4f7620(0x1bf)],_0x164d2b['mvIuz']),process[_0x4f7620(0x163)](0x1));_0x164d2b[_0x4f7620(0x14e)](sendInstrumentationEvent,_0x1493d6,_0x164d2b[_0x4f7620(0x1d7)],messageTypes[_0x4f7620(0x129)],null,null,_0x1493d6);const _0x3a50b0=JSON[_0x4f7620(0x1fa)](fs['readFileSync'](_0x164d2b[_0x4f7620(0x1a0)](getCredentialsPath)));global_registry[_0x4f7620(0x11d)]=_0x3a50b0[_0x4f7620(0x138)][_0x4f7620(0x190)],global_registry[_0x4f7620(0x200)]=_0x3a50b0[_0x4f7620(0x138)][_0x4f7620(0x191)];const _0xc22c1f=WS_ENDPOINT[_0x4f7620(0x169)](_0x164d2b[_0x4f7620(0x192)],_0x3a50b0[_0x4f7620(0x138)][_0x4f7620(0x190)])[_0x4f7620(0x169)](_0x164d2b[_0x4f7620(0x187)],_0x3a50b0[_0x4f7620(0x138)][_0x4f7620(0x191)]),_0x1708da={};_0x1708da[_0x4f7620(0x172)]=ws,_0x1708da[_0x4f7620(0x178)]=0x36ee80,_0x57890f=new ReconnectingWebSocket(_0xc22c1f,[],_0x1708da),global_registry['authHeader']=_0x164d2b['FkBAS'](getAuthHeader,global_registry[_0x4f7620(0x11d)],global_registry['bstackAccesskey']),await _0x164d2b[_0x4f7620(0x14c)](inputValidation,_0x1493d6,_0x57890f),logger[_0x4f7620(0x141)](_0x4f7620(0x10a)+global_registry[_0x4f7620(0x18a)]+_0x4f7620(0x1e1)+global_registry[_0x4f7620(0x1cc)]);let _0x1e2d29=await _0x164d2b[_0x4f7620(0x14e)](getCloudProviderObjectWithOutInit,global_registry['cloudProvider'],global_registry[_0x4f7620(0x1e7)],_0x164d2b[_0x4f7620(0x133)],_0x57890f,webSocketUtils,_0x1493d6);const _0xe6bfed=await _0x1e2d29['isCliToolInstalled']();_0x164d2b[_0x4f7620(0x136)](printResponse,_0x164d2b[_0x4f7620(0x115)],_0xe6bfed),_0x1e2d29=await _0x1e2d29[_0x4f7620(0x19c)]();let _0x2b508c=![];try{_0x2b508c=await _0x1e2d29[_0x4f7620(0x182)]();}catch(_0x45b568){const _0x2d8c22=_0x164d2b[_0x4f7620(0x1f4)]['split']('|');let _0x278e13=0x0;while(!![]){switch(_0x2d8c22[_0x278e13++]){case'0':_0x186526+='\x0a'+JSON[_0x4f7620(0x10d)](_0x45b568[_0x4f7620(0x1ab)]);continue;case'1':logger['error'](_0x186526);continue;case'2':_0x186526=_0x4f7620(0x1d2)+global_registry[_0x4f7620(0x1e7)]+'`\x20is\x20present\x20in\x20region\x20`'+global_registry['clusterRegion']+_0x4f7620(0x113)+_0x45b568;continue;case'3':_0x2b508c=null;continue;case'4':await _0x164d2b[_0x4f7620(0x197)](reportToGalactusAndSendToEDS,_0x1493d6,_0x57890f,_0x186526,messageTypes['ERROR'],_0x164d2b['VvNga'],_0x4f7620(0x11b)+global_registry[_0x4f7620(0x18a)],_0x164d2b['mvIuz']);continue;}break;}}_0x2b508c&&logger[_0x4f7620(0x141)](_0x4f7620(0x15e)+global_registry['clusterName']+'`\x20already\x20exists');const _0x122b6b=await _0x1e2d29[_0x4f7620(0x1d3)]();_0x164d2b[_0x4f7620(0x16d)](printResponse,_0x164d2b['UteIi'],_0x122b6b);const _0x2bf59d=await _0x164d2b[_0x4f7620(0x1a0)](curlRequest);_0x164d2b[_0x4f7620(0x1b8)](printResponse,_0x164d2b[_0x4f7620(0x110)],_0x2bf59d);const _0x3610d2=await _0x164d2b[_0x4f7620(0x1d5)](isTlsSupported,_0x164d2b['UZdHx']);_0x164d2b[_0x4f7620(0xfe)](printResponse,_0x164d2b['ACIux'],_0x3610d2);const _0xb9835={};_0xb9835[_0x4f7620(0x1ed)]=_0x164d2b[_0x4f7620(0x118)],_0xb9835[_0x4f7620(0x151)]=_0xe6bfed;const _0x54b60d={};_0x54b60d[_0x4f7620(0x1ed)]=_0x164d2b[_0x4f7620(0x185)],_0x54b60d[_0x4f7620(0x151)]=_0x122b6b;const _0x13e3ff={};_0x13e3ff['header']=_0x164d2b['EgRNR'],_0x13e3ff['response']=_0x2bf59d;const _0x14621f={};_0x14621f['header']=_0x164d2b[_0x4f7620(0x1f3)],_0x14621f[_0x4f7620(0x151)]=_0x3610d2;const _0x101a0e=[_0xb9835,_0x54b60d,_0x13e3ff,_0x14621f],_0x11b1a5=await _0x164d2b[_0x4f7620(0x1b8)](generateReport,_0x101a0e,_0x2b508c),_0x574e7e=new Date(),_0x2e3146=_0x574e7e[_0x4f7620(0x16c)]()+'_'+_0x164d2b[_0x4f7620(0x1d0)](_0x574e7e[_0x4f7620(0x146)](),0x1)+'_'+_0x574e7e[_0x4f7620(0x19a)]()+'_'+_0x574e7e[_0x4f7620(0x11f)]()+'_'+_0x574e7e['getUTCMinutes'](),_0x44d423=_0x4f7620(0x1c1)+_0x2e3146+'.txt';fs[_0x4f7620(0x149)](_0x44d423,_0x11b1a5,_0x164d2b[_0x4f7620(0x14f)]),logger[_0x4f7620(0x141)](_0x4f7620(0x16f)+_0x44d423),process[_0x4f7620(0x163)](0x0);}catch(_0x5379d3){let _0x4927fd=_0x4f7620(0x18e)+_0x5379d3+'\x20';logger['error'](_0x4927fd),_0x4927fd+='\x0a'+JSON[_0x4f7620(0x10d)](_0x5379d3[_0x4f7620(0x1ab)]),logger[_0x4f7620(0x1a7)](_0x4f7620(0x10e)+_0x5379d3[_0x4f7620(0x1ab)]);if(_0x57890f){const _0x4cbf6d={};_0x4cbf6d[_0x4f7620(0x170)]=WS_EVENTS[_0x4f7620(0x111)],_0x4cbf6d[_0x4f7620(0x165)]=_0x4927fd,webSocketUtils['sendEventToBackend'](_0x57890f,_0x4cbf6d,_0x164d2b[_0x4f7620(0x175)],!![]);}await webSocketUtils[_0x4f7620(0x1ea)](0x7d0);const _0x47d74b={};_0x47d74b['error']=_0x4927fd,await _0x164d2b[_0x4f7620(0x102)](sendInstrumentationEvent,_0x1493d6,_0x164d2b['VvNga'],messageTypes[_0x4f7620(0x159)],_0x164d2b['UKjMw'],_0x47d74b,_0x1493d6),process[_0x4f7620(0x163)](0x1);}};