const a17_0x188c25=a17_0x32c7;(function(_0xda1cf2,_0x5eade4){const _0x4d416b=a17_0x32c7,_0x374b41=_0xda1cf2();while(!![]){try{const _0x2434a7=parseInt(_0x4d416b(0x1d9))/0x1+parseInt(_0x4d416b(0x10a))/0x2*(-parseInt(_0x4d416b(0x167))/0x3)+parseInt(_0x4d416b(0x1f1))/0x4+-parseInt(_0x4d416b(0x10e))/0x5+-parseInt(_0x4d416b(0x19d))/0x6*(-parseInt(_0x4d416b(0x144))/0x7)+-parseInt(_0x4d416b(0x13d))/0x8*(parseInt(_0x4d416b(0x1be))/0x9)+parseInt(_0x4d416b(0x152))/0xa;if(_0x2434a7===_0x5eade4)break;else _0x374b41['push'](_0x374b41['shift']());}catch(_0x50452d){_0x374b41['push'](_0x374b41['shift']());}}}(a17_0x5071,0x3f26c));function a17_0x32c7(_0x14e6c6,_0x119ef3){const _0x50715c=a17_0x5071();return a17_0x32c7=function(_0x32c77a,_0x24214e){_0x32c77a=_0x32c77a-0xff;let _0x309d5f=_0x50715c[_0x32c77a];return _0x309d5f;},a17_0x32c7(_0x14e6c6,_0x119ef3);}const fs=require('fs'),ws=require('ws'),got=require('got'),{v4:uuidv4}=require('uuid'),ReconnectingWebSocket=require('reconnecting-websocket'),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require(a17_0x188c25(0x1f2)),{logger}=require(a17_0x188c25(0x1f8)),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require(a17_0x188c25(0x106)),{getCloudProviderObjectWithOutInit}=require(a17_0x188c25(0x16c)),webSocketUtils=require(a17_0x188c25(0x148)),{sendInstrumentationEvent}=require('../../utils/instrumentationUtils');exports[a17_0x188c25(0x1de)]=a17_0x188c25(0x1e4),exports[a17_0x188c25(0x101)]='Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup',exports[a17_0x188c25(0x183)]=function(_0x4a98f9){const _0x23c5ae=a17_0x188c25,_0x45a450={};_0x45a450['KsLEZ']=_0x23c5ae(0x1d4),_0x45a450[_0x23c5ae(0x107)]=_0x23c5ae(0x1eb),_0x45a450[_0x23c5ae(0x113)]=_0x23c5ae(0x178),_0x45a450[_0x23c5ae(0x1f3)]=_0x23c5ae(0x12f),_0x45a450[_0x23c5ae(0x147)]='Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.',_0x45a450[_0x23c5ae(0x146)]=_0x23c5ae(0x123);const _0x3ff9a4=_0x45a450,_0xfffb18={};_0xfffb18[_0x23c5ae(0x156)]=_0x3ff9a4['KsLEZ'],_0xfffb18[_0x23c5ae(0x17d)]=_0x3ff9a4[_0x23c5ae(0x107)];const _0x6d66c8={};_0x6d66c8['description']=_0x3ff9a4[_0x23c5ae(0x113)],_0x6d66c8[_0x23c5ae(0x17d)]=_0x3ff9a4[_0x23c5ae(0x107)];const _0x533df0={};_0x533df0[_0x23c5ae(0x156)]=_0x3ff9a4[_0x23c5ae(0x1f3)],_0x533df0[_0x23c5ae(0x17d)]=_0x3ff9a4[_0x23c5ae(0x107)];const _0x2e5f40={};_0x2e5f40[_0x23c5ae(0x156)]=_0x3ff9a4['jhooC'],_0x2e5f40[_0x23c5ae(0x17d)]=_0x3ff9a4[_0x23c5ae(0x107)];const _0x249e9a={};return _0x249e9a['cluster-name']=_0xfffb18,_0x249e9a[_0x23c5ae(0x114)]=_0x6d66c8,_0x249e9a[_0x23c5ae(0x111)]=_0x533df0,_0x249e9a[_0x23c5ae(0x141)]=_0x2e5f40,_0x4a98f9['usage'](HELP_HEADER_MESSAGE[_0x23c5ae(0x1cc)])[_0x23c5ae(0x1b2)](HELP_FOOTER_MESSAGE)[_0x23c5ae(0x1cb)](_0x249e9a)[_0x23c5ae(0x123)](_0x3ff9a4['ONcUh'])['argv'];};function a17_0x5071(){const _0x806620=['grid-profile','push','QUURh','2667077dMavdr','\x20error\x20:\x20','ONcUh','jhooC','../../utils/webSocketUtils','tunqm','bHVli','name','qnGqQ','neLdD','socZA','IuDth','xYUud','Ejigr','782730nscWfa','body','isTrialGridAccessible','ALaJK','description','headers','Hgxjt','cEoyb','unable\x20to\x20verify\x20if\x20cluster\x20`','/packages/cli/get-all-grid-profiles','init','Tool\x20Installed','yHEJe','credential-not-found','status','IAJVR','zXDAi','KPRSO','qsdih','Report\x20saved\x20in\x20','ArEqi','13026yfszpo','.\x20Please\x20provide\x20all\x20required\x20arguments.','code','sFPGW','existsSync','../../cloudproviders/utils','getUTCHours','username','find','info','data','YUlCM','utf-8','Failure','PexqQ','xRWwF','ajvDt','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','password','cqawE','clusterName','Cluster\x20`','type','negVK','authHeader','hSOSn','requestId','qwHsd','builder','stack\x20trace\x20','ibnmy','error','is\x20already\x20present','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','throwHttpErrors','NhXNf','bstackAccesskey','\x20\x20Message:\x20','lisXu','CNTle','pre-check','<UsernamePlaceholder>','cloud-provider-not-supported','yPgxU','Yfatl','oCHUT','dummy-grid','\x20region\x20-\x20','response','koOWa','dfrgo','Pblfj','PzxSw','lvjZf','6WbctMK','clusterRegion','VOLaM','User\x20Access','WebSocket','WDWkG','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','ERROR','gridProfile','gTdIR','\x20\x20Stack:\x20','cluster-name','NfnAS','iuuSs','N/A','DjpSU','includes','llPBU','bstackUsername','nuyGE','XtXiw','epilogue','toLowerCase','pre-check-grid-profile-empty','aBbmH','sGOVx','RQitg','<PasswordPlaceholder>','error\x20stack\x20:\x20','cloudProvider','SSL\x20Configured','GET','isCliToolInstalled','1197ZZPiao','debug','Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20','gOMiX','DQvRW','sendEventToBackend','\x20data\x20:\x20','veZTl','ayvOp','TDUAt','QmJkf','exit','CFRpy','options','pre_check','PMZJt','pre-check-failed','stack','AiZne','usage','AUKcP','delay','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','LTHNm','HAzHh','iFVXA','QoxPX','369961zEKLcY','checkAccess','cyZgN','MHIOa','NcABq','command','mwiBQ','xHJMW','heFRz','2|1|0|4|3','Invalid\x20input.\x20grid\x20profiles:\x20','grid','pfMtE','rHwVg','.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again','xzgyc','KbyuW','skSii','string','yGgKR','Status:\x20','GOeqN','split','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','1379616IvBnyn','../../utils/utilityMethods','vpKjq','eWKzx','LOG',']\x20status\x20:\x20','Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','../../config/logger','writeFileSync','ZuBkD','.txt','ZqnDl','ooELt','https://','Niqvq','NUgcd','desc','log/report_','yDVff','connectionTimeout','CLOUD_PROVIDER','../../config/constants','jqoKD','sCYNG','DqxxH','196bMGsjP','message','toolInstalledResp','VEHHt','1298045eckGlz','evdEZ','BHDpY','region','pre-check-grid-called','ClhEC','cloud-provider','TxcMV','readFileSync','Cwgmj','header','HBDNw','TgXem','\x20\x20Code:\x20','ZbiNM','===\x20Precheck\x20Report\x20-\x20','WJHIT','Success','AsdyN','argv','isTls1_2_SUPPORTED','help','IxYBn','will\x20be\x20created','getUTCDate','method','stringify','handler','Browserstack','PNguI','AKjWP','grid\x20profile\x20flow\x20','getUTCMinutes','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','PVgKq','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','xqNZA','beEOb','replace','Message:\x20','ZLIbq','ZMiGV','\x20===\x0a\x0a','cKxTa','length','parse','KRUjE','13856FyLJeJ','fbjYt','Cluster\x20','XbfpL'];a17_0x5071=function(){return _0x806620;};return a17_0x5071();}async function inputValidation(_0x2deffd,_0x5e3bc8){const _0x51c825=a17_0x188c25,_0x597d6f={'ArEqi':_0x51c825(0x188),'koOWa':'is\x20already\x20present','wtGBg':_0x51c825(0x125),'QoxPX':_0x51c825(0x1a8),'fbjYt':_0x51c825(0x186),'VOLaM':function(_0x435d66,_0x16c6d0){return _0x435d66+_0x16c6d0;},'GOeqN':_0x51c825(0x11f),'ZqnDl':_0x51c825(0x174),'ajvDt':function(_0x5ee49c,_0x3cb380){return _0x5ee49c||_0x3cb380;},'VEHHt':'N/A','IxYBn':'Error\x20Details:\x0a','cyZgN':'region','reimV':'Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','NUgcd':'string','Xnuyu':_0x51c825(0x178),'PexqQ':_0x51c825(0x12f),'PMZJt':_0x51c825(0x1a3),'QUURh':_0x51c825(0x123),'yGgKR':'cloud-provider','socZA':function(_0x5e0bec,_0x461254){return _0x5e0bec!==_0x461254;},'oSAoy':_0x51c825(0x193),'QDRmd':'DlRsw','mwiBQ':function(_0x22affc,_0x2d98a1){return _0x22affc===_0x2d98a1;},'Niqvq':'GtpEX','lvjZf':_0x51c825(0x18a),'gTdIR':function(_0x3747a9,_0x16e064){return _0x3747a9!==_0x16e064;},'skSii':_0x51c825(0x1aa),'TgXem':_0x51c825(0x1e1),'xHJMW':_0x51c825(0x17a),'HbMkO':_0x51c825(0x14f),'aBbmH':function(_0xf57feb,_0x41b466){return _0xf57feb>_0x41b466;},'eWKzx':_0x51c825(0x1dd),'QmJkf':_0x51c825(0x1fa),'negVK':function(_0x2969b4,_0x386dbd,_0x48077d,_0x4140a6,_0x279123,_0x334b60,_0x358034,_0x2ff88d){return _0x2969b4(_0x386dbd,_0x48077d,_0x4140a6,_0x279123,_0x334b60,_0x358034,_0x2ff88d);},'ZMiGV':_0x51c825(0x112),'sGOVx':'pre-check-cluster-args-not-passed','qsdih':_0x51c825(0x1e6),'iFVXA':_0x51c825(0x1f7),'KRUjE':_0x51c825(0x191),'RQitg':function(_0x5870e9,_0x13e6f7){return _0x5870e9===_0x13e6f7;},'Cwgmj':_0x51c825(0x161),'CNTle':_0x51c825(0x1ac),'veZTl':_0x51c825(0x132),'oCHUT':_0x51c825(0x1bc),'MfPRH':function(_0x84442a,_0x3604fc,_0x1e5150){return _0x84442a(_0x3604fc,_0x1e5150);},'sFPGW':function(_0x428c39,_0x55b002,_0x4b58b2,_0xebcce8,_0x5f0f1a,_0x20a66b){return _0x428c39(_0x55b002,_0x4b58b2,_0xebcce8,_0x5f0f1a,_0x20a66b);},'cEoyb':_0x51c825(0x18f),'neLdD':_0x51c825(0x141),'NIiGY':function(_0x4944d5,_0x5ebec4){return _0x4944d5===_0x5ebec4;},'xYUud':_0x51c825(0x103),'iTlqb':function(_0x8c3012,_0x1f0f7d){return _0x8c3012(_0x1f0f7d);},'zXDAi':function(_0x301325,_0x5ad42f){return _0x301325!==_0x5ad42f;},'TxcMV':_0x51c825(0x1d5),'lisXu':_0x51c825(0x1b4),'ZLIbq':'kKOna','pfMtE':'iaRde','qnGqQ':function(_0x3a2ccc,_0x14ea0b){return _0x3a2ccc!==_0x14ea0b;},'bkrbE':_0x51c825(0x1d0),'NQyAG':_0x51c825(0x108),'llPBU':'Grid\x20profile\x20fetched\x20for\x20pre-check','DqxxH':_0x51c825(0x155),'xRWwF':_0x51c825(0x1c1),'MHIOa':function(_0x5453ea,_0x3a47bd,_0x3818fb,_0x1b33df,_0x1ff22e,_0x53b31f,_0x40e316,_0x1903e5){return _0x5453ea(_0x3a47bd,_0x3818fb,_0x1b33df,_0x1ff22e,_0x53b31f,_0x40e316,_0x1903e5);}};let _0x5a9a59;try{if(_0x597d6f[_0x51c825(0x14e)](_0x597d6f['oSAoy'],_0x597d6f['QDRmd'])){if(_0x2deffd[_0x51c825(0x17b)]||_0x2deffd['cloudProvider']||_0x2deffd[_0x51c825(0x111)]){if(_0x597d6f['mwiBQ'](_0x597d6f[_0x51c825(0xff)],_0x597d6f[_0x51c825(0x19c)]))_0x3ebab4[_0x51c825(0x186)](_0x597d6f[_0x51c825(0x166)]),_0x231466[_0x51c825(0x1c9)](0x1);else{const _0x12a251=[];!_0x2deffd[_0x51c825(0x17b)]&&(_0x597d6f[_0x51c825(0x1a6)](_0x597d6f[_0x51c825(0x1ea)],_0x597d6f[_0x51c825(0x1ea)])?_0x5ac0ea+=_0x51c825(0x13f)+_0x3915e2[_0x51c825(0x17b)]+'\x20'+(_0x5a4bd6?_0x597d6f[_0x51c825(0x198)]:_0x597d6f['wtGBg'])+'\x0a\x0a':_0x12a251[_0x51c825(0x142)](_0x597d6f[_0x51c825(0x1d8)]));;!_0x2deffd[_0x51c825(0x1ba)]&&(_0x597d6f[_0x51c825(0x1df)](_0x597d6f[_0x51c825(0x11a)],_0x597d6f[_0x51c825(0x11a)])?_0x12a251['push'](_0x597d6f[_0x51c825(0x1ec)]):_0x488efd[_0x51c825(0x186)]('error\x20stack\x20:\x20'+_0x31a96b[_0x51c825(0x186)]['stack']));;!_0x2deffd['region']&&(_0x597d6f[_0x51c825(0x1df)](_0x597d6f[_0x51c825(0x1e0)],_0x597d6f['HbMkO'])?_0x3eca2d[_0x51c825(0x1c9)](0x1):_0x12a251[_0x51c825(0x142)](_0x597d6f[_0x51c825(0x1db)]));;_0x597d6f[_0x51c825(0x1b5)](_0x12a251[_0x51c825(0x13a)],0x0)&&(_0x597d6f[_0x51c825(0x14e)](_0x597d6f[_0x51c825(0x1f4)],_0x597d6f[_0x51c825(0x1c8)])?(_0x5a9a59='Missing\x20required\x20arguments:\x20'+_0x12a251['join'](',\x20')+_0x51c825(0x168),await _0x597d6f['negVK'](reportToGalactusAndSendToEDS,_0x2deffd,_0x5e3bc8,_0x5a9a59,messageTypes[_0x51c825(0x1a4)],_0x597d6f[_0x51c825(0x137)],_0x597d6f[_0x51c825(0x1b6)],_0x597d6f[_0x51c825(0x13e)]),logger[_0x51c825(0x186)](_0x5a9a59),process[_0x51c825(0x1c9)](0x1)):_0x36ba54[_0x51c825(0x142)](_0x597d6f['QoxPX']));if(!ALL_SUPPORTED_CLOUD_PROVIDERS[_0x51c825(0x1ad)](_0x2deffd[_0x51c825(0x1ba)][_0x51c825(0x1b3)]())){if(_0x597d6f[_0x51c825(0x1df)](_0x597d6f[_0x51c825(0x164)],_0x597d6f[_0x51c825(0x164)])){_0x5a9a59=_0x597d6f[_0x51c825(0x1d7)],await _0x597d6f[_0x51c825(0x17e)](reportToGalactusAndSendToEDS,_0x2deffd,_0x5e3bc8,_0x5a9a59,messageTypes['ERROR'],_0x597d6f[_0x51c825(0x137)],_0x597d6f[_0x51c825(0x13c)],_0x597d6f[_0x51c825(0x13e)]),logger[_0x51c825(0x186)](_0x5a9a59);if(!_0x2deffd[_0x51c825(0x1ba)]){if(_0x597d6f[_0x51c825(0x1b7)](_0x597d6f[_0x51c825(0x117)],_0x597d6f[_0x51c825(0x18e)])){const _0xdd5588={};_0xdd5588[_0x51c825(0x17d)]=_0xee32a8['LOG'],_0xdd5588[_0x51c825(0x10b)]=_0x232b70,_0x3aeb35[_0x51c825(0x1c3)](_0x48daba,_0xdd5588,_0x597d6f[_0x51c825(0x13e)],!![]);}else logger[_0x51c825(0x170)]('Setting\x20cloud\x20provider\x20as\x20'+DEFAULT_CLUSTER_DETAILS[_0x51c825(0x105)]+'\x20'),_0x2deffd['cloudProvider']=DEFAULT_CLUSTER_DETAILS['CLOUD_PROVIDER'];}}else _0x32600c[_0x51c825(0x170)]('Setting\x20cloud\x20provider\x20as\x20'+_0x38e524[_0x51c825(0x105)]+'\x20'),_0x20bd75['cloudProvider']=_0x34745d[_0x51c825(0x105)];}global_registry[_0x51c825(0x17b)]=_0x2deffd[_0x51c825(0x17b)],global_registry[_0x51c825(0x1ba)]=_0x2deffd['cloudProvider'],global_registry['clusterRegion']=_0x2deffd[_0x51c825(0x111)];}}else{if(_0x2deffd[_0x51c825(0x1a5)]){if(_0x597d6f['gTdIR'](_0x597d6f[_0x51c825(0x1c5)],_0x597d6f[_0x51c825(0x1c5)]))_0x3c6ba4['info']('['+_0x36578b+_0x51c825(0x1f6)+_0x33e15c['status']+_0x51c825(0x1c4)+_0x417db9['data']+_0x51c825(0x145)+_0xf5a45c['error']),_0x5767d6[_0x51c825(0x186)]&&_0x165d0a[_0x51c825(0x186)](_0x51c825(0x1b9)+_0x46f159['error'][_0x51c825(0x1cf)]);else{global_registry[_0x51c825(0x1a5)]=_0x2deffd[_0x51c825(0x1a5)],logger[_0x51c825(0x1bf)](_0x51c825(0x12d)+_0x2deffd['gridProfile']);const _0x500ee9=_0x51c825(0x1fe)+AG_API_URL+_0x51c825(0x15b),_0x56f886={};_0x56f886[_0x51c825(0x127)]=_0x597d6f[_0x51c825(0x194)],_0x56f886[_0x51c825(0x157)]=global_registry[_0x51c825(0x17f)],_0x56f886[_0x51c825(0x189)]=![];const _0x108d39=_0x56f886,_0x1ff6ac=await _0x597d6f['MfPRH'](got,_0x500ee9,_0x108d39),_0x4b8819=await _0x597d6f[_0x51c825(0x16a)](responseValidation,_0x1ff6ac,_0x597d6f[_0x51c825(0x159)],_0x597d6f[_0x51c825(0x14d)],_0x2deffd,_0x5e3bc8);let _0x5884f1={};if(_0x597d6f['NIiGY'](_0x4b8819,0xc8)){if(_0x597d6f['gTdIR'](_0x597d6f[_0x51c825(0x150)],_0x597d6f[_0x51c825(0x150)])){const {header:_0x24ae79,response:_0x250de4}=_0x1a75c6,{status:_0x527b29,data:_0x38aa1d,error:_0x1f2a96}=_0x250de4;_0x4c5344+=_0x24ae79+'\x20#'+_0x597d6f[_0x51c825(0x19f)](_0x23d6cd,0x1)+'\x0a',_0x459fd8+=_0x51c825(0x1ed)+(_0x527b29?_0x597d6f[_0x51c825(0x1ee)]:_0x597d6f[_0x51c825(0x1fc)])+'\x0a',_0x292155+=_0x51c825(0x135)+_0x597d6f[_0x51c825(0x177)](_0x38aa1d,_0x597d6f[_0x51c825(0x10d)])+'\x0a',_0x1f2a96&&(_0x351562+=_0x597d6f['IxYBn'],_0x11499f+=_0x51c825(0x18c)+(_0x1f2a96[_0x51c825(0x10b)]||_0x597d6f[_0x51c825(0x10d)])+'\x0a',_0x14704a+='\x20\x20Code:\x20'+(_0x1f2a96['code']||_0x597d6f[_0x51c825(0x10d)])+'\x0a',_0x29e194+=_0x51c825(0x1a7)+(_0x1f2a96[_0x51c825(0x1cf)]||_0x597d6f[_0x51c825(0x10d)])+'\x0a'),_0x2a7080+='\x0a\x0a';}else{const _0x17ad45=JSON[_0x51c825(0x13b)](_0x1ff6ac[_0x51c825(0x153)]),_0x576e1f=_0x17ad45[_0x51c825(0x16f)](_0x2749d0=>_0x2749d0[_0x51c825(0x14b)]===_0x2deffd[_0x51c825(0x1a5)])||null;if(_0x597d6f['iTlqb'](isUndefined,_0x576e1f))_0x597d6f[_0x51c825(0x162)](_0x597d6f[_0x51c825(0x115)],_0x597d6f[_0x51c825(0x115)])?_0x5b6877[_0x51c825(0x142)](_0x597d6f['cyZgN']):(_0x5a9a59=_0x51c825(0x1e3)+_0x2deffd[_0x51c825(0x1a5)]+_0x51c825(0x1e7),await _0x597d6f['negVK'](reportToGalactusAndSendToEDS,_0x2deffd,_0x5e3bc8,_0x5a9a59,messageTypes['ERROR'],_0x597d6f['ZMiGV'],_0x597d6f[_0x51c825(0x18d)],_0x597d6f[_0x51c825(0x13e)]),logger[_0x51c825(0x186)](_0x5a9a59),process[_0x51c825(0x1c9)](0x1));else{if(_0x597d6f['zXDAi'](_0x597d6f[_0x51c825(0x136)],_0x597d6f[_0x51c825(0x1e5)]))_0x5884f1=_0x576e1f;else{const _0x31addb={};_0x31addb[_0x51c825(0x156)]=_0x597d6f['reimV'],_0x31addb[_0x51c825(0x17d)]=_0x597d6f[_0x51c825(0x100)];const _0x11b362={};_0x11b362[_0x51c825(0x156)]=_0x597d6f['Xnuyu'],_0x11b362[_0x51c825(0x17d)]=_0x597d6f['NUgcd'];const _0x33195d={};_0x33195d[_0x51c825(0x156)]=_0x597d6f[_0x51c825(0x175)],_0x33195d[_0x51c825(0x17d)]=_0x597d6f['NUgcd'];const _0x1ebc29={};_0x1ebc29['description']=_0x597d6f[_0x51c825(0x1cd)],_0x1ebc29[_0x51c825(0x17d)]=_0x597d6f[_0x51c825(0x100)];const _0x124c08={};return _0x124c08[_0x51c825(0x1a8)]=_0x31addb,_0x124c08[_0x51c825(0x114)]=_0x11b362,_0x124c08['region']=_0x33195d,_0x124c08[_0x51c825(0x141)]=_0x1ebc29,_0x7f3b23[_0x51c825(0x1d1)](_0x2f850f['pre_check'])[_0x51c825(0x1b2)](_0x3d2f94)[_0x51c825(0x1cb)](_0x124c08)[_0x51c825(0x123)](_0x597d6f[_0x51c825(0x143)])[_0x51c825(0x121)];}}}}else _0x597d6f[_0x51c825(0x14c)](_0x597d6f['bkrbE'],_0x597d6f['NQyAG'])?process['exit'](0x1):_0x88cbcf=_0x306575;const _0x181fe9={};_0x181fe9[_0x51c825(0x17d)]=WS_EVENTS[_0x51c825(0x1f5)],_0x181fe9[_0x51c825(0x10b)]=_0x597d6f[_0x51c825(0x1ae)],webSocketUtils[_0x51c825(0x1c3)](_0x5e3bc8,_0x181fe9),global_registry[_0x51c825(0x1ba)]=_0x5884f1[_0x51c825(0x1ba)],global_registry[_0x51c825(0x19e)]=_0x5884f1[_0x51c825(0x111)],global_registry[_0x51c825(0x17b)]=_0x5884f1[_0x51c825(0x17b)];}}else _0x597d6f[_0x51c825(0x1df)](_0x597d6f[_0x51c825(0x109)],_0x597d6f['DqxxH'])?(logger[_0x51c825(0x186)](_0x597d6f[_0x51c825(0x166)]),process[_0x51c825(0x1c9)](0x1)):_0x53f0d9+='Cluster\x20'+_0x551818[_0x51c825(0x17b)]+_0x51c825(0x131);}}else _0x5a3537+=_0x597d6f[_0x51c825(0x124)],_0x50bfb9+='\x20\x20Message:\x20'+(_0x504fee['message']||_0x597d6f[_0x51c825(0x10d)])+'\x0a',_0x1039b2+=_0x51c825(0x11b)+(_0xd51d50[_0x51c825(0x169)]||_0x597d6f[_0x51c825(0x10d)])+'\x0a',_0x5b7594+=_0x51c825(0x1a7)+(_0x5651bb[_0x51c825(0x1cf)]||_0x597d6f[_0x51c825(0x10d)])+'\x0a';}catch(_0x3cdaf6){_0x597d6f['RQitg'](_0x597d6f[_0x51c825(0x176)],_0x597d6f['xRWwF'])?(_0x5a9a59=_0x51c825(0x1c0)+_0x3cdaf6+':\x20'+_0x3cdaf6[_0x51c825(0x1cf)],logger[_0x51c825(0x186)](_0x5a9a59),await _0x597d6f[_0x51c825(0x1dc)](reportToGalactusAndSendToEDS,_0x2deffd,_0x5e3bc8,_0x5a9a59,messageTypes[_0x51c825(0x1a4)],_0x597d6f[_0x51c825(0x137)],_0x597d6f[_0x51c825(0x13c)],_0x597d6f[_0x51c825(0x13e)]),process[_0x51c825(0x1c9)](0x1)):_0x5df2cb[_0x51c825(0x142)](_0x597d6f[_0x51c825(0x1ec)]);}}function printResponse(_0x4e4742,_0x29dd9f){const _0x214dbb=a17_0x188c25,_0x14f03b={};_0x14f03b[_0x214dbb(0x15e)]=function(_0x4f935f,_0x54779c){return _0x4f935f!==_0x54779c;},_0x14f03b[_0x214dbb(0x149)]=_0x214dbb(0x119);const _0x178a79=_0x14f03b;logger[_0x214dbb(0x170)]('['+_0x4e4742+_0x214dbb(0x1f6)+_0x29dd9f[_0x214dbb(0x160)]+'\x20data\x20:\x20'+_0x29dd9f[_0x214dbb(0x171)]+_0x214dbb(0x145)+_0x29dd9f[_0x214dbb(0x186)]),_0x29dd9f[_0x214dbb(0x186)]&&(_0x178a79[_0x214dbb(0x15e)](_0x178a79[_0x214dbb(0x149)],_0x178a79[_0x214dbb(0x149)])?_0x33d9c0[_0x214dbb(0x170)]('Cluster\x20`'+_0x5c5e41[_0x214dbb(0x17b)]+'`\x20already\x20exists'):logger[_0x214dbb(0x186)](_0x214dbb(0x1b9)+_0x29dd9f['error']['stack']));}async function generateReport(_0xbc1cad,_0x34afee){const _0x1125b4=a17_0x188c25,_0x55e2d8={'beEOb':function(_0x4adac0,_0x5e91c2){return _0x4adac0+_0x5e91c2;},'KPRSO':_0x1125b4(0x11f),'WDWkG':_0x1125b4(0x174),'aXAwi':function(_0x38dce0,_0x63bd59){return _0x38dce0||_0x63bd59;},'bHVli':_0x1125b4(0x1ab),'WJHIT':'Error\x20Details:\x0a','xzgyc':'Cluster\x20details\x0a-----------------------\x0a','AUKcP':function(_0x2cd85e,_0x90d03e){return _0x2cd85e!=_0x90d03e;},'HMJGJ':_0x1125b4(0x187),'AKjWP':_0x1125b4(0x125),'hSOSn':function(_0x36a8cd){return _0x36a8cd();}};let _0x19994c=_0x1125b4(0x11d)+global_registry[_0x1125b4(0x1ba)]+_0x1125b4(0x138);return _0xbc1cad['forEach']((_0x531d5d,_0x19d58c)=>{const _0x2c1b76=_0x1125b4,{header:_0x423222,response:_0x4e11fd}=_0x531d5d,{status:_0x3817ea,data:_0x15eef5,error:_0x14e595}=_0x4e11fd;_0x19994c+=_0x423222+'\x20#'+_0x55e2d8[_0x2c1b76(0x133)](_0x19d58c,0x1)+'\x0a',_0x19994c+=_0x2c1b76(0x1ed)+(_0x3817ea?_0x55e2d8[_0x2c1b76(0x163)]:_0x55e2d8[_0x2c1b76(0x1a2)])+'\x0a',_0x19994c+=_0x2c1b76(0x135)+_0x55e2d8['aXAwi'](_0x15eef5,_0x55e2d8[_0x2c1b76(0x14a)])+'\x0a',_0x14e595&&(_0x19994c+=_0x55e2d8[_0x2c1b76(0x11e)],_0x19994c+=_0x2c1b76(0x18c)+(_0x14e595[_0x2c1b76(0x10b)]||_0x55e2d8['bHVli'])+'\x0a',_0x19994c+=_0x2c1b76(0x11b)+(_0x14e595[_0x2c1b76(0x169)]||_0x55e2d8[_0x2c1b76(0x14a)])+'\x0a',_0x19994c+=_0x2c1b76(0x1a7)+(_0x14e595[_0x2c1b76(0x1cf)]||_0x55e2d8[_0x2c1b76(0x14a)])+'\x0a'),_0x19994c+='\x0a\x0a';}),_0x19994c+=_0x55e2d8[_0x1125b4(0x1e8)],_0x55e2d8[_0x1125b4(0x1d2)](_0x34afee,null)?_0x19994c+='Cluster\x20'+global_registry[_0x1125b4(0x17b)]+'\x20'+(_0x34afee?_0x55e2d8['HMJGJ']:_0x55e2d8[_0x1125b4(0x12c)])+'\x0a\x0a':_0x19994c+='Cluster\x20'+global_registry[_0x1125b4(0x17b)]+_0x1125b4(0x131),_0x19994c+=_0x55e2d8[_0x1125b4(0x180)](getSystemMetaData),_0x19994c;};exports[a17_0x188c25(0x129)]=async function(_0x4d37ab){const _0x462707=a17_0x188c25,_0x57fb60={'ayvOp':function(_0x5e9ae5){return _0x5e9ae5();},'KbyuW':function(_0x5f2c1b){return _0x5f2c1b();},'RjXGh':_0x462707(0x1f0),'Hgxjt':function(_0x235928,_0x17057e,_0x5aa3ae,_0x378e9c,_0x140657,_0x275654,_0x4e6ba9,_0x4aed8d){return _0x235928(_0x17057e,_0x5aa3ae,_0x378e9c,_0x140657,_0x275654,_0x4e6ba9,_0x4aed8d);},'evdEZ':'pre-check-grid-called','PNguI':_0x462707(0x15f),'nuyGE':_0x462707(0x186),'HAzHh':function(_0x3b6aea,_0x13f505,_0xbc3971,_0x137df2,_0x410930,_0x109825,_0x6203ee){return _0x3b6aea(_0x13f505,_0xbc3971,_0x137df2,_0x410930,_0x109825,_0x6203ee);},'NfnAS':_0x462707(0x190),'XtXiw':_0x462707(0x1b8),'CFRpy':function(_0x47c9cc,_0x3e147e,_0x50db3b){return _0x47c9cc(_0x3e147e,_0x50db3b);},'DQvRW':function(_0x4b5cc5,_0x140670,_0x45de75,_0x5a5f2c,_0x5e8766,_0x2f4788,_0x34db48){return _0x4b5cc5(_0x140670,_0x45de75,_0x5a5f2c,_0x5e8766,_0x2f4788,_0x34db48);},'cKxTa':_0x462707(0x195),'yPgxU':function(_0x50e014,_0x34a3dc,_0x9fb695){return _0x50e014(_0x34a3dc,_0x9fb695);},'fMupQ':_0x462707(0x10c),'ibnmy':_0x462707(0x1e2),'qwHsd':function(_0x3ffafa,_0x4fe24c,_0x3b7725){return _0x3ffafa(_0x4fe24c,_0x3b7725);},'ZbiNM':'accessResp','qGFEM':function(_0x26897a,_0x56ae30,_0x301c5e){return _0x26897a(_0x56ae30,_0x301c5e);},'PVgKq':_0x462707(0x154),'dfrgo':function(_0x47205f,_0x44b5c8){return _0x47205f(_0x44b5c8);},'AsdyN':'TLSv1_2_client_method','Pblfj':function(_0x18fd48,_0x55d00c,_0x1ff609){return _0x18fd48(_0x55d00c,_0x1ff609);},'znIzU':_0x462707(0x122),'Rpseq':_0x462707(0x15d),'BHDpY':_0x462707(0x1a0),'QojrK':'Whitelisted\x20browserstack','ooELt':_0x462707(0x1bb),'YUlCM':function(_0x157f74,_0x3fa133,_0x404991){return _0x157f74(_0x3fa133,_0x404991);},'Ejigr':function(_0x29db91,_0x2ec9d6){return _0x29db91+_0x2ec9d6;},'PzxSw':_0x462707(0x173),'TDUAt':function(_0x2ad5f4,_0xc937a9,_0x560455,_0x5eb36f,_0x41e7d9,_0x4742e1,_0x1d3ce3){return _0x2ad5f4(_0xc937a9,_0x560455,_0x5eb36f,_0x41e7d9,_0x4742e1,_0x1d3ce3);},'XbfpL':_0x462707(0x1ce)};let _0x494bf8,_0x18e4fa;try{global_registry[_0x462707(0x181)]=_0x57fb60[_0x462707(0x1c6)](uuidv4);!fs[_0x462707(0x16b)](_0x57fb60[_0x462707(0x1e9)](getCredentialsPath))&&(_0x18e4fa=_0x57fb60['RjXGh'],logger[_0x462707(0x186)](_0x18e4fa),await _0x57fb60['Hgxjt'](reportToGalactusAndSendToEDS,_0x4d37ab,_0x494bf8,_0x18e4fa,messageTypes[_0x462707(0x1a4)],_0x57fb60['evdEZ'],_0x57fb60[_0x462707(0x12b)],_0x57fb60[_0x462707(0x1b0)]),process['exit'](0x1));_0x57fb60[_0x462707(0x1d6)](sendInstrumentationEvent,_0x4d37ab,_0x57fb60[_0x462707(0x10f)],messageTypes['INFO'],null,null,_0x4d37ab);const _0x37fb96=JSON[_0x462707(0x13b)](fs[_0x462707(0x116)](_0x57fb60[_0x462707(0x1e9)](getCredentialsPath)));global_registry['bstackUsername']=_0x37fb96[_0x462707(0x12a)][_0x462707(0x16e)],global_registry[_0x462707(0x18b)]=_0x37fb96[_0x462707(0x12a)][_0x462707(0x179)];const _0x22ca46=WS_ENDPOINT[_0x462707(0x134)](_0x57fb60[_0x462707(0x1a9)],_0x37fb96[_0x462707(0x12a)][_0x462707(0x16e)])[_0x462707(0x134)](_0x57fb60[_0x462707(0x1b1)],_0x37fb96[_0x462707(0x12a)][_0x462707(0x179)]),_0x4bfd80={};_0x4bfd80[_0x462707(0x1a1)]=ws,_0x4bfd80[_0x462707(0x104)]=0x36ee80,_0x494bf8=new ReconnectingWebSocket(_0x22ca46,[],_0x4bfd80),global_registry[_0x462707(0x17f)]=_0x57fb60[_0x462707(0x1ca)](getAuthHeader,global_registry[_0x462707(0x1af)],global_registry['bstackAccesskey']),await _0x57fb60['CFRpy'](inputValidation,_0x4d37ab,_0x494bf8),logger[_0x462707(0x170)]('Pre-check\x20running\x20for\x20Cloud\x20-\x20'+global_registry['cloudProvider']+_0x462707(0x196)+global_registry[_0x462707(0x19e)]);let _0x47a688=await _0x57fb60[_0x462707(0x1c2)](getCloudProviderObjectWithOutInit,global_registry[_0x462707(0x1ba)],global_registry[_0x462707(0x17b)],_0x57fb60[_0x462707(0x139)],_0x494bf8,webSocketUtils,_0x4d37ab);const _0x3443be=await _0x47a688[_0x462707(0x1bd)]();_0x57fb60[_0x462707(0x192)](printResponse,_0x57fb60['fMupQ'],_0x3443be),_0x47a688=await _0x47a688[_0x462707(0x15c)]();let _0x1df9f5=![];try{_0x1df9f5=await _0x47a688['isClusterPresent']();}catch(_0x996b4e){const _0x4f2cf5=_0x57fb60[_0x462707(0x185)][_0x462707(0x1ef)]('|');let _0x210023=0x0;while(!![]){switch(_0x4f2cf5[_0x210023++]){case'0':logger[_0x462707(0x186)](_0x18e4fa);continue;case'1':_0x1df9f5=null;continue;case'2':_0x18e4fa=_0x462707(0x15a)+global_registry['clusterName']+'`\x20is\x20present\x20in\x20region\x20`'+global_registry['clusterRegion']+'`\x20,error\x20:\x20'+_0x996b4e;continue;case'3':await _0x57fb60[_0x462707(0x158)](reportToGalactusAndSendToEDS,_0x4d37ab,_0x494bf8,_0x18e4fa,messageTypes[_0x462707(0x1a4)],_0x57fb60[_0x462707(0x10f)],'cluster-check-failed-'+global_registry[_0x462707(0x1ba)],_0x57fb60[_0x462707(0x1b0)]);continue;case'4':_0x18e4fa+='\x0a'+JSON[_0x462707(0x128)](_0x996b4e[_0x462707(0x1cf)]);continue;}break;}}_0x1df9f5&&logger[_0x462707(0x170)](_0x462707(0x17c)+global_registry[_0x462707(0x17b)]+'`\x20already\x20exists');const _0x245efe=await _0x47a688[_0x462707(0x1da)]();_0x57fb60[_0x462707(0x182)](printResponse,_0x57fb60[_0x462707(0x11c)],_0x245efe);const _0x1e30b2=await _0x57fb60[_0x462707(0x1c6)](curlRequest);_0x57fb60['qGFEM'](printResponse,_0x57fb60[_0x462707(0x130)],_0x1e30b2);const _0x544ea8=await _0x57fb60[_0x462707(0x199)](isTlsSupported,_0x57fb60[_0x462707(0x120)]);_0x57fb60[_0x462707(0x19a)](printResponse,_0x57fb60['znIzU'],_0x544ea8);const _0x40f096={};_0x40f096[_0x462707(0x118)]=_0x57fb60['Rpseq'],_0x40f096['response']=_0x3443be;const _0x4b136b={};_0x4b136b[_0x462707(0x118)]=_0x57fb60[_0x462707(0x110)],_0x4b136b[_0x462707(0x197)]=_0x245efe;const _0x5cc740={};_0x5cc740['header']=_0x57fb60['QojrK'],_0x5cc740[_0x462707(0x197)]=_0x1e30b2;const _0x40ea71={};_0x40ea71[_0x462707(0x118)]=_0x57fb60[_0x462707(0x1fd)],_0x40ea71[_0x462707(0x197)]=_0x544ea8;const _0x53df8d=[_0x40f096,_0x4b136b,_0x5cc740,_0x40ea71],_0x1b8992=await _0x57fb60[_0x462707(0x172)](generateReport,_0x53df8d,_0x1df9f5),_0x495d9e=new Date(),_0x44533e=_0x495d9e['getUTCFullYear']()+'_'+_0x57fb60[_0x462707(0x151)](_0x495d9e['getUTCMonth'](),0x1)+'_'+_0x495d9e[_0x462707(0x126)]()+'_'+_0x495d9e[_0x462707(0x16d)]()+'_'+_0x495d9e[_0x462707(0x12e)](),_0x44cb9c=_0x462707(0x102)+_0x44533e+_0x462707(0x1fb);fs[_0x462707(0x1f9)](_0x44cb9c,_0x1b8992,_0x57fb60[_0x462707(0x19b)]),logger[_0x462707(0x170)](_0x462707(0x165)+_0x44cb9c),process[_0x462707(0x1c9)](0x0);}catch(_0x30f7f7){let _0x2ad2f9='Failed\x20in\x20pre-check!\x20Error:\x20'+_0x30f7f7+'\x20';logger['error'](_0x2ad2f9),_0x2ad2f9+='\x0a'+JSON['stringify'](_0x30f7f7[_0x462707(0x1cf)]),logger['debug'](_0x462707(0x184)+_0x30f7f7[_0x462707(0x1cf)]);if(_0x494bf8){const _0x2551c1={};_0x2551c1[_0x462707(0x17d)]=WS_EVENTS[_0x462707(0x1f5)],_0x2551c1[_0x462707(0x10b)]=_0x2ad2f9,webSocketUtils['sendEventToBackend'](_0x494bf8,_0x2551c1,_0x57fb60['nuyGE'],!![]);}await webSocketUtils[_0x462707(0x1d3)](0x7d0);const _0x46bed1={};_0x46bed1['error']=_0x2ad2f9,await _0x57fb60[_0x462707(0x1c7)](sendInstrumentationEvent,_0x4d37ab,_0x57fb60['evdEZ'],messageTypes['ERROR'],_0x57fb60[_0x462707(0x140)],_0x46bed1,_0x4d37ab),process[_0x462707(0x1c9)](0x1);}};