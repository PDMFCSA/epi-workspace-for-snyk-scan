const a17_0xf1d5ff=a17_0x10bc;(function(_0x3e5214,_0x4ca71f){const _0x21200b=a17_0x10bc,_0x58174f=_0x3e5214();while(!![]){try{const _0x3d4bd8=-parseInt(_0x21200b(0x15d))/0x1*(parseInt(_0x21200b(0xff))/0x2)+parseInt(_0x21200b(0x1bb))/0x3+-parseInt(_0x21200b(0x165))/0x4+parseInt(_0x21200b(0x12a))/0x5+-parseInt(_0x21200b(0x14c))/0x6+parseInt(_0x21200b(0x12f))/0x7+parseInt(_0x21200b(0x125))/0x8*(parseInt(_0x21200b(0x130))/0x9);if(_0x3d4bd8===_0x4ca71f)break;else _0x58174f['push'](_0x58174f['shift']());}catch(_0x196e41){_0x58174f['push'](_0x58174f['shift']());}}}(a17_0x1f9c,0x36763));const fs=require('fs'),ws=require('ws'),got=require('got'),{v4:uuidv4}=require(a17_0xf1d5ff(0x114)),ReconnectingWebSocket=require('reconnecting-websocket'),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require('../../utils/utilityMethods'),{logger}=require(a17_0xf1d5ff(0x117)),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require('../../config/constants'),{getCloudProviderObjectWithOutInit}=require(a17_0xf1d5ff(0xf2)),webSocketUtils=require(a17_0xf1d5ff(0x141)),{sendInstrumentationEvent}=require(a17_0xf1d5ff(0x1be));exports[a17_0xf1d5ff(0x12d)]=a17_0xf1d5ff(0x1de),exports['desc']=a17_0xf1d5ff(0x103),exports[a17_0xf1d5ff(0x123)]=function(_0x4fc946){const _0x40abc7=a17_0xf1d5ff,_0xafa2b2={};_0xafa2b2[_0x40abc7(0x199)]=_0x40abc7(0x126),_0xafa2b2[_0x40abc7(0x10b)]='string',_0xafa2b2[_0x40abc7(0x15c)]=_0x40abc7(0x194),_0xafa2b2[_0x40abc7(0x150)]='Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.',_0xafa2b2[_0x40abc7(0x187)]='Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.',_0xafa2b2[_0x40abc7(0x1c2)]=_0x40abc7(0x1e6);const _0x45ed79=_0xafa2b2,_0x1ec9f6={};_0x1ec9f6[_0x40abc7(0x1a8)]=_0x45ed79[_0x40abc7(0x199)],_0x1ec9f6[_0x40abc7(0x11e)]=_0x45ed79[_0x40abc7(0x10b)];const _0x92322a={};_0x92322a['description']=_0x45ed79[_0x40abc7(0x15c)],_0x92322a['type']=_0x45ed79[_0x40abc7(0x10b)];const _0x216853={};_0x216853['description']=_0x45ed79[_0x40abc7(0x150)],_0x216853['type']=_0x45ed79[_0x40abc7(0x10b)];const _0x2f72e3={};_0x2f72e3[_0x40abc7(0x1a8)]=_0x45ed79[_0x40abc7(0x187)],_0x2f72e3[_0x40abc7(0x11e)]=_0x45ed79[_0x40abc7(0x10b)];const _0x1c8458={};return _0x1c8458[_0x40abc7(0xf5)]=_0x1ec9f6,_0x1c8458['cloud-provider']=_0x92322a,_0x1c8458['region']=_0x216853,_0x1c8458[_0x40abc7(0x173)]=_0x2f72e3,_0x4fc946[_0x40abc7(0x14f)](HELP_HEADER_MESSAGE[_0x40abc7(0x168)])['epilogue'](HELP_FOOTER_MESSAGE)[_0x40abc7(0x13d)](_0x1c8458)['help'](_0x45ed79['kdTts'])[_0x40abc7(0x1bf)];};async function inputValidation(_0x104e8d,_0x518844){const _0x28e2e1=a17_0xf1d5ff,_0x320b74={'DMLKU':_0x28e2e1(0x18d),'IqLdX':_0x28e2e1(0xf5),'lhUwL':_0x28e2e1(0x15b),'qLRpm':_0x28e2e1(0x18a),'LjvKO':function(_0x9af550,_0x3521a4){return _0x9af550+_0x3521a4;},'xAyBB':_0x28e2e1(0x170),'YOHnH':'Failure','GGbfB':function(_0xcd683a,_0x57af61){return _0xcd683a||_0x57af61;},'irotU':_0x28e2e1(0x1ee),'RhefN':_0x28e2e1(0x138),'WIzSZ':_0x28e2e1(0x126),'bGESC':_0x28e2e1(0x151),'TdWyQ':_0x28e2e1(0x194),'AywpR':_0x28e2e1(0x129),'QWxjD':_0x28e2e1(0x195),'kINTU':_0x28e2e1(0x1e6),'vfzgK':'error','NvIHZ':'Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','MVEmO':_0x28e2e1(0x1cd),'RHEPc':function(_0x345fbe,_0x1752b2){return _0x345fbe===_0x1752b2;},'xmjGJ':'QiZev','QPfdD':'sjLod','SZHln':function(_0x1e019d,_0x3097a8){return _0x1e019d===_0x3097a8;},'GBEES':_0x28e2e1(0x107),'iccTQ':'LlXFL','jqSua':_0x28e2e1(0x1e5),'rcFaW':function(_0x1f69ba,_0x2852a9){return _0x1f69ba!==_0x2852a9;},'LrtHU':_0x28e2e1(0x1ab),'uzUjH':_0x28e2e1(0x106),'ewcog':_0x28e2e1(0x1dc),'aEmDD':'mewmj','PxFBM':function(_0x51b616,_0x5195d2){return _0x51b616>_0x5195d2;},'qEcVm':_0x28e2e1(0x1c7),'ATyMu':function(_0x2d18ff,_0x4a4b06,_0x52fc27,_0x23d77a,_0x902a41,_0xe4bb12,_0xec2770,_0x1f5e3f){return _0x2d18ff(_0x4a4b06,_0x52fc27,_0x23d77a,_0x902a41,_0xe4bb12,_0xec2770,_0x1f5e3f);},'vbGHd':_0x28e2e1(0x102),'SZYIH':_0x28e2e1(0x10c),'qFRRh':_0x28e2e1(0x16a),'sQoBA':'ZoNHH','wgKaa':_0x28e2e1(0x1a7),'vNzkH':_0x28e2e1(0x17b),'jPFeF':_0x28e2e1(0x135),'uFTXn':_0x28e2e1(0x113),'wCaMc':_0x28e2e1(0x18c),'wrxwj':_0x28e2e1(0x15a),'xfymV':function(_0x3e39b7,_0xe81890,_0x9a356e){return _0x3e39b7(_0xe81890,_0x9a356e);},'qirds':function(_0x3623f4,_0x448331,_0x1d4f43,_0x5e3b98,_0x2a0d21,_0x2a14de){return _0x3623f4(_0x448331,_0x1d4f43,_0x5e3b98,_0x2a0d21,_0x2a14de);},'nNQKK':_0x28e2e1(0x1f0),'xAraT':_0x28e2e1(0x173),'rRhEr':function(_0x11d71a,_0x3a197d){return _0x11d71a===_0x3a197d;},'bGuzn':_0x28e2e1(0x1a1),'PqHAV':function(_0x379a7d,_0x2b9b69){return _0x379a7d(_0x2b9b69);},'ZKyYC':_0x28e2e1(0x16e),'wYkUt':function(_0x305913,_0x799919,_0x484d0f,_0x36eff7,_0x4b53af,_0xcbeb57,_0x129b69,_0x3a787a){return _0x305913(_0x799919,_0x484d0f,_0x36eff7,_0x4b53af,_0xcbeb57,_0x129b69,_0x3a787a);},'CkaUp':'pre-check-grid-profile-empty','scgFc':function(_0x8d8c7f,_0x51a7c2){return _0x8d8c7f===_0x51a7c2;},'LEtxf':_0x28e2e1(0x1e2),'JjWyZ':_0x28e2e1(0x12b),'ZUUAJ':_0x28e2e1(0x1d4),'jwOiE':_0x28e2e1(0x1e9),'zfxqK':'Grid\x20profile\x20fetched\x20for\x20pre-check','mqHjE':function(_0x87a7ad,_0x4cdc67){return _0x87a7ad!==_0x4cdc67;},'Cqyze':_0x28e2e1(0x1d9),'Rcnml':function(_0x356ddf,_0x1e62bd){return _0x356ddf===_0x1e62bd;},'ZNwGv':_0x28e2e1(0x1b2)};let _0x3fd2c4;try{if(_0x320b74[_0x28e2e1(0x1da)](_0x320b74[_0x28e2e1(0x116)],_0x320b74[_0x28e2e1(0x180)]))_0xe2d7a0[_0x28e2e1(0xf9)](_0x320b74[_0x28e2e1(0x118)]);else{if(_0x104e8d[_0x28e2e1(0x1a4)]||_0x104e8d[_0x28e2e1(0x14a)]||_0x104e8d['region']){if(_0x320b74[_0x28e2e1(0x14e)](_0x320b74['GBEES'],_0x320b74['GBEES'])){const _0x76f8fa=[];!_0x104e8d[_0x28e2e1(0x1a4)]&&(_0x320b74[_0x28e2e1(0x1da)](_0x320b74[_0x28e2e1(0x19a)],_0x320b74[_0x28e2e1(0x1c5)])?_0x259454[_0x28e2e1(0xf9)](_0x320b74[_0x28e2e1(0x1c1)]):_0x76f8fa[_0x28e2e1(0xf9)](_0x320b74[_0x28e2e1(0x1c1)]));;!_0x104e8d[_0x28e2e1(0x14a)]&&(_0x320b74['rcFaW'](_0x320b74[_0x28e2e1(0x122)],_0x320b74[_0x28e2e1(0x1b3)])?_0x76f8fa[_0x28e2e1(0xf9)](_0x320b74[_0x28e2e1(0x118)]):_0x395ea7['exit'](0x1));;!_0x104e8d['region']&&(_0x320b74[_0x28e2e1(0x159)](_0x320b74[_0x28e2e1(0x190)],_0x320b74[_0x28e2e1(0x19e)])?_0x76f8fa[_0x28e2e1(0xf9)](_0x320b74[_0x28e2e1(0x101)]):(_0x3ae0dc[_0x28e2e1(0x1e7)](_0x28e2e1(0xf8)+_0x40713f[_0x28e2e1(0xf7)]+'\x20'),_0x4591fd[_0x28e2e1(0x14a)]=_0x819ea0[_0x28e2e1(0xf7)]));;_0x320b74['PxFBM'](_0x76f8fa[_0x28e2e1(0x1c9)],0x0)&&(_0x320b74[_0x28e2e1(0x1da)](_0x320b74[_0x28e2e1(0x119)],_0x320b74[_0x28e2e1(0x119)])?(_0x3fd2c4='Missing\x20required\x20arguments:\x20'+_0x76f8fa[_0x28e2e1(0x137)](',\x20')+_0x28e2e1(0x183),await _0x320b74[_0x28e2e1(0x1ce)](reportToGalactusAndSendToEDS,_0x104e8d,_0x518844,_0x3fd2c4,messageTypes[_0x28e2e1(0x1ae)],_0x320b74['vbGHd'],_0x320b74[_0x28e2e1(0x164)],_0x320b74['vfzgK']),logger['error'](_0x3fd2c4),process[_0x28e2e1(0x10a)](0x1)):_0x1e9771+=_0x28e2e1(0x144)+_0x2fe086[_0x28e2e1(0x1a4)]+'\x20'+(_0x33fb29?_0x320b74[_0x28e2e1(0x155)]:_0x320b74[_0x28e2e1(0x156)])+'\x0a\x0a');if(!ALL_SUPPORTED_CLOUD_PROVIDERS['includes'](_0x104e8d['cloudProvider'][_0x28e2e1(0x124)]())){if(_0x320b74[_0x28e2e1(0x14e)](_0x320b74[_0x28e2e1(0x1b7)],_0x320b74[_0x28e2e1(0x1ea)])){const {header:_0x16e6dd,response:_0x3de016}=_0x1a3da5,{status:_0x257e97,data:_0x5c5812,error:_0x6626ba}=_0x3de016;_0x780243+=_0x16e6dd+'\x20#'+_0x320b74['LjvKO'](_0x4d95b2,0x1)+'\x0a',_0x100a9b+=_0x28e2e1(0x1ed)+(_0x257e97?_0x320b74[_0x28e2e1(0x178)]:_0x320b74[_0x28e2e1(0x1d5)])+'\x0a',_0x4e61a4+=_0x28e2e1(0x1ca)+_0x320b74[_0x28e2e1(0x17e)](_0x5c5812,_0x320b74[_0x28e2e1(0x174)])+'\x0a',_0x6626ba&&(_0x439066+=_0x320b74[_0x28e2e1(0x127)],_0x2a798a+=_0x28e2e1(0x185)+(_0x6626ba[_0x28e2e1(0x142)]||_0x320b74[_0x28e2e1(0x174)])+'\x0a',_0x482e5b+='\x20\x20Code:\x20'+(_0x6626ba['code']||_0x320b74[_0x28e2e1(0x174)])+'\x0a',_0x349d4c+=_0x28e2e1(0x1d2)+(_0x6626ba['stack']||_0x320b74[_0x28e2e1(0x174)])+'\x0a'),_0x52b455+='\x0a\x0a';}else _0x3fd2c4=_0x320b74[_0x28e2e1(0x120)],await _0x320b74[_0x28e2e1(0x1ce)](reportToGalactusAndSendToEDS,_0x104e8d,_0x518844,_0x3fd2c4,messageTypes['ERROR'],_0x320b74[_0x28e2e1(0xfb)],_0x320b74[_0x28e2e1(0x186)],_0x320b74[_0x28e2e1(0x19d)]),logger[_0x28e2e1(0x1e4)](_0x3fd2c4),!_0x104e8d[_0x28e2e1(0x14a)]&&(_0x320b74[_0x28e2e1(0x14e)](_0x320b74[_0x28e2e1(0x13b)],_0x320b74[_0x28e2e1(0x13b)])?(logger[_0x28e2e1(0x1e7)](_0x28e2e1(0xf8)+DEFAULT_CLUSTER_DETAILS['CLOUD_PROVIDER']+'\x20'),_0x104e8d[_0x28e2e1(0x14a)]=DEFAULT_CLUSTER_DETAILS[_0x28e2e1(0xf7)]):(_0x39b03e[_0x28e2e1(0x1e7)]('['+_0x3679eb+']\x20status\x20:\x20'+_0x501b1c[_0x28e2e1(0x175)]+'\x20data\x20:\x20'+_0x103702['data']+_0x28e2e1(0x189)+_0x5ccf5f['error']),_0x53052d[_0x28e2e1(0x1e4)]&&_0x590048[_0x28e2e1(0x1e4)](_0x28e2e1(0x11d)+_0x230b54[_0x28e2e1(0x1e4)][_0x28e2e1(0x176)])));}global_registry[_0x28e2e1(0x1a4)]=_0x104e8d[_0x28e2e1(0x1a4)],global_registry[_0x28e2e1(0x14a)]=_0x104e8d[_0x28e2e1(0x14a)],global_registry[_0x28e2e1(0x13e)]=_0x104e8d[_0x28e2e1(0x1cd)];}else _0x2d5681+='Cluster\x20'+_0x1b504d[_0x28e2e1(0x1a4)]+'\x20details\x20cannot\x20be\x20fetched\x0a\x0a';}else{if(_0x104e8d['gridProfile']){if(_0x320b74[_0x28e2e1(0x1da)](_0x320b74[_0x28e2e1(0x121)],_0x320b74[_0x28e2e1(0x111)])){const _0x1ddbe4={};_0x1ddbe4[_0x28e2e1(0x1a8)]=_0x320b74[_0x28e2e1(0x154)],_0x1ddbe4[_0x28e2e1(0x11e)]=_0x320b74[_0x28e2e1(0x161)];const _0x409d23={};_0x409d23['description']=_0x320b74[_0x28e2e1(0x1d3)],_0x409d23[_0x28e2e1(0x11e)]=_0x320b74['bGESC'];const _0x4e6b5f={};_0x4e6b5f[_0x28e2e1(0x1a8)]=_0x320b74[_0x28e2e1(0x18f)],_0x4e6b5f[_0x28e2e1(0x11e)]=_0x320b74[_0x28e2e1(0x161)];const _0x2b1fa0={};_0x2b1fa0[_0x28e2e1(0x1a8)]=_0x320b74[_0x28e2e1(0x191)],_0x2b1fa0[_0x28e2e1(0x11e)]=_0x320b74['bGESC'];const _0x2f5c9d={};return _0x2f5c9d[_0x28e2e1(0xf5)]=_0x1ddbe4,_0x2f5c9d[_0x28e2e1(0x18d)]=_0x409d23,_0x2f5c9d[_0x28e2e1(0x1cd)]=_0x4e6b5f,_0x2f5c9d[_0x28e2e1(0x173)]=_0x2b1fa0,_0x1358cb[_0x28e2e1(0x14f)](_0x35177b['pre_check'])[_0x28e2e1(0x145)](_0x3d9183)[_0x28e2e1(0x13d)](_0x2f5c9d)[_0x28e2e1(0x1e6)](_0x320b74[_0x28e2e1(0x11b)])[_0x28e2e1(0x1bf)];}else{global_registry['gridProfile']=_0x104e8d['gridProfile'],logger[_0x28e2e1(0x19b)](_0x28e2e1(0x104)+_0x104e8d['gridProfile']);const _0x547505=_0x28e2e1(0x1b5)+AG_API_URL+'/packages/cli/get-all-grid-profiles',_0x4d93fb={};_0x4d93fb['method']=_0x320b74[_0x28e2e1(0x1d1)],_0x4d93fb[_0x28e2e1(0x152)]=global_registry[_0x28e2e1(0x1a5)],_0x4d93fb[_0x28e2e1(0x158)]=![];const _0x4ace41=_0x4d93fb,_0x2d6061=await _0x320b74[_0x28e2e1(0x16d)](got,_0x547505,_0x4ace41),_0x9ff799=await _0x320b74[_0x28e2e1(0x1a6)](responseValidation,_0x2d6061,_0x320b74['nNQKK'],_0x320b74[_0x28e2e1(0x15e)],_0x104e8d,_0x518844);let _0x25efb0={};if(_0x320b74[_0x28e2e1(0x163)](_0x9ff799,0xc8)){if(_0x320b74[_0x28e2e1(0x163)](_0x320b74[_0x28e2e1(0x18b)],_0x320b74[_0x28e2e1(0x18b)])){const _0x2e76f9=JSON['parse'](_0x2d6061['body']),_0x1e15d6=_0x2e76f9['find'](_0x1cbfb0=>_0x1cbfb0[_0x28e2e1(0x1ec)]===_0x104e8d[_0x28e2e1(0x1ac)])||null;if(_0x320b74[_0x28e2e1(0x1cf)](isUndefined,_0x1e15d6)){if(_0x320b74[_0x28e2e1(0x163)](_0x320b74[_0x28e2e1(0x1c0)],_0x320b74[_0x28e2e1(0x1c0)]))_0x3fd2c4=_0x28e2e1(0x167)+_0x104e8d['gridProfile']+_0x28e2e1(0x1dd),await _0x320b74['wYkUt'](reportToGalactusAndSendToEDS,_0x104e8d,_0x518844,_0x3fd2c4,messageTypes['ERROR'],_0x320b74[_0x28e2e1(0xfb)],_0x320b74[_0x28e2e1(0x1b6)],_0x320b74[_0x28e2e1(0x19d)]),logger['error'](_0x3fd2c4),process['exit'](0x1);else{const _0x2fca46={};_0x2fca46[_0x28e2e1(0x11e)]=_0x656f1a[_0x28e2e1(0x1cc)],_0x2fca46[_0x28e2e1(0x142)]=_0x540b8d,_0x3e24d5[_0x28e2e1(0x143)](_0x345bb9,_0x2fca46,_0x320b74['vfzgK'],!![]);}}else _0x320b74[_0x28e2e1(0x12c)](_0x320b74[_0x28e2e1(0xfa)],_0x320b74[_0x28e2e1(0x1d7)])?_0x3cec10=_0x4b2855:_0x25efb0=_0x1e15d6;}else _0x5e215d['error'](_0x320b74[_0x28e2e1(0xfc)]),_0x523fdb[_0x28e2e1(0x10a)](0x1);}else _0x320b74[_0x28e2e1(0x163)](_0x320b74[_0x28e2e1(0xf6)],_0x320b74[_0x28e2e1(0x105)])?_0x21e09e[_0x28e2e1(0xf9)](_0x320b74[_0x28e2e1(0x101)]):process['exit'](0x1);const _0x35d2ea={};_0x35d2ea[_0x28e2e1(0x11e)]=WS_EVENTS[_0x28e2e1(0x1cc)],_0x35d2ea[_0x28e2e1(0x142)]=_0x320b74[_0x28e2e1(0x17d)],webSocketUtils[_0x28e2e1(0x143)](_0x518844,_0x35d2ea),global_registry[_0x28e2e1(0x14a)]=_0x25efb0[_0x28e2e1(0x14a)],global_registry['clusterRegion']=_0x25efb0[_0x28e2e1(0x1cd)],global_registry[_0x28e2e1(0x1a4)]=_0x25efb0[_0x28e2e1(0x1a4)];}}else _0x320b74['mqHjE'](_0x320b74[_0x28e2e1(0x139)],_0x320b74['Cqyze'])?_0x4feb8['info'](_0x28e2e1(0x10f)+_0x2b7c3b['clusterName']+_0x28e2e1(0x182)):(logger[_0x28e2e1(0x1e4)](_0x320b74[_0x28e2e1(0xfc)]),process[_0x28e2e1(0x10a)](0x1));}}}catch(_0x500e48){_0x320b74[_0x28e2e1(0x16b)](_0x320b74[_0x28e2e1(0x13f)],_0x320b74['ZNwGv'])?(_0x3fd2c4='Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20'+_0x500e48+':\x20'+_0x500e48[_0x28e2e1(0x176)],logger[_0x28e2e1(0x1e4)](_0x3fd2c4),await _0x320b74[_0x28e2e1(0xf3)](reportToGalactusAndSendToEDS,_0x104e8d,_0x518844,_0x3fd2c4,messageTypes[_0x28e2e1(0x1ae)],_0x320b74['vbGHd'],_0x320b74[_0x28e2e1(0x186)],_0x320b74['vfzgK']),process[_0x28e2e1(0x10a)](0x1)):_0x274a6c['error']('error\x20stack\x20:\x20'+_0x4f1c6a['error'][_0x28e2e1(0x176)]);}}function printResponse(_0xbd8771,_0x2b9b30){const _0x20e835=a17_0xf1d5ff,_0x5a8dd4={};_0x5a8dd4[_0x20e835(0x17f)]=_0x20e835(0x138),_0x5a8dd4['sqXGb']='N/A',_0x5a8dd4[_0x20e835(0x1aa)]=function(_0x4e567e,_0x1e1170){return _0x4e567e!==_0x1e1170;},_0x5a8dd4['HsJpK']=_0x20e835(0x177);const _0xce04a0=_0x5a8dd4;logger[_0x20e835(0x1e7)]('['+_0xbd8771+_0x20e835(0x1d0)+_0x2b9b30[_0x20e835(0x175)]+_0x20e835(0x1b9)+_0x2b9b30[_0x20e835(0x1af)]+_0x20e835(0x189)+_0x2b9b30[_0x20e835(0x1e4)]),_0x2b9b30[_0x20e835(0x1e4)]&&(_0xce04a0[_0x20e835(0x1aa)](_0xce04a0[_0x20e835(0x1c3)],_0xce04a0[_0x20e835(0x1c3)])?(_0x3500b5+=_0xce04a0[_0x20e835(0x17f)],_0x17b397+=_0x20e835(0x185)+(_0x48965a['message']||_0xce04a0[_0x20e835(0x17c)])+'\x0a',_0x5d86d7+=_0x20e835(0x16c)+(_0x2e79a4[_0x20e835(0x19f)]||_0xce04a0[_0x20e835(0x17c)])+'\x0a',_0x1a0ee8+=_0x20e835(0x1d2)+(_0x69b177['stack']||_0xce04a0['sqXGb'])+'\x0a'):logger[_0x20e835(0x1e4)](_0x20e835(0x11d)+_0x2b9b30[_0x20e835(0x1e4)][_0x20e835(0x176)]));}function a17_0x1f9c(){const _0x168454=['Cluster\x20details\x0a-----------------------\x0a','\x20error\x20:\x20','will\x20be\x20created','bGuzn','QBAkQ','cloud-provider','stack\x20trace\x20','AywpR','ewcog','QWxjD','HNOpR','awJRp','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','handler','cluster-check-failed-','Browserstack','YGAmT','iccTQ','debug','checkAccess','vfzgK','aEmDD','code','parse','GrZsx','YDbgW','pre-check-failed','clusterName','authHeader','qirds','Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','description','ywsFN','yuFar','nzIEc','gridProfile','\x20region\x20-\x20','ERROR','data','Tool\x20Installed','SlGqv','RQmsf','uzUjH','kRNAn','https://','CkaUp','qFRRh','iylde','\x20data\x20:\x20','QVcTG','721227ezQXeO','dummy-grid','xLovt','../../utils/instrumentationUtils','argv','ZKyYC','IqLdX','kdTts','HsJpK','jzvVc','jqSua','KBNjF','EgZWw','OvjgC','length','Message:\x20','Failure','LOG','region','ATyMu','PqHAV',']\x20status\x20:\x20','wrxwj','\x20\x20Stack:\x20','TdWyQ','VnNYv','YOHnH','utf-8','JjWyZ','JYJOk','CfEnX','RHEPc','response','jJWbG','.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again','grid','XxZOt','<PasswordPlaceholder>','JPeQy','WvXFx','credential-not-found','error','RrNyp','help','info','YoYsE','lcWhP','sQoBA','JmoFK','name','Status:\x20','N/A','replace','pre-check','../../cloudproviders/utils','wYkUt','password','cluster-name','ZUUAJ','CLOUD_PROVIDER','Setting\x20cloud\x20provider\x20as\x20','push','LEtxf','vbGHd','NvIHZ','SSL\x20Configured','OnFxv','25390wCvJaJ','stringify','MVEmO','pre-check-grid-called','Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup','grid\x20profile\x20flow\x20','jwOiE','VBYWG','KxgwN','Failed\x20in\x20pre-check!\x20Error:\x20','isTls1_2_SUPPORTED','exit','dxqeY','pre-check-cluster-args-not-passed','bstackAccesskey','`\x20is\x20present\x20in\x20region\x20`','Cluster\x20`','isCliToolInstalled','wCaMc','YqpUV','AKYbL','uuid','VeLFy','xmjGJ','../../config/logger','DMLKU','qEcVm','bstackUsername','kINTU','split','error\x20stack\x20:\x20','type','CeUer','wgKaa','uFTXn','LrtHU','builder','toLowerCase','16qIMbwJ','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','RhefN','delay','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','1038285EgPoeJ','MerHw','scgFc','command','username','1363691bbUJmk','1724337KwxTVp','INFO','WebSocket','isClusterPresent','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','igtKF','ohNMY','join','Error\x20Details:\x0a','Cqyze','forEach','jPFeF','LLiGD','options','clusterRegion','ZNwGv','Report\x20saved\x20in\x20','../../utils/webSocketUtils','message','sendEventToBackend','Cluster\x20','epilogue','log/report_','connectionTimeout','isTrialGridAccessible','header','cloudProvider','getUTCHours','1787994RwNGPh','bRFoJ','SZHln','usage','vSqJm','string','headers','===\x20Precheck\x20Report\x20-\x20','WIzSZ','lhUwL','qLRpm','LeBjw','throwHttpErrors','rcFaW','GET','is\x20already\x20present','amUvC','30joqiJZ','xAraT','init','Fsvww','bGESC','requestId','rRhEr','SZYIH','496564vjUhxE','Gaxwa','Invalid\x20input.\x20grid\x20profiles:\x20','pre_check','FnWOW','YvnTV','Rcnml','\x20\x20Code:\x20','xfymV','FuFyb','RPEYl','Success','TLSv1_2_client_method','zdDBr','grid-profile','irotU','status','stack','wRZoi','xAyBB','OcRqo','unable\x20to\x20verify\x20if\x20cluster\x20`','cloud-provider-not-supported','sqXGb','zfxqK','GGbfB','WXgCQ','QPfdD','AJIId','`\x20already\x20exists','.\x20Please\x20provide\x20all\x20required\x20arguments.','accessResp','\x20\x20Message:\x20','vNzkH','bhsFZ'];a17_0x1f9c=function(){return _0x168454;};return a17_0x1f9c();}async function generateReport(_0x106bd1,_0x59da76){const _0x34ec85=a17_0xf1d5ff,_0x5e0223={'awJRp':function(_0x182305,_0x393339){return _0x182305+_0x393339;},'FApPv':_0x34ec85(0x170),'JYJOk':_0x34ec85(0x1cb),'eOKXn':function(_0x530c9f,_0x2dc10b){return _0x530c9f||_0x2dc10b;},'YqpUV':_0x34ec85(0x1ee),'XiSBC':_0x34ec85(0x138),'HNOpR':_0x34ec85(0x188),'kRNAn':function(_0x4cb304,_0x7b2400){return _0x4cb304!=_0x7b2400;},'RPEYl':_0x34ec85(0x15b),'xLovt':_0x34ec85(0x18a),'bRFoJ':function(_0x4e86f8){return _0x4e86f8();}};let _0x1ba064=_0x34ec85(0x153)+global_registry[_0x34ec85(0x14a)]+'\x20===\x0a\x0a';return _0x106bd1[_0x34ec85(0x13a)]((_0x4e47d4,_0x337d91)=>{const _0x1feb1d=_0x34ec85,{header:_0x4c70ea,response:_0xedaf91}=_0x4e47d4,{status:_0x1ef25a,data:_0x4974da,error:_0x1d6275}=_0xedaf91;_0x1ba064+=_0x4c70ea+'\x20#'+_0x5e0223[_0x1feb1d(0x193)](_0x337d91,0x1)+'\x0a',_0x1ba064+=_0x1feb1d(0x1ed)+(_0x1ef25a?_0x5e0223['FApPv']:_0x5e0223[_0x1feb1d(0x1d8)])+'\x0a',_0x1ba064+=_0x1feb1d(0x1ca)+_0x5e0223['eOKXn'](_0x4974da,_0x5e0223[_0x1feb1d(0x112)])+'\x0a',_0x1d6275&&(_0x1ba064+=_0x5e0223['XiSBC'],_0x1ba064+=_0x1feb1d(0x185)+(_0x1d6275[_0x1feb1d(0x142)]||_0x5e0223['YqpUV'])+'\x0a',_0x1ba064+=_0x1feb1d(0x16c)+(_0x1d6275[_0x1feb1d(0x19f)]||_0x5e0223[_0x1feb1d(0x112)])+'\x0a',_0x1ba064+='\x20\x20Stack:\x20'+(_0x1d6275[_0x1feb1d(0x176)]||_0x5e0223[_0x1feb1d(0x112)])+'\x0a'),_0x1ba064+='\x0a\x0a';}),_0x1ba064+=_0x5e0223[_0x34ec85(0x192)],_0x5e0223[_0x34ec85(0x1b4)](_0x59da76,null)?_0x1ba064+=_0x34ec85(0x144)+global_registry[_0x34ec85(0x1a4)]+'\x20'+(_0x59da76?_0x5e0223[_0x34ec85(0x16f)]:_0x5e0223[_0x34ec85(0x1bd)])+'\x0a\x0a':_0x1ba064+=_0x34ec85(0x144)+global_registry['clusterName']+'\x20details\x20cannot\x20be\x20fetched\x0a\x0a',_0x1ba064+=_0x5e0223[_0x34ec85(0x14d)](getSystemMetaData),_0x1ba064;}function a17_0x10bc(_0x2c552d,_0x25616c){const _0x1f9cd3=a17_0x1f9c();return a17_0x10bc=function(_0x10bcf5,_0xea3dfa){_0x10bcf5=_0x10bcf5-0xf2;let _0xa03eb1=_0x1f9cd3[_0x10bcf5];return _0xa03eb1;},a17_0x10bc(_0x2c552d,_0x25616c);};exports[a17_0xf1d5ff(0x196)]=async function(_0x8f20c2){const _0x312daa=a17_0xf1d5ff,_0x4da226={'ywsFN':function(_0x3c00cd){return _0x3c00cd();},'SlGqv':_0x312daa(0x134),'XxZOt':function(_0xe61a53,_0x16c522,_0x1c3b32,_0x6ed716,_0x3ae9df,_0x48280d,_0x39ac09,_0x1c58bc){return _0xe61a53(_0x16c522,_0x1c3b32,_0x6ed716,_0x3ae9df,_0x48280d,_0x39ac09,_0x1c58bc);},'JmoFK':_0x312daa(0x102),'KBNjF':_0x312daa(0x1e3),'LLiGD':'error','CeUer':function(_0x554e24,_0x23bb9a,_0x52bf8b,_0x1a2952,_0x582787,_0x240244,_0x53f2d6){return _0x554e24(_0x23bb9a,_0x52bf8b,_0x1a2952,_0x582787,_0x240244,_0x53f2d6);},'ZIgCV':function(_0x3bb5f1){return _0x3bb5f1();},'OcRqo':'<UsernamePlaceholder>','tWZrN':_0x312daa(0x1e0),'zdDBr':function(_0x47511d,_0x515b1c,_0x5159ad){return _0x47511d(_0x515b1c,_0x5159ad);},'YoYsE':_0x312daa(0x1bc),'Fsvww':function(_0x8d77de,_0x5ddf8c,_0x208ed9){return _0x8d77de(_0x5ddf8c,_0x208ed9);},'Gaxwa':'toolInstalledResp','jzvVc':'3|2|4|0|1','FnWOW':function(_0x386f4e,_0x1c4a4c,_0x42906e){return _0x386f4e(_0x1c4a4c,_0x42906e);},'YDbgW':_0x312daa(0x184),'QVcTG':function(_0x11ea18){return _0x11ea18();},'AJIId':function(_0x13c11a,_0xebeb0,_0x1d3abe){return _0x13c11a(_0xebeb0,_0x1d3abe);},'LeBjw':_0x312daa(0x148),'gzXyX':function(_0x4b62f5,_0x1240ef){return _0x4b62f5(_0x1240ef);},'KiRXf':_0x312daa(0x171),'OnFxv':_0x312daa(0x109),'JPeQy':_0x312daa(0x1b0),'khZJy':'User\x20Access','iylde':'Whitelisted\x20browserstack','OvjgC':_0x312daa(0xfd),'yRAZq':function(_0x168f52,_0x487613,_0x54a554){return _0x168f52(_0x487613,_0x54a554);},'VeLFy':function(_0xdd3455,_0x5b2c8c){return _0xdd3455+_0x5b2c8c;},'fVjWa':_0x312daa(0x1d6),'ohNMY':_0x312daa(0x1a3)};let _0xe6b7ad,_0x11d7b0;try{global_registry[_0x312daa(0x162)]=_0x4da226[_0x312daa(0x1a9)](uuidv4);!fs['existsSync'](_0x4da226[_0x312daa(0x1a9)](getCredentialsPath))&&(_0x11d7b0=_0x4da226[_0x312daa(0x1b1)],logger[_0x312daa(0x1e4)](_0x11d7b0),await _0x4da226['XxZOt'](reportToGalactusAndSendToEDS,_0x8f20c2,_0xe6b7ad,_0x11d7b0,messageTypes['ERROR'],_0x4da226[_0x312daa(0x1eb)],_0x4da226[_0x312daa(0x1c6)],_0x4da226[_0x312daa(0x13c)]),process[_0x312daa(0x10a)](0x1));_0x4da226['CeUer'](sendInstrumentationEvent,_0x8f20c2,_0x4da226[_0x312daa(0x1eb)],messageTypes[_0x312daa(0x131)],null,null,_0x8f20c2);const _0x5da3ee=JSON[_0x312daa(0x1a0)](fs['readFileSync'](_0x4da226['ZIgCV'](getCredentialsPath)));global_registry[_0x312daa(0x11a)]=_0x5da3ee[_0x312daa(0x198)][_0x312daa(0x12e)],global_registry[_0x312daa(0x10d)]=_0x5da3ee[_0x312daa(0x198)][_0x312daa(0xf4)];const _0xb7a18d=WS_ENDPOINT[_0x312daa(0x1ef)](_0x4da226[_0x312daa(0x179)],_0x5da3ee[_0x312daa(0x198)][_0x312daa(0x12e)])[_0x312daa(0x1ef)](_0x4da226['tWZrN'],_0x5da3ee[_0x312daa(0x198)]['password']),_0xced824={};_0xced824[_0x312daa(0x132)]=ws,_0xced824[_0x312daa(0x147)]=0x36ee80,_0xe6b7ad=new ReconnectingWebSocket(_0xb7a18d,[],_0xced824),global_registry[_0x312daa(0x1a5)]=_0x4da226[_0x312daa(0x172)](getAuthHeader,global_registry[_0x312daa(0x11a)],global_registry[_0x312daa(0x10d)]),await _0x4da226[_0x312daa(0x172)](inputValidation,_0x8f20c2,_0xe6b7ad),logger[_0x312daa(0x1e7)]('Pre-check\x20running\x20for\x20Cloud\x20-\x20'+global_registry[_0x312daa(0x14a)]+_0x312daa(0x1ad)+global_registry[_0x312daa(0x13e)]);let _0xa6daf7=await _0x4da226[_0x312daa(0x11f)](getCloudProviderObjectWithOutInit,global_registry[_0x312daa(0x14a)],global_registry[_0x312daa(0x1a4)],_0x4da226[_0x312daa(0x1e8)],_0xe6b7ad,webSocketUtils,_0x8f20c2);const _0x43fd0b=await _0xa6daf7[_0x312daa(0x110)]();_0x4da226[_0x312daa(0x160)](printResponse,_0x4da226[_0x312daa(0x166)],_0x43fd0b),_0xa6daf7=await _0xa6daf7[_0x312daa(0x15f)]();let _0x342eda=![];try{_0x342eda=await _0xa6daf7[_0x312daa(0x133)]();}catch(_0x6008b9){const _0x48e92c=_0x4da226[_0x312daa(0x1c4)][_0x312daa(0x11c)]('|');let _0x2259e1=0x0;while(!![]){switch(_0x48e92c[_0x2259e1++]){case'0':_0x11d7b0+='\x0a'+JSON[_0x312daa(0x100)](_0x6008b9[_0x312daa(0x176)]);continue;case'1':await _0x4da226[_0x312daa(0x1df)](reportToGalactusAndSendToEDS,_0x8f20c2,_0xe6b7ad,_0x11d7b0,messageTypes[_0x312daa(0x1ae)],_0x4da226['JmoFK'],_0x312daa(0x197)+global_registry[_0x312daa(0x14a)],_0x4da226[_0x312daa(0x13c)]);continue;case'2':_0x342eda=null;continue;case'3':_0x11d7b0=_0x312daa(0x17a)+global_registry[_0x312daa(0x1a4)]+_0x312daa(0x10e)+global_registry['clusterRegion']+'`\x20,error\x20:\x20'+_0x6008b9;continue;case'4':logger[_0x312daa(0x1e4)](_0x11d7b0);continue;}break;}}_0x342eda&&logger[_0x312daa(0x1e7)](_0x312daa(0x10f)+global_registry['clusterName']+_0x312daa(0x182));const _0x17af38=await _0xa6daf7[_0x312daa(0x19c)]();_0x4da226[_0x312daa(0x169)](printResponse,_0x4da226[_0x312daa(0x1a2)],_0x17af38);const _0x1d3ac3=await _0x4da226[_0x312daa(0x1ba)](curlRequest);_0x4da226[_0x312daa(0x181)](printResponse,_0x4da226[_0x312daa(0x157)],_0x1d3ac3);const _0x57a031=await _0x4da226['gzXyX'](isTlsSupported,_0x4da226['KiRXf']);_0x4da226[_0x312daa(0x172)](printResponse,_0x4da226[_0x312daa(0xfe)],_0x57a031);const _0x50fea3={};_0x50fea3[_0x312daa(0x149)]=_0x4da226[_0x312daa(0x1e1)],_0x50fea3['response']=_0x43fd0b;const _0x4a5552={};_0x4a5552[_0x312daa(0x149)]=_0x4da226['khZJy'],_0x4a5552[_0x312daa(0x1db)]=_0x17af38;const _0x5431ac={};_0x5431ac['header']=_0x4da226[_0x312daa(0x1b8)],_0x5431ac[_0x312daa(0x1db)]=_0x1d3ac3;const _0x3ba24e={};_0x3ba24e[_0x312daa(0x149)]=_0x4da226[_0x312daa(0x1c8)],_0x3ba24e[_0x312daa(0x1db)]=_0x57a031;const _0x2d7ca5=[_0x50fea3,_0x4a5552,_0x5431ac,_0x3ba24e],_0x3599e2=await _0x4da226['yRAZq'](generateReport,_0x2d7ca5,_0x342eda),_0x527392=new Date(),_0x1f6111=_0x527392['getUTCFullYear']()+'_'+_0x4da226[_0x312daa(0x115)](_0x527392['getUTCMonth'](),0x1)+'_'+_0x527392['getUTCDate']()+'_'+_0x527392[_0x312daa(0x14b)]()+'_'+_0x527392['getUTCMinutes'](),_0x19504c=_0x312daa(0x146)+_0x1f6111+'.txt';fs['writeFileSync'](_0x19504c,_0x3599e2,_0x4da226['fVjWa']),logger['info'](_0x312daa(0x140)+_0x19504c),process[_0x312daa(0x10a)](0x0);}catch(_0x4ded36){let _0x49a42a=_0x312daa(0x108)+_0x4ded36+'\x20';logger['error'](_0x49a42a),_0x49a42a+='\x0a'+JSON[_0x312daa(0x100)](_0x4ded36[_0x312daa(0x176)]),logger[_0x312daa(0x19b)](_0x312daa(0x18e)+_0x4ded36[_0x312daa(0x176)]);if(_0xe6b7ad){const _0x5c2ada={};_0x5c2ada[_0x312daa(0x11e)]=WS_EVENTS[_0x312daa(0x1cc)],_0x5c2ada[_0x312daa(0x142)]=_0x49a42a,webSocketUtils[_0x312daa(0x143)](_0xe6b7ad,_0x5c2ada,_0x4da226[_0x312daa(0x13c)],!![]);}await webSocketUtils[_0x312daa(0x128)](0x7d0);const _0x36ad4d={};_0x36ad4d[_0x312daa(0x1e4)]=_0x49a42a,await _0x4da226['CeUer'](sendInstrumentationEvent,_0x8f20c2,_0x4da226[_0x312daa(0x1eb)],messageTypes['ERROR'],_0x4da226[_0x312daa(0x136)],_0x36ad4d,_0x8f20c2),process[_0x312daa(0x10a)](0x1);}};