const a17_0x1c79a2=a17_0x4c9c;(function(_0x17ffdd,_0x4db6f8){const _0x3d5364=a17_0x4c9c,_0x224d73=_0x17ffdd();while(!![]){try{const _0x5c468b=parseInt(_0x3d5364(0x1d1))/0x1*(parseInt(_0x3d5364(0x1c4))/0x2)+-parseInt(_0x3d5364(0x1dc))/0x3*(parseInt(_0x3d5364(0x12d))/0x4)+parseInt(_0x3d5364(0xf0))/0x5+-parseInt(_0x3d5364(0x139))/0x6+-parseInt(_0x3d5364(0x1a9))/0x7+parseInt(_0x3d5364(0x154))/0x8+-parseInt(_0x3d5364(0x1b9))/0x9;if(_0x5c468b===_0x4db6f8)break;else _0x224d73['push'](_0x224d73['shift']());}catch(_0x3798c2){_0x224d73['push'](_0x224d73['shift']());}}}(a17_0x59d1,0x5c0d7));const fs=require('fs'),ws=require('ws'),got=require('got'),{v4:uuidv4}=require(a17_0x1c79a2(0x121)),ReconnectingWebSocket=require(a17_0x1c79a2(0x1ae)),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require(a17_0x1c79a2(0x171)),{logger}=require(a17_0x1c79a2(0x157)),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require('../../config/constants'),{getCloudProviderObjectWithOutInit}=require(a17_0x1c79a2(0xfd)),webSocketUtils=require(a17_0x1c79a2(0x10e)),{sendInstrumentationEvent}=require(a17_0x1c79a2(0xf6));exports['command']=a17_0x1c79a2(0x1ca),exports[a17_0x1c79a2(0x168)]=a17_0x1c79a2(0x145),exports[a17_0x1c79a2(0x188)]=function(_0x1874c9){const _0x23f490=a17_0x1c79a2,_0x2372bb={};_0x2372bb[_0x23f490(0x113)]=_0x23f490(0x186),_0x2372bb[_0x23f490(0x131)]='string',_0x2372bb[_0x23f490(0x155)]='Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.',_0x2372bb[_0x23f490(0x1d8)]='Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.',_0x2372bb[_0x23f490(0x10f)]='Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.',_0x2372bb[_0x23f490(0x1d6)]=_0x23f490(0x153);const _0x328c22=_0x2372bb,_0x106cce={};_0x106cce[_0x23f490(0x1be)]=_0x328c22[_0x23f490(0x113)],_0x106cce[_0x23f490(0x1df)]=_0x328c22[_0x23f490(0x131)];const _0x125caf={};_0x125caf[_0x23f490(0x1be)]=_0x328c22[_0x23f490(0x155)],_0x125caf[_0x23f490(0x1df)]=_0x328c22[_0x23f490(0x131)];const _0x5e6400={};_0x5e6400[_0x23f490(0x1be)]=_0x328c22['BEVeK'],_0x5e6400[_0x23f490(0x1df)]=_0x328c22[_0x23f490(0x131)];const _0x2d8593={};_0x2d8593[_0x23f490(0x1be)]=_0x328c22[_0x23f490(0x10f)],_0x2d8593['type']=_0x328c22[_0x23f490(0x131)];const _0x315f6c={};return _0x315f6c['cluster-name']=_0x106cce,_0x315f6c[_0x23f490(0x110)]=_0x125caf,_0x315f6c['region']=_0x5e6400,_0x315f6c[_0x23f490(0xea)]=_0x2d8593,_0x1874c9[_0x23f490(0x195)](HELP_HEADER_MESSAGE[_0x23f490(0x117)])[_0x23f490(0x14f)](HELP_FOOTER_MESSAGE)[_0x23f490(0x1b2)](_0x315f6c)['help'](_0x328c22[_0x23f490(0x1d6)])[_0x23f490(0x18c)];};async function inputValidation(_0x278d59,_0x37667f){const _0x2b2829=a17_0x1c79a2,_0x4d9490={'xOAvd':'cloud-provider','TUpbG':'Error\x20Details:\x0a','rwkJH':_0x2b2829(0x1a4),'RMXdR':_0x2b2829(0x186),'sVXYz':'string','Onsbg':_0x2b2829(0x150),'VrcMU':'Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','gyAbS':_0x2b2829(0x184),'YxlIC':_0x2b2829(0x153),'TEQNS':_0x2b2829(0xe7),'kqaoa':_0x2b2829(0x109),'kwEqD':_0x2b2829(0x123),'qzyGn':'cluster-name','LOIuH':function(_0x3ff3a6,_0x5f2084){return _0x3ff3a6+_0x5f2084;},'QzrGd':'Success','kJhVF':'Failure','RqaqW':function(_0x2ce0fb,_0x3a8bb2){return _0x2ce0fb||_0x3a8bb2;},'KYtII':function(_0x3bb2ee,_0x4e967e){return _0x3bb2ee!==_0x4e967e;},'nhdyy':_0x2b2829(0x13b),'WlsEu':_0x2b2829(0x158),'ZnWZR':function(_0x4b3d06,_0xf86af2){return _0x4b3d06===_0xf86af2;},'EthSX':'cXHSk','UUZNa':_0x2b2829(0x10a),'eFrMv':_0x2b2829(0x192),'AkgiQ':function(_0x569510,_0x589dc5){return _0x569510===_0x589dc5;},'phAlA':'vfLEb','NJGlG':'WyzHP','ImNbT':function(_0x34e497,_0x3022e6){return _0x34e497>_0x3022e6;},'Urlmf':'rzpiT','wrhor':function(_0x546882,_0x25271d,_0x1c819e,_0x5f341b,_0x27de36,_0x2e46d9,_0x2b287f,_0x18cc1c){return _0x546882(_0x25271d,_0x1c819e,_0x5f341b,_0x27de36,_0x2e46d9,_0x2b287f,_0x18cc1c);},'nRUov':_0x2b2829(0x179),'DWFdf':'pre-check-cluster-args-not-passed','kdSTg':function(_0x2e8924,_0x21505f){return _0x2e8924===_0x21505f;},'vjxRc':_0x2b2829(0x183),'exjal':_0x2b2829(0x1ba),'RwMzv':'Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','YcYii':function(_0x2d302b,_0x3de97a,_0x1144af,_0xd1ae45,_0xb93908,_0x49429a,_0x5797f5,_0x908a9b){return _0x2d302b(_0x3de97a,_0x1144af,_0xd1ae45,_0xb93908,_0x49429a,_0x5797f5,_0x908a9b);},'sTOHd':_0x2b2829(0x13f),'hWEqZ':_0x2b2829(0x156),'Xubjw':_0x2b2829(0x136),'OrpnG':_0x2b2829(0x1de),'McPDP':_0x2b2829(0xeb),'ozWyZ':function(_0x46c4dc,_0x2f5aff,_0x212304){return _0x46c4dc(_0x2f5aff,_0x212304);},'rjChy':function(_0x2ff25c,_0x1fd6ee,_0x514740,_0x24cbc8,_0x40f413,_0x48e810){return _0x2ff25c(_0x1fd6ee,_0x514740,_0x24cbc8,_0x40f413,_0x48e810);},'tpmML':_0x2b2829(0x193),'RdIxB':_0x2b2829(0xea),'oGmem':function(_0xf50a88,_0x281d27){return _0xf50a88===_0x281d27;},'HawJO':'UdKhd','tNXRT':_0x2b2829(0x140),'IHMCf':function(_0x252b4d,_0x2c64b8){return _0x252b4d(_0x2c64b8);},'TsKWj':'LHdot','ucAgy':_0x2b2829(0x177),'mQiAl':function(_0x13f26f,_0x10f5df){return _0x13f26f!==_0x10f5df;},'KzAFR':_0x2b2829(0x133),'rhXHT':_0x2b2829(0x1a5),'ZGRKG':'Grid\x20profile\x20fetched\x20for\x20pre-check','MUhsl':function(_0x46dff2,_0x5d7dcc){return _0x46dff2===_0x5d7dcc;},'ZAIgR':_0x2b2829(0x1c6),'OsofT':_0x2b2829(0x1c5),'cdJoK':'EvTwr','iaiOm':function(_0x48f2b2,_0x2d6915,_0x2772fe,_0x2e5ecd,_0x589cca,_0x57498d,_0x43efa2,_0x3ab6c0){return _0x48f2b2(_0x2d6915,_0x2772fe,_0x2e5ecd,_0x589cca,_0x57498d,_0x43efa2,_0x3ab6c0);}};let _0x1489e9;try{if(_0x4d9490[_0x2b2829(0x12c)](_0x4d9490['nhdyy'],_0x4d9490['nhdyy']))_0x395cff['push'](_0x4d9490[_0x2b2829(0x1b5)]);else{if(_0x278d59[_0x2b2829(0x198)]||_0x278d59['cloudProvider']||_0x278d59[_0x2b2829(0xe7)]){if(_0x4d9490[_0x2b2829(0x12c)](_0x4d9490[_0x2b2829(0x1a3)],_0x4d9490[_0x2b2829(0x1a3)]))_0x2d95aa['info']('Cluster\x20`'+_0x1a1dba[_0x2b2829(0x198)]+'`\x20already\x20exists');else{const _0x463972=[];!_0x278d59[_0x2b2829(0x198)]&&(_0x4d9490[_0x2b2829(0x1ac)](_0x4d9490[_0x2b2829(0x143)],_0x4d9490[_0x2b2829(0x143)])?_0x463972[_0x2b2829(0x1d7)](_0x4d9490[_0x2b2829(0x144)]):(_0x1634cb+=_0x4d9490['TUpbG'],_0x59697e+=_0x2b2829(0x15d)+(_0xf2c3c7[_0x2b2829(0x173)]||_0x4d9490[_0x2b2829(0x122)])+'\x0a',_0x1937ea+='\x20\x20Code:\x20'+(_0x45bd23[_0x2b2829(0x161)]||_0x4d9490['rwkJH'])+'\x0a',_0x3ccb7b+='\x20\x20Stack:\x20'+(_0x566966['stack']||_0x4d9490[_0x2b2829(0x122)])+'\x0a'));;if(!_0x278d59['cloudProvider']){if(_0x4d9490[_0x2b2829(0x1ac)](_0x4d9490[_0x2b2829(0x182)],_0x4d9490[_0x2b2829(0x14b)])){const _0x318b85={};_0x318b85[_0x2b2829(0x1be)]=_0x4d9490[_0x2b2829(0x17e)],_0x318b85[_0x2b2829(0x1df)]=_0x4d9490[_0x2b2829(0x17d)];const _0x47f911={};_0x47f911[_0x2b2829(0x1be)]=_0x4d9490[_0x2b2829(0x17c)],_0x47f911[_0x2b2829(0x1df)]=_0x4d9490[_0x2b2829(0x17d)];const _0x26a1b4={};_0x26a1b4['description']=_0x4d9490[_0x2b2829(0x13a)],_0x26a1b4[_0x2b2829(0x1df)]=_0x4d9490[_0x2b2829(0x17d)];const _0xdf6e70={};_0xdf6e70[_0x2b2829(0x1be)]=_0x4d9490['gyAbS'],_0xdf6e70['type']=_0x4d9490[_0x2b2829(0x17d)];const _0x3978ab={};return _0x3978ab['cluster-name']=_0x318b85,_0x3978ab['cloud-provider']=_0x47f911,_0x3978ab['region']=_0x26a1b4,_0x3978ab[_0x2b2829(0xea)]=_0xdf6e70,_0x311883['usage'](_0x1eb5ed['pre_check'])[_0x2b2829(0x14f)](_0xc21d96)[_0x2b2829(0x1b2)](_0x3978ab)[_0x2b2829(0x153)](_0x4d9490[_0x2b2829(0x112)])[_0x2b2829(0x18c)];}else _0x463972[_0x2b2829(0x1d7)](_0x4d9490[_0x2b2829(0x1b5)]);};!_0x278d59[_0x2b2829(0xe7)]&&(_0x4d9490[_0x2b2829(0x169)](_0x4d9490[_0x2b2829(0x19a)],_0x4d9490[_0x2b2829(0x176)])?_0x3d509b['push'](_0x4d9490['TEQNS']):_0x463972[_0x2b2829(0x1d7)](_0x4d9490[_0x2b2829(0xe8)]));;_0x4d9490[_0x2b2829(0x1b0)](_0x463972[_0x2b2829(0x147)],0x0)&&(_0x4d9490['AkgiQ'](_0x4d9490[_0x2b2829(0x134)],_0x4d9490[_0x2b2829(0x134)])?(_0x1489e9=_0x2b2829(0x1c8)+_0x463972['join'](',\x20')+'.\x20Please\x20provide\x20all\x20required\x20arguments.',await _0x4d9490[_0x2b2829(0xf2)](reportToGalactusAndSendToEDS,_0x278d59,_0x37667f,_0x1489e9,messageTypes['ERROR'],_0x4d9490[_0x2b2829(0x175)],_0x4d9490['DWFdf'],_0x4d9490[_0x2b2829(0x107)]),logger[_0x2b2829(0x123)](_0x1489e9),process[_0x2b2829(0x15c)](0x1)):_0x5bbc2a+='Cluster\x20'+_0x2ff9ec[_0x2b2829(0x198)]+'\x20details\x20cannot\x20be\x20fetched\x0a\x0a'),!ALL_SUPPORTED_CLOUD_PROVIDERS[_0x2b2829(0x14c)](_0x278d59['cloudProvider'][_0x2b2829(0x178)]())&&(_0x4d9490[_0x2b2829(0x191)](_0x4d9490[_0x2b2829(0x152)],_0x4d9490[_0x2b2829(0x13c)])?(_0x1f3577[_0x2b2829(0x123)](_0x4d9490[_0x2b2829(0x1b3)]),_0x271446['exit'](0x1)):(_0x1489e9=_0x4d9490[_0x2b2829(0x1ad)],await _0x4d9490[_0x2b2829(0x199)](reportToGalactusAndSendToEDS,_0x278d59,_0x37667f,_0x1489e9,messageTypes['ERROR'],_0x4d9490[_0x2b2829(0x175)],_0x4d9490[_0x2b2829(0x11c)],_0x4d9490['kwEqD']),logger[_0x2b2829(0x123)](_0x1489e9),!_0x278d59[_0x2b2829(0x167)]&&(_0x4d9490[_0x2b2829(0x12c)](_0x4d9490[_0x2b2829(0xfc)],_0x4d9490[_0x2b2829(0xfc)])?(_0x26063c['info']('['+_0x10a236+_0x2b2829(0xe5)+_0x39a2d7[_0x2b2829(0x137)]+_0x2b2829(0x189)+_0x31e974[_0x2b2829(0x16e)]+'\x20error\x20:\x20'+_0x11b7ad[_0x2b2829(0x123)]),_0x26f03a[_0x2b2829(0x123)]&&_0x5b2184['error'](_0x2b2829(0x149)+_0x456582[_0x2b2829(0x123)][_0x2b2829(0x1b4)])):(logger['info']('Setting\x20cloud\x20provider\x20as\x20'+DEFAULT_CLUSTER_DETAILS['CLOUD_PROVIDER']+'\x20'),_0x278d59[_0x2b2829(0x167)]=DEFAULT_CLUSTER_DETAILS[_0x2b2829(0x160)])))),global_registry['clusterName']=_0x278d59['clusterName'],global_registry[_0x2b2829(0x167)]=_0x278d59[_0x2b2829(0x167)],global_registry[_0x2b2829(0x19f)]=_0x278d59[_0x2b2829(0xe7)];}}else{if(_0x278d59[_0x2b2829(0x14d)]){if(_0x4d9490[_0x2b2829(0x12c)](_0x4d9490[_0x2b2829(0x18a)],_0x4d9490[_0x2b2829(0xec)])){global_registry[_0x2b2829(0x14d)]=_0x278d59['gridProfile'],logger['debug']('grid\x20profile\x20flow\x20'+_0x278d59[_0x2b2829(0x14d)]);const _0x1298f5=_0x2b2829(0x104)+AG_API_URL+_0x2b2829(0x146),_0x2b989e={};_0x2b989e[_0x2b2829(0x1d2)]=_0x4d9490['McPDP'],_0x2b989e[_0x2b2829(0x1b8)]=global_registry[_0x2b2829(0xf1)],_0x2b989e[_0x2b2829(0x11e)]=![];const _0xc5077c=_0x2b989e,_0x409c35=await _0x4d9490[_0x2b2829(0xef)](got,_0x1298f5,_0xc5077c),_0x1ce64a=await _0x4d9490[_0x2b2829(0x125)](responseValidation,_0x409c35,_0x4d9490[_0x2b2829(0x196)],_0x4d9490[_0x2b2829(0x17f)],_0x278d59,_0x37667f);let _0x43c868={};if(_0x4d9490[_0x2b2829(0x1ac)](_0x1ce64a,0xc8)){if(_0x4d9490[_0x2b2829(0x16a)](_0x4d9490[_0x2b2829(0xe6)],_0x4d9490[_0x2b2829(0x19c)])){const _0xa82b02={};_0xa82b02[_0x2b2829(0x1df)]=_0xaeb36a['LOG'],_0xa82b02[_0x2b2829(0x173)]=_0x257aa3,_0x465b37[_0x2b2829(0xf7)](_0x3f69d3,_0xa82b02,_0x4d9490[_0x2b2829(0x107)],!![]);}else{const _0x1a2621=JSON[_0x2b2829(0x1cd)](_0x409c35[_0x2b2829(0x115)]),_0x4b3e3a=_0x1a2621[_0x2b2829(0x17b)](_0x2b7133=>_0x2b7133['name']===_0x278d59['gridProfile'])||null;_0x4d9490[_0x2b2829(0x18e)](isUndefined,_0x4b3e3a)?_0x4d9490['ZnWZR'](_0x4d9490[_0x2b2829(0x128)],_0x4d9490[_0x2b2829(0x128)])?(_0x1489e9=_0x2b2829(0x1c0)+_0x278d59[_0x2b2829(0x14d)]+_0x2b2829(0xed),await _0x4d9490['wrhor'](reportToGalactusAndSendToEDS,_0x278d59,_0x37667f,_0x1489e9,messageTypes[_0x2b2829(0x1dd)],_0x4d9490[_0x2b2829(0x175)],_0x4d9490[_0x2b2829(0x18d)],_0x4d9490[_0x2b2829(0x107)]),logger[_0x2b2829(0x123)](_0x1489e9),process[_0x2b2829(0x15c)](0x1)):_0xe5c165[_0x2b2829(0x15c)](0x1):_0x4d9490[_0x2b2829(0x132)](_0x4d9490['KzAFR'],_0x4d9490[_0x2b2829(0x181)])?(_0x8815be[_0x2b2829(0x105)](_0x2b2829(0x1ab)+_0x4eb80c[_0x2b2829(0x160)]+'\x20'),_0x302eae[_0x2b2829(0x167)]=_0x2f15ed['CLOUD_PROVIDER']):_0x43c868=_0x4b3e3a;}}else _0x4d9490[_0x2b2829(0x169)](_0x4d9490[_0x2b2829(0x10d)],_0x4d9490[_0x2b2829(0x10d)])?process[_0x2b2829(0x15c)](0x1):_0x5cc470[_0x2b2829(0x123)]('error\x20stack\x20:\x20'+_0x568abe['error'][_0x2b2829(0x1b4)]);const _0x1d470c={};_0x1d470c[_0x2b2829(0x1df)]=WS_EVENTS[_0x2b2829(0x103)],_0x1d470c[_0x2b2829(0x173)]=_0x4d9490[_0x2b2829(0x1bc)],webSocketUtils[_0x2b2829(0xf7)](_0x37667f,_0x1d470c),global_registry[_0x2b2829(0x167)]=_0x43c868[_0x2b2829(0x167)],global_registry[_0x2b2829(0x19f)]=_0x43c868[_0x2b2829(0xe7)],global_registry[_0x2b2829(0x198)]=_0x43c868[_0x2b2829(0x198)];}else _0x10287f[_0x2b2829(0x1d7)](_0x4d9490['qzyGn']);}else{if(_0x4d9490[_0x2b2829(0x101)](_0x4d9490[_0x2b2829(0x148)],_0x4d9490[_0x2b2829(0x148)]))logger[_0x2b2829(0x123)](_0x4d9490[_0x2b2829(0x1b3)]),process[_0x2b2829(0x15c)](0x1);else{const {header:_0xe54955,response:_0x2b9a10}=_0x4a4302,{status:_0x2be518,data:_0x2a2824,error:_0x2d5f8a}=_0x2b9a10;_0x163d51+=_0xe54955+'\x20#'+_0x4d9490[_0x2b2829(0x111)](_0x2aa579,0x1)+'\x0a',_0x46fd04+=_0x2b2829(0x1b6)+(_0x2be518?_0x4d9490[_0x2b2829(0x13d)]:_0x4d9490['kJhVF'])+'\x0a',_0x428117+=_0x2b2829(0x1db)+_0x4d9490[_0x2b2829(0x1c9)](_0x2a2824,_0x4d9490[_0x2b2829(0x122)])+'\x0a',_0x2d5f8a&&(_0x34b4af+=_0x4d9490['TUpbG'],_0x3032a3+=_0x2b2829(0x15d)+(_0x2d5f8a['message']||_0x4d9490[_0x2b2829(0x122)])+'\x0a',_0xe649e1+=_0x2b2829(0x164)+(_0x2d5f8a[_0x2b2829(0x161)]||_0x4d9490[_0x2b2829(0x122)])+'\x0a',_0x4620c5+='\x20\x20Stack:\x20'+(_0x2d5f8a['stack']||_0x4d9490[_0x2b2829(0x122)])+'\x0a'),_0x1671d7+='\x0a\x0a';}}}}}catch(_0x621f51){_0x4d9490[_0x2b2829(0x12c)](_0x4d9490[_0x2b2829(0x116)],_0x4d9490['cdJoK'])?(_0x1489e9=_0x2b2829(0xff)+_0x621f51+':\x20'+_0x621f51[_0x2b2829(0x1b4)],logger[_0x2b2829(0x123)](_0x1489e9),await _0x4d9490[_0x2b2829(0x1a6)](reportToGalactusAndSendToEDS,_0x278d59,_0x37667f,_0x1489e9,messageTypes[_0x2b2829(0x1dd)],_0x4d9490[_0x2b2829(0x175)],_0x4d9490[_0x2b2829(0x11c)],_0x4d9490['kwEqD']),process[_0x2b2829(0x15c)](0x1)):_0x477ee6=_0x2e43af;}}function printResponse(_0x21e43e,_0x434dc4){const _0x48b596=a17_0x1c79a2,_0x5c34c8={};_0x5c34c8['BnlXe']=_0x48b596(0xe9),_0x5c34c8['BtDqt']='will\x20be\x20created',_0x5c34c8[_0x48b596(0x130)]=function(_0x7f566f,_0x1aa0d1){return _0x7f566f!==_0x1aa0d1;},_0x5c34c8[_0x48b596(0x170)]='maRiw',_0x5c34c8[_0x48b596(0x12f)]=_0x48b596(0x108);const _0x38cbd0=_0x5c34c8;logger[_0x48b596(0x105)]('['+_0x21e43e+_0x48b596(0xe5)+_0x434dc4[_0x48b596(0x137)]+_0x48b596(0x189)+_0x434dc4['data']+_0x48b596(0x126)+_0x434dc4[_0x48b596(0x123)]),_0x434dc4['error']&&(_0x38cbd0[_0x48b596(0x130)](_0x38cbd0['iQSZv'],_0x38cbd0['twtAN'])?logger[_0x48b596(0x123)](_0x48b596(0x149)+_0x434dc4[_0x48b596(0x123)][_0x48b596(0x1b4)]):_0x38575d+=_0x48b596(0x14e)+_0x5ad013['clusterName']+'\x20'+(_0x4f26c0?_0x38cbd0[_0x48b596(0x1b1)]:_0x38cbd0[_0x48b596(0xe4)])+'\x0a\x0a');}async function generateReport(_0xd5962f,_0x241e2c){const _0xe1ffcb=a17_0x1c79a2,_0x5479da={'hthpJ':function(_0x827241,_0x3f11e1){return _0x827241+_0x3f11e1;},'RMfYg':'Success','QwIwC':_0xe1ffcb(0x185),'aoFqI':function(_0x9a1137,_0x58611f){return _0x9a1137||_0x58611f;},'EMVhJ':_0xe1ffcb(0x1a4),'ZAaiZ':_0xe1ffcb(0x1c7),'QAgHV':'Cluster\x20details\x0a-----------------------\x0a','gbcxu':function(_0x313177,_0x1dd5e1){return _0x313177!=_0x1dd5e1;},'pKXXw':_0xe1ffcb(0xe9),'yCWlk':'will\x20be\x20created','EIBXj':function(_0x45f40d){return _0x45f40d();}};let _0x2fc199=_0xe1ffcb(0x1a1)+global_registry[_0xe1ffcb(0x167)]+'\x20===\x0a\x0a';return _0xd5962f[_0xe1ffcb(0x19b)]((_0x3b48e5,_0x2a2165)=>{const _0x4f5944=_0xe1ffcb,{header:_0xa1b5cc,response:_0x2570c4}=_0x3b48e5,{status:_0x18c016,data:_0x57ae5f,error:_0x3b1d8a}=_0x2570c4;_0x2fc199+=_0xa1b5cc+'\x20#'+_0x5479da['hthpJ'](_0x2a2165,0x1)+'\x0a',_0x2fc199+='Status:\x20'+(_0x18c016?_0x5479da[_0x4f5944(0x19d)]:_0x5479da[_0x4f5944(0x10b)])+'\x0a',_0x2fc199+=_0x4f5944(0x1db)+_0x5479da[_0x4f5944(0x18b)](_0x57ae5f,_0x5479da['EMVhJ'])+'\x0a',_0x3b1d8a&&(_0x2fc199+=_0x5479da[_0x4f5944(0x100)],_0x2fc199+=_0x4f5944(0x15d)+(_0x3b1d8a[_0x4f5944(0x173)]||_0x5479da[_0x4f5944(0xf9)])+'\x0a',_0x2fc199+=_0x4f5944(0x164)+(_0x3b1d8a[_0x4f5944(0x161)]||_0x5479da['EMVhJ'])+'\x0a',_0x2fc199+='\x20\x20Stack:\x20'+(_0x3b1d8a[_0x4f5944(0x1b4)]||_0x5479da[_0x4f5944(0xf9)])+'\x0a'),_0x2fc199+='\x0a\x0a';}),_0x2fc199+=_0x5479da[_0xe1ffcb(0x1d3)],_0x5479da[_0xe1ffcb(0x1a2)](_0x241e2c,null)?_0x2fc199+=_0xe1ffcb(0x14e)+global_registry[_0xe1ffcb(0x198)]+'\x20'+(_0x241e2c?_0x5479da[_0xe1ffcb(0xe3)]:_0x5479da[_0xe1ffcb(0x1cc)])+'\x0a\x0a':_0x2fc199+=_0xe1ffcb(0x14e)+global_registry[_0xe1ffcb(0x198)]+_0xe1ffcb(0x129),_0x2fc199+=_0x5479da[_0xe1ffcb(0x16c)](getSystemMetaData),_0x2fc199;}function a17_0x4c9c(_0x324441,_0x2f6b7c){const _0x59d140=a17_0x59d1();return a17_0x4c9c=function(_0x4c9c6f,_0x1fc4e2){_0x4c9c6f=_0x4c9c6f-0xe3;let _0x420d0b=_0x59d140[_0x4c9c6f];return _0x420d0b;},a17_0x4c9c(_0x324441,_0x2f6b7c);};function a17_0x59d1(){const _0xe6ddb5=['QwIwC','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','rhXHT','../../utils/webSocketUtils','xwHMf','cloud-provider','LOIuH','YxlIC','jppHA','SSL\x20Configured','body','OsofT','pre_check','woHmp','toolInstalledResp','bXcFb','header','sTOHd','bJIRL','throwHttpErrors','FCvLY','Whitelisted\x20browserstack','uuid','rwkJH','error','stringify','rjChy','\x20error\x20:\x20','log/report_','TsKWj','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','INFO','GRdAQ','KYtII','76QVShIS','init','twtAN','PDDYc','hzENY','mQiAl','zOyfp','Urlmf','BlRMT','wGvGv','status','Failed\x20in\x20pre-check!\x20Error:\x20','968226GwoDRm','VrcMU','ERLtA','exjal','QzrGd','WebSocket','cloud-provider-not-supported','MIiYd','connectionTimeout','zDkEx','EthSX','qzyGn','Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup','/packages/cli/get-all-grid-profiles','length','ZAIgR','error\x20stack\x20:\x20','xoHve','eFrMv','includes','gridProfile','Cluster\x20','epilogue','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','getUTCFullYear','vjxRc','help','3164192AhArnR','IHnzd','rGwhD','../../config/logger','QJEAA','pre-check-failed','yeAbx','\x20region\x20-\x20','exit','\x20\x20Message:\x20','xfxcQ','bstackAccesskey','CLOUD_PROVIDER','code','debug','isCliToolInstalled','\x20\x20Code:\x20','0|3|2|1|4','cluster-check-failed-','cloudProvider','desc','AkgiQ','oGmem','BUOMw','EIBXj','delay','data','bstackUsername','iQSZv','../../utils/utilityMethods','response','message','isTls1_2_SUPPORTED','nRUov','NJGlG','pre-check-grid-profile-empty','toLowerCase','pre-check-grid-called','replace','find','Onsbg','sVXYz','RMXdR','RdIxB','unable\x20to\x20verify\x20if\x20cluster\x20`','KzAFR','UUZNa','WKGUX','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','Failure','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','NDukm','builder','\x20data\x20:\x20','Xubjw','aoFqI','argv','ucAgy','IHMCf','readFileSync','isTrialGridAccessible','kdSTg','aNVkg','pre-check','existsSync','usage','tpmML','password','clusterName','YcYii','phAlA','forEach','tNXRT','RMfYg','dummy-grid','clusterRegion','getUTCMonth','===\x20Precheck\x20Report\x20-\x20','gbcxu','WlsEu','N/A','nHEPU','iaiOm','.txt','YIUKr','2144793BzCYxr','`\x20is\x20present\x20in\x20region\x20`','Setting\x20cloud\x20provider\x20as\x20','ZnWZR','RwMzv','reconnecting-websocket','`\x20already\x20exists','ImNbT','BnlXe','options','kqaoa','stack','xOAvd','Status:\x20','nTEOS','headers','90252ONmwqT','vzHwA','username','ZGRKG','dsAvd','description','split','Invalid\x20input.\x20grid\x20profiles:\x20','credential-not-found','Tool\x20Installed','utf-8','6xVPgaO','ARUgG','MBCNo','Error\x20Details:\x0a','Missing\x20required\x20arguments:\x20','RqaqW','grid','requestId','yCWlk','parse','Browserstack','VVIwq','writeFileSync','85005FrbaAq','method','QAgHV','accessResp','TLSv1_2_client_method','apwox','push','BEVeK','isClusterPresent','stack\x20trace\x20','Message:\x20','27651wvswZg','ERROR','ELXRd','type','pKXXw','BtDqt',']\x20status\x20:\x20','HawJO','region','TEQNS','is\x20already\x20present','grid-profile','GET','OrpnG','.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again','RvlnQ','ozWyZ','1897145SWIdLQ','authHeader','wrhor','MTDqG','EcLWN','YwXjS','../../utils/instrumentationUtils','sendEventToBackend','LsmyP','EMVhJ','Hswyn','handler','hWEqZ','../../cloudproviders/utils','Pre-check\x20running\x20for\x20Cloud\x20-\x20','Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20','ZAaiZ','MUhsl','cCdqP','LOG','https://','info','Cluster\x20`','kwEqD','DPodn','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','hcFid'];a17_0x59d1=function(){return _0xe6ddb5;};return a17_0x59d1();}exports[a17_0x1c79a2(0xfb)]=async function(_0x55a9a8){const _0x50a043=a17_0x1c79a2,_0x4f8435={'nTEOS':function(_0x4bc10e){return _0x4bc10e();},'bXcFb':function(_0x187b9c){return _0x187b9c();},'uVITc':_0x50a043(0x10c),'EcLWN':function(_0x184962,_0x595ae7,_0x4979b4,_0x567cd9,_0x59607e,_0x184a46,_0x4c4a93,_0x1cdd48){return _0x184962(_0x595ae7,_0x4979b4,_0x567cd9,_0x59607e,_0x184a46,_0x4c4a93,_0x1cdd48);},'xfxcQ':_0x50a043(0x179),'MTDqG':_0x50a043(0x1c1),'dsAvd':_0x50a043(0x123),'Hswyn':function(_0x2420bd,_0x3e82f0,_0x47452d,_0x153968,_0x5ecb41,_0x3062d5,_0x28a1f6){return _0x2420bd(_0x3e82f0,_0x47452d,_0x153968,_0x5ecb41,_0x3062d5,_0x28a1f6);},'waWxP':function(_0xbb3d2f){return _0xbb3d2f();},'Vgoet':'<UsernamePlaceholder>','LsmyP':'<PasswordPlaceholder>','bJIRL':function(_0x860261,_0xa2d30b,_0x13289c){return _0x860261(_0xa2d30b,_0x13289c);},'YIUKr':function(_0x34ab1a,_0x15b237,_0x2b5c2e){return _0x34ab1a(_0x15b237,_0x2b5c2e);},'yeAbx':_0x50a043(0x19e),'YwXjS':_0x50a043(0x119),'HiWEA':_0x50a043(0x165),'RvlnQ':function(_0x4e41ef,_0x14f4b5,_0x4d2f5d){return _0x4e41ef(_0x14f4b5,_0x4d2f5d);},'FCvLY':_0x50a043(0x1d4),'NDukm':_0x50a043(0x190),'OSZKs':function(_0x10f54d,_0x20844e){return _0x10f54d(_0x20844e);},'xoHve':_0x50a043(0x1d5),'VVIwq':function(_0x1249e7,_0x3d439e,_0x2f59d){return _0x1249e7(_0x3d439e,_0x2f59d);},'zDkEx':_0x50a043(0x174),'BlRMT':_0x50a043(0x1c2),'GRdAQ':'User\x20Access','EOSVX':_0x50a043(0x120),'cCdqP':_0x50a043(0x114),'woHmp':function(_0x34c0cc,_0x4ab1bd){return _0x34c0cc+_0x4ab1bd;},'BUOMw':_0x50a043(0x1c3),'hEsAq':_0x50a043(0x159)};let _0x408c6b,_0x133635;try{global_registry[_0x50a043(0x1cb)]=_0x4f8435[_0x50a043(0x1b7)](uuidv4);!fs[_0x50a043(0x194)](_0x4f8435[_0x50a043(0x11a)](getCredentialsPath))&&(_0x133635=_0x4f8435['uVITc'],logger[_0x50a043(0x123)](_0x133635),await _0x4f8435[_0x50a043(0xf4)](reportToGalactusAndSendToEDS,_0x55a9a8,_0x408c6b,_0x133635,messageTypes[_0x50a043(0x1dd)],_0x4f8435[_0x50a043(0x15e)],_0x4f8435[_0x50a043(0xf3)],_0x4f8435[_0x50a043(0x1bd)]),process[_0x50a043(0x15c)](0x1));_0x4f8435[_0x50a043(0xfa)](sendInstrumentationEvent,_0x55a9a8,_0x4f8435[_0x50a043(0x15e)],messageTypes[_0x50a043(0x12a)],null,null,_0x55a9a8);const _0x4393be=JSON['parse'](fs[_0x50a043(0x18f)](_0x4f8435['waWxP'](getCredentialsPath)));global_registry[_0x50a043(0x16f)]=_0x4393be['Browserstack'][_0x50a043(0x1bb)],global_registry[_0x50a043(0x15f)]=_0x4393be[_0x50a043(0x1ce)][_0x50a043(0x197)];const _0x50381b=WS_ENDPOINT[_0x50a043(0x17a)](_0x4f8435['Vgoet'],_0x4393be['Browserstack']['username'])['replace'](_0x4f8435[_0x50a043(0xf8)],_0x4393be[_0x50a043(0x1ce)][_0x50a043(0x197)]),_0x209178={};_0x209178[_0x50a043(0x13e)]=ws,_0x209178[_0x50a043(0x141)]=0x36ee80,_0x408c6b=new ReconnectingWebSocket(_0x50381b,[],_0x209178),global_registry[_0x50a043(0xf1)]=_0x4f8435[_0x50a043(0x11d)](getAuthHeader,global_registry[_0x50a043(0x16f)],global_registry[_0x50a043(0x15f)]),await _0x4f8435[_0x50a043(0x1a8)](inputValidation,_0x55a9a8,_0x408c6b),logger['info'](_0x50a043(0xfe)+global_registry[_0x50a043(0x167)]+_0x50a043(0x15b)+global_registry[_0x50a043(0x19f)]);let _0x25d66e=await _0x4f8435['Hswyn'](getCloudProviderObjectWithOutInit,global_registry[_0x50a043(0x167)],global_registry[_0x50a043(0x198)],_0x4f8435[_0x50a043(0x15a)],_0x408c6b,webSocketUtils,_0x55a9a8);const _0x4fdf91=await _0x25d66e[_0x50a043(0x163)]();_0x4f8435['bJIRL'](printResponse,_0x4f8435[_0x50a043(0xf5)],_0x4fdf91),_0x25d66e=await _0x25d66e[_0x50a043(0x12e)]();let _0x58a3ae=![];try{_0x58a3ae=await _0x25d66e[_0x50a043(0x1d9)]();}catch(_0x5c0151){const _0x212714=_0x4f8435['HiWEA'][_0x50a043(0x1bf)]('|');let _0x9057a7=0x0;while(!![]){switch(_0x212714[_0x9057a7++]){case'0':_0x133635=_0x50a043(0x180)+global_registry[_0x50a043(0x198)]+_0x50a043(0x1aa)+global_registry[_0x50a043(0x19f)]+'`\x20,error\x20:\x20'+_0x5c0151;continue;case'1':_0x133635+='\x0a'+JSON['stringify'](_0x5c0151[_0x50a043(0x1b4)]);continue;case'2':logger[_0x50a043(0x123)](_0x133635);continue;case'3':_0x58a3ae=null;continue;case'4':await _0x4f8435['EcLWN'](reportToGalactusAndSendToEDS,_0x55a9a8,_0x408c6b,_0x133635,messageTypes[_0x50a043(0x1dd)],_0x4f8435[_0x50a043(0x15e)],_0x50a043(0x166)+global_registry['cloudProvider'],_0x4f8435[_0x50a043(0x1bd)]);continue;}break;}}_0x58a3ae&&logger[_0x50a043(0x105)](_0x50a043(0x106)+global_registry[_0x50a043(0x198)]+_0x50a043(0x1af));const _0xbff7d8=await _0x25d66e['checkAccess']();_0x4f8435[_0x50a043(0xee)](printResponse,_0x4f8435[_0x50a043(0x11f)],_0xbff7d8);const _0x5da4cd=await _0x4f8435['bXcFb'](curlRequest);_0x4f8435[_0x50a043(0xee)](printResponse,_0x4f8435[_0x50a043(0x187)],_0x5da4cd);const _0x224be5=await _0x4f8435['OSZKs'](isTlsSupported,_0x4f8435[_0x50a043(0x14a)]);_0x4f8435[_0x50a043(0x1cf)](printResponse,_0x4f8435[_0x50a043(0x142)],_0x224be5);const _0x5ad1ce={};_0x5ad1ce[_0x50a043(0x11b)]=_0x4f8435[_0x50a043(0x135)],_0x5ad1ce[_0x50a043(0x172)]=_0x4fdf91;const _0x20e329={};_0x20e329[_0x50a043(0x11b)]=_0x4f8435[_0x50a043(0x12b)],_0x20e329['response']=_0xbff7d8;const _0x32898a={};_0x32898a[_0x50a043(0x11b)]=_0x4f8435['EOSVX'],_0x32898a[_0x50a043(0x172)]=_0x5da4cd;const _0x80ff23={};_0x80ff23['header']=_0x4f8435[_0x50a043(0x102)],_0x80ff23[_0x50a043(0x172)]=_0x224be5;const _0xeaf503=[_0x5ad1ce,_0x20e329,_0x32898a,_0x80ff23],_0x2464a4=await _0x4f8435[_0x50a043(0x11d)](generateReport,_0xeaf503,_0x58a3ae),_0x312c20=new Date(),_0x4b7be8=_0x312c20[_0x50a043(0x151)]()+'_'+_0x4f8435[_0x50a043(0x118)](_0x312c20[_0x50a043(0x1a0)](),0x1)+'_'+_0x312c20['getUTCDate']()+'_'+_0x312c20['getUTCHours']()+'_'+_0x312c20['getUTCMinutes'](),_0x2e8c56=_0x50a043(0x127)+_0x4b7be8+_0x50a043(0x1a7);fs[_0x50a043(0x1d0)](_0x2e8c56,_0x2464a4,_0x4f8435[_0x50a043(0x16b)]),logger[_0x50a043(0x105)]('Report\x20saved\x20in\x20'+_0x2e8c56),process[_0x50a043(0x15c)](0x0);}catch(_0x7bde0d){let _0x5d0acb=_0x50a043(0x138)+_0x7bde0d+'\x20';logger['error'](_0x5d0acb),_0x5d0acb+='\x0a'+JSON[_0x50a043(0x124)](_0x7bde0d[_0x50a043(0x1b4)]),logger[_0x50a043(0x162)](_0x50a043(0x1da)+_0x7bde0d[_0x50a043(0x1b4)]);if(_0x408c6b){const _0x12835c={};_0x12835c[_0x50a043(0x1df)]=WS_EVENTS[_0x50a043(0x103)],_0x12835c[_0x50a043(0x173)]=_0x5d0acb,webSocketUtils[_0x50a043(0xf7)](_0x408c6b,_0x12835c,_0x4f8435[_0x50a043(0x1bd)],!![]);}await webSocketUtils[_0x50a043(0x16d)](0x7d0);const _0x48d931={};_0x48d931[_0x50a043(0x123)]=_0x5d0acb,await _0x4f8435[_0x50a043(0xfa)](sendInstrumentationEvent,_0x55a9a8,_0x4f8435[_0x50a043(0x15e)],messageTypes[_0x50a043(0x1dd)],_0x4f8435['hEsAq'],_0x48d931,_0x55a9a8),process['exit'](0x1);}};