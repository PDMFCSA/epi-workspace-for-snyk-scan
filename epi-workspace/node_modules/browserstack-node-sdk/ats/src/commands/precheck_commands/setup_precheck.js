const a17_0x354875=a17_0x3508;function a17_0x4d82(){const _0x3f218d=['VJLve','error\x20stack\x20:\x20','Report\x20saved\x20in\x20','.txt','YsXGI','code','name','VGGjq','replace','toolInstalledResp','EGUWi','woOOr','../../utils/utilityMethods','gwAnb','authHeader','Failure','tnMVv','string','isCliToolInstalled','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','EFqPc','pybVr','dUdXd','region','YVTik','BhCNG','grid-profile','BNpEk','Error\x20Details:\x0a','handler','/packages/cli/get-all-grid-profiles','type','getUTCMonth','FFTMM','sPuuK','Missing\x20required\x20arguments:\x20','Browserstack','help','oUtzp','YvsmH','epilogue','getUTCFullYear','lupSs','TYotp','cluster-name','wFQPB','cloudProvider','Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','got','split','LREyw','DtUqj','apQqF','toLowerCase','error','grid','LBvCj','jZcxm','XJgQV','dKUuf','XlJIV','password','ouYPb','clusterName','AUveW','\x20error\x20:\x20','push','4|2|0|3|1','TLSv1_2_client_method','mGODO','header','lEXik','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','\x20\x20Message:\x20','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','`\x20,error\x20:\x20','cluster-check-failed-','NEicT','pre-check-grid-profile-empty','LOG','description','vZCVv','iCMtP','JSzfe','JhMox','requestId','ICHxM','Success','options','delay','Tool\x20Installed','iQTWK','cloud-provider','FrNzQ','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','GvLUU','readFileSync','stringify','will\x20be\x20created','ZHokn','init','Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','bstackUsername','kExJy','YYrvz','Message:\x20','pre-check-cluster-args-not-passed','USZFx','qcemZ','`\x20already\x20exists','VgmSa','builder','IBdKU','gayUG','throwHttpErrors','hgBLz','grid\x20profile\x20flow\x20','783889OqwybU','JpYtl','info','VZPmP','WLvSD','status','CLOUD_PROVIDER','desc','CyJGU','Setting\x20cloud\x20provider\x20as\x20','xVvvN','eNFhG','isClusterPresent','HaICi','stack','KgbwM','cloud-provider-not-supported','bgrFA','3574970oUnsVu','<PasswordPlaceholder>','find','oNaOY','getUTCMinutes','ACDuN','method','dummy-grid','sejrv','Bpgfv','TkKoC','JJbSq','RVTzF','GET','connectionTimeout','tABOG','\x20region\x20-\x20','bstackAccesskey','QLYHP','LjYzg','VIZDS','isTrialGridAccessible','gridProfile','weXZB','irgFD','1199802omKUdj','pre_check','exit','sddYe','pre-check-grid-called','usage','724885ZDjpCU','clusterRegion','GJWgn','credential-not-found','RRFOQ','parse','ADPLY','join','yOzbJ','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','LJQxS','debug','getUTCDate','2666760xTAZFP','../../utils/instrumentationUtils','Cluster\x20`','log/report_','OTknU','checkAccess','LSHQD','\x20\x20Code:\x20','https://','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','accessResp',']\x20status\x20:\x20','CQpJb','writeFileSync','YkJKE','../../config/constants','QUgwq','1593IbCYlS','response','sAlwI','Invalid\x20input.\x20grid\x20profiles:\x20','Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20','UDELb','VFJow','UFdYR','PoDZk','message','\x20data\x20:\x20','RBCMw','Zbjtm','argv','UFvFY','Cluster\x20','tPUnN','username','NiDju','BaTke','jCmvQ','ERROR','MgaJG','command','Failed\x20in\x20pre-check!\x20Error:\x20','hXIrT','gxNZt','VeUQH','TDlRy','yGTlD','orVIr','\x20===\x0a\x0a','shwUm','sendEventToBackend','ItDbF','stack\x20trace\x20','5348znDNCk','288582hrOyJu','\x20\x20Stack:\x20','ZEhhF','dHuSf','NYtZI','WSMcj','lHYTg','N/A'];a17_0x4d82=function(){return _0x3f218d;};return a17_0x4d82();}(function(_0x17b35e,_0x2356b2){const _0x4b7002=a17_0x3508,_0x31a498=_0x17b35e();while(!![]){try{const _0x2f5c3a=-parseInt(_0x4b7002(0x1f2))/0x1+parseInt(_0x4b7002(0x21d))/0x2+-parseInt(_0x4b7002(0x241))/0x3*(-parseInt(_0x4b7002(0x265))/0x4)+parseInt(_0x4b7002(0x223))/0x5+-parseInt(_0x4b7002(0x266))/0x6+-parseInt(_0x4b7002(0x204))/0x7+parseInt(_0x4b7002(0x230))/0x8;if(_0x2f5c3a===_0x2356b2)break;else _0x31a498['push'](_0x31a498['shift']());}catch(_0x43ba86){_0x31a498['push'](_0x31a498['shift']());}}}(a17_0x4d82,0x6cc22));const fs=require('fs'),ws=require('ws'),got=require(a17_0x354875(0x29f)),{v4:uuidv4}=require('uuid'),ReconnectingWebSocket=require('reconnecting-websocket'),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require(a17_0x354875(0x27a)),{logger}=require('../../config/logger'),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require(a17_0x354875(0x23f)),{getCloudProviderObjectWithOutInit}=require('../../cloudproviders/utils'),webSocketUtils=require('../../utils/webSocketUtils'),{sendInstrumentationEvent}=require(a17_0x354875(0x231));exports[a17_0x354875(0x258)]=a17_0x354875(0x2a6),exports[a17_0x354875(0x1f9)]=a17_0x354875(0x29d),exports[a17_0x354875(0x1ec)]=function(_0x506a37){const _0x2197cf=a17_0x354875,_0x260794={};_0x260794[_0x2197cf(0x1fc)]=_0x2197cf(0x1db),_0x260794[_0x2197cf(0x209)]=_0x2197cf(0x27f),_0x260794['LJXFb']=_0x2197cf(0x29e),_0x260794[_0x2197cf(0x247)]='Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.',_0x260794['BNpEk']='Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.',_0x260794[_0x2197cf(0x1d0)]=_0x2197cf(0x293);const _0x58d61a=_0x260794,_0x5bcd58={};_0x5bcd58[_0x2197cf(0x1cd)]=_0x58d61a['xVvvN'],_0x5bcd58[_0x2197cf(0x28d)]=_0x58d61a[_0x2197cf(0x209)];const _0x362f79={};_0x362f79[_0x2197cf(0x1cd)]=_0x58d61a['LJXFb'],_0x362f79[_0x2197cf(0x28d)]=_0x58d61a['ACDuN'];const _0x5db343={};_0x5db343[_0x2197cf(0x1cd)]=_0x58d61a['VFJow'],_0x5db343[_0x2197cf(0x28d)]=_0x58d61a[_0x2197cf(0x209)];const _0x2e47f6={};_0x2e47f6['description']=_0x58d61a[_0x2197cf(0x289)],_0x2e47f6[_0x2197cf(0x28d)]=_0x58d61a[_0x2197cf(0x209)];const _0x20b3a7={};return _0x20b3a7[_0x2197cf(0x29a)]=_0x5bcd58,_0x20b3a7['cloud-provider']=_0x362f79,_0x20b3a7[_0x2197cf(0x285)]=_0x5db343,_0x20b3a7[_0x2197cf(0x288)]=_0x2e47f6,_0x506a37[_0x2197cf(0x222)](HELP_HEADER_MESSAGE[_0x2197cf(0x21e)])[_0x2197cf(0x296)](HELP_FOOTER_MESSAGE)[_0x2197cf(0x1d5)](_0x20b3a7)[_0x2197cf(0x293)](_0x58d61a['JSzfe'])['argv'];};async function inputValidation(_0x3bd561,_0xe8ed51){const _0x5048d5=a17_0x354875,_0x5792f5={'lupSs':_0x5048d5(0x29a),'orVIr':_0x5048d5(0x28a),'YVTik':_0x5048d5(0x26d),'liynI':'is\x20already\x20present','bgrFA':_0x5048d5(0x1df),'gxNZt':_0x5048d5(0x239),'jZcxm':_0x5048d5(0x2a5),'gwAnb':_0x5048d5(0x1db),'pybVr':_0x5048d5(0x27f),'MKTnY':_0x5048d5(0x29e),'sejrv':_0x5048d5(0x281),'VAmGu':_0x5048d5(0x1c5),'XlJIV':'help','BaTke':_0x5048d5(0x1d9),'SVjxb':function(_0x52e0f6,_0x1e2598){return _0x52e0f6+_0x1e2598;},'VZPmP':_0x5048d5(0x1d4),'tABOG':_0x5048d5(0x27d),'kExJy':function(_0x3d4f39,_0x55073b){return _0x3d4f39||_0x55073b;},'NEicT':function(_0x7b0aba,_0x3737e9){return _0x7b0aba!==_0x3737e9;},'YYrvz':_0x5048d5(0x210),'jhexn':_0x5048d5(0x23c),'FFTMM':function(_0x555206,_0x4f38c9){return _0x555206===_0x4f38c9;},'JJbSq':_0x5048d5(0x1e9),'tPUnN':'HHjqj','UFvFY':'YXSqJ','keAIp':_0x5048d5(0x236),'EGUWi':function(_0x917fd,_0x4deb7e){return _0x917fd!==_0x4deb7e;},'VIZDS':_0x5048d5(0x1e0),'ouYPb':'region','EWLXY':function(_0x42b113,_0x3b5205){return _0x42b113>_0x3b5205;},'EFqPc':'YCUub','sPuuK':_0x5048d5(0x1c2),'VJLve':function(_0xb16e6d,_0x4eb8da,_0x2bbe98,_0x1545ad,_0x5859b0,_0x488264,_0x56c3cf,_0x4db01e){return _0xb16e6d(_0x4eb8da,_0x2bbe98,_0x1545ad,_0x5859b0,_0x488264,_0x56c3cf,_0x4db01e);},'JhMox':_0x5048d5(0x221),'ItDbF':_0x5048d5(0x1e7),'AJVtr':function(_0x150d29,_0x178efd){return _0x150d29!==_0x178efd;},'sAlwI':'rmLkW','Zbjtm':_0x5048d5(0x1e2),'dUdXd':function(_0x2393c9,_0xaa1e52,_0x83b4d5,_0x5466ef,_0x1703e8,_0x3cacc4,_0x487fa6,_0x29843f){return _0x2393c9(_0xaa1e52,_0x83b4d5,_0x5466ef,_0x1703e8,_0x3cacc4,_0x487fa6,_0x29843f);},'PoDZk':_0x5048d5(0x202),'TDlRy':_0x5048d5(0x1ce),'CyJGU':function(_0x54deec,_0x3a6b82){return _0x54deec===_0x3a6b82;},'KgbwM':_0x5048d5(0x25c),'irgFD':_0x5048d5(0x211),'WipCg':function(_0x7ae7b2,_0x2636b0,_0x5e57b3){return _0x7ae7b2(_0x2636b0,_0x5e57b3);},'gayUG':function(_0x426f61,_0x4e1795,_0x50e077,_0x2c1fd6,_0x945294,_0x37625c){return _0x426f61(_0x4e1795,_0x50e077,_0x2c1fd6,_0x945294,_0x37625c);},'LREyw':'pre-check','XJgQV':'grid-profile','oGWpg':function(_0x65bca1,_0x1ca82f){return _0x65bca1===_0x1ca82f;},'yGTlD':_0x5048d5(0x20e),'lEXik':function(_0x48d635,_0x524348){return _0x48d635(_0x524348);},'JpYtl':function(_0x1d760,_0x1fbc7f){return _0x1d760!==_0x1fbc7f;},'USZFx':_0x5048d5(0x225),'VgmSa':_0x5048d5(0x1cb),'UDELb':'ySgpn','rbePP':function(_0x40f44e,_0x1f1a69){return _0x40f44e===_0x1f1a69;},'NYtZI':_0x5048d5(0x216),'Bpgfv':_0x5048d5(0x26b),'iQTWK':'Grid\x20profile\x20fetched\x20for\x20pre-check','oNaOY':function(_0x5a077a,_0xf8574e){return _0x5a077a!==_0xf8574e;},'ADPLY':_0x5048d5(0x1ff),'yOzbJ':_0x5048d5(0x272)};let _0x5dc256;try{if(_0x5792f5[_0x5048d5(0x1ca)](_0x5792f5[_0x5048d5(0x1e5)],_0x5792f5['jhexn'])){if(_0x3bd561[_0x5048d5(0x2ae)]||_0x3bd561[_0x5048d5(0x29c)]||_0x3bd561[_0x5048d5(0x285)]){if(_0x5792f5[_0x5048d5(0x28f)](_0x5792f5[_0x5048d5(0x20f)],_0x5792f5[_0x5048d5(0x20f)])){const _0x4e443b=[];!_0x3bd561[_0x5048d5(0x2ae)]&&(_0x5792f5[_0x5048d5(0x1ca)](_0x5792f5[_0x5048d5(0x251)],_0x5792f5[_0x5048d5(0x24f)])?_0x4e443b[_0x5048d5(0x1bf)](_0x5792f5['lupSs']):(_0x946ff1[_0x5048d5(0x1f4)]('['+_0x284fdb+_0x5048d5(0x23b)+_0xa12115[_0x5048d5(0x1f7)]+_0x5048d5(0x24b)+_0x16c4ce['data']+_0x5048d5(0x1be)+_0x4975a8[_0x5048d5(0x2a5)]),_0x3c6d53['error']&&_0xedc698[_0x5048d5(0x2a5)](_0x5048d5(0x26f)+_0x3ecc4e[_0x5048d5(0x2a5)]['stack'])));;!_0x3bd561[_0x5048d5(0x29c)]&&(_0x5792f5[_0x5048d5(0x1ca)](_0x5792f5['keAIp'],_0x5792f5['keAIp'])?(_0x5cbe5c[_0x5048d5(0x1f4)](_0x5048d5(0x1fb)+_0x262fef[_0x5048d5(0x1f8)]+'\x20'),_0x20b86d[_0x5048d5(0x29c)]=_0x512c31[_0x5048d5(0x1f8)]):_0x4e443b[_0x5048d5(0x1bf)](_0x5792f5[_0x5048d5(0x254)]));;!_0x3bd561['region']&&(_0x5792f5[_0x5048d5(0x278)](_0x5792f5[_0x5048d5(0x218)],_0x5792f5['VIZDS'])?_0x135d50[_0x5048d5(0x1bf)](_0x5792f5[_0x5048d5(0x298)]):_0x4e443b['push'](_0x5792f5[_0x5048d5(0x2ad)]));;_0x5792f5['EWLXY'](_0x4e443b['length'],0x0)&&(_0x5792f5[_0x5048d5(0x1ca)](_0x5792f5[_0x5048d5(0x282)],_0x5792f5[_0x5048d5(0x290)])?(_0x5dc256=_0x5048d5(0x291)+_0x4e443b[_0x5048d5(0x22a)](',\x20')+'.\x20Please\x20provide\x20all\x20required\x20arguments.',await _0x5792f5[_0x5048d5(0x26e)](reportToGalactusAndSendToEDS,_0x3bd561,_0xe8ed51,_0x5dc256,messageTypes[_0x5048d5(0x256)],_0x5792f5[_0x5048d5(0x1d1)],_0x5792f5[_0x5048d5(0x263)],_0x5792f5['jZcxm']),logger['error'](_0x5dc256),process['exit'](0x1)):(_0x28ad52+=_0x5792f5[_0x5048d5(0x25f)],_0x5bdd66+=_0x5048d5(0x1c6)+(_0x153100[_0x5048d5(0x24a)]||_0x5792f5['YVTik'])+'\x0a',_0xe40a1a+=_0x5048d5(0x237)+(_0x22f42e[_0x5048d5(0x273)]||_0x5792f5[_0x5048d5(0x286)])+'\x0a',_0x528c27+=_0x5048d5(0x267)+(_0x3ef9bf[_0x5048d5(0x200)]||_0x5792f5[_0x5048d5(0x286)])+'\x0a')),!ALL_SUPPORTED_CLOUD_PROVIDERS['includes'](_0x3bd561['cloudProvider'][_0x5048d5(0x2a4)]())&&(_0x5792f5['AJVtr'](_0x5792f5[_0x5048d5(0x243)],_0x5792f5[_0x5048d5(0x243)])?_0x1004e8+='Cluster\x20'+_0x442fdd[_0x5048d5(0x2ae)]+'\x20'+(_0x690798?_0x5792f5['liynI']:_0x5792f5[_0x5048d5(0x203)])+'\x0a\x0a':(_0x5dc256=_0x5792f5[_0x5048d5(0x24d)],await _0x5792f5['dUdXd'](reportToGalactusAndSendToEDS,_0x3bd561,_0xe8ed51,_0x5dc256,messageTypes[_0x5048d5(0x256)],_0x5792f5[_0x5048d5(0x1d1)],_0x5792f5[_0x5048d5(0x249)],_0x5792f5[_0x5048d5(0x2a8)]),logger['error'](_0x5dc256),!_0x3bd561['cloudProvider']&&(_0x5792f5[_0x5048d5(0x28f)](_0x5792f5['TDlRy'],_0x5792f5[_0x5048d5(0x25d)])?(logger['info'](_0x5048d5(0x1fb)+DEFAULT_CLUSTER_DETAILS['CLOUD_PROVIDER']+'\x20'),_0x3bd561['cloudProvider']=DEFAULT_CLUSTER_DETAILS[_0x5048d5(0x1f8)]):_0x3c01d7[_0x5048d5(0x21f)](0x1)))),global_registry['clusterName']=_0x3bd561[_0x5048d5(0x2ae)],global_registry['cloudProvider']=_0x3bd561[_0x5048d5(0x29c)],global_registry[_0x5048d5(0x224)]=_0x3bd561['region'];}else _0x42f75d['error'](_0x5792f5[_0x5048d5(0x25b)]),_0x46a965['exit'](0x1);}else{if(_0x3bd561[_0x5048d5(0x21a)]){if(_0x5792f5[_0x5048d5(0x1fa)](_0x5792f5[_0x5048d5(0x201)],_0x5792f5[_0x5048d5(0x201)])){global_registry[_0x5048d5(0x21a)]=_0x3bd561['gridProfile'],logger[_0x5048d5(0x22e)](_0x5048d5(0x1f1)+_0x3bd561[_0x5048d5(0x21a)]);const _0x4e5252=_0x5048d5(0x238)+AG_API_URL+_0x5048d5(0x28c),_0xec98e7={};_0xec98e7[_0x5048d5(0x20a)]=_0x5792f5[_0x5048d5(0x21c)],_0xec98e7['headers']=global_registry[_0x5048d5(0x27c)],_0xec98e7[_0x5048d5(0x1ef)]=![];const _0x1cb4f9=_0xec98e7,_0x3cb722=await _0x5792f5['WipCg'](got,_0x4e5252,_0x1cb4f9),_0x4c136a=await _0x5792f5[_0x5048d5(0x1ee)](responseValidation,_0x3cb722,_0x5792f5[_0x5048d5(0x2a1)],_0x5792f5[_0x5048d5(0x2a9)],_0x3bd561,_0xe8ed51);let _0xca0b35={};if(_0x5792f5[_0x5048d5(0x28f)](_0x4c136a,0xc8)){if(_0x5792f5['oGWpg'](_0x5792f5[_0x5048d5(0x25e)],_0x5792f5[_0x5048d5(0x25e)])){const _0x2afe03=JSON[_0x5048d5(0x228)](_0x3cb722['body']),_0x3c8926=_0x2afe03[_0x5048d5(0x206)](_0x47bab8=>_0x47bab8[_0x5048d5(0x274)]===_0x3bd561[_0x5048d5(0x21a)])||null;if(_0x5792f5[_0x5048d5(0x1c4)](isUndefined,_0x3c8926))_0x5792f5[_0x5048d5(0x1f3)](_0x5792f5[_0x5048d5(0x1e8)],_0x5792f5[_0x5048d5(0x1e8)])?_0x1c4682=_0x12321f:(_0x5dc256=_0x5048d5(0x244)+_0x3bd561[_0x5048d5(0x21a)]+'.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again',await _0x5792f5['dUdXd'](reportToGalactusAndSendToEDS,_0x3bd561,_0xe8ed51,_0x5dc256,messageTypes[_0x5048d5(0x256)],_0x5792f5[_0x5048d5(0x1d1)],_0x5792f5[_0x5048d5(0x1eb)],_0x5792f5[_0x5048d5(0x2a8)]),logger[_0x5048d5(0x2a5)](_0x5dc256),process['exit'](0x1));else{if(_0x5792f5[_0x5048d5(0x28f)](_0x5792f5['UDELb'],_0x5792f5[_0x5048d5(0x246)]))_0xca0b35=_0x3c8926;else{const _0x2c8402={};_0x2c8402['type']=_0x589e88[_0x5048d5(0x1cc)],_0x2c8402[_0x5048d5(0x24a)]=_0x2c4571,_0x2b05c1['sendEventToBackend'](_0x2a4b40,_0x2c8402,_0x5792f5[_0x5048d5(0x2a8)],!![]);}}}else _0x2dc2a4[_0x5048d5(0x2a5)](_0x5048d5(0x26f)+_0x4c5e9d[_0x5048d5(0x2a5)][_0x5048d5(0x200)]);}else{if(_0x5792f5['rbePP'](_0x5792f5[_0x5048d5(0x26a)],_0x5792f5[_0x5048d5(0x20d)])){const _0x15c3cf={};_0x15c3cf[_0x5048d5(0x1cd)]=_0x5792f5[_0x5048d5(0x27b)],_0x15c3cf[_0x5048d5(0x28d)]=_0x5792f5[_0x5048d5(0x283)];const _0x45a164={};_0x45a164[_0x5048d5(0x1cd)]=_0x5792f5['MKTnY'],_0x45a164[_0x5048d5(0x28d)]=_0x5792f5[_0x5048d5(0x283)];const _0x18cb16={};_0x18cb16[_0x5048d5(0x1cd)]=_0x5792f5[_0x5048d5(0x20c)],_0x18cb16[_0x5048d5(0x28d)]=_0x5792f5['pybVr'];const _0x3ee6d9={};_0x3ee6d9[_0x5048d5(0x1cd)]=_0x5792f5['VAmGu'],_0x3ee6d9[_0x5048d5(0x28d)]=_0x5792f5[_0x5048d5(0x283)];const _0x3f8a04={};return _0x3f8a04[_0x5048d5(0x29a)]=_0x15c3cf,_0x3f8a04[_0x5048d5(0x1d9)]=_0x45a164,_0x3f8a04[_0x5048d5(0x285)]=_0x18cb16,_0x3f8a04[_0x5048d5(0x288)]=_0x3ee6d9,_0x54ca20[_0x5048d5(0x222)](_0x418727[_0x5048d5(0x21e)])['epilogue'](_0x2c2b35)[_0x5048d5(0x1d5)](_0x3f8a04)[_0x5048d5(0x293)](_0x5792f5[_0x5048d5(0x2ab)])[_0x5048d5(0x24e)];}else process['exit'](0x1);}const _0x4f9d65={};_0x4f9d65[_0x5048d5(0x28d)]=WS_EVENTS[_0x5048d5(0x1cc)],_0x4f9d65['message']=_0x5792f5[_0x5048d5(0x1d8)],webSocketUtils[_0x5048d5(0x262)](_0xe8ed51,_0x4f9d65),global_registry['cloudProvider']=_0xca0b35['cloudProvider'],global_registry['clusterRegion']=_0xca0b35[_0x5048d5(0x285)],global_registry['clusterName']=_0xca0b35[_0x5048d5(0x2ae)];}else _0x5efb8b[_0x5048d5(0x1bf)](_0x5792f5[_0x5048d5(0x254)]);}else _0x5792f5[_0x5048d5(0x207)](_0x5792f5['ADPLY'],_0x5792f5[_0x5048d5(0x229)])?_0x22e44e+='Cluster\x20'+_0x44bc99[_0x5048d5(0x2ae)]+_0x5048d5(0x1c7):(logger[_0x5048d5(0x2a5)](_0x5792f5['gxNZt']),process['exit'](0x1));}}else _0x17a713[_0x5048d5(0x1f4)](_0x5048d5(0x232)+_0x42784f[_0x5048d5(0x2ae)]+_0x5048d5(0x1ea));}catch(_0x20657c){if(_0x5792f5[_0x5048d5(0x1fa)](_0x5792f5[_0x5048d5(0x22b)],_0x5792f5[_0x5048d5(0x22b)]))_0x5dc256=_0x5048d5(0x245)+_0x20657c+':\x20'+_0x20657c[_0x5048d5(0x200)],logger[_0x5048d5(0x2a5)](_0x5dc256),await _0x5792f5[_0x5048d5(0x284)](reportToGalactusAndSendToEDS,_0x3bd561,_0xe8ed51,_0x5dc256,messageTypes[_0x5048d5(0x256)],_0x5792f5['JhMox'],_0x5792f5['PoDZk'],_0x5792f5['jZcxm']),process['exit'](0x1);else{const {header:_0x5c537f,response:_0x2d5f67}=_0x48b303,{status:_0x3a8ee9,data:_0x3734a9,error:_0x4c582b}=_0x2d5f67;_0xc6edfb+=_0x5c537f+'\x20#'+_0x5792f5['SVjxb'](_0x3fe7d0,0x1)+'\x0a',_0x33eb75+='Status:\x20'+(_0x3a8ee9?_0x5792f5[_0x5048d5(0x1f5)]:_0x5792f5[_0x5048d5(0x213)])+'\x0a',_0x42cb79+=_0x5048d5(0x1e6)+_0x5792f5[_0x5048d5(0x1e4)](_0x3734a9,_0x5792f5[_0x5048d5(0x286)])+'\x0a',_0x4c582b&&(_0x4d6e45+=_0x5792f5[_0x5048d5(0x25f)],_0x33621d+=_0x5048d5(0x1c6)+(_0x4c582b[_0x5048d5(0x24a)]||_0x5792f5[_0x5048d5(0x286)])+'\x0a',_0xec8646+=_0x5048d5(0x237)+(_0x4c582b[_0x5048d5(0x273)]||_0x5792f5[_0x5048d5(0x286)])+'\x0a',_0xf93edf+=_0x5048d5(0x267)+(_0x4c582b[_0x5048d5(0x200)]||_0x5792f5['YVTik'])+'\x0a'),_0x106508+='\x0a\x0a';}}}function a17_0x3508(_0x3e9013,_0x1cca55){const _0x4d8246=a17_0x4d82();return a17_0x3508=function(_0x35088e,_0x22b987){_0x35088e=_0x35088e-0x1be;let _0x32cc20=_0x4d8246[_0x35088e];return _0x32cc20;},a17_0x3508(_0x3e9013,_0x1cca55);}function printResponse(_0x50d6fb,_0x57c2ad){const _0x331dbd=a17_0x354875,_0x5826ce={};_0x5826ce[_0x331dbd(0x253)]=_0x331dbd(0x285),_0x5826ce[_0x331dbd(0x268)]=function(_0x4b28ef,_0x89f5bd){return _0x4b28ef!==_0x89f5bd;},_0x5826ce[_0x331dbd(0x240)]=_0x331dbd(0x2a3);const _0x3a44a=_0x5826ce;logger[_0x331dbd(0x1f4)]('['+_0x50d6fb+_0x331dbd(0x23b)+_0x57c2ad[_0x331dbd(0x1f7)]+_0x331dbd(0x24b)+_0x57c2ad['data']+_0x331dbd(0x1be)+_0x57c2ad[_0x331dbd(0x2a5)]),_0x57c2ad[_0x331dbd(0x2a5)]&&(_0x3a44a[_0x331dbd(0x268)](_0x3a44a['QUgwq'],_0x3a44a['QUgwq'])?_0x28acf4[_0x331dbd(0x1bf)](_0x3a44a[_0x331dbd(0x253)]):logger[_0x331dbd(0x2a5)](_0x331dbd(0x26f)+_0x57c2ad[_0x331dbd(0x2a5)][_0x331dbd(0x200)]));}async function generateReport(_0x340295,_0x4d6e20){const _0x3899b9=a17_0x354875,_0x1e9a71={'LjYzg':function(_0x34c8c1,_0x1dd46e){return _0x34c8c1+_0x1dd46e;},'LJQxS':_0x3899b9(0x1d4),'ICHxM':'Failure','WLvSD':function(_0x7affbe,_0x3adeb1){return _0x7affbe||_0x3adeb1;},'sddYe':_0x3899b9(0x26d),'YkJKE':'Error\x20Details:\x0a','lHYTg':'Cluster\x20details\x0a-----------------------\x0a','weXZB':function(_0x29a61c,_0x40a522){return _0x29a61c!=_0x40a522;},'RBCMw':'is\x20already\x20present','TYotp':_0x3899b9(0x1df),'xwpJX':function(_0x42dbce){return _0x42dbce();}};let _0x4532e7='===\x20Precheck\x20Report\x20-\x20'+global_registry[_0x3899b9(0x29c)]+_0x3899b9(0x260);return _0x340295['forEach']((_0x243fec,_0x1ff365)=>{const _0xe909a5=_0x3899b9,{header:_0x375061,response:_0x65d9af}=_0x243fec,{status:_0x2b0680,data:_0x51e1ac,error:_0x4cea81}=_0x65d9af;_0x4532e7+=_0x375061+'\x20#'+_0x1e9a71[_0xe909a5(0x217)](_0x1ff365,0x1)+'\x0a',_0x4532e7+='Status:\x20'+(_0x2b0680?_0x1e9a71[_0xe909a5(0x22d)]:_0x1e9a71[_0xe909a5(0x1d3)])+'\x0a',_0x4532e7+=_0xe909a5(0x1e6)+_0x1e9a71[_0xe909a5(0x1f6)](_0x51e1ac,_0x1e9a71[_0xe909a5(0x220)])+'\x0a',_0x4cea81&&(_0x4532e7+=_0x1e9a71[_0xe909a5(0x23e)],_0x4532e7+='\x20\x20Message:\x20'+(_0x4cea81[_0xe909a5(0x24a)]||_0x1e9a71[_0xe909a5(0x220)])+'\x0a',_0x4532e7+=_0xe909a5(0x237)+(_0x4cea81[_0xe909a5(0x273)]||_0x1e9a71[_0xe909a5(0x220)])+'\x0a',_0x4532e7+=_0xe909a5(0x267)+(_0x4cea81[_0xe909a5(0x200)]||_0x1e9a71[_0xe909a5(0x220)])+'\x0a'),_0x4532e7+='\x0a\x0a';}),_0x4532e7+=_0x1e9a71[_0x3899b9(0x26c)],_0x1e9a71[_0x3899b9(0x21b)](_0x4d6e20,null)?_0x4532e7+=_0x3899b9(0x250)+global_registry[_0x3899b9(0x2ae)]+'\x20'+(_0x4d6e20?_0x1e9a71[_0x3899b9(0x24c)]:_0x1e9a71[_0x3899b9(0x299)])+'\x0a\x0a':_0x4532e7+=_0x3899b9(0x250)+global_registry['clusterName']+'\x20details\x20cannot\x20be\x20fetched\x0a\x0a',_0x4532e7+=_0x1e9a71['xwpJX'](getSystemMetaData),_0x4532e7;};exports[a17_0x354875(0x28b)]=async function(_0x22ee3b){const _0x15ab80=a17_0x354875,_0xa4e45b={'IBdKU':function(_0x84c338){return _0x84c338();},'LBvCj':function(_0x39d80a){return _0x39d80a();},'RRFOQ':_0x15ab80(0x22c),'hXIrT':function(_0x3eef9c,_0x2e9387,_0x32ce9b,_0x3e6bab,_0x3ac02b,_0x13214e,_0x34dded,_0x2416a6){return _0x3eef9c(_0x2e9387,_0x32ce9b,_0x3e6bab,_0x3ac02b,_0x13214e,_0x34dded,_0x2416a6);},'oUtzp':'pre-check-grid-called','eNFhG':_0x15ab80(0x226),'OTknU':_0x15ab80(0x2a5),'wVwgU':function(_0x1f1899,_0x404d62,_0x2ecc35,_0x3781e9,_0x28d5c9,_0x391a10,_0x158ada){return _0x1f1899(_0x404d62,_0x2ecc35,_0x3781e9,_0x28d5c9,_0x391a10,_0x158ada);},'FrNzQ':function(_0x396cb8){return _0x396cb8();},'YvsmH':'<UsernamePlaceholder>','woOOr':_0x15ab80(0x205),'GvLUU':function(_0x4433a3,_0x6e43f1,_0x5d371b){return _0x4433a3(_0x6e43f1,_0x5d371b);},'DtUqj':function(_0x2da9ab,_0x5374dc,_0x599c7b){return _0x2da9ab(_0x5374dc,_0x599c7b);},'uushn':function(_0x5e2f14,_0x1c553c,_0x55c800,_0x527191,_0x258707,_0x368953,_0x3cef7b){return _0x5e2f14(_0x1c553c,_0x55c800,_0x527191,_0x258707,_0x368953,_0x3cef7b);},'shwUm':_0x15ab80(0x20b),'MpJmj':_0x15ab80(0x277),'UFdYR':_0x15ab80(0x1c0),'MgaJG':function(_0x497a72,_0x106086,_0x445b76,_0x135bc5,_0xef028c,_0x50ab0c,_0x2c8c64,_0x25d55f){return _0x497a72(_0x106086,_0x445b76,_0x135bc5,_0xef028c,_0x50ab0c,_0x2c8c64,_0x25d55f);},'dHuSf':_0x15ab80(0x23a),'BhCNG':_0x15ab80(0x219),'tnMVv':function(_0x2a92fe,_0x34e500){return _0x2a92fe(_0x34e500);},'QXUrL':_0x15ab80(0x1c1),'AUveW':'isTls1_2_SUPPORTED','iCMtP':_0x15ab80(0x1d7),'dKUuf':'User\x20Access','qSwKT':'Whitelisted\x20browserstack','wFQPB':'SSL\x20Configured','VGGjq':function(_0x3181e8,_0x4092fc){return _0x3181e8+_0x4092fc;},'hgBLz':'utf-8','jCmvQ':'pre-check-failed'};let _0x13d10d,_0x52275b;try{global_registry[_0x15ab80(0x1d2)]=_0xa4e45b[_0x15ab80(0x1ed)](uuidv4);!fs['existsSync'](_0xa4e45b[_0x15ab80(0x2a7)](getCredentialsPath))&&(_0x52275b=_0xa4e45b[_0x15ab80(0x227)],logger['error'](_0x52275b),await _0xa4e45b[_0x15ab80(0x25a)](reportToGalactusAndSendToEDS,_0x22ee3b,_0x13d10d,_0x52275b,messageTypes[_0x15ab80(0x256)],_0xa4e45b[_0x15ab80(0x294)],_0xa4e45b[_0x15ab80(0x1fd)],_0xa4e45b[_0x15ab80(0x234)]),process['exit'](0x1));_0xa4e45b['wVwgU'](sendInstrumentationEvent,_0x22ee3b,_0xa4e45b[_0x15ab80(0x294)],messageTypes['INFO'],null,null,_0x22ee3b);const _0x10b584=JSON[_0x15ab80(0x228)](fs[_0x15ab80(0x1dd)](_0xa4e45b['FrNzQ'](getCredentialsPath)));global_registry['bstackUsername']=_0x10b584[_0x15ab80(0x292)][_0x15ab80(0x252)],global_registry[_0x15ab80(0x215)]=_0x10b584[_0x15ab80(0x292)][_0x15ab80(0x2ac)];const _0x3efeb8=WS_ENDPOINT[_0x15ab80(0x276)](_0xa4e45b[_0x15ab80(0x295)],_0x10b584[_0x15ab80(0x292)][_0x15ab80(0x252)])[_0x15ab80(0x276)](_0xa4e45b[_0x15ab80(0x279)],_0x10b584[_0x15ab80(0x292)][_0x15ab80(0x2ac)]),_0x185d3c={};_0x185d3c['WebSocket']=ws,_0x185d3c[_0x15ab80(0x212)]=0x36ee80,_0x13d10d=new ReconnectingWebSocket(_0x3efeb8,[],_0x185d3c),global_registry[_0x15ab80(0x27c)]=_0xa4e45b['GvLUU'](getAuthHeader,global_registry[_0x15ab80(0x1e3)],global_registry[_0x15ab80(0x215)]),await _0xa4e45b[_0x15ab80(0x2a2)](inputValidation,_0x22ee3b,_0x13d10d),logger[_0x15ab80(0x1f4)]('Pre-check\x20running\x20for\x20Cloud\x20-\x20'+global_registry[_0x15ab80(0x29c)]+_0x15ab80(0x214)+global_registry[_0x15ab80(0x224)]);let _0x1d9e8f=await _0xa4e45b['uushn'](getCloudProviderObjectWithOutInit,global_registry['cloudProvider'],global_registry['clusterName'],_0xa4e45b[_0x15ab80(0x261)],_0x13d10d,webSocketUtils,_0x22ee3b);const _0x14a591=await _0x1d9e8f[_0x15ab80(0x280)]();_0xa4e45b[_0x15ab80(0x2a2)](printResponse,_0xa4e45b['MpJmj'],_0x14a591),_0x1d9e8f=await _0x1d9e8f[_0x15ab80(0x1e1)]();let _0x911ef5=![];try{_0x911ef5=await _0x1d9e8f[_0x15ab80(0x1fe)]();}catch(_0x2b0c42){const _0x2b6883=_0xa4e45b[_0x15ab80(0x248)][_0x15ab80(0x2a0)]('|');let _0x553058=0x0;while(!![]){switch(_0x2b6883[_0x553058++]){case'0':logger[_0x15ab80(0x2a5)](_0x52275b);continue;case'1':await _0xa4e45b[_0x15ab80(0x257)](reportToGalactusAndSendToEDS,_0x22ee3b,_0x13d10d,_0x52275b,messageTypes[_0x15ab80(0x256)],_0xa4e45b[_0x15ab80(0x294)],_0x15ab80(0x1c9)+global_registry[_0x15ab80(0x29c)],_0xa4e45b[_0x15ab80(0x234)]);continue;case'2':_0x911ef5=null;continue;case'3':_0x52275b+='\x0a'+JSON[_0x15ab80(0x1de)](_0x2b0c42[_0x15ab80(0x200)]);continue;case'4':_0x52275b='unable\x20to\x20verify\x20if\x20cluster\x20`'+global_registry['clusterName']+'`\x20is\x20present\x20in\x20region\x20`'+global_registry['clusterRegion']+_0x15ab80(0x1c8)+_0x2b0c42;continue;}break;}}_0x911ef5&&logger['info']('Cluster\x20`'+global_registry[_0x15ab80(0x2ae)]+_0x15ab80(0x1ea));const _0x1f9063=await _0x1d9e8f[_0x15ab80(0x235)]();_0xa4e45b['DtUqj'](printResponse,_0xa4e45b[_0x15ab80(0x269)],_0x1f9063);const _0xf7de7=await _0xa4e45b[_0x15ab80(0x1da)](curlRequest);_0xa4e45b[_0x15ab80(0x1dc)](printResponse,_0xa4e45b[_0x15ab80(0x287)],_0xf7de7);const _0x29b158=await _0xa4e45b[_0x15ab80(0x27e)](isTlsSupported,_0xa4e45b['QXUrL']);_0xa4e45b[_0x15ab80(0x1dc)](printResponse,_0xa4e45b[_0x15ab80(0x2af)],_0x29b158);const _0x5a4fd2={};_0x5a4fd2['header']=_0xa4e45b[_0x15ab80(0x1cf)],_0x5a4fd2[_0x15ab80(0x242)]=_0x14a591;const _0xde5a1={};_0xde5a1[_0x15ab80(0x1c3)]=_0xa4e45b[_0x15ab80(0x2aa)],_0xde5a1[_0x15ab80(0x242)]=_0x1f9063;const _0x28596d={};_0x28596d[_0x15ab80(0x1c3)]=_0xa4e45b['qSwKT'],_0x28596d[_0x15ab80(0x242)]=_0xf7de7;const _0x2c859b={};_0x2c859b[_0x15ab80(0x1c3)]=_0xa4e45b[_0x15ab80(0x29b)],_0x2c859b['response']=_0x29b158;const _0x2bada2=[_0x5a4fd2,_0xde5a1,_0x28596d,_0x2c859b],_0x3918c8=await _0xa4e45b[_0x15ab80(0x2a2)](generateReport,_0x2bada2,_0x911ef5),_0x15ddd6=new Date(),_0x524d18=_0x15ddd6[_0x15ab80(0x297)]()+'_'+_0xa4e45b[_0x15ab80(0x275)](_0x15ddd6[_0x15ab80(0x28e)](),0x1)+'_'+_0x15ddd6[_0x15ab80(0x22f)]()+'_'+_0x15ddd6['getUTCHours']()+'_'+_0x15ddd6[_0x15ab80(0x208)](),_0x554532=_0x15ab80(0x233)+_0x524d18+_0x15ab80(0x271);fs[_0x15ab80(0x23d)](_0x554532,_0x3918c8,_0xa4e45b[_0x15ab80(0x1f0)]),logger[_0x15ab80(0x1f4)](_0x15ab80(0x270)+_0x554532),process[_0x15ab80(0x21f)](0x0);}catch(_0x58458d){let _0x576396=_0x15ab80(0x259)+_0x58458d+'\x20';logger[_0x15ab80(0x2a5)](_0x576396),_0x576396+='\x0a'+JSON['stringify'](_0x58458d[_0x15ab80(0x200)]),logger[_0x15ab80(0x22e)](_0x15ab80(0x264)+_0x58458d['stack']);if(_0x13d10d){const _0x15d4c5={};_0x15d4c5[_0x15ab80(0x28d)]=WS_EVENTS['LOG'],_0x15d4c5[_0x15ab80(0x24a)]=_0x576396,webSocketUtils[_0x15ab80(0x262)](_0x13d10d,_0x15d4c5,_0xa4e45b[_0x15ab80(0x234)],!![]);}await webSocketUtils[_0x15ab80(0x1d6)](0x7d0);const _0x579255={};_0x579255[_0x15ab80(0x2a5)]=_0x576396,await _0xa4e45b['wVwgU'](sendInstrumentationEvent,_0x22ee3b,_0xa4e45b[_0x15ab80(0x294)],messageTypes['ERROR'],_0xa4e45b[_0x15ab80(0x255)],_0x579255,_0x22ee3b),process[_0x15ab80(0x21f)](0x1);}};