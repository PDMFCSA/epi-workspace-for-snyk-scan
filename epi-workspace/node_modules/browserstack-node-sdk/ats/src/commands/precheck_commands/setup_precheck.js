const a17_0x48fb53=a17_0x2fac;(function(_0x1576af,_0x2e86c9){const _0x27c4cb=a17_0x2fac,_0x41bf97=_0x1576af();while(!![]){try{const _0x2ddf9c=-parseInt(_0x27c4cb(0x16f))/0x1*(parseInt(_0x27c4cb(0x174))/0x2)+parseInt(_0x27c4cb(0x1ea))/0x3+parseInt(_0x27c4cb(0x1d7))/0x4*(-parseInt(_0x27c4cb(0x197))/0x5)+-parseInt(_0x27c4cb(0x148))/0x6+parseInt(_0x27c4cb(0x1f6))/0x7*(parseInt(_0x27c4cb(0x1b4))/0x8)+parseInt(_0x27c4cb(0x1ed))/0x9*(parseInt(_0x27c4cb(0x135))/0xa)+-parseInt(_0x27c4cb(0x14c))/0xb*(-parseInt(_0x27c4cb(0x164))/0xc);if(_0x2ddf9c===_0x2e86c9)break;else _0x41bf97['push'](_0x41bf97['shift']());}catch(_0x1f9ed2){_0x41bf97['push'](_0x41bf97['shift']());}}}(a17_0x1743,0xd1d9f));const fs=require('fs'),ws=require('ws'),got=require(a17_0x48fb53(0x11f)),{v4:uuidv4}=require(a17_0x48fb53(0x1ce)),ReconnectingWebSocket=require(a17_0x48fb53(0xfd)),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require('../../utils/utilityMethods'),{logger}=require(a17_0x48fb53(0x13e)),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require(a17_0x48fb53(0x172)),{getCloudProviderObjectWithOutInit}=require(a17_0x48fb53(0x1c6)),webSocketUtils=require(a17_0x48fb53(0x108)),{sendInstrumentationEvent}=require(a17_0x48fb53(0x1d9));exports[a17_0x48fb53(0x16a)]=a17_0x48fb53(0x10c),exports[a17_0x48fb53(0x102)]=a17_0x48fb53(0x1ef),exports[a17_0x48fb53(0x1a4)]=function(_0x5b8a3c){const _0x548857=a17_0x48fb53,_0x536c2f={};_0x536c2f['ywssK']=_0x548857(0x17a),_0x536c2f[_0x548857(0x103)]='string',_0x536c2f[_0x548857(0x167)]=_0x548857(0x1ee),_0x536c2f['LAbGt']='Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.',_0x536c2f[_0x548857(0x100)]=_0x548857(0x111),_0x536c2f[_0x548857(0x130)]=_0x548857(0x1e9);const _0x49ebb4=_0x536c2f,_0xcc5608={};_0xcc5608[_0x548857(0x18c)]=_0x49ebb4[_0x548857(0x18a)],_0xcc5608[_0x548857(0x1e6)]=_0x49ebb4[_0x548857(0x103)];const _0xbdeeb4={};_0xbdeeb4[_0x548857(0x18c)]=_0x49ebb4[_0x548857(0x167)],_0xbdeeb4[_0x548857(0x1e6)]=_0x49ebb4[_0x548857(0x103)];const _0x47e059={};_0x47e059[_0x548857(0x18c)]=_0x49ebb4['LAbGt'],_0x47e059[_0x548857(0x1e6)]=_0x49ebb4[_0x548857(0x103)];const _0x51e155={};_0x51e155[_0x548857(0x18c)]=_0x49ebb4['SBrdR'],_0x51e155[_0x548857(0x1e6)]=_0x49ebb4['JtKKQ'];const _0x2bf44b={};return _0x2bf44b[_0x548857(0x1dd)]=_0xcc5608,_0x2bf44b[_0x548857(0x156)]=_0xbdeeb4,_0x2bf44b[_0x548857(0x161)]=_0x47e059,_0x2bf44b[_0x548857(0x19e)]=_0x51e155,_0x5b8a3c[_0x548857(0x109)](HELP_HEADER_MESSAGE['pre_check'])[_0x548857(0x117)](HELP_FOOTER_MESSAGE)['options'](_0x2bf44b)['help'](_0x49ebb4['jLnxk'])['argv'];};async function inputValidation(_0x16b2fa,_0x387a41){const _0x37ce88=a17_0x48fb53,_0x5d18a2={'OlqzE':_0x37ce88(0xf7),'xlTNt':'Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','JmKby':_0x37ce88(0x149),'QoZMC':'Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','dWLdN':_0x37ce88(0x1b1),'jGguX':_0x37ce88(0x111),'ClTqb':_0x37ce88(0x1e9),'LArxc':_0x37ce88(0x161),'yFbhx':_0x37ce88(0x156),'EAkzZ':_0x37ce88(0x129),'vWQvV':_0x37ce88(0x138),'NCeCf':'cluster-name','tMhbn':_0x37ce88(0x1ca),'ClVRH':_0x37ce88(0x15b),'llfLz':_0x37ce88(0x13b),'ViPXU':function(_0x48ea08,_0x16e9e9){return _0x48ea08!==_0x16e9e9;},'VExYs':_0x37ce88(0x1e2),'tJTjk':_0x37ce88(0x1c5),'ilMVi':function(_0x2d0b2c,_0x5065ee){return _0x2d0b2c===_0x5065ee;},'nrsab':_0x37ce88(0x1c9),'mHVDL':'agfbv','SLsrD':function(_0x2cbc37,_0x3152ce){return _0x2cbc37===_0x3152ce;},'WmqOs':_0x37ce88(0x171),'LMuXM':function(_0x56e7ba,_0x5372cf){return _0x56e7ba!==_0x5372cf;},'pErvC':_0x37ce88(0x10d),'PYdBf':'bMkLL','xnQiC':function(_0x22394e,_0x1263aa){return _0x22394e>_0x1263aa;},'rJuvw':_0x37ce88(0x155),'LcXiI':function(_0x2e7be6,_0x164d4c,_0x89395a,_0x2d401d,_0x28a613,_0x52de92,_0x5594e3,_0x36ff00){return _0x2e7be6(_0x164d4c,_0x89395a,_0x2d401d,_0x28a613,_0x52de92,_0x5594e3,_0x36ff00);},'HkVFb':_0x37ce88(0x1d6),'raOrO':'pre-check-cluster-args-not-passed','aBOhc':'xcEre','UTojG':_0x37ce88(0x12a),'nMwHw':_0x37ce88(0x185),'SJHWO':function(_0x83ce36,_0x558ec6){return _0x83ce36!==_0x558ec6;},'axXHg':_0x37ce88(0x1bb),'NMfWd':_0x37ce88(0x1e1),'NIAJi':function(_0x46f282,_0x8d44f4){return _0x46f282!==_0x8d44f4;},'zPXLm':_0x37ce88(0x173),'UxKVY':'GET','dZhjL':function(_0x47487e,_0x1ba2c9,_0x4daa81){return _0x47487e(_0x1ba2c9,_0x4daa81);},'jZEnq':function(_0x47cfb8,_0x5649e8,_0x47d0b2,_0x5b0185,_0x3399a5,_0xe12aed){return _0x47cfb8(_0x5649e8,_0x47d0b2,_0x5b0185,_0x3399a5,_0xe12aed);},'SJAaz':_0x37ce88(0x169),'hkvxQ':_0x37ce88(0x19e),'GAwhb':function(_0x168e3d,_0x55ed8d){return _0x168e3d===_0x55ed8d;},'ARhAD':function(_0x5bd4b7,_0x1d42ad){return _0x5bd4b7!==_0x1d42ad;},'QXoUQ':'syjDM','gyvAv':function(_0x2d2bad,_0x2c57aa){return _0x2d2bad(_0x2c57aa);},'vKVgY':function(_0x2d6d45,_0x155662){return _0x2d6d45===_0x155662;},'MvIsm':_0x37ce88(0x1e5),'eWXQj':_0x37ce88(0x1a1),'inNrk':function(_0xb3ad3c,_0x4bb4f1,_0x403223,_0x5ddf3c,_0xef924e,_0x473b4f,_0x384d26,_0x45696a){return _0xb3ad3c(_0x4bb4f1,_0x403223,_0x5ddf3c,_0xef924e,_0x473b4f,_0x384d26,_0x45696a);},'hBVJw':'pre-check-grid-profile-empty','QYWMX':function(_0x44829e,_0x4a5abc){return _0x44829e!==_0x4a5abc;},'yOicN':'nLroM','HMmGy':_0x37ce88(0x123),'VuJwC':function(_0x56a8ce,_0x4576cc){return _0x56a8ce!==_0x4576cc;},'TPGSL':'oimMk','FVueA':'TcbTU','BxVvI':_0x37ce88(0x170),'aAtNd':'dWNPq','smUNi':_0x37ce88(0x136),'IjhFP':function(_0x3b50a2,_0x43ca4a){return _0x3b50a2!==_0x43ca4a;},'DQNus':_0x37ce88(0x1b5)};let _0x257956;try{if(_0x5d18a2['ViPXU'](_0x5d18a2[_0x37ce88(0x1e8)],_0x5d18a2[_0x37ce88(0x1da)])){if(_0x16b2fa[_0x37ce88(0x1c8)]||_0x16b2fa[_0x37ce88(0x1b2)]||_0x16b2fa[_0x37ce88(0x161)]){if(_0x5d18a2[_0x37ce88(0x14d)](_0x5d18a2['nrsab'],_0x5d18a2[_0x37ce88(0x178)])){const _0x495205=[];if(!_0x16b2fa['clusterName']){if(_0x5d18a2[_0x37ce88(0x14d)](_0x5d18a2[_0x37ce88(0x17c)],_0x5d18a2[_0x37ce88(0x17c)]))_0x495205['push'](_0x5d18a2[_0x37ce88(0x139)]);else{const _0x3ed2fe={};_0x3ed2fe[_0x37ce88(0x1e6)]=_0x17d87f['LOG'],_0x3ed2fe[_0x37ce88(0x1a6)]=_0x25e070,_0x23d05e[_0x37ce88(0x14a)](_0x40746b,_0x3ed2fe,_0x5d18a2[_0x37ce88(0x184)],!![]);}};if(!_0x16b2fa['cloudProvider']){if(_0x5d18a2[_0x37ce88(0x1d0)](_0x5d18a2[_0x37ce88(0x1a9)],_0x5d18a2['WmqOs']))_0x495205[_0x37ce88(0x1d8)](_0x5d18a2['yFbhx']);else{const _0x452d90={};_0x452d90[_0x37ce88(0x18c)]=_0x5d18a2[_0x37ce88(0x10f)],_0x452d90[_0x37ce88(0x1e6)]=_0x5d18a2[_0x37ce88(0x1db)];const _0x52faff={};_0x52faff['description']=_0x5d18a2['QoZMC'],_0x52faff['type']=_0x5d18a2[_0x37ce88(0x1db)];const _0x1223c5={};_0x1223c5[_0x37ce88(0x18c)]=_0x5d18a2['dWLdN'],_0x1223c5['type']=_0x5d18a2[_0x37ce88(0x1db)];const _0x2785bd={};_0x2785bd[_0x37ce88(0x18c)]=_0x5d18a2['jGguX'],_0x2785bd['type']=_0x5d18a2['JmKby'];const _0x5b1fc2={};return _0x5b1fc2['cluster-name']=_0x452d90,_0x5b1fc2[_0x37ce88(0x156)]=_0x52faff,_0x5b1fc2[_0x37ce88(0x161)]=_0x1223c5,_0x5b1fc2[_0x37ce88(0x19e)]=_0x2785bd,_0x1c9d93['usage'](_0x161852[_0x37ce88(0x112)])[_0x37ce88(0x117)](_0x2ac056)[_0x37ce88(0x18e)](_0x5b1fc2)['help'](_0x5d18a2[_0x37ce88(0x124)])['argv'];}};!_0x16b2fa[_0x37ce88(0x161)]&&(_0x5d18a2['LMuXM'](_0x5d18a2[_0x37ce88(0x120)],_0x5d18a2['PYdBf'])?_0x495205[_0x37ce88(0x1d8)](_0x5d18a2[_0x37ce88(0x122)]):(_0x31f96c[_0x37ce88(0x14e)]('Setting\x20cloud\x20provider\x20as\x20'+_0x4973de[_0x37ce88(0x166)]+'\x20'),_0x58cefe[_0x37ce88(0x1b2)]=_0x5eebdb[_0x37ce88(0x166)]));;_0x5d18a2[_0x37ce88(0x142)](_0x495205[_0x37ce88(0x1df)],0x0)&&(_0x5d18a2[_0x37ce88(0x15f)](_0x5d18a2[_0x37ce88(0x1d2)],_0x5d18a2[_0x37ce88(0x1d2)])?_0x3c96e4['info'](_0x37ce88(0x13c)+_0x19973d['clusterName']+_0x37ce88(0x1c7)):(_0x257956=_0x37ce88(0x16c)+_0x495205[_0x37ce88(0x13f)](',\x20')+_0x37ce88(0x11d),await _0x5d18a2[_0x37ce88(0x1c3)](reportToGalactusAndSendToEDS,_0x16b2fa,_0x387a41,_0x257956,messageTypes['ERROR'],_0x5d18a2[_0x37ce88(0xfb)],_0x5d18a2[_0x37ce88(0x1bc)],_0x5d18a2[_0x37ce88(0x184)]),logger[_0x37ce88(0xf7)](_0x257956),process[_0x37ce88(0x177)](0x1))),!ALL_SUPPORTED_CLOUD_PROVIDERS['includes'](_0x16b2fa['cloudProvider'][_0x37ce88(0x195)]())&&(_0x5d18a2[_0x37ce88(0x14d)](_0x5d18a2[_0x37ce88(0x188)],_0x5d18a2['aBOhc'])?(_0x257956=_0x5d18a2[_0x37ce88(0x16d)],await _0x5d18a2['LcXiI'](reportToGalactusAndSendToEDS,_0x16b2fa,_0x387a41,_0x257956,messageTypes[_0x37ce88(0x153)],_0x5d18a2[_0x37ce88(0xfb)],_0x5d18a2[_0x37ce88(0x143)],_0x5d18a2[_0x37ce88(0x184)]),logger['error'](_0x257956),!_0x16b2fa[_0x37ce88(0x1b2)]&&(_0x5d18a2[_0x37ce88(0x1ad)](_0x5d18a2[_0x37ce88(0x15d)],_0x5d18a2[_0x37ce88(0x133)])?(logger[_0x37ce88(0x14e)](_0x37ce88(0x191)+DEFAULT_CLUSTER_DETAILS[_0x37ce88(0x166)]+'\x20'),_0x16b2fa['cloudProvider']=DEFAULT_CLUSTER_DETAILS[_0x37ce88(0x166)]):_0x1d3a3e['push'](_0x5d18a2['LArxc']))):_0x2f9d9e[_0x37ce88(0xf7)](_0x37ce88(0x1eb)+_0x426624[_0x37ce88(0xf7)][_0x37ce88(0x137)])),global_registry[_0x37ce88(0x1c8)]=_0x16b2fa[_0x37ce88(0x1c8)],global_registry[_0x37ce88(0x1b2)]=_0x16b2fa[_0x37ce88(0x1b2)],global_registry[_0x37ce88(0x16b)]=_0x16b2fa[_0x37ce88(0x161)];}else _0x23f7e8+=_0x37ce88(0x127)+_0x597744['clusterName']+'\x20details\x20cannot\x20be\x20fetched\x0a\x0a';}else{if(_0x16b2fa[_0x37ce88(0xfc)]){if(_0x5d18a2[_0x37ce88(0x1a0)](_0x5d18a2[_0x37ce88(0x1f0)],_0x5d18a2[_0x37ce88(0x1f0)]))_0x2ceb72=_0x4a18db;else{global_registry[_0x37ce88(0xfc)]=_0x16b2fa[_0x37ce88(0xfc)],logger[_0x37ce88(0x121)](_0x37ce88(0xfe)+_0x16b2fa[_0x37ce88(0xfc)]);const _0x401125='https://'+AG_API_URL+'/packages/cli/get-all-grid-profiles',_0x439b60={};_0x439b60[_0x37ce88(0x175)]=_0x5d18a2[_0x37ce88(0x1ba)],_0x439b60[_0x37ce88(0x1d3)]=global_registry[_0x37ce88(0x141)],_0x439b60['throwHttpErrors']=![];const _0x36572d=_0x439b60,_0x47324b=await _0x5d18a2[_0x37ce88(0x14b)](got,_0x401125,_0x36572d),_0x7b08f5=await _0x5d18a2[_0x37ce88(0x119)](responseValidation,_0x47324b,_0x5d18a2[_0x37ce88(0x17d)],_0x5d18a2[_0x37ce88(0x131)],_0x16b2fa,_0x387a41);let _0x437203={};if(_0x5d18a2[_0x37ce88(0x18b)](_0x7b08f5,0xc8)){if(_0x5d18a2[_0x37ce88(0x1de)](_0x5d18a2['QXoUQ'],_0x5d18a2['QXoUQ']))_0x4cfb74[_0x37ce88(0x1d8)](_0x5d18a2['yFbhx']);else{const _0x5c49cf=JSON[_0x37ce88(0x198)](_0x47324b[_0x37ce88(0x162)]),_0x485537=_0x5c49cf[_0x37ce88(0x19c)](_0x2f9408=>_0x2f9408[_0x37ce88(0x115)]===_0x16b2fa[_0x37ce88(0xfc)])||null;_0x5d18a2[_0x37ce88(0x1f4)](isUndefined,_0x485537)?_0x5d18a2[_0x37ce88(0x11e)](_0x5d18a2[_0x37ce88(0x183)],_0x5d18a2[_0x37ce88(0x181)])?(_0x2ae668+=_0x5d18a2[_0x37ce88(0x194)],_0xdaee52+=_0x37ce88(0x1e4)+(_0x3b0d37[_0x37ce88(0x1a6)]||_0x5d18a2[_0x37ce88(0x18f)])+'\x0a',_0x107f23+=_0x37ce88(0x12e)+(_0xd76c3[_0x37ce88(0x180)]||_0x5d18a2[_0x37ce88(0x18f)])+'\x0a',_0x2bd504+=_0x37ce88(0x18d)+(_0x3176be[_0x37ce88(0x137)]||_0x5d18a2[_0x37ce88(0x18f)])+'\x0a'):(_0x257956='Invalid\x20input.\x20grid\x20profiles:\x20'+_0x16b2fa[_0x37ce88(0xfc)]+'.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again',await _0x5d18a2[_0x37ce88(0x107)](reportToGalactusAndSendToEDS,_0x16b2fa,_0x387a41,_0x257956,messageTypes[_0x37ce88(0x153)],_0x5d18a2[_0x37ce88(0xfb)],_0x5d18a2['hBVJw'],_0x5d18a2[_0x37ce88(0x184)]),logger[_0x37ce88(0xf7)](_0x257956),process[_0x37ce88(0x177)](0x1)):_0x5d18a2[_0x37ce88(0x13a)](_0x5d18a2['yOicN'],_0x5d18a2[_0x37ce88(0x1c1)])?_0x437203=_0x485537:_0x2c2d11[_0x37ce88(0x177)](0x1);}}else _0x5d18a2[_0x37ce88(0x1b9)](_0x5d18a2[_0x37ce88(0x16e)],_0x5d18a2['FVueA'])?process['exit'](0x1):_0x5391c2[_0x37ce88(0x1d8)](_0x5d18a2[_0x37ce88(0x139)]);const _0x5581f7={};_0x5581f7[_0x37ce88(0x1e6)]=WS_EVENTS[_0x37ce88(0x146)],_0x5581f7[_0x37ce88(0x1a6)]=_0x5d18a2[_0x37ce88(0x1a5)],webSocketUtils[_0x37ce88(0x14a)](_0x387a41,_0x5581f7),global_registry[_0x37ce88(0x1b2)]=_0x437203['cloudProvider'],global_registry[_0x37ce88(0x16b)]=_0x437203[_0x37ce88(0x161)],global_registry[_0x37ce88(0x1c8)]=_0x437203[_0x37ce88(0x1c8)];}}else _0x5d18a2[_0x37ce88(0x1de)](_0x5d18a2[_0x37ce88(0x1af)],_0x5d18a2[_0x37ce88(0x1a2)])?(logger['error'](_0x5d18a2[_0x37ce88(0x151)]),process['exit'](0x1)):(_0x3771f7[_0x37ce88(0x14e)]('['+_0x4d0bb9+_0x37ce88(0x113)+_0x2d3e88[_0x37ce88(0x157)]+'\x20data\x20:\x20'+_0x398940[_0x37ce88(0x165)]+_0x37ce88(0x196)+_0xda86b1['error']),_0x156db8[_0x37ce88(0xf7)]&&_0x4b58a0[_0x37ce88(0xf7)](_0x37ce88(0x1eb)+_0x1ac5f4[_0x37ce88(0xf7)][_0x37ce88(0x137)]));}}else _0x43b84a+=_0x37ce88(0x127)+_0x198d7c[_0x37ce88(0x1c8)]+'\x20'+(_0x54a4d0?_0x5d18a2[_0x37ce88(0x1ae)]:_0x5d18a2['ClVRH'])+'\x0a\x0a';}catch(_0x59787a){_0x5d18a2[_0x37ce88(0x19f)](_0x5d18a2[_0x37ce88(0x1c4)],_0x5d18a2[_0x37ce88(0x1c4)])?(_0x351457['error'](_0x5d18a2[_0x37ce88(0x151)]),_0x77f576[_0x37ce88(0x177)](0x1)):(_0x257956=_0x37ce88(0x114)+_0x59787a+':\x20'+_0x59787a[_0x37ce88(0x137)],logger[_0x37ce88(0xf7)](_0x257956),await _0x5d18a2[_0x37ce88(0x107)](reportToGalactusAndSendToEDS,_0x16b2fa,_0x387a41,_0x257956,messageTypes[_0x37ce88(0x153)],_0x5d18a2['HkVFb'],_0x5d18a2['nMwHw'],_0x5d18a2[_0x37ce88(0x184)]),process['exit'](0x1));}}function printResponse(_0x4f351c,_0x2f2b3c){const _0x224d4d=a17_0x48fb53,_0x26b50c={};_0x26b50c[_0x224d4d(0x19d)]=function(_0x3d980c,_0x4c0cc7){return _0x3d980c+_0x4c0cc7;},_0x26b50c[_0x224d4d(0x1c0)]=_0x224d4d(0xf9),_0x26b50c[_0x224d4d(0x19b)]=_0x224d4d(0x110),_0x26b50c['seQQS']=function(_0x32d651,_0x3a384c){return _0x32d651||_0x3a384c;},_0x26b50c[_0x224d4d(0x1b3)]=_0x224d4d(0x138),_0x26b50c['fNFQX']=_0x224d4d(0x129),_0x26b50c['UcXVj']=function(_0x3cf046,_0x2c5e77){return _0x3cf046!==_0x2c5e77;},_0x26b50c[_0x224d4d(0x1be)]=_0x224d4d(0x12d);const _0xe16817=_0x26b50c;logger[_0x224d4d(0x14e)]('['+_0x4f351c+_0x224d4d(0x113)+_0x2f2b3c[_0x224d4d(0x157)]+_0x224d4d(0x144)+_0x2f2b3c[_0x224d4d(0x165)]+_0x224d4d(0x196)+_0x2f2b3c[_0x224d4d(0xf7)]);if(_0x2f2b3c['error']){if(_0xe16817['UcXVj'](_0xe16817['kRGbc'],_0xe16817[_0x224d4d(0x1be)])){const {header:_0x38c804,response:_0x2241b5}=_0x59cbad,{status:_0x105158,data:_0x1c971e,error:_0x2b2041}=_0x2241b5;_0x91fcec+=_0x38c804+'\x20#'+_0xe16817['MylTL'](_0x17edf8,0x1)+'\x0a',_0x3db71c+=_0x224d4d(0x179)+(_0x105158?_0xe16817[_0x224d4d(0x1c0)]:_0xe16817[_0x224d4d(0x19b)])+'\x0a',_0x9a2bac+=_0x224d4d(0x1b7)+_0xe16817['seQQS'](_0x1c971e,_0xe16817['JAXiD'])+'\x0a',_0x2b2041&&(_0x32c585+=_0xe16817[_0x224d4d(0x118)],_0x36f2ba+=_0x224d4d(0x1e4)+(_0x2b2041['message']||_0xe16817['JAXiD'])+'\x0a',_0x36c2fc+=_0x224d4d(0x12e)+(_0x2b2041['code']||_0xe16817[_0x224d4d(0x1b3)])+'\x0a',_0x58f1de+=_0x224d4d(0x18d)+(_0x2b2041[_0x224d4d(0x137)]||_0xe16817[_0x224d4d(0x1b3)])+'\x0a'),_0x3e8b6b+='\x0a\x0a';}else logger['error'](_0x224d4d(0x1eb)+_0x2f2b3c[_0x224d4d(0xf7)][_0x224d4d(0x137)]);}}async function generateReport(_0x230874,_0x1c2c7a){const _0x58791a=a17_0x48fb53,_0x4ab100={'fLOUa':function(_0x5009c7,_0x29d24e){return _0x5009c7+_0x29d24e;},'plgSC':'Success','JsBbS':_0x58791a(0x110),'ZmfGg':function(_0x97a47d,_0x1b423b){return _0x97a47d||_0x1b423b;},'PdEoX':'N/A','FWEKg':_0x58791a(0x129),'ZYNuP':'Cluster\x20details\x0a-----------------------\x0a','hHimb':function(_0x479c34,_0x683400){return _0x479c34!=_0x683400;},'qhHGH':'is\x20already\x20present','viVgT':_0x58791a(0x15b),'iylDE':function(_0x148289){return _0x148289();}};let _0x3be1ee='===\x20Precheck\x20Report\x20-\x20'+global_registry['cloudProvider']+_0x58791a(0x1e7);return _0x230874[_0x58791a(0x105)]((_0x4b7ff5,_0x416386)=>{const _0x157a71=_0x58791a,{header:_0x19e7d4,response:_0x200a18}=_0x4b7ff5,{status:_0x203aac,data:_0x322f4e,error:_0x5bfbb4}=_0x200a18;_0x3be1ee+=_0x19e7d4+'\x20#'+_0x4ab100[_0x157a71(0x134)](_0x416386,0x1)+'\x0a',_0x3be1ee+=_0x157a71(0x179)+(_0x203aac?_0x4ab100['plgSC']:_0x4ab100[_0x157a71(0x152)])+'\x0a',_0x3be1ee+=_0x157a71(0x1b7)+_0x4ab100[_0x157a71(0x1aa)](_0x322f4e,_0x4ab100[_0x157a71(0x17f)])+'\x0a',_0x5bfbb4&&(_0x3be1ee+=_0x4ab100[_0x157a71(0x1bf)],_0x3be1ee+=_0x157a71(0x1e4)+(_0x5bfbb4[_0x157a71(0x1a6)]||_0x4ab100[_0x157a71(0x17f)])+'\x0a',_0x3be1ee+='\x20\x20Code:\x20'+(_0x5bfbb4[_0x157a71(0x180)]||_0x4ab100[_0x157a71(0x17f)])+'\x0a',_0x3be1ee+='\x20\x20Stack:\x20'+(_0x5bfbb4[_0x157a71(0x137)]||_0x4ab100[_0x157a71(0x17f)])+'\x0a'),_0x3be1ee+='\x0a\x0a';}),_0x3be1ee+=_0x4ab100[_0x58791a(0x14f)],_0x4ab100[_0x58791a(0x1f1)](_0x1c2c7a,null)?_0x3be1ee+=_0x58791a(0x127)+global_registry[_0x58791a(0x1c8)]+'\x20'+(_0x1c2c7a?_0x4ab100[_0x58791a(0x15c)]:_0x4ab100[_0x58791a(0x11b)])+'\x0a\x0a':_0x3be1ee+=_0x58791a(0x127)+global_registry[_0x58791a(0x1c8)]+_0x58791a(0x186),_0x3be1ee+=_0x4ab100[_0x58791a(0x1cd)](getSystemMetaData),_0x3be1ee;};exports['handler']=async function(_0x58539d){const _0x27c845=a17_0x48fb53,_0x2264a2={'OhGSW':function(_0x14097e){return _0x14097e();},'NKDCs':function(_0x1a9e62){return _0x1a9e62();},'vSGNT':_0x27c845(0x1a7),'Kyckb':function(_0x30d428,_0x1bba7f,_0x114b1c,_0x18489f,_0xf6d275,_0x3949dd,_0x3f6ea8,_0x451f96){return _0x30d428(_0x1bba7f,_0x114b1c,_0x18489f,_0xf6d275,_0x3949dd,_0x3f6ea8,_0x451f96);},'oSzlp':'pre-check-grid-called','GMban':'credential-not-found','xlHEE':_0x27c845(0xf7),'PdDjG':function(_0x1703de,_0x5e18d7,_0x220169,_0x49c011,_0x1c2bc3,_0x1645da,_0x855d73){return _0x1703de(_0x5e18d7,_0x220169,_0x49c011,_0x1c2bc3,_0x1645da,_0x855d73);},'aSlhR':_0x27c845(0xfa),'hbWfT':_0x27c845(0x147),'IvUIZ':function(_0x30aa0f,_0x4412db,_0x4931e7){return _0x30aa0f(_0x4412db,_0x4931e7);},'dLApt':_0x27c845(0x1c2),'PRfGn':function(_0x41c0d4,_0x1e1d4d,_0x99b2f4){return _0x41c0d4(_0x1e1d4d,_0x99b2f4);},'ryRfw':'toolInstalledResp','WLuDw':_0x27c845(0x187),'baNlo':function(_0xc49658,_0x53fa7b,_0x12b1fb,_0xe8281f,_0x2ec473,_0x32fba8,_0x9dff98,_0x4fbd9e){return _0xc49658(_0x53fa7b,_0x12b1fb,_0xe8281f,_0x2ec473,_0x32fba8,_0x9dff98,_0x4fbd9e);},'cVkEa':function(_0x47dec3,_0x5994d8,_0x52a68a){return _0x47dec3(_0x5994d8,_0x52a68a);},'UMauC':_0x27c845(0x13d),'FXJKo':function(_0x11660c){return _0x11660c();},'xgrOw':_0x27c845(0x1b8),'ykqOq':function(_0x420706,_0x1a9b8b){return _0x420706(_0x1a9b8b);},'TzClk':'TLSv1_2_client_method','xnZny':'isTls1_2_SUPPORTED','IoEBx':_0x27c845(0x176),'cIvCh':_0x27c845(0x1bd),'Lexpy':_0x27c845(0x101),'JqGms':_0x27c845(0x199),'zdGMQ':function(_0x398ba9,_0x264253){return _0x398ba9+_0x264253;},'TSYCV':_0x27c845(0x1b6),'upoHo':_0x27c845(0x10e)};let _0x1fb5b7,_0x368fc8;try{global_registry[_0x27c845(0x125)]=_0x2264a2[_0x27c845(0x12b)](uuidv4);!fs['existsSync'](_0x2264a2['NKDCs'](getCredentialsPath))&&(_0x368fc8=_0x2264a2['vSGNT'],logger[_0x27c845(0xf7)](_0x368fc8),await _0x2264a2['Kyckb'](reportToGalactusAndSendToEDS,_0x58539d,_0x1fb5b7,_0x368fc8,messageTypes[_0x27c845(0x153)],_0x2264a2[_0x27c845(0xff)],_0x2264a2['GMban'],_0x2264a2['xlHEE']),process[_0x27c845(0x177)](0x1));_0x2264a2[_0x27c845(0x1d1)](sendInstrumentationEvent,_0x58539d,_0x2264a2[_0x27c845(0xff)],messageTypes[_0x27c845(0x106)],null,null,_0x58539d);const _0x5b7329=JSON[_0x27c845(0x198)](fs[_0x27c845(0x1dc)](_0x2264a2[_0x27c845(0x12b)](getCredentialsPath)));global_registry[_0x27c845(0x168)]=_0x5b7329[_0x27c845(0x1d5)][_0x27c845(0x116)],global_registry[_0x27c845(0x192)]=_0x5b7329[_0x27c845(0x1d5)][_0x27c845(0x1ab)];const _0x95eaf7=WS_ENDPOINT[_0x27c845(0x160)](_0x2264a2[_0x27c845(0x11a)],_0x5b7329[_0x27c845(0x1d5)]['username'])['replace'](_0x2264a2[_0x27c845(0x158)],_0x5b7329[_0x27c845(0x1d5)][_0x27c845(0x1ab)]),_0x2f7aeb={};_0x2f7aeb['WebSocket']=ws,_0x2f7aeb[_0x27c845(0x10a)]=0x36ee80,_0x1fb5b7=new ReconnectingWebSocket(_0x95eaf7,[],_0x2f7aeb),global_registry['authHeader']=_0x2264a2[_0x27c845(0x126)](getAuthHeader,global_registry[_0x27c845(0x168)],global_registry[_0x27c845(0x192)]),await _0x2264a2['IvUIZ'](inputValidation,_0x58539d,_0x1fb5b7),logger[_0x27c845(0x14e)](_0x27c845(0x1ec)+global_registry[_0x27c845(0x1b2)]+_0x27c845(0x1b0)+global_registry[_0x27c845(0x16b)]);let _0x4c0fbb=await _0x2264a2[_0x27c845(0x1d1)](getCloudProviderObjectWithOutInit,global_registry['cloudProvider'],global_registry[_0x27c845(0x1c8)],_0x2264a2[_0x27c845(0x163)],_0x1fb5b7,webSocketUtils,_0x58539d);const _0x266154=await _0x4c0fbb['isCliToolInstalled']();_0x2264a2[_0x27c845(0xf8)](printResponse,_0x2264a2[_0x27c845(0x10b)],_0x266154),_0x4c0fbb=await _0x4c0fbb[_0x27c845(0x1cb)]();let _0x2a739f=![];try{_0x2a739f=await _0x4c0fbb['isClusterPresent']();}catch(_0x377438){const _0x49fa04=_0x2264a2[_0x27c845(0x1ac)][_0x27c845(0x1f5)]('|');let _0x1ebf4b=0x0;while(!![]){switch(_0x49fa04[_0x1ebf4b++]){case'0':_0x368fc8+='\x0a'+JSON[_0x27c845(0x132)](_0x377438[_0x27c845(0x137)]);continue;case'1':await _0x2264a2[_0x27c845(0x1a8)](reportToGalactusAndSendToEDS,_0x58539d,_0x1fb5b7,_0x368fc8,messageTypes[_0x27c845(0x153)],_0x2264a2[_0x27c845(0xff)],'cluster-check-failed-'+global_registry[_0x27c845(0x1b2)],_0x2264a2[_0x27c845(0x1e0)]);continue;case'2':logger[_0x27c845(0xf7)](_0x368fc8);continue;case'3':_0x368fc8=_0x27c845(0x193)+global_registry[_0x27c845(0x1c8)]+_0x27c845(0x1a3)+global_registry[_0x27c845(0x16b)]+_0x27c845(0x150)+_0x377438;continue;case'4':_0x2a739f=null;continue;}break;}}_0x2a739f&&logger[_0x27c845(0x14e)](_0x27c845(0x13c)+global_registry[_0x27c845(0x1c8)]+_0x27c845(0x1c7));const _0x5c3a15=await _0x4c0fbb[_0x27c845(0x140)]();_0x2264a2[_0x27c845(0x12c)](printResponse,_0x2264a2['UMauC'],_0x5c3a15);const _0x359dd7=await _0x2264a2[_0x27c845(0x1f2)](curlRequest);_0x2264a2[_0x27c845(0x126)](printResponse,_0x2264a2[_0x27c845(0x1e3)],_0x359dd7);const _0xe41ee7=await _0x2264a2['ykqOq'](isTlsSupported,_0x2264a2[_0x27c845(0x11c)]);_0x2264a2[_0x27c845(0x126)](printResponse,_0x2264a2[_0x27c845(0x189)],_0xe41ee7);const _0x37f579={};_0x37f579[_0x27c845(0x19a)]=_0x2264a2[_0x27c845(0x128)],_0x37f579[_0x27c845(0x159)]=_0x266154;const _0x3fb25f={};_0x3fb25f[_0x27c845(0x19a)]=_0x2264a2[_0x27c845(0x182)],_0x3fb25f[_0x27c845(0x159)]=_0x5c3a15;const _0x1193c4={};_0x1193c4[_0x27c845(0x19a)]=_0x2264a2['Lexpy'],_0x1193c4['response']=_0x359dd7;const _0x695219={};_0x695219['header']=_0x2264a2[_0x27c845(0x154)],_0x695219['response']=_0xe41ee7;const _0x5676d0=[_0x37f579,_0x3fb25f,_0x1193c4,_0x695219],_0xc8ee76=await _0x2264a2[_0x27c845(0x126)](generateReport,_0x5676d0,_0x2a739f),_0x47d931=new Date(),_0x334c71=_0x47d931[_0x27c845(0x190)]()+'_'+_0x2264a2[_0x27c845(0x17b)](_0x47d931[_0x27c845(0x17e)](),0x1)+'_'+_0x47d931[_0x27c845(0x104)]()+'_'+_0x47d931[_0x27c845(0x145)]()+'_'+_0x47d931[_0x27c845(0x1f3)](),_0x19f695='log/report_'+_0x334c71+'.txt';fs[_0x27c845(0x1d4)](_0x19f695,_0xc8ee76,_0x2264a2[_0x27c845(0x1cf)]),logger[_0x27c845(0x14e)](_0x27c845(0x15e)+_0x19f695),process[_0x27c845(0x177)](0x0);}catch(_0x39e488){let _0x139bfd='Failed\x20in\x20pre-check!\x20Error:\x20'+_0x39e488+'\x20';logger[_0x27c845(0xf7)](_0x139bfd),_0x139bfd+='\x0a'+JSON[_0x27c845(0x132)](_0x39e488[_0x27c845(0x137)]),logger['debug'](_0x27c845(0x15a)+_0x39e488['stack']);if(_0x1fb5b7){const _0x52797c={};_0x52797c['type']=WS_EVENTS[_0x27c845(0x146)],_0x52797c['message']=_0x139bfd,webSocketUtils[_0x27c845(0x14a)](_0x1fb5b7,_0x52797c,_0x2264a2[_0x27c845(0x1e0)],!![]);}await webSocketUtils[_0x27c845(0x12f)](0x7d0);const _0x2664cf={};_0x2664cf[_0x27c845(0xf7)]=_0x139bfd,await _0x2264a2[_0x27c845(0x1d1)](sendInstrumentationEvent,_0x58539d,_0x2264a2[_0x27c845(0xff)],messageTypes['ERROR'],_0x2264a2[_0x27c845(0x1cc)],_0x2664cf,_0x58539d),process['exit'](0x1);}};function a17_0x2fac(_0x3945f0,_0x543621){const _0x1743d0=a17_0x1743();return a17_0x2fac=function(_0x2fac47,_0x431bff){_0x2fac47=_0x2fac47-0xf7;let _0x31dfc8=_0x1743d0[_0x2fac47];return _0x31dfc8;},a17_0x2fac(_0x3945f0,_0x543621);}function a17_0x1743(){const _0x49c61b=['IoEBx','Error\x20Details:\x0a','Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','OhGSW','cVkEa','iDZqp','\x20\x20Code:\x20','delay','jLnxk','hkvxQ','stringify','NMfWd','fLOUa','410fiWTNp','eZWrO','stack','N/A','NCeCf','QYWMX','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','Cluster\x20`','accessResp','../../config/logger','join','checkAccess','authHeader','xnQiC','nMwHw','\x20data\x20:\x20','getUTCHours','LOG','<PasswordPlaceholder>','6165168EmRxUE','string','sendEventToBackend','dZhjL','4510572TJeUHi','ilMVi','info','ZYNuP','`\x20,error\x20:\x20','llfLz','JsBbS','ERROR','JqGms','nNYne','cloud-provider','status','hbWfT','response','stack\x20trace\x20','will\x20be\x20created','qhHGH','axXHg','Report\x20saved\x20in\x20','ViPXU','replace','region','body','dLApt','24dTiiQh','data','CLOUD_PROVIDER','DVdDR','bstackUsername','pre-check','command','clusterRegion','Missing\x20required\x20arguments:\x20','UTojG','TPGSL','3133hZonEZ','Grid\x20profile\x20fetched\x20for\x20pre-check','HLUDG','../../config/constants','DuwQv','366dDbjEL','method','Tool\x20Installed','exit','nrsab','Status:\x20','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','zdGMQ','mHVDL','SJAaz','getUTCMonth','PdEoX','code','eWXQj','cIvCh','MvIsm','OlqzE','cloud-provider-not-supported','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','3|4|2|0|1','aBOhc','xnZny','ywssK','GAwhb','description','\x20\x20Stack:\x20','options','vWQvV','getUTCFullYear','Setting\x20cloud\x20provider\x20as\x20','bstackAccesskey','unable\x20to\x20verify\x20if\x20cluster\x20`','EAkzZ','toLowerCase','\x20error\x20:\x20','4759385qxGSLP','parse','SSL\x20Configured','header','eCasj','find','MylTL','grid-profile','IjhFP','NIAJi','uEKbo','smUNi','`\x20is\x20present\x20in\x20region\x20`','builder','BxVvI','message','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','baNlo','WmqOs','ZmfGg','password','WLuDw','SJHWO','tMhbn','aAtNd','\x20region\x20-\x20','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','cloudProvider','JAXiD','707784WvdVVW','CRTOQ','utf-8','Message:\x20','isTrialGridAccessible','VuJwC','UxKVY','pHmir','raOrO','User\x20Access','kRGbc','FWEKg','tAnag','HMmGy','dummy-grid','LcXiI','DQNus','Jxfyn','../../cloudproviders/utils','`\x20already\x20exists','clusterName','ZIABE','is\x20already\x20present','init','upoHo','iylDE','uuid','TSYCV','SLsrD','PdDjG','rJuvw','headers','writeFileSync','Browserstack','pre-check-grid-called','4nEJRTx','push','../../utils/instrumentationUtils','tJTjk','JmKby','readFileSync','cluster-name','ARhAD','length','xlHEE','ffgEe','MTCEK','xgrOw','\x20\x20Message:\x20','tdtKB','type','\x20===\x0a\x0a','VExYs','help','1086519RFDlIF','error\x20stack\x20:\x20','Pre-check\x20running\x20for\x20Cloud\x20-\x20','120519dSoIuG','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup','zPXLm','hHimb','FXJKo','getUTCMinutes','gyvAv','split','133xtlEtM','error','PRfGn','Success','<UsernamePlaceholder>','HkVFb','gridProfile','reconnecting-websocket','grid\x20profile\x20flow\x20','oSzlp','SBrdR','Whitelisted\x20browserstack','desc','JtKKQ','getUTCDate','forEach','INFO','inNrk','../../utils/webSocketUtils','usage','connectionTimeout','ryRfw','grid','WlPVs','pre-check-failed','xlTNt','Failure','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','pre_check',']\x20status\x20:\x20','Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20','name','username','epilogue','fNFQX','jZEnq','aSlhR','viVgT','TzClk','.\x20Please\x20provide\x20all\x20required\x20arguments.','vKVgY','got','pErvC','debug','LArxc','DPpeV','ClTqb','requestId','IvUIZ','Cluster\x20'];a17_0x1743=function(){return _0x49c61b;};return a17_0x1743();}