const a17_0x38adcf=a17_0x68fb;(function(_0x1c84b8,_0x9d222c){const _0x14ddf2=a17_0x68fb,_0x2d8337=_0x1c84b8();while(!![]){try{const _0x1d29d5=parseInt(_0x14ddf2(0x23d))/0x1+-parseInt(_0x14ddf2(0x1c9))/0x2+-parseInt(_0x14ddf2(0x1a0))/0x3*(parseInt(_0x14ddf2(0x1a4))/0x4)+parseInt(_0x14ddf2(0x22a))/0x5+parseInt(_0x14ddf2(0x1f8))/0x6*(-parseInt(_0x14ddf2(0x180))/0x7)+parseInt(_0x14ddf2(0x1ad))/0x8*(-parseInt(_0x14ddf2(0x22d))/0x9)+parseInt(_0x14ddf2(0x24d))/0xa;if(_0x1d29d5===_0x9d222c)break;else _0x2d8337['push'](_0x2d8337['shift']());}catch(_0x2a5e38){_0x2d8337['push'](_0x2d8337['shift']());}}}(a17_0x2944,0x4d325));const fs=require('fs'),ws=require('ws'),got=require(a17_0x38adcf(0x23c)),{v4:uuidv4}=require(a17_0x38adcf(0x222)),ReconnectingWebSocket=require(a17_0x38adcf(0x210)),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require('../../utils/utilityMethods'),{logger}=require(a17_0x38adcf(0x1a9)),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require(a17_0x38adcf(0x18e)),{getCloudProviderObjectWithOutInit}=require(a17_0x38adcf(0x21a)),webSocketUtils=require('../../utils/webSocketUtils'),{sendInstrumentationEvent}=require('../../utils/instrumentationUtils');exports['command']=a17_0x38adcf(0x182),exports[a17_0x38adcf(0x18a)]=a17_0x38adcf(0x1f2),exports['builder']=function(_0x3af8b2){const _0x47f6a6=a17_0x38adcf,_0x56d502={};_0x56d502['gbVCk']='Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.',_0x56d502['cMMcG']=_0x47f6a6(0x193),_0x56d502[_0x47f6a6(0x1b5)]=_0x47f6a6(0x244),_0x56d502[_0x47f6a6(0x155)]=_0x47f6a6(0x24a),_0x56d502[_0x47f6a6(0x1f3)]=_0x47f6a6(0x1d6),_0x56d502['BWNSm']=_0x47f6a6(0x230);const _0x4b4f54=_0x56d502,_0x52136f={};_0x52136f[_0x47f6a6(0x1de)]=_0x4b4f54[_0x47f6a6(0x1bd)],_0x52136f[_0x47f6a6(0x1dd)]=_0x4b4f54[_0x47f6a6(0x1ea)];const _0x4fca8a={};_0x4fca8a[_0x47f6a6(0x1de)]=_0x4b4f54[_0x47f6a6(0x1b5)],_0x4fca8a[_0x47f6a6(0x1dd)]=_0x4b4f54[_0x47f6a6(0x1ea)];const _0x3879a9={};_0x3879a9[_0x47f6a6(0x1de)]=_0x4b4f54[_0x47f6a6(0x155)],_0x3879a9['type']=_0x4b4f54['cMMcG'];const _0x4ce738={};_0x4ce738[_0x47f6a6(0x1de)]=_0x4b4f54['mDOOP'],_0x4ce738[_0x47f6a6(0x1dd)]=_0x4b4f54[_0x47f6a6(0x1ea)];const _0x5be684={};return _0x5be684[_0x47f6a6(0x1b6)]=_0x52136f,_0x5be684['cloud-provider']=_0x4fca8a,_0x5be684[_0x47f6a6(0x16a)]=_0x3879a9,_0x5be684[_0x47f6a6(0x1b3)]=_0x4ce738,_0x3af8b2[_0x47f6a6(0x1ba)](HELP_HEADER_MESSAGE[_0x47f6a6(0x1d7)])['epilogue'](HELP_FOOTER_MESSAGE)[_0x47f6a6(0x22b)](_0x5be684)[_0x47f6a6(0x230)](_0x4b4f54[_0x47f6a6(0x227)])[_0x47f6a6(0x1eb)];};async function inputValidation(_0x57e363,_0x40cbe3){const _0x1917ca=a17_0x38adcf,_0x132aef={'VksRE':_0x1917ca(0x185),'FWPqU':_0x1917ca(0x1af),'MrlJl':_0x1917ca(0x1be),'VcdIy':'Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','zINkw':_0x1917ca(0x193),'fBwig':'Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','RyCIJ':_0x1917ca(0x24a),'iNmdS':'Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','pxFHK':_0x1917ca(0x230),'UfRYO':'Error\x20Details:\x0a','GvDSi':_0x1917ca(0x22f),'DbQOe':'region','Exdql':_0x1917ca(0x1b6),'PHABg':function(_0x3b9338,_0x752774){return _0x3b9338+_0x752774;},'czUpM':_0x1917ca(0x236),'lNINH':'Failure','pzOGS':function(_0x5d20fc,_0x3bc272){return _0x5d20fc||_0x3bc272;},'pJxns':function(_0x5709cc,_0x197a0f){return _0x5709cc===_0x197a0f;},'ZOvrF':'iovmO','heevQ':_0x1917ca(0x1e5),'Qkvyd':'ZxmpG','loJKH':function(_0x20543e,_0x3e714d){return _0x20543e!==_0x3e714d;},'xbygM':_0x1917ca(0x200),'OKvsC':_0x1917ca(0x174),'XDDaG':_0x1917ca(0x215),'ZLALZ':_0x1917ca(0x1db),'JbgaG':function(_0x256b2d,_0x245158){return _0x256b2d===_0x245158;},'fvATX':_0x1917ca(0x21b),'GNCpV':'smFra','JAauj':function(_0x4b00f0,_0x6f7c2a){return _0x4b00f0>_0x6f7c2a;},'CEnhM':function(_0x57bd7a,_0x1af1be){return _0x57bd7a!==_0x1af1be;},'HyfJk':_0x1917ca(0x1d8),'eAOxb':_0x1917ca(0x17f),'pwFMV':function(_0xbf97b5,_0x1dc9e9,_0x41a4c4,_0x59e996,_0x639864,_0x3e0238,_0x11f48e,_0x27e624){return _0xbf97b5(_0x1dc9e9,_0x41a4c4,_0x59e996,_0x639864,_0x3e0238,_0x11f48e,_0x27e624);},'oUolg':_0x1917ca(0x221),'idyXd':_0x1917ca(0x1a2),'zZOwe':function(_0x281a5e,_0x2f0518){return _0x281a5e!==_0x2f0518;},'IwMkJ':_0x1917ca(0x22c),'NVbwY':_0x1917ca(0x1a1),'KBxif':function(_0xfb2378,_0x3c7180,_0x11701a,_0x2bc9ac,_0x139cd6,_0x185a7b,_0x1a9120,_0x2b315b){return _0xfb2378(_0x3c7180,_0x11701a,_0x2bc9ac,_0x139cd6,_0x185a7b,_0x1a9120,_0x2b315b);},'WSDuE':'cloud-provider-not-supported','JWOqD':_0x1917ca(0x1dc),'yRsDs':'Dhzyj','Mwtec':'GSsRy','YyezG':_0x1917ca(0x202),'AZtsj':function(_0x5918cc,_0x2e2017,_0x78bd3d){return _0x5918cc(_0x2e2017,_0x78bd3d);},'YvBMh':function(_0x534284,_0xc59c2e,_0x27a1ed,_0x427c63,_0x69aae9,_0x576aa1){return _0x534284(_0xc59c2e,_0x27a1ed,_0x427c63,_0x69aae9,_0x576aa1);},'oYQYE':_0x1917ca(0x177),'xKEDM':'grid-profile','kxaLw':function(_0x3ccc4a,_0x4eb838){return _0x3ccc4a===_0x4eb838;},'saCPU':_0x1917ca(0x239),'GIgmK':function(_0x88d1c5,_0x45b3fd){return _0x88d1c5(_0x45b3fd);},'VhHri':_0x1917ca(0x19c),'pgtHm':_0x1917ca(0x159),'qvxiR':_0x1917ca(0x192),'NpsMP':function(_0xb0bdca,_0x6945b6){return _0xb0bdca===_0x6945b6;},'YHAGI':'yMFSl','VsRUl':_0x1917ca(0x23a),'rKxgl':_0x1917ca(0x1d2),'MbEfS':_0x1917ca(0x196),'eEceK':function(_0x364f5d,_0x5ccf8e,_0x5af691,_0x5b49da,_0x507fec,_0x3aa69c,_0x451b3e,_0x1a70e9){return _0x364f5d(_0x5ccf8e,_0x5af691,_0x5b49da,_0x507fec,_0x3aa69c,_0x451b3e,_0x1a70e9);}};let _0x579b08;try{if(_0x132aef[_0x1917ca(0x173)](_0x132aef['ZOvrF'],_0x132aef['heevQ']))_0xd30763[_0x1917ca(0x1af)](_0x132aef[_0x1917ca(0x1f9)]),_0x3318aa[_0x1917ca(0x21e)](0x1);else{if(_0x57e363[_0x1917ca(0x1b1)]||_0x57e363[_0x1917ca(0x1fa)]||_0x57e363['region']){if(_0x132aef[_0x1917ca(0x173)](_0x132aef['Qkvyd'],_0x132aef[_0x1917ca(0x231)])){const _0x36f8db=[];!_0x57e363[_0x1917ca(0x1b1)]&&(_0x132aef[_0x1917ca(0x1f4)](_0x132aef[_0x1917ca(0x24c)],_0x132aef[_0x1917ca(0x1d4)])?_0x36f8db['push'](_0x132aef[_0x1917ca(0x16d)]):_0x19cf9b[_0x1917ca(0x1af)](_0x1917ca(0x247)+_0x29ee2[_0x1917ca(0x1af)][_0x1917ca(0x19a)]));;!_0x57e363['cloudProvider']&&(_0x132aef[_0x1917ca(0x1f4)](_0x132aef[_0x1917ca(0x1cf)],_0x132aef[_0x1917ca(0x1cb)])?_0x36f8db[_0x1917ca(0x1ec)](_0x132aef['MrlJl']):_0x4093d4['exit'](0x1));;!_0x57e363['region']&&(_0x132aef['JbgaG'](_0x132aef[_0x1917ca(0x205)],_0x132aef[_0x1917ca(0x23b)])?_0x4f5740+=_0x1917ca(0x213)+_0x2f51e3[_0x1917ca(0x1b1)]+_0x1917ca(0x17a):_0x36f8db['push'](_0x132aef[_0x1917ca(0x18f)]));;_0x132aef[_0x1917ca(0x16b)](_0x36f8db['length'],0x0)&&(_0x132aef[_0x1917ca(0x242)](_0x132aef[_0x1917ca(0x206)],_0x132aef[_0x1917ca(0x187)])?(_0x579b08=_0x1917ca(0x168)+_0x36f8db[_0x1917ca(0x21f)](',\x20')+'.\x20Please\x20provide\x20all\x20required\x20arguments.',await _0x132aef['pwFMV'](reportToGalactusAndSendToEDS,_0x57e363,_0x40cbe3,_0x579b08,messageTypes[_0x1917ca(0x20d)],_0x132aef[_0x1917ca(0x19b)],_0x132aef[_0x1917ca(0x1e6)],_0x132aef['FWPqU']),logger['error'](_0x579b08),process[_0x1917ca(0x21e)](0x1)):_0xd768fa[_0x1917ca(0x234)](_0x1917ca(0x1ae)+_0x26e6d0[_0x1917ca(0x1b1)]+_0x1917ca(0x1d0)));if(!ALL_SUPPORTED_CLOUD_PROVIDERS[_0x1917ca(0x233)](_0x57e363[_0x1917ca(0x1fa)]['toLowerCase']())){if(_0x132aef['zZOwe'](_0x132aef[_0x1917ca(0x246)],_0x132aef[_0x1917ca(0x246)])){const _0x360db4={};_0x360db4[_0x1917ca(0x1dd)]=_0x1047d4[_0x1917ca(0x199)],_0x360db4['message']=_0x1b793b,_0x24bc7b[_0x1917ca(0x1e0)](_0x310011,_0x360db4,_0x132aef[_0x1917ca(0x157)],!![]);}else _0x579b08=_0x132aef[_0x1917ca(0x1e7)],await _0x132aef[_0x1917ca(0x1e3)](reportToGalactusAndSendToEDS,_0x57e363,_0x40cbe3,_0x579b08,messageTypes[_0x1917ca(0x20d)],_0x132aef['oUolg'],_0x132aef['WSDuE'],_0x132aef[_0x1917ca(0x157)]),logger[_0x1917ca(0x1af)](_0x579b08),!_0x57e363['cloudProvider']&&(_0x132aef[_0x1917ca(0x19f)](_0x132aef[_0x1917ca(0x1c5)],_0x132aef[_0x1917ca(0x154)])?(logger['info'](_0x1917ca(0x238)+DEFAULT_CLUSTER_DETAILS[_0x1917ca(0x17e)]+'\x20'),_0x57e363[_0x1917ca(0x1fa)]=DEFAULT_CLUSTER_DETAILS[_0x1917ca(0x17e)]):_0x3ea987[_0x1917ca(0x1ec)](_0x132aef[_0x1917ca(0x197)]));}global_registry[_0x1917ca(0x1b1)]=_0x57e363[_0x1917ca(0x1b1)],global_registry[_0x1917ca(0x1fa)]=_0x57e363[_0x1917ca(0x1fa)],global_registry[_0x1917ca(0x1f0)]=_0x57e363[_0x1917ca(0x16a)];}else{const _0x42baf6={};_0x42baf6[_0x1917ca(0x1de)]=_0x132aef[_0x1917ca(0x18c)],_0x42baf6[_0x1917ca(0x1dd)]=_0x132aef[_0x1917ca(0x162)];const _0x2149c3={};_0x2149c3['description']=_0x132aef[_0x1917ca(0x1fc)],_0x2149c3[_0x1917ca(0x1dd)]=_0x132aef[_0x1917ca(0x162)];const _0x5ab9ef={};_0x5ab9ef[_0x1917ca(0x1de)]=_0x132aef[_0x1917ca(0x189)],_0x5ab9ef[_0x1917ca(0x1dd)]=_0x132aef[_0x1917ca(0x162)];const _0x5ed051={};_0x5ed051[_0x1917ca(0x1de)]=_0x132aef['iNmdS'],_0x5ed051[_0x1917ca(0x1dd)]=_0x132aef[_0x1917ca(0x162)];const _0x374750={};return _0x374750[_0x1917ca(0x1b6)]=_0x42baf6,_0x374750['cloud-provider']=_0x2149c3,_0x374750[_0x1917ca(0x16a)]=_0x5ab9ef,_0x374750[_0x1917ca(0x1b3)]=_0x5ed051,_0x4c9991[_0x1917ca(0x1ba)](_0x4b725d[_0x1917ca(0x1d7)])[_0x1917ca(0x15a)](_0x162fb2)[_0x1917ca(0x22b)](_0x374750)[_0x1917ca(0x230)](_0x132aef[_0x1917ca(0x172)])[_0x1917ca(0x1eb)];}}else{if(_0x57e363['gridProfile']){if(_0x132aef[_0x1917ca(0x173)](_0x132aef[_0x1917ca(0x1d1)],_0x132aef[_0x1917ca(0x1d1)])){global_registry[_0x1917ca(0x1ff)]=_0x57e363['gridProfile'],logger['debug']('grid\x20profile\x20flow\x20'+_0x57e363['gridProfile']);const _0x162df8=_0x1917ca(0x190)+AG_API_URL+'/packages/cli/get-all-grid-profiles',_0x36fdfd={};_0x36fdfd[_0x1917ca(0x1c3)]=_0x132aef['YyezG'],_0x36fdfd['headers']=global_registry[_0x1917ca(0x183)],_0x36fdfd['throwHttpErrors']=![];const _0x5e8e0b=_0x36fdfd,_0x2dec68=await _0x132aef['AZtsj'](got,_0x162df8,_0x5e8e0b),_0x39e709=await _0x132aef[_0x1917ca(0x1e9)](responseValidation,_0x2dec68,_0x132aef[_0x1917ca(0x1a3)],_0x132aef[_0x1917ca(0x170)],_0x57e363,_0x40cbe3);let _0x51fd61={};if(_0x132aef[_0x1917ca(0x17c)](_0x39e709,0xc8)){if(_0x132aef[_0x1917ca(0x1ac)](_0x132aef['saCPU'],_0x132aef[_0x1917ca(0x195)])){const _0x4cb6af=JSON[_0x1917ca(0x198)](_0x2dec68['body']),_0x33f617=_0x4cb6af['find'](_0x4b0235=>_0x4b0235[_0x1917ca(0x1f6)]===_0x57e363['gridProfile'])||null;_0x132aef[_0x1917ca(0x217)](isUndefined,_0x33f617)?_0x132aef[_0x1917ca(0x1ac)](_0x132aef[_0x1917ca(0x1fd)],_0x132aef[_0x1917ca(0x1fd)])?(_0x579b08='Invalid\x20input.\x20grid\x20profiles:\x20'+_0x57e363[_0x1917ca(0x1ff)]+_0x1917ca(0x235),await _0x132aef[_0x1917ca(0x17d)](reportToGalactusAndSendToEDS,_0x57e363,_0x40cbe3,_0x579b08,messageTypes['ERROR'],_0x132aef[_0x1917ca(0x19b)],_0x132aef[_0x1917ca(0x204)],_0x132aef[_0x1917ca(0x157)]),logger['error'](_0x579b08),process[_0x1917ca(0x21e)](0x1)):(_0x1dea39+=_0x132aef[_0x1917ca(0x1a5)],_0x599a81+=_0x1917ca(0x1b4)+(_0xde9f7b[_0x1917ca(0x15b)]||_0x132aef['GvDSi'])+'\x0a',_0x4f3d92+=_0x1917ca(0x181)+(_0x1f9c07[_0x1917ca(0x223)]||_0x132aef['GvDSi'])+'\x0a',_0x2e4f2d+=_0x1917ca(0x240)+(_0x429163[_0x1917ca(0x19a)]||_0x132aef[_0x1917ca(0x1ce)])+'\x0a'):_0x132aef[_0x1917ca(0x173)](_0x132aef[_0x1917ca(0x161)],_0x132aef[_0x1917ca(0x161)])?_0x51fd61=_0x33f617:_0x2b658d['push'](_0x132aef[_0x1917ca(0x18f)]);}else _0x7b5752['push'](_0x132aef[_0x1917ca(0x16d)]);}else _0x132aef['NpsMP'](_0x132aef[_0x1917ca(0x18b)],_0x132aef[_0x1917ca(0x18b)])?process[_0x1917ca(0x21e)](0x1):(_0x5d9848[_0x1917ca(0x234)]('['+_0x2a496b+_0x1917ca(0x1b7)+_0x100da2[_0x1917ca(0x211)]+_0x1917ca(0x1b2)+_0x2d21a1['data']+_0x1917ca(0x24b)+_0x34b594[_0x1917ca(0x1af)]),_0x4949f6[_0x1917ca(0x1af)]&&_0x220b49[_0x1917ca(0x1af)]('error\x20stack\x20:\x20'+_0xe38dd6[_0x1917ca(0x1af)][_0x1917ca(0x19a)]));const _0x505552={};_0x505552[_0x1917ca(0x1dd)]=WS_EVENTS[_0x1917ca(0x199)],_0x505552[_0x1917ca(0x15b)]=_0x132aef['VsRUl'],webSocketUtils['sendEventToBackend'](_0x40cbe3,_0x505552),global_registry[_0x1917ca(0x1fa)]=_0x51fd61[_0x1917ca(0x1fa)],global_registry[_0x1917ca(0x1f0)]=_0x51fd61[_0x1917ca(0x16a)],global_registry[_0x1917ca(0x1b1)]=_0x51fd61[_0x1917ca(0x1b1)];}else _0x207525['info']('Setting\x20cloud\x20provider\x20as\x20'+_0x2bc75b[_0x1917ca(0x17e)]+'\x20'),_0x3f74b2[_0x1917ca(0x1fa)]=_0x11e6fd['CLOUD_PROVIDER'];}else{if(_0x132aef[_0x1917ca(0x243)](_0x132aef[_0x1917ca(0x175)],_0x132aef['rKxgl']))logger['error'](_0x132aef[_0x1917ca(0x1f9)]),process[_0x1917ca(0x21e)](0x1);else{const {header:_0x15b677,response:_0x539a41}=_0x5b02c5,{status:_0x55d4d2,data:_0x52fad7,error:_0x3af0ef}=_0x539a41;_0x5e1ad3+=_0x15b677+'\x20#'+_0x132aef[_0x1917ca(0x23f)](_0x4f7afb,0x1)+'\x0a',_0x51f66a+=_0x1917ca(0x1cc)+(_0x55d4d2?_0x132aef[_0x1917ca(0x1c4)]:_0x132aef[_0x1917ca(0x163)])+'\x0a',_0x31d051+=_0x1917ca(0x1e8)+_0x132aef[_0x1917ca(0x225)](_0x52fad7,_0x132aef[_0x1917ca(0x1ce)])+'\x0a',_0x3af0ef&&(_0x2f6881+=_0x132aef[_0x1917ca(0x1a5)],_0xe57df0+=_0x1917ca(0x1b4)+(_0x3af0ef[_0x1917ca(0x15b)]||_0x132aef[_0x1917ca(0x1ce)])+'\x0a',_0x314873+=_0x1917ca(0x181)+(_0x3af0ef[_0x1917ca(0x223)]||_0x132aef[_0x1917ca(0x1ce)])+'\x0a',_0xc28f27+=_0x1917ca(0x240)+(_0x3af0ef['stack']||_0x132aef[_0x1917ca(0x1ce)])+'\x0a'),_0x291054+='\x0a\x0a';}}}}}catch(_0x4ffd37){_0x132aef[_0x1917ca(0x17c)](_0x132aef[_0x1917ca(0x1b0)],_0x132aef[_0x1917ca(0x1b0)])?(_0x579b08=_0x1917ca(0x15d)+_0x4ffd37+':\x20'+_0x4ffd37[_0x1917ca(0x19a)],logger[_0x1917ca(0x1af)](_0x579b08),await _0x132aef[_0x1917ca(0x166)](reportToGalactusAndSendToEDS,_0x57e363,_0x40cbe3,_0x579b08,messageTypes['ERROR'],_0x132aef[_0x1917ca(0x19b)],_0x132aef[_0x1917ca(0x1fb)],_0x132aef[_0x1917ca(0x157)]),process[_0x1917ca(0x21e)](0x1)):_0x355a18=_0x405ab7;}}function printResponse(_0x14c954,_0xbeea4b){const _0x90bada=a17_0x38adcf,_0x1bdd1c={};_0x1bdd1c[_0x90bada(0x1df)]=_0x90bada(0x224),_0x1bdd1c[_0x90bada(0x1d3)]=_0x90bada(0x1fe),_0x1bdd1c[_0x90bada(0x216)]=function(_0x172e9a,_0x3bfc6c){return _0x172e9a!==_0x3bfc6c;},_0x1bdd1c['MUKIV']=_0x90bada(0x1e2);const _0x160f4d=_0x1bdd1c;logger['info']('['+_0x14c954+_0x90bada(0x1b7)+_0xbeea4b[_0x90bada(0x211)]+_0x90bada(0x1b2)+_0xbeea4b[_0x90bada(0x1f7)]+'\x20error\x20:\x20'+_0xbeea4b[_0x90bada(0x1af)]),_0xbeea4b[_0x90bada(0x1af)]&&(_0x160f4d[_0x90bada(0x216)](_0x160f4d[_0x90bada(0x1b9)],_0x160f4d[_0x90bada(0x1b9)])?_0x5cf37+=_0x90bada(0x213)+_0x4ccc33[_0x90bada(0x1b1)]+'\x20'+(_0x16d58a?_0x160f4d[_0x90bada(0x1df)]:_0x160f4d[_0x90bada(0x1d3)])+'\x0a\x0a':logger[_0x90bada(0x1af)](_0x90bada(0x247)+_0xbeea4b['error']['stack']));}async function generateReport(_0x16102d,_0x5b6ed7){const _0x566ef4=a17_0x38adcf,_0x18cb55={'JlJoz':function(_0x50c1bf,_0x275a18){return _0x50c1bf+_0x275a18;},'dXDHT':_0x566ef4(0x236),'JQAtU':'Failure','vDvPn':function(_0x1b0a79,_0x345705){return _0x1b0a79||_0x345705;},'MtMbz':_0x566ef4(0x22f),'bMXvw':_0x566ef4(0x219),'evZDo':'Cluster\x20details\x0a-----------------------\x0a','uJsoF':function(_0x5c1ff3,_0x5a7ae7){return _0x5c1ff3!=_0x5a7ae7;},'sdfHb':_0x566ef4(0x224),'ItBdT':'will\x20be\x20created','ksKto':function(_0x3e9704){return _0x3e9704();}};let _0x1885ff=_0x566ef4(0x248)+global_registry[_0x566ef4(0x1fa)]+_0x566ef4(0x1e1);return _0x16102d[_0x566ef4(0x17b)]((_0xade1b0,_0x4de730)=>{const _0x422edf=_0x566ef4,{header:_0x7a77c6,response:_0x5e26b5}=_0xade1b0,{status:_0x5b3c3d,data:_0x4d98a4,error:_0x192210}=_0x5e26b5;_0x1885ff+=_0x7a77c6+'\x20#'+_0x18cb55['JlJoz'](_0x4de730,0x1)+'\x0a',_0x1885ff+=_0x422edf(0x1cc)+(_0x5b3c3d?_0x18cb55[_0x422edf(0x207)]:_0x18cb55[_0x422edf(0x18d)])+'\x0a',_0x1885ff+='Message:\x20'+_0x18cb55[_0x422edf(0x1ee)](_0x4d98a4,_0x18cb55[_0x422edf(0x1ab)])+'\x0a',_0x192210&&(_0x1885ff+=_0x18cb55[_0x422edf(0x171)],_0x1885ff+=_0x422edf(0x1b4)+(_0x192210[_0x422edf(0x15b)]||_0x18cb55['MtMbz'])+'\x0a',_0x1885ff+=_0x422edf(0x181)+(_0x192210[_0x422edf(0x223)]||_0x18cb55[_0x422edf(0x1ab)])+'\x0a',_0x1885ff+=_0x422edf(0x240)+(_0x192210[_0x422edf(0x19a)]||_0x18cb55['MtMbz'])+'\x0a'),_0x1885ff+='\x0a\x0a';}),_0x1885ff+=_0x18cb55[_0x566ef4(0x156)],_0x18cb55[_0x566ef4(0x1d5)](_0x5b6ed7,null)?_0x1885ff+=_0x566ef4(0x213)+global_registry[_0x566ef4(0x1b1)]+'\x20'+(_0x5b6ed7?_0x18cb55[_0x566ef4(0x20e)]:_0x18cb55[_0x566ef4(0x1c6)])+'\x0a\x0a':_0x1885ff+=_0x566ef4(0x213)+global_registry[_0x566ef4(0x1b1)]+'\x20details\x20cannot\x20be\x20fetched\x0a\x0a',_0x1885ff+=_0x18cb55[_0x566ef4(0x21c)](getSystemMetaData),_0x1885ff;}function a17_0x2944(){const _0x38ac29=['\x20\x20Code:\x20','grid','authHeader','header','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','unable\x20to\x20verify\x20if\x20cluster\x20`','eAOxb','replace','RyCIJ','desc','YHAGI','VcdIy','JQAtU','../../config/constants','DbQOe','https://','Failed\x20in\x20pre-check!\x20Error:\x20','XaZBU','string','pre-check-failed','saCPU','OulXd','MrlJl','parse','LOG','stack','oUolg','Hazbz','requestId','kfwBN','zZOwe','1335uZAydP','Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','pre-check-cluster-args-not-passed','oYQYE','4528boKaBn','UfRYO','IlHhL','bstackAccesskey','writeFileSync','../../config/logger','bstackUsername','MtMbz','kxaLw','432nuKvIa','Cluster\x20`','error','MbEfS','clusterName','\x20data\x20:\x20','grid-profile','\x20\x20Message:\x20','JBeZh','cluster-name',']\x20status\x20:\x20','utf-8','MUKIV','usage','username','checkAccess','gbVCk','cloud-provider','<UsernamePlaceholder>','response','handler','`\x20,error\x20:\x20','method','czUpM','JWOqD','ItBdT','wQZYC','Browserstack','949732CmBkuE','TLSv1_2_client_method','ZLALZ','Status:\x20','stack\x20trace\x20','GvDSi','XDDaG','`\x20already\x20exists','Mwtec','TbwnR','ZttSW','OKvsC','uJsoF','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','pre_check','ysKbv','Tool\x20Installed','`\x20is\x20present\x20in\x20region\x20`','BeRcc','ZjLaL','type','description','BJZLj','sendEventToBackend','\x20===\x0a\x0a','SHVeK','KBxif','INFO','nQkNV','idyXd','NVbwY','Message:\x20','YvBMh','cMMcG','argv','push','mlMSq','vDvPn','getUTCHours','clusterRegion','JDDvC','Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup','mDOOP','loJKH','WebSocket','name','data','884820ygeGMC','VksRE','cloudProvider','WSDuE','fBwig','VhHri','will\x20be\x20created','gridProfile','muFze','WjeZA','GET','QhdTe','pgtHm','fvATX','HyfJk','dXDHT','uQsjq','delay','ZNbyA','readFileSync','sZAKC','ERROR','sdfHb','gkvtL','reconnecting-websocket','status','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','Cluster\x20','BjulB','bhltb','bvWrd','GIgmK','qJnIl','Error\x20Details:\x0a','../../cloudproviders/utils','VlCHb','ksKto','sAYlx','exit','join','RfHuJ','pre-check-grid-called','uuid','code','is\x20already\x20present','pzOGS','Pre-check\x20running\x20for\x20Cloud\x20-\x20','BWNSm','credential-not-found','<PasswordPlaceholder>','1668780ScPXNV','options','QODRp','53991wzgzQn','DCvmJ','N/A','help','Qkvyd','RmZwE','includes','info','.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again','Success','existsSync','Setting\x20cloud\x20provider\x20as\x20','XHEAW','Grid\x20profile\x20fetched\x20for\x20pre-check','GNCpV','got','178807QnVGYx','debug','PHABg','\x20\x20Stack:\x20','isTrialGridAccessible','CEnhM','NpsMP','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','xehzo','IwMkJ','error\x20stack\x20:\x20','===\x20Precheck\x20Report\x20-\x20','SSL\x20Configured','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','\x20error\x20:\x20','xbygM','16960660PJHMhU','ZPQWL','yRsDs','hHjSu','evZDo','FWPqU','.txt','pre-check-grid-profile-empty','epilogue','message','stringify','Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20','jpZtq','log/report_','getUTCMonth','qvxiR','zINkw','lNINH','accessResp','getUTCFullYear','eEceK','connectionTimeout','Missing\x20required\x20arguments:\x20','TivtF','region','JAauj','isClusterPresent','Exdql','SlNLa','dummy-grid','xKEDM','bMXvw','pxFHK','pJxns','shLdC','rKxgl','\x20region\x20-\x20','pre-check','toolInstalledResp','1|3|0|4|2','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','forEach','JbgaG','pwFMV','CLOUD_PROVIDER','dFZsz','28VXaPun'];a17_0x2944=function(){return _0x38ac29;};return a17_0x2944();};function a17_0x68fb(_0x3d3200,_0x280ed2){const _0x294426=a17_0x2944();return a17_0x68fb=function(_0x68fb1c,_0x4d0641){_0x68fb1c=_0x68fb1c-0x153;let _0x3b9664=_0x294426[_0x68fb1c];return _0x3b9664;},a17_0x68fb(_0x3d3200,_0x280ed2);}exports[a17_0x38adcf(0x1c1)]=async function(_0x191a7c){const _0x4c22c0=a17_0x38adcf,_0x204eef={'QhdTe':function(_0x58b49f){return _0x58b49f();},'gkvtL':function(_0x144a8c){return _0x144a8c();},'yPUYg':_0x4c22c0(0x212),'OAXme':function(_0xc042a7,_0x2f17e9,_0x2856d4,_0x1d1648,_0x2d200e,_0x532924,_0x5369d7,_0x56ff49){return _0xc042a7(_0x2f17e9,_0x2856d4,_0x1d1648,_0x2d200e,_0x532924,_0x5369d7,_0x56ff49);},'BjulB':_0x4c22c0(0x221),'osdEc':_0x4c22c0(0x228),'qJnIl':_0x4c22c0(0x1af),'DCvmJ':function(_0x2bf148,_0x1415bb,_0x4a0fae,_0x36693d,_0x386216,_0x577ad4,_0x5d90e0){return _0x2bf148(_0x1415bb,_0x4a0fae,_0x36693d,_0x386216,_0x577ad4,_0x5d90e0);},'kfwBN':function(_0x1355c8){return _0x1355c8();},'ZZAlA':_0x4c22c0(0x1bf),'xehzo':_0x4c22c0(0x229),'TivtF':function(_0xed0122,_0x3ee41a,_0x2eed7f){return _0xed0122(_0x3ee41a,_0x2eed7f);},'JDDvC':function(_0x4b683f,_0x1f8e1e,_0x4c2692){return _0x4b683f(_0x1f8e1e,_0x4c2692);},'RmZwE':function(_0xb19ad8,_0x5a7037,_0x7c6bd2,_0x592fec,_0x33e580,_0x30e00d,_0x1ed4fd){return _0xb19ad8(_0x5a7037,_0x7c6bd2,_0x592fec,_0x33e580,_0x30e00d,_0x1ed4fd);},'sZAKC':_0x4c22c0(0x16f),'RfHuJ':_0x4c22c0(0x178),'jpZtq':_0x4c22c0(0x179),'Nucyt':function(_0x53f76a,_0x2475f3,_0x34caf5,_0x4321a6,_0x3e6ed8,_0x12f3fd,_0x1b01c8,_0x2bd57c){return _0x53f76a(_0x2475f3,_0x34caf5,_0x4321a6,_0x3e6ed8,_0x12f3fd,_0x1b01c8,_0x2bd57c);},'ZPQWL':_0x4c22c0(0x164),'SlNLa':function(_0x29cb61,_0x98fb4,_0x2a078e){return _0x29cb61(_0x98fb4,_0x2a078e);},'IlHhL':_0x4c22c0(0x241),'ZNbyA':function(_0x1f6d04,_0x34c16e){return _0x1f6d04(_0x34c16e);},'uQsjq':_0x4c22c0(0x1ca),'ghXRS':'isTls1_2_SUPPORTED','WAZCs':_0x4c22c0(0x1d9),'ExxnK':'User\x20Access','sAYlx':'Whitelisted\x20browserstack','WjeZA':_0x4c22c0(0x249),'JSjvu':function(_0x29dffa,_0x4327fe,_0x5cd59b){return _0x29dffa(_0x4327fe,_0x5cd59b);},'qbeNj':function(_0x402fd4,_0x277ce1){return _0x402fd4+_0x277ce1;},'wQZYC':_0x4c22c0(0x1b8),'mlMSq':_0x4c22c0(0x194)};let _0x58f608,_0x74d226;try{global_registry[_0x4c22c0(0x19d)]=_0x204eef[_0x4c22c0(0x203)](uuidv4);!fs[_0x4c22c0(0x237)](_0x204eef[_0x4c22c0(0x20f)](getCredentialsPath))&&(_0x74d226=_0x204eef['yPUYg'],logger[_0x4c22c0(0x1af)](_0x74d226),await _0x204eef['OAXme'](reportToGalactusAndSendToEDS,_0x191a7c,_0x58f608,_0x74d226,messageTypes[_0x4c22c0(0x20d)],_0x204eef[_0x4c22c0(0x214)],_0x204eef['osdEc'],_0x204eef['qJnIl']),process[_0x4c22c0(0x21e)](0x1));_0x204eef[_0x4c22c0(0x22e)](sendInstrumentationEvent,_0x191a7c,_0x204eef[_0x4c22c0(0x214)],messageTypes[_0x4c22c0(0x1e4)],null,null,_0x191a7c);const _0x5bbf07=JSON[_0x4c22c0(0x198)](fs[_0x4c22c0(0x20b)](_0x204eef['kfwBN'](getCredentialsPath)));global_registry[_0x4c22c0(0x1aa)]=_0x5bbf07[_0x4c22c0(0x1c8)][_0x4c22c0(0x1bb)],global_registry[_0x4c22c0(0x1a7)]=_0x5bbf07[_0x4c22c0(0x1c8)]['password'];const _0x4be1ef=WS_ENDPOINT[_0x4c22c0(0x188)](_0x204eef['ZZAlA'],_0x5bbf07[_0x4c22c0(0x1c8)][_0x4c22c0(0x1bb)])[_0x4c22c0(0x188)](_0x204eef[_0x4c22c0(0x245)],_0x5bbf07[_0x4c22c0(0x1c8)]['password']),_0xc07dee={};_0xc07dee[_0x4c22c0(0x1f5)]=ws,_0xc07dee[_0x4c22c0(0x167)]=0x36ee80,_0x58f608=new ReconnectingWebSocket(_0x4be1ef,[],_0xc07dee),global_registry[_0x4c22c0(0x183)]=_0x204eef[_0x4c22c0(0x169)](getAuthHeader,global_registry[_0x4c22c0(0x1aa)],global_registry[_0x4c22c0(0x1a7)]),await _0x204eef[_0x4c22c0(0x1f1)](inputValidation,_0x191a7c,_0x58f608),logger[_0x4c22c0(0x234)](_0x4c22c0(0x226)+global_registry[_0x4c22c0(0x1fa)]+_0x4c22c0(0x176)+global_registry['clusterRegion']);let _0x5607a8=await _0x204eef[_0x4c22c0(0x232)](getCloudProviderObjectWithOutInit,global_registry[_0x4c22c0(0x1fa)],global_registry['clusterName'],_0x204eef[_0x4c22c0(0x20c)],_0x58f608,webSocketUtils,_0x191a7c);const _0x4b1ee0=await _0x5607a8['isCliToolInstalled']();_0x204eef['JDDvC'](printResponse,_0x204eef[_0x4c22c0(0x220)],_0x4b1ee0),_0x5607a8=await _0x5607a8['init']();let _0x37a8ef=![];try{_0x37a8ef=await _0x5607a8[_0x4c22c0(0x16c)]();}catch(_0x5a53ae){const _0x30d798=_0x204eef[_0x4c22c0(0x15e)]['split']('|');let _0xb76042=0x0;while(!![]){switch(_0x30d798[_0xb76042++]){case'0':logger[_0x4c22c0(0x1af)](_0x74d226);continue;case'1':_0x74d226=_0x4c22c0(0x186)+global_registry['clusterName']+_0x4c22c0(0x1da)+global_registry[_0x4c22c0(0x1f0)]+_0x4c22c0(0x1c2)+_0x5a53ae;continue;case'2':await _0x204eef['Nucyt'](reportToGalactusAndSendToEDS,_0x191a7c,_0x58f608,_0x74d226,messageTypes[_0x4c22c0(0x20d)],_0x204eef[_0x4c22c0(0x214)],'cluster-check-failed-'+global_registry[_0x4c22c0(0x1fa)],_0x204eef[_0x4c22c0(0x218)]);continue;case'3':_0x37a8ef=null;continue;case'4':_0x74d226+='\x0a'+JSON['stringify'](_0x5a53ae[_0x4c22c0(0x19a)]);continue;}break;}}_0x37a8ef&&logger[_0x4c22c0(0x234)](_0x4c22c0(0x1ae)+global_registry[_0x4c22c0(0x1b1)]+_0x4c22c0(0x1d0));const _0x1fec39=await _0x5607a8[_0x4c22c0(0x1bc)]();_0x204eef[_0x4c22c0(0x169)](printResponse,_0x204eef[_0x4c22c0(0x153)],_0x1fec39);const _0x273eb3=await _0x204eef[_0x4c22c0(0x19e)](curlRequest);_0x204eef[_0x4c22c0(0x16e)](printResponse,_0x204eef[_0x4c22c0(0x1a6)],_0x273eb3);const _0x37275f=await _0x204eef[_0x4c22c0(0x20a)](isTlsSupported,_0x204eef[_0x4c22c0(0x208)]);_0x204eef[_0x4c22c0(0x169)](printResponse,_0x204eef['ghXRS'],_0x37275f);const _0x25b621={};_0x25b621[_0x4c22c0(0x184)]=_0x204eef['WAZCs'],_0x25b621['response']=_0x4b1ee0;const _0x47779f={};_0x47779f['header']=_0x204eef['ExxnK'],_0x47779f[_0x4c22c0(0x1c0)]=_0x1fec39;const _0x5d3b38={};_0x5d3b38[_0x4c22c0(0x184)]=_0x204eef[_0x4c22c0(0x21d)],_0x5d3b38['response']=_0x273eb3;const _0xab523c={};_0xab523c[_0x4c22c0(0x184)]=_0x204eef[_0x4c22c0(0x201)],_0xab523c[_0x4c22c0(0x1c0)]=_0x37275f;const _0x5e1676=[_0x25b621,_0x47779f,_0x5d3b38,_0xab523c],_0x1d8359=await _0x204eef['JSjvu'](generateReport,_0x5e1676,_0x37a8ef),_0xdd9b81=new Date(),_0x81285e=_0xdd9b81[_0x4c22c0(0x165)]()+'_'+_0x204eef['qbeNj'](_0xdd9b81[_0x4c22c0(0x160)](),0x1)+'_'+_0xdd9b81['getUTCDate']()+'_'+_0xdd9b81[_0x4c22c0(0x1ef)]()+'_'+_0xdd9b81['getUTCMinutes'](),_0x2f57d4=_0x4c22c0(0x15f)+_0x81285e+_0x4c22c0(0x158);fs[_0x4c22c0(0x1a8)](_0x2f57d4,_0x1d8359,_0x204eef[_0x4c22c0(0x1c7)]),logger['info']('Report\x20saved\x20in\x20'+_0x2f57d4),process[_0x4c22c0(0x21e)](0x0);}catch(_0xb476ff){let _0x2bd4c9=_0x4c22c0(0x191)+_0xb476ff+'\x20';logger[_0x4c22c0(0x1af)](_0x2bd4c9),_0x2bd4c9+='\x0a'+JSON[_0x4c22c0(0x15c)](_0xb476ff[_0x4c22c0(0x19a)]),logger[_0x4c22c0(0x23e)](_0x4c22c0(0x1cd)+_0xb476ff['stack']);if(_0x58f608){const _0x1082cc={};_0x1082cc['type']=WS_EVENTS[_0x4c22c0(0x199)],_0x1082cc[_0x4c22c0(0x15b)]=_0x2bd4c9,webSocketUtils[_0x4c22c0(0x1e0)](_0x58f608,_0x1082cc,_0x204eef[_0x4c22c0(0x218)],!![]);}await webSocketUtils[_0x4c22c0(0x209)](0x7d0);const _0x548323={};_0x548323[_0x4c22c0(0x1af)]=_0x2bd4c9,await _0x204eef[_0x4c22c0(0x22e)](sendInstrumentationEvent,_0x191a7c,_0x204eef[_0x4c22c0(0x214)],messageTypes['ERROR'],_0x204eef[_0x4c22c0(0x1ed)],_0x548323,_0x191a7c),process[_0x4c22c0(0x21e)](0x1);}};