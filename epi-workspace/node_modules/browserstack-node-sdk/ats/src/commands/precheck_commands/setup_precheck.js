const a17_0x57656a=a17_0x4316;(function(_0x2fd2fd,_0x5101c9){const _0x4d4992=a17_0x4316,_0x16473d=_0x2fd2fd();while(!![]){try{const _0x2a5836=-parseInt(_0x4d4992(0x140))/0x1*(-parseInt(_0x4d4992(0x1a9))/0x2)+-parseInt(_0x4d4992(0x152))/0x3*(parseInt(_0x4d4992(0xda))/0x4)+-parseInt(_0x4d4992(0xd4))/0x5+-parseInt(_0x4d4992(0x119))/0x6*(parseInt(_0x4d4992(0x13b))/0x7)+-parseInt(_0x4d4992(0x173))/0x8+parseInt(_0x4d4992(0x1b4))/0x9+parseInt(_0x4d4992(0x138))/0xa;if(_0x2a5836===_0x5101c9)break;else _0x16473d['push'](_0x16473d['shift']());}catch(_0xd8905e){_0x16473d['push'](_0x16473d['shift']());}}}(a17_0x4307,0xc5f2d));const fs=require('fs'),ws=require('ws'),got=require(a17_0x57656a(0x15e)),{v4:uuidv4}=require('uuid'),ReconnectingWebSocket=require(a17_0x57656a(0x100)),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require(a17_0x57656a(0x17a)),{logger}=require(a17_0x57656a(0x1ba)),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require('../../config/constants'),{getCloudProviderObjectWithOutInit}=require('../../cloudproviders/utils'),webSocketUtils=require(a17_0x57656a(0x118)),{sendInstrumentationEvent}=require(a17_0x57656a(0xf5));function a17_0x4316(_0x425e4c,_0x5b6029){const _0x430722=a17_0x4307();return a17_0x4316=function(_0x4316c3,_0x5cd42f){_0x4316c3=_0x4316c3-0xd3;let _0xdeaee9=_0x430722[_0x4316c3];return _0xdeaee9;},a17_0x4316(_0x425e4c,_0x5b6029);}exports[a17_0x57656a(0x1b7)]=a17_0x57656a(0xff),exports[a17_0x57656a(0x13d)]=a17_0x57656a(0x1ac),exports[a17_0x57656a(0xe0)]=function(_0x6b8b2d){const _0x41f218=a17_0x57656a,_0x299829={};_0x299829[_0x41f218(0x1c7)]='Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.',_0x299829[_0x41f218(0x10c)]=_0x41f218(0x16a),_0x299829[_0x41f218(0x16b)]=_0x41f218(0xed),_0x299829[_0x41f218(0x18b)]=_0x41f218(0x103),_0x299829[_0x41f218(0x1af)]=_0x41f218(0x176),_0x299829[_0x41f218(0x148)]=_0x41f218(0x16c);const _0x1fb1b9=_0x299829,_0x3f0495={};_0x3f0495[_0x41f218(0x18d)]=_0x1fb1b9[_0x41f218(0x1c7)],_0x3f0495[_0x41f218(0x1b0)]=_0x1fb1b9['ikZxi'];const _0x578935={};_0x578935[_0x41f218(0x18d)]=_0x1fb1b9[_0x41f218(0x16b)],_0x578935[_0x41f218(0x1b0)]=_0x1fb1b9['ikZxi'];const _0x492a30={};_0x492a30[_0x41f218(0x18d)]=_0x1fb1b9['LVhEf'],_0x492a30[_0x41f218(0x1b0)]=_0x1fb1b9[_0x41f218(0x10c)];const _0x589c77={};_0x589c77[_0x41f218(0x18d)]=_0x1fb1b9[_0x41f218(0x1af)],_0x589c77[_0x41f218(0x1b0)]=_0x1fb1b9['ikZxi'];const _0x5085fd={};return _0x5085fd[_0x41f218(0x18a)]=_0x3f0495,_0x5085fd[_0x41f218(0x19b)]=_0x578935,_0x5085fd[_0x41f218(0x151)]=_0x492a30,_0x5085fd['grid-profile']=_0x589c77,_0x6b8b2d[_0x41f218(0xf6)](HELP_HEADER_MESSAGE['pre_check'])['epilogue'](HELP_FOOTER_MESSAGE)['options'](_0x5085fd)[_0x41f218(0x16c)](_0x1fb1b9[_0x41f218(0x148)])[_0x41f218(0x192)];};function a17_0x4307(){const _0x447591=['jVtWi','gridProfile','find','PGbKw','cluster-name','LVhEf','JlYwF','description','\x20\x20Code:\x20','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','sendEventToBackend','zZmiH','argv','bstackUsername','connectionTimeout','WxgAo','clusterRegion','\x20error\x20:\x20','===\x20Precheck\x20Report\x20-\x20','message','AZSRr','cloud-provider','gBeqa','parse','Liitl','CLOUD_PROVIDER','Kkwtv','error\x20stack\x20:\x20','`\x20,error\x20:\x20','password','WBVpm','toLowerCase','Didvk','Missing\x20required\x20arguments:\x20','zjXJD','2gzJrBd','apTYU','HCfPr','Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup','join','wvieV','jUMfI','type','WebSocket','getUTCDate','\x20\x20Message:\x20','523341DXOTCE','TLSv1_2_client_method','dXDnW','command','readFileSync','WUmRl','../../config/logger','SbCmg','BVWey','grid\x20profile\x20flow\x20','log/report_','GgtnB','grid-profile','stack\x20trace\x20','DggFk','stack','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','AcoOa','XrTrF','dDrWQ','sZmvP','data','EMGGc','utf-8','REjLY','3055355tFNGfE','vvyQm','delay','debug','toolInstalledResp','gLWUE','156hCiwXW','rTckv','QAapC','KCVKt','Failed\x20in\x20pre-check!\x20Error:\x20','Grid\x20profile\x20fetched\x20for\x20pre-check','builder','name','tcmBi','existsSync','info','Error\x20Details:\x0a','lvivj','header','checkAccess','.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again','response','ayFXT','PQFZd','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','getUTCMinutes','handler','PgvWT','XKVxf','gtSvH','isTls1_2_SUPPORTED','push','../../utils/instrumentationUtils','usage','cloudProvider','length','Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','bnepq','SpBdS','XZfXW',']\x20status\x20:\x20','zxlKq','grid','reconnecting-websocket','credential-not-found','init','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','Tool\x20Installed','OiblY','pre-check-grid-profile-empty','QgMdN','VjQEs','INFO','TDCYE','IPlfd','ikZxi','aDYZL','Cluster\x20','<PasswordPlaceholder>','Failure','unable\x20to\x20verify\x20if\x20cluster\x20`','Cluster\x20`','khJns','chTnv','`\x20is\x20present\x20in\x20region\x20`','ATSJb','QabqZ','../../utils/webSocketUtils','6EXCHRq','method','username','nVKkP','throwHttpErrors','ugTNG','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','body','Message:\x20','replace','dummy-grid','UKaxp','Vxtys','accessResp','Invalid\x20input.\x20grid\x20profiles:\x20','RuMEO','split','mXdET','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','headers','.\x20Please\x20provide\x20all\x20required\x20arguments.','erCqm','options','error','Dotuc','duxNz','Ulczt','AXfgX','pre-check-failed','otyLK','QbVub','47367610WBRGZy','Status:\x20','mdFSm','4529105CCTNvt','.txt','desc','Browserstack','HwfTq','388396WeqhpG','code','Whitelisted\x20browserstack','`\x20already\x20exists','toHte','clusterName','zLjHa','will\x20be\x20created','OLxwm','forEach','qHMAm','Report\x20saved\x20in\x20','isCliToolInstalled','ySNVp','DfbkV','getUTCHours','SmJPs','region','118362NFisgF','qQzho','KtKxO','VWqNx','gayaq','ERROR','aaKpl','LOG','OFYDs','iCwAd','https://','SVSEi','got','Klepp','Pre-check\x20running\x20for\x20Cloud\x20-\x20','Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20','pre-check-grid-called','Setting\x20cloud\x20provider\x20as\x20','FNRZM','STHHd','bstackAccesskey','is\x20already\x20present','exit','stringify','string','yPRft','help','\x20\x20Stack:\x20','PhFsq','SjwtK','4|0|3|2|1','IUNMZ','status','12605736fsjsGq','Success','lLsBK','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','dhfuB','hGZrg','XoifU','../../utils/utilityMethods','ZkhHO','qUsSK','includes','PghwB','LAFsV','lnMiz','oeHxY','rGFoG','N/A','cloud-provider-not-supported','GET'];a17_0x4307=function(){return _0x447591;};return a17_0x4307();}async function inputValidation(_0xde968f,_0x5520b8){const _0x246bf7=a17_0x57656a,_0xddec1b={'ziIZh':_0x246bf7(0x167),'XrTrF':_0x246bf7(0x147),'khJns':_0x246bf7(0x18f),'vvyQm':_0x246bf7(0x16a),'jVtWi':'Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','dhfuB':_0x246bf7(0x103),'VPCHL':'Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','IPlfd':_0x246bf7(0x16c),'SvXOK':function(_0x44dcfb,_0x16251f){return _0x44dcfb+_0x16251f;},'gayaq':_0x246bf7(0x174),'mXGPU':_0x246bf7(0x110),'iBume':function(_0x33830c,_0x33bb7c){return _0x33830c||_0x33bb7c;},'toHte':'N/A','qHMAm':_0x246bf7(0xe5),'yxjyp':_0x246bf7(0x151),'ayFXT':_0x246bf7(0x18a),'REjLY':_0x246bf7(0x19b),'Liitl':_0x246bf7(0x1c4),'OiblY':_0x246bf7(0x130),'ySNVp':function(_0x649f89,_0x166233){return _0x649f89!==_0x166233;},'SpBdS':_0x246bf7(0x133),'AZSRr':_0x246bf7(0xf2),'XKVxf':_0x246bf7(0x16e),'dXDnW':function(_0x5b22db,_0x3d3d0b){return _0x5b22db===_0x3d3d0b;},'IUNMZ':_0x246bf7(0x1ae),'ATSJb':function(_0x30db87,_0x436402){return _0x30db87===_0x436402;},'KtKxO':_0x246bf7(0xfa),'Kkwtv':function(_0x244281,_0x421018){return _0x244281!==_0x421018;},'XoifU':_0x246bf7(0x1c5),'crgvP':function(_0x7d1e53,_0x4319c2){return _0x7d1e53>_0x4319c2;},'erCqm':_0x246bf7(0x10a),'JlYwF':_0x246bf7(0x175),'DfbkV':function(_0x3aa28a,_0x2680a5,_0x31b93c,_0x9c4e68,_0x3b44f5,_0x27b2c9,_0x536fed,_0x4a390b){return _0x3aa28a(_0x2680a5,_0x31b93c,_0x9c4e68,_0x3b44f5,_0x27b2c9,_0x536fed,_0x4a390b);},'chTnv':_0x246bf7(0x162),'QgMdN':'pre-check-cluster-args-not-passed','hQTcI':'fLBWC','hVGNQ':_0x246bf7(0x11e),'VWqNx':_0x246bf7(0xf9),'VjQEs':function(_0x184d2b,_0x414fd7,_0x4e9faf,_0x1b335f,_0x52ef13,_0x2b243d,_0x14cfdb,_0x32d78a){return _0x184d2b(_0x414fd7,_0x4e9faf,_0x1b335f,_0x52ef13,_0x2b243d,_0x14cfdb,_0x32d78a);},'zZmiH':_0x246bf7(0x184),'lvivj':_0x246bf7(0x181),'PgvWT':_0x246bf7(0x137),'PghwB':_0x246bf7(0x185),'PGbKw':function(_0x3ddd1c,_0x22cb56,_0xea34d1){return _0x3ddd1c(_0x22cb56,_0xea34d1);},'zxlKq':function(_0x52ca87,_0x59c69c,_0x1fdcbc,_0xe5347,_0x1aae01,_0x2d8b58){return _0x52ca87(_0x59c69c,_0x1fdcbc,_0xe5347,_0x1aae01,_0x2d8b58);},'QabqZ':'pre-check','Vxtys':_0x246bf7(0x1c0),'nVKkP':function(_0x4da287,_0x466a76){return _0x4da287===_0x466a76;},'gJJrP':_0x246bf7(0x1ca),'kOkWI':function(_0x4d3ebd,_0x2f7b21){return _0x4d3ebd(_0x2f7b21);},'WxgAo':_0x246bf7(0x1bb),'HCfPr':_0x246bf7(0x106),'VUqhI':function(_0x44207e,_0x82ea0a){return _0x44207e!==_0x82ea0a;},'iCwAd':_0x246bf7(0x128),'PQFZd':function(_0x3898c6,_0x2a7ed4){return _0x3898c6===_0x2a7ed4;},'SmJPs':_0x246bf7(0x134),'gLWUE':_0x246bf7(0xdf),'rGFoG':function(_0x11b652,_0x5e37cb){return _0x11b652===_0x5e37cb;},'lnMiz':_0x246bf7(0x1c8),'wvCew':_0x246bf7(0x15f),'aaKpl':'lWPHu','XZfXW':function(_0x32354c,_0x54ca51,_0xf24c9a,_0x3451b7,_0x1c6a44,_0x3f6a6c,_0x1f6479,_0xda7012){return _0x32354c(_0x54ca51,_0xf24c9a,_0x3451b7,_0x1c6a44,_0x3f6a6c,_0x1f6479,_0xda7012);}};let _0x3edac5;try{if(_0xddec1b[_0x246bf7(0x14d)](_0xddec1b[_0x246bf7(0xfb)],_0xddec1b[_0x246bf7(0x19a)])){if(_0xde968f['clusterName']||_0xde968f[_0x246bf7(0xf7)]||_0xde968f[_0x246bf7(0x151)]){if(_0xddec1b['ySNVp'](_0xddec1b[_0x246bf7(0xf1)],_0xddec1b[_0x246bf7(0xf1)]))_0x314172+=_0x246bf7(0x10e)+_0x437b4e[_0x246bf7(0x145)]+_0x246bf7(0x11f);else{const _0x5200ba=[];!_0xde968f[_0x246bf7(0x145)]&&(_0xddec1b[_0x246bf7(0x1b6)](_0xddec1b[_0x246bf7(0x171)],_0xddec1b[_0x246bf7(0x171)])?_0x5200ba[_0x246bf7(0xf4)](_0xddec1b[_0x246bf7(0xeb)]):_0x37df62+='Cluster\x20'+_0x13e77c[_0x246bf7(0x145)]+'\x20'+(_0x1d63eb?_0xddec1b['ziIZh']:_0xddec1b[_0x246bf7(0x1c6)])+'\x0a\x0a');;if(!_0xde968f[_0x246bf7(0xf7)]){if(_0xddec1b[_0x246bf7(0x116)](_0xddec1b[_0x246bf7(0x154)],_0xddec1b['KtKxO']))_0x5200ba[_0x246bf7(0xf4)](_0xddec1b[_0x246bf7(0xd3)]);else{const _0x4d0084={};_0x4d0084[_0x246bf7(0x18d)]=_0xddec1b[_0x246bf7(0x113)],_0x4d0084[_0x246bf7(0x1b0)]=_0xddec1b[_0x246bf7(0xd5)];const _0x4597ee={};_0x4597ee[_0x246bf7(0x18d)]=_0xddec1b[_0x246bf7(0x186)],_0x4597ee[_0x246bf7(0x1b0)]=_0xddec1b[_0x246bf7(0xd5)];const _0x229e52={};_0x229e52[_0x246bf7(0x18d)]=_0xddec1b[_0x246bf7(0x177)],_0x229e52[_0x246bf7(0x1b0)]=_0xddec1b[_0x246bf7(0xd5)];const _0x28f62e={};_0x28f62e['description']=_0xddec1b['VPCHL'],_0x28f62e['type']=_0xddec1b[_0x246bf7(0xd5)];const _0x331878={};return _0x331878[_0x246bf7(0x18a)]=_0x4d0084,_0x331878[_0x246bf7(0x19b)]=_0x4597ee,_0x331878[_0x246bf7(0x151)]=_0x229e52,_0x331878[_0x246bf7(0x1c0)]=_0x28f62e,_0x3cdd82[_0x246bf7(0xf6)](_0x19161d['pre_check'])['epilogue'](_0xc13207)[_0x246bf7(0x12f)](_0x331878)[_0x246bf7(0x16c)](_0xddec1b[_0x246bf7(0x10b)])[_0x246bf7(0x192)];}};if(!_0xde968f[_0x246bf7(0x151)]){if(_0xddec1b[_0x246bf7(0x1a0)](_0xddec1b[_0x246bf7(0x179)],_0xddec1b[_0x246bf7(0x179)])){const {header:_0x4ffcfd,response:_0x499ed2}=_0x5f4a29,{status:_0x52cd67,data:_0x4a0f08,error:_0x92c627}=_0x499ed2;_0x255891+=_0x4ffcfd+'\x20#'+_0xddec1b['SvXOK'](_0x5f4b8f,0x1)+'\x0a',_0x5ecf18+=_0x246bf7(0x139)+(_0x52cd67?_0xddec1b[_0x246bf7(0x156)]:_0xddec1b['mXGPU'])+'\x0a',_0x41ae1a+=_0x246bf7(0x121)+_0xddec1b['iBume'](_0x4a0f08,_0xddec1b[_0x246bf7(0x144)])+'\x0a',_0x92c627&&(_0x2a7aa1+=_0xddec1b[_0x246bf7(0x14a)],_0x5b0628+='\x20\x20Message:\x20'+(_0x92c627[_0x246bf7(0x199)]||_0xddec1b['toHte'])+'\x0a',_0x1dc4d+='\x20\x20Code:\x20'+(_0x92c627[_0x246bf7(0x141)]||_0xddec1b[_0x246bf7(0x144)])+'\x0a',_0x345265+=_0x246bf7(0x16d)+(_0x92c627[_0x246bf7(0x1c3)]||_0xddec1b[_0x246bf7(0x144)])+'\x0a'),_0x107519+='\x0a\x0a';}else _0x5200ba[_0x246bf7(0xf4)](_0xddec1b['yxjyp']);};_0xddec1b['crgvP'](_0x5200ba[_0x246bf7(0xf8)],0x0)&&(_0xddec1b[_0x246bf7(0x1b6)](_0xddec1b[_0x246bf7(0x12e)],_0xddec1b[_0x246bf7(0x18c)])?_0x3a3b0c=_0xdfda5b:(_0x3edac5=_0x246bf7(0x1a7)+_0x5200ba[_0x246bf7(0x1ad)](',\x20')+_0x246bf7(0x12d),await _0xddec1b['DfbkV'](reportToGalactusAndSendToEDS,_0xde968f,_0x5520b8,_0x3edac5,messageTypes[_0x246bf7(0x157)],_0xddec1b[_0x246bf7(0x114)],_0xddec1b[_0x246bf7(0x107)],_0xddec1b['OiblY']),logger[_0x246bf7(0x130)](_0x3edac5),process[_0x246bf7(0x168)](0x1))),!ALL_SUPPORTED_CLOUD_PROVIDERS[_0x246bf7(0x17d)](_0xde968f[_0x246bf7(0xf7)][_0x246bf7(0x1a5)]())&&(_0xddec1b['ySNVp'](_0xddec1b['hQTcI'],_0xddec1b['hVGNQ'])?(_0x3edac5=_0xddec1b[_0x246bf7(0x155)],await _0xddec1b[_0x246bf7(0x108)](reportToGalactusAndSendToEDS,_0xde968f,_0x5520b8,_0x3edac5,messageTypes[_0x246bf7(0x157)],_0xddec1b[_0x246bf7(0x114)],_0xddec1b[_0x246bf7(0x191)],_0xddec1b[_0x246bf7(0x105)]),logger[_0x246bf7(0x130)](_0x3edac5),!_0xde968f[_0x246bf7(0xf7)]&&(_0xddec1b[_0x246bf7(0x116)](_0xddec1b[_0x246bf7(0xe6)],_0xddec1b[_0x246bf7(0xe6)])?(logger[_0x246bf7(0xe4)](_0x246bf7(0x163)+DEFAULT_CLUSTER_DETAILS[_0x246bf7(0x19f)]+'\x20'),_0xde968f[_0x246bf7(0xf7)]=DEFAULT_CLUSTER_DETAILS[_0x246bf7(0x19f)]):_0x4164ee[_0x246bf7(0xf4)](_0xddec1b['yxjyp']))):_0x30e6cc[_0x246bf7(0xf4)](_0xddec1b[_0x246bf7(0xeb)])),global_registry[_0x246bf7(0x145)]=_0xde968f[_0x246bf7(0x145)],global_registry[_0x246bf7(0xf7)]=_0xde968f[_0x246bf7(0xf7)],global_registry['clusterRegion']=_0xde968f[_0x246bf7(0x151)];}}else{if(_0xde968f[_0x246bf7(0x187)]){if(_0xddec1b[_0x246bf7(0x14d)](_0xddec1b[_0x246bf7(0xf0)],_0xddec1b[_0x246bf7(0xf0)]))_0x51215a['push'](_0xddec1b[_0x246bf7(0xd3)]);else{global_registry[_0x246bf7(0x187)]=_0xde968f[_0x246bf7(0x187)],logger[_0x246bf7(0xd7)](_0x246bf7(0x1bd)+_0xde968f[_0x246bf7(0x187)]);const _0x59f686=_0x246bf7(0x15c)+AG_API_URL+'/packages/cli/get-all-grid-profiles',_0x1a936b={};_0x1a936b[_0x246bf7(0x11a)]=_0xddec1b[_0x246bf7(0x17e)],_0x1a936b[_0x246bf7(0x12c)]=global_registry['authHeader'],_0x1a936b[_0x246bf7(0x11d)]=![];const _0x499766=_0x1a936b,_0x4226a8=await _0xddec1b[_0x246bf7(0x189)](got,_0x59f686,_0x499766),_0x2fa956=await _0xddec1b[_0x246bf7(0xfe)](responseValidation,_0x4226a8,_0xddec1b[_0x246bf7(0x117)],_0xddec1b[_0x246bf7(0x125)],_0xde968f,_0x5520b8);let _0x1ac60c={};if(_0xddec1b['nVKkP'](_0x2fa956,0xc8)){if(_0xddec1b[_0x246bf7(0x1b6)](_0xddec1b['gJJrP'],_0xddec1b['gJJrP'])){const _0x265050=JSON[_0x246bf7(0x19d)](_0x4226a8[_0x246bf7(0x120)]),_0x1fb3e0=_0x265050[_0x246bf7(0x188)](_0x26b85d=>_0x26b85d[_0x246bf7(0xe1)]===_0xde968f[_0x246bf7(0x187)])||null;_0xddec1b['kOkWI'](isUndefined,_0x1fb3e0)?_0xddec1b[_0x246bf7(0x1a0)](_0xddec1b[_0x246bf7(0x195)],_0xddec1b[_0x246bf7(0x195)])?(_0x28605f[_0x246bf7(0xe4)](_0x246bf7(0x163)+_0x5aed41[_0x246bf7(0x19f)]+'\x20'),_0x12a208[_0x246bf7(0xf7)]=_0x114a3d['CLOUD_PROVIDER']):(_0x3edac5=_0x246bf7(0x127)+_0xde968f['gridProfile']+_0x246bf7(0xe9),await _0xddec1b[_0x246bf7(0x14e)](reportToGalactusAndSendToEDS,_0xde968f,_0x5520b8,_0x3edac5,messageTypes['ERROR'],_0xddec1b[_0x246bf7(0x114)],_0xddec1b[_0x246bf7(0x1ab)],_0xddec1b[_0x246bf7(0x105)]),logger[_0x246bf7(0x130)](_0x3edac5),process[_0x246bf7(0x168)](0x1)):_0xddec1b['VUqhI'](_0xddec1b['iCwAd'],_0xddec1b[_0x246bf7(0x15b)])?_0x1e814f[_0x246bf7(0xe4)](_0x246bf7(0x112)+_0x41d40e[_0x246bf7(0x145)]+_0x246bf7(0x143)):_0x1ac60c=_0x1fb3e0;}else _0x439f4f[_0x246bf7(0x130)](_0xddec1b[_0x246bf7(0x19e)]),_0x3fcf11[_0x246bf7(0x168)](0x1);}else _0xddec1b[_0x246bf7(0xec)](_0xddec1b[_0x246bf7(0x150)],_0xddec1b['SmJPs'])?process[_0x246bf7(0x168)](0x1):(_0x595f59[_0x246bf7(0xe4)]('['+_0x31af48+_0x246bf7(0xfd)+_0x1cbc60[_0x246bf7(0x172)]+'\x20data\x20:\x20'+_0x2a786b['data']+_0x246bf7(0x197)+_0x97c2ee[_0x246bf7(0x130)]),_0x22829f['error']&&_0x15135a['error'](_0x246bf7(0x1a1)+_0x305960['error'][_0x246bf7(0x1c3)]));const _0x3c5c74={};_0x3c5c74['type']=WS_EVENTS[_0x246bf7(0x159)],_0x3c5c74[_0x246bf7(0x199)]=_0xddec1b[_0x246bf7(0xd9)],webSocketUtils['sendEventToBackend'](_0x5520b8,_0x3c5c74),global_registry['cloudProvider']=_0x1ac60c[_0x246bf7(0xf7)],global_registry['clusterRegion']=_0x1ac60c[_0x246bf7(0x151)],global_registry[_0x246bf7(0x145)]=_0x1ac60c[_0x246bf7(0x145)];}}else _0xddec1b[_0x246bf7(0x182)](_0xddec1b[_0x246bf7(0x180)],_0xddec1b['lnMiz'])?(logger[_0x246bf7(0x130)](_0xddec1b[_0x246bf7(0x19e)]),process[_0x246bf7(0x168)](0x1)):_0x9083cb[_0x246bf7(0x168)](0x1);}}else{const _0x3356fb={};_0x3356fb[_0x246bf7(0x1b0)]=_0x3a3b3a[_0x246bf7(0x159)],_0x3356fb[_0x246bf7(0x199)]=_0x592cfd,_0x35d325['sendEventToBackend'](_0xfe7562,_0x3356fb,_0xddec1b[_0x246bf7(0x105)],!![]);}}catch(_0x390471){_0xddec1b[_0x246bf7(0x11c)](_0xddec1b['wvCew'],_0xddec1b[_0x246bf7(0x158)])?(_0x578c3+=_0xddec1b[_0x246bf7(0x14a)],_0x2b9ab1+=_0x246bf7(0x1b3)+(_0x1cb897[_0x246bf7(0x199)]||_0xddec1b[_0x246bf7(0x144)])+'\x0a',_0x3dbd2f+=_0x246bf7(0x18e)+(_0x43cc63[_0x246bf7(0x141)]||_0xddec1b[_0x246bf7(0x144)])+'\x0a',_0x40c4fb+=_0x246bf7(0x16d)+(_0x5bc1dc[_0x246bf7(0x1c3)]||_0xddec1b['toHte'])+'\x0a'):(_0x3edac5=_0x246bf7(0x161)+_0x390471+':\x20'+_0x390471[_0x246bf7(0x1c3)],logger[_0x246bf7(0x130)](_0x3edac5),await _0xddec1b[_0x246bf7(0xfc)](reportToGalactusAndSendToEDS,_0xde968f,_0x5520b8,_0x3edac5,messageTypes[_0x246bf7(0x157)],_0xddec1b['chTnv'],_0xddec1b[_0x246bf7(0x191)],_0xddec1b[_0x246bf7(0x105)]),process[_0x246bf7(0x168)](0x1));}}function printResponse(_0x4662ce,_0x3f0ae8){const _0x5cd263=a17_0x57656a,_0x36f702={};_0x36f702[_0x5cd263(0x136)]=function(_0x255139,_0x56dc21){return _0x255139===_0x56dc21;},_0x36f702[_0x5cd263(0xe2)]='hKMXi',_0x36f702[_0x5cd263(0xdb)]=_0x5cd263(0x164);const _0x31bc35=_0x36f702;logger[_0x5cd263(0xe4)]('['+_0x4662ce+']\x20status\x20:\x20'+_0x3f0ae8[_0x5cd263(0x172)]+'\x20data\x20:\x20'+_0x3f0ae8[_0x5cd263(0x1c9)]+'\x20error\x20:\x20'+_0x3f0ae8[_0x5cd263(0x130)]),_0x3f0ae8[_0x5cd263(0x130)]&&(_0x31bc35['otyLK'](_0x31bc35[_0x5cd263(0xe2)],_0x31bc35['rTckv'])?_0x36532d['error'](_0x5cd263(0x1a1)+_0x1a348d[_0x5cd263(0x130)][_0x5cd263(0x1c3)]):logger[_0x5cd263(0x130)](_0x5cd263(0x1a1)+_0x3f0ae8[_0x5cd263(0x130)][_0x5cd263(0x1c3)]));}async function generateReport(_0x5246de,_0x145dac){const _0x52c7a4=a17_0x57656a,_0x199032={'LAFsV':function(_0x49589d,_0x5e2155){return _0x49589d+_0x5e2155;},'pItvC':_0x52c7a4(0x174),'vsaAi':_0x52c7a4(0x110),'GgmKi':function(_0x9ec8f1,_0x4446ce){return _0x9ec8f1||_0x4446ce;},'HwfTq':_0x52c7a4(0x183),'zLjHa':_0x52c7a4(0xe5),'HhdVY':'Cluster\x20details\x0a-----------------------\x0a','DggFk':function(_0xf53b1b,_0x5146db){return _0xf53b1b!=_0x5146db;},'Didvk':_0x52c7a4(0x167),'CwrdZ':'will\x20be\x20created','SjwtK':function(_0x47307d){return _0x47307d();}};let _0x7e8aa=_0x52c7a4(0x198)+global_registry[_0x52c7a4(0xf7)]+'\x20===\x0a\x0a';return _0x5246de[_0x52c7a4(0x149)]((_0x305dea,_0x523639)=>{const _0x39ae32=_0x52c7a4,{header:_0xd095b,response:_0x2b743f}=_0x305dea,{status:_0x5a5eab,data:_0x8c720e,error:_0x24f53c}=_0x2b743f;_0x7e8aa+=_0xd095b+'\x20#'+_0x199032[_0x39ae32(0x17f)](_0x523639,0x1)+'\x0a',_0x7e8aa+='Status:\x20'+(_0x5a5eab?_0x199032['pItvC']:_0x199032['vsaAi'])+'\x0a',_0x7e8aa+='Message:\x20'+_0x199032['GgmKi'](_0x8c720e,_0x199032[_0x39ae32(0x13f)])+'\x0a',_0x24f53c&&(_0x7e8aa+=_0x199032[_0x39ae32(0x146)],_0x7e8aa+=_0x39ae32(0x1b3)+(_0x24f53c[_0x39ae32(0x199)]||_0x199032[_0x39ae32(0x13f)])+'\x0a',_0x7e8aa+=_0x39ae32(0x18e)+(_0x24f53c[_0x39ae32(0x141)]||_0x199032[_0x39ae32(0x13f)])+'\x0a',_0x7e8aa+=_0x39ae32(0x16d)+(_0x24f53c[_0x39ae32(0x1c3)]||_0x199032[_0x39ae32(0x13f)])+'\x0a'),_0x7e8aa+='\x0a\x0a';}),_0x7e8aa+=_0x199032['HhdVY'],_0x199032[_0x52c7a4(0x1c2)](_0x145dac,null)?_0x7e8aa+=_0x52c7a4(0x10e)+global_registry[_0x52c7a4(0x145)]+'\x20'+(_0x145dac?_0x199032[_0x52c7a4(0x1a6)]:_0x199032['CwrdZ'])+'\x0a\x0a':_0x7e8aa+=_0x52c7a4(0x10e)+global_registry['clusterName']+_0x52c7a4(0x11f),_0x7e8aa+=_0x199032[_0x52c7a4(0x16f)](getSystemMetaData),_0x7e8aa;};exports[a17_0x57656a(0xef)]=async function(_0x510342){const _0x201c6f=a17_0x57656a,_0x310f7e={'URcjt':function(_0xdafe3e){return _0xdafe3e();},'QAapC':function(_0x3f3566){return _0x3f3566();},'tEOEX':_0x201c6f(0x12b),'gBeqa':function(_0x427634,_0x5ea166,_0x3dc9de,_0x3b9529,_0x57d062,_0x23f456,_0x3e763f,_0x1edd41){return _0x427634(_0x5ea166,_0x3dc9de,_0x3b9529,_0x57d062,_0x23f456,_0x3e763f,_0x1edd41);},'BVWey':_0x201c6f(0x162),'SVSEi':_0x201c6f(0x101),'aDYZL':'error','zjXJD':function(_0x4a1280,_0x20458b,_0xe45b46,_0x8faeb8,_0x5bab83,_0x228528,_0x21fc31){return _0x4a1280(_0x20458b,_0xe45b46,_0x8faeb8,_0x5bab83,_0x228528,_0x21fc31);},'hGZrg':'<UsernamePlaceholder>','UKaxp':_0x201c6f(0x10f),'Dotuc':function(_0x50bf21,_0x3f49c1,_0xd3b37a){return _0x50bf21(_0x3f49c1,_0xd3b37a);},'WBVpm':function(_0x3542cc,_0x4b96c6,_0x461d03){return _0x3542cc(_0x4b96c6,_0x461d03);},'duxNz':_0x201c6f(0x123),'apTYU':function(_0x516b71,_0x508cd4,_0x1e4092){return _0x516b71(_0x508cd4,_0x1e4092);},'imSuN':_0x201c6f(0xd8),'ivWhj':_0x201c6f(0x170),'KCVKt':function(_0x50aeeb,_0xc09041,_0x80023a,_0x1d792c,_0x4e461c,_0x5d1b6b,_0x5e20c6,_0x543b3a){return _0x50aeeb(_0xc09041,_0x80023a,_0x1d792c,_0x4e461c,_0x5d1b6b,_0x5e20c6,_0x543b3a);},'mXdET':_0x201c6f(0x126),'WUmRl':function(_0x3f361d){return _0x3f361d();},'ZkhHO':function(_0x24712a,_0x1fc8b2,_0x149da7){return _0x24712a(_0x1fc8b2,_0x149da7);},'mdFSm':'isTrialGridAccessible','QDdxB':function(_0xbb6d72,_0x334043){return _0xbb6d72(_0x334043);},'XslXP':_0x201c6f(0x1b5),'STHHd':_0x201c6f(0xf3),'qUsSK':_0x201c6f(0x104),'qQzho':'User\x20Access','OFYDs':_0x201c6f(0x142),'fdXRA':'SSL\x20Configured','EktzG':function(_0x1a2d99,_0x7af77e,_0x1b8c0a){return _0x1a2d99(_0x7af77e,_0x1b8c0a);},'GgtnB':function(_0x3d7d2c,_0x56f5ec){return _0x3d7d2c+_0x56f5ec;},'xhNOl':_0x201c6f(0x1cb),'jhZiQ':_0x201c6f(0x135)};let _0x9fd395,_0x22cc8f;try{global_registry['requestId']=_0x310f7e['URcjt'](uuidv4);!fs[_0x201c6f(0xe3)](_0x310f7e[_0x201c6f(0xdc)](getCredentialsPath))&&(_0x22cc8f=_0x310f7e['tEOEX'],logger['error'](_0x22cc8f),await _0x310f7e[_0x201c6f(0x19c)](reportToGalactusAndSendToEDS,_0x510342,_0x9fd395,_0x22cc8f,messageTypes[_0x201c6f(0x157)],_0x310f7e['BVWey'],_0x310f7e[_0x201c6f(0x15d)],_0x310f7e[_0x201c6f(0x10d)]),process[_0x201c6f(0x168)](0x1));_0x310f7e[_0x201c6f(0x1a8)](sendInstrumentationEvent,_0x510342,_0x310f7e['BVWey'],messageTypes[_0x201c6f(0x109)],null,null,_0x510342);const _0x3c9d84=JSON['parse'](fs[_0x201c6f(0x1b8)](_0x310f7e['URcjt'](getCredentialsPath)));global_registry['bstackUsername']=_0x3c9d84[_0x201c6f(0x13e)][_0x201c6f(0x11b)],global_registry[_0x201c6f(0x166)]=_0x3c9d84[_0x201c6f(0x13e)][_0x201c6f(0x1a3)];const _0x52b237=WS_ENDPOINT[_0x201c6f(0x122)](_0x310f7e[_0x201c6f(0x178)],_0x3c9d84[_0x201c6f(0x13e)][_0x201c6f(0x11b)])[_0x201c6f(0x122)](_0x310f7e[_0x201c6f(0x124)],_0x3c9d84[_0x201c6f(0x13e)][_0x201c6f(0x1a3)]),_0x7478b9={};_0x7478b9[_0x201c6f(0x1b1)]=ws,_0x7478b9[_0x201c6f(0x194)]=0x36ee80,_0x9fd395=new ReconnectingWebSocket(_0x52b237,[],_0x7478b9),global_registry['authHeader']=_0x310f7e['Dotuc'](getAuthHeader,global_registry[_0x201c6f(0x193)],global_registry['bstackAccesskey']),await _0x310f7e[_0x201c6f(0x1a4)](inputValidation,_0x510342,_0x9fd395),logger[_0x201c6f(0xe4)](_0x201c6f(0x160)+global_registry[_0x201c6f(0xf7)]+'\x20region\x20-\x20'+global_registry[_0x201c6f(0x196)]);let _0x5ef4f4=await _0x310f7e[_0x201c6f(0x1a8)](getCloudProviderObjectWithOutInit,global_registry[_0x201c6f(0xf7)],global_registry[_0x201c6f(0x145)],_0x310f7e[_0x201c6f(0x132)],_0x9fd395,webSocketUtils,_0x510342);const _0xfa6736=await _0x5ef4f4[_0x201c6f(0x14c)]();_0x310f7e[_0x201c6f(0x1aa)](printResponse,_0x310f7e['imSuN'],_0xfa6736),_0x5ef4f4=await _0x5ef4f4[_0x201c6f(0x102)]();let _0x1ff528=![];try{_0x1ff528=await _0x5ef4f4['isClusterPresent']();}catch(_0x4ee683){const _0x43b9cf=_0x310f7e['ivWhj'][_0x201c6f(0x129)]('|');let _0x2bf9f1=0x0;while(!![]){switch(_0x43b9cf[_0x2bf9f1++]){case'0':_0x1ff528=null;continue;case'1':await _0x310f7e[_0x201c6f(0xdd)](reportToGalactusAndSendToEDS,_0x510342,_0x9fd395,_0x22cc8f,messageTypes['ERROR'],_0x310f7e[_0x201c6f(0x1bc)],'cluster-check-failed-'+global_registry[_0x201c6f(0xf7)],_0x310f7e[_0x201c6f(0x10d)]);continue;case'2':_0x22cc8f+='\x0a'+JSON[_0x201c6f(0x169)](_0x4ee683[_0x201c6f(0x1c3)]);continue;case'3':logger[_0x201c6f(0x130)](_0x22cc8f);continue;case'4':_0x22cc8f=_0x201c6f(0x111)+global_registry['clusterName']+_0x201c6f(0x115)+global_registry[_0x201c6f(0x196)]+_0x201c6f(0x1a2)+_0x4ee683;continue;}break;}}_0x1ff528&&logger[_0x201c6f(0xe4)]('Cluster\x20`'+global_registry[_0x201c6f(0x145)]+_0x201c6f(0x143));const _0x4c513f=await _0x5ef4f4[_0x201c6f(0xe8)]();_0x310f7e[_0x201c6f(0x131)](printResponse,_0x310f7e[_0x201c6f(0x12a)],_0x4c513f);const _0xb1a96b=await _0x310f7e[_0x201c6f(0x1b9)](curlRequest);_0x310f7e[_0x201c6f(0x17b)](printResponse,_0x310f7e[_0x201c6f(0x13a)],_0xb1a96b);const _0x2754b1=await _0x310f7e['QDdxB'](isTlsSupported,_0x310f7e['XslXP']);_0x310f7e[_0x201c6f(0x1a4)](printResponse,_0x310f7e[_0x201c6f(0x165)],_0x2754b1);const _0x83637d={};_0x83637d['header']=_0x310f7e[_0x201c6f(0x17c)],_0x83637d[_0x201c6f(0xea)]=_0xfa6736;const _0x4def2d={};_0x4def2d['header']=_0x310f7e[_0x201c6f(0x153)],_0x4def2d[_0x201c6f(0xea)]=_0x4c513f;const _0x2eaad5={};_0x2eaad5[_0x201c6f(0xe7)]=_0x310f7e[_0x201c6f(0x15a)],_0x2eaad5['response']=_0xb1a96b;const _0x329540={};_0x329540[_0x201c6f(0xe7)]=_0x310f7e['fdXRA'],_0x329540[_0x201c6f(0xea)]=_0x2754b1;const _0x390d49=[_0x83637d,_0x4def2d,_0x2eaad5,_0x329540],_0x4718c3=await _0x310f7e['EktzG'](generateReport,_0x390d49,_0x1ff528),_0x3120a9=new Date(),_0x11f341=_0x3120a9['getUTCFullYear']()+'_'+_0x310f7e[_0x201c6f(0x1bf)](_0x3120a9['getUTCMonth'](),0x1)+'_'+_0x3120a9[_0x201c6f(0x1b2)]()+'_'+_0x3120a9[_0x201c6f(0x14f)]()+'_'+_0x3120a9[_0x201c6f(0xee)](),_0x13e5c0=_0x201c6f(0x1be)+_0x11f341+_0x201c6f(0x13c);fs['writeFileSync'](_0x13e5c0,_0x4718c3,_0x310f7e['xhNOl']),logger['info'](_0x201c6f(0x14b)+_0x13e5c0),process['exit'](0x0);}catch(_0x34cec1){let _0x16e304=_0x201c6f(0xde)+_0x34cec1+'\x20';logger[_0x201c6f(0x130)](_0x16e304),_0x16e304+='\x0a'+JSON[_0x201c6f(0x169)](_0x34cec1[_0x201c6f(0x1c3)]),logger[_0x201c6f(0xd7)](_0x201c6f(0x1c1)+_0x34cec1[_0x201c6f(0x1c3)]);if(_0x9fd395){const _0x17c6fd={};_0x17c6fd[_0x201c6f(0x1b0)]=WS_EVENTS[_0x201c6f(0x159)],_0x17c6fd[_0x201c6f(0x199)]=_0x16e304,webSocketUtils[_0x201c6f(0x190)](_0x9fd395,_0x17c6fd,_0x310f7e[_0x201c6f(0x10d)],!![]);}await webSocketUtils[_0x201c6f(0xd6)](0x7d0);const _0x5408f2={};_0x5408f2[_0x201c6f(0x130)]=_0x16e304,await _0x310f7e['zjXJD'](sendInstrumentationEvent,_0x510342,_0x310f7e[_0x201c6f(0x1bc)],messageTypes[_0x201c6f(0x157)],_0x310f7e['jhZiQ'],_0x5408f2,_0x510342),process[_0x201c6f(0x168)](0x1);}};