const a17_0x3a5b8f=a17_0x1c81;function a17_0xd564(){const _0x579b40=['tpbtk','builder','PMfoi','checkAccess','../../config/constants','GCavG','Report\x20saved\x20in\x20','Message:\x20','pre-check','meGtm','DLqNM','.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again','Setting\x20cloud\x20provider\x20as\x20','RBEda','delay','VnyTE','grid','Browserstack','method','GhyaH','User\x20Access','isClusterPresent','Status:\x20','2299phPcNC','OKrPS','epilogue','data','XAVkN','existsSync','debug','zYzjU','DwcTq','NCmoT','../../utils/utilityMethods','/packages/cli/get-all-grid-profiles','GSmlj','Cluster\x20details\x0a-----------------------\x0a','<UsernamePlaceholder>',']\x20status\x20:\x20','clusterRegion','Whitelisted\x20browserstack','uQkMK','GET','nuogN','info','KMrmG','HQwcx','Qifyl','includes','cICcN','Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','nqKmu','Tool\x20Installed','stack\x20trace\x20','1704984oorRMQ','\x20error\x20:\x20','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','LFSVW','handler','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','560367MCwAIT','ThZji','Jxrak','argv','eDLFf','init','Cluster\x20','pre-check-grid-called','WDmQX','.txt','bstackUsername','KkqgK','usage','ugoiw','rwujM','pre-check-failed','78370fnFcUV','JOzrv','Ibmjk','WLiHf','utf-8','join','is\x20already\x20present','48zOgISY','log/report_','DkvoM','IKySv','Cluster\x20`','https://','BVEbC','TxEbz','46CAZiXN','wGLhF','push','region','replace','uymMV','message','hUqPJ','../../utils/webSocketUtils','BrBKy','TISxs','\x20===\x0a\x0a','MRjgq','bstackAccesskey','DCGEs','length','WebSocket','moqcW','qHHxW','ERROR','CGYBR','RLTRg','`\x20already\x20exists','kGGIW','find','LhjNI','status','exit','name','xGvTT','\x20\x20Stack:\x20','cloud-provider','vADZs','rAdgF','FIwgI','sjyzF','Wbpuw','getUTCDate','will\x20be\x20created','VIXSc','yfovX','Failure','jNQtt','pre_check','TwtaB','string','28380lQRrVt','LOG','Pre-check\x20running\x20for\x20Cloud\x20-\x20','accessResp','aNhPr','yQQyB','response','stack','KkihI','FvrrJ','credential-not-found','body','MnyxN','QyPjm','NkROI','SSL\x20Configured','Tkpua','split','===\x20Precheck\x20Report\x20-\x20','kgSHH','\x20data\x20:\x20','gridProfile','169191VxlkPy','fMRgX','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','JnuCZ','cloudProvider','`\x20,error\x20:\x20','cluster-name','LvTnL','username','type','ZryDF','TLSv1_2_client_method','isTls1_2_SUPPORTED','eYsEc','xwcsF','header','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','XGMAu','cluster-check-failed-','\x20\x20Message:\x20','INFO','RSRPi','options','writeFileSync','getUTCHours','\x20region\x20-\x20','../../config/logger','CLOUD_PROVIDER','description','obBoI','clusterName','iVzkQ','stringify','unable\x20to\x20verify\x20if\x20cluster\x20`','17268fCkMjo','password','SkKrR','../../utils/instrumentationUtils','sendEventToBackend','KXqeh','vFSTp','toLowerCase','../../cloudproviders/utils','MABCc','uuid','forEach','56MaCvwc','muirk','sKBAl','vctSB','<PasswordPlaceholder>','error\x20stack\x20:\x20','MFTOs','got','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','jnRDE','connectionTimeout','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','throwHttpErrors','YKTTT','ReZJG','toolInstalledResp','QhSbs','code','error','BDVXs','uNTsE','JpYQI','authHeader','eTsGN','grid\x20profile\x20flow\x20','grid-profile','CHcEW','SfRWy','oeJIQ','flCCv','mNuUb','readFileSync','nQUJG','jfQPP','Mabqf','gVnGY','2|3|1|0|4','SLBNI','HNizg','wUjmQ','isTrialGridAccessible','jRFNx','\x20\x20Code:\x20','SKwkH','bqhMU','Missing\x20required\x20arguments:\x20','5683FvJGtw','bCuUQ','mdYch','GONOr','cloud-provider-not-supported'];a17_0xd564=function(){return _0x579b40;};return a17_0xd564();}function a17_0x1c81(_0x4ffd06,_0x477f15){const _0xd564be=a17_0xd564();return a17_0x1c81=function(_0x1c816d,_0x4ce0b0){_0x1c816d=_0x1c816d-0x107;let _0x9e0670=_0xd564be[_0x1c816d];return _0x9e0670;},a17_0x1c81(_0x4ffd06,_0x477f15);}(function(_0x18cc38,_0x3ee17f){const _0x507c51=a17_0x1c81,_0x158fec=_0x18cc38();while(!![]){try{const _0x2474e2=-parseInt(_0x507c51(0x1c0))/0x1*(-parseInt(_0x507c51(0x120))/0x2)+parseInt(_0x507c51(0x201))/0x3+parseInt(_0x507c51(0x118))/0x4*(parseInt(_0x507c51(0x111))/0x5)+-parseInt(_0x507c51(0x186))/0x6*(parseInt(_0x507c51(0x192))/0x7)+parseInt(_0x507c51(0x1fb))/0x8+parseInt(_0x507c51(0x164))/0x9+-parseInt(_0x507c51(0x14e))/0xa*(parseInt(_0x507c51(0x1dc))/0xb);if(_0x2474e2===_0x3ee17f)break;else _0x158fec['push'](_0x158fec['shift']());}catch(_0x552f8c){_0x158fec['push'](_0x158fec['shift']());}}}(a17_0xd564,0x1d9fe));const fs=require('fs'),ws=require('ws'),got=require(a17_0x3a5b8f(0x199)),{v4:uuidv4}=require(a17_0x3a5b8f(0x190)),ReconnectingWebSocket=require('reconnecting-websocket'),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require(a17_0x3a5b8f(0x1e6)),{logger}=require(a17_0x3a5b8f(0x17e)),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require(a17_0x3a5b8f(0x1c9)),{getCloudProviderObjectWithOutInit}=require(a17_0x3a5b8f(0x18e)),webSocketUtils=require(a17_0x3a5b8f(0x128)),{sendInstrumentationEvent}=require(a17_0x3a5b8f(0x189));exports['command']=a17_0x3a5b8f(0x1d5),exports['desc']='Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup',exports[a17_0x3a5b8f(0x1c6)]=function(_0x2e339b){const _0x5d2fd7=a17_0x3a5b8f,_0x1795e3={};_0x1795e3[_0x5d2fd7(0x203)]=_0x5d2fd7(0x19d),_0x1795e3[_0x5d2fd7(0x12e)]='string',_0x1795e3[_0x5d2fd7(0x152)]='Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.',_0x1795e3[_0x5d2fd7(0x179)]=_0x5d2fd7(0x174),_0x1795e3[_0x5d2fd7(0x1b8)]=_0x5d2fd7(0x200),_0x1795e3[_0x5d2fd7(0x1b2)]='help';const _0x397ba5=_0x1795e3,_0x4d9ec6={};_0x4d9ec6[_0x5d2fd7(0x180)]=_0x397ba5[_0x5d2fd7(0x203)],_0x4d9ec6[_0x5d2fd7(0x16d)]=_0x397ba5[_0x5d2fd7(0x12e)];const _0x5e43d4={};_0x5e43d4[_0x5d2fd7(0x180)]=_0x397ba5[_0x5d2fd7(0x152)],_0x5e43d4[_0x5d2fd7(0x16d)]=_0x397ba5['DCGEs'];const _0x238185={};_0x238185[_0x5d2fd7(0x180)]=_0x397ba5[_0x5d2fd7(0x179)],_0x238185[_0x5d2fd7(0x16d)]=_0x397ba5[_0x5d2fd7(0x12e)];const _0x108f33={};_0x108f33['description']=_0x397ba5[_0x5d2fd7(0x1b8)],_0x108f33['type']=_0x397ba5['DCGEs'];const _0xe0f2c={};return _0xe0f2c[_0x5d2fd7(0x16a)]=_0x4d9ec6,_0xe0f2c['cloud-provider']=_0x5e43d4,_0xe0f2c[_0x5d2fd7(0x123)]=_0x238185,_0xe0f2c[_0x5d2fd7(0x1ab)]=_0x108f33,_0x2e339b[_0x5d2fd7(0x10d)](HELP_HEADER_MESSAGE[_0x5d2fd7(0x14b)])['epilogue'](HELP_FOOTER_MESSAGE)[_0x5d2fd7(0x17a)](_0xe0f2c)['help'](_0x397ba5[_0x5d2fd7(0x1b2)])[_0x5d2fd7(0x204)];};async function inputValidation(_0x213bd4,_0x2b089b){const _0x266cb3=a17_0x3a5b8f,_0x21109f={'ZryDF':_0x266cb3(0x19d),'Tkpua':_0x266cb3(0x14d),'flCCv':_0x266cb3(0x166),'YhghN':_0x266cb3(0x174),'cICcN':_0x266cb3(0x200),'DkvoM':'help','qFzkU':_0x266cb3(0x123),'VIXSc':'Error\x20Details:\x0a','sjyzF':'N/A','uymMV':function(_0x5483d4,_0x10dd7d){return _0x5483d4+_0x10dd7d;},'GSmlj':'Success','sKBAl':_0x266cb3(0x149),'JpYQI':function(_0x40cc38,_0x4dfd8d){return _0x40cc38||_0x4dfd8d;},'eYsEc':'Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','JOzrv':_0x266cb3(0x16a),'CGYBR':_0x266cb3(0x13f),'eTsGN':'error','yQQyB':function(_0x436a78,_0x20b248){return _0x436a78!==_0x20b248;},'nSUkD':_0x266cb3(0x175),'oeJIQ':'NCRTm','SKwkH':function(_0x8c0bf9,_0xf28771){return _0x8c0bf9!==_0xf28771;},'xwcsF':_0x266cb3(0x183),'NCmoT':function(_0x1b7663,_0x587819){return _0x1b7663!==_0x587819;},'twEiU':_0x266cb3(0x11e),'LhjNI':function(_0x2278ed,_0x2c399a){return _0x2278ed===_0x2c399a;},'QyPjm':_0x266cb3(0x198),'WDmQX':function(_0x3c6f0e,_0x299f18){return _0x3c6f0e!==_0x299f18;},'zYzjU':_0x266cb3(0x12c),'ClcQp':_0x266cb3(0x1d4),'nqKmu':function(_0x5c8cd1,_0x27782b){return _0x5c8cd1>_0x27782b;},'GCavG':_0x266cb3(0x188),'OKrPS':'aFXYn','KLJqt':function(_0x10896d,_0x56f0c1,_0x532052,_0x34b99b,_0xf69126,_0x4fe767,_0x1102f2,_0x67d005){return _0x10896d(_0x56f0c1,_0x532052,_0x34b99b,_0xf69126,_0x4fe767,_0x1102f2,_0x67d005);},'Qifyl':_0x266cb3(0x108),'Otyru':'pre-check-cluster-args-not-passed','rAdgF':_0x266cb3(0x1b5),'NtysS':_0x266cb3(0x1f7),'JLaTv':function(_0xe931c9,_0x3846dd,_0x4cc5ef,_0x4f57cf,_0x2ac58c,_0x37e2f6,_0x262b6b,_0x1453c5){return _0xe931c9(_0x3846dd,_0x4cc5ef,_0x4f57cf,_0x2ac58c,_0x37e2f6,_0x262b6b,_0x1453c5);},'uQkMK':_0x266cb3(0x1c4),'GONOr':function(_0x42f9e6,_0x3c3a0d){return _0x42f9e6===_0x3c3a0d;},'JnuCZ':_0x266cb3(0x16b),'KXqeh':function(_0x754bb9,_0x4655f1){return _0x754bb9!==_0x4655f1;},'SCXYq':_0x266cb3(0x1b0),'uQBkP':_0x266cb3(0x1e0),'ReZJG':_0x266cb3(0x1ef),'kgSHH':function(_0xee4ea8,_0xeee0c3,_0x2117a2){return _0xee4ea8(_0xeee0c3,_0x2117a2);},'QhSbs':function(_0x5cac22,_0x15d584,_0x18fabe,_0x17e96d,_0x11b021,_0x51a171){return _0x5cac22(_0x15d584,_0x18fabe,_0x17e96d,_0x11b021,_0x51a171);},'qHHxW':_0x266cb3(0x1cd),'moqcW':_0x266cb3(0x1ab),'Ibmjk':function(_0x549d59,_0x2d5438){return _0x549d59===_0x2d5438;},'DLqNM':function(_0x17de40,_0x5033a7){return _0x17de40===_0x5033a7;},'IKySv':'mvTxY','wGLhF':'jRCvC','SLBNI':function(_0x902e92,_0x10f76b){return _0x902e92(_0x10f76b);},'LFSVW':function(_0x4b0176,_0x5eb085){return _0x4b0176===_0x5eb085;},'PMfoi':_0x266cb3(0x14a),'yfovX':function(_0x5a088a,_0x23cf90,_0xe6ca48,_0x4a028d,_0x264cd0,_0x232e78,_0xb971dc,_0xbb3ba7){return _0x5a088a(_0x23cf90,_0xe6ca48,_0x4a028d,_0x264cd0,_0x232e78,_0xb971dc,_0xbb3ba7);},'Wbpuw':'pre-check-grid-profile-empty','DwcTq':function(_0x2a3629,_0x2f729f){return _0x2a3629!==_0x2f729f;},'HQwcx':'kJgLf','wUjmQ':'jFPXp','jfQPP':function(_0x51a0c2,_0x28da5e){return _0x51a0c2!==_0x28da5e;},'mdYch':_0x266cb3(0x12a),'fMRgX':'EuNuB','KMrmG':'Grid\x20profile\x20fetched\x20for\x20pre-check','muirk':_0x266cb3(0x18c),'TwtaB':'yqzAr','SfRWy':function(_0x276e98,_0x59a1d4,_0x93eec3,_0x31b661,_0x473561,_0x5d5f2e,_0x3b6bee,_0x5d6c91){return _0x276e98(_0x59a1d4,_0x93eec3,_0x31b661,_0x473561,_0x5d5f2e,_0x3b6bee,_0x5d6c91);}};let _0x3c688c;try{if(_0x21109f[_0x266cb3(0x153)](_0x21109f['nSUkD'],_0x21109f[_0x266cb3(0x1ae)])){if(_0x213bd4[_0x266cb3(0x182)]||_0x213bd4[_0x266cb3(0x168)]||_0x213bd4[_0x266cb3(0x123)]){if(_0x21109f[_0x266cb3(0x1bd)](_0x21109f[_0x266cb3(0x172)],_0x21109f[_0x266cb3(0x172)]))_0x2516dd+=_0x266cb3(0x107)+_0x4e0a7d[_0x266cb3(0x182)]+_0x266cb3(0x1fd);else{const _0x272dc8=[];if(!_0x213bd4[_0x266cb3(0x182)]){if(_0x21109f[_0x266cb3(0x1e5)](_0x21109f['twEiU'],_0x21109f['twEiU'])){const _0x12744d={};_0x12744d['description']=_0x21109f[_0x266cb3(0x16e)],_0x12744d[_0x266cb3(0x16d)]=_0x21109f[_0x266cb3(0x15e)];const _0x5c321f={};_0x5c321f['description']=_0x21109f[_0x266cb3(0x1af)],_0x5c321f['type']=_0x21109f[_0x266cb3(0x15e)];const _0x11bd90={};_0x11bd90[_0x266cb3(0x180)]=_0x21109f['YhghN'],_0x11bd90['type']=_0x21109f['Tkpua'];const _0x17f047={};_0x17f047['description']=_0x21109f[_0x266cb3(0x1f6)],_0x17f047[_0x266cb3(0x16d)]=_0x21109f[_0x266cb3(0x15e)];const _0x1c3f93={};return _0x1c3f93[_0x266cb3(0x16a)]=_0x12744d,_0x1c3f93['cloud-provider']=_0x5c321f,_0x1c3f93[_0x266cb3(0x123)]=_0x11bd90,_0x1c3f93['grid-profile']=_0x17f047,_0x159517['usage'](_0xf4dc3d[_0x266cb3(0x14b)])[_0x266cb3(0x1de)](_0xa6af75)[_0x266cb3(0x17a)](_0x1c3f93)['help'](_0x21109f[_0x266cb3(0x11a)])[_0x266cb3(0x204)];}else _0x272dc8[_0x266cb3(0x122)](_0x21109f[_0x266cb3(0x112)]);};!_0x213bd4[_0x266cb3(0x168)]&&(_0x21109f[_0x266cb3(0x139)](_0x21109f['QyPjm'],_0x21109f[_0x266cb3(0x15b)])?_0x272dc8[_0x266cb3(0x122)](_0x21109f[_0x266cb3(0x134)]):_0x245a88['push'](_0x21109f['qFzkU']));;!_0x213bd4[_0x266cb3(0x123)]&&(_0x21109f[_0x266cb3(0x109)](_0x21109f[_0x266cb3(0x1e3)],_0x21109f['ClcQp'])?_0x272dc8[_0x266cb3(0x122)](_0x21109f['qFzkU']):(_0x4501c1+=_0x21109f['VIXSc'],_0x2ee08b+=_0x266cb3(0x177)+(_0x37391d[_0x266cb3(0x126)]||_0x21109f['sjyzF'])+'\x0a',_0x1ee09f+=_0x266cb3(0x1bc)+(_0x128d96[_0x266cb3(0x1a3)]||_0x21109f[_0x266cb3(0x143)])+'\x0a',_0x5eb238+=_0x266cb3(0x13e)+(_0x99a6c4[_0x266cb3(0x155)]||_0x21109f['sjyzF'])+'\x0a'));;_0x21109f[_0x266cb3(0x1f8)](_0x272dc8[_0x266cb3(0x12f)],0x0)&&(_0x21109f[_0x266cb3(0x1bd)](_0x21109f[_0x266cb3(0x1ca)],_0x21109f[_0x266cb3(0x1dd)])?(_0x3c688c=_0x266cb3(0x1bf)+_0x272dc8[_0x266cb3(0x116)](',\x20')+'.\x20Please\x20provide\x20all\x20required\x20arguments.',await _0x21109f['KLJqt'](reportToGalactusAndSendToEDS,_0x213bd4,_0x2b089b,_0x3c688c,messageTypes[_0x266cb3(0x133)],_0x21109f['Qifyl'],_0x21109f['Otyru'],_0x21109f[_0x266cb3(0x1a9)]),logger['error'](_0x3c688c),process[_0x266cb3(0x13b)](0x1)):_0x186924['info'](_0x266cb3(0x11c)+_0x2cbfd4['clusterName']+_0x266cb3(0x136)));if(!ALL_SUPPORTED_CLOUD_PROVIDERS[_0x266cb3(0x1f5)](_0x213bd4[_0x266cb3(0x168)][_0x266cb3(0x18d)]())){if(_0x21109f[_0x266cb3(0x139)](_0x21109f[_0x266cb3(0x141)],_0x21109f['rAdgF'])){_0x3c688c=_0x21109f['NtysS'],await _0x21109f['JLaTv'](reportToGalactusAndSendToEDS,_0x213bd4,_0x2b089b,_0x3c688c,messageTypes[_0x266cb3(0x133)],_0x21109f['Qifyl'],_0x21109f[_0x266cb3(0x1ee)],_0x21109f[_0x266cb3(0x1a9)]),logger['error'](_0x3c688c);if(!_0x213bd4['cloudProvider']){if(_0x21109f[_0x266cb3(0x1c3)](_0x21109f[_0x266cb3(0x167)],_0x21109f['JnuCZ']))logger['info'](_0x266cb3(0x1d1)+DEFAULT_CLUSTER_DETAILS['CLOUD_PROVIDER']+'\x20'),_0x213bd4[_0x266cb3(0x168)]=DEFAULT_CLUSTER_DETAILS[_0x266cb3(0x17f)];else{const {header:_0x174f01,response:_0x2ae52a}=_0x2e93cd,{status:_0xe69cb5,data:_0x22cf0b,error:_0x5aacb8}=_0x2ae52a;_0x2ab4e0+=_0x174f01+'\x20#'+_0x21109f[_0x266cb3(0x125)](_0x481912,0x1)+'\x0a',_0x29d367+=_0x266cb3(0x1db)+(_0xe69cb5?_0x21109f[_0x266cb3(0x1e8)]:_0x21109f[_0x266cb3(0x194)])+'\x0a',_0x1fe6de+=_0x266cb3(0x1cc)+_0x21109f[_0x266cb3(0x1a7)](_0x22cf0b,_0x21109f['sjyzF'])+'\x0a',_0x5aacb8&&(_0x1bbc8f+=_0x21109f[_0x266cb3(0x147)],_0xcb0fcb+='\x20\x20Message:\x20'+(_0x5aacb8[_0x266cb3(0x126)]||_0x21109f[_0x266cb3(0x143)])+'\x0a',_0x2606a9+=_0x266cb3(0x1bc)+(_0x5aacb8['code']||_0x21109f[_0x266cb3(0x143)])+'\x0a',_0x385028+=_0x266cb3(0x13e)+(_0x5aacb8[_0x266cb3(0x155)]||_0x21109f[_0x266cb3(0x143)])+'\x0a'),_0x562c24+='\x0a\x0a';}}}else _0x2ebdaf[_0x266cb3(0x1f1)](_0x266cb3(0x1d1)+_0x4836c0[_0x266cb3(0x17f)]+'\x20'),_0x2061c4[_0x266cb3(0x168)]=_0x731fc2[_0x266cb3(0x17f)];}global_registry[_0x266cb3(0x182)]=_0x213bd4[_0x266cb3(0x182)],global_registry[_0x266cb3(0x168)]=_0x213bd4['cloudProvider'],global_registry[_0x266cb3(0x1ec)]=_0x213bd4['region'];}}else{if(_0x213bd4[_0x266cb3(0x163)]){if(_0x21109f[_0x266cb3(0x18b)](_0x21109f['SCXYq'],_0x21109f['uQBkP'])){global_registry[_0x266cb3(0x163)]=_0x213bd4[_0x266cb3(0x163)],logger['debug'](_0x266cb3(0x1aa)+_0x213bd4[_0x266cb3(0x163)]);const _0x3a6d7e=_0x266cb3(0x11d)+AG_API_URL+_0x266cb3(0x1e7),_0x112b56={};_0x112b56[_0x266cb3(0x1d7)]=_0x21109f[_0x266cb3(0x1a0)],_0x112b56['headers']=global_registry[_0x266cb3(0x1a8)],_0x112b56[_0x266cb3(0x19e)]=![];const _0x568ca3=_0x112b56,_0x5c5596=await _0x21109f[_0x266cb3(0x161)](got,_0x3a6d7e,_0x568ca3),_0x8c4796=await _0x21109f[_0x266cb3(0x1a2)](responseValidation,_0x5c5596,_0x21109f[_0x266cb3(0x132)],_0x21109f[_0x266cb3(0x131)],_0x213bd4,_0x2b089b);let _0x1bdf7f={};if(_0x21109f[_0x266cb3(0x113)](_0x8c4796,0xc8)){if(_0x21109f[_0x266cb3(0x1cf)](_0x21109f[_0x266cb3(0x11b)],_0x21109f[_0x266cb3(0x121)]))_0x375df2[_0x266cb3(0x1a4)](_0x21109f[_0x266cb3(0x171)]),_0x50ef1e[_0x266cb3(0x13b)](0x1);else{const _0x5efa02=JSON['parse'](_0x5c5596[_0x266cb3(0x159)]),_0x5a53d0=_0x5efa02[_0x266cb3(0x138)](_0x394860=>_0x394860[_0x266cb3(0x13c)]===_0x213bd4[_0x266cb3(0x163)])||null;_0x21109f[_0x266cb3(0x1b7)](isUndefined,_0x5a53d0)?_0x21109f[_0x266cb3(0x1fe)](_0x21109f[_0x266cb3(0x1c7)],_0x21109f[_0x266cb3(0x1c7)])?(_0x3c688c='Invalid\x20input.\x20grid\x20profiles:\x20'+_0x213bd4[_0x266cb3(0x163)]+_0x266cb3(0x1d0),await _0x21109f[_0x266cb3(0x148)](reportToGalactusAndSendToEDS,_0x213bd4,_0x2b089b,_0x3c688c,messageTypes['ERROR'],_0x21109f[_0x266cb3(0x1f4)],_0x21109f[_0x266cb3(0x144)],_0x21109f[_0x266cb3(0x1a9)]),logger[_0x266cb3(0x1a4)](_0x3c688c),process[_0x266cb3(0x13b)](0x1)):_0x34bd7c[_0x266cb3(0x1a4)](_0x266cb3(0x197)+_0x578b62['error'][_0x266cb3(0x155)]):_0x21109f[_0x266cb3(0x1e4)](_0x21109f[_0x266cb3(0x1f3)],_0x21109f[_0x266cb3(0x1b9)])?_0x1bdf7f=_0x5a53d0:_0x47be40[_0x266cb3(0x122)](_0x21109f['JOzrv']);}}else _0x21109f[_0x266cb3(0x1b3)](_0x21109f[_0x266cb3(0x1c2)],_0x21109f[_0x266cb3(0x165)])?process['exit'](0x1):_0x53be12[_0x266cb3(0x122)](_0x21109f[_0x266cb3(0x134)]);const _0x21c488={};_0x21c488[_0x266cb3(0x16d)]=WS_EVENTS[_0x266cb3(0x14f)],_0x21c488[_0x266cb3(0x126)]=_0x21109f[_0x266cb3(0x1f2)],webSocketUtils['sendEventToBackend'](_0x2b089b,_0x21c488),global_registry['cloudProvider']=_0x1bdf7f[_0x266cb3(0x168)],global_registry[_0x266cb3(0x1ec)]=_0x1bdf7f[_0x266cb3(0x123)],global_registry[_0x266cb3(0x182)]=_0x1bdf7f[_0x266cb3(0x182)];}else _0xb211c3[_0x266cb3(0x13b)](0x1);}else _0x21109f['yQQyB'](_0x21109f['muirk'],_0x21109f[_0x266cb3(0x193)])?_0x307774=_0x2b6e06:(logger[_0x266cb3(0x1a4)](_0x21109f[_0x266cb3(0x171)]),process[_0x266cb3(0x13b)](0x1));}}else{const _0x59ab2a={};_0x59ab2a[_0x266cb3(0x16d)]=_0x3fc240[_0x266cb3(0x14f)],_0x59ab2a[_0x266cb3(0x126)]=_0x2ca5ef,_0x286681[_0x266cb3(0x18a)](_0x58500e,_0x59ab2a,_0x21109f[_0x266cb3(0x1a9)],!![]);}}catch(_0x38abff){_0x21109f['Ibmjk'](_0x21109f[_0x266cb3(0x14c)],_0x21109f[_0x266cb3(0x14c)])?(_0x3c688c='Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20'+_0x38abff+':\x20'+_0x38abff[_0x266cb3(0x155)],logger[_0x266cb3(0x1a4)](_0x3c688c),await _0x21109f[_0x266cb3(0x1ad)](reportToGalactusAndSendToEDS,_0x213bd4,_0x2b089b,_0x3c688c,messageTypes[_0x266cb3(0x133)],_0x21109f['Qifyl'],_0x21109f[_0x266cb3(0x1ee)],_0x21109f[_0x266cb3(0x1a9)]),process[_0x266cb3(0x13b)](0x1)):(_0x4056c8[_0x266cb3(0x1f1)]('['+_0x2078a7+_0x266cb3(0x1eb)+_0x5d3b62[_0x266cb3(0x13a)]+_0x266cb3(0x162)+_0x272ac4[_0x266cb3(0x1df)]+'\x20error\x20:\x20'+_0x5c17e9[_0x266cb3(0x1a4)]),_0x4360bf[_0x266cb3(0x1a4)]&&_0xbf16d7[_0x266cb3(0x1a4)]('error\x20stack\x20:\x20'+_0x221947['error'][_0x266cb3(0x155)]));}}function printResponse(_0x558741,_0x1fd317){const _0x1a84f0=a17_0x3a5b8f,_0x14bacd={};_0x14bacd[_0x1a84f0(0x13d)]='is\x20already\x20present',_0x14bacd[_0x1a84f0(0x11f)]=_0x1a84f0(0x146),_0x14bacd[_0x1a84f0(0x157)]=function(_0x53e323,_0x2d0f0a){return _0x53e323!==_0x2d0f0a;},_0x14bacd[_0x1a84f0(0x127)]=_0x1a84f0(0x1a6);const _0x2bc486=_0x14bacd;logger['info']('['+_0x558741+_0x1a84f0(0x1eb)+_0x1fd317[_0x1a84f0(0x13a)]+_0x1a84f0(0x162)+_0x1fd317[_0x1a84f0(0x1df)]+_0x1a84f0(0x1fc)+_0x1fd317['error']),_0x1fd317[_0x1a84f0(0x1a4)]&&(_0x2bc486['FvrrJ'](_0x2bc486['hUqPJ'],_0x2bc486['hUqPJ'])?_0x16e9a7+=_0x1a84f0(0x107)+_0x4377a5[_0x1a84f0(0x182)]+'\x20'+(_0x2fb7be?_0x2bc486[_0x1a84f0(0x13d)]:_0x2bc486[_0x1a84f0(0x11f)])+'\x0a\x0a':logger[_0x1a84f0(0x1a4)]('error\x20stack\x20:\x20'+_0x1fd317[_0x1a84f0(0x1a4)]['stack']));}async function generateReport(_0x50f75f,_0xa5406e){const _0x2df794=a17_0x3a5b8f,_0x55483b={'KkihI':function(_0x599357,_0x114b7d){return _0x599357+_0x114b7d;},'KkqgK':'Success','feVoe':_0x2df794(0x149),'MnyxN':function(_0x440c76,_0x2431ee){return _0x440c76||_0x2431ee;},'BrBKy':'N/A','hXirX':'Error\x20Details:\x0a','BKDlT':_0x2df794(0x1e9),'ZUzGJ':function(_0x40195e,_0x46f29e){return _0x40195e!=_0x46f29e;},'GhyaH':_0x2df794(0x117),'ugoiw':_0x2df794(0x146),'RBEda':function(_0x121744){return _0x121744();}};let _0x2c92f0=_0x2df794(0x160)+global_registry['cloudProvider']+_0x2df794(0x12b);return _0x50f75f[_0x2df794(0x191)]((_0x4d8608,_0x19b4fd)=>{const _0xf35614=_0x2df794,{header:_0x3ac11a,response:_0x5ad56f}=_0x4d8608,{status:_0x1d5114,data:_0x13394f,error:_0x36e794}=_0x5ad56f;_0x2c92f0+=_0x3ac11a+'\x20#'+_0x55483b[_0xf35614(0x156)](_0x19b4fd,0x1)+'\x0a',_0x2c92f0+='Status:\x20'+(_0x1d5114?_0x55483b[_0xf35614(0x10c)]:_0x55483b['feVoe'])+'\x0a',_0x2c92f0+=_0xf35614(0x1cc)+_0x55483b[_0xf35614(0x15a)](_0x13394f,_0x55483b['BrBKy'])+'\x0a',_0x36e794&&(_0x2c92f0+=_0x55483b['hXirX'],_0x2c92f0+=_0xf35614(0x177)+(_0x36e794[_0xf35614(0x126)]||_0x55483b[_0xf35614(0x129)])+'\x0a',_0x2c92f0+=_0xf35614(0x1bc)+(_0x36e794['code']||_0x55483b['BrBKy'])+'\x0a',_0x2c92f0+='\x20\x20Stack:\x20'+(_0x36e794[_0xf35614(0x155)]||_0x55483b[_0xf35614(0x129)])+'\x0a'),_0x2c92f0+='\x0a\x0a';}),_0x2c92f0+=_0x55483b['BKDlT'],_0x55483b['ZUzGJ'](_0xa5406e,null)?_0x2c92f0+=_0x2df794(0x107)+global_registry[_0x2df794(0x182)]+'\x20'+(_0xa5406e?_0x55483b[_0x2df794(0x1d8)]:_0x55483b[_0x2df794(0x10e)])+'\x0a\x0a':_0x2c92f0+=_0x2df794(0x107)+global_registry[_0x2df794(0x182)]+_0x2df794(0x1fd),_0x2c92f0+=_0x55483b[_0x2df794(0x1d2)](getSystemMetaData),_0x2c92f0;};exports[a17_0x3a5b8f(0x1ff)]=async function(_0x16bbc2){const _0x53897c=a17_0x3a5b8f,_0x15fa2d={'Mabqf':function(_0x3ff5bc){return _0x3ff5bc();},'MABCc':function(_0x3be72d){return _0x3be72d();},'DDFQn':_0x53897c(0x19a),'XYWmZ':function(_0x8c02fc,_0x41f0c6,_0x460942,_0x5d7897,_0x56d616,_0x57f052,_0x564254,_0x41315a){return _0x8c02fc(_0x41f0c6,_0x460942,_0x5d7897,_0x56d616,_0x57f052,_0x564254,_0x41315a);},'eDLFf':'pre-check-grid-called','rwujM':_0x53897c(0x158),'meGtm':'error','ThZji':function(_0x27a676,_0x5f42fd,_0xb1373e,_0x1f310d,_0x4e417c,_0x45e44f,_0x1c9238){return _0x27a676(_0x5f42fd,_0xb1373e,_0x1f310d,_0x4e417c,_0x45e44f,_0x1c9238);},'jnRDE':function(_0x201182){return _0x201182();},'CHcEW':_0x53897c(0x1ea),'kaZhe':_0x53897c(0x196),'NkROI':function(_0x33e64a,_0x6dbb32,_0x474bf0){return _0x33e64a(_0x6dbb32,_0x474bf0);},'bqhMU':function(_0x535152,_0x3348a9,_0x4e4445){return _0x535152(_0x3348a9,_0x4e4445);},'nuogN':'dummy-grid','tpbtk':function(_0x34db25,_0x4e099a,_0x4f008b){return _0x34db25(_0x4e099a,_0x4f008b);},'FIwgI':_0x53897c(0x1a1),'vctSB':_0x53897c(0x1b6),'RLTRg':function(_0x30a1d0,_0x32152e,_0x994c42,_0x5aa7f0,_0xbaf760,_0x466358,_0x410ee6,_0x48729f){return _0x30a1d0(_0x32152e,_0x994c42,_0x5aa7f0,_0xbaf760,_0x466358,_0x410ee6,_0x48729f);},'obBoI':function(_0x1461e1,_0x4fdc40,_0x3bab83){return _0x1461e1(_0x4fdc40,_0x3bab83);},'qepfZ':_0x53897c(0x151),'XgjOL':_0x53897c(0x1ba),'jRFNx':function(_0x150038,_0x1d577d){return _0x150038(_0x1d577d);},'vADZs':_0x53897c(0x16f),'kGGIW':_0x53897c(0x170),'YKTTT':_0x53897c(0x1f9),'bCuUQ':_0x53897c(0x1d9),'QhqUx':_0x53897c(0x1ed),'xOnmE':_0x53897c(0x15d),'WLiHf':function(_0x4a2be2,_0x5f431e){return _0x4a2be2+_0x5f431e;},'BDVXs':_0x53897c(0x115),'XqWVj':_0x53897c(0x110)};let _0x5a3247,_0x4ffc7f;try{global_registry['requestId']=_0x15fa2d[_0x53897c(0x1b4)](uuidv4);!fs[_0x53897c(0x1e1)](_0x15fa2d[_0x53897c(0x18f)](getCredentialsPath))&&(_0x4ffc7f=_0x15fa2d['DDFQn'],logger[_0x53897c(0x1a4)](_0x4ffc7f),await _0x15fa2d['XYWmZ'](reportToGalactusAndSendToEDS,_0x16bbc2,_0x5a3247,_0x4ffc7f,messageTypes[_0x53897c(0x133)],_0x15fa2d[_0x53897c(0x205)],_0x15fa2d[_0x53897c(0x10f)],_0x15fa2d[_0x53897c(0x1ce)]),process[_0x53897c(0x13b)](0x1));_0x15fa2d[_0x53897c(0x202)](sendInstrumentationEvent,_0x16bbc2,_0x15fa2d[_0x53897c(0x205)],messageTypes[_0x53897c(0x178)],null,null,_0x16bbc2);const _0x20e9a1=JSON['parse'](fs[_0x53897c(0x1b1)](_0x15fa2d['jnRDE'](getCredentialsPath)));global_registry[_0x53897c(0x10b)]=_0x20e9a1[_0x53897c(0x1d6)]['username'],global_registry['bstackAccesskey']=_0x20e9a1[_0x53897c(0x1d6)][_0x53897c(0x187)];const _0x4a2911=WS_ENDPOINT[_0x53897c(0x124)](_0x15fa2d[_0x53897c(0x1ac)],_0x20e9a1['Browserstack'][_0x53897c(0x16c)])[_0x53897c(0x124)](_0x15fa2d['kaZhe'],_0x20e9a1[_0x53897c(0x1d6)][_0x53897c(0x187)]),_0x209a6c={};_0x209a6c[_0x53897c(0x130)]=ws,_0x209a6c[_0x53897c(0x19c)]=0x36ee80,_0x5a3247=new ReconnectingWebSocket(_0x4a2911,[],_0x209a6c),global_registry[_0x53897c(0x1a8)]=_0x15fa2d[_0x53897c(0x15c)](getAuthHeader,global_registry[_0x53897c(0x10b)],global_registry[_0x53897c(0x12d)]),await _0x15fa2d[_0x53897c(0x1be)](inputValidation,_0x16bbc2,_0x5a3247),logger[_0x53897c(0x1f1)](_0x53897c(0x150)+global_registry[_0x53897c(0x168)]+_0x53897c(0x17d)+global_registry[_0x53897c(0x1ec)]);let _0x43a4da=await _0x15fa2d['ThZji'](getCloudProviderObjectWithOutInit,global_registry[_0x53897c(0x168)],global_registry['clusterName'],_0x15fa2d[_0x53897c(0x1f0)],_0x5a3247,webSocketUtils,_0x16bbc2);const _0x15522c=await _0x43a4da['isCliToolInstalled']();_0x15fa2d[_0x53897c(0x1c5)](printResponse,_0x15fa2d[_0x53897c(0x142)],_0x15522c),_0x43a4da=await _0x43a4da[_0x53897c(0x206)]();let _0x5d5ce5=![];try{_0x5d5ce5=await _0x43a4da[_0x53897c(0x1da)]();}catch(_0x5dc3e7){const _0x455e7f=_0x15fa2d[_0x53897c(0x195)][_0x53897c(0x15f)]('|');let _0x2b70d8=0x0;while(!![]){switch(_0x455e7f[_0x2b70d8++]){case'0':_0x4ffc7f+='\x0a'+JSON[_0x53897c(0x184)](_0x5dc3e7[_0x53897c(0x155)]);continue;case'1':logger['error'](_0x4ffc7f);continue;case'2':_0x4ffc7f=_0x53897c(0x185)+global_registry['clusterName']+'`\x20is\x20present\x20in\x20region\x20`'+global_registry[_0x53897c(0x1ec)]+_0x53897c(0x169)+_0x5dc3e7;continue;case'3':_0x5d5ce5=null;continue;case'4':await _0x15fa2d[_0x53897c(0x135)](reportToGalactusAndSendToEDS,_0x16bbc2,_0x5a3247,_0x4ffc7f,messageTypes['ERROR'],_0x15fa2d[_0x53897c(0x205)],_0x53897c(0x176)+global_registry[_0x53897c(0x168)],_0x15fa2d[_0x53897c(0x1ce)]);continue;}break;}}_0x5d5ce5&&logger[_0x53897c(0x1f1)](_0x53897c(0x11c)+global_registry[_0x53897c(0x182)]+_0x53897c(0x136));const _0x401f79=await _0x43a4da[_0x53897c(0x1c8)]();_0x15fa2d[_0x53897c(0x181)](printResponse,_0x15fa2d['qepfZ'],_0x401f79);const _0x16c3ea=await _0x15fa2d[_0x53897c(0x19b)](curlRequest);_0x15fa2d[_0x53897c(0x15c)](printResponse,_0x15fa2d['XgjOL'],_0x16c3ea);const _0x2de767=await _0x15fa2d[_0x53897c(0x1bb)](isTlsSupported,_0x15fa2d[_0x53897c(0x140)]);_0x15fa2d[_0x53897c(0x1be)](printResponse,_0x15fa2d[_0x53897c(0x137)],_0x2de767);const _0x3db9f6={};_0x3db9f6[_0x53897c(0x173)]=_0x15fa2d[_0x53897c(0x19f)],_0x3db9f6[_0x53897c(0x154)]=_0x15522c;const _0xc1dec9={};_0xc1dec9[_0x53897c(0x173)]=_0x15fa2d[_0x53897c(0x1c1)],_0xc1dec9[_0x53897c(0x154)]=_0x401f79;const _0x2dacb7={};_0x2dacb7[_0x53897c(0x173)]=_0x15fa2d['QhqUx'],_0x2dacb7[_0x53897c(0x154)]=_0x16c3ea;const _0x3e515e={};_0x3e515e[_0x53897c(0x173)]=_0x15fa2d['xOnmE'],_0x3e515e[_0x53897c(0x154)]=_0x2de767;const _0x4e1ece=[_0x3db9f6,_0xc1dec9,_0x2dacb7,_0x3e515e],_0x4f38e3=await _0x15fa2d[_0x53897c(0x15c)](generateReport,_0x4e1ece,_0x5d5ce5),_0x446485=new Date(),_0x276cdc=_0x446485['getUTCFullYear']()+'_'+_0x15fa2d[_0x53897c(0x114)](_0x446485['getUTCMonth'](),0x1)+'_'+_0x446485[_0x53897c(0x145)]()+'_'+_0x446485[_0x53897c(0x17c)]()+'_'+_0x446485['getUTCMinutes'](),_0x3a3bc6=_0x53897c(0x119)+_0x276cdc+_0x53897c(0x10a);fs[_0x53897c(0x17b)](_0x3a3bc6,_0x4f38e3,_0x15fa2d[_0x53897c(0x1a5)]),logger[_0x53897c(0x1f1)](_0x53897c(0x1cb)+_0x3a3bc6),process[_0x53897c(0x13b)](0x0);}catch(_0x69de84){let _0x11e1b3='Failed\x20in\x20pre-check!\x20Error:\x20'+_0x69de84+'\x20';logger[_0x53897c(0x1a4)](_0x11e1b3),_0x11e1b3+='\x0a'+JSON[_0x53897c(0x184)](_0x69de84[_0x53897c(0x155)]),logger[_0x53897c(0x1e2)](_0x53897c(0x1fa)+_0x69de84['stack']);if(_0x5a3247){const _0x3e74aa={};_0x3e74aa[_0x53897c(0x16d)]=WS_EVENTS[_0x53897c(0x14f)],_0x3e74aa['message']=_0x11e1b3,webSocketUtils[_0x53897c(0x18a)](_0x5a3247,_0x3e74aa,_0x15fa2d[_0x53897c(0x1ce)],!![]);}await webSocketUtils[_0x53897c(0x1d3)](0x7d0);const _0x1104c1={};_0x1104c1[_0x53897c(0x1a4)]=_0x11e1b3,await _0x15fa2d['ThZji'](sendInstrumentationEvent,_0x16bbc2,_0x15fa2d['eDLFf'],messageTypes[_0x53897c(0x133)],_0x15fa2d['XqWVj'],_0x1104c1,_0x16bbc2),process['exit'](0x1);}};