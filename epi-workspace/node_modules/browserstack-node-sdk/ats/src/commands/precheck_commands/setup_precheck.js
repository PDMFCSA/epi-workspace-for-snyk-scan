function a17_0x32f1(_0x47d739,_0x1d3ccf){const _0x4cf931=a17_0x4cf9();return a17_0x32f1=function(_0x32f116,_0x514e4f){_0x32f116=_0x32f116-0xf8;let _0x5850cc=_0x4cf931[_0x32f116];return _0x5850cc;},a17_0x32f1(_0x47d739,_0x1d3ccf);}const a17_0x39a44d=a17_0x32f1;(function(_0x4f028e,_0xee7bce){const _0x9cd432=a17_0x32f1,_0x45ff84=_0x4f028e();while(!![]){try{const _0x40c6f6=parseInt(_0x9cd432(0x1a4))/0x1*(-parseInt(_0x9cd432(0x10c))/0x2)+-parseInt(_0x9cd432(0x11b))/0x3+-parseInt(_0x9cd432(0x1c1))/0x4*(-parseInt(_0x9cd432(0x15b))/0x5)+-parseInt(_0x9cd432(0x1fa))/0x6*(-parseInt(_0x9cd432(0x1bd))/0x7)+parseInt(_0x9cd432(0x171))/0x8+-parseInt(_0x9cd432(0x144))/0x9*(parseInt(_0x9cd432(0x131))/0xa)+parseInt(_0x9cd432(0x1ab))/0xb;if(_0x40c6f6===_0xee7bce)break;else _0x45ff84['push'](_0x45ff84['shift']());}catch(_0x42d4be){_0x45ff84['push'](_0x45ff84['shift']());}}}(a17_0x4cf9,0x31a55));const fs=require('fs'),ws=require('ws'),got=require(a17_0x39a44d(0x18a)),{v4:uuidv4}=require(a17_0x39a44d(0x1dd)),ReconnectingWebSocket=require(a17_0x39a44d(0x152)),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require(a17_0x39a44d(0x1d2)),{logger}=require('../../config/logger'),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require(a17_0x39a44d(0x1d8)),{getCloudProviderObjectWithOutInit}=require(a17_0x39a44d(0xf8)),webSocketUtils=require(a17_0x39a44d(0x11c)),{sendInstrumentationEvent}=require(a17_0x39a44d(0xfa));exports[a17_0x39a44d(0x14c)]=a17_0x39a44d(0x110),exports[a17_0x39a44d(0x154)]='Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup',exports[a17_0x39a44d(0x134)]=function(_0x24008c){const _0x59a27c=a17_0x39a44d,_0x26ef94={};_0x26ef94['xlGJM']=_0x59a27c(0x1a2),_0x26ef94['ssLCi']='string',_0x26ef94[_0x59a27c(0x158)]=_0x59a27c(0x1d6),_0x26ef94[_0x59a27c(0x1c2)]=_0x59a27c(0x1e8),_0x26ef94[_0x59a27c(0x100)]=_0x59a27c(0x198),_0x26ef94[_0x59a27c(0x188)]=_0x59a27c(0x14f);const _0x337d9f=_0x26ef94,_0x92a01e={};_0x92a01e[_0x59a27c(0x191)]=_0x337d9f[_0x59a27c(0x1bf)],_0x92a01e[_0x59a27c(0x139)]=_0x337d9f[_0x59a27c(0x1df)];const _0x2fed5c={};_0x2fed5c[_0x59a27c(0x191)]=_0x337d9f[_0x59a27c(0x158)],_0x2fed5c[_0x59a27c(0x139)]=_0x337d9f[_0x59a27c(0x1df)];const _0x415a12={};_0x415a12[_0x59a27c(0x191)]=_0x337d9f[_0x59a27c(0x1c2)],_0x415a12[_0x59a27c(0x139)]=_0x337d9f['ssLCi'];const _0x4a3a1b={};_0x4a3a1b[_0x59a27c(0x191)]=_0x337d9f['fJHTC'],_0x4a3a1b[_0x59a27c(0x139)]=_0x337d9f[_0x59a27c(0x1df)];const _0x2bbb53={};return _0x2bbb53[_0x59a27c(0x111)]=_0x92a01e,_0x2bbb53[_0x59a27c(0x150)]=_0x2fed5c,_0x2bbb53[_0x59a27c(0x1bb)]=_0x415a12,_0x2bbb53[_0x59a27c(0x1b7)]=_0x4a3a1b,_0x24008c[_0x59a27c(0x197)](HELP_HEADER_MESSAGE[_0x59a27c(0x153)])['epilogue'](HELP_FOOTER_MESSAGE)[_0x59a27c(0x1cb)](_0x2bbb53)[_0x59a27c(0x14f)](_0x337d9f[_0x59a27c(0x188)])[_0x59a27c(0x1ac)];};function a17_0x4cf9(){const _0x11cd8d=['\x20\x20Code:\x20','790776ocdlEe','../../utils/webSocketUtils','shLeA','UmrnF','Grid\x20profile\x20fetched\x20for\x20pre-check','smdCj','===\x20Precheck\x20Report\x20-\x20','\x20region\x20-\x20','JJMwY','delay','.\x20Please\x20provide\x20all\x20required\x20arguments.','N/A','HRzQe','stack','requestId','dummy-grid','will\x20be\x20created','jzVPY','error','Message:\x20','pRuLD','UKMZX','1620kDoGOl','message','clusterName','builder','kREuU','WNbZI','grid\x20profile\x20flow\x20','Pcmjx','type','zDIct','pre-check-cluster-args-not-passed','is\x20already\x20present','IrlxY','authHeader','Setting\x20cloud\x20provider\x20as\x20','https://','code','Mwbue','LFpqV','19494wQNyuo','hubGf','iYtMg','ssUYw','connectionTimeout','Ivndh','Sgfnz','pRTxx','command','info','xIRlW','help','cloud-provider','rHKaa','reconnecting-websocket','pre_check','desc','gyUex','header','Error\x20Details:\x0a','kRKOO','exit','sibzh','185VNzfzQ','gXgme','headers','bstackUsername','name','pre-check-grid-called','GrJFp','IVVnI','JYwni','ASBbZ','ROfxl','yblsh','fQDUz','\x20\x20Message:\x20','ThibZ','KHpUw','throwHttpErrors','credential-not-found','Cluster\x20details\x0a-----------------------\x0a','ERROR','dWifj','<UsernamePlaceholder>','1910768uddTMM','lwpFV','Success','pQfns','ScLCP','OIDgK','\x20===\x0a\x0a','replace','RcqOb','parse','ByTRL','rOPlB','/packages/cli/get-all-grid-profiles','GET','stringify','abOsp','split','jiKWh','SyOyf','INFO','aJrki','PrZjS','response','fMLKc','Failure','got','debug','ojiNE','error\x20stack\x20:\x20','Status:\x20','LdZzK','sendEventToBackend','description','iqQRK','string','zUWNX','forEach','Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','usage','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.',']\x20status\x20:\x20','`\x20is\x20present\x20in\x20region\x20`','`\x20,error\x20:\x20','WobBr','yzcNb','nPVkn','XymOb','ltZGu','wUGbL','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','Tool\x20Installed','2FLAbrQ','getUTCMonth','password','Report\x20saved\x20in\x20','lYBpr','\x20\x20Stack:\x20','push','4343141fTdvhg','argv','oPBTB','SphmO','mRXnf','WHPeF','isTls1_2_SUPPORTED','ClrDi','IukjT','aFyPr','DtTxJ','zYJEG','grid-profile','pre-check','kDPKz','CLOUD_PROVIDER','region','CBxqF','21yQUNXu','YajIw','xlGJM','cluster-check-failed-','43804XIqtNC','vQBhM','vgoEa','oMVPo','dohXU','kcZCL','Kueux','pre-check-failed','rPkAq','rgApx','options','wfMok','Failed\x20in\x20pre-check!\x20Error:\x20','APWWU','Whitelisted\x20browserstack','init','jkZUW','../../utils/utilityMethods','rIRkZ','<PasswordPlaceholder>','Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','JNwnq','../../config/constants','SzxTp','method','\x20error\x20:\x20','SEMdA','uuid','cloudProvider','ssLCi','cloud-provider-not-supported','dEVoh','WebSocket','fBVAH','TKgfY','includes','TgLdn','toLowerCase','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','accessResp','Missing\x20required\x20arguments:\x20','handler','SGUGZ','lQGmT','DtFvv','ytgrU','Cluster\x20`','uERCr','kAnpk','`\x20already\x20exists','BniAO','cqmxW','Pre-check\x20running\x20for\x20Cloud\x20-\x20','NEWBc','readFileSync','bstackAccesskey','44502IOyOwT','username','MqNai','\x20data\x20:\x20','../../cloudproviders/utils','SSL\x20Configured','../../utils/instrumentationUtils','LOG','body','gShrp','lBbku','ZhuIy','fJHTC','SNkPE','existsSync','.txt','find','writeFileSync','MdMJb','log/report_','yooRN','xyrlD','getUTCDate','Browserstack','243282xDavvu','isCliToolInstalled','TbZdP','YgYko','grid','cluster-name','clusterRegion','Invalid\x20input.\x20grid\x20profiles:\x20','User\x20Access','cWeiL','Cluster\x20','gridProfile','ihJim','join'];a17_0x4cf9=function(){return _0x11cd8d;};return a17_0x4cf9();}async function inputValidation(_0x495503,_0x48d2ee){const _0x66b33f=a17_0x39a44d,_0x404fcb={'vArQy':'Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','rIRkZ':'error','KxSOy':_0x66b33f(0x1a2),'kREuU':_0x66b33f(0x193),'IKBdf':_0x66b33f(0x1d6),'WHPeF':_0x66b33f(0x1e8),'ytgrU':'Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','DYGze':'help','shLeA':_0x66b33f(0x111),'IukjT':function(_0x5690a5,_0x524362){return _0x5690a5+_0x524362;},'mRXnf':_0x66b33f(0x173),'UuSEf':_0x66b33f(0x189),'aFyPr':function(_0x1031ce,_0x42ef9b){return _0x1031ce||_0x42ef9b;},'jzVPY':_0x66b33f(0x126),'ViHCW':_0x66b33f(0x157),'cWeiL':_0x66b33f(0x1bb),'kcZCL':_0x66b33f(0x13c),'JJMwY':_0x66b33f(0x12b),'gXgme':function(_0x450023,_0x49f548){return _0x450023!==_0x49f548;},'NEWBc':_0x66b33f(0x155),'ZDLPY':_0x66b33f(0x1b2),'TgLdn':_0x66b33f(0x145),'WNbZI':function(_0x152e26,_0x1ae08c){return _0x152e26!==_0x1ae08c;},'SEMdA':_0x66b33f(0x169),'zUWNX':_0x66b33f(0x127),'Mwbue':function(_0x3dec17,_0x1f916a){return _0x3dec17!==_0x1f916a;},'SHxla':_0x66b33f(0x19f),'hdBjf':_0x66b33f(0x1ad),'GBGRc':_0x66b33f(0x150),'dEVoh':function(_0x1530f8,_0x7f3ebf){return _0x1530f8===_0x7f3ebf;},'sibzh':_0x66b33f(0x1c7),'wfMok':_0x66b33f(0x1d9),'rHKaa':function(_0x285560,_0xa98ffd){return _0x285560>_0xa98ffd;},'ROfxl':_0x66b33f(0x16a),'GrJFp':function(_0x2c3353,_0x2ed59b,_0x188680,_0x2fb82a,_0xecaaf,_0x968c45,_0x5869dd,_0x41295a){return _0x2c3353(_0x2ed59b,_0x188680,_0x2fb82a,_0xecaaf,_0x968c45,_0x5869dd,_0x41295a);},'OIDgK':_0x66b33f(0x160),'JYwni':_0x66b33f(0x13b),'UmrnF':_0x66b33f(0x1c5),'cqmxW':_0x66b33f(0x1e4),'IVVnI':_0x66b33f(0x196),'GxkiH':function(_0x136d83,_0x8b79,_0xe9f8a6,_0x22109e,_0x1c2116,_0x5b3b6f,_0x5db5b9,_0x4d7d91){return _0x136d83(_0x8b79,_0xe9f8a6,_0x22109e,_0x1c2116,_0x5b3b6f,_0x5db5b9,_0x4d7d91);},'rOPlB':_0x66b33f(0x1e0),'ASBbZ':function(_0x359d2b,_0x2569f7){return _0x359d2b===_0x2569f7;},'RcqOb':_0x66b33f(0x1c9),'APWWU':'OwuXo','ojiNE':_0x66b33f(0x17e),'JNwnq':function(_0x3f5f71,_0x1e13fd,_0x307444){return _0x3f5f71(_0x1e13fd,_0x307444);},'zYJEG':function(_0x441d8f,_0x428d6a,_0x2af5ea,_0x1067a0,_0x1728a5,_0x391ba8){return _0x441d8f(_0x428d6a,_0x2af5ea,_0x1067a0,_0x1728a5,_0x391ba8);},'ssUYw':_0x66b33f(0x1b8),'BniAO':_0x66b33f(0x1b7),'xIRlW':_0x66b33f(0x1ed),'Pcmjx':_0x66b33f(0x1ec),'pRuLD':function(_0x2b10ed,_0x4bac90){return _0x2b10ed(_0x4bac90);},'yblsh':function(_0x5318e6,_0x2d935f){return _0x5318e6!==_0x2d935f;},'jiKWh':_0x66b33f(0x1be),'nPVkn':function(_0x488e7c,_0x26968a,_0x19b7f7,_0x4fc5ea,_0x49e066,_0x20d1e5,_0x308995,_0x421e48){return _0x488e7c(_0x26968a,_0x19b7f7,_0x4fc5ea,_0x49e066,_0x20d1e5,_0x308995,_0x421e48);},'JWLXo':'pre-check-grid-profile-empty','HfmFM':'BlpjT','TbZdP':_0x66b33f(0x101),'uERCr':_0x66b33f(0x172),'pQfns':_0x66b33f(0x11f),'bmpjx':function(_0x409be7,_0xf9378e){return _0x409be7!==_0xf9378e;},'qQRTB':'SlRzW','tinHU':_0x66b33f(0x1ae),'gShrp':function(_0x186d28,_0x22440f){return _0x186d28===_0x22440f;},'iqQRK':_0x66b33f(0x186),'kDPKz':function(_0x4c38ef,_0x3aa531,_0x148dbb,_0x5c4f54,_0x22d771,_0xca9823,_0x3202ce,_0x3a10d8){return _0x4c38ef(_0x3aa531,_0x148dbb,_0x5c4f54,_0x22d771,_0xca9823,_0x3202ce,_0x3a10d8);}};let _0x1b9d29;try{if(_0x404fcb[_0x66b33f(0x15c)](_0x404fcb['NEWBc'],_0x404fcb[_0x66b33f(0x1f7)]))_0x1096d6[_0x66b33f(0x12d)](_0x404fcb['vArQy']),_0x586b93['exit'](0x1);else{if(_0x495503[_0x66b33f(0x133)]||_0x495503['cloudProvider']||_0x495503[_0x66b33f(0x1bb)]){if(_0x404fcb['gXgme'](_0x404fcb['ZDLPY'],_0x404fcb[_0x66b33f(0x1e6)])){const _0x26f884=[];!_0x495503[_0x66b33f(0x133)]&&(_0x404fcb[_0x66b33f(0x136)](_0x404fcb[_0x66b33f(0x1dc)],_0x404fcb[_0x66b33f(0x194)])?_0x26f884[_0x66b33f(0x1aa)](_0x404fcb[_0x66b33f(0x11d)]):(_0x364701['info'](_0x66b33f(0x13f)+_0x3de78b[_0x66b33f(0x1ba)]+'\x20'),_0x39f577[_0x66b33f(0x1de)]=_0xbbb086[_0x66b33f(0x1ba)]));;if(!_0x495503[_0x66b33f(0x1de)]){if(_0x404fcb[_0x66b33f(0x142)](_0x404fcb['SHxla'],_0x404fcb['hdBjf']))_0x26f884[_0x66b33f(0x1aa)](_0x404fcb['GBGRc']);else{const _0x7f6527={};_0x7f6527[_0x66b33f(0x139)]=_0x5f067a[_0x66b33f(0xfb)],_0x7f6527[_0x66b33f(0x132)]=_0x381dde,_0x2f8b61[_0x66b33f(0x190)](_0x3065f4,_0x7f6527,_0x404fcb[_0x66b33f(0x1d3)],!![]);}};if(!_0x495503[_0x66b33f(0x1bb)]){if(_0x404fcb[_0x66b33f(0x1e1)](_0x404fcb[_0x66b33f(0x15a)],_0x404fcb[_0x66b33f(0x1cc)])){const _0x48cb77={};_0x48cb77[_0x66b33f(0x191)]=_0x404fcb['KxSOy'],_0x48cb77[_0x66b33f(0x139)]=_0x404fcb[_0x66b33f(0x135)];const _0x4310b0={};_0x4310b0['description']=_0x404fcb['IKBdf'],_0x4310b0['type']=_0x404fcb[_0x66b33f(0x135)];const _0x24cac1={};_0x24cac1[_0x66b33f(0x191)]=_0x404fcb[_0x66b33f(0x1b0)],_0x24cac1['type']=_0x404fcb[_0x66b33f(0x135)];const _0x31d993={};_0x31d993['description']=_0x404fcb[_0x66b33f(0x1ef)],_0x31d993['type']=_0x404fcb['kREuU'];const _0x1bfcca={};return _0x1bfcca[_0x66b33f(0x111)]=_0x48cb77,_0x1bfcca['cloud-provider']=_0x4310b0,_0x1bfcca['region']=_0x24cac1,_0x1bfcca[_0x66b33f(0x1b7)]=_0x31d993,_0x44cf20[_0x66b33f(0x197)](_0x3a2c4f[_0x66b33f(0x153)])['epilogue'](_0x262f07)[_0x66b33f(0x1cb)](_0x1bfcca)[_0x66b33f(0x14f)](_0x404fcb['DYGze'])[_0x66b33f(0x1ac)];}else _0x26f884[_0x66b33f(0x1aa)](_0x404fcb['cWeiL']);};_0x404fcb[_0x66b33f(0x151)](_0x26f884['length'],0x0)&&(_0x404fcb[_0x66b33f(0x1e1)](_0x404fcb[_0x66b33f(0x165)],_0x404fcb[_0x66b33f(0x165)])?(_0x1b9d29=_0x66b33f(0x1ea)+_0x26f884[_0x66b33f(0x119)](',\x20')+_0x66b33f(0x125),await _0x404fcb[_0x66b33f(0x161)](reportToGalactusAndSendToEDS,_0x495503,_0x48d2ee,_0x1b9d29,messageTypes[_0x66b33f(0x16e)],_0x404fcb[_0x66b33f(0x176)],_0x404fcb[_0x66b33f(0x163)],_0x404fcb[_0x66b33f(0x1d3)]),logger[_0x66b33f(0x12d)](_0x1b9d29),process[_0x66b33f(0x159)](0x1)):_0x2b566a=_0x377e60),!ALL_SUPPORTED_CLOUD_PROVIDERS[_0x66b33f(0x1e5)](_0x495503[_0x66b33f(0x1de)][_0x66b33f(0x1e7)]())&&(_0x404fcb[_0x66b33f(0x142)](_0x404fcb[_0x66b33f(0x11e)],_0x404fcb[_0x66b33f(0x1f5)])?(_0x1b9d29=_0x404fcb[_0x66b33f(0x162)],await _0x404fcb['GxkiH'](reportToGalactusAndSendToEDS,_0x495503,_0x48d2ee,_0x1b9d29,messageTypes[_0x66b33f(0x16e)],_0x404fcb[_0x66b33f(0x176)],_0x404fcb[_0x66b33f(0x17c)],_0x404fcb[_0x66b33f(0x1d3)]),logger['error'](_0x1b9d29),!_0x495503[_0x66b33f(0x1de)]&&(_0x404fcb[_0x66b33f(0x164)](_0x404fcb[_0x66b33f(0x179)],_0x404fcb['RcqOb'])?(logger['info']('Setting\x20cloud\x20provider\x20as\x20'+DEFAULT_CLUSTER_DETAILS['CLOUD_PROVIDER']+'\x20'),_0x495503[_0x66b33f(0x1de)]=DEFAULT_CLUSTER_DETAILS[_0x66b33f(0x1ba)]):(_0x18efe1[_0x66b33f(0x14d)]('['+_0x13b3ce+_0x66b33f(0x199)+_0x299575['status']+_0x66b33f(0x1fd)+_0x8a9fd1['data']+_0x66b33f(0x1db)+_0x5b546b[_0x66b33f(0x12d)]),_0x1dde66[_0x66b33f(0x12d)]&&_0x4c2256[_0x66b33f(0x12d)](_0x66b33f(0x18d)+_0x1a3122[_0x66b33f(0x12d)][_0x66b33f(0x128)])))):_0x45bfef['push'](_0x404fcb[_0x66b33f(0x11d)])),global_registry[_0x66b33f(0x133)]=_0x495503[_0x66b33f(0x133)],global_registry[_0x66b33f(0x1de)]=_0x495503[_0x66b33f(0x1de)],global_registry[_0x66b33f(0x112)]=_0x495503['region'];}else _0x58c14c[_0x66b33f(0x12d)]('error\x20stack\x20:\x20'+_0x7921b4['error']['stack']);}else{if(_0x495503[_0x66b33f(0x117)]){if(_0x404fcb[_0x66b33f(0x142)](_0x404fcb[_0x66b33f(0x1ce)],_0x404fcb[_0x66b33f(0x1ce)]))_0xb2dc9b+=_0x66b33f(0x116)+_0x9899ea[_0x66b33f(0x133)]+'\x20details\x20cannot\x20be\x20fetched\x0a\x0a';else{global_registry[_0x66b33f(0x117)]=_0x495503['gridProfile'],logger[_0x66b33f(0x18b)](_0x66b33f(0x137)+_0x495503[_0x66b33f(0x117)]);const _0x1f109b=_0x66b33f(0x140)+AG_API_URL+_0x66b33f(0x17d),_0x3a9a51={};_0x3a9a51[_0x66b33f(0x1da)]=_0x404fcb[_0x66b33f(0x18c)],_0x3a9a51[_0x66b33f(0x15d)]=global_registry[_0x66b33f(0x13e)],_0x3a9a51[_0x66b33f(0x16b)]=![];const _0x40a2a6=_0x3a9a51,_0x3e78e5=await _0x404fcb[_0x66b33f(0x1d7)](got,_0x1f109b,_0x40a2a6),_0x2773d9=await _0x404fcb[_0x66b33f(0x1b6)](responseValidation,_0x3e78e5,_0x404fcb[_0x66b33f(0x147)],_0x404fcb[_0x66b33f(0x1f4)],_0x495503,_0x48d2ee);let _0x46199c={};if(_0x404fcb[_0x66b33f(0x164)](_0x2773d9,0xc8)){if(_0x404fcb['WNbZI'](_0x404fcb[_0x66b33f(0x14e)],_0x404fcb[_0x66b33f(0x138)])){const _0x407cfc=JSON[_0x66b33f(0x17a)](_0x3e78e5[_0x66b33f(0xfc)]),_0x44f59c=_0x407cfc[_0x66b33f(0x104)](_0x10b46a=>_0x10b46a[_0x66b33f(0x15f)]===_0x495503[_0x66b33f(0x117)])||null;_0x404fcb[_0x66b33f(0x12f)](isUndefined,_0x44f59c)?_0x404fcb[_0x66b33f(0x166)](_0x404fcb[_0x66b33f(0x182)],_0x404fcb[_0x66b33f(0x182)])?_0xa4ecb6[_0x66b33f(0x159)](0x1):(_0x1b9d29=_0x66b33f(0x113)+_0x495503[_0x66b33f(0x117)]+'.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again',await _0x404fcb[_0x66b33f(0x19e)](reportToGalactusAndSendToEDS,_0x495503,_0x48d2ee,_0x1b9d29,messageTypes[_0x66b33f(0x16e)],_0x404fcb[_0x66b33f(0x176)],_0x404fcb['JWLXo'],_0x404fcb[_0x66b33f(0x1d3)]),logger[_0x66b33f(0x12d)](_0x1b9d29),process['exit'](0x1)):_0x404fcb['yblsh'](_0x404fcb['HfmFM'],_0x404fcb[_0x66b33f(0x10e)])?_0x46199c=_0x44f59c:_0x4bafbc['info'](_0x66b33f(0x1f0)+_0x523479[_0x66b33f(0x133)]+'`\x20already\x20exists');}else{const {header:_0x1c44f0,response:_0x4b8741}=_0xeea162,{status:_0x203f46,data:_0x9fb5d0,error:_0x54024b}=_0x4b8741;_0x18bbad+=_0x1c44f0+'\x20#'+_0x404fcb[_0x66b33f(0x1b3)](_0x3e39ef,0x1)+'\x0a',_0x12bda2+=_0x66b33f(0x18e)+(_0x203f46?_0x404fcb[_0x66b33f(0x1af)]:_0x404fcb['UuSEf'])+'\x0a',_0x34311c+=_0x66b33f(0x12e)+_0x404fcb[_0x66b33f(0x1b4)](_0x9fb5d0,_0x404fcb[_0x66b33f(0x12c)])+'\x0a',_0x54024b&&(_0x2518c7+=_0x404fcb['ViHCW'],_0x2c5664+=_0x66b33f(0x168)+(_0x54024b['message']||_0x404fcb[_0x66b33f(0x12c)])+'\x0a',_0x790784+=_0x66b33f(0x11a)+(_0x54024b[_0x66b33f(0x141)]||_0x404fcb['jzVPY'])+'\x0a',_0x5ae94a+=_0x66b33f(0x1a9)+(_0x54024b[_0x66b33f(0x128)]||_0x404fcb[_0x66b33f(0x12c)])+'\x0a'),_0x148bcb+='\x0a\x0a';}}else _0x404fcb[_0x66b33f(0x136)](_0x404fcb[_0x66b33f(0x1f1)],_0x404fcb[_0x66b33f(0x1f1)])?(_0x28235e+=_0x404fcb['ViHCW'],_0x55469b+=_0x66b33f(0x168)+(_0x4b7853[_0x66b33f(0x132)]||_0x404fcb[_0x66b33f(0x12c)])+'\x0a',_0x8fb0c7+='\x20\x20Code:\x20'+(_0x1b9f2a[_0x66b33f(0x141)]||_0x404fcb['jzVPY'])+'\x0a',_0x103989+='\x20\x20Stack:\x20'+(_0x469eba[_0x66b33f(0x128)]||_0x404fcb[_0x66b33f(0x12c)])+'\x0a'):process[_0x66b33f(0x159)](0x1);const _0x47483a={};_0x47483a[_0x66b33f(0x139)]=WS_EVENTS[_0x66b33f(0xfb)],_0x47483a[_0x66b33f(0x132)]=_0x404fcb[_0x66b33f(0x174)],webSocketUtils[_0x66b33f(0x190)](_0x48d2ee,_0x47483a),global_registry['cloudProvider']=_0x46199c[_0x66b33f(0x1de)],global_registry['clusterRegion']=_0x46199c[_0x66b33f(0x1bb)],global_registry[_0x66b33f(0x133)]=_0x46199c['clusterName'];}}else _0x404fcb['bmpjx'](_0x404fcb['qQRTB'],_0x404fcb['tinHU'])?(logger['error'](_0x404fcb['vArQy']),process[_0x66b33f(0x159)](0x1)):_0x2ab360[_0x66b33f(0x1aa)](_0x404fcb[_0x66b33f(0x115)]);}}}catch(_0x146675){_0x404fcb[_0x66b33f(0xfd)](_0x404fcb[_0x66b33f(0x192)],_0x404fcb[_0x66b33f(0x192)])?(_0x1b9d29=_0x66b33f(0x1d5)+_0x146675+':\x20'+_0x146675[_0x66b33f(0x128)],logger['error'](_0x1b9d29),await _0x404fcb[_0x66b33f(0x1b9)](reportToGalactusAndSendToEDS,_0x495503,_0x48d2ee,_0x1b9d29,messageTypes[_0x66b33f(0x16e)],_0x404fcb[_0x66b33f(0x176)],_0x404fcb[_0x66b33f(0x17c)],_0x404fcb['rIRkZ']),process[_0x66b33f(0x159)](0x1)):_0x2d771d+=_0x66b33f(0x116)+_0x38042d[_0x66b33f(0x133)]+'\x20'+(_0x5df80f?_0x404fcb[_0x66b33f(0x1c6)]:_0x404fcb[_0x66b33f(0x123)])+'\x0a\x0a';}}function printResponse(_0x52fe52,_0x42efa7){const _0x1c15f1=a17_0x39a44d,_0x6bd6eb={};_0x6bd6eb[_0x1c15f1(0x106)]=_0x1c15f1(0x150),_0x6bd6eb['WobBr']=function(_0x10b4e0,_0x4d1300){return _0x10b4e0===_0x4d1300;},_0x6bd6eb[_0x1c15f1(0x18f)]=_0x1c15f1(0x13d);const _0x1353b3=_0x6bd6eb;logger['info']('['+_0x52fe52+_0x1c15f1(0x199)+_0x42efa7['status']+_0x1c15f1(0x1fd)+_0x42efa7['data']+_0x1c15f1(0x1db)+_0x42efa7['error']),_0x42efa7[_0x1c15f1(0x12d)]&&(_0x1353b3[_0x1c15f1(0x19c)](_0x1353b3[_0x1c15f1(0x18f)],_0x1353b3[_0x1c15f1(0x18f)])?logger['error'](_0x1c15f1(0x18d)+_0x42efa7[_0x1c15f1(0x12d)][_0x1c15f1(0x128)]):_0x14007e[_0x1c15f1(0x1aa)](_0x1353b3['MdMJb']));}async function generateReport(_0x5ba984,_0x2400c8){const _0x4a64be=a17_0x39a44d,_0xa11fdf={'dWifj':function(_0x126155,_0x58c9cf){return _0x126155+_0x58c9cf;},'ZhuIy':_0x4a64be(0x173),'lzDkN':_0x4a64be(0x189),'yooRN':function(_0x492159,_0xe2251b){return _0x492159||_0xe2251b;},'YgYko':_0x4a64be(0x126),'IGfUd':_0x4a64be(0x157),'zDIct':_0x4a64be(0x16d),'aJrki':function(_0x22cb67,_0xff7715){return _0x22cb67!=_0xff7715;},'uRmdj':_0x4a64be(0x13c),'HPakl':_0x4a64be(0x12b),'veKLl':function(_0x1bfe76){return _0x1bfe76();}};let _0x5850aa=_0x4a64be(0x121)+global_registry[_0x4a64be(0x1de)]+_0x4a64be(0x177);return _0x5ba984[_0x4a64be(0x195)]((_0x59b12a,_0x1d3ac8)=>{const _0x407784=_0x4a64be,{header:_0xdcd46d,response:_0x1ed09e}=_0x59b12a,{status:_0x2d2ee5,data:_0x10e39c,error:_0xfef57f}=_0x1ed09e;_0x5850aa+=_0xdcd46d+'\x20#'+_0xa11fdf[_0x407784(0x16f)](_0x1d3ac8,0x1)+'\x0a',_0x5850aa+=_0x407784(0x18e)+(_0x2d2ee5?_0xa11fdf[_0x407784(0xff)]:_0xa11fdf['lzDkN'])+'\x0a',_0x5850aa+=_0x407784(0x12e)+_0xa11fdf[_0x407784(0x108)](_0x10e39c,_0xa11fdf['YgYko'])+'\x0a',_0xfef57f&&(_0x5850aa+=_0xa11fdf['IGfUd'],_0x5850aa+=_0x407784(0x168)+(_0xfef57f[_0x407784(0x132)]||_0xa11fdf[_0x407784(0x10f)])+'\x0a',_0x5850aa+='\x20\x20Code:\x20'+(_0xfef57f['code']||_0xa11fdf['YgYko'])+'\x0a',_0x5850aa+=_0x407784(0x1a9)+(_0xfef57f[_0x407784(0x128)]||_0xa11fdf[_0x407784(0x10f)])+'\x0a'),_0x5850aa+='\x0a\x0a';}),_0x5850aa+=_0xa11fdf[_0x4a64be(0x13a)],_0xa11fdf[_0x4a64be(0x185)](_0x2400c8,null)?_0x5850aa+=_0x4a64be(0x116)+global_registry['clusterName']+'\x20'+(_0x2400c8?_0xa11fdf['uRmdj']:_0xa11fdf['HPakl'])+'\x0a\x0a':_0x5850aa+=_0x4a64be(0x116)+global_registry[_0x4a64be(0x133)]+'\x20details\x20cannot\x20be\x20fetched\x0a\x0a',_0x5850aa+=_0xa11fdf['veKLl'](getSystemMetaData),_0x5850aa;};exports[a17_0x39a44d(0x1eb)]=async function(_0x52c9c6){const _0x5820a8=a17_0x39a44d,_0x527b09={'DtTxJ':function(_0x1e6816){return _0x1e6816();},'BDvVm':function(_0x475d68){return _0x475d68();},'iYtMg':'Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','jgcbS':function(_0x2ccda2,_0x2980fa,_0x32a899,_0x25aa92,_0x3eb166,_0x5224f3,_0x1add08,_0x5c581f){return _0x2ccda2(_0x2980fa,_0x32a899,_0x25aa92,_0x3eb166,_0x5224f3,_0x1add08,_0x5c581f);},'DtFvv':_0x5820a8(0x160),'yzcNb':_0x5820a8(0x16c),'oMVPo':_0x5820a8(0x12d),'abOsp':function(_0x4ffd87,_0x1f955d,_0x28cef5,_0x275202,_0x4e5643,_0x378767,_0x48659b){return _0x4ffd87(_0x1f955d,_0x28cef5,_0x275202,_0x4e5643,_0x378767,_0x48659b);},'Sgfnz':_0x5820a8(0x170),'dygZW':_0x5820a8(0x1d4),'rgApx':function(_0x68a0a1,_0x3a27ae,_0x539837){return _0x68a0a1(_0x3a27ae,_0x539837);},'fBVAH':function(_0x227233,_0x1cc0ee,_0x359e2f){return _0x227233(_0x1cc0ee,_0x359e2f);},'vgoEa':function(_0x4e4c4c,_0x143f5d,_0x445f22,_0x56ff57,_0x11f167,_0x59ebc7,_0x2d970c){return _0x4e4c4c(_0x143f5d,_0x445f22,_0x56ff57,_0x11f167,_0x59ebc7,_0x2d970c);},'xyrlD':_0x5820a8(0x12a),'fQDUz':'toolInstalledResp','ltZGu':'2|1|0|3|4','pRTxx':function(_0x491d34,_0x58ca46,_0xc4e45c,_0x553e5f,_0x4f64e2,_0x2e7196,_0x51ad0c,_0x4cccc6){return _0x491d34(_0x58ca46,_0xc4e45c,_0x553e5f,_0x4f64e2,_0x2e7196,_0x51ad0c,_0x4cccc6);},'ByTRL':function(_0x47900f,_0x56eb75,_0x1166bf){return _0x47900f(_0x56eb75,_0x1166bf);},'CBxqF':_0x5820a8(0x1e9),'wUGbL':function(_0x3610aa){return _0x3610aa();},'Ivndh':'isTrialGridAccessible','smdCj':function(_0x37c0cd,_0x3523ed){return _0x37c0cd(_0x3523ed);},'SyOyf':'TLSv1_2_client_method','GBznM':function(_0x37212c,_0x5e5fa3,_0x189284){return _0x37212c(_0x5e5fa3,_0x189284);},'MqNai':_0x5820a8(0x1b1),'ScLCP':_0x5820a8(0x1a3),'jkZUW':_0x5820a8(0x114),'LFpqV':_0x5820a8(0x1cf),'ihJim':_0x5820a8(0xf9),'kAnpk':function(_0x39fecb,_0x5b5b86){return _0x39fecb+_0x5b5b86;},'UKMZX':'utf-8','lBbku':function(_0x4612c4,_0x6f2e9f,_0x4583b7,_0x2e9060,_0x172372,_0x5bb644,_0x27eca0){return _0x4612c4(_0x6f2e9f,_0x4583b7,_0x2e9060,_0x172372,_0x5bb644,_0x27eca0);},'lYBpr':_0x5820a8(0x1c8)};let _0x8b1f7a,_0xdad396;try{global_registry[_0x5820a8(0x129)]=_0x527b09[_0x5820a8(0x1b5)](uuidv4);!fs[_0x5820a8(0x102)](_0x527b09['BDvVm'](getCredentialsPath))&&(_0xdad396=_0x527b09[_0x5820a8(0x146)],logger[_0x5820a8(0x12d)](_0xdad396),await _0x527b09['jgcbS'](reportToGalactusAndSendToEDS,_0x52c9c6,_0x8b1f7a,_0xdad396,messageTypes['ERROR'],_0x527b09[_0x5820a8(0x1ee)],_0x527b09[_0x5820a8(0x19d)],_0x527b09[_0x5820a8(0x1c4)]),process[_0x5820a8(0x159)](0x1));_0x527b09[_0x5820a8(0x180)](sendInstrumentationEvent,_0x52c9c6,_0x527b09['DtFvv'],messageTypes[_0x5820a8(0x184)],null,null,_0x52c9c6);const _0x2310da=JSON[_0x5820a8(0x17a)](fs[_0x5820a8(0x1f8)](_0x527b09['BDvVm'](getCredentialsPath)));global_registry['bstackUsername']=_0x2310da[_0x5820a8(0x10b)][_0x5820a8(0x1fb)],global_registry[_0x5820a8(0x1f9)]=_0x2310da[_0x5820a8(0x10b)][_0x5820a8(0x1a6)];const _0x39064d=WS_ENDPOINT[_0x5820a8(0x178)](_0x527b09[_0x5820a8(0x14a)],_0x2310da[_0x5820a8(0x10b)][_0x5820a8(0x1fb)])[_0x5820a8(0x178)](_0x527b09['dygZW'],_0x2310da[_0x5820a8(0x10b)]['password']),_0x1ae538={};_0x1ae538[_0x5820a8(0x1e2)]=ws,_0x1ae538[_0x5820a8(0x148)]=0x36ee80,_0x8b1f7a=new ReconnectingWebSocket(_0x39064d,[],_0x1ae538),global_registry[_0x5820a8(0x13e)]=_0x527b09[_0x5820a8(0x1ca)](getAuthHeader,global_registry[_0x5820a8(0x15e)],global_registry[_0x5820a8(0x1f9)]),await _0x527b09[_0x5820a8(0x1e3)](inputValidation,_0x52c9c6,_0x8b1f7a),logger['info'](_0x5820a8(0x1f6)+global_registry[_0x5820a8(0x1de)]+_0x5820a8(0x122)+global_registry[_0x5820a8(0x112)]);let _0x43d9e4=await _0x527b09[_0x5820a8(0x1c3)](getCloudProviderObjectWithOutInit,global_registry['cloudProvider'],global_registry[_0x5820a8(0x133)],_0x527b09[_0x5820a8(0x109)],_0x8b1f7a,webSocketUtils,_0x52c9c6);const _0x467452=await _0x43d9e4[_0x5820a8(0x10d)]();_0x527b09[_0x5820a8(0x1e3)](printResponse,_0x527b09[_0x5820a8(0x167)],_0x467452),_0x43d9e4=await _0x43d9e4[_0x5820a8(0x1d0)]();let _0x50e76e=![];try{_0x50e76e=await _0x43d9e4['isClusterPresent']();}catch(_0xb9a97e){const _0x2fe203=_0x527b09[_0x5820a8(0x1a0)][_0x5820a8(0x181)]('|');let _0x4a8a6f=0x0;while(!![]){switch(_0x2fe203[_0x4a8a6f++]){case'0':logger[_0x5820a8(0x12d)](_0xdad396);continue;case'1':_0x50e76e=null;continue;case'2':_0xdad396='unable\x20to\x20verify\x20if\x20cluster\x20`'+global_registry[_0x5820a8(0x133)]+_0x5820a8(0x19a)+global_registry['clusterRegion']+_0x5820a8(0x19b)+_0xb9a97e;continue;case'3':_0xdad396+='\x0a'+JSON[_0x5820a8(0x17f)](_0xb9a97e['stack']);continue;case'4':await _0x527b09[_0x5820a8(0x14b)](reportToGalactusAndSendToEDS,_0x52c9c6,_0x8b1f7a,_0xdad396,messageTypes[_0x5820a8(0x16e)],_0x527b09['DtFvv'],_0x5820a8(0x1c0)+global_registry['cloudProvider'],_0x527b09[_0x5820a8(0x1c4)]);continue;}break;}}_0x50e76e&&logger[_0x5820a8(0x14d)]('Cluster\x20`'+global_registry[_0x5820a8(0x133)]+_0x5820a8(0x1f3));const _0x107d2f=await _0x43d9e4['checkAccess']();_0x527b09[_0x5820a8(0x17b)](printResponse,_0x527b09[_0x5820a8(0x1bc)],_0x107d2f);const _0x32cac8=await _0x527b09[_0x5820a8(0x1a1)](curlRequest);_0x527b09['ByTRL'](printResponse,_0x527b09[_0x5820a8(0x149)],_0x32cac8);const _0xe7100e=await _0x527b09[_0x5820a8(0x120)](isTlsSupported,_0x527b09[_0x5820a8(0x183)]);_0x527b09['GBznM'](printResponse,_0x527b09[_0x5820a8(0x1fc)],_0xe7100e);const _0x2ca58a={};_0x2ca58a[_0x5820a8(0x156)]=_0x527b09[_0x5820a8(0x175)],_0x2ca58a[_0x5820a8(0x187)]=_0x467452;const _0x5aa550={};_0x5aa550[_0x5820a8(0x156)]=_0x527b09[_0x5820a8(0x1d1)],_0x5aa550[_0x5820a8(0x187)]=_0x107d2f;const _0x5ecf25={};_0x5ecf25['header']=_0x527b09[_0x5820a8(0x143)],_0x5ecf25[_0x5820a8(0x187)]=_0x32cac8;const _0xded896={};_0xded896['header']=_0x527b09[_0x5820a8(0x118)],_0xded896['response']=_0xe7100e;const _0xcb8cb7=[_0x2ca58a,_0x5aa550,_0x5ecf25,_0xded896],_0x3c4937=await _0x527b09[_0x5820a8(0x17b)](generateReport,_0xcb8cb7,_0x50e76e),_0x11d3b0=new Date(),_0x48cadb=_0x11d3b0['getUTCFullYear']()+'_'+_0x527b09[_0x5820a8(0x1f2)](_0x11d3b0[_0x5820a8(0x1a5)](),0x1)+'_'+_0x11d3b0[_0x5820a8(0x10a)]()+'_'+_0x11d3b0['getUTCHours']()+'_'+_0x11d3b0['getUTCMinutes'](),_0x24a205=_0x5820a8(0x107)+_0x48cadb+_0x5820a8(0x103);fs[_0x5820a8(0x105)](_0x24a205,_0x3c4937,_0x527b09[_0x5820a8(0x130)]),logger['info'](_0x5820a8(0x1a7)+_0x24a205),process[_0x5820a8(0x159)](0x0);}catch(_0x2238f8){let _0x468910=_0x5820a8(0x1cd)+_0x2238f8+'\x20';logger[_0x5820a8(0x12d)](_0x468910),_0x468910+='\x0a'+JSON[_0x5820a8(0x17f)](_0x2238f8['stack']),logger[_0x5820a8(0x18b)]('stack\x20trace\x20'+_0x2238f8['stack']);if(_0x8b1f7a){const _0x202fdc={};_0x202fdc[_0x5820a8(0x139)]=WS_EVENTS['LOG'],_0x202fdc[_0x5820a8(0x132)]=_0x468910,webSocketUtils[_0x5820a8(0x190)](_0x8b1f7a,_0x202fdc,_0x527b09[_0x5820a8(0x1c4)],!![]);}await webSocketUtils[_0x5820a8(0x124)](0x7d0);const _0x40800e={};_0x40800e[_0x5820a8(0x12d)]=_0x468910,await _0x527b09[_0x5820a8(0xfe)](sendInstrumentationEvent,_0x52c9c6,_0x527b09[_0x5820a8(0x1ee)],messageTypes[_0x5820a8(0x16e)],_0x527b09[_0x5820a8(0x1a8)],_0x40800e,_0x52c9c6),process[_0x5820a8(0x159)](0x1);}};