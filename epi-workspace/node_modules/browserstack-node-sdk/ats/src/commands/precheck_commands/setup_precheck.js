const a17_0x301b62=a17_0x54db;function a17_0x54db(_0x44e1f7,_0x161050){const _0x26fb15=a17_0x26fb();return a17_0x54db=function(_0x54db7d,_0x26ddfb){_0x54db7d=_0x54db7d-0x121;let _0x13c5a7=_0x26fb15[_0x54db7d];return _0x13c5a7;},a17_0x54db(_0x44e1f7,_0x161050);}function a17_0x26fb(){const _0x13ff8f=['body','pSwwd','password','handler','`\x20is\x20present\x20in\x20region\x20`','hMJyt','push','error','\x20\x20Code:\x20','name','Status:\x20','message','LUtoD','isTls1_2_SUPPORTED','xlykV','ExQCV','UFDVq','fmfQC','654082JBjMfx','string','SWKJE','Error\x20Details:\x0a','ZXfdG','cloud-provider-not-supported','UVLvC','LNuzN','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','QskVs','init','uuid','N/A','WsHgI','debug','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','replace','\x20error\x20:\x20','grid','927932TUOgQZ','pre_check','../../utils/utilityMethods','Vzspq','WYAef','headers','rcOhr','code','credential-not-found','fKxbI','nWMIo','EoiTJ','help','grid-profile','getUTCFullYear','usage','TFKTo','clusterName','clusterRegion','exit','uqGXe','WNNWN','LOG','rSGpY','Whitelisted\x20browserstack','sendEventToBackend','argv','CmIJO','../../config/logger','BlofK','VKkHs','sFFaw','is\x20already\x20present','authHeader','error\x20stack\x20:\x20','ULkFk','pre-check-grid-called','YsEqc','region','loelM','isTrialGridAccessible','description','<UsernamePlaceholder>','dasbN','https://','eXIaN','Message:\x20','`\x20,error\x20:\x20','cluster-check-failed-','username','options','cluster-name','header','opNKD','tGNEJ','8851504TGnBXM','wExBo','join','NbcLZ','rTSzV','data','tAAsA','requestId','Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','command','log/report_','QJkch','Failed\x20in\x20pre-check!\x20Error:\x20','lwJOq','cYRSt','getUTCMonth','\x20data\x20:\x20','bkhxl','WCljJ','nbKSn','VxKAR','gaMmB','Cluster\x20','slNVX','Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20','getUTCDate','aKkbe','dWFvy','Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup','AofIs','ZksWG','Oresy','FEAWB','ZeDkU','gPJAP','fAfkl','Cluster\x20details\x0a-----------------------\x0a','pre-check','yQeJr','.\x20Please\x20provide\x20all\x20required\x20arguments.','info','VwNsC','oVIBP','LcnZg','dIIvo','zTupK','RyFue','existsSync','CLOUD_PROVIDER','qakOO','gstUD','SSL\x20Configured','\x20\x20Message:\x20','getUTCHours','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','Success','response','ueDsG','\x20===\x0a\x0a','GOxlQ','GxiPS','stack','436545CbIBjI','nTMTm','tcJDv','CLcDf','will\x20be\x20created','.txt','260916ZAjlbZ','Setting\x20cloud\x20provider\x20as\x20','includes','toolInstalledResp','XQjYl','Failure','\x20\x20Stack:\x20','type','Grid\x20profile\x20fetched\x20for\x20pre-check','ROmtL','throwHttpErrors','<PasswordPlaceholder>','zjJgU','EbMfl','gIVDI','giCwQ','WhTlC','readFileSync','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','gkoWy','bstackAccesskey','status','WinBo','connectionTimeout','Invalid\x20input.\x20grid\x20profiles:\x20','ckMid','isCliToolInstalled','===\x20Precheck\x20Report\x20-\x20','delay','ZmfBn',']\x20status\x20:\x20','epilogue','WebSocket','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','gridProfile','1225476Bduuib','cloudProvider','toLowerCase','rQyLH','parse','kNMoW','IdlpV','pBURM','5ebUKsq','INFO','XApGE','SkxVX','Browserstack','GET','TdcQZ','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','ERROR','jmILc','bohnO','lYCdl','TTxBn','TLSv1_2_client_method','ZXbbT','reconnecting-websocket','loPao','WDijV','Cluster\x20`','HAqok','forEach','beYHt','mFCSR','VfGcf','/packages/cli/get-all-grid-profiles','0|4|1|3|2','../../utils/instrumentationUtils','KFNOn','jcrQZ','pre-check-cluster-args-not-passed','pre-check-grid-profile-empty','writeFileSync','Tool\x20Installed','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','BdLlp','ADlKb','cloud-provider','rmBVK','../../cloudproviders/utils','.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again','1860859snOXUQ','wQZZE'];a17_0x26fb=function(){return _0x13ff8f;};return a17_0x26fb();}(function(_0x46e0be,_0x42cffb){const _0x14f378=a17_0x54db,_0x41b916=_0x46e0be();while(!![]){try{const _0x503d01=-parseInt(_0x14f378(0x1b9))/0x1+-parseInt(_0x14f378(0x12b))/0x2+-parseInt(_0x14f378(0x1b3))/0x3+-parseInt(_0x14f378(0x13e))/0x4*(parseInt(_0x14f378(0x1e4))/0x5)+-parseInt(_0x14f378(0x1dc))/0x6+parseInt(_0x14f378(0x20c))/0x7+parseInt(_0x14f378(0x175))/0x8;if(_0x503d01===_0x42cffb)break;else _0x41b916['push'](_0x41b916['shift']());}catch(_0x360b97){_0x41b916['push'](_0x41b916['shift']());}}}(a17_0x26fb,0x3174e));const fs=require('fs'),ws=require('ws'),got=require('got'),{v4:uuidv4}=require(a17_0x301b62(0x136)),ReconnectingWebSocket=require(a17_0x301b62(0x1f3)),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require(a17_0x301b62(0x140)),{logger}=require(a17_0x301b62(0x15a)),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require('../../config/constants'),{getCloudProviderObjectWithOutInit}=require(a17_0x301b62(0x20a)),webSocketUtils=require('../../utils/webSocketUtils'),{sendInstrumentationEvent}=require(a17_0x301b62(0x1fe));exports[a17_0x301b62(0x17e)]=a17_0x301b62(0x13d),exports['desc']=a17_0x301b62(0x191),exports['builder']=function(_0x54a195){const _0x5427d4=a17_0x301b62,_0x5f0240={};_0x5f0240[_0x5427d4(0x1c7)]=_0x5427d4(0x205),_0x5f0240['jcrQZ']=_0x5427d4(0x12c),_0x5f0240['giCwQ']=_0x5427d4(0x1cb),_0x5f0240[_0x5427d4(0x1f2)]=_0x5427d4(0x1da),_0x5f0240[_0x5427d4(0x169)]=_0x5427d4(0x1eb),_0x5f0240[_0x5427d4(0x1ee)]=_0x5427d4(0x14a);const _0x472961=_0x5f0240,_0x2b4478={};_0x2b4478[_0x5427d4(0x167)]=_0x472961['gIVDI'],_0x2b4478[_0x5427d4(0x1c0)]=_0x472961[_0x5427d4(0x200)];const _0x137a80={};_0x137a80[_0x5427d4(0x167)]=_0x472961[_0x5427d4(0x1c8)],_0x137a80['type']=_0x472961[_0x5427d4(0x200)];const _0x25c4df={};_0x25c4df[_0x5427d4(0x167)]=_0x472961[_0x5427d4(0x1f2)],_0x25c4df[_0x5427d4(0x1c0)]=_0x472961[_0x5427d4(0x200)];const _0x208cf6={};_0x208cf6[_0x5427d4(0x167)]=_0x472961[_0x5427d4(0x169)],_0x208cf6['type']=_0x472961[_0x5427d4(0x200)];const _0x3b7678={};return _0x3b7678[_0x5427d4(0x171)]=_0x2b4478,_0x3b7678[_0x5427d4(0x208)]=_0x137a80,_0x3b7678[_0x5427d4(0x164)]=_0x25c4df,_0x3b7678[_0x5427d4(0x14b)]=_0x208cf6,_0x54a195[_0x5427d4(0x14d)](HELP_HEADER_MESSAGE['pre_check'])[_0x5427d4(0x1d8)](HELP_FOOTER_MESSAGE)[_0x5427d4(0x170)](_0x3b7678)[_0x5427d4(0x14a)](_0x472961[_0x5427d4(0x1ee)])[_0x5427d4(0x158)];};async function inputValidation(_0x327e4b,_0x5a053a){const _0x594c6c=a17_0x301b62,_0x58a2f2={'QJkch':_0x594c6c(0x205),'LcnZg':_0x594c6c(0x12c),'wgvWR':'Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','cKqIL':_0x594c6c(0x1da),'tmMmc':_0x594c6c(0x1eb),'slNVX':'help','eXIaN':_0x594c6c(0x171),'HAqok':_0x594c6c(0x208),'opNKD':_0x594c6c(0x12e),'WsHgI':_0x594c6c(0x137),'nbKSn':_0x594c6c(0x15e),'gPJAP':_0x594c6c(0x1b7),'loPao':_0x594c6c(0x1ab),'LUtoD':_0x594c6c(0x215),'QskVs':_0x594c6c(0x164),'WCljJ':function(_0x3bf093,_0xfd3c1e){return _0x3bf093===_0xfd3c1e;},'rmBVK':_0x594c6c(0x18a),'aKkbe':function(_0x24536d,_0x3986fc){return _0x24536d!==_0x3986fc;},'ZXfdG':_0x594c6c(0x1f5),'ADlKb':_0x594c6c(0x194),'GqtwI':_0x594c6c(0x1e3),'mIRlq':_0x594c6c(0x128),'rTSzV':function(_0x360ee3,_0x206a63){return _0x360ee3!==_0x206a63;},'VfGcf':'iENiH','ZksWG':function(_0x4bcfff,_0x5f13dc){return _0x4bcfff!==_0x5f13dc;},'TdcQZ':'OqZJz','wExBo':function(_0xf117be,_0x390db6){return _0xf117be>_0x390db6;},'tcJDv':function(_0x4b14e0,_0x1c9384){return _0x4b14e0===_0x1c9384;},'gkoWy':_0x594c6c(0x1cf),'pSwwd':function(_0x27c20a,_0x51e7c9,_0x2e70ea,_0x53ba33,_0xa39563,_0x1fa43f,_0x59f49d,_0x209a91){return _0x27c20a(_0x51e7c9,_0x2e70ea,_0x53ba33,_0xa39563,_0x1fa43f,_0x59f49d,_0x209a91);},'fAfkl':'pre-check-grid-called','wQZZE':_0x594c6c(0x201),'XQjYl':_0x594c6c(0x15c),'NbcLZ':_0x594c6c(0x12d),'uOcPW':_0x594c6c(0x17d),'Vzspq':function(_0x579870,_0x50a7a9,_0x1a7f27,_0x348f2c,_0x34a85f,_0x2db864,_0x4e6f26,_0x48eca7){return _0x579870(_0x50a7a9,_0x1a7f27,_0x348f2c,_0x34a85f,_0x2db864,_0x4e6f26,_0x48eca7);},'ZeDkU':_0x594c6c(0x130),'fmfQC':function(_0x54789e,_0x15beec){return _0x54789e===_0x15beec;},'WhTlC':'LERjc','jmILc':function(_0x56e837,_0x5458ba){return _0x56e837!==_0x5458ba;},'WYAef':_0x594c6c(0x127),'qakOO':_0x594c6c(0x19e),'WjqEk':_0x594c6c(0x1e9),'ueDsG':function(_0x5857d4,_0x1a97fa,_0x61b4c2){return _0x5857d4(_0x1a97fa,_0x61b4c2);},'KFNOn':function(_0x314ea0,_0x3fdd22,_0x210a23,_0x466e54,_0x74a6c3,_0x258c8c){return _0x314ea0(_0x3fdd22,_0x210a23,_0x466e54,_0x74a6c3,_0x258c8c);},'ZyggX':_0x594c6c(0x19a),'ZngoS':_0x594c6c(0x14b),'nWMIo':'ovSUy','LIyWd':function(_0x4407da,_0xdc157f){return _0x4407da(_0xdc157f);},'rcOhr':_0x594c6c(0x19b),'EbMfl':_0x594c6c(0x1b0),'cnzat':_0x594c6c(0x202),'VxKAR':_0x594c6c(0x190),'CmIJO':_0x594c6c(0x15b),'cYRSt':function(_0x23d504,_0x2fef91){return _0x23d504===_0x2fef91;},'lYCdl':_0x594c6c(0x1fa),'XApGE':_0x594c6c(0x1c1),'rQyLH':function(_0x7b6981,_0x2906bb){return _0x7b6981===_0x2906bb;},'bkhxl':'DBNAR','jrxoP':function(_0x2777c3,_0x15d6ae){return _0x2777c3===_0x15d6ae;},'sFFaw':'MLINE'};let _0x186f33;try{if(_0x58a2f2[_0x594c6c(0x187)](_0x58a2f2[_0x594c6c(0x209)],_0x58a2f2[_0x594c6c(0x209)])){if(_0x327e4b['clusterName']||_0x327e4b['cloudProvider']||_0x327e4b['region']){if(_0x58a2f2[_0x594c6c(0x18f)](_0x58a2f2[_0x594c6c(0x12f)],_0x58a2f2[_0x594c6c(0x207)])){const _0x37c090=[];if(!_0x327e4b[_0x594c6c(0x14f)]){if(_0x58a2f2['aKkbe'](_0x58a2f2['GqtwI'],_0x58a2f2['mIRlq']))_0x37c090['push'](_0x58a2f2[_0x594c6c(0x16b)]);else{const _0x35b300={};_0x35b300[_0x594c6c(0x167)]=_0x58a2f2[_0x594c6c(0x180)],_0x35b300[_0x594c6c(0x1c0)]=_0x58a2f2[_0x594c6c(0x1a0)];const _0x395b06={};_0x395b06['description']=_0x58a2f2['wgvWR'],_0x395b06['type']=_0x58a2f2[_0x594c6c(0x1a0)];const _0x144828={};_0x144828[_0x594c6c(0x167)]=_0x58a2f2['cKqIL'],_0x144828[_0x594c6c(0x1c0)]=_0x58a2f2[_0x594c6c(0x1a0)];const _0x5a223e={};_0x5a223e[_0x594c6c(0x167)]=_0x58a2f2['tmMmc'],_0x5a223e[_0x594c6c(0x1c0)]=_0x58a2f2[_0x594c6c(0x1a0)];const _0x3494ef={};return _0x3494ef[_0x594c6c(0x171)]=_0x35b300,_0x3494ef['cloud-provider']=_0x395b06,_0x3494ef[_0x594c6c(0x164)]=_0x144828,_0x3494ef[_0x594c6c(0x14b)]=_0x5a223e,_0x463c9f[_0x594c6c(0x14d)](_0x18493d[_0x594c6c(0x13f)])['epilogue'](_0x3138af)[_0x594c6c(0x170)](_0x3494ef)[_0x594c6c(0x14a)](_0x58a2f2[_0x594c6c(0x18c)])['argv'];}};!_0x327e4b[_0x594c6c(0x1dd)]&&(_0x58a2f2[_0x594c6c(0x179)](_0x58a2f2[_0x594c6c(0x1fb)],_0x58a2f2[_0x594c6c(0x1fb)])?_0x4f7e62[_0x594c6c(0x214)](_0x58a2f2[_0x594c6c(0x16b)]):_0x37c090[_0x594c6c(0x214)](_0x58a2f2[_0x594c6c(0x1f7)]));;!_0x327e4b[_0x594c6c(0x164)]&&(_0x58a2f2[_0x594c6c(0x193)](_0x58a2f2['TdcQZ'],_0x58a2f2[_0x594c6c(0x1ea)])?_0x4cf435[_0x594c6c(0x19d)]('Cluster\x20`'+_0x41c275[_0x594c6c(0x14f)]+'`\x20already\x20exists'):_0x37c090[_0x594c6c(0x214)](_0x58a2f2[_0x594c6c(0x134)]));;_0x58a2f2[_0x594c6c(0x176)](_0x37c090['length'],0x0)&&(_0x58a2f2[_0x594c6c(0x1b5)](_0x58a2f2[_0x594c6c(0x1cc)],_0x58a2f2[_0x594c6c(0x1cc)])?(_0x186f33='Missing\x20required\x20arguments:\x20'+_0x37c090[_0x594c6c(0x177)](',\x20')+_0x594c6c(0x19c),await _0x58a2f2['pSwwd'](reportToGalactusAndSendToEDS,_0x327e4b,_0x5a053a,_0x186f33,messageTypes[_0x594c6c(0x1ec)],_0x58a2f2[_0x594c6c(0x198)],_0x58a2f2[_0x594c6c(0x20d)],_0x58a2f2['LUtoD']),logger[_0x594c6c(0x215)](_0x186f33),process[_0x594c6c(0x151)](0x1)):_0x57071a[_0x594c6c(0x214)](_0x58a2f2[_0x594c6c(0x1f7)])),!ALL_SUPPORTED_CLOUD_PROVIDERS[_0x594c6c(0x1bb)](_0x327e4b['cloudProvider'][_0x594c6c(0x1de)]())&&(_0x58a2f2[_0x594c6c(0x179)](_0x58a2f2[_0x594c6c(0x1bd)],_0x58a2f2[_0x594c6c(0x178)])?(_0x186f33=_0x58a2f2['uOcPW'],await _0x58a2f2[_0x594c6c(0x141)](reportToGalactusAndSendToEDS,_0x327e4b,_0x5a053a,_0x186f33,messageTypes['ERROR'],_0x58a2f2[_0x594c6c(0x198)],_0x58a2f2[_0x594c6c(0x196)],_0x58a2f2['LUtoD']),logger[_0x594c6c(0x215)](_0x186f33),!_0x327e4b[_0x594c6c(0x1dd)]&&(_0x58a2f2[_0x594c6c(0x12a)](_0x58a2f2[_0x594c6c(0x1c9)],_0x58a2f2[_0x594c6c(0x1c9)])?(logger[_0x594c6c(0x19d)](_0x594c6c(0x1ba)+DEFAULT_CLUSTER_DETAILS[_0x594c6c(0x1a5)]+'\x20'),_0x327e4b['cloudProvider']=DEFAULT_CLUSTER_DETAILS[_0x594c6c(0x1a5)]):(_0x421ca9+=_0x58a2f2[_0x594c6c(0x173)],_0x447de5+=_0x594c6c(0x1a9)+(_0x5c8ef4[_0x594c6c(0x124)]||_0x58a2f2[_0x594c6c(0x138)])+'\x0a',_0x34bcc3+=_0x594c6c(0x121)+(_0x2f9448['code']||_0x58a2f2['WsHgI'])+'\x0a',_0x39f1e3+=_0x594c6c(0x1bf)+(_0x3199ae[_0x594c6c(0x1b2)]||_0x58a2f2[_0x594c6c(0x138)])+'\x0a'))):_0x399d3c+=_0x594c6c(0x18b)+_0x85f28e[_0x594c6c(0x14f)]+_0x594c6c(0x13a)),global_registry[_0x594c6c(0x14f)]=_0x327e4b['clusterName'],global_registry[_0x594c6c(0x1dd)]=_0x327e4b[_0x594c6c(0x1dd)],global_registry['clusterRegion']=_0x327e4b['region'];}else _0x14d6c8[_0x594c6c(0x19d)]('['+_0x55af68+']\x20status\x20:\x20'+_0x5dfe05[_0x594c6c(0x1ce)]+_0x594c6c(0x185)+_0x2b7828['data']+_0x594c6c(0x13c)+_0x13a277[_0x594c6c(0x215)]),_0x14b9f8[_0x594c6c(0x215)]&&_0x191315[_0x594c6c(0x215)](_0x594c6c(0x160)+_0x315c64[_0x594c6c(0x215)]['stack']);}else{if(_0x327e4b[_0x594c6c(0x1db)]){if(_0x58a2f2['jmILc'](_0x58a2f2[_0x594c6c(0x142)],_0x58a2f2[_0x594c6c(0x1a6)])){global_registry[_0x594c6c(0x1db)]=_0x327e4b[_0x594c6c(0x1db)],logger[_0x594c6c(0x139)]('grid\x20profile\x20flow\x20'+_0x327e4b[_0x594c6c(0x1db)]);const _0x504c4f=_0x594c6c(0x16a)+AG_API_URL+_0x594c6c(0x1fc),_0x1ba030={};_0x1ba030['method']=_0x58a2f2['WjqEk'],_0x1ba030[_0x594c6c(0x143)]=global_registry[_0x594c6c(0x15f)],_0x1ba030[_0x594c6c(0x1c3)]=![];const _0x308ef4=_0x1ba030,_0x39d146=await _0x58a2f2[_0x594c6c(0x1ae)](got,_0x504c4f,_0x308ef4),_0x4a1609=await _0x58a2f2[_0x594c6c(0x1ff)](responseValidation,_0x39d146,_0x58a2f2['ZyggX'],_0x58a2f2['ZngoS'],_0x327e4b,_0x5a053a);let _0x23eb60={};if(_0x58a2f2[_0x594c6c(0x1b5)](_0x4a1609,0xc8)){if(_0x58a2f2[_0x594c6c(0x1ed)](_0x58a2f2[_0x594c6c(0x148)],_0x58a2f2[_0x594c6c(0x148)]))_0x275c67[_0x594c6c(0x19d)]('Setting\x20cloud\x20provider\x20as\x20'+_0x21e0f9[_0x594c6c(0x1a5)]+'\x20'),_0x22410f['cloudProvider']=_0x567978[_0x594c6c(0x1a5)];else{const _0x55a334=JSON[_0x594c6c(0x1e0)](_0x39d146[_0x594c6c(0x20e)]),_0x1a5fce=_0x55a334['find'](_0x105822=>_0x105822[_0x594c6c(0x122)]===_0x327e4b[_0x594c6c(0x1db)])||null;_0x58a2f2['LIyWd'](isUndefined,_0x1a5fce)?_0x58a2f2[_0x594c6c(0x1ed)](_0x58a2f2[_0x594c6c(0x144)],_0x58a2f2[_0x594c6c(0x1c6)])?(_0x186f33=_0x594c6c(0x1d1)+_0x327e4b['gridProfile']+_0x594c6c(0x20b),await _0x58a2f2[_0x594c6c(0x20f)](reportToGalactusAndSendToEDS,_0x327e4b,_0x5a053a,_0x186f33,messageTypes['ERROR'],_0x58a2f2[_0x594c6c(0x198)],_0x58a2f2['cnzat'],_0x58a2f2[_0x594c6c(0x125)]),logger[_0x594c6c(0x215)](_0x186f33),process['exit'](0x1)):_0x3e4b37+=_0x594c6c(0x18b)+_0x42bc9a['clusterName']+'\x20'+(_0x5a35a9?_0x58a2f2[_0x594c6c(0x188)]:_0x58a2f2[_0x594c6c(0x197)])+'\x0a\x0a':_0x58a2f2['WCljJ'](_0x58a2f2[_0x594c6c(0x189)],_0x58a2f2[_0x594c6c(0x159)])?(_0x30dd33[_0x594c6c(0x215)](_0x58a2f2['loPao']),_0x8b7a23['exit'](0x1)):_0x23eb60=_0x1a5fce;}}else _0x58a2f2[_0x594c6c(0x183)](_0x58a2f2[_0x594c6c(0x1ef)],_0x58a2f2[_0x594c6c(0x1ef)])?process[_0x594c6c(0x151)](0x1):_0x44613d[_0x594c6c(0x151)](0x1);const _0x3de780={};_0x3de780[_0x594c6c(0x1c0)]=WS_EVENTS['LOG'],_0x3de780[_0x594c6c(0x124)]=_0x58a2f2[_0x594c6c(0x1e6)],webSocketUtils[_0x594c6c(0x157)](_0x5a053a,_0x3de780),global_registry[_0x594c6c(0x1dd)]=_0x23eb60['cloudProvider'],global_registry[_0x594c6c(0x150)]=_0x23eb60['region'],global_registry[_0x594c6c(0x14f)]=_0x23eb60[_0x594c6c(0x14f)];}else _0x4732f5=_0x309535;}else{if(_0x58a2f2[_0x594c6c(0x1df)](_0x58a2f2[_0x594c6c(0x186)],_0x58a2f2[_0x594c6c(0x186)]))logger[_0x594c6c(0x215)](_0x58a2f2[_0x594c6c(0x1f4)]),process[_0x594c6c(0x151)](0x1);else{const _0x21abc5={};_0x21abc5[_0x594c6c(0x1c0)]=_0x5e2ee0[_0x594c6c(0x154)],_0x21abc5['message']=_0x819e49,_0x8ddcf[_0x594c6c(0x157)](_0x5edec7,_0x21abc5,_0x58a2f2[_0x594c6c(0x125)],!![]);}}}}else _0x23b638['error'](_0x594c6c(0x160)+_0x5e3bfe[_0x594c6c(0x215)][_0x594c6c(0x1b2)]);}catch(_0x503859){_0x58a2f2['jrxoP'](_0x58a2f2[_0x594c6c(0x15d)],_0x58a2f2[_0x594c6c(0x15d)])?(_0x186f33=_0x594c6c(0x18d)+_0x503859+':\x20'+_0x503859[_0x594c6c(0x1b2)],logger['error'](_0x186f33),await _0x58a2f2[_0x594c6c(0x20f)](reportToGalactusAndSendToEDS,_0x327e4b,_0x5a053a,_0x186f33,messageTypes['ERROR'],_0x58a2f2[_0x594c6c(0x198)],_0x58a2f2[_0x594c6c(0x196)],_0x58a2f2['LUtoD']),process[_0x594c6c(0x151)](0x1)):_0x4a44cd[_0x594c6c(0x214)](_0x58a2f2[_0x594c6c(0x134)]);}}function printResponse(_0x3c35c3,_0x40b769){const _0x5a79ea=a17_0x301b62,_0x23d803={};_0x23d803[_0x5a79ea(0x1b1)]=function(_0x186488,_0x3d4a97){return _0x186488+_0x3d4a97;},_0x23d803['ZmfBn']=_0x5a79ea(0x1ac),_0x23d803['RyFue']=_0x5a79ea(0x1be),_0x23d803[_0x5a79ea(0x1a7)]=function(_0x40e4a5,_0x2b1d3a){return _0x40e4a5||_0x2b1d3a;},_0x23d803[_0x5a79ea(0x213)]=_0x5a79ea(0x137),_0x23d803[_0x5a79ea(0x1c5)]=_0x5a79ea(0x12e),_0x23d803[_0x5a79ea(0x1b4)]=function(_0x37d018,_0x391f98){return _0x37d018===_0x391f98;},_0x23d803[_0x5a79ea(0x182)]='pQNlk';const _0x4eb10d=_0x23d803;logger[_0x5a79ea(0x19d)]('['+_0x3c35c3+_0x5a79ea(0x1d7)+_0x40b769['status']+_0x5a79ea(0x185)+_0x40b769[_0x5a79ea(0x17a)]+_0x5a79ea(0x13c)+_0x40b769['error']);if(_0x40b769[_0x5a79ea(0x215)]){if(_0x4eb10d['nTMTm'](_0x4eb10d[_0x5a79ea(0x182)],_0x4eb10d[_0x5a79ea(0x182)]))logger[_0x5a79ea(0x215)](_0x5a79ea(0x160)+_0x40b769[_0x5a79ea(0x215)][_0x5a79ea(0x1b2)]);else{const {header:_0x391f71,response:_0x268bb8}=_0x4524e4,{status:_0x19f2de,data:_0x1f11a2,error:_0x59abc6}=_0x268bb8;_0x2e84cf+=_0x391f71+'\x20#'+_0x4eb10d[_0x5a79ea(0x1b1)](_0x4ca0d7,0x1)+'\x0a',_0x4c8bde+=_0x5a79ea(0x123)+(_0x19f2de?_0x4eb10d[_0x5a79ea(0x1d6)]:_0x4eb10d[_0x5a79ea(0x1a3)])+'\x0a',_0x3fb3c7+=_0x5a79ea(0x16c)+_0x4eb10d['gstUD'](_0x1f11a2,_0x4eb10d['hMJyt'])+'\x0a',_0x59abc6&&(_0x93cb9+=_0x4eb10d[_0x5a79ea(0x1c5)],_0x1521d0+=_0x5a79ea(0x1a9)+(_0x59abc6['message']||_0x4eb10d['hMJyt'])+'\x0a',_0x3451b1+='\x20\x20Code:\x20'+(_0x59abc6[_0x5a79ea(0x145)]||_0x4eb10d[_0x5a79ea(0x213)])+'\x0a',_0x34f3f4+=_0x5a79ea(0x1bf)+(_0x59abc6['stack']||_0x4eb10d[_0x5a79ea(0x213)])+'\x0a'),_0x306d37+='\x0a\x0a';}}}async function generateReport(_0x2fe1f8,_0x3fc72a){const _0x4bda07=a17_0x301b62,_0x3be9f3={'WNNWN':function(_0x45af4b,_0x12c573){return _0x45af4b+_0x12c573;},'uqGXe':_0x4bda07(0x1ac),'UFDVq':_0x4bda07(0x1be),'EoiTJ':function(_0x253e90,_0x1f28af){return _0x253e90||_0x1f28af;},'BdLlp':_0x4bda07(0x137),'BgwaW':_0x4bda07(0x12e),'tGNEJ':_0x4bda07(0x199),'hbVBm':function(_0x38faa5,_0x329f5e){return _0x38faa5!=_0x329f5e;},'XvkDW':_0x4bda07(0x15e),'IdlpV':_0x4bda07(0x1b7),'SkxVX':function(_0x3de708){return _0x3de708();}};let _0x5a4f22=_0x4bda07(0x1d4)+global_registry[_0x4bda07(0x1dd)]+_0x4bda07(0x1af);return _0x2fe1f8[_0x4bda07(0x1f8)]((_0x257664,_0x3b512b)=>{const _0x336f60=_0x4bda07,{header:_0x191d6a,response:_0x453d04}=_0x257664,{status:_0x5aee4b,data:_0x4117fb,error:_0x27308b}=_0x453d04;_0x5a4f22+=_0x191d6a+'\x20#'+_0x3be9f3[_0x336f60(0x153)](_0x3b512b,0x1)+'\x0a',_0x5a4f22+=_0x336f60(0x123)+(_0x5aee4b?_0x3be9f3[_0x336f60(0x152)]:_0x3be9f3[_0x336f60(0x129)])+'\x0a',_0x5a4f22+=_0x336f60(0x16c)+_0x3be9f3[_0x336f60(0x149)](_0x4117fb,_0x3be9f3[_0x336f60(0x206)])+'\x0a',_0x27308b&&(_0x5a4f22+=_0x3be9f3['BgwaW'],_0x5a4f22+=_0x336f60(0x1a9)+(_0x27308b['message']||_0x3be9f3[_0x336f60(0x206)])+'\x0a',_0x5a4f22+='\x20\x20Code:\x20'+(_0x27308b[_0x336f60(0x145)]||_0x3be9f3['BdLlp'])+'\x0a',_0x5a4f22+=_0x336f60(0x1bf)+(_0x27308b[_0x336f60(0x1b2)]||_0x3be9f3[_0x336f60(0x206)])+'\x0a'),_0x5a4f22+='\x0a\x0a';}),_0x5a4f22+=_0x3be9f3[_0x4bda07(0x174)],_0x3be9f3['hbVBm'](_0x3fc72a,null)?_0x5a4f22+='Cluster\x20'+global_registry[_0x4bda07(0x14f)]+'\x20'+(_0x3fc72a?_0x3be9f3['XvkDW']:_0x3be9f3[_0x4bda07(0x1e2)])+'\x0a\x0a':_0x5a4f22+=_0x4bda07(0x18b)+global_registry[_0x4bda07(0x14f)]+_0x4bda07(0x13a),_0x5a4f22+=_0x3be9f3[_0x4bda07(0x1e7)](getSystemMetaData),_0x5a4f22;};exports[a17_0x301b62(0x211)]=async function(_0x50595e){const _0x446004=a17_0x301b62,_0x204718={'TTxBn':function(_0xf7a8e8){return _0xf7a8e8();},'HbvAp':_0x446004(0x133),'fKxbI':function(_0x42ae92,_0x1b4c62,_0x1069b0,_0x40ee18,_0x5360e2,_0x7fa81a,_0x3f2a7d,_0x500ac0){return _0x42ae92(_0x1b4c62,_0x1069b0,_0x40ee18,_0x5360e2,_0x7fa81a,_0x3f2a7d,_0x500ac0);},'TFKTo':_0x446004(0x162),'beYHt':_0x446004(0x146),'ckMid':_0x446004(0x215),'zTupK':function(_0x1f7fbb,_0x4f92e9,_0x26bbd1,_0x4ffae6,_0x1fd53d,_0x34cb7f,_0x5405f5){return _0x1f7fbb(_0x4f92e9,_0x26bbd1,_0x4ffae6,_0x1fd53d,_0x34cb7f,_0x5405f5);},'kNMoW':_0x446004(0x168),'ROmtL':_0x446004(0x1c4),'oVIBP':function(_0x26b022,_0x4d3286,_0xc15ad3){return _0x26b022(_0x4d3286,_0xc15ad3);},'XBpzI':function(_0x25dd83,_0x6e4fd6,_0x37f25a){return _0x25dd83(_0x6e4fd6,_0x37f25a);},'ZYhOM':'dummy-grid','LNuzN':function(_0x497d66,_0x5ae15a,_0x1592a2){return _0x497d66(_0x5ae15a,_0x1592a2);},'dIIvo':_0x446004(0x1bc),'rSGpY':_0x446004(0x1fd),'YsEqc':'accessResp','AofIs':function(_0x4ea6ae){return _0x4ea6ae();},'loelM':function(_0xfd6f43,_0x511a07,_0x55b94e){return _0xfd6f43(_0x511a07,_0x55b94e);},'ZGvzw':_0x446004(0x166),'tAAsA':function(_0x5bc662,_0xc76d06){return _0x5bc662(_0xc76d06);},'FEAWB':_0x446004(0x1f1),'NfNkd':_0x446004(0x126),'UVLvC':_0x446004(0x204),'siZAZ':'User\x20Access','ULkFk':_0x446004(0x156),'CLcDf':_0x446004(0x1a8),'KvhDe':function(_0x34c00b,_0x1e8a60){return _0x34c00b+_0x1e8a60;},'NSauG':'utf-8','CSgxz':function(_0x22bbee,_0x507083,_0x4ef79d,_0x3e2421,_0x12ee97,_0x37d17d,_0x21f6c9){return _0x22bbee(_0x507083,_0x4ef79d,_0x3e2421,_0x12ee97,_0x37d17d,_0x21f6c9);},'CCWQm':'pre-check-failed'};let _0x3b5434,_0xff60e5;try{global_registry[_0x446004(0x17c)]=_0x204718[_0x446004(0x1f0)](uuidv4);!fs[_0x446004(0x1a4)](_0x204718[_0x446004(0x1f0)](getCredentialsPath))&&(_0xff60e5=_0x204718['HbvAp'],logger[_0x446004(0x215)](_0xff60e5),await _0x204718[_0x446004(0x147)](reportToGalactusAndSendToEDS,_0x50595e,_0x3b5434,_0xff60e5,messageTypes[_0x446004(0x1ec)],_0x204718[_0x446004(0x14e)],_0x204718[_0x446004(0x1f9)],_0x204718[_0x446004(0x1d2)]),process[_0x446004(0x151)](0x1));_0x204718['zTupK'](sendInstrumentationEvent,_0x50595e,_0x204718[_0x446004(0x14e)],messageTypes[_0x446004(0x1e5)],null,null,_0x50595e);const _0x511669=JSON[_0x446004(0x1e0)](fs[_0x446004(0x1ca)](_0x204718[_0x446004(0x1f0)](getCredentialsPath)));global_registry['bstackUsername']=_0x511669[_0x446004(0x1e8)][_0x446004(0x16f)],global_registry['bstackAccesskey']=_0x511669[_0x446004(0x1e8)][_0x446004(0x210)];const _0x2474bd=WS_ENDPOINT[_0x446004(0x13b)](_0x204718[_0x446004(0x1e1)],_0x511669[_0x446004(0x1e8)][_0x446004(0x16f)])['replace'](_0x204718[_0x446004(0x1c2)],_0x511669[_0x446004(0x1e8)][_0x446004(0x210)]),_0x1b88fc={};_0x1b88fc[_0x446004(0x1d9)]=ws,_0x1b88fc[_0x446004(0x1d0)]=0x36ee80,_0x3b5434=new ReconnectingWebSocket(_0x2474bd,[],_0x1b88fc),global_registry[_0x446004(0x15f)]=_0x204718[_0x446004(0x19f)](getAuthHeader,global_registry['bstackUsername'],global_registry[_0x446004(0x1cd)]),await _0x204718['XBpzI'](inputValidation,_0x50595e,_0x3b5434),logger[_0x446004(0x19d)]('Pre-check\x20running\x20for\x20Cloud\x20-\x20'+global_registry[_0x446004(0x1dd)]+'\x20region\x20-\x20'+global_registry[_0x446004(0x150)]);let _0x2cc57d=await _0x204718[_0x446004(0x1a2)](getCloudProviderObjectWithOutInit,global_registry[_0x446004(0x1dd)],global_registry['clusterName'],_0x204718['ZYhOM'],_0x3b5434,webSocketUtils,_0x50595e);const _0x3a4508=await _0x2cc57d[_0x446004(0x1d3)]();_0x204718[_0x446004(0x132)](printResponse,_0x204718[_0x446004(0x1a1)],_0x3a4508),_0x2cc57d=await _0x2cc57d[_0x446004(0x135)]();let _0x568644=![];try{_0x568644=await _0x2cc57d['isClusterPresent']();}catch(_0x21ee25){const _0xb2b813=_0x204718[_0x446004(0x155)]['split']('|');let _0x19dcb3=0x0;while(!![]){switch(_0xb2b813[_0x19dcb3++]){case'0':_0xff60e5='unable\x20to\x20verify\x20if\x20cluster\x20`'+global_registry['clusterName']+_0x446004(0x212)+global_registry[_0x446004(0x150)]+_0x446004(0x16d)+_0x21ee25;continue;case'1':logger[_0x446004(0x215)](_0xff60e5);continue;case'2':await _0x204718[_0x446004(0x147)](reportToGalactusAndSendToEDS,_0x50595e,_0x3b5434,_0xff60e5,messageTypes[_0x446004(0x1ec)],_0x204718[_0x446004(0x14e)],_0x446004(0x16e)+global_registry['cloudProvider'],_0x204718[_0x446004(0x1d2)]);continue;case'3':_0xff60e5+='\x0a'+JSON['stringify'](_0x21ee25[_0x446004(0x1b2)]);continue;case'4':_0x568644=null;continue;}break;}}_0x568644&&logger[_0x446004(0x19d)](_0x446004(0x1f6)+global_registry['clusterName']+'`\x20already\x20exists');const _0x14badb=await _0x2cc57d['checkAccess']();_0x204718['oVIBP'](printResponse,_0x204718[_0x446004(0x163)],_0x14badb);const _0xe35a2e=await _0x204718[_0x446004(0x192)](curlRequest);_0x204718[_0x446004(0x165)](printResponse,_0x204718['ZGvzw'],_0xe35a2e);const _0x2bfb1c=await _0x204718[_0x446004(0x17b)](isTlsSupported,_0x204718[_0x446004(0x195)]);_0x204718[_0x446004(0x19f)](printResponse,_0x204718['NfNkd'],_0x2bfb1c);const _0x214ed8={};_0x214ed8['header']=_0x204718[_0x446004(0x131)],_0x214ed8[_0x446004(0x1ad)]=_0x3a4508;const _0xc2bc41={};_0xc2bc41[_0x446004(0x172)]=_0x204718['siZAZ'],_0xc2bc41['response']=_0x14badb;const _0x5d054d={};_0x5d054d[_0x446004(0x172)]=_0x204718[_0x446004(0x161)],_0x5d054d[_0x446004(0x1ad)]=_0xe35a2e;const _0x233345={};_0x233345['header']=_0x204718[_0x446004(0x1b6)],_0x233345[_0x446004(0x1ad)]=_0x2bfb1c;const _0x57aee8=[_0x214ed8,_0xc2bc41,_0x5d054d,_0x233345],_0x1d9fe6=await _0x204718['LNuzN'](generateReport,_0x57aee8,_0x568644),_0xcfc31f=new Date(),_0x16bb34=_0xcfc31f[_0x446004(0x14c)]()+'_'+_0x204718['KvhDe'](_0xcfc31f[_0x446004(0x184)](),0x1)+'_'+_0xcfc31f[_0x446004(0x18e)]()+'_'+_0xcfc31f[_0x446004(0x1aa)]()+'_'+_0xcfc31f['getUTCMinutes'](),_0x3a9117=_0x446004(0x17f)+_0x16bb34+_0x446004(0x1b8);fs[_0x446004(0x203)](_0x3a9117,_0x1d9fe6,_0x204718['NSauG']),logger['info']('Report\x20saved\x20in\x20'+_0x3a9117),process[_0x446004(0x151)](0x0);}catch(_0x10180d){let _0x47c192=_0x446004(0x181)+_0x10180d+'\x20';logger[_0x446004(0x215)](_0x47c192),_0x47c192+='\x0a'+JSON['stringify'](_0x10180d[_0x446004(0x1b2)]),logger['debug']('stack\x20trace\x20'+_0x10180d[_0x446004(0x1b2)]);if(_0x3b5434){const _0x49c346={};_0x49c346[_0x446004(0x1c0)]=WS_EVENTS[_0x446004(0x154)],_0x49c346[_0x446004(0x124)]=_0x47c192,webSocketUtils[_0x446004(0x157)](_0x3b5434,_0x49c346,_0x204718[_0x446004(0x1d2)],!![]);}await webSocketUtils[_0x446004(0x1d5)](0x7d0);const _0x1d1480={};_0x1d1480[_0x446004(0x215)]=_0x47c192,await _0x204718['CSgxz'](sendInstrumentationEvent,_0x50595e,_0x204718[_0x446004(0x14e)],messageTypes[_0x446004(0x1ec)],_0x204718['CCWQm'],_0x1d1480,_0x50595e),process['exit'](0x1);}};