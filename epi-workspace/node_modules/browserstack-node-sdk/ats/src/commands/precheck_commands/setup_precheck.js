const a17_0x4fce1a=a17_0x18e1;(function(_0x1cc34b,_0x508e38){const _0x2a270a=a17_0x18e1,_0x4c6cb5=_0x1cc34b();while(!![]){try{const _0x5809a6=-parseInt(_0x2a270a(0x18c))/0x1+parseInt(_0x2a270a(0x15a))/0x2+-parseInt(_0x2a270a(0x17a))/0x3*(-parseInt(_0x2a270a(0x1e3))/0x4)+-parseInt(_0x2a270a(0x22a))/0x5+parseInt(_0x2a270a(0x205))/0x6*(parseInt(_0x2a270a(0x188))/0x7)+parseInt(_0x2a270a(0x17c))/0x8*(-parseInt(_0x2a270a(0x1f5))/0x9)+-parseInt(_0x2a270a(0x1c6))/0xa;if(_0x5809a6===_0x508e38)break;else _0x4c6cb5['push'](_0x4c6cb5['shift']());}catch(_0x29f2ba){_0x4c6cb5['push'](_0x4c6cb5['shift']());}}}(a17_0x278d,0x6f8f3));const fs=require('fs'),ws=require('ws'),got=require('got'),{v4:uuidv4}=require('uuid'),ReconnectingWebSocket=require('reconnecting-websocket'),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require(a17_0x4fce1a(0x171)),{logger}=require(a17_0x4fce1a(0x1c2)),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require(a17_0x4fce1a(0x1ef)),{getCloudProviderObjectWithOutInit}=require(a17_0x4fce1a(0x1fa)),webSocketUtils=require(a17_0x4fce1a(0x207)),{sendInstrumentationEvent}=require(a17_0x4fce1a(0x170));exports[a17_0x4fce1a(0x1c3)]='grid',exports['desc']='Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup',exports['builder']=function(_0x43ba0a){const _0x2754c8=a17_0x4fce1a,_0x4c7528={};_0x4c7528[_0x2754c8(0x1ac)]='Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.',_0x4c7528[_0x2754c8(0x192)]='string',_0x4c7528[_0x2754c8(0x236)]=_0x2754c8(0x183),_0x4c7528[_0x2754c8(0x164)]='Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.',_0x4c7528['cPpYJ']=_0x2754c8(0x189),_0x4c7528['uzQTi']=_0x2754c8(0x167);const _0x1e408e=_0x4c7528,_0x524c6e={};_0x524c6e[_0x2754c8(0x194)]=_0x1e408e[_0x2754c8(0x1ac)],_0x524c6e[_0x2754c8(0x1e0)]=_0x1e408e[_0x2754c8(0x192)];const _0x253397={};_0x253397[_0x2754c8(0x194)]=_0x1e408e[_0x2754c8(0x236)],_0x253397['type']=_0x1e408e[_0x2754c8(0x192)];const _0x3ec6c4={};_0x3ec6c4[_0x2754c8(0x194)]=_0x1e408e['pWzYa'],_0x3ec6c4[_0x2754c8(0x1e0)]=_0x1e408e['mXjJA'];const _0x4d8eb5={};_0x4d8eb5[_0x2754c8(0x194)]=_0x1e408e[_0x2754c8(0x242)],_0x4d8eb5[_0x2754c8(0x1e0)]=_0x1e408e[_0x2754c8(0x192)];const _0x5ee2bf={};return _0x5ee2bf['cluster-name']=_0x524c6e,_0x5ee2bf['cloud-provider']=_0x253397,_0x5ee2bf['region']=_0x3ec6c4,_0x5ee2bf[_0x2754c8(0x1e1)]=_0x4d8eb5,_0x43ba0a[_0x2754c8(0x14f)](HELP_HEADER_MESSAGE['pre_check'])['epilogue'](HELP_FOOTER_MESSAGE)[_0x2754c8(0x176)](_0x5ee2bf)[_0x2754c8(0x167)](_0x1e408e['uzQTi'])['argv'];};async function inputValidation(_0x513f4a,_0x1c2f78){const _0xb0b2db=a17_0x4fce1a,_0x536e70={'nTTJy':_0xb0b2db(0x223),'zCMYY':_0xb0b2db(0x1a0),'DMjFQ':_0xb0b2db(0x1e9),'OGbox':'N/A','gmWHW':_0xb0b2db(0x1f3),'Ipqgj':'string','StbgZ':'Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','RvELI':'Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','Hivnk':_0xb0b2db(0x189),'uCVUg':'help','jgUFr':'cluster-name','pVnLA':_0xb0b2db(0x1b2),'JMTql':_0xb0b2db(0x1e2),'GDhtv':'Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','goNor':function(_0x194647,_0x229bcf){return _0x194647+_0x229bcf;},'KfazN':_0xb0b2db(0x200),'Vjlir':_0xb0b2db(0x1f2),'EcURM':function(_0x184fa3,_0x5639ba){return _0x184fa3||_0x5639ba;},'iYxYy':function(_0x4730c3,_0x550d6d){return _0x4730c3!==_0x550d6d;},'bBoNE':_0xb0b2db(0x22c),'wgsHi':function(_0x29b5e1,_0x58ccbe){return _0x29b5e1===_0x58ccbe;},'GQPOd':_0xb0b2db(0x1d3),'mnjDG':_0xb0b2db(0x1b6),'ukPKM':function(_0x29b9cd,_0x1a1336){return _0x29b9cd===_0x1a1336;},'UeTHO':_0xb0b2db(0x1c5),'OKcsl':_0xb0b2db(0x234),'AcKTC':function(_0x1ed0ff,_0x575319){return _0x1ed0ff===_0x575319;},'OiJEv':_0xb0b2db(0x1ae),'izrKX':function(_0x639a97,_0x31f17b){return _0x639a97>_0x31f17b;},'oOfLG':_0xb0b2db(0x22d),'cFFAL':function(_0x2da017,_0x4c65c2,_0x49b245,_0x5adfa3,_0x1d95bc,_0x5edfa0,_0xf88bfd,_0x32789d){return _0x2da017(_0x4c65c2,_0x49b245,_0x5adfa3,_0x1d95bc,_0x5edfa0,_0xf88bfd,_0x32789d);},'ecHGl':_0xb0b2db(0x1ec),'ZElax':_0xb0b2db(0x18d),'TXEXK':_0xb0b2db(0x1de),'EhvHh':function(_0x3f4182,_0x2f8988){return _0x3f4182!==_0x2f8988;},'Jkdxk':'pzyBE','hhntw':_0xb0b2db(0x178),'CNLKJ':_0xb0b2db(0x1dc),'chchf':'pQqXv','UEUWU':_0xb0b2db(0x166),'zynUs':_0xb0b2db(0x180),'jNNxP':_0xb0b2db(0x211),'reuSm':_0xb0b2db(0x1b8),'byiAg':function(_0x52c769,_0x5bb240,_0x5dba2a){return _0x52c769(_0x5bb240,_0x5dba2a);},'pVXLE':function(_0x21de25,_0x55c769,_0x3db97f,_0x5b5190,_0x100722,_0x2c59b4){return _0x21de25(_0x55c769,_0x3db97f,_0x5b5190,_0x100722,_0x2c59b4);},'yLqaP':_0xb0b2db(0x21d),'XDigv':_0xb0b2db(0x1e1),'qqvFJ':_0xb0b2db(0x1ba),'mmExe':_0xb0b2db(0x216),'JJxgv':function(_0x1312b9,_0x5009eb){return _0x1312b9(_0x5009eb);},'dlnqc':function(_0x4859a1,_0x23863a){return _0x4859a1===_0x23863a;},'HKHLQ':'ubzNI','HIFdJ':_0xb0b2db(0x1ed),'HwHkq':function(_0x5244c9,_0x46a7ef,_0x51b112,_0x39a8d9,_0x70f178,_0x57bbde,_0x485e4b,_0x31b4a1){return _0x5244c9(_0x46a7ef,_0x51b112,_0x39a8d9,_0x70f178,_0x57bbde,_0x485e4b,_0x31b4a1);},'YUrmI':_0xb0b2db(0x1e8),'pvtav':_0xb0b2db(0x1db),'XBOSl':'DxpAP','XUhPx':function(_0x443589,_0xa0c554){return _0x443589===_0xa0c554;},'ltSao':_0xb0b2db(0x16b),'xjdhW':_0xb0b2db(0x1bc),'etRuA':function(_0x4ba353,_0x2b0b2b){return _0x4ba353===_0x2b0b2b;},'eXJpT':'Czakk','MTpDL':function(_0x19fde6,_0x1ce9d7){return _0x19fde6===_0x1ce9d7;},'FZTWu':_0xb0b2db(0x177),'tNCtj':'GJjEK'};let _0x57aa74;try{if(_0x536e70[_0xb0b2db(0x175)](_0x536e70[_0xb0b2db(0x21b)],_0x536e70[_0xb0b2db(0x21b)]))_0x26ff1a[_0xb0b2db(0x1be)](_0xb0b2db(0x152)+_0x2a01b6[_0xb0b2db(0x19d)]+'\x20'),_0xaf5b2d['cloudProvider']=_0x59c0fa[_0xb0b2db(0x19d)];else{if(_0x513f4a['clusterName']||_0x513f4a['cloudProvider']||_0x513f4a['region']){if(_0x536e70[_0xb0b2db(0x1cb)](_0x536e70[_0xb0b2db(0x220)],_0x536e70[_0xb0b2db(0x210)]))_0x5bbbce+=_0xb0b2db(0x19f)+_0x359ab5[_0xb0b2db(0x1d1)]+'\x20'+(_0x2926bc?_0x536e70['nTTJy']:_0x536e70[_0xb0b2db(0x151)])+'\x0a\x0a';else{const _0x453cbc=[];!_0x513f4a[_0xb0b2db(0x1d1)]&&(_0x536e70[_0xb0b2db(0x187)](_0x536e70[_0xb0b2db(0x163)],_0x536e70[_0xb0b2db(0x163)])?_0x453cbc[_0xb0b2db(0x154)](_0x536e70[_0xb0b2db(0x222)]):(_0x305059+=_0x536e70[_0xb0b2db(0x225)],_0x69812d+=_0xb0b2db(0x1c4)+(_0x2c0f98[_0xb0b2db(0x1d9)]||_0x536e70[_0xb0b2db(0x1d8)])+'\x0a',_0x45f3d3+='\x20\x20Code:\x20'+(_0x3a13aa[_0xb0b2db(0x228)]||_0x536e70[_0xb0b2db(0x1d8)])+'\x0a',_0x2265c9+='\x20\x20Stack:\x20'+(_0x5bf564[_0xb0b2db(0x212)]||_0x536e70[_0xb0b2db(0x1d8)])+'\x0a'));;if(!_0x513f4a['cloudProvider']){if(_0x536e70[_0xb0b2db(0x175)](_0x536e70[_0xb0b2db(0x219)],_0x536e70[_0xb0b2db(0x219)])){const _0x3e8adb={};_0x3e8adb[_0xb0b2db(0x194)]=_0x536e70['gmWHW'],_0x3e8adb[_0xb0b2db(0x1e0)]=_0x536e70[_0xb0b2db(0x1a6)];const _0x272ceb={};_0x272ceb[_0xb0b2db(0x194)]=_0x536e70['StbgZ'],_0x272ceb[_0xb0b2db(0x1e0)]=_0x536e70[_0xb0b2db(0x1a6)];const _0x1bc7e8={};_0x1bc7e8[_0xb0b2db(0x194)]=_0x536e70[_0xb0b2db(0x15d)],_0x1bc7e8['type']=_0x536e70[_0xb0b2db(0x1a6)];const _0x4fd001={};_0x4fd001[_0xb0b2db(0x194)]=_0x536e70['Hivnk'],_0x4fd001['type']=_0x536e70['Ipqgj'];const _0x103dd1={};return _0x103dd1[_0xb0b2db(0x1c9)]=_0x3e8adb,_0x103dd1[_0xb0b2db(0x1b2)]=_0x272ceb,_0x103dd1['region']=_0x1bc7e8,_0x103dd1[_0xb0b2db(0x1e1)]=_0x4fd001,_0x50b332[_0xb0b2db(0x14f)](_0x51975e[_0xb0b2db(0x172)])[_0xb0b2db(0x1a5)](_0x4eecb3)[_0xb0b2db(0x176)](_0x103dd1)[_0xb0b2db(0x167)](_0x536e70[_0xb0b2db(0x1da)])[_0xb0b2db(0x16f)];}else _0x453cbc[_0xb0b2db(0x154)](_0x536e70[_0xb0b2db(0x19c)]);};!_0x513f4a['region']&&(_0x536e70[_0xb0b2db(0x23c)](_0x536e70[_0xb0b2db(0x215)],_0x536e70[_0xb0b2db(0x215)])?_0x453cbc[_0xb0b2db(0x154)](_0x536e70[_0xb0b2db(0x232)]):_0x5c5b0d[_0xb0b2db(0x154)](_0x536e70[_0xb0b2db(0x222)]));;_0x536e70[_0xb0b2db(0x15b)](_0x453cbc['length'],0x0)&&(_0x536e70[_0xb0b2db(0x175)](_0x536e70['oOfLG'],_0x536e70[_0xb0b2db(0x195)])?(_0x573354['info']('['+_0x629d91+_0xb0b2db(0x1fd)+_0x5e9389['status']+'\x20data\x20:\x20'+_0x5b35d6[_0xb0b2db(0x19a)]+_0xb0b2db(0x182)+_0x4b62db[_0xb0b2db(0x1de)]),_0x5c6ee5[_0xb0b2db(0x1de)]&&_0x139409['error'](_0xb0b2db(0x1b9)+_0x5dc4fd[_0xb0b2db(0x1de)]['stack'])):(_0x57aa74='Missing\x20required\x20arguments:\x20'+_0x453cbc[_0xb0b2db(0x19e)](',\x20')+_0xb0b2db(0x217),await _0x536e70[_0xb0b2db(0x160)](reportToGalactusAndSendToEDS,_0x513f4a,_0x1c2f78,_0x57aa74,messageTypes[_0xb0b2db(0x203)],_0x536e70[_0xb0b2db(0x173)],_0x536e70[_0xb0b2db(0x20c)],_0x536e70[_0xb0b2db(0x22b)]),logger['error'](_0x57aa74),process[_0xb0b2db(0x1e4)](0x1))),!ALL_SUPPORTED_CLOUD_PROVIDERS[_0xb0b2db(0x22f)](_0x513f4a['cloudProvider'][_0xb0b2db(0x22e)]())&&(_0x536e70[_0xb0b2db(0x1ca)](_0x536e70[_0xb0b2db(0x233)],_0x536e70[_0xb0b2db(0x233)])?_0x5dfcb9[_0xb0b2db(0x1e4)](0x1):(_0x57aa74=_0x536e70[_0xb0b2db(0x1df)],await _0x536e70[_0xb0b2db(0x160)](reportToGalactusAndSendToEDS,_0x513f4a,_0x1c2f78,_0x57aa74,messageTypes['ERROR'],_0x536e70['ecHGl'],_0x536e70[_0xb0b2db(0x237)],_0x536e70[_0xb0b2db(0x22b)]),logger[_0xb0b2db(0x1de)](_0x57aa74),!_0x513f4a['cloudProvider']&&(_0x536e70[_0xb0b2db(0x187)](_0x536e70[_0xb0b2db(0x238)],_0x536e70[_0xb0b2db(0x1b7)])?_0x518c82[_0xb0b2db(0x154)](_0x536e70['pVnLA']):(logger[_0xb0b2db(0x1be)](_0xb0b2db(0x152)+DEFAULT_CLUSTER_DETAILS['CLOUD_PROVIDER']+'\x20'),_0x513f4a['cloudProvider']=DEFAULT_CLUSTER_DETAILS['CLOUD_PROVIDER'])))),global_registry[_0xb0b2db(0x1d1)]=_0x513f4a[_0xb0b2db(0x1d1)],global_registry[_0xb0b2db(0x1cf)]=_0x513f4a[_0xb0b2db(0x1cf)],global_registry[_0xb0b2db(0x21f)]=_0x513f4a[_0xb0b2db(0x1e2)];}}else{if(_0x513f4a['gridProfile']){if(_0x536e70[_0xb0b2db(0x23c)](_0x536e70[_0xb0b2db(0x23f)],_0x536e70[_0xb0b2db(0x1a3)]))_0x52918c+='Cluster\x20'+_0x5e2ae6[_0xb0b2db(0x1d1)]+_0xb0b2db(0x1a1);else{global_registry[_0xb0b2db(0x1ea)]=_0x513f4a['gridProfile'],logger[_0xb0b2db(0x157)](_0xb0b2db(0x1d0)+_0x513f4a['gridProfile']);const _0x588a40=_0xb0b2db(0x1cd)+AG_API_URL+_0xb0b2db(0x174),_0x3476dd={};_0x3476dd[_0xb0b2db(0x20f)]=_0x536e70[_0xb0b2db(0x1b4)],_0x3476dd[_0xb0b2db(0x235)]=global_registry[_0xb0b2db(0x241)],_0x3476dd[_0xb0b2db(0x224)]=![];const _0x593f17=_0x3476dd,_0x5af970=await _0x536e70['byiAg'](got,_0x588a40,_0x593f17),_0x5625e9=await _0x536e70['pVXLE'](responseValidation,_0x5af970,_0x536e70[_0xb0b2db(0x1ee)],_0x536e70[_0xb0b2db(0x1e5)],_0x513f4a,_0x1c2f78);let _0x230c72={};if(_0x536e70[_0xb0b2db(0x1cb)](_0x5625e9,0xc8)){if(_0x536e70[_0xb0b2db(0x175)](_0x536e70['qqvFJ'],_0x536e70[_0xb0b2db(0x20d)])){const _0x52b9b5=JSON[_0xb0b2db(0x15c)](_0x5af970[_0xb0b2db(0x21c)]),_0x30ad3e=_0x52b9b5[_0xb0b2db(0x162)](_0xbf9126=>_0xbf9126[_0xb0b2db(0x191)]===_0x513f4a[_0xb0b2db(0x1ea)])||null;_0x536e70[_0xb0b2db(0x17e)](isUndefined,_0x30ad3e)?_0x536e70['dlnqc'](_0x536e70[_0xb0b2db(0x150)],_0x536e70[_0xb0b2db(0x20b)])?_0x260e08[_0xb0b2db(0x1be)](_0xb0b2db(0x213)+_0x184ede[_0xb0b2db(0x1d1)]+_0xb0b2db(0x206)):(_0x57aa74=_0xb0b2db(0x218)+_0x513f4a[_0xb0b2db(0x1ea)]+_0xb0b2db(0x18a),await _0x536e70[_0xb0b2db(0x156)](reportToGalactusAndSendToEDS,_0x513f4a,_0x1c2f78,_0x57aa74,messageTypes[_0xb0b2db(0x203)],_0x536e70['ecHGl'],_0x536e70[_0xb0b2db(0x1dd)],_0x536e70[_0xb0b2db(0x22b)]),logger[_0xb0b2db(0x1de)](_0x57aa74),process[_0xb0b2db(0x1e4)](0x1)):_0x536e70[_0xb0b2db(0x23c)](_0x536e70['pvtav'],_0x536e70[_0xb0b2db(0x1e7)])?_0x381b55[_0xb0b2db(0x154)](_0x536e70[_0xb0b2db(0x232)]):_0x230c72=_0x30ad3e;}else _0x45341e=_0x5186d2;}else _0x536e70[_0xb0b2db(0x23d)](_0x536e70[_0xb0b2db(0x1c0)],_0x536e70[_0xb0b2db(0x1c0)])?process[_0xb0b2db(0x1e4)](0x1):(_0x29acbc[_0xb0b2db(0x1de)](_0x536e70[_0xb0b2db(0x1ff)]),_0x2f877f['exit'](0x1));const _0x2f5237={};_0x2f5237[_0xb0b2db(0x1e0)]=WS_EVENTS[_0xb0b2db(0x204)],_0x2f5237[_0xb0b2db(0x1d9)]=_0x536e70[_0xb0b2db(0x1ce)],webSocketUtils[_0xb0b2db(0x165)](_0x1c2f78,_0x2f5237),global_registry[_0xb0b2db(0x1cf)]=_0x230c72[_0xb0b2db(0x1cf)],global_registry[_0xb0b2db(0x21f)]=_0x230c72[_0xb0b2db(0x1e2)],global_registry['clusterName']=_0x230c72[_0xb0b2db(0x1d1)];}}else{if(_0x536e70[_0xb0b2db(0x1aa)](_0x536e70['eXJpT'],_0x536e70['eXJpT']))logger[_0xb0b2db(0x1de)](_0x536e70[_0xb0b2db(0x1ff)]),process[_0xb0b2db(0x1e4)](0x1);else{const {header:_0x3318aa,response:_0x59e75e}=_0x5a318d,{status:_0x19cc39,data:_0x5c6aa1,error:_0x1893e1}=_0x59e75e;_0x43c489+=_0x3318aa+'\x20#'+_0x536e70[_0xb0b2db(0x1ab)](_0x19f62b,0x1)+'\x0a',_0x1067b1+=_0xb0b2db(0x168)+(_0x19cc39?_0x536e70[_0xb0b2db(0x161)]:_0x536e70[_0xb0b2db(0x190)])+'\x0a',_0x215556+='Message:\x20'+_0x536e70['EcURM'](_0x5c6aa1,_0x536e70[_0xb0b2db(0x1d8)])+'\x0a',_0x1893e1&&(_0x172d22+=_0x536e70[_0xb0b2db(0x225)],_0x224741+=_0xb0b2db(0x1c4)+(_0x1893e1[_0xb0b2db(0x1d9)]||_0x536e70[_0xb0b2db(0x1d8)])+'\x0a',_0xafcb41+=_0xb0b2db(0x240)+(_0x1893e1['code']||_0x536e70[_0xb0b2db(0x1d8)])+'\x0a',_0xbf6afe+='\x20\x20Stack:\x20'+(_0x1893e1[_0xb0b2db(0x212)]||_0x536e70[_0xb0b2db(0x1d8)])+'\x0a'),_0x49556b+='\x0a\x0a';}}}}}catch(_0x197c18){_0x536e70[_0xb0b2db(0x197)](_0x536e70['FZTWu'],_0x536e70[_0xb0b2db(0x1fe)])?_0x137d50[_0xb0b2db(0x1de)](_0xb0b2db(0x1b9)+_0x1910a7[_0xb0b2db(0x1de)]['stack']):(_0x57aa74=_0xb0b2db(0x202)+_0x197c18+':\x20'+_0x197c18['stack'],logger['error'](_0x57aa74),await _0x536e70[_0xb0b2db(0x156)](reportToGalactusAndSendToEDS,_0x513f4a,_0x1c2f78,_0x57aa74,messageTypes['ERROR'],_0x536e70['ecHGl'],_0x536e70['CNLKJ'],_0x536e70[_0xb0b2db(0x22b)]),process[_0xb0b2db(0x1e4)](0x1));}}function printResponse(_0x2cf978,_0x2a5cf3){const _0x1cd196=a17_0x4fce1a,_0xc86d79={};_0xc86d79['ZYzdF']=_0x1cd196(0x1de),_0xc86d79['pvrSl']=function(_0x3272fd,_0x560297){return _0x3272fd!==_0x560297;},_0xc86d79[_0x1cd196(0x1c7)]=_0x1cd196(0x1b0);const _0x5e3253=_0xc86d79;logger[_0x1cd196(0x1be)]('['+_0x2cf978+_0x1cd196(0x1fd)+_0x2a5cf3['status']+_0x1cd196(0x226)+_0x2a5cf3['data']+_0x1cd196(0x182)+_0x2a5cf3[_0x1cd196(0x1de)]);if(_0x2a5cf3[_0x1cd196(0x1de)]){if(_0x5e3253[_0x1cd196(0x1bb)](_0x5e3253[_0x1cd196(0x1c7)],_0x5e3253[_0x1cd196(0x1c7)])){const _0x406c39={};_0x406c39[_0x1cd196(0x1e0)]=_0x55b6b6['LOG'],_0x406c39['message']=_0x377ec3,_0x1b4be4[_0x1cd196(0x165)](_0x359ef9,_0x406c39,_0x5e3253['ZYzdF'],!![]);}else logger[_0x1cd196(0x1de)](_0x1cd196(0x1b9)+_0x2a5cf3[_0x1cd196(0x1de)][_0x1cd196(0x212)]);}}function a17_0x18e1(_0x55da23,_0x264c28){const _0x278dfb=a17_0x278d();return a17_0x18e1=function(_0x18e148,_0x3398c5){_0x18e148=_0x18e148-0x14f;let _0x2ff4f6=_0x278dfb[_0x18e148];return _0x2ff4f6;},a17_0x18e1(_0x55da23,_0x264c28);}function a17_0x278d(){const _0x17dc8d=['Vjlir','name','mXjJA','KSoIe','description','oOfLG','ybDgO','MTpDL','getUTCHours','delay','data','password','pVnLA','CLOUD_PROVIDER','join','Cluster\x20','will\x20be\x20created','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','vSFWt','jNNxP','hZdIz','epilogue','Ipqgj','ADOtG','pre-check-failed','opIEf','etRuA','goNor','RlUKM','isClusterPresent','FdaXo','Browserstack','hyEXO','getUTCMonth','cloud-provider','getUTCDate','reuSm','bstackUsername','Yhlic','UEUWU','GET','error\x20stack\x20:\x20','Aocgl','pvrSl','Grid\x20profile\x20fetched\x20for\x20pre-check','accessResp','info','forEach','ltSao','readFileSync','../../config/logger','command','\x20\x20Message:\x20','XZbHc','140500ZKZFKp','TGZOi','WebSocket','cluster-name','EhvHh','wgsHi','Tool\x20Installed','https://','xjdhW','cloudProvider','grid\x20profile\x20flow\x20','clusterName','Failed\x20in\x20pre-check!\x20Error:\x20','PZEpE','split','connectionTimeout','SDMCb','stringify','OGbox','message','uCVUg','jyXeV','cloud-provider-not-supported','YUrmI','error','hhntw','type','grid-profile','region','1780MQcEtm','exit','XDigv','\x20===\x0a\x0a','XBOSl','pre-check-grid-profile-empty','Error\x20Details:\x0a','gridProfile','pwYgH','pre-check-grid-called','wWEoy','yLqaP','../../config/constants','ARBnM','FQxmd','Failure','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','isTrialGridAccessible','438147jfMcYH','<PasswordPlaceholder>','GeRRW','unable\x20to\x20verify\x20if\x20cluster\x20`','header','../../cloudproviders/utils','INFO','credential-not-found',']\x20status\x20:\x20','tNCtj','GDhtv','Success','checkAccess','Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20','ERROR','LOG','144NZDTsA','`\x20already\x20exists','../../utils/webSocketUtils','rTmGd','IzwcF','existsSync','HIFdJ','ZElax','mmExe','SSL\x20Configured','method','mnjDG','uncGI','stack','Cluster\x20`','Pre-check\x20running\x20for\x20Cloud\x20-\x20','OiJEv','tAqya','.\x20Please\x20provide\x20all\x20required\x20arguments.','Invalid\x20input.\x20grid\x20profiles:\x20','OKcsl','rttcx','bBoNE','body','pre-check','EkJck','clusterRegion','GQPOd','aqcdO','jgUFr','is\x20already\x20present','throwHttpErrors','DMjFQ','\x20data\x20:\x20','cluster-check-failed-','code','requestId','4337270GyxLxc','TXEXK','wVcEG','dAoNm','toLowerCase','includes','Vscyp','niDUj','JMTql','Jkdxk','OoQsh','headers','PtaAj','CNLKJ','chchf','pdrUe','Opreg','utf-8','AcKTC','XUhPx','log/report_','zynUs','\x20\x20Code:\x20','authHeader','cPpYJ','zaqYa','sJngE','response','Ngcts','TwwRu','usage','HKHLQ','zCMYY','Setting\x20cloud\x20provider\x20as\x20','Message:\x20','push','TYOmm','HwHkq','debug','stack\x20trace\x20','RzEMv','1615024aQyPGI','izrKX','parse','RvELI','getUTCMinutes','writeFileSync','cFFAL','KfazN','find','UeTHO','pWzYa','sendEventToBackend','WcmQm','help','Status:\x20','dfhQE','Whitelisted\x20browserstack','oYfSE','username','4|3|2|1|0','OdIwJ','argv','../../utils/instrumentationUtils','../../utils/utilityMethods','pre_check','ecHGl','/packages/cli/get-all-grid-profiles','iYxYy','options','cpbqs','Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','init','5391QkdMdh','===\x20Precheck\x20Report\x20-\x20','8VtatlX','`\x20is\x20present\x20in\x20region\x20`','JJxgv','replace','cskpI','RcXVp','\x20error\x20:\x20','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','cfibY','`\x20,error\x20:\x20','bstackAccesskey','ukPKM','45255IVFptp','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again','Nvnbw','375203Ynzxyo','pre-check-cluster-args-not-passed','QKczL','isTls1_2_SUPPORTED'];a17_0x278d=function(){return _0x17dc8d;};return a17_0x278d();}async function generateReport(_0x35322f,_0x260501){const _0x54525b=a17_0x4fce1a,_0x460f31={'vSFWt':function(_0x59a757,_0x473078){return _0x59a757+_0x473078;},'zaqYa':_0x54525b(0x200),'Nvnbw':_0x54525b(0x1f2),'RUwqT':function(_0x45bc67,_0x50b057){return _0x45bc67||_0x50b057;},'hZdIz':'N/A','GeRRW':_0x54525b(0x1e9),'SDMCb':'Cluster\x20details\x0a-----------------------\x0a','ARBnM':function(_0x4703ae,_0x185961){return _0x4703ae!=_0x185961;},'cfibY':'is\x20already\x20present','dfhQE':_0x54525b(0x1a0),'ADOtG':function(_0x4fb80b){return _0x4fb80b();}};let _0x5bf2bc=_0x54525b(0x17b)+global_registry[_0x54525b(0x1cf)]+_0x54525b(0x1e6);return _0x35322f[_0x54525b(0x1bf)]((_0x2652bd,_0x34f47b)=>{const _0xc7e61b=_0x54525b,{header:_0x448988,response:_0x303d2f}=_0x2652bd,{status:_0x133fb5,data:_0x1604e9,error:_0x1e4aab}=_0x303d2f;_0x5bf2bc+=_0x448988+'\x20#'+_0x460f31[_0xc7e61b(0x1a2)](_0x34f47b,0x1)+'\x0a',_0x5bf2bc+=_0xc7e61b(0x168)+(_0x133fb5?_0x460f31[_0xc7e61b(0x243)]:_0x460f31[_0xc7e61b(0x18b)])+'\x0a',_0x5bf2bc+=_0xc7e61b(0x153)+_0x460f31['RUwqT'](_0x1604e9,_0x460f31[_0xc7e61b(0x1a4)])+'\x0a',_0x1e4aab&&(_0x5bf2bc+=_0x460f31[_0xc7e61b(0x1f7)],_0x5bf2bc+=_0xc7e61b(0x1c4)+(_0x1e4aab[_0xc7e61b(0x1d9)]||_0x460f31[_0xc7e61b(0x1a4)])+'\x0a',_0x5bf2bc+=_0xc7e61b(0x240)+(_0x1e4aab[_0xc7e61b(0x228)]||_0x460f31[_0xc7e61b(0x1a4)])+'\x0a',_0x5bf2bc+='\x20\x20Stack:\x20'+(_0x1e4aab[_0xc7e61b(0x212)]||_0x460f31[_0xc7e61b(0x1a4)])+'\x0a'),_0x5bf2bc+='\x0a\x0a';}),_0x5bf2bc+=_0x460f31[_0x54525b(0x1d6)],_0x460f31[_0x54525b(0x1f0)](_0x260501,null)?_0x5bf2bc+='Cluster\x20'+global_registry['clusterName']+'\x20'+(_0x260501?_0x460f31[_0x54525b(0x184)]:_0x460f31[_0x54525b(0x169)])+'\x0a\x0a':_0x5bf2bc+=_0x54525b(0x19f)+global_registry[_0x54525b(0x1d1)]+_0x54525b(0x1a1),_0x5bf2bc+=_0x460f31[_0x54525b(0x1a7)](getSystemMetaData),_0x5bf2bc;};exports['handler']=async function(_0x5b5336){const _0xae5430=a17_0x4fce1a,_0x363034={'TwwRu':function(_0x36f411){return _0x36f411();},'pwYgH':'Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','RcXVp':function(_0x26bcbf,_0x222186,_0x4bf947,_0xb8ac4d,_0x105c4a,_0x2a9194,_0x1aa673,_0x3ea97c){return _0x26bcbf(_0x222186,_0x4bf947,_0xb8ac4d,_0x105c4a,_0x2a9194,_0x1aa673,_0x3ea97c);},'Vscyp':_0xae5430(0x1ec),'lolZl':_0xae5430(0x1fc),'Ngcts':_0xae5430(0x1de),'RzEMv':function(_0x111e05,_0x4b17a5,_0x11cf04,_0x1a0277,_0x1757a3,_0x4ba242,_0x189710){return _0x111e05(_0x4b17a5,_0x11cf04,_0x1a0277,_0x1757a3,_0x4ba242,_0x189710);},'OdIwJ':'<UsernamePlaceholder>','OgPVv':_0xae5430(0x1f6),'FQxmd':function(_0x3a4d9e,_0x6e5085,_0xc48ab8){return _0x3a4d9e(_0x6e5085,_0xc48ab8);},'aqcdO':function(_0x11dfcc,_0x33a471,_0x4eb303,_0x47f1a3,_0x2fcc1d,_0x24f1d8,_0x2bdff5){return _0x11dfcc(_0x33a471,_0x4eb303,_0x47f1a3,_0x2fcc1d,_0x24f1d8,_0x2bdff5);},'aIFdk':'dummy-grid','TYOmm':function(_0x449ac8,_0x423af9,_0xbe71c4){return _0x449ac8(_0x423af9,_0xbe71c4);},'pdrUe':'toolInstalledResp','lOiyD':_0xae5430(0x16d),'KSoIe':function(_0x2b52cf,_0x11e40e,_0x5f4df7){return _0x2b52cf(_0x11e40e,_0x5f4df7);},'niDUj':_0xae5430(0x1bd),'hMqdU':_0xae5430(0x1f4),'BFfZL':function(_0x148340,_0x44df38){return _0x148340(_0x44df38);},'ybDgO':'TLSv1_2_client_method','IzwcF':_0xae5430(0x18f),'sJngE':_0xae5430(0x1cc),'rttcx':'User\x20Access','QKczL':_0xae5430(0x16a),'Opreg':_0xae5430(0x20e),'TOzGY':function(_0x5d1c7b,_0x2f9d02){return _0x5d1c7b+_0x2f9d02;},'rTmGd':_0xae5430(0x23b),'EkJck':function(_0x37a12d,_0x5e90ee,_0x33bc2f,_0x2e6254,_0x12ed00,_0x53d3d0,_0x38c943){return _0x37a12d(_0x5e90ee,_0x33bc2f,_0x2e6254,_0x12ed00,_0x53d3d0,_0x38c943);},'opIEf':_0xae5430(0x1a8)};let _0x407bf2,_0x1e3a45;try{global_registry[_0xae5430(0x229)]=_0x363034[_0xae5430(0x247)](uuidv4);!fs[_0xae5430(0x20a)](_0x363034[_0xae5430(0x247)](getCredentialsPath))&&(_0x1e3a45=_0x363034[_0xae5430(0x1eb)],logger[_0xae5430(0x1de)](_0x1e3a45),await _0x363034[_0xae5430(0x181)](reportToGalactusAndSendToEDS,_0x5b5336,_0x407bf2,_0x1e3a45,messageTypes[_0xae5430(0x203)],_0x363034[_0xae5430(0x230)],_0x363034['lolZl'],_0x363034['Ngcts']),process[_0xae5430(0x1e4)](0x1));_0x363034[_0xae5430(0x159)](sendInstrumentationEvent,_0x5b5336,_0x363034[_0xae5430(0x230)],messageTypes[_0xae5430(0x1fb)],null,null,_0x5b5336);const _0x3e4be3=JSON[_0xae5430(0x15c)](fs[_0xae5430(0x1c1)](_0x363034[_0xae5430(0x247)](getCredentialsPath)));global_registry[_0xae5430(0x1b5)]=_0x3e4be3[_0xae5430(0x1af)]['username'],global_registry[_0xae5430(0x186)]=_0x3e4be3['Browserstack'][_0xae5430(0x19b)];const _0x5784c6=WS_ENDPOINT[_0xae5430(0x17f)](_0x363034[_0xae5430(0x16e)],_0x3e4be3[_0xae5430(0x1af)][_0xae5430(0x16c)])[_0xae5430(0x17f)](_0x363034['OgPVv'],_0x3e4be3[_0xae5430(0x1af)][_0xae5430(0x19b)]),_0xf501cc={};_0xf501cc[_0xae5430(0x1c8)]=ws,_0xf501cc[_0xae5430(0x1d5)]=0x36ee80,_0x407bf2=new ReconnectingWebSocket(_0x5784c6,[],_0xf501cc),global_registry['authHeader']=_0x363034['FQxmd'](getAuthHeader,global_registry[_0xae5430(0x1b5)],global_registry[_0xae5430(0x186)]),await _0x363034[_0xae5430(0x1f1)](inputValidation,_0x5b5336,_0x407bf2),logger['info'](_0xae5430(0x214)+global_registry['cloudProvider']+'\x20region\x20-\x20'+global_registry['clusterRegion']);let _0x3d0b93=await _0x363034[_0xae5430(0x221)](getCloudProviderObjectWithOutInit,global_registry['cloudProvider'],global_registry['clusterName'],_0x363034['aIFdk'],_0x407bf2,webSocketUtils,_0x5b5336);const _0x31a1a5=await _0x3d0b93['isCliToolInstalled']();_0x363034['TYOmm'](printResponse,_0x363034[_0xae5430(0x239)],_0x31a1a5),_0x3d0b93=await _0x3d0b93[_0xae5430(0x179)]();let _0x13ae1a=![];try{_0x13ae1a=await _0x3d0b93[_0xae5430(0x1ad)]();}catch(_0x501a13){const _0x2d29a1=_0x363034['lOiyD'][_0xae5430(0x1d4)]('|');let _0x5ddb6e=0x0;while(!![]){switch(_0x2d29a1[_0x5ddb6e++]){case'0':await _0x363034[_0xae5430(0x181)](reportToGalactusAndSendToEDS,_0x5b5336,_0x407bf2,_0x1e3a45,messageTypes[_0xae5430(0x203)],_0x363034[_0xae5430(0x230)],_0xae5430(0x227)+global_registry[_0xae5430(0x1cf)],_0x363034['Ngcts']);continue;case'1':_0x1e3a45+='\x0a'+JSON[_0xae5430(0x1d7)](_0x501a13[_0xae5430(0x212)]);continue;case'2':logger[_0xae5430(0x1de)](_0x1e3a45);continue;case'3':_0x13ae1a=null;continue;case'4':_0x1e3a45=_0xae5430(0x1f8)+global_registry[_0xae5430(0x1d1)]+_0xae5430(0x17d)+global_registry['clusterRegion']+_0xae5430(0x185)+_0x501a13;continue;}break;}}_0x13ae1a&&logger[_0xae5430(0x1be)](_0xae5430(0x213)+global_registry['clusterName']+'`\x20already\x20exists');const _0xa0cb97=await _0x3d0b93[_0xae5430(0x201)]();_0x363034[_0xae5430(0x193)](printResponse,_0x363034[_0xae5430(0x231)],_0xa0cb97);const _0x28d0a6=await _0x363034[_0xae5430(0x247)](curlRequest);_0x363034[_0xae5430(0x193)](printResponse,_0x363034['hMqdU'],_0x28d0a6);const _0x49338e=await _0x363034['BFfZL'](isTlsSupported,_0x363034[_0xae5430(0x196)]);_0x363034['FQxmd'](printResponse,_0x363034[_0xae5430(0x209)],_0x49338e);const _0x516f25={};_0x516f25['header']=_0x363034[_0xae5430(0x244)],_0x516f25['response']=_0x31a1a5;const _0x16b76d={};_0x16b76d[_0xae5430(0x1f9)]=_0x363034[_0xae5430(0x21a)],_0x16b76d[_0xae5430(0x245)]=_0xa0cb97;const _0x20f95b={};_0x20f95b[_0xae5430(0x1f9)]=_0x363034[_0xae5430(0x18e)],_0x20f95b['response']=_0x28d0a6;const _0x477cd8={};_0x477cd8['header']=_0x363034[_0xae5430(0x23a)],_0x477cd8[_0xae5430(0x245)]=_0x49338e;const _0x41c782=[_0x516f25,_0x16b76d,_0x20f95b,_0x477cd8],_0x14bce2=await _0x363034[_0xae5430(0x155)](generateReport,_0x41c782,_0x13ae1a),_0x4bcf11=new Date(),_0x264b2e=_0x4bcf11['getUTCFullYear']()+'_'+_0x363034['TOzGY'](_0x4bcf11[_0xae5430(0x1b1)](),0x1)+'_'+_0x4bcf11[_0xae5430(0x1b3)]()+'_'+_0x4bcf11[_0xae5430(0x198)]()+'_'+_0x4bcf11[_0xae5430(0x15e)](),_0x3924ee=_0xae5430(0x23e)+_0x264b2e+'.txt';fs[_0xae5430(0x15f)](_0x3924ee,_0x14bce2,_0x363034[_0xae5430(0x208)]),logger[_0xae5430(0x1be)]('Report\x20saved\x20in\x20'+_0x3924ee),process[_0xae5430(0x1e4)](0x0);}catch(_0x143816){let _0x46b5ab=_0xae5430(0x1d2)+_0x143816+'\x20';logger['error'](_0x46b5ab),_0x46b5ab+='\x0a'+JSON[_0xae5430(0x1d7)](_0x143816['stack']),logger[_0xae5430(0x157)](_0xae5430(0x158)+_0x143816['stack']);if(_0x407bf2){const _0x26c423={};_0x26c423[_0xae5430(0x1e0)]=WS_EVENTS[_0xae5430(0x204)],_0x26c423[_0xae5430(0x1d9)]=_0x46b5ab,webSocketUtils['sendEventToBackend'](_0x407bf2,_0x26c423,_0x363034[_0xae5430(0x246)],!![]);}await webSocketUtils[_0xae5430(0x199)](0x7d0);const _0x235d3a={};_0x235d3a[_0xae5430(0x1de)]=_0x46b5ab,await _0x363034[_0xae5430(0x21e)](sendInstrumentationEvent,_0x5b5336,_0x363034[_0xae5430(0x230)],messageTypes['ERROR'],_0x363034[_0xae5430(0x1a9)],_0x235d3a,_0x5b5336),process[_0xae5430(0x1e4)](0x1);}};