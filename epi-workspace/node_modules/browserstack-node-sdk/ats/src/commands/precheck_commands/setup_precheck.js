const a17_0x3b9013=a17_0x29d9;function a17_0x2d46(){const _0x11fd5=['ShEGX','PNUSf','\x20data\x20:\x20','DWEXU','gQGnU','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','command','Cluster\x20`','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','stack\x20trace\x20','ETUsD','tzOqq','grid\x20profile\x20flow\x20','Failure','region',']\x20status\x20:\x20','MrNAt','nJeiZ','YivhX','bstackUsername','KgjzK','join','158277YUOXga','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','name','Gqwnn','\x20region\x20-\x20','message','XZdqs','JUCyS','stack','SBmns','ERROR','iHXad','oAVld','fljVh','EKwEp','isTrialGridAccessible','exit','eCzck','utf-8','Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','getUTCMinutes','aBmUG','wdxhP','ZPFjX','method','KfCQN','argv','length','5ZXLvuj','QSBLR','ZdIFO','LOG','SkYLX','isClusterPresent','will\x20be\x20created','HARIN','handler','2605032JbdCNd','username','Grid\x20profile\x20fetched\x20for\x20pre-check','fYVKt','authHeader','puaCG','sZIKg','SjhKy','is\x20already\x20present','Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup','parse','FMomV','yWdsZ','.txt','eMcHj','MiMWZ','2XhRCqO','<PasswordPlaceholder>','Qjdgo','Setting\x20cloud\x20provider\x20as\x20','`\x20is\x20present\x20in\x20region\x20`','isTls1_2_SUPPORTED','log/report_','MYvCZ','VVeHa','ZLlyR','TYXTY','141542QihOzp','bstackAccesskey','SSL\x20Configured','sXNSg','2882136hUPFHn','.\x20Please\x20provide\x20all\x20required\x20arguments.','DFWzi','cluster-check-failed-','grid-profile','wxEwI','Browserstack','header','ZGmnB','2439628HvPTjs','LFeZH','grid','stringify','xOnLu','Eumdd','lPexz','\x20error\x20:\x20','qPXFd','../../config/logger','Dqtcc','response','Cluster\x20','FacBC','\x20\x20Message:\x20','connectionTimeout','bjEpk','clusterRegion','includes','qSRik','ThywF','WtuVa','qqvNF','BQCOw','pre_check','RBGDU','lnGtx','jeHkd','mMiwX','EnqnX','gdYmT','dummy-grid','ZdFYn','RIyBJ','description','NdoKo','.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again','xapJM','../../cloudproviders/utils','QBJHn','BVZLp','forEach','Sdcxd','../../utils/webSocketUtils','uJRAk','213420DiTGiX','rSUnZ','Zjpnq','https://','xJNwf','/packages/cli/get-all-grid-profiles','YBijK','body','status','zJTvN','push','sendEventToBackend','78wWZkaq','gpehq','pre-check-cluster-args-not-passed','Message:\x20','Tool\x20Installed','unable\x20to\x20verify\x20if\x20cluster\x20`','delay','getUTCMonth','nsNCa','7418412Wjoloh','zEsCo','FlKSG','FOTuK','got','szmRF','Success','Error\x20Details:\x0a','1|4|2|3|0','YqoEo','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','cloud-provider','INFO','tLeRl','eUHgH','Whitelisted\x20browserstack','N/A','CoufQ','946ECGopb','VlLxM','MXkaP','gmJnn','desc','find','lAetK','pre-check','info','pre-check-grid-called','usage','WYEED','PYBsc','error','clusterName','help','epilogue','CkxTl','pnhQm','CgSbO','nYmUj','password','cjocg','Status:\x20','RAbiW','getUTCFullYear','TLSv1_2_client_method','qPhwB','code','dWhRh','BViUP','cloudProvider','rGvVT','Report\x20saved\x20in\x20','fNAGR','writeFileSync','\x20\x20Stack:\x20','cluster-name','TxwRq','throwHttpErrors','===\x20Precheck\x20Report\x20-\x20','debug','getUTCDate','xuYgc','credential-not-found','toolInstalledResp','CLOUD_PROVIDER','WebSocket','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','qgWbi','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','builder','Pre-check\x20running\x20for\x20Cloud\x20-\x20','reconnecting-websocket','icPWh','knvUQ','jKrRY','init','Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20','error\x20stack\x20:\x20','MdZlt','existsSync','baPAo','gridProfile','sxjIz','ROEyp','auZzF','isCliToolInstalled','Oqyaz','RDglJ','<UsernamePlaceholder>','../../utils/instrumentationUtils','split','data','replace','type','Invalid\x20input.\x20grid\x20profiles:\x20','`\x20already\x20exists'];a17_0x2d46=function(){return _0x11fd5;};return a17_0x2d46();}(function(_0xa31073,_0x46fceb){const _0x46ecf1=a17_0x29d9,_0x10e7a1=_0xa31073();while(!![]){try{const _0x4bca6e=-parseInt(_0x46ecf1(0x29e))/0x1*(parseInt(_0x46ecf1(0x2a9))/0x2)+parseInt(_0x46ecf1(0x28e))/0x3+parseInt(_0x46ecf1(0x2b6))/0x4*(-parseInt(_0x46ecf1(0x285))/0x5)+parseInt(_0x46ecf1(0x1ea))/0x6*(-parseInt(_0x46ecf1(0x269))/0x7)+-parseInt(_0x46ecf1(0x2ad))/0x8+-parseInt(_0x46ecf1(0x1f3))/0x9+-parseInt(_0x46ecf1(0x2e3))/0xa*(-parseInt(_0x46ecf1(0x205))/0xb);if(_0x4bca6e===_0x46fceb)break;else _0x10e7a1['push'](_0x10e7a1['shift']());}catch(_0xdcc0b){_0x10e7a1['push'](_0x10e7a1['shift']());}}}(a17_0x2d46,0x73ae5));function a17_0x29d9(_0x587845,_0x491592){const _0x2d468e=a17_0x2d46();return a17_0x29d9=function(_0x29d969,_0x34168a){_0x29d969=_0x29d969-0x1ea;let _0x435909=_0x2d468e[_0x29d969];return _0x435909;},a17_0x29d9(_0x587845,_0x491592);}const fs=require('fs'),ws=require('ws'),got=require(a17_0x3b9013(0x1f7)),{v4:uuidv4}=require('uuid'),ReconnectingWebSocket=require(a17_0x3b9013(0x23a)),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require('../../utils/utilityMethods'),{logger}=require(a17_0x3b9013(0x2bf)),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require('../../config/constants'),{getCloudProviderObjectWithOutInit}=require(a17_0x3b9013(0x2dc)),webSocketUtils=require(a17_0x3b9013(0x2e1)),{sendInstrumentationEvent}=require(a17_0x3b9013(0x24c));exports[a17_0x3b9013(0x259)]=a17_0x3b9013(0x2b8),exports[a17_0x3b9013(0x209)]=a17_0x3b9013(0x297),exports[a17_0x3b9013(0x238)]=function(_0x4d9648){const _0x3fb906=a17_0x3b9013,_0x30d057={};_0x30d057[_0x3fb906(0x1f4)]=_0x3fb906(0x25b),_0x30d057[_0x3fb906(0x28c)]='string',_0x30d057[_0x3fb906(0x2c9)]=_0x3fb906(0x258),_0x30d057[_0x3fb906(0x295)]='Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.',_0x30d057[_0x3fb906(0x2e0)]=_0x3fb906(0x26a),_0x30d057[_0x3fb906(0x275)]=_0x3fb906(0x214);const _0x53bcfb=_0x30d057,_0x46412d={};_0x46412d[_0x3fb906(0x2d8)]=_0x53bcfb[_0x3fb906(0x1f4)],_0x46412d[_0x3fb906(0x250)]=_0x53bcfb[_0x3fb906(0x28c)];const _0x1b5b4d={};_0x1b5b4d[_0x3fb906(0x2d8)]=_0x53bcfb[_0x3fb906(0x2c9)],_0x1b5b4d[_0x3fb906(0x250)]=_0x53bcfb['HARIN'];const _0x110ab9={};_0x110ab9[_0x3fb906(0x2d8)]=_0x53bcfb[_0x3fb906(0x295)],_0x110ab9[_0x3fb906(0x250)]=_0x53bcfb[_0x3fb906(0x28c)];const _0x520b0d={};_0x520b0d[_0x3fb906(0x2d8)]=_0x53bcfb[_0x3fb906(0x2e0)],_0x520b0d[_0x3fb906(0x250)]=_0x53bcfb[_0x3fb906(0x28c)];const _0x366af1={};return _0x366af1['cluster-name']=_0x46412d,_0x366af1[_0x3fb906(0x1fe)]=_0x1b5b4d,_0x366af1[_0x3fb906(0x261)]=_0x110ab9,_0x366af1['grid-profile']=_0x520b0d,_0x4d9648[_0x3fb906(0x20f)](HELP_HEADER_MESSAGE[_0x3fb906(0x2ce)])['epilogue'](HELP_FOOTER_MESSAGE)['options'](_0x366af1)[_0x3fb906(0x214)](_0x53bcfb['oAVld'])[_0x3fb906(0x283)];};async function inputValidation(_0x1c9bd7,_0xea78c3){const _0x23dac3=a17_0x3b9013,_0xc5d399={'qPhwB':'error','BVZLp':'cluster-name','Gqwnn':function(_0x229817,_0x446102){return _0x229817+_0x446102;},'rpHHz':'Success','KgjzK':_0x23dac3(0x260),'BQCOw':function(_0x15abc1,_0x34b412){return _0x15abc1||_0x34b412;},'MrNAt':_0x23dac3(0x203),'KfCQN':_0x23dac3(0x1fa),'RDglJ':_0x23dac3(0x261),'BViUP':_0x23dac3(0x296),'cjocg':_0x23dac3(0x28b),'xJNwf':'Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','Oqyaz':'string','ROEyp':'Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','jsltO':'Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','RBGDU':'Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','bAesh':_0x23dac3(0x214),'ThywF':_0x23dac3(0x1fe),'MXkaP':function(_0x3ed92e,_0x2f85ad){return _0x3ed92e===_0x2f85ad;},'ZGmnB':_0x23dac3(0x2ac),'ZdFYn':function(_0x1de16a,_0x4d009f){return _0x1de16a!==_0x4d009f;},'puaCG':_0x23dac3(0x265),'pnhQm':_0x23dac3(0x2d2),'nYmUj':_0x23dac3(0x2b7),'SBmns':_0x23dac3(0x2c6),'MYvCZ':function(_0xf9d748,_0x45207c){return _0xf9d748>_0x45207c;},'MdZlt':function(_0x57455b,_0x4f278b){return _0x57455b===_0x4f278b;},'PNUSf':'geFwZ','szmRF':function(_0x1e930d,_0x53d6bb,_0x628ff6,_0x569d68,_0x2218c1,_0x45e34a,_0x265b4e,_0x3f7d22){return _0x1e930d(_0x53d6bb,_0x628ff6,_0x569d68,_0x2218c1,_0x45e34a,_0x265b4e,_0x3f7d22);},'ZdIFO':_0x23dac3(0x20e),'tLeRl':_0x23dac3(0x1ec),'FMomV':function(_0x7b7ffd,_0x4516e0){return _0x7b7ffd===_0x4516e0;},'ZLlyR':_0x23dac3(0x208),'QpfHi':'hWySe','eUHgH':_0x23dac3(0x27c),'CgSbO':'cloud-provider-not-supported','EnqnX':function(_0x2d2bc9,_0x9e1358){return _0x2d2bc9!==_0x9e1358;},'MiMWZ':_0x23dac3(0x23d),'lAetK':_0x23dac3(0x2be),'ETUsD':'TJwcR','icPWh':'GET','bZjaM':function(_0xcabc9e,_0x2a500b,_0x2aed90){return _0xcabc9e(_0x2a500b,_0x2aed90);},'VlLxM':function(_0x196bf2,_0x3734b0,_0x4b009c,_0x4dbeb3,_0x52254c,_0x236bb3){return _0x196bf2(_0x3734b0,_0x4b009c,_0x4dbeb3,_0x52254c,_0x236bb3);},'UgGHb':_0x23dac3(0x20c),'YqoEo':_0x23dac3(0x2b1),'DWEXU':function(_0x13182c,_0x4ab67a){return _0x13182c===_0x4ab67a;},'wdxhP':_0x23dac3(0x286),'fNAGR':_0x23dac3(0x264),'gpehq':function(_0x4c0f87,_0x38b932){return _0x4c0f87(_0x38b932);},'RAbiW':_0x23dac3(0x211),'qgWbi':'IzQJU','sZIKg':'pre-check-grid-profile-empty','eMcHj':_0x23dac3(0x2d9),'zJTvN':function(_0x48f587,_0x310af5){return _0x48f587===_0x310af5;},'auZzF':_0x23dac3(0x2ba),'lnGtx':_0x23dac3(0x2b2),'Dqtcc':_0x23dac3(0x290),'Qjdgo':_0x23dac3(0x277),'ZPFjX':_0x23dac3(0x2af),'TYXTY':_0x23dac3(0x237),'Zjpnq':function(_0x25a6b8,_0x283011){return _0x25a6b8!==_0x283011;},'fljVh':_0x23dac3(0x2e9),'TxwRq':'WDkej'};let _0x4717c0;try{if(_0xc5d399[_0x23dac3(0x207)](_0xc5d399[_0x23dac3(0x2b5)],_0xc5d399[_0x23dac3(0x2b5)])){if(_0x1c9bd7[_0x23dac3(0x213)]||_0x1c9bd7[_0x23dac3(0x224)]||_0x1c9bd7[_0x23dac3(0x261)]){if(_0xc5d399['ZdFYn'](_0xc5d399['puaCG'],_0xc5d399[_0x23dac3(0x293)])){const _0x28bf45={};_0x28bf45['type']=_0x486986[_0x23dac3(0x288)],_0x28bf45[_0x23dac3(0x26e)]=_0x5d16ef,_0x2b43ce[_0x23dac3(0x2ee)](_0x1e312a,_0x28bf45,_0xc5d399[_0x23dac3(0x220)],!![]);}else{const _0x270289=[];!_0x1c9bd7[_0x23dac3(0x213)]&&(_0xc5d399['MXkaP'](_0xc5d399[_0x23dac3(0x217)],_0xc5d399[_0x23dac3(0x217)])?_0x270289['push'](_0xc5d399['BVZLp']):_0x2e9958+=_0x23dac3(0x2c2)+_0x56a828['clusterName']+_0x23dac3(0x1fd));;!_0x1c9bd7[_0x23dac3(0x224)]&&(_0xc5d399['ZdFYn'](_0xc5d399[_0x23dac3(0x219)],_0xc5d399[_0x23dac3(0x219)])?_0x4f00d5[_0x23dac3(0x2ed)](_0xc5d399[_0x23dac3(0x2de)]):_0x270289[_0x23dac3(0x2ed)](_0xc5d399[_0x23dac3(0x2ca)]));;if(!_0x1c9bd7[_0x23dac3(0x261)]){if(_0xc5d399[_0x23dac3(0x207)](_0xc5d399[_0x23dac3(0x272)],_0xc5d399[_0x23dac3(0x272)]))_0x270289[_0x23dac3(0x2ed)](_0xc5d399[_0x23dac3(0x24a)]);else{const {header:_0x18564e,response:_0x8e3331}=_0x4b82e3,{status:_0x278084,data:_0x5eff79,error:_0x166747}=_0x8e3331;_0x574eac+=_0x18564e+'\x20#'+_0xc5d399[_0x23dac3(0x26c)](_0x227fe4,0x1)+'\x0a',_0x44e707+=_0x23dac3(0x21c)+(_0x278084?_0xc5d399['rpHHz']:_0xc5d399[_0x23dac3(0x267)])+'\x0a',_0x24e979+='Message:\x20'+_0xc5d399[_0x23dac3(0x2cd)](_0x5eff79,_0xc5d399['MrNAt'])+'\x0a',_0x166747&&(_0xb63d1e+=_0xc5d399[_0x23dac3(0x282)],_0x153517+=_0x23dac3(0x2c4)+(_0x166747['message']||_0xc5d399['MrNAt'])+'\x0a',_0x56c812+='\x20\x20Code:\x20'+(_0x166747[_0x23dac3(0x221)]||_0xc5d399[_0x23dac3(0x263)])+'\x0a',_0x5cea76+=_0x23dac3(0x229)+(_0x166747[_0x23dac3(0x271)]||_0xc5d399[_0x23dac3(0x263)])+'\x0a'),_0x34827c+='\x0a\x0a';}};_0xc5d399[_0x23dac3(0x2a5)](_0x270289[_0x23dac3(0x284)],0x0)&&(_0xc5d399[_0x23dac3(0x241)](_0xc5d399[_0x23dac3(0x254)],_0xc5d399['PNUSf'])?(_0x4717c0='Missing\x20required\x20arguments:\x20'+_0x270289[_0x23dac3(0x268)](',\x20')+_0x23dac3(0x2ae),await _0xc5d399['szmRF'](reportToGalactusAndSendToEDS,_0x1c9bd7,_0xea78c3,_0x4717c0,messageTypes[_0x23dac3(0x273)],_0xc5d399['ZdIFO'],_0xc5d399[_0x23dac3(0x200)],_0xc5d399[_0x23dac3(0x220)]),logger['error'](_0x4717c0),process[_0x23dac3(0x279)](0x1)):_0x3691ec['push'](_0xc5d399[_0x23dac3(0x24a)])),!ALL_SUPPORTED_CLOUD_PROVIDERS[_0x23dac3(0x2c8)](_0x1c9bd7[_0x23dac3(0x224)]['toLowerCase']())&&(_0xc5d399[_0x23dac3(0x299)](_0xc5d399[_0x23dac3(0x2a7)],_0xc5d399['QpfHi'])?_0x234570+=_0x23dac3(0x2c2)+_0x4d53a3[_0x23dac3(0x213)]+'\x20'+(_0x1fcdf3?_0xc5d399[_0x23dac3(0x223)]:_0xc5d399[_0x23dac3(0x21b)])+'\x0a\x0a':(_0x4717c0=_0xc5d399[_0x23dac3(0x201)],await _0xc5d399[_0x23dac3(0x1f8)](reportToGalactusAndSendToEDS,_0x1c9bd7,_0xea78c3,_0x4717c0,messageTypes[_0x23dac3(0x273)],_0xc5d399[_0x23dac3(0x287)],_0xc5d399['CgSbO'],_0xc5d399[_0x23dac3(0x220)]),logger['error'](_0x4717c0),!_0x1c9bd7[_0x23dac3(0x224)]&&(_0xc5d399[_0x23dac3(0x2d3)](_0xc5d399[_0x23dac3(0x29d)],_0xc5d399[_0x23dac3(0x20b)])?(logger['info'](_0x23dac3(0x2a1)+DEFAULT_CLUSTER_DETAILS['CLOUD_PROVIDER']+'\x20'),_0x1c9bd7['cloudProvider']=DEFAULT_CLUSTER_DETAILS['CLOUD_PROVIDER']):_0x52763d[_0x23dac3(0x212)](_0x23dac3(0x240)+_0x168191[_0x23dac3(0x212)][_0x23dac3(0x271)])))),global_registry['clusterName']=_0x1c9bd7['clusterName'],global_registry[_0x23dac3(0x224)]=_0x1c9bd7[_0x23dac3(0x224)],global_registry['clusterRegion']=_0x1c9bd7['region'];}}else{if(_0x1c9bd7[_0x23dac3(0x244)]){if(_0xc5d399[_0x23dac3(0x2d3)](_0xc5d399[_0x23dac3(0x25d)],_0xc5d399['ETUsD']))_0x1af7fa['info'](_0x23dac3(0x2a1)+_0x3108c6[_0x23dac3(0x233)]+'\x20'),_0x5b25cf[_0x23dac3(0x224)]=_0x369d9f['CLOUD_PROVIDER'];else{global_registry['gridProfile']=_0x1c9bd7[_0x23dac3(0x244)],logger[_0x23dac3(0x22e)](_0x23dac3(0x25f)+_0x1c9bd7[_0x23dac3(0x244)]);const _0x4901a4=_0x23dac3(0x2e6)+AG_API_URL+_0x23dac3(0x2e8),_0x4cfe75={};_0x4cfe75[_0x23dac3(0x281)]=_0xc5d399[_0x23dac3(0x23b)],_0x4cfe75['headers']=global_registry['authHeader'],_0x4cfe75[_0x23dac3(0x22c)]=![];const _0x2bef26=_0x4cfe75,_0x2660c2=await _0xc5d399['bZjaM'](got,_0x4901a4,_0x2bef26),_0x2d9ac6=await _0xc5d399[_0x23dac3(0x206)](responseValidation,_0x2660c2,_0xc5d399['UgGHb'],_0xc5d399[_0x23dac3(0x1fc)],_0x1c9bd7,_0xea78c3);let _0x48383e={};if(_0xc5d399[_0x23dac3(0x256)](_0x2d9ac6,0xc8)){if(_0xc5d399[_0x23dac3(0x256)](_0xc5d399[_0x23dac3(0x27f)],_0xc5d399[_0x23dac3(0x227)]))_0x5c5973[_0x23dac3(0x20d)]('['+_0x242082+_0x23dac3(0x262)+_0x34dcc5[_0x23dac3(0x2eb)]+_0x23dac3(0x255)+_0x38f954[_0x23dac3(0x24e)]+_0x23dac3(0x2bd)+_0x344322[_0x23dac3(0x212)]),_0x14f140[_0x23dac3(0x212)]&&_0x157479[_0x23dac3(0x212)]('error\x20stack\x20:\x20'+_0x2b4da4[_0x23dac3(0x212)][_0x23dac3(0x271)]);else{const _0x2263f4=JSON[_0x23dac3(0x298)](_0x2660c2[_0x23dac3(0x2ea)]),_0x27e808=_0x2263f4[_0x23dac3(0x20a)](_0x192da6=>_0x192da6[_0x23dac3(0x26b)]===_0x1c9bd7['gridProfile'])||null;_0xc5d399[_0x23dac3(0x1eb)](isUndefined,_0x27e808)?_0xc5d399[_0x23dac3(0x2d3)](_0xc5d399[_0x23dac3(0x21d)],_0xc5d399[_0x23dac3(0x236)])?(_0x4717c0=_0x23dac3(0x251)+_0x1c9bd7[_0x23dac3(0x244)]+_0x23dac3(0x2da),await _0xc5d399[_0x23dac3(0x1f8)](reportToGalactusAndSendToEDS,_0x1c9bd7,_0xea78c3,_0x4717c0,messageTypes['ERROR'],_0xc5d399[_0x23dac3(0x287)],_0xc5d399[_0x23dac3(0x294)],_0xc5d399[_0x23dac3(0x220)]),logger['error'](_0x4717c0),process['exit'](0x1)):_0x2b303d['info'](_0x23dac3(0x25a)+_0xc98d0d[_0x23dac3(0x213)]+'`\x20already\x20exists'):_0xc5d399[_0x23dac3(0x2d6)](_0xc5d399[_0x23dac3(0x29c)],_0xc5d399[_0x23dac3(0x29c)])?_0x88a4e['exit'](0x1):_0x48383e=_0x27e808;}}else _0xc5d399[_0x23dac3(0x2ec)](_0xc5d399[_0x23dac3(0x247)],_0xc5d399[_0x23dac3(0x2d0)])?_0x2681ab=_0x2cb564:process[_0x23dac3(0x279)](0x1);const _0x1f42a5={};_0x1f42a5[_0x23dac3(0x250)]=WS_EVENTS['LOG'],_0x1f42a5[_0x23dac3(0x26e)]=_0xc5d399[_0x23dac3(0x2c0)],webSocketUtils['sendEventToBackend'](_0xea78c3,_0x1f42a5),global_registry[_0x23dac3(0x224)]=_0x48383e[_0x23dac3(0x224)],global_registry[_0x23dac3(0x2c7)]=_0x48383e[_0x23dac3(0x261)],global_registry['clusterName']=_0x48383e[_0x23dac3(0x213)];}}else{if(_0xc5d399[_0x23dac3(0x2ec)](_0xc5d399[_0x23dac3(0x2a0)],_0xc5d399[_0x23dac3(0x280)])){const _0x380314={};_0x380314[_0x23dac3(0x2d8)]=_0xc5d399[_0x23dac3(0x2e7)],_0x380314[_0x23dac3(0x250)]=_0xc5d399[_0x23dac3(0x249)];const _0x8b279f={};_0x8b279f['description']=_0xc5d399[_0x23dac3(0x246)],_0x8b279f[_0x23dac3(0x250)]=_0xc5d399[_0x23dac3(0x249)];const _0x25f7b2={};_0x25f7b2[_0x23dac3(0x2d8)]=_0xc5d399['jsltO'],_0x25f7b2[_0x23dac3(0x250)]=_0xc5d399[_0x23dac3(0x249)];const _0x8fe853={};_0x8fe853['description']=_0xc5d399[_0x23dac3(0x2cf)],_0x8fe853[_0x23dac3(0x250)]=_0xc5d399[_0x23dac3(0x249)];const _0x4231c2={};return _0x4231c2[_0x23dac3(0x22a)]=_0x380314,_0x4231c2['cloud-provider']=_0x8b279f,_0x4231c2[_0x23dac3(0x261)]=_0x25f7b2,_0x4231c2[_0x23dac3(0x2b1)]=_0x8fe853,_0x72e558[_0x23dac3(0x20f)](_0xa473ab[_0x23dac3(0x2ce)])[_0x23dac3(0x215)](_0x432110)['options'](_0x4231c2)[_0x23dac3(0x214)](_0xc5d399['bAesh'])[_0x23dac3(0x283)];}else logger[_0x23dac3(0x212)](_0xc5d399[_0x23dac3(0x2a8)]),process[_0x23dac3(0x279)](0x1);}}}else _0x9c0c25+=_0xc5d399[_0x23dac3(0x282)],_0x25c001+=_0x23dac3(0x2c4)+(_0x3dcf4f[_0x23dac3(0x26e)]||_0xc5d399[_0x23dac3(0x263)])+'\x0a',_0x3d8edc+='\x20\x20Code:\x20'+(_0x37aad8[_0x23dac3(0x221)]||_0xc5d399[_0x23dac3(0x263)])+'\x0a',_0x240f93+=_0x23dac3(0x229)+(_0x43153[_0x23dac3(0x271)]||_0xc5d399[_0x23dac3(0x263)])+'\x0a';}catch(_0x100371){_0xc5d399[_0x23dac3(0x2e5)](_0xc5d399[_0x23dac3(0x276)],_0xc5d399[_0x23dac3(0x22b)])?(_0x4717c0=_0x23dac3(0x23f)+_0x100371+':\x20'+_0x100371[_0x23dac3(0x271)],logger[_0x23dac3(0x212)](_0x4717c0),await _0xc5d399['szmRF'](reportToGalactusAndSendToEDS,_0x1c9bd7,_0xea78c3,_0x4717c0,messageTypes[_0x23dac3(0x273)],_0xc5d399[_0x23dac3(0x287)],_0xc5d399[_0x23dac3(0x218)],_0xc5d399[_0x23dac3(0x220)]),process[_0x23dac3(0x279)](0x1)):_0x59757e[_0x23dac3(0x2ed)](_0xc5d399[_0x23dac3(0x2ca)]);}}function printResponse(_0x15bacb,_0x21075f){const _0x5452e5=a17_0x3b9013,_0x50056c={};_0x50056c[_0x5452e5(0x289)]=_0x5452e5(0x237),_0x50056c[_0x5452e5(0x1f6)]=function(_0x34ac28,_0x3488d2){return _0x34ac28!==_0x3488d2;},_0x50056c[_0x5452e5(0x1f2)]=_0x5452e5(0x222),_0x50056c[_0x5452e5(0x2bb)]=_0x5452e5(0x2bc);const _0x495aea=_0x50056c;logger[_0x5452e5(0x20d)]('['+_0x15bacb+_0x5452e5(0x262)+_0x21075f['status']+_0x5452e5(0x255)+_0x21075f[_0x5452e5(0x24e)]+_0x5452e5(0x2bd)+_0x21075f['error']),_0x21075f[_0x5452e5(0x212)]&&(_0x495aea[_0x5452e5(0x1f6)](_0x495aea['nsNCa'],_0x495aea['Eumdd'])?logger['error']('error\x20stack\x20:\x20'+_0x21075f[_0x5452e5(0x212)]['stack']):(_0x3f491c[_0x5452e5(0x212)](_0x495aea['SkYLX']),_0x50bd9f['exit'](0x1)));}async function generateReport(_0x13575f,_0x3bb857){const _0xf14746=a17_0x3b9013,_0x27deb9={'CkxTl':function(_0x2d3763,_0x58be44){return _0x2d3763+_0x58be44;},'FVUFX':_0xf14746(0x1f9),'bgpzO':_0xf14746(0x260),'WYEED':function(_0x1cfef1,_0xa171a1){return _0x1cfef1||_0xa171a1;},'iHXad':_0xf14746(0x203),'eCzck':_0xf14746(0x1fa),'xapJM':'Cluster\x20details\x0a-----------------------\x0a','VVeHa':function(_0x1d176e,_0x2f1222){return _0x1d176e!=_0x2f1222;},'YTWcD':_0xf14746(0x296),'rGvVT':_0xf14746(0x28b),'ShEGX':function(_0x18f2dd){return _0x18f2dd();}};let _0x31a05b=_0xf14746(0x22d)+global_registry[_0xf14746(0x224)]+'\x20===\x0a\x0a';return _0x13575f[_0xf14746(0x2df)]((_0x140471,_0x432b28)=>{const _0x3267c6=_0xf14746,{header:_0x2141e6,response:_0x4ed8df}=_0x140471,{status:_0x5ad778,data:_0x10362d,error:_0x5e1953}=_0x4ed8df;_0x31a05b+=_0x2141e6+'\x20#'+_0x27deb9[_0x3267c6(0x216)](_0x432b28,0x1)+'\x0a',_0x31a05b+=_0x3267c6(0x21c)+(_0x5ad778?_0x27deb9['FVUFX']:_0x27deb9['bgpzO'])+'\x0a',_0x31a05b+=_0x3267c6(0x1ed)+_0x27deb9[_0x3267c6(0x210)](_0x10362d,_0x27deb9[_0x3267c6(0x274)])+'\x0a',_0x5e1953&&(_0x31a05b+=_0x27deb9[_0x3267c6(0x27a)],_0x31a05b+=_0x3267c6(0x2c4)+(_0x5e1953[_0x3267c6(0x26e)]||_0x27deb9[_0x3267c6(0x274)])+'\x0a',_0x31a05b+='\x20\x20Code:\x20'+(_0x5e1953[_0x3267c6(0x221)]||_0x27deb9[_0x3267c6(0x274)])+'\x0a',_0x31a05b+=_0x3267c6(0x229)+(_0x5e1953['stack']||_0x27deb9[_0x3267c6(0x274)])+'\x0a'),_0x31a05b+='\x0a\x0a';}),_0x31a05b+=_0x27deb9[_0xf14746(0x2db)],_0x27deb9[_0xf14746(0x2a6)](_0x3bb857,null)?_0x31a05b+=_0xf14746(0x2c2)+global_registry[_0xf14746(0x213)]+'\x20'+(_0x3bb857?_0x27deb9['YTWcD']:_0x27deb9[_0xf14746(0x225)])+'\x0a\x0a':_0x31a05b+='Cluster\x20'+global_registry['clusterName']+'\x20details\x20cannot\x20be\x20fetched\x0a\x0a',_0x31a05b+=_0x27deb9[_0xf14746(0x253)](getSystemMetaData),_0x31a05b;};exports[a17_0x3b9013(0x28d)]=async function(_0x121245){const _0x200c92=a17_0x3b9013,_0x5f1ccf={'JUCyS':function(_0x429b7b){return _0x429b7b();},'CoufQ':_0x200c92(0x235),'baPAo':function(_0x2b5773,_0x416b4d,_0x15e243,_0x20444d,_0x4e3965,_0x149595,_0x40d979,_0x389b85){return _0x2b5773(_0x416b4d,_0x15e243,_0x20444d,_0x4e3965,_0x149595,_0x40d979,_0x389b85);},'QBJHn':_0x200c92(0x20e),'iHXkR':_0x200c92(0x231),'fYVKt':'error','RIyBJ':function(_0x36be49,_0x1489f8,_0x335994,_0x458dea,_0x33ae99,_0x2000bd,_0x261364){return _0x36be49(_0x1489f8,_0x335994,_0x458dea,_0x33ae99,_0x2000bd,_0x261364);},'jeHkd':function(_0x1bc6a2){return _0x1bc6a2();},'qqvNF':_0x200c92(0x24b),'rSUnZ':_0x200c92(0x29f),'knvUQ':function(_0x4cfa76,_0x594ac5,_0x29492d){return _0x4cfa76(_0x594ac5,_0x29492d);},'STxSa':_0x200c92(0x2d5),'gdYmT':function(_0x18f3af,_0x37985f,_0xb2dcfc){return _0x18f3af(_0x37985f,_0xb2dcfc);},'FacBC':_0x200c92(0x232),'XZdqs':_0x200c92(0x1fb),'aBmUG':'accessResp','xuYgc':function(_0x110275,_0x29540e,_0x5bf5c0){return _0x110275(_0x29540e,_0x5bf5c0);},'TRQRI':_0x200c92(0x278),'gQGnU':function(_0x196c53,_0x30cd62){return _0x196c53(_0x30cd62);},'HRugi':_0x200c92(0x21f),'FlKSG':_0x200c92(0x2a3),'uJRAk':_0x200c92(0x1ee),'yWdsZ':'User\x20Access','eqQFH':_0x200c92(0x202),'sxjIz':_0x200c92(0x2ab),'WtuVa':function(_0x5c20e6,_0xf359c6){return _0x5c20e6+_0xf359c6;},'pOvxi':_0x200c92(0x27b),'tzOqq':'pre-check-failed'};let _0x5ea98b,_0x5d5035;try{global_registry['requestId']=_0x5f1ccf[_0x200c92(0x270)](uuidv4);!fs[_0x200c92(0x242)](_0x5f1ccf['JUCyS'](getCredentialsPath))&&(_0x5d5035=_0x5f1ccf[_0x200c92(0x204)],logger[_0x200c92(0x212)](_0x5d5035),await _0x5f1ccf[_0x200c92(0x243)](reportToGalactusAndSendToEDS,_0x121245,_0x5ea98b,_0x5d5035,messageTypes['ERROR'],_0x5f1ccf[_0x200c92(0x2dd)],_0x5f1ccf['iHXkR'],_0x5f1ccf[_0x200c92(0x291)]),process[_0x200c92(0x279)](0x1));_0x5f1ccf[_0x200c92(0x2d7)](sendInstrumentationEvent,_0x121245,_0x5f1ccf[_0x200c92(0x2dd)],messageTypes[_0x200c92(0x1ff)],null,null,_0x121245);const _0x4320ec=JSON[_0x200c92(0x298)](fs['readFileSync'](_0x5f1ccf[_0x200c92(0x2d1)](getCredentialsPath)));global_registry[_0x200c92(0x266)]=_0x4320ec[_0x200c92(0x2b3)]['username'],global_registry['bstackAccesskey']=_0x4320ec[_0x200c92(0x2b3)][_0x200c92(0x21a)];const _0xeaf71e=WS_ENDPOINT['replace'](_0x5f1ccf[_0x200c92(0x2cc)],_0x4320ec[_0x200c92(0x2b3)][_0x200c92(0x28f)])[_0x200c92(0x24f)](_0x5f1ccf[_0x200c92(0x2e4)],_0x4320ec[_0x200c92(0x2b3)][_0x200c92(0x21a)]),_0x5afb49={};_0x5afb49[_0x200c92(0x234)]=ws,_0x5afb49[_0x200c92(0x2c5)]=0x36ee80,_0x5ea98b=new ReconnectingWebSocket(_0xeaf71e,[],_0x5afb49),global_registry[_0x200c92(0x292)]=_0x5f1ccf[_0x200c92(0x23c)](getAuthHeader,global_registry[_0x200c92(0x266)],global_registry[_0x200c92(0x2aa)]),await _0x5f1ccf[_0x200c92(0x23c)](inputValidation,_0x121245,_0x5ea98b),logger[_0x200c92(0x20d)](_0x200c92(0x239)+global_registry[_0x200c92(0x224)]+_0x200c92(0x26d)+global_registry['clusterRegion']);let _0x2986fa=await _0x5f1ccf[_0x200c92(0x2d7)](getCloudProviderObjectWithOutInit,global_registry['cloudProvider'],global_registry[_0x200c92(0x213)],_0x5f1ccf['STxSa'],_0x5ea98b,webSocketUtils,_0x121245);const _0x51ba14=await _0x2986fa[_0x200c92(0x248)]();_0x5f1ccf['gdYmT'](printResponse,_0x5f1ccf[_0x200c92(0x2c3)],_0x51ba14),_0x2986fa=await _0x2986fa[_0x200c92(0x23e)]();let _0x3a60cc=![];try{_0x3a60cc=await _0x2986fa[_0x200c92(0x28a)]();}catch(_0x1f6972){const _0x5b7d73=_0x5f1ccf[_0x200c92(0x26f)][_0x200c92(0x24d)]('|');let _0x39cd6b=0x0;while(!![]){switch(_0x5b7d73[_0x39cd6b++]){case'0':await _0x5f1ccf[_0x200c92(0x243)](reportToGalactusAndSendToEDS,_0x121245,_0x5ea98b,_0x5d5035,messageTypes['ERROR'],_0x5f1ccf[_0x200c92(0x2dd)],_0x200c92(0x2b0)+global_registry[_0x200c92(0x224)],_0x5f1ccf[_0x200c92(0x291)]);continue;case'1':_0x5d5035=_0x200c92(0x1ef)+global_registry[_0x200c92(0x213)]+_0x200c92(0x2a2)+global_registry['clusterRegion']+'`\x20,error\x20:\x20'+_0x1f6972;continue;case'2':logger['error'](_0x5d5035);continue;case'3':_0x5d5035+='\x0a'+JSON[_0x200c92(0x2b9)](_0x1f6972[_0x200c92(0x271)]);continue;case'4':_0x3a60cc=null;continue;}break;}}_0x3a60cc&&logger[_0x200c92(0x20d)](_0x200c92(0x25a)+global_registry[_0x200c92(0x213)]+_0x200c92(0x252));const _0x4ebbdb=await _0x2986fa['checkAccess']();_0x5f1ccf[_0x200c92(0x2d4)](printResponse,_0x5f1ccf[_0x200c92(0x27e)],_0x4ebbdb);const _0x212700=await _0x5f1ccf['jeHkd'](curlRequest);_0x5f1ccf[_0x200c92(0x230)](printResponse,_0x5f1ccf['TRQRI'],_0x212700);const _0x49503c=await _0x5f1ccf[_0x200c92(0x257)](isTlsSupported,_0x5f1ccf['HRugi']);_0x5f1ccf[_0x200c92(0x230)](printResponse,_0x5f1ccf[_0x200c92(0x1f5)],_0x49503c);const _0x13ddd9={};_0x13ddd9[_0x200c92(0x2b4)]=_0x5f1ccf[_0x200c92(0x2e2)],_0x13ddd9[_0x200c92(0x2c1)]=_0x51ba14;const _0x10f942={};_0x10f942[_0x200c92(0x2b4)]=_0x5f1ccf[_0x200c92(0x29a)],_0x10f942[_0x200c92(0x2c1)]=_0x4ebbdb;const _0x8e008={};_0x8e008[_0x200c92(0x2b4)]=_0x5f1ccf['eqQFH'],_0x8e008[_0x200c92(0x2c1)]=_0x212700;const _0x2888b6={};_0x2888b6[_0x200c92(0x2b4)]=_0x5f1ccf[_0x200c92(0x245)],_0x2888b6[_0x200c92(0x2c1)]=_0x49503c;const _0x22df73=[_0x13ddd9,_0x10f942,_0x8e008,_0x2888b6],_0x36c516=await _0x5f1ccf[_0x200c92(0x2d4)](generateReport,_0x22df73,_0x3a60cc),_0x1e3396=new Date(),_0x280b22=_0x1e3396[_0x200c92(0x21e)]()+'_'+_0x5f1ccf[_0x200c92(0x2cb)](_0x1e3396[_0x200c92(0x1f1)](),0x1)+'_'+_0x1e3396[_0x200c92(0x22f)]()+'_'+_0x1e3396['getUTCHours']()+'_'+_0x1e3396[_0x200c92(0x27d)](),_0x302c26=_0x200c92(0x2a4)+_0x280b22+_0x200c92(0x29b);fs[_0x200c92(0x228)](_0x302c26,_0x36c516,_0x5f1ccf['pOvxi']),logger[_0x200c92(0x20d)](_0x200c92(0x226)+_0x302c26),process[_0x200c92(0x279)](0x0);}catch(_0x1daa66){let _0x4bf877='Failed\x20in\x20pre-check!\x20Error:\x20'+_0x1daa66+'\x20';logger[_0x200c92(0x212)](_0x4bf877),_0x4bf877+='\x0a'+JSON[_0x200c92(0x2b9)](_0x1daa66['stack']),logger[_0x200c92(0x22e)](_0x200c92(0x25c)+_0x1daa66[_0x200c92(0x271)]);if(_0x5ea98b){const _0x300904={};_0x300904[_0x200c92(0x250)]=WS_EVENTS[_0x200c92(0x288)],_0x300904['message']=_0x4bf877,webSocketUtils[_0x200c92(0x2ee)](_0x5ea98b,_0x300904,_0x5f1ccf['fYVKt'],!![]);}await webSocketUtils[_0x200c92(0x1f0)](0x7d0);const _0x229bde={};_0x229bde[_0x200c92(0x212)]=_0x4bf877,await _0x5f1ccf['RIyBJ'](sendInstrumentationEvent,_0x121245,_0x5f1ccf[_0x200c92(0x2dd)],messageTypes['ERROR'],_0x5f1ccf[_0x200c92(0x25e)],_0x229bde,_0x121245),process[_0x200c92(0x279)](0x1);}};