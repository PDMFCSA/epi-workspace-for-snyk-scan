const a17_0x416d51=a17_0x15dd;(function(_0xfea006,_0x55416c){const _0x228899=a17_0x15dd,_0x118283=_0xfea006();while(!![]){try{const _0x487816=-parseInt(_0x228899(0xcb))/0x1*(-parseInt(_0x228899(0xff))/0x2)+parseInt(_0x228899(0xf3))/0x3*(parseInt(_0x228899(0x17c))/0x4)+parseInt(_0x228899(0x104))/0x5+-parseInt(_0x228899(0x166))/0x6*(parseInt(_0x228899(0xc4))/0x7)+-parseInt(_0x228899(0xde))/0x8*(-parseInt(_0x228899(0xdd))/0x9)+parseInt(_0x228899(0x18d))/0xa+parseInt(_0x228899(0x144))/0xb*(-parseInt(_0x228899(0xe0))/0xc);if(_0x487816===_0x55416c)break;else _0x118283['push'](_0x118283['shift']());}catch(_0x33c183){_0x118283['push'](_0x118283['shift']());}}}(a17_0x26de,0x39242));const fs=require('fs'),ws=require('ws'),got=require(a17_0x416d51(0xa8)),{v4:uuidv4}=require(a17_0x416d51(0xb9)),ReconnectingWebSocket=require(a17_0x416d51(0x163)),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require(a17_0x416d51(0xf4)),{logger}=require(a17_0x416d51(0xc9)),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require(a17_0x416d51(0x12f)),{getCloudProviderObjectWithOutInit}=require(a17_0x416d51(0x97)),webSocketUtils=require(a17_0x416d51(0x107)),{sendInstrumentationEvent}=require(a17_0x416d51(0x14f));function a17_0x26de(){const _0x2d5421=['authHeader','description','TLSv1_2_client_method','LHcZr','INFO','LbJcj','HNuFt','find','cloudProvider','txfyy','pifOI','response','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','RpkhX','mCzRx','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','cloud-provider-not-supported','DsRPy','3207mRSKfg','../../utils/utilityMethods','includes','lAUbl','isTrialGridAccessible','N/A','cloud-provider','.\x20Please\x20provide\x20all\x20required\x20arguments.','Bjztv','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','SSL\x20Configured','Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','2abdQew','qPrMf','mKqRx','<UsernamePlaceholder>','gVgah','1535525dCqNvr','EztOO','pVrPi','../../utils/webSocketUtils','maAuK','\x20===\x0a\x0a','string','tTROS','usage','VqlBP','yATps','BjonI','DBdbL','XoOwg','Pre-check\x20running\x20for\x20Cloud\x20-\x20','Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20','status','tMiJd','grid\x20profile\x20flow\x20','clusterRegion','join','pre-check-grid-called','HJUTi','wJQIP','help','message','init','https://','USBuY','zdOMx','dummy-grid','pfWxy','stack','replace','jJMJC','getUTCFullYear','OnURS','iujwE','error','qyyep','TWcfX','\x20data\x20:\x20','BAZay','../../config/constants','split','getUTCMonth','TChGb','header','xkRvW','isTls1_2_SUPPORTED','length','grid-profile','stringify','/packages/cli/get-all-grid-profiles','KzRDd','xUYEi','pre-check-failed','CcIIp','is\x20already\x20present','Invalid\x20input.\x20grid\x20profiles:\x20','Jtcwq','region','push','forEach','5206718OPwYZR','info','TRIVp','log/report_','LPgNW','CmYtT','checkAccess','SLoXI','kaDbJ','YPBLV','code','../../utils/instrumentationUtils','lWerg','bstackAccesskey','nZQFe','Browserstack','debug','WebSocket','type','clusterName','gridProfile','BWvod','BtvXN','vYGab','password','writeFileSync','rRJrN','accessResp','VTICx','connectionTimeout','Tool\x20Installed','reconnecting-websocket','HBwoG','\x20\x20Message:\x20','6JYHCcX','.txt','exit','YlLbl','VTLwz','Failed\x20in\x20pre-check!\x20Error:\x20','Grid\x20profile\x20fetched\x20for\x20pre-check','Whitelisted\x20browserstack','RRyvN','builder','HYADc','MFRah','getUTCDate','ntjuK','\x20\x20Code:\x20','uFwhv','pre-check-cluster-args-not-passed','TFuKc','qCrWD','body','UlPgi','GET','1288apOYxo','Report\x20saved\x20in\x20','stack\x20trace\x20','EWfBB','grid','lZdjC','requestId','`\x20already\x20exists','dUzLl','bsEwS','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','aSWuK','fIery','\x20error\x20:\x20','yEraf','pre-check','ClQLb','3979430lTtBNv','fHRhV','parse','shLBO','delay','Message:\x20','data','Failure','error\x20stack\x20:\x20','../../cloudproviders/utils','DrOqV','zOAqq','isCliToolInstalled','UvUvp','RaGKY','Setting\x20cloud\x20provider\x20as\x20','LOG','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','QKrBt','lPgLu','\x20\x20Stack:\x20','bJSwP','ommXB','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','zTEMe','WJUwJ','got','CLOUD_PROVIDER','argv',']\x20status\x20:\x20','yAaUl','VObpG','cluster-name','options','soSSG','IpZxy','svmjX','Pnbba','aXdpA','pJemx','throwHttpErrors','VTyPB','`\x20,error\x20:\x20','uuid','<PasswordPlaceholder>','sendEventToBackend','ZctjT','nZCqG','dtoen','gzTMK','LshNp','handler','Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup','readFileSync','1957634CCGIVq','MnYja','cxpQJ','tZRzk','ERROR','../../config/logger','Cluster\x20','151114nmzfim','username','pre_check','ADHww','toLowerCase','yGIbX','dQDjx','getUTCMinutes','===\x20Precheck\x20Report\x20-\x20','utf-8','ZJynN','epilogue','Cluster\x20`','credential-not-found','XqbrO','RmTQI','name','fXYGf','41787CkFzoI','448AdZZsU','WCPUa','24vGMIPa'];a17_0x26de=function(){return _0x2d5421;};return a17_0x26de();}exports['command']=a17_0x416d51(0x180),exports['desc']=a17_0x416d51(0xc2),exports[a17_0x416d51(0x16f)]=function(_0x8095b8){const _0x2019f8=a17_0x416d51,_0x397b39={};_0x397b39[_0x2019f8(0x14b)]=_0x2019f8(0xed),_0x397b39[_0x2019f8(0xda)]=_0x2019f8(0x10a),_0x397b39['Bjztv']=_0x2019f8(0xf0),_0x397b39['TRIVp']=_0x2019f8(0xfc),_0x397b39['Nqoxs']='Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.',_0x397b39[_0x2019f8(0xdf)]=_0x2019f8(0x11c);const _0x2ca0e8=_0x397b39,_0x16dcd5={};_0x16dcd5[_0x2019f8(0xe2)]=_0x2ca0e8[_0x2019f8(0x14b)],_0x16dcd5[_0x2019f8(0x156)]=_0x2ca0e8[_0x2019f8(0xda)];const _0x3799f3={};_0x3799f3[_0x2019f8(0xe2)]=_0x2ca0e8[_0x2019f8(0xfb)],_0x3799f3[_0x2019f8(0x156)]=_0x2ca0e8[_0x2019f8(0xda)];const _0x1d968b={};_0x1d968b[_0x2019f8(0xe2)]=_0x2ca0e8[_0x2019f8(0x146)],_0x1d968b[_0x2019f8(0x156)]=_0x2ca0e8[_0x2019f8(0xda)];const _0x270576={};_0x270576[_0x2019f8(0xe2)]=_0x2ca0e8['Nqoxs'],_0x270576[_0x2019f8(0x156)]=_0x2ca0e8[_0x2019f8(0xda)];const _0x3d4437={};return _0x3d4437['cluster-name']=_0x16dcd5,_0x3d4437['cloud-provider']=_0x3799f3,_0x3d4437[_0x2019f8(0x141)]=_0x1d968b,_0x3d4437[_0x2019f8(0x137)]=_0x270576,_0x8095b8[_0x2019f8(0x10c)](HELP_HEADER_MESSAGE[_0x2019f8(0xcd)])[_0x2019f8(0xd6)](HELP_FOOTER_MESSAGE)[_0x2019f8(0xaf)](_0x3d4437)[_0x2019f8(0x11c)](_0x2ca0e8[_0x2019f8(0xdf)])[_0x2019f8(0xaa)];};async function inputValidation(_0x16713e,_0x12a154){const _0x1e797b=a17_0x416d51,_0xb174d6={'qyyep':_0x1e797b(0x141),'RaGKY':_0x1e797b(0xed),'HBwoG':_0x1e797b(0x10a),'ZJynN':_0x1e797b(0xf0),'pifOI':_0x1e797b(0xfc),'DsRPy':'Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','OTADr':_0x1e797b(0x11c),'xrwfn':'is\x20already\x20present','lWerg':'will\x20be\x20created','CcIIp':_0x1e797b(0xf9),'ClQLb':'Error\x20Details:\x0a','CmYtT':_0x1e797b(0xf8),'uFwhv':function(_0x146a29,_0x4c35ae){return _0x146a29+_0x4c35ae;},'yGIbX':'Success','EWfBB':_0x1e797b(0x95),'UvUvp':function(_0x3e6793,_0x1b7c6b){return _0x3e6793||_0x1b7c6b;},'DQHPy':_0x1e797b(0x186),'TChGb':_0x1e797b(0x12a),'jJMJC':function(_0x1057a0,_0x415a68){return _0x1057a0===_0x415a68;},'txfyy':_0x1e797b(0x123),'fXYGf':function(_0x1c9d44,_0x5d7043){return _0x1c9d44===_0x5d7043;},'gVgah':_0x1e797b(0xa0),'RSmbB':_0x1e797b(0xc0),'jznuu':function(_0x43579a,_0x3bf5ca){return _0x43579a!==_0x3bf5ca;},'eIAKb':'boWGk','hWAbl':_0x1e797b(0xb2),'vGdFy':_0x1e797b(0xae),'dUzLl':function(_0x4e9f52,_0x2898b9){return _0x4e9f52!==_0x2898b9;},'tZRzk':_0x1e797b(0xb1),'xSIvW':'madlp','VTyPB':_0x1e797b(0x106),'BWvod':function(_0x12de96,_0x462a5d){return _0x12de96>_0x462a5d;},'JEcgx':function(_0x6a7320,_0x217cce){return _0x6a7320===_0x217cce;},'zTEMe':_0x1e797b(0x18a),'VTICx':_0x1e797b(0x16a),'ZTosN':function(_0x85e7fb,_0x243e09,_0x3bb287,_0x562d11,_0x386f6a,_0x53c575,_0x376c4b,_0x296ab9){return _0x85e7fb(_0x243e09,_0x3bb287,_0x562d11,_0x386f6a,_0x53c575,_0x376c4b,_0x296ab9);},'TFuKc':_0x1e797b(0x119),'WJUwJ':_0x1e797b(0x176),'ADHww':function(_0x313ff4,_0x1cb328){return _0x313ff4!==_0x1cb328;},'OnURS':_0x1e797b(0xc5),'BjonI':_0x1e797b(0x190),'wlFxg':_0x1e797b(0xfe),'mCzRx':function(_0x3c6d59,_0x3a9be5,_0x1f4826,_0x27fc7b,_0x560937,_0x13ffbd,_0x2fee1e,_0x4af28c){return _0x3c6d59(_0x3a9be5,_0x1f4826,_0x27fc7b,_0x560937,_0x13ffbd,_0x2fee1e,_0x4af28c);},'XqGOV':_0x1e797b(0xf1),'lPgLu':'HyVJH','tMiJd':_0x1e797b(0x120),'aBuqC':_0x1e797b(0xa4),'TWcfX':_0x1e797b(0x129),'sXEbk':_0x1e797b(0x17b),'BAZay':function(_0x863abe,_0x4c09cd,_0x2cea3d){return _0x863abe(_0x4c09cd,_0x2cea3d);},'bJSwP':function(_0x7a5d54,_0x539a65,_0x4879a2,_0x228dd5,_0x8d8d06,_0x10bad6){return _0x7a5d54(_0x539a65,_0x4879a2,_0x228dd5,_0x8d8d06,_0x10bad6);},'bsEwS':_0x1e797b(0x18b),'HJUTi':_0x1e797b(0x137),'Pnbba':function(_0x296211,_0x485fbc){return _0x296211===_0x485fbc;},'LHcZr':_0x1e797b(0x13a),'ZctjT':function(_0x117b76,_0x576dcc){return _0x117b76(_0x576dcc);},'hvpTX':_0x1e797b(0xc6),'DBdbL':function(_0x51ee05,_0x50ec49,_0x4ea620,_0x3ed666,_0x1dfa0a,_0x5b7eb9,_0x4fe9e6,_0x2f0226){return _0x51ee05(_0x50ec49,_0x4ea620,_0x3ed666,_0x1dfa0a,_0x5b7eb9,_0x4fe9e6,_0x2f0226);},'wXiSB':'pre-check-grid-profile-empty','wJQIP':_0x1e797b(0xbe),'tbHWS':function(_0x3487e5,_0x4d52da){return _0x3487e5!==_0x4d52da;},'soSSG':'ExSqC','pJemx':_0x1e797b(0x16c),'gzTMK':function(_0x287df2,_0x4500d2){return _0x287df2===_0x4500d2;},'RpkhX':_0x1e797b(0x188),'VObpG':_0x1e797b(0x181),'yATps':_0x1e797b(0x10d)};let _0x36cb4c;try{if(_0xb174d6[_0x1e797b(0x126)](_0xb174d6[_0x1e797b(0xea)],_0xb174d6[_0x1e797b(0xea)])){if(_0x16713e[_0x1e797b(0x157)]||_0x16713e[_0x1e797b(0xe9)]||_0x16713e[_0x1e797b(0x141)]){if(_0xb174d6['fXYGf'](_0xb174d6[_0x1e797b(0x103)],_0xb174d6['RSmbB']))_0xbe7bdd[_0x1e797b(0x142)](_0xb174d6[_0x1e797b(0x12b)]);else{const _0x5e6601=[];!_0x16713e['clusterName']&&(_0xb174d6['jznuu'](_0xb174d6['eIAKb'],_0xb174d6['hWAbl'])?_0x5e6601[_0x1e797b(0x142)](_0xb174d6['vGdFy']):_0x18fd80+=_0x1e797b(0xca)+_0x5027fa[_0x1e797b(0x157)]+_0x1e797b(0x9f));;if(!_0x16713e[_0x1e797b(0xe9)]){if(_0xb174d6[_0x1e797b(0x184)](_0xb174d6[_0x1e797b(0xc7)],_0xb174d6['xSIvW']))_0x5e6601[_0x1e797b(0x142)](_0xb174d6[_0x1e797b(0x13d)]);else{const _0x5995f3={};_0x5995f3[_0x1e797b(0xe2)]=_0xb174d6[_0x1e797b(0x9c)],_0x5995f3[_0x1e797b(0x156)]=_0xb174d6[_0x1e797b(0x164)];const _0x5ba098={};_0x5ba098['description']=_0xb174d6[_0x1e797b(0xd5)],_0x5ba098[_0x1e797b(0x156)]=_0xb174d6[_0x1e797b(0x164)];const _0x5315dc={};_0x5315dc['description']=_0xb174d6[_0x1e797b(0xeb)],_0x5315dc[_0x1e797b(0x156)]=_0xb174d6[_0x1e797b(0x164)];const _0x2a22a6={};_0x2a22a6['description']=_0xb174d6[_0x1e797b(0xf2)],_0x2a22a6['type']=_0xb174d6[_0x1e797b(0x164)];const _0x14b751={};return _0x14b751[_0x1e797b(0xae)]=_0x5995f3,_0x14b751['cloud-provider']=_0x5ba098,_0x14b751[_0x1e797b(0x141)]=_0x5315dc,_0x14b751[_0x1e797b(0x137)]=_0x2a22a6,_0x270d61[_0x1e797b(0x10c)](_0x300e43[_0x1e797b(0xcd)])[_0x1e797b(0xd6)](_0x46b846)[_0x1e797b(0xaf)](_0x14b751)[_0x1e797b(0x11c)](_0xb174d6['OTADr'])['argv'];}};!_0x16713e[_0x1e797b(0x141)]&&(_0xb174d6[_0x1e797b(0x126)](_0xb174d6[_0x1e797b(0xb7)],_0xb174d6[_0x1e797b(0xb7)])?_0x5e6601[_0x1e797b(0x142)](_0xb174d6[_0x1e797b(0x12b)]):(_0x386df7[_0x1e797b(0x145)](_0x1e797b(0x9d)+_0x5783fe[_0x1e797b(0xa9)]+'\x20'),_0x19d6f7[_0x1e797b(0xe9)]=_0xbfe645[_0x1e797b(0xa9)]));;_0xb174d6[_0x1e797b(0x159)](_0x5e6601[_0x1e797b(0x136)],0x0)&&(_0xb174d6['JEcgx'](_0xb174d6[_0x1e797b(0xa6)],_0xb174d6[_0x1e797b(0x160)])?_0x5c0735+=_0x1e797b(0xca)+_0x3ae0ae[_0x1e797b(0x157)]+'\x20'+(_0x49bef7?_0xb174d6['xrwfn']:_0xb174d6[_0x1e797b(0x150)])+'\x0a\x0a':(_0x36cb4c='Missing\x20required\x20arguments:\x20'+_0x5e6601[_0x1e797b(0x118)](',\x20')+_0x1e797b(0xfa),await _0xb174d6['ZTosN'](reportToGalactusAndSendToEDS,_0x16713e,_0x12a154,_0x36cb4c,messageTypes[_0x1e797b(0xc8)],_0xb174d6[_0x1e797b(0x177)],_0xb174d6[_0x1e797b(0xa7)],_0xb174d6['TChGb']),logger[_0x1e797b(0x12a)](_0x36cb4c),process[_0x1e797b(0x168)](0x1))),!ALL_SUPPORTED_CLOUD_PROVIDERS[_0x1e797b(0xf5)](_0x16713e['cloudProvider'][_0x1e797b(0xcf)]())&&(_0xb174d6[_0x1e797b(0xce)](_0xb174d6[_0x1e797b(0x128)],_0xb174d6[_0x1e797b(0x10f)])?(_0x36cb4c=_0xb174d6['wlFxg'],await _0xb174d6['mCzRx'](reportToGalactusAndSendToEDS,_0x16713e,_0x12a154,_0x36cb4c,messageTypes[_0x1e797b(0xc8)],_0xb174d6[_0x1e797b(0x177)],_0xb174d6['XqGOV'],_0xb174d6[_0x1e797b(0x132)]),logger[_0x1e797b(0x12a)](_0x36cb4c),!_0x16713e[_0x1e797b(0xe9)]&&(_0xb174d6['dUzLl'](_0xb174d6[_0x1e797b(0xa1)],_0xb174d6[_0x1e797b(0x115)])?(logger['info'](_0x1e797b(0x9d)+DEFAULT_CLUSTER_DETAILS[_0x1e797b(0xa9)]+'\x20'),_0x16713e[_0x1e797b(0xe9)]=DEFAULT_CLUSTER_DETAILS[_0x1e797b(0xa9)]):(_0x1e86bb['info']('['+_0x11b963+_0x1e797b(0xab)+_0x3faf0d['status']+_0x1e797b(0x12d)+_0x5dd24a[_0x1e797b(0x94)]+_0x1e797b(0x189)+_0x482f5d['error']),_0x319d59[_0x1e797b(0x12a)]&&_0x4acb36[_0x1e797b(0x12a)](_0x1e797b(0x96)+_0x24ac99['error'][_0x1e797b(0x124)])))):_0x508fb5['push'](_0xb174d6[_0x1e797b(0x13d)])),global_registry[_0x1e797b(0x157)]=_0x16713e[_0x1e797b(0x157)],global_registry['cloudProvider']=_0x16713e[_0x1e797b(0xe9)],global_registry[_0x1e797b(0x117)]=_0x16713e[_0x1e797b(0x141)];}}else{if(_0x16713e[_0x1e797b(0x158)]){if(_0xb174d6[_0x1e797b(0xdc)](_0xb174d6['aBuqC'],_0xb174d6[_0x1e797b(0x12c)]))_0x123df5=_0x58fb48;else{global_registry['gridProfile']=_0x16713e[_0x1e797b(0x158)],logger[_0x1e797b(0x154)](_0x1e797b(0x116)+_0x16713e[_0x1e797b(0x158)]);const _0x54145a=_0x1e797b(0x11f)+AG_API_URL+_0x1e797b(0x139),_0x44930f={};_0x44930f['method']=_0xb174d6['sXEbk'],_0x44930f['headers']=global_registry[_0x1e797b(0xe1)],_0x44930f[_0x1e797b(0xb6)]=![];const _0x31eab8=_0x44930f,_0x2f012e=await _0xb174d6[_0x1e797b(0x12e)](got,_0x54145a,_0x31eab8),_0x11bfcb=await _0xb174d6[_0x1e797b(0xa3)](responseValidation,_0x2f012e,_0xb174d6[_0x1e797b(0x185)],_0xb174d6[_0x1e797b(0x11a)],_0x16713e,_0x12a154);let _0x14caf9={};if(_0xb174d6[_0x1e797b(0xb3)](_0x11bfcb,0xc8)){if(_0xb174d6[_0x1e797b(0xdc)](_0xb174d6[_0x1e797b(0xe4)],_0xb174d6[_0x1e797b(0xe4)])){const _0x4d9699=JSON[_0x1e797b(0x18f)](_0x2f012e[_0x1e797b(0x179)]),_0x215be6=_0x4d9699[_0x1e797b(0xe8)](_0x267e28=>_0x267e28[_0x1e797b(0xdb)]===_0x16713e[_0x1e797b(0x158)])||null;if(_0xb174d6[_0x1e797b(0xbc)](isUndefined,_0x215be6))_0xb174d6[_0x1e797b(0x126)](_0xb174d6['hvpTX'],_0xb174d6['hvpTX'])?(_0x36cb4c=_0x1e797b(0x13f)+_0x16713e['gridProfile']+'.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again',await _0xb174d6[_0x1e797b(0x110)](reportToGalactusAndSendToEDS,_0x16713e,_0x12a154,_0x36cb4c,messageTypes[_0x1e797b(0xc8)],_0xb174d6[_0x1e797b(0x177)],_0xb174d6['wXiSB'],_0xb174d6['TChGb']),logger[_0x1e797b(0x12a)](_0x36cb4c),process[_0x1e797b(0x168)](0x1)):(_0x40f1d9+=_0xb174d6[_0x1e797b(0x18c)],_0x58f8e2+=_0x1e797b(0x165)+(_0x3c4078[_0x1e797b(0x11d)]||_0xb174d6[_0x1e797b(0x149)])+'\x0a',_0xb13758+=_0x1e797b(0x174)+(_0x29f4e2[_0x1e797b(0x14e)]||_0xb174d6[_0x1e797b(0x149)])+'\x0a',_0x525f7a+=_0x1e797b(0xa2)+(_0x423756[_0x1e797b(0x124)]||_0xb174d6[_0x1e797b(0x149)])+'\x0a');else{if(_0xb174d6['JEcgx'](_0xb174d6['wJQIP'],_0xb174d6[_0x1e797b(0x11b)]))_0x14caf9=_0x215be6;else{const {header:_0x56da8a,response:_0x45d045}=_0x7863f6,{status:_0x2f6661,data:_0x3f615d,error:_0x510843}=_0x45d045;_0x355fb0+=_0x56da8a+'\x20#'+_0xb174d6[_0x1e797b(0x175)](_0x40e5db,0x1)+'\x0a',_0x17c16d+='Status:\x20'+(_0x2f6661?_0xb174d6[_0x1e797b(0xd0)]:_0xb174d6[_0x1e797b(0x17f)])+'\x0a',_0x3df1f1+=_0x1e797b(0x93)+_0xb174d6[_0x1e797b(0x9b)](_0x3f615d,_0xb174d6[_0x1e797b(0x149)])+'\x0a',_0x510843&&(_0x25f954+=_0xb174d6[_0x1e797b(0x18c)],_0x39fd33+=_0x1e797b(0x165)+(_0x510843[_0x1e797b(0x11d)]||_0xb174d6[_0x1e797b(0x149)])+'\x0a',_0x35f6c3+=_0x1e797b(0x174)+(_0x510843[_0x1e797b(0x14e)]||_0xb174d6[_0x1e797b(0x149)])+'\x0a',_0xe7bde6+='\x20\x20Stack:\x20'+(_0x510843[_0x1e797b(0x124)]||_0xb174d6[_0x1e797b(0x149)])+'\x0a'),_0xc0c923+='\x0a\x0a';}}}else _0x2028b5[_0x1e797b(0x145)](_0x1e797b(0xd7)+_0x4278e7[_0x1e797b(0x157)]+_0x1e797b(0x183));}else _0xb174d6['tbHWS'](_0xb174d6[_0x1e797b(0xb0)],_0xb174d6[_0x1e797b(0xb0)])?(_0x3e1dcd['error'](_0xb174d6['DQHPy']),_0x425172[_0x1e797b(0x168)](0x1)):process['exit'](0x1);const _0x2d0d89={};_0x2d0d89[_0x1e797b(0x156)]=WS_EVENTS[_0x1e797b(0x9e)],_0x2d0d89[_0x1e797b(0x11d)]=_0xb174d6[_0x1e797b(0xb5)],webSocketUtils[_0x1e797b(0xbb)](_0x12a154,_0x2d0d89),global_registry['cloudProvider']=_0x14caf9[_0x1e797b(0xe9)],global_registry['clusterRegion']=_0x14caf9[_0x1e797b(0x141)],global_registry[_0x1e797b(0x157)]=_0x14caf9[_0x1e797b(0x157)];}}else{if(_0xb174d6[_0x1e797b(0xbf)](_0xb174d6[_0x1e797b(0xee)],_0xb174d6['RpkhX']))logger['error'](_0xb174d6['DQHPy']),process['exit'](0x1);else{const _0x57470c={};_0x57470c['type']=_0x8d8ed[_0x1e797b(0x9e)],_0x57470c[_0x1e797b(0x11d)]=_0x34bfa8,_0x2b672e[_0x1e797b(0xbb)](_0x502582,_0x57470c,_0xb174d6[_0x1e797b(0x132)],!![]);}}}}else _0x33a228['error'](_0x1e797b(0x96)+_0x29b1c1['error'][_0x1e797b(0x124)]);}catch(_0x71500a){_0xb174d6[_0x1e797b(0xdc)](_0xb174d6[_0x1e797b(0xad)],_0xb174d6[_0x1e797b(0x10e)])?_0x3365cf['exit'](0x1):(_0x36cb4c=_0x1e797b(0x113)+_0x71500a+':\x20'+_0x71500a[_0x1e797b(0x124)],logger[_0x1e797b(0x12a)](_0x36cb4c),await _0xb174d6[_0x1e797b(0xef)](reportToGalactusAndSendToEDS,_0x16713e,_0x12a154,_0x36cb4c,messageTypes['ERROR'],_0xb174d6[_0x1e797b(0x177)],_0xb174d6['XqGOV'],_0xb174d6[_0x1e797b(0x132)]),process[_0x1e797b(0x168)](0x1));}}function a17_0x15dd(_0xe6d64d,_0xf7697c){const _0x26de5c=a17_0x26de();return a17_0x15dd=function(_0x15dd6e,_0x5a61ad){_0x15dd6e=_0x15dd6e-0x92;let _0x1cbf74=_0x26de5c[_0x15dd6e];return _0x1cbf74;},a17_0x15dd(_0xe6d64d,_0xf7697c);}function printResponse(_0x260513,_0x5a3355){const _0x3594a2=a17_0x416d51,_0x5a824e={};_0x5a824e[_0x3594a2(0x171)]=_0x3594a2(0xae),_0x5a824e[_0x3594a2(0x152)]=function(_0x3911ea,_0x6ef7a2){return _0x3911ea!==_0x6ef7a2;},_0x5a824e[_0x3594a2(0x10b)]='fvlJZ',_0x5a824e['HNuFt']=_0x3594a2(0xbd);const _0x1f141c=_0x5a824e;logger[_0x3594a2(0x145)]('['+_0x260513+']\x20status\x20:\x20'+_0x5a3355[_0x3594a2(0x114)]+_0x3594a2(0x12d)+_0x5a3355['data']+_0x3594a2(0x189)+_0x5a3355[_0x3594a2(0x12a)]),_0x5a3355[_0x3594a2(0x12a)]&&(_0x1f141c['nZQFe'](_0x1f141c[_0x3594a2(0x10b)],_0x1f141c[_0x3594a2(0xe7)])?logger[_0x3594a2(0x12a)](_0x3594a2(0x96)+_0x5a3355[_0x3594a2(0x12a)][_0x3594a2(0x124)]):_0x2eaccb['push'](_0x1f141c[_0x3594a2(0x171)]));}async function generateReport(_0x209e3d,_0x3eebbf){const _0x4bbfae=a17_0x416d51,_0x3f9390={'FLVII':function(_0x284cb8,_0x2946e5){return _0x284cb8+_0x2946e5;},'IIsZb':'Success','DrOqV':_0x4bbfae(0x95),'aXdpA':function(_0x37b899,_0x21ed1e){return _0x37b899||_0x21ed1e;},'maAuK':'N/A','vYGab':'Error\x20Details:\x0a','uSbwm':'Cluster\x20details\x0a-----------------------\x0a','xUYEi':function(_0x5ded2e,_0x17113b){return _0x5ded2e!=_0x17113b;},'YlLbl':_0x4bbfae(0x13e),'xkRvW':'will\x20be\x20created','LPgNW':function(_0xc3d06f){return _0xc3d06f();}};let _0x4752c2=_0x4bbfae(0xd3)+global_registry[_0x4bbfae(0xe9)]+_0x4bbfae(0x109);return _0x209e3d[_0x4bbfae(0x143)]((_0x108101,_0x573c98)=>{const _0x5882f6=_0x4bbfae,{header:_0x18aba8,response:_0x3d1999}=_0x108101,{status:_0x5861a8,data:_0x3a448f,error:_0x42372d}=_0x3d1999;_0x4752c2+=_0x18aba8+'\x20#'+_0x3f9390['FLVII'](_0x573c98,0x1)+'\x0a',_0x4752c2+='Status:\x20'+(_0x5861a8?_0x3f9390['IIsZb']:_0x3f9390[_0x5882f6(0x98)])+'\x0a',_0x4752c2+=_0x5882f6(0x93)+_0x3f9390[_0x5882f6(0xb4)](_0x3a448f,_0x3f9390[_0x5882f6(0x108)])+'\x0a',_0x42372d&&(_0x4752c2+=_0x3f9390[_0x5882f6(0x15b)],_0x4752c2+=_0x5882f6(0x165)+(_0x42372d[_0x5882f6(0x11d)]||_0x3f9390['maAuK'])+'\x0a',_0x4752c2+=_0x5882f6(0x174)+(_0x42372d['code']||_0x3f9390['maAuK'])+'\x0a',_0x4752c2+='\x20\x20Stack:\x20'+(_0x42372d[_0x5882f6(0x124)]||_0x3f9390['maAuK'])+'\x0a'),_0x4752c2+='\x0a\x0a';}),_0x4752c2+=_0x3f9390['uSbwm'],_0x3f9390[_0x4bbfae(0x13b)](_0x3eebbf,null)?_0x4752c2+=_0x4bbfae(0xca)+global_registry[_0x4bbfae(0x157)]+'\x20'+(_0x3eebbf?_0x3f9390[_0x4bbfae(0x169)]:_0x3f9390[_0x4bbfae(0x134)])+'\x0a\x0a':_0x4752c2+=_0x4bbfae(0xca)+global_registry['clusterName']+_0x4bbfae(0x9f),_0x4752c2+=_0x3f9390[_0x4bbfae(0x148)](getSystemMetaData),_0x4752c2;};exports[a17_0x416d51(0xc1)]=async function(_0x49f994){const _0x4eef88=a17_0x416d51,_0x5c30be={'BtvXN':function(_0xfd9d0){return _0xfd9d0();},'UlPgi':_0x4eef88(0xa5),'EztOO':function(_0x1d085f,_0x1d9348,_0x32f21b,_0x15ed09,_0x20be76,_0x2e2a32,_0x518baf,_0x2b0e5c){return _0x1d085f(_0x1d9348,_0x32f21b,_0x15ed09,_0x20be76,_0x2e2a32,_0x518baf,_0x2b0e5c);},'XoOwg':_0x4eef88(0x119),'zOAqq':_0x4eef88(0xd8),'fHRhV':_0x4eef88(0x12a),'Vqulo':function(_0x180e3e,_0xc97032,_0x2de5f6,_0x47bada,_0x303109,_0x136ef6,_0x50f6fa){return _0x180e3e(_0xc97032,_0x2de5f6,_0x47bada,_0x303109,_0x136ef6,_0x50f6fa);},'RRyvN':_0x4eef88(0x102),'GxJmM':_0x4eef88(0xba),'kaDbJ':function(_0x13ed6f,_0x43ac26,_0x1802a4){return _0x13ed6f(_0x43ac26,_0x1802a4);},'qPrMf':function(_0x3af3d9,_0x4940ff,_0x109288){return _0x3af3d9(_0x4940ff,_0x109288);},'dQDjx':function(_0xd05457,_0x5adb39,_0x5963f4,_0x4df1a7,_0x4fb7dd,_0x488f5e,_0xfdaf78){return _0xd05457(_0x5adb39,_0x5963f4,_0x4df1a7,_0x4fb7dd,_0x488f5e,_0xfdaf78);},'eFqSS':_0x4eef88(0x122),'LbJcj':'toolInstalledResp','lAUbl':'0|3|4|1|2','qCrWD':function(_0x266478,_0x6c3f19,_0x5371b4){return _0x266478(_0x6c3f19,_0x5371b4);},'HYADc':_0x4eef88(0x15f),'aSWuK':_0x4eef88(0xf7),'XqbrO':function(_0x1b7865,_0x310a14){return _0x1b7865(_0x310a14);},'rRJrN':_0x4eef88(0xe3),'yAaUl':_0x4eef88(0x135),'aqiyW':_0x4eef88(0x162),'YPBLV':'User\x20Access','ntjuK':_0x4eef88(0x16d),'mKqRx':_0x4eef88(0xfd),'Jtcwq':function(_0x422778,_0x36539d){return _0x422778+_0x36539d;},'YuLkU':_0x4eef88(0xd4),'zdOMx':function(_0x33f274,_0x162d23,_0x3286d1,_0x1c5969,_0x18895e,_0x4b2b9a,_0x3b2a3d){return _0x33f274(_0x162d23,_0x3286d1,_0x1c5969,_0x18895e,_0x4b2b9a,_0x3b2a3d);},'yyjyq':_0x4eef88(0x13c)};let _0x57071e,_0x42f679;try{global_registry[_0x4eef88(0x182)]=_0x5c30be['BtvXN'](uuidv4);!fs['existsSync'](_0x5c30be[_0x4eef88(0x15a)](getCredentialsPath))&&(_0x42f679=_0x5c30be[_0x4eef88(0x17a)],logger['error'](_0x42f679),await _0x5c30be[_0x4eef88(0x105)](reportToGalactusAndSendToEDS,_0x49f994,_0x57071e,_0x42f679,messageTypes['ERROR'],_0x5c30be['XoOwg'],_0x5c30be[_0x4eef88(0x99)],_0x5c30be['fHRhV']),process[_0x4eef88(0x168)](0x1));_0x5c30be['Vqulo'](sendInstrumentationEvent,_0x49f994,_0x5c30be[_0x4eef88(0x111)],messageTypes[_0x4eef88(0xe5)],null,null,_0x49f994);const _0x2d6a4c=JSON['parse'](fs[_0x4eef88(0xc3)](_0x5c30be[_0x4eef88(0x15a)](getCredentialsPath)));global_registry['bstackUsername']=_0x2d6a4c[_0x4eef88(0x153)][_0x4eef88(0xcc)],global_registry[_0x4eef88(0x151)]=_0x2d6a4c[_0x4eef88(0x153)]['password'];const _0x38d668=WS_ENDPOINT['replace'](_0x5c30be[_0x4eef88(0x16e)],_0x2d6a4c[_0x4eef88(0x153)][_0x4eef88(0xcc)])[_0x4eef88(0x125)](_0x5c30be['GxJmM'],_0x2d6a4c[_0x4eef88(0x153)][_0x4eef88(0x15c)]),_0x51158f={};_0x51158f[_0x4eef88(0x155)]=ws,_0x51158f[_0x4eef88(0x161)]=0x36ee80,_0x57071e=new ReconnectingWebSocket(_0x38d668,[],_0x51158f),global_registry[_0x4eef88(0xe1)]=_0x5c30be[_0x4eef88(0x14c)](getAuthHeader,global_registry['bstackUsername'],global_registry[_0x4eef88(0x151)]),await _0x5c30be[_0x4eef88(0x100)](inputValidation,_0x49f994,_0x57071e),logger[_0x4eef88(0x145)](_0x4eef88(0x112)+global_registry[_0x4eef88(0xe9)]+'\x20region\x20-\x20'+global_registry['clusterRegion']);let _0x1042cf=await _0x5c30be[_0x4eef88(0xd1)](getCloudProviderObjectWithOutInit,global_registry[_0x4eef88(0xe9)],global_registry[_0x4eef88(0x157)],_0x5c30be['eFqSS'],_0x57071e,webSocketUtils,_0x49f994);const _0x40eb6c=await _0x1042cf[_0x4eef88(0x9a)]();_0x5c30be[_0x4eef88(0x14c)](printResponse,_0x5c30be[_0x4eef88(0xe6)],_0x40eb6c),_0x1042cf=await _0x1042cf[_0x4eef88(0x11e)]();let _0x4b0c54=![];try{_0x4b0c54=await _0x1042cf['isClusterPresent']();}catch(_0x2afbf2){const _0x1b23b1=_0x5c30be[_0x4eef88(0xf6)][_0x4eef88(0x130)]('|');let _0x398540=0x0;while(!![]){switch(_0x1b23b1[_0x398540++]){case'0':_0x42f679='unable\x20to\x20verify\x20if\x20cluster\x20`'+global_registry[_0x4eef88(0x157)]+'`\x20is\x20present\x20in\x20region\x20`'+global_registry['clusterRegion']+_0x4eef88(0xb8)+_0x2afbf2;continue;case'1':_0x42f679+='\x0a'+JSON['stringify'](_0x2afbf2[_0x4eef88(0x124)]);continue;case'2':await _0x5c30be[_0x4eef88(0x105)](reportToGalactusAndSendToEDS,_0x49f994,_0x57071e,_0x42f679,messageTypes[_0x4eef88(0xc8)],_0x5c30be[_0x4eef88(0x111)],'cluster-check-failed-'+global_registry['cloudProvider'],_0x5c30be[_0x4eef88(0x18e)]);continue;case'3':_0x4b0c54=null;continue;case'4':logger[_0x4eef88(0x12a)](_0x42f679);continue;}break;}}_0x4b0c54&&logger[_0x4eef88(0x145)](_0x4eef88(0xd7)+global_registry['clusterName']+_0x4eef88(0x183));const _0x2a80ef=await _0x1042cf[_0x4eef88(0x14a)]();_0x5c30be[_0x4eef88(0x178)](printResponse,_0x5c30be[_0x4eef88(0x170)],_0x2a80ef);const _0x109812=await _0x5c30be[_0x4eef88(0x15a)](curlRequest);_0x5c30be[_0x4eef88(0x178)](printResponse,_0x5c30be[_0x4eef88(0x187)],_0x109812);const _0x25498f=await _0x5c30be[_0x4eef88(0xd9)](isTlsSupported,_0x5c30be[_0x4eef88(0x15e)]);_0x5c30be[_0x4eef88(0x100)](printResponse,_0x5c30be[_0x4eef88(0xac)],_0x25498f);const _0x8eaa00={};_0x8eaa00[_0x4eef88(0x133)]=_0x5c30be['aqiyW'],_0x8eaa00['response']=_0x40eb6c;const _0x2ce098={};_0x2ce098[_0x4eef88(0x133)]=_0x5c30be[_0x4eef88(0x14d)],_0x2ce098[_0x4eef88(0xec)]=_0x2a80ef;const _0x3c0106={};_0x3c0106[_0x4eef88(0x133)]=_0x5c30be[_0x4eef88(0x173)],_0x3c0106['response']=_0x109812;const _0x29c8e7={};_0x29c8e7[_0x4eef88(0x133)]=_0x5c30be[_0x4eef88(0x101)],_0x29c8e7[_0x4eef88(0xec)]=_0x25498f;const _0x3cfe7e=[_0x8eaa00,_0x2ce098,_0x3c0106,_0x29c8e7],_0x1b077b=await _0x5c30be[_0x4eef88(0x100)](generateReport,_0x3cfe7e,_0x4b0c54),_0x4e9a8f=new Date(),_0x3e6407=_0x4e9a8f[_0x4eef88(0x127)]()+'_'+_0x5c30be[_0x4eef88(0x140)](_0x4e9a8f[_0x4eef88(0x131)](),0x1)+'_'+_0x4e9a8f[_0x4eef88(0x172)]()+'_'+_0x4e9a8f['getUTCHours']()+'_'+_0x4e9a8f[_0x4eef88(0xd2)](),_0x51a3cf=_0x4eef88(0x147)+_0x3e6407+_0x4eef88(0x167);fs[_0x4eef88(0x15d)](_0x51a3cf,_0x1b077b,_0x5c30be['YuLkU']),logger[_0x4eef88(0x145)](_0x4eef88(0x17d)+_0x51a3cf),process[_0x4eef88(0x168)](0x0);}catch(_0x1e6f40){let _0x2a474a=_0x4eef88(0x16b)+_0x1e6f40+'\x20';logger[_0x4eef88(0x12a)](_0x2a474a),_0x2a474a+='\x0a'+JSON[_0x4eef88(0x138)](_0x1e6f40['stack']),logger[_0x4eef88(0x154)](_0x4eef88(0x17e)+_0x1e6f40[_0x4eef88(0x124)]);if(_0x57071e){const _0x20f3c5={};_0x20f3c5[_0x4eef88(0x156)]=WS_EVENTS[_0x4eef88(0x9e)],_0x20f3c5[_0x4eef88(0x11d)]=_0x2a474a,webSocketUtils[_0x4eef88(0xbb)](_0x57071e,_0x20f3c5,_0x5c30be['fHRhV'],!![]);}await webSocketUtils[_0x4eef88(0x92)](0x7d0);const _0x2b95a6={};_0x2b95a6[_0x4eef88(0x12a)]=_0x2a474a,await _0x5c30be[_0x4eef88(0x121)](sendInstrumentationEvent,_0x49f994,_0x5c30be['XoOwg'],messageTypes[_0x4eef88(0xc8)],_0x5c30be['yyjyq'],_0x2b95a6,_0x49f994),process[_0x4eef88(0x168)](0x1);}};