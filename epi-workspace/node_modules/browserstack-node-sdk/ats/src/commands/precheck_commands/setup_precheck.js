const a17_0x253213=a17_0xf882;(function(_0x5069aa,_0x577e7b){const _0x22400e=a17_0xf882,_0x444b3a=_0x5069aa();while(!![]){try{const _0x1c6cc2=-parseInt(_0x22400e(0x105))/0x1+parseInt(_0x22400e(0xe2))/0x2*(-parseInt(_0x22400e(0xca))/0x3)+parseInt(_0x22400e(0x95))/0x4*(-parseInt(_0x22400e(0xe0))/0x5)+-parseInt(_0x22400e(0x12a))/0x6+parseInt(_0x22400e(0xfb))/0x7+parseInt(_0x22400e(0xd5))/0x8+parseInt(_0x22400e(0xa8))/0x9;if(_0x1c6cc2===_0x577e7b)break;else _0x444b3a['push'](_0x444b3a['shift']());}catch(_0x4d9cc0){_0x444b3a['push'](_0x444b3a['shift']());}}}(a17_0x4b71,0x43f48));const fs=require('fs'),ws=require('ws'),got=require(a17_0x253213(0x136)),{v4:uuidv4}=require(a17_0x253213(0xad)),ReconnectingWebSocket=require(a17_0x253213(0xe3)),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require(a17_0x253213(0xfd)),{logger}=require('../../config/logger'),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require(a17_0x253213(0x15c)),{getCloudProviderObjectWithOutInit}=require(a17_0x253213(0x111)),webSocketUtils=require(a17_0x253213(0xb4)),{sendInstrumentationEvent}=require(a17_0x253213(0x89));exports[a17_0x253213(0xeb)]='grid',exports[a17_0x253213(0x146)]='Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup',exports['builder']=function(_0x36386a){const _0x1e3055=a17_0x253213,_0x4e8ffd={};_0x4e8ffd[_0x1e3055(0x129)]='Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.',_0x4e8ffd[_0x1e3055(0xd7)]=_0x1e3055(0x123),_0x4e8ffd[_0x1e3055(0x103)]='Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.',_0x4e8ffd[_0x1e3055(0x120)]=_0x1e3055(0x124),_0x4e8ffd[_0x1e3055(0x128)]=_0x1e3055(0xf7),_0x4e8ffd['qvMjC']=_0x1e3055(0x12e);const _0x2b1da2=_0x4e8ffd,_0x5cb4b1={};_0x5cb4b1[_0x1e3055(0x83)]=_0x2b1da2[_0x1e3055(0x129)],_0x5cb4b1[_0x1e3055(0xfa)]=_0x2b1da2[_0x1e3055(0xd7)];const _0x5e07be={};_0x5e07be[_0x1e3055(0x83)]=_0x2b1da2[_0x1e3055(0x103)],_0x5e07be[_0x1e3055(0xfa)]=_0x2b1da2[_0x1e3055(0xd7)];const _0x4d2f4b={};_0x4d2f4b['description']=_0x2b1da2['bdEPV'],_0x4d2f4b[_0x1e3055(0xfa)]=_0x2b1da2[_0x1e3055(0xd7)];const _0x55dc97={};_0x55dc97[_0x1e3055(0x83)]=_0x2b1da2[_0x1e3055(0x128)],_0x55dc97[_0x1e3055(0xfa)]=_0x2b1da2[_0x1e3055(0xd7)];const _0x524665={};return _0x524665[_0x1e3055(0xbb)]=_0x5cb4b1,_0x524665[_0x1e3055(0xf0)]=_0x5e07be,_0x524665[_0x1e3055(0x9a)]=_0x4d2f4b,_0x524665[_0x1e3055(0x140)]=_0x55dc97,_0x36386a[_0x1e3055(0x16c)](HELP_HEADER_MESSAGE[_0x1e3055(0x13a)])[_0x1e3055(0xa3)](HELP_FOOTER_MESSAGE)[_0x1e3055(0x119)](_0x524665)[_0x1e3055(0x12e)](_0x2b1da2[_0x1e3055(0x113)])[_0x1e3055(0xe7)];};async function inputValidation(_0x8bf9cd,_0x5e29f5){const _0x162dea=a17_0x253213,_0x4e76a1={'OcWGH':_0x162dea(0xbb),'pBLfd':_0x162dea(0x10c),'Prkvh':_0x162dea(0xe9),'jwDnK':_0x162dea(0xd2),'VTxFN':_0x162dea(0xea),'iYlgc':_0x162dea(0x14d),'XEqfH':_0x162dea(0x167),'nawMu':_0x162dea(0x123),'AkPeG':_0x162dea(0x107),'dLeIL':_0x162dea(0x124),'pyFnk':_0x162dea(0xf7),'GmOfy':_0x162dea(0x12e),'hKNgo':_0x162dea(0xf0),'GvyBY':_0x162dea(0x13f),'hdEcv':_0x162dea(0x9a),'HbGzR':function(_0x1bcf26,_0x216853){return _0x1bcf26!==_0x216853;},'EXmqY':'mlEYc','sixZp':'YODUB','qoTvE':_0x162dea(0xde),'yPbKs':function(_0x388660,_0x10e8f3){return _0x388660===_0x10e8f3;},'KHtfa':_0x162dea(0xb7),'sHAZl':_0x162dea(0x9c),'hBpus':_0x162dea(0x15a),'ctuVX':_0x162dea(0x99),'MFLRJ':function(_0x4164ac,_0x579813){return _0x4164ac>_0x579813;},'lYKhF':function(_0x4907de,_0x46f52d){return _0x4907de!==_0x46f52d;},'efDlg':'GrclX','GmhlF':function(_0x1d0b36,_0x236f6b,_0x2d3b5d,_0x44ea39,_0x28d7f0,_0x40ea15,_0x24692c,_0x2aa92a){return _0x1d0b36(_0x236f6b,_0x2d3b5d,_0x44ea39,_0x28d7f0,_0x40ea15,_0x24692c,_0x2aa92a);},'ECGwn':_0x162dea(0xd0),'QgrJA':'pre-check-cluster-args-not-passed','Grzmb':function(_0x21c970,_0x1fa0a0){return _0x21c970===_0x1fa0a0;},'vZnVT':_0x162dea(0x134),'ItluF':_0x162dea(0x85),'ruxCc':_0x162dea(0x156),'bOesD':function(_0x558943,_0x19b0e9){return _0x558943!==_0x19b0e9;},'xRszZ':_0x162dea(0xdf),'swFfC':_0x162dea(0xed),'zIblT':_0x162dea(0x15d),'fYoHH':function(_0x424b1e,_0x321d63,_0x598faf){return _0x424b1e(_0x321d63,_0x598faf);},'jgnvi':function(_0x2a6091,_0x13d5f8,_0x4e289b,_0xa0ca6b,_0x42b40c,_0x423636){return _0x2a6091(_0x13d5f8,_0x4e289b,_0xa0ca6b,_0x42b40c,_0x423636);},'tVTRV':_0x162dea(0xd6),'gqZjx':_0x162dea(0x140),'YXaVC':_0x162dea(0xfc),'nWnom':_0x162dea(0x11c),'bFAAJ':function(_0x5a1ed1,_0x26f290){return _0x5a1ed1(_0x26f290);},'hilmN':function(_0x1d50ef,_0x45455f){return _0x1d50ef!==_0x45455f;},'rTGxt':_0x162dea(0xe4),'HFvKL':function(_0x295d80,_0x50968b,_0x585bd8,_0x2d4922,_0x10645a,_0x36cddd,_0x2e73bd,_0x22ee5b){return _0x295d80(_0x50968b,_0x585bd8,_0x2d4922,_0x10645a,_0x36cddd,_0x2e73bd,_0x22ee5b);},'VNiXQ':_0x162dea(0xe8),'rnSZn':'zPmQO','gJEdl':function(_0x3ed75f,_0x12e1f3){return _0x3ed75f===_0x12e1f3;},'IFczs':_0x162dea(0xbd),'NTluw':_0x162dea(0xd9),'dhBag':function(_0x4b44b2,_0x32d88c){return _0x4b44b2!==_0x32d88c;},'iHpks':_0x162dea(0x131),'VDmIj':_0x162dea(0xef)};let _0x47523a;try{if(_0x4e76a1[_0x162dea(0x145)](_0x4e76a1[_0x162dea(0xac)],_0x4e76a1[_0x162dea(0xac)]))_0x449ddf[_0x162dea(0x163)](_0x4e76a1[_0x162dea(0x144)]);else{if(_0x8bf9cd[_0x162dea(0xf4)]||_0x8bf9cd['cloudProvider']||_0x8bf9cd[_0x162dea(0x9a)]){if(_0x4e76a1[_0x162dea(0x145)](_0x4e76a1['sixZp'],_0x4e76a1['sixZp']))_0x479561[_0x162dea(0x7d)](_0x162dea(0xbc)+_0x1bce1a[_0x162dea(0xf4)]+_0x162dea(0x8a));else{const _0x1b23a8=[];!_0x8bf9cd['clusterName']&&(_0x4e76a1[_0x162dea(0x145)](_0x4e76a1[_0x162dea(0xc7)],_0x4e76a1[_0x162dea(0xc7)])?(_0x9189d+=_0x4e76a1['pBLfd'],_0x24cec1+='\x20\x20Message:\x20'+(_0x50722c[_0x162dea(0x12d)]||_0x4e76a1[_0x162dea(0x150)])+'\x0a',_0x4e7377+=_0x162dea(0x130)+(_0x6ef337[_0x162dea(0x78)]||_0x4e76a1['Prkvh'])+'\x0a',_0x206875+=_0x162dea(0x110)+(_0x2ca063[_0x162dea(0xcb)]||_0x4e76a1[_0x162dea(0x150)])+'\x0a'):_0x1b23a8[_0x162dea(0x163)](_0x4e76a1[_0x162dea(0x144)]));;!_0x8bf9cd[_0x162dea(0xe5)]&&(_0x4e76a1[_0x162dea(0x9d)](_0x4e76a1[_0x162dea(0x114)],_0x4e76a1[_0x162dea(0x10d)])?_0x5e4e5f+=_0x162dea(0x86)+_0x8f944d['clusterName']+'\x20details\x20cannot\x20be\x20fetched\x0a\x0a':_0x1b23a8[_0x162dea(0x163)](_0x4e76a1[_0x162dea(0x16a)]));;!_0x8bf9cd[_0x162dea(0x9a)]&&(_0x4e76a1[_0x162dea(0x9d)](_0x4e76a1[_0x162dea(0x11b)],_0x4e76a1[_0x162dea(0x97)])?_0x58b03c[_0x162dea(0x14c)](0x1):_0x1b23a8[_0x162dea(0x163)](_0x4e76a1[_0x162dea(0x162)]));;_0x4e76a1[_0x162dea(0xaf)](_0x1b23a8[_0x162dea(0xf5)],0x0)&&(_0x4e76a1['lYKhF'](_0x4e76a1['efDlg'],_0x4e76a1[_0x162dea(0xc8)])?(_0x5c73ee['error'](_0x4e76a1[_0x162dea(0xc1)]),_0x192dec[_0x162dea(0x14c)](0x1)):(_0x47523a=_0x162dea(0xa5)+_0x1b23a8[_0x162dea(0x14b)](',\x20')+_0x162dea(0x9e),await _0x4e76a1[_0x162dea(0xec)](reportToGalactusAndSendToEDS,_0x8bf9cd,_0x5e29f5,_0x47523a,messageTypes[_0x162dea(0xba)],_0x4e76a1[_0x162dea(0x108)],_0x4e76a1[_0x162dea(0xce)],_0x4e76a1[_0x162dea(0xd4)]),logger[_0x162dea(0x13f)](_0x47523a),process[_0x162dea(0x14c)](0x1)));if(!ALL_SUPPORTED_CLOUD_PROVIDERS[_0x162dea(0x77)](_0x8bf9cd['cloudProvider'][_0x162dea(0x76)]())){if(_0x4e76a1[_0x162dea(0xb0)](_0x4e76a1['vZnVT'],_0x4e76a1[_0x162dea(0xa6)]))_0x47523a=_0x4e76a1[_0x162dea(0x149)],await _0x4e76a1[_0x162dea(0xec)](reportToGalactusAndSendToEDS,_0x8bf9cd,_0x5e29f5,_0x47523a,messageTypes[_0x162dea(0xba)],_0x4e76a1[_0x162dea(0x108)],_0x4e76a1['ruxCc'],_0x4e76a1[_0x162dea(0xd4)]),logger[_0x162dea(0x13f)](_0x47523a),!_0x8bf9cd[_0x162dea(0xe5)]&&(_0x4e76a1[_0x162dea(0x168)](_0x4e76a1[_0x162dea(0x126)],_0x4e76a1[_0x162dea(0x126)])?_0x3bc24f+='Cluster\x20'+_0x380ad0['clusterName']+'\x20'+(_0x1da1f4?_0x4e76a1[_0x162dea(0xc5)]:_0x4e76a1['iYlgc'])+'\x0a\x0a':(logger[_0x162dea(0x7d)](_0x162dea(0x10a)+DEFAULT_CLUSTER_DETAILS[_0x162dea(0xa9)]+'\x20'),_0x8bf9cd[_0x162dea(0xe5)]=DEFAULT_CLUSTER_DETAILS[_0x162dea(0xa9)]));else{const _0x3d14a4={};_0x3d14a4[_0x162dea(0x83)]=_0x4e76a1[_0x162dea(0x8e)],_0x3d14a4['type']=_0x4e76a1['nawMu'];const _0x4cb14f={};_0x4cb14f[_0x162dea(0x83)]=_0x4e76a1[_0x162dea(0xcf)],_0x4cb14f[_0x162dea(0xfa)]=_0x4e76a1[_0x162dea(0x87)];const _0x203198={};_0x203198[_0x162dea(0x83)]=_0x4e76a1[_0x162dea(0x13d)],_0x203198[_0x162dea(0xfa)]=_0x4e76a1[_0x162dea(0x87)];const _0x5d30f5={};_0x5d30f5[_0x162dea(0x83)]=_0x4e76a1[_0x162dea(0x11e)],_0x5d30f5[_0x162dea(0xfa)]=_0x4e76a1['nawMu'];const _0x50121a={};return _0x50121a[_0x162dea(0xbb)]=_0x3d14a4,_0x50121a[_0x162dea(0xf0)]=_0x4cb14f,_0x50121a[_0x162dea(0x9a)]=_0x203198,_0x50121a['grid-profile']=_0x5d30f5,_0x25ceee['usage'](_0x17217f[_0x162dea(0x13a)])['epilogue'](_0x57d6a8)['options'](_0x50121a)[_0x162dea(0x12e)](_0x4e76a1[_0x162dea(0x118)])['argv'];}}global_registry['clusterName']=_0x8bf9cd['clusterName'],global_registry[_0x162dea(0xe5)]=_0x8bf9cd['cloudProvider'],global_registry[_0x162dea(0x9b)]=_0x8bf9cd['region'];}}else{if(_0x8bf9cd[_0x162dea(0xe6)]){if(_0x4e76a1[_0x162dea(0x9d)](_0x4e76a1[_0x162dea(0x11a)],_0x4e76a1[_0x162dea(0x11a)])){global_registry[_0x162dea(0xe6)]=_0x8bf9cd[_0x162dea(0xe6)],logger[_0x162dea(0x133)]('grid\x20profile\x20flow\x20'+_0x8bf9cd['gridProfile']);const _0x2c0e16=_0x162dea(0x155)+AG_API_URL+_0x162dea(0xbe),_0x5b85cb={};_0x5b85cb[_0x162dea(0xc3)]=_0x4e76a1[_0x162dea(0x127)],_0x5b85cb[_0x162dea(0x91)]=global_registry['authHeader'],_0x5b85cb[_0x162dea(0x13c)]=![];const _0x5a3023=_0x5b85cb,_0x20331d=await _0x4e76a1[_0x162dea(0xf8)](got,_0x2c0e16,_0x5a3023),_0x20c495=await _0x4e76a1[_0x162dea(0xf6)](responseValidation,_0x20331d,_0x4e76a1[_0x162dea(0xb8)],_0x4e76a1[_0x162dea(0xaa)],_0x8bf9cd,_0x5e29f5);let _0xb22a63={};if(_0x4e76a1[_0x162dea(0xb0)](_0x20c495,0xc8)){if(_0x4e76a1[_0x162dea(0xb0)](_0x4e76a1[_0x162dea(0xa4)],_0x4e76a1['nWnom']))_0x39e6a1[_0x162dea(0x163)](_0x4e76a1[_0x162dea(0x16a)]);else{const _0x52d28f=JSON[_0x162dea(0x138)](_0x20331d[_0x162dea(0x154)]),_0xaa6372=_0x52d28f['find'](_0x3789f4=>_0x3789f4[_0x162dea(0x116)]===_0x8bf9cd[_0x162dea(0xe6)])||null;_0x4e76a1['bFAAJ'](isUndefined,_0xaa6372)?_0x4e76a1[_0x162dea(0x139)](_0x4e76a1[_0x162dea(0x84)],_0x4e76a1[_0x162dea(0x84)])?(_0x5ef7e2[_0x162dea(0x7d)]('['+_0x2714db+']\x20status\x20:\x20'+_0x5b7367[_0x162dea(0x93)]+'\x20data\x20:\x20'+_0x29f73a[_0x162dea(0x82)]+'\x20error\x20:\x20'+_0x38e8b9[_0x162dea(0x13f)]),_0x5cdb3e[_0x162dea(0x13f)]&&_0x4c04ec['error'](_0x162dea(0x15f)+_0x406d70[_0x162dea(0x13f)]['stack'])):(_0x47523a=_0x162dea(0x102)+_0x8bf9cd[_0x162dea(0xe6)]+_0x162dea(0xc9),await _0x4e76a1['HFvKL'](reportToGalactusAndSendToEDS,_0x8bf9cd,_0x5e29f5,_0x47523a,messageTypes['ERROR'],_0x4e76a1['ECGwn'],_0x4e76a1[_0x162dea(0xb9)],_0x4e76a1[_0x162dea(0xd4)]),logger[_0x162dea(0x13f)](_0x47523a),process[_0x162dea(0x14c)](0x1)):_0x4e76a1[_0x162dea(0x148)](_0x4e76a1[_0x162dea(0x165)],_0x4e76a1[_0x162dea(0x165)])?_0x2f46dd=_0x2769be:_0xb22a63=_0xaa6372;}}else{if(_0x4e76a1[_0x162dea(0x90)](_0x4e76a1[_0x162dea(0xdb)],_0x4e76a1[_0x162dea(0xdb)]))process[_0x162dea(0x14c)](0x1);else{const _0x29d6c5={};_0x29d6c5['type']=_0x125f3b['LOG'],_0x29d6c5[_0x162dea(0x12d)]=_0x507cfa,_0x3d269d[_0x162dea(0x7e)](_0x198285,_0x29d6c5,_0x4e76a1[_0x162dea(0xd4)],!![]);}}const _0x254be4={};_0x254be4['type']=WS_EVENTS['LOG'],_0x254be4[_0x162dea(0x12d)]=_0x4e76a1['NTluw'],webSocketUtils['sendEventToBackend'](_0x5e29f5,_0x254be4),global_registry['cloudProvider']=_0xb22a63['cloudProvider'],global_registry[_0x162dea(0x9b)]=_0xb22a63['region'],global_registry[_0x162dea(0xf4)]=_0xb22a63['clusterName'];}else _0x51529d['error'](_0x162dea(0x15f)+_0x36f4e0[_0x162dea(0x13f)][_0x162dea(0xcb)]);}else _0x4e76a1['dhBag'](_0x4e76a1['iHpks'],_0x4e76a1[_0x162dea(0x169)])?(_0x5f454d[_0x162dea(0x7d)](_0x162dea(0x10a)+_0x135b18[_0x162dea(0xa9)]+'\x20'),_0x57a4a5[_0x162dea(0xe5)]=_0x2c62b7[_0x162dea(0xa9)]):(logger[_0x162dea(0x13f)](_0x4e76a1[_0x162dea(0xc1)]),process[_0x162dea(0x14c)](0x1));}}}catch(_0x2583cd){_0x4e76a1[_0x162dea(0x168)](_0x4e76a1['VDmIj'],_0x4e76a1[_0x162dea(0x158)])?_0x290cb2[_0x162dea(0x163)](_0x4e76a1['hdEcv']):(_0x47523a='Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20'+_0x2583cd+':\x20'+_0x2583cd[_0x162dea(0xcb)],logger[_0x162dea(0x13f)](_0x47523a),await _0x4e76a1[_0x162dea(0xec)](reportToGalactusAndSendToEDS,_0x8bf9cd,_0x5e29f5,_0x47523a,messageTypes[_0x162dea(0xba)],_0x4e76a1[_0x162dea(0x108)],_0x4e76a1[_0x162dea(0x132)],_0x4e76a1[_0x162dea(0xd4)]),process[_0x162dea(0x14c)](0x1));}}function printResponse(_0x449760,_0x30c3c3){const _0x56e89b=a17_0x253213,_0x1f36a8={};_0x1f36a8[_0x56e89b(0x15e)]=function(_0x26a7fb,_0x464dec){return _0x26a7fb+_0x464dec;},_0x1f36a8[_0x56e89b(0x143)]=_0x56e89b(0x15b),_0x1f36a8[_0x56e89b(0x12c)]='Failure',_0x1f36a8['DQrXe']=function(_0xfb5a62,_0x564538){return _0xfb5a62||_0x564538;},_0x1f36a8['vtwUJ']=_0x56e89b(0xe9),_0x1f36a8[_0x56e89b(0x121)]=_0x56e89b(0x10c),_0x1f36a8['eyUuR']=function(_0xa70442,_0x32c79e){return _0xa70442===_0x32c79e;},_0x1f36a8[_0x56e89b(0x104)]=_0x56e89b(0x135),_0x1f36a8[_0x56e89b(0xb1)]=_0x56e89b(0x142);const _0x25fd42=_0x1f36a8;logger[_0x56e89b(0x7d)]('['+_0x449760+']\x20status\x20:\x20'+_0x30c3c3[_0x56e89b(0x93)]+_0x56e89b(0x79)+_0x30c3c3[_0x56e89b(0x82)]+'\x20error\x20:\x20'+_0x30c3c3[_0x56e89b(0x13f)]);if(_0x30c3c3[_0x56e89b(0x13f)]){if(_0x25fd42[_0x56e89b(0xa7)](_0x25fd42[_0x56e89b(0x104)],_0x25fd42['aQfpO'])){const {header:_0x7d59c7,response:_0x369090}=_0x4465aa,{status:_0x52c767,data:_0x318f08,error:_0x4e9066}=_0x369090;_0x4009b8+=_0x7d59c7+'\x20#'+_0x25fd42[_0x56e89b(0x15e)](_0x217964,0x1)+'\x0a',_0x59ced0+=_0x56e89b(0xff)+(_0x52c767?_0x25fd42[_0x56e89b(0x143)]:_0x25fd42[_0x56e89b(0x12c)])+'\x0a',_0x73b7f2+=_0x56e89b(0xd3)+_0x25fd42[_0x56e89b(0x12b)](_0x318f08,_0x25fd42[_0x56e89b(0x11f)])+'\x0a',_0x4e9066&&(_0x39e666+=_0x25fd42[_0x56e89b(0x121)],_0x7fefe9+=_0x56e89b(0x8b)+(_0x4e9066[_0x56e89b(0x12d)]||_0x25fd42['vtwUJ'])+'\x0a',_0x160d08+=_0x56e89b(0x130)+(_0x4e9066[_0x56e89b(0x78)]||_0x25fd42[_0x56e89b(0x11f)])+'\x0a',_0x50d0f3+=_0x56e89b(0x110)+(_0x4e9066[_0x56e89b(0xcb)]||_0x25fd42[_0x56e89b(0x11f)])+'\x0a'),_0xcbbdde+='\x0a\x0a';}else logger[_0x56e89b(0x13f)](_0x56e89b(0x15f)+_0x30c3c3[_0x56e89b(0x13f)][_0x56e89b(0xcb)]);}}function a17_0xf882(_0x38ae4c,_0x1b70e0){const _0x4b715e=a17_0x4b71();return a17_0xf882=function(_0xf882f,_0x59dc97){_0xf882f=_0xf882f-0x76;let _0x2d4535=_0x4b715e[_0xf882f];return _0x2d4535;},a17_0xf882(_0x38ae4c,_0x1b70e0);}async function generateReport(_0x39959a,_0x2dc22b){const _0x46ecad=a17_0x253213,_0x59e58e={'dBZlE':function(_0x1373c0,_0x3b4579){return _0x1373c0+_0x3b4579;},'LoNWR':_0x46ecad(0x15b),'nqvcb':_0x46ecad(0x100),'Gqeyc':function(_0x435a64,_0x3a9c1a){return _0x435a64||_0x3a9c1a;},'TuIZQ':_0x46ecad(0xe9),'sXCks':_0x46ecad(0x10c),'JGzme':_0x46ecad(0x9f),'PmnWA':function(_0x36ac75,_0x34a6d6){return _0x36ac75!=_0x34a6d6;},'FxNll':_0x46ecad(0xea),'CZWRw':_0x46ecad(0x14d),'DQcgo':function(_0x46d75e){return _0x46d75e();}};let _0x3b2e26=_0x46ecad(0x160)+global_registry[_0x46ecad(0xe5)]+_0x46ecad(0x101);return _0x39959a[_0x46ecad(0xdc)]((_0x1eded7,_0x4fe88d)=>{const _0x1ee935=_0x46ecad,{header:_0x705b02,response:_0x64e52b}=_0x1eded7,{status:_0x330b63,data:_0x26f29c,error:_0x32e0ea}=_0x64e52b;_0x3b2e26+=_0x705b02+'\x20#'+_0x59e58e['dBZlE'](_0x4fe88d,0x1)+'\x0a',_0x3b2e26+=_0x1ee935(0xff)+(_0x330b63?_0x59e58e['LoNWR']:_0x59e58e[_0x1ee935(0x8f)])+'\x0a',_0x3b2e26+='Message:\x20'+_0x59e58e[_0x1ee935(0x88)](_0x26f29c,_0x59e58e[_0x1ee935(0xdd)])+'\x0a',_0x32e0ea&&(_0x3b2e26+=_0x59e58e['sXCks'],_0x3b2e26+=_0x1ee935(0x8b)+(_0x32e0ea['message']||_0x59e58e[_0x1ee935(0xdd)])+'\x0a',_0x3b2e26+=_0x1ee935(0x130)+(_0x32e0ea[_0x1ee935(0x78)]||_0x59e58e[_0x1ee935(0xdd)])+'\x0a',_0x3b2e26+=_0x1ee935(0x110)+(_0x32e0ea[_0x1ee935(0xcb)]||_0x59e58e[_0x1ee935(0xdd)])+'\x0a'),_0x3b2e26+='\x0a\x0a';}),_0x3b2e26+=_0x59e58e[_0x46ecad(0xb2)],_0x59e58e[_0x46ecad(0x16b)](_0x2dc22b,null)?_0x3b2e26+=_0x46ecad(0x86)+global_registry['clusterName']+'\x20'+(_0x2dc22b?_0x59e58e[_0x46ecad(0x161)]:_0x59e58e['CZWRw'])+'\x0a\x0a':_0x3b2e26+=_0x46ecad(0x86)+global_registry[_0x46ecad(0xf4)]+_0x46ecad(0x151),_0x3b2e26+=_0x59e58e['DQcgo'](getSystemMetaData),_0x3b2e26;};function a17_0x4b71(){const _0x58b361=['Cluster\x20','nawMu','Gqeyc','../../utils/instrumentationUtils','`\x20already\x20exists','\x20\x20Message:\x20','tWQHJ','TLSv1_2_client_method','XEqfH','nqvcb','gJEdl','headers','Miywu','status','DMDov','76BcOlma','password','ctuVX','getUTCFullYear','tfZQc','region','clusterRegion','XQcMY','yPbKs','.\x20Please\x20provide\x20all\x20required\x20arguments.','Cluster\x20details\x0a-----------------------\x0a','getUTCHours','getUTCMonth','SSL\x20Configured','epilogue','YXaVC','Missing\x20required\x20arguments:\x20','vZnVT','eyUuR','10485198LWlKdB','CLOUD_PROVIDER','gqZjx','kyjAT','EXmqY','uuid','Tool\x20Installed','MFLRJ','Grzmb','aQfpO','JGzme','yrqKm','../../utils/webSocketUtils','User\x20Access','unable\x20to\x20verify\x20if\x20cluster\x20`','kvcRZ','tVTRV','VNiXQ','ERROR','cluster-name','Cluster\x20`','yQiAy','/packages/cli/get-all-grid-profiles','bstackUsername','response','jwDnK','handler','method','Browserstack','VTxFN','xnolj','qoTvE','efDlg','.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again','4470gLLYUx','stack','.txt','rOCiI','QgrJA','AkPeG','pre-check-grid-called','Whitelisted\x20browserstack','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','Message:\x20','GvyBY','328200XMFZZT','pre-check','sdTBx','replace','Grid\x20profile\x20fetched\x20for\x20pre-check','EOger','IFczs','forEach','TuIZQ','ctmuM','LYuie','17475vorfrc','xKWBl','686meIpwt','reconnecting-websocket','eQBIf','cloudProvider','gridProfile','argv','pre-check-grid-profile-empty','N/A','is\x20already\x20present','command','GmhlF','KvGys','readFileSync','JcRRK','cloud-provider','writeFileSync','dqCvf','log/report_','clusterName','length','jgnvi','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','fYoHH','QqmRj','type','3550134CKXOzM','eIFUG','../../utils/utilityMethods','<UsernamePlaceholder>','Status:\x20','Failure','\x20===\x0a\x0a','Invalid\x20input.\x20grid\x20profiles:\x20','dvEmY','AEBhq','390993HViyAZ','WebSocket','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','ECGwn','GFSIX','Setting\x20cloud\x20provider\x20as\x20','HioOR','Error\x20Details:\x0a','sHAZl','pre-check-failed','header','\x20\x20Stack:\x20','../../cloudproviders/utils','pEfIr','qvMjC','KHtfa','ZSDcc','name','dRfDV','GmOfy','options','swFfC','hBpus','FtqYE','utf-8','pyFnk','vtwUJ','bdEPV','RYolw','stack\x20trace\x20','string','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','isTrialGridAccessible','xRszZ','zIblT','UgBrU','NkjlZ','2798382vRivwR','DQrXe','ZgINZ','message','help','bstackAccesskey','\x20\x20Code:\x20','bVxVy','ruxCc','debug','HiVnV','tkUup','got','cluster-check-failed-','parse','hilmN','pre_check','Pre-check\x20running\x20for\x20Cloud\x20-\x20','throwHttpErrors','dLeIL','init','error','grid-profile','getUTCMinutes','bVNLB','uYiVB','OcWGH','HbGzR','desc','\x20region\x20-\x20','lYKhF','ItluF','accessResp','join','exit','will\x20be\x20created','username','Jzmoj','Prkvh','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','authHeader','LOhzz','body','https://','cloud-provider-not-supported','INFO','VDmIj','Failed\x20in\x20pre-check!\x20Error:\x20','ygFpc','Success','../../config/constants','GET','kIinB','error\x20stack\x20:\x20','===\x20Precheck\x20Report\x20-\x20','FxNll','hdEcv','push','ekjSq','rnSZn','IHaQV','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','bOesD','iHpks','hKNgo','PmnWA','usage','existsSync','toLowerCase','includes','code','\x20data\x20:\x20','stringify','toolInstalledResp','checkAccess','info','sendEventToBackend','Report\x20saved\x20in\x20','LOG','OLVrd','data','description','rTGxt','Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.'];a17_0x4b71=function(){return _0x58b361;};return a17_0x4b71();}exports[a17_0x253213(0xc2)]=async function(_0xee4e72){const _0x405146=a17_0x253213,_0x49bde9={'YDZZK':function(_0x478781){return _0x478781();},'yrqKm':function(_0x3dccb3){return _0x3dccb3();},'hMfhI':'Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','dRfDV':function(_0x10d380,_0x1d398c,_0x4c560f,_0x34c86a,_0x39201c,_0x5e108e,_0x331c66,_0xa54ddc){return _0x10d380(_0x1d398c,_0x4c560f,_0x34c86a,_0x39201c,_0x5e108e,_0x331c66,_0xa54ddc);},'dqCvf':'pre-check-grid-called','xKWBl':'credential-not-found','ZSDcc':_0x405146(0x13f),'wmbzR':function(_0x4b5917,_0x19bd1e,_0x224213,_0x2197f3,_0x2017e3,_0x11e804,_0x1b907a){return _0x4b5917(_0x19bd1e,_0x224213,_0x2197f3,_0x2017e3,_0x11e804,_0x1b907a);},'HioOR':_0x405146(0xfe),'EOger':'<PasswordPlaceholder>','GFSIX':function(_0x653925,_0x55a57b,_0x12c4b3){return _0x653925(_0x55a57b,_0x12c4b3);},'xSfXF':'dummy-grid','UnXOP':function(_0x335875,_0x5827c4,_0x28aaa9){return _0x335875(_0x5827c4,_0x28aaa9);},'tWQHJ':_0x405146(0x7b),'rOCiI':'4|3|0|2|1','QqmRj':_0x405146(0x14a),'LOhzz':function(_0x2de873,_0x3e599b,_0x2373e2){return _0x2de873(_0x3e599b,_0x2373e2);},'kyjAT':_0x405146(0x125),'pEfIr':function(_0x3c4c4d,_0x315bce){return _0x3c4c4d(_0x315bce);},'CjeaZ':_0x405146(0x8d),'MSHpd':function(_0x4425b1,_0x5b22a5,_0xd7ec14){return _0x4425b1(_0x5b22a5,_0xd7ec14);},'ekjSq':'isTls1_2_SUPPORTED','evIGb':_0x405146(0xae),'Miywu':_0x405146(0xb5),'Jzmoj':_0x405146(0xd1),'DMDov':_0x405146(0xa2),'OLVrd':function(_0x158548,_0x34fe45,_0x3cec6d){return _0x158548(_0x34fe45,_0x3cec6d);},'QdeUr':function(_0x1d935e,_0x21fcea){return _0x1d935e+_0x21fcea;},'IHaQV':_0x405146(0x11d),'rQpFT':function(_0x1a2417,_0xc0cb5d,_0x5d90be,_0x3363bd,_0xb68c76,_0x3d00be,_0x3452bf){return _0x1a2417(_0xc0cb5d,_0x5d90be,_0x3363bd,_0xb68c76,_0x3d00be,_0x3452bf);},'xnolj':_0x405146(0x10e)};let _0x25b24a,_0x1c7aac;try{global_registry['requestId']=_0x49bde9['YDZZK'](uuidv4);!fs[_0x405146(0x16d)](_0x49bde9['yrqKm'](getCredentialsPath))&&(_0x1c7aac=_0x49bde9['hMfhI'],logger[_0x405146(0x13f)](_0x1c7aac),await _0x49bde9[_0x405146(0x117)](reportToGalactusAndSendToEDS,_0xee4e72,_0x25b24a,_0x1c7aac,messageTypes[_0x405146(0xba)],_0x49bde9[_0x405146(0xf2)],_0x49bde9[_0x405146(0xe1)],_0x49bde9[_0x405146(0x115)]),process['exit'](0x1));_0x49bde9['wmbzR'](sendInstrumentationEvent,_0xee4e72,_0x49bde9[_0x405146(0xf2)],messageTypes[_0x405146(0x157)],null,null,_0xee4e72);const _0x5ae54d=JSON[_0x405146(0x138)](fs[_0x405146(0xee)](_0x49bde9[_0x405146(0xb3)](getCredentialsPath)));global_registry[_0x405146(0xbf)]=_0x5ae54d[_0x405146(0xc4)][_0x405146(0x14e)],global_registry['bstackAccesskey']=_0x5ae54d[_0x405146(0xc4)][_0x405146(0x96)];const _0x3a51e2=WS_ENDPOINT[_0x405146(0xd8)](_0x49bde9[_0x405146(0x10b)],_0x5ae54d[_0x405146(0xc4)][_0x405146(0x14e)])[_0x405146(0xd8)](_0x49bde9[_0x405146(0xda)],_0x5ae54d[_0x405146(0xc4)][_0x405146(0x96)]),_0x551092={};_0x551092[_0x405146(0x106)]=ws,_0x551092['connectionTimeout']=0x36ee80,_0x25b24a=new ReconnectingWebSocket(_0x3a51e2,[],_0x551092),global_registry[_0x405146(0x152)]=_0x49bde9[_0x405146(0x109)](getAuthHeader,global_registry[_0x405146(0xbf)],global_registry[_0x405146(0x12f)]),await _0x49bde9[_0x405146(0x109)](inputValidation,_0xee4e72,_0x25b24a),logger[_0x405146(0x7d)](_0x405146(0x13b)+global_registry[_0x405146(0xe5)]+_0x405146(0x147)+global_registry['clusterRegion']);let _0x10e9d5=await _0x49bde9['wmbzR'](getCloudProviderObjectWithOutInit,global_registry['cloudProvider'],global_registry[_0x405146(0xf4)],_0x49bde9['xSfXF'],_0x25b24a,webSocketUtils,_0xee4e72);const _0x4458f0=await _0x10e9d5['isCliToolInstalled']();_0x49bde9['UnXOP'](printResponse,_0x49bde9[_0x405146(0x8c)],_0x4458f0),_0x10e9d5=await _0x10e9d5[_0x405146(0x13e)]();let _0x5b67fd=![];try{_0x5b67fd=await _0x10e9d5['isClusterPresent']();}catch(_0x3d2218){const _0x479995=_0x49bde9[_0x405146(0xcd)]['split']('|');let _0x3298a5=0x0;while(!![]){switch(_0x479995[_0x3298a5++]){case'0':logger['error'](_0x1c7aac);continue;case'1':await _0x49bde9['dRfDV'](reportToGalactusAndSendToEDS,_0xee4e72,_0x25b24a,_0x1c7aac,messageTypes[_0x405146(0xba)],_0x49bde9['dqCvf'],_0x405146(0x137)+global_registry[_0x405146(0xe5)],_0x49bde9[_0x405146(0x115)]);continue;case'2':_0x1c7aac+='\x0a'+JSON[_0x405146(0x7a)](_0x3d2218[_0x405146(0xcb)]);continue;case'3':_0x5b67fd=null;continue;case'4':_0x1c7aac=_0x405146(0xb6)+global_registry[_0x405146(0xf4)]+'`\x20is\x20present\x20in\x20region\x20`'+global_registry[_0x405146(0x9b)]+'`\x20,error\x20:\x20'+_0x3d2218;continue;}break;}}_0x5b67fd&&logger[_0x405146(0x7d)](_0x405146(0xbc)+global_registry[_0x405146(0xf4)]+_0x405146(0x8a));const _0x30dfb2=await _0x10e9d5[_0x405146(0x7c)]();_0x49bde9[_0x405146(0x109)](printResponse,_0x49bde9[_0x405146(0xf9)],_0x30dfb2);const _0x27c8e9=await _0x49bde9[_0x405146(0xb3)](curlRequest);_0x49bde9[_0x405146(0x153)](printResponse,_0x49bde9[_0x405146(0xab)],_0x27c8e9);const _0x3fe9b2=await _0x49bde9[_0x405146(0x112)](isTlsSupported,_0x49bde9['CjeaZ']);_0x49bde9['MSHpd'](printResponse,_0x49bde9[_0x405146(0x164)],_0x3fe9b2);const _0x5258d6={};_0x5258d6[_0x405146(0x10f)]=_0x49bde9['evIGb'],_0x5258d6['response']=_0x4458f0;const _0xdc6b33={};_0xdc6b33[_0x405146(0x10f)]=_0x49bde9[_0x405146(0x92)],_0xdc6b33['response']=_0x30dfb2;const _0x598c56={};_0x598c56[_0x405146(0x10f)]=_0x49bde9[_0x405146(0x14f)],_0x598c56[_0x405146(0xc0)]=_0x27c8e9;const _0x4e943a={};_0x4e943a[_0x405146(0x10f)]=_0x49bde9[_0x405146(0x94)],_0x4e943a[_0x405146(0xc0)]=_0x3fe9b2;const _0x18b93e=[_0x5258d6,_0xdc6b33,_0x598c56,_0x4e943a],_0x36c501=await _0x49bde9[_0x405146(0x81)](generateReport,_0x18b93e,_0x5b67fd),_0x4b6e1d=new Date(),_0x378d92=_0x4b6e1d[_0x405146(0x98)]()+'_'+_0x49bde9['QdeUr'](_0x4b6e1d[_0x405146(0xa1)](),0x1)+'_'+_0x4b6e1d['getUTCDate']()+'_'+_0x4b6e1d[_0x405146(0xa0)]()+'_'+_0x4b6e1d[_0x405146(0x141)](),_0x571e69=_0x405146(0xf3)+_0x378d92+_0x405146(0xcc);fs[_0x405146(0xf1)](_0x571e69,_0x36c501,_0x49bde9[_0x405146(0x166)]),logger[_0x405146(0x7d)](_0x405146(0x7f)+_0x571e69),process[_0x405146(0x14c)](0x0);}catch(_0x4a64ba){let _0x4a1a18=_0x405146(0x159)+_0x4a64ba+'\x20';logger[_0x405146(0x13f)](_0x4a1a18),_0x4a1a18+='\x0a'+JSON[_0x405146(0x7a)](_0x4a64ba[_0x405146(0xcb)]),logger[_0x405146(0x133)](_0x405146(0x122)+_0x4a64ba['stack']);if(_0x25b24a){const _0x3c7e57={};_0x3c7e57['type']=WS_EVENTS[_0x405146(0x80)],_0x3c7e57[_0x405146(0x12d)]=_0x4a1a18,webSocketUtils[_0x405146(0x7e)](_0x25b24a,_0x3c7e57,_0x49bde9[_0x405146(0x115)],!![]);}await webSocketUtils['delay'](0x7d0);const _0x294940={};_0x294940[_0x405146(0x13f)]=_0x4a1a18,await _0x49bde9['rQpFT'](sendInstrumentationEvent,_0xee4e72,_0x49bde9['dqCvf'],messageTypes[_0x405146(0xba)],_0x49bde9[_0x405146(0xc6)],_0x294940,_0xee4e72),process[_0x405146(0x14c)](0x1);}};