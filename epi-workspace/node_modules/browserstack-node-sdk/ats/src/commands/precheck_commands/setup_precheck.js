const a17_0x2d0342=a17_0x9489;(function(_0x2133ff,_0x375d0f){const _0x434bb2=a17_0x9489,_0x715002=_0x2133ff();while(!![]){try{const _0x490b5a=-parseInt(_0x434bb2(0x1fa))/0x1+-parseInt(_0x434bb2(0x164))/0x2*(-parseInt(_0x434bb2(0x1a4))/0x3)+-parseInt(_0x434bb2(0x218))/0x4*(parseInt(_0x434bb2(0x17b))/0x5)+-parseInt(_0x434bb2(0x220))/0x6+parseInt(_0x434bb2(0x230))/0x7+-parseInt(_0x434bb2(0x1d9))/0x8*(parseInt(_0x434bb2(0x199))/0x9)+parseInt(_0x434bb2(0x208))/0xa*(parseInt(_0x434bb2(0x176))/0xb);if(_0x490b5a===_0x375d0f)break;else _0x715002['push'](_0x715002['shift']());}catch(_0xcc68a8){_0x715002['push'](_0x715002['shift']());}}}(a17_0x54e5,0x78ecf));const fs=require('fs'),ws=require('ws'),got=require('got'),{v4:uuidv4}=require(a17_0x2d0342(0x22e)),ReconnectingWebSocket=require(a17_0x2d0342(0x1e7)),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require(a17_0x2d0342(0x241)),{logger}=require(a17_0x2d0342(0x16f)),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require('../../config/constants'),{getCloudProviderObjectWithOutInit}=require(a17_0x2d0342(0x1b1)),webSocketUtils=require('../../utils/webSocketUtils'),{sendInstrumentationEvent}=require(a17_0x2d0342(0x205));exports[a17_0x2d0342(0x190)]=a17_0x2d0342(0x1a2),exports[a17_0x2d0342(0x228)]=a17_0x2d0342(0x224),exports['builder']=function(_0x29873d){const _0x5dae42=a17_0x2d0342,_0x2ed254={};_0x2ed254['gDhKX']='Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.',_0x2ed254['tsuLN']='string',_0x2ed254[_0x5dae42(0x1e6)]='Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.',_0x2ed254['PUTPS']=_0x5dae42(0x1e3),_0x2ed254[_0x5dae42(0x1b2)]=_0x5dae42(0x15f),_0x2ed254[_0x5dae42(0x226)]=_0x5dae42(0x221);const _0x293f57=_0x2ed254,_0x323204={};_0x323204[_0x5dae42(0x1ba)]=_0x293f57[_0x5dae42(0x192)],_0x323204[_0x5dae42(0x1d3)]=_0x293f57[_0x5dae42(0x193)];const _0x492f36={};_0x492f36[_0x5dae42(0x1ba)]=_0x293f57['BURCW'],_0x492f36[_0x5dae42(0x1d3)]=_0x293f57[_0x5dae42(0x193)];const _0x1ea34f={};_0x1ea34f['description']=_0x293f57['PUTPS'],_0x1ea34f[_0x5dae42(0x1d3)]=_0x293f57[_0x5dae42(0x193)];const _0x5015c9={};_0x5015c9['description']=_0x293f57[_0x5dae42(0x1b2)],_0x5015c9[_0x5dae42(0x1d3)]=_0x293f57[_0x5dae42(0x193)];const _0x7aab5b={};return _0x7aab5b[_0x5dae42(0x173)]=_0x323204,_0x7aab5b[_0x5dae42(0x20a)]=_0x492f36,_0x7aab5b[_0x5dae42(0x1b7)]=_0x1ea34f,_0x7aab5b[_0x5dae42(0x17e)]=_0x5015c9,_0x29873d[_0x5dae42(0x23f)](HELP_HEADER_MESSAGE[_0x5dae42(0x1c2)])['epilogue'](HELP_FOOTER_MESSAGE)[_0x5dae42(0x1f6)](_0x7aab5b)[_0x5dae42(0x221)](_0x293f57[_0x5dae42(0x226)])[_0x5dae42(0x1b6)];};async function inputValidation(_0x311d84,_0x1139de){const _0x49986d=a17_0x2d0342,_0x6ce1c1={'bfmJc':'Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','BHrvZ':_0x49986d(0x1e4),'nixgw':_0x49986d(0x1de),'bxvWF':'cluster-name','NDBfw':'cloud-provider','yAYgr':function(_0x3cca5f,_0x1b10f9){return _0x3cca5f+_0x1b10f9;},'IHEju':_0x49986d(0x1fb),'pWFNL':_0x49986d(0x22c),'wJIjc':function(_0x156e8d,_0x2c3dd9){return _0x156e8d||_0x2c3dd9;},'MuoAM':'error','PrKaP':_0x49986d(0x22b),'dppkl':_0x49986d(0x20c),'RHLZf':_0x49986d(0x19b),'wCdpH':_0x49986d(0x22a),'RsQYW':_0x49986d(0x1ff),'KPxVc':_0x49986d(0x1e3),'wjbAy':_0x49986d(0x15f),'zxILM':_0x49986d(0x221),'MCKux':function(_0x242e3f,_0x1c7bc8){return _0x242e3f!==_0x1c7bc8;},'Lfntw':'LIOjE','tTgXu':_0x49986d(0x17c),'exxJM':function(_0x53de1f,_0x5c30b3){return _0x53de1f!==_0x5c30b3;},'KBUNp':'gGBOI','VXYiC':_0x49986d(0x246),'EnUJz':function(_0x361384,_0x1838c8){return _0x361384===_0x1838c8;},'oBylw':_0x49986d(0x203),'BvNWK':function(_0x33866b,_0x269b71){return _0x33866b!==_0x269b71;},'mmFGJ':'yULYS','BZBsX':'eSWpT','uJhPf':_0x49986d(0x247),'JuOEw':_0x49986d(0x231),'fmdXb':'region','ZXnsK':function(_0x3b4ca5,_0x4f49c4){return _0x3b4ca5>_0x4f49c4;},'gtopQ':_0x49986d(0x238),'tIOWI':function(_0x2726df,_0x28d7ba,_0xec853f,_0x2bf5db,_0x19a75c,_0x49216d,_0x5a8996,_0x29e661){return _0x2726df(_0x28d7ba,_0xec853f,_0x2bf5db,_0x19a75c,_0x49216d,_0x5a8996,_0x29e661);},'jMPmR':_0x49986d(0x21e),'cltVB':'pre-check-cluster-args-not-passed','xdOyz':function(_0x5839e2,_0x4d31da){return _0x5839e2!==_0x4d31da;},'IsfBA':'BnzKj','vSxjv':'Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','BgPSd':function(_0x42da04,_0x1d20c3,_0x5e3c69,_0x36acbe,_0x574790,_0x5bbc46,_0x1df387,_0x9cf6b2){return _0x42da04(_0x1d20c3,_0x5e3c69,_0x36acbe,_0x574790,_0x5bbc46,_0x1df387,_0x9cf6b2);},'ybtzh':_0x49986d(0x204),'CWQNv':_0x49986d(0x1b8),'nCrgn':_0x49986d(0x211),'oJnht':_0x49986d(0x24b),'vfCMy':_0x49986d(0x1e2),'Xzhqu':'GET','zzOnj':function(_0x360f63,_0x3fab52,_0x4d0a22){return _0x360f63(_0x3fab52,_0x4d0a22);},'Edzyd':function(_0x378ba0,_0x55a0db,_0x316524,_0xc3e4de,_0x1e08b6,_0x488e38){return _0x378ba0(_0x55a0db,_0x316524,_0xc3e4de,_0x1e08b6,_0x488e38);},'zyLWl':_0x49986d(0x1c8),'HLaXm':_0x49986d(0x17e),'ZFsSn':function(_0x13c07b,_0x984386){return _0x13c07b===_0x984386;},'vsRug':_0x49986d(0x160),'EzPcC':_0x49986d(0x1d8),'TLHMN':function(_0x4da9e9,_0x5a8dbd){return _0x4da9e9(_0x5a8dbd);},'UhRiH':function(_0x670520,_0x10eb10){return _0x670520!==_0x10eb10;},'FCvlq':_0x49986d(0x1f1),'ZkzMy':_0x49986d(0x1a5),'cCDQw':_0x49986d(0x235),'ujREG':function(_0x4779a3,_0x79ccb){return _0x4779a3===_0x79ccb;},'WTGiz':_0x49986d(0x18d),'PzbwQ':'Grid\x20profile\x20fetched\x20for\x20pre-check','JqANk':_0x49986d(0x1a8),'TvyuO':_0x49986d(0x1ef),'Wqbdg':function(_0x55f1ae,_0x352afe){return _0x55f1ae===_0x352afe;},'TnkGf':_0x49986d(0x1fe),'SDFmX':'QKOTT'};let _0x4850f2;try{if(_0x6ce1c1['MCKux'](_0x6ce1c1[_0x49986d(0x17a)],_0x6ce1c1[_0x49986d(0x180)])){if(_0x311d84[_0x49986d(0x165)]||_0x311d84[_0x49986d(0x1ce)]||_0x311d84[_0x49986d(0x1b7)]){if(_0x6ce1c1['exxJM'](_0x6ce1c1[_0x49986d(0x219)],_0x6ce1c1['VXYiC'])){const _0x348638=[];!_0x311d84[_0x49986d(0x165)]&&(_0x6ce1c1[_0x49986d(0x1af)](_0x6ce1c1[_0x49986d(0x244)],_0x6ce1c1['oBylw'])?_0x348638[_0x49986d(0x16b)](_0x6ce1c1[_0x49986d(0x155)]):_0x10c579[_0x49986d(0x177)]('Cluster\x20`'+_0x6589be['clusterName']+_0x49986d(0x1f9)));;!_0x311d84[_0x49986d(0x1ce)]&&(_0x6ce1c1[_0x49986d(0x200)](_0x6ce1c1[_0x49986d(0x1b0)],_0x6ce1c1['BZBsX'])?_0x348638[_0x49986d(0x16b)](_0x6ce1c1[_0x49986d(0x188)]):(_0x146fed[_0x49986d(0x18e)](_0x6ce1c1[_0x49986d(0x1ca)]),_0x3ef873[_0x49986d(0x239)](0x1)));;!_0x311d84[_0x49986d(0x1b7)]&&(_0x6ce1c1['EnUJz'](_0x6ce1c1[_0x49986d(0x207)],_0x6ce1c1[_0x49986d(0x206)])?(_0x340068+=_0x6ce1c1[_0x49986d(0x21c)],_0x50e54d+=_0x49986d(0x1aa)+(_0x35e605[_0x49986d(0x245)]||_0x6ce1c1['nixgw'])+'\x0a',_0x31a29a+=_0x49986d(0x1c3)+(_0x5b0d20[_0x49986d(0x15c)]||_0x6ce1c1[_0x49986d(0x1bb)])+'\x0a',_0x284120+=_0x49986d(0x1a9)+(_0xed1ed1[_0x49986d(0x1a3)]||_0x6ce1c1[_0x49986d(0x1bb)])+'\x0a'):_0x348638[_0x49986d(0x16b)](_0x6ce1c1['fmdXb']));;_0x6ce1c1[_0x49986d(0x1b4)](_0x348638['length'],0x0)&&(_0x6ce1c1[_0x49986d(0x1af)](_0x6ce1c1['gtopQ'],_0x6ce1c1[_0x49986d(0x1c0)])?(_0x4850f2='Missing\x20required\x20arguments:\x20'+_0x348638[_0x49986d(0x214)](',\x20')+_0x49986d(0x1ec),await _0x6ce1c1[_0x49986d(0x172)](reportToGalactusAndSendToEDS,_0x311d84,_0x1139de,_0x4850f2,messageTypes[_0x49986d(0x19d)],_0x6ce1c1[_0x49986d(0x156)],_0x6ce1c1[_0x49986d(0x150)],_0x6ce1c1['MuoAM']),logger[_0x49986d(0x18e)](_0x4850f2),process[_0x49986d(0x239)](0x1)):_0x4af5ca[_0x49986d(0x18e)]('error\x20stack\x20:\x20'+_0x16d9cd[_0x49986d(0x18e)][_0x49986d(0x1a3)])),!ALL_SUPPORTED_CLOUD_PROVIDERS[_0x49986d(0x1d5)](_0x311d84[_0x49986d(0x1ce)][_0x49986d(0x183)]())&&(_0x6ce1c1[_0x49986d(0x1c1)](_0x6ce1c1[_0x49986d(0x1d2)],_0x6ce1c1['IsfBA'])?(_0x5c0e87['info']('['+_0x4a94a0+_0x49986d(0x1ae)+_0xe71c6d[_0x49986d(0x249)]+_0x49986d(0x22f)+_0x3a8f99[_0x49986d(0x153)]+_0x49986d(0x15d)+_0x35e2a4[_0x49986d(0x18e)]),_0x414aea[_0x49986d(0x18e)]&&_0x52ecdf['error'](_0x49986d(0x1d6)+_0x315e22[_0x49986d(0x18e)][_0x49986d(0x1a3)])):(_0x4850f2=_0x6ce1c1[_0x49986d(0x1c7)],await _0x6ce1c1[_0x49986d(0x162)](reportToGalactusAndSendToEDS,_0x311d84,_0x1139de,_0x4850f2,messageTypes['ERROR'],_0x6ce1c1[_0x49986d(0x156)],_0x6ce1c1[_0x49986d(0x1ac)],_0x6ce1c1[_0x49986d(0x187)]),logger[_0x49986d(0x18e)](_0x4850f2),!_0x311d84[_0x49986d(0x1ce)]&&(_0x6ce1c1[_0x49986d(0x1af)](_0x6ce1c1[_0x49986d(0x1f8)],_0x6ce1c1['nCrgn'])?_0x395a78[_0x49986d(0x16b)](_0x6ce1c1['bxvWF']):(logger[_0x49986d(0x177)](_0x49986d(0x19e)+DEFAULT_CLUSTER_DETAILS[_0x49986d(0x1e0)]+'\x20'),_0x311d84['cloudProvider']=DEFAULT_CLUSTER_DETAILS[_0x49986d(0x1e0)])))),global_registry[_0x49986d(0x165)]=_0x311d84[_0x49986d(0x165)],global_registry[_0x49986d(0x1ce)]=_0x311d84[_0x49986d(0x1ce)],global_registry[_0x49986d(0x215)]=_0x311d84['region'];}else _0x3b12b3[_0x49986d(0x16b)](_0x6ce1c1[_0x49986d(0x188)]);}else{if(_0x311d84[_0x49986d(0x18f)]){if(_0x6ce1c1['EnUJz'](_0x6ce1c1['oJnht'],_0x6ce1c1[_0x49986d(0x209)])){const {header:_0x514ef7,response:_0x5729ed}=_0x1b7372,{status:_0x388589,data:_0x142d71,error:_0x1979cb}=_0x5729ed;_0x309136+=_0x514ef7+'\x20#'+_0x6ce1c1[_0x49986d(0x154)](_0x2bde11,0x1)+'\x0a',_0x202042+=_0x49986d(0x1f0)+(_0x388589?_0x6ce1c1[_0x49986d(0x159)]:_0x6ce1c1[_0x49986d(0x232)])+'\x0a',_0x454a23+=_0x49986d(0x19f)+_0x6ce1c1[_0x49986d(0x1bf)](_0x142d71,_0x6ce1c1[_0x49986d(0x1bb)])+'\x0a',_0x1979cb&&(_0x90877d+=_0x6ce1c1['BHrvZ'],_0x358d83+='\x20\x20Message:\x20'+(_0x1979cb[_0x49986d(0x245)]||_0x6ce1c1[_0x49986d(0x1bb)])+'\x0a',_0x5269a1+=_0x49986d(0x1c3)+(_0x1979cb[_0x49986d(0x15c)]||_0x6ce1c1['nixgw'])+'\x0a',_0x184d21+=_0x49986d(0x1a9)+(_0x1979cb['stack']||_0x6ce1c1[_0x49986d(0x1bb)])+'\x0a'),_0x5a3af1+='\x0a\x0a';}else{global_registry[_0x49986d(0x18f)]=_0x311d84[_0x49986d(0x18f)],logger[_0x49986d(0x19c)](_0x49986d(0x167)+_0x311d84[_0x49986d(0x18f)]);const _0x1a9f25='https://'+AG_API_URL+_0x49986d(0x1d4),_0x3c4520={};_0x3c4520[_0x49986d(0x20d)]=_0x6ce1c1[_0x49986d(0x168)],_0x3c4520[_0x49986d(0x1cf)]=global_registry['authHeader'],_0x3c4520['throwHttpErrors']=![];const _0x272a2c=_0x3c4520,_0x370977=await _0x6ce1c1[_0x49986d(0x194)](got,_0x1a9f25,_0x272a2c),_0xcd5f4d=await _0x6ce1c1[_0x49986d(0x19a)](responseValidation,_0x370977,_0x6ce1c1[_0x49986d(0x157)],_0x6ce1c1[_0x49986d(0x21d)],_0x311d84,_0x1139de);let _0x2a76a={};if(_0x6ce1c1[_0x49986d(0x1af)](_0xcd5f4d,0xc8)){if(_0x6ce1c1['ZFsSn'](_0x6ce1c1['vsRug'],_0x6ce1c1['EzPcC']))_0x48f082[_0x49986d(0x239)](0x1);else{const _0x185f69=JSON[_0x49986d(0x1db)](_0x370977[_0x49986d(0x1e9)]),_0x5f28a2=_0x185f69[_0x49986d(0x18c)](_0x1ff462=>_0x1ff462['name']===_0x311d84[_0x49986d(0x18f)])||null;if(_0x6ce1c1[_0x49986d(0x23d)](isUndefined,_0x5f28a2)){if(_0x6ce1c1[_0x49986d(0x16a)](_0x6ce1c1[_0x49986d(0x184)],_0x6ce1c1[_0x49986d(0x184)])){const _0x34b7c0={};_0x34b7c0['type']=_0x4e37eb[_0x49986d(0x1f4)],_0x34b7c0['message']=_0x4f1651,_0x414a13[_0x49986d(0x216)](_0x3f9feb,_0x34b7c0,_0x6ce1c1[_0x49986d(0x187)],!![]);}else _0x4850f2=_0x49986d(0x227)+_0x311d84[_0x49986d(0x18f)]+_0x49986d(0x24c),await _0x6ce1c1[_0x49986d(0x172)](reportToGalactusAndSendToEDS,_0x311d84,_0x1139de,_0x4850f2,messageTypes['ERROR'],_0x6ce1c1[_0x49986d(0x156)],_0x6ce1c1[_0x49986d(0x16c)],_0x6ce1c1[_0x49986d(0x187)]),logger[_0x49986d(0x18e)](_0x4850f2),process['exit'](0x1);}else _0x6ce1c1['EnUJz'](_0x6ce1c1[_0x49986d(0x1d7)],_0x6ce1c1['cCDQw'])?_0x2a76a=_0x5f28a2:_0x57e95c=_0x1720c9;}}else _0x6ce1c1[_0x49986d(0x166)](_0x6ce1c1['WTGiz'],_0x6ce1c1[_0x49986d(0x178)])?process[_0x49986d(0x239)](0x1):_0x3c1a89+=_0x49986d(0x1ad)+_0x54c11c[_0x49986d(0x165)]+'\x20'+(_0x2e1997?_0x6ce1c1[_0x49986d(0x22d)]:_0x6ce1c1[_0x49986d(0x195)])+'\x0a\x0a';const _0x279583={};_0x279583[_0x49986d(0x1d3)]=WS_EVENTS[_0x49986d(0x1f4)],_0x279583[_0x49986d(0x245)]=_0x6ce1c1[_0x49986d(0x14f)],webSocketUtils[_0x49986d(0x216)](_0x1139de,_0x279583),global_registry['cloudProvider']=_0x2a76a[_0x49986d(0x1ce)],global_registry[_0x49986d(0x215)]=_0x2a76a['region'],global_registry[_0x49986d(0x165)]=_0x2a76a[_0x49986d(0x165)];}}else _0x6ce1c1[_0x49986d(0x158)](_0x6ce1c1[_0x49986d(0x1bc)],_0x6ce1c1[_0x49986d(0x212)])?(logger[_0x49986d(0x18e)](_0x6ce1c1[_0x49986d(0x1ca)]),process['exit'](0x1)):(_0xa5a17f[_0x49986d(0x177)](_0x49986d(0x19e)+_0x25d833[_0x49986d(0x1e0)]+'\x20'),_0x41ec3c[_0x49986d(0x1ce)]=_0x527640['CLOUD_PROVIDER']);}}else{const _0xbcd6da={};_0xbcd6da[_0x49986d(0x1ba)]=_0x6ce1c1[_0x49986d(0x1b9)],_0xbcd6da[_0x49986d(0x1d3)]=_0x6ce1c1['wCdpH'];const _0x5b6f98={};_0x5b6f98['description']=_0x6ce1c1[_0x49986d(0x1c9)],_0x5b6f98['type']=_0x6ce1c1[_0x49986d(0x170)];const _0x2bb05c={};_0x2bb05c[_0x49986d(0x1ba)]=_0x6ce1c1[_0x49986d(0x1bd)],_0x2bb05c[_0x49986d(0x1d3)]=_0x6ce1c1['wCdpH'];const _0x443879={};_0x443879[_0x49986d(0x1ba)]=_0x6ce1c1['wjbAy'],_0x443879[_0x49986d(0x1d3)]=_0x6ce1c1[_0x49986d(0x170)];const _0x8d63be={};return _0x8d63be[_0x49986d(0x173)]=_0xbcd6da,_0x8d63be[_0x49986d(0x20a)]=_0x5b6f98,_0x8d63be['region']=_0x2bb05c,_0x8d63be['grid-profile']=_0x443879,_0x4322e8[_0x49986d(0x23f)](_0x22a778[_0x49986d(0x1c2)])[_0x49986d(0x23e)](_0x6d6886)[_0x49986d(0x1f6)](_0x8d63be)[_0x49986d(0x221)](_0x6ce1c1[_0x49986d(0x21b)])['argv'];}}catch(_0x411e6e){_0x6ce1c1[_0x49986d(0x18a)](_0x6ce1c1[_0x49986d(0x217)],_0x6ce1c1[_0x49986d(0x23c)])?_0xdd34b9+='Cluster\x20'+_0x397d82[_0x49986d(0x165)]+_0x49986d(0x229):(_0x4850f2=_0x49986d(0x1da)+_0x411e6e+':\x20'+_0x411e6e[_0x49986d(0x1a3)],logger[_0x49986d(0x18e)](_0x4850f2),await _0x6ce1c1[_0x49986d(0x162)](reportToGalactusAndSendToEDS,_0x311d84,_0x1139de,_0x4850f2,messageTypes['ERROR'],_0x6ce1c1[_0x49986d(0x156)],_0x6ce1c1[_0x49986d(0x1ac)],_0x6ce1c1[_0x49986d(0x187)]),process[_0x49986d(0x239)](0x1));}}function a17_0x9489(_0x91edda,_0x46882e){const _0x54e565=a17_0x54e5();return a17_0x9489=function(_0x94892b,_0x37abc5){_0x94892b=_0x94892b-0x14f;let _0x13f18b=_0x54e565[_0x94892b];return _0x13f18b;},a17_0x9489(_0x91edda,_0x46882e);}function printResponse(_0x27b171,_0x36d330){const _0x2c450c=a17_0x2d0342,_0x4347cd={};_0x4347cd[_0x2c450c(0x210)]='region',_0x4347cd[_0x2c450c(0x202)]=function(_0x28c1c3,_0x1b3e66){return _0x28c1c3!==_0x1b3e66;},_0x4347cd[_0x2c450c(0x18b)]='iuBWq';const _0x152071=_0x4347cd;logger[_0x2c450c(0x177)]('['+_0x27b171+_0x2c450c(0x1ae)+_0x36d330[_0x2c450c(0x249)]+_0x2c450c(0x22f)+_0x36d330[_0x2c450c(0x153)]+'\x20error\x20:\x20'+_0x36d330[_0x2c450c(0x18e)]),_0x36d330[_0x2c450c(0x18e)]&&(_0x152071['AyevC'](_0x152071[_0x2c450c(0x18b)],_0x152071[_0x2c450c(0x18b)])?_0x5000a0[_0x2c450c(0x16b)](_0x152071[_0x2c450c(0x210)]):logger[_0x2c450c(0x18e)](_0x2c450c(0x1d6)+_0x36d330[_0x2c450c(0x18e)]['stack']));}async function generateReport(_0x45f957,_0x5af307){const _0x44515d=a17_0x2d0342,_0x3613d5={'hhths':function(_0x1ffa32,_0x1e6777){return _0x1ffa32+_0x1e6777;},'Ckxsr':_0x44515d(0x1fb),'RKyIo':_0x44515d(0x22c),'poDrr':function(_0x36eff9,_0x15fde6){return _0x36eff9||_0x15fde6;},'inEWv':_0x44515d(0x1de),'cyEQn':_0x44515d(0x1e4),'TBtqh':'Cluster\x20details\x0a-----------------------\x0a','Txhul':function(_0x3aa06f,_0x2b8085){return _0x3aa06f!=_0x2b8085;},'cHYma':_0x44515d(0x22b),'ZAMGb':_0x44515d(0x20c),'lVaLs':function(_0x16fb44){return _0x16fb44();}};let _0x4b7fb0=_0x44515d(0x1b5)+global_registry['cloudProvider']+_0x44515d(0x21a);return _0x45f957[_0x44515d(0x20f)]((_0x2a9dbb,_0x27ee76)=>{const _0x1a567c=_0x44515d,{header:_0x310390,response:_0x386054}=_0x2a9dbb,{status:_0x1e693c,data:_0x441d9d,error:_0x2de3e2}=_0x386054;_0x4b7fb0+=_0x310390+'\x20#'+_0x3613d5['hhths'](_0x27ee76,0x1)+'\x0a',_0x4b7fb0+=_0x1a567c(0x1f0)+(_0x1e693c?_0x3613d5[_0x1a567c(0x24a)]:_0x3613d5[_0x1a567c(0x16d)])+'\x0a',_0x4b7fb0+=_0x1a567c(0x19f)+_0x3613d5[_0x1a567c(0x1b3)](_0x441d9d,_0x3613d5[_0x1a567c(0x169)])+'\x0a',_0x2de3e2&&(_0x4b7fb0+=_0x3613d5[_0x1a567c(0x191)],_0x4b7fb0+='\x20\x20Message:\x20'+(_0x2de3e2[_0x1a567c(0x245)]||_0x3613d5[_0x1a567c(0x169)])+'\x0a',_0x4b7fb0+=_0x1a567c(0x1c3)+(_0x2de3e2[_0x1a567c(0x15c)]||_0x3613d5[_0x1a567c(0x169)])+'\x0a',_0x4b7fb0+='\x20\x20Stack:\x20'+(_0x2de3e2['stack']||_0x3613d5[_0x1a567c(0x169)])+'\x0a'),_0x4b7fb0+='\x0a\x0a';}),_0x4b7fb0+=_0x3613d5['TBtqh'],_0x3613d5[_0x44515d(0x1cd)](_0x5af307,null)?_0x4b7fb0+=_0x44515d(0x1ad)+global_registry['clusterName']+'\x20'+(_0x5af307?_0x3613d5['cHYma']:_0x3613d5['ZAMGb'])+'\x0a\x0a':_0x4b7fb0+=_0x44515d(0x1ad)+global_registry[_0x44515d(0x165)]+_0x44515d(0x229),_0x4b7fb0+=_0x3613d5[_0x44515d(0x1e8)](getSystemMetaData),_0x4b7fb0;};exports[a17_0x2d0342(0x237)]=async function(_0xb8b5dc){const _0x232acd=a17_0x2d0342,_0x32499d={'oXwUl':function(_0x535d6a){return _0x535d6a();},'gFOIV':'Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','QPOAT':function(_0x35eb73,_0x4a8bf7,_0x3ba95e,_0xc28e4c,_0x2b026e,_0x37b2a3,_0x508b98,_0x57ca4f){return _0x35eb73(_0x4a8bf7,_0x3ba95e,_0xc28e4c,_0x2b026e,_0x37b2a3,_0x508b98,_0x57ca4f);},'uIwur':_0x232acd(0x21e),'uewQT':_0x232acd(0x171),'ZqQUE':'error','CxWLR':function(_0x847a4f,_0x9ca4d7,_0xb7b68e,_0x277b83,_0x2a2ba7,_0x5d3243,_0x1e49c1){return _0x847a4f(_0x9ca4d7,_0xb7b68e,_0x277b83,_0x2a2ba7,_0x5d3243,_0x1e49c1);},'eNqjt':function(_0x5bce53){return _0x5bce53();},'yCIKr':'<UsernamePlaceholder>','OkLKj':'<PasswordPlaceholder>','Usecn':function(_0x56561c,_0x3e3df9,_0x19aa86){return _0x56561c(_0x3e3df9,_0x19aa86);},'NSvrR':function(_0x2e6052,_0x8fdb32,_0x369c59,_0x4dc612,_0x1c84ad,_0x10d43c,_0x133ffb){return _0x2e6052(_0x8fdb32,_0x369c59,_0x4dc612,_0x1c84ad,_0x10d43c,_0x133ffb);},'XRlis':_0x232acd(0x161),'SivJh':function(_0xb627cc,_0x33e1d3,_0x224d1a){return _0xb627cc(_0x33e1d3,_0x224d1a);},'fGGwI':_0x232acd(0x1f5),'cDUOi':_0x232acd(0x1ab),'oJiae':function(_0x52a6b4,_0x3e60fa,_0x5746d2,_0x556674,_0x487143,_0x473c61,_0x1adbf2,_0x52682d){return _0x52a6b4(_0x3e60fa,_0x5746d2,_0x556674,_0x487143,_0x473c61,_0x1adbf2,_0x52682d);},'qmcCd':function(_0x57bb66,_0x127ba1,_0x49d69e){return _0x57bb66(_0x127ba1,_0x49d69e);},'rIuUA':_0x232acd(0x1cb),'QNpLR':function(_0x59ff38){return _0x59ff38();},'idujo':_0x232acd(0x17d),'WRLLD':function(_0x47cf84,_0x22d536){return _0x47cf84(_0x22d536);},'rkNfA':_0x232acd(0x185),'VEGTq':function(_0x46d5d6,_0x2d9694,_0x132a58){return _0x46d5d6(_0x2d9694,_0x132a58);},'YmSfk':_0x232acd(0x242),'ALEuD':_0x232acd(0x189),'TWIfy':_0x232acd(0x175),'GZLxO':_0x232acd(0x1eb),'neMwE':_0x232acd(0x23b),'qqmnF':function(_0x2b8d86,_0x38c971){return _0x2b8d86+_0x38c971;},'wYryt':'utf-8','jOKRQ':'pre-check-failed'};let _0x11825c,_0x30a944;try{global_registry[_0x232acd(0x186)]=_0x32499d['oXwUl'](uuidv4);!fs[_0x232acd(0x1c4)](_0x32499d[_0x232acd(0x1a7)](getCredentialsPath))&&(_0x30a944=_0x32499d[_0x232acd(0x1dc)],logger[_0x232acd(0x18e)](_0x30a944),await _0x32499d[_0x232acd(0x1f7)](reportToGalactusAndSendToEDS,_0xb8b5dc,_0x11825c,_0x30a944,messageTypes[_0x232acd(0x19d)],_0x32499d[_0x232acd(0x182)],_0x32499d['uewQT'],_0x32499d[_0x232acd(0x17f)]),process[_0x232acd(0x239)](0x1));_0x32499d['CxWLR'](sendInstrumentationEvent,_0xb8b5dc,_0x32499d[_0x232acd(0x182)],messageTypes['INFO'],null,null,_0xb8b5dc);const _0x129559=JSON[_0x232acd(0x1db)](fs[_0x232acd(0x152)](_0x32499d[_0x232acd(0x198)](getCredentialsPath)));global_registry[_0x232acd(0x16e)]=_0x129559[_0x232acd(0x197)][_0x232acd(0x1cc)],global_registry[_0x232acd(0x1a6)]=_0x129559[_0x232acd(0x197)][_0x232acd(0x23a)];const _0x22b7a5=WS_ENDPOINT[_0x232acd(0x222)](_0x32499d[_0x232acd(0x1fc)],_0x129559[_0x232acd(0x197)]['username'])[_0x232acd(0x222)](_0x32499d['OkLKj'],_0x129559[_0x232acd(0x197)][_0x232acd(0x23a)]),_0x285531={};_0x285531[_0x232acd(0x225)]=ws,_0x285531[_0x232acd(0x15e)]=0x36ee80,_0x11825c=new ReconnectingWebSocket(_0x22b7a5,[],_0x285531),global_registry[_0x232acd(0x1c5)]=_0x32499d[_0x232acd(0x1a1)](getAuthHeader,global_registry[_0x232acd(0x16e)],global_registry[_0x232acd(0x1a6)]),await _0x32499d[_0x232acd(0x1a1)](inputValidation,_0xb8b5dc,_0x11825c),logger[_0x232acd(0x177)]('Pre-check\x20running\x20for\x20Cloud\x20-\x20'+global_registry['cloudProvider']+'\x20region\x20-\x20'+global_registry[_0x232acd(0x215)]);let _0x1d7263=await _0x32499d[_0x232acd(0x20b)](getCloudProviderObjectWithOutInit,global_registry[_0x232acd(0x1ce)],global_registry[_0x232acd(0x165)],_0x32499d['XRlis'],_0x11825c,webSocketUtils,_0xb8b5dc);const _0x35a8be=await _0x1d7263[_0x232acd(0x1dd)]();_0x32499d[_0x232acd(0x1e5)](printResponse,_0x32499d[_0x232acd(0x1d1)],_0x35a8be),_0x1d7263=await _0x1d7263[_0x232acd(0x243)]();let _0x27fc8b=![];try{_0x27fc8b=await _0x1d7263[_0x232acd(0x181)]();}catch(_0x36729a){const _0x312756=_0x32499d[_0x232acd(0x1d0)][_0x232acd(0x163)]('|');let _0x2fab6e=0x0;while(!![]){switch(_0x312756[_0x2fab6e++]){case'0':logger[_0x232acd(0x18e)](_0x30a944);continue;case'1':_0x27fc8b=null;continue;case'2':_0x30a944='unable\x20to\x20verify\x20if\x20cluster\x20`'+global_registry['clusterName']+_0x232acd(0x1ed)+global_registry[_0x232acd(0x215)]+_0x232acd(0x223)+_0x36729a;continue;case'3':_0x30a944+='\x0a'+JSON[_0x232acd(0x1df)](_0x36729a['stack']);continue;case'4':await _0x32499d['oJiae'](reportToGalactusAndSendToEDS,_0xb8b5dc,_0x11825c,_0x30a944,messageTypes[_0x232acd(0x19d)],_0x32499d['uIwur'],_0x232acd(0x240)+global_registry['cloudProvider'],_0x32499d['ZqQUE']);continue;}break;}}_0x27fc8b&&logger[_0x232acd(0x177)]('Cluster\x20`'+global_registry[_0x232acd(0x165)]+_0x232acd(0x1f9));const _0x260dab=await _0x1d7263[_0x232acd(0x1f3)]();_0x32499d[_0x232acd(0x21f)](printResponse,_0x32499d[_0x232acd(0x1f2)],_0x260dab);const _0x168e75=await _0x32499d[_0x232acd(0x236)](curlRequest);_0x32499d[_0x232acd(0x1a1)](printResponse,_0x32499d[_0x232acd(0x1fd)],_0x168e75);const _0x5421c4=await _0x32499d[_0x232acd(0x1be)](isTlsSupported,_0x32499d[_0x232acd(0x201)]);_0x32499d[_0x232acd(0x213)](printResponse,_0x32499d[_0x232acd(0x1c6)],_0x5421c4);const _0x9249e8={};_0x9249e8[_0x232acd(0x1ea)]=_0x32499d['ALEuD'],_0x9249e8[_0x232acd(0x179)]=_0x35a8be;const _0x48c001={};_0x48c001[_0x232acd(0x1ea)]=_0x32499d['TWIfy'],_0x48c001[_0x232acd(0x179)]=_0x260dab;const _0x24b109={};_0x24b109['header']=_0x32499d[_0x232acd(0x151)],_0x24b109[_0x232acd(0x179)]=_0x168e75;const _0x5ceed6={};_0x5ceed6[_0x232acd(0x1ea)]=_0x32499d[_0x232acd(0x248)],_0x5ceed6['response']=_0x5421c4;const _0x2ef51b=[_0x9249e8,_0x48c001,_0x24b109,_0x5ceed6],_0x7b9efb=await _0x32499d[_0x232acd(0x1e5)](generateReport,_0x2ef51b,_0x27fc8b),_0x46f23d=new Date(),_0x1c8af4=_0x46f23d[_0x232acd(0x1ee)]()+'_'+_0x32499d['qqmnF'](_0x46f23d[_0x232acd(0x234)](),0x1)+'_'+_0x46f23d['getUTCDate']()+'_'+_0x46f23d[_0x232acd(0x196)]()+'_'+_0x46f23d[_0x232acd(0x174)](),_0x4d7fbd='log/report_'+_0x1c8af4+'.txt';fs[_0x232acd(0x1a0)](_0x4d7fbd,_0x7b9efb,_0x32499d[_0x232acd(0x233)]),logger[_0x232acd(0x177)](_0x232acd(0x1e1)+_0x4d7fbd),process[_0x232acd(0x239)](0x0);}catch(_0x441a2b){let _0x2cfd1a=_0x232acd(0x15a)+_0x441a2b+'\x20';logger['error'](_0x2cfd1a),_0x2cfd1a+='\x0a'+JSON['stringify'](_0x441a2b[_0x232acd(0x1a3)]),logger['debug']('stack\x20trace\x20'+_0x441a2b[_0x232acd(0x1a3)]);if(_0x11825c){const _0x430af4={};_0x430af4[_0x232acd(0x1d3)]=WS_EVENTS[_0x232acd(0x1f4)],_0x430af4[_0x232acd(0x245)]=_0x2cfd1a,webSocketUtils[_0x232acd(0x216)](_0x11825c,_0x430af4,_0x32499d[_0x232acd(0x17f)],!![]);}await webSocketUtils[_0x232acd(0x20e)](0x7d0);const _0x110919={};_0x110919[_0x232acd(0x18e)]=_0x2cfd1a,await _0x32499d[_0x232acd(0x20b)](sendInstrumentationEvent,_0xb8b5dc,_0x32499d['uIwur'],messageTypes[_0x232acd(0x19d)],_0x32499d[_0x232acd(0x15b)],_0x110919,_0xb8b5dc),process[_0x232acd(0x239)](0x1);}};function a17_0x54e5(){const _0x2a75e3=['EnUJz','mmFGJ','../../cloudproviders/utils','qbifA','poDrr','ZXnsK','===\x20Precheck\x20Report\x20-\x20','argv','region','pGDjV','RHLZf','description','nixgw','JqANk','KPxVc','WRLLD','wJIjc','gtopQ','xdOyz','pre_check','\x20\x20Code:\x20','existsSync','authHeader','YmSfk','vSxjv','pre-check','RsQYW','bfmJc','accessResp','username','Txhul','cloudProvider','headers','cDUOi','fGGwI','IsfBA','type','/packages/cli/get-all-grid-profiles','includes','error\x20stack\x20:\x20','cCDQw','EyGuA','16qdCJFv','Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20','parse','gFOIV','isCliToolInstalled','N/A','stringify','CLOUD_PROVIDER','Report\x20saved\x20in\x20','bgQNA','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','Error\x20Details:\x0a','SivJh','BURCW','reconnecting-websocket','lVaLs','body','header','Whitelisted\x20browserstack','.\x20Please\x20provide\x20all\x20required\x20arguments.','`\x20is\x20present\x20in\x20region\x20`','getUTCFullYear','KKotn','Status:\x20','cpuuL','rIuUA','checkAccess','LOG','toolInstalledResp','options','QPOAT','CWQNv','`\x20already\x20exists','374042wWJkQI','Success','yCIKr','idujo','AkIWV','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','BvNWK','rkNfA','AyevC','YjOdn','cloud-provider-not-supported','../../utils/instrumentationUtils','JuOEw','uJhPf','3424810wGUawV','vfCMy','cloud-provider','NSvrR','will\x20be\x20created','method','delay','forEach','fWDlx','znoip','TvyuO','VEGTq','join','clusterRegion','sendEventToBackend','TnkGf','106832xSrwLj','KBUNp','\x20===\x0a\x0a','zxILM','BHrvZ','HLaXm','pre-check-grid-called','qmcCd','2737248pejnDa','help','replace','`\x20,error\x20:\x20','Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup','WebSocket','QlHiM','Invalid\x20input.\x20grid\x20profiles:\x20','desc','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','string','is\x20already\x20present','Failure','PrKaP','uuid','\x20data\x20:\x20','3922590hJWwJL','lCEcv','pWFNL','wYryt','getUTCMonth','MAoHP','QNpLR','handler','ShYop','exit','password','SSL\x20Configured','SDFmX','TLHMN','epilogue','usage','cluster-check-failed-','../../utils/utilityMethods','isTls1_2_SUPPORTED','init','oBylw','message','kEUys','SGYvQ','neMwE','status','Ckxsr','CPBPk','.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again','PzbwQ','cltVB','GZLxO','readFileSync','data','yAYgr','bxvWF','jMPmR','zyLWl','exxJM','IHEju','Failed\x20in\x20pre-check!\x20Error:\x20','jOKRQ','code','\x20error\x20:\x20','connectionTimeout','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','ntjXF','dummy-grid','BgPSd','split','344Xzyoam','clusterName','ujREG','grid\x20profile\x20flow\x20','Xzhqu','inEWv','UhRiH','push','ZkzMy','RKyIo','bstackUsername','../../config/logger','wCdpH','credential-not-found','tIOWI','cluster-name','getUTCMinutes','User\x20Access','33ddqegC','info','WTGiz','response','Lfntw','165XorRZi','YzNFY','isTrialGridAccessible','grid-profile','ZqQUE','tTgXu','isClusterPresent','uIwur','toLowerCase','FCvlq','TLSv1_2_client_method','requestId','MuoAM','NDBfw','Tool\x20Installed','Wqbdg','GjPds','find','XCiJO','error','gridProfile','command','cyEQn','gDhKX','tsuLN','zzOnj','dppkl','getUTCHours','Browserstack','eNqjt','224082XQqJSC','Edzyd','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','debug','ERROR','Setting\x20cloud\x20provider\x20as\x20','Message:\x20','writeFileSync','Usecn','grid','stack','11667tSTMCX','pre-check-grid-profile-empty','bstackAccesskey','oXwUl','Jbfuw','\x20\x20Stack:\x20','\x20\x20Message:\x20','2|1|0|3|4','ybtzh','Cluster\x20',']\x20status\x20:\x20'];a17_0x54e5=function(){return _0x2a75e3;};return a17_0x54e5();}