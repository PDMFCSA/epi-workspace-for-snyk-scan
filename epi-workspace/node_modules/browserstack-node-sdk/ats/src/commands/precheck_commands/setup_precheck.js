const a17_0x3ead22=a17_0x48fb;(function(_0x21015e,_0xddf1ad){const _0xea95d6=a17_0x48fb,_0x3efeba=_0x21015e();while(!![]){try{const _0x474573=-parseInt(_0xea95d6(0x14d))/0x1+-parseInt(_0xea95d6(0x141))/0x2+-parseInt(_0xea95d6(0x130))/0x3+parseInt(_0xea95d6(0x13d))/0x4*(parseInt(_0xea95d6(0xb4))/0x5)+-parseInt(_0xea95d6(0x160))/0x6+-parseInt(_0xea95d6(0xe2))/0x7*(parseInt(_0xea95d6(0x104))/0x8)+-parseInt(_0xea95d6(0x16b))/0x9*(-parseInt(_0xea95d6(0xd3))/0xa);if(_0x474573===_0xddf1ad)break;else _0x3efeba['push'](_0x3efeba['shift']());}catch(_0x2cf0f2){_0x3efeba['push'](_0x3efeba['shift']());}}}(a17_0x47b3,0x858a7));const fs=require('fs'),ws=require('ws'),got=require('got'),{v4:uuidv4}=require(a17_0x3ead22(0xf5)),ReconnectingWebSocket=require(a17_0x3ead22(0x75)),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require(a17_0x3ead22(0xd7)),{logger}=require('../../config/logger'),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require(a17_0x3ead22(0xca)),{getCloudProviderObjectWithOutInit}=require(a17_0x3ead22(0xd1)),webSocketUtils=require(a17_0x3ead22(0x82)),{sendInstrumentationEvent}=require(a17_0x3ead22(0xe1));exports['command']=a17_0x3ead22(0x142),exports[a17_0x3ead22(0xa0)]=a17_0x3ead22(0xf1),exports[a17_0x3ead22(0x7f)]=function(_0x147989){const _0xd3eb4c=a17_0x3ead22,_0x3b5b4a={};_0x3b5b4a[_0xd3eb4c(0x11f)]=_0xd3eb4c(0xe6),_0x3b5b4a['LyxVr']='string',_0x3b5b4a[_0xd3eb4c(0xbc)]=_0xd3eb4c(0xf2),_0x3b5b4a[_0xd3eb4c(0x170)]='Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.',_0x3b5b4a[_0xd3eb4c(0x16d)]=_0xd3eb4c(0x118),_0x3b5b4a[_0xd3eb4c(0xaa)]='help';const _0x1e1a58=_0x3b5b4a,_0x5f2da5={};_0x5f2da5[_0xd3eb4c(0x143)]=_0x1e1a58[_0xd3eb4c(0x11f)],_0x5f2da5[_0xd3eb4c(0xaf)]=_0x1e1a58[_0xd3eb4c(0x117)];const _0x44b5af={};_0x44b5af['description']=_0x1e1a58[_0xd3eb4c(0xbc)],_0x44b5af['type']=_0x1e1a58[_0xd3eb4c(0x117)];const _0x16c181={};_0x16c181[_0xd3eb4c(0x143)]=_0x1e1a58[_0xd3eb4c(0x170)],_0x16c181[_0xd3eb4c(0xaf)]=_0x1e1a58[_0xd3eb4c(0x117)];const _0x2a170f={};_0x2a170f[_0xd3eb4c(0x143)]=_0x1e1a58[_0xd3eb4c(0x16d)],_0x2a170f[_0xd3eb4c(0xaf)]=_0x1e1a58[_0xd3eb4c(0x117)];const _0x275f55={};return _0x275f55[_0xd3eb4c(0x74)]=_0x5f2da5,_0x275f55[_0xd3eb4c(0x6c)]=_0x44b5af,_0x275f55['region']=_0x16c181,_0x275f55['grid-profile']=_0x2a170f,_0x147989[_0xd3eb4c(0xde)](HELP_HEADER_MESSAGE[_0xd3eb4c(0x103)])['epilogue'](HELP_FOOTER_MESSAGE)[_0xd3eb4c(0x96)](_0x275f55)[_0xd3eb4c(0xeb)](_0x1e1a58['GGFzq'])['argv'];};function a17_0x48fb(_0x4da6ff,_0x23e0e){const _0x47b330=a17_0x47b3();return a17_0x48fb=function(_0x48fb42,_0x12501f){_0x48fb42=_0x48fb42-0x6a;let _0x45a75e=_0x47b330[_0x48fb42];return _0x45a75e;},a17_0x48fb(_0x4da6ff,_0x23e0e);}async function inputValidation(_0x3f68aa,_0xa70e39){const _0x168d96=a17_0x3ead22,_0x1c7cfd={'wGdne':_0x168d96(0xe6),'trREn':_0x168d96(0xd2),'FKLRz':_0x168d96(0xf2),'sLbiX':_0x168d96(0xcf),'vCHGm':_0x168d96(0x118),'FXCrz':_0x168d96(0xeb),'Lxaqw':'error','zTjVr':function(_0xc66a7b,_0x482623){return _0xc66a7b+_0x482623;},'SWhqD':_0x168d96(0x16e),'BTIpd':_0x168d96(0x79),'oifVS':function(_0x186043,_0x477f3e){return _0x186043||_0x477f3e;},'oHyDq':_0x168d96(0x146),'Npclz':_0x168d96(0x7d),'TBwbS':_0x168d96(0x74),'Usxxg':_0x168d96(0x7e),'UuECG':_0x168d96(0x8b),'wsQaO':'Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','JDBrT':_0x168d96(0xc6),'bXHDI':function(_0x2c9e60,_0x8c9135){return _0x2c9e60!==_0x8c9135;},'urRIv':_0x168d96(0x14b),'IvCAc':function(_0x1082fb,_0x5db6bb){return _0x1082fb===_0x5db6bb;},'BToaj':_0x168d96(0x128),'KUYmG':_0x168d96(0x129),'DxGyM':function(_0x4add02,_0x24032d){return _0x4add02!==_0x24032d;},'VdYbc':_0x168d96(0x127),'gwIgY':_0x168d96(0x6f),'VasZg':_0x168d96(0x6c),'AteVn':_0x168d96(0xa6),'eYWDs':function(_0x51f955,_0x76d65c){return _0x51f955>_0x76d65c;},'lfZHK':_0x168d96(0xee),'yStBG':function(_0x4fde4a,_0x40eabe,_0x13ba3e,_0xc5e95d,_0x120509,_0x2aa51e,_0xa526b4,_0x2d6a11){return _0x4fde4a(_0x40eabe,_0x13ba3e,_0xc5e95d,_0x120509,_0x2aa51e,_0xa526b4,_0x2d6a11);},'lTDTd':_0x168d96(0x10f),'gqsuF':'pre-check-cluster-args-not-passed','AMMfG':function(_0x4caa72,_0xe40e82){return _0x4caa72===_0xe40e82;},'hlnQQ':_0x168d96(0x7c),'zMIHs':_0x168d96(0x134),'oFujz':function(_0x32de22,_0xf53eee,_0x53b774,_0x57e396,_0x39da8c,_0x1caa03,_0xe938f8,_0x24fd32){return _0x32de22(_0xf53eee,_0x53b774,_0x57e396,_0x39da8c,_0x1caa03,_0xe938f8,_0x24fd32);},'WptZI':_0x168d96(0x112),'NDdmn':'vkefx','FVpVf':'TnBAP','dpVym':function(_0x425c66,_0x51cfbc){return _0x425c66!==_0x51cfbc;},'yvtwb':_0x168d96(0xad),'JYYef':_0x168d96(0x6b),'GhHGK':function(_0x5f64d,_0x5f11ac,_0x539667){return _0x5f64d(_0x5f11ac,_0x539667);},'NPtJr':function(_0x4aa81f,_0x26f552,_0x14dccd,_0x2e236b,_0x5cbdbe,_0xec37e5){return _0x4aa81f(_0x26f552,_0x14dccd,_0x2e236b,_0x5cbdbe,_0xec37e5);},'Wxcvx':_0x168d96(0x13b),'hzFGx':_0x168d96(0x152),'FZWlq':_0x168d96(0xce),'RJhyF':function(_0x100fc7,_0x26db48){return _0x100fc7(_0x26db48);},'XuUjh':function(_0x46d830,_0x5d4c99){return _0x46d830===_0x5d4c99;},'nUQmr':_0x168d96(0xbe),'GWlsT':_0x168d96(0x124),'TBZAv':function(_0x47b1db,_0x503c44){return _0x47b1db===_0x503c44;},'RoESL':_0x168d96(0x9c),'oGFel':_0x168d96(0x10a),'aGurX':_0x168d96(0x123),'JspAC':function(_0x2d0b6c,_0x4200b6){return _0x2d0b6c!==_0x4200b6;},'tUQMk':_0x168d96(0xe8),'uBckY':_0x168d96(0x97),'rTgta':function(_0x4b9abe,_0x359a2e){return _0x4b9abe===_0x359a2e;},'kayHD':_0x168d96(0xc1),'aVMFw':'TqoLB','ALFwd':function(_0x5e8992,_0x33e9b0,_0x23c039,_0x5ad089,_0xebc433,_0x448749,_0x40bfb4,_0x5144ab){return _0x5e8992(_0x33e9b0,_0x23c039,_0x5ad089,_0xebc433,_0x448749,_0x40bfb4,_0x5144ab);}};let _0x49c371;try{if(_0x1c7cfd[_0x168d96(0xb9)](_0x1c7cfd[_0x168d96(0xb3)],_0x1c7cfd[_0x168d96(0xb3)]))_0x516bb5[_0x168d96(0xfb)]('['+_0x17fa5f+_0x168d96(0xc0)+_0x40e58d[_0x168d96(0x10d)]+_0x168d96(0xe4)+_0x2bbee0[_0x168d96(0x95)]+_0x168d96(0xa7)+_0x436537[_0x168d96(0xe3)]),_0x11fe5e[_0x168d96(0xe3)]&&_0x3cb9cd[_0x168d96(0xe3)]('error\x20stack\x20:\x20'+_0x24e4a7['error'][_0x168d96(0xf4)]);else{if(_0x3f68aa[_0x168d96(0xb8)]||_0x3f68aa['cloudProvider']||_0x3f68aa[_0x168d96(0xc6)]){if(_0x1c7cfd['IvCAc'](_0x1c7cfd['BToaj'],_0x1c7cfd[_0x168d96(0x14f)]))_0x42185b+=_0x168d96(0x90)+_0x2d5c19['clusterName']+'\x20details\x20cannot\x20be\x20fetched\x0a\x0a';else{const _0x4ebf6d=[];if(!_0x3f68aa[_0x168d96(0xb8)]){if(_0x1c7cfd[_0x168d96(0x12f)](_0x1c7cfd['VdYbc'],_0x1c7cfd[_0x168d96(0x113)])){const _0x15cbca={};_0x15cbca[_0x168d96(0x143)]=_0x1c7cfd[_0x168d96(0x149)],_0x15cbca[_0x168d96(0xaf)]=_0x1c7cfd[_0x168d96(0x8d)];const _0x43621d={};_0x43621d[_0x168d96(0x143)]=_0x1c7cfd[_0x168d96(0xc5)],_0x43621d['type']=_0x1c7cfd[_0x168d96(0x8d)];const _0x24f79c={};_0x24f79c[_0x168d96(0x143)]=_0x1c7cfd[_0x168d96(0xa2)],_0x24f79c['type']=_0x1c7cfd[_0x168d96(0x8d)];const _0x1afebf={};_0x1afebf[_0x168d96(0x143)]=_0x1c7cfd[_0x168d96(0xec)],_0x1afebf[_0x168d96(0xaf)]=_0x1c7cfd[_0x168d96(0x8d)];const _0x4d39f7={};return _0x4d39f7[_0x168d96(0x74)]=_0x15cbca,_0x4d39f7[_0x168d96(0x6c)]=_0x43621d,_0x4d39f7[_0x168d96(0xc6)]=_0x24f79c,_0x4d39f7[_0x168d96(0x152)]=_0x1afebf,_0x2e8d86[_0x168d96(0xde)](_0x34308a[_0x168d96(0x103)])[_0x168d96(0xe7)](_0x2a207b)[_0x168d96(0x96)](_0x4d39f7)['help'](_0x1c7cfd[_0x168d96(0x165)])['argv'];}else _0x4ebf6d[_0x168d96(0x172)](_0x1c7cfd[_0x168d96(0x157)]);};!_0x3f68aa[_0x168d96(0x163)]&&(_0x1c7cfd[_0x168d96(0xb9)](_0x1c7cfd['gwIgY'],_0x1c7cfd[_0x168d96(0xe9)])?_0x1876b6[_0x168d96(0xe3)]('error\x20stack\x20:\x20'+_0x5bc33c[_0x168d96(0xe3)][_0x168d96(0xf4)]):_0x4ebf6d[_0x168d96(0x172)](_0x1c7cfd[_0x168d96(0x156)]));;if(!_0x3f68aa[_0x168d96(0xc6)]){if(_0x1c7cfd[_0x168d96(0x12f)](_0x1c7cfd[_0x168d96(0x11e)],_0x1c7cfd[_0x168d96(0x11e)])){const _0x3fc621={};_0x3fc621[_0x168d96(0xaf)]=_0x3f9bcf[_0x168d96(0xdb)],_0x3fc621[_0x168d96(0xf0)]=_0xe07a0f,_0x842bc7[_0x168d96(0xd9)](_0x49a678,_0x3fc621,_0x1c7cfd['Lxaqw'],!![]);}else _0x4ebf6d['push'](_0x1c7cfd['JDBrT']);};_0x1c7cfd[_0x168d96(0x140)](_0x4ebf6d['length'],0x0)&&(_0x1c7cfd[_0x168d96(0x12f)](_0x1c7cfd[_0x168d96(0x88)],_0x1c7cfd[_0x168d96(0x88)])?(_0x1d317d[_0x168d96(0xfb)](_0x168d96(0x81)+_0x19ecaa[_0x168d96(0x148)]+'\x20'),_0x226d25[_0x168d96(0x163)]=_0x57b7a2[_0x168d96(0x148)]):(_0x49c371=_0x168d96(0xcd)+_0x4ebf6d[_0x168d96(0x70)](',\x20')+_0x168d96(0x6a),await _0x1c7cfd[_0x168d96(0x101)](reportToGalactusAndSendToEDS,_0x3f68aa,_0xa70e39,_0x49c371,messageTypes[_0x168d96(0x98)],_0x1c7cfd[_0x168d96(0x150)],_0x1c7cfd[_0x168d96(0xe5)],_0x1c7cfd[_0x168d96(0x6e)]),logger[_0x168d96(0xe3)](_0x49c371),process[_0x168d96(0x106)](0x1)));if(!ALL_SUPPORTED_CLOUD_PROVIDERS[_0x168d96(0x11b)](_0x3f68aa[_0x168d96(0x163)][_0x168d96(0x12a)]())){if(_0x1c7cfd[_0x168d96(0x87)](_0x1c7cfd[_0x168d96(0xf6)],_0x1c7cfd['hlnQQ']))_0x49c371=_0x1c7cfd[_0x168d96(0xf8)],await _0x1c7cfd[_0x168d96(0x7a)](reportToGalactusAndSendToEDS,_0x3f68aa,_0xa70e39,_0x49c371,messageTypes[_0x168d96(0x98)],_0x1c7cfd[_0x168d96(0x150)],_0x1c7cfd[_0x168d96(0x164)],_0x1c7cfd[_0x168d96(0x6e)]),logger['error'](_0x49c371),!_0x3f68aa[_0x168d96(0x163)]&&(_0x1c7cfd[_0x168d96(0x87)](_0x1c7cfd['NDdmn'],_0x1c7cfd[_0x168d96(0x135)])?_0x12660a['info'](_0x168d96(0x136)+_0x2b2c2e[_0x168d96(0xb8)]+_0x168d96(0xdd)):(logger[_0x168d96(0xfb)](_0x168d96(0x81)+DEFAULT_CLUSTER_DETAILS[_0x168d96(0x148)]+'\x20'),_0x3f68aa[_0x168d96(0x163)]=DEFAULT_CLUSTER_DETAILS['CLOUD_PROVIDER']));else{const {header:_0x3daab9,response:_0xe67820}=_0x11a024,{status:_0x3d7def,data:_0x5db828,error:_0x3512bf}=_0xe67820;_0x1f2fd8+=_0x3daab9+'\x20#'+_0x1c7cfd[_0x168d96(0xcc)](_0x586580,0x1)+'\x0a',_0x26397e+=_0x168d96(0xbf)+(_0x3d7def?_0x1c7cfd['SWhqD']:_0x1c7cfd['BTIpd'])+'\x0a',_0x225f0d+='Message:\x20'+_0x1c7cfd[_0x168d96(0x13f)](_0x5db828,_0x1c7cfd[_0x168d96(0x71)])+'\x0a',_0x3512bf&&(_0x1a7f8e+=_0x1c7cfd['Npclz'],_0x28d969+=_0x168d96(0x10c)+(_0x3512bf[_0x168d96(0xf0)]||_0x1c7cfd[_0x168d96(0x71)])+'\x0a',_0x4c45cf+=_0x168d96(0x121)+(_0x3512bf[_0x168d96(0x89)]||_0x1c7cfd[_0x168d96(0x71)])+'\x0a',_0x26db9e+=_0x168d96(0xb6)+(_0x3512bf['stack']||_0x1c7cfd[_0x168d96(0x71)])+'\x0a'),_0x26a1cd+='\x0a\x0a';}}global_registry[_0x168d96(0xb8)]=_0x3f68aa[_0x168d96(0xb8)],global_registry[_0x168d96(0x163)]=_0x3f68aa[_0x168d96(0x163)],global_registry[_0x168d96(0xa8)]=_0x3f68aa[_0x168d96(0xc6)];}}else{if(_0x3f68aa[_0x168d96(0x116)]){if(_0x1c7cfd[_0x168d96(0x131)](_0x1c7cfd['yvtwb'],_0x1c7cfd[_0x168d96(0x15f)]))_0x59a6e5=_0x19b56a;else{global_registry[_0x168d96(0x116)]=_0x3f68aa['gridProfile'],logger[_0x168d96(0xc8)](_0x168d96(0x7b)+_0x3f68aa[_0x168d96(0x116)]);const _0x4728e0=_0x168d96(0x153)+AG_API_URL+_0x168d96(0xd5),_0x231ac7={};_0x231ac7['method']=_0x1c7cfd[_0x168d96(0x84)],_0x231ac7[_0x168d96(0x16f)]=global_registry[_0x168d96(0x158)],_0x231ac7[_0x168d96(0x171)]=![];const _0xc62a5a=_0x231ac7,_0xf05ca1=await _0x1c7cfd[_0x168d96(0x154)](got,_0x4728e0,_0xc62a5a),_0x24354f=await _0x1c7cfd[_0x168d96(0xb5)](responseValidation,_0xf05ca1,_0x1c7cfd[_0x168d96(0x115)],_0x1c7cfd[_0x168d96(0x14e)],_0x3f68aa,_0xa70e39);let _0x482849={};if(_0x1c7cfd[_0x168d96(0x87)](_0x24354f,0xc8)){if(_0x1c7cfd[_0x168d96(0x87)](_0x1c7cfd['FZWlq'],_0x1c7cfd[_0x168d96(0xfd)])){const _0x2a05f6=JSON[_0x168d96(0xbd)](_0xf05ca1[_0x168d96(0xf7)]),_0x4642e6=_0x2a05f6[_0x168d96(0xd0)](_0x2b491f=>_0x2b491f[_0x168d96(0xd4)]===_0x3f68aa[_0x168d96(0x116)])||null;_0x1c7cfd[_0x168d96(0x8f)](isUndefined,_0x4642e6)?_0x1c7cfd[_0x168d96(0x9b)](_0x1c7cfd['nUQmr'],_0x1c7cfd[_0x168d96(0x9a)])?(_0x49c371=_0x168d96(0xc2)+_0x3f68aa[_0x168d96(0x116)]+_0x168d96(0x16c),await _0x1c7cfd[_0x168d96(0x7a)](reportToGalactusAndSendToEDS,_0x3f68aa,_0xa70e39,_0x49c371,messageTypes[_0x168d96(0x98)],_0x1c7cfd[_0x168d96(0x150)],_0x1c7cfd[_0x168d96(0x161)],_0x1c7cfd['Lxaqw']),logger[_0x168d96(0xe3)](_0x49c371),process[_0x168d96(0x106)](0x1)):_0xde21d5[_0x168d96(0x172)](_0x1c7cfd[_0x168d96(0x157)]):_0x1c7cfd[_0x168d96(0x169)](_0x1c7cfd[_0x168d96(0x80)],_0x1c7cfd[_0x168d96(0x80)])?_0x482849=_0x4642e6:_0x4efb1d+=_0x168d96(0x90)+_0x6d62b1[_0x168d96(0xb8)]+'\x20'+(_0x3a9d11?_0x1c7cfd[_0x168d96(0x10b)]:_0x1c7cfd[_0x168d96(0x120)])+'\x0a\x0a';}else _0x5bdffc[_0x168d96(0x106)](0x1);}else _0x1c7cfd[_0x168d96(0x9b)](_0x1c7cfd[_0x168d96(0x100)],_0x1c7cfd['oGFel'])?process['exit'](0x1):(_0x39ad5a['error'](_0x1c7cfd['wsQaO']),_0x4c114c[_0x168d96(0x106)](0x1));const _0x5881b3={};_0x5881b3[_0x168d96(0xaf)]=WS_EVENTS[_0x168d96(0xdb)],_0x5881b3[_0x168d96(0xf0)]=_0x1c7cfd[_0x168d96(0x86)],webSocketUtils[_0x168d96(0xd9)](_0xa70e39,_0x5881b3),global_registry[_0x168d96(0x163)]=_0x482849[_0x168d96(0x163)],global_registry[_0x168d96(0xa8)]=_0x482849[_0x168d96(0xc6)],global_registry[_0x168d96(0xb8)]=_0x482849['clusterName'];}}else _0x1c7cfd['JspAC'](_0x1c7cfd[_0x168d96(0x91)],_0x1c7cfd[_0x168d96(0xfe)])?(logger[_0x168d96(0xe3)](_0x1c7cfd[_0x168d96(0x13e)]),process[_0x168d96(0x106)](0x1)):(_0x47671d+=_0x1c7cfd[_0x168d96(0xef)],_0x3b5a75+=_0x168d96(0x10c)+(_0x93481f[_0x168d96(0xf0)]||_0x1c7cfd[_0x168d96(0x71)])+'\x0a',_0x59b6e9+='\x20\x20Code:\x20'+(_0x287240[_0x168d96(0x89)]||_0x1c7cfd[_0x168d96(0x71)])+'\x0a',_0x36397f+=_0x168d96(0xb6)+(_0x3ad210[_0x168d96(0xf4)]||_0x1c7cfd['oHyDq'])+'\x0a');}}}catch(_0x1a49c4){_0x1c7cfd[_0x168d96(0x145)](_0x1c7cfd['kayHD'],_0x1c7cfd[_0x168d96(0x12e)])?_0x6eb10d[_0x168d96(0x172)](_0x1c7cfd[_0x168d96(0xd6)]):(_0x49c371=_0x168d96(0x162)+_0x1a49c4+':\x20'+_0x1a49c4[_0x168d96(0xf4)],logger[_0x168d96(0xe3)](_0x49c371),await _0x1c7cfd[_0x168d96(0x105)](reportToGalactusAndSendToEDS,_0x3f68aa,_0xa70e39,_0x49c371,messageTypes[_0x168d96(0x98)],_0x1c7cfd[_0x168d96(0x150)],_0x1c7cfd['WptZI'],_0x1c7cfd[_0x168d96(0x6e)]),process['exit'](0x1));}}function printResponse(_0x28fc26,_0x3db39b){const _0x4f00f8=a17_0x3ead22,_0x319cc6={};_0x319cc6['MlvBT']=_0x4f00f8(0x6c),_0x319cc6['XvhVr']=function(_0x1bd550,_0xa3dd95){return _0x1bd550!==_0xa3dd95;},_0x319cc6['cNXUh']=_0x4f00f8(0x14c);const _0x2dc008=_0x319cc6;logger['info']('['+_0x28fc26+_0x4f00f8(0xc0)+_0x3db39b['status']+_0x4f00f8(0xe4)+_0x3db39b[_0x4f00f8(0x95)]+_0x4f00f8(0xa7)+_0x3db39b[_0x4f00f8(0xe3)]),_0x3db39b[_0x4f00f8(0xe3)]&&(_0x2dc008[_0x4f00f8(0xa4)](_0x2dc008[_0x4f00f8(0xfc)],_0x2dc008[_0x4f00f8(0xfc)])?_0x585ba4[_0x4f00f8(0x172)](_0x2dc008[_0x4f00f8(0x8a)]):logger[_0x4f00f8(0xe3)](_0x4f00f8(0xb7)+_0x3db39b[_0x4f00f8(0xe3)][_0x4f00f8(0xf4)]));}function a17_0x47b3(){const _0xa06928=['cluster-check-failed-','mNVdC','tGcWC','ysWTr','toLowerCase','header','Browserstack','jdMAm','aVMFw','DxGyM','2740908JNdsyO','dpVym','BOJcw','stringify','Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','FVpVf','Cluster\x20`','UDcTM','PBVIU','getUTCMinutes','JsygQ','pre-check','mbXWN','4pBbiPs','wsQaO','oifVS','eYWDs','1003698yIsFPi','grid','description','wKdbx','rTgta','N/A','split','CLOUD_PROVIDER','wGdne','4|0|3|1|2','Mdyrp','FGnxI','110455ccBxbx','hzFGx','KUYmG','lTDTd','WebSocket','grid-profile','https://','GhHGK','YHePH','VasZg','TBwbS','authHeader','UYWFQ','Fdkxp','Pre-check\x20running\x20for\x20Cloud\x20-\x20','stack\x20trace\x20','Tool\x20Installed','handler','yvtwb','2221248NTErEK','GWlsT','Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20','cloudProvider','WptZI','FXCrz','joTOH','puzLL','init','TBZAv','kvwNx','21303MlQqZw','.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again','Inzcv','Success','headers','KdKmz','throwHttpErrors','push','.\x20Please\x20provide\x20all\x20required\x20arguments.','GET','cloud-provider','readFileSync','Lxaqw','DqBaW','join','oHyDq','fAbId','toolInstalledResp','cluster-name','reconnecting-websocket','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','password','\x20===\x0a\x0a','Failure','oFujz','grid\x20profile\x20flow\x20','mgArL','Error\x20Details:\x0a','is\x20already\x20present','builder','RoESL','Setting\x20cloud\x20provider\x20as\x20','../../utils/webSocketUtils','===\x20Precheck\x20Report\x20-\x20','JYYef','rikmI','aGurX','AMMfG','lfZHK','code','MlvBT','will\x20be\x20created','utf-8','trREn','ooVlH','RJhyF','Cluster\x20','tUQMk','User\x20Access','Whitelisted\x20browserstack','writeFileSync','data','options','LMTGt','ERROR','kEdGL','nUQmr','XuUjh','udzul','isTls1_2_SUPPORTED','hTXcx','getUTCFullYear','desc','<UsernamePlaceholder>','sLbiX','log/report_','XvhVr','.txt','tHBJC','\x20error\x20:\x20','clusterRegion','qRFpo','GGFzq','KpCNA','bstackAccesskey','MpFOy','EDbwk','type','`\x20is\x20present\x20in\x20region\x20`','dummy-grid','Failed\x20in\x20pre-check!\x20Error:\x20','urRIv','421145QGKgxk','NPtJr','\x20\x20Stack:\x20','error\x20stack\x20:\x20','clusterName','bXHDI','credential-not-found','response','lLwYE','parse','kIIUk','Status:\x20',']\x20status\x20:\x20','VDVYl','Invalid\x20input.\x20grid\x20profiles:\x20','INFO','<PasswordPlaceholder>','FKLRz','region','QZUBP','debug','replace','../../config/constants','pvOVv','zTjVr','Missing\x20required\x20arguments:\x20','uRiGb','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','find','../../cloudproviders/utils','string','14030yMkpRv','name','/packages/cli/get-all-grid-profiles','JDBrT','../../utils/utilityMethods','Tjyzm','sendEventToBackend','isClusterPresent','LOG','getUTCHours','`\x20already\x20exists','usage','qiNLe','TLSv1_2_client_method','../../utils/instrumentationUtils','16793hupuJh','error','\x20data\x20:\x20','gqsuF','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','epilogue','oavLw','gwIgY','delay','help','vCHGm','Message:\x20','xllpf','Npclz','message','Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','GIQuk','stack','uuid','hlnQQ','body','zMIHs','getUTCMonth','bstackUsername','info','cNXUh','FZWlq','uBckY','isTrialGridAccessible','oGFel','yStBG','SSL\x20Configured','pre_check','3208bYHBDd','ALFwd','exit','VtgRd','requestId','VMoqt','FAcMf','Usxxg','\x20\x20Message:\x20','status','kMXwS','pre-check-grid-called','sMEkH','username','cloud-provider-not-supported','VdYbc','sUTFO','Wxcvx','gridProfile','LyxVr','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','BelaY','accessResp','includes','wxrDR','CWLNM','AteVn','BKuIo','UuECG','\x20\x20Code:\x20','connectionTimeout','Grid\x20profile\x20fetched\x20for\x20pre-check','pre-check-grid-profile-empty','\x20details\x20cannot\x20be\x20fetched\x0a\x0a'];a17_0x47b3=function(){return _0xa06928;};return a17_0x47b3();}async function generateReport(_0x4de82c,_0x535991){const _0x385bad=a17_0x3ead22,_0x55592c={'Fdkxp':function(_0xe9fc9e,_0x218eb5){return _0xe9fc9e+_0x218eb5;},'YHePH':_0x385bad(0x16e),'kTGEv':'Failure','rikmI':function(_0xf449b3,_0x52d587){return _0xf449b3||_0x52d587;},'EDbwk':_0x385bad(0x146),'CWLNM':_0x385bad(0x7d),'kEdGL':'Cluster\x20details\x0a-----------------------\x0a','kvwNx':function(_0x8d2bc,_0x41658f){return _0x8d2bc!=_0x41658f;},'wxrDR':'is\x20already\x20present','MIFAo':_0x385bad(0x8b),'UDcTM':function(_0x6b06c4){return _0x6b06c4();}};let _0x1da7fc=_0x385bad(0x83)+global_registry['cloudProvider']+_0x385bad(0x78);return _0x4de82c['forEach']((_0x8a9494,_0x58741b)=>{const _0x532877=_0x385bad,{header:_0x5ac36c,response:_0x16fb43}=_0x8a9494,{status:_0x8b1554,data:_0x4e1814,error:_0x3a3af4}=_0x16fb43;_0x1da7fc+=_0x5ac36c+'\x20#'+_0x55592c[_0x532877(0x15a)](_0x58741b,0x1)+'\x0a',_0x1da7fc+=_0x532877(0xbf)+(_0x8b1554?_0x55592c[_0x532877(0x155)]:_0x55592c['kTGEv'])+'\x0a',_0x1da7fc+=_0x532877(0xed)+_0x55592c[_0x532877(0x85)](_0x4e1814,_0x55592c[_0x532877(0xae)])+'\x0a',_0x3a3af4&&(_0x1da7fc+=_0x55592c[_0x532877(0x11d)],_0x1da7fc+=_0x532877(0x10c)+(_0x3a3af4[_0x532877(0xf0)]||_0x55592c['EDbwk'])+'\x0a',_0x1da7fc+=_0x532877(0x121)+(_0x3a3af4[_0x532877(0x89)]||_0x55592c[_0x532877(0xae)])+'\x0a',_0x1da7fc+='\x20\x20Stack:\x20'+(_0x3a3af4[_0x532877(0xf4)]||_0x55592c[_0x532877(0xae)])+'\x0a'),_0x1da7fc+='\x0a\x0a';}),_0x1da7fc+=_0x55592c[_0x385bad(0x99)],_0x55592c[_0x385bad(0x16a)](_0x535991,null)?_0x1da7fc+=_0x385bad(0x90)+global_registry[_0x385bad(0xb8)]+'\x20'+(_0x535991?_0x55592c[_0x385bad(0x11c)]:_0x55592c['MIFAo'])+'\x0a\x0a':_0x1da7fc+=_0x385bad(0x90)+global_registry[_0x385bad(0xb8)]+_0x385bad(0x125),_0x1da7fc+=_0x55592c[_0x385bad(0x137)](getSystemMetaData),_0x1da7fc;};exports[a17_0x3ead22(0x15e)]=async function(_0x218974){const _0x3cd50c=a17_0x3ead22,_0x118f98={'hTXcx':function(_0x36bf06){return _0x36bf06();},'KpCNA':function(_0x5cb8b5){return _0x5cb8b5();},'bvlrG':_0x3cd50c(0x76),'pvOVv':function(_0x402470,_0x53664e,_0x1dff61,_0x4d93cb,_0x218161,_0x425c56,_0x63e6e,_0x36acc8){return _0x402470(_0x53664e,_0x1dff61,_0x4d93cb,_0x218161,_0x425c56,_0x63e6e,_0x36acc8);},'ooVlH':_0x3cd50c(0x10f),'BCBiP':_0x3cd50c(0xba),'Tjyzm':_0x3cd50c(0xe3),'sMEkH':function(_0x4dc17f,_0x22a49e,_0x328b5e,_0x4f295a,_0x57ee95,_0x551f5e,_0x2c26a5){return _0x4dc17f(_0x22a49e,_0x328b5e,_0x4f295a,_0x57ee95,_0x551f5e,_0x2c26a5);},'BelaY':function(_0x4434a1){return _0x4434a1();},'gBofq':_0x3cd50c(0xa1),'QZUBP':_0x3cd50c(0xc4),'VtgRd':function(_0xa29fbe,_0x7cfc76,_0x89ff6d){return _0xa29fbe(_0x7cfc76,_0x89ff6d);},'kMXwS':_0x3cd50c(0xb1),'puzLL':function(_0x1f2fc8,_0x27be9f,_0x4ae9b5){return _0x1f2fc8(_0x27be9f,_0x4ae9b5);},'JsygQ':_0x3cd50c(0x73),'GIQuk':_0x3cd50c(0x14a),'PBVIU':_0x3cd50c(0x11a),'sUTFO':function(_0x43c879){return _0x43c879();},'UYWFQ':function(_0x4d8bf4,_0x4c82a5,_0x4e03aa){return _0x4d8bf4(_0x4c82a5,_0x4e03aa);},'jdMAm':_0x3cd50c(0xff),'zShrf':function(_0x6fe2e9,_0x43382b){return _0x6fe2e9(_0x43382b);},'qiNLe':_0x3cd50c(0xe0),'qRFpo':_0x3cd50c(0x9d),'VMoqt':_0x3cd50c(0x15d),'fAbId':_0x3cd50c(0x92),'wKdbx':_0x3cd50c(0x93),'BOJcw':_0x3cd50c(0x102),'joTOH':function(_0x165f7e,_0x2a8039,_0x1c1a88){return _0x165f7e(_0x2a8039,_0x1c1a88);},'POCyO':function(_0x35ce71,_0x492815){return _0x35ce71+_0x492815;},'mbXWN':_0x3cd50c(0x8c),'xXaMy':'pre-check-failed'};let _0x266ab4,_0x5aaa74;try{global_registry[_0x3cd50c(0x108)]=_0x118f98[_0x3cd50c(0x9e)](uuidv4);!fs['existsSync'](_0x118f98[_0x3cd50c(0xab)](getCredentialsPath))&&(_0x5aaa74=_0x118f98['bvlrG'],logger[_0x3cd50c(0xe3)](_0x5aaa74),await _0x118f98[_0x3cd50c(0xcb)](reportToGalactusAndSendToEDS,_0x218974,_0x266ab4,_0x5aaa74,messageTypes['ERROR'],_0x118f98['ooVlH'],_0x118f98['BCBiP'],_0x118f98['Tjyzm']),process[_0x3cd50c(0x106)](0x1));_0x118f98[_0x3cd50c(0x110)](sendInstrumentationEvent,_0x218974,_0x118f98[_0x3cd50c(0x8e)],messageTypes[_0x3cd50c(0xc3)],null,null,_0x218974);const _0x4b5780=JSON[_0x3cd50c(0xbd)](fs[_0x3cd50c(0x6d)](_0x118f98[_0x3cd50c(0x119)](getCredentialsPath)));global_registry[_0x3cd50c(0xfa)]=_0x4b5780[_0x3cd50c(0x12c)]['username'],global_registry['bstackAccesskey']=_0x4b5780['Browserstack']['password'];const _0x2d7c10=WS_ENDPOINT[_0x3cd50c(0xc9)](_0x118f98['gBofq'],_0x4b5780[_0x3cd50c(0x12c)][_0x3cd50c(0x111)])[_0x3cd50c(0xc9)](_0x118f98[_0x3cd50c(0xc7)],_0x4b5780[_0x3cd50c(0x12c)][_0x3cd50c(0x77)]),_0x5c3bbb={};_0x5c3bbb[_0x3cd50c(0x151)]=ws,_0x5c3bbb[_0x3cd50c(0x122)]=0x36ee80,_0x266ab4=new ReconnectingWebSocket(_0x2d7c10,[],_0x5c3bbb),global_registry[_0x3cd50c(0x158)]=_0x118f98[_0x3cd50c(0x107)](getAuthHeader,global_registry[_0x3cd50c(0xfa)],global_registry[_0x3cd50c(0xac)]),await _0x118f98[_0x3cd50c(0x107)](inputValidation,_0x218974,_0x266ab4),logger[_0x3cd50c(0xfb)](_0x3cd50c(0x15b)+global_registry[_0x3cd50c(0x163)]+'\x20region\x20-\x20'+global_registry['clusterRegion']);let _0x3f37a1=await _0x118f98[_0x3cd50c(0x110)](getCloudProviderObjectWithOutInit,global_registry[_0x3cd50c(0x163)],global_registry[_0x3cd50c(0xb8)],_0x118f98[_0x3cd50c(0x10e)],_0x266ab4,webSocketUtils,_0x218974);const _0x57db7b=await _0x3f37a1['isCliToolInstalled']();_0x118f98[_0x3cd50c(0x167)](printResponse,_0x118f98[_0x3cd50c(0x13a)],_0x57db7b),_0x3f37a1=await _0x3f37a1[_0x3cd50c(0x168)]();let _0x445fe5=![];try{_0x445fe5=await _0x3f37a1[_0x3cd50c(0xda)]();}catch(_0x51767e){const _0x38c094=_0x118f98[_0x3cd50c(0xf3)][_0x3cd50c(0x147)]('|');let _0x12d15a=0x0;while(!![]){switch(_0x38c094[_0x12d15a++]){case'0':_0x445fe5=null;continue;case'1':_0x5aaa74+='\x0a'+JSON[_0x3cd50c(0x133)](_0x51767e['stack']);continue;case'2':await _0x118f98['pvOVv'](reportToGalactusAndSendToEDS,_0x218974,_0x266ab4,_0x5aaa74,messageTypes[_0x3cd50c(0x98)],_0x118f98[_0x3cd50c(0x8e)],_0x3cd50c(0x126)+global_registry[_0x3cd50c(0x163)],_0x118f98['Tjyzm']);continue;case'3':logger[_0x3cd50c(0xe3)](_0x5aaa74);continue;case'4':_0x5aaa74='unable\x20to\x20verify\x20if\x20cluster\x20`'+global_registry[_0x3cd50c(0xb8)]+_0x3cd50c(0xb0)+global_registry['clusterRegion']+'`\x20,error\x20:\x20'+_0x51767e;continue;}break;}}_0x445fe5&&logger[_0x3cd50c(0xfb)](_0x3cd50c(0x136)+global_registry[_0x3cd50c(0xb8)]+_0x3cd50c(0xdd));const _0x4209f0=await _0x3f37a1['checkAccess']();_0x118f98[_0x3cd50c(0x107)](printResponse,_0x118f98[_0x3cd50c(0x138)],_0x4209f0);const _0x427e29=await _0x118f98[_0x3cd50c(0x114)](curlRequest);_0x118f98[_0x3cd50c(0x159)](printResponse,_0x118f98[_0x3cd50c(0x12d)],_0x427e29);const _0x4706f0=await _0x118f98['zShrf'](isTlsSupported,_0x118f98[_0x3cd50c(0xdf)]);_0x118f98[_0x3cd50c(0x159)](printResponse,_0x118f98[_0x3cd50c(0xa9)],_0x4706f0);const _0x41aeaa={};_0x41aeaa['header']=_0x118f98[_0x3cd50c(0x109)],_0x41aeaa['response']=_0x57db7b;const _0x31a80d={};_0x31a80d[_0x3cd50c(0x12b)]=_0x118f98[_0x3cd50c(0x72)],_0x31a80d[_0x3cd50c(0xbb)]=_0x4209f0;const _0xe21d1b={};_0xe21d1b[_0x3cd50c(0x12b)]=_0x118f98[_0x3cd50c(0x144)],_0xe21d1b[_0x3cd50c(0xbb)]=_0x427e29;const _0x1f1d7d={};_0x1f1d7d[_0x3cd50c(0x12b)]=_0x118f98[_0x3cd50c(0x132)],_0x1f1d7d['response']=_0x4706f0;const _0x39729b=[_0x41aeaa,_0x31a80d,_0xe21d1b,_0x1f1d7d],_0x5e959d=await _0x118f98[_0x3cd50c(0x166)](generateReport,_0x39729b,_0x445fe5),_0xde07bb=new Date(),_0x4c584c=_0xde07bb[_0x3cd50c(0x9f)]()+'_'+_0x118f98['POCyO'](_0xde07bb[_0x3cd50c(0xf9)](),0x1)+'_'+_0xde07bb['getUTCDate']()+'_'+_0xde07bb[_0x3cd50c(0xdc)]()+'_'+_0xde07bb[_0x3cd50c(0x139)](),_0x23d62d=_0x3cd50c(0xa3)+_0x4c584c+_0x3cd50c(0xa5);fs[_0x3cd50c(0x94)](_0x23d62d,_0x5e959d,_0x118f98[_0x3cd50c(0x13c)]),logger[_0x3cd50c(0xfb)]('Report\x20saved\x20in\x20'+_0x23d62d),process['exit'](0x0);}catch(_0x2283d4){let _0x218e9a=_0x3cd50c(0xb2)+_0x2283d4+'\x20';logger[_0x3cd50c(0xe3)](_0x218e9a),_0x218e9a+='\x0a'+JSON[_0x3cd50c(0x133)](_0x2283d4[_0x3cd50c(0xf4)]),logger[_0x3cd50c(0xc8)](_0x3cd50c(0x15c)+_0x2283d4[_0x3cd50c(0xf4)]);if(_0x266ab4){const _0x223089={};_0x223089[_0x3cd50c(0xaf)]=WS_EVENTS[_0x3cd50c(0xdb)],_0x223089[_0x3cd50c(0xf0)]=_0x218e9a,webSocketUtils['sendEventToBackend'](_0x266ab4,_0x223089,_0x118f98[_0x3cd50c(0xd8)],!![]);}await webSocketUtils[_0x3cd50c(0xea)](0x7d0);const _0x4374df={};_0x4374df['error']=_0x218e9a,await _0x118f98['sMEkH'](sendInstrumentationEvent,_0x218974,_0x118f98[_0x3cd50c(0x8e)],messageTypes[_0x3cd50c(0x98)],_0x118f98['xXaMy'],_0x4374df,_0x218974),process[_0x3cd50c(0x106)](0x1);}};