const a17_0x5c75fc=a17_0x4d29;(function(_0x100847,_0x1dadf2){const _0x39041e=a17_0x4d29,_0x2c6a46=_0x100847();while(!![]){try{const _0xe11847=parseInt(_0x39041e(0x147))/0x1*(-parseInt(_0x39041e(0x1d9))/0x2)+parseInt(_0x39041e(0x1b1))/0x3*(-parseInt(_0x39041e(0x14b))/0x4)+parseInt(_0x39041e(0xf0))/0x5+-parseInt(_0x39041e(0x154))/0x6*(-parseInt(_0x39041e(0x17b))/0x7)+-parseInt(_0x39041e(0x1d5))/0x8+parseInt(_0x39041e(0x134))/0x9*(parseInt(_0x39041e(0x183))/0xa)+parseInt(_0x39041e(0x1b6))/0xb;if(_0xe11847===_0x1dadf2)break;else _0x2c6a46['push'](_0x2c6a46['shift']());}catch(_0x32108f){_0x2c6a46['push'](_0x2c6a46['shift']());}}}(a17_0x1a36,0x43ec8));const fs=require('fs'),ws=require('ws'),got=require(a17_0x5c75fc(0x1be)),{v4:uuidv4}=require(a17_0x5c75fc(0x1cf)),ReconnectingWebSocket=require(a17_0x5c75fc(0x131)),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require(a17_0x5c75fc(0x117)),{logger}=require(a17_0x5c75fc(0x1c8)),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require('../../config/constants'),{getCloudProviderObjectWithOutInit}=require('../../cloudproviders/utils'),webSocketUtils=require(a17_0x5c75fc(0x142)),{sendInstrumentationEvent}=require(a17_0x5c75fc(0x18e));exports['command']='grid',exports[a17_0x5c75fc(0x135)]=a17_0x5c75fc(0x102),exports[a17_0x5c75fc(0x185)]=function(_0x148f17){const _0x3c9e81=a17_0x5c75fc,_0x1338da={};_0x1338da[_0x3c9e81(0x133)]='Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.',_0x1338da[_0x3c9e81(0x10b)]=_0x3c9e81(0x1dc),_0x1338da[_0x3c9e81(0x170)]='Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.',_0x1338da['FFDXW']='Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.',_0x1338da['eyJoW']=_0x3c9e81(0x119),_0x1338da['icGUs']=_0x3c9e81(0x1c1);const _0x599daf=_0x1338da,_0x4e041c={};_0x4e041c[_0x3c9e81(0x12e)]=_0x599daf[_0x3c9e81(0x133)],_0x4e041c[_0x3c9e81(0xf5)]=_0x599daf[_0x3c9e81(0x10b)];const _0x5e1689={};_0x5e1689[_0x3c9e81(0x12e)]=_0x599daf['fJSVh'],_0x5e1689[_0x3c9e81(0xf5)]=_0x599daf[_0x3c9e81(0x10b)];const _0x118e41={};_0x118e41[_0x3c9e81(0x12e)]=_0x599daf[_0x3c9e81(0x189)],_0x118e41[_0x3c9e81(0xf5)]=_0x599daf[_0x3c9e81(0x10b)];const _0x56c759={};_0x56c759[_0x3c9e81(0x12e)]=_0x599daf[_0x3c9e81(0x136)],_0x56c759['type']=_0x599daf['ImFsy'];const _0x3bd583={};return _0x3bd583[_0x3c9e81(0x19a)]=_0x4e041c,_0x3bd583[_0x3c9e81(0x139)]=_0x5e1689,_0x3bd583[_0x3c9e81(0x1a3)]=_0x118e41,_0x3bd583[_0x3c9e81(0x1ed)]=_0x56c759,_0x148f17[_0x3c9e81(0x191)](HELP_HEADER_MESSAGE[_0x3c9e81(0x1e4)])[_0x3c9e81(0x13f)](HELP_FOOTER_MESSAGE)['options'](_0x3bd583)[_0x3c9e81(0x1c1)](_0x599daf[_0x3c9e81(0x15b)])[_0x3c9e81(0x110)];};async function inputValidation(_0x1dcecb,_0xd40369){const _0xa26bac=a17_0x5c75fc,_0x3e66d6={'KoIoU':_0xa26bac(0x19a),'KzyPy':_0xa26bac(0x1b5),'Flssp':_0xa26bac(0x139),'kskBp':_0xa26bac(0x169),'aBihe':_0xa26bac(0x188),'FWmYD':_0xa26bac(0x1ba),'pMUKq':'string','GPwwJ':_0xa26bac(0x12d),'vZeEI':_0xa26bac(0x104),'epuAd':'Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','WjHoS':_0xa26bac(0x1c1),'geouc':'region','WIHfg':_0xa26bac(0x105),'BkxKX':function(_0x15f3ff,_0x5c0f6a){return _0x15f3ff+_0x5c0f6a;},'lKbPC':_0xa26bac(0x19f),'efMNK':'Failure','vHxRm':function(_0x15161b,_0x2846e2){return _0x15161b||_0x2846e2;},'YbrNk':'N/A','qYnIP':_0xa26bac(0x1cd),'qFFig':function(_0x1f9959,_0x184ce2){return _0x1f9959===_0x184ce2;},'sgjRi':_0xa26bac(0x1cb),'ApRKk':function(_0x490f3c,_0x2d2ef5){return _0x490f3c!==_0x2d2ef5;},'DMfmJ':_0xa26bac(0x1da),'gXdFZ':'ExqYF','FQHEj':_0xa26bac(0x1a9),'FGGso':'BvYVK','pEgVl':function(_0x590866,_0x4808d6){return _0x590866!==_0x4808d6;},'VgQDF':_0xa26bac(0x148),'iEhlA':_0xa26bac(0x180),'LUbjd':function(_0x21af00,_0x5109e1){return _0x21af00>_0x5109e1;},'aDQTH':'Snpnm','mpogn':_0xa26bac(0x11d),'LumUQ':function(_0x41ee30,_0x1c40a9,_0x5754de,_0x497123,_0x5c5c17,_0x155488,_0x5a221b,_0x409085){return _0x41ee30(_0x1c40a9,_0x5754de,_0x497123,_0x5c5c17,_0x155488,_0x5a221b,_0x409085);},'eCEZV':_0xa26bac(0x184),'oFRQW':_0xa26bac(0x196),'AQbwj':_0xa26bac(0x155),'XaxUb':_0xa26bac(0x126),'xYARM':function(_0x2df08e,_0x374c1c,_0x10147e,_0xc7b06e,_0x554257,_0x30a6b5,_0x5c8645,_0x4deb59){return _0x2df08e(_0x374c1c,_0x10147e,_0xc7b06e,_0x554257,_0x30a6b5,_0x5c8645,_0x4deb59);},'fiYbl':'cloud-provider-not-supported','LVqmC':function(_0x5d055a,_0x2453c2){return _0x5d055a!==_0x2453c2;},'iFTrr':_0xa26bac(0x11c),'CsgvM':'kfrvu','gJXyd':_0xa26bac(0x10a),'fhwzr':_0xa26bac(0x18d),'EQFjG':function(_0x5ef58c,_0x3d0a92,_0x3be67c){return _0x5ef58c(_0x3d0a92,_0x3be67c);},'qttxs':function(_0x5b883c,_0x3519c2,_0x16b612,_0xa0795a,_0x2cfb34,_0x263990){return _0x5b883c(_0x3519c2,_0x16b612,_0xa0795a,_0x2cfb34,_0x263990);},'IBKwp':_0xa26bac(0x165),'aNvtv':_0xa26bac(0x1ed),'UGosw':function(_0x5c4a83,_0xd12201){return _0x5c4a83===_0xd12201;},'HphWc':function(_0x402816,_0x54e388){return _0x402816===_0x54e388;},'LnLsW':'OanyS','soRUP':function(_0x69ebbe,_0x4b374c){return _0x69ebbe(_0x4b374c);},'OgfSD':function(_0x2c9c37,_0x5ca163){return _0x2c9c37===_0x5ca163;},'nUSxZ':_0xa26bac(0x178),'LRdsL':_0xa26bac(0x193),'xqJrq':_0xa26bac(0x172),'GfNpK':_0xa26bac(0x195),'zaUhz':_0xa26bac(0x1e9),'kdfRb':_0xa26bac(0x15d),'zSlWw':_0xa26bac(0x12c),'Gopal':_0xa26bac(0x1de),'xkpGX':'iUuAJ','Afxqd':_0xa26bac(0x1b9),'hGejq':'irHil','Cqjqh':_0xa26bac(0x1e5)};let _0x209c3d;try{if(_0x3e66d6[_0xa26bac(0xf9)](_0x3e66d6[_0xa26bac(0x176)],_0x3e66d6[_0xa26bac(0x176)])){if(_0x1dcecb['clusterName']||_0x1dcecb[_0xa26bac(0x157)]||_0x1dcecb[_0xa26bac(0x1a3)]){if(_0x3e66d6[_0xa26bac(0x1dd)](_0x3e66d6['DMfmJ'],_0x3e66d6[_0xa26bac(0x10c)]))_0xb8c3e2[_0xa26bac(0x137)]('['+_0x365bb6+_0xa26bac(0xf4)+_0x6f3dbd[_0xa26bac(0x140)]+_0xa26bac(0x151)+_0x1c14b5[_0xa26bac(0x1a1)]+_0xa26bac(0x16d)+_0x4c4cea['error']),_0x268e92[_0xa26bac(0x1b5)]&&_0x2e116c[_0xa26bac(0x1b5)](_0xa26bac(0x100)+_0x252207['error'][_0xa26bac(0x11b)]);else{const _0x482572=[];!_0x1dcecb[_0xa26bac(0x194)]&&(_0x3e66d6[_0xa26bac(0x1dd)](_0x3e66d6[_0xa26bac(0x177)],_0x3e66d6[_0xa26bac(0x11a)])?_0x482572[_0xa26bac(0x1c7)](_0x3e66d6[_0xa26bac(0x1df)]):_0xd2b62f[_0xa26bac(0x1c7)](_0x3e66d6[_0xa26bac(0x1df)]));;if(!_0x1dcecb['cloudProvider']){if(_0x3e66d6['qFFig'](_0x3e66d6[_0xa26bac(0x15e)],_0x3e66d6[_0xa26bac(0x15e)]))_0x482572[_0xa26bac(0x1c7)](_0x3e66d6[_0xa26bac(0x16f)]);else{const _0x30e226={};_0x30e226[_0xa26bac(0xf5)]=_0x45f714[_0xa26bac(0x1ac)],_0x30e226[_0xa26bac(0x15a)]=_0xc09940,_0xd07350[_0xa26bac(0x146)](_0x4efe18,_0x30e226,_0x3e66d6['KzyPy'],!![]);}};!_0x1dcecb[_0xa26bac(0x1a3)]&&(_0x3e66d6[_0xa26bac(0x106)](_0x3e66d6['VgQDF'],_0x3e66d6[_0xa26bac(0x162)])?_0x482572[_0xa26bac(0x1c7)](_0x3e66d6[_0xa26bac(0x11f)]):(_0x3880e4[_0xa26bac(0x137)](_0xa26bac(0x179)+_0x280f6f['CLOUD_PROVIDER']+'\x20'),_0xe859f8[_0xa26bac(0x157)]=_0x9547fb[_0xa26bac(0x1e2)]));;_0x3e66d6[_0xa26bac(0x174)](_0x482572[_0xa26bac(0x14d)],0x0)&&(_0x3e66d6['qFFig'](_0x3e66d6[_0xa26bac(0x1c2)],_0x3e66d6[_0xa26bac(0x19b)])?_0x4808a8[_0xa26bac(0x163)](0x1):(_0x209c3d='Missing\x20required\x20arguments:\x20'+_0x482572['join'](',\x20')+_0xa26bac(0x114),await _0x3e66d6[_0xa26bac(0x13b)](reportToGalactusAndSendToEDS,_0x1dcecb,_0xd40369,_0x209c3d,messageTypes[_0xa26bac(0x1b2)],_0x3e66d6[_0xa26bac(0x190)],_0x3e66d6[_0xa26bac(0x1e7)],_0x3e66d6[_0xa26bac(0x199)]),logger[_0xa26bac(0x1b5)](_0x209c3d),process[_0xa26bac(0x163)](0x1))),!ALL_SUPPORTED_CLOUD_PROVIDERS[_0xa26bac(0x1bd)](_0x1dcecb['cloudProvider'][_0xa26bac(0x111)]())&&(_0x3e66d6[_0xa26bac(0x106)](_0x3e66d6[_0xa26bac(0x1bb)],_0x3e66d6[_0xa26bac(0x1bb)])?_0x8919fb[_0xa26bac(0x1b5)](_0xa26bac(0x100)+_0x4586aa[_0xa26bac(0x1b5)][_0xa26bac(0x11b)]):(_0x209c3d=_0x3e66d6[_0xa26bac(0x115)],await _0x3e66d6[_0xa26bac(0x10d)](reportToGalactusAndSendToEDS,_0x1dcecb,_0xd40369,_0x209c3d,messageTypes[_0xa26bac(0x1b2)],_0x3e66d6['eCEZV'],_0x3e66d6[_0xa26bac(0x1ad)],_0x3e66d6[_0xa26bac(0x199)]),logger[_0xa26bac(0x1b5)](_0x209c3d),!_0x1dcecb['cloudProvider']&&(_0x3e66d6[_0xa26bac(0x15c)](_0x3e66d6[_0xa26bac(0x1b8)],_0x3e66d6[_0xa26bac(0x1b8)])?_0x175bf9['info'](_0xa26bac(0x108)+_0x3c98b7[_0xa26bac(0x194)]+_0xa26bac(0x101)):(logger[_0xa26bac(0x137)](_0xa26bac(0x179)+DEFAULT_CLUSTER_DETAILS[_0xa26bac(0x1e2)]+'\x20'),_0x1dcecb[_0xa26bac(0x157)]=DEFAULT_CLUSTER_DETAILS[_0xa26bac(0x1e2)])))),global_registry[_0xa26bac(0x194)]=_0x1dcecb['clusterName'],global_registry[_0xa26bac(0x157)]=_0x1dcecb[_0xa26bac(0x157)],global_registry[_0xa26bac(0x1c9)]=_0x1dcecb[_0xa26bac(0x1a3)];}}else{if(_0x1dcecb[_0xa26bac(0xfc)]){if(_0x3e66d6['qFFig'](_0x3e66d6[_0xa26bac(0x127)],_0x3e66d6['gJXyd']))_0x464023['push'](_0x3e66d6[_0xa26bac(0x16f)]);else{global_registry[_0xa26bac(0xfc)]=_0x1dcecb[_0xa26bac(0xfc)],logger[_0xa26bac(0x182)](_0xa26bac(0x14e)+_0x1dcecb[_0xa26bac(0xfc)]);const _0x37d86b=_0xa26bac(0xfe)+AG_API_URL+'/packages/cli/get-all-grid-profiles',_0xd69ba6={};_0xd69ba6['method']=_0x3e66d6[_0xa26bac(0x1ef)],_0xd69ba6['headers']=global_registry[_0xa26bac(0x123)],_0xd69ba6['throwHttpErrors']=![];const _0x5d64b8=_0xd69ba6,_0x57cc76=await _0x3e66d6[_0xa26bac(0x1d3)](got,_0x37d86b,_0x5d64b8),_0x1168a9=await _0x3e66d6[_0xa26bac(0x1e3)](responseValidation,_0x57cc76,_0x3e66d6[_0xa26bac(0x159)],_0x3e66d6['aNvtv'],_0x1dcecb,_0xd40369);let _0x32c9b8={};if(_0x3e66d6['UGosw'](_0x1168a9,0xc8)){if(_0x3e66d6['HphWc'](_0x3e66d6[_0xa26bac(0x1db)],_0x3e66d6['LnLsW'])){const _0x90e7cc=JSON[_0xa26bac(0x17d)](_0x57cc76['body']),_0x3eb3b3=_0x90e7cc[_0xa26bac(0x152)](_0x56322c=>_0x56322c[_0xa26bac(0x124)]===_0x1dcecb[_0xa26bac(0xfc)])||null;_0x3e66d6[_0xa26bac(0x181)](isUndefined,_0x3eb3b3)?_0x3e66d6['OgfSD'](_0x3e66d6[_0xa26bac(0x118)],_0x3e66d6[_0xa26bac(0x149)])?_0x329010+=_0xa26bac(0x1a7)+_0x38e722[_0xa26bac(0x194)]+'\x20details\x20cannot\x20be\x20fetched\x0a\x0a':(_0x209c3d=_0xa26bac(0x1a0)+_0x1dcecb['gridProfile']+_0xa26bac(0x1b7),await _0x3e66d6['xYARM'](reportToGalactusAndSendToEDS,_0x1dcecb,_0xd40369,_0x209c3d,messageTypes[_0xa26bac(0x1b2)],_0x3e66d6[_0xa26bac(0x190)],_0x3e66d6[_0xa26bac(0x167)],_0x3e66d6[_0xa26bac(0x199)]),logger[_0xa26bac(0x1b5)](_0x209c3d),process['exit'](0x1)):_0x3e66d6['HphWc'](_0x3e66d6['GfNpK'],_0x3e66d6[_0xa26bac(0x173)])?_0x5a4a49+=_0xa26bac(0x1a7)+_0x349a96['clusterName']+'\x20'+(_0x245da1?_0x3e66d6[_0xa26bac(0x17c)]:_0x3e66d6['aBihe'])+'\x0a\x0a':_0x32c9b8=_0x3eb3b3;}else{const _0x409f0f={};_0x409f0f[_0xa26bac(0x12e)]=_0x3e66d6[_0xa26bac(0x1a4)],_0x409f0f[_0xa26bac(0xf5)]=_0x3e66d6[_0xa26bac(0x128)];const _0x57a3a8={};_0x57a3a8[_0xa26bac(0x12e)]=_0x3e66d6[_0xa26bac(0x1e1)],_0x57a3a8[_0xa26bac(0xf5)]=_0x3e66d6['pMUKq'];const _0x3c2816={};_0x3c2816[_0xa26bac(0x12e)]=_0x3e66d6['vZeEI'],_0x3c2816[_0xa26bac(0xf5)]=_0x3e66d6[_0xa26bac(0x128)];const _0x34ecf9={};_0x34ecf9[_0xa26bac(0x12e)]=_0x3e66d6[_0xa26bac(0x18b)],_0x34ecf9[_0xa26bac(0xf5)]=_0x3e66d6[_0xa26bac(0x128)];const _0x24274c={};return _0x24274c[_0xa26bac(0x19a)]=_0x409f0f,_0x24274c[_0xa26bac(0x139)]=_0x57a3a8,_0x24274c['region']=_0x3c2816,_0x24274c['grid-profile']=_0x34ecf9,_0x4ab5df['usage'](_0x283299[_0xa26bac(0x1e4)])['epilogue'](_0x388b20)[_0xa26bac(0x1c6)](_0x24274c)[_0xa26bac(0x1c1)](_0x3e66d6['WjHoS'])[_0xa26bac(0x110)];}}else _0x3e66d6[_0xa26bac(0x1dd)](_0x3e66d6[_0xa26bac(0x1ae)],_0x3e66d6['zSlWw'])?process['exit'](0x1):_0x585f7e=_0x424765;const _0x478dd5={};_0x478dd5['type']=WS_EVENTS[_0xa26bac(0x1ac)],_0x478dd5[_0xa26bac(0x15a)]=_0x3e66d6[_0xa26bac(0x1b4)],webSocketUtils['sendEventToBackend'](_0xd40369,_0x478dd5),global_registry['cloudProvider']=_0x32c9b8[_0xa26bac(0x157)],global_registry[_0xa26bac(0x1c9)]=_0x32c9b8[_0xa26bac(0x1a3)],global_registry[_0xa26bac(0x194)]=_0x32c9b8[_0xa26bac(0x194)];}}else _0x3e66d6[_0xa26bac(0x1dd)](_0x3e66d6[_0xa26bac(0x143)],_0x3e66d6['Afxqd'])?(logger['error'](_0x3e66d6[_0xa26bac(0x1c0)]),process['exit'](0x1)):_0x2106fd[_0xa26bac(0x1c7)](_0x3e66d6[_0xa26bac(0x11f)]);}}else _0x4a5097[_0xa26bac(0x1b5)](_0x3e66d6['WIHfg']),_0x5c90eb[_0xa26bac(0x163)](0x1);}catch(_0x424b56){if(_0x3e66d6[_0xa26bac(0x164)](_0x3e66d6['hGejq'],_0x3e66d6['Cqjqh'])){const {header:_0x4b11e2,response:_0x409a56}=_0x58b0c9,{status:_0x4363f3,data:_0x4d09ff,error:_0x20abaf}=_0x409a56;_0x41a554+=_0x4b11e2+'\x20#'+_0x3e66d6[_0xa26bac(0x197)](_0x126dd6,0x1)+'\x0a',_0x4b4b29+=_0xa26bac(0x138)+(_0x4363f3?_0x3e66d6[_0xa26bac(0x14a)]:_0x3e66d6[_0xa26bac(0xff)])+'\x0a',_0x4be88d+=_0xa26bac(0x1ea)+_0x3e66d6[_0xa26bac(0x121)](_0x4d09ff,_0x3e66d6[_0xa26bac(0x1bf)])+'\x0a',_0x20abaf&&(_0x463140+=_0x3e66d6[_0xa26bac(0x14c)],_0x904d75+=_0xa26bac(0xf3)+(_0x20abaf[_0xa26bac(0x15a)]||_0x3e66d6[_0xa26bac(0x1bf)])+'\x0a',_0x3f9a40+=_0xa26bac(0x12a)+(_0x20abaf['code']||_0x3e66d6[_0xa26bac(0x1bf)])+'\x0a',_0x444ee5+=_0xa26bac(0x1e6)+(_0x20abaf[_0xa26bac(0x11b)]||_0x3e66d6['YbrNk'])+'\x0a'),_0x54a052+='\x0a\x0a';}else _0x209c3d=_0xa26bac(0x107)+_0x424b56+':\x20'+_0x424b56[_0xa26bac(0x11b)],logger[_0xa26bac(0x1b5)](_0x209c3d),await _0x3e66d6[_0xa26bac(0x10d)](reportToGalactusAndSendToEDS,_0x1dcecb,_0xd40369,_0x209c3d,messageTypes[_0xa26bac(0x1b2)],_0x3e66d6[_0xa26bac(0x190)],_0x3e66d6['fiYbl'],_0x3e66d6[_0xa26bac(0x199)]),process[_0xa26bac(0x163)](0x1);}}function a17_0x1a36(){const _0x4294d5=['name','1|4|0|2|3','Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','CsgvM','pMUKq','stack\x20trace\x20','\x20\x20Code:\x20','LRGCR','pRxuF','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','description','code','getUTCMinutes','reconnecting-websocket','hQPYJ','YWXUN','97164rpiPom','desc','eyJoW','info','Status:\x20','cloud-provider','<UsernamePlaceholder>','LumUQ','Failure','Report\x20saved\x20in\x20','taWTE','epilogue','status','GSZnB','../../utils/webSocketUtils','xkpGX','haUwS','isCliToolInstalled','sendEventToBackend','8592ResRVv','zWvSp','LRdsL','lKbPC','44mHXYtW','qYnIP','length','grid\x20profile\x20flow\x20','jcIni','Icdxc','\x20data\x20:\x20','find','cJNUD','3048aZFpYC','hEgfd','getUTCMonth','cloudProvider','SSL\x20Configured','IBKwp','message','icGUs','LVqmC','YdwlU','FGGso','GUZZm','checkAccess','aCUzR','iEhlA','exit','HphWc','pre-check','init','xqJrq','delay','is\x20already\x20present','WPHSO','existsSync','\x20===\x0a\x0a','\x20error\x20:\x20','split','Flssp','fJSVh','Kfirc','pre-check-grid-profile-empty','zaUhz','LUbjd','jUDOh','sgjRi','gXdFZ','bzSDY','Setting\x20cloud\x20provider\x20as\x20','getUTCDate','3031CWWSIj','kskBp','parse','pre-check-failed','OtnXC','rUFOg','soRUP','debug','450BbhJaz','pre-check-grid-called','builder','requestId','\x20region\x20-\x20','will\x20be\x20created','FFDXW','Vidja','epuAd','fnMyL','GET','../../utils/instrumentationUtils','stringify','eCEZV','usage','header','RpTqv','clusterName','OwpIU','pre-check-cluster-args-not-passed','BkxKX','qICOf','KzyPy','cluster-name','mpogn','utf-8','vBtTt','User\x20Access','Success','Invalid\x20input.\x20grid\x20profiles:\x20','data','obdTy','region','FWmYD','isTrialGridAccessible','toolInstalledResp','Cluster\x20','isTls1_2_SUPPORTED','QLktm','connectionTimeout','ssrQP','LOG','fiYbl','kdfRb','N/A','vXOMB','135834sbOHHU','ERROR','username','Gopal','error','5532978UAsKpm','.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again','iFTrr','YqLxF','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','AQbwj','Whitelisted\x20browserstack','includes','got','YbrNk','WIHfg','help','aDQTH','log/report_','.txt','writeFileSync','options','push','../../config/logger','clusterRegion','xMnAI','JMCEZ','IAmge','Error\x20Details:\x0a','REdaC','uuid','DvxTp','EJIcx','wdFFI','EQFjG','Cluster\x20details\x0a-----------------------\x0a','3163536JmNlNV','isClusterPresent','Gzebv','bstackAccesskey','42wukWRW','EelSI','LnLsW','string','ApRKk','Grid\x20profile\x20fetched\x20for\x20pre-check','KoIoU','xnvMT','GPwwJ','CLOUD_PROVIDER','qttxs','pre_check','ztMEj','\x20\x20Stack:\x20','oFRQW','Browserstack','MmFeJ','Message:\x20','replace','password','grid-profile','response','fhwzr','716830LfmEUb','NLTGS','forEach','\x20\x20Message:\x20',']\x20status\x20:\x20','type','GCdsJ','jAfOe','Tool\x20Installed','qFFig','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','RdCoE','gridProfile','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','https://','efMNK','error\x20stack\x20:\x20','`\x20already\x20exists','Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup','unable\x20to\x20verify\x20if\x20cluster\x20`','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','pEgVl','Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20','Cluster\x20`','`\x20is\x20present\x20in\x20region\x20`','IEsVS','ImFsy','DMfmJ','xYARM','DwmqR','cOkEJ','argv','toLowerCase','BazpT','readFileSync','.\x20Please\x20provide\x20all\x20required\x20arguments.','XaxUb','`\x20,error\x20:\x20','../../utils/utilityMethods','nUSxZ','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','FQHEj','stack','ueqvQ','rKHbE','LXagB','geouc','RYWqp','vHxRm','WebSocket','authHeader'];a17_0x1a36=function(){return _0x4294d5;};return a17_0x1a36();}function printResponse(_0x5cf5c2,_0x146619){const _0x5da91d=a17_0x5c75fc,_0x20f2ca={};_0x20f2ca['OwmcI']=_0x5da91d(0x1cd),_0x20f2ca[_0x5da91d(0x15f)]=_0x5da91d(0x1af),_0x20f2ca['jcIni']=function(_0x36cc5e,_0x5af92d){return _0x36cc5e===_0x5af92d;},_0x20f2ca[_0x5da91d(0x1b0)]=_0x5da91d(0x1ca);const _0x9b033a=_0x20f2ca;logger[_0x5da91d(0x137)]('['+_0x5cf5c2+_0x5da91d(0xf4)+_0x146619[_0x5da91d(0x140)]+'\x20data\x20:\x20'+_0x146619['data']+_0x5da91d(0x16d)+_0x146619[_0x5da91d(0x1b5)]),_0x146619[_0x5da91d(0x1b5)]&&(_0x9b033a[_0x5da91d(0x14f)](_0x9b033a[_0x5da91d(0x1b0)],_0x9b033a[_0x5da91d(0x1b0)])?logger['error'](_0x5da91d(0x100)+_0x146619[_0x5da91d(0x1b5)][_0x5da91d(0x11b)]):(_0x16ea1d+=_0x9b033a['OwmcI'],_0x332d43+=_0x5da91d(0xf3)+(_0x973aad[_0x5da91d(0x15a)]||_0x9b033a['GUZZm'])+'\x0a',_0x27ccf7+=_0x5da91d(0x12a)+(_0x25759c[_0x5da91d(0x12f)]||_0x9b033a[_0x5da91d(0x15f)])+'\x0a',_0x5016d0+=_0x5da91d(0x1e6)+(_0x232abe[_0x5da91d(0x11b)]||_0x9b033a[_0x5da91d(0x15f)])+'\x0a'));}async function generateReport(_0x203646,_0xf6e35a){const _0x177b0e=a17_0x5c75fc,_0x317027={'OtnXC':function(_0xe71d13,_0x7b9ddf){return _0xe71d13+_0x7b9ddf;},'xnvMT':'Success','cOkEJ':_0x177b0e(0x13c),'REdaC':function(_0x19a648,_0x24fff1){return _0x19a648||_0x24fff1;},'EJIcx':_0x177b0e(0x1af),'Icdxc':_0x177b0e(0x1cd),'jAfOe':_0x177b0e(0x1d4),'hQPYJ':function(_0x2d49f8,_0x51ad74){return _0x2d49f8!=_0x51ad74;},'svDeP':_0x177b0e(0x169),'Vidja':'will\x20be\x20created','GSZnB':function(_0xe066f2){return _0xe066f2();}};let _0x2fede1='===\x20Precheck\x20Report\x20-\x20'+global_registry['cloudProvider']+_0x177b0e(0x16c);return _0x203646[_0x177b0e(0xf2)]((_0x2ebf9d,_0x35dfad)=>{const _0x47f933=_0x177b0e,{header:_0x1cad5c,response:_0x30c4cd}=_0x2ebf9d,{status:_0x2fb0bf,data:_0x5168f0,error:_0x10f79f}=_0x30c4cd;_0x2fede1+=_0x1cad5c+'\x20#'+_0x317027[_0x47f933(0x17f)](_0x35dfad,0x1)+'\x0a',_0x2fede1+='Status:\x20'+(_0x2fb0bf?_0x317027[_0x47f933(0x1e0)]:_0x317027[_0x47f933(0x10f)])+'\x0a',_0x2fede1+=_0x47f933(0x1ea)+_0x317027[_0x47f933(0x1ce)](_0x5168f0,_0x317027['EJIcx'])+'\x0a',_0x10f79f&&(_0x2fede1+=_0x317027[_0x47f933(0x150)],_0x2fede1+=_0x47f933(0xf3)+(_0x10f79f[_0x47f933(0x15a)]||_0x317027[_0x47f933(0x1d1)])+'\x0a',_0x2fede1+=_0x47f933(0x12a)+(_0x10f79f[_0x47f933(0x12f)]||_0x317027[_0x47f933(0x1d1)])+'\x0a',_0x2fede1+=_0x47f933(0x1e6)+(_0x10f79f[_0x47f933(0x11b)]||_0x317027[_0x47f933(0x1d1)])+'\x0a'),_0x2fede1+='\x0a\x0a';}),_0x2fede1+=_0x317027[_0x177b0e(0xf7)],_0x317027[_0x177b0e(0x132)](_0xf6e35a,null)?_0x2fede1+='Cluster\x20'+global_registry[_0x177b0e(0x194)]+'\x20'+(_0xf6e35a?_0x317027['svDeP']:_0x317027[_0x177b0e(0x18a)])+'\x0a\x0a':_0x2fede1+=_0x177b0e(0x1a7)+global_registry[_0x177b0e(0x194)]+_0x177b0e(0xfa),_0x2fede1+=_0x317027[_0x177b0e(0x141)](getSystemMetaData),_0x2fede1;}function a17_0x4d29(_0x588fb1,_0x13f421){const _0x1a36bc=a17_0x1a36();return a17_0x4d29=function(_0x4d2934,_0x86dc99){_0x4d2934=_0x4d2934-0xf0;let _0x543aa5=_0x1a36bc[_0x4d2934];return _0x543aa5;},a17_0x4d29(_0x588fb1,_0x13f421);};exports['handler']=async function(_0x31f8ff){const _0x2632aa=a17_0x5c75fc,_0x375d17={'IAmge':function(_0x5a42a9){return _0x5a42a9();},'Kfirc':_0x2632aa(0xfd),'NLTGS':function(_0x2ad247,_0x5907d7,_0x130612,_0x3d097b,_0x3b3f4a,_0x5a6593,_0x2f0dd3,_0x282b71){return _0x2ad247(_0x5907d7,_0x130612,_0x3d097b,_0x3b3f4a,_0x5a6593,_0x2f0dd3,_0x282b71);},'RYWqp':_0x2632aa(0x184),'IwILl':'credential-not-found','jUDOh':_0x2632aa(0x1b5),'GCdsJ':function(_0x376222,_0x85a33c,_0x2fbbd8,_0x542cd6,_0x5049d4,_0x5d1632,_0x461c52){return _0x376222(_0x85a33c,_0x2fbbd8,_0x542cd6,_0x5049d4,_0x5d1632,_0x461c52);},'cJNUD':function(_0x23cfa5){return _0x23cfa5();},'qICOf':_0x2632aa(0x13a),'taWTE':'<PasswordPlaceholder>','wdFFI':function(_0x41e199,_0x50a5ad,_0xf1fc6e){return _0x41e199(_0x50a5ad,_0xf1fc6e);},'vBtTt':function(_0x1ff8fb,_0x734443,_0x3f5143){return _0x1ff8fb(_0x734443,_0x3f5143);},'LRGCR':'dummy-grid','WPHSO':function(_0x4c34ae,_0x2c7480,_0x3bb7de){return _0x4c34ae(_0x2c7480,_0x3bb7de);},'BazpT':_0x2632aa(0x1a6),'RAcxC':_0x2632aa(0x125),'aCUzR':function(_0x5e3123,_0xe62f7f,_0x5b4837){return _0x5e3123(_0xe62f7f,_0x5b4837);},'LXagB':'accessResp','DvxTp':function(_0x49721d){return _0x49721d();},'obdTy':function(_0x388d9d,_0x36d23f,_0x40a8e7){return _0x388d9d(_0x36d23f,_0x40a8e7);},'sefKI':_0x2632aa(0x1a5),'OhGFZ':function(_0x4cb414,_0x422178){return _0x4cb414(_0x422178);},'daLdy':'TLSv1_2_client_method','haUwS':_0x2632aa(0x1a8),'RdCoE':_0x2632aa(0xf8),'fDqdK':_0x2632aa(0x19e),'fnMyL':_0x2632aa(0x1bc),'DwmqR':_0x2632aa(0x158),'Gzebv':function(_0x52c86b,_0x331821){return _0x52c86b+_0x331821;},'ssrQP':_0x2632aa(0x19c),'WPWZz':_0x2632aa(0x17e)};let _0xf15cad,_0x3e2380;try{global_registry[_0x2632aa(0x186)]=_0x375d17[_0x2632aa(0x1cc)](uuidv4);!fs[_0x2632aa(0x16b)](_0x375d17[_0x2632aa(0x1cc)](getCredentialsPath))&&(_0x3e2380=_0x375d17[_0x2632aa(0x171)],logger[_0x2632aa(0x1b5)](_0x3e2380),await _0x375d17[_0x2632aa(0xf1)](reportToGalactusAndSendToEDS,_0x31f8ff,_0xf15cad,_0x3e2380,messageTypes['ERROR'],_0x375d17[_0x2632aa(0x120)],_0x375d17['IwILl'],_0x375d17[_0x2632aa(0x175)]),process[_0x2632aa(0x163)](0x1));_0x375d17[_0x2632aa(0xf6)](sendInstrumentationEvent,_0x31f8ff,_0x375d17[_0x2632aa(0x120)],messageTypes['INFO'],null,null,_0x31f8ff);const _0x1a96ad=JSON['parse'](fs[_0x2632aa(0x113)](_0x375d17[_0x2632aa(0x153)](getCredentialsPath)));global_registry['bstackUsername']=_0x1a96ad[_0x2632aa(0x1e8)][_0x2632aa(0x1b3)],global_registry[_0x2632aa(0x1d8)]=_0x1a96ad['Browserstack'][_0x2632aa(0x1ec)];const _0x1ec266=WS_ENDPOINT[_0x2632aa(0x1eb)](_0x375d17[_0x2632aa(0x198)],_0x1a96ad[_0x2632aa(0x1e8)][_0x2632aa(0x1b3)])[_0x2632aa(0x1eb)](_0x375d17[_0x2632aa(0x13e)],_0x1a96ad[_0x2632aa(0x1e8)]['password']),_0x4cc09a={};_0x4cc09a[_0x2632aa(0x122)]=ws,_0x4cc09a[_0x2632aa(0x1aa)]=0x36ee80,_0xf15cad=new ReconnectingWebSocket(_0x1ec266,[],_0x4cc09a),global_registry[_0x2632aa(0x123)]=_0x375d17[_0x2632aa(0x1d2)](getAuthHeader,global_registry['bstackUsername'],global_registry['bstackAccesskey']),await _0x375d17[_0x2632aa(0x19d)](inputValidation,_0x31f8ff,_0xf15cad),logger['info']('Pre-check\x20running\x20for\x20Cloud\x20-\x20'+global_registry['cloudProvider']+_0x2632aa(0x187)+global_registry[_0x2632aa(0x1c9)]);let _0x46d73a=await _0x375d17[_0x2632aa(0xf6)](getCloudProviderObjectWithOutInit,global_registry[_0x2632aa(0x157)],global_registry[_0x2632aa(0x194)],_0x375d17[_0x2632aa(0x12b)],_0xf15cad,webSocketUtils,_0x31f8ff);const _0x922d06=await _0x46d73a[_0x2632aa(0x145)]();_0x375d17['WPHSO'](printResponse,_0x375d17[_0x2632aa(0x112)],_0x922d06),_0x46d73a=await _0x46d73a[_0x2632aa(0x166)]();let _0x4a0005=![];try{_0x4a0005=await _0x46d73a[_0x2632aa(0x1d6)]();}catch(_0x430cbb){const _0x4303e0=_0x375d17['RAcxC'][_0x2632aa(0x16e)]('|');let _0x9763e0=0x0;while(!![]){switch(_0x4303e0[_0x9763e0++]){case'0':logger[_0x2632aa(0x1b5)](_0x3e2380);continue;case'1':_0x3e2380=_0x2632aa(0x103)+global_registry[_0x2632aa(0x194)]+_0x2632aa(0x109)+global_registry['clusterRegion']+_0x2632aa(0x116)+_0x430cbb;continue;case'2':_0x3e2380+='\x0a'+JSON[_0x2632aa(0x18f)](_0x430cbb[_0x2632aa(0x11b)]);continue;case'3':await _0x375d17['NLTGS'](reportToGalactusAndSendToEDS,_0x31f8ff,_0xf15cad,_0x3e2380,messageTypes[_0x2632aa(0x1b2)],_0x375d17[_0x2632aa(0x120)],'cluster-check-failed-'+global_registry[_0x2632aa(0x157)],_0x375d17[_0x2632aa(0x175)]);continue;case'4':_0x4a0005=null;continue;}break;}}_0x4a0005&&logger[_0x2632aa(0x137)](_0x2632aa(0x108)+global_registry[_0x2632aa(0x194)]+_0x2632aa(0x101));const _0x2b3b6e=await _0x46d73a[_0x2632aa(0x160)]();_0x375d17[_0x2632aa(0x161)](printResponse,_0x375d17[_0x2632aa(0x11e)],_0x2b3b6e);const _0x18ad96=await _0x375d17[_0x2632aa(0x1d0)](curlRequest);_0x375d17[_0x2632aa(0x1a2)](printResponse,_0x375d17['sefKI'],_0x18ad96);const _0x5dd4ae=await _0x375d17['OhGFZ'](isTlsSupported,_0x375d17['daLdy']);_0x375d17['wdFFI'](printResponse,_0x375d17[_0x2632aa(0x144)],_0x5dd4ae);const _0x566bf4={};_0x566bf4[_0x2632aa(0x192)]=_0x375d17[_0x2632aa(0xfb)],_0x566bf4[_0x2632aa(0x1ee)]=_0x922d06;const _0x4be47e={};_0x4be47e[_0x2632aa(0x192)]=_0x375d17['fDqdK'],_0x4be47e[_0x2632aa(0x1ee)]=_0x2b3b6e;const _0x3dabf6={};_0x3dabf6[_0x2632aa(0x192)]=_0x375d17[_0x2632aa(0x18c)],_0x3dabf6['response']=_0x18ad96;const _0x286306={};_0x286306[_0x2632aa(0x192)]=_0x375d17[_0x2632aa(0x10e)],_0x286306[_0x2632aa(0x1ee)]=_0x5dd4ae;const _0x1ce037=[_0x566bf4,_0x4be47e,_0x3dabf6,_0x286306],_0x3fb7cd=await _0x375d17[_0x2632aa(0x16a)](generateReport,_0x1ce037,_0x4a0005),_0x137788=new Date(),_0x32ffcf=_0x137788['getUTCFullYear']()+'_'+_0x375d17[_0x2632aa(0x1d7)](_0x137788[_0x2632aa(0x156)](),0x1)+'_'+_0x137788[_0x2632aa(0x17a)]()+'_'+_0x137788['getUTCHours']()+'_'+_0x137788[_0x2632aa(0x130)](),_0x5a0700=_0x2632aa(0x1c3)+_0x32ffcf+_0x2632aa(0x1c4);fs[_0x2632aa(0x1c5)](_0x5a0700,_0x3fb7cd,_0x375d17[_0x2632aa(0x1ab)]),logger[_0x2632aa(0x137)](_0x2632aa(0x13d)+_0x5a0700),process[_0x2632aa(0x163)](0x0);}catch(_0x549009){let _0x410a6c='Failed\x20in\x20pre-check!\x20Error:\x20'+_0x549009+'\x20';logger[_0x2632aa(0x1b5)](_0x410a6c),_0x410a6c+='\x0a'+JSON[_0x2632aa(0x18f)](_0x549009[_0x2632aa(0x11b)]),logger['debug'](_0x2632aa(0x129)+_0x549009[_0x2632aa(0x11b)]);if(_0xf15cad){const _0x6257b7={};_0x6257b7[_0x2632aa(0xf5)]=WS_EVENTS['LOG'],_0x6257b7[_0x2632aa(0x15a)]=_0x410a6c,webSocketUtils[_0x2632aa(0x146)](_0xf15cad,_0x6257b7,_0x375d17[_0x2632aa(0x175)],!![]);}await webSocketUtils[_0x2632aa(0x168)](0x7d0);const _0x3d2e59={};_0x3d2e59['error']=_0x410a6c,await _0x375d17[_0x2632aa(0xf6)](sendInstrumentationEvent,_0x31f8ff,_0x375d17[_0x2632aa(0x120)],messageTypes['ERROR'],_0x375d17['WPWZz'],_0x3d2e59,_0x31f8ff),process['exit'](0x1);}};