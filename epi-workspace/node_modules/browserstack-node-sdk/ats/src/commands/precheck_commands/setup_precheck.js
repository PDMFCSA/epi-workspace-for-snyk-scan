const a17_0x357d9e=a17_0x3d22;(function(_0x5e1597,_0x587e99){const _0x21a98a=a17_0x3d22,_0x18fbd2=_0x5e1597();while(!![]){try{const _0x417ba6=parseInt(_0x21a98a(0x2b5))/0x1+-parseInt(_0x21a98a(0x2ce))/0x2*(-parseInt(_0x21a98a(0x1e5))/0x3)+-parseInt(_0x21a98a(0x2c5))/0x4*(-parseInt(_0x21a98a(0x270))/0x5)+-parseInt(_0x21a98a(0x2a4))/0x6+parseInt(_0x21a98a(0x22f))/0x7*(-parseInt(_0x21a98a(0x206))/0x8)+parseInt(_0x21a98a(0x26a))/0x9+-parseInt(_0x21a98a(0x1f9))/0xa;if(_0x417ba6===_0x587e99)break;else _0x18fbd2['push'](_0x18fbd2['shift']());}catch(_0x3c4688){_0x18fbd2['push'](_0x18fbd2['shift']());}}}(a17_0x1736,0x6d14b));const fs=require('fs'),ws=require('ws'),got=require(a17_0x357d9e(0x2cc)),{v4:uuidv4}=require(a17_0x357d9e(0x21c)),ReconnectingWebSocket=require(a17_0x357d9e(0x246)),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require(a17_0x357d9e(0x268)),{logger}=require(a17_0x357d9e(0x21e)),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require(a17_0x357d9e(0x28d)),{getCloudProviderObjectWithOutInit}=require(a17_0x357d9e(0x208)),webSocketUtils=require(a17_0x357d9e(0x293)),{sendInstrumentationEvent}=require(a17_0x357d9e(0x2a3));exports[a17_0x357d9e(0x27a)]=a17_0x357d9e(0x26b),exports['desc']=a17_0x357d9e(0x201),exports[a17_0x357d9e(0x2b0)]=function(_0x2354d4){const _0x3f7317=a17_0x357d9e,_0x1452ba={};_0x1452ba[_0x3f7317(0x224)]='Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.',_0x1452ba[_0x3f7317(0x228)]=_0x3f7317(0x23b),_0x1452ba[_0x3f7317(0x21f)]=_0x3f7317(0x20d),_0x1452ba[_0x3f7317(0x2be)]=_0x3f7317(0x20e),_0x1452ba[_0x3f7317(0x25d)]='Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.',_0x1452ba['NQSwJ']=_0x3f7317(0x2d4);const _0x1de7b1=_0x1452ba,_0x119cea={};_0x119cea[_0x3f7317(0x29d)]=_0x1de7b1[_0x3f7317(0x224)],_0x119cea['type']=_0x1de7b1['Tsuxx'];const _0x4bcdb8={};_0x4bcdb8[_0x3f7317(0x29d)]=_0x1de7b1[_0x3f7317(0x21f)],_0x4bcdb8[_0x3f7317(0x265)]=_0x1de7b1[_0x3f7317(0x228)];const _0x5535a6={};_0x5535a6['description']=_0x1de7b1[_0x3f7317(0x2be)],_0x5535a6['type']=_0x1de7b1['Tsuxx'];const _0x425fb4={};_0x425fb4[_0x3f7317(0x29d)]=_0x1de7b1[_0x3f7317(0x25d)],_0x425fb4[_0x3f7317(0x265)]=_0x1de7b1[_0x3f7317(0x228)];const _0x135b2e={};return _0x135b2e[_0x3f7317(0x1e9)]=_0x119cea,_0x135b2e[_0x3f7317(0x2d0)]=_0x4bcdb8,_0x135b2e[_0x3f7317(0x28e)]=_0x5535a6,_0x135b2e[_0x3f7317(0x211)]=_0x425fb4,_0x2354d4[_0x3f7317(0x234)](HELP_HEADER_MESSAGE[_0x3f7317(0x254)])[_0x3f7317(0x269)](HELP_FOOTER_MESSAGE)['options'](_0x135b2e)[_0x3f7317(0x2d4)](_0x1de7b1[_0x3f7317(0x24f)])[_0x3f7317(0x2d1)];};function a17_0x3d22(_0x35a52f,_0x2c6a62){const _0x173681=a17_0x1736();return a17_0x3d22=function(_0x3d2236,_0x2e8395){_0x3d2236=_0x3d2236-0x1d9;let _0x32b863=_0x173681[_0x3d2236];return _0x32b863;},a17_0x3d22(_0x35a52f,_0x2c6a62);}async function inputValidation(_0x54a367,_0x2e032a){const _0x3a5e71=a17_0x357d9e,_0x427aff={'BDecB':_0x3a5e71(0x1dd),'qUtXI':_0x3a5e71(0x1d9),'PqwKJ':_0x3a5e71(0x284),'EGalS':_0x3a5e71(0x216),'dPMlX':_0x3a5e71(0x2d0),'UBcuH':_0x3a5e71(0x1e9),'KmLRq':_0x3a5e71(0x229),'sJUPP':_0x3a5e71(0x1f0),'PDavB':'region','VVxtz':_0x3a5e71(0x226),'XZEhE':_0x3a5e71(0x23b),'ybPzg':_0x3a5e71(0x20d),'SdOGc':_0x3a5e71(0x20e),'ixNgW':_0x3a5e71(0x214),'PURCP':_0x3a5e71(0x2d4),'dSgEv':function(_0x9d1999,_0x2b5b16){return _0x9d1999+_0x2b5b16;},'GcomJ':_0x3a5e71(0x2b4),'PXpCY':_0x3a5e71(0x29b),'KBdPu':function(_0x4e4588,_0x4421dd){return _0x4e4588||_0x4421dd;},'ffkfW':function(_0x2ffac7,_0x78fd9){return _0x2ffac7===_0x78fd9;},'yPnpa':'sBkZd','fecpZ':function(_0x19864f,_0x156ead){return _0x19864f!==_0x156ead;},'JVzMK':'WlCvn','xuBhu':function(_0x13177b,_0x22d7fb){return _0x13177b===_0x22d7fb;},'WCwFa':_0x3a5e71(0x288),'NFuiq':function(_0x4d7d63,_0x35dea0){return _0x4d7d63!==_0x35dea0;},'rhnVQ':_0x3a5e71(0x222),'tbtpQ':function(_0x37bf5f,_0x475225){return _0x37bf5f!==_0x475225;},'LdtXR':_0x3a5e71(0x207),'ZRFrV':_0x3a5e71(0x27c),'kbKvO':function(_0x232837,_0xe5aa85){return _0x232837>_0xe5aa85;},'ohdCj':function(_0x225248,_0x421b94){return _0x225248!==_0x421b94;},'YncaH':_0x3a5e71(0x257),'EyLuo':function(_0x1153fd,_0x133cca,_0x455690,_0x1bfd9e,_0x1a16a9,_0x5f27bd,_0x36d582,_0x3c7c92){return _0x1153fd(_0x133cca,_0x455690,_0x1bfd9e,_0x1a16a9,_0x5f27bd,_0x36d582,_0x3c7c92);},'AFlVb':'pre-check-grid-called','bOVMI':'pre-check-cluster-args-not-passed','MhonP':function(_0x4252bc,_0x15549a){return _0x4252bc===_0x15549a;},'brMgO':'AhuGR','YhzQo':'Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','oFGHo':_0x3a5e71(0x241),'qaAcc':'fLMdg','sTnZm':function(_0x40ac7c,_0x4903ce){return _0x40ac7c!==_0x4903ce;},'FCqrL':_0x3a5e71(0x23a),'XMANG':'GET','vZoYa':function(_0xb59cde,_0x10bcac,_0x20f28e){return _0xb59cde(_0x10bcac,_0x20f28e);},'kyBCM':function(_0x3c1448,_0x4dcace,_0x1a0f84,_0x13ad19,_0x3e966e,_0x1bef1d){return _0x3c1448(_0x4dcace,_0x1a0f84,_0x13ad19,_0x3e966e,_0x1bef1d);},'hcrhk':_0x3a5e71(0x2ca),'OLkvc':_0x3a5e71(0x211),'jDHFj':_0x3a5e71(0x1e7),'HYemY':_0x3a5e71(0x22c),'LyHnC':function(_0x292164,_0x387b3f){return _0x292164(_0x387b3f);},'roXXQ':function(_0x3df98d,_0x9b167){return _0x3df98d!==_0x9b167;},'wKwkn':_0x3a5e71(0x2a5),'tHFeZ':_0x3a5e71(0x2ab),'COiOP':function(_0x222d4a,_0x5ccad4,_0x2b394a,_0x426bc6,_0x2dfa45,_0x1ad42b,_0x57303d,_0x56eb3b){return _0x222d4a(_0x5ccad4,_0x2b394a,_0x426bc6,_0x2dfa45,_0x1ad42b,_0x57303d,_0x56eb3b);},'SqSAY':_0x3a5e71(0x1f4),'QYsci':function(_0x79ae48,_0x546c65){return _0x79ae48!==_0x546c65;},'cCpvR':_0x3a5e71(0x1ed),'sugTp':'GDfwK','nUPir':_0x3a5e71(0x21a),'ycnqY':'VaUOG','CWGEU':_0x3a5e71(0x2a9),'gnXFr':_0x3a5e71(0x2a8)};let _0x11973c;try{if(_0x427aff[_0x3a5e71(0x253)](_0x427aff['yPnpa'],_0x427aff[_0x3a5e71(0x2ac)])){if(_0x54a367[_0x3a5e71(0x218)]||_0x54a367[_0x3a5e71(0x28c)]||_0x54a367[_0x3a5e71(0x28e)]){if(_0x427aff[_0x3a5e71(0x250)](_0x427aff['JVzMK'],_0x427aff[_0x3a5e71(0x239)]))_0x49f957[_0x3a5e71(0x1d9)](_0x427aff[_0x3a5e71(0x21b)]),_0x86fb08[_0x3a5e71(0x2bc)](0x1);else{const _0x46a5fc=[];!_0x54a367[_0x3a5e71(0x218)]&&(_0x427aff[_0x3a5e71(0x205)](_0x427aff[_0x3a5e71(0x2c6)],_0x427aff[_0x3a5e71(0x2c6)])?_0x46a5fc[_0x3a5e71(0x2ad)](_0x427aff[_0x3a5e71(0x23e)]):_0x15f32f[_0x3a5e71(0x1d9)](_0x3a5e71(0x2d5)+_0x5b7d69[_0x3a5e71(0x1d9)][_0x3a5e71(0x23d)]));;!_0x54a367[_0x3a5e71(0x28c)]&&(_0x427aff[_0x3a5e71(0x200)](_0x427aff[_0x3a5e71(0x210)],_0x427aff['rhnVQ'])?(_0x5aa78a[_0x3a5e71(0x25e)]('['+_0x28ef50+_0x3a5e71(0x29e)+_0xbd3af5[_0x3a5e71(0x1e3)]+_0x3a5e71(0x1ee)+_0x1dcb1[_0x3a5e71(0x262)]+'\x20error\x20:\x20'+_0x502033[_0x3a5e71(0x1d9)]),_0x293efd[_0x3a5e71(0x1d9)]&&_0xa71f0e[_0x3a5e71(0x1d9)](_0x3a5e71(0x2d5)+_0x5902f1[_0x3a5e71(0x1d9)][_0x3a5e71(0x23d)])):_0x46a5fc[_0x3a5e71(0x2ad)](_0x427aff[_0x3a5e71(0x225)]));;if(!_0x54a367[_0x3a5e71(0x28e)]){if(_0x427aff[_0x3a5e71(0x233)](_0x427aff[_0x3a5e71(0x1e0)],_0x427aff[_0x3a5e71(0x28f)]))_0x46a5fc['push'](_0x427aff[_0x3a5e71(0x236)]);else{const _0x5b5a66={};_0x5b5a66[_0x3a5e71(0x265)]=_0x59a8d3[_0x3a5e71(0x27e)],_0x5b5a66[_0x3a5e71(0x223)]=_0xc3732d,_0x4ffcbc[_0x3a5e71(0x1ef)](_0x272d2d,_0x5b5a66,_0x427aff[_0x3a5e71(0x247)],!![]);}};_0x427aff[_0x3a5e71(0x291)](_0x46a5fc[_0x3a5e71(0x25b)],0x0)&&(_0x427aff[_0x3a5e71(0x2d3)](_0x427aff[_0x3a5e71(0x29f)],_0x427aff[_0x3a5e71(0x29f)])?(_0x5afe15['info'](_0x3a5e71(0x202)+_0x138dc7[_0x3a5e71(0x1db)]+'\x20'),_0xf9a881[_0x3a5e71(0x28c)]=_0x55ed58[_0x3a5e71(0x1db)]):(_0x11973c=_0x3a5e71(0x237)+_0x46a5fc[_0x3a5e71(0x2bd)](',\x20')+_0x3a5e71(0x2c9),await _0x427aff[_0x3a5e71(0x2af)](reportToGalactusAndSendToEDS,_0x54a367,_0x2e032a,_0x11973c,messageTypes['ERROR'],_0x427aff[_0x3a5e71(0x2ba)],_0x427aff[_0x3a5e71(0x240)],_0x427aff['qUtXI']),logger[_0x3a5e71(0x1d9)](_0x11973c),process['exit'](0x1))),!ALL_SUPPORTED_CLOUD_PROVIDERS[_0x3a5e71(0x261)](_0x54a367[_0x3a5e71(0x28c)][_0x3a5e71(0x23c)]())&&(_0x427aff['MhonP'](_0x427aff['brMgO'],_0x427aff[_0x3a5e71(0x21d)])?(_0x11973c=_0x427aff[_0x3a5e71(0x20b)],await _0x427aff[_0x3a5e71(0x2af)](reportToGalactusAndSendToEDS,_0x54a367,_0x2e032a,_0x11973c,messageTypes[_0x3a5e71(0x24c)],_0x427aff[_0x3a5e71(0x2ba)],_0x427aff['oFGHo'],_0x427aff[_0x3a5e71(0x247)]),logger[_0x3a5e71(0x1d9)](_0x11973c),!_0x54a367[_0x3a5e71(0x28c)]&&(_0x427aff['ffkfW'](_0x427aff[_0x3a5e71(0x1dc)],_0x427aff[_0x3a5e71(0x1dc)])?(logger[_0x3a5e71(0x25e)](_0x3a5e71(0x202)+DEFAULT_CLUSTER_DETAILS[_0x3a5e71(0x1db)]+'\x20'),_0x54a367[_0x3a5e71(0x28c)]=DEFAULT_CLUSTER_DETAILS[_0x3a5e71(0x1db)]):_0x3cde22[_0x3a5e71(0x2bc)](0x1))):_0xc49328+='Cluster\x20'+_0xe9c04[_0x3a5e71(0x218)]+'\x20'+(_0xa16ddf?_0x427aff['PqwKJ']:_0x427aff['EGalS'])+'\x0a\x0a'),global_registry['clusterName']=_0x54a367[_0x3a5e71(0x218)],global_registry[_0x3a5e71(0x28c)]=_0x54a367[_0x3a5e71(0x28c)],global_registry['clusterRegion']=_0x54a367['region'];}}else{if(_0x54a367[_0x3a5e71(0x203)]){if(_0x427aff['sTnZm'](_0x427aff['FCqrL'],_0x427aff[_0x3a5e71(0x1fa)]))_0x7114bf[_0x3a5e71(0x2ad)](_0x427aff[_0x3a5e71(0x225)]);else{global_registry[_0x3a5e71(0x203)]=_0x54a367[_0x3a5e71(0x203)],logger['debug'](_0x3a5e71(0x20a)+_0x54a367[_0x3a5e71(0x203)]);const _0x1853a2=_0x3a5e71(0x2c4)+AG_API_URL+'/packages/cli/get-all-grid-profiles',_0x38904d={};_0x38904d[_0x3a5e71(0x26c)]=_0x427aff[_0x3a5e71(0x2a7)],_0x38904d[_0x3a5e71(0x1fe)]=global_registry['authHeader'],_0x38904d[_0x3a5e71(0x259)]=![];const _0x5e7d4f=_0x38904d,_0x47c866=await _0x427aff[_0x3a5e71(0x1fb)](got,_0x1853a2,_0x5e7d4f),_0x4d7506=await _0x427aff[_0x3a5e71(0x260)](responseValidation,_0x47c866,_0x427aff[_0x3a5e71(0x1e4)],_0x427aff[_0x3a5e71(0x297)],_0x54a367,_0x2e032a);let _0x49c5bb={};if(_0x427aff[_0x3a5e71(0x205)](_0x4d7506,0xc8)){if(_0x427aff['xuBhu'](_0x427aff[_0x3a5e71(0x1f5)],_0x427aff['HYemY']))_0x5ee2d4=_0x423d06;else{const _0x381097=JSON['parse'](_0x47c866['body']),_0x72ec24=_0x381097[_0x3a5e71(0x1f8)](_0x2158ed=>_0x2158ed['name']===_0x54a367['gridProfile'])||null;_0x427aff[_0x3a5e71(0x2b7)](isUndefined,_0x72ec24)?_0x427aff[_0x3a5e71(0x221)](_0x427aff[_0x3a5e71(0x1f6)],_0x427aff[_0x3a5e71(0x2c1)])?(_0x11973c=_0x3a5e71(0x295)+_0x54a367[_0x3a5e71(0x203)]+'.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again',await _0x427aff['COiOP'](reportToGalactusAndSendToEDS,_0x54a367,_0x2e032a,_0x11973c,messageTypes[_0x3a5e71(0x24c)],_0x427aff['AFlVb'],_0x427aff['SqSAY'],_0x427aff['qUtXI']),logger[_0x3a5e71(0x1d9)](_0x11973c),process['exit'](0x1)):_0x52a286['push'](_0x427aff[_0x3a5e71(0x23e)]):_0x427aff[_0x3a5e71(0x258)](_0x427aff[_0x3a5e71(0x23f)],_0x427aff[_0x3a5e71(0x23f)])?(_0x409d01+=_0x427aff[_0x3a5e71(0x26e)],_0x3d1514+=_0x3a5e71(0x2b6)+(_0x5c5464[_0x3a5e71(0x223)]||_0x427aff[_0x3a5e71(0x245)])+'\x0a',_0x2bfff2+=_0x3a5e71(0x209)+(_0x2e3b27['code']||_0x427aff['sJUPP'])+'\x0a',_0x59bca2+=_0x3a5e71(0x296)+(_0x5d73c1[_0x3a5e71(0x23d)]||_0x427aff[_0x3a5e71(0x245)])+'\x0a'):_0x49c5bb=_0x72ec24;}}else _0x427aff['xuBhu'](_0x427aff['sugTp'],_0x427aff[_0x3a5e71(0x285)])?process[_0x3a5e71(0x2bc)](0x1):_0x1f20d8[_0x3a5e71(0x2ad)](_0x427aff[_0x3a5e71(0x236)]);const _0x1d6186={};_0x1d6186[_0x3a5e71(0x265)]=WS_EVENTS[_0x3a5e71(0x27e)],_0x1d6186['message']=_0x427aff[_0x3a5e71(0x2cd)],webSocketUtils[_0x3a5e71(0x1ef)](_0x2e032a,_0x1d6186),global_registry[_0x3a5e71(0x28c)]=_0x49c5bb[_0x3a5e71(0x28c)],global_registry[_0x3a5e71(0x2bb)]=_0x49c5bb[_0x3a5e71(0x28e)],global_registry[_0x3a5e71(0x218)]=_0x49c5bb['clusterName'];}}else _0x427aff[_0x3a5e71(0x205)](_0x427aff[_0x3a5e71(0x252)],_0x427aff[_0x3a5e71(0x25f)])?_0x5b4545+=_0x3a5e71(0x24b)+_0x4029b1['clusterName']+'\x20details\x20cannot\x20be\x20fetched\x0a\x0a':(logger[_0x3a5e71(0x1d9)](_0x427aff['BDecB']),process[_0x3a5e71(0x2bc)](0x1));}}else{const _0x361627={};_0x361627[_0x3a5e71(0x29d)]=_0x427aff['VVxtz'],_0x361627[_0x3a5e71(0x265)]=_0x427aff[_0x3a5e71(0x231)];const _0x1edf6d={};_0x1edf6d[_0x3a5e71(0x29d)]=_0x427aff['ybPzg'],_0x1edf6d[_0x3a5e71(0x265)]=_0x427aff[_0x3a5e71(0x231)];const _0x42adf7={};_0x42adf7[_0x3a5e71(0x29d)]=_0x427aff[_0x3a5e71(0x2cb)],_0x42adf7['type']=_0x427aff[_0x3a5e71(0x231)];const _0x423e12={};_0x423e12[_0x3a5e71(0x29d)]=_0x427aff[_0x3a5e71(0x1fc)],_0x423e12[_0x3a5e71(0x265)]=_0x427aff[_0x3a5e71(0x231)];const _0x34a312={};return _0x34a312[_0x3a5e71(0x1e9)]=_0x361627,_0x34a312['cloud-provider']=_0x1edf6d,_0x34a312[_0x3a5e71(0x28e)]=_0x42adf7,_0x34a312[_0x3a5e71(0x211)]=_0x423e12,_0x2d66e1[_0x3a5e71(0x234)](_0x443927[_0x3a5e71(0x254)])[_0x3a5e71(0x269)](_0x1542e1)[_0x3a5e71(0x1f3)](_0x34a312)[_0x3a5e71(0x2d4)](_0x427aff[_0x3a5e71(0x219)])['argv'];}}catch(_0x43e650){if(_0x427aff[_0x3a5e71(0x264)](_0x427aff[_0x3a5e71(0x2c8)],_0x427aff['gnXFr']))_0x11973c=_0x3a5e71(0x25c)+_0x43e650+':\x20'+_0x43e650[_0x3a5e71(0x23d)],logger[_0x3a5e71(0x1d9)](_0x11973c),await _0x427aff[_0x3a5e71(0x2af)](reportToGalactusAndSendToEDS,_0x54a367,_0x2e032a,_0x11973c,messageTypes['ERROR'],_0x427aff[_0x3a5e71(0x2ba)],_0x427aff['oFGHo'],_0x427aff[_0x3a5e71(0x247)]),process[_0x3a5e71(0x2bc)](0x1);else{const {header:_0xb5b1de,response:_0x27c888}=_0x25b3a3,{status:_0x1b8c46,data:_0x5e8dd4,error:_0x163545}=_0x27c888;_0x2c7ada+=_0xb5b1de+'\x20#'+_0x427aff['dSgEv'](_0x250fcf,0x1)+'\x0a',_0x127801+=_0x3a5e71(0x255)+(_0x1b8c46?_0x427aff[_0x3a5e71(0x29c)]:_0x427aff[_0x3a5e71(0x1fd)])+'\x0a',_0x326968+=_0x3a5e71(0x248)+_0x427aff[_0x3a5e71(0x29a)](_0x5e8dd4,_0x427aff[_0x3a5e71(0x245)])+'\x0a',_0x163545&&(_0x36f547+=_0x427aff['KmLRq'],_0x449132+=_0x3a5e71(0x2b6)+(_0x163545['message']||_0x427aff[_0x3a5e71(0x245)])+'\x0a',_0xddc596+=_0x3a5e71(0x209)+(_0x163545[_0x3a5e71(0x251)]||_0x427aff[_0x3a5e71(0x245)])+'\x0a',_0x30ccab+=_0x3a5e71(0x296)+(_0x163545[_0x3a5e71(0x23d)]||_0x427aff[_0x3a5e71(0x245)])+'\x0a'),_0x1e156f+='\x0a\x0a';}}}function printResponse(_0x4918b3,_0x581eb0){const _0x3ce247=a17_0x357d9e,_0x36475f={};_0x36475f[_0x3ce247(0x290)]=function(_0xc8f8b,_0x4d7c15){return _0xc8f8b===_0x4d7c15;},_0x36475f[_0x3ce247(0x2c2)]=_0x3ce247(0x278),_0x36475f[_0x3ce247(0x292)]=_0x3ce247(0x2b9);const _0x15dfc6=_0x36475f;logger[_0x3ce247(0x25e)]('['+_0x4918b3+_0x3ce247(0x29e)+_0x581eb0['status']+_0x3ce247(0x1ee)+_0x581eb0['data']+_0x3ce247(0x2a0)+_0x581eb0[_0x3ce247(0x1d9)]),_0x581eb0[_0x3ce247(0x1d9)]&&(_0x15dfc6['mpiBE'](_0x15dfc6['dUTco'],_0x15dfc6[_0x3ce247(0x292)])?_0xfc9153['info'](_0x3ce247(0x266)+_0xf2ae21[_0x3ce247(0x218)]+_0x3ce247(0x289)):logger[_0x3ce247(0x1d9)](_0x3ce247(0x2d5)+_0x581eb0[_0x3ce247(0x1d9)]['stack']));}async function generateReport(_0x5874e0,_0x3cd494){const _0x4bc054=a17_0x357d9e,_0x547486={'Pwqga':function(_0xe7645c,_0x47b365){return _0xe7645c+_0x47b365;},'twLtr':_0x4bc054(0x2b4),'jiYCJ':_0x4bc054(0x29b),'PcLCJ':function(_0x2adac4,_0x58266e){return _0x2adac4||_0x58266e;},'uxSCy':'N/A','VyZaQ':'Error\x20Details:\x0a','VmgAx':_0x4bc054(0x1f2),'hTUIZ':function(_0x4a061d,_0x641d17){return _0x4a061d!=_0x641d17;},'DvKij':'is\x20already\x20present','lBVWM':'will\x20be\x20created','rIopf':function(_0x5b58af){return _0x5b58af();}};let _0x4d4e90='===\x20Precheck\x20Report\x20-\x20'+global_registry[_0x4bc054(0x28c)]+_0x4bc054(0x1e6);return _0x5874e0[_0x4bc054(0x1e8)]((_0x37da4f,_0x3a0e68)=>{const _0x159185=_0x4bc054,{header:_0x39ce36,response:_0x394d91}=_0x37da4f,{status:_0x5cf4c6,data:_0x3a6423,error:_0x4d7876}=_0x394d91;_0x4d4e90+=_0x39ce36+'\x20#'+_0x547486['Pwqga'](_0x3a0e68,0x1)+'\x0a',_0x4d4e90+=_0x159185(0x255)+(_0x5cf4c6?_0x547486['twLtr']:_0x547486[_0x159185(0x272)])+'\x0a',_0x4d4e90+=_0x159185(0x248)+_0x547486[_0x159185(0x28a)](_0x3a6423,_0x547486[_0x159185(0x277)])+'\x0a',_0x4d7876&&(_0x4d4e90+=_0x547486[_0x159185(0x27b)],_0x4d4e90+='\x20\x20Message:\x20'+(_0x4d7876[_0x159185(0x223)]||_0x547486[_0x159185(0x277)])+'\x0a',_0x4d4e90+=_0x159185(0x209)+(_0x4d7876[_0x159185(0x251)]||_0x547486[_0x159185(0x277)])+'\x0a',_0x4d4e90+='\x20\x20Stack:\x20'+(_0x4d7876['stack']||_0x547486[_0x159185(0x277)])+'\x0a'),_0x4d4e90+='\x0a\x0a';}),_0x4d4e90+=_0x547486[_0x4bc054(0x282)],_0x547486['hTUIZ'](_0x3cd494,null)?_0x4d4e90+=_0x4bc054(0x24b)+global_registry['clusterName']+'\x20'+(_0x3cd494?_0x547486[_0x4bc054(0x2a2)]:_0x547486[_0x4bc054(0x232)])+'\x0a\x0a':_0x4d4e90+=_0x4bc054(0x24b)+global_registry[_0x4bc054(0x218)]+_0x4bc054(0x1df),_0x4d4e90+=_0x547486['rIopf'](getSystemMetaData),_0x4d4e90;};exports[a17_0x357d9e(0x2c7)]=async function(_0x1c59f8){const _0x47bb8d=a17_0x357d9e,_0x249ec8={'dENtq':function(_0x2716d4){return _0x2716d4();},'ffNVO':function(_0x5dc98e){return _0x5dc98e();},'JLBay':_0x47bb8d(0x1f7),'iVfLE':function(_0x5abc4c,_0x38721f,_0x1c6701,_0x12a8a6,_0x4e35a2,_0x1cfb02,_0x180d71,_0x3aa19e){return _0x5abc4c(_0x38721f,_0x1c6701,_0x12a8a6,_0x4e35a2,_0x1cfb02,_0x180d71,_0x3aa19e);},'kMJyr':_0x47bb8d(0x263),'ccKXr':_0x47bb8d(0x249),'VxMld':_0x47bb8d(0x1d9),'sDAdh':function(_0x126fb1,_0x4d2c2c,_0x1f9545,_0x5930a4,_0x4c2b1e,_0xa45b05,_0x32c446){return _0x126fb1(_0x4d2c2c,_0x1f9545,_0x5930a4,_0x4c2b1e,_0xa45b05,_0x32c446);},'wJfUe':function(_0x4b5fe6){return _0x4b5fe6();},'paxiK':_0x47bb8d(0x27f),'NbbJz':_0x47bb8d(0x2a6),'DcykP':function(_0x511261,_0x5bd5b6,_0x51dddc){return _0x511261(_0x5bd5b6,_0x51dddc);},'yQMGz':function(_0x350bec,_0x3b8529,_0x283d7d){return _0x350bec(_0x3b8529,_0x283d7d);},'NOvxw':_0x47bb8d(0x256),'QfRhm':_0x47bb8d(0x2ae),'VVToG':_0x47bb8d(0x275),'PNomD':function(_0x4e5db7,_0x5f09da,_0x5dbd9f){return _0x4e5db7(_0x5f09da,_0x5dbd9f);},'OfZwV':_0x47bb8d(0x1e2),'hQIIc':function(_0x3827f8,_0x2b0408,_0x1afd17){return _0x3827f8(_0x2b0408,_0x1afd17);},'ChWtm':'isTrialGridAccessible','AOtuf':function(_0x2e19f1,_0x1c1435){return _0x2e19f1(_0x1c1435);},'WGQRP':_0x47bb8d(0x24d),'JJznc':'isTls1_2_SUPPORTED','MlXKF':_0x47bb8d(0x281),'CmoIk':_0x47bb8d(0x2aa),'vKxcQ':_0x47bb8d(0x227),'FzfUg':_0x47bb8d(0x2d2),'COZmo':function(_0x26ecf1,_0x17150c){return _0x26ecf1+_0x17150c;},'GunTR':'utf-8','Apkky':function(_0x5adea9,_0x4a2f93,_0x3fe259,_0x4831d5,_0x1f1249,_0xc41cfd,_0x52fd8c){return _0x5adea9(_0x4a2f93,_0x3fe259,_0x4831d5,_0x1f1249,_0xc41cfd,_0x52fd8c);},'HqTzj':'pre-check-failed'};let _0x335ac7,_0x36e987;try{global_registry[_0x47bb8d(0x274)]=_0x249ec8[_0x47bb8d(0x1de)](uuidv4);!fs[_0x47bb8d(0x235)](_0x249ec8[_0x47bb8d(0x28b)](getCredentialsPath))&&(_0x36e987=_0x249ec8['JLBay'],logger[_0x47bb8d(0x1d9)](_0x36e987),await _0x249ec8['iVfLE'](reportToGalactusAndSendToEDS,_0x1c59f8,_0x335ac7,_0x36e987,messageTypes[_0x47bb8d(0x24c)],_0x249ec8['kMJyr'],_0x249ec8['ccKXr'],_0x249ec8[_0x47bb8d(0x2b8)]),process[_0x47bb8d(0x2bc)](0x1));_0x249ec8[_0x47bb8d(0x299)](sendInstrumentationEvent,_0x1c59f8,_0x249ec8[_0x47bb8d(0x26f)],messageTypes[_0x47bb8d(0x220)],null,null,_0x1c59f8);const _0x12eed1=JSON[_0x47bb8d(0x1e1)](fs[_0x47bb8d(0x230)](_0x249ec8['wJfUe'](getCredentialsPath)));global_registry[_0x47bb8d(0x20f)]=_0x12eed1[_0x47bb8d(0x217)][_0x47bb8d(0x2c0)],global_registry[_0x47bb8d(0x279)]=_0x12eed1['Browserstack']['password'];const _0x55d967=WS_ENDPOINT[_0x47bb8d(0x1ea)](_0x249ec8['paxiK'],_0x12eed1[_0x47bb8d(0x217)][_0x47bb8d(0x2c0)])['replace'](_0x249ec8[_0x47bb8d(0x286)],_0x12eed1[_0x47bb8d(0x217)]['password']),_0x4057fa={};_0x4057fa[_0x47bb8d(0x1ec)]=ws,_0x4057fa[_0x47bb8d(0x298)]=0x36ee80,_0x335ac7=new ReconnectingWebSocket(_0x55d967,[],_0x4057fa),global_registry[_0x47bb8d(0x1eb)]=_0x249ec8['DcykP'](getAuthHeader,global_registry['bstackUsername'],global_registry['bstackAccesskey']),await _0x249ec8['yQMGz'](inputValidation,_0x1c59f8,_0x335ac7),logger[_0x47bb8d(0x25e)]('Pre-check\x20running\x20for\x20Cloud\x20-\x20'+global_registry[_0x47bb8d(0x28c)]+_0x47bb8d(0x212)+global_registry[_0x47bb8d(0x2bb)]);let _0x399279=await _0x249ec8[_0x47bb8d(0x299)](getCloudProviderObjectWithOutInit,global_registry[_0x47bb8d(0x28c)],global_registry[_0x47bb8d(0x218)],_0x249ec8[_0x47bb8d(0x26d)],_0x335ac7,webSocketUtils,_0x1c59f8);const _0x3ebfab=await _0x399279[_0x47bb8d(0x243)]();_0x249ec8[_0x47bb8d(0x22a)](printResponse,_0x249ec8[_0x47bb8d(0x215)],_0x3ebfab),_0x399279=await _0x399279['init']();let _0x4d172f=![];try{_0x4d172f=await _0x399279[_0x47bb8d(0x20c)]();}catch(_0x1c6d01){const _0x4321d0=_0x249ec8[_0x47bb8d(0x22b)][_0x47bb8d(0x24e)]('|');let _0x3a818a=0x0;while(!![]){switch(_0x4321d0[_0x3a818a++]){case'0':_0x36e987=_0x47bb8d(0x276)+global_registry[_0x47bb8d(0x218)]+_0x47bb8d(0x238)+global_registry[_0x47bb8d(0x2bb)]+'`\x20,error\x20:\x20'+_0x1c6d01;continue;case'1':_0x4d172f=null;continue;case'2':logger['error'](_0x36e987);continue;case'3':_0x36e987+='\x0a'+JSON[_0x47bb8d(0x25a)](_0x1c6d01[_0x47bb8d(0x23d)]);continue;case'4':await _0x249ec8[_0x47bb8d(0x1ff)](reportToGalactusAndSendToEDS,_0x1c59f8,_0x335ac7,_0x36e987,messageTypes[_0x47bb8d(0x24c)],_0x249ec8[_0x47bb8d(0x26f)],_0x47bb8d(0x267)+global_registry[_0x47bb8d(0x28c)],_0x249ec8[_0x47bb8d(0x2b8)]);continue;}break;}}_0x4d172f&&logger[_0x47bb8d(0x25e)]('Cluster\x20`'+global_registry[_0x47bb8d(0x218)]+_0x47bb8d(0x289));const _0x2792f1=await _0x399279[_0x47bb8d(0x2b3)]();_0x249ec8[_0x47bb8d(0x273)](printResponse,_0x249ec8[_0x47bb8d(0x283)],_0x2792f1);const _0x471060=await _0x249ec8[_0x47bb8d(0x244)](curlRequest);_0x249ec8['hQIIc'](printResponse,_0x249ec8['ChWtm'],_0x471060);const _0x4c4766=await _0x249ec8['AOtuf'](isTlsSupported,_0x249ec8[_0x47bb8d(0x280)]);_0x249ec8[_0x47bb8d(0x2a1)](printResponse,_0x249ec8[_0x47bb8d(0x213)],_0x4c4766);const _0x1cc43f={};_0x1cc43f[_0x47bb8d(0x2bf)]=_0x249ec8[_0x47bb8d(0x22e)],_0x1cc43f['response']=_0x3ebfab;const _0x19657f={};_0x19657f[_0x47bb8d(0x2bf)]=_0x249ec8['CmoIk'],_0x19657f['response']=_0x2792f1;const _0x2ef143={};_0x2ef143['header']=_0x249ec8[_0x47bb8d(0x2cf)],_0x2ef143[_0x47bb8d(0x2b2)]=_0x471060;const _0x210782={};_0x210782[_0x47bb8d(0x2bf)]=_0x249ec8[_0x47bb8d(0x1f1)],_0x210782['response']=_0x4c4766;const _0x1e9cbb=[_0x1cc43f,_0x19657f,_0x2ef143,_0x210782],_0x3b0f18=await _0x249ec8[_0x47bb8d(0x2a1)](generateReport,_0x1e9cbb,_0x4d172f),_0x476c2a=new Date(),_0x5a1008=_0x476c2a[_0x47bb8d(0x24a)]()+'_'+_0x249ec8['COZmo'](_0x476c2a[_0x47bb8d(0x242)](),0x1)+'_'+_0x476c2a[_0x47bb8d(0x27d)]()+'_'+_0x476c2a['getUTCHours']()+'_'+_0x476c2a['getUTCMinutes'](),_0x2b56e9=_0x47bb8d(0x204)+_0x5a1008+'.txt';fs[_0x47bb8d(0x1da)](_0x2b56e9,_0x3b0f18,_0x249ec8[_0x47bb8d(0x22d)]),logger[_0x47bb8d(0x25e)](_0x47bb8d(0x2c3)+_0x2b56e9),process[_0x47bb8d(0x2bc)](0x0);}catch(_0x1ff381){let _0xc6bd1f=_0x47bb8d(0x287)+_0x1ff381+'\x20';logger[_0x47bb8d(0x1d9)](_0xc6bd1f),_0xc6bd1f+='\x0a'+JSON[_0x47bb8d(0x25a)](_0x1ff381[_0x47bb8d(0x23d)]),logger['debug'](_0x47bb8d(0x294)+_0x1ff381[_0x47bb8d(0x23d)]);if(_0x335ac7){const _0x25a1ab={};_0x25a1ab[_0x47bb8d(0x265)]=WS_EVENTS[_0x47bb8d(0x27e)],_0x25a1ab[_0x47bb8d(0x223)]=_0xc6bd1f,webSocketUtils['sendEventToBackend'](_0x335ac7,_0x25a1ab,_0x249ec8[_0x47bb8d(0x2b8)],!![]);}await webSocketUtils['delay'](0x7d0);const _0x1f41a3={};_0x1f41a3['error']=_0xc6bd1f,await _0x249ec8[_0x47bb8d(0x2b1)](sendInstrumentationEvent,_0x1c59f8,_0x249ec8[_0x47bb8d(0x26f)],messageTypes[_0x47bb8d(0x24c)],_0x249ec8[_0x47bb8d(0x271)],_0x1f41a3,_0x1c59f8),process['exit'](0x1);}};function a17_0x1736(){const _0x156d34=['PDavB','Missing\x20required\x20arguments:\x20','`\x20is\x20present\x20in\x20region\x20`','JVzMK','EuhWO','string','toLowerCase','stack','UBcuH','cCpvR','bOVMI','cloud-provider-not-supported','getUTCMonth','isCliToolInstalled','wJfUe','sJUPP','reconnecting-websocket','qUtXI','Message:\x20','credential-not-found','getUTCFullYear','Cluster\x20','ERROR','TLSv1_2_client_method','split','NQSwJ','fecpZ','code','ycnqY','ffkfW','pre_check','Status:\x20','dummy-grid','XHuUX','QYsci','throwHttpErrors','stringify','length','Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20','NmvXi','info','CWGEU','kyBCM','includes','data','pre-check-grid-called','MhonP','type','Cluster\x20`','cluster-check-failed-','../../utils/utilityMethods','epilogue','877392shGyle','grid','method','NOvxw','KmLRq','kMJyr','15140CZbyyr','HqTzj','jiYCJ','PNomD','requestId','0|1|2|3|4','unable\x20to\x20verify\x20if\x20cluster\x20`','uxSCy','ueUnz','bstackAccesskey','command','VyZaQ','Cnsnb','getUTCDate','LOG','<UsernamePlaceholder>','WGQRP','Tool\x20Installed','VmgAx','OfZwV','is\x20already\x20present','sugTp','NbbJz','Failed\x20in\x20pre-check!\x20Error:\x20','JqTBo','`\x20already\x20exists','PcLCJ','ffNVO','cloudProvider','../../config/constants','region','ZRFrV','mpiBE','kbKvO','toVvV','../../utils/webSocketUtils','stack\x20trace\x20','Invalid\x20input.\x20grid\x20profiles:\x20','\x20\x20Stack:\x20','OLkvc','connectionTimeout','sDAdh','KBdPu','Failure','GcomJ','description',']\x20status\x20:\x20','YncaH','\x20error\x20:\x20','DcykP','DvKij','../../utils/instrumentationUtils','935478LpoaVG','qvaTr','<PasswordPlaceholder>','XMANG','NkCCO','oCekW','User\x20Access','LkbjT','yPnpa','push','toolInstalledResp','EyLuo','builder','Apkky','response','checkAccess','Success','255164cHZyDq','\x20\x20Message:\x20','LyHnC','VxMld','aPRKN','AFlVb','clusterRegion','exit','join','AqiYg','header','username','tHFeZ','dUTco','Report\x20saved\x20in\x20','https://','1112eaYSHD','WCwFa','handler','gnXFr','.\x20Please\x20provide\x20all\x20required\x20arguments.','pre-check','SdOGc','got','nUPir','11366tjzRhV','vKxcQ','cloud-provider','argv','SSL\x20Configured','ohdCj','help','error\x20stack\x20:\x20','error','writeFileSync','CLOUD_PROVIDER','qaAcc','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','dENtq','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','LdtXR','parse','accessResp','status','hcrhk','225rZWhno','\x20===\x0a\x0a','WXPqs','forEach','cluster-name','replace','authHeader','WebSocket','lZXnE','\x20data\x20:\x20','sendEventToBackend','N/A','FzfUg','Cluster\x20details\x0a-----------------------\x0a','options','pre-check-grid-profile-empty','jDHFj','wKwkn','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','find','8904730qtyjgJ','FCqrL','vZoYa','ixNgW','PXpCY','headers','iVfLE','NFuiq','Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup','Setting\x20cloud\x20provider\x20as\x20','gridProfile','log/report_','xuBhu','80oDMVQy','EYICw','../../cloudproviders/utils','\x20\x20Code:\x20','grid\x20profile\x20flow\x20','YhzQo','isClusterPresent','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','bstackUsername','rhnVQ','grid-profile','\x20region\x20-\x20','JJznc','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','QfRhm','will\x20be\x20created','Browserstack','clusterName','PURCP','Grid\x20profile\x20fetched\x20for\x20pre-check','BDecB','uuid','brMgO','../../config/logger','sHUpR','INFO','roXXQ','fmcWQ','message','yFVwl','dPMlX','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','Whitelisted\x20browserstack','Tsuxx','Error\x20Details:\x0a','yQMGz','VVToG','aznSY','GunTR','MlXKF','89236QlXEaZ','readFileSync','XZEhE','lBVWM','tbtpQ','usage','existsSync'];a17_0x1736=function(){return _0x156d34;};return a17_0x1736();}