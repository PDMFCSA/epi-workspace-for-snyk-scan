const a17_0x9fc242=a17_0x39e1;function a17_0x39e1(_0x483107,_0x3a2f07){const _0x34c75a=a17_0x34c7();return a17_0x39e1=function(_0x39e1cb,_0x528313){_0x39e1cb=_0x39e1cb-0xc8;let _0x494e96=_0x34c75a[_0x39e1cb];return _0x494e96;},a17_0x39e1(_0x483107,_0x3a2f07);}(function(_0x49460f,_0xe0c525){const _0xb1ff32=a17_0x39e1,_0x37b43d=_0x49460f();while(!![]){try{const _0x4200ff=parseInt(_0xb1ff32(0x118))/0x1*(parseInt(_0xb1ff32(0x148))/0x2)+-parseInt(_0xb1ff32(0x1a4))/0x3+parseInt(_0xb1ff32(0xeb))/0x4*(parseInt(_0xb1ff32(0x152))/0x5)+-parseInt(_0xb1ff32(0x104))/0x6+-parseInt(_0xb1ff32(0x111))/0x7*(parseInt(_0xb1ff32(0x18f))/0x8)+-parseInt(_0xb1ff32(0x19b))/0x9*(-parseInt(_0xb1ff32(0x18a))/0xa)+-parseInt(_0xb1ff32(0x1c5))/0xb*(-parseInt(_0xb1ff32(0x127))/0xc);if(_0x4200ff===_0xe0c525)break;else _0x37b43d['push'](_0x37b43d['shift']());}catch(_0xf7f03e){_0x37b43d['push'](_0x37b43d['shift']());}}}(a17_0x34c7,0x66f37));const fs=require('fs'),ws=require('ws'),got=require('got'),{v4:uuidv4}=require(a17_0x9fc242(0x10d)),ReconnectingWebSocket=require(a17_0x9fc242(0x181)),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require(a17_0x9fc242(0x168)),{logger}=require(a17_0x9fc242(0x147)),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require('../../config/constants'),{getCloudProviderObjectWithOutInit}=require(a17_0x9fc242(0x180)),webSocketUtils=require(a17_0x9fc242(0x183)),{sendInstrumentationEvent}=require('../../utils/instrumentationUtils');function a17_0x34c7(){const _0x5cf105=['lqNii','TwPct','fqkuT','qcGxA','GYWgj','lsnwA','mCUUo','vUals','Missing\x20required\x20arguments:\x20','pre-check-grid-called','epilogue','gridProfile','SSL\x20Configured','Whitelisted\x20browserstack','cloudProvider','accessResp','cluster-check-failed-','clusterRegion','dEqdQ','stringify','../../utils/utilityMethods','\x20\x20Stack:\x20','exit','JXUGQ','method','eAHYq','FRxfo','dummy-grid','`\x20is\x20present\x20in\x20region\x20`','wvJKl','dMnNK','FTDqe','N/A','kMBKu','nzSWV','Success','JuwcP','ORJdw','EIEos','includes','tDdGi','TyteC','Failure','KYmxw','../../cloudproviders/utils','reconnecting-websocket','pre-check-cluster-args-not-passed','../../utils/webSocketUtils','tXwiH','Status:\x20','grid\x20profile\x20flow\x20','code','\x20\x20Message:\x20','RJudq','10nOJFRI','===\x20Precheck\x20Report\x20-\x20','`\x20already\x20exists','xKwTl','sFhcC','8GEcPip','pre_check','region','status','type','MwngB','push','username','iScMd','ieVSa','BjtgA','\x20\x20Code:\x20','344079SOIfGC','zBbuB','https://','igOlb','Cluster\x20','pliAW','eywgB','credential-not-found','vBSPn','1372389xeXYEB','aHjoY','WebSocket','UANfO','isTls1_2_SUPPORTED','bstackAccesskey','clusterName','hZMyk','data','nVDNU','viDje','sendEventToBackend','error','usage','fQsJd','cloud-provider','stack','unable\x20to\x20verify\x20if\x20cluster\x20`','find','szCXE','headers',']\x20status\x20:\x20','VHBjJ','iBTtm','Pre-check\x20running\x20for\x20Cloud\x20-\x20','SfLdE','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','bstackUsername','sCUIS','XfSKx','jUfwv','init','29865WguUbj','aWJRG','grid','help','`\x20,error\x20:\x20','tEVbY','getUTCMinutes','Cluster\x20details\x0a-----------------------\x0a','GET','Grid\x20profile\x20fetched\x20for\x20pre-check','Tool\x20Installed','is\x20already\x20present','description','TLSv1_2_client_method','nQCcU','gjdeD','IXRkf','Browserstack','irifU','IwhsL','ZzmdT','zGrDp','CLOUD_PROVIDER','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','PTdfp','luiWm','delay','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','aeDWd','getUTCFullYear','.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again','<UsernamePlaceholder>','OXAam','IWcbl','authHeader','readFileSync','GMjVf','debug','awEJi','MgNdZ','opUOe','password','Error\x20Details:\x0a','60EOJFsx','handler','connectionTimeout','Failed\x20in\x20pre-check!\x20Error:\x20','XZxku','dICvx','mshdJ','Invalid\x20input.\x20grid\x20profiles:\x20','message','Qdbiu','ESGkf','getUTCMonth','existsSync','Yyvte','BSCUs','.\x20Please\x20provide\x20all\x20required\x20arguments.','lJRjJ','aEohq','command','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','oGgRq','Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup','string','tdBYQ','pWnCL','1996416DmOUjB','EOOqB','builder','utf-8','LBVFr','UhAPA','QXjMF','YztWo','Setting\x20cloud\x20provider\x20as\x20','uuid','LcqWr','LOG','FeGDC','5649441SoFPWv','cgWuu','\x20data\x20:\x20','Message:\x20','rrWcp','LIAWF','getUTCDate','16bSIWzX','join','MRCrk','.txt','EifKE','KsxJh','ERROR','pVVGp','JjrCj','UANMQ','fjOxL','toolInstalledResp','will\x20be\x20created','\x20error\x20:\x20','User\x20Access','3684tLSIgd','UdSmK','YkDDI','GjkTw','CSXUF','Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','pre-check-failed','CmWcW','Cluster\x20`','mUCaQ','Report\x20saved\x20in\x20','getUTCHours','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','czwLT','options','grid-profile','ttENv','toLowerCase','wRAXF','length','cloud-provider-not-supported','ctcEM','CdLKi','info','parse','yzxWK','checkAccess','cZbFb','NYyND','hKKRE','cluster-name','stack\x20trace\x20','../../config/logger','50396Etulid','OOomz','header','<PasswordPlaceholder>','NWhpg','nCzZv','error\x20stack\x20:\x20','split','argv','response','248015PzeYmL','body'];a17_0x34c7=function(){return _0x5cf105;};return a17_0x34c7();}exports[a17_0x9fc242(0xfd)]=a17_0x9fc242(0x1c7),exports['desc']=a17_0x9fc242(0x100),exports[a17_0x9fc242(0x106)]=function(_0x300f4d){const _0x448770=a17_0x9fc242,_0x421204={};_0x421204[_0x448770(0x14c)]=_0x448770(0x1bf),_0x421204[_0x448770(0x120)]=_0x448770(0x101),_0x421204[_0x448770(0x10a)]=_0x448770(0xd7),_0x421204[_0x448770(0x19c)]='Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.',_0x421204['HGOqy']=_0x448770(0x1be),_0x421204[_0x448770(0xce)]=_0x448770(0x1c8);const _0x5af1e1=_0x421204,_0x1030c4={};_0x1030c4[_0x448770(0xcc)]=_0x5af1e1['NWhpg'],_0x1030c4[_0x448770(0x193)]=_0x5af1e1['JjrCj'];const _0x3b264c={};_0x3b264c['description']=_0x5af1e1[_0x448770(0x10a)],_0x3b264c[_0x448770(0x193)]=_0x5af1e1[_0x448770(0x120)];const _0xa7d7ca={};_0xa7d7ca['description']=_0x5af1e1[_0x448770(0x19c)],_0xa7d7ca[_0x448770(0x193)]=_0x5af1e1['JjrCj'];const _0x36e97a={};_0x36e97a[_0x448770(0xcc)]=_0x5af1e1['HGOqy'],_0x36e97a['type']=_0x5af1e1[_0x448770(0x120)];const _0x72f8a9={};return _0x72f8a9['cluster-name']=_0x1030c4,_0x72f8a9[_0x448770(0x1b3)]=_0x3b264c,_0x72f8a9[_0x448770(0x191)]=_0xa7d7ca,_0x72f8a9['grid-profile']=_0x36e97a,_0x300f4d[_0x448770(0x1b1)](HELP_HEADER_MESSAGE['pre_check'])[_0x448770(0x15e)](HELP_FOOTER_MESSAGE)[_0x448770(0x135)](_0x72f8a9)[_0x448770(0x1c8)](_0x5af1e1[_0x448770(0xce)])[_0x448770(0x150)];};async function inputValidation(_0x9bcc11,_0x1dc6f2){const _0x3a7b8a=a17_0x9fc242,_0xa2b1ae={'UhAPA':_0x3a7b8a(0x133),'looXF':function(_0x1b60f1,_0x2e9428){return _0x1b60f1+_0x2e9428;},'DTLOS':_0x3a7b8a(0x177),'iYjbV':'Failure','SAwut':function(_0x6d7966,_0x2c9fc3){return _0x6d7966||_0x2c9fc3;},'tXwiH':_0x3a7b8a(0x174),'LlIuj':_0x3a7b8a(0xea),'Qdbiu':_0x3a7b8a(0x1b3),'qVglg':_0x3a7b8a(0x1bf),'IwhsL':'string','tDdGi':_0x3a7b8a(0xd7),'xKwTl':_0x3a7b8a(0xdb),'fQsJd':'Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','LIAWF':_0x3a7b8a(0x1c8),'vBSPn':_0x3a7b8a(0xcb),'nzSWV':_0x3a7b8a(0x124),'zGrDp':'error','aEohq':_0x3a7b8a(0x191),'MgNdZ':function(_0x34ef33,_0x1a100d){return _0x34ef33===_0x1a100d;},'hZMyk':_0x3a7b8a(0x18e),'srKMD':function(_0xaf190b,_0x5f59ac){return _0xaf190b===_0x5f59ac;},'viDje':_0x3a7b8a(0xd0),'UANfO':_0x3a7b8a(0x1bd),'UdSmK':function(_0x48497b,_0x53c906){return _0x48497b!==_0x53c906;},'EifKE':_0x3a7b8a(0x1bb),'JuwcP':'Kjgqh','pJBTV':'cluster-name','EOOqB':'ivJUK','dEqdQ':'KfiqG','ZzmdT':function(_0x140c58,_0x3ee839){return _0x140c58!==_0x3ee839;},'YSMMC':'ltgoJ','KYmxw':_0x3a7b8a(0x171),'eVERP':function(_0x5c9bdd,_0x5742d9){return _0x5c9bdd>_0x5742d9;},'ttENv':function(_0x5a1ca5,_0x3371cd){return _0x5a1ca5===_0x3371cd;},'cZbFb':_0x3a7b8a(0x173),'luiWm':_0x3a7b8a(0x1c3),'GMjVf':function(_0x8d19ac,_0x215d43,_0x23e99c,_0x3e249c,_0x319082,_0x4354fd,_0xda6057,_0x3aea9a){return _0x8d19ac(_0x215d43,_0x23e99c,_0x3e249c,_0x319082,_0x4354fd,_0xda6057,_0x3aea9a);},'oGgRq':_0x3a7b8a(0x15d),'ehllK':_0x3a7b8a(0x182),'FIbCc':function(_0x5883d6,_0x1b46e2){return _0x5883d6===_0x1b46e2;},'dMnNK':_0x3a7b8a(0x143),'emWwY':'MnaDp','cRoFN':_0x3a7b8a(0x12c),'GjkTw':function(_0x3b9b32,_0x384bd8,_0x4dae67,_0x1588ac,_0x465c25,_0x5ba92e,_0x33fb67,_0x56af33){return _0x3b9b32(_0x384bd8,_0x4dae67,_0x1588ac,_0x465c25,_0x5ba92e,_0x33fb67,_0x56af33);},'awEJi':_0x3a7b8a(0x13b),'kMBKu':_0x3a7b8a(0xe0),'WghAj':_0x3a7b8a(0x16e),'vUals':function(_0xea9b71,_0x5b16ea){return _0xea9b71===_0x5b16ea;},'hKKRE':_0x3a7b8a(0x1a1),'dICvx':_0x3a7b8a(0xc8),'GWPOQ':function(_0x4823a2,_0x4e59d5,_0x2b8014){return _0x4823a2(_0x4e59d5,_0x2b8014);},'KsxJh':function(_0x231cd0,_0x3b7518,_0x5f1bfe,_0x5245ff,_0x39ef4c,_0x1736af){return _0x231cd0(_0x3b7518,_0x5f1bfe,_0x5245ff,_0x39ef4c,_0x1736af);},'ESGkf':'pre-check','igOlb':_0x3a7b8a(0x136),'XZxku':_0x3a7b8a(0xd8),'opUOe':_0x3a7b8a(0x110),'nCzZv':function(_0x1b1013,_0x3f85e9){return _0x1b1013(_0x3f85e9);},'sCUIS':_0x3a7b8a(0x12e),'cgWuu':'Dwfsz','nVDNU':'pre-check-grid-profile-empty','tdBYQ':function(_0x5ee356,_0x1d0f2d){return _0x5ee356===_0x1d0f2d;},'UANMQ':'tnUya','GYWgj':_0x3a7b8a(0x103),'abkRI':function(_0x75d68d,_0xc683be){return _0x75d68d!==_0xc683be;},'LBVFr':_0x3a7b8a(0x16d),'ORJdw':_0x3a7b8a(0xc9),'iScMd':function(_0x22ea07,_0x1fe16f){return _0x22ea07===_0x1fe16f;},'czwLT':_0x3a7b8a(0x129),'CdLKi':'opoTE','SXYvc':_0x3a7b8a(0x194)};let _0x11a89b;try{if(_0xa2b1ae[_0x3a7b8a(0xe7)](_0xa2b1ae['hZMyk'],_0xa2b1ae[_0x3a7b8a(0x1ab)])){if(_0x9bcc11['clusterName']||_0x9bcc11[_0x3a7b8a(0x162)]||_0x9bcc11[_0x3a7b8a(0x191)]){if(_0xa2b1ae['srKMD'](_0xa2b1ae[_0x3a7b8a(0x1ae)],_0xa2b1ae[_0x3a7b8a(0x1a7)]))_0x4968c8[_0x3a7b8a(0x1b0)](_0x3a7b8a(0x14e)+_0x5b5d32['error']['stack']);else{const _0x253bdb=[];!_0x9bcc11[_0x3a7b8a(0x1aa)]&&(_0xa2b1ae[_0x3a7b8a(0x128)](_0xa2b1ae[_0x3a7b8a(0x11c)],_0xa2b1ae[_0x3a7b8a(0x178)])?_0x253bdb[_0x3a7b8a(0x195)](_0xa2b1ae['pJBTV']):(_0x4f2c06[_0x3a7b8a(0x1b0)](_0xa2b1ae[_0x3a7b8a(0x109)]),_0x5ee6b7['exit'](0x1)));;!_0x9bcc11[_0x3a7b8a(0x162)]&&(_0xa2b1ae[_0x3a7b8a(0x128)](_0xa2b1ae[_0x3a7b8a(0x105)],_0xa2b1ae[_0x3a7b8a(0x166)])?_0x253bdb[_0x3a7b8a(0x195)](_0xa2b1ae[_0x3a7b8a(0xf4)]):(_0xf8c348[_0x3a7b8a(0x13e)]('['+_0x2d0bd8+_0x3a7b8a(0x1b9)+_0x1dda86['status']+'\x20data\x20:\x20'+_0xe8a12c[_0x3a7b8a(0x1ac)]+_0x3a7b8a(0x125)+_0x599216[_0x3a7b8a(0x1b0)]),_0x2144eb[_0x3a7b8a(0x1b0)]&&_0x6c2a20[_0x3a7b8a(0x1b0)](_0x3a7b8a(0x14e)+_0x33c999[_0x3a7b8a(0x1b0)][_0x3a7b8a(0x1b4)])));;!_0x9bcc11['region']&&(_0xa2b1ae[_0x3a7b8a(0xd4)](_0xa2b1ae['YSMMC'],_0xa2b1ae[_0x3a7b8a(0x17f)])?_0x253bdb['push'](_0xa2b1ae[_0x3a7b8a(0xfc)]):_0x522baf[_0x3a7b8a(0x16a)](0x1));;if(_0xa2b1ae['eVERP'](_0x253bdb[_0x3a7b8a(0x13a)],0x0)){if(_0xa2b1ae[_0x3a7b8a(0x137)](_0xa2b1ae[_0x3a7b8a(0x142)],_0xa2b1ae[_0x3a7b8a(0xd9)])){const {header:_0x18e269,response:_0x1d576a}=_0x478895,{status:_0x1fbcfd,data:_0x29b025,error:_0x10ae29}=_0x1d576a;_0x1b898a+=_0x18e269+'\x20#'+_0xa2b1ae['looXF'](_0x48799d,0x1)+'\x0a',_0x9a3200+=_0x3a7b8a(0x185)+(_0x1fbcfd?_0xa2b1ae['DTLOS']:_0xa2b1ae['iYjbV'])+'\x0a',_0x4ddbb7+=_0x3a7b8a(0x114)+_0xa2b1ae['SAwut'](_0x29b025,_0xa2b1ae['tXwiH'])+'\x0a',_0x10ae29&&(_0x2c27be+=_0xa2b1ae['LlIuj'],_0x1bbdf7+=_0x3a7b8a(0x188)+(_0x10ae29['message']||_0xa2b1ae['tXwiH'])+'\x0a',_0x167aa8+=_0x3a7b8a(0x19a)+(_0x10ae29[_0x3a7b8a(0x187)]||_0xa2b1ae[_0x3a7b8a(0x184)])+'\x0a',_0x53addf+=_0x3a7b8a(0x169)+(_0x10ae29[_0x3a7b8a(0x1b4)]||_0xa2b1ae[_0x3a7b8a(0x184)])+'\x0a'),_0x4e3bfc+='\x0a\x0a';}else _0x11a89b=_0x3a7b8a(0x15c)+_0x253bdb[_0x3a7b8a(0x119)](',\x20')+_0x3a7b8a(0xfa),await _0xa2b1ae[_0x3a7b8a(0xe4)](reportToGalactusAndSendToEDS,_0x9bcc11,_0x1dc6f2,_0x11a89b,messageTypes[_0x3a7b8a(0x11e)],_0xa2b1ae[_0x3a7b8a(0xff)],_0xa2b1ae['ehllK'],_0xa2b1ae[_0x3a7b8a(0xd5)]),logger['error'](_0x11a89b),process[_0x3a7b8a(0x16a)](0x1);}if(!ALL_SUPPORTED_CLOUD_PROVIDERS[_0x3a7b8a(0x17b)](_0x9bcc11[_0x3a7b8a(0x162)][_0x3a7b8a(0x138)]())){if(_0xa2b1ae['FIbCc'](_0xa2b1ae[_0x3a7b8a(0x172)],_0xa2b1ae['emWwY']))_0x562ee7[_0x3a7b8a(0x195)](_0xa2b1ae[_0x3a7b8a(0xf4)]);else{_0x11a89b=_0xa2b1ae['cRoFN'],await _0xa2b1ae[_0x3a7b8a(0x12a)](reportToGalactusAndSendToEDS,_0x9bcc11,_0x1dc6f2,_0x11a89b,messageTypes[_0x3a7b8a(0x11e)],_0xa2b1ae[_0x3a7b8a(0xff)],_0xa2b1ae[_0x3a7b8a(0xe6)],_0xa2b1ae['zGrDp']),logger['error'](_0x11a89b);if(!_0x9bcc11[_0x3a7b8a(0x162)]){if(_0xa2b1ae[_0x3a7b8a(0xd4)](_0xa2b1ae[_0x3a7b8a(0x175)],_0xa2b1ae['WghAj']))logger['info']('Setting\x20cloud\x20provider\x20as\x20'+DEFAULT_CLUSTER_DETAILS['CLOUD_PROVIDER']+'\x20'),_0x9bcc11[_0x3a7b8a(0x162)]=DEFAULT_CLUSTER_DETAILS[_0x3a7b8a(0xd6)];else{const _0x8696={};_0x8696[_0x3a7b8a(0xcc)]=_0xa2b1ae['qVglg'],_0x8696[_0x3a7b8a(0x193)]=_0xa2b1ae[_0x3a7b8a(0xd3)];const _0x6d67da={};_0x6d67da[_0x3a7b8a(0xcc)]=_0xa2b1ae[_0x3a7b8a(0x17c)],_0x6d67da[_0x3a7b8a(0x193)]=_0xa2b1ae[_0x3a7b8a(0xd3)];const _0xb69669={};_0xb69669[_0x3a7b8a(0xcc)]=_0xa2b1ae[_0x3a7b8a(0x18d)],_0xb69669[_0x3a7b8a(0x193)]=_0xa2b1ae[_0x3a7b8a(0xd3)];const _0x16db23={};_0x16db23[_0x3a7b8a(0xcc)]=_0xa2b1ae[_0x3a7b8a(0x1b2)],_0x16db23[_0x3a7b8a(0x193)]=_0xa2b1ae[_0x3a7b8a(0xd3)];const _0x25d721={};return _0x25d721[_0x3a7b8a(0x145)]=_0x8696,_0x25d721[_0x3a7b8a(0x1b3)]=_0x6d67da,_0x25d721[_0x3a7b8a(0x191)]=_0xb69669,_0x25d721[_0x3a7b8a(0x136)]=_0x16db23,_0x565d99['usage'](_0x50ec36[_0x3a7b8a(0x190)])[_0x3a7b8a(0x15e)](_0x4a746e)[_0x3a7b8a(0x135)](_0x25d721)['help'](_0xa2b1ae[_0x3a7b8a(0x116)])[_0x3a7b8a(0x150)];}}}}global_registry[_0x3a7b8a(0x1aa)]=_0x9bcc11['clusterName'],global_registry[_0x3a7b8a(0x162)]=_0x9bcc11[_0x3a7b8a(0x162)],global_registry[_0x3a7b8a(0x165)]=_0x9bcc11[_0x3a7b8a(0x191)];}}else{if(_0x9bcc11[_0x3a7b8a(0x15f)]){if(_0xa2b1ae[_0x3a7b8a(0x15b)](_0xa2b1ae[_0x3a7b8a(0x144)],_0xa2b1ae[_0x3a7b8a(0x144)])){global_registry[_0x3a7b8a(0x15f)]=_0x9bcc11[_0x3a7b8a(0x15f)],logger[_0x3a7b8a(0xe5)](_0x3a7b8a(0x186)+_0x9bcc11[_0x3a7b8a(0x15f)]);const _0x2441f5=_0x3a7b8a(0x19d)+AG_API_URL+'/packages/cli/get-all-grid-profiles',_0x2b3bd1={};_0x2b3bd1[_0x3a7b8a(0x16c)]=_0xa2b1ae[_0x3a7b8a(0xf0)],_0x2b3bd1[_0x3a7b8a(0x1b8)]=global_registry[_0x3a7b8a(0xe2)],_0x2b3bd1['throwHttpErrors']=![];const _0x273766=_0x2b3bd1,_0x207a01=await _0xa2b1ae['GWPOQ'](got,_0x2441f5,_0x273766),_0x266913=await _0xa2b1ae[_0x3a7b8a(0x11d)](responseValidation,_0x207a01,_0xa2b1ae[_0x3a7b8a(0xf5)],_0xa2b1ae[_0x3a7b8a(0x19e)],_0x9bcc11,_0x1dc6f2);let _0x44dc6f={};if(_0xa2b1ae[_0x3a7b8a(0xe7)](_0x266913,0xc8)){if(_0xa2b1ae[_0x3a7b8a(0x137)](_0xa2b1ae[_0x3a7b8a(0xef)],_0xa2b1ae[_0x3a7b8a(0xe8)]))_0x3fe52e+=_0x3a7b8a(0x19f)+_0x53f070[_0x3a7b8a(0x1aa)]+'\x20'+(_0x1d478a?_0xa2b1ae[_0x3a7b8a(0x1a3)]:_0xa2b1ae[_0x3a7b8a(0x176)])+'\x0a\x0a';else{const _0x32974c=JSON[_0x3a7b8a(0x13f)](_0x207a01[_0x3a7b8a(0x153)]),_0x388d46=_0x32974c[_0x3a7b8a(0x1b6)](_0x4ec950=>_0x4ec950['name']===_0x9bcc11[_0x3a7b8a(0x15f)])||null;_0xa2b1ae[_0x3a7b8a(0x14d)](isUndefined,_0x388d46)?_0xa2b1ae[_0x3a7b8a(0xd4)](_0xa2b1ae[_0x3a7b8a(0x1c1)],_0xa2b1ae[_0x3a7b8a(0x112)])?(_0x11a89b=_0x3a7b8a(0xf2)+_0x9bcc11['gridProfile']+_0x3a7b8a(0xde),await _0xa2b1ae[_0x3a7b8a(0xe4)](reportToGalactusAndSendToEDS,_0x9bcc11,_0x1dc6f2,_0x11a89b,messageTypes[_0x3a7b8a(0x11e)],_0xa2b1ae[_0x3a7b8a(0xff)],_0xa2b1ae[_0x3a7b8a(0x1ad)],_0xa2b1ae[_0x3a7b8a(0xd5)]),logger[_0x3a7b8a(0x1b0)](_0x11a89b),process[_0x3a7b8a(0x16a)](0x1)):_0x4d995e=_0x30e698:_0xa2b1ae[_0x3a7b8a(0x102)](_0xa2b1ae[_0x3a7b8a(0x121)],_0xa2b1ae[_0x3a7b8a(0x158)])?(_0x7e8da5[_0x3a7b8a(0x13e)](_0x3a7b8a(0x10c)+_0xc36b99[_0x3a7b8a(0xd6)]+'\x20'),_0x18a9b7[_0x3a7b8a(0x162)]=_0x118b01['CLOUD_PROVIDER']):_0x44dc6f=_0x388d46;}}else _0xa2b1ae['abkRI'](_0xa2b1ae[_0x3a7b8a(0x108)],_0xa2b1ae['LBVFr'])?(_0x58e0b3+=_0xa2b1ae['LlIuj'],_0x4c9798+='\x20\x20Message:\x20'+(_0x1f5a38[_0x3a7b8a(0xf3)]||_0xa2b1ae[_0x3a7b8a(0x184)])+'\x0a',_0xfc8d3a+=_0x3a7b8a(0x19a)+(_0x3a1b67[_0x3a7b8a(0x187)]||_0xa2b1ae['tXwiH'])+'\x0a',_0x189cd6+=_0x3a7b8a(0x169)+(_0x4a57ab[_0x3a7b8a(0x1b4)]||_0xa2b1ae[_0x3a7b8a(0x184)])+'\x0a'):process[_0x3a7b8a(0x16a)](0x1);const _0x3ca410={};_0x3ca410[_0x3a7b8a(0x193)]=WS_EVENTS['LOG'],_0x3ca410[_0x3a7b8a(0xf3)]=_0xa2b1ae[_0x3a7b8a(0x179)],webSocketUtils['sendEventToBackend'](_0x1dc6f2,_0x3ca410),global_registry[_0x3a7b8a(0x162)]=_0x44dc6f[_0x3a7b8a(0x162)],global_registry[_0x3a7b8a(0x165)]=_0x44dc6f[_0x3a7b8a(0x191)],global_registry[_0x3a7b8a(0x1aa)]=_0x44dc6f[_0x3a7b8a(0x1aa)];}else _0x2234d5+=_0x3a7b8a(0x19f)+_0x557e2c[_0x3a7b8a(0x1aa)]+_0x3a7b8a(0xfe);}else _0xa2b1ae[_0x3a7b8a(0x197)](_0xa2b1ae[_0x3a7b8a(0x134)],_0xa2b1ae[_0x3a7b8a(0x134)])?(logger['error'](_0xa2b1ae[_0x3a7b8a(0x109)]),process[_0x3a7b8a(0x16a)](0x1)):_0x137b00[_0x3a7b8a(0x13e)](_0x3a7b8a(0x12f)+_0x3c6bf5['clusterName']+_0x3a7b8a(0x18c));}}else{const _0x8dc616={};_0x8dc616[_0x3a7b8a(0x193)]=_0x46b296[_0x3a7b8a(0x10f)],_0x8dc616[_0x3a7b8a(0xf3)]=_0x135b19,_0x27661b[_0x3a7b8a(0x1af)](_0x11cfc7,_0x8dc616,_0xa2b1ae[_0x3a7b8a(0xd5)],!![]);}}catch(_0x2d58e0){_0xa2b1ae['srKMD'](_0xa2b1ae[_0x3a7b8a(0x13d)],_0xa2b1ae['SXYvc'])?_0x433623[_0x3a7b8a(0x195)](_0xa2b1ae[_0x3a7b8a(0xfc)]):(_0x11a89b='Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20'+_0x2d58e0+':\x20'+_0x2d58e0['stack'],logger['error'](_0x11a89b),await _0xa2b1ae[_0x3a7b8a(0x12a)](reportToGalactusAndSendToEDS,_0x9bcc11,_0x1dc6f2,_0x11a89b,messageTypes[_0x3a7b8a(0x11e)],_0xa2b1ae['oGgRq'],_0xa2b1ae[_0x3a7b8a(0xe6)],_0xa2b1ae['zGrDp']),process['exit'](0x1));}}function printResponse(_0x30972a,_0x22cdc7){const _0x1cb877=a17_0x9fc242,_0x2df009={};_0x2df009[_0x1cb877(0x13c)]=_0x1cb877(0x145),_0x2df009['szCXE']=function(_0x582c2c,_0x180247){return _0x582c2c!==_0x180247;},_0x2df009[_0x1cb877(0xdc)]=_0x1cb877(0x10e);const _0x37a2e3=_0x2df009;logger[_0x1cb877(0x13e)]('['+_0x30972a+_0x1cb877(0x1b9)+_0x22cdc7[_0x1cb877(0x192)]+_0x1cb877(0x113)+_0x22cdc7['data']+_0x1cb877(0x125)+_0x22cdc7['error']),_0x22cdc7[_0x1cb877(0x1b0)]&&(_0x37a2e3[_0x1cb877(0x1b7)](_0x37a2e3[_0x1cb877(0xdc)],_0x37a2e3[_0x1cb877(0xdc)])?_0x13f28c[_0x1cb877(0x195)](_0x37a2e3['ctcEM']):logger[_0x1cb877(0x1b0)](_0x1cb877(0x14e)+_0x22cdc7[_0x1cb877(0x1b0)][_0x1cb877(0x1b4)]));}async function generateReport(_0x4806f0,_0x115702){const _0xfb729f=a17_0x9fc242,_0x2d06f8={'lqNii':function(_0x5ca2d0,_0x39834f){return _0x5ca2d0+_0x39834f;},'mUCaQ':_0xfb729f(0x177),'fqkuT':_0xfb729f(0x17e),'WQZPl':function(_0x358817,_0x195db6){return _0x358817||_0x195db6;},'tEVbY':_0xfb729f(0x174),'mCUUo':'Error\x20Details:\x0a','cEEDX':_0xfb729f(0x1cc),'TFpfx':function(_0x41e3b9,_0x4b3318){return _0x41e3b9!=_0x4b3318;},'ieVSa':'is\x20already\x20present','lsnwA':_0xfb729f(0x124),'IWcbl':function(_0x270439){return _0x270439();}};let _0x16bbd5=_0xfb729f(0x18b)+global_registry[_0xfb729f(0x162)]+'\x20===\x0a\x0a';return _0x4806f0['forEach']((_0xe47be2,_0x3fb887)=>{const _0xd2d9d0=_0xfb729f,{header:_0x4995da,response:_0xada8de}=_0xe47be2,{status:_0x4c703b,data:_0x3d78da,error:_0x3a74fe}=_0xada8de;_0x16bbd5+=_0x4995da+'\x20#'+_0x2d06f8[_0xd2d9d0(0x154)](_0x3fb887,0x1)+'\x0a',_0x16bbd5+=_0xd2d9d0(0x185)+(_0x4c703b?_0x2d06f8[_0xd2d9d0(0x130)]:_0x2d06f8[_0xd2d9d0(0x156)])+'\x0a',_0x16bbd5+=_0xd2d9d0(0x114)+_0x2d06f8['WQZPl'](_0x3d78da,_0x2d06f8['tEVbY'])+'\x0a',_0x3a74fe&&(_0x16bbd5+=_0x2d06f8[_0xd2d9d0(0x15a)],_0x16bbd5+=_0xd2d9d0(0x188)+(_0x3a74fe[_0xd2d9d0(0xf3)]||_0x2d06f8['tEVbY'])+'\x0a',_0x16bbd5+=_0xd2d9d0(0x19a)+(_0x3a74fe['code']||_0x2d06f8[_0xd2d9d0(0x1ca)])+'\x0a',_0x16bbd5+=_0xd2d9d0(0x169)+(_0x3a74fe[_0xd2d9d0(0x1b4)]||_0x2d06f8[_0xd2d9d0(0x1ca)])+'\x0a'),_0x16bbd5+='\x0a\x0a';}),_0x16bbd5+=_0x2d06f8['cEEDX'],_0x2d06f8['TFpfx'](_0x115702,null)?_0x16bbd5+='Cluster\x20'+global_registry[_0xfb729f(0x1aa)]+'\x20'+(_0x115702?_0x2d06f8[_0xfb729f(0x198)]:_0x2d06f8[_0xfb729f(0x159)])+'\x0a\x0a':_0x16bbd5+=_0xfb729f(0x19f)+global_registry[_0xfb729f(0x1aa)]+'\x20details\x20cannot\x20be\x20fetched\x0a\x0a',_0x16bbd5+=_0x2d06f8[_0xfb729f(0xe1)](getSystemMetaData),_0x16bbd5;};exports[a17_0x9fc242(0xec)]=async function(_0x24fcfb){const _0x231106=a17_0x9fc242,_0x18f438={'CSXUF':function(_0x232ec4){return _0x232ec4();},'pVVGp':function(_0xb3e47c){return _0xb3e47c();},'aHjoY':'Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','VHBjJ':function(_0x10b552,_0x564de6,_0x48823e,_0x3c3d64,_0x309837,_0x5dad96,_0x105954,_0x4e72f6){return _0x10b552(_0x564de6,_0x48823e,_0x3c3d64,_0x309837,_0x5dad96,_0x105954,_0x4e72f6);},'OOomz':_0x231106(0x15d),'TyteC':_0x231106(0x1a2),'pliAW':_0x231106(0x1b0),'BSCUs':function(_0x54b9cb,_0x4074ca,_0x400348,_0x539dea,_0x4ada97,_0x36917a,_0x9be8f3){return _0x54b9cb(_0x4074ca,_0x400348,_0x539dea,_0x4ada97,_0x36917a,_0x9be8f3);},'Yyvte':function(_0x56f5fe){return _0x56f5fe();},'lJRjJ':_0x231106(0xdf),'JXUGQ':_0x231106(0x14b),'irifU':function(_0x422458,_0x2997a6,_0xf7d288){return _0x422458(_0x2997a6,_0xf7d288);},'aWJRG':function(_0xff30f7,_0x33ebf8,_0x4761b4,_0x4e6d15,_0x26a924,_0x336444,_0xd96bd6){return _0xff30f7(_0x33ebf8,_0x4761b4,_0x4e6d15,_0x26a924,_0x336444,_0xd96bd6);},'weOAU':_0x231106(0x16f),'MUfvv':_0x231106(0x123),'wRAXF':'0|3|1|2|4','ISwHI':function(_0x5cc28d,_0x341999,_0x46771d,_0x959a1e,_0x55df16,_0x701fd6,_0x4e0826,_0x319a3b){return _0x5cc28d(_0x341999,_0x46771d,_0x959a1e,_0x55df16,_0x701fd6,_0x4e0826,_0x319a3b);},'EIEos':function(_0x414d8e,_0xc309b,_0x3558ea){return _0x414d8e(_0xc309b,_0x3558ea);},'BjtgA':_0x231106(0x163),'qcGxA':'isTrialGridAccessible','XfSKx':function(_0x439e6e,_0x19b87f){return _0x439e6e(_0x19b87f);},'TwPct':_0x231106(0xcd),'MRCrk':function(_0x4fa159,_0x2a7750,_0x242e5b){return _0x4fa159(_0x2a7750,_0x242e5b);},'fjOxL':_0x231106(0x1a8),'gjdeD':_0x231106(0xca),'yzxWK':_0x231106(0x126),'SKopL':_0x231106(0x161),'RJudq':_0x231106(0x160),'YztWo':function(_0x3d13b3,_0x4ad552,_0x294a76){return _0x3d13b3(_0x4ad552,_0x294a76);},'rrWcp':function(_0x2ca360,_0x2afc4d){return _0x2ca360+_0x2afc4d;},'zXsvC':_0x231106(0x107),'mshdJ':_0x231106(0x12d)};let _0x555f01,_0x526bba;try{global_registry['requestId']=_0x18f438[_0x231106(0x12b)](uuidv4);!fs[_0x231106(0xf7)](_0x18f438[_0x231106(0x11f)](getCredentialsPath))&&(_0x526bba=_0x18f438[_0x231106(0x1a5)],logger[_0x231106(0x1b0)](_0x526bba),await _0x18f438[_0x231106(0x1ba)](reportToGalactusAndSendToEDS,_0x24fcfb,_0x555f01,_0x526bba,messageTypes[_0x231106(0x11e)],_0x18f438[_0x231106(0x149)],_0x18f438[_0x231106(0x17d)],_0x18f438[_0x231106(0x1a0)]),process[_0x231106(0x16a)](0x1));_0x18f438[_0x231106(0xf9)](sendInstrumentationEvent,_0x24fcfb,_0x18f438['OOomz'],messageTypes['INFO'],null,null,_0x24fcfb);const _0x1f6ccf=JSON[_0x231106(0x13f)](fs[_0x231106(0xe3)](_0x18f438[_0x231106(0xf8)](getCredentialsPath)));global_registry[_0x231106(0x1c0)]=_0x1f6ccf['Browserstack']['username'],global_registry[_0x231106(0x1a9)]=_0x1f6ccf[_0x231106(0xd1)][_0x231106(0xe9)];const _0x20631e=WS_ENDPOINT['replace'](_0x18f438[_0x231106(0xfb)],_0x1f6ccf[_0x231106(0xd1)][_0x231106(0x196)])['replace'](_0x18f438[_0x231106(0x16b)],_0x1f6ccf[_0x231106(0xd1)][_0x231106(0xe9)]),_0x4d2809={};_0x4d2809[_0x231106(0x1a6)]=ws,_0x4d2809[_0x231106(0xed)]=0x36ee80,_0x555f01=new ReconnectingWebSocket(_0x20631e,[],_0x4d2809),global_registry[_0x231106(0xe2)]=_0x18f438[_0x231106(0xd2)](getAuthHeader,global_registry[_0x231106(0x1c0)],global_registry[_0x231106(0x1a9)]),await _0x18f438[_0x231106(0xd2)](inputValidation,_0x24fcfb,_0x555f01),logger['info'](_0x231106(0x1bc)+global_registry[_0x231106(0x162)]+'\x20region\x20-\x20'+global_registry['clusterRegion']);let _0x1fbc81=await _0x18f438[_0x231106(0x1c6)](getCloudProviderObjectWithOutInit,global_registry[_0x231106(0x162)],global_registry['clusterName'],_0x18f438['weOAU'],_0x555f01,webSocketUtils,_0x24fcfb);const _0x1851ff=await _0x1fbc81['isCliToolInstalled']();_0x18f438[_0x231106(0xd2)](printResponse,_0x18f438['MUfvv'],_0x1851ff),_0x1fbc81=await _0x1fbc81[_0x231106(0x1c4)]();let _0x46e0ba=![];try{_0x46e0ba=await _0x1fbc81['isClusterPresent']();}catch(_0x4cbd42){const _0xa7a9b=_0x18f438[_0x231106(0x139)][_0x231106(0x14f)]('|');let _0x3d4c53=0x0;while(!![]){switch(_0xa7a9b[_0x3d4c53++]){case'0':_0x526bba=_0x231106(0x1b5)+global_registry[_0x231106(0x1aa)]+_0x231106(0x170)+global_registry['clusterRegion']+_0x231106(0x1c9)+_0x4cbd42;continue;case'1':logger[_0x231106(0x1b0)](_0x526bba);continue;case'2':_0x526bba+='\x0a'+JSON[_0x231106(0x167)](_0x4cbd42[_0x231106(0x1b4)]);continue;case'3':_0x46e0ba=null;continue;case'4':await _0x18f438['ISwHI'](reportToGalactusAndSendToEDS,_0x24fcfb,_0x555f01,_0x526bba,messageTypes['ERROR'],_0x18f438['OOomz'],_0x231106(0x164)+global_registry[_0x231106(0x162)],_0x18f438[_0x231106(0x1a0)]);continue;}break;}}_0x46e0ba&&logger[_0x231106(0x13e)](_0x231106(0x12f)+global_registry[_0x231106(0x1aa)]+_0x231106(0x18c));const _0x55ff9=await _0x1fbc81[_0x231106(0x141)]();_0x18f438[_0x231106(0x17a)](printResponse,_0x18f438[_0x231106(0x199)],_0x55ff9);const _0x5481db=await _0x18f438[_0x231106(0x12b)](curlRequest);_0x18f438[_0x231106(0xd2)](printResponse,_0x18f438[_0x231106(0x157)],_0x5481db);const _0xebf062=await _0x18f438[_0x231106(0x1c2)](isTlsSupported,_0x18f438[_0x231106(0x155)]);_0x18f438[_0x231106(0x11a)](printResponse,_0x18f438[_0x231106(0x122)],_0xebf062);const _0x11aa87={};_0x11aa87[_0x231106(0x14a)]=_0x18f438[_0x231106(0xcf)],_0x11aa87[_0x231106(0x151)]=_0x1851ff;const _0x5c2d54={};_0x5c2d54[_0x231106(0x14a)]=_0x18f438[_0x231106(0x140)],_0x5c2d54['response']=_0x55ff9;const _0x24b2d7={};_0x24b2d7[_0x231106(0x14a)]=_0x18f438['SKopL'],_0x24b2d7[_0x231106(0x151)]=_0x5481db;const _0x41b6d9={};_0x41b6d9[_0x231106(0x14a)]=_0x18f438[_0x231106(0x189)],_0x41b6d9[_0x231106(0x151)]=_0xebf062;const _0x575ffa=[_0x11aa87,_0x5c2d54,_0x24b2d7,_0x41b6d9],_0x257a08=await _0x18f438[_0x231106(0x10b)](generateReport,_0x575ffa,_0x46e0ba),_0x2ebad7=new Date(),_0xc91886=_0x2ebad7[_0x231106(0xdd)]()+'_'+_0x18f438[_0x231106(0x115)](_0x2ebad7[_0x231106(0xf6)](),0x1)+'_'+_0x2ebad7[_0x231106(0x117)]()+'_'+_0x2ebad7[_0x231106(0x132)]()+'_'+_0x2ebad7[_0x231106(0x1cb)](),_0x2e7165='log/report_'+_0xc91886+_0x231106(0x11b);fs['writeFileSync'](_0x2e7165,_0x257a08,_0x18f438['zXsvC']),logger[_0x231106(0x13e)](_0x231106(0x131)+_0x2e7165),process[_0x231106(0x16a)](0x0);}catch(_0x4d2911){let _0xb7d548=_0x231106(0xee)+_0x4d2911+'\x20';logger[_0x231106(0x1b0)](_0xb7d548),_0xb7d548+='\x0a'+JSON[_0x231106(0x167)](_0x4d2911[_0x231106(0x1b4)]),logger['debug'](_0x231106(0x146)+_0x4d2911[_0x231106(0x1b4)]);if(_0x555f01){const _0x986214={};_0x986214[_0x231106(0x193)]=WS_EVENTS[_0x231106(0x10f)],_0x986214[_0x231106(0xf3)]=_0xb7d548,webSocketUtils[_0x231106(0x1af)](_0x555f01,_0x986214,_0x18f438[_0x231106(0x1a0)],!![]);}await webSocketUtils[_0x231106(0xda)](0x7d0);const _0x30c05c={};_0x30c05c['error']=_0xb7d548,await _0x18f438[_0x231106(0xf9)](sendInstrumentationEvent,_0x24fcfb,_0x18f438[_0x231106(0x149)],messageTypes[_0x231106(0x11e)],_0x18f438[_0x231106(0xf1)],_0x30c05c,_0x24fcfb),process['exit'](0x1);}};