const a17_0x49dcda=a17_0x3673;(function(_0x469a05,_0x5221d8){const _0x5919b3=a17_0x3673,_0x55466e=_0x469a05();while(!![]){try{const _0x105588=parseInt(_0x5919b3(0x128))/0x1+-parseInt(_0x5919b3(0x14b))/0x2*(parseInt(_0x5919b3(0xe6))/0x3)+parseInt(_0x5919b3(0x154))/0x4+-parseInt(_0x5919b3(0xf7))/0x5*(-parseInt(_0x5919b3(0x118))/0x6)+parseInt(_0x5919b3(0x8d))/0x7*(-parseInt(_0x5919b3(0xb4))/0x8)+parseInt(_0x5919b3(0xaa))/0x9+-parseInt(_0x5919b3(0xa2))/0xa;if(_0x105588===_0x5221d8)break;else _0x55466e['push'](_0x55466e['shift']());}catch(_0x918cc6){_0x55466e['push'](_0x55466e['shift']());}}}(a17_0xa364,0x9bd63));function a17_0xa364(){const _0x45ecf1=['split','body','YEocK','LCUao','Invalid\x20input.\x20grid\x20profiles:\x20','Error\x20Details:\x0a','BlHSE','kvGqY','KTbNQ','1218FMGpZT','pre-check-grid-profile-empty','Cluster\x20','qQHur','tkCxY','HKreq','CXqWN','\x20error\x20:\x20','tiGiY','2578636bgotLy','error\x20stack\x20:\x20','bqcSY','stringify','uuid','code','bstackUsername','UqNKg','pIeUX','push','cluster-name','fOKwJ','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','toLowerCase','OsQxg','pre-check-grid-called','isCliToolInstalled','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','Cluster\x20`','zvBeF',']\x20status\x20:\x20','find','\x20\x20Message:\x20','ZGZHH','uHsUf','pOBcy','parse','replace','Bouwf','.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again','Pre-check\x20running\x20for\x20Cloud\x20-\x20','\x20\x20Stack:\x20','VOhaR','sendEventToBackend','Jzrxo','GET','type','Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup','data','jFTVP','DIBjP','lyVUY','../../utils/utilityMethods','is\x20already\x20present','JoUHa','SSL\x20Configured','header','pre-check-cluster-args-not-passed','handler','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','jMZjn','pre_check','help','OOINr','\x20===\x0a\x0a','edgEu','PCdgy','jZKCZ','\x20data\x20:\x20','kcajw','22330tiugKp','readFileSync','authHeader','cloud-provider','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','bkVxm','.\x20Please\x20provide\x20all\x20required\x20arguments.','otFRe','jeCws','HGBwd','RooXZ','WYJaE','argv','ZaTYc','options','icrKk','writeFileSync','Browserstack','<UsernamePlaceholder>','unable\x20to\x20verify\x20if\x20cluster\x20`','https://','29049810LMJRmH','Jjgrv','VHQjj','ucNIG','GwxbP','Missing\x20required\x20arguments:\x20','User\x20Access','info','9086490Zfceuq','status','QTNrl','clusterName','Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','tKAQr','hobaq','checkAccess','isClusterPresent','../../utils/instrumentationUtils','376REohib','ESuSK','===\x20Precheck\x20Report\x20-\x20','join','Status:\x20','qCHqg','clusterRegion','vehWF','getUTCHours','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','nKKso','koOST','\x20\x20Code:\x20','Setting\x20cloud\x20provider\x20as\x20','exit','N/A','Kqvlp','CQCGD','bmbHP','UVsxx','response','will\x20be\x20created','`\x20is\x20present\x20in\x20region\x20`','qpfZw','got','accessResp','method','dummy-grid','uBdZh','FuYlt','yiPvg','HRUol','fbgzv','SItBM','HSFbt','pre-check-failed','IWdte','includes','chnIe','Muynt','region','kwYFr','name','rIuwK','bUvGR','mjsRp','rbyYU','Failed\x20in\x20pre-check!\x20Error:\x20','usage','xfeXt','507pDTOQM','NPGxH','getUTCMonth','error','description','FCWOv','delay','username','Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20','ERROR','xynqa','LGTNz','`\x20already\x20exists','DrHWg','epilogue','Message:\x20','HDngG','155RkRspY','message','yzpoN','isTrialGridAccessible','debug','LOG','../../config/constants','bstackAccesskey','requestId','hIJjK','tEWYY','cluster-check-failed-','DPvpS','pNQIL','reconnecting-websocket','SsPOo','Whitelisted\x20browserstack','grid\x20profile\x20flow\x20','opiaF','JGfjW','Failure','nBhci','kCwzH','command','oBKaK','CLOUD_PROVIDER','wckBT','IMRax','.txt','KgxsO','../../cloudproviders/utils','INFO','aUmRI','174060ATLsUd','grid','oubYE','\x20region\x20-\x20','SxRuH','EgaqL','string','gvrQE','headers','Success','stack','PUXmk','Fqvby','TLSv1_2_client_method','Ylbvi','/packages/cli/get-all-grid-profiles','1242560vKuXjs','yPhQK','init','bDPhI','zpeYK','XVaeH','password','kQkIy','connectionTimeout','KPUWC','NYsKU','vOPzG','DkrFr','<PasswordPlaceholder>','buheW','NjLal','kPEkE','forEach','Report\x20saved\x20in\x20','DqkTa','FnqXe','gridProfile','AUIwN','cloudProvider','credential-not-found','LfbRr'];a17_0xa364=function(){return _0x45ecf1;};return a17_0xa364();}const fs=require('fs'),ws=require('ws'),got=require(a17_0x49dcda(0xcc)),{v4:uuidv4}=require(a17_0x49dcda(0x158)),ReconnectingWebSocket=require(a17_0x49dcda(0x105)),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require(a17_0x49dcda(0x17e)),{logger}=require('../../config/logger'),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require(a17_0x49dcda(0xfd)),{getCloudProviderObjectWithOutInit}=require(a17_0x49dcda(0x115)),webSocketUtils=require('../../utils/webSocketUtils'),{sendInstrumentationEvent}=require(a17_0x49dcda(0xb3));exports[a17_0x49dcda(0x10e)]=a17_0x49dcda(0x119),exports['desc']=a17_0x49dcda(0x179),exports['builder']=function(_0x5d1962){const _0x5829d7=a17_0x49dcda,_0x55f1bf={};_0x55f1bf[_0x5829d7(0x12f)]=_0x5829d7(0xbd),_0x55f1bf[_0x5829d7(0x14a)]=_0x5829d7(0x11e),_0x55f1bf[_0x5829d7(0x138)]='Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.',_0x55f1bf[_0x5829d7(0xd1)]='Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.',_0x55f1bf[_0x5829d7(0x106)]=_0x5829d7(0x165),_0x55f1bf[_0x5829d7(0x156)]='help';const _0x5b61d2=_0x55f1bf,_0x389e97={};_0x389e97['description']=_0x5b61d2[_0x5829d7(0x12f)],_0x389e97[_0x5829d7(0x178)]=_0x5b61d2[_0x5829d7(0x14a)];const _0x5aa9ab={};_0x5aa9ab[_0x5829d7(0xea)]=_0x5b61d2[_0x5829d7(0x138)],_0x5aa9ab[_0x5829d7(0x178)]=_0x5b61d2[_0x5829d7(0x14a)];const _0x4a3dcf={};_0x4a3dcf[_0x5829d7(0xea)]=_0x5b61d2[_0x5829d7(0xd1)],_0x4a3dcf[_0x5829d7(0x178)]=_0x5b61d2[_0x5829d7(0x14a)];const _0x50a8b0={};_0x50a8b0[_0x5829d7(0xea)]=_0x5b61d2['SsPOo'],_0x50a8b0[_0x5829d7(0x178)]=_0x5b61d2['KTbNQ'];const _0x5cdb76={};return _0x5cdb76[_0x5829d7(0x15e)]=_0x389e97,_0x5cdb76[_0x5829d7(0x90)]=_0x5aa9ab,_0x5cdb76[_0x5829d7(0xdc)]=_0x4a3dcf,_0x5cdb76['grid-profile']=_0x50a8b0,_0x5d1962[_0x5829d7(0xe4)](HELP_HEADER_MESSAGE[_0x5829d7(0x187)])[_0x5829d7(0xf4)](HELP_FOOTER_MESSAGE)['options'](_0x5cdb76)[_0x5829d7(0x188)](_0x5b61d2[_0x5829d7(0x156)])[_0x5829d7(0x99)];};function a17_0x3673(_0x1ace3d,_0x2f90fe){const _0xa36440=a17_0xa364();return a17_0x3673=function(_0x367392,_0x56e1eb){_0x367392=_0x367392-0x87;let _0x36877e=_0xa36440[_0x367392];return _0x36877e;},a17_0x3673(_0x1ace3d,_0x2f90fe);}async function inputValidation(_0xa9bf7d,_0xc532aa){const _0x1b1ee6=a17_0x49dcda,_0x18406f={'yzpoN':'cloud-provider','lyVUY':'Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','oBKaK':'Error\x20Details:\x0a','GwxbP':'N/A','aUmRI':_0x1b1ee6(0x15e),'wLbYa':function(_0x214c2b,_0x5cb39d){return _0x214c2b+_0x5cb39d;},'DrHWg':_0x1b1ee6(0x121),'uHsUf':_0x1b1ee6(0x10b),'eyfzA':function(_0x241a1d,_0x39269d){return _0x241a1d||_0x39269d;},'IMRax':_0x1b1ee6(0xe9),'jeCws':_0x1b1ee6(0xbd),'UVsxx':_0x1b1ee6(0x11e),'rIuwK':_0x1b1ee6(0x160),'CMpXt':'Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','otFRe':'Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','NPGxH':_0x1b1ee6(0x188),'rbyYU':_0x1b1ee6(0x17f),'tkCxY':_0x1b1ee6(0xc9),'ucNIG':function(_0x2ec604,_0x49dc4e){return _0x2ec604!==_0x49dc4e;},'jMZjn':_0x1b1ee6(0x100),'DPvpS':function(_0x1750f5,_0x5135c9){return _0x1750f5===_0x5135c9;},'Bouwf':'tRLRY','tEWYY':'Rumzq','Jzrxo':_0x1b1ee6(0x92),'ECPDU':function(_0x1f5d78,_0x2787c7){return _0x1f5d78!==_0x2787c7;},'dgyZF':_0x1b1ee6(0x12b),'kwYFr':_0x1b1ee6(0x13e),'OOINr':function(_0x3a85ac,_0x44baaa){return _0x3a85ac!==_0x44baaa;},'DIBjP':'ElCnr','tiGiY':'efAEZ','uluHA':_0x1b1ee6(0xdc),'nKKso':function(_0x49530f,_0x126564){return _0x49530f>_0x126564;},'pOBcy':function(_0x469cfe,_0x144eab){return _0x469cfe===_0x144eab;},'mjsRp':_0x1b1ee6(0x10d),'jZKCZ':'dmtcw','jFTVP':function(_0x56daad,_0x5c3bc2,_0x4aa7ca,_0x2aca39,_0x39dff3,_0x3e067c,_0x4413c8,_0x2eebf9){return _0x56daad(_0x5c3bc2,_0x4aa7ca,_0x2aca39,_0x39dff3,_0x3e067c,_0x4413c8,_0x2eebf9);},'LGTNz':'pre-check-grid-called','IWdte':_0x1b1ee6(0x183),'VHQjj':function(_0x44397d,_0x5b415a){return _0x44397d!==_0x5b415a;},'Ykgid':_0x1b1ee6(0x141),'glPrF':_0x1b1ee6(0xd6),'vrOsi':_0x1b1ee6(0xae),'JGfjW':function(_0x1c3e12,_0x5a20b8,_0x442d55,_0x7c7c5c,_0x50c8b0,_0x33f1a0,_0x40a38c,_0x27a585){return _0x1c3e12(_0x5a20b8,_0x442d55,_0x7c7c5c,_0x50c8b0,_0x33f1a0,_0x40a38c,_0x27a585);},'RooXZ':'cloud-provider-not-supported','zvBeF':_0x1b1ee6(0x124),'ZEWOt':_0x1b1ee6(0x12d),'SxRuH':_0x1b1ee6(0x11f),'DqkTa':_0x1b1ee6(0x89),'fbgzv':_0x1b1ee6(0x177),'KPUWC':function(_0x415652,_0x130d17,_0x560a2d){return _0x415652(_0x130d17,_0x560a2d);},'ZGZHH':function(_0x4b6293,_0x560e6f,_0x2135ba,_0x1b3ab4,_0x2dce79,_0x2af969){return _0x4b6293(_0x560e6f,_0x2135ba,_0x1b3ab4,_0x2dce79,_0x2af969);},'edgEu':'pre-check','koOST':'grid-profile','Ylbvi':function(_0x48d59b,_0x40a1d2){return _0x48d59b===_0x40a1d2;},'ESuSK':'jJoGE','NYsKU':function(_0x5bd9a2,_0x9b38ec){return _0x5bd9a2(_0x9b38ec);},'JoUHa':_0x1b1ee6(0xbb),'HDngG':_0x1b1ee6(0x14c),'QyTnc':function(_0x1633c8,_0x1bc04c){return _0x1633c8!==_0x1bc04c;},'xynqa':'CEblb','buheW':_0x1b1ee6(0x162),'ZaTYc':_0x1b1ee6(0x13c),'qpfZw':'Grid\x20profile\x20fetched\x20for\x20pre-check','kvGqY':function(_0x3d643b,_0xb64e53){return _0x3d643b!==_0xb64e53;},'yPhQK':_0x1b1ee6(0xc5),'kcajw':function(_0x58dea1,_0x16c00c){return _0x58dea1!==_0x16c00c;},'zpeYK':_0x1b1ee6(0x15c),'izasR':_0x1b1ee6(0x144)};let _0x1b38c8;try{if(_0x18406f['ucNIG'](_0x18406f[_0x1b1ee6(0x186)],_0x18406f[_0x1b1ee6(0x186)]))_0xc505b8[_0x1b1ee6(0xa9)](_0x1b1ee6(0xc1)+_0x1e7d4c[_0x1b1ee6(0x110)]+'\x20'),_0x289b16[_0x1b1ee6(0x13f)]=_0x32ea56[_0x1b1ee6(0x110)];else{if(_0xa9bf7d[_0x1b1ee6(0xad)]||_0xa9bf7d[_0x1b1ee6(0x13f)]||_0xa9bf7d['region']){if(_0x18406f[_0x1b1ee6(0x103)](_0x18406f[_0x1b1ee6(0x170)],_0x18406f[_0x1b1ee6(0x101)]))_0x160214=_0x5afd5b;else{const _0x2f20a1=[];!_0xa9bf7d[_0x1b1ee6(0xad)]&&(_0x18406f[_0x1b1ee6(0xa5)](_0x18406f[_0x1b1ee6(0x176)],_0x18406f['Jzrxo'])?_0x38f811[_0x1b1ee6(0x15d)](_0x18406f[_0x1b1ee6(0xf9)]):_0x2f20a1[_0x1b1ee6(0x15d)](_0x18406f[_0x1b1ee6(0x117)]));;!_0xa9bf7d[_0x1b1ee6(0x13f)]&&(_0x18406f['ECPDU'](_0x18406f['dgyZF'],_0x18406f[_0x1b1ee6(0xdd)])?_0x2f20a1['push'](_0x18406f[_0x1b1ee6(0xf9)]):(_0x5a0b81[_0x1b1ee6(0xe9)](_0x18406f['lyVUY']),_0xf8c7f1['exit'](0x1)));;!_0xa9bf7d[_0x1b1ee6(0xdc)]&&(_0x18406f[_0x1b1ee6(0x189)](_0x18406f[_0x1b1ee6(0x17c)],_0x18406f[_0x1b1ee6(0x153)])?_0x2f20a1[_0x1b1ee6(0x15d)](_0x18406f['uluHA']):(_0x5854f5[_0x1b1ee6(0xa9)]('['+_0x2125fa+_0x1b1ee6(0x168)+_0x4ecfc4[_0x1b1ee6(0xab)]+_0x1b1ee6(0x8b)+_0x344b48['data']+_0x1b1ee6(0x152)+_0x34a521['error']),_0x56159b[_0x1b1ee6(0xe9)]&&_0x328157[_0x1b1ee6(0xe9)](_0x1b1ee6(0x155)+_0x13065c[_0x1b1ee6(0xe9)][_0x1b1ee6(0x122)])));;_0x18406f[_0x1b1ee6(0xbe)](_0x2f20a1['length'],0x0)&&(_0x18406f[_0x1b1ee6(0x16d)](_0x18406f[_0x1b1ee6(0xe1)],_0x18406f[_0x1b1ee6(0x8a)])?_0x54aee6+=_0x1b1ee6(0x14d)+_0x4d5495[_0x1b1ee6(0xad)]+_0x1b1ee6(0x91):(_0x1b38c8=_0x1b1ee6(0xa7)+_0x2f20a1[_0x1b1ee6(0xb7)](',\x20')+_0x1b1ee6(0x93),await _0x18406f['jFTVP'](reportToGalactusAndSendToEDS,_0xa9bf7d,_0xc532aa,_0x1b38c8,messageTypes[_0x1b1ee6(0xef)],_0x18406f[_0x1b1ee6(0xf1)],_0x18406f[_0x1b1ee6(0xd8)],_0x18406f[_0x1b1ee6(0x112)]),logger[_0x1b1ee6(0xe9)](_0x1b38c8),process[_0x1b1ee6(0xc2)](0x1))),!ALL_SUPPORTED_CLOUD_PROVIDERS[_0x1b1ee6(0xd9)](_0xa9bf7d[_0x1b1ee6(0x13f)][_0x1b1ee6(0x161)]())&&(_0x18406f[_0x1b1ee6(0xa4)](_0x18406f['Ykgid'],_0x18406f['glPrF'])?(_0x1b38c8=_0x18406f['vrOsi'],await _0x18406f[_0x1b1ee6(0x10a)](reportToGalactusAndSendToEDS,_0xa9bf7d,_0xc532aa,_0x1b38c8,messageTypes[_0x1b1ee6(0xef)],_0x18406f[_0x1b1ee6(0xf1)],_0x18406f[_0x1b1ee6(0x97)],_0x18406f[_0x1b1ee6(0x112)]),logger[_0x1b1ee6(0xe9)](_0x1b38c8),!_0xa9bf7d[_0x1b1ee6(0x13f)]&&(_0x18406f['DPvpS'](_0x18406f[_0x1b1ee6(0x167)],_0x18406f['ZEWOt'])?(_0x108991+=_0x18406f[_0x1b1ee6(0x10f)],_0x22a66d+='\x20\x20Message:\x20'+(_0x8cb805[_0x1b1ee6(0xf8)]||_0x18406f['GwxbP'])+'\x0a',_0xe4cdb1+=_0x1b1ee6(0xc0)+(_0x5c242a[_0x1b1ee6(0x159)]||_0x18406f['GwxbP'])+'\x0a',_0x371a1b+=_0x1b1ee6(0x173)+(_0x489708[_0x1b1ee6(0x122)]||_0x18406f['GwxbP'])+'\x0a'):(logger[_0x1b1ee6(0xa9)]('Setting\x20cloud\x20provider\x20as\x20'+DEFAULT_CLUSTER_DETAILS[_0x1b1ee6(0x110)]+'\x20'),_0xa9bf7d[_0x1b1ee6(0x13f)]=DEFAULT_CLUSTER_DETAILS[_0x1b1ee6(0x110)]))):_0x13366f['info'](_0x1b1ee6(0x166)+_0x51c76f['clusterName']+_0x1b1ee6(0xf2))),global_registry[_0x1b1ee6(0xad)]=_0xa9bf7d['clusterName'],global_registry[_0x1b1ee6(0x13f)]=_0xa9bf7d[_0x1b1ee6(0x13f)],global_registry[_0x1b1ee6(0xba)]=_0xa9bf7d[_0x1b1ee6(0xdc)];}}else{if(_0xa9bf7d[_0x1b1ee6(0x13d)]){if(_0x18406f[_0x1b1ee6(0x16d)](_0x18406f[_0x1b1ee6(0x11c)],_0x18406f[_0x1b1ee6(0x13b)]))_0x39e17a[_0x1b1ee6(0x15d)](_0x18406f[_0x1b1ee6(0x117)]);else{global_registry[_0x1b1ee6(0x13d)]=_0xa9bf7d['gridProfile'],logger['debug'](_0x1b1ee6(0x108)+_0xa9bf7d[_0x1b1ee6(0x13d)]);const _0x29c6df=_0x1b1ee6(0xa1)+AG_API_URL+_0x1b1ee6(0x127),_0x161e80={};_0x161e80[_0x1b1ee6(0xce)]=_0x18406f[_0x1b1ee6(0xd4)],_0x161e80[_0x1b1ee6(0x120)]=global_registry[_0x1b1ee6(0x8f)],_0x161e80['throwHttpErrors']=![];const _0x487622=_0x161e80,_0x2bf3fd=await _0x18406f[_0x1b1ee6(0x131)](got,_0x29c6df,_0x487622),_0x18ab5c=await _0x18406f[_0x1b1ee6(0x16b)](responseValidation,_0x2bf3fd,_0x18406f[_0x1b1ee6(0x88)],_0x18406f[_0x1b1ee6(0xbf)],_0xa9bf7d,_0xc532aa);let _0x4c5e7f={};if(_0x18406f[_0x1b1ee6(0x16d)](_0x18ab5c,0xc8)){if(_0x18406f[_0x1b1ee6(0x126)](_0x18406f[_0x1b1ee6(0xb5)],_0x18406f[_0x1b1ee6(0xb5)])){const _0x53a9a2=JSON['parse'](_0x2bf3fd[_0x1b1ee6(0x143)]),_0x5b798e=_0x53a9a2[_0x1b1ee6(0x169)](_0x55c71a=>_0x55c71a[_0x1b1ee6(0xde)]===_0xa9bf7d[_0x1b1ee6(0x13d)])||null;if(_0x18406f[_0x1b1ee6(0x132)](isUndefined,_0x5b798e)){if(_0x18406f['DPvpS'](_0x18406f[_0x1b1ee6(0x180)],_0x18406f[_0x1b1ee6(0x180)]))_0x1b38c8=_0x1b1ee6(0x146)+_0xa9bf7d[_0x1b1ee6(0x13d)]+_0x1b1ee6(0x171),await _0x18406f[_0x1b1ee6(0x17b)](reportToGalactusAndSendToEDS,_0xa9bf7d,_0xc532aa,_0x1b38c8,messageTypes[_0x1b1ee6(0xef)],_0x18406f['LGTNz'],_0x18406f[_0x1b1ee6(0xf6)],_0x18406f[_0x1b1ee6(0x112)]),logger[_0x1b1ee6(0xe9)](_0x1b38c8),process[_0x1b1ee6(0xc2)](0x1);else{const {header:_0x594506,response:_0x2f9fe6}=_0x6942ec,{status:_0xcb8e62,data:_0xa2586f,error:_0x14487c}=_0x2f9fe6;_0x2b432e+=_0x594506+'\x20#'+_0x18406f['wLbYa'](_0x5ee8b9,0x1)+'\x0a',_0x57e98f+='Status:\x20'+(_0xcb8e62?_0x18406f[_0x1b1ee6(0xf3)]:_0x18406f[_0x1b1ee6(0x16c)])+'\x0a',_0x2d8a21+=_0x1b1ee6(0xf5)+_0x18406f['eyfzA'](_0xa2586f,_0x18406f[_0x1b1ee6(0xa6)])+'\x0a',_0x14487c&&(_0x546f38+=_0x18406f[_0x1b1ee6(0x10f)],_0xcbdce+=_0x1b1ee6(0x16a)+(_0x14487c['message']||_0x18406f[_0x1b1ee6(0xa6)])+'\x0a',_0x56f946+=_0x1b1ee6(0xc0)+(_0x14487c[_0x1b1ee6(0x159)]||_0x18406f[_0x1b1ee6(0xa6)])+'\x0a',_0x3549c9+=_0x1b1ee6(0x173)+(_0x14487c[_0x1b1ee6(0x122)]||_0x18406f[_0x1b1ee6(0xa6)])+'\x0a'),_0x32632d+='\x0a\x0a';}}else{if(_0x18406f['QyTnc'](_0x18406f[_0x1b1ee6(0xf0)],_0x18406f[_0x1b1ee6(0x136)]))_0x4c5e7f=_0x5b798e;else{const _0xc0a4c={};_0xc0a4c[_0x1b1ee6(0x178)]=_0x5832f1[_0x1b1ee6(0xfc)],_0xc0a4c[_0x1b1ee6(0xf8)]=_0x7888c0,_0x4e80a2[_0x1b1ee6(0x175)](_0x208fab,_0xc0a4c,_0x18406f[_0x1b1ee6(0x112)],!![]);}}}else _0xa8446b[_0x1b1ee6(0xe9)](_0x1b1ee6(0x155)+_0x579d95['error'][_0x1b1ee6(0x122)]);}else{if(_0x18406f[_0x1b1ee6(0x16d)](_0x18406f[_0x1b1ee6(0x9a)],_0x18406f[_0x1b1ee6(0x9a)]))process[_0x1b1ee6(0xc2)](0x1);else{const _0x573399={};_0x573399[_0x1b1ee6(0xea)]=_0x18406f[_0x1b1ee6(0x95)],_0x573399[_0x1b1ee6(0x178)]=_0x18406f['UVsxx'];const _0x273082={};_0x273082['description']=_0x18406f[_0x1b1ee6(0xdf)],_0x273082[_0x1b1ee6(0x178)]=_0x18406f['UVsxx'];const _0x4d054e={};_0x4d054e[_0x1b1ee6(0xea)]=_0x18406f['CMpXt'],_0x4d054e['type']=_0x18406f[_0x1b1ee6(0xc7)];const _0x535755={};_0x535755['description']=_0x18406f[_0x1b1ee6(0x94)],_0x535755[_0x1b1ee6(0x178)]=_0x18406f[_0x1b1ee6(0xc7)];const _0xee50c2={};return _0xee50c2[_0x1b1ee6(0x15e)]=_0x573399,_0xee50c2[_0x1b1ee6(0x90)]=_0x273082,_0xee50c2[_0x1b1ee6(0xdc)]=_0x4d054e,_0xee50c2['grid-profile']=_0x535755,_0x356970[_0x1b1ee6(0xe4)](_0x324308[_0x1b1ee6(0x187)])['epilogue'](_0x506a2d)[_0x1b1ee6(0x9b)](_0xee50c2)[_0x1b1ee6(0x188)](_0x18406f[_0x1b1ee6(0xe7)])[_0x1b1ee6(0x99)];}}const _0x4d503f={};_0x4d503f[_0x1b1ee6(0x178)]=WS_EVENTS[_0x1b1ee6(0xfc)],_0x4d503f[_0x1b1ee6(0xf8)]=_0x18406f[_0x1b1ee6(0xcb)],webSocketUtils[_0x1b1ee6(0x175)](_0xc532aa,_0x4d503f),global_registry[_0x1b1ee6(0x13f)]=_0x4c5e7f[_0x1b1ee6(0x13f)],global_registry['clusterRegion']=_0x4c5e7f[_0x1b1ee6(0xdc)],global_registry[_0x1b1ee6(0xad)]=_0x4c5e7f['clusterName'];}}else _0x18406f[_0x1b1ee6(0x149)](_0x18406f[_0x1b1ee6(0x129)],_0x18406f['yPhQK'])?_0x56d185+=_0x1b1ee6(0x14d)+_0x3d1d57[_0x1b1ee6(0xad)]+'\x20'+(_0x4bd32f?_0x18406f[_0x1b1ee6(0xe2)]:_0x18406f[_0x1b1ee6(0x14f)])+'\x0a\x0a':(logger[_0x1b1ee6(0xe9)](_0x18406f[_0x1b1ee6(0x17d)]),process[_0x1b1ee6(0xc2)](0x1));}}}catch(_0x16640b){_0x18406f[_0x1b1ee6(0x8c)](_0x18406f[_0x1b1ee6(0x12c)],_0x18406f['izasR'])?(_0x1b38c8=_0x1b1ee6(0xee)+_0x16640b+':\x20'+_0x16640b[_0x1b1ee6(0x122)],logger[_0x1b1ee6(0xe9)](_0x1b38c8),await _0x18406f[_0x1b1ee6(0x10a)](reportToGalactusAndSendToEDS,_0xa9bf7d,_0xc532aa,_0x1b38c8,messageTypes[_0x1b1ee6(0xef)],_0x18406f[_0x1b1ee6(0xf1)],_0x18406f[_0x1b1ee6(0x97)],_0x18406f['IMRax']),process[_0x1b1ee6(0xc2)](0x1)):_0x3e9840['exit'](0x1);}}function printResponse(_0x490f80,_0x126e4e){const _0x20868f=a17_0x49dcda,_0x737787={};_0x737787[_0x20868f(0x98)]='region',_0x737787[_0x20868f(0x134)]=function(_0x2326f4,_0x228854){return _0x2326f4!==_0x228854;},_0x737787[_0x20868f(0xb0)]=_0x20868f(0x10c),_0x737787['HGBwd']=_0x20868f(0xd5);const _0x3eed0a=_0x737787;logger[_0x20868f(0xa9)]('['+_0x490f80+']\x20status\x20:\x20'+_0x126e4e[_0x20868f(0xab)]+'\x20data\x20:\x20'+_0x126e4e[_0x20868f(0x17a)]+'\x20error\x20:\x20'+_0x126e4e['error']),_0x126e4e[_0x20868f(0xe9)]&&(_0x3eed0a[_0x20868f(0x134)](_0x3eed0a['hobaq'],_0x3eed0a[_0x20868f(0x96)])?logger[_0x20868f(0xe9)](_0x20868f(0x155)+_0x126e4e['error']['stack']):_0xc3310f[_0x20868f(0x15d)](_0x3eed0a[_0x20868f(0x98)]));}async function generateReport(_0x24bc77,_0x4796e4){const _0x442765=a17_0x49dcda,_0x4d286f={'NjLal':function(_0x2380d8,_0x1b9119){return _0x2380d8+_0x1b9119;},'Kqvlp':'Success','YoiNM':_0x442765(0x10b),'wckBT':function(_0x50d16c,_0x258cb7){return _0x50d16c||_0x258cb7;},'xfeXt':_0x442765(0xc3),'PUXmk':_0x442765(0x147),'bUvGR':'Cluster\x20details\x0a-----------------------\x0a','uBdZh':function(_0x26c063,_0x2bc4b1){return _0x26c063!=_0x2bc4b1;},'LXPwR':_0x442765(0x17f),'QTNrl':_0x442765(0xc9),'xwbhn':function(_0xd8ef19){return _0xd8ef19();}};let _0x40b277=_0x442765(0xb6)+global_registry['cloudProvider']+_0x442765(0x87);return _0x24bc77[_0x442765(0x139)]((_0x4fc97f,_0x16a8dc)=>{const _0x97529b=_0x442765,{header:_0x4a8374,response:_0x2f4d2b}=_0x4fc97f,{status:_0x57ca30,data:_0x297797,error:_0x4b1573}=_0x2f4d2b;_0x40b277+=_0x4a8374+'\x20#'+_0x4d286f[_0x97529b(0x137)](_0x16a8dc,0x1)+'\x0a',_0x40b277+=_0x97529b(0xb8)+(_0x57ca30?_0x4d286f[_0x97529b(0xc4)]:_0x4d286f['YoiNM'])+'\x0a',_0x40b277+=_0x97529b(0xf5)+_0x4d286f[_0x97529b(0x111)](_0x297797,_0x4d286f['xfeXt'])+'\x0a',_0x4b1573&&(_0x40b277+=_0x4d286f[_0x97529b(0x123)],_0x40b277+=_0x97529b(0x16a)+(_0x4b1573[_0x97529b(0xf8)]||_0x4d286f[_0x97529b(0xe5)])+'\x0a',_0x40b277+='\x20\x20Code:\x20'+(_0x4b1573[_0x97529b(0x159)]||_0x4d286f[_0x97529b(0xe5)])+'\x0a',_0x40b277+='\x20\x20Stack:\x20'+(_0x4b1573[_0x97529b(0x122)]||_0x4d286f[_0x97529b(0xe5)])+'\x0a'),_0x40b277+='\x0a\x0a';}),_0x40b277+=_0x4d286f[_0x442765(0xe0)],_0x4d286f[_0x442765(0xd0)](_0x4796e4,null)?_0x40b277+=_0x442765(0x14d)+global_registry['clusterName']+'\x20'+(_0x4796e4?_0x4d286f['LXPwR']:_0x4d286f[_0x442765(0xac)])+'\x0a\x0a':_0x40b277+=_0x442765(0x14d)+global_registry['clusterName']+_0x442765(0x91),_0x40b277+=_0x4d286f['xwbhn'](getSystemMetaData),_0x40b277;};exports[a17_0x49dcda(0x184)]=async function(_0x2e2fec){const _0x29ccb0=a17_0x49dcda,_0x57465f={'qCHqg':function(_0x477fbe){return _0x477fbe();},'Jjgrv':function(_0x1cc16f){return _0x1cc16f();},'KgxsO':_0x29ccb0(0x185),'yAwAg':function(_0x51a606,_0x52e9c4,_0x4c0ffc,_0x1e59c1,_0x1fc588,_0x5466d4,_0x4d55ad,_0x537d99){return _0x51a606(_0x52e9c4,_0x4c0ffc,_0x1e59c1,_0x1fc588,_0x5466d4,_0x4d55ad,_0x537d99);},'UqNKg':_0x29ccb0(0x163),'CXqWN':_0x29ccb0(0x140),'LCUao':_0x29ccb0(0xe9),'HKreq':function(_0x14ebf6,_0x3b38b8,_0x1605e0,_0x196a0f,_0x3bb305,_0x19d609,_0x5f5ae3){return _0x14ebf6(_0x3b38b8,_0x1605e0,_0x196a0f,_0x3bb305,_0x19d609,_0x5f5ae3);},'hwAxR':_0x29ccb0(0x9f),'aFjoZ':_0x29ccb0(0x135),'qQHur':function(_0x13bb38,_0x263ed3,_0x3d4e80){return _0x13bb38(_0x263ed3,_0x3d4e80);},'icrKk':function(_0x37bd6b,_0x3c8a33,_0x3050a7){return _0x37bd6b(_0x3c8a33,_0x3050a7);},'Muynt':function(_0xd186ac,_0x47a300,_0xb366fc,_0x469dd6,_0xd94903,_0x3408d2,_0x2e9ba1){return _0xd186ac(_0x47a300,_0xb366fc,_0x469dd6,_0xd94903,_0x3408d2,_0x2e9ba1);},'chnIe':_0x29ccb0(0xcf),'oubYE':function(_0x45620d,_0x2541ad,_0x1d2f5d){return _0x45620d(_0x2541ad,_0x1d2f5d);},'bmbHP':'toolInstalledResp','tKAQr':'4|0|2|3|1','yiPvg':function(_0x3da80c,_0x1c8d08,_0x7e5b28,_0x373f72,_0x210b0e,_0x204fcb,_0x430444,_0x587740){return _0x3da80c(_0x1c8d08,_0x7e5b28,_0x373f72,_0x210b0e,_0x204fcb,_0x430444,_0x587740);},'DoyIC':function(_0x5e07a1,_0x16cef5,_0x1a987c){return _0x5e07a1(_0x16cef5,_0x1a987c);},'VtFxR':_0x29ccb0(0xcd),'KHHIr':_0x29ccb0(0xfa),'FCWOv':function(_0x4f2b76,_0x5138bf){return _0x4f2b76(_0x5138bf);},'fOKwJ':_0x29ccb0(0x125),'iUYtn':function(_0x1f9b73,_0x413c43,_0x54040f){return _0x1f9b73(_0x413c43,_0x54040f);},'EgaqL':'isTls1_2_SUPPORTED','BlHSE':'Tool\x20Installed','VOhaR':_0x29ccb0(0xa8),'pNQIL':_0x29ccb0(0x107),'glLjZ':_0x29ccb0(0x181),'vOPzG':function(_0x4aa91a,_0x6b7821){return _0x4aa91a+_0x6b7821;},'opiaF':'utf-8','HRUol':_0x29ccb0(0xd7)};let _0x5d20ed,_0x102701;try{global_registry[_0x29ccb0(0xff)]=_0x57465f[_0x29ccb0(0xb9)](uuidv4);!fs['existsSync'](_0x57465f[_0x29ccb0(0xa3)](getCredentialsPath))&&(_0x102701=_0x57465f[_0x29ccb0(0x114)],logger['error'](_0x102701),await _0x57465f['yAwAg'](reportToGalactusAndSendToEDS,_0x2e2fec,_0x5d20ed,_0x102701,messageTypes[_0x29ccb0(0xef)],_0x57465f[_0x29ccb0(0x15b)],_0x57465f[_0x29ccb0(0x151)],_0x57465f[_0x29ccb0(0x145)]),process[_0x29ccb0(0xc2)](0x1));_0x57465f[_0x29ccb0(0x150)](sendInstrumentationEvent,_0x2e2fec,_0x57465f['UqNKg'],messageTypes[_0x29ccb0(0x116)],null,null,_0x2e2fec);const _0x150178=JSON[_0x29ccb0(0x16e)](fs[_0x29ccb0(0x8e)](_0x57465f['Jjgrv'](getCredentialsPath)));global_registry[_0x29ccb0(0x15a)]=_0x150178[_0x29ccb0(0x9e)][_0x29ccb0(0xed)],global_registry['bstackAccesskey']=_0x150178[_0x29ccb0(0x9e)][_0x29ccb0(0x12e)];const _0x16464f=WS_ENDPOINT[_0x29ccb0(0x16f)](_0x57465f['hwAxR'],_0x150178[_0x29ccb0(0x9e)][_0x29ccb0(0xed)])[_0x29ccb0(0x16f)](_0x57465f['aFjoZ'],_0x150178['Browserstack']['password']),_0x24f846={};_0x24f846['WebSocket']=ws,_0x24f846[_0x29ccb0(0x130)]=0x36ee80,_0x5d20ed=new ReconnectingWebSocket(_0x16464f,[],_0x24f846),global_registry[_0x29ccb0(0x8f)]=_0x57465f[_0x29ccb0(0x14e)](getAuthHeader,global_registry[_0x29ccb0(0x15a)],global_registry[_0x29ccb0(0xfe)]),await _0x57465f['icrKk'](inputValidation,_0x2e2fec,_0x5d20ed),logger[_0x29ccb0(0xa9)](_0x29ccb0(0x172)+global_registry[_0x29ccb0(0x13f)]+_0x29ccb0(0x11b)+global_registry[_0x29ccb0(0xba)]);let _0x5e7119=await _0x57465f[_0x29ccb0(0xdb)](getCloudProviderObjectWithOutInit,global_registry[_0x29ccb0(0x13f)],global_registry[_0x29ccb0(0xad)],_0x57465f[_0x29ccb0(0xda)],_0x5d20ed,webSocketUtils,_0x2e2fec);const _0x5664c8=await _0x5e7119[_0x29ccb0(0x164)]();_0x57465f[_0x29ccb0(0x11a)](printResponse,_0x57465f[_0x29ccb0(0xc6)],_0x5664c8),_0x5e7119=await _0x5e7119[_0x29ccb0(0x12a)]();let _0x54371c=![];try{_0x54371c=await _0x5e7119[_0x29ccb0(0xb2)]();}catch(_0x3d1ad0){const _0x56510e=_0x57465f[_0x29ccb0(0xaf)][_0x29ccb0(0x142)]('|');let _0x199489=0x0;while(!![]){switch(_0x56510e[_0x199489++]){case'0':_0x54371c=null;continue;case'1':await _0x57465f[_0x29ccb0(0xd2)](reportToGalactusAndSendToEDS,_0x2e2fec,_0x5d20ed,_0x102701,messageTypes['ERROR'],_0x57465f[_0x29ccb0(0x15b)],_0x29ccb0(0x102)+global_registry['cloudProvider'],_0x57465f[_0x29ccb0(0x145)]);continue;case'2':logger[_0x29ccb0(0xe9)](_0x102701);continue;case'3':_0x102701+='\x0a'+JSON['stringify'](_0x3d1ad0[_0x29ccb0(0x122)]);continue;case'4':_0x102701=_0x29ccb0(0xa0)+global_registry[_0x29ccb0(0xad)]+_0x29ccb0(0xca)+global_registry['clusterRegion']+'`\x20,error\x20:\x20'+_0x3d1ad0;continue;}break;}}_0x54371c&&logger[_0x29ccb0(0xa9)]('Cluster\x20`'+global_registry['clusterName']+'`\x20already\x20exists');const _0x495f4e=await _0x5e7119[_0x29ccb0(0xb1)]();_0x57465f['DoyIC'](printResponse,_0x57465f['VtFxR'],_0x495f4e);const _0x3e26b0=await _0x57465f[_0x29ccb0(0xa3)](curlRequest);_0x57465f['qQHur'](printResponse,_0x57465f['KHHIr'],_0x3e26b0);const _0x5971b1=await _0x57465f[_0x29ccb0(0xeb)](isTlsSupported,_0x57465f[_0x29ccb0(0x15f)]);_0x57465f['iUYtn'](printResponse,_0x57465f[_0x29ccb0(0x11d)],_0x5971b1);const _0x223f29={};_0x223f29[_0x29ccb0(0x182)]=_0x57465f[_0x29ccb0(0x148)],_0x223f29[_0x29ccb0(0xc8)]=_0x5664c8;const _0x52955d={};_0x52955d[_0x29ccb0(0x182)]=_0x57465f[_0x29ccb0(0x174)],_0x52955d[_0x29ccb0(0xc8)]=_0x495f4e;const _0x19b06f={};_0x19b06f[_0x29ccb0(0x182)]=_0x57465f[_0x29ccb0(0x104)],_0x19b06f[_0x29ccb0(0xc8)]=_0x3e26b0;const _0x1f9cbd={};_0x1f9cbd['header']=_0x57465f['glLjZ'],_0x1f9cbd[_0x29ccb0(0xc8)]=_0x5971b1;const _0x2020e5=[_0x223f29,_0x52955d,_0x19b06f,_0x1f9cbd],_0x48b051=await _0x57465f[_0x29ccb0(0x9c)](generateReport,_0x2020e5,_0x54371c),_0xb51fa4=new Date(),_0x247c22=_0xb51fa4['getUTCFullYear']()+'_'+_0x57465f[_0x29ccb0(0x133)](_0xb51fa4[_0x29ccb0(0xe8)](),0x1)+'_'+_0xb51fa4['getUTCDate']()+'_'+_0xb51fa4[_0x29ccb0(0xbc)]()+'_'+_0xb51fa4['getUTCMinutes'](),_0x1685e6='log/report_'+_0x247c22+_0x29ccb0(0x113);fs[_0x29ccb0(0x9d)](_0x1685e6,_0x48b051,_0x57465f[_0x29ccb0(0x109)]),logger['info'](_0x29ccb0(0x13a)+_0x1685e6),process[_0x29ccb0(0xc2)](0x0);}catch(_0x3d2ca0){let _0x1f1031=_0x29ccb0(0xe3)+_0x3d2ca0+'\x20';logger['error'](_0x1f1031),_0x1f1031+='\x0a'+JSON[_0x29ccb0(0x157)](_0x3d2ca0[_0x29ccb0(0x122)]),logger[_0x29ccb0(0xfb)]('stack\x20trace\x20'+_0x3d2ca0[_0x29ccb0(0x122)]);if(_0x5d20ed){const _0x175780={};_0x175780['type']=WS_EVENTS[_0x29ccb0(0xfc)],_0x175780[_0x29ccb0(0xf8)]=_0x1f1031,webSocketUtils[_0x29ccb0(0x175)](_0x5d20ed,_0x175780,_0x57465f[_0x29ccb0(0x145)],!![]);}await webSocketUtils[_0x29ccb0(0xec)](0x7d0);const _0xe5ee75={};_0xe5ee75[_0x29ccb0(0xe9)]=_0x1f1031,await _0x57465f['Muynt'](sendInstrumentationEvent,_0x2e2fec,_0x57465f[_0x29ccb0(0x15b)],messageTypes['ERROR'],_0x57465f[_0x29ccb0(0xd3)],_0xe5ee75,_0x2e2fec),process[_0x29ccb0(0xc2)](0x1);}};