const a17_0x1ef3a9=a17_0x2a15;(function(_0x21baa3,_0x19929e){const _0x5ed995=a17_0x2a15,_0x3a7221=_0x21baa3();while(!![]){try{const _0x5b685e=-parseInt(_0x5ed995(0x2b1))/0x1+parseInt(_0x5ed995(0x264))/0x2*(-parseInt(_0x5ed995(0x2b2))/0x3)+parseInt(_0x5ed995(0x24f))/0x4*(-parseInt(_0x5ed995(0x27d))/0x5)+-parseInt(_0x5ed995(0x2a6))/0x6*(-parseInt(_0x5ed995(0x2ad))/0x7)+parseInt(_0x5ed995(0x255))/0x8+parseInt(_0x5ed995(0x249))/0x9*(parseInt(_0x5ed995(0x2be))/0xa)+parseInt(_0x5ed995(0x201))/0xb;if(_0x5b685e===_0x19929e)break;else _0x3a7221['push'](_0x3a7221['shift']());}catch(_0x5297b6){_0x3a7221['push'](_0x3a7221['shift']());}}}(a17_0x4321,0x672d4));function a17_0x2a15(_0x1e282a,_0x9eee32){const _0x4321e8=a17_0x4321();return a17_0x2a15=function(_0x2a1597,_0x53317e){_0x2a1597=_0x2a1597-0x1e7;let _0x30c847=_0x4321e8[_0x2a1597];return _0x30c847;},a17_0x2a15(_0x1e282a,_0x9eee32);}function a17_0x4321(){const _0x1874dd=['description','ERROR','\x20data\x20:\x20','options','194972czsRaj','isClusterPresent','aCzbC','FpSVn','1|4|0|3|2','RdcVn','LOG','`\x20already\x20exists','YsnnW','push','zAIpS','Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20','PRZtP','tWawk','dummy-grid','FfaiO','xLhyz','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','tdIik','ALsyH','stack','authHeader','Setting\x20cloud\x20provider\x20as\x20','toolInstalledResp','utf-8','1946450ZIwjou','Cluster\x20','getUTCMonth',']\x20status\x20:\x20','IUYMX','PGINr','irooA','BRwGk','yTnbc','tVuRK','unable\x20to\x20verify\x20if\x20cluster\x20`','Cluster\x20`','DKkgl','argv','RWsbn','find','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','rdzpX','vamIt','oOlKz','requestId','header','password','gxkwv','Tool\x20Installed','KQRhM','Success','lXZdc','error\x20stack\x20:\x20','username','OfQRw','AvKBO','LmVwq','replace','JmVeE','.\x20Please\x20provide\x20all\x20required\x20arguments.','IDDNj','===\x20Precheck\x20Report\x20-\x20','message','data','Sgast','2238GZvpQf','uNTLD','.txt','fcsTm','desc','info','grid\x20profile\x20flow\x20','11893YhpoFg','tRrKx','CLOUD_PROVIDER','\x20\x20Code:\x20','459645AdpXeT','18CrVMHi','cloudProvider','FIdUI','isTrialGridAccessible','ffdpb','bstackAccesskey','yYPWh','peyos','stack\x20trace\x20','zebLZ','FxkYU','readFileSync','3568230DtHnRQ','Message:\x20','OgtNJ','will\x20be\x20created','mbnnj','accessResp','Rpodk','aPApF','cluster-check-failed-','TuGcc','region','hUKbV','code','parse','JvJwW','\x20\x20Stack:\x20','command','<PasswordPlaceholder>','.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again','xJSXR','isTls1_2_SUPPORTED','dvudh','Browserstack','CxfOQ','fGAdw','TXpGD','headers','type','../../utils/webSocketUtils','YNXCc','Error\x20Details:\x0a','YNvmf','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','rIVYw','debug','DaeIz','aFZjD','YnIei','CfGVz','adIFA','credential-not-found','opOGg','stringify','xNdJU','length','User\x20Access','pre-check-grid-called','TLSv1_2_client_method','Failure','QckQz','ncWyp','cloud-provider','rwbdX','pre-check-grid-profile-empty','okEYp','\x20===\x0a\x0a','QjGgR','string','toLowerCase','clusterRegion','Txzhv','exit','ajxnR','rlEQj','pre-check','Failed\x20in\x20pre-check!\x20Error:\x20','Yvrcs','VMfCt','Missing\x20required\x20arguments:\x20','Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','split','bdksW','Cluster\x20details\x0a-----------------------\x0a','help','response','Pre-check\x20running\x20for\x20Cloud\x20-\x20','epilogue','4061860ybuazO','xlcQO','VqMTF','xaFyE','cluster-name','szfkz','sendEventToBackend','hMXrq','getUTCHours','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','XuUEF','N/A','jMwnF','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','GGivB','CXCfr','is\x20already\x20present','rRZjW','FmVpm','\x20region\x20-\x20','bstackUsername','../../config/logger','Grid\x20profile\x20fetched\x20for\x20pre-check','MzIfO','`\x20is\x20present\x20in\x20region\x20`','oekJA','HPVKV','FAdvp','body','LTMLD','throwHttpErrors','eaWel','`\x20,error\x20:\x20','checkAccess','irfoP','SvwLK','hMNsK','UUNxP','fkZYY','error','iDfLO','usage','ERTeM','Report\x20saved\x20in\x20','../../utils/utilityMethods','gridProfile','yqjdG','UZOMk','Ibmzh','SlXXD','ajzVv','nbBYE','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','aayBl','pre_check','\x20error\x20:\x20','forEach','writeFileSync','FjxpC','WofsI','spOyz','UrYOa','grid-profile','init','getUTCFullYear','WebSocket','https://','CuUar','\x20\x20Message:\x20','gZIOg','cloud-provider-not-supported','/packages/cli/get-all-grid-profiles','18osqPyb','LPDtL','name','SSL\x20Configured','lbkHa','qyBEq','4DBmJAV','Invalid\x20input.\x20grid\x20profiles:\x20','lhPZA','pre-check-failed','Status:\x20','DprTe','1118640jMgBbg','clusterName','YQTMB','../../cloudproviders/utils','IVGmg','Tqcob','join','pre-check-cluster-args-not-passed','got','Xqjnm','RCCfe'];a17_0x4321=function(){return _0x1874dd;};return a17_0x4321();}const fs=require('fs'),ws=require('ws'),got=require(a17_0x1ef3a9(0x25d)),{v4:uuidv4}=require('uuid'),ReconnectingWebSocket=require('reconnecting-websocket'),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require(a17_0x1ef3a9(0x22d)),{logger}=require(a17_0x1ef3a9(0x216)),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require('../../config/constants'),{getCloudProviderObjectWithOutInit}=require(a17_0x1ef3a9(0x258)),webSocketUtils=require(a17_0x1ef3a9(0x2da)),{sendInstrumentationEvent}=require('../../utils/instrumentationUtils');exports[a17_0x1ef3a9(0x2ce)]='grid',exports[a17_0x1ef3a9(0x2aa)]='Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup',exports['builder']=function(_0x21391d){const _0x3cdb26=a17_0x1ef3a9,_0x374c01={};_0x374c01[_0x3cdb26(0x2e5)]=_0x3cdb26(0x28d),_0x374c01[_0x3cdb26(0x270)]='string',_0x374c01['bdksW']='Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.',_0x374c01[_0x3cdb26(0x2b8)]=_0x3cdb26(0x275),_0x374c01[_0x3cdb26(0x203)]=_0x3cdb26(0x235),_0x374c01['irfoP']=_0x3cdb26(0x1fd);const _0xef8ada=_0x374c01,_0x15ff65={};_0x15ff65[_0x3cdb26(0x260)]=_0xef8ada[_0x3cdb26(0x2e5)],_0x15ff65[_0x3cdb26(0x2d9)]=_0xef8ada[_0x3cdb26(0x270)];const _0x3b6d14={};_0x3b6d14[_0x3cdb26(0x260)]=_0xef8ada[_0x3cdb26(0x1fb)],_0x3b6d14[_0x3cdb26(0x2d9)]=_0xef8ada[_0x3cdb26(0x270)];const _0x4f8fe5={};_0x4f8fe5[_0x3cdb26(0x260)]=_0xef8ada[_0x3cdb26(0x2b8)],_0x4f8fe5['type']=_0xef8ada[_0x3cdb26(0x270)];const _0x8167d0={};_0x8167d0[_0x3cdb26(0x260)]=_0xef8ada['VqMTF'],_0x8167d0[_0x3cdb26(0x2d9)]=_0xef8ada[_0x3cdb26(0x270)];const _0x3ce24e={};return _0x3ce24e[_0x3cdb26(0x205)]=_0x15ff65,_0x3ce24e[_0x3cdb26(0x1e7)]=_0x3b6d14,_0x3ce24e[_0x3cdb26(0x2c8)]=_0x4f8fe5,_0x3ce24e[_0x3cdb26(0x23f)]=_0x8167d0,_0x21391d['usage'](HELP_HEADER_MESSAGE[_0x3cdb26(0x237)])['epilogue'](HELP_FOOTER_MESSAGE)[_0x3cdb26(0x263)](_0x3ce24e)['help'](_0xef8ada[_0x3cdb26(0x223)])[_0x3cdb26(0x28a)];};async function inputValidation(_0x4159a9,_0x5f22ee){const _0x26555a=a17_0x1ef3a9,_0x504b9c={'qyBEq':_0x26555a(0x211),'rRZjW':_0x26555a(0x2c1),'eaWel':_0x26555a(0x2c8),'Rpodk':_0x26555a(0x228),'rlEQj':_0x26555a(0x2dc),'zebLZ':_0x26555a(0x20c),'tWawk':_0x26555a(0x20e),'xJSXR':_0x26555a(0x28d),'rwbdX':_0x26555a(0x1ed),'LmVwq':'Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','KQRhM':'Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','ERTeM':_0x26555a(0x235),'TXpGD':_0x26555a(0x1fd),'VMfCt':function(_0x3412d4,_0x475d8d){return _0x3412d4+_0x475d8d;},'SvwLK':_0x26555a(0x297),'LzLjH':_0x26555a(0x2ee),'rIVYw':function(_0x1b278a,_0x29376f){return _0x1b278a||_0x29376f;},'CxfOQ':_0x26555a(0x1e7),'Yvrcs':'cluster-name','CfGVz':function(_0x15feed,_0x45c4f2){return _0x15feed!==_0x45c4f2;},'ciZRJ':_0x26555a(0x20d),'WofsI':_0x26555a(0x2bc),'xlcQO':function(_0x2ba00f,_0x265a3d){return _0x2ba00f!==_0x265a3d;},'OfQRw':_0x26555a(0x23e),'hMXrq':function(_0x256707,_0x11fc28){return _0x256707===_0x11fc28;},'RCCfe':'tYAmM','EcbTM':function(_0x34d23c,_0x10a3e7){return _0x34d23c===_0x10a3e7;},'RWsbn':_0x26555a(0x2b6),'BRwGk':function(_0xf7239,_0x3753ab){return _0xf7239!==_0x3753ab;},'hMNsK':_0x26555a(0x244),'zAIpS':function(_0x3bb7e9,_0x379d84){return _0x3bb7e9>_0x379d84;},'ncWyp':_0x26555a(0x213),'DprTe':function(_0x1ff6a2,_0x164132,_0x29d9dc,_0x331d0,_0xa513b5,_0x1c6014,_0x570ff1,_0x39740c){return _0x1ff6a2(_0x164132,_0x29d9dc,_0x331d0,_0xa513b5,_0x1c6014,_0x570ff1,_0x39740c);},'tRrKx':_0x26555a(0x2ec),'CBltj':_0x26555a(0x25c),'xNdJU':function(_0x35c54a,_0x2dd182){return _0x35c54a===_0x2dd182;},'lXZdc':_0x26555a(0x21c),'gQJFK':_0x26555a(0x246),'Xqjnm':_0x26555a(0x1f9),'lbkHa':_0x26555a(0x247),'szfkz':function(_0x343820,_0x47f0e5){return _0x343820!==_0x47f0e5;},'Sgast':_0x26555a(0x22f),'LPDtL':_0x26555a(0x1f2),'spOyz':_0x26555a(0x251),'JmVeE':'GET','MwdhK':function(_0x503400,_0x1f617b,_0xddc610){return _0x503400(_0x1f617b,_0xddc610);},'gxkwv':function(_0x11ab29,_0x229490,_0x8ec7f3,_0x1f95ce,_0x51561c,_0x32359e){return _0x11ab29(_0x229490,_0x8ec7f3,_0x1f95ce,_0x51561c,_0x32359e);},'FIdUI':_0x26555a(0x1f4),'OgtNJ':_0x26555a(0x23f),'mbnnj':function(_0x2da794,_0x39811b){return _0x2da794===_0x39811b;},'fcsTm':function(_0x2a8c92,_0x12a4fb){return _0x2a8c92===_0x12a4fb;},'YNvmf':_0x26555a(0x2c9),'oOlKz':_0x26555a(0x20b),'JvJwW':function(_0x169432,_0x50e087){return _0x169432(_0x50e087);},'vamIt':_0x26555a(0x2c5),'vdokk':_0x26555a(0x1ea),'HReUP':_0x26555a(0x1e9),'UZOMk':function(_0x24d07d,_0xbaa704){return _0x24d07d!==_0xbaa704;},'fGAdw':_0x26555a(0x25a),'yTnbc':_0x26555a(0x227),'iDfLO':_0x26555a(0x2a7),'Txzhv':_0x26555a(0x217),'xaFyE':_0x26555a(0x2db),'nskzZ':function(_0xc44364,_0x3b7b37){return _0xc44364===_0x3b7b37;},'irooA':_0x26555a(0x26c),'tdIik':_0x26555a(0x267)};let _0x1a3759;try{if(_0x504b9c[_0x26555a(0x2e4)](_0x504b9c['ciZRJ'],_0x504b9c[_0x26555a(0x23c)])){if(_0x4159a9[_0x26555a(0x256)]||_0x4159a9[_0x26555a(0x2b3)]||_0x4159a9['region']){if(_0x504b9c[_0x26555a(0x202)](_0x504b9c[_0x26555a(0x29b)],_0x504b9c[_0x26555a(0x29b)]))_0x3846ba+=_0x26555a(0x27e)+_0x1ea780[_0x26555a(0x256)]+'\x20'+(_0x159b6f?_0x504b9c[_0x26555a(0x24e)]:_0x504b9c[_0x26555a(0x212)])+'\x0a\x0a';else{const _0x1bbbc1=[];!_0x4159a9[_0x26555a(0x256)]&&(_0x504b9c[_0x26555a(0x208)](_0x504b9c[_0x26555a(0x25f)],_0x504b9c[_0x26555a(0x25f)])?_0x1bbbc1[_0x26555a(0x26d)](_0x504b9c[_0x26555a(0x1f6)]):_0x353ce7['exit'](0x1));;!_0x4159a9[_0x26555a(0x2b3)]&&(_0x504b9c['EcbTM'](_0x504b9c['RWsbn'],_0x504b9c[_0x26555a(0x28b)])?_0x1bbbc1[_0x26555a(0x26d)](_0x504b9c[_0x26555a(0x2d5)]):_0x532326['error'](_0x26555a(0x299)+_0x352819[_0x26555a(0x228)][_0x26555a(0x278)]));;!_0x4159a9[_0x26555a(0x2c8)]&&(_0x504b9c[_0x26555a(0x284)](_0x504b9c[_0x26555a(0x225)],_0x504b9c[_0x26555a(0x225)])?_0x181d66['push'](_0x504b9c[_0x26555a(0x220)]):_0x1bbbc1[_0x26555a(0x26d)](_0x504b9c[_0x26555a(0x220)]));;if(_0x504b9c[_0x26555a(0x26e)](_0x1bbbc1[_0x26555a(0x2ea)],0x0)){if(_0x504b9c[_0x26555a(0x202)](_0x504b9c[_0x26555a(0x2f0)],_0x504b9c[_0x26555a(0x2f0)])){const _0x3dc154={};_0x3dc154[_0x26555a(0x2d9)]=_0x28cbee['LOG'],_0x3dc154[_0x26555a(0x2a3)]=_0x250236,_0x40c7bb['sendEventToBackend'](_0x36cdfb,_0x3dc154,_0x504b9c[_0x26555a(0x2c4)],!![]);}else _0x1a3759=_0x26555a(0x1f8)+_0x1bbbc1[_0x26555a(0x25b)](',\x20')+_0x26555a(0x2a0),await _0x504b9c[_0x26555a(0x254)](reportToGalactusAndSendToEDS,_0x4159a9,_0x5f22ee,_0x1a3759,messageTypes[_0x26555a(0x261)],_0x504b9c['tRrKx'],_0x504b9c['CBltj'],_0x504b9c[_0x26555a(0x2c4)]),logger['error'](_0x1a3759),process[_0x26555a(0x1f1)](0x1);}!ALL_SUPPORTED_CLOUD_PROVIDERS['includes'](_0x4159a9['cloudProvider'][_0x26555a(0x1ee)]())&&(_0x504b9c[_0x26555a(0x2e9)](_0x504b9c[_0x26555a(0x298)],_0x504b9c['gQJFK'])?(_0x39053e+=_0x504b9c[_0x26555a(0x1f3)],_0xb6785d+=_0x26555a(0x245)+(_0x33d394[_0x26555a(0x2a3)]||_0x504b9c['zebLZ'])+'\x0a',_0x1851ac+='\x20\x20Code:\x20'+(_0x3768c1[_0x26555a(0x2ca)]||_0x504b9c[_0x26555a(0x2bb)])+'\x0a',_0x527261+=_0x26555a(0x2cd)+(_0x5ed2e8[_0x26555a(0x278)]||_0x504b9c[_0x26555a(0x2bb)])+'\x0a'):(_0x1a3759=_0x504b9c[_0x26555a(0x25e)],await _0x504b9c[_0x26555a(0x254)](reportToGalactusAndSendToEDS,_0x4159a9,_0x5f22ee,_0x1a3759,messageTypes[_0x26555a(0x261)],_0x504b9c[_0x26555a(0x2ae)],_0x504b9c[_0x26555a(0x24d)],_0x504b9c[_0x26555a(0x2c4)]),logger['error'](_0x1a3759),!_0x4159a9[_0x26555a(0x2b3)]&&(_0x504b9c[_0x26555a(0x206)](_0x504b9c['Sgast'],_0x504b9c[_0x26555a(0x2a5)])?_0x4d376f+=_0x26555a(0x27e)+_0x20bd55[_0x26555a(0x256)]+_0x26555a(0x2de):(logger[_0x26555a(0x2ab)](_0x26555a(0x27a)+DEFAULT_CLUSTER_DETAILS['CLOUD_PROVIDER']+'\x20'),_0x4159a9[_0x26555a(0x2b3)]=DEFAULT_CLUSTER_DETAILS[_0x26555a(0x2af)])))),global_registry[_0x26555a(0x256)]=_0x4159a9[_0x26555a(0x256)],global_registry[_0x26555a(0x2b3)]=_0x4159a9[_0x26555a(0x2b3)],global_registry['clusterRegion']=_0x4159a9[_0x26555a(0x2c8)];}}else{if(_0x4159a9[_0x26555a(0x22e)]){if(_0x504b9c['EcbTM'](_0x504b9c[_0x26555a(0x24a)],_0x504b9c[_0x26555a(0x23d)]))_0x362ab4=_0x781bd4;else{global_registry[_0x26555a(0x22e)]=_0x4159a9[_0x26555a(0x22e)],logger[_0x26555a(0x2e0)](_0x26555a(0x2ac)+_0x4159a9['gridProfile']);const _0x4a7388=_0x26555a(0x243)+AG_API_URL+_0x26555a(0x248),_0x200ab1={};_0x200ab1['method']=_0x504b9c[_0x26555a(0x29f)],_0x200ab1[_0x26555a(0x2d8)]=global_registry[_0x26555a(0x279)],_0x200ab1[_0x26555a(0x21f)]=![];const _0x4389d5=_0x200ab1,_0x26bc0c=await _0x504b9c['MwdhK'](got,_0x4a7388,_0x4389d5),_0x1729c1=await _0x504b9c[_0x26555a(0x294)](responseValidation,_0x26bc0c,_0x504b9c[_0x26555a(0x2b4)],_0x504b9c[_0x26555a(0x2c0)],_0x4159a9,_0x5f22ee);let _0x58c66f={};if(_0x504b9c[_0x26555a(0x2c2)](_0x1729c1,0xc8)){if(_0x504b9c[_0x26555a(0x2a9)](_0x504b9c[_0x26555a(0x2dd)],_0x504b9c[_0x26555a(0x290)]))_0x587d7b['error'](_0x504b9c['tWawk']),_0x3ec4c7['exit'](0x1);else{const _0x5c7868=JSON[_0x26555a(0x2cb)](_0x26bc0c[_0x26555a(0x21d)]),_0x18a2c3=_0x5c7868[_0x26555a(0x28c)](_0x34dda9=>_0x34dda9[_0x26555a(0x24b)]===_0x4159a9[_0x26555a(0x22e)])||null;if(_0x504b9c[_0x26555a(0x2cc)](isUndefined,_0x18a2c3)){if(_0x504b9c[_0x26555a(0x206)](_0x504b9c[_0x26555a(0x28f)],_0x504b9c['vdokk']))_0x1a3759=_0x26555a(0x250)+_0x4159a9['gridProfile']+_0x26555a(0x2d0),await _0x504b9c[_0x26555a(0x254)](reportToGalactusAndSendToEDS,_0x4159a9,_0x5f22ee,_0x1a3759,messageTypes[_0x26555a(0x261)],_0x504b9c['tRrKx'],_0x504b9c['HReUP'],_0x504b9c[_0x26555a(0x2c4)]),logger[_0x26555a(0x228)](_0x1a3759),process[_0x26555a(0x1f1)](0x1);else{const _0x46a4d9={};_0x46a4d9['description']=_0x504b9c[_0x26555a(0x2d1)],_0x46a4d9[_0x26555a(0x2d9)]=_0x504b9c['rwbdX'];const _0x5aae3c={};_0x5aae3c[_0x26555a(0x260)]=_0x504b9c[_0x26555a(0x29d)],_0x5aae3c['type']=_0x504b9c[_0x26555a(0x1e8)];const _0x4dc2b0={};_0x4dc2b0[_0x26555a(0x260)]=_0x504b9c[_0x26555a(0x296)],_0x4dc2b0['type']=_0x504b9c['rwbdX'];const _0x4d8219={};_0x4d8219['description']=_0x504b9c[_0x26555a(0x22b)],_0x4d8219['type']=_0x504b9c[_0x26555a(0x1e8)];const _0x3a3e08={};return _0x3a3e08[_0x26555a(0x205)]=_0x46a4d9,_0x3a3e08[_0x26555a(0x1e7)]=_0x5aae3c,_0x3a3e08[_0x26555a(0x2c8)]=_0x4dc2b0,_0x3a3e08[_0x26555a(0x23f)]=_0x4d8219,_0x1365c0[_0x26555a(0x22a)](_0x5c3751[_0x26555a(0x237)])[_0x26555a(0x200)](_0x4709c4)[_0x26555a(0x263)](_0x3a3e08)[_0x26555a(0x1fd)](_0x504b9c[_0x26555a(0x2d7)])['argv'];}}else{if(_0x504b9c[_0x26555a(0x230)](_0x504b9c[_0x26555a(0x2d6)],_0x504b9c[_0x26555a(0x285)]))_0x58c66f=_0x18a2c3;else{const {header:_0x4853cc,response:_0x36ecd9}=_0x8fbee8,{status:_0x597fb8,data:_0xfb1594,error:_0x17bb1b}=_0x36ecd9;_0xf95564+=_0x4853cc+'\x20#'+_0x504b9c[_0x26555a(0x1f7)](_0x190e85,0x1)+'\x0a',_0x798bb5+=_0x26555a(0x253)+(_0x597fb8?_0x504b9c[_0x26555a(0x224)]:_0x504b9c['LzLjH'])+'\x0a',_0x4944e9+=_0x26555a(0x2bf)+_0x504b9c[_0x26555a(0x2df)](_0xfb1594,_0x504b9c[_0x26555a(0x2bb)])+'\x0a',_0x17bb1b&&(_0x3d5c69+=_0x504b9c[_0x26555a(0x1f3)],_0x265b10+=_0x26555a(0x245)+(_0x17bb1b[_0x26555a(0x2a3)]||_0x504b9c['zebLZ'])+'\x0a',_0x4347d3+='\x20\x20Code:\x20'+(_0x17bb1b[_0x26555a(0x2ca)]||_0x504b9c[_0x26555a(0x2bb)])+'\x0a',_0x2f717b+=_0x26555a(0x2cd)+(_0x17bb1b['stack']||_0x504b9c[_0x26555a(0x2bb)])+'\x0a'),_0x2fe64d+='\x0a\x0a';}}}}else _0x504b9c[_0x26555a(0x202)](_0x504b9c[_0x26555a(0x229)],_0x504b9c[_0x26555a(0x229)])?(_0x13e05a[_0x26555a(0x2ab)]('Setting\x20cloud\x20provider\x20as\x20'+_0x2c2cdb[_0x26555a(0x2af)]+'\x20'),_0x10d88a[_0x26555a(0x2b3)]=_0xff49a1['CLOUD_PROVIDER']):process[_0x26555a(0x1f1)](0x1);const _0x4618a2={};_0x4618a2[_0x26555a(0x2d9)]=WS_EVENTS[_0x26555a(0x26a)],_0x4618a2[_0x26555a(0x2a3)]=_0x504b9c[_0x26555a(0x1f0)],webSocketUtils[_0x26555a(0x207)](_0x5f22ee,_0x4618a2),global_registry[_0x26555a(0x2b3)]=_0x58c66f[_0x26555a(0x2b3)],global_registry[_0x26555a(0x1ef)]=_0x58c66f[_0x26555a(0x2c8)],global_registry[_0x26555a(0x256)]=_0x58c66f[_0x26555a(0x256)];}}else _0x504b9c['BRwGk'](_0x504b9c[_0x26555a(0x204)],_0x504b9c[_0x26555a(0x204)])?_0x17d2d1[_0x26555a(0x26d)](_0x504b9c[_0x26555a(0x2d5)]):(logger[_0x26555a(0x228)](_0x504b9c[_0x26555a(0x271)]),process['exit'](0x1));}}else _0x5dfb9e['push'](_0x504b9c[_0x26555a(0x1f6)]);}catch(_0x53bf4a){_0x504b9c['nskzZ'](_0x504b9c[_0x26555a(0x283)],_0x504b9c[_0x26555a(0x276)])?_0x3db1e0[_0x26555a(0x2ab)]('Cluster\x20`'+_0x23d768['clusterName']+_0x26555a(0x26b)):(_0x1a3759=_0x26555a(0x26f)+_0x53bf4a+':\x20'+_0x53bf4a[_0x26555a(0x278)],logger[_0x26555a(0x228)](_0x1a3759),await _0x504b9c[_0x26555a(0x254)](reportToGalactusAndSendToEDS,_0x4159a9,_0x5f22ee,_0x1a3759,messageTypes[_0x26555a(0x261)],_0x504b9c[_0x26555a(0x2ae)],_0x504b9c[_0x26555a(0x24d)],_0x504b9c[_0x26555a(0x2c4)]),process[_0x26555a(0x1f1)](0x1));}}function printResponse(_0x1fa191,_0x5eb62d){const _0xc96705=a17_0x1ef3a9,_0x4eb3ad={};_0x4eb3ad[_0xc96705(0x234)]=function(_0x38a1da,_0x4f6598){return _0x38a1da===_0x4f6598;},_0x4eb3ad['Sgord']='aZcFH',_0x4eb3ad[_0xc96705(0x21a)]=_0xc96705(0x23b);const _0x1269e2=_0x4eb3ad;logger[_0xc96705(0x2ab)]('['+_0x1fa191+_0xc96705(0x280)+_0x5eb62d['status']+_0xc96705(0x262)+_0x5eb62d[_0xc96705(0x2a4)]+_0xc96705(0x238)+_0x5eb62d[_0xc96705(0x228)]),_0x5eb62d[_0xc96705(0x228)]&&(_0x1269e2[_0xc96705(0x234)](_0x1269e2['Sgord'],_0x1269e2['oekJA'])?(_0x2b0d99['info']('['+_0x2769f3+_0xc96705(0x280)+_0x5b9b7c['status']+'\x20data\x20:\x20'+_0x19bbc5[_0xc96705(0x2a4)]+'\x20error\x20:\x20'+_0x562411[_0xc96705(0x228)]),_0x4d728b[_0xc96705(0x228)]&&_0x1934e1[_0xc96705(0x228)](_0xc96705(0x299)+_0x88b6f9[_0xc96705(0x228)][_0xc96705(0x278)])):logger[_0xc96705(0x228)](_0xc96705(0x299)+_0x5eb62d[_0xc96705(0x228)]['stack']));}async function generateReport(_0x1d0ade,_0x11b8a2){const _0x1a20e7=a17_0x1ef3a9,_0x1f18e5={'QckQz':function(_0x2a9f87,_0x3bf93a){return _0x2a9f87+_0x3bf93a;},'TuGcc':'Success','SlXXD':_0x1a20e7(0x2ee),'IUYMX':function(_0x28e993,_0x572466){return _0x28e993||_0x572466;},'peyos':'N/A','NQpjb':_0x1a20e7(0x2dc),'LTMLD':_0x1a20e7(0x1fc),'AvKBO':function(_0x406670,_0x4437a6){return _0x406670!=_0x4437a6;},'xLhyz':_0x1a20e7(0x211),'YQCaj':_0x1a20e7(0x2c1),'ajzVv':function(_0x3192cb){return _0x3192cb();}};let _0xece445=_0x1a20e7(0x2a2)+global_registry[_0x1a20e7(0x2b3)]+_0x1a20e7(0x1eb);return _0x1d0ade[_0x1a20e7(0x239)]((_0x22b776,_0x43ce17)=>{const _0x5df08d=_0x1a20e7,{header:_0x23c809,response:_0x45c1c7}=_0x22b776,{status:_0x339e9f,data:_0x1e65bc,error:_0xebfaa7}=_0x45c1c7;_0xece445+=_0x23c809+'\x20#'+_0x1f18e5[_0x5df08d(0x2ef)](_0x43ce17,0x1)+'\x0a',_0xece445+=_0x5df08d(0x253)+(_0x339e9f?_0x1f18e5[_0x5df08d(0x2c7)]:_0x1f18e5[_0x5df08d(0x232)])+'\x0a',_0xece445+=_0x5df08d(0x2bf)+_0x1f18e5[_0x5df08d(0x281)](_0x1e65bc,_0x1f18e5[_0x5df08d(0x2b9)])+'\x0a',_0xebfaa7&&(_0xece445+=_0x1f18e5['NQpjb'],_0xece445+='\x20\x20Message:\x20'+(_0xebfaa7[_0x5df08d(0x2a3)]||_0x1f18e5[_0x5df08d(0x2b9)])+'\x0a',_0xece445+=_0x5df08d(0x2b0)+(_0xebfaa7[_0x5df08d(0x2ca)]||_0x1f18e5['peyos'])+'\x0a',_0xece445+=_0x5df08d(0x2cd)+(_0xebfaa7['stack']||_0x1f18e5[_0x5df08d(0x2b9)])+'\x0a'),_0xece445+='\x0a\x0a';}),_0xece445+=_0x1f18e5[_0x1a20e7(0x21e)],_0x1f18e5[_0x1a20e7(0x29c)](_0x11b8a2,null)?_0xece445+=_0x1a20e7(0x27e)+global_registry[_0x1a20e7(0x256)]+'\x20'+(_0x11b8a2?_0x1f18e5[_0x1a20e7(0x274)]:_0x1f18e5['YQCaj'])+'\x0a\x0a':_0xece445+=_0x1a20e7(0x27e)+global_registry['clusterName']+_0x1a20e7(0x2de),_0xece445+=_0x1f18e5[_0x1a20e7(0x233)](getSystemMetaData),_0xece445;};exports['handler']=async function(_0x50a79a){const _0xc6cda9=a17_0x1ef3a9,_0xa92136={'RdcVn':function(_0x587f16){return _0x587f16();},'IVGmg':_0xc6cda9(0x20a),'lSPKd':function(_0x5933f4,_0x5589bb,_0xb5bea5,_0x558c34,_0x21f551,_0x2ffa63,_0x5f42b1,_0x5e2d63){return _0x5933f4(_0x5589bb,_0xb5bea5,_0x558c34,_0x21f551,_0x2ffa63,_0x5f42b1,_0x5e2d63);},'rdzpX':'pre-check-grid-called','HPVKV':_0xc6cda9(0x2e6),'DaeIz':_0xc6cda9(0x228),'aayBl':function(_0x50479c,_0x874af,_0x114327,_0x14bc23,_0x87209b,_0x2100ec,_0x4f780d){return _0x50479c(_0x874af,_0x114327,_0x14bc23,_0x87209b,_0x2100ec,_0x4f780d);},'dvudh':function(_0x333abd){return _0x333abd();},'VsaGo':'<UsernamePlaceholder>','wcWHX':_0xc6cda9(0x2cf),'GGivB':function(_0x476285,_0x1e87fb,_0x18d91f){return _0x476285(_0x1e87fb,_0x18d91f);},'UUNxP':function(_0x17928b,_0x45112c,_0x485104){return _0x17928b(_0x45112c,_0x485104);},'CsHSv':function(_0x57c4ae,_0x55f6cc,_0x265185,_0x4560f6,_0x368e4f,_0x39a9a1,_0x2941af){return _0x57c4ae(_0x55f6cc,_0x265185,_0x4560f6,_0x368e4f,_0x39a9a1,_0x2941af);},'FfaiO':_0xc6cda9(0x272),'YnIei':_0xc6cda9(0x27b),'QjGgR':_0xc6cda9(0x268),'aCzbC':function(_0x5d24dd,_0x5a4351,_0x49e4c0,_0x114621,_0x1d4be2,_0xc6c899,_0x2c5cf6,_0x21d034){return _0x5d24dd(_0x5a4351,_0x49e4c0,_0x114621,_0x1d4be2,_0xc6c899,_0x2c5cf6,_0x21d034);},'IDDNj':_0xc6cda9(0x2c3),'ILOaY':function(_0x20e648){return _0x20e648();},'opOGg':_0xc6cda9(0x2b5),'BTvLT':function(_0x5ba9fe,_0x2a26c3){return _0x5ba9fe(_0x2a26c3);},'MzIfO':_0xc6cda9(0x2ed),'aFZjD':function(_0x45f1a9,_0x223db5,_0x220b91){return _0x45f1a9(_0x223db5,_0x220b91);},'saMsI':_0xc6cda9(0x2d2),'PGINr':_0xc6cda9(0x295),'YQTMB':_0xc6cda9(0x2eb),'DKkgl':'Whitelisted\x20browserstack','ESzCf':_0xc6cda9(0x24c),'CXCfr':function(_0x5dbb8f,_0x5b8d9f,_0x42af60){return _0x5dbb8f(_0x5b8d9f,_0x42af60);},'ALsyH':function(_0x81025e,_0x57ee49){return _0x81025e+_0x57ee49;},'tVuRK':_0xc6cda9(0x27c),'Ibmzh':_0xc6cda9(0x252)};let _0x1a8520,_0x418a25;try{global_registry[_0xc6cda9(0x291)]=_0xa92136[_0xc6cda9(0x269)](uuidv4);!fs['existsSync'](_0xa92136[_0xc6cda9(0x269)](getCredentialsPath))&&(_0x418a25=_0xa92136[_0xc6cda9(0x259)],logger['error'](_0x418a25),await _0xa92136['lSPKd'](reportToGalactusAndSendToEDS,_0x50a79a,_0x1a8520,_0x418a25,messageTypes[_0xc6cda9(0x261)],_0xa92136['rdzpX'],_0xa92136[_0xc6cda9(0x21b)],_0xa92136[_0xc6cda9(0x2e1)]),process[_0xc6cda9(0x1f1)](0x1));_0xa92136[_0xc6cda9(0x236)](sendInstrumentationEvent,_0x50a79a,_0xa92136['rdzpX'],messageTypes['INFO'],null,null,_0x50a79a);const _0x400f36=JSON[_0xc6cda9(0x2cb)](fs[_0xc6cda9(0x2bd)](_0xa92136[_0xc6cda9(0x2d3)](getCredentialsPath)));global_registry[_0xc6cda9(0x215)]=_0x400f36[_0xc6cda9(0x2d4)]['username'],global_registry[_0xc6cda9(0x2b7)]=_0x400f36[_0xc6cda9(0x2d4)][_0xc6cda9(0x293)];const _0x99dfda=WS_ENDPOINT[_0xc6cda9(0x29e)](_0xa92136['VsaGo'],_0x400f36['Browserstack'][_0xc6cda9(0x29a)])[_0xc6cda9(0x29e)](_0xa92136['wcWHX'],_0x400f36[_0xc6cda9(0x2d4)][_0xc6cda9(0x293)]),_0x25e67d={};_0x25e67d[_0xc6cda9(0x242)]=ws,_0x25e67d['connectionTimeout']=0x36ee80,_0x1a8520=new ReconnectingWebSocket(_0x99dfda,[],_0x25e67d),global_registry[_0xc6cda9(0x279)]=_0xa92136['GGivB'](getAuthHeader,global_registry['bstackUsername'],global_registry['bstackAccesskey']),await _0xa92136[_0xc6cda9(0x226)](inputValidation,_0x50a79a,_0x1a8520),logger[_0xc6cda9(0x2ab)](_0xc6cda9(0x1ff)+global_registry['cloudProvider']+_0xc6cda9(0x214)+global_registry[_0xc6cda9(0x1ef)]);let _0x1c6a46=await _0xa92136['CsHSv'](getCloudProviderObjectWithOutInit,global_registry[_0xc6cda9(0x2b3)],global_registry['clusterName'],_0xa92136[_0xc6cda9(0x273)],_0x1a8520,webSocketUtils,_0x50a79a);const _0x494c64=await _0x1c6a46['isCliToolInstalled']();_0xa92136[_0xc6cda9(0x226)](printResponse,_0xa92136[_0xc6cda9(0x2e3)],_0x494c64),_0x1c6a46=await _0x1c6a46[_0xc6cda9(0x240)]();let _0x21f1c1=![];try{_0x21f1c1=await _0x1c6a46[_0xc6cda9(0x265)]();}catch(_0x525f40){const _0x20a2cd=_0xa92136[_0xc6cda9(0x1ec)][_0xc6cda9(0x1fa)]('|');let _0x33945e=0x0;while(!![]){switch(_0x20a2cd[_0x33945e++]){case'0':logger[_0xc6cda9(0x228)](_0x418a25);continue;case'1':_0x418a25=_0xc6cda9(0x287)+global_registry[_0xc6cda9(0x256)]+_0xc6cda9(0x219)+global_registry[_0xc6cda9(0x1ef)]+_0xc6cda9(0x221)+_0x525f40;continue;case'2':await _0xa92136[_0xc6cda9(0x266)](reportToGalactusAndSendToEDS,_0x50a79a,_0x1a8520,_0x418a25,messageTypes['ERROR'],_0xa92136[_0xc6cda9(0x28e)],_0xc6cda9(0x2c6)+global_registry[_0xc6cda9(0x2b3)],_0xa92136[_0xc6cda9(0x2e1)]);continue;case'3':_0x418a25+='\x0a'+JSON['stringify'](_0x525f40[_0xc6cda9(0x278)]);continue;case'4':_0x21f1c1=null;continue;}break;}}_0x21f1c1&&logger[_0xc6cda9(0x2ab)](_0xc6cda9(0x288)+global_registry[_0xc6cda9(0x256)]+_0xc6cda9(0x26b));const _0x4eec48=await _0x1c6a46[_0xc6cda9(0x222)]();_0xa92136[_0xc6cda9(0x20f)](printResponse,_0xa92136[_0xc6cda9(0x2a1)],_0x4eec48);const _0x222aca=await _0xa92136['ILOaY'](curlRequest);_0xa92136[_0xc6cda9(0x226)](printResponse,_0xa92136[_0xc6cda9(0x2e7)],_0x222aca);const _0x56f873=await _0xa92136['BTvLT'](isTlsSupported,_0xa92136[_0xc6cda9(0x218)]);_0xa92136[_0xc6cda9(0x2e2)](printResponse,_0xa92136['saMsI'],_0x56f873);const _0x5a5889={};_0x5a5889[_0xc6cda9(0x292)]=_0xa92136[_0xc6cda9(0x282)],_0x5a5889['response']=_0x494c64;const _0x3f4691={};_0x3f4691[_0xc6cda9(0x292)]=_0xa92136[_0xc6cda9(0x257)],_0x3f4691[_0xc6cda9(0x1fe)]=_0x4eec48;const _0x606d4d={};_0x606d4d[_0xc6cda9(0x292)]=_0xa92136[_0xc6cda9(0x289)],_0x606d4d[_0xc6cda9(0x1fe)]=_0x222aca;const _0x18fd02={};_0x18fd02['header']=_0xa92136['ESzCf'],_0x18fd02[_0xc6cda9(0x1fe)]=_0x56f873;const _0x1627cd=[_0x5a5889,_0x3f4691,_0x606d4d,_0x18fd02],_0x53bd0d=await _0xa92136[_0xc6cda9(0x210)](generateReport,_0x1627cd,_0x21f1c1),_0x5682d3=new Date(),_0x353092=_0x5682d3[_0xc6cda9(0x241)]()+'_'+_0xa92136[_0xc6cda9(0x277)](_0x5682d3[_0xc6cda9(0x27f)](),0x1)+'_'+_0x5682d3['getUTCDate']()+'_'+_0x5682d3[_0xc6cda9(0x209)]()+'_'+_0x5682d3['getUTCMinutes'](),_0x133989='log/report_'+_0x353092+_0xc6cda9(0x2a8);fs[_0xc6cda9(0x23a)](_0x133989,_0x53bd0d,_0xa92136[_0xc6cda9(0x286)]),logger[_0xc6cda9(0x2ab)](_0xc6cda9(0x22c)+_0x133989),process['exit'](0x0);}catch(_0x1dbc41){let _0x3b3f28=_0xc6cda9(0x1f5)+_0x1dbc41+'\x20';logger[_0xc6cda9(0x228)](_0x3b3f28),_0x3b3f28+='\x0a'+JSON[_0xc6cda9(0x2e8)](_0x1dbc41['stack']),logger['debug'](_0xc6cda9(0x2ba)+_0x1dbc41[_0xc6cda9(0x278)]);if(_0x1a8520){const _0x160c64={};_0x160c64[_0xc6cda9(0x2d9)]=WS_EVENTS[_0xc6cda9(0x26a)],_0x160c64[_0xc6cda9(0x2a3)]=_0x3b3f28,webSocketUtils[_0xc6cda9(0x207)](_0x1a8520,_0x160c64,_0xa92136[_0xc6cda9(0x2e1)],!![]);}await webSocketUtils['delay'](0x7d0);const _0x58c1ee={};_0x58c1ee['error']=_0x3b3f28,await _0xa92136[_0xc6cda9(0x236)](sendInstrumentationEvent,_0x50a79a,_0xa92136[_0xc6cda9(0x28e)],messageTypes[_0xc6cda9(0x261)],_0xa92136[_0xc6cda9(0x231)],_0x58c1ee,_0x50a79a),process[_0xc6cda9(0x1f1)](0x1);}};