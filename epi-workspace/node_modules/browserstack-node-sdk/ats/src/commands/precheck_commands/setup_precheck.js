const a17_0x36bbdc=a17_0x20e0;(function(_0x3c0f7e,_0x202faf){const _0x3d2eae=a17_0x20e0,_0x4260a3=_0x3c0f7e();while(!![]){try{const _0x58105b=parseInt(_0x3d2eae(0x21b))/0x1*(parseInt(_0x3d2eae(0x280))/0x2)+parseInt(_0x3d2eae(0x224))/0x3+parseInt(_0x3d2eae(0x257))/0x4+parseInt(_0x3d2eae(0x2ab))/0x5*(-parseInt(_0x3d2eae(0x2b7))/0x6)+parseInt(_0x3d2eae(0x20e))/0x7*(parseInt(_0x3d2eae(0x216))/0x8)+parseInt(_0x3d2eae(0x271))/0x9*(-parseInt(_0x3d2eae(0x2a5))/0xa)+-parseInt(_0x3d2eae(0x20d))/0xb;if(_0x58105b===_0x202faf)break;else _0x4260a3['push'](_0x4260a3['shift']());}catch(_0x13bcca){_0x4260a3['push'](_0x4260a3['shift']());}}}(a17_0x52e3,0x9f3bc));const fs=require('fs'),ws=require('ws'),got=require(a17_0x36bbdc(0x263)),{v4:uuidv4}=require('uuid'),ReconnectingWebSocket=require(a17_0x36bbdc(0x259)),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require(a17_0x36bbdc(0x21d)),{logger}=require('../../config/logger'),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require('../../config/constants'),{getCloudProviderObjectWithOutInit}=require('../../cloudproviders/utils'),webSocketUtils=require(a17_0x36bbdc(0x1fa)),{sendInstrumentationEvent}=require(a17_0x36bbdc(0x206));exports[a17_0x36bbdc(0x282)]=a17_0x36bbdc(0x2bc),exports[a17_0x36bbdc(0x28a)]=a17_0x36bbdc(0x2ad),exports[a17_0x36bbdc(0x21e)]=function(_0x8eeb80){const _0x40ab44=a17_0x36bbdc,_0x5dc00a={};_0x5dc00a[_0x40ab44(0x211)]=_0x40ab44(0x266),_0x5dc00a['nxhpN']=_0x40ab44(0x2c2),_0x5dc00a['Ixnzi']=_0x40ab44(0x228),_0x5dc00a[_0x40ab44(0x28f)]=_0x40ab44(0x2cd),_0x5dc00a[_0x40ab44(0x290)]=_0x40ab44(0x2a6),_0x5dc00a[_0x40ab44(0x293)]=_0x40ab44(0x1fe);const _0x5b5c99=_0x5dc00a,_0x4072a7={};_0x4072a7[_0x40ab44(0x244)]=_0x5b5c99['ZCMrh'],_0x4072a7[_0x40ab44(0x254)]=_0x5b5c99['nxhpN'];const _0x11a11c={};_0x11a11c[_0x40ab44(0x244)]=_0x5b5c99[_0x40ab44(0x2a9)],_0x11a11c['type']=_0x5b5c99['nxhpN'];const _0x43880a={};_0x43880a['description']=_0x5b5c99[_0x40ab44(0x28f)],_0x43880a[_0x40ab44(0x254)]=_0x5b5c99['nxhpN'];const _0x27e011={};_0x27e011['description']=_0x5b5c99[_0x40ab44(0x290)],_0x27e011[_0x40ab44(0x254)]=_0x5b5c99[_0x40ab44(0x1f6)];const _0x9140f={};return _0x9140f[_0x40ab44(0x274)]=_0x4072a7,_0x9140f[_0x40ab44(0x203)]=_0x11a11c,_0x9140f[_0x40ab44(0x28b)]=_0x43880a,_0x9140f['grid-profile']=_0x27e011,_0x8eeb80['usage'](HELP_HEADER_MESSAGE['pre_check'])[_0x40ab44(0x2ea)](HELP_FOOTER_MESSAGE)[_0x40ab44(0x256)](_0x9140f)['help'](_0x5b5c99[_0x40ab44(0x293)])[_0x40ab44(0x2ca)];};async function inputValidation(_0x53f9fb,_0x52bc82){const _0x7a3c85=a17_0x36bbdc,_0x4a8bbe={'piRhc':_0x7a3c85(0x203),'QUOrU':_0x7a3c85(0x208),'pHxLb':_0x7a3c85(0x29c),'YMrgi':_0x7a3c85(0x23b),'TkTCa':_0x7a3c85(0x28b),'RubtZ':_0x7a3c85(0x266),'zcIar':'string','bdEdS':_0x7a3c85(0x228),'CQdFH':_0x7a3c85(0x2cd),'siufb':_0x7a3c85(0x2a6),'IYBnL':'help','KJLgg':function(_0x424b14,_0x41bf48){return _0x424b14+_0x41bf48;},'mobux':'Success','NtuML':'Failure','EmBlf':function(_0x5536f5,_0x23a9f0){return _0x5536f5||_0x23a9f0;},'YahpB':_0x7a3c85(0x23c),'xhUBx':_0x7a3c85(0x274),'RZAWT':function(_0x1b930d,_0x66303d){return _0x1b930d!==_0x66303d;},'WuZDW':'zznHS','izKpY':_0x7a3c85(0x2ba),'LYnzg':function(_0x37de03,_0x2357dc){return _0x37de03===_0x2357dc;},'oKTOn':_0x7a3c85(0x2ef),'tPTqD':_0x7a3c85(0x209),'gmlUw':_0x7a3c85(0x239),'rkBOz':function(_0x4c24a6,_0x56f883){return _0x4c24a6!==_0x56f883;},'gqhdi':_0x7a3c85(0x252),'yDFVc':_0x7a3c85(0x215),'XyNfR':function(_0x354b45,_0x567ff8){return _0x354b45>_0x567ff8;},'tgsDt':_0x7a3c85(0x24c),'FrxMm':function(_0x12b69f,_0x514a6e,_0x4a4fd8,_0x5b5726,_0x442cc5,_0x252bc4,_0x40f346,_0xdda461){return _0x12b69f(_0x514a6e,_0x4a4fd8,_0x5b5726,_0x442cc5,_0x252bc4,_0x40f346,_0xdda461);},'YCEeB':_0x7a3c85(0x234),'LkqtL':_0x7a3c85(0x295),'vVusm':function(_0x1a89c5,_0x382311){return _0x1a89c5!==_0x382311;},'QnngW':_0x7a3c85(0x24b),'CaIBk':_0x7a3c85(0x2dc),'IwzFI':'Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','UmvIG':_0x7a3c85(0x241),'FXlkx':function(_0x13f614,_0x45eaed){return _0x13f614!==_0x45eaed;},'WwYTW':_0x7a3c85(0x20f),'qZrKT':'Fbeub','OSXhi':_0x7a3c85(0x299),'VaYYW':_0x7a3c85(0x2c4),'EviHS':function(_0x17c86b,_0x2741f2,_0x5c243f){return _0x17c86b(_0x2741f2,_0x5c243f);},'fAoRh':function(_0x285c09,_0x5947f3,_0x1ddd18,_0x46ddbb,_0x3c9938,_0x4202d0){return _0x285c09(_0x5947f3,_0x1ddd18,_0x46ddbb,_0x3c9938,_0x4202d0);},'TEKWK':_0x7a3c85(0x20a),'KStBc':'grid-profile','GPFfZ':function(_0x565a92,_0x4ddfda){return _0x565a92===_0x4ddfda;},'lgMkS':'BrlOQ','ujcxL':function(_0x1403fc,_0x43da9b){return _0x1403fc(_0x43da9b);},'eKpiY':_0x7a3c85(0x2f2),'SoAsA':'HeRyX','ExKFj':function(_0x134323,_0x1564ce,_0x3361a2,_0x4678b3,_0x4cb207,_0x5ad139,_0x3cdd5e,_0x1e7ac5){return _0x134323(_0x1564ce,_0x3361a2,_0x4678b3,_0x4cb207,_0x5ad139,_0x3cdd5e,_0x1e7ac5);},'kyULh':_0x7a3c85(0x25f),'ORRiW':function(_0x1af886,_0x5213a0){return _0x1af886===_0x5213a0;},'SnlpB':'fnRaR','raBaj':_0x7a3c85(0x2b4),'qWvcm':_0x7a3c85(0x26a),'LPgfN':'cqwBz','jRCQM':_0x7a3c85(0x201),'XAiHz':_0x7a3c85(0x25e),'htIuX':_0x7a3c85(0x2e6),'zzqwO':_0x7a3c85(0x238)};let _0x2be6ec;try{if(_0x4a8bbe[_0x7a3c85(0x289)](_0x4a8bbe[_0x7a3c85(0x26c)],_0x4a8bbe[_0x7a3c85(0x25b)])){if(_0x53f9fb[_0x7a3c85(0x2f1)]||_0x53f9fb['cloudProvider']||_0x53f9fb[_0x7a3c85(0x28b)]){if(_0x4a8bbe['LYnzg'](_0x4a8bbe[_0x7a3c85(0x2c9)],_0x4a8bbe['oKTOn'])){const _0x11e794=[];!_0x53f9fb[_0x7a3c85(0x2f1)]&&(_0x4a8bbe[_0x7a3c85(0x289)](_0x4a8bbe['tPTqD'],_0x4a8bbe['gmlUw'])?_0x11e794[_0x7a3c85(0x212)](_0x4a8bbe[_0x7a3c85(0x1f2)]):_0x2e6383[_0x7a3c85(0x212)](_0x4a8bbe[_0x7a3c85(0x281)]));;!_0x53f9fb['cloudProvider']&&(_0x4a8bbe[_0x7a3c85(0x2de)](_0x4a8bbe[_0x7a3c85(0x20c)],_0x4a8bbe[_0x7a3c85(0x20c)])?(_0x1a4f0f[_0x7a3c85(0x214)](_0x7a3c85(0x262)+_0x3f70ab[_0x7a3c85(0x2c3)]+'\x20'),_0x24a550['cloudProvider']=_0x332b3e[_0x7a3c85(0x2c3)]):_0x11e794[_0x7a3c85(0x212)](_0x4a8bbe[_0x7a3c85(0x281)]));;!_0x53f9fb[_0x7a3c85(0x28b)]&&(_0x4a8bbe[_0x7a3c85(0x289)](_0x4a8bbe['yDFVc'],_0x4a8bbe[_0x7a3c85(0x291)])?_0x4edeac['exit'](0x1):_0x11e794[_0x7a3c85(0x212)](_0x4a8bbe[_0x7a3c85(0x284)]));;_0x4a8bbe['XyNfR'](_0x11e794['length'],0x0)&&(_0x4a8bbe['rkBOz'](_0x4a8bbe[_0x7a3c85(0x278)],_0x4a8bbe[_0x7a3c85(0x278)])?_0x4d171f[_0x7a3c85(0x214)](_0x7a3c85(0x2c6)+_0x4cf684[_0x7a3c85(0x2f1)]+'`\x20already\x20exists'):(_0x2be6ec='Missing\x20required\x20arguments:\x20'+_0x11e794[_0x7a3c85(0x2ee)](',\x20')+_0x7a3c85(0x264),await _0x4a8bbe[_0x7a3c85(0x22b)](reportToGalactusAndSendToEDS,_0x53f9fb,_0x52bc82,_0x2be6ec,messageTypes['ERROR'],_0x4a8bbe[_0x7a3c85(0x2cf)],_0x4a8bbe['LkqtL'],_0x4a8bbe[_0x7a3c85(0x2d3)]),logger[_0x7a3c85(0x23c)](_0x2be6ec),process['exit'](0x1))),!ALL_SUPPORTED_CLOUD_PROVIDERS['includes'](_0x53f9fb['cloudProvider'][_0x7a3c85(0x2e8)]())&&(_0x4a8bbe['vVusm'](_0x4a8bbe['QnngW'],_0x4a8bbe[_0x7a3c85(0x210)])?(_0x2be6ec=_0x4a8bbe[_0x7a3c85(0x24f)],await _0x4a8bbe[_0x7a3c85(0x22b)](reportToGalactusAndSendToEDS,_0x53f9fb,_0x52bc82,_0x2be6ec,messageTypes[_0x7a3c85(0x2ed)],_0x4a8bbe[_0x7a3c85(0x2cf)],_0x4a8bbe[_0x7a3c85(0x225)],_0x4a8bbe[_0x7a3c85(0x2d3)]),logger[_0x7a3c85(0x23c)](_0x2be6ec),!_0x53f9fb[_0x7a3c85(0x247)]&&(_0x4a8bbe[_0x7a3c85(0x258)](_0x4a8bbe[_0x7a3c85(0x265)],_0x4a8bbe[_0x7a3c85(0x2e5)])?(logger[_0x7a3c85(0x214)]('Setting\x20cloud\x20provider\x20as\x20'+DEFAULT_CLUSTER_DETAILS['CLOUD_PROVIDER']+'\x20'),_0x53f9fb[_0x7a3c85(0x247)]=DEFAULT_CLUSTER_DETAILS[_0x7a3c85(0x2c3)]):_0x194079=_0x4855e5)):(_0x19df3c+=_0x4a8bbe['QUOrU'],_0x5a0d4a+=_0x7a3c85(0x220)+(_0x3c7c25[_0x7a3c85(0x1fc)]||_0x4a8bbe[_0x7a3c85(0x1f9)])+'\x0a',_0x39e89b+=_0x7a3c85(0x273)+(_0x38f2d8[_0x7a3c85(0x246)]||_0x4a8bbe[_0x7a3c85(0x1f9)])+'\x0a',_0x34483b+=_0x7a3c85(0x1fb)+(_0x386709[_0x7a3c85(0x232)]||_0x4a8bbe[_0x7a3c85(0x1f9)])+'\x0a')),global_registry[_0x7a3c85(0x2f1)]=_0x53f9fb[_0x7a3c85(0x2f1)],global_registry[_0x7a3c85(0x247)]=_0x53f9fb['cloudProvider'],global_registry['clusterRegion']=_0x53f9fb[_0x7a3c85(0x28b)];}else _0x5aa219[_0x7a3c85(0x23c)](_0x4a8bbe['YMrgi']),_0x108530['exit'](0x1);}else{if(_0x53f9fb['gridProfile']){if(_0x4a8bbe[_0x7a3c85(0x283)](_0x4a8bbe[_0x7a3c85(0x2db)],_0x4a8bbe[_0x7a3c85(0x2db)])){global_registry[_0x7a3c85(0x231)]=_0x53f9fb[_0x7a3c85(0x231)],logger[_0x7a3c85(0x25a)](_0x7a3c85(0x2e0)+_0x53f9fb[_0x7a3c85(0x231)]);const _0x4a975d=_0x7a3c85(0x219)+AG_API_URL+_0x7a3c85(0x242),_0x4a2008={};_0x4a2008[_0x7a3c85(0x2c7)]=_0x4a8bbe[_0x7a3c85(0x200)],_0x4a2008['headers']=global_registry['authHeader'],_0x4a2008[_0x7a3c85(0x2d9)]=![];const _0x1634e8=_0x4a2008,_0x5a1894=await _0x4a8bbe['EviHS'](got,_0x4a975d,_0x1634e8),_0x14f02a=await _0x4a8bbe[_0x7a3c85(0x22d)](responseValidation,_0x5a1894,_0x4a8bbe[_0x7a3c85(0x240)],_0x4a8bbe[_0x7a3c85(0x29d)],_0x53f9fb,_0x52bc82);let _0x479369={};if(_0x4a8bbe[_0x7a3c85(0x283)](_0x14f02a,0xc8)){if(_0x4a8bbe[_0x7a3c85(0x1f7)](_0x4a8bbe[_0x7a3c85(0x226)],_0x4a8bbe['lgMkS'])){const _0x4315eb=JSON[_0x7a3c85(0x1ff)](_0x5a1894[_0x7a3c85(0x285)]),_0x23a4e0=_0x4315eb['find'](_0x4a97f5=>_0x4a97f5[_0x7a3c85(0x298)]===_0x53f9fb[_0x7a3c85(0x231)])||null;_0x4a8bbe[_0x7a3c85(0x2d4)](isUndefined,_0x23a4e0)?_0x4a8bbe[_0x7a3c85(0x258)](_0x4a8bbe[_0x7a3c85(0x27f)],_0x4a8bbe['SoAsA'])?(_0x2be6ec=_0x7a3c85(0x292)+_0x53f9fb[_0x7a3c85(0x231)]+_0x7a3c85(0x269),await _0x4a8bbe[_0x7a3c85(0x2d8)](reportToGalactusAndSendToEDS,_0x53f9fb,_0x52bc82,_0x2be6ec,messageTypes[_0x7a3c85(0x2ed)],_0x4a8bbe[_0x7a3c85(0x2cf)],_0x4a8bbe['kyULh'],_0x4a8bbe[_0x7a3c85(0x2d3)]),logger['error'](_0x2be6ec),process['exit'](0x1)):_0x5da739[_0x7a3c85(0x212)](_0x4a8bbe['TkTCa']):_0x4a8bbe[_0x7a3c85(0x26b)](_0x4a8bbe[_0x7a3c85(0x2ec)],_0x4a8bbe[_0x7a3c85(0x2b5)])?_0x366fa0+=_0x7a3c85(0x27a)+_0x51e91b[_0x7a3c85(0x2f1)]+_0x7a3c85(0x286):_0x479369=_0x23a4e0;}else{const _0xfc5da8={};_0xfc5da8['description']=_0x4a8bbe[_0x7a3c85(0x2a8)],_0xfc5da8['type']=_0x4a8bbe['zcIar'];const _0x293ecd={};_0x293ecd[_0x7a3c85(0x244)]=_0x4a8bbe[_0x7a3c85(0x2d5)],_0x293ecd[_0x7a3c85(0x254)]=_0x4a8bbe[_0x7a3c85(0x2c5)];const _0x2dfb13={};_0x2dfb13['description']=_0x4a8bbe[_0x7a3c85(0x2e7)],_0x2dfb13[_0x7a3c85(0x254)]=_0x4a8bbe[_0x7a3c85(0x2c5)];const _0x1dc947={};_0x1dc947['description']=_0x4a8bbe[_0x7a3c85(0x222)],_0x1dc947[_0x7a3c85(0x254)]=_0x4a8bbe['zcIar'];const _0x325939={};return _0x325939[_0x7a3c85(0x274)]=_0xfc5da8,_0x325939[_0x7a3c85(0x203)]=_0x293ecd,_0x325939[_0x7a3c85(0x28b)]=_0x2dfb13,_0x325939[_0x7a3c85(0x288)]=_0x1dc947,_0x292fbd[_0x7a3c85(0x26e)](_0x26d50a[_0x7a3c85(0x267)])[_0x7a3c85(0x2ea)](_0x1de2fc)['options'](_0x325939)[_0x7a3c85(0x1fe)](_0x4a8bbe['IYBnL'])['argv'];}}else{if(_0x4a8bbe[_0x7a3c85(0x283)](_0x4a8bbe['qWvcm'],_0x4a8bbe[_0x7a3c85(0x237)])){const {header:_0x4daa2b,response:_0x34c692}=_0x597c44,{status:_0x47d4d2,data:_0x295be3,error:_0x5b9aa3}=_0x34c692;_0x39495c+=_0x4daa2b+'\x20#'+_0x4a8bbe[_0x7a3c85(0x253)](_0x1cd5f8,0x1)+'\x0a',_0x3ce00b+='Status:\x20'+(_0x47d4d2?_0x4a8bbe[_0x7a3c85(0x268)]:_0x4a8bbe[_0x7a3c85(0x229)])+'\x0a',_0x320158+=_0x7a3c85(0x207)+_0x4a8bbe[_0x7a3c85(0x27e)](_0x295be3,_0x4a8bbe[_0x7a3c85(0x1f9)])+'\x0a',_0x5b9aa3&&(_0x1823e1+=_0x4a8bbe[_0x7a3c85(0x2ce)],_0x1a218b+=_0x7a3c85(0x220)+(_0x5b9aa3[_0x7a3c85(0x1fc)]||_0x4a8bbe[_0x7a3c85(0x1f9)])+'\x0a',_0x4611c7+=_0x7a3c85(0x273)+(_0x5b9aa3[_0x7a3c85(0x246)]||_0x4a8bbe[_0x7a3c85(0x1f9)])+'\x0a',_0x3b92a9+=_0x7a3c85(0x1fb)+(_0x5b9aa3[_0x7a3c85(0x232)]||_0x4a8bbe['pHxLb'])+'\x0a'),_0x1957f7+='\x0a\x0a';}else process[_0x7a3c85(0x29a)](0x1);}const _0x380586={};_0x380586[_0x7a3c85(0x254)]=WS_EVENTS[_0x7a3c85(0x24e)],_0x380586[_0x7a3c85(0x1fc)]=_0x4a8bbe[_0x7a3c85(0x236)],webSocketUtils[_0x7a3c85(0x213)](_0x52bc82,_0x380586),global_registry[_0x7a3c85(0x247)]=_0x479369[_0x7a3c85(0x247)],global_registry[_0x7a3c85(0x277)]=_0x479369['region'],global_registry[_0x7a3c85(0x2f1)]=_0x479369[_0x7a3c85(0x2f1)];}else _0x3536f8[_0x7a3c85(0x214)]('['+_0x331be3+_0x7a3c85(0x22c)+_0x329fa5[_0x7a3c85(0x27b)]+_0x7a3c85(0x218)+_0x57b1fa['data']+_0x7a3c85(0x230)+_0x462d40[_0x7a3c85(0x23c)]),_0x4f33d7[_0x7a3c85(0x23c)]&&_0x5c2ff4[_0x7a3c85(0x23c)](_0x7a3c85(0x221)+_0x4d740e[_0x7a3c85(0x23c)]['stack']);}else _0x4a8bbe[_0x7a3c85(0x258)](_0x4a8bbe['XAiHz'],_0x4a8bbe[_0x7a3c85(0x2df)])?(logger['error'](_0x4a8bbe[_0x7a3c85(0x2b3)]),process['exit'](0x1)):_0x173605[_0x7a3c85(0x23c)]('error\x20stack\x20:\x20'+_0x423888['error']['stack']);}}else{const _0x4bf41f={};_0x4bf41f[_0x7a3c85(0x254)]=_0xbb0fff[_0x7a3c85(0x24e)],_0x4bf41f[_0x7a3c85(0x1fc)]=_0x2bae01,_0x48d64c[_0x7a3c85(0x213)](_0x50f0e6,_0x4bf41f,_0x4a8bbe[_0x7a3c85(0x2d3)],!![]);}}catch(_0x2c1d8d){_0x4a8bbe[_0x7a3c85(0x1f7)](_0x4a8bbe[_0x7a3c85(0x296)],_0x4a8bbe[_0x7a3c85(0x296)])?(_0x2be6ec='Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20'+_0x2c1d8d+':\x20'+_0x2c1d8d[_0x7a3c85(0x232)],logger[_0x7a3c85(0x23c)](_0x2be6ec),await _0x4a8bbe[_0x7a3c85(0x2d8)](reportToGalactusAndSendToEDS,_0x53f9fb,_0x52bc82,_0x2be6ec,messageTypes[_0x7a3c85(0x2ed)],_0x4a8bbe['YCEeB'],_0x4a8bbe[_0x7a3c85(0x225)],_0x4a8bbe[_0x7a3c85(0x2d3)]),process[_0x7a3c85(0x29a)](0x1)):_0x381294[_0x7a3c85(0x212)](_0x4a8bbe[_0x7a3c85(0x1f2)]);}}function a17_0x52e3(){const _0x33af40=['\x20region\x20-\x20','qZrKT','EdEmp','CQdFH','toLowerCase','<UsernamePlaceholder>','epilogue','PBzsE','SnlpB','ERROR','join','SdeIL','cmiRi','clusterName','Humou','xhUBx','TcWih','Success','yiiDh','nxhpN','GPFfZ','`\x20already\x20exists','pHxLb','../../utils/webSocketUtils','\x20\x20Stack:\x20','message','checkAccess','help','parse','VaYYW','Grid\x20profile\x20fetched\x20for\x20pre-check','iXsGS','cloud-provider','Pre-check\x20running\x20for\x20Cloud\x20-\x20','bstackUsername','../../utils/instrumentationUtils','Message:\x20','Error\x20Details:\x0a','BmjfL','pre-check','split','gqhdi','6507963SPWhGI','15617WhQiSe','rqApD','CaIBk','ZCMrh','push','sendEventToBackend','info','HzoUA','296TMVJnJ','nHufX','\x20data\x20:\x20','https://','readFileSync','1pSGMVp','toolInstalledResp','../../utils/utilityMethods','builder','uHXeN','\x20\x20Message:\x20','error\x20stack\x20:\x20','siufb','existsSync','2657745NWhTyb','UmvIG','lgMkS','requestId','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','NtuML','Failure','FrxMm',']\x20status\x20:\x20','fAoRh','INFO','Cluster\x20details\x0a-----------------------\x0a','\x20error\x20:\x20','gridProfile','stack','isTrialGridAccessible','pre-check-grid-called','getUTCHours','jRCQM','LPgfN','lsmxC','jDyRx','delay','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','error','cfuHC','User\x20Access','myJSf','TEKWK','cloud-provider-not-supported','/packages/cli/get-all-grid-profiles','bstackAccesskey','description','response','code','cloudProvider','isClusterPresent','`\x20,error\x20:\x20','echbT','muQqR','UyLnb','handler','LOG','IwzFI','ieacq','QqxRK','eRCWn','KJLgg','type','iRdKy','options','585368OUKrnw','FXlkx','reconnecting-websocket','debug','izKpY','aaHVx','WebSocket','iYAWW','pre-check-grid-profile-empty','getUTCFullYear','getUTCMinutes','Setting\x20cloud\x20provider\x20as\x20','got','.\x20Please\x20provide\x20all\x20required\x20arguments.','WwYTW','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','pre_check','mobux','.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again','QqSym','ORRiW','WuZDW','is\x20already\x20present','usage','TDYlO','KTbkR','47763ksUNyr','password','\x20\x20Code:\x20','cluster-name','stringify','FVFuq','clusterRegion','tgsDt','yNRni','Cluster\x20','status','Browserstack','<PasswordPlaceholder>','EmBlf','eKpiY','1220396yHOsKF','piRhc','command','LYnzg','TkTCa','body','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','NcGqq','grid-profile','RZAWT','desc','region','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','HeLFZ','jGxSE','xniyh','EAYiR','yDFVc','Invalid\x20input.\x20grid\x20profiles:\x20','sLnwc','getUTCDate','pre-check-cluster-args-not-passed','zzqwO','authHeader','name','hgmtb','exit','credential-not-found','N/A','KStBc','obmMS','YCCZY','BhbMF','tPXHu','data','Report\x20saved\x20in\x20','nYoEE','270RAdHYc','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','unable\x20to\x20verify\x20if\x20cluster\x20`','RubtZ','Ixnzi','header','300jxfugW','connectionTimeout','Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup','log/report_','stack\x20trace\x20','replace','phxUJ','SSL\x20Configured','YMrgi','rpZvy','raBaj','ELAzI','33786YGnFiF','oabOc','isTls1_2_SUPPORTED','OCksG','username','grid','\x20===\x0a\x0a','YbTXq','LwZkd','accessResp','zrQoM','string','CLOUD_PROVIDER','GET','zcIar','Cluster\x20`','method','pre-check-failed','oKTOn','argv','Whitelisted\x20browserstack','===\x20Precheck\x20Report\x20-\x20','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','QUOrU','YCEeB','vtAKa','dummy-grid','Status:\x20','YahpB','ujcxL','bdEdS','utf-8','AaPLw','ExKFj','throwHttpErrors','pTguU','OSXhi','yTwUb','Tool\x20Installed','rkBOz','htIuX','grid\x20profile\x20flow\x20','DuhVL','4|0|1|3|2','will\x20be\x20created'];a17_0x52e3=function(){return _0x33af40;};return a17_0x52e3();}function a17_0x20e0(_0x51dfb3,_0x1faed7){const _0x52e340=a17_0x52e3();return a17_0x20e0=function(_0x20e0d0,_0x5e784b){_0x20e0d0=_0x20e0d0-0x1f2;let _0x29e1b3=_0x52e340[_0x20e0d0];return _0x29e1b3;},a17_0x20e0(_0x51dfb3,_0x1faed7);}function printResponse(_0x39fb01,_0x4f5a18){const _0x2a4b1f=a17_0x36bbdc,_0x53323e={};_0x53323e[_0x2a4b1f(0x24a)]='is\x20already\x20present',_0x53323e['ELAzI']=_0x2a4b1f(0x2e3),_0x53323e[_0x2a4b1f(0x2b1)]=function(_0x5dd244,_0x2f280d){return _0x5dd244===_0x2f280d;},_0x53323e[_0x2a4b1f(0x1f3)]=_0x2a4b1f(0x28e),_0x53323e['yiiDh']='VuTwf';const _0x2c7b46=_0x53323e;logger[_0x2a4b1f(0x214)]('['+_0x39fb01+']\x20status\x20:\x20'+_0x4f5a18['status']+_0x2a4b1f(0x218)+_0x4f5a18[_0x2a4b1f(0x2a2)]+_0x2a4b1f(0x230)+_0x4f5a18['error']),_0x4f5a18[_0x2a4b1f(0x23c)]&&(_0x2c7b46[_0x2a4b1f(0x2b1)](_0x2c7b46[_0x2a4b1f(0x1f3)],_0x2c7b46[_0x2a4b1f(0x1f5)])?_0x115bcd+='Cluster\x20'+_0x3bdda8[_0x2a4b1f(0x2f1)]+'\x20'+(_0x3b7566?_0x2c7b46[_0x2a4b1f(0x24a)]:_0x2c7b46[_0x2a4b1f(0x2b6)])+'\x0a\x0a':logger[_0x2a4b1f(0x23c)](_0x2a4b1f(0x221)+_0x4f5a18[_0x2a4b1f(0x23c)][_0x2a4b1f(0x232)]));}async function generateReport(_0x6fb4d7,_0x45795c){const _0x2847af=a17_0x36bbdc,_0x25e281={'LwZkd':function(_0x51d8f5,_0x2b6477){return _0x51d8f5+_0x2b6477;},'BhbMF':_0x2847af(0x1f4),'TVuWz':_0x2847af(0x22a),'KTbkR':function(_0x42f806,_0x4c02e3){return _0x42f806||_0x4c02e3;},'tPXHu':_0x2847af(0x29c),'JKDwl':_0x2847af(0x208),'pTguU':_0x2847af(0x22f),'PKMGY':function(_0x29dc0d,_0x4fa1ae){return _0x29dc0d!=_0x4fa1ae;},'cmiRi':_0x2847af(0x26d),'iXsGS':'will\x20be\x20created','obmMS':function(_0x12acd3){return _0x12acd3();}};let _0x5d6f33=_0x2847af(0x2cc)+global_registry[_0x2847af(0x247)]+_0x2847af(0x2bd);return _0x6fb4d7['forEach']((_0x2e2a79,_0x32f777)=>{const _0x20f7eb=_0x2847af,{header:_0x4afa5f,response:_0x37290b}=_0x2e2a79,{status:_0x4f158e,data:_0x2b3b75,error:_0x4c9173}=_0x37290b;_0x5d6f33+=_0x4afa5f+'\x20#'+_0x25e281[_0x20f7eb(0x2bf)](_0x32f777,0x1)+'\x0a',_0x5d6f33+=_0x20f7eb(0x2d2)+(_0x4f158e?_0x25e281[_0x20f7eb(0x2a0)]:_0x25e281['TVuWz'])+'\x0a',_0x5d6f33+=_0x20f7eb(0x207)+_0x25e281[_0x20f7eb(0x270)](_0x2b3b75,_0x25e281[_0x20f7eb(0x2a1)])+'\x0a',_0x4c9173&&(_0x5d6f33+=_0x25e281['JKDwl'],_0x5d6f33+=_0x20f7eb(0x220)+(_0x4c9173[_0x20f7eb(0x1fc)]||_0x25e281[_0x20f7eb(0x2a1)])+'\x0a',_0x5d6f33+='\x20\x20Code:\x20'+(_0x4c9173[_0x20f7eb(0x246)]||_0x25e281[_0x20f7eb(0x2a1)])+'\x0a',_0x5d6f33+=_0x20f7eb(0x1fb)+(_0x4c9173[_0x20f7eb(0x232)]||_0x25e281[_0x20f7eb(0x2a1)])+'\x0a'),_0x5d6f33+='\x0a\x0a';}),_0x5d6f33+=_0x25e281[_0x2847af(0x2da)],_0x25e281['PKMGY'](_0x45795c,null)?_0x5d6f33+=_0x2847af(0x27a)+global_registry[_0x2847af(0x2f1)]+'\x20'+(_0x45795c?_0x25e281[_0x2847af(0x2f0)]:_0x25e281[_0x2847af(0x202)])+'\x0a\x0a':_0x5d6f33+=_0x2847af(0x27a)+global_registry[_0x2847af(0x2f1)]+'\x20details\x20cannot\x20be\x20fetched\x0a\x0a',_0x5d6f33+=_0x25e281[_0x2847af(0x29e)](getSystemMetaData),_0x5d6f33;};exports[a17_0x36bbdc(0x24d)]=async function(_0x24e6d6){const _0x2d0bd0=a17_0x36bbdc,_0x2c3d21={'TDYlO':function(_0x56b50d){return _0x56b50d();},'AaPLw':_0x2d0bd0(0x28c),'ieacq':function(_0x27a264,_0x1339f4,_0x350f74,_0x424a76,_0x3188b4,_0x2ba34a,_0x21951c,_0x4523b){return _0x27a264(_0x1339f4,_0x350f74,_0x424a76,_0x3188b4,_0x2ba34a,_0x21951c,_0x4523b);},'QqxRK':_0x2d0bd0(0x234),'ErTPV':_0x2d0bd0(0x29b),'nYoEE':_0x2d0bd0(0x23c),'vtAKa':function(_0xfb4e59,_0x36ca74,_0x397d41,_0x557da0,_0xf41ce6,_0x30abc3,_0x105334){return _0xfb4e59(_0x36ca74,_0x397d41,_0x557da0,_0xf41ce6,_0x30abc3,_0x105334);},'yNRni':_0x2d0bd0(0x2e9),'nHufX':_0x2d0bd0(0x27d),'oabOc':function(_0x18690c,_0x2afbca,_0x43e7b0){return _0x18690c(_0x2afbca,_0x43e7b0);},'HeLFZ':_0x2d0bd0(0x2d1),'BUleF':_0x2d0bd0(0x21c),'vSsCM':_0x2d0bd0(0x2e2),'PBzsE':function(_0x5af923,_0x21a132,_0x2d7d29){return _0x5af923(_0x21a132,_0x2d7d29);},'YCCZY':_0x2d0bd0(0x2c0),'DuhVL':function(_0x33e5ed,_0x403763,_0x50a0ab){return _0x33e5ed(_0x403763,_0x50a0ab);},'uHXeN':_0x2d0bd0(0x233),'NcGqq':function(_0x1c5da0,_0x4dacc8){return _0x1c5da0(_0x4dacc8);},'RbJQD':'TLSv1_2_client_method','HnsmR':function(_0x9327de,_0x215824,_0x26fb44){return _0x9327de(_0x215824,_0x26fb44);},'iRdKy':_0x2d0bd0(0x2b9),'FVFuq':_0x2d0bd0(0x2dd),'aaHVx':_0x2d0bd0(0x23e),'kFhTt':_0x2d0bd0(0x2cb),'CLAxW':_0x2d0bd0(0x2b2),'cfuHC':function(_0x5a0110,_0x14dd04,_0x48bbba){return _0x5a0110(_0x14dd04,_0x48bbba);},'zrQoM':function(_0x473cb3,_0xd3fa35){return _0x473cb3+_0xd3fa35;},'YbTXq':_0x2d0bd0(0x2d6),'myJSf':_0x2d0bd0(0x2c8)};let _0x11d8c4,_0x583a1a;try{global_registry[_0x2d0bd0(0x227)]=_0x2c3d21[_0x2d0bd0(0x26f)](uuidv4);!fs[_0x2d0bd0(0x223)](_0x2c3d21[_0x2d0bd0(0x26f)](getCredentialsPath))&&(_0x583a1a=_0x2c3d21[_0x2d0bd0(0x2d7)],logger[_0x2d0bd0(0x23c)](_0x583a1a),await _0x2c3d21[_0x2d0bd0(0x250)](reportToGalactusAndSendToEDS,_0x24e6d6,_0x11d8c4,_0x583a1a,messageTypes[_0x2d0bd0(0x2ed)],_0x2c3d21[_0x2d0bd0(0x251)],_0x2c3d21['ErTPV'],_0x2c3d21['nYoEE']),process[_0x2d0bd0(0x29a)](0x1));_0x2c3d21[_0x2d0bd0(0x2d0)](sendInstrumentationEvent,_0x24e6d6,_0x2c3d21[_0x2d0bd0(0x251)],messageTypes[_0x2d0bd0(0x22e)],null,null,_0x24e6d6);const _0x72da24=JSON[_0x2d0bd0(0x1ff)](fs[_0x2d0bd0(0x21a)](_0x2c3d21[_0x2d0bd0(0x26f)](getCredentialsPath)));global_registry[_0x2d0bd0(0x205)]=_0x72da24[_0x2d0bd0(0x27c)][_0x2d0bd0(0x2bb)],global_registry['bstackAccesskey']=_0x72da24[_0x2d0bd0(0x27c)][_0x2d0bd0(0x272)];const _0x539469=WS_ENDPOINT[_0x2d0bd0(0x2b0)](_0x2c3d21[_0x2d0bd0(0x279)],_0x72da24[_0x2d0bd0(0x27c)]['username'])[_0x2d0bd0(0x2b0)](_0x2c3d21[_0x2d0bd0(0x217)],_0x72da24[_0x2d0bd0(0x27c)][_0x2d0bd0(0x272)]),_0x916398={};_0x916398[_0x2d0bd0(0x25d)]=ws,_0x916398[_0x2d0bd0(0x2ac)]=0x36ee80,_0x11d8c4=new ReconnectingWebSocket(_0x539469,[],_0x916398),global_registry[_0x2d0bd0(0x297)]=_0x2c3d21[_0x2d0bd0(0x2b8)](getAuthHeader,global_registry['bstackUsername'],global_registry[_0x2d0bd0(0x243)]),await _0x2c3d21[_0x2d0bd0(0x2b8)](inputValidation,_0x24e6d6,_0x11d8c4),logger[_0x2d0bd0(0x214)](_0x2d0bd0(0x204)+global_registry[_0x2d0bd0(0x247)]+_0x2d0bd0(0x2e4)+global_registry[_0x2d0bd0(0x277)]);let _0x497b94=await _0x2c3d21[_0x2d0bd0(0x2d0)](getCloudProviderObjectWithOutInit,global_registry[_0x2d0bd0(0x247)],global_registry[_0x2d0bd0(0x2f1)],_0x2c3d21[_0x2d0bd0(0x28d)],_0x11d8c4,webSocketUtils,_0x24e6d6);const _0x40818c=await _0x497b94['isCliToolInstalled']();_0x2c3d21[_0x2d0bd0(0x2b8)](printResponse,_0x2c3d21['BUleF'],_0x40818c),_0x497b94=await _0x497b94['init']();let _0xe79dcf=![];try{_0xe79dcf=await _0x497b94[_0x2d0bd0(0x248)]();}catch(_0x1d9c28){const _0x4ce068=_0x2c3d21['vSsCM'][_0x2d0bd0(0x20b)]('|');let _0x5e1d65=0x0;while(!![]){switch(_0x4ce068[_0x5e1d65++]){case'0':_0xe79dcf=null;continue;case'1':logger['error'](_0x583a1a);continue;case'2':await _0x2c3d21[_0x2d0bd0(0x250)](reportToGalactusAndSendToEDS,_0x24e6d6,_0x11d8c4,_0x583a1a,messageTypes[_0x2d0bd0(0x2ed)],_0x2c3d21[_0x2d0bd0(0x251)],'cluster-check-failed-'+global_registry[_0x2d0bd0(0x247)],_0x2c3d21['nYoEE']);continue;case'3':_0x583a1a+='\x0a'+JSON[_0x2d0bd0(0x275)](_0x1d9c28['stack']);continue;case'4':_0x583a1a=_0x2d0bd0(0x2a7)+global_registry[_0x2d0bd0(0x2f1)]+'`\x20is\x20present\x20in\x20region\x20`'+global_registry[_0x2d0bd0(0x277)]+_0x2d0bd0(0x249)+_0x1d9c28;continue;}break;}}_0xe79dcf&&logger[_0x2d0bd0(0x214)](_0x2d0bd0(0x2c6)+global_registry[_0x2d0bd0(0x2f1)]+_0x2d0bd0(0x1f8));const _0x26ceb0=await _0x497b94[_0x2d0bd0(0x1fd)]();_0x2c3d21[_0x2d0bd0(0x2eb)](printResponse,_0x2c3d21[_0x2d0bd0(0x29f)],_0x26ceb0);const _0x38b4d4=await _0x2c3d21[_0x2d0bd0(0x26f)](curlRequest);_0x2c3d21[_0x2d0bd0(0x2e1)](printResponse,_0x2c3d21[_0x2d0bd0(0x21f)],_0x38b4d4);const _0x16ccf6=await _0x2c3d21[_0x2d0bd0(0x287)](isTlsSupported,_0x2c3d21['RbJQD']);_0x2c3d21['HnsmR'](printResponse,_0x2c3d21[_0x2d0bd0(0x255)],_0x16ccf6);const _0x138061={};_0x138061[_0x2d0bd0(0x2aa)]=_0x2c3d21[_0x2d0bd0(0x276)],_0x138061[_0x2d0bd0(0x245)]=_0x40818c;const _0x395fdf={};_0x395fdf[_0x2d0bd0(0x2aa)]=_0x2c3d21[_0x2d0bd0(0x25c)],_0x395fdf['response']=_0x26ceb0;const _0x290785={};_0x290785[_0x2d0bd0(0x2aa)]=_0x2c3d21['kFhTt'],_0x290785[_0x2d0bd0(0x245)]=_0x38b4d4;const _0x105a57={};_0x105a57['header']=_0x2c3d21['CLAxW'],_0x105a57[_0x2d0bd0(0x245)]=_0x16ccf6;const _0x895b60=[_0x138061,_0x395fdf,_0x290785,_0x105a57],_0x28fe75=await _0x2c3d21[_0x2d0bd0(0x23d)](generateReport,_0x895b60,_0xe79dcf),_0x43acf9=new Date(),_0x2a7111=_0x43acf9[_0x2d0bd0(0x260)]()+'_'+_0x2c3d21[_0x2d0bd0(0x2c1)](_0x43acf9['getUTCMonth'](),0x1)+'_'+_0x43acf9[_0x2d0bd0(0x294)]()+'_'+_0x43acf9[_0x2d0bd0(0x235)]()+'_'+_0x43acf9[_0x2d0bd0(0x261)](),_0x336825=_0x2d0bd0(0x2ae)+_0x2a7111+'.txt';fs['writeFileSync'](_0x336825,_0x28fe75,_0x2c3d21[_0x2d0bd0(0x2be)]),logger[_0x2d0bd0(0x214)](_0x2d0bd0(0x2a3)+_0x336825),process[_0x2d0bd0(0x29a)](0x0);}catch(_0x4405fb){let _0x442ed6='Failed\x20in\x20pre-check!\x20Error:\x20'+_0x4405fb+'\x20';logger[_0x2d0bd0(0x23c)](_0x442ed6),_0x442ed6+='\x0a'+JSON[_0x2d0bd0(0x275)](_0x4405fb[_0x2d0bd0(0x232)]),logger[_0x2d0bd0(0x25a)](_0x2d0bd0(0x2af)+_0x4405fb[_0x2d0bd0(0x232)]);if(_0x11d8c4){const _0x4e0c93={};_0x4e0c93[_0x2d0bd0(0x254)]=WS_EVENTS[_0x2d0bd0(0x24e)],_0x4e0c93[_0x2d0bd0(0x1fc)]=_0x442ed6,webSocketUtils[_0x2d0bd0(0x213)](_0x11d8c4,_0x4e0c93,_0x2c3d21[_0x2d0bd0(0x2a4)],!![]);}await webSocketUtils[_0x2d0bd0(0x23a)](0x7d0);const _0x3fc320={};_0x3fc320[_0x2d0bd0(0x23c)]=_0x442ed6,await _0x2c3d21[_0x2d0bd0(0x2d0)](sendInstrumentationEvent,_0x24e6d6,_0x2c3d21[_0x2d0bd0(0x251)],messageTypes[_0x2d0bd0(0x2ed)],_0x2c3d21[_0x2d0bd0(0x23f)],_0x3fc320,_0x24e6d6),process['exit'](0x1);}};