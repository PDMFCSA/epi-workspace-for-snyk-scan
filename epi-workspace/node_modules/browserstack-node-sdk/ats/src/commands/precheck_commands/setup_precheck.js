const a17_0xe9d512=a17_0x2f91;function a17_0x2f91(_0x2ff673,_0x4de36f){const _0x4a99b2=a17_0x4a99();return a17_0x2f91=function(_0x2f91cc,_0x4c0ebe){_0x2f91cc=_0x2f91cc-0x19e;let _0x268d17=_0x4a99b2[_0x2f91cc];return _0x268d17;},a17_0x2f91(_0x2ff673,_0x4de36f);}(function(_0x5de779,_0x4ffcb9){const _0x41953b=a17_0x2f91,_0x277229=_0x5de779();while(!![]){try{const _0x480f69=-parseInt(_0x41953b(0x252))/0x1+parseInt(_0x41953b(0x217))/0x2*(-parseInt(_0x41953b(0x1a3))/0x3)+-parseInt(_0x41953b(0x20d))/0x4+parseInt(_0x41953b(0x268))/0x5+parseInt(_0x41953b(0x24e))/0x6+parseInt(_0x41953b(0x25d))/0x7+parseInt(_0x41953b(0x25f))/0x8;if(_0x480f69===_0x4ffcb9)break;else _0x277229['push'](_0x277229['shift']());}catch(_0xaa04c){_0x277229['push'](_0x277229['shift']());}}}(a17_0x4a99,0xab069));const fs=require('fs'),ws=require('ws'),got=require(a17_0xe9d512(0x282)),{v4:uuidv4}=require(a17_0xe9d512(0x267)),ReconnectingWebSocket=require(a17_0xe9d512(0x254)),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require(a17_0xe9d512(0x21a)),{logger}=require('../../config/logger'),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require('../../config/constants'),{getCloudProviderObjectWithOutInit}=require(a17_0xe9d512(0x20b)),webSocketUtils=require(a17_0xe9d512(0x215)),{sendInstrumentationEvent}=require(a17_0xe9d512(0x22a));exports[a17_0xe9d512(0x233)]=a17_0xe9d512(0x283),exports[a17_0xe9d512(0x206)]='Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup',exports[a17_0xe9d512(0x231)]=function(_0x207cd0){const _0x236fdc=a17_0xe9d512,_0x443ea2={};_0x443ea2[_0x236fdc(0x1a4)]='Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.',_0x443ea2[_0x236fdc(0x213)]=_0x236fdc(0x221),_0x443ea2[_0x236fdc(0x284)]=_0x236fdc(0x294),_0x443ea2[_0x236fdc(0x219)]=_0x236fdc(0x288),_0x443ea2[_0x236fdc(0x24d)]=_0x236fdc(0x262),_0x443ea2['gyZuP']='help';const _0x42f262=_0x443ea2,_0x386e1a={};_0x386e1a[_0x236fdc(0x1de)]=_0x42f262[_0x236fdc(0x1a4)],_0x386e1a[_0x236fdc(0x277)]=_0x42f262['aNNdU'];const _0xe61c42={};_0xe61c42[_0x236fdc(0x1de)]=_0x42f262[_0x236fdc(0x284)],_0xe61c42[_0x236fdc(0x277)]=_0x42f262[_0x236fdc(0x213)];const _0x47b786={};_0x47b786[_0x236fdc(0x1de)]=_0x42f262[_0x236fdc(0x219)],_0x47b786[_0x236fdc(0x277)]=_0x42f262[_0x236fdc(0x213)];const _0x139402={};_0x139402[_0x236fdc(0x1de)]=_0x42f262[_0x236fdc(0x24d)],_0x139402['type']=_0x42f262[_0x236fdc(0x213)];const _0x4ff20c={};return _0x4ff20c[_0x236fdc(0x1da)]=_0x386e1a,_0x4ff20c['cloud-provider']=_0xe61c42,_0x4ff20c[_0x236fdc(0x1e4)]=_0x47b786,_0x4ff20c[_0x236fdc(0x253)]=_0x139402,_0x207cd0[_0x236fdc(0x287)](HELP_HEADER_MESSAGE[_0x236fdc(0x259)])[_0x236fdc(0x27e)](HELP_FOOTER_MESSAGE)[_0x236fdc(0x1c9)](_0x4ff20c)[_0x236fdc(0x23c)](_0x42f262[_0x236fdc(0x22b)])['argv'];};async function inputValidation(_0x5729fc,_0x206bf5){const _0x2f3fc1=a17_0xe9d512,_0x5ee5e3={'OfBfD':_0x2f3fc1(0x1da),'yBDYW':_0x2f3fc1(0x1a6),'jwTvd':'region','BsDBy':_0x2f3fc1(0x201),'XehbT':'N/A','NVTVe':function(_0x31a057,_0x33c2f7){return _0x31a057+_0x33c2f7;},'ehQse':_0x2f3fc1(0x1cb),'QXOpg':_0x2f3fc1(0x211),'HCIxG':function(_0x31bd3c,_0xb263e4){return _0x31bd3c||_0xb263e4;},'JfKCj':_0x2f3fc1(0x1d9),'sRwrg':_0x2f3fc1(0x1bf),'jxxPW':_0x2f3fc1(0x21d),'GZIPq':'cloud-provider','eHOEn':_0x2f3fc1(0x1c3),'ZfAqA':_0x2f3fc1(0x221),'hzKTA':'Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','zKbhi':'Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','ZlBUA':'Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','VSDsa':_0x2f3fc1(0x23c),'kxyKP':function(_0x1b2a2b,_0x59d107){return _0x1b2a2b===_0x59d107;},'cLTdS':_0x2f3fc1(0x235),'wjHvM':function(_0x1a5001,_0x11921c){return _0x1a5001===_0x11921c;},'ftafe':_0x2f3fc1(0x225),'IVKcU':_0x2f3fc1(0x1e7),'DraYp':function(_0x5b5ba1,_0x5ae9a1){return _0x5b5ba1===_0x5ae9a1;},'nqtsg':_0x2f3fc1(0x1c2),'cxHpt':function(_0x41bf0a,_0x13a194){return _0x41bf0a!==_0x13a194;},'cmJtM':_0x2f3fc1(0x20e),'pyrJr':_0x2f3fc1(0x1f3),'HTHhL':function(_0xefd3d2,_0x538d21){return _0xefd3d2===_0x538d21;},'PkUqj':_0x2f3fc1(0x1ca),'rRmIm':function(_0x4fde22,_0x5c4f19){return _0x4fde22>_0x5c4f19;},'XKjco':_0x2f3fc1(0x280),'cOVDo':_0x2f3fc1(0x26c),'BwxRz':function(_0x26d39d,_0x564388,_0x2f46ff,_0x39c118,_0x19857d,_0x2789b0,_0x17b01c,_0x16ef54){return _0x26d39d(_0x564388,_0x2f46ff,_0x39c118,_0x19857d,_0x2789b0,_0x17b01c,_0x16ef54);},'zKBYb':_0x2f3fc1(0x208),'OtECp':'pre-check-cluster-args-not-passed','bPqsR':function(_0x277b16,_0x253fe8){return _0x277b16===_0x253fe8;},'pYKBu':_0x2f3fc1(0x232),'MZyuD':_0x2f3fc1(0x28f),'UefvT':_0x2f3fc1(0x1bc),'nzRCo':function(_0x29de67,_0x64b292){return _0x29de67===_0x64b292;},'msqXH':_0x2f3fc1(0x261),'kLxMq':_0x2f3fc1(0x27c),'TIXhF':_0x2f3fc1(0x240),'SevlD':_0x2f3fc1(0x28a),'quoDB':function(_0x2dab88,_0x8a14fc,_0x16c847){return _0x2dab88(_0x8a14fc,_0x16c847);},'JewsJ':function(_0x4c2fbc,_0xcec62e,_0x437489,_0x5da756,_0x511717,_0x36801f){return _0x4c2fbc(_0xcec62e,_0x437489,_0x5da756,_0x511717,_0x36801f);},'LUYGX':_0x2f3fc1(0x220),'yCkxG':_0x2f3fc1(0x253),'lJgKN':function(_0x559121,_0x22d071){return _0x559121===_0x22d071;},'GTthl':function(_0x18288c,_0x3de5d7){return _0x18288c!==_0x3de5d7;},'IfROA':_0x2f3fc1(0x1f0),'XcmHz':function(_0x23d332,_0x2c00b4){return _0x23d332(_0x2c00b4);},'OkHcu':function(_0xe22893,_0xacd12a){return _0xe22893===_0xacd12a;},'pcupk':_0x2f3fc1(0x216),'luWar':'pre-check-grid-profile-empty','NppZU':'ENaoU','RrRHr':function(_0x21c617,_0x51e01e){return _0x21c617!==_0x51e01e;},'hiAWX':_0x2f3fc1(0x1f8),'PepJE':'zxzrJ','TaNkD':'Grid\x20profile\x20fetched\x20for\x20pre-check','ZZHHT':function(_0x26a51f,_0x4e0ea0){return _0x26a51f!==_0x4e0ea0;},'IiFjf':'ZPCCL','ryfNe':_0x2f3fc1(0x241),'DDkmI':_0x2f3fc1(0x290),'rbosL':function(_0x535cc5,_0x5baec3,_0x5dc153,_0x4dcad4,_0x391043,_0x1fbc25,_0x392214,_0x34c236){return _0x535cc5(_0x5baec3,_0x5dc153,_0x4dcad4,_0x391043,_0x1fbc25,_0x392214,_0x34c236);}};let _0x5ace39;try{if(_0x5ee5e3['kxyKP'](_0x5ee5e3[_0x2f3fc1(0x218)],_0x5ee5e3[_0x2f3fc1(0x218)])){if(_0x5729fc[_0x2f3fc1(0x258)]||_0x5729fc[_0x2f3fc1(0x1a9)]||_0x5729fc[_0x2f3fc1(0x1e4)]){if(_0x5ee5e3[_0x2f3fc1(0x1b7)](_0x5ee5e3[_0x2f3fc1(0x21e)],_0x5ee5e3[_0x2f3fc1(0x28e)]))_0x454e58[_0x2f3fc1(0x1b4)](_0x2f3fc1(0x1c4)+_0x2a6bfa[_0x2f3fc1(0x258)]+_0x2f3fc1(0x1e6));else{const _0x1b231d=[];!_0x5729fc[_0x2f3fc1(0x258)]&&(_0x5ee5e3['DraYp'](_0x5ee5e3[_0x2f3fc1(0x200)],_0x5ee5e3[_0x2f3fc1(0x200)])?_0x1b231d[_0x2f3fc1(0x21c)](_0x5ee5e3[_0x2f3fc1(0x1fe)]):_0x136b29[_0x2f3fc1(0x1d9)]('error\x20stack\x20:\x20'+_0x5eda5c[_0x2f3fc1(0x1d9)][_0x2f3fc1(0x1c1)]));;!_0x5729fc[_0x2f3fc1(0x1a9)]&&(_0x5ee5e3['cxHpt'](_0x5ee5e3[_0x2f3fc1(0x263)],_0x5ee5e3[_0x2f3fc1(0x1d2)])?_0x1b231d[_0x2f3fc1(0x21c)](_0x5ee5e3[_0x2f3fc1(0x23e)]):(_0x24c772[_0x2f3fc1(0x1b4)]('['+_0x435c85+_0x2f3fc1(0x25a)+_0x2c2c94['status']+_0x2f3fc1(0x234)+_0x560919[_0x2f3fc1(0x236)]+_0x2f3fc1(0x27b)+_0x33414f[_0x2f3fc1(0x1d9)]),_0x9baf6f['error']&&_0x542e1e[_0x2f3fc1(0x1d9)](_0x2f3fc1(0x27a)+_0x14af09[_0x2f3fc1(0x1d9)]['stack'])));;!_0x5729fc[_0x2f3fc1(0x1e4)]&&(_0x5ee5e3[_0x2f3fc1(0x1ee)](_0x5ee5e3[_0x2f3fc1(0x249)],_0x5ee5e3[_0x2f3fc1(0x249)])?_0x1b231d[_0x2f3fc1(0x21c)](_0x5ee5e3[_0x2f3fc1(0x20c)]):_0x56f62e[_0x2f3fc1(0x21c)](_0x5ee5e3[_0x2f3fc1(0x1fe)]));;_0x5ee5e3['rRmIm'](_0x1b231d['length'],0x0)&&(_0x5ee5e3['HTHhL'](_0x5ee5e3[_0x2f3fc1(0x1c5)],_0x5ee5e3[_0x2f3fc1(0x25c)])?_0x2ad2ae=_0x677f05:(_0x5ace39=_0x2f3fc1(0x19e)+_0x1b231d[_0x2f3fc1(0x25e)](',\x20')+'.\x20Please\x20provide\x20all\x20required\x20arguments.',await _0x5ee5e3[_0x2f3fc1(0x1c7)](reportToGalactusAndSendToEDS,_0x5729fc,_0x206bf5,_0x5ace39,messageTypes['ERROR'],_0x5ee5e3[_0x2f3fc1(0x1aa)],_0x5ee5e3[_0x2f3fc1(0x22c)],_0x5ee5e3[_0x2f3fc1(0x266)]),logger[_0x2f3fc1(0x1d9)](_0x5ace39),process['exit'](0x1))),!ALL_SUPPORTED_CLOUD_PROVIDERS['includes'](_0x5729fc[_0x2f3fc1(0x1a9)][_0x2f3fc1(0x1fc)]())&&(_0x5ee5e3[_0x2f3fc1(0x1dd)](_0x5ee5e3[_0x2f3fc1(0x285)],_0x5ee5e3[_0x2f3fc1(0x285)])?(_0x5ace39=_0x5ee5e3['MZyuD'],await _0x5ee5e3[_0x2f3fc1(0x1c7)](reportToGalactusAndSendToEDS,_0x5729fc,_0x206bf5,_0x5ace39,messageTypes[_0x2f3fc1(0x1fa)],_0x5ee5e3['zKBYb'],_0x5ee5e3['UefvT'],_0x5ee5e3[_0x2f3fc1(0x266)]),logger[_0x2f3fc1(0x1d9)](_0x5ace39),!_0x5729fc[_0x2f3fc1(0x1a9)]&&(_0x5ee5e3['nzRCo'](_0x5ee5e3[_0x2f3fc1(0x1d0)],_0x5ee5e3[_0x2f3fc1(0x1fb)])?_0x258ae3+='Cluster\x20'+_0x884916[_0x2f3fc1(0x258)]+'\x20details\x20cannot\x20be\x20fetched\x0a\x0a':(logger['info']('Setting\x20cloud\x20provider\x20as\x20'+DEFAULT_CLUSTER_DETAILS[_0x2f3fc1(0x1a8)]+'\x20'),_0x5729fc[_0x2f3fc1(0x1a9)]=DEFAULT_CLUSTER_DETAILS['CLOUD_PROVIDER']))):(_0x42651d['error'](_0x5ee5e3[_0x2f3fc1(0x24c)]),_0x4c55fa['exit'](0x1))),global_registry[_0x2f3fc1(0x258)]=_0x5729fc['clusterName'],global_registry[_0x2f3fc1(0x1a9)]=_0x5729fc[_0x2f3fc1(0x1a9)],global_registry[_0x2f3fc1(0x1a2)]=_0x5729fc[_0x2f3fc1(0x1e4)];}}else{if(_0x5729fc[_0x2f3fc1(0x276)]){if(_0x5ee5e3[_0x2f3fc1(0x248)](_0x5ee5e3['TIXhF'],_0x5ee5e3[_0x2f3fc1(0x23b)])){global_registry[_0x2f3fc1(0x276)]=_0x5729fc[_0x2f3fc1(0x276)],logger['debug'](_0x2f3fc1(0x269)+_0x5729fc['gridProfile']);const _0x1479b6='https://'+AG_API_URL+_0x2f3fc1(0x1ce),_0x11d600={};_0x11d600[_0x2f3fc1(0x22e)]=_0x5ee5e3[_0x2f3fc1(0x22d)],_0x11d600[_0x2f3fc1(0x1d3)]=global_registry[_0x2f3fc1(0x203)],_0x11d600[_0x2f3fc1(0x223)]=![];const _0x444258=_0x11d600,_0x130341=await _0x5ee5e3[_0x2f3fc1(0x23d)](got,_0x1479b6,_0x444258),_0x39f320=await _0x5ee5e3[_0x2f3fc1(0x21f)](responseValidation,_0x130341,_0x5ee5e3[_0x2f3fc1(0x295)],_0x5ee5e3[_0x2f3fc1(0x28b)],_0x5729fc,_0x206bf5);let _0x36c901={};if(_0x5ee5e3[_0x2f3fc1(0x1b1)](_0x39f320,0xc8)){if(_0x5ee5e3[_0x2f3fc1(0x1d6)](_0x5ee5e3['IfROA'],_0x5ee5e3[_0x2f3fc1(0x1c8)]))_0x47cc86[_0x2f3fc1(0x21c)](_0x5ee5e3[_0x2f3fc1(0x20c)]);else{const _0x1609f7=JSON[_0x2f3fc1(0x1ed)](_0x130341[_0x2f3fc1(0x228)]),_0x4355df=_0x1609f7[_0x2f3fc1(0x1ff)](_0x4a56b3=>_0x4a56b3[_0x2f3fc1(0x278)]===_0x5729fc[_0x2f3fc1(0x276)])||null;if(_0x5ee5e3[_0x2f3fc1(0x210)](isUndefined,_0x4355df))_0x5ee5e3['OkHcu'](_0x5ee5e3[_0x2f3fc1(0x230)],_0x5ee5e3[_0x2f3fc1(0x230)])?(_0x5ace39=_0x2f3fc1(0x1c0)+_0x5729fc['gridProfile']+_0x2f3fc1(0x212),await _0x5ee5e3[_0x2f3fc1(0x1c7)](reportToGalactusAndSendToEDS,_0x5729fc,_0x206bf5,_0x5ace39,messageTypes[_0x2f3fc1(0x1fa)],_0x5ee5e3[_0x2f3fc1(0x1aa)],_0x5ee5e3[_0x2f3fc1(0x251)],_0x5ee5e3[_0x2f3fc1(0x266)]),logger[_0x2f3fc1(0x1d9)](_0x5ace39),process[_0x2f3fc1(0x26d)](0x1)):(_0x1f7064+=_0x5ee5e3['BsDBy'],_0x47357b+=_0x2f3fc1(0x214)+(_0x25e229[_0x2f3fc1(0x245)]||_0x5ee5e3[_0x2f3fc1(0x204)])+'\x0a',_0x3e6c0b+=_0x2f3fc1(0x1e9)+(_0x11ec97[_0x2f3fc1(0x1b2)]||_0x5ee5e3[_0x2f3fc1(0x204)])+'\x0a',_0x36033f+=_0x2f3fc1(0x237)+(_0x5cdc49['stack']||_0x5ee5e3['XehbT'])+'\x0a');else{if(_0x5ee5e3[_0x2f3fc1(0x1ee)](_0x5ee5e3[_0x2f3fc1(0x1d5)],_0x5ee5e3[_0x2f3fc1(0x1d5)]))_0x36c901=_0x4355df;else{const {header:_0x2f87fa,response:_0x107528}=_0x271a55,{status:_0xbeb38e,data:_0xdaba77,error:_0xd63e4f}=_0x107528;_0x17bfda+=_0x2f87fa+'\x20#'+_0x5ee5e3[_0x2f3fc1(0x1db)](_0xe9da63,0x1)+'\x0a',_0x1bb2e7+='Status:\x20'+(_0xbeb38e?_0x5ee5e3['ehQse']:_0x5ee5e3['QXOpg'])+'\x0a',_0x4c8173+=_0x2f3fc1(0x1be)+_0x5ee5e3['HCIxG'](_0xdaba77,_0x5ee5e3[_0x2f3fc1(0x204)])+'\x0a',_0xd63e4f&&(_0x2eed41+=_0x5ee5e3[_0x2f3fc1(0x1e2)],_0x205afc+='\x20\x20Message:\x20'+(_0xd63e4f[_0x2f3fc1(0x245)]||_0x5ee5e3[_0x2f3fc1(0x204)])+'\x0a',_0x13c1d8+='\x20\x20Code:\x20'+(_0xd63e4f[_0x2f3fc1(0x1b2)]||_0x5ee5e3[_0x2f3fc1(0x204)])+'\x0a',_0x311a31+=_0x2f3fc1(0x237)+(_0xd63e4f[_0x2f3fc1(0x1c1)]||_0x5ee5e3[_0x2f3fc1(0x204)])+'\x0a'),_0x1c7efd+='\x0a\x0a';}}}}else _0x5ee5e3['RrRHr'](_0x5ee5e3['hiAWX'],_0x5ee5e3[_0x2f3fc1(0x222)])?process[_0x2f3fc1(0x26d)](0x1):_0x12b641['exit'](0x1);const _0x5584d3={};_0x5584d3[_0x2f3fc1(0x277)]=WS_EVENTS['LOG'],_0x5584d3[_0x2f3fc1(0x245)]=_0x5ee5e3[_0x2f3fc1(0x239)],webSocketUtils[_0x2f3fc1(0x281)](_0x206bf5,_0x5584d3),global_registry[_0x2f3fc1(0x1a9)]=_0x36c901[_0x2f3fc1(0x1a9)],global_registry[_0x2f3fc1(0x1a2)]=_0x36c901[_0x2f3fc1(0x1e4)],global_registry[_0x2f3fc1(0x258)]=_0x36c901[_0x2f3fc1(0x258)];}else{const _0x5c724a={};_0x5c724a[_0x2f3fc1(0x277)]=_0x5eb9e2[_0x2f3fc1(0x1e0)],_0x5c724a['message']=_0x589ae1,_0x58ff10[_0x2f3fc1(0x281)](_0x9358c2,_0x5c724a,_0x5ee5e3[_0x2f3fc1(0x266)],!![]);}}else _0x5ee5e3[_0x2f3fc1(0x264)](_0x5ee5e3['IiFjf'],_0x5ee5e3['IiFjf'])?_0x544eba+=_0x2f3fc1(0x1d1)+_0x5c6a41[_0x2f3fc1(0x258)]+'\x20'+(_0x4716ff?_0x5ee5e3['sRwrg']:_0x5ee5e3['jxxPW'])+'\x0a\x0a':(logger[_0x2f3fc1(0x1d9)](_0x5ee5e3[_0x2f3fc1(0x24c)]),process[_0x2f3fc1(0x26d)](0x1));}}else _0x36fc98[_0x2f3fc1(0x21c)](_0x5ee5e3[_0x2f3fc1(0x23e)]);}catch(_0x89f2ae){if(_0x5ee5e3[_0x2f3fc1(0x1ee)](_0x5ee5e3[_0x2f3fc1(0x209)],_0x5ee5e3[_0x2f3fc1(0x1ab)])){const _0x22abe7={};_0x22abe7['description']=_0x5ee5e3[_0x2f3fc1(0x26e)],_0x22abe7['type']=_0x5ee5e3[_0x2f3fc1(0x1cf)];const _0x4ac6fc={};_0x4ac6fc[_0x2f3fc1(0x1de)]=_0x5ee5e3['hzKTA'],_0x4ac6fc['type']=_0x5ee5e3[_0x2f3fc1(0x1cf)];const _0x77db8c={};_0x77db8c[_0x2f3fc1(0x1de)]=_0x5ee5e3[_0x2f3fc1(0x22f)],_0x77db8c['type']=_0x5ee5e3[_0x2f3fc1(0x1cf)];const _0x22d626={};_0x22d626[_0x2f3fc1(0x1de)]=_0x5ee5e3[_0x2f3fc1(0x1b0)],_0x22d626['type']=_0x5ee5e3[_0x2f3fc1(0x1cf)];const _0x1d0247={};return _0x1d0247['cluster-name']=_0x22abe7,_0x1d0247[_0x2f3fc1(0x286)]=_0x4ac6fc,_0x1d0247[_0x2f3fc1(0x1e4)]=_0x77db8c,_0x1d0247[_0x2f3fc1(0x253)]=_0x22d626,_0x87d58d[_0x2f3fc1(0x287)](_0x183535[_0x2f3fc1(0x259)])[_0x2f3fc1(0x27e)](_0x35d742)[_0x2f3fc1(0x1c9)](_0x1d0247)['help'](_0x5ee5e3[_0x2f3fc1(0x244)])[_0x2f3fc1(0x25b)];}else _0x5ace39=_0x2f3fc1(0x255)+_0x89f2ae+':\x20'+_0x89f2ae[_0x2f3fc1(0x1c1)],logger[_0x2f3fc1(0x1d9)](_0x5ace39),await _0x5ee5e3['rbosL'](reportToGalactusAndSendToEDS,_0x5729fc,_0x206bf5,_0x5ace39,messageTypes[_0x2f3fc1(0x1fa)],_0x5ee5e3[_0x2f3fc1(0x1aa)],_0x5ee5e3[_0x2f3fc1(0x227)],_0x5ee5e3[_0x2f3fc1(0x266)]),process[_0x2f3fc1(0x26d)](0x1);}}function printResponse(_0x51d6fb,_0x2dfdbf){const _0x2be919=a17_0xe9d512,_0xc7db40={};_0xc7db40[_0x2be919(0x272)]=function(_0x26bfc9,_0xbbfcd6){return _0x26bfc9===_0xbbfcd6;},_0xc7db40[_0x2be919(0x250)]=_0x2be919(0x1e1),_0xc7db40[_0x2be919(0x296)]='Mtwpy';const _0x553c7b=_0xc7db40;logger['info']('['+_0x51d6fb+_0x2be919(0x25a)+_0x2dfdbf[_0x2be919(0x270)]+_0x2be919(0x234)+_0x2dfdbf[_0x2be919(0x236)]+_0x2be919(0x27b)+_0x2dfdbf[_0x2be919(0x1d9)]),_0x2dfdbf[_0x2be919(0x1d9)]&&(_0x553c7b[_0x2be919(0x272)](_0x553c7b[_0x2be919(0x250)],_0x553c7b[_0x2be919(0x296)])?(_0x8f985[_0x2be919(0x1b4)]('Setting\x20cloud\x20provider\x20as\x20'+_0x10989c['CLOUD_PROVIDER']+'\x20'),_0x53c38f[_0x2be919(0x1a9)]=_0x570c71[_0x2be919(0x1a8)]):logger[_0x2be919(0x1d9)](_0x2be919(0x27a)+_0x2dfdbf[_0x2be919(0x1d9)]['stack']));}function a17_0x4a99(){const _0x225708=['rzJnU','sendEventToBackend','got','grid','OHnwa','pYKBu','cloud-provider','usage','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','header','GET','yCkxG','pre-check-failed','Status:\x20','IVKcU','Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','NOkYa','cluster-check-failed-','WebSocket','ztKnV','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','LUYGX','AKFhH','cqcQi','Missing\x20required\x20arguments:\x20','getUTCDate','`\x20,error\x20:\x20','init','clusterRegion','631344qOzJEC','LLdSi','\x20region\x20-\x20','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','checkAccess','CLOUD_PROVIDER','cloudProvider','zKBYb','DDkmI','YckXe','jlUEt','SSL\x20Configured','TQsRZ','ZlBUA','lJgKN','code','Browserstack','info','INFO','response','wjHvM','qrPjH','mEKQR','getUTCMonth','zgzLh','cloud-provider-not-supported','bFWcG','Message:\x20','is\x20already\x20present','Invalid\x20input.\x20grid\x20profiles:\x20','stack','LzIEU','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','Cluster\x20`','XKjco','qUvGC','BwxRz','IfROA','options','pGnBt','Success','JWCRs','1|2|0|4|3','/packages/cli/get-all-grid-profiles','ZfAqA','msqXH','Cluster\x20','pyrJr','headers','KSLWz','NppZU','GTthl','connectionTimeout','RuqgK','error','cluster-name','NVTVe','Cluster\x20details\x0a-----------------------\x0a','bPqsR','description','split','LOG','SWqOW','BsDBy','uPlmz','region','getUTCHours','`\x20already\x20exists','ImMZX','readFileSync','\x20\x20Code:\x20','bstackAccesskey','credential-not-found','UJBtS','parse','HTHhL','Whitelisted\x20browserstack','hTnqv','unable\x20to\x20verify\x20if\x20cluster\x20`','yVVfW','ewbwW','isTrialGridAccessible','stringify','PlFpm','isClusterPresent','KBZAE','uyGie','ERROR','kLxMq','toLowerCase','MYzvh','OfBfD','find','nqtsg','Error\x20Details:\x0a','replace','authHeader','XehbT','lAbjC','desc','EUWRF','pre-check-grid-called','ryfNe','getUTCMinutes','../../cloudproviders/utils','jwTvd','5390296iiEmiq','PAOpx','===\x20Precheck\x20Report\x20-\x20','XcmHz','Failure','.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again','aNNdU','\x20\x20Message:\x20','../../utils/webSocketUtils','IlBXz','4XJgrgZ','cLTdS','CySfz','../../utils/utilityMethods','bstackUsername','push','will\x20be\x20created','ftafe','JewsJ','pre-check','string','PepJE','throwHttpErrors','utf-8','PRcTA','debug','UefvT','body','handler','../../utils/instrumentationUtils','gyZuP','OtECp','SevlD','method','zKbhi','pcupk','builder','tqqke','command','\x20data\x20:\x20','rkwIy','data','\x20\x20Stack:\x20','stZdn','TaNkD','Report\x20saved\x20in\x20','TIXhF','help','quoDB','GZIPq','TLSv1_2_client_method','Zkoye','hQIBl','eJJOJ','isCliToolInstalled','VSDsa','message','requestId','existsSync','DraYp','PkUqj','\x20===\x0a\x0a','YMVQO','yBDYW','ofwFw','4874964qnXcPA','password','lCpfn','luWar','911425bRWbVr','grid-profile','reconnecting-websocket','Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20','User\x20Access','HHbSq','clusterName','pre_check',']\x20status\x20:\x20','argv','cOVDo','21847leMLeb','join','16674016wSQjyq','accessResp','SHOBm','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','cmJtM','ZZHHT','forEach','JfKCj','uuid','2402745nLGXMD','grid\x20profile\x20flow\x20','RmAlY','dummy-grid','HySvf','exit','eHOEn','wggvA','status','BMULi','JCByd','TMApg','log/report_','stack\x20trace\x20','gridProfile','type','name','`\x20is\x20present\x20in\x20region\x20`','error\x20stack\x20:\x20','\x20error\x20:\x20','LVOfo','writeFileSync','epilogue','delay'];a17_0x4a99=function(){return _0x225708;};return a17_0x4a99();}async function generateReport(_0xc0a103,_0x415b9a){const _0x51282b=a17_0xe9d512,_0x4dab1c={'XkcTS':function(_0x55860b,_0x574d10){return _0x55860b+_0x574d10;},'vyAnG':_0x51282b(0x1cb),'cqcQi':_0x51282b(0x211),'MllBT':function(_0x172040,_0xf81cb2){return _0x172040||_0xf81cb2;},'YMVQO':'N/A','MYzvh':_0x51282b(0x201),'YckXe':_0x51282b(0x1dc),'JWCRs':function(_0x10227d,_0x281fcb){return _0x10227d!=_0x281fcb;},'uyGie':_0x51282b(0x1bf),'BMULi':'will\x20be\x20created','stZdn':function(_0x3b761f){return _0x3b761f();}};let _0x54e80f=_0x51282b(0x20f)+global_registry[_0x51282b(0x1a9)]+_0x51282b(0x24a);return _0xc0a103[_0x51282b(0x265)]((_0x433bdb,_0x2f7714)=>{const _0x45e75e=_0x51282b,{header:_0x3b3171,response:_0xb21ced}=_0x433bdb,{status:_0x143116,data:_0x52dd12,error:_0x6afa58}=_0xb21ced;_0x54e80f+=_0x3b3171+'\x20#'+_0x4dab1c['XkcTS'](_0x2f7714,0x1)+'\x0a',_0x54e80f+=_0x45e75e(0x28d)+(_0x143116?_0x4dab1c['vyAnG']:_0x4dab1c[_0x45e75e(0x297)])+'\x0a',_0x54e80f+=_0x45e75e(0x1be)+_0x4dab1c['MllBT'](_0x52dd12,_0x4dab1c[_0x45e75e(0x24b)])+'\x0a',_0x6afa58&&(_0x54e80f+=_0x4dab1c[_0x45e75e(0x1fd)],_0x54e80f+='\x20\x20Message:\x20'+(_0x6afa58['message']||_0x4dab1c['YMVQO'])+'\x0a',_0x54e80f+=_0x45e75e(0x1e9)+(_0x6afa58[_0x45e75e(0x1b2)]||_0x4dab1c[_0x45e75e(0x24b)])+'\x0a',_0x54e80f+='\x20\x20Stack:\x20'+(_0x6afa58[_0x45e75e(0x1c1)]||_0x4dab1c['YMVQO'])+'\x0a'),_0x54e80f+='\x0a\x0a';}),_0x54e80f+=_0x4dab1c[_0x51282b(0x1ac)],_0x4dab1c[_0x51282b(0x1cc)](_0x415b9a,null)?_0x54e80f+=_0x51282b(0x1d1)+global_registry[_0x51282b(0x258)]+'\x20'+(_0x415b9a?_0x4dab1c[_0x51282b(0x1f9)]:_0x4dab1c[_0x51282b(0x271)])+'\x0a\x0a':_0x54e80f+=_0x51282b(0x1d1)+global_registry[_0x51282b(0x258)]+'\x20details\x20cannot\x20be\x20fetched\x0a\x0a',_0x54e80f+=_0x4dab1c[_0x51282b(0x238)](getSystemMetaData),_0x54e80f;};exports[a17_0xe9d512(0x229)]=async function(_0x38b1d1){const _0x4dec6d=a17_0xe9d512,_0x29e4cf={'bVnVe':function(_0x2dc2c3){return _0x2dc2c3();},'ztKnV':function(_0x454a87){return _0x454a87();},'UJBtS':'Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','jlUEt':function(_0x573451,_0x152302,_0x3bd6d4,_0x2d7a35,_0x32e81b,_0x2fb4a8,_0x2cef24,_0x504d42){return _0x573451(_0x152302,_0x3bd6d4,_0x2d7a35,_0x32e81b,_0x2fb4a8,_0x2cef24,_0x504d42);},'RuqgK':'pre-check-grid-called','PlFpm':_0x4dec6d(0x1eb),'wggvA':_0x4dec6d(0x1d9),'qUvGC':function(_0x32ba6d,_0x22b982,_0x3c7477,_0x2f73ea,_0x4ac322,_0x56bf8f,_0x36c9f7){return _0x32ba6d(_0x22b982,_0x3c7477,_0x2f73ea,_0x4ac322,_0x56bf8f,_0x36c9f7);},'Hclnx':'<UsernamePlaceholder>','eJJOJ':'<PasswordPlaceholder>','qrPjH':function(_0x83a790,_0x4ee5fd,_0x57fca8){return _0x83a790(_0x4ee5fd,_0x57fca8);},'HHbSq':function(_0x8b644,_0x1b5588,_0x3ade8b){return _0x8b644(_0x1b5588,_0x3ade8b);},'pgDJu':_0x4dec6d(0x26b),'uPlmz':'toolInstalledResp','KSLWz':_0x4dec6d(0x1cd),'qfKBg':_0x4dec6d(0x260),'Jntlg':function(_0x3b8cb5){return _0x3b8cb5();},'mEKQR':function(_0x31151a,_0x1f0994,_0x26d0b0){return _0x31151a(_0x1f0994,_0x26d0b0);},'RmAlY':_0x4dec6d(0x1f4),'EUWRF':function(_0x1d3333,_0xe32efa){return _0x1d3333(_0xe32efa);},'qbKXB':_0x4dec6d(0x23f),'NxtYn':function(_0x1c1d13,_0x2e26c6,_0x8fc0c8){return _0x1c1d13(_0x2e26c6,_0x8fc0c8);},'TQsRZ':'isTls1_2_SUPPORTED','bFWcG':'Tool\x20Installed','HNtyN':_0x4dec6d(0x256),'zgzLh':_0x4dec6d(0x1ef),'yVVfW':_0x4dec6d(0x1ae),'AwSyP':function(_0x2c3511,_0x4a882d,_0x1c8918){return _0x2c3511(_0x4a882d,_0x1c8918);},'WYEIp':function(_0x210873,_0x4d9f16){return _0x210873+_0x4d9f16;},'TMApg':_0x4dec6d(0x224),'lAbjC':_0x4dec6d(0x28c)};let _0x540bc3,_0x14099d;try{global_registry[_0x4dec6d(0x246)]=_0x29e4cf['bVnVe'](uuidv4);!fs[_0x4dec6d(0x247)](_0x29e4cf[_0x4dec6d(0x293)](getCredentialsPath))&&(_0x14099d=_0x29e4cf[_0x4dec6d(0x1ec)],logger[_0x4dec6d(0x1d9)](_0x14099d),await _0x29e4cf[_0x4dec6d(0x1ad)](reportToGalactusAndSendToEDS,_0x38b1d1,_0x540bc3,_0x14099d,messageTypes[_0x4dec6d(0x1fa)],_0x29e4cf[_0x4dec6d(0x1d8)],_0x29e4cf[_0x4dec6d(0x1f6)],_0x29e4cf[_0x4dec6d(0x26f)]),process[_0x4dec6d(0x26d)](0x1));_0x29e4cf[_0x4dec6d(0x1c6)](sendInstrumentationEvent,_0x38b1d1,_0x29e4cf[_0x4dec6d(0x1d8)],messageTypes[_0x4dec6d(0x1b5)],null,null,_0x38b1d1);const _0x1dbd14=JSON[_0x4dec6d(0x1ed)](fs[_0x4dec6d(0x1e8)](_0x29e4cf[_0x4dec6d(0x293)](getCredentialsPath)));global_registry[_0x4dec6d(0x21b)]=_0x1dbd14[_0x4dec6d(0x1b3)]['username'],global_registry[_0x4dec6d(0x1ea)]=_0x1dbd14[_0x4dec6d(0x1b3)][_0x4dec6d(0x24f)];const _0x4c6b85=WS_ENDPOINT[_0x4dec6d(0x202)](_0x29e4cf['Hclnx'],_0x1dbd14[_0x4dec6d(0x1b3)]['username'])[_0x4dec6d(0x202)](_0x29e4cf[_0x4dec6d(0x242)],_0x1dbd14['Browserstack']['password']),_0x3623da={};_0x3623da[_0x4dec6d(0x292)]=ws,_0x3623da[_0x4dec6d(0x1d7)]=0x36ee80,_0x540bc3=new ReconnectingWebSocket(_0x4c6b85,[],_0x3623da),global_registry[_0x4dec6d(0x203)]=_0x29e4cf[_0x4dec6d(0x1b8)](getAuthHeader,global_registry[_0x4dec6d(0x21b)],global_registry[_0x4dec6d(0x1ea)]),await _0x29e4cf[_0x4dec6d(0x257)](inputValidation,_0x38b1d1,_0x540bc3),logger['info']('Pre-check\x20running\x20for\x20Cloud\x20-\x20'+global_registry[_0x4dec6d(0x1a9)]+_0x4dec6d(0x1a5)+global_registry[_0x4dec6d(0x1a2)]);let _0x3f89f1=await _0x29e4cf[_0x4dec6d(0x1c6)](getCloudProviderObjectWithOutInit,global_registry['cloudProvider'],global_registry[_0x4dec6d(0x258)],_0x29e4cf['pgDJu'],_0x540bc3,webSocketUtils,_0x38b1d1);const _0x809efc=await _0x3f89f1[_0x4dec6d(0x243)]();_0x29e4cf[_0x4dec6d(0x1b8)](printResponse,_0x29e4cf[_0x4dec6d(0x1e3)],_0x809efc),_0x3f89f1=await _0x3f89f1[_0x4dec6d(0x1a1)]();let _0x3be4a7=![];try{_0x3be4a7=await _0x3f89f1[_0x4dec6d(0x1f7)]();}catch(_0x2cbb7b){const _0x515f49=_0x29e4cf[_0x4dec6d(0x1d4)][_0x4dec6d(0x1df)]('|');let _0x214116=0x0;while(!![]){switch(_0x515f49[_0x214116++]){case'0':logger[_0x4dec6d(0x1d9)](_0x14099d);continue;case'1':_0x14099d=_0x4dec6d(0x1f1)+global_registry[_0x4dec6d(0x258)]+_0x4dec6d(0x279)+global_registry[_0x4dec6d(0x1a2)]+_0x4dec6d(0x1a0)+_0x2cbb7b;continue;case'2':_0x3be4a7=null;continue;case'3':await _0x29e4cf[_0x4dec6d(0x1ad)](reportToGalactusAndSendToEDS,_0x38b1d1,_0x540bc3,_0x14099d,messageTypes[_0x4dec6d(0x1fa)],_0x29e4cf[_0x4dec6d(0x1d8)],_0x4dec6d(0x291)+global_registry['cloudProvider'],_0x29e4cf[_0x4dec6d(0x26f)]);continue;case'4':_0x14099d+='\x0a'+JSON[_0x4dec6d(0x1f5)](_0x2cbb7b[_0x4dec6d(0x1c1)]);continue;}break;}}_0x3be4a7&&logger['info'](_0x4dec6d(0x1c4)+global_registry['clusterName']+_0x4dec6d(0x1e6));const _0x4ca82d=await _0x3f89f1[_0x4dec6d(0x1a7)]();_0x29e4cf['qrPjH'](printResponse,_0x29e4cf['qfKBg'],_0x4ca82d);const _0x1c72b9=await _0x29e4cf['Jntlg'](curlRequest);_0x29e4cf[_0x4dec6d(0x1b9)](printResponse,_0x29e4cf[_0x4dec6d(0x26a)],_0x1c72b9);const _0x34e8f6=await _0x29e4cf[_0x4dec6d(0x207)](isTlsSupported,_0x29e4cf['qbKXB']);_0x29e4cf['NxtYn'](printResponse,_0x29e4cf[_0x4dec6d(0x1af)],_0x34e8f6);const _0x3bad8f={};_0x3bad8f['header']=_0x29e4cf[_0x4dec6d(0x1bd)],_0x3bad8f[_0x4dec6d(0x1b6)]=_0x809efc;const _0x4fea78={};_0x4fea78[_0x4dec6d(0x289)]=_0x29e4cf['HNtyN'],_0x4fea78[_0x4dec6d(0x1b6)]=_0x4ca82d;const _0x259ccd={};_0x259ccd[_0x4dec6d(0x289)]=_0x29e4cf[_0x4dec6d(0x1bb)],_0x259ccd[_0x4dec6d(0x1b6)]=_0x1c72b9;const _0x384822={};_0x384822[_0x4dec6d(0x289)]=_0x29e4cf[_0x4dec6d(0x1f2)],_0x384822[_0x4dec6d(0x1b6)]=_0x34e8f6;const _0x169e25=[_0x3bad8f,_0x4fea78,_0x259ccd,_0x384822],_0x342f3b=await _0x29e4cf['AwSyP'](generateReport,_0x169e25,_0x3be4a7),_0xaed3e0=new Date(),_0x16d1e1=_0xaed3e0['getUTCFullYear']()+'_'+_0x29e4cf['WYEIp'](_0xaed3e0[_0x4dec6d(0x1ba)](),0x1)+'_'+_0xaed3e0[_0x4dec6d(0x19f)]()+'_'+_0xaed3e0[_0x4dec6d(0x1e5)]()+'_'+_0xaed3e0[_0x4dec6d(0x20a)](),_0x286338=_0x4dec6d(0x274)+_0x16d1e1+'.txt';fs[_0x4dec6d(0x27d)](_0x286338,_0x342f3b,_0x29e4cf[_0x4dec6d(0x273)]),logger['info'](_0x4dec6d(0x23a)+_0x286338),process[_0x4dec6d(0x26d)](0x0);}catch(_0x1ad049){let _0x5bffcf='Failed\x20in\x20pre-check!\x20Error:\x20'+_0x1ad049+'\x20';logger[_0x4dec6d(0x1d9)](_0x5bffcf),_0x5bffcf+='\x0a'+JSON[_0x4dec6d(0x1f5)](_0x1ad049['stack']),logger[_0x4dec6d(0x226)](_0x4dec6d(0x275)+_0x1ad049[_0x4dec6d(0x1c1)]);if(_0x540bc3){const _0x4e3c41={};_0x4e3c41['type']=WS_EVENTS[_0x4dec6d(0x1e0)],_0x4e3c41['message']=_0x5bffcf,webSocketUtils[_0x4dec6d(0x281)](_0x540bc3,_0x4e3c41,_0x29e4cf[_0x4dec6d(0x26f)],!![]);}await webSocketUtils[_0x4dec6d(0x27f)](0x7d0);const _0x410891={};_0x410891[_0x4dec6d(0x1d9)]=_0x5bffcf,await _0x29e4cf['qUvGC'](sendInstrumentationEvent,_0x38b1d1,_0x29e4cf[_0x4dec6d(0x1d8)],messageTypes[_0x4dec6d(0x1fa)],_0x29e4cf[_0x4dec6d(0x205)],_0x410891,_0x38b1d1),process[_0x4dec6d(0x26d)](0x1);}};