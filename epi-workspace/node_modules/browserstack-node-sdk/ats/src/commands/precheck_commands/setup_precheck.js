const a17_0x2c4660=a17_0xd8bc;(function(_0x25fb6e,_0x9f5fc){const _0x516055=a17_0xd8bc,_0x3a5031=_0x25fb6e();while(!![]){try{const _0x4fe117=parseInt(_0x516055(0x1af))/0x1*(-parseInt(_0x516055(0x1c3))/0x2)+parseInt(_0x516055(0x27d))/0x3+parseInt(_0x516055(0x1d7))/0x4*(-parseInt(_0x516055(0x235))/0x5)+parseInt(_0x516055(0x1d9))/0x6+-parseInt(_0x516055(0x1b3))/0x7*(parseInt(_0x516055(0x252))/0x8)+-parseInt(_0x516055(0x26b))/0x9+-parseInt(_0x516055(0x272))/0xa*(-parseInt(_0x516055(0x255))/0xb);if(_0x4fe117===_0x9f5fc)break;else _0x3a5031['push'](_0x3a5031['shift']());}catch(_0x510cf9){_0x3a5031['push'](_0x3a5031['shift']());}}}(a17_0x2963,0x6e508));const fs=require('fs'),ws=require('ws'),got=require(a17_0x2c4660(0x21e)),{v4:uuidv4}=require(a17_0x2c4660(0x201)),ReconnectingWebSocket=require('reconnecting-websocket'),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require(a17_0x2c4660(0x222)),{logger}=require(a17_0x2c4660(0x1de)),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require(a17_0x2c4660(0x294)),{getCloudProviderObjectWithOutInit}=require('../../cloudproviders/utils'),webSocketUtils=require(a17_0x2c4660(0x208)),{sendInstrumentationEvent}=require(a17_0x2c4660(0x1f1));function a17_0x2963(){const _0x100b6b=['../../utils/instrumentationUtils','Pre-check\x20running\x20for\x20Cloud\x20-\x20','requestId','isTls1_2_SUPPORTED','oTJCk','is\x20already\x20present','sendEventToBackend','code','.txt','xtXxZ','unable\x20to\x20verify\x20if\x20cluster\x20`','init','uQOhj','nTPdm','header','===\x20Precheck\x20Report\x20-\x20','uuid','CLOUD_PROVIDER','JUXtt','utf-8','XYduq','frXWb','OhkCq','../../utils/webSocketUtils','\x20data\x20:\x20','bstackUsername','cloud-provider','Failed\x20in\x20pre-check!\x20Error:\x20','error','pre-check-failed','xSrxg','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','wEyLk','QziPI','isClusterPresent','SSL\x20Configured','Missing\x20required\x20arguments:\x20','Cluster\x20','\x20\x20Stack:\x20','aDajO','https://','INFO','hbtGS','MkhCZ','TLSv1_2_client_method','got','ERROR','CjwTR','Ybnea','../../utils/utilityMethods','length','\x20region\x20-\x20','SdnEi','checkAccess','Tool\x20Installed','vSrfh','stack','accessResp','yjfKY','find','ettxl','\x20error\x20:\x20','User\x20Access','Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','gVIPW','GliLs','OEgbK','oWgIO','57055OYmIlZ','GaHGc','Cluster\x20details\x0a-----------------------\x0a','cscOI','credential-not-found','KJndU','OBLGx','DqDjX','BAVqM','FKERd','3|2|0|4|1','name','kqBjR','\x20\x20Message:\x20','method','type','vfTod','handler','OWSCP','grid-profile','ghuKF','body','vZxRR','description','.\x20Please\x20provide\x20all\x20required\x20arguments.','parse','pre-check-grid-profile-empty','AJAkx','lsIoZ','864488NqhzWm','info','NhHxr','198YYvFMF','HeOXx','NCNCL','XCTaL','GET','fwUsk','mrUff','RupEP','bnBUh','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','cloudProvider','string','command','yJRVW','argv','nyNSJ','will\x20be\x20created','eTaGO','debug','options','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','BoyDV','8023275FmJqmk','kqiNo','LTstx','Invalid\x20input.\x20grid\x20profiles:\x20','ccBtr','push','pre_check','671320vMfvDI','dicDF','readFileSync','data','VzPxI','Error\x20Details:\x0a','Report\x20saved\x20in\x20','ZidHS','eCMZL','message','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','1194684KvOVGe','ARxYj','Otqrd','throwHttpErrors','AjwUa','epilogue','region','CROCg','gPFvp','.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again','wLhQc','existsSync','eNKSt','Message:\x20','toLowerCase','FBRES','CYNXm','snNuG','QKKVn','oYZjc','N/A','stringify','eEDDL','../../config/constants','OoBcl','rWrRb','znCxk','response','usage','Pbnkk','bstackAccesskey','ObQzH','pVjzK','ktqKa','getUTCMonth','EAMRp','log/report_','cluster-name','FGCsT','includes','split','getUTCMinutes','isTrialGridAccessible','cluster-check-failed-','Grid\x20profile\x20fetched\x20for\x20pre-check','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','ughbf','IObGA','WebSocket','isCliToolInstalled','authHeader','43504JDGZOq','ksUmb','WZdiN','XGPav','14XpWQQW','Browserstack','status','pre-check-grid-called','SWvXZ','aHHyU','wAyxE','gridProfile','Cluster\x20`','clusterName','vIRSJ','KHYpe','tUoMn','help','`\x20is\x20present\x20in\x20region\x20`','GCZUt','38zxpyRQ','DKwjk','pre-check','delay','vvbxa','join','\x20\x20Code:\x20','clusterRegion','Status:\x20','getUTCDate','exit','cloud-provider-not-supported','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','mVLPi','qVCJG',']\x20status\x20:\x20','fOEpD','username','pSTaX','CaAld','12SnkwLV','MuTra','4881900IGmIqf','GwZLL','grid\x20profile\x20flow\x20','izZMK','Success','../../config/logger','SMLGl','RKHIM','OHEYm','grid','dummy-grid','`\x20already\x20exists','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','LOG','error\x20stack\x20:\x20','eYbqu','replace','LcIlK','Setting\x20cloud\x20provider\x20as\x20','wUasW','writeFileSync','MzgrV','builder','desc'];a17_0x2963=function(){return _0x100b6b;};return a17_0x2963();}exports[a17_0x2c4660(0x261)]=a17_0x2c4660(0x1e2),exports[a17_0x2c4660(0x1f0)]='Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup',exports[a17_0x2c4660(0x1ef)]=function(_0x400fba){const _0x10be64=a17_0x2c4660,_0x328a30={};_0x328a30[_0x10be64(0x25d)]=_0x10be64(0x25e),_0x328a30[_0x10be64(0x1e0)]=_0x10be64(0x260),_0x328a30['MzgrV']='Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.',_0x328a30[_0x10be64(0x1bf)]=_0x10be64(0x210),_0x328a30[_0x10be64(0x284)]=_0x10be64(0x27c),_0x328a30[_0x10be64(0x290)]='help';const _0x291ab8=_0x328a30,_0x13cbc1={};_0x13cbc1[_0x10be64(0x24c)]=_0x291ab8['bnBUh'],_0x13cbc1[_0x10be64(0x244)]=_0x291ab8['RKHIM'];const _0xb5771b={};_0xb5771b[_0x10be64(0x24c)]=_0x291ab8[_0x10be64(0x1ee)],_0xb5771b[_0x10be64(0x244)]=_0x291ab8['RKHIM'];const _0x593b17={};_0x593b17[_0x10be64(0x24c)]=_0x291ab8[_0x10be64(0x1bf)],_0x593b17[_0x10be64(0x244)]=_0x291ab8['RKHIM'];const _0x5e124e={};_0x5e124e['description']=_0x291ab8[_0x10be64(0x284)],_0x5e124e[_0x10be64(0x244)]=_0x291ab8[_0x10be64(0x1e0)];const _0x2a96d7={};return _0x2a96d7[_0x10be64(0x2a2)]=_0x13cbc1,_0x2a96d7[_0x10be64(0x20b)]=_0xb5771b,_0x2a96d7[_0x10be64(0x283)]=_0x593b17,_0x2a96d7['grid-profile']=_0x5e124e,_0x400fba[_0x10be64(0x299)](HELP_HEADER_MESSAGE[_0x10be64(0x271)])[_0x10be64(0x282)](HELP_FOOTER_MESSAGE)[_0x10be64(0x268)](_0x2a96d7)['help'](_0x291ab8[_0x10be64(0x290)])['argv'];};async function inputValidation(_0x2c049b,_0x531e81){const _0x377e57=a17_0x2c4660,_0xe1e416={'HeOXx':'Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','AjwUa':_0x377e57(0x260),'BoyDV':_0x377e57(0x1cf),'znCxk':_0x377e57(0x210),'rIfSz':_0x377e57(0x27c),'uQOhj':_0x377e57(0x1c0),'SMLGl':_0x377e57(0x269),'OHEYm':_0x377e57(0x283),'NCNCL':_0x377e57(0x277),'FGCsT':_0x377e57(0x291),'nTPdm':_0x377e57(0x20b),'SdnEi':function(_0x4745f9,_0x378a2f){return _0x4745f9+_0x378a2f;},'OBLGx':'Success','RupEP':'Failure','FMQAi':function(_0x497cf5,_0x4185ac){return _0x497cf5||_0x4185ac;},'GCZUt':_0x377e57(0x2a2),'AJAkx':_0x377e57(0x20d),'GspYg':_0x377e57(0x1f6),'IRsFI':_0x377e57(0x265),'dicDF':function(_0x3cb6d9,_0x47e76f){return _0x3cb6d9!==_0x47e76f;},'wUasW':_0x377e57(0x23c),'vZxRR':_0x377e57(0x23e),'qVCJG':'REeOu','pVjzK':function(_0x311f65,_0x3a9425){return _0x311f65===_0x3a9425;},'vfTod':'FgDuj','vSrfh':_0x377e57(0x203),'SWvXZ':'sMdkZ','vIRSJ':_0x377e57(0x258),'Ybnea':_0x377e57(0x29e),'NhHxr':function(_0x616190,_0xb6d4f9){return _0x616190>_0xb6d4f9;},'EAMRp':_0x377e57(0x23d),'eCMZL':function(_0x9b21f6,_0x4bd435,_0x2a7e38,_0x3fe0da,_0x9c0f68,_0x1366c3,_0x4dbce7,_0x26600a){return _0x9b21f6(_0x4bd435,_0x2a7e38,_0x3fe0da,_0x9c0f68,_0x1366c3,_0x4dbce7,_0x26600a);},'fOEpD':_0x377e57(0x1b6),'ITOOK':'pre-check-cluster-args-not-passed','BxUZx':_0x377e57(0x29c),'RqxUn':_0x377e57(0x1dc),'wAyxE':_0x377e57(0x230),'GaHGc':function(_0x322805,_0x836dd2,_0xd2a27,_0x3d372c,_0x108ab4,_0x1f25d0,_0x28d2a7,_0x317936){return _0x322805(_0x836dd2,_0xd2a27,_0x3d372c,_0x108ab4,_0x1f25d0,_0x28d2a7,_0x317936);},'CaAld':_0x377e57(0x1ce),'XkHWH':function(_0x1c959,_0x4413a8){return _0x1c959===_0x4413a8;},'MkhCZ':_0x377e57(0x1fa),'aHHyU':'nLDze','GwZLL':_0x377e57(0x26c),'Inzoi':_0x377e57(0x259),'XzUOp':function(_0x3a487b,_0x3e6437,_0x5cdfd8){return _0x3a487b(_0x3e6437,_0x5cdfd8);},'frXWb':function(_0x20c3eb,_0x278fdf,_0x10d05a,_0x37e7d6,_0x222d57,_0x47c4d4){return _0x20c3eb(_0x278fdf,_0x10d05a,_0x37e7d6,_0x222d57,_0x47c4d4);},'eYbqu':_0x377e57(0x1c5),'LTstx':_0x377e57(0x248),'fwUsk':function(_0x3aecae,_0x3f5295){return _0x3aecae===_0x3f5295;},'Otqrd':function(_0x16ee66,_0x519e46){return _0x16ee66!==_0x519e46;},'ARxYj':_0x377e57(0x1aa),'GliLs':function(_0x27f79c,_0x3ab60d){return _0x27f79c(_0x3ab60d);},'Pbnkk':function(_0x3831ad,_0x5201d3){return _0x3831ad!==_0x5201d3;},'XGPav':'zoRwj','pSTaX':_0x377e57(0x24f),'nyNSJ':function(_0x1e5253,_0x1ba9b1){return _0x1e5253!==_0x1ba9b1;},'snNuG':'caOfW','DKwjk':_0x377e57(0x205),'OhkCq':_0x377e57(0x1a8),'eNKSt':_0x377e57(0x28d),'ruDSY':'qpcyd','wLhQc':_0x377e57(0x266),'ghuKF':_0x377e57(0x22d),'OEgbK':function(_0x5e54de,_0x23a6c8,_0x164f64,_0x101d67,_0x4bd06b,_0x186d41,_0x232d79,_0x2c1baf){return _0x5e54de(_0x23a6c8,_0x164f64,_0x101d67,_0x4bd06b,_0x186d41,_0x232d79,_0x2c1baf);}};let _0x17529b;try{if(_0xe1e416['dicDF'](_0xe1e416[_0x377e57(0x1ec)],_0xe1e416['wUasW'])){const _0x5f271a={};_0x5f271a[_0x377e57(0x24c)]=_0xe1e416[_0x377e57(0x256)],_0x5f271a[_0x377e57(0x244)]=_0xe1e416['AjwUa'];const _0x30fa05={};_0x30fa05['description']=_0xe1e416[_0x377e57(0x26a)],_0x30fa05[_0x377e57(0x244)]=_0xe1e416[_0x377e57(0x281)];const _0x31dced={};_0x31dced[_0x377e57(0x24c)]=_0xe1e416[_0x377e57(0x297)],_0x31dced[_0x377e57(0x244)]=_0xe1e416['AjwUa'];const _0x459b50={};_0x459b50[_0x377e57(0x24c)]=_0xe1e416['rIfSz'],_0x459b50[_0x377e57(0x244)]=_0xe1e416[_0x377e57(0x281)];const _0x59c982={};return _0x59c982[_0x377e57(0x2a2)]=_0x5f271a,_0x59c982[_0x377e57(0x20b)]=_0x30fa05,_0x59c982[_0x377e57(0x283)]=_0x31dced,_0x59c982[_0x377e57(0x248)]=_0x459b50,_0x6c7c91['usage'](_0x2d8a5e['pre_check'])[_0x377e57(0x282)](_0xd5292f)[_0x377e57(0x268)](_0x59c982)[_0x377e57(0x1c0)](_0xe1e416[_0x377e57(0x1fd)])[_0x377e57(0x263)];}else{if(_0x2c049b[_0x377e57(0x1bc)]||_0x2c049b[_0x377e57(0x25f)]||_0x2c049b[_0x377e57(0x283)]){if(_0xe1e416['dicDF'](_0xe1e416[_0x377e57(0x24b)],_0xe1e416[_0x377e57(0x1d1)])){const _0x303b92=[];!_0x2c049b[_0x377e57(0x1bc)]&&(_0xe1e416[_0x377e57(0x29d)](_0xe1e416['vfTod'],_0xe1e416[_0x377e57(0x245)])?_0x303b92[_0x377e57(0x270)](_0xe1e416[_0x377e57(0x1c2)]):(_0x3a5367[_0x377e57(0x20d)](_0xe1e416[_0x377e57(0x1df)]),_0x4bef28[_0x377e57(0x1cd)](0x1)));;!_0x2c049b[_0x377e57(0x25f)]&&(_0xe1e416[_0x377e57(0x273)](_0xe1e416[_0x377e57(0x228)],_0xe1e416[_0x377e57(0x1b7)])?_0x303b92['push'](_0xe1e416[_0x377e57(0x1fe)]):_0x1e201e[_0x377e57(0x270)](_0xe1e416[_0x377e57(0x1e1)]));;!_0x2c049b[_0x377e57(0x283)]&&(_0xe1e416[_0x377e57(0x273)](_0xe1e416[_0x377e57(0x1bd)],_0xe1e416[_0x377e57(0x221)])?_0x303b92[_0x377e57(0x270)](_0xe1e416[_0x377e57(0x1e1)]):(_0x84e6e7+=_0xe1e416['NCNCL'],_0x12901a+=_0x377e57(0x242)+(_0x3eb15c[_0x377e57(0x27b)]||_0xe1e416[_0x377e57(0x2a3)])+'\x0a',_0x16c214+=_0x377e57(0x1c9)+(_0x2e2f3a[_0x377e57(0x1f8)]||_0xe1e416[_0x377e57(0x2a3)])+'\x0a',_0x194531+=_0x377e57(0x217)+(_0x275f3b['stack']||_0xe1e416[_0x377e57(0x2a3)])+'\x0a'));;_0xe1e416[_0x377e57(0x254)](_0x303b92[_0x377e57(0x223)],0x0)&&(_0xe1e416[_0x377e57(0x29d)](_0xe1e416[_0x377e57(0x2a0)],_0xe1e416[_0x377e57(0x2a0)])?(_0x17529b=_0x377e57(0x215)+_0x303b92[_0x377e57(0x1c8)](',\x20')+_0x377e57(0x24d),await _0xe1e416[_0x377e57(0x27a)](reportToGalactusAndSendToEDS,_0x2c049b,_0x531e81,_0x17529b,messageTypes[_0x377e57(0x21f)],_0xe1e416[_0x377e57(0x1d3)],_0xe1e416['ITOOK'],_0xe1e416[_0x377e57(0x250)]),logger[_0x377e57(0x20d)](_0x17529b),process[_0x377e57(0x1cd)](0x1)):_0x14c472[_0x377e57(0x1cd)](0x1)),!ALL_SUPPORTED_CLOUD_PROVIDERS[_0x377e57(0x1a3)](_0x2c049b[_0x377e57(0x25f)][_0x377e57(0x28b)]())&&(_0xe1e416[_0x377e57(0x29d)](_0xe1e416['BxUZx'],_0xe1e416['RqxUn'])?(_0x2a06e4[_0x377e57(0x253)]('['+_0x3b49d7+_0x377e57(0x1d2)+_0x1c3e1a[_0x377e57(0x1b5)]+_0x377e57(0x209)+_0x178acd[_0x377e57(0x275)]+_0x377e57(0x22e)+_0xd92b3d['error']),_0x13c07b[_0x377e57(0x20d)]&&_0x21da15[_0x377e57(0x20d)]('error\x20stack\x20:\x20'+_0x37cfab['error'][_0x377e57(0x229)])):(_0x17529b=_0xe1e416[_0x377e57(0x1b9)],await _0xe1e416[_0x377e57(0x236)](reportToGalactusAndSendToEDS,_0x2c049b,_0x531e81,_0x17529b,messageTypes[_0x377e57(0x21f)],_0xe1e416[_0x377e57(0x1d3)],_0xe1e416[_0x377e57(0x1d6)],_0xe1e416[_0x377e57(0x250)]),logger[_0x377e57(0x20d)](_0x17529b),!_0x2c049b[_0x377e57(0x25f)]&&(_0xe1e416['XkHWH'](_0xe1e416['MkhCZ'],_0xe1e416[_0x377e57(0x21c)])?(logger[_0x377e57(0x253)](_0x377e57(0x1eb)+DEFAULT_CLUSTER_DETAILS[_0x377e57(0x202)]+'\x20'),_0x2c049b[_0x377e57(0x25f)]=DEFAULT_CLUSTER_DETAILS[_0x377e57(0x202)]):_0x4e9480[_0x377e57(0x270)](_0xe1e416['nTPdm'])))),global_registry[_0x377e57(0x1bc)]=_0x2c049b['clusterName'],global_registry[_0x377e57(0x25f)]=_0x2c049b[_0x377e57(0x25f)],global_registry[_0x377e57(0x1ca)]=_0x2c049b[_0x377e57(0x283)];}else{const {header:_0x4df2ae,response:_0x5a0d23}=_0xc34855,{status:_0x54227d,data:_0x3976ab,error:_0x46102c}=_0x5a0d23;_0x4121ad+=_0x4df2ae+'\x20#'+_0xe1e416[_0x377e57(0x225)](_0x23ad98,0x1)+'\x0a',_0x38c488+=_0x377e57(0x1cb)+(_0x54227d?_0xe1e416[_0x377e57(0x23b)]:_0xe1e416[_0x377e57(0x25c)])+'\x0a',_0x4cd13a+=_0x377e57(0x28a)+_0xe1e416['FMQAi'](_0x3976ab,_0xe1e416['FGCsT'])+'\x0a',_0x46102c&&(_0x129b32+=_0xe1e416[_0x377e57(0x257)],_0x60b0f0+=_0x377e57(0x242)+(_0x46102c[_0x377e57(0x27b)]||_0xe1e416['FGCsT'])+'\x0a',_0x941c4c+='\x20\x20Code:\x20'+(_0x46102c[_0x377e57(0x1f8)]||_0xe1e416[_0x377e57(0x2a3)])+'\x0a',_0x32c702+=_0x377e57(0x217)+(_0x46102c['stack']||_0xe1e416[_0x377e57(0x2a3)])+'\x0a'),_0x166e1f+='\x0a\x0a';}}else{if(_0x2c049b[_0x377e57(0x1ba)]){if(_0xe1e416[_0x377e57(0x273)](_0xe1e416[_0x377e57(0x1b8)],_0xe1e416[_0x377e57(0x1da)])){global_registry[_0x377e57(0x1ba)]=_0x2c049b[_0x377e57(0x1ba)],logger[_0x377e57(0x267)](_0x377e57(0x1db)+_0x2c049b[_0x377e57(0x1ba)]);const _0x24c20b=_0x377e57(0x219)+AG_API_URL+'/packages/cli/get-all-grid-profiles',_0x408e09={};_0x408e09[_0x377e57(0x243)]=_0xe1e416['Inzoi'],_0x408e09['headers']=global_registry[_0x377e57(0x1ae)],_0x408e09[_0x377e57(0x280)]=![];const _0x57b639=_0x408e09,_0x2c9033=await _0xe1e416['XzUOp'](got,_0x24c20b,_0x57b639),_0x53fc85=await _0xe1e416[_0x377e57(0x206)](responseValidation,_0x2c9033,_0xe1e416[_0x377e57(0x1e8)],_0xe1e416[_0x377e57(0x26d)],_0x2c049b,_0x531e81);let _0x1d3ec3={};if(_0xe1e416[_0x377e57(0x25a)](_0x53fc85,0xc8)){if(_0xe1e416[_0x377e57(0x27f)](_0xe1e416[_0x377e57(0x27e)],_0xe1e416['ARxYj']))_0x457185[_0x377e57(0x270)](_0xe1e416[_0x377e57(0x1c2)]);else{const _0x4ccc84=JSON[_0x377e57(0x24e)](_0x2c9033[_0x377e57(0x24a)]),_0x1286aa=_0x4ccc84[_0x377e57(0x22c)](_0x56403c=>_0x56403c[_0x377e57(0x240)]===_0x2c049b[_0x377e57(0x1ba)])||null;_0xe1e416[_0x377e57(0x232)](isUndefined,_0x1286aa)?_0xe1e416[_0x377e57(0x29a)](_0xe1e416[_0x377e57(0x1b2)],_0xe1e416[_0x377e57(0x1b2)])?_0x326538=_0x5714d9:(_0x17529b=_0x377e57(0x26e)+_0x2c049b[_0x377e57(0x1ba)]+_0x377e57(0x286),await _0xe1e416[_0x377e57(0x27a)](reportToGalactusAndSendToEDS,_0x2c049b,_0x531e81,_0x17529b,messageTypes[_0x377e57(0x21f)],_0xe1e416['fOEpD'],_0xe1e416[_0x377e57(0x1d5)],_0xe1e416['AJAkx']),logger['error'](_0x17529b),process[_0x377e57(0x1cd)](0x1)):_0xe1e416[_0x377e57(0x264)](_0xe1e416[_0x377e57(0x28e)],_0xe1e416['snNuG'])?_0x2156dd[_0x377e57(0x253)](_0x377e57(0x1bb)+_0x367845[_0x377e57(0x1bc)]+'`\x20already\x20exists'):_0x1d3ec3=_0x1286aa;}}else _0xe1e416[_0x377e57(0x25a)](_0xe1e416['DKwjk'],_0xe1e416[_0x377e57(0x1c4)])?process['exit'](0x1):_0x328b45[_0x377e57(0x20d)]('error\x20stack\x20:\x20'+_0x5891f0[_0x377e57(0x20d)]['stack']);const _0x39a076={};_0x39a076['type']=WS_EVENTS[_0x377e57(0x1e6)],_0x39a076['message']=_0xe1e416[_0x377e57(0x207)],webSocketUtils[_0x377e57(0x1f7)](_0x531e81,_0x39a076),global_registry['cloudProvider']=_0x1d3ec3[_0x377e57(0x25f)],global_registry[_0x377e57(0x1ca)]=_0x1d3ec3[_0x377e57(0x283)],global_registry[_0x377e57(0x1bc)]=_0x1d3ec3['clusterName'];}else _0x460778[_0x377e57(0x253)]('Setting\x20cloud\x20provider\x20as\x20'+_0x558698[_0x377e57(0x202)]+'\x20'),_0x4c1d5c[_0x377e57(0x25f)]=_0x2b5e86[_0x377e57(0x202)];}else{if(_0xe1e416['dicDF'](_0xe1e416[_0x377e57(0x289)],_0xe1e416['ruDSY']))logger[_0x377e57(0x20d)](_0xe1e416['SMLGl']),process['exit'](0x1);else{const _0x5a18f5={};_0x5a18f5[_0x377e57(0x244)]=_0xcb520e['LOG'],_0x5a18f5[_0x377e57(0x27b)]=_0x19bb1d,_0x2a088c[_0x377e57(0x1f7)](_0x4819e0,_0x5a18f5,_0xe1e416[_0x377e57(0x250)],!![]);}}}}}catch(_0xe657d6){_0xe1e416[_0x377e57(0x25a)](_0xe1e416[_0x377e57(0x287)],_0xe1e416[_0x377e57(0x249)])?_0x167ac2+=_0x377e57(0x216)+_0x4eb144['clusterName']+'\x20'+(_0x3a889d?_0xe1e416['GspYg']:_0xe1e416['IRsFI'])+'\x0a\x0a':(_0x17529b='Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20'+_0xe657d6+':\x20'+_0xe657d6[_0x377e57(0x229)],logger['error'](_0x17529b),await _0xe1e416[_0x377e57(0x233)](reportToGalactusAndSendToEDS,_0x2c049b,_0x531e81,_0x17529b,messageTypes[_0x377e57(0x21f)],_0xe1e416[_0x377e57(0x1d3)],_0xe1e416[_0x377e57(0x1d6)],_0xe1e416[_0x377e57(0x250)]),process['exit'](0x1));}}function printResponse(_0x32ed47,_0xd42ae){const _0x49667c=a17_0x2c4660,_0x47f37c={};_0x47f37c['xSrxg']=function(_0x5d8b14,_0x48c190){return _0x5d8b14===_0x48c190;},_0x47f37c['bFgDo']='DALLY',_0x47f37c[_0x49667c(0x23a)]=_0x49667c(0x262);const _0x5e2058=_0x47f37c;logger[_0x49667c(0x253)]('['+_0x32ed47+']\x20status\x20:\x20'+_0xd42ae[_0x49667c(0x1b5)]+'\x20data\x20:\x20'+_0xd42ae[_0x49667c(0x275)]+_0x49667c(0x22e)+_0xd42ae['error']),_0xd42ae[_0x49667c(0x20d)]&&(_0x5e2058[_0x49667c(0x20f)](_0x5e2058['bFgDo'],_0x5e2058[_0x49667c(0x23a)])?_0x1bcfa8+=_0x49667c(0x216)+_0x7c99bd['clusterName']+_0x49667c(0x1a9):logger[_0x49667c(0x20d)](_0x49667c(0x1e7)+_0xd42ae[_0x49667c(0x20d)]['stack']));}async function generateReport(_0x4ac187,_0x90ce20){const _0x374607=a17_0x2c4660,_0x3d7ab3={'IObGA':function(_0x3ec3b4,_0x532876){return _0x3ec3b4+_0x532876;},'gPFvp':_0x374607(0x1dd),'aDajO':'Failure','JfxLM':function(_0x24bd1a,_0x108495){return _0x24bd1a||_0x108495;},'ksUmb':_0x374607(0x291),'FBRES':_0x374607(0x277),'LcIlK':_0x374607(0x237),'MuTra':function(_0x4ca929,_0x48554e){return _0x4ca929!=_0x48554e;},'lsIoZ':_0x374607(0x1f6),'sEcrQ':'will\x20be\x20created','jsnFO':function(_0x5db020){return _0x5db020();}};let _0x118314=_0x374607(0x200)+global_registry[_0x374607(0x25f)]+'\x20===\x0a\x0a';return _0x4ac187['forEach']((_0x27ab37,_0x324a42)=>{const _0x13fac8=_0x374607,{header:_0x1032c2,response:_0x50ee7d}=_0x27ab37,{status:_0x741ca3,data:_0x5376af,error:_0x5c030a}=_0x50ee7d;_0x118314+=_0x1032c2+'\x20#'+_0x3d7ab3[_0x13fac8(0x1ab)](_0x324a42,0x1)+'\x0a',_0x118314+=_0x13fac8(0x1cb)+(_0x741ca3?_0x3d7ab3[_0x13fac8(0x285)]:_0x3d7ab3[_0x13fac8(0x218)])+'\x0a',_0x118314+=_0x13fac8(0x28a)+_0x3d7ab3['JfxLM'](_0x5376af,_0x3d7ab3['ksUmb'])+'\x0a',_0x5c030a&&(_0x118314+=_0x3d7ab3[_0x13fac8(0x28c)],_0x118314+=_0x13fac8(0x242)+(_0x5c030a[_0x13fac8(0x27b)]||_0x3d7ab3[_0x13fac8(0x1b0)])+'\x0a',_0x118314+=_0x13fac8(0x1c9)+(_0x5c030a['code']||_0x3d7ab3[_0x13fac8(0x1b0)])+'\x0a',_0x118314+=_0x13fac8(0x217)+(_0x5c030a[_0x13fac8(0x229)]||_0x3d7ab3[_0x13fac8(0x1b0)])+'\x0a'),_0x118314+='\x0a\x0a';}),_0x118314+=_0x3d7ab3[_0x374607(0x1ea)],_0x3d7ab3[_0x374607(0x1d8)](_0x90ce20,null)?_0x118314+=_0x374607(0x216)+global_registry['clusterName']+'\x20'+(_0x90ce20?_0x3d7ab3[_0x374607(0x251)]:_0x3d7ab3['sEcrQ'])+'\x0a\x0a':_0x118314+=_0x374607(0x216)+global_registry[_0x374607(0x1bc)]+_0x374607(0x1a9),_0x118314+=_0x3d7ab3['jsnFO'](getSystemMetaData),_0x118314;};function a17_0xd8bc(_0x200987,_0x2bda18){const _0x296393=a17_0x2963();return a17_0xd8bc=function(_0xd8bc15,_0x17ed41){_0xd8bc15=_0xd8bc15-0x1a3;let _0x510fe6=_0x296393[_0xd8bc15];return _0x510fe6;},a17_0xd8bc(_0x200987,_0x2bda18);}exports[a17_0x2c4660(0x246)]=async function(_0xc9123a){const _0xa759a=a17_0x2c4660,_0x26e6b6={'OWSCP':function(_0x56e5cf){return _0x56e5cf();},'QKKVn':_0xa759a(0x1e5),'CjwTR':function(_0x285e9f,_0x151869,_0x37ec0b,_0x18e526,_0x21d290,_0x31f155,_0x4ce0a2,_0x2ff5bf){return _0x285e9f(_0x151869,_0x37ec0b,_0x18e526,_0x21d290,_0x31f155,_0x4ce0a2,_0x2ff5bf);},'gVIPW':_0xa759a(0x1b6),'eEDDL':_0xa759a(0x239),'mrUff':_0xa759a(0x20d),'oWgIO':function(_0x11f3df,_0x10e1b6,_0x1e4ac7,_0x414c11,_0x592f29,_0x1e6bba,_0x3bfb74){return _0x11f3df(_0x10e1b6,_0x1e4ac7,_0x414c11,_0x592f29,_0x1e6bba,_0x3bfb74);},'JSFio':function(_0x11ef21){return _0x11ef21();},'WZdiN':'<UsernamePlaceholder>','yjfKY':'<PasswordPlaceholder>','VzPxI':function(_0x12b3a1,_0x59370e,_0x5b21a0){return _0x12b3a1(_0x59370e,_0x5b21a0);},'oTJCk':function(_0x3fc031,_0x3046ae,_0x380cdf){return _0x3fc031(_0x3046ae,_0x380cdf);},'vvbxa':_0xa759a(0x1e3),'ccBtr':'toolInstalledResp','hbtGS':_0xa759a(0x23f),'rWrRb':_0xa759a(0x22a),'mVLPi':function(_0x5825a3){return _0x5825a3();},'ZidHS':_0xa759a(0x1a6),'OoBcl':function(_0x4f623a,_0x5aedf9){return _0x4f623a(_0x5aedf9);},'YxHsH':_0xa759a(0x21d),'AfxkS':_0xa759a(0x1f4),'kqBjR':_0xa759a(0x227),'JBAOa':_0xa759a(0x22f),'tDvsn':'Whitelisted\x20browserstack','KHYpe':_0xa759a(0x214),'cscOI':function(_0x2e46f0,_0x20330c,_0x3d5fe8){return _0x2e46f0(_0x20330c,_0x3d5fe8);},'sMtIV':function(_0x4fc06b,_0x148121){return _0x4fc06b+_0x148121;},'JwACq':_0xa759a(0x204),'wEyLk':function(_0x1cac2d,_0x4da909,_0x5c0c19,_0x36fb64,_0x1c5653,_0x5ae5ec,_0x43e752){return _0x1cac2d(_0x4da909,_0x5c0c19,_0x36fb64,_0x1c5653,_0x5ae5ec,_0x43e752);},'QziPI':_0xa759a(0x20e)};let _0x249ec1,_0x301a3d;try{global_registry[_0xa759a(0x1f3)]=_0x26e6b6[_0xa759a(0x247)](uuidv4);!fs[_0xa759a(0x288)](_0x26e6b6[_0xa759a(0x247)](getCredentialsPath))&&(_0x301a3d=_0x26e6b6[_0xa759a(0x28f)],logger['error'](_0x301a3d),await _0x26e6b6[_0xa759a(0x220)](reportToGalactusAndSendToEDS,_0xc9123a,_0x249ec1,_0x301a3d,messageTypes[_0xa759a(0x21f)],_0x26e6b6['gVIPW'],_0x26e6b6[_0xa759a(0x293)],_0x26e6b6[_0xa759a(0x25b)]),process[_0xa759a(0x1cd)](0x1));_0x26e6b6['oWgIO'](sendInstrumentationEvent,_0xc9123a,_0x26e6b6[_0xa759a(0x231)],messageTypes[_0xa759a(0x21a)],null,null,_0xc9123a);const _0x3aa2d9=JSON[_0xa759a(0x24e)](fs[_0xa759a(0x274)](_0x26e6b6['JSFio'](getCredentialsPath)));global_registry[_0xa759a(0x20a)]=_0x3aa2d9[_0xa759a(0x1b4)][_0xa759a(0x1d4)],global_registry[_0xa759a(0x29b)]=_0x3aa2d9['Browserstack']['password'];const _0x5b0cde=WS_ENDPOINT[_0xa759a(0x1e9)](_0x26e6b6[_0xa759a(0x1b1)],_0x3aa2d9[_0xa759a(0x1b4)][_0xa759a(0x1d4)])[_0xa759a(0x1e9)](_0x26e6b6[_0xa759a(0x22b)],_0x3aa2d9[_0xa759a(0x1b4)]['password']),_0x271ce8={};_0x271ce8[_0xa759a(0x1ac)]=ws,_0x271ce8['connectionTimeout']=0x36ee80,_0x249ec1=new ReconnectingWebSocket(_0x5b0cde,[],_0x271ce8),global_registry[_0xa759a(0x1ae)]=_0x26e6b6[_0xa759a(0x276)](getAuthHeader,global_registry[_0xa759a(0x20a)],global_registry[_0xa759a(0x29b)]),await _0x26e6b6[_0xa759a(0x1f5)](inputValidation,_0xc9123a,_0x249ec1),logger[_0xa759a(0x253)](_0xa759a(0x1f2)+global_registry[_0xa759a(0x25f)]+_0xa759a(0x224)+global_registry[_0xa759a(0x1ca)]);let _0x33495f=await _0x26e6b6[_0xa759a(0x234)](getCloudProviderObjectWithOutInit,global_registry[_0xa759a(0x25f)],global_registry[_0xa759a(0x1bc)],_0x26e6b6[_0xa759a(0x1c7)],_0x249ec1,webSocketUtils,_0xc9123a);const _0x90d40a=await _0x33495f[_0xa759a(0x1ad)]();_0x26e6b6['oTJCk'](printResponse,_0x26e6b6[_0xa759a(0x26f)],_0x90d40a),_0x33495f=await _0x33495f[_0xa759a(0x1fc)]();let _0x1563ca=![];try{_0x1563ca=await _0x33495f[_0xa759a(0x213)]();}catch(_0x5f1001){const _0x3bfdf7=_0x26e6b6[_0xa759a(0x21b)][_0xa759a(0x1a4)]('|');let _0x129c22=0x0;while(!![]){switch(_0x3bfdf7[_0x129c22++]){case'0':logger['error'](_0x301a3d);continue;case'1':await _0x26e6b6[_0xa759a(0x220)](reportToGalactusAndSendToEDS,_0xc9123a,_0x249ec1,_0x301a3d,messageTypes[_0xa759a(0x21f)],_0x26e6b6[_0xa759a(0x231)],_0xa759a(0x1a7)+global_registry[_0xa759a(0x25f)],_0x26e6b6[_0xa759a(0x25b)]);continue;case'2':_0x1563ca=null;continue;case'3':_0x301a3d=_0xa759a(0x1fb)+global_registry['clusterName']+_0xa759a(0x1c1)+global_registry[_0xa759a(0x1ca)]+'`\x20,error\x20:\x20'+_0x5f1001;continue;case'4':_0x301a3d+='\x0a'+JSON[_0xa759a(0x292)](_0x5f1001[_0xa759a(0x229)]);continue;}break;}}_0x1563ca&&logger[_0xa759a(0x253)](_0xa759a(0x1bb)+global_registry[_0xa759a(0x1bc)]+_0xa759a(0x1e4));const _0x33a7af=await _0x33495f[_0xa759a(0x226)]();_0x26e6b6['oTJCk'](printResponse,_0x26e6b6[_0xa759a(0x296)],_0x33a7af);const _0x277113=await _0x26e6b6[_0xa759a(0x1d0)](curlRequest);_0x26e6b6[_0xa759a(0x1f5)](printResponse,_0x26e6b6[_0xa759a(0x279)],_0x277113);const _0x369a7d=await _0x26e6b6[_0xa759a(0x295)](isTlsSupported,_0x26e6b6['YxHsH']);_0x26e6b6[_0xa759a(0x276)](printResponse,_0x26e6b6['AfxkS'],_0x369a7d);const _0x45c190={};_0x45c190['header']=_0x26e6b6[_0xa759a(0x241)],_0x45c190[_0xa759a(0x298)]=_0x90d40a;const _0x32f3b1={};_0x32f3b1[_0xa759a(0x1ff)]=_0x26e6b6['JBAOa'],_0x32f3b1[_0xa759a(0x298)]=_0x33a7af;const _0x500a21={};_0x500a21[_0xa759a(0x1ff)]=_0x26e6b6['tDvsn'],_0x500a21[_0xa759a(0x298)]=_0x277113;const _0x3e997c={};_0x3e997c[_0xa759a(0x1ff)]=_0x26e6b6[_0xa759a(0x1be)],_0x3e997c['response']=_0x369a7d;const _0x418d43=[_0x45c190,_0x32f3b1,_0x500a21,_0x3e997c],_0x1546b5=await _0x26e6b6[_0xa759a(0x238)](generateReport,_0x418d43,_0x1563ca),_0x3991dd=new Date(),_0x5e143b=_0x3991dd['getUTCFullYear']()+'_'+_0x26e6b6['sMtIV'](_0x3991dd[_0xa759a(0x29f)](),0x1)+'_'+_0x3991dd[_0xa759a(0x1cc)]()+'_'+_0x3991dd['getUTCHours']()+'_'+_0x3991dd[_0xa759a(0x1a5)](),_0x47f70e=_0xa759a(0x2a1)+_0x5e143b+_0xa759a(0x1f9);fs[_0xa759a(0x1ed)](_0x47f70e,_0x1546b5,_0x26e6b6['JwACq']),logger['info'](_0xa759a(0x278)+_0x47f70e),process[_0xa759a(0x1cd)](0x0);}catch(_0x32db4d){let _0x53f71d=_0xa759a(0x20c)+_0x32db4d+'\x20';logger[_0xa759a(0x20d)](_0x53f71d),_0x53f71d+='\x0a'+JSON[_0xa759a(0x292)](_0x32db4d[_0xa759a(0x229)]),logger[_0xa759a(0x267)]('stack\x20trace\x20'+_0x32db4d[_0xa759a(0x229)]);if(_0x249ec1){const _0x5dfcde={};_0x5dfcde[_0xa759a(0x244)]=WS_EVENTS[_0xa759a(0x1e6)],_0x5dfcde['message']=_0x53f71d,webSocketUtils[_0xa759a(0x1f7)](_0x249ec1,_0x5dfcde,_0x26e6b6[_0xa759a(0x25b)],!![]);}await webSocketUtils[_0xa759a(0x1c6)](0x7d0);const _0x346ccf={};_0x346ccf['error']=_0x53f71d,await _0x26e6b6[_0xa759a(0x211)](sendInstrumentationEvent,_0xc9123a,_0x26e6b6[_0xa759a(0x231)],messageTypes[_0xa759a(0x21f)],_0x26e6b6[_0xa759a(0x212)],_0x346ccf,_0xc9123a),process['exit'](0x1);}};