const a17_0x5e65ac=a17_0x217a;function a17_0x1344(){const _0x34113e=['`\x20already\x20exists','KtjTI','Missing\x20required\x20arguments:\x20','302660tZTANu','sTOhH','tKlXL','MGnGm','header','message','parse','LYRZx','SjCCp','error','htQqS','`\x20,error\x20:\x20','Zpgsw','48sOiwbf','XgYgO','method','data','QCfIa','error\x20stack\x20:\x20','pre_check','push','status','tkkPx','isTls1_2_SUPPORTED','qaJLC','GClxX','Status:\x20','ubdmR','kXeyS','command','utf-8','clusterRegion','\x20\x20Code:\x20','requestId','region','rwELw','usage','../../utils/webSocketUtils','Browserstack','options','HEIym','ScKZi','UlqZQ','lZKPo','uKyTa','CLOUD_PROVIDER','===\x20Precheck\x20Report\x20-\x20','<PasswordPlaceholder>','../../config/constants','unTlq','JqwNR','../../utils/utilityMethods','getUTCMinutes','string','ERhTi','response','dPxXN','OVuzL','SSL\x20Configured','ZTFuO','cluster-check-failed-','getUTCMonth','GiRSb','136388lJAFnR','118143gXllvP','replace','split','throwHttpErrors','User\x20Access','yUemW','stack\x20trace\x20','nrQlj','Pre-check\x20running\x20for\x20Cloud\x20-\x20','cloudProvider','cloud-provider','qPoSR','wEZuA','PsVzx','QasiA','grid','1016092noptIA','uhHtc','delay','getUTCHours','1220118eTMEhC','voeRi',']\x20status\x20:\x20','pre-check-cluster-args-not-passed','QhwkS','exit','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','OUuLL','GeqLi','gpzxx','sendEventToBackend','pre-check-grid-called','../../utils/instrumentationUtils','ZZbnG','getUTCFullYear','VHlSY','connectionTimeout','.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again','GQZlC','builder','zroYR','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','WaHAJ','.\x20Please\x20provide\x20all\x20required\x20arguments.','debug','unable\x20to\x20verify\x20if\x20cluster\x20`','isCliToolInstalled','WebSocket','username','cGgfS','eejCA','name','log/report_','BSkzG','qrdNW','TXSvy','bstackAccesskey','ixqTw','oKrtu','Cluster\x20details\x0a-----------------------\x0a','MDxSn','AEvMp','Cluster\x20`','Yxqss','RrqhS','stringify','TMSeg','cuxYG','ZWglR','desc','LcCUs','UGXJb','accessResp','hLqkk','UgJLZ','stack','dsYwg','../../cloudproviders/utils','authHeader','Setting\x20cloud\x20provider\x20as\x20','MxdFG','10015ULidit','getUTCDate','EXTYe','CDDde','yADTC','LLbLN','includes','vjoJP','Whitelisted\x20browserstack','argv','BRagE','cSjcR','rxCKT','pre-check-failed','3QwrfLX','Invalid\x20input.\x20grid\x20profiles:\x20','epilogue','dITqF','880EPglWm','dOMRE','yyqgl','gqYHb','\x20\x20Stack:\x20','seQYc','fxlIK','clusterName','epFWF','grid-profile','1739880ImOhKG','bstackUsername','is\x20already\x20present','<UsernamePlaceholder>','pre-check','\x20===\x0a\x0a','Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup','MLDGb','uoKOU','join','aKSUn','eqnlo','ZEpPj','ezYBt','iZaTV','toolInstalledResp','wjKAI','BcAOj','DxOXm','N/A','PcnyS','pre-check-grid-profile-empty','wFjnF','Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20','.txt','writeFileSync','CiICt','TMEdm','Message:\x20','will\x20be\x20created','xlLDe','forEach','Success','guZsQ','eWOcF','awcbF','grfnE','TLSv1_2_client_method','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','faDni','ERROR','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','Failure','LOG','Cluster\x20','Error\x20Details:\x0a','hawix','help','kWYTM','info','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','OwcJD','toLowerCase','cluster-name','gridProfile','AIAZt','Tdziv','BrOSk','description','type','BwKPp','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','TYBgX','\x20error\x20:\x20','lFJBN','ZxkJT','\x20region\x20-\x20','WqIpu','\x20\x20Message:\x20','Hadro','tEhDx'];a17_0x1344=function(){return _0x34113e;};return a17_0x1344();}(function(_0x39ae5f,_0x344102){const _0x4bf24a=a17_0x217a,_0x2ec4b7=_0x39ae5f();while(!![]){try{const _0x312783=-parseInt(_0x4bf24a(0x1d8))/0x1+parseInt(_0x4bf24a(0x290))/0x2*(-parseInt(_0x4bf24a(0x238))/0x3)+-parseInt(_0x4bf24a(0x23c))/0x4*(-parseInt(_0x4bf24a(0x22a))/0x5)+parseInt(_0x4bf24a(0x1ed))/0x6+-parseInt(_0x4bf24a(0x1e9))/0x7+parseInt(_0x4bf24a(0x29d))/0x8*(-parseInt(_0x4bf24a(0x1d9))/0x9)+parseInt(_0x4bf24a(0x246))/0xa;if(_0x312783===_0x344102)break;else _0x2ec4b7['push'](_0x2ec4b7['shift']());}catch(_0x15c92b){_0x2ec4b7['push'](_0x2ec4b7['shift']());}}}(a17_0x1344,0x4acbd));const fs=require('fs'),ws=require('ws'),got=require('got'),{v4:uuidv4}=require('uuid'),ReconnectingWebSocket=require('reconnecting-websocket'),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require(a17_0x5e65ac(0x1cc)),{logger}=require('../../config/logger'),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require(a17_0x5e65ac(0x1c9)),{getCloudProviderObjectWithOutInit}=require(a17_0x5e65ac(0x226)),webSocketUtils=require(a17_0x5e65ac(0x1be)),{sendInstrumentationEvent}=require(a17_0x5e65ac(0x1f9));exports[a17_0x5e65ac(0x1b6)]=a17_0x5e65ac(0x1e8),exports[a17_0x5e65ac(0x21e)]=a17_0x5e65ac(0x24c),exports[a17_0x5e65ac(0x200)]=function(_0x3b6bfc){const _0x4c20ed=a17_0x5e65ac,_0x97e6e2={};_0x97e6e2[_0x4c20ed(0x213)]=_0x4c20ed(0x1f3),_0x97e6e2[_0x4c20ed(0x292)]=_0x4c20ed(0x1ce),_0x97e6e2['BcAOj']='Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.',_0x97e6e2[_0x4c20ed(0x2a8)]=_0x4c20ed(0x26f),_0x97e6e2[_0x4c20ed(0x256)]='Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.',_0x97e6e2['MGnGm']=_0x4c20ed(0x275);const _0x58e8ae=_0x97e6e2,_0x45db81={};_0x45db81[_0x4c20ed(0x280)]=_0x58e8ae[_0x4c20ed(0x213)],_0x45db81['type']=_0x58e8ae['tKlXL'];const _0x14db19={};_0x14db19['description']=_0x58e8ae[_0x4c20ed(0x257)],_0x14db19['type']=_0x58e8ae[_0x4c20ed(0x292)];const _0x53af3e={};_0x53af3e[_0x4c20ed(0x280)]=_0x58e8ae[_0x4c20ed(0x2a8)],_0x53af3e[_0x4c20ed(0x281)]=_0x58e8ae[_0x4c20ed(0x292)];const _0x40f3d6={};_0x40f3d6[_0x4c20ed(0x280)]=_0x58e8ae[_0x4c20ed(0x256)],_0x40f3d6[_0x4c20ed(0x281)]=_0x58e8ae[_0x4c20ed(0x292)];const _0x5db068={};return _0x5db068[_0x4c20ed(0x27b)]=_0x45db81,_0x5db068[_0x4c20ed(0x1e3)]=_0x14db19,_0x5db068['region']=_0x53af3e,_0x5db068['grid-profile']=_0x40f3d6,_0x3b6bfc[_0x4c20ed(0x1bd)](HELP_HEADER_MESSAGE[_0x4c20ed(0x2a3)])[_0x4c20ed(0x23a)](HELP_FOOTER_MESSAGE)[_0x4c20ed(0x1c0)](_0x5db068)[_0x4c20ed(0x275)](_0x58e8ae[_0x4c20ed(0x293)])[_0x4c20ed(0x233)];};async function inputValidation(_0x2d4718,_0x2ce5b2){const _0x3a5ff2=a17_0x5e65ac,_0x816f1a={'kjjyW':function(_0x2d19ca,_0x41449b){return _0x2d19ca+_0x41449b;},'Zpgsw':_0x3a5ff2(0x266),'lZKPo':_0x3a5ff2(0x270),'iZaTV':function(_0x27f2f6,_0x24c6ea){return _0x27f2f6||_0x24c6ea;},'PsVzx':_0x3a5ff2(0x259),'Hadro':_0x3a5ff2(0x273),'tkkPx':_0x3a5ff2(0x299),'BrOSk':_0x3a5ff2(0x1bb),'sTOhH':'cloud-provider','tyiYK':_0x3a5ff2(0x1f3),'GClxX':_0x3a5ff2(0x1ce),'uvFlb':_0x3a5ff2(0x283),'BwKPp':_0x3a5ff2(0x26f),'SjCCp':_0x3a5ff2(0x202),'Tdziv':_0x3a5ff2(0x275),'nrQlj':_0x3a5ff2(0x27b),'UlqSO':_0x3a5ff2(0x248),'ZxkJT':_0x3a5ff2(0x263),'UcpFd':function(_0x2cfbee,_0x2eda36){return _0x2cfbee!==_0x2eda36;},'xlLDe':_0x3a5ff2(0x274),'uhHtc':function(_0xc5d043,_0x16c276){return _0xc5d043===_0x16c276;},'Yxqss':_0x3a5ff2(0x26a),'LmlDI':_0x3a5ff2(0x297),'UgJLZ':_0x3a5ff2(0x203),'VHlSY':function(_0x19d501,_0x2d1b34){return _0x19d501!==_0x2d1b34;},'hLqkk':'ZjLpf','LLbLN':'nbHYZ','rwELw':_0x3a5ff2(0x25c),'gtEFz':function(_0x5e438b,_0x3091f4){return _0x5e438b>_0x3091f4;},'aKSUn':function(_0x3fc54b,_0x312907){return _0x3fc54b===_0x312907;},'eqnlo':'AlLNy','OwcJD':_0x3a5ff2(0x212),'guZsQ':function(_0x1c648a,_0x5d5394,_0x40bac0,_0x58ca2a,_0x5eb3b1,_0x4a2f33,_0x5195c5,_0x199de3){return _0x1c648a(_0x5d5394,_0x40bac0,_0x58ca2a,_0x5eb3b1,_0x4a2f33,_0x5195c5,_0x199de3);},'faDni':_0x3a5ff2(0x1f8),'uKyTa':_0x3a5ff2(0x1f0),'cGgfS':function(_0x471189,_0x5afdf7){return _0x471189===_0x5afdf7;},'uoKOU':_0x3a5ff2(0x1ff),'GeqLi':'Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','dITqF':function(_0x5101c6,_0x42cc65,_0x2f3a45,_0x5b7d33,_0x4cb93c,_0x8e4637,_0xce1b62,_0x426dea){return _0x5101c6(_0x42cc65,_0x2f3a45,_0x5b7d33,_0x4cb93c,_0x8e4637,_0xce1b62,_0x426dea);},'KBHod':'cloud-provider-not-supported','TXSvy':_0x3a5ff2(0x242),'xjGWr':'SbuZF','kXeyS':_0x3a5ff2(0x20b),'yADTC':'GET','UlqZQ':function(_0x51cea8,_0x4629e1,_0x4309ab){return _0x51cea8(_0x4629e1,_0x4309ab);},'UGXJb':function(_0x18b4a1,_0x2e904b,_0x5437ac,_0x53e522,_0x4e93b,_0x463697){return _0x18b4a1(_0x2e904b,_0x5437ac,_0x53e522,_0x4e93b,_0x463697);},'MLDGb':_0x3a5ff2(0x24a),'dsYwg':_0x3a5ff2(0x245),'wEZuA':function(_0x2773e3,_0x16b125){return _0x2773e3===_0x16b125;},'CiICt':'MHNOC','gyslQ':_0x3a5ff2(0x1e4),'BRagE':function(_0x4fce8f,_0xfb7df9){return _0x4fce8f(_0xfb7df9);},'ZTFuO':_0x3a5ff2(0x216),'lFJBN':_0x3a5ff2(0x21f),'OVuzL':_0x3a5ff2(0x25b),'RluQp':function(_0xc6c2c9,_0x4985d1){return _0xc6c2c9!==_0x4985d1;},'ERhTi':_0x3a5ff2(0x231),'MxdFG':function(_0x462d33,_0x40fbcf){return _0x462d33===_0x40fbcf;},'DxOXm':_0x3a5ff2(0x284),'htQqS':'DnKLG','UtBLe':'Grid\x20profile\x20fetched\x20for\x20pre-check','cuxYG':_0x3a5ff2(0x252),'QCfIa':_0x3a5ff2(0x26c),'OUuLL':function(_0x2c720b,_0x405008){return _0x2c720b!==_0x405008;},'KtjTI':_0x3a5ff2(0x1f1),'HEIym':'aFJFH'};let _0x4d0db6;try{if(_0x816f1a['UcpFd'](_0x816f1a['xlLDe'],_0x816f1a[_0x3a5ff2(0x264)])){const {header:_0x2fdf56,response:_0xa8d520}=_0x12f676,{status:_0x3693ac,data:_0x3441af,error:_0x2b7110}=_0xa8d520;_0x3a248e+=_0x2fdf56+'\x20#'+_0x816f1a['kjjyW'](_0x3cf6c6,0x1)+'\x0a',_0x2a57d4+=_0x3a5ff2(0x2aa)+(_0x3693ac?_0x816f1a[_0x3a5ff2(0x29c)]:_0x816f1a[_0x3a5ff2(0x1c4)])+'\x0a',_0x493d57+=_0x3a5ff2(0x262)+_0x816f1a[_0x3a5ff2(0x254)](_0x3441af,_0x816f1a[_0x3a5ff2(0x1e6)])+'\x0a',_0x2b7110&&(_0x32c09f+=_0x816f1a['Hadro'],_0x3c1796+=_0x3a5ff2(0x28a)+(_0x2b7110[_0x3a5ff2(0x295)]||_0x816f1a[_0x3a5ff2(0x1e6)])+'\x0a',_0x142adf+=_0x3a5ff2(0x1b9)+(_0x2b7110['code']||_0x816f1a[_0x3a5ff2(0x1e6)])+'\x0a',_0x56ea63+=_0x3a5ff2(0x240)+(_0x2b7110[_0x3a5ff2(0x224)]||_0x816f1a[_0x3a5ff2(0x1e6)])+'\x0a'),_0x2b2ad5+='\x0a\x0a';}else{if(_0x2d4718[_0x3a5ff2(0x243)]||_0x2d4718[_0x3a5ff2(0x1e2)]||_0x2d4718[_0x3a5ff2(0x1bb)]){if(_0x816f1a[_0x3a5ff2(0x1ea)](_0x816f1a[_0x3a5ff2(0x218)],_0x816f1a['LmlDI'])){const _0x4ee45a={};_0x4ee45a[_0x3a5ff2(0x281)]=_0x2a022f[_0x3a5ff2(0x271)],_0x4ee45a['message']=_0x2ae103,_0x5b1bb2['sendEventToBackend'](_0x31a36d,_0x4ee45a,_0x816f1a[_0x3a5ff2(0x2a6)],!![]);}else{const _0x244158=[];!_0x2d4718['clusterName']&&(_0x816f1a[_0x3a5ff2(0x1ea)](_0x816f1a['UgJLZ'],_0x816f1a[_0x3a5ff2(0x223)])?_0x244158[_0x3a5ff2(0x2a4)](_0x816f1a[_0x3a5ff2(0x1e0)]):_0x38771f=_0x9229bc);;!_0x2d4718[_0x3a5ff2(0x1e2)]&&(_0x816f1a[_0x3a5ff2(0x1fc)](_0x816f1a[_0x3a5ff2(0x222)],_0x816f1a['hLqkk'])?_0x218465[_0x3a5ff2(0x2a4)](_0x816f1a[_0x3a5ff2(0x27f)]):_0x244158[_0x3a5ff2(0x2a4)](_0x816f1a[_0x3a5ff2(0x291)]));;!_0x2d4718[_0x3a5ff2(0x1bb)]&&(_0x816f1a[_0x3a5ff2(0x1fc)](_0x816f1a[_0x3a5ff2(0x22f)],_0x816f1a[_0x3a5ff2(0x1bc)])?_0x244158[_0x3a5ff2(0x2a4)](_0x816f1a['BrOSk']):(_0xfd5c80+=_0x816f1a[_0x3a5ff2(0x28b)],_0x2d8342+=_0x3a5ff2(0x28a)+(_0x4ad143['message']||_0x816f1a[_0x3a5ff2(0x1e6)])+'\x0a',_0x3d7302+=_0x3a5ff2(0x1b9)+(_0x4c8057['code']||_0x816f1a[_0x3a5ff2(0x1e6)])+'\x0a',_0x1fc2b3+='\x20\x20Stack:\x20'+(_0x4bef2f[_0x3a5ff2(0x224)]||_0x816f1a[_0x3a5ff2(0x1e6)])+'\x0a'));;_0x816f1a['gtEFz'](_0x244158['length'],0x0)&&(_0x816f1a[_0x3a5ff2(0x250)](_0x816f1a[_0x3a5ff2(0x251)],_0x816f1a[_0x3a5ff2(0x279)])?_0x75aca6+=_0x3a5ff2(0x272)+_0x23195b[_0x3a5ff2(0x243)]+'\x20details\x20cannot\x20be\x20fetched\x0a\x0a':(_0x4d0db6=_0x3a5ff2(0x28f)+_0x244158[_0x3a5ff2(0x24f)](',\x20')+_0x3a5ff2(0x204),await _0x816f1a[_0x3a5ff2(0x267)](reportToGalactusAndSendToEDS,_0x2d4718,_0x2ce5b2,_0x4d0db6,messageTypes[_0x3a5ff2(0x26e)],_0x816f1a['faDni'],_0x816f1a[_0x3a5ff2(0x1c5)],_0x816f1a[_0x3a5ff2(0x2a6)]),logger[_0x3a5ff2(0x299)](_0x4d0db6),process[_0x3a5ff2(0x1f2)](0x1))),!ALL_SUPPORTED_CLOUD_PROVIDERS[_0x3a5ff2(0x230)](_0x2d4718[_0x3a5ff2(0x1e2)][_0x3a5ff2(0x27a)]())&&(_0x816f1a[_0x3a5ff2(0x20a)](_0x816f1a[_0x3a5ff2(0x24e)],_0x816f1a[_0x3a5ff2(0x24e)])?(_0x4d0db6=_0x816f1a[_0x3a5ff2(0x1f5)],await _0x816f1a[_0x3a5ff2(0x23b)](reportToGalactusAndSendToEDS,_0x2d4718,_0x2ce5b2,_0x4d0db6,messageTypes[_0x3a5ff2(0x26e)],_0x816f1a['faDni'],_0x816f1a['KBHod'],_0x816f1a[_0x3a5ff2(0x2a6)]),logger[_0x3a5ff2(0x299)](_0x4d0db6),!_0x2d4718[_0x3a5ff2(0x1e2)]&&(_0x816f1a['aKSUn'](_0x816f1a['TXSvy'],_0x816f1a[_0x3a5ff2(0x210)])?(logger[_0x3a5ff2(0x277)](_0x3a5ff2(0x228)+DEFAULT_CLUSTER_DETAILS[_0x3a5ff2(0x1c6)]+'\x20'),_0x2d4718[_0x3a5ff2(0x1e2)]=DEFAULT_CLUSTER_DETAILS[_0x3a5ff2(0x1c6)]):_0x315ea3[_0x3a5ff2(0x299)](_0x3a5ff2(0x2a2)+_0x23ea9a[_0x3a5ff2(0x299)]['stack']))):_0x507747[_0x3a5ff2(0x2a4)](_0x816f1a[_0x3a5ff2(0x291)])),global_registry[_0x3a5ff2(0x243)]=_0x2d4718['clusterName'],global_registry[_0x3a5ff2(0x1e2)]=_0x2d4718[_0x3a5ff2(0x1e2)],global_registry['clusterRegion']=_0x2d4718[_0x3a5ff2(0x1bb)];}}else{if(_0x2d4718[_0x3a5ff2(0x27c)]){if(_0x816f1a[_0x3a5ff2(0x1fc)](_0x816f1a['xjGWr'],_0x816f1a[_0x3a5ff2(0x1b5)])){global_registry[_0x3a5ff2(0x27c)]=_0x2d4718[_0x3a5ff2(0x27c)],logger[_0x3a5ff2(0x205)]('grid\x20profile\x20flow\x20'+_0x2d4718[_0x3a5ff2(0x27c)]);const _0x2d7a3d='https://'+AG_API_URL+'/packages/cli/get-all-grid-profiles',_0x49a428={};_0x49a428[_0x3a5ff2(0x29f)]=_0x816f1a[_0x3a5ff2(0x22e)],_0x49a428['headers']=global_registry[_0x3a5ff2(0x227)],_0x49a428[_0x3a5ff2(0x1dc)]=![];const _0x621fea=_0x49a428,_0x28ca36=await _0x816f1a[_0x3a5ff2(0x1c3)](got,_0x2d7a3d,_0x621fea),_0x3a2d49=await _0x816f1a[_0x3a5ff2(0x220)](responseValidation,_0x28ca36,_0x816f1a[_0x3a5ff2(0x24d)],_0x816f1a[_0x3a5ff2(0x225)],_0x2d4718,_0x2ce5b2);let _0x1bebbd={};if(_0x816f1a[_0x3a5ff2(0x1e5)](_0x3a2d49,0xc8)){if(_0x816f1a[_0x3a5ff2(0x1fc)](_0x816f1a[_0x3a5ff2(0x260)],_0x816f1a['gyslQ'])){const _0x2df260=JSON[_0x3a5ff2(0x296)](_0x28ca36['body']),_0x864715=_0x2df260['find'](_0xeae36c=>_0xeae36c[_0x3a5ff2(0x20c)]===_0x2d4718['gridProfile'])||null;if(_0x816f1a[_0x3a5ff2(0x234)](isUndefined,_0x864715)){if(_0x816f1a['aKSUn'](_0x816f1a[_0x3a5ff2(0x1d4)],_0x816f1a[_0x3a5ff2(0x286)])){const _0x218d98={};_0x218d98['description']=_0x816f1a['tyiYK'],_0x218d98[_0x3a5ff2(0x281)]=_0x816f1a['GClxX'];const _0x1da575={};_0x1da575[_0x3a5ff2(0x280)]=_0x816f1a['uvFlb'],_0x1da575[_0x3a5ff2(0x281)]=_0x816f1a[_0x3a5ff2(0x2a9)];const _0x215425={};_0x215425[_0x3a5ff2(0x280)]=_0x816f1a[_0x3a5ff2(0x282)],_0x215425['type']=_0x816f1a[_0x3a5ff2(0x2a9)];const _0x5b8258={};_0x5b8258['description']=_0x816f1a[_0x3a5ff2(0x298)],_0x5b8258[_0x3a5ff2(0x281)]=_0x816f1a[_0x3a5ff2(0x2a9)];const _0x9018e6={};return _0x9018e6['cluster-name']=_0x218d98,_0x9018e6[_0x3a5ff2(0x1e3)]=_0x1da575,_0x9018e6[_0x3a5ff2(0x1bb)]=_0x215425,_0x9018e6[_0x3a5ff2(0x245)]=_0x5b8258,_0x93d759['usage'](_0x59c3c4[_0x3a5ff2(0x2a3)])[_0x3a5ff2(0x23a)](_0x44abee)['options'](_0x9018e6)[_0x3a5ff2(0x275)](_0x816f1a[_0x3a5ff2(0x27e)])[_0x3a5ff2(0x233)];}else _0x4d0db6=_0x3a5ff2(0x239)+_0x2d4718[_0x3a5ff2(0x27c)]+_0x3a5ff2(0x1fe),await _0x816f1a[_0x3a5ff2(0x267)](reportToGalactusAndSendToEDS,_0x2d4718,_0x2ce5b2,_0x4d0db6,messageTypes[_0x3a5ff2(0x26e)],_0x816f1a[_0x3a5ff2(0x26d)],_0x816f1a[_0x3a5ff2(0x1d2)],_0x816f1a['tkkPx']),logger[_0x3a5ff2(0x299)](_0x4d0db6),process[_0x3a5ff2(0x1f2)](0x1);}else _0x816f1a['RluQp'](_0x816f1a[_0x3a5ff2(0x1cf)],_0x816f1a[_0x3a5ff2(0x1cf)])?_0x32b9b3[_0x3a5ff2(0x277)](_0x3a5ff2(0x217)+_0x403642['clusterName']+_0x3a5ff2(0x28d)):_0x1bebbd=_0x864715;}else _0x42ecd7[_0x3a5ff2(0x1f2)](0x1);}else _0x816f1a[_0x3a5ff2(0x229)](_0x816f1a[_0x3a5ff2(0x258)],_0x816f1a[_0x3a5ff2(0x29a)])?_0x2a8e46[_0x3a5ff2(0x2a4)](_0x816f1a['nrQlj']):process[_0x3a5ff2(0x1f2)](0x1);const _0x1fa9b9={};_0x1fa9b9[_0x3a5ff2(0x281)]=WS_EVENTS[_0x3a5ff2(0x271)],_0x1fa9b9[_0x3a5ff2(0x295)]=_0x816f1a['UtBLe'],webSocketUtils[_0x3a5ff2(0x1f7)](_0x2ce5b2,_0x1fa9b9),global_registry['cloudProvider']=_0x1bebbd[_0x3a5ff2(0x1e2)],global_registry['clusterRegion']=_0x1bebbd[_0x3a5ff2(0x1bb)],global_registry[_0x3a5ff2(0x243)]=_0x1bebbd[_0x3a5ff2(0x243)];}else _0x259b98+=_0x3a5ff2(0x272)+_0x3588fa[_0x3a5ff2(0x243)]+'\x20'+(_0x9eed45?_0x816f1a['UlqSO']:_0x816f1a[_0x3a5ff2(0x287)])+'\x0a\x0a';}else _0x816f1a[_0x3a5ff2(0x1fc)](_0x816f1a[_0x3a5ff2(0x21c)],_0x816f1a[_0x3a5ff2(0x21c)])?(_0x23ef5d[_0x3a5ff2(0x277)](_0x3a5ff2(0x228)+_0x3a453b[_0x3a5ff2(0x1c6)]+'\x20'),_0x418d30[_0x3a5ff2(0x1e2)]=_0x26ad35[_0x3a5ff2(0x1c6)]):(logger[_0x3a5ff2(0x299)](_0x816f1a[_0x3a5ff2(0x2a1)]),process[_0x3a5ff2(0x1f2)](0x1));}}}catch(_0x13a8f4){_0x816f1a[_0x3a5ff2(0x1f4)](_0x816f1a[_0x3a5ff2(0x28e)],_0x816f1a[_0x3a5ff2(0x1c1)])?(_0x4d0db6=_0x3a5ff2(0x25d)+_0x13a8f4+':\x20'+_0x13a8f4['stack'],logger[_0x3a5ff2(0x299)](_0x4d0db6),await _0x816f1a[_0x3a5ff2(0x23b)](reportToGalactusAndSendToEDS,_0x2d4718,_0x2ce5b2,_0x4d0db6,messageTypes[_0x3a5ff2(0x26e)],_0x816f1a[_0x3a5ff2(0x26d)],_0x816f1a['KBHod'],_0x816f1a[_0x3a5ff2(0x2a6)]),process[_0x3a5ff2(0x1f2)](0x1)):(_0x525c17[_0x3a5ff2(0x277)]('['+_0x30a1ad+_0x3a5ff2(0x1ef)+_0xb18289[_0x3a5ff2(0x2a5)]+'\x20data\x20:\x20'+_0x30dbf9[_0x3a5ff2(0x2a0)]+_0x3a5ff2(0x285)+_0x7109b6[_0x3a5ff2(0x299)]),_0x29cdb7[_0x3a5ff2(0x299)]&&_0x7aafcb[_0x3a5ff2(0x299)](_0x3a5ff2(0x2a2)+_0x3911eb[_0x3a5ff2(0x299)][_0x3a5ff2(0x224)]));}}function printResponse(_0x3a992c,_0x4a43d2){const _0x5dc93d=a17_0x5e65ac,_0x4581c2={};_0x4581c2[_0x5dc93d(0x28c)]=_0x5dc93d(0x26c),_0x4581c2['BYjUF']=function(_0x4bbe5e,_0x4d66ef){return _0x4bbe5e===_0x4d66ef;},_0x4581c2['qrdNW']=_0x5dc93d(0x22c);const _0x485459=_0x4581c2;logger[_0x5dc93d(0x277)]('['+_0x3a992c+_0x5dc93d(0x1ef)+_0x4a43d2[_0x5dc93d(0x2a5)]+'\x20data\x20:\x20'+_0x4a43d2['data']+_0x5dc93d(0x285)+_0x4a43d2[_0x5dc93d(0x299)]),_0x4a43d2['error']&&(_0x485459['BYjUF'](_0x485459[_0x5dc93d(0x20f)],_0x485459[_0x5dc93d(0x20f)])?logger[_0x5dc93d(0x299)]('error\x20stack\x20:\x20'+_0x4a43d2['error'][_0x5dc93d(0x224)]):(_0x43dc62[_0x5dc93d(0x299)](_0x485459['tEhDx']),_0x5fa6fe[_0x5dc93d(0x1f2)](0x1)));}function a17_0x217a(_0x93bb1e,_0x5a2aad){const _0x13449b=a17_0x1344();return a17_0x217a=function(_0x217a9e,_0x52b31f){_0x217a9e=_0x217a9e-0x1b4;let _0x5d6238=_0x13449b[_0x217a9e];return _0x5d6238;},a17_0x217a(_0x93bb1e,_0x5a2aad);}async function generateReport(_0xf155fa,_0x180021){const _0x4d78c8=a17_0x5e65ac,_0x2a7672={'cSjcR':function(_0x1cdbd,_0x4c67a6){return _0x1cdbd+_0x4c67a6;},'voeRi':_0x4d78c8(0x266),'tettY':_0x4d78c8(0x270),'dOMRE':function(_0x4a90da,_0x24cf3a){return _0x4a90da||_0x24cf3a;},'MDxSn':_0x4d78c8(0x259),'gpzxx':_0x4d78c8(0x273),'ScKZi':_0x4d78c8(0x214),'itiDI':function(_0x5b5185,_0xb359c6){return _0x5b5185!=_0xb359c6;},'BSkzG':'is\x20already\x20present','ptgkT':_0x4d78c8(0x263),'yUemW':function(_0x9aab2a){return _0x9aab2a();}};let _0x57f120=_0x4d78c8(0x1c7)+global_registry['cloudProvider']+_0x4d78c8(0x24b);return _0xf155fa[_0x4d78c8(0x265)]((_0x1d76b0,_0x54ebd5)=>{const _0x4c2808=_0x4d78c8,{header:_0x1e9b85,response:_0x7d4cc7}=_0x1d76b0,{status:_0x1eb3ae,data:_0x181e06,error:_0x10261a}=_0x7d4cc7;_0x57f120+=_0x1e9b85+'\x20#'+_0x2a7672[_0x4c2808(0x235)](_0x54ebd5,0x1)+'\x0a',_0x57f120+=_0x4c2808(0x2aa)+(_0x1eb3ae?_0x2a7672[_0x4c2808(0x1ee)]:_0x2a7672['tettY'])+'\x0a',_0x57f120+=_0x4c2808(0x262)+_0x2a7672[_0x4c2808(0x23d)](_0x181e06,_0x2a7672[_0x4c2808(0x215)])+'\x0a',_0x10261a&&(_0x57f120+=_0x2a7672[_0x4c2808(0x1f6)],_0x57f120+=_0x4c2808(0x28a)+(_0x10261a[_0x4c2808(0x295)]||_0x2a7672['MDxSn'])+'\x0a',_0x57f120+=_0x4c2808(0x1b9)+(_0x10261a['code']||_0x2a7672[_0x4c2808(0x215)])+'\x0a',_0x57f120+=_0x4c2808(0x240)+(_0x10261a[_0x4c2808(0x224)]||_0x2a7672[_0x4c2808(0x215)])+'\x0a'),_0x57f120+='\x0a\x0a';}),_0x57f120+=_0x2a7672[_0x4d78c8(0x1c2)],_0x2a7672['itiDI'](_0x180021,null)?_0x57f120+=_0x4d78c8(0x272)+global_registry[_0x4d78c8(0x243)]+'\x20'+(_0x180021?_0x2a7672[_0x4d78c8(0x20e)]:_0x2a7672['ptgkT'])+'\x0a\x0a':_0x57f120+=_0x4d78c8(0x272)+global_registry[_0x4d78c8(0x243)]+'\x20details\x20cannot\x20be\x20fetched\x0a\x0a',_0x57f120+=_0x2a7672[_0x4d78c8(0x1de)](getSystemMetaData),_0x57f120;};exports['handler']=async function(_0x4d71dd){const _0x73e54a=a17_0x5e65ac,_0x12ccb1={'epFWF':function(_0x523471){return _0x523471();},'GiRSb':function(_0x529ad2){return _0x529ad2();},'TMSeg':_0x73e54a(0x278),'yyqgl':function(_0x15df3e,_0x2621a7,_0x3ff9a2,_0x2cbb82,_0x276767,_0x3a3073,_0x1a1d67,_0x32fe3c){return _0x15df3e(_0x2621a7,_0x3ff9a2,_0x2cbb82,_0x276767,_0x3a3073,_0x1a1d67,_0x32fe3c);},'CDDde':_0x73e54a(0x1f8),'ZWglR':'credential-not-found','awcbF':_0x73e54a(0x299),'mfOZK':function(_0x5499b1,_0x528697,_0x533922,_0x1b1bdc,_0x11db58,_0x18fa63,_0x339af5){return _0x5499b1(_0x528697,_0x533922,_0x1b1bdc,_0x11db58,_0x18fa63,_0x339af5);},'rxCKT':function(_0x4409e3){return _0x4409e3();},'unTlq':_0x73e54a(0x249),'XgYgO':_0x73e54a(0x1c8),'RrqhS':function(_0x2b2415,_0x4e2b91,_0x3fa53f){return _0x2b2415(_0x4e2b91,_0x3fa53f);},'dPxXN':'dummy-grid','QasiA':function(_0x465c89,_0x3a6a8b,_0x55c8b0){return _0x465c89(_0x3a6a8b,_0x55c8b0);},'kWYTM':_0x73e54a(0x255),'ZZbnG':'3|4|1|2|0','JqwNR':function(_0xbb12da,_0x53c901,_0x40b7a6,_0xa58dd4,_0x39f92a,_0x204e6c,_0x2387e1,_0x43bce4){return _0xbb12da(_0x53c901,_0x40b7a6,_0xa58dd4,_0x39f92a,_0x204e6c,_0x2387e1,_0x43bce4);},'TMEdm':_0x73e54a(0x221),'KMAnw':function(_0x30e4d7,_0x315b03,_0x2c04a9){return _0x30e4d7(_0x315b03,_0x2c04a9);},'seQYc':'isTrialGridAccessible','AIAZt':function(_0x27fed6,_0x1d5b9b){return _0x27fed6(_0x1d5b9b);},'zroYR':_0x73e54a(0x26b),'YsXWG':_0x73e54a(0x2a7),'eWOcF':'Tool\x20Installed','ZMVxR':_0x73e54a(0x1dd),'XoufC':_0x73e54a(0x232),'paXff':_0x73e54a(0x1d3),'WqIpu':function(_0x3b444c,_0x19a0bc,_0x53ab4d){return _0x3b444c(_0x19a0bc,_0x53ab4d);},'gqYHb':function(_0x9cd15b,_0x757580){return _0x9cd15b+_0x757580;},'PcnyS':_0x73e54a(0x1b7),'ubdmR':function(_0x2e8201,_0x39f723,_0x173aef,_0x44136a,_0x58d017,_0x227d7e,_0x10add4){return _0x2e8201(_0x39f723,_0x173aef,_0x44136a,_0x58d017,_0x227d7e,_0x10add4);},'ezYBt':_0x73e54a(0x237)};let _0x31a73,_0x41b428;try{global_registry[_0x73e54a(0x1ba)]=_0x12ccb1[_0x73e54a(0x244)](uuidv4);!fs['existsSync'](_0x12ccb1[_0x73e54a(0x1d7)](getCredentialsPath))&&(_0x41b428=_0x12ccb1[_0x73e54a(0x21b)],logger['error'](_0x41b428),await _0x12ccb1[_0x73e54a(0x23e)](reportToGalactusAndSendToEDS,_0x4d71dd,_0x31a73,_0x41b428,messageTypes['ERROR'],_0x12ccb1[_0x73e54a(0x22d)],_0x12ccb1[_0x73e54a(0x21d)],_0x12ccb1[_0x73e54a(0x269)]),process[_0x73e54a(0x1f2)](0x1));_0x12ccb1['mfOZK'](sendInstrumentationEvent,_0x4d71dd,_0x12ccb1[_0x73e54a(0x22d)],messageTypes['INFO'],null,null,_0x4d71dd);const _0x50ee86=JSON[_0x73e54a(0x296)](fs['readFileSync'](_0x12ccb1[_0x73e54a(0x236)](getCredentialsPath)));global_registry[_0x73e54a(0x247)]=_0x50ee86[_0x73e54a(0x1bf)][_0x73e54a(0x209)],global_registry[_0x73e54a(0x211)]=_0x50ee86['Browserstack']['password'];const _0xe42b16=WS_ENDPOINT['replace'](_0x12ccb1[_0x73e54a(0x1ca)],_0x50ee86['Browserstack'][_0x73e54a(0x209)])[_0x73e54a(0x1da)](_0x12ccb1[_0x73e54a(0x29e)],_0x50ee86[_0x73e54a(0x1bf)]['password']),_0x5ab74d={};_0x5ab74d[_0x73e54a(0x208)]=ws,_0x5ab74d[_0x73e54a(0x1fd)]=0x36ee80,_0x31a73=new ReconnectingWebSocket(_0xe42b16,[],_0x5ab74d),global_registry['authHeader']=_0x12ccb1[_0x73e54a(0x219)](getAuthHeader,global_registry[_0x73e54a(0x247)],global_registry[_0x73e54a(0x211)]),await _0x12ccb1[_0x73e54a(0x219)](inputValidation,_0x4d71dd,_0x31a73),logger[_0x73e54a(0x277)](_0x73e54a(0x1e1)+global_registry[_0x73e54a(0x1e2)]+_0x73e54a(0x288)+global_registry[_0x73e54a(0x1b8)]);let _0x3cb596=await _0x12ccb1['mfOZK'](getCloudProviderObjectWithOutInit,global_registry[_0x73e54a(0x1e2)],global_registry[_0x73e54a(0x243)],_0x12ccb1[_0x73e54a(0x1d1)],_0x31a73,webSocketUtils,_0x4d71dd);const _0x3149f0=await _0x3cb596[_0x73e54a(0x207)]();_0x12ccb1[_0x73e54a(0x1e7)](printResponse,_0x12ccb1[_0x73e54a(0x276)],_0x3149f0),_0x3cb596=await _0x3cb596['init']();let _0x4fd690=![];try{_0x4fd690=await _0x3cb596['isClusterPresent']();}catch(_0x4ece4f){const _0x3f6643=_0x12ccb1[_0x73e54a(0x1fa)][_0x73e54a(0x1db)]('|');let _0xb9c4fd=0x0;while(!![]){switch(_0x3f6643[_0xb9c4fd++]){case'0':await _0x12ccb1[_0x73e54a(0x1cb)](reportToGalactusAndSendToEDS,_0x4d71dd,_0x31a73,_0x41b428,messageTypes[_0x73e54a(0x26e)],_0x12ccb1[_0x73e54a(0x22d)],_0x73e54a(0x1d5)+global_registry[_0x73e54a(0x1e2)],_0x12ccb1['awcbF']);continue;case'1':logger[_0x73e54a(0x299)](_0x41b428);continue;case'2':_0x41b428+='\x0a'+JSON['stringify'](_0x4ece4f[_0x73e54a(0x224)]);continue;case'3':_0x41b428=_0x73e54a(0x206)+global_registry['clusterName']+'`\x20is\x20present\x20in\x20region\x20`'+global_registry[_0x73e54a(0x1b8)]+_0x73e54a(0x29b)+_0x4ece4f;continue;case'4':_0x4fd690=null;continue;}break;}}_0x4fd690&&logger[_0x73e54a(0x277)]('Cluster\x20`'+global_registry[_0x73e54a(0x243)]+_0x73e54a(0x28d));const _0x2b4508=await _0x3cb596['checkAccess']();_0x12ccb1[_0x73e54a(0x219)](printResponse,_0x12ccb1[_0x73e54a(0x261)],_0x2b4508);const _0x3f948f=await _0x12ccb1['epFWF'](curlRequest);_0x12ccb1['KMAnw'](printResponse,_0x12ccb1[_0x73e54a(0x241)],_0x3f948f);const _0x56ab54=await _0x12ccb1[_0x73e54a(0x27d)](isTlsSupported,_0x12ccb1[_0x73e54a(0x201)]);_0x12ccb1[_0x73e54a(0x219)](printResponse,_0x12ccb1['YsXWG'],_0x56ab54);const _0x567579={};_0x567579['header']=_0x12ccb1[_0x73e54a(0x268)],_0x567579[_0x73e54a(0x1d0)]=_0x3149f0;const _0x3cd257={};_0x3cd257['header']=_0x12ccb1['ZMVxR'],_0x3cd257[_0x73e54a(0x1d0)]=_0x2b4508;const _0x377397={};_0x377397[_0x73e54a(0x294)]=_0x12ccb1['XoufC'],_0x377397[_0x73e54a(0x1d0)]=_0x3f948f;const _0xc1673e={};_0xc1673e[_0x73e54a(0x294)]=_0x12ccb1['paXff'],_0xc1673e['response']=_0x56ab54;const _0x31550a=[_0x567579,_0x3cd257,_0x377397,_0xc1673e],_0xedaf9a=await _0x12ccb1[_0x73e54a(0x289)](generateReport,_0x31550a,_0x4fd690),_0xd2a7fd=new Date(),_0x4c1108=_0xd2a7fd[_0x73e54a(0x1fb)]()+'_'+_0x12ccb1[_0x73e54a(0x23f)](_0xd2a7fd[_0x73e54a(0x1d6)](),0x1)+'_'+_0xd2a7fd[_0x73e54a(0x22b)]()+'_'+_0xd2a7fd[_0x73e54a(0x1ec)]()+'_'+_0xd2a7fd[_0x73e54a(0x1cd)](),_0xc3ba3b=_0x73e54a(0x20d)+_0x4c1108+_0x73e54a(0x25e);fs[_0x73e54a(0x25f)](_0xc3ba3b,_0xedaf9a,_0x12ccb1[_0x73e54a(0x25a)]),logger[_0x73e54a(0x277)]('Report\x20saved\x20in\x20'+_0xc3ba3b),process[_0x73e54a(0x1f2)](0x0);}catch(_0x1cc134){let _0x5dff24='Failed\x20in\x20pre-check!\x20Error:\x20'+_0x1cc134+'\x20';logger['error'](_0x5dff24),_0x5dff24+='\x0a'+JSON[_0x73e54a(0x21a)](_0x1cc134['stack']),logger[_0x73e54a(0x205)](_0x73e54a(0x1df)+_0x1cc134['stack']);if(_0x31a73){const _0x11e256={};_0x11e256[_0x73e54a(0x281)]=WS_EVENTS['LOG'],_0x11e256[_0x73e54a(0x295)]=_0x5dff24,webSocketUtils['sendEventToBackend'](_0x31a73,_0x11e256,_0x12ccb1[_0x73e54a(0x269)],!![]);}await webSocketUtils[_0x73e54a(0x1eb)](0x7d0);const _0x13dee5={};_0x13dee5[_0x73e54a(0x299)]=_0x5dff24,await _0x12ccb1[_0x73e54a(0x1b4)](sendInstrumentationEvent,_0x4d71dd,_0x12ccb1[_0x73e54a(0x22d)],messageTypes[_0x73e54a(0x26e)],_0x12ccb1[_0x73e54a(0x253)],_0x13dee5,_0x4d71dd),process[_0x73e54a(0x1f2)](0x1);}};