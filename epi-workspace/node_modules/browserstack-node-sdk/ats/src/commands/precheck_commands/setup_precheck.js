const a17_0x58b623=a17_0x3e31;(function(_0x53f33d,_0xb14699){const _0x5dc266=a17_0x3e31,_0x5a04e3=_0x53f33d();while(!![]){try{const _0x1e9243=-parseInt(_0x5dc266(0x243))/0x1*(parseInt(_0x5dc266(0x20e))/0x2)+-parseInt(_0x5dc266(0x236))/0x3*(parseInt(_0x5dc266(0x235))/0x4)+parseInt(_0x5dc266(0x1da))/0x5*(parseInt(_0x5dc266(0x29d))/0x6)+-parseInt(_0x5dc266(0x256))/0x7*(parseInt(_0x5dc266(0x22e))/0x8)+-parseInt(_0x5dc266(0x257))/0x9*(-parseInt(_0x5dc266(0x21a))/0xa)+-parseInt(_0x5dc266(0x2a0))/0xb+parseInt(_0x5dc266(0x1d7))/0xc;if(_0x1e9243===_0xb14699)break;else _0x5a04e3['push'](_0x5a04e3['shift']());}catch(_0x2ea09c){_0x5a04e3['push'](_0x5a04e3['shift']());}}}(a17_0x2f75,0x21eac));const fs=require('fs'),ws=require('ws'),got=require(a17_0x58b623(0x26f)),{v4:uuidv4}=require(a17_0x58b623(0x28f)),ReconnectingWebSocket=require(a17_0x58b623(0x2c1)),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require(a17_0x58b623(0x25c)),{logger}=require(a17_0x58b623(0x1f5)),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require('../../config/constants'),{getCloudProviderObjectWithOutInit}=require(a17_0x58b623(0x1df)),webSocketUtils=require(a17_0x58b623(0x25b)),{sendInstrumentationEvent}=require(a17_0x58b623(0x252));exports[a17_0x58b623(0x1f7)]='grid',exports['desc']=a17_0x58b623(0x238),exports[a17_0x58b623(0x20f)]=function(_0x2bd497){const _0x51a29c=a17_0x58b623,_0x202797={};_0x202797[_0x51a29c(0x23f)]=_0x51a29c(0x22c),_0x202797[_0x51a29c(0x1d3)]=_0x51a29c(0x24c),_0x202797[_0x51a29c(0x2a1)]=_0x51a29c(0x27f),_0x202797[_0x51a29c(0x1ef)]=_0x51a29c(0x261),_0x202797[_0x51a29c(0x27c)]='Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.',_0x202797[_0x51a29c(0x2a3)]='help';const _0x4ba16c=_0x202797,_0x460a3b={};_0x460a3b[_0x51a29c(0x234)]=_0x4ba16c[_0x51a29c(0x23f)],_0x460a3b[_0x51a29c(0x24a)]=_0x4ba16c['aolDN'];const _0x1c863d={};_0x1c863d['description']=_0x4ba16c[_0x51a29c(0x2a1)],_0x1c863d[_0x51a29c(0x24a)]=_0x4ba16c[_0x51a29c(0x1d3)];const _0x1de135={};_0x1de135[_0x51a29c(0x234)]=_0x4ba16c[_0x51a29c(0x1ef)],_0x1de135['type']=_0x4ba16c[_0x51a29c(0x1d3)];const _0x5423c3={};_0x5423c3[_0x51a29c(0x234)]=_0x4ba16c['Fhyrz'],_0x5423c3[_0x51a29c(0x24a)]=_0x4ba16c[_0x51a29c(0x1d3)];const _0x56811a={};return _0x56811a[_0x51a29c(0x2b7)]=_0x460a3b,_0x56811a[_0x51a29c(0x2c7)]=_0x1c863d,_0x56811a['region']=_0x1de135,_0x56811a['grid-profile']=_0x5423c3,_0x2bd497['usage'](HELP_HEADER_MESSAGE['pre_check'])[_0x51a29c(0x224)](HELP_FOOTER_MESSAGE)['options'](_0x56811a)['help'](_0x4ba16c[_0x51a29c(0x2a3)])['argv'];};async function inputValidation(_0x448061,_0x4bcc38){const _0x251169=a17_0x58b623,_0x4eb35c={'ztRQQ':_0x251169(0x22c),'kmzmG':_0x251169(0x24c),'ZyGnW':_0x251169(0x27f),'sOqvj':_0x251169(0x261),'puwLX':'Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','EPRWM':_0x251169(0x2c6),'LYsjl':_0x251169(0x2ac),'YxaLk':_0x251169(0x2c7),'nvTHP':function(_0x74a409,_0x1f168c){return _0x74a409+_0x1f168c;},'wlOfL':_0x251169(0x1e0),'AtNGd':_0x251169(0x210),'ZTenh':function(_0x5ef138,_0x176b59){return _0x5ef138||_0x176b59;},'lfUUR':_0x251169(0x1ee),'QFaLo':_0x251169(0x2b4),'doXSn':_0x251169(0x1fa),'dWFlk':'Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','KHPRs':'is\x20already\x20present','uGGLc':_0x251169(0x255),'omuGP':_0x251169(0x2b7),'xjLjg':function(_0x4d59f7,_0x1b1cc2){return _0x4d59f7===_0x1b1cc2;},'lAYAw':_0x251169(0x2c8),'xaTYV':'NnRdc','VoonE':_0x251169(0x24b),'arORv':_0x251169(0x264),'mfArB':_0x251169(0x204),'xDKxu':function(_0x447159,_0x3715c7){return _0x447159!==_0x3715c7;},'Vrjzh':_0x251169(0x282),'nvqkf':_0x251169(0x24f),'NRoZG':function(_0x42b5da,_0x4874b0){return _0x42b5da>_0x4874b0;},'TEdzu':_0x251169(0x1f8),'pmdzt':function(_0x5ee2a6,_0x4c1cb1,_0xed9200,_0x23bf8d,_0xac61f1,_0x4c1d74,_0x13ec29,_0xd99ecf){return _0x5ee2a6(_0x4c1cb1,_0xed9200,_0x23bf8d,_0xac61f1,_0x4c1d74,_0x13ec29,_0xd99ecf);},'PDyjt':_0x251169(0x219),'TGwSe':_0x251169(0x2c5),'GRNpg':function(_0x550b2b,_0x292a7e){return _0x550b2b===_0x292a7e;},'JmmEc':'mOgqh','kWMpx':'Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','RQbCw':function(_0x333942,_0x1c4c77,_0x471d74,_0x22bd10,_0xcf7f48,_0x3c733d,_0x2db38c,_0x12ba1d){return _0x333942(_0x1c4c77,_0x471d74,_0x22bd10,_0xcf7f48,_0x3c733d,_0x2db38c,_0x12ba1d);},'uIdzr':_0x251169(0x20a),'iuoFZ':'WxSWM','EwRXu':_0x251169(0x2c4),'IwBVz':_0x251169(0x298),'SPARh':'GET','xLwgl':function(_0x589145,_0x2c8693,_0x1e9179){return _0x589145(_0x2c8693,_0x1e9179);},'FHTMk':function(_0x1bc289,_0x3458e0,_0x5da1f0,_0x2c95d0,_0x12d270,_0x3e7f20){return _0x1bc289(_0x3458e0,_0x5da1f0,_0x2c95d0,_0x12d270,_0x3e7f20);},'WwAYO':_0x251169(0x2b6),'BlHBn':_0x251169(0x23d),'YeKoI':function(_0x4ce19b,_0x252b42){return _0x4ce19b===_0x252b42;},'gNilN':'BtQJj','dyWaT':_0x251169(0x265),'ZjEex':function(_0x1b2532,_0x29189c){return _0x1b2532(_0x29189c);},'ahHdg':function(_0x30a211,_0x46863b){return _0x30a211===_0x46863b;},'bIfyZ':'CIiax','XXMeZ':_0x251169(0x26c),'XHajY':'pre-check-grid-profile-empty','DBvXJ':_0x251169(0x207),'Lsmej':function(_0x498fc9,_0x165c3b){return _0x498fc9!==_0x165c3b;},'VOCII':_0x251169(0x1ce),'AbeAD':'vVpzO','TurLh':_0x251169(0x25d),'emSVc':_0x251169(0x212),'WUWbW':function(_0x4e4b03,_0x33571e){return _0x4e4b03===_0x33571e;},'TQeiR':_0x251169(0x271),'IWcEh':'sYSYC','kHZRM':function(_0x5e17f9,_0x59c98a,_0x53015c,_0x40ec83,_0x50de96,_0x32ee34,_0x5ec480,_0x5090e7){return _0x5e17f9(_0x59c98a,_0x53015c,_0x40ec83,_0x50de96,_0x32ee34,_0x5ec480,_0x5090e7);}};let _0x2bbe4f;try{if(_0x4eb35c['xjLjg'](_0x4eb35c[_0x251169(0x299)],_0x4eb35c[_0x251169(0x299)])){if(_0x448061['clusterName']||_0x448061[_0x251169(0x2b0)]||_0x448061['region']){if(_0x4eb35c[_0x251169(0x26b)](_0x4eb35c[_0x251169(0x1f3)],_0x4eb35c[_0x251169(0x1e5)]))_0x2bca2d+=_0x251169(0x2bc)+_0x4085f3[_0x251169(0x273)]+_0x251169(0x20b);else{const _0x499775=[];if(!_0x448061[_0x251169(0x273)]){if(_0x4eb35c[_0x251169(0x26b)](_0x4eb35c[_0x251169(0x2a6)],_0x4eb35c[_0x251169(0x29c)])){const _0x32118e={};_0x32118e[_0x251169(0x234)]=_0x4eb35c['ztRQQ'],_0x32118e[_0x251169(0x24a)]=_0x4eb35c[_0x251169(0x1f2)];const _0x148a66={};_0x148a66[_0x251169(0x234)]=_0x4eb35c[_0x251169(0x23a)],_0x148a66['type']=_0x4eb35c['kmzmG'];const _0x59c9c1={};_0x59c9c1['description']=_0x4eb35c['sOqvj'],_0x59c9c1[_0x251169(0x24a)]=_0x4eb35c[_0x251169(0x1f2)];const _0x18e629={};_0x18e629['description']=_0x4eb35c[_0x251169(0x1e3)],_0x18e629[_0x251169(0x24a)]=_0x4eb35c['kmzmG'];const _0x1a082f={};return _0x1a082f[_0x251169(0x2b7)]=_0x32118e,_0x1a082f[_0x251169(0x2c7)]=_0x148a66,_0x1a082f[_0x251169(0x2ac)]=_0x59c9c1,_0x1a082f[_0x251169(0x23d)]=_0x18e629,_0xe96db9[_0x251169(0x23e)](_0x2ee962['pre_check'])[_0x251169(0x224)](_0x55e45e)[_0x251169(0x2ae)](_0x1a082f)[_0x251169(0x2c6)](_0x4eb35c[_0x251169(0x1d2)])[_0x251169(0x1fd)];}else _0x499775[_0x251169(0x230)](_0x4eb35c['omuGP']);};!_0x448061[_0x251169(0x2b0)]&&(_0x4eb35c[_0x251169(0x205)](_0x4eb35c[_0x251169(0x231)],_0x4eb35c[_0x251169(0x231)])?_0x51ee4a[_0x251169(0x230)](_0x4eb35c[_0x251169(0x2bf)]):_0x499775[_0x251169(0x230)](_0x4eb35c['YxaLk']));;!_0x448061[_0x251169(0x2ac)]&&(_0x4eb35c['xjLjg'](_0x4eb35c[_0x251169(0x1dc)],_0x4eb35c[_0x251169(0x1dc)])?_0x499775[_0x251169(0x230)](_0x4eb35c[_0x251169(0x2bf)]):_0x14490e['push'](_0x4eb35c[_0x251169(0x274)]));;_0x4eb35c[_0x251169(0x237)](_0x499775['length'],0x0)&&(_0x4eb35c[_0x251169(0x26b)](_0x4eb35c['TEdzu'],_0x4eb35c[_0x251169(0x2a7)])?(_0x2bbe4f='Missing\x20required\x20arguments:\x20'+_0x499775[_0x251169(0x209)](',\x20')+'.\x20Please\x20provide\x20all\x20required\x20arguments.',await _0x4eb35c[_0x251169(0x1cd)](reportToGalactusAndSendToEDS,_0x448061,_0x4bcc38,_0x2bbe4f,messageTypes[_0x251169(0x1e6)],_0x4eb35c['PDyjt'],_0x4eb35c[_0x251169(0x2bb)],_0x4eb35c[_0x251169(0x28a)]),logger[_0x251169(0x1fa)](_0x2bbe4f),process['exit'](0x1)):_0x24fba=_0x419664);if(!ALL_SUPPORTED_CLOUD_PROVIDERS[_0x251169(0x262)](_0x448061[_0x251169(0x2b0)][_0x251169(0x233)]())){if(_0x4eb35c['GRNpg'](_0x4eb35c['JmmEc'],_0x4eb35c[_0x251169(0x25a)])){_0x2bbe4f=_0x4eb35c[_0x251169(0x228)],await _0x4eb35c[_0x251169(0x1ca)](reportToGalactusAndSendToEDS,_0x448061,_0x4bcc38,_0x2bbe4f,messageTypes[_0x251169(0x1e6)],_0x4eb35c['PDyjt'],_0x4eb35c[_0x251169(0x258)],_0x4eb35c[_0x251169(0x28a)]),logger[_0x251169(0x1fa)](_0x2bbe4f);if(!_0x448061[_0x251169(0x2b0)]){if(_0x4eb35c[_0x251169(0x205)](_0x4eb35c[_0x251169(0x2b5)],_0x4eb35c['EwRXu']))logger[_0x251169(0x292)](_0x251169(0x221)+DEFAULT_CLUSTER_DETAILS[_0x251169(0x22d)]+'\x20'),_0x448061[_0x251169(0x2b0)]=DEFAULT_CLUSTER_DETAILS[_0x251169(0x22d)];else{const {header:_0x15885c,response:_0x4085b3}=_0x27acc0,{status:_0x21e91e,data:_0x18da89,error:_0x1b4dcd}=_0x4085b3;_0x138a8c+=_0x15885c+'\x20#'+_0x4eb35c[_0x251169(0x2aa)](_0x5e66a3,0x1)+'\x0a',_0x2ddce6+=_0x251169(0x21d)+(_0x21e91e?_0x4eb35c[_0x251169(0x2b8)]:_0x4eb35c[_0x251169(0x1d4)])+'\x0a',_0xb0fff2+='Message:\x20'+_0x4eb35c[_0x251169(0x225)](_0x18da89,_0x4eb35c[_0x251169(0x278)])+'\x0a',_0x1b4dcd&&(_0xebc17d+=_0x4eb35c[_0x251169(0x2be)],_0x4eba67+=_0x251169(0x2a5)+(_0x1b4dcd[_0x251169(0x263)]||_0x4eb35c[_0x251169(0x278)])+'\x0a',_0x2c695d+=_0x251169(0x240)+(_0x1b4dcd[_0x251169(0x201)]||_0x4eb35c['lfUUR'])+'\x0a',_0x2d7375+=_0x251169(0x23b)+(_0x1b4dcd[_0x251169(0x20d)]||_0x4eb35c[_0x251169(0x278)])+'\x0a'),_0x528f5e+='\x0a\x0a';}}}else{const _0x343d6b={};_0x343d6b[_0x251169(0x24a)]=_0x4d9759[_0x251169(0x1e8)],_0x343d6b[_0x251169(0x263)]=_0x466102,_0x5eb032[_0x251169(0x27e)](_0x293c3f,_0x343d6b,_0x4eb35c[_0x251169(0x28a)],!![]);}}global_registry[_0x251169(0x273)]=_0x448061['clusterName'],global_registry[_0x251169(0x2b0)]=_0x448061[_0x251169(0x2b0)],global_registry[_0x251169(0x227)]=_0x448061['region'];}}else{if(_0x448061[_0x251169(0x2a4)]){if(_0x4eb35c[_0x251169(0x205)](_0x4eb35c[_0x251169(0x1d1)],_0x4eb35c[_0x251169(0x1d1)]))_0x4ef73c[_0x251169(0x292)](_0x251169(0x221)+_0x241493[_0x251169(0x22d)]+'\x20'),_0x404688[_0x251169(0x2b0)]=_0x5321bb['CLOUD_PROVIDER'];else{global_registry[_0x251169(0x2a4)]=_0x448061['gridProfile'],logger[_0x251169(0x226)](_0x251169(0x1fe)+_0x448061[_0x251169(0x2a4)]);const _0x3ddecc=_0x251169(0x254)+AG_API_URL+_0x251169(0x214),_0x4c207c={};_0x4c207c[_0x251169(0x21e)]=_0x4eb35c[_0x251169(0x2ad)],_0x4c207c[_0x251169(0x1e9)]=global_registry[_0x251169(0x248)],_0x4c207c[_0x251169(0x287)]=![];const _0x166e79=_0x4c207c,_0x2cd0e8=await _0x4eb35c[_0x251169(0x286)](got,_0x3ddecc,_0x166e79),_0xd7660c=await _0x4eb35c['FHTMk'](responseValidation,_0x2cd0e8,_0x4eb35c['WwAYO'],_0x4eb35c[_0x251169(0x27d)],_0x448061,_0x4bcc38);let _0x576c40={};if(_0x4eb35c[_0x251169(0x1f6)](_0xd7660c,0xc8)){if(_0x4eb35c[_0x251169(0x1f6)](_0x4eb35c[_0x251169(0x1c8)],_0x4eb35c[_0x251169(0x1d9)]))_0x939fc6['info']('Cluster\x20`'+_0x10a662[_0x251169(0x273)]+_0x251169(0x22b));else{const _0x52b9b3=JSON['parse'](_0x2cd0e8['body']),_0x4d62a6=_0x52b9b3['find'](_0x562c39=>_0x562c39['name']===_0x448061[_0x251169(0x2a4)])||null;_0x4eb35c[_0x251169(0x2af)](isUndefined,_0x4d62a6)?_0x4eb35c[_0x251169(0x211)](_0x4eb35c[_0x251169(0x216)],_0x4eb35c[_0x251169(0x283)])?(_0x3b6cd9['error'](_0x4eb35c['dWFlk']),_0x5b4314[_0x251169(0x269)](0x1)):(_0x2bbe4f=_0x251169(0x22f)+_0x448061[_0x251169(0x2a4)]+_0x251169(0x250),await _0x4eb35c[_0x251169(0x1cd)](reportToGalactusAndSendToEDS,_0x448061,_0x4bcc38,_0x2bbe4f,messageTypes['ERROR'],_0x4eb35c[_0x251169(0x259)],_0x4eb35c[_0x251169(0x2b1)],_0x4eb35c[_0x251169(0x28a)]),logger['error'](_0x2bbe4f),process[_0x251169(0x269)](0x1)):_0x4eb35c[_0x251169(0x220)](_0x4eb35c[_0x251169(0x1e2)],_0x4eb35c['DBvXJ'])?_0x576c40=_0x4d62a6:(_0x33b093['info']('['+_0x8f779c+_0x251169(0x2b9)+_0x2a210d[_0x251169(0x29a)]+_0x251169(0x1ec)+_0x112bd3[_0x251169(0x275)]+_0x251169(0x1ea)+_0x3ef4d9[_0x251169(0x1fa)]),_0x15176e[_0x251169(0x1fa)]&&_0x259f55[_0x251169(0x1fa)]('error\x20stack\x20:\x20'+_0xb665e[_0x251169(0x1fa)][_0x251169(0x20d)]));}}else _0x4eb35c[_0x251169(0x267)](_0x4eb35c['VOCII'],_0x4eb35c[_0x251169(0x1f0)])?process['exit'](0x1):_0x347af5[_0x251169(0x1fa)](_0x251169(0x29e)+_0x14941b[_0x251169(0x1fa)][_0x251169(0x20d)]);const _0x3d99f8={};_0x3d99f8['type']=WS_EVENTS[_0x251169(0x1e8)],_0x3d99f8[_0x251169(0x263)]=_0x4eb35c[_0x251169(0x229)],webSocketUtils['sendEventToBackend'](_0x4bcc38,_0x3d99f8),global_registry[_0x251169(0x2b0)]=_0x576c40[_0x251169(0x2b0)],global_registry['clusterRegion']=_0x576c40['region'],global_registry[_0x251169(0x273)]=_0x576c40['clusterName'];}}else _0x4eb35c['GRNpg'](_0x4eb35c[_0x251169(0x2ba)],_0x4eb35c[_0x251169(0x2ba)])?(logger[_0x251169(0x1fa)](_0x4eb35c['dWFlk']),process[_0x251169(0x269)](0x1)):_0x2e808a['exit'](0x1);}}else _0x22da27+=_0x251169(0x2bc)+_0x38e868['clusterName']+'\x20'+(_0x8834c7?_0x4eb35c[_0x251169(0x232)]:_0x4eb35c['uGGLc'])+'\x0a\x0a';}catch(_0x5af017){_0x4eb35c[_0x251169(0x290)](_0x4eb35c[_0x251169(0x1fb)],_0x4eb35c[_0x251169(0x218)])?_0x2affb2[_0x251169(0x230)](_0x4eb35c[_0x251169(0x28e)]):(_0x2bbe4f=_0x251169(0x2a8)+_0x5af017+':\x20'+_0x5af017[_0x251169(0x20d)],logger[_0x251169(0x1fa)](_0x2bbe4f),await _0x4eb35c['kHZRM'](reportToGalactusAndSendToEDS,_0x448061,_0x4bcc38,_0x2bbe4f,messageTypes[_0x251169(0x1e6)],_0x4eb35c[_0x251169(0x259)],_0x4eb35c['uIdzr'],_0x4eb35c[_0x251169(0x28a)]),process[_0x251169(0x269)](0x1));}}function printResponse(_0x31d7ad,_0x5cdc91){const _0x1548df=a17_0x58b623,_0x2e2731={};_0x2e2731[_0x1548df(0x28c)]=_0x1548df(0x2b4),_0x2e2731[_0x1548df(0x2a2)]=_0x1548df(0x1ee),_0x2e2731[_0x1548df(0x213)]=function(_0x3009ba,_0xe05b46){return _0x3009ba===_0xe05b46;},_0x2e2731[_0x1548df(0x288)]=_0x1548df(0x22a);const _0x5ec2c4=_0x2e2731;logger[_0x1548df(0x292)]('['+_0x31d7ad+_0x1548df(0x2b9)+_0x5cdc91[_0x1548df(0x29a)]+_0x1548df(0x1ec)+_0x5cdc91['data']+'\x20error\x20:\x20'+_0x5cdc91[_0x1548df(0x1fa)]),_0x5cdc91[_0x1548df(0x1fa)]&&(_0x5ec2c4[_0x1548df(0x213)](_0x5ec2c4[_0x1548df(0x288)],_0x5ec2c4['bVHvp'])?logger[_0x1548df(0x1fa)](_0x1548df(0x29e)+_0x5cdc91[_0x1548df(0x1fa)][_0x1548df(0x20d)]):(_0x38dcf0+=_0x5ec2c4[_0x1548df(0x28c)],_0x10ed9f+=_0x1548df(0x2a5)+(_0x43c205[_0x1548df(0x263)]||_0x5ec2c4['zJraa'])+'\x0a',_0x415263+='\x20\x20Code:\x20'+(_0x16c98a[_0x1548df(0x201)]||_0x5ec2c4[_0x1548df(0x2a2)])+'\x0a',_0x846988+=_0x1548df(0x23b)+(_0x4b2bbd['stack']||_0x5ec2c4[_0x1548df(0x2a2)])+'\x0a'));}function a17_0x3e31(_0x46c3f2,_0x338440){const _0x2f75e3=a17_0x2f75();return a17_0x3e31=function(_0x3e31fd,_0x2874ea){_0x3e31fd=_0x3e31fd-0x1c8;let _0x1b0ea0=_0x2f75e3[_0x3e31fd];return _0x1b0ea0;},a17_0x3e31(_0x46c3f2,_0x338440);}async function generateReport(_0x5c1384,_0x3156ec){const _0x53e5f6=a17_0x58b623,_0x11e879={'KvVxH':function(_0x2a57c9,_0xf409c2){return _0x2a57c9+_0xf409c2;},'ObnSs':'Success','tzATZ':_0x53e5f6(0x210),'RHxEN':function(_0x48d6c2,_0x169e70){return _0x48d6c2||_0x169e70;},'zsmGq':'N/A','cFgzn':'Error\x20Details:\x0a','Oflyf':_0x53e5f6(0x293),'SuXPb':function(_0xefbbb9,_0x35eefa){return _0xefbbb9!=_0x35eefa;},'xUMAd':_0x53e5f6(0x284),'XjRTf':_0x53e5f6(0x255),'xHnOb':function(_0x1f5a63){return _0x1f5a63();}};let _0x2fa08d=_0x53e5f6(0x1f4)+global_registry[_0x53e5f6(0x2b0)]+_0x53e5f6(0x1eb);return _0x5c1384[_0x53e5f6(0x251)]((_0x1c0bf9,_0x648769)=>{const _0x7b0365=_0x53e5f6,{header:_0x51377e,response:_0x54c2bd}=_0x1c0bf9,{status:_0x790eeb,data:_0x5d3015,error:_0x43fd5e}=_0x54c2bd;_0x2fa08d+=_0x51377e+'\x20#'+_0x11e879[_0x7b0365(0x1d0)](_0x648769,0x1)+'\x0a',_0x2fa08d+=_0x7b0365(0x21d)+(_0x790eeb?_0x11e879[_0x7b0365(0x280)]:_0x11e879[_0x7b0365(0x2c0)])+'\x0a',_0x2fa08d+=_0x7b0365(0x1e4)+_0x11e879[_0x7b0365(0x26e)](_0x5d3015,_0x11e879[_0x7b0365(0x206)])+'\x0a',_0x43fd5e&&(_0x2fa08d+=_0x11e879[_0x7b0365(0x217)],_0x2fa08d+='\x20\x20Message:\x20'+(_0x43fd5e['message']||_0x11e879[_0x7b0365(0x206)])+'\x0a',_0x2fa08d+=_0x7b0365(0x240)+(_0x43fd5e[_0x7b0365(0x201)]||_0x11e879[_0x7b0365(0x206)])+'\x0a',_0x2fa08d+='\x20\x20Stack:\x20'+(_0x43fd5e[_0x7b0365(0x20d)]||_0x11e879['zsmGq'])+'\x0a'),_0x2fa08d+='\x0a\x0a';}),_0x2fa08d+=_0x11e879[_0x53e5f6(0x208)],_0x11e879['SuXPb'](_0x3156ec,null)?_0x2fa08d+=_0x53e5f6(0x2bc)+global_registry['clusterName']+'\x20'+(_0x3156ec?_0x11e879[_0x53e5f6(0x27a)]:_0x11e879[_0x53e5f6(0x200)])+'\x0a\x0a':_0x2fa08d+=_0x53e5f6(0x2bc)+global_registry[_0x53e5f6(0x273)]+_0x53e5f6(0x20b),_0x2fa08d+=_0x11e879[_0x53e5f6(0x1fc)](getSystemMetaData),_0x2fa08d;}function a17_0x2f75(){const _0x31cd84=['XXMeZ','is\x20already\x20present','getUTCMonth','xLwgl','throwHttpErrors','bVHvp','Browserstack','doXSn','response','YzHzz','INFO','omuGP','uuid','WUWbW','wIJLL','info','Cluster\x20details\x0a-----------------------\x0a','handler','requestId','bstackAccesskey','Whitelisted\x20browserstack','QMMBP','lAYAw','status','writeFileSync','mfArB','1075716VptBhY','error\x20stack\x20:\x20','KVIFH','1298572UnNJSK','NuiIi','zJraa','SZLSE','gridProfile','\x20\x20Message:\x20','arORv','TEdzu','Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20','.txt','nvTHP','<PasswordPlaceholder>','region','SPARh','options','ZjEex','cloudProvider','XHajY','rDxrJ','Pre-check\x20running\x20for\x20Cloud\x20-\x20','Error\x20Details:\x0a','iuoFZ','pre-check','cluster-name','wlOfL',']\x20status\x20:\x20','emSVc','TGwSe','Cluster\x20','`\x20,error\x20:\x20','QFaLo','LYsjl','tzATZ','reconnecting-websocket','AAddK','delay','abcjO','pre-check-cluster-args-not-passed','help','cloud-provider','vRgpR','gNilN','password','RQbCw','credential-not-found','connectionTimeout','pmdzt','xujZc','isTls1_2_SUPPORTED','KvVxH','IwBVz','EPRWM','aolDN','AtNGd','replace','ctXUa','6584604bfHrCi','jESRr','dyWaT','5CLsQNi','pAuFD','nvqkf','split','hGuNc','../../cloudproviders/utils','Success','isTrialGridAccessible','DBvXJ','puwLX','Message:\x20','VoonE','ERROR','readFileSync','LOG','headers','\x20error\x20:\x20','\x20===\x0a\x0a','\x20data\x20:\x20','getUTCFullYear','N/A','LlvKL','AbeAD','EmywC','kmzmG','xaTYV','===\x20Precheck\x20Report\x20-\x20','../../config/logger','YeKoI','command','IRVyq','username','error','TQeiR','xHnOb','argv','grid\x20profile\x20flow\x20','init','XjRTf','code','getUTCHours','dummy-grid','KFAxp','xDKxu','zsmGq','eBKyq','Oflyf','join','cloud-provider-not-supported','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','unable\x20to\x20verify\x20if\x20cluster\x20`','stack','338eMVKiR','builder','Failure','ahHdg','VNrDV','mmXLW','/packages/cli/get-all-grid-profiles','utf-8','bIfyZ','cFgzn','IWcEh','pre-check-grid-called','10poqBZr','log/report_','stringify','Status:\x20','method','OLiFM','GRNpg','Setting\x20cloud\x20provider\x20as\x20','qsXtT','ZMDSN','epilogue','ZTenh','debug','clusterRegion','kWMpx','TurLh','thtdP','`\x20already\x20exists','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','CLOUD_PROVIDER','552536TOJLoo','Invalid\x20input.\x20grid\x20profiles:\x20','push','Vrjzh','KHPRs','toLowerCase','description','1204qQcozM','1671tgsQZE','NRoZG','Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup','dSCUa','ZyGnW','\x20\x20Stack:\x20','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','grid-profile','usage','nlMpR','\x20\x20Code:\x20','0|1|3|2|4','qGHmD','1347VhyngA','Failed\x20in\x20pre-check!\x20Error:\x20','pre-check-failed','wPMyI','JOtpa','authHeader','JhjtY','type','zYJRi','string','bstackUsername','TLSv1_2_client_method','clEUY','.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again','forEach','../../utils/instrumentationUtils','DlrYM','https://','will\x20be\x20created','21PMocwI','1183266kzIsqL','uIdzr','PDyjt','JmmEc','../../utils/webSocketUtils','../../utils/utilityMethods','Grid\x20profile\x20fetched\x20for\x20pre-check','WebSocket','Report\x20saved\x20in\x20','cluster-check-failed-','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','includes','message','gNsKN','kBPAv','gHNJa','Lsmej','lJOTO','exit','oYCaz','xjLjg','MxNpM','stack\x20trace\x20','RHxEN','got','zMuQA','eFLQZ','`\x20is\x20present\x20in\x20region\x20`','clusterName','YxaLk','data','getUTCDate','accessResp','lfUUR','Cluster\x20`','xUMAd','User\x20Access','Fhyrz','BlHBn','sendEventToBackend','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','ObnSs','header','GuoML'];a17_0x2f75=function(){return _0x31cd84;};return a17_0x2f75();};exports[a17_0x58b623(0x294)]=async function(_0x2c928b){const _0x221fbe=a17_0x58b623,_0x52807b={'uyOfv':function(_0x5a0637){return _0x5a0637();},'JOtpa':function(_0x49da22){return _0x49da22();},'QFUOp':_0x221fbe(0x23c),'vcKcc':function(_0x32bd9d,_0x30c660,_0x4aff16,_0x56f65b,_0x17de68,_0x10fabf,_0x48546f,_0x5a83c1){return _0x32bd9d(_0x30c660,_0x4aff16,_0x56f65b,_0x17de68,_0x10fabf,_0x48546f,_0x5a83c1);},'JhjtY':_0x221fbe(0x219),'EmywC':_0x221fbe(0x1cb),'zEwim':_0x221fbe(0x1fa),'AAddK':function(_0x22cb71,_0x894470,_0x9266cd,_0xe9fbc0,_0x2bd6f8,_0x4f9a7c,_0x1ee9a7){return _0x22cb71(_0x894470,_0x9266cd,_0xe9fbc0,_0x2bd6f8,_0x4f9a7c,_0x1ee9a7);},'wPMyI':'<UsernamePlaceholder>','jDHIQ':_0x221fbe(0x2ab),'qsXtT':function(_0x2f03bb,_0x15a19c,_0x4089af){return _0x2f03bb(_0x15a19c,_0x4089af);},'rDxrJ':function(_0x225385,_0x1c8258,_0x2eec18){return _0x225385(_0x1c8258,_0x2eec18);},'wIJLL':_0x221fbe(0x203),'qGHmD':function(_0x5c2fb6,_0x4f825c,_0x405a1b){return _0x5c2fb6(_0x4f825c,_0x405a1b);},'gbOKG':'toolInstalledResp','KVIFH':_0x221fbe(0x241),'lxMlT':function(_0x58d5df,_0x16625d,_0x2d7b04,_0x42ac1e,_0x173d56,_0x2336ae,_0x4b1326,_0x32f411){return _0x58d5df(_0x16625d,_0x2d7b04,_0x42ac1e,_0x173d56,_0x2336ae,_0x4b1326,_0x32f411);},'lJOTO':_0x221fbe(0x277),'hGuNc':_0x221fbe(0x1e1),'ctXUa':function(_0x13ffc9,_0x4d8409){return _0x13ffc9(_0x4d8409);},'dSCUa':_0x221fbe(0x24e),'oYCaz':_0x221fbe(0x1cf),'DlrYM':'Tool\x20Installed','OLiFM':_0x221fbe(0x27b),'AMalC':_0x221fbe(0x297),'zMuQA':'SSL\x20Configured','gHNJa':function(_0x35b38c,_0x180407,_0x42938c){return _0x35b38c(_0x180407,_0x42938c);},'jESRr':function(_0x38ad32,_0x4c1bb5){return _0x38ad32+_0x4c1bb5;},'ZMDSN':_0x221fbe(0x215),'pAuFD':_0x221fbe(0x245)};let _0x34febe,_0x4afa00;try{global_registry[_0x221fbe(0x295)]=_0x52807b['uyOfv'](uuidv4);!fs['existsSync'](_0x52807b[_0x221fbe(0x247)](getCredentialsPath))&&(_0x4afa00=_0x52807b['QFUOp'],logger['error'](_0x4afa00),await _0x52807b['vcKcc'](reportToGalactusAndSendToEDS,_0x2c928b,_0x34febe,_0x4afa00,messageTypes[_0x221fbe(0x1e6)],_0x52807b[_0x221fbe(0x249)],_0x52807b[_0x221fbe(0x1f1)],_0x52807b['zEwim']),process[_0x221fbe(0x269)](0x1));_0x52807b[_0x221fbe(0x2c2)](sendInstrumentationEvent,_0x2c928b,_0x52807b[_0x221fbe(0x249)],messageTypes[_0x221fbe(0x28d)],null,null,_0x2c928b);const _0x231112=JSON['parse'](fs[_0x221fbe(0x1e7)](_0x52807b[_0x221fbe(0x247)](getCredentialsPath)));global_registry['bstackUsername']=_0x231112['Browserstack'][_0x221fbe(0x1f9)],global_registry[_0x221fbe(0x296)]=_0x231112['Browserstack'][_0x221fbe(0x1c9)];const _0x2f2078=WS_ENDPOINT['replace'](_0x52807b[_0x221fbe(0x246)],_0x231112[_0x221fbe(0x289)][_0x221fbe(0x1f9)])[_0x221fbe(0x1d5)](_0x52807b['jDHIQ'],_0x231112[_0x221fbe(0x289)][_0x221fbe(0x1c9)]),_0x2117bd={};_0x2117bd[_0x221fbe(0x25e)]=ws,_0x2117bd[_0x221fbe(0x1cc)]=0x36ee80,_0x34febe=new ReconnectingWebSocket(_0x2f2078,[],_0x2117bd),global_registry['authHeader']=_0x52807b[_0x221fbe(0x222)](getAuthHeader,global_registry[_0x221fbe(0x24d)],global_registry['bstackAccesskey']),await _0x52807b[_0x221fbe(0x2b2)](inputValidation,_0x2c928b,_0x34febe),logger[_0x221fbe(0x292)](_0x221fbe(0x2b3)+global_registry[_0x221fbe(0x2b0)]+'\x20region\x20-\x20'+global_registry['clusterRegion']);let _0x21623f=await _0x52807b[_0x221fbe(0x2c2)](getCloudProviderObjectWithOutInit,global_registry[_0x221fbe(0x2b0)],global_registry['clusterName'],_0x52807b[_0x221fbe(0x291)],_0x34febe,webSocketUtils,_0x2c928b);const _0x28e872=await _0x21623f['isCliToolInstalled']();_0x52807b[_0x221fbe(0x242)](printResponse,_0x52807b['gbOKG'],_0x28e872),_0x21623f=await _0x21623f[_0x221fbe(0x1ff)]();let _0x236242=![];try{_0x236242=await _0x21623f['isClusterPresent']();}catch(_0x179684){const _0x17e2b5=_0x52807b[_0x221fbe(0x29f)][_0x221fbe(0x1dd)]('|');let _0x26c4da=0x0;while(!![]){switch(_0x17e2b5[_0x26c4da++]){case'0':_0x4afa00=_0x221fbe(0x20c)+global_registry[_0x221fbe(0x273)]+_0x221fbe(0x272)+global_registry[_0x221fbe(0x227)]+_0x221fbe(0x2bd)+_0x179684;continue;case'1':_0x236242=null;continue;case'2':_0x4afa00+='\x0a'+JSON['stringify'](_0x179684[_0x221fbe(0x20d)]);continue;case'3':logger['error'](_0x4afa00);continue;case'4':await _0x52807b['lxMlT'](reportToGalactusAndSendToEDS,_0x2c928b,_0x34febe,_0x4afa00,messageTypes['ERROR'],_0x52807b[_0x221fbe(0x249)],_0x221fbe(0x260)+global_registry[_0x221fbe(0x2b0)],_0x52807b['zEwim']);continue;}break;}}_0x236242&&logger[_0x221fbe(0x292)](_0x221fbe(0x279)+global_registry[_0x221fbe(0x273)]+_0x221fbe(0x22b));const _0x4acfb7=await _0x21623f['checkAccess']();_0x52807b['rDxrJ'](printResponse,_0x52807b[_0x221fbe(0x268)],_0x4acfb7);const _0x7fe770=await _0x52807b['JOtpa'](curlRequest);_0x52807b['qsXtT'](printResponse,_0x52807b[_0x221fbe(0x1de)],_0x7fe770);const _0x20bf0e=await _0x52807b[_0x221fbe(0x1d6)](isTlsSupported,_0x52807b[_0x221fbe(0x239)]);_0x52807b['qGHmD'](printResponse,_0x52807b[_0x221fbe(0x26a)],_0x20bf0e);const _0x29103d={};_0x29103d[_0x221fbe(0x281)]=_0x52807b[_0x221fbe(0x253)],_0x29103d[_0x221fbe(0x28b)]=_0x28e872;const _0x5717b8={};_0x5717b8[_0x221fbe(0x281)]=_0x52807b[_0x221fbe(0x21f)],_0x5717b8[_0x221fbe(0x28b)]=_0x4acfb7;const _0x6f9cd0={};_0x6f9cd0[_0x221fbe(0x281)]=_0x52807b['AMalC'],_0x6f9cd0[_0x221fbe(0x28b)]=_0x7fe770;const _0x559ae4={};_0x559ae4[_0x221fbe(0x281)]=_0x52807b[_0x221fbe(0x270)],_0x559ae4[_0x221fbe(0x28b)]=_0x20bf0e;const _0x104d3f=[_0x29103d,_0x5717b8,_0x6f9cd0,_0x559ae4],_0x18e1a4=await _0x52807b[_0x221fbe(0x266)](generateReport,_0x104d3f,_0x236242),_0x5c3ffd=new Date(),_0x502344=_0x5c3ffd[_0x221fbe(0x1ed)]()+'_'+_0x52807b[_0x221fbe(0x1d8)](_0x5c3ffd[_0x221fbe(0x285)](),0x1)+'_'+_0x5c3ffd[_0x221fbe(0x276)]()+'_'+_0x5c3ffd[_0x221fbe(0x202)]()+'_'+_0x5c3ffd['getUTCMinutes'](),_0x1070fd=_0x221fbe(0x21b)+_0x502344+_0x221fbe(0x2a9);fs[_0x221fbe(0x29b)](_0x1070fd,_0x18e1a4,_0x52807b[_0x221fbe(0x223)]),logger[_0x221fbe(0x292)](_0x221fbe(0x25f)+_0x1070fd),process[_0x221fbe(0x269)](0x0);}catch(_0x4100f5){let _0x1efc66=_0x221fbe(0x244)+_0x4100f5+'\x20';logger[_0x221fbe(0x1fa)](_0x1efc66),_0x1efc66+='\x0a'+JSON[_0x221fbe(0x21c)](_0x4100f5['stack']),logger['debug'](_0x221fbe(0x26d)+_0x4100f5[_0x221fbe(0x20d)]);if(_0x34febe){const _0xd6a676={};_0xd6a676['type']=WS_EVENTS[_0x221fbe(0x1e8)],_0xd6a676['message']=_0x1efc66,webSocketUtils[_0x221fbe(0x27e)](_0x34febe,_0xd6a676,_0x52807b['zEwim'],!![]);}await webSocketUtils[_0x221fbe(0x2c3)](0x7d0);const _0x1e65f9={};_0x1e65f9[_0x221fbe(0x1fa)]=_0x1efc66,await _0x52807b[_0x221fbe(0x2c2)](sendInstrumentationEvent,_0x2c928b,_0x52807b[_0x221fbe(0x249)],messageTypes[_0x221fbe(0x1e6)],_0x52807b[_0x221fbe(0x1db)],_0x1e65f9,_0x2c928b),process['exit'](0x1);}};