const a17_0x4e7937=a17_0x28fd;(function(_0x1871e8,_0x36abc0){const _0x24414c=a17_0x28fd,_0x53f338=_0x1871e8();while(!![]){try{const _0x34ff08=-parseInt(_0x24414c(0x26c))/0x1*(-parseInt(_0x24414c(0x274))/0x2)+-parseInt(_0x24414c(0x1f8))/0x3*(parseInt(_0x24414c(0x260))/0x4)+-parseInt(_0x24414c(0x1d0))/0x5+-parseInt(_0x24414c(0x1b5))/0x6+-parseInt(_0x24414c(0x1cd))/0x7*(-parseInt(_0x24414c(0x25e))/0x8)+parseInt(_0x24414c(0x214))/0x9*(-parseInt(_0x24414c(0x280))/0xa)+-parseInt(_0x24414c(0x227))/0xb*(-parseInt(_0x24414c(0x266))/0xc);if(_0x34ff08===_0x36abc0)break;else _0x53f338['push'](_0x53f338['shift']());}catch(_0x508890){_0x53f338['push'](_0x53f338['shift']());}}}(a17_0x3eb5,0x52720));const fs=require('fs'),ws=require('ws'),got=require('got'),{v4:uuidv4}=require(a17_0x4e7937(0x1c5)),ReconnectingWebSocket=require(a17_0x4e7937(0x210)),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require(a17_0x4e7937(0x20a)),{logger}=require(a17_0x4e7937(0x243)),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require(a17_0x4e7937(0x23a)),{getCloudProviderObjectWithOutInit}=require('../../cloudproviders/utils'),webSocketUtils=require('../../utils/webSocketUtils'),{sendInstrumentationEvent}=require(a17_0x4e7937(0x20b));exports['command']=a17_0x4e7937(0x2b9),exports[a17_0x4e7937(0x1c3)]=a17_0x4e7937(0x211),exports['builder']=function(_0x41942f){const _0x2b9a81=a17_0x4e7937,_0x263c5c={};_0x263c5c['DwzGM']=_0x2b9a81(0x218),_0x263c5c[_0x2b9a81(0x28d)]=_0x2b9a81(0x1bd),_0x263c5c['BNMih']=_0x2b9a81(0x24e),_0x263c5c['pfNOB']=_0x2b9a81(0x276),_0x263c5c[_0x2b9a81(0x252)]=_0x2b9a81(0x29b),_0x263c5c['mTCwu']=_0x2b9a81(0x228);const _0x4255cf=_0x263c5c,_0x93fcee={};_0x93fcee['description']=_0x4255cf[_0x2b9a81(0x29a)],_0x93fcee[_0x2b9a81(0x1c0)]=_0x4255cf['JecaV'];const _0x271bc9={};_0x271bc9[_0x2b9a81(0x21d)]=_0x4255cf['BNMih'],_0x271bc9[_0x2b9a81(0x1c0)]=_0x4255cf[_0x2b9a81(0x28d)];const _0x50214c={};_0x50214c['description']=_0x4255cf[_0x2b9a81(0x236)],_0x50214c[_0x2b9a81(0x1c0)]=_0x4255cf[_0x2b9a81(0x28d)];const _0x111579={};_0x111579[_0x2b9a81(0x21d)]=_0x4255cf[_0x2b9a81(0x252)],_0x111579[_0x2b9a81(0x1c0)]=_0x4255cf[_0x2b9a81(0x28d)];const _0x5ddc25={};return _0x5ddc25[_0x2b9a81(0x20f)]=_0x93fcee,_0x5ddc25['cloud-provider']=_0x271bc9,_0x5ddc25['region']=_0x50214c,_0x5ddc25['grid-profile']=_0x111579,_0x41942f[_0x2b9a81(0x249)](HELP_HEADER_MESSAGE[_0x2b9a81(0x1c4)])[_0x2b9a81(0x1f5)](HELP_FOOTER_MESSAGE)[_0x2b9a81(0x240)](_0x5ddc25)[_0x2b9a81(0x228)](_0x4255cf[_0x2b9a81(0x1ab)])[_0x2b9a81(0x25d)];};async function inputValidation(_0xc6aa29,_0xdfec){const _0x4bbd55=a17_0x4e7937,_0x3d5f6b={'vAEUT':_0x4bbd55(0x1c8),'vIfee':_0x4bbd55(0x1ec),'HzAzw':_0x4bbd55(0x23f),'OPXnp':_0x4bbd55(0x1f6),'CDaFH':_0x4bbd55(0x1e6),'QwXct':function(_0x1d95de,_0x466a12){return _0x1d95de+_0x466a12;},'fvxKY':_0x4bbd55(0x22a),'HNZhR':_0x4bbd55(0x1ce),'TqmbS':function(_0x2148f9,_0x2df86e){return _0x2148f9||_0x2df86e;},'sWjzW':'Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','QUGwH':_0x4bbd55(0x1bd),'IsrPf':_0x4bbd55(0x24e),'pSKNY':_0x4bbd55(0x276),'DPgMa':'Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','ADpYk':_0x4bbd55(0x228),'OFcqs':_0x4bbd55(0x2b5),'qqFZi':_0x4bbd55(0x20f),'CacDo':_0x4bbd55(0x26a),'rgCCf':function(_0x50a57c,_0x350fa5){return _0x50a57c!==_0x350fa5;},'wYozV':_0x4bbd55(0x286),'jsIzO':_0x4bbd55(0x281),'zLkww':function(_0x2324ee,_0x199965){return _0x2324ee!==_0x199965;},'hnItJ':'gIcdh','GocIp':_0x4bbd55(0x2b2),'WLwzP':function(_0x4566eb,_0x23a7d2){return _0x4566eb!==_0x23a7d2;},'nuqMW':_0x4bbd55(0x299),'aFrYr':function(_0x279613,_0x2bbc70){return _0x279613===_0x2bbc70;},'VlLAc':'zcsbb','fPqLY':_0x4bbd55(0x1c9),'DZSSH':_0x4bbd55(0x230),'mvtXZ':_0x4bbd55(0x1af),'YEbdk':function(_0x38eee0,_0x4ff522){return _0x38eee0>_0x4ff522;},'QyJCh':'BFpNh','uMyOO':_0x4bbd55(0x1c7),'xkXRr':function(_0x41b2c9,_0x1163b7,_0x4d662b,_0x201d69,_0x54a54b,_0x1f6c21,_0x16e406,_0x4d4041){return _0x41b2c9(_0x1163b7,_0x4d662b,_0x201d69,_0x54a54b,_0x1f6c21,_0x16e406,_0x4d4041);},'RzVqb':_0x4bbd55(0x1f4),'AeTVd':'pre-check-cluster-args-not-passed','OVWZP':function(_0x48c1ee,_0x3ed34c){return _0x48c1ee!==_0x3ed34c;},'waPEO':_0x4bbd55(0x2b0),'miRlS':_0x4bbd55(0x271),'UpAkf':function(_0x59eacc,_0x4af32c,_0x2e6627,_0x2cb9ac,_0x19c3a7,_0xc026ff,_0x4bbd70,_0x3ef540){return _0x59eacc(_0x4af32c,_0x2e6627,_0x2cb9ac,_0x19c3a7,_0xc026ff,_0x4bbd70,_0x3ef540);},'QZmco':_0x4bbd55(0x2a8),'NZvwY':function(_0x9ab221,_0x4bb7bc){return _0x9ab221===_0x4bb7bc;},'RzFAn':_0x4bbd55(0x255),'DkZJk':'XeeiI','SxbWe':_0x4bbd55(0x285),'JaaRP':_0x4bbd55(0x20e),'TMSjz':function(_0x3c0014,_0x519a9a,_0x5685fa){return _0x3c0014(_0x519a9a,_0x5685fa);},'vktlZ':function(_0x8a1dd5,_0x440b12,_0x397f5a,_0x483f97,_0x1b542c,_0x11b6e2){return _0x8a1dd5(_0x440b12,_0x397f5a,_0x483f97,_0x1b542c,_0x11b6e2);},'aOdrw':_0x4bbd55(0x1b9),'ZplFt':'grid-profile','XepqH':function(_0xeba890,_0x3e7b25){return _0xeba890===_0x3e7b25;},'fSpCL':function(_0x13ccb0,_0x2d3064){return _0x13ccb0===_0x2d3064;},'DSVrP':_0x4bbd55(0x245),'JlaQH':_0x4bbd55(0x20c),'EfcYZ':function(_0x3d9858,_0x2af2e5){return _0x3d9858(_0x2af2e5);},'QkrhZ':function(_0x3781fd,_0x5e806a){return _0x3781fd===_0x5e806a;},'tGxWt':_0x4bbd55(0x1df),'WFIgt':_0x4bbd55(0x21e),'jprus':function(_0x7a0c55,_0xe07e8e,_0x17bd5e,_0x4fe35d,_0x5de067,_0x32e1d7,_0x34902f,_0x1dbd5c){return _0x7a0c55(_0xe07e8e,_0x17bd5e,_0x4fe35d,_0x5de067,_0x32e1d7,_0x34902f,_0x1dbd5c);},'SbwQR':_0x4bbd55(0x1d6),'jpDZD':function(_0x3e3996,_0x1c1a5f){return _0x3e3996!==_0x1c1a5f;},'iubDU':'XtrsS','lLneW':_0x4bbd55(0x2a4),'ptFgl':function(_0x2cc1e8,_0x4b70e6){return _0x2cc1e8===_0x4b70e6;},'VcSVU':_0x4bbd55(0x1f1),'XUKFV':'gaDNi','xkXWa':_0x4bbd55(0x223),'ttCIo':_0x4bbd55(0x23c),'tDdsa':'nWuwb','nHEWF':function(_0x40230a,_0x2ea77d){return _0x40230a!==_0x2ea77d;},'MzoYI':_0x4bbd55(0x1ee),'HFHTT':function(_0x1ff5aa,_0x1be8a3,_0x46665c,_0x55d7cd,_0x47bdb0,_0x2cb0e8,_0x51aa6c,_0x48ed8f){return _0x1ff5aa(_0x1be8a3,_0x46665c,_0x55d7cd,_0x47bdb0,_0x2cb0e8,_0x51aa6c,_0x48ed8f);}};let _0x397d03;try{if(_0x3d5f6b[_0x4bbd55(0x28c)](_0x3d5f6b['wYozV'],_0x3d5f6b[_0x4bbd55(0x21c)])){if(_0xc6aa29[_0x4bbd55(0x1e2)]||_0xc6aa29[_0x4bbd55(0x244)]||_0xc6aa29[_0x4bbd55(0x1af)]){if(_0x3d5f6b[_0x4bbd55(0x277)](_0x3d5f6b[_0x4bbd55(0x201)],_0x3d5f6b[_0x4bbd55(0x209)])){const _0x3d442c=[];!_0xc6aa29[_0x4bbd55(0x1e2)]&&(_0x3d5f6b[_0x4bbd55(0x263)](_0x3d5f6b[_0x4bbd55(0x1fc)],_0x3d5f6b[_0x4bbd55(0x1fc)])?_0x49d4fb[_0x4bbd55(0x273)](0x1):_0x3d442c[_0x4bbd55(0x242)](_0x3d5f6b[_0x4bbd55(0x1da)]));;!_0xc6aa29[_0x4bbd55(0x244)]&&(_0x3d5f6b['aFrYr'](_0x3d5f6b[_0x4bbd55(0x20d)],_0x3d5f6b[_0x4bbd55(0x20d)])?_0x3d442c['push'](_0x3d5f6b[_0x4bbd55(0x270)]):_0xc4228f['error'](_0x4bbd55(0x204)+_0x31b404[_0x4bbd55(0x26a)][_0x4bbd55(0x1d1)]));;!_0xc6aa29[_0x4bbd55(0x1af)]&&(_0x3d5f6b[_0x4bbd55(0x28c)](_0x3d5f6b['fPqLY'],_0x3d5f6b[_0x4bbd55(0x1eb)])?_0x3d442c[_0x4bbd55(0x242)](_0x3d5f6b[_0x4bbd55(0x24f)]):(_0x5354f2['info']('Setting\x20cloud\x20provider\x20as\x20'+_0x38ca1c[_0x4bbd55(0x1d5)]+'\x20'),_0x3ed5c8['cloudProvider']=_0x3c94b5['CLOUD_PROVIDER']));;_0x3d5f6b[_0x4bbd55(0x238)](_0x3d442c[_0x4bbd55(0x289)],0x0)&&(_0x3d5f6b[_0x4bbd55(0x277)](_0x3d5f6b[_0x4bbd55(0x25a)],_0x3d5f6b['uMyOO'])?(_0x397d03=_0x4bbd55(0x1d2)+_0x3d442c[_0x4bbd55(0x27f)](',\x20')+_0x4bbd55(0x216),await _0x3d5f6b[_0x4bbd55(0x1e7)](reportToGalactusAndSendToEDS,_0xc6aa29,_0xdfec,_0x397d03,messageTypes[_0x4bbd55(0x1f2)],_0x3d5f6b['RzVqb'],_0x3d5f6b[_0x4bbd55(0x1b3)],_0x3d5f6b['CacDo']),logger[_0x4bbd55(0x26a)](_0x397d03),process[_0x4bbd55(0x273)](0x1)):(_0x32d7eb+=_0x3d5f6b[_0x4bbd55(0x220)],_0x400014+=_0x4bbd55(0x1fa)+(_0x478b71[_0x4bbd55(0x1c6)]||_0x3d5f6b[_0x4bbd55(0x258)])+'\x0a',_0x23a6af+=_0x4bbd55(0x1e0)+(_0xa6e3ec[_0x4bbd55(0x253)]||_0x3d5f6b[_0x4bbd55(0x258)])+'\x0a',_0x6de6af+=_0x4bbd55(0x237)+(_0x4afc05[_0x4bbd55(0x1d1)]||_0x3d5f6b[_0x4bbd55(0x258)])+'\x0a')),!ALL_SUPPORTED_CLOUD_PROVIDERS[_0x4bbd55(0x23e)](_0xc6aa29[_0x4bbd55(0x244)][_0x4bbd55(0x2a1)]())&&(_0x3d5f6b['OVWZP'](_0x3d5f6b[_0x4bbd55(0x269)],_0x3d5f6b['waPEO'])?_0x454246[_0x4bbd55(0x242)](_0x3d5f6b[_0x4bbd55(0x270)]):(_0x397d03=_0x3d5f6b[_0x4bbd55(0x279)],await _0x3d5f6b[_0x4bbd55(0x22e)](reportToGalactusAndSendToEDS,_0xc6aa29,_0xdfec,_0x397d03,messageTypes['ERROR'],_0x3d5f6b['RzVqb'],_0x3d5f6b[_0x4bbd55(0x224)],_0x3d5f6b['CacDo']),logger['error'](_0x397d03),!_0xc6aa29[_0x4bbd55(0x244)]&&(_0x3d5f6b[_0x4bbd55(0x21f)](_0x3d5f6b[_0x4bbd55(0x1e3)],_0x3d5f6b[_0x4bbd55(0x1e3)])?(logger[_0x4bbd55(0x2b3)](_0x4bbd55(0x288)+DEFAULT_CLUSTER_DETAILS[_0x4bbd55(0x1d5)]+'\x20'),_0xc6aa29[_0x4bbd55(0x244)]=DEFAULT_CLUSTER_DETAILS['CLOUD_PROVIDER']):_0x1eb8a7+=_0x4bbd55(0x2a2)+_0x1e6576[_0x4bbd55(0x1e2)]+'\x20'+(_0x1624ab?_0x3d5f6b[_0x4bbd55(0x28b)]:_0x3d5f6b['CDaFH'])+'\x0a\x0a'))),global_registry[_0x4bbd55(0x1e2)]=_0xc6aa29['clusterName'],global_registry[_0x4bbd55(0x244)]=_0xc6aa29[_0x4bbd55(0x244)],global_registry['clusterRegion']=_0xc6aa29[_0x4bbd55(0x1af)];}else{const {header:_0x399f9c,response:_0x20421c}=_0x5332b6,{status:_0x152c5b,data:_0x3a8b17,error:_0x3326ee}=_0x20421c;_0xba0ce2+=_0x399f9c+'\x20#'+_0x3d5f6b['QwXct'](_0xe9b2bd,0x1)+'\x0a',_0x2bd915+=_0x4bbd55(0x284)+(_0x152c5b?_0x3d5f6b[_0x4bbd55(0x283)]:_0x3d5f6b[_0x4bbd55(0x200)])+'\x0a',_0x21b403+=_0x4bbd55(0x2ae)+_0x3d5f6b[_0x4bbd55(0x292)](_0x3a8b17,_0x3d5f6b[_0x4bbd55(0x258)])+'\x0a',_0x3326ee&&(_0x2c6ed9+=_0x3d5f6b[_0x4bbd55(0x220)],_0x3fe85d+=_0x4bbd55(0x1fa)+(_0x3326ee[_0x4bbd55(0x1c6)]||_0x3d5f6b[_0x4bbd55(0x258)])+'\x0a',_0x1b8b9d+=_0x4bbd55(0x1e0)+(_0x3326ee[_0x4bbd55(0x253)]||_0x3d5f6b[_0x4bbd55(0x258)])+'\x0a',_0x4c5402+=_0x4bbd55(0x237)+(_0x3326ee['stack']||_0x3d5f6b[_0x4bbd55(0x258)])+'\x0a'),_0x4f0783+='\x0a\x0a';}}else{if(_0xc6aa29['gridProfile']){if(_0x3d5f6b[_0x4bbd55(0x23d)](_0x3d5f6b[_0x4bbd55(0x2aa)],_0x3d5f6b[_0x4bbd55(0x241)]))_0x3024d8[_0x4bbd55(0x2b3)]('['+_0x45825b+']\x20status\x20:\x20'+_0x5ae07f[_0x4bbd55(0x1ba)]+_0x4bbd55(0x290)+_0x33f872['data']+_0x4bbd55(0x2b4)+_0x47c1bf[_0x4bbd55(0x26a)]),_0x50741d['error']&&_0x55441d[_0x4bbd55(0x26a)](_0x4bbd55(0x204)+_0x12f39e[_0x4bbd55(0x26a)]['stack']);else{global_registry[_0x4bbd55(0x1f9)]=_0xc6aa29[_0x4bbd55(0x1f9)],logger[_0x4bbd55(0x1dd)](_0x4bbd55(0x2a6)+_0xc6aa29[_0x4bbd55(0x1f9)]);const _0x1e2832=_0x4bbd55(0x217)+AG_API_URL+_0x4bbd55(0x1b8),_0x545bb7={};_0x545bb7[_0x4bbd55(0x1e4)]=_0x3d5f6b['JaaRP'],_0x545bb7['headers']=global_registry[_0x4bbd55(0x215)],_0x545bb7['throwHttpErrors']=![];const _0xb3f17f=_0x545bb7,_0x38689e=await _0x3d5f6b[_0x4bbd55(0x1f0)](got,_0x1e2832,_0xb3f17f),_0x1e06fb=await _0x3d5f6b[_0x4bbd55(0x21b)](responseValidation,_0x38689e,_0x3d5f6b[_0x4bbd55(0x1cc)],_0x3d5f6b[_0x4bbd55(0x26e)],_0xc6aa29,_0xdfec);let _0x5b246c={};if(_0x3d5f6b[_0x4bbd55(0x2a5)](_0x1e06fb,0xc8)){if(_0x3d5f6b[_0x4bbd55(0x1b6)](_0x3d5f6b[_0x4bbd55(0x28a)],_0x3d5f6b[_0x4bbd55(0x282)]))_0x32fb55=_0xbeba08;else{const _0x1ff72e=JSON[_0x4bbd55(0x254)](_0x38689e[_0x4bbd55(0x2af)]),_0x3d7bdb=_0x1ff72e[_0x4bbd55(0x229)](_0x1cf429=>_0x1cf429['name']===_0xc6aa29['gridProfile'])||null;if(_0x3d5f6b[_0x4bbd55(0x231)](isUndefined,_0x3d7bdb)){if(_0x3d5f6b['QkrhZ'](_0x3d5f6b[_0x4bbd55(0x226)],_0x3d5f6b[_0x4bbd55(0x29d)])){const _0xf3e7df={};_0xf3e7df[_0x4bbd55(0x21d)]=_0x3d5f6b[_0x4bbd55(0x1c2)],_0xf3e7df[_0x4bbd55(0x1c0)]=_0x3d5f6b[_0x4bbd55(0x1d4)];const _0x216329={};_0x216329[_0x4bbd55(0x21d)]=_0x3d5f6b[_0x4bbd55(0x29e)],_0x216329['type']=_0x3d5f6b[_0x4bbd55(0x1d4)];const _0x2bc3a7={};_0x2bc3a7[_0x4bbd55(0x21d)]=_0x3d5f6b[_0x4bbd55(0x1dc)],_0x2bc3a7['type']=_0x3d5f6b['QUGwH'];const _0x4a3ee2={};_0x4a3ee2[_0x4bbd55(0x21d)]=_0x3d5f6b[_0x4bbd55(0x212)],_0x4a3ee2['type']=_0x3d5f6b[_0x4bbd55(0x1d4)];const _0x2fa913={};return _0x2fa913[_0x4bbd55(0x20f)]=_0xf3e7df,_0x2fa913[_0x4bbd55(0x23f)]=_0x216329,_0x2fa913['region']=_0x2bc3a7,_0x2fa913['grid-profile']=_0x4a3ee2,_0x45feda['usage'](_0x2c95b7[_0x4bbd55(0x1c4)])[_0x4bbd55(0x1f5)](_0x57536c)['options'](_0x2fa913)[_0x4bbd55(0x228)](_0x3d5f6b[_0x4bbd55(0x213)])[_0x4bbd55(0x25d)];}else _0x397d03=_0x4bbd55(0x272)+_0xc6aa29[_0x4bbd55(0x1f9)]+_0x4bbd55(0x234),await _0x3d5f6b[_0x4bbd55(0x28f)](reportToGalactusAndSendToEDS,_0xc6aa29,_0xdfec,_0x397d03,messageTypes[_0x4bbd55(0x1f2)],_0x3d5f6b['RzVqb'],_0x3d5f6b['SbwQR'],_0x3d5f6b[_0x4bbd55(0x203)]),logger[_0x4bbd55(0x26a)](_0x397d03),process[_0x4bbd55(0x273)](0x1);}else _0x3d5f6b[_0x4bbd55(0x232)](_0x3d5f6b[_0x4bbd55(0x1cf)],_0x3d5f6b[_0x4bbd55(0x22d)])?_0x5b246c=_0x3d7bdb:_0xa517d7[_0x4bbd55(0x2b3)](_0x4bbd55(0x295)+_0x291f4f[_0x4bbd55(0x1e2)]+_0x4bbd55(0x22c));}}else _0x3d5f6b[_0x4bbd55(0x2a0)](_0x3d5f6b[_0x4bbd55(0x257)],_0x3d5f6b[_0x4bbd55(0x1b0)])?(_0x1ee541['error'](_0x3d5f6b[_0x4bbd55(0x28e)]),_0x5a3fe5[_0x4bbd55(0x273)](0x1)):process[_0x4bbd55(0x273)](0x1);const _0xc033d9={};_0xc033d9[_0x4bbd55(0x1c0)]=WS_EVENTS[_0x4bbd55(0x26f)],_0xc033d9[_0x4bbd55(0x1c6)]=_0x3d5f6b[_0x4bbd55(0x2b7)],webSocketUtils[_0x4bbd55(0x2a3)](_0xdfec,_0xc033d9),global_registry[_0x4bbd55(0x244)]=_0x5b246c[_0x4bbd55(0x244)],global_registry[_0x4bbd55(0x247)]=_0x5b246c['region'],global_registry[_0x4bbd55(0x1e2)]=_0x5b246c['clusterName'];}}else _0x3d5f6b['fSpCL'](_0x3d5f6b[_0x4bbd55(0x265)],_0x3d5f6b[_0x4bbd55(0x1de)])?_0x8f8b94[_0x4bbd55(0x242)](_0x3d5f6b[_0x4bbd55(0x1da)]):(logger[_0x4bbd55(0x26a)](_0x3d5f6b[_0x4bbd55(0x28e)]),process['exit'](0x1));}}else{const _0x3f068a={};_0x3f068a[_0x4bbd55(0x1c0)]=_0x5991e9['LOG'],_0x3f068a[_0x4bbd55(0x1c6)]=_0x475c57,_0x465158['sendEventToBackend'](_0x2930c8,_0x3f068a,_0x3d5f6b['CacDo'],!![]);}}catch(_0x1be2f7){_0x3d5f6b[_0x4bbd55(0x298)](_0x3d5f6b[_0x4bbd55(0x1ef)],_0x3d5f6b[_0x4bbd55(0x1ef)])?_0x32d682+='Cluster\x20'+_0x478787[_0x4bbd55(0x1e2)]+_0x4bbd55(0x239):(_0x397d03=_0x4bbd55(0x24d)+_0x1be2f7+':\x20'+_0x1be2f7[_0x4bbd55(0x1d1)],logger['error'](_0x397d03),await _0x3d5f6b['HFHTT'](reportToGalactusAndSendToEDS,_0xc6aa29,_0xdfec,_0x397d03,messageTypes[_0x4bbd55(0x1f2)],_0x3d5f6b[_0x4bbd55(0x2a7)],_0x3d5f6b[_0x4bbd55(0x224)],_0x3d5f6b[_0x4bbd55(0x203)]),process[_0x4bbd55(0x273)](0x1));}}function a17_0x3eb5(){const _0x1a1f4d=['isClusterPresent','clusterName','RzFAn','method','===\x20Precheck\x20Report\x20-\x20','will\x20be\x20created','xkXRr','getUTCHours','FcRxT','ryPgm','DZSSH','N/A','RQySa','gIWtG','MzoYI','TMSjz','DmuXI','ERROR','getUTCMonth','pre-check-grid-called','epilogue','is\x20already\x20present','pXmfn','5961ZMyHDn','gridProfile','\x20\x20Message:\x20','nDLBI','nuqMW','utf-8','header','NhZhg','HNZhR','hnItJ','Report\x20saved\x20in\x20','CacDo','error\x20stack\x20:\x20','0|2|1|3|4','checkAccess','Failed\x20in\x20pre-check!\x20Error:\x20','isTrialGridAccessible','GocIp','../../utils/utilityMethods','../../utils/instrumentationUtils','HhmZx','VlLAc','GET','cluster-name','reconnecting-websocket','Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup','DPgMa','ADpYk','1539BWzTuP','authHeader','.\x20Please\x20provide\x20all\x20required\x20arguments.','https://','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','isTls1_2_SUPPORTED','credential-not-found','vktlZ','jsIzO','description','gfJZj','NZvwY','vAEUT','DXiQl','SeDTL','Grid\x20profile\x20fetched\x20for\x20pre-check','QZmco','KTLgL','tGxWt','21637iRPIQg','help','find','Success','bstackAccesskey','`\x20already\x20exists','lLneW','UpAkf','WiSGh','TISrJ','EfcYZ','jpDZD','username','.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again','uCpWw','pfNOB','\x20\x20Stack:\x20','YEbdk','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','../../config/constants','CClHS','SAqbU','aFrYr','includes','cloud-provider','options','SxbWe','push','../../config/logger','cloudProvider','RDpQJ','getUTCFullYear','clusterRegion','WebSocket','usage','log/report_','uvuJf','handler','Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','mvtXZ','.txt','SSL\x20Configured','LUygd','code','parse','AeARG','\x20region\x20-\x20','VcSVU','vIfee','AqEWl','QyJCh','HMAUg',']\x20status\x20:\x20','argv','47624vMVhKu','FuVfl','44TZbxgz','connectionTimeout','response','WLwzP','AmqXI','ttCIo','804QrqjES','uCaQG','delay','waPEO','error','uNeqi','1TaajXy','<PasswordPlaceholder>','ZplFt','LOG','HzAzw','Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','Invalid\x20input.\x20grid\x20profiles:\x20','exit','997398VbiYnL','Hycxw','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','zLkww','UREvs','miRlS','`\x20,error\x20:\x20','pfGsy','aFfUz','HZZaS','zuAYq','join','9970KoKNAG','YFrYJ','JlaQH','fvxKY','Status:\x20','tTFSq','sEXJs','replace','Setting\x20cloud\x20provider\x20as\x20','length','DSVrP','OPXnp','rgCCf','JecaV','OFcqs','jprus','\x20data\x20:\x20','Browserstack','TqmbS','yfoOn','bxnld','Cluster\x20`','IpjBv','phHfi','nHEWF','ZeZVi','DwzGM','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','INFO','WFIgt','IsrPf','Whitelisted\x20browserstack','ptFgl','toLowerCase','Cluster\x20','sendEventToBackend','WqBZB','XepqH','grid\x20profile\x20flow\x20','RzVqb','cloud-provider-not-supported','stringify','DkZJk','requestId','getUTCMinutes','LwteO','Message:\x20','body','EQTwT','unable\x20to\x20verify\x20if\x20cluster\x20`','zyTiC','info','\x20error\x20:\x20','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','accessResp','xkXWa','toolInstalledResp','grid','mTCwu','ZZuwT','dummy-grid','split','region','XUKFV','<UsernamePlaceholder>','\x20===\x0a\x0a','AeTVd','lMsyP','2241216LjasQi','fSpCL','CSvfZ','/packages/cli/get-all-grid-profiles','pre-check','status','User\x20Access','owtPe','string','bstackUsername','stack\x20trace\x20','type','pre-check-failed','sWjzW','desc','pre_check','uuid','message','zirRx','Error\x20Details:\x0a','cYVqs','pZznM','WBPYw','aOdrw','350ZfzoaU','Failure','iubDU','122810MMeoYh','stack','Missing\x20required\x20arguments:\x20','init','QUGwH','CLOUD_PROVIDER','pre-check-grid-profile-empty','TgndI','XAYvc','cluster-check-failed-','qqFZi','password','pSKNY','debug','tDdsa','ZBleu','\x20\x20Code:\x20'];a17_0x3eb5=function(){return _0x1a1f4d;};return a17_0x3eb5();}function printResponse(_0xa3baba,_0x3c9c98){const _0x175d27=a17_0x4e7937,_0x5c9d5b={};_0x5c9d5b[_0x175d27(0x222)]='region',_0x5c9d5b['RnTdv']=function(_0x598ab5,_0x4e9321){return _0x598ab5!==_0x4e9321;},_0x5c9d5b[_0x175d27(0x1e9)]=_0x175d27(0x267);const _0x2e5d26=_0x5c9d5b;logger['info']('['+_0xa3baba+_0x175d27(0x25c)+_0x3c9c98[_0x175d27(0x1ba)]+_0x175d27(0x290)+_0x3c9c98['data']+_0x175d27(0x2b4)+_0x3c9c98[_0x175d27(0x26a)]),_0x3c9c98[_0x175d27(0x26a)]&&(_0x2e5d26['RnTdv'](_0x2e5d26[_0x175d27(0x1e9)],_0x2e5d26['FcRxT'])?_0x1be04e[_0x175d27(0x242)](_0x2e5d26[_0x175d27(0x222)]):logger[_0x175d27(0x26a)](_0x175d27(0x204)+_0x3c9c98[_0x175d27(0x26a)][_0x175d27(0x1d1)]));}function a17_0x28fd(_0x3d36ac,_0x34a70d){const _0x3eb562=a17_0x3eb5();return a17_0x28fd=function(_0x28fd81,_0x28b611){_0x28fd81=_0x28fd81-0x1ab;let _0x3ef454=_0x3eb562[_0x28fd81];return _0x3ef454;},a17_0x28fd(_0x3d36ac,_0x34a70d);}async function generateReport(_0x79bb0b,_0x3f92eb){const _0x36e603=a17_0x4e7937,_0x1b7818={'TgndI':function(_0x3b1a39,_0x103bb8){return _0x3b1a39+_0x103bb8;},'HMAUg':_0x36e603(0x22a),'UREvs':'Failure','WiSGh':function(_0x5661d1,_0x2336bc){return _0x5661d1||_0x2336bc;},'CClHS':_0x36e603(0x1ec),'IpjBv':'Error\x20Details:\x0a','owtPe':'Cluster\x20details\x0a-----------------------\x0a','YqqXr':function(_0x223589,_0x124f2f){return _0x223589!=_0x124f2f;},'Hycxw':_0x36e603(0x1f6),'pXmfn':_0x36e603(0x1e6),'KTLgL':function(_0x2a47d5){return _0x2a47d5();}};let _0x4fe6a4=_0x36e603(0x1e5)+global_registry[_0x36e603(0x244)]+_0x36e603(0x1b2);return _0x79bb0b['forEach']((_0xb5cf66,_0x38bc75)=>{const _0x599126=_0x36e603,{header:_0x434443,response:_0x13ffe0}=_0xb5cf66,{status:_0x39129c,data:_0x5d0e4c,error:_0x409f39}=_0x13ffe0;_0x4fe6a4+=_0x434443+'\x20#'+_0x1b7818[_0x599126(0x1d7)](_0x38bc75,0x1)+'\x0a',_0x4fe6a4+=_0x599126(0x284)+(_0x39129c?_0x1b7818[_0x599126(0x25b)]:_0x1b7818[_0x599126(0x278)])+'\x0a',_0x4fe6a4+=_0x599126(0x2ae)+_0x1b7818[_0x599126(0x22f)](_0x5d0e4c,_0x1b7818[_0x599126(0x23b)])+'\x0a',_0x409f39&&(_0x4fe6a4+=_0x1b7818[_0x599126(0x296)],_0x4fe6a4+=_0x599126(0x1fa)+(_0x409f39[_0x599126(0x1c6)]||_0x1b7818['CClHS'])+'\x0a',_0x4fe6a4+=_0x599126(0x1e0)+(_0x409f39[_0x599126(0x253)]||_0x1b7818[_0x599126(0x23b)])+'\x0a',_0x4fe6a4+=_0x599126(0x237)+(_0x409f39[_0x599126(0x1d1)]||_0x1b7818[_0x599126(0x23b)])+'\x0a'),_0x4fe6a4+='\x0a\x0a';}),_0x4fe6a4+=_0x1b7818[_0x36e603(0x1bc)],_0x1b7818['YqqXr'](_0x3f92eb,null)?_0x4fe6a4+=_0x36e603(0x2a2)+global_registry[_0x36e603(0x1e2)]+'\x20'+(_0x3f92eb?_0x1b7818[_0x36e603(0x275)]:_0x1b7818[_0x36e603(0x1f7)])+'\x0a\x0a':_0x4fe6a4+=_0x36e603(0x2a2)+global_registry[_0x36e603(0x1e2)]+'\x20details\x20cannot\x20be\x20fetched\x0a\x0a',_0x4fe6a4+=_0x1b7818[_0x36e603(0x225)](getSystemMetaData),_0x4fe6a4;};exports[a17_0x4e7937(0x24c)]=async function(_0x139f3a){const _0x41b4e4=a17_0x4e7937,_0x32f4a3={'lMsyP':function(_0x58aa88){return _0x58aa88();},'iuIpy':'Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','XAYvc':function(_0x3edcb1,_0x1b9514,_0x589ce0,_0x512ddc,_0x2b4d81,_0x353637,_0x4c0a85,_0x1d3757){return _0x3edcb1(_0x1b9514,_0x589ce0,_0x512ddc,_0x2b4d81,_0x353637,_0x4c0a85,_0x1d3757);},'KIWSn':_0x41b4e4(0x1f4),'tONYR':_0x41b4e4(0x21a),'pfGsy':_0x41b4e4(0x26a),'bxnld':function(_0x54dedb,_0x5a0e2f,_0x687570,_0x51e708,_0x20b1e2,_0x115399,_0x2b3367){return _0x54dedb(_0x5a0e2f,_0x687570,_0x51e708,_0x20b1e2,_0x115399,_0x2b3367);},'AmqXI':function(_0x3f01dd){return _0x3f01dd();},'uCpWw':_0x41b4e4(0x1b1),'ZZuwT':_0x41b4e4(0x26d),'NhZhg':function(_0x363cf4,_0x17401d,_0x5b7ff6){return _0x363cf4(_0x17401d,_0x5b7ff6);},'uvuJf':function(_0x2250a8,_0xd18528,_0x2e2ae5,_0x440c17,_0x23765b,_0x1aeced,_0x2e1d22){return _0x2250a8(_0xd18528,_0x2e2ae5,_0x440c17,_0x23765b,_0x1aeced,_0x2e1d22);},'ryPgm':_0x41b4e4(0x1ad),'ldJgO':_0x41b4e4(0x2b8),'zuAYq':_0x41b4e4(0x205),'WBPYw':function(_0x4480eb,_0x1cd3a3,_0x199094,_0x1c5312,_0x4e04dd,_0x2008b9,_0x4447c4,_0x2a3e44){return _0x4480eb(_0x1cd3a3,_0x199094,_0x1c5312,_0x4e04dd,_0x2008b9,_0x4447c4,_0x2a3e44);},'pZznM':function(_0x299a2b,_0x4215f3,_0x511bc7){return _0x299a2b(_0x4215f3,_0x511bc7);},'aFfUz':_0x41b4e4(0x2b6),'nDLBI':function(_0x48ffe4){return _0x48ffe4();},'ZxkEv':function(_0x2e64c5,_0x20e58e,_0x5b48d8){return _0x2e64c5(_0x20e58e,_0x5b48d8);},'RQySa':_0x41b4e4(0x208),'FuVfl':function(_0x1cf4ae,_0x4781bc){return _0x1cf4ae(_0x4781bc);},'DXiQl':'TLSv1_2_client_method','HZZaS':function(_0x2f9811,_0x92b52d,_0x6e96b4){return _0x2f9811(_0x92b52d,_0x6e96b4);},'phHfi':_0x41b4e4(0x219),'yfoOn':'Tool\x20Installed','CSvfZ':_0x41b4e4(0x1bb),'AqEWl':_0x41b4e4(0x29f),'vmylW':_0x41b4e4(0x251),'DvlFu':function(_0xbb1f37,_0x2c7b7e,_0x109fd9){return _0xbb1f37(_0x2c7b7e,_0x109fd9);},'LwteO':function(_0x53a952,_0xfee324){return _0x53a952+_0xfee324;},'uNeqi':_0x41b4e4(0x1fd),'PuTxu':_0x41b4e4(0x1c1)};let _0x19b604,_0x1440ba;try{global_registry[_0x41b4e4(0x2ab)]=_0x32f4a3['lMsyP'](uuidv4);!fs['existsSync'](_0x32f4a3[_0x41b4e4(0x1b4)](getCredentialsPath))&&(_0x1440ba=_0x32f4a3['iuIpy'],logger[_0x41b4e4(0x26a)](_0x1440ba),await _0x32f4a3[_0x41b4e4(0x1d8)](reportToGalactusAndSendToEDS,_0x139f3a,_0x19b604,_0x1440ba,messageTypes['ERROR'],_0x32f4a3['KIWSn'],_0x32f4a3['tONYR'],_0x32f4a3[_0x41b4e4(0x27b)]),process[_0x41b4e4(0x273)](0x1));_0x32f4a3['bxnld'](sendInstrumentationEvent,_0x139f3a,_0x32f4a3['KIWSn'],messageTypes[_0x41b4e4(0x29c)],null,null,_0x139f3a);const _0x4e5040=JSON[_0x41b4e4(0x254)](fs['readFileSync'](_0x32f4a3[_0x41b4e4(0x264)](getCredentialsPath)));global_registry[_0x41b4e4(0x1be)]=_0x4e5040[_0x41b4e4(0x291)]['username'],global_registry['bstackAccesskey']=_0x4e5040[_0x41b4e4(0x291)][_0x41b4e4(0x1db)];const _0x11d6ca=WS_ENDPOINT[_0x41b4e4(0x287)](_0x32f4a3[_0x41b4e4(0x235)],_0x4e5040[_0x41b4e4(0x291)][_0x41b4e4(0x233)])['replace'](_0x32f4a3[_0x41b4e4(0x1ac)],_0x4e5040[_0x41b4e4(0x291)][_0x41b4e4(0x1db)]),_0x480fe7={};_0x480fe7[_0x41b4e4(0x248)]=ws,_0x480fe7[_0x41b4e4(0x261)]=0x36ee80,_0x19b604=new ReconnectingWebSocket(_0x11d6ca,[],_0x480fe7),global_registry[_0x41b4e4(0x215)]=_0x32f4a3[_0x41b4e4(0x1ff)](getAuthHeader,global_registry[_0x41b4e4(0x1be)],global_registry[_0x41b4e4(0x22b)]),await _0x32f4a3[_0x41b4e4(0x1ff)](inputValidation,_0x139f3a,_0x19b604),logger[_0x41b4e4(0x2b3)]('Pre-check\x20running\x20for\x20Cloud\x20-\x20'+global_registry[_0x41b4e4(0x244)]+_0x41b4e4(0x256)+global_registry[_0x41b4e4(0x247)]);let _0x9b5bc8=await _0x32f4a3[_0x41b4e4(0x24b)](getCloudProviderObjectWithOutInit,global_registry[_0x41b4e4(0x244)],global_registry[_0x41b4e4(0x1e2)],_0x32f4a3[_0x41b4e4(0x1ea)],_0x19b604,webSocketUtils,_0x139f3a);const _0x855c7c=await _0x9b5bc8['isCliToolInstalled']();_0x32f4a3[_0x41b4e4(0x1ff)](printResponse,_0x32f4a3['ldJgO'],_0x855c7c),_0x9b5bc8=await _0x9b5bc8[_0x41b4e4(0x1d3)]();let _0x565048=![];try{_0x565048=await _0x9b5bc8[_0x41b4e4(0x1e1)]();}catch(_0x416018){const _0x3bd5de=_0x32f4a3[_0x41b4e4(0x27e)][_0x41b4e4(0x1ae)]('|');let _0x444079=0x0;while(!![]){switch(_0x3bd5de[_0x444079++]){case'0':_0x1440ba=_0x41b4e4(0x2b1)+global_registry[_0x41b4e4(0x1e2)]+'`\x20is\x20present\x20in\x20region\x20`'+global_registry['clusterRegion']+_0x41b4e4(0x27a)+_0x416018;continue;case'1':logger['error'](_0x1440ba);continue;case'2':_0x565048=null;continue;case'3':_0x1440ba+='\x0a'+JSON[_0x41b4e4(0x2a9)](_0x416018[_0x41b4e4(0x1d1)]);continue;case'4':await _0x32f4a3[_0x41b4e4(0x1cb)](reportToGalactusAndSendToEDS,_0x139f3a,_0x19b604,_0x1440ba,messageTypes[_0x41b4e4(0x1f2)],_0x32f4a3['KIWSn'],_0x41b4e4(0x1d9)+global_registry[_0x41b4e4(0x244)],_0x32f4a3[_0x41b4e4(0x27b)]);continue;}break;}}_0x565048&&logger['info'](_0x41b4e4(0x295)+global_registry[_0x41b4e4(0x1e2)]+_0x41b4e4(0x22c));const _0xa3da57=await _0x9b5bc8[_0x41b4e4(0x206)]();_0x32f4a3[_0x41b4e4(0x1ca)](printResponse,_0x32f4a3[_0x41b4e4(0x27c)],_0xa3da57);const _0x19e420=await _0x32f4a3[_0x41b4e4(0x1fb)](curlRequest);_0x32f4a3['ZxkEv'](printResponse,_0x32f4a3[_0x41b4e4(0x1ed)],_0x19e420);const _0x1f140a=await _0x32f4a3[_0x41b4e4(0x25f)](isTlsSupported,_0x32f4a3[_0x41b4e4(0x221)]);_0x32f4a3[_0x41b4e4(0x27d)](printResponse,_0x32f4a3[_0x41b4e4(0x297)],_0x1f140a);const _0x19278a={};_0x19278a[_0x41b4e4(0x1fe)]=_0x32f4a3[_0x41b4e4(0x293)],_0x19278a[_0x41b4e4(0x262)]=_0x855c7c;const _0x133f1e={};_0x133f1e[_0x41b4e4(0x1fe)]=_0x32f4a3[_0x41b4e4(0x1b7)],_0x133f1e[_0x41b4e4(0x262)]=_0xa3da57;const _0x1a88c7={};_0x1a88c7[_0x41b4e4(0x1fe)]=_0x32f4a3[_0x41b4e4(0x259)],_0x1a88c7[_0x41b4e4(0x262)]=_0x19e420;const _0xf316b={};_0xf316b[_0x41b4e4(0x1fe)]=_0x32f4a3['vmylW'],_0xf316b['response']=_0x1f140a;const _0x3e7b52=[_0x19278a,_0x133f1e,_0x1a88c7,_0xf316b],_0x213957=await _0x32f4a3['DvlFu'](generateReport,_0x3e7b52,_0x565048),_0x1748ef=new Date(),_0x227ef3=_0x1748ef[_0x41b4e4(0x246)]()+'_'+_0x32f4a3[_0x41b4e4(0x2ad)](_0x1748ef[_0x41b4e4(0x1f3)](),0x1)+'_'+_0x1748ef['getUTCDate']()+'_'+_0x1748ef[_0x41b4e4(0x1e8)]()+'_'+_0x1748ef[_0x41b4e4(0x2ac)](),_0x48575d=_0x41b4e4(0x24a)+_0x227ef3+_0x41b4e4(0x250);fs['writeFileSync'](_0x48575d,_0x213957,_0x32f4a3[_0x41b4e4(0x26b)]),logger[_0x41b4e4(0x2b3)](_0x41b4e4(0x202)+_0x48575d),process[_0x41b4e4(0x273)](0x0);}catch(_0x44fb6f){let _0x238a4e=_0x41b4e4(0x207)+_0x44fb6f+'\x20';logger[_0x41b4e4(0x26a)](_0x238a4e),_0x238a4e+='\x0a'+JSON[_0x41b4e4(0x2a9)](_0x44fb6f[_0x41b4e4(0x1d1)]),logger[_0x41b4e4(0x1dd)](_0x41b4e4(0x1bf)+_0x44fb6f['stack']);if(_0x19b604){const _0x2ab361={};_0x2ab361[_0x41b4e4(0x1c0)]=WS_EVENTS[_0x41b4e4(0x26f)],_0x2ab361[_0x41b4e4(0x1c6)]=_0x238a4e,webSocketUtils[_0x41b4e4(0x2a3)](_0x19b604,_0x2ab361,_0x32f4a3[_0x41b4e4(0x27b)],!![]);}await webSocketUtils[_0x41b4e4(0x268)](0x7d0);const _0xc0f43d={};_0xc0f43d[_0x41b4e4(0x26a)]=_0x238a4e,await _0x32f4a3[_0x41b4e4(0x294)](sendInstrumentationEvent,_0x139f3a,_0x32f4a3['KIWSn'],messageTypes[_0x41b4e4(0x1f2)],_0x32f4a3['PuTxu'],_0xc0f43d,_0x139f3a),process[_0x41b4e4(0x273)](0x1);}};