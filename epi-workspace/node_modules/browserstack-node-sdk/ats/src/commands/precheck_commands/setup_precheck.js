const a17_0x537a3f=a17_0x567e;(function(_0x5e85fb,_0x599951){const _0x599be2=a17_0x567e,_0xd50579=_0x5e85fb();while(!![]){try{const _0x50824e=parseInt(_0x599be2(0x255))/0x1+parseInt(_0x599be2(0x1cd))/0x2+parseInt(_0x599be2(0x1aa))/0x3*(-parseInt(_0x599be2(0x202))/0x4)+-parseInt(_0x599be2(0x212))/0x5*(-parseInt(_0x599be2(0x1c7))/0x6)+parseInt(_0x599be2(0x217))/0x7*(parseInt(_0x599be2(0x214))/0x8)+parseInt(_0x599be2(0x262))/0x9*(-parseInt(_0x599be2(0x254))/0xa)+parseInt(_0x599be2(0x1f9))/0xb*(parseInt(_0x599be2(0x1c3))/0xc);if(_0x50824e===_0x599951)break;else _0xd50579['push'](_0xd50579['shift']());}catch(_0x50d345){_0xd50579['push'](_0xd50579['shift']());}}}(a17_0x4bda,0xd8744));const fs=require('fs'),ws=require('ws'),got=require('got'),{v4:uuidv4}=require('uuid'),ReconnectingWebSocket=require(a17_0x537a3f(0x273)),{getCredentialsPath,reportToGalactusAndSendToEDS,getAuthHeader,responseValidation,isUndefined,curlRequest,isTlsSupported,getSystemMetaData}=require(a17_0x537a3f(0x1e9)),{logger}=require('../../config/logger'),{HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,global_registry,messageTypes,WS_ENDPOINT,WS_EVENTS,ALL_SUPPORTED_CLOUD_PROVIDERS,AG_API_URL,DEFAULT_CLUSTER_DETAILS}=require(a17_0x537a3f(0x241)),{getCloudProviderObjectWithOutInit}=require('../../cloudproviders/utils'),webSocketUtils=require('../../utils/webSocketUtils'),{sendInstrumentationEvent}=require('../../utils/instrumentationUtils');exports[a17_0x537a3f(0x281)]=a17_0x537a3f(0x1b6),exports['desc']=a17_0x537a3f(0x28a),exports[a17_0x537a3f(0x25b)]=function(_0xfea461){const _0x9b1027=a17_0x537a3f,_0x2e4786={};_0x2e4786[_0x9b1027(0x1dd)]='Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.',_0x2e4786[_0x9b1027(0x21b)]=_0x9b1027(0x271),_0x2e4786[_0x9b1027(0x256)]=_0x9b1027(0x26d),_0x2e4786['mzDPS']=_0x9b1027(0x1d6),_0x2e4786[_0x9b1027(0x1d0)]=_0x9b1027(0x298),_0x2e4786['vLOTs']=_0x9b1027(0x1b8);const _0x36e998=_0x2e4786,_0x25eb52={};_0x25eb52[_0x9b1027(0x280)]=_0x36e998[_0x9b1027(0x1dd)],_0x25eb52[_0x9b1027(0x257)]=_0x36e998['pHBuz'];const _0x6305f3={};_0x6305f3[_0x9b1027(0x280)]=_0x36e998[_0x9b1027(0x256)],_0x6305f3['type']=_0x36e998[_0x9b1027(0x21b)];const _0x4db234={};_0x4db234['description']=_0x36e998['mzDPS'],_0x4db234[_0x9b1027(0x257)]=_0x36e998['pHBuz'];const _0x4b9f10={};_0x4b9f10[_0x9b1027(0x280)]=_0x36e998[_0x9b1027(0x1d0)],_0x4b9f10[_0x9b1027(0x257)]=_0x36e998['pHBuz'];const _0x4909cb={};return _0x4909cb[_0x9b1027(0x213)]=_0x25eb52,_0x4909cb['cloud-provider']=_0x6305f3,_0x4909cb['region']=_0x4db234,_0x4909cb[_0x9b1027(0x1f0)]=_0x4b9f10,_0xfea461['usage'](HELP_HEADER_MESSAGE[_0x9b1027(0x20e)])[_0x9b1027(0x28d)](HELP_FOOTER_MESSAGE)[_0x9b1027(0x231)](_0x4909cb)[_0x9b1027(0x1b8)](_0x36e998[_0x9b1027(0x26f)])[_0x9b1027(0x204)];};function a17_0x567e(_0x192211,_0xd2c017){const _0x4bda3f=a17_0x4bda();return a17_0x567e=function(_0x567ef1,_0x23fbf9){_0x567ef1=_0x567ef1-0x1a1;let _0x2b050a=_0x4bda3f[_0x567ef1];return _0x2b050a;},a17_0x567e(_0x192211,_0xd2c017);}async function inputValidation(_0x43f5ef,_0x433631){const _0xbd92c7=a17_0x537a3f,_0x5ed859={'YYmeE':_0xbd92c7(0x223),'VJryA':'string','vdpvm':_0xbd92c7(0x26d),'NTTUo':'Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','RUILd':_0xbd92c7(0x298),'kzTXq':_0xbd92c7(0x1b8),'ojPEk':_0xbd92c7(0x246),'WxHGD':'N/A','knMmZ':_0xbd92c7(0x1f7),'eNMch':_0xbd92c7(0x26e),'IzBMa':_0xbd92c7(0x213),'AzdGc':function(_0x67e028,_0x5003ed){return _0x67e028+_0x5003ed;},'iEJLX':_0xbd92c7(0x263),'vJYqu':'Failure','CZZAB':function(_0x3f9617,_0xf202a6){return _0x3f9617||_0xf202a6;},'QuCtn':_0xbd92c7(0x1d4),'WUpPj':_0xbd92c7(0x1c0),'aunyZ':_0xbd92c7(0x1ea),'pnlIl':'region','rsLRD':function(_0x4594f4,_0x1388d2){return _0x4594f4===_0x1388d2;},'RthbA':'soLFh','FnzJX':function(_0x4ca77f,_0x58418c){return _0x4ca77f!==_0x58418c;},'IllMK':_0xbd92c7(0x22a),'KjCoo':function(_0x68caa0,_0x3783e5){return _0x68caa0!==_0x3783e5;},'MVGJI':'qUgFX','piuvn':_0xbd92c7(0x1ab),'pborz':function(_0x16a7af,_0x34d54a){return _0x16a7af!==_0x34d54a;},'wUQDK':'qTfSG','CUJxl':'RzJyA','hsVXu':function(_0x496d4c,_0x15937c){return _0x496d4c>_0x15937c;},'HLMwq':function(_0x44ed87,_0x42f39e){return _0x44ed87===_0x42f39e;},'YJcjQ':_0xbd92c7(0x22c),'Sppdd':_0xbd92c7(0x216),'KFKBv':function(_0x102cbc,_0x471d47,_0x248493,_0x1f6636,_0x34d1eb,_0x1e0ce2,_0x147404,_0x2ec55f){return _0x102cbc(_0x471d47,_0x248493,_0x1f6636,_0x34d1eb,_0x1e0ce2,_0x147404,_0x2ec55f);},'wwvlG':_0xbd92c7(0x291),'rpBSz':'pre-check-cluster-args-not-passed','ZrzTc':function(_0x390139,_0x433472){return _0x390139!==_0x433472;},'zyNvG':_0xbd92c7(0x234),'ldFpO':'LMBGT','jdkbz':_0xbd92c7(0x20a),'xhool':function(_0x334fc7,_0x53c081,_0x5f1a13,_0x8d184,_0x309083,_0x59d7fe,_0x5c2f19,_0x4d7405){return _0x334fc7(_0x53c081,_0x5f1a13,_0x8d184,_0x309083,_0x59d7fe,_0x5c2f19,_0x4d7405);},'TRHvG':_0xbd92c7(0x209),'kDdPv':_0xbd92c7(0x290),'nGagK':function(_0x6081c4,_0x12e4f1){return _0x6081c4!==_0x12e4f1;},'bSIhC':_0xbd92c7(0x240),'eODsq':_0xbd92c7(0x1c5),'rwxOz':function(_0x50a0fe,_0x22728b,_0x2fc6c2){return _0x50a0fe(_0x22728b,_0x2fc6c2);},'IqLyn':function(_0x2b1cd6,_0x1a29cb,_0x1f2d1b,_0x3b2eb9,_0xc94f47,_0x2dbbc2){return _0x2b1cd6(_0x1a29cb,_0x1f2d1b,_0x3b2eb9,_0xc94f47,_0x2dbbc2);},'IajtU':_0xbd92c7(0x25e),'dYATM':_0xbd92c7(0x1f0),'ZIHMM':function(_0x3603fc,_0x1a6fd1){return _0x3603fc!==_0x1a6fd1;},'CTzkX':_0xbd92c7(0x1f5),'NRoKf':function(_0x1bd54b,_0x435191){return _0x1bd54b(_0x435191);},'axULT':function(_0x380d41,_0x1f6eb2){return _0x380d41!==_0x1f6eb2;},'QxfXv':_0xbd92c7(0x274),'TGTAh':'pre-check-grid-profile-empty','tmwYK':_0xbd92c7(0x1d5),'jUoaB':_0xbd92c7(0x1a3),'cIqjM':function(_0x17bd29,_0x44e8d5){return _0x17bd29===_0x44e8d5;},'YzwyI':_0xbd92c7(0x1a2),'SqwgQ':_0xbd92c7(0x296),'AmRum':_0xbd92c7(0x289),'vRXpd':_0xbd92c7(0x1cb),'qljUf':'jJmYI','NpYpK':function(_0x2a097d,_0x1f294b,_0x22c03a,_0x595884,_0x2e1ba5,_0x4d8bda,_0x82d3fc,_0x49317f){return _0x2a097d(_0x1f294b,_0x22c03a,_0x595884,_0x2e1ba5,_0x4d8bda,_0x82d3fc,_0x49317f);}};let _0x5ce7f2;try{if(_0x5ed859[_0xbd92c7(0x27e)](_0x5ed859[_0xbd92c7(0x20c)],_0x5ed859['RthbA'])){if(_0x43f5ef[_0xbd92c7(0x248)]||_0x43f5ef[_0xbd92c7(0x29a)]||_0x43f5ef[_0xbd92c7(0x215)]){if(_0x5ed859[_0xbd92c7(0x265)](_0x5ed859[_0xbd92c7(0x1d3)],_0x5ed859[_0xbd92c7(0x1d3)])){const _0x4497e5={};_0x4497e5[_0xbd92c7(0x280)]=_0x5ed859[_0xbd92c7(0x1ec)],_0x4497e5[_0xbd92c7(0x257)]=_0x5ed859['VJryA'];const _0x134c04={};_0x134c04['description']=_0x5ed859[_0xbd92c7(0x27f)],_0x134c04['type']=_0x5ed859['VJryA'];const _0x441c21={};_0x441c21['description']=_0x5ed859['NTTUo'],_0x441c21['type']=_0x5ed859[_0xbd92c7(0x1ed)];const _0x292bb2={};_0x292bb2[_0xbd92c7(0x280)]=_0x5ed859['RUILd'],_0x292bb2[_0xbd92c7(0x257)]=_0x5ed859[_0xbd92c7(0x1ed)];const _0x215f28={};return _0x215f28[_0xbd92c7(0x213)]=_0x4497e5,_0x215f28['cloud-provider']=_0x134c04,_0x215f28[_0xbd92c7(0x215)]=_0x441c21,_0x215f28[_0xbd92c7(0x1f0)]=_0x292bb2,_0x4d946b[_0xbd92c7(0x233)](_0x159313['pre_check'])[_0xbd92c7(0x28d)](_0x3f0da8)[_0xbd92c7(0x231)](_0x215f28)['help'](_0x5ed859[_0xbd92c7(0x28e)])[_0xbd92c7(0x204)];}else{const _0x86ac7c=[];!_0x43f5ef[_0xbd92c7(0x248)]&&(_0x5ed859[_0xbd92c7(0x252)](_0x5ed859[_0xbd92c7(0x218)],_0x5ed859['MVGJI'])?_0x749afb=_0x9fbba9:_0x86ac7c[_0xbd92c7(0x1af)](_0x5ed859[_0xbd92c7(0x1fc)]));;!_0x43f5ef['cloudProvider']&&(_0x5ed859[_0xbd92c7(0x27e)](_0x5ed859['piuvn'],_0x5ed859[_0xbd92c7(0x24d)])?_0x86ac7c[_0xbd92c7(0x1af)](_0x5ed859[_0xbd92c7(0x261)]):(_0x1e7bc1+=_0x5ed859[_0xbd92c7(0x299)],_0x313af2+='\x20\x20Message:\x20'+(_0x393aa3[_0xbd92c7(0x203)]||_0x5ed859[_0xbd92c7(0x230)])+'\x0a',_0x1a3dc8+=_0xbd92c7(0x1d2)+(_0x2afcf2['code']||_0x5ed859[_0xbd92c7(0x230)])+'\x0a',_0x42a2e0+=_0xbd92c7(0x26a)+(_0x29efde[_0xbd92c7(0x20b)]||_0x5ed859[_0xbd92c7(0x230)])+'\x0a'));;!_0x43f5ef['region']&&(_0x5ed859[_0xbd92c7(0x1bb)](_0x5ed859['wUQDK'],_0x5ed859[_0xbd92c7(0x1e8)])?_0x86ac7c[_0xbd92c7(0x1af)](_0x5ed859[_0xbd92c7(0x22f)]):_0x1d0735[_0xbd92c7(0x26e)](_0xbd92c7(0x219)+_0x4e5cff[_0xbd92c7(0x26e)][_0xbd92c7(0x20b)]));;_0x5ed859[_0xbd92c7(0x1ff)](_0x86ac7c[_0xbd92c7(0x1f2)],0x0)&&(_0x5ed859[_0xbd92c7(0x1be)](_0x5ed859[_0xbd92c7(0x20d)],_0x5ed859[_0xbd92c7(0x27c)])?(_0x51eceb[_0xbd92c7(0x26e)](_0x5ed859[_0xbd92c7(0x267)]),_0x56fcca[_0xbd92c7(0x21c)](0x1)):(_0x5ce7f2=_0xbd92c7(0x1f3)+_0x86ac7c[_0xbd92c7(0x21a)](',\x20')+_0xbd92c7(0x287),await _0x5ed859[_0xbd92c7(0x20f)](reportToGalactusAndSendToEDS,_0x43f5ef,_0x433631,_0x5ce7f2,messageTypes[_0xbd92c7(0x292)],_0x5ed859[_0xbd92c7(0x24a)],_0x5ed859[_0xbd92c7(0x243)],_0x5ed859[_0xbd92c7(0x23e)]),logger['error'](_0x5ce7f2),process[_0xbd92c7(0x21c)](0x1)));if(!ALL_SUPPORTED_CLOUD_PROVIDERS['includes'](_0x43f5ef['cloudProvider'][_0xbd92c7(0x25d)]())){if(_0x5ed859[_0xbd92c7(0x294)](_0x5ed859[_0xbd92c7(0x28b)],_0x5ed859[_0xbd92c7(0x24f)])){_0x5ce7f2=_0x5ed859[_0xbd92c7(0x284)],await _0x5ed859[_0xbd92c7(0x227)](reportToGalactusAndSendToEDS,_0x43f5ef,_0x433631,_0x5ce7f2,messageTypes[_0xbd92c7(0x292)],_0x5ed859[_0xbd92c7(0x24a)],_0x5ed859[_0xbd92c7(0x1b2)],_0x5ed859[_0xbd92c7(0x23e)]),logger[_0xbd92c7(0x26e)](_0x5ce7f2);if(!_0x43f5ef[_0xbd92c7(0x29a)]){if(_0x5ed859[_0xbd92c7(0x1be)](_0x5ed859['kDdPv'],_0x5ed859[_0xbd92c7(0x29b)]))logger[_0xbd92c7(0x226)](_0xbd92c7(0x1e4)+DEFAULT_CLUSTER_DETAILS[_0xbd92c7(0x1fa)]+'\x20'),_0x43f5ef[_0xbd92c7(0x29a)]=DEFAULT_CLUSTER_DETAILS['CLOUD_PROVIDER'];else{const _0x156048={};_0x156048[_0xbd92c7(0x257)]=_0x1cb449[_0xbd92c7(0x236)],_0x156048[_0xbd92c7(0x203)]=_0xdb083e,_0xf204eb['sendEventToBackend'](_0x14a9fd,_0x156048,_0x5ed859['eNMch'],!![]);}}}else _0x50507c['push'](_0x5ed859[_0xbd92c7(0x1fc)]);}global_registry[_0xbd92c7(0x248)]=_0x43f5ef[_0xbd92c7(0x248)],global_registry[_0xbd92c7(0x29a)]=_0x43f5ef['cloudProvider'],global_registry[_0xbd92c7(0x1bd)]=_0x43f5ef[_0xbd92c7(0x215)];}}else{if(_0x43f5ef[_0xbd92c7(0x282)]){if(_0x5ed859[_0xbd92c7(0x297)](_0x5ed859['bSIhC'],_0x5ed859['bSIhC'])){const {header:_0x39ab03,response:_0x277c15}=_0x53eb43,{status:_0x269dda,data:_0xd6293a,error:_0x120eab}=_0x277c15;_0x3931eb+=_0x39ab03+'\x20#'+_0x5ed859[_0xbd92c7(0x28c)](_0x20609b,0x1)+'\x0a',_0x684104+=_0xbd92c7(0x23a)+(_0x269dda?_0x5ed859[_0xbd92c7(0x259)]:_0x5ed859[_0xbd92c7(0x270)])+'\x0a',_0x51b77c+=_0xbd92c7(0x1c8)+_0x5ed859[_0xbd92c7(0x1fd)](_0xd6293a,_0x5ed859[_0xbd92c7(0x230)])+'\x0a',_0x120eab&&(_0x104b44+=_0x5ed859[_0xbd92c7(0x299)],_0x424a73+='\x20\x20Message:\x20'+(_0x120eab[_0xbd92c7(0x203)]||_0x5ed859[_0xbd92c7(0x230)])+'\x0a',_0x5c52c6+=_0xbd92c7(0x1d2)+(_0x120eab[_0xbd92c7(0x1c9)]||_0x5ed859['WxHGD'])+'\x0a',_0x1f06a7+=_0xbd92c7(0x26a)+(_0x120eab[_0xbd92c7(0x20b)]||_0x5ed859[_0xbd92c7(0x230)])+'\x0a'),_0x5306d7+='\x0a\x0a';}else{global_registry['gridProfile']=_0x43f5ef['gridProfile'],logger['debug'](_0xbd92c7(0x21f)+_0x43f5ef[_0xbd92c7(0x282)]);const _0x592a4f=_0xbd92c7(0x1e7)+AG_API_URL+_0xbd92c7(0x22b),_0x38511c={};_0x38511c[_0xbd92c7(0x1b5)]=_0x5ed859[_0xbd92c7(0x25f)],_0x38511c[_0xbd92c7(0x285)]=global_registry['authHeader'],_0x38511c[_0xbd92c7(0x21d)]=![];const _0x19da81=_0x38511c,_0x97cefa=await _0x5ed859[_0xbd92c7(0x1d8)](got,_0x592a4f,_0x19da81),_0x430056=await _0x5ed859[_0xbd92c7(0x28f)](responseValidation,_0x97cefa,_0x5ed859['IajtU'],_0x5ed859[_0xbd92c7(0x1da)],_0x43f5ef,_0x433631);let _0xc51c35={};if(_0x5ed859[_0xbd92c7(0x1be)](_0x430056,0xc8)){if(_0x5ed859['ZIHMM'](_0x5ed859[_0xbd92c7(0x27b)],_0x5ed859['CTzkX']))_0x2b2829[_0xbd92c7(0x21c)](0x1);else{const _0x219101=JSON[_0xbd92c7(0x1e3)](_0x97cefa[_0xbd92c7(0x283)]),_0x559068=_0x219101[_0xbd92c7(0x200)](_0x30b5be=>_0x30b5be[_0xbd92c7(0x1ca)]===_0x43f5ef[_0xbd92c7(0x282)])||null;_0x5ed859[_0xbd92c7(0x211)](isUndefined,_0x559068)?_0x5ed859[_0xbd92c7(0x244)](_0x5ed859[_0xbd92c7(0x24c)],_0x5ed859[_0xbd92c7(0x24c)])?(_0x3091ad[_0xbd92c7(0x226)](_0xbd92c7(0x1e4)+_0x44c330[_0xbd92c7(0x1fa)]+'\x20'),_0x2d4155['cloudProvider']=_0x366288[_0xbd92c7(0x1fa)]):(_0x5ce7f2=_0xbd92c7(0x232)+_0x43f5ef['gridProfile']+_0xbd92c7(0x25c),await _0x5ed859[_0xbd92c7(0x227)](reportToGalactusAndSendToEDS,_0x43f5ef,_0x433631,_0x5ce7f2,messageTypes['ERROR'],_0x5ed859['wwvlG'],_0x5ed859[_0xbd92c7(0x1a5)],_0x5ed859['eNMch']),logger[_0xbd92c7(0x26e)](_0x5ce7f2),process[_0xbd92c7(0x21c)](0x1)):_0x5ed859['KjCoo'](_0x5ed859['tmwYK'],_0x5ed859[_0xbd92c7(0x237)])?_0xc51c35=_0x559068:_0x40621e+=_0xbd92c7(0x235)+_0x4c54ea[_0xbd92c7(0x248)]+'\x20'+(_0x4b15f2?_0x5ed859[_0xbd92c7(0x22d)]:_0x5ed859[_0xbd92c7(0x224)])+'\x0a\x0a';}}else _0x5ed859[_0xbd92c7(0x1fe)](_0x5ed859['YzwyI'],_0x5ed859[_0xbd92c7(0x1c1)])?process[_0xbd92c7(0x21c)](0x1):_0x21cf97[_0xbd92c7(0x226)](_0xbd92c7(0x1de)+_0x357933[_0xbd92c7(0x248)]+_0xbd92c7(0x1fb));const _0x5553de={};_0x5553de[_0xbd92c7(0x257)]=WS_EVENTS[_0xbd92c7(0x236)],_0x5553de[_0xbd92c7(0x203)]=_0x5ed859[_0xbd92c7(0x1db)],webSocketUtils[_0xbd92c7(0x264)](_0x433631,_0x5553de),global_registry['cloudProvider']=_0xc51c35[_0xbd92c7(0x29a)],global_registry[_0xbd92c7(0x1bd)]=_0xc51c35[_0xbd92c7(0x215)],global_registry[_0xbd92c7(0x248)]=_0xc51c35[_0xbd92c7(0x248)];}}else _0x5ed859['ZIHMM'](_0x5ed859[_0xbd92c7(0x220)],_0x5ed859[_0xbd92c7(0x220)])?_0x344953[_0xbd92c7(0x1af)](_0x5ed859[_0xbd92c7(0x261)]):(logger[_0xbd92c7(0x26e)](_0x5ed859[_0xbd92c7(0x267)]),process[_0xbd92c7(0x21c)](0x1));}}else _0xa5e208[_0xbd92c7(0x1af)](_0x5ed859[_0xbd92c7(0x22f)]);}catch(_0x1650c3){_0x5ed859[_0xbd92c7(0x294)](_0x5ed859['vRXpd'],_0x5ed859[_0xbd92c7(0x1df)])?(_0x5ce7f2='Error\x20in\x20input\x20validation\x20while\x20pre-check\x20-\x20'+_0x1650c3+':\x20'+_0x1650c3[_0xbd92c7(0x20b)],logger[_0xbd92c7(0x26e)](_0x5ce7f2),await _0x5ed859[_0xbd92c7(0x23d)](reportToGalactusAndSendToEDS,_0x43f5ef,_0x433631,_0x5ce7f2,messageTypes[_0xbd92c7(0x292)],_0x5ed859[_0xbd92c7(0x24a)],_0x5ed859[_0xbd92c7(0x1b2)],_0x5ed859[_0xbd92c7(0x23e)]),process[_0xbd92c7(0x21c)](0x1)):(_0x5866b7[_0xbd92c7(0x226)]('['+_0x5294f5+']\x20status\x20:\x20'+_0x1ddf76[_0xbd92c7(0x295)]+_0xbd92c7(0x1d9)+_0x4eab05[_0xbd92c7(0x1e1)]+_0xbd92c7(0x229)+_0x2355c0[_0xbd92c7(0x26e)]),_0x586eff['error']&&_0x3a1030[_0xbd92c7(0x26e)](_0xbd92c7(0x219)+_0x23bb56[_0xbd92c7(0x26e)][_0xbd92c7(0x20b)]));}}function printResponse(_0xb96798,_0x44b719){const _0x51eed3=a17_0x537a3f,_0x2f559f={};_0x2f559f['tMBkA']=function(_0x371c07,_0x2768e5){return _0x371c07===_0x2768e5;},_0x2f559f['xiMpc']=_0x51eed3(0x1a4);const _0x43d865=_0x2f559f;logger[_0x51eed3(0x226)]('['+_0xb96798+_0x51eed3(0x23b)+_0x44b719[_0x51eed3(0x295)]+_0x51eed3(0x1d9)+_0x44b719[_0x51eed3(0x1e1)]+_0x51eed3(0x229)+_0x44b719[_0x51eed3(0x26e)]),_0x44b719[_0x51eed3(0x26e)]&&(_0x43d865[_0x51eed3(0x1ad)](_0x43d865[_0x51eed3(0x288)],_0x43d865[_0x51eed3(0x288)])?logger[_0x51eed3(0x26e)](_0x51eed3(0x219)+_0x44b719[_0x51eed3(0x26e)][_0x51eed3(0x20b)]):_0x3986f9+=_0x51eed3(0x235)+_0x27319c[_0x51eed3(0x248)]+'\x20details\x20cannot\x20be\x20fetched\x0a\x0a');}function a17_0x4bda(){const _0x1852e0=['usoJE','\x20\x20Code:\x20','IllMK','is\x20already\x20present','jmGmN','Pass\x20the\x20region\x20for\x20existing\x20Kubernetes\x20Cluster.','cluster-check-failed-','rwxOz','\x20data\x20:\x20','dYATM','SqwgQ','split','NfWoL','Cluster\x20`','qljUf','Whitelisted\x20browserstack','data','LCElP','parse','Setting\x20cloud\x20provider\x20as\x20','oZFjG','iTqiK','https://','CUJxl','../../utils/utilityMethods','cloud-provider','sGIGb','YYmeE','VJryA','connectionTimeout','IqOru','grid-profile','Cluster\x20details\x0a-----------------------\x0a','length','Missing\x20required\x20arguments:\x20','wvgZt','vzjdK','password','Missing\x20required\x20arguments.\x20Please\x20provide\x20either\x20grid\x20profile\x20or\x20cluster\x20details\x20(cluser-name\x20,\x20cloud\x20provider\x20&\x20region','isTls1_2_SUPPORTED','430771XlULbP','CLOUD_PROVIDER','`\x20already\x20exists','IzBMa','CZZAB','cIqjM','hsVXu','find','lfuQk','2746484pEKEdi','message','argv','getUTCDate','response','Failure','wexsh','cloud-provider-not-supported','Invalid\x20input.\x20Currently\x20the\x20automation\x20grid\x20in\x20AWS,\x20AZURE\x20&\x20GCP\x20cloud\x20provider\x20is\x20supported\x20using\x20CLI.','stack','RthbA','YJcjQ','pre_check','KFKBv','RwgnA','NRoKf','5ACWHJU','cluster-name','409208JiFaMc','region','iQeYp','140LBpuQj','MVGJI','error\x20stack\x20:\x20','join','pHBuz','exit','throwHttpErrors','FRnOh','grid\x20profile\x20flow\x20','AmRum','Pre-check\x20running\x20for\x20Cloud\x20-\x20','stringify','Create\x20a\x20grid\x20in\x20existing\x20Kubernetes\x20Cluster\x20on\x20AWS/Azure/GCP.','WUpPj','pre-check-failed','info','xhool','header','\x20error\x20:\x20','vGCgK','/packages/cli/get-all-grid-profiles','MAuwx','QuCtn','===\x20Precheck\x20Report\x20-\x20','pnlIl','WxHGD','options','Invalid\x20input.\x20grid\x20profiles:\x20','usage','JuBIh','Cluster\x20','LOG','jUoaB','jcwKY','\x20details\x20cannot\x20be\x20fetched\x0a\x0a','Status:\x20',']\x20status\x20:\x20','<UsernamePlaceholder>','NpYpK','eNMch','DUkns','Ltvgt','../../config/constants','WebSocket','rpBSz','axULT','zcGfx','Error\x20Details:\x0a','handler','clusterName','forEach','wwvlG','utf-8','QxfXv','piuvn','isCliToolInstalled','ldFpO','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','BQoLP','KjCoo','bstackUsername','5040nTcBzt','120808EPeaOW','equGU','type','zFUya','iEJLX','getUTCFullYear','builder','.\x20please\x20verify\x20the\x20grid\x20profile\x20name\x20and\x20try\x20again','toLowerCase','pre-check','eODsq','N/A','aunyZ','15498hFgEVG','Success','sendEventToBackend','FnzJX','getUTCMonth','knMmZ','credential-not-found','uucfB','\x20\x20Stack:\x20','unable\x20to\x20verify\x20if\x20cluster\x20`','stack\x20trace\x20','Pass\x20the\x20name\x20of\x20cloud\x20provider\x20for\x20existing\x20Kubernetes\x20Cluster.','error','vLOTs','vJYqu','string','1|0|4|2|3','reconnecting-websocket','NueLq','init','toolInstalledResp','writeFileSync','replace','zYUpz','TLSv1_2_client_method','CTzkX','Sppdd','checkAccess','rsLRD','vdpvm','description','command','gridProfile','body','jdkbz','headers','`\x20is\x20present\x20in\x20region\x20`','.\x20Please\x20provide\x20all\x20required\x20arguments.','xiMpc','ZcCgw','Check\x20the\x20pre-requisites\x20needed\x20for\x20Automation\x20grid\x20setup','zyNvG','AzdGc','epilogue','kzTXq','IqLyn','sIkYy','pre-check-grid-called','ERROR','zynIm','ZrzTc','status','Grid\x20profile\x20fetched\x20for\x20pre-check','nGagK','Use\x20an\x20existing\x20grid\x20profile\x20to\x20setup\x20the\x20Automation\x20Grid.\x20By\x20default,\x20configured\x20profile\x20is\x20used.','ojPEk','cloudProvider','kDdPv','altQA','pLpwU','AiIkP','wgwfQ','TGTAh','SjWSi','User\x20Access','\x20\x20Message:\x20','nWsra','3TgmGtx','LgnTF','cPNYN','tMBkA','BcsmR','push','DQKML','cRySU','TRHvG','bstackAccesskey','Report\x20saved\x20in\x20','method','grid','existsSync','help','dummy-grid','Browserstack','pborz','delay','clusterRegion','HLMwq','SSL\x20Configured','will\x20be\x20created','YzwyI','MwJdM','216cMZGHY','getUTCMinutes','GET','eQNkZ','2366790UYvoKK','Message:\x20','code','name','yqnND','Zerna','395828WIMjDS','username','readFileSync','ZJQLX'];a17_0x4bda=function(){return _0x1852e0;};return a17_0x4bda();}async function generateReport(_0x136735,_0x428674){const _0x1ec692=a17_0x537a3f,_0x316c7a={'FlYOu':function(_0x1b4d17,_0xd81df7){return _0x1b4d17+_0xd81df7;},'LCElP':'Success','ubJOh':_0x1ec692(0x207),'HnuLG':function(_0x30dffa,_0x97f916){return _0x30dffa||_0x97f916;},'wexsh':_0x1ec692(0x260),'aiMEn':'Error\x20Details:\x0a','MwJdM':_0x1ec692(0x1f1),'nYRkj':function(_0x46d7ae,_0x25c0b5){return _0x46d7ae!=_0x25c0b5;},'vBwtG':_0x1ec692(0x1d4),'DQKML':_0x1ec692(0x1c0),'EeSyS':function(_0x16679f){return _0x16679f();}};let _0x20336c=_0x1ec692(0x22e)+global_registry[_0x1ec692(0x29a)]+'\x20===\x0a\x0a';return _0x136735[_0x1ec692(0x249)]((_0x1503a8,_0x544b3a)=>{const _0x4cc734=_0x1ec692,{header:_0x383ea1,response:_0x42ca07}=_0x1503a8,{status:_0x49669b,data:_0x1bc065,error:_0x162ebb}=_0x42ca07;_0x20336c+=_0x383ea1+'\x20#'+_0x316c7a['FlYOu'](_0x544b3a,0x1)+'\x0a',_0x20336c+=_0x4cc734(0x23a)+(_0x49669b?_0x316c7a[_0x4cc734(0x1e2)]:_0x316c7a['ubJOh'])+'\x0a',_0x20336c+=_0x4cc734(0x1c8)+_0x316c7a['HnuLG'](_0x1bc065,_0x316c7a[_0x4cc734(0x208)])+'\x0a',_0x162ebb&&(_0x20336c+=_0x316c7a['aiMEn'],_0x20336c+=_0x4cc734(0x1a8)+(_0x162ebb['message']||_0x316c7a[_0x4cc734(0x208)])+'\x0a',_0x20336c+='\x20\x20Code:\x20'+(_0x162ebb[_0x4cc734(0x1c9)]||_0x316c7a[_0x4cc734(0x208)])+'\x0a',_0x20336c+='\x20\x20Stack:\x20'+(_0x162ebb[_0x4cc734(0x20b)]||_0x316c7a['wexsh'])+'\x0a'),_0x20336c+='\x0a\x0a';}),_0x20336c+=_0x316c7a[_0x1ec692(0x1c2)],_0x316c7a['nYRkj'](_0x428674,null)?_0x20336c+=_0x1ec692(0x235)+global_registry[_0x1ec692(0x248)]+'\x20'+(_0x428674?_0x316c7a['vBwtG']:_0x316c7a[_0x1ec692(0x1b0)])+'\x0a\x0a':_0x20336c+=_0x1ec692(0x235)+global_registry[_0x1ec692(0x248)]+_0x1ec692(0x239),_0x20336c+=_0x316c7a['EeSyS'](getSystemMetaData),_0x20336c;};exports[a17_0x537a3f(0x247)]=async function(_0x45bcd0){const _0x803a57=a17_0x537a3f,_0x27c043={'altQA':function(_0xa633da){return _0xa633da();},'zYUpz':function(_0xfe121b){return _0xfe121b();},'uucfB':_0x803a57(0x250),'UMKey':function(_0x233d85,_0x58baba,_0x24caca,_0x58221c,_0x16d45f,_0x1bb29c,_0x3ffa97,_0x7b1ef9){return _0x233d85(_0x58baba,_0x24caca,_0x58221c,_0x16d45f,_0x1bb29c,_0x3ffa97,_0x7b1ef9);},'cRySU':_0x803a57(0x291),'eQNkZ':_0x803a57(0x268),'zFUya':'error','oZFjG':function(_0x434bab,_0x1b44db,_0x5e13a7,_0x3d4577,_0x4d716a,_0x24c426,_0x320e06){return _0x434bab(_0x1b44db,_0x5e13a7,_0x3d4577,_0x4d716a,_0x24c426,_0x320e06);},'BcsmR':function(_0x27bfc9){return _0x27bfc9();},'MoEbV':_0x803a57(0x23c),'nWsra':'<PasswordPlaceholder>','jcwKY':function(_0x5824f3,_0x5969e0,_0x353a31){return _0x5824f3(_0x5969e0,_0x353a31);},'DUkns':function(_0x296021,_0x4005f7,_0x4901ea){return _0x296021(_0x4005f7,_0x4901ea);},'zynIm':_0x803a57(0x1b9),'zcGfx':_0x803a57(0x276),'JfdAb':_0x803a57(0x272),'RwgnA':function(_0x43242f,_0x505772,_0x354f06,_0x42f3c1,_0x5e63cc,_0x3bc3aa,_0x37ade8,_0x1347b0){return _0x43242f(_0x505772,_0x354f06,_0x42f3c1,_0x5e63cc,_0x3bc3aa,_0x37ade8,_0x1347b0);},'IqOru':'accessResp','Zerna':'isTrialGridAccessible','wvgZt':function(_0x5895d9,_0x4a8047){return _0x5895d9(_0x4a8047);},'UxssL':_0x803a57(0x27a),'lfuQk':_0x803a57(0x1f8),'iTqiK':'Tool\x20Installed','maNcE':_0x803a57(0x1a7),'sGIGb':_0x803a57(0x1e0),'BQoLP':_0x803a57(0x1bf),'FRnOh':function(_0x4339aa,_0x43d991,_0x3de6ae){return _0x4339aa(_0x43d991,_0x3de6ae);},'SjWSi':function(_0x4e375f,_0x4feaea){return _0x4e375f+_0x4feaea;},'usoJE':_0x803a57(0x24b),'cPNYN':_0x803a57(0x225)};let _0x2abcf6,_0x362c86;try{global_registry['requestId']=_0x27c043[_0x803a57(0x1a1)](uuidv4);!fs[_0x803a57(0x1b7)](_0x27c043[_0x803a57(0x279)](getCredentialsPath))&&(_0x362c86=_0x27c043[_0x803a57(0x269)],logger[_0x803a57(0x26e)](_0x362c86),await _0x27c043['UMKey'](reportToGalactusAndSendToEDS,_0x45bcd0,_0x2abcf6,_0x362c86,messageTypes[_0x803a57(0x292)],_0x27c043[_0x803a57(0x1b1)],_0x27c043[_0x803a57(0x1c6)],_0x27c043[_0x803a57(0x258)]),process[_0x803a57(0x21c)](0x1));_0x27c043[_0x803a57(0x1e5)](sendInstrumentationEvent,_0x45bcd0,_0x27c043[_0x803a57(0x1b1)],messageTypes['INFO'],null,null,_0x45bcd0);const _0x37a885=JSON[_0x803a57(0x1e3)](fs[_0x803a57(0x1cf)](_0x27c043[_0x803a57(0x1ae)](getCredentialsPath)));global_registry[_0x803a57(0x253)]=_0x37a885[_0x803a57(0x1ba)][_0x803a57(0x1ce)],global_registry[_0x803a57(0x1b3)]=_0x37a885['Browserstack'][_0x803a57(0x1f6)];const _0x2d7a92=WS_ENDPOINT[_0x803a57(0x278)](_0x27c043['MoEbV'],_0x37a885[_0x803a57(0x1ba)][_0x803a57(0x1ce)])[_0x803a57(0x278)](_0x27c043[_0x803a57(0x1a9)],_0x37a885[_0x803a57(0x1ba)][_0x803a57(0x1f6)]),_0xde71c6={};_0xde71c6[_0x803a57(0x242)]=ws,_0xde71c6[_0x803a57(0x1ee)]=0x36ee80,_0x2abcf6=new ReconnectingWebSocket(_0x2d7a92,[],_0xde71c6),global_registry['authHeader']=_0x27c043[_0x803a57(0x238)](getAuthHeader,global_registry[_0x803a57(0x253)],global_registry[_0x803a57(0x1b3)]),await _0x27c043['DUkns'](inputValidation,_0x45bcd0,_0x2abcf6),logger[_0x803a57(0x226)](_0x803a57(0x221)+global_registry[_0x803a57(0x29a)]+'\x20region\x20-\x20'+global_registry['clusterRegion']);let _0x188ebf=await _0x27c043[_0x803a57(0x1e5)](getCloudProviderObjectWithOutInit,global_registry[_0x803a57(0x29a)],global_registry['clusterName'],_0x27c043[_0x803a57(0x293)],_0x2abcf6,webSocketUtils,_0x45bcd0);const _0x284a9b=await _0x188ebf[_0x803a57(0x24e)]();_0x27c043[_0x803a57(0x23f)](printResponse,_0x27c043[_0x803a57(0x245)],_0x284a9b),_0x188ebf=await _0x188ebf[_0x803a57(0x275)]();let _0x332191=![];try{_0x332191=await _0x188ebf['isClusterPresent']();}catch(_0x2e735e){const _0x2a8f3a=_0x27c043['JfdAb'][_0x803a57(0x1dc)]('|');let _0x49783d=0x0;while(!![]){switch(_0x2a8f3a[_0x49783d++]){case'0':_0x332191=null;continue;case'1':_0x362c86=_0x803a57(0x26b)+global_registry['clusterName']+_0x803a57(0x286)+global_registry[_0x803a57(0x1bd)]+'`\x20,error\x20:\x20'+_0x2e735e;continue;case'2':_0x362c86+='\x0a'+JSON[_0x803a57(0x222)](_0x2e735e[_0x803a57(0x20b)]);continue;case'3':await _0x27c043[_0x803a57(0x210)](reportToGalactusAndSendToEDS,_0x45bcd0,_0x2abcf6,_0x362c86,messageTypes[_0x803a57(0x292)],_0x27c043[_0x803a57(0x1b1)],_0x803a57(0x1d7)+global_registry[_0x803a57(0x29a)],_0x27c043[_0x803a57(0x258)]);continue;case'4':logger[_0x803a57(0x26e)](_0x362c86);continue;}break;}}_0x332191&&logger[_0x803a57(0x226)](_0x803a57(0x1de)+global_registry[_0x803a57(0x248)]+_0x803a57(0x1fb));const _0x1c3f68=await _0x188ebf[_0x803a57(0x27d)]();_0x27c043[_0x803a57(0x23f)](printResponse,_0x27c043[_0x803a57(0x1ef)],_0x1c3f68);const _0x472819=await _0x27c043[_0x803a57(0x1a1)](curlRequest);_0x27c043[_0x803a57(0x238)](printResponse,_0x27c043[_0x803a57(0x1cc)],_0x472819);const _0x13e43f=await _0x27c043[_0x803a57(0x1f4)](isTlsSupported,_0x27c043['UxssL']);_0x27c043[_0x803a57(0x238)](printResponse,_0x27c043[_0x803a57(0x201)],_0x13e43f);const _0x184641={};_0x184641[_0x803a57(0x228)]=_0x27c043[_0x803a57(0x1e6)],_0x184641['response']=_0x284a9b;const _0x493f2f={};_0x493f2f[_0x803a57(0x228)]=_0x27c043['maNcE'],_0x493f2f[_0x803a57(0x206)]=_0x1c3f68;const _0x5c90fc={};_0x5c90fc[_0x803a57(0x228)]=_0x27c043[_0x803a57(0x1eb)],_0x5c90fc['response']=_0x472819;const _0x154776={};_0x154776['header']=_0x27c043[_0x803a57(0x251)],_0x154776[_0x803a57(0x206)]=_0x13e43f;const _0x24204c=[_0x184641,_0x493f2f,_0x5c90fc,_0x154776],_0x58ca73=await _0x27c043[_0x803a57(0x21e)](generateReport,_0x24204c,_0x332191),_0x4b616e=new Date(),_0xc236f0=_0x4b616e[_0x803a57(0x25a)]()+'_'+_0x27c043[_0x803a57(0x1a6)](_0x4b616e[_0x803a57(0x266)](),0x1)+'_'+_0x4b616e[_0x803a57(0x205)]()+'_'+_0x4b616e['getUTCHours']()+'_'+_0x4b616e[_0x803a57(0x1c4)](),_0xd4f2e4='log/report_'+_0xc236f0+'.txt';fs[_0x803a57(0x277)](_0xd4f2e4,_0x58ca73,_0x27c043[_0x803a57(0x1d1)]),logger[_0x803a57(0x226)](_0x803a57(0x1b4)+_0xd4f2e4),process[_0x803a57(0x21c)](0x0);}catch(_0xd8f210){let _0x18babf='Failed\x20in\x20pre-check!\x20Error:\x20'+_0xd8f210+'\x20';logger[_0x803a57(0x26e)](_0x18babf),_0x18babf+='\x0a'+JSON[_0x803a57(0x222)](_0xd8f210['stack']),logger['debug'](_0x803a57(0x26c)+_0xd8f210[_0x803a57(0x20b)]);if(_0x2abcf6){const _0x5b79bc={};_0x5b79bc[_0x803a57(0x257)]=WS_EVENTS[_0x803a57(0x236)],_0x5b79bc[_0x803a57(0x203)]=_0x18babf,webSocketUtils[_0x803a57(0x264)](_0x2abcf6,_0x5b79bc,_0x27c043[_0x803a57(0x258)],!![]);}await webSocketUtils[_0x803a57(0x1bc)](0x7d0);const _0x37a7a2={};_0x37a7a2[_0x803a57(0x26e)]=_0x18babf,await _0x27c043['oZFjG'](sendInstrumentationEvent,_0x45bcd0,_0x27c043[_0x803a57(0x1b1)],messageTypes[_0x803a57(0x292)],_0x27c043[_0x803a57(0x1ac)],_0x37a7a2,_0x45bcd0),process[_0x803a57(0x21c)](0x1);}};