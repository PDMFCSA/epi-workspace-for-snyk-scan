const a19_0x3e6fb8=a19_0x2746;function a19_0x2602(){const _0x1be1da=['description','Grid\x20started','RltfH','addListeners','existsSync','INFO','QqxfB','unauthorised','Adding\x20Websocket\x20listeners','KOBJP','desc','body','clusterRegion','../../utils/gridComponents','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','cloudProvider','clusterName','../../utils/instrumentationUtils','14284alZYGj','Sscfp','ERROR','password','usage','mtIek','message','name','error','Start\x20an\x20existing\x20Automation\x20grid.','1111329sipyUS','builder','username','readFileSync','init-not-called','region','statusCode','skip-tls-cert-verify','xMYmH','replace','Browserstack','1114589GRjdye','DJyNG','start-grid-called','info','tvTPB','uHbGs','YmmiO','default','CgEFe','../../cloudproviders/utils','33GYHMAt','CaByZ','jeoKX','handler','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20start','../../utils/createk8sClient','gridId','../../config/constants','yCVxD','server-error','bstackAccesskey','parse','mATpY','stack','bstackUsername','1489328GBuPut','cuJQC','24088jpuFiN','Dnqax','5bSJrjB','exit','<PasswordPlaceholder>','WVVYw','invalid-grid-id','10adXrSD','xexaL','779502vjMzqt','user','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','help','IyujX','command','../../utils/webSocketUtils','714424hQUtRm','connectionTimeout','../../config/logger','stringify','Pass\x20the\x20ID\x20of\x20the\x20existing\x20Automation\x20grid\x20you\x20want\x20to\x20start.','type'];a19_0x2602=function(){return _0x1be1da;};return a19_0x2602();}(function(_0x55c14a,_0x2fd6f7){const _0x549121=a19_0x2746,_0x5411c6=_0x55c14a();while(!![]){try{const _0x10b5a7=parseInt(_0x549121(0x1c2))/0x1+parseInt(_0x549121(0x1ea))/0x2*(-parseInt(_0x549121(0x1b1))/0x3)+-parseInt(_0x549121(0x1d2))/0x4+parseInt(_0x549121(0x1c4))/0x5*(parseInt(_0x549121(0x1cb))/0x6)+parseInt(_0x549121(0x1a7))/0x7+parseInt(_0x549121(0x1c0))/0x8+parseInt(_0x549121(0x19c))/0x9*(-parseInt(_0x549121(0x1c9))/0xa);if(_0x10b5a7===_0x2fd6f7)break;else _0x5411c6['push'](_0x5411c6['shift']());}catch(_0x5b7bcb){_0x5411c6['push'](_0x5411c6['shift']());}}}(a19_0x2602,0x1cfdd));const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require('reconnecting-websocket'),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a19_0x3e6fb8(0x1b8)),{logger}=require(a19_0x3e6fb8(0x1d4)),{getCredentialsPath,getGridDetails}=require('../../utils/utilityMethods'),{scaleUpHubDeployment}=require(a19_0x3e6fb8(0x1e5)),{sendInstrumentationEvent}=require(a19_0x3e6fb8(0x1e9)),webSocketUtils=require(a19_0x3e6fb8(0x1d1)),{createK8sClient}=require(a19_0x3e6fb8(0x1b6)),{getCloudProviderObject}=require(a19_0x3e6fb8(0x1b0));function a19_0x2746(_0x3322d8,_0x5c1293){const _0x260220=a19_0x2602();return a19_0x2746=function(_0x27462c,_0x2634a8){_0x27462c=_0x27462c-0x194;let _0x482b76=_0x260220[_0x27462c];return _0x482b76;},a19_0x2746(_0x3322d8,_0x5c1293);}exports[a19_0x3e6fb8(0x1d0)]='grid',exports[a19_0x3e6fb8(0x1e2)]=a19_0x3e6fb8(0x19b),exports[a19_0x3e6fb8(0x19d)]=function(_0x33a360){const _0x116964=a19_0x3e6fb8,_0x515e37={};_0x515e37[_0x116964(0x1b3)]=_0x116964(0x1d6),_0x515e37[_0x116964(0x1a8)]='string',_0x515e37[_0x116964(0x1c3)]='Skip\x20insecure\x20cert\x20verification.',_0x515e37['WVVYw']='boolean',_0x515e37[_0x116964(0x1ac)]=_0x116964(0x1ce);const _0x56546f=_0x515e37,_0x47b329={};_0x47b329['description']=_0x56546f[_0x116964(0x1b3)],_0x47b329[_0x116964(0x1d7)]=_0x56546f[_0x116964(0x1a8)];const _0x491d2f={};_0x491d2f[_0x116964(0x1d8)]=_0x56546f[_0x116964(0x1c3)],_0x491d2f[_0x116964(0x1d7)]=_0x56546f[_0x116964(0x1c7)],_0x491d2f[_0x116964(0x1ae)]=![];const _0x41e527={};return _0x41e527['grid-id']=_0x47b329,_0x41e527[_0x116964(0x1a3)]=_0x491d2f,_0x33a360[_0x116964(0x196)](HELP_HEADER_MESSAGE['start'])['epilogue'](HELP_FOOTER_MESSAGE)['options'](_0x41e527)[_0x116964(0x1ce)](_0x56546f[_0x116964(0x1ac)])['argv'];},exports[a19_0x3e6fb8(0x1b4)]=async function(_0x391e40){const _0x53fa18=a19_0x3e6fb8,_0x5163c2={'CaByZ':_0x53fa18(0x1b5),'yCVxD':function(_0x45e8e3){return _0x45e8e3();},'CgEFe':_0x53fa18(0x1cd),'mATpY':function(_0x391cc9,_0x58602f,_0x57ac63,_0x5ef3e3,_0x5f2904,_0x15670f,_0x28836e){return _0x391cc9(_0x58602f,_0x57ac63,_0x5ef3e3,_0x5f2904,_0x15670f,_0x28836e);},'cuJQC':_0x53fa18(0x1a9),'mtIek':_0x53fa18(0x1a0),'Sscfp':'<UsernamePlaceholder>','tvTPB':_0x53fa18(0x1c6),'xMYmH':_0x53fa18(0x1e0),'oygqh':function(_0x332122,_0x51b35b,_0x588c3f,_0x118642){return _0x332122(_0x51b35b,_0x588c3f,_0x118642);},'LnFZf':function(_0x2ec894,_0x312ebc,_0x2c565d){return _0x2ec894(_0x312ebc,_0x2c565d);},'IyujX':_0x53fa18(0x1d9),'BZXEn':function(_0x401d9b,_0x207a38){return _0x401d9b===_0x207a38;},'chgHr':_0x53fa18(0x1e6),'xexaL':_0x53fa18(0x1df),'DyJtW':function(_0x2efd68,_0x5eaeba){return _0x2efd68===_0x5eaeba;},'YmmiO':function(_0x486c76,_0x3e0ddd,_0x4e34e9,_0x4402ba,_0xafd931,_0x35ba04,_0x17b9c6){return _0x486c76(_0x3e0ddd,_0x4e34e9,_0x4402ba,_0xafd931,_0x35ba04,_0x17b9c6);},'RltfH':_0x53fa18(0x1c8),'KOBJP':function(_0x1c579e,_0x1d9720,_0x4be51e,_0x22eefc,_0x17cf80,_0x1bc29a,_0x9b5140){return _0x1c579e(_0x1d9720,_0x4be51e,_0x22eefc,_0x17cf80,_0x1bc29a,_0x9b5140);},'QqxfB':_0x53fa18(0x1ba)};let _0x49b52c;try{!_0x391e40['gridId']&&(logger['error'](_0x5163c2[_0x53fa18(0x1b2)]),process[_0x53fa18(0x1c5)](0x1));!fs[_0x53fa18(0x1dc)](_0x5163c2[_0x53fa18(0x1b9)](getCredentialsPath))&&(logger['error'](_0x5163c2[_0x53fa18(0x1af)]),await _0x5163c2[_0x53fa18(0x1bd)](sendInstrumentationEvent,_0x391e40,_0x5163c2[_0x53fa18(0x1c1)],messageTypes['ERROR'],_0x5163c2[_0x53fa18(0x197)],null,_0x391e40),process['exit'](0x1));logger[_0x53fa18(0x1aa)]('Starting\x20grid\x20'+_0x391e40[_0x53fa18(0x1b7)]),await _0x5163c2[_0x53fa18(0x1bd)](sendInstrumentationEvent,_0x391e40,_0x5163c2[_0x53fa18(0x1c1)],messageTypes[_0x53fa18(0x1dd)],null,null,_0x391e40);const _0x244ff7=JSON[_0x53fa18(0x1bc)](fs[_0x53fa18(0x19f)](_0x5163c2[_0x53fa18(0x1b9)](getCredentialsPath)));global_registry[_0x53fa18(0x1bf)]=_0x244ff7[_0x53fa18(0x1a6)][_0x53fa18(0x19e)],global_registry[_0x53fa18(0x1bb)]=_0x244ff7[_0x53fa18(0x1a6)][_0x53fa18(0x195)];const _0x404814=WS_ENDPOINT[_0x53fa18(0x1a5)](_0x5163c2[_0x53fa18(0x1eb)],_0x244ff7[_0x53fa18(0x1a6)][_0x53fa18(0x19e)])[_0x53fa18(0x1a5)](_0x5163c2[_0x53fa18(0x1ab)],_0x244ff7['Browserstack'][_0x53fa18(0x195)]),_0x40813f={};_0x40813f['WebSocket']=ws,_0x40813f[_0x53fa18(0x1d3)]=0x36ee80,_0x49b52c=new ReconnectingWebSocket(_0x404814,[],_0x40813f),logger['debug'](_0x5163c2[_0x53fa18(0x1a4)]),webSocketUtils[_0x53fa18(0x1db)](_0x49b52c,_0x391e40[_0x53fa18(0x1cc)],_0x391e40[_0x53fa18(0x195)]);const [_0x2f1a46,_0x4383f7]=await _0x5163c2['oygqh'](getGridDetails,_0x244ff7[_0x53fa18(0x1a6)][_0x53fa18(0x19e)],_0x244ff7[_0x53fa18(0x1a6)][_0x53fa18(0x195)],_0x391e40[_0x53fa18(0x1b7)]);if(_0x4383f7){const _0x265d4b=_0x4383f7['info'];global_registry['cloudProvider']=_0x265d4b[_0x53fa18(0x1e7)],global_registry[_0x53fa18(0x1e4)]=_0x265d4b[_0x53fa18(0x1a1)],global_registry[_0x53fa18(0x1e8)]=_0x265d4b[_0x53fa18(0x1e8)];const _0x2fa5c7=await _0x5163c2[_0x53fa18(0x1bd)](getCloudProviderObject,_0x265d4b[_0x53fa18(0x1e7)],_0x265d4b[_0x53fa18(0x1e8)],_0x265d4b[_0x53fa18(0x199)],_0x49b52c,webSocketUtils,_0x391e40),[_0x62e8f7,_0x362ddd,_0x194fa8,_0xf6cb2e,_0x5a884d,_0x44d360]=await _0x5163c2['LnFZf'](createK8sClient,_0x2fa5c7,_0x391e40['skipTlsCertVerify']);await _0x5163c2['LnFZf'](scaleUpHubDeployment,_0x362ddd,_0x265d4b[_0x53fa18(0x199)]),logger[_0x53fa18(0x1aa)](_0x5163c2[_0x53fa18(0x1cf)]),process[_0x53fa18(0x1c5)](0x0);}_0x5163c2['BZXEn'](_0x2f1a46[_0x53fa18(0x1a2)],0x191)&&(logger[_0x53fa18(0x19a)](_0x5163c2['chgHr']),await _0x5163c2[_0x53fa18(0x1bd)](sendInstrumentationEvent,_0x391e40,_0x5163c2[_0x53fa18(0x1c1)],messageTypes[_0x53fa18(0x194)],_0x5163c2[_0x53fa18(0x1ca)],null,_0x391e40),process[_0x53fa18(0x1c5)](0x1)),_0x5163c2['DyJtW'](_0x2f1a46['statusCode'],0x190)&&(logger[_0x53fa18(0x19a)](JSON['parse'](_0x2f1a46[_0x53fa18(0x1e3)])[_0x53fa18(0x198)]),await _0x5163c2[_0x53fa18(0x1ad)](sendInstrumentationEvent,_0x391e40,_0x5163c2[_0x53fa18(0x1c1)],messageTypes[_0x53fa18(0x194)],_0x5163c2[_0x53fa18(0x1da)],null,_0x391e40),process[_0x53fa18(0x1c5)](0x1)),logger['error']('Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20'+JSON[_0x53fa18(0x1d5)](_0x2f1a46)),await _0x5163c2[_0x53fa18(0x1e1)](sendInstrumentationEvent,_0x391e40,_0x5163c2['cuJQC'],messageTypes['ERROR'],_0x5163c2[_0x53fa18(0x1de)],_0x2f1a46,_0x391e40),process[_0x53fa18(0x1c5)](0x1);}catch(_0x52d9a6){const _0x4458ac='Unable\x20to\x20start\x20the\x20Grid!\x20Error:\x20'+_0x52d9a6+'\x20\x0a'+JSON['stringify'](_0x52d9a6[_0x53fa18(0x1be)])+'\x20';logger['error'](_0x4458ac),process['exit'](0x1);}};