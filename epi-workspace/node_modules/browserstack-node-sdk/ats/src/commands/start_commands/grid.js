const a19_0x3be6d8=a19_0x18ec;function a19_0x18ec(_0x4b7f79,_0x20395e){const _0x34327c=a19_0x3432();return a19_0x18ec=function(_0x18eca3,_0x28ed4b){_0x18eca3=_0x18eca3-0x114;let _0x18bcd5=_0x34327c[_0x18eca3];return _0x18bcd5;},a19_0x18ec(_0x4b7f79,_0x20395e);}(function(_0x185340,_0x5e7787){const _0x4f5ed9=a19_0x18ec,_0x508ff0=_0x185340();while(!![]){try{const _0x37c69a=-parseInt(_0x4f5ed9(0x134))/0x1*(parseInt(_0x4f5ed9(0x13f))/0x2)+parseInt(_0x4f5ed9(0x135))/0x3+parseInt(_0x4f5ed9(0x16a))/0x4+parseInt(_0x4f5ed9(0x15b))/0x5+parseInt(_0x4f5ed9(0x12e))/0x6+parseInt(_0x4f5ed9(0x151))/0x7+parseInt(_0x4f5ed9(0x137))/0x8*(-parseInt(_0x4f5ed9(0x157))/0x9);if(_0x37c69a===_0x5e7787)break;else _0x508ff0['push'](_0x508ff0['shift']());}catch(_0x1b1de9){_0x508ff0['push'](_0x508ff0['shift']());}}}(a19_0x3432,0x5c48d));const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require(a19_0x3be6d8(0x13e)),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a19_0x3be6d8(0x129)),{logger}=require(a19_0x3be6d8(0x114)),{getCredentialsPath,getGridDetails}=require(a19_0x3be6d8(0x142)),{scaleUpHubDeployment}=require(a19_0x3be6d8(0x143)),{sendInstrumentationEvent}=require(a19_0x3be6d8(0x119)),webSocketUtils=require('../../utils/webSocketUtils'),{createK8sClient}=require(a19_0x3be6d8(0x159)),{getCloudProviderObject}=require('../../cloudproviders/utils');exports[a19_0x3be6d8(0x11a)]=a19_0x3be6d8(0x123),exports[a19_0x3be6d8(0x136)]=a19_0x3be6d8(0x170),exports[a19_0x3be6d8(0x163)]=function(_0x5cfa5d){const _0x207d95=a19_0x3be6d8,_0x45cae3={};_0x45cae3[_0x207d95(0x12a)]=_0x207d95(0x14a),_0x45cae3['oKJWv']=_0x207d95(0x13a),_0x45cae3[_0x207d95(0x14f)]=_0x207d95(0x11b),_0x45cae3[_0x207d95(0x15e)]=_0x207d95(0x156),_0x45cae3[_0x207d95(0x121)]=_0x207d95(0x124);const _0x35bc11=_0x45cae3,_0x1dc05f={};_0x1dc05f[_0x207d95(0x128)]=_0x35bc11['uBBJe'],_0x1dc05f[_0x207d95(0x169)]=_0x35bc11[_0x207d95(0x14d)];const _0x269788={};_0x269788[_0x207d95(0x128)]=_0x35bc11['DsxdL'],_0x269788[_0x207d95(0x169)]=_0x35bc11['CBKLI'],_0x269788[_0x207d95(0x130)]=![];const _0x23269e={};return _0x23269e[_0x207d95(0x165)]=_0x1dc05f,_0x23269e[_0x207d95(0x16f)]=_0x269788,_0x5cfa5d[_0x207d95(0x16e)](HELP_HEADER_MESSAGE[_0x207d95(0x14b)])[_0x207d95(0x13d)](HELP_FOOTER_MESSAGE)[_0x207d95(0x162)](_0x23269e)[_0x207d95(0x124)](_0x35bc11['NzXuW'])[_0x207d95(0x11e)];},exports[a19_0x3be6d8(0x138)]=async function(_0x17367e){const _0x389113=a19_0x3be6d8,_0x4bab99={'cfjpa':_0x389113(0x167),'zErcq':function(_0x508427){return _0x508427();},'xQCnb':_0x389113(0x15c),'kcSTw':function(_0x3d2f80,_0x35a063,_0x104223,_0xbed7dc,_0x5ea704,_0x1475be,_0x4a277c){return _0x3d2f80(_0x35a063,_0x104223,_0xbed7dc,_0x5ea704,_0x1475be,_0x4a277c);},'QKrIt':'start-grid-called','pkSbQ':'init-not-called','OTnwt':function(_0x2dff8b,_0x4f8a7a,_0x281c8c,_0xfbd7b1,_0x35cf5c,_0xc778c7,_0x75560f){return _0x2dff8b(_0x4f8a7a,_0x281c8c,_0xfbd7b1,_0x35cf5c,_0xc778c7,_0x75560f);},'pFirX':_0x389113(0x139),'qbTHk':_0x389113(0x149),'fEuMU':_0x389113(0x132),'lhBuK':function(_0x5edf52,_0x25533b,_0x34ba5b,_0x25c8b3){return _0x5edf52(_0x25533b,_0x34ba5b,_0x25c8b3);},'SUXpr':function(_0x3951ae,_0x421a07,_0x2430c3){return _0x3951ae(_0x421a07,_0x2430c3);},'FSuLl':_0x389113(0x15a),'CBXPP':function(_0x163150,_0x18af25){return _0x163150===_0x18af25;},'PXIDn':_0x389113(0x16c),'RFxNZ':function(_0x282076,_0x556527,_0x2d424c,_0xbf23c,_0x3f498e,_0x40fa8d,_0x3fda08){return _0x282076(_0x556527,_0x2d424c,_0xbf23c,_0x3f498e,_0x40fa8d,_0x3fda08);},'TyIxy':_0x389113(0x168),'ENclc':'invalid-grid-id','uzpcz':function(_0x51fdc6,_0x271ab8,_0x18af3e,_0x12dd26,_0x3c7b99,_0x57a916,_0x141b8b){return _0x51fdc6(_0x271ab8,_0x18af3e,_0x12dd26,_0x3c7b99,_0x57a916,_0x141b8b);},'ozCdb':_0x389113(0x12b)};let _0x6c3144;try{!_0x17367e[_0x389113(0x14e)]&&(logger['error'](_0x4bab99[_0x389113(0x153)]),process[_0x389113(0x15f)](0x1));!fs['existsSync'](_0x4bab99[_0x389113(0x140)](getCredentialsPath))&&(logger[_0x389113(0x11f)](_0x4bab99[_0x389113(0x173)]),await _0x4bab99[_0x389113(0x155)](sendInstrumentationEvent,_0x17367e,_0x4bab99['QKrIt'],messageTypes[_0x389113(0x125)],_0x4bab99['pkSbQ'],null,_0x17367e),process[_0x389113(0x15f)](0x1));logger[_0x389113(0x166)](_0x389113(0x133)+_0x17367e[_0x389113(0x14e)]),await _0x4bab99[_0x389113(0x12c)](sendInstrumentationEvent,_0x17367e,_0x4bab99[_0x389113(0x144)],messageTypes['INFO'],null,null,_0x17367e);const _0x530855=JSON['parse'](fs[_0x389113(0x152)](_0x4bab99[_0x389113(0x140)](getCredentialsPath)));global_registry[_0x389113(0x16b)]=_0x530855[_0x389113(0x11d)][_0x389113(0x141)],global_registry[_0x389113(0x12f)]=_0x530855[_0x389113(0x11d)][_0x389113(0x115)];const _0x82c7f6=WS_ENDPOINT[_0x389113(0x11c)](_0x4bab99[_0x389113(0x154)],_0x530855[_0x389113(0x11d)][_0x389113(0x141)])[_0x389113(0x11c)](_0x4bab99['qbTHk'],_0x530855['Browserstack'][_0x389113(0x115)]),_0x526090={};_0x526090[_0x389113(0x12d)]=ws,_0x526090[_0x389113(0x150)]=0x36ee80,_0x6c3144=new ReconnectingWebSocket(_0x82c7f6,[],_0x526090),logger['debug'](_0x4bab99['fEuMU']),webSocketUtils[_0x389113(0x146)](_0x6c3144,_0x17367e[_0x389113(0x13c)],_0x17367e[_0x389113(0x115)]);const [_0x277bbd,_0x9e5f24]=await _0x4bab99[_0x389113(0x172)](getGridDetails,_0x530855[_0x389113(0x11d)][_0x389113(0x141)],_0x530855[_0x389113(0x11d)][_0x389113(0x115)],_0x17367e['gridId']);if(_0x9e5f24){const _0x2362b8=_0x9e5f24['info'];global_registry['cloudProvider']=_0x2362b8[_0x389113(0x161)],global_registry[_0x389113(0x122)]=_0x2362b8[_0x389113(0x126)],global_registry[_0x389113(0x131)]=_0x2362b8[_0x389113(0x131)];const _0x2bce89=await _0x4bab99[_0x389113(0x12c)](getCloudProviderObject,_0x2362b8['cloudProvider'],_0x2362b8[_0x389113(0x131)],_0x2362b8[_0x389113(0x160)],_0x6c3144,webSocketUtils,_0x17367e),[_0xafe654,_0xe3ef44,_0xb2040,_0x4de72c,_0x3dc015,_0x4b693b]=await _0x4bab99['SUXpr'](createK8sClient,_0x2bce89,_0x17367e[_0x389113(0x118)]);await _0x4bab99[_0x389113(0x13b)](scaleUpHubDeployment,_0xe3ef44,_0x2362b8[_0x389113(0x160)]),logger[_0x389113(0x166)](_0x4bab99[_0x389113(0x171)]),process['exit'](0x0);}_0x4bab99[_0x389113(0x15d)](_0x277bbd[_0x389113(0x164)],0x191)&&(logger['error'](_0x4bab99[_0x389113(0x14c)]),await _0x4bab99[_0x389113(0x147)](sendInstrumentationEvent,_0x17367e,_0x4bab99[_0x389113(0x144)],messageTypes['ERROR'],_0x4bab99[_0x389113(0x148)],null,_0x17367e),process[_0x389113(0x15f)](0x1)),_0x4bab99[_0x389113(0x15d)](_0x277bbd[_0x389113(0x164)],0x190)&&(logger[_0x389113(0x11f)](JSON['parse'](_0x277bbd[_0x389113(0x127)])[_0x389113(0x145)]),await _0x4bab99['kcSTw'](sendInstrumentationEvent,_0x17367e,_0x4bab99[_0x389113(0x144)],messageTypes[_0x389113(0x125)],_0x4bab99[_0x389113(0x117)],null,_0x17367e),process[_0x389113(0x15f)](0x1)),logger['error']('Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20'+JSON[_0x389113(0x158)](_0x277bbd)),await _0x4bab99[_0x389113(0x116)](sendInstrumentationEvent,_0x17367e,_0x4bab99[_0x389113(0x144)],messageTypes['ERROR'],_0x4bab99[_0x389113(0x16d)],_0x277bbd,_0x17367e),process[_0x389113(0x15f)](0x1);}catch(_0x5ce2b7){const _0x3aab22='Unable\x20to\x20start\x20the\x20Grid!\x20Error:\x20'+_0x5ce2b7+'\x20\x0a'+JSON[_0x389113(0x158)](_0x5ce2b7[_0x389113(0x120)])+'\x20';logger[_0x389113(0x11f)](_0x3aab22),process[_0x389113(0x15f)](0x1);}};function a19_0x3432(){const _0x38405c=['2947546gUzTbh','readFileSync','cfjpa','pFirX','kcSTw','boolean','9QJyxaz','stringify','../../utils/createk8sClient','Grid\x20started','1212500slVrgV','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','CBXPP','CBKLI','exit','name','cloudProvider','options','builder','statusCode','grid-id','info','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20start','unauthorised','type','2359088NRCxJp','bstackUsername','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','ozCdb','usage','skip-tls-cert-verify','Start\x20an\x20existing\x20Automation\x20grid.','FSuLl','lhBuK','xQCnb','../../config/logger','password','uzpcz','ENclc','skipTlsCertVerify','../../utils/instrumentationUtils','command','Skip\x20insecure\x20cert\x20verification.','replace','Browserstack','argv','error','stack','NzXuW','clusterRegion','grid','help','ERROR','region','body','description','../../config/constants','uBBJe','server-error','OTnwt','WebSocket','2914260KPHYnd','bstackAccesskey','default','clusterName','Adding\x20Websocket\x20listeners','Starting\x20grid\x20','528443cUgcUL','916845Wewejc','desc','9105880dyoGCt','handler','<UsernamePlaceholder>','string','SUXpr','user','epilogue','reconnecting-websocket','2KMUvMf','zErcq','username','../../utils/utilityMethods','../../utils/gridComponents','QKrIt','message','addListeners','RFxNZ','TyIxy','<PasswordPlaceholder>','Pass\x20the\x20ID\x20of\x20the\x20existing\x20Automation\x20grid\x20you\x20want\x20to\x20start.','start','PXIDn','oKJWv','gridId','DsxdL','connectionTimeout'];a19_0x3432=function(){return _0x38405c;};return a19_0x3432();}