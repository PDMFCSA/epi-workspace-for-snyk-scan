function a19_0x3ac8(_0x41f5d2,_0x369b00){const _0x4307ee=a19_0x4307();return a19_0x3ac8=function(_0x3ac863,_0x19ef84){_0x3ac863=_0x3ac863-0xc8;let _0x11cc03=_0x4307ee[_0x3ac863];return _0x11cc03;},a19_0x3ac8(_0x41f5d2,_0x369b00);}const a19_0xffc654=a19_0x3ac8;(function(_0x38091e,_0x34fa55){const _0x28278b=a19_0x3ac8,_0x11ee99=_0x38091e();while(!![]){try{const _0xe6ee5b=-parseInt(_0x28278b(0x101))/0x1+-parseInt(_0x28278b(0xdc))/0x2+-parseInt(_0x28278b(0xd1))/0x3*(-parseInt(_0x28278b(0x11e))/0x4)+-parseInt(_0x28278b(0xf2))/0x5*(parseInt(_0x28278b(0x102))/0x6)+-parseInt(_0x28278b(0xff))/0x7+-parseInt(_0x28278b(0x128))/0x8+-parseInt(_0x28278b(0xda))/0x9*(-parseInt(_0x28278b(0x11f))/0xa);if(_0xe6ee5b===_0x34fa55)break;else _0x11ee99['push'](_0x11ee99['shift']());}catch(_0x2e3861){_0x11ee99['push'](_0x11ee99['shift']());}}}(a19_0x4307,0x98421));const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require('reconnecting-websocket'),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a19_0xffc654(0x126)),{logger}=require('../../config/logger'),{getCredentialsPath,getGridDetails}=require(a19_0xffc654(0x112)),{scaleUpHubDeployment}=require(a19_0xffc654(0x10e)),{sendInstrumentationEvent}=require(a19_0xffc654(0x125)),webSocketUtils=require('../../utils/webSocketUtils'),{createK8sClient}=require(a19_0xffc654(0xdd)),{getCloudProviderObject}=require(a19_0xffc654(0xe6));function a19_0x4307(){const _0x1f4cc9=['stack','../../utils/utilityMethods','init-not-called','builder','skipTlsCertVerify','INwTo','idykK','exit','connectionTimeout','replace','mLwTf','default','nFPLZ','4ScHPAV','30950UrrHxk','BbsXP','invalid-grid-id','skip-tls-cert-verify','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','GQzgj','../../utils/instrumentationUtils','../../config/constants','stringify','8751672KFfCGO','existsSync','ZOXnu','readFileSync','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','MloDr','gridId','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','FzUEQ','usage','ERROR','1461171tQAhXn','info','region','error','QFtiB','epilogue','string','bstackAccesskey','addListeners','5787DPKFyS','description','156866XdwmtW','../../utils/createk8sClient','<PasswordPlaceholder>','Pass\x20the\x20ID\x20of\x20the\x20existing\x20Automation\x20grid\x20you\x20want\x20to\x20start.','yEkqn','TTYCE','eBwYD','AYzpw','user','Browserstack','../../cloudproviders/utils','Starting\x20grid\x20','Grid\x20started','type','message','help','argv','PTXxP','Skip\x20insecure\x20cert\x20verification.','OvkgZ','duKaf','boolean','20770cnmROV','body','statusCode','parse','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20start','start','Unable\x20to\x20start\x20the\x20Grid!\x20Error:\x20','username','INFO','options','server-error','clusterRegion','ZyyBT','229474lFQJQw','unauthorised','58451CRZSAL','852ScZNxR','cloudProvider','hIuKj','clusterName','SixBW','password','Adding\x20Websocket\x20listeners','AjuDT','debug','MzsnC','OOmqh','name','../../utils/gridComponents','WqCQc','stcoe'];a19_0x4307=function(){return _0x1f4cc9;};return a19_0x4307();}exports['command']='grid',exports['desc']='Start\x20an\x20existing\x20Automation\x20grid.',exports[a19_0xffc654(0x114)]=function(_0x294a8f){const _0xaff48=a19_0xffc654,_0xcce63f={};_0xcce63f[_0xaff48(0xc8)]=_0xaff48(0xdf),_0xcce63f['yEkqn']=_0xaff48(0xd7),_0xcce63f[_0xaff48(0x120)]=_0xaff48(0xee),_0xcce63f['FzUEQ']=_0xaff48(0xf1),_0xcce63f[_0xaff48(0x117)]=_0xaff48(0xeb);const _0x4012b7=_0xcce63f,_0x388491={};_0x388491['description']=_0x4012b7['ZOXnu'],_0x388491[_0xaff48(0xe9)]=_0x4012b7[_0xaff48(0xe0)];const _0x5a91ec={};_0x5a91ec[_0xaff48(0xdb)]=_0x4012b7['BbsXP'],_0x5a91ec[_0xaff48(0xe9)]=_0x4012b7[_0xaff48(0xce)],_0x5a91ec[_0xaff48(0x11c)]=![];const _0x58d663={};return _0x58d663['grid-id']=_0x388491,_0x58d663[_0xaff48(0x122)]=_0x5a91ec,_0x294a8f[_0xaff48(0xcf)](HELP_HEADER_MESSAGE[_0xaff48(0xf7)])[_0xaff48(0xd6)](HELP_FOOTER_MESSAGE)[_0xaff48(0xfb)](_0x58d663)[_0xaff48(0xeb)](_0x4012b7['idykK'])[_0xaff48(0xec)];},exports['handler']=async function(_0xf32895){const _0x8f67df=a19_0xffc654,_0x24e22c={'hIuKj':_0x8f67df(0xf6),'BMhXp':function(_0xc555bb){return _0xc555bb();},'AjuDT':_0x8f67df(0xcd),'WqCQc':function(_0xb8a240,_0x35ea44,_0x12c680,_0xaade8d,_0x245b07,_0x3566d0,_0x1a28ee){return _0xb8a240(_0x35ea44,_0x12c680,_0xaade8d,_0x245b07,_0x3566d0,_0x1a28ee);},'mLwTf':'start-grid-called','TTYCE':_0x8f67df(0x113),'OOmqh':function(_0x48233d){return _0x48233d();},'PTXxP':'<UsernamePlaceholder>','stcoe':_0x8f67df(0xde),'AYzpw':_0x8f67df(0x108),'GQzgj':function(_0x10aae6,_0x2ef706,_0x16c8c7,_0x27d371){return _0x10aae6(_0x2ef706,_0x16c8c7,_0x27d371);},'MloDr':function(_0x4eeded,_0x318399,_0x462852){return _0x4eeded(_0x318399,_0x462852);},'OvkgZ':function(_0x13ee92,_0x5e1b42,_0x10eb05){return _0x13ee92(_0x5e1b42,_0x10eb05);},'nFPLZ':_0x8f67df(0xe8),'INwTo':function(_0x34bd05,_0x42c256){return _0x34bd05===_0x42c256;},'QFtiB':_0x8f67df(0xca),'eBwYD':function(_0x2229be,_0x3c01f8,_0x17f723,_0x2e75b6,_0x2868a3,_0x1c3f81,_0x3c369c){return _0x2229be(_0x3c01f8,_0x17f723,_0x2e75b6,_0x2868a3,_0x1c3f81,_0x3c369c);},'MzsnC':_0x8f67df(0x100),'duKaf':function(_0x426ec1,_0x226d45){return _0x426ec1===_0x226d45;},'ZyyBT':_0x8f67df(0x121),'hXcFr':function(_0x1cfb2b,_0x105275,_0x2c96c5,_0x4b5884,_0x4b7f65,_0x19574d,_0x52654f){return _0x1cfb2b(_0x105275,_0x2c96c5,_0x4b5884,_0x4b7f65,_0x19574d,_0x52654f);},'SixBW':_0x8f67df(0xfc)};let _0x190915;try{!_0xf32895[_0x8f67df(0xcc)]&&(logger[_0x8f67df(0xd4)](_0x24e22c[_0x8f67df(0x104)]),process[_0x8f67df(0x118)](0x1));!fs[_0x8f67df(0x129)](_0x24e22c['BMhXp'](getCredentialsPath))&&(logger['error'](_0x24e22c[_0x8f67df(0x109)]),await _0x24e22c['WqCQc'](sendInstrumentationEvent,_0xf32895,_0x24e22c[_0x8f67df(0x11b)],messageTypes[_0x8f67df(0xd0)],_0x24e22c[_0x8f67df(0xe1)],null,_0xf32895),process['exit'](0x1));logger['info'](_0x8f67df(0xe7)+_0xf32895[_0x8f67df(0xcc)]),await _0x24e22c[_0x8f67df(0x10f)](sendInstrumentationEvent,_0xf32895,_0x24e22c[_0x8f67df(0x11b)],messageTypes[_0x8f67df(0xfa)],null,null,_0xf32895);const _0x36464c=JSON['parse'](fs[_0x8f67df(0xc9)](_0x24e22c[_0x8f67df(0x10c)](getCredentialsPath)));global_registry['bstackUsername']=_0x36464c[_0x8f67df(0xe5)][_0x8f67df(0xf9)],global_registry[_0x8f67df(0xd8)]=_0x36464c[_0x8f67df(0xe5)][_0x8f67df(0x107)];const _0x4d5996=WS_ENDPOINT[_0x8f67df(0x11a)](_0x24e22c[_0x8f67df(0xed)],_0x36464c[_0x8f67df(0xe5)][_0x8f67df(0xf9)])['replace'](_0x24e22c[_0x8f67df(0x110)],_0x36464c['Browserstack']['password']),_0x522bc5={};_0x522bc5['WebSocket']=ws,_0x522bc5[_0x8f67df(0x119)]=0x36ee80,_0x190915=new ReconnectingWebSocket(_0x4d5996,[],_0x522bc5),logger[_0x8f67df(0x10a)](_0x24e22c[_0x8f67df(0xe3)]),webSocketUtils[_0x8f67df(0xd9)](_0x190915,_0xf32895[_0x8f67df(0xe4)],_0xf32895[_0x8f67df(0x107)]);const [_0x3b0343,_0x4c6091]=await _0x24e22c[_0x8f67df(0x124)](getGridDetails,_0x36464c[_0x8f67df(0xe5)][_0x8f67df(0xf9)],_0x36464c[_0x8f67df(0xe5)][_0x8f67df(0x107)],_0xf32895['gridId']);if(_0x4c6091){const _0xbdcf00=_0x4c6091[_0x8f67df(0xd2)];global_registry[_0x8f67df(0x103)]=_0xbdcf00[_0x8f67df(0x103)],global_registry[_0x8f67df(0xfd)]=_0xbdcf00[_0x8f67df(0xd3)],global_registry['clusterName']=_0xbdcf00[_0x8f67df(0x105)];const _0x33a8a5=await _0x24e22c[_0x8f67df(0x10f)](getCloudProviderObject,_0xbdcf00[_0x8f67df(0x103)],_0xbdcf00[_0x8f67df(0x105)],_0xbdcf00[_0x8f67df(0x10d)],_0x190915,webSocketUtils,_0xf32895),[_0x5f0550,_0x1e0d3a,_0x2e28f5,_0x446ca3,_0x55ec15,_0x2b4769]=await _0x24e22c[_0x8f67df(0xcb)](createK8sClient,_0x33a8a5,_0xf32895[_0x8f67df(0x115)]);await _0x24e22c[_0x8f67df(0xef)](scaleUpHubDeployment,_0x1e0d3a,_0xbdcf00[_0x8f67df(0x10d)]),logger[_0x8f67df(0xd2)](_0x24e22c[_0x8f67df(0x11d)]),process[_0x8f67df(0x118)](0x0);}_0x24e22c[_0x8f67df(0x116)](_0x3b0343['statusCode'],0x191)&&(logger[_0x8f67df(0xd4)](_0x24e22c[_0x8f67df(0xd5)]),await _0x24e22c[_0x8f67df(0xe2)](sendInstrumentationEvent,_0xf32895,_0x24e22c['mLwTf'],messageTypes[_0x8f67df(0xd0)],_0x24e22c[_0x8f67df(0x10b)],null,_0xf32895),process[_0x8f67df(0x118)](0x1)),_0x24e22c[_0x8f67df(0xf0)](_0x3b0343[_0x8f67df(0xf4)],0x190)&&(logger['error'](JSON[_0x8f67df(0xf5)](_0x3b0343[_0x8f67df(0xf3)])[_0x8f67df(0xea)]),await _0x24e22c[_0x8f67df(0x10f)](sendInstrumentationEvent,_0xf32895,_0x24e22c[_0x8f67df(0x11b)],messageTypes[_0x8f67df(0xd0)],_0x24e22c[_0x8f67df(0xfe)],null,_0xf32895),process[_0x8f67df(0x118)](0x1)),logger['error'](_0x8f67df(0x123)+JSON[_0x8f67df(0x127)](_0x3b0343)),await _0x24e22c['hXcFr'](sendInstrumentationEvent,_0xf32895,_0x24e22c[_0x8f67df(0x11b)],messageTypes['ERROR'],_0x24e22c[_0x8f67df(0x106)],_0x3b0343,_0xf32895),process['exit'](0x1);}catch(_0x51ff9e){const _0x1c75ab=_0x8f67df(0xf8)+_0x51ff9e+'\x20\x0a'+JSON[_0x8f67df(0x127)](_0x51ff9e[_0x8f67df(0x111)])+'\x20';logger['error'](_0x1c75ab),process[_0x8f67df(0x118)](0x1);}};