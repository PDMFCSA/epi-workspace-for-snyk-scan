const a19_0x521872=a19_0x55bd;(function(_0x56455e,_0x4ed653){const _0x53d1fd=a19_0x55bd,_0x11c83d=_0x56455e();while(!![]){try{const _0x1975f4=-parseInt(_0x53d1fd(0x1d2))/0x1*(-parseInt(_0x53d1fd(0x209))/0x2)+parseInt(_0x53d1fd(0x228))/0x3*(-parseInt(_0x53d1fd(0x235))/0x4)+-parseInt(_0x53d1fd(0x1ce))/0x5*(-parseInt(_0x53d1fd(0x1d8))/0x6)+parseInt(_0x53d1fd(0x216))/0x7*(-parseInt(_0x53d1fd(0x1ff))/0x8)+-parseInt(_0x53d1fd(0x1f7))/0x9+-parseInt(_0x53d1fd(0x1cf))/0xa*(parseInt(_0x53d1fd(0x200))/0xb)+-parseInt(_0x53d1fd(0x1de))/0xc*(-parseInt(_0x53d1fd(0x211))/0xd);if(_0x1975f4===_0x4ed653)break;else _0x11c83d['push'](_0x11c83d['shift']());}catch(_0x2290e5){_0x11c83d['push'](_0x11c83d['shift']());}}}(a19_0x1a1a,0x9d564));function a19_0x1a1a(){const _0x34c763=['skTJC','YIbNf','name','invalid-grid-id','message','stringify','InxLu','stack','default','password','readFileSync','30jmPJTL','unauthorised','statusCode','region','Starting\x20grid\x20','GvamV','string','../../utils/utilityMethods','bstackUsername','cloudProvider','ytqMh','UMPIX','info','796yFDCAM','skipTlsCertVerify','debug','15935hYTwNg','83240GlhHKw','argv','start','277dmZUPF','<PasswordPlaceholder>','jiJYL','parse','skip-tls-cert-verify','replace','816qemQEx','desc','CfPqD','bstackAccesskey','options','addListeners','175416pSHchb','username','Skip\x20insecure\x20cert\x20verification.','Agsvw','../../utils/webSocketUtils','clusterRegion','RHpjM','MqApG','eVdOC','exit','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','type','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20start','Pass\x20the\x20ID\x20of\x20the\x20existing\x20Automation\x20grid\x20you\x20want\x20to\x20start.','body','gridId','../../config/constants','cZdpB','start-grid-called','../../cloudproviders/utils','Grid\x20started','ZjDMI','usage','epilogue','URBic','7069644YWlvQf','../../utils/createk8sClient','../../config/logger','grid','INFO','tdTzs','oBMJL','Start\x20an\x20existing\x20Automation\x20grid.','7432EXyWAF','682jFSNQl','ERROR','help','Browserstack','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','description','WebSocket','KSOUj','kJKwW','4586CGYUuI','IOwNF','../../utils/gridComponents','error','existsSync','handler','UWRxL','init-not-called','1391cMuEWF','Unable\x20to\x20start\x20the\x20Grid!\x20Error:\x20','fmQhm','../../utils/instrumentationUtils','builder','5159jIlVkM','grid-id','DbcQk','user','clusterName','boolean','command'];a19_0x1a1a=function(){return _0x34c763;};return a19_0x1a1a();}function a19_0x55bd(_0x46a067,_0x1e692e){const _0x1a1a78=a19_0x1a1a();return a19_0x55bd=function(_0x55bdf4,_0x533773){_0x55bdf4=_0x55bdf4-0x1cc;let _0x34505c=_0x1a1a78[_0x55bdf4];return _0x34505c;},a19_0x55bd(_0x46a067,_0x1e692e);}const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require('reconnecting-websocket'),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a19_0x521872(0x1ee)),{logger}=require(a19_0x521872(0x1f9)),{getCredentialsPath,getGridDetails}=require(a19_0x521872(0x22f)),{scaleUpHubDeployment}=require(a19_0x521872(0x20b)),{sendInstrumentationEvent}=require(a19_0x521872(0x214)),webSocketUtils=require(a19_0x521872(0x1e2)),{createK8sClient}=require(a19_0x521872(0x1f8)),{getCloudProviderObject}=require(a19_0x521872(0x1f1));exports[a19_0x521872(0x21c)]=a19_0x521872(0x1fa),exports[a19_0x521872(0x1d9)]=a19_0x521872(0x1fe),exports[a19_0x521872(0x215)]=function(_0x26e8b2){const _0x238bae=a19_0x521872,_0x6c6ea5={};_0x6c6ea5[_0x238bae(0x223)]=_0x238bae(0x1eb),_0x6c6ea5[_0x238bae(0x233)]=_0x238bae(0x22e),_0x6c6ea5[_0x238bae(0x232)]=_0x238bae(0x1e0),_0x6c6ea5[_0x238bae(0x1f6)]=_0x238bae(0x21b),_0x6c6ea5['eKeKL']=_0x238bae(0x202);const _0xf2e674=_0x6c6ea5,_0x203c44={};_0x203c44['description']=_0xf2e674[_0x238bae(0x223)],_0x203c44[_0x238bae(0x1e9)]=_0xf2e674[_0x238bae(0x233)];const _0x12839f={};_0x12839f[_0x238bae(0x205)]=_0xf2e674['ytqMh'],_0x12839f[_0x238bae(0x1e9)]=_0xf2e674[_0x238bae(0x1f6)],_0x12839f[_0x238bae(0x225)]=![];const _0x4fed52={};return _0x4fed52[_0x238bae(0x217)]=_0x203c44,_0x4fed52[_0x238bae(0x1d6)]=_0x12839f,_0x26e8b2[_0x238bae(0x1f4)](HELP_HEADER_MESSAGE[_0x238bae(0x1d1)])[_0x238bae(0x1f5)](HELP_FOOTER_MESSAGE)[_0x238bae(0x1dc)](_0x4fed52)[_0x238bae(0x202)](_0xf2e674['eKeKL'])[_0x238bae(0x1d0)];},exports[a19_0x521872(0x20e)]=async function(_0x5e9068){const _0xe4ca4c=a19_0x521872,_0x198c6d={'tdTzs':_0xe4ca4c(0x1ea),'GvamV':function(_0x55052f){return _0x55052f();},'cZdpB':_0xe4ca4c(0x1e8),'jiJYL':function(_0x33286e,_0x2442dc,_0x2508dc,_0x434108,_0x5503f0,_0x5d094d,_0x4361b2){return _0x33286e(_0x2442dc,_0x2508dc,_0x434108,_0x5503f0,_0x5d094d,_0x4361b2);},'RHpjM':_0xe4ca4c(0x1f0),'CfPqD':_0xe4ca4c(0x210),'ZjDMI':'<UsernamePlaceholder>','MqApG':_0xe4ca4c(0x1d3),'IOwNF':'Adding\x20Websocket\x20listeners','fmQhm':function(_0x4cea11,_0x1f4616,_0x6ccc43,_0x318d81){return _0x4cea11(_0x1f4616,_0x6ccc43,_0x318d81);},'CuXRM':function(_0x38b699,_0x16eac6,_0x710c7c){return _0x38b699(_0x16eac6,_0x710c7c);},'KSOUj':function(_0x3d8e92,_0x12b410,_0x1e2f79){return _0x3d8e92(_0x12b410,_0x1e2f79);},'Agsvw':_0xe4ca4c(0x1f2),'skTJC':function(_0x3a99df,_0xc08efc){return _0x3a99df===_0xc08efc;},'oBMJL':_0xe4ca4c(0x204),'eVdOC':function(_0x4b1b93,_0x22b806,_0x7756ce,_0x50a62e,_0x25f965,_0x220b1f,_0x59021a){return _0x4b1b93(_0x22b806,_0x7756ce,_0x50a62e,_0x25f965,_0x220b1f,_0x59021a);},'YIbNf':_0xe4ca4c(0x229),'DbcQk':function(_0x528f34,_0xe116a1,_0x173e29,_0x489a1d,_0xdd308f,_0x1e79f0,_0x613770){return _0x528f34(_0xe116a1,_0x173e29,_0x489a1d,_0xdd308f,_0x1e79f0,_0x613770);},'UWRxL':_0xe4ca4c(0x220),'kJKwW':function(_0x46bee6,_0x3bbd46,_0xbc3b11,_0xe36889,_0x5edd8a,_0x2e366d,_0xcc3efd){return _0x46bee6(_0x3bbd46,_0xbc3b11,_0xe36889,_0x5edd8a,_0x2e366d,_0xcc3efd);},'ISKsL':'server-error'};let _0x522a8f;try{!_0x5e9068['gridId']&&(logger[_0xe4ca4c(0x20c)](_0x198c6d[_0xe4ca4c(0x1fc)]),process[_0xe4ca4c(0x1e7)](0x1));!fs[_0xe4ca4c(0x20d)](_0x198c6d[_0xe4ca4c(0x22d)](getCredentialsPath))&&(logger[_0xe4ca4c(0x20c)](_0x198c6d[_0xe4ca4c(0x1ef)]),await _0x198c6d[_0xe4ca4c(0x1d4)](sendInstrumentationEvent,_0x5e9068,_0x198c6d[_0xe4ca4c(0x1e4)],messageTypes['ERROR'],_0x198c6d[_0xe4ca4c(0x1da)],null,_0x5e9068),process[_0xe4ca4c(0x1e7)](0x1));logger['info'](_0xe4ca4c(0x22c)+_0x5e9068[_0xe4ca4c(0x1ed)]),await _0x198c6d[_0xe4ca4c(0x1d4)](sendInstrumentationEvent,_0x5e9068,_0x198c6d[_0xe4ca4c(0x1e4)],messageTypes[_0xe4ca4c(0x1fb)],null,null,_0x5e9068);const _0x53b5a1=JSON[_0xe4ca4c(0x1d5)](fs[_0xe4ca4c(0x227)](_0x198c6d[_0xe4ca4c(0x22d)](getCredentialsPath)));global_registry[_0xe4ca4c(0x230)]=_0x53b5a1['Browserstack']['username'],global_registry[_0xe4ca4c(0x1db)]=_0x53b5a1[_0xe4ca4c(0x203)][_0xe4ca4c(0x226)];const _0x4182ec=WS_ENDPOINT[_0xe4ca4c(0x1d7)](_0x198c6d[_0xe4ca4c(0x1f3)],_0x53b5a1[_0xe4ca4c(0x203)][_0xe4ca4c(0x1df)])[_0xe4ca4c(0x1d7)](_0x198c6d[_0xe4ca4c(0x1e5)],_0x53b5a1['Browserstack'][_0xe4ca4c(0x226)]),_0x5c5ac2={};_0x5c5ac2[_0xe4ca4c(0x206)]=ws,_0x5c5ac2['connectionTimeout']=0x36ee80,_0x522a8f=new ReconnectingWebSocket(_0x4182ec,[],_0x5c5ac2),logger[_0xe4ca4c(0x1cd)](_0x198c6d[_0xe4ca4c(0x20a)]),webSocketUtils[_0xe4ca4c(0x1dd)](_0x522a8f,_0x5e9068[_0xe4ca4c(0x219)],_0x5e9068[_0xe4ca4c(0x226)]);const [_0x18c117,_0x46ebbd]=await _0x198c6d[_0xe4ca4c(0x213)](getGridDetails,_0x53b5a1[_0xe4ca4c(0x203)][_0xe4ca4c(0x1df)],_0x53b5a1[_0xe4ca4c(0x203)][_0xe4ca4c(0x226)],_0x5e9068[_0xe4ca4c(0x1ed)]);if(_0x46ebbd){const _0x30970f=_0x46ebbd[_0xe4ca4c(0x234)];global_registry[_0xe4ca4c(0x231)]=_0x30970f[_0xe4ca4c(0x231)],global_registry[_0xe4ca4c(0x1e3)]=_0x30970f[_0xe4ca4c(0x22b)],global_registry[_0xe4ca4c(0x21a)]=_0x30970f[_0xe4ca4c(0x21a)];const _0x5e9c34=await _0x198c6d['jiJYL'](getCloudProviderObject,_0x30970f[_0xe4ca4c(0x231)],_0x30970f[_0xe4ca4c(0x21a)],_0x30970f['name'],_0x522a8f,webSocketUtils,_0x5e9068),[_0x29462d,_0x559187,_0x51272e,_0x191494,_0x2ccbec,_0x56b152]=await _0x198c6d['CuXRM'](createK8sClient,_0x5e9c34,_0x5e9068[_0xe4ca4c(0x1cc)]);await _0x198c6d[_0xe4ca4c(0x207)](scaleUpHubDeployment,_0x559187,_0x30970f[_0xe4ca4c(0x21f)]),logger[_0xe4ca4c(0x234)](_0x198c6d[_0xe4ca4c(0x1e1)]),process[_0xe4ca4c(0x1e7)](0x0);}_0x198c6d[_0xe4ca4c(0x21d)](_0x18c117[_0xe4ca4c(0x22a)],0x191)&&(logger['error'](_0x198c6d[_0xe4ca4c(0x1fd)]),await _0x198c6d[_0xe4ca4c(0x1e6)](sendInstrumentationEvent,_0x5e9068,_0x198c6d[_0xe4ca4c(0x1e4)],messageTypes[_0xe4ca4c(0x201)],_0x198c6d[_0xe4ca4c(0x21e)],null,_0x5e9068),process[_0xe4ca4c(0x1e7)](0x1)),_0x198c6d['skTJC'](_0x18c117[_0xe4ca4c(0x22a)],0x190)&&(logger[_0xe4ca4c(0x20c)](JSON[_0xe4ca4c(0x1d5)](_0x18c117[_0xe4ca4c(0x1ec)])[_0xe4ca4c(0x221)]),await _0x198c6d[_0xe4ca4c(0x218)](sendInstrumentationEvent,_0x5e9068,_0x198c6d['RHpjM'],messageTypes[_0xe4ca4c(0x201)],_0x198c6d[_0xe4ca4c(0x20f)],null,_0x5e9068),process[_0xe4ca4c(0x1e7)](0x1)),logger[_0xe4ca4c(0x20c)]('Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20'+JSON[_0xe4ca4c(0x222)](_0x18c117)),await _0x198c6d[_0xe4ca4c(0x208)](sendInstrumentationEvent,_0x5e9068,_0x198c6d[_0xe4ca4c(0x1e4)],messageTypes[_0xe4ca4c(0x201)],_0x198c6d['ISKsL'],_0x18c117,_0x5e9068),process[_0xe4ca4c(0x1e7)](0x1);}catch(_0x59c018){const _0x5f17bf=_0xe4ca4c(0x212)+_0x59c018+'\x20\x0a'+JSON[_0xe4ca4c(0x222)](_0x59c018[_0xe4ca4c(0x224)])+'\x20';logger[_0xe4ca4c(0x20c)](_0x5f17bf),process[_0xe4ca4c(0x1e7)](0x1);}};