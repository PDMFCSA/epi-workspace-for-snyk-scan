const a19_0x42b2a4=a19_0x1d9d;(function(_0xea4a2c,_0x101ebc){const _0x36fd4e=a19_0x1d9d,_0x381817=_0xea4a2c();while(!![]){try{const _0x1410c9=-parseInt(_0x36fd4e(0xed))/0x1*(-parseInt(_0x36fd4e(0xa7))/0x2)+-parseInt(_0x36fd4e(0xeb))/0x3+parseInt(_0x36fd4e(0xbf))/0x4+parseInt(_0x36fd4e(0xf7))/0x5+parseInt(_0x36fd4e(0xee))/0x6*(-parseInt(_0x36fd4e(0xef))/0x7)+-parseInt(_0x36fd4e(0xc2))/0x8+parseInt(_0x36fd4e(0xd6))/0x9;if(_0x1410c9===_0x101ebc)break;else _0x381817['push'](_0x381817['shift']());}catch(_0x5a0cf6){_0x381817['push'](_0x381817['shift']());}}}(a19_0x479e,0xd0c0a));function a19_0x1d9d(_0x3820cf,_0x18d6f5){const _0x479e98=a19_0x479e();return a19_0x1d9d=function(_0x1d9ddc,_0x18c297){_0x1d9ddc=_0x1d9ddc-0xa0;let _0x454a4a=_0x479e98[_0x1d9ddc];return _0x454a4a;},a19_0x1d9d(_0x3820cf,_0x18d6f5);}function a19_0x479e(){const _0x29bdf5=['11262177zfFtCD','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','debug','<UsernamePlaceholder>','../../config/logger','../../utils/createk8sClient','Adding\x20Websocket\x20listeners','password','INFO','username','vqlPp','error','name','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','message','../../config/constants','clusterRegion','server-error','dTQww','sRjzW','connectionTimeout','2726508XIkNWW','HzpTp','79458nVdjbw','353382urVmAw','14YAWmlq','bstackUsername','iSaHS','reconnecting-websocket','KfRyI','../../utils/instrumentationUtils','desc','stringify','457025EChIKE','cankS','info','skip-tls-cert-verify','body','SFJXc','unauthorised','WebSocket','26EvSGFh','sUYmP','LzXdB','replace','../../utils/utilityMethods','exit','Browserstack','help','readFileSync','addListeners','cloudProvider','usage','grid','handler','ACKvb','type','LbnyB','Unable\x20to\x20start\x20the\x20Grid!\x20Error:\x20','fAQQd','yADbU','Pass\x20the\x20ID\x20of\x20the\x20existing\x20Automation\x20grid\x20you\x20want\x20to\x20start.','statusCode','builder','pMBTJ','1192136crFsZe','IRZxd','init-not-called','6336528ZJylvQ','mLYcn','argv','existsSync','Skip\x20insecure\x20cert\x20verification.','../../utils/webSocketUtils','Start\x20an\x20existing\x20Automation\x20grid.','bstackAccesskey','ERROR','default','clusterName','description','gridId','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20start','skipTlsCertVerify','Grid\x20started','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','parse','grid-id','../../utils/gridComponents'];a19_0x479e=function(){return _0x29bdf5;};return a19_0x479e();}const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require(a19_0x42b2a4(0xf2)),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a19_0x42b2a4(0xe5)),{logger}=require(a19_0x42b2a4(0xda)),{getCredentialsPath,getGridDetails}=require(a19_0x42b2a4(0xab)),{scaleUpHubDeployment}=require(a19_0x42b2a4(0xd5)),{sendInstrumentationEvent}=require(a19_0x42b2a4(0xf4)),webSocketUtils=require(a19_0x42b2a4(0xc7)),{createK8sClient}=require(a19_0x42b2a4(0xdb)),{getCloudProviderObject}=require('../../cloudproviders/utils');exports['command']=a19_0x42b2a4(0xb3),exports[a19_0x42b2a4(0xf5)]=a19_0x42b2a4(0xc8),exports[a19_0x42b2a4(0xbd)]=function(_0x17aff7){const _0x6e6dfc=a19_0x42b2a4,_0x2bc4b2={};_0x2bc4b2[_0x6e6dfc(0xa0)]=_0x6e6dfc(0xbb),_0x2bc4b2[_0x6e6dfc(0xbe)]='string',_0x2bc4b2[_0x6e6dfc(0xa4)]=_0x6e6dfc(0xc6),_0x2bc4b2['suKcp']='boolean',_0x2bc4b2['svlOR']='help';const _0x14a418=_0x2bc4b2,_0x1914d7={};_0x1914d7[_0x6e6dfc(0xcd)]=_0x14a418['cankS'],_0x1914d7[_0x6e6dfc(0xb6)]=_0x14a418[_0x6e6dfc(0xbe)];const _0x1c5967={};_0x1c5967['description']=_0x14a418[_0x6e6dfc(0xa4)],_0x1c5967[_0x6e6dfc(0xb6)]=_0x14a418['suKcp'],_0x1c5967[_0x6e6dfc(0xcb)]=![];const _0x5df0e0={};return _0x5df0e0[_0x6e6dfc(0xd4)]=_0x1914d7,_0x5df0e0[_0x6e6dfc(0xa2)]=_0x1c5967,_0x17aff7[_0x6e6dfc(0xb2)](HELP_HEADER_MESSAGE['start'])['epilogue'](HELP_FOOTER_MESSAGE)['options'](_0x5df0e0)[_0x6e6dfc(0xae)](_0x14a418['svlOR'])[_0x6e6dfc(0xc4)];},exports[a19_0x42b2a4(0xb4)]=async function(_0x532cfe){const _0x15c123=a19_0x42b2a4,_0xe6bf8c={'LbnyB':_0x15c123(0xcf),'jyoev':function(_0x3de43e){return _0x3de43e();},'IEgGn':_0x15c123(0xd2),'HzpTp':function(_0xcd31a9,_0x3bcc53,_0x141881,_0x25b256,_0x4df797,_0x263659,_0x2767bc){return _0xcd31a9(_0x3bcc53,_0x141881,_0x25b256,_0x4df797,_0x263659,_0x2767bc);},'sUYmP':'start-grid-called','lQUhs':_0x15c123(0xc1),'vqlPp':function(_0x9a6129,_0x18c261,_0x24e8c3,_0x4ff77e,_0x12c713,_0x1f325c,_0x566ebb){return _0x9a6129(_0x18c261,_0x24e8c3,_0x4ff77e,_0x12c713,_0x1f325c,_0x566ebb);},'mLYcn':function(_0x438315){return _0x438315();},'caAZI':_0x15c123(0xd9),'IRZxd':'<PasswordPlaceholder>','WKgUJ':_0x15c123(0xdc),'KfRyI':function(_0x4b7b2a,_0x11d3d1,_0x1ae971,_0x452f85){return _0x4b7b2a(_0x11d3d1,_0x1ae971,_0x452f85);},'sRjzW':function(_0xe41fce,_0x3c4d22,_0x911302){return _0xe41fce(_0x3c4d22,_0x911302);},'idOHF':_0x15c123(0xd1),'fAQQd':function(_0x2a2539,_0x5608dd){return _0x2a2539===_0x5608dd;},'ACKvb':_0x15c123(0xe3),'yADbU':_0x15c123(0xa5),'iSaHS':function(_0x26c6f2,_0x2dbd29,_0x594066,_0x5df962,_0x5b0a20,_0x329049,_0x337523){return _0x26c6f2(_0x2dbd29,_0x594066,_0x5df962,_0x5b0a20,_0x329049,_0x337523);},'LzXdB':'invalid-grid-id','dTQww':_0x15c123(0xe7)};let _0x596f9c;try{!_0x532cfe[_0x15c123(0xce)]&&(logger['error'](_0xe6bf8c[_0x15c123(0xb7)]),process['exit'](0x1));!fs[_0x15c123(0xc5)](_0xe6bf8c['jyoev'](getCredentialsPath))&&(logger[_0x15c123(0xe1)](_0xe6bf8c['IEgGn']),await _0xe6bf8c[_0x15c123(0xec)](sendInstrumentationEvent,_0x532cfe,_0xe6bf8c[_0x15c123(0xa8)],messageTypes['ERROR'],_0xe6bf8c['lQUhs'],null,_0x532cfe),process[_0x15c123(0xac)](0x1));logger['info']('Starting\x20grid\x20'+_0x532cfe[_0x15c123(0xce)]),await _0xe6bf8c[_0x15c123(0xe0)](sendInstrumentationEvent,_0x532cfe,_0xe6bf8c[_0x15c123(0xa8)],messageTypes[_0x15c123(0xde)],null,null,_0x532cfe);const _0x122b86=JSON[_0x15c123(0xd3)](fs[_0x15c123(0xaf)](_0xe6bf8c[_0x15c123(0xc3)](getCredentialsPath)));global_registry[_0x15c123(0xf0)]=_0x122b86[_0x15c123(0xad)][_0x15c123(0xdf)],global_registry[_0x15c123(0xc9)]=_0x122b86['Browserstack'][_0x15c123(0xdd)];const _0x537627=WS_ENDPOINT['replace'](_0xe6bf8c['caAZI'],_0x122b86['Browserstack'][_0x15c123(0xdf)])[_0x15c123(0xaa)](_0xe6bf8c[_0x15c123(0xc0)],_0x122b86[_0x15c123(0xad)][_0x15c123(0xdd)]),_0x2ee023={};_0x2ee023[_0x15c123(0xa6)]=ws,_0x2ee023[_0x15c123(0xea)]=0x36ee80,_0x596f9c=new ReconnectingWebSocket(_0x537627,[],_0x2ee023),logger[_0x15c123(0xd8)](_0xe6bf8c['WKgUJ']),webSocketUtils[_0x15c123(0xb0)](_0x596f9c,_0x532cfe['user'],_0x532cfe[_0x15c123(0xdd)]);const [_0x580176,_0x5d490f]=await _0xe6bf8c[_0x15c123(0xf3)](getGridDetails,_0x122b86['Browserstack']['username'],_0x122b86[_0x15c123(0xad)][_0x15c123(0xdd)],_0x532cfe[_0x15c123(0xce)]);if(_0x5d490f){const _0x4f8ddf=_0x5d490f[_0x15c123(0xa1)];global_registry[_0x15c123(0xb1)]=_0x4f8ddf[_0x15c123(0xb1)],global_registry[_0x15c123(0xe6)]=_0x4f8ddf['region'],global_registry[_0x15c123(0xcc)]=_0x4f8ddf[_0x15c123(0xcc)];const _0x14e408=await _0xe6bf8c[_0x15c123(0xe0)](getCloudProviderObject,_0x4f8ddf[_0x15c123(0xb1)],_0x4f8ddf[_0x15c123(0xcc)],_0x4f8ddf[_0x15c123(0xe2)],_0x596f9c,webSocketUtils,_0x532cfe),[_0x380c2a,_0x5739fc,_0x145178,_0x201dfd,_0x235f00,_0x5510cb]=await _0xe6bf8c[_0x15c123(0xe9)](createK8sClient,_0x14e408,_0x532cfe[_0x15c123(0xd0)]);await _0xe6bf8c[_0x15c123(0xe9)](scaleUpHubDeployment,_0x5739fc,_0x4f8ddf[_0x15c123(0xe2)]),logger[_0x15c123(0xa1)](_0xe6bf8c['idOHF']),process[_0x15c123(0xac)](0x0);}_0xe6bf8c[_0x15c123(0xb9)](_0x580176['statusCode'],0x191)&&(logger[_0x15c123(0xe1)](_0xe6bf8c[_0x15c123(0xb5)]),await _0xe6bf8c[_0x15c123(0xe0)](sendInstrumentationEvent,_0x532cfe,_0xe6bf8c[_0x15c123(0xa8)],messageTypes[_0x15c123(0xca)],_0xe6bf8c[_0x15c123(0xba)],null,_0x532cfe),process[_0x15c123(0xac)](0x1)),_0xe6bf8c[_0x15c123(0xb9)](_0x580176[_0x15c123(0xbc)],0x190)&&(logger[_0x15c123(0xe1)](JSON[_0x15c123(0xd3)](_0x580176[_0x15c123(0xa3)])[_0x15c123(0xe4)]),await _0xe6bf8c[_0x15c123(0xf1)](sendInstrumentationEvent,_0x532cfe,_0xe6bf8c['sUYmP'],messageTypes[_0x15c123(0xca)],_0xe6bf8c[_0x15c123(0xa9)],null,_0x532cfe),process['exit'](0x1)),logger[_0x15c123(0xe1)](_0x15c123(0xd7)+JSON[_0x15c123(0xf6)](_0x580176)),await _0xe6bf8c['vqlPp'](sendInstrumentationEvent,_0x532cfe,_0xe6bf8c[_0x15c123(0xa8)],messageTypes[_0x15c123(0xca)],_0xe6bf8c[_0x15c123(0xe8)],_0x580176,_0x532cfe),process['exit'](0x1);}catch(_0x10573c){const _0x255359=_0x15c123(0xb8)+_0x10573c+'\x20\x0a'+JSON[_0x15c123(0xf6)](_0x10573c['stack'])+'\x20';logger['error'](_0x255359),process[_0x15c123(0xac)](0x1);}};