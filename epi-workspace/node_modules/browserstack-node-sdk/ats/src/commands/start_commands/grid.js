const a19_0x485f13=a19_0x27d5;function a19_0x5d7f(){const _0x447c30=['hOGXS','stringify','bstackAccesskey','username','type','description','info','ZHfcr','22424gZuCbF','connectionTimeout','Browserstack','error','8DKUJZN','grid','invalid-grid-id','Start\x20an\x20existing\x20Automation\x20grid.','bstackUsername','JaZnS','epilogue','18Zinqnu','command','addListeners','INFO','Skip\x20insecure\x20cert\x20verification.','Starting\x20grid\x20','995ieqZdM','TGoiX','parse','builder','Unable\x20to\x20start\x20the\x20Grid!\x20Error:\x20','grid-id','yEUPj','fHpko','stack','gridId','PpGSW','4474272wDAmJM','PaTHx','clusterName','1904454FIKrqY','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20start','7706270SvXZRA','../../utils/webSocketUtils','desc','../../utils/createk8sClient','RkzJu','../../cloudproviders/utils','CSkLi','../../config/logger','yBHoM','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','Pass\x20the\x20ID\x20of\x20the\x20existing\x20Automation\x20grid\x20you\x20want\x20to\x20start.','../../utils/instrumentationUtils','start','cWoss','exit','existsSync','usage','vzFdP','14fAXYFK','unauthorised','../../utils/utilityMethods','boolean','WebSocket','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','UvxZR','argv','server-error','password','8265271SoBkVz','handler','default','statusCode','<UsernamePlaceholder>','yiFlk','mXKWH','start-grid-called','ERROR','jFxtf','LGpFQ','replace','JwgcP','ixlmr','38724202WNStCl','OXCTh','options','Grid\x20started','reconnecting-websocket','region','cloudProvider','message','6752KkWrTh','debug','help'];a19_0x5d7f=function(){return _0x447c30;};return a19_0x5d7f();}(function(_0xfd7631,_0x56502d){const _0x40e69a=a19_0x27d5,_0x27e556=_0xfd7631();while(!![]){try{const _0x5c6d3c=parseInt(_0x40e69a(0x16d))/0x1*(-parseInt(_0x40e69a(0x18d))/0x2)+-parseInt(_0x40e69a(0x1b4))/0x3+-parseInt(_0x40e69a(0x198))/0x4*(parseInt(_0x40e69a(0x1a9))/0x5)+parseInt(_0x40e69a(0x159))/0x6+parseInt(_0x40e69a(0x177))/0x7*(parseInt(_0x40e69a(0x19c))/0x8)+parseInt(_0x40e69a(0x1a3))/0x9*(-parseInt(_0x40e69a(0x15b))/0xa)+parseInt(_0x40e69a(0x185))/0xb;if(_0x5c6d3c===_0x56502d)break;else _0x27e556['push'](_0x27e556['shift']());}catch(_0x484bce){_0x27e556['push'](_0x27e556['shift']());}}}(a19_0x5d7f,0xc8ee0));const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require(a19_0x485f13(0x189)),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require('../../config/constants'),{logger}=require(a19_0x485f13(0x162)),{getCredentialsPath,getGridDetails}=require(a19_0x485f13(0x16f)),{scaleUpHubDeployment}=require('../../utils/gridComponents'),{sendInstrumentationEvent}=require(a19_0x485f13(0x166)),webSocketUtils=require(a19_0x485f13(0x15c)),{createK8sClient}=require(a19_0x485f13(0x15e)),{getCloudProviderObject}=require(a19_0x485f13(0x160));function a19_0x27d5(_0x8ae4ed,_0x48094a){const _0x5d7f9c=a19_0x5d7f();return a19_0x27d5=function(_0x27d59f,_0x5dcf77){_0x27d59f=_0x27d59f-0x159;let _0x1b1fa=_0x5d7f9c[_0x27d59f];return _0x1b1fa;},a19_0x27d5(_0x8ae4ed,_0x48094a);}exports[a19_0x485f13(0x1a4)]=a19_0x485f13(0x19d),exports[a19_0x485f13(0x15d)]=a19_0x485f13(0x19f),exports[a19_0x485f13(0x1ac)]=function(_0x2970f6){const _0x3f401c=a19_0x485f13,_0x1b2942={};_0x1b2942[_0x3f401c(0x168)]=_0x3f401c(0x165),_0x1b2942['hOGXS']='string',_0x1b2942['yEUPj']=_0x3f401c(0x1a7),_0x1b2942[_0x3f401c(0x184)]=_0x3f401c(0x170),_0x1b2942[_0x3f401c(0x17c)]=_0x3f401c(0x18f);const _0x13f47e=_0x1b2942,_0xd0b1f1={};_0xd0b1f1[_0x3f401c(0x195)]=_0x13f47e['cWoss'],_0xd0b1f1[_0x3f401c(0x194)]=_0x13f47e[_0x3f401c(0x190)];const _0x49a919={};_0x49a919[_0x3f401c(0x195)]=_0x13f47e[_0x3f401c(0x1af)],_0x49a919['type']=_0x13f47e[_0x3f401c(0x184)],_0x49a919[_0x3f401c(0x179)]=![];const _0x594376={};return _0x594376[_0x3f401c(0x1ae)]=_0xd0b1f1,_0x594376['skip-tls-cert-verify']=_0x49a919,_0x2970f6[_0x3f401c(0x16b)](HELP_HEADER_MESSAGE[_0x3f401c(0x167)])[_0x3f401c(0x1a2)](HELP_FOOTER_MESSAGE)[_0x3f401c(0x187)](_0x594376)[_0x3f401c(0x18f)](_0x13f47e[_0x3f401c(0x17c)])[_0x3f401c(0x174)];},exports[a19_0x485f13(0x178)]=async function(_0x1b4637){const _0x256b73=a19_0x485f13,_0xa26dea={'mXKWH':_0x256b73(0x15a),'JwgcP':function(_0x216233){return _0x216233();},'OXCTh':_0x256b73(0x164),'PpGSW':function(_0x34a38b,_0x3ff05a,_0x2c703d,_0x2b0b59,_0x5199ed,_0x3f86bf,_0x3d6d49){return _0x34a38b(_0x3ff05a,_0x2c703d,_0x2b0b59,_0x5199ed,_0x3f86bf,_0x3d6d49);},'ZHfcr':_0x256b73(0x17e),'LGpFQ':'init-not-called','jFxtf':function(_0x4c4222){return _0x4c4222();},'JaZnS':_0x256b73(0x17b),'CSkLi':'<PasswordPlaceholder>','sqUnp':'Adding\x20Websocket\x20listeners','EyWHw':function(_0x352808,_0x5b7f09,_0x5c4e52,_0x41c24a){return _0x352808(_0x5b7f09,_0x5c4e52,_0x41c24a);},'TGoiX':function(_0x1e9d95,_0x48cb24,_0x562761,_0x58f75c,_0x2f4f43,_0x311cfe,_0x18d387){return _0x1e9d95(_0x48cb24,_0x562761,_0x58f75c,_0x2f4f43,_0x311cfe,_0x18d387);},'RkzJu':function(_0x922e45,_0x48d526,_0x10ed97){return _0x922e45(_0x48d526,_0x10ed97);},'fHpko':function(_0x4db827,_0x104b4d,_0x5a232f){return _0x4db827(_0x104b4d,_0x5a232f);},'PaTHx':_0x256b73(0x188),'UvxZR':function(_0x376a55,_0x20dad8){return _0x376a55===_0x20dad8;},'nzpmg':_0x256b73(0x172),'vzFdP':_0x256b73(0x16e),'yBHoM':_0x256b73(0x19e),'DDwLQ':function(_0x1b2948,_0x2c6818,_0x28575d,_0x9a8607,_0x349574,_0x23c994,_0x25b7f0){return _0x1b2948(_0x2c6818,_0x28575d,_0x9a8607,_0x349574,_0x23c994,_0x25b7f0);},'MZbSd':_0x256b73(0x175)};let _0x278fc4;try{!_0x1b4637[_0x256b73(0x1b2)]&&(logger[_0x256b73(0x19b)](_0xa26dea[_0x256b73(0x17d)]),process['exit'](0x1));!fs[_0x256b73(0x16a)](_0xa26dea[_0x256b73(0x183)](getCredentialsPath))&&(logger[_0x256b73(0x19b)](_0xa26dea[_0x256b73(0x186)]),await _0xa26dea['PpGSW'](sendInstrumentationEvent,_0x1b4637,_0xa26dea[_0x256b73(0x197)],messageTypes[_0x256b73(0x17f)],_0xa26dea[_0x256b73(0x181)],null,_0x1b4637),process[_0x256b73(0x169)](0x1));logger[_0x256b73(0x196)](_0x256b73(0x1a8)+_0x1b4637[_0x256b73(0x1b2)]),await _0xa26dea[_0x256b73(0x1b3)](sendInstrumentationEvent,_0x1b4637,_0xa26dea[_0x256b73(0x197)],messageTypes[_0x256b73(0x1a6)],null,null,_0x1b4637);const _0x3deb91=JSON[_0x256b73(0x1ab)](fs['readFileSync'](_0xa26dea[_0x256b73(0x180)](getCredentialsPath)));global_registry[_0x256b73(0x1a0)]=_0x3deb91[_0x256b73(0x19a)][_0x256b73(0x193)],global_registry[_0x256b73(0x192)]=_0x3deb91[_0x256b73(0x19a)][_0x256b73(0x176)];const _0x210234=WS_ENDPOINT['replace'](_0xa26dea[_0x256b73(0x1a1)],_0x3deb91[_0x256b73(0x19a)][_0x256b73(0x193)])[_0x256b73(0x182)](_0xa26dea[_0x256b73(0x161)],_0x3deb91[_0x256b73(0x19a)][_0x256b73(0x176)]),_0x576924={};_0x576924[_0x256b73(0x171)]=ws,_0x576924[_0x256b73(0x199)]=0x36ee80,_0x278fc4=new ReconnectingWebSocket(_0x210234,[],_0x576924),logger[_0x256b73(0x18e)](_0xa26dea['sqUnp']),webSocketUtils[_0x256b73(0x1a5)](_0x278fc4,_0x1b4637['user'],_0x1b4637[_0x256b73(0x176)]);const [_0x536481,_0x5ebfe4]=await _0xa26dea['EyWHw'](getGridDetails,_0x3deb91[_0x256b73(0x19a)][_0x256b73(0x193)],_0x3deb91[_0x256b73(0x19a)][_0x256b73(0x176)],_0x1b4637['gridId']);if(_0x5ebfe4){const _0x42ec67=_0x5ebfe4[_0x256b73(0x196)];global_registry[_0x256b73(0x18b)]=_0x42ec67['cloudProvider'],global_registry['clusterRegion']=_0x42ec67[_0x256b73(0x18a)],global_registry[_0x256b73(0x1b6)]=_0x42ec67[_0x256b73(0x1b6)];const _0x28a033=await _0xa26dea[_0x256b73(0x1aa)](getCloudProviderObject,_0x42ec67[_0x256b73(0x18b)],_0x42ec67[_0x256b73(0x1b6)],_0x42ec67['name'],_0x278fc4,webSocketUtils,_0x1b4637),[_0x122cb5,_0x486629,_0x9ad157,_0x1e780f,_0x878789,_0x38475d]=await _0xa26dea[_0x256b73(0x15f)](createK8sClient,_0x28a033,_0x1b4637['skipTlsCertVerify']);await _0xa26dea[_0x256b73(0x1b0)](scaleUpHubDeployment,_0x486629,_0x42ec67['name']),logger['info'](_0xa26dea[_0x256b73(0x1b5)]),process[_0x256b73(0x169)](0x0);}_0xa26dea['UvxZR'](_0x536481[_0x256b73(0x17a)],0x191)&&(logger[_0x256b73(0x19b)](_0xa26dea['nzpmg']),await _0xa26dea[_0x256b73(0x1aa)](sendInstrumentationEvent,_0x1b4637,_0xa26dea[_0x256b73(0x197)],messageTypes['ERROR'],_0xa26dea[_0x256b73(0x16c)],null,_0x1b4637),process['exit'](0x1)),_0xa26dea[_0x256b73(0x173)](_0x536481['statusCode'],0x190)&&(logger[_0x256b73(0x19b)](JSON[_0x256b73(0x1ab)](_0x536481['body'])[_0x256b73(0x18c)]),await _0xa26dea[_0x256b73(0x1aa)](sendInstrumentationEvent,_0x1b4637,_0xa26dea['ZHfcr'],messageTypes[_0x256b73(0x17f)],_0xa26dea[_0x256b73(0x163)],null,_0x1b4637),process['exit'](0x1)),logger[_0x256b73(0x19b)]('Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20'+JSON['stringify'](_0x536481)),await _0xa26dea['DDwLQ'](sendInstrumentationEvent,_0x1b4637,_0xa26dea[_0x256b73(0x197)],messageTypes['ERROR'],_0xa26dea['MZbSd'],_0x536481,_0x1b4637),process[_0x256b73(0x169)](0x1);}catch(_0xac6bb3){const _0x3030b2=_0x256b73(0x1ad)+_0xac6bb3+'\x20\x0a'+JSON[_0x256b73(0x191)](_0xac6bb3[_0x256b73(0x1b1)])+'\x20';logger[_0x256b73(0x19b)](_0x3030b2),process[_0x256b73(0x169)](0x1);}};