const a19_0x2c6e91=a19_0x4a8c;function a19_0x3969(){const _0x553b52=['Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20start','60228CDMIzu','region','password','../../utils/webSocketUtils','body','debug','gridId','info','gtcHj','init-not-called','description','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','builder','stack','<PasswordPlaceholder>','11hXUDkT','viwko','IQgUK','qruIO','clusterName','connectionTimeout','server-error','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','ocdes','readFileSync','ozblo','617540yGplOc','exit','epilogue','220119YofTkW','Skip\x20insecure\x20cert\x20verification.','type','statusCode','Start\x20an\x20existing\x20Automation\x20grid.','../../config/logger','udDpk','name','WebSocket','Pass\x20the\x20ID\x20of\x20the\x20existing\x20Automation\x20grid\x20you\x20want\x20to\x20start.','handler','command','../../utils/utilityMethods','1VDGPpZ','407254hnRREx','liHdZ','cloudProvider','string','Unable\x20to\x20start\x20the\x20Grid!\x20Error:\x20','grid-id','../../config/constants','argv','bstackUsername','lUTQL','<UsernamePlaceholder>','4ybrESy','Grid\x20started','help','HQpRj','existsSync','parse','cOOuZ','replace','30jpcYFc','SZmFK','ERROR','error','../../cloudproviders/utils','bstackAccesskey','226534zFxKzn','username','stringify','start-grid-called','INFO','ZgRgK','Adding\x20Websocket\x20listeners','mYrHx','skip-tls-cert-verify','iRnQr','2625564IgSzhx','hEXXv','2054490DtZweo','112VaYcHa','addListeners','hHpMc','Starting\x20grid\x20','MIcIf','user','../../utils/instrumentationUtils','default','../../utils/gridComponents','unauthorised','mXOeh','boolean','ANGyj','Browserstack','NCgcx'];a19_0x3969=function(){return _0x553b52;};return a19_0x3969();}function a19_0x4a8c(_0x47f2d5,_0x4e9d77){const _0x396930=a19_0x3969();return a19_0x4a8c=function(_0x4a8c2f,_0x5240ee){_0x4a8c2f=_0x4a8c2f-0x6a;let _0x22863b=_0x396930[_0x4a8c2f];return _0x22863b;},a19_0x4a8c(_0x47f2d5,_0x4e9d77);}(function(_0x4f0911,_0x40baa0){const _0x2ea4b9=a19_0x4a8c,_0x29455d=_0x4f0911();while(!![]){try{const _0x3352c4=-parseInt(_0x2ea4b9(0x9e))/0x1*(parseInt(_0x2ea4b9(0x9f))/0x2)+parseInt(_0x2ea4b9(0x91))/0x3*(-parseInt(_0x2ea4b9(0xaa))/0x4)+-parseInt(_0x2ea4b9(0x8e))/0x5+parseInt(_0x2ea4b9(0xb2))/0x6*(parseInt(_0x2ea4b9(0xb8))/0x7)+-parseInt(_0x2ea4b9(0xc5))/0x8*(-parseInt(_0x2ea4b9(0x74))/0x9)+parseInt(_0x2ea4b9(0xc4))/0xa+parseInt(_0x2ea4b9(0x83))/0xb*(parseInt(_0x2ea4b9(0xc2))/0xc);if(_0x3352c4===_0x40baa0)break;else _0x29455d['push'](_0x29455d['shift']());}catch(_0x3f1e6d){_0x29455d['push'](_0x29455d['shift']());}}}(a19_0x3969,0x442c4));const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require('reconnecting-websocket'),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a19_0x2c6e91(0xa5)),{logger}=require(a19_0x2c6e91(0x96)),{getCredentialsPath,getGridDetails}=require(a19_0x2c6e91(0x9d)),{scaleUpHubDeployment}=require(a19_0x2c6e91(0x6c)),{sendInstrumentationEvent}=require(a19_0x2c6e91(0x6a)),webSocketUtils=require(a19_0x2c6e91(0x77)),{createK8sClient}=require('../../utils/createk8sClient'),{getCloudProviderObject}=require(a19_0x2c6e91(0xb6));exports[a19_0x2c6e91(0x9c)]='grid',exports['desc']=a19_0x2c6e91(0x95),exports[a19_0x2c6e91(0x80)]=function(_0x1ff99c){const _0x8db710=a19_0x2c6e91,_0x27eb2e={};_0x27eb2e[_0x8db710(0xad)]=_0x8db710(0x9a),_0x27eb2e['hEXXv']=_0x8db710(0xa2),_0x27eb2e['BppYN']=_0x8db710(0x92),_0x27eb2e[_0x8db710(0x70)]=_0x8db710(0x6f),_0x27eb2e[_0x8db710(0xc9)]=_0x8db710(0xac);const _0x3be1af=_0x27eb2e,_0x2a4c64={};_0x2a4c64[_0x8db710(0x7e)]=_0x3be1af[_0x8db710(0xad)],_0x2a4c64[_0x8db710(0x93)]=_0x3be1af[_0x8db710(0xc3)];const _0x298425={};_0x298425[_0x8db710(0x7e)]=_0x3be1af['BppYN'],_0x298425[_0x8db710(0x93)]=_0x3be1af['ANGyj'],_0x298425[_0x8db710(0x6b)]=![];const _0x2cd13d={};return _0x2cd13d[_0x8db710(0xa4)]=_0x2a4c64,_0x2cd13d[_0x8db710(0xc0)]=_0x298425,_0x1ff99c['usage'](HELP_HEADER_MESSAGE['start'])[_0x8db710(0x90)](HELP_FOOTER_MESSAGE)['options'](_0x2cd13d)['help'](_0x3be1af['MIcIf'])[_0x8db710(0xa6)];},exports[a19_0x2c6e91(0x9b)]=async function(_0x33843e){const _0x1372be=a19_0x2c6e91,_0x11e87d={'mXOeh':_0x1372be(0x73),'ocdes':function(_0xd83e71){return _0xd83e71();},'lUTQL':_0x1372be(0x8a),'MrbUW':function(_0x57334b,_0xa67320,_0x2662a2,_0x38485b,_0x131ce2,_0x54e683,_0x3263e0){return _0x57334b(_0xa67320,_0x2662a2,_0x38485b,_0x131ce2,_0x54e683,_0x3263e0);},'ozblo':_0x1372be(0xbb),'mYrHx':_0x1372be(0x7d),'IQgUK':function(_0x19cf41,_0x58e9f4,_0x4062cf,_0x1b7704,_0xf9b149,_0x1c8783,_0xe3e114){return _0x19cf41(_0x58e9f4,_0x4062cf,_0x1b7704,_0xf9b149,_0x1c8783,_0xe3e114);},'SENuS':_0x1372be(0xa9),'qruIO':_0x1372be(0x82),'ZgRgK':_0x1372be(0xbe),'hHpMc':function(_0x3b3761,_0x3aaf19,_0x18c839,_0x45fd1c){return _0x3b3761(_0x3aaf19,_0x18c839,_0x45fd1c);},'cOOuZ':function(_0x333551,_0x579768,_0x277068){return _0x333551(_0x579768,_0x277068);},'ITpzL':_0x1372be(0xab),'NCgcx':function(_0x233491,_0x8ceeb3){return _0x233491===_0x8ceeb3;},'iRnQr':'Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','liHdZ':function(_0x350290,_0x696eb1,_0x415d73,_0x4078b4,_0x31c426,_0xb783bd,_0x1e3233){return _0x350290(_0x696eb1,_0x415d73,_0x4078b4,_0x31c426,_0xb783bd,_0x1e3233);},'SZmFK':_0x1372be(0x6d),'udDpk':'invalid-grid-id','gtcHj':function(_0x3652d2,_0x39cb35,_0x3455b3,_0x4d7483,_0x4a10b9,_0x3af535,_0x54a8bb){return _0x3652d2(_0x39cb35,_0x3455b3,_0x4d7483,_0x4a10b9,_0x3af535,_0x54a8bb);},'viwko':_0x1372be(0x89)};let _0x588807;try{!_0x33843e[_0x1372be(0x7a)]&&(logger[_0x1372be(0xb5)](_0x11e87d[_0x1372be(0x6e)]),process['exit'](0x1));!fs[_0x1372be(0xae)](_0x11e87d[_0x1372be(0x8b)](getCredentialsPath))&&(logger[_0x1372be(0xb5)](_0x11e87d[_0x1372be(0xa8)]),await _0x11e87d['MrbUW'](sendInstrumentationEvent,_0x33843e,_0x11e87d[_0x1372be(0x8d)],messageTypes[_0x1372be(0xb4)],_0x11e87d[_0x1372be(0xbf)],null,_0x33843e),process[_0x1372be(0x8f)](0x1));logger[_0x1372be(0x7b)](_0x1372be(0xc8)+_0x33843e[_0x1372be(0x7a)]),await _0x11e87d[_0x1372be(0x85)](sendInstrumentationEvent,_0x33843e,_0x11e87d[_0x1372be(0x8d)],messageTypes[_0x1372be(0xbc)],null,null,_0x33843e);const _0x294b4a=JSON[_0x1372be(0xaf)](fs[_0x1372be(0x8c)](_0x11e87d['ocdes'](getCredentialsPath)));global_registry[_0x1372be(0xa7)]=_0x294b4a[_0x1372be(0x71)][_0x1372be(0xb9)],global_registry[_0x1372be(0xb7)]=_0x294b4a[_0x1372be(0x71)][_0x1372be(0x76)];const _0x4abea4=WS_ENDPOINT[_0x1372be(0xb1)](_0x11e87d['SENuS'],_0x294b4a[_0x1372be(0x71)][_0x1372be(0xb9)])[_0x1372be(0xb1)](_0x11e87d[_0x1372be(0x86)],_0x294b4a[_0x1372be(0x71)]['password']),_0x215777={};_0x215777[_0x1372be(0x99)]=ws,_0x215777[_0x1372be(0x88)]=0x36ee80,_0x588807=new ReconnectingWebSocket(_0x4abea4,[],_0x215777),logger[_0x1372be(0x79)](_0x11e87d[_0x1372be(0xbd)]),webSocketUtils[_0x1372be(0xc6)](_0x588807,_0x33843e[_0x1372be(0xca)],_0x33843e['password']);const [_0x437cf2,_0x26c880]=await _0x11e87d[_0x1372be(0xc7)](getGridDetails,_0x294b4a[_0x1372be(0x71)]['username'],_0x294b4a[_0x1372be(0x71)][_0x1372be(0x76)],_0x33843e[_0x1372be(0x7a)]);if(_0x26c880){const _0x114191=_0x26c880[_0x1372be(0x7b)];global_registry['cloudProvider']=_0x114191[_0x1372be(0xa1)],global_registry['clusterRegion']=_0x114191[_0x1372be(0x75)],global_registry[_0x1372be(0x87)]=_0x114191[_0x1372be(0x87)];const _0x50acc7=await _0x11e87d['IQgUK'](getCloudProviderObject,_0x114191[_0x1372be(0xa1)],_0x114191[_0x1372be(0x87)],_0x114191[_0x1372be(0x98)],_0x588807,webSocketUtils,_0x33843e),[_0x751f25,_0x1f3efc,_0x56cb2a,_0x383846,_0x4119e2,_0x5b02db]=await _0x11e87d[_0x1372be(0xb0)](createK8sClient,_0x50acc7,_0x33843e['skipTlsCertVerify']);await _0x11e87d[_0x1372be(0xb0)](scaleUpHubDeployment,_0x1f3efc,_0x114191[_0x1372be(0x98)]),logger['info'](_0x11e87d['ITpzL']),process[_0x1372be(0x8f)](0x0);}_0x11e87d['NCgcx'](_0x437cf2[_0x1372be(0x94)],0x191)&&(logger[_0x1372be(0xb5)](_0x11e87d[_0x1372be(0xc1)]),await _0x11e87d['liHdZ'](sendInstrumentationEvent,_0x33843e,_0x11e87d[_0x1372be(0x8d)],messageTypes[_0x1372be(0xb4)],_0x11e87d[_0x1372be(0xb3)],null,_0x33843e),process[_0x1372be(0x8f)](0x1)),_0x11e87d[_0x1372be(0x72)](_0x437cf2[_0x1372be(0x94)],0x190)&&(logger['error'](JSON[_0x1372be(0xaf)](_0x437cf2[_0x1372be(0x78)])['message']),await _0x11e87d[_0x1372be(0xa0)](sendInstrumentationEvent,_0x33843e,_0x11e87d['ozblo'],messageTypes['ERROR'],_0x11e87d[_0x1372be(0x97)],null,_0x33843e),process['exit'](0x1)),logger[_0x1372be(0xb5)](_0x1372be(0x7f)+JSON[_0x1372be(0xba)](_0x437cf2)),await _0x11e87d[_0x1372be(0x7c)](sendInstrumentationEvent,_0x33843e,_0x11e87d[_0x1372be(0x8d)],messageTypes[_0x1372be(0xb4)],_0x11e87d[_0x1372be(0x84)],_0x437cf2,_0x33843e),process[_0x1372be(0x8f)](0x1);}catch(_0x56787b){const _0x4dd80c=_0x1372be(0xa3)+_0x56787b+'\x20\x0a'+JSON[_0x1372be(0xba)](_0x56787b[_0x1372be(0x81)])+'\x20';logger['error'](_0x4dd80c),process['exit'](0x1);}};