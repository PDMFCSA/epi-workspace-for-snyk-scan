const a19_0x3121a4=a19_0x36e7;(function(_0x59212f,_0x3effc8){const _0x5e0480=a19_0x36e7,_0x5882f0=_0x59212f();while(!![]){try{const _0x1d605d=-parseInt(_0x5e0480(0x1ae))/0x1*(-parseInt(_0x5e0480(0x18a))/0x2)+parseInt(_0x5e0480(0x1c8))/0x3+-parseInt(_0x5e0480(0x1ad))/0x4*(-parseInt(_0x5e0480(0x1bf))/0x5)+-parseInt(_0x5e0480(0x1a5))/0x6+-parseInt(_0x5e0480(0x1a3))/0x7*(-parseInt(_0x5e0480(0x1ab))/0x8)+-parseInt(_0x5e0480(0x1af))/0x9+parseInt(_0x5e0480(0x1c5))/0xa*(-parseInt(_0x5e0480(0x1cc))/0xb);if(_0x1d605d===_0x3effc8)break;else _0x5882f0['push'](_0x5882f0['shift']());}catch(_0x3d01c3){_0x5882f0['push'](_0x5882f0['shift']());}}}(a19_0x104a,0x98648));function a19_0x36e7(_0x24bbb2,_0xef4245){const _0x104a9b=a19_0x104a();return a19_0x36e7=function(_0x36e7cc,_0x4523b7){_0x36e7cc=_0x36e7cc-0x17c;let _0x5caf9e=_0x104a9b[_0x36e7cc];return _0x5caf9e;},a19_0x36e7(_0x24bbb2,_0xef4245);}const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require(a19_0x3121a4(0x1cb)),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a19_0x3121a4(0x18e)),{logger}=require(a19_0x3121a4(0x187)),{getCredentialsPath,getGridDetails}=require(a19_0x3121a4(0x18f)),{scaleUpHubDeployment}=require(a19_0x3121a4(0x1bc)),{sendInstrumentationEvent}=require('../../utils/instrumentationUtils'),webSocketUtils=require(a19_0x3121a4(0x1b4)),{createK8sClient}=require(a19_0x3121a4(0x196)),{getCloudProviderObject}=require(a19_0x3121a4(0x1ce));function a19_0x104a(){const _0x52384b=['handler','message','1696WvUMLs','epilogue','14180GCGrbd','205391TVdstJ','9234081SaWSIj','HIWfd','body','JiETw','skip-tls-cert-verify','../../utils/webSocketUtils','boolean','readFileSync','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','cloudProvider','Grid\x20started','Browserstack','password','../../utils/gridComponents','connectionTimeout','debug','1355nMEMub','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','gridId','region','username','stack','158580rRrnsJ','drcLw','description','3216735cGfpaD','Pdlss','default','reconnecting-websocket','1243dsHSgh','type','../../cloudproviders/utils','usage','user','Start\x20an\x20existing\x20Automation\x20grid.','clusterRegion','DAOlz','vizmg','bstackUsername','aaAWF','clusterName','builder','start-grid-called','AaPMf','NINOG','invalid-grid-id','statusCode','XUxhO','../../config/logger','hVqGT','Starting\x20grid\x20','8uMrpnI','existsSync','<PasswordPlaceholder>','xcaXz','../../config/constants','../../utils/utilityMethods','error','init-not-called','info','exit','ITVnQ','TcZHJ','../../utils/createk8sClient','WebSocket','Skip\x20insecure\x20cert\x20verification.','esbmZ','bstackAccesskey','help','LvCMK','jiBwc','lrPQO','command','tfEmj','ZLZCI','unauthorised','41104KlYNFz','ERROR','3943230mNrwnf','skipTlsCertVerify','INFO','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20start'];a19_0x104a=function(){return _0x52384b;};return a19_0x104a();}exports[a19_0x3121a4(0x19f)]='grid',exports['desc']=a19_0x3121a4(0x1d1),exports[a19_0x3121a4(0x180)]=function(_0x48c866){const _0x1188d3=a19_0x3121a4,_0xbe5339={};_0xbe5339[_0x1188d3(0x1a0)]='Pass\x20the\x20ID\x20of\x20the\x20existing\x20Automation\x20grid\x20you\x20want\x20to\x20start.',_0xbe5339['jiBwc']='string',_0xbe5339[_0x1188d3(0x18d)]=_0x1188d3(0x198),_0xbe5339[_0x1188d3(0x1c9)]=_0x1188d3(0x1b5),_0xbe5339[_0x1188d3(0x195)]=_0x1188d3(0x19b);const _0x5b3b13=_0xbe5339,_0x1acb6a={};_0x1acb6a[_0x1188d3(0x1c7)]=_0x5b3b13[_0x1188d3(0x1a0)],_0x1acb6a[_0x1188d3(0x1cd)]=_0x5b3b13[_0x1188d3(0x19d)];const _0x3946c4={};_0x3946c4[_0x1188d3(0x1c7)]=_0x5b3b13['xcaXz'],_0x3946c4[_0x1188d3(0x1cd)]=_0x5b3b13[_0x1188d3(0x1c9)],_0x3946c4[_0x1188d3(0x1ca)]=![];const _0x19fc4d={};return _0x19fc4d['grid-id']=_0x1acb6a,_0x19fc4d[_0x1188d3(0x1b3)]=_0x3946c4,_0x48c866[_0x1188d3(0x1cf)](HELP_HEADER_MESSAGE['start'])[_0x1188d3(0x1ac)](HELP_FOOTER_MESSAGE)['options'](_0x19fc4d)[_0x1188d3(0x19b)](_0x5b3b13[_0x1188d3(0x195)])['argv'];},exports[a19_0x3121a4(0x1a9)]=async function(_0x14c6d9){const _0x2783c9=a19_0x3121a4,_0x47a71d={'ItrgY':_0x2783c9(0x1a8),'RadRs':function(_0x15fa59){return _0x15fa59();},'HIWfd':_0x2783c9(0x1c0),'aaAWF':function(_0x4c1ebf,_0x9084e4,_0x4c52c9,_0x26a571,_0x209f45,_0x2806e5,_0x46ced4){return _0x4c1ebf(_0x9084e4,_0x4c52c9,_0x26a571,_0x209f45,_0x2806e5,_0x46ced4);},'ITVnQ':_0x2783c9(0x181),'NINOG':_0x2783c9(0x191),'esbmZ':'<UsernamePlaceholder>','UUgYI':_0x2783c9(0x18c),'HYlmZ':'Adding\x20Websocket\x20listeners','AaPMf':function(_0x1149d0,_0x21d02b,_0xde7d0f,_0x46fa27){return _0x1149d0(_0x21d02b,_0xde7d0f,_0x46fa27);},'pzhlu':function(_0x5315ee,_0x59e262,_0x54b336,_0x206d0f,_0x155c2f,_0x58ae73,_0x54d2fb){return _0x5315ee(_0x59e262,_0x54b336,_0x206d0f,_0x155c2f,_0x58ae73,_0x54d2fb);},'JiETw':function(_0x49d787,_0x11414e,_0x320666){return _0x49d787(_0x11414e,_0x320666);},'hVqGT':_0x2783c9(0x1b9),'DAOlz':function(_0x567614,_0x47ea35){return _0x567614===_0x47ea35;},'drcLw':'Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','XUxhO':function(_0x5d3bfb,_0x47c27f,_0x19bfb4,_0x3ebb46,_0x10f204,_0x1b5e8c,_0x594254){return _0x5d3bfb(_0x47c27f,_0x19bfb4,_0x3ebb46,_0x10f204,_0x1b5e8c,_0x594254);},'lrPQO':_0x2783c9(0x1a2),'vizmg':function(_0x45e4a0,_0x3c4db6,_0x4f7b88,_0x52be90,_0x4bda64,_0x249c96,_0x547de5){return _0x45e4a0(_0x3c4db6,_0x4f7b88,_0x52be90,_0x4bda64,_0x249c96,_0x547de5);},'LvCMK':_0x2783c9(0x184),'AdxtM':function(_0x462aee,_0x37773d,_0x319002,_0x9c5d62,_0x22dae0,_0xf821bf,_0x3fca2e){return _0x462aee(_0x37773d,_0x319002,_0x9c5d62,_0x22dae0,_0xf821bf,_0x3fca2e);},'ZLZCI':'server-error'};let _0x5ba790;try{!_0x14c6d9[_0x2783c9(0x1c1)]&&(logger['error'](_0x47a71d['ItrgY']),process[_0x2783c9(0x193)](0x1));!fs[_0x2783c9(0x18b)](_0x47a71d['RadRs'](getCredentialsPath))&&(logger['error'](_0x47a71d[_0x2783c9(0x1b0)]),await _0x47a71d['aaAWF'](sendInstrumentationEvent,_0x14c6d9,_0x47a71d[_0x2783c9(0x194)],messageTypes[_0x2783c9(0x1a4)],_0x47a71d[_0x2783c9(0x183)],null,_0x14c6d9),process['exit'](0x1));logger[_0x2783c9(0x192)](_0x2783c9(0x189)+_0x14c6d9[_0x2783c9(0x1c1)]),await _0x47a71d[_0x2783c9(0x17e)](sendInstrumentationEvent,_0x14c6d9,_0x47a71d[_0x2783c9(0x194)],messageTypes[_0x2783c9(0x1a7)],null,null,_0x14c6d9);const _0x120071=JSON['parse'](fs[_0x2783c9(0x1b6)](_0x47a71d['RadRs'](getCredentialsPath)));global_registry[_0x2783c9(0x17d)]=_0x120071['Browserstack'][_0x2783c9(0x1c3)],global_registry[_0x2783c9(0x19a)]=_0x120071[_0x2783c9(0x1ba)][_0x2783c9(0x1bb)];const _0x148a73=WS_ENDPOINT['replace'](_0x47a71d[_0x2783c9(0x199)],_0x120071[_0x2783c9(0x1ba)][_0x2783c9(0x1c3)])['replace'](_0x47a71d['UUgYI'],_0x120071[_0x2783c9(0x1ba)]['password']),_0x31a1bf={};_0x31a1bf[_0x2783c9(0x197)]=ws,_0x31a1bf[_0x2783c9(0x1bd)]=0x36ee80,_0x5ba790=new ReconnectingWebSocket(_0x148a73,[],_0x31a1bf),logger[_0x2783c9(0x1be)](_0x47a71d['HYlmZ']),webSocketUtils['addListeners'](_0x5ba790,_0x14c6d9[_0x2783c9(0x1d0)],_0x14c6d9['password']);const [_0x34a2c3,_0x59559b]=await _0x47a71d[_0x2783c9(0x182)](getGridDetails,_0x120071[_0x2783c9(0x1ba)][_0x2783c9(0x1c3)],_0x120071[_0x2783c9(0x1ba)][_0x2783c9(0x1bb)],_0x14c6d9[_0x2783c9(0x1c1)]);if(_0x59559b){const _0x48e744=_0x59559b[_0x2783c9(0x192)];global_registry[_0x2783c9(0x1b8)]=_0x48e744[_0x2783c9(0x1b8)],global_registry[_0x2783c9(0x1d2)]=_0x48e744[_0x2783c9(0x1c2)],global_registry[_0x2783c9(0x17f)]=_0x48e744['clusterName'];const _0x42f362=await _0x47a71d['pzhlu'](getCloudProviderObject,_0x48e744[_0x2783c9(0x1b8)],_0x48e744[_0x2783c9(0x17f)],_0x48e744['name'],_0x5ba790,webSocketUtils,_0x14c6d9),[_0x4ee377,_0x2f4e02,_0x351996,_0x161a74,_0xf8feab,_0x8f0746]=await _0x47a71d[_0x2783c9(0x1b2)](createK8sClient,_0x42f362,_0x14c6d9[_0x2783c9(0x1a6)]);await _0x47a71d[_0x2783c9(0x1b2)](scaleUpHubDeployment,_0x2f4e02,_0x48e744['name']),logger[_0x2783c9(0x192)](_0x47a71d[_0x2783c9(0x188)]),process[_0x2783c9(0x193)](0x0);}_0x47a71d[_0x2783c9(0x1d3)](_0x34a2c3[_0x2783c9(0x185)],0x191)&&(logger[_0x2783c9(0x190)](_0x47a71d[_0x2783c9(0x1c6)]),await _0x47a71d[_0x2783c9(0x186)](sendInstrumentationEvent,_0x14c6d9,_0x47a71d['ITVnQ'],messageTypes['ERROR'],_0x47a71d[_0x2783c9(0x19e)],null,_0x14c6d9),process['exit'](0x1)),_0x47a71d[_0x2783c9(0x1d3)](_0x34a2c3['statusCode'],0x190)&&(logger[_0x2783c9(0x190)](JSON['parse'](_0x34a2c3[_0x2783c9(0x1b1)])[_0x2783c9(0x1aa)]),await _0x47a71d[_0x2783c9(0x17c)](sendInstrumentationEvent,_0x14c6d9,_0x47a71d[_0x2783c9(0x194)],messageTypes[_0x2783c9(0x1a4)],_0x47a71d[_0x2783c9(0x19c)],null,_0x14c6d9),process[_0x2783c9(0x193)](0x1)),logger[_0x2783c9(0x190)](_0x2783c9(0x1b7)+JSON['stringify'](_0x34a2c3)),await _0x47a71d['AdxtM'](sendInstrumentationEvent,_0x14c6d9,_0x47a71d['ITVnQ'],messageTypes['ERROR'],_0x47a71d[_0x2783c9(0x1a1)],_0x34a2c3,_0x14c6d9),process[_0x2783c9(0x193)](0x1);}catch(_0xf0cd25){const _0x4841d3='Unable\x20to\x20start\x20the\x20Grid!\x20Error:\x20'+_0xf0cd25+'\x20\x0a'+JSON['stringify'](_0xf0cd25[_0x2783c9(0x1c4)])+'\x20';logger[_0x2783c9(0x190)](_0x4841d3),process[_0x2783c9(0x193)](0x1);}};