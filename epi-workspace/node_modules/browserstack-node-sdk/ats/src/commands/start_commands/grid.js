const a19_0xd9a57a=a19_0x32f9;(function(_0x1e6ad3,_0x150145){const _0x18f5eb=a19_0x32f9,_0x1eb49a=_0x1e6ad3();while(!![]){try{const _0x59cb38=parseInt(_0x18f5eb(0x165))/0x1*(parseInt(_0x18f5eb(0x16e))/0x2)+-parseInt(_0x18f5eb(0x199))/0x3*(-parseInt(_0x18f5eb(0x18f))/0x4)+-parseInt(_0x18f5eb(0x160))/0x5*(parseInt(_0x18f5eb(0x168))/0x6)+-parseInt(_0x18f5eb(0x162))/0x7+parseInt(_0x18f5eb(0x185))/0x8+-parseInt(_0x18f5eb(0x153))/0x9*(parseInt(_0x18f5eb(0x186))/0xa)+-parseInt(_0x18f5eb(0x181))/0xb;if(_0x59cb38===_0x150145)break;else _0x1eb49a['push'](_0x1eb49a['shift']());}catch(_0x5f056a){_0x1eb49a['push'](_0x1eb49a['shift']());}}}(a19_0x29e7,0x5cf04));function a19_0x32f9(_0x359a14,_0x91e633){const _0x29e7c2=a19_0x29e7();return a19_0x32f9=function(_0x32f9eb,_0x2f0b63){_0x32f9eb=_0x32f9eb-0x14a;let _0x1a730f=_0x29e7c2[_0x32f9eb];return _0x1a730f;},a19_0x32f9(_0x359a14,_0x91e633);}const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require('reconnecting-websocket'),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a19_0xd9a57a(0x17f)),{logger}=require(a19_0xd9a57a(0x18d)),{getCredentialsPath,getGridDetails}=require('../../utils/utilityMethods'),{scaleUpHubDeployment}=require(a19_0xd9a57a(0x17c)),{sendInstrumentationEvent}=require(a19_0xd9a57a(0x196)),webSocketUtils=require(a19_0xd9a57a(0x19a)),{createK8sClient}=require('../../utils/createk8sClient'),{getCloudProviderObject}=require(a19_0xd9a57a(0x150));function a19_0x29e7(){const _0x48e5dc=['YFzPp','gridId','356892iwazTf','../../utils/webSocketUtils','WebSocket','skipTlsCertVerify','VZLHw','epilogue','Unable\x20to\x20start\x20the\x20Grid!\x20Error:\x20','message','Sgryb','body','info','Guakl','bstackUsername','bstackAccesskey','GPJBg','clusterName','../../cloudproviders/utils','init-not-called','help','167463GhXGdM','grid-id','replace','name','Adding\x20Websocket\x20listeners','username','parse','unauthorised','stringify','TdFic','Browserstack','ciDqO','connectionTimeout','368230EYFHNC','msRLP','2786903DPHuGA','<UsernamePlaceholder>','error','3DwiWPB','CIOlb','cGTFg','18acqFXd','builder','usage','Skip\x20insecure\x20cert\x20verification.','Starting\x20grid\x20','cyXLd','90164XMqCLB','invalid-grid-id','AnsOF','password','description','exit','ERROR','NFhVo','skip-tls-cert-verify','HEzvU','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','YJuGa','aGmTb','issWM','../../utils/gridComponents','<PasswordPlaceholder>','default','../../config/constants','stack','1864973pevmpG','readFileSync','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','type','3157472AAnWWi','40BNJNTc','existsSync','string','start-grid-called','argv','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20start','qgVec','../../config/logger','EyNCw','24GAodwx','server-error','start','clusterRegion','desc','Start\x20an\x20existing\x20Automation\x20grid.','cloudProvider','../../utils/instrumentationUtils'];a19_0x29e7=function(){return _0x48e5dc;};return a19_0x29e7();}exports['command']='grid',exports[a19_0xd9a57a(0x193)]=a19_0xd9a57a(0x194),exports[a19_0xd9a57a(0x169)]=function(_0x434e9d){const _0x56a923=a19_0xd9a57a,_0x23743e={};_0x23743e[_0x56a923(0x170)]='Pass\x20the\x20ID\x20of\x20the\x20existing\x20Automation\x20grid\x20you\x20want\x20to\x20start.',_0x23743e['CIOlb']=_0x56a923(0x188),_0x23743e[_0x56a923(0x19d)]=_0x56a923(0x16b),_0x23743e[_0x56a923(0x167)]='boolean',_0x23743e[_0x56a923(0x17b)]='help';const _0x10ae88=_0x23743e,_0x404a46={};_0x404a46[_0x56a923(0x172)]=_0x10ae88[_0x56a923(0x170)],_0x404a46[_0x56a923(0x184)]=_0x10ae88[_0x56a923(0x166)];const _0xbf7133={};_0xbf7133[_0x56a923(0x172)]=_0x10ae88[_0x56a923(0x19d)],_0xbf7133[_0x56a923(0x184)]=_0x10ae88[_0x56a923(0x167)],_0xbf7133[_0x56a923(0x17e)]=![];const _0x469425={};return _0x469425[_0x56a923(0x154)]=_0x404a46,_0x469425[_0x56a923(0x176)]=_0xbf7133,_0x434e9d[_0x56a923(0x16a)](HELP_HEADER_MESSAGE[_0x56a923(0x191)])[_0x56a923(0x19e)](HELP_FOOTER_MESSAGE)['options'](_0x469425)[_0x56a923(0x152)](_0x10ae88[_0x56a923(0x17b)])[_0x56a923(0x18a)];},exports['handler']=async function(_0x176cd4){const _0x369f49=a19_0xd9a57a,_0x37c93b={'aGmTb':_0x369f49(0x18b),'msRLP':function(_0x213745){return _0x213745();},'qgVec':'Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','sgaYF':function(_0x47acb5,_0x468a80,_0x5f028,_0x31c02c,_0x5b90ab,_0x9a22ab,_0x16247b){return _0x47acb5(_0x468a80,_0x5f028,_0x31c02c,_0x5b90ab,_0x9a22ab,_0x16247b);},'HEzvU':_0x369f49(0x189),'ciDqO':_0x369f49(0x151),'fpilL':function(_0xeaad26,_0x1d11fc,_0x132d49,_0x5f2232,_0x47ee86,_0x4a83e7,_0xff2bc5){return _0xeaad26(_0x1d11fc,_0x132d49,_0x5f2232,_0x47ee86,_0x4a83e7,_0xff2bc5);},'NFhVo':function(_0x5ef5f7){return _0x5ef5f7();},'rILnS':_0x369f49(0x163),'cxevW':_0x369f49(0x17d),'Guakl':_0x369f49(0x157),'GwwkE':function(_0x4b849a,_0x5c0ee4,_0x323ccc,_0x14ad7d){return _0x4b849a(_0x5c0ee4,_0x323ccc,_0x14ad7d);},'HxuMh':function(_0x5176ec,_0x2ce994,_0x27900f,_0x153c95,_0x151fc1,_0x537080,_0x802edf){return _0x5176ec(_0x2ce994,_0x27900f,_0x153c95,_0x151fc1,_0x537080,_0x802edf);},'cyXLd':function(_0x2a3358,_0x485b65,_0x5d62b9){return _0x2a3358(_0x485b65,_0x5d62b9);},'GnuRs':function(_0x2ebca0,_0x5c3246,_0x4dba8f){return _0x2ebca0(_0x5c3246,_0x4dba8f);},'EyNCw':'Grid\x20started','YJuGa':function(_0x109e24,_0x5f006e){return _0x109e24===_0x5f006e;},'eKtyg':_0x369f49(0x183),'AvPua':function(_0x3de8e3,_0x309c0e,_0x5768d4,_0xf31094,_0x47b941,_0xf4e4db,_0xf54a18){return _0x3de8e3(_0x309c0e,_0x5768d4,_0xf31094,_0x47b941,_0xf4e4db,_0xf54a18);},'YFzPp':_0x369f49(0x15a),'TdFic':_0x369f49(0x16f),'Sgryb':function(_0x539814,_0x193a55,_0x14c2f1,_0x1069b8,_0x143126,_0x18290d,_0x2e4a18){return _0x539814(_0x193a55,_0x14c2f1,_0x1069b8,_0x143126,_0x18290d,_0x2e4a18);},'GPJBg':_0x369f49(0x190)};let _0x7ebeb4;try{!_0x176cd4[_0x369f49(0x198)]&&(logger[_0x369f49(0x164)](_0x37c93b[_0x369f49(0x17a)]),process['exit'](0x1));!fs[_0x369f49(0x187)](_0x37c93b[_0x369f49(0x161)](getCredentialsPath))&&(logger[_0x369f49(0x164)](_0x37c93b[_0x369f49(0x18c)]),await _0x37c93b['sgaYF'](sendInstrumentationEvent,_0x176cd4,_0x37c93b[_0x369f49(0x177)],messageTypes[_0x369f49(0x174)],_0x37c93b[_0x369f49(0x15e)],null,_0x176cd4),process[_0x369f49(0x173)](0x1));logger['info'](_0x369f49(0x16c)+_0x176cd4[_0x369f49(0x198)]),await _0x37c93b['fpilL'](sendInstrumentationEvent,_0x176cd4,_0x37c93b[_0x369f49(0x177)],messageTypes['INFO'],null,null,_0x176cd4);const _0x18129c=JSON['parse'](fs[_0x369f49(0x182)](_0x37c93b[_0x369f49(0x175)](getCredentialsPath)));global_registry[_0x369f49(0x14c)]=_0x18129c['Browserstack'][_0x369f49(0x158)],global_registry[_0x369f49(0x14d)]=_0x18129c[_0x369f49(0x15d)]['password'];const _0x3cfad4=WS_ENDPOINT[_0x369f49(0x155)](_0x37c93b['rILnS'],_0x18129c[_0x369f49(0x15d)][_0x369f49(0x158)])[_0x369f49(0x155)](_0x37c93b['cxevW'],_0x18129c[_0x369f49(0x15d)][_0x369f49(0x171)]),_0x3ba4a6={};_0x3ba4a6[_0x369f49(0x19b)]=ws,_0x3ba4a6[_0x369f49(0x15f)]=0x36ee80,_0x7ebeb4=new ReconnectingWebSocket(_0x3cfad4,[],_0x3ba4a6),logger['debug'](_0x37c93b[_0x369f49(0x14b)]),webSocketUtils['addListeners'](_0x7ebeb4,_0x176cd4['user'],_0x176cd4['password']);const [_0x19c9cd,_0x4f7684]=await _0x37c93b['GwwkE'](getGridDetails,_0x18129c[_0x369f49(0x15d)][_0x369f49(0x158)],_0x18129c[_0x369f49(0x15d)]['password'],_0x176cd4[_0x369f49(0x198)]);if(_0x4f7684){const _0x4a05eb=_0x4f7684[_0x369f49(0x14a)];global_registry[_0x369f49(0x195)]=_0x4a05eb[_0x369f49(0x195)],global_registry[_0x369f49(0x192)]=_0x4a05eb['region'],global_registry[_0x369f49(0x14f)]=_0x4a05eb[_0x369f49(0x14f)];const _0x37f6e1=await _0x37c93b['HxuMh'](getCloudProviderObject,_0x4a05eb['cloudProvider'],_0x4a05eb['clusterName'],_0x4a05eb[_0x369f49(0x156)],_0x7ebeb4,webSocketUtils,_0x176cd4),[_0x39b90f,_0x5ec19d,_0x586979,_0x453585,_0x3197f3,_0x3be4a9]=await _0x37c93b[_0x369f49(0x16d)](createK8sClient,_0x37f6e1,_0x176cd4[_0x369f49(0x19c)]);await _0x37c93b['GnuRs'](scaleUpHubDeployment,_0x5ec19d,_0x4a05eb['name']),logger[_0x369f49(0x14a)](_0x37c93b[_0x369f49(0x18e)]),process['exit'](0x0);}_0x37c93b[_0x369f49(0x179)](_0x19c9cd['statusCode'],0x191)&&(logger['error'](_0x37c93b['eKtyg']),await _0x37c93b['AvPua'](sendInstrumentationEvent,_0x176cd4,_0x37c93b[_0x369f49(0x177)],messageTypes[_0x369f49(0x174)],_0x37c93b[_0x369f49(0x197)],null,_0x176cd4),process['exit'](0x1)),_0x37c93b[_0x369f49(0x179)](_0x19c9cd['statusCode'],0x190)&&(logger['error'](JSON[_0x369f49(0x159)](_0x19c9cd[_0x369f49(0x1a2)])[_0x369f49(0x1a0)]),await _0x37c93b['sgaYF'](sendInstrumentationEvent,_0x176cd4,_0x37c93b['HEzvU'],messageTypes[_0x369f49(0x174)],_0x37c93b[_0x369f49(0x15c)],null,_0x176cd4),process[_0x369f49(0x173)](0x1)),logger[_0x369f49(0x164)](_0x369f49(0x178)+JSON[_0x369f49(0x15b)](_0x19c9cd)),await _0x37c93b[_0x369f49(0x1a1)](sendInstrumentationEvent,_0x176cd4,_0x37c93b[_0x369f49(0x177)],messageTypes[_0x369f49(0x174)],_0x37c93b[_0x369f49(0x14e)],_0x19c9cd,_0x176cd4),process['exit'](0x1);}catch(_0x248d45){const _0x5b4a53=_0x369f49(0x19f)+_0x248d45+'\x20\x0a'+JSON[_0x369f49(0x15b)](_0x248d45[_0x369f49(0x180)])+'\x20';logger[_0x369f49(0x164)](_0x5b4a53),process[_0x369f49(0x173)](0x1);}};