const a19_0x5de552=a19_0x5c60;function a19_0xe014(){const _0x496ae8=['desc','info','20151zbuaor','../../utils/instrumentationUtils','sneob','plyGS','uEWNj','statusCode','clusterRegion','oZywI','epilogue','help','usage','grid-id','LhOEo','268290Hpsdty','WFfPv','cloudProvider','9mAyWJK','bstackAccesskey','../../utils/createk8sClient','error','INFO','Pass\x20the\x20ID\x20of\x20the\x20existing\x20Automation\x20grid\x20you\x20want\x20to\x20start.','EzUpc','../../config/logger','description','vaaSI','body','Unable\x20to\x20start\x20the\x20Grid!\x20Error:\x20','wupac','reconnecting-websocket','Skip\x20insecure\x20cert\x20verification.','YCRkG','server-error','clusterName','32nedrEa','PzNhM','EECsF','../../utils/utilityMethods','username','name','bllpd','SdyxK','WebSocket','fQjcy','message','Browserstack','BNpyM','169084xFLrsZ','command','338224QKbgXz','ERROR','handler','<PasswordPlaceholder>','Start\x20an\x20existing\x20Automation\x20grid.','readFileSync','gridId','52062Dipene','<UsernamePlaceholder>','KOiCR','534370UEbbDh','invalid-grid-id','Kzvax','../../utils/webSocketUtils','stringify','addListeners','existsSync','Starting\x20grid\x20','qsdoQ','start-grid-called','grid','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','451tPdvOB','XRFLH','parse','string','../../utils/gridComponents','../../cloudproviders/utils','password','bstackUsername','2066981LaRxXF','debug','Grid\x20started','argv','exit','type','builder','options','355quTxWo'];a19_0xe014=function(){return _0x496ae8;};return a19_0xe014();}(function(_0x942871,_0x1b62cc){const _0x5784f5=a19_0x5c60,_0x391b86=_0x942871();while(!![]){try{const _0x228db1=-parseInt(_0x5784f5(0x135))/0x1+-parseInt(_0x5784f5(0xff))/0x2*(parseInt(_0x5784f5(0xde))/0x3)+-parseInt(_0x5784f5(0xfd))/0x4+-parseInt(_0x5784f5(0x125))/0x5*(parseInt(_0x5784f5(0x106))/0x6)+-parseInt(_0x5784f5(0x11d))/0x7+parseInt(_0x5784f5(0xf0))/0x8*(parseInt(_0x5784f5(0x128))/0x9)+parseInt(_0x5784f5(0x109))/0xa*(parseInt(_0x5784f5(0x115))/0xb);if(_0x228db1===_0x1b62cc)break;else _0x391b86['push'](_0x391b86['shift']());}catch(_0x561fe0){_0x391b86['push'](_0x391b86['shift']());}}}(a19_0xe014,0x72e62));function a19_0x5c60(_0x3376d2,_0x419fee){const _0xe014cb=a19_0xe014();return a19_0x5c60=function(_0x5c60c2,_0x3b03dc){_0x5c60c2=_0x5c60c2-0xde;let _0xe97e30=_0xe014cb[_0x5c60c2];return _0xe97e30;},a19_0x5c60(_0x3376d2,_0x419fee);}const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require(a19_0x5de552(0xeb)),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require('../../config/constants'),{logger}=require(a19_0x5de552(0xe5)),{getCredentialsPath,getGridDetails}=require(a19_0x5de552(0xf3)),{scaleUpHubDeployment}=require(a19_0x5de552(0x119)),{sendInstrumentationEvent}=require(a19_0x5de552(0x129)),webSocketUtils=require(a19_0x5de552(0x10c)),{createK8sClient}=require(a19_0x5de552(0xe0)),{getCloudProviderObject}=require(a19_0x5de552(0x11a));exports[a19_0x5de552(0xfe)]=a19_0x5de552(0x113),exports[a19_0x5de552(0x126)]=a19_0x5de552(0x103),exports[a19_0x5de552(0x123)]=function(_0x4e6bfe){const _0x3ec1e8=a19_0x5de552,_0x14974e={};_0x14974e[_0x3ec1e8(0x12a)]=_0x3ec1e8(0xe3),_0x14974e['fQjcy']=_0x3ec1e8(0x118),_0x14974e[_0x3ec1e8(0xe4)]=_0x3ec1e8(0xec),_0x14974e[_0x3ec1e8(0xed)]='boolean',_0x14974e[_0x3ec1e8(0x12f)]=_0x3ec1e8(0x131);const _0x3719a8=_0x14974e,_0x1d9314={};_0x1d9314[_0x3ec1e8(0xe6)]=_0x3719a8[_0x3ec1e8(0x12a)],_0x1d9314['type']=_0x3719a8[_0x3ec1e8(0xf9)];const _0x485d51={};_0x485d51[_0x3ec1e8(0xe6)]=_0x3719a8['EzUpc'],_0x485d51[_0x3ec1e8(0x122)]=_0x3719a8[_0x3ec1e8(0xed)],_0x485d51['default']=![];const _0x1984e8={};return _0x1984e8[_0x3ec1e8(0x133)]=_0x1d9314,_0x1984e8['skip-tls-cert-verify']=_0x485d51,_0x4e6bfe[_0x3ec1e8(0x132)](HELP_HEADER_MESSAGE['start'])[_0x3ec1e8(0x130)](HELP_FOOTER_MESSAGE)[_0x3ec1e8(0x124)](_0x1984e8)['help'](_0x3719a8[_0x3ec1e8(0x12f)])[_0x3ec1e8(0x120)];},exports[a19_0x5de552(0x101)]=async function(_0x4aa1e5){const _0x164925=a19_0x5de552,_0x29806e={'BNpyM':'Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20start','wupac':function(_0x323096){return _0x323096();},'LwygM':_0x164925(0x114),'qsdoQ':function(_0x4d8a71,_0x212de3,_0x23c09d,_0x4962c5,_0x30085e,_0x4f3180,_0x4db968){return _0x4d8a71(_0x212de3,_0x23c09d,_0x4962c5,_0x30085e,_0x4f3180,_0x4db968);},'vaaSI':_0x164925(0x112),'Kzvax':'init-not-called','bllpd':function(_0x8acc61,_0x298c8f,_0x123af0,_0x2e48a0,_0x147ac9,_0x9060b,_0x309d1a){return _0x8acc61(_0x298c8f,_0x123af0,_0x2e48a0,_0x147ac9,_0x9060b,_0x309d1a);},'XRFLH':_0x164925(0x107),'KOiCR':_0x164925(0x102),'plyGS':'Adding\x20Websocket\x20listeners','zftoW':function(_0x17f2fa,_0x4e184f,_0x3aa07a,_0x2e235e){return _0x17f2fa(_0x4e184f,_0x3aa07a,_0x2e235e);},'WFfPv':function(_0x38d685,_0x45c627,_0x4d0f6c,_0x159485,_0x3d3f12,_0x216fa2,_0x2382fc){return _0x38d685(_0x45c627,_0x4d0f6c,_0x159485,_0x3d3f12,_0x216fa2,_0x2382fc);},'uEWNj':function(_0x1d458f,_0x5e98a9,_0x9e0ff3){return _0x1d458f(_0x5e98a9,_0x9e0ff3);},'PzNhM':function(_0x1e93ae,_0x6ca12b,_0x5cf69d){return _0x1e93ae(_0x6ca12b,_0x5cf69d);},'MIUiO':_0x164925(0x11f),'EECsF':function(_0x344630,_0x483d4a){return _0x344630===_0x483d4a;},'VpxiB':'Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','WKnWK':'unauthorised','LhOEo':function(_0x4c66cd,_0x42e1a3){return _0x4c66cd===_0x42e1a3;},'dqPXH':function(_0x206696,_0x591beb,_0x51f913,_0x250850,_0xfe3d68,_0x4b15c1,_0x1a5afd){return _0x206696(_0x591beb,_0x51f913,_0x250850,_0xfe3d68,_0x4b15c1,_0x1a5afd);},'hiIQI':_0x164925(0x10a),'SdyxK':_0x164925(0xee)};let _0x1ad934;try{!_0x4aa1e5[_0x164925(0x105)]&&(logger['error'](_0x29806e[_0x164925(0xfc)]),process[_0x164925(0x121)](0x1));!fs[_0x164925(0x10f)](_0x29806e[_0x164925(0xea)](getCredentialsPath))&&(logger['error'](_0x29806e['LwygM']),await _0x29806e[_0x164925(0x111)](sendInstrumentationEvent,_0x4aa1e5,_0x29806e[_0x164925(0xe7)],messageTypes[_0x164925(0x100)],_0x29806e[_0x164925(0x10b)],null,_0x4aa1e5),process[_0x164925(0x121)](0x1));logger[_0x164925(0x127)](_0x164925(0x110)+_0x4aa1e5[_0x164925(0x105)]),await _0x29806e[_0x164925(0xf6)](sendInstrumentationEvent,_0x4aa1e5,_0x29806e['vaaSI'],messageTypes[_0x164925(0xe2)],null,null,_0x4aa1e5);const _0x10828a=JSON['parse'](fs[_0x164925(0x104)](_0x29806e['wupac'](getCredentialsPath)));global_registry[_0x164925(0x11c)]=_0x10828a[_0x164925(0xfb)][_0x164925(0xf4)],global_registry[_0x164925(0xdf)]=_0x10828a[_0x164925(0xfb)][_0x164925(0x11b)];const _0x523571=WS_ENDPOINT['replace'](_0x29806e[_0x164925(0x116)],_0x10828a[_0x164925(0xfb)][_0x164925(0xf4)])['replace'](_0x29806e[_0x164925(0x108)],_0x10828a['Browserstack'][_0x164925(0x11b)]),_0x471689={};_0x471689[_0x164925(0xf8)]=ws,_0x471689['connectionTimeout']=0x36ee80,_0x1ad934=new ReconnectingWebSocket(_0x523571,[],_0x471689),logger[_0x164925(0x11e)](_0x29806e[_0x164925(0x12b)]),webSocketUtils[_0x164925(0x10e)](_0x1ad934,_0x4aa1e5['user'],_0x4aa1e5[_0x164925(0x11b)]);const [_0x2ce527,_0x214ae1]=await _0x29806e['zftoW'](getGridDetails,_0x10828a['Browserstack'][_0x164925(0xf4)],_0x10828a['Browserstack'][_0x164925(0x11b)],_0x4aa1e5[_0x164925(0x105)]);if(_0x214ae1){const _0x22757b=_0x214ae1[_0x164925(0x127)];global_registry[_0x164925(0x137)]=_0x22757b[_0x164925(0x137)],global_registry[_0x164925(0x12e)]=_0x22757b['region'],global_registry[_0x164925(0xef)]=_0x22757b[_0x164925(0xef)];const _0x56805d=await _0x29806e[_0x164925(0x136)](getCloudProviderObject,_0x22757b['cloudProvider'],_0x22757b['clusterName'],_0x22757b[_0x164925(0xf5)],_0x1ad934,webSocketUtils,_0x4aa1e5),[_0x210584,_0x18fdc9,_0x388434,_0x54fddd,_0x184b5f,_0x3057fc]=await _0x29806e[_0x164925(0x12c)](createK8sClient,_0x56805d,_0x4aa1e5['skipTlsCertVerify']);await _0x29806e[_0x164925(0xf1)](scaleUpHubDeployment,_0x18fdc9,_0x22757b[_0x164925(0xf5)]),logger['info'](_0x29806e['MIUiO']),process[_0x164925(0x121)](0x0);}_0x29806e[_0x164925(0xf2)](_0x2ce527[_0x164925(0x12d)],0x191)&&(logger[_0x164925(0xe1)](_0x29806e['VpxiB']),await _0x29806e[_0x164925(0x136)](sendInstrumentationEvent,_0x4aa1e5,_0x29806e[_0x164925(0xe7)],messageTypes[_0x164925(0x100)],_0x29806e['WKnWK'],null,_0x4aa1e5),process[_0x164925(0x121)](0x1)),_0x29806e[_0x164925(0x134)](_0x2ce527['statusCode'],0x190)&&(logger[_0x164925(0xe1)](JSON[_0x164925(0x117)](_0x2ce527[_0x164925(0xe8)])[_0x164925(0xfa)]),await _0x29806e['dqPXH'](sendInstrumentationEvent,_0x4aa1e5,_0x29806e[_0x164925(0xe7)],messageTypes[_0x164925(0x100)],_0x29806e['hiIQI'],null,_0x4aa1e5),process[_0x164925(0x121)](0x1)),logger[_0x164925(0xe1)]('Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20'+JSON['stringify'](_0x2ce527)),await _0x29806e[_0x164925(0xf6)](sendInstrumentationEvent,_0x4aa1e5,_0x29806e[_0x164925(0xe7)],messageTypes[_0x164925(0x100)],_0x29806e[_0x164925(0xf7)],_0x2ce527,_0x4aa1e5),process['exit'](0x1);}catch(_0x1a21b4){const _0x2b4448=_0x164925(0xe9)+_0x1a21b4+'\x20\x0a'+JSON[_0x164925(0x10d)](_0x1a21b4['stack'])+'\x20';logger[_0x164925(0xe1)](_0x2b4448),process[_0x164925(0x121)](0x1);}};