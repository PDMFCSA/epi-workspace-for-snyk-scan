const a19_0x53a2ae=a19_0x1bc3;function a19_0x1bc3(_0x9c309a,_0x3ee803){const _0x3f0a6b=a19_0x3f0a();return a19_0x1bc3=function(_0x1bc344,_0x5bb2c7){_0x1bc344=_0x1bc344-0x1ac;let _0x335e5f=_0x3f0a6b[_0x1bc344];return _0x335e5f;},a19_0x1bc3(_0x9c309a,_0x3ee803);}(function(_0x24643c,_0x9d7962){const _0x39de00=a19_0x1bc3,_0x267643=_0x24643c();while(!![]){try{const _0x2e8f84=parseInt(_0x39de00(0x1fd))/0x1+-parseInt(_0x39de00(0x1e1))/0x2+parseInt(_0x39de00(0x1de))/0x3*(-parseInt(_0x39de00(0x1ec))/0x4)+parseInt(_0x39de00(0x201))/0x5*(-parseInt(_0x39de00(0x1ac))/0x6)+-parseInt(_0x39de00(0x1e0))/0x7+-parseInt(_0x39de00(0x1cf))/0x8+parseInt(_0x39de00(0x1e2))/0x9;if(_0x2e8f84===_0x9d7962)break;else _0x267643['push'](_0x267643['shift']());}catch(_0x26ce52){_0x267643['push'](_0x267643['shift']());}}}(a19_0x3f0a,0xe6f77));const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require(a19_0x53a2ae(0x1b2)),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a19_0x53a2ae(0x1b4)),{logger}=require(a19_0x53a2ae(0x1b1)),{getCredentialsPath,getGridDetails}=require(a19_0x53a2ae(0x1d0)),{scaleUpHubDeployment}=require(a19_0x53a2ae(0x1fb)),{sendInstrumentationEvent}=require(a19_0x53a2ae(0x1bd)),webSocketUtils=require(a19_0x53a2ae(0x1ea)),{createK8sClient}=require(a19_0x53a2ae(0x1fc)),{getCloudProviderObject}=require('../../cloudproviders/utils');function a19_0x3f0a(){const _0x47c2b7=['grid-id','statusCode','ooYpN','Adding\x20Websocket\x20listeners','ERROR','boolean','BHPvn','stringify','whCYF','lyOfR','gridId','14280128TakRWD','../../utils/utilityMethods','server-error','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20start','skipTlsCertVerify','clusterName','epilogue','username','DQrnd','nuAnQ','existsSync','replace','region','init-not-called','desc','150wHwPQV','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','6986231EcXnMx','3366586ptMxFm','56538657cjxRui','lFBGI','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','uHyqH','clusterRegion','readFileSync','options','start-grid-called','../../utils/webSocketUtils','stack','60808wlGnAN','WZNsK','WebSocket','qQAbH','INFO','error','Browserstack','cASZW','Start\x20an\x20existing\x20Automation\x20grid.','description','exit','info','connectionTimeout','McfHb','handler','../../utils/gridComponents','../../utils/createk8sClient','1403761YpSJFK','rZlbW','rKDxh','Grid\x20started','2522255RyZFRr','unauthorised','command','message','start','user','JGnhc','Pass\x20the\x20ID\x20of\x20the\x20existing\x20Automation\x20grid\x20you\x20want\x20to\x20start.','invalid-grid-id','18poVrIi','<PasswordPlaceholder>','parse','vgsLr','default','../../config/logger','reconnecting-websocket','cloudProvider','../../config/constants','ISSoX','debug','bKAop','body','OFGJx','JjTgm','type','skip-tls-cert-verify','../../utils/instrumentationUtils','grid','help','Unable\x20to\x20start\x20the\x20Grid!\x20Error:\x20','password','PGdgl','addListeners'];a19_0x3f0a=function(){return _0x47c2b7;};return a19_0x3f0a();}exports[a19_0x53a2ae(0x203)]=a19_0x53a2ae(0x1be),exports[a19_0x53a2ae(0x1dd)]=a19_0x53a2ae(0x1f4),exports['builder']=function(_0xa8111c){const _0x5a3abf=a19_0x53a2ae,_0x2a66d5={};_0x2a66d5['uHyqH']=_0x5a3abf(0x208),_0x2a66d5['nuAnQ']='string',_0x2a66d5[_0x5a3abf(0x1fe)]='Skip\x20insecure\x20cert\x20verification.',_0x2a66d5['ISSoX']=_0x5a3abf(0x1c9),_0x2a66d5[_0x5a3abf(0x1af)]='help';const _0x2246c0=_0x2a66d5,_0x373fb2={};_0x373fb2[_0x5a3abf(0x1f5)]=_0x2246c0[_0x5a3abf(0x1e5)],_0x373fb2['type']=_0x2246c0[_0x5a3abf(0x1d8)];const _0x402f9e={};_0x402f9e['description']=_0x2246c0['rZlbW'],_0x402f9e[_0x5a3abf(0x1bb)]=_0x2246c0[_0x5a3abf(0x1b5)],_0x402f9e[_0x5a3abf(0x1b0)]=![];const _0x1f25ed={};return _0x1f25ed[_0x5a3abf(0x1c4)]=_0x373fb2,_0x1f25ed[_0x5a3abf(0x1bc)]=_0x402f9e,_0xa8111c['usage'](HELP_HEADER_MESSAGE[_0x5a3abf(0x205)])[_0x5a3abf(0x1d5)](HELP_FOOTER_MESSAGE)[_0x5a3abf(0x1e8)](_0x1f25ed)[_0x5a3abf(0x1bf)](_0x2246c0[_0x5a3abf(0x1af)])['argv'];},exports[a19_0x53a2ae(0x1fa)]=async function(_0x2deb13){const _0x15272b=a19_0x53a2ae,_0x175d11={'WZNsK':_0x15272b(0x1d2),'PGdgl':function(_0x3a3d88){return _0x3a3d88();},'PtPyH':'Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','rKDxh':function(_0x173553,_0x1ae482,_0x2ec9a5,_0x15c62a,_0x3eb2e4,_0x304da7,_0x9a6eb3){return _0x173553(_0x1ae482,_0x2ec9a5,_0x15c62a,_0x3eb2e4,_0x304da7,_0x9a6eb3);},'DQrnd':_0x15272b(0x1e9),'Bmwbr':_0x15272b(0x1dc),'bKAop':'<UsernamePlaceholder>','whCYF':_0x15272b(0x1ad),'QZNUg':_0x15272b(0x1c7),'JGnhc':function(_0x37c0f3,_0x1c4023,_0x42e7df,_0x2416b4){return _0x37c0f3(_0x1c4023,_0x42e7df,_0x2416b4);},'JjTgm':function(_0xa21e4a,_0x14dc4d,_0x2ed8ba,_0x77b771,_0x651717,_0x1f8c80,_0x35fc74){return _0xa21e4a(_0x14dc4d,_0x2ed8ba,_0x77b771,_0x651717,_0x1f8c80,_0x35fc74);},'ooYpN':function(_0x39c490,_0x4c969c,_0x360338){return _0x39c490(_0x4c969c,_0x360338);},'lyOfR':function(_0x266e6e,_0x9f7cd2,_0x378dae){return _0x266e6e(_0x9f7cd2,_0x378dae);},'qQAbH':_0x15272b(0x200),'PVHvH':function(_0x91af1b,_0x383876){return _0x91af1b===_0x383876;},'OFGJx':_0x15272b(0x1e4),'iCrcL':function(_0x58aae0,_0x4c865e,_0x5bc714,_0x1a1064,_0x43aa64,_0x491432,_0x366e84){return _0x58aae0(_0x4c865e,_0x5bc714,_0x1a1064,_0x43aa64,_0x491432,_0x366e84);},'McfHb':_0x15272b(0x202),'YJtEF':function(_0x4e3e63,_0x3a8520){return _0x4e3e63===_0x3a8520;},'cASZW':function(_0x3f4488,_0x83223e,_0x45b572,_0x5d832a,_0x562c3e,_0x4ae76f,_0x4f96f1){return _0x3f4488(_0x83223e,_0x45b572,_0x5d832a,_0x562c3e,_0x4ae76f,_0x4f96f1);},'sUPNa':_0x15272b(0x209),'BHPvn':function(_0x2414f8,_0xbbf06d,_0x855c1a,_0x572e60,_0x5e719b,_0x203594,_0x32e79d){return _0x2414f8(_0xbbf06d,_0x855c1a,_0x572e60,_0x5e719b,_0x203594,_0x32e79d);},'lFBGI':_0x15272b(0x1d1)};let _0x51d64c;try{!_0x2deb13['gridId']&&(logger[_0x15272b(0x1f1)](_0x175d11[_0x15272b(0x1ed)]),process[_0x15272b(0x1f6)](0x1));!fs[_0x15272b(0x1d9)](_0x175d11[_0x15272b(0x1c2)](getCredentialsPath))&&(logger[_0x15272b(0x1f1)](_0x175d11['PtPyH']),await _0x175d11[_0x15272b(0x1ff)](sendInstrumentationEvent,_0x2deb13,_0x175d11[_0x15272b(0x1d7)],messageTypes[_0x15272b(0x1c8)],_0x175d11['Bmwbr'],null,_0x2deb13),process[_0x15272b(0x1f6)](0x1));logger['info']('Starting\x20grid\x20'+_0x2deb13['gridId']),await _0x175d11['rKDxh'](sendInstrumentationEvent,_0x2deb13,_0x175d11[_0x15272b(0x1d7)],messageTypes[_0x15272b(0x1f0)],null,null,_0x2deb13);const _0x4f91c3=JSON['parse'](fs[_0x15272b(0x1e7)](_0x175d11[_0x15272b(0x1c2)](getCredentialsPath)));global_registry['bstackUsername']=_0x4f91c3[_0x15272b(0x1f2)]['username'],global_registry['bstackAccesskey']=_0x4f91c3[_0x15272b(0x1f2)][_0x15272b(0x1c1)];const _0x264691=WS_ENDPOINT[_0x15272b(0x1da)](_0x175d11[_0x15272b(0x1b7)],_0x4f91c3[_0x15272b(0x1f2)]['username'])[_0x15272b(0x1da)](_0x175d11[_0x15272b(0x1cc)],_0x4f91c3[_0x15272b(0x1f2)]['password']),_0x51efc0={};_0x51efc0[_0x15272b(0x1ee)]=ws,_0x51efc0[_0x15272b(0x1f8)]=0x36ee80,_0x51d64c=new ReconnectingWebSocket(_0x264691,[],_0x51efc0),logger[_0x15272b(0x1b6)](_0x175d11['QZNUg']),webSocketUtils[_0x15272b(0x1c3)](_0x51d64c,_0x2deb13[_0x15272b(0x206)],_0x2deb13[_0x15272b(0x1c1)]);const [_0x3a6a8c,_0x51d40b]=await _0x175d11[_0x15272b(0x207)](getGridDetails,_0x4f91c3['Browserstack'][_0x15272b(0x1d6)],_0x4f91c3[_0x15272b(0x1f2)][_0x15272b(0x1c1)],_0x2deb13[_0x15272b(0x1ce)]);if(_0x51d40b){const _0x25faf8=_0x51d40b[_0x15272b(0x1f7)];global_registry[_0x15272b(0x1b3)]=_0x25faf8[_0x15272b(0x1b3)],global_registry[_0x15272b(0x1e6)]=_0x25faf8[_0x15272b(0x1db)],global_registry[_0x15272b(0x1d4)]=_0x25faf8['clusterName'];const _0x7daee2=await _0x175d11[_0x15272b(0x1ba)](getCloudProviderObject,_0x25faf8[_0x15272b(0x1b3)],_0x25faf8[_0x15272b(0x1d4)],_0x25faf8['name'],_0x51d64c,webSocketUtils,_0x2deb13),[_0x335092,_0x109be6,_0x2ff657,_0x186976,_0x5970fc,_0x32adbd]=await _0x175d11[_0x15272b(0x1c6)](createK8sClient,_0x7daee2,_0x2deb13[_0x15272b(0x1d3)]);await _0x175d11[_0x15272b(0x1cd)](scaleUpHubDeployment,_0x109be6,_0x25faf8['name']),logger[_0x15272b(0x1f7)](_0x175d11[_0x15272b(0x1ef)]),process[_0x15272b(0x1f6)](0x0);}_0x175d11['PVHvH'](_0x3a6a8c[_0x15272b(0x1c5)],0x191)&&(logger[_0x15272b(0x1f1)](_0x175d11[_0x15272b(0x1b9)]),await _0x175d11['iCrcL'](sendInstrumentationEvent,_0x2deb13,_0x175d11[_0x15272b(0x1d7)],messageTypes[_0x15272b(0x1c8)],_0x175d11[_0x15272b(0x1f9)],null,_0x2deb13),process[_0x15272b(0x1f6)](0x1)),_0x175d11['YJtEF'](_0x3a6a8c[_0x15272b(0x1c5)],0x190)&&(logger[_0x15272b(0x1f1)](JSON[_0x15272b(0x1ae)](_0x3a6a8c[_0x15272b(0x1b8)])[_0x15272b(0x204)]),await _0x175d11[_0x15272b(0x1f3)](sendInstrumentationEvent,_0x2deb13,_0x175d11['DQrnd'],messageTypes[_0x15272b(0x1c8)],_0x175d11['sUPNa'],null,_0x2deb13),process[_0x15272b(0x1f6)](0x1)),logger[_0x15272b(0x1f1)](_0x15272b(0x1df)+JSON[_0x15272b(0x1cb)](_0x3a6a8c)),await _0x175d11[_0x15272b(0x1ca)](sendInstrumentationEvent,_0x2deb13,_0x175d11[_0x15272b(0x1d7)],messageTypes[_0x15272b(0x1c8)],_0x175d11[_0x15272b(0x1e3)],_0x3a6a8c,_0x2deb13),process['exit'](0x1);}catch(_0x5ea806){const _0x2f3139=_0x15272b(0x1c0)+_0x5ea806+'\x20\x0a'+JSON['stringify'](_0x5ea806[_0x15272b(0x1eb)])+'\x20';logger[_0x15272b(0x1f1)](_0x2f3139),process['exit'](0x1);}};