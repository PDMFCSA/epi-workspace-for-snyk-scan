const a19_0x49c0b0=a19_0x6325;function a19_0x3634(){const _0x4e3382=['ONpiU','../../utils/gridComponents','799472gTJviF','replace','epilogue','woRCL','94088EjGiUu','grid-id','gridId','rtAXd','kehqm','szoyX','2987292LyVjGi','help','utgzK','ydipt','handler','cloudProvider','info','9049030fkbONf','Grid\x20started','NwlNI','stack','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','command','liXZf','exit','default','nYlAO','xaRog','string','Browserstack','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20start','debug','body','jqMIS','bstackUsername','skipTlsCertVerify','GCfur','35657083WVZrkW','29flqCsl','../../config/constants','type','Unable\x20to\x20start\x20the\x20Grid!\x20Error:\x20','skip-tls-cert-verify','unauthorised','message','password','Bfxnu','ERROR','bstackAccesskey','9NmavdX','WQBQg','start-grid-called','stringify','YOnwY','<PasswordPlaceholder>','../../utils/webSocketUtils','clusterRegion','connectionTimeout','Starting\x20grid\x20','start','VXvJC','statusCode','../../utils/createk8sClient','Start\x20an\x20existing\x20Automation\x20grid.','IerfN','842778voDMUd','<UsernamePlaceholder>','parse','description','grid','error','16358WbCyPd','existsSync','uYrRY','options','../../utils/instrumentationUtils','username','../../utils/utilityMethods','56bbjOxa','name','clusterName','../../cloudproviders/utils','argv','boolean','hxYUX','Skip\x20insecure\x20cert\x20verification.','desc','75AmUesR'];a19_0x3634=function(){return _0x4e3382;};return a19_0x3634();}(function(_0x2128df,_0x562e8c){const _0x12c1f4=a19_0x6325,_0x5ee600=_0x2128df();while(!![]){try{const _0x3407a6=-parseInt(_0x12c1f4(0x19a))/0x1*(parseInt(_0x12c1f4(0x1bb))/0x2)+-parseInt(_0x12c1f4(0x1b5))/0x3+parseInt(_0x12c1f4(0x178))/0x4*(parseInt(_0x12c1f4(0x171))/0x5)+-parseInt(_0x12c1f4(0x17e))/0x6+-parseInt(_0x12c1f4(0x168))/0x7*(parseInt(_0x12c1f4(0x174))/0x8)+parseInt(_0x12c1f4(0x1a5))/0x9*(-parseInt(_0x12c1f4(0x185))/0xa)+parseInt(_0x12c1f4(0x199))/0xb;if(_0x3407a6===_0x562e8c)break;else _0x5ee600['push'](_0x5ee600['shift']());}catch(_0x18c8dc){_0x5ee600['push'](_0x5ee600['shift']());}}}(a19_0x3634,0xd5619));const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require('reconnecting-websocket'),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a19_0x49c0b0(0x19b)),{logger}=require('../../config/logger'),{getCredentialsPath,getGridDetails}=require(a19_0x49c0b0(0x167)),{scaleUpHubDeployment}=require(a19_0x49c0b0(0x173)),{sendInstrumentationEvent}=require(a19_0x49c0b0(0x165)),webSocketUtils=require(a19_0x49c0b0(0x1ab)),{createK8sClient}=require(a19_0x49c0b0(0x1b2)),{getCloudProviderObject}=require(a19_0x49c0b0(0x16b));function a19_0x6325(_0x34a5cb,_0x19c864){const _0x3634a4=a19_0x3634();return a19_0x6325=function(_0x632555,_0x1deef3){_0x632555=_0x632555-0x165;let _0x5730b4=_0x3634a4[_0x632555];return _0x5730b4;},a19_0x6325(_0x34a5cb,_0x19c864);}exports[a19_0x49c0b0(0x18a)]=a19_0x49c0b0(0x1b9),exports[a19_0x49c0b0(0x170)]=a19_0x49c0b0(0x1b3),exports['builder']=function(_0xbd2331){const _0x5dbdf7=a19_0x49c0b0,_0x89bee2={};_0x89bee2['rtAXd']='Pass\x20the\x20ID\x20of\x20the\x20existing\x20Automation\x20grid\x20you\x20want\x20to\x20start.',_0x89bee2[_0x5dbdf7(0x1b4)]=_0x5dbdf7(0x190),_0x89bee2[_0x5dbdf7(0x17c)]=_0x5dbdf7(0x16f),_0x89bee2[_0x5dbdf7(0x1bd)]=_0x5dbdf7(0x16d),_0x89bee2['dvPzh']=_0x5dbdf7(0x17f);const _0x33f963=_0x89bee2,_0x28f9fa={};_0x28f9fa['description']=_0x33f963[_0x5dbdf7(0x17b)],_0x28f9fa[_0x5dbdf7(0x19c)]=_0x33f963['IerfN'];const _0x447ba2={};_0x447ba2[_0x5dbdf7(0x1b8)]=_0x33f963[_0x5dbdf7(0x17c)],_0x447ba2['type']=_0x33f963[_0x5dbdf7(0x1bd)],_0x447ba2[_0x5dbdf7(0x18d)]=![];const _0x4dfa14={};return _0x4dfa14[_0x5dbdf7(0x179)]=_0x28f9fa,_0x4dfa14[_0x5dbdf7(0x19e)]=_0x447ba2,_0xbd2331['usage'](HELP_HEADER_MESSAGE[_0x5dbdf7(0x1af)])[_0x5dbdf7(0x176)](HELP_FOOTER_MESSAGE)[_0x5dbdf7(0x1be)](_0x4dfa14)['help'](_0x33f963['dvPzh'])[_0x5dbdf7(0x16c)];},exports[a19_0x49c0b0(0x182)]=async function(_0x13ff27){const _0x1a611d=a19_0x49c0b0,_0xb18e7c={'ZChgW':_0x1a611d(0x192),'jqMIS':function(_0x398209){return _0x398209();},'Bfxnu':'Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','ONpiU':function(_0x3acb1a,_0x6f0496,_0x237d92,_0x2257fb,_0x597905,_0xb7fb46,_0x4f1422){return _0x3acb1a(_0x6f0496,_0x237d92,_0x2257fb,_0x597905,_0xb7fb46,_0x4f1422);},'utgzK':_0x1a611d(0x1a7),'viNkF':'init-not-called','nYlAO':function(_0x3ccd7e,_0x1c20e1,_0x2b4dc8,_0x269f8b,_0x8b60c7,_0x4239ae,_0x532d8){return _0x3ccd7e(_0x1c20e1,_0x2b4dc8,_0x269f8b,_0x8b60c7,_0x4239ae,_0x532d8);},'cseLQ':_0x1a611d(0x1b6),'xaRog':_0x1a611d(0x1aa),'GCfur':'Adding\x20Websocket\x20listeners','YOnwY':function(_0xa9ff46,_0x9da373,_0x2de36c,_0x326b0b){return _0xa9ff46(_0x9da373,_0x2de36c,_0x326b0b);},'ydipt':function(_0x4d7d8b,_0x154103,_0x24c0fb){return _0x4d7d8b(_0x154103,_0x24c0fb);},'Dshnz':function(_0x3e2e96,_0x1a4f47,_0x4b22bf){return _0x3e2e96(_0x1a4f47,_0x4b22bf);},'woRCL':_0x1a611d(0x186),'NwlNI':function(_0x419259,_0x3d764c){return _0x419259===_0x3d764c;},'VXvJC':'Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','hxYUX':_0x1a611d(0x19f),'ATRfD':function(_0x1caf91,_0x503687){return _0x1caf91===_0x503687;},'szoyX':function(_0x1f313d,_0x2c7ae8,_0x571039,_0x5ccbf6,_0x5e58a9,_0x5e4ce2,_0x4a190c){return _0x1f313d(_0x2c7ae8,_0x571039,_0x5ccbf6,_0x5e58a9,_0x5e4ce2,_0x4a190c);},'LbWKs':'invalid-grid-id','liXZf':function(_0x5b9816,_0x530a6f,_0x41553c,_0x211290,_0x3c3973,_0x3a5d90,_0x4cf41d){return _0x5b9816(_0x530a6f,_0x41553c,_0x211290,_0x3c3973,_0x3a5d90,_0x4cf41d);},'WQBQg':'server-error'};let _0x4b0f22;try{!_0x13ff27[_0x1a611d(0x17a)]&&(logger[_0x1a611d(0x1ba)](_0xb18e7c['ZChgW']),process[_0x1a611d(0x18c)](0x1));!fs[_0x1a611d(0x1bc)](_0xb18e7c['jqMIS'](getCredentialsPath))&&(logger[_0x1a611d(0x1ba)](_0xb18e7c[_0x1a611d(0x1a2)]),await _0xb18e7c['ONpiU'](sendInstrumentationEvent,_0x13ff27,_0xb18e7c['utgzK'],messageTypes['ERROR'],_0xb18e7c['viNkF'],null,_0x13ff27),process[_0x1a611d(0x18c)](0x1));logger[_0x1a611d(0x184)](_0x1a611d(0x1ae)+_0x13ff27[_0x1a611d(0x17a)]),await _0xb18e7c[_0x1a611d(0x18e)](sendInstrumentationEvent,_0x13ff27,_0xb18e7c[_0x1a611d(0x180)],messageTypes['INFO'],null,null,_0x13ff27);const _0x1d5187=JSON['parse'](fs['readFileSync'](_0xb18e7c[_0x1a611d(0x195)](getCredentialsPath)));global_registry[_0x1a611d(0x196)]=_0x1d5187['Browserstack']['username'],global_registry[_0x1a611d(0x1a4)]=_0x1d5187[_0x1a611d(0x191)][_0x1a611d(0x1a1)];const _0x2911aa=WS_ENDPOINT[_0x1a611d(0x175)](_0xb18e7c['cseLQ'],_0x1d5187[_0x1a611d(0x191)][_0x1a611d(0x166)])['replace'](_0xb18e7c[_0x1a611d(0x18f)],_0x1d5187['Browserstack']['password']),_0x2c2dde={};_0x2c2dde['WebSocket']=ws,_0x2c2dde[_0x1a611d(0x1ad)]=0x36ee80,_0x4b0f22=new ReconnectingWebSocket(_0x2911aa,[],_0x2c2dde),logger[_0x1a611d(0x193)](_0xb18e7c[_0x1a611d(0x198)]),webSocketUtils['addListeners'](_0x4b0f22,_0x13ff27['user'],_0x13ff27[_0x1a611d(0x1a1)]);const [_0x23486a,_0x1ffc3e]=await _0xb18e7c[_0x1a611d(0x1a9)](getGridDetails,_0x1d5187[_0x1a611d(0x191)][_0x1a611d(0x166)],_0x1d5187[_0x1a611d(0x191)]['password'],_0x13ff27[_0x1a611d(0x17a)]);if(_0x1ffc3e){const _0x566026=_0x1ffc3e[_0x1a611d(0x184)];global_registry['cloudProvider']=_0x566026[_0x1a611d(0x183)],global_registry[_0x1a611d(0x1ac)]=_0x566026['region'],global_registry[_0x1a611d(0x16a)]=_0x566026[_0x1a611d(0x16a)];const _0x30dd13=await _0xb18e7c[_0x1a611d(0x18e)](getCloudProviderObject,_0x566026[_0x1a611d(0x183)],_0x566026[_0x1a611d(0x16a)],_0x566026['name'],_0x4b0f22,webSocketUtils,_0x13ff27),[_0x1af595,_0x41bcd8,_0x23e75e,_0x45bca3,_0x4326b3,_0x3f2301]=await _0xb18e7c[_0x1a611d(0x181)](createK8sClient,_0x30dd13,_0x13ff27[_0x1a611d(0x197)]);await _0xb18e7c['Dshnz'](scaleUpHubDeployment,_0x41bcd8,_0x566026[_0x1a611d(0x169)]),logger[_0x1a611d(0x184)](_0xb18e7c[_0x1a611d(0x177)]),process['exit'](0x0);}_0xb18e7c[_0x1a611d(0x187)](_0x23486a[_0x1a611d(0x1b1)],0x191)&&(logger[_0x1a611d(0x1ba)](_0xb18e7c[_0x1a611d(0x1b0)]),await _0xb18e7c[_0x1a611d(0x172)](sendInstrumentationEvent,_0x13ff27,_0xb18e7c['utgzK'],messageTypes[_0x1a611d(0x1a3)],_0xb18e7c[_0x1a611d(0x16e)],null,_0x13ff27),process[_0x1a611d(0x18c)](0x1)),_0xb18e7c['ATRfD'](_0x23486a[_0x1a611d(0x1b1)],0x190)&&(logger[_0x1a611d(0x1ba)](JSON[_0x1a611d(0x1b7)](_0x23486a[_0x1a611d(0x194)])[_0x1a611d(0x1a0)]),await _0xb18e7c[_0x1a611d(0x17d)](sendInstrumentationEvent,_0x13ff27,_0xb18e7c[_0x1a611d(0x180)],messageTypes['ERROR'],_0xb18e7c['LbWKs'],null,_0x13ff27),process[_0x1a611d(0x18c)](0x1)),logger[_0x1a611d(0x1ba)](_0x1a611d(0x189)+JSON[_0x1a611d(0x1a8)](_0x23486a)),await _0xb18e7c[_0x1a611d(0x18b)](sendInstrumentationEvent,_0x13ff27,_0xb18e7c[_0x1a611d(0x180)],messageTypes[_0x1a611d(0x1a3)],_0xb18e7c[_0x1a611d(0x1a6)],_0x23486a,_0x13ff27),process[_0x1a611d(0x18c)](0x1);}catch(_0x3ee1ad){const _0x30ee99=_0x1a611d(0x19d)+_0x3ee1ad+'\x20\x0a'+JSON[_0x1a611d(0x1a8)](_0x3ee1ad[_0x1a611d(0x188)])+'\x20';logger[_0x1a611d(0x1ba)](_0x30ee99),process[_0x1a611d(0x18c)](0x1);}};