const a19_0x32ea80=a19_0x589c;(function(_0x181010,_0x560e0d){const _0x34a5e7=a19_0x589c,_0x1928be=_0x181010();while(!![]){try{const _0x78f59d=parseInt(_0x34a5e7(0xed))/0x1*(-parseInt(_0x34a5e7(0xe3))/0x2)+-parseInt(_0x34a5e7(0xf9))/0x3+-parseInt(_0x34a5e7(0xef))/0x4+parseInt(_0x34a5e7(0x108))/0x5*(parseInt(_0x34a5e7(0xb8))/0x6)+-parseInt(_0x34a5e7(0xcf))/0x7+parseInt(_0x34a5e7(0xf4))/0x8*(-parseInt(_0x34a5e7(0xf7))/0x9)+-parseInt(_0x34a5e7(0xec))/0xa*(-parseInt(_0x34a5e7(0xe8))/0xb);if(_0x78f59d===_0x560e0d)break;else _0x1928be['push'](_0x1928be['shift']());}catch(_0x17030b){_0x1928be['push'](_0x1928be['shift']());}}}(a19_0x4182,0xe4cf9));const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require(a19_0x32ea80(0xbb)),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a19_0x32ea80(0xdc)),{logger}=require('../../config/logger'),{getCredentialsPath,getGridDetails}=require(a19_0x32ea80(0xaf)),{scaleUpHubDeployment}=require(a19_0x32ea80(0xdb)),{sendInstrumentationEvent}=require(a19_0x32ea80(0x107)),webSocketUtils=require('../../utils/webSocketUtils'),{createK8sClient}=require(a19_0x32ea80(0xb6)),{getCloudProviderObject}=require(a19_0x32ea80(0xd5));function a19_0x589c(_0x5067bc,_0x277b85){const _0x4182e6=a19_0x4182();return a19_0x589c=function(_0x589c4f,_0x3b973b){_0x589c4f=_0x589c4f-0xac;let _0x22e022=_0x4182e6[_0x589c4f];return _0x22e022;},a19_0x589c(_0x5067bc,_0x277b85);}exports[a19_0x32ea80(0xc5)]=a19_0x32ea80(0xc8),exports[a19_0x32ea80(0xf8)]='Start\x20an\x20existing\x20Automation\x20grid.',exports[a19_0x32ea80(0xc9)]=function(_0x1076ac){const _0x2bc7ed=a19_0x32ea80,_0x2d3de7={};_0x2d3de7[_0x2bc7ed(0xf1)]=_0x2bc7ed(0xb1),_0x2d3de7['aoUsC']=_0x2bc7ed(0xf6),_0x2d3de7[_0x2bc7ed(0xb2)]=_0x2bc7ed(0xda),_0x2d3de7[_0x2bc7ed(0xc6)]='boolean',_0x2d3de7[_0x2bc7ed(0xbe)]=_0x2bc7ed(0xf3);const _0x4ea7fe=_0x2d3de7,_0x1d730c={};_0x1d730c[_0x2bc7ed(0xe9)]=_0x4ea7fe[_0x2bc7ed(0xf1)],_0x1d730c[_0x2bc7ed(0xd8)]=_0x4ea7fe[_0x2bc7ed(0xc4)];const _0x19a964={};_0x19a964['description']=_0x4ea7fe[_0x2bc7ed(0xb2)],_0x19a964['type']=_0x4ea7fe[_0x2bc7ed(0xc6)],_0x19a964['default']=![];const _0x345b21={};return _0x345b21[_0x2bc7ed(0xea)]=_0x1d730c,_0x345b21[_0x2bc7ed(0x104)]=_0x19a964,_0x1076ac[_0x2bc7ed(0xfc)](HELP_HEADER_MESSAGE[_0x2bc7ed(0xfe)])['epilogue'](HELP_FOOTER_MESSAGE)[_0x2bc7ed(0xce)](_0x345b21)['help'](_0x4ea7fe[_0x2bc7ed(0xbe)])[_0x2bc7ed(0xd7)];},exports[a19_0x32ea80(0xfb)]=async function(_0x3619b9){const _0x3517c7=a19_0x32ea80,_0x1e26ca={'ijFid':_0x3517c7(0xff),'adaGJ':function(_0x16134a){return _0x16134a();},'vGCuf':_0x3517c7(0xe0),'dqxuk':function(_0x322f56,_0x4fe841,_0x2e1d05,_0xb939ae,_0x4a3d90,_0x233637,_0x26e976){return _0x322f56(_0x4fe841,_0x2e1d05,_0xb939ae,_0x4a3d90,_0x233637,_0x26e976);},'nehLY':'start-grid-called','hPCmr':_0x3517c7(0xcb),'ngfbc':function(_0x5809e3){return _0x5809e3();},'NEEit':_0x3517c7(0xba),'dDxEt':_0x3517c7(0xcd),'nTYFP':_0x3517c7(0xbf),'OsuNP':function(_0x3c0141,_0xc617d,_0x5c28ba,_0x35189e){return _0x3c0141(_0xc617d,_0x5c28ba,_0x35189e);},'GeHIh':function(_0x76e7fb,_0x743392,_0x59fdbe,_0x59985b,_0x40dc35,_0x318c60,_0x159c43){return _0x76e7fb(_0x743392,_0x59fdbe,_0x59985b,_0x40dc35,_0x318c60,_0x159c43);},'cZAJy':function(_0x2d4006,_0x6c219b,_0x1c40b9){return _0x2d4006(_0x6c219b,_0x1c40b9);},'Jligg':function(_0x5adb22,_0x5525d8,_0x3c832a){return _0x5adb22(_0x5525d8,_0x3c832a);},'UZazx':_0x3517c7(0x109),'aIPgO':function(_0x24de70,_0x15085b){return _0x24de70===_0x15085b;},'iNcwv':_0x3517c7(0xc7),'viGFf':function(_0x3f9235,_0x1b0347,_0x3725a0,_0x4b79ed,_0x59e510,_0x42d222,_0x375afb){return _0x3f9235(_0x1b0347,_0x3725a0,_0x4b79ed,_0x59e510,_0x42d222,_0x375afb);},'ycGnq':_0x3517c7(0xf2),'tMieS':function(_0x9cbc79,_0x25e953,_0x394ea5,_0x4f6ef6,_0x58146d,_0x3f776e,_0x45656e){return _0x9cbc79(_0x25e953,_0x394ea5,_0x4f6ef6,_0x58146d,_0x3f776e,_0x45656e);},'eFbjI':'invalid-grid-id','lMXti':'server-error'};let _0xbeb5a5;try{!_0x3619b9[_0x3517c7(0x106)]&&(logger[_0x3517c7(0xfa)](_0x1e26ca[_0x3517c7(0xad)]),process[_0x3517c7(0xde)](0x1));!fs[_0x3517c7(0xe7)](_0x1e26ca[_0x3517c7(0xe4)](getCredentialsPath))&&(logger[_0x3517c7(0xfa)](_0x1e26ca[_0x3517c7(0xbd)]),await _0x1e26ca[_0x3517c7(0xd3)](sendInstrumentationEvent,_0x3619b9,_0x1e26ca[_0x3517c7(0x10b)],messageTypes[_0x3517c7(0xd0)],_0x1e26ca[_0x3517c7(0xc1)],null,_0x3619b9),process[_0x3517c7(0xde)](0x1));logger[_0x3517c7(0xfd)](_0x3517c7(0xdd)+_0x3619b9['gridId']),await _0x1e26ca[_0x3517c7(0xd3)](sendInstrumentationEvent,_0x3619b9,_0x1e26ca[_0x3517c7(0x10b)],messageTypes['INFO'],null,null,_0x3619b9);const _0x3824da=JSON[_0x3517c7(0xd1)](fs[_0x3517c7(0xc3)](_0x1e26ca[_0x3517c7(0xae)](getCredentialsPath)));global_registry[_0x3517c7(0x105)]=_0x3824da[_0x3517c7(0xd2)][_0x3517c7(0xf5)],global_registry[_0x3517c7(0xf0)]=_0x3824da[_0x3517c7(0xd2)][_0x3517c7(0xe1)];const _0x1985bd=WS_ENDPOINT['replace'](_0x1e26ca[_0x3517c7(0xe5)],_0x3824da[_0x3517c7(0xd2)][_0x3517c7(0xf5)])['replace'](_0x1e26ca[_0x3517c7(0xe6)],_0x3824da[_0x3517c7(0xd2)][_0x3517c7(0xe1)]),_0x3cb949={};_0x3cb949[_0x3517c7(0x100)]=ws,_0x3cb949[_0x3517c7(0xb4)]=0x36ee80,_0xbeb5a5=new ReconnectingWebSocket(_0x1985bd,[],_0x3cb949),logger[_0x3517c7(0xac)](_0x1e26ca[_0x3517c7(0xca)]),webSocketUtils[_0x3517c7(0xcc)](_0xbeb5a5,_0x3619b9[_0x3517c7(0x101)],_0x3619b9[_0x3517c7(0xe1)]);const [_0x565af6,_0x522dd2]=await _0x1e26ca[_0x3517c7(0xee)](getGridDetails,_0x3824da[_0x3517c7(0xd2)][_0x3517c7(0xf5)],_0x3824da[_0x3517c7(0xd2)][_0x3517c7(0xe1)],_0x3619b9['gridId']);if(_0x522dd2){const _0x3b8777=_0x522dd2[_0x3517c7(0xfd)];global_registry[_0x3517c7(0x102)]=_0x3b8777['cloudProvider'],global_registry[_0x3517c7(0xb5)]=_0x3b8777[_0x3517c7(0xeb)],global_registry[_0x3517c7(0xb9)]=_0x3b8777[_0x3517c7(0xb9)];const _0x5066d6=await _0x1e26ca[_0x3517c7(0xbc)](getCloudProviderObject,_0x3b8777[_0x3517c7(0x102)],_0x3b8777[_0x3517c7(0xb9)],_0x3b8777[_0x3517c7(0xb3)],_0xbeb5a5,webSocketUtils,_0x3619b9),[_0x59d948,_0x22a06b,_0x4bdf2c,_0x4796ef,_0x260d91,_0x445ef9]=await _0x1e26ca[_0x3517c7(0xb0)](createK8sClient,_0x5066d6,_0x3619b9[_0x3517c7(0xc0)]);await _0x1e26ca['Jligg'](scaleUpHubDeployment,_0x22a06b,_0x3b8777[_0x3517c7(0xb3)]),logger[_0x3517c7(0xfd)](_0x1e26ca['UZazx']),process[_0x3517c7(0xde)](0x0);}_0x1e26ca['aIPgO'](_0x565af6[_0x3517c7(0xdf)],0x191)&&(logger['error'](_0x1e26ca['iNcwv']),await _0x1e26ca['viGFf'](sendInstrumentationEvent,_0x3619b9,_0x1e26ca[_0x3517c7(0x10b)],messageTypes[_0x3517c7(0xd0)],_0x1e26ca[_0x3517c7(0xd4)],null,_0x3619b9),process[_0x3517c7(0xde)](0x1)),_0x1e26ca[_0x3517c7(0x103)](_0x565af6['statusCode'],0x190)&&(logger['error'](JSON[_0x3517c7(0xd1)](_0x565af6['body'])['message']),await _0x1e26ca[_0x3517c7(0xd6)](sendInstrumentationEvent,_0x3619b9,_0x1e26ca[_0x3517c7(0x10b)],messageTypes[_0x3517c7(0xd0)],_0x1e26ca[_0x3517c7(0xd9)],null,_0x3619b9),process[_0x3517c7(0xde)](0x1)),logger[_0x3517c7(0xfa)](_0x3517c7(0xe2)+JSON[_0x3517c7(0x10a)](_0x565af6)),await _0x1e26ca['GeHIh'](sendInstrumentationEvent,_0x3619b9,_0x1e26ca['nehLY'],messageTypes[_0x3517c7(0xd0)],_0x1e26ca[_0x3517c7(0xc2)],_0x565af6,_0x3619b9),process[_0x3517c7(0xde)](0x1);}catch(_0x263881){const _0x12008f=_0x3517c7(0xb7)+_0x263881+'\x20\x0a'+JSON[_0x3517c7(0x10a)](_0x263881['stack'])+'\x20';logger[_0x3517c7(0xfa)](_0x12008f),process[_0x3517c7(0xde)](0x1);}};function a19_0x4182(){const _0x524320=['../../utils/instrumentationUtils','762670AKwusJ','Grid\x20started','stringify','nehLY','debug','ijFid','ngfbc','../../utils/utilityMethods','cZAJy','Pass\x20the\x20ID\x20of\x20the\x20existing\x20Automation\x20grid\x20you\x20want\x20to\x20start.','lScZu','name','connectionTimeout','clusterRegion','../../utils/createk8sClient','Unable\x20to\x20start\x20the\x20Grid!\x20Error:\x20','18luioiX','clusterName','<UsernamePlaceholder>','reconnecting-websocket','GeHIh','vGCuf','zVClX','Adding\x20Websocket\x20listeners','skipTlsCertVerify','hPCmr','lMXti','readFileSync','aoUsC','command','VvIyA','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','grid','builder','nTYFP','init-not-called','addListeners','<PasswordPlaceholder>','options','12199243cUiUZP','ERROR','parse','Browserstack','dqxuk','ycGnq','../../cloudproviders/utils','tMieS','argv','type','eFbjI','Skip\x20insecure\x20cert\x20verification.','../../utils/gridComponents','../../config/constants','Starting\x20grid\x20','exit','statusCode','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','password','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','50026DprMCn','adaGJ','NEEit','dDxEt','existsSync','441221yRMcYw','description','grid-id','region','1520oODqRt','5FBTNlv','OsuNP','908668ZftaGL','bstackAccesskey','tUNPc','unauthorised','help','32UpFAyA','username','string','3722769ZsBxkD','desc','5603160xszOkD','error','handler','usage','info','start','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20start','WebSocket','user','cloudProvider','aIPgO','skip-tls-cert-verify','bstackUsername','gridId'];a19_0x4182=function(){return _0x524320;};return a19_0x4182();}