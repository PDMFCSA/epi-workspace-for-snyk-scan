const a19_0x34b7e1=a19_0x5b64;function a19_0x5502(){const _0x46e3bb=['Grid\x20started','Starting\x20grid\x20','password','../../utils/utilityMethods','../../utils/createk8sClient','CHoew','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','name','INFO','stack','server-error','connectionTimeout','eRDkQ','message','5wXDTMl','builder','debug','replace','IzDxm','bstackUsername','kCfIP','info','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','../../utils/gridComponents','readFileSync','exit','error','statusCode','clusterName','help','username','WebSocket','3aCVAWM','lXBgY','unauthorised','Pass\x20the\x20ID\x20of\x20the\x20existing\x20Automation\x20grid\x20you\x20want\x20to\x20start.','DMWXx','1425567WenebP','clusterRegion','Start\x20an\x20existing\x20Automation\x20grid.','options','parse','TDDJR','1365406ytMNFb','reconnecting-websocket','grid-id','Qsjqt','skip-tls-cert-verify','body','start','init-not-called','../../config/constants','<UsernamePlaceholder>','78986mRDZoS','TVGoP','string','grid','ERROR','handler','clPmk','cloudProvider','2216416Dmtqzz','ZuHBn','command','skipTlsCertVerify','hrUbO','1059208yjOkKc','CNuXg','default','ZMfIG','SWojP','AHVUg','bstackAccesskey','nLuwd','bPUTB','qcEsl','region','../../utils/instrumentationUtils','type','2619318lHYbpg','9760626iagrfs','usage','Browserstack','invalid-grid-id','Unable\x20to\x20start\x20the\x20Grid!\x20Error:\x20','argv','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20start','description','existsSync','Adding\x20Websocket\x20listeners','ANFsE','desc','gridId','start-grid-called'];a19_0x5502=function(){return _0x46e3bb;};return a19_0x5502();}function a19_0x5b64(_0x49ea44,_0x1419eb){const _0x55029f=a19_0x5502();return a19_0x5b64=function(_0x5b64e7,_0x3cdb47){_0x5b64e7=_0x5b64e7-0x11f;let _0x1c70c6=_0x55029f[_0x5b64e7];return _0x1c70c6;},a19_0x5b64(_0x49ea44,_0x1419eb);}(function(_0x40abab,_0x617d0b){const _0x42c0db=a19_0x5b64,_0x47132c=_0x40abab();while(!![]){try{const _0x4ff486=-parseInt(_0x42c0db(0x14e))/0x1*(parseInt(_0x42c0db(0x163))/0x2)+-parseInt(_0x42c0db(0x153))/0x3+parseInt(_0x42c0db(0x16b))/0x4+parseInt(_0x42c0db(0x13c))/0x5*(-parseInt(_0x42c0db(0x11f))/0x6)+-parseInt(_0x42c0db(0x159))/0x7+-parseInt(_0x42c0db(0x170))/0x8+parseInt(_0x42c0db(0x120))/0x9;if(_0x4ff486===_0x617d0b)break;else _0x47132c['push'](_0x47132c['shift']());}catch(_0x147d6e){_0x47132c['push'](_0x47132c['shift']());}}}(a19_0x5502,0x4496a));const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require(a19_0x34b7e1(0x15a)),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a19_0x34b7e1(0x161)),{logger}=require('../../config/logger'),{getCredentialsPath,getGridDetails}=require(a19_0x34b7e1(0x131)),{scaleUpHubDeployment}=require(a19_0x34b7e1(0x145)),{sendInstrumentationEvent}=require(a19_0x34b7e1(0x17b)),webSocketUtils=require('../../utils/webSocketUtils'),{createK8sClient}=require(a19_0x34b7e1(0x132)),{getCloudProviderObject}=require('../../cloudproviders/utils');exports[a19_0x34b7e1(0x16d)]=a19_0x34b7e1(0x166),exports[a19_0x34b7e1(0x12b)]=a19_0x34b7e1(0x155),exports[a19_0x34b7e1(0x13d)]=function(_0x205a78){const _0x169c01=a19_0x34b7e1,_0x114614={};_0x114614[_0x169c01(0x177)]=_0x169c01(0x151),_0x114614['ANFsE']=_0x169c01(0x165),_0x114614[_0x169c01(0x142)]='Skip\x20insecure\x20cert\x20verification.',_0x114614[_0x169c01(0x158)]='boolean',_0x114614['hrUbO']=_0x169c01(0x14b);const _0x34a93a=_0x114614,_0x1e2401={};_0x1e2401[_0x169c01(0x127)]=_0x34a93a[_0x169c01(0x177)],_0x1e2401[_0x169c01(0x17c)]=_0x34a93a[_0x169c01(0x12a)];const _0x8e300d={};_0x8e300d[_0x169c01(0x127)]=_0x34a93a[_0x169c01(0x142)],_0x8e300d[_0x169c01(0x17c)]=_0x34a93a[_0x169c01(0x158)],_0x8e300d[_0x169c01(0x172)]=![];const _0x1c3c6b={};return _0x1c3c6b[_0x169c01(0x15b)]=_0x1e2401,_0x1c3c6b[_0x169c01(0x15d)]=_0x8e300d,_0x205a78[_0x169c01(0x121)](HELP_HEADER_MESSAGE[_0x169c01(0x15f)])['epilogue'](HELP_FOOTER_MESSAGE)[_0x169c01(0x156)](_0x1c3c6b)[_0x169c01(0x14b)](_0x34a93a[_0x169c01(0x16f)])[_0x169c01(0x125)];},exports[a19_0x34b7e1(0x168)]=async function(_0x48f1f0){const _0x147f17=a19_0x34b7e1,_0x3a0f3b={'IayET':_0x147f17(0x126),'SWojP':function(_0x1a27d2){return _0x1a27d2();},'ZYMhK':_0x147f17(0x144),'AHVUg':function(_0x3b0e85,_0x9a3e5d,_0xd167ca,_0x55379f,_0x1f3db9,_0x1dcfa2,_0x136432){return _0x3b0e85(_0x9a3e5d,_0xd167ca,_0x55379f,_0x1f3db9,_0x1dcfa2,_0x136432);},'CHoew':_0x147f17(0x12d),'IzDxm':_0x147f17(0x160),'lXBgY':_0x147f17(0x162),'TVGoP':'<PasswordPlaceholder>','EqJEB':_0x147f17(0x129),'FYkAm':function(_0x315b60,_0x4f9a3b,_0x1c7ed9,_0x1dd3be){return _0x315b60(_0x4f9a3b,_0x1c7ed9,_0x1dd3be);},'qcEsl':function(_0x13eecf,_0x18e1a2,_0xef34f7,_0x360822,_0x44022c,_0x48abc4,_0x19bd80){return _0x13eecf(_0x18e1a2,_0xef34f7,_0x360822,_0x44022c,_0x48abc4,_0x19bd80);},'eRDkQ':function(_0x4af98b,_0x1d7dd6,_0x4ef184){return _0x4af98b(_0x1d7dd6,_0x4ef184);},'Qsjqt':function(_0x2bf0b0,_0x15f796,_0x94703){return _0x2bf0b0(_0x15f796,_0x94703);},'CNuXg':_0x147f17(0x12e),'clPmk':function(_0x3c080e,_0x4b4c18){return _0x3c080e===_0x4b4c18;},'ZMfIG':_0x147f17(0x134),'YzIFi':_0x147f17(0x150),'DMWXx':function(_0x46ae45,_0x5bb514){return _0x46ae45===_0x5bb514;},'bPUTB':_0x147f17(0x123),'ZuHBn':_0x147f17(0x138)};let _0x30ff38;try{!_0x48f1f0['gridId']&&(logger['error'](_0x3a0f3b['IayET']),process[_0x147f17(0x147)](0x1));!fs[_0x147f17(0x128)](_0x3a0f3b['SWojP'](getCredentialsPath))&&(logger[_0x147f17(0x148)](_0x3a0f3b['ZYMhK']),await _0x3a0f3b[_0x147f17(0x175)](sendInstrumentationEvent,_0x48f1f0,_0x3a0f3b['CHoew'],messageTypes[_0x147f17(0x167)],_0x3a0f3b[_0x147f17(0x140)],null,_0x48f1f0),process['exit'](0x1));logger['info'](_0x147f17(0x12f)+_0x48f1f0[_0x147f17(0x12c)]),await _0x3a0f3b['AHVUg'](sendInstrumentationEvent,_0x48f1f0,_0x3a0f3b[_0x147f17(0x133)],messageTypes[_0x147f17(0x136)],null,null,_0x48f1f0);const _0x393296=JSON[_0x147f17(0x157)](fs[_0x147f17(0x146)](_0x3a0f3b[_0x147f17(0x174)](getCredentialsPath)));global_registry[_0x147f17(0x141)]=_0x393296[_0x147f17(0x122)][_0x147f17(0x14c)],global_registry[_0x147f17(0x176)]=_0x393296[_0x147f17(0x122)][_0x147f17(0x130)];const _0x25ec0f=WS_ENDPOINT[_0x147f17(0x13f)](_0x3a0f3b[_0x147f17(0x14f)],_0x393296[_0x147f17(0x122)][_0x147f17(0x14c)])[_0x147f17(0x13f)](_0x3a0f3b[_0x147f17(0x164)],_0x393296['Browserstack'][_0x147f17(0x130)]),_0xb02560={};_0xb02560[_0x147f17(0x14d)]=ws,_0xb02560[_0x147f17(0x139)]=0x36ee80,_0x30ff38=new ReconnectingWebSocket(_0x25ec0f,[],_0xb02560),logger[_0x147f17(0x13e)](_0x3a0f3b['EqJEB']),webSocketUtils['addListeners'](_0x30ff38,_0x48f1f0['user'],_0x48f1f0[_0x147f17(0x130)]);const [_0x7a7f5e,_0x259502]=await _0x3a0f3b['FYkAm'](getGridDetails,_0x393296[_0x147f17(0x122)][_0x147f17(0x14c)],_0x393296[_0x147f17(0x122)][_0x147f17(0x130)],_0x48f1f0[_0x147f17(0x12c)]);if(_0x259502){const _0x157cb9=_0x259502[_0x147f17(0x143)];global_registry['cloudProvider']=_0x157cb9[_0x147f17(0x16a)],global_registry[_0x147f17(0x154)]=_0x157cb9[_0x147f17(0x17a)],global_registry['clusterName']=_0x157cb9['clusterName'];const _0x3dd5a7=await _0x3a0f3b[_0x147f17(0x179)](getCloudProviderObject,_0x157cb9[_0x147f17(0x16a)],_0x157cb9[_0x147f17(0x14a)],_0x157cb9[_0x147f17(0x135)],_0x30ff38,webSocketUtils,_0x48f1f0),[_0x553d36,_0x86e806,_0x6f6d3,_0x4e1e11,_0x1aa8cf,_0x225e5d]=await _0x3a0f3b[_0x147f17(0x13a)](createK8sClient,_0x3dd5a7,_0x48f1f0[_0x147f17(0x16e)]);await _0x3a0f3b[_0x147f17(0x15c)](scaleUpHubDeployment,_0x86e806,_0x157cb9[_0x147f17(0x135)]),logger[_0x147f17(0x143)](_0x3a0f3b[_0x147f17(0x171)]),process[_0x147f17(0x147)](0x0);}_0x3a0f3b[_0x147f17(0x169)](_0x7a7f5e[_0x147f17(0x149)],0x191)&&(logger['error'](_0x3a0f3b[_0x147f17(0x173)]),await _0x3a0f3b[_0x147f17(0x179)](sendInstrumentationEvent,_0x48f1f0,_0x3a0f3b[_0x147f17(0x133)],messageTypes[_0x147f17(0x167)],_0x3a0f3b['YzIFi'],null,_0x48f1f0),process[_0x147f17(0x147)](0x1)),_0x3a0f3b[_0x147f17(0x152)](_0x7a7f5e[_0x147f17(0x149)],0x190)&&(logger[_0x147f17(0x148)](JSON['parse'](_0x7a7f5e[_0x147f17(0x15e)])[_0x147f17(0x13b)]),await _0x3a0f3b['qcEsl'](sendInstrumentationEvent,_0x48f1f0,_0x3a0f3b[_0x147f17(0x133)],messageTypes[_0x147f17(0x167)],_0x3a0f3b[_0x147f17(0x178)],null,_0x48f1f0),process[_0x147f17(0x147)](0x1)),logger[_0x147f17(0x148)]('Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20'+JSON['stringify'](_0x7a7f5e)),await _0x3a0f3b[_0x147f17(0x179)](sendInstrumentationEvent,_0x48f1f0,_0x3a0f3b[_0x147f17(0x133)],messageTypes[_0x147f17(0x167)],_0x3a0f3b[_0x147f17(0x16c)],_0x7a7f5e,_0x48f1f0),process[_0x147f17(0x147)](0x1);}catch(_0x1f3ddc){const _0x5f2023=_0x147f17(0x124)+_0x1f3ddc+'\x20\x0a'+JSON['stringify'](_0x1f3ddc[_0x147f17(0x137)])+'\x20';logger[_0x147f17(0x148)](_0x5f2023),process['exit'](0x1);}};