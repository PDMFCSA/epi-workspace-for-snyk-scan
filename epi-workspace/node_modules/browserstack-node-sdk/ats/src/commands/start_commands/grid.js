const a19_0x132e1d=a19_0x2761;(function(_0x4c360c,_0x5d21f2){const _0x32a72f=a19_0x2761,_0x9a2c9e=_0x4c360c();while(!![]){try{const _0x4b95aa=-parseInt(_0x32a72f(0xeb))/0x1*(-parseInt(_0x32a72f(0xf7))/0x2)+-parseInt(_0x32a72f(0xf8))/0x3*(-parseInt(_0x32a72f(0xd3))/0x4)+parseInt(_0x32a72f(0x108))/0x5+parseInt(_0x32a72f(0xc5))/0x6*(-parseInt(_0x32a72f(0xd0))/0x7)+-parseInt(_0x32a72f(0xee))/0x8*(parseInt(_0x32a72f(0xe2))/0x9)+parseInt(_0x32a72f(0xc4))/0xa+-parseInt(_0x32a72f(0xcf))/0xb;if(_0x4b95aa===_0x5d21f2)break;else _0x9a2c9e['push'](_0x9a2c9e['shift']());}catch(_0x40d39b){_0x9a2c9e['push'](_0x9a2c9e['shift']());}}}(a19_0x23cc,0x83d30));const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require('reconnecting-websocket'),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a19_0x132e1d(0x10a)),{logger}=require(a19_0x132e1d(0xde)),{getCredentialsPath,getGridDetails}=require(a19_0x132e1d(0xd1)),{scaleUpHubDeployment}=require(a19_0x132e1d(0xe5)),{sendInstrumentationEvent}=require('../../utils/instrumentationUtils'),webSocketUtils=require(a19_0x132e1d(0xd8)),{createK8sClient}=require(a19_0x132e1d(0xfb)),{getCloudProviderObject}=require(a19_0x132e1d(0xc0));function a19_0x23cc(){const _0xe412b9=['string','Start\x20an\x20existing\x20Automation\x20grid.','INFO','type','info','debug','ERROR','<PasswordPlaceholder>','XZxXR','../../cloudproviders/utils','Grid\x20started','kyuQl','name','10758290QKxvwo','240lnmxsa','handler','GpxNe','iJXIW','usage','RBmxL','unauthorised','builder','Browserstack','replace','23932579IRfvFF','75523kDzXXJ','../../utils/utilityMethods','username','4DBEazI','readFileSync','Bqvan','CRxVW','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','../../utils/webSocketUtils','message','stringify','gridId','jPaht','uMpPc','../../config/logger','help','DKtbO','server-error','747ghhyyL','epilogue','KXJgI','../../utils/gridComponents','ZYyoS','WISJi','grid','exit','YEiHg','1LZzxEp','region','zVBVZ','2920VdCkEG','desc','clusterName','skip-tls-cert-verify','start','GnZGS','cHqIx','Unable\x20to\x20start\x20the\x20Grid!\x20Error:\x20','rgYkX','1823020vujSol','1130601WaEZnZ','addListeners','pLbaY','../../utils/createk8sClient','description','argv','start-grid-called','WebSocket','YeKxW','bstackAccesskey','grid-id','cloudProvider','hONPf','parse','Starting\x20grid\x20','existsSync','4066450ZXSAJy','clusterRegion','../../config/constants','Pass\x20the\x20ID\x20of\x20the\x20existing\x20Automation\x20grid\x20you\x20want\x20to\x20start.','invalid-grid-id','error','BhBTI','statusCode','mwwDV','stack','password','oUWwN','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20'];a19_0x23cc=function(){return _0xe412b9;};return a19_0x23cc();}function a19_0x2761(_0x4d96fe,_0x37ebb2){const _0x23cc08=a19_0x23cc();return a19_0x2761=function(_0x276140,_0x1b5b81){_0x276140=_0x276140-0xbb;let _0x11e88d=_0x23cc08[_0x276140];return _0x11e88d;},a19_0x2761(_0x4d96fe,_0x37ebb2);}exports['command']=a19_0x132e1d(0xe8),exports[a19_0x132e1d(0xef)]=a19_0x132e1d(0x116),exports[a19_0x132e1d(0xcc)]=function(_0x1120f4){const _0x50d377=a19_0x132e1d,_0x544ecf={};_0x544ecf['kyuQl']=_0x50d377(0x10b),_0x544ecf[_0x50d377(0xdd)]=_0x50d377(0x115),_0x544ecf[_0x50d377(0xfa)]='Skip\x20insecure\x20cert\x20verification.',_0x544ecf['mwwDV']='boolean',_0x544ecf[_0x50d377(0xc8)]=_0x50d377(0xdf);const _0x416e41=_0x544ecf,_0x348c6c={};_0x348c6c[_0x50d377(0xfc)]=_0x416e41[_0x50d377(0xc2)],_0x348c6c[_0x50d377(0x118)]=_0x416e41['uMpPc'];const _0x52712b={};_0x52712b['description']=_0x416e41['pLbaY'],_0x52712b[_0x50d377(0x118)]=_0x416e41[_0x50d377(0x110)],_0x52712b['default']=![];const _0x2e9aac={};return _0x2e9aac[_0x50d377(0x102)]=_0x348c6c,_0x2e9aac[_0x50d377(0xf1)]=_0x52712b,_0x1120f4[_0x50d377(0xc9)](HELP_HEADER_MESSAGE[_0x50d377(0xf2)])[_0x50d377(0xe3)](HELP_FOOTER_MESSAGE)['options'](_0x2e9aac)[_0x50d377(0xdf)](_0x416e41[_0x50d377(0xc8)])[_0x50d377(0xfd)];},exports[a19_0x132e1d(0xc6)]=async function(_0x2cef0a){const _0x3abc03=a19_0x132e1d,_0x395fe8={'GpxNe':'Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20start','GnZGS':function(_0x28f108){return _0x28f108();},'KXJgI':'Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','YeKxW':function(_0x5fe78e,_0x455e92,_0x15a95b,_0xc3fb64,_0x1dbf49,_0x1cb07b,_0x54eeb9){return _0x5fe78e(_0x455e92,_0x15a95b,_0xc3fb64,_0x1dbf49,_0x1cb07b,_0x54eeb9);},'RBmxL':_0x3abc03(0xfe),'WISJi':'init-not-called','rgYkX':function(_0x322190,_0x229385,_0x25aaaa,_0x4e2fed,_0x4f8720,_0x3a9b2d,_0x4d9cd6){return _0x322190(_0x229385,_0x25aaaa,_0x4e2fed,_0x4f8720,_0x3a9b2d,_0x4d9cd6);},'ytibx':function(_0xe9a5f6){return _0xe9a5f6();},'hONPf':'<UsernamePlaceholder>','Bqvan':_0x3abc03(0xbe),'BhBTI':'Adding\x20Websocket\x20listeners','XQloy':function(_0x4461d8,_0x42af43,_0x349a85,_0x5b0e18){return _0x4461d8(_0x42af43,_0x349a85,_0x5b0e18);},'jPaht':function(_0x3ccd35,_0x7aa6b9,_0x1abfaa){return _0x3ccd35(_0x7aa6b9,_0x1abfaa);},'YFLDW':function(_0x57a0f4,_0x4f5177,_0x255e68){return _0x57a0f4(_0x4f5177,_0x255e68);},'XZxXR':_0x3abc03(0xc1),'YEiHg':function(_0x23d784,_0x39a9ee){return _0x23d784===_0x39a9ee;},'oUWwN':_0x3abc03(0xd7),'DKtbO':function(_0xaa0497,_0x186e45,_0x3a330e,_0x2ce5ed,_0x947eb9,_0x398496,_0x170737){return _0xaa0497(_0x186e45,_0x3a330e,_0x2ce5ed,_0x947eb9,_0x398496,_0x170737);},'cHqIx':_0x3abc03(0xcb),'ZYyoS':_0x3abc03(0x10c),'CRxVW':function(_0x3dbdbc,_0x4673b2,_0x3f1b33,_0x302362,_0xe1345a,_0x483281,_0x3a702c){return _0x3dbdbc(_0x4673b2,_0x3f1b33,_0x302362,_0xe1345a,_0x483281,_0x3a702c);},'zVBVZ':_0x3abc03(0xe1)};let _0x2cc8f5;try{!_0x2cef0a[_0x3abc03(0xdb)]&&(logger[_0x3abc03(0x10d)](_0x395fe8[_0x3abc03(0xc7)]),process[_0x3abc03(0xe9)](0x1));!fs[_0x3abc03(0x107)](_0x395fe8[_0x3abc03(0xf3)](getCredentialsPath))&&(logger['error'](_0x395fe8[_0x3abc03(0xe4)]),await _0x395fe8[_0x3abc03(0x100)](sendInstrumentationEvent,_0x2cef0a,_0x395fe8[_0x3abc03(0xca)],messageTypes[_0x3abc03(0xbd)],_0x395fe8[_0x3abc03(0xe7)],null,_0x2cef0a),process[_0x3abc03(0xe9)](0x1));logger[_0x3abc03(0xbb)](_0x3abc03(0x106)+_0x2cef0a[_0x3abc03(0xdb)]),await _0x395fe8['rgYkX'](sendInstrumentationEvent,_0x2cef0a,_0x395fe8[_0x3abc03(0xca)],messageTypes[_0x3abc03(0x117)],null,null,_0x2cef0a);const _0x58ad86=JSON[_0x3abc03(0x105)](fs[_0x3abc03(0xd4)](_0x395fe8['ytibx'](getCredentialsPath)));global_registry['bstackUsername']=_0x58ad86[_0x3abc03(0xcd)]['username'],global_registry[_0x3abc03(0x101)]=_0x58ad86[_0x3abc03(0xcd)][_0x3abc03(0x112)];const _0x2b08ff=WS_ENDPOINT[_0x3abc03(0xce)](_0x395fe8[_0x3abc03(0x104)],_0x58ad86[_0x3abc03(0xcd)][_0x3abc03(0xd2)])[_0x3abc03(0xce)](_0x395fe8[_0x3abc03(0xd5)],_0x58ad86[_0x3abc03(0xcd)][_0x3abc03(0x112)]),_0x4392c0={};_0x4392c0[_0x3abc03(0xff)]=ws,_0x4392c0['connectionTimeout']=0x36ee80,_0x2cc8f5=new ReconnectingWebSocket(_0x2b08ff,[],_0x4392c0),logger[_0x3abc03(0xbc)](_0x395fe8[_0x3abc03(0x10e)]),webSocketUtils[_0x3abc03(0xf9)](_0x2cc8f5,_0x2cef0a['user'],_0x2cef0a[_0x3abc03(0x112)]);const [_0x3d5b5c,_0xc4400b]=await _0x395fe8['XQloy'](getGridDetails,_0x58ad86['Browserstack'][_0x3abc03(0xd2)],_0x58ad86[_0x3abc03(0xcd)][_0x3abc03(0x112)],_0x2cef0a[_0x3abc03(0xdb)]);if(_0xc4400b){const _0x2adde7=_0xc4400b['info'];global_registry[_0x3abc03(0x103)]=_0x2adde7[_0x3abc03(0x103)],global_registry[_0x3abc03(0x109)]=_0x2adde7[_0x3abc03(0xec)],global_registry[_0x3abc03(0xf0)]=_0x2adde7[_0x3abc03(0xf0)];const _0x4054e6=await _0x395fe8[_0x3abc03(0xf6)](getCloudProviderObject,_0x2adde7[_0x3abc03(0x103)],_0x2adde7[_0x3abc03(0xf0)],_0x2adde7[_0x3abc03(0xc3)],_0x2cc8f5,webSocketUtils,_0x2cef0a),[_0x5b8c96,_0x163d0f,_0x2ca802,_0x57a947,_0x383e8e,_0x4513fe]=await _0x395fe8[_0x3abc03(0xdc)](createK8sClient,_0x4054e6,_0x2cef0a['skipTlsCertVerify']);await _0x395fe8['YFLDW'](scaleUpHubDeployment,_0x163d0f,_0x2adde7[_0x3abc03(0xc3)]),logger['info'](_0x395fe8[_0x3abc03(0xbf)]),process['exit'](0x0);}_0x395fe8[_0x3abc03(0xea)](_0x3d5b5c[_0x3abc03(0x10f)],0x191)&&(logger['error'](_0x395fe8[_0x3abc03(0x113)]),await _0x395fe8[_0x3abc03(0xe0)](sendInstrumentationEvent,_0x2cef0a,_0x395fe8[_0x3abc03(0xca)],messageTypes[_0x3abc03(0xbd)],_0x395fe8[_0x3abc03(0xf4)],null,_0x2cef0a),process[_0x3abc03(0xe9)](0x1)),_0x395fe8['YEiHg'](_0x3d5b5c[_0x3abc03(0x10f)],0x190)&&(logger['error'](JSON[_0x3abc03(0x105)](_0x3d5b5c['body'])[_0x3abc03(0xd9)]),await _0x395fe8[_0x3abc03(0x100)](sendInstrumentationEvent,_0x2cef0a,_0x395fe8[_0x3abc03(0xca)],messageTypes[_0x3abc03(0xbd)],_0x395fe8[_0x3abc03(0xe6)],null,_0x2cef0a),process[_0x3abc03(0xe9)](0x1)),logger[_0x3abc03(0x10d)](_0x3abc03(0x114)+JSON[_0x3abc03(0xda)](_0x3d5b5c)),await _0x395fe8[_0x3abc03(0xd6)](sendInstrumentationEvent,_0x2cef0a,_0x395fe8[_0x3abc03(0xca)],messageTypes[_0x3abc03(0xbd)],_0x395fe8[_0x3abc03(0xed)],_0x3d5b5c,_0x2cef0a),process[_0x3abc03(0xe9)](0x1);}catch(_0x487bc4){const _0x418dc9=_0x3abc03(0xf5)+_0x487bc4+'\x20\x0a'+JSON[_0x3abc03(0xda)](_0x487bc4[_0x3abc03(0x111)])+'\x20';logger[_0x3abc03(0x10d)](_0x418dc9),process[_0x3abc03(0xe9)](0x1);}};