const a19_0x2a73f8=a19_0x4608;(function(_0x336ae7,_0x3dda8c){const _0x312699=a19_0x4608,_0x36fb01=_0x336ae7();while(!![]){try{const _0xb2f754=-parseInt(_0x312699(0x116))/0x1*(-parseInt(_0x312699(0xfe))/0x2)+-parseInt(_0x312699(0x130))/0x3*(parseInt(_0x312699(0x11e))/0x4)+parseInt(_0x312699(0xe2))/0x5*(-parseInt(_0x312699(0x103))/0x6)+parseInt(_0x312699(0x100))/0x7+parseInt(_0x312699(0x118))/0x8+-parseInt(_0x312699(0x101))/0x9*(-parseInt(_0x312699(0xe0))/0xa)+-parseInt(_0x312699(0x10a))/0xb*(parseInt(_0x312699(0xfa))/0xc);if(_0xb2f754===_0x3dda8c)break;else _0x36fb01['push'](_0x36fb01['shift']());}catch(_0x4561a3){_0x36fb01['push'](_0x36fb01['shift']());}}}(a19_0x1628,0xe73b9));function a19_0x1628(){const _0x5031f3=['<UsernamePlaceholder>','options','../../utils/createk8sClient','cloudProvider','user','start-grid-called','INFO','../../config/constants','skip-tls-cert-verify','username','help','bstackAccesskey','../../utils/instrumentationUtils','stringify','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','readFileSync','../../utils/gridComponents','64401fqKvJd','sEeJO','boTNg','server-error','stack','skipTlsCertVerify','body','nunPS','qIRZI','info','KmZmQ','description','epilogue','init-not-called','551350shrxid','existsSync','1595RHBccP','grid','aDTFT','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20start','UgtYn','usage','VjmXR','Grid\x20started','WHwGs','LMOYx','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','kwfCO','ERROR','name','gridId','HryTP','Unable\x20to\x20start\x20the\x20Grid!\x20Error:\x20','mAKIp','parse','exit','ZiCDO','password','clusterName','error','13836BfVXwT','addListeners','string','statusCode','76EDKSSB','boolean','11374244CbgkQX','45vGMruP','Adding\x20Websocket\x20listeners','18456DziOIl','../../utils/utilityMethods','etgza','Start\x20an\x20existing\x20Automation\x20grid.','DJGmq','replace','xHVaa','13222ZqPOyY','argv','Browserstack','clusterRegion','fDSkd','ZiWYg','region','unauthorised','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','faIwm','../../config/logger','WebSocket','33053iXodUS','StYEg','13111368qOmnxD','../../utils/webSocketUtils','bstackUsername','type','Starting\x20grid\x20','handler','276MWJcdi'];a19_0x1628=function(){return _0x5031f3;};return a19_0x1628();}const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require('reconnecting-websocket'),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a19_0x2a73f8(0x126)),{logger}=require(a19_0x2a73f8(0x114)),{getCredentialsPath,getGridDetails}=require(a19_0x2a73f8(0x104)),{scaleUpHubDeployment}=require(a19_0x2a73f8(0x12f)),{sendInstrumentationEvent}=require(a19_0x2a73f8(0x12b)),webSocketUtils=require(a19_0x2a73f8(0x119)),{createK8sClient}=require(a19_0x2a73f8(0x121)),{getCloudProviderObject}=require('../../cloudproviders/utils');function a19_0x4608(_0x1cff5f,_0x564771){const _0x16289f=a19_0x1628();return a19_0x4608=function(_0x4608f5,_0x3ed985){_0x4608f5=_0x4608f5-0xd7;let _0x469f02=_0x16289f[_0x4608f5];return _0x469f02;},a19_0x4608(_0x1cff5f,_0x564771);}exports['command']=a19_0x2a73f8(0xe3),exports['desc']=a19_0x2a73f8(0x106),exports['builder']=function(_0x434b99){const _0x356237=a19_0x2a73f8,_0x45fa9e={};_0x45fa9e[_0x356237(0x109)]='Pass\x20the\x20ID\x20of\x20the\x20existing\x20Automation\x20grid\x20you\x20want\x20to\x20start.',_0x45fa9e[_0x356237(0xe4)]=_0x356237(0xfc),_0x45fa9e[_0x356237(0xdc)]='Skip\x20insecure\x20cert\x20verification.',_0x45fa9e[_0x356237(0xd9)]=_0x356237(0xff),_0x45fa9e[_0x356237(0xeb)]=_0x356237(0x129);const _0x19f84a=_0x45fa9e,_0x42fb66={};_0x42fb66[_0x356237(0xdd)]=_0x19f84a[_0x356237(0x109)],_0x42fb66['type']=_0x19f84a[_0x356237(0xe4)];const _0x1501a5={};_0x1501a5[_0x356237(0xdd)]=_0x19f84a['KmZmQ'],_0x1501a5[_0x356237(0x11b)]=_0x19f84a['nunPS'],_0x1501a5['default']=![];const _0x2c41d3={};return _0x2c41d3['grid-id']=_0x42fb66,_0x2c41d3[_0x356237(0x127)]=_0x1501a5,_0x434b99[_0x356237(0xe7)](HELP_HEADER_MESSAGE['start'])[_0x356237(0xde)](HELP_FOOTER_MESSAGE)[_0x356237(0x120)](_0x2c41d3)[_0x356237(0x129)](_0x19f84a['LMOYx'])[_0x356237(0x10b)];},exports[a19_0x2a73f8(0x11d)]=async function(_0x5aa68a){const _0x38e57b=a19_0x2a73f8,_0x53092c={'ZiWYg':_0x38e57b(0xe5),'etgza':function(_0x4361c0){return _0x4361c0();},'xYXDR':_0x38e57b(0xec),'HryTP':function(_0x258541,_0x45a3a1,_0x3c3ba5,_0x5da3af,_0x1a20ff,_0x1aba00,_0x54baaa){return _0x258541(_0x45a3a1,_0x3c3ba5,_0x5da3af,_0x1a20ff,_0x1aba00,_0x54baaa);},'kwfCO':_0x38e57b(0x124),'faIwm':_0x38e57b(0xdf),'VjmXR':function(_0x5dcaec,_0x204f73,_0x36574b,_0x221bee,_0x653cc4,_0x5e1a93,_0x4f5280){return _0x5dcaec(_0x204f73,_0x36574b,_0x221bee,_0x653cc4,_0x5e1a93,_0x4f5280);},'DJGmq':_0x38e57b(0x11f),'Djgvp':'<PasswordPlaceholder>','mAKIp':_0x38e57b(0x102),'WHwGs':function(_0x5cf20d,_0x5eaa0a,_0x4d26f2,_0xea0fca){return _0x5cf20d(_0x5eaa0a,_0x4d26f2,_0xea0fca);},'fDSkd':function(_0x290868,_0x2174da,_0x3713c5){return _0x290868(_0x2174da,_0x3713c5);},'jWDZX':_0x38e57b(0xe9),'StYEg':function(_0x4bbc59,_0x462d90){return _0x4bbc59===_0x462d90;},'ZiCDO':_0x38e57b(0x12d),'svqAu':function(_0x518607,_0x29adec,_0x27be0d,_0x79c0f9,_0x23a401,_0x435691,_0x12c99d){return _0x518607(_0x29adec,_0x27be0d,_0x79c0f9,_0x23a401,_0x435691,_0x12c99d);},'Dyzdh':_0x38e57b(0x111),'qIRZI':function(_0x1a5d98,_0x122a78){return _0x1a5d98===_0x122a78;},'UgtYn':function(_0xb12dcc,_0x32258e,_0x3d5b5f,_0x3bfa25,_0x1bfb18,_0x3d60d4,_0x4a10b3){return _0xb12dcc(_0x32258e,_0x3d5b5f,_0x3bfa25,_0x1bfb18,_0x3d60d4,_0x4a10b3);},'uWQfB':'invalid-grid-id','sEeJO':function(_0x1fe9b3,_0x784273,_0x9042a8,_0x2d323f,_0x2a678c,_0x37ad5b,_0x459c7a){return _0x1fe9b3(_0x784273,_0x9042a8,_0x2d323f,_0x2a678c,_0x37ad5b,_0x459c7a);},'boTNg':_0x38e57b(0x133)};let _0x2b57f0;try{!_0x5aa68a[_0x38e57b(0xf0)]&&(logger[_0x38e57b(0xf9)](_0x53092c[_0x38e57b(0x10f)]),process[_0x38e57b(0xf5)](0x1));!fs[_0x38e57b(0xe1)](_0x53092c[_0x38e57b(0x105)](getCredentialsPath))&&(logger['error'](_0x53092c['xYXDR']),await _0x53092c[_0x38e57b(0xf1)](sendInstrumentationEvent,_0x5aa68a,_0x53092c['kwfCO'],messageTypes[_0x38e57b(0xee)],_0x53092c[_0x38e57b(0x113)],null,_0x5aa68a),process[_0x38e57b(0xf5)](0x1));logger[_0x38e57b(0xdb)](_0x38e57b(0x11c)+_0x5aa68a[_0x38e57b(0xf0)]),await _0x53092c[_0x38e57b(0xe8)](sendInstrumentationEvent,_0x5aa68a,_0x53092c['kwfCO'],messageTypes[_0x38e57b(0x125)],null,null,_0x5aa68a);const _0x5d9cf3=JSON[_0x38e57b(0xf4)](fs[_0x38e57b(0x12e)](_0x53092c['etgza'](getCredentialsPath)));global_registry[_0x38e57b(0x11a)]=_0x5d9cf3[_0x38e57b(0x10c)][_0x38e57b(0x128)],global_registry[_0x38e57b(0x12a)]=_0x5d9cf3[_0x38e57b(0x10c)][_0x38e57b(0xf7)];const _0x24ae4d=WS_ENDPOINT[_0x38e57b(0x108)](_0x53092c[_0x38e57b(0x107)],_0x5d9cf3['Browserstack'][_0x38e57b(0x128)])[_0x38e57b(0x108)](_0x53092c['Djgvp'],_0x5d9cf3[_0x38e57b(0x10c)][_0x38e57b(0xf7)]),_0x20e5f4={};_0x20e5f4[_0x38e57b(0x115)]=ws,_0x20e5f4['connectionTimeout']=0x36ee80,_0x2b57f0=new ReconnectingWebSocket(_0x24ae4d,[],_0x20e5f4),logger['debug'](_0x53092c[_0x38e57b(0xf3)]),webSocketUtils[_0x38e57b(0xfb)](_0x2b57f0,_0x5aa68a[_0x38e57b(0x123)],_0x5aa68a[_0x38e57b(0xf7)]);const [_0x3a2a1e,_0x1a74e6]=await _0x53092c[_0x38e57b(0xea)](getGridDetails,_0x5d9cf3[_0x38e57b(0x10c)]['username'],_0x5d9cf3[_0x38e57b(0x10c)][_0x38e57b(0xf7)],_0x5aa68a[_0x38e57b(0xf0)]);if(_0x1a74e6){const _0xd7d52a=_0x1a74e6[_0x38e57b(0xdb)];global_registry[_0x38e57b(0x122)]=_0xd7d52a[_0x38e57b(0x122)],global_registry[_0x38e57b(0x10d)]=_0xd7d52a[_0x38e57b(0x110)],global_registry[_0x38e57b(0xf8)]=_0xd7d52a[_0x38e57b(0xf8)];const _0xc2fd5b=await _0x53092c['HryTP'](getCloudProviderObject,_0xd7d52a['cloudProvider'],_0xd7d52a['clusterName'],_0xd7d52a[_0x38e57b(0xef)],_0x2b57f0,webSocketUtils,_0x5aa68a),[_0x580d0e,_0x469c4e,_0x4355a8,_0x3049df,_0xec92ca,_0x4c61c9]=await _0x53092c[_0x38e57b(0x10e)](createK8sClient,_0xc2fd5b,_0x5aa68a[_0x38e57b(0xd7)]);await _0x53092c['fDSkd'](scaleUpHubDeployment,_0x469c4e,_0xd7d52a[_0x38e57b(0xef)]),logger[_0x38e57b(0xdb)](_0x53092c['jWDZX']),process[_0x38e57b(0xf5)](0x0);}_0x53092c[_0x38e57b(0x117)](_0x3a2a1e[_0x38e57b(0xfd)],0x191)&&(logger[_0x38e57b(0xf9)](_0x53092c[_0x38e57b(0xf6)]),await _0x53092c['svqAu'](sendInstrumentationEvent,_0x5aa68a,_0x53092c[_0x38e57b(0xed)],messageTypes[_0x38e57b(0xee)],_0x53092c['Dyzdh'],null,_0x5aa68a),process['exit'](0x1)),_0x53092c[_0x38e57b(0xda)](_0x3a2a1e[_0x38e57b(0xfd)],0x190)&&(logger[_0x38e57b(0xf9)](JSON[_0x38e57b(0xf4)](_0x3a2a1e[_0x38e57b(0xd8)])['message']),await _0x53092c[_0x38e57b(0xe6)](sendInstrumentationEvent,_0x5aa68a,_0x53092c[_0x38e57b(0xed)],messageTypes[_0x38e57b(0xee)],_0x53092c['uWQfB'],null,_0x5aa68a),process[_0x38e57b(0xf5)](0x1)),logger[_0x38e57b(0xf9)](_0x38e57b(0x112)+JSON[_0x38e57b(0x12c)](_0x3a2a1e)),await _0x53092c[_0x38e57b(0x131)](sendInstrumentationEvent,_0x5aa68a,_0x53092c['kwfCO'],messageTypes[_0x38e57b(0xee)],_0x53092c[_0x38e57b(0x132)],_0x3a2a1e,_0x5aa68a),process[_0x38e57b(0xf5)](0x1);}catch(_0x3e2863){const _0x2f11ad=_0x38e57b(0xf2)+_0x3e2863+'\x20\x0a'+JSON[_0x38e57b(0x12c)](_0x3e2863[_0x38e57b(0x134)])+'\x20';logger[_0x38e57b(0xf9)](_0x2f11ad),process[_0x38e57b(0xf5)](0x1);}};