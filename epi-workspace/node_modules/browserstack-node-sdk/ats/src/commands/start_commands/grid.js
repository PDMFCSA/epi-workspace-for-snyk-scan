const a19_0x5ef839=a19_0x4ab8;function a19_0x4ab8(_0x1ffa77,_0x5f4ced){const _0x56c6c1=a19_0x56c6();return a19_0x4ab8=function(_0x4ab8d5,_0x4a7f6a){_0x4ab8d5=_0x4ab8d5-0x1ea;let _0x2ece87=_0x56c6c1[_0x4ab8d5];return _0x2ece87;},a19_0x4ab8(_0x1ffa77,_0x5f4ced);}(function(_0x1efa0d,_0x3e17fe){const _0x27a99e=a19_0x4ab8,_0x2a28aa=_0x1efa0d();while(!![]){try{const _0x4f4682=-parseInt(_0x27a99e(0x212))/0x1+parseInt(_0x27a99e(0x209))/0x2*(parseInt(_0x27a99e(0x227))/0x3)+-parseInt(_0x27a99e(0x202))/0x4+-parseInt(_0x27a99e(0x1f5))/0x5*(-parseInt(_0x27a99e(0x203))/0x6)+parseInt(_0x27a99e(0x22a))/0x7*(-parseInt(_0x27a99e(0x1f4))/0x8)+-parseInt(_0x27a99e(0x1fb))/0x9*(-parseInt(_0x27a99e(0x1ff))/0xa)+-parseInt(_0x27a99e(0x211))/0xb;if(_0x4f4682===_0x3e17fe)break;else _0x2a28aa['push'](_0x2a28aa['shift']());}catch(_0x307233){_0x2a28aa['push'](_0x2a28aa['shift']());}}}(a19_0x56c6,0x34007));const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require(a19_0x5ef839(0x223)),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a19_0x5ef839(0x231)),{logger}=require(a19_0x5ef839(0x1ee)),{getCredentialsPath,getGridDetails}=require(a19_0x5ef839(0x201)),{scaleUpHubDeployment}=require(a19_0x5ef839(0x229)),{sendInstrumentationEvent}=require(a19_0x5ef839(0x20b)),webSocketUtils=require('../../utils/webSocketUtils'),{createK8sClient}=require('../../utils/createk8sClient'),{getCloudProviderObject}=require(a19_0x5ef839(0x1f3));exports[a19_0x5ef839(0x205)]=a19_0x5ef839(0x243),exports['desc']=a19_0x5ef839(0x20f),exports[a19_0x5ef839(0x21a)]=function(_0x154d2e){const _0x58e539=a19_0x5ef839,_0x17d3cb={};_0x17d3cb['sNJry']=_0x58e539(0x230),_0x17d3cb[_0x58e539(0x235)]='string',_0x17d3cb[_0x58e539(0x23e)]='Skip\x20insecure\x20cert\x20verification.',_0x17d3cb['KzAxt']=_0x58e539(0x225),_0x17d3cb[_0x58e539(0x21f)]=_0x58e539(0x23b);const _0x11a320=_0x17d3cb,_0x190d20={};_0x190d20[_0x58e539(0x206)]=_0x11a320[_0x58e539(0x214)],_0x190d20[_0x58e539(0x23d)]=_0x11a320['UpUsA'];const _0x29aed1={};_0x29aed1['description']=_0x11a320[_0x58e539(0x23e)],_0x29aed1[_0x58e539(0x23d)]=_0x11a320['KzAxt'],_0x29aed1[_0x58e539(0x1ed)]=![];const _0x26cfb9={};return _0x26cfb9[_0x58e539(0x232)]=_0x190d20,_0x26cfb9[_0x58e539(0x20a)]=_0x29aed1,_0x154d2e[_0x58e539(0x21d)](HELP_HEADER_MESSAGE[_0x58e539(0x1f6)])['epilogue'](HELP_FOOTER_MESSAGE)[_0x58e539(0x22c)](_0x26cfb9)[_0x58e539(0x23b)](_0x11a320['UlgEN'])[_0x58e539(0x234)];},exports[a19_0x5ef839(0x208)]=async function(_0x34520d){const _0x2b9f72=a19_0x5ef839,_0x59c2bf={'ZKcah':_0x2b9f72(0x1f9),'FuoGH':function(_0x147f43){return _0x147f43();},'YRvbg':_0x2b9f72(0x240),'OVwrS':function(_0x59d0c8,_0x13a8aa,_0x2d94b4,_0x230c39,_0x385640,_0x1dac95,_0x2cbac3){return _0x59d0c8(_0x13a8aa,_0x2d94b4,_0x230c39,_0x385640,_0x1dac95,_0x2cbac3);},'teQtj':'start-grid-called','mnVZX':'init-not-called','RKkZd':function(_0xe8c6d0,_0x29820e,_0x104ad4,_0x288885,_0x1e73bf,_0x5ee82e,_0x41e82a){return _0xe8c6d0(_0x29820e,_0x104ad4,_0x288885,_0x1e73bf,_0x5ee82e,_0x41e82a);},'MDbmO':function(_0x2f876e){return _0x2f876e();},'eUfSE':'<UsernamePlaceholder>','orZDd':_0x2b9f72(0x218),'EOAdS':_0x2b9f72(0x219),'ZKBIy':function(_0x211a93,_0x564ee2,_0x315eaf,_0x2b1f2a){return _0x211a93(_0x564ee2,_0x315eaf,_0x2b1f2a);},'LDvbJ':function(_0x943b11,_0x3cbad5,_0x4ddef4){return _0x943b11(_0x3cbad5,_0x4ddef4);},'dNBnq':_0x2b9f72(0x21c),'oZynh':function(_0x5e3fa6,_0x27a393){return _0x5e3fa6===_0x27a393;},'zbCSl':_0x2b9f72(0x238),'rSbgz':_0x2b9f72(0x217),'YHJSU':function(_0x59aa59,_0x1abf7f,_0x37c9d1,_0x47e274,_0x4c2e8a,_0x337a2a,_0x113aac){return _0x59aa59(_0x1abf7f,_0x37c9d1,_0x47e274,_0x4c2e8a,_0x337a2a,_0x113aac);},'iQCZi':'invalid-grid-id','pnPwL':function(_0x487c6c,_0x18879d,_0x2d4fda,_0x7f1895,_0x53d178,_0x34d7ee,_0x2ec560){return _0x487c6c(_0x18879d,_0x2d4fda,_0x7f1895,_0x53d178,_0x34d7ee,_0x2ec560);},'frZvi':'server-error'};let _0x232828;try{!_0x34520d['gridId']&&(logger[_0x2b9f72(0x220)](_0x59c2bf[_0x2b9f72(0x1ef)]),process['exit'](0x1));!fs[_0x2b9f72(0x1ea)](_0x59c2bf['FuoGH'](getCredentialsPath))&&(logger[_0x2b9f72(0x220)](_0x59c2bf[_0x2b9f72(0x1f8)]),await _0x59c2bf['OVwrS'](sendInstrumentationEvent,_0x34520d,_0x59c2bf['teQtj'],messageTypes[_0x2b9f72(0x1f1)],_0x59c2bf[_0x2b9f72(0x1fd)],null,_0x34520d),process[_0x2b9f72(0x20c)](0x1));logger[_0x2b9f72(0x244)](_0x2b9f72(0x228)+_0x34520d[_0x2b9f72(0x1f2)]),await _0x59c2bf[_0x2b9f72(0x210)](sendInstrumentationEvent,_0x34520d,_0x59c2bf['teQtj'],messageTypes[_0x2b9f72(0x239)],null,null,_0x34520d);const _0x491bdc=JSON['parse'](fs[_0x2b9f72(0x216)](_0x59c2bf[_0x2b9f72(0x224)](getCredentialsPath)));global_registry[_0x2b9f72(0x1fc)]=_0x491bdc['Browserstack'][_0x2b9f72(0x1fa)],global_registry[_0x2b9f72(0x200)]=_0x491bdc[_0x2b9f72(0x207)][_0x2b9f72(0x222)];const _0x39adf2=WS_ENDPOINT[_0x2b9f72(0x246)](_0x59c2bf[_0x2b9f72(0x1f7)],_0x491bdc[_0x2b9f72(0x207)][_0x2b9f72(0x1fa)])[_0x2b9f72(0x246)](_0x59c2bf[_0x2b9f72(0x23a)],_0x491bdc[_0x2b9f72(0x207)]['password']),_0x5cdf3e={};_0x5cdf3e[_0x2b9f72(0x215)]=ws,_0x5cdf3e[_0x2b9f72(0x23f)]=0x36ee80,_0x232828=new ReconnectingWebSocket(_0x39adf2,[],_0x5cdf3e),logger[_0x2b9f72(0x23c)](_0x59c2bf[_0x2b9f72(0x226)]),webSocketUtils[_0x2b9f72(0x22b)](_0x232828,_0x34520d['user'],_0x34520d[_0x2b9f72(0x222)]);const [_0x440cb9,_0x383d07]=await _0x59c2bf['ZKBIy'](getGridDetails,_0x491bdc[_0x2b9f72(0x207)]['username'],_0x491bdc['Browserstack'][_0x2b9f72(0x222)],_0x34520d[_0x2b9f72(0x1f2)]);if(_0x383d07){const _0x338fd8=_0x383d07[_0x2b9f72(0x244)];global_registry[_0x2b9f72(0x1ec)]=_0x338fd8['cloudProvider'],global_registry[_0x2b9f72(0x1eb)]=_0x338fd8[_0x2b9f72(0x20e)],global_registry[_0x2b9f72(0x213)]=_0x338fd8['clusterName'];const _0x469fe4=await _0x59c2bf[_0x2b9f72(0x210)](getCloudProviderObject,_0x338fd8[_0x2b9f72(0x1ec)],_0x338fd8['clusterName'],_0x338fd8[_0x2b9f72(0x221)],_0x232828,webSocketUtils,_0x34520d),[_0x53534f,_0x2749db,_0x519350,_0x498de2,_0x6c49c,_0x17675e]=await _0x59c2bf['LDvbJ'](createK8sClient,_0x469fe4,_0x34520d[_0x2b9f72(0x22f)]);await _0x59c2bf[_0x2b9f72(0x248)](scaleUpHubDeployment,_0x2749db,_0x338fd8[_0x2b9f72(0x221)]),logger[_0x2b9f72(0x244)](_0x59c2bf[_0x2b9f72(0x22e)]),process['exit'](0x0);}_0x59c2bf[_0x2b9f72(0x245)](_0x440cb9[_0x2b9f72(0x20d)],0x191)&&(logger[_0x2b9f72(0x220)](_0x59c2bf[_0x2b9f72(0x21b)]),await _0x59c2bf[_0x2b9f72(0x210)](sendInstrumentationEvent,_0x34520d,_0x59c2bf['teQtj'],messageTypes[_0x2b9f72(0x1f1)],_0x59c2bf['rSbgz'],null,_0x34520d),process['exit'](0x1)),_0x59c2bf[_0x2b9f72(0x245)](_0x440cb9[_0x2b9f72(0x20d)],0x190)&&(logger[_0x2b9f72(0x220)](JSON[_0x2b9f72(0x237)](_0x440cb9[_0x2b9f72(0x247)])[_0x2b9f72(0x242)]),await _0x59c2bf[_0x2b9f72(0x1f0)](sendInstrumentationEvent,_0x34520d,_0x59c2bf['teQtj'],messageTypes[_0x2b9f72(0x1f1)],_0x59c2bf[_0x2b9f72(0x21e)],null,_0x34520d),process[_0x2b9f72(0x20c)](0x1)),logger[_0x2b9f72(0x220)](_0x2b9f72(0x204)+JSON[_0x2b9f72(0x1fe)](_0x440cb9)),await _0x59c2bf['pnPwL'](sendInstrumentationEvent,_0x34520d,_0x59c2bf[_0x2b9f72(0x236)],messageTypes['ERROR'],_0x59c2bf[_0x2b9f72(0x22d)],_0x440cb9,_0x34520d),process[_0x2b9f72(0x20c)](0x1);}catch(_0x356deb){const _0x2b4e43=_0x2b9f72(0x233)+_0x356deb+'\x20\x0a'+JSON[_0x2b9f72(0x1fe)](_0x356deb[_0x2b9f72(0x241)])+'\x20';logger[_0x2b9f72(0x220)](_0x2b4e43),process[_0x2b9f72(0x20c)](0x1);}};function a19_0x56c6(){const _0x36a45c=['YRvbg','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20start','username','225uTJuMb','bstackUsername','mnVZX','stringify','42580ABlXlP','bstackAccesskey','../../utils/utilityMethods','1290600zSxryM','4830lgDXTG','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','command','description','Browserstack','handler','2mbXBHd','skip-tls-cert-verify','../../utils/instrumentationUtils','exit','statusCode','region','Start\x20an\x20existing\x20Automation\x20grid.','RKkZd','134024hFJLkn','96087FNHcbs','clusterName','sNJry','WebSocket','readFileSync','unauthorised','<PasswordPlaceholder>','Adding\x20Websocket\x20listeners','builder','zbCSl','Grid\x20started','usage','iQCZi','UlgEN','error','name','password','reconnecting-websocket','MDbmO','boolean','EOAdS','1168026aByPRN','Starting\x20grid\x20','../../utils/gridComponents','7tbWnnA','addListeners','options','frZvi','dNBnq','skipTlsCertVerify','Pass\x20the\x20ID\x20of\x20the\x20existing\x20Automation\x20grid\x20you\x20want\x20to\x20start.','../../config/constants','grid-id','Unable\x20to\x20start\x20the\x20Grid!\x20Error:\x20','argv','UpUsA','teQtj','parse','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','INFO','orZDd','help','debug','type','gmqqn','connectionTimeout','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','stack','message','grid','info','oZynh','replace','body','LDvbJ','existsSync','clusterRegion','cloudProvider','default','../../config/logger','ZKcah','YHJSU','ERROR','gridId','../../cloudproviders/utils','1899736pvWHvx','2395svpwVH','start','eUfSE'];a19_0x56c6=function(){return _0x36a45c;};return a19_0x56c6();}