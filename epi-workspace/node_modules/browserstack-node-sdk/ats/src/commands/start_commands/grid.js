const a19_0x5e8f25=a19_0x24c0;function a19_0x388a(){const _0x202cac=['17372600iqcAUn','start-grid-called','type','Start\x20an\x20existing\x20Automation\x20grid.','info','region','clusterRegion','ksILv','../../utils/gridComponents','readFileSync','builder','grid','grid-id','name','string','parse','argv','help','clusterName','exit','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20start','../../utils/createk8sClient','1539478XIfvop','skipTlsCertVerify','KafRN','BiLvQ','EYudv','Yamzh','Unable\x20to\x20start\x20the\x20Grid!\x20Error:\x20','addListeners','uIbeM','replace','message','tyVBY','RAiFN','unauthorised','../../utils/instrumentationUtils','server-error','dRArk','command','otXWz','xTrmE','existsSync','KrkVh','bstackAccesskey','lggtL','invalid-grid-id','NbNyX','Cqqrc','../../config/constants','3kAFmuy','934992YznBGv','<PasswordPlaceholder>','default','password','cloudProvider','body','bstackUsername','user','fYATp','Grid\x20started','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','1120544sUdQGx','error','25fBXNHa','description','desc','usage','connectionTimeout','reconnecting-websocket','Browserstack','Adding\x20Websocket\x20listeners','zJFvV','2535750zWhxKa','TObVI','../../utils/utilityMethods','handler','Starting\x20grid\x20','epilogue','200886jDLUva','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','boolean','ERROR','<UsernamePlaceholder>','sWfcA','stringify','start','gridId','statusCode','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','init-not-called','username','ovFdS','9040VHywaf','TkAKu','1687AtvbbE','zMgTo','Pass\x20the\x20ID\x20of\x20the\x20existing\x20Automation\x20grid\x20you\x20want\x20to\x20start.','jiEFE'];a19_0x388a=function(){return _0x202cac;};return a19_0x388a();}(function(_0x2f4b08,_0x17f52e){const _0xe2c5f7=a19_0x24c0,_0x2dadcc=_0x2f4b08();while(!![]){try{const _0x477710=-parseInt(_0xe2c5f7(0xd4))/0x1+-parseInt(_0xe2c5f7(0xb7))/0x2*(parseInt(_0xe2c5f7(0xd3))/0x3)+parseInt(_0xe2c5f7(0xdf))/0x4+-parseInt(_0xe2c5f7(0xe1))/0x5*(-parseInt(_0xe2c5f7(0xf0))/0x6)+-parseInt(_0xe2c5f7(0x9d))/0x7*(parseInt(_0xe2c5f7(0x9b))/0x8)+parseInt(_0xe2c5f7(0xea))/0x9+parseInt(_0xe2c5f7(0xa1))/0xa;if(_0x477710===_0x17f52e)break;else _0x2dadcc['push'](_0x2dadcc['shift']());}catch(_0x376d5f){_0x2dadcc['push'](_0x2dadcc['shift']());}}}(a19_0x388a,0x77812));const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require(a19_0x5e8f25(0xe6)),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a19_0x5e8f25(0xd2)),{logger}=require('../../config/logger'),{getCredentialsPath,getGridDetails}=require(a19_0x5e8f25(0xec)),{scaleUpHubDeployment}=require(a19_0x5e8f25(0xa9)),{sendInstrumentationEvent}=require(a19_0x5e8f25(0xc5)),webSocketUtils=require('../../utils/webSocketUtils'),{createK8sClient}=require(a19_0x5e8f25(0xb6)),{getCloudProviderObject}=require('../../cloudproviders/utils');function a19_0x24c0(_0x3664c2,_0x2bea6f){const _0x388ad2=a19_0x388a();return a19_0x24c0=function(_0x24c04e,_0x28ef1e){_0x24c04e=_0x24c04e-0x96;let _0x5e4f24=_0x388ad2[_0x24c04e];return _0x5e4f24;},a19_0x24c0(_0x3664c2,_0x2bea6f);}exports[a19_0x5e8f25(0xc8)]=a19_0x5e8f25(0xac),exports[a19_0x5e8f25(0xe3)]=a19_0x5e8f25(0xa4),exports[a19_0x5e8f25(0xab)]=function(_0x4e08db){const _0x212575=a19_0x5e8f25,_0x25d645={};_0x25d645[_0x212575(0xbc)]=_0x212575(0x9f),_0x25d645[_0x212575(0x9e)]=_0x212575(0xaf),_0x25d645[_0x212575(0xd0)]='Skip\x20insecure\x20cert\x20verification.',_0x25d645[_0x212575(0xcc)]=_0x212575(0xf2),_0x25d645[_0x212575(0x9c)]=_0x212575(0xb2);const _0x274378=_0x25d645,_0xc643e9={};_0xc643e9[_0x212575(0xe2)]=_0x274378['Yamzh'],_0xc643e9[_0x212575(0xa3)]=_0x274378['zMgTo'];const _0x5b5893={};_0x5b5893['description']=_0x274378['NbNyX'],_0x5b5893[_0x212575(0xa3)]=_0x274378['KrkVh'],_0x5b5893[_0x212575(0xd6)]=![];const _0x5dde91={};return _0x5dde91[_0x212575(0xad)]=_0xc643e9,_0x5dde91['skip-tls-cert-verify']=_0x5b5893,_0x4e08db[_0x212575(0xe4)](HELP_HEADER_MESSAGE[_0x212575(0xf7)])[_0x212575(0xef)](HELP_FOOTER_MESSAGE)['options'](_0x5dde91)[_0x212575(0xb2)](_0x274378[_0x212575(0x9c)])[_0x212575(0xb1)];},exports[a19_0x5e8f25(0xed)]=async function(_0x2b0739){const _0x486838=a19_0x5e8f25,_0x345297={'jiEFE':_0x486838(0xb5),'zJFvV':function(_0x7678b7){return _0x7678b7();},'ksILv':_0x486838(0xde),'otXWz':function(_0x343ca0,_0x1dc21a,_0x2adaa5,_0x268c14,_0x271564,_0x23c212,_0xd01427){return _0x343ca0(_0x1dc21a,_0x2adaa5,_0x268c14,_0x271564,_0x23c212,_0xd01427);},'Cqqrc':_0x486838(0xa2),'sWfcA':_0x486838(0x98),'xTrmE':_0x486838(0xf4),'KafRN':_0x486838(0xd5),'dRArk':_0x486838(0xe8),'UrnPk':function(_0x3c4a98,_0x24c02d,_0x1e16ab,_0x1a84b7){return _0x3c4a98(_0x24c02d,_0x1e16ab,_0x1a84b7);},'uIbeM':function(_0x57fc37,_0x4b27d7,_0x190d1f){return _0x57fc37(_0x4b27d7,_0x190d1f);},'tyVBY':function(_0x8125ad,_0xa1ddf6,_0x2be030){return _0x8125ad(_0xa1ddf6,_0x2be030);},'ovFdS':_0x486838(0xdd),'TObVI':function(_0x2d0d09,_0x50149c){return _0x2d0d09===_0x50149c;},'EYudv':_0x486838(0x97),'lggtL':_0x486838(0xc4),'fYATp':function(_0x187781,_0x15f7fd,_0x113396,_0x1bb273,_0x27b91d,_0x3fe3c7,_0x3df950){return _0x187781(_0x15f7fd,_0x113396,_0x1bb273,_0x27b91d,_0x3fe3c7,_0x3df950);},'BiLvQ':_0x486838(0xcf),'RAiFN':_0x486838(0xc6)};let _0x32db0c;try{!_0x2b0739['gridId']&&(logger[_0x486838(0xe0)](_0x345297[_0x486838(0xa0)]),process[_0x486838(0xb4)](0x1));!fs[_0x486838(0xcb)](_0x345297['zJFvV'](getCredentialsPath))&&(logger[_0x486838(0xe0)](_0x345297[_0x486838(0xa8)]),await _0x345297[_0x486838(0xc9)](sendInstrumentationEvent,_0x2b0739,_0x345297[_0x486838(0xd1)],messageTypes[_0x486838(0xf3)],_0x345297[_0x486838(0xf5)],null,_0x2b0739),process['exit'](0x1));logger[_0x486838(0xa5)](_0x486838(0xee)+_0x2b0739[_0x486838(0xf8)]),await _0x345297[_0x486838(0xc9)](sendInstrumentationEvent,_0x2b0739,_0x345297[_0x486838(0xd1)],messageTypes['INFO'],null,null,_0x2b0739);const _0x13af82=JSON[_0x486838(0xb0)](fs[_0x486838(0xaa)](_0x345297[_0x486838(0xe9)](getCredentialsPath)));global_registry[_0x486838(0xda)]=_0x13af82[_0x486838(0xe7)]['username'],global_registry[_0x486838(0xcd)]=_0x13af82[_0x486838(0xe7)][_0x486838(0xd7)];const _0x2a6833=WS_ENDPOINT[_0x486838(0xc0)](_0x345297[_0x486838(0xca)],_0x13af82['Browserstack'][_0x486838(0x99)])[_0x486838(0xc0)](_0x345297[_0x486838(0xb9)],_0x13af82[_0x486838(0xe7)][_0x486838(0xd7)]),_0x2d8ebf={};_0x2d8ebf['WebSocket']=ws,_0x2d8ebf[_0x486838(0xe5)]=0x36ee80,_0x32db0c=new ReconnectingWebSocket(_0x2a6833,[],_0x2d8ebf),logger['debug'](_0x345297[_0x486838(0xc7)]),webSocketUtils[_0x486838(0xbe)](_0x32db0c,_0x2b0739[_0x486838(0xdb)],_0x2b0739[_0x486838(0xd7)]);const [_0xe2f554,_0x5759f6]=await _0x345297['UrnPk'](getGridDetails,_0x13af82['Browserstack'][_0x486838(0x99)],_0x13af82[_0x486838(0xe7)][_0x486838(0xd7)],_0x2b0739['gridId']);if(_0x5759f6){const _0x420ae1=_0x5759f6['info'];global_registry[_0x486838(0xd8)]=_0x420ae1[_0x486838(0xd8)],global_registry[_0x486838(0xa7)]=_0x420ae1[_0x486838(0xa6)],global_registry['clusterName']=_0x420ae1[_0x486838(0xb3)];const _0x474efc=await _0x345297[_0x486838(0xc9)](getCloudProviderObject,_0x420ae1[_0x486838(0xd8)],_0x420ae1[_0x486838(0xb3)],_0x420ae1[_0x486838(0xae)],_0x32db0c,webSocketUtils,_0x2b0739),[_0x4dce51,_0x25ddd5,_0x3534cf,_0x53bf32,_0x4fd1ec,_0xa46c2f]=await _0x345297[_0x486838(0xbf)](createK8sClient,_0x474efc,_0x2b0739[_0x486838(0xb8)]);await _0x345297[_0x486838(0xc2)](scaleUpHubDeployment,_0x25ddd5,_0x420ae1[_0x486838(0xae)]),logger['info'](_0x345297[_0x486838(0x9a)]),process[_0x486838(0xb4)](0x0);}_0x345297['TObVI'](_0xe2f554[_0x486838(0x96)],0x191)&&(logger[_0x486838(0xe0)](_0x345297[_0x486838(0xbb)]),await _0x345297[_0x486838(0xc9)](sendInstrumentationEvent,_0x2b0739,_0x345297[_0x486838(0xd1)],messageTypes[_0x486838(0xf3)],_0x345297[_0x486838(0xce)],null,_0x2b0739),process[_0x486838(0xb4)](0x1)),_0x345297[_0x486838(0xeb)](_0xe2f554[_0x486838(0x96)],0x190)&&(logger[_0x486838(0xe0)](JSON[_0x486838(0xb0)](_0xe2f554[_0x486838(0xd9)])[_0x486838(0xc1)]),await _0x345297[_0x486838(0xdc)](sendInstrumentationEvent,_0x2b0739,_0x345297[_0x486838(0xd1)],messageTypes['ERROR'],_0x345297[_0x486838(0xba)],null,_0x2b0739),process[_0x486838(0xb4)](0x1)),logger[_0x486838(0xe0)](_0x486838(0xf1)+JSON[_0x486838(0xf6)](_0xe2f554)),await _0x345297['otXWz'](sendInstrumentationEvent,_0x2b0739,_0x345297[_0x486838(0xd1)],messageTypes[_0x486838(0xf3)],_0x345297[_0x486838(0xc3)],_0xe2f554,_0x2b0739),process[_0x486838(0xb4)](0x1);}catch(_0x3fa178){const _0x4801d8=_0x486838(0xbd)+_0x3fa178+'\x20\x0a'+JSON[_0x486838(0xf6)](_0x3fa178['stack'])+'\x20';logger[_0x486838(0xe0)](_0x4801d8),process['exit'](0x1);}};