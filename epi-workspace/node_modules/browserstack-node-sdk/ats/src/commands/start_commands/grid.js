const a19_0xa59a73=a19_0x573e;(function(_0x3e3b16,_0x3fcb01){const _0x285b99=a19_0x573e,_0x1c1420=_0x3e3b16();while(!![]){try{const _0x4ec03e=parseInt(_0x285b99(0x1d4))/0x1+-parseInt(_0x285b99(0x1e9))/0x2+parseInt(_0x285b99(0x1f2))/0x3+parseInt(_0x285b99(0x1e6))/0x4*(parseInt(_0x285b99(0x1cc))/0x5)+-parseInt(_0x285b99(0x1cd))/0x6*(parseInt(_0x285b99(0x1c5))/0x7)+parseInt(_0x285b99(0x1e0))/0x8+-parseInt(_0x285b99(0x1fa))/0x9;if(_0x4ec03e===_0x3fcb01)break;else _0x1c1420['push'](_0x1c1420['shift']());}catch(_0x2758b0){_0x1c1420['push'](_0x1c1420['shift']());}}}(a19_0x39b9,0x3c844));const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require(a19_0xa59a73(0x1f3)),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a19_0xa59a73(0x1f0)),{logger}=require('../../config/logger'),{getCredentialsPath,getGridDetails}=require('../../utils/utilityMethods'),{scaleUpHubDeployment}=require(a19_0xa59a73(0x1be)),{sendInstrumentationEvent}=require(a19_0xa59a73(0x1eb)),webSocketUtils=require(a19_0xa59a73(0x1b5)),{createK8sClient}=require(a19_0xa59a73(0x1f4)),{getCloudProviderObject}=require(a19_0xa59a73(0x200));function a19_0x39b9(){const _0x476527=['948164zFlOjP','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20start','../../utils/instrumentationUtils','boolean','mewFn','info','Unable\x20to\x20start\x20the\x20Grid!\x20Error:\x20','../../config/constants','BtWiC','346620nJvQel','reconnecting-websocket','../../utils/createk8sClient','handler','epilogue','skip-tls-cert-verify','gridId','urZgm','4464774fwjHxP','bstackAccesskey','region','<PasswordPlaceholder>','addListeners','rBXqV','../../cloudproviders/utils','default','start-grid-called','statusCode','yXFvq','AXesv','wSnNN','replace','Adding\x20Websocket\x20listeners','Grid\x20started','Start\x20an\x20existing\x20Automation\x20grid.','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','readFileSync','unauthorised','clusterName','stringify','message','username','../../utils/webSocketUtils','UHirc','fzKUS','grid-id','yoPhh','yZGOI','fYaTL','options','xrWiD','../../utils/gridComponents','grid','error','string','WebSocket','Browserstack','argv','147819ZkumTy','Starting\x20grid\x20','fdbCK','ERROR','CscBi','exit','UZCuM','27635jUEBqL','60PhkGCx','body','YRFHR','<UsernamePlaceholder>','CxpcE','user','type','461917NflXsL','existsSync','bstackUsername','description','parse','help','debug','rhvYl','CjJJq','start','cloudProvider','clusterRegion','3276776bXhRtT','name','connectionTimeout','skipTlsCertVerify','Pass\x20the\x20ID\x20of\x20the\x20existing\x20Automation\x20grid\x20you\x20want\x20to\x20start.','server-error','320mqtgoL','password','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!'];a19_0x39b9=function(){return _0x476527;};return a19_0x39b9();}function a19_0x573e(_0x318eb6,_0x2724c8){const _0x39b906=a19_0x39b9();return a19_0x573e=function(_0x573e8e,_0x2b1ea8){_0x573e8e=_0x573e8e-0x1a7;let _0x29bce4=_0x39b906[_0x573e8e];return _0x29bce4;},a19_0x573e(_0x318eb6,_0x2724c8);}exports['command']=a19_0xa59a73(0x1bf),exports['desc']=a19_0xa59a73(0x1ad),exports['builder']=function(_0x16588e){const _0x41e8e5=a19_0xa59a73,_0x2f4ea9={};_0x2f4ea9[_0x41e8e5(0x1ed)]=_0x41e8e5(0x1e4),_0x2f4ea9['BtWiC']=_0x41e8e5(0x1c1),_0x2f4ea9['YjGmd']='Skip\x20insecure\x20cert\x20verification.',_0x2f4ea9[_0x41e8e5(0x1b9)]=_0x41e8e5(0x1ec),_0x2f4ea9[_0x41e8e5(0x1f9)]=_0x41e8e5(0x1d9);const _0x4d6e13=_0x2f4ea9,_0x2b8d76={};_0x2b8d76[_0x41e8e5(0x1d7)]=_0x4d6e13[_0x41e8e5(0x1ed)],_0x2b8d76[_0x41e8e5(0x1d3)]=_0x4d6e13[_0x41e8e5(0x1f1)];const _0x11b367={};_0x11b367[_0x41e8e5(0x1d7)]=_0x4d6e13['YjGmd'],_0x11b367['type']=_0x4d6e13[_0x41e8e5(0x1b9)],_0x11b367[_0x41e8e5(0x201)]=![];const _0x5bc289={};return _0x5bc289[_0x41e8e5(0x1b8)]=_0x2b8d76,_0x5bc289[_0x41e8e5(0x1f7)]=_0x11b367,_0x16588e['usage'](HELP_HEADER_MESSAGE[_0x41e8e5(0x1dd)])[_0x41e8e5(0x1f6)](HELP_FOOTER_MESSAGE)[_0x41e8e5(0x1bc)](_0x5bc289)[_0x41e8e5(0x1d9)](_0x4d6e13[_0x41e8e5(0x1f9)])[_0x41e8e5(0x1c4)];},exports[a19_0xa59a73(0x1f5)]=async function(_0x13325){const _0x23ccb2=a19_0xa59a73,_0x4dca7d={'fYaTL':_0x23ccb2(0x1ea),'xrWiD':function(_0x468710){return _0x468710();},'fzKUS':_0x23ccb2(0x1ae),'CscBi':function(_0x284c6c,_0x4c5169,_0x25867a,_0x1782bf,_0x5a900b,_0x9be66,_0x2d3292){return _0x284c6c(_0x4c5169,_0x25867a,_0x1782bf,_0x5a900b,_0x9be66,_0x2d3292);},'AXesv':_0x23ccb2(0x202),'LPZYy':'init-not-called','rBXqV':function(_0x302b83,_0xdf6d0d,_0x4ff6fd,_0x49f722,_0x544d92,_0x4b5b70,_0x44fa82){return _0x302b83(_0xdf6d0d,_0x4ff6fd,_0x49f722,_0x544d92,_0x4b5b70,_0x44fa82);},'llXqV':function(_0x59dafc){return _0x59dafc();},'wbYef':_0x23ccb2(0x1d0),'WomYn':_0x23ccb2(0x1fd),'yZGOI':_0x23ccb2(0x1ab),'fdbCK':function(_0x2cc76f,_0x1c9fe1,_0x4cce6f,_0x4e8a53){return _0x2cc76f(_0x1c9fe1,_0x4cce6f,_0x4e8a53);},'YRFHR':function(_0x4b1e09,_0x38c0fc,_0x29a151){return _0x4b1e09(_0x38c0fc,_0x29a151);},'rhvYl':function(_0x512e17,_0x466fc3,_0x5eb350){return _0x512e17(_0x466fc3,_0x5eb350);},'enAvj':_0x23ccb2(0x1ac),'wSnNN':function(_0x568885,_0x20f827){return _0x568885===_0x20f827;},'UZCuM':_0x23ccb2(0x1e8),'UHirc':_0x23ccb2(0x1b0),'CxpcE':function(_0x1c96c6,_0x541bb9){return _0x1c96c6===_0x541bb9;},'CjJJq':function(_0x1e5d23,_0x17e5fd,_0x137072,_0xad5aeb,_0x255b88,_0xc760b1,_0x37d010){return _0x1e5d23(_0x17e5fd,_0x137072,_0xad5aeb,_0x255b88,_0xc760b1,_0x37d010);},'QPnry':'invalid-grid-id','yXFvq':_0x23ccb2(0x1e5)};let _0x3d0bbc;try{!_0x13325[_0x23ccb2(0x1f8)]&&(logger['error'](_0x4dca7d[_0x23ccb2(0x1bb)]),process[_0x23ccb2(0x1ca)](0x1));!fs[_0x23ccb2(0x1d5)](_0x4dca7d[_0x23ccb2(0x1bd)](getCredentialsPath))&&(logger['error'](_0x4dca7d[_0x23ccb2(0x1b7)]),await _0x4dca7d[_0x23ccb2(0x1c9)](sendInstrumentationEvent,_0x13325,_0x4dca7d['AXesv'],messageTypes['ERROR'],_0x4dca7d['LPZYy'],null,_0x13325),process['exit'](0x1));logger[_0x23ccb2(0x1ee)](_0x23ccb2(0x1c6)+_0x13325[_0x23ccb2(0x1f8)]),await _0x4dca7d['rBXqV'](sendInstrumentationEvent,_0x13325,_0x4dca7d[_0x23ccb2(0x1a8)],messageTypes['INFO'],null,null,_0x13325);const _0x29ae9b=JSON[_0x23ccb2(0x1d8)](fs[_0x23ccb2(0x1af)](_0x4dca7d['llXqV'](getCredentialsPath)));global_registry[_0x23ccb2(0x1d6)]=_0x29ae9b['Browserstack'][_0x23ccb2(0x1b4)],global_registry[_0x23ccb2(0x1fb)]=_0x29ae9b['Browserstack'][_0x23ccb2(0x1e7)];const _0x10931f=WS_ENDPOINT[_0x23ccb2(0x1aa)](_0x4dca7d['wbYef'],_0x29ae9b[_0x23ccb2(0x1c3)][_0x23ccb2(0x1b4)])['replace'](_0x4dca7d['WomYn'],_0x29ae9b[_0x23ccb2(0x1c3)][_0x23ccb2(0x1e7)]),_0x5c4ebf={};_0x5c4ebf[_0x23ccb2(0x1c2)]=ws,_0x5c4ebf[_0x23ccb2(0x1e2)]=0x36ee80,_0x3d0bbc=new ReconnectingWebSocket(_0x10931f,[],_0x5c4ebf),logger[_0x23ccb2(0x1da)](_0x4dca7d[_0x23ccb2(0x1ba)]),webSocketUtils[_0x23ccb2(0x1fe)](_0x3d0bbc,_0x13325[_0x23ccb2(0x1d2)],_0x13325['password']);const [_0x3115cd,_0x2be6c3]=await _0x4dca7d[_0x23ccb2(0x1c7)](getGridDetails,_0x29ae9b[_0x23ccb2(0x1c3)][_0x23ccb2(0x1b4)],_0x29ae9b[_0x23ccb2(0x1c3)][_0x23ccb2(0x1e7)],_0x13325['gridId']);if(_0x2be6c3){const _0xccbb48=_0x2be6c3[_0x23ccb2(0x1ee)];global_registry[_0x23ccb2(0x1de)]=_0xccbb48[_0x23ccb2(0x1de)],global_registry[_0x23ccb2(0x1df)]=_0xccbb48[_0x23ccb2(0x1fc)],global_registry[_0x23ccb2(0x1b1)]=_0xccbb48[_0x23ccb2(0x1b1)];const _0x33ab68=await _0x4dca7d[_0x23ccb2(0x1ff)](getCloudProviderObject,_0xccbb48['cloudProvider'],_0xccbb48[_0x23ccb2(0x1b1)],_0xccbb48['name'],_0x3d0bbc,webSocketUtils,_0x13325),[_0x4288ad,_0x3d2393,_0x5f0f05,_0x2e4699,_0x439780,_0x51883a]=await _0x4dca7d[_0x23ccb2(0x1cf)](createK8sClient,_0x33ab68,_0x13325[_0x23ccb2(0x1e3)]);await _0x4dca7d[_0x23ccb2(0x1db)](scaleUpHubDeployment,_0x3d2393,_0xccbb48[_0x23ccb2(0x1e1)]),logger[_0x23ccb2(0x1ee)](_0x4dca7d['enAvj']),process[_0x23ccb2(0x1ca)](0x0);}_0x4dca7d[_0x23ccb2(0x1a9)](_0x3115cd[_0x23ccb2(0x203)],0x191)&&(logger[_0x23ccb2(0x1c0)](_0x4dca7d[_0x23ccb2(0x1cb)]),await _0x4dca7d[_0x23ccb2(0x1ff)](sendInstrumentationEvent,_0x13325,_0x4dca7d[_0x23ccb2(0x1a8)],messageTypes[_0x23ccb2(0x1c8)],_0x4dca7d[_0x23ccb2(0x1b6)],null,_0x13325),process[_0x23ccb2(0x1ca)](0x1)),_0x4dca7d[_0x23ccb2(0x1d1)](_0x3115cd[_0x23ccb2(0x203)],0x190)&&(logger['error'](JSON[_0x23ccb2(0x1d8)](_0x3115cd[_0x23ccb2(0x1ce)])[_0x23ccb2(0x1b3)]),await _0x4dca7d[_0x23ccb2(0x1dc)](sendInstrumentationEvent,_0x13325,_0x4dca7d[_0x23ccb2(0x1a8)],messageTypes[_0x23ccb2(0x1c8)],_0x4dca7d['QPnry'],null,_0x13325),process[_0x23ccb2(0x1ca)](0x1)),logger[_0x23ccb2(0x1c0)]('Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20'+JSON[_0x23ccb2(0x1b2)](_0x3115cd)),await _0x4dca7d[_0x23ccb2(0x1dc)](sendInstrumentationEvent,_0x13325,_0x4dca7d[_0x23ccb2(0x1a8)],messageTypes[_0x23ccb2(0x1c8)],_0x4dca7d[_0x23ccb2(0x1a7)],_0x3115cd,_0x13325),process[_0x23ccb2(0x1ca)](0x1);}catch(_0x4ae205){const _0x42055f=_0x23ccb2(0x1ef)+_0x4ae205+'\x20\x0a'+JSON[_0x23ccb2(0x1b2)](_0x4ae205['stack'])+'\x20';logger[_0x23ccb2(0x1c0)](_0x42055f),process['exit'](0x1);}};