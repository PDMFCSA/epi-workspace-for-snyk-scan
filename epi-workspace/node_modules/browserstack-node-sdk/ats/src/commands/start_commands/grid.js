const a19_0x88ed=a19_0xe8b9;function a19_0xe8b9(_0x12ccdd,_0x5b9924){const _0x2e3b3c=a19_0x2e3b();return a19_0xe8b9=function(_0xe8b9b7,_0x575dc1){_0xe8b9b7=_0xe8b9b7-0x187;let _0xbf92e2=_0x2e3b3c[_0xe8b9b7];return _0xbf92e2;},a19_0xe8b9(_0x12ccdd,_0x5b9924);}(function(_0x176a29,_0x46f928){const _0x1da01a=a19_0xe8b9,_0x3e3bba=_0x176a29();while(!![]){try{const _0x5a1014=-parseInt(_0x1da01a(0x1d2))/0x1*(-parseInt(_0x1da01a(0x1d7))/0x2)+parseInt(_0x1da01a(0x1c8))/0x3+-parseInt(_0x1da01a(0x1b0))/0x4+parseInt(_0x1da01a(0x1a3))/0x5*(parseInt(_0x1da01a(0x1be))/0x6)+-parseInt(_0x1da01a(0x1a1))/0x7*(parseInt(_0x1da01a(0x1a8))/0x8)+parseInt(_0x1da01a(0x1ca))/0x9+-parseInt(_0x1da01a(0x1de))/0xa*(parseInt(_0x1da01a(0x18d))/0xb);if(_0x5a1014===_0x46f928)break;else _0x3e3bba['push'](_0x3e3bba['shift']());}catch(_0x35716f){_0x3e3bba['push'](_0x3e3bba['shift']());}}}(a19_0x2e3b,0x6f36c));const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require(a19_0x88ed(0x1d6)),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require('../../config/constants'),{logger}=require(a19_0x88ed(0x196)),{getCredentialsPath,getGridDetails}=require(a19_0x88ed(0x18b)),{scaleUpHubDeployment}=require(a19_0x88ed(0x1e3)),{sendInstrumentationEvent}=require(a19_0x88ed(0x1da)),webSocketUtils=require('../../utils/webSocketUtils'),{createK8sClient}=require(a19_0x88ed(0x1a2)),{getCloudProviderObject}=require(a19_0x88ed(0x1bb));function a19_0x2e3b(){const _0x1b7c3a=['Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','bstackAccesskey','1067668GRTUTi','exit','sqRch','ERROR','error','desc','Starting\x20grid\x20','rPjZD','INFO','cDJoo','description','../../cloudproviders/utils','default','iUZiK','3208656DGxTaT','addListeners','stringify','Grid\x20started','debug','usage','tivFT','grid-id','type','WSsmh','1870737jdtCyl','password','6773184xbULIB','ANcwe','JDSuf','cloudProvider','VElqO','LLyFW','gridId','RzMor','1DEMWVf','body','tMXwe','message','reconnecting-websocket','1690662cgAHWC','stack','skip-tls-cert-verify','../../utils/instrumentationUtils','cUjgi','builder','CyxsS','6055760POLNds','connectionTimeout','Adding\x20Websocket\x20listeners','nesOl','clusterRegion','../../utils/gridComponents','WebSocket','oQyHu','bstackUsername','options','start','argv','../../utils/utilityMethods','grid','22JQJgJl','username','qkSaV','skipTlsCertVerify','boolean','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','clusterName','GvEUA','replace','../../config/logger','help','Browserstack','existsSync','string','Skip\x20insecure\x20cert\x20verification.','statusCode','<PasswordPlaceholder>','epilogue','Start\x20an\x20existing\x20Automation\x20grid.','user','343AElUgp','../../utils/createk8sClient','5ISxxpG','name','server-error','<UsernamePlaceholder>','parse','134312vaPxJX','Pass\x20the\x20ID\x20of\x20the\x20existing\x20Automation\x20grid\x20you\x20want\x20to\x20start.','handler','readFileSync','info','cObEo'];a19_0x2e3b=function(){return _0x1b7c3a;};return a19_0x2e3b();}exports['command']=a19_0x88ed(0x18c),exports[a19_0x88ed(0x1b5)]=a19_0x88ed(0x19f),exports[a19_0x88ed(0x1dc)]=function(_0x27e803){const _0x2944b0=a19_0x88ed,_0x2c5774={};_0x2c5774[_0x2944b0(0x18f)]=_0x2944b0(0x1a9),_0x2c5774[_0x2944b0(0x1cf)]=_0x2944b0(0x19a),_0x2c5774[_0x2944b0(0x1bd)]=_0x2944b0(0x19b),_0x2c5774['cHtUk']=_0x2944b0(0x191),_0x2c5774[_0x2944b0(0x1ad)]='help';const _0x245a68=_0x2c5774,_0x1fde5c={};_0x1fde5c[_0x2944b0(0x1ba)]=_0x245a68[_0x2944b0(0x18f)],_0x1fde5c['type']=_0x245a68['LLyFW'];const _0x44bccc={};_0x44bccc['description']=_0x245a68[_0x2944b0(0x1bd)],_0x44bccc[_0x2944b0(0x1c6)]=_0x245a68['cHtUk'],_0x44bccc[_0x2944b0(0x1bc)]=![];const _0x5cc20a={};return _0x5cc20a[_0x2944b0(0x1c5)]=_0x1fde5c,_0x5cc20a[_0x2944b0(0x1d9)]=_0x44bccc,_0x27e803[_0x2944b0(0x1c3)](HELP_HEADER_MESSAGE[_0x2944b0(0x189)])[_0x2944b0(0x19e)](HELP_FOOTER_MESSAGE)[_0x2944b0(0x188)](_0x5cc20a)[_0x2944b0(0x197)](_0x245a68[_0x2944b0(0x1ad)])[_0x2944b0(0x18a)];},exports[a19_0x88ed(0x1aa)]=async function(_0x4125b4){const _0x1c1ad8=a19_0x88ed,_0x4ba58f={'cUjgi':'Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20start','GvEUA':function(_0x245165){return _0x245165();},'oQyHu':_0x1c1ad8(0x192),'tivFT':function(_0x1cd7c0,_0x154a72,_0xc1afa5,_0x54939f,_0x5b0d6f,_0x4a5611,_0x7addc9){return _0x1cd7c0(_0x154a72,_0xc1afa5,_0x54939f,_0x5b0d6f,_0x4a5611,_0x7addc9);},'RzMor':'start-grid-called','qRSSB':'init-not-called','CyxsS':function(_0x54712e){return _0x54712e();},'ANcwe':_0x1c1ad8(0x1a6),'AnSQB':_0x1c1ad8(0x19d),'kNqCN':_0x1c1ad8(0x1e0),'nesOl':function(_0x31c697,_0x30ab1c,_0x29f539,_0x1081ed){return _0x31c697(_0x30ab1c,_0x29f539,_0x1081ed);},'Vbfar':function(_0x16665e,_0x1c84f4,_0x9cc7ab){return _0x16665e(_0x1c84f4,_0x9cc7ab);},'sqRch':function(_0x3a056a,_0x5227db,_0x28aff4){return _0x3a056a(_0x5227db,_0x28aff4);},'JDSuf':_0x1c1ad8(0x1c1),'rPjZD':function(_0x29f85a,_0x3071dd){return _0x29f85a===_0x3071dd;},'WSsmh':_0x1c1ad8(0x1ae),'VElqO':function(_0x4ab8c8,_0x159a42,_0x9a4e0d,_0x3f7d11,_0x57bc8c,_0x20c373,_0x55fc79){return _0x4ab8c8(_0x159a42,_0x9a4e0d,_0x3f7d11,_0x57bc8c,_0x20c373,_0x55fc79);},'tMXwe':'unauthorised','QlAHg':function(_0x42c4ea,_0x9fc4a3,_0x898a06,_0x5f41a1,_0x513944,_0x57b8cd,_0xebe900){return _0x42c4ea(_0x9fc4a3,_0x898a06,_0x5f41a1,_0x513944,_0x57b8cd,_0xebe900);},'cDJoo':'invalid-grid-id','UJUHJ':function(_0x97ac7f,_0x3d4adc,_0x531a7f,_0xda364b,_0x1b9940,_0x585e1d,_0x4923eb){return _0x97ac7f(_0x3d4adc,_0x531a7f,_0xda364b,_0x1b9940,_0x585e1d,_0x4923eb);},'scXWP':_0x1c1ad8(0x1a5)};let _0x44479e;try{!_0x4125b4[_0x1c1ad8(0x1d0)]&&(logger['error'](_0x4ba58f[_0x1c1ad8(0x1db)]),process[_0x1c1ad8(0x1b1)](0x1));!fs[_0x1c1ad8(0x199)](_0x4ba58f[_0x1c1ad8(0x194)](getCredentialsPath))&&(logger[_0x1c1ad8(0x1b4)](_0x4ba58f[_0x1c1ad8(0x1e5)]),await _0x4ba58f[_0x1c1ad8(0x1c4)](sendInstrumentationEvent,_0x4125b4,_0x4ba58f[_0x1c1ad8(0x1d1)],messageTypes[_0x1c1ad8(0x1b3)],_0x4ba58f['qRSSB'],null,_0x4125b4),process[_0x1c1ad8(0x1b1)](0x1));logger[_0x1c1ad8(0x1ac)](_0x1c1ad8(0x1b6)+_0x4125b4[_0x1c1ad8(0x1d0)]),await _0x4ba58f[_0x1c1ad8(0x1c4)](sendInstrumentationEvent,_0x4125b4,_0x4ba58f['RzMor'],messageTypes[_0x1c1ad8(0x1b8)],null,null,_0x4125b4);const _0x57fa49=JSON[_0x1c1ad8(0x1a7)](fs[_0x1c1ad8(0x1ab)](_0x4ba58f[_0x1c1ad8(0x1dd)](getCredentialsPath)));global_registry[_0x1c1ad8(0x187)]=_0x57fa49['Browserstack']['username'],global_registry[_0x1c1ad8(0x1af)]=_0x57fa49[_0x1c1ad8(0x198)][_0x1c1ad8(0x1c9)];const _0x306408=WS_ENDPOINT[_0x1c1ad8(0x195)](_0x4ba58f[_0x1c1ad8(0x1cb)],_0x57fa49[_0x1c1ad8(0x198)][_0x1c1ad8(0x18e)])[_0x1c1ad8(0x195)](_0x4ba58f['AnSQB'],_0x57fa49[_0x1c1ad8(0x198)]['password']),_0x4fd4e2={};_0x4fd4e2[_0x1c1ad8(0x1e4)]=ws,_0x4fd4e2[_0x1c1ad8(0x1df)]=0x36ee80,_0x44479e=new ReconnectingWebSocket(_0x306408,[],_0x4fd4e2),logger[_0x1c1ad8(0x1c2)](_0x4ba58f['kNqCN']),webSocketUtils[_0x1c1ad8(0x1bf)](_0x44479e,_0x4125b4[_0x1c1ad8(0x1a0)],_0x4125b4[_0x1c1ad8(0x1c9)]);const [_0x29e8d5,_0x2a6203]=await _0x4ba58f[_0x1c1ad8(0x1e1)](getGridDetails,_0x57fa49['Browserstack'][_0x1c1ad8(0x18e)],_0x57fa49[_0x1c1ad8(0x198)]['password'],_0x4125b4['gridId']);if(_0x2a6203){const _0xc8db3e=_0x2a6203[_0x1c1ad8(0x1ac)];global_registry[_0x1c1ad8(0x1cd)]=_0xc8db3e[_0x1c1ad8(0x1cd)],global_registry[_0x1c1ad8(0x1e2)]=_0xc8db3e['region'],global_registry[_0x1c1ad8(0x193)]=_0xc8db3e[_0x1c1ad8(0x193)];const _0x56c48d=await _0x4ba58f[_0x1c1ad8(0x1c4)](getCloudProviderObject,_0xc8db3e[_0x1c1ad8(0x1cd)],_0xc8db3e['clusterName'],_0xc8db3e[_0x1c1ad8(0x1a4)],_0x44479e,webSocketUtils,_0x4125b4),[_0x3bc9d3,_0x33fbc3,_0x24a5db,_0x259599,_0x5f5c9e,_0x279c73]=await _0x4ba58f['Vbfar'](createK8sClient,_0x56c48d,_0x4125b4[_0x1c1ad8(0x190)]);await _0x4ba58f[_0x1c1ad8(0x1b2)](scaleUpHubDeployment,_0x33fbc3,_0xc8db3e['name']),logger[_0x1c1ad8(0x1ac)](_0x4ba58f[_0x1c1ad8(0x1cc)]),process[_0x1c1ad8(0x1b1)](0x0);}_0x4ba58f[_0x1c1ad8(0x1b7)](_0x29e8d5['statusCode'],0x191)&&(logger[_0x1c1ad8(0x1b4)](_0x4ba58f[_0x1c1ad8(0x1c7)]),await _0x4ba58f[_0x1c1ad8(0x1ce)](sendInstrumentationEvent,_0x4125b4,_0x4ba58f[_0x1c1ad8(0x1d1)],messageTypes[_0x1c1ad8(0x1b3)],_0x4ba58f[_0x1c1ad8(0x1d4)],null,_0x4125b4),process[_0x1c1ad8(0x1b1)](0x1)),_0x4ba58f[_0x1c1ad8(0x1b7)](_0x29e8d5[_0x1c1ad8(0x19c)],0x190)&&(logger['error'](JSON[_0x1c1ad8(0x1a7)](_0x29e8d5[_0x1c1ad8(0x1d3)])[_0x1c1ad8(0x1d5)]),await _0x4ba58f['QlAHg'](sendInstrumentationEvent,_0x4125b4,_0x4ba58f[_0x1c1ad8(0x1d1)],messageTypes[_0x1c1ad8(0x1b3)],_0x4ba58f[_0x1c1ad8(0x1b9)],null,_0x4125b4),process['exit'](0x1)),logger[_0x1c1ad8(0x1b4)]('Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20'+JSON['stringify'](_0x29e8d5)),await _0x4ba58f['UJUHJ'](sendInstrumentationEvent,_0x4125b4,_0x4ba58f[_0x1c1ad8(0x1d1)],messageTypes[_0x1c1ad8(0x1b3)],_0x4ba58f['scXWP'],_0x29e8d5,_0x4125b4),process[_0x1c1ad8(0x1b1)](0x1);}catch(_0x120e8f){const _0x5716a5='Unable\x20to\x20start\x20the\x20Grid!\x20Error:\x20'+_0x120e8f+'\x20\x0a'+JSON[_0x1c1ad8(0x1c0)](_0x120e8f[_0x1c1ad8(0x1d8)])+'\x20';logger[_0x1c1ad8(0x1b4)](_0x5716a5),process[_0x1c1ad8(0x1b1)](0x1);}};