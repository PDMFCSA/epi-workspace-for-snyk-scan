const a19_0x2dcd7a=a19_0x561b;function a19_0x3783(){const _0x4c0575=['KjSek','INFO','PyIgs','skip-tls-cert-verify','start-grid-called','../../utils/webSocketUtils','byNFk','clusterName','Adding\x20Websocket\x20listeners','Start\x20an\x20existing\x20Automation\x20grid.','<PasswordPlaceholder>','TebXQ','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','grid','6xocGsa','../../utils/instrumentationUtils','lZCaJ','uQtwx','builder','avxuu','cloudProvider','93519QoCEVT','statusCode','Unable\x20to\x20start\x20the\x20Grid!\x20Error:\x20','message','grid-id','bstackUsername','jEZKS','name','9690NtRABy','options','PzfkE','../../utils/gridComponents','unOCZ','Pass\x20the\x20ID\x20of\x20the\x20existing\x20Automation\x20grid\x20you\x20want\x20to\x20start.','1971410kbXMuM','sfgxX','user','parse','ERROR','region','Starting\x20grid\x20','QnZby','206332AzYxWN','Browserstack','error','<UsernamePlaceholder>','usage','WjxCk','type','argv','stringify','gyHNs','body','bstackAccesskey','1852660pCbFIs','559505jxEGfj','existsSync','qWuQB','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','exit','WebSocket','../../utils/utilityMethods','Grid\x20started','unauthorised','command','help','ghhqO','765220yuZbGp','clusterRegion','Yuqsh','../../config/logger','44OMPgEU','start','MFedr','replace','debug','440BrYuTX','gridId','info','password','../../utils/createk8sClient','../../cloudproviders/utils','Iybmb','username','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20start','184tlzwMZ','string','../../config/constants','Skip\x20insecure\x20cert\x20verification.'];a19_0x3783=function(){return _0x4c0575;};return a19_0x3783();}function a19_0x561b(_0x29fba6,_0x1a7157){const _0x378316=a19_0x3783();return a19_0x561b=function(_0x561bd9,_0x4296bf){_0x561bd9=_0x561bd9-0x182;let _0x4140fc=_0x378316[_0x561bd9];return _0x4140fc;},a19_0x561b(_0x29fba6,_0x1a7157);}(function(_0x205f5b,_0x34bc80){const _0x400556=a19_0x561b,_0x476c3a=_0x205f5b();while(!![]){try{const _0x32b96f=-parseInt(_0x400556(0x1a5))/0x1+parseInt(_0x400556(0x1be))/0x2+-parseInt(_0x400556(0x197))/0x3*(-parseInt(_0x400556(0x1c7))/0x4)+parseInt(_0x400556(0x1b2))/0x5*(-parseInt(_0x400556(0x188))/0x6)+parseInt(_0x400556(0x19d))/0x7+-parseInt(_0x400556(0x1d0))/0x8*(-parseInt(_0x400556(0x18f))/0x9)+parseInt(_0x400556(0x1b1))/0xa*(-parseInt(_0x400556(0x1c2))/0xb);if(_0x32b96f===_0x34bc80)break;else _0x476c3a['push'](_0x476c3a['shift']());}catch(_0x2cc6ad){_0x476c3a['push'](_0x476c3a['shift']());}}}(a19_0x3783,0x30a44));const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require('reconnecting-websocket'),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a19_0x2dcd7a(0x1d2)),{logger}=require(a19_0x2dcd7a(0x1c1)),{getCredentialsPath,getGridDetails}=require(a19_0x2dcd7a(0x1b8)),{scaleUpHubDeployment}=require(a19_0x2dcd7a(0x19a)),{sendInstrumentationEvent}=require(a19_0x2dcd7a(0x189)),webSocketUtils=require(a19_0x2dcd7a(0x1d9)),{createK8sClient}=require(a19_0x2dcd7a(0x1cb)),{getCloudProviderObject}=require(a19_0x2dcd7a(0x1cc));exports[a19_0x2dcd7a(0x1bb)]=a19_0x2dcd7a(0x187),exports['desc']=a19_0x2dcd7a(0x183),exports[a19_0x2dcd7a(0x18c)]=function(_0x5d595f){const _0x5be782=a19_0x2dcd7a,_0x30ee67={};_0x30ee67['vYSBu']=_0x5be782(0x19c),_0x30ee67['sfgxX']=_0x5be782(0x1d1),_0x30ee67[_0x5be782(0x1da)]=_0x5be782(0x1d3),_0x30ee67[_0x5be782(0x199)]='boolean',_0x30ee67[_0x5be782(0x1c4)]=_0x5be782(0x1bc);const _0x1a92ca=_0x30ee67,_0x93e035={};_0x93e035['description']=_0x1a92ca['vYSBu'],_0x93e035[_0x5be782(0x1ab)]=_0x1a92ca[_0x5be782(0x19e)];const _0xb4a170={};_0xb4a170['description']=_0x1a92ca[_0x5be782(0x1da)],_0xb4a170[_0x5be782(0x1ab)]=_0x1a92ca[_0x5be782(0x199)],_0xb4a170['default']=![];const _0x2ec17d={};return _0x2ec17d[_0x5be782(0x193)]=_0x93e035,_0x2ec17d[_0x5be782(0x1d7)]=_0xb4a170,_0x5d595f[_0x5be782(0x1a9)](HELP_HEADER_MESSAGE[_0x5be782(0x1c3)])['epilogue'](HELP_FOOTER_MESSAGE)[_0x5be782(0x198)](_0x2ec17d)['help'](_0x1a92ca[_0x5be782(0x1c4)])[_0x5be782(0x1ac)];},exports['handler']=async function(_0x420756){const _0x536676=a19_0x2dcd7a,_0x1f591e={'uQtwx':_0x536676(0x1cf),'TebXQ':function(_0x5f287e){return _0x5f287e();},'WjxCk':'Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','Yuqsh':function(_0xeb8e91,_0x2d402d,_0x28a175,_0x4f828d,_0x3cb9a4,_0x693bf8,_0x31447d){return _0xeb8e91(_0x2d402d,_0x28a175,_0x4f828d,_0x3cb9a4,_0x693bf8,_0x31447d);},'avxuu':_0x536676(0x1d8),'lZCaJ':'init-not-called','VhwLx':function(_0x377908){return _0x377908();},'jEZKS':_0x536676(0x1a8),'lLyms':_0x536676(0x184),'ghhqO':_0x536676(0x182),'zuMKV':function(_0x5719da,_0x55aadd,_0x59f3dd,_0x341c2a){return _0x5719da(_0x55aadd,_0x59f3dd,_0x341c2a);},'gyHNs':function(_0x447da9,_0x2f9eb2,_0x3e834a){return _0x447da9(_0x2f9eb2,_0x3e834a);},'KjSek':_0x536676(0x1b9),'PyIgs':function(_0x3265f0,_0xe4b07f){return _0x3265f0===_0xe4b07f;},'QnZby':_0x536676(0x186),'unOCZ':_0x536676(0x1ba),'Iybmb':'invalid-grid-id','qWuQB':'server-error'};let _0x637487;try{!_0x420756[_0x536676(0x1c8)]&&(logger[_0x536676(0x1a7)](_0x1f591e[_0x536676(0x18b)]),process['exit'](0x1));!fs[_0x536676(0x1b3)](_0x1f591e[_0x536676(0x185)](getCredentialsPath))&&(logger['error'](_0x1f591e[_0x536676(0x1aa)]),await _0x1f591e['Yuqsh'](sendInstrumentationEvent,_0x420756,_0x1f591e[_0x536676(0x18d)],messageTypes['ERROR'],_0x1f591e[_0x536676(0x18a)],null,_0x420756),process['exit'](0x1));logger[_0x536676(0x1c9)](_0x536676(0x1a3)+_0x420756['gridId']),await _0x1f591e[_0x536676(0x1c0)](sendInstrumentationEvent,_0x420756,_0x1f591e[_0x536676(0x18d)],messageTypes[_0x536676(0x1d5)],null,null,_0x420756);const _0xe52f51=JSON[_0x536676(0x1a0)](fs['readFileSync'](_0x1f591e['VhwLx'](getCredentialsPath)));global_registry[_0x536676(0x194)]=_0xe52f51[_0x536676(0x1a6)][_0x536676(0x1ce)],global_registry[_0x536676(0x1b0)]=_0xe52f51['Browserstack'][_0x536676(0x1ca)];const _0x4a4c2b=WS_ENDPOINT[_0x536676(0x1c5)](_0x1f591e[_0x536676(0x195)],_0xe52f51[_0x536676(0x1a6)][_0x536676(0x1ce)])[_0x536676(0x1c5)](_0x1f591e['lLyms'],_0xe52f51['Browserstack'][_0x536676(0x1ca)]),_0x53afbb={};_0x53afbb[_0x536676(0x1b7)]=ws,_0x53afbb['connectionTimeout']=0x36ee80,_0x637487=new ReconnectingWebSocket(_0x4a4c2b,[],_0x53afbb),logger[_0x536676(0x1c6)](_0x1f591e[_0x536676(0x1bd)]),webSocketUtils['addListeners'](_0x637487,_0x420756[_0x536676(0x19f)],_0x420756[_0x536676(0x1ca)]);const [_0x444d85,_0x327b98]=await _0x1f591e['zuMKV'](getGridDetails,_0xe52f51[_0x536676(0x1a6)]['username'],_0xe52f51[_0x536676(0x1a6)]['password'],_0x420756[_0x536676(0x1c8)]);if(_0x327b98){const _0x4dee19=_0x327b98[_0x536676(0x1c9)];global_registry[_0x536676(0x18e)]=_0x4dee19['cloudProvider'],global_registry[_0x536676(0x1bf)]=_0x4dee19[_0x536676(0x1a2)],global_registry[_0x536676(0x1db)]=_0x4dee19[_0x536676(0x1db)];const _0x33018f=await _0x1f591e['Yuqsh'](getCloudProviderObject,_0x4dee19[_0x536676(0x18e)],_0x4dee19[_0x536676(0x1db)],_0x4dee19[_0x536676(0x196)],_0x637487,webSocketUtils,_0x420756),[_0x4ff9b0,_0x5d3017,_0x2b344b,_0x206dc4,_0x45cd33,_0x2009d5]=await _0x1f591e[_0x536676(0x1ae)](createK8sClient,_0x33018f,_0x420756['skipTlsCertVerify']);await _0x1f591e[_0x536676(0x1ae)](scaleUpHubDeployment,_0x5d3017,_0x4dee19[_0x536676(0x196)]),logger[_0x536676(0x1c9)](_0x1f591e[_0x536676(0x1d4)]),process[_0x536676(0x1b6)](0x0);}_0x1f591e[_0x536676(0x1d6)](_0x444d85['statusCode'],0x191)&&(logger['error'](_0x1f591e[_0x536676(0x1a4)]),await _0x1f591e[_0x536676(0x1c0)](sendInstrumentationEvent,_0x420756,_0x1f591e[_0x536676(0x18d)],messageTypes['ERROR'],_0x1f591e[_0x536676(0x19b)],null,_0x420756),process[_0x536676(0x1b6)](0x1)),_0x1f591e[_0x536676(0x1d6)](_0x444d85[_0x536676(0x190)],0x190)&&(logger[_0x536676(0x1a7)](JSON[_0x536676(0x1a0)](_0x444d85[_0x536676(0x1af)])[_0x536676(0x192)]),await _0x1f591e[_0x536676(0x1c0)](sendInstrumentationEvent,_0x420756,_0x1f591e[_0x536676(0x18d)],messageTypes[_0x536676(0x1a1)],_0x1f591e[_0x536676(0x1cd)],null,_0x420756),process[_0x536676(0x1b6)](0x1)),logger[_0x536676(0x1a7)](_0x536676(0x1b5)+JSON[_0x536676(0x1ad)](_0x444d85)),await _0x1f591e['Yuqsh'](sendInstrumentationEvent,_0x420756,_0x1f591e[_0x536676(0x18d)],messageTypes['ERROR'],_0x1f591e[_0x536676(0x1b4)],_0x444d85,_0x420756),process[_0x536676(0x1b6)](0x1);}catch(_0x14bac9){const _0x46ee37=_0x536676(0x191)+_0x14bac9+'\x20\x0a'+JSON[_0x536676(0x1ad)](_0x14bac9['stack'])+'\x20';logger['error'](_0x46ee37),process[_0x536676(0x1b6)](0x1);}};