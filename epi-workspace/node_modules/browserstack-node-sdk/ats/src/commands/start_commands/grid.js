const a19_0x5618ee=a19_0x21ec;(function(_0x48e133,_0x5c027d){const _0x2e18da=a19_0x21ec,_0x11ccaa=_0x48e133();while(!![]){try{const _0x16c8e0=parseInt(_0x2e18da(0x160))/0x1+-parseInt(_0x2e18da(0x12d))/0x2+parseInt(_0x2e18da(0x12e))/0x3+-parseInt(_0x2e18da(0x12a))/0x4+parseInt(_0x2e18da(0x163))/0x5+-parseInt(_0x2e18da(0x150))/0x6+-parseInt(_0x2e18da(0x140))/0x7*(-parseInt(_0x2e18da(0x165))/0x8);if(_0x16c8e0===_0x5c027d)break;else _0x11ccaa['push'](_0x11ccaa['shift']());}catch(_0x166b22){_0x11ccaa['push'](_0x11ccaa['shift']());}}}(a19_0x49c6,0x31b79));const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require(a19_0x5618ee(0x134)),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a19_0x5618ee(0x14a)),{logger}=require(a19_0x5618ee(0x117)),{getCredentialsPath,getGridDetails}=require(a19_0x5618ee(0x11f)),{scaleUpHubDeployment}=require(a19_0x5618ee(0x157)),{sendInstrumentationEvent}=require(a19_0x5618ee(0x12f)),webSocketUtils=require('../../utils/webSocketUtils'),{createK8sClient}=require(a19_0x5618ee(0x133)),{getCloudProviderObject}=require(a19_0x5618ee(0x14d));function a19_0x21ec(_0x1ba98c,_0x50b560){const _0x49c6d5=a19_0x49c6();return a19_0x21ec=function(_0x21eceb,_0x59af51){_0x21eceb=_0x21eceb-0x113;let _0x33e6a3=_0x49c6d5[_0x21eceb];return _0x33e6a3;},a19_0x21ec(_0x1ba98c,_0x50b560);}exports['command']=a19_0x5618ee(0x12b),exports[a19_0x5618ee(0x125)]='Start\x20an\x20existing\x20Automation\x20grid.',exports['builder']=function(_0x3b7e09){const _0x590702=a19_0x5618ee,_0x5ac5d1={};_0x5ac5d1[_0x590702(0x162)]='Pass\x20the\x20ID\x20of\x20the\x20existing\x20Automation\x20grid\x20you\x20want\x20to\x20start.',_0x5ac5d1['kQbGV']='string',_0x5ac5d1[_0x590702(0x13f)]='Skip\x20insecure\x20cert\x20verification.',_0x5ac5d1['LxjxE']=_0x590702(0x143),_0x5ac5d1[_0x590702(0x161)]=_0x590702(0x146);const _0x1211a1=_0x5ac5d1,_0x3def16={};_0x3def16[_0x590702(0x15e)]=_0x1211a1[_0x590702(0x162)],_0x3def16['type']=_0x1211a1[_0x590702(0x126)];const _0x28abf9={};_0x28abf9['description']=_0x1211a1[_0x590702(0x13f)],_0x28abf9[_0x590702(0x13c)]=_0x1211a1[_0x590702(0x11a)],_0x28abf9[_0x590702(0x15f)]=![];const _0x22ce6a={};return _0x22ce6a[_0x590702(0x124)]=_0x3def16,_0x22ce6a['skip-tls-cert-verify']=_0x28abf9,_0x3b7e09['usage'](HELP_HEADER_MESSAGE[_0x590702(0x166)])['epilogue'](HELP_FOOTER_MESSAGE)[_0x590702(0x138)](_0x22ce6a)[_0x590702(0x146)](_0x1211a1[_0x590702(0x161)])['argv'];},exports[a19_0x5618ee(0x123)]=async function(_0x443237){const _0x4d32c7=a19_0x5618ee,_0xf51de7={'RjxJY':_0x4d32c7(0x120),'FtMcR':function(_0x6fa588){return _0x6fa588();},'SMdTo':_0x4d32c7(0x13d),'yGVXn':function(_0x22de17,_0x45455f,_0x377ab0,_0x2fec22,_0x13094a,_0x402fa7,_0x1e0587){return _0x22de17(_0x45455f,_0x377ab0,_0x2fec22,_0x13094a,_0x402fa7,_0x1e0587);},'ZORKr':_0x4d32c7(0x11e),'FGMzc':'init-not-called','TNDZl':'<UsernamePlaceholder>','fcylp':_0x4d32c7(0x15a),'iKueb':'Adding\x20Websocket\x20listeners','PgDGS':function(_0x282145,_0x454a0a,_0x25235e,_0x374601){return _0x282145(_0x454a0a,_0x25235e,_0x374601);},'MlEqW':function(_0x39f21e,_0x466593,_0x1ed5d5,_0x2b711f,_0x25f6bf,_0x18efa2,_0x38addb){return _0x39f21e(_0x466593,_0x1ed5d5,_0x2b711f,_0x25f6bf,_0x18efa2,_0x38addb);},'PTCHg':function(_0x46c99e,_0x6757c7,_0x28c76f){return _0x46c99e(_0x6757c7,_0x28c76f);},'RjQBF':'Grid\x20started','hkXlV':function(_0x561c11,_0x123072){return _0x561c11===_0x123072;},'jmzlm':_0x4d32c7(0x154),'QBuCc':_0x4d32c7(0x12c),'mMjPg':function(_0x342bbe,_0x3127b8){return _0x342bbe===_0x3127b8;},'oVXlV':_0x4d32c7(0x129),'JvlUz':function(_0x26e04f,_0x1bbcdc,_0x3e5782,_0x505f72,_0x34ada6,_0x4a977e,_0x46477c){return _0x26e04f(_0x1bbcdc,_0x3e5782,_0x505f72,_0x34ada6,_0x4a977e,_0x46477c);},'hyLGu':'server-error'};let _0x290097;try{!_0x443237[_0x4d32c7(0x119)]&&(logger[_0x4d32c7(0x131)](_0xf51de7[_0x4d32c7(0x127)]),process[_0x4d32c7(0x14f)](0x1));!fs[_0x4d32c7(0x132)](_0xf51de7[_0x4d32c7(0x142)](getCredentialsPath))&&(logger['error'](_0xf51de7['SMdTo']),await _0xf51de7['yGVXn'](sendInstrumentationEvent,_0x443237,_0xf51de7[_0x4d32c7(0x15b)],messageTypes['ERROR'],_0xf51de7['FGMzc'],null,_0x443237),process['exit'](0x1));logger[_0x4d32c7(0x11d)](_0x4d32c7(0x137)+_0x443237[_0x4d32c7(0x119)]),await _0xf51de7[_0x4d32c7(0x136)](sendInstrumentationEvent,_0x443237,_0xf51de7[_0x4d32c7(0x15b)],messageTypes['INFO'],null,null,_0x443237);const _0x48a5e4=JSON[_0x4d32c7(0x158)](fs['readFileSync'](_0xf51de7[_0x4d32c7(0x142)](getCredentialsPath)));global_registry[_0x4d32c7(0x128)]=_0x48a5e4['Browserstack'][_0x4d32c7(0x14c)],global_registry[_0x4d32c7(0x13b)]=_0x48a5e4[_0x4d32c7(0x151)][_0x4d32c7(0x135)];const _0x11aa70=WS_ENDPOINT['replace'](_0xf51de7[_0x4d32c7(0x156)],_0x48a5e4[_0x4d32c7(0x151)][_0x4d32c7(0x14c)])[_0x4d32c7(0x164)](_0xf51de7[_0x4d32c7(0x118)],_0x48a5e4[_0x4d32c7(0x151)][_0x4d32c7(0x135)]),_0x4dce1d={};_0x4dce1d[_0x4d32c7(0x15c)]=ws,_0x4dce1d[_0x4d32c7(0x11c)]=0x36ee80,_0x290097=new ReconnectingWebSocket(_0x11aa70,[],_0x4dce1d),logger[_0x4d32c7(0x139)](_0xf51de7[_0x4d32c7(0x144)]),webSocketUtils['addListeners'](_0x290097,_0x443237[_0x4d32c7(0x14b)],_0x443237[_0x4d32c7(0x135)]);const [_0x45aa5f,_0x4ddf5d]=await _0xf51de7[_0x4d32c7(0x114)](getGridDetails,_0x48a5e4[_0x4d32c7(0x151)][_0x4d32c7(0x14c)],_0x48a5e4['Browserstack'][_0x4d32c7(0x135)],_0x443237['gridId']);if(_0x4ddf5d){const _0x9fd887=_0x4ddf5d['info'];global_registry[_0x4d32c7(0x159)]=_0x9fd887['cloudProvider'],global_registry[_0x4d32c7(0x15d)]=_0x9fd887[_0x4d32c7(0x153)],global_registry[_0x4d32c7(0x152)]=_0x9fd887['clusterName'];const _0x3f9f31=await _0xf51de7[_0x4d32c7(0x113)](getCloudProviderObject,_0x9fd887[_0x4d32c7(0x159)],_0x9fd887[_0x4d32c7(0x152)],_0x9fd887[_0x4d32c7(0x148)],_0x290097,webSocketUtils,_0x443237),[_0x12c16e,_0x58bc51,_0xb848f6,_0x4d969a,_0x442d18,_0x5e7096]=await _0xf51de7[_0x4d32c7(0x116)](createK8sClient,_0x3f9f31,_0x443237[_0x4d32c7(0x122)]);await _0xf51de7[_0x4d32c7(0x116)](scaleUpHubDeployment,_0x58bc51,_0x9fd887['name']),logger[_0x4d32c7(0x11d)](_0xf51de7['RjQBF']),process['exit'](0x0);}_0xf51de7[_0x4d32c7(0x145)](_0x45aa5f[_0x4d32c7(0x14e)],0x191)&&(logger[_0x4d32c7(0x131)](_0xf51de7['jmzlm']),await _0xf51de7[_0x4d32c7(0x113)](sendInstrumentationEvent,_0x443237,_0xf51de7[_0x4d32c7(0x15b)],messageTypes['ERROR'],_0xf51de7[_0x4d32c7(0x147)],null,_0x443237),process[_0x4d32c7(0x14f)](0x1)),_0xf51de7[_0x4d32c7(0x115)](_0x45aa5f[_0x4d32c7(0x14e)],0x190)&&(logger[_0x4d32c7(0x131)](JSON[_0x4d32c7(0x158)](_0x45aa5f[_0x4d32c7(0x149)])[_0x4d32c7(0x130)]),await _0xf51de7[_0x4d32c7(0x113)](sendInstrumentationEvent,_0x443237,_0xf51de7['ZORKr'],messageTypes[_0x4d32c7(0x121)],_0xf51de7['oVXlV'],null,_0x443237),process[_0x4d32c7(0x14f)](0x1)),logger[_0x4d32c7(0x131)](_0x4d32c7(0x13e)+JSON[_0x4d32c7(0x11b)](_0x45aa5f)),await _0xf51de7[_0x4d32c7(0x141)](sendInstrumentationEvent,_0x443237,_0xf51de7[_0x4d32c7(0x15b)],messageTypes['ERROR'],_0xf51de7[_0x4d32c7(0x13a)],_0x45aa5f,_0x443237),process['exit'](0x1);}catch(_0xd63550){const _0x48f6b9='Unable\x20to\x20start\x20the\x20Grid!\x20Error:\x20'+_0xd63550+'\x20\x0a'+JSON[_0x4d32c7(0x11b)](_0xd63550[_0x4d32c7(0x155)])+'\x20';logger['error'](_0x48f6b9),process[_0x4d32c7(0x14f)](0x1);}};function a19_0x49c6(){const _0x31902b=['connectionTimeout','info','start-grid-called','../../utils/utilityMethods','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20start','ERROR','skipTlsCertVerify','handler','grid-id','desc','kQbGV','RjxJY','bstackUsername','invalid-grid-id','1349308jSTqGi','grid','unauthorised','517452PwNRQl','904560xPoUHL','../../utils/instrumentationUtils','message','error','existsSync','../../utils/createk8sClient','reconnecting-websocket','password','yGVXn','Starting\x20grid\x20','options','debug','hyLGu','bstackAccesskey','type','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','XrWxN','406MjOElh','JvlUz','FtMcR','boolean','iKueb','hkXlV','help','QBuCc','name','body','../../config/constants','user','username','../../cloudproviders/utils','statusCode','exit','1499532VynlaA','Browserstack','clusterName','region','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','stack','TNDZl','../../utils/gridComponents','parse','cloudProvider','<PasswordPlaceholder>','ZORKr','WebSocket','clusterRegion','description','default','177810jOQaJG','pLDFi','kbAZj','1031970oeARrh','replace','50192dEwBVK','start','MlEqW','PgDGS','mMjPg','PTCHg','../../config/logger','fcylp','gridId','LxjxE','stringify'];a19_0x49c6=function(){return _0x31902b;};return a19_0x49c6();}