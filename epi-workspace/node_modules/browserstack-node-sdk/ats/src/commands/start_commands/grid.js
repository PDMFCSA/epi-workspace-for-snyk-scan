const a19_0x11cada=a19_0x5ba4;function a19_0x5ba4(_0x256251,_0x1bcd21){const _0x2d34cb=a19_0x2d34();return a19_0x5ba4=function(_0x5ba414,_0xc23103){_0x5ba414=_0x5ba414-0x1e1;let _0x4912dd=_0x2d34cb[_0x5ba414];return _0x4912dd;},a19_0x5ba4(_0x256251,_0x1bcd21);}(function(_0x5d5c0d,_0x5eddd2){const _0x1dab88=a19_0x5ba4,_0x460b19=_0x5d5c0d();while(!![]){try{const _0x356c3e=-parseInt(_0x1dab88(0x1fa))/0x1*(parseInt(_0x1dab88(0x1f6))/0x2)+parseInt(_0x1dab88(0x231))/0x3*(-parseInt(_0x1dab88(0x1e5))/0x4)+-parseInt(_0x1dab88(0x235))/0x5*(parseInt(_0x1dab88(0x1e1))/0x6)+parseInt(_0x1dab88(0x1ee))/0x7+parseInt(_0x1dab88(0x205))/0x8*(parseInt(_0x1dab88(0x213))/0x9)+parseInt(_0x1dab88(0x204))/0xa+-parseInt(_0x1dab88(0x209))/0xb*(-parseInt(_0x1dab88(0x21a))/0xc);if(_0x356c3e===_0x5eddd2)break;else _0x460b19['push'](_0x460b19['shift']());}catch(_0x13be9d){_0x460b19['push'](_0x460b19['shift']());}}}(a19_0x2d34,0xacb1d));const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require('reconnecting-websocket'),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a19_0x11cada(0x236)),{logger}=require(a19_0x11cada(0x226)),{getCredentialsPath,getGridDetails}=require('../../utils/utilityMethods'),{scaleUpHubDeployment}=require(a19_0x11cada(0x1fd)),{sendInstrumentationEvent}=require(a19_0x11cada(0x21e)),webSocketUtils=require(a19_0x11cada(0x1e3)),{createK8sClient}=require(a19_0x11cada(0x227)),{getCloudProviderObject}=require(a19_0x11cada(0x1e4));function a19_0x2d34(){const _0x10b8d8=['lCbFE','Adding\x20Websocket\x20listeners','skip-tls-cert-verify','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','26KuKayY','unauthorised','JzwTk','clusterRegion','28411JiTGpU','argv','type','../../utils/gridComponents','server-error','builder','Browserstack','WebSocket','HOKaW','init-not-called','9905270ryaznm','1768WESfAa','clusterName','start','epilogue','11eOdYrp','Skip\x20insecure\x20cert\x20verification.','gridId','connectionTimeout','parse','string','help','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','cloudProvider','aMLvq','18279vebJBo','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','INFO','OwCBv','replace','info','iIHmN','3529716uAsAOE','wPKRN','name','addListeners','../../utils/instrumentationUtils','password','DcwaL','IJbpL','options','invalid-grid-id','KDToF','usage','../../config/logger','../../utils/createk8sClient','VyIOY','statusCode','MWkgo','readFileSync','default','rYCWd','description','username','bstackAccesskey','3305157ZiVTBK','ERROR','HIQjS','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20start','15855DWwHIn','../../config/constants','handler','YTQvY','devRc','exit','1314VnCOJL','pMCBT','../../utils/webSocketUtils','../../cloudproviders/utils','4WUlvLm','error','desc','Pass\x20the\x20ID\x20of\x20the\x20existing\x20Automation\x20grid\x20you\x20want\x20to\x20start.','stack','gGwKj','start-grid-called','stringify','existsSync','7975429WhsPtk','skipTlsCertVerify','grid','xDZCQ'];a19_0x2d34=function(){return _0x10b8d8;};return a19_0x2d34();}exports['command']=a19_0x11cada(0x1f0),exports[a19_0x11cada(0x1e7)]='Start\x20an\x20existing\x20Automation\x20grid.',exports[a19_0x11cada(0x1ff)]=function(_0x31bfb0){const _0x4d9501=a19_0x11cada,_0x4a3632={};_0x4a3632['AcJUd']=_0x4d9501(0x1e8),_0x4a3632[_0x4d9501(0x1ea)]=_0x4d9501(0x20e),_0x4a3632[_0x4d9501(0x233)]=_0x4d9501(0x20a),_0x4a3632[_0x4d9501(0x1f2)]='boolean',_0x4a3632[_0x4d9501(0x216)]=_0x4d9501(0x20f);const _0x18ab0c=_0x4a3632,_0xc52d21={};_0xc52d21[_0x4d9501(0x22e)]=_0x18ab0c['AcJUd'],_0xc52d21[_0x4d9501(0x1fc)]=_0x18ab0c[_0x4d9501(0x1ea)];const _0xa063c4={};_0xa063c4[_0x4d9501(0x22e)]=_0x18ab0c['HIQjS'],_0xa063c4[_0x4d9501(0x1fc)]=_0x18ab0c[_0x4d9501(0x1f2)],_0xa063c4[_0x4d9501(0x22c)]=![];const _0x14c30b={};return _0x14c30b['grid-id']=_0xc52d21,_0x14c30b[_0x4d9501(0x1f4)]=_0xa063c4,_0x31bfb0[_0x4d9501(0x225)](HELP_HEADER_MESSAGE[_0x4d9501(0x207)])[_0x4d9501(0x208)](HELP_FOOTER_MESSAGE)[_0x4d9501(0x222)](_0x14c30b)['help'](_0x18ab0c[_0x4d9501(0x216)])[_0x4d9501(0x1fb)];},exports[a19_0x11cada(0x237)]=async function(_0x39dda1){const _0x28b24a=a19_0x11cada,_0x3a7832={'PwgTn':_0x28b24a(0x234),'wPKRN':function(_0x5c18b9){return _0x5c18b9();},'BLUfd':_0x28b24a(0x210),'VyIOY':function(_0x57c8e6,_0x32914a,_0x242afe,_0x145d48,_0x373da8,_0x7f2015,_0x4b13ea){return _0x57c8e6(_0x32914a,_0x242afe,_0x145d48,_0x373da8,_0x7f2015,_0x4b13ea);},'MWkgo':_0x28b24a(0x1eb),'DcwaL':_0x28b24a(0x203),'xDZCQ':function(_0xceed25,_0x19ff7d,_0x1402af,_0x59d0e0,_0x50ede6,_0x25d839,_0x11188a){return _0xceed25(_0x19ff7d,_0x1402af,_0x59d0e0,_0x50ede6,_0x25d839,_0x11188a);},'rYCWd':function(_0x42e03f){return _0x42e03f();},'KDToF':'<UsernamePlaceholder>','IJbpL':'<PasswordPlaceholder>','JzwTk':_0x28b24a(0x1f3),'fuDGx':function(_0x5e0eb5,_0x40c09b,_0x6aee05,_0x2354ae){return _0x5e0eb5(_0x40c09b,_0x6aee05,_0x2354ae);},'devRc':function(_0x24e613,_0x58ac4b,_0x3e91d6){return _0x24e613(_0x58ac4b,_0x3e91d6);},'aMLvq':function(_0x3a4a1d,_0x4b55ce,_0x1d819e){return _0x3a4a1d(_0x4b55ce,_0x1d819e);},'gRRxX':'Grid\x20started','HOKaW':function(_0x4101c2,_0x45937d){return _0x4101c2===_0x45937d;},'iIHmN':_0x28b24a(0x1f5),'YTQvY':_0x28b24a(0x1f7),'WtiIo':function(_0x44968f,_0x31b2e2){return _0x44968f===_0x31b2e2;},'pMCBT':_0x28b24a(0x223),'YmolX':_0x28b24a(0x1fe)};let _0x5a05ce;try{!_0x39dda1[_0x28b24a(0x20b)]&&(logger[_0x28b24a(0x1e6)](_0x3a7832['PwgTn']),process['exit'](0x1));!fs[_0x28b24a(0x1ed)](_0x3a7832[_0x28b24a(0x21b)](getCredentialsPath))&&(logger[_0x28b24a(0x1e6)](_0x3a7832['BLUfd']),await _0x3a7832[_0x28b24a(0x228)](sendInstrumentationEvent,_0x39dda1,_0x3a7832[_0x28b24a(0x22a)],messageTypes[_0x28b24a(0x232)],_0x3a7832[_0x28b24a(0x220)],null,_0x39dda1),process[_0x28b24a(0x23a)](0x1));logger[_0x28b24a(0x218)]('Starting\x20grid\x20'+_0x39dda1[_0x28b24a(0x20b)]),await _0x3a7832[_0x28b24a(0x1f1)](sendInstrumentationEvent,_0x39dda1,_0x3a7832[_0x28b24a(0x22a)],messageTypes[_0x28b24a(0x215)],null,null,_0x39dda1);const _0x361993=JSON[_0x28b24a(0x20d)](fs[_0x28b24a(0x22b)](_0x3a7832[_0x28b24a(0x22d)](getCredentialsPath)));global_registry['bstackUsername']=_0x361993['Browserstack']['username'],global_registry[_0x28b24a(0x230)]=_0x361993['Browserstack'][_0x28b24a(0x21f)];const _0x6feedb=WS_ENDPOINT[_0x28b24a(0x217)](_0x3a7832[_0x28b24a(0x224)],_0x361993[_0x28b24a(0x200)][_0x28b24a(0x22f)])[_0x28b24a(0x217)](_0x3a7832[_0x28b24a(0x221)],_0x361993[_0x28b24a(0x200)][_0x28b24a(0x21f)]),_0x5e26c1={};_0x5e26c1[_0x28b24a(0x201)]=ws,_0x5e26c1[_0x28b24a(0x20c)]=0x36ee80,_0x5a05ce=new ReconnectingWebSocket(_0x6feedb,[],_0x5e26c1),logger['debug'](_0x3a7832[_0x28b24a(0x1f8)]),webSocketUtils[_0x28b24a(0x21d)](_0x5a05ce,_0x39dda1['user'],_0x39dda1[_0x28b24a(0x21f)]);const [_0x13307b,_0x2cd481]=await _0x3a7832['fuDGx'](getGridDetails,_0x361993[_0x28b24a(0x200)][_0x28b24a(0x22f)],_0x361993[_0x28b24a(0x200)][_0x28b24a(0x21f)],_0x39dda1[_0x28b24a(0x20b)]);if(_0x2cd481){const _0x23ff54=_0x2cd481[_0x28b24a(0x218)];global_registry[_0x28b24a(0x211)]=_0x23ff54['cloudProvider'],global_registry[_0x28b24a(0x1f9)]=_0x23ff54['region'],global_registry[_0x28b24a(0x206)]=_0x23ff54[_0x28b24a(0x206)];const _0x1db983=await _0x3a7832['xDZCQ'](getCloudProviderObject,_0x23ff54[_0x28b24a(0x211)],_0x23ff54[_0x28b24a(0x206)],_0x23ff54[_0x28b24a(0x21c)],_0x5a05ce,webSocketUtils,_0x39dda1),[_0x337f76,_0x4cd9f5,_0x5f09fe,_0x314f5e,_0x4286a3,_0x14c7ac]=await _0x3a7832[_0x28b24a(0x239)](createK8sClient,_0x1db983,_0x39dda1[_0x28b24a(0x1ef)]);await _0x3a7832[_0x28b24a(0x212)](scaleUpHubDeployment,_0x4cd9f5,_0x23ff54['name']),logger[_0x28b24a(0x218)](_0x3a7832['gRRxX']),process[_0x28b24a(0x23a)](0x0);}_0x3a7832[_0x28b24a(0x202)](_0x13307b[_0x28b24a(0x229)],0x191)&&(logger[_0x28b24a(0x1e6)](_0x3a7832[_0x28b24a(0x219)]),await _0x3a7832['VyIOY'](sendInstrumentationEvent,_0x39dda1,_0x3a7832['MWkgo'],messageTypes[_0x28b24a(0x232)],_0x3a7832[_0x28b24a(0x238)],null,_0x39dda1),process[_0x28b24a(0x23a)](0x1)),_0x3a7832['WtiIo'](_0x13307b[_0x28b24a(0x229)],0x190)&&(logger['error'](JSON['parse'](_0x13307b['body'])['message']),await _0x3a7832[_0x28b24a(0x228)](sendInstrumentationEvent,_0x39dda1,_0x3a7832[_0x28b24a(0x22a)],messageTypes[_0x28b24a(0x232)],_0x3a7832[_0x28b24a(0x1e2)],null,_0x39dda1),process[_0x28b24a(0x23a)](0x1)),logger[_0x28b24a(0x1e6)](_0x28b24a(0x214)+JSON[_0x28b24a(0x1ec)](_0x13307b)),await _0x3a7832[_0x28b24a(0x228)](sendInstrumentationEvent,_0x39dda1,_0x3a7832[_0x28b24a(0x22a)],messageTypes[_0x28b24a(0x232)],_0x3a7832['YmolX'],_0x13307b,_0x39dda1),process[_0x28b24a(0x23a)](0x1);}catch(_0x2076f0){const _0x1b7706='Unable\x20to\x20start\x20the\x20Grid!\x20Error:\x20'+_0x2076f0+'\x20\x0a'+JSON['stringify'](_0x2076f0[_0x28b24a(0x1e9)])+'\x20';logger[_0x28b24a(0x1e6)](_0x1b7706),process[_0x28b24a(0x23a)](0x1);}};