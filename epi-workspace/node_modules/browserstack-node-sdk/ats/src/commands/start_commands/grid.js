const a19_0x20c2f2=a19_0x16d5;function a19_0x16d5(_0x3aaa5e,_0x30c04f){const _0x23128e=a19_0x2312();return a19_0x16d5=function(_0x16d559,_0xa38d11){_0x16d559=_0x16d559-0xd5;let _0x9696fa=_0x23128e[_0x16d559];return _0x9696fa;},a19_0x16d5(_0x3aaa5e,_0x30c04f);}function a19_0x2312(){const _0x3a05ed=['start-grid-called','wCnJr','replace','error','1255135dkLtsT','Browserstack','AMiZe','brZeV','cloudProvider','../../utils/gridComponents','NAERk','../../utils/utilityMethods','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20start','handler','NEHPz','skip-tls-cert-verify','nEjuN','794352lCPEZp','name','parse','clusterName','<UsernamePlaceholder>','default','../../config/logger','desc','usage','cyovw','bstackUsername','stringify','Pass\x20the\x20ID\x20of\x20the\x20existing\x20Automation\x20grid\x20you\x20want\x20to\x20start.','clusterRegion','5uFKtDd','statusCode','159gziGgd','Unable\x20to\x20start\x20the\x20Grid!\x20Error:\x20','ERROR','TnPtd','wTdbJ','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','11UKMmRM','6164076AkcAxO','eorTf','VJNLK','hVYmi','password','addListeners','1356664QGmOKL','existsSync','exit','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','639970AcaLVW','../../utils/instrumentationUtils','../../utils/webSocketUtils','tkLVx','info','start','unauthorised','qxjYs','bQNXg','1031oseAyF','invalid-grid-id','username','help','190wAXtEh','reconnecting-websocket','Start\x20an\x20existing\x20Automation\x20grid.','SQawo','server-error','gridId','aebTT','bstackAccesskey','readFileSync','grid','epilogue','string','skipTlsCertVerify','INFO','command','message','JSguy','grid-id','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','HwEZY','connectionTimeout','init-not-called','KVGMt','region','boolean','type','27qJzeux','2996xcEDJD','description','<PasswordPlaceholder>','Grid\x20started','rHpnC'];a19_0x2312=function(){return _0x3a05ed;};return a19_0x2312();}(function(_0x1bbf69,_0x8724f9){const _0x467c6a=a19_0x16d5,_0x20edf5=_0x1bbf69();while(!![]){try{const _0x3380cd=-parseInt(_0x467c6a(0xef))/0x1*(parseInt(_0x467c6a(0xf3))/0x2)+parseInt(_0x467c6a(0xd5))/0x3*(parseInt(_0x467c6a(0x10e))/0x4)+-parseInt(_0x467c6a(0x132))/0x5*(parseInt(_0x467c6a(0x124))/0x6)+-parseInt(_0x467c6a(0x117))/0x7+parseInt(_0x467c6a(0xe2))/0x8+-parseInt(_0x467c6a(0x10d))/0x9*(parseInt(_0x467c6a(0xe6))/0xa)+parseInt(_0x467c6a(0xdb))/0xb*(parseInt(_0x467c6a(0xdc))/0xc);if(_0x3380cd===_0x8724f9)break;else _0x20edf5['push'](_0x20edf5['shift']());}catch(_0x5504f2){_0x20edf5['push'](_0x20edf5['shift']());}}}(a19_0x2312,0x1d9e8));const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require(a19_0x20c2f2(0xf4)),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require('../../config/constants'),{logger}=require(a19_0x20c2f2(0x12a)),{getCredentialsPath,getGridDetails}=require(a19_0x20c2f2(0x11e)),{scaleUpHubDeployment}=require(a19_0x20c2f2(0x11c)),{sendInstrumentationEvent}=require(a19_0x20c2f2(0xe7)),webSocketUtils=require(a19_0x20c2f2(0xe8)),{createK8sClient}=require('../../utils/createk8sClient'),{getCloudProviderObject}=require('../../cloudproviders/utils');exports[a19_0x20c2f2(0x101)]=a19_0x20c2f2(0xfc),exports[a19_0x20c2f2(0x12b)]=a19_0x20c2f2(0xf5),exports['builder']=function(_0x18017a){const _0x3b3266=a19_0x20c2f2,_0x16a48e={};_0x16a48e[_0x3b3266(0x12d)]=_0x3b3266(0x130),_0x16a48e['aebTT']=_0x3b3266(0xfe),_0x16a48e[_0x3b3266(0x103)]='Skip\x20insecure\x20cert\x20verification.',_0x16a48e[_0x3b3266(0x112)]=_0x3b3266(0x10b),_0x16a48e[_0x3b3266(0xdd)]=_0x3b3266(0xf2);const _0x27a1cb=_0x16a48e,_0x4dd921={};_0x4dd921['description']=_0x27a1cb[_0x3b3266(0x12d)],_0x4dd921['type']=_0x27a1cb[_0x3b3266(0xf9)];const _0x3af6b7={};_0x3af6b7[_0x3b3266(0x10f)]=_0x27a1cb[_0x3b3266(0x103)],_0x3af6b7[_0x3b3266(0x10c)]=_0x27a1cb[_0x3b3266(0x112)],_0x3af6b7[_0x3b3266(0x129)]=![];const _0x3a231e={};return _0x3a231e[_0x3b3266(0x104)]=_0x4dd921,_0x3a231e[_0x3b3266(0x122)]=_0x3af6b7,_0x18017a[_0x3b3266(0x12c)](HELP_HEADER_MESSAGE[_0x3b3266(0xeb)])[_0x3b3266(0xfd)](HELP_FOOTER_MESSAGE)['options'](_0x3a231e)[_0x3b3266(0xf2)](_0x27a1cb[_0x3b3266(0xdd)])['argv'];},exports[a19_0x20c2f2(0x120)]=async function(_0x6222b2){const _0x79f173=a19_0x20c2f2,_0x1348bc={'GHtAC':_0x79f173(0x11f),'nEjuN':function(_0x4a3526){return _0x4a3526();},'VJNLK':_0x79f173(0x105),'NEHPz':function(_0x3cc4fd,_0x2d89ce,_0x3420df,_0x243c1c,_0x1c5493,_0x52ad17,_0x3d1b45){return _0x3cc4fd(_0x2d89ce,_0x3420df,_0x243c1c,_0x1c5493,_0x52ad17,_0x3d1b45);},'AMiZe':_0x79f173(0x113),'hVYmi':_0x79f173(0x108),'brZeV':function(_0x4e84a1,_0x280683,_0x4368cc,_0x59426b,_0x4dc8a4,_0x598b13,_0x1321d7){return _0x4e84a1(_0x280683,_0x4368cc,_0x59426b,_0x4dc8a4,_0x598b13,_0x1321d7);},'KsrcC':function(_0x194954){return _0x194954();},'PMISK':_0x79f173(0x128),'wCnJr':_0x79f173(0x110),'IPMhF':'Adding\x20Websocket\x20listeners','SQawo':function(_0x179398,_0x14b718,_0x5124d6,_0x54057f){return _0x179398(_0x14b718,_0x5124d6,_0x54057f);},'TnPtd':function(_0xec6e19,_0xb8a203,_0x292d85){return _0xec6e19(_0xb8a203,_0x292d85);},'bQNXg':function(_0x322f85,_0x32839e,_0x56daf3){return _0x322f85(_0x32839e,_0x56daf3);},'KVGMt':_0x79f173(0x111),'tkLVx':function(_0x313c7a,_0x1be44f){return _0x313c7a===_0x1be44f;},'HwEZY':_0x79f173(0xe5),'tmuGt':_0x79f173(0xec),'YFfFr':function(_0x34f0ac,_0x43c56d){return _0x34f0ac===_0x43c56d;},'jLKAn':function(_0x265a1c,_0x863a72,_0x1d5ed8,_0x39141a,_0x1b6019,_0x2eb473,_0x4d3024){return _0x265a1c(_0x863a72,_0x1d5ed8,_0x39141a,_0x1b6019,_0x2eb473,_0x4d3024);},'qxjYs':_0x79f173(0xf0),'NAERk':function(_0x4b126f,_0x5c5d8d,_0x481da2,_0x447666,_0x369ee2,_0x20bfe9,_0xabbc10){return _0x4b126f(_0x5c5d8d,_0x481da2,_0x447666,_0x369ee2,_0x20bfe9,_0xabbc10);},'wTdbJ':_0x79f173(0xf7)};let _0x1627b7;try{!_0x6222b2[_0x79f173(0xf8)]&&(logger['error'](_0x1348bc['GHtAC']),process['exit'](0x1));!fs[_0x79f173(0xe3)](_0x1348bc[_0x79f173(0x123)](getCredentialsPath))&&(logger[_0x79f173(0x116)](_0x1348bc[_0x79f173(0xde)]),await _0x1348bc[_0x79f173(0x121)](sendInstrumentationEvent,_0x6222b2,_0x1348bc[_0x79f173(0x119)],messageTypes[_0x79f173(0xd7)],_0x1348bc[_0x79f173(0xdf)],null,_0x6222b2),process[_0x79f173(0xe4)](0x1));logger[_0x79f173(0xea)]('Starting\x20grid\x20'+_0x6222b2['gridId']),await _0x1348bc['brZeV'](sendInstrumentationEvent,_0x6222b2,_0x1348bc[_0x79f173(0x119)],messageTypes[_0x79f173(0x100)],null,null,_0x6222b2);const _0x371c9a=JSON[_0x79f173(0x126)](fs[_0x79f173(0xfb)](_0x1348bc['KsrcC'](getCredentialsPath)));global_registry[_0x79f173(0x12e)]=_0x371c9a['Browserstack'][_0x79f173(0xf1)],global_registry[_0x79f173(0xfa)]=_0x371c9a[_0x79f173(0x118)]['password'];const _0x2031bb=WS_ENDPOINT[_0x79f173(0x115)](_0x1348bc['PMISK'],_0x371c9a[_0x79f173(0x118)]['username'])[_0x79f173(0x115)](_0x1348bc[_0x79f173(0x114)],_0x371c9a['Browserstack'][_0x79f173(0xe0)]),_0x2d108a={};_0x2d108a['WebSocket']=ws,_0x2d108a[_0x79f173(0x107)]=0x36ee80,_0x1627b7=new ReconnectingWebSocket(_0x2031bb,[],_0x2d108a),logger['debug'](_0x1348bc['IPMhF']),webSocketUtils[_0x79f173(0xe1)](_0x1627b7,_0x6222b2['user'],_0x6222b2[_0x79f173(0xe0)]);const [_0x59c914,_0x1d2f55]=await _0x1348bc[_0x79f173(0xf6)](getGridDetails,_0x371c9a[_0x79f173(0x118)][_0x79f173(0xf1)],_0x371c9a['Browserstack'][_0x79f173(0xe0)],_0x6222b2[_0x79f173(0xf8)]);if(_0x1d2f55){const _0x4add88=_0x1d2f55[_0x79f173(0xea)];global_registry[_0x79f173(0x11b)]=_0x4add88[_0x79f173(0x11b)],global_registry[_0x79f173(0x131)]=_0x4add88[_0x79f173(0x10a)],global_registry[_0x79f173(0x127)]=_0x4add88[_0x79f173(0x127)];const _0x50aa37=await _0x1348bc[_0x79f173(0x11a)](getCloudProviderObject,_0x4add88[_0x79f173(0x11b)],_0x4add88[_0x79f173(0x127)],_0x4add88[_0x79f173(0x125)],_0x1627b7,webSocketUtils,_0x6222b2),[_0x605892,_0x466ea8,_0x18ebf2,_0x4c1c6d,_0x12556c,_0x2e5f57]=await _0x1348bc[_0x79f173(0xd8)](createK8sClient,_0x50aa37,_0x6222b2[_0x79f173(0xff)]);await _0x1348bc[_0x79f173(0xee)](scaleUpHubDeployment,_0x466ea8,_0x4add88['name']),logger[_0x79f173(0xea)](_0x1348bc[_0x79f173(0x109)]),process['exit'](0x0);}_0x1348bc[_0x79f173(0xe9)](_0x59c914['statusCode'],0x191)&&(logger[_0x79f173(0x116)](_0x1348bc[_0x79f173(0x106)]),await _0x1348bc[_0x79f173(0x11a)](sendInstrumentationEvent,_0x6222b2,_0x1348bc['AMiZe'],messageTypes[_0x79f173(0xd7)],_0x1348bc['tmuGt'],null,_0x6222b2),process['exit'](0x1)),_0x1348bc['YFfFr'](_0x59c914[_0x79f173(0x133)],0x190)&&(logger[_0x79f173(0x116)](JSON['parse'](_0x59c914['body'])[_0x79f173(0x102)]),await _0x1348bc['jLKAn'](sendInstrumentationEvent,_0x6222b2,_0x1348bc[_0x79f173(0x119)],messageTypes['ERROR'],_0x1348bc[_0x79f173(0xed)],null,_0x6222b2),process[_0x79f173(0xe4)](0x1)),logger[_0x79f173(0x116)](_0x79f173(0xda)+JSON[_0x79f173(0x12f)](_0x59c914)),await _0x1348bc[_0x79f173(0x11d)](sendInstrumentationEvent,_0x6222b2,_0x1348bc[_0x79f173(0x119)],messageTypes[_0x79f173(0xd7)],_0x1348bc[_0x79f173(0xd9)],_0x59c914,_0x6222b2),process['exit'](0x1);}catch(_0x54b429){const _0x25202e=_0x79f173(0xd6)+_0x54b429+'\x20\x0a'+JSON[_0x79f173(0x12f)](_0x54b429['stack'])+'\x20';logger[_0x79f173(0x116)](_0x25202e),process[_0x79f173(0xe4)](0x1);}};