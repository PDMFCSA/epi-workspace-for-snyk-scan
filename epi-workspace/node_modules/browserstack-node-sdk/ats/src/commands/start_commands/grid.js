const a19_0x15868b=a19_0x4893;(function(_0x4a9c05,_0x57ef07){const _0x420599=a19_0x4893,_0x1cc962=_0x4a9c05();while(!![]){try{const _0x1bebb8=-parseInt(_0x420599(0x1c8))/0x1*(parseInt(_0x420599(0x1cc))/0x2)+-parseInt(_0x420599(0x1f8))/0x3*(parseInt(_0x420599(0x1e5))/0x4)+parseInt(_0x420599(0x208))/0x5*(parseInt(_0x420599(0x21e))/0x6)+-parseInt(_0x420599(0x1c5))/0x7*(-parseInt(_0x420599(0x1f4))/0x8)+parseInt(_0x420599(0x1e6))/0x9+parseInt(_0x420599(0x206))/0xa+-parseInt(_0x420599(0x216))/0xb;if(_0x1bebb8===_0x57ef07)break;else _0x1cc962['push'](_0x1cc962['shift']());}catch(_0x4fb964){_0x1cc962['push'](_0x1cc962['shift']());}}}(a19_0x31d3,0x464fc));function a19_0x31d3(){const _0x13d69f=['WebSocket','OKGeN','builder','debug','info','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20start','1470LxeIBy','Skip\x20insecure\x20cert\x20verification.','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','clusterRegion','../../utils/utilityMethods','../../utils/webSocketUtils','<UsernamePlaceholder>','3536792DQJZAX','../../config/constants','cloudProvider','5UgQZNu','skipTlsCertVerify','bstackUsername','NDHfO','186170NIDzMw','epilogue','handler','UUryd','Rmmrk','addListeners','username','string','user','exit','name','YSUvb','grid-id','gridId','clusterName','server-error','Grid\x20started','unauthorised','stringify','parse','syYTU','start-grid-called','default','GTCxt','../../cloudproviders/utils','4396GvkaeW','106632kwVffO','Start\x20an\x20existing\x20Automation\x20grid.','reconnecting-websocket','MHCvx','connectionTimeout','region','existsSync','statusCode','replace','stack','Tqyha','HUTlP','bstackAccesskey','ERROR','8yrbMnn','wMrxr','Pass\x20the\x20ID\x20of\x20the\x20existing\x20Automation\x20grid\x20you\x20want\x20to\x20start.','lrJIK','870ixKcAl','desc','options','wUmYD','description','gdYhi','error','../../config/logger','ZeIcL','help','nrQFH','invalid-grid-id','idtJH','prAzX','3855880PMvzRs','boolean','6460QTtMGw','grid','Browserstack','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','QnEit','type','password','../../utils/createk8sClient','../../utils/gridComponents','message','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','body','kyqYE','INFO','1618111xUTioO','EgLOR'];a19_0x31d3=function(){return _0x13d69f;};return a19_0x31d3();}function a19_0x4893(_0x2540c8,_0x22fdf9){const _0x31d389=a19_0x31d3();return a19_0x4893=function(_0x489329,_0x593b14){_0x489329=_0x489329-0x1c3;let _0x10acf9=_0x31d389[_0x489329];return _0x10acf9;},a19_0x4893(_0x2540c8,_0x22fdf9);}const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require(a19_0x15868b(0x1e8)),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a19_0x15868b(0x1c6)),{logger}=require(a19_0x15868b(0x1ff)),{getCredentialsPath,getGridDetails}=require(a19_0x15868b(0x222)),{scaleUpHubDeployment}=require(a19_0x15868b(0x210)),{sendInstrumentationEvent}=require('../../utils/instrumentationUtils'),webSocketUtils=require(a19_0x15868b(0x1c3)),{createK8sClient}=require(a19_0x15868b(0x20f)),{getCloudProviderObject}=require(a19_0x15868b(0x1e4));exports['command']=a19_0x15868b(0x209),exports[a19_0x15868b(0x1f9)]=a19_0x15868b(0x1e7),exports[a19_0x15868b(0x21a)]=function(_0x598adc){const _0x31b976=a19_0x15868b,_0x4218db={};_0x4218db[_0x31b976(0x1fb)]=_0x31b976(0x1f6),_0x4218db[_0x31b976(0x1f1)]=_0x31b976(0x1d3),_0x4218db[_0x31b976(0x214)]=_0x31b976(0x21f),_0x4218db[_0x31b976(0x1cf)]=_0x31b976(0x207),_0x4218db[_0x31b976(0x1fd)]=_0x31b976(0x201);const _0x422b40=_0x4218db,_0x4dc104={};_0x4dc104['description']=_0x422b40['wUmYD'],_0x4dc104[_0x31b976(0x20d)]=_0x422b40[_0x31b976(0x1f1)];const _0xccee6b={};_0xccee6b[_0x31b976(0x1fc)]=_0x422b40[_0x31b976(0x214)],_0xccee6b[_0x31b976(0x20d)]=_0x422b40[_0x31b976(0x1cf)],_0xccee6b[_0x31b976(0x1e2)]=![];const _0xbaaf55={};return _0xbaaf55[_0x31b976(0x1d8)]=_0x4dc104,_0xbaaf55['skip-tls-cert-verify']=_0xccee6b,_0x598adc['usage'](HELP_HEADER_MESSAGE['start'])[_0x31b976(0x1cd)](HELP_FOOTER_MESSAGE)[_0x31b976(0x1fa)](_0xbaaf55)[_0x31b976(0x201)](_0x422b40[_0x31b976(0x1fd)])['argv'];},exports[a19_0x15868b(0x1ce)]=async function(_0x16c1c7){const _0x2cf1ec=a19_0x15868b,_0x7d637={'KWWCJ':_0x2cf1ec(0x21d),'YSUvb':function(_0x580593){return _0x580593();},'ZeIcL':_0x2cf1ec(0x212),'syYTU':function(_0x52c500,_0x693adc,_0x42e98c,_0x5a2711,_0x542e4f,_0x2c13ae,_0x34a692){return _0x52c500(_0x693adc,_0x42e98c,_0x5a2711,_0x542e4f,_0x2c13ae,_0x34a692);},'GTCxt':_0x2cf1ec(0x1e1),'MHCvx':'init-not-called','Tqyha':_0x2cf1ec(0x1c4),'QnEit':'<PasswordPlaceholder>','EgLOR':'Adding\x20Websocket\x20listeners','jFcKS':function(_0x2fefb3,_0x15c703,_0x20b77a,_0x4740e8){return _0x2fefb3(_0x15c703,_0x20b77a,_0x4740e8);},'fFvyy':function(_0x4c0436,_0x4cda55,_0x5502f5){return _0x4c0436(_0x4cda55,_0x5502f5);},'NDHfO':function(_0x3f8fb3,_0x567130,_0x23b252){return _0x3f8fb3(_0x567130,_0x23b252);},'wampQ':_0x2cf1ec(0x1dc),'nrQFH':function(_0x45a413,_0x40958d){return _0x45a413===_0x40958d;},'OKGeN':_0x2cf1ec(0x220),'prAzX':_0x2cf1ec(0x1dd),'idtJH':function(_0x12767f,_0x31bdef){return _0x12767f===_0x31bdef;},'lrJIK':function(_0x25592f,_0x1bdb36,_0x4d1852,_0x22f44b,_0x5444c1,_0x1ddf54,_0x1c706e){return _0x25592f(_0x1bdb36,_0x4d1852,_0x22f44b,_0x5444c1,_0x1ddf54,_0x1c706e);},'wMrxr':_0x2cf1ec(0x203),'Rmmrk':_0x2cf1ec(0x1db)};let _0x284217;try{!_0x16c1c7['gridId']&&(logger['error'](_0x7d637['KWWCJ']),process[_0x2cf1ec(0x1d5)](0x1));!fs[_0x2cf1ec(0x1ec)](_0x7d637[_0x2cf1ec(0x1d7)](getCredentialsPath))&&(logger[_0x2cf1ec(0x1fe)](_0x7d637[_0x2cf1ec(0x200)]),await _0x7d637[_0x2cf1ec(0x1e0)](sendInstrumentationEvent,_0x16c1c7,_0x7d637['GTCxt'],messageTypes['ERROR'],_0x7d637[_0x2cf1ec(0x1e9)],null,_0x16c1c7),process[_0x2cf1ec(0x1d5)](0x1));logger[_0x2cf1ec(0x21c)]('Starting\x20grid\x20'+_0x16c1c7['gridId']),await _0x7d637[_0x2cf1ec(0x1e0)](sendInstrumentationEvent,_0x16c1c7,_0x7d637['GTCxt'],messageTypes[_0x2cf1ec(0x215)],null,null,_0x16c1c7);const _0x2aae7c=JSON[_0x2cf1ec(0x1df)](fs['readFileSync'](_0x7d637[_0x2cf1ec(0x1d7)](getCredentialsPath)));global_registry[_0x2cf1ec(0x1ca)]=_0x2aae7c['Browserstack'][_0x2cf1ec(0x1d2)],global_registry[_0x2cf1ec(0x1f2)]=_0x2aae7c[_0x2cf1ec(0x20a)][_0x2cf1ec(0x20e)];const _0x2a2256=WS_ENDPOINT[_0x2cf1ec(0x1ee)](_0x7d637[_0x2cf1ec(0x1f0)],_0x2aae7c['Browserstack'][_0x2cf1ec(0x1d2)])[_0x2cf1ec(0x1ee)](_0x7d637[_0x2cf1ec(0x20c)],_0x2aae7c[_0x2cf1ec(0x20a)][_0x2cf1ec(0x20e)]),_0x439f7e={};_0x439f7e[_0x2cf1ec(0x218)]=ws,_0x439f7e[_0x2cf1ec(0x1ea)]=0x36ee80,_0x284217=new ReconnectingWebSocket(_0x2a2256,[],_0x439f7e),logger[_0x2cf1ec(0x21b)](_0x7d637[_0x2cf1ec(0x217)]),webSocketUtils[_0x2cf1ec(0x1d1)](_0x284217,_0x16c1c7[_0x2cf1ec(0x1d4)],_0x16c1c7[_0x2cf1ec(0x20e)]);const [_0x3df127,_0x4b9f5b]=await _0x7d637['jFcKS'](getGridDetails,_0x2aae7c[_0x2cf1ec(0x20a)][_0x2cf1ec(0x1d2)],_0x2aae7c['Browserstack'][_0x2cf1ec(0x20e)],_0x16c1c7[_0x2cf1ec(0x1d9)]);if(_0x4b9f5b){const _0x56f764=_0x4b9f5b[_0x2cf1ec(0x21c)];global_registry[_0x2cf1ec(0x1c7)]=_0x56f764[_0x2cf1ec(0x1c7)],global_registry[_0x2cf1ec(0x221)]=_0x56f764[_0x2cf1ec(0x1eb)],global_registry['clusterName']=_0x56f764[_0x2cf1ec(0x1da)];const _0x3c0938=await _0x7d637[_0x2cf1ec(0x1e0)](getCloudProviderObject,_0x56f764[_0x2cf1ec(0x1c7)],_0x56f764[_0x2cf1ec(0x1da)],_0x56f764[_0x2cf1ec(0x1d6)],_0x284217,webSocketUtils,_0x16c1c7),[_0x559386,_0x1318a7,_0x132a82,_0x135c2f,_0x5b8afc,_0x223eee]=await _0x7d637['fFvyy'](createK8sClient,_0x3c0938,_0x16c1c7[_0x2cf1ec(0x1c9)]);await _0x7d637[_0x2cf1ec(0x1cb)](scaleUpHubDeployment,_0x1318a7,_0x56f764['name']),logger[_0x2cf1ec(0x21c)](_0x7d637['wampQ']),process[_0x2cf1ec(0x1d5)](0x0);}_0x7d637[_0x2cf1ec(0x202)](_0x3df127[_0x2cf1ec(0x1ed)],0x191)&&(logger[_0x2cf1ec(0x1fe)](_0x7d637[_0x2cf1ec(0x219)]),await _0x7d637[_0x2cf1ec(0x1e0)](sendInstrumentationEvent,_0x16c1c7,_0x7d637[_0x2cf1ec(0x1e3)],messageTypes[_0x2cf1ec(0x1f3)],_0x7d637[_0x2cf1ec(0x205)],null,_0x16c1c7),process[_0x2cf1ec(0x1d5)](0x1)),_0x7d637[_0x2cf1ec(0x204)](_0x3df127[_0x2cf1ec(0x1ed)],0x190)&&(logger[_0x2cf1ec(0x1fe)](JSON['parse'](_0x3df127[_0x2cf1ec(0x213)])[_0x2cf1ec(0x211)]),await _0x7d637[_0x2cf1ec(0x1f7)](sendInstrumentationEvent,_0x16c1c7,_0x7d637[_0x2cf1ec(0x1e3)],messageTypes[_0x2cf1ec(0x1f3)],_0x7d637[_0x2cf1ec(0x1f5)],null,_0x16c1c7),process[_0x2cf1ec(0x1d5)](0x1)),logger[_0x2cf1ec(0x1fe)](_0x2cf1ec(0x20b)+JSON[_0x2cf1ec(0x1de)](_0x3df127)),await _0x7d637[_0x2cf1ec(0x1f7)](sendInstrumentationEvent,_0x16c1c7,_0x7d637[_0x2cf1ec(0x1e3)],messageTypes[_0x2cf1ec(0x1f3)],_0x7d637[_0x2cf1ec(0x1d0)],_0x3df127,_0x16c1c7),process[_0x2cf1ec(0x1d5)](0x1);}catch(_0x39a288){const _0x23997c='Unable\x20to\x20start\x20the\x20Grid!\x20Error:\x20'+_0x39a288+'\x20\x0a'+JSON[_0x2cf1ec(0x1de)](_0x39a288[_0x2cf1ec(0x1ef)])+'\x20';logger[_0x2cf1ec(0x1fe)](_0x23997c),process['exit'](0x1);}};