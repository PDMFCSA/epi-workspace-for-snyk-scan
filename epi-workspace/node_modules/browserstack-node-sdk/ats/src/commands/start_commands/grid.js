const a19_0x11b325=a19_0x4a6b;function a19_0xf745(){const _0x4b7488=['epilogue','ERROR','ZSfnw','QuiOT','WebSocket','../../utils/webSocketUtils','grid-id','rrvbw','cloudProvider','2029396yHjjYV','error','gridId','Grid\x20started','Unable\x20to\x20start\x20the\x20Grid!\x20Error:\x20','skipTlsCertVerify','eNHuN','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','1158223cBnImt','grid','reconnecting-websocket','../../config/logger','kblQL','../../utils/instrumentationUtils','2772kzjigz','invalid-grid-id','wKhpF','uGstU','statusCode','builder','Browserstack','description','replace','clusterName','../../utils/utilityMethods','ZxRKP','start','opVUO','Adding\x20Websocket\x20listeners','gjfbH','58998zIClcA','server-error','8960520IgUWaI','bstackAccesskey','clusterRegion','IqnqR','<PasswordPlaceholder>','XXKBy','help','type','WQsYM','3046844SYVttH','connectionTimeout','parse','debug','Starting\x20grid\x20','2097140HNVPbq','YabNZ','SgKRx','body','25624qOlDqp','username','REAmS','IFwYR','CnmaK','options','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','nKAsQ','unauthorised','Start\x20an\x20existing\x20Automation\x20grid.','handler','qKwom','name','exit','../../config/constants','string','xtHTD','usage','command','XxiHQ','password','stack','../../cloudproviders/utils','stringify','dyMFX','info','skip-tls-cert-verify','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20start','Pass\x20the\x20ID\x20of\x20the\x20existing\x20Automation\x20grid\x20you\x20want\x20to\x20start.'];a19_0xf745=function(){return _0x4b7488;};return a19_0xf745();}function a19_0x4a6b(_0x1fa8e4,_0xb186d){const _0xf745f3=a19_0xf745();return a19_0x4a6b=function(_0x4a6be3,_0x268203){_0x4a6be3=_0x4a6be3-0x1a7;let _0x1838cb=_0xf745f3[_0x4a6be3];return _0x1838cb;},a19_0x4a6b(_0x1fa8e4,_0xb186d);}(function(_0x48909d,_0x4e0fd6){const _0x42c323=a19_0x4a6b,_0x3e2e9e=_0x48909d();while(!![]){try{const _0x209186=-parseInt(_0x42c323(0x1fe))/0x1+-parseInt(_0x42c323(0x1c6))/0x2+-parseInt(_0x42c323(0x1bb))/0x3+parseInt(_0x42c323(0x1f6))/0x4+parseInt(_0x42c323(0x1cb))/0x5+parseInt(_0x42c323(0x1bd))/0x6+-parseInt(_0x42c323(0x1ab))/0x7*(-parseInt(_0x42c323(0x1cf))/0x8);if(_0x209186===_0x4e0fd6)break;else _0x3e2e9e['push'](_0x3e2e9e['shift']());}catch(_0x2abe76){_0x3e2e9e['push'](_0x3e2e9e['shift']());}}}(a19_0xf745,0xf108a));const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require(a19_0x11b325(0x1a7)),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a19_0x11b325(0x1dd)),{logger}=require(a19_0x11b325(0x1a8)),{getCredentialsPath,getGridDetails}=require(a19_0x11b325(0x1b5)),{scaleUpHubDeployment}=require('../../utils/gridComponents'),{sendInstrumentationEvent}=require(a19_0x11b325(0x1aa)),webSocketUtils=require(a19_0x11b325(0x1f2)),{createK8sClient}=require('../../utils/createk8sClient'),{getCloudProviderObject}=require(a19_0x11b325(0x1e5));exports[a19_0x11b325(0x1e1)]=a19_0x11b325(0x1ff),exports['desc']=a19_0x11b325(0x1d8),exports[a19_0x11b325(0x1b0)]=function(_0x4fce80){const _0xf72910=a19_0x11b325,_0x26e631={};_0x26e631[_0xf72910(0x1f4)]=_0xf72910(0x1ec),_0x26e631[_0xf72910(0x1a9)]=_0xf72910(0x1de),_0x26e631[_0xf72910(0x1b8)]='Skip\x20insecure\x20cert\x20verification.',_0x26e631[_0xf72910(0x1cc)]='boolean',_0x26e631[_0xf72910(0x1f0)]=_0xf72910(0x1c3);const _0x5c2541=_0x26e631,_0x317359={};_0x317359[_0xf72910(0x1b2)]=_0x5c2541[_0xf72910(0x1f4)],_0x317359[_0xf72910(0x1c4)]=_0x5c2541[_0xf72910(0x1a9)];const _0x3bba34={};_0x3bba34[_0xf72910(0x1b2)]=_0x5c2541['opVUO'],_0x3bba34[_0xf72910(0x1c4)]=_0x5c2541[_0xf72910(0x1cc)],_0x3bba34['default']=![];const _0x292b45={};return _0x292b45[_0xf72910(0x1f3)]=_0x317359,_0x292b45[_0xf72910(0x1e9)]=_0x3bba34,_0x4fce80[_0xf72910(0x1e0)](HELP_HEADER_MESSAGE[_0xf72910(0x1b7)])[_0xf72910(0x1ed)](HELP_FOOTER_MESSAGE)[_0xf72910(0x1d4)](_0x292b45)[_0xf72910(0x1c3)](_0x5c2541[_0xf72910(0x1f0)])['argv'];},exports[a19_0x11b325(0x1d9)]=async function(_0x110c7c){const _0x2527fd=a19_0x11b325,_0x445ecd={'qKwom':_0x2527fd(0x1eb),'AhGiH':function(_0x43d16a){return _0x43d16a();},'LNUty':_0x2527fd(0x1fd),'REAmS':function(_0x340606,_0x5f4e2a,_0x111cdb,_0x41415a,_0x475c10,_0x48e52d,_0xc2fa44){return _0x340606(_0x5f4e2a,_0x111cdb,_0x41415a,_0x475c10,_0x48e52d,_0xc2fa44);},'nKAsQ':'start-grid-called','dyMFX':'init-not-called','uGstU':function(_0x574cfd){return _0x574cfd();},'SgKRx':'<UsernamePlaceholder>','IqnqR':_0x2527fd(0x1c1),'XXKBy':_0x2527fd(0x1b9),'ZPSXD':function(_0x2d7073,_0x371337,_0x17dfbe,_0x5b8a38){return _0x2d7073(_0x371337,_0x17dfbe,_0x5b8a38);},'VvDDU':function(_0x56a7d3,_0x50e231,_0x13c776,_0x2e8c27,_0x331ed2,_0x4351f8,_0x9ae648){return _0x56a7d3(_0x50e231,_0x13c776,_0x2e8c27,_0x331ed2,_0x4351f8,_0x9ae648);},'eNHuN':function(_0x1d766c,_0x5319e5,_0x199dfd){return _0x1d766c(_0x5319e5,_0x199dfd);},'KVqUE':function(_0x9071f2,_0x2ec4f8,_0x3f6447){return _0x9071f2(_0x2ec4f8,_0x3f6447);},'WQsYM':_0x2527fd(0x1f9),'CnmaK':function(_0x3ba25a,_0x127625){return _0x3ba25a===_0x127625;},'xtHTD':_0x2527fd(0x1d5),'wKhpF':function(_0x59d924,_0x1b12f5,_0xf0eb0e,_0x195367,_0x2e3015,_0x538fb6,_0x614aec){return _0x59d924(_0x1b12f5,_0xf0eb0e,_0x195367,_0x2e3015,_0x538fb6,_0x614aec);},'ZxRKP':_0x2527fd(0x1d7),'IFwYR':function(_0x419267,_0x1b7277,_0x5eef75,_0x19bb7d,_0x11bfc8,_0x1e36db,_0xdd2f1b){return _0x419267(_0x1b7277,_0x5eef75,_0x19bb7d,_0x11bfc8,_0x1e36db,_0xdd2f1b);},'XxiHQ':_0x2527fd(0x1ac),'ZSfnw':function(_0x4d1584,_0x262a4c,_0x1676a8,_0x4dc959,_0xd3174c,_0x42b156,_0x447d94){return _0x4d1584(_0x262a4c,_0x1676a8,_0x4dc959,_0xd3174c,_0x42b156,_0x447d94);},'gjfbH':_0x2527fd(0x1bc)};let _0x5e8c55;try{!_0x110c7c[_0x2527fd(0x1f8)]&&(logger[_0x2527fd(0x1f7)](_0x445ecd[_0x2527fd(0x1da)]),process[_0x2527fd(0x1dc)](0x1));!fs['existsSync'](_0x445ecd['AhGiH'](getCredentialsPath))&&(logger[_0x2527fd(0x1f7)](_0x445ecd['LNUty']),await _0x445ecd[_0x2527fd(0x1d1)](sendInstrumentationEvent,_0x110c7c,_0x445ecd[_0x2527fd(0x1d6)],messageTypes[_0x2527fd(0x1ee)],_0x445ecd[_0x2527fd(0x1e7)],null,_0x110c7c),process['exit'](0x1));logger[_0x2527fd(0x1e8)](_0x2527fd(0x1ca)+_0x110c7c['gridId']),await _0x445ecd[_0x2527fd(0x1d1)](sendInstrumentationEvent,_0x110c7c,_0x445ecd[_0x2527fd(0x1d6)],messageTypes['INFO'],null,null,_0x110c7c);const _0x4d5e23=JSON['parse'](fs['readFileSync'](_0x445ecd[_0x2527fd(0x1ae)](getCredentialsPath)));global_registry['bstackUsername']=_0x4d5e23[_0x2527fd(0x1b1)][_0x2527fd(0x1d0)],global_registry[_0x2527fd(0x1be)]=_0x4d5e23[_0x2527fd(0x1b1)]['password'];const _0xf615eb=WS_ENDPOINT[_0x2527fd(0x1b3)](_0x445ecd[_0x2527fd(0x1cd)],_0x4d5e23[_0x2527fd(0x1b1)][_0x2527fd(0x1d0)])[_0x2527fd(0x1b3)](_0x445ecd[_0x2527fd(0x1c0)],_0x4d5e23[_0x2527fd(0x1b1)]['password']),_0x4f797c={};_0x4f797c[_0x2527fd(0x1f1)]=ws,_0x4f797c[_0x2527fd(0x1c7)]=0x36ee80,_0x5e8c55=new ReconnectingWebSocket(_0xf615eb,[],_0x4f797c),logger[_0x2527fd(0x1c9)](_0x445ecd[_0x2527fd(0x1c2)]),webSocketUtils['addListeners'](_0x5e8c55,_0x110c7c['user'],_0x110c7c['password']);const [_0x35de5f,_0x35badd]=await _0x445ecd['ZPSXD'](getGridDetails,_0x4d5e23[_0x2527fd(0x1b1)]['username'],_0x4d5e23[_0x2527fd(0x1b1)][_0x2527fd(0x1e3)],_0x110c7c[_0x2527fd(0x1f8)]);if(_0x35badd){const _0x4f3008=_0x35badd[_0x2527fd(0x1e8)];global_registry[_0x2527fd(0x1f5)]=_0x4f3008[_0x2527fd(0x1f5)],global_registry[_0x2527fd(0x1bf)]=_0x4f3008['region'],global_registry[_0x2527fd(0x1b4)]=_0x4f3008[_0x2527fd(0x1b4)];const _0x788486=await _0x445ecd['VvDDU'](getCloudProviderObject,_0x4f3008[_0x2527fd(0x1f5)],_0x4f3008[_0x2527fd(0x1b4)],_0x4f3008['name'],_0x5e8c55,webSocketUtils,_0x110c7c),[_0x26e20e,_0x1da9e2,_0x2a9455,_0x273067,_0x16b06c,_0x176910]=await _0x445ecd[_0x2527fd(0x1fc)](createK8sClient,_0x788486,_0x110c7c[_0x2527fd(0x1fb)]);await _0x445ecd['KVqUE'](scaleUpHubDeployment,_0x1da9e2,_0x4f3008[_0x2527fd(0x1db)]),logger[_0x2527fd(0x1e8)](_0x445ecd[_0x2527fd(0x1c5)]),process[_0x2527fd(0x1dc)](0x0);}_0x445ecd['CnmaK'](_0x35de5f[_0x2527fd(0x1af)],0x191)&&(logger['error'](_0x445ecd[_0x2527fd(0x1df)]),await _0x445ecd[_0x2527fd(0x1ad)](sendInstrumentationEvent,_0x110c7c,_0x445ecd[_0x2527fd(0x1d6)],messageTypes[_0x2527fd(0x1ee)],_0x445ecd[_0x2527fd(0x1b6)],null,_0x110c7c),process[_0x2527fd(0x1dc)](0x1)),_0x445ecd[_0x2527fd(0x1d3)](_0x35de5f[_0x2527fd(0x1af)],0x190)&&(logger[_0x2527fd(0x1f7)](JSON[_0x2527fd(0x1c8)](_0x35de5f[_0x2527fd(0x1ce)])['message']),await _0x445ecd[_0x2527fd(0x1d2)](sendInstrumentationEvent,_0x110c7c,_0x445ecd[_0x2527fd(0x1d6)],messageTypes['ERROR'],_0x445ecd[_0x2527fd(0x1e2)],null,_0x110c7c),process[_0x2527fd(0x1dc)](0x1)),logger[_0x2527fd(0x1f7)](_0x2527fd(0x1ea)+JSON[_0x2527fd(0x1e6)](_0x35de5f)),await _0x445ecd[_0x2527fd(0x1ef)](sendInstrumentationEvent,_0x110c7c,_0x445ecd[_0x2527fd(0x1d6)],messageTypes['ERROR'],_0x445ecd[_0x2527fd(0x1ba)],_0x35de5f,_0x110c7c),process[_0x2527fd(0x1dc)](0x1);}catch(_0x1515f4){const _0x14f4ac=_0x2527fd(0x1fa)+_0x1515f4+'\x20\x0a'+JSON[_0x2527fd(0x1e6)](_0x1515f4[_0x2527fd(0x1e4)])+'\x20';logger[_0x2527fd(0x1f7)](_0x14f4ac),process[_0x2527fd(0x1dc)](0x1);}};