const a19_0x33d8d3=a19_0x4c4d;(function(_0x33ad3b,_0x1671d6){const _0xada787=a19_0x4c4d,_0x48a292=_0x33ad3b();while(!![]){try{const _0xc65ebe=parseInt(_0xada787(0xae))/0x1*(parseInt(_0xada787(0x80))/0x2)+-parseInt(_0xada787(0xbf))/0x3*(-parseInt(_0xada787(0xd1))/0x4)+-parseInt(_0xada787(0xd7))/0x5+parseInt(_0xada787(0x9d))/0x6+-parseInt(_0xada787(0xd6))/0x7+parseInt(_0xada787(0xd9))/0x8*(parseInt(_0xada787(0x7d))/0x9)+parseInt(_0xada787(0xb5))/0xa*(-parseInt(_0xada787(0x8e))/0xb);if(_0xc65ebe===_0x1671d6)break;else _0x48a292['push'](_0x48a292['shift']());}catch(_0x3db1e6){_0x48a292['push'](_0x48a292['shift']());}}}(a19_0x22fe,0xa141e));function a19_0x4c4d(_0x17b5fb,_0x153768){const _0x22fe13=a19_0x22fe();return a19_0x4c4d=function(_0x4c4da4,_0x2eaa22){_0x4c4da4=_0x4c4da4-0x77;let _0x336420=_0x22fe13[_0x4c4da4];return _0x336420;},a19_0x4c4d(_0x17b5fb,_0x153768);}function a19_0x22fe(){const _0x109768=['type','statusCode','NsUoO','usyPl','debug','stringify','ERROR','XTZZE','server-error','password','4191036lfLheY','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20start','Skip\x20insecure\x20cert\x20verification.','<PasswordPlaceholder>','command','help','../../cloudproviders/utils','user','IPtph','argv','readFileSync','uIJrm','kebfV','RXFQo','../../utils/gridComponents','description','default','758753ONRjGK','clusterName','skip-tls-cert-verify','parse','name','Start\x20an\x20existing\x20Automation\x20grid.','skipTlsCertVerify','90uSbbSh','replace','qkyVy','clusterRegion','pdrmR','bzrCr','plceE','INFO','handler','info','1795722KuxTaS','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','epilogue','../../config/constants','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','gridId','YuRCs','wCYLI','gjAWc','XlKif','rxMka','YkjeQ','addListeners','builder','HTxfV','fhAop','existsSync','start-grid-called','8gKtsyO','wOvUB','Starting\x20grid\x20','body','../../utils/webSocketUtils','1809479EENPdT','731345nevTGO','CwVnY','688aqscIk','Browserstack','region','QIJIG','../../config/logger','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','string','104472mgHpIz','desc','error','2aofrJD','../../utils/instrumentationUtils','start','options','Adding\x20Websocket\x20listeners','DnOpX','WebSocket','bstackAccesskey','cloudProvider','uQgXx','Unable\x20to\x20start\x20the\x20Grid!\x20Error:\x20','../../utils/createk8sClient','grid-id','<UsernamePlaceholder>','3162401Irrkjv','exit','username','Pass\x20the\x20ID\x20of\x20the\x20existing\x20Automation\x20grid\x20you\x20want\x20to\x20start.','init-not-called'];a19_0x22fe=function(){return _0x109768;};return a19_0x22fe();}const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require('reconnecting-websocket'),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a19_0x33d8d3(0xc2)),{logger}=require(a19_0x33d8d3(0x7a)),{getCredentialsPath,getGridDetails}=require('../../utils/utilityMethods'),{scaleUpHubDeployment}=require(a19_0x33d8d3(0xab)),{sendInstrumentationEvent}=require(a19_0x33d8d3(0x81)),webSocketUtils=require(a19_0x33d8d3(0xd5)),{createK8sClient}=require(a19_0x33d8d3(0x8b)),{getCloudProviderObject}=require(a19_0x33d8d3(0xa3));exports[a19_0x33d8d3(0xa1)]='grid',exports[a19_0x33d8d3(0x7e)]=a19_0x33d8d3(0xb3),exports[a19_0x33d8d3(0xcc)]=function(_0x2b57d6){const _0x3af002=a19_0x33d8d3,_0x7052c1={};_0x7052c1['rxMka']=_0x3af002(0x91),_0x7052c1[_0x3af002(0xd8)]=_0x3af002(0x7c),_0x7052c1[_0x3af002(0xc5)]=_0x3af002(0x9f),_0x7052c1[_0x3af002(0x89)]='boolean',_0x7052c1[_0x3af002(0xaa)]=_0x3af002(0xa2);const _0x24dd61=_0x7052c1,_0x4fe11e={};_0x4fe11e[_0x3af002(0xac)]=_0x24dd61[_0x3af002(0xc9)],_0x4fe11e[_0x3af002(0x93)]=_0x24dd61[_0x3af002(0xd8)];const _0x162bae={};_0x162bae[_0x3af002(0xac)]=_0x24dd61[_0x3af002(0xc5)],_0x162bae[_0x3af002(0x93)]=_0x24dd61['uQgXx'],_0x162bae[_0x3af002(0xad)]=![];const _0x130a03={};return _0x130a03[_0x3af002(0x8c)]=_0x4fe11e,_0x130a03[_0x3af002(0xb0)]=_0x162bae,_0x2b57d6['usage'](HELP_HEADER_MESSAGE[_0x3af002(0x82)])[_0x3af002(0xc1)](HELP_FOOTER_MESSAGE)[_0x3af002(0x83)](_0x130a03)[_0x3af002(0xa2)](_0x24dd61['RXFQo'])[_0x3af002(0xa6)];},exports[a19_0x33d8d3(0xbd)]=async function(_0x28fc15){const _0x33cf0a=a19_0x33d8d3,_0x45987e={'bzrCr':_0x33cf0a(0x9e),'NsUoO':function(_0x25b1e5){return _0x25b1e5();},'IPtph':_0x33cf0a(0xc3),'usyPl':function(_0x148308,_0x1410ca,_0x556b07,_0x37b0b0,_0x3b0fb9,_0x1def32,_0x31bf98){return _0x148308(_0x1410ca,_0x556b07,_0x37b0b0,_0x3b0fb9,_0x1def32,_0x31bf98);},'DnOpX':_0x33cf0a(0xd0),'XTZZE':_0x33cf0a(0x92),'fhAop':function(_0x185339){return _0x185339();},'HTxfV':_0x33cf0a(0x8d),'pdrmR':_0x33cf0a(0xa0),'tFcwl':_0x33cf0a(0x84),'kebfV':function(_0x1ff4f9,_0x57e4bb,_0x11f3fc,_0x1b132c){return _0x1ff4f9(_0x57e4bb,_0x11f3fc,_0x1b132c);},'wCYLI':function(_0x55c1c5,_0x287b80,_0x3242cf,_0x219c4b,_0x765679,_0x30ddb9,_0x26efd8){return _0x55c1c5(_0x287b80,_0x3242cf,_0x219c4b,_0x765679,_0x30ddb9,_0x26efd8);},'XlKif':function(_0x135447,_0x14cce0,_0x3d6027){return _0x135447(_0x14cce0,_0x3d6027);},'taWCx':'Grid\x20started','QIJIG':function(_0x3f8334,_0x1f79de){return _0x3f8334===_0x1f79de;},'plceE':_0x33cf0a(0xc0),'YkjeQ':function(_0x124f2b,_0x2c1574,_0x5238fe,_0x1b39ec,_0x57471b,_0x287e0e,_0x41c4f3){return _0x124f2b(_0x2c1574,_0x5238fe,_0x1b39ec,_0x57471b,_0x287e0e,_0x41c4f3);},'qkyVy':'unauthorised','uIJrm':function(_0x4c8b71,_0x2d5f1e,_0x3fc47f,_0x4023be,_0x5d4ef8,_0x1346cd,_0x15e3e3){return _0x4c8b71(_0x2d5f1e,_0x3fc47f,_0x4023be,_0x5d4ef8,_0x1346cd,_0x15e3e3);},'wOvUB':'invalid-grid-id','gjAWc':_0x33cf0a(0x9b)};let _0x45b56f;try{!_0x28fc15[_0x33cf0a(0xc4)]&&(logger[_0x33cf0a(0x7f)](_0x45987e[_0x33cf0a(0xba)]),process[_0x33cf0a(0x8f)](0x1));!fs[_0x33cf0a(0xcf)](_0x45987e[_0x33cf0a(0x95)](getCredentialsPath))&&(logger[_0x33cf0a(0x7f)](_0x45987e[_0x33cf0a(0xa5)]),await _0x45987e[_0x33cf0a(0x96)](sendInstrumentationEvent,_0x28fc15,_0x45987e[_0x33cf0a(0x85)],messageTypes[_0x33cf0a(0x99)],_0x45987e[_0x33cf0a(0x9a)],null,_0x28fc15),process[_0x33cf0a(0x8f)](0x1));logger[_0x33cf0a(0xbe)](_0x33cf0a(0xd3)+_0x28fc15[_0x33cf0a(0xc4)]),await _0x45987e[_0x33cf0a(0x96)](sendInstrumentationEvent,_0x28fc15,_0x45987e[_0x33cf0a(0x85)],messageTypes[_0x33cf0a(0xbc)],null,null,_0x28fc15);const _0x3713bd=JSON[_0x33cf0a(0xb1)](fs[_0x33cf0a(0xa7)](_0x45987e[_0x33cf0a(0xce)](getCredentialsPath)));global_registry['bstackUsername']=_0x3713bd[_0x33cf0a(0x77)][_0x33cf0a(0x90)],global_registry[_0x33cf0a(0x87)]=_0x3713bd[_0x33cf0a(0x77)]['password'];const _0x22449d=WS_ENDPOINT[_0x33cf0a(0xb6)](_0x45987e[_0x33cf0a(0xcd)],_0x3713bd['Browserstack'][_0x33cf0a(0x90)])[_0x33cf0a(0xb6)](_0x45987e[_0x33cf0a(0xb9)],_0x3713bd[_0x33cf0a(0x77)]['password']),_0x2c8654={};_0x2c8654[_0x33cf0a(0x86)]=ws,_0x2c8654['connectionTimeout']=0x36ee80,_0x45b56f=new ReconnectingWebSocket(_0x22449d,[],_0x2c8654),logger[_0x33cf0a(0x97)](_0x45987e['tFcwl']),webSocketUtils[_0x33cf0a(0xcb)](_0x45b56f,_0x28fc15[_0x33cf0a(0xa4)],_0x28fc15[_0x33cf0a(0x9c)]);const [_0x3510ff,_0x8cbd05]=await _0x45987e[_0x33cf0a(0xa9)](getGridDetails,_0x3713bd['Browserstack'][_0x33cf0a(0x90)],_0x3713bd['Browserstack']['password'],_0x28fc15[_0x33cf0a(0xc4)]);if(_0x8cbd05){const _0x3f6177=_0x8cbd05['info'];global_registry['cloudProvider']=_0x3f6177[_0x33cf0a(0x88)],global_registry[_0x33cf0a(0xb8)]=_0x3f6177[_0x33cf0a(0x78)],global_registry[_0x33cf0a(0xaf)]=_0x3f6177[_0x33cf0a(0xaf)];const _0x240689=await _0x45987e[_0x33cf0a(0xc6)](getCloudProviderObject,_0x3f6177[_0x33cf0a(0x88)],_0x3f6177[_0x33cf0a(0xaf)],_0x3f6177[_0x33cf0a(0xb2)],_0x45b56f,webSocketUtils,_0x28fc15),[_0x2a6b1d,_0x508a0c,_0x21e4e3,_0x481bd3,_0x535859,_0x2cf6e8]=await _0x45987e[_0x33cf0a(0xc8)](createK8sClient,_0x240689,_0x28fc15[_0x33cf0a(0xb4)]);await _0x45987e[_0x33cf0a(0xc8)](scaleUpHubDeployment,_0x508a0c,_0x3f6177[_0x33cf0a(0xb2)]),logger[_0x33cf0a(0xbe)](_0x45987e['taWCx']),process[_0x33cf0a(0x8f)](0x0);}_0x45987e[_0x33cf0a(0x79)](_0x3510ff['statusCode'],0x191)&&(logger[_0x33cf0a(0x7f)](_0x45987e[_0x33cf0a(0xbb)]),await _0x45987e[_0x33cf0a(0xca)](sendInstrumentationEvent,_0x28fc15,_0x45987e[_0x33cf0a(0x85)],messageTypes[_0x33cf0a(0x99)],_0x45987e[_0x33cf0a(0xb7)],null,_0x28fc15),process[_0x33cf0a(0x8f)](0x1)),_0x45987e[_0x33cf0a(0x79)](_0x3510ff[_0x33cf0a(0x94)],0x190)&&(logger[_0x33cf0a(0x7f)](JSON[_0x33cf0a(0xb1)](_0x3510ff[_0x33cf0a(0xd4)])['message']),await _0x45987e[_0x33cf0a(0xa8)](sendInstrumentationEvent,_0x28fc15,_0x45987e['DnOpX'],messageTypes[_0x33cf0a(0x99)],_0x45987e[_0x33cf0a(0xd2)],null,_0x28fc15),process['exit'](0x1)),logger[_0x33cf0a(0x7f)](_0x33cf0a(0x7b)+JSON[_0x33cf0a(0x98)](_0x3510ff)),await _0x45987e[_0x33cf0a(0xc6)](sendInstrumentationEvent,_0x28fc15,_0x45987e['DnOpX'],messageTypes['ERROR'],_0x45987e[_0x33cf0a(0xc7)],_0x3510ff,_0x28fc15),process[_0x33cf0a(0x8f)](0x1);}catch(_0xcf1e2){const _0x26a1b1=_0x33cf0a(0x8a)+_0xcf1e2+'\x20\x0a'+JSON[_0x33cf0a(0x98)](_0xcf1e2['stack'])+'\x20';logger['error'](_0x26a1b1),process[_0x33cf0a(0x8f)](0x1);}};