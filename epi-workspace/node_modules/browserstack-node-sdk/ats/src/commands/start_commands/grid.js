const a19_0x317917=a19_0x5915;(function(_0x2b0a59,_0x9e1fe7){const _0x37fed2=a19_0x5915,_0x3af7c3=_0x2b0a59();while(!![]){try{const _0x4e78ea=-parseInt(_0x37fed2(0x1d8))/0x1*(-parseInt(_0x37fed2(0x22d))/0x2)+-parseInt(_0x37fed2(0x219))/0x3*(parseInt(_0x37fed2(0x1f7))/0x4)+parseInt(_0x37fed2(0x21f))/0x5*(parseInt(_0x37fed2(0x202))/0x6)+parseInt(_0x37fed2(0x1f2))/0x7+-parseInt(_0x37fed2(0x1e3))/0x8+parseInt(_0x37fed2(0x1eb))/0x9+-parseInt(_0x37fed2(0x205))/0xa;if(_0x4e78ea===_0x9e1fe7)break;else _0x3af7c3['push'](_0x3af7c3['shift']());}catch(_0x40fe9c){_0x3af7c3['push'](_0x3af7c3['shift']());}}}(a19_0x3851,0xf3133));function a19_0x3851(){const _0x497014=['message','ewVdn','error','WqYcl','parse','Start\x20an\x20existing\x20Automation\x20grid.','20652MmJvAo','server-error','wYZkY','18012980SSFtPk','uhDis','../../cloudproviders/utils','debug','GPAHR','HEkgJ','<PasswordPlaceholder>','bstackUsername','argv','options','string','start','grid','password','init-not-called','boolean','fpQzb','body','statusCode','user','9ZUPfxp','start-grid-called','wariR','Unable\x20to\x20start\x20the\x20Grid!\x20Error:\x20','fgPyi','JYmnG','1195tmOWLp','../../config/constants','Starting\x20grid\x20','Skip\x20insecure\x20cert\x20verification.','IxJbd','ERROR','description','handler','<UsernamePlaceholder>','exit','Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Response\x20from\x20server:\x20','JqVqr','../../config/logger','ZOBaw','95990ZxUbnL','Browserstack','KOsFR','unauthorised','readFileSync','Please\x20provide\x20ID\x20of\x20the\x20grid\x20to\x20start','default','../../utils/createk8sClient','NFvLa','replace','../../utils/webSocketUtils','desc','../../utils/gridComponents','23KuKyGW','name','epilogue','addListeners','CjBMo','help','skipTlsCertVerify','uHKGb','udpsu','skip-tls-cert-verify','connectionTimeout','15470976HQYVTD','info','invalid-grid-id','stack','Adding\x20Websocket\x20listeners','reconnecting-websocket','Credentials\x20not\x20found!\x20Ensure\x20init\x20command\x20is\x20run\x20before\x20running\x20this\x20command.','gridId','15402681HbjkQB','existsSync','cloudProvider','stringify','aqwYR','vntaB','clusterRegion','9461907dFnpzf','TBCvk','builder','username','jTOgP','345104WynUgm','JbrSa','Pass\x20the\x20ID\x20of\x20the\x20existing\x20Automation\x20grid\x20you\x20want\x20to\x20start.','clusterName','type'];a19_0x3851=function(){return _0x497014;};return a19_0x3851();}const fs=require('fs'),ws=require('ws'),ReconnectingWebSocket=require(a19_0x317917(0x1e8)),{global_registry,HELP_HEADER_MESSAGE,HELP_FOOTER_MESSAGE,WS_ENDPOINT,messageTypes}=require(a19_0x317917(0x220)),{logger}=require(a19_0x317917(0x22b)),{getCredentialsPath,getGridDetails}=require('../../utils/utilityMethods'),{scaleUpHubDeployment}=require(a19_0x317917(0x1d7)),{sendInstrumentationEvent}=require('../../utils/instrumentationUtils'),webSocketUtils=require(a19_0x317917(0x1d5)),{createK8sClient}=require(a19_0x317917(0x1d2)),{getCloudProviderObject}=require(a19_0x317917(0x207));function a19_0x5915(_0x24036a,_0x2304da){const _0x38514d=a19_0x3851();return a19_0x5915=function(_0x591501,_0x46699c){_0x591501=_0x591501-0x1cf;let _0x4b763f=_0x38514d[_0x591501];return _0x4b763f;},a19_0x5915(_0x24036a,_0x2304da);}exports['command']=a19_0x317917(0x211),exports[a19_0x317917(0x1d6)]=a19_0x317917(0x201),exports[a19_0x317917(0x1f4)]=function(_0x31a1c7){const _0x5dcc12=a19_0x317917,_0x2f282b={};_0x2f282b['wYZkY']=_0x5dcc12(0x1f9),_0x2f282b[_0x5dcc12(0x206)]=_0x5dcc12(0x20f),_0x2f282b[_0x5dcc12(0x1f0)]=_0x5dcc12(0x222),_0x2f282b[_0x5dcc12(0x1e0)]=_0x5dcc12(0x214),_0x2f282b[_0x5dcc12(0x1f3)]=_0x5dcc12(0x1dd);const _0x2d9330=_0x2f282b,_0x599f29={};_0x599f29[_0x5dcc12(0x225)]=_0x2d9330[_0x5dcc12(0x204)],_0x599f29[_0x5dcc12(0x1fb)]=_0x2d9330[_0x5dcc12(0x206)];const _0x4054dc={};_0x4054dc[_0x5dcc12(0x225)]=_0x2d9330[_0x5dcc12(0x1f0)],_0x4054dc[_0x5dcc12(0x1fb)]=_0x2d9330[_0x5dcc12(0x1e0)],_0x4054dc[_0x5dcc12(0x1d1)]=![];const _0x25a8b3={};return _0x25a8b3['grid-id']=_0x599f29,_0x25a8b3[_0x5dcc12(0x1e1)]=_0x4054dc,_0x31a1c7['usage'](HELP_HEADER_MESSAGE[_0x5dcc12(0x210)])[_0x5dcc12(0x1da)](HELP_FOOTER_MESSAGE)[_0x5dcc12(0x20e)](_0x25a8b3)[_0x5dcc12(0x1dd)](_0x2d9330[_0x5dcc12(0x1f3)])[_0x5dcc12(0x20d)];},exports[a19_0x317917(0x226)]=async function(_0x49f81b){const _0x5527=a19_0x317917,_0xfa8f68={'JbrSa':_0x5527(0x1d0),'ozQbU':function(_0x10ab6a){return _0x10ab6a();},'KOsFR':_0x5527(0x1e9),'JYmnG':function(_0x227d95,_0x224242,_0x187fea,_0x502c93,_0x24538a,_0xeed88d,_0x5a827a){return _0x227d95(_0x224242,_0x187fea,_0x502c93,_0x24538a,_0xeed88d,_0x5a827a);},'JqVqr':_0x5527(0x21a),'CjBMo':_0x5527(0x213),'WqYcl':function(_0xc7bc20,_0x25da63,_0x3ef3dc,_0x31031a,_0x15f4b2,_0x244a7f,_0x28f621){return _0xc7bc20(_0x25da63,_0x3ef3dc,_0x31031a,_0x15f4b2,_0x244a7f,_0x28f621);},'IxJbd':function(_0xc1b5dd){return _0xc1b5dd();},'NFvLa':_0x5527(0x227),'ZOBaw':_0x5527(0x20b),'fLuXS':_0x5527(0x1e7),'aqwYR':function(_0x322257,_0x148edc,_0x204c2d,_0x5d2f4a){return _0x322257(_0x148edc,_0x204c2d,_0x5d2f4a);},'fgPyi':function(_0x5f1fa5,_0x584d20,_0x8e4d9b){return _0x5f1fa5(_0x584d20,_0x8e4d9b);},'WGIiT':function(_0x20d82e,_0x358345,_0x58d6e9){return _0x20d82e(_0x358345,_0x58d6e9);},'wariR':'Grid\x20started','GPAHR':function(_0x1eae1a,_0x1d3767){return _0x1eae1a===_0x1d3767;},'ewVdn':'Failed\x20to\x20fetch\x20grid\x20details\x20from\x20the\x20server.\x20Unauthorized\x20request!','fpQzb':function(_0x37d3e8,_0x4760e1,_0x10e328,_0x5baf7d,_0xceb551,_0x5b37c9,_0x47c1c1){return _0x37d3e8(_0x4760e1,_0x10e328,_0x5baf7d,_0xceb551,_0x5b37c9,_0x47c1c1);},'jTOgP':_0x5527(0x230),'HEkgJ':_0x5527(0x1e5),'uHKGb':_0x5527(0x203)};let _0xbfca49;try{!_0x49f81b[_0x5527(0x1ea)]&&(logger[_0x5527(0x1fe)](_0xfa8f68[_0x5527(0x1f8)]),process[_0x5527(0x228)](0x1));!fs[_0x5527(0x1ec)](_0xfa8f68['ozQbU'](getCredentialsPath))&&(logger[_0x5527(0x1fe)](_0xfa8f68[_0x5527(0x22f)]),await _0xfa8f68[_0x5527(0x21e)](sendInstrumentationEvent,_0x49f81b,_0xfa8f68[_0x5527(0x22a)],messageTypes[_0x5527(0x224)],_0xfa8f68[_0x5527(0x1dc)],null,_0x49f81b),process[_0x5527(0x228)](0x1));logger[_0x5527(0x1e4)](_0x5527(0x221)+_0x49f81b[_0x5527(0x1ea)]),await _0xfa8f68['WqYcl'](sendInstrumentationEvent,_0x49f81b,_0xfa8f68[_0x5527(0x22a)],messageTypes['INFO'],null,null,_0x49f81b);const _0x3cabfe=JSON[_0x5527(0x200)](fs[_0x5527(0x1cf)](_0xfa8f68[_0x5527(0x223)](getCredentialsPath)));global_registry[_0x5527(0x20c)]=_0x3cabfe[_0x5527(0x22e)]['username'],global_registry['bstackAccesskey']=_0x3cabfe[_0x5527(0x22e)][_0x5527(0x212)];const _0x1b6dc4=WS_ENDPOINT[_0x5527(0x1d4)](_0xfa8f68[_0x5527(0x1d3)],_0x3cabfe['Browserstack'][_0x5527(0x1f5)])[_0x5527(0x1d4)](_0xfa8f68[_0x5527(0x22c)],_0x3cabfe[_0x5527(0x22e)][_0x5527(0x212)]),_0x4033f8={};_0x4033f8['WebSocket']=ws,_0x4033f8[_0x5527(0x1e2)]=0x36ee80,_0xbfca49=new ReconnectingWebSocket(_0x1b6dc4,[],_0x4033f8),logger[_0x5527(0x208)](_0xfa8f68['fLuXS']),webSocketUtils[_0x5527(0x1db)](_0xbfca49,_0x49f81b[_0x5527(0x218)],_0x49f81b[_0x5527(0x212)]);const [_0x51b31d,_0x59c863]=await _0xfa8f68[_0x5527(0x1ef)](getGridDetails,_0x3cabfe[_0x5527(0x22e)][_0x5527(0x1f5)],_0x3cabfe[_0x5527(0x22e)][_0x5527(0x212)],_0x49f81b[_0x5527(0x1ea)]);if(_0x59c863){const _0x547a4e=_0x59c863[_0x5527(0x1e4)];global_registry[_0x5527(0x1ed)]=_0x547a4e[_0x5527(0x1ed)],global_registry[_0x5527(0x1f1)]=_0x547a4e['region'],global_registry[_0x5527(0x1fa)]=_0x547a4e[_0x5527(0x1fa)];const _0x9387a0=await _0xfa8f68[_0x5527(0x1ff)](getCloudProviderObject,_0x547a4e[_0x5527(0x1ed)],_0x547a4e['clusterName'],_0x547a4e[_0x5527(0x1d9)],_0xbfca49,webSocketUtils,_0x49f81b),[_0x13cc94,_0x18541c,_0x2b2119,_0x287f44,_0x283db7,_0x5e7c99]=await _0xfa8f68[_0x5527(0x21d)](createK8sClient,_0x9387a0,_0x49f81b[_0x5527(0x1de)]);await _0xfa8f68['WGIiT'](scaleUpHubDeployment,_0x18541c,_0x547a4e[_0x5527(0x1d9)]),logger['info'](_0xfa8f68[_0x5527(0x21b)]),process[_0x5527(0x228)](0x0);}_0xfa8f68['GPAHR'](_0x51b31d[_0x5527(0x217)],0x191)&&(logger['error'](_0xfa8f68[_0x5527(0x1fd)]),await _0xfa8f68[_0x5527(0x215)](sendInstrumentationEvent,_0x49f81b,_0xfa8f68['JqVqr'],messageTypes[_0x5527(0x224)],_0xfa8f68[_0x5527(0x1f6)],null,_0x49f81b),process[_0x5527(0x228)](0x1)),_0xfa8f68[_0x5527(0x209)](_0x51b31d[_0x5527(0x217)],0x190)&&(logger[_0x5527(0x1fe)](JSON['parse'](_0x51b31d[_0x5527(0x216)])[_0x5527(0x1fc)]),await _0xfa8f68[_0x5527(0x21e)](sendInstrumentationEvent,_0x49f81b,_0xfa8f68[_0x5527(0x22a)],messageTypes[_0x5527(0x224)],_0xfa8f68[_0x5527(0x20a)],null,_0x49f81b),process['exit'](0x1)),logger['error'](_0x5527(0x229)+JSON[_0x5527(0x1ee)](_0x51b31d)),await _0xfa8f68['JYmnG'](sendInstrumentationEvent,_0x49f81b,_0xfa8f68[_0x5527(0x22a)],messageTypes[_0x5527(0x224)],_0xfa8f68[_0x5527(0x1df)],_0x51b31d,_0x49f81b),process['exit'](0x1);}catch(_0x1d96ea){const _0x3d9fc1=_0x5527(0x21c)+_0x1d96ea+'\x20\x0a'+JSON[_0x5527(0x1ee)](_0x1d96ea[_0x5527(0x1e6)])+'\x20';logger[_0x5527(0x1fe)](_0x3d9fc1),process[_0x5527(0x228)](0x1);}};