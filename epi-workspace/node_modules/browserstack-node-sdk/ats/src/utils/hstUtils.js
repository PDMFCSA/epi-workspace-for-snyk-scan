const a34_0x3beffb=a34_0x1159;function a34_0x150a(){const _0x256cb1=['4989231RpyKyg','571431JktmHI','11154TSaJJz','vpcInfo','Sending\x20Resource\x20info\x20for\x20region\x20','rgvcs','UDEgO','lelLy','kjOQZ','sendAzureInfoToHST','type','KgoLz','bstackUsername','wMmBm','../config/logger','message','1284ttCnhD','verbose','catch','sendEventToBackend','ocILR','kBIyM','CMrKc','iDFPR','3155210UvbkAt','aAjRz','CrFeR','ZjZWB','all','1119EJVFaB','YvrFY','then','DdYVj','BGsdz','RaBpn','LHoja','31967uhamye','sendAWSInfoToHST','rSvqk','username','subnetInfo','RegionName','region','csZTo','eFdte','38otBPpf','okCdZ','uXLKv','\x20to\x20Browserstack','wRfDH','uLCSD','eUIfM','syMuf','duDka','RxCOQ','Brfdw','1388jjdnNI','ETVLy','Jdnjh','CmAQJ','6JugXwX','forEach','YOZll','40WkGPij','2491730hcCCSz','nuGXf','upOXG','cJZrW','RESOURCES','securityGroupInfo','bstackAccesskey'];a34_0x150a=function(){return _0x256cb1;};return a34_0x150a();}function a34_0x1159(_0xaa6966,_0x23aee6){const _0x150a3c=a34_0x150a();return a34_0x1159=function(_0x115967,_0x5b57b4){_0x115967=_0x115967-0x19a;let _0x2c2549=_0x150a3c[_0x115967];return _0x2c2549;},a34_0x1159(_0xaa6966,_0x23aee6);}(function(_0xaf125b,_0x35624c){const _0x2a436b=a34_0x1159,_0x348c16=_0xaf125b();while(!![]){try{const _0x3147f8=-parseInt(_0x2a436b(0x1b2))/0x1*(parseInt(_0x2a436b(0x1bb))/0x2)+parseInt(_0x2a436b(0x1ab))/0x3*(parseInt(_0x2a436b(0x1c6))/0x4)+parseInt(_0x2a436b(0x1a6))/0x5*(parseInt(_0x2a436b(0x1ca))/0x6)+-parseInt(_0x2a436b(0x1d6))/0x7*(-parseInt(_0x2a436b(0x1cd))/0x8)+-parseInt(_0x2a436b(0x1d5))/0x9+parseInt(_0x2a436b(0x1ce))/0xa+-parseInt(_0x2a436b(0x1d7))/0xb*(-parseInt(_0x2a436b(0x19e))/0xc);if(_0x3147f8===_0x35624c)break;else _0x348c16['push'](_0x348c16['shift']());}catch(_0x4db1bd){_0x348c16['push'](_0x348c16['shift']());}}}(a34_0x150a,0x59021));const {fetchVPCs,fetchSubnets,fetchSecurityGroups,getAWSRegions}=require('./AWSUtils'),webSocketUtils=require('./webSocketUtils'),{logger}=require(a34_0x3beffb(0x19c)),{WS_EVENTS,AWS,global_registry}=require('../config/constants');exports[a34_0x3beffb(0x1b3)]=async _0x282f82=>{const _0x2e5b1c=a34_0x3beffb,_0x286f68={'ETVLy':function(_0xe16464,_0x4685e8){return _0xe16464!==_0x4685e8;},'rgvcs':_0x2e5b1c(0x1d1),'wRfDH':function(_0x36c520,_0x42b7c9){return _0x36c520===_0x42b7c9;},'nssZC':_0x2e5b1c(0x1e0),'uXLKv':_0x2e5b1c(0x1b9),'eUIfM':function(_0x334c89,_0x38dea9){return _0x334c89===_0x38dea9;},'kBIyM':_0x2e5b1c(0x1dc),'ocILR':_0x2e5b1c(0x1ba),'duDka':_0x2e5b1c(0x1a5),'syMuf':_0x2e5b1c(0x1b4),'aAjRz':_0x2e5b1c(0x1a4),'upOXG':function(_0x566402,_0x2eed14){return _0x566402(_0x2eed14);},'ZjZWB':function(_0x316409,_0x5c81c5){return _0x316409(_0x5c81c5);},'Brfdw':function(_0x479d85,_0x225fd7){return _0x479d85(_0x225fd7);},'BGsdz':function(_0x571e4c){return _0x571e4c();}},_0x38b914=await _0x286f68[_0x2e5b1c(0x1af)](getAWSRegions);_0x38b914[_0x2e5b1c(0x1cb)](_0xd0f74d=>{const _0x30ad58=_0x2e5b1c,_0x4a7694={'wMmBm':function(_0x3c7176,_0x2c9670){const _0x23cdcf=a34_0x1159;return _0x286f68[_0x23cdcf(0x1c1)](_0x3c7176,_0x2c9670);},'DdYVj':_0x286f68[_0x30ad58(0x1a3)],'RaBpn':_0x286f68[_0x30ad58(0x1a2)],'CrFeR':_0x286f68[_0x30ad58(0x1c3)]};if(_0x286f68['ETVLy'](_0x286f68[_0x30ad58(0x1c2)],_0x286f68[_0x30ad58(0x1a7)])){const _0x22d954={};_0x22d954[_0x30ad58(0x1b8)]=_0xd0f74d['RegionName'],_0x22d954[_0x30ad58(0x1b5)]=global_registry['bstackUsername'],_0x22d954['accessKey']=global_registry[_0x30ad58(0x1d4)],_0x22d954['cloudProvider']=AWS;const _0x510ae1=_0x22d954,_0x5e61ed=_0x286f68[_0x30ad58(0x1d0)](fetchVPCs,_0xd0f74d['RegionName'])[_0x30ad58(0x1ad)](_0x3fcdde=>{const _0x4fad20=_0x30ad58;_0x4a7694['wMmBm'](_0x4a7694['DdYVj'],_0x4a7694[_0x4fad20(0x1ae)])?_0x510ae1[_0x4fad20(0x1d8)]=_0x3fcdde:_0x113296['securityGroupInfo']=_0x424f62;})[_0x30ad58(0x1a0)](_0x484852=>{}),_0x57ebe5=_0x286f68[_0x30ad58(0x1a9)](fetchSubnets,_0xd0f74d[_0x30ad58(0x1b7)])[_0x30ad58(0x1ad)](_0x5f4292=>{const _0x56ef8b=_0x30ad58;_0x286f68[_0x56ef8b(0x1c7)](_0x286f68[_0x56ef8b(0x1da)],_0x286f68[_0x56ef8b(0x1da)])?_0x11ef4a[_0x56ef8b(0x1b6)]=_0x5b05a4:_0x510ae1[_0x56ef8b(0x1b6)]=_0x5f4292;})[_0x30ad58(0x1a0)](_0x1c7113=>{}),_0x2ed20f=_0x286f68[_0x30ad58(0x1c5)](fetchSecurityGroups,_0xd0f74d['RegionName'])[_0x30ad58(0x1ad)](_0x2d578e=>{const _0x130e7d=_0x30ad58;_0x286f68[_0x130e7d(0x1bf)](_0x286f68['nssZC'],_0x286f68[_0x130e7d(0x1bd)])?_0x39c483[_0x130e7d(0x1b6)]=_0x409d49:_0x510ae1[_0x130e7d(0x1d3)]=_0x2d578e;})[_0x30ad58(0x1a0)](_0x46c330=>{});Promise[_0x30ad58(0x1aa)]([_0x5e61ed,_0x57ebe5,_0x2ed20f])[_0x30ad58(0x1ad)](()=>{const _0x226b15=_0x30ad58;if(_0x4a7694[_0x226b15(0x19b)](_0x4a7694[_0x226b15(0x1b0)],_0x4a7694[_0x226b15(0x1a8)]))_0x6e69df[_0x226b15(0x1d8)]=_0x36e0dc;else{logger[_0x226b15(0x19f)](_0x226b15(0x1d9)+_0xd0f74d['RegionName']+_0x226b15(0x1be));const _0x4cbb9d={};_0x4cbb9d[_0x226b15(0x1df)]=WS_EVENTS[_0x226b15(0x1d2)],_0x4cbb9d[_0x226b15(0x19d)]=_0x510ae1,webSocketUtils[_0x226b15(0x1a1)](_0x282f82,_0x4cbb9d);}});}else{_0x23a592['verbose'](_0x30ad58(0x1d9)+_0x3d6776[_0x30ad58(0x1b7)]+_0x30ad58(0x1be));const _0x4a49c9={};_0x4a49c9[_0x30ad58(0x1df)]=_0x1ae30f[_0x30ad58(0x1d2)],_0x4a49c9['message']=_0x2217dd,_0x3bf782[_0x30ad58(0x1a1)](_0x4cce75,_0x4a49c9);}});},exports[a34_0x3beffb(0x1de)]=async _0x595fd0=>{const _0x58a140=a34_0x3beffb,_0x5b8bd4={'CmAQJ':function(_0x10a411,_0x5de619){return _0x10a411!==_0x5de619;},'nuGXf':_0x58a140(0x1cc),'Jdnjh':_0x58a140(0x1b1),'NIIGd':_0x58a140(0x1db),'uLCSD':_0x58a140(0x1ac),'RxCOQ':function(_0x4fdc9e,_0x20e5b4){return _0x4fdc9e(_0x20e5b4);},'kjOQZ':function(_0x1b9596,_0x3af0eb){return _0x1b9596(_0x3af0eb);},'okCdZ':function(_0x584f89){return _0x584f89();}},_0x8b1888=await _0x5b8bd4[_0x58a140(0x1bc)](getAWSRegions);_0x8b1888[_0x58a140(0x1cb)](_0x176c0e=>{const _0x5c8994=_0x58a140,_0x2154d6={'SVhOI':function(_0x45030e,_0x3d967f){const _0x88d3c4=a34_0x1159;return _0x5b8bd4[_0x88d3c4(0x1c9)](_0x45030e,_0x3d967f);},'YEofA':_0x5b8bd4['NIIGd'],'XxUsP':_0x5b8bd4[_0x5c8994(0x1c0)]},_0x145077={};_0x145077[_0x5c8994(0x1b8)]=_0x176c0e[_0x5c8994(0x1b7)],_0x145077[_0x5c8994(0x1b5)]=global_registry[_0x5c8994(0x19a)],_0x145077['accessKey']=global_registry['bstackAccesskey'];const _0x53d605=_0x145077,_0x5dba07=_0x5b8bd4[_0x5c8994(0x1c4)](fetchVPCs,_0x176c0e[_0x5c8994(0x1b7)])[_0x5c8994(0x1ad)](_0x59bf70=>{_0x2154d6['SVhOI'](_0x2154d6['YEofA'],_0x2154d6['XxUsP'])?_0x53d605['vpcInfo']=_0x59bf70:_0x503696['vpcInfo']=_0x3800c6;})[_0x5c8994(0x1a0)](_0x5ec8da=>{}),_0x31c1bf=_0x5b8bd4[_0x5c8994(0x1c4)](fetchSubnets,_0x176c0e[_0x5c8994(0x1b7)])[_0x5c8994(0x1ad)](_0x561946=>{const _0x25b73b=_0x5c8994;_0x5b8bd4[_0x25b73b(0x1c9)](_0x5b8bd4[_0x25b73b(0x1cf)],_0x5b8bd4[_0x25b73b(0x1cf)])?_0x2f6b4a[_0x25b73b(0x1d3)]=_0x2e6807:_0x53d605[_0x25b73b(0x1b6)]=_0x561946;})['catch'](_0x55626d=>{}),_0x5efbaf=_0x5b8bd4[_0x5c8994(0x1dd)](fetchSecurityGroups,_0x176c0e[_0x5c8994(0x1b7)])['then'](_0x377564=>{const _0x5ca216=_0x5c8994;if(_0x5b8bd4[_0x5ca216(0x1c9)](_0x5b8bd4[_0x5ca216(0x1c8)],_0x5b8bd4[_0x5ca216(0x1c8)])){_0x162fb6[_0x5ca216(0x19f)](_0x5ca216(0x1d9)+_0x2ca515['RegionName']+_0x5ca216(0x1be));const _0x375ae1={};_0x375ae1[_0x5ca216(0x1df)]=_0xf6920b[_0x5ca216(0x1d2)],_0x375ae1[_0x5ca216(0x19d)]=_0x501a64,_0x161748[_0x5ca216(0x1a1)](_0x4cd70b,_0x375ae1);}else _0x53d605[_0x5ca216(0x1d3)]=_0x377564;})[_0x5c8994(0x1a0)](_0x4213fe=>{});Promise[_0x5c8994(0x1aa)]([_0x5dba07,_0x31c1bf,_0x5efbaf])[_0x5c8994(0x1ad)](()=>{const _0x532e79=_0x5c8994;logger[_0x532e79(0x19f)](_0x532e79(0x1d9)+_0x176c0e['RegionName']+_0x532e79(0x1be));const _0x1342cf={};_0x1342cf[_0x532e79(0x1df)]=WS_EVENTS[_0x532e79(0x1d2)],_0x1342cf[_0x532e79(0x19d)]=_0x53d605,webSocketUtils[_0x532e79(0x1a1)](_0x595fd0,_0x1342cf);});});};