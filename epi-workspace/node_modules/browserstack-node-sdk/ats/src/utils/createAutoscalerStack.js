const a26_0x9884a6=a26_0x3f4f;function a26_0x3f4f(_0x41d95a,_0x5f5db2){const _0x4f5f81=a26_0x4f5f();return a26_0x3f4f=function(_0x3f4f51,_0x122262){_0x3f4f51=_0x3f4f51-0x1c4;let _0x2c920c=_0x4f5f81[_0x3f4f51];return _0x2c920c;},a26_0x3f4f(_0x41d95a,_0x5f5db2);}(function(_0x150990,_0x3a2c7e){const _0x16448c=a26_0x3f4f,_0x19ed4f=_0x150990();while(!![]){try{const _0x1a216a=parseInt(_0x16448c(0x1e3))/0x1*(-parseInt(_0x16448c(0x1d5))/0x2)+-parseInt(_0x16448c(0x1d4))/0x3+parseInt(_0x16448c(0x1d8))/0x4*(parseInt(_0x16448c(0x1f5))/0x5)+-parseInt(_0x16448c(0x1ee))/0x6*(parseInt(_0x16448c(0x1f0))/0x7)+-parseInt(_0x16448c(0x1c6))/0x8+-parseInt(_0x16448c(0x1c4))/0x9*(-parseInt(_0x16448c(0x1dd))/0xa)+parseInt(_0x16448c(0x1e7))/0xb;if(_0x1a216a===_0x3a2c7e)break;else _0x19ed4f['push'](_0x19ed4f['shift']());}catch(_0x4ad21f){_0x19ed4f['push'](_0x19ed4f['shift']());}}}(a26_0x4f5f,0x75de1));const fs=require('fs'),path=require('path'),yaml=require(a26_0x9884a6(0x1cd)),{CLOUDFORMATION_SCHEMA}=require(a26_0x9884a6(0x1de)),Promise=require('bluebird'),AWS=require(a26_0x9884a6(0x1c9))['awsObj'],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require(a26_0x9884a6(0x1e9)),{logger}=require(a26_0x9884a6(0x1ea));Promise[a26_0x9884a6(0x1f7)](fs);const addAutoscalerTags=async(_0x317497,_0x2f83b0,_0x52c6e7)=>{const _0x3d1f23=a26_0x9884a6;for(const _0x4b152b in _0x317497[_0x3d1f23(0x1d2)]){_0x317497[_0x3d1f23(0x1d2)][_0x4b152b][_0x3d1f23(0x1cb)]&&_0x317497[_0x3d1f23(0x1d2)][_0x4b152b][_0x3d1f23(0x1cb)][_0x3d1f23(0x1e0)]&&_0x317497[_0x3d1f23(0x1d2)][_0x4b152b][_0x3d1f23(0x1cb)][_0x3d1f23(0x1e0)][_0x3d1f23(0x1ce)](..._0x52c6e7);}};exports['createAutoscalerStack']=async _0x2f6bbf=>{const _0x3eea92=a26_0x9884a6,_0x169048={'eqEDM':_0x3eea92(0x1cf),'aBFYC':_0x3eea92(0x1e1),'WLJjx':_0x3eea92(0x1f1),'BKUtp':_0x3eea92(0x1e4),'bksNU':'autoscaler-role-creation.yaml','fXrWM':_0x3eea92(0x1e2),'xZZrr':function(_0x4b5898,_0x29b91a,_0x65e1a3,_0x40e2b0){return _0x4b5898(_0x29b91a,_0x65e1a3,_0x40e2b0);},'XTZou':'DELETE','HkDdu':_0x3eea92(0x1e6),'Naydq':_0x3eea92(0x1ec),'wTpKe':_0x3eea92(0x1d9),'pmUNC':_0x3eea92(0x1f4)},_0x458cc5=COMMON_HST_TAGS,_0x5ee692={};_0x5ee692[_0x3eea92(0x1d6)]=_0x169048[_0x3eea92(0x1db)],_0x5ee692['Value']=_0x2f6bbf,_0x458cc5[_0x3eea92(0x1ce)](_0x5ee692),_0x458cc5['push']({'Key':_0x169048[_0x3eea92(0x1cc)],'Value':new Date()['valueOf']()['toString']()});const _0x4cfb23={};_0x4cfb23[_0x3eea92(0x1da)]=_0x169048[_0x3eea92(0x1f3)];const _0x3813ff=new AWS[(_0x3eea92(0x1c7))](_0x4cfb23),_0x1499e5=await fs[_0x3eea92(0x1d7)](path['join'](__dirname,'..',_0x169048[_0x3eea92(0x1ed)],_0x169048[_0x3eea92(0x1dc)]),_0x169048['fXrWM']),_0x1975a4={};_0x1975a4['schema']=CLOUDFORMATION_SCHEMA;const _0x50d048=yaml['load'](_0x1499e5,_0x1975a4);_0x169048[_0x3eea92(0x1e5)](addAutoscalerTags,_0x50d048,_0x2f6bbf,_0x458cc5);const _0x513e39=JSON[_0x3eea92(0x1f2)](_0x50d048),_0x120b84={};_0x120b84[_0x3eea92(0x1df)]=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x2f6bbf,_0x120b84['OnFailure']=_0x169048[_0x3eea92(0x1c8)],_0x120b84[_0x3eea92(0x1eb)]=_0x513e39,_0x120b84[_0x3eea92(0x1f6)]=[{'ParameterKey':_0x169048[_0x3eea92(0x1d0)],'ParameterValue':_0x2f6bbf}],_0x120b84[_0x3eea92(0x1e8)]=[_0x169048[_0x3eea92(0x1ef)]],_0x120b84[_0x3eea92(0x1e0)]=_0x458cc5;const _0x2e74dd=_0x120b84,_0x431ca8=await _0x3813ff['createStack'](_0x2e74dd)[_0x3eea92(0x1d3)]();logger['debug'](_0x169048[_0x3eea92(0x1ca)]);const _0x1e7496={};return _0x1e7496[_0x3eea92(0x1df)]=_0x431ca8[_0x3eea92(0x1d1)],_0x3813ff[_0x3eea92(0x1c5)](_0x169048['pmUNC'],_0x1e7496)[_0x3eea92(0x1d3)]();};function a26_0x4f5f(){const _0x564d29=['183231jIPIVA','waitFor','62216iPJXDD','CloudFormation','XTZou','./AWSUtils','wTpKe','Properties','aBFYC','js-yaml','push','browserstack:cluster','HkDdu','StackId','Resources','promise','1874646TSWIFx','16dDSsJE','Key','readFileAsync','1280424fNiDBx','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','apiVersion','eqEDM','bksNU','300ssDeby','js-yaml-cloudformation-schema','StackName','Tags','browserstack:creationDate','utf-8','110462oSHuOE','templates','xZZrr','ClusterName','9485146qspiLd','Capabilities','../config/constants','../config/logger','TemplateBody','CAPABILITY_NAMED_IAM','BKUtp','684768goLisB','Naydq','7MRmCnp','2010-05-15','stringify','WLJjx','stackCreateComplete','10VuPeKy','Parameters','promisifyAll'];a26_0x4f5f=function(){return _0x564d29;};return a26_0x4f5f();}