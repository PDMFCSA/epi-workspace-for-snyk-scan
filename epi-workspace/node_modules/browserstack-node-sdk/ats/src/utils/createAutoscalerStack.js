const a26_0x3ffe72=a26_0x124b;(function(_0x1fd089,_0x427f19){const _0x270568=a26_0x124b,_0xf62201=_0x1fd089();while(!![]){try{const _0x15e759=parseInt(_0x270568(0x1d1))/0x1+parseInt(_0x270568(0x1dc))/0x2+-parseInt(_0x270568(0x1c4))/0x3+-parseInt(_0x270568(0x1ed))/0x4+-parseInt(_0x270568(0x1e3))/0x5+parseInt(_0x270568(0x1c6))/0x6*(parseInt(_0x270568(0x1ef))/0x7)+-parseInt(_0x270568(0x1c3))/0x8*(-parseInt(_0x270568(0x1ee))/0x9);if(_0x15e759===_0x427f19)break;else _0xf62201['push'](_0xf62201['shift']());}catch(_0x2d4342){_0xf62201['push'](_0xf62201['shift']());}}}(a26_0x3d5e,0x869bb));function a26_0x124b(_0x2a8630,_0x1caa93){const _0x3d5ea9=a26_0x3d5e();return a26_0x124b=function(_0x124bf6,_0x131d9f){_0x124bf6=_0x124bf6-0x1bd;let _0x47fec9=_0x3d5ea9[_0x124bf6];return _0x47fec9;},a26_0x124b(_0x2a8630,_0x1caa93);}const fs=require('fs'),path=require(a26_0x3ffe72(0x1da)),yaml=require('js-yaml'),{CLOUDFORMATION_SCHEMA}=require('js-yaml-cloudformation-schema'),Promise=require(a26_0x3ffe72(0x1ea)),AWS=require(a26_0x3ffe72(0x1e9))['awsObj'],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require(a26_0x3ffe72(0x1e4)),{logger}=require(a26_0x3ffe72(0x1cb));Promise[a26_0x3ffe72(0x1d0)](fs);function a26_0x3d5e(){const _0x5eceb9=['949176grFvdh','GMJJE','Resources','CloudFormation','StackName','pHBIV','DELETE','3300460ncmNoc','../config/constants','autoscaler-role-creation.yaml','KZiQw','readFileAsync','promise','./AWSUtils','bluebird','load','push','2834240pFnemZ','9CiKFJM','229418cqgzCe','Tags','dDAZT','ClusterName','hxbff','CAPABILITY_NAMED_IAM','templates','5015608mRWvDb','3174474vkvBUN','OnFailure','180LEJJXc','VmFNt','WAKwh','HKyxc','debug','../config/logger','schema','apiVersion','fDUHt','utf-8','promisifyAll','893406ElAiSX','createStack','browserstack:cluster','Properties','stackCreateComplete','StackId','toString','Parameters','Key','path','Value'];a26_0x3d5e=function(){return _0x5eceb9;};return a26_0x3d5e();}const addAutoscalerTags=async(_0x3f299c,_0x4dfc5e,_0x3e516f)=>{const _0x43ef45=a26_0x3ffe72;for(const _0x2b2274 in _0x3f299c[_0x43ef45(0x1de)]){_0x3f299c[_0x43ef45(0x1de)][_0x2b2274][_0x43ef45(0x1d4)]&&_0x3f299c['Resources'][_0x2b2274][_0x43ef45(0x1d4)][_0x43ef45(0x1bd)]&&_0x3f299c[_0x43ef45(0x1de)][_0x2b2274]['Properties']['Tags'][_0x43ef45(0x1ec)](..._0x3e516f);}};exports['createAutoscalerStack']=async _0x30e03a=>{const _0x1c05ec=a26_0x3ffe72,_0x2d6c65={'QmVUn':_0x1c05ec(0x1d3),'Jcpjo':'browserstack:creationDate','VmFNt':'2010-05-15','HKyxc':_0x1c05ec(0x1c2),'GMJJE':_0x1c05ec(0x1e5),'dDAZT':_0x1c05ec(0x1cf),'WAKwh':function(_0x29181a,_0x6a9e0a,_0x36702b,_0x1da230){return _0x29181a(_0x6a9e0a,_0x36702b,_0x1da230);},'SqQyz':_0x1c05ec(0x1e2),'hxbff':_0x1c05ec(0x1bf),'pHBIV':_0x1c05ec(0x1c1),'KZiQw':'Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','fDUHt':_0x1c05ec(0x1d5)},_0x4b1e17=COMMON_HST_TAGS,_0x21941a={};_0x21941a[_0x1c05ec(0x1d9)]=_0x2d6c65['QmVUn'],_0x21941a[_0x1c05ec(0x1db)]=_0x30e03a,_0x4b1e17[_0x1c05ec(0x1ec)](_0x21941a),_0x4b1e17['push']({'Key':_0x2d6c65['Jcpjo'],'Value':new Date()['valueOf']()[_0x1c05ec(0x1d7)]()});const _0x1a132e={};_0x1a132e[_0x1c05ec(0x1cd)]=_0x2d6c65[_0x1c05ec(0x1c7)];const _0x1a4400=new AWS[(_0x1c05ec(0x1df))](_0x1a132e),_0x59a15d=await fs[_0x1c05ec(0x1e7)](path['join'](__dirname,'..',_0x2d6c65[_0x1c05ec(0x1c9)],_0x2d6c65[_0x1c05ec(0x1dd)]),_0x2d6c65[_0x1c05ec(0x1be)]),_0x54eac9={};_0x54eac9[_0x1c05ec(0x1cc)]=CLOUDFORMATION_SCHEMA;const _0x17713f=yaml[_0x1c05ec(0x1eb)](_0x59a15d,_0x54eac9);_0x2d6c65[_0x1c05ec(0x1c8)](addAutoscalerTags,_0x17713f,_0x30e03a,_0x4b1e17);const _0x31368b=JSON['stringify'](_0x17713f),_0xfb2564={};_0xfb2564[_0x1c05ec(0x1e0)]=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x30e03a,_0xfb2564[_0x1c05ec(0x1c5)]=_0x2d6c65['SqQyz'],_0xfb2564['TemplateBody']=_0x31368b,_0xfb2564[_0x1c05ec(0x1d8)]=[{'ParameterKey':_0x2d6c65[_0x1c05ec(0x1c0)],'ParameterValue':_0x30e03a}],_0xfb2564['Capabilities']=[_0x2d6c65[_0x1c05ec(0x1e1)]],_0xfb2564[_0x1c05ec(0x1bd)]=_0x4b1e17;const _0x3e2bc3=_0xfb2564,_0x207465=await _0x1a4400[_0x1c05ec(0x1d2)](_0x3e2bc3)[_0x1c05ec(0x1e8)]();logger[_0x1c05ec(0x1ca)](_0x2d6c65[_0x1c05ec(0x1e6)]);const _0x13f37e={};return _0x13f37e[_0x1c05ec(0x1e0)]=_0x207465[_0x1c05ec(0x1d6)],_0x1a4400['waitFor'](_0x2d6c65[_0x1c05ec(0x1ce)],_0x13f37e)[_0x1c05ec(0x1e8)]();};