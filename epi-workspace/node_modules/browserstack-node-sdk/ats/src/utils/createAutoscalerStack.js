const a26_0x74221a=a26_0x2c6d;function a26_0x2c6d(_0x4f149e,_0xe543bc){const _0x564b7e=a26_0x564b();return a26_0x2c6d=function(_0x2c6df4,_0x3ed4a9){_0x2c6df4=_0x2c6df4-0xc0;let _0x8f0674=_0x564b7e[_0x2c6df4];return _0x8f0674;},a26_0x2c6d(_0x4f149e,_0xe543bc);}(function(_0x3e984e,_0x25bc79){const _0x341e4e=a26_0x2c6d,_0x22197d=_0x3e984e();while(!![]){try{const _0x5400cc=parseInt(_0x341e4e(0xec))/0x1+-parseInt(_0x341e4e(0xc2))/0x2+parseInt(_0x341e4e(0xdc))/0x3+parseInt(_0x341e4e(0xca))/0x4*(-parseInt(_0x341e4e(0xc5))/0x5)+parseInt(_0x341e4e(0xda))/0x6+-parseInt(_0x341e4e(0xf3))/0x7+parseInt(_0x341e4e(0xea))/0x8;if(_0x5400cc===_0x25bc79)break;else _0x22197d['push'](_0x22197d['shift']());}catch(_0x3b5ce2){_0x22197d['push'](_0x22197d['shift']());}}}(a26_0x564b,0x45d8a));const fs=require('fs'),path=require(a26_0x74221a(0xee)),yaml=require(a26_0x74221a(0xe8)),{CLOUDFORMATION_SCHEMA}=require(a26_0x74221a(0xd3)),Promise=require(a26_0x74221a(0xe6)),AWS=require(a26_0x74221a(0xd6))[a26_0x74221a(0xcc)],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require(a26_0x74221a(0xd7)),{logger}=require(a26_0x74221a(0xeb));Promise[a26_0x74221a(0xc0)](fs);const addAutoscalerTags=async(_0xb19ee1,_0x2e39ec,_0x229c4a)=>{const _0x40039e=a26_0x74221a;for(const _0x56b1e1 in _0xb19ee1[_0x40039e(0xe7)]){_0xb19ee1[_0x40039e(0xe7)][_0x56b1e1][_0x40039e(0xe4)]&&_0xb19ee1[_0x40039e(0xe7)][_0x56b1e1][_0x40039e(0xe4)]['Tags']&&_0xb19ee1['Resources'][_0x56b1e1][_0x40039e(0xe4)][_0x40039e(0xcd)][_0x40039e(0xc6)](..._0x229c4a);}};function a26_0x564b(){const _0x1f733a=['../config/logger','465781Rqykgt','2010-05-15','path','stringify','readFileAsync','StackId','autoscaler-role-creation.yaml','1835085ZaQenU','promisifyAll','LCdgL','444032bhjFRu','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','ClusterName','5BZiTrs','push','KOZHW','createAutoscalerStack','apiVersion','1345484QJkEcc','join','awsObj','Tags','Bmuww','promise','browserstack:creationDate','lMzPM','waitFor','js-yaml-cloudformation-schema','schema','browserstack:cluster','./AWSUtils','../config/constants','valueOf','CloudFormation','1294122yfSuHI','VbTUx','1030710hrcFeL','utf-8','CAPABILITY_NAMED_IAM','LWxGv','StackName','debug','QjkMs','AguLf','Properties','createStack','bluebird','Resources','js-yaml','toString','652752vrEbVX'];a26_0x564b=function(){return _0x1f733a;};return a26_0x564b();}exports[a26_0x74221a(0xc8)]=async _0x104343=>{const _0x5eb80f=a26_0x74221a,_0x4808e7={'Bmuww':_0x5eb80f(0xd5),'KOZHW':_0x5eb80f(0xd0),'cklqH':_0x5eb80f(0xed),'AguLf':'templates','AUnFq':_0x5eb80f(0xf2),'QbAuz':_0x5eb80f(0xdd),'LCdgL':function(_0x115124,_0x5e6499,_0x343e4d,_0x2b55cb){return _0x115124(_0x5e6499,_0x343e4d,_0x2b55cb);},'QjkMs':'DELETE','VbTUx':_0x5eb80f(0xc4),'lMzPM':_0x5eb80f(0xde),'LWxGv':_0x5eb80f(0xc3),'eATDv':'stackCreateComplete'},_0x12070f=COMMON_HST_TAGS,_0x3e236f={};_0x3e236f['Key']=_0x4808e7[_0x5eb80f(0xce)],_0x3e236f['Value']=_0x104343,_0x12070f['push'](_0x3e236f),_0x12070f[_0x5eb80f(0xc6)]({'Key':_0x4808e7[_0x5eb80f(0xc7)],'Value':new Date()[_0x5eb80f(0xd8)]()[_0x5eb80f(0xe9)]()});const _0x4a97d0={};_0x4a97d0[_0x5eb80f(0xc9)]=_0x4808e7['cklqH'];const _0x19ec7c=new AWS[(_0x5eb80f(0xd9))](_0x4a97d0),_0x4de286=await fs[_0x5eb80f(0xf0)](path[_0x5eb80f(0xcb)](__dirname,'..',_0x4808e7[_0x5eb80f(0xe3)],_0x4808e7['AUnFq']),_0x4808e7['QbAuz']),_0x3d3210={};_0x3d3210[_0x5eb80f(0xd4)]=CLOUDFORMATION_SCHEMA;const _0x2051b3=yaml['load'](_0x4de286,_0x3d3210);_0x4808e7[_0x5eb80f(0xc1)](addAutoscalerTags,_0x2051b3,_0x104343,_0x12070f);const _0x2c57d5=JSON[_0x5eb80f(0xef)](_0x2051b3),_0x445b8a={};_0x445b8a['StackName']=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x104343,_0x445b8a['OnFailure']=_0x4808e7[_0x5eb80f(0xe2)],_0x445b8a['TemplateBody']=_0x2c57d5,_0x445b8a['Parameters']=[{'ParameterKey':_0x4808e7[_0x5eb80f(0xdb)],'ParameterValue':_0x104343}],_0x445b8a['Capabilities']=[_0x4808e7[_0x5eb80f(0xd1)]],_0x445b8a[_0x5eb80f(0xcd)]=_0x12070f;const _0x5c0d24=_0x445b8a,_0x56e477=await _0x19ec7c[_0x5eb80f(0xe5)](_0x5c0d24)[_0x5eb80f(0xcf)]();logger[_0x5eb80f(0xe1)](_0x4808e7[_0x5eb80f(0xdf)]);const _0x1f3983={};return _0x1f3983[_0x5eb80f(0xe0)]=_0x56e477[_0x5eb80f(0xf1)],_0x19ec7c[_0x5eb80f(0xd2)](_0x4808e7['eATDv'],_0x1f3983)[_0x5eb80f(0xcf)]();};