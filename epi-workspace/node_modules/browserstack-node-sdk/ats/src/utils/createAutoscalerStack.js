const a26_0x5ea9b4=a26_0x374e;(function(_0x2375e5,_0xef752){const _0x3d8ae2=a26_0x374e,_0x14ab07=_0x2375e5();while(!![]){try{const _0x4e7921=parseInt(_0x3d8ae2(0x20c))/0x1*(-parseInt(_0x3d8ae2(0x215))/0x2)+parseInt(_0x3d8ae2(0x21b))/0x3+parseInt(_0x3d8ae2(0x21c))/0x4+-parseInt(_0x3d8ae2(0x201))/0x5*(parseInt(_0x3d8ae2(0x228))/0x6)+parseInt(_0x3d8ae2(0x216))/0x7+parseInt(_0x3d8ae2(0x1f6))/0x8*(parseInt(_0x3d8ae2(0x207))/0x9)+-parseInt(_0x3d8ae2(0x1fa))/0xa;if(_0x4e7921===_0xef752)break;else _0x14ab07['push'](_0x14ab07['shift']());}catch(_0x2a9de9){_0x14ab07['push'](_0x14ab07['shift']());}}}(a26_0x1d1c,0x78427));const fs=require('fs'),path=require(a26_0x5ea9b4(0x223)),yaml=require('js-yaml'),{CLOUDFORMATION_SCHEMA}=require(a26_0x5ea9b4(0x1fd)),Promise=require('bluebird'),AWS=require(a26_0x5ea9b4(0x1fb))['awsObj'],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require(a26_0x5ea9b4(0x21f)),{logger}=require(a26_0x5ea9b4(0x205));Promise[a26_0x5ea9b4(0x225)](fs);const addAutoscalerTags=async(_0x1a60e9,_0x2736d0,_0x2f1518)=>{const _0x1dbee5=a26_0x5ea9b4;for(const _0x43d61c in _0x1a60e9[_0x1dbee5(0x1f3)]){_0x1a60e9[_0x1dbee5(0x1f3)][_0x43d61c][_0x1dbee5(0x21d)]&&_0x1a60e9[_0x1dbee5(0x1f3)][_0x43d61c][_0x1dbee5(0x21d)][_0x1dbee5(0x21e)]&&_0x1a60e9[_0x1dbee5(0x1f3)][_0x43d61c][_0x1dbee5(0x21d)][_0x1dbee5(0x21e)]['push'](..._0x2f1518);}};function a26_0x1d1c(){const _0x29890b=['20GELtku','2597287llufJX','CloudFormation','createAutoscalerStack','QnUuq','browserstack:cluster','1930221NPRTLc','2223728vuybNc','Properties','Tags','../config/constants','rlJQy','toString','pfsao','path','StackName','promisifyAll','CkUAi','oeOji','3292236RbKSCA','push','stackCreateComplete','promise','Resources','SoHdU','waitFor','138776WpvfCO','load','kweXT','browserstack:creationDate','3074570qwKjBr','./AWSUtils','WsiUb','js-yaml-cloudformation-schema','stringify','GkaXW','NmqFF','5lPLvJj','DELETE','join','apiVersion','../config/logger','Parameters','162WqNfFs','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','readFileAsync','Capabilities','OnFailure','53388zDNFQp','createStack','valueOf','utf-8','CAPABILITY_NAMED_IAM','debug','TqyAR','Value','ClusterName'];a26_0x1d1c=function(){return _0x29890b;};return a26_0x1d1c();}function a26_0x374e(_0x338aff,_0x307c11){const _0x1d1c82=a26_0x1d1c();return a26_0x374e=function(_0x374e08,_0x6dc1e4){_0x374e08=_0x374e08-0x1f1;let _0x5b3fde=_0x1d1c82[_0x374e08];return _0x5b3fde;},a26_0x374e(_0x338aff,_0x307c11);}exports[a26_0x5ea9b4(0x218)]=async _0x5e35e5=>{const _0x6927a4=a26_0x5ea9b4,_0x4b236f={'NmqFF':_0x6927a4(0x21a),'TqyAR':_0x6927a4(0x1f9),'kweXT':'2010-05-15','oeOji':'templates','CkUAi':'autoscaler-role-creation.yaml','QnUuq':_0x6927a4(0x20f),'WsiUb':function(_0x30b290,_0x39d3ef,_0x2cc869,_0x5ccd96){return _0x30b290(_0x39d3ef,_0x2cc869,_0x5ccd96);},'SoHdU':_0x6927a4(0x202),'ferFQ':_0x6927a4(0x214),'pfsao':_0x6927a4(0x210),'rlJQy':_0x6927a4(0x208),'GkaXW':_0x6927a4(0x1f1)},_0x216bd9=COMMON_HST_TAGS,_0x14e46e={};_0x14e46e['Key']=_0x4b236f[_0x6927a4(0x200)],_0x14e46e[_0x6927a4(0x213)]=_0x5e35e5,_0x216bd9[_0x6927a4(0x229)](_0x14e46e),_0x216bd9[_0x6927a4(0x229)]({'Key':_0x4b236f[_0x6927a4(0x212)],'Value':new Date()[_0x6927a4(0x20e)]()[_0x6927a4(0x221)]()});const _0x572d82={};_0x572d82[_0x6927a4(0x204)]=_0x4b236f[_0x6927a4(0x1f8)];const _0x321550=new AWS[(_0x6927a4(0x217))](_0x572d82),_0x4d4798=await fs[_0x6927a4(0x209)](path[_0x6927a4(0x203)](__dirname,'..',_0x4b236f[_0x6927a4(0x227)],_0x4b236f[_0x6927a4(0x226)]),_0x4b236f[_0x6927a4(0x219)]),_0x42d76c={};_0x42d76c['schema']=CLOUDFORMATION_SCHEMA;const _0x5d7ab6=yaml[_0x6927a4(0x1f7)](_0x4d4798,_0x42d76c);_0x4b236f[_0x6927a4(0x1fc)](addAutoscalerTags,_0x5d7ab6,_0x5e35e5,_0x216bd9);const _0x3cc215=JSON[_0x6927a4(0x1fe)](_0x5d7ab6),_0x324a92={};_0x324a92['StackName']=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x5e35e5,_0x324a92[_0x6927a4(0x20b)]=_0x4b236f[_0x6927a4(0x1f4)],_0x324a92['TemplateBody']=_0x3cc215,_0x324a92[_0x6927a4(0x206)]=[{'ParameterKey':_0x4b236f['ferFQ'],'ParameterValue':_0x5e35e5}],_0x324a92[_0x6927a4(0x20a)]=[_0x4b236f[_0x6927a4(0x222)]],_0x324a92['Tags']=_0x216bd9;const _0x3c2c4c=_0x324a92,_0x446dc3=await _0x321550[_0x6927a4(0x20d)](_0x3c2c4c)['promise']();logger[_0x6927a4(0x211)](_0x4b236f[_0x6927a4(0x220)]);const _0x5961f6={};return _0x5961f6[_0x6927a4(0x224)]=_0x446dc3['StackId'],_0x321550[_0x6927a4(0x1f5)](_0x4b236f[_0x6927a4(0x1ff)],_0x5961f6)[_0x6927a4(0x1f2)]();};