function a26_0x32c9(){const _0x1e903d=['js-yaml','readFileAsync','TemplateBody','RmWaf','ODIif','push','Tags','TRxDm','EEcuV','promise','js-yaml-cloudformation-schema','apiVersion','2112215hdOUaD','8ycDBEu','15656700bsVHba','yNROE','DELETE','toString','path','OnFailure','ClusterName','ZlLPv','EvXmI','5466phPhfx','awsObj','./AWSUtils','promisifyAll','24DcYYmQ','1223541CCIIEJ','schema','StackName','stringify','browserstack:cluster','1010aQmZPt','templates','174396LHlfhv','valueOf','waitFor','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','CVgPC','SzNSc','join','Properties','148491CPcLHm','debug','Key','Resources','1022196XnjByl','ODkeA','StackId'];a26_0x32c9=function(){return _0x1e903d;};return a26_0x32c9();}const a26_0x4af603=a26_0x5833;(function(_0x3cab97,_0x13e462){const _0x34a0f9=a26_0x5833,_0x4721a4=_0x3cab97();while(!![]){try{const _0x4e2ce8=parseInt(_0x34a0f9(0x1fd))/0x1+-parseInt(_0x34a0f9(0x1df))/0x2*(parseInt(_0x34a0f9(0x1f5))/0x3)+-parseInt(_0x34a0f9(0x201))/0x4+-parseInt(_0x34a0f9(0x1f3))/0x5*(parseInt(_0x34a0f9(0x1e9))/0x6)+-parseInt(_0x34a0f9(0x1de))/0x7+parseInt(_0x34a0f9(0x1ed))/0x8*(-parseInt(_0x34a0f9(0x1ee))/0x9)+parseInt(_0x34a0f9(0x1e0))/0xa;if(_0x4e2ce8===_0x13e462)break;else _0x4721a4['push'](_0x4721a4['shift']());}catch(_0x18c3a1){_0x4721a4['push'](_0x4721a4['shift']());}}}(a26_0x32c9,0x512b6));function a26_0x5833(_0x7dc690,_0x4119a7){const _0x32c92c=a26_0x32c9();return a26_0x5833=function(_0x583305,_0x3ba67f){_0x583305=_0x583305-0x1de;let _0x3a4f3e=_0x32c92c[_0x583305];return _0x3a4f3e;},a26_0x5833(_0x7dc690,_0x4119a7);}const fs=require('fs'),path=require(a26_0x4af603(0x1e4)),yaml=require(a26_0x4af603(0x204)),{CLOUDFORMATION_SCHEMA}=require(a26_0x4af603(0x20e)),Promise=require('bluebird'),AWS=require(a26_0x4af603(0x1eb))[a26_0x4af603(0x1ea)],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require('../config/constants'),{logger}=require('../config/logger');Promise[a26_0x4af603(0x1ec)](fs);const addAutoscalerTags=async(_0x3b14d7,_0x50db34,_0x2c541a)=>{const _0x38c7f1=a26_0x4af603;for(const _0x2dde15 in _0x3b14d7[_0x38c7f1(0x200)]){_0x3b14d7[_0x38c7f1(0x200)][_0x2dde15][_0x38c7f1(0x1fc)]&&_0x3b14d7['Resources'][_0x2dde15][_0x38c7f1(0x1fc)]['Tags']&&_0x3b14d7[_0x38c7f1(0x200)][_0x2dde15][_0x38c7f1(0x1fc)]['Tags']['push'](..._0x2c541a);}};exports['createAutoscalerStack']=async _0x24aff1=>{const _0x2e671b=a26_0x4af603,_0x28b874={'EvXmI':_0x2e671b(0x1f2),'iSDtI':'browserstack:creationDate','CVgPC':'2010-05-15','SzNSc':_0x2e671b(0x1f4),'RmWaf':'autoscaler-role-creation.yaml','ZlLPv':'utf-8','EEcuV':function(_0x5bf409,_0x287c4f,_0x2630c8,_0x54776f){return _0x5bf409(_0x287c4f,_0x2630c8,_0x54776f);},'yNROE':_0x2e671b(0x1e2),'TRxDm':_0x2e671b(0x1e6),'ODIif':'CAPABILITY_NAMED_IAM','ODkeA':_0x2e671b(0x1f8),'uAQck':'stackCreateComplete'},_0x67223b=COMMON_HST_TAGS,_0x3eca63={};_0x3eca63[_0x2e671b(0x1ff)]=_0x28b874[_0x2e671b(0x1e8)],_0x3eca63['Value']=_0x24aff1,_0x67223b[_0x2e671b(0x209)](_0x3eca63),_0x67223b[_0x2e671b(0x209)]({'Key':_0x28b874['iSDtI'],'Value':new Date()[_0x2e671b(0x1f6)]()[_0x2e671b(0x1e3)]()});const _0x99eb3a={};_0x99eb3a[_0x2e671b(0x20f)]=_0x28b874[_0x2e671b(0x1f9)];const _0x376c72=new AWS['CloudFormation'](_0x99eb3a),_0x4d3e5f=await fs[_0x2e671b(0x205)](path[_0x2e671b(0x1fb)](__dirname,'..',_0x28b874[_0x2e671b(0x1fa)],_0x28b874[_0x2e671b(0x207)]),_0x28b874[_0x2e671b(0x1e7)]),_0x4bc007={};_0x4bc007[_0x2e671b(0x1ef)]=CLOUDFORMATION_SCHEMA;const _0x350a17=yaml['load'](_0x4d3e5f,_0x4bc007);_0x28b874[_0x2e671b(0x20c)](addAutoscalerTags,_0x350a17,_0x24aff1,_0x67223b);const _0x3fbcbc=JSON[_0x2e671b(0x1f1)](_0x350a17),_0x22e748={};_0x22e748[_0x2e671b(0x1f0)]=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x24aff1,_0x22e748[_0x2e671b(0x1e5)]=_0x28b874[_0x2e671b(0x1e1)],_0x22e748[_0x2e671b(0x206)]=_0x3fbcbc,_0x22e748['Parameters']=[{'ParameterKey':_0x28b874[_0x2e671b(0x20b)],'ParameterValue':_0x24aff1}],_0x22e748['Capabilities']=[_0x28b874[_0x2e671b(0x208)]],_0x22e748[_0x2e671b(0x20a)]=_0x67223b;const _0x27c22a=_0x22e748,_0xa136f1=await _0x376c72['createStack'](_0x27c22a)[_0x2e671b(0x20d)]();logger[_0x2e671b(0x1fe)](_0x28b874[_0x2e671b(0x202)]);const _0x5eec99={};return _0x5eec99[_0x2e671b(0x1f0)]=_0xa136f1[_0x2e671b(0x203)],_0x376c72[_0x2e671b(0x1f7)](_0x28b874['uAQck'],_0x5eec99)[_0x2e671b(0x20d)]();};