const a26_0x572168=a26_0x26c8;(function(_0x4b496d,_0x4b8bbf){const _0x4f9fad=a26_0x26c8,_0x47efc9=_0x4b496d();while(!![]){try{const _0x13cb62=parseInt(_0x4f9fad(0x15b))/0x1+parseInt(_0x4f9fad(0x140))/0x2+parseInt(_0x4f9fad(0x138))/0x3*(parseInt(_0x4f9fad(0x151))/0x4)+parseInt(_0x4f9fad(0x139))/0x5+-parseInt(_0x4f9fad(0x12c))/0x6*(-parseInt(_0x4f9fad(0x155))/0x7)+-parseInt(_0x4f9fad(0x157))/0x8*(-parseInt(_0x4f9fad(0x137))/0x9)+-parseInt(_0x4f9fad(0x13d))/0xa;if(_0x13cb62===_0x4b8bbf)break;else _0x47efc9['push'](_0x47efc9['shift']());}catch(_0x51fb93){_0x47efc9['push'](_0x47efc9['shift']());}}}(a26_0x1f9e,0x946d5));const fs=require('fs'),path=require(a26_0x572168(0x142)),yaml=require('js-yaml'),{CLOUDFORMATION_SCHEMA}=require(a26_0x572168(0x15f)),Promise=require(a26_0x572168(0x145)),AWS=require(a26_0x572168(0x136))['awsObj'],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require(a26_0x572168(0x132)),{logger}=require(a26_0x572168(0x154));Promise[a26_0x572168(0x131)](fs);const addAutoscalerTags=async(_0x388627,_0x2b6689,_0x1ea7ec)=>{const _0x5e4b78=a26_0x572168;for(const _0x53a509 in _0x388627['Resources']){_0x388627[_0x5e4b78(0x14b)][_0x53a509][_0x5e4b78(0x156)]&&_0x388627[_0x5e4b78(0x14b)][_0x53a509][_0x5e4b78(0x156)]['Tags']&&_0x388627[_0x5e4b78(0x14b)][_0x53a509]['Properties'][_0x5e4b78(0x147)][_0x5e4b78(0x13c)](..._0x1ea7ec);}};function a26_0x26c8(_0x38b0e1,_0x201e10){const _0x1f9e96=a26_0x1f9e();return a26_0x26c8=function(_0x26c836,_0x59f164){_0x26c836=_0x26c836-0x12b;let _0x810592=_0x1f9e96[_0x26c836];return _0x810592;},a26_0x26c8(_0x38b0e1,_0x201e10);}function a26_0x1f9e(){const _0x4e0dc8=['2010-05-15','PNZUj','promisifyAll','../config/constants','VuHzY','Value','schema','./AWSUtils','1390707Ulltjh','6rgMgTg','2071975HpgqBw','browserstack:cluster','load','push','21845640GheLCB','stackCreateComplete','join','508418AngKnT','autoscaler-role-creation.yaml','path','utf-8','DELETE','bluebird','IcEkT','Tags','Parameters','anhHR','vPhTG','Resources','OnFailure','JBWBu','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','toString','templates','924324YSeFlp','yvvEv','debug','../config/logger','556549kzDiLa','Properties','32gPeopq','createStack','apiVersion','CloudFormation','328100dgoUbP','StackName','browserstack:creationDate','mVoBp','js-yaml-cloudformation-schema','promise','54hnBoOD','waitFor','Capabilities'];a26_0x1f9e=function(){return _0x4e0dc8;};return a26_0x1f9e();}exports['createAutoscalerStack']=async _0x3c505f=>{const _0x5c9f0=a26_0x572168,_0x151fe1={'xLLzv':_0x5c9f0(0x13a),'JBWBu':_0x5c9f0(0x15d),'PNZUj':_0x5c9f0(0x12f),'anhHR':_0x5c9f0(0x150),'IcEkT':_0x5c9f0(0x141),'yvvEv':_0x5c9f0(0x143),'uvZZG':function(_0x286ae1,_0x2cda03,_0x5c5953,_0x2cd91e){return _0x286ae1(_0x2cda03,_0x5c5953,_0x2cd91e);},'hmAQA':_0x5c9f0(0x144),'VgzzP':'ClusterName','vPhTG':'CAPABILITY_NAMED_IAM','mVoBp':_0x5c9f0(0x14e),'VuHzY':_0x5c9f0(0x13e)},_0x4139d8=COMMON_HST_TAGS,_0x859e08={};_0x859e08['Key']=_0x151fe1['xLLzv'],_0x859e08[_0x5c9f0(0x134)]=_0x3c505f,_0x4139d8[_0x5c9f0(0x13c)](_0x859e08),_0x4139d8[_0x5c9f0(0x13c)]({'Key':_0x151fe1[_0x5c9f0(0x14d)],'Value':new Date()['valueOf']()[_0x5c9f0(0x14f)]()});const _0x2e2e00={};_0x2e2e00[_0x5c9f0(0x159)]=_0x151fe1[_0x5c9f0(0x130)];const _0xc87e21=new AWS[(_0x5c9f0(0x15a))](_0x2e2e00),_0x5711e3=await fs['readFileAsync'](path[_0x5c9f0(0x13f)](__dirname,'..',_0x151fe1[_0x5c9f0(0x149)],_0x151fe1[_0x5c9f0(0x146)]),_0x151fe1[_0x5c9f0(0x152)]),_0x432170={};_0x432170[_0x5c9f0(0x135)]=CLOUDFORMATION_SCHEMA;const _0x38bf78=yaml[_0x5c9f0(0x13b)](_0x5711e3,_0x432170);_0x151fe1['uvZZG'](addAutoscalerTags,_0x38bf78,_0x3c505f,_0x4139d8);const _0x1ae24c=JSON['stringify'](_0x38bf78),_0xbe02d8={};_0xbe02d8[_0x5c9f0(0x15c)]=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x3c505f,_0xbe02d8[_0x5c9f0(0x14c)]=_0x151fe1['hmAQA'],_0xbe02d8['TemplateBody']=_0x1ae24c,_0xbe02d8[_0x5c9f0(0x148)]=[{'ParameterKey':_0x151fe1['VgzzP'],'ParameterValue':_0x3c505f}],_0xbe02d8[_0x5c9f0(0x12e)]=[_0x151fe1[_0x5c9f0(0x14a)]],_0xbe02d8[_0x5c9f0(0x147)]=_0x4139d8;const _0x578779=_0xbe02d8,_0x413be1=await _0xc87e21[_0x5c9f0(0x158)](_0x578779)[_0x5c9f0(0x12b)]();logger[_0x5c9f0(0x153)](_0x151fe1[_0x5c9f0(0x15e)]);const _0x42b700={};return _0x42b700['StackName']=_0x413be1['StackId'],_0xc87e21[_0x5c9f0(0x12d)](_0x151fe1[_0x5c9f0(0x133)],_0x42b700)['promise']();};