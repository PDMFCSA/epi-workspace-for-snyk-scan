const a26_0xcab001=a26_0x5de2;(function(_0x56a9a8,_0x223ab9){const _0x5a96b0=a26_0x5de2,_0x394606=_0x56a9a8();while(!![]){try{const _0x2f2f17=-parseInt(_0x5a96b0(0x120))/0x1+-parseInt(_0x5a96b0(0x104))/0x2*(-parseInt(_0x5a96b0(0xfa))/0x3)+-parseInt(_0x5a96b0(0xfb))/0x4+-parseInt(_0x5a96b0(0x126))/0x5*(parseInt(_0x5a96b0(0x101))/0x6)+-parseInt(_0x5a96b0(0xfd))/0x7*(parseInt(_0x5a96b0(0x128))/0x8)+parseInt(_0x5a96b0(0x123))/0x9*(parseInt(_0x5a96b0(0x122))/0xa)+parseInt(_0x5a96b0(0x114))/0xb*(parseInt(_0x5a96b0(0x105))/0xc);if(_0x2f2f17===_0x223ab9)break;else _0x394606['push'](_0x394606['shift']());}catch(_0x31cbad){_0x394606['push'](_0x394606['shift']());}}}(a26_0x3d0d,0x8513e));function a26_0x3d0d(){const _0x279930=['StackName','debug','11NuUaiR','tpBBa','geGDC','OnFailure','readFileAsync','awsObj','Properties','CloudFormation','../config/constants','promise','waitFor','Resources','72254ldzLgO','push','1110kMcPvg','10953sfKQun','bBMuT','JumpL','845spAAbq','browserstack:creationDate','2992pNQukw','schema','Tags','Capabilities','2010-05-15','./AWSUtils','stringify','valueOf','21819NCzgAX','2895452pmibHl','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','10871oSIiBQ','BmFRT','autoscaler-role-creation.yaml','DELETE','22548AOWLyF','browserstack:cluster','ylzHB','266UFTHPO','17456772nUECwI','templates','StackId','Parameters','apiVersion','dbnRF','js-yaml','createAutoscalerStack','bluebird','promisifyAll','BkJzv','stackCreateComplete','UNNhZ'];a26_0x3d0d=function(){return _0x279930;};return a26_0x3d0d();}const fs=require('fs'),path=require('path'),yaml=require(a26_0xcab001(0x10b)),{CLOUDFORMATION_SCHEMA}=require('js-yaml-cloudformation-schema'),Promise=require(a26_0xcab001(0x10d)),AWS=require(a26_0xcab001(0xf7))[a26_0xcab001(0x119)],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require(a26_0xcab001(0x11c)),{logger}=require('../config/logger');function a26_0x5de2(_0x2a617d,_0x158a0b){const _0x3d0de8=a26_0x3d0d();return a26_0x5de2=function(_0x5de2b2,_0x1303f5){_0x5de2b2=_0x5de2b2-0xf7;let _0x230b23=_0x3d0de8[_0x5de2b2];return _0x230b23;},a26_0x5de2(_0x2a617d,_0x158a0b);}Promise[a26_0xcab001(0x10e)](fs);const addAutoscalerTags=async(_0x401800,_0x35c525,_0x2930e6)=>{const _0x32dc61=a26_0xcab001;for(const _0x19e790 in _0x401800[_0x32dc61(0x11f)]){_0x401800['Resources'][_0x19e790][_0x32dc61(0x11a)]&&_0x401800['Resources'][_0x19e790][_0x32dc61(0x11a)][_0x32dc61(0x12a)]&&_0x401800[_0x32dc61(0x11f)][_0x19e790]['Properties'][_0x32dc61(0x12a)][_0x32dc61(0x121)](..._0x2930e6);}};exports[a26_0xcab001(0x10c)]=async _0x3c7ab8=>{const _0x54194e=a26_0xcab001,_0x424f90={'ylzHB':_0x54194e(0x102),'BkJzv':_0x54194e(0x127),'dbnRF':_0x54194e(0x12c),'geGDC':_0x54194e(0x106),'UNNhZ':_0x54194e(0xff),'mzVUQ':'utf-8','tpBBa':function(_0x154811,_0x77d20d,_0x2578fe,_0x2b558f){return _0x154811(_0x77d20d,_0x2578fe,_0x2b558f);},'UQvEG':_0x54194e(0x100),'BmFRT':'ClusterName','JumpL':'CAPABILITY_NAMED_IAM','bBMuT':_0x54194e(0xfc),'taZmx':_0x54194e(0x110)},_0x4d0d3e=COMMON_HST_TAGS,_0x22b200={};_0x22b200['Key']=_0x424f90[_0x54194e(0x103)],_0x22b200['Value']=_0x3c7ab8,_0x4d0d3e[_0x54194e(0x121)](_0x22b200),_0x4d0d3e[_0x54194e(0x121)]({'Key':_0x424f90[_0x54194e(0x10f)],'Value':new Date()[_0x54194e(0xf9)]()['toString']()});const _0x475ad6={};_0x475ad6[_0x54194e(0x109)]=_0x424f90[_0x54194e(0x10a)];const _0x1c4409=new AWS[(_0x54194e(0x11b))](_0x475ad6),_0x5501f1=await fs[_0x54194e(0x118)](path['join'](__dirname,'..',_0x424f90[_0x54194e(0x116)],_0x424f90[_0x54194e(0x111)]),_0x424f90['mzVUQ']),_0x597dfa={};_0x597dfa[_0x54194e(0x129)]=CLOUDFORMATION_SCHEMA;const _0x1bd14c=yaml['load'](_0x5501f1,_0x597dfa);_0x424f90[_0x54194e(0x115)](addAutoscalerTags,_0x1bd14c,_0x3c7ab8,_0x4d0d3e);const _0x5ddba8=JSON[_0x54194e(0xf8)](_0x1bd14c),_0x4fd89e={};_0x4fd89e[_0x54194e(0x112)]=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x3c7ab8,_0x4fd89e[_0x54194e(0x117)]=_0x424f90['UQvEG'],_0x4fd89e['TemplateBody']=_0x5ddba8,_0x4fd89e[_0x54194e(0x108)]=[{'ParameterKey':_0x424f90[_0x54194e(0xfe)],'ParameterValue':_0x3c7ab8}],_0x4fd89e[_0x54194e(0x12b)]=[_0x424f90[_0x54194e(0x125)]],_0x4fd89e[_0x54194e(0x12a)]=_0x4d0d3e;const _0x2c06ab=_0x4fd89e,_0x3e7cf1=await _0x1c4409['createStack'](_0x2c06ab)[_0x54194e(0x11d)]();logger[_0x54194e(0x113)](_0x424f90[_0x54194e(0x124)]);const _0x209b6b={};return _0x209b6b[_0x54194e(0x112)]=_0x3e7cf1[_0x54194e(0x107)],_0x1c4409[_0x54194e(0x11e)](_0x424f90['taZmx'],_0x209b6b)[_0x54194e(0x11d)]();};