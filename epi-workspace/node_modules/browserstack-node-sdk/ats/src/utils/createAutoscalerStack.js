const a26_0x515147=a26_0x2834;(function(_0x57fd3b,_0xffae7e){const _0x4ea055=a26_0x2834,_0x427d52=_0x57fd3b();while(!![]){try{const _0x14d025=parseInt(_0x4ea055(0x113))/0x1+-parseInt(_0x4ea055(0x123))/0x2+parseInt(_0x4ea055(0x127))/0x3*(-parseInt(_0x4ea055(0x107))/0x4)+-parseInt(_0x4ea055(0x109))/0x5+parseInt(_0x4ea055(0x11d))/0x6+parseInt(_0x4ea055(0x102))/0x7*(parseInt(_0x4ea055(0x105))/0x8)+parseInt(_0x4ea055(0x108))/0x9*(parseInt(_0x4ea055(0x117))/0xa);if(_0x14d025===_0xffae7e)break;else _0x427d52['push'](_0x427d52['shift']());}catch(_0x439084){_0x427d52['push'](_0x427d52['shift']());}}}(a26_0x234a,0x3b052));function a26_0x234a(){const _0x53fe76=['551006LjiQmO','browserstack:cluster','Resources','TemplateBody','9ElZqcr','./AWSUtils','CMYrf','EAiOk','awsObj','schema','stackCreateComplete','CAPABILITY_NAMED_IAM','jeJWn','load','createAutoscalerStack','toString','../config/constants','NozMk','Tags','js-yaml-cloudformation-schema','OnFailure','js-yaml','apiVersion','waitFor','7wgmtpt','nYLxP','readFileAsync','1681304KOqxKZ','StackName','159128FMCkjE','83826zvwJle','1435930KcujiK','bluebird','debug','Capabilities','ClusterName','Uflvo','push','templates','path','promise','204123pHEHwC','TfWDC','autoscaler-role-creation.yaml','2010-05-15','40ivoeIQ','Properties','ztkmL','Value','valueOf','Parameters','2833434UzJjTI','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','CloudFormation','createStack','stringify','StackId'];a26_0x234a=function(){return _0x53fe76;};return a26_0x234a();}const fs=require('fs'),path=require(a26_0x515147(0x111)),yaml=require(a26_0x515147(0xff)),{CLOUDFORMATION_SCHEMA}=require(a26_0x515147(0xfd)),Promise=require(a26_0x515147(0x10a)),AWS=require(a26_0x515147(0x128))[a26_0x515147(0xf2)],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require(a26_0x515147(0xfa)),{logger}=require('../config/logger');Promise['promisifyAll'](fs);function a26_0x2834(_0x319092,_0x3f4a34){const _0x234aa7=a26_0x234a();return a26_0x2834=function(_0x283453,_0xec5e16){_0x283453=_0x283453-0xf0;let _0x254065=_0x234aa7[_0x283453];return _0x254065;},a26_0x2834(_0x319092,_0x3f4a34);}const addAutoscalerTags=async(_0x204ac1,_0x7d3e4d,_0xabb698)=>{const _0x362c0d=a26_0x515147;for(const _0x4f793d in _0x204ac1[_0x362c0d(0x125)]){_0x204ac1[_0x362c0d(0x125)][_0x4f793d][_0x362c0d(0x118)]&&_0x204ac1[_0x362c0d(0x125)][_0x4f793d]['Properties'][_0x362c0d(0xfc)]&&_0x204ac1['Resources'][_0x4f793d][_0x362c0d(0x118)]['Tags'][_0x362c0d(0x10f)](..._0xabb698);}};exports[a26_0x515147(0xf8)]=async _0x36ed5f=>{const _0x1c2c59=a26_0x515147,_0x137be0={'BsFtY':_0x1c2c59(0x124),'wIozg':'browserstack:creationDate','yaNNf':_0x1c2c59(0x116),'nYLxP':_0x1c2c59(0x110),'EAiOk':_0x1c2c59(0x115),'TfWDC':'utf-8','NozMk':function(_0x416218,_0x445500,_0x4e9bc7,_0x29246f){return _0x416218(_0x445500,_0x4e9bc7,_0x29246f);},'CMYrf':'DELETE','ztkmL':_0x1c2c59(0x10d),'jeJWn':_0x1c2c59(0xf5),'Uflvo':_0x1c2c59(0x11e),'gEoyD':_0x1c2c59(0xf4)},_0x39a2e8=COMMON_HST_TAGS,_0x470c40={};_0x470c40['Key']=_0x137be0['BsFtY'],_0x470c40[_0x1c2c59(0x11a)]=_0x36ed5f,_0x39a2e8[_0x1c2c59(0x10f)](_0x470c40),_0x39a2e8[_0x1c2c59(0x10f)]({'Key':_0x137be0['wIozg'],'Value':new Date()[_0x1c2c59(0x11b)]()[_0x1c2c59(0xf9)]()});const _0xbba4eb={};_0xbba4eb[_0x1c2c59(0x100)]=_0x137be0['yaNNf'];const _0x1bae8f=new AWS[(_0x1c2c59(0x11f))](_0xbba4eb),_0x490135=await fs[_0x1c2c59(0x104)](path['join'](__dirname,'..',_0x137be0[_0x1c2c59(0x103)],_0x137be0[_0x1c2c59(0xf1)]),_0x137be0[_0x1c2c59(0x114)]),_0x4937c3={};_0x4937c3[_0x1c2c59(0xf3)]=CLOUDFORMATION_SCHEMA;const _0x320089=yaml[_0x1c2c59(0xf7)](_0x490135,_0x4937c3);_0x137be0[_0x1c2c59(0xfb)](addAutoscalerTags,_0x320089,_0x36ed5f,_0x39a2e8);const _0x5a3c3b=JSON[_0x1c2c59(0x121)](_0x320089),_0x5bd796={};_0x5bd796['StackName']=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x36ed5f,_0x5bd796[_0x1c2c59(0xfe)]=_0x137be0[_0x1c2c59(0xf0)],_0x5bd796[_0x1c2c59(0x126)]=_0x5a3c3b,_0x5bd796[_0x1c2c59(0x11c)]=[{'ParameterKey':_0x137be0[_0x1c2c59(0x119)],'ParameterValue':_0x36ed5f}],_0x5bd796[_0x1c2c59(0x10c)]=[_0x137be0[_0x1c2c59(0xf6)]],_0x5bd796[_0x1c2c59(0xfc)]=_0x39a2e8;const _0x725a5=_0x5bd796,_0x1f56a7=await _0x1bae8f[_0x1c2c59(0x120)](_0x725a5)[_0x1c2c59(0x112)]();logger[_0x1c2c59(0x10b)](_0x137be0[_0x1c2c59(0x10e)]);const _0x58f429={};return _0x58f429[_0x1c2c59(0x106)]=_0x1f56a7[_0x1c2c59(0x122)],_0x1bae8f[_0x1c2c59(0x101)](_0x137be0['gEoyD'],_0x58f429)[_0x1c2c59(0x112)]();};