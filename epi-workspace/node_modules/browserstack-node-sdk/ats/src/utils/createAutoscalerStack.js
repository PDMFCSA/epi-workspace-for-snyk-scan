const a26_0x34c171=a26_0x419b;function a26_0x419b(_0x42eecb,_0x32e13d){const _0x5f42a3=a26_0x5f42();return a26_0x419b=function(_0x419b82,_0xd4099c){_0x419b82=_0x419b82-0x168;let _0x1ccd2b=_0x5f42a3[_0x419b82];return _0x1ccd2b;},a26_0x419b(_0x42eecb,_0x32e13d);}(function(_0x446b51,_0x23666c){const _0x3fcc3f=a26_0x419b,_0x245a80=_0x446b51();while(!![]){try{const _0x318f4a=-parseInt(_0x3fcc3f(0x196))/0x1*(parseInt(_0x3fcc3f(0x182))/0x2)+parseInt(_0x3fcc3f(0x199))/0x3+-parseInt(_0x3fcc3f(0x17c))/0x4+-parseInt(_0x3fcc3f(0x173))/0x5*(parseInt(_0x3fcc3f(0x18e))/0x6)+-parseInt(_0x3fcc3f(0x172))/0x7+parseInt(_0x3fcc3f(0x170))/0x8+-parseInt(_0x3fcc3f(0x19a))/0x9*(-parseInt(_0x3fcc3f(0x185))/0xa);if(_0x318f4a===_0x23666c)break;else _0x245a80['push'](_0x245a80['shift']());}catch(_0x2f9f98){_0x245a80['push'](_0x245a80['shift']());}}}(a26_0x5f42,0x7dd83));const fs=require('fs'),path=require('path'),yaml=require(a26_0x34c171(0x16b)),{CLOUDFORMATION_SCHEMA}=require(a26_0x34c171(0x175)),Promise=require(a26_0x34c171(0x197)),AWS=require(a26_0x34c171(0x189))['awsObj'],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require('../config/constants'),{logger}=require(a26_0x34c171(0x171));Promise[a26_0x34c171(0x16f)](fs);const addAutoscalerTags=async(_0x33c47c,_0x66dff2,_0x59210d)=>{const _0xdd2cc1=a26_0x34c171;for(const _0x33098c in _0x33c47c[_0xdd2cc1(0x178)]){_0x33c47c['Resources'][_0x33098c][_0xdd2cc1(0x16d)]&&_0x33c47c['Resources'][_0x33098c]['Properties'][_0xdd2cc1(0x17b)]&&_0x33c47c[_0xdd2cc1(0x178)][_0x33098c][_0xdd2cc1(0x16d)][_0xdd2cc1(0x17b)][_0xdd2cc1(0x187)](..._0x59210d);}};function a26_0x5f42(){const _0x20d415=['FRUdq','2010-05-15','autoscaler-role-creation.yaml','CloudFormation','WzohR','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','94SUgjHc','bluebird','Value','1927920LLyXcS','2796597wKStMR','Key','wWtWI','Parameters','promise','js-yaml','waitFor','Properties','schema','promisifyAll','1596352zassaH','../config/logger','3798445SwXYIw','175lDMsJn','readFileAsync','js-yaml-cloudformation-schema','Oowjd','utf-8','Resources','debug','browserstack:cluster','Tags','3922604tLwKQo','wnWED','StackName','createAutoscalerStack','ZBfUf','ClusterName','10646tVtUAK','apiVersion','hqBwJ','60UaZxJq','valueOf','push','AAOgX','./AWSUtils','Capabilities','browserstack:creationDate','DELETE','createStack','28710KHzYDt','TemplateBody'];a26_0x5f42=function(){return _0x20d415;};return a26_0x5f42();}exports[a26_0x34c171(0x17f)]=async _0x20c014=>{const _0x12d57f=a26_0x34c171,_0x44d628={'ZBfUf':_0x12d57f(0x17a),'FRUdq':_0x12d57f(0x18b),'hqBwJ':_0x12d57f(0x191),'qLCEY':'templates','AAOgX':_0x12d57f(0x192),'WzohR':_0x12d57f(0x177),'wWtWI':function(_0x1f1c1d,_0x1d6853,_0x3cb41c,_0x6a6442){return _0x1f1c1d(_0x1d6853,_0x3cb41c,_0x6a6442);},'wnWED':_0x12d57f(0x18c),'fifkf':_0x12d57f(0x181),'aRqJS':'CAPABILITY_NAMED_IAM','DNKfV':_0x12d57f(0x195),'Oowjd':'stackCreateComplete'},_0x312356=COMMON_HST_TAGS,_0x206fe0={};_0x206fe0[_0x12d57f(0x19b)]=_0x44d628[_0x12d57f(0x180)],_0x206fe0[_0x12d57f(0x198)]=_0x20c014,_0x312356[_0x12d57f(0x187)](_0x206fe0),_0x312356['push']({'Key':_0x44d628[_0x12d57f(0x190)],'Value':new Date()[_0x12d57f(0x186)]()['toString']()});const _0x4769b3={};_0x4769b3[_0x12d57f(0x183)]=_0x44d628[_0x12d57f(0x184)];const _0xc22e8e=new AWS[(_0x12d57f(0x193))](_0x4769b3),_0x2f1182=await fs[_0x12d57f(0x174)](path['join'](__dirname,'..',_0x44d628['qLCEY'],_0x44d628[_0x12d57f(0x188)]),_0x44d628[_0x12d57f(0x194)]),_0x38abbd={};_0x38abbd[_0x12d57f(0x16e)]=CLOUDFORMATION_SCHEMA;const _0x45afcc=yaml['load'](_0x2f1182,_0x38abbd);_0x44d628[_0x12d57f(0x168)](addAutoscalerTags,_0x45afcc,_0x20c014,_0x312356);const _0x47dfd1=JSON['stringify'](_0x45afcc),_0x357787={};_0x357787['StackName']=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x20c014,_0x357787['OnFailure']=_0x44d628[_0x12d57f(0x17d)],_0x357787[_0x12d57f(0x18f)]=_0x47dfd1,_0x357787[_0x12d57f(0x169)]=[{'ParameterKey':_0x44d628['fifkf'],'ParameterValue':_0x20c014}],_0x357787[_0x12d57f(0x18a)]=[_0x44d628['aRqJS']],_0x357787[_0x12d57f(0x17b)]=_0x312356;const _0x2be3e4=_0x357787,_0x4edab7=await _0xc22e8e[_0x12d57f(0x18d)](_0x2be3e4)[_0x12d57f(0x16a)]();logger[_0x12d57f(0x179)](_0x44d628['DNKfV']);const _0x1c25fb={};return _0x1c25fb[_0x12d57f(0x17e)]=_0x4edab7['StackId'],_0xc22e8e[_0x12d57f(0x16c)](_0x44d628[_0x12d57f(0x176)],_0x1c25fb)[_0x12d57f(0x16a)]();};