const a26_0x236b15=a26_0x35f8;function a26_0x35f8(_0x1c64d6,_0x14e886){const _0x261db9=a26_0x261d();return a26_0x35f8=function(_0x35f868,_0x412995){_0x35f868=_0x35f868-0x106;let _0x296dcd=_0x261db9[_0x35f868];return _0x296dcd;},a26_0x35f8(_0x1c64d6,_0x14e886);}function a26_0x261d(){const _0x48814f=['../config/logger','2010-05-15','2204144YwJNaF','Value','stackCreateComplete','load','409896xRoETg','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','DbXRN','5456956BWCbjm','Tags','TemplateBody','push','Key','StackId','stringify','DELETE','Capabilities','eaylQ','browserstack:creationDate','857569BWbbkq','CAPABILITY_NAMED_IAM','promise','Properties','15RrhmbV','Resources','ClusterName','wQaFJ','cwJYL','1425595zEhipH','createAutoscalerStack','YVWJH','join','path','apiVersion','autoscaler-role-creation.yaml','JevoL','schema','StackName','toString','6243013DQKkfx','promisifyAll','awsObj','browserstack:cluster','valueOf','pzlOZ','24AyuWrb','waitFor','js-yaml','dGSNu','410408NCyXGL'];a26_0x261d=function(){return _0x48814f;};return a26_0x261d();}(function(_0x381b65,_0x152043){const _0x5052c3=a26_0x35f8,_0x42b7e3=_0x381b65();while(!![]){try{const _0x33e682=parseInt(_0x5052c3(0x109))/0x1+parseInt(_0x5052c3(0x127))/0x2*(-parseInt(_0x5052c3(0x10d))/0x3)+parseInt(_0x5052c3(0x131))/0x4+parseInt(_0x5052c3(0x112))/0x5*(-parseInt(_0x5052c3(0x123))/0x6)+parseInt(_0x5052c3(0x11d))/0x7+-parseInt(_0x5052c3(0x12a))/0x8+parseInt(_0x5052c3(0x12e))/0x9;if(_0x33e682===_0x152043)break;else _0x42b7e3['push'](_0x42b7e3['shift']());}catch(_0x1ac987){_0x42b7e3['push'](_0x42b7e3['shift']());}}}(a26_0x261d,0xaf18d));const fs=require('fs'),path=require(a26_0x236b15(0x116)),yaml=require(a26_0x236b15(0x125)),{CLOUDFORMATION_SCHEMA}=require('js-yaml-cloudformation-schema'),Promise=require('bluebird'),AWS=require('./AWSUtils')[a26_0x236b15(0x11f)],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require('../config/constants'),{logger}=require(a26_0x236b15(0x128));Promise[a26_0x236b15(0x11e)](fs);const addAutoscalerTags=async(_0x407816,_0x27b5db,_0x28ab9a)=>{const _0x5ab80b=a26_0x236b15;for(const _0x372752 in _0x407816[_0x5ab80b(0x10e)]){_0x407816[_0x5ab80b(0x10e)][_0x372752][_0x5ab80b(0x10c)]&&_0x407816[_0x5ab80b(0x10e)][_0x372752][_0x5ab80b(0x10c)]['Tags']&&_0x407816[_0x5ab80b(0x10e)][_0x372752][_0x5ab80b(0x10c)][_0x5ab80b(0x132)][_0x5ab80b(0x134)](..._0x28ab9a);}};exports[a26_0x236b15(0x113)]=async _0x57e792=>{const _0xbff16e=a26_0x236b15,_0xb68f6b={'DbXRN':_0xbff16e(0x120),'JevoL':_0xbff16e(0x108),'YVWJH':_0xbff16e(0x129),'eaylQ':'templates','PLUvo':_0xbff16e(0x118),'qxMMi':'utf-8','kxEav':function(_0x4e9668,_0x3f34e3,_0x124e8c,_0x1cbebd){return _0x4e9668(_0x3f34e3,_0x124e8c,_0x1cbebd);},'wQaFJ':_0xbff16e(0x138),'dGSNu':_0xbff16e(0x10f),'cwJYL':_0xbff16e(0x10a),'tMACS':_0xbff16e(0x12f),'pzlOZ':_0xbff16e(0x12c)},_0x55602c=COMMON_HST_TAGS,_0x4838f1={};_0x4838f1[_0xbff16e(0x135)]=_0xb68f6b[_0xbff16e(0x130)],_0x4838f1[_0xbff16e(0x12b)]=_0x57e792,_0x55602c[_0xbff16e(0x134)](_0x4838f1),_0x55602c[_0xbff16e(0x134)]({'Key':_0xb68f6b[_0xbff16e(0x119)],'Value':new Date()[_0xbff16e(0x121)]()[_0xbff16e(0x11c)]()});const _0x4b4ea3={};_0x4b4ea3[_0xbff16e(0x117)]=_0xb68f6b[_0xbff16e(0x114)];const _0x47652b=new AWS['CloudFormation'](_0x4b4ea3),_0xb0a0b9=await fs['readFileAsync'](path[_0xbff16e(0x115)](__dirname,'..',_0xb68f6b[_0xbff16e(0x107)],_0xb68f6b['PLUvo']),_0xb68f6b['qxMMi']),_0x2643a2={};_0x2643a2[_0xbff16e(0x11a)]=CLOUDFORMATION_SCHEMA;const _0x33f4bb=yaml[_0xbff16e(0x12d)](_0xb0a0b9,_0x2643a2);_0xb68f6b['kxEav'](addAutoscalerTags,_0x33f4bb,_0x57e792,_0x55602c);const _0x17b5bb=JSON[_0xbff16e(0x137)](_0x33f4bb),_0x472a33={};_0x472a33[_0xbff16e(0x11b)]=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x57e792,_0x472a33['OnFailure']=_0xb68f6b[_0xbff16e(0x110)],_0x472a33[_0xbff16e(0x133)]=_0x17b5bb,_0x472a33['Parameters']=[{'ParameterKey':_0xb68f6b[_0xbff16e(0x126)],'ParameterValue':_0x57e792}],_0x472a33[_0xbff16e(0x106)]=[_0xb68f6b[_0xbff16e(0x111)]],_0x472a33['Tags']=_0x55602c;const _0x56b574=_0x472a33,_0x4c382f=await _0x47652b['createStack'](_0x56b574)[_0xbff16e(0x10b)]();logger['debug'](_0xb68f6b['tMACS']);const _0x512214={};return _0x512214['StackName']=_0x4c382f[_0xbff16e(0x136)],_0x47652b[_0xbff16e(0x124)](_0xb68f6b[_0xbff16e(0x122)],_0x512214)[_0xbff16e(0x10b)]();};