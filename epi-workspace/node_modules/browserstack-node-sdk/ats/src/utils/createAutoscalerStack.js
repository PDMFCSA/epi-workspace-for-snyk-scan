const a26_0x5a93e5=a26_0xc33c;(function(_0x469923,_0x359fd4){const _0x14d955=a26_0xc33c,_0x36f95a=_0x469923();while(!![]){try{const _0x289e4f=parseInt(_0x14d955(0x8c))/0x1*(parseInt(_0x14d955(0x98))/0x2)+parseInt(_0x14d955(0xaa))/0x3+parseInt(_0x14d955(0xae))/0x4+-parseInt(_0x14d955(0x9d))/0x5*(parseInt(_0x14d955(0x7c))/0x6)+parseInt(_0x14d955(0x89))/0x7+parseInt(_0x14d955(0xa3))/0x8+parseInt(_0x14d955(0x93))/0x9*(-parseInt(_0x14d955(0x9f))/0xa);if(_0x289e4f===_0x359fd4)break;else _0x36f95a['push'](_0x36f95a['shift']());}catch(_0x39376c){_0x36f95a['push'](_0x36f95a['shift']());}}}(a26_0x3241,0xecb2f));const fs=require('fs'),path=require('path'),yaml=require('js-yaml'),{CLOUDFORMATION_SCHEMA}=require('js-yaml-cloudformation-schema'),Promise=require(a26_0x5a93e5(0x7d)),AWS=require(a26_0x5a93e5(0x94))[a26_0x5a93e5(0x7e)],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require('../config/constants'),{logger}=require(a26_0x5a93e5(0x7b));Promise[a26_0x5a93e5(0x7a)](fs);const addAutoscalerTags=async(_0x33bd66,_0x57acdc,_0x4f290e)=>{const _0x119399=a26_0x5a93e5;for(const _0x3b8863 in _0x33bd66[_0x119399(0x8f)]){_0x33bd66[_0x119399(0x8f)][_0x3b8863]['Properties']&&_0x33bd66[_0x119399(0x8f)][_0x3b8863]['Properties'][_0x119399(0xa2)]&&_0x33bd66[_0x119399(0x8f)][_0x3b8863]['Properties'][_0x119399(0xa2)][_0x119399(0x8e)](..._0x4f290e);}};function a26_0x3241(){const _0x2af01a=['OnFailure','Capabilities','2329224Iltosd','IjVqK','createStack','browserstack:creationDate','6325264QruKxH','ClusterName','dcbBF','promisifyAll','../config/logger','2334RNDLRI','bluebird','awsObj','WAuCa','StackId','cUUBD','2010-05-15','StackName','FeDoD','Parameters','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','yNffl','templates','4085207JHVfSj','ivnzD','NTRGr','37473MLzLnr','stringify','push','Resources','join','TemplateBody','apiVersion','171TjEVgp','./AWSUtils','load','schema','CAPABILITY_NAMED_IAM','64eLhsmO','Key','Value','readFileAsync','promise','3100ZMjubm','debug','2179270dwTcLt','CloudFormation','browserstack:cluster','Tags','9686808YSTedg','waitFor','DELETE','stackCreateComplete','fYqEp'];a26_0x3241=function(){return _0x2af01a;};return a26_0x3241();}function a26_0xc33c(_0x20de6a,_0x4b14e){const _0x324173=a26_0x3241();return a26_0xc33c=function(_0xc33cb,_0x10fe07){_0xc33cb=_0xc33cb-0x79;let _0x316d1c=_0x324173[_0xc33cb];return _0x316d1c;},a26_0xc33c(_0x20de6a,_0x4b14e);}exports['createAutoscalerStack']=async _0x1c4f20=>{const _0x6c08ed=a26_0x5a93e5,_0xd24e54={'TiIMp':_0x6c08ed(0xa1),'cUUBD':_0x6c08ed(0xad),'NTRGr':_0x6c08ed(0x82),'FeDoD':_0x6c08ed(0x88),'yNffl':'autoscaler-role-creation.yaml','WAuCa':'utf-8','fYqEp':function(_0x26d1d4,_0x1a6d66,_0x281c13,_0x201848){return _0x26d1d4(_0x1a6d66,_0x281c13,_0x201848);},'kUWwh':_0x6c08ed(0xa5),'ivnzD':_0x6c08ed(0xaf),'IjVqK':_0x6c08ed(0x97),'dcbBF':_0x6c08ed(0x86),'TAnbL':_0x6c08ed(0xa6)},_0x24f6c5=COMMON_HST_TAGS,_0x5be246={};_0x5be246[_0x6c08ed(0x99)]=_0xd24e54['TiIMp'],_0x5be246[_0x6c08ed(0x9a)]=_0x1c4f20,_0x24f6c5[_0x6c08ed(0x8e)](_0x5be246),_0x24f6c5[_0x6c08ed(0x8e)]({'Key':_0xd24e54[_0x6c08ed(0x81)],'Value':new Date()['valueOf']()['toString']()});const _0x436b62={};_0x436b62[_0x6c08ed(0x92)]=_0xd24e54[_0x6c08ed(0x8b)];const _0x4b1a0c=new AWS[(_0x6c08ed(0xa0))](_0x436b62),_0x42ae93=await fs[_0x6c08ed(0x9b)](path[_0x6c08ed(0x90)](__dirname,'..',_0xd24e54[_0x6c08ed(0x84)],_0xd24e54[_0x6c08ed(0x87)]),_0xd24e54[_0x6c08ed(0x7f)]),_0x24d0bd={};_0x24d0bd[_0x6c08ed(0x96)]=CLOUDFORMATION_SCHEMA;const _0x12795b=yaml[_0x6c08ed(0x95)](_0x42ae93,_0x24d0bd);_0xd24e54[_0x6c08ed(0xa7)](addAutoscalerTags,_0x12795b,_0x1c4f20,_0x24f6c5);const _0x33e403=JSON[_0x6c08ed(0x8d)](_0x12795b),_0x3893bf={};_0x3893bf[_0x6c08ed(0x83)]=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x1c4f20,_0x3893bf[_0x6c08ed(0xa8)]=_0xd24e54['kUWwh'],_0x3893bf[_0x6c08ed(0x91)]=_0x33e403,_0x3893bf[_0x6c08ed(0x85)]=[{'ParameterKey':_0xd24e54[_0x6c08ed(0x8a)],'ParameterValue':_0x1c4f20}],_0x3893bf[_0x6c08ed(0xa9)]=[_0xd24e54[_0x6c08ed(0xab)]],_0x3893bf['Tags']=_0x24f6c5;const _0x5c57f3=_0x3893bf,_0x4a9e7d=await _0x4b1a0c[_0x6c08ed(0xac)](_0x5c57f3)[_0x6c08ed(0x9c)]();logger[_0x6c08ed(0x9e)](_0xd24e54[_0x6c08ed(0x79)]);const _0x50627a={};return _0x50627a[_0x6c08ed(0x83)]=_0x4a9e7d[_0x6c08ed(0x80)],_0x4b1a0c[_0x6c08ed(0xa4)](_0xd24e54['TAnbL'],_0x50627a)[_0x6c08ed(0x9c)]();};