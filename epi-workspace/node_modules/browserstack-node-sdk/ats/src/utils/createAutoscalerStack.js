const a26_0x3cade6=a26_0x30a3;(function(_0x170d7a,_0x35e4f5){const _0x42eaea=a26_0x30a3,_0x37fa35=_0x170d7a();while(!![]){try{const _0x3355dc=parseInt(_0x42eaea(0xab))/0x1+-parseInt(_0x42eaea(0x9f))/0x2+-parseInt(_0x42eaea(0xa3))/0x3+-parseInt(_0x42eaea(0x9b))/0x4+parseInt(_0x42eaea(0xb8))/0x5*(parseInt(_0x42eaea(0x95))/0x6)+-parseInt(_0x42eaea(0xc0))/0x7+parseInt(_0x42eaea(0xa8))/0x8;if(_0x3355dc===_0x35e4f5)break;else _0x37fa35['push'](_0x37fa35['shift']());}catch(_0x8f94eb){_0x37fa35['push'](_0x37fa35['shift']());}}}(a26_0x544b,0xb5031));const fs=require('fs'),path=require(a26_0x3cade6(0xb1)),yaml=require(a26_0x3cade6(0xc1)),{CLOUDFORMATION_SCHEMA}=require(a26_0x3cade6(0xb6)),Promise=require(a26_0x3cade6(0xbe)),AWS=require(a26_0x3cade6(0xac))['awsObj'],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require('../config/constants'),{logger}=require(a26_0x3cade6(0xb5));function a26_0x544b(){const _0x120168=['4676428gSQgZD','apiVersion','OnFailure','2010-05-15','2058714lqBNOG','EqwZh','RKvUE','debug','127458iSFfdQ','Parameters','readFileAsync','StackName','Tags','7443696epkyQr','schema','mEzKv','1178815fyWprk','./AWSUtils','Resources','browserstack:creationDate','load','createAutoscalerStack','path','stringify','CloudFormation','sIScz','../config/logger','js-yaml-cloudformation-schema','browserstack:cluster','1140045bGxkJr','Properties','stackCreateComplete','templates','DELETE','promise','bluebird','JpBIY','1868629upUlsn','js-yaml','join','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','push','RMPBU','30HwpHcY','Key','Capabilities','TkMQu','promisifyAll','jnKYV'];a26_0x544b=function(){return _0x120168;};return a26_0x544b();}Promise[a26_0x3cade6(0x99)](fs);const addAutoscalerTags=async(_0x3f5714,_0x49ea8b,_0x5a3ebd)=>{const _0x17e406=a26_0x3cade6;for(const _0x28507f in _0x3f5714[_0x17e406(0xad)]){_0x3f5714[_0x17e406(0xad)][_0x28507f][_0x17e406(0xb9)]&&_0x3f5714['Resources'][_0x28507f][_0x17e406(0xb9)][_0x17e406(0xa7)]&&_0x3f5714[_0x17e406(0xad)][_0x28507f][_0x17e406(0xb9)][_0x17e406(0xa7)][_0x17e406(0xc4)](..._0x5a3ebd);}};function a26_0x30a3(_0x5162dd,_0x221e1e){const _0x544b40=a26_0x544b();return a26_0x30a3=function(_0x30a380,_0x21c7c6){_0x30a380=_0x30a380-0x94;let _0x4d4935=_0x544b40[_0x30a380];return _0x4d4935;},a26_0x30a3(_0x5162dd,_0x221e1e);}exports[a26_0x3cade6(0xb0)]=async _0x396c45=>{const _0xeb8942=a26_0x3cade6,_0x2429dd={'mEzKv':_0xeb8942(0xb7),'sIScz':_0xeb8942(0xae),'JpBIY':_0xeb8942(0x9e),'EqwZh':_0xeb8942(0xbb),'jnKYV':'autoscaler-role-creation.yaml','TMGGu':'utf-8','RMPBU':function(_0x20d49b,_0x30f102,_0x392ec2,_0x49fc6f){return _0x20d49b(_0x30f102,_0x392ec2,_0x49fc6f);},'xrgPP':_0xeb8942(0xbc),'kLakk':'ClusterName','TkMQu':'CAPABILITY_NAMED_IAM','AwQEQ':_0xeb8942(0xc3),'RKvUE':_0xeb8942(0xba)},_0xc1b4ef=COMMON_HST_TAGS,_0x30ce78={};_0x30ce78[_0xeb8942(0x96)]=_0x2429dd[_0xeb8942(0xaa)],_0x30ce78['Value']=_0x396c45,_0xc1b4ef[_0xeb8942(0xc4)](_0x30ce78),_0xc1b4ef[_0xeb8942(0xc4)]({'Key':_0x2429dd[_0xeb8942(0xb4)],'Value':new Date()['valueOf']()['toString']()});const _0x160d9b={};_0x160d9b[_0xeb8942(0x9c)]=_0x2429dd[_0xeb8942(0xbf)];const _0x1265b9=new AWS[(_0xeb8942(0xb3))](_0x160d9b),_0x1bb199=await fs[_0xeb8942(0xa5)](path[_0xeb8942(0xc2)](__dirname,'..',_0x2429dd[_0xeb8942(0xa0)],_0x2429dd[_0xeb8942(0x9a)]),_0x2429dd['TMGGu']),_0x4a947d={};_0x4a947d[_0xeb8942(0xa9)]=CLOUDFORMATION_SCHEMA;const _0x544830=yaml[_0xeb8942(0xaf)](_0x1bb199,_0x4a947d);_0x2429dd[_0xeb8942(0x94)](addAutoscalerTags,_0x544830,_0x396c45,_0xc1b4ef);const _0x58a999=JSON[_0xeb8942(0xb2)](_0x544830),_0x5bd3b0={};_0x5bd3b0['StackName']=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x396c45,_0x5bd3b0[_0xeb8942(0x9d)]=_0x2429dd['xrgPP'],_0x5bd3b0['TemplateBody']=_0x58a999,_0x5bd3b0[_0xeb8942(0xa4)]=[{'ParameterKey':_0x2429dd['kLakk'],'ParameterValue':_0x396c45}],_0x5bd3b0[_0xeb8942(0x97)]=[_0x2429dd[_0xeb8942(0x98)]],_0x5bd3b0[_0xeb8942(0xa7)]=_0xc1b4ef;const _0x20e693=_0x5bd3b0,_0xf3bebd=await _0x1265b9['createStack'](_0x20e693)[_0xeb8942(0xbd)]();logger[_0xeb8942(0xa2)](_0x2429dd['AwQEQ']);const _0x2eab05={};return _0x2eab05[_0xeb8942(0xa6)]=_0xf3bebd['StackId'],_0x1265b9['waitFor'](_0x2429dd[_0xeb8942(0xa1)],_0x2eab05)[_0xeb8942(0xbd)]();};