const a24_0x391205=a24_0x206a;function a24_0x22e9(){const _0x1197ca=['Value','pWeEw','join','BmNTt','290996pwllXG','183510ykMGfs','36gFjzae','ClusterName','CloudFormation','672RBmHLP','DELETE','2KGsylS','22KKohec','Key','xrqvU','2010-05-15','OnFailure','773096KZtSTH','push','valueOf','browserstack:creationDate','awsObj','stringify','toString','CAPABILITY_NAMED_IAM','Properties','../config/constants','./AWSUtils','createStack','promise','browserstack:cluster','debug','autoscaler-role-creation.yaml','../config/logger','bluebird','kNfnU','EtTGO','stackCreateComplete','path','2308446tqzfha','apiVersion','6dSYRRo','1740140USTbIu','Resources','createAutoscalerStack','1460080sizcsu','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','promisifyAll','140qzxfsb','286598yQJkWA','StackId','Tags','StackName','TemplateBody','load'];a24_0x22e9=function(){return _0x1197ca;};return a24_0x22e9();}(function(_0x4b731f,_0x40b622){const _0x363c6e=a24_0x206a,_0x59b769=_0x4b731f();while(!![]){try{const _0xa4d594=-parseInt(_0x363c6e(0x16c))/0x1*(-parseInt(_0x363c6e(0x173))/0x2)+parseInt(_0x363c6e(0x15a))/0x3*(-parseInt(_0x363c6e(0x15b))/0x4)+parseInt(_0x363c6e(0x161))/0x5*(parseInt(_0x363c6e(0x16d))/0x6)+-parseInt(_0x363c6e(0x158))/0x7+parseInt(_0x363c6e(0x179))/0x8*(-parseInt(_0x363c6e(0x16e))/0x9)+parseInt(_0x363c6e(0x15e))/0xa*(-parseInt(_0x363c6e(0x174))/0xb)+parseInt(_0x363c6e(0x171))/0xc*(parseInt(_0x363c6e(0x162))/0xd);if(_0xa4d594===_0x40b622)break;else _0x59b769['push'](_0x59b769['shift']());}catch(_0x417234){_0x59b769['push'](_0x59b769['shift']());}}}(a24_0x22e9,0x7aef4));function a24_0x206a(_0x1e53d9,_0x513e07){const _0x22e954=a24_0x22e9();return a24_0x206a=function(_0x206a87,_0x1fe5f1){_0x206a87=_0x206a87-0x151;let _0x1b7151=_0x22e954[_0x206a87];return _0x1b7151;},a24_0x206a(_0x1e53d9,_0x513e07);}const fs=require('fs'),path=require(a24_0x391205(0x157)),yaml=require('js-yaml'),{CLOUDFORMATION_SCHEMA}=require('js-yaml-cloudformation-schema'),Promise=require(a24_0x391205(0x153)),AWS=require(a24_0x391205(0x183))[a24_0x391205(0x17d)],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require(a24_0x391205(0x182)),{logger}=require(a24_0x391205(0x152));Promise[a24_0x391205(0x160)](fs);const addAutoscalerTags=async(_0x3a615d,_0x1c9c36,_0x4634b4)=>{const _0x58088b=a24_0x391205;for(const _0x229e1b in _0x3a615d['Resources']){_0x3a615d[_0x58088b(0x15c)][_0x229e1b][_0x58088b(0x181)]&&_0x3a615d['Resources'][_0x229e1b][_0x58088b(0x181)][_0x58088b(0x164)]&&_0x3a615d[_0x58088b(0x15c)][_0x229e1b]['Properties'][_0x58088b(0x164)]['push'](..._0x4634b4);}};exports[a24_0x391205(0x15d)]=async _0x1c1e96=>{const _0x150bb9=a24_0x391205,_0x4a73d6={'XYjkw':_0x150bb9(0x186),'BmNTt':_0x150bb9(0x17c),'QNysH':_0x150bb9(0x177),'EtTGO':'templates','EKRCK':_0x150bb9(0x151),'xrqvU':'utf-8','dVQkK':function(_0x553998,_0x47ab32,_0x17dd1e,_0x17e8f8){return _0x553998(_0x47ab32,_0x17dd1e,_0x17e8f8);},'pWeEw':_0x150bb9(0x172),'TEEXL':_0x150bb9(0x16f),'dLOGB':_0x150bb9(0x180),'RWJiM':_0x150bb9(0x15f),'kNfnU':_0x150bb9(0x156)},_0x2a194=COMMON_HST_TAGS,_0x8cd721={};_0x8cd721[_0x150bb9(0x175)]=_0x4a73d6['XYjkw'],_0x8cd721[_0x150bb9(0x168)]=_0x1c1e96,_0x2a194[_0x150bb9(0x17a)](_0x8cd721),_0x2a194[_0x150bb9(0x17a)]({'Key':_0x4a73d6[_0x150bb9(0x16b)],'Value':new Date()[_0x150bb9(0x17b)]()[_0x150bb9(0x17f)]()});const _0x2776c6={};_0x2776c6[_0x150bb9(0x159)]=_0x4a73d6['QNysH'];const _0xe1f36a=new AWS[(_0x150bb9(0x170))](_0x2776c6),_0x61d7bc=await fs['readFileAsync'](path[_0x150bb9(0x16a)](__dirname,'..',_0x4a73d6[_0x150bb9(0x155)],_0x4a73d6['EKRCK']),_0x4a73d6[_0x150bb9(0x176)]),_0x54272f={};_0x54272f['schema']=CLOUDFORMATION_SCHEMA;const _0x56ec36=yaml[_0x150bb9(0x167)](_0x61d7bc,_0x54272f);_0x4a73d6['dVQkK'](addAutoscalerTags,_0x56ec36,_0x1c1e96,_0x2a194);const _0x40675=JSON[_0x150bb9(0x17e)](_0x56ec36),_0x2f82e4={};_0x2f82e4['StackName']=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x1c1e96,_0x2f82e4[_0x150bb9(0x178)]=_0x4a73d6[_0x150bb9(0x169)],_0x2f82e4[_0x150bb9(0x166)]=_0x40675,_0x2f82e4['Parameters']=[{'ParameterKey':_0x4a73d6['TEEXL'],'ParameterValue':_0x1c1e96}],_0x2f82e4['Capabilities']=[_0x4a73d6['dLOGB']],_0x2f82e4[_0x150bb9(0x164)]=_0x2a194;const _0x2aee5f=_0x2f82e4,_0x476e1f=await _0xe1f36a[_0x150bb9(0x184)](_0x2aee5f)[_0x150bb9(0x185)]();logger[_0x150bb9(0x187)](_0x4a73d6['RWJiM']);const _0x5da820={};return _0x5da820[_0x150bb9(0x165)]=_0x476e1f[_0x150bb9(0x163)],_0xe1f36a['waitFor'](_0x4a73d6[_0x150bb9(0x154)],_0x5da820)['promise']();};