const a26_0x319ff1=a26_0x2f8c;(function(_0x333b33,_0x4c4f63){const _0x218ab4=a26_0x2f8c,_0x201a71=_0x333b33();while(!![]){try{const _0x1582fa=parseInt(_0x218ab4(0x176))/0x1*(-parseInt(_0x218ab4(0x180))/0x2)+parseInt(_0x218ab4(0x190))/0x3+-parseInt(_0x218ab4(0x18b))/0x4+-parseInt(_0x218ab4(0x18a))/0x5*(-parseInt(_0x218ab4(0x192))/0x6)+-parseInt(_0x218ab4(0x182))/0x7+-parseInt(_0x218ab4(0x19a))/0x8*(parseInt(_0x218ab4(0x18c))/0x9)+parseInt(_0x218ab4(0x19c))/0xa;if(_0x1582fa===_0x4c4f63)break;else _0x201a71['push'](_0x201a71['shift']());}catch(_0x502872){_0x201a71['push'](_0x201a71['shift']());}}}(a26_0x393a,0x622f3));function a26_0x2f8c(_0x465236,_0x6609f7){const _0x393a6c=a26_0x393a();return a26_0x2f8c=function(_0x2f8c7b,_0x5ae1dd){_0x2f8c7b=_0x2f8c7b-0x171;let _0x5d9d34=_0x393a6c[_0x2f8c7b];return _0x5d9d34;},a26_0x2f8c(_0x465236,_0x6609f7);}const fs=require('fs'),path=require(a26_0x319ff1(0x17e)),yaml=require('js-yaml'),{CLOUDFORMATION_SCHEMA}=require('js-yaml-cloudformation-schema'),Promise=require(a26_0x319ff1(0x173)),AWS=require(a26_0x319ff1(0x184))['awsObj'],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require(a26_0x319ff1(0x189)),{logger}=require('../config/logger');Promise['promisifyAll'](fs);const addAutoscalerTags=async(_0x4bc099,_0x2a8e5d,_0x4de391)=>{const _0x3873cb=a26_0x319ff1;for(const _0x4938e7 in _0x4bc099[_0x3873cb(0x177)]){_0x4bc099[_0x3873cb(0x177)][_0x4938e7]['Properties']&&_0x4bc099[_0x3873cb(0x177)][_0x4938e7][_0x3873cb(0x1a0)][_0x3873cb(0x183)]&&_0x4bc099[_0x3873cb(0x177)][_0x4938e7][_0x3873cb(0x1a0)][_0x3873cb(0x183)][_0x3873cb(0x181)](..._0x4de391);}};exports['createAutoscalerStack']=async _0x2126f6=>{const _0x3b6d02=a26_0x319ff1,_0x37e7ad={'qmRpC':_0x3b6d02(0x179),'EHnHQ':_0x3b6d02(0x17d),'ciAxr':_0x3b6d02(0x17a),'HKZzh':_0x3b6d02(0x188),'mHSwP':_0x3b6d02(0x171),'CyqAT':_0x3b6d02(0x19e),'BPWDs':function(_0x42ba73,_0x3bc24d,_0x215fad,_0x48171c){return _0x42ba73(_0x3bc24d,_0x215fad,_0x48171c);},'kHegn':_0x3b6d02(0x175),'QhqGA':_0x3b6d02(0x191),'Vtxgy':_0x3b6d02(0x19b),'DgjvV':'Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','qWvRJ':'stackCreateComplete'},_0x2b36c6=COMMON_HST_TAGS,_0x506e41={};_0x506e41[_0x3b6d02(0x185)]=_0x37e7ad[_0x3b6d02(0x195)],_0x506e41[_0x3b6d02(0x1a2)]=_0x2126f6,_0x2b36c6['push'](_0x506e41),_0x2b36c6[_0x3b6d02(0x181)]({'Key':_0x37e7ad[_0x3b6d02(0x1a1)],'Value':new Date()['valueOf']()[_0x3b6d02(0x17b)]()});const _0x2566c7={};_0x2566c7['apiVersion']=_0x37e7ad[_0x3b6d02(0x172)];const _0x3f7b8f=new AWS[(_0x3b6d02(0x19f))](_0x2566c7),_0xf6eced=await fs['readFileAsync'](path[_0x3b6d02(0x18e)](__dirname,'..',_0x37e7ad['HKZzh'],_0x37e7ad['mHSwP']),_0x37e7ad[_0x3b6d02(0x174)]),_0x8eef10={};_0x8eef10[_0x3b6d02(0x187)]=CLOUDFORMATION_SCHEMA;const _0xb46242=yaml['load'](_0xf6eced,_0x8eef10);_0x37e7ad[_0x3b6d02(0x194)](addAutoscalerTags,_0xb46242,_0x2126f6,_0x2b36c6);const _0x49d40d=JSON[_0x3b6d02(0x17f)](_0xb46242),_0x33ce40={};_0x33ce40['StackName']=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x2126f6,_0x33ce40[_0x3b6d02(0x197)]=_0x37e7ad[_0x3b6d02(0x178)],_0x33ce40[_0x3b6d02(0x18d)]=_0x49d40d,_0x33ce40[_0x3b6d02(0x17c)]=[{'ParameterKey':_0x37e7ad[_0x3b6d02(0x198)],'ParameterValue':_0x2126f6}],_0x33ce40['Capabilities']=[_0x37e7ad['Vtxgy']],_0x33ce40['Tags']=_0x2b36c6;const _0xf06b53=_0x33ce40,_0x1d9363=await _0x3f7b8f[_0x3b6d02(0x199)](_0xf06b53)['promise']();logger['debug'](_0x37e7ad[_0x3b6d02(0x186)]);const _0x1cadef={};return _0x1cadef[_0x3b6d02(0x196)]=_0x1d9363[_0x3b6d02(0x18f)],_0x3f7b8f[_0x3b6d02(0x193)](_0x37e7ad['qWvRJ'],_0x1cadef)[_0x3b6d02(0x19d)]();};function a26_0x393a(){const _0x15ee69=['DELETE','5bOZnaP','Resources','kHegn','browserstack:cluster','2010-05-15','toString','Parameters','browserstack:creationDate','path','stringify','250050KJAtaL','push','3864686kDGQPq','Tags','./AWSUtils','Key','DgjvV','schema','templates','../config/constants','23160AJesRa','3005452uZKEQO','9zLrEUv','TemplateBody','join','StackId','1121820eWxDFW','ClusterName','714brOxZq','waitFor','BPWDs','qmRpC','StackName','OnFailure','QhqGA','createStack','6429624ItcRRm','CAPABILITY_NAMED_IAM','22093040YFiFks','promise','utf-8','CloudFormation','Properties','EHnHQ','Value','autoscaler-role-creation.yaml','ciAxr','bluebird','CyqAT'];a26_0x393a=function(){return _0x15ee69;};return a26_0x393a();}