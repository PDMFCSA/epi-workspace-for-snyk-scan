const a26_0x15d2a5=a26_0x30cf;(function(_0x4c5725,_0x2d171c){const _0x56d709=a26_0x30cf,_0x3fec8f=_0x4c5725();while(!![]){try{const _0x57d002=parseInt(_0x56d709(0x10c))/0x1*(-parseInt(_0x56d709(0xec))/0x2)+-parseInt(_0x56d709(0x102))/0x3*(-parseInt(_0x56d709(0x10d))/0x4)+-parseInt(_0x56d709(0x111))/0x5+parseInt(_0x56d709(0x117))/0x6*(-parseInt(_0x56d709(0x114))/0x7)+parseInt(_0x56d709(0x108))/0x8+parseInt(_0x56d709(0x113))/0x9*(parseInt(_0x56d709(0xfb))/0xa)+parseInt(_0x56d709(0x115))/0xb*(parseInt(_0x56d709(0x10f))/0xc);if(_0x57d002===_0x2d171c)break;else _0x3fec8f['push'](_0x3fec8f['shift']());}catch(_0xf19f0){_0x3fec8f['push'](_0x3fec8f['shift']());}}}(a26_0x1902,0xe5660));const fs=require('fs'),path=require(a26_0x15d2a5(0x109)),yaml=require(a26_0x15d2a5(0x101)),{CLOUDFORMATION_SCHEMA}=require(a26_0x15d2a5(0x103)),Promise=require('bluebird'),AWS=require(a26_0x15d2a5(0xef))['awsObj'],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require(a26_0x15d2a5(0x112)),{logger}=require(a26_0x15d2a5(0x116));function a26_0x1902(){const _0x268676=['xAHbT','CloudFormation','browserstack:creationDate','DELETE','js-yaml','453gpSFmm','js-yaml-cloudformation-schema','waitFor','browserstack:cluster','MLver','Tags','13213912oajCMA','path','StackId','load','3KDfWIA','4352uIzcvA','apiVersion','12ciAKZY','schema','1910455QQljQR','../config/constants','2250cJDwoy','14JRMlRa','19067213KXlZTy','../config/logger','4875510VHrKDx','utf-8','promisifyAll','promise','readFileAsync','Capabilities','valueOf','stringify','Parameters','templates','Properties','JzpJO','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','autoscaler-role-creation.yaml','StackName','push','959522eJGovA','stackCreateComplete','createStack','./AWSUtils','TemplateBody','WYUwp','createAutoscalerStack','OlrMt','debug','join','OnFailure','FYZXv','Key','EahyT','Resources','33470aCOEkg','2010-05-15'];a26_0x1902=function(){return _0x268676;};return a26_0x1902();}function a26_0x30cf(_0x48058e,_0x27009b){const _0x1902f8=a26_0x1902();return a26_0x30cf=function(_0x30cf7f,_0x2525f4){_0x30cf7f=_0x30cf7f-0xe3;let _0x449859=_0x1902f8[_0x30cf7f];return _0x449859;},a26_0x30cf(_0x48058e,_0x27009b);}Promise[a26_0x15d2a5(0x119)](fs);const addAutoscalerTags=async(_0x14f75a,_0x16b2f9,_0x464e24)=>{const _0xd0fce9=a26_0x15d2a5;for(const _0x187b1e in _0x14f75a[_0xd0fce9(0xfa)]){_0x14f75a[_0xd0fce9(0xfa)][_0x187b1e][_0xd0fce9(0xe6)]&&_0x14f75a['Resources'][_0x187b1e][_0xd0fce9(0xe6)][_0xd0fce9(0x107)]&&_0x14f75a[_0xd0fce9(0xfa)][_0x187b1e][_0xd0fce9(0xe6)][_0xd0fce9(0x107)][_0xd0fce9(0xeb)](..._0x464e24);}};exports[a26_0x15d2a5(0xf2)]=async _0x51c8ae=>{const _0x2b1a03=a26_0x15d2a5,_0x35a789={'XngOk':_0x2b1a03(0x105),'OlrMt':_0x2b1a03(0xff),'xAHbT':_0x2b1a03(0xfc),'JzpJO':_0x2b1a03(0xe5),'EahyT':_0x2b1a03(0xe9),'FYZXv':_0x2b1a03(0x118),'uQyFe':function(_0x59c3b8,_0x53c97c,_0x2b0b79,_0x473ed9){return _0x59c3b8(_0x53c97c,_0x2b0b79,_0x473ed9);},'vpHhy':_0x2b1a03(0x100),'SIjkt':'ClusterName','FgtEB':'CAPABILITY_NAMED_IAM','MLver':_0x2b1a03(0xe8),'WYUwp':_0x2b1a03(0xed)},_0x24f088=COMMON_HST_TAGS,_0x2f8ef8={};_0x2f8ef8[_0x2b1a03(0xf8)]=_0x35a789['XngOk'],_0x2f8ef8['Value']=_0x51c8ae,_0x24f088[_0x2b1a03(0xeb)](_0x2f8ef8),_0x24f088[_0x2b1a03(0xeb)]({'Key':_0x35a789[_0x2b1a03(0xf3)],'Value':new Date()[_0x2b1a03(0x11d)]()['toString']()});const _0x567cc1={};_0x567cc1[_0x2b1a03(0x10e)]=_0x35a789[_0x2b1a03(0xfd)];const _0x1bb54b=new AWS[(_0x2b1a03(0xfe))](_0x567cc1),_0x5ba6fb=await fs[_0x2b1a03(0x11b)](path[_0x2b1a03(0xf5)](__dirname,'..',_0x35a789[_0x2b1a03(0xe7)],_0x35a789[_0x2b1a03(0xf9)]),_0x35a789[_0x2b1a03(0xf7)]),_0xb2d5f6={};_0xb2d5f6[_0x2b1a03(0x110)]=CLOUDFORMATION_SCHEMA;const _0x1154be=yaml[_0x2b1a03(0x10b)](_0x5ba6fb,_0xb2d5f6);_0x35a789['uQyFe'](addAutoscalerTags,_0x1154be,_0x51c8ae,_0x24f088);const _0x324412=JSON[_0x2b1a03(0xe3)](_0x1154be),_0x30c5a8={};_0x30c5a8['StackName']=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x51c8ae,_0x30c5a8[_0x2b1a03(0xf6)]=_0x35a789['vpHhy'],_0x30c5a8[_0x2b1a03(0xf0)]=_0x324412,_0x30c5a8[_0x2b1a03(0xe4)]=[{'ParameterKey':_0x35a789['SIjkt'],'ParameterValue':_0x51c8ae}],_0x30c5a8[_0x2b1a03(0x11c)]=[_0x35a789['FgtEB']],_0x30c5a8[_0x2b1a03(0x107)]=_0x24f088;const _0x43ad8a=_0x30c5a8,_0x4cff0f=await _0x1bb54b[_0x2b1a03(0xee)](_0x43ad8a)[_0x2b1a03(0x11a)]();logger[_0x2b1a03(0xf4)](_0x35a789[_0x2b1a03(0x106)]);const _0x1e8844={};return _0x1e8844[_0x2b1a03(0xea)]=_0x4cff0f[_0x2b1a03(0x10a)],_0x1bb54b[_0x2b1a03(0x104)](_0x35a789[_0x2b1a03(0xf1)],_0x1e8844)[_0x2b1a03(0x11a)]();};