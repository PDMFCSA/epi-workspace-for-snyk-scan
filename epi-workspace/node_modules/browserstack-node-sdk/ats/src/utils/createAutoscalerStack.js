const a26_0x50fade=a26_0x5965;(function(_0x3d70b4,_0x83464){const _0x3fd30c=a26_0x5965,_0x2a5a69=_0x3d70b4();while(!![]){try{const _0x23d534=parseInt(_0x3fd30c(0xea))/0x1+-parseInt(_0x3fd30c(0xd8))/0x2*(-parseInt(_0x3fd30c(0xcd))/0x3)+parseInt(_0x3fd30c(0xeb))/0x4+-parseInt(_0x3fd30c(0xdd))/0x5*(parseInt(_0x3fd30c(0xdb))/0x6)+parseInt(_0x3fd30c(0x100))/0x7*(parseInt(_0x3fd30c(0xdf))/0x8)+-parseInt(_0x3fd30c(0xd2))/0x9*(-parseInt(_0x3fd30c(0xf3))/0xa)+-parseInt(_0x3fd30c(0xfe))/0xb*(parseInt(_0x3fd30c(0x101))/0xc);if(_0x23d534===_0x83464)break;else _0x2a5a69['push'](_0x2a5a69['shift']());}catch(_0x1e2da6){_0x2a5a69['push'](_0x2a5a69['shift']());}}}(a26_0x4b89,0x78c24));function a26_0x5965(_0x194aa9,_0x30d674){const _0x4b8917=a26_0x4b89();return a26_0x5965=function(_0x5965f7,_0x2db3d8){_0x5965f7=_0x5965f7-0xcb;let _0x10d1c7=_0x4b8917[_0x5965f7];return _0x10d1c7;},a26_0x5965(_0x194aa9,_0x30d674);}const fs=require('fs'),path=require(a26_0x50fade(0x104)),yaml=require(a26_0x50fade(0xe2)),{CLOUDFORMATION_SCHEMA}=require(a26_0x50fade(0xf6)),Promise=require('bluebird'),AWS=require('./AWSUtils')['awsObj'],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require(a26_0x50fade(0xfc)),{logger}=require(a26_0x50fade(0xfd));Promise[a26_0x50fade(0xef)](fs);function a26_0x4b89(){const _0x37362b=['28036lVCkPr','ATiHb','UfJFc','199404wsxpFy','toString','45xagjXT','join','1459160YVXQOW','cnWlM','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','js-yaml','Resources','promise','DELETE','templates','dsKpn','waitFor','Value','774986wsSLoj','2904732QUHbDu','tKSOF','browserstack:creationDate','Tags','promisifyAll','push','debug','StackId','10KGEsGF','Capabilities','StackName','js-yaml-cloudformation-schema','OnFailure','apiVersion','readFileAsync','ovlBX','ClusterName','../config/constants','../config/logger','121EsFVYd','TUERX','7OKVapq','2302932gPiqSj','TemplateBody','autoscaler-role-creation.yaml','path','VJikd','KZGqd','105SROqPj','Properties','schema','browserstack:cluster','utf-8','6575049OMrwEH','CAPABILITY_NAMED_IAM','createStack','FTIVU','Parameters','load'];a26_0x4b89=function(){return _0x37362b;};return a26_0x4b89();}const addAutoscalerTags=async(_0x233618,_0x556a22,_0x5b24c3)=>{const _0x5593ec=a26_0x50fade;for(const _0x2502d4 in _0x233618[_0x5593ec(0xe3)]){_0x233618[_0x5593ec(0xe3)][_0x2502d4]['Properties']&&_0x233618[_0x5593ec(0xe3)][_0x2502d4][_0x5593ec(0xce)]['Tags']&&_0x233618[_0x5593ec(0xe3)][_0x2502d4][_0x5593ec(0xce)][_0x5593ec(0xee)][_0x5593ec(0xf0)](..._0x5b24c3);}};exports['createAutoscalerStack']=async _0x2d355d=>{const _0x106204=a26_0x50fade,_0x52d56c={'FTIVU':_0x106204(0xd0),'HrQri':_0x106204(0xed),'VJikd':'2010-05-15','UfJFc':_0x106204(0xe6),'ovlBX':_0x106204(0x103),'tKSOF':_0x106204(0xd1),'NFvuK':function(_0x4a162b,_0x4568b7,_0xa419b8,_0x592f0c){return _0x4a162b(_0x4568b7,_0xa419b8,_0x592f0c);},'dsKpn':_0x106204(0xe5),'KZGqd':_0x106204(0xfb),'ATiHb':_0x106204(0xd3),'cnWlM':_0x106204(0xe1),'TUERX':'stackCreateComplete'},_0x1014b2=COMMON_HST_TAGS,_0x1443b1={};_0x1443b1['Key']=_0x52d56c[_0x106204(0xd5)],_0x1443b1[_0x106204(0xe9)]=_0x2d355d,_0x1014b2[_0x106204(0xf0)](_0x1443b1),_0x1014b2['push']({'Key':_0x52d56c['HrQri'],'Value':new Date()['valueOf']()[_0x106204(0xdc)]()});const _0xf85999={};_0xf85999[_0x106204(0xf8)]=_0x52d56c[_0x106204(0xcb)];const _0x1f2189=new AWS['CloudFormation'](_0xf85999),_0x350fab=await fs[_0x106204(0xf9)](path[_0x106204(0xde)](__dirname,'..',_0x52d56c[_0x106204(0xda)],_0x52d56c[_0x106204(0xfa)]),_0x52d56c[_0x106204(0xec)]),_0x6decbd={};_0x6decbd[_0x106204(0xcf)]=CLOUDFORMATION_SCHEMA;const _0x6a972b=yaml[_0x106204(0xd7)](_0x350fab,_0x6decbd);_0x52d56c['NFvuK'](addAutoscalerTags,_0x6a972b,_0x2d355d,_0x1014b2);const _0xfc82c7=JSON['stringify'](_0x6a972b),_0x21e061={};_0x21e061[_0x106204(0xf5)]=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x2d355d,_0x21e061[_0x106204(0xf7)]=_0x52d56c[_0x106204(0xe7)],_0x21e061[_0x106204(0x102)]=_0xfc82c7,_0x21e061[_0x106204(0xd6)]=[{'ParameterKey':_0x52d56c[_0x106204(0xcc)],'ParameterValue':_0x2d355d}],_0x21e061[_0x106204(0xf4)]=[_0x52d56c[_0x106204(0xd9)]],_0x21e061[_0x106204(0xee)]=_0x1014b2;const _0x20b6e5=_0x21e061,_0x3001e6=await _0x1f2189[_0x106204(0xd4)](_0x20b6e5)[_0x106204(0xe4)]();logger[_0x106204(0xf1)](_0x52d56c[_0x106204(0xe0)]);const _0x1038f0={};return _0x1038f0[_0x106204(0xf5)]=_0x3001e6[_0x106204(0xf2)],_0x1f2189[_0x106204(0xe8)](_0x52d56c[_0x106204(0xff)],_0x1038f0)['promise']();};