const a26_0x590787=a26_0x4c51;function a26_0x4c51(_0x2c54e9,_0x49ad27){const _0x545753=a26_0x5457();return a26_0x4c51=function(_0x4c51be,_0x14ab9e){_0x4c51be=_0x4c51be-0x13f;let _0x36e0f1=_0x545753[_0x4c51be];return _0x36e0f1;},a26_0x4c51(_0x2c54e9,_0x49ad27);}(function(_0x230d19,_0x5136a4){const _0x3260d9=a26_0x4c51,_0x3da410=_0x230d19();while(!![]){try{const _0xb3cc32=parseInt(_0x3260d9(0x15b))/0x1*(-parseInt(_0x3260d9(0x176))/0x2)+-parseInt(_0x3260d9(0x16c))/0x3+parseInt(_0x3260d9(0x174))/0x4*(parseInt(_0x3260d9(0x169))/0x5)+-parseInt(_0x3260d9(0x171))/0x6+parseInt(_0x3260d9(0x14b))/0x7+parseInt(_0x3260d9(0x15c))/0x8*(parseInt(_0x3260d9(0x155))/0x9)+parseInt(_0x3260d9(0x151))/0xa;if(_0xb3cc32===_0x5136a4)break;else _0x3da410['push'](_0x3da410['shift']());}catch(_0x2cf10f){_0x3da410['push'](_0x3da410['shift']());}}}(a26_0x5457,0x1c2a8));const fs=require('fs'),path=require('path'),yaml=require(a26_0x590787(0x16b)),{CLOUDFORMATION_SCHEMA}=require(a26_0x590787(0x165)),Promise=require(a26_0x590787(0x14e)),AWS=require(a26_0x590787(0x175))[a26_0x590787(0x16d)],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require(a26_0x590787(0x178)),{logger}=require(a26_0x590787(0x144));function a26_0x5457(){const _0x7a29bf=['444usucVV','utf-8','../config/constants','pwPMR','stackCreateComplete','LnRVn','browserstack:creationDate','toString','readFileAsync','autoscaler-role-creation.yaml','../config/logger','promisifyAll','ClusterName','load','promise','yAKjY','Properties','628299WfDbyq','StackId','valueOf','bluebird','apiVersion','DhxDI','2191250rZWfuW','OnFailure','DELETE','Capabilities','1160253emiVtH','PFYmR','Value','join','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','createAutoscalerStack','733ucXxnT','8rbDDnl','waitFor','yuJmT','ITwrq','browserstack:cluster','debug','CloudFormation','Tags','Key','js-yaml-cloudformation-schema','TUBjn','push','Resources','198410sBMubg','StackName','js-yaml','24021WPkNRj','awsObj','Parameters','rQUlA','kckxN','1148280iQnVCz','templates','createStack','4ldNmOB','./AWSUtils'];a26_0x5457=function(){return _0x7a29bf;};return a26_0x5457();}Promise[a26_0x590787(0x145)](fs);const addAutoscalerTags=async(_0xe324b7,_0x1cce3c,_0x145849)=>{const _0x2be24d=a26_0x590787;for(const _0x1f673e in _0xe324b7['Resources']){_0xe324b7['Resources'][_0x1f673e][_0x2be24d(0x14a)]&&_0xe324b7[_0x2be24d(0x168)][_0x1f673e][_0x2be24d(0x14a)][_0x2be24d(0x163)]&&_0xe324b7[_0x2be24d(0x168)][_0x1f673e]['Properties']['Tags'][_0x2be24d(0x167)](..._0x145849);}};exports[a26_0x590787(0x15a)]=async _0x2e5a7e=>{const _0x10a388=a26_0x590787,_0x28db30={'yAKjY':_0x10a388(0x160),'yuJmT':_0x10a388(0x140),'PFYmR':'2010-05-15','TUBjn':_0x10a388(0x172),'kckxN':_0x10a388(0x143),'rQUlA':_0x10a388(0x177),'pwPMR':function(_0x5837e6,_0x299fdf,_0x419762,_0x2e2612){return _0x5837e6(_0x299fdf,_0x419762,_0x2e2612);},'DhxDI':_0x10a388(0x153),'LnRVn':_0x10a388(0x146),'wnGzu':'CAPABILITY_NAMED_IAM','OeIkQ':_0x10a388(0x159),'ITwrq':_0x10a388(0x17a)},_0x490b41=COMMON_HST_TAGS,_0x26d7aa={};_0x26d7aa[_0x10a388(0x164)]=_0x28db30[_0x10a388(0x149)],_0x26d7aa[_0x10a388(0x157)]=_0x2e5a7e,_0x490b41[_0x10a388(0x167)](_0x26d7aa),_0x490b41[_0x10a388(0x167)]({'Key':_0x28db30[_0x10a388(0x15e)],'Value':new Date()[_0x10a388(0x14d)]()[_0x10a388(0x141)]()});const _0xd408ac={};_0xd408ac[_0x10a388(0x14f)]=_0x28db30[_0x10a388(0x156)];const _0x1dfdf3=new AWS[(_0x10a388(0x162))](_0xd408ac),_0x45c73e=await fs[_0x10a388(0x142)](path[_0x10a388(0x158)](__dirname,'..',_0x28db30[_0x10a388(0x166)],_0x28db30[_0x10a388(0x170)]),_0x28db30[_0x10a388(0x16f)]),_0x26179b={};_0x26179b['schema']=CLOUDFORMATION_SCHEMA;const _0x5d79f2=yaml[_0x10a388(0x147)](_0x45c73e,_0x26179b);_0x28db30[_0x10a388(0x179)](addAutoscalerTags,_0x5d79f2,_0x2e5a7e,_0x490b41);const _0x5bc5b2=JSON['stringify'](_0x5d79f2),_0x4d2a57={};_0x4d2a57[_0x10a388(0x16a)]=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x2e5a7e,_0x4d2a57[_0x10a388(0x152)]=_0x28db30[_0x10a388(0x150)],_0x4d2a57['TemplateBody']=_0x5bc5b2,_0x4d2a57[_0x10a388(0x16e)]=[{'ParameterKey':_0x28db30[_0x10a388(0x13f)],'ParameterValue':_0x2e5a7e}],_0x4d2a57[_0x10a388(0x154)]=[_0x28db30['wnGzu']],_0x4d2a57[_0x10a388(0x163)]=_0x490b41;const _0x4c19af=_0x4d2a57,_0x100422=await _0x1dfdf3[_0x10a388(0x173)](_0x4c19af)[_0x10a388(0x148)]();logger[_0x10a388(0x161)](_0x28db30['OeIkQ']);const _0x4b6360={};return _0x4b6360[_0x10a388(0x16a)]=_0x100422[_0x10a388(0x14c)],_0x1dfdf3[_0x10a388(0x15d)](_0x28db30[_0x10a388(0x15f)],_0x4b6360)['promise']();};