const a26_0x8e104d=a26_0x4281;function a26_0x434b(){const _0x407282=['Tags','wMaml','VKAJP','js-yaml','7VMWTiT','StackId','valueOf','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','2232585fIiCiT','gpowb','Capabilities','1154TczTiD','TemplateBody','push','2694756wcvNuS','StackName','waitFor','nNaws','3157002nDpZNJ','849715GGwGcY','debug','promisifyAll','browserstack:cluster','2010-05-15','schema','Properties','Resources','createAutoscalerStack','5408152FSyxAL','readFileAsync','vQohD','./AWSUtils','2709tScyjN','Key','apiVersion','3186150hmvSMB','FyyWr','edIKB','ClusterName','WCWyP','stackCreateComplete','awsObj','mYkGp','utf-8','promise','bluebird','CloudFormation','../config/logger','../config/constants','qznUS','createStack'];a26_0x434b=function(){return _0x407282;};return a26_0x434b();}(function(_0x27d3e7,_0x32a66e){const _0x4bd6c4=a26_0x4281,_0x28bb79=_0x27d3e7();while(!![]){try{const _0x1584b5=parseInt(_0x4bd6c4(0x98))/0x1+-parseInt(_0x4bd6c4(0x90))/0x2*(-parseInt(_0x4bd6c4(0xa5))/0x3)+-parseInt(_0x4bd6c4(0x93))/0x4+-parseInt(_0x4bd6c4(0x8d))/0x5+-parseInt(_0x4bd6c4(0xa8))/0x6*(-parseInt(_0x4bd6c4(0x89))/0x7)+-parseInt(_0x4bd6c4(0xa1))/0x8+parseInt(_0x4bd6c4(0x97))/0x9;if(_0x1584b5===_0x32a66e)break;else _0x28bb79['push'](_0x28bb79['shift']());}catch(_0x1aff89){_0x28bb79['push'](_0x28bb79['shift']());}}}(a26_0x434b,0x6f684));const fs=require('fs'),path=require('path'),yaml=require(a26_0x8e104d(0x88)),{CLOUDFORMATION_SCHEMA}=require('js-yaml-cloudformation-schema'),Promise=require(a26_0x8e104d(0xb2)),AWS=require(a26_0x8e104d(0xa4))[a26_0x8e104d(0xae)],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require(a26_0x8e104d(0xb5)),{logger}=require(a26_0x8e104d(0xb4));Promise[a26_0x8e104d(0x9a)](fs);const addAutoscalerTags=async(_0x48905f,_0x33c34f,_0x19b19e)=>{const _0x79b0a9=a26_0x8e104d;for(const _0x1a555c in _0x48905f['Resources']){_0x48905f[_0x79b0a9(0x9f)][_0x1a555c][_0x79b0a9(0x9e)]&&_0x48905f['Resources'][_0x1a555c][_0x79b0a9(0x9e)][_0x79b0a9(0x85)]&&_0x48905f['Resources'][_0x1a555c][_0x79b0a9(0x9e)][_0x79b0a9(0x85)][_0x79b0a9(0x92)](..._0x19b19e);}};function a26_0x4281(_0x5ddc30,_0x58b70e){const _0x434b34=a26_0x434b();return a26_0x4281=function(_0x428114,_0x4b1596){_0x428114=_0x428114-0x85;let _0x1ec3a8=_0x434b34[_0x428114];return _0x1ec3a8;},a26_0x4281(_0x5ddc30,_0x58b70e);}exports[a26_0x8e104d(0xa0)]=async _0x35ee5c=>{const _0x105e7c=a26_0x8e104d,_0x37775a={'FyyWr':_0x105e7c(0x9b),'gpowb':'browserstack:creationDate','edIKB':_0x105e7c(0x9c),'jZpuB':'templates','YqLSz':'autoscaler-role-creation.yaml','qznUS':_0x105e7c(0xb0),'VKAJP':function(_0x1b1201,_0x51e282,_0x3be499,_0x25403f){return _0x1b1201(_0x51e282,_0x3be499,_0x25403f);},'WCWyP':'DELETE','wMaml':_0x105e7c(0xab),'vQohD':'CAPABILITY_NAMED_IAM','mYkGp':_0x105e7c(0x8c),'nNaws':_0x105e7c(0xad)},_0x42b676=COMMON_HST_TAGS,_0x4898d4={};_0x4898d4[_0x105e7c(0xa6)]=_0x37775a[_0x105e7c(0xa9)],_0x4898d4['Value']=_0x35ee5c,_0x42b676['push'](_0x4898d4),_0x42b676[_0x105e7c(0x92)]({'Key':_0x37775a[_0x105e7c(0x8e)],'Value':new Date()[_0x105e7c(0x8b)]()['toString']()});const _0x26612c={};_0x26612c[_0x105e7c(0xa7)]=_0x37775a[_0x105e7c(0xaa)];const _0x15f358=new AWS[(_0x105e7c(0xb3))](_0x26612c),_0x4545f2=await fs[_0x105e7c(0xa2)](path['join'](__dirname,'..',_0x37775a['jZpuB'],_0x37775a['YqLSz']),_0x37775a[_0x105e7c(0xb6)]),_0x547b0f={};_0x547b0f[_0x105e7c(0x9d)]=CLOUDFORMATION_SCHEMA;const _0x21da02=yaml['load'](_0x4545f2,_0x547b0f);_0x37775a[_0x105e7c(0x87)](addAutoscalerTags,_0x21da02,_0x35ee5c,_0x42b676);const _0x5432ff=JSON['stringify'](_0x21da02),_0x518e4f={};_0x518e4f[_0x105e7c(0x94)]=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x35ee5c,_0x518e4f['OnFailure']=_0x37775a[_0x105e7c(0xac)],_0x518e4f[_0x105e7c(0x91)]=_0x5432ff,_0x518e4f['Parameters']=[{'ParameterKey':_0x37775a[_0x105e7c(0x86)],'ParameterValue':_0x35ee5c}],_0x518e4f[_0x105e7c(0x8f)]=[_0x37775a[_0x105e7c(0xa3)]],_0x518e4f[_0x105e7c(0x85)]=_0x42b676;const _0x325da4=_0x518e4f,_0x2e33ba=await _0x15f358[_0x105e7c(0xb7)](_0x325da4)[_0x105e7c(0xb1)]();logger[_0x105e7c(0x99)](_0x37775a[_0x105e7c(0xaf)]);const _0x240152={};return _0x240152[_0x105e7c(0x94)]=_0x2e33ba[_0x105e7c(0x8a)],_0x15f358[_0x105e7c(0x95)](_0x37775a[_0x105e7c(0x96)],_0x240152)[_0x105e7c(0xb1)]();};