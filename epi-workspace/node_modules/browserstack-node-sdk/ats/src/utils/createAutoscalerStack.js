function a26_0x2790(){const _0x322471=['join','valueOf','etprS','Parameters','2001141THtmyC','toString','uOPTk','autoscaler-role-creation.yaml','Kibcj','Capabilities','utf-8','promise','ClusterName','StackId','zxWDp','777844weBVYK','StackName','587OEhDDZ','bluebird','readFileAsync','TemplateBody','browserstack:cluster','54fsHnWB','createAutoscalerStack','nKscp','stackCreateComplete','Adnhf','32275bVICjW','Properties','SKtTe','push','72JLXxzK','templates','../config/constants','OnFailure','path','debug','mLwXP','3lgrYSb','GErHJ','405048msYENE','stringify','load','32rbVHrV','20dUyYfk','CloudFormation','Key','../config/logger','./AWSUtils','178fBiuWL','apiVersion','js-yaml-cloudformation-schema','schema','800943ZoPFhQ','uKlGU','Resources','MMwBs','Tags','385891DGqxLo','browserstack:creationDate','Value','2010-05-15','DELETE'];a26_0x2790=function(){return _0x322471;};return a26_0x2790();}const a26_0x5b7056=a26_0x180d;(function(_0x218267,_0x48d284){const _0x3f8de3=a26_0x180d,_0x5ab62c=_0x218267();while(!![]){try{const _0x29d534=-parseInt(_0x3f8de3(0xc6))/0x1*(-parseInt(_0x3f8de3(0xe6))/0x2)+parseInt(_0x3f8de3(0xdb))/0x3*(-parseInt(_0x3f8de3(0xc4))/0x4)+parseInt(_0x3f8de3(0xd0))/0x5*(-parseInt(_0x3f8de3(0xcb))/0x6)+-parseInt(_0x3f8de3(0xdd))/0x7*(-parseInt(_0x3f8de3(0xe0))/0x8)+-parseInt(_0x3f8de3(0xb9))/0x9+-parseInt(_0x3f8de3(0xe1))/0xa*(-parseInt(_0x3f8de3(0xef))/0xb)+parseInt(_0x3f8de3(0xd4))/0xc*(parseInt(_0x3f8de3(0xea))/0xd);if(_0x29d534===_0x48d284)break;else _0x5ab62c['push'](_0x5ab62c['shift']());}catch(_0x295107){_0x5ab62c['push'](_0x5ab62c['shift']());}}}(a26_0x2790,0x3cb2e));const fs=require('fs'),path=require(a26_0x5b7056(0xd8)),yaml=require('js-yaml'),{CLOUDFORMATION_SCHEMA}=require(a26_0x5b7056(0xe8)),Promise=require(a26_0x5b7056(0xc7)),AWS=require(a26_0x5b7056(0xe5))['awsObj'],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require(a26_0x5b7056(0xd6)),{logger}=require(a26_0x5b7056(0xe4));function a26_0x180d(_0x47140a,_0x4a935f){const _0x279001=a26_0x2790();return a26_0x180d=function(_0x180d6a,_0x5d1dc2){_0x180d6a=_0x180d6a-0xb6;let _0x36c4bd=_0x279001[_0x180d6a];return _0x36c4bd;},a26_0x180d(_0x47140a,_0x4a935f);}Promise['promisifyAll'](fs);const addAutoscalerTags=async(_0x2c599f,_0x239191,_0x171657)=>{const _0x5cbc18=a26_0x5b7056;for(const _0x2e8d00 in _0x2c599f[_0x5cbc18(0xec)]){_0x2c599f[_0x5cbc18(0xec)][_0x2e8d00][_0x5cbc18(0xd1)]&&_0x2c599f['Resources'][_0x2e8d00]['Properties'][_0x5cbc18(0xee)]&&_0x2c599f[_0x5cbc18(0xec)][_0x2e8d00]['Properties'][_0x5cbc18(0xee)][_0x5cbc18(0xd3)](..._0x171657);}};exports[a26_0x5b7056(0xcc)]=async _0x43d3b6=>{const _0x58bd5d=a26_0x5b7056,_0x2f6b32={'GErHJ':_0x58bd5d(0xca),'Kibcj':_0x58bd5d(0xf0),'IkokC':_0x58bd5d(0xf2),'etprS':_0x58bd5d(0xd5),'nKscp':_0x58bd5d(0xbc),'zxWDp':_0x58bd5d(0xbf),'SKtTe':function(_0x575c56,_0x3f6e2d,_0x25d9fb,_0xbbd000){return _0x575c56(_0x3f6e2d,_0x25d9fb,_0xbbd000);},'mLwXP':_0x58bd5d(0xf3),'uOPTk':_0x58bd5d(0xc1),'MMwBs':'CAPABILITY_NAMED_IAM','Adnhf':'Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','uKlGU':_0x58bd5d(0xce)},_0x67e82c=COMMON_HST_TAGS,_0x24113d={};_0x24113d[_0x58bd5d(0xe3)]=_0x2f6b32[_0x58bd5d(0xdc)],_0x24113d[_0x58bd5d(0xf1)]=_0x43d3b6,_0x67e82c[_0x58bd5d(0xd3)](_0x24113d),_0x67e82c['push']({'Key':_0x2f6b32[_0x58bd5d(0xbd)],'Value':new Date()[_0x58bd5d(0xb6)]()[_0x58bd5d(0xba)]()});const _0x137215={};_0x137215[_0x58bd5d(0xe7)]=_0x2f6b32['IkokC'];const _0x3830eb=new AWS[(_0x58bd5d(0xe2))](_0x137215),_0x58c27e=await fs[_0x58bd5d(0xc8)](path[_0x58bd5d(0xf4)](__dirname,'..',_0x2f6b32[_0x58bd5d(0xb7)],_0x2f6b32[_0x58bd5d(0xcd)]),_0x2f6b32[_0x58bd5d(0xc3)]),_0x1b3898={};_0x1b3898[_0x58bd5d(0xe9)]=CLOUDFORMATION_SCHEMA;const _0x121dab=yaml[_0x58bd5d(0xdf)](_0x58c27e,_0x1b3898);_0x2f6b32[_0x58bd5d(0xd2)](addAutoscalerTags,_0x121dab,_0x43d3b6,_0x67e82c);const _0x5a08ae=JSON[_0x58bd5d(0xde)](_0x121dab),_0x4cff1c={};_0x4cff1c[_0x58bd5d(0xc5)]=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x43d3b6,_0x4cff1c[_0x58bd5d(0xd7)]=_0x2f6b32[_0x58bd5d(0xda)],_0x4cff1c[_0x58bd5d(0xc9)]=_0x5a08ae,_0x4cff1c[_0x58bd5d(0xb8)]=[{'ParameterKey':_0x2f6b32[_0x58bd5d(0xbb)],'ParameterValue':_0x43d3b6}],_0x4cff1c[_0x58bd5d(0xbe)]=[_0x2f6b32[_0x58bd5d(0xed)]],_0x4cff1c[_0x58bd5d(0xee)]=_0x67e82c;const _0x311283=_0x4cff1c,_0x77131d=await _0x3830eb['createStack'](_0x311283)[_0x58bd5d(0xc0)]();logger[_0x58bd5d(0xd9)](_0x2f6b32[_0x58bd5d(0xcf)]);const _0x203dfb={};return _0x203dfb[_0x58bd5d(0xc5)]=_0x77131d[_0x58bd5d(0xc2)],_0x3830eb['waitFor'](_0x2f6b32[_0x58bd5d(0xeb)],_0x203dfb)[_0x58bd5d(0xc0)]();};