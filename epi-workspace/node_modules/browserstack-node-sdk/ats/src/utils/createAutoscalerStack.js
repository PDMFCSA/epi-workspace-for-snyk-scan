function a26_0x5f0a(){const _0x2a33fd=['uQSWU','utf-8','Capabilities','stringify','tMDNz','2010-05-15','133627LJirBG','js-yaml-cloudformation-schema','Value','Resources','push','QgWMS','5136816yEAJqa','toString','schema','lNvaV','StackName','wGLjs','join','Tags','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','promisifyAll','createStack','Properties','readFileAsync','876276LQziZF','promise','./AWSUtils','createAutoscalerStack','Key','Nhpzn','5246105ycOJuu','templates','CloudFormation','browserstack:creationDate','stackCreateComplete','CAPABILITY_NAMED_IAM','2188784MLAect','browserstack:cluster','TemplateBody','OnFailure','14533379CnLqQT','WlvJv','bluebird','apiVersion','StackId','autoscaler-role-creation.yaml','DELETE','awsObj','fXcUt','waitFor','2694708xjIOTE','debug','SupHR','../config/constants','Parameters'];a26_0x5f0a=function(){return _0x2a33fd;};return a26_0x5f0a();}const a26_0x50a0e4=a26_0xad51;(function(_0xc1f760,_0x5eaba7){const _0x460a2a=a26_0xad51,_0x23c07c=_0xc1f760();while(!![]){try{const _0x188b4a=-parseInt(_0x460a2a(0x11e))/0x1+parseInt(_0x460a2a(0x131))/0x2+-parseInt(_0x460a2a(0x113))/0x3+-parseInt(_0x460a2a(0x13d))/0x4+-parseInt(_0x460a2a(0x137))/0x5+parseInt(_0x460a2a(0x124))/0x6+parseInt(_0x460a2a(0x141))/0x7;if(_0x188b4a===_0x5eaba7)break;else _0x23c07c['push'](_0x23c07c['shift']());}catch(_0x4cc2da){_0x23c07c['push'](_0x23c07c['shift']());}}}(a26_0x5f0a,0xb532f));function a26_0xad51(_0x33307e,_0x145181){const _0x5f0a57=a26_0x5f0a();return a26_0xad51=function(_0xad51e7,_0x53f500){_0xad51e7=_0xad51e7-0x10e;let _0x59faff=_0x5f0a57[_0xad51e7];return _0x59faff;},a26_0xad51(_0x33307e,_0x145181);}const fs=require('fs'),path=require('path'),yaml=require('js-yaml'),{CLOUDFORMATION_SCHEMA}=require(a26_0x50a0e4(0x11f)),Promise=require(a26_0x50a0e4(0x143)),AWS=require(a26_0x50a0e4(0x133))[a26_0x50a0e4(0x110)],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require(a26_0x50a0e4(0x116)),{logger}=require('../config/logger');Promise[a26_0x50a0e4(0x12d)](fs);const addAutoscalerTags=async(_0x46c039,_0x2cab18,_0x7efc6f)=>{const _0x2f1391=a26_0x50a0e4;for(const _0x3e02f0 in _0x46c039[_0x2f1391(0x121)]){_0x46c039['Resources'][_0x3e02f0]['Properties']&&_0x46c039[_0x2f1391(0x121)][_0x3e02f0][_0x2f1391(0x12f)][_0x2f1391(0x12b)]&&_0x46c039[_0x2f1391(0x121)][_0x3e02f0][_0x2f1391(0x12f)][_0x2f1391(0x12b)]['push'](..._0x7efc6f);}};exports[a26_0x50a0e4(0x134)]=async _0x5607e0=>{const _0x19e9bb=a26_0x50a0e4,_0x5ad112={'wGLjs':_0x19e9bb(0x13e),'LJSzh':_0x19e9bb(0x13a),'SupHR':_0x19e9bb(0x11d),'Nhpzn':_0x19e9bb(0x138),'BUEyX':_0x19e9bb(0x10e),'fXcUt':_0x19e9bb(0x119),'tMDNz':function(_0x94de68,_0x1b5afd,_0xe396d8,_0x585d7a){return _0x94de68(_0x1b5afd,_0xe396d8,_0x585d7a);},'WlvJv':_0x19e9bb(0x10f),'ysjwB':'ClusterName','uQSWU':_0x19e9bb(0x13c),'QgWMS':_0x19e9bb(0x12c),'lNvaV':_0x19e9bb(0x13b)},_0x2baee3=COMMON_HST_TAGS,_0x3db7dd={};_0x3db7dd[_0x19e9bb(0x135)]=_0x5ad112[_0x19e9bb(0x129)],_0x3db7dd[_0x19e9bb(0x120)]=_0x5607e0,_0x2baee3[_0x19e9bb(0x122)](_0x3db7dd),_0x2baee3[_0x19e9bb(0x122)]({'Key':_0x5ad112['LJSzh'],'Value':new Date()['valueOf']()[_0x19e9bb(0x125)]()});const _0xe4b349={};_0xe4b349[_0x19e9bb(0x144)]=_0x5ad112[_0x19e9bb(0x115)];const _0x32ea39=new AWS[(_0x19e9bb(0x139))](_0xe4b349),_0x2cf276=await fs[_0x19e9bb(0x130)](path[_0x19e9bb(0x12a)](__dirname,'..',_0x5ad112[_0x19e9bb(0x136)],_0x5ad112['BUEyX']),_0x5ad112[_0x19e9bb(0x111)]),_0x102c00={};_0x102c00[_0x19e9bb(0x126)]=CLOUDFORMATION_SCHEMA;const _0x4947f3=yaml['load'](_0x2cf276,_0x102c00);_0x5ad112[_0x19e9bb(0x11c)](addAutoscalerTags,_0x4947f3,_0x5607e0,_0x2baee3);const _0x292d54=JSON[_0x19e9bb(0x11b)](_0x4947f3),_0x167d02={};_0x167d02[_0x19e9bb(0x128)]=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x5607e0,_0x167d02[_0x19e9bb(0x140)]=_0x5ad112[_0x19e9bb(0x142)],_0x167d02[_0x19e9bb(0x13f)]=_0x292d54,_0x167d02[_0x19e9bb(0x117)]=[{'ParameterKey':_0x5ad112['ysjwB'],'ParameterValue':_0x5607e0}],_0x167d02[_0x19e9bb(0x11a)]=[_0x5ad112[_0x19e9bb(0x118)]],_0x167d02[_0x19e9bb(0x12b)]=_0x2baee3;const _0x59fc22=_0x167d02,_0x3c3daa=await _0x32ea39[_0x19e9bb(0x12e)](_0x59fc22)[_0x19e9bb(0x132)]();logger[_0x19e9bb(0x114)](_0x5ad112[_0x19e9bb(0x123)]);const _0x4421a6={};return _0x4421a6[_0x19e9bb(0x128)]=_0x3c3daa[_0x19e9bb(0x145)],_0x32ea39[_0x19e9bb(0x112)](_0x5ad112[_0x19e9bb(0x127)],_0x4421a6)['promise']();};