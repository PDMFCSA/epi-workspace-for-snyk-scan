const a26_0x4af7a7=a26_0x34e1;(function(_0x5f357d,_0x45cd5b){const _0x1c49be=a26_0x34e1,_0x39bdd5=_0x5f357d();while(!![]){try{const _0x5446fd=parseInt(_0x1c49be(0x1c9))/0x1*(-parseInt(_0x1c49be(0x1c2))/0x2)+parseInt(_0x1c49be(0x1bd))/0x3+-parseInt(_0x1c49be(0x1db))/0x4*(-parseInt(_0x1c49be(0x1cd))/0x5)+-parseInt(_0x1c49be(0x1be))/0x6*(-parseInt(_0x1c49be(0x1e3))/0x7)+parseInt(_0x1c49be(0x1d2))/0x8*(-parseInt(_0x1c49be(0x1df))/0x9)+-parseInt(_0x1c49be(0x1b6))/0xa*(-parseInt(_0x1c49be(0x1b0))/0xb)+-parseInt(_0x1c49be(0x1d8))/0xc*(parseInt(_0x1c49be(0x1c1))/0xd);if(_0x5446fd===_0x45cd5b)break;else _0x39bdd5['push'](_0x39bdd5['shift']());}catch(_0x2aa2d3){_0x39bdd5['push'](_0x39bdd5['shift']());}}}(a26_0x1633,0x7568e));const fs=require('fs'),path=require(a26_0x4af7a7(0x1cb)),yaml=require(a26_0x4af7a7(0x1af)),{CLOUDFORMATION_SCHEMA}=require(a26_0x4af7a7(0x1bf)),Promise=require(a26_0x4af7a7(0x1d9)),AWS=require('./AWSUtils')['awsObj'],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require('../config/constants'),{logger}=require(a26_0x4af7a7(0x1ce));function a26_0x1633(){const _0xdefe86=['819qTiiMI','1783586REIlho','StackId','GiVND','oeHli','apiVersion','join','cclXG','1hBAPIw','debug','path','Value','1884020AmXJsy','../config/logger','TemplateBody','utf-8','createStack','337760cIACDd','DELETE','wmZer','arDsJ','Tags','promise','135528XOzTnx','bluebird','stackCreateComplete','8LgedRg','createAutoscalerStack','Key','SMLNc','135YBDtCS','waitFor','Parameters','qrWro','7LSAyPQ','js-yaml','715icWTyZ','hFnCc','templates','load','TSugJ','schema','79990WXYevs','CAPABILITY_NAMED_IAM','StackName','OnFailure','browserstack:cluster','push','Resources','2533965vVceyb','3595962QbTUbj','js-yaml-cloudformation-schema','Properties'];a26_0x1633=function(){return _0xdefe86;};return a26_0x1633();}Promise['promisifyAll'](fs);const addAutoscalerTags=async(_0x35cdc1,_0x4fd960,_0x51f6e2)=>{const _0x5eefac=a26_0x4af7a7;for(const _0x1f26a1 in _0x35cdc1[_0x5eefac(0x1bc)]){_0x35cdc1[_0x5eefac(0x1bc)][_0x1f26a1][_0x5eefac(0x1c0)]&&_0x35cdc1['Resources'][_0x1f26a1][_0x5eefac(0x1c0)][_0x5eefac(0x1d6)]&&_0x35cdc1['Resources'][_0x1f26a1][_0x5eefac(0x1c0)]['Tags'][_0x5eefac(0x1bb)](..._0x51f6e2);}};function a26_0x34e1(_0x200bb5,_0x11f24b){const _0x1633cf=a26_0x1633();return a26_0x34e1=function(_0x34e15d,_0x44348c){_0x34e15d=_0x34e15d-0x1af;let _0x27d6c8=_0x1633cf[_0x34e15d];return _0x27d6c8;},a26_0x34e1(_0x200bb5,_0x11f24b);}exports[a26_0x4af7a7(0x1dc)]=async _0x1e0216=>{const _0x36662a=a26_0x4af7a7,_0x5f42d4={'hFnCc':_0x36662a(0x1ba),'MzEba':'browserstack:creationDate','SMLNc':'2010-05-15','GiVND':_0x36662a(0x1b2),'TSugJ':'autoscaler-role-creation.yaml','MFVlv':_0x36662a(0x1d0),'oeHli':function(_0x12ce49,_0x30feff,_0x3cc247,_0x12d4c4){return _0x12ce49(_0x30feff,_0x3cc247,_0x12d4c4);},'qYxfv':_0x36662a(0x1d3),'arDsJ':'ClusterName','wmZer':_0x36662a(0x1b7),'qrWro':'Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','cclXG':_0x36662a(0x1da)},_0x10e6b4=COMMON_HST_TAGS,_0x5a3f54={};_0x5a3f54[_0x36662a(0x1dd)]=_0x5f42d4[_0x36662a(0x1b1)],_0x5a3f54[_0x36662a(0x1cc)]=_0x1e0216,_0x10e6b4[_0x36662a(0x1bb)](_0x5a3f54),_0x10e6b4[_0x36662a(0x1bb)]({'Key':_0x5f42d4['MzEba'],'Value':new Date()['valueOf']()['toString']()});const _0x261e5f={};_0x261e5f[_0x36662a(0x1c6)]=_0x5f42d4[_0x36662a(0x1de)];const _0x15ca7a=new AWS['CloudFormation'](_0x261e5f),_0x17d0b0=await fs['readFileAsync'](path[_0x36662a(0x1c7)](__dirname,'..',_0x5f42d4[_0x36662a(0x1c4)],_0x5f42d4[_0x36662a(0x1b4)]),_0x5f42d4['MFVlv']),_0x6a5a01={};_0x6a5a01[_0x36662a(0x1b5)]=CLOUDFORMATION_SCHEMA;const _0x150aff=yaml[_0x36662a(0x1b3)](_0x17d0b0,_0x6a5a01);_0x5f42d4[_0x36662a(0x1c5)](addAutoscalerTags,_0x150aff,_0x1e0216,_0x10e6b4);const _0x1f1c9e=JSON['stringify'](_0x150aff),_0x2ac8a8={};_0x2ac8a8[_0x36662a(0x1b8)]=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x1e0216,_0x2ac8a8[_0x36662a(0x1b9)]=_0x5f42d4['qYxfv'],_0x2ac8a8[_0x36662a(0x1cf)]=_0x1f1c9e,_0x2ac8a8[_0x36662a(0x1e1)]=[{'ParameterKey':_0x5f42d4[_0x36662a(0x1d5)],'ParameterValue':_0x1e0216}],_0x2ac8a8['Capabilities']=[_0x5f42d4[_0x36662a(0x1d4)]],_0x2ac8a8[_0x36662a(0x1d6)]=_0x10e6b4;const _0x27122d=_0x2ac8a8,_0x177af6=await _0x15ca7a[_0x36662a(0x1d1)](_0x27122d)[_0x36662a(0x1d7)]();logger[_0x36662a(0x1ca)](_0x5f42d4[_0x36662a(0x1e2)]);const _0x28eadf={};return _0x28eadf[_0x36662a(0x1b8)]=_0x177af6[_0x36662a(0x1c3)],_0x15ca7a[_0x36662a(0x1e0)](_0x5f42d4[_0x36662a(0x1c8)],_0x28eadf)[_0x36662a(0x1d7)]();};