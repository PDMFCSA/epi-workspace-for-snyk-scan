const a26_0x4e80b8=a26_0x1931;(function(_0x23ee42,_0x26d234){const _0x3aa05c=a26_0x1931,_0x4ff852=_0x23ee42();while(!![]){try{const _0xe4bca5=-parseInt(_0x3aa05c(0xf1))/0x1+-parseInt(_0x3aa05c(0xce))/0x2*(parseInt(_0x3aa05c(0xe9))/0x3)+parseInt(_0x3aa05c(0xf9))/0x4+-parseInt(_0x3aa05c(0xe1))/0x5+-parseInt(_0x3aa05c(0xe4))/0x6+parseInt(_0x3aa05c(0xda))/0x7*(parseInt(_0x3aa05c(0xe7))/0x8)+parseInt(_0x3aa05c(0xdd))/0x9*(parseInt(_0x3aa05c(0xfd))/0xa);if(_0xe4bca5===_0x26d234)break;else _0x4ff852['push'](_0x4ff852['shift']());}catch(_0x1a058b){_0x4ff852['push'](_0x4ff852['shift']());}}}(a26_0x4a2f,0x5b0d5));const fs=require('fs'),path=require(a26_0x4e80b8(0xe2)),yaml=require('js-yaml'),{CLOUDFORMATION_SCHEMA}=require('js-yaml-cloudformation-schema'),Promise=require('bluebird'),AWS=require('./AWSUtils')[a26_0x4e80b8(0xd0)],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require(a26_0x4e80b8(0xeb)),{logger}=require(a26_0x4e80b8(0xcf));Promise[a26_0x4e80b8(0xd5)](fs);const addAutoscalerTags=async(_0x4f4c14,_0x295523,_0x5cd18d)=>{const _0x58cb93=a26_0x4e80b8;for(const _0x36c0c5 in _0x4f4c14[_0x58cb93(0xf0)]){_0x4f4c14['Resources'][_0x36c0c5][_0x58cb93(0xd7)]&&_0x4f4c14[_0x58cb93(0xf0)][_0x36c0c5][_0x58cb93(0xd7)][_0x58cb93(0xf5)]&&_0x4f4c14[_0x58cb93(0xf0)][_0x36c0c5]['Properties'][_0x58cb93(0xf5)][_0x58cb93(0xd9)](..._0x5cd18d);}};exports['createAutoscalerStack']=async _0x3ad614=>{const _0x469cd5=a26_0x4e80b8,_0x529702={'RzGaM':_0x469cd5(0xd3),'PJPfv':'browserstack:creationDate','dDDdD':_0x469cd5(0xec),'oClfS':_0x469cd5(0xf7),'xFzgj':'autoscaler-role-creation.yaml','oNGpf':'utf-8','EnbII':function(_0xb3795d,_0x5ee2b4,_0x60984e,_0x591958){return _0xb3795d(_0x5ee2b4,_0x60984e,_0x591958);},'nGfqj':_0x469cd5(0xf6),'gkXGP':_0x469cd5(0xd4),'jZylS':_0x469cd5(0xf8),'HyVCE':_0x469cd5(0xe0),'aAIjv':_0x469cd5(0xee)},_0x305824=COMMON_HST_TAGS,_0x50691c={};_0x50691c[_0x469cd5(0xfc)]=_0x529702['RzGaM'],_0x50691c[_0x469cd5(0xe5)]=_0x3ad614,_0x305824['push'](_0x50691c),_0x305824[_0x469cd5(0xd9)]({'Key':_0x529702[_0x469cd5(0xd2)],'Value':new Date()[_0x469cd5(0xfb)]()[_0x469cd5(0xdb)]()});const _0xd886f8={};_0xd886f8[_0x469cd5(0xe6)]=_0x529702[_0x469cd5(0xfe)];const _0x17132a=new AWS[(_0x469cd5(0xef))](_0xd886f8),_0x2ce805=await fs[_0x469cd5(0xdf)](path[_0x469cd5(0xea)](__dirname,'..',_0x529702[_0x469cd5(0xd8)],_0x529702[_0x469cd5(0xf3)]),_0x529702[_0x469cd5(0xde)]),_0x33a0c2={};_0x33a0c2['schema']=CLOUDFORMATION_SCHEMA;const _0x39ade5=yaml['load'](_0x2ce805,_0x33a0c2);_0x529702[_0x469cd5(0xd1)](addAutoscalerTags,_0x39ade5,_0x3ad614,_0x305824);const _0x1f264f=JSON['stringify'](_0x39ade5),_0x56e65d={};_0x56e65d[_0x469cd5(0xf2)]=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x3ad614,_0x56e65d[_0x469cd5(0xdc)]=_0x529702[_0x469cd5(0xe8)],_0x56e65d[_0x469cd5(0xe3)]=_0x1f264f,_0x56e65d[_0x469cd5(0xfa)]=[{'ParameterKey':_0x529702['gkXGP'],'ParameterValue':_0x3ad614}],_0x56e65d['Capabilities']=[_0x529702[_0x469cd5(0xed)]],_0x56e65d['Tags']=_0x305824;const _0x593c6f=_0x56e65d,_0x23a828=await _0x17132a['createStack'](_0x593c6f)[_0x469cd5(0xff)]();logger['debug'](_0x529702[_0x469cd5(0x100)]);const _0x2b81a2={};return _0x2b81a2['StackName']=_0x23a828['StackId'],_0x17132a[_0x469cd5(0xd6)](_0x529702[_0x469cd5(0xf4)],_0x2b81a2)['promise']();};function a26_0x1931(_0x633b1d,_0x3ef723){const _0x4a2ffa=a26_0x4a2f();return a26_0x1931=function(_0x1931aa,_0xde854e){_0x1931aa=_0x1931aa-0xce;let _0x1a8501=_0x4a2ffa[_0x1931aa];return _0x1a8501;},a26_0x1931(_0x633b1d,_0x3ef723);}function a26_0x4a2f(){const _0x3a4eec=['stackCreateComplete','CloudFormation','Resources','51019fAetOi','StackName','xFzgj','aAIjv','Tags','DELETE','templates','CAPABILITY_NAMED_IAM','66060QbQlHh','Parameters','valueOf','Key','116170wnqWtK','dDDdD','promise','HyVCE','76RGIYRg','../config/logger','awsObj','EnbII','PJPfv','browserstack:cluster','ClusterName','promisifyAll','waitFor','Properties','oClfS','push','7VrIYqq','toString','OnFailure','549SaUTnp','oNGpf','readFileAsync','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','317275acnFHx','path','TemplateBody','3620112YHYHzs','Value','apiVersion','4527976zXCmYy','nGfqj','15819hHwgAs','join','../config/constants','2010-05-15','jZylS'];a26_0x4a2f=function(){return _0x3a4eec;};return a26_0x4a2f();}