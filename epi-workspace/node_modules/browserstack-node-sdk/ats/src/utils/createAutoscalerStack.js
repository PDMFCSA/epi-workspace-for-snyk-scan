const a26_0x1b4148=a26_0x5431;(function(_0x136416,_0x32d9bc){const _0x297608=a26_0x5431,_0x33058e=_0x136416();while(!![]){try{const _0x1de717=parseInt(_0x297608(0x19e))/0x1*(parseInt(_0x297608(0x198))/0x2)+parseInt(_0x297608(0x1af))/0x3+-parseInt(_0x297608(0x1c4))/0x4+parseInt(_0x297608(0x191))/0x5*(-parseInt(_0x297608(0x18e))/0x6)+-parseInt(_0x297608(0x1a2))/0x7+parseInt(_0x297608(0x1a8))/0x8*(parseInt(_0x297608(0x194))/0x9)+-parseInt(_0x297608(0x1a3))/0xa*(-parseInt(_0x297608(0x19f))/0xb);if(_0x1de717===_0x32d9bc)break;else _0x33058e['push'](_0x33058e['shift']());}catch(_0x19de6e){_0x33058e['push'](_0x33058e['shift']());}}}(a26_0x3c9b,0x77e47));const fs=require('fs'),path=require('path'),yaml=require(a26_0x1b4148(0x1b9)),{CLOUDFORMATION_SCHEMA}=require(a26_0x1b4148(0x19c)),Promise=require(a26_0x1b4148(0x1b1)),AWS=require(a26_0x1b4148(0x1b5))['awsObj'],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require(a26_0x1b4148(0x1ab)),{logger}=require(a26_0x1b4148(0x1be));function a26_0x3c9b(){const _0xfba17c=['StackName','join','NItGj','waitFor','apiVersion','2989892lnnZPb','5046hkweLE','valueOf','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','2785KaPVoL','adZDC','templates','9yHpuTy','PnBki','Properties','stackCreateComplete','4LebOKJ','promisifyAll','schema','createAutoscalerStack','js-yaml-cloudformation-schema','uNomG','76271usGmsX','55253DTmHjM','JiGfA','toString','6119764osMfRy','2300IHDIpH','Capabilities','ClusterName','utf-8','CAPABILITY_NAMED_IAM','5047184jSWGUJ','Tags','autoscaler-role-creation.yaml','../config/constants','OnFailure','promise','push','1927533MNnuzu','browserstack:cluster','bluebird','stringify','VGSJJ','Value','./AWSUtils','jpJbA','GyzBe','QFsjm','js-yaml','RqhvI','Resources','debug','FYoaY','../config/logger'];a26_0x3c9b=function(){return _0xfba17c;};return a26_0x3c9b();}function a26_0x5431(_0x1b3179,_0x3183fb){const _0x3c9bee=a26_0x3c9b();return a26_0x5431=function(_0x5431e4,_0xa34dfb){_0x5431e4=_0x5431e4-0x18e;let _0x3ca3e3=_0x3c9bee[_0x5431e4];return _0x3ca3e3;},a26_0x5431(_0x1b3179,_0x3183fb);}Promise[a26_0x1b4148(0x199)](fs);const addAutoscalerTags=async(_0x4fd731,_0x137a5b,_0x15114a)=>{const _0x2c91e5=a26_0x1b4148;for(const _0x2fa161 in _0x4fd731[_0x2c91e5(0x1bb)]){_0x4fd731[_0x2c91e5(0x1bb)][_0x2fa161][_0x2c91e5(0x196)]&&_0x4fd731[_0x2c91e5(0x1bb)][_0x2fa161]['Properties'][_0x2c91e5(0x1a9)]&&_0x4fd731[_0x2c91e5(0x1bb)][_0x2fa161][_0x2c91e5(0x196)][_0x2c91e5(0x1a9)]['push'](..._0x15114a);}};exports[a26_0x1b4148(0x19b)]=async _0x6cb07a=>{const _0x5f329b=a26_0x1b4148,_0x2347e4={'QFsjm':_0x5f329b(0x1b0),'PnBki':'browserstack:creationDate','NItGj':'2010-05-15','VGSJJ':_0x5f329b(0x193),'GyzBe':_0x5f329b(0x1aa),'RqhvI':_0x5f329b(0x1a6),'jpJbA':function(_0x54ba8b,_0x4c2849,_0x3bd310,_0xf097b9){return _0x54ba8b(_0x4c2849,_0x3bd310,_0xf097b9);},'FYoaY':'DELETE','KabZx':_0x5f329b(0x1a5),'JiGfA':_0x5f329b(0x1a7),'uNomG':_0x5f329b(0x190),'adZDC':_0x5f329b(0x197)},_0x435749=COMMON_HST_TAGS,_0x2a26c9={};_0x2a26c9['Key']=_0x2347e4[_0x5f329b(0x1b8)],_0x2a26c9[_0x5f329b(0x1b4)]=_0x6cb07a,_0x435749[_0x5f329b(0x1ae)](_0x2a26c9),_0x435749['push']({'Key':_0x2347e4[_0x5f329b(0x195)],'Value':new Date()[_0x5f329b(0x18f)]()[_0x5f329b(0x1a1)]()});const _0x6c3e09={};_0x6c3e09[_0x5f329b(0x1c3)]=_0x2347e4[_0x5f329b(0x1c1)];const _0x5e762c=new AWS['CloudFormation'](_0x6c3e09),_0x5d4173=await fs['readFileAsync'](path[_0x5f329b(0x1c0)](__dirname,'..',_0x2347e4[_0x5f329b(0x1b3)],_0x2347e4[_0x5f329b(0x1b7)]),_0x2347e4[_0x5f329b(0x1ba)]),_0x51f355={};_0x51f355[_0x5f329b(0x19a)]=CLOUDFORMATION_SCHEMA;const _0x31e3d2=yaml['load'](_0x5d4173,_0x51f355);_0x2347e4[_0x5f329b(0x1b6)](addAutoscalerTags,_0x31e3d2,_0x6cb07a,_0x435749);const _0x4bd117=JSON[_0x5f329b(0x1b2)](_0x31e3d2),_0x9d76db={};_0x9d76db[_0x5f329b(0x1bf)]=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x6cb07a,_0x9d76db[_0x5f329b(0x1ac)]=_0x2347e4[_0x5f329b(0x1bd)],_0x9d76db['TemplateBody']=_0x4bd117,_0x9d76db['Parameters']=[{'ParameterKey':_0x2347e4['KabZx'],'ParameterValue':_0x6cb07a}],_0x9d76db[_0x5f329b(0x1a4)]=[_0x2347e4[_0x5f329b(0x1a0)]],_0x9d76db[_0x5f329b(0x1a9)]=_0x435749;const _0x286fb9=_0x9d76db,_0xcc5b06=await _0x5e762c['createStack'](_0x286fb9)[_0x5f329b(0x1ad)]();logger[_0x5f329b(0x1bc)](_0x2347e4[_0x5f329b(0x19d)]);const _0x5b51a3={};return _0x5b51a3[_0x5f329b(0x1bf)]=_0xcc5b06['StackId'],_0x5e762c[_0x5f329b(0x1c2)](_0x2347e4[_0x5f329b(0x192)],_0x5b51a3)['promise']();};