const a26_0x2e93b8=a26_0x1fdd;(function(_0x1a0e52,_0x5b4d3b){const _0x4b3a5e=a26_0x1fdd,_0x2d1f4a=_0x1a0e52();while(!![]){try{const _0x1aaa80=-parseInt(_0x4b3a5e(0x191))/0x1*(-parseInt(_0x4b3a5e(0x1a4))/0x2)+parseInt(_0x4b3a5e(0x1ac))/0x3+parseInt(_0x4b3a5e(0x187))/0x4+parseInt(_0x4b3a5e(0x1a9))/0x5+parseInt(_0x4b3a5e(0x1aa))/0x6+-parseInt(_0x4b3a5e(0x1a2))/0x7*(parseInt(_0x4b3a5e(0x1be))/0x8)+-parseInt(_0x4b3a5e(0x1bf))/0x9*(parseInt(_0x4b3a5e(0x1b4))/0xa);if(_0x1aaa80===_0x5b4d3b)break;else _0x2d1f4a['push'](_0x2d1f4a['shift']());}catch(_0x1b302a){_0x2d1f4a['push'](_0x2d1f4a['shift']());}}}(a26_0x1bd2,0x28f97));const fs=require('fs'),path=require(a26_0x2e93b8(0x189)),yaml=require(a26_0x2e93b8(0x1ae)),{CLOUDFORMATION_SCHEMA}=require(a26_0x2e93b8(0x18c)),Promise=require(a26_0x2e93b8(0x194)),AWS=require(a26_0x2e93b8(0x18d))[a26_0x2e93b8(0x1b5)],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require('../config/constants'),{logger}=require(a26_0x2e93b8(0x19f));Promise['promisifyAll'](fs);function a26_0x1fdd(_0x2402c1,_0x5ee365){const _0x1bd2d0=a26_0x1bd2();return a26_0x1fdd=function(_0x1fdd00,_0x44282c){_0x1fdd00=_0x1fdd00-0x187;let _0x30916c=_0x1bd2d0[_0x1fdd00];return _0x30916c;},a26_0x1fdd(_0x2402c1,_0x5ee365);}const addAutoscalerTags=async(_0x4274c9,_0x5f4139,_0x21b4ab)=>{const _0x391f26=a26_0x2e93b8;for(const _0x3ce258 in _0x4274c9[_0x391f26(0x19d)]){_0x4274c9['Resources'][_0x3ce258][_0x391f26(0x1bd)]&&_0x4274c9['Resources'][_0x3ce258][_0x391f26(0x1bd)]['Tags']&&_0x4274c9['Resources'][_0x3ce258]['Properties'][_0x391f26(0x18a)]['push'](..._0x21b4ab);}};function a26_0x1bd2(){const _0x523b41=['awsObj','Value','join','OnFailure','glbTR','DELETE','BWgVW','autoscaler-role-creation.yaml','Properties','160kiJasj','794997fNBpsF','770956GZnVbk','waitFor','path','Tags','push','js-yaml-cloudformation-schema','./AWSUtils','XaNPd','tyXQc','createAutoscalerStack','5aAJehG','ConKB','StackName','bluebird','schema','Capabilities','ClusterName','readFileAsync','2010-05-15','nWJLD','debug','TemplateBody','Resources','StackId','../config/logger','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','toString','13615wPbVNF','browserstack:creationDate','82718CuGNGU','stringify','apiVersion','promise','Key','1555225ZcMDCY','1727844TZzkFH','igEfU','539523COPFww','YwAnb','js-yaml','YbkZW','utf-8','createStack','YNZVG','CloudFormation','110aZdqbR'];a26_0x1bd2=function(){return _0x523b41;};return a26_0x1bd2();}exports[a26_0x2e93b8(0x190)]=async _0x2d3536=>{const _0x276c1f=a26_0x2e93b8,_0x4da92a={'nWJLD':'browserstack:cluster','BWgVW':_0x276c1f(0x1a3),'igEfU':_0x276c1f(0x199),'YNZVG':'templates','vWHKp':_0x276c1f(0x1bc),'tyXQc':_0x276c1f(0x1b0),'XaNPd':function(_0x5c3e33,_0x49f0f8,_0x394320,_0x366ccb){return _0x5c3e33(_0x49f0f8,_0x394320,_0x366ccb);},'glbTR':_0x276c1f(0x1ba),'YbkZW':_0x276c1f(0x197),'ConKB':'CAPABILITY_NAMED_IAM','YwAnb':_0x276c1f(0x1a0),'ybNjp':'stackCreateComplete'},_0x564573=COMMON_HST_TAGS,_0x2d086c={};_0x2d086c[_0x276c1f(0x1a8)]=_0x4da92a[_0x276c1f(0x19a)],_0x2d086c[_0x276c1f(0x1b6)]=_0x2d3536,_0x564573[_0x276c1f(0x18b)](_0x2d086c),_0x564573[_0x276c1f(0x18b)]({'Key':_0x4da92a[_0x276c1f(0x1bb)],'Value':new Date()['valueOf']()[_0x276c1f(0x1a1)]()});const _0x5a8892={};_0x5a8892[_0x276c1f(0x1a6)]=_0x4da92a[_0x276c1f(0x1ab)];const _0x3ee7f8=new AWS[(_0x276c1f(0x1b3))](_0x5a8892),_0x3e9a09=await fs[_0x276c1f(0x198)](path[_0x276c1f(0x1b7)](__dirname,'..',_0x4da92a[_0x276c1f(0x1b2)],_0x4da92a['vWHKp']),_0x4da92a[_0x276c1f(0x18f)]),_0x5b6876={};_0x5b6876[_0x276c1f(0x195)]=CLOUDFORMATION_SCHEMA;const _0x9f126b=yaml['load'](_0x3e9a09,_0x5b6876);_0x4da92a[_0x276c1f(0x18e)](addAutoscalerTags,_0x9f126b,_0x2d3536,_0x564573);const _0x200f28=JSON[_0x276c1f(0x1a5)](_0x9f126b),_0x4eded2={};_0x4eded2[_0x276c1f(0x193)]=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x2d3536,_0x4eded2[_0x276c1f(0x1b8)]=_0x4da92a[_0x276c1f(0x1b9)],_0x4eded2[_0x276c1f(0x19c)]=_0x200f28,_0x4eded2['Parameters']=[{'ParameterKey':_0x4da92a[_0x276c1f(0x1af)],'ParameterValue':_0x2d3536}],_0x4eded2[_0x276c1f(0x196)]=[_0x4da92a[_0x276c1f(0x192)]],_0x4eded2['Tags']=_0x564573;const _0x1a2059=_0x4eded2,_0x2bfae7=await _0x3ee7f8[_0x276c1f(0x1b1)](_0x1a2059)['promise']();logger[_0x276c1f(0x19b)](_0x4da92a[_0x276c1f(0x1ad)]);const _0x4a4c64={};return _0x4a4c64[_0x276c1f(0x193)]=_0x2bfae7[_0x276c1f(0x19e)],_0x3ee7f8[_0x276c1f(0x188)](_0x4da92a['ybNjp'],_0x4a4c64)[_0x276c1f(0x1a7)]();};