const a26_0x512662=a26_0x10bb;(function(_0xdb3065,_0x2d877a){const _0x35dd4c=a26_0x10bb,_0x2fc172=_0xdb3065();while(!![]){try{const _0xaf5b63=parseInt(_0x35dd4c(0x184))/0x1*(-parseInt(_0x35dd4c(0x179))/0x2)+-parseInt(_0x35dd4c(0x198))/0x3*(parseInt(_0x35dd4c(0x16c))/0x4)+parseInt(_0x35dd4c(0x18c))/0x5+-parseInt(_0x35dd4c(0x189))/0x6*(-parseInt(_0x35dd4c(0x173))/0x7)+-parseInt(_0x35dd4c(0x174))/0x8*(-parseInt(_0x35dd4c(0x172))/0x9)+-parseInt(_0x35dd4c(0x18b))/0xa*(parseInt(_0x35dd4c(0x1a0))/0xb)+parseInt(_0x35dd4c(0x18a))/0xc*(-parseInt(_0x35dd4c(0x185))/0xd);if(_0xaf5b63===_0x2d877a)break;else _0x2fc172['push'](_0x2fc172['shift']());}catch(_0x41e1ea){_0x2fc172['push'](_0x2fc172['shift']());}}}(a26_0x8942,0xed454));function a26_0x8942(){const _0x4ccbc8=['6DaCWKx','bluebird','push','Tags','utf-8','../config/logger','awsObj','readFileAsync','792lmEcOx','apiVersion','debug','schema','ClusterName','./AWSUtils','../config/constants','js-yaml-cloudformation-schema','promise','2248828YRkJPr','Resources','StackName','OxTRD','tyRhp','TemplateBody','9gzufCe','105nVJzDE','15117328HqFDRA','ClOHs','BTCHY','browserstack:cluster','load','903496pEVVVt','Properties','CloudFormation','createStack','fXGPC','Value','EajsG','2010-05-15','toString','Key','wRAgz','2fNuMSg','7065695WDVgFe','fTTQD','stringify','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','692880XLJUaK','12auHlyX','261930eudwBk','9036575YeXcoB','Parameters','join','CAPABILITY_NAMED_IAM','oEznN','StackId','qqpnU','templates','valueOf','promisifyAll','stackCreateComplete','OnFailure'];a26_0x8942=function(){return _0x4ccbc8;};return a26_0x8942();}const fs=require('fs'),path=require('path'),yaml=require('js-yaml'),{CLOUDFORMATION_SCHEMA}=require(a26_0x512662(0x16a)),Promise=require(a26_0x512662(0x199)),AWS=require(a26_0x512662(0x168))[a26_0x512662(0x19e)],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require(a26_0x512662(0x169)),{logger}=require(a26_0x512662(0x19d));function a26_0x10bb(_0x928fa8,_0x598ea2){const _0x894277=a26_0x8942();return a26_0x10bb=function(_0x10bb46,_0x44807c){_0x10bb46=_0x10bb46-0x165;let _0x1caa52=_0x894277[_0x10bb46];return _0x1caa52;},a26_0x10bb(_0x928fa8,_0x598ea2);}Promise[a26_0x512662(0x195)](fs);const addAutoscalerTags=async(_0x163d66,_0x506d86,_0x2629d0)=>{const _0x1095f4=a26_0x512662;for(const _0x317da0 in _0x163d66[_0x1095f4(0x16d)]){_0x163d66['Resources'][_0x317da0][_0x1095f4(0x17a)]&&_0x163d66[_0x1095f4(0x16d)][_0x317da0]['Properties'][_0x1095f4(0x19b)]&&_0x163d66[_0x1095f4(0x16d)][_0x317da0][_0x1095f4(0x17a)][_0x1095f4(0x19b)][_0x1095f4(0x19a)](..._0x2629d0);}};exports['createAutoscalerStack']=async _0x34abd7=>{const _0x2926e1=a26_0x512662,_0x3eb98a={'wRAgz':_0x2926e1(0x177),'oEznN':'browserstack:creationDate','vkgze':_0x2926e1(0x180),'BTCHY':_0x2926e1(0x193),'gGkHt':'autoscaler-role-creation.yaml','fXGPC':_0x2926e1(0x19c),'qqpnU':function(_0x3385f3,_0x30c43b,_0x116d98,_0x36e433){return _0x3385f3(_0x30c43b,_0x116d98,_0x36e433);},'OxTRD':'DELETE','fTTQD':_0x2926e1(0x167),'EajsG':_0x2926e1(0x18f),'tyRhp':_0x2926e1(0x188),'ClOHs':_0x2926e1(0x196)},_0x31de66=COMMON_HST_TAGS,_0x2dbbdb={};_0x2dbbdb[_0x2926e1(0x182)]=_0x3eb98a[_0x2926e1(0x183)],_0x2dbbdb[_0x2926e1(0x17e)]=_0x34abd7,_0x31de66[_0x2926e1(0x19a)](_0x2dbbdb),_0x31de66['push']({'Key':_0x3eb98a[_0x2926e1(0x190)],'Value':new Date()[_0x2926e1(0x194)]()[_0x2926e1(0x181)]()});const _0x20a81c={};_0x20a81c[_0x2926e1(0x1a1)]=_0x3eb98a['vkgze'];const _0x473403=new AWS[(_0x2926e1(0x17b))](_0x20a81c),_0x564288=await fs[_0x2926e1(0x19f)](path[_0x2926e1(0x18e)](__dirname,'..',_0x3eb98a[_0x2926e1(0x176)],_0x3eb98a['gGkHt']),_0x3eb98a[_0x2926e1(0x17d)]),_0x5c3516={};_0x5c3516[_0x2926e1(0x166)]=CLOUDFORMATION_SCHEMA;const _0x4acd10=yaml[_0x2926e1(0x178)](_0x564288,_0x5c3516);_0x3eb98a[_0x2926e1(0x192)](addAutoscalerTags,_0x4acd10,_0x34abd7,_0x31de66);const _0x29d01a=JSON[_0x2926e1(0x187)](_0x4acd10),_0x1d0446={};_0x1d0446[_0x2926e1(0x16e)]=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x34abd7,_0x1d0446[_0x2926e1(0x197)]=_0x3eb98a[_0x2926e1(0x16f)],_0x1d0446[_0x2926e1(0x171)]=_0x29d01a,_0x1d0446[_0x2926e1(0x18d)]=[{'ParameterKey':_0x3eb98a[_0x2926e1(0x186)],'ParameterValue':_0x34abd7}],_0x1d0446['Capabilities']=[_0x3eb98a[_0x2926e1(0x17f)]],_0x1d0446[_0x2926e1(0x19b)]=_0x31de66;const _0x4d9fcc=_0x1d0446,_0x1f6ac4=await _0x473403[_0x2926e1(0x17c)](_0x4d9fcc)['promise']();logger[_0x2926e1(0x165)](_0x3eb98a[_0x2926e1(0x170)]);const _0x2af358={};return _0x2af358[_0x2926e1(0x16e)]=_0x1f6ac4[_0x2926e1(0x191)],_0x473403['waitFor'](_0x3eb98a[_0x2926e1(0x175)],_0x2af358)[_0x2926e1(0x16b)]();};