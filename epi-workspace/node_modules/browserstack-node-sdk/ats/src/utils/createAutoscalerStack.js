const a26_0x35fa70=a26_0x1d9f;function a26_0x1d9f(_0x1d0fba,_0xc3228a){const _0x3d4360=a26_0x3d43();return a26_0x1d9f=function(_0x1d9f22,_0x5b1ff3){_0x1d9f22=_0x1d9f22-0x1d7;let _0x44e25c=_0x3d4360[_0x1d9f22];return _0x44e25c;},a26_0x1d9f(_0x1d0fba,_0xc3228a);}(function(_0x563645,_0x3b83f0){const _0x584fda=a26_0x1d9f,_0x4eddba=_0x563645();while(!![]){try{const _0x4e9af8=parseInt(_0x584fda(0x1fb))/0x1+-parseInt(_0x584fda(0x20e))/0x2+-parseInt(_0x584fda(0x20a))/0x3*(-parseInt(_0x584fda(0x1e4))/0x4)+parseInt(_0x584fda(0x1e5))/0x5+-parseInt(_0x584fda(0x1e9))/0x6+-parseInt(_0x584fda(0x1e7))/0x7+-parseInt(_0x584fda(0x1f6))/0x8*(parseInt(_0x584fda(0x1e8))/0x9);if(_0x4e9af8===_0x3b83f0)break;else _0x4eddba['push'](_0x4eddba['shift']());}catch(_0x2845d5){_0x4eddba['push'](_0x4eddba['shift']());}}}(a26_0x3d43,0xc871f));const fs=require('fs'),path=require(a26_0x35fa70(0x206)),yaml=require('js-yaml'),{CLOUDFORMATION_SCHEMA}=require(a26_0x35fa70(0x20c)),Promise=require('bluebird'),AWS=require(a26_0x35fa70(0x1f4))[a26_0x35fa70(0x20b)],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require(a26_0x35fa70(0x204)),{logger}=require('../config/logger');Promise['promisifyAll'](fs);const addAutoscalerTags=async(_0xc7649b,_0x2c7470,_0x2561a3)=>{const _0x428f56=a26_0x35fa70;for(const _0xac8bc3 in _0xc7649b[_0x428f56(0x1ff)]){_0xc7649b['Resources'][_0xac8bc3][_0x428f56(0x1ee)]&&_0xc7649b[_0x428f56(0x1ff)][_0xac8bc3][_0x428f56(0x1ee)][_0x428f56(0x1e6)]&&_0xc7649b[_0x428f56(0x1ff)][_0xac8bc3][_0x428f56(0x1ee)]['Tags'][_0x428f56(0x1dd)](..._0x2561a3);}};exports['createAutoscalerStack']=async _0x5d7f30=>{const _0x101711=a26_0x35fa70,_0x48efa8={'oZQag':_0x101711(0x1dc),'INISt':_0x101711(0x1d7),'LeLbf':_0x101711(0x1d8),'RwBqD':_0x101711(0x1f7),'pQzhJ':_0x101711(0x1e1),'JHZnb':_0x101711(0x20d),'uYTso':function(_0x5adb73,_0x5e7105,_0x2d620c,_0x1084b0){return _0x5adb73(_0x5e7105,_0x2d620c,_0x1084b0);},'EQEbp':_0x101711(0x1f2),'KEwDb':_0x101711(0x1d9),'QUUYG':_0x101711(0x1fd),'blNvS':_0x101711(0x1db),'gNjFM':'stackCreateComplete'},_0x1a08b7=COMMON_HST_TAGS,_0x178380={};_0x178380[_0x101711(0x1f3)]=_0x48efa8[_0x101711(0x1ea)],_0x178380[_0x101711(0x1e2)]=_0x5d7f30,_0x1a08b7[_0x101711(0x1dd)](_0x178380),_0x1a08b7[_0x101711(0x1dd)]({'Key':_0x48efa8[_0x101711(0x1ef)],'Value':new Date()[_0x101711(0x201)]()[_0x101711(0x20f)]()});const _0xd6a0e={};_0xd6a0e[_0x101711(0x1df)]=_0x48efa8[_0x101711(0x202)];const _0x10aa13=new AWS[(_0x101711(0x1eb))](_0xd6a0e),_0x3a76e7=await fs[_0x101711(0x205)](path['join'](__dirname,'..',_0x48efa8[_0x101711(0x1f5)],_0x48efa8[_0x101711(0x1f0)]),_0x48efa8[_0x101711(0x1e0)]),_0x529975={};_0x529975[_0x101711(0x1ed)]=CLOUDFORMATION_SCHEMA;const _0x10f4c2=yaml[_0x101711(0x1da)](_0x3a76e7,_0x529975);_0x48efa8[_0x101711(0x1e3)](addAutoscalerTags,_0x10f4c2,_0x5d7f30,_0x1a08b7);const _0x490f3c=JSON[_0x101711(0x200)](_0x10f4c2),_0x3c1af0={};_0x3c1af0[_0x101711(0x208)]=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x5d7f30,_0x3c1af0[_0x101711(0x1f1)]=_0x48efa8[_0x101711(0x203)],_0x3c1af0[_0x101711(0x1fa)]=_0x490f3c,_0x3c1af0[_0x101711(0x1de)]=[{'ParameterKey':_0x48efa8['KEwDb'],'ParameterValue':_0x5d7f30}],_0x3c1af0[_0x101711(0x1ec)]=[_0x48efa8[_0x101711(0x1f8)]],_0x3c1af0[_0x101711(0x1e6)]=_0x1a08b7;const _0x264379=_0x3c1af0,_0x51c503=await _0x10aa13[_0x101711(0x207)](_0x264379)[_0x101711(0x1f9)]();logger['debug'](_0x48efa8[_0x101711(0x1fe)]);const _0x454399={};return _0x454399[_0x101711(0x208)]=_0x51c503[_0x101711(0x1fc)],_0x10aa13['waitFor'](_0x48efa8[_0x101711(0x209)],_0x454399)['promise']();};function a26_0x3d43(){const _0x219f3d=['promise','TemplateBody','620418KSIRZZ','StackId','CAPABILITY_NAMED_IAM','blNvS','Resources','stringify','valueOf','LeLbf','EQEbp','../config/constants','readFileAsync','path','createStack','StackName','gNjFM','9291bAQNmu','awsObj','js-yaml-cloudformation-schema','utf-8','673650bkSDyk','toString','browserstack:creationDate','2010-05-15','ClusterName','load','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','browserstack:cluster','push','Parameters','apiVersion','JHZnb','autoscaler-role-creation.yaml','Value','uYTso','1708FzUyYa','5873550RhMNHl','Tags','10383506DINfJk','1154160Yufhnn','2088606yXTSdk','oZQag','CloudFormation','Capabilities','schema','Properties','INISt','pQzhJ','OnFailure','DELETE','Key','./AWSUtils','RwBqD','8kzGNdL','templates','QUUYG'];a26_0x3d43=function(){return _0x219f3d;};return a26_0x3d43();}