const a26_0xef3178=a26_0x8fa0;(function(_0x409189,_0x3a86db){const _0x3dd621=a26_0x8fa0,_0x2cdbea=_0x409189();while(!![]){try{const _0x1a213a=parseInt(_0x3dd621(0x167))/0x1*(-parseInt(_0x3dd621(0x148))/0x2)+parseInt(_0x3dd621(0x177))/0x3*(-parseInt(_0x3dd621(0x152))/0x4)+-parseInt(_0x3dd621(0x15b))/0x5+parseInt(_0x3dd621(0x164))/0x6*(parseInt(_0x3dd621(0x15d))/0x7)+parseInt(_0x3dd621(0x14e))/0x8*(parseInt(_0x3dd621(0x158))/0x9)+parseInt(_0x3dd621(0x179))/0xa+-parseInt(_0x3dd621(0x161))/0xb*(parseInt(_0x3dd621(0x14d))/0xc);if(_0x1a213a===_0x3a86db)break;else _0x2cdbea['push'](_0x2cdbea['shift']());}catch(_0x2a5f7e){_0x2cdbea['push'](_0x2cdbea['shift']());}}}(a26_0x471d,0x5d315));function a26_0x8fa0(_0x361359,_0x567b69){const _0x471dc0=a26_0x471d();return a26_0x8fa0=function(_0x8fa042,_0x4e4a4c){_0x8fa042=_0x8fa042-0x147;let _0x130caf=_0x471dc0[_0x8fa042];return _0x130caf;},a26_0x8fa0(_0x361359,_0x567b69);}function a26_0x471d(){const _0x1dd233=['schema','load','udPnK','2676TjGWUJ','rlWar','utf-8','VEhjN','autoscaler-role-creation.yaml','valueOf','575469kIejsw','StackId','CloudFormation','383030KggxSO','path','2093kpyZCB','templates','js-yaml','KLYCh','22nymjXy','browserstack:creationDate','ClusterName','14856GFbaqY','YmlSB','stringify','27CYLUSx','apiVersion','bluebird','Capabilities','Key','Tags','createAutoscalerStack','eAgsV','Parameters','Properties','js-yaml-cloudformation-schema','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','Resources','jJTDl','promise','2010-05-15','2523vcBnRn','readFileAsync','5835450tEihjW','OnFailure','Value','./AWSUtils','push','promisifyAll','TemplateBody','StackName','debug','3194RSMVEg','browserstack:cluster','waitFor','CAPABILITY_NAMED_IAM','PINZv','3860664CPJZCt','48cwzoUd'];a26_0x471d=function(){return _0x1dd233;};return a26_0x471d();}const fs=require('fs'),path=require(a26_0xef3178(0x15c)),yaml=require(a26_0xef3178(0x15f)),{CLOUDFORMATION_SCHEMA}=require(a26_0xef3178(0x171)),Promise=require(a26_0xef3178(0x169)),AWS=require(a26_0xef3178(0x17c))['awsObj'],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require('../config/constants'),{logger}=require('../config/logger');Promise[a26_0xef3178(0x17e)](fs);const addAutoscalerTags=async(_0xcb80d8,_0x3874db,_0x2d0f75)=>{const _0x5e2d03=a26_0xef3178;for(const _0x3615bd in _0xcb80d8[_0x5e2d03(0x173)]){_0xcb80d8['Resources'][_0x3615bd][_0x5e2d03(0x170)]&&_0xcb80d8[_0x5e2d03(0x173)][_0x3615bd][_0x5e2d03(0x170)][_0x5e2d03(0x16c)]&&_0xcb80d8['Resources'][_0x3615bd][_0x5e2d03(0x170)][_0x5e2d03(0x16c)][_0x5e2d03(0x17d)](..._0x2d0f75);}};exports[a26_0xef3178(0x16d)]=async _0xd0766=>{const _0x11c703=a26_0xef3178,_0x29d873={'emsgF':_0x11c703(0x149),'YmlSB':_0x11c703(0x162),'jJTDl':_0x11c703(0x176),'eAgsV':_0x11c703(0x15e),'PINZv':_0x11c703(0x156),'Fhnqq':_0x11c703(0x154),'YMnoh':function(_0x14a68,_0x2e5cde,_0x172b4c,_0x248785){return _0x14a68(_0x2e5cde,_0x172b4c,_0x248785);},'KLYCh':'DELETE','VEhjN':_0x11c703(0x163),'VwIpy':_0x11c703(0x14b),'rlWar':_0x11c703(0x172),'udPnK':'stackCreateComplete'},_0x3427da=COMMON_HST_TAGS,_0x456a08={};_0x456a08[_0x11c703(0x16b)]=_0x29d873['emsgF'],_0x456a08[_0x11c703(0x17b)]=_0xd0766,_0x3427da[_0x11c703(0x17d)](_0x456a08),_0x3427da[_0x11c703(0x17d)]({'Key':_0x29d873[_0x11c703(0x165)],'Value':new Date()[_0x11c703(0x157)]()['toString']()});const _0x1b6d23={};_0x1b6d23[_0x11c703(0x168)]=_0x29d873[_0x11c703(0x174)];const _0x303633=new AWS[(_0x11c703(0x15a))](_0x1b6d23),_0x4d65f0=await fs[_0x11c703(0x178)](path['join'](__dirname,'..',_0x29d873[_0x11c703(0x16e)],_0x29d873[_0x11c703(0x14c)]),_0x29d873['Fhnqq']),_0x14d2aa={};_0x14d2aa[_0x11c703(0x14f)]=CLOUDFORMATION_SCHEMA;const _0x6d7184=yaml[_0x11c703(0x150)](_0x4d65f0,_0x14d2aa);_0x29d873['YMnoh'](addAutoscalerTags,_0x6d7184,_0xd0766,_0x3427da);const _0x44161a=JSON[_0x11c703(0x166)](_0x6d7184),_0x2b7b2a={};_0x2b7b2a[_0x11c703(0x180)]=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0xd0766,_0x2b7b2a[_0x11c703(0x17a)]=_0x29d873[_0x11c703(0x160)],_0x2b7b2a[_0x11c703(0x17f)]=_0x44161a,_0x2b7b2a[_0x11c703(0x16f)]=[{'ParameterKey':_0x29d873[_0x11c703(0x155)],'ParameterValue':_0xd0766}],_0x2b7b2a[_0x11c703(0x16a)]=[_0x29d873['VwIpy']],_0x2b7b2a[_0x11c703(0x16c)]=_0x3427da;const _0x133198=_0x2b7b2a,_0xdbfd6=await _0x303633['createStack'](_0x133198)[_0x11c703(0x175)]();logger[_0x11c703(0x147)](_0x29d873[_0x11c703(0x153)]);const _0x4ea332={};return _0x4ea332['StackName']=_0xdbfd6[_0x11c703(0x159)],_0x303633[_0x11c703(0x14a)](_0x29d873[_0x11c703(0x151)],_0x4ea332)[_0x11c703(0x175)]();};