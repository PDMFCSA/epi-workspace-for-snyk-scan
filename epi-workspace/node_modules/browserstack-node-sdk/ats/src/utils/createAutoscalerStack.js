const a26_0x20c619=a26_0x2413;(function(_0x5e97a5,_0x3cbe4a){const _0x4258dd=a26_0x2413,_0x5c99b2=_0x5e97a5();while(!![]){try{const _0x53fd11=parseInt(_0x4258dd(0xcb))/0x1+parseInt(_0x4258dd(0xd7))/0x2+parseInt(_0x4258dd(0xd3))/0x3+parseInt(_0x4258dd(0xd5))/0x4*(parseInt(_0x4258dd(0xc3))/0x5)+-parseInt(_0x4258dd(0xef))/0x6*(-parseInt(_0x4258dd(0xea))/0x7)+parseInt(_0x4258dd(0xe0))/0x8*(parseInt(_0x4258dd(0xdf))/0x9)+parseInt(_0x4258dd(0xe7))/0xa*(-parseInt(_0x4258dd(0xde))/0xb);if(_0x53fd11===_0x3cbe4a)break;else _0x5c99b2['push'](_0x5c99b2['shift']());}catch(_0x3e5ca0){_0x5c99b2['push'](_0x5c99b2['shift']());}}}(a26_0x5540,0x19098));const fs=require('fs'),path=require('path'),yaml=require(a26_0x20c619(0xd8)),{CLOUDFORMATION_SCHEMA}=require('js-yaml-cloudformation-schema'),Promise=require(a26_0x20c619(0xe4)),AWS=require(a26_0x20c619(0xe2))[a26_0x20c619(0xd1)],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require(a26_0x20c619(0xc8)),{logger}=require(a26_0x20c619(0xd4));function a26_0x5540(){const _0x3ec699=['2010-05-15','push','OmmGn','Properties','740xNDxIT','schema','readFileAsync','createAutoscalerStack','browserstack:creationDate','../config/constants','CloudFormation','MRjKH','75401jMUFdF','promisifyAll','Key','ybeem','jHLiA','TemplateBody','awsObj','autoscaler-role-creation.yaml','27060IrlcbG','../config/logger','2608ORfOcS','DELETE','128176EBaCMC','js-yaml','IMQtR','join','StackName','apiVersion','toString','33COezkq','419157nCzfFV','16eHaVGM','qUwJr','./AWSUtils','Resources','bluebird','stackCreateComplete','HgEdF','1110340FEbOKZ','debug','Parameters','32501NInKZY','qjlEl','LmmEY','Tags','browserstack:cluster','126lQbaMy','valueOf','CAPABILITY_NAMED_IAM','promise','ClusterName','load','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','templates','StackId'];a26_0x5540=function(){return _0x3ec699;};return a26_0x5540();}Promise[a26_0x20c619(0xcc)](fs);function a26_0x2413(_0x466ced,_0x30e37b){const _0x5540b5=a26_0x5540();return a26_0x2413=function(_0x2413bb,_0x18e0d8){_0x2413bb=_0x2413bb-0xbf;let _0x4225b4=_0x5540b5[_0x2413bb];return _0x4225b4;},a26_0x2413(_0x466ced,_0x30e37b);}const addAutoscalerTags=async(_0x6f90ca,_0x31e448,_0x3a026e)=>{const _0x3a47d2=a26_0x20c619;for(const _0x3a40e6 in _0x6f90ca[_0x3a47d2(0xe3)]){_0x6f90ca[_0x3a47d2(0xe3)][_0x3a40e6][_0x3a47d2(0xc2)]&&_0x6f90ca['Resources'][_0x3a40e6][_0x3a47d2(0xc2)][_0x3a47d2(0xed)]&&_0x6f90ca[_0x3a47d2(0xe3)][_0x3a40e6][_0x3a47d2(0xc2)][_0x3a47d2(0xed)]['push'](..._0x3a026e);}};exports[a26_0x20c619(0xc6)]=async _0x4205de=>{const _0x14ff52=a26_0x20c619,_0xc88391={'ybeem':_0x14ff52(0xee),'LmmEY':_0x14ff52(0xc7),'PYOGZ':_0x14ff52(0xbf),'qUwJr':_0x14ff52(0xf6),'jHLiA':_0x14ff52(0xd2),'IMQtR':'utf-8','MRjKH':function(_0x58c22d,_0x3cd8f2,_0x37f3df,_0x7e0b5b){return _0x58c22d(_0x3cd8f2,_0x37f3df,_0x7e0b5b);},'AUPMO':_0x14ff52(0xd6),'qjlEl':_0x14ff52(0xf3),'QELQP':_0x14ff52(0xf1),'OmmGn':_0x14ff52(0xf5),'HgEdF':_0x14ff52(0xe5)},_0x28d94c=COMMON_HST_TAGS,_0x5903d3={};_0x5903d3[_0x14ff52(0xcd)]=_0xc88391[_0x14ff52(0xce)],_0x5903d3['Value']=_0x4205de,_0x28d94c[_0x14ff52(0xc0)](_0x5903d3),_0x28d94c[_0x14ff52(0xc0)]({'Key':_0xc88391[_0x14ff52(0xec)],'Value':new Date()[_0x14ff52(0xf0)]()[_0x14ff52(0xdd)]()});const _0xf7107c={};_0xf7107c[_0x14ff52(0xdc)]=_0xc88391['PYOGZ'];const _0x2122a7=new AWS[(_0x14ff52(0xc9))](_0xf7107c),_0x2478ea=await fs[_0x14ff52(0xc5)](path[_0x14ff52(0xda)](__dirname,'..',_0xc88391[_0x14ff52(0xe1)],_0xc88391[_0x14ff52(0xcf)]),_0xc88391[_0x14ff52(0xd9)]),_0x324f92={};_0x324f92[_0x14ff52(0xc4)]=CLOUDFORMATION_SCHEMA;const _0x55127e=yaml[_0x14ff52(0xf4)](_0x2478ea,_0x324f92);_0xc88391[_0x14ff52(0xca)](addAutoscalerTags,_0x55127e,_0x4205de,_0x28d94c);const _0x1b450d=JSON['stringify'](_0x55127e),_0x4b5dc2={};_0x4b5dc2[_0x14ff52(0xdb)]=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x4205de,_0x4b5dc2['OnFailure']=_0xc88391['AUPMO'],_0x4b5dc2[_0x14ff52(0xd0)]=_0x1b450d,_0x4b5dc2[_0x14ff52(0xe9)]=[{'ParameterKey':_0xc88391[_0x14ff52(0xeb)],'ParameterValue':_0x4205de}],_0x4b5dc2['Capabilities']=[_0xc88391['QELQP']],_0x4b5dc2[_0x14ff52(0xed)]=_0x28d94c;const _0x372f36=_0x4b5dc2,_0x42f2a3=await _0x2122a7['createStack'](_0x372f36)[_0x14ff52(0xf2)]();logger[_0x14ff52(0xe8)](_0xc88391[_0x14ff52(0xc1)]);const _0x130831={};return _0x130831[_0x14ff52(0xdb)]=_0x42f2a3[_0x14ff52(0xf7)],_0x2122a7['waitFor'](_0xc88391[_0x14ff52(0xe6)],_0x130831)['promise']();};