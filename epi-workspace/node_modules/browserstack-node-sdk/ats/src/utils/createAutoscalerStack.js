const a26_0x5a4a7d=a26_0x2ff1;function a26_0x3d4d(){const _0x44c729=['35YiRICG','CAPABILITY_NAMED_IAM','sAPYx','utf-8','templates','DELETE','js-yaml-cloudformation-schema','promise','56752sNOcKn','StackName','Key','JDIHr','autoscaler-role-creation.yaml','path','xvFXX','Tags','Value','Resources','valueOf','460GLJxxm','apiVersion','Parameters','TemplateBody','readFileAsync','push','../config/constants','toString','browserstack:cluster','1203DKNWug','1592690gLBles','15040390PXdqty','oJFwx','7970292nnaDCu','Capabilities','debug','OnFailure','EQRJP','../config/logger','stackCreateComplete','bluebird','sAhPs','2800fKZdSg','load','join','NtVij','createAutoscalerStack','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','OzDRB','11ZIyuKY','CloudFormation','StackId','8358rEfUUl','awsObj','browserstack:creationDate','777408qQqPsi','js-yaml','Properties'];a26_0x3d4d=function(){return _0x44c729;};return a26_0x3d4d();}(function(_0x300355,_0x1a07f1){const _0x295925=a26_0x2ff1,_0x54b45d=_0x300355();while(!![]){try{const _0x5263cf=parseInt(_0x295925(0x1b0))/0x1+-parseInt(_0x295925(0x1c5))/0x2+parseInt(_0x295925(0x1c4))/0x3*(parseInt(_0x295925(0x1d1))/0x4)+-parseInt(_0x295925(0x1bb))/0x5*(parseInt(_0x295925(0x1db))/0x6)+parseInt(_0x295925(0x1e1))/0x7*(parseInt(_0x295925(0x1de))/0x8)+-parseInt(_0x295925(0x1c8))/0x9+-parseInt(_0x295925(0x1c6))/0xa*(-parseInt(_0x295925(0x1d8))/0xb);if(_0x5263cf===_0x1a07f1)break;else _0x54b45d['push'](_0x54b45d['shift']());}catch(_0x48ef94){_0x54b45d['push'](_0x54b45d['shift']());}}}(a26_0x3d4d,0x7e4a2));function a26_0x2ff1(_0x190a2c,_0x1c956b){const _0x3d4def=a26_0x3d4d();return a26_0x2ff1=function(_0x2ff16f,_0x10d33a){_0x2ff16f=_0x2ff16f-0x1af;let _0x58e6da=_0x3d4def[_0x2ff16f];return _0x58e6da;},a26_0x2ff1(_0x190a2c,_0x1c956b);}const fs=require('fs'),path=require(a26_0x5a4a7d(0x1b5)),yaml=require(a26_0x5a4a7d(0x1df)),{CLOUDFORMATION_SCHEMA}=require(a26_0x5a4a7d(0x1e7)),Promise=require(a26_0x5a4a7d(0x1cf)),AWS=require('./AWSUtils')[a26_0x5a4a7d(0x1dc)],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require(a26_0x5a4a7d(0x1c1)),{logger}=require(a26_0x5a4a7d(0x1cd));Promise['promisifyAll'](fs);const addAutoscalerTags=async(_0x4ea92e,_0x4e31ad,_0xe015a1)=>{const _0x30600c=a26_0x5a4a7d;for(const _0x23a65a in _0x4ea92e[_0x30600c(0x1b9)]){_0x4ea92e['Resources'][_0x23a65a][_0x30600c(0x1e0)]&&_0x4ea92e[_0x30600c(0x1b9)][_0x23a65a][_0x30600c(0x1e0)][_0x30600c(0x1b7)]&&_0x4ea92e[_0x30600c(0x1b9)][_0x23a65a]['Properties']['Tags'][_0x30600c(0x1c0)](..._0xe015a1);}};exports[a26_0x5a4a7d(0x1d5)]=async _0x5e12f1=>{const _0xb60943=a26_0x5a4a7d,_0x3f5179={'sAhPs':_0xb60943(0x1c3),'oJFwx':_0xb60943(0x1dd),'jlyWX':'2010-05-15','EQRJP':_0xb60943(0x1e5),'xvFXX':_0xb60943(0x1b4),'OzDRB':_0xb60943(0x1e4),'HGQlo':function(_0x29384f,_0x9e6314,_0xac74df,_0x44d580){return _0x29384f(_0x9e6314,_0xac74df,_0x44d580);},'fXQLG':_0xb60943(0x1e6),'JDIHr':'ClusterName','OPUGY':_0xb60943(0x1e2),'sAPYx':_0xb60943(0x1d6),'NtVij':_0xb60943(0x1ce)},_0xd4f064=COMMON_HST_TAGS,_0x379665={};_0x379665[_0xb60943(0x1b2)]=_0x3f5179[_0xb60943(0x1d0)],_0x379665[_0xb60943(0x1b8)]=_0x5e12f1,_0xd4f064[_0xb60943(0x1c0)](_0x379665),_0xd4f064[_0xb60943(0x1c0)]({'Key':_0x3f5179[_0xb60943(0x1c7)],'Value':new Date()[_0xb60943(0x1ba)]()[_0xb60943(0x1c2)]()});const _0x2704e2={};_0x2704e2[_0xb60943(0x1bc)]=_0x3f5179['jlyWX'];const _0x1a29f3=new AWS[(_0xb60943(0x1d9))](_0x2704e2),_0x3026f=await fs[_0xb60943(0x1bf)](path[_0xb60943(0x1d3)](__dirname,'..',_0x3f5179[_0xb60943(0x1cc)],_0x3f5179[_0xb60943(0x1b6)]),_0x3f5179[_0xb60943(0x1d7)]),_0x352b5e={};_0x352b5e['schema']=CLOUDFORMATION_SCHEMA;const _0x20812c=yaml[_0xb60943(0x1d2)](_0x3026f,_0x352b5e);_0x3f5179['HGQlo'](addAutoscalerTags,_0x20812c,_0x5e12f1,_0xd4f064);const _0x5d0f39=JSON['stringify'](_0x20812c),_0x43e532={};_0x43e532[_0xb60943(0x1b1)]=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x5e12f1,_0x43e532[_0xb60943(0x1cb)]=_0x3f5179['fXQLG'],_0x43e532[_0xb60943(0x1be)]=_0x5d0f39,_0x43e532[_0xb60943(0x1bd)]=[{'ParameterKey':_0x3f5179[_0xb60943(0x1b3)],'ParameterValue':_0x5e12f1}],_0x43e532[_0xb60943(0x1c9)]=[_0x3f5179['OPUGY']],_0x43e532['Tags']=_0xd4f064;const _0x50a7ee=_0x43e532,_0x1f9629=await _0x1a29f3['createStack'](_0x50a7ee)[_0xb60943(0x1af)]();logger[_0xb60943(0x1ca)](_0x3f5179[_0xb60943(0x1e3)]);const _0xc455d7={};return _0xc455d7[_0xb60943(0x1b1)]=_0x1f9629[_0xb60943(0x1da)],_0x1a29f3['waitFor'](_0x3f5179[_0xb60943(0x1d4)],_0xc455d7)['promise']();};