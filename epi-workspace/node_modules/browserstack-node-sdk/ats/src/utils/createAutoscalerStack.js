const a26_0x443598=a26_0x12cf;function a26_0x3526(){const _0x36bedf=['1314580WKaEzb','ClusterName','../config/logger','createAutoscalerStack','js-yaml-cloudformation-schema','hiNDf','SUnyQ','CloudFormation','SAjxG','GbkZS','CAPABILITY_NAMED_IAM','StackId','Properties','4683954MNWcGQ','StackName','TemplateBody','utf-8','JaePX','bluebird','10627317aSawpw','WtuoA','debug','browserstack:cluster','templates','promise','2284EmXTIU','autoscaler-role-creation.yaml','valueOf','RzkNP','schema','stackCreateComplete','6SjVLRw','Tags','1041704DIsQAR','OnFailure','Resources','Parameters','DELETE','JAstk','Gcbmz','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','awsObj','6441784hJoILj','push','createStack','stringify','path','LozOB','js-yaml','join','5348035IoDRRJ','2875dZsYiH','load'];a26_0x3526=function(){return _0x36bedf;};return a26_0x3526();}function a26_0x12cf(_0x19da6f,_0x3f9f81){const _0x35269a=a26_0x3526();return a26_0x12cf=function(_0x12cf5d,_0x3af5b3){_0x12cf5d=_0x12cf5d-0x1c2;let _0x1b1b31=_0x35269a[_0x12cf5d];return _0x1b1b31;},a26_0x12cf(_0x19da6f,_0x3f9f81);}(function(_0x3e7984,_0x28de27){const _0x57d4ef=a26_0x12cf,_0x128d08=_0x3e7984();while(!![]){try{const _0x4090de=parseInt(_0x57d4ef(0x1e1))/0x1+-parseInt(_0x57d4ef(0x1cd))/0x2+parseInt(_0x57d4ef(0x1ee))/0x3+-parseInt(_0x57d4ef(0x1c5))/0x4*(parseInt(_0x57d4ef(0x1df))/0x5)+parseInt(_0x57d4ef(0x1cb))/0x6*(-parseInt(_0x57d4ef(0x1de))/0x7)+parseInt(_0x57d4ef(0x1d6))/0x8+-parseInt(_0x57d4ef(0x1f4))/0x9;if(_0x4090de===_0x28de27)break;else _0x128d08['push'](_0x128d08['shift']());}catch(_0x375c26){_0x128d08['push'](_0x128d08['shift']());}}}(a26_0x3526,0xd8956));const fs=require('fs'),path=require(a26_0x443598(0x1da)),yaml=require(a26_0x443598(0x1dc)),{CLOUDFORMATION_SCHEMA}=require(a26_0x443598(0x1e5)),Promise=require(a26_0x443598(0x1f3)),AWS=require('./AWSUtils')[a26_0x443598(0x1d5)],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require('../config/constants'),{logger}=require(a26_0x443598(0x1e3));Promise['promisifyAll'](fs);const addAutoscalerTags=async(_0x54eaa8,_0x3adfac,_0xa0b019)=>{const _0xd7e926=a26_0x443598;for(const _0x27ee2e in _0x54eaa8['Resources']){_0x54eaa8[_0xd7e926(0x1cf)][_0x27ee2e][_0xd7e926(0x1ed)]&&_0x54eaa8[_0xd7e926(0x1cf)][_0x27ee2e][_0xd7e926(0x1ed)][_0xd7e926(0x1cc)]&&_0x54eaa8['Resources'][_0x27ee2e]['Properties'][_0xd7e926(0x1cc)][_0xd7e926(0x1d7)](..._0xa0b019);}};exports[a26_0x443598(0x1e4)]=async _0x3a5541=>{const _0xc23e1b=a26_0x443598,_0x4802c3={'LozOB':_0xc23e1b(0x1c2),'JAstk':'browserstack:creationDate','qMgxW':'2010-05-15','SUnyQ':_0xc23e1b(0x1c3),'bdKqL':_0xc23e1b(0x1c6),'Gcbmz':_0xc23e1b(0x1f1),'hiNDf':function(_0xa1bc82,_0x37e1f5,_0x22f73f,_0x346d0d){return _0xa1bc82(_0x37e1f5,_0x22f73f,_0x346d0d);},'WtuoA':_0xc23e1b(0x1d1),'SAjxG':_0xc23e1b(0x1e2),'GbkZS':_0xc23e1b(0x1eb),'RzkNP':_0xc23e1b(0x1d4),'JaePX':_0xc23e1b(0x1ca)},_0x1028df=COMMON_HST_TAGS,_0x68b844={};_0x68b844['Key']=_0x4802c3[_0xc23e1b(0x1db)],_0x68b844['Value']=_0x3a5541,_0x1028df[_0xc23e1b(0x1d7)](_0x68b844),_0x1028df[_0xc23e1b(0x1d7)]({'Key':_0x4802c3[_0xc23e1b(0x1d2)],'Value':new Date()[_0xc23e1b(0x1c7)]()['toString']()});const _0x1c3ae1={};_0x1c3ae1['apiVersion']=_0x4802c3['qMgxW'];const _0x341977=new AWS[(_0xc23e1b(0x1e8))](_0x1c3ae1),_0x32f5f6=await fs['readFileAsync'](path[_0xc23e1b(0x1dd)](__dirname,'..',_0x4802c3[_0xc23e1b(0x1e7)],_0x4802c3['bdKqL']),_0x4802c3[_0xc23e1b(0x1d3)]),_0x24b4db={};_0x24b4db[_0xc23e1b(0x1c9)]=CLOUDFORMATION_SCHEMA;const _0x21c99a=yaml[_0xc23e1b(0x1e0)](_0x32f5f6,_0x24b4db);_0x4802c3[_0xc23e1b(0x1e6)](addAutoscalerTags,_0x21c99a,_0x3a5541,_0x1028df);const _0x4c51c1=JSON[_0xc23e1b(0x1d9)](_0x21c99a),_0x1a7f37={};_0x1a7f37[_0xc23e1b(0x1ef)]=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x3a5541,_0x1a7f37[_0xc23e1b(0x1ce)]=_0x4802c3[_0xc23e1b(0x1f5)],_0x1a7f37[_0xc23e1b(0x1f0)]=_0x4c51c1,_0x1a7f37[_0xc23e1b(0x1d0)]=[{'ParameterKey':_0x4802c3[_0xc23e1b(0x1e9)],'ParameterValue':_0x3a5541}],_0x1a7f37['Capabilities']=[_0x4802c3[_0xc23e1b(0x1ea)]],_0x1a7f37[_0xc23e1b(0x1cc)]=_0x1028df;const _0x28d740=_0x1a7f37,_0x340cc7=await _0x341977[_0xc23e1b(0x1d8)](_0x28d740)[_0xc23e1b(0x1c4)]();logger[_0xc23e1b(0x1f6)](_0x4802c3[_0xc23e1b(0x1c8)]);const _0xf07a38={};return _0xf07a38['StackName']=_0x340cc7[_0xc23e1b(0x1ec)],_0x341977['waitFor'](_0x4802c3[_0xc23e1b(0x1f2)],_0xf07a38)[_0xc23e1b(0x1c4)]();};