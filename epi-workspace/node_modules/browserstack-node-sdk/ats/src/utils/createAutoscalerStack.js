const a26_0x3a6708=a26_0x5590;(function(_0x41d719,_0x54f5d7){const _0x2afd1f=a26_0x5590,_0x36f44f=_0x41d719();while(!![]){try{const _0x5d68f3=-parseInt(_0x2afd1f(0x18c))/0x1+parseInt(_0x2afd1f(0x1a2))/0x2*(parseInt(_0x2afd1f(0x192))/0x3)+-parseInt(_0x2afd1f(0x19a))/0x4*(parseInt(_0x2afd1f(0x1a6))/0x5)+-parseInt(_0x2afd1f(0x19c))/0x6*(-parseInt(_0x2afd1f(0x1af))/0x7)+parseInt(_0x2afd1f(0x1a1))/0x8+-parseInt(_0x2afd1f(0x195))/0x9*(-parseInt(_0x2afd1f(0x1bc))/0xa)+-parseInt(_0x2afd1f(0x191))/0xb*(parseInt(_0x2afd1f(0x1b9))/0xc);if(_0x5d68f3===_0x54f5d7)break;else _0x36f44f['push'](_0x36f44f['shift']());}catch(_0x23af49){_0x36f44f['push'](_0x36f44f['shift']());}}}(a26_0x31e3,0x223ba));const fs=require('fs'),path=require(a26_0x3a6708(0x193)),yaml=require(a26_0x3a6708(0x198)),{CLOUDFORMATION_SCHEMA}=require(a26_0x3a6708(0x19f)),Promise=require(a26_0x3a6708(0x1b2)),AWS=require(a26_0x3a6708(0x1c3))[a26_0x3a6708(0x1bf)],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require('../config/constants'),{logger}=require(a26_0x3a6708(0x1ab));Promise[a26_0x3a6708(0x1a5)](fs);function a26_0x31e3(){const _0xb1ba8c=['5lzRQQp','templates','debug','WTjgF','xEHOn','../config/logger','readFileAsync','Resources','GUHjb','1161223uAFybi','SmBQu','StackName','bluebird','createStack','Capabilities','EGylo','Key','CLgOd','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','588QAuDca','DELETE','tjtAP','1885930SLqQGB','2010-05-15','CloudFormation','awsObj','xoOqR','Value','eqrDu','./AWSUtils','212120OJoRhv','browserstack:cluster','CAPABILITY_NAMED_IAM','qBxIw','browserstack:creationDate','86834KJNHMN','3VSrRDv','path','promise','9QPlZQN','Properties','OnFailure','js-yaml','Tags','266384FNmxeB','StackId','6DQpEyz','waitFor','push','js-yaml-cloudformation-schema','join','2013624RZfdKr','399110ZSHCGP','Eaepp','TemplateBody','promisifyAll'];a26_0x31e3=function(){return _0xb1ba8c;};return a26_0x31e3();}function a26_0x5590(_0x52e8cb,_0x599ebf){const _0x31e3e3=a26_0x31e3();return a26_0x5590=function(_0x5590aa,_0x51f28a){_0x5590aa=_0x5590aa-0x18c;let _0x169215=_0x31e3e3[_0x5590aa];return _0x169215;},a26_0x5590(_0x52e8cb,_0x599ebf);}const addAutoscalerTags=async(_0x475939,_0x156c5e,_0x3e9eb5)=>{const _0x45496d=a26_0x3a6708;for(const _0x3d6595 in _0x475939['Resources']){_0x475939[_0x45496d(0x1ad)][_0x3d6595][_0x45496d(0x196)]&&_0x475939['Resources'][_0x3d6595][_0x45496d(0x196)][_0x45496d(0x199)]&&_0x475939[_0x45496d(0x1ad)][_0x3d6595][_0x45496d(0x196)][_0x45496d(0x199)][_0x45496d(0x19e)](..._0x3e9eb5);}};exports['createAutoscalerStack']=async _0x45bfe8=>{const _0x49c274=a26_0x3a6708,_0x1f81aa={'GUHjb':_0x49c274(0x18d),'CLgOd':_0x49c274(0x190),'xEHOn':_0x49c274(0x1bd),'qBxIw':_0x49c274(0x1a7),'Eaepp':'autoscaler-role-creation.yaml','EGylo':'utf-8','SmBQu':function(_0x29f498,_0x6fe48c,_0x43398e,_0xf0d590){return _0x29f498(_0x6fe48c,_0x43398e,_0xf0d590);},'vyTOI':_0x49c274(0x1ba),'WTjgF':'ClusterName','tjtAP':_0x49c274(0x18e),'xoOqR':_0x49c274(0x1b8),'eqrDu':'stackCreateComplete'},_0x4ebb79=COMMON_HST_TAGS,_0x4a3117={};_0x4a3117[_0x49c274(0x1b6)]=_0x1f81aa[_0x49c274(0x1ae)],_0x4a3117[_0x49c274(0x1c1)]=_0x45bfe8,_0x4ebb79[_0x49c274(0x19e)](_0x4a3117),_0x4ebb79[_0x49c274(0x19e)]({'Key':_0x1f81aa[_0x49c274(0x1b7)],'Value':new Date()['valueOf']()['toString']()});const _0x1fa293={};_0x1fa293['apiVersion']=_0x1f81aa[_0x49c274(0x1aa)];const _0x26ce56=new AWS[(_0x49c274(0x1be))](_0x1fa293),_0x425ef9=await fs[_0x49c274(0x1ac)](path[_0x49c274(0x1a0)](__dirname,'..',_0x1f81aa[_0x49c274(0x18f)],_0x1f81aa[_0x49c274(0x1a3)]),_0x1f81aa[_0x49c274(0x1b5)]),_0xd5d8a8={};_0xd5d8a8['schema']=CLOUDFORMATION_SCHEMA;const _0x3b2be7=yaml['load'](_0x425ef9,_0xd5d8a8);_0x1f81aa[_0x49c274(0x1b0)](addAutoscalerTags,_0x3b2be7,_0x45bfe8,_0x4ebb79);const _0x3395fc=JSON['stringify'](_0x3b2be7),_0x105c02={};_0x105c02[_0x49c274(0x1b1)]=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x45bfe8,_0x105c02[_0x49c274(0x197)]=_0x1f81aa['vyTOI'],_0x105c02[_0x49c274(0x1a4)]=_0x3395fc,_0x105c02['Parameters']=[{'ParameterKey':_0x1f81aa[_0x49c274(0x1a9)],'ParameterValue':_0x45bfe8}],_0x105c02[_0x49c274(0x1b4)]=[_0x1f81aa[_0x49c274(0x1bb)]],_0x105c02[_0x49c274(0x199)]=_0x4ebb79;const _0xed8674=_0x105c02,_0x40cadc=await _0x26ce56[_0x49c274(0x1b3)](_0xed8674)[_0x49c274(0x194)]();logger[_0x49c274(0x1a8)](_0x1f81aa[_0x49c274(0x1c0)]);const _0x229bec={};return _0x229bec[_0x49c274(0x1b1)]=_0x40cadc[_0x49c274(0x19b)],_0x26ce56[_0x49c274(0x19d)](_0x1f81aa[_0x49c274(0x1c2)],_0x229bec)[_0x49c274(0x194)]();};