const a26_0x43a468=a26_0xcca8;function a26_0xcca8(_0x346c74,_0x398db2){const _0x34946a=a26_0x3494();return a26_0xcca8=function(_0xcca81b,_0x4f44fc){_0xcca81b=_0xcca81b-0x1eb;let _0x53f5f7=_0x34946a[_0xcca81b];return _0x53f5f7;},a26_0xcca8(_0x346c74,_0x398db2);}(function(_0xc7b17,_0x134973){const _0x4a1d43=a26_0xcca8,_0x5a6daa=_0xc7b17();while(!![]){try{const _0x12c8e2=-parseInt(_0x4a1d43(0x223))/0x1+-parseInt(_0x4a1d43(0x202))/0x2*(parseInt(_0x4a1d43(0x210))/0x3)+parseInt(_0x4a1d43(0x227))/0x4*(parseInt(_0x4a1d43(0x212))/0x5)+-parseInt(_0x4a1d43(0x1fe))/0x6+-parseInt(_0x4a1d43(0x1f1))/0x7*(-parseInt(_0x4a1d43(0x1ee))/0x8)+parseInt(_0x4a1d43(0x201))/0x9+-parseInt(_0x4a1d43(0x206))/0xa;if(_0x12c8e2===_0x134973)break;else _0x5a6daa['push'](_0x5a6daa['shift']());}catch(_0x6c1caa){_0x5a6daa['push'](_0x5a6daa['shift']());}}}(a26_0x3494,0xa8cf6));const fs=require('fs'),path=require(a26_0x43a468(0x1f2)),yaml=require(a26_0x43a468(0x217)),{CLOUDFORMATION_SCHEMA}=require(a26_0x43a468(0x221)),Promise=require('bluebird'),AWS=require(a26_0x43a468(0x21b))[a26_0x43a468(0x1f5)],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require('../config/constants'),{logger}=require(a26_0x43a468(0x209));function a26_0x3494(){const _0x51ff73=['browserstack:creationDate','OnFailure','54492EnRFYV','StackId','35MchBNG','utf-8','IdgJg','iFiic','stringify','js-yaml','schema','valueOf','DELETE','./AWSUtils','createStack','apiVersion','CloudFormation','browserstack:cluster','Value','js-yaml-cloudformation-schema','createAutoscalerStack','246380yOBfaL','Parameters','ClusterName','stackCreateComplete','599556DnlctM','promise','cwESU','join','1128FXuWxd','templates','2010-05-15','47530uzbCts','path','StackName','LzPTc','awsObj','push','ptSAk','Properties','Resources','toString','Key','HRpqd','CAPABILITY_NAMED_IAM','2666256BtYvWq','Tags','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','10592190pjsbMx','76TGHnAS','readFileAsync','autoscaler-role-creation.yaml','SlLVj','11110890JNSBVm','JtHrY','JwpSa','../config/logger','Capabilities','debug','pmqhd','pMSYC'];a26_0x3494=function(){return _0x51ff73;};return a26_0x3494();}Promise['promisifyAll'](fs);const addAutoscalerTags=async(_0x2cd7fa,_0x21f52a,_0x52ae08)=>{const _0x83f9c2=a26_0x43a468;for(const _0x47339a in _0x2cd7fa[_0x83f9c2(0x1f9)]){_0x2cd7fa[_0x83f9c2(0x1f9)][_0x47339a][_0x83f9c2(0x1f8)]&&_0x2cd7fa[_0x83f9c2(0x1f9)][_0x47339a][_0x83f9c2(0x1f8)][_0x83f9c2(0x1ff)]&&_0x2cd7fa[_0x83f9c2(0x1f9)][_0x47339a][_0x83f9c2(0x1f8)][_0x83f9c2(0x1ff)][_0x83f9c2(0x1f6)](..._0x52ae08);}};exports[a26_0x43a468(0x222)]=async _0x4e3a42=>{const _0x403a72=a26_0x43a468,_0x3bdadf={'pMSYC':_0x403a72(0x21f),'HRpqd':_0x403a72(0x20e),'cwESU':_0x403a72(0x1f0),'iFiic':_0x403a72(0x1ef),'JwpSa':_0x403a72(0x204),'SlLVj':_0x403a72(0x213),'JtHrY':function(_0x48cf4f,_0x2f00c8,_0x19b928,_0x568e28){return _0x48cf4f(_0x2f00c8,_0x19b928,_0x568e28);},'pmqhd':_0x403a72(0x21a),'IdgJg':_0x403a72(0x225),'ptSAk':_0x403a72(0x1fd),'BNSJt':_0x403a72(0x200),'LzPTc':_0x403a72(0x226)},_0x2c6394=COMMON_HST_TAGS,_0x2dde14={};_0x2dde14[_0x403a72(0x1fb)]=_0x3bdadf[_0x403a72(0x20d)],_0x2dde14[_0x403a72(0x220)]=_0x4e3a42,_0x2c6394[_0x403a72(0x1f6)](_0x2dde14),_0x2c6394[_0x403a72(0x1f6)]({'Key':_0x3bdadf[_0x403a72(0x1fc)],'Value':new Date()[_0x403a72(0x219)]()[_0x403a72(0x1fa)]()});const _0x1fab87={};_0x1fab87[_0x403a72(0x21d)]=_0x3bdadf[_0x403a72(0x1ec)];const _0x2e1dc2=new AWS[(_0x403a72(0x21e))](_0x1fab87),_0x148a7d=await fs[_0x403a72(0x203)](path[_0x403a72(0x1ed)](__dirname,'..',_0x3bdadf[_0x403a72(0x215)],_0x3bdadf[_0x403a72(0x208)]),_0x3bdadf[_0x403a72(0x205)]),_0x361e22={};_0x361e22[_0x403a72(0x218)]=CLOUDFORMATION_SCHEMA;const _0x5dcf78=yaml['load'](_0x148a7d,_0x361e22);_0x3bdadf[_0x403a72(0x207)](addAutoscalerTags,_0x5dcf78,_0x4e3a42,_0x2c6394);const _0x44fd31=JSON[_0x403a72(0x216)](_0x5dcf78),_0x553065={};_0x553065[_0x403a72(0x1f3)]=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x4e3a42,_0x553065[_0x403a72(0x20f)]=_0x3bdadf[_0x403a72(0x20c)],_0x553065['TemplateBody']=_0x44fd31,_0x553065[_0x403a72(0x224)]=[{'ParameterKey':_0x3bdadf[_0x403a72(0x214)],'ParameterValue':_0x4e3a42}],_0x553065[_0x403a72(0x20a)]=[_0x3bdadf[_0x403a72(0x1f7)]],_0x553065['Tags']=_0x2c6394;const _0x98b9e4=_0x553065,_0x3d3611=await _0x2e1dc2[_0x403a72(0x21c)](_0x98b9e4)['promise']();logger[_0x403a72(0x20b)](_0x3bdadf['BNSJt']);const _0x3c7446={};return _0x3c7446[_0x403a72(0x1f3)]=_0x3d3611[_0x403a72(0x211)],_0x2e1dc2['waitFor'](_0x3bdadf[_0x403a72(0x1f4)],_0x3c7446)[_0x403a72(0x1eb)]();};