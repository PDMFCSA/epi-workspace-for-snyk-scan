const a26_0x37af6f=a26_0x301d;(function(_0x44fba3,_0x3789b6){const _0x86e4a0=a26_0x301d,_0x5d158e=_0x44fba3();while(!![]){try{const _0x187ca5=parseInt(_0x86e4a0(0x13f))/0x1+parseInt(_0x86e4a0(0x149))/0x2+-parseInt(_0x86e4a0(0x13a))/0x3*(parseInt(_0x86e4a0(0x158))/0x4)+parseInt(_0x86e4a0(0x15f))/0x5+-parseInt(_0x86e4a0(0x155))/0x6+parseInt(_0x86e4a0(0x152))/0x7+-parseInt(_0x86e4a0(0x15d))/0x8;if(_0x187ca5===_0x3789b6)break;else _0x5d158e['push'](_0x5d158e['shift']());}catch(_0x1a20e9){_0x5d158e['push'](_0x5d158e['shift']());}}}(a26_0x2c09,0xc62cb));function a26_0x2c09(){const _0x8b3d6a=['templates','342GByXgE','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','xkzFu','createStack','valueOf','1590529xKxiwd','2010-05-15','Properties','ClusterName','stringify','awsObj','Key','CloudFormation','StackId','browserstack:creationDate','2843560NwjitG','lMBDI','Tags','load','waitFor','Resources','stackCreateComplete','readFileAsync','utf-8','10225607BDxKAC','DELETE','OnFailure','2202168bAnXah','bluebird','../config/constants','24236ajnpnE','TemplateBody','cGLoF','apiVersion','path','30333568GQwKYm','autoscaler-role-creation.yaml','5940315vQRamE','js-yaml-cloudformation-schema','./AWSUtils','Value','browserstack:cluster','CAPABILITY_NAMED_IAM','StackName','schema','toString','UrkjQ','TgVQS','promise','push','Capabilities','yNbjK','createAutoscalerStack','DDCiZ','Hvjhf'];a26_0x2c09=function(){return _0x8b3d6a;};return a26_0x2c09();}const fs=require('fs'),path=require(a26_0x37af6f(0x15c)),yaml=require('js-yaml'),{CLOUDFORMATION_SCHEMA}=require(a26_0x37af6f(0x160)),Promise=require(a26_0x37af6f(0x156)),AWS=require(a26_0x37af6f(0x161))[a26_0x37af6f(0x144)],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require(a26_0x37af6f(0x157)),{logger}=require('../config/logger');Promise['promisifyAll'](fs);const addAutoscalerTags=async(_0x2a6dc5,_0x49ccfc,_0x5803fa)=>{const _0x38e74a=a26_0x37af6f;for(const _0x44122a in _0x2a6dc5[_0x38e74a(0x14e)]){_0x2a6dc5[_0x38e74a(0x14e)][_0x44122a][_0x38e74a(0x141)]&&_0x2a6dc5[_0x38e74a(0x14e)][_0x44122a][_0x38e74a(0x141)]['Tags']&&_0x2a6dc5['Resources'][_0x44122a][_0x38e74a(0x141)][_0x38e74a(0x14b)]['push'](..._0x5803fa);}};function a26_0x301d(_0x2d0842,_0x4b81e7){const _0x2c09ac=a26_0x2c09();return a26_0x301d=function(_0x301d99,_0x5ac1f1){_0x301d99=_0x301d99-0x132;let _0x5b7907=_0x2c09ac[_0x301d99];return _0x5b7907;},a26_0x301d(_0x2d0842,_0x4b81e7);}exports[a26_0x37af6f(0x136)]=async _0x4e5046=>{const _0x52f30e=a26_0x37af6f,_0x1d3947={'Hvjhf':_0x52f30e(0x163),'TgVQS':_0x52f30e(0x148),'lMBDI':_0x52f30e(0x140),'xgMzb':_0x52f30e(0x139),'DDCiZ':_0x52f30e(0x15e),'xkzFu':_0x52f30e(0x151),'cGLoF':function(_0x149d61,_0x491fcd,_0x156a9f,_0x27ef8e){return _0x149d61(_0x491fcd,_0x156a9f,_0x27ef8e);},'yNbjK':_0x52f30e(0x153),'UrkjQ':_0x52f30e(0x142),'CguKX':_0x52f30e(0x164),'jzqmV':_0x52f30e(0x13b),'fAOpl':_0x52f30e(0x14f)},_0x2da5fb=COMMON_HST_TAGS,_0x3dbd89={};_0x3dbd89[_0x52f30e(0x145)]=_0x1d3947[_0x52f30e(0x138)],_0x3dbd89[_0x52f30e(0x162)]=_0x4e5046,_0x2da5fb['push'](_0x3dbd89),_0x2da5fb[_0x52f30e(0x133)]({'Key':_0x1d3947[_0x52f30e(0x169)],'Value':new Date()[_0x52f30e(0x13e)]()[_0x52f30e(0x167)]()});const _0x22a3d3={};_0x22a3d3[_0x52f30e(0x15b)]=_0x1d3947[_0x52f30e(0x14a)];const _0x5bf945=new AWS[(_0x52f30e(0x146))](_0x22a3d3),_0x1378ec=await fs[_0x52f30e(0x150)](path['join'](__dirname,'..',_0x1d3947['xgMzb'],_0x1d3947[_0x52f30e(0x137)]),_0x1d3947[_0x52f30e(0x13c)]),_0x855f3f={};_0x855f3f[_0x52f30e(0x166)]=CLOUDFORMATION_SCHEMA;const _0x4d8149=yaml[_0x52f30e(0x14c)](_0x1378ec,_0x855f3f);_0x1d3947[_0x52f30e(0x15a)](addAutoscalerTags,_0x4d8149,_0x4e5046,_0x2da5fb);const _0x4d93a1=JSON[_0x52f30e(0x143)](_0x4d8149),_0x5a361b={};_0x5a361b[_0x52f30e(0x165)]=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x4e5046,_0x5a361b[_0x52f30e(0x154)]=_0x1d3947[_0x52f30e(0x135)],_0x5a361b[_0x52f30e(0x159)]=_0x4d93a1,_0x5a361b['Parameters']=[{'ParameterKey':_0x1d3947[_0x52f30e(0x168)],'ParameterValue':_0x4e5046}],_0x5a361b[_0x52f30e(0x134)]=[_0x1d3947['CguKX']],_0x5a361b['Tags']=_0x2da5fb;const _0x1dfaa2=_0x5a361b,_0x1acdf1=await _0x5bf945[_0x52f30e(0x13d)](_0x1dfaa2)[_0x52f30e(0x132)]();logger['debug'](_0x1d3947['jzqmV']);const _0x343508={};return _0x343508['StackName']=_0x1acdf1[_0x52f30e(0x147)],_0x5bf945[_0x52f30e(0x14d)](_0x1d3947['fAOpl'],_0x343508)[_0x52f30e(0x132)]();};