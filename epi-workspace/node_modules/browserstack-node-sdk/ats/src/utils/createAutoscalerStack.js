const a26_0x2a9810=a26_0x162c;function a26_0x193b(){const _0x5a685e=['WVOeg','utf-8','promise','browserstack:creationDate','CloudFormation','push','8210aOnPpo','Resources','stringify','908840eNaFJv','peDdO','readFileAsync','2010-05-15','bluebird','../config/logger','469866pkfCYy','valueOf','promisifyAll','BGbVd','flCPR','CAPABILITY_NAMED_IAM','path','21zwVWwe','TemplateBody','EzMwe','./AWSUtils','cwuBc','createStack','pRJEh','toString','StackName','stackCreateComplete','10356456tTCYcm','12074kUDMBN','StackId','waitFor','apiVersion','fAEPH','68WflhVk','ReWiX','../config/constants','Parameters','8FBOWiu','Properties','load','OnFailure','js-yaml-cloudformation-schema','createAutoscalerStack','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','join','Value','646688nWzlXO','autoscaler-role-creation.yaml','Tags','schema','36EUBVDV','1080039EETygf','ClusterName'];a26_0x193b=function(){return _0x5a685e;};return a26_0x193b();}function a26_0x162c(_0x3cc09f,_0x48c38d){const _0x193ba7=a26_0x193b();return a26_0x162c=function(_0x162ce6,_0x3d744c){_0x162ce6=_0x162ce6-0x1e5;let _0x63436c=_0x193ba7[_0x162ce6];return _0x63436c;},a26_0x162c(_0x3cc09f,_0x48c38d);}(function(_0x50f7ac,_0x4dbd24){const _0x450d42=a26_0x162c,_0x1aafb2=_0x50f7ac();while(!![]){try{const _0x182be4=-parseInt(_0x450d42(0x208))/0x1*(-parseInt(_0x450d42(0x203))/0x2)+-parseInt(_0x450d42(0x21a))/0x3+-parseInt(_0x450d42(0x20c))/0x4*(parseInt(_0x450d42(0x1e8))/0x5)+parseInt(_0x450d42(0x1f1))/0x6*(-parseInt(_0x450d42(0x1f8))/0x7)+-parseInt(_0x450d42(0x215))/0x8+parseInt(_0x450d42(0x219))/0x9*(-parseInt(_0x450d42(0x1eb))/0xa)+parseInt(_0x450d42(0x202))/0xb;if(_0x182be4===_0x4dbd24)break;else _0x1aafb2['push'](_0x1aafb2['shift']());}catch(_0x3411d1){_0x1aafb2['push'](_0x1aafb2['shift']());}}}(a26_0x193b,0x4b8a2));const fs=require('fs'),path=require(a26_0x2a9810(0x1f7)),yaml=require('js-yaml'),{CLOUDFORMATION_SCHEMA}=require(a26_0x2a9810(0x210)),Promise=require(a26_0x2a9810(0x1ef)),AWS=require(a26_0x2a9810(0x1fb))['awsObj'],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require(a26_0x2a9810(0x20a)),{logger}=require(a26_0x2a9810(0x1f0));Promise[a26_0x2a9810(0x1f3)](fs);const addAutoscalerTags=async(_0x33e82b,_0x4dd796,_0x2bb39b)=>{const _0x55c0c4=a26_0x2a9810;for(const _0x43cb0d in _0x33e82b[_0x55c0c4(0x1e9)]){_0x33e82b[_0x55c0c4(0x1e9)][_0x43cb0d][_0x55c0c4(0x20d)]&&_0x33e82b[_0x55c0c4(0x1e9)][_0x43cb0d][_0x55c0c4(0x20d)]['Tags']&&_0x33e82b['Resources'][_0x43cb0d]['Properties'][_0x55c0c4(0x217)][_0x55c0c4(0x1e7)](..._0x2bb39b);}};exports[a26_0x2a9810(0x211)]=async _0x3c50f3=>{const _0x55885a=a26_0x2a9810,_0x3327c9={'peDdO':'browserstack:cluster','ReWiX':_0x55885a(0x1e5),'fAEPH':_0x55885a(0x1ee),'BGbVd':'templates','WVOeg':_0x55885a(0x216),'KKqTa':_0x55885a(0x21d),'flCPR':function(_0x28bfd1,_0x19940d,_0x55e0d7,_0x40c6b3){return _0x28bfd1(_0x19940d,_0x55e0d7,_0x40c6b3);},'EzMwe':'DELETE','pRJEh':_0x55885a(0x21b),'tQQjF':_0x55885a(0x1f6),'cwuBc':_0x55885a(0x212),'VxzjX':_0x55885a(0x201)},_0x3dfa05=COMMON_HST_TAGS,_0x65fca7={};_0x65fca7['Key']=_0x3327c9[_0x55885a(0x1ec)],_0x65fca7[_0x55885a(0x214)]=_0x3c50f3,_0x3dfa05['push'](_0x65fca7),_0x3dfa05[_0x55885a(0x1e7)]({'Key':_0x3327c9[_0x55885a(0x209)],'Value':new Date()[_0x55885a(0x1f2)]()[_0x55885a(0x1ff)]()});const _0x4bab62={};_0x4bab62[_0x55885a(0x206)]=_0x3327c9[_0x55885a(0x207)];const _0x31c307=new AWS[(_0x55885a(0x1e6))](_0x4bab62),_0x5ebad8=await fs[_0x55885a(0x1ed)](path[_0x55885a(0x213)](__dirname,'..',_0x3327c9[_0x55885a(0x1f4)],_0x3327c9[_0x55885a(0x21c)]),_0x3327c9['KKqTa']),_0x4e5260={};_0x4e5260[_0x55885a(0x218)]=CLOUDFORMATION_SCHEMA;const _0x1f96eb=yaml[_0x55885a(0x20e)](_0x5ebad8,_0x4e5260);_0x3327c9[_0x55885a(0x1f5)](addAutoscalerTags,_0x1f96eb,_0x3c50f3,_0x3dfa05);const _0x2182c0=JSON[_0x55885a(0x1ea)](_0x1f96eb),_0x63169b={};_0x63169b['StackName']=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x3c50f3,_0x63169b[_0x55885a(0x20f)]=_0x3327c9[_0x55885a(0x1fa)],_0x63169b[_0x55885a(0x1f9)]=_0x2182c0,_0x63169b[_0x55885a(0x20b)]=[{'ParameterKey':_0x3327c9[_0x55885a(0x1fe)],'ParameterValue':_0x3c50f3}],_0x63169b['Capabilities']=[_0x3327c9['tQQjF']],_0x63169b['Tags']=_0x3dfa05;const _0x51efc2=_0x63169b,_0xf2cadb=await _0x31c307[_0x55885a(0x1fd)](_0x51efc2)[_0x55885a(0x21e)]();logger['debug'](_0x3327c9[_0x55885a(0x1fc)]);const _0x4ae730={};return _0x4ae730[_0x55885a(0x200)]=_0xf2cadb[_0x55885a(0x204)],_0x31c307[_0x55885a(0x205)](_0x3327c9['VxzjX'],_0x4ae730)['promise']();};