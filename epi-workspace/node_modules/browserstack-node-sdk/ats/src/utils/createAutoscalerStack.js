const a26_0x492ca3=a26_0x5b32;(function(_0x67b223,_0x1da150){const _0x4f8ad1=a26_0x5b32,_0x5354d5=_0x67b223();while(!![]){try{const _0x47fde9=parseInt(_0x4f8ad1(0x131))/0x1+parseInt(_0x4f8ad1(0x11e))/0x2+-parseInt(_0x4f8ad1(0x121))/0x3*(-parseInt(_0x4f8ad1(0x12d))/0x4)+-parseInt(_0x4f8ad1(0x13b))/0x5*(parseInt(_0x4f8ad1(0x125))/0x6)+-parseInt(_0x4f8ad1(0x133))/0x7+parseInt(_0x4f8ad1(0x135))/0x8+parseInt(_0x4f8ad1(0x11b))/0x9;if(_0x47fde9===_0x1da150)break;else _0x5354d5['push'](_0x5354d5['shift']());}catch(_0x3fdefe){_0x5354d5['push'](_0x5354d5['shift']());}}}(a26_0x4dae,0x53946));const fs=require('fs'),path=require(a26_0x492ca3(0x12b)),yaml=require(a26_0x492ca3(0x113)),{CLOUDFORMATION_SCHEMA}=require(a26_0x492ca3(0x12a)),Promise=require(a26_0x492ca3(0x128)),AWS=require(a26_0x492ca3(0x140))[a26_0x492ca3(0x124)],{CLUSTER_AUTOSCALER_STACK_NAME,COMMON_HST_TAGS}=require(a26_0x492ca3(0x12f)),{logger}=require('../config/logger');Promise['promisifyAll'](fs);function a26_0x5b32(_0x1a2d1b,_0x593cc6){const _0x4dae88=a26_0x4dae();return a26_0x5b32=function(_0x5b326d,_0x5c5aed){_0x5b326d=_0x5b326d-0x113;let _0x1c8fc9=_0x4dae88[_0x5b326d];return _0x1c8fc9;},a26_0x5b32(_0x1a2d1b,_0x593cc6);}function a26_0x4dae(){const _0x24766b=['4XHgFoI','stackCreateComplete','../config/constants','VqpYM','48133lOHavM','DELETE','442078yciljj','apiVersion','867104dhlALK','Tags','push','Value','ClusterName','FcyWW','5NFxWME','createStack','NFfjp','fBKGb','jDmXV','./AWSUtils','templates','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','StackName','zDWzy','join','XiaRU','Kjeqa','js-yaml','debug','Resources','Properties','schema','waitFor','Parameters','TemplateBody','1050345CgwBTk','promise','browserstack:creationDate','463782XDOpBG','utf-8','CAPABILITY_NAMED_IAM','891501VyLYkW','vgpYG','readFileAsync','awsObj','2380728MgemMN','load','OnFailure','bluebird','Key','js-yaml-cloudformation-schema','path','VDchK'];a26_0x4dae=function(){return _0x24766b;};return a26_0x4dae();}const addAutoscalerTags=async(_0x5b39a9,_0x5866f2,_0x2cb67e)=>{const _0x2c5278=a26_0x492ca3;for(const _0x2ddb45 in _0x5b39a9[_0x2c5278(0x115)]){_0x5b39a9[_0x2c5278(0x115)][_0x2ddb45][_0x2c5278(0x116)]&&_0x5b39a9[_0x2c5278(0x115)][_0x2ddb45][_0x2c5278(0x116)]['Tags']&&_0x5b39a9[_0x2c5278(0x115)][_0x2ddb45][_0x2c5278(0x116)][_0x2c5278(0x136)][_0x2c5278(0x137)](..._0x2cb67e);}};exports['createAutoscalerStack']=async _0x5523ca=>{const _0x3e4966=a26_0x492ca3,_0x13ad6c={'VqpYM':'browserstack:cluster','VDchK':_0x3e4966(0x11d),'NuvOh':'2010-05-15','zDWzy':_0x3e4966(0x141),'NFfjp':'autoscaler-role-creation.yaml','FcyWW':_0x3e4966(0x11f),'fBKGb':function(_0x2c7d86,_0x390a75,_0xa10769,_0x41bdeb){return _0x2c7d86(_0x390a75,_0xa10769,_0x41bdeb);},'Kjeqa':_0x3e4966(0x132),'vgpYG':_0x3e4966(0x139),'XiaRU':_0x3e4966(0x120),'jDmXV':_0x3e4966(0x142),'MChcZ':_0x3e4966(0x12e)},_0x2bc906=COMMON_HST_TAGS,_0x289143={};_0x289143[_0x3e4966(0x129)]=_0x13ad6c[_0x3e4966(0x130)],_0x289143[_0x3e4966(0x138)]=_0x5523ca,_0x2bc906['push'](_0x289143),_0x2bc906[_0x3e4966(0x137)]({'Key':_0x13ad6c[_0x3e4966(0x12c)],'Value':new Date()['valueOf']()['toString']()});const _0x3023c6={};_0x3023c6[_0x3e4966(0x134)]=_0x13ad6c['NuvOh'];const _0x4816af=new AWS['CloudFormation'](_0x3023c6),_0x2f3277=await fs[_0x3e4966(0x123)](path[_0x3e4966(0x145)](__dirname,'..',_0x13ad6c[_0x3e4966(0x144)],_0x13ad6c[_0x3e4966(0x13d)]),_0x13ad6c[_0x3e4966(0x13a)]),_0x1e35a8={};_0x1e35a8[_0x3e4966(0x117)]=CLOUDFORMATION_SCHEMA;const _0x37beec=yaml[_0x3e4966(0x126)](_0x2f3277,_0x1e35a8);_0x13ad6c[_0x3e4966(0x13e)](addAutoscalerTags,_0x37beec,_0x5523ca,_0x2bc906);const _0x2651ca=JSON['stringify'](_0x37beec),_0x4003af={};_0x4003af[_0x3e4966(0x143)]=CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x5523ca,_0x4003af[_0x3e4966(0x127)]=_0x13ad6c[_0x3e4966(0x147)],_0x4003af[_0x3e4966(0x11a)]=_0x2651ca,_0x4003af[_0x3e4966(0x119)]=[{'ParameterKey':_0x13ad6c[_0x3e4966(0x122)],'ParameterValue':_0x5523ca}],_0x4003af['Capabilities']=[_0x13ad6c[_0x3e4966(0x146)]],_0x4003af['Tags']=_0x2bc906;const _0xb3ce65=_0x4003af,_0x311920=await _0x4816af[_0x3e4966(0x13c)](_0xb3ce65)[_0x3e4966(0x11c)]();logger[_0x3e4966(0x114)](_0x13ad6c[_0x3e4966(0x13f)]);const _0x1c8138={};return _0x1c8138[_0x3e4966(0x143)]=_0x311920['StackId'],_0x4816af[_0x3e4966(0x118)](_0x13ad6c['MChcZ'],_0x1c8138)[_0x3e4966(0x11c)]();};