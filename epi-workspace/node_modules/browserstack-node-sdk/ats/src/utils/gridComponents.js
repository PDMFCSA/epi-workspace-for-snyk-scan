const a33_0x38ca55=a33_0x1618;function a33_0x1618(_0xe59343,_0x3883ca){const _0x2b67c7=a33_0x2b67();return a33_0x1618=function(_0x161860,_0xe2f3a6){_0x161860=_0x161860-0x1bc;let _0x2a73a2=_0x2b67c7[_0x161860];return _0x2a73a2;},a33_0x1618(_0xe59343,_0x3883ca);}(function(_0x57727c,_0x4f7afd){const _0x56556f=a33_0x1618,_0x5205f5=_0x57727c();while(!![]){try{const _0x3bec4d=parseInt(_0x56556f(0x25c))/0x1+parseInt(_0x56556f(0x286))/0x2+parseInt(_0x56556f(0x1be))/0x3*(parseInt(_0x56556f(0x2d4))/0x4)+parseInt(_0x56556f(0x1c6))/0x5*(parseInt(_0x56556f(0x360))/0x6)+parseInt(_0x56556f(0x1ee))/0x7+parseInt(_0x56556f(0x2d0))/0x8+-parseInt(_0x56556f(0x244))/0x9*(parseInt(_0x56556f(0x297))/0xa);if(_0x3bec4d===_0x4f7afd)break;else _0x5205f5['push'](_0x5205f5['shift']());}catch(_0x445418){_0x5205f5['push'](_0x5205f5['shift']());}}}(a33_0x2b67,0xaa065));function a33_0x2b67(){const _0x514634=['bqCEH','LFRUT','YENDM','kFimM','AhgIh','clusterName','qYqwG','TZiSx','Adding\x20MetricsServer\x20clusterRole','60228JzudUT','JHjmY','BrWhH','Adding\x20hubservice','VaOsT','NPWtP','browserstack-turboscale-agent','MKSAo','aVBGL','GrtQK','Added\x20browserstack\x20secret\x20deployment','rYOpd','iqBmq','clusterissuer.yaml','IwVAR','FKVck','labels','uITAR','Stacks','cert-manager-webhook','Browserstack','fUpnb','pUVnX','createNamespacedRole','482383oGSOdy','kube-system','Adding\x20Cert\x20Issuer','Adding\x20hubdeployment','RDcPj','clientId','fpErv','Adding\x20Autoscaler\x20Deployment','ygiip','Adding\x20MetricsServer\x20namespacedRoleBinding','fUefI','rHUpV','deploymentExists','statusCode','gnjSN','cluster-role-aggregated-reader.yaml','ymYeE','Adding\x20MetricsServer\x20clusterRoleBinding','tDhsI','4|0|1|3|2','dCCJS','annotations','Adding\x20Cert\x20Manager\x20CRDs','ZRZTj','QWgdD','JTIRQ','rlQfC','xyYEx','Deleted\x20cert-manager','XopCn','uVfBQ','replaceNamespacedDeployment','error','UWVXz','Jazkg','dpofj','scaleUpHubDeployment','GXAWe','OtLFa','enableHubHa','cluster-role-binding.yaml','role-binding.yaml','1167466ipiwTf','AMnkT','mowwq','qIELq','Added\x20browser-node-role-binding\x20role\x20binding','YisXs','ingress-nginx','createdBy','Adding\x20MetricsServer\x20Service\x20Account','loadAll','8|2|0|5|6|1|3|7|4|9','nginx','txTLK','fKVHc','pjISd','hub-service.yaml','createClusterRoleBinding','4010jttOKY','Deleting\x20Turboscale\x20Agent','mhpoc','jYhUE','rbTST','cluster-role.yaml','Adding\x20Autoscaler\x20namespacedRoleBinding','SuIyi','/readyz','nPDAr','Added\x20Nginx\x20Pods\x20and\x20deployments','gridName','NwPKC','code','BacWS','vzxfg','clusterrole.yaml','hlybo','DldbP','njJRU','join','readNamespace','../config/constants','HykDT','Nitbu','Added\x20Autoscaler\x20Components','JEYtK','XqaxE','isgaP','WTJDZ','iOHvx','addGridComponents','dpQYO','Added\x20MetricsServer\x20Components','ltstT','load','tFAij','Scaling\x20down\x20deployment','Added\x20Nginx\x20Roles\x20and\x20Service\x20Accounts','ctGSL','kprMA','YxsHR','xmsKb','PTLZt','YJKje','Namespace\x20Created:\x20','crds.yaml','cnqTs','metrics-server','MyKVV','Deleted\x20cluster\x20and\x20linked\x20resources\x20successfully','LubHY','Scaling\x20up\x20deployment','Xbinx','readNamespacedDeployment','service.yaml','LXBYQ','403848spiBHU','RNxbx','qCTDw','Deleted\x20ingress-nginx','5113828SLdUOm','BWzgO','OhHJA','isPrivateGrid','gTcRl','KRIaX','Removing\x20grid\x20components','readFileAsync','Adding\x20Nginx\x20Private\x20Pods\x20and\x20Services','vieBc','KZtFS','IzqvH','createNamespacedDeployment','zYykG','default','\x20cloudformation\x20stack\x20from\x20region\x20','AgPAs','Adding\x20MetricsServer\x20API\x20Service','-cf','ObPIo','UOvvZ','Adding\x20Turboscale\x20Agent','Pnanl','JEmvh','cloudProvider','Adding\x20Nginx\x20Roles\x20and\x20Service\x20Accounts','bstackAccesskey','scaleDownHubDeployment','bLJGO','isNewAWSCluster','gtyBU','StackName','all','jWANh','createAPIService','uHmsy','jylRI','vtKMt','split','namespaceExists','Deleted\x20clusterrolebinding','czVNK','deleteNamespace','HZcTk','vpc-cni-cm.yaml','ccYEg','XwDan','service.beta.kubernetes.io/aws-load-balancer-internal:\x20\x22true\x22','yRsOs','Waiting\x20for\x20Cert\x20Manager\x20Deployments','Adding\x20browserstack\x20secret\x20deployment','createNamespacedRoleBinding','XQUmG','Adding\x20browser-node\x20service\x20account','GidtG','Deleting\x20cert-manager','OHpqH','szAYv','role.yaml','gridProfileId','fEJPj','uKPla','templates','helper.yaml','EDOWi','WFWKD','GCWdJ','ciHNe','ShmkQ','cdyBj','addAutoScalerComponents','Adding\x20browser-node-role-binding\x20role\x20binding','krRCa','Removed\x20grid\x20components','PyTQA','BAcdU','LQEXE','kjtmi','createNamespacedServiceAccount','hub-deployment.yaml','fQYin','kvhMG','VrPcr','zXqaV','redisPassword','GcNll','removeGridComponents','listNamespacedService','/podReady','browser-node-service-account.yaml','123456','OPWor','false','Outputs','info','SbdkI','hkSJn','Added\x20Nginx\x20Private\x20Pods\x20and\x20deployments','XIRuK','Adding\x20Ingress','createNamespacedService','Adding\x20Nginx\x20Pods\x20and\x20deployments','kafkaPassword','JeVnk','./describeStack','<ClusterName>','deleteRoutingDeps','lEVcD','3|0|4|5|6|1|2','js-yaml','replaceNamespacedServiceAccount','YrIhk','Adding\x20Cert\x20Manager','utf-8','managedBy','Adding\x20MetricsServer\x20Service','Deleting\x20','VHCDe','MIUho','uid','TUYfl','xMUIS','service-account.yaml','createClusterRole','RXXgi','Adding\x20MetricsServer\x20Deployment','BnQfa','ZnRVo','FzRnE','metadata','pDBWl','mcziA','browserVersion','Added\x20Cert\x20Manager','Added\x20hubservice','rZUyd','ffeXu','browserstack','jzGSV','hYOYQ','18kXNCqZ','networking.gke.io/load-balancer-type:\x20\x22Internal\x22','GLLRp','kBdmY','deployer-srvacct-binding-','browserstack-secret.yaml','./deleteEFSMountTargets','yecAu','TfYCk','turboscale-agent.yaml','Adding\x20Autoscaler\x20clusterRoleBinding','Deleted\x20Turboscale\x20Agent','3qDQyDn','VhfBy','Added\x20VPC\x20CNI\x20ConfigMaps','Adding\x20browser-node-role\x20cluster\x20role','NAbCV','VjeGh','vvTTp','wdXTI','1023725ODNpJN','XDZOP','tZVbH','hubHaNameSpace','ZNNjq','VOUOX','lVSGG','NjoCL','KCcaL','spec','../utils/webSocketUtils','jlNxQ','MqDQu','FsoIb','Adding\x20MetricsServer\x20clusterRole\x20for\x20aggregated\x20reader','JyTMx','pods-and-services.yaml','message','deleteClusterRoleBinding','QVnwU','SuHFK','gVefc','pOdJi','nvkQm','service.beta.kubernetes.io/azure-load-balancer-internal:\x20\x22true\x22','xmGIX','aWeLo','yXcsf','Adding\x20default\x20service\x20account','1|4|6|2|5|3|0|7','true','vfyXs','template','hxNeU','ingress-nginx-controller','hvoQH','cluster-role-binding-auth-delegator.yaml','SfXtO','hubVersion','listNamespacedDeployment','2594368AoLkRw','XUtiR','TpsJO','bBWce','name','BfGgN','uuid','WNXaB','NkAlG','createNamespace','find','rgfAP','replace','map','DnVdr','SjJoz','zAICB','qUFCi','VXCRu','replicas','Added\x20Ingress','bNgTT','clusterRegion','bOEBs','PqSCJ','items','debug','Deleting\x20clusterrolebinding','QmPqS','egJtH','Adding\x20Autoscaler\x20Service\x20Account','sa.yaml','../config/logger','browser-node-cluster-role-binding.yaml','Adding\x20Autoscaler\x20namespacedRole','GspUJ','vbgJJ','dofJX','namespace','Added\x20browser-node\x20service\x20account','bVlyI','NAfJf','nMWAJ','Scaled\x20down\x20deployment','length','hGeCL','mLlOo','qSxWU','azure.workload.identity/client-id','bstackUsername','rasWp','wnkLz','gmRWl','WPwIr','getNamespaceUID','PynVd','weScK','AwBAh','CazgS','Added\x20Turboscale\x20Agent','skqKh','cert-manager-cainjector','Adding\x20Autoscaler\x20clusterRole','KqzJL','wonFr','PnHFe','body','EkwXb','xicsC','OQySF','APPSD','qDfWa','ttZjp','cyBfX','api-service.yaml','YMJeR','OEmja'];a33_0x2b67=function(){return _0x514634;};return a33_0x2b67();}const fs=require('fs'),yaml=require(a33_0x38ca55(0x341)),path=require('path'),{v4:uuidv4}=require(a33_0x38ca55(0x1f4)),{logger}=require(a33_0x38ca55(0x20e)),{AG_API_URL,global_registry,CLUSTER_DEP_STACK_NAME,CLUSTER_AUTOSCALER_STACK_NAME,CLUSTER_HUB_HA_STACK_NAME,AZURE,GCP,TURBOSCALE_DEPLOYMENT}=require(a33_0x38ca55(0x2ad)),{deleteClusterStack}=require('./deleteStack'),{kubeApply,waitForDeployment,encodeBase64}=require('./utilityMethods'),{delay}=require(a33_0x38ca55(0x1d0)),{describeClusterStack}=require(a33_0x38ca55(0x33c)),{deleteEFSMountTarget}=require(a33_0x38ca55(0x366)),applyTemplate=async(_0x17fc71,_0x496b25,_0x181032={})=>{const _0x455196=a33_0x38ca55,_0x11e364={};_0x11e364[_0x455196(0x2c6)]=_0x455196(0x32e),_0x11e364[_0x455196(0x20a)]=_0x455196(0x1de),_0x11e364[_0x455196(0x24d)]=_0x455196(0x361),_0x11e364[_0x455196(0x21b)]=_0x455196(0x312),_0x11e364['SuHFK']=_0x455196(0x345),_0x11e364['bVlyI']=_0x455196(0x1e4),_0x11e364[_0x455196(0x1fe)]=_0x455196(0x330),_0x11e364[_0x455196(0x241)]=function(_0x135b75,_0x53ce66){return _0x135b75!=_0x53ce66;},_0x11e364[_0x455196(0x22a)]=function(_0x1b806a,_0x1f70af){return _0x1b806a!==_0x1f70af;},_0x11e364[_0x455196(0x24f)]=function(_0x2e8847,_0x190ce3){return _0x2e8847===_0x190ce3;},_0x11e364[_0x455196(0x353)]=_0x455196(0x2c1),_0x11e364['OoKGQ']=_0x455196(0x1cb),_0x11e364['XUtiR']=_0x455196(0x32c),_0x11e364[_0x455196(0x2c3)]=_0x455196(0x1c8),_0x11e364[_0x455196(0x334)]=_0x455196(0x29f),_0x11e364[_0x455196(0x2aa)]=function(_0x4581a3,_0x510e5a){return _0x4581a3!=_0x510e5a;},_0x11e364[_0x455196(0x327)]=function(_0x5afbca,_0x5b3fe7){return _0x5afbca!==_0x5b3fe7;},_0x11e364[_0x455196(0x27e)]=_0x455196(0x31f),_0x11e364[_0x455196(0x24c)]=_0x455196(0x220),_0x11e364[_0x455196(0x29b)]=function(_0x37cf14,_0x51feeb){return _0x37cf14===_0x51feeb;},_0x11e364[_0x455196(0x27a)]=_0x455196(0x27d),_0x11e364['ccYEg']=function(_0x3b1515,_0x3f2d00){return _0x3b1515!==_0x3f2d00;},_0x11e364[_0x455196(0x292)]='clientId',_0x11e364[_0x455196(0x357)]=_0x455196(0x23c),_0x11e364[_0x455196(0x228)]=_0x455196(0x368),_0x11e364[_0x455196(0x367)]=function(_0x2c68d6,_0x18db57){return _0x2c68d6===_0x18db57;},_0x11e364[_0x455196(0x2f8)]='hub-deployment.yaml',_0x11e364['NjoCL']=function(_0x37cff6,_0x9ac49){return _0x37cff6!==_0x9ac49;},_0x11e364['xMUIS']=_0x455196(0x294),_0x11e364[_0x455196(0x21c)]=_0x455196(0x275);const _0x32e19f=_0x11e364;let _0x404b51=await fs[_0x455196(0x2db)](path[_0x455196(0x2ab)](__dirname,'..',_0x32e19f[_0x455196(0x21b)],_0x17fc71),_0x32e19f[_0x455196(0x1da)]);_0x404b51=_0x404b51[_0x455196(0x1fa)](/<GridNamespace>/g,_0x496b25),_0x404b51=_0x404b51[_0x455196(0x1fa)](/<BstackURL>/g,AG_API_URL),_0x404b51=_0x404b51['replace'](/<ClusterName>/g,global_registry[_0x455196(0x240)]),_0x404b51=_0x404b51[_0x455196(0x1fa)](/<BstackUsername>/g,global_registry[_0x455196(0x21f)]),_0x404b51=_0x404b51[_0x455196(0x1fa)](/<BstackAccessKey>/g,global_registry[_0x455196(0x2ee)]),_0x404b51=_0x404b51[_0x455196(0x1fa)](/<GridName>/g,global_registry[_0x455196(0x2a2)]),_0x404b51=_0x404b51[_0x455196(0x1fa)](/<Region>/g,global_registry[_0x455196(0x204)]),_0x404b51=_0x404b51[_0x455196(0x1fa)](/<CloudProvider>/g,global_registry[_0x455196(0x2ec)]),_0x404b51=_0x404b51[_0x455196(0x1fa)](/<HubImageVersion>/g,global_registry[_0x455196(0x1ec)]),_0x404b51=_0x404b51['replace'](/<BrowserImageVersion>/g,global_registry[_0x455196(0x358)]),_0x404b51=_0x404b51[_0x455196(0x1fa)](/<PrivateGrid>/g,global_registry[_0x455196(0x2d7)]?_0x32e19f[_0x455196(0x216)]:_0x32e19f[_0x455196(0x1fe)]);if(_0x32e19f[_0x455196(0x241)](global_registry['enableHubHa'],null)&&_0x32e19f[_0x455196(0x22a)](global_registry[_0x455196(0x283)],undefined)&&global_registry['enableHubHa']){if(_0x32e19f[_0x455196(0x24f)](_0x32e19f['ZnRVo'],_0x32e19f['OoKGQ']))return![];else _0x404b51=_0x404b51[_0x455196(0x1fa)](/<ReadinessProbePath>/g,_0x32e19f[_0x455196(0x1ef)]),_0x404b51=_0x404b51[_0x455196(0x1fa)](/<EnableHubHa>/g,_0x32e19f[_0x455196(0x216)]),_0x404b51=_0x404b51['replace'](/<HubHaNameSpace>/g,global_registry['hubHaNameSpace']);}else _0x32e19f['rYOpd'](_0x32e19f[_0x455196(0x2c3)],_0x32e19f[_0x455196(0x2c3)])?(_0x404b51=_0x404b51[_0x455196(0x1fa)](/<ReadinessProbePath>/g,_0x32e19f[_0x455196(0x334)]),_0x404b51=_0x404b51[_0x455196(0x1fa)](/<EnableHubHa>/g,_0x32e19f[_0x455196(0x1fe)]),_0x404b51=_0x404b51[_0x455196(0x1fa)](/<HubHaNameSpace>/g,'')):_0x3734fc=_0x258ad0[_0x455196(0x1fa)](/<GridProfileID>/g,'');if(_0x32e19f[_0x455196(0x2aa)](global_registry[_0x455196(0x30f)],null)&&_0x32e19f[_0x455196(0x22a)](global_registry['gridProfileId'],undefined)){if(_0x32e19f[_0x455196(0x327)](_0x32e19f['Jazkg'],_0x32e19f[_0x455196(0x24c)]))_0x404b51=_0x404b51[_0x455196(0x1fa)](/<GridProfileID>/g,global_registry[_0x455196(0x30f)]);else return _0x32e19f[_0x455196(0x2c6)];}else _0x32e19f['rbTST'](_0x32e19f[_0x455196(0x27a)],_0x32e19f[_0x455196(0x27a)])?_0x404b51=_0x404b51[_0x455196(0x1fa)](/<GridProfileID>/g,''):_0x490132=_0x32e19f['QmPqS'];const _0x5cafb7=yaml['load'](_0x404b51);if(_0x32e19f[_0x455196(0x29b)](global_registry['cloudProvider'],AZURE)&&_0x32e19f[_0x455196(0x301)](_0x181032[_0x32e19f[_0x455196(0x292)]],undefined)){if(_0x32e19f[_0x455196(0x327)](_0x32e19f[_0x455196(0x357)],_0x32e19f[_0x455196(0x228)])){const _0x4edd71={};_0x4edd71[_0x455196(0x21e)]=''+_0x181032[_0x455196(0x261)],_0x5cafb7['metadata']={'annotations':_0x4edd71,..._0x5cafb7[_0x455196(0x355)]};}else _0x2029ce[_0x455196(0x208)](_0x5e202d['message']);}return _0x32e19f['rbTST'](global_registry[_0x455196(0x2ec)],AZURE)&&_0x32e19f[_0x455196(0x367)](_0x17fc71,_0x32e19f['jylRI'])&&(_0x32e19f[_0x455196(0x1cd)](_0x32e19f[_0x455196(0x34d)],_0x32e19f[_0x455196(0x21c)])?_0x5cafb7[_0x455196(0x1cf)][_0x455196(0x1e6)][_0x455196(0x355)]['labels']={'azure.workload.identity/use':_0x32e19f['bVlyI'],..._0x5cafb7['spec']['template'][_0x455196(0x355)][_0x455196(0x254)]}:_0x12e356=_0x32e19f[_0x455196(0x24d)]),_0x5cafb7;};exports[a33_0x38ca55(0x31a)]=async(_0x21c5f5,_0x3f5f35,_0x50cf36,_0x2f8ff1,_0x38399a,_0x261017,_0x217145)=>{const _0x41d026=a33_0x38ca55,_0x2e2c96={};_0x2e2c96[_0x41d026(0x34c)]=_0x41d026(0x20c),_0x2e2c96[_0x41d026(0x1c4)]=_0x41d026(0x312),_0x2e2c96[_0x41d026(0x321)]='autoscaler',_0x2e2c96[_0x41d026(0x2cc)]=_0x41d026(0x20d),_0x2e2c96[_0x41d026(0x2c8)]=_0x41d026(0x345),_0x2e2c96[_0x41d026(0x2ea)]='eks.amazonaws.com/role-arn',_0x2e2c96[_0x41d026(0x2ca)]='kube-system',_0x2e2c96[_0x41d026(0x336)]=_0x41d026(0x22c),_0x2e2c96['OWNyY']=_0x41d026(0x2a7),_0x2e2c96[_0x41d026(0x277)]=_0x41d026(0x210),_0x2e2c96[_0x41d026(0x233)]=_0x41d026(0x30e),_0x2e2c96[_0x41d026(0x2d2)]=_0x41d026(0x1bc),_0x2e2c96['HZcTk']=_0x41d026(0x284),_0x2e2c96[_0x41d026(0x1eb)]=_0x41d026(0x29d),_0x2e2c96['aQofq']=_0x41d026(0x285),_0x2e2c96[_0x41d026(0x206)]=_0x41d026(0x263),_0x2e2c96[_0x41d026(0x252)]='deployment.yaml',_0x2e2c96[_0x41d026(0x2d8)]=_0x41d026(0x33d);const _0x5f5ada=_0x2e2c96;let _0x42cc75=null,_0x131fd2=null;logger[_0x41d026(0x332)](_0x5f5ada[_0x41d026(0x34c)]),_0x131fd2=await fs[_0x41d026(0x2db)](path['join'](__dirname,'..',_0x5f5ada[_0x41d026(0x1c4)],_0x5f5ada[_0x41d026(0x321)],_0x5f5ada[_0x41d026(0x2cc)]),_0x5f5ada[_0x41d026(0x2c8)]),_0x42cc75=yaml[_0x41d026(0x2ba)](_0x131fd2),_0x42cc75[_0x41d026(0x355)][_0x41d026(0x271)][_0x5f5ada[_0x41d026(0x2ea)]]=_0x217145;const _0xa7135b={};_0xa7135b[_0x41d026(0x214)]=_0x5f5ada[_0x41d026(0x2ca)],_0xa7135b[_0x41d026(0x230)]=_0x42cc75,await _0x21c5f5[_0x41d026(0x322)](_0xa7135b),logger[_0x41d026(0x332)](_0x5f5ada[_0x41d026(0x336)]),_0x131fd2=await fs[_0x41d026(0x2db)](path['join'](__dirname,'..',_0x5f5ada[_0x41d026(0x1c4)],_0x5f5ada['kjtmi'],_0x5f5ada['OWNyY']),_0x5f5ada[_0x41d026(0x2c8)]),_0x42cc75=yaml['load'](_0x131fd2);const _0x115f23={};_0x115f23[_0x41d026(0x230)]=_0x42cc75,await _0x2f8ff1[_0x41d026(0x34f)](_0x115f23),logger[_0x41d026(0x332)](_0x5f5ada[_0x41d026(0x277)]),_0x131fd2=await fs[_0x41d026(0x2db)](path[_0x41d026(0x2ab)](__dirname,'..',_0x5f5ada['vvTTp'],_0x5f5ada[_0x41d026(0x321)],_0x5f5ada[_0x41d026(0x233)]),_0x5f5ada['MyKVV']),_0x42cc75=yaml[_0x41d026(0x2ba)](_0x131fd2);const _0x35a957={};_0x35a957[_0x41d026(0x214)]=_0x5f5ada[_0x41d026(0x2ca)],_0x35a957[_0x41d026(0x230)]=_0x42cc75,await _0x2f8ff1[_0x41d026(0x25b)](_0x35a957),logger['info'](_0x5f5ada[_0x41d026(0x2d2)]),_0x131fd2=await fs['readFileAsync'](path[_0x41d026(0x2ab)](__dirname,'..',_0x5f5ada['vvTTp'],_0x5f5ada[_0x41d026(0x321)],_0x5f5ada[_0x41d026(0x2ff)]),_0x5f5ada[_0x41d026(0x2c8)]),_0x42cc75=yaml[_0x41d026(0x2ba)](_0x131fd2);const _0x537fdf={};_0x537fdf[_0x41d026(0x230)]=_0x42cc75,await _0x2f8ff1[_0x41d026(0x296)](_0x537fdf),logger['info'](_0x5f5ada['SfXtO']),_0x131fd2=await fs[_0x41d026(0x2db)](path['join'](__dirname,'..',_0x5f5ada[_0x41d026(0x1c4)],_0x5f5ada[_0x41d026(0x321)],_0x5f5ada['aQofq']),_0x5f5ada['MyKVV']),_0x42cc75=yaml[_0x41d026(0x2ba)](_0x131fd2);const _0x9f80e7={};_0x9f80e7['namespace']=_0x5f5ada[_0x41d026(0x2ca)],_0x9f80e7[_0x41d026(0x230)]=_0x42cc75,await _0x2f8ff1[_0x41d026(0x307)](_0x9f80e7),logger[_0x41d026(0x332)](_0x5f5ada[_0x41d026(0x206)]),_0x131fd2=await fs[_0x41d026(0x2db)](path['join'](__dirname,'..',_0x5f5ada[_0x41d026(0x1c4)],_0x5f5ada[_0x41d026(0x321)],_0x5f5ada['IwVAR']),_0x5f5ada[_0x41d026(0x2c8)]),_0x131fd2=_0x131fd2[_0x41d026(0x1fa)](_0x5f5ada[_0x41d026(0x2d8)],_0x261017),_0x42cc75=yaml[_0x41d026(0x2ba)](_0x131fd2);const _0x506217={};_0x506217[_0x41d026(0x214)]=_0x5f5ada[_0x41d026(0x2ca)],_0x506217[_0x41d026(0x230)]=_0x42cc75,await _0x3f5f35[_0x41d026(0x2e0)](_0x506217);},exports['addMetricServerComponents']=async(_0x345e57,_0x432d56,_0x2ca16a,_0x26c1e4)=>{const _0x4c1f5a=a33_0x38ca55,_0x335372={};_0x335372[_0x4c1f5a(0x237)]=_0x4c1f5a(0x28e),_0x335372[_0x4c1f5a(0x2a6)]=_0x4c1f5a(0x312),_0x335372['vbgJJ']='metrics-server',_0x335372[_0x4c1f5a(0x282)]=_0x4c1f5a(0x34e),_0x335372[_0x4c1f5a(0x250)]=_0x4c1f5a(0x345),_0x335372['DnVdr']='kube-system',_0x335372[_0x4c1f5a(0x2a0)]=_0x4c1f5a(0x1d4),_0x335372[_0x4c1f5a(0x1ff)]=_0x4c1f5a(0x26b),_0x335372[_0x4c1f5a(0x205)]=_0x4c1f5a(0x243),_0x335372['TBDnl']=_0x4c1f5a(0x29c),_0x335372['uHmsy']=_0x4c1f5a(0x265),_0x335372[_0x4c1f5a(0x274)]=_0x4c1f5a(0x285),_0x335372[_0x4c1f5a(0x1f1)]=_0x4c1f5a(0x26d),_0x335372['bLGYh']=_0x4c1f5a(0x1ea),_0x335372[_0x4c1f5a(0x310)]=_0x4c1f5a(0x284),_0x335372[_0x4c1f5a(0x273)]=_0x4c1f5a(0x347),_0x335372[_0x4c1f5a(0x1f0)]=_0x4c1f5a(0x2ce),_0x335372[_0x4c1f5a(0x2f9)]=_0x4c1f5a(0x351),_0x335372[_0x4c1f5a(0x248)]='deployment.yaml',_0x335372[_0x4c1f5a(0x262)]=_0x4c1f5a(0x2e5),_0x335372[_0x4c1f5a(0x2e4)]=_0x4c1f5a(0x238);const _0x3f2ad2=_0x335372;logger[_0x4c1f5a(0x332)](_0x3f2ad2[_0x4c1f5a(0x237)]);let _0x2e952e=await fs[_0x4c1f5a(0x2db)](path['join'](__dirname,'..',_0x3f2ad2[_0x4c1f5a(0x2a6)],_0x3f2ad2[_0x4c1f5a(0x212)],_0x3f2ad2['OtLFa']),_0x3f2ad2['iqBmq']),_0xcb3344=yaml['load'](_0x2e952e);const _0x5552d4={};_0x5552d4['namespace']=_0x3f2ad2[_0x4c1f5a(0x1fc)],_0x5552d4['body']=_0xcb3344,await _0x345e57[_0x4c1f5a(0x322)](_0x5552d4),logger['info'](_0x3f2ad2[_0x4c1f5a(0x2a0)]),_0x2e952e=await fs['readFileAsync'](path[_0x4c1f5a(0x2ab)](__dirname,'..',_0x3f2ad2[_0x4c1f5a(0x2a6)],_0x3f2ad2[_0x4c1f5a(0x212)],_0x3f2ad2[_0x4c1f5a(0x1ff)]),_0x3f2ad2[_0x4c1f5a(0x250)]),_0xcb3344=yaml[_0x4c1f5a(0x2ba)](_0x2e952e);const _0x4c0b6b={};_0x4c0b6b[_0x4c1f5a(0x230)]=_0xcb3344,await _0x2ca16a[_0x4c1f5a(0x34f)](_0x4c0b6b),logger[_0x4c1f5a(0x332)](_0x3f2ad2[_0x4c1f5a(0x205)]),_0x2e952e=await fs[_0x4c1f5a(0x2db)](path[_0x4c1f5a(0x2ab)](__dirname,'..',_0x3f2ad2[_0x4c1f5a(0x2a6)],_0x3f2ad2[_0x4c1f5a(0x212)],_0x3f2ad2['TBDnl']),_0x3f2ad2[_0x4c1f5a(0x250)]),_0xcb3344=yaml[_0x4c1f5a(0x2ba)](_0x2e952e);const _0x5917b4={};_0x5917b4['body']=_0xcb3344,await _0x2ca16a[_0x4c1f5a(0x34f)](_0x5917b4),logger[_0x4c1f5a(0x332)](_0x3f2ad2[_0x4c1f5a(0x2f7)]),_0x2e952e=await fs['readFileAsync'](path['join'](__dirname,'..',_0x3f2ad2[_0x4c1f5a(0x2a6)],_0x3f2ad2['vbgJJ'],_0x3f2ad2[_0x4c1f5a(0x274)]),_0x3f2ad2['iqBmq']),_0xcb3344=yaml[_0x4c1f5a(0x2ba)](_0x2e952e);const _0x25b528={};_0x25b528[_0x4c1f5a(0x214)]=_0x3f2ad2[_0x4c1f5a(0x1fc)],_0x25b528[_0x4c1f5a(0x230)]=_0xcb3344,await _0x2ca16a[_0x4c1f5a(0x307)](_0x25b528),logger[_0x4c1f5a(0x332)](_0x3f2ad2[_0x4c1f5a(0x1f1)]),_0x2e952e=await fs[_0x4c1f5a(0x2db)](path['join'](__dirname,'..',_0x3f2ad2[_0x4c1f5a(0x2a6)],_0x3f2ad2[_0x4c1f5a(0x212)],_0x3f2ad2['bLGYh']),_0x3f2ad2[_0x4c1f5a(0x250)]),_0xcb3344=yaml[_0x4c1f5a(0x2ba)](_0x2e952e);const _0x584cc7={};_0x584cc7[_0x4c1f5a(0x230)]=_0xcb3344,await _0x2ca16a[_0x4c1f5a(0x296)](_0x584cc7),logger[_0x4c1f5a(0x332)](_0x3f2ad2['bBWce']),_0x2e952e=await fs[_0x4c1f5a(0x2db)](path[_0x4c1f5a(0x2ab)](__dirname,'..',_0x3f2ad2[_0x4c1f5a(0x2a6)],_0x3f2ad2[_0x4c1f5a(0x212)],_0x3f2ad2[_0x4c1f5a(0x310)]),_0x3f2ad2['iqBmq']),_0xcb3344=yaml['load'](_0x2e952e);const _0x440920={};_0x440920['body']=_0xcb3344,await _0x2ca16a['createClusterRoleBinding'](_0x440920),logger['info'](_0x3f2ad2['ZRZTj']),_0x2e952e=await fs[_0x4c1f5a(0x2db)](path[_0x4c1f5a(0x2ab)](__dirname,'..',_0x3f2ad2['vzxfg'],_0x3f2ad2['vbgJJ'],_0x3f2ad2[_0x4c1f5a(0x1f0)]),_0x3f2ad2['iqBmq']),_0xcb3344=yaml['load'](_0x2e952e);const _0x288d7c={};_0x288d7c['namespace']=_0x3f2ad2['DnVdr'],_0x288d7c[_0x4c1f5a(0x230)]=_0xcb3344,await _0x345e57[_0x4c1f5a(0x338)](_0x288d7c),logger[_0x4c1f5a(0x332)](_0x3f2ad2[_0x4c1f5a(0x2f9)]),_0x2e952e=await fs[_0x4c1f5a(0x2db)](path[_0x4c1f5a(0x2ab)](__dirname,'..',_0x3f2ad2[_0x4c1f5a(0x2a6)],_0x3f2ad2['vbgJJ'],_0x3f2ad2[_0x4c1f5a(0x248)]),_0x3f2ad2[_0x4c1f5a(0x250)]),_0xcb3344=yaml[_0x4c1f5a(0x2ba)](_0x2e952e);const _0x30ccb3={};_0x30ccb3['namespace']=_0x3f2ad2[_0x4c1f5a(0x1fc)],_0x30ccb3[_0x4c1f5a(0x230)]=_0xcb3344,await _0x432d56['createNamespacedDeployment'](_0x30ccb3),logger[_0x4c1f5a(0x332)](_0x3f2ad2[_0x4c1f5a(0x262)]),_0x2e952e=await fs['readFileAsync'](path['join'](__dirname,'..',_0x3f2ad2[_0x4c1f5a(0x2a6)],_0x3f2ad2[_0x4c1f5a(0x212)],_0x3f2ad2[_0x4c1f5a(0x2e4)]),_0x3f2ad2[_0x4c1f5a(0x250)]),_0xcb3344=yaml[_0x4c1f5a(0x2ba)](_0x2e952e);const _0x34c66e={};_0x34c66e[_0x4c1f5a(0x230)]=_0xcb3344,await _0x26c1e4[_0x4c1f5a(0x2f6)](_0x34c66e);},exports['metricsServerServiceExists']=async _0x5cdc90=>{const _0x54f045=a33_0x38ca55,_0x21af61={};_0x21af61[_0x54f045(0x26e)]=function(_0xc3547d,_0xa2ac06){return _0xc3547d===_0xa2ac06;},_0x21af61['JyTMx']=_0x54f045(0x25d),_0x21af61[_0x54f045(0x2e7)]=function(_0x2306e3,_0x2fbe90){return _0x2306e3<_0x2fbe90;},_0x21af61[_0x54f045(0x30d)]=function(_0x287f1f,_0x116d47){return _0x287f1f!==_0x116d47;},_0x21af61[_0x54f045(0x226)]=_0x54f045(0x221),_0x21af61['QmcNL']=_0x54f045(0x2d6),_0x21af61[_0x54f045(0x2a3)]=function(_0x55b9fb,_0x199348){return _0x55b9fb===_0x199348;},_0x21af61['fUpnb']=_0x54f045(0x2c7),_0x21af61['MqDQu']=function(_0x276f3e,_0x14e48d){return _0x276f3e===_0x14e48d;},_0x21af61[_0x54f045(0x33f)]=_0x54f045(0x266),_0x21af61['GidtG']=_0x54f045(0x316);const _0x310bae=_0x21af61,_0x3295cc={};_0x3295cc['namespace']=_0x310bae[_0x54f045(0x1d5)];const _0x1eface=await _0x5cdc90[_0x54f045(0x32b)](_0x3295cc),_0x587362=_0x1eface?.[_0x54f045(0x207)];for(let _0x51d7d3=0x0;_0x310bae[_0x54f045(0x2e7)](_0x51d7d3,_0x587362[_0x54f045(0x21a)]);_0x51d7d3++){if(_0x310bae['szAYv'](_0x310bae[_0x54f045(0x226)],_0x310bae['QmcNL'])){if(_0x310bae[_0x54f045(0x2a3)](_0x587362[_0x51d7d3][_0x54f045(0x355)][_0x54f045(0x1f2)],_0x310bae[_0x54f045(0x259)])){if(_0x310bae[_0x54f045(0x1d2)](_0x310bae[_0x54f045(0x33f)],_0x310bae[_0x54f045(0x30a)])){if(_0x310bae[_0x54f045(0x26e)](_0xe55111[_0x54f045(0x269)],0x199)||_0x310bae[_0x54f045(0x26e)](_0x5b0ae8[_0x54f045(0x2a4)],0x199))_0x30fe4b[_0x54f045(0x208)](_0x591d6d[_0x54f045(0x1d7)]);else throw _0x728f78;}else return!![];}}else _0x2ccffe['error']('Error\x20deleting\x20stack\x20'+_0x1d7bd9+':',_0x5d1f46[_0x54f045(0x1d7)]);}return![];},exports['namespaceExists']=async(_0xbca265,_0x2c05fc)=>{const _0x30ec04=a33_0x38ca55,_0x33998c={};_0x33998c[_0x30ec04(0x1f9)]=_0x30ec04(0x32c),_0x33998c[_0x30ec04(0x320)]=_0x30ec04(0x1e4),_0x33998c[_0x30ec04(0x225)]=function(_0x1e09c9,_0x10a731){return _0x1e09c9===_0x10a731;},_0x33998c['RXXgi']='XIAMa',_0x33998c['GspUJ']=function(_0x3ed865,_0x4358d9){return _0x3ed865===_0x4358d9;},_0x33998c[_0x30ec04(0x24b)]=_0x30ec04(0x2f5);const _0x53976f=_0x33998c;try{if(_0x53976f[_0x30ec04(0x225)](_0x53976f[_0x30ec04(0x350)],_0x53976f[_0x30ec04(0x350)])){const _0x3d3b0f={};_0x3d3b0f['name']=_0x2c05fc;const _0x249a32=await _0xbca265[_0x30ec04(0x2ac)](_0x3d3b0f);return!![];}else _0x4383d6=_0x3367d1['replace'](/<KafkaClientPassword>/g,''),_0x2078d1=_0x129bd1['replace'](/<RedisClientPassword>/g,'');}catch(_0x24806b){if(_0x53976f[_0x30ec04(0x211)](_0x53976f['MKSAo'],_0x53976f['MKSAo']))return![];else _0x24845f=_0x5c964a[_0x30ec04(0x1fa)](/<ReadinessProbePath>/g,_0x53976f[_0x30ec04(0x1f9)]),_0x5612e2=_0x6e7bd['replace'](/<EnableHubHa>/g,_0x53976f[_0x30ec04(0x320)]),_0x301ba2=_0x31994a[_0x30ec04(0x1fa)](/<HubHaNameSpace>/g,_0x223bbe[_0x30ec04(0x1c9)]);}},exports[a33_0x38ca55(0x268)]=async(_0x475c1a,_0xa2b7a4,_0x1dcc7f)=>{const _0x54c913=a33_0x38ca55,_0x39a3d0={};_0x39a3d0[_0x54c913(0x279)]=function(_0x2a19d3,_0xa03fb8){return _0x2a19d3!==_0xa03fb8;},_0x39a3d0[_0x54c913(0x203)]=_0x54c913(0x29a),_0x39a3d0[_0x54c913(0x27f)]='HmeRb',_0x39a3d0[_0x54c913(0x2a9)]=function(_0x45be60,_0x40a05b){return _0x45be60===_0x40a05b;},_0x39a3d0[_0x54c913(0x1ca)]=_0x54c913(0x1d3);const _0x963b78=_0x39a3d0;try{if(_0x963b78[_0x54c913(0x279)](_0x963b78[_0x54c913(0x203)],_0x963b78[_0x54c913(0x27f)])){const _0x5aa899=await _0x475c1a[_0x54c913(0x1ed)](_0xa2b7a4),_0x5a1e8c=_0x5aa899[_0x54c913(0x230)][_0x54c913(0x207)][_0x54c913(0x1f8)](_0x773dce=>_0x773dce[_0x54c913(0x355)][_0x54c913(0x1f2)]===_0x1dcc7f);return _0x5a1e8c?!![]:![];}else return!![];}catch(_0x4fef28){if(_0x963b78[_0x54c913(0x2a9)](_0x963b78['ZNNjq'],_0x963b78['ZNNjq']))return![];else throw _0x18e5e1;}},exports[a33_0x38ca55(0x1f7)]=async(_0xf27b72,_0x4421e6)=>{const _0x154447=a33_0x38ca55,_0x41c737={};_0x41c737[_0x154447(0x267)]=function(_0x3c6f41,_0x2bb016){return _0x3c6f41!==_0x2bb016;},_0x41c737['qSxWU']=_0x154447(0x2e2),_0x41c737[_0x154447(0x239)]=_0x154447(0x22f),_0x41c737[_0x154447(0x2bb)]=_0x154447(0x258);const _0x462c7e=_0x41c737;if(_0x462c7e[_0x154447(0x267)](_0x4421e6,_0x462c7e[_0x154447(0x21d)])){if(_0x462c7e[_0x154447(0x267)](_0x462c7e['YMJeR'],_0x462c7e[_0x154447(0x239)]))return![];else{const _0x345233={};_0x345233[_0x154447(0x28d)]=_0x462c7e[_0x154447(0x2bb)],_0x345233[_0x154447(0x346)]=_0x462c7e[_0x154447(0x2bb)];const _0x5899dd={};_0x5899dd['name']=_0x4421e6,_0x5899dd['annotations']=_0x345233;const _0x155c30={};_0x155c30['metadata']=_0x5899dd;const _0x5c262a=_0x155c30,_0x934a56={};_0x934a56[_0x154447(0x230)]=_0x5c262a,await _0xf27b72['createNamespace'](_0x934a56),logger['info'](_0x154447(0x2c4)+_0x4421e6);}}},exports[a33_0x38ca55(0x224)]=async(_0x17f6c6,_0xc0082c)=>{const _0x236968=a33_0x38ca55,_0x154bef={};_0x154bef[_0x236968(0x234)]=function(_0x39fb06,_0x27ab44){return _0x39fb06===_0x27ab44;},_0x154bef[_0x236968(0x223)]=_0x236968(0x2c7),_0x154bef[_0x236968(0x2b3)]=function(_0x10795a,_0x51abf9){return _0x10795a!==_0x51abf9;},_0x154bef[_0x236968(0x2d5)]=_0x236968(0x287),_0x154bef[_0x236968(0x362)]=_0x236968(0x2fd),_0x154bef[_0x236968(0x363)]=function(_0x21224e,_0x5e8ef1){return _0x21224e!==_0x5e8ef1;},_0x154bef[_0x236968(0x23d)]=_0x236968(0x2c2),_0x154bef[_0x236968(0x315)]=_0x236968(0x32e);const _0x47fb63=_0x154bef;try{if(_0x47fb63[_0x236968(0x2b3)](_0x47fb63[_0x236968(0x2d5)],_0x47fb63['GLLRp'])){const _0xa9429b={};_0xa9429b['name']=_0xc0082c;const _0x16e957=await _0x17f6c6[_0x236968(0x2ac)](_0xa9429b),_0x2e4b7b=_0x16e957?.['metadata']?.[_0x236968(0x34b)];return _0x2e4b7b;}else{const _0x12ae49={};_0x12ae49[_0x236968(0x21e)]=''+_0x29d3b3[_0x236968(0x261)];const _0x3ff984={'annotations':_0x12ae49,..._0x3c2616[_0x236968(0x355)]};_0x26d4d5[_0x236968(0x355)]=_0x3ff984;}}catch(_0x42026f){if(_0x47fb63[_0x236968(0x363)](_0x47fb63[_0x236968(0x23d)],_0x47fb63[_0x236968(0x23d)])){if(_0x47fb63['APPSD'](_0x20e6d3[_0x394721]['metadata'][_0x236968(0x1f2)],_0x47fb63[_0x236968(0x223)]))return!![];}else return _0x47fb63[_0x236968(0x315)];}},exports[a33_0x38ca55(0x2b6)]=async(_0x28c921,_0x27755f,_0x5014c6,_0x565b08,_0x2d0392,_0x1e5f6a,_0x11519d,_0xa97f82,_0x2f5564,_0x4864cc={},_0x59064a)=>{const _0x154c5a=a33_0x38ca55,_0x525eb4={'dpQYO':_0x154c5a(0x1e4),'NAfJf':_0x154c5a(0x303),'pDBWl':function(_0x1dc1a9,_0x178e1d){return _0x1dc1a9(_0x178e1d);},'KulRT':'/readyz','VXCRu':_0x154c5a(0x330),'kvhMG':'Adding\x20clusterrolebinding','rlQfC':function(_0x38d515,_0x65b0d2,_0x219654){return _0x38d515(_0x65b0d2,_0x219654);},'VHCDe':'cluster-role-binding.yaml','nApey':'Added\x20clusterrolebinding','nMWAJ':function(_0xa9a539,_0x5303a2){return _0xa9a539!=_0x5303a2;},'PyTQA':function(_0x2bf581,_0x165b36){return _0x2bf581!==_0x165b36;},'kFimM':function(_0x540aa1,_0xb79a35){return _0x540aa1===_0xb79a35;},'ZYdnz':'RYTPM','JeVnk':'uVkio','Rktia':'Adding\x20Autoscaler\x20Components','zleYO':_0x154c5a(0x2b0),'gmRWl':_0x154c5a(0x1dc),'FzRnE':'Adding\x20MetricsServer\x20Components','nigag':_0x154c5a(0x2b8),'tAdWy':function(_0x5c23ac,_0x3777c8){return _0x5c23ac!==_0x3777c8;},'ctGSL':'vktpl','mhpoc':_0x154c5a(0x264),'OEmja':_0x154c5a(0x309),'wdXTI':function(_0x2770ac,_0x135e17,_0x55ac3f,_0x125f87){return _0x2770ac(_0x135e17,_0x55ac3f,_0x125f87);},'tvjEb':_0x154c5a(0x32d),'ZPVLa':_0x154c5a(0x215),'BnQfa':_0x154c5a(0x1f5),'DgSNv':_0x154c5a(0x1e2),'hYOYQ':'default-service-account.yaml','HykDT':'default','uITAR':'Added\x20default\x20service\x20account','DIfor':_0x154c5a(0x1c1),'pUVnX':'browser-node-cluster-role.yaml','aWeLo':'Added\x20browser-node-role\x20cluster\x20role','bLJGO':_0x154c5a(0x31b),'XqaxE':function(_0x26a2f7,_0x424ba5,_0xd32a1f){return _0x26a2f7(_0x424ba5,_0xd32a1f);},'jzGSV':_0x154c5a(0x20f),'KCcaL':_0x154c5a(0x28a),'ciHNe':function(_0xd53413,_0xd695f0){return _0xd53413!==_0xd695f0;},'krRCa':_0x154c5a(0x319),'BrWhH':_0x154c5a(0x2b4),'FKVck':_0x154c5a(0x28c),'egJtH':_0x154c5a(0x290),'SuIyi':_0x154c5a(0x339),'hxNeU':_0x154c5a(0x312),'XQUmG':_0x154c5a(0x291),'VrPcr':_0x154c5a(0x313),'yRsOs':_0x154c5a(0x345),'EDOWi':_0x154c5a(0x1d6),'gtyBU':function(_0x29a8b6,_0x45e309,_0x354248){return _0x29a8b6(_0x45e309,_0x354248);},'ymYeE':_0x154c5a(0x2bd),'NPWtP':_0x154c5a(0x2ed),'zGBHG':_0x154c5a(0x2a1),'OHpqH':_0x154c5a(0x2dc),'ShmkQ':_0x154c5a(0x1de),'KZtFS':_0x154c5a(0x361),'RDcPj':'private-pods-and-services.yaml','OPWor':_0x154c5a(0x335),'Wjfhl':_0x154c5a(0x26f),'xumlw':_0x154c5a(0x300),'yeFuY':_0x154c5a(0x1c0),'bqCEH':function(_0x33e5b5,_0x474935,_0x3eb3e1){return _0x33e5b5(_0x474935,_0x3eb3e1);},'uuGpf':'Adding\x20VPC\x20CNI\x20CM','vfyXs':'cert-manager','vieBc':'11|12|10|13|1|18|3|15|0|6|17|5|4|8|16|2|7|9|14','kprMA':function(_0x582136,_0x28e684,_0x458aea){return _0x582136(_0x28e684,_0x458aea);},'SjJoz':'Added\x20Cert\x20Manager\x20CRDs','GXAWe':_0x154c5a(0x251),'AwBAh':'cert-manager.yaml','UOvvZ':function(_0xd08e9e,_0x303bd5,_0x44069d,_0x539995,_0x36c7bf){return _0xd08e9e(_0x303bd5,_0x44069d,_0x539995,_0x36c7bf);},'liDzz':_0x154c5a(0x257),'YisXs':function(_0x16170d,_0x435e74,_0x3ac0c0,_0x42cf2,_0x24a6a2){return _0x16170d(_0x435e74,_0x3ac0c0,_0x42cf2,_0x24a6a2);},'KRIaX':_0x154c5a(0x22b),'fKVHc':_0x154c5a(0x359),'VjeGh':function(_0x3c8c36,_0x393190,_0x26299e,_0x18f8e9,_0x11b626){return _0x3c8c36(_0x393190,_0x26299e,_0x18f8e9,_0x11b626);},'QVnwU':_0x154c5a(0x272),'dCCJS':_0x154c5a(0x2c5),'uKPla':'Added\x20Cert\x20Issuer','slDEP':_0x154c5a(0x25e),'fQYin':_0x154c5a(0x305),'gVefc':_0x154c5a(0x344),'VhfBy':_0x154c5a(0x35d),'qIELq':_0x154c5a(0x24a),'LXBYQ':_0x154c5a(0x1e3),'pkxGx':_0x154c5a(0x2e9),'hvoQH':_0x154c5a(0x369),'ltstT':_0x154c5a(0x229),'XwDan':_0x154c5a(0x247),'mowwq':_0x154c5a(0x295),'xicsC':_0x154c5a(0x35a),'EkwXb':_0x154c5a(0x306),'cgBtx':_0x154c5a(0x365),'CotoZ':function(_0x3fcad2,_0x1e8d9b){return _0x3fcad2(_0x1e8d9b);},'ffeXu':function(_0x240245,_0x3e205d){return _0x240245(_0x3e205d);},'SbdkI':function(_0x57e2ac,_0xa649e3,_0x33451f){return _0x57e2ac(_0xa649e3,_0x33451f);},'iOHvx':_0x154c5a(0x24e),'zwgbj':_0x154c5a(0x25f),'RNxbx':function(_0x358114,_0x29053d,_0x18902e){return _0x358114(_0x29053d,_0x18902e);},'lVSGG':_0x154c5a(0x323),'XDZOP':'Added\x20hubdeployment','JEYtK':_0x154c5a(0x337),'JEmvh':_0x154c5a(0x1e8),'wonFr':'private-ingress-nginx-controller','zYykG':'ingress.yaml','Nitbu':'nginx-private','MIUho':function(_0x2de425,_0x39d1ca,_0x2143fa){return _0x2de425(_0x39d1ca,_0x2143fa);},'YxsHR':_0x154c5a(0x202),'wXXLe':function(_0x324cc1,_0x3b365b){return _0x324cc1(_0x3b365b);}};let _0xf6fab3=null,_0x1c4a43=null;logger['info'](_0x525eb4[_0x154c5a(0x325)]),_0xf6fab3=await _0x525eb4[_0x154c5a(0x276)](applyTemplate,_0x525eb4[_0x154c5a(0x349)],_0x2d0392);const _0x58478e={};_0x58478e[_0x154c5a(0x230)]=_0xf6fab3,await _0x565b08[_0x154c5a(0x296)](_0x58478e),logger['info'](_0x525eb4['nApey']);_0x525eb4[_0x154c5a(0x218)](_0x11519d,null)&&_0x525eb4[_0x154c5a(0x31e)](_0x11519d,undefined)&&(_0x525eb4[_0x154c5a(0x23e)](_0x525eb4['ZYdnz'],_0x525eb4[_0x154c5a(0x33b)])?_0x88fedb=_0xd5390d[_0x154c5a(0x1fa)](/<GridProfileID>/g,_0x2db10d[_0x154c5a(0x30f)]):(logger['info'](_0x525eb4['Rktia']),await this[_0x154c5a(0x31a)](_0x28c921,_0x27755f,_0x5014c6,_0x565b08,_0x2d0392,_0x1e5f6a,_0x11519d),logger[_0x154c5a(0x332)](_0x525eb4['zleYO'])));const _0x56e801=await this['metricsServerServiceExists'](_0x28c921);if(!_0x56e801){if(_0x525eb4[_0x154c5a(0x31e)](_0x525eb4[_0x154c5a(0x222)],_0x525eb4[_0x154c5a(0x222)])){const _0x18f706={'azure.workload.identity/use':_0x525eb4[_0x154c5a(0x2b7)],..._0x58e76f[_0x154c5a(0x1cf)]['template'][_0x154c5a(0x355)][_0x154c5a(0x254)]};_0x2c73ba[_0x154c5a(0x1cf)]['template']['metadata'][_0x154c5a(0x254)]=_0x18f706;}else logger[_0x154c5a(0x332)](_0x525eb4[_0x154c5a(0x354)]),await this['addMetricServerComponents'](_0x28c921,_0x27755f,_0x565b08,_0xa97f82),logger[_0x154c5a(0x332)](_0x525eb4['nigag']);}try{if(_0x525eb4['tAdWy'](_0x525eb4[_0x154c5a(0x2be)],_0x525eb4[_0x154c5a(0x299)])){logger['info'](_0x525eb4[_0x154c5a(0x23a)]),_0xf6fab3=await _0x525eb4[_0x154c5a(0x1c5)](applyTemplate,_0x525eb4['tvjEb'],_0x2d0392,_0x4864cc);const _0x4b0002={};_0x4b0002[_0x154c5a(0x214)]=_0x2d0392,_0x4b0002[_0x154c5a(0x230)]=_0xf6fab3,await _0x28c921[_0x154c5a(0x322)](_0x4b0002),logger['info'](_0x525eb4['ZPVLa']);if(_0x525eb4[_0x154c5a(0x23e)](global_registry[_0x154c5a(0x2ec)],AZURE)){if(_0x525eb4[_0x154c5a(0x31e)](_0x525eb4[_0x154c5a(0x352)],_0x525eb4[_0x154c5a(0x352)]))_0x1a4046=_0x525eb4[_0x154c5a(0x217)];else{logger[_0x154c5a(0x332)](_0x525eb4['DgSNv']),_0xf6fab3=await _0x525eb4[_0x154c5a(0x1c5)](applyTemplate,_0x525eb4[_0x154c5a(0x35f)],_0x2d0392,_0x4864cc);const _0x1ee019={};_0x1ee019['name']=_0x525eb4[_0x154c5a(0x2ae)],_0x1ee019[_0x154c5a(0x214)]=_0x2d0392,_0x1ee019['body']=_0xf6fab3,await _0x28c921[_0x154c5a(0x342)](_0x1ee019),logger[_0x154c5a(0x332)](_0x525eb4[_0x154c5a(0x255)]);}}logger[_0x154c5a(0x332)](_0x525eb4['DIfor']),_0xf6fab3=await _0x525eb4[_0x154c5a(0x276)](applyTemplate,_0x525eb4[_0x154c5a(0x25a)],_0x2d0392);const _0x50afc2={};_0x50afc2['body']=_0xf6fab3,await _0x565b08[_0x154c5a(0x34f)](_0x50afc2),logger['info'](_0x525eb4[_0x154c5a(0x1e0)]),logger[_0x154c5a(0x332)](_0x525eb4[_0x154c5a(0x2f0)]),_0xf6fab3=await _0x525eb4[_0x154c5a(0x2b2)](applyTemplate,_0x525eb4[_0x154c5a(0x35e)],_0x2d0392);const _0x765121={};_0x765121[_0x154c5a(0x230)]=_0xf6fab3,await _0x565b08[_0x154c5a(0x296)](_0x765121),logger[_0x154c5a(0x332)](_0x525eb4[_0x154c5a(0x1ce)]);}else _0x893ee3=_0x4aa02f['replace'](/<RedisClientPassword>/g,_0x525eb4[_0x154c5a(0x356)](_0x3cea4c,_0x4084bd[_0x154c5a(0x328)])),_0x1f29e5=_0x520f61['replace'](/<KafkaClientPassword>/g,_0x525eb4[_0x154c5a(0x356)](_0x212caa,_0xffb3b3[_0x154c5a(0x33a)]));}catch(_0x39afb6){if(_0x525eb4[_0x154c5a(0x23e)](_0x39afb6[_0x154c5a(0x269)],0x199)||_0x525eb4[_0x154c5a(0x23e)](_0x39afb6[_0x154c5a(0x2a4)],0x199))_0x525eb4[_0x154c5a(0x317)](_0x525eb4[_0x154c5a(0x31c)],_0x525eb4[_0x154c5a(0x246)])?logger[_0x154c5a(0x208)](_0x39afb6[_0x154c5a(0x1d7)]):(_0x5028cf=_0x2ea008['replace'](/<ReadinessProbePath>/g,_0x525eb4['KulRT']),_0x33c740=_0x9a662d[_0x154c5a(0x1fa)](/<EnableHubHa>/g,_0x525eb4[_0x154c5a(0x200)]),_0x2346c5=_0x19d9f5['replace'](/<HubHaNameSpace>/g,''));else throw _0x39afb6;}const _0x5c42cb=await this[_0x154c5a(0x2fb)](_0x28c921,_0x525eb4['FKVck']);if(!_0x5c42cb){const _0x247156=_0x525eb4[_0x154c5a(0x20b)][_0x154c5a(0x2fa)]('|');let _0x57b22a=0x0;while(!![]){switch(_0x247156[_0x57b22a++]){case'0':_0xf6fab3=yaml[_0x154c5a(0x28f)](_0x1c4a43);continue;case'1':logger[_0x154c5a(0x332)](_0x525eb4[_0x154c5a(0x29e)]);continue;case'2':_0x1c4a43=await fs[_0x154c5a(0x2db)](path[_0x154c5a(0x2ab)](__dirname,'..',_0x525eb4[_0x154c5a(0x1e7)],_0x525eb4[_0x154c5a(0x308)],_0x525eb4[_0x154c5a(0x326)]),_0x525eb4[_0x154c5a(0x304)]);continue;case'3':_0x1c4a43=await fs[_0x154c5a(0x2db)](path[_0x154c5a(0x2ab)](__dirname,'..',_0x525eb4[_0x154c5a(0x1e7)],_0x525eb4[_0x154c5a(0x308)],_0x525eb4[_0x154c5a(0x314)]),_0x525eb4['yRsOs']);continue;case'4':await _0x525eb4[_0x154c5a(0x2b2)](kubeApply,_0xf6fab3,_0x2f5564);continue;case'5':await _0x525eb4[_0x154c5a(0x2f2)](kubeApply,_0xf6fab3,_0x2f5564);continue;case'6':logger[_0x154c5a(0x332)](_0x525eb4[_0x154c5a(0x26c)]);continue;case'7':_0xf6fab3=yaml[_0x154c5a(0x28f)](_0x1c4a43);continue;case'8':logger[_0x154c5a(0x332)](_0x525eb4[_0x154c5a(0x249)]);continue;case'9':logger[_0x154c5a(0x332)](_0x525eb4['zGBHG']);continue;}break;}}if(global_registry['isPrivateGrid']){logger['info'](_0x525eb4[_0x154c5a(0x30c)]);let _0x12db0a;if(_0x525eb4[_0x154c5a(0x23e)](global_registry[_0x154c5a(0x2ec)],AZURE))_0x12db0a=_0x525eb4[_0x154c5a(0x318)];else _0x525eb4[_0x154c5a(0x23e)](global_registry[_0x154c5a(0x2ec)],GCP)?_0x12db0a=_0x525eb4[_0x154c5a(0x2de)]:_0x12db0a=_0x525eb4[_0x154c5a(0x217)];_0x1c4a43=await fs['readFileAsync'](path['join'](__dirname,'..',_0x525eb4['hxNeU'],_0x525eb4[_0x154c5a(0x308)],_0x525eb4[_0x154c5a(0x260)]),_0x525eb4['yRsOs']),_0x1c4a43=_0x1c4a43[_0x154c5a(0x1fa)](/<InternalLoadBalancerAnnotations>/g,_0x12db0a),_0xf6fab3=yaml[_0x154c5a(0x28f)](_0x1c4a43),await _0x525eb4[_0x154c5a(0x276)](kubeApply,_0xf6fab3,_0x2f5564),logger[_0x154c5a(0x332)](_0x525eb4[_0x154c5a(0x32f)]);}if(global_registry[_0x154c5a(0x2f1)]){const _0x28aa8e=_0x525eb4['Wjfhl'][_0x154c5a(0x2fa)]('|');let _0x4116c3=0x0;while(!![]){switch(_0x28aa8e[_0x4116c3++]){case'0':_0x1c4a43=await fs[_0x154c5a(0x2db)](path['join'](__dirname,'..',_0x525eb4['hxNeU'],_0x525eb4['xumlw']),_0x525eb4[_0x154c5a(0x304)]);continue;case'1':_0xf6fab3=yaml[_0x154c5a(0x28f)](_0x1c4a43);continue;case'2':logger['info'](_0x525eb4['yeFuY']);continue;case'3':await _0x525eb4[_0x154c5a(0x23b)](kubeApply,_0xf6fab3,_0x2f5564);continue;case'4':logger[_0x154c5a(0x332)](_0x525eb4['uuGpf']);continue;}break;}}const _0x16fcf9=await this[_0x154c5a(0x2fb)](_0x28c921,_0x525eb4[_0x154c5a(0x1e5)]);if(!_0x16fcf9){const _0x5eb2fe=_0x525eb4[_0x154c5a(0x2dd)]['split']('|');let _0x16f86f=0x0;while(!![]){switch(_0x5eb2fe[_0x16f86f++]){case'0':await _0x525eb4[_0x154c5a(0x2bf)](kubeApply,_0xf6fab3,_0x2f5564);continue;case'1':logger[_0x154c5a(0x332)](_0x525eb4[_0x154c5a(0x1fd)]);continue;case'2':_0x1c4a43=await fs[_0x154c5a(0x2db)](path[_0x154c5a(0x2ab)](__dirname,'..',_0x525eb4[_0x154c5a(0x1e7)],_0x525eb4['vfyXs'],_0x525eb4[_0x154c5a(0x281)]),_0x525eb4['yRsOs']);continue;case'3':_0x1c4a43=await fs[_0x154c5a(0x2db)](path[_0x154c5a(0x2ab)](__dirname,'..',_0x525eb4[_0x154c5a(0x1e7)],_0x525eb4[_0x154c5a(0x1e5)],_0x525eb4[_0x154c5a(0x227)]),_0x525eb4[_0x154c5a(0x304)]);continue;case'4':await _0x525eb4[_0x154c5a(0x2e8)](waitForDeployment,_0x27755f,_0x525eb4[_0x154c5a(0x1e5)],_0x525eb4['liDzz'],0x7530);continue;case'5':await _0x525eb4[_0x154c5a(0x28b)](waitForDeployment,_0x27755f,_0x525eb4[_0x154c5a(0x1e5)],_0x525eb4[_0x154c5a(0x2d9)],0x7530);continue;case'6':logger[_0x154c5a(0x332)](_0x525eb4[_0x154c5a(0x293)]);continue;case'7':_0xf6fab3=yaml[_0x154c5a(0x28f)](_0x1c4a43);continue;case'8':await _0x525eb4[_0x154c5a(0x1c3)](waitForDeployment,_0x27755f,_0x525eb4['vfyXs'],_0x525eb4[_0x154c5a(0x1e5)],0x7530);continue;case'9':await _0x525eb4[_0x154c5a(0x2f2)](kubeApply,_0xf6fab3,_0x2f5564);continue;case'10':_0xf6fab3=yaml['loadAll'](_0x1c4a43);continue;case'11':logger['info'](_0x525eb4[_0x154c5a(0x1d9)]);continue;case'12':_0x1c4a43=await fs[_0x154c5a(0x2db)](path['join'](__dirname,'..',_0x525eb4[_0x154c5a(0x1e7)],_0x525eb4[_0x154c5a(0x1e5)],_0x525eb4[_0x154c5a(0x270)]),_0x525eb4[_0x154c5a(0x304)]);continue;case'13':await _0x525eb4[_0x154c5a(0x276)](kubeApply,_0xf6fab3,_0x2f5564);continue;case'14':logger[_0x154c5a(0x332)](_0x525eb4[_0x154c5a(0x311)]);continue;case'15':_0xf6fab3=yaml[_0x154c5a(0x28f)](_0x1c4a43);continue;case'16':logger[_0x154c5a(0x332)](_0x525eb4['slDEP']);continue;case'17':logger[_0x154c5a(0x332)](_0x525eb4[_0x154c5a(0x324)]);continue;case'18':logger[_0x154c5a(0x332)](_0x525eb4[_0x154c5a(0x1db)]);continue;}break;}}const _0x32d13e=await this[_0x154c5a(0x2fb)](_0x28c921,_0x525eb4[_0x154c5a(0x1bf)]);!_0x32d13e&&await this[_0x154c5a(0x1f7)](_0x28c921,_0x525eb4[_0x154c5a(0x1bf)]);const _0x2a9bc5=await this['deploymentExists'](_0x28c921,_0x525eb4[_0x154c5a(0x1bf)],_0x525eb4[_0x154c5a(0x289)]);if(!_0x2a9bc5){const _0x3e1b58=_0x525eb4[_0x154c5a(0x2cf)][_0x154c5a(0x2fa)]('|');let _0xa1cbcf=0x0;while(!![]){switch(_0x3e1b58[_0xa1cbcf++]){case'0':await _0x525eb4[_0x154c5a(0x2b2)](kubeApply,_0xf6fab3,_0x2f5564);continue;case'1':logger['info'](_0x525eb4['pkxGx']);continue;case'2':_0x1c4a43=_0x1c4a43[_0x154c5a(0x1fa)](/<BstackAccessKey>/g,global_registry[_0x154c5a(0x2ee)]);continue;case'3':_0xf6fab3=yaml[_0x154c5a(0x28f)](_0x1c4a43);continue;case'4':_0x1c4a43=await fs[_0x154c5a(0x2db)](path[_0x154c5a(0x2ab)](__dirname,'..',_0x525eb4[_0x154c5a(0x1e7)],_0x525eb4[_0x154c5a(0x1e9)]),_0x525eb4['yRsOs']);continue;case'5':_0x1c4a43=_0x1c4a43[_0x154c5a(0x1fa)](/<BstackURL>/g,AG_API_URL);continue;case'6':_0x1c4a43=_0x1c4a43['replace'](/<BstackUsername>/g,global_registry[_0x154c5a(0x21f)]);continue;case'7':logger[_0x154c5a(0x332)](_0x525eb4[_0x154c5a(0x2b9)]);continue;}break;}}logger[_0x154c5a(0x332)](_0x525eb4[_0x154c5a(0x302)]),_0xf6fab3=await _0x525eb4['gtyBU'](applyTemplate,_0x525eb4[_0x154c5a(0x288)],_0x2d0392);const _0xc84cae={};_0xc84cae[_0x154c5a(0x214)]=_0x2d0392,_0xc84cae[_0x154c5a(0x230)]=_0xf6fab3,await _0x28c921[_0x154c5a(0x338)](_0xc84cae),logger[_0x154c5a(0x332)](_0x525eb4[_0x154c5a(0x232)]),logger[_0x154c5a(0x332)](_0x525eb4[_0x154c5a(0x231)]);let _0x37a4a2=await fs[_0x154c5a(0x2db)](path['join'](__dirname,'..',_0x525eb4[_0x154c5a(0x1e7)],_0x525eb4['cgBtx']),_0x525eb4[_0x154c5a(0x304)]);_0x37a4a2=_0x37a4a2[_0x154c5a(0x1fa)](/<GridNamespace>/g,_0x2d0392),_0x37a4a2=_0x37a4a2[_0x154c5a(0x1fa)](/<BstackUsername>/g,_0x525eb4[_0x154c5a(0x356)](encodeBase64,global_registry[_0x154c5a(0x21f)])),_0x37a4a2=_0x37a4a2[_0x154c5a(0x1fa)](/<BstackAccessKey>/g,_0x525eb4['CotoZ'](encodeBase64,global_registry[_0x154c5a(0x2ee)]));global_registry[_0x154c5a(0x283)]?(_0x37a4a2=_0x37a4a2[_0x154c5a(0x1fa)](/<RedisClientPassword>/g,_0x525eb4[_0x154c5a(0x35c)](encodeBase64,global_registry[_0x154c5a(0x328)])),_0x37a4a2=_0x37a4a2[_0x154c5a(0x1fa)](/<KafkaClientPassword>/g,_0x525eb4['pDBWl'](encodeBase64,global_registry[_0x154c5a(0x33a)]))):(_0x37a4a2=_0x37a4a2[_0x154c5a(0x1fa)](/<KafkaClientPassword>/g,''),_0x37a4a2=_0x37a4a2[_0x154c5a(0x1fa)](/<RedisClientPassword>/g,''));const _0x314272=yaml[_0x154c5a(0x28f)](_0x37a4a2);await _0x525eb4[_0x154c5a(0x333)](kubeApply,_0x314272,_0x2f5564),logger[_0x154c5a(0x332)](_0x525eb4[_0x154c5a(0x2b5)]),logger[_0x154c5a(0x332)](_0x525eb4['zwgbj']),_0xf6fab3=await _0x525eb4[_0x154c5a(0x2d1)](applyTemplate,_0x525eb4[_0x154c5a(0x1cc)],_0x2d0392);const _0xbbb8bc={};_0xbbb8bc[_0x154c5a(0x214)]=_0x2d0392,_0xbbb8bc[_0x154c5a(0x230)]=_0xf6fab3,await _0x27755f['createNamespacedDeployment'](_0xbbb8bc),logger[_0x154c5a(0x332)](_0x525eb4[_0x154c5a(0x1c7)]),logger[_0x154c5a(0x332)](_0x525eb4[_0x154c5a(0x2b1)]),await _0x525eb4[_0x154c5a(0x2e8)](waitForDeployment,_0x27755f,_0x525eb4[_0x154c5a(0x253)],_0x525eb4[_0x154c5a(0x2eb)],0xea60);global_registry['isPrivateGrid']&&await _0x525eb4['UOvvZ'](waitForDeployment,_0x27755f,_0x525eb4[_0x154c5a(0x253)],_0x525eb4[_0x154c5a(0x22e)],0xea60);_0x1c4a43=await fs['readFileAsync'](path['join'](__dirname,'..',_0x525eb4[_0x154c5a(0x1e7)],_0x525eb4[_0x154c5a(0x2e1)]),_0x525eb4[_0x154c5a(0x304)]);const _0x1b399f=global_registry[_0x154c5a(0x2d7)]?_0x525eb4[_0x154c5a(0x2af)]:_0x525eb4['XQUmG'];_0x1c4a43=_0x1c4a43[_0x154c5a(0x1fa)](/<GridNamespace>/g,_0x2d0392),_0x1c4a43=_0x1c4a43[_0x154c5a(0x1fa)](/<NginxIngressClass>/g,_0x1b399f),_0xf6fab3=yaml[_0x154c5a(0x28f)](_0x1c4a43),await _0x525eb4[_0x154c5a(0x34a)](kubeApply,_0xf6fab3,_0x2f5564),logger[_0x154c5a(0x332)](_0x525eb4[_0x154c5a(0x2c0)]),await _0x525eb4['wXXLe'](delay,0x1388);},exports[a33_0x38ca55(0x32a)]=async(_0x505290,_0x101974,_0x5cc99d,_0x4008bf,_0x3c1044)=>{const _0x4db555=a33_0x38ca55,_0xf8b67d={'CyIdO':_0x4db555(0x340),'qDfWa':_0x4db555(0x2fc),'KqzJL':_0x4db555(0x2da),'gnjSN':_0x4db555(0x31d),'jrChO':function(_0x371fc5,_0x1ca626){return _0x371fc5(_0x1ca626);},'nvkQm':_0x4db555(0x209)},_0x1f36bb=_0xf8b67d['CyIdO']['split']('|');let _0x1c591a=0x0;while(!![]){switch(_0x1f36bb[_0x1c591a++]){case'0':const _0x5b19a4={};_0x5b19a4[_0x4db555(0x1f2)]=_0x3c1044,await _0x505290['deleteNamespace'](_0x5b19a4);continue;case'1':const _0xab4c62={};_0xab4c62[_0x4db555(0x1f2)]=_0x4db555(0x364)+_0x3c1044,await _0x4008bf[_0x4db555(0x1d8)](_0xab4c62);continue;case'2':logger[_0x4db555(0x332)](_0xf8b67d[_0x4db555(0x235)]);continue;case'3':logger[_0x4db555(0x332)](_0xf8b67d[_0x4db555(0x22d)]);continue;case'4':logger[_0x4db555(0x332)](_0xf8b67d[_0x4db555(0x26a)]);continue;case'5':await _0xf8b67d['jrChO'](delay,0x2710);continue;case'6':logger[_0x4db555(0x332)](_0xf8b67d[_0x4db555(0x1dd)]);continue;}break;}},exports['deleteAgent']=async _0x4b656f=>{const _0x46160d=a33_0x38ca55,_0x124970={};_0x124970[_0x46160d(0x236)]=_0x46160d(0x35d),_0x124970['zXuVN']=_0x46160d(0x298),_0x124970[_0x46160d(0x242)]=_0x46160d(0x1bd);const _0x5e663=_0x124970,_0x212d23=await this[_0x46160d(0x2fb)](_0x4b656f,_0x5e663[_0x46160d(0x236)]);if(_0x212d23){logger[_0x46160d(0x332)](_0x5e663['zXuVN']);const _0xef53b8={};_0xef53b8['name']=_0x5e663['ttZjp'],await _0x4b656f[_0x46160d(0x2fe)](_0xef53b8),logger[_0x46160d(0x332)](_0x5e663[_0x46160d(0x242)]);}},exports[a33_0x38ca55(0x33e)]=async _0x4ce578=>{const _0x4ed706=a33_0x38ca55,_0x497f76={'dofJX':_0x4ed706(0x28c),'JHjmY':'Deleting\x20ingress-nginx','pFOkO':_0x4ed706(0x2d3),'NAbCV':function(_0x26c923,_0x9c7c18){return _0x26c923(_0x9c7c18);},'NkAlG':'cert-manager','xmGIX':_0x4ed706(0x30b),'UsWcR':_0x4ed706(0x278)},_0x3762ef=await this[_0x4ed706(0x2fb)](_0x4ce578,_0x497f76[_0x4ed706(0x213)]);if(_0x3762ef){logger[_0x4ed706(0x332)](_0x497f76[_0x4ed706(0x245)]);const _0x34abd2={};_0x34abd2[_0x4ed706(0x1f2)]=_0x497f76[_0x4ed706(0x213)],await _0x4ce578['deleteNamespace'](_0x34abd2),logger[_0x4ed706(0x332)](_0x497f76['pFOkO']);}await _0x497f76[_0x4ed706(0x1c2)](delay,0x124f8);const _0x5f532c=await this[_0x4ed706(0x2fb)](_0x4ce578,_0x497f76['NkAlG']);if(_0x5f532c){logger[_0x4ed706(0x332)](_0x497f76[_0x4ed706(0x1df)]);const _0x1faadc={};_0x1faadc[_0x4ed706(0x1f2)]=_0x497f76[_0x4ed706(0x1f6)],await _0x4ce578[_0x4ed706(0x2fe)](_0x1faadc),logger[_0x4ed706(0x332)](_0x497f76['UsWcR']);}await _0x497f76[_0x4ed706(0x1c2)](delay,0xafc8);},exports['deleteClusterAndDependencies']=async(_0x42ae81,_0xafc242)=>{const _0x2c7eab=a33_0x38ca55,_0x35006d={'AhgIh':function(_0x127cf7,_0x9db1f6){return _0x127cf7(_0x9db1f6);},'TujoW':function(_0x4536eb,_0x2a8376){return _0x4536eb>_0x2a8376;},'GcNll':function(_0x5e3364,_0x46113e){return _0x5e3364===_0x46113e;},'BfGgN':function(_0x296f71,_0x18536b){return _0x296f71===_0x18536b;},'yXcsf':function(_0x554531,_0x5616bd){return _0x554531(_0x5616bd);},'BacWS':function(_0xf8fe3,_0xd9bea7){return _0xf8fe3(_0xd9bea7);},'YrIhk':_0x2c7eab(0x2c9)},_0x4f1d31=[CLUSTER_DEP_STACK_NAME+'-'+_0xafc242,CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0xafc242,CLUSTER_HUB_HA_STACK_NAME+'-'+_0xafc242+_0x2c7eab(0x2e6)],_0x355fdb=_0x4f1d31[_0x2c7eab(0x1fb)](async _0x1f9606=>{const _0x39d2a7=_0x2c7eab;try{const _0x32e5c1=await _0x35006d[_0x39d2a7(0x23f)](describeClusterStack,_0x1f9606);_0x32e5c1['Stacks']&&_0x35006d['TujoW'](_0x32e5c1[_0x39d2a7(0x256)][_0x39d2a7(0x21a)],0x0)&&_0x35006d[_0x39d2a7(0x329)](_0x32e5c1['Stacks'][0x0][_0x39d2a7(0x2f3)],_0x1f9606)&&(logger[_0x39d2a7(0x332)](_0x39d2a7(0x348)+_0x1f9606+_0x39d2a7(0x2e3)+_0x42ae81),_0x35006d[_0x39d2a7(0x1f3)](_0x32e5c1[_0x39d2a7(0x256)][0x0][_0x39d2a7(0x2f3)],CLUSTER_HUB_HA_STACK_NAME+'-'+_0xafc242+_0x39d2a7(0x2e6))&&(await _0x35006d['AhgIh'](deleteEFSMountTarget,_0x32e5c1[_0x39d2a7(0x256)][0x0][_0x39d2a7(0x331)]),await _0x35006d[_0x39d2a7(0x1e1)](delay,0x1d4c0)),await _0x35006d[_0x39d2a7(0x2a5)](deleteClusterStack,_0x1f9606));}catch(_0x336d67){logger[_0x39d2a7(0x27c)]('Error\x20deleting\x20stack\x20'+_0x1f9606+':',_0x336d67[_0x39d2a7(0x1d7)]);}});await Promise[_0x2c7eab(0x2f4)](_0x355fdb),logger[_0x2c7eab(0x332)](_0x35006d[_0x2c7eab(0x343)]);},exports[a33_0x38ca55(0x280)]=async(_0x4ad0fc,_0x34523d)=>{const _0x3cb4ae=a33_0x38ca55,_0x4192ae={};_0x4192ae[_0x3cb4ae(0x1d1)]=_0x3cb4ae(0x2cb),_0x4192ae[_0x3cb4ae(0x2a8)]='Scaled\x20up\x20deployment';const _0x13d04c=_0x4192ae;logger['info'](_0x13d04c[_0x3cb4ae(0x1d1)]);const _0x1b1929={};_0x1b1929[_0x3cb4ae(0x1f2)]=TURBOSCALE_DEPLOYMENT,_0x1b1929['namespace']=_0x34523d;const _0x2854fc=await _0x4ad0fc[_0x3cb4ae(0x2cd)](_0x1b1929);_0x2854fc[_0x3cb4ae(0x1cf)]['replicas']=0x1;const _0x1f755b={};_0x1f755b[_0x3cb4ae(0x1f2)]=TURBOSCALE_DEPLOYMENT,_0x1f755b[_0x3cb4ae(0x214)]=_0x34523d,_0x1f755b[_0x3cb4ae(0x230)]=_0x2854fc,await _0x4ad0fc[_0x3cb4ae(0x27b)](_0x1f755b),logger[_0x3cb4ae(0x332)](_0x13d04c[_0x3cb4ae(0x2a8)]);},exports[a33_0x38ca55(0x2ef)]=async(_0x55166b,_0x5152f3)=>{const _0x2131eb=a33_0x38ca55,_0x1a4670={};_0x1a4670[_0x2131eb(0x35b)]=_0x2131eb(0x2bc),_0x1a4670[_0x2131eb(0x2df)]=_0x2131eb(0x219);const _0x3dd0ee=_0x1a4670;logger[_0x2131eb(0x332)](_0x3dd0ee[_0x2131eb(0x35b)]);const _0x1210b4={};_0x1210b4[_0x2131eb(0x1f2)]=TURBOSCALE_DEPLOYMENT,_0x1210b4[_0x2131eb(0x214)]=_0x5152f3;const _0x3523a8=await _0x55166b[_0x2131eb(0x2cd)](_0x1210b4);_0x3523a8[_0x2131eb(0x1cf)][_0x2131eb(0x201)]=0x0;const _0x2ac88c={};_0x2ac88c[_0x2131eb(0x1f2)]=TURBOSCALE_DEPLOYMENT,_0x2ac88c['namespace']=_0x5152f3,_0x2ac88c['body']=_0x3523a8,await _0x55166b['replaceNamespacedDeployment'](_0x2ac88c),logger['info'](_0x3dd0ee['IzqvH']);};