const a33_0x2297ed=a33_0x4026;(function(_0x339b5d,_0x2a1969){const _0x465ad4=a33_0x4026,_0x29b3ba=_0x339b5d();while(!![]){try{const _0x4b02ba=-parseInt(_0x465ad4(0x1bd))/0x1+parseInt(_0x465ad4(0x104))/0x2*(-parseInt(_0x465ad4(0xce))/0x3)+parseInt(_0x465ad4(0x1bc))/0x4*(parseInt(_0x465ad4(0x16e))/0x5)+-parseInt(_0x465ad4(0x183))/0x6+-parseInt(_0x465ad4(0x1fd))/0x7+-parseInt(_0x465ad4(0x1e1))/0x8*(parseInt(_0x465ad4(0x8d))/0x9)+parseInt(_0x465ad4(0x1fb))/0xa;if(_0x4b02ba===_0x2a1969)break;else _0x29b3ba['push'](_0x29b3ba['shift']());}catch(_0x51917d){_0x29b3ba['push'](_0x29b3ba['shift']());}}}(a33_0x5151,0x3cd5a));const fs=require('fs'),yaml=require(a33_0x2297ed(0x9a)),path=require('path'),{v4:uuidv4}=require('uuid'),{logger}=require('../config/logger'),{AG_API_URL,global_registry,CLUSTER_DEP_STACK_NAME,CLUSTER_AUTOSCALER_STACK_NAME,CLUSTER_HUB_HA_STACK_NAME,AZURE,GCP,TURBOSCALE_DEPLOYMENT}=require(a33_0x2297ed(0x9b)),{deleteClusterStack}=require('./deleteStack'),{kubeApply,waitForDeployment,encodeBase64}=require(a33_0x2297ed(0x107)),{delay}=require('../utils/webSocketUtils'),{describeClusterStack}=require('./describeStack'),{deleteEFSMountTarget}=require('./deleteEFSMountTargets'),applyTemplate=async(_0x54d785,_0x4eeedb,_0x129aa6={})=>{const _0x1c4e4a=a33_0x2297ed,_0x596609={};_0x596609['wObMA']=_0x1c4e4a(0x1a8),_0x596609['eRFRF']=_0x1c4e4a(0xc7),_0x596609[_0x1c4e4a(0x1cb)]='/readyz',_0x596609['advvu']=_0x1c4e4a(0x22b),_0x596609[_0x1c4e4a(0xdd)]=_0x1c4e4a(0x163),_0x596609['RbPkY']=_0x1c4e4a(0x192),_0x596609[_0x1c4e4a(0x1e7)]=function(_0x4e8bcf,_0x534a99){return _0x4e8bcf!=_0x534a99;},_0x596609[_0x1c4e4a(0x16d)]=function(_0x2b85ec,_0x22aef4){return _0x2b85ec!==_0x22aef4;},_0x596609['EhCTJ']=_0x1c4e4a(0x9f),_0x596609[_0x1c4e4a(0x1f0)]=_0x1c4e4a(0x1a1),_0x596609[_0x1c4e4a(0x18a)]=function(_0xbec128,_0x33b2b9){return _0xbec128===_0x33b2b9;},_0x596609[_0x1c4e4a(0x145)]=_0x1c4e4a(0x9d),_0x596609[_0x1c4e4a(0x1b5)]=_0x1c4e4a(0x1f1),_0x596609[_0x1c4e4a(0xa1)]=function(_0x32235b,_0x52d43b){return _0x32235b!=_0x52d43b;},_0x596609[_0x1c4e4a(0xab)]=function(_0x3171f3,_0x238b98){return _0x3171f3!==_0x238b98;},_0x596609[_0x1c4e4a(0x131)]='VlVHb',_0x596609[_0x1c4e4a(0xc9)]=_0x1c4e4a(0xcc),_0x596609['Vdwpo']=function(_0x5f0d83,_0x2ad6e7){return _0x5f0d83!==_0x2ad6e7;},_0x596609['RnahM']='PdvIs',_0x596609[_0x1c4e4a(0xd6)]=function(_0x1b42ee,_0x3e2dd3){return _0x1b42ee===_0x3e2dd3;},_0x596609[_0x1c4e4a(0x1a0)]=_0x1c4e4a(0x100),_0x596609[_0x1c4e4a(0x1b4)]=function(_0x10b063,_0x34024f){return _0x10b063===_0x34024f;},_0x596609['pMYLW']=_0x1c4e4a(0xbd),_0x596609[_0x1c4e4a(0x1b7)]=_0x1c4e4a(0x19f),_0x596609['ByloH']=function(_0x193c20,_0x3f15bd){return _0x193c20===_0x3f15bd;},_0x596609[_0x1c4e4a(0x13e)]=_0x1c4e4a(0x18d),_0x596609[_0x1c4e4a(0x98)]=function(_0x37feb4,_0x2ee5e2){return _0x37feb4!==_0x2ee5e2;},_0x596609['elcuk']=_0x1c4e4a(0x180),_0x596609['aZOUG']=_0x1c4e4a(0x196);const _0x3769b6=_0x596609;let _0x4d7d07=await fs['readFileAsync'](path[_0x1c4e4a(0x21f)](__dirname,'..',_0x3769b6['Vwmiz'],_0x54d785),_0x3769b6[_0x1c4e4a(0xb5)]);_0x4d7d07=_0x4d7d07[_0x1c4e4a(0x158)](/<GridNamespace>/g,_0x4eeedb),_0x4d7d07=_0x4d7d07['replace'](/<BstackURL>/g,AG_API_URL),_0x4d7d07=_0x4d7d07[_0x1c4e4a(0x158)](/<ClusterName>/g,global_registry['clusterName']),_0x4d7d07=_0x4d7d07[_0x1c4e4a(0x158)](/<BstackUsername>/g,global_registry[_0x1c4e4a(0x1d1)]),_0x4d7d07=_0x4d7d07['replace'](/<BstackAccessKey>/g,global_registry[_0x1c4e4a(0x228)]),_0x4d7d07=_0x4d7d07[_0x1c4e4a(0x158)](/<GridName>/g,global_registry['gridName']),_0x4d7d07=_0x4d7d07[_0x1c4e4a(0x158)](/<Region>/g,global_registry['clusterRegion']),_0x4d7d07=_0x4d7d07[_0x1c4e4a(0x158)](/<CloudProvider>/g,global_registry['cloudProvider']),_0x4d7d07=_0x4d7d07[_0x1c4e4a(0x158)](/<HubImageVersion>/g,global_registry[_0x1c4e4a(0x20a)]),_0x4d7d07=_0x4d7d07['replace'](/<BrowserImageVersion>/g,global_registry['browserVersion']),_0x4d7d07=_0x4d7d07[_0x1c4e4a(0x158)](/<PrivateGrid>/g,global_registry[_0x1c4e4a(0x1e4)]?_0x3769b6[_0x1c4e4a(0xf9)]:_0x3769b6['advvu']);if(_0x3769b6[_0x1c4e4a(0x1e7)](global_registry[_0x1c4e4a(0x1cd)],null)&&_0x3769b6[_0x1c4e4a(0x16d)](global_registry['enableHubHa'],undefined)&&global_registry[_0x1c4e4a(0x1cd)])_0x3769b6[_0x1c4e4a(0x16d)](_0x3769b6['EhCTJ'],_0x3769b6[_0x1c4e4a(0x1f0)])?(_0x4d7d07=_0x4d7d07[_0x1c4e4a(0x158)](/<ReadinessProbePath>/g,_0x3769b6[_0x1c4e4a(0x12f)]),_0x4d7d07=_0x4d7d07[_0x1c4e4a(0x158)](/<EnableHubHa>/g,_0x3769b6[_0x1c4e4a(0xf9)]),_0x4d7d07=_0x4d7d07[_0x1c4e4a(0x158)](/<HubHaNameSpace>/g,global_registry[_0x1c4e4a(0x101)])):_0x328cc2=_0x2c1c81[_0x1c4e4a(0x158)](/<GridProfileID>/g,_0x1ef732[_0x1c4e4a(0x197)]);else{if(_0x3769b6[_0x1c4e4a(0x18a)](_0x3769b6['ZGwxx'],_0x3769b6[_0x1c4e4a(0x1b5)])){const _0x489a3c={'azure.workload.identity/use':_0x3769b6['wObMA'],..._0x1ce6da[_0x1c4e4a(0x172)][_0x1c4e4a(0x168)][_0x1c4e4a(0x1f3)][_0x1c4e4a(0x13a)]};_0x5c3799['spec']['template'][_0x1c4e4a(0x1f3)]['labels']=_0x489a3c;}else _0x4d7d07=_0x4d7d07[_0x1c4e4a(0x158)](/<ReadinessProbePath>/g,_0x3769b6['FwLOH']),_0x4d7d07=_0x4d7d07[_0x1c4e4a(0x158)](/<EnableHubHa>/g,_0x3769b6['advvu']),_0x4d7d07=_0x4d7d07[_0x1c4e4a(0x158)](/<HubHaNameSpace>/g,'');}if(_0x3769b6[_0x1c4e4a(0xa1)](global_registry[_0x1c4e4a(0x197)],null)&&_0x3769b6[_0x1c4e4a(0xab)](global_registry[_0x1c4e4a(0x197)],undefined)){if(_0x3769b6[_0x1c4e4a(0x18a)](_0x3769b6[_0x1c4e4a(0x131)],_0x3769b6[_0x1c4e4a(0xc9)])){const _0x3fba00={};_0x3fba00[_0x1c4e4a(0x15e)]=''+_0xa4c30b[_0x1c4e4a(0x100)];const _0x118797={'annotations':_0x3fba00,..._0x573878['metadata']};_0x413043['metadata']=_0x118797;}else _0x4d7d07=_0x4d7d07[_0x1c4e4a(0x158)](/<GridProfileID>/g,global_registry['gridProfileId']);}else _0x3769b6[_0x1c4e4a(0x1a9)](_0x3769b6[_0x1c4e4a(0x11b)],_0x3769b6['RnahM'])?_0x1f4820[_0x1c4e4a(0xbc)](_0x59a22e[_0x1c4e4a(0xfc)]):_0x4d7d07=_0x4d7d07['replace'](/<GridProfileID>/g,'');const _0x43e229=yaml['load'](_0x4d7d07);if(_0x3769b6[_0x1c4e4a(0xd6)](global_registry['cloudProvider'],AZURE)&&_0x3769b6[_0x1c4e4a(0xab)](_0x129aa6[_0x3769b6[_0x1c4e4a(0x1a0)]],undefined)){if(_0x3769b6[_0x1c4e4a(0x1b4)](_0x3769b6[_0x1c4e4a(0xac)],_0x3769b6[_0x1c4e4a(0x1b7)]))_0x5362ac=_0x5131bc['replace'](/<ReadinessProbePath>/g,_0x3769b6['eRFRF']),_0x1c6d7b=_0x5f3d81['replace'](/<EnableHubHa>/g,_0x3769b6[_0x1c4e4a(0xf9)]),_0x5ddbb9=_0x49a8ec[_0x1c4e4a(0x158)](/<HubHaNameSpace>/g,_0x14f091[_0x1c4e4a(0x101)]);else{const _0x19b818={};_0x19b818[_0x1c4e4a(0x15e)]=''+_0x129aa6['clientId'],_0x43e229[_0x1c4e4a(0x1f3)]={'annotations':_0x19b818,..._0x43e229['metadata']};}}return _0x3769b6['ByloH'](global_registry[_0x1c4e4a(0xae)],AZURE)&&_0x3769b6[_0x1c4e4a(0x18a)](_0x54d785,_0x3769b6[_0x1c4e4a(0x13e)])&&(_0x3769b6[_0x1c4e4a(0x98)](_0x3769b6[_0x1c4e4a(0xef)],_0x3769b6[_0x1c4e4a(0x93)])?_0x43e229['spec'][_0x1c4e4a(0x168)]['metadata']['labels']={'azure.workload.identity/use':_0x3769b6['wObMA'],..._0x43e229[_0x1c4e4a(0x172)][_0x1c4e4a(0x168)][_0x1c4e4a(0x1f3)][_0x1c4e4a(0x13a)]}:(_0x29192a=_0x3f76ae[_0x1c4e4a(0x158)](/<ReadinessProbePath>/g,_0x3769b6['FwLOH']),_0x301122=_0x6825ef[_0x1c4e4a(0x158)](/<EnableHubHa>/g,_0x3769b6[_0x1c4e4a(0xa8)]),_0x1e8c62=_0x2798f5[_0x1c4e4a(0x158)](/<HubHaNameSpace>/g,''))),_0x43e229;};exports[a33_0x2297ed(0xc8)]=async(_0xe00c30,_0x2c6a68,_0x2ce051,_0x4f61cf,_0x1e5383,_0x1d7d4a,_0x41e93d)=>{const _0x5d93d2=a33_0x2297ed,_0x271ced={};_0x271ced[_0x5d93d2(0x20f)]=_0x5d93d2(0x108),_0x271ced[_0x5d93d2(0xe4)]=_0x5d93d2(0x163),_0x271ced[_0x5d93d2(0x1f9)]=_0x5d93d2(0x21c),_0x271ced[_0x5d93d2(0x1da)]=_0x5d93d2(0x194),_0x271ced[_0x5d93d2(0x185)]=_0x5d93d2(0x192),_0x271ced[_0x5d93d2(0x109)]='eks.amazonaws.com/role-arn',_0x271ced[_0x5d93d2(0x12c)]='kube-system',_0x271ced[_0x5d93d2(0x213)]=_0x5d93d2(0x1c3),_0x271ced[_0x5d93d2(0x225)]=_0x5d93d2(0x18e),_0x271ced[_0x5d93d2(0xb0)]=_0x5d93d2(0x1d0),_0x271ced[_0x5d93d2(0x1a3)]=_0x5d93d2(0x99),_0x271ced[_0x5d93d2(0x1b8)]='Adding\x20Autoscaler\x20clusterRoleBinding',_0x271ced[_0x5d93d2(0x97)]=_0x5d93d2(0xfa),_0x271ced[_0x5d93d2(0x8c)]=_0x5d93d2(0x176),_0x271ced['isKFo']=_0x5d93d2(0x1cf),_0x271ced[_0x5d93d2(0xd8)]='Adding\x20Autoscaler\x20Deployment',_0x271ced[_0x5d93d2(0x1d8)]=_0x5d93d2(0x1b2),_0x271ced[_0x5d93d2(0xe5)]=_0x5d93d2(0x1aa);const _0x218e10=_0x271ced;let _0x3394af=null,_0x17cac4=null;logger['info'](_0x218e10[_0x5d93d2(0x20f)]),_0x17cac4=await fs['readFileAsync'](path[_0x5d93d2(0x21f)](__dirname,'..',_0x218e10[_0x5d93d2(0xe4)],_0x218e10[_0x5d93d2(0x1f9)],_0x218e10[_0x5d93d2(0x1da)]),_0x218e10[_0x5d93d2(0x185)]),_0x3394af=yaml[_0x5d93d2(0x142)](_0x17cac4),_0x3394af[_0x5d93d2(0x1f3)][_0x5d93d2(0x199)][_0x218e10['KufhD']]=_0x41e93d;const _0x561666={};_0x561666['namespace']=_0x218e10[_0x5d93d2(0x12c)],_0x561666['body']=_0x3394af,await _0xe00c30[_0x5d93d2(0x17e)](_0x561666),logger['info'](_0x218e10['gDlDJ']),_0x17cac4=await fs[_0x5d93d2(0x148)](path['join'](__dirname,'..',_0x218e10[_0x5d93d2(0xe4)],_0x218e10[_0x5d93d2(0x1f9)],_0x218e10[_0x5d93d2(0x225)]),_0x218e10[_0x5d93d2(0x185)]),_0x3394af=yaml['load'](_0x17cac4);const _0x25d043={};_0x25d043[_0x5d93d2(0xd7)]=_0x3394af,await _0x4f61cf[_0x5d93d2(0xeb)](_0x25d043),logger[_0x5d93d2(0x134)](_0x218e10[_0x5d93d2(0xb0)]),_0x17cac4=await fs[_0x5d93d2(0x148)](path[_0x5d93d2(0x21f)](__dirname,'..',_0x218e10['qLvyE'],_0x218e10[_0x5d93d2(0x1f9)],_0x218e10[_0x5d93d2(0x1a3)]),_0x218e10[_0x5d93d2(0x185)]),_0x3394af=yaml[_0x5d93d2(0x142)](_0x17cac4);const _0x33bd9d={};_0x33bd9d['namespace']=_0x218e10[_0x5d93d2(0x12c)],_0x33bd9d[_0x5d93d2(0xd7)]=_0x3394af,await _0x4f61cf['createNamespacedRole'](_0x33bd9d),logger['info'](_0x218e10[_0x5d93d2(0x1b8)]),_0x17cac4=await fs['readFileAsync'](path[_0x5d93d2(0x21f)](__dirname,'..',_0x218e10[_0x5d93d2(0xe4)],_0x218e10[_0x5d93d2(0x1f9)],_0x218e10[_0x5d93d2(0x97)]),_0x218e10[_0x5d93d2(0x185)]),_0x3394af=yaml[_0x5d93d2(0x142)](_0x17cac4);const _0x1b27c8={};_0x1b27c8['body']=_0x3394af,await _0x4f61cf[_0x5d93d2(0x19a)](_0x1b27c8),logger[_0x5d93d2(0x134)](_0x218e10[_0x5d93d2(0x8c)]),_0x17cac4=await fs[_0x5d93d2(0x148)](path[_0x5d93d2(0x21f)](__dirname,'..',_0x218e10[_0x5d93d2(0xe4)],_0x218e10[_0x5d93d2(0x1f9)],_0x218e10[_0x5d93d2(0x22c)]),_0x218e10[_0x5d93d2(0x185)]),_0x3394af=yaml['load'](_0x17cac4);const _0x2f999c={};_0x2f999c['namespace']=_0x218e10['LxnjP'],_0x2f999c[_0x5d93d2(0xd7)]=_0x3394af,await _0x4f61cf[_0x5d93d2(0x11c)](_0x2f999c),logger[_0x5d93d2(0x134)](_0x218e10[_0x5d93d2(0xd8)]),_0x17cac4=await fs['readFileAsync'](path[_0x5d93d2(0x21f)](__dirname,'..',_0x218e10[_0x5d93d2(0xe4)],_0x218e10['gVUpe'],_0x218e10['KorjT']),_0x218e10[_0x5d93d2(0x185)]),_0x17cac4=_0x17cac4[_0x5d93d2(0x158)](_0x218e10[_0x5d93d2(0xe5)],_0x1d7d4a),_0x3394af=yaml[_0x5d93d2(0x142)](_0x17cac4);const _0x3c0cd0={};_0x3c0cd0[_0x5d93d2(0x118)]=_0x218e10[_0x5d93d2(0x12c)],_0x3c0cd0[_0x5d93d2(0xd7)]=_0x3394af,await _0x2c6a68[_0x5d93d2(0x143)](_0x3c0cd0);},exports['addMetricServerComponents']=async(_0x32408e,_0x5282cc,_0x23e4ea,_0x50fc0b)=>{const _0x2c27e3=a33_0x2297ed,_0x2aacc6={};_0x2aacc6[_0x2c27e3(0x1c5)]=_0x2c27e3(0x126),_0x2aacc6[_0x2c27e3(0x10c)]='templates',_0x2aacc6[_0x2c27e3(0x165)]='metrics-server',_0x2aacc6['dZUBR']=_0x2c27e3(0x13c),_0x2aacc6[_0x2c27e3(0x122)]=_0x2c27e3(0x192),_0x2aacc6['nxrTT']=_0x2c27e3(0x212),_0x2aacc6[_0x2c27e3(0xf5)]=_0x2c27e3(0xd4),_0x2aacc6[_0x2c27e3(0x139)]='cluster-role-aggregated-reader.yaml',_0x2aacc6[_0x2c27e3(0x207)]=_0x2c27e3(0xb6),_0x2aacc6[_0x2c27e3(0x17f)]=_0x2c27e3(0x1a5),_0x2aacc6[_0x2c27e3(0x129)]=_0x2c27e3(0x105),_0x2aacc6[_0x2c27e3(0xdf)]='role-binding.yaml',_0x2aacc6[_0x2c27e3(0x9e)]=_0x2c27e3(0xbe),_0x2aacc6[_0x2c27e3(0x211)]=_0x2c27e3(0x1d6),_0x2aacc6[_0x2c27e3(0x1f2)]='cluster-role-binding.yaml',_0x2aacc6[_0x2c27e3(0x170)]='Adding\x20MetricsServer\x20Service',_0x2aacc6[_0x2c27e3(0x1f5)]=_0x2c27e3(0x14c),_0x2aacc6[_0x2c27e3(0x215)]='Adding\x20MetricsServer\x20Deployment',_0x2aacc6[_0x2c27e3(0x1f7)]=_0x2c27e3(0x1b2),_0x2aacc6['VngbT']=_0x2c27e3(0x1df),_0x2aacc6[_0x2c27e3(0xd1)]=_0x2c27e3(0xe0);const _0x4cd663=_0x2aacc6;logger[_0x2c27e3(0x134)](_0x4cd663['BuqGO']);let _0x5489fd=await fs[_0x2c27e3(0x148)](path[_0x2c27e3(0x21f)](__dirname,'..',_0x4cd663['DctzP'],_0x4cd663[_0x2c27e3(0x165)],_0x4cd663[_0x2c27e3(0x121)]),_0x4cd663['rfMQI']),_0x5ace9e=yaml[_0x2c27e3(0x142)](_0x5489fd);const _0x5421fa={};_0x5421fa[_0x2c27e3(0x118)]=_0x4cd663['nxrTT'],_0x5421fa[_0x2c27e3(0xd7)]=_0x5ace9e,await _0x32408e[_0x2c27e3(0x17e)](_0x5421fa),logger['info'](_0x4cd663[_0x2c27e3(0xf5)]),_0x5489fd=await fs[_0x2c27e3(0x148)](path[_0x2c27e3(0x21f)](__dirname,'..',_0x4cd663[_0x2c27e3(0x10c)],_0x4cd663[_0x2c27e3(0x165)],_0x4cd663['WwKYo']),_0x4cd663[_0x2c27e3(0x122)]),_0x5ace9e=yaml['load'](_0x5489fd);const _0x54e28d={};_0x54e28d[_0x2c27e3(0xd7)]=_0x5ace9e,await _0x23e4ea[_0x2c27e3(0xeb)](_0x54e28d),logger[_0x2c27e3(0x134)](_0x4cd663['sMiGg']),_0x5489fd=await fs[_0x2c27e3(0x148)](path[_0x2c27e3(0x21f)](__dirname,'..',_0x4cd663[_0x2c27e3(0x10c)],_0x4cd663[_0x2c27e3(0x165)],_0x4cd663['svFfO']),_0x4cd663[_0x2c27e3(0x122)]),_0x5ace9e=yaml[_0x2c27e3(0x142)](_0x5489fd);const _0x4a9fe1={};_0x4a9fe1['body']=_0x5ace9e,await _0x23e4ea['createClusterRole'](_0x4a9fe1),logger[_0x2c27e3(0x134)](_0x4cd663[_0x2c27e3(0x129)]),_0x5489fd=await fs[_0x2c27e3(0x148)](path[_0x2c27e3(0x21f)](__dirname,'..',_0x4cd663[_0x2c27e3(0x10c)],_0x4cd663[_0x2c27e3(0x165)],_0x4cd663['hYFzf']),_0x4cd663[_0x2c27e3(0x122)]),_0x5ace9e=yaml[_0x2c27e3(0x142)](_0x5489fd);const _0x3c211b={};_0x3c211b['namespace']=_0x4cd663[_0x2c27e3(0x1a4)],_0x3c211b[_0x2c27e3(0xd7)]=_0x5ace9e,await _0x23e4ea[_0x2c27e3(0x11c)](_0x3c211b),logger['info'](_0x4cd663[_0x2c27e3(0x9e)]),_0x5489fd=await fs[_0x2c27e3(0x148)](path[_0x2c27e3(0x21f)](__dirname,'..',_0x4cd663['DctzP'],_0x4cd663[_0x2c27e3(0x165)],_0x4cd663['DtQRq']),_0x4cd663[_0x2c27e3(0x122)]),_0x5ace9e=yaml[_0x2c27e3(0x142)](_0x5489fd);const _0x377fb6={};_0x377fb6[_0x2c27e3(0xd7)]=_0x5ace9e,await _0x23e4ea[_0x2c27e3(0x19a)](_0x377fb6),logger['info'](_0x4cd663['KPUOs']),_0x5489fd=await fs[_0x2c27e3(0x148)](path[_0x2c27e3(0x21f)](__dirname,'..',_0x4cd663[_0x2c27e3(0x10c)],_0x4cd663[_0x2c27e3(0x165)],_0x4cd663['QmcHU']),_0x4cd663[_0x2c27e3(0x122)]),_0x5ace9e=yaml[_0x2c27e3(0x142)](_0x5489fd);const _0x517507={};_0x517507[_0x2c27e3(0xd7)]=_0x5ace9e,await _0x23e4ea['createClusterRoleBinding'](_0x517507),logger[_0x2c27e3(0x134)](_0x4cd663[_0x2c27e3(0x170)]),_0x5489fd=await fs[_0x2c27e3(0x148)](path['join'](__dirname,'..',_0x4cd663[_0x2c27e3(0x10c)],_0x4cd663['zTrUI'],_0x4cd663[_0x2c27e3(0x1f5)]),_0x4cd663[_0x2c27e3(0x122)]),_0x5ace9e=yaml[_0x2c27e3(0x142)](_0x5489fd);const _0x5cf8a1={};_0x5cf8a1[_0x2c27e3(0x118)]=_0x4cd663[_0x2c27e3(0x1a4)],_0x5cf8a1[_0x2c27e3(0xd7)]=_0x5ace9e,await _0x32408e[_0x2c27e3(0x227)](_0x5cf8a1),logger['info'](_0x4cd663[_0x2c27e3(0x215)]),_0x5489fd=await fs['readFileAsync'](path['join'](__dirname,'..',_0x4cd663['DctzP'],_0x4cd663[_0x2c27e3(0x165)],_0x4cd663['LRbuJ']),_0x4cd663[_0x2c27e3(0x122)]),_0x5ace9e=yaml[_0x2c27e3(0x142)](_0x5489fd);const _0x5c6b5e={};_0x5c6b5e[_0x2c27e3(0x118)]=_0x4cd663['nxrTT'],_0x5c6b5e['body']=_0x5ace9e,await _0x5282cc[_0x2c27e3(0x143)](_0x5c6b5e),logger[_0x2c27e3(0x134)](_0x4cd663[_0x2c27e3(0x10b)]),_0x5489fd=await fs['readFileAsync'](path[_0x2c27e3(0x21f)](__dirname,'..',_0x4cd663[_0x2c27e3(0x10c)],_0x4cd663[_0x2c27e3(0x165)],_0x4cd663[_0x2c27e3(0xd1)]),_0x4cd663[_0x2c27e3(0x122)]),_0x5ace9e=yaml[_0x2c27e3(0x142)](_0x5489fd);const _0x1da3a6={};_0x1da3a6[_0x2c27e3(0xd7)]=_0x5ace9e,await _0x50fc0b['createAPIService'](_0x1da3a6);},exports['metricsServerServiceExists']=async _0x35f289=>{const _0xbbdcd9=a33_0x2297ed,_0x7ac60b={};_0x7ac60b[_0xbbdcd9(0x208)]=_0xbbdcd9(0x212),_0x7ac60b[_0xbbdcd9(0x1ed)]=function(_0x5b4508,_0x3d4775){return _0x5b4508<_0x3d4775;},_0x7ac60b[_0xbbdcd9(0x1fc)]=function(_0x4d2949,_0xf255ca){return _0x4d2949===_0xf255ca;},_0x7ac60b[_0xbbdcd9(0xc4)]=_0xbbdcd9(0xee),_0x7ac60b[_0xbbdcd9(0x1e9)]=_0xbbdcd9(0x8e),_0x7ac60b[_0xbbdcd9(0x161)]=function(_0x5263f1,_0x51bd72){return _0x5263f1!==_0x51bd72;},_0x7ac60b['aXCVf']=_0xbbdcd9(0x1fe);const _0x540153=_0x7ac60b,_0x1be3b3={};_0x1be3b3[_0xbbdcd9(0x118)]=_0x540153[_0xbbdcd9(0x208)];const _0x421210=await _0x35f289[_0xbbdcd9(0x1f4)](_0x1be3b3),_0x1914e5=_0x421210?.[_0xbbdcd9(0x216)];for(let _0x2a4d80=0x0;_0x540153[_0xbbdcd9(0x1ed)](_0x2a4d80,_0x1914e5[_0xbbdcd9(0x16a)]);_0x2a4d80++){if(_0x540153[_0xbbdcd9(0x1fc)](_0x540153[_0xbbdcd9(0xc4)],_0x540153[_0xbbdcd9(0xc4)])){if(_0x540153[_0xbbdcd9(0x1fc)](_0x1914e5[_0x2a4d80][_0xbbdcd9(0x1f3)][_0xbbdcd9(0x1ca)],_0x540153[_0xbbdcd9(0x1e9)]))return _0x540153[_0xbbdcd9(0x161)](_0x540153['aXCVf'],_0x540153[_0xbbdcd9(0x12a)])?!![]:!![];}else throw _0x35d8cc;}return![];},exports[a33_0x2297ed(0xad)]=async(_0x436f07,_0x40e817)=>{const _0x471375=a33_0x2297ed,_0x16705a={'aenVi':function(_0x29e5ae,_0x49e16f){return _0x29e5ae(_0x49e16f);},'FqtLQ':function(_0x53f844,_0x453feb){return _0x53f844===_0x453feb;},'mVfEf':'mdTjj','eBdkD':_0x471375(0x184),'IoXrY':_0x471375(0x115),'VSaWl':_0x471375(0x1dd)};try{if(_0x16705a['FqtLQ'](_0x16705a[_0x471375(0x160)],_0x16705a[_0x471375(0xa9)]))_0x22a3d3=_0x3a9e09[_0x471375(0x158)](/<GridProfileID>/g,'');else{const _0x13dbd5={};_0x13dbd5[_0x471375(0x1ca)]=_0x40e817;const _0x29ad20=await _0x436f07[_0x471375(0x15f)](_0x13dbd5);return!![];}}catch(_0xe8ce4e){if(_0x16705a[_0x471375(0xec)](_0x16705a[_0x471375(0x198)],_0x16705a[_0x471375(0x11a)]))_0x18a366=_0x26bdd9[_0x471375(0x158)](/<RedisClientPassword>/g,_0x16705a[_0x471375(0x1d2)](_0x25ea76,_0x37e126['redisPassword'])),_0xdc0816=_0x4a099e[_0x471375(0x158)](/<KafkaClientPassword>/g,_0x16705a[_0x471375(0x1d2)](_0x3a765e,_0x3f9905['kafkaPassword']));else return![];}},exports[a33_0x2297ed(0x94)]=async(_0x303878,_0x1ee081,_0x26fba3)=>{const _0xa50a61=a33_0x2297ed,_0x124490={};_0x124490[_0xa50a61(0x11e)]='networking.gke.io/load-balancer-type:\x20\x22Internal\x22',_0x124490[_0xa50a61(0x1e2)]=function(_0x318ded,_0x475b12){return _0x318ded!==_0x475b12;},_0x124490[_0xa50a61(0xfe)]='FfOmG',_0x124490[_0xa50a61(0xf1)]=function(_0x385a4b,_0x2aa530){return _0x385a4b===_0x2aa530;},_0x124490['aahZC']=_0xa50a61(0x12e);const _0x1135a7=_0x124490;try{if(_0x1135a7[_0xa50a61(0x1e2)](_0x1135a7['iQjwT'],_0x1135a7[_0xa50a61(0xfe)]))_0x53102d=_0x47f37f[_0xa50a61(0x158)](/<KafkaClientPassword>/g,''),_0x1f612f=_0x5a4ae5['replace'](/<RedisClientPassword>/g,'');else{const _0x28830e=await _0x303878[_0xa50a61(0x20b)](_0x1ee081),_0x5e4aef=_0x28830e[_0xa50a61(0xd7)]['items'][_0xa50a61(0x1b1)](_0x1311d5=>_0x1311d5[_0xa50a61(0x1f3)]['name']===_0x26fba3);return _0x5e4aef?!![]:![];}}catch(_0x4f5e50){if(_0x1135a7[_0xa50a61(0xf1)](_0x1135a7[_0xa50a61(0x11d)],_0x1135a7[_0xa50a61(0x11d)]))return![];else _0x5c4556=_0x1135a7[_0xa50a61(0x11e)];}},exports[a33_0x2297ed(0x1e0)]=async(_0x3d6057,_0x2ffd3a)=>{const _0x4c9702=a33_0x2297ed,_0x2faee8={};_0x2faee8[_0x4c9702(0x147)]=_0x4c9702(0x10a),_0x2faee8[_0x4c9702(0x179)]=function(_0x33a02d,_0x11e365){return _0x33a02d!==_0x11e365;},_0x2faee8[_0x4c9702(0x1c7)]='default',_0x2faee8[_0x4c9702(0x1dc)]=_0x4c9702(0x116),_0x2faee8[_0x4c9702(0x206)]=_0x4c9702(0xcf);const _0x1b7def=_0x2faee8;if(_0x1b7def[_0x4c9702(0x179)](_0x2ffd3a,_0x1b7def[_0x4c9702(0x1c7)])){if(_0x1b7def['GIVAN'](_0x1b7def[_0x4c9702(0x1dc)],_0x1b7def[_0x4c9702(0x1dc)]))_0x761d9f=_0x1b7def[_0x4c9702(0x147)];else{const _0x6016bb={};_0x6016bb[_0x4c9702(0x210)]=_0x1b7def['BwYBr'],_0x6016bb[_0x4c9702(0xe6)]=_0x1b7def[_0x4c9702(0x206)];const _0x1bf73b={};_0x1bf73b[_0x4c9702(0x1ca)]=_0x2ffd3a,_0x1bf73b[_0x4c9702(0x199)]=_0x6016bb;const _0x587c5c={};_0x587c5c[_0x4c9702(0x1f3)]=_0x1bf73b;const _0x26b90d=_0x587c5c,_0x5bc8e0={};_0x5bc8e0[_0x4c9702(0xd7)]=_0x26b90d,await _0x3d6057[_0x4c9702(0x1e0)](_0x5bc8e0),logger[_0x4c9702(0x134)]('Namespace\x20Created:\x20'+_0x2ffd3a);}}},exports[a33_0x2297ed(0x96)]=async(_0x577535,_0x9862f)=>{const _0x10cff0=a33_0x2297ed,_0x152341={};_0x152341[_0x10cff0(0x128)]='service.beta.kubernetes.io/aws-load-balancer-internal:\x20\x22true\x22',_0x152341[_0x10cff0(0x157)]=function(_0x533ca0,_0x7c6cf5){return _0x533ca0===_0x7c6cf5;},_0x152341[_0x10cff0(0x1d7)]=_0x10cff0(0x22a),_0x152341[_0x10cff0(0x221)]=_0x10cff0(0xf3),_0x152341[_0x10cff0(0x1b0)]=_0x10cff0(0x106);const _0x214433=_0x152341;try{if(_0x214433[_0x10cff0(0x157)](_0x214433['gYRij'],_0x214433['gYRij'])){const _0x205531={};_0x205531[_0x10cff0(0x1ca)]=_0x9862f;const _0x33993d=await _0x577535['readNamespace'](_0x205531),_0x18fa1f=_0x33993d?.[_0x10cff0(0x1f3)]?.[_0x10cff0(0xf4)];return _0x18fa1f;}else _0x2ecd80['error']('Error\x20deleting\x20stack\x20'+_0x14e8ef+':',_0x340995['message']);}catch(_0x29c231){if(_0x214433['KYPoR'](_0x214433[_0x10cff0(0x221)],_0x214433[_0x10cff0(0x221)]))return _0x214433['nZRUr'];else _0x35b6c6=_0x214433[_0x10cff0(0x128)];}},exports[a33_0x2297ed(0xe3)]=async(_0x1c0950,_0x20fa4c,_0x1238a9,_0x34671c,_0x2bde91,_0x4e97d1,_0x133844,_0x15a7ed,_0xaa50c8,_0x193be7={},_0x55f66f)=>{const _0x2ad0d1=a33_0x2297ed,_0x37bee1={'QZgBQ':_0x2ad0d1(0x106),'RcIMe':function(_0xb6e5db,_0xcfffa5){return _0xb6e5db===_0xcfffa5;},'KgATb':_0x2ad0d1(0x8e),'HHqqf':_0x2ad0d1(0xd5),'UJMnQ':function(_0x1fe194,_0x417eee,_0x269cb1){return _0x1fe194(_0x417eee,_0x269cb1);},'pFAPf':'cluster-role-binding.yaml','ygScx':_0x2ad0d1(0x125),'xYoqs':function(_0x4336ab,_0x1081fc){return _0x4336ab!=_0x1081fc;},'PBPcW':function(_0x59cd79,_0x3fa379){return _0x59cd79!==_0x3fa379;},'hiJAM':_0x2ad0d1(0xa5),'swbdO':_0x2ad0d1(0x1eb),'hJXBz':_0x2ad0d1(0x1bb),'VCYaE':_0x2ad0d1(0x16f),'hqKHf':_0x2ad0d1(0x137),'NAceR':'Added\x20MetricsServer\x20Components','dtYbW':_0x2ad0d1(0xb8),'kLLKI':_0x2ad0d1(0x1a7),'hAZnt':function(_0x3009d3,_0x53f237,_0x2128cf,_0x366a3b){return _0x3009d3(_0x53f237,_0x2128cf,_0x366a3b);},'cBRZl':_0x2ad0d1(0xd9),'KXDDR':_0x2ad0d1(0x138),'ZAKIm':function(_0x4c07d7,_0x7092ad){return _0x4c07d7===_0x7092ad;},'ccPUX':function(_0x26d81c,_0x2e980d){return _0x26d81c===_0x2e980d;},'HQWQl':'kKTsu','MpxIR':_0x2ad0d1(0xed),'dvRhI':'Adding\x20default\x20service\x20account','vsQHa':_0x2ad0d1(0x127),'itgFj':_0x2ad0d1(0x9c),'qhWMz':_0x2ad0d1(0x222),'XRsMe':_0x2ad0d1(0xfd),'mrvmI':_0x2ad0d1(0x17b),'inmcV':_0x2ad0d1(0xe8),'gBYEg':_0x2ad0d1(0x1ff),'UJKkz':function(_0xfd7c7a,_0xde47ea,_0x443b8e){return _0xfd7c7a(_0xde47ea,_0x443b8e);},'qecNM':_0x2ad0d1(0x1f6),'pmbre':_0x2ad0d1(0x1a6),'OULya':function(_0x47a7de,_0x3a7786){return _0x47a7de===_0x3a7786;},'rYmUw':function(_0x54b438,_0x549313){return _0x54b438!==_0x549313;},'fxQCr':_0x2ad0d1(0x13f),'zUMnf':_0x2ad0d1(0x186),'yOeQR':_0x2ad0d1(0x1b3),'acHsO':_0x2ad0d1(0x19e),'xKGyC':function(_0x4c6a7d,_0x1d14ae,_0x3a43a3){return _0x4c6a7d(_0x1d14ae,_0x3a43a3);},'NBXjy':'Adding\x20Nginx\x20Pods\x20and\x20deployments','wVAWg':_0x2ad0d1(0x14a),'sijZM':_0x2ad0d1(0x163),'DLgbu':_0x2ad0d1(0x15d),'LdMGo':_0x2ad0d1(0x13b),'KAuDC':_0x2ad0d1(0x192),'VytKa':_0x2ad0d1(0x141),'HOHuF':function(_0x360e9b,_0x1489d2,_0x580a03){return _0x360e9b(_0x1489d2,_0x580a03);},'nNICL':_0x2ad0d1(0xde),'vhnqh':_0x2ad0d1(0x1d9),'VnxSs':_0x2ad0d1(0x1d5),'xXGVq':_0x2ad0d1(0x10a),'Ggeyx':function(_0x575798,_0x535b82){return _0x575798===_0x535b82;},'PnkUE':_0x2ad0d1(0xc2),'jdLol':_0x2ad0d1(0x178),'cPHKp':_0x2ad0d1(0x12b),'NxrtU':function(_0xb89ae0,_0x5ed3a0,_0xc98476){return _0xb89ae0(_0x5ed3a0,_0xc98476);},'ubIVP':'Added\x20Nginx\x20Private\x20Pods\x20and\x20deployments','jCWLv':'3|0|2|1|4','jVAHJ':_0x2ad0d1(0x1b9),'nohHb':function(_0x1731e8,_0x1370c8,_0x1baef6){return _0x1731e8(_0x1370c8,_0x1baef6);},'JJpBh':_0x2ad0d1(0xa6),'kDfeY':'Added\x20VPC\x20CNI\x20ConfigMaps','Vomov':_0x2ad0d1(0x20c),'VvAUC':_0x2ad0d1(0x169),'jqpmN':_0x2ad0d1(0x119),'ZhFRe':'Added\x20Cert\x20Manager\x20CRDs','nBojd':_0x2ad0d1(0xb4),'owkPH':_0x2ad0d1(0x1f8),'LBMXJ':function(_0x2ac328,_0x5d1cf8,_0x2b1d37,_0x1c74a8,_0x1f9e25){return _0x2ac328(_0x5d1cf8,_0x2b1d37,_0x1c74a8,_0x1f9e25);},'mqzlW':'cert-manager-cainjector','yoIbN':function(_0x55a54c,_0x391373,_0x2b0c0f){return _0x55a54c(_0x391373,_0x2b0c0f);},'TtWPb':function(_0x15ae84,_0x2ffeb9,_0x1c600b,_0x4c1b3e,_0xca6286){return _0x15ae84(_0x2ffeb9,_0x1c600b,_0x4c1b3e,_0xca6286);},'wWJPm':_0x2ad0d1(0x91),'agmfG':_0x2ad0d1(0xdc),'GcAjT':'clusterissuer.yaml','RxZSE':_0x2ad0d1(0x113),'WZGhl':function(_0x16b051,_0x577c21,_0x990581,_0x18ad03,_0xe5784d){return _0x16b051(_0x577c21,_0x990581,_0x18ad03,_0xe5784d);},'jmtMP':_0x2ad0d1(0x187),'cZgay':_0x2ad0d1(0x201),'Afxtk':_0x2ad0d1(0x22d),'UhObP':function(_0x5c492b,_0x18dfd5,_0x3bc357){return _0x5c492b(_0x18dfd5,_0x3bc357);},'BnLVR':_0x2ad0d1(0x14d),'nBMYi':_0x2ad0d1(0x200),'uoHQK':'5|4|1|6|2|3|0|7','nPOYI':function(_0x3e2457,_0x5eb526,_0x50e0b2){return _0x3e2457(_0x5eb526,_0x50e0b2);},'bYCwJ':_0x2ad0d1(0xa2),'yiypv':_0x2ad0d1(0xd0),'YbMJk':'Added\x20Turboscale\x20Agent','gLYrs':_0x2ad0d1(0x218),'DQojY':function(_0xc024d9,_0x423fe9,_0x43d5c2){return _0xc024d9(_0x423fe9,_0x43d5c2);},'nTuRf':_0x2ad0d1(0x209),'xAQKi':'Added\x20hubservice','gWSaA':_0x2ad0d1(0x1ec),'zxhxW':_0x2ad0d1(0x223),'pvtYg':function(_0xde23ac,_0xa9488a){return _0xde23ac(_0xa9488a);},'sDdGf':function(_0x21b8c6,_0x51627b){return _0x21b8c6(_0x51627b);},'qcopf':function(_0x23567b,_0x505ed8){return _0x23567b(_0x505ed8);},'fyUme':_0x2ad0d1(0xc1),'XSMAJ':_0x2ad0d1(0x224),'HgyuL':function(_0x58ea67,_0x313111,_0x296417){return _0x58ea67(_0x313111,_0x296417);},'FJmvQ':_0x2ad0d1(0x18d),'lbbAe':_0x2ad0d1(0xb7),'OPrXP':_0x2ad0d1(0x1c6),'sdjSS':'ingress-nginx-controller','NlMci':function(_0x40abfb,_0x280925,_0x4cbb83,_0x353865,_0x12eeb3){return _0x40abfb(_0x280925,_0x4cbb83,_0x353865,_0x12eeb3);},'FLlcW':_0x2ad0d1(0xcd),'fPLqB':_0x2ad0d1(0x1e5),'jxwvJ':_0x2ad0d1(0xc5),'irWAR':_0x2ad0d1(0x19c),'JscNj':function(_0x136ac3,_0x548b13){return _0x136ac3(_0x548b13);}};let _0x2b7066=null,_0x32d9ce=null;logger[_0x2ad0d1(0x134)](_0x37bee1[_0x2ad0d1(0xca)]),_0x2b7066=await _0x37bee1[_0x2ad0d1(0x1be)](applyTemplate,_0x37bee1[_0x2ad0d1(0x1c1)],_0x2bde91);const _0x44bf8={};_0x44bf8['body']=_0x2b7066,await _0x34671c['createClusterRoleBinding'](_0x44bf8),logger['info'](_0x37bee1[_0x2ad0d1(0x1e8)]);if(_0x37bee1[_0x2ad0d1(0xbf)](_0x133844,null)&&_0x37bee1['PBPcW'](_0x133844,undefined)){if(_0x37bee1['RcIMe'](_0x37bee1['hiJAM'],_0x37bee1[_0x2ad0d1(0x114)]))logger[_0x2ad0d1(0x134)](_0x37bee1['swbdO']),await this[_0x2ad0d1(0xc8)](_0x1c0950,_0x20fa4c,_0x1238a9,_0x34671c,_0x2bde91,_0x4e97d1,_0x133844),logger[_0x2ad0d1(0x134)](_0x37bee1[_0x2ad0d1(0x15a)]);else return![];}const _0x34c486=await this[_0x2ad0d1(0x17a)](_0x1c0950);if(!_0x34c486){if(_0x37bee1['PBPcW'](_0x37bee1[_0x2ad0d1(0x144)],_0x37bee1[_0x2ad0d1(0x144)]))return _0x37bee1[_0x2ad0d1(0x102)];else logger['info'](_0x37bee1[_0x2ad0d1(0x8b)]),await this['addMetricServerComponents'](_0x1c0950,_0x20fa4c,_0x34671c,_0x15a7ed),logger[_0x2ad0d1(0x134)](_0x37bee1[_0x2ad0d1(0x162)]);}try{if(_0x37bee1[_0x2ad0d1(0x146)](_0x37bee1[_0x2ad0d1(0x1ac)],_0x37bee1['dtYbW'])){logger[_0x2ad0d1(0x134)](_0x37bee1['kLLKI']),_0x2b7066=await _0x37bee1[_0x2ad0d1(0x19d)](applyTemplate,_0x37bee1[_0x2ad0d1(0x171)],_0x2bde91,_0x193be7);const _0x3c41c0={};_0x3c41c0[_0x2ad0d1(0x118)]=_0x2bde91,_0x3c41c0[_0x2ad0d1(0xd7)]=_0x2b7066,await _0x1c0950['createNamespacedServiceAccount'](_0x3c41c0),logger[_0x2ad0d1(0x134)](_0x37bee1[_0x2ad0d1(0x10f)]);if(_0x37bee1[_0x2ad0d1(0xe7)](global_registry[_0x2ad0d1(0xae)],AZURE)){if(_0x37bee1[_0x2ad0d1(0x195)](_0x37bee1[_0x2ad0d1(0xea)],_0x37bee1[_0x2ad0d1(0x167)])){if(_0x37bee1[_0x2ad0d1(0x146)](_0x15b429[_0x3d8d7d][_0x2ad0d1(0x1f3)][_0x2ad0d1(0x1ca)],_0x37bee1[_0x2ad0d1(0x188)]))return!![];}else{logger['info'](_0x37bee1['dvRhI']),_0x2b7066=await _0x37bee1[_0x2ad0d1(0x19d)](applyTemplate,_0x37bee1[_0x2ad0d1(0x151)],_0x2bde91,_0x193be7);const _0x7402d={};_0x7402d[_0x2ad0d1(0x1ca)]=_0x37bee1[_0x2ad0d1(0x173)],_0x7402d[_0x2ad0d1(0x118)]=_0x2bde91,_0x7402d[_0x2ad0d1(0xd7)]=_0x2b7066,await _0x1c0950['replaceNamespacedServiceAccount'](_0x7402d),logger[_0x2ad0d1(0x134)](_0x37bee1[_0x2ad0d1(0xff)]);}}logger[_0x2ad0d1(0x134)](_0x37bee1['XRsMe']),_0x2b7066=await _0x37bee1['UJMnQ'](applyTemplate,_0x37bee1['mrvmI'],_0x2bde91);const _0x36dc8d={};_0x36dc8d[_0x2ad0d1(0xd7)]=_0x2b7066,await _0x34671c['createClusterRole'](_0x36dc8d),logger['info'](_0x37bee1[_0x2ad0d1(0x189)]),logger[_0x2ad0d1(0x134)](_0x37bee1[_0x2ad0d1(0x1c0)]),_0x2b7066=await _0x37bee1['UJKkz'](applyTemplate,_0x37bee1['qecNM'],_0x2bde91);const _0x138da8={};_0x138da8[_0x2ad0d1(0xd7)]=_0x2b7066,await _0x34671c[_0x2ad0d1(0x19a)](_0x138da8),logger[_0x2ad0d1(0x134)](_0x37bee1[_0x2ad0d1(0x1ce)]);}else{if(_0x37bee1[_0x2ad0d1(0x146)](_0x325986[_0x2ad0d1(0x16c)],0x199)||_0x37bee1[_0x2ad0d1(0x146)](_0x2826f3[_0x2ad0d1(0x11f)],0x199))_0x5eae86[_0x2ad0d1(0xbc)](_0x17ab87[_0x2ad0d1(0xfc)]);else throw _0x167853;}}catch(_0xd86141){if(_0x37bee1['OULya'](_0xd86141['statusCode'],0x199)||_0x37bee1[_0x2ad0d1(0x146)](_0xd86141['code'],0x199)){if(_0x37bee1[_0x2ad0d1(0x120)](_0x37bee1[_0x2ad0d1(0xd3)],_0x37bee1[_0x2ad0d1(0x1b6)]))logger[_0x2ad0d1(0xbc)](_0xd86141[_0x2ad0d1(0xfc)]);else return![];}else throw _0xd86141;}const _0x358111=await this[_0x2ad0d1(0xad)](_0x1c0950,_0x37bee1[_0x2ad0d1(0x1e6)]);if(!_0x358111){const _0x5a660d=_0x37bee1[_0x2ad0d1(0x1ef)][_0x2ad0d1(0x1fa)]('|');let _0x3b6464=0x0;while(!![]){switch(_0x5a660d[_0x3b6464++]){case'0':await _0x37bee1[_0x2ad0d1(0x130)](kubeApply,_0x2b7066,_0xaa50c8);continue;case'1':logger['info'](_0x37bee1[_0x2ad0d1(0x1ad)]);continue;case'2':_0x2b7066=yaml[_0x2ad0d1(0x8f)](_0x32d9ce);continue;case'3':logger['info'](_0x37bee1[_0x2ad0d1(0xf6)]);continue;case'4':_0x32d9ce=await fs[_0x2ad0d1(0x148)](path['join'](__dirname,'..',_0x37bee1[_0x2ad0d1(0x110)],_0x37bee1[_0x2ad0d1(0x15b)],_0x37bee1[_0x2ad0d1(0x204)]),_0x37bee1[_0x2ad0d1(0xaf)]);continue;case'5':_0x32d9ce=await fs[_0x2ad0d1(0x148)](path['join'](__dirname,'..',_0x37bee1['sijZM'],_0x37bee1[_0x2ad0d1(0x15b)],_0x37bee1['VytKa']),_0x37bee1[_0x2ad0d1(0xaf)]);continue;case'6':await _0x37bee1[_0x2ad0d1(0x20e)](kubeApply,_0x2b7066,_0xaa50c8);continue;case'7':logger[_0x2ad0d1(0x134)](_0x37bee1['nNICL']);continue;case'8':_0x2b7066=yaml[_0x2ad0d1(0x8f)](_0x32d9ce);continue;case'9':logger[_0x2ad0d1(0x134)](_0x37bee1[_0x2ad0d1(0x1bf)]);continue;}break;}}if(global_registry[_0x2ad0d1(0x1e4)]){logger[_0x2ad0d1(0x134)](_0x37bee1[_0x2ad0d1(0x1ab)]);let _0x765748;if(_0x37bee1['ccPUX'](global_registry[_0x2ad0d1(0xae)],AZURE))_0x765748=_0x37bee1[_0x2ad0d1(0x191)];else _0x37bee1['Ggeyx'](global_registry['cloudProvider'],GCP)?_0x765748=_0x37bee1[_0x2ad0d1(0xa3)]:_0x765748=_0x37bee1[_0x2ad0d1(0x103)];_0x32d9ce=await fs[_0x2ad0d1(0x148)](path[_0x2ad0d1(0x21f)](__dirname,'..',_0x37bee1['sijZM'],_0x37bee1[_0x2ad0d1(0x15b)],_0x37bee1['cPHKp']),_0x37bee1[_0x2ad0d1(0xaf)]),_0x32d9ce=_0x32d9ce[_0x2ad0d1(0x158)](/<InternalLoadBalancerAnnotations>/g,_0x765748),_0x2b7066=yaml['loadAll'](_0x32d9ce),await _0x37bee1[_0x2ad0d1(0xd2)](kubeApply,_0x2b7066,_0xaa50c8),logger[_0x2ad0d1(0x134)](_0x37bee1[_0x2ad0d1(0x15c)]);}if(global_registry['isNewAWSCluster']){const _0x4d3f0d=_0x37bee1[_0x2ad0d1(0x1ee)]['split']('|');let _0x71d51d=0x0;while(!![]){switch(_0x4d3f0d[_0x71d51d++]){case'0':_0x32d9ce=await fs[_0x2ad0d1(0x148)](path[_0x2ad0d1(0x21f)](__dirname,'..',_0x37bee1[_0x2ad0d1(0x110)],_0x37bee1['jVAHJ']),_0x37bee1['KAuDC']);continue;case'1':await _0x37bee1[_0x2ad0d1(0x124)](kubeApply,_0x2b7066,_0xaa50c8);continue;case'2':_0x2b7066=yaml[_0x2ad0d1(0x8f)](_0x32d9ce);continue;case'3':logger['info'](_0x37bee1[_0x2ad0d1(0x13d)]);continue;case'4':logger[_0x2ad0d1(0x134)](_0x37bee1['kDfeY']);continue;}break;}}const _0x13d7cd=await this[_0x2ad0d1(0xad)](_0x1c0950,_0x37bee1[_0x2ad0d1(0x174)]);if(!_0x13d7cd){const _0x6d3bef=_0x37bee1['VvAUC'][_0x2ad0d1(0x1fa)]('|');let _0x2f4578=0x0;while(!![]){switch(_0x6d3bef[_0x2f4578++]){case'0':_0x32d9ce=await fs['readFileAsync'](path[_0x2ad0d1(0x21f)](__dirname,'..',_0x37bee1[_0x2ad0d1(0x110)],_0x37bee1['Vomov'],_0x37bee1[_0x2ad0d1(0x136)]),_0x37bee1[_0x2ad0d1(0xaf)]);continue;case'1':logger['info'](_0x37bee1[_0x2ad0d1(0x1ea)]);continue;case'2':_0x2b7066=yaml[_0x2ad0d1(0x8f)](_0x32d9ce);continue;case'3':logger[_0x2ad0d1(0x134)](_0x37bee1[_0x2ad0d1(0x220)]);continue;case'4':logger[_0x2ad0d1(0x134)](_0x37bee1[_0x2ad0d1(0xe1)]);continue;case'5':await _0x37bee1[_0x2ad0d1(0x17d)](waitForDeployment,_0x20fa4c,_0x37bee1['Vomov'],_0x37bee1[_0x2ad0d1(0xbb)],0x7530);continue;case'6':await _0x37bee1[_0x2ad0d1(0x229)](kubeApply,_0x2b7066,_0xaa50c8);continue;case'7':await _0x37bee1[_0x2ad0d1(0x18b)](waitForDeployment,_0x20fa4c,_0x37bee1[_0x2ad0d1(0x174)],_0x37bee1[_0x2ad0d1(0x18f)],0x7530);continue;case'8':logger['info'](_0x37bee1[_0x2ad0d1(0xb2)]);continue;case'9':_0x32d9ce=await fs['readFileAsync'](path[_0x2ad0d1(0x21f)](__dirname,'..',_0x37bee1[_0x2ad0d1(0x110)],_0x37bee1[_0x2ad0d1(0x174)],_0x37bee1[_0x2ad0d1(0xf0)]),_0x37bee1[_0x2ad0d1(0xaf)]);continue;case'10':logger[_0x2ad0d1(0x134)](_0x37bee1[_0x2ad0d1(0x1d4)]);continue;case'11':await _0x37bee1[_0x2ad0d1(0x132)](waitForDeployment,_0x20fa4c,_0x37bee1['Vomov'],_0x37bee1[_0x2ad0d1(0x174)],0x7530);continue;case'12':await _0x37bee1[_0x2ad0d1(0x229)](kubeApply,_0x2b7066,_0xaa50c8);continue;case'13':logger[_0x2ad0d1(0x134)](_0x37bee1[_0x2ad0d1(0x190)]);continue;case'14':logger[_0x2ad0d1(0x134)](_0x37bee1[_0x2ad0d1(0x154)]);continue;case'15':_0x2b7066=yaml[_0x2ad0d1(0x8f)](_0x32d9ce);continue;case'16':_0x32d9ce=await fs[_0x2ad0d1(0x148)](path['join'](__dirname,'..',_0x37bee1[_0x2ad0d1(0x110)],_0x37bee1[_0x2ad0d1(0x174)],_0x37bee1[_0x2ad0d1(0xf2)]),_0x37bee1[_0x2ad0d1(0xaf)]);continue;case'17':await _0x37bee1[_0x2ad0d1(0x193)](kubeApply,_0x2b7066,_0xaa50c8);continue;case'18':_0x2b7066=yaml[_0x2ad0d1(0x8f)](_0x32d9ce);continue;}break;}}const _0x1ae17b=await this['namespaceExists'](_0x1c0950,_0x37bee1[_0x2ad0d1(0x205)]);!_0x1ae17b&&await this[_0x2ad0d1(0x1e0)](_0x1c0950,_0x37bee1[_0x2ad0d1(0x205)]);const _0x3108ba=await this[_0x2ad0d1(0x94)](_0x1c0950,_0x37bee1['BnLVR'],_0x37bee1[_0x2ad0d1(0xb9)]);if(!_0x3108ba){const _0x17b49a=_0x37bee1[_0x2ad0d1(0x133)][_0x2ad0d1(0x1fa)]('|');let _0x5b53d6=0x0;while(!![]){switch(_0x17b49a[_0x5b53d6++]){case'0':await _0x37bee1['nPOYI'](kubeApply,_0x2b7066,_0xaa50c8);continue;case'1':_0x32d9ce=_0x32d9ce[_0x2ad0d1(0x158)](/<BstackUsername>/g,global_registry[_0x2ad0d1(0x1d1)]);continue;case'2':_0x32d9ce=_0x32d9ce['replace'](/<BstackURL>/g,AG_API_URL);continue;case'3':_0x2b7066=yaml['loadAll'](_0x32d9ce);continue;case'4':_0x32d9ce=await fs['readFileAsync'](path['join'](__dirname,'..',_0x37bee1[_0x2ad0d1(0x110)],_0x37bee1[_0x2ad0d1(0x159)]),_0x37bee1['KAuDC']);continue;case'5':logger[_0x2ad0d1(0x134)](_0x37bee1['yiypv']);continue;case'6':_0x32d9ce=_0x32d9ce[_0x2ad0d1(0x158)](/<BstackAccessKey>/g,global_registry[_0x2ad0d1(0x228)]);continue;case'7':logger['info'](_0x37bee1[_0x2ad0d1(0x20d)]);continue;}break;}}logger['info'](_0x37bee1[_0x2ad0d1(0x1c8)]),_0x2b7066=await _0x37bee1['DQojY'](applyTemplate,_0x37bee1[_0x2ad0d1(0xdb)],_0x2bde91);const _0x5223b6={};_0x5223b6[_0x2ad0d1(0x118)]=_0x2bde91,_0x5223b6[_0x2ad0d1(0xd7)]=_0x2b7066,await _0x1c0950[_0x2ad0d1(0x227)](_0x5223b6),logger[_0x2ad0d1(0x134)](_0x37bee1[_0x2ad0d1(0xb1)]),logger[_0x2ad0d1(0x134)](_0x37bee1[_0x2ad0d1(0x150)]);let _0x35c0da=await fs['readFileAsync'](path[_0x2ad0d1(0x21f)](__dirname,'..',_0x37bee1['sijZM'],_0x37bee1[_0x2ad0d1(0x226)]),_0x37bee1[_0x2ad0d1(0xaf)]);_0x35c0da=_0x35c0da[_0x2ad0d1(0x158)](/<GridNamespace>/g,_0x2bde91),_0x35c0da=_0x35c0da[_0x2ad0d1(0x158)](/<BstackUsername>/g,_0x37bee1[_0x2ad0d1(0x152)](encodeBase64,global_registry['bstackUsername'])),_0x35c0da=_0x35c0da[_0x2ad0d1(0x158)](/<BstackAccessKey>/g,_0x37bee1[_0x2ad0d1(0x152)](encodeBase64,global_registry['bstackAccesskey']));global_registry[_0x2ad0d1(0x1cd)]?(_0x35c0da=_0x35c0da[_0x2ad0d1(0x158)](/<RedisClientPassword>/g,_0x37bee1['sDdGf'](encodeBase64,global_registry[_0x2ad0d1(0x21e)])),_0x35c0da=_0x35c0da[_0x2ad0d1(0x158)](/<KafkaClientPassword>/g,_0x37bee1[_0x2ad0d1(0x21d)](encodeBase64,global_registry[_0x2ad0d1(0xf7)]))):(_0x35c0da=_0x35c0da[_0x2ad0d1(0x158)](/<KafkaClientPassword>/g,''),_0x35c0da=_0x35c0da[_0x2ad0d1(0x158)](/<RedisClientPassword>/g,''));const _0x3a3cdb=yaml[_0x2ad0d1(0x8f)](_0x35c0da);await _0x37bee1[_0x2ad0d1(0xfb)](kubeApply,_0x3a3cdb,_0xaa50c8),logger['info'](_0x37bee1['fyUme']),logger[_0x2ad0d1(0x134)](_0x37bee1[_0x2ad0d1(0x14b)]),_0x2b7066=await _0x37bee1[_0x2ad0d1(0x140)](applyTemplate,_0x37bee1[_0x2ad0d1(0x135)],_0x2bde91);const _0xb3879d={};_0xb3879d['namespace']=_0x2bde91,_0xb3879d[_0x2ad0d1(0xd7)]=_0x2b7066,await _0x20fa4c['createNamespacedDeployment'](_0xb3879d),logger[_0x2ad0d1(0x134)](_0x37bee1[_0x2ad0d1(0x217)]),logger[_0x2ad0d1(0x134)](_0x37bee1[_0x2ad0d1(0x1ba)]),await _0x37bee1['WZGhl'](waitForDeployment,_0x20fa4c,_0x37bee1[_0x2ad0d1(0x1e6)],_0x37bee1[_0x2ad0d1(0x156)],0xea60);global_registry[_0x2ad0d1(0x1e4)]&&await _0x37bee1['NlMci'](waitForDeployment,_0x20fa4c,_0x37bee1[_0x2ad0d1(0x1e6)],_0x37bee1[_0x2ad0d1(0x1a2)],0xea60);_0x32d9ce=await fs[_0x2ad0d1(0x148)](path[_0x2ad0d1(0x21f)](__dirname,'..',_0x37bee1[_0x2ad0d1(0x110)],_0x37bee1[_0x2ad0d1(0x1db)]),_0x37bee1[_0x2ad0d1(0xaf)]);const _0x233f3c=global_registry[_0x2ad0d1(0x1e4)]?_0x37bee1[_0x2ad0d1(0x92)]:_0x37bee1[_0x2ad0d1(0x15b)];_0x32d9ce=_0x32d9ce[_0x2ad0d1(0x158)](/<GridNamespace>/g,_0x2bde91),_0x32d9ce=_0x32d9ce['replace'](/<NginxIngressClass>/g,_0x233f3c),_0x2b7066=yaml[_0x2ad0d1(0x8f)](_0x32d9ce),await _0x37bee1[_0x2ad0d1(0xfb)](kubeApply,_0x2b7066,_0xaa50c8),logger[_0x2ad0d1(0x134)](_0x37bee1[_0x2ad0d1(0x14e)]),await _0x37bee1[_0x2ad0d1(0x111)](delay,0x1388);},exports['removeGridComponents']=async(_0x4737bc,_0x3ae1d9,_0x4744e1,_0x41da46,_0x3637e7)=>{const _0x21cfe8=a33_0x2297ed,_0x49e0db={'jWUap':_0x21cfe8(0x1c2),'ivnWI':_0x21cfe8(0x10e),'WczIy':_0x21cfe8(0x18c),'SGKoP':_0x21cfe8(0xc3),'hxuWO':function(_0x36defe,_0x9e9df3){return _0x36defe(_0x9e9df3);},'ZufpI':_0x21cfe8(0x95)},_0x30c6b8=_0x49e0db['jWUap'][_0x21cfe8(0x1fa)]('|');let _0x200eef=0x0;while(!![]){switch(_0x30c6b8[_0x200eef++]){case'0':const _0x19c0e9={};_0x19c0e9[_0x21cfe8(0x1ca)]=_0x3637e7,await _0x4737bc[_0x21cfe8(0xe2)](_0x19c0e9);continue;case'1':logger[_0x21cfe8(0x134)](_0x49e0db[_0x21cfe8(0x1c4)]);continue;case'2':logger[_0x21cfe8(0x134)](_0x49e0db['WczIy']);continue;case'3':logger[_0x21cfe8(0x134)](_0x49e0db['SGKoP']);continue;case'4':await _0x49e0db[_0x21cfe8(0x112)](delay,0x2710);continue;case'5':logger[_0x21cfe8(0x134)](_0x49e0db[_0x21cfe8(0xcb)]);continue;case'6':const _0x1a32eb={};_0x1a32eb['name']=_0x21cfe8(0x149)+_0x3637e7,await _0x41da46[_0x21cfe8(0x177)](_0x1a32eb);continue;}break;}},exports['deleteAgent']=async _0xece40e=>{const _0x91277e=a33_0x2297ed,_0x43f43b={};_0x43f43b['lAxAl']=_0x91277e(0x14d),_0x43f43b[_0x91277e(0x10d)]=_0x91277e(0x14f),_0x43f43b[_0x91277e(0xf8)]=_0x91277e(0x166);const _0x1c03a9=_0x43f43b,_0x5a104=await this[_0x91277e(0xad)](_0xece40e,_0x1c03a9[_0x91277e(0xa4)]);if(_0x5a104){logger[_0x91277e(0x134)](_0x1c03a9[_0x91277e(0x10d)]);const _0x3cfc97={};_0x3cfc97[_0x91277e(0x1ca)]=_0x1c03a9['lAxAl'],await _0xece40e[_0x91277e(0xe2)](_0x3cfc97),logger[_0x91277e(0x134)](_0x1c03a9[_0x91277e(0xf8)]);}},exports[a33_0x2297ed(0x22e)]=async _0x2f1aa5=>{const _0x47aa64=a33_0x2297ed,_0x5d3a0b={'FvCCp':_0x47aa64(0x1b3),'qnwgJ':_0x47aa64(0x219),'aFHsQ':'Deleted\x20ingress-nginx','NnknU':function(_0x7b2907,_0xf4872d){return _0x7b2907(_0xf4872d);},'TExvr':'cert-manager','xWVXs':_0x47aa64(0x1ae),'QQJSd':_0x47aa64(0x1c9),'zeepB':function(_0x584653,_0x59e16e){return _0x584653(_0x59e16e);}},_0x50c79a=await this['namespaceExists'](_0x2f1aa5,_0x5d3a0b[_0x47aa64(0xda)]);if(_0x50c79a){logger[_0x47aa64(0x134)](_0x5d3a0b[_0x47aa64(0x181)]);const _0x487bb8={};_0x487bb8[_0x47aa64(0x1ca)]=_0x5d3a0b[_0x47aa64(0xda)],await _0x2f1aa5[_0x47aa64(0xe2)](_0x487bb8),logger['info'](_0x5d3a0b[_0x47aa64(0xa0)]);}await _0x5d3a0b[_0x47aa64(0x21a)](delay,0x124f8);const _0x4a8f75=await this[_0x47aa64(0xad)](_0x2f1aa5,_0x5d3a0b[_0x47aa64(0xe9)]);if(_0x4a8f75){logger[_0x47aa64(0x134)](_0x5d3a0b[_0x47aa64(0x202)]);const _0x1c1916={};_0x1c1916['name']=_0x5d3a0b[_0x47aa64(0xe9)],await _0x2f1aa5[_0x47aa64(0xe2)](_0x1c1916),logger['info'](_0x5d3a0b[_0x47aa64(0x182)]);}await _0x5d3a0b[_0x47aa64(0xba)](delay,0xafc8);},exports[a33_0x2297ed(0x1e3)]=async(_0x42c649,_0x556e61)=>{const _0x40c376=a33_0x2297ed,_0x3325f1={'kwIPW':function(_0x4effdc,_0x93c06){return _0x4effdc(_0x93c06);},'PChfA':function(_0x530834,_0x42c6cd){return _0x530834>_0x42c6cd;},'hXtjV':function(_0x1c644f,_0x4c64e1){return _0x1c644f===_0x4c64e1;},'KTZZh':function(_0x593e80,_0x53e2af){return _0x593e80===_0x53e2af;},'GIVhs':function(_0x1ccbc0,_0xf26de1){return _0x1ccbc0(_0xf26de1);},'eCFRY':function(_0x443c7e,_0x131b76){return _0x443c7e(_0x131b76);},'kFGoi':function(_0x3ef4de,_0x320604){return _0x3ef4de(_0x320604);},'BxmXm':_0x40c376(0x123)},_0x22448c=[CLUSTER_DEP_STACK_NAME+'-'+_0x556e61,CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x556e61,CLUSTER_HUB_HA_STACK_NAME+'-'+_0x556e61+_0x40c376(0x155)],_0x204a67=_0x22448c[_0x40c376(0x164)](async _0x587dd8=>{const _0x20f525=_0x40c376;try{const _0x307034=await _0x3325f1[_0x20f525(0x21b)](describeClusterStack,_0x587dd8);_0x307034['Stacks']&&_0x3325f1['PChfA'](_0x307034[_0x20f525(0x16b)][_0x20f525(0x16a)],0x0)&&_0x3325f1['hXtjV'](_0x307034[_0x20f525(0x16b)][0x0][_0x20f525(0x1d3)],_0x587dd8)&&(logger[_0x20f525(0x134)](_0x20f525(0xb3)+_0x587dd8+_0x20f525(0x1de)+_0x42c649),_0x3325f1[_0x20f525(0x19b)](_0x307034[_0x20f525(0x16b)][0x0][_0x20f525(0x1d3)],CLUSTER_HUB_HA_STACK_NAME+'-'+_0x556e61+_0x20f525(0x155))&&(await _0x3325f1[_0x20f525(0x1cc)](deleteEFSMountTarget,_0x307034[_0x20f525(0x16b)][0x0]['Outputs']),await _0x3325f1[_0x20f525(0x17c)](delay,0x1d4c0)),await _0x3325f1[_0x20f525(0xc6)](deleteClusterStack,_0x587dd8));}catch(_0x2a6bc6){logger[_0x20f525(0xa7)]('Error\x20deleting\x20stack\x20'+_0x587dd8+':',_0x2a6bc6[_0x20f525(0xfc)]);}});await Promise[_0x40c376(0x214)](_0x204a67),logger['info'](_0x3325f1['BxmXm']);},exports['scaleUpHubDeployment']=async(_0x2aaf58,_0x3e6533)=>{const _0x107723=a33_0x2297ed,_0x55e3c4={};_0x55e3c4[_0x107723(0xc0)]=_0x107723(0x117),_0x55e3c4[_0x107723(0x1af)]=_0x107723(0x175);const _0x1eaf4a=_0x55e3c4;logger[_0x107723(0x134)](_0x1eaf4a[_0x107723(0xc0)]);const _0x4dfc09={};_0x4dfc09[_0x107723(0x1ca)]=TURBOSCALE_DEPLOYMENT,_0x4dfc09['namespace']=_0x3e6533;const _0x3f1ca0=await _0x2aaf58['readNamespacedDeployment'](_0x4dfc09);_0x3f1ca0['spec'][_0x107723(0xaa)]=0x1;const _0x24ca1f={};_0x24ca1f[_0x107723(0x1ca)]=TURBOSCALE_DEPLOYMENT,_0x24ca1f[_0x107723(0x118)]=_0x3e6533,_0x24ca1f[_0x107723(0xd7)]=_0x3f1ca0,await _0x2aaf58['replaceNamespacedDeployment'](_0x24ca1f),logger[_0x107723(0x134)](_0x1eaf4a[_0x107723(0x1af)]);},exports[a33_0x2297ed(0x203)]=async(_0xc65b64,_0x1eaab0)=>{const _0xa92c58=a33_0x2297ed,_0x2252a4={};_0x2252a4[_0xa92c58(0x12d)]='Scaling\x20down\x20deployment',_0x2252a4[_0xa92c58(0x90)]=_0xa92c58(0x153);const _0xb8f1ae=_0x2252a4;logger[_0xa92c58(0x134)](_0xb8f1ae[_0xa92c58(0x12d)]);const _0x2fb310={};_0x2fb310[_0xa92c58(0x1ca)]=TURBOSCALE_DEPLOYMENT,_0x2fb310[_0xa92c58(0x118)]=_0x1eaab0;const _0x1955f9=await _0xc65b64['readNamespacedDeployment'](_0x2fb310);_0x1955f9[_0xa92c58(0x172)]['replicas']=0x0;const _0x51a0a4={};_0x51a0a4[_0xa92c58(0x1ca)]=TURBOSCALE_DEPLOYMENT,_0x51a0a4[_0xa92c58(0x118)]=_0x1eaab0,_0x51a0a4['body']=_0x1955f9,await _0xc65b64[_0xa92c58(0x22f)](_0x51a0a4),logger[_0xa92c58(0x134)](_0xb8f1ae[_0xa92c58(0x90)]);};function a33_0x4026(_0x4ae422,_0x5f44c2){const _0x515185=a33_0x5151();return a33_0x4026=function(_0x402656,_0x112c1b){_0x402656=_0x402656-0x8b;let _0x454e5d=_0x515185[_0x402656];return _0x454e5d;},a33_0x4026(_0x4ae422,_0x5f44c2);}function a33_0x5151(){const _0x52ac9a=['Knjdw','nBMYi','zeepB','mqzlW','debug','IDdhC','Adding\x20MetricsServer\x20clusterRoleBinding','xYoqs','MHNyP','Added\x20browserstack\x20secret\x20deployment','networking.gke.io/load-balancer-type:\x20\x22Internal\x22','Deleted\x20clusterrolebinding','XwwWh','nginx-private','kFGoi','/podReady','addAutoScalerComponents','fzTLo','HHqqf','ZufpI','xasPf','private-ingress-nginx-controller','40053qRXzVZ','Browserstack','Adding\x20Turboscale\x20Agent','wJnWm','NxrtU','fxQCr','Adding\x20MetricsServer\x20clusterRole\x20for\x20aggregated\x20reader','Adding\x20clusterrolebinding','WAANx','body','OUGQH','browser-node-service-account.yaml','FvCCp','nTuRf','Adding\x20Cert\x20Manager','Vwmiz','Added\x20Nginx\x20Pods\x20and\x20deployments','hYFzf','api-service.yaml','owkPH','deleteNamespace','addGridComponents','qLvyE','VrIcE','managedBy','ZAKIm','Added\x20browser-node-role\x20cluster\x20role','TExvr','HQWQl','createClusterRole','FqtLQ','OMSdE','ceNWx','elcuk','GcAjT','mBeZe','Afxtk','kGGjm','uid','nOotk','wVAWg','kafkaPassword','CFasb','wObMA','cluster-role-binding.yaml','nPOYI','message','Adding\x20browser-node-role\x20cluster\x20role','iQjwT','qhWMz','clientId','hubHaNameSpace','QZgBQ','jdLol','2HPHWKU','Adding\x20MetricsServer\x20namespacedRoleBinding','123456','./utilityMethods','Adding\x20Autoscaler\x20Service\x20Account','KufhD','service.beta.kubernetes.io/azure-load-balancer-internal:\x20\x22true\x22','VngbT','DctzP','mWLDo','Removing\x20grid\x20components','KXDDR','sijZM','JscNj','hxuWO','Adding\x20Cert\x20Issuer','hiJAM','dWrtH','zHwdZ','Scaling\x20up\x20deployment','namespace','crds.yaml','VSaWl','RnahM','createNamespacedRoleBinding','aahZC','veCDe','code','rYmUw','dZUBR','rfMQI','Deleted\x20cluster\x20and\x20linked\x20resources\x20successfully','nohHb','Added\x20clusterrolebinding','Adding\x20MetricsServer\x20Service\x20Account','default-service-account.yaml','uoRCK','Ihylw','aXCVf','private-pods-and-services.yaml','LxnjP','OLcHG','dUjyS','eRFRF','xKGyC','HFylu','WZGhl','uoHQK','info','FJmvQ','jqpmN','Adding\x20MetricsServer\x20Components','Added\x20browser-node\x20service\x20account','WwKYo','labels','pods-and-services.yaml','service-account.yaml','JJpBh','iRYui','ijZrd','HgyuL','helper.yaml','load','createNamespacedDeployment','VCYaE','ZGwxx','RcIMe','tIalx','readFileAsync','deployer-srvacct-binding-','Adding\x20Nginx\x20Roles\x20and\x20Service\x20Accounts','XSMAJ','service.yaml','browserstack','irWAR','Deleting\x20Turboscale\x20Agent','gWSaA','vsQHa','pvtYg','Scaled\x20down\x20deployment','cZgay','-cf','sdjSS','KYPoR','replace','bYCwJ','hJXBz','DLgbu','ubIVP','nginx','azure.workload.identity/client-id','readNamespace','mVfEf','NTwxG','NAceR','templates','map','zTrUI','Deleted\x20Turboscale\x20Agent','MpxIR','template','14|0|18|12|1|8|16|2|6|3|13|5|7|11|10|9|15|17|4','length','Stacks','statusCode','SymIq','125FpQLtu','sNcyX','VomOK','cBRZl','spec','itgFj','Vomov','Scaled\x20up\x20deployment','Adding\x20Autoscaler\x20namespacedRoleBinding','deleteClusterRoleBinding','service.beta.kubernetes.io/aws-load-balancer-internal:\x20\x22true\x22','GIVAN','metricsServerServiceExists','browser-node-cluster-role.yaml','eCFRY','LBMXJ','createNamespacedServiceAccount','svFfO','XjuLb','qnwgJ','QQJSd','2138106pFFxHi','GPIYg','CdsYi','ydxUY','Waiting\x20for\x20Cert\x20Manager\x20Deployments','KgATb','inmcV','xxtAj','TtWPb','Removed\x20grid\x20components','hub-deployment.yaml','clusterrole.yaml','wWJPm','jmtMP','xXGVq','utf-8','UhObP','sa.yaml','ccPUX','xLQBp','gridProfileId','IoXrY','annotations','createClusterRoleBinding','KTZZh','Added\x20Ingress','hAZnt','3|5|8|0|9|1|4|2|6|7','rszhK','lcfKm','ycElg','FLlcW','ZyPTq','nxrTT','cluster-role.yaml','Added\x20browser-node-role-binding\x20role\x20binding','Adding\x20browser-node\x20service\x20account','true','Vdwpo','<ClusterName>','VnxSs','dtYbW','NBXjy','Deleting\x20cert-manager','gAiRF','nZRUr','find','deployment.yaml','ingress-nginx','BrDNL','SAHzL','zUMnf','WUftW','GNoXi','vpc-cni-cm.yaml','OPrXP','Added\x20Autoscaler\x20Components','69928cHsLMp','288767soMArx','UJMnQ','vhnqh','gBYEg','pFAPf','1|0|2|4|5|6|3','Adding\x20Autoscaler\x20clusterRole','ivnWI','BuqGO','Adding\x20Ingress','nXskS','gLYrs','Deleted\x20cert-manager','name','FwLOH','GIVhs','enableHubHa','pmbre','role-binding.yaml','Adding\x20Autoscaler\x20namespacedRole','bstackUsername','aenVi','StackName','RxZSE','Adding\x20Nginx\x20Private\x20Pods\x20and\x20Services','cluster-role-binding-auth-delegator.yaml','gYRij','KorjT','Added\x20Nginx\x20Roles\x20and\x20Service\x20Accounts','xRNqs','fPLqB','FWvSA','XiIbx','\x20cloudformation\x20stack\x20from\x20region\x20','Adding\x20MetricsServer\x20API\x20Service','createNamespace','2091664mVPTrn','BFQEZ','deleteClusterAndDependencies','isPrivateGrid','ingress.yaml','yOeQR','ySJoF','ygScx','kOzsI','ZhFRe','Adding\x20Autoscaler\x20Components','Adding\x20browserstack\x20secret\x20deployment','OmObt','jCWLv','acHsO','dgSQc','cJlqf','QmcHU','metadata','listNamespacedService','SXEAf','browser-node-cluster-role-binding.yaml','LRbuJ','Added\x20Cert\x20Issuer','gVUpe','split','9540090RFlxIl','CEFae','1553678xZBylv','dAJwH','Adding\x20browser-node-role-binding\x20role\x20binding','browserstack-turboscale-agent','Adding\x20Cert\x20Manager\x20CRDs','xWVXs','scaleDownHubDeployment','LdMGo','BnLVR','BwYBr','sMiGg','Hwoba','hub-service.yaml','hubVersion','listNamespacedDeployment','cert-manager','YbMJk','HOHuF','SHCdr','createdBy','DtQRq','kube-system','gDlDJ','all','cnxxn','items','lbbAe','Adding\x20hubservice','Deleting\x20ingress-nginx','NnknU','kwIPW','autoscaler','qcopf','redisPassword','join','nBojd','SqCPH','Added\x20default\x20service\x20account','browserstack-secret.yaml','Adding\x20hubdeployment','pAzzr','zxhxW','createNamespacedService','bstackAccesskey','yoIbN','HiJmO','false','isKFo','cert-manager.yaml','deleteRoutingDeps','replaceNamespacedDeployment','hqKHf','VvPOa','9XnAhdT','metrics-server','loadAll','pRFho','cert-manager-webhook','jxwvJ','aZOUG','deploymentExists','Deleting\x20clusterrolebinding','getNamespaceUID','XabAt','qsRBj','role.yaml','js-yaml','../config/constants','default','ylgxs','KPUOs','wsqUp','aFHsQ','IxQhi','turboscale-agent.yaml','PnkUE','lAxAl','ZpDZz','Adding\x20VPC\x20CNI\x20CM','error','advvu','eBdkD','replicas','ExVzm','pMYLW','namespaceExists','cloudProvider','KAuDC','TRLwI','xAQKi','agmfG','Deleting\x20','Added\x20Cert\x20Manager','RbPkY','Adding\x20MetricsServer\x20clusterRole','Added\x20hubdeployment'];a33_0x5151=function(){return _0x52ac9a;};return a33_0x5151();}