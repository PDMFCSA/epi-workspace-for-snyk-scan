const a33_0x62d6cb=a33_0x5805;(function(_0x23975a,_0x22079f){const _0x3276fa=a33_0x5805,_0x5012ce=_0x23975a();while(!![]){try{const _0x90c8b=parseInt(_0x3276fa(0x264))/0x1+-parseInt(_0x3276fa(0x256))/0x2+parseInt(_0x3276fa(0x2c5))/0x3+-parseInt(_0x3276fa(0x2f2))/0x4*(-parseInt(_0x3276fa(0x2c6))/0x5)+parseInt(_0x3276fa(0x1b3))/0x6*(-parseInt(_0x3276fa(0x207))/0x7)+-parseInt(_0x3276fa(0x27a))/0x8+parseInt(_0x3276fa(0x2e2))/0x9*(parseInt(_0x3276fa(0x1d0))/0xa);if(_0x90c8b===_0x22079f)break;else _0x5012ce['push'](_0x5012ce['shift']());}catch(_0x3bf34b){_0x5012ce['push'](_0x5012ce['shift']());}}}(a33_0x8c3a,0x7ff9e));function a33_0x5805(_0x360cd2,_0xacf242){const _0x8c3a17=a33_0x8c3a();return a33_0x5805=function(_0x5805ea,_0x4116d2){_0x5805ea=_0x5805ea-0x19b;let _0xc341fb=_0x8c3a17[_0x5805ea];return _0xc341fb;},a33_0x5805(_0x360cd2,_0xacf242);}const fs=require('fs'),yaml=require(a33_0x62d6cb(0x329)),path=require(a33_0x62d6cb(0x1bd)),{v4:uuidv4}=require(a33_0x62d6cb(0x2ac)),{logger}=require(a33_0x62d6cb(0x1b1)),{AG_API_URL,global_registry,CLUSTER_DEP_STACK_NAME,CLUSTER_AUTOSCALER_STACK_NAME,CLUSTER_HUB_HA_STACK_NAME,AZURE,GCP,TURBOSCALE_DEPLOYMENT}=require(a33_0x62d6cb(0x220)),{deleteClusterStack}=require(a33_0x62d6cb(0x26f)),{kubeApply,waitForDeployment,encodeBase64}=require('./utilityMethods'),{delay}=require('../utils/webSocketUtils'),{describeClusterStack}=require(a33_0x62d6cb(0x272)),{deleteEFSMountTarget}=require('./deleteEFSMountTargets'),applyTemplate=async(_0x4c57df,_0x3aa3c4,_0x1ec74a={})=>{const _0x358dc5=a33_0x62d6cb,_0x29ad1d={};_0x29ad1d[_0x358dc5(0x1fb)]=_0x358dc5(0x27c),_0x29ad1d['evZPj']=function(_0x21d917,_0x1a36dc){return _0x21d917===_0x1a36dc;},_0x29ad1d[_0x358dc5(0x284)]=_0x358dc5(0x302),_0x29ad1d[_0x358dc5(0x2f8)]=_0x358dc5(0x1e4),_0x29ad1d[_0x358dc5(0x320)]=_0x358dc5(0x2cf),_0x29ad1d[_0x358dc5(0x2fe)]=function(_0x4f81f8,_0x35b421){return _0x4f81f8!=_0x35b421;},_0x29ad1d[_0x358dc5(0x1f6)]=function(_0x525410,_0x1b5b4d){return _0x525410!==_0x1b5b4d;},_0x29ad1d[_0x358dc5(0x28d)]='BVJIV',_0x29ad1d[_0x358dc5(0x235)]=_0x358dc5(0x312),_0x29ad1d[_0x358dc5(0x26b)]='/podReady',_0x29ad1d[_0x358dc5(0x24e)]=function(_0xb440e5,_0x2ece25){return _0xb440e5!==_0x2ece25;},_0x29ad1d[_0x358dc5(0x335)]=_0x358dc5(0x324),_0x29ad1d[_0x358dc5(0x253)]=_0x358dc5(0x23b),_0x29ad1d[_0x358dc5(0x208)]=_0x358dc5(0x1b7),_0x29ad1d['qqxjj']=function(_0x24e3f9,_0x14cf48){return _0x24e3f9!==_0x14cf48;},_0x29ad1d[_0x358dc5(0x1e3)]=_0x358dc5(0x238),_0x29ad1d[_0x358dc5(0x1dc)]=function(_0x440422,_0x1802a5){return _0x440422!==_0x1802a5;},_0x29ad1d[_0x358dc5(0x286)]='MEEWp',_0x29ad1d[_0x358dc5(0x306)]=_0x358dc5(0x31e),_0x29ad1d[_0x358dc5(0x241)]=_0x358dc5(0x281),_0x29ad1d[_0x358dc5(0x27d)]=function(_0x174f70,_0x3b5cda){return _0x174f70===_0x3b5cda;},_0x29ad1d[_0x358dc5(0x1a9)]=_0x358dc5(0x231),_0x29ad1d[_0x358dc5(0x2dd)]=_0x358dc5(0x245),_0x29ad1d[_0x358dc5(0x2b3)]=function(_0x4a5ce0,_0x477699){return _0x4a5ce0===_0x477699;},_0x29ad1d[_0x358dc5(0x28b)]='hub-deployment.yaml',_0x29ad1d['eWDFs']=_0x358dc5(0x32d);const _0x215e9f=_0x29ad1d;let _0x52e869=await fs[_0x358dc5(0x230)](path[_0x358dc5(0x246)](__dirname,'..',_0x215e9f[_0x358dc5(0x284)],_0x4c57df),_0x215e9f[_0x358dc5(0x2f8)]);_0x52e869=_0x52e869[_0x358dc5(0x210)](/<GridNamespace>/g,_0x3aa3c4),_0x52e869=_0x52e869[_0x358dc5(0x210)](/<BstackURL>/g,AG_API_URL),_0x52e869=_0x52e869[_0x358dc5(0x210)](/<ClusterName>/g,global_registry[_0x358dc5(0x2a2)]),_0x52e869=_0x52e869['replace'](/<BstackUsername>/g,global_registry['bstackUsername']),_0x52e869=_0x52e869[_0x358dc5(0x210)](/<BstackAccessKey>/g,global_registry[_0x358dc5(0x22f)]),_0x52e869=_0x52e869[_0x358dc5(0x210)](/<GridName>/g,global_registry['gridName']),_0x52e869=_0x52e869[_0x358dc5(0x210)](/<Region>/g,global_registry[_0x358dc5(0x1b2)]),_0x52e869=_0x52e869[_0x358dc5(0x210)](/<CloudProvider>/g,global_registry[_0x358dc5(0x33c)]),_0x52e869=_0x52e869[_0x358dc5(0x210)](/<HubImageVersion>/g,global_registry[_0x358dc5(0x27e)]),_0x52e869=_0x52e869[_0x358dc5(0x210)](/<BrowserImageVersion>/g,global_registry['browserVersion']),_0x52e869=_0x52e869[_0x358dc5(0x210)](/<PrivateGrid>/g,global_registry[_0x358dc5(0x1b4)]?_0x215e9f[_0x358dc5(0x1fb)]:_0x215e9f[_0x358dc5(0x320)]);if(_0x215e9f[_0x358dc5(0x2fe)](global_registry[_0x358dc5(0x301)],null)&&_0x215e9f['cTMgi'](global_registry[_0x358dc5(0x301)],undefined)&&global_registry[_0x358dc5(0x301)])_0x215e9f['cTMgi'](_0x215e9f[_0x358dc5(0x28d)],_0x215e9f[_0x358dc5(0x235)])?(_0x52e869=_0x52e869[_0x358dc5(0x210)](/<ReadinessProbePath>/g,_0x215e9f[_0x358dc5(0x26b)]),_0x52e869=_0x52e869[_0x358dc5(0x210)](/<EnableHubHa>/g,_0x215e9f[_0x358dc5(0x1fb)]),_0x52e869=_0x52e869[_0x358dc5(0x210)](/<HubHaNameSpace>/g,global_registry['hubHaNameSpace'])):_0x3163c1[_0x358dc5(0x24a)](_0x229a92[_0x358dc5(0x1d7)]);else{if(_0x215e9f['wohSt'](_0x215e9f['zrYku'],_0x215e9f[_0x358dc5(0x253)]))_0x52e869=_0x52e869['replace'](/<ReadinessProbePath>/g,_0x215e9f[_0x358dc5(0x208)]),_0x52e869=_0x52e869[_0x358dc5(0x210)](/<EnableHubHa>/g,_0x215e9f[_0x358dc5(0x320)]),_0x52e869=_0x52e869[_0x358dc5(0x210)](/<HubHaNameSpace>/g,'');else{const _0x3c878a={'azure.workload.identity/use':_0x215e9f[_0x358dc5(0x1fb)],..._0xbc3955[_0x358dc5(0x260)][_0x358dc5(0x292)][_0x358dc5(0x2e9)]['labels']};_0x34fe15['spec'][_0x358dc5(0x292)][_0x358dc5(0x2e9)]['labels']=_0x3c878a;}}if(_0x215e9f[_0x358dc5(0x2fe)](global_registry['gridProfileId'],null)&&_0x215e9f[_0x358dc5(0x223)](global_registry[_0x358dc5(0x331)],undefined)){if(_0x215e9f['evZPj'](_0x215e9f[_0x358dc5(0x1e3)],_0x215e9f[_0x358dc5(0x1e3)]))_0x52e869=_0x52e869[_0x358dc5(0x210)](/<GridProfileID>/g,global_registry['gridProfileId']);else{if(_0x215e9f['evZPj'](_0xef5091['statusCode'],0x199)||_0x215e9f[_0x358dc5(0x202)](_0x3267a8[_0x358dc5(0x206)],0x199))_0x695b0e[_0x358dc5(0x24a)](_0x9a8d90[_0x358dc5(0x1d7)]);else throw _0x176046;}}else _0x215e9f[_0x358dc5(0x1dc)](_0x215e9f[_0x358dc5(0x286)],_0x215e9f[_0x358dc5(0x306)])?_0x52e869=_0x52e869[_0x358dc5(0x210)](/<GridProfileID>/g,''):(_0x386bd2=_0x1facf5[_0x358dc5(0x210)](/<KafkaClientPassword>/g,''),_0x34edb5=_0x496251[_0x358dc5(0x210)](/<RedisClientPassword>/g,''));const _0x5a0cc1=yaml[_0x358dc5(0x323)](_0x52e869);if(_0x215e9f[_0x358dc5(0x202)](global_registry[_0x358dc5(0x33c)],AZURE)&&_0x215e9f[_0x358dc5(0x1dc)](_0x1ec74a[_0x215e9f[_0x358dc5(0x241)]],undefined)){if(_0x215e9f[_0x358dc5(0x27d)](_0x215e9f[_0x358dc5(0x1a9)],_0x215e9f[_0x358dc5(0x2dd)]))return!![];else{const _0x464a1b={};_0x464a1b[_0x358dc5(0x265)]=''+_0x1ec74a[_0x358dc5(0x281)],_0x5a0cc1['metadata']={'annotations':_0x464a1b,..._0x5a0cc1[_0x358dc5(0x2e9)]};}}if(_0x215e9f[_0x358dc5(0x27d)](global_registry[_0x358dc5(0x33c)],AZURE)&&_0x215e9f[_0x358dc5(0x2b3)](_0x4c57df,_0x215e9f[_0x358dc5(0x28b)])){if(_0x215e9f[_0x358dc5(0x27d)](_0x215e9f[_0x358dc5(0x1e9)],_0x215e9f['eWDFs']))_0x5a0cc1['spec'][_0x358dc5(0x292)][_0x358dc5(0x2e9)][_0x358dc5(0x2c1)]={'azure.workload.identity/use':_0x215e9f[_0x358dc5(0x1fb)],..._0x5a0cc1[_0x358dc5(0x260)][_0x358dc5(0x292)][_0x358dc5(0x2e9)][_0x358dc5(0x2c1)]};else return![];}return _0x5a0cc1;};function a33_0x8c3a(){const _0xb3a325=['deploymentExists','deleteRoutingDeps','replaceNamespacedDeployment','createAPIService','irjGb','Jvbjv','jebmb','XsCzB','xAhpx','Adding\x20Ingress','Added\x20browser-node-role\x20cluster\x20role','NkoSB','kube-system','VLmZm','ubBBZ','XiDbj','NFNcU','358520IkyQuV','qekhE','Adding\x20hubdeployment','EEcJS','IRCyY','piAPa','readNamespace','message','WtWCZ','fVbIb','cUkxy','KcHBb','nnEtI','UVvJe','Added\x20Nginx\x20Roles\x20and\x20Service\x20Accounts','PESIY','QGEUp','jqHfx','Adding\x20Cert\x20Manager\x20CRDs','puUMr','utf-8','nXEeM','ftTHG','EgHUf','default-service-account.yaml','eWDFs','sa.yaml','vpc-cni-cm.yaml','metricsServerServiceExists','listNamespacedDeployment','Namespace\x20Created:\x20','cQRYR','LgxxW','-cf','role.yaml','bAHPN','KYBpd','xsrhP','cTMgi','vzvGE','autoscaler','Adding\x20default\x20service\x20account','name','BTyBy','Adding\x20MetricsServer\x20clusterRole','wMGOi','TLgJP','TXUyW','lbUsN','Adding\x20Autoscaler\x20clusterRole','evZPj','QahYj','deployment.yaml','Adding\x20Autoscaler\x20namespacedRoleBinding','code','1771eSjuke','GWrMA','DfRVZ','addAutoScalerComponents','CizsA','Scaled\x20down\x20deployment','msEqG','OZqeE','AmcMh','replace','Rhauw','replaceNamespacedServiceAccount','Adding\x20MetricsServer\x20Service','Udfkf','Error\x20deleting\x20stack\x20','iddCq','YsIOO','LsyOL','XvUyo','qmuQS','Added\x20Autoscaler\x20Components','JIjlP','HZWSz','wzniQ','body','../config/constants','createNamespacedRole','createNamespacedRoleBinding','qqxjj','error','RFQGy','GxFLT','ywXyJ','Adding\x20Cert\x20Manager','vrXln','OPsXn','fjEAR','nginx','wsgnX','browserstack','bstackAccesskey','readFileAsync','UVvMM','hOJhq','createClusterRole','UXDbZ','APtlI','role-binding.yaml','Added\x20browser-node-role-binding\x20role\x20binding','YEnTC','eks.amazonaws.com/role-arn','Adding\x20MetricsServer\x20clusterRoleBinding','yFxQG','oaibk','Oaaai','vsybL','Scaled\x20up\x20deployment','helper.yaml','PVsbS','KRCPF','Deleting\x20Turboscale\x20Agent','KKstv','xykoq','join','oqjvQ','IOxoT','WRnub','debug','/podReady','scaleDownHubDeployment','cert-manager.yaml','wohSt','browser-node-service-account.yaml','excpX','xlqxl','7|4|3|9|6|2|8|0|5|1','DeNul','deleteNamespace','Adding\x20MetricsServer\x20Deployment','1706576qUwyFQ','bOWdG','vXdcB','4|6|8|0|9|1|2|5|10|16|13|7|15|17|14|11|12|3|18','Deleted\x20Turboscale\x20Agent','createNamespace','dfVCt','lirLl','nfuVz','service-account.yaml','spec','StackName','cert-manager-webhook','cMkDA','711575hXSdRS','azure.workload.identity/client-id','Stacks','gqrvR','browser-node-cluster-role.yaml','BxLjy','IYTes','XVHzl','BGZzq','addMetricServerComponents','NaxDB','./deleteStack','info','NhnWn','./describeStack','xZYOS','browserstack-secret.yaml','kUafh','kafkaPassword','getNamespaceUID','glEXM','WkJiu','4690904GTGSpQ','items','true','ZdCts','hubVersion','Added\x20default\x20service\x20account','cluster-role-binding-auth-delegator.yaml','clientId','Adding\x20MetricsServer\x20namespacedRoleBinding','zotTk','rxscP','lKjRO','OZqWo','Adding\x20Autoscaler\x20Components','Adding\x20Autoscaler\x20clusterRoleBinding','deployer-srvacct-binding-','jCWKd','eTCYm','Added\x20VPC\x20CNI\x20ConfigMaps','TDlNo','vZjha','Deleted\x20clusterrolebinding','Added\x20Nginx\x20Pods\x20and\x20deployments','eRcUE','template','UudiK','hub-deployment.yaml','kolNZ','MDSNK','lEgDP','annotations','fJBPk','ZyUHm','ljkcI','Adding\x20browserstack\x20secret\x20deployment','service.yaml','QgDsN','oGMiV','JpBFy','Zglim','clusterName','createClusterRoleBinding','YjSWw','private-ingress-nginx-controller','qgbDn','statusCode','loadAll','WyfuA','OhlBj','Rextc','uuid','fCOOF','Deleting\x20','\x20cloudformation\x20stack\x20from\x20region\x20','metrics-server','tkZFS','YIwQz','KOQrv','private-pods-and-services.yaml','UWbEu','PdJSJ','ingress-nginx-controller','replicas','Adding\x20MetricsServer\x20API\x20Service','ZYlPq','oSbGj','zzIhK','xozht','kcGXG','Removed\x20grid\x20components','qfFVx','labels','XxfbI','kFYUe','cNFxW','2214213vaxQVA','555iQRWSj','gHnxf','taXZh','3|6|2|4|5|1|7|0','MVwBF','ymCSn','AUgDK','AoSdd','Added\x20Turboscale\x20Agent','false','rxczs','UbFHw','BbaUh','redisPassword','ngumN','Adding\x20Autoscaler\x20namespacedRole','Adding\x20Turboscale\x20Agent','WHxAm','ACsoe','agfNP','Adding\x20Nginx\x20Roles\x20and\x20Service\x20Accounts','wpvKm','Adding\x20hubservice','Ulfnl','readNamespacedDeployment','cluster-role-aggregated-reader.yaml','CPrur','Deleted\x20cluster\x20and\x20linked\x20resources\x20successfully','36eYyjhN','hubHaNameSpace','turboscale-agent.yaml','<ClusterName>','Added\x20Cert\x20Issuer','fkCtc','XDvBa','metadata','XKZON','sxqbV','Adding\x20Nginx\x20Pods\x20and\x20deployments','NdEGJ','QTGzz','qrbsG','hVAgk','Added\x20browser-node\x20service\x20account','23272SQPPgg','RXMVA','4|3|1|6|0|2|5','oLPbV','Adding\x20browser-node-role\x20cluster\x20role','default','DfUyg','UVcjh','Edbkr','Added\x20hubdeployment','AdpVV','browser-node-cluster-role-binding.yaml','jZCwq','nginx-private','length','enableHubHa','templates','Removing\x20grid\x20components','managedBy','find','SKZld','bhpIx','scaleUpHubDeployment','zLWLs','RReKK','ingress.yaml','qgBbA','bstackUsername','MxfJj','browserstack-turboscale-agent','createNamespacedServiceAccount','miRvk','NpHBy','bxpBV','clusterissuer.yaml','ucYss','Added\x20Cert\x20Manager','createNamespacedDeployment','iHdsc','JLXFA','split','uDeVs','PEsEg','yXFlI','CMTIv','VzrmK','fwKoe','4|0|3|2|1','Adding\x20MetricsServer\x20Components','load','duWAZ','tvmhd','dNOPL','createdBy','Deleted\x20ingress-nginx','js-yaml','FyITa','cluster-role.yaml','cert-manager','vqUUi','CJxrK','WoNOC','MgElo','gridProfileId','FRgNI','Adding\x20Cert\x20Issuer','wWDeB','zrYku','Adding\x20Nginx\x20Private\x20Pods\x20and\x20Services','yyaDO','Deleting\x20clusterrolebinding','uyTQe','Adding\x20browser-node-role-binding\x20role\x20binding','JeNIK','cloudProvider','namespace','namespaceExists','mvUTy','hub-service.yaml','map','networking.gke.io/load-balancer-type:\x20\x22Internal\x22','Browserstack','CHcEI','Adding\x20browser-node\x20service\x20account','Added\x20browserstack\x20secret\x20deployment','SQRQy','cluster-role-binding.yaml','Deleting\x20cert-manager','removeGridComponents','dznwd','GpVmc','TdhXP','ingress-nginx','Adding\x20Autoscaler\x20Service\x20Account','Scaling\x20up\x20deployment','all','ZEKOk','pEJdl','../config/logger','clusterRegion','6522HKOGSM','isPrivateGrid','gkiBZ','liKOB','/readyz','DXVUl','AAYFE','Adding\x20MetricsServer\x20Service\x20Account','HCQRK','batnL','path','Bivpw'];a33_0x8c3a=function(){return _0xb3a325;};return a33_0x8c3a();}exports[a33_0x62d6cb(0x20a)]=async(_0x3b82a4,_0x25a421,_0x1c682d,_0x8c79fb,_0x5a5372,_0x5da9ec,_0x4dc712)=>{const _0x4b1b02=a33_0x62d6cb,_0x25f1a3={};_0x25f1a3[_0x4b1b02(0x200)]=_0x4b1b02(0x1ac),_0x25f1a3[_0x4b1b02(0x2d7)]='templates',_0x25f1a3[_0x4b1b02(0x2e8)]=_0x4b1b02(0x1f8),_0x25f1a3[_0x4b1b02(0x19c)]=_0x4b1b02(0x1ea),_0x25f1a3[_0x4b1b02(0x293)]='utf-8',_0x25f1a3[_0x4b1b02(0x2b6)]=_0x4b1b02(0x239),_0x25f1a3[_0x4b1b02(0x2d0)]=_0x4b1b02(0x1cb),_0x25f1a3['lEgDP']=_0x4b1b02(0x201),_0x25f1a3[_0x4b1b02(0x1df)]='clusterrole.yaml',_0x25f1a3[_0x4b1b02(0x2ab)]=_0x4b1b02(0x2d5),_0x25f1a3[_0x4b1b02(0x203)]=_0x4b1b02(0x1f2),_0x25f1a3['mgBoM']=_0x4b1b02(0x288),_0x25f1a3['ftTHG']=_0x4b1b02(0x1a5),_0x25f1a3[_0x4b1b02(0x1ef)]=_0x4b1b02(0x205),_0x25f1a3[_0x4b1b02(0x2d4)]=_0x4b1b02(0x236),_0x25f1a3[_0x4b1b02(0x2fc)]='Adding\x20Autoscaler\x20Deployment',_0x25f1a3[_0x4b1b02(0x1d3)]=_0x4b1b02(0x204),_0x25f1a3[_0x4b1b02(0x2d2)]=_0x4b1b02(0x2e5);const _0x1c9178=_0x25f1a3;let _0x34db38=null,_0x43f6d6=null;logger['info'](_0x1c9178['lbUsN']),_0x43f6d6=await fs[_0x4b1b02(0x230)](path[_0x4b1b02(0x246)](__dirname,'..',_0x1c9178[_0x4b1b02(0x2d7)],_0x1c9178[_0x4b1b02(0x2e8)],_0x1c9178[_0x4b1b02(0x19c)]),_0x1c9178[_0x4b1b02(0x293)]),_0x34db38=yaml[_0x4b1b02(0x323)](_0x43f6d6),_0x34db38[_0x4b1b02(0x2e9)]['annotations'][_0x1c9178[_0x4b1b02(0x2b6)]]=_0x4dc712;const _0x13c63a={};_0x13c63a[_0x4b1b02(0x33d)]=_0x1c9178[_0x4b1b02(0x2d0)],_0x13c63a[_0x4b1b02(0x21f)]=_0x34db38,await _0x3b82a4[_0x4b1b02(0x310)](_0x13c63a),logger[_0x4b1b02(0x270)](_0x1c9178[_0x4b1b02(0x297)]),_0x43f6d6=await fs['readFileAsync'](path[_0x4b1b02(0x246)](__dirname,'..',_0x1c9178[_0x4b1b02(0x2d7)],_0x1c9178['XDvBa'],_0x1c9178[_0x4b1b02(0x1df)]),_0x1c9178['UudiK']),_0x34db38=yaml[_0x4b1b02(0x323)](_0x43f6d6);const _0xa3819e={};_0xa3819e[_0x4b1b02(0x21f)]=_0x34db38,await _0x8c79fb[_0x4b1b02(0x233)](_0xa3819e),logger[_0x4b1b02(0x270)](_0x1c9178[_0x4b1b02(0x2ab)]),_0x43f6d6=await fs[_0x4b1b02(0x230)](path[_0x4b1b02(0x246)](__dirname,'..',_0x1c9178[_0x4b1b02(0x2d7)],_0x1c9178[_0x4b1b02(0x2e8)],_0x1c9178[_0x4b1b02(0x203)]),_0x1c9178[_0x4b1b02(0x293)]),_0x34db38=yaml[_0x4b1b02(0x323)](_0x43f6d6);const _0x20dfa4={};_0x20dfa4[_0x4b1b02(0x33d)]=_0x1c9178[_0x4b1b02(0x2d0)],_0x20dfa4['body']=_0x34db38,await _0x8c79fb[_0x4b1b02(0x221)](_0x20dfa4),logger[_0x4b1b02(0x270)](_0x1c9178['mgBoM']),_0x43f6d6=await fs[_0x4b1b02(0x230)](path[_0x4b1b02(0x246)](__dirname,'..',_0x1c9178[_0x4b1b02(0x2d7)],_0x1c9178['XDvBa'],_0x1c9178[_0x4b1b02(0x1e6)]),_0x1c9178['UudiK']),_0x34db38=yaml[_0x4b1b02(0x323)](_0x43f6d6);const _0x3b4885={};_0x3b4885['body']=_0x34db38,await _0x8c79fb[_0x4b1b02(0x2a3)](_0x3b4885),logger[_0x4b1b02(0x270)](_0x1c9178[_0x4b1b02(0x1ef)]),_0x43f6d6=await fs[_0x4b1b02(0x230)](path[_0x4b1b02(0x246)](__dirname,'..',_0x1c9178[_0x4b1b02(0x2d7)],_0x1c9178[_0x4b1b02(0x2e8)],_0x1c9178[_0x4b1b02(0x2d4)]),_0x1c9178[_0x4b1b02(0x293)]),_0x34db38=yaml[_0x4b1b02(0x323)](_0x43f6d6);const _0xb79ba2={};_0xb79ba2[_0x4b1b02(0x33d)]=_0x1c9178[_0x4b1b02(0x2d0)],_0xb79ba2[_0x4b1b02(0x21f)]=_0x34db38,await _0x8c79fb[_0x4b1b02(0x222)](_0xb79ba2),logger[_0x4b1b02(0x270)](_0x1c9178[_0x4b1b02(0x2fc)]),_0x43f6d6=await fs[_0x4b1b02(0x230)](path[_0x4b1b02(0x246)](__dirname,'..',_0x1c9178[_0x4b1b02(0x2d7)],_0x1c9178[_0x4b1b02(0x2e8)],_0x1c9178[_0x4b1b02(0x1d3)]),_0x1c9178[_0x4b1b02(0x293)]),_0x43f6d6=_0x43f6d6[_0x4b1b02(0x210)](_0x1c9178['BbaUh'],_0x5da9ec),_0x34db38=yaml[_0x4b1b02(0x323)](_0x43f6d6);const _0x3f8cc7={};_0x3f8cc7[_0x4b1b02(0x33d)]=_0x1c9178[_0x4b1b02(0x2d0)],_0x3f8cc7[_0x4b1b02(0x21f)]=_0x34db38,await _0x25a421[_0x4b1b02(0x317)](_0x3f8cc7);},exports[a33_0x62d6cb(0x26d)]=async(_0x1eeef5,_0x4d44eb,_0x1e8477,_0x32aa3d)=>{const _0x3849ca=a33_0x62d6cb,_0x1e733={};_0x1e733[_0x3849ca(0x2ee)]=_0x3849ca(0x1ba),_0x1e733[_0x3849ca(0x1a4)]=_0x3849ca(0x302),_0x1e733[_0x3849ca(0x216)]=_0x3849ca(0x2b0),_0x1e733['OZqeE']=_0x3849ca(0x25f),_0x1e733['oqjvQ']=_0x3849ca(0x1e4),_0x1e733['gqrvR']='kube-system',_0x1e733[_0x3849ca(0x1f5)]='Adding\x20MetricsServer\x20clusterRole\x20for\x20aggregated\x20reader',_0x1e733[_0x3849ca(0x283)]=_0x3849ca(0x2df),_0x1e733[_0x3849ca(0x2f3)]=_0x3849ca(0x1fc),_0x1e733['RFQGy']=_0x3849ca(0x32b),_0x1e733[_0x3849ca(0x2fa)]=_0x3849ca(0x282),_0x1e733[_0x3849ca(0x217)]='role-binding.yaml',_0x1e733[_0x3849ca(0x2cd)]=_0x3849ca(0x23a),_0x1e733[_0x3849ca(0x1b9)]=_0x3849ca(0x280),_0x1e733[_0x3849ca(0x318)]=_0x3849ca(0x1a5),_0x1e733[_0x3849ca(0x2be)]=_0x3849ca(0x213),_0x1e733[_0x3849ca(0x218)]=_0x3849ca(0x29d),_0x1e733[_0x3849ca(0x315)]=_0x3849ca(0x255),_0x1e733[_0x3849ca(0x21d)]='deployment.yaml',_0x1e733['XxfbI']=_0x3849ca(0x2b9),_0x1e733[_0x3849ca(0x249)]='api-service.yaml';const _0x1d01e3=_0x1e733;logger[_0x3849ca(0x270)](_0x1d01e3[_0x3849ca(0x2ee)]);let _0x43071c=await fs[_0x3849ca(0x230)](path[_0x3849ca(0x246)](__dirname,'..',_0x1d01e3[_0x3849ca(0x1a4)],_0x1d01e3['iddCq'],_0x1d01e3[_0x3849ca(0x20e)]),_0x1d01e3[_0x3849ca(0x247)]),_0x3837ce=yaml['load'](_0x43071c);const _0x331206={};_0x331206['namespace']=_0x1d01e3['gqrvR'],_0x331206[_0x3849ca(0x21f)]=_0x3837ce,await _0x1eeef5[_0x3849ca(0x310)](_0x331206),logger[_0x3849ca(0x270)](_0x1d01e3[_0x3849ca(0x1f5)]),_0x43071c=await fs[_0x3849ca(0x230)](path[_0x3849ca(0x246)](__dirname,'..',_0x1d01e3[_0x3849ca(0x1a4)],_0x1d01e3[_0x3849ca(0x216)],_0x1d01e3[_0x3849ca(0x283)]),_0x1d01e3[_0x3849ca(0x247)]),_0x3837ce=yaml['load'](_0x43071c);const _0x4dc824={};_0x4dc824[_0x3849ca(0x21f)]=_0x3837ce,await _0x1e8477[_0x3849ca(0x233)](_0x4dc824),logger[_0x3849ca(0x270)](_0x1d01e3[_0x3849ca(0x2f3)]),_0x43071c=await fs[_0x3849ca(0x230)](path[_0x3849ca(0x246)](__dirname,'..',_0x1d01e3[_0x3849ca(0x1a4)],_0x1d01e3[_0x3849ca(0x216)],_0x1d01e3[_0x3849ca(0x225)]),_0x1d01e3[_0x3849ca(0x247)]),_0x3837ce=yaml[_0x3849ca(0x323)](_0x43071c);const _0x556f84={};_0x556f84['body']=_0x3837ce,await _0x1e8477[_0x3849ca(0x233)](_0x556f84),logger[_0x3849ca(0x270)](_0x1d01e3[_0x3849ca(0x2fa)]),_0x43071c=await fs[_0x3849ca(0x230)](path[_0x3849ca(0x246)](__dirname,'..',_0x1d01e3[_0x3849ca(0x1a4)],_0x1d01e3[_0x3849ca(0x216)],_0x1d01e3[_0x3849ca(0x217)]),_0x1d01e3[_0x3849ca(0x247)]),_0x3837ce=yaml[_0x3849ca(0x323)](_0x43071c);const _0x437abe={};_0x437abe[_0x3849ca(0x33d)]=_0x1d01e3[_0x3849ca(0x267)],_0x437abe['body']=_0x3837ce,await _0x1e8477[_0x3849ca(0x222)](_0x437abe),logger['info'](_0x1d01e3[_0x3849ca(0x2cd)]),_0x43071c=await fs[_0x3849ca(0x230)](path[_0x3849ca(0x246)](__dirname,'..',_0x1d01e3['SQRQy'],_0x1d01e3[_0x3849ca(0x216)],_0x1d01e3[_0x3849ca(0x1b9)]),_0x1d01e3[_0x3849ca(0x247)]),_0x3837ce=yaml[_0x3849ca(0x323)](_0x43071c);const _0xd05d79={};_0xd05d79[_0x3849ca(0x21f)]=_0x3837ce,await _0x1e8477[_0x3849ca(0x2a3)](_0xd05d79),logger[_0x3849ca(0x270)](_0x1d01e3[_0x3849ca(0x2cd)]),_0x43071c=await fs[_0x3849ca(0x230)](path[_0x3849ca(0x246)](__dirname,'..',_0x1d01e3[_0x3849ca(0x1a4)],_0x1d01e3[_0x3849ca(0x216)],_0x1d01e3[_0x3849ca(0x318)]),_0x1d01e3['oqjvQ']),_0x3837ce=yaml['load'](_0x43071c);const _0xd8a232={};_0xd8a232[_0x3849ca(0x21f)]=_0x3837ce,await _0x1e8477[_0x3849ca(0x2a3)](_0xd8a232),logger[_0x3849ca(0x270)](_0x1d01e3[_0x3849ca(0x2be)]),_0x43071c=await fs[_0x3849ca(0x230)](path[_0x3849ca(0x246)](__dirname,'..',_0x1d01e3['SQRQy'],_0x1d01e3[_0x3849ca(0x216)],_0x1d01e3[_0x3849ca(0x218)]),_0x1d01e3[_0x3849ca(0x247)]),_0x3837ce=yaml[_0x3849ca(0x323)](_0x43071c);const _0x480b6e={};_0x480b6e[_0x3849ca(0x33d)]=_0x1d01e3['gqrvR'],_0x480b6e['body']=_0x3837ce,await _0x1eeef5['createNamespacedService'](_0x480b6e),logger[_0x3849ca(0x270)](_0x1d01e3[_0x3849ca(0x315)]),_0x43071c=await fs[_0x3849ca(0x230)](path[_0x3849ca(0x246)](__dirname,'..',_0x1d01e3[_0x3849ca(0x1a4)],_0x1d01e3[_0x3849ca(0x216)],_0x1d01e3[_0x3849ca(0x21d)]),_0x1d01e3[_0x3849ca(0x247)]),_0x3837ce=yaml['load'](_0x43071c);const _0x2817a0={};_0x2817a0[_0x3849ca(0x33d)]=_0x1d01e3[_0x3849ca(0x267)],_0x2817a0[_0x3849ca(0x21f)]=_0x3837ce,await _0x4d44eb[_0x3849ca(0x317)](_0x2817a0),logger[_0x3849ca(0x270)](_0x1d01e3[_0x3849ca(0x2c2)]),_0x43071c=await fs[_0x3849ca(0x230)](path[_0x3849ca(0x246)](__dirname,'..',_0x1d01e3[_0x3849ca(0x1a4)],_0x1d01e3['iddCq'],_0x1d01e3[_0x3849ca(0x249)]),_0x1d01e3['oqjvQ']),_0x3837ce=yaml['load'](_0x43071c);const _0x2612a0={};_0x2612a0[_0x3849ca(0x21f)]=_0x3837ce,await _0x32aa3d[_0x3849ca(0x1c2)](_0x2612a0);},exports[a33_0x62d6cb(0x1ec)]=async _0x21eae1=>{const _0x43400d=a33_0x62d6cb,_0x4a0477={};_0x4a0477[_0x43400d(0x334)]='kube-system',_0x4a0477[_0x43400d(0x337)]=function(_0x30c405,_0x412624){return _0x30c405<_0x412624;},_0x4a0477[_0x43400d(0x271)]=function(_0x4e5296,_0x9ff231){return _0x4e5296===_0x9ff231;},_0x4a0477[_0x43400d(0x1ff)]=_0x43400d(0x2bd),_0x4a0477[_0x43400d(0x26e)]=function(_0x47e248,_0x16cf4c){return _0x47e248===_0x16cf4c;},_0x4a0477[_0x43400d(0x2eb)]=_0x43400d(0x2b0),_0x4a0477[_0x43400d(0x325)]=function(_0xaf3937,_0x9fcad1){return _0xaf3937===_0x9fcad1;},_0x4a0477[_0x43400d(0x29b)]=_0x43400d(0x25d),_0x4a0477[_0x43400d(0x25c)]=_0x43400d(0x1d5);const _0x5bdb95=_0x4a0477,_0xbfdc39={};_0xbfdc39[_0x43400d(0x33d)]=_0x5bdb95[_0x43400d(0x334)];const _0x4be8f5=await _0x21eae1['listNamespacedService'](_0xbfdc39),_0x5a74ae=_0x4be8f5?.[_0x43400d(0x27b)];for(let _0x211314=0x0;_0x5bdb95[_0x43400d(0x337)](_0x211314,_0x5a74ae['length']);_0x211314++){if(_0x5bdb95[_0x43400d(0x271)](_0x5bdb95['TXUyW'],_0x5bdb95[_0x43400d(0x1ff)])){if(_0x5bdb95['NaxDB'](_0x5a74ae[_0x211314]['metadata'][_0x43400d(0x1fa)],_0x5bdb95[_0x43400d(0x2eb)])){if(_0x5bdb95['tvmhd'](_0x5bdb95[_0x43400d(0x29b)],_0x5bdb95[_0x43400d(0x25c)])){const _0x154d08={};_0x154d08[_0x43400d(0x265)]=''+_0x3ec220['clientId'];const _0x529456={'annotations':_0x154d08,..._0x3fd7a2['metadata']};_0x1b63c5[_0x43400d(0x2e9)]=_0x529456;}else return!![];}}else _0x58658b=_0x119e63[_0x43400d(0x210)](/<GridProfileID>/g,'');}return![];},exports[a33_0x62d6cb(0x19b)]=async(_0x5f3d1d,_0x2124b1)=>{const _0x1ba380=a33_0x62d6cb,_0x36ea1e={};_0x36ea1e[_0x1ba380(0x263)]=function(_0xa0c5c1,_0x30821f){return _0xa0c5c1!==_0x30821f;},_0x36ea1e[_0x1ba380(0x295)]=_0x1ba380(0x209),_0x36ea1e['Jvbjv']=_0x1ba380(0x2a6),_0x36ea1e[_0x1ba380(0x2c3)]=function(_0x565381,_0x1fd24f){return _0x565381===_0x1fd24f;},_0x36ea1e[_0x1ba380(0x2a9)]=_0x1ba380(0x2db),_0x36ea1e[_0x1ba380(0x30e)]=_0x1ba380(0x23d);const _0x304dd6=_0x36ea1e;try{if(_0x304dd6[_0x1ba380(0x263)](_0x304dd6[_0x1ba380(0x295)],_0x304dd6[_0x1ba380(0x1c4)])){const _0x57ef43={};_0x57ef43['name']=_0x2124b1;const _0x17d064=await _0x5f3d1d[_0x1ba380(0x1d6)](_0x57ef43);return!![];}else return![];}catch(_0x21f19a){if(_0x304dd6[_0x1ba380(0x2c3)](_0x304dd6['WyfuA'],_0x304dd6[_0x1ba380(0x30e)]))_0x8bd20c[_0x1ba380(0x224)](_0x1ba380(0x215)+_0x49b26b+':',_0x322bfb[_0x1ba380(0x1d7)]);else return![];}},exports[a33_0x62d6cb(0x1bf)]=async(_0x2457a5,_0x551d95,_0x4ef45a)=>{const _0xcec156=a33_0x62d6cb,_0x301c02={'KRCPF':function(_0x45e1cb,_0x3562e4){return _0x45e1cb(_0x3562e4);},'pSeeR':function(_0x1201cf,_0x182d33){return _0x1201cf(_0x182d33);},'GSrPV':_0xcec156(0x24b),'nXEeM':'true','AmcMh':function(_0x30f453,_0x3f990b){return _0x30f453===_0x3f990b;},'vsybL':'DtJLO','kCYAR':function(_0x54df58,_0xd8e352){return _0x54df58===_0xd8e352;},'ZYlPq':_0xcec156(0x1a1),'oGMiV':_0xcec156(0x20d)};try{if(_0x301c02[_0xcec156(0x20f)](_0x301c02[_0xcec156(0x23e)],_0x301c02[_0xcec156(0x23e)])){const _0x4eda48=await _0x2457a5[_0xcec156(0x1ed)](_0x551d95),_0x5cf9c7=_0x4eda48['body'][_0xcec156(0x27b)][_0xcec156(0x305)](_0x3bea92=>_0x3bea92[_0xcec156(0x2e9)][_0xcec156(0x1fa)]===_0x4ef45a);return _0x5cf9c7?!![]:![];}else _0x44a533=_0x3e84b4['replace'](/<RedisClientPassword>/g,_0x301c02[_0xcec156(0x242)](_0x3d5de3,_0x76b21[_0xcec156(0x2d3)])),_0x571bc7=_0xe4850a['replace'](/<KafkaClientPassword>/g,_0x301c02['pSeeR'](_0x27e839,_0x439c0e[_0xcec156(0x276)]));}catch(_0x5886b9){if(_0x301c02['kCYAR'](_0x301c02[_0xcec156(0x2ba)],_0x301c02[_0xcec156(0x29f)]))_0x57aa17=_0x50bad9[_0xcec156(0x210)](/<ReadinessProbePath>/g,_0x301c02['GSrPV']),_0x2c73c4=_0x296e04[_0xcec156(0x210)](/<EnableHubHa>/g,_0x301c02[_0xcec156(0x1e5)]),_0x6260f5=_0x492ff0[_0xcec156(0x210)](/<HubHaNameSpace>/g,_0x30f5b3[_0xcec156(0x2e3)]);else return![];}},exports['createNamespace']=async(_0x3b013e,_0x11889f)=>{const _0x302296=a33_0x62d6cb,_0x476414={};_0x476414[_0x302296(0x1f3)]=function(_0x51742d,_0x23efe4){return _0x51742d!==_0x23efe4;},_0x476414[_0x302296(0x1c7)]=_0x302296(0x2f7),_0x476414[_0x302296(0x2f0)]=function(_0x7884df,_0xf29d4e){return _0x7884df===_0xf29d4e;},_0x476414[_0x302296(0x311)]=_0x302296(0x1e1),_0x476414['Zglim']=_0x302296(0x2ea),_0x476414[_0x302296(0x33b)]=_0x302296(0x1a0);const _0x36d2a4=_0x476414;if(_0x36d2a4[_0x302296(0x1f3)](_0x11889f,_0x36d2a4[_0x302296(0x1c7)])){if(_0x36d2a4[_0x302296(0x2f0)](_0x36d2a4['miRvk'],_0x36d2a4[_0x302296(0x2a1)]))throw _0x5a0988;else{const _0x41d9d4={};_0x41d9d4[_0x302296(0x327)]=_0x36d2a4[_0x302296(0x33b)],_0x41d9d4[_0x302296(0x304)]=_0x36d2a4[_0x302296(0x33b)];const _0x1c2371={};_0x1c2371[_0x302296(0x1fa)]=_0x11889f,_0x1c2371[_0x302296(0x298)]=_0x41d9d4;const _0x56e1c1={};_0x56e1c1['metadata']=_0x1c2371;const _0x320e5f=_0x56e1c1,_0x2fc56d={};_0x2fc56d[_0x302296(0x21f)]=_0x320e5f,await _0x3b013e[_0x302296(0x25b)](_0x2fc56d),logger[_0x302296(0x270)](_0x302296(0x1ee)+_0x11889f);}}},exports[a33_0x62d6cb(0x277)]=async(_0x3c0d87,_0x5d6584)=>{const _0x558eeb=a33_0x62d6cb,_0x55dfb9={};_0x55dfb9['LIfVW']=_0x558eeb(0x1b7),_0x55dfb9['uyTQe']='false',_0x55dfb9[_0x558eeb(0x26c)]='123456',_0x55dfb9[_0x558eeb(0x2a4)]=function(_0x58362a,_0x3e79f9){return _0x58362a===_0x3e79f9;},_0x55dfb9['OhlBj']=_0x558eeb(0x1c6),_0x55dfb9[_0x558eeb(0x1f0)]='UwQWy',_0x55dfb9['uEfEU']=function(_0x5aa1b8,_0x99a46e){return _0x5aa1b8!==_0x99a46e;},_0x55dfb9[_0x558eeb(0x1f4)]='qpLND';const _0x3c9e55=_0x55dfb9;try{if(_0x3c9e55['YjSWw'](_0x3c9e55[_0x558eeb(0x2aa)],_0x3c9e55[_0x558eeb(0x1f0)]))_0x25d529=_0x1e709b[_0x558eeb(0x210)](/<ReadinessProbePath>/g,_0x3c9e55['LIfVW']),_0x3f56ca=_0x1b824f[_0x558eeb(0x210)](/<EnableHubHa>/g,_0x3c9e55[_0x558eeb(0x339)]),_0x3f0f7=_0x3b1c05[_0x558eeb(0x210)](/<HubHaNameSpace>/g,'');else{const _0x10b358={};_0x10b358['name']=_0x5d6584;const _0x572aac=await _0x3c0d87[_0x558eeb(0x1d6)](_0x10b358),_0x3ee719=_0x572aac?.[_0x558eeb(0x2e9)]?.['uid'];return _0x3ee719;}}catch(_0x23bc60){return _0x3c9e55['uEfEU'](_0x3c9e55[_0x558eeb(0x1f4)],_0x3c9e55[_0x558eeb(0x1f4)])?_0x3c9e55[_0x558eeb(0x26c)]:_0x3c9e55[_0x558eeb(0x26c)];}},exports['addGridComponents']=async(_0x210150,_0x6a5435,_0x3da8bf,_0x2d2cc5,_0x310704,_0x28c99c,_0xc26b2b,_0x24bdd8,_0x2b5638,_0x68fac0={},_0x75678)=>{const _0x1775c6=a33_0x62d6cb,_0x2313c1={'JLXFA':'service.beta.kubernetes.io/azure-load-balancer-internal:\x20\x22true\x22','oaibk':'service.beta.kubernetes.io/aws-load-balancer-internal:\x20\x22true\x22','UbFHw':_0x1775c6(0x19f),'wMGOi':function(_0x5a4b4e,_0xe8c577){return _0x5a4b4e===_0xe8c577;},'vXdcB':'metrics-server','PEsEg':'Adding\x20clusterrolebinding','MgElo':function(_0x15c1c4,_0x4a8ae9,_0x1c95e7){return _0x15c1c4(_0x4a8ae9,_0x1c95e7);},'WkJiu':_0x1775c6(0x1a5),'ZZDyk':'Added\x20clusterrolebinding','PzZDo':function(_0x2b7c39,_0x4a85df){return _0x2b7c39!=_0x4a85df;},'oLPbV':function(_0x47d4f8,_0x29c27b){return _0x47d4f8!==_0x29c27b;},'glEXM':function(_0x509df1,_0x29054c){return _0x509df1===_0x29054c;},'DXVUl':_0x1775c6(0x1e7),'xGkhT':_0x1775c6(0x2b1),'fCOOF':_0x1775c6(0x287),'jCWKd':_0x1775c6(0x21b),'irjGb':_0x1775c6(0x232),'gkiBZ':_0x1775c6(0x285),'UVcjh':_0x1775c6(0x322),'vZjha':'Added\x20MetricsServer\x20Components','lFTmJ':_0x1775c6(0x2c0),'eVRFE':_0x1775c6(0x1a2),'ymCSn':function(_0x3de0d8,_0xa2f538,_0x4cbb3e,_0xd2b53c){return _0x3de0d8(_0xa2f538,_0x4cbb3e,_0xd2b53c);},'WKfxy':_0x1775c6(0x24f),'IRCyY':_0x1775c6(0x2f1),'wzniQ':'gEraY','RReKK':_0x1775c6(0x1f9),'pEJdl':function(_0x58d23a,_0x269580,_0x19d146,_0x5f5b32){return _0x58d23a(_0x269580,_0x19d146,_0x5f5b32);},'IHqqI':_0x1775c6(0x1e8),'cPlGe':'default','ZEKOk':_0x1775c6(0x27f),'kUafh':_0x1775c6(0x2f6),'fVbIb':_0x1775c6(0x268),'fjEAR':_0x1775c6(0x1c9),'JIjlP':_0x1775c6(0x33a),'qrbsG':function(_0x5dafad,_0x26b81c,_0x45ebf4){return _0x5dafad(_0x26b81c,_0x45ebf4);},'gHnxf':_0x1775c6(0x2fd),'yXFlI':_0x1775c6(0x237),'fJBPk':_0x1775c6(0x326),'QGEUp':_0x1775c6(0x20b),'IOxoT':_0x1775c6(0x1ab),'EHZfg':_0x1775c6(0x252),'eRcUE':_0x1775c6(0x290),'vzvGE':_0x1775c6(0x2ec),'TLgJP':'templates','FyITa':_0x1775c6(0x22c),'EEFrh':_0x1775c6(0x240),'BxLjy':'utf-8','zLWLs':_0x1775c6(0x1de),'Bivpw':_0x1775c6(0x2da),'bhpIx':'pods-and-services.yaml','ubBBZ':_0x1775c6(0x336),'zFbcf':_0x1775c6(0x2b4),'vrXln':'Added\x20Nginx\x20Private\x20Pods\x20and\x20deployments','IYTes':_0x1775c6(0x321),'darBW':_0x1775c6(0x1eb),'jebmb':_0x1775c6(0x28c),'nGGIA':function(_0x3433b5,_0xf22ae0,_0x32b74a){return _0x3433b5(_0xf22ae0,_0x32b74a);},'JViqU':'Adding\x20VPC\x20CNI\x20CM','MVwBF':_0x1775c6(0x32c),'batnL':_0x1775c6(0x259),'agfNP':_0x1775c6(0x228),'mYtTP':_0x1775c6(0x24d),'TdhXP':function(_0x283d34,_0x4fcab3,_0x2f3d74){return _0x283d34(_0x4fcab3,_0x2f3d74);},'hvQfl':_0x1775c6(0x1e2),'xBnWA':'crds.yaml','NFNcU':function(_0x5f0e7a,_0x1e3462,_0x3848ac,_0x2399b4,_0xc91436){return _0x5f0e7a(_0x1e3462,_0x3848ac,_0x2399b4,_0xc91436);},'ywXyJ':'cert-manager-cainjector','enXCu':'Added\x20Cert\x20Manager\x20CRDs','fkCtc':_0x1775c6(0x314),'flEwW':'Waiting\x20for\x20Cert\x20Manager\x20Deployments','taXZh':_0x1775c6(0x333),'YIwQz':function(_0x49de90,_0x376b1d,_0x42df46,_0x13be46,_0x33c0b1){return _0x49de90(_0x376b1d,_0x42df46,_0x13be46,_0x33c0b1);},'HMMTD':_0x1775c6(0x262),'CPrur':_0x1775c6(0x316),'AUgDK':function(_0xc95059,_0x58b34e,_0x13e0a9,_0x1fe2ad,_0x1c50df){return _0xc95059(_0x58b34e,_0x13e0a9,_0x1fe2ad,_0x1c50df);},'FRgNI':_0x1775c6(0x2e6),'bxpBV':_0x1775c6(0x22e),'VzrmK':_0x1775c6(0x30f),'WgsDk':_0x1775c6(0x2c9),'HCQRK':_0x1775c6(0x2ce),'qgBbA':_0x1775c6(0x2d6),'nfuVz':_0x1775c6(0x2e4),'uDeVs':function(_0x15beb9,_0x33d144,_0x559858){return _0x15beb9(_0x33d144,_0x559858);},'VLmZm':_0x1775c6(0x2dc),'qmuQS':function(_0x291fae,_0x318793,_0x2fae48){return _0x291fae(_0x318793,_0x2fae48);},'JpBFy':_0x1775c6(0x19d),'cNFxW':'Added\x20hubservice','FCNyl':_0x1775c6(0x29c),'QgDsN':_0x1775c6(0x274),'liKOB':function(_0x22b18d,_0x6716ad){return _0x22b18d(_0x6716ad);},'NkoSB':function(_0x324c74,_0x130a71){return _0x324c74(_0x130a71);},'XvUyo':_0x1775c6(0x1a3),'UWbEu':_0x1775c6(0x1d2),'oSbGj':_0x1775c6(0x294),'ZZYHf':_0x1775c6(0x2fb),'wsgnX':_0x1775c6(0x1c8),'rNczd':_0x1775c6(0x2b7),'UVvJe':function(_0x579ff3,_0x31a999,_0x57ba68,_0x52f82f,_0x59144a){return _0x579ff3(_0x31a999,_0x57ba68,_0x52f82f,_0x59144a);},'FSorj':_0x1775c6(0x2a5),'OPsXn':_0x1775c6(0x30b),'thLDk':_0x1775c6(0x2ff),'ACsoe':'Added\x20Ingress'};let _0x3a7f8f=null,_0x47a3f4=null;logger[_0x1775c6(0x270)](_0x2313c1[_0x1775c6(0x31c)]),_0x3a7f8f=await _0x2313c1[_0x1775c6(0x330)](applyTemplate,_0x2313c1[_0x1775c6(0x279)],_0x310704);const _0x40a069={};_0x40a069[_0x1775c6(0x21f)]=_0x3a7f8f,await _0x2d2cc5[_0x1775c6(0x2a3)](_0x40a069),logger[_0x1775c6(0x270)](_0x2313c1['ZZDyk']);_0x2313c1['PzZDo'](_0xc26b2b,null)&&_0x2313c1[_0x1775c6(0x2f5)](_0xc26b2b,undefined)&&(_0x2313c1['glEXM'](_0x2313c1[_0x1775c6(0x1b8)],_0x2313c1['xGkhT'])?_0x5d4057=_0x2313c1[_0x1775c6(0x319)]:(logger['info'](_0x2313c1[_0x1775c6(0x2ad)]),await this['addAutoScalerComponents'](_0x210150,_0x6a5435,_0x3da8bf,_0x2d2cc5,_0x310704,_0x28c99c,_0xc26b2b),logger[_0x1775c6(0x270)](_0x2313c1[_0x1775c6(0x28a)])));const _0x560875=await this['metricsServerServiceExists'](_0x210150);!_0x560875&&(_0x2313c1[_0x1775c6(0x1fd)](_0x2313c1[_0x1775c6(0x1c3)],_0x2313c1[_0x1775c6(0x1b5)])?_0x39d3d7=_0x500943['replace'](/<GridProfileID>/g,_0x4f9b63['gridProfileId']):(logger[_0x1775c6(0x270)](_0x2313c1[_0x1775c6(0x2f9)]),await this[_0x1775c6(0x26d)](_0x210150,_0x6a5435,_0x2d2cc5,_0x24bdd8),logger['info'](_0x2313c1[_0x1775c6(0x28e)])));try{if(_0x2313c1[_0x1775c6(0x2f5)](_0x2313c1['lFTmJ'],_0x2313c1['lFTmJ']))_0x16ccea=_0x2313c1[_0x1775c6(0x23c)];else{logger[_0x1775c6(0x270)](_0x2313c1['eVRFE']),_0x3a7f8f=await _0x2313c1[_0x1775c6(0x2cb)](applyTemplate,_0x2313c1['WKfxy'],_0x310704,_0x68fac0);const _0x18becd={};_0x18becd[_0x1775c6(0x33d)]=_0x310704,_0x18becd['body']=_0x3a7f8f,await _0x210150[_0x1775c6(0x310)](_0x18becd),logger[_0x1775c6(0x270)](_0x2313c1[_0x1775c6(0x1d4)]);if(_0x2313c1[_0x1775c6(0x1fd)](global_registry[_0x1775c6(0x33c)],AZURE)){if(_0x2313c1[_0x1775c6(0x278)](_0x2313c1[_0x1775c6(0x21e)],_0x2313c1[_0x1775c6(0x21e)])){logger['info'](_0x2313c1[_0x1775c6(0x30a)]),_0x3a7f8f=await _0x2313c1[_0x1775c6(0x1b0)](applyTemplate,_0x2313c1['IHqqI'],_0x310704,_0x68fac0);const _0x3cdd11={};_0x3cdd11[_0x1775c6(0x1fa)]=_0x2313c1['cPlGe'],_0x3cdd11['namespace']=_0x310704,_0x3cdd11[_0x1775c6(0x21f)]=_0x3a7f8f,await _0x210150[_0x1775c6(0x212)](_0x3cdd11),logger[_0x1775c6(0x270)](_0x2313c1[_0x1775c6(0x1af)]);}else _0x586e72=_0x2313c1[_0x1775c6(0x2d1)];}logger[_0x1775c6(0x270)](_0x2313c1[_0x1775c6(0x275)]),_0x3a7f8f=await _0x2313c1[_0x1775c6(0x330)](applyTemplate,_0x2313c1[_0x1775c6(0x1d9)],_0x310704);const _0x1123f1={};_0x1123f1[_0x1775c6(0x21f)]=_0x3a7f8f,await _0x2d2cc5['createClusterRole'](_0x1123f1),logger[_0x1775c6(0x270)](_0x2313c1[_0x1775c6(0x22b)]),logger['info'](_0x2313c1[_0x1775c6(0x21c)]),_0x3a7f8f=await _0x2313c1['qrbsG'](applyTemplate,_0x2313c1[_0x1775c6(0x2c7)],_0x310704);const _0x29809e={};_0x29809e['body']=_0x3a7f8f,await _0x2d2cc5[_0x1775c6(0x2a3)](_0x29809e),logger['info'](_0x2313c1[_0x1775c6(0x31d)]);}}catch(_0x2cb4cb){if(_0x2313c1[_0x1775c6(0x278)](_0x2cb4cb[_0x1775c6(0x2a7)],0x199)||_0x2313c1[_0x1775c6(0x278)](_0x2cb4cb['code'],0x199)){if(_0x2313c1[_0x1775c6(0x278)](_0x2313c1[_0x1775c6(0x299)],_0x2313c1[_0x1775c6(0x1e0)])){if(_0x2313c1[_0x1775c6(0x1fd)](_0x448500[_0x5b719d][_0x1775c6(0x2e9)][_0x1775c6(0x1fa)],_0x2313c1[_0x1775c6(0x258)]))return!![];}else logger['debug'](_0x2cb4cb[_0x1775c6(0x1d7)]);}else throw _0x2cb4cb;}const _0x44f25b=await this[_0x1775c6(0x19b)](_0x210150,_0x2313c1[_0x1775c6(0x248)]);if(!_0x44f25b){const _0x329f9e=_0x2313c1['EHZfg'][_0x1775c6(0x31a)]('|');let _0x160106=0x0;while(!![]){switch(_0x329f9e[_0x160106++]){case'0':_0x3a7f8f=yaml[_0x1775c6(0x2a8)](_0x47a3f4);continue;case'1':logger[_0x1775c6(0x270)](_0x2313c1[_0x1775c6(0x291)]);continue;case'2':logger['info'](_0x2313c1[_0x1775c6(0x1f7)]);continue;case'3':_0x3a7f8f=yaml[_0x1775c6(0x2a8)](_0x47a3f4);continue;case'4':_0x47a3f4=await fs[_0x1775c6(0x230)](path[_0x1775c6(0x246)](__dirname,'..',_0x2313c1[_0x1775c6(0x1fe)],_0x2313c1[_0x1775c6(0x32a)],_0x2313c1['EEFrh']),_0x2313c1[_0x1775c6(0x269)]);continue;case'5':await _0x2313c1[_0x1775c6(0x2ef)](kubeApply,_0x3a7f8f,_0x2b5638);continue;case'6':logger['info'](_0x2313c1[_0x1775c6(0x309)]);continue;case'7':logger['info'](_0x2313c1[_0x1775c6(0x1be)]);continue;case'8':_0x47a3f4=await fs[_0x1775c6(0x230)](path[_0x1775c6(0x246)](__dirname,'..',_0x2313c1[_0x1775c6(0x1fe)],_0x2313c1['FyITa'],_0x2313c1[_0x1775c6(0x307)]),_0x2313c1[_0x1775c6(0x269)]);continue;case'9':await _0x2313c1[_0x1775c6(0x2ef)](kubeApply,_0x3a7f8f,_0x2b5638);continue;}break;}}if(global_registry[_0x1775c6(0x1b4)]){logger['info'](_0x2313c1[_0x1775c6(0x1cd)]);let _0x31057a;if(_0x2313c1[_0x1775c6(0x1fd)](global_registry[_0x1775c6(0x33c)],AZURE))_0x31057a=_0x2313c1['JLXFA'];else _0x2313c1[_0x1775c6(0x278)](global_registry[_0x1775c6(0x33c)],GCP)?_0x31057a=_0x2313c1[_0x1775c6(0x2d1)]:_0x31057a=_0x2313c1['oaibk'];_0x47a3f4=await fs[_0x1775c6(0x230)](path[_0x1775c6(0x246)](__dirname,'..',_0x2313c1[_0x1775c6(0x1fe)],_0x2313c1[_0x1775c6(0x32a)],_0x2313c1['zFbcf']),_0x2313c1[_0x1775c6(0x269)]),_0x47a3f4=_0x47a3f4[_0x1775c6(0x210)](/<InternalLoadBalancerAnnotations>/g,_0x31057a),_0x3a7f8f=yaml[_0x1775c6(0x2a8)](_0x47a3f4),await _0x2313c1[_0x1775c6(0x2ef)](kubeApply,_0x3a7f8f,_0x2b5638),logger['info'](_0x2313c1[_0x1775c6(0x229)]);}if(global_registry['isNewAWSCluster']){const _0x2c1006=_0x2313c1[_0x1775c6(0x26a)][_0x1775c6(0x31a)]('|');let _0xc9e00b=0x0;while(!![]){switch(_0x2c1006[_0xc9e00b++]){case'0':_0x47a3f4=await fs[_0x1775c6(0x230)](path[_0x1775c6(0x246)](__dirname,'..',_0x2313c1[_0x1775c6(0x1fe)],_0x2313c1['darBW']),_0x2313c1[_0x1775c6(0x269)]);continue;case'1':logger[_0x1775c6(0x270)](_0x2313c1[_0x1775c6(0x1c5)]);continue;case'2':await _0x2313c1['nGGIA'](kubeApply,_0x3a7f8f,_0x2b5638);continue;case'3':_0x3a7f8f=yaml[_0x1775c6(0x2a8)](_0x47a3f4);continue;case'4':logger[_0x1775c6(0x270)](_0x2313c1['JViqU']);continue;}break;}}const _0x1dcb0e=await this[_0x1775c6(0x19b)](_0x210150,_0x2313c1[_0x1775c6(0x2ca)]);if(!_0x1dcb0e){const _0x4e168d=_0x2313c1[_0x1775c6(0x1bc)][_0x1775c6(0x31a)]('|');let _0xb5f549=0x0;while(!![]){switch(_0x4e168d[_0xb5f549++]){case'0':await _0x2313c1['nGGIA'](kubeApply,_0x3a7f8f,_0x2b5638);continue;case'1':logger[_0x1775c6(0x270)](_0x2313c1[_0x1775c6(0x2d9)]);continue;case'2':_0x47a3f4=await fs[_0x1775c6(0x230)](path['join'](__dirname,'..',_0x2313c1[_0x1775c6(0x1fe)],_0x2313c1[_0x1775c6(0x2ca)],_0x2313c1['mYtTP']),_0x2313c1['BxLjy']);continue;case'3':await _0x2313c1[_0x1775c6(0x1aa)](kubeApply,_0x3a7f8f,_0x2b5638);continue;case'4':logger[_0x1775c6(0x270)](_0x2313c1['hvQfl']);continue;case'5':_0x3a7f8f=yaml[_0x1775c6(0x2a8)](_0x47a3f4);continue;case'6':_0x47a3f4=await fs[_0x1775c6(0x230)](path['join'](__dirname,'..',_0x2313c1[_0x1775c6(0x1fe)],_0x2313c1[_0x1775c6(0x2ca)],_0x2313c1['xBnWA']),_0x2313c1['BxLjy']);continue;case'7':await _0x2313c1[_0x1775c6(0x1cf)](waitForDeployment,_0x6a5435,_0x2313c1['MVwBF'],_0x2313c1[_0x1775c6(0x227)],0x7530);continue;case'8':_0x3a7f8f=yaml[_0x1775c6(0x2a8)](_0x47a3f4);continue;case'9':logger[_0x1775c6(0x270)](_0x2313c1['enXCu']);continue;case'10':await _0x2313c1[_0x1775c6(0x1aa)](kubeApply,_0x3a7f8f,_0x2b5638);continue;case'11':_0x47a3f4=await fs['readFileAsync'](path[_0x1775c6(0x246)](__dirname,'..',_0x2313c1[_0x1775c6(0x1fe)],_0x2313c1['MVwBF'],_0x2313c1[_0x1775c6(0x2e7)]),_0x2313c1[_0x1775c6(0x269)]);continue;case'12':_0x3a7f8f=yaml[_0x1775c6(0x2a8)](_0x47a3f4);continue;case'13':logger[_0x1775c6(0x270)](_0x2313c1['flEwW']);continue;case'14':logger[_0x1775c6(0x270)](_0x2313c1[_0x1775c6(0x2c8)]);continue;case'15':await _0x2313c1[_0x1775c6(0x2b2)](waitForDeployment,_0x6a5435,_0x2313c1[_0x1775c6(0x2ca)],_0x2313c1['HMMTD'],0x7530);continue;case'16':logger[_0x1775c6(0x270)](_0x2313c1[_0x1775c6(0x2e0)]);continue;case'17':await _0x2313c1[_0x1775c6(0x2cc)](waitForDeployment,_0x6a5435,_0x2313c1[_0x1775c6(0x2ca)],_0x2313c1['MVwBF'],0x7530);continue;case'18':logger[_0x1775c6(0x270)](_0x2313c1[_0x1775c6(0x332)]);continue;}break;}}const _0x55183=await this[_0x1775c6(0x19b)](_0x210150,_0x2313c1['bxpBV']);!_0x55183&&await this[_0x1775c6(0x25b)](_0x210150,_0x2313c1[_0x1775c6(0x313)]);const _0x5d47cf=await this[_0x1775c6(0x1bf)](_0x210150,_0x2313c1[_0x1775c6(0x313)],_0x2313c1[_0x1775c6(0x31f)]);if(!_0x5d47cf){const _0xbe2ca2=_0x2313c1['WgsDk'][_0x1775c6(0x31a)]('|');let _0x76d87d=0x0;while(!![]){switch(_0xbe2ca2[_0x76d87d++]){case'0':logger['info'](_0x2313c1[_0x1775c6(0x1bb)]);continue;case'1':_0x3a7f8f=yaml[_0x1775c6(0x2a8)](_0x47a3f4);continue;case'2':_0x47a3f4=_0x47a3f4[_0x1775c6(0x210)](/<BstackUsername>/g,global_registry['bstackUsername']);continue;case'3':logger['info'](_0x2313c1[_0x1775c6(0x30c)]);continue;case'4':_0x47a3f4=_0x47a3f4[_0x1775c6(0x210)](/<BstackAccessKey>/g,global_registry[_0x1775c6(0x22f)]);continue;case'5':_0x47a3f4=_0x47a3f4[_0x1775c6(0x210)](/<BstackURL>/g,AG_API_URL);continue;case'6':_0x47a3f4=await fs[_0x1775c6(0x230)](path[_0x1775c6(0x246)](__dirname,'..',_0x2313c1['TLgJP'],_0x2313c1[_0x1775c6(0x25e)]),_0x2313c1[_0x1775c6(0x269)]);continue;case'7':await _0x2313c1[_0x1775c6(0x31b)](kubeApply,_0x3a7f8f,_0x2b5638);continue;}break;}}logger['info'](_0x2313c1[_0x1775c6(0x1cc)]),_0x3a7f8f=await _0x2313c1[_0x1775c6(0x21a)](applyTemplate,_0x2313c1[_0x1775c6(0x2a0)],_0x310704);const _0x13964a={};_0x13964a[_0x1775c6(0x33d)]=_0x310704,_0x13964a[_0x1775c6(0x21f)]=_0x3a7f8f,await _0x210150['createNamespacedService'](_0x13964a),logger[_0x1775c6(0x270)](_0x2313c1[_0x1775c6(0x2c4)]),logger[_0x1775c6(0x270)](_0x2313c1['FCNyl']);let _0x4435e0=await fs['readFileAsync'](path[_0x1775c6(0x246)](__dirname,'..',_0x2313c1[_0x1775c6(0x1fe)],_0x2313c1[_0x1775c6(0x29e)]),_0x2313c1[_0x1775c6(0x269)]);_0x4435e0=_0x4435e0[_0x1775c6(0x210)](/<GridNamespace>/g,_0x310704),_0x4435e0=_0x4435e0[_0x1775c6(0x210)](/<BstackUsername>/g,_0x2313c1[_0x1775c6(0x1b6)](encodeBase64,global_registry[_0x1775c6(0x30d)])),_0x4435e0=_0x4435e0[_0x1775c6(0x210)](/<BstackAccessKey>/g,_0x2313c1['NkoSB'](encodeBase64,global_registry[_0x1775c6(0x22f)]));global_registry[_0x1775c6(0x301)]?(_0x4435e0=_0x4435e0['replace'](/<RedisClientPassword>/g,_0x2313c1[_0x1775c6(0x1ca)](encodeBase64,global_registry[_0x1775c6(0x2d3)])),_0x4435e0=_0x4435e0['replace'](/<KafkaClientPassword>/g,_0x2313c1['liKOB'](encodeBase64,global_registry[_0x1775c6(0x276)]))):(_0x4435e0=_0x4435e0[_0x1775c6(0x210)](/<KafkaClientPassword>/g,''),_0x4435e0=_0x4435e0['replace'](/<RedisClientPassword>/g,''));const _0x5aee7f=yaml[_0x1775c6(0x2a8)](_0x4435e0);await _0x2313c1['MgElo'](kubeApply,_0x5aee7f,_0x2b5638),logger[_0x1775c6(0x270)](_0x2313c1[_0x1775c6(0x219)]),logger['info'](_0x2313c1[_0x1775c6(0x2b5)]),_0x3a7f8f=await _0x2313c1['uDeVs'](applyTemplate,_0x2313c1[_0x1775c6(0x2bb)],_0x310704);const _0x482509={};_0x482509[_0x1775c6(0x33d)]=_0x310704,_0x482509['body']=_0x3a7f8f,await _0x6a5435[_0x1775c6(0x317)](_0x482509),logger[_0x1775c6(0x270)](_0x2313c1['ZZYHf']),logger['info'](_0x2313c1[_0x1775c6(0x22d)]),await _0x2313c1[_0x1775c6(0x2cc)](waitForDeployment,_0x6a5435,_0x2313c1[_0x1775c6(0x248)],_0x2313c1['rNczd'],0xea60);global_registry[_0x1775c6(0x1b4)]&&await _0x2313c1[_0x1775c6(0x1dd)](waitForDeployment,_0x6a5435,_0x2313c1[_0x1775c6(0x248)],_0x2313c1['FSorj'],0xea60);_0x47a3f4=await fs['readFileAsync'](path[_0x1775c6(0x246)](__dirname,'..',_0x2313c1[_0x1775c6(0x1fe)],_0x2313c1[_0x1775c6(0x22a)]),_0x2313c1[_0x1775c6(0x269)]);const _0x501946=global_registry[_0x1775c6(0x1b4)]?_0x2313c1['thLDk']:_0x2313c1['FyITa'];_0x47a3f4=_0x47a3f4['replace'](/<GridNamespace>/g,_0x310704),_0x47a3f4=_0x47a3f4[_0x1775c6(0x210)](/<NginxIngressClass>/g,_0x501946),_0x3a7f8f=yaml[_0x1775c6(0x2a8)](_0x47a3f4),await _0x2313c1[_0x1775c6(0x1aa)](kubeApply,_0x3a7f8f,_0x2b5638),logger[_0x1775c6(0x270)](_0x2313c1[_0x1775c6(0x2d8)]),await _0x2313c1[_0x1775c6(0x1b6)](delay,0x1388);},exports[a33_0x62d6cb(0x1a7)]=async(_0xa49c71,_0x469d8f,_0x5cc081,_0x20e17e,_0x78b253)=>{const _0x52246c=a33_0x62d6cb,_0x5774af={'MDSNK':_0x52246c(0x2f4),'WoNOC':_0x52246c(0x338),'XiDbj':_0x52246c(0x2bf),'qcYrf':_0x52246c(0x303),'CJxrK':_0x52246c(0x28f),'ATffS':function(_0x45b850,_0x3f1a37){return _0x45b850(_0x3f1a37);}},_0x778720=_0x5774af[_0x52246c(0x296)][_0x52246c(0x31a)]('|');let _0x2c1819=0x0;while(!![]){switch(_0x778720[_0x2c1819++]){case'0':logger['info'](_0x5774af[_0x52246c(0x32f)]);continue;case'1':logger[_0x52246c(0x270)](_0x5774af[_0x52246c(0x1ce)]);continue;case'2':const _0x5d42b7={};_0x5d42b7[_0x52246c(0x1fa)]=_0x52246c(0x289)+_0x78b253,await _0x20e17e['deleteClusterRoleBinding'](_0x5d42b7);continue;case'3':const _0x5d1ff5={};_0x5d1ff5['name']=_0x78b253,await _0xa49c71[_0x52246c(0x254)](_0x5d1ff5);continue;case'4':logger[_0x52246c(0x270)](_0x5774af['qcYrf']);continue;case'5':logger[_0x52246c(0x270)](_0x5774af[_0x52246c(0x32e)]);continue;case'6':await _0x5774af['ATffS'](delay,0x2710);continue;}break;}},exports['deleteAgent']=async _0x554e36=>{const _0x2a0115=a33_0x62d6cb,_0x4efc5e={};_0x4efc5e[_0x2a0115(0x214)]=_0x2a0115(0x22e),_0x4efc5e[_0x2a0115(0x211)]=_0x2a0115(0x243),_0x4efc5e['KKstv']=_0x2a0115(0x25a);const _0x1fae75=_0x4efc5e,_0x35aa5b=await this['namespaceExists'](_0x554e36,_0x1fae75[_0x2a0115(0x214)]);if(_0x35aa5b){logger[_0x2a0115(0x270)](_0x1fae75['Rhauw']);const _0x252d1f={};_0x252d1f['name']=_0x1fae75[_0x2a0115(0x214)],await _0x554e36[_0x2a0115(0x254)](_0x252d1f),logger[_0x2a0115(0x270)](_0x1fae75[_0x2a0115(0x244)]);}},exports[a33_0x62d6cb(0x1c0)]=async _0x31f93f=>{const _0x30a22d=a33_0x62d6cb,_0x1f8571={'qekhE':_0x30a22d(0x1ab),'NdEGJ':'Deleting\x20ingress-nginx','tUFgg':_0x30a22d(0x328),'KcHBb':function(_0x1a4395,_0x51fee5){return _0x1a4395(_0x51fee5);},'xZYOS':_0x30a22d(0x32c),'WRsKq':_0x30a22d(0x1a6),'UXDbZ':'Deleted\x20cert-manager','ZyUHm':function(_0x5ab7e8,_0x4948ab){return _0x5ab7e8(_0x4948ab);}},_0x4682b9=await this['namespaceExists'](_0x31f93f,_0x1f8571[_0x30a22d(0x1d1)]);if(_0x4682b9){logger[_0x30a22d(0x270)](_0x1f8571[_0x30a22d(0x2ed)]);const _0x16a8fa={};_0x16a8fa[_0x30a22d(0x1fa)]=_0x1f8571['qekhE'],await _0x31f93f['deleteNamespace'](_0x16a8fa),logger[_0x30a22d(0x270)](_0x1f8571['tUFgg']);}await _0x1f8571[_0x30a22d(0x1db)](delay,0x124f8);const _0x5d0bab=await this[_0x30a22d(0x19b)](_0x31f93f,_0x1f8571[_0x30a22d(0x273)]);if(_0x5d0bab){logger[_0x30a22d(0x270)](_0x1f8571['WRsKq']);const _0x186183={};_0x186183[_0x30a22d(0x1fa)]=_0x1f8571['xZYOS'],await _0x31f93f[_0x30a22d(0x254)](_0x186183),logger[_0x30a22d(0x270)](_0x1f8571[_0x30a22d(0x234)]);}await _0x1f8571[_0x30a22d(0x29a)](delay,0xafc8);},exports['deleteClusterAndDependencies']=async(_0x2141ea,_0x481a88)=>{const _0x19ad2f=a33_0x62d6cb,_0x4c9c6c={'dznwd':function(_0x312f5d,_0x459bcd){return _0x312f5d(_0x459bcd);},'GxFLT':function(_0x137b34,_0x2e3eb0){return _0x137b34>_0x2e3eb0;},'xlqxl':function(_0x58a521,_0x251f56){return _0x58a521===_0x251f56;},'cUkxy':function(_0x5bbdfa,_0x1a6c56){return _0x5bbdfa(_0x1a6c56);},'WrgEu':_0x19ad2f(0x2e1)},_0x4bcd4f=[CLUSTER_DEP_STACK_NAME+'-'+_0x481a88,CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x481a88,CLUSTER_HUB_HA_STACK_NAME+'-'+_0x481a88+_0x19ad2f(0x1f1)],_0x6dbd60=_0x4bcd4f[_0x19ad2f(0x19e)](async _0x2ec529=>{const _0x3e78f4=_0x19ad2f;try{const _0x3994f4=await _0x4c9c6c['dznwd'](describeClusterStack,_0x2ec529);_0x3994f4[_0x3e78f4(0x266)]&&_0x4c9c6c[_0x3e78f4(0x226)](_0x3994f4[_0x3e78f4(0x266)][_0x3e78f4(0x300)],0x0)&&_0x4c9c6c[_0x3e78f4(0x251)](_0x3994f4[_0x3e78f4(0x266)][0x0][_0x3e78f4(0x261)],_0x2ec529)&&(logger['info'](_0x3e78f4(0x2ae)+_0x2ec529+_0x3e78f4(0x2af)+_0x2141ea),_0x4c9c6c[_0x3e78f4(0x251)](_0x3994f4[_0x3e78f4(0x266)][0x0][_0x3e78f4(0x261)],CLUSTER_HUB_HA_STACK_NAME+'-'+_0x481a88+_0x3e78f4(0x1f1))&&(await _0x4c9c6c['dznwd'](deleteEFSMountTarget,_0x3994f4[_0x3e78f4(0x266)][0x0]['Outputs']),await _0x4c9c6c[_0x3e78f4(0x1a8)](delay,0x1d4c0)),await _0x4c9c6c[_0x3e78f4(0x1da)](deleteClusterStack,_0x2ec529));}catch(_0x1cd346){logger[_0x3e78f4(0x224)](_0x3e78f4(0x215)+_0x2ec529+':',_0x1cd346[_0x3e78f4(0x1d7)]);}});await Promise[_0x19ad2f(0x1ae)](_0x6dbd60),logger['info'](_0x4c9c6c['WrgEu']);},exports[a33_0x62d6cb(0x308)]=async(_0x2c8726,_0x3e9a0)=>{const _0x48dd71=a33_0x62d6cb,_0x365d4e={};_0x365d4e[_0x48dd71(0x1d8)]=_0x48dd71(0x1ad),_0x365d4e[_0x48dd71(0x250)]=_0x48dd71(0x23f);const _0x23e040=_0x365d4e;logger['info'](_0x23e040[_0x48dd71(0x1d8)]);const _0x3a610b={};_0x3a610b[_0x48dd71(0x1fa)]=TURBOSCALE_DEPLOYMENT,_0x3a610b[_0x48dd71(0x33d)]=_0x3e9a0;const _0xcda934=await _0x2c8726[_0x48dd71(0x2de)](_0x3a610b);_0xcda934[_0x48dd71(0x260)][_0x48dd71(0x2b8)]=0x1;const _0x9b094f={};_0x9b094f[_0x48dd71(0x1fa)]=TURBOSCALE_DEPLOYMENT,_0x9b094f['namespace']=_0x3e9a0,_0x9b094f[_0x48dd71(0x21f)]=_0xcda934,await _0x2c8726[_0x48dd71(0x1c1)](_0x9b094f),logger[_0x48dd71(0x270)](_0x23e040[_0x48dd71(0x250)]);},exports[a33_0x62d6cb(0x24c)]=async(_0x5a7507,_0x55a934)=>{const _0xdca58e=a33_0x62d6cb,_0x44dddc={};_0x44dddc[_0xdca58e(0x2bc)]='Scaling\x20down\x20deployment',_0x44dddc[_0xdca58e(0x257)]=_0xdca58e(0x20c);const _0x2846b9=_0x44dddc;logger[_0xdca58e(0x270)](_0x2846b9[_0xdca58e(0x2bc)]);const _0x1faadc={};_0x1faadc[_0xdca58e(0x1fa)]=TURBOSCALE_DEPLOYMENT,_0x1faadc[_0xdca58e(0x33d)]=_0x55a934;const _0x107d7f=await _0x5a7507[_0xdca58e(0x2de)](_0x1faadc);_0x107d7f[_0xdca58e(0x260)][_0xdca58e(0x2b8)]=0x0;const _0x5047f1={};_0x5047f1['name']=TURBOSCALE_DEPLOYMENT,_0x5047f1['namespace']=_0x55a934,_0x5047f1[_0xdca58e(0x21f)]=_0x107d7f,await _0x5a7507['replaceNamespacedDeployment'](_0x5047f1),logger[_0xdca58e(0x270)](_0x2846b9['bOWdG']);};