const a33_0xb5ebda=a33_0x48b0;function a33_0x5d62(){const _0xf6b2ff=['ZPiGj','readNamespacedDeployment','NEfvX','mxYgi','clientId','service.beta.kubernetes.io/azure-load-balancer-internal:\x20\x22true\x22','qCrtZ','ImdOb','ingress.yaml','nvRQc','hub-service.yaml','wzpZI','jxskP','296627oVGKof','createNamespacedServiceAccount','aoZDn','GSMsI','cert-manager-cainjector','hub-deployment.yaml','Added\x20browserstack\x20secret\x20deployment','HqICI','replicas','../utils/webSocketUtils','true','cluster-role-binding.yaml','dZPsM','zOnXi','eKPfJ','WjCsS','eks.amazonaws.com/role-arn','Doasa','ECVmx','Adding\x20MetricsServer\x20Components','ooyvV','cert-manager','YsXhL','all','BHICI','Removed\x20grid\x20components','join','createNamespacedService','eaQdi','dupZo','lpeaU','scaleUpHubDeployment','replace','deleteClusterRoleBinding','TANZW','replaceNamespacedDeployment','Added\x20Ingress','false','Added\x20Nginx\x20Pods\x20and\x20deployments','Adding\x20Autoscaler\x20Components','eepJt','Namespace\x20Created:\x20','clusterName','info','lhrrY','body','KiwQs','SWVZI','LLyxf','gTpYL','czlqU','QGDKy','DRVNA','default','togYA','browserVersion','js-yaml','LPIcT','turboscale-agent.yaml','xIYin','KNIeG','rZsuo','LDswK','namespace','bstackUsername','bUWcz','deployment.yaml','ARGac','MYDcf','Added\x20Turboscale\x20Agent','jFEVN','service.yaml','csuTZ','iUnkb','FDpZQ','helper.yaml','load','Browserstack','private-ingress-nginx-controller','zoCpV','gjlFc','ZTLOx','wttRw','items','OycJP','IbrjY','Deleting\x20ingress-nginx','DKZBI','labels','uuid','uxvhf','WoGwE','12|8|3|10|15|5|7|16|6|0|4|18|13|17|9|2|1|11|14','XPFcl','BcZCI','message','SStPA','Adding\x20Cert\x20Issuer','StackName','gZjov','cluster-role-aggregated-reader.yaml','Adding\x20clusterrolebinding','Deleted\x20cert-manager','browserstack','KJowI','ECBAU','createNamespace','gOHGI','ywjGl','enableHubHa','EqfpR','HPznr','Adding\x20browser-node\x20service\x20account','deleteNamespace','MXXtM','WflVU','deploymentExists','CFVkh','OOnLg','qRZLk','tuJky','123456','metrics-server','createAPIService','WVHFi','name','OOEnm','25gCxNOE','ypccG','listNamespacedService','2|6|5|4|3|1|0','MpGov','/readyz','ArSCy','Adding\x20default\x20service\x20account','ullsm','HZVYY','Adding\x20MetricsServer\x20Service','isNewAWSCluster','TVrWK','Adding\x20Autoscaler\x20clusterRole','zpNRD','YsaYL','JXmut','jiwTr','BpbQd','/podReady','nginx','namespaceExists','cuorJ','utf-8','fFmlf','vBUOV','createNamespacedRoleBinding','templates','NlcCX','auevP','xYoTB','Adding\x20Autoscaler\x20Deployment','ingress-nginx','rQJMd','jGeck','Scaled\x20up\x20deployment','./deleteEFSMountTargets','addMetricServerComponents','ChPxa','JFGDU','azure.workload.identity/client-id','createNamespacedRole','EofxR','nEepn','isPrivateGrid','VUWxh','bqjBN','Adding\x20MetricsServer\x20clusterRole','hwYjL','hXMis','Adding\x20Cert\x20Manager','yNxKb','pods-and-services.yaml','nginx-private','4|3|7|0|2|9|8|5|1|6','SSVse','length','Adding\x20Nginx\x20Pods\x20and\x20deployments','glaUk','<ClusterName>','Added\x20browser-node-role\x20cluster\x20role','Outputs','Removing\x20grid\x20components','AaQKi','clusterissuer.yaml','cluster-role-binding-auth-delegator.yaml','vsxXA','Added\x20clusterrolebinding','readFileAsync','rPPTV','rkIdY','aSHar','yaXAo','Vgahi','rmdzK','kafkaPassword','role.yaml','anITi','MKQyT','jOwXT','-cf','3|0|2|4|1','service.beta.kubernetes.io/aws-load-balancer-internal:\x20\x22true\x22','createClusterRole','createdBy','VYNRU','Adding\x20Autoscaler\x20clusterRoleBinding','FbzBo','HzihW','hNwYb','gridProfileId','dZsyc','aWyHM','AEbMs','kkkyT','template','annotations','bstackAccesskey','path','nqywq','rNiLB','WdweH','Deleted\x20cluster\x20and\x20linked\x20resources\x20successfully','private-pods-and-services.yaml','metadata','RKIUQ','cvPWI','EbhYV','hubVersion','6|2|0|7|3|5|4|1','split','VlRQg','iESFA','Scaling\x20down\x20deployment','xoHpp','lfyFY','PCuvh','AHWVI','metricsServerServiceExists','ujyim','xmARy','TtysO','xHwlp','nnYBu','JJvNr','xLakH','BVVfg','Adding\x20MetricsServer\x20namespacedRoleBinding','RtuPc','cert-manager-webhook','1708230qDrFsJ','jmgWx','createClusterRoleBinding','mTTxc','networking.gke.io/load-balancer-type:\x20\x22Internal\x22','Deleted\x20clusterrolebinding','kube-system','AEmti','mrlGR','FRmIa','CXHQM','NciSs','aynbD','btdzB','171CybcEG','WAprs','sWPgY','managedBy','deleteRoutingDeps','loadAll','browser-node-cluster-role-binding.yaml','uQQDs','Waiting\x20for\x20Cert\x20Manager\x20Deployments','cert-manager.yaml','GsxdC','RelGT','Adding\x20Nginx\x20Roles\x20and\x20Service\x20Accounts','Added\x20VPC\x20CNI\x20ConfigMaps','chWtn','sMnxO','MffYD','qSLKs','cXdjJ','IYaRB','Adding\x20Ingress','Scaling\x20up\x20deployment','Error\x20deleting\x20stack\x20','MBOpW','vpc-cni-cm.yaml','sIwKf','createNamespacedDeployment','449868sfkcxN','wEkJH','4219138PRLrTs','rXtko','Added\x20hubservice','Adding\x20Cert\x20Manager\x20CRDs','Added\x20MetricsServer\x20Components','PcvcC','Adding\x20Turboscale\x20Agent','Added\x20browser-node-role-binding\x20role\x20binding','deployer-srvacct-binding-','upKSz','GRHku','debug','./describeStack','FSPCE','DpUsV','listNamespacedDeployment','VTsUb','bjnMh','667704sHXeak','cnZEX','error','cloudProvider','Added\x20browser-node\x20service\x20account','tSnJk','Added\x20Cert\x20Issuer','service-account.yaml','Added\x20Autoscaler\x20Components','sIrUr','LWvDh','ZHAPh','LHkpd','Adding\x20hubservice','./deleteStack','uWawG','3348664DGHxlI','find','statusCode','TzCNv','RlgIn','readNamespace','oezzl','esmHv','Added\x20Nginx\x20Private\x20Pods\x20and\x20deployments','hubHaNameSpace','SbNLu','aalrd','spec','cIRVP','autoscaler','YamnZ','../config/logger','Stacks','zvMzy','OALxg','deleteClusterAndDependencies','FYeGS','browser-node-cluster-role.yaml','OVbCn','deleteAgent','lRJje','kJySY','VsNnK','oHQIi','fPeHD','redisPassword','Vdskb','sTSNP','6MdVAkx','dyZvM','ABIdy','sa.yaml','bVmOS','gridName','pZxdb','role-binding.yaml','woOnT','190776xFDeqo','Deleting\x20Turboscale\x20Agent','ZDmnD','Added\x20Cert\x20Manager\x20CRDs','tgmVa','api-service.yaml','uKLHL','vIBue','JwiMs','Added\x20Cert\x20Manager','2fRNVRh','ZJCWm'];a33_0x5d62=function(){return _0xf6b2ff;};return a33_0x5d62();}function a33_0x48b0(_0x5b0424,_0x175bd0){const _0x5d625e=a33_0x5d62();return a33_0x48b0=function(_0x48b0a8,_0x16edde){_0x48b0a8=_0x48b0a8-0x132;let _0x426a28=_0x5d625e[_0x48b0a8];return _0x426a28;},a33_0x48b0(_0x5b0424,_0x175bd0);}(function(_0x57d153,_0x2c5398){const _0x57b0c0=a33_0x48b0,_0x319490=_0x57d153();while(!![]){try{const _0x3415ff=-parseInt(_0x57b0c0(0x196))/0x1*(-parseInt(_0x57b0c0(0x187))/0x2)+-parseInt(_0x57b0c0(0x143))/0x3+-parseInt(_0x57b0c0(0x2c0))/0x4*(-parseInt(_0x57b0c0(0x215))/0x5)+parseInt(_0x57b0c0(0x174))/0x6*(parseInt(_0x57b0c0(0x2c2))/0x7)+-parseInt(_0x57b0c0(0x17d))/0x8*(parseInt(_0x57b0c0(0x2a5))/0x9)+-parseInt(_0x57b0c0(0x297))/0xa+-parseInt(_0x57b0c0(0x153))/0xb;if(_0x3415ff===_0x2c5398)break;else _0x319490['push'](_0x319490['shift']());}catch(_0x3025a4){_0x319490['push'](_0x319490['shift']());}}}(a33_0x5d62,0x4be04));const fs=require('fs'),yaml=require(a33_0xb5ebda(0x1ce)),path=require(a33_0xb5ebda(0x277)),{v4:uuidv4}=require(a33_0xb5ebda(0x1ef)),{logger}=require(a33_0xb5ebda(0x163)),{AG_API_URL,global_registry,CLUSTER_DEP_STACK_NAME,CLUSTER_AUTOSCALER_STACK_NAME,CLUSTER_HUB_HA_STACK_NAME,AZURE,GCP,TURBOSCALE_DEPLOYMENT}=require('../config/constants'),{deleteClusterStack}=require(a33_0xb5ebda(0x151)),{kubeApply,waitForDeployment,encodeBase64}=require('./utilityMethods'),{delay}=require(a33_0xb5ebda(0x19f)),{describeClusterStack}=require(a33_0xb5ebda(0x13d)),{deleteEFSMountTarget}=require(a33_0xb5ebda(0x239)),applyTemplate=async(_0x46b1d6,_0x6148d9,_0x154a48={})=>{const _0x39d570=a33_0xb5ebda,_0xcd5e51={};_0xcd5e51['MBOpW']=_0x39d570(0x228),_0xcd5e51[_0x39d570(0x204)]=_0x39d570(0x1a0),_0xcd5e51[_0x39d570(0x1da)]=function(_0x271b3a,_0x32d1aa){return _0x271b3a===_0x32d1aa;},_0xcd5e51[_0x39d570(0x165)]=_0x39d570(0x210),_0xcd5e51[_0x39d570(0x15e)]=function(_0x264bcf,_0x50f037){return _0x264bcf===_0x50f037;},_0xcd5e51[_0x39d570(0x29e)]=_0x39d570(0x21a),_0xcd5e51[_0x39d570(0x1f4)]=_0x39d570(0x1bb),_0xcd5e51['oHQIi']='networking.gke.io/load-balancer-type:\x20\x22Internal\x22',_0xcd5e51[_0x39d570(0x1f9)]='templates',_0xcd5e51['VTsUb']=_0x39d570(0x22c),_0xcd5e51[_0x39d570(0x28e)]=function(_0x5ad9d7,_0x4b37c9){return _0x5ad9d7!=_0x4b37c9;},_0xcd5e51[_0x39d570(0x2a2)]=function(_0x137d56,_0x5711ab){return _0x137d56!==_0x5711ab;},_0xcd5e51['WdweH']=_0x39d570(0x132),_0xcd5e51['ooyvV']=_0x39d570(0x295),_0xcd5e51[_0x39d570(0x1a4)]=_0x39d570(0x246),_0xcd5e51[_0x39d570(0x23f)]=function(_0x5d7b6e,_0x9f67e0){return _0x5d7b6e!=_0x9f67e0;},_0xcd5e51['npzFh']=function(_0x30779b,_0x30d7c2){return _0x30779b!==_0x30d7c2;},_0xcd5e51['wttRw']=_0x39d570(0x1ed),_0xcd5e51[_0x39d570(0x1ea)]='qYmjh',_0xcd5e51[_0x39d570(0x13b)]=_0x39d570(0x25a),_0xcd5e51[_0x39d570(0x291)]='PuxvW',_0xcd5e51[_0x39d570(0x231)]=function(_0x43c63b,_0x4aadd1){return _0x43c63b===_0x4aadd1;},_0xcd5e51[_0x39d570(0x262)]=function(_0x205d95,_0x5a7563){return _0x205d95!==_0x5a7563;},_0xcd5e51['CFVkh']=_0x39d570(0x18d),_0xcd5e51['redbf']=_0x39d570(0x17c),_0xcd5e51[_0x39d570(0x1a3)]=_0x39d570(0x2a0),_0xcd5e51[_0x39d570(0x26c)]=function(_0x5664bd,_0x2f91e5){return _0x5664bd===_0x2f91e5;},_0xcd5e51[_0x39d570(0x21e)]=function(_0xa29328,_0x220460){return _0xa29328===_0x220460;},_0xcd5e51[_0x39d570(0x225)]=_0x39d570(0x19b),_0xcd5e51[_0x39d570(0x1b8)]=_0x39d570(0x157);const _0x1d5ee7=_0xcd5e51;let _0x477afa=await fs[_0x39d570(0x259)](path[_0x39d570(0x1b0)](__dirname,'..',_0x1d5ee7[_0x39d570(0x1f9)],_0x46b1d6),_0x1d5ee7[_0x39d570(0x141)]);_0x477afa=_0x477afa[_0x39d570(0x1b6)](/<GridNamespace>/g,_0x6148d9),_0x477afa=_0x477afa['replace'](/<BstackURL>/g,AG_API_URL),_0x477afa=_0x477afa[_0x39d570(0x1b6)](/<ClusterName>/g,global_registry[_0x39d570(0x1c0)]),_0x477afa=_0x477afa[_0x39d570(0x1b6)](/<BstackUsername>/g,global_registry[_0x39d570(0x1d6)]),_0x477afa=_0x477afa[_0x39d570(0x1b6)](/<BstackAccessKey>/g,global_registry[_0x39d570(0x276)]),_0x477afa=_0x477afa[_0x39d570(0x1b6)](/<GridName>/g,global_registry[_0x39d570(0x179)]),_0x477afa=_0x477afa['replace'](/<Region>/g,global_registry['clusterRegion']),_0x477afa=_0x477afa[_0x39d570(0x1b6)](/<CloudProvider>/g,global_registry[_0x39d570(0x146)]),_0x477afa=_0x477afa[_0x39d570(0x1b6)](/<HubImageVersion>/g,global_registry[_0x39d570(0x281)]),_0x477afa=_0x477afa[_0x39d570(0x1b6)](/<BrowserImageVersion>/g,global_registry[_0x39d570(0x1cd)]),_0x477afa=_0x477afa[_0x39d570(0x1b6)](/<PrivateGrid>/g,global_registry[_0x39d570(0x241)]?_0x1d5ee7['EqfpR']:_0x1d5ee7[_0x39d570(0x1f4)]);_0x1d5ee7[_0x39d570(0x28e)](global_registry[_0x39d570(0x203)],null)&&_0x1d5ee7['NciSs'](global_registry['enableHubHa'],undefined)&&global_registry[_0x39d570(0x203)]?_0x1d5ee7['NciSs'](_0x1d5ee7[_0x39d570(0x27a)],_0x1d5ee7[_0x39d570(0x1aa)])?(_0x477afa=_0x477afa['replace'](/<ReadinessProbePath>/g,_0x1d5ee7[_0x39d570(0x2bc)]),_0x477afa=_0x477afa[_0x39d570(0x1b6)](/<EnableHubHa>/g,_0x1d5ee7[_0x39d570(0x204)]),_0x477afa=_0x477afa[_0x39d570(0x1b6)](/<HubHaNameSpace>/g,global_registry[_0x39d570(0x15c)])):_0x181a7e=_0x427345[_0x39d570(0x1b6)](/<GridProfileID>/g,_0x2465e2[_0x39d570(0x26f)]):_0x1d5ee7['MYDcf'](_0x1d5ee7[_0x39d570(0x1a4)],_0x1d5ee7[_0x39d570(0x1a4)])?(_0x477afa=_0x477afa[_0x39d570(0x1b6)](/<ReadinessProbePath>/g,_0x1d5ee7[_0x39d570(0x29e)]),_0x477afa=_0x477afa[_0x39d570(0x1b6)](/<EnableHubHa>/g,_0x1d5ee7[_0x39d570(0x1f4)]),_0x477afa=_0x477afa[_0x39d570(0x1b6)](/<HubHaNameSpace>/g,'')):(_0x344278=_0x135362[_0x39d570(0x1b6)](/<ReadinessProbePath>/g,_0x1d5ee7[_0x39d570(0x2bc)]),_0x286d8c=_0x2d63b4[_0x39d570(0x1b6)](/<EnableHubHa>/g,_0x1d5ee7[_0x39d570(0x204)]),_0x4dd41e=_0x3c5e10[_0x39d570(0x1b6)](/<HubHaNameSpace>/g,_0x2a1952[_0x39d570(0x15c)]));if(_0x1d5ee7[_0x39d570(0x23f)](global_registry[_0x39d570(0x26f)],null)&&_0x1d5ee7['npzFh'](global_registry[_0x39d570(0x26f)],undefined)){if(_0x1d5ee7[_0x39d570(0x1da)](_0x1d5ee7[_0x39d570(0x1e8)],_0x1d5ee7[_0x39d570(0x1ea)])){if(_0x1d5ee7[_0x39d570(0x1da)](_0x3253c3[_0x125e7a][_0x39d570(0x27d)]['name'],_0x1d5ee7[_0x39d570(0x165)]))return!![];}else _0x477afa=_0x477afa[_0x39d570(0x1b6)](/<GridProfileID>/g,global_registry[_0x39d570(0x26f)]);}else{if(_0x1d5ee7[_0x39d570(0x1da)](_0x1d5ee7['GRHku'],_0x1d5ee7[_0x39d570(0x291)])){if(_0x1d5ee7[_0x39d570(0x1da)](_0x33f218[_0x39d570(0x155)],0x199)||_0x1d5ee7[_0x39d570(0x15e)](_0x3cfb1['code'],0x199))_0x29f86b['debug'](_0x3db73e[_0x39d570(0x1f5)]);else throw _0x136ecf;}else _0x477afa=_0x477afa[_0x39d570(0x1b6)](/<GridProfileID>/g,'');}const _0xe476c4=yaml[_0x39d570(0x1e2)](_0x477afa);if(_0x1d5ee7[_0x39d570(0x231)](global_registry[_0x39d570(0x146)],AZURE)&&_0x1d5ee7['anITi'](_0x154a48[_0x1d5ee7[_0x39d570(0x20b)]],undefined)){if(_0x1d5ee7[_0x39d570(0x15e)](_0x1d5ee7['redbf'],_0x1d5ee7[_0x39d570(0x1a3)]))_0x41c187=_0x1132b6[_0x39d570(0x1b6)](/<ReadinessProbePath>/g,_0x1d5ee7['AEmti']),_0x35bf70=_0x101a79['replace'](/<EnableHubHa>/g,_0x1d5ee7[_0x39d570(0x1f4)]),_0x50f626=_0x37c792[_0x39d570(0x1b6)](/<HubHaNameSpace>/g,'');else{const _0x16c33c={};_0x16c33c['azure.workload.identity/client-id']=''+_0x154a48[_0x39d570(0x18d)],_0xe476c4[_0x39d570(0x27d)]={'annotations':_0x16c33c,..._0xe476c4['metadata']};}}return _0x1d5ee7[_0x39d570(0x26c)](global_registry[_0x39d570(0x146)],AZURE)&&_0x1d5ee7[_0x39d570(0x21e)](_0x46b1d6,_0x1d5ee7['JXmut'])&&(_0x1d5ee7[_0x39d570(0x1da)](_0x1d5ee7[_0x39d570(0x1b8)],_0x1d5ee7[_0x39d570(0x1b8)])?_0xe476c4[_0x39d570(0x15f)][_0x39d570(0x274)]['metadata'][_0x39d570(0x1ee)]={'azure.workload.identity/use':_0x1d5ee7[_0x39d570(0x204)],..._0xe476c4[_0x39d570(0x15f)][_0x39d570(0x274)]['metadata'][_0x39d570(0x1ee)]}:_0x2ca57e=_0x1d5ee7[_0x39d570(0x16f)]),_0xe476c4;};exports['addAutoScalerComponents']=async(_0x4b6c37,_0x40bde2,_0x4a9e96,_0x17a043,_0x380b3e,_0x37bdea,_0x2098fb)=>{const _0x219c7d=a33_0xb5ebda,_0x5df529={};_0x5df529[_0x219c7d(0x29a)]='Adding\x20Autoscaler\x20Service\x20Account',_0x5df529[_0x219c7d(0x13a)]='templates',_0x5df529[_0x219c7d(0x2a4)]=_0x219c7d(0x161),_0x5df529[_0x219c7d(0x2be)]=_0x219c7d(0x177),_0x5df529[_0x219c7d(0x279)]=_0x219c7d(0x22c),_0x5df529['xHwlp']=_0x219c7d(0x1a6),_0x5df529[_0x219c7d(0x181)]=_0x219c7d(0x29d),_0x5df529['Xjpgu']=_0x219c7d(0x222),_0x5df529[_0x219c7d(0x26a)]='clusterrole.yaml',_0x5df529['iUnkb']='Adding\x20Autoscaler\x20namespacedRole',_0x5df529[_0x219c7d(0x152)]=_0x219c7d(0x261),_0x5df529['RelGT']=_0x219c7d(0x26b),_0x5df529[_0x219c7d(0x1eb)]=_0x219c7d(0x1a1),_0x5df529['HqICI']='Adding\x20Autoscaler\x20namespacedRoleBinding',_0x5df529[_0x219c7d(0x142)]=_0x219c7d(0x17b),_0x5df529[_0x219c7d(0x1ca)]=_0x219c7d(0x234),_0x5df529['VlRQg']=_0x219c7d(0x1d8),_0x5df529[_0x219c7d(0x219)]=_0x219c7d(0x250);const _0x21652c=_0x5df529;let _0x528ef0=null,_0x3f2ac6=null;logger[_0x219c7d(0x1c1)](_0x21652c['mTTxc']),_0x3f2ac6=await fs['readFileAsync'](path['join'](__dirname,'..',_0x21652c['upKSz'],_0x21652c['btdzB'],_0x21652c[_0x219c7d(0x2be)]),_0x21652c[_0x219c7d(0x279)]),_0x528ef0=yaml[_0x219c7d(0x1e2)](_0x3f2ac6),_0x528ef0[_0x219c7d(0x27d)][_0x219c7d(0x275)][_0x21652c[_0x219c7d(0x28f)]]=_0x2098fb;const _0x538fe4={};_0x538fe4['namespace']=_0x21652c['tgmVa'],_0x538fe4['body']=_0x528ef0,await _0x4b6c37[_0x219c7d(0x197)](_0x538fe4),logger[_0x219c7d(0x1c1)](_0x21652c['Xjpgu']),_0x3f2ac6=await fs[_0x219c7d(0x259)](path[_0x219c7d(0x1b0)](__dirname,'..',_0x21652c['upKSz'],_0x21652c[_0x219c7d(0x2a4)],_0x21652c['VYNRU']),_0x21652c['rNiLB']),_0x528ef0=yaml[_0x219c7d(0x1e2)](_0x3f2ac6);const _0x3d96bc={};_0x3d96bc[_0x219c7d(0x1c3)]=_0x528ef0,await _0x17a043[_0x219c7d(0x268)](_0x3d96bc),logger['info'](_0x21652c[_0x219c7d(0x1df)]),_0x3f2ac6=await fs[_0x219c7d(0x259)](path['join'](__dirname,'..',_0x21652c[_0x219c7d(0x13a)],_0x21652c[_0x219c7d(0x2a4)],_0x21652c[_0x219c7d(0x152)]),_0x21652c[_0x219c7d(0x279)]),_0x528ef0=yaml[_0x219c7d(0x1e2)](_0x3f2ac6);const _0x2a0f8c={};_0x2a0f8c[_0x219c7d(0x1d5)]=_0x21652c[_0x219c7d(0x181)],_0x2a0f8c[_0x219c7d(0x1c3)]=_0x528ef0,await _0x17a043[_0x219c7d(0x23e)](_0x2a0f8c),logger[_0x219c7d(0x1c1)](_0x21652c[_0x219c7d(0x2b0)]),_0x3f2ac6=await fs[_0x219c7d(0x259)](path[_0x219c7d(0x1b0)](__dirname,'..',_0x21652c[_0x219c7d(0x13a)],_0x21652c[_0x219c7d(0x2a4)],_0x21652c['IbrjY']),_0x21652c[_0x219c7d(0x279)]),_0x528ef0=yaml[_0x219c7d(0x1e2)](_0x3f2ac6);const _0x27bdee={};_0x27bdee[_0x219c7d(0x1c3)]=_0x528ef0,await _0x17a043[_0x219c7d(0x299)](_0x27bdee),logger[_0x219c7d(0x1c1)](_0x21652c[_0x219c7d(0x19d)]),_0x3f2ac6=await fs[_0x219c7d(0x259)](path[_0x219c7d(0x1b0)](__dirname,'..',_0x21652c[_0x219c7d(0x13a)],_0x21652c[_0x219c7d(0x2a4)],_0x21652c['bjnMh']),_0x21652c[_0x219c7d(0x279)]),_0x528ef0=yaml[_0x219c7d(0x1e2)](_0x3f2ac6);const _0x3b929d={};_0x3b929d['namespace']=_0x21652c[_0x219c7d(0x181)],_0x3b929d[_0x219c7d(0x1c3)]=_0x528ef0,await _0x17a043['createNamespacedRoleBinding'](_0x3b929d),logger[_0x219c7d(0x1c1)](_0x21652c[_0x219c7d(0x1ca)]),_0x3f2ac6=await fs[_0x219c7d(0x259)](path[_0x219c7d(0x1b0)](__dirname,'..',_0x21652c[_0x219c7d(0x13a)],_0x21652c['btdzB'],_0x21652c[_0x219c7d(0x284)]),_0x21652c[_0x219c7d(0x279)]),_0x3f2ac6=_0x3f2ac6[_0x219c7d(0x1b6)](_0x21652c[_0x219c7d(0x219)],_0x37bdea),_0x528ef0=yaml['load'](_0x3f2ac6);const _0x49d6e9={};_0x49d6e9[_0x219c7d(0x1d5)]=_0x21652c['tgmVa'],_0x49d6e9[_0x219c7d(0x1c3)]=_0x528ef0,await _0x40bde2[_0x219c7d(0x2bf)](_0x49d6e9);},exports[a33_0xb5ebda(0x23a)]=async(_0x3610d2,_0x3cca3d,_0x1cec98,_0x33a246)=>{const _0x4ebc58=a33_0xb5ebda,_0x275be5={};_0x275be5[_0x4ebc58(0x1dc)]='Adding\x20MetricsServer\x20Service\x20Account',_0x275be5[_0x4ebc58(0x195)]=_0x4ebc58(0x230),_0x275be5[_0x4ebc58(0x1ff)]=_0x4ebc58(0x210),_0x275be5[_0x4ebc58(0x173)]=_0x4ebc58(0x14a),_0x275be5[_0x4ebc58(0x272)]='utf-8',_0x275be5[_0x4ebc58(0x214)]=_0x4ebc58(0x29d),_0x275be5[_0x4ebc58(0x254)]='Adding\x20MetricsServer\x20clusterRole\x20for\x20aggregated\x20reader',_0x275be5['NEfvX']=_0x4ebc58(0x1fa),_0x275be5['Doasa']=_0x4ebc58(0x244),_0x275be5['hNwYb']='cluster-role.yaml',_0x275be5['zoKyC']=_0x4ebc58(0x294),_0x275be5[_0x4ebc58(0x17f)]=_0x4ebc58(0x17b),_0x275be5[_0x4ebc58(0x160)]='Adding\x20MetricsServer\x20clusterRoleBinding',_0x275be5[_0x4ebc58(0x2ac)]=_0x4ebc58(0x256),_0x275be5[_0x4ebc58(0x28c)]='cluster-role-binding.yaml',_0x275be5[_0x4ebc58(0x270)]=_0x4ebc58(0x21f),_0x275be5[_0x4ebc58(0x236)]=_0x4ebc58(0x1dd),_0x275be5[_0x4ebc58(0x1b3)]='Adding\x20MetricsServer\x20Deployment',_0x275be5[_0x4ebc58(0x27f)]=_0x4ebc58(0x1d8),_0x275be5[_0x4ebc58(0x1fe)]='Adding\x20MetricsServer\x20API\x20Service',_0x275be5[_0x4ebc58(0x136)]=_0x4ebc58(0x182);const _0x163948=_0x275be5;logger['info'](_0x163948['jFEVN']);let _0x31f983=await fs[_0x4ebc58(0x259)](path['join'](__dirname,'..',_0x163948[_0x4ebc58(0x195)],_0x163948[_0x4ebc58(0x1ff)],_0x163948[_0x4ebc58(0x173)]),_0x163948['AEbMs']),_0xcfb493=yaml[_0x4ebc58(0x1e2)](_0x31f983);const _0x3761c1={};_0x3761c1[_0x4ebc58(0x1d5)]=_0x163948[_0x4ebc58(0x214)],_0x3761c1['body']=_0xcfb493,await _0x3610d2['createNamespacedServiceAccount'](_0x3761c1),logger[_0x4ebc58(0x1c1)](_0x163948['AaQKi']),_0x31f983=await fs['readFileAsync'](path['join'](__dirname,'..',_0x163948[_0x4ebc58(0x195)],_0x163948[_0x4ebc58(0x1ff)],_0x163948[_0x4ebc58(0x18b)]),_0x163948['AEbMs']),_0xcfb493=yaml[_0x4ebc58(0x1e2)](_0x31f983);const _0x4f36e9={};_0x4f36e9[_0x4ebc58(0x1c3)]=_0xcfb493,await _0x1cec98[_0x4ebc58(0x268)](_0x4f36e9),logger['info'](_0x163948[_0x4ebc58(0x1a7)]),_0x31f983=await fs['readFileAsync'](path[_0x4ebc58(0x1b0)](__dirname,'..',_0x163948[_0x4ebc58(0x195)],_0x163948[_0x4ebc58(0x1ff)],_0x163948[_0x4ebc58(0x26e)]),_0x163948[_0x4ebc58(0x272)]),_0xcfb493=yaml['load'](_0x31f983);const _0x322679={};_0x322679[_0x4ebc58(0x1c3)]=_0xcfb493,await _0x1cec98[_0x4ebc58(0x268)](_0x322679),logger[_0x4ebc58(0x1c1)](_0x163948['zoKyC']),_0x31f983=await fs[_0x4ebc58(0x259)](path[_0x4ebc58(0x1b0)](__dirname,'..',_0x163948[_0x4ebc58(0x195)],_0x163948[_0x4ebc58(0x1ff)],_0x163948[_0x4ebc58(0x17f)]),_0x163948[_0x4ebc58(0x272)]),_0xcfb493=yaml[_0x4ebc58(0x1e2)](_0x31f983);const _0x26824e={};_0x26824e['namespace']=_0x163948[_0x4ebc58(0x214)],_0x26824e['body']=_0xcfb493,await _0x1cec98[_0x4ebc58(0x22f)](_0x26824e),logger[_0x4ebc58(0x1c1)](_0x163948[_0x4ebc58(0x160)]),_0x31f983=await fs['readFileAsync'](path[_0x4ebc58(0x1b0)](__dirname,'..',_0x163948['jxskP'],_0x163948[_0x4ebc58(0x1ff)],_0x163948[_0x4ebc58(0x2ac)]),_0x163948[_0x4ebc58(0x272)]),_0xcfb493=yaml[_0x4ebc58(0x1e2)](_0x31f983);const _0x2b572c={};_0x2b572c[_0x4ebc58(0x1c3)]=_0xcfb493,await _0x1cec98[_0x4ebc58(0x299)](_0x2b572c),logger[_0x4ebc58(0x1c1)](_0x163948[_0x4ebc58(0x160)]),_0x31f983=await fs[_0x4ebc58(0x259)](path[_0x4ebc58(0x1b0)](__dirname,'..',_0x163948['jxskP'],_0x163948['ECBAU'],_0x163948[_0x4ebc58(0x28c)]),_0x163948[_0x4ebc58(0x272)]),_0xcfb493=yaml['load'](_0x31f983);const _0x3f3714={};_0x3f3714['body']=_0xcfb493,await _0x1cec98['createClusterRoleBinding'](_0x3f3714),logger[_0x4ebc58(0x1c1)](_0x163948[_0x4ebc58(0x270)]),_0x31f983=await fs['readFileAsync'](path['join'](__dirname,'..',_0x163948[_0x4ebc58(0x195)],_0x163948[_0x4ebc58(0x1ff)],_0x163948['rQJMd']),_0x163948[_0x4ebc58(0x272)]),_0xcfb493=yaml[_0x4ebc58(0x1e2)](_0x31f983);const _0x5f0735={};_0x5f0735[_0x4ebc58(0x1d5)]=_0x163948[_0x4ebc58(0x214)],_0x5f0735[_0x4ebc58(0x1c3)]=_0xcfb493,await _0x3610d2[_0x4ebc58(0x1b1)](_0x5f0735),logger[_0x4ebc58(0x1c1)](_0x163948[_0x4ebc58(0x1b3)]),_0x31f983=await fs['readFileAsync'](path[_0x4ebc58(0x1b0)](__dirname,'..',_0x163948[_0x4ebc58(0x195)],_0x163948[_0x4ebc58(0x1ff)],_0x163948[_0x4ebc58(0x27f)]),_0x163948['AEbMs']),_0xcfb493=yaml[_0x4ebc58(0x1e2)](_0x31f983);const _0x32e6eb={};_0x32e6eb[_0x4ebc58(0x1d5)]=_0x163948[_0x4ebc58(0x214)],_0x32e6eb[_0x4ebc58(0x1c3)]=_0xcfb493,await _0x3cca3d['createNamespacedDeployment'](_0x32e6eb),logger['info'](_0x163948[_0x4ebc58(0x1fe)]),_0x31f983=await fs[_0x4ebc58(0x259)](path[_0x4ebc58(0x1b0)](__dirname,'..',_0x163948[_0x4ebc58(0x195)],_0x163948[_0x4ebc58(0x1ff)],_0x163948[_0x4ebc58(0x136)]),_0x163948['AEbMs']),_0xcfb493=yaml[_0x4ebc58(0x1e2)](_0x31f983);const _0x593d3f={};_0x593d3f[_0x4ebc58(0x1c3)]=_0xcfb493,await _0x33a246[_0x4ebc58(0x211)](_0x593d3f);},exports[a33_0xb5ebda(0x28b)]=async _0x58def5=>{const _0x10d6e9=a33_0xb5ebda,_0x576cdc={};_0x576cdc['PCuvh']=_0x10d6e9(0x267),_0x576cdc['EbhYV']=_0x10d6e9(0x29d),_0x576cdc[_0x10d6e9(0x23c)]=function(_0x3658c9,_0xc979ad){return _0x3658c9<_0xc979ad;},_0x576cdc['dHEcT']=function(_0x522402,_0x429e20){return _0x522402===_0x429e20;},_0x576cdc[_0x10d6e9(0x29f)]=_0x10d6e9(0x257),_0x576cdc[_0x10d6e9(0x224)]='UcIZn',_0x576cdc[_0x10d6e9(0x21d)]=function(_0x18945a,_0x2b440b){return _0x18945a===_0x2b440b;},_0x576cdc[_0x10d6e9(0x1e0)]=_0x10d6e9(0x210),_0x576cdc['oezzl']=function(_0x39bfbc,_0x223f6a){return _0x39bfbc!==_0x223f6a;},_0x576cdc[_0x10d6e9(0x14c)]='CxZcu',_0x576cdc[_0x10d6e9(0x245)]='cnEiS';const _0x1a6601=_0x576cdc,_0x278c02={};_0x278c02['namespace']=_0x1a6601[_0x10d6e9(0x280)];const _0x2e523e=await _0x58def5[_0x10d6e9(0x217)](_0x278c02),_0x52bca3=_0x2e523e?.[_0x10d6e9(0x1e9)];for(let _0x1eaa26=0x0;_0x1a6601[_0x10d6e9(0x23c)](_0x1eaa26,_0x52bca3[_0x10d6e9(0x24d)]);_0x1eaa26++){if(_0x1a6601['dHEcT'](_0x1a6601['mrlGR'],_0x1a6601[_0x10d6e9(0x224)]))return!![];else{if(_0x1a6601[_0x10d6e9(0x21d)](_0x52bca3[_0x1eaa26][_0x10d6e9(0x27d)][_0x10d6e9(0x213)],_0x1a6601[_0x10d6e9(0x1e0)])){if(_0x1a6601[_0x10d6e9(0x159)](_0x1a6601[_0x10d6e9(0x14c)],_0x1a6601[_0x10d6e9(0x245)]))return!![];else _0x4ed36a=_0x1a6601[_0x10d6e9(0x289)];}}}return![];},exports[a33_0xb5ebda(0x22a)]=async(_0x21ac6b,_0xc3b2a)=>{const _0x4d4dfd=a33_0xb5ebda,_0x145f06={};_0x145f06[_0x4d4dfd(0x22b)]=function(_0x3b5cf5,_0x7ab31c){return _0x3b5cf5===_0x7ab31c;},_0x145f06[_0x4d4dfd(0x208)]=_0x4d4dfd(0x2a3),_0x145f06[_0x4d4dfd(0x2af)]=_0x4d4dfd(0x22e),_0x145f06[_0x4d4dfd(0x1b2)]=_0x4d4dfd(0x198),_0x145f06[_0x4d4dfd(0x2b6)]=_0x4d4dfd(0x298);const _0x4f4241=_0x145f06;try{if(_0x4f4241['cuorJ'](_0x4f4241[_0x4d4dfd(0x208)],_0x4f4241[_0x4d4dfd(0x2af)])){const _0x1bc63a={};_0x1bc63a[_0x4d4dfd(0x23d)]=''+_0x2280fa['clientId'];const _0x4f7778={'annotations':_0x1bc63a,..._0x2c136b['metadata']};_0x277a1f[_0x4d4dfd(0x27d)]=_0x4f7778;}else{const _0x8904de={};_0x8904de[_0x4d4dfd(0x213)]=_0xc3b2a;const _0x553724=await _0x21ac6b['readNamespace'](_0x8904de);return!![];}}catch(_0xc03251){return _0x4f4241[_0x4d4dfd(0x22b)](_0x4f4241[_0x4d4dfd(0x1b2)],_0x4f4241[_0x4d4dfd(0x2b6)])?![]:![];}},exports['deploymentExists']=async(_0x548a53,_0x5c79d3,_0x21990c)=>{const _0x30fd49=a33_0xb5ebda,_0x1c0f2e={};_0x1c0f2e['ihFBU']=_0x30fd49(0x20f),_0x1c0f2e[_0x30fd49(0x27e)]=_0x30fd49(0x1a0),_0x1c0f2e[_0x30fd49(0x26d)]=function(_0x3c70c8,_0x271460){return _0x3c70c8===_0x271460;},_0x1c0f2e[_0x30fd49(0x15a)]=_0x30fd49(0x278),_0x1c0f2e[_0x30fd49(0x216)]=_0x30fd49(0x189);const _0xf989ba=_0x1c0f2e;try{if(_0xf989ba[_0x30fd49(0x26d)](_0xf989ba['esmHv'],_0xf989ba[_0x30fd49(0x15a)])){const _0x1456ca=await _0x548a53[_0x30fd49(0x140)](_0x5c79d3),_0x3a0022=_0x1456ca[_0x30fd49(0x1c3)][_0x30fd49(0x1e9)][_0x30fd49(0x154)](_0x527524=>_0x527524[_0x30fd49(0x27d)][_0x30fd49(0x213)]===_0x21990c);return _0x3a0022?!![]:![];}else return _0xf989ba['ihFBU'];}catch(_0x3ac20a){if(_0xf989ba[_0x30fd49(0x26d)](_0xf989ba[_0x30fd49(0x216)],_0xf989ba[_0x30fd49(0x216)]))return![];else{const _0x4b4df4={'azure.workload.identity/use':_0xf989ba[_0x30fd49(0x27e)],..._0x8df121[_0x30fd49(0x15f)][_0x30fd49(0x274)][_0x30fd49(0x27d)][_0x30fd49(0x1ee)]};_0xf8d7bf[_0x30fd49(0x15f)][_0x30fd49(0x274)][_0x30fd49(0x27d)][_0x30fd49(0x1ee)]=_0x4b4df4;}}},exports[a33_0xb5ebda(0x200)]=async(_0x57ed97,_0x4b1b85)=>{const _0x367b6d=a33_0xb5ebda,_0x5042f2={};_0x5042f2[_0x367b6d(0x16c)]=function(_0x11113d,_0x2ec117){return _0x11113d!==_0x2ec117;},_0x5042f2[_0x367b6d(0x293)]='default',_0x5042f2[_0x367b6d(0x243)]=function(_0x17adee,_0x25917b){return _0x17adee!==_0x25917b;},_0x5042f2[_0x367b6d(0x2a6)]='PibdQ',_0x5042f2[_0x367b6d(0x1c2)]=_0x367b6d(0x1e3);const _0x20617d=_0x5042f2;if(_0x20617d[_0x367b6d(0x16c)](_0x4b1b85,_0x20617d[_0x367b6d(0x293)])){if(_0x20617d[_0x367b6d(0x243)](_0x20617d[_0x367b6d(0x2a6)],_0x20617d[_0x367b6d(0x2a6)]))_0x35bb66[_0x367b6d(0x145)](_0x367b6d(0x2bb)+_0x1e380d+':',_0x5aa6d1[_0x367b6d(0x1f5)]);else{const _0x3f359e={};_0x3f359e[_0x367b6d(0x269)]=_0x20617d[_0x367b6d(0x1c2)],_0x3f359e[_0x367b6d(0x2a8)]=_0x20617d['lhrrY'];const _0x524864={};_0x524864[_0x367b6d(0x213)]=_0x4b1b85,_0x524864['annotations']=_0x3f359e;const _0x5ed080={};_0x5ed080[_0x367b6d(0x27d)]=_0x524864;const _0x458a90=_0x5ed080,_0x1862f7={};_0x1862f7[_0x367b6d(0x1c3)]=_0x458a90,await _0x57ed97['createNamespace'](_0x1862f7),logger['info'](_0x367b6d(0x1bf)+_0x4b1b85);}}},exports['getNamespaceUID']=async(_0x4272d4,_0x23500a)=>{const _0x54d6a=a33_0xb5ebda,_0x30bebd={};_0x30bebd[_0x54d6a(0x271)]=function(_0x1324d8,_0x585097){return _0x1324d8!==_0x585097;},_0x30bebd[_0x54d6a(0x183)]=_0x54d6a(0x184),_0x30bebd[_0x54d6a(0x221)]='VmOaK',_0x30bebd[_0x54d6a(0x20d)]=_0x54d6a(0x20f);const _0x3243ae=_0x30bebd;try{if(_0x3243ae['aWyHM'](_0x3243ae[_0x54d6a(0x183)],_0x3243ae[_0x54d6a(0x183)]))return![];else{const _0x326927={};_0x326927['name']=_0x23500a;const _0x11dd4d=await _0x4272d4[_0x54d6a(0x158)](_0x326927),_0xca8bdf=_0x11dd4d?.[_0x54d6a(0x27d)]?.['uid'];return _0xca8bdf;}}catch(_0x49bd8c){if(_0x3243ae[_0x54d6a(0x271)](_0x3243ae[_0x54d6a(0x221)],_0x3243ae[_0x54d6a(0x221)]))_0x130b22=_0x5c578b['replace'](/<GridProfileID>/g,'');else return _0x3243ae['qRZLk'];}},exports['addGridComponents']=async(_0x30fe93,_0x3b6eab,_0x42710b,_0x596ae6,_0x40d8b7,_0x561fa2,_0x2521b6,_0x81e619,_0x25a5e4,_0x4407b0={},_0x14e6e1)=>{const _0x31a68c=a33_0xb5ebda,_0x15526a={'jGeck':function(_0x50aeab,_0x4b5b5a){return _0x50aeab(_0x4b5b5a);},'xmARy':function(_0x8d0e1c,_0x28fe64){return _0x8d0e1c(_0x28fe64);},'suvAE':_0x31a68c(0x18e),'nvRQc':_0x31a68c(0x1fb),'AHWVI':function(_0x509677,_0x408a69,_0xcede5e){return _0x509677(_0x408a69,_0xcede5e);},'pVtXJ':_0x31a68c(0x1a1),'OOnLg':_0x31a68c(0x258),'zpNRD':function(_0x13abcb,_0x3567bc){return _0x13abcb!=_0x3567bc;},'WoGwE':function(_0x5b90a9,_0x3f734a){return _0x5b90a9!==_0x3f734a;},'bVmOS':function(_0x3ec9ae,_0x4d23f5){return _0x3ec9ae===_0x4d23f5;},'SWVZI':'bpCBK','ekgQo':_0x31a68c(0x166),'csuTZ':_0x31a68c(0x1bd),'CJXkj':_0x31a68c(0x14b),'HPznr':_0x31a68c(0x1ae),'LPIcT':'LpkmX','togYA':_0x31a68c(0x1a9),'rkIdY':_0x31a68c(0x135),'ESOeJ':function(_0x565734,_0x1d71cf){return _0x565734===_0x1d71cf;},'rmdzK':_0x31a68c(0x288),'eVwPN':_0x31a68c(0x206),'SStPA':function(_0x43da40,_0x34a71b,_0x4ddbd5,_0x43e35f){return _0x43da40(_0x34a71b,_0x4ddbd5,_0x43e35f);},'ZJCWm':'browser-node-service-account.yaml','ECVmx':_0x31a68c(0x147),'jiwTr':function(_0x3354e8,_0x126c22){return _0x3354e8===_0x126c22;},'YamnZ':function(_0x35c217,_0x2858e9){return _0x35c217===_0x2858e9;},'TWztZ':'QlTwh','xdgpf':_0x31a68c(0x194),'ChPxa':_0x31a68c(0x21c),'UoMEX':'default-service-account.yaml','xYoTB':_0x31a68c(0x1cb),'cXdjJ':'Added\x20default\x20service\x20account','nnYBu':'Adding\x20browser-node-role\x20cluster\x20role','uKYMb':_0x31a68c(0x169),'LLyxf':_0x31a68c(0x251),'zoCpV':'Adding\x20browser-node-role-binding\x20role\x20binding','kUDTl':_0x31a68c(0x2ab),'LDswK':_0x31a68c(0x138),'gOHGI':function(_0x2ae2bb,_0x42d2f1){return _0x2ae2bb===_0x42d2f1;},'LWvDh':_0x31a68c(0x2b4),'MffYD':_0x31a68c(0x235),'Rtlbv':_0x31a68c(0x24b),'GSMsI':function(_0x2a80a5,_0x3dcc74,_0x5cdd4f){return _0x2a80a5(_0x3dcc74,_0x5cdd4f);},'WTwgt':'Added\x20Nginx\x20Roles\x20and\x20Service\x20Accounts','uxvhf':_0x31a68c(0x230),'ARGac':_0x31a68c(0x229),'XPFcl':_0x31a68c(0x1e1),'FYeGS':'utf-8','ZHAPh':_0x31a68c(0x2b1),'OMZNs':_0x31a68c(0x1bc),'DpUsV':_0x31a68c(0x249),'auevP':_0x31a68c(0x24e),'ZLnFA':'Adding\x20Nginx\x20Private\x20Pods\x20and\x20Services','nEepn':_0x31a68c(0x29b),'rZsuo':_0x31a68c(0x267),'jCNcP':_0x31a68c(0x27c),'xLakH':_0x31a68c(0x15b),'glaUk':_0x31a68c(0x266),'SSVse':_0x31a68c(0x2bd),'jOwXT':_0x31a68c(0x2b2),'wEkJH':'Adding\x20VPC\x20CNI\x20CM','FSPCE':_0x31a68c(0x1ab),'ArSCy':_0x31a68c(0x1f2),'BpbQd':_0x31a68c(0x186),'WVHFi':_0x31a68c(0x255),'LHkpd':_0x31a68c(0x2ad),'QukoY':_0x31a68c(0x247),'JwiMs':function(_0x3f1b65,_0x44780d,_0x1a7be5){return _0x3f1b65(_0x44780d,_0x1a7be5);},'pZxdb':_0x31a68c(0x2ae),'iESFA':'crds.yaml','LzpPE':_0x31a68c(0x1f7),'ywjGl':function(_0x515ac2,_0x10c472,_0x3ba918){return _0x515ac2(_0x10c472,_0x3ba918);},'CXHQM':_0x31a68c(0x134),'yNxKb':function(_0x21b515,_0xcccaae,_0x5305a9,_0x4c8f92,_0x42508c){return _0x21b515(_0xcccaae,_0x5305a9,_0x4c8f92,_0x42508c);},'ImdOb':_0x31a68c(0x296),'WjCsS':_0x31a68c(0x149),'GBPpM':_0x31a68c(0x180),'zsDjp':_0x31a68c(0x19a),'OVbCn':_0x31a68c(0x1fd),'fFmlf':'browserstack-turboscale-agent','mxYgi':_0x31a68c(0x282),'cnZEX':_0x31a68c(0x1db),'sWPgY':_0x31a68c(0x1d0),'QGDKy':_0x31a68c(0x137),'lpeaU':_0x31a68c(0x150),'gDoCn':_0x31a68c(0x193),'KNIeG':_0x31a68c(0x133),'qCrtZ':'Adding\x20browserstack\x20secret\x20deployment','dyZvM':'browserstack-secret.yaml','ZTLOx':function(_0x222b97,_0x3dc5af){return _0x222b97(_0x3dc5af);},'dZPsM':function(_0x2f5a1e,_0x118763,_0x339072){return _0x2f5a1e(_0x118763,_0x339072);},'ABIdy':_0x31a68c(0x19c),'KiwQs':'Adding\x20hubdeployment','kJySY':function(_0x5355bb,_0x31d39a,_0x123a1f){return _0x5355bb(_0x31d39a,_0x123a1f);},'gTpYL':_0x31a68c(0x19b),'xIYin':'Added\x20hubdeployment','SbNLu':_0x31a68c(0x2b9),'czlqU':'ingress-nginx-controller','yaXAo':function(_0x7266b1,_0x289a62,_0x1af5bf,_0x24a2ac,_0x1c1723){return _0x7266b1(_0x289a62,_0x1af5bf,_0x24a2ac,_0x1c1723);},'xoHpp':_0x31a68c(0x1e4),'hqljJ':_0x31a68c(0x191),'cVIxH':_0x31a68c(0x24a),'Vdskb':function(_0x4baf60,_0x44f2ea,_0x255226){return _0x4baf60(_0x44f2ea,_0x255226);},'gBlne':_0x31a68c(0x1ba)};let _0xb941c2=null,_0x3b085b=null;logger[_0x31a68c(0x1c1)](_0x15526a[_0x31a68c(0x192)]),_0xb941c2=await _0x15526a[_0x31a68c(0x28a)](applyTemplate,_0x15526a['pVtXJ'],_0x40d8b7);const _0x1d7705={};_0x1d7705['body']=_0xb941c2,await _0x596ae6['createClusterRoleBinding'](_0x1d7705),logger[_0x31a68c(0x1c1)](_0x15526a[_0x31a68c(0x20c)]);if(_0x15526a[_0x31a68c(0x223)](_0x2521b6,null)&&_0x15526a[_0x31a68c(0x1f1)](_0x2521b6,undefined)){if(_0x15526a[_0x31a68c(0x178)](_0x15526a[_0x31a68c(0x1c5)],_0x15526a['ekgQo']))throw _0x3a2f57;else logger[_0x31a68c(0x1c1)](_0x15526a[_0x31a68c(0x1de)]),await this['addAutoScalerComponents'](_0x30fe93,_0x3b6eab,_0x42710b,_0x596ae6,_0x40d8b7,_0x561fa2,_0x2521b6),logger[_0x31a68c(0x1c1)](_0x15526a['CJXkj']);}const _0x1a0adc=await this[_0x31a68c(0x28b)](_0x30fe93);!_0x1a0adc&&(_0x15526a[_0x31a68c(0x1f1)](_0x15526a[_0x31a68c(0x205)],_0x15526a[_0x31a68c(0x1cf)])?(logger[_0x31a68c(0x1c1)](_0x15526a[_0x31a68c(0x1cc)]),await this[_0x31a68c(0x23a)](_0x30fe93,_0x3b6eab,_0x596ae6,_0x81e619),logger[_0x31a68c(0x1c1)](_0x15526a[_0x31a68c(0x25b)])):(_0x4104f1=_0x3653b9['replace'](/<RedisClientPassword>/g,_0x15526a[_0x31a68c(0x237)](_0x1fa874,_0x434829[_0x31a68c(0x171)])),_0xe323f1=_0x4648ae[_0x31a68c(0x1b6)](/<KafkaClientPassword>/g,_0x15526a[_0x31a68c(0x28d)](_0x5c275f,_0x380816[_0x31a68c(0x260)]))));try{if(_0x15526a['ESOeJ'](_0x15526a[_0x31a68c(0x25f)],_0x15526a[_0x31a68c(0x25f)])){logger['info'](_0x15526a['eVwPN']),_0xb941c2=await _0x15526a[_0x31a68c(0x1f6)](applyTemplate,_0x15526a[_0x31a68c(0x188)],_0x40d8b7,_0x4407b0);const _0x5da48c={};_0x5da48c[_0x31a68c(0x1d5)]=_0x40d8b7,_0x5da48c[_0x31a68c(0x1c3)]=_0xb941c2,await _0x30fe93[_0x31a68c(0x197)](_0x5da48c),logger[_0x31a68c(0x1c1)](_0x15526a[_0x31a68c(0x1a8)]);if(_0x15526a[_0x31a68c(0x226)](global_registry['cloudProvider'],AZURE)){if(_0x15526a[_0x31a68c(0x162)](_0x15526a['TWztZ'],_0x15526a['xdgpf']))_0x2fea9c=_0x4c0660[_0x31a68c(0x1b6)](/<KafkaClientPassword>/g,''),_0x1d5a44=_0x32a99b['replace'](/<RedisClientPassword>/g,'');else{logger[_0x31a68c(0x1c1)](_0x15526a[_0x31a68c(0x23b)]),_0xb941c2=await _0x15526a[_0x31a68c(0x1f6)](applyTemplate,_0x15526a['UoMEX'],_0x40d8b7,_0x4407b0);const _0x2ca752={};_0x2ca752[_0x31a68c(0x213)]=_0x15526a[_0x31a68c(0x233)],_0x2ca752[_0x31a68c(0x1d5)]=_0x40d8b7,_0x2ca752[_0x31a68c(0x1c3)]=_0xb941c2,await _0x30fe93['replaceNamespacedServiceAccount'](_0x2ca752),logger[_0x31a68c(0x1c1)](_0x15526a[_0x31a68c(0x2b7)]);}}logger[_0x31a68c(0x1c1)](_0x15526a[_0x31a68c(0x290)]),_0xb941c2=await _0x15526a[_0x31a68c(0x28a)](applyTemplate,_0x15526a['uKYMb'],_0x40d8b7);const _0x33f75e={};_0x33f75e[_0x31a68c(0x1c3)]=_0xb941c2,await _0x596ae6['createClusterRole'](_0x33f75e),logger[_0x31a68c(0x1c1)](_0x15526a[_0x31a68c(0x1c6)]),logger[_0x31a68c(0x1c1)](_0x15526a[_0x31a68c(0x1e5)]),_0xb941c2=await _0x15526a[_0x31a68c(0x28a)](applyTemplate,_0x15526a['kUDTl'],_0x40d8b7);const _0x437eec={};_0x437eec[_0x31a68c(0x1c3)]=_0xb941c2,await _0x596ae6['createClusterRoleBinding'](_0x437eec),logger[_0x31a68c(0x1c1)](_0x15526a[_0x31a68c(0x1d4)]);}else _0x561173[_0x31a68c(0x13c)](_0x497b33[_0x31a68c(0x1f5)]);}catch(_0x1cb3ee){if(_0x15526a[_0x31a68c(0x201)](_0x1cb3ee[_0x31a68c(0x155)],0x199)||_0x15526a[_0x31a68c(0x201)](_0x1cb3ee['code'],0x199))_0x15526a[_0x31a68c(0x226)](_0x15526a[_0x31a68c(0x14d)],_0x15526a['LWvDh'])?logger['debug'](_0x1cb3ee[_0x31a68c(0x1f5)]):_0x610a50=_0x15526a['suvAE'];else throw _0x1cb3ee;}const _0x4cb0f3=await this[_0x31a68c(0x22a)](_0x30fe93,_0x15526a[_0x31a68c(0x2b5)]);if(!_0x4cb0f3){const _0x49b69d=_0x15526a['Rtlbv'][_0x31a68c(0x283)]('|');let _0x49c780=0x0;while(!![]){switch(_0x49b69d[_0x49c780++]){case'0':await _0x15526a[_0x31a68c(0x199)](kubeApply,_0xb941c2,_0x25a5e4);continue;case'1':await _0x15526a[_0x31a68c(0x28a)](kubeApply,_0xb941c2,_0x25a5e4);continue;case'2':logger[_0x31a68c(0x1c1)](_0x15526a['WTwgt']);continue;case'3':_0x3b085b=await fs[_0x31a68c(0x259)](path[_0x31a68c(0x1b0)](__dirname,'..',_0x15526a['uxvhf'],_0x15526a[_0x31a68c(0x1d9)],_0x15526a[_0x31a68c(0x1f3)]),_0x15526a['FYeGS']);continue;case'4':logger[_0x31a68c(0x1c1)](_0x15526a[_0x31a68c(0x14e)]);continue;case'5':_0xb941c2=yaml[_0x31a68c(0x2aa)](_0x3b085b);continue;case'6':logger[_0x31a68c(0x1c1)](_0x15526a['OMZNs']);continue;case'7':_0xb941c2=yaml[_0x31a68c(0x2aa)](_0x3b085b);continue;case'8':_0x3b085b=await fs['readFileAsync'](path[_0x31a68c(0x1b0)](__dirname,'..',_0x15526a[_0x31a68c(0x1f0)],_0x15526a[_0x31a68c(0x1d9)],_0x15526a[_0x31a68c(0x13f)]),_0x15526a[_0x31a68c(0x168)]);continue;case'9':logger[_0x31a68c(0x1c1)](_0x15526a[_0x31a68c(0x232)]);continue;}break;}}if(global_registry[_0x31a68c(0x241)]){logger[_0x31a68c(0x1c1)](_0x15526a['ZLnFA']);let _0x4f0994;if(_0x15526a['gOHGI'](global_registry['cloudProvider'],AZURE))_0x4f0994=_0x15526a['suvAE'];else _0x15526a['jiwTr'](global_registry[_0x31a68c(0x146)],GCP)?_0x4f0994=_0x15526a[_0x31a68c(0x240)]:_0x4f0994=_0x15526a[_0x31a68c(0x1d3)];_0x3b085b=await fs[_0x31a68c(0x259)](path['join'](__dirname,'..',_0x15526a[_0x31a68c(0x1f0)],_0x15526a['ARGac'],_0x15526a['jCNcP']),_0x15526a[_0x31a68c(0x168)]),_0x3b085b=_0x3b085b['replace'](/<InternalLoadBalancerAnnotations>/g,_0x4f0994),_0xb941c2=yaml[_0x31a68c(0x2aa)](_0x3b085b),await _0x15526a['GSMsI'](kubeApply,_0xb941c2,_0x25a5e4),logger['info'](_0x15526a[_0x31a68c(0x292)]);}if(global_registry[_0x31a68c(0x220)]){const _0x4d11ce=_0x15526a[_0x31a68c(0x24f)][_0x31a68c(0x283)]('|');let _0x29964e=0x0;while(!![]){switch(_0x4d11ce[_0x29964e++]){case'0':_0x3b085b=await fs['readFileAsync'](path[_0x31a68c(0x1b0)](__dirname,'..',_0x15526a[_0x31a68c(0x1f0)],_0x15526a[_0x31a68c(0x24c)]),_0x15526a[_0x31a68c(0x168)]);continue;case'1':logger[_0x31a68c(0x1c1)](_0x15526a[_0x31a68c(0x264)]);continue;case'2':_0xb941c2=yaml['loadAll'](_0x3b085b);continue;case'3':logger[_0x31a68c(0x1c1)](_0x15526a[_0x31a68c(0x2c1)]);continue;case'4':await _0x15526a[_0x31a68c(0x28a)](kubeApply,_0xb941c2,_0x25a5e4);continue;}break;}}const _0x184010=await this[_0x31a68c(0x22a)](_0x30fe93,_0x15526a[_0x31a68c(0x13e)]);if(!_0x184010){const _0x79b997=_0x15526a[_0x31a68c(0x21b)][_0x31a68c(0x283)]('|');let _0x36c3af=0x0;while(!![]){switch(_0x79b997[_0x36c3af++]){case'0':logger[_0x31a68c(0x1c1)](_0x15526a[_0x31a68c(0x227)]);continue;case'1':_0xb941c2=yaml[_0x31a68c(0x2aa)](_0x3b085b);continue;case'2':_0x3b085b=await fs[_0x31a68c(0x259)](path[_0x31a68c(0x1b0)](__dirname,'..',_0x15526a[_0x31a68c(0x1f0)],_0x15526a['FSPCE'],_0x15526a[_0x31a68c(0x212)]),_0x15526a['FYeGS']);continue;case'3':_0xb941c2=yaml[_0x31a68c(0x2aa)](_0x3b085b);continue;case'4':logger[_0x31a68c(0x1c1)](_0x15526a[_0x31a68c(0x14f)]);continue;case'5':logger['info'](_0x15526a['QukoY']);continue;case'6':await _0x15526a[_0x31a68c(0x185)](kubeApply,_0xb941c2,_0x25a5e4);continue;case'7':_0x3b085b=await fs[_0x31a68c(0x259)](path[_0x31a68c(0x1b0)](__dirname,'..',_0x15526a['uxvhf'],_0x15526a[_0x31a68c(0x13e)],_0x15526a[_0x31a68c(0x17a)]),_0x15526a[_0x31a68c(0x168)]);continue;case'8':_0x3b085b=await fs[_0x31a68c(0x259)](path[_0x31a68c(0x1b0)](__dirname,'..',_0x15526a[_0x31a68c(0x1f0)],_0x15526a[_0x31a68c(0x13e)],_0x15526a[_0x31a68c(0x285)]),_0x15526a['FYeGS']);continue;case'9':logger[_0x31a68c(0x1c1)](_0x15526a['LzpPE']);continue;case'10':await _0x15526a[_0x31a68c(0x185)](kubeApply,_0xb941c2,_0x25a5e4);continue;case'11':await _0x15526a[_0x31a68c(0x202)](kubeApply,_0xb941c2,_0x25a5e4);continue;case'12':logger[_0x31a68c(0x1c1)](_0x15526a[_0x31a68c(0x2a1)]);continue;case'13':await _0x15526a['yNxKb'](waitForDeployment,_0x3b6eab,_0x15526a[_0x31a68c(0x13e)],_0x15526a[_0x31a68c(0x190)],0x7530);continue;case'14':logger[_0x31a68c(0x1c1)](_0x15526a[_0x31a68c(0x1a5)]);continue;case'15':logger['info'](_0x15526a['GBPpM']);continue;case'16':_0xb941c2=yaml[_0x31a68c(0x2aa)](_0x3b085b);continue;case'17':await _0x15526a['yNxKb'](waitForDeployment,_0x3b6eab,_0x15526a[_0x31a68c(0x13e)],_0x15526a[_0x31a68c(0x13e)],0x7530);continue;case'18':await _0x15526a[_0x31a68c(0x248)](waitForDeployment,_0x3b6eab,_0x15526a[_0x31a68c(0x13e)],_0x15526a['zsDjp'],0x7530);continue;}break;}}const _0x33797f=await this[_0x31a68c(0x22a)](_0x30fe93,_0x15526a[_0x31a68c(0x16a)]);!_0x33797f&&await this[_0x31a68c(0x200)](_0x30fe93,_0x15526a[_0x31a68c(0x16a)]);const _0x2e1cea=await this[_0x31a68c(0x20a)](_0x30fe93,_0x15526a['OVbCn'],_0x15526a[_0x31a68c(0x22d)]);if(!_0x2e1cea){const _0xa3ecf2=_0x15526a[_0x31a68c(0x18c)][_0x31a68c(0x283)]('|');let _0x5bc308=0x0;while(!![]){switch(_0xa3ecf2[_0x5bc308++]){case'0':_0x3b085b=_0x3b085b[_0x31a68c(0x1b6)](/<BstackUsername>/g,global_registry[_0x31a68c(0x1d6)]);continue;case'1':logger['info'](_0x15526a[_0x31a68c(0x144)]);continue;case'2':_0x3b085b=await fs['readFileAsync'](path[_0x31a68c(0x1b0)](__dirname,'..',_0x15526a[_0x31a68c(0x1f0)],_0x15526a[_0x31a68c(0x2a7)]),_0x15526a['FYeGS']);continue;case'3':_0x3b085b=_0x3b085b[_0x31a68c(0x1b6)](/<BstackURL>/g,AG_API_URL);continue;case'4':await _0x15526a[_0x31a68c(0x199)](kubeApply,_0xb941c2,_0x25a5e4);continue;case'5':_0xb941c2=yaml['loadAll'](_0x3b085b);continue;case'6':logger[_0x31a68c(0x1c1)](_0x15526a[_0x31a68c(0x1c9)]);continue;case'7':_0x3b085b=_0x3b085b[_0x31a68c(0x1b6)](/<BstackAccessKey>/g,global_registry[_0x31a68c(0x276)]);continue;}break;}}logger[_0x31a68c(0x1c1)](_0x15526a[_0x31a68c(0x1b4)]),_0xb941c2=await _0x15526a['GSMsI'](applyTemplate,_0x15526a['gDoCn'],_0x40d8b7);const _0x4714c1={};_0x4714c1['namespace']=_0x40d8b7,_0x4714c1[_0x31a68c(0x1c3)]=_0xb941c2,await _0x30fe93[_0x31a68c(0x1b1)](_0x4714c1),logger['info'](_0x15526a[_0x31a68c(0x1d2)]),logger[_0x31a68c(0x1c1)](_0x15526a[_0x31a68c(0x18f)]);let _0x465935=await fs['readFileAsync'](path[_0x31a68c(0x1b0)](__dirname,'..',_0x15526a[_0x31a68c(0x1f0)],_0x15526a[_0x31a68c(0x175)]),_0x15526a[_0x31a68c(0x168)]);_0x465935=_0x465935[_0x31a68c(0x1b6)](/<GridNamespace>/g,_0x40d8b7),_0x465935=_0x465935[_0x31a68c(0x1b6)](/<BstackUsername>/g,_0x15526a[_0x31a68c(0x237)](encodeBase64,global_registry[_0x31a68c(0x1d6)])),_0x465935=_0x465935['replace'](/<BstackAccessKey>/g,_0x15526a[_0x31a68c(0x1e7)](encodeBase64,global_registry[_0x31a68c(0x276)]));global_registry['enableHubHa']?(_0x465935=_0x465935['replace'](/<RedisClientPassword>/g,_0x15526a[_0x31a68c(0x237)](encodeBase64,global_registry[_0x31a68c(0x171)])),_0x465935=_0x465935[_0x31a68c(0x1b6)](/<KafkaClientPassword>/g,_0x15526a[_0x31a68c(0x237)](encodeBase64,global_registry[_0x31a68c(0x260)]))):(_0x465935=_0x465935[_0x31a68c(0x1b6)](/<KafkaClientPassword>/g,''),_0x465935=_0x465935[_0x31a68c(0x1b6)](/<RedisClientPassword>/g,''));const _0xc0c2d=yaml[_0x31a68c(0x2aa)](_0x465935);await _0x15526a[_0x31a68c(0x1a2)](kubeApply,_0xc0c2d,_0x25a5e4),logger[_0x31a68c(0x1c1)](_0x15526a[_0x31a68c(0x176)]),logger[_0x31a68c(0x1c1)](_0x15526a[_0x31a68c(0x1c4)]),_0xb941c2=await _0x15526a[_0x31a68c(0x16d)](applyTemplate,_0x15526a[_0x31a68c(0x1c7)],_0x40d8b7);const _0x2d3c72={};_0x2d3c72[_0x31a68c(0x1d5)]=_0x40d8b7,_0x2d3c72[_0x31a68c(0x1c3)]=_0xb941c2,await _0x3b6eab[_0x31a68c(0x2bf)](_0x2d3c72),logger[_0x31a68c(0x1c1)](_0x15526a[_0x31a68c(0x1d1)]),logger[_0x31a68c(0x1c1)](_0x15526a[_0x31a68c(0x15d)]),await _0x15526a[_0x31a68c(0x248)](waitForDeployment,_0x3b6eab,_0x15526a[_0x31a68c(0x2b5)],_0x15526a[_0x31a68c(0x1c8)],0xea60);global_registry['isPrivateGrid']&&await _0x15526a[_0x31a68c(0x25d)](waitForDeployment,_0x3b6eab,_0x15526a[_0x31a68c(0x2b5)],_0x15526a[_0x31a68c(0x287)],0xea60);_0x3b085b=await fs[_0x31a68c(0x259)](path[_0x31a68c(0x1b0)](__dirname,'..',_0x15526a[_0x31a68c(0x1f0)],_0x15526a['hqljJ']),_0x15526a['FYeGS']);const _0x3427a7=global_registry['isPrivateGrid']?_0x15526a['cVIxH']:_0x15526a['ARGac'];_0x3b085b=_0x3b085b[_0x31a68c(0x1b6)](/<GridNamespace>/g,_0x40d8b7),_0x3b085b=_0x3b085b['replace'](/<NginxIngressClass>/g,_0x3427a7),_0xb941c2=yaml[_0x31a68c(0x2aa)](_0x3b085b),await _0x15526a[_0x31a68c(0x172)](kubeApply,_0xb941c2,_0x25a5e4),logger[_0x31a68c(0x1c1)](_0x15526a['gBlne']),await _0x15526a[_0x31a68c(0x28d)](delay,0x1388);},exports['removeGridComponents']=async(_0x420188,_0x2b351a,_0x3420ce,_0x4b6ab7,_0x275bf4)=>{const _0x214702=a33_0xb5ebda,_0x3c7382={'tuJky':_0x214702(0x218),'chWtn':_0x214702(0x29c),'YoFxk':_0x214702(0x253),'VsNnK':'Deleting\x20clusterrolebinding','PCFnS':function(_0x413526,_0x172e17){return _0x413526(_0x172e17);},'viorT':_0x214702(0x1af)},_0x550bcd=_0x3c7382[_0x214702(0x20e)]['split']('|');let _0x4e06bc=0x0;while(!![]){switch(_0x550bcd[_0x4e06bc++]){case'0':logger['info'](_0x3c7382[_0x214702(0x2b3)]);continue;case'1':const _0x22ca5d={};_0x22ca5d[_0x214702(0x213)]=_0x214702(0x139)+_0x275bf4,await _0x4b6ab7[_0x214702(0x1b7)](_0x22ca5d);continue;case'2':logger[_0x214702(0x1c1)](_0x3c7382['YoFxk']);continue;case'3':logger[_0x214702(0x1c1)](_0x3c7382[_0x214702(0x16e)]);continue;case'4':await _0x3c7382['PCFnS'](delay,0x2710);continue;case'5':logger[_0x214702(0x1c1)](_0x3c7382['viorT']);continue;case'6':const _0x5990ff={};_0x5990ff[_0x214702(0x213)]=_0x275bf4,await _0x420188['deleteNamespace'](_0x5990ff);continue;}break;}},exports[a33_0xb5ebda(0x16b)]=async _0x320cec=>{const _0x291dd1=a33_0xb5ebda,_0x169ce4={};_0x169ce4[_0x291dd1(0x25e)]=_0x291dd1(0x1fd),_0x169ce4['bUWcz']=_0x291dd1(0x17e),_0x169ce4[_0x291dd1(0x1be)]='Deleted\x20Turboscale\x20Agent';const _0x316e13=_0x169ce4,_0x354531=await this[_0x291dd1(0x22a)](_0x320cec,_0x316e13['Vgahi']);if(_0x354531){logger[_0x291dd1(0x1c1)](_0x316e13[_0x291dd1(0x1d7)]);const _0x4446c9={};_0x4446c9[_0x291dd1(0x213)]=_0x316e13[_0x291dd1(0x25e)],await _0x320cec[_0x291dd1(0x207)](_0x4446c9),logger[_0x291dd1(0x1c1)](_0x316e13[_0x291dd1(0x1be)]);}},exports[a33_0xb5ebda(0x2a9)]=async _0x1148e4=>{const _0x6690dd=a33_0xb5ebda,_0x1d31f2={'gjlFc':_0x6690dd(0x235),'aSHar':_0x6690dd(0x1ec),'mPmIW':'Deleted\x20ingress-nginx','TzCNv':function(_0x9b9d7,_0x39069){return _0x9b9d7(_0x39069);},'tRLpH':_0x6690dd(0x1ab),'AfNnq':'Deleting\x20cert-manager','fPeHD':_0x6690dd(0x1fc),'bLNTs':function(_0x1e0eb6,_0x1e88a1){return _0x1e0eb6(_0x1e88a1);}},_0x41af77=await this[_0x6690dd(0x22a)](_0x1148e4,_0x1d31f2[_0x6690dd(0x1e6)]);if(_0x41af77){logger[_0x6690dd(0x1c1)](_0x1d31f2[_0x6690dd(0x25c)]);const _0x18c294={};_0x18c294[_0x6690dd(0x213)]=_0x1d31f2['gjlFc'],await _0x1148e4['deleteNamespace'](_0x18c294),logger[_0x6690dd(0x1c1)](_0x1d31f2['mPmIW']);}await _0x1d31f2[_0x6690dd(0x156)](delay,0x124f8);const _0x4aa55a=await this[_0x6690dd(0x22a)](_0x1148e4,_0x1d31f2['tRLpH']);if(_0x4aa55a){logger[_0x6690dd(0x1c1)](_0x1d31f2['AfNnq']);const _0x1b9ac7={};_0x1b9ac7[_0x6690dd(0x213)]=_0x1d31f2['tRLpH'],await _0x1148e4[_0x6690dd(0x207)](_0x1b9ac7),logger[_0x6690dd(0x1c1)](_0x1d31f2[_0x6690dd(0x170)]);}await _0x1d31f2['bLNTs'](delay,0xafc8);},exports[a33_0xb5ebda(0x167)]=async(_0x130252,_0x1e6a4c)=>{const _0x5a3aa1=a33_0xb5ebda,_0x2fed86={'IYaRB':function(_0xfbd463,_0x181937){return _0xfbd463(_0x181937);},'MKQyT':function(_0x3c333f,_0x486eec){return _0x3c333f>_0x486eec;},'CmyhP':function(_0x40c72f,_0x2397fa){return _0x40c72f===_0x2397fa;},'kkkyT':function(_0x355957,_0x77eb3b){return _0x355957(_0x77eb3b);},'FcVbL':_0x5a3aa1(0x27b)},_0x48bc37=[CLUSTER_DEP_STACK_NAME+'-'+_0x1e6a4c,CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x1e6a4c,CLUSTER_HUB_HA_STACK_NAME+'-'+_0x1e6a4c+_0x5a3aa1(0x265)],_0xf2c06b=_0x48bc37['map'](async _0x581686=>{const _0x365b00=_0x5a3aa1;try{const _0x1e6b6c=await _0x2fed86[_0x365b00(0x2b8)](describeClusterStack,_0x581686);_0x1e6b6c[_0x365b00(0x164)]&&_0x2fed86[_0x365b00(0x263)](_0x1e6b6c[_0x365b00(0x164)]['length'],0x0)&&_0x2fed86['CmyhP'](_0x1e6b6c[_0x365b00(0x164)][0x0][_0x365b00(0x1f8)],_0x581686)&&(logger[_0x365b00(0x1c1)]('Deleting\x20'+_0x581686+'\x20cloudformation\x20stack\x20from\x20region\x20'+_0x130252),_0x2fed86['CmyhP'](_0x1e6b6c[_0x365b00(0x164)][0x0][_0x365b00(0x1f8)],CLUSTER_HUB_HA_STACK_NAME+'-'+_0x1e6a4c+'-cf')&&(await _0x2fed86[_0x365b00(0x2b8)](deleteEFSMountTarget,_0x1e6b6c['Stacks'][0x0][_0x365b00(0x252)]),await _0x2fed86['IYaRB'](delay,0x1d4c0)),await _0x2fed86[_0x365b00(0x273)](deleteClusterStack,_0x581686));}catch(_0x29cac2){logger[_0x365b00(0x145)](_0x365b00(0x2bb)+_0x581686+':',_0x29cac2[_0x365b00(0x1f5)]);}});await Promise[_0x5a3aa1(0x1ad)](_0xf2c06b),logger[_0x5a3aa1(0x1c1)](_0x2fed86['FcVbL']);},exports[a33_0xb5ebda(0x1b5)]=async(_0x1bd6f5,_0x1faa01)=>{const _0x44c9ea=a33_0xb5ebda,_0xdb67c7={};_0xdb67c7['WflVU']=_0x44c9ea(0x2ba),_0xdb67c7['tSnJk']=_0x44c9ea(0x238);const _0x2ba9e7=_0xdb67c7;logger[_0x44c9ea(0x1c1)](_0x2ba9e7[_0x44c9ea(0x209)]);const _0x1964d1={};_0x1964d1['name']=TURBOSCALE_DEPLOYMENT,_0x1964d1[_0x44c9ea(0x1d5)]=_0x1faa01;const _0x1f6304=await _0x1bd6f5['readNamespacedDeployment'](_0x1964d1);_0x1f6304[_0x44c9ea(0x15f)][_0x44c9ea(0x19e)]=0x1;const _0xb29751={};_0xb29751[_0x44c9ea(0x213)]=TURBOSCALE_DEPLOYMENT,_0xb29751['namespace']=_0x1faa01,_0xb29751[_0x44c9ea(0x1c3)]=_0x1f6304,await _0x1bd6f5[_0x44c9ea(0x1b9)](_0xb29751),logger[_0x44c9ea(0x1c1)](_0x2ba9e7[_0x44c9ea(0x148)]);},exports['scaleDownHubDeployment']=async(_0x33f6b3,_0x241fde)=>{const _0x3bed8d=a33_0xb5ebda,_0x2c0d39={};_0x2c0d39[_0x3bed8d(0x242)]=_0x3bed8d(0x286),_0x2c0d39['YsXhL']='Scaled\x20down\x20deployment';const _0xe8f6da=_0x2c0d39;logger[_0x3bed8d(0x1c1)](_0xe8f6da[_0x3bed8d(0x242)]);const _0xf46d49={};_0xf46d49[_0x3bed8d(0x213)]=TURBOSCALE_DEPLOYMENT,_0xf46d49['namespace']=_0x241fde;const _0x299104=await _0x33f6b3[_0x3bed8d(0x18a)](_0xf46d49);_0x299104[_0x3bed8d(0x15f)][_0x3bed8d(0x19e)]=0x0;const _0x13984a={};_0x13984a[_0x3bed8d(0x213)]=TURBOSCALE_DEPLOYMENT,_0x13984a['namespace']=_0x241fde,_0x13984a[_0x3bed8d(0x1c3)]=_0x299104,await _0x33f6b3[_0x3bed8d(0x1b9)](_0x13984a),logger[_0x3bed8d(0x1c1)](_0xe8f6da[_0x3bed8d(0x1ac)]);};