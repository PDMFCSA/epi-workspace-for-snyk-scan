function a33_0x369f(){const _0x3a8993=['hUjfM','metadata','Adding\x20Autoscaler\x20Components','PPelv','PQZuq','pknoD','VLszt','aeewB','nFJRy','service.yaml','createNamespacedRoleBinding','VGYAT','load','Added\x20default\x20service\x20account','Adding\x20Turboscale\x20Agent','uBFXk','oPrDw','addGridComponents','Adding\x20Autoscaler\x20clusterRole','BNGSs','Added\x20Turboscale\x20Agent','namespace','pods-and-services.yaml','private-pods-and-services.yaml','RTZLD','ZvGuC','Qqzeu','cert-manager','cISfL','towry','HbLoV','hWnUw','readNamespacedDeployment','labels','PoNeE','JAlIL','deleteAgent','namespaceExists','WJsiF','WJgay','NYwMh','hub-deployment.yaml','nYASj','removeGridComponents','\x20cloudformation\x20stack\x20from\x20region\x20','EKcjw','GweAa','true','KJFdQ','JHgAi','ydMnL','KvBbi','clusterName','Stacks','pITIf','fEYIM','browser-node-cluster-role-binding.yaml','Adding\x20MetricsServer\x20Components','YQluZ','DTFEK','kube-system','1855144amnpwU','ZBILx','GSKPo','Anjyi','wWEdZ','VlfNz','bpBbs','AQIij','nvkoK','YpOYd','Scaled\x20down\x20deployment','nIOVQ','Added\x20hubservice','XKHrI','sa.yaml','hEArt','WZVXy','LoRGw','xICqR','QVYye','azure.workload.identity/client-id','alKCG','role-binding.yaml','info','TaqCZ','gayvD','createClusterRole','helper.yaml','LakZv','Adding\x20Nginx\x20Private\x20Pods\x20and\x20Services','KqvHq','TcVYF','createAPIService','Adding\x20MetricsServer\x20Service','UvuDG','46494jZKCMd','mCUmR','rAiQe','StackName','DLYnB','4796690jUwFYf','gGUGk','sWhoG','readFileAsync','kpDTl','replace','UMzPW','klROl','kfSco','metricsServerServiceExists','body','GKbgs','Outputs','KjTHv','clusterRegion','Browserstack','Adding\x20hubservice','pgJDw','XAfvC','private-ingress-nginx-controller','dapwA','oldkM','lSdVY','KFpkv','WbwkW','managedBy','BVlWh','Deleted\x20ingress-nginx','YHHao','FUQNG','gmDKY','fwUQk','spec','<ClusterName>','api-service.yaml','kSUme','vUWfC','KmUek','find','Mjbdo','iGVia','DzNku','addAutoScalerComponents','deleteClusterAndDependencies','readNamespace','browserstack','wWypl','uqscg','Deleting\x20ingress-nginx','Adding\x20clusterrolebinding','service-account.yaml','Adding\x20Autoscaler\x20namespacedRole','htqyT','tcNlv','wXGER','GOGhF','lSspW','GFEyy','oSYvC','YeCSc','Adding\x20Autoscaler\x20clusterRoleBinding','gBeWR','Fyfyr','gEYQX','Deleting\x20cert-manager','708CtVKGP','service.beta.kubernetes.io/azure-load-balancer-internal:\x20\x22true\x22','bstackUsername','deployer-srvacct-binding-','cert-manager-cainjector','clusterissuer.yaml','Scaling\x20up\x20deployment','2|4|3|5|1|0|6','RtrSP','Adding\x20MetricsServer\x20namespacedRoleBinding','all','vvvJB','hhyNv','2714553Mpswcy','autoscaler','items','getNamespaceUID','MznWl','nginx','oZtNw','JvNeR','huFNj','iUNiD','hubVersion','createdBy','vmyqT','Adding\x20MetricsServer\x20clusterRole','xnuCz','browser-node-cluster-role.yaml','dajWV','GgFlS','hIGUO','3|0|1|4|2','hspyZ','LQltR','YKnsC','hjZas','WjaVP','9318248hQGhiY','2|5|1|0|7|4|6|3','cbobN','VqTfa','HjuYc','deleteClusterRoleBinding','hub-service.yaml','Added\x20browser-node-role-binding\x20role\x20binding','gzMpA','aNvTx','lXATw','DJWgk','cluster-role-binding.yaml','uuid','default-service-account.yaml','skBLB','join','replaceNamespacedDeployment','pdQwr','kSDke','aAihX','gbgPU','GqVoi','-cf','vEQRe','browserstack-secret.yaml','uFfnd','mkySf','WTAQr','bgPrE','Added\x20Autoscaler\x20Components','4046980UUJePL','hvCzY','clientId','ztBmb','WdmwB','deployment.yaml','replaceNamespacedServiceAccount','utf-8','xZXIi','ZZfnL','upXLs','service.beta.kubernetes.io/aws-load-balancer-internal:\x20\x22true\x22','jOmpK','role.yaml','listNamespacedService','WcDBp','UNsAX','Nsmjj','Jcdda','metrics-server','dnWRH','vnncg','/podReady','nkcQg','kXdxb','eYIhj','romMY','cluster-role.yaml','iOzAu','false','KeWJc','templates','nuUSz','vpc-cni-cm.yaml','addMetricServerComponents','Adding\x20VPC\x20CNI\x20CM','tMhgq','Added\x20Nginx\x20Pods\x20and\x20deployments','Adding\x20Autoscaler\x20Service\x20Account','split','QbHTZ','TuxEs','VOYcj','cjXoq','deleteNamespace','Adding\x20browser-node\x20service\x20account','oxLBv','message','annotations','AguFQ','FEsSa','XSRup','WQvAF','nginx-private','KEtSQ','rvZjn','uid','rSvIL','ingress.yaml','cluster-role-binding-auth-delegator.yaml','../config/constants','Scaled\x20up\x20deployment','oxJmS','Namespace\x20Created:\x20','createClusterRoleBinding','1KQpEMc','WOwXR','hubHaNameSpace','cloudProvider','mRxAD','CKzvw','xvyrc','jueNZ','wwSND','GfySy','csbDl','vdsKl','turboscale-agent.yaml','cmdbH','Added\x20browserstack\x20secret\x20deployment','default','RtMRC','createNamespacedServiceAccount','XvrTj','CHEMC','peUGi','tCnfj','gBKPq','kvfdg','ZEbdP','Adding\x20browserstack\x20secret\x20deployment','vETfR','bCFUU','loadAll','createNamespacedDeployment','Adding\x20Autoscaler\x20namespacedRoleBinding','ingress-nginx-controller','xNijJ','bstackAccesskey','statusCode','./describeStack','kafkaPassword','networking.gke.io/load-balancer-type:\x20\x22Internal\x22','QxGcb','deploymentExists','Added\x20clusterrolebinding','debug','NnmsY','oTKBI','Deleted\x20cluster\x20and\x20linked\x20resources\x20successfully','js-yaml','eks.amazonaws.com/role-arn','code','Deleted\x20Turboscale\x20Agent','map','zEBxH','./utilityMethods','cWFQv','Added\x20VPC\x20CNI\x20ConfigMaps','ynrOo','error','VNVlr','Added\x20Nginx\x20Private\x20Pods\x20and\x20deployments','EbtBM','gridName','urDJk','Vpihz','aoNfD','znYUl','length','ZzbgM','pMNCB','vUgJW','redisPassword','LoHYH','name','qCFJk','createNamespacedService','Deleted\x20cert-manager','63YpGpGy','blONa','TzXDb','sxNZj','ZDWis','2664288jERluw','browserVersion','Error\x20deleting\x20stack\x20','sIjah','WLtFI','gridProfileId','/readyz','JrjJe','isPrivateGrid','cMrQs','Adding\x20hubdeployment','OpxHj','Added\x20Ingress','vcNiH','CIygQ','Added\x20Cert\x20Manager\x20CRDs','gcZVk','OZjMV','clusterrole.yaml','hscUl','Added\x20Cert\x20Issuer','Adding\x20MetricsServer\x20clusterRoleBinding','EziRp','9|17|10|15|13|4|18|12|6|3|0|14|11|2|16|5|7|1|8','template','enableHubHa','cluster-role-aggregated-reader.yaml'];a33_0x369f=function(){return _0x3a8993;};return a33_0x369f();}const a33_0x3915e9=a33_0x4475;(function(_0x5203f0,_0x5464df){const _0x400e70=a33_0x4475,_0x11bd7d=_0x5203f0();while(!![]){try{const _0x7544b0=-parseInt(_0x400e70(0x294))/0x1*(-parseInt(_0x400e70(0x1a5))/0x2)+parseInt(_0x400e70(0x21b))/0x3+parseInt(_0x400e70(0x14d))/0x4+-parseInt(_0x400e70(0x1cd))/0x5+parseInt(_0x400e70(0x20e))/0x6*(parseInt(_0x400e70(0x1c8))/0x7)+parseInt(_0x400e70(0x234))/0x8+parseInt(_0x400e70(0x148))/0x9*(-parseInt(_0x400e70(0x253))/0xa);if(_0x7544b0===_0x5464df)break;else _0x11bd7d['push'](_0x11bd7d['shift']());}catch(_0x129db9){_0x11bd7d['push'](_0x11bd7d['shift']());}}}(a33_0x369f,0x9fdd8));function a33_0x4475(_0x45e649,_0x3f9868){const _0x369f2d=a33_0x369f();return a33_0x4475=function(_0x447582,_0x1b01d8){_0x447582=_0x447582-0x125;let _0xd75d2=_0x369f2d[_0x447582];return _0xd75d2;},a33_0x4475(_0x45e649,_0x3f9868);}const fs=require('fs'),yaml=require(a33_0x3915e9(0x12b)),path=require('path'),{v4:uuidv4}=require(a33_0x3915e9(0x241)),{logger}=require('../config/logger'),{AG_API_URL,global_registry,CLUSTER_DEP_STACK_NAME,CLUSTER_AUTOSCALER_STACK_NAME,CLUSTER_HUB_HA_STACK_NAME,AZURE,GCP,TURBOSCALE_DEPLOYMENT}=require(a33_0x3915e9(0x28f)),{deleteClusterStack}=require('./deleteStack'),{kubeApply,waitForDeployment,encodeBase64}=require(a33_0x3915e9(0x131)),{delay}=require('../utils/webSocketUtils'),{describeClusterStack}=require(a33_0x3915e9(0x2b7)),{deleteEFSMountTarget}=require('./deleteEFSMountTargets'),applyTemplate=async(_0x5db90a,_0x5c2166,_0x122459={})=>{const _0x16fb23=a33_0x3915e9,_0x1bc888={};_0x1bc888[_0x16fb23(0x185)]=_0x16fb23(0x197),_0x1bc888['gBeWR']=_0x16fb23(0x269),_0x1bc888[_0x16fb23(0x229)]=function(_0x4dd6c4,_0x2ee30f){return _0x4dd6c4===_0x2ee30f;},_0x1bc888['VGYAT']=_0x16fb23(0x272),_0x1bc888[_0x16fb23(0x23d)]=_0x16fb23(0x25a),_0x1bc888[_0x16fb23(0x1cf)]='false',_0x1bc888[_0x16fb23(0x198)]=function(_0x4dce89,_0x26977b){return _0x4dce89!=_0x26977b;},_0x1bc888['cMrQs']=function(_0x46bfb8,_0x45f089){return _0x46bfb8!==_0x45f089;},_0x1bc888[_0x16fb23(0x21f)]=_0x16fb23(0x295),_0x1bc888[_0x16fb23(0x25c)]=function(_0x29350f,_0x1fbe37){return _0x29350f!==_0x1fbe37;},_0x1bc888[_0x16fb23(0x27e)]=_0x16fb23(0x237),_0x1bc888[_0x16fb23(0x219)]=_0x16fb23(0x29b),_0x1bc888[_0x16fb23(0x16b)]=_0x16fb23(0x153),_0x1bc888[_0x16fb23(0x1fb)]=function(_0x37785f,_0x45e2fe){return _0x37785f===_0x45e2fe;},_0x1bc888[_0x16fb23(0x26f)]='WfJEL',_0x1bc888[_0x16fb23(0x18e)]=_0x16fb23(0x216),_0x1bc888[_0x16fb23(0x130)]=function(_0x20f239,_0x2ba979){return _0x20f239===_0x2ba979;},_0x1bc888['LQltR']=_0x16fb23(0x255),_0x1bc888[_0x16fb23(0x1a7)]=function(_0x620dcc,_0x47660c){return _0x620dcc!==_0x47660c;},_0x1bc888[_0x16fb23(0x1a8)]=_0x16fb23(0x287),_0x1bc888[_0x16fb23(0x1b4)]=_0x16fb23(0x2ba),_0x1bc888[_0x16fb23(0x15a)]=_0x16fb23(0x191),_0x1bc888[_0x16fb23(0x1c4)]=_0x16fb23(0x1ce),_0x1bc888[_0x16fb23(0x2b4)]=_0x16fb23(0x24a);const _0x23a855=_0x1bc888;let _0xf6e488=await fs['readFileAsync'](path[_0x16fb23(0x244)](__dirname,'..',_0x23a855[_0x16fb23(0x173)],_0x5db90a),_0x23a855[_0x16fb23(0x23d)]);_0xf6e488=_0xf6e488[_0x16fb23(0x1d2)](/<GridNamespace>/g,_0x5c2166),_0xf6e488=_0xf6e488[_0x16fb23(0x1d2)](/<BstackURL>/g,AG_API_URL),_0xf6e488=_0xf6e488[_0x16fb23(0x1d2)](/<ClusterName>/g,global_registry[_0x16fb23(0x19c)]),_0xf6e488=_0xf6e488[_0x16fb23(0x1d2)](/<BstackUsername>/g,global_registry[_0x16fb23(0x210)]),_0xf6e488=_0xf6e488[_0x16fb23(0x1d2)](/<BstackAccessKey>/g,global_registry[_0x16fb23(0x2b5)]),_0xf6e488=_0xf6e488[_0x16fb23(0x1d2)](/<GridName>/g,global_registry[_0x16fb23(0x139)]),_0xf6e488=_0xf6e488[_0x16fb23(0x1d2)](/<Region>/g,global_registry[_0x16fb23(0x1db)]),_0xf6e488=_0xf6e488[_0x16fb23(0x1d2)](/<CloudProvider>/g,global_registry['cloudProvider']),_0xf6e488=_0xf6e488[_0x16fb23(0x1d2)](/<HubImageVersion>/g,global_registry[_0x16fb23(0x225)]),_0xf6e488=_0xf6e488[_0x16fb23(0x1d2)](/<BrowserImageVersion>/g,global_registry[_0x16fb23(0x14e)]),_0xf6e488=_0xf6e488[_0x16fb23(0x1d2)](/<PrivateGrid>/g,global_registry[_0x16fb23(0x155)]?_0x23a855[_0x16fb23(0x185)]:_0x23a855[_0x16fb23(0x1cf)]);if(_0x23a855[_0x16fb23(0x198)](global_registry['enableHubHa'],null)&&_0x23a855[_0x16fb23(0x156)](global_registry['enableHubHa'],undefined)&&global_registry[_0x16fb23(0x166)]){if(_0x23a855[_0x16fb23(0x156)](_0x23a855['MznWl'],_0x23a855['MznWl'])){const _0x85d949={'azure.workload.identity/use':_0x23a855[_0x16fb23(0x185)],..._0x502d0a['spec'][_0x16fb23(0x165)]['metadata'][_0x16fb23(0x189)]};_0x15058b[_0x16fb23(0x1ed)][_0x16fb23(0x165)][_0x16fb23(0x169)][_0x16fb23(0x189)]=_0x85d949;}else _0xf6e488=_0xf6e488[_0x16fb23(0x1d2)](/<ReadinessProbePath>/g,_0x23a855['gBeWR']),_0xf6e488=_0xf6e488['replace'](/<EnableHubHa>/g,_0x23a855[_0x16fb23(0x185)]),_0xf6e488=_0xf6e488['replace'](/<HubHaNameSpace>/g,global_registry[_0x16fb23(0x296)]);}else _0x23a855[_0x16fb23(0x25c)](_0x23a855[_0x16fb23(0x27e)],_0x23a855[_0x16fb23(0x219)])?(_0xf6e488=_0xf6e488['replace'](/<ReadinessProbePath>/g,_0x23a855['PPelv']),_0xf6e488=_0xf6e488[_0x16fb23(0x1d2)](/<EnableHubHa>/g,_0x23a855[_0x16fb23(0x1cf)]),_0xf6e488=_0xf6e488['replace'](/<HubHaNameSpace>/g,'')):(_0x1fa916=_0x4a77fe['replace'](/<ReadinessProbePath>/g,_0x23a855[_0x16fb23(0x20a)]),_0x3132d6=_0x2733a2[_0x16fb23(0x1d2)](/<EnableHubHa>/g,_0x23a855[_0x16fb23(0x185)]),_0x12ae9b=_0x2daaa4[_0x16fb23(0x1d2)](/<HubHaNameSpace>/g,_0x55ad43[_0x16fb23(0x296)]));if(_0x23a855[_0x16fb23(0x198)](global_registry['gridProfileId'],null)&&_0x23a855['cMrQs'](global_registry['gridProfileId'],undefined)){if(_0x23a855[_0x16fb23(0x1fb)](_0x23a855[_0x16fb23(0x26f)],_0x23a855[_0x16fb23(0x26f)]))_0xf6e488=_0xf6e488[_0x16fb23(0x1d2)](/<GridProfileID>/g,global_registry[_0x16fb23(0x152)]);else return!![];}else{if(_0x23a855['cMrQs'](_0x23a855[_0x16fb23(0x18e)],_0x23a855['WJsiF'])){if(_0x23a855[_0x16fb23(0x229)](_0x1aef00[_0x16fb23(0x2b6)],0x199)||_0x23a855[_0x16fb23(0x229)](_0x1f6263['code'],0x199))_0x2ab3e9['debug'](_0x1f1c17[_0x16fb23(0x282)]);else throw _0x553199;}else _0xf6e488=_0xf6e488[_0x16fb23(0x1d2)](/<GridProfileID>/g,'');}const _0x34b748=yaml[_0x16fb23(0x174)](_0xf6e488);if(_0x23a855[_0x16fb23(0x130)](global_registry['cloudProvider'],AZURE)&&_0x23a855[_0x16fb23(0x156)](_0x122459[_0x23a855[_0x16fb23(0x230)]],undefined)){if(_0x23a855[_0x16fb23(0x1a7)](_0x23a855['Anjyi'],_0x23a855[_0x16fb23(0x1b4)])){const _0x5f0e3f={};_0x5f0e3f['azure.workload.identity/client-id']=''+_0x122459[_0x16fb23(0x255)],_0x34b748[_0x16fb23(0x169)]={'annotations':_0x5f0e3f,..._0x34b748[_0x16fb23(0x169)]};}else _0x247108=_0x403b58[_0x16fb23(0x1d2)](/<GridProfileID>/g,_0x438508[_0x16fb23(0x152)]);}return _0x23a855[_0x16fb23(0x1fb)](global_registry[_0x16fb23(0x297)],AZURE)&&_0x23a855[_0x16fb23(0x229)](_0x5db90a,_0x23a855[_0x16fb23(0x15a)])&&(_0x23a855[_0x16fb23(0x156)](_0x23a855['TcVYF'],_0x23a855['xNijJ'])?_0x34b748[_0x16fb23(0x1ed)][_0x16fb23(0x165)][_0x16fb23(0x169)]['labels']={'azure.workload.identity/use':_0x23a855[_0x16fb23(0x185)],..._0x34b748[_0x16fb23(0x1ed)][_0x16fb23(0x165)][_0x16fb23(0x169)][_0x16fb23(0x189)]}:_0x2b6446['debug'](_0x24832e[_0x16fb23(0x282)])),_0x34b748;};exports[a33_0x3915e9(0x1f7)]=async(_0x4bcfd9,_0x4dc1a8,_0x337b6c,_0x3804f3,_0x13ba07,_0x3d866a,_0x42ce21)=>{const _0x369bfc=a33_0x3915e9,_0x4ef4ba={};_0x4ef4ba[_0x369bfc(0x1ac)]=_0x369bfc(0x279),_0x4ef4ba['klROl']=_0x369bfc(0x272),_0x4ef4ba[_0x369bfc(0x1d3)]=_0x369bfc(0x21c),_0x4ef4ba['nvkoK']=_0x369bfc(0x1b3),_0x4ef4ba[_0x369bfc(0x28a)]='utf-8',_0x4ef4ba[_0x369bfc(0x192)]=_0x369bfc(0x12c),_0x4ef4ba[_0x369bfc(0x1fc)]=_0x369bfc(0x1a4),_0x4ef4ba['ckaaQ']=_0x369bfc(0x17a),_0x4ef4ba[_0x369bfc(0x27c)]=_0x369bfc(0x15f),_0x4ef4ba[_0x369bfc(0x20b)]=_0x369bfc(0x200),_0x4ef4ba[_0x369bfc(0x1ec)]=_0x369bfc(0x260),_0x4ef4ba['dapwA']=_0x369bfc(0x209),_0x4ef4ba[_0x369bfc(0x29a)]=_0x369bfc(0x240),_0x4ef4ba[_0x369bfc(0x16d)]=_0x369bfc(0x2b2),_0x4ef4ba[_0x369bfc(0x2a4)]=_0x369bfc(0x1bb),_0x4ef4ba[_0x369bfc(0x184)]='Adding\x20Autoscaler\x20Deployment',_0x4ef4ba[_0x369bfc(0x222)]=_0x369bfc(0x258),_0x4ef4ba[_0x369bfc(0x273)]=_0x369bfc(0x1ee);const _0x11b7a0=_0x4ef4ba;let _0x62b1e2=null,_0x2dd4ec=null;logger[_0x369bfc(0x1bc)](_0x11b7a0['AQIij']),_0x2dd4ec=await fs[_0x369bfc(0x1d0)](path[_0x369bfc(0x244)](__dirname,'..',_0x11b7a0[_0x369bfc(0x1d4)],_0x11b7a0[_0x369bfc(0x1d3)],_0x11b7a0[_0x369bfc(0x1ad)]),_0x11b7a0['rvZjn']),_0x62b1e2=yaml[_0x369bfc(0x174)](_0x2dd4ec),_0x62b1e2[_0x369bfc(0x169)][_0x369bfc(0x283)][_0x11b7a0['nYASj']]=_0x42ce21;const _0x5cf298={};_0x5cf298[_0x369bfc(0x17d)]=_0x11b7a0[_0x369bfc(0x1fc)],_0x5cf298[_0x369bfc(0x1d7)]=_0x62b1e2,await _0x4bcfd9[_0x369bfc(0x2a5)](_0x5cf298),logger[_0x369bfc(0x1bc)](_0x11b7a0['ckaaQ']),_0x2dd4ec=await fs['readFileAsync'](path[_0x369bfc(0x244)](__dirname,'..',_0x11b7a0[_0x369bfc(0x1d4)],_0x11b7a0['UMzPW'],_0x11b7a0[_0x369bfc(0x27c)]),_0x11b7a0[_0x369bfc(0x28a)]),_0x62b1e2=yaml[_0x369bfc(0x174)](_0x2dd4ec);const _0x459a25={};_0x459a25[_0x369bfc(0x1d7)]=_0x62b1e2,await _0x3804f3[_0x369bfc(0x1bf)](_0x459a25),logger['info'](_0x11b7a0[_0x369bfc(0x20b)]),_0x2dd4ec=await fs[_0x369bfc(0x1d0)](path[_0x369bfc(0x244)](__dirname,'..',_0x11b7a0[_0x369bfc(0x1d4)],_0x11b7a0['UMzPW'],_0x11b7a0[_0x369bfc(0x1ec)]),_0x11b7a0['rvZjn']),_0x62b1e2=yaml[_0x369bfc(0x174)](_0x2dd4ec);const _0x1c435a={};_0x1c435a[_0x369bfc(0x17d)]=_0x11b7a0[_0x369bfc(0x1fc)],_0x1c435a[_0x369bfc(0x1d7)]=_0x62b1e2,await _0x3804f3['createNamespacedRole'](_0x1c435a),logger['info'](_0x11b7a0[_0x369bfc(0x1e1)]),_0x2dd4ec=await fs['readFileAsync'](path[_0x369bfc(0x244)](__dirname,'..',_0x11b7a0[_0x369bfc(0x1d4)],_0x11b7a0[_0x369bfc(0x1d3)],_0x11b7a0[_0x369bfc(0x29a)]),_0x11b7a0[_0x369bfc(0x28a)]),_0x62b1e2=yaml[_0x369bfc(0x174)](_0x2dd4ec);const _0xa99ab5={};_0xa99ab5[_0x369bfc(0x1d7)]=_0x62b1e2,await _0x3804f3[_0x369bfc(0x293)](_0xa99ab5),logger[_0x369bfc(0x1bc)](_0x11b7a0['pknoD']),_0x2dd4ec=await fs[_0x369bfc(0x1d0)](path['join'](__dirname,'..',_0x11b7a0[_0x369bfc(0x1d4)],_0x11b7a0[_0x369bfc(0x1d3)],_0x11b7a0[_0x369bfc(0x2a4)]),_0x11b7a0['rvZjn']),_0x62b1e2=yaml[_0x369bfc(0x174)](_0x2dd4ec);const _0x484860={};_0x484860[_0x369bfc(0x17d)]=_0x11b7a0['uqscg'],_0x484860[_0x369bfc(0x1d7)]=_0x62b1e2,await _0x3804f3['createNamespacedRoleBinding'](_0x484860),logger['info'](_0x11b7a0['cISfL']),_0x2dd4ec=await fs[_0x369bfc(0x1d0)](path[_0x369bfc(0x244)](__dirname,'..',_0x11b7a0[_0x369bfc(0x1d4)],_0x11b7a0[_0x369bfc(0x1d3)],_0x11b7a0[_0x369bfc(0x222)]),_0x11b7a0['rvZjn']),_0x2dd4ec=_0x2dd4ec['replace'](_0x11b7a0['nuUSz'],_0x3d866a),_0x62b1e2=yaml['load'](_0x2dd4ec);const _0x17cd07={};_0x17cd07[_0x369bfc(0x17d)]=_0x11b7a0[_0x369bfc(0x1fc)],_0x17cd07['body']=_0x62b1e2,await _0x4dc1a8[_0x369bfc(0x2b1)](_0x17cd07);},exports[a33_0x3915e9(0x275)]=async(_0x3b268e,_0x410f95,_0x1a56e4,_0xc8795f)=>{const _0x52b9ba=a33_0x3915e9,_0x560ca0={};_0x560ca0[_0x52b9ba(0x1ab)]='Adding\x20MetricsServer\x20Service\x20Account',_0x560ca0[_0x52b9ba(0x199)]=_0x52b9ba(0x272),_0x560ca0[_0x52b9ba(0x256)]=_0x52b9ba(0x266),_0x560ca0[_0x52b9ba(0x13b)]=_0x52b9ba(0x1ff),_0x560ca0[_0x52b9ba(0x1f1)]=_0x52b9ba(0x25a),_0x560ca0['fEYIM']=_0x52b9ba(0x1a4),_0x560ca0[_0x52b9ba(0x1e7)]='Adding\x20MetricsServer\x20clusterRole\x20for\x20aggregated\x20reader',_0x560ca0[_0x52b9ba(0x13c)]=_0x52b9ba(0x167),_0x560ca0[_0x52b9ba(0x1de)]=_0x52b9ba(0x228),_0x560ca0[_0x52b9ba(0x1c9)]=_0x52b9ba(0x26e),_0x560ca0[_0x52b9ba(0x1bd)]=_0x52b9ba(0x217),_0x560ca0[_0x52b9ba(0x1aa)]=_0x52b9ba(0x1bb),_0x560ca0[_0x52b9ba(0x24e)]=_0x52b9ba(0x162),_0x560ca0[_0x52b9ba(0x1b0)]=_0x52b9ba(0x28e),_0x560ca0[_0x52b9ba(0x1ea)]=_0x52b9ba(0x240),_0x560ca0[_0x52b9ba(0x150)]=_0x52b9ba(0x1c6),_0x560ca0[_0x52b9ba(0x1ca)]=_0x52b9ba(0x171),_0x560ca0[_0x52b9ba(0x223)]='Adding\x20MetricsServer\x20Deployment',_0x560ca0[_0x52b9ba(0x289)]=_0x52b9ba(0x258),_0x560ca0['eYIhj']='Adding\x20MetricsServer\x20API\x20Service',_0x560ca0['ZSHBR']=_0x52b9ba(0x1ef);const _0x42b873=_0x560ca0;logger[_0x52b9ba(0x1bc)](_0x42b873['bpBbs']);let _0x2f6622=await fs[_0x52b9ba(0x1d0)](path['join'](__dirname,'..',_0x42b873[_0x52b9ba(0x199)],_0x42b873[_0x52b9ba(0x256)],_0x42b873['Vpihz']),_0x42b873[_0x52b9ba(0x1f1)]),_0x9e44a2=yaml['load'](_0x2f6622);const _0x58e3ad={};_0x58e3ad[_0x52b9ba(0x17d)]=_0x42b873[_0x52b9ba(0x19f)],_0x58e3ad[_0x52b9ba(0x1d7)]=_0x9e44a2,await _0x3b268e[_0x52b9ba(0x2a5)](_0x58e3ad),logger['info'](_0x42b873[_0x52b9ba(0x1e7)]),_0x2f6622=await fs[_0x52b9ba(0x1d0)](path['join'](__dirname,'..',_0x42b873[_0x52b9ba(0x199)],_0x42b873[_0x52b9ba(0x256)],_0x42b873['aoNfD']),_0x42b873['vUWfC']),_0x9e44a2=yaml[_0x52b9ba(0x174)](_0x2f6622);const _0x2a74f9={};_0x2a74f9[_0x52b9ba(0x1d7)]=_0x9e44a2,await _0x1a56e4[_0x52b9ba(0x1bf)](_0x2a74f9),logger[_0x52b9ba(0x1bc)](_0x42b873[_0x52b9ba(0x1de)]),_0x2f6622=await fs[_0x52b9ba(0x1d0)](path[_0x52b9ba(0x244)](__dirname,'..',_0x42b873['JHgAi'],_0x42b873[_0x52b9ba(0x256)],_0x42b873[_0x52b9ba(0x1c9)]),_0x42b873[_0x52b9ba(0x1f1)]),_0x9e44a2=yaml[_0x52b9ba(0x174)](_0x2f6622);const _0x507bae={};_0x507bae[_0x52b9ba(0x1d7)]=_0x9e44a2,await _0x1a56e4['createClusterRole'](_0x507bae),logger[_0x52b9ba(0x1bc)](_0x42b873[_0x52b9ba(0x1bd)]),_0x2f6622=await fs[_0x52b9ba(0x1d0)](path[_0x52b9ba(0x244)](__dirname,'..',_0x42b873[_0x52b9ba(0x199)],_0x42b873['ztBmb'],_0x42b873[_0x52b9ba(0x1aa)]),_0x42b873[_0x52b9ba(0x1f1)]),_0x9e44a2=yaml['load'](_0x2f6622);const _0x336d6a={};_0x336d6a[_0x52b9ba(0x17d)]=_0x42b873[_0x52b9ba(0x19f)],_0x336d6a['body']=_0x9e44a2,await _0x1a56e4[_0x52b9ba(0x172)](_0x336d6a),logger[_0x52b9ba(0x1bc)](_0x42b873[_0x52b9ba(0x24e)]),_0x2f6622=await fs['readFileAsync'](path[_0x52b9ba(0x244)](__dirname,'..',_0x42b873[_0x52b9ba(0x199)],_0x42b873['ztBmb'],_0x42b873[_0x52b9ba(0x1b0)]),_0x42b873[_0x52b9ba(0x1f1)]),_0x9e44a2=yaml[_0x52b9ba(0x174)](_0x2f6622);const _0x4661c5={};_0x4661c5['body']=_0x9e44a2,await _0x1a56e4['createClusterRoleBinding'](_0x4661c5),logger[_0x52b9ba(0x1bc)](_0x42b873['uFfnd']),_0x2f6622=await fs[_0x52b9ba(0x1d0)](path['join'](__dirname,'..',_0x42b873[_0x52b9ba(0x199)],_0x42b873[_0x52b9ba(0x256)],_0x42b873[_0x52b9ba(0x1ea)]),_0x42b873['vUWfC']),_0x9e44a2=yaml[_0x52b9ba(0x174)](_0x2f6622);const _0x12b15f={};_0x12b15f[_0x52b9ba(0x1d7)]=_0x9e44a2,await _0x1a56e4[_0x52b9ba(0x293)](_0x12b15f),logger[_0x52b9ba(0x1bc)](_0x42b873[_0x52b9ba(0x150)]),_0x2f6622=await fs['readFileAsync'](path['join'](__dirname,'..',_0x42b873[_0x52b9ba(0x199)],_0x42b873[_0x52b9ba(0x256)],_0x42b873[_0x52b9ba(0x1ca)]),_0x42b873['vUWfC']),_0x9e44a2=yaml[_0x52b9ba(0x174)](_0x2f6622);const _0x45bdd3={};_0x45bdd3[_0x52b9ba(0x17d)]=_0x42b873['fEYIM'],_0x45bdd3[_0x52b9ba(0x1d7)]=_0x9e44a2,await _0x3b268e[_0x52b9ba(0x146)](_0x45bdd3),logger[_0x52b9ba(0x1bc)](_0x42b873[_0x52b9ba(0x223)]),_0x2f6622=await fs[_0x52b9ba(0x1d0)](path['join'](__dirname,'..',_0x42b873[_0x52b9ba(0x199)],_0x42b873[_0x52b9ba(0x256)],_0x42b873[_0x52b9ba(0x289)]),_0x42b873[_0x52b9ba(0x1f1)]),_0x9e44a2=yaml[_0x52b9ba(0x174)](_0x2f6622);const _0x10d010={};_0x10d010['namespace']=_0x42b873[_0x52b9ba(0x19f)],_0x10d010[_0x52b9ba(0x1d7)]=_0x9e44a2,await _0x410f95[_0x52b9ba(0x2b1)](_0x10d010),logger[_0x52b9ba(0x1bc)](_0x42b873[_0x52b9ba(0x26c)]),_0x2f6622=await fs[_0x52b9ba(0x1d0)](path[_0x52b9ba(0x244)](__dirname,'..',_0x42b873[_0x52b9ba(0x199)],_0x42b873[_0x52b9ba(0x256)],_0x42b873['ZSHBR']),_0x42b873[_0x52b9ba(0x1f1)]),_0x9e44a2=yaml['load'](_0x2f6622);const _0x130466={};_0x130466[_0x52b9ba(0x1d7)]=_0x9e44a2,await _0xc8795f[_0x52b9ba(0x1c5)](_0x130466);},exports[a33_0x3915e9(0x1d6)]=async _0x23f612=>{const _0x3a8c38=a33_0x3915e9,_0x190b3c={};_0x190b3c[_0x3a8c38(0x16f)]=_0x3a8c38(0x153),_0x190b3c[_0x3a8c38(0x163)]=_0x3a8c38(0x270),_0x190b3c[_0x3a8c38(0x17b)]='kube-system',_0x190b3c['XQlEW']=function(_0x4824fa,_0xa8f1cb){return _0x4824fa<_0xa8f1cb;},_0x190b3c[_0x3a8c38(0x1f6)]=function(_0x5d93c3,_0x1cb297){return _0x5d93c3===_0x1cb297;},_0x190b3c['ZzbgM']=_0x3a8c38(0x15d),_0x190b3c['qroZT']=function(_0x5acc35,_0x3952b8){return _0x5acc35===_0x3952b8;},_0x190b3c[_0x3a8c38(0x19b)]=_0x3a8c38(0x266),_0x190b3c[_0x3a8c38(0x128)]=function(_0x45c45b,_0x1e4b3a){return _0x45c45b!==_0x1e4b3a;},_0x190b3c[_0x3a8c38(0x1e5)]=_0x3a8c38(0x1a9),_0x190b3c[_0x3a8c38(0x1b8)]=_0x3a8c38(0x196);const _0x6759e5=_0x190b3c,_0x22ce98={};_0x22ce98[_0x3a8c38(0x17d)]=_0x6759e5[_0x3a8c38(0x17b)];const _0x51cc1d=await _0x23f612[_0x3a8c38(0x261)](_0x22ce98),_0xff85f9=_0x51cc1d?.[_0x3a8c38(0x21d)];for(let _0x1e585e=0x0;_0x6759e5['XQlEW'](_0x1e585e,_0xff85f9[_0x3a8c38(0x13e)]);_0x1e585e++){if(_0x6759e5[_0x3a8c38(0x1f6)](_0x6759e5[_0x3a8c38(0x13f)],_0x6759e5[_0x3a8c38(0x13f)])){if(_0x6759e5['qroZT'](_0xff85f9[_0x1e585e][_0x3a8c38(0x169)]['name'],_0x6759e5[_0x3a8c38(0x19b)])){if(_0x6759e5[_0x3a8c38(0x128)](_0x6759e5['WbwkW'],_0x6759e5[_0x3a8c38(0x1b8)]))return!![];else _0x2e9df4=_0x1ab1b7[_0x3a8c38(0x1d2)](/<ReadinessProbePath>/g,_0x6759e5[_0x3a8c38(0x16f)]),_0x58bbff=_0x241349['replace'](/<EnableHubHa>/g,_0x6759e5[_0x3a8c38(0x163)]),_0x3519fe=_0x5b9e68['replace'](/<HubHaNameSpace>/g,'');}}else _0xc6c86c=_0x347565[_0x3a8c38(0x1d2)](/<GridProfileID>/g,'');}return![];},exports[a33_0x3915e9(0x18d)]=async(_0x1400e9,_0x5be7f6)=>{const _0x2d0111=a33_0x3915e9,_0x4c65e3={};_0x4c65e3[_0x2d0111(0x21a)]=_0x2d0111(0x2b9),_0x4c65e3['VkpzH']=_0x2d0111(0x20f),_0x4c65e3[_0x2d0111(0x1b2)]=function(_0x2640af,_0x351a09){return _0x2640af===_0x351a09;},_0x4c65e3[_0x2d0111(0x2ac)]=_0x2d0111(0x180),_0x4c65e3[_0x2d0111(0x262)]=_0x2d0111(0x1f5);const _0xb98898=_0x4c65e3;try{if(_0xb98898[_0x2d0111(0x1b2)](_0xb98898['ZEbdP'],_0xb98898[_0x2d0111(0x2ac)])){const _0x5d2b83={};_0x5d2b83[_0x2d0111(0x144)]=_0x5be7f6;const _0x4d994a=await _0x1400e9[_0x2d0111(0x1f9)](_0x5d2b83);return!![];}else _0x3552e1=_0xb98898['hhyNv'];}catch(_0x9e6052){if(_0xb98898[_0x2d0111(0x1b2)](_0xb98898['WcDBp'],_0xb98898[_0x2d0111(0x262)]))return![];else _0x23a544=_0xb98898['VkpzH'];}},exports[a33_0x3915e9(0x125)]=async(_0x39c5cd,_0x515433,_0x53c83e)=>{const _0x4ec05e=a33_0x3915e9,_0x488a71={};_0x488a71[_0x4ec05e(0x1d8)]=function(_0x291aac,_0x17bb46){return _0x291aac!==_0x17bb46;},_0x488a71[_0x4ec05e(0x233)]='liyXR',_0x488a71[_0x4ec05e(0x19a)]=_0x4ec05e(0x24f);const _0x4ccab4=_0x488a71;try{if(_0x4ccab4[_0x4ec05e(0x1d8)](_0x4ccab4[_0x4ec05e(0x233)],_0x4ccab4['WjaVP']))return![];else{const _0x1c9e75=await _0x39c5cd['listNamespacedDeployment'](_0x515433),_0x32988f=_0x1c9e75[_0x4ec05e(0x1d7)][_0x4ec05e(0x21d)][_0x4ec05e(0x1f3)](_0x3c4b38=>_0x3c4b38[_0x4ec05e(0x169)][_0x4ec05e(0x144)]===_0x53c83e);return _0x32988f?!![]:![];}}catch(_0x657ceb){if(_0x4ccab4[_0x4ec05e(0x1d8)](_0x4ccab4[_0x4ec05e(0x19a)],_0x4ccab4[_0x4ec05e(0x19a)]))throw _0x5c195e;else return![];}},exports['createNamespace']=async(_0x270465,_0x92fd94)=>{const _0x537b0d=a33_0x3915e9,_0x3a9157={};_0x3a9157[_0x537b0d(0x264)]=_0x537b0d(0x25e),_0x3a9157[_0x537b0d(0x1b6)]=function(_0x29970b,_0x453fd8){return _0x29970b!==_0x453fd8;},_0x3a9157[_0x537b0d(0x238)]='default',_0x3a9157['YKnsC']=_0x537b0d(0x247),_0x3a9157[_0x537b0d(0x202)]=_0x537b0d(0x168),_0x3a9157[_0x537b0d(0x190)]=_0x537b0d(0x1dc);const _0x737d08=_0x3a9157;if(_0x737d08[_0x537b0d(0x1b6)](_0x92fd94,_0x737d08[_0x537b0d(0x238)])){if(_0x737d08[_0x537b0d(0x1b6)](_0x737d08[_0x537b0d(0x231)],_0x737d08[_0x537b0d(0x202)])){const _0x127c11={};_0x127c11[_0x537b0d(0x226)]=_0x737d08[_0x537b0d(0x190)],_0x127c11[_0x537b0d(0x1e6)]=_0x737d08[_0x537b0d(0x190)];const _0x198b42={};_0x198b42['name']=_0x92fd94,_0x198b42['annotations']=_0x127c11;const _0x5dc556={};_0x5dc556[_0x537b0d(0x169)]=_0x198b42;const _0xe0d0b4=_0x5dc556,_0x5e8c5e={};_0x5e8c5e[_0x537b0d(0x1d7)]=_0xe0d0b4,await _0x270465['createNamespace'](_0x5e8c5e),logger[_0x537b0d(0x1bc)](_0x537b0d(0x292)+_0x92fd94);}else _0x4dcf15=_0x737d08[_0x537b0d(0x264)];}},exports[a33_0x3915e9(0x21e)]=async(_0x2cea84,_0x4d3a62)=>{const _0x38e4aa=a33_0x3915e9,_0x329b52={'hjZas':function(_0x300929,_0x3cb60a){return _0x300929(_0x3cb60a);},'UXBqn':function(_0x31256a,_0xc1a18a){return _0x31256a(_0xc1a18a);},'gbgPU':function(_0x5d24d1,_0x59ec12){return _0x5d24d1===_0x59ec12;},'GOGhF':_0x38e4aa(0x14c),'rSvIL':_0x38e4aa(0x22f),'vnncg':function(_0x12d715,_0x3e09a8){return _0x12d715!==_0x3e09a8;},'blONa':_0x38e4aa(0x29f),'oSYvC':'123456'};try{if(_0x329b52[_0x38e4aa(0x249)](_0x329b52[_0x38e4aa(0x204)],_0x329b52[_0x38e4aa(0x28c)]))_0x62204c=_0x169521[_0x38e4aa(0x1d2)](/<RedisClientPassword>/g,_0x329b52[_0x38e4aa(0x232)](_0x4d68eb,_0x441eef[_0x38e4aa(0x142)])),_0x27bdaf=_0x2f9c9f[_0x38e4aa(0x1d2)](/<KafkaClientPassword>/g,_0x329b52['UXBqn'](_0x5411e0,_0xcad7fc[_0x38e4aa(0x2b8)]));else{const _0x26319a={};_0x26319a[_0x38e4aa(0x144)]=_0x4d3a62;const _0x3afd0b=await _0x2cea84[_0x38e4aa(0x1f9)](_0x26319a),_0xa93682=_0x3afd0b?.[_0x38e4aa(0x169)]?.[_0x38e4aa(0x28b)];return _0xa93682;}}catch(_0x3e71d3){if(_0x329b52[_0x38e4aa(0x268)](_0x329b52[_0x38e4aa(0x149)],_0x329b52[_0x38e4aa(0x149)]))_0x1cb624['error']('Error\x20deleting\x20stack\x20'+_0x1bb77c+':',_0x3b7627[_0x38e4aa(0x282)]);else return _0x329b52[_0x38e4aa(0x207)];}},exports[a33_0x3915e9(0x179)]=async(_0x1605ca,_0x5e4edc,_0x3fda38,_0x3462c5,_0x37c768,_0x30a75c,_0xfe08d0,_0x2ec460,_0x2d33c2,_0x4b8aed={},_0x5be9ad)=>{const _0x4cbb20=a33_0x3915e9,_0x269fa2={'oxJmS':function(_0x8dbb5,_0x18ae79){return _0x8dbb5===_0x18ae79;},'QbHTZ':'metrics-server','hIGUO':'123456','UvuDG':_0x4cbb20(0x1fe),'hvCzY':function(_0x597e0f,_0x1e9469,_0xd9eda2){return _0x597e0f(_0x1e9469,_0xd9eda2);},'TqwMw':'cluster-role-binding.yaml','hdFZY':_0x4cbb20(0x126),'wXGER':function(_0xc613d0,_0xd9f5a7){return _0xc613d0!=_0xd9f5a7;},'WLtFI':function(_0xf1dd33,_0x477dc2){return _0xf1dd33!==_0x477dc2;},'GfySy':'dxzia','Jcdda':_0x4cbb20(0x16a),'oxLBv':_0x4cbb20(0x252),'GgFlS':function(_0x3e47cd,_0x52e4d7){return _0x3e47cd!==_0x52e4d7;},'DLYnB':_0x4cbb20(0x140),'PQZuq':_0x4cbb20(0x271),'WZVXy':_0x4cbb20(0x1a1),'YHHao':'Added\x20MetricsServer\x20Components','JZNvO':function(_0x114cbd,_0x140c7c){return _0x114cbd===_0x140c7c;},'WTAQr':_0x4cbb20(0x2a6),'vEQRe':_0x4cbb20(0x18b),'LPiGA':_0x4cbb20(0x280),'LoHYH':function(_0x1d21c0,_0x5bf005,_0x464015,_0x47cb91){return _0x1d21c0(_0x5bf005,_0x464015,_0x47cb91);},'romMY':'browser-node-service-account.yaml','peUGi':'Added\x20browser-node\x20service\x20account','dajWV':function(_0x40a5cd,_0x4853e7){return _0x40a5cd===_0x4853e7;},'vUgJW':function(_0x2b3d9b,_0xb66e86){return _0x2b3d9b===_0xb66e86;},'YeCSc':'jLIXu','OZjMV':_0x4cbb20(0x205),'KmUek':'Adding\x20default\x20service\x20account','VLszt':function(_0x52dc77,_0x3bf3ce,_0x24bfd8,_0x4cffee){return _0x52dc77(_0x3bf3ce,_0x24bfd8,_0x4cffee);},'nDihB':_0x4cbb20(0x242),'hlZtW':_0x4cbb20(0x2a3),'jOmpK':_0x4cbb20(0x175),'UNsAX':'Adding\x20browser-node-role\x20cluster\x20role','VOYcj':_0x4cbb20(0x22a),'tCnfj':'Added\x20browser-node-role\x20cluster\x20role','bCFUU':'Adding\x20browser-node-role-binding\x20role\x20binding','iUNiD':function(_0x2e2f9f,_0x41b702,_0xcc412a){return _0x2e2f9f(_0x41b702,_0xcc412a);},'CHEMC':_0x4cbb20(0x1a0),'CIygQ':_0x4cbb20(0x23b),'kvfdg':_0x4cbb20(0x145),'Qqzeu':'ingress-nginx','pdQwr':'4|7|1|3|9|2|0|6|5|8','nkcQg':_0x4cbb20(0x272),'LakZv':_0x4cbb20(0x220),'bgPrE':_0x4cbb20(0x17e),'EbtBM':'utf-8','oTKBI':'Adding\x20Nginx\x20Pods\x20and\x20deployments','lSdVY':function(_0x54385a,_0x24c886,_0x129f82){return _0x54385a(_0x24c886,_0x129f82);},'DsbYd':'Adding\x20Nginx\x20Roles\x20and\x20Service\x20Accounts','gayvD':_0x4cbb20(0x1c0),'oZtNw':_0x4cbb20(0x278),'ZvGuC':'Added\x20Nginx\x20Roles\x20and\x20Service\x20Accounts','rNaqr':_0x4cbb20(0x1c2),'WdmwB':function(_0x4fed79,_0x5f32db){return _0x4fed79===_0x5f32db;},'XAfvC':_0x4cbb20(0x20f),'znYUl':function(_0x4f880e,_0x336db0){return _0x4f880e===_0x336db0;},'tMhgq':'networking.gke.io/load-balancer-type:\x20\x22Internal\x22','BkQbz':_0x4cbb20(0x25e),'gzMpA':_0x4cbb20(0x17f),'FEsSa':function(_0x58f06d,_0x18aab0,_0x388bce){return _0x58f06d(_0x18aab0,_0x388bce);},'ezkQS':_0x4cbb20(0x137),'pzLvF':_0x4cbb20(0x22e),'vmyqT':_0x4cbb20(0x274),'aAihX':_0x4cbb20(0x133),'gBKPq':_0x4cbb20(0x276),'hWnUw':function(_0xfe6b1e,_0x7963e4,_0x1fb354){return _0xfe6b1e(_0x7963e4,_0x1fb354);},'xICqR':_0x4cbb20(0x183),'VNVlr':_0x4cbb20(0x164),'Bbyop':'Waiting\x20for\x20Cert\x20Manager\x20Deployments','GFEyy':function(_0x52a2a9,_0xde80c1,_0x7637ed,_0x340065,_0x5c63bd){return _0x52a2a9(_0xde80c1,_0x7637ed,_0x340065,_0x5c63bd);},'xJzWx':'Added\x20Cert\x20Manager','PoNeE':'Adding\x20Cert\x20Manager','mRxAD':_0x4cbb20(0x213),'cbobN':_0x4cbb20(0x161),'uTifX':'Adding\x20Cert\x20Manager\x20CRDs','alKCG':function(_0x2940b7,_0x53e6f0,_0x1ee8d8,_0x15dfe3,_0x99a89e){return _0x2940b7(_0x53e6f0,_0x1ee8d8,_0x15dfe3,_0x99a89e);},'KFpkv':'cert-manager-webhook','AguFQ':_0x4cbb20(0x15c),'KjTHv':function(_0x59e6f1,_0x3db209,_0x338b5b,_0x22b742,_0x950342){return _0x59e6f1(_0x3db209,_0x338b5b,_0x22b742,_0x950342);},'ynrOo':_0x4cbb20(0x212),'Pects':'Adding\x20Cert\x20Issuer','tTrIc':'crds.yaml','TzXDb':'cert-manager.yaml','upXLs':_0x4cbb20(0x1fa),'KwIav':'browserstack-turboscale-agent','lXATw':_0x4cbb20(0x235),'dnWRH':_0x4cbb20(0x176),'DJWgk':_0x4cbb20(0x17c),'urDJk':_0x4cbb20(0x2a0),'XlpvM':_0x4cbb20(0x1dd),'pITIf':_0x4cbb20(0x23a),'WJgay':_0x4cbb20(0x1b1),'hLSMZ':_0x4cbb20(0x2ad),'MJVUf':_0x4cbb20(0x24d),'YQluZ':function(_0x211f40,_0x43f2b1){return _0x211f40(_0x43f2b1);},'kXdxb':function(_0x4140bd,_0x59e412){return _0x4140bd(_0x59e412);},'uBFXk':function(_0x65ecbb,_0x272085){return _0x65ecbb(_0x272085);},'oPrDw':_0x4cbb20(0x2a2),'YpOYd':_0x4cbb20(0x157),'nFJRy':function(_0x1b8833,_0x29f123,_0x366090){return _0x1b8833(_0x29f123,_0x366090);},'cWFQv':'hub-deployment.yaml','PUAvW':'Added\x20hubdeployment','OpxHj':'Adding\x20Ingress','kfSco':_0x4cbb20(0x2b3),'PDkKB':_0x4cbb20(0x1e0),'kpDTl':_0x4cbb20(0x28d),'oldkM':_0x4cbb20(0x288),'gmDKY':function(_0x1b2857,_0x5747b5,_0x3cc53d){return _0x1b2857(_0x5747b5,_0x3cc53d);},'adbfg':_0x4cbb20(0x159)};let _0x1fa801=null,_0x13cb71=null;logger[_0x4cbb20(0x1bc)](_0x269fa2[_0x4cbb20(0x1c7)]),_0x1fa801=await _0x269fa2['hvCzY'](applyTemplate,_0x269fa2['TqwMw'],_0x37c768);const _0x1ae04d={};_0x1ae04d[_0x4cbb20(0x1d7)]=_0x1fa801,await _0x3462c5[_0x4cbb20(0x293)](_0x1ae04d),logger[_0x4cbb20(0x1bc)](_0x269fa2['hdFZY']);if(_0x269fa2[_0x4cbb20(0x203)](_0xfe08d0,null)&&_0x269fa2[_0x4cbb20(0x151)](_0xfe08d0,undefined)){if(_0x269fa2[_0x4cbb20(0x291)](_0x269fa2['GfySy'],_0x269fa2[_0x4cbb20(0x29d)]))logger[_0x4cbb20(0x1bc)](_0x269fa2[_0x4cbb20(0x265)]),await this[_0x4cbb20(0x1f7)](_0x1605ca,_0x5e4edc,_0x3fda38,_0x3462c5,_0x37c768,_0x30a75c,_0xfe08d0),logger['info'](_0x269fa2[_0x4cbb20(0x281)]);else{const _0x3c6031={};_0x3c6031[_0x4cbb20(0x1b9)]=''+_0x5c6c72[_0x4cbb20(0x255)];const _0x3c3667={'annotations':_0x3c6031,..._0x1a1b25[_0x4cbb20(0x169)]};_0x16a15b[_0x4cbb20(0x169)]=_0x3c3667;}}const _0x361322=await this[_0x4cbb20(0x1d6)](_0x1605ca);if(!_0x361322){if(_0x269fa2[_0x4cbb20(0x22c)](_0x269fa2[_0x4cbb20(0x1cc)],_0x269fa2[_0x4cbb20(0x16c)]))logger[_0x4cbb20(0x1bc)](_0x269fa2[_0x4cbb20(0x1b5)]),await this['addMetricServerComponents'](_0x1605ca,_0x5e4edc,_0x3462c5,_0x2ec460),logger['info'](_0x269fa2[_0x4cbb20(0x1e9)]);else return![];}try{if(_0x269fa2['JZNvO'](_0x269fa2[_0x4cbb20(0x250)],_0x269fa2[_0x4cbb20(0x24c)])){if(_0x269fa2['oxJmS'](_0x364b81[_0x3e76d0][_0x4cbb20(0x169)][_0x4cbb20(0x144)],_0x269fa2[_0x4cbb20(0x27b)]))return!![];}else{logger[_0x4cbb20(0x1bc)](_0x269fa2['LPiGA']),_0x1fa801=await _0x269fa2[_0x4cbb20(0x143)](applyTemplate,_0x269fa2[_0x4cbb20(0x26d)],_0x37c768,_0x4b8aed);const _0x1d23f7={};_0x1d23f7['namespace']=_0x37c768,_0x1d23f7[_0x4cbb20(0x1d7)]=_0x1fa801,await _0x1605ca[_0x4cbb20(0x2a5)](_0x1d23f7),logger[_0x4cbb20(0x1bc)](_0x269fa2[_0x4cbb20(0x2a8)]);if(_0x269fa2[_0x4cbb20(0x22b)](global_registry['cloudProvider'],AZURE)){if(_0x269fa2[_0x4cbb20(0x141)](_0x269fa2[_0x4cbb20(0x208)],_0x269fa2[_0x4cbb20(0x15e)]))_0x4a2929=_0x327487[_0x4cbb20(0x1d2)](/<KafkaClientPassword>/g,''),_0x38b721=_0x1f9660['replace'](/<RedisClientPassword>/g,'');else{logger['info'](_0x269fa2[_0x4cbb20(0x1f2)]),_0x1fa801=await _0x269fa2[_0x4cbb20(0x16e)](applyTemplate,_0x269fa2['nDihB'],_0x37c768,_0x4b8aed);const _0x9f07ed={};_0x9f07ed[_0x4cbb20(0x144)]=_0x269fa2['hlZtW'],_0x9f07ed[_0x4cbb20(0x17d)]=_0x37c768,_0x9f07ed[_0x4cbb20(0x1d7)]=_0x1fa801,await _0x1605ca[_0x4cbb20(0x259)](_0x9f07ed),logger[_0x4cbb20(0x1bc)](_0x269fa2[_0x4cbb20(0x25f)]);}}logger[_0x4cbb20(0x1bc)](_0x269fa2[_0x4cbb20(0x263)]),_0x1fa801=await _0x269fa2['hvCzY'](applyTemplate,_0x269fa2[_0x4cbb20(0x27d)],_0x37c768);const _0xe7abf9={};_0xe7abf9[_0x4cbb20(0x1d7)]=_0x1fa801,await _0x3462c5[_0x4cbb20(0x1bf)](_0xe7abf9),logger[_0x4cbb20(0x1bc)](_0x269fa2[_0x4cbb20(0x2a9)]),logger[_0x4cbb20(0x1bc)](_0x269fa2[_0x4cbb20(0x2af)]),_0x1fa801=await _0x269fa2[_0x4cbb20(0x224)](applyTemplate,_0x269fa2[_0x4cbb20(0x2a7)],_0x37c768);const _0x21e85e={};_0x21e85e[_0x4cbb20(0x1d7)]=_0x1fa801,await _0x3462c5[_0x4cbb20(0x293)](_0x21e85e),logger['info'](_0x269fa2[_0x4cbb20(0x15b)]);}}catch(_0x3af4d3){if(_0x269fa2['oxJmS'](_0x3af4d3['statusCode'],0x199)||_0x269fa2[_0x4cbb20(0x141)](_0x3af4d3[_0x4cbb20(0x12d)],0x199)){if(_0x269fa2[_0x4cbb20(0x151)](_0x269fa2[_0x4cbb20(0x2ab)],_0x269fa2['kvfdg']))return _0x269fa2[_0x4cbb20(0x22d)];else logger[_0x4cbb20(0x127)](_0x3af4d3[_0x4cbb20(0x282)]);}else throw _0x3af4d3;}const _0x504a44=await this[_0x4cbb20(0x18d)](_0x1605ca,_0x269fa2[_0x4cbb20(0x182)]);if(!_0x504a44){const _0x5c32e6=_0x269fa2[_0x4cbb20(0x246)][_0x4cbb20(0x27a)]('|');let _0x1d2c56=0x0;while(!![]){switch(_0x5c32e6[_0x1d2c56++]){case'0':_0x13cb71=await fs[_0x4cbb20(0x1d0)](path[_0x4cbb20(0x244)](__dirname,'..',_0x269fa2[_0x4cbb20(0x26a)],_0x269fa2['LakZv'],_0x269fa2[_0x4cbb20(0x251)]),_0x269fa2[_0x4cbb20(0x138)]);continue;case'1':_0x1fa801=yaml[_0x4cbb20(0x2b0)](_0x13cb71);continue;case'2':logger['info'](_0x269fa2[_0x4cbb20(0x129)]);continue;case'3':await _0x269fa2['lSdVY'](kubeApply,_0x1fa801,_0x2d33c2);continue;case'4':logger[_0x4cbb20(0x1bc)](_0x269fa2['DsbYd']);continue;case'5':await _0x269fa2[_0x4cbb20(0x224)](kubeApply,_0x1fa801,_0x2d33c2);continue;case'6':_0x1fa801=yaml['loadAll'](_0x13cb71);continue;case'7':_0x13cb71=await fs[_0x4cbb20(0x1d0)](path[_0x4cbb20(0x244)](__dirname,'..',_0x269fa2[_0x4cbb20(0x26a)],_0x269fa2['LakZv'],_0x269fa2[_0x4cbb20(0x1be)]),_0x269fa2[_0x4cbb20(0x138)]);continue;case'8':logger['info'](_0x269fa2[_0x4cbb20(0x221)]);continue;case'9':logger['info'](_0x269fa2[_0x4cbb20(0x181)]);continue;}break;}}if(global_registry['isPrivateGrid']){logger['info'](_0x269fa2['rNaqr']);let _0x5a5a17;if(_0x269fa2[_0x4cbb20(0x257)](global_registry[_0x4cbb20(0x297)],AZURE))_0x5a5a17=_0x269fa2[_0x4cbb20(0x1df)];else _0x269fa2[_0x4cbb20(0x13d)](global_registry[_0x4cbb20(0x297)],GCP)?_0x5a5a17=_0x269fa2[_0x4cbb20(0x277)]:_0x5a5a17=_0x269fa2['BkQbz'];_0x13cb71=await fs[_0x4cbb20(0x1d0)](path[_0x4cbb20(0x244)](__dirname,'..',_0x269fa2[_0x4cbb20(0x26a)],_0x269fa2[_0x4cbb20(0x1c1)],_0x269fa2[_0x4cbb20(0x23c)]),_0x269fa2['EbtBM']),_0x13cb71=_0x13cb71[_0x4cbb20(0x1d2)](/<InternalLoadBalancerAnnotations>/g,_0x5a5a17),_0x1fa801=yaml[_0x4cbb20(0x2b0)](_0x13cb71),await _0x269fa2[_0x4cbb20(0x285)](kubeApply,_0x1fa801,_0x2d33c2),logger[_0x4cbb20(0x1bc)](_0x269fa2['ezkQS']);}if(global_registry['isNewAWSCluster']){const _0x3b06a6=_0x269fa2['pzLvF'][_0x4cbb20(0x27a)]('|');let _0x21336a=0x0;while(!![]){switch(_0x3b06a6[_0x21336a++]){case'0':_0x13cb71=await fs['readFileAsync'](path['join'](__dirname,'..',_0x269fa2[_0x4cbb20(0x26a)],_0x269fa2[_0x4cbb20(0x227)]),_0x269fa2[_0x4cbb20(0x138)]);continue;case'1':_0x1fa801=yaml[_0x4cbb20(0x2b0)](_0x13cb71);continue;case'2':logger[_0x4cbb20(0x1bc)](_0x269fa2[_0x4cbb20(0x248)]);continue;case'3':logger[_0x4cbb20(0x1bc)](_0x269fa2[_0x4cbb20(0x2aa)]);continue;case'4':await _0x269fa2['hWnUw'](kubeApply,_0x1fa801,_0x2d33c2);continue;}break;}}const _0x3543a1=await this[_0x4cbb20(0x18d)](_0x1605ca,_0x269fa2['xICqR']);if(!_0x3543a1){const _0x4cfb96=_0x269fa2[_0x4cbb20(0x136)][_0x4cbb20(0x27a)]('|');let _0xaf2842=0x0;while(!![]){switch(_0x4cfb96[_0xaf2842++]){case'0':logger[_0x4cbb20(0x1bc)](_0x269fa2['Bbyop']);continue;case'1':await _0x269fa2['hvCzY'](kubeApply,_0x1fa801,_0x2d33c2);continue;case'2':await _0x269fa2[_0x4cbb20(0x206)](waitForDeployment,_0x5e4edc,_0x269fa2[_0x4cbb20(0x1b7)],_0x269fa2['xICqR'],0x7530);continue;case'3':logger[_0x4cbb20(0x1bc)](_0x269fa2['xJzWx']);continue;case'4':logger['info'](_0x269fa2[_0x4cbb20(0x18a)]);continue;case'5':_0x13cb71=await fs[_0x4cbb20(0x1d0)](path['join'](__dirname,'..',_0x269fa2[_0x4cbb20(0x26a)],_0x269fa2[_0x4cbb20(0x1b7)],_0x269fa2[_0x4cbb20(0x298)]),_0x269fa2['EbtBM']);continue;case'6':await _0x269fa2[_0x4cbb20(0x1e3)](kubeApply,_0x1fa801,_0x2d33c2);continue;case'7':_0x1fa801=yaml[_0x4cbb20(0x2b0)](_0x13cb71);continue;case'8':logger[_0x4cbb20(0x1bc)](_0x269fa2[_0x4cbb20(0x236)]);continue;case'9':logger[_0x4cbb20(0x1bc)](_0x269fa2['uTifX']);continue;case'10':_0x1fa801=yaml[_0x4cbb20(0x2b0)](_0x13cb71);continue;case'11':await _0x269fa2[_0x4cbb20(0x1ba)](waitForDeployment,_0x5e4edc,_0x269fa2[_0x4cbb20(0x1b7)],_0x269fa2[_0x4cbb20(0x1e4)],0x7530);continue;case'12':_0x1fa801=yaml[_0x4cbb20(0x2b0)](_0x13cb71);continue;case'13':logger[_0x4cbb20(0x1bc)](_0x269fa2[_0x4cbb20(0x284)]);continue;case'14':await _0x269fa2[_0x4cbb20(0x1da)](waitForDeployment,_0x5e4edc,_0x269fa2[_0x4cbb20(0x1b7)],_0x269fa2[_0x4cbb20(0x134)],0x7530);continue;case'15':await _0x269fa2['hWnUw'](kubeApply,_0x1fa801,_0x2d33c2);continue;case'16':logger['info'](_0x269fa2['Pects']);continue;case'17':_0x13cb71=await fs[_0x4cbb20(0x1d0)](path['join'](__dirname,'..',_0x269fa2[_0x4cbb20(0x26a)],_0x269fa2[_0x4cbb20(0x1b7)],_0x269fa2['tTrIc']),_0x269fa2[_0x4cbb20(0x138)]);continue;case'18':_0x13cb71=await fs[_0x4cbb20(0x1d0)](path[_0x4cbb20(0x244)](__dirname,'..',_0x269fa2[_0x4cbb20(0x26a)],_0x269fa2[_0x4cbb20(0x1b7)],_0x269fa2[_0x4cbb20(0x14a)]),_0x269fa2[_0x4cbb20(0x138)]);continue;}break;}}const _0x2bf77f=await this[_0x4cbb20(0x18d)](_0x1605ca,_0x269fa2[_0x4cbb20(0x25d)]);!_0x2bf77f&&await this['createNamespace'](_0x1605ca,_0x269fa2[_0x4cbb20(0x25d)]);const _0x48ce91=await this[_0x4cbb20(0x125)](_0x1605ca,_0x269fa2[_0x4cbb20(0x25d)],_0x269fa2['KwIav']);if(!_0x48ce91){const _0x5dec2b=_0x269fa2[_0x4cbb20(0x23e)][_0x4cbb20(0x27a)]('|');let _0x18dc31=0x0;while(!![]){switch(_0x5dec2b[_0x18dc31++]){case'0':_0x13cb71=_0x13cb71['replace'](/<BstackAccessKey>/g,global_registry['bstackAccesskey']);continue;case'1':_0x13cb71=_0x13cb71['replace'](/<BstackUsername>/g,global_registry[_0x4cbb20(0x210)]);continue;case'2':logger['info'](_0x269fa2[_0x4cbb20(0x267)]);continue;case'3':logger[_0x4cbb20(0x1bc)](_0x269fa2[_0x4cbb20(0x23f)]);continue;case'4':_0x1fa801=yaml[_0x4cbb20(0x2b0)](_0x13cb71);continue;case'5':_0x13cb71=await fs[_0x4cbb20(0x1d0)](path[_0x4cbb20(0x244)](__dirname,'..',_0x269fa2[_0x4cbb20(0x26a)],_0x269fa2[_0x4cbb20(0x13a)]),_0x269fa2[_0x4cbb20(0x138)]);continue;case'6':await _0x269fa2[_0x4cbb20(0x254)](kubeApply,_0x1fa801,_0x2d33c2);continue;case'7':_0x13cb71=_0x13cb71[_0x4cbb20(0x1d2)](/<BstackURL>/g,AG_API_URL);continue;}break;}}logger[_0x4cbb20(0x1bc)](_0x269fa2['XlpvM']),_0x1fa801=await _0x269fa2['lSdVY'](applyTemplate,_0x269fa2[_0x4cbb20(0x19e)],_0x37c768);const _0x401335={};_0x401335['namespace']=_0x37c768,_0x401335[_0x4cbb20(0x1d7)]=_0x1fa801,await _0x1605ca[_0x4cbb20(0x146)](_0x401335),logger[_0x4cbb20(0x1bc)](_0x269fa2[_0x4cbb20(0x18f)]),logger[_0x4cbb20(0x1bc)](_0x269fa2['hLSMZ']);let _0x3a1020=await fs[_0x4cbb20(0x1d0)](path[_0x4cbb20(0x244)](__dirname,'..',_0x269fa2[_0x4cbb20(0x26a)],_0x269fa2['MJVUf']),_0x269fa2['EbtBM']);_0x3a1020=_0x3a1020['replace'](/<GridNamespace>/g,_0x37c768),_0x3a1020=_0x3a1020[_0x4cbb20(0x1d2)](/<BstackUsername>/g,_0x269fa2['YQluZ'](encodeBase64,global_registry[_0x4cbb20(0x210)])),_0x3a1020=_0x3a1020[_0x4cbb20(0x1d2)](/<BstackAccessKey>/g,_0x269fa2[_0x4cbb20(0x1a2)](encodeBase64,global_registry[_0x4cbb20(0x2b5)]));global_registry['enableHubHa']?(_0x3a1020=_0x3a1020[_0x4cbb20(0x1d2)](/<RedisClientPassword>/g,_0x269fa2[_0x4cbb20(0x26b)](encodeBase64,global_registry['redisPassword'])),_0x3a1020=_0x3a1020[_0x4cbb20(0x1d2)](/<KafkaClientPassword>/g,_0x269fa2[_0x4cbb20(0x177)](encodeBase64,global_registry[_0x4cbb20(0x2b8)]))):(_0x3a1020=_0x3a1020['replace'](/<KafkaClientPassword>/g,''),_0x3a1020=_0x3a1020[_0x4cbb20(0x1d2)](/<RedisClientPassword>/g,''));const _0xc6b80b=yaml[_0x4cbb20(0x2b0)](_0x3a1020);await _0x269fa2[_0x4cbb20(0x187)](kubeApply,_0xc6b80b,_0x2d33c2),logger['info'](_0x269fa2[_0x4cbb20(0x178)]),logger[_0x4cbb20(0x1bc)](_0x269fa2[_0x4cbb20(0x1ae)]),_0x1fa801=await _0x269fa2[_0x4cbb20(0x170)](applyTemplate,_0x269fa2[_0x4cbb20(0x132)],_0x37c768);const _0x3fcb75={};_0x3fcb75[_0x4cbb20(0x17d)]=_0x37c768,_0x3fcb75[_0x4cbb20(0x1d7)]=_0x1fa801,await _0x5e4edc[_0x4cbb20(0x2b1)](_0x3fcb75),logger[_0x4cbb20(0x1bc)](_0x269fa2['PUAvW']),logger[_0x4cbb20(0x1bc)](_0x269fa2[_0x4cbb20(0x158)]),await _0x269fa2[_0x4cbb20(0x1da)](waitForDeployment,_0x5e4edc,_0x269fa2['Qqzeu'],_0x269fa2[_0x4cbb20(0x1d5)],0xea60);global_registry['isPrivateGrid']&&await _0x269fa2[_0x4cbb20(0x1da)](waitForDeployment,_0x5e4edc,_0x269fa2[_0x4cbb20(0x182)],_0x269fa2['PDkKB'],0xea60);_0x13cb71=await fs['readFileAsync'](path[_0x4cbb20(0x244)](__dirname,'..',_0x269fa2[_0x4cbb20(0x26a)],_0x269fa2[_0x4cbb20(0x1d1)]),_0x269fa2['EbtBM']);const _0x4cf8d8=global_registry[_0x4cbb20(0x155)]?_0x269fa2[_0x4cbb20(0x1e2)]:_0x269fa2[_0x4cbb20(0x1c1)];_0x13cb71=_0x13cb71[_0x4cbb20(0x1d2)](/<GridNamespace>/g,_0x37c768),_0x13cb71=_0x13cb71[_0x4cbb20(0x1d2)](/<NginxIngressClass>/g,_0x4cf8d8),_0x1fa801=yaml['loadAll'](_0x13cb71),await _0x269fa2[_0x4cbb20(0x1eb)](kubeApply,_0x1fa801,_0x2d33c2),logger[_0x4cbb20(0x1bc)](_0x269fa2['adbfg']),await _0x269fa2['YQluZ'](delay,0x1388);},exports[a33_0x3915e9(0x193)]=async(_0x88cf50,_0x5810cd,_0x319099,_0x1948af,_0x5752a0)=>{const _0x53fa5b=a33_0x3915e9,_0xa9fbe0={'UdhwE':_0x53fa5b(0x215),'BKfqI':'Deleting\x20clusterrolebinding','csbDl':'Removing\x20grid\x20components','JrjJe':'Removed\x20grid\x20components','hscUl':function(_0x2b3b09,_0xbb4b96){return _0x2b3b09(_0xbb4b96);},'cmdbH':'Deleted\x20clusterrolebinding'},_0x22b70e=_0xa9fbe0['UdhwE']['split']('|');let _0x2b638c=0x0;while(!![]){switch(_0x22b70e[_0x2b638c++]){case'0':const _0xdf70e0={};_0xdf70e0['name']=_0x53fa5b(0x211)+_0x5752a0,await _0x1948af[_0x53fa5b(0x239)](_0xdf70e0);continue;case'1':logger['info'](_0xa9fbe0['BKfqI']);continue;case'2':logger[_0x53fa5b(0x1bc)](_0xa9fbe0[_0x53fa5b(0x29e)]);continue;case'3':logger[_0x53fa5b(0x1bc)](_0xa9fbe0[_0x53fa5b(0x154)]);continue;case'4':const _0x54b51b={};_0x54b51b[_0x53fa5b(0x144)]=_0x5752a0,await _0x88cf50[_0x53fa5b(0x27f)](_0x54b51b);continue;case'5':await _0xa9fbe0[_0x53fa5b(0x160)](delay,0x2710);continue;case'6':logger[_0x53fa5b(0x1bc)](_0xa9fbe0[_0x53fa5b(0x2a1)]);continue;}break;}},exports[a33_0x3915e9(0x18c)]=async _0x1dcc34=>{const _0x4a1f97=a33_0x3915e9,_0x472be8={};_0x472be8['KqvHq']='browserstack',_0x472be8[_0x4a1f97(0x1a3)]='Deleting\x20Turboscale\x20Agent',_0x472be8[_0x4a1f97(0x2ae)]=_0x4a1f97(0x12e);const _0xd260c3=_0x472be8,_0x46380b=await this[_0x4a1f97(0x18d)](_0x1dcc34,_0xd260c3[_0x4a1f97(0x1c3)]);if(_0x46380b){logger[_0x4a1f97(0x1bc)](_0xd260c3[_0x4a1f97(0x1a3)]);const _0x4526f3={};_0x4526f3[_0x4a1f97(0x144)]=_0xd260c3[_0x4a1f97(0x1c3)],await _0x1dcc34[_0x4a1f97(0x27f)](_0x4526f3),logger['info'](_0xd260c3[_0x4a1f97(0x2ae)]);}},exports['deleteRoutingDeps']=async _0x58edd5=>{const _0x2fbb6c=a33_0x3915e9,_0x45acfb={'Mjbdo':'ingress-nginx','IydSq':_0x2fbb6c(0x1fd),'sxNZj':_0x2fbb6c(0x1e8),'HbLoV':function(_0xe1cd4b,_0x5131fc){return _0xe1cd4b(_0x5131fc);},'lKdxv':'cert-manager','EKcjw':_0x2fbb6c(0x20d),'zBHUL':_0x2fbb6c(0x147),'XSRup':function(_0x211a96,_0x2c5a76){return _0x211a96(_0x2c5a76);}},_0x385b9c=await this[_0x2fbb6c(0x18d)](_0x58edd5,_0x45acfb[_0x2fbb6c(0x1f4)]);if(_0x385b9c){logger[_0x2fbb6c(0x1bc)](_0x45acfb['IydSq']);const _0x224d73={};_0x224d73[_0x2fbb6c(0x144)]=_0x45acfb[_0x2fbb6c(0x1f4)],await _0x58edd5[_0x2fbb6c(0x27f)](_0x224d73),logger[_0x2fbb6c(0x1bc)](_0x45acfb[_0x2fbb6c(0x14b)]);}await _0x45acfb[_0x2fbb6c(0x186)](delay,0x124f8);const _0x5ef47a=await this['namespaceExists'](_0x58edd5,_0x45acfb['lKdxv']);if(_0x5ef47a){logger['info'](_0x45acfb[_0x2fbb6c(0x195)]);const _0x593ff3={};_0x593ff3[_0x2fbb6c(0x144)]=_0x45acfb['lKdxv'],await _0x58edd5[_0x2fbb6c(0x27f)](_0x593ff3),logger[_0x2fbb6c(0x1bc)](_0x45acfb['zBHUL']);}await _0x45acfb[_0x2fbb6c(0x286)](delay,0xafc8);},exports[a33_0x3915e9(0x1f8)]=async(_0x23f6f6,_0x470f0f)=>{const _0x13b482=a33_0x3915e9,_0x20462f={'wwSND':function(_0x2eac97,_0x5c5e90){return _0x2eac97(_0x5c5e90);},'LigeR':function(_0x15c166,_0x55250b){return _0x15c166>_0x55250b;},'skBLB':function(_0x358e83,_0x2c25d3){return _0x358e83===_0x2c25d3;},'ZBILx':function(_0x2b81d6,_0xf1c4ec){return _0x2b81d6(_0xf1c4ec);},'CKzvw':_0x13b482(0x12a)},_0xba7f76=[CLUSTER_DEP_STACK_NAME+'-'+_0x470f0f,CLUSTER_AUTOSCALER_STACK_NAME+'-'+_0x470f0f,CLUSTER_HUB_HA_STACK_NAME+'-'+_0x470f0f+'-cf'],_0x387de3=_0xba7f76[_0x13b482(0x12f)](async _0x157e3e=>{const _0x329fe0=_0x13b482;try{const _0xe96cb9=await _0x20462f[_0x329fe0(0x29c)](describeClusterStack,_0x157e3e);_0xe96cb9[_0x329fe0(0x19d)]&&_0x20462f['LigeR'](_0xe96cb9[_0x329fe0(0x19d)][_0x329fe0(0x13e)],0x0)&&_0x20462f[_0x329fe0(0x243)](_0xe96cb9[_0x329fe0(0x19d)][0x0][_0x329fe0(0x1cb)],_0x157e3e)&&(logger[_0x329fe0(0x1bc)]('Deleting\x20'+_0x157e3e+_0x329fe0(0x194)+_0x23f6f6),_0x20462f[_0x329fe0(0x243)](_0xe96cb9[_0x329fe0(0x19d)][0x0]['StackName'],CLUSTER_HUB_HA_STACK_NAME+'-'+_0x470f0f+_0x329fe0(0x24b))&&(await _0x20462f[_0x329fe0(0x1a6)](deleteEFSMountTarget,_0xe96cb9[_0x329fe0(0x19d)][0x0][_0x329fe0(0x1d9)]),await _0x20462f[_0x329fe0(0x1a6)](delay,0x1d4c0)),await _0x20462f[_0x329fe0(0x29c)](deleteClusterStack,_0x157e3e));}catch(_0x2019dd){logger[_0x329fe0(0x135)](_0x329fe0(0x14f)+_0x157e3e+':',_0x2019dd[_0x329fe0(0x282)]);}});await Promise[_0x13b482(0x218)](_0x387de3),logger[_0x13b482(0x1bc)](_0x20462f[_0x13b482(0x299)]);},exports['scaleUpHubDeployment']=async(_0x5d92f4,_0x448c0a)=>{const _0x54853c=a33_0x3915e9,_0x1b5884={};_0x1b5884['kSUme']=_0x54853c(0x214),_0x1b5884['gEYQX']=_0x54853c(0x290);const _0x1750c0=_0x1b5884;logger[_0x54853c(0x1bc)](_0x1750c0[_0x54853c(0x1f0)]);const _0x4581bf={};_0x4581bf[_0x54853c(0x144)]=TURBOSCALE_DEPLOYMENT,_0x4581bf[_0x54853c(0x17d)]=_0x448c0a;const _0xe016fc=await _0x5d92f4[_0x54853c(0x188)](_0x4581bf);_0xe016fc['spec']['replicas']=0x1;const _0x514335={};_0x514335['name']=TURBOSCALE_DEPLOYMENT,_0x514335[_0x54853c(0x17d)]=_0x448c0a,_0x514335[_0x54853c(0x1d7)]=_0xe016fc,await _0x5d92f4['replaceNamespacedDeployment'](_0x514335),logger[_0x54853c(0x1bc)](_0x1750c0[_0x54853c(0x20c)]);},exports['scaleDownHubDeployment']=async(_0xc0c451,_0x4bf4e4)=>{const _0x5f5381=a33_0x3915e9,_0x276e31={};_0x276e31[_0x5f5381(0x201)]='Scaling\x20down\x20deployment',_0x276e31[_0x5f5381(0x25b)]=_0x5f5381(0x1af);const _0x27cb95=_0x276e31;logger['info'](_0x27cb95[_0x5f5381(0x201)]);const _0x307155={};_0x307155[_0x5f5381(0x144)]=TURBOSCALE_DEPLOYMENT,_0x307155[_0x5f5381(0x17d)]=_0x4bf4e4;const _0x2e87b6=await _0xc0c451['readNamespacedDeployment'](_0x307155);_0x2e87b6[_0x5f5381(0x1ed)]['replicas']=0x0;const _0x578679={};_0x578679[_0x5f5381(0x144)]=TURBOSCALE_DEPLOYMENT,_0x578679[_0x5f5381(0x17d)]=_0x4bf4e4,_0x578679[_0x5f5381(0x1d7)]=_0x2e87b6,await _0xc0c451[_0x5f5381(0x245)](_0x578679),logger[_0x5f5381(0x1bc)](_0x27cb95[_0x5f5381(0x25b)]);};