function a28_0x1d6f(){const _0x3a9ae7=['BaseResourceName','ewRMD','VpcId','LmkdW','split','createHubHaStack','promise','MQIiX','promisifyAll','createStack','380WWXJmf','Tags','://','info','./AWSUtils','CoEhh','StackName','wSBCd','waitFor','jgfhv','browserstack:cluster','udaWf','readFileAsync','483ZygQJy','valueOf','tqDDc','toString','stringify','CloudFormation','sjGgP','2949558PUFelr','1317980ROIUhE','CFTemplates','load','js-yaml','js-yaml-cloudformation-schema','browserstack:creationDate','Properties','2010-05-15','1186zLhxFZ','jSxpq','995427kipuTi','sUNTE','2132sbvQtU','Resources','eIdUx','ClusterOIDCURL','../config/logger','OnFailure','path','StackId','apiVersion','../config/constants','CAPABILITY_NAMED_IAM','Value','TemplateBody','76288wedZdR','getOidcUrl','7008890YBrssn','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','Capabilities','stackCreateComplete','1928373hQlSvZ'];a28_0x1d6f=function(){return _0x3a9ae7;};return a28_0x1d6f();}const a28_0x9adeea=a28_0x15f0;(function(_0x95d331,_0x5d09f7){const _0x5285fe=a28_0x15f0,_0x56861c=_0x95d331();while(!![]){try{const _0x13f51a=parseInt(_0x5285fe(0x20f))/0x1*(-parseInt(_0x5285fe(0x213))/0x2)+-parseInt(_0x5285fe(0x1e7))/0x3+-parseInt(_0x5285fe(0x207))/0x4+-parseInt(_0x5285fe(0x1e3))/0x5+-parseInt(_0x5285fe(0x206))/0x6+parseInt(_0x5285fe(0x1ff))/0x7*(parseInt(_0x5285fe(0x1e1))/0x8)+parseInt(_0x5285fe(0x211))/0x9*(parseInt(_0x5285fe(0x1f2))/0xa);if(_0x13f51a===_0x5d09f7)break;else _0x56861c['push'](_0x56861c['shift']());}catch(_0x4a46fd){_0x56861c['push'](_0x56861c['shift']());}}}(a28_0x1d6f,0xb2755));const fs=require('fs'),path=require(a28_0x9adeea(0x219)),Promise=require('bluebird'),yaml=require(a28_0x9adeea(0x20a)),{CLOUDFORMATION_SCHEMA}=require(a28_0x9adeea(0x20b)),AWS=require(a28_0x9adeea(0x1f6))['awsObj'],AWSUtils=require(a28_0x9adeea(0x1f6)),{CLUSTER_HUB_HA_STACK_NAME,COMMON_HST_TAGS}=require(a28_0x9adeea(0x1dd)),{logger}=require(a28_0x9adeea(0x217));function a28_0x15f0(_0x534fc9,_0x3b6915){const _0x1d6f29=a28_0x1d6f();return a28_0x15f0=function(_0x15f0eb,_0x14e9aa){_0x15f0eb=_0x15f0eb-0x1dc;let _0x163cbd=_0x1d6f29[_0x15f0eb];return _0x163cbd;},a28_0x15f0(_0x534fc9,_0x3b6915);}Promise[a28_0x9adeea(0x1f0)](fs);const addTags=async(_0x320324,_0x16ef7d)=>{const _0x4a3b3a=a28_0x9adeea;for(const _0x5070c0 in _0x320324[_0x4a3b3a(0x214)]){_0x320324['Resources'][_0x5070c0][_0x4a3b3a(0x20d)]&&_0x320324[_0x4a3b3a(0x214)][_0x5070c0][_0x4a3b3a(0x20d)][_0x4a3b3a(0x1f3)]&&_0x320324[_0x4a3b3a(0x214)][_0x5070c0][_0x4a3b3a(0x20d)][_0x4a3b3a(0x1f3)]['push'](..._0x16ef7d);}};exports[a28_0x9adeea(0x1ed)]=async(_0x3686b9,_0x2979c2=null)=>{const _0x47c21e=a28_0x9adeea,_0xfa0382={'jgfhv':_0x47c21e(0x1fc),'LmkdW':_0x47c21e(0x20c),'SUMdd':_0x47c21e(0x20e),'puIGc':_0x47c21e(0x208),'MQIiX':'hub-ha.yaml','sUNTE':'utf-8','CoEhh':function(_0x167acd,_0x64a095,_0x1041bd){return _0x167acd(_0x64a095,_0x1041bd);},'udaWf':_0x47c21e(0x1f4),'eIdUx':'DELETE','ewRMD':_0x47c21e(0x1ea),'sjGgP':_0x47c21e(0x1e8),'jSxpq':_0x47c21e(0x216),'tqDDc':_0x47c21e(0x1de),'KaMli':_0x47c21e(0x1e4),'wSBCd':_0x47c21e(0x1e6)},_0x298508=COMMON_HST_TAGS,_0x2fa7f2={};_0x2fa7f2['Key']=_0xfa0382[_0x47c21e(0x1fb)],_0x2fa7f2[_0x47c21e(0x1df)]=_0x3686b9,_0x298508['push'](_0x2fa7f2),_0x298508['push']({'Key':_0xfa0382[_0x47c21e(0x1eb)],'Value':new Date()[_0x47c21e(0x200)]()[_0x47c21e(0x202)]()});const _0x1dcbe6={};_0x1dcbe6[_0x47c21e(0x1dc)]=_0xfa0382['SUMdd'];const _0x1482c6=new AWS[(_0x47c21e(0x204))](_0x1dcbe6),_0x59a1c7=await fs[_0x47c21e(0x1fe)](path['join'](__dirname,'..',_0xfa0382['puIGc'],_0xfa0382[_0x47c21e(0x1ef)]),_0xfa0382[_0x47c21e(0x212)]),_0x2206a7={};_0x2206a7['schema']=CLOUDFORMATION_SCHEMA;const _0xd2c548=yaml[_0x47c21e(0x209)](_0x59a1c7,_0x2206a7);await _0xfa0382[_0x47c21e(0x1f7)](addTags,_0xd2c548,_0x298508);const _0xf4c174=JSON[_0x47c21e(0x203)](_0xd2c548);let _0x4b28aa=await AWSUtils[_0x47c21e(0x1e2)](_0x3686b9);_0x4b28aa=_0x4b28aa[_0x47c21e(0x1ec)](_0xfa0382[_0x47c21e(0x1fd)])[0x1];const _0x3e0d8d={};_0x3e0d8d['StackName']=CLUSTER_HUB_HA_STACK_NAME+'-'+_0x3686b9+'-cf',_0x3e0d8d[_0x47c21e(0x218)]=_0xfa0382[_0x47c21e(0x215)],_0x3e0d8d[_0x47c21e(0x1e0)]=_0xf4c174,_0x3e0d8d['Parameters']=[{'ParameterKey':_0xfa0382[_0x47c21e(0x1e9)],'ParameterValue':_0x2979c2},{'ParameterKey':_0xfa0382[_0x47c21e(0x205)],'ParameterValue':CLUSTER_HUB_HA_STACK_NAME+'-'+_0x3686b9},{'ParameterKey':_0xfa0382[_0x47c21e(0x210)],'ParameterValue':_0x4b28aa}],_0x3e0d8d[_0x47c21e(0x1e5)]=[_0xfa0382[_0x47c21e(0x201)]],_0x3e0d8d['Tags']=_0x298508;const _0x5352f4=_0x3e0d8d,_0x5f06b7=await _0x1482c6[_0x47c21e(0x1f1)](_0x5352f4)[_0x47c21e(0x1ee)]();logger[_0x47c21e(0x1f5)](_0xfa0382['KaMli']);const _0x12ad59={};return _0x12ad59[_0x47c21e(0x1f8)]=_0x5f06b7[_0x47c21e(0x21a)],_0x1482c6[_0x47c21e(0x1fa)](_0xfa0382[_0x47c21e(0x1f9)],_0x12ad59)[_0x47c21e(0x1ee)]();};