function a28_0x523f(){const _0x4341e6=['hub-ha.yaml','40NhVyKy','valueOf','zMDOA','apiVersion','CAPABILITY_NAMED_IAM','9GDwpHW','CWXep','TemplateBody','bluebird','Tags','split','OnFailure','schema','createHubHaStack','stackCreateComplete','439107ZlWcnn','toString','2383oMXKaS','1090824HyKViR','createStack','js-yaml','join','VpcId','utf-8','CloudFormation','7161865sFbKHB','CxbWW','Parameters','YZFfK','info','path','UFFVc','push','stringify','Properties','eTDFe','-cf','Resources','FKgKH','dyiDf','uonBw','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','browserstack:creationDate','StackId','://','Value','oJZrm','../config/constants','Key','6573712eHehWw','readFileAsync','188RFCYND','awsObj','kCRgF','../config/logger','CFTemplates','160Wwttwi','promise','jkdwf','2010-05-15','4653456KWeqdb','ciPij','StackName','./AWSUtils','2044119jexodE','QuzTx','lfrbT'];a28_0x523f=function(){return _0x4341e6;};return a28_0x523f();}const a28_0x5bda1c=a28_0x22cb;(function(_0x2a5838,_0x62db72){const _0x462beb=a28_0x22cb,_0x8d9b30=_0x2a5838();while(!![]){try{const _0x344d92=parseInt(_0x462beb(0x12e))/0x1*(-parseInt(_0x462beb(0x150))/0x2)+-parseInt(_0x462beb(0x12c))/0x3*(parseInt(_0x462beb(0x11d))/0x4)+parseInt(_0x462beb(0x136))/0x5+-parseInt(_0x462beb(0x159))/0x6+-parseInt(_0x462beb(0x12f))/0x7+-parseInt(_0x462beb(0x14e))/0x8*(parseInt(_0x462beb(0x122))/0x9)+-parseInt(_0x462beb(0x155))/0xa*(-parseInt(_0x462beb(0x119))/0xb);if(_0x344d92===_0x62db72)break;else _0x8d9b30['push'](_0x8d9b30['shift']());}catch(_0x3592cb){_0x8d9b30['push'](_0x8d9b30['shift']());}}}(a28_0x523f,0xeb8d7));const fs=require('fs'),path=require(a28_0x5bda1c(0x13b)),Promise=require(a28_0x5bda1c(0x125)),yaml=require(a28_0x5bda1c(0x131)),{CLOUDFORMATION_SCHEMA}=require('js-yaml-cloudformation-schema'),AWS=require(a28_0x5bda1c(0x15c))[a28_0x5bda1c(0x151)],AWSUtils=require(a28_0x5bda1c(0x15c)),{CLUSTER_HUB_HA_STACK_NAME,COMMON_HST_TAGS}=require(a28_0x5bda1c(0x14c)),{logger}=require(a28_0x5bda1c(0x153));Promise['promisifyAll'](fs);function a28_0x22cb(_0x1f5b25,_0x492097){const _0x523fc4=a28_0x523f();return a28_0x22cb=function(_0x22cbda,_0x1be35c){_0x22cbda=_0x22cbda-0x119;let _0x67c417=_0x523fc4[_0x22cbda];return _0x67c417;},a28_0x22cb(_0x1f5b25,_0x492097);}const addTags=async(_0xcc6ebf,_0x135b7d)=>{const _0x35888c=a28_0x5bda1c;for(const _0x5753e4 in _0xcc6ebf[_0x35888c(0x142)]){_0xcc6ebf[_0x35888c(0x142)][_0x5753e4][_0x35888c(0x13f)]&&_0xcc6ebf['Resources'][_0x5753e4][_0x35888c(0x13f)][_0x35888c(0x126)]&&_0xcc6ebf[_0x35888c(0x142)][_0x5753e4][_0x35888c(0x13f)][_0x35888c(0x126)][_0x35888c(0x13d)](..._0x135b7d);}};exports[a28_0x5bda1c(0x12a)]=async(_0x4e9ca,_0x35f826=null)=>{const _0x19684f=a28_0x5bda1c,_0x1d3c68={'eTDFe':'browserstack:cluster','zMDOA':_0x19684f(0x147),'lfrbT':_0x19684f(0x158),'jkdwf':_0x19684f(0x154),'CWXep':_0x19684f(0x11c),'FKgKH':_0x19684f(0x134),'kCRgF':function(_0x1d5e90,_0x22d48b,_0x539529){return _0x1d5e90(_0x22d48b,_0x539529);},'dyiDf':_0x19684f(0x149),'CxbWW':'DELETE','YZFfK':_0x19684f(0x133),'QuzTx':'BaseResourceName','oJZrm':'ClusterOIDCURL','UFFVc':_0x19684f(0x121),'uonBw':_0x19684f(0x146),'ciPij':_0x19684f(0x12b)},_0x58b642=COMMON_HST_TAGS,_0x56c8f3={};_0x56c8f3[_0x19684f(0x14d)]=_0x1d3c68[_0x19684f(0x140)],_0x56c8f3[_0x19684f(0x14a)]=_0x4e9ca,_0x58b642[_0x19684f(0x13d)](_0x56c8f3),_0x58b642[_0x19684f(0x13d)]({'Key':_0x1d3c68[_0x19684f(0x11f)],'Value':new Date()[_0x19684f(0x11e)]()[_0x19684f(0x12d)]()});const _0x146fc5={};_0x146fc5[_0x19684f(0x120)]=_0x1d3c68[_0x19684f(0x11b)];const _0xb58020=new AWS[(_0x19684f(0x135))](_0x146fc5),_0x2f20c2=await fs[_0x19684f(0x14f)](path[_0x19684f(0x132)](__dirname,'..',_0x1d3c68[_0x19684f(0x157)],_0x1d3c68[_0x19684f(0x123)]),_0x1d3c68[_0x19684f(0x143)]),_0x997cc0={};_0x997cc0[_0x19684f(0x129)]=CLOUDFORMATION_SCHEMA;const _0xd2e2e1=yaml['load'](_0x2f20c2,_0x997cc0);await _0x1d3c68[_0x19684f(0x152)](addTags,_0xd2e2e1,_0x58b642);const _0x295d24=JSON[_0x19684f(0x13e)](_0xd2e2e1);let _0x40c249=await AWSUtils['getOidcUrl'](_0x4e9ca);_0x40c249=_0x40c249[_0x19684f(0x127)](_0x1d3c68[_0x19684f(0x144)])[0x1];const _0x423b0f={};_0x423b0f[_0x19684f(0x15b)]=CLUSTER_HUB_HA_STACK_NAME+'-'+_0x4e9ca+_0x19684f(0x141),_0x423b0f[_0x19684f(0x128)]=_0x1d3c68[_0x19684f(0x137)],_0x423b0f[_0x19684f(0x124)]=_0x295d24,_0x423b0f[_0x19684f(0x138)]=[{'ParameterKey':_0x1d3c68[_0x19684f(0x139)],'ParameterValue':_0x35f826},{'ParameterKey':_0x1d3c68[_0x19684f(0x11a)],'ParameterValue':CLUSTER_HUB_HA_STACK_NAME+'-'+_0x4e9ca},{'ParameterKey':_0x1d3c68[_0x19684f(0x14b)],'ParameterValue':_0x40c249}],_0x423b0f['Capabilities']=[_0x1d3c68[_0x19684f(0x13c)]],_0x423b0f[_0x19684f(0x126)]=_0x58b642;const _0x1396cb=_0x423b0f,_0x584e32=await _0xb58020[_0x19684f(0x130)](_0x1396cb)[_0x19684f(0x156)]();logger[_0x19684f(0x13a)](_0x1d3c68[_0x19684f(0x145)]);const _0x49826a={};return _0x49826a[_0x19684f(0x15b)]=_0x584e32[_0x19684f(0x148)],_0xb58020['waitFor'](_0x1d3c68[_0x19684f(0x15a)],_0x49826a)[_0x19684f(0x156)]();};