function a28_0x1136(){const _0x3431c7=['2768772MMhogN','schema','323150QmSrwS','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','split','884711ZoxWBS','toString','Properties','getOidcUrl','RssWC','info','aTNXQ','Tags','readFileAsync','://','promise','3194688NHgoFH','valueOf','387FFsTUp','browserstack:creationDate','CloudFormation','./AWSUtils','Capabilities','xKhTz','pbQEg','promisifyAll','path','Resources','uZkJr','sEypN','cvoNk','load','push','VpcId','DRuqX','ILotb','OCiaH','896208YtZuxq','11364DUlWJB','js-yaml-cloudformation-schema','295977Zhutyx','20Ziqzwq','bluebird','../config/logger','createHubHaStack','utf-8','StackName','TemplateBody','CAPABILITY_NAMED_IAM','vlwHa','-cf','ClusterOIDCURL','DELETE','MtTKz','4490TloGGs','hXHBo','CFTemplates','uuLby','2010-05-15','waitFor','StackId','Value','BaseResourceName'];a28_0x1136=function(){return _0x3431c7;};return a28_0x1136();}function a28_0x2deb(_0x285b79,_0x10d44d){const _0x113683=a28_0x1136();return a28_0x2deb=function(_0x2debbf,_0x2c0e57){_0x2debbf=_0x2debbf-0x17c;let _0x5188f8=_0x113683[_0x2debbf];return _0x5188f8;},a28_0x2deb(_0x285b79,_0x10d44d);}const a28_0x4f6639=a28_0x2deb;(function(_0x133b5a,_0x3bce83){const _0x3e7a11=a28_0x2deb,_0x426b9b=_0x133b5a();while(!![]){try{const _0x55447b=parseInt(_0x3e7a11(0x18e))/0x1+parseInt(_0x3e7a11(0x189))/0x2+-parseInt(_0x3e7a11(0x1b1))/0x3*(parseInt(_0x3e7a11(0x1b2))/0x4)+parseInt(_0x3e7a11(0x180))/0x5*(-parseInt(_0x3e7a11(0x1af))/0x6)+-parseInt(_0x3e7a11(0x199))/0x7+-parseInt(_0x3e7a11(0x1ae))/0x8+parseInt(_0x3e7a11(0x19b))/0x9*(parseInt(_0x3e7a11(0x18b))/0xa);if(_0x55447b===_0x3bce83)break;else _0x426b9b['push'](_0x426b9b['shift']());}catch(_0x597cf0){_0x426b9b['push'](_0x426b9b['shift']());}}}(a28_0x1136,0xdac7d));const fs=require('fs'),path=require(a28_0x4f6639(0x1a3)),Promise=require(a28_0x4f6639(0x1b3)),yaml=require('js-yaml'),{CLOUDFORMATION_SCHEMA}=require(a28_0x4f6639(0x1b0)),AWS=require(a28_0x4f6639(0x19e))['awsObj'],AWSUtils=require(a28_0x4f6639(0x19e)),{CLUSTER_HUB_HA_STACK_NAME,COMMON_HST_TAGS}=require('../config/constants'),{logger}=require(a28_0x4f6639(0x1b4));Promise[a28_0x4f6639(0x1a2)](fs);const addTags=async(_0x14adeb,_0x42e0f3)=>{const _0x3db59b=a28_0x4f6639;for(const _0x45994f in _0x14adeb[_0x3db59b(0x1a4)]){_0x14adeb[_0x3db59b(0x1a4)][_0x45994f][_0x3db59b(0x190)]&&_0x14adeb['Resources'][_0x45994f][_0x3db59b(0x190)][_0x3db59b(0x195)]&&_0x14adeb[_0x3db59b(0x1a4)][_0x45994f]['Properties'][_0x3db59b(0x195)][_0x3db59b(0x1a9)](..._0x42e0f3);}};exports[a28_0x4f6639(0x1b5)]=async(_0xeaa3e4,_0xbcffd=null)=>{const _0x13ac53=a28_0x4f6639,_0x37927c={'sEypN':'browserstack:cluster','MtTKz':_0x13ac53(0x19c),'ZDFcS':_0x13ac53(0x184),'RssWC':_0x13ac53(0x182),'OCiaH':'hub-ha.yaml','xKhTz':_0x13ac53(0x1b6),'uZkJr':function(_0x584386,_0x29166c,_0x1a0fdc){return _0x584386(_0x29166c,_0x1a0fdc);},'DRuqX':_0x13ac53(0x197),'hXHBo':_0x13ac53(0x17e),'cvoNk':_0x13ac53(0x1aa),'aTNXQ':_0x13ac53(0x188),'ILotb':_0x13ac53(0x17d),'vlwHa':_0x13ac53(0x1b9),'pbQEg':_0x13ac53(0x18c),'uuLby':'stackCreateComplete'},_0x42d87d=COMMON_HST_TAGS,_0x53e5f1={};_0x53e5f1['Key']=_0x37927c[_0x13ac53(0x1a6)],_0x53e5f1[_0x13ac53(0x187)]=_0xeaa3e4,_0x42d87d[_0x13ac53(0x1a9)](_0x53e5f1),_0x42d87d[_0x13ac53(0x1a9)]({'Key':_0x37927c[_0x13ac53(0x17f)],'Value':new Date()[_0x13ac53(0x19a)]()[_0x13ac53(0x18f)]()});const _0x22f5c8={};_0x22f5c8['apiVersion']=_0x37927c['ZDFcS'];const _0xce4987=new AWS[(_0x13ac53(0x19d))](_0x22f5c8),_0x490689=await fs[_0x13ac53(0x196)](path['join'](__dirname,'..',_0x37927c[_0x13ac53(0x192)],_0x37927c[_0x13ac53(0x1ad)]),_0x37927c[_0x13ac53(0x1a0)]),_0x5ab460={};_0x5ab460[_0x13ac53(0x18a)]=CLOUDFORMATION_SCHEMA;const _0x231b8f=yaml[_0x13ac53(0x1a8)](_0x490689,_0x5ab460);await _0x37927c[_0x13ac53(0x1a5)](addTags,_0x231b8f,_0x42d87d);const _0xbcf76d=JSON['stringify'](_0x231b8f);let _0x4d0be1=await AWSUtils[_0x13ac53(0x191)](_0xeaa3e4);_0x4d0be1=_0x4d0be1[_0x13ac53(0x18d)](_0x37927c[_0x13ac53(0x1ab)])[0x1];const _0x5e8bca={};_0x5e8bca[_0x13ac53(0x1b7)]=CLUSTER_HUB_HA_STACK_NAME+'-'+_0xeaa3e4+_0x13ac53(0x17c),_0x5e8bca['OnFailure']=_0x37927c[_0x13ac53(0x181)],_0x5e8bca[_0x13ac53(0x1b8)]=_0xbcf76d,_0x5e8bca['Parameters']=[{'ParameterKey':_0x37927c[_0x13ac53(0x1a7)],'ParameterValue':_0xbcffd},{'ParameterKey':_0x37927c[_0x13ac53(0x194)],'ParameterValue':CLUSTER_HUB_HA_STACK_NAME+'-'+_0xeaa3e4},{'ParameterKey':_0x37927c[_0x13ac53(0x1ac)],'ParameterValue':_0x4d0be1}],_0x5e8bca[_0x13ac53(0x19f)]=[_0x37927c[_0x13ac53(0x1ba)]],_0x5e8bca[_0x13ac53(0x195)]=_0x42d87d;const _0x36657e=_0x5e8bca,_0x1f6573=await _0xce4987['createStack'](_0x36657e)[_0x13ac53(0x198)]();logger[_0x13ac53(0x193)](_0x37927c[_0x13ac53(0x1a1)]);const _0x289521={};return _0x289521[_0x13ac53(0x1b7)]=_0x1f6573[_0x13ac53(0x186)],_0xce4987[_0x13ac53(0x185)](_0x37927c[_0x13ac53(0x183)],_0x289521)[_0x13ac53(0x198)]();};