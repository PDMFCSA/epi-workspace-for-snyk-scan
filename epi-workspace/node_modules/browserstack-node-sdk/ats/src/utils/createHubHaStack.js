function a28_0x2b1f(){const _0xd912da=['68198rCGjXq','XGvBz','../config/constants','RPjsa','faoVa','411249FJheJS','waitFor','utf-8','LBsUN','TemplateBody','valueOf','-cf','apiVersion','push','Value','VPTAC','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','UdjFT','promisifyAll','60JHRngO','BaseResourceName','hlyxg','Capabilities','browserstack:cluster','7MSuuDP','6059948hYeNDj','join','Properties','awsObj','ClusterOIDCURL','VpcId','11WlQciD','./AWSUtils','bluebird','jjDtj','16kCdCyj','js-yaml','Parameters','split','7866708tkZLrc','6973299OrrofC','CAPABILITY_NAMED_IAM','DELETE','hub-ha.yaml','StackName','promise','73453420cocWnp','stringify','Tags','CloudFormation','CFTemplates','createHubHaStack','iMojj','path','schema','4997750cQFlaX','js-yaml-cloudformation-schema','createStack','PkIud','info'];a28_0x2b1f=function(){return _0xd912da;};return a28_0x2b1f();}const a28_0x506e76=a28_0x44ae;(function(_0x1dfa06,_0x2e338f){const _0x39c343=a28_0x44ae,_0x365cb0=_0x1dfa06();while(!![]){try{const _0x2d20a2=-parseInt(_0x39c343(0x1f0))/0x1+-parseInt(_0x39c343(0x1eb))/0x2*(parseInt(_0x39c343(0x1c2))/0x3)+-parseInt(_0x39c343(0x1c8))/0x4+-parseInt(_0x39c343(0x1e6))/0x5+-parseInt(_0x39c343(0x1d6))/0x6*(parseInt(_0x39c343(0x1c7))/0x7)+parseInt(_0x39c343(0x1d2))/0x8*(-parseInt(_0x39c343(0x1d7))/0x9)+-parseInt(_0x39c343(0x1dd))/0xa*(-parseInt(_0x39c343(0x1ce))/0xb);if(_0x2d20a2===_0x2e338f)break;else _0x365cb0['push'](_0x365cb0['shift']());}catch(_0x453d33){_0x365cb0['push'](_0x365cb0['shift']());}}}(a28_0x2b1f,0xd6124));const fs=require('fs'),path=require(a28_0x506e76(0x1e4)),Promise=require(a28_0x506e76(0x1d0)),yaml=require(a28_0x506e76(0x1d3)),{CLOUDFORMATION_SCHEMA}=require(a28_0x506e76(0x1e7)),AWS=require(a28_0x506e76(0x1cf))[a28_0x506e76(0x1cb)],AWSUtils=require(a28_0x506e76(0x1cf)),{CLUSTER_HUB_HA_STACK_NAME,COMMON_HST_TAGS}=require(a28_0x506e76(0x1ed)),{logger}=require('../config/logger');function a28_0x44ae(_0xf6dca5,_0x30c035){const _0x2b1f1e=a28_0x2b1f();return a28_0x44ae=function(_0x44aeb5,_0x35e3a6){_0x44aeb5=_0x44aeb5-0x1b7;let _0x512f41=_0x2b1f1e[_0x44aeb5];return _0x512f41;},a28_0x44ae(_0xf6dca5,_0x30c035);}Promise[a28_0x506e76(0x1c1)](fs);const addTags=async(_0xfeddbe,_0x171ec7)=>{const _0x240c38=a28_0x506e76;for(const _0x402268 in _0xfeddbe['Resources']){_0xfeddbe['Resources'][_0x402268][_0x240c38(0x1ca)]&&_0xfeddbe['Resources'][_0x402268][_0x240c38(0x1ca)][_0x240c38(0x1df)]&&_0xfeddbe['Resources'][_0x402268][_0x240c38(0x1ca)][_0x240c38(0x1df)]['push'](..._0x171ec7);}};exports[a28_0x506e76(0x1e2)]=async(_0x4bffb6,_0x17d07d=null)=>{const _0x173afb=a28_0x506e76,_0x331b52={'xFtGL':_0x173afb(0x1c6),'faoVa':'browserstack:creationDate','HVVjt':'2010-05-15','udAKw':_0x173afb(0x1e1),'MGfVO':_0x173afb(0x1da),'UdjFT':_0x173afb(0x1f2),'LBsUN':function(_0x5a3242,_0x1f20f3,_0x3b127c){return _0x5a3242(_0x1f20f3,_0x3b127c);},'UoBXy':'://','iMojj':_0x173afb(0x1d9),'jjDtj':_0x173afb(0x1cd),'VPTAC':_0x173afb(0x1c3),'RPjsa':_0x173afb(0x1cc),'PkIud':_0x173afb(0x1d8),'hlyxg':_0x173afb(0x1bf),'XGvBz':'stackCreateComplete'},_0x5d2e6b=COMMON_HST_TAGS,_0x2c8efe={};_0x2c8efe['Key']=_0x331b52['xFtGL'],_0x2c8efe[_0x173afb(0x1bd)]=_0x4bffb6,_0x5d2e6b[_0x173afb(0x1bc)](_0x2c8efe),_0x5d2e6b[_0x173afb(0x1bc)]({'Key':_0x331b52[_0x173afb(0x1ef)],'Value':new Date()[_0x173afb(0x1b9)]()['toString']()});const _0x40a2d6={};_0x40a2d6[_0x173afb(0x1bb)]=_0x331b52['HVVjt'];const _0xcfdde2=new AWS[(_0x173afb(0x1e0))](_0x40a2d6),_0x34fcc7=await fs['readFileAsync'](path[_0x173afb(0x1c9)](__dirname,'..',_0x331b52['udAKw'],_0x331b52['MGfVO']),_0x331b52[_0x173afb(0x1c0)]),_0x4ae0bf={};_0x4ae0bf[_0x173afb(0x1e5)]=CLOUDFORMATION_SCHEMA;const _0x4f420f=yaml['load'](_0x34fcc7,_0x4ae0bf);await _0x331b52[_0x173afb(0x1b7)](addTags,_0x4f420f,_0x5d2e6b);const _0x2a27ce=JSON[_0x173afb(0x1de)](_0x4f420f);let _0x24db88=await AWSUtils['getOidcUrl'](_0x4bffb6);_0x24db88=_0x24db88[_0x173afb(0x1d5)](_0x331b52['UoBXy'])[0x1];const _0x54431e={};_0x54431e[_0x173afb(0x1db)]=CLUSTER_HUB_HA_STACK_NAME+'-'+_0x4bffb6+_0x173afb(0x1ba),_0x54431e['OnFailure']=_0x331b52[_0x173afb(0x1e3)],_0x54431e[_0x173afb(0x1b8)]=_0x2a27ce,_0x54431e[_0x173afb(0x1d4)]=[{'ParameterKey':_0x331b52[_0x173afb(0x1d1)],'ParameterValue':_0x17d07d},{'ParameterKey':_0x331b52[_0x173afb(0x1be)],'ParameterValue':CLUSTER_HUB_HA_STACK_NAME+'-'+_0x4bffb6},{'ParameterKey':_0x331b52[_0x173afb(0x1ee)],'ParameterValue':_0x24db88}],_0x54431e[_0x173afb(0x1c5)]=[_0x331b52[_0x173afb(0x1e9)]],_0x54431e[_0x173afb(0x1df)]=_0x5d2e6b;const _0x4b5765=_0x54431e,_0x5e6085=await _0xcfdde2[_0x173afb(0x1e8)](_0x4b5765)['promise']();logger[_0x173afb(0x1ea)](_0x331b52[_0x173afb(0x1c4)]);const _0x56edc9={};return _0x56edc9[_0x173afb(0x1db)]=_0x5e6085['StackId'],_0xcfdde2[_0x173afb(0x1f1)](_0x331b52[_0x173afb(0x1ec)],_0x56edc9)[_0x173afb(0x1dc)]();};