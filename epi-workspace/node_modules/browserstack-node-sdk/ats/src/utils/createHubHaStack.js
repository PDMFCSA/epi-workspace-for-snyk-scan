function a28_0x43fa(){const _0x316f1b=['2564335FhTzuU','PqBAD','js-yaml-cloudformation-schema','StackName','578571mZThfA','Kewas','-cf','js-yaml','createStack','Cvpwv','60nIDZAw','StackId','Tags','Parameters','schema','VpcId','./AWSUtils','oSygG','promise','awsObj','DELETE','info','createHubHaStack','../config/constants','1206270JUvsQE','hub-ha.yaml','zGcbq','Properties','DQZYp','browserstack:cluster','AvZUA','TemplateBody','FRsia','582884RknzZW','readFileAsync','2010-05-15','Resources','promisifyAll','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','CFTemplates','uXYcc','BaseResourceName','113272ARxImM','eXdAW','apiVersion','browserstack:creationDate','1846952BaHmRc','getOidcUrl','oIBJk','utf-8','2719448CNEYfz','push','../config/logger','waitFor','split','load'];a28_0x43fa=function(){return _0x316f1b;};return a28_0x43fa();}function a28_0x3452(_0x4b6071,_0x224a1c){const _0x43fa33=a28_0x43fa();return a28_0x3452=function(_0x345228,_0x58b3a2){_0x345228=_0x345228-0x1e4;let _0x59843c=_0x43fa33[_0x345228];return _0x59843c;},a28_0x3452(_0x4b6071,_0x224a1c);}const a28_0x2cc9c7=a28_0x3452;(function(_0x130b00,_0x1078a1){const _0x30a4e3=a28_0x3452,_0xcd37e3=_0x130b00();while(!![]){try{const _0x3766c8=parseInt(_0x30a4e3(0x1f1))/0x1+-parseInt(_0x30a4e3(0x1e8))/0x2+parseInt(_0x30a4e3(0x217))/0x3+-parseInt(_0x30a4e3(0x1f9))/0x4+parseInt(_0x30a4e3(0x1ff))/0x5+parseInt(_0x30a4e3(0x209))/0x6*(parseInt(_0x30a4e3(0x203))/0x7)+-parseInt(_0x30a4e3(0x1f5))/0x8;if(_0x3766c8===_0x1078a1)break;else _0xcd37e3['push'](_0xcd37e3['shift']());}catch(_0x575de3){_0xcd37e3['push'](_0xcd37e3['shift']());}}}(a28_0x43fa,0x9f52a));const fs=require('fs'),path=require('path'),Promise=require('bluebird'),yaml=require(a28_0x2cc9c7(0x206)),{CLOUDFORMATION_SCHEMA}=require(a28_0x2cc9c7(0x201)),AWS=require(a28_0x2cc9c7(0x20f))[a28_0x2cc9c7(0x212)],AWSUtils=require(a28_0x2cc9c7(0x20f)),{CLUSTER_HUB_HA_STACK_NAME,COMMON_HST_TAGS}=require(a28_0x2cc9c7(0x216)),{logger}=require(a28_0x2cc9c7(0x1fb));Promise[a28_0x2cc9c7(0x1ec)](fs);const addTags=async(_0x3b75b9,_0x1c527d)=>{const _0x3c37a1=a28_0x2cc9c7;for(const _0x2048e6 in _0x3b75b9[_0x3c37a1(0x1eb)]){_0x3b75b9[_0x3c37a1(0x1eb)][_0x2048e6][_0x3c37a1(0x21a)]&&_0x3b75b9[_0x3c37a1(0x1eb)][_0x2048e6][_0x3c37a1(0x21a)][_0x3c37a1(0x20b)]&&_0x3b75b9[_0x3c37a1(0x1eb)][_0x2048e6]['Properties']['Tags']['push'](..._0x1c527d);}};exports[a28_0x2cc9c7(0x215)]=async(_0x1a48c4,_0x1d2103=null)=>{const _0x4c33e6=a28_0x2cc9c7,_0x3b361c={'XQTXQ':_0x4c33e6(0x1e4),'VLhSk':_0x4c33e6(0x1f4),'zGcbq':_0x4c33e6(0x1ea),'AvZUA':_0x4c33e6(0x1ee),'DQZYp':_0x4c33e6(0x218),'oSygG':_0x4c33e6(0x1f8),'eXdAW':function(_0x3c0cc5,_0x14594a,_0x2c219e){return _0x3c0cc5(_0x14594a,_0x2c219e);},'PqBAD':'://','uXYcc':_0x4c33e6(0x213),'FRsia':_0x4c33e6(0x20e),'Cvpwv':_0x4c33e6(0x1f0),'oIBJk':'ClusterOIDCURL','cThsu':'CAPABILITY_NAMED_IAM','Kewas':_0x4c33e6(0x1ed),'wQwsY':'stackCreateComplete'},_0x260fcf=COMMON_HST_TAGS,_0x46e752={};_0x46e752['Key']=_0x3b361c['XQTXQ'],_0x46e752['Value']=_0x1a48c4,_0x260fcf[_0x4c33e6(0x1fa)](_0x46e752),_0x260fcf['push']({'Key':_0x3b361c['VLhSk'],'Value':new Date()['valueOf']()['toString']()});const _0x47ff02={};_0x47ff02[_0x4c33e6(0x1f3)]=_0x3b361c[_0x4c33e6(0x219)];const _0x1f500a=new AWS['CloudFormation'](_0x47ff02),_0x2b217d=await fs[_0x4c33e6(0x1e9)](path['join'](__dirname,'..',_0x3b361c[_0x4c33e6(0x1e5)],_0x3b361c[_0x4c33e6(0x21b)]),_0x3b361c[_0x4c33e6(0x210)]),_0x585ede={};_0x585ede[_0x4c33e6(0x20d)]=CLOUDFORMATION_SCHEMA;const _0x5952db=yaml[_0x4c33e6(0x1fe)](_0x2b217d,_0x585ede);await _0x3b361c[_0x4c33e6(0x1f2)](addTags,_0x5952db,_0x260fcf);const _0x257ad3=JSON['stringify'](_0x5952db);let _0x5142f2=await AWSUtils[_0x4c33e6(0x1f6)](_0x1a48c4);_0x5142f2=_0x5142f2[_0x4c33e6(0x1fd)](_0x3b361c[_0x4c33e6(0x200)])[0x1];const _0x2ac586={};_0x2ac586[_0x4c33e6(0x202)]=CLUSTER_HUB_HA_STACK_NAME+'-'+_0x1a48c4+_0x4c33e6(0x205),_0x2ac586['OnFailure']=_0x3b361c[_0x4c33e6(0x1ef)],_0x2ac586[_0x4c33e6(0x1e6)]=_0x257ad3,_0x2ac586[_0x4c33e6(0x20c)]=[{'ParameterKey':_0x3b361c[_0x4c33e6(0x1e7)],'ParameterValue':_0x1d2103},{'ParameterKey':_0x3b361c[_0x4c33e6(0x208)],'ParameterValue':CLUSTER_HUB_HA_STACK_NAME+'-'+_0x1a48c4},{'ParameterKey':_0x3b361c[_0x4c33e6(0x1f7)],'ParameterValue':_0x5142f2}],_0x2ac586['Capabilities']=[_0x3b361c['cThsu']],_0x2ac586['Tags']=_0x260fcf;const _0x475bc6=_0x2ac586,_0x1e5b2f=await _0x1f500a[_0x4c33e6(0x207)](_0x475bc6)[_0x4c33e6(0x211)]();logger[_0x4c33e6(0x214)](_0x3b361c[_0x4c33e6(0x204)]);const _0x1111bc={};return _0x1111bc[_0x4c33e6(0x202)]=_0x1e5b2f[_0x4c33e6(0x20a)],_0x1f500a[_0x4c33e6(0x1fc)](_0x3b361c['wQwsY'],_0x1111bc)[_0x4c33e6(0x211)]();};