const a27_0x4a9669=a27_0x123b;(function(_0x1e8f5c,_0x4e12a1){const _0x2ca639=a27_0x123b,_0x404e27=_0x1e8f5c();while(!![]){try{const _0x537e4f=-parseInt(_0x2ca639(0x10b))/0x1+-parseInt(_0x2ca639(0xca))/0x2*(-parseInt(_0x2ca639(0x13d))/0x3)+parseInt(_0x2ca639(0x130))/0x4+parseInt(_0x2ca639(0x113))/0x5+-parseInt(_0x2ca639(0x141))/0x6+parseInt(_0x2ca639(0x105))/0x7*(parseInt(_0x2ca639(0x103))/0x8)+parseInt(_0x2ca639(0xdb))/0x9*(-parseInt(_0x2ca639(0xec))/0xa);if(_0x537e4f===_0x4e12a1)break;else _0x404e27['push'](_0x404e27['shift']());}catch(_0x1f7749){_0x404e27['push'](_0x404e27['shift']());}}}(a27_0xdaaf,0xbb0bc));const fs=require('fs'),path=require('path'),Promise=require(a27_0x4a9669(0x14a)),yaml=require(a27_0x4a9669(0xb8)),{CLOUDFORMATION_SCHEMA}=require(a27_0x4a9669(0x106)),AWS=require('./AWSUtils')['awsObj'],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a27_0x4a9669(0x146)),{logger}=require(a27_0x4a9669(0xf9)),{isBucketPresent}=require('./AWSUtils');function a27_0x123b(_0x2dec7c,_0x274750){const _0xdaaf19=a27_0xdaaf();return a27_0x123b=function(_0x123b37,_0x445ed0){_0x123b37=_0x123b37-0x9d;let _0x2be46d=_0xdaaf19[_0x123b37];return _0x2be46d;},a27_0x123b(_0x2dec7c,_0x274750);}Promise['promisifyAll'](fs);function a27_0xdaaf(){const _0x6df226=['ClusterName','YYiaR','subnet-create.yaml','ResourcesVpcConfig','Subnet03','promise','toString','NodeAutoScalingGroupDesiredSizeWindows','-NodeGroup','pstZw','JFeLs','RFECq','VpcBlock','4439520kVKUna','ami','CloudFormation','SNdqL','jbPkm','value','NodeAutoScalingGroupMinSize','lfeol','yQJZe','Ref','lCkBf','DependsOn','qoTDy','waitFor','Value','Fn::Join','rycFN','10jfCIYS','Key','Subnet02','htkZW','MPLyJ','ttBBx','UoESJ','qXbiR','keys','readFileAsync','Subnets','ParameterGroups','-Windows-NodeGroup','../config/logger','KapYX','push','iiYaC','load','TaSXp','RMIwy','JmCSl','SstUJ','StackId','5286328IhvApz','browserstack:creationDate','14fdUZjv','js-yaml-cloudformation-schema','debug','Subnet03Block','NodeGroupName','Lejkc','941441WRRnIB','tzzHd','hZUlB','Lmehe','vSUDh','nJgwu','ygPua','IJnNM','5054895aqcPLu','split','cilsD','S3BucketName','utf-8','nqNnf','xrgSt','JivAQ','aws-eks-cluster-dep.yaml','schema','Tags','HeiJL','vpc-import.yaml','tofNa','AZeWP','TczUU','fJanM','createClusterStack','uMJBo','nDCIX','ITPCM','ParameterValue','Capabilities','ajvJe','zCizQ','SDpVg','NodeGroupWindows','QSRhX','xqKNq','1457816KEkpii','PgZiw','CFTemplates','TOkPJ','Parameters','NodeGroup','cInvI','LFPTc','Subnet01','Subnet','BxsbK','KRHSP','subnet-import.yaml','753OsMDab','s3Bucket','fnsEn','gNYBp','9047610ruyKKs','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','forEach','uYxZI','CmSvT','../config/constants','AWtoe','PFMRo','rWTmU','bluebird','bPAlw','MyPvF','XbNgl','aijFe','join','VPC','NodeGroupNameWindows','padStart','kUyeY','HpTDx','MSOMh','apiVersion','eegMA','gTTQz','cnLBZ','AWS::CloudFormation::Interface','ZwekO','EKSCluster','NodeAutoScalingGroupMaxSize','Outputs','stackCreateComplete','cHNUi','SubnetIds','iHoBf','valueOf','browserstack:cluster','stringify','ParameterKey','Metadata','SBJkC','Properties','iLtSR','lMzuA','js-yaml','NodeInstanceType','shraR','YzUlQ','XgANN','NMepM','PNSay','DAZYk','zEoSw','Resources','StackName','2|4|1|3|5|0','createStack','XsZIk','OnFailure','qNnhO','IGvDI','nwaaB','8062sEHSuF','Zjgol','PeYmA','NodeImageId'];a27_0xdaaf=function(){return _0x6df226;};return a27_0xdaaf();}const mergeTemplates=(_0x42baa2,_0x32ee8c)=>{const _0x1dbdf1=a27_0x4a9669,_0x87c81b={};_0x87c81b[_0x1dbdf1(0x133)]=function(_0x4db782,_0x2ba2fc){return _0x4db782===_0x2ba2fc;},_0x87c81b[_0x1dbdf1(0xa5)]='gFzOL',_0x87c81b[_0x1dbdf1(0xeb)]=function(_0x1296af,_0x2560a8){return _0x1296af!==_0x2560a8;},_0x87c81b[_0x1dbdf1(0xd8)]=_0x1dbdf1(0xbf);const _0x3d18c5=_0x87c81b;Object[_0x1dbdf1(0xf4)](_0x32ee8c)[_0x1dbdf1(0x143)](_0x5853f0=>{const _0x524ae7=_0x1dbdf1;if(_0x3d18c5[_0x524ae7(0xeb)](_0x3d18c5[_0x524ae7(0xd8)],_0x3d18c5[_0x524ae7(0xd8)]))_0x1ee9f0[_0x487567['Key']]=_0x3342ba['Value'];else{var _0x8b3f2a=_0x32ee8c[_0x5853f0];Object[_0x524ae7(0xf4)](_0x8b3f2a)['forEach'](_0x198f30=>{const _0x48609a=_0x524ae7;_0x3d18c5[_0x48609a(0x133)](_0x3d18c5[_0x48609a(0xa5)],_0x3d18c5[_0x48609a(0xa5)])?_0x42baa2[_0x5853f0][_0x198f30]=_0x8b3f2a[_0x198f30]:_0x38d9fc[_0x48609a(0xf4)](_0x554b57)[_0x48609a(0x143)](_0x572596=>{const _0x2247da=_0x48609a;var _0x33e9b2=_0x6664e0[_0x572596];_0xe631b3[_0x2247da(0xf4)](_0x33e9b2)['forEach'](_0x338055=>{_0x10feb3[_0x572596][_0x338055]=_0x33e9b2[_0x338055];});});});}});},addVPCData=async(_0x274c32,_0x1dd939)=>{const _0x4c2b2d=a27_0x4a9669,_0x9ab5e0={'bPAlw':function(_0x4fe99a,_0x320c65){return _0x4fe99a(_0x320c65);},'HeiJL':function(_0x4c6128,_0x243c92){return _0x4c6128!==_0x243c92;},'uMJBo':_0x4c2b2d(0xba),'SmHcz':'CFTemplates','NMYBB':_0x4c2b2d(0x11f),'xrgSt':_0x4c2b2d(0x117),'Avtkn':function(_0x1819b3,_0x1c373c,_0x3d09da){return _0x1819b3(_0x1c373c,_0x3d09da);},'uYxZI':_0x4c2b2d(0xa6),'Lejkc':'VPC','qXbiR':function(_0x36cb97,_0x526d76){return _0x36cb97===_0x526d76;},'HpTDx':'bzDZc','fJanM':'vpc-create.yaml','KRHSP':function(_0x16ec8e,_0x260118,_0x1eafc2){return _0x16ec8e(_0x260118,_0x1eafc2);},'IGvDI':_0x4c2b2d(0xda)};if(_0x1dd939){if(_0x9ab5e0[_0x4c2b2d(0x11e)](_0x9ab5e0[_0x4c2b2d(0x125)],_0x9ab5e0['uMJBo']))_0x43b7f8[_0x4c2b2d(0x134)][_0x4c2b2d(0xfb)]({'ParameterKey':_0x4c2b2d(0x139)+_0x9ab5e0[_0x4c2b2d(0x14b)](_0x51e615,_0x512fb6)[_0x4c2b2d(0x9e)](0x2,'0'),'ParameterValue':_0x3f5cbc[_0x4c2b2d(0xe0)]}),_0x46ca85+=0x1;else{const _0x339de7=await fs[_0x4c2b2d(0xf5)](path['join'](__dirname,'..',_0x9ab5e0['SmHcz'],_0x9ab5e0['NMYBB']),_0x9ab5e0[_0x4c2b2d(0x119)]),_0x36346b={};_0x36346b[_0x4c2b2d(0x11c)]=CLOUDFORMATION_SCHEMA;const _0x3e5219=yaml[_0x4c2b2d(0xfd)](_0x339de7,_0x36346b);_0x9ab5e0['Avtkn'](mergeTemplates,_0x274c32,_0x3e5219),_0x274c32[_0x4c2b2d(0xb3)][_0x9ab5e0[_0x4c2b2d(0x144)]][_0x4c2b2d(0xf7)][0x0][_0x4c2b2d(0x134)]['push'](_0x9ab5e0[_0x4c2b2d(0x10a)]);}}else{if(_0x9ab5e0[_0x4c2b2d(0xf3)](_0x9ab5e0['HpTDx'],_0x9ab5e0[_0x4c2b2d(0xa0)])){const _0x1b476f=await fs[_0x4c2b2d(0xf5)](path[_0x4c2b2d(0x14f)](__dirname,'..',_0x9ab5e0['SmHcz'],_0x9ab5e0[_0x4c2b2d(0x123)]),_0x9ab5e0['xrgSt']),_0x10c872={};_0x10c872[_0x4c2b2d(0x11c)]=CLOUDFORMATION_SCHEMA;const _0x5f3136=yaml[_0x4c2b2d(0xfd)](_0x1b476f,_0x10c872);_0x9ab5e0[_0x4c2b2d(0x13b)](mergeTemplates,_0x274c32,_0x5f3136),_0x274c32[_0x4c2b2d(0xb3)][_0x9ab5e0[_0x4c2b2d(0x144)]][_0x4c2b2d(0xf7)][0x0][_0x4c2b2d(0x134)]['push'](_0x9ab5e0[_0x4c2b2d(0xc8)]);}else _0x33f319[_0x480473][_0x5467f9]=_0x4c5dbb[_0x39973e];}},addS3Data=async _0x15346a=>{const _0x5ea771=a27_0x4a9669,_0x5e67ea={'cilsD':'NodeGroup','zCizQ':_0x5ea771(0x12d),'ttBBx':'CFTemplates','IJnNM':'s3-create.yaml','nwaaB':_0x5ea771(0x117),'UoESJ':function(_0x53a294,_0x14968f){return _0x53a294(_0x14968f);},'RMIwy':function(_0x275ce9,_0x12db6d){return _0x275ce9===_0x12db6d;},'Elkwl':function(_0x4eb9b8,_0x200a4a){return _0x4eb9b8===_0x200a4a;},'RFECq':'tsEcM','Lmehe':function(_0x2bb07a,_0x5a1106,_0x399019){return _0x2bb07a(_0x5a1106,_0x399019);}},_0x1891a1=await fs[_0x5ea771(0xf5)](path[_0x5ea771(0x14f)](__dirname,'..',_0x5e67ea[_0x5ea771(0xf1)],_0x5e67ea[_0x5ea771(0x112)]),_0x5e67ea[_0x5ea771(0xc9)]),_0x320ea6={};_0x320ea6[_0x5ea771(0x11c)]=CLOUDFORMATION_SCHEMA;const _0x53d2bb=yaml['load'](_0x1891a1,_0x320ea6),_0x5dfc3f=await _0x5e67ea[_0x5ea771(0xf2)](isBucketPresent,global_registry['s3Bucket']);if(_0x5e67ea[_0x5ea771(0xff)](_0x5dfc3f,![])){if(_0x5e67ea['Elkwl'](_0x5e67ea['RFECq'],_0x5e67ea[_0x5ea771(0xd9)]))_0x5e67ea[_0x5ea771(0x10e)](mergeTemplates,_0x15346a,_0x53d2bb);else{for(const _0x55c1a3 in _0x3f9cab[_0x5ea771(0xc1)]){_0x243251[_0x5ea771(0xc1)][_0x55c1a3]['Properties']&&_0x3a4c92[_0x5ea771(0xc1)][_0x55c1a3]['Properties'][_0x5ea771(0x11d)]&&_0x39843c[_0x5ea771(0xc1)][_0x55c1a3]['Properties'][_0x5ea771(0x11d)][_0x5ea771(0xfb)](..._0xd55036);}const _0x4b219c={};_0x2ed82e['forEach'](_0x39960f=>{const _0x400a10=_0x5ea771;_0x4b219c[_0x39960f[_0x400a10(0xed)]]=_0x39960f[_0x400a10(0xe9)];}),_0x4c8ffc[_0x5ea771(0xc1)][_0x5e67ea[_0x5ea771(0x115)]][_0x5ea771(0xb5)][_0x5ea771(0x11d)]=_0x4b219c,_0x361e5f['Resources'][_0x5e67ea[_0x5ea771(0x12b)]][_0x5ea771(0xb5)][_0x5ea771(0x11d)]=_0x4b219c;}}},addSubnetData=async(_0x4525a2,_0x25ec93)=>{const _0x5ab0d3=a27_0x4a9669,_0x4aafd3={'SBJkC':function(_0x3f19c6,_0x227922){return _0x3f19c6!==_0x227922;},'ZlsPi':_0x5ab0d3(0xfc),'tzzHd':_0x5ab0d3(0x120),'xqKNq':_0x5ab0d3(0xc3),'BxsbK':function(_0x3d7f6,_0x43725e){return _0x3d7f6(_0x43725e);},'SDpVg':function(_0x18f0bf,_0x3b0261){return _0x18f0bf(_0x3b0261);},'nDCIX':'AWS::CloudFormation::Interface','AWtoe':_0x5ab0d3(0xea),'iLtSR':function(_0x285c3c,_0x15ea2f,_0x24992b){return _0x285c3c(_0x15ea2f,_0x24992b);},'dsnTM':_0x5ab0d3(0x12e),'yQJZe':_0x5ab0d3(0xb7),'SNdqL':_0x5ab0d3(0x132),'MjxJo':_0x5ab0d3(0x13c),'cInvI':_0x5ab0d3(0x117),'VfrkV':function(_0x2dbe8c,_0x1eaf31){return _0x2dbe8c===_0x1eaf31;},'CmSvT':_0x5ab0d3(0xd7),'ITPCM':_0x5ab0d3(0xd0),'XbNgl':_0x5ab0d3(0x138),'gTTQz':_0x5ab0d3(0xee),'KapYX':_0x5ab0d3(0xd2),'PNSay':'Subnet01Block','rWTmU':'Subnet02Block','JivAQ':_0x5ab0d3(0x108)};if(_0x25ec93){if(_0x4aafd3[_0x5ab0d3(0xb4)](_0x4aafd3['dsnTM'],_0x4aafd3[_0x5ab0d3(0xe3)])){const _0x5b8d1d=await fs[_0x5ab0d3(0xf5)](path['join'](__dirname,'..',_0x4aafd3[_0x5ab0d3(0xde)],_0x4aafd3['MjxJo']),_0x4aafd3[_0x5ab0d3(0x136)]),_0x5bdaae={};_0x5bdaae[_0x5ab0d3(0x11c)]=CLOUDFORMATION_SCHEMA;const _0x1edefb=yaml[_0x5ab0d3(0xfd)](_0x5b8d1d,_0x5bdaae);_0x4aafd3[_0x5ab0d3(0xb6)](mergeTemplates,_0x4525a2,_0x1edefb);let _0x2d8780=0x1;_0x25ec93['forEach'](_0x92af48=>{const _0x5cb204=_0x5ab0d3;if(_0x4aafd3[_0x5cb204(0xb4)](_0x4aafd3['ZlsPi'],_0x4aafd3[_0x5cb204(0x10c)])){const _0x1130a0=_0x4aafd3[_0x5cb204(0x12f)][_0x5cb204(0x114)]('|');let _0x32def6=0x0;while(!![]){switch(_0x1130a0[_0x32def6++]){case'0':_0x2d8780+=0x1;continue;case'1':_0x4525a2[_0x5cb204(0xc1)]['NodeGroup']['Properties']['Subnets'][_0x5cb204(0xfb)]({'Ref':'Subnet'+_0x4aafd3[_0x5cb204(0x13a)](String,_0x2d8780)[_0x5cb204(0x9e)](0x2,'0')});continue;case'2':_0x4525a2[_0x5cb204(0xc1)][_0x5cb204(0xa8)][_0x5cb204(0xb5)]['ResourcesVpcConfig'][_0x5cb204(0xad)][_0x5cb204(0xfb)]({'Ref':_0x5cb204(0x139)+_0x4aafd3['BxsbK'](String,_0x2d8780)[_0x5cb204(0x9e)](0x2,'0')});continue;case'3':_0x4525a2[_0x5cb204(0xc1)]['NodeGroupWindows'][_0x5cb204(0xb5)]['Subnets']['push']({'Ref':_0x5cb204(0x139)+_0x4aafd3[_0x5cb204(0x12c)](String,_0x2d8780)[_0x5cb204(0x9e)](0x2,'0')});continue;case'4':_0x4525a2[_0x5cb204(0xb3)][_0x4aafd3[_0x5cb204(0x126)]][_0x5cb204(0xf7)][0x0][_0x5cb204(0x134)][_0x5cb204(0xfb)](_0x5cb204(0x139)+_0x4aafd3[_0x5cb204(0x13a)](String,_0x2d8780)[_0x5cb204(0x9e)](0x2,'0'));continue;case'5':_0x4525a2[_0x5cb204(0xaa)][_0x5cb204(0xad)]['Value'][_0x4aafd3[_0x5cb204(0x147)]][0x1][_0x5cb204(0xfb)]({'Ref':_0x5cb204(0x139)+_0x4aafd3['BxsbK'](String,_0x2d8780)[_0x5cb204(0x9e)](0x2,'0')});continue;}break;}}else _0x53dd76[_0x5cb204(0xc1)][_0x5573a0][_0x5cb204(0xb5)]['Tags'][_0x5cb204(0xfb)](..._0x16f776);});}else _0x6fbd82[_0x5ab0d3(0xc1)][_0x16c335][_0x5ab0d3(0xb5)]&&_0x3e3dab['Resources'][_0x568e55][_0x5ab0d3(0xb5)][_0x5ab0d3(0x11d)]&&_0x4c1a8f[_0x5ab0d3(0xc1)][_0x1799c8][_0x5ab0d3(0xb5)][_0x5ab0d3(0x11d)]['push'](..._0x5a0b11);}else{if(_0x4aafd3['VfrkV'](_0x4aafd3[_0x5ab0d3(0x145)],_0x4aafd3[_0x5ab0d3(0x145)])){const _0x20a931=await fs[_0x5ab0d3(0xf5)](path[_0x5ab0d3(0x14f)](__dirname,'..',_0x4aafd3[_0x5ab0d3(0xde)],_0x4aafd3[_0x5ab0d3(0x127)]),_0x4aafd3['cInvI']),_0x53c85b={};_0x53c85b['schema']=CLOUDFORMATION_SCHEMA;const _0x234e22=yaml[_0x5ab0d3(0xfd)](_0x20a931,_0x53c85b);_0x4aafd3[_0x5ab0d3(0xb6)](mergeTemplates,_0x4525a2,_0x234e22),_0x4525a2['Resources'][_0x5ab0d3(0xa8)][_0x5ab0d3(0xe6)][_0x5ab0d3(0xfb)](_0x4aafd3[_0x5ab0d3(0x14d)],_0x4aafd3[_0x5ab0d3(0xa4)],_0x4aafd3[_0x5ab0d3(0xfa)]);const _0x806af6={};_0x806af6['Ref']=_0x4aafd3['XbNgl'];const _0x27da8f={};_0x27da8f[_0x5ab0d3(0xe4)]=_0x4aafd3[_0x5ab0d3(0xa4)];const _0x2b1f64={};_0x2b1f64[_0x5ab0d3(0xe4)]=_0x4aafd3[_0x5ab0d3(0xfa)],_0x4525a2[_0x5ab0d3(0xc1)]['EKSCluster'][_0x5ab0d3(0xb5)][_0x5ab0d3(0xd1)][_0x5ab0d3(0xad)]=[_0x806af6,_0x27da8f,_0x2b1f64],_0x4525a2['Metadata'][_0x4aafd3[_0x5ab0d3(0x126)]][_0x5ab0d3(0xf7)][0x0][_0x5ab0d3(0x134)]['push'](_0x4aafd3[_0x5ab0d3(0xbe)],_0x4aafd3[_0x5ab0d3(0x149)],_0x4aafd3[_0x5ab0d3(0x11a)]);const _0x12c4d1={};_0x12c4d1['Ref']=_0x4aafd3['XbNgl'];const _0x32a2f6={};_0x32a2f6[_0x5ab0d3(0xe4)]=_0x4aafd3[_0x5ab0d3(0xa4)];const _0x18b84a={};_0x18b84a[_0x5ab0d3(0xe4)]=_0x4aafd3[_0x5ab0d3(0xfa)],_0x4525a2[_0x5ab0d3(0xc1)]['NodeGroup']['Properties'][_0x5ab0d3(0xf6)]=[_0x12c4d1,_0x32a2f6,_0x18b84a];const _0x345195={};_0x345195[_0x5ab0d3(0xe4)]=_0x4aafd3[_0x5ab0d3(0x14d)];const _0x4e2e47={};_0x4e2e47[_0x5ab0d3(0xe4)]=_0x4aafd3[_0x5ab0d3(0xa4)];const _0x3eba36={};_0x3eba36[_0x5ab0d3(0xe4)]=_0x4aafd3['KapYX'],_0x4525a2[_0x5ab0d3(0xc1)][_0x5ab0d3(0x12d)][_0x5ab0d3(0xb5)][_0x5ab0d3(0xf6)]=[_0x345195,_0x4e2e47,_0x3eba36],_0x4525a2[_0x5ab0d3(0xaa)][_0x5ab0d3(0xad)][_0x5ab0d3(0xe9)][_0x4aafd3[_0x5ab0d3(0x147)]][0x1]=[{'Ref':_0x4aafd3['XbNgl']},{'Ref':_0x4aafd3[_0x5ab0d3(0xa4)]},{'Ref':_0x4aafd3[_0x5ab0d3(0xfa)]}];}else _0x4aafd3[_0x5ab0d3(0xb6)](_0x4eac92,_0x282e49,_0x214409);}},addTags=async(_0x587071,_0x1d25bd,_0x543afb)=>{const _0x23e147=a27_0x4a9669,_0x4b08cd={'ABCBD':_0x23e147(0x150),'MPLyJ':function(_0xc5f0aa,_0x4b10fc){return _0xc5f0aa(_0x4b10fc);},'MyPvF':function(_0xb70601,_0x24f10d){return _0xb70601!==_0x24f10d;},'htkZW':_0x23e147(0x110),'CWuGZ':_0x23e147(0xcc),'JnhVS':function(_0x108bd9,_0x285adb){return _0x108bd9!==_0x285adb;},'aijFe':_0x23e147(0xcf),'SstUJ':function(_0x1521cf,_0x31accc){return _0x1521cf!==_0x31accc;},'PgZiw':'XwsNx','PzyDm':_0x23e147(0x135),'XgANN':'NodeGroupWindows'};for(const _0x752b65 in _0x587071[_0x23e147(0xc1)]){if(_0x4b08cd['JnhVS'](_0x4b08cd[_0x23e147(0x14e)],_0x4b08cd[_0x23e147(0x14e)])){var _0x33f863=_0x365f8e[_0x12b74f];_0x450c51[_0x23e147(0xf4)](_0x33f863)['forEach'](_0x254d63=>{_0x1fde1e[_0x34d1ab][_0x254d63]=_0x33f863[_0x254d63];});}else{if(_0x587071[_0x23e147(0xc1)][_0x752b65][_0x23e147(0xb5)]&&_0x587071[_0x23e147(0xc1)][_0x752b65][_0x23e147(0xb5)]['Tags']){if(_0x4b08cd[_0x23e147(0x101)](_0x4b08cd[_0x23e147(0x131)],_0x4b08cd[_0x23e147(0x131)])){const _0x3f303d={};_0x3f303d[_0x23e147(0xb2)]=_0x4b08cd['ABCBD'],_0x3f303d['ParameterValue']=_0x243255,_0x2a7ed2[_0x23e147(0x134)]['push'](_0x3f303d);}else _0x587071[_0x23e147(0xc1)][_0x752b65]['Properties']['Tags'][_0x23e147(0xfb)](..._0x543afb);}}}const _0x207e20={};_0x543afb['forEach'](_0x302ccb=>{const _0x532ded=_0x23e147,_0x5894a6={'YmjpB':function(_0x1addf3,_0x678ad){const _0x20933d=a27_0x123b;return _0x4b08cd[_0x20933d(0xf0)](_0x1addf3,_0x678ad);}};if(_0x4b08cd[_0x532ded(0x14c)](_0x4b08cd[_0x532ded(0xef)],_0x4b08cd['CWuGZ']))_0x207e20[_0x302ccb['Key']]=_0x302ccb[_0x532ded(0xe9)];else{const _0x2f4acb={'ygPua':function(_0xde6ed1,_0x2404a6){return _0x5894a6['YmjpB'](_0xde6ed1,_0x2404a6);}};let _0x3cba97=0x1;_0x417e3a[_0x532ded(0x143)](_0x4f10ba=>{const _0x36902b=_0x532ded;_0x504aa7[_0x36902b(0x134)][_0x36902b(0xfb)]({'ParameterKey':_0x36902b(0x139)+_0x2f4acb[_0x36902b(0x111)](_0x28a694,_0x3cba97)[_0x36902b(0x9e)](0x2,'0'),'ParameterValue':_0x4f10ba[_0x36902b(0xe0)]}),_0x3cba97+=0x1;});}}),_0x587071[_0x23e147(0xc1)][_0x4b08cd['PzyDm']]['Properties']['Tags']=_0x207e20,_0x587071[_0x23e147(0xc1)][_0x4b08cd[_0x23e147(0xbc)]][_0x23e147(0xb5)][_0x23e147(0x11d)]=_0x207e20;};exports[a27_0x4a9669(0x124)]=async(_0x137060,_0x37a04f,_0x4c03b5,_0x44b0e7=null,_0x958034=null,_0x25a947)=>{const _0xe7d3f7=a27_0x4a9669,_0x59c57b={'PFMRo':'1|0|5|2|4|3','RdeDw':_0xe7d3f7(0xa6),'eegMA':function(_0x465bbb,_0x2b0c1c){return _0x465bbb(_0x2b0c1c);},'utMfg':function(_0x488557,_0x16ac21){return _0x488557(_0x16ac21);},'MSOMh':'Fn::Join','fnsEn':function(_0x501f84,_0x1e1920){return _0x501f84(_0x1e1920);},'cHNUi':function(_0x5b0bc4,_0x1f6786){return _0x5b0bc4(_0x1f6786);},'nqNnf':_0xe7d3f7(0xb0),'kUyeY':_0xe7d3f7(0x104),'jbPkm':'2010-05-15','fHzfQ':_0xe7d3f7(0x132),'gNYBp':_0xe7d3f7(0x11b),'lCkBf':_0xe7d3f7(0x117),'nopVL':function(_0x18e243,_0x17e930,_0x3a5395){return _0x18e243(_0x17e930,_0x3a5395);},'qNnhO':function(_0x12924f,_0x32933d,_0x1a9ac7){return _0x12924f(_0x32933d,_0x1a9ac7);},'BJoFP':function(_0xa0300a,_0x1f233c,_0x2fb386,_0x46cc4e){return _0xa0300a(_0x1f233c,_0x2fb386,_0x46cc4e);},'nsoFZ':'DELETE','lfeol':_0xe7d3f7(0xce),'TczUU':_0xe7d3f7(0x109),'riUXp':_0xe7d3f7(0xe1),'ekMjk':'NodeAutoScalingGroupMinSizeWindows','ajvJe':_0xe7d3f7(0xd5),'ZwekO':_0xe7d3f7(0xa9),'OpSYn':_0xe7d3f7(0xcd),'LFPTc':_0xe7d3f7(0xb9),'AZeWP':_0xe7d3f7(0x116),'NMepM':_0xe7d3f7(0x9d),'hZUlB':'ClusterAutoUpgrade','vSUDh':'true','zEoSw':'false','YzUlQ':'CAPABILITY_NAMED_IAM','Zjgol':function(_0x46258c,_0x10999a){return _0x46258c!=_0x10999a;},'IaVaT':function(_0x204c94,_0x249c38){return _0x204c94!==_0x249c38;},'TaSXp':function(_0x1ecfd3,_0x5c19e1){return _0x1ecfd3!==_0x5c19e1;},'qoTDy':_0xe7d3f7(0x100),'XsZIk':_0xe7d3f7(0x150),'WCcKY':function(_0x291fb9,_0xc53249){return _0x291fb9!==_0xc53249;},'edEYo':_0xe7d3f7(0x142),'iHoBf':_0xe7d3f7(0xab)},_0x2ade51=COMMON_HST_TAGS,_0x128043={};_0x128043['Key']=_0x59c57b[_0xe7d3f7(0x118)],_0x128043[_0xe7d3f7(0xe9)]=_0x137060,_0x2ade51[_0xe7d3f7(0xfb)](_0x128043),_0x2ade51[_0xe7d3f7(0xfb)]({'Key':_0x59c57b[_0xe7d3f7(0x9f)],'Value':new Date()[_0xe7d3f7(0xaf)]()[_0xe7d3f7(0xd4)]()});const _0xf04b9f={};_0xf04b9f[_0xe7d3f7(0xa2)]=_0x59c57b[_0xe7d3f7(0xdf)];const _0x40c094=new AWS[(_0xe7d3f7(0xdd))](_0xf04b9f),_0x143765=await fs['readFileAsync'](path[_0xe7d3f7(0x14f)](__dirname,'..',_0x59c57b['fHzfQ'],_0x59c57b[_0xe7d3f7(0x140)]),_0x59c57b[_0xe7d3f7(0xe5)]),_0x2aeb4f={};_0x2aeb4f['schema']=CLOUDFORMATION_SCHEMA;const _0x57179a=yaml[_0xe7d3f7(0xfd)](_0x143765,_0x2aeb4f);await _0x59c57b['nopVL'](addVPCData,_0x57179a,_0x44b0e7),await _0x59c57b[_0xe7d3f7(0x13f)](addS3Data,_0x57179a),await _0x59c57b[_0xe7d3f7(0xc7)](addSubnetData,_0x57179a,_0x958034),await _0x59c57b['BJoFP'](addTags,_0x57179a,_0x137060,_0x2ade51);const _0x2a74aa=JSON[_0xe7d3f7(0xb1)](_0x57179a),_0x3a60dc={};_0x3a60dc[_0xe7d3f7(0xc2)]=CLUSTER_DEP_STACK_NAME+'-'+_0x137060,_0x3a60dc[_0xe7d3f7(0xc6)]=_0x59c57b['nsoFZ'],_0x3a60dc['TemplateBody']=_0x2a74aa,_0x3a60dc[_0xe7d3f7(0x134)]=[{'ParameterKey':_0x59c57b[_0xe7d3f7(0xe2)],'ParameterValue':_0x137060},{'ParameterKey':_0x59c57b[_0xe7d3f7(0x122)],'ParameterValue':_0x137060+_0xe7d3f7(0xd6)},{'ParameterKey':_0x59c57b['riUXp'],'ParameterValue':''+_0x37a04f},{'ParameterKey':_0x59c57b['ekMjk'],'ParameterValue':'0'},{'ParameterKey':_0x59c57b[_0xe7d3f7(0x12a)],'ParameterValue':'1'},{'ParameterKey':_0x59c57b[_0xe7d3f7(0xa7)],'ParameterValue':''+_0x4c03b5},{'ParameterKey':_0x59c57b['OpSYn'],'ParameterValue':global_registry[_0xe7d3f7(0xdc)]},{'ParameterKey':_0x59c57b[_0xe7d3f7(0x137)],'ParameterValue':global_registry['instanceType']},{'ParameterKey':_0x59c57b[_0xe7d3f7(0x121)],'ParameterValue':global_registry[_0xe7d3f7(0x13e)]},{'ParameterKey':_0x59c57b[_0xe7d3f7(0xbd)],'ParameterValue':_0x137060+_0xe7d3f7(0xf8)},{'ParameterKey':_0x59c57b[_0xe7d3f7(0x10d)],'ParameterValue':_0x25a947?_0x59c57b[_0xe7d3f7(0x10f)]:_0x59c57b[_0xe7d3f7(0xc0)]}],_0x3a60dc[_0xe7d3f7(0x129)]=[_0x59c57b[_0xe7d3f7(0xbb)]],_0x3a60dc[_0xe7d3f7(0x11d)]=_0x2ade51;const _0x4b93d0=_0x3a60dc;if(_0x59c57b['Zjgol'](_0x44b0e7,null)&&_0x59c57b['IaVaT'](_0x44b0e7,undefined)){if(_0x59c57b[_0xe7d3f7(0xfe)](_0x59c57b[_0xe7d3f7(0xe7)],_0x59c57b[_0xe7d3f7(0xe7)])){const _0x406f7b=_0x59c57b[_0xe7d3f7(0x148)][_0xe7d3f7(0x114)]('|');let _0x47b838=0x0;while(!![]){switch(_0x406f7b[_0x47b838++]){case'0':_0x41405e[_0xe7d3f7(0xb3)][_0x59c57b['RdeDw']][_0xe7d3f7(0xf7)][0x0][_0xe7d3f7(0x134)][_0xe7d3f7(0xfb)](_0xe7d3f7(0x139)+_0x59c57b['eegMA'](_0x2ce05f,_0x4e4187)[_0xe7d3f7(0x9e)](0x2,'0'));continue;case'1':_0x1b1ddd[_0xe7d3f7(0xc1)][_0xe7d3f7(0xa8)][_0xe7d3f7(0xb5)][_0xe7d3f7(0xd1)]['SubnetIds']['push']({'Ref':_0xe7d3f7(0x139)+_0x59c57b[_0xe7d3f7(0xa3)](_0x5a0ef1,_0x2614df)[_0xe7d3f7(0x9e)](0x2,'0')});continue;case'2':_0x58d5e1[_0xe7d3f7(0xc1)][_0xe7d3f7(0x12d)][_0xe7d3f7(0xb5)][_0xe7d3f7(0xf6)]['push']({'Ref':_0xe7d3f7(0x139)+_0x59c57b['utMfg'](_0x447433,_0x168c71)[_0xe7d3f7(0x9e)](0x2,'0')});continue;case'3':_0x4c5404+=0x1;continue;case'4':_0x49e39b[_0xe7d3f7(0xaa)][_0xe7d3f7(0xad)][_0xe7d3f7(0xe9)][_0x59c57b[_0xe7d3f7(0xa1)]][0x1][_0xe7d3f7(0xfb)]({'Ref':_0xe7d3f7(0x139)+_0x59c57b[_0xe7d3f7(0xa3)](_0x5cfc6e,_0x22b748)[_0xe7d3f7(0x9e)](0x2,'0')});continue;case'5':_0x270979['Resources'][_0xe7d3f7(0x135)][_0xe7d3f7(0xb5)]['Subnets'][_0xe7d3f7(0xfb)]({'Ref':_0xe7d3f7(0x139)+_0x59c57b[_0xe7d3f7(0x13f)](_0x429122,_0x29fa8d)[_0xe7d3f7(0x9e)](0x2,'0')});continue;}break;}}else{const _0x517bda={};_0x517bda[_0xe7d3f7(0xb2)]=_0x59c57b[_0xe7d3f7(0xc5)],_0x517bda[_0xe7d3f7(0x128)]=_0x44b0e7,_0x4b93d0['Parameters']['push'](_0x517bda);}}if(_0x59c57b[_0xe7d3f7(0xcb)](_0x958034,null)&&_0x59c57b['WCcKY'](_0x958034,undefined)){let _0x512ef3=0x1;_0x958034[_0xe7d3f7(0x143)](_0x4307e7=>{const _0x34b83b=_0xe7d3f7;_0x4b93d0[_0x34b83b(0x134)][_0x34b83b(0xfb)]({'ParameterKey':_0x34b83b(0x139)+_0x59c57b[_0x34b83b(0xac)](String,_0x512ef3)['padStart'](0x2,'0'),'ParameterValue':_0x4307e7[_0x34b83b(0xe0)]}),_0x512ef3+=0x1;});}const _0x305708=await _0x40c094[_0xe7d3f7(0xc4)](_0x4b93d0)['promise']();logger[_0xe7d3f7(0x107)](_0x59c57b['edEYo']);const _0x1a48ae={};return _0x1a48ae['StackName']=_0x305708[_0xe7d3f7(0x102)],_0x40c094[_0xe7d3f7(0xe8)](_0x59c57b[_0xe7d3f7(0xae)],_0x1a48ae)[_0xe7d3f7(0xd3)]();};