const a25_0x56bc79=a25_0x545c;(function(_0x9acd4,_0x10e42c){const _0x5262a7=a25_0x545c,_0x37c865=_0x9acd4();while(!![]){try{const _0x31ecc7=-parseInt(_0x5262a7(0x182))/0x1+-parseInt(_0x5262a7(0xff))/0x2*(parseInt(_0x5262a7(0x192))/0x3)+-parseInt(_0x5262a7(0x15e))/0x4+-parseInt(_0x5262a7(0x18a))/0x5*(-parseInt(_0x5262a7(0x13d))/0x6)+parseInt(_0x5262a7(0x16b))/0x7*(parseInt(_0x5262a7(0x179))/0x8)+-parseInt(_0x5262a7(0x160))/0x9*(-parseInt(_0x5262a7(0x119))/0xa)+-parseInt(_0x5262a7(0x167))/0xb*(-parseInt(_0x5262a7(0x17f))/0xc);if(_0x31ecc7===_0x10e42c)break;else _0x37c865['push'](_0x37c865['shift']());}catch(_0xd3d038){_0x37c865['push'](_0x37c865['shift']());}}}(a25_0xf154,0x4d129));function a25_0xf154(){const _0xbf31fe=['FmLXT','2010-05-15','IQXxP','keys','Subnet','NodeAutoScalingGroupMaxSize','./AWSUtils','Value','EwzMP','ResourcesVpcConfig','-NodeGroup','push','uroxt','6GhCozB','yHrwq','GRNBR','Resources','ryLtd','5|4|1|2|3|0','utf-8','qwPdu','AcCqu','CloudFormation','vpvEo','subnet-create.yaml','Ref','qGUVm','OnFailure','LoRGI','cTxIU','SubnetIds','RNAhn','promise','Meiiv','Subnet02Block','raZnl','split','valueOf','gDiOi','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','QLMty','pYZUO','DcxJR','cWmCL','HgnwM','IDkZl','1417092MubeAb','Subnets','8127yPDnFn','ferlL','IXEMx','ZDWjU','KfoVK','hfNPX','RekIr','22hFJlfO','forEach','wwObL','aIopz','2534fykred','StackName','subnet-import.yaml','readFileAsync','vpc-import.yaml','aeaCq','Subnet03','s3Bucket','Subnet03Block','NodeAutoScalingGroupMinSize','pAPxu','uFibk','padStart','iQBPn','12104MJTDnD','PNSOh','ciavs','KEWxT','debug','Subnet01Block','407340KFClTO','stringify','FnPCn','274061yuHjyo','1|2|0|4|3|5','kiSbB','HFEsB','MEzKF','Subnet01','NodeGroupWindows','VPC','935960ameLzc','browserstack:creationDate','wtGqd','GcsHr','FsBTy','dHPJf','pCjgk','pxiQL','6jJuRQF','ParameterValue','schema','NodeGroup','ClusterName','eTbYi','VMyXK','tWIoT','RYwTp','sNDko','AWS::CloudFormation::Interface','awsObj','load','GRAJM','join','NodeAutoScalingGroupDesiredSizeWindows','sVrFH','ZPXeR','Outputs','TXnpw','obxok','Subnet02','ami','OzQZd','VJJQW','aws-eks-cluster-dep.yaml','MRGvH','Capabilities','Properties','../config/logger','NodeImageId','bLtiK','qGZcT','owOyd','instanceType','ahEwH','MDGiW','xayrT','CAPABILITY_NAMED_IAM','379796eZEjxn','../config/constants','zKVTB','waitFor','DependsOn','qpTmX','AObHG','EKSCluster','vGYFh','Metadata','Parameters','evJOS','XvHNh','pvkIU','cetig','browserstack:cluster','s3-create.yaml','CFTemplates','mQNiG','IMoks','bqhEK','OuupN','DELETE','AYKvf','VpcBlock','tUZFI','5770UdbExx','evxqh','NodeGroupName','Key','HvMKj','-Windows-NodeGroup','kARTU','tSSbT','WHVmg','nWYzF','Tags','OaQNz','vakAD','onvXu','createClusterStack','tqfzo','NodeGroupNameWindows','oQowJ','XNmtW','ParameterGroups','EGOTf','value','bqmfA'];a25_0xf154=function(){return _0xbf31fe;};return a25_0xf154();}const fs=require('fs'),path=require('path'),Promise=require('bluebird'),yaml=require('js-yaml'),{CLOUDFORMATION_SCHEMA}=require('js-yaml-cloudformation-schema'),AWS=require('./AWSUtils')[a25_0x56bc79(0x19d)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require(a25_0x56bc79(0x100)),{logger}=require(a25_0x56bc79(0xf5)),{isBucketPresent}=require(a25_0x56bc79(0x136));function a25_0x545c(_0x18efaf,_0x566816){const _0xf1545b=a25_0xf154();return a25_0x545c=function(_0x545c38,_0x21203a){_0x545c38=_0x545c38-0xf5;let _0x46e9a8=_0xf1545b[_0x545c38];return _0x46e9a8;},a25_0x545c(_0x18efaf,_0x566816);}Promise['promisifyAll'](fs);const mergeTemplates=(_0x29c4aa,_0x2db56c)=>{const _0x1aa7c0=a25_0x56bc79,_0x1bdb20={};_0x1bdb20['FmLXT']=function(_0x3c6cfc,_0x475755){return _0x3c6cfc!==_0x475755;},_0x1bdb20[_0x1aa7c0(0x17a)]=_0x1aa7c0(0x153),_0x1bdb20[_0x1aa7c0(0xfc)]='zKWuo',_0x1bdb20[_0x1aa7c0(0x111)]=_0x1aa7c0(0x17c);const _0x172066=_0x1bdb20;Object[_0x1aa7c0(0x133)](_0x2db56c)[_0x1aa7c0(0x168)](_0x3076db=>{const _0x2a14f0=_0x1aa7c0,_0x30e750={'PcFGH':function(_0x5adc1c,_0x555b5f){const _0x1ab996=a25_0x545c;return _0x172066[_0x1ab996(0x130)](_0x5adc1c,_0x555b5f);},'AcCqu':_0x172066['PNSOh'],'ZDWjU':_0x172066['MDGiW']};if(_0x172066[_0x2a14f0(0x130)](_0x172066[_0x2a14f0(0x111)],_0x172066['mQNiG'])){var _0x38cc8e=_0x3b0828[_0x54045f];_0x197b3f[_0x2a14f0(0x133)](_0x38cc8e)[_0x2a14f0(0x168)](_0x3a7225=>{_0x3c0e3a[_0x5c0cc2][_0x3a7225]=_0x38cc8e[_0x3a7225];});}else{var _0x52ae69=_0x2db56c[_0x3076db];Object[_0x2a14f0(0x133)](_0x52ae69)['forEach'](_0x1e32da=>{const _0x4db956=_0x2a14f0;_0x30e750['PcFGH'](_0x30e750[_0x4db956(0x145)],_0x30e750[_0x4db956(0x163)])?_0x29c4aa[_0x3076db][_0x1e32da]=_0x52ae69[_0x1e32da]:_0x4342a7['Resources'][_0xe3111d][_0x4db956(0x1ae)]&&_0x4f4282[_0x4db956(0x140)][_0x80378f][_0x4db956(0x1ae)][_0x4db956(0x123)]&&_0x4211ad[_0x4db956(0x140)][_0x5bc402]['Properties']['Tags'][_0x4db956(0x13b)](..._0x48d50a);});}});},addVPCData=async(_0xa1fe11,_0x45a767)=>{const _0x1b7a04=a25_0x56bc79,_0x3eb54d={'jbTJf':function(_0x2702c3,_0x3e41c6){return _0x2702c3(_0x3e41c6);},'obxok':_0x1b7a04(0x189),'sNDko':function(_0x24ffb7,_0x4a07df){return _0x24ffb7!==_0x4a07df;},'QLMty':_0x1b7a04(0x170),'KfoVK':_0x1b7a04(0x165),'eTbYi':_0x1b7a04(0x110),'OaQNz':_0x1b7a04(0x16f),'tWIoT':'utf-8','qwPdu':function(_0x49e44e,_0x3e5da4,_0x8b7518){return _0x49e44e(_0x3e5da4,_0x8b7518);},'tSSbT':'AWS::CloudFormation::Interface','WHVmg':function(_0x1a2c26,_0x25b138){return _0x1a2c26!==_0x25b138;},'Meiiv':_0x1b7a04(0x132),'fbYVS':'vpc-create.yaml','MdXcQ':_0x1b7a04(0x117)};if(_0x45a767){if(_0x3eb54d[_0x1b7a04(0x19b)](_0x3eb54d[_0x1b7a04(0x158)],_0x3eb54d[_0x1b7a04(0x164)])){const _0x4e263a=await fs[_0x1b7a04(0x16e)](path[_0x1b7a04(0x1a0)](__dirname,'..',_0x3eb54d[_0x1b7a04(0x197)],_0x3eb54d[_0x1b7a04(0x124)]),_0x3eb54d[_0x1b7a04(0x199)]),_0x31f2a6={};_0x31f2a6[_0x1b7a04(0x194)]=CLOUDFORMATION_SCHEMA;const _0x537373=yaml[_0x1b7a04(0x19e)](_0x4e263a,_0x31f2a6);_0x3eb54d[_0x1b7a04(0x144)](mergeTemplates,_0xa1fe11,_0x537373),_0xa1fe11[_0x1b7a04(0x108)][_0x3eb54d[_0x1b7a04(0x120)]][_0x1b7a04(0x12c)][0x0][_0x1b7a04(0x109)]['push'](_0x3eb54d[_0x1b7a04(0x1a6)]);}else{let _0x1380e2=0x1;_0x54c5da[_0x1b7a04(0x168)](_0xbd440a=>{const _0x159105=_0x1b7a04;_0x2061aa[_0x159105(0x109)]['push']({'ParameterKey':_0x159105(0x134)+_0x3eb54d['jbTJf'](_0x5719d6,_0x1380e2)[_0x159105(0x177)](0x2,'0'),'ParameterValue':_0xbd440a[_0x159105(0x12e)]}),_0x1380e2+=0x1;});}}else{if(_0x3eb54d[_0x1b7a04(0x121)](_0x3eb54d[_0x1b7a04(0x151)],_0x3eb54d[_0x1b7a04(0x151)])){const _0x22a83f={};_0x22a83f['ParameterKey']=_0x3eb54d[_0x1b7a04(0x1a6)],_0x22a83f['ParameterValue']=_0x3ab3ab,_0x25dc36[_0x1b7a04(0x109)][_0x1b7a04(0x13b)](_0x22a83f);}else{const _0x3a150b=await fs[_0x1b7a04(0x16e)](path['join'](__dirname,'..',_0x3eb54d[_0x1b7a04(0x197)],_0x3eb54d['fbYVS']),_0x3eb54d[_0x1b7a04(0x199)]),_0x4ec487={};_0x4ec487['schema']=CLOUDFORMATION_SCHEMA;const _0x525307=yaml[_0x1b7a04(0x19e)](_0x3a150b,_0x4ec487);_0x3eb54d[_0x1b7a04(0x144)](mergeTemplates,_0xa1fe11,_0x525307),_0xa1fe11['Metadata'][_0x3eb54d['tSSbT']][_0x1b7a04(0x12c)][0x0][_0x1b7a04(0x109)][_0x1b7a04(0x13b)](_0x3eb54d['MdXcQ']);}}},addS3Data=async _0x16f301=>{const _0x2ec927=a25_0x56bc79,_0x5e2041={'qGZcT':function(_0x6cccad,_0x2293cb){return _0x6cccad(_0x2293cb);},'bqhEK':'CFTemplates','skgar':_0x2ec927(0x10f),'EwzMP':'utf-8','dlTdX':function(_0x4ee452,_0x1d7be2){return _0x4ee452(_0x1d7be2);},'MRGvH':function(_0x411e07,_0x3526a5){return _0x411e07===_0x3526a5;},'IMoks':function(_0xe4d3df,_0x12f495){return _0xe4d3df===_0x12f495;},'vpvEo':'HdVoi','DFivo':function(_0x751b8c,_0xfb6894,_0x51cbb2){return _0x751b8c(_0xfb6894,_0x51cbb2);}},_0x36776f=await fs[_0x2ec927(0x16e)](path['join'](__dirname,'..',_0x5e2041[_0x2ec927(0x113)],_0x5e2041['skgar']),_0x5e2041[_0x2ec927(0x138)]),_0x4c9e52={};_0x4c9e52[_0x2ec927(0x194)]=CLOUDFORMATION_SCHEMA;const _0x3a91db=yaml[_0x2ec927(0x19e)](_0x36776f,_0x4c9e52),_0x2372c4=await _0x5e2041['dlTdX'](isBucketPresent,global_registry[_0x2ec927(0x172)]);_0x5e2041[_0x2ec927(0x1ac)](_0x2372c4,![])&&(_0x5e2041[_0x2ec927(0x112)](_0x5e2041['vpvEo'],_0x5e2041[_0x2ec927(0x147)])?_0x5e2041['DFivo'](mergeTemplates,_0x16f301,_0x3a91db):(_0x1dc93b['Parameters'][_0x2ec927(0x13b)]({'ParameterKey':_0x2ec927(0x134)+_0x5e2041[_0x2ec927(0xf8)](_0x6ff037,_0x32e173)['padStart'](0x2,'0'),'ParameterValue':_0x5448a7[_0x2ec927(0x12e)]}),_0xc8dda9+=0x1));},addSubnetData=async(_0x9bd826,_0x37743c)=>{const _0x372844=a25_0x56bc79,_0x153caf={'TDOpk':function(_0x54d938,_0x3e2e76,_0x49eb70){return _0x54d938(_0x3e2e76,_0x49eb70);},'qpTmX':function(_0x218191,_0x196b24){return _0x218191===_0x196b24;},'OuupN':_0x372844(0x15a),'pxiQL':'LOJEW','gzSlu':_0x372844(0x142),'vakAD':function(_0x147a36,_0x1d89cd){return _0x147a36(_0x1d89cd);},'ZPXeR':function(_0x207730,_0x50b107){return _0x207730(_0x50b107);},'MEzKF':'Fn::Join','tUZFI':function(_0x5b95af,_0x4e3d69){return _0x5b95af(_0x4e3d69);},'qGUVm':_0x372844(0x19c),'xayrT':function(_0x5b05d9,_0x2dbf2e){return _0x5b05d9(_0x2dbf2e);},'tmnGk':_0x372844(0x195),'bufxp':'NodeGroupWindows','xgswO':_0x372844(0x185),'evxqh':'mvaBm','LoRGI':_0x372844(0x110),'onvXu':_0x372844(0x16d),'aIopz':_0x372844(0x143),'owOyd':function(_0x237f8,_0x5d8a03){return _0x237f8===_0x5d8a03;},'JuFwd':_0x372844(0x166),'AObHG':_0x372844(0x148),'pvkIU':function(_0x3777bc,_0x312f52,_0x55b89b){return _0x3777bc(_0x312f52,_0x55b89b);},'RYwTp':_0x372844(0x187),'zKVTB':_0x372844(0x1a7),'TXnpw':_0x372844(0x171),'ryLtd':_0x372844(0x17e),'WalLO':_0x372844(0x152),'kiSbB':_0x372844(0x173)};if(_0x37743c){if(_0x153caf['qpTmX'](_0x153caf['xgswO'],_0x153caf[_0x372844(0x11a)]))_0x4ba066['Resources'][_0x58f46f][_0x372844(0x1ae)]['Tags'][_0x372844(0x13b)](..._0x3ac03d);else{const _0x2725c0=await fs[_0x372844(0x16e)](path[_0x372844(0x1a0)](__dirname,'..',_0x153caf[_0x372844(0x14c)],_0x153caf[_0x372844(0x126)]),_0x153caf[_0x372844(0x16a)]),_0x3fd4d8={};_0x3fd4d8[_0x372844(0x194)]=CLOUDFORMATION_SCHEMA;const _0xbe0686=yaml[_0x372844(0x19e)](_0x2725c0,_0x3fd4d8);_0x153caf['TDOpk'](mergeTemplates,_0x9bd826,_0xbe0686);let _0x5a33de=0x1;_0x37743c['forEach'](_0x15eed5=>{const _0x2bfe22=_0x372844;if(_0x153caf[_0x2bfe22(0x104)](_0x153caf[_0x2bfe22(0x114)],_0x153caf[_0x2bfe22(0x191)]))_0x153caf['TDOpk'](_0x4a2ac3,_0x638b93,_0x121071);else{const _0x1e2f11=_0x153caf['gzSlu'][_0x2bfe22(0x154)]('|');let _0x2be59e=0x0;while(!![]){switch(_0x1e2f11[_0x2be59e++]){case'0':_0x5a33de+=0x1;continue;case'1':_0x9bd826[_0x2bfe22(0x140)][_0x2bfe22(0x195)][_0x2bfe22(0x1ae)][_0x2bfe22(0x15f)]['push']({'Ref':'Subnet'+_0x153caf[_0x2bfe22(0x125)](String,_0x5a33de)['padStart'](0x2,'0')});continue;case'2':_0x9bd826[_0x2bfe22(0x140)][_0x2bfe22(0x188)][_0x2bfe22(0x1ae)][_0x2bfe22(0x15f)]['push']({'Ref':_0x2bfe22(0x134)+_0x153caf[_0x2bfe22(0x1a3)](String,_0x5a33de)[_0x2bfe22(0x177)](0x2,'0')});continue;case'3':_0x9bd826[_0x2bfe22(0x1a4)][_0x2bfe22(0x14e)][_0x2bfe22(0x137)][_0x153caf[_0x2bfe22(0x186)]][0x1][_0x2bfe22(0x13b)]({'Ref':_0x2bfe22(0x134)+_0x153caf[_0x2bfe22(0x118)](String,_0x5a33de)[_0x2bfe22(0x177)](0x2,'0')});continue;case'4':_0x9bd826[_0x2bfe22(0x108)][_0x153caf[_0x2bfe22(0x14a)]][_0x2bfe22(0x12c)][0x0][_0x2bfe22(0x109)][_0x2bfe22(0x13b)]('Subnet'+_0x153caf['ZPXeR'](String,_0x5a33de)[_0x2bfe22(0x177)](0x2,'0'));continue;case'5':_0x9bd826[_0x2bfe22(0x140)]['EKSCluster']['Properties'][_0x2bfe22(0x139)][_0x2bfe22(0x14e)][_0x2bfe22(0x13b)]({'Ref':_0x2bfe22(0x134)+_0x153caf[_0x2bfe22(0xfd)](String,_0x5a33de)[_0x2bfe22(0x177)](0x2,'0')});continue;}break;}}});}}else{if(_0x153caf[_0x372844(0xf9)](_0x153caf['JuFwd'],_0x153caf['JuFwd'])){const _0x2f01df=await fs[_0x372844(0x16e)](path[_0x372844(0x1a0)](__dirname,'..',_0x153caf[_0x372844(0x14c)],_0x153caf[_0x372844(0x105)]),_0x153caf[_0x372844(0x16a)]),_0x5684b4={};_0x5684b4[_0x372844(0x194)]=CLOUDFORMATION_SCHEMA;const _0x1fc654=yaml[_0x372844(0x19e)](_0x2f01df,_0x5684b4);_0x153caf[_0x372844(0x10c)](mergeTemplates,_0x9bd826,_0x1fc654),_0x9bd826[_0x372844(0x140)][_0x372844(0x106)][_0x372844(0x103)]['push'](_0x153caf[_0x372844(0x19a)],_0x153caf['zKVTB'],_0x153caf[_0x372844(0x1a5)]);const _0x37dad1={};_0x37dad1[_0x372844(0x149)]=_0x153caf[_0x372844(0x19a)];const _0x404384={};_0x404384['Ref']=_0x153caf[_0x372844(0x101)];const _0x2c0bb7={};_0x2c0bb7[_0x372844(0x149)]=_0x153caf[_0x372844(0x1a5)],_0x9bd826[_0x372844(0x140)]['EKSCluster'][_0x372844(0x1ae)][_0x372844(0x139)][_0x372844(0x14e)]=[_0x37dad1,_0x404384,_0x2c0bb7],_0x9bd826[_0x372844(0x108)][_0x153caf[_0x372844(0x14a)]][_0x372844(0x12c)][0x0][_0x372844(0x109)][_0x372844(0x13b)](_0x153caf[_0x372844(0x141)],_0x153caf['WalLO'],_0x153caf[_0x372844(0x184)]);const _0x82dc98={};_0x82dc98[_0x372844(0x149)]=_0x153caf[_0x372844(0x19a)];const _0x28559f={};_0x28559f[_0x372844(0x149)]=_0x153caf[_0x372844(0x101)];const _0x134dab={};_0x134dab[_0x372844(0x149)]=_0x153caf[_0x372844(0x1a5)],_0x9bd826[_0x372844(0x140)]['NodeGroup'][_0x372844(0x1ae)][_0x372844(0x15f)]=[_0x82dc98,_0x28559f,_0x134dab];const _0x389fc8={};_0x389fc8[_0x372844(0x149)]=_0x153caf[_0x372844(0x19a)];const _0x4eac35={};_0x4eac35['Ref']=_0x153caf[_0x372844(0x101)];const _0x26ad16={};_0x26ad16['Ref']=_0x153caf[_0x372844(0x1a5)],_0x9bd826[_0x372844(0x140)][_0x372844(0x188)]['Properties'][_0x372844(0x15f)]=[_0x389fc8,_0x4eac35,_0x26ad16],_0x9bd826['Outputs'][_0x372844(0x14e)]['Value'][_0x153caf['MEzKF']][0x1]=[{'Ref':_0x153caf[_0x372844(0x19a)]},{'Ref':_0x153caf[_0x372844(0x101)]},{'Ref':_0x153caf[_0x372844(0x1a5)]}];}else{for(const _0x9cdbe6 in _0x1a060e[_0x372844(0x140)]){_0x1a9e79[_0x372844(0x140)][_0x9cdbe6]['Properties']&&_0x192826[_0x372844(0x140)][_0x9cdbe6][_0x372844(0x1ae)][_0x372844(0x123)]&&_0xecf1d3[_0x372844(0x140)][_0x9cdbe6][_0x372844(0x1ae)][_0x372844(0x123)]['push'](..._0xa4800c);}const _0x57723b={};_0x291135[_0x372844(0x168)](_0x2da74e=>{const _0x24569f=_0x372844;_0x57723b[_0x2da74e[_0x24569f(0x11c)]]=_0x2da74e[_0x24569f(0x137)];}),_0x2badb3[_0x372844(0x140)][_0x153caf['tmnGk']][_0x372844(0x1ae)][_0x372844(0x123)]=_0x57723b,_0x1de667['Resources'][_0x153caf['bufxp']][_0x372844(0x1ae)][_0x372844(0x123)]=_0x57723b;}}},addTags=async(_0x1194d1,_0x1249e4,_0x45fd13)=>{const _0x17121f=a25_0x56bc79,_0x241499={'pCjgk':_0x17121f(0x183),'cetig':function(_0x5ef86d,_0x49b18c){return _0x5ef86d(_0x49b18c);},'kARTU':_0x17121f(0x19c),'vGYFh':'Fn::Join','IXEMx':function(_0x2b3cc5,_0x2ed647){return _0x2b3cc5(_0x2ed647);},'wwObL':function(_0x23fbbe,_0x3ed1ff){return _0x23fbbe!==_0x3ed1ff;},'cTxIU':_0x17121f(0x1aa),'zwlMr':'vGsqG','AYKvf':_0x17121f(0x15d),'ciavs':function(_0x415a08,_0x37bf68){return _0x415a08===_0x37bf68;},'cWmCL':_0x17121f(0x13c),'bqmfA':_0x17121f(0x12d),'bLtiK':_0x17121f(0x195),'GcsHr':_0x17121f(0x188)};for(const _0x50ab29 in _0x1194d1[_0x17121f(0x140)]){_0x241499[_0x17121f(0x169)](_0x241499['zwlMr'],_0x241499[_0x17121f(0x116)])?_0x1194d1[_0x17121f(0x140)][_0x50ab29][_0x17121f(0x1ae)]&&_0x1194d1[_0x17121f(0x140)][_0x50ab29][_0x17121f(0x1ae)][_0x17121f(0x123)]&&(_0x241499[_0x17121f(0x17b)](_0x241499[_0x17121f(0x15b)],_0x241499[_0x17121f(0x12f)])?_0x191713[_0x3476d3][_0x285c02]=_0x67a349[_0x9ac139]:_0x1194d1[_0x17121f(0x140)][_0x50ab29][_0x17121f(0x1ae)][_0x17121f(0x123)]['push'](..._0x45fd13)):_0x5d85c2[_0x17121f(0x133)](_0x2a5304)[_0x17121f(0x168)](_0x11fa15=>{var _0x12d82c=_0x427ffb[_0x11fa15];_0x1a4702['keys'](_0x12d82c)['forEach'](_0x54c08f=>{_0x258553[_0x11fa15][_0x54c08f]=_0x12d82c[_0x54c08f];});});}const _0x4215fc={};_0x45fd13[_0x17121f(0x168)](_0x4edaa2=>{const _0x15accd=_0x17121f;if(_0x241499[_0x15accd(0x169)](_0x241499['cTxIU'],_0x241499[_0x15accd(0x14d)])){const _0x533ea3=_0x241499[_0x15accd(0x190)][_0x15accd(0x154)]('|');let _0x1cdf47=0x0;while(!![]){switch(_0x533ea3[_0x1cdf47++]){case'0':_0x3c04c4[_0x15accd(0x140)][_0x15accd(0x195)]['Properties'][_0x15accd(0x15f)][_0x15accd(0x13b)]({'Ref':_0x15accd(0x134)+_0x241499[_0x15accd(0x10d)](_0x2d83a4,_0x179270)['padStart'](0x2,'0')});continue;case'1':_0x3cff14[_0x15accd(0x140)][_0x15accd(0x106)][_0x15accd(0x1ae)]['ResourcesVpcConfig'][_0x15accd(0x14e)][_0x15accd(0x13b)]({'Ref':_0x15accd(0x134)+_0x241499[_0x15accd(0x10d)](_0x435ddc,_0x33b004)['padStart'](0x2,'0')});continue;case'2':_0xc05e00[_0x15accd(0x108)][_0x241499[_0x15accd(0x11f)]][_0x15accd(0x12c)][0x0]['Parameters'][_0x15accd(0x13b)](_0x15accd(0x134)+_0x241499[_0x15accd(0x10d)](_0x5274df,_0x1ee069)[_0x15accd(0x177)](0x2,'0'));continue;case'3':_0x4e4783[_0x15accd(0x1a4)]['SubnetIds']['Value'][_0x241499[_0x15accd(0x107)]][0x1][_0x15accd(0x13b)]({'Ref':_0x15accd(0x134)+_0x241499[_0x15accd(0x162)](_0xe45e1,_0x248350)['padStart'](0x2,'0')});continue;case'4':_0x5e9a51[_0x15accd(0x140)]['NodeGroupWindows'][_0x15accd(0x1ae)][_0x15accd(0x15f)][_0x15accd(0x13b)]({'Ref':_0x15accd(0x134)+_0x241499['cetig'](_0x1fd115,_0x396224)['padStart'](0x2,'0')});continue;case'5':_0x110061+=0x1;continue;}break;}}else _0x4215fc[_0x4edaa2[_0x15accd(0x11c)]]=_0x4edaa2['Value'];}),_0x1194d1[_0x17121f(0x140)][_0x241499[_0x17121f(0xf7)]][_0x17121f(0x1ae)]['Tags']=_0x4215fc,_0x1194d1['Resources'][_0x241499[_0x17121f(0x18d)]][_0x17121f(0x1ae)]['Tags']=_0x4215fc;};exports[a25_0x56bc79(0x127)]=async(_0x561061,_0x94b8f,_0x28a5f5,_0x328e01=null,_0x3a550c=null)=>{const _0x55a25f=a25_0x56bc79,_0x1b1847={'pYZUO':function(_0x4127f1,_0x3e7476){return _0x4127f1(_0x3e7476);},'xLFlo':_0x55a25f(0x10e),'HgnwM':_0x55a25f(0x18b),'gDiOi':_0x55a25f(0x131),'QFrvk':_0x55a25f(0x110),'RQrbM':_0x55a25f(0x1ab),'sVrFH':'utf-8','uFibk':function(_0x417dfe,_0x2e4b45,_0x2509dc){return _0x417dfe(_0x2e4b45,_0x2509dc);},'OzQZd':function(_0x46195d,_0x2c0f27){return _0x46195d(_0x2c0f27);},'FsBTy':function(_0x555dd5,_0x307ca6,_0x3746b7,_0x1585c5){return _0x555dd5(_0x307ca6,_0x3746b7,_0x1585c5);},'tqfzo':_0x55a25f(0x115),'dHPJf':_0x55a25f(0x196),'nWYzF':_0x55a25f(0x11b),'XNmtW':_0x55a25f(0x174),'XvHNh':'NodeAutoScalingGroupMinSizeWindows','mVEFU':_0x55a25f(0x1a1),'iQBPn':_0x55a25f(0x135),'evJOS':_0x55a25f(0xf6),'ahEwH':'NodeInstanceType','wtGqd':'S3BucketName','RNAhn':_0x55a25f(0x129),'PzZmd':_0x55a25f(0xfe),'pAPxu':function(_0xbd54e,_0x156806){return _0xbd54e!=_0x156806;},'FnPCn':function(_0x54e3f0,_0x1992aa){return _0x54e3f0!==_0x1992aa;},'yHrwq':function(_0xf5b12c,_0x524db5){return _0xf5b12c===_0x524db5;},'VMyXK':_0x55a25f(0x161),'oQowJ':_0x55a25f(0x19f),'voTNK':_0x55a25f(0x189),'QjwKr':function(_0x44ea3c,_0x20d9fd){return _0x44ea3c!=_0x20d9fd;},'HvMKj':_0x55a25f(0x157),'GRNBR':'stackCreateComplete'},_0x22c3f0=COMMON_HST_TAGS,_0x417891={};_0x417891[_0x55a25f(0x11c)]=_0x1b1847['xLFlo'],_0x417891[_0x55a25f(0x137)]=_0x561061,_0x22c3f0[_0x55a25f(0x13b)](_0x417891),_0x22c3f0[_0x55a25f(0x13b)]({'Key':_0x1b1847[_0x55a25f(0x15c)],'Value':new Date()[_0x55a25f(0x155)]()['toString']()});const _0x235232={};_0x235232['apiVersion']=_0x1b1847[_0x55a25f(0x156)];const _0x131f79=new AWS[(_0x55a25f(0x146))](_0x235232),_0x106680=await fs['readFileAsync'](path[_0x55a25f(0x1a0)](__dirname,'..',_0x1b1847['QFrvk'],_0x1b1847['RQrbM']),_0x1b1847[_0x55a25f(0x1a2)]),_0x5aea5a={};_0x5aea5a[_0x55a25f(0x194)]=CLOUDFORMATION_SCHEMA;const _0x28a68e=yaml['load'](_0x106680,_0x5aea5a);await _0x1b1847[_0x55a25f(0x176)](addVPCData,_0x28a68e,_0x328e01),await _0x1b1847[_0x55a25f(0x1a9)](addS3Data,_0x28a68e),await _0x1b1847[_0x55a25f(0x176)](addSubnetData,_0x28a68e,_0x3a550c),await _0x1b1847[_0x55a25f(0x18e)](addTags,_0x28a68e,_0x561061,_0x22c3f0);const _0x202a5e=JSON[_0x55a25f(0x180)](_0x28a68e),_0x40c396={};_0x40c396[_0x55a25f(0x16c)]=CLUSTER_DEP_STACK_NAME+'-'+_0x561061,_0x40c396[_0x55a25f(0x14b)]=_0x1b1847[_0x55a25f(0x128)],_0x40c396['TemplateBody']=_0x202a5e,_0x40c396[_0x55a25f(0x109)]=[{'ParameterKey':_0x1b1847[_0x55a25f(0x18f)],'ParameterValue':_0x561061},{'ParameterKey':_0x1b1847[_0x55a25f(0x122)],'ParameterValue':_0x561061+_0x55a25f(0x13a)},{'ParameterKey':_0x1b1847[_0x55a25f(0x12b)],'ParameterValue':''+_0x94b8f},{'ParameterKey':_0x1b1847[_0x55a25f(0x10b)],'ParameterValue':'0'},{'ParameterKey':_0x1b1847['mVEFU'],'ParameterValue':'1'},{'ParameterKey':_0x1b1847[_0x55a25f(0x178)],'ParameterValue':''+_0x28a5f5},{'ParameterKey':_0x1b1847[_0x55a25f(0x10a)],'ParameterValue':global_registry[_0x55a25f(0x1a8)]},{'ParameterKey':_0x1b1847[_0x55a25f(0xfb)],'ParameterValue':global_registry[_0x55a25f(0xfa)]},{'ParameterKey':_0x1b1847[_0x55a25f(0x18c)],'ParameterValue':global_registry[_0x55a25f(0x172)]},{'ParameterKey':_0x1b1847[_0x55a25f(0x14f)],'ParameterValue':_0x561061+_0x55a25f(0x11e)}],_0x40c396[_0x55a25f(0x1ad)]=[_0x1b1847['PzZmd']],_0x40c396[_0x55a25f(0x123)]=_0x22c3f0;const _0x4e80cf=_0x40c396;if(_0x1b1847[_0x55a25f(0x175)](_0x328e01,null)&&_0x1b1847[_0x55a25f(0x181)](_0x328e01,undefined)){if(_0x1b1847[_0x55a25f(0x13e)](_0x1b1847[_0x55a25f(0x198)],_0x1b1847[_0x55a25f(0x12a)]))_0x2303f6[_0x23c6db[_0x55a25f(0x11c)]]=_0x4e031c[_0x55a25f(0x137)];else{const _0x1fb820={};_0x1fb820['ParameterKey']=_0x1b1847['voTNK'],_0x1fb820[_0x55a25f(0x193)]=_0x328e01,_0x4e80cf[_0x55a25f(0x109)][_0x55a25f(0x13b)](_0x1fb820);}}if(_0x1b1847['QjwKr'](_0x3a550c,null)&&_0x1b1847[_0x55a25f(0x181)](_0x3a550c,undefined)){let _0x35568b=0x1;_0x3a550c[_0x55a25f(0x168)](_0x120c8c=>{const _0x2fcaca=_0x55a25f;_0x4e80cf[_0x2fcaca(0x109)][_0x2fcaca(0x13b)]({'ParameterKey':_0x2fcaca(0x134)+_0x1b1847[_0x2fcaca(0x159)](String,_0x35568b)[_0x2fcaca(0x177)](0x2,'0'),'ParameterValue':_0x120c8c[_0x2fcaca(0x12e)]}),_0x35568b+=0x1;});}const _0x1851b0=await _0x131f79['createStack'](_0x4e80cf)[_0x55a25f(0x150)]();logger[_0x55a25f(0x17d)](_0x1b1847[_0x55a25f(0x11d)]);const _0x8de105={};return _0x8de105[_0x55a25f(0x16c)]=_0x1851b0['StackId'],_0x131f79[_0x55a25f(0x102)](_0x1b1847[_0x55a25f(0x13f)],_0x8de105)[_0x55a25f(0x150)]();};