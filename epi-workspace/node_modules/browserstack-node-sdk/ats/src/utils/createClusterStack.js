const a27_0x507613=a27_0x4b44;function a27_0x4b44(_0x2fdefe,_0x45e28a){const _0x17abe9=a27_0x17ab();return a27_0x4b44=function(_0x4b4421,_0x3c8aeb){_0x4b4421=_0x4b4421-0x1c7;let _0x4a20c8=_0x17abe9[_0x4b4421];return _0x4a20c8;},a27_0x4b44(_0x2fdefe,_0x45e28a);}function a27_0x17ab(){const _0x45a95e=['qgTco','2529576pwdTyh','sXhSG','ParameterKey','RBoDZ','yyiAJ','fGxPx','readFileAsync','VPC','NodeAutoScalingGroupMaxSize','Outputs','DELETE','kVPcP','QoWID','gavSv','false','5365204UDMuYA','TkPXW','js-yaml','CFTemplates','stackCreateComplete','qMkTK','RNZOv','FSxqG','Key','JSTmI','Tags','MyVlp','valueOf','uGQiC','PPuVj','jAqqt','Subnet','351ZqSIet','-NodeGroup','1785880usJrUJ','promise','OZJkN','-Windows-NodeGroup','Properties','NodeAutoScalingGroupDesiredSizeWindows','KkCgW','JqZdQ','hoilQ','EGzXB','AWS::CloudFormation::Interface','zOLWH','JbyQN','NodeGroupNameWindows','CAPABILITY_NAMED_IAM','DependsOn','yFfjA','NodeGroupWindows','vphYa','JMGaC','dDYhU','VrsgN','zYJqB','vmaLX','xuYGb','OIxdD','OnFailure','bXVNZ','Subnet02','fRJTv','NodeInstanceType','Metadata','ytVaI','SubnetIds','2457424RlJEyL','keQlG','qCTVc','TRzEt','vpc-create.yaml','push','forEach','subnet-create.yaml','apaEI','dhmqV','ETnBi','DNkTm','YoVYt','HbbSM','DxcdZ','faAwF','Ejjmt','JDKrh','js-yaml-cloudformation-schema','Value','instanceType','fjhXS','guXoc','gNBRv','bktit','sVNhC','VpcBlock','hNBBi','utf-8','yqZwB','Parameters','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','subnet-import.yaml','xYzew','Fn::Join','3889362pvNSTx','QhVHf','VaDWW','inVfP','NodeAutoScalingGroupMinSizeWindows','ItSTh','uRZOl','inYKp','padStart','Ref','waitFor','CSHZN','awsObj','zfObT','15HorimG','eAwvv','Subnets','Subnet03','328160oWoVDO','ami','4|0|3|1|5|2','Dwzse','s3Bucket','NodeGroupName','zTVul','createClusterStack','Capabilities','NodeAutoScalingGroupMinSize','join','browserstack:cluster','StackId','QGfWG','./AWSUtils','sfiEQ','value','vpDxH','split','promisifyAll','NplHD','ParameterValue','PIUQS','poRjE','QEtZo','EKSCluster','GJanh','udhpv','JvJfS','schema','aJcwA','ESqSe','NrEpH','lWCxe','EDoQg','ClusterAutoUpgrade','Resources','Zuwzk','DgSBg','keys','qJxIa','MvJgr','58839ylOukd','bluebird','kZfic','NodeGroup','ZjiIE','TemplateBody','GdhZt','PxcPm','s3-create.yaml','jVJnE','YDvkD','path','ParameterGroups','IPYRc','ResourcesVpcConfig','uyIwx','aEvoc','fvqZI','JHUJf','3DDrDQt','qoRln','true','2010-05-15','load','dRvgc'];a27_0x17ab=function(){return _0x45a95e;};return a27_0x17ab();}(function(_0x2c3ac1,_0x52e7c6){const _0x56570b=a27_0x4b44,_0x5ebfa4=_0x2c3ac1();while(!![]){try{const _0x2e7c56=-parseInt(_0x56570b(0x20d))/0x1+-parseInt(_0x56570b(0x249))/0x2+-parseInt(_0x56570b(0x220))/0x3*(parseInt(_0x56570b(0x236))/0x4)+-parseInt(_0x56570b(0x1df))/0x5*(-parseInt(_0x56570b(0x1d1))/0x6)+parseInt(_0x56570b(0x227))/0x7+-parseInt(_0x56570b(0x26b))/0x8+parseInt(_0x56570b(0x247))/0x9*(parseInt(_0x56570b(0x1e3))/0xa);if(_0x2e7c56===_0x52e7c6)break;else _0x5ebfa4['push'](_0x5ebfa4['shift']());}catch(_0x402354){_0x5ebfa4['push'](_0x5ebfa4['shift']());}}}(a27_0x17ab,0xf0a0f));const fs=require('fs'),path=require(a27_0x507613(0x218)),Promise=require(a27_0x507613(0x20e)),yaml=require(a27_0x507613(0x238)),{CLOUDFORMATION_SCHEMA}=require(a27_0x507613(0x27d)),AWS=require(a27_0x507613(0x1f1))[a27_0x507613(0x1dd)],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require('../config/constants'),{logger}=require('../config/logger'),{isBucketPresent}=require(a27_0x507613(0x1f1));Promise[a27_0x507613(0x1f6)](fs);const mergeTemplates=(_0x2eb0e0,_0x3f69e5)=>{const _0x36366e=a27_0x507613,_0x5b40d6={'HKtsa':function(_0xa1985a,_0xd3e4dc,_0xbd0c5d){return _0xa1985a(_0xd3e4dc,_0xbd0c5d);},'OZJkN':function(_0x5ad861,_0x339bee){return _0x5ad861===_0x339bee;},'MvJgr':_0x36366e(0x205),'JDKrh':'hzafI','kVPcP':_0x36366e(0x1de)};Object[_0x36366e(0x20a)](_0x3f69e5)[_0x36366e(0x271)](_0x5c2947=>{const _0x292741=_0x36366e,_0xf47d00={'RBoDZ':function(_0x20b188,_0x56f56d){const _0xa6872f=a27_0x4b44;return _0x5b40d6[_0xa6872f(0x24b)](_0x20b188,_0x56f56d);},'xCbaC':_0x5b40d6[_0x292741(0x20c)],'aJcwA':_0x5b40d6[_0x292741(0x27c)]};if(_0x5b40d6[_0x292741(0x24b)](_0x5b40d6[_0x292741(0x232)],_0x5b40d6[_0x292741(0x232)])){var _0x398e88=_0x3f69e5[_0x5c2947];Object['keys'](_0x398e88)[_0x292741(0x271)](_0x34e54e=>{const _0x52f406=_0x292741;_0xf47d00[_0x52f406(0x22a)](_0xf47d00['xCbaC'],_0xf47d00[_0x52f406(0x201)])?_0x1351a9[_0x52f406(0x207)][_0x4ed970]['Properties'][_0x52f406(0x240)]['push'](..._0x4650d6):_0x2eb0e0[_0x5c2947][_0x34e54e]=_0x398e88[_0x34e54e];});}else _0x5b40d6['HKtsa'](_0xe3f7e,_0x421754,_0x4ddb0e);});},addVPCData=async(_0xa80c55,_0xa0dab9)=>{const _0x212cdd=a27_0x507613,_0x13f1f4={'zOLWH':function(_0x34e34d,_0x45549e){return _0x34e34d===_0x45549e;},'eAwvv':'bLXHr','OIxdD':_0x212cdd(0x239),'vpDxH':'vpc-import.yaml','aEvoc':_0x212cdd(0x1ca),'apaEI':function(_0x4cda9d,_0x4ea7cd,_0x1902df){return _0x4cda9d(_0x4ea7cd,_0x1902df);},'QEtZo':_0x212cdd(0x253),'YeinL':_0x212cdd(0x22e),'vphYa':function(_0x27307a,_0x4f3a9a){return _0x27307a!==_0x4f3a9a;},'lWCxe':_0x212cdd(0x1c7),'QoWID':_0x212cdd(0x26f),'PIUQS':function(_0x5bb5b9,_0x4d23ab,_0x4c57aa){return _0x5bb5b9(_0x4d23ab,_0x4c57aa);},'uRZOl':_0x212cdd(0x1c8)};if(_0xa0dab9){if(_0x13f1f4[_0x212cdd(0x254)](_0x13f1f4[_0x212cdd(0x1e0)],_0x13f1f4[_0x212cdd(0x1e0)])){const _0x230eb1=await fs['readFileAsync'](path[_0x212cdd(0x1ed)](__dirname,'..',_0x13f1f4[_0x212cdd(0x262)],_0x13f1f4[_0x212cdd(0x1f4)]),_0x13f1f4[_0x212cdd(0x21d)]),_0x512ebe={};_0x512ebe[_0x212cdd(0x200)]=CLOUDFORMATION_SCHEMA;const _0x1bf89e=yaml[_0x212cdd(0x224)](_0x230eb1,_0x512ebe);_0x13f1f4[_0x212cdd(0x273)](mergeTemplates,_0xa80c55,_0x1bf89e),_0xa80c55['Metadata'][_0x13f1f4['QEtZo']][_0x212cdd(0x219)][0x0][_0x212cdd(0x1cc)][_0x212cdd(0x270)](_0x13f1f4['YeinL']);}else _0x3cc04d[_0x41b3ec['Key']]=_0x59e6a3['Value'];}else{if(_0x13f1f4[_0x212cdd(0x25b)](_0x13f1f4[_0x212cdd(0x204)],_0x13f1f4[_0x212cdd(0x204)]))_0x542fe2['Resources'][_0x427c54][_0x212cdd(0x24d)]&&_0x34b482[_0x212cdd(0x207)][_0xc986ad][_0x212cdd(0x24d)][_0x212cdd(0x240)]&&_0x1ad5e6[_0x212cdd(0x207)][_0x5000e9][_0x212cdd(0x24d)][_0x212cdd(0x240)]['push'](..._0x21fe7d);else{const _0x15842c=await fs[_0x212cdd(0x22d)](path[_0x212cdd(0x1ed)](__dirname,'..',_0x13f1f4['OIxdD'],_0x13f1f4[_0x212cdd(0x233)]),_0x13f1f4[_0x212cdd(0x21d)]),_0x4aee24={};_0x4aee24[_0x212cdd(0x200)]=CLOUDFORMATION_SCHEMA;const _0x2ec860=yaml['load'](_0x15842c,_0x4aee24);_0x13f1f4[_0x212cdd(0x1f9)](mergeTemplates,_0xa80c55,_0x2ec860),_0xa80c55[_0x212cdd(0x268)][_0x13f1f4[_0x212cdd(0x1fb)]][_0x212cdd(0x219)][0x0][_0x212cdd(0x1cc)][_0x212cdd(0x270)](_0x13f1f4[_0x212cdd(0x1d7)]);}}},addS3Data=async _0x55b89f=>{const _0x7d9b84=a27_0x507613,_0x5030d9={'fGxPx':function(_0x1396a5,_0x392839){return _0x1396a5(_0x392839);},'BFvVQ':_0x7d9b84(0x239),'NrEpH':_0x7d9b84(0x215),'vmaLX':_0x7d9b84(0x1ca),'qoRln':function(_0x1026c2,_0x4be8d7){return _0x1026c2(_0x4be8d7);},'JvJfS':function(_0x3d6b0c,_0x1e66ee){return _0x3d6b0c===_0x1e66ee;},'HbbSM':function(_0x368b9d,_0x4df254){return _0x368b9d!==_0x4df254;},'JMGaC':_0x7d9b84(0x26d),'Ejjmt':'oDjhK','yFfjA':function(_0x546e12,_0x447ba5,_0x1f05e4){return _0x546e12(_0x447ba5,_0x1f05e4);}},_0x1c3e9a=await fs[_0x7d9b84(0x22d)](path['join'](__dirname,'..',_0x5030d9['BFvVQ'],_0x5030d9[_0x7d9b84(0x203)]),_0x5030d9[_0x7d9b84(0x260)]),_0x30f1a5={};_0x30f1a5[_0x7d9b84(0x200)]=CLOUDFORMATION_SCHEMA;const _0x288c23=yaml[_0x7d9b84(0x224)](_0x1c3e9a,_0x30f1a5),_0x565b85=await _0x5030d9[_0x7d9b84(0x221)](isBucketPresent,global_registry[_0x7d9b84(0x1e7)]);if(_0x5030d9[_0x7d9b84(0x1ff)](_0x565b85,![])){if(_0x5030d9[_0x7d9b84(0x278)](_0x5030d9[_0x7d9b84(0x25c)],_0x5030d9[_0x7d9b84(0x27b)]))_0x5030d9[_0x7d9b84(0x259)](mergeTemplates,_0x55b89f,_0x288c23);else{const _0x30ee55={'DgPyK':function(_0x2ca0c2,_0x40d518){const _0x4ccb98=_0x7d9b84;return _0x5030d9[_0x4ccb98(0x22c)](_0x2ca0c2,_0x40d518);}};let _0x3d8da2=0x1;_0x236f5d[_0x7d9b84(0x271)](_0x29a396=>{const _0x558c32=_0x7d9b84;_0x24019a['Parameters']['push']({'ParameterKey':_0x558c32(0x246)+_0x30ee55['DgPyK'](_0x3c5e73,_0x3d8da2)[_0x558c32(0x1d9)](0x2,'0'),'ParameterValue':_0x29a396[_0x558c32(0x1f3)]}),_0x3d8da2+=0x1;});}}},addSubnetData=async(_0x1eba63,_0x24f717)=>{const _0x5ea279=a27_0x507613,_0x218476={'udhpv':function(_0x3fc043,_0x3fa3c4){return _0x3fc043===_0x3fa3c4;},'kZfic':_0x5ea279(0x266),'PxcPm':_0x5ea279(0x25d),'xYzew':'3|5|1|2|0|4','qgTco':_0x5ea279(0x1d0),'JqZdQ':function(_0x2f8c5e,_0x4bee14){return _0x2f8c5e(_0x4bee14);},'jVJnE':function(_0xbd4a55,_0x236f6a){return _0xbd4a55(_0x236f6a);},'fjhXS':function(_0x57f28d,_0x342889){return _0x57f28d(_0x342889);},'zYJqB':_0x5ea279(0x253),'ahATR':_0x5ea279(0x1e5),'yyiAJ':function(_0x2ed1ee,_0x4f3874){return _0x2ed1ee(_0x4f3874);},'keQlG':function(_0x2b932d,_0x450e46){return _0x2b932d(_0x450e46);},'YoVYt':_0x5ea279(0x210),'QhVHf':_0x5ea279(0x25a),'GJanh':function(_0x4a9676,_0x368830){return _0x4a9676===_0x368830;},'PPuVj':_0x5ea279(0x21f),'FSxqG':'CFTemplates','dRvgc':_0x5ea279(0x1ce),'gavSv':_0x5ea279(0x1ca),'qJxIa':function(_0x2cf648,_0x14eb64,_0x35a87c){return _0x2cf648(_0x14eb64,_0x35a87c);},'rdIfB':_0x5ea279(0x21a),'gNBRv':_0x5ea279(0x1e6),'inVfP':_0x5ea279(0x272),'zTVul':'Subnet01','hNBBi':_0x5ea279(0x265),'xuYGb':_0x5ea279(0x1e2),'poRjE':'Subnet01Block','JbyQN':'Subnet02Block','DNkTm':'Subnet03Block'};if(_0x24f717){if(_0x218476[_0x5ea279(0x1fd)](_0x218476[_0x5ea279(0x244)],_0x218476[_0x5ea279(0x244)])){const _0x5173d5=await fs[_0x5ea279(0x22d)](path[_0x5ea279(0x1ed)](__dirname,'..',_0x218476[_0x5ea279(0x23d)],_0x218476[_0x5ea279(0x225)]),_0x218476[_0x5ea279(0x234)]),_0xfeb266={};_0xfeb266[_0x5ea279(0x200)]=CLOUDFORMATION_SCHEMA;const _0x404160=yaml[_0x5ea279(0x224)](_0x5173d5,_0xfeb266);_0x218476[_0x5ea279(0x20b)](mergeTemplates,_0x1eba63,_0x404160);let _0x4ec17d=0x1;_0x24f717[_0x5ea279(0x271)](_0x5dcd51=>{const _0x38793f=_0x5ea279;if(_0x218476[_0x38793f(0x1fe)](_0x218476[_0x38793f(0x20f)],_0x218476[_0x38793f(0x214)]))_0x488d57[_0x28f6e5][_0x2f4dd1]=_0xdea762[_0x3d7bb1];else{const _0x511eb5=_0x218476[_0x38793f(0x1cf)][_0x38793f(0x1f5)]('|');let _0x4541ad=0x0;while(!![]){switch(_0x511eb5[_0x4541ad++]){case'0':_0x1eba63[_0x38793f(0x230)][_0x38793f(0x26a)]['Value'][_0x218476[_0x38793f(0x226)]][0x1][_0x38793f(0x270)]({'Ref':'Subnet'+_0x218476[_0x38793f(0x250)](String,_0x4ec17d)[_0x38793f(0x1d9)](0x2,'0')});continue;case'1':_0x1eba63['Resources'][_0x38793f(0x210)][_0x38793f(0x24d)][_0x38793f(0x1e1)][_0x38793f(0x270)]({'Ref':_0x38793f(0x246)+_0x218476[_0x38793f(0x216)](String,_0x4ec17d)[_0x38793f(0x1d9)](0x2,'0')});continue;case'2':_0x1eba63[_0x38793f(0x207)][_0x38793f(0x25a)]['Properties'][_0x38793f(0x1e1)][_0x38793f(0x270)]({'Ref':_0x38793f(0x246)+_0x218476[_0x38793f(0x280)](String,_0x4ec17d)[_0x38793f(0x1d9)](0x2,'0')});continue;case'3':_0x1eba63[_0x38793f(0x207)]['EKSCluster'][_0x38793f(0x24d)]['ResourcesVpcConfig'][_0x38793f(0x26a)][_0x38793f(0x270)]({'Ref':_0x38793f(0x246)+_0x218476[_0x38793f(0x216)](String,_0x4ec17d)[_0x38793f(0x1d9)](0x2,'0')});continue;case'4':_0x4ec17d+=0x1;continue;case'5':_0x1eba63[_0x38793f(0x268)][_0x218476[_0x38793f(0x25f)]][_0x38793f(0x219)][0x0]['Parameters'][_0x38793f(0x270)](_0x38793f(0x246)+_0x218476[_0x38793f(0x250)](String,_0x4ec17d)['padStart'](0x2,'0'));continue;}break;}}});}else{const _0x28065b=_0x218476['ahATR'][_0x5ea279(0x1f5)]('|');let _0x3c8234=0x0;while(!![]){switch(_0x28065b[_0x3c8234++]){case'0':_0x1dca18[_0x5ea279(0x268)][_0x218476[_0x5ea279(0x25f)]][_0x5ea279(0x219)][0x0][_0x5ea279(0x1cc)][_0x5ea279(0x270)]('Subnet'+_0x218476[_0x5ea279(0x250)](_0x2cc764,_0x5c9fc7)[_0x5ea279(0x1d9)](0x2,'0'));continue;case'1':_0x170a36[_0x5ea279(0x207)][_0x5ea279(0x25a)][_0x5ea279(0x24d)][_0x5ea279(0x1e1)][_0x5ea279(0x270)]({'Ref':_0x5ea279(0x246)+_0x218476[_0x5ea279(0x22b)](_0x558660,_0x43eb0d)['padStart'](0x2,'0')});continue;case'2':_0xaaa620+=0x1;continue;case'3':_0x3b074d['Resources'][_0x5ea279(0x210)][_0x5ea279(0x24d)]['Subnets'][_0x5ea279(0x270)]({'Ref':_0x5ea279(0x246)+_0x218476['yyiAJ'](_0x58dd83,_0x1a17c1)[_0x5ea279(0x1d9)](0x2,'0')});continue;case'4':_0x54eeca[_0x5ea279(0x207)][_0x5ea279(0x1fc)][_0x5ea279(0x24d)][_0x5ea279(0x21b)][_0x5ea279(0x26a)][_0x5ea279(0x270)]({'Ref':'Subnet'+_0x218476['JqZdQ'](_0x53398a,_0x2ef8fb)[_0x5ea279(0x1d9)](0x2,'0')});continue;case'5':_0xc3698a[_0x5ea279(0x230)][_0x5ea279(0x26a)][_0x5ea279(0x27e)][_0x218476[_0x5ea279(0x226)]][0x1][_0x5ea279(0x270)]({'Ref':_0x5ea279(0x246)+_0x218476[_0x5ea279(0x26c)](_0x1f0387,_0x238aaa)[_0x5ea279(0x1d9)](0x2,'0')});continue;}break;}}}else{if(_0x218476['GJanh'](_0x218476['rdIfB'],_0x218476[_0x5ea279(0x282)])){for(const _0x154e38 in _0x56e7a9[_0x5ea279(0x207)]){_0x16774c[_0x5ea279(0x207)][_0x154e38]['Properties']&&_0x308c5e['Resources'][_0x154e38][_0x5ea279(0x24d)][_0x5ea279(0x240)]&&_0x421816[_0x5ea279(0x207)][_0x154e38][_0x5ea279(0x24d)][_0x5ea279(0x240)][_0x5ea279(0x270)](..._0x2e76a2);}const _0x4abf1a={};_0x5c78a1[_0x5ea279(0x271)](_0x5433fc=>{const _0x58805f=_0x5ea279;_0x4abf1a[_0x5433fc[_0x58805f(0x23e)]]=_0x5433fc[_0x58805f(0x27e)];}),_0x138557[_0x5ea279(0x207)][_0x218476[_0x5ea279(0x277)]][_0x5ea279(0x24d)][_0x5ea279(0x240)]=_0x4abf1a,_0x438511[_0x5ea279(0x207)][_0x218476[_0x5ea279(0x1d2)]][_0x5ea279(0x24d)]['Tags']=_0x4abf1a;}else{const _0x440aa2=await fs[_0x5ea279(0x22d)](path[_0x5ea279(0x1ed)](__dirname,'..',_0x218476[_0x5ea279(0x23d)],_0x218476[_0x5ea279(0x1d4)]),_0x218476[_0x5ea279(0x234)]),_0x5c2d74={};_0x5c2d74[_0x5ea279(0x200)]=CLOUDFORMATION_SCHEMA;const _0x40703f=yaml[_0x5ea279(0x224)](_0x440aa2,_0x5c2d74);_0x218476[_0x5ea279(0x20b)](mergeTemplates,_0x1eba63,_0x40703f),_0x1eba63[_0x5ea279(0x207)][_0x5ea279(0x1fc)][_0x5ea279(0x258)][_0x5ea279(0x270)](_0x218476[_0x5ea279(0x1e9)],_0x218476[_0x5ea279(0x1c9)],_0x218476[_0x5ea279(0x261)]);const _0x7bc422={};_0x7bc422[_0x5ea279(0x1da)]=_0x218476['zTVul'];const _0x457213={};_0x457213[_0x5ea279(0x1da)]=_0x218476[_0x5ea279(0x1c9)];const _0x4b5c7e={};_0x4b5c7e[_0x5ea279(0x1da)]=_0x218476['xuYGb'],_0x1eba63[_0x5ea279(0x207)][_0x5ea279(0x1fc)][_0x5ea279(0x24d)][_0x5ea279(0x21b)][_0x5ea279(0x26a)]=[_0x7bc422,_0x457213,_0x4b5c7e],_0x1eba63[_0x5ea279(0x268)][_0x218476['zYJqB']][_0x5ea279(0x219)][0x0][_0x5ea279(0x1cc)]['push'](_0x218476[_0x5ea279(0x1fa)],_0x218476[_0x5ea279(0x255)],_0x218476[_0x5ea279(0x276)]);const _0x119581={};_0x119581[_0x5ea279(0x1da)]=_0x218476[_0x5ea279(0x1e9)];const _0x5e8fd9={};_0x5e8fd9['Ref']=_0x218476[_0x5ea279(0x1c9)];const _0x22ca9f={};_0x22ca9f[_0x5ea279(0x1da)]=_0x218476[_0x5ea279(0x261)],_0x1eba63[_0x5ea279(0x207)][_0x5ea279(0x210)][_0x5ea279(0x24d)]['Subnets']=[_0x119581,_0x5e8fd9,_0x22ca9f];const _0x57e110={};_0x57e110['Ref']=_0x218476[_0x5ea279(0x1e9)];const _0x40c106={};_0x40c106[_0x5ea279(0x1da)]=_0x218476[_0x5ea279(0x1c9)];const _0x5741a9={};_0x5741a9['Ref']=_0x218476[_0x5ea279(0x261)],_0x1eba63[_0x5ea279(0x207)]['NodeGroupWindows'][_0x5ea279(0x24d)]['Subnets']=[_0x57e110,_0x40c106,_0x5741a9],_0x1eba63[_0x5ea279(0x230)][_0x5ea279(0x26a)][_0x5ea279(0x27e)][_0x218476[_0x5ea279(0x226)]][0x1]=[{'Ref':_0x218476['zTVul']},{'Ref':_0x218476[_0x5ea279(0x1c9)]},{'Ref':_0x218476[_0x5ea279(0x261)]}];}}},addTags=async(_0x4d2ff7,_0x16fda7,_0x47829c)=>{const _0x8c17c2=a27_0x507613,_0x4c5aeb={};_0x4c5aeb['mestB']='VPC',_0x4c5aeb['yeALL']=function(_0x54c06d,_0x39778e){return _0x54c06d===_0x39778e;},_0x4c5aeb[_0x8c17c2(0x23f)]='ISVGz',_0x4c5aeb[_0x8c17c2(0x241)]='vyQcs',_0x4c5aeb['DxcdZ']=_0x8c17c2(0x209),_0x4c5aeb[_0x8c17c2(0x23b)]=function(_0x2a6d1c,_0x224ce7){return _0x2a6d1c!==_0x224ce7;},_0x4c5aeb['TRzEt']=_0x8c17c2(0x274),_0x4c5aeb[_0x8c17c2(0x1dc)]=_0x8c17c2(0x210),_0x4c5aeb['iHJKr']='NodeGroupWindows';const _0x22b996=_0x4c5aeb;for(const _0xe6c24e in _0x4d2ff7[_0x8c17c2(0x207)]){if(_0x22b996['yeALL'](_0x22b996[_0x8c17c2(0x279)],_0x22b996['DxcdZ'])){if(_0x4d2ff7[_0x8c17c2(0x207)][_0xe6c24e][_0x8c17c2(0x24d)]&&_0x4d2ff7[_0x8c17c2(0x207)][_0xe6c24e]['Properties'][_0x8c17c2(0x240)]){if(_0x22b996[_0x8c17c2(0x23b)](_0x22b996[_0x8c17c2(0x26e)],_0x22b996[_0x8c17c2(0x26e)])){var _0x3b6f6e=_0x49e8f9[_0x1b47e1];_0x53200a[_0x8c17c2(0x20a)](_0x3b6f6e)[_0x8c17c2(0x271)](_0x465aa0=>{_0x45e4dd[_0x2a1776][_0x465aa0]=_0x3b6f6e[_0x465aa0];});}else _0x4d2ff7[_0x8c17c2(0x207)][_0xe6c24e]['Properties']['Tags'][_0x8c17c2(0x270)](..._0x47829c);}}else _0x121208[_0x8c17c2(0x20a)](_0xc98c52)[_0x8c17c2(0x271)](_0xbaec0d=>{const _0x4ca6e0=_0x8c17c2;var _0x1b8b86=_0x11d261[_0xbaec0d];_0x35a85c[_0x4ca6e0(0x20a)](_0x1b8b86)[_0x4ca6e0(0x271)](_0xeacbd9=>{_0x17f552[_0xbaec0d][_0xeacbd9]=_0x1b8b86[_0xeacbd9];});});}const _0x21135e={};_0x47829c['forEach'](_0x36d01a=>{const _0x23983f=_0x8c17c2,_0x5d56d2={};_0x5d56d2[_0x23983f(0x245)]=_0x22b996['mestB'];const _0x5132dd=_0x5d56d2;if(_0x22b996['yeALL'](_0x22b996[_0x23983f(0x23f)],_0x22b996['MyVlp'])){const _0x46d5af={};_0x46d5af[_0x23983f(0x229)]=_0x5132dd[_0x23983f(0x245)],_0x46d5af[_0x23983f(0x1f8)]=_0x67ea29,_0xfc7ddd[_0x23983f(0x1cc)]['push'](_0x46d5af);}else _0x21135e[_0x36d01a[_0x23983f(0x23e)]]=_0x36d01a['Value'];}),_0x4d2ff7[_0x8c17c2(0x207)][_0x22b996['CSHZN']][_0x8c17c2(0x24d)]['Tags']=_0x21135e,_0x4d2ff7[_0x8c17c2(0x207)][_0x22b996['iHJKr']][_0x8c17c2(0x24d)][_0x8c17c2(0x240)]=_0x21135e;};exports[a27_0x507613(0x1ea)]=async(_0x3643fe,_0x23dcca,_0x4e82be,_0x19f238=null,_0x2728b8=null,_0x2afb68)=>{const _0x2d8196=a27_0x507613,_0x5ec384={'GdhZt':function(_0x22070e,_0x5f2964){return _0x22070e(_0x5f2964);},'sXhSG':_0x2d8196(0x1ee),'BWCqo':'browserstack:creationDate','ytVaI':_0x2d8196(0x223),'NplHD':_0x2d8196(0x239),'bktit':'aws-eks-cluster-dep.yaml','YDvkD':_0x2d8196(0x1ca),'KkCgW':function(_0x28dd97,_0x4d0867,_0x5b32fa){return _0x28dd97(_0x4d0867,_0x5b32fa);},'SGPyi':function(_0x5c4b06,_0x17c1da,_0x75ef5a){return _0x5c4b06(_0x17c1da,_0x75ef5a);},'yqZwB':function(_0x29906d,_0x5d5354,_0x1da0d7,_0x259698){return _0x29906d(_0x5d5354,_0x1da0d7,_0x259698);},'inYKp':_0x2d8196(0x231),'faAwF':'ClusterName','QGfWG':_0x2d8196(0x1e8),'ZjiIE':_0x2d8196(0x1ec),'zYIjN':_0x2d8196(0x1d5),'hoilQ':_0x2d8196(0x24e),'ETnBi':_0x2d8196(0x22f),'VrsgN':'NodeImageId','EGzXB':_0x2d8196(0x267),'fvqZI':'S3BucketName','uyIwx':_0x2d8196(0x256),'RNZOv':_0x2d8196(0x206),'Zuwzk':_0x2d8196(0x222),'ESqSe':_0x2d8196(0x235),'HWlZe':_0x2d8196(0x257),'uGQiC':function(_0x5610ac,_0x6fcd17){return _0x5610ac!=_0x6fcd17;},'sfiEQ':function(_0x26f851,_0x15f0cd){return _0x26f851!==_0x15f0cd;},'guXoc':_0x2d8196(0x1d6),'VaDWW':'DHjzq','bXVNZ':_0x2d8196(0x22e),'TkPXW':function(_0x4b4622,_0x7e2db9){return _0x4b4622!==_0x7e2db9;},'BxhKv':_0x2d8196(0x1cd),'VnZdf':_0x2d8196(0x23a)},_0x4a8a0c=COMMON_HST_TAGS,_0x5a6e1d={};_0x5a6e1d[_0x2d8196(0x23e)]=_0x5ec384[_0x2d8196(0x228)],_0x5a6e1d[_0x2d8196(0x27e)]=_0x3643fe,_0x4a8a0c[_0x2d8196(0x270)](_0x5a6e1d),_0x4a8a0c[_0x2d8196(0x270)]({'Key':_0x5ec384['BWCqo'],'Value':new Date()[_0x2d8196(0x242)]()['toString']()});const _0x2469b7={};_0x2469b7['apiVersion']=_0x5ec384[_0x2d8196(0x269)];const _0x1715bb=new AWS['CloudFormation'](_0x2469b7),_0xef8ca3=await fs['readFileAsync'](path['join'](__dirname,'..',_0x5ec384[_0x2d8196(0x1f7)],_0x5ec384[_0x2d8196(0x283)]),_0x5ec384[_0x2d8196(0x217)]),_0x47cc48={};_0x47cc48[_0x2d8196(0x200)]=CLOUDFORMATION_SCHEMA;const _0x4542a2=yaml[_0x2d8196(0x224)](_0xef8ca3,_0x47cc48);await _0x5ec384[_0x2d8196(0x24f)](addVPCData,_0x4542a2,_0x19f238),await _0x5ec384[_0x2d8196(0x213)](addS3Data,_0x4542a2),await _0x5ec384['SGPyi'](addSubnetData,_0x4542a2,_0x2728b8),await _0x5ec384[_0x2d8196(0x1cb)](addTags,_0x4542a2,_0x3643fe,_0x4a8a0c);const _0x250b83=JSON['stringify'](_0x4542a2),_0x706d72={};_0x706d72['StackName']=CLUSTER_DEP_STACK_NAME+'-'+_0x3643fe,_0x706d72[_0x2d8196(0x263)]=_0x5ec384[_0x2d8196(0x1d8)],_0x706d72[_0x2d8196(0x212)]=_0x250b83,_0x706d72[_0x2d8196(0x1cc)]=[{'ParameterKey':_0x5ec384[_0x2d8196(0x27a)],'ParameterValue':_0x3643fe},{'ParameterKey':_0x5ec384[_0x2d8196(0x1f0)],'ParameterValue':_0x3643fe+_0x2d8196(0x248)},{'ParameterKey':_0x5ec384[_0x2d8196(0x211)],'ParameterValue':''+_0x23dcca},{'ParameterKey':_0x5ec384['zYIjN'],'ParameterValue':'0'},{'ParameterKey':_0x5ec384[_0x2d8196(0x251)],'ParameterValue':'1'},{'ParameterKey':_0x5ec384[_0x2d8196(0x275)],'ParameterValue':''+_0x4e82be},{'ParameterKey':_0x5ec384[_0x2d8196(0x25e)],'ParameterValue':global_registry[_0x2d8196(0x1e4)]},{'ParameterKey':_0x5ec384[_0x2d8196(0x252)],'ParameterValue':global_registry[_0x2d8196(0x27f)]},{'ParameterKey':_0x5ec384[_0x2d8196(0x21e)],'ParameterValue':global_registry[_0x2d8196(0x1e7)]},{'ParameterKey':_0x5ec384[_0x2d8196(0x21c)],'ParameterValue':_0x3643fe+_0x2d8196(0x24c)},{'ParameterKey':_0x5ec384[_0x2d8196(0x23c)],'ParameterValue':_0x2afb68?_0x5ec384[_0x2d8196(0x208)]:_0x5ec384[_0x2d8196(0x202)]}],_0x706d72[_0x2d8196(0x1eb)]=[_0x5ec384['HWlZe']],_0x706d72[_0x2d8196(0x240)]=_0x4a8a0c;const _0x4f450a=_0x706d72;if(_0x5ec384[_0x2d8196(0x243)](_0x19f238,null)&&_0x5ec384['sfiEQ'](_0x19f238,undefined)){if(_0x5ec384[_0x2d8196(0x1f2)](_0x5ec384[_0x2d8196(0x281)],_0x5ec384[_0x2d8196(0x1d3)])){const _0xb98018={};_0xb98018['ParameterKey']=_0x5ec384[_0x2d8196(0x264)],_0xb98018[_0x2d8196(0x1f8)]=_0x19f238,_0x4f450a['Parameters'][_0x2d8196(0x270)](_0xb98018);}else _0x1c1dd7[_0x2d8196(0x1cc)][_0x2d8196(0x270)]({'ParameterKey':_0x2d8196(0x246)+_0x5ec384[_0x2d8196(0x213)](_0x1ed84f,_0x1556b1)[_0x2d8196(0x1d9)](0x2,'0'),'ParameterValue':_0xe7112f[_0x2d8196(0x1f3)]}),_0x2a3fee+=0x1;}if(_0x5ec384[_0x2d8196(0x243)](_0x2728b8,null)&&_0x5ec384[_0x2d8196(0x237)](_0x2728b8,undefined)){let _0x4acb57=0x1;_0x2728b8['forEach'](_0x5e51c1=>{const _0x3855d1=_0x2d8196;_0x4f450a[_0x3855d1(0x1cc)][_0x3855d1(0x270)]({'ParameterKey':_0x3855d1(0x246)+_0x5ec384[_0x3855d1(0x213)](String,_0x4acb57)['padStart'](0x2,'0'),'ParameterValue':_0x5e51c1['value']}),_0x4acb57+=0x1;});}const _0x2b2d1a=await _0x1715bb['createStack'](_0x4f450a)[_0x2d8196(0x24a)]();logger['debug'](_0x5ec384['BxhKv']);const _0x420108={};return _0x420108['StackName']=_0x2b2d1a[_0x2d8196(0x1ef)],_0x1715bb[_0x2d8196(0x1db)](_0x5ec384['VnZdf'],_0x420108)[_0x2d8196(0x24a)]();};