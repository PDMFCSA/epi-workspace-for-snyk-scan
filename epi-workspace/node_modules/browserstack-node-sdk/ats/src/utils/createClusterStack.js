function a27_0x3c1b(_0x3315d4,_0x141942){const _0x33cb8f=a27_0x33cb();return a27_0x3c1b=function(_0x3c1bbf,_0x2b3452){_0x3c1bbf=_0x3c1bbf-0x157;let _0x4f4c21=_0x33cb8f[_0x3c1bbf];return _0x4f4c21;},a27_0x3c1b(_0x3315d4,_0x141942);}const a27_0x5749bc=a27_0x3c1b;(function(_0x5da216,_0x2010e5){const _0x1dd143=a27_0x3c1b,_0x5dcfa8=_0x5da216();while(!![]){try{const _0x29c64c=-parseInt(_0x1dd143(0x1f2))/0x1*(-parseInt(_0x1dd143(0x15b))/0x2)+parseInt(_0x1dd143(0x208))/0x3+-parseInt(_0x1dd143(0x1dd))/0x4+-parseInt(_0x1dd143(0x167))/0x5*(parseInt(_0x1dd143(0x203))/0x6)+-parseInt(_0x1dd143(0x205))/0x7*(parseInt(_0x1dd143(0x16e))/0x8)+-parseInt(_0x1dd143(0x18a))/0x9+-parseInt(_0x1dd143(0x1e6))/0xa*(-parseInt(_0x1dd143(0x1a3))/0xb);if(_0x29c64c===_0x2010e5)break;else _0x5dcfa8['push'](_0x5dcfa8['shift']());}catch(_0xa5b9f1){_0x5dcfa8['push'](_0x5dcfa8['shift']());}}}(a27_0x33cb,0x3f0bf));function a27_0x33cb(){const _0x2c944d=['Subnet03Block','keys','Parameters','Metadata','Subnet02','AWS::CloudFormation::Interface','TCTkN','sUnJg','RaRqW','18Mndlsx','SOYVh','21hSmrGV','UYFTc','Fn::Join','1105518HhyrXi','zmrbP','YMKlK','forEach','S3BucketName','bRRDA','DxeFK','CfYmQ','kKzjp','Subnets','18djtrHo','sQrIt','ylkHF','xgwjL','createStack','promisifyAll','ejqec','UQmbm','NtHih','piBds','Nuuno','browserstack:cluster','616105Arxzmd','otecg','CAPABILITY_NAMED_IAM','ANHWc','ami','rOJlC','apiVersion','93592QwkUag','value','NMQNK','instanceType','KVdwf','hivvV','VpGDl','ResourcesVpcConfig','ParameterGroups','3|5|4|2|0|1','push','spcvE','QNVXt','HhIoy','load','aoUdQ','YmGLX','Subnet03','jJpQe','s3-create.yaml','stackCreateComplete','rpCpV','GwSGM','Tags','lcrjD','Properties','NYpRK','gzBva','4009545GwVloc','QTYYf','GgHHZ','Key','kEWjq','NodeInstanceType','CloudFormation','MaxZZ','brmSY','subnet-create.yaml','bRzdl','QlClS','WXyyx','DELETE','UiyRV','iSgAn','Capabilities','tDGzW','yKMdL','oFXfA','hAJyV','Subnet02Block','-Windows-NodeGroup','qTyKU','Gzlfr','44UyDgfS','CFTemplates','Rsect','vEcHy','xzkba','OnFailure','GpopU','NndXn','SyeOd','YbhgK','rBtUC','ECuBr','NodeGroupWindows','peDqA','tuTIP','yrWKl','ZiHru','NodeGroup','LKIFB','ALvfB','waitFor','readFileAsync','schema','toString','Resources','Value','split','Ref','rcRWQ','Dkios','cERbC','padStart','AWLYb','Aczbf','NlFSY','zIfJi','s3Bucket','NodeAutoScalingGroupMinSizeWindows','NodeGroupName','debug','join','VPC','browserstack:creationDate','NodeAutoScalingGroupMaxSize','promise','nJROI','js-yaml-cloudformation-schema','VpcBlock','fcFlz','./AWSUtils','bxLtS','hxrzv','Scqjf','YmVMN','ftgfL','vpc-create.yaml','path','valueOf','1152484yeWODi','utf-8','Ektsn','oHcJB','wMhFR','NodeAutoScalingGroupDesiredSizeWindows','mwwhC','EKSCluster','BDShn','1863280KGkiMF','QfcQp','Subnet','ParameterKey','StackName','HWzgZ','MpszY','Outputs','qYosF','ParameterValue','Subnet01Block','wRmLn','31423xollNn','Dimtn','dUDEi','rdsrw','Waiting\x20for\x20CloudFormation\x20stack\x20to\x20complete','sfJoo','SubnetIds','bXMEJ'];a27_0x33cb=function(){return _0x2c944d;};return a27_0x33cb();}const fs=require('fs'),path=require(a27_0x5749bc(0x1db)),Promise=require('bluebird'),yaml=require('js-yaml'),{CLOUDFORMATION_SCHEMA}=require(a27_0x5749bc(0x1d1)),AWS=require(a27_0x5749bc(0x1d4))['awsObj'],{CLUSTER_DEP_STACK_NAME,COMMON_HST_TAGS,global_registry}=require('../config/constants'),{logger}=require('../config/logger'),{isBucketPresent}=require(a27_0x5749bc(0x1d4));Promise[a27_0x5749bc(0x160)](fs);const mergeTemplates=(_0x10e408,_0x1ed450)=>{const _0x2638ed=a27_0x5749bc,_0x46786f={};_0x46786f[_0x2638ed(0x16c)]=function(_0x2dc396,_0x1ae845){return _0x2dc396===_0x1ae845;},_0x46786f[_0x2638ed(0x1b1)]='DvALx',_0x46786f[_0x2638ed(0x15c)]=function(_0x5b4954,_0x532b79){return _0x5b4954!==_0x532b79;},_0x46786f[_0x2638ed(0x1aa)]=_0x2638ed(0x1df);const _0x3bc018=_0x46786f;Object[_0x2638ed(0x1fb)](_0x1ed450)['forEach'](_0x3dfd8a=>{const _0x3bfcf6=_0x2638ed,_0x196c68={'rpCpV':function(_0x1328a2,_0x36f21f){const _0x452f35=a27_0x3c1b;return _0x3bc018[_0x452f35(0x16c)](_0x1328a2,_0x36f21f);},'hxrzv':_0x3bc018[_0x3bfcf6(0x1b1)]};if(_0x3bc018['sQrIt'](_0x3bc018[_0x3bfcf6(0x1aa)],_0x3bc018[_0x3bfcf6(0x1aa)])){var _0x583de0=_0x41ba51[_0x1c895a];_0x2a5d7c[_0x3bfcf6(0x1fb)](_0x583de0)[_0x3bfcf6(0x20b)](_0x5e2cd4=>{_0x46f441[_0x4c7b84][_0x5e2cd4]=_0x583de0[_0x5e2cd4];});}else{var _0x1d81af=_0x1ed450[_0x3dfd8a];Object[_0x3bfcf6(0x1fb)](_0x1d81af)[_0x3bfcf6(0x20b)](_0x46c335=>{const _0x4ef9af=_0x3bfcf6;_0x196c68[_0x4ef9af(0x183)](_0x196c68[_0x4ef9af(0x1d6)],_0x196c68['hxrzv'])?_0x10e408[_0x3dfd8a][_0x46c335]=_0x1d81af[_0x46c335]:_0x1e16ae[_0x4ef9af(0x1bb)][_0x2d1f84][_0x4ef9af(0x187)][_0x4ef9af(0x185)][_0x4ef9af(0x178)](..._0x301a99);});}});},addVPCData=async(_0x3c8545,_0x2e77b7)=>{const _0x3c4c59=a27_0x5749bc,_0x15d630={'bxLtS':_0x3c4c59(0x1b4),'IVlkv':'NodeGroupWindows','Rsect':function(_0x3e4917,_0xe8c37a){return _0x3e4917!==_0xe8c37a;},'hAJyV':_0x3c4c59(0x1f5),'UQmbm':'CFTemplates','MaxZZ':'vpc-import.yaml','NYpRK':_0x3c4c59(0x1de),'TCTkN':function(_0x15e298,_0x428799,_0xa77af8){return _0x15e298(_0x428799,_0xa77af8);},'oHcJB':_0x3c4c59(0x1ff),'Geysj':'VPC','YMgxy':function(_0x19918b,_0x5f0756){return _0x19918b!==_0x5f0756;},'yrWKl':'lmFTI','zmrbP':_0x3c4c59(0x1a1),'kEWjq':_0x3c4c59(0x1da),'rBtUC':_0x3c4c59(0x1d2)};if(_0x2e77b7){if(_0x15d630[_0x3c4c59(0x1a5)](_0x15d630[_0x3c4c59(0x19e)],_0x15d630[_0x3c4c59(0x19e)]))_0x4de63f[_0x3c4c59(0x1bb)][_0x2b9bcc]['Properties']&&_0xbbc9ec[_0x3c4c59(0x1bb)][_0x15608f][_0x3c4c59(0x187)][_0x3c4c59(0x185)]&&_0x314d9f['Resources'][_0x566561][_0x3c4c59(0x187)][_0x3c4c59(0x185)][_0x3c4c59(0x178)](..._0x5f3cfa);else{const _0x592338=await fs[_0x3c4c59(0x1b8)](path[_0x3c4c59(0x1cb)](__dirname,'..',_0x15d630[_0x3c4c59(0x162)],_0x15d630[_0x3c4c59(0x191)]),_0x15d630[_0x3c4c59(0x188)]),_0x24c1e0={};_0x24c1e0[_0x3c4c59(0x1b9)]=CLOUDFORMATION_SCHEMA;const _0x4a9c32=yaml[_0x3c4c59(0x17c)](_0x592338,_0x24c1e0);_0x15d630['TCTkN'](mergeTemplates,_0x3c8545,_0x4a9c32),_0x3c8545[_0x3c4c59(0x1fd)][_0x15d630[_0x3c4c59(0x1e0)]][_0x3c4c59(0x176)][0x0][_0x3c4c59(0x1fc)][_0x3c4c59(0x178)](_0x15d630['Geysj']);}}else{if(_0x15d630['YMgxy'](_0x15d630[_0x3c4c59(0x1b2)],_0x15d630[_0x3c4c59(0x209)])){const _0x131fcc=await fs[_0x3c4c59(0x1b8)](path[_0x3c4c59(0x1cb)](__dirname,'..',_0x15d630[_0x3c4c59(0x162)],_0x15d630[_0x3c4c59(0x18e)]),_0x15d630[_0x3c4c59(0x188)]),_0x351ba1={};_0x351ba1['schema']=CLOUDFORMATION_SCHEMA;const _0x1c5c90=yaml[_0x3c4c59(0x17c)](_0x131fcc,_0x351ba1);_0x15d630[_0x3c4c59(0x200)](mergeTemplates,_0x3c8545,_0x1c5c90),_0x3c8545[_0x3c4c59(0x1fd)][_0x15d630['oHcJB']][_0x3c4c59(0x176)][0x0][_0x3c4c59(0x1fc)]['push'](_0x15d630[_0x3c4c59(0x1ad)]);}else{for(const _0x41d368 in _0x2fd775[_0x3c4c59(0x1bb)]){_0x42757b[_0x3c4c59(0x1bb)][_0x41d368][_0x3c4c59(0x187)]&&_0x2da913[_0x3c4c59(0x1bb)][_0x41d368][_0x3c4c59(0x187)]['Tags']&&_0x2e13ca[_0x3c4c59(0x1bb)][_0x41d368][_0x3c4c59(0x187)][_0x3c4c59(0x185)][_0x3c4c59(0x178)](..._0x561708);}const _0x209f68={};_0x5056bd[_0x3c4c59(0x20b)](_0x313704=>{const _0x7d55d8=_0x3c4c59;_0x209f68[_0x313704[_0x7d55d8(0x18d)]]=_0x313704['Value'];}),_0x35cff4['Resources'][_0x15d630[_0x3c4c59(0x1d5)]][_0x3c4c59(0x187)][_0x3c4c59(0x185)]=_0x209f68,_0x317a6f[_0x3c4c59(0x1bb)][_0x15d630['IVlkv']]['Properties'][_0x3c4c59(0x185)]=_0x209f68;}}},addS3Data=async _0x2e27c7=>{const _0x10b33d=a27_0x5749bc,_0x250c49={'VpGDl':function(_0x2491f0,_0x4c660f){return _0x2491f0(_0x4c660f);},'mwwhC':_0x10b33d(0x1a4),'iSgAn':_0x10b33d(0x181),'oDRlt':_0x10b33d(0x1de),'XgOPp':function(_0x2052c1,_0x1a0a9e){return _0x2052c1(_0x1a0a9e);},'bRRDA':function(_0x6265,_0x448794){return _0x6265===_0x448794;},'GgHHZ':_0x10b33d(0x164),'VVcTF':_0x10b33d(0x159),'UiyRV':function(_0x534ebd,_0x31202e,_0x4b6073){return _0x534ebd(_0x31202e,_0x4b6073);}},_0x1af436=await fs[_0x10b33d(0x1b8)](path[_0x10b33d(0x1cb)](__dirname,'..',_0x250c49[_0x10b33d(0x1e3)],_0x250c49[_0x10b33d(0x199)]),_0x250c49['oDRlt']),_0x39501c={};_0x39501c['schema']=CLOUDFORMATION_SCHEMA;const _0x50fbb4=yaml[_0x10b33d(0x17c)](_0x1af436,_0x39501c),_0x28a5ca=await _0x250c49['XgOPp'](isBucketPresent,global_registry[_0x10b33d(0x1c7)]);if(_0x250c49[_0x10b33d(0x20d)](_0x28a5ca,![])){if(_0x250c49[_0x10b33d(0x20d)](_0x250c49[_0x10b33d(0x18c)],_0x250c49['VVcTF'])){const _0x14b0fe={'GpopU':function(_0x40ea67,_0x2b4ff2){const _0x492ebe=_0x10b33d;return _0x250c49[_0x492ebe(0x174)](_0x40ea67,_0x2b4ff2);}};let _0x42eb91=0x1;_0x289ada[_0x10b33d(0x20b)](_0x2c3e3e=>{const _0x3b4970=_0x10b33d;_0x46c58c['Parameters'][_0x3b4970(0x178)]({'ParameterKey':_0x3b4970(0x1e8)+_0x14b0fe[_0x3b4970(0x1a9)](_0x87862,_0x42eb91)['padStart'](0x2,'0'),'ParameterValue':_0x2c3e3e[_0x3b4970(0x16f)]}),_0x42eb91+=0x1;});}else _0x250c49[_0x10b33d(0x198)](mergeTemplates,_0x2e27c7,_0x50fbb4);}},addSubnetData=async(_0x3d10c1,_0x3f18fc)=>{const _0x3010e3=a27_0x5749bc,_0x1ae0bd={'QfcQp':function(_0x3f628a,_0x1fc70b,_0x3dac2d){return _0x3f628a(_0x1fc70b,_0x3dac2d);},'ftgfL':function(_0x178256,_0x21a4bf){return _0x178256===_0x21a4bf;},'SOYVh':_0x3010e3(0x1a7),'sUnJg':_0x3010e3(0x177),'wRmLn':_0x3010e3(0x207),'xgwjL':function(_0x27a08d,_0x52fb8c){return _0x27a08d(_0x52fb8c);},'HWzgZ':function(_0x2b6c7e,_0x34ac3f){return _0x2b6c7e(_0x34ac3f);},'Dkios':'AWS::CloudFormation::Interface','spcvE':function(_0x4f3f83,_0x247e16){return _0x4f3f83(_0x247e16);},'KVdwf':function(_0x1d7ead,_0x26f4e6){return _0x1d7ead!==_0x26f4e6;},'wMhFR':_0x3010e3(0x163),'oFXfA':'CFTemplates','YmGLX':'subnet-import.yaml','LKIFB':_0x3010e3(0x1de),'YmVMN':function(_0x134a16,_0xa4bc15){return _0x134a16!==_0xa4bc15;},'Aczbf':_0x3010e3(0x206),'EncDt':_0x3010e3(0x173),'Scqjf':_0x3010e3(0x193),'QTYYf':function(_0x235f8e,_0xfbcbbc,_0xf52b01){return _0x235f8e(_0xfbcbbc,_0xf52b01);},'YMKlK':'Subnet01','NlFSY':_0x3010e3(0x1fe),'YbhgK':_0x3010e3(0x17f),'rcRWQ':_0x3010e3(0x1f0),'RDrSw':_0x3010e3(0x19f),'dUDEi':_0x3010e3(0x1fa)};if(_0x3f18fc){if(_0x1ae0bd[_0x3010e3(0x172)](_0x1ae0bd[_0x3010e3(0x1e1)],_0x1ae0bd[_0x3010e3(0x1e1)]))_0x545d3d[_0x35c2f3][_0x59c826]=_0xc4e3a1[_0x35b4b8];else{const _0x4306db=await fs['readFileAsync'](path[_0x3010e3(0x1cb)](__dirname,'..',_0x1ae0bd['oFXfA'],_0x1ae0bd[_0x3010e3(0x17e)]),_0x1ae0bd['LKIFB']),_0x481d4e={};_0x481d4e['schema']=CLOUDFORMATION_SCHEMA;const _0x9e4a22=yaml[_0x3010e3(0x17c)](_0x4306db,_0x481d4e);_0x1ae0bd[_0x3010e3(0x1e7)](mergeTemplates,_0x3d10c1,_0x9e4a22);let _0x5a4461=0x1;_0x3f18fc[_0x3010e3(0x20b)](_0x5b8348=>{const _0xcff675=_0x3010e3;if(_0x1ae0bd[_0xcff675(0x1d9)](_0x1ae0bd[_0xcff675(0x204)],_0x1ae0bd[_0xcff675(0x204)])){const _0x3a8e74=_0x1ae0bd[_0xcff675(0x201)][_0xcff675(0x1bd)]('|');let _0x4c0945=0x0;while(!![]){switch(_0x3a8e74[_0x4c0945++]){case'0':_0x3d10c1[_0xcff675(0x1ed)][_0xcff675(0x1f8)]['Value'][_0x1ae0bd[_0xcff675(0x1f1)]][0x1][_0xcff675(0x178)]({'Ref':_0xcff675(0x1e8)+_0x1ae0bd[_0xcff675(0x15e)](String,_0x5a4461)[_0xcff675(0x1c2)](0x2,'0')});continue;case'1':_0x5a4461+=0x1;continue;case'2':_0x3d10c1[_0xcff675(0x1bb)][_0xcff675(0x1af)][_0xcff675(0x187)]['Subnets'][_0xcff675(0x178)]({'Ref':_0xcff675(0x1e8)+_0x1ae0bd[_0xcff675(0x1eb)](String,_0x5a4461)[_0xcff675(0x1c2)](0x2,'0')});continue;case'3':_0x3d10c1['Resources'][_0xcff675(0x1e4)][_0xcff675(0x187)][_0xcff675(0x175)]['SubnetIds'][_0xcff675(0x178)]({'Ref':_0xcff675(0x1e8)+_0x1ae0bd[_0xcff675(0x1eb)](String,_0x5a4461)[_0xcff675(0x1c2)](0x2,'0')});continue;case'4':_0x3d10c1[_0xcff675(0x1bb)][_0xcff675(0x1b4)][_0xcff675(0x187)][_0xcff675(0x15a)]['push']({'Ref':'Subnet'+_0x1ae0bd[_0xcff675(0x15e)](String,_0x5a4461)['padStart'](0x2,'0')});continue;case'5':_0x3d10c1[_0xcff675(0x1fd)][_0x1ae0bd['Dkios']]['ParameterGroups'][0x0]['Parameters']['push'](_0xcff675(0x1e8)+_0x1ae0bd[_0xcff675(0x179)](String,_0x5a4461)['padStart'](0x2,'0'));continue;}break;}}else _0x1ae0bd[_0xcff675(0x1e7)](_0x243ca3,_0x2451d8,_0x13dc51);});}}else{if(_0x1ae0bd[_0x3010e3(0x1d8)](_0x1ae0bd[_0x3010e3(0x1c4)],_0x1ae0bd['EncDt'])){const _0x30f2aa=await fs[_0x3010e3(0x1b8)](path[_0x3010e3(0x1cb)](__dirname,'..',_0x1ae0bd[_0x3010e3(0x19d)],_0x1ae0bd[_0x3010e3(0x1d7)]),_0x1ae0bd[_0x3010e3(0x1b5)]),_0x4c4cbd={};_0x4c4cbd[_0x3010e3(0x1b9)]=CLOUDFORMATION_SCHEMA;const _0x3cc572=yaml[_0x3010e3(0x17c)](_0x30f2aa,_0x4c4cbd);_0x1ae0bd[_0x3010e3(0x18b)](mergeTemplates,_0x3d10c1,_0x3cc572),_0x3d10c1[_0x3010e3(0x1bb)][_0x3010e3(0x1e4)]['DependsOn'][_0x3010e3(0x178)](_0x1ae0bd[_0x3010e3(0x20a)],_0x1ae0bd[_0x3010e3(0x1c5)],_0x1ae0bd[_0x3010e3(0x1ac)]);const _0x345e4f={};_0x345e4f[_0x3010e3(0x1be)]=_0x1ae0bd['YMKlK'];const _0x5dc069={};_0x5dc069['Ref']=_0x1ae0bd[_0x3010e3(0x1c5)];const _0x46ef71={};_0x46ef71[_0x3010e3(0x1be)]=_0x1ae0bd[_0x3010e3(0x1ac)],_0x3d10c1['Resources'][_0x3010e3(0x1e4)][_0x3010e3(0x187)][_0x3010e3(0x175)][_0x3010e3(0x1f8)]=[_0x345e4f,_0x5dc069,_0x46ef71],_0x3d10c1[_0x3010e3(0x1fd)][_0x1ae0bd[_0x3010e3(0x1c0)]][_0x3010e3(0x176)][0x0][_0x3010e3(0x1fc)][_0x3010e3(0x178)](_0x1ae0bd[_0x3010e3(0x1bf)],_0x1ae0bd['RDrSw'],_0x1ae0bd[_0x3010e3(0x1f4)]);const _0x501d16={};_0x501d16[_0x3010e3(0x1be)]=_0x1ae0bd['YMKlK'];const _0x327e92={};_0x327e92[_0x3010e3(0x1be)]=_0x1ae0bd[_0x3010e3(0x1c5)];const _0x417362={};_0x417362[_0x3010e3(0x1be)]=_0x1ae0bd[_0x3010e3(0x1ac)],_0x3d10c1['Resources'][_0x3010e3(0x1b4)][_0x3010e3(0x187)][_0x3010e3(0x15a)]=[_0x501d16,_0x327e92,_0x417362];const _0x2a8270={};_0x2a8270[_0x3010e3(0x1be)]=_0x1ae0bd[_0x3010e3(0x20a)];const _0xeb4f59={};_0xeb4f59['Ref']=_0x1ae0bd[_0x3010e3(0x1c5)];const _0x4704a8={};_0x4704a8[_0x3010e3(0x1be)]=_0x1ae0bd[_0x3010e3(0x1ac)],_0x3d10c1[_0x3010e3(0x1bb)]['NodeGroupWindows']['Properties'][_0x3010e3(0x15a)]=[_0x2a8270,_0xeb4f59,_0x4704a8],_0x3d10c1[_0x3010e3(0x1ed)][_0x3010e3(0x1f8)][_0x3010e3(0x1bc)][_0x1ae0bd[_0x3010e3(0x1f1)]][0x1]=[{'Ref':_0x1ae0bd[_0x3010e3(0x20a)]},{'Ref':_0x1ae0bd['NlFSY']},{'Ref':_0x1ae0bd[_0x3010e3(0x1ac)]}];}else _0x10ce5b[_0x4b8f54[_0x3010e3(0x18d)]]=_0x170ecc[_0x3010e3(0x1bc)];}},addTags=async(_0x773cb7,_0x276d9a,_0x4766de)=>{const _0x2f854a=a27_0x5749bc,_0x4ff662={'NMQNK':'VPC','jJpQe':'2|5|1|3|0|4','mrQxg':_0x2f854a(0x207),'SyeOd':function(_0x106698,_0x2d904c){return _0x106698(_0x2d904c);},'DxeFK':function(_0x288833,_0x36bd05){return _0x288833(_0x36bd05);},'MpszY':function(_0x4fcbcf,_0x41f696){return _0x4fcbcf(_0x41f696);},'edfSZ':_0x2f854a(0x1ff),'QgLkL':function(_0x33eb3d,_0x31dcc2){return _0x33eb3d!==_0x31dcc2;},'WnlEN':'rbVEc','tDGzW':function(_0x41aa3d,_0x5d067a){return _0x41aa3d===_0x5d067a;},'fcFlz':_0x2f854a(0x184),'BDShn':'bxsTA','peDqA':_0x2f854a(0x17d),'RaRqW':_0x2f854a(0x1b4),'zIfJi':_0x2f854a(0x1af)};for(const _0x167a9f in _0x773cb7['Resources']){if(_0x4ff662[_0x2f854a(0x19b)](_0x4ff662[_0x2f854a(0x1d3)],_0x4ff662[_0x2f854a(0x1d3)])){if(_0x773cb7[_0x2f854a(0x1bb)][_0x167a9f][_0x2f854a(0x187)]&&_0x773cb7[_0x2f854a(0x1bb)][_0x167a9f][_0x2f854a(0x187)]['Tags']){if(_0x4ff662[_0x2f854a(0x19b)](_0x4ff662[_0x2f854a(0x1e5)],_0x4ff662[_0x2f854a(0x1b0)])){const _0xcff211={};_0xcff211[_0x2f854a(0x1e9)]=_0x4ff662[_0x2f854a(0x170)],_0xcff211[_0x2f854a(0x1ef)]=_0x91f313,_0x2119c6['Parameters'][_0x2f854a(0x178)](_0xcff211);}else _0x773cb7[_0x2f854a(0x1bb)][_0x167a9f][_0x2f854a(0x187)]['Tags'][_0x2f854a(0x178)](..._0x4766de);}}else{const _0x5c41be=_0x4ff662[_0x2f854a(0x180)][_0x2f854a(0x1bd)]('|');let _0x34a071=0x0;while(!![]){switch(_0x5c41be[_0x34a071++]){case'0':_0x421983[_0x2f854a(0x1ed)][_0x2f854a(0x1f8)][_0x2f854a(0x1bc)][_0x4ff662['mrQxg']][0x1][_0x2f854a(0x178)]({'Ref':'Subnet'+_0x4ff662[_0x2f854a(0x1ab)](_0x4b8ae7,_0x238980)[_0x2f854a(0x1c2)](0x2,'0')});continue;case'1':_0x46a5d0['Resources'][_0x2f854a(0x1b4)][_0x2f854a(0x187)][_0x2f854a(0x15a)][_0x2f854a(0x178)]({'Ref':_0x2f854a(0x1e8)+_0x4ff662[_0x2f854a(0x1ab)](_0x306b93,_0x4dd885)[_0x2f854a(0x1c2)](0x2,'0')});continue;case'2':_0x212e3d[_0x2f854a(0x1bb)][_0x2f854a(0x1e4)][_0x2f854a(0x187)][_0x2f854a(0x175)]['SubnetIds'][_0x2f854a(0x178)]({'Ref':_0x2f854a(0x1e8)+_0x4ff662['DxeFK'](_0xa926e9,_0x406e0e)[_0x2f854a(0x1c2)](0x2,'0')});continue;case'3':_0x21a080['Resources'][_0x2f854a(0x1af)][_0x2f854a(0x187)][_0x2f854a(0x15a)][_0x2f854a(0x178)]({'Ref':_0x2f854a(0x1e8)+_0x4ff662[_0x2f854a(0x1ec)](_0x2b01b1,_0x5f34f1)[_0x2f854a(0x1c2)](0x2,'0')});continue;case'4':_0x149873+=0x1;continue;case'5':_0x1dee9c[_0x2f854a(0x1fd)][_0x4ff662['edfSZ']][_0x2f854a(0x176)][0x0][_0x2f854a(0x1fc)]['push'](_0x2f854a(0x1e8)+_0x4ff662[_0x2f854a(0x157)](_0x115df8,_0x3f0136)['padStart'](0x2,'0'));continue;}break;}}}const _0x98adb2={};_0x4766de[_0x2f854a(0x20b)](_0x3dcf1f=>{const _0x14b11c=_0x2f854a;_0x4ff662['QgLkL'](_0x4ff662['WnlEN'],_0x4ff662['WnlEN'])?_0x49aece[_0x14b11c(0x1fb)](_0x4d3262)['forEach'](_0x5b923c=>{const _0x2f6e81=_0x14b11c;var _0x4535b5=_0x4f8149[_0x5b923c];_0x365848[_0x2f6e81(0x1fb)](_0x4535b5)[_0x2f6e81(0x20b)](_0x166787=>{_0x47eed1[_0x5b923c][_0x166787]=_0x4535b5[_0x166787];});}):_0x98adb2[_0x3dcf1f[_0x14b11c(0x18d)]]=_0x3dcf1f['Value'];}),_0x773cb7[_0x2f854a(0x1bb)][_0x4ff662[_0x2f854a(0x202)]][_0x2f854a(0x187)][_0x2f854a(0x185)]=_0x98adb2,_0x773cb7[_0x2f854a(0x1bb)][_0x4ff662[_0x2f854a(0x1c6)]][_0x2f854a(0x187)][_0x2f854a(0x185)]=_0x98adb2;};exports['createClusterStack']=async(_0xe84134,_0x463f81,_0x4921bc,_0x98c814=null,_0x6eef45=null)=>{const _0x16ae1c=a27_0x5749bc,_0x50555e={'yKMdL':function(_0xac1d58,_0x15a83f){return _0xac1d58(_0x15a83f);},'bRzdl':function(_0x39711d,_0x5b5cd8){return _0x39711d(_0x5b5cd8);},'ANHWc':_0x16ae1c(0x166),'HhIoy':_0x16ae1c(0x1cd),'Nuuno':'2010-05-15','bXMEJ':_0x16ae1c(0x1a4),'vEcHy':'aws-eks-cluster-dep.yaml','fznGU':'utf-8','ejqec':function(_0x3dbbe9,_0x1d310c,_0x44586a){return _0x3dbbe9(_0x1d310c,_0x44586a);},'qYosF':function(_0x228b90,_0x14e2ef){return _0x228b90(_0x14e2ef);},'AWLYb':function(_0x1b09ba,_0x4a9a6d,_0x2b0c74,_0x22ce47){return _0x1b09ba(_0x4a9a6d,_0x2b0c74,_0x22ce47);},'Dimtn':_0x16ae1c(0x197),'QlClS':'ClusterName','pAUGS':_0x16ae1c(0x1c9),'WXyyx':'NodeAutoScalingGroupMinSize','ZiHru':_0x16ae1c(0x1c8),'brmSY':_0x16ae1c(0x1e2),'sfJoo':_0x16ae1c(0x1ce),'Gzlfr':'NodeImageId','FQMlH':_0x16ae1c(0x18f),'nJROI':_0x16ae1c(0x20c),'CpSVp':'NodeGroupNameWindows','ylkHF':_0x16ae1c(0x169),'QNVXt':function(_0x5c76b9,_0x49be17){return _0x5c76b9!=_0x49be17;},'ECuBr':function(_0x47bb32,_0x3ca82b){return _0x47bb32!==_0x3ca82b;},'gkQKL':function(_0x2337a9,_0x1ccee8){return _0x2337a9===_0x1ccee8;},'gzBva':_0x16ae1c(0x1b6),'lcrjD':_0x16ae1c(0x1cc),'cERbC':function(_0x191586,_0x386f29){return _0x191586!=_0x386f29;},'CfYmQ':_0x16ae1c(0x1f6),'otecg':_0x16ae1c(0x182)},_0x5acbfe=COMMON_HST_TAGS,_0x2ed02c={};_0x2ed02c['Key']=_0x50555e[_0x16ae1c(0x16a)],_0x2ed02c[_0x16ae1c(0x1bc)]=_0xe84134,_0x5acbfe[_0x16ae1c(0x178)](_0x2ed02c),_0x5acbfe[_0x16ae1c(0x178)]({'Key':_0x50555e[_0x16ae1c(0x17b)],'Value':new Date()[_0x16ae1c(0x1dc)]()[_0x16ae1c(0x1ba)]()});const _0x20221b={};_0x20221b[_0x16ae1c(0x16d)]=_0x50555e[_0x16ae1c(0x165)];const _0x50f5ad=new AWS[(_0x16ae1c(0x190))](_0x20221b),_0x5b581c=await fs['readFileAsync'](path[_0x16ae1c(0x1cb)](__dirname,'..',_0x50555e[_0x16ae1c(0x1f9)],_0x50555e[_0x16ae1c(0x1a6)]),_0x50555e['fznGU']),_0x1f23af={};_0x1f23af[_0x16ae1c(0x1b9)]=CLOUDFORMATION_SCHEMA;const _0x20bd53=yaml['load'](_0x5b581c,_0x1f23af);await _0x50555e[_0x16ae1c(0x161)](addVPCData,_0x20bd53,_0x98c814),await _0x50555e[_0x16ae1c(0x1ee)](addS3Data,_0x20bd53),await _0x50555e[_0x16ae1c(0x161)](addSubnetData,_0x20bd53,_0x6eef45),await _0x50555e[_0x16ae1c(0x1c3)](addTags,_0x20bd53,_0xe84134,_0x5acbfe);const _0x5b360a=JSON['stringify'](_0x20bd53),_0x16fa57={};_0x16fa57['StackName']=CLUSTER_DEP_STACK_NAME+'-'+_0xe84134,_0x16fa57[_0x16ae1c(0x1a8)]=_0x50555e[_0x16ae1c(0x1f3)],_0x16fa57['TemplateBody']=_0x5b360a,_0x16fa57['Parameters']=[{'ParameterKey':_0x50555e[_0x16ae1c(0x195)],'ParameterValue':_0xe84134},{'ParameterKey':_0x50555e['pAUGS'],'ParameterValue':_0xe84134+'-NodeGroup'},{'ParameterKey':_0x50555e[_0x16ae1c(0x196)],'ParameterValue':''+_0x463f81},{'ParameterKey':_0x50555e[_0x16ae1c(0x1b3)],'ParameterValue':'0'},{'ParameterKey':_0x50555e[_0x16ae1c(0x192)],'ParameterValue':'1'},{'ParameterKey':_0x50555e[_0x16ae1c(0x1f7)],'ParameterValue':''+_0x4921bc},{'ParameterKey':_0x50555e[_0x16ae1c(0x1a2)],'ParameterValue':global_registry[_0x16ae1c(0x16b)]},{'ParameterKey':_0x50555e['FQMlH'],'ParameterValue':global_registry[_0x16ae1c(0x171)]},{'ParameterKey':_0x50555e[_0x16ae1c(0x1d0)],'ParameterValue':global_registry[_0x16ae1c(0x1c7)]},{'ParameterKey':_0x50555e['CpSVp'],'ParameterValue':_0xe84134+_0x16ae1c(0x1a0)}],_0x16fa57[_0x16ae1c(0x19a)]=[_0x50555e[_0x16ae1c(0x15d)]],_0x16fa57[_0x16ae1c(0x185)]=_0x5acbfe;const _0x1af4e5=_0x16fa57;if(_0x50555e[_0x16ae1c(0x17a)](_0x98c814,null)&&_0x50555e[_0x16ae1c(0x1ae)](_0x98c814,undefined)){if(_0x50555e['gkQKL'](_0x50555e[_0x16ae1c(0x189)],_0x50555e[_0x16ae1c(0x189)])){const _0x2919eb={};_0x2919eb['ParameterKey']=_0x50555e[_0x16ae1c(0x186)],_0x2919eb['ParameterValue']=_0x98c814,_0x1af4e5[_0x16ae1c(0x1fc)]['push'](_0x2919eb);}else _0x10b90b[_0x16ae1c(0x1fc)][_0x16ae1c(0x178)]({'ParameterKey':_0x16ae1c(0x1e8)+_0x50555e[_0x16ae1c(0x19c)](_0x5f4690,_0x555756)[_0x16ae1c(0x1c2)](0x2,'0'),'ParameterValue':_0x449f0c[_0x16ae1c(0x16f)]}),_0x4d5662+=0x1;}if(_0x50555e[_0x16ae1c(0x1c1)](_0x6eef45,null)&&_0x50555e[_0x16ae1c(0x1ae)](_0x6eef45,undefined)){let _0x246901=0x1;_0x6eef45[_0x16ae1c(0x20b)](_0x4ba101=>{const _0x2d1cb8=_0x16ae1c;_0x1af4e5[_0x2d1cb8(0x1fc)][_0x2d1cb8(0x178)]({'ParameterKey':_0x2d1cb8(0x1e8)+_0x50555e[_0x2d1cb8(0x194)](String,_0x246901)[_0x2d1cb8(0x1c2)](0x2,'0'),'ParameterValue':_0x4ba101[_0x2d1cb8(0x16f)]}),_0x246901+=0x1;});}const _0x402cd3=await _0x50f5ad[_0x16ae1c(0x15f)](_0x1af4e5)[_0x16ae1c(0x1cf)]();logger[_0x16ae1c(0x1ca)](_0x50555e[_0x16ae1c(0x158)]);const _0x204e7c={};return _0x204e7c[_0x16ae1c(0x1ea)]=_0x402cd3['StackId'],_0x50f5ad[_0x16ae1c(0x1b7)](_0x50555e[_0x16ae1c(0x168)],_0x204e7c)[_0x16ae1c(0x1cf)]();};